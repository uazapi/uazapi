const a0_0x18a40e=a0_0x26bc;(function(_0x1c74ac,_0x1e1dae){const _0x2bd413=a0_0x26bc,_0x5030ee=_0x1c74ac();while(!![]){try{const _0xe03785=parseInt(_0x2bd413(0x32c))/0x1*(-parseInt(_0x2bd413(0x2ab))/0x2)+-parseInt(_0x2bd413(0x5f1))/0x3+-parseInt(_0x2bd413(0x72b))/0x4*(parseInt(_0x2bd413(0x3fb))/0x5)+parseInt(_0x2bd413(0x471))/0x6*(parseInt(_0x2bd413(0x674))/0x7)+-parseInt(_0x2bd413(0x229))/0x8+parseInt(_0x2bd413(0x4bf))/0x9*(parseInt(_0x2bd413(0x55a))/0xa)+parseInt(_0x2bd413(0x5f5))/0xb;if(_0xe03785===_0x1e1dae)break;else _0x5030ee['push'](_0x5030ee['shift']());}catch(_0x554044){_0x5030ee['push'](_0x5030ee['shift']());}}}(a0_0x4901,0x80776));var Dr=Object['create'],Ie=Object[a0_0x18a40e(0x784)],_r=Object[a0_0x18a40e(0x2f8)],Pr=Object[a0_0x18a40e(0x56b)],$r=Object[a0_0x18a40e(0x665)],kr=Object[a0_0x18a40e(0x656)][a0_0x18a40e(0x410)],Lr=(_0x4f79fc,_0x10e882)=>{for(var _0x2ba1f2 in _0x10e882)Ie(_0x4f79fc,_0x2ba1f2,{'get':_0x10e882[_0x2ba1f2],'enumerable':!0x0});},Ds=(_0x506303,_0x14e377,_0x18ecab,_0x299f35)=>{const _0x15b389=a0_0x18a40e;if(_0x14e377&&typeof _0x14e377==_0x15b389(0x3c8)||typeof _0x14e377==_0x15b389(0x43b)){for(let _0x59e3ab of Pr(_0x14e377))!kr['call'](_0x506303,_0x59e3ab)&&_0x59e3ab!==_0x18ecab&&Ie(_0x506303,_0x59e3ab,{'get':()=>_0x14e377[_0x59e3ab],'enumerable':!(_0x299f35=_r(_0x14e377,_0x59e3ab))||_0x299f35[_0x15b389(0x355)]});}return _0x506303;},R=(_0x351c6a,_0xa2fb5d,_0x1439d9)=>(_0x1439d9=_0x351c6a!=null?Dr($r(_0x351c6a)):{},Ds(_0xa2fb5d||!_0x351c6a||!_0x351c6a[a0_0x18a40e(0x6a6)]?Ie(_0x1439d9,'default',{'value':_0x351c6a,'enumerable':!0x0}):_0x1439d9,_0x351c6a)),jr=_0x148097=>Ds(Ie({},'__esModule',{'value':!0x0}),_0x148097),zo={};Lr(zo,{'subdomain':()=>Ns}),module[a0_0x18a40e(0x303)]=jr(zo);var Rr=R(require(a0_0x18a40e(0x4a1))),Ps=require('fs'),$s=require('js-yaml'),ks=require(a0_0x18a40e(0x602)),xe=require(a0_0x18a40e(0x602)),ae=process[a0_0x18a40e(0x270)](),he=(0x0,xe[a0_0x18a40e(0x261)])(ae,a0_0x18a40e(0x66b)),_s=(0x0,xe[a0_0x18a40e(0x261)])(ae,a0_0x18a40e(0x7fb)),Ui=(0x0,xe[a0_0x18a40e(0x261)])(ae,a0_0x18a40e(0x6a4),'auth'),Xt=class{constructor(){this['loadEnv']();}[a0_0x18a40e(0x805)](_0x3c300b){const _0x317568=a0_0x18a40e;return this[_0x317568(0x41a)][_0x3c300b];}[a0_0x18a40e(0x7ac)](){const _0x4401d5=a0_0x18a40e;this[_0x4401d5(0x41a)]=process[_0x4401d5(0x41a)]?.[_0x4401d5(0x3cd)]!==_0x4401d5(0x715)?this['envYaml']():this[_0x4401d5(0x228)](),process[_0x4401d5(0x41a)]?.[_0x4401d5(0x3cd)]===_0x4401d5(0x715)&&(this[_0x4401d5(0x41a)][_0x4401d5(0x5a0)][_0x4401d5(0x655)]='http',this['env']['SERVER'][_0x4401d5(0x216)]=Number['parseInt'](process[_0x4401d5(0x41a)]?.[_0x4401d5(0x82f)]??_0x4401d5(0x47d)));}[a0_0x18a40e(0x44f)](){const _0x4e49fa=a0_0x18a40e;return(0x0,$s[_0x4e49fa(0x1fa)])((0x0,Ps[_0x4e49fa(0x684)])((0x0,ks[_0x4e49fa(0x261)])(_s,_0x4e49fa(0x506)),{'encoding':_0x4e49fa(0x4cf)}));}['envProcess'](){const _0x186cc2=a0_0x18a40e;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x186cc2(0x757)](process[_0x186cc2(0x41a)][_0x186cc2(0x82f)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x186cc2(0x41a)][_0x186cc2(0x341)][_0x186cc2(0x432)](','),'METHODS':process[_0x186cc2(0x41a)]['CORS_METHODS'][_0x186cc2(0x432)](','),'CREDENTIALS':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x375)]===_0x186cc2(0x715)},'SSL_CONF':{'PRIVKEY':process['env']?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x296)]},'STORE':{'CLEANING_INTERVAL':Number[_0x186cc2(0x5ca)](process['env']?.[_0x186cc2(0x430)])?Number[_0x186cc2(0x757)](process[_0x186cc2(0x41a)][_0x186cc2(0x430)]):void 0x0,'MESSAGES':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x2be)]===_0x186cc2(0x715),'CONTACTS':process['env']?.[_0x186cc2(0x5bc)]===_0x186cc2(0x715),'CHATS':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x496)]===_0x186cc2(0x715)},'DATABASE':{'CONNECTION':{'HOST':process[_0x186cc2(0x41a)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x186cc2(0x757)](process[_0x186cc2(0x41a)]?.[_0x186cc2(0x5e6)]),'USER':process[_0x186cc2(0x41a)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x186cc2(0x41a)][_0x186cc2(0x705)],'URI':process[_0x186cc2(0x41a)][_0x186cc2(0x673)],'DB_PREFIX_NAME':process[_0x186cc2(0x41a)][_0x186cc2(0x713)]},'ENABLED':process['env']?.[_0x186cc2(0x291)]===_0x186cc2(0x715)},'REDIS':{'ENABLED':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x615)]===_0x186cc2(0x715),'URI':process[_0x186cc2(0x41a)][_0x186cc2(0x75e)]||_0x186cc2(0x768),'PREFIX_KEY':process[_0x186cc2(0x41a)][_0x186cc2(0x223)]||_0x186cc2(0x1de)},'LOG':{'LEVEL':process[_0x186cc2(0x41a)]?.['LOG_LEVEL'][_0x186cc2(0x432)](','),'COLOR':process['env']?.[_0x186cc2(0x40f)]===_0x186cc2(0x715)},'PROXY':process[_0x186cc2(0x41a)]?.[_0x186cc2(0x46a)]===_0x186cc2(0x715),'AUTHENTICATION':{'TYPE':process['env'][_0x186cc2(0x4d7)],'API_KEY':{'KEY':process[_0x186cc2(0x41a)][_0x186cc2(0x3ac)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x186cc2(0x41a)]?.[_0x186cc2(0x37a)])?Number[_0x186cc2(0x757)](process[_0x186cc2(0x41a)][_0x186cc2(0x37a)]):0xe10,'SECRET':process[_0x186cc2(0x41a)][_0x186cc2(0x43f)]}}};}},b=new Xt(),Tr=R(require(a0_0x18a40e(0x464))),pe=R(require('express')),Is=require(a0_0x18a40e(0x602)),Zt=R(require(a0_0x18a40e(0x55e))),es=(_0x5364fd=>(_0x5364fd[a0_0x18a40e(0x797)]=a0_0x18a40e(0x29c),_0x5364fd[a0_0x18a40e(0x44d)]='\x1b[34m',_0x5364fd[a0_0x18a40e(0x796)]='\x1b[33m',_0x5364fd['ERROR']='\x1b[31m',_0x5364fd['DEBUG']=a0_0x18a40e(0x3b5),_0x5364fd[a0_0x18a40e(0x2ce)]=a0_0x18a40e(0x7a1),_0x5364fd[a0_0x18a40e(0x391)]='\x1b[30m',_0x5364fd))(es||{}),Ls=(_0x4777aa=>(_0x4777aa[a0_0x18a40e(0x797)]=a0_0x18a40e(0x2fc),_0x4777aa[a0_0x18a40e(0x391)]=a0_0x18a40e(0x753),_0x4777aa[a0_0x18a40e(0x44d)]=a0_0x18a40e(0x368),_0x4777aa[a0_0x18a40e(0x796)]=a0_0x18a40e(0x65d),_0x4777aa[a0_0x18a40e(0x7ab)]=a0_0x18a40e(0x621),_0x4777aa['DEBUG']=a0_0x18a40e(0x416),_0x4777aa[a0_0x18a40e(0x2ce)]=a0_0x18a40e(0x545),_0x4777aa))(Ls||{}),js=(_0x323267=>(_0x323267[a0_0x18a40e(0x797)]=a0_0x18a40e(0x797),_0x323267[a0_0x18a40e(0x796)]='WARN',_0x323267['INFO']=a0_0x18a40e(0x44d),_0x323267[a0_0x18a40e(0x391)]='DARK',_0x323267['ERROR']=a0_0x18a40e(0x7ab),_0x323267[a0_0x18a40e(0x6ea)]='DEBUG',_0x323267[a0_0x18a40e(0x2ce)]='VERBOSE',_0x323267))(js||{}),Fs=(_0x3119fe=>(_0x3119fe[a0_0x18a40e(0x797)]=a0_0x18a40e(0x5e0),_0x3119fe[a0_0x18a40e(0x44d)]=a0_0x18a40e(0x6c6),_0x3119fe[a0_0x18a40e(0x796)]=a0_0x18a40e(0x6c8),_0x3119fe[a0_0x18a40e(0x391)]=a0_0x18a40e(0x40c),_0x3119fe[a0_0x18a40e(0x7ab)]=a0_0x18a40e(0x529),_0x3119fe[a0_0x18a40e(0x6ea)]='\x1b[46m',_0x3119fe[a0_0x18a40e(0x2ce)]=a0_0x18a40e(0x1a2),_0x3119fe))(Fs||{}),v=class{constructor(_0x534a48=a0_0x18a40e(0x2f5)){const _0x3c3b82=a0_0x18a40e;this['context']=_0x534a48,this[_0x3c3b82(0x3da)]=b;}['setContext'](_0x275876){const _0x335df9=a0_0x18a40e;this[_0x335df9(0x468)]=_0x275876;}[a0_0x18a40e(0x495)](_0x350149,_0x95da42){const _0x444f12=a0_0x18a40e;let _0x9561e3=[];this[_0x444f12(0x3da)][_0x444f12(0x805)](_0x444f12(0x797))[_0x444f12(0x3ea)][_0x444f12(0x45f)](_0x396664=>_0x9561e3[_0x444f12(0x78b)](js[_0x396664]));let _0x425021=typeof _0x350149;_0x9561e3[_0x444f12(0x3a7)](_0x95da42)&&(b[_0x444f12(0x805)](_0x444f12(0x797))[_0x444f12(0x4ef)]?(console['log'](_0x444f12(0x20f)+Ls[_0x95da42],_0x444f12(0x2ed),(0x0,Zt['default'])()[_0x444f12(0x4ee)](_0x444f12(0x1a3)),_0x444f12(0x7a5),es[_0x95da42]+Fs[_0x95da42]+_0x444f12(0x20f),_0x95da42+_0x444f12(0x7d3),_0x444f12(0x78e),this[_0x444f12(0x468)]+_0x444f12(0x7a5),es[_0x95da42],_0x425021!==_0x444f12(0x3c8)?_0x350149:'',_0x444f12(0x7a5)),_0x425021==='object'&&console[_0x444f12(0x737)](_0x350149,'\x0a')):console[_0x444f12(0x737)]((0x0,Zt[_0x444f12(0x41b)])()[_0x444f12(0x4ee)]('HH:mm:ss'),_0x95da42+'\x20',''+this[_0x444f12(0x468)],_0x350149));}[a0_0x18a40e(0x737)](_0x2cca57){const _0x43e72c=a0_0x18a40e;this[_0x43e72c(0x495)](_0x2cca57,_0x43e72c(0x797));}[a0_0x18a40e(0x79f)](_0x42a9aa){const _0x4116dd=a0_0x18a40e;this[_0x4116dd(0x495)](_0x42a9aa,_0x4116dd(0x44d));}[a0_0x18a40e(0x3e1)](_0x43f420){const _0x48ecd9=a0_0x18a40e;this[_0x48ecd9(0x495)](_0x43f420,_0x48ecd9(0x796));}['error'](_0xfe8903){const _0xa2e6e2=a0_0x18a40e;this['console'](_0xfe8903,_0xa2e6e2(0x7ab));}['verbose'](_0x483ce9){const _0x3773d5=a0_0x18a40e;this[_0x3773d5(0x495)](_0x483ce9,_0x3773d5(0x2ce));}[a0_0x18a40e(0x712)](_0x17700f){const _0xd9f871=a0_0x18a40e;this['console'](_0x17700f,_0xd9f871(0x6ea));}['dark'](_0x22e81f){const _0x31e949=a0_0x18a40e;this[_0x31e949(0x495)](_0x22e81f,'DARK');}};function qs(){const _0x4d0439=a0_0x18a40e;process['on'](_0x4d0439(0x3c6),(_0xd764d4,_0x59e7b1)=>{const _0x2da8c7=_0x4d0439;new v(_0x2da8c7(0x3c6))[_0x2da8c7(0x62b)]({'origin':_0x59e7b1,'stderr':process['stderr']['fd'],'error':_0xd764d4});}),process['on'](_0x4d0439(0x522),(_0x4a3e4e,_0x40c379)=>{const _0x349ece=_0x4d0439;new v(_0x349ece(0x522))['error']({'origin':_0x40c379,'stderr':process[_0x349ece(0x826)]['fd'],'error':_0x4a3e4e});});}var Us=R(require(a0_0x18a40e(0x67f))),ts=new Us[(a0_0x18a40e(0x41b))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x18a40e(0x579)),ss=R(require(a0_0x18a40e(0x579))),Fr=new v(a0_0x18a40e(0x1dc)),V=b[a0_0x18a40e(0x805)]('DATABASE'),N=V[a0_0x18a40e(0x3e8)]?V['CONNECTION']['URI']?ss['default'][a0_0x18a40e(0x25f)](V[a0_0x18a40e(0x580)][a0_0x18a40e(0x5fe)],{'dbName':V['CONNECTION'][a0_0x18a40e(0x6c0)]+'-whatsapp-api'}):ss['default'][a0_0x18a40e(0x25f)](a0_0x18a40e(0x685)+V[a0_0x18a40e(0x580)]['HOST']+':'+V['CONNECTION'][a0_0x18a40e(0x216)]+a0_0x18a40e(0x4c7),{'user':V[a0_0x18a40e(0x580)][a0_0x18a40e(0x59f)],'pass':V['CONNECTION'][a0_0x18a40e(0x2fb)],'dbName':V[a0_0x18a40e(0x580)][a0_0x18a40e(0x6c0)]+a0_0x18a40e(0x3b7)}):null;V[a0_0x18a40e(0x3e8)]&&Fr[a0_0x18a40e(0x79f)](a0_0x18a40e(0x716)+N[a0_0x18a40e(0x1ba)]);var qr=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ur=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new De[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0x1d7a97=>{const _0x569f16=a0_0x18a40e;let _0x478852='z_'+_0x1d7a97+_0x569f16(0x6c4);return N?.[_0x569f16(0x318)](_0x569f16(0x38d),Jr,_0x478852);},Vs=require(a0_0x18a40e(0x579)),Vr=new Vs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Bs=_0x2be300=>{const _0x559bea=a0_0x18a40e;let _0x4da3a3='z_'+_0x2be300+_0x559bea(0x7ba);return N?.[_0x559bea(0x318)](_0x559bea(0x3a8),Vr,_0x4da3a3);},Gs=require(a0_0x18a40e(0x579)),Br=new Gs[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ws=_0x37c78a=>{const _0x3013bc=a0_0x18a40e;let _0x55d0a3='z_'+_0x37c78a+_0x3013bc(0x2f3);return N?.['model']('MessageModel',Br,_0x55d0a3);},zs=require('mongoose'),as=class{},Gr=new zs[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Hs=N?.[a0_0x18a40e(0x318)](as['name'],Gr,a0_0x18a40e(0x6d5)),Ks=require(a0_0x18a40e(0x579)),rs=class{},Qs=new Ks['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Qs[a0_0x18a40e(0x22d)](a0_0x18a40e(0x3c3),function(_0x146f6f){const _0x3a7163=a0_0x18a40e;delete this[_0x3a7163(0x4a5)],delete this[_0x3a7163(0x4cd)],delete this['flowPrefixCommand'],delete this[_0x3a7163(0x709)],delete this['flowStopMinutes'],_0x146f6f();});var Ys=N?.[a0_0x18a40e(0x318)](rs[a0_0x18a40e(0x317)],Qs,'webhook'),_=require(a0_0x18a40e(0x579)),_e=class{},Xs=new _[(a0_0x18a40e(0x33d))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new _[(a0_0x18a40e(0x33d))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x18a40e(0x77a)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x18a40e(0x21e)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x18a40e(0x6db)},'pollErrorMessage':{'type':String,'default':a0_0x18a40e(0x5cc)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new _[(a0_0x18a40e(0x33d))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new _[(a0_0x18a40e(0x33d))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ea=new _[(a0_0x18a40e(0x33d))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),us=new _[(a0_0x18a40e(0x33d))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ta=new _[(a0_0x18a40e(0x33d))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),is=class{},ds=new _[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x194d48=a0_0x18a40e;return _0x194d48(0x49b)+Math['random']()['toString'](0x24)[_0x194d48(0x42a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[us],'variablesNotFound':{'type':[String]},'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]}});ds[a0_0x18a40e(0x22d)](a0_0x18a40e(0x3c3),function(_0x1da001){const _0x3673f3=a0_0x18a40e;let _0xd41d04=new Set(),_0x3c6290=new Set(this[_0x3673f3(0x6ab)]?.[_0x3673f3(0x783)](_0x19c313=>_0x19c313[_0x3673f3(0x317)])),_0x2a8924=JSON[_0x3673f3(0x613)](this),_0x2aa8e2=/{{(?!_)([^}]*)}}/g,_0x24b1f6;for(;(_0x24b1f6=_0x2aa8e2[_0x3673f3(0x667)](_0x2a8924))!==null;)_0x3c6290['has'](_0x24b1f6[0x1])||_0xd41d04[_0x3673f3(0x802)](_0x24b1f6[0x1]);_0xd41d04['size']>0x0?(console[_0x3673f3(0x3e1)](_0x3673f3(0x3c9),Array[_0x3673f3(0x781)](_0xd41d04)),this[_0x3673f3(0x780)]=Array[_0x3673f3(0x781)](_0xd41d04)):this[_0x3673f3(0x780)]=[],_0x1da001();});var sa=_0x2a53a6=>{const _0x36b01e=a0_0x18a40e;let _0x54eeeb='z_'+_0x2a53a6+_0x36b01e(0x3c5);return N?.[_0x36b01e(0x318)](_0x36b01e(0x23a),ds,_0x54eeeb);},aa=N?.[a0_0x18a40e(0x318)](is['name'],ds,a0_0x18a40e(0x5c5)),Kr=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[us],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),ns=class{},ra=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[us],'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x18a40e(0x2de)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x18a40e(0x6db)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x5ae19c=>{const _0x192719=a0_0x18a40e;let _0xf972d3='z_'+_0x5ae19c+_0x192719(0x1b7);return N?.['model']('ConversationModel',ra,_0xf972d3);},ia=N?.[a0_0x18a40e(0x318)](ns[a0_0x18a40e(0x317)],ra,'flowConversation'),cs=class{},Qr=new _[(a0_0x18a40e(0x33d))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new _[(a0_0x18a40e(0x33d))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),na=new _[(a0_0x18a40e(0x33d))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x18a40e(0x6e6)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ca=_0x252d5c=>{const _0x3387a7=a0_0x18a40e;let _0x27fe9f='z_'+_0x252d5c+_0x3387a7(0x558);return N?.['model']('ScheduleMessageModel',na,_0x27fe9f);},la=N?.['model'](cs[a0_0x18a40e(0x317)],na,a0_0x18a40e(0x4f3)),ls=class{},Xr=new _[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new _[(a0_0x18a40e(0x33d))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x18a40e(0x329)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.[a0_0x18a40e(0x318)](ls[a0_0x18a40e(0x317)],to,a0_0x18a40e(0x5a1)),ua=require(a0_0x18a40e(0x579)),so=new ua[(a0_0x18a40e(0x33d))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),da=_0x2d5fb3=>{const _0x1f525c=a0_0x18a40e;let _0x2c02f4='z_'+_0x2d5fb3+'_Labels';return N?.[_0x1f525c(0x318)]('LabelModel',so,_0x2c02f4);},I=class{constructor(_0x47f63c){const _0x3f124b=a0_0x18a40e;this['dbSettings']=_0x47f63c[_0x3f124b(0x805)](_0x3f124b(0x6f4));}};function A(_0x4b9f9d){const _0x4cea50=a0_0x18a40e;let _0x310281={};for(let [_0x1c3969,_0x3c0b54]of Object[_0x4cea50(0x6e7)](_0x4b9f9d))if(typeof _0x3c0b54=='object'&&!Array[_0x4cea50(0x213)](_0x3c0b54)){for(let [_0x4ba85b,_0x3b2a1b]of Object['entries'](_0x3c0b54))_0x310281[_0x1c3969+'.'+_0x4ba85b]=_0x3b2a1b;}else _0x310281[_0x1c3969]=_0x3c0b54;return _0x310281;}var $e=class{constructor(_0x401e8b,_0xeb6f5,_0x528730,_0x3e1cef,_0xb39528,_0x45cb30,_0x456c37,_0x1c8526,_0x565200,_0x512784,_0x2f1a61){const _0x378ea0=a0_0x18a40e;this[_0x378ea0(0x50c)]=_0x401e8b,this[_0x378ea0(0x60e)]=_0xeb6f5,this[_0x378ea0(0x60d)]=_0x528730,this[_0x378ea0(0x7bf)]=_0x3e1cef,this[_0x378ea0(0x7c0)]=_0xb39528,this['flow']=_0x45cb30,this[_0x378ea0(0x576)]=_0x456c37,this['label']=_0x1c8526,this[_0x378ea0(0x64b)]=_0x565200,this['automateSystem']=_0x512784,this['dbClient']=_0x2f1a61;}get[a0_0x18a40e(0x547)](){return this['dbClient'];}},ke=class{},Le=class extends I{[a0_0x18a40e(0x214)](_0x577630){return Ws(_0x577630);}async[a0_0x18a40e(0x80f)](_0x380c34,_0x1633a8){const _0xfd198d=a0_0x18a40e;if(_0x380c34[_0xfd198d(0x233)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x1633a8)[_0xfd198d(0x242)]([..._0x380c34]))[_0xfd198d(0x233)]};}catch(_0x1d435f){return _0x1d435f;}}async[a0_0x18a40e(0x437)](_0xb15b6d,_0xa52166){const _0x5c4145=a0_0x18a40e;try{let _0x39e07c=this[_0x5c4145(0x214)](_0xa52166),_0xae1580=A(_0xb15b6d[_0x5c4145(0x53d)]);return await _0x39e07c[_0x5c4145(0x437)](_0xae1580)[_0x5c4145(0x818)]({'messageTimestamp':-0x1})[_0x5c4145(0x1ab)](_0xb15b6d?.[_0x5c4145(0x1ab)]??0x0)['lean']();}catch{return[];}}async[a0_0x18a40e(0x4fe)](_0x5ab9cd,_0x3374c6){const _0x592ce4=a0_0x18a40e;try{let _0x4d3b69=this[_0x592ce4(0x214)](_0x3374c6),_0x1f466b=A(_0x5ab9cd[_0x592ce4(0x53d)]);await _0x4d3b69[_0x592ce4(0x697)](_0x1f466b);}catch(_0x130dbb){console[_0x592ce4(0x62b)](_0x130dbb);}}async[a0_0x18a40e(0x4f5)](_0x356b0b,_0x4c3d19,_0x1dff98){const _0x2b6ed9=a0_0x18a40e;try{let _0x20a799=this[_0x2b6ed9(0x214)](_0x1dff98),_0x31b54b=A(_0x356b0b[_0x2b6ed9(0x53d)]);return await _0x20a799[_0x2b6ed9(0x22e)](_0x31b54b,{'$set':_0x4c3d19},{'new':!0x0});}catch(_0x10842a){throw console[_0x2b6ed9(0x62b)](_0x10842a),_0x10842a;}}async['insertMany'](_0x2df1a5,_0x129b9c){const _0xedc639=a0_0x18a40e;if(_0x2df1a5[_0xedc639(0x233)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xedc639(0x214)](_0x129b9c)[_0xedc639(0x242)]([..._0x2df1a5]))[_0xedc639(0x233)]};}catch(_0x4b7329){return console[_0xedc639(0x737)]('ERROR:\x20',_0x4b7329),_0x4b7329;}}async['deleteAll'](_0x75f157){const _0x54e52f=a0_0x18a40e;try{return await this[_0x54e52f(0x214)](_0x75f157)[_0x54e52f(0x2c0)]['drop'](),{'success':!0x0};}catch(_0x2d93ce){return console[_0x54e52f(0x62b)](_0x2d93ce),{'success':!0x1,'error':_0x2d93ce};}}},mr=R(require(a0_0x18a40e(0x281))),y=R(require(a0_0x18a40e(0x29e))),ve=require('fs'),F=R(require('path')),se=R(require(a0_0x18a40e(0x309))),fr=require(a0_0x18a40e(0x30f)),wr=R(require(a0_0x18a40e(0x25b))),yr=R(require('qrcode-terminal')),pa=[a0_0x18a40e(0x297),a0_0x18a40e(0x2a9),'audioMessage','videoMessage',a0_0x18a40e(0x243)],ga=[a0_0x18a40e(0x510),a0_0x18a40e(0x250),'viewOnceMessage','viewOnceMessageV2'],Es=require('os'),Ot=R(require('pino')),Dt=require(a0_0x18a40e(0x3f6)),It=require(a0_0x18a40e(0x76e)),ie=R(require(a0_0x18a40e(0x579))),k=require(a0_0x18a40e(0x7d8)),me=class{constructor(_0x31bf6f,_0x2f41ab,_0x48d9c3){const _0x43154f=a0_0x18a40e;this[_0x43154f(0x504)]=_0x31bf6f,this[_0x43154f(0x427)]=_0x2f41ab,this[_0x43154f(0x317)]=_0x48d9c3;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x18a40e(0x70c))),ha=require('fs'),ma=require('path');async function We(_0x33077a){const _0x1a85f6=a0_0x18a40e;let _0x4f4423=B[_0x1a85f6(0x1ec)][_0x33077a];if(V[_0x1a85f6(0x3e8)]){let _0x3e22a8=N[_0x1a85f6(0x2fe)]()['db'](V['CONNECTION'][_0x1a85f6(0x6c0)]+'-instances')[_0x1a85f6(0x2c0)](_0x33077a);return _0x4f4423||(await _0x3e22a8[_0x1a85f6(0x437)]({})['toArray']())[_0x1a85f6(0x233)]>0x0;}return _0x4f4423||(0x0,ha['existsSync'])((0x0,ma[_0x1a85f6(0x261)])(he,_0x33077a));}async function fa(_0x1f61df,_0x27994c,_0x197703){const _0x5a5603=a0_0x18a40e;if(_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)](_0x5a5603(0x597))||_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)]('/instance/fetchInstances')||_0x1f61df['originalUrl'][_0x5a5603(0x3a7)](_0x5a5603(0x33c))||_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)](_0x5a5603(0x61d))||_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)](_0x5a5603(0x5c7))||_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)](_0x5a5603(0x654))||_0x1f61df[_0x5a5603(0x7dc)][_0x5a5603(0x3a7)](_0x5a5603(0x567)))return _0x197703();let _0x5a237d=_0x1f61df[_0x5a5603(0x51c)];if(!_0x5a237d?.[_0x5a5603(0x2d7)])throw new m(_0x5a5603(0x21f));if(!await We(_0x5a237d['instanceName']))throw new j(_0x5a5603(0x7a0)+_0x5a237d[_0x5a5603(0x2d7)]+_0x5a5603(0x2d5));_0x197703();}async function wa(_0x8c986a,_0x54365b,_0x4ea2ca){const _0x53606d=a0_0x18a40e;if(_0x8c986a['originalUrl'][_0x53606d(0x3a7)](_0x53606d(0x597))){let _0x5216b9=_0x8c986a['body'];if(await We(_0x5216b9['instanceName']))throw new K(_0x53606d(0x30e)+_0x5216b9['instanceName']+_0x53606d(0x6da));B[_0x53606d(0x1ec)][_0x5216b9[_0x53606d(0x2d7)]]&&delete B[_0x53606d(0x1ec)][_0x5216b9[_0x53606d(0x2d7)]];}_0x4ea2ca();}var ya=require('class-validator'),ba=R(require(a0_0x18a40e(0x484))),ze=a0_0x18a40e(0x1de),ro=new v(a0_0x18a40e(0x44b));async function oo(_0x248855,_0x100d0d,_0x31647e){const _0x2b1aa7=a0_0x18a40e;let _0x2a4400=_0x248855[_0x2b1aa7(0x805)](_0x2b1aa7(0x4b8));if(_0x2a4400&&b[_0x2b1aa7(0x805)]('AUTHENTICATION')['API_KEY']['KEY']!==_0x2a4400)throw new ee();if(b[_0x2b1aa7(0x805)](_0x2b1aa7(0x72a))[_0x2b1aa7(0x323)][_0x2b1aa7(0x425)]===_0x2a4400)return _0x31647e();if((_0x248855[_0x2b1aa7(0x7dc)]['includes'](_0x2b1aa7(0x597))||_0x248855['originalUrl'][_0x2b1aa7(0x3a7)](_0x2b1aa7(0x702)))&&!_0x2a4400)throw new K(_0x2b1aa7(0x424),_0x2b1aa7(0x1c0));let _0x43648f=b[_0x2b1aa7(0x805)](_0x2b1aa7(0x72a))[_0x2b1aa7(0x534)];try{let [_0x296670,_0x41ff2]=_0x248855[_0x2b1aa7(0x805)](_0x2b1aa7(0x489))[_0x2b1aa7(0x432)]('\x20');if(_0x296670['toLowerCase']()!==_0x2b1aa7(0x1b8))throw new ee();if(!(0x0,ya[_0x2b1aa7(0x617)])(_0x41ff2))throw new ee();let _0x1bfe74=_0x248855['params'],_0x68bce=ba[_0x2b1aa7(0x41b)][_0x2b1aa7(0x7cb)](_0x41ff2,_0x43648f[_0x2b1aa7(0x542)],{'ignoreExpiration':_0x43648f[_0x2b1aa7(0x1a0)]===0x0});if(_0x1bfe74[_0x2b1aa7(0x2d7)]!==_0x68bce[_0x2b1aa7(0x2d7)]||ze!==_0x68bce[_0x2b1aa7(0x7ff)])throw new ee();return _0x31647e();}catch(_0x473282){throw ro[_0x2b1aa7(0x62b)](_0x473282),new ee();}}async function io(_0x39ff0f,_0xd42f24,_0x19eb25){const _0x794948=a0_0x18a40e;let _0x372f09=b[_0x794948(0x805)]('AUTHENTICATION')['API_KEY'],_0x524de1=_0x39ff0f[_0x794948(0x805)](_0x794948(0x4b8));if(_0x372f09[_0x794948(0x425)]===_0x524de1)return _0x19eb25();if(_0x39ff0f[_0x794948(0x7dc)]['includes'](_0x794948(0x597))){let _0x428edf=He,_0x2328b5=_0x39ff0f['body'][_0x794948(0x2d7)];if(_0x428edf&&_0x2328b5[_0x794948(0x5c4)]()[_0x794948(0x727)](_0x428edf['toLowerCase']()))return _0x19eb25();if(!_0x524de1)throw new K(_0x794948(0x424),_0x794948(0x1c0));}if(_0x39ff0f[_0x794948(0x7dc)][_0x794948(0x3a7)](_0x794948(0x702))&&!_0x524de1)throw new K(_0x794948(0x424),_0x794948(0x1c0));if(_0x39ff0f[_0x794948(0x7dc)][_0x794948(0x3a7)]('/exit')&&!_0x524de1)throw new K(_0x794948(0x424),_0x794948(0x1c0));if(_0x39ff0f[_0x794948(0x7dc)][_0x794948(0x3a7)](_0x794948(0x61d))&&!_0x524de1)throw new K('Missing\x20global\x20api\x20key',_0x794948(0x1c0));try{let _0x4b567f=_0x39ff0f[_0x794948(0x51c)];if((await ce[_0x794948(0x7c0)]['find'](_0x4b567f[_0x794948(0x2d7)]))[_0x794948(0x4b8)]===_0x524de1)return _0x19eb25();}catch{}throw new ee();}var Sa={'jwt':oo,'apikey':io},er=require('express'),C=require('uuid'),S=(..._0x30f78c)=>{const _0x2cdb4e=a0_0x18a40e;let _0x579cd3={};return _0x30f78c['forEach'](_0x44d040=>_0x579cd3[_0x44d040]={'minLength':0x1,'description':_0x2cdb4e(0x490)+_0x44d040+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x30f78c]}},'then':{'properties':_0x579cd3}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'instanceName':{'type':'string'}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x18a40e(0x578)],...S(a0_0x18a40e(0x578))},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x18a40e(0x74a)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x18a40e(0x65f),a0_0x18a40e(0x6ee)],...S('id',a0_0x18a40e(0x65f))},'message':{'type':a0_0x18a40e(0x3c8)}}},Q={'properties':{'delay':{'type':a0_0x18a40e(0x419),'description':a0_0x18a40e(0x339)},'presence':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x5cf),a0_0x18a40e(0x59e),'composing',a0_0x18a40e(0x480),a0_0x18a40e(0x1ca)]}}},z={'type':a0_0x18a40e(0x74a),'pattern':a0_0x18a40e(0x5da),'description':a0_0x18a40e(0x404)},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'text':{'type':'string'}},'required':[a0_0x18a40e(0x2d3)],...S(a0_0x18a40e(0x2d3))}},'required':[a0_0x18a40e(0x5e7),a0_0x18a40e(0x7f3)]},Ca={'type':a0_0x18a40e(0x74a),'pattern':a0_0x18a40e(0x206),'description':a0_0x18a40e(0x404)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...Ca},'options':{...Q},'textMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'text':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x2d3)],...S(a0_0x18a40e(0x2d3))}},'required':['textMessage','number']},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...Ca},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x82d),'document',a0_0x18a40e(0x2cd),a0_0x18a40e(0x788)]},'media':{'type':a0_0x18a40e(0x74a)},'fileName':{'type':a0_0x18a40e(0x74a)},'caption':{'type':a0_0x18a40e(0x74a)}},'required':['mediatype',a0_0x18a40e(0x43d)],...S(a0_0x18a40e(0x325),a0_0x18a40e(0x4d4),'media')}},'required':[a0_0x18a40e(0x1e5),a0_0x18a40e(0x7f3)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'image':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x82d)],...S(a0_0x18a40e(0x82d))}},'required':[a0_0x18a40e(0x243),a0_0x18a40e(0x7f3)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x18a40e(0x74a),'enum':['text',a0_0x18a40e(0x82d),'audio',a0_0x18a40e(0x2cd)]},'content':{'type':a0_0x18a40e(0x74a)},'caption':{'type':a0_0x18a40e(0x74a)},'backgroundColor':{'type':a0_0x18a40e(0x74a)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x74a),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]}},'required':['type',a0_0x18a40e(0x7d9)],...S(a0_0x18a40e(0x794),'content')}},'required':[a0_0x18a40e(0x507)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'mediatype':{'type':'string','enum':[a0_0x18a40e(0x82d),a0_0x18a40e(0x348),a0_0x18a40e(0x2cd),a0_0x18a40e(0x788)]},'media':{'type':a0_0x18a40e(0x74a)},'fileName':{'type':a0_0x18a40e(0x74a)},'caption':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x62e),a0_0x18a40e(0x43d)],...S('fileName',a0_0x18a40e(0x4d4),a0_0x18a40e(0x43d))}},'required':[a0_0x18a40e(0x1e5),a0_0x18a40e(0x7f3)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x788)],...S('audio')}},'required':['audioMessage',a0_0x18a40e(0x7f3)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'pollMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'name':{'type':a0_0x18a40e(0x74a)},'selectableCount':{'type':'number'},'values':{'type':a0_0x18a40e(0x6e0),'minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount','values'],...S(a0_0x18a40e(0x317),a0_0x18a40e(0x1af),a0_0x18a40e(0x20b))}},'required':['number',a0_0x18a40e(0x4da)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'menuMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'text':{'type':a0_0x18a40e(0x74a)},'choices':{'type':a0_0x18a40e(0x6e0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x18a40e(0x2d3),'choices'],...S(a0_0x18a40e(0x2d3),'choices')}},'required':['number',a0_0x18a40e(0x505)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x18a40e(0x74a)},'description':{'type':a0_0x18a40e(0x74a)},'footerText':{'type':a0_0x18a40e(0x74a)},'buttons':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x3c8),'properties':{'buttonText':{'type':a0_0x18a40e(0x74a)},'buttonId':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x53e),'buttonId'],...S('buttonText','buttonId')}},'mediaMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x18a40e(0x74a)},'mediatype':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x82d),a0_0x18a40e(0x348),a0_0x18a40e(0x2cd)]}},'required':[a0_0x18a40e(0x43d),a0_0x18a40e(0x62e)],...S(a0_0x18a40e(0x43d),a0_0x18a40e(0x325))}},'required':['title',a0_0x18a40e(0x6d6)],...S(a0_0x18a40e(0x49a),a0_0x18a40e(0x5e1))}},'required':[a0_0x18a40e(0x7f3),a0_0x18a40e(0x5d8)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'latitude':{'type':a0_0x18a40e(0x7f3)},'longitude':{'type':a0_0x18a40e(0x7f3)},'name':{'type':a0_0x18a40e(0x74a)},'address':{'type':a0_0x18a40e(0x74a)}},'required':['latitude',a0_0x18a40e(0x773)],...S(a0_0x18a40e(0x317),a0_0x18a40e(0x70d))}},'required':[a0_0x18a40e(0x7f3),a0_0x18a40e(0x52a)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'title':{'type':a0_0x18a40e(0x74a)},'description':{'type':a0_0x18a40e(0x74a)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x3c8),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x3c8),'properties':{'title':{'type':a0_0x18a40e(0x74a)},'description':{'type':a0_0x18a40e(0x74a)},'rowId':{'type':a0_0x18a40e(0x74a)}},'required':['title','rowId'],...S(a0_0x18a40e(0x49a),a0_0x18a40e(0x286))}}},'required':[a0_0x18a40e(0x49a),a0_0x18a40e(0x5bf)],...S(a0_0x18a40e(0x49a))}}},'required':[a0_0x18a40e(0x49a),'description',a0_0x18a40e(0x53e),a0_0x18a40e(0x4df)],...S(a0_0x18a40e(0x49a),a0_0x18a40e(0x5e1),a0_0x18a40e(0x53e),'footerText')}},'required':[a0_0x18a40e(0x7f3),'listMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x18a40e(0x6e0),'items':{'type':a0_0x18a40e(0x3c8),'properties':{'fullName':{'type':a0_0x18a40e(0x74a)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x18a40e(0x74b)],...S(a0_0x18a40e(0x2cf))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x18a40e(0x6c3)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'reactionMessage':{'type':a0_0x18a40e(0x3c8),'properties':{'key':{'type':a0_0x18a40e(0x3c8),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]}},'required':['id',a0_0x18a40e(0x65f),a0_0x18a40e(0x6ee)],...S('id',a0_0x18a40e(0x65f))},'reaction':{'type':a0_0x18a40e(0x74a)}},'required':['key',a0_0x18a40e(0x33b)],...S(a0_0x18a40e(0x33b))}},'required':['reactionMessage']},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x74a),'pattern':a0_0x18a40e(0x1c4),'description':a0_0x18a40e(0x34d)}}}},$a={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'readMessages':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x18a40e(0x74a)},'fromMe':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x18a40e(0x74a)}},'required':['id','fromMe',a0_0x18a40e(0x65f)],...S('id','remoteJid')}}},'required':[a0_0x18a40e(0x4c4)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'privacySettings':{'type':a0_0x18a40e(0x3c8),'properties':{'readreceipts':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x1fe),a0_0x18a40e(0x7b9)]},'profile':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x1fe),'contacts',a0_0x18a40e(0x1a4),a0_0x18a40e(0x7b9)]},'status':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x1fe),a0_0x18a40e(0x4aa),'contact_blacklist',a0_0x18a40e(0x7b9)]},'online':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x1fe),'match_last_seen']},'last':{'type':'string','enum':['all','contacts',a0_0x18a40e(0x1a4),a0_0x18a40e(0x7b9)]},'groupadd':{'type':'string','enum':['all',a0_0x18a40e(0x4aa),a0_0x18a40e(0x1a4),a0_0x18a40e(0x7b9)]}},'required':[a0_0x18a40e(0x745),'profile',a0_0x18a40e(0x6d8),a0_0x18a40e(0x3a1),a0_0x18a40e(0x76a),a0_0x18a40e(0x65e)],...S(a0_0x18a40e(0x745),a0_0x18a40e(0x58f),a0_0x18a40e(0x6d8),a0_0x18a40e(0x3a1),a0_0x18a40e(0x76a),a0_0x18a40e(0x65e))}},'required':[a0_0x18a40e(0x2c4)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x18a40e(0x74a)},'remoteJid':{'type':a0_0x18a40e(0x74a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x18a40e(0x65f)],...S('id','remoteJid')},'messageTimestamp':{'type':a0_0x18a40e(0x419),'minLength':0x1}},'required':[a0_0x18a40e(0x64d)],...S(a0_0x18a40e(0x66f))},'archive':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]}},'required':[a0_0x18a40e(0x365),'archive']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'id':{'type':a0_0x18a40e(0x74a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x18a40e(0x6ee),a0_0x18a40e(0x65f)],...S('id','remoteJid','participant')},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'where':{'type':a0_0x18a40e(0x3c8),'properties':{'_id':{'type':a0_0x18a40e(0x74a),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x18a40e(0x74a),'minLength':0x1}},...S(a0_0x18a40e(0x6bf),'id','pushName')}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'name':{'type':'string'}},...S(a0_0x18a40e(0x317))},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'status':{'type':a0_0x18a40e(0x74a)}},...S(a0_0x18a40e(0x6d8))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'number':{'type':a0_0x18a40e(0x74a)},'picture':{'type':'string'}}},Ja={'type':a0_0x18a40e(0x3c8),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x18a40e(0x74a)},'picture':{'type':a0_0x18a40e(0x74a)},'status':{'type':a0_0x18a40e(0x74a)},'isBusiness':{'type':a0_0x18a40e(0x741)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'where':{'type':a0_0x18a40e(0x3c8),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x18a40e(0x3c8),'if':{'propertyNames':{'enum':[a0_0x18a40e(0x6ee),a0_0x18a40e(0x65f),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x18a40e(0x74a),'minLength':0x1,'description':a0_0x18a40e(0x25a)},'id':{'type':a0_0x18a40e(0x74a),'minLength':0x1,'description':a0_0x18a40e(0x25a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S('_id')},'limit':{'type':'integer'}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'where':{'type':a0_0x18a40e(0x3c8),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x18a40e(0x74a)},'fromMe':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x18a40e(0x74a)},'status':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x7ab),a0_0x18a40e(0x4ad),'SERVER_ACK',a0_0x18a40e(0x5bb),a0_0x18a40e(0x51d),a0_0x18a40e(0x500)]}},...S('_id','remoteJid','id',a0_0x18a40e(0x6d8))},'limit':{'type':a0_0x18a40e(0x419)}}},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x5cf),a0_0x18a40e(0x59e),a0_0x18a40e(0x7b7),a0_0x18a40e(0x480),'paused']}},'required':['presence','number']},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x18a40e(0x74a)},'profilePicture':{'type':a0_0x18a40e(0x74a)},'participants':{'type':a0_0x18a40e(0x6e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x74a),'minLength':0xa,'pattern':a0_0x18a40e(0x619),'description':a0_0x18a40e(0x42c)}}},'required':[a0_0x18a40e(0x2b5),a0_0x18a40e(0x46b)],...S('subject',a0_0x18a40e(0x5e1),a0_0x18a40e(0x7fd))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'groupJid':{'type':a0_0x18a40e(0x74a),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':['groupJid'],...S('groupJid')},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'groupJid':{'type':a0_0x18a40e(0x74a)},'action':{'type':'string','enum':[a0_0x18a40e(0x802),a0_0x18a40e(0x3a3),a0_0x18a40e(0x36e),a0_0x18a40e(0x77f)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18a40e(0x74a),'minLength':0xa,'pattern':a0_0x18a40e(0x619),'description':a0_0x18a40e(0x42c)}}},'required':[a0_0x18a40e(0x470),'action',a0_0x18a40e(0x46b)],...S(a0_0x18a40e(0x470),a0_0x18a40e(0x54c))},za={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x18a40e(0x470),a0_0x18a40e(0x455)],...S(a0_0x18a40e(0x470),a0_0x18a40e(0x455))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x470),a0_0x18a40e(0x82d)],...S(a0_0x18a40e(0x470),a0_0x18a40e(0x82d))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x18a40e(0x74a)},'description':{'type':a0_0x18a40e(0x74a)}},'required':['groupJid',a0_0x18a40e(0x5e1)],...S(a0_0x18a40e(0x470),'description')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x470),a0_0x18a40e(0x317)],...S(a0_0x18a40e(0x470),a0_0x18a40e(0x317))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x18a40e(0x74a),'enum':[a0_0x18a40e(0x4f6),a0_0x18a40e(0x69f),'unlocked',a0_0x18a40e(0x249)]}},'required':['groupJid','setting'],...S('groupJid',a0_0x18a40e(0x354))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'inviteCode':{'type':a0_0x18a40e(0x74a)}},'required':[a0_0x18a40e(0x509)],...S(a0_0x18a40e(0x509))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'url':{'type':a0_0x18a40e(0x74a)},'enabled':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]}},'required':[a0_0x18a40e(0x31f),a0_0x18a40e(0x717)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x18a40e(0x3c8),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x18a40e(0x741),'enum':[!0x0,!0x1]}},'required':[a0_0x18a40e(0x4b6),'STATUS_INSTANCE',a0_0x18a40e(0x570),a0_0x18a40e(0x29b),a0_0x18a40e(0x497),a0_0x18a40e(0x1aa),'SEND_MESSAGE','CONTACTS_SET',a0_0x18a40e(0x255),a0_0x18a40e(0x32e),a0_0x18a40e(0x27a),'CHATS_SET',a0_0x18a40e(0x3f7),a0_0x18a40e(0x232),'CHATS_DELETE','CONNECTION_UPDATE','GROUPS_UPSERT','GROUPS_UPDATE',a0_0x18a40e(0x71e)],...S(a0_0x18a40e(0x4b6),'STATUS_INSTANCE',a0_0x18a40e(0x570),a0_0x18a40e(0x29b),a0_0x18a40e(0x497),'MESSAGES_UPSERT',a0_0x18a40e(0x5c8),a0_0x18a40e(0x527),a0_0x18a40e(0x255),a0_0x18a40e(0x32e),a0_0x18a40e(0x27a),a0_0x18a40e(0x728),a0_0x18a40e(0x3f7),a0_0x18a40e(0x232),a0_0x18a40e(0x3fe),a0_0x18a40e(0x6ce),a0_0x18a40e(0x75a),a0_0x18a40e(0x521),'GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{[a0_0x18a40e(0x463)](_0x4d995b){return Bs(_0x4d995b);}async['insert'](_0x2e676b){const _0x55a83e=a0_0x18a40e;if(_0x2e676b[_0x55a83e(0x233)]!==0x0)try{return{'insertCount':(await this[_0x55a83e(0x463)](_0x2e676b[0x0][_0x55a83e(0x200)])[_0x55a83e(0x242)]([..._0x2e676b]))['length']};}catch(_0x194752){return _0x194752;}}async[a0_0x18a40e(0x4fe)](_0x168053,_0x1b5ff3){const _0x685281=a0_0x18a40e;try{return{'deletedCount':(await this[_0x685281(0x463)](_0x1b5ff3)[_0x685281(0x697)]({..._0x168053['where']}))[_0x685281(0x52f)]};}catch(_0x5ea435){return{'error':_0x5ea435?.[_0x685281(0x689)]()};}}async['update'](_0x18844a,_0x4b4a52){const _0x4ec7f2=a0_0x18a40e;try{if(_0x18844a[_0x4ec7f2(0x233)]===0x0)return;let _0x23c6ab=this[_0x4ec7f2(0x463)](_0x4b4a52),_0x2e2fbc=_0x18844a[_0x4ec7f2(0x783)](_0x270d38=>({'updateOne':{'filter':{'_id':_0x270d38['_id'],'owner':_0x4b4a52},'update':{..._0x270d38}}})),{modifiedCount:_0x3f7efc}=await _0x23c6ab[_0x4ec7f2(0x304)](_0x2e2fbc);return{'insertCount':_0x3f7efc};}catch{return;}}async['find'](_0x345481,_0xa462b2){const _0x3d3bdc=a0_0x18a40e;try{let _0x5baf5b=this[_0x3d3bdc(0x463)](_0xa462b2),_0x2424aa=A(_0x345481[_0x3d3bdc(0x53d)]);return await _0x5baf5b[_0x3d3bdc(0x437)](_0x2424aa)[_0x3d3bdc(0x1ab)](_0x345481?.[_0x3d3bdc(0x1ab)]??0x0)[_0x3d3bdc(0x800)]();}catch{return[];}}async[a0_0x18a40e(0x24e)](_0x561e74,_0x5707ad){const _0x480421=a0_0x18a40e;try{let _0x459853=this[_0x480421(0x463)](_0x5707ad),_0x2e30d=A(_0x561e74[_0x480421(0x53d)]);return await _0x459853[_0x480421(0x24e)](_0x2e30d)['lean']();}catch{return null;}}async[a0_0x18a40e(0x279)](_0x56b5cb){const _0x55da1e=a0_0x18a40e;try{return await this[_0x55da1e(0x463)](_0x56b5cb)[_0x55da1e(0x2c0)][_0x55da1e(0x1b6)](),{'success':!0x0};}catch(_0xe54d64){return console[_0x55da1e(0x62b)](_0xe54d64),{'success':!0x1,'error':_0xe54d64};}}},Ye=require('jsonschema'),cc=require('express-async-errors'),ps=new v(a0_0x18a40e(0x7db)),U=class{[a0_0x18a40e(0x27e)](_0x131c3d,_0x5ab5fb=!0x0){const _0x3e9e07=a0_0x18a40e;let _0x3947b5='/'+_0x131c3d;return _0x5ab5fb&&(_0x3947b5+=_0x3e9e07(0x819)),_0x3947b5;}async[a0_0x18a40e(0x632)](_0x434b56){const _0x1a5b76=a0_0x18a40e;let {request:_0x482ca5,schema:_0x5ea8da,ClassRef:_0x53e096,execute:_0xfc60fc}=_0x434b56,_0x5d8e1d=new _0x53e096(),_0x1d2cba=_0x482ca5[_0x1a5b76(0x735)],_0x33914e=_0x482ca5[_0x1a5b76(0x51c)];_0x482ca5?.[_0x1a5b76(0x62a)]&&Object[_0x1a5b76(0x3f3)](_0x482ca5[_0x1a5b76(0x62a)])[_0x1a5b76(0x233)]>0x0&&Object[_0x1a5b76(0x742)](_0x33914e,_0x482ca5[_0x1a5b76(0x62a)]),_0x482ca5[_0x1a5b76(0x7dc)][_0x1a5b76(0x3a7)](_0x1a5b76(0x597))&&Object['assign'](_0x33914e,_0x1d2cba),Object[_0x1a5b76(0x742)](_0x5d8e1d,_0x1d2cba);let _0x2c93e9=_0x5ea8da?(0x0,Ye['validate'])(_0x5d8e1d,_0x5ea8da):{'valid':!0x0,'errors':[]};if(!_0x2c93e9[_0x1a5b76(0x67c)]){let _0x2cc54c=_0x2c93e9[_0x1a5b76(0x668)][_0x1a5b76(0x783)](({property:_0x4d7bb0,stack:_0x169fb0,schema:_0x32c5b4})=>{const _0x2d783f=_0x1a5b76;let _0x22644e;return _0x32c5b4['description']?_0x22644e=_0x32c5b4['description']:_0x22644e=_0x169fb0['replace'](_0x2d783f(0x56d),''),{'property':_0x4d7bb0[_0x2d783f(0x1b1)]('instance.',''),'message':_0x22644e};});throw ps[_0x1a5b76(0x62b)]([..._0x2cc54c]),new m(..._0x2cc54c);}return await _0xfc60fc(_0x33914e,_0x5d8e1d);}async[a0_0x18a40e(0x691)](_0x963f4c){const _0x3da544=a0_0x18a40e;let {request:_0x537276,ClassRef:_0x3c80f7,schema:_0x306614,execute:_0x58056e}=_0x963f4c,_0x4bf896=_0x537276[_0x3da544(0x62a)];if(!_0x4bf896?.[_0x3da544(0x470)])throw new m(_0x3da544(0x5a4),_0x3da544(0x57e));let _0x2e7bd2=_0x537276[_0x3da544(0x51c)],_0x6d624b=_0x537276['body'],_0x394485=new _0x3c80f7();Object[_0x3da544(0x742)](_0x6d624b,_0x4bf896),Object['assign'](_0x394485,_0x6d624b);let _0x1ce884=(0x0,Ye[_0x3da544(0x1d9)])(_0x394485,_0x306614);if(!_0x1ce884[_0x3da544(0x67c)]){let _0x21dc52=_0x1ce884['errors'][_0x3da544(0x783)](({property:_0xb583fa,stack:_0x4f928d,schema:_0x3cf582})=>{const _0x7f5392=_0x3da544;let _0x11d0f4;return _0x3cf582['description']?_0x11d0f4=_0x3cf582[_0x7f5392(0x5e1)]:_0x11d0f4=_0x4f928d[_0x7f5392(0x1b1)](_0x7f5392(0x56d),''),{'property':_0xb583fa['replace'](_0x7f5392(0x56d),''),'message':_0x11d0f4};});throw ps['error']([..._0x21dc52]),new m(..._0x21dc52);}return await _0x58056e(_0x2e7bd2,_0x394485);}async[a0_0x18a40e(0x817)](_0x59fb47){const _0x20d947=a0_0x18a40e;let {request:_0x60d4f7,ClassRef:_0x1370be,schema:_0x2023bd,execute:_0x486910}=_0x59fb47,_0x341df4=_0x60d4f7[_0x20d947(0x735)];if(!_0x341df4?.[_0x20d947(0x509)])throw new m(_0x20d947(0x6f6),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x40c1b8=_0x60d4f7[_0x20d947(0x51c)],_0x587c00=_0x60d4f7['body'],_0x203251=new _0x1370be();Object[_0x20d947(0x742)](_0x587c00,_0x341df4),Object[_0x20d947(0x742)](_0x203251,_0x587c00);let _0x948284=(0x0,Ye[_0x20d947(0x1d9)])(_0x203251,_0x2023bd);if(!_0x948284[_0x20d947(0x67c)]){let _0x4a76e7=_0x948284[_0x20d947(0x668)][_0x20d947(0x783)](({property:_0x1a8188,stack:_0x7408c7,schema:_0x410294})=>{const _0x12b18a=_0x20d947;let _0x121e64;return _0x410294['description']?_0x121e64=_0x410294[_0x12b18a(0x5e1)]:_0x121e64=_0x7408c7[_0x12b18a(0x1b1)](_0x12b18a(0x56d),''),{'property':_0x1a8188[_0x12b18a(0x1b1)](_0x12b18a(0x56d),''),'message':_0x121e64};});throw ps[_0x20d947(0x62b)]([..._0x4a76e7]),new m(..._0x4a76e7);}return await _0x486910(_0x40c1b8,_0x203251);}},E=class{},Mc=new v(a0_0x18a40e(0x33e)),Xe=class extends U{constructor(..._0x524dca){const _0x305b96=a0_0x18a40e;super(),this[_0x305b96(0x539)]=(0x0,er[_0x305b96(0x311)])(),this[_0x305b96(0x539)]['post'](this['routerPath'](_0x305b96(0x3ce)),..._0x524dca,async(_0x4e538c,_0x40c823)=>{const _0x34c18d=_0x305b96;let _0xe59dd7=await this['dataValidate']({'request':_0x4e538c,'schema':Ba,'ClassRef':je,'execute':(_0x374637,_0x5e1555)=>x[_0x34c18d(0x3ce)](_0x374637,_0x5e1555)});return _0x40c823[_0x34c18d(0x6d8)](0xc9)[_0x34c18d(0x5ed)](_0xe59dd7);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x630)),..._0x524dca,async(_0x297c9c,_0x19fe8d)=>{const _0x36d96e=_0x305b96;let _0x3428b0=await this[_0x36d96e(0x632)]({'request':_0x297c9c,'schema':Pa,'ClassRef':Fe,'execute':(_0x5a8299,_0x12a753)=>x[_0x36d96e(0x73a)](_0x5a8299,_0x12a753)});return _0x19fe8d[_0x36d96e(0x6d8)](0xc9)[_0x36d96e(0x5ed)](_0x3428b0);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x26b)),..._0x524dca,async(_0x3c0f58,_0x3781e4)=>{const _0x3d0ad3=_0x305b96;let _0x3f239e=await this[_0x3d0ad3(0x632)]({'request':_0x3c0f58,'schema':M,'ClassRef':E,'execute':(_0x9b2a68,_0x44a75d)=>x['editChat'](_0x9b2a68,_0x44a75d)});return _0x3781e4[_0x3d0ad3(0x6d8)](0xc9)[_0x3d0ad3(0x5ed)](_0x3f239e);})['put'](this[_0x305b96(0x27e)](_0x305b96(0x26e)),..._0x524dca,async(_0x38cfee,_0x39793b)=>{const _0x35cee0=_0x305b96;let _0x316948=await this[_0x35cee0(0x632)]({'request':_0x38cfee,'schema':$a,'ClassRef':Je,'execute':(_0x2ac11c,_0xd7924e)=>x['readMessage'](_0x2ac11c,_0xd7924e)});return _0x39793b['status'](0xc9)[_0x35cee0(0x5ed)](_0x316948);})['put'](this[_0x305b96(0x27e)](_0x305b96(0x3b9)),..._0x524dca,async(_0x1f5f35,_0x327298)=>{const _0x259f3a=_0x305b96;let _0x59fdad=await this['dataValidate']({'request':_0x1f5f35,'schema':La,'ClassRef':Ve,'execute':(_0x58f2ac,_0x5a89d9)=>x[_0x259f3a(0x3b9)](_0x58f2ac,_0x5a89d9)});return _0x327298[_0x259f3a(0x6d8)](0xc9)[_0x259f3a(0x5ed)](_0x59fdad);})[_0x305b96(0x4fe)](this[_0x305b96(0x27e)](_0x305b96(0x3e0)),..._0x524dca,async(_0x2d2a4a,_0xf11858)=>{const _0x1a8c11=_0x305b96;let _0x301c7e=await this[_0x1a8c11(0x632)]({'request':_0x2d2a4a,'schema':ja,'ClassRef':Ge,'execute':(_0x190ae0,_0x3b5c16)=>x[_0x1a8c11(0x2ae)](_0x190ae0,_0x3b5c16)});return _0xf11858[_0x1a8c11(0x6d8)](0xc9)['json'](_0x301c7e);})[_0x305b96(0x301)](this[_0x305b96(0x27e)]('fetchProfilePictureUrl'),..._0x524dca,async(_0x24ab0f,_0x3e570c)=>{const _0x2d4869=_0x305b96;let _0x1acb18=await this[_0x2d4869(0x632)]({'request':_0x24ab0f,'schema':Se,'ClassRef':be,'execute':(_0x13acb5,_0x467e35)=>x[_0x2d4869(0x324)](_0x13acb5,_0x467e35)});return _0x3e570c[_0x2d4869(0x6d8)](0xc8)[_0x2d4869(0x5ed)](_0x1acb18);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x1df)),..._0x524dca,async(_0x48049e,_0x1154ce)=>{const _0x3dd486=_0x305b96;let _0x562f95=await this[_0x3dd486(0x632)]({'request':_0x48049e,'schema':Ja,'ClassRef':be,'execute':(_0x8a2fb4,_0x549d90)=>x['fetchProfile'](_0x8a2fb4,_0x549d90)});return _0x1154ce[_0x3dd486(0x6d8)](0xc8)['json'](_0x562f95);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x5d4)),..._0x524dca,async(_0x4d8e1a,_0x12bfcb)=>{const _0x16a79f=_0x305b96;let _0x17d05e=await this[_0x16a79f(0x632)]({'request':_0x4d8e1a,'schema':Fa,'ClassRef':Ke,'execute':(_0xe41db5,_0x1931a4)=>x[_0x16a79f(0x7eb)](_0xe41db5,_0x1931a4)});return _0x12bfcb[_0x16a79f(0x6d8)](0xc8)[_0x16a79f(0x5ed)](_0x17d05e);})[_0x305b96(0x301)](this['routerPath'](_0x305b96(0x82c)),..._0x524dca,async(_0x2ab439,_0x3b4560)=>{const _0x3b126e=_0x305b96;let _0x15364b=await this['dataValidate']({'request':_0x2ab439,'schema':null,'ClassRef':Object,'execute':(_0x579b2e,_0x39cad6)=>x[_0x3b126e(0x82c)](_0x579b2e,_0x39cad6)});return _0x3b4560[_0x3b126e(0x6d8)](0xc9)['json'](_0x15364b);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x288)),..._0x524dca,async(_0xc47cd6,_0x7af064)=>{const _0x21f695=_0x305b96;let _0x103d8d=await this[_0x21f695(0x632)]({'request':_0xc47cd6,'schema':Va,'ClassRef':ke,'execute':(_0x2bc7a6,_0x572ba8)=>x[_0x21f695(0x4b5)](_0x2bc7a6,_0x572ba8)});return _0x7af064[_0x21f695(0x6d8)](0xc8)['json'](_0x103d8d);})[_0x305b96(0x805)](this['routerPath'](_0x305b96(0x34c)),..._0x524dca,async(_0x5f1549,_0x3e1a5f)=>{const _0x550f9d=_0x305b96;let _0x46b75e=await this[_0x550f9d(0x632)]({'request':_0x5f1549,'schema':null,'ClassRef':E,'execute':_0x2edb24=>x[_0x550f9d(0x54a)](_0x2edb24)});return _0x3e1a5f[_0x550f9d(0x6d8)](0xc8)[_0x550f9d(0x5ed)](_0x46b75e);})[_0x305b96(0x805)](this[_0x305b96(0x27e)](_0x305b96(0x636)),..._0x524dca,async(_0x39002a,_0x1af206)=>{const _0x4954c3=_0x305b96;let _0x58d599=await this['dataValidate']({'request':_0x39002a,'schema':null,'ClassRef':E,'execute':_0x47aa93=>x[_0x4954c3(0x352)](_0x47aa93)});return _0x1af206[_0x4954c3(0x6d8)](0xc8)['json'](_0x58d599);})['put'](this[_0x305b96(0x27e)](_0x305b96(0x777)),..._0x524dca,async(_0x3530fc,_0x41f149)=>{const _0x2fcf5c=_0x305b96;let _0x25b541=await this[_0x2fcf5c(0x632)]({'request':_0x3530fc,'schema':null,'ClassRef':Array,'execute':(_0x3c2e4d,_0xa0bdf7)=>x[_0x2fcf5c(0x777)](_0x3c2e4d,_0xa0bdf7)});return _0x41f149[_0x2fcf5c(0x6d8)](0xc8)['json'](_0x25b541);})[_0x305b96(0x805)](this[_0x305b96(0x27e)](_0x305b96(0x6f0)),..._0x524dca,async(_0x24d781,_0x4d126c)=>{const _0x2f00c0=_0x305b96;let _0x1e380b=await this[_0x2f00c0(0x632)]({'request':_0x24d781,'schema':null,'ClassRef':E,'execute':_0x3210bf=>x[_0x2f00c0(0x6f0)](_0x3210bf)});return _0x4d126c['status'](0xc8)[_0x2f00c0(0x5ed)](_0x1e380b);})[_0x305b96(0x681)](this[_0x305b96(0x27e)](_0x305b96(0x3ca)),..._0x524dca,async(_0x22842b,_0x13eb0d)=>{const _0x145121=_0x305b96;let _0x5e7c62=await this[_0x145121(0x632)]({'request':_0x22842b,'schema':ka,'ClassRef':Be,'execute':(_0x30d06a,_0xc8d665)=>x['updatePrivacySettings'](_0x30d06a,_0xc8d665)});return _0x13eb0d[_0x145121(0x6d8)](0xc9)['json'](_0x5e7c62);})[_0x305b96(0x301)](this[_0x305b96(0x27e)]('fetchBusinessProfile'),..._0x524dca,async(_0x530505,_0xd5f2d5)=>{const _0x152fa6=_0x305b96;let _0x57d031=await this[_0x152fa6(0x632)]({'request':_0x530505,'schema':Se,'ClassRef':fe,'execute':(_0x4e0c9c,_0x2239c5)=>x[_0x152fa6(0x67d)](_0x4e0c9c,_0x2239c5)});return _0xd5f2d5[_0x152fa6(0x6d8)](0xc8)[_0x152fa6(0x5ed)](_0x57d031);})['post'](this[_0x305b96(0x27e)]('updateProfileName'),..._0x524dca,async(_0x5cf8e2,_0x67b128)=>{const _0x53dc15=_0x305b96;let _0x38ce92=await this[_0x53dc15(0x632)]({'request':_0x5cf8e2,'schema':qa,'ClassRef':qe,'execute':(_0x7100b3,_0x127f37)=>x[_0x53dc15(0x7f8)](_0x7100b3,_0x127f37)});return _0x67b128[_0x53dc15(0x6d8)](0xc8)[_0x53dc15(0x5ed)](_0x38ce92);})[_0x305b96(0x301)](this[_0x305b96(0x27e)](_0x305b96(0x78f)),..._0x524dca,async(_0xff3ea9,_0x3eabff)=>{const _0x550305=_0x305b96;let _0x2cc68b=await this[_0x550305(0x632)]({'request':_0xff3ea9,'schema':Ua,'ClassRef':Ue,'execute':(_0x301387,_0x27d9a3)=>x[_0x550305(0x78f)](_0x301387,_0x27d9a3)});return _0x3eabff[_0x550305(0x6d8)](0xc8)[_0x550305(0x5ed)](_0x2cc68b);})[_0x305b96(0x681)](this['routerPath'](_0x305b96(0x1c8)),..._0x524dca,async(_0x166f96,_0x331eaf)=>{const _0x221071=_0x305b96;let _0x4fd5c9=await this[_0x221071(0x632)]({'request':_0x166f96,'schema':Se,'ClassRef':fe,'execute':(_0x363ff7,_0x3ac16c)=>x[_0x221071(0x1c8)](_0x363ff7,_0x3ac16c)});return _0x331eaf[_0x221071(0x6d8)](0xc8)[_0x221071(0x5ed)](_0x4fd5c9);})[_0x305b96(0x4fe)](this[_0x305b96(0x27e)](_0x305b96(0x1d7)),..._0x524dca,async(_0x20a984,_0x24fcbf)=>{const _0x1c855e=_0x305b96;let _0x345759=await this[_0x1c855e(0x632)]({'request':_0x20a984,'schema':Se,'ClassRef':fe,'execute':(_0x3f0b34,_0x517a72)=>x['removeProfilePicture'](_0x3f0b34,_0x517a72)});return _0x24fcbf['status'](0xc8)[_0x1c855e(0x5ed)](_0x345759);});}},tr=require(a0_0x18a40e(0x70c)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x4c9e3b){const _0x160c53=a0_0x18a40e;super(),this[_0x160c53(0x539)]=(0x0,tr['Router'])(),this[_0x160c53(0x539)]['post'](this[_0x160c53(0x27e)]('create'),..._0x4c9e3b,async(_0x59c12c,_0x342ced)=>{const _0x5cffd3=_0x160c53;let _0x10a37d=await this[_0x5cffd3(0x632)]({'request':_0x59c12c,'schema':Ga,'ClassRef':Ze,'execute':(_0x4eced0,_0x5a201)=>q[_0x5cffd3(0x353)](_0x4eced0,_0x5a201)});_0x342ced[_0x5cffd3(0x6d8)](0xc9)[_0x5cffd3(0x5ed)](_0x10a37d);})[_0x160c53(0x681)](this[_0x160c53(0x27e)](_0x160c53(0x50f)),..._0x4c9e3b,async(_0xa68111,_0x50735a)=>{const _0x81c982=_0x160c53;let _0x3e6a85=await this['groupValidate']({'request':_0xa68111,'schema':Ha,'ClassRef':et,'execute':(_0x46bea5,_0x47b7dc)=>q[_0x81c982(0x50f)](_0x46bea5,_0x47b7dc)});_0x50735a[_0x81c982(0x6d8)](0xc9)[_0x81c982(0x5ed)](_0x3e6a85);})['put'](this[_0x160c53(0x27e)](_0x160c53(0x2e3)),..._0x4c9e3b,async(_0x226460,_0xdfec99)=>{const _0xf5437d=_0x160c53;let _0x7958dc=await this[_0xf5437d(0x691)]({'request':_0x226460,'schema':Ka,'ClassRef':tt,'execute':(_0x18cf83,_0x25b124)=>q['groupDesc'](_0x18cf83,_0x25b124)});_0xdfec99[_0xf5437d(0x6d8)](0xc9)[_0xf5437d(0x5ed)](_0x7958dc);})[_0x160c53(0x681)](this['routerPath'](_0x160c53(0x2cc)),..._0x4c9e3b,async(_0x3abf4e,_0x337b8c)=>{const _0x8701e8=_0x160c53;let _0x1f179a=await this[_0x8701e8(0x691)]({'request':_0x3abf4e,'schema':Qa,'ClassRef':st,'execute':(_0x4a4d76,_0x4015c4)=>q['groupName'](_0x4a4d76,_0x4015c4)});_0x337b8c[_0x8701e8(0x6d8)](0xc9)[_0x8701e8(0x5ed)](_0x1f179a);})[_0x160c53(0x681)](this['routerPath'](_0x160c53(0x5fa)),..._0x4c9e3b,async(_0x402673,_0x4b8b63)=>{const _0x48a7cb=_0x160c53;let _0x32ad71=await this['groupValidate']({'request':_0x402673,'schema':Ya,'ClassRef':at,'execute':(_0x45126d,_0x140c94)=>q[_0x48a7cb(0x5fa)](_0x45126d,_0x140c94)});_0x4b8b63[_0x48a7cb(0x6d8)](0xc9)[_0x48a7cb(0x5ed)](_0x32ad71);})[_0x160c53(0x681)](this['routerPath'](_0x160c53(0x80b)),..._0x4c9e3b,async(_0x2019eb,_0x3d3e6a)=>{const _0x259d9d=_0x160c53;let _0x29ec77=await this[_0x259d9d(0x691)]({'request':_0x2019eb,'schema':za,'ClassRef':it,'execute':(_0x683b9a,_0x2e94df)=>q[_0x259d9d(0x80b)](_0x683b9a,_0x2e94df)});_0x3d3e6a[_0x259d9d(0x6d8)](0xc9)[_0x259d9d(0x5ed)](_0x29ec77);})[_0x160c53(0x805)](this['routerPath'](_0x160c53(0x57a)),..._0x4c9e3b,async(_0x1d1afd,_0x283745)=>{const _0x1e41d8=_0x160c53;let _0x55f83c=await this[_0x1e41d8(0x691)]({'request':_0x1d1afd,'schema':Ee,'ClassRef':Y,'execute':(_0xa6271a,_0x1cecc6)=>q[_0x1e41d8(0x66e)](_0xa6271a,_0x1cecc6)});_0x283745[_0x1e41d8(0x6d8)](0xc8)[_0x1e41d8(0x5ed)](_0x55f83c);})[_0x160c53(0x805)](this[_0x160c53(0x27e)](_0x160c53(0x740)),..._0x4c9e3b,async(_0x385a32,_0x14a997)=>{const _0x201712=_0x160c53;let _0xc591=await this['dataValidate']({'request':_0x385a32,'schema':M,'ClassRef':E,'execute':_0x21e6dc=>q[_0x201712(0x740)](_0x21e6dc)});_0x14a997[_0x201712(0x6d8)](0xc8)[_0x201712(0x5ed)](_0xc591);})[_0x160c53(0x805)](this[_0x160c53(0x27e)](_0x160c53(0x46b)),..._0x4c9e3b,async(_0x258471,_0x8ae46)=>{const _0x30f4fb=_0x160c53;let _0x18b005=await this['groupValidate']({'request':_0x258471,'schema':Ee,'ClassRef':Y,'execute':(_0x3ad501,_0x12cd01)=>q[_0x30f4fb(0x395)](_0x3ad501,_0x12cd01)});_0x8ae46[_0x30f4fb(0x6d8)](0xc8)[_0x30f4fb(0x5ed)](_0x18b005);})[_0x160c53(0x805)](this[_0x160c53(0x27e)](_0x160c53(0x509)),..._0x4c9e3b,async(_0x1c7a30,_0x5ae789)=>{const _0x2fcce4=_0x160c53;let _0x45d490=await this[_0x2fcce4(0x691)]({'request':_0x1c7a30,'schema':Ee,'ClassRef':Y,'execute':(_0x4eea42,_0x50a781)=>q[_0x2fcce4(0x509)](_0x4eea42,_0x50a781)});_0x5ae789[_0x2fcce4(0x6d8)](0xc8)[_0x2fcce4(0x5ed)](_0x45d490);})[_0x160c53(0x681)](this[_0x160c53(0x27e)](_0x160c53(0x582)),..._0x4c9e3b,async(_0x3e888b,_0x528abd)=>{const _0x177e2c=_0x160c53;let _0x1b83a1=await this[_0x177e2c(0x817)]({'request':_0x3e888b,'schema':Xa,'ClassRef':rt,'execute':(_0x1d053f,_0x103541)=>q[_0x177e2c(0x582)](_0x1d053f,_0x103541)});_0x528abd[_0x177e2c(0x6d8)](0xc9)[_0x177e2c(0x5ed)](_0x1b83a1);})[_0x160c53(0x681)](this[_0x160c53(0x27e)](_0x160c53(0x71a)),..._0x4c9e3b,async(_0x4f21c6,_0x4f9dec)=>{const _0xb2ea57=_0x160c53;let _0x487ed3=await this[_0xb2ea57(0x691)]({'request':_0x4f21c6,'schema':Ee,'ClassRef':Y,'execute':(_0x52b147,_0x2c738c)=>q[_0xb2ea57(0x71a)](_0x52b147,_0x2c738c)});_0x4f9dec[_0xb2ea57(0x6d8)](0xc9)[_0xb2ea57(0x5ed)](_0x487ed3);})[_0x160c53(0x681)](this['routerPath'](_0x160c53(0x77d)),..._0x4c9e3b,async(_0x47fc95,_0x55b845)=>{const _0x29261e=_0x160c53;let _0x58075f=await this[_0x29261e(0x691)]({'request':_0x47fc95,'schema':Wa,'ClassRef':ot,'execute':(_0x452a48,_0x5d4b50)=>q[_0x29261e(0x24d)](_0x452a48,_0x5d4b50)});_0x55b845[_0x29261e(0x6d8)](0xc9)[_0x29261e(0x5ed)](_0x58075f);})['delete'](this['routerPath'](_0x160c53(0x7d6)),..._0x4c9e3b,async(_0x3163af,_0x3a4a28)=>{const _0x3ef7c1=_0x160c53;let _0x49122f=await this['groupValidate']({'request':_0x3163af,'schema':{},'ClassRef':Y,'execute':(_0x4c5154,_0xb1e88e)=>q[_0x3ef7c1(0x7d6)](_0x4c5154,_0xb1e88e)});_0x3a4a28[_0x3ef7c1(0x6d8)](0xc8)[_0x3ef7c1(0x5ed)](_0x49122f);});}},sr=require(a0_0x18a40e(0x70c)),ct=class extends U{constructor(_0xed7b3c,..._0x58b8bc){const _0x5ce0b9=a0_0x18a40e;super(),this[_0x5ce0b9(0x3da)]=_0xed7b3c,this[_0x5ce0b9(0x539)]=(0x0,sr['Router'])();let _0x4f7991=_0xed7b3c[_0x5ce0b9(0x805)](_0x5ce0b9(0x72a));this[_0x5ce0b9(0x539)][_0x5ce0b9(0x301)](_0x5ce0b9(0x486),..._0x58b8bc,async(_0x20b720,_0x45336d)=>{const _0x2f8594=_0x5ce0b9;let {instanceName:_0x4d9afa,apikey:_0x3170ad,number:_0x3d834d}=_0x20b720[_0x2f8594(0x735)],_0x51e884=await le[_0x2f8594(0x442)]({'instanceName':_0x4d9afa,'apikey':_0x3170ad,'number':_0x3d834d});return _0x45336d[_0x2f8594(0x6d8)](0xc9)[_0x2f8594(0x5ed)](_0x51e884);})[_0x5ce0b9(0x681)](this[_0x5ce0b9(0x27e)]('restart'),..._0x58b8bc,async(_0x301625,_0x12da4f)=>{const _0x22b457=_0x5ce0b9;let _0x11df98=await this[_0x22b457(0x632)]({'request':_0x301625,'schema':M,'ClassRef':E,'execute':_0x5434de=>le[_0x22b457(0x7e2)](_0x5434de)});return _0x12da4f[_0x22b457(0x6d8)](0xc8)[_0x22b457(0x5ed)](_0x11df98);})[_0x5ce0b9(0x805)](this[_0x5ce0b9(0x27e)](_0x5ce0b9(0x3ec)),..._0x58b8bc,async(_0x3b3dcb,_0xf6db00)=>{const _0x4dc04f=_0x5ce0b9;let _0x275404=await this[_0x4dc04f(0x632)]({'request':_0x3b3dcb,'schema':M,'ClassRef':E,'execute':_0x2c96d9=>le[_0x4dc04f(0x3ec)](_0x2c96d9)});return _0xf6db00[_0x4dc04f(0x6d8)](0xc8)[_0x4dc04f(0x5ed)](_0x275404);})[_0x5ce0b9(0x805)](this['routerPath'](_0x5ce0b9(0x552),!0x1),..._0x58b8bc,async(_0x1b283d,_0x670ff8)=>{const _0x4c82f5=_0x5ce0b9;let _0x3cec9e=await this[_0x4c82f5(0x632)]({'request':_0x1b283d,'schema':null,'ClassRef':E,'execute':_0x45e307=>le[_0x4c82f5(0x552)](_0x45e307)});return _0x670ff8[_0x4c82f5(0x6d8)](0xc8)[_0x4c82f5(0x5ed)](_0x3cec9e);})[_0x5ce0b9(0x4fe)](this[_0x5ce0b9(0x27e)]('logout'),..._0x58b8bc,async(_0x1c2a58,_0x2608f0)=>{const _0xc8d3=_0x5ce0b9;let _0x420eea=await this[_0xc8d3(0x632)]({'request':_0x1c2a58,'schema':M,'ClassRef':E,'execute':_0x334757=>le['logout'](_0x334757)});return _0x2608f0[_0xc8d3(0x6d8)](0xc8)[_0xc8d3(0x5ed)](_0x420eea);})[_0x5ce0b9(0x4fe)](this['routerPath'](_0x5ce0b9(0x4fe)),..._0x58b8bc,async(_0x3fd01c,_0x16c586)=>{const _0xfe4190=_0x5ce0b9;let _0x40e0f2=await this[_0xfe4190(0x632)]({'request':_0x3fd01c,'schema':M,'ClassRef':E,'execute':_0xd58a2b=>le[_0xfe4190(0x4e4)](_0xd58a2b)});return _0x16c586[_0xfe4190(0x6d8)](0xc8)[_0xfe4190(0x5ed)](_0x40e0f2);});}},ar=require(a0_0x18a40e(0x70c)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x5c268a){const _0x1cd3dc=a0_0x18a40e;super(),this['router']=(0x0,ar[_0x1cd3dc(0x311)])(),this[_0x1cd3dc(0x539)]['post'](this[_0x1cd3dc(0x27e)]('sendText'),..._0x5c268a,async(_0xca06f8,_0x16d13b)=>{const _0x2c01ea=_0x1cd3dc;let _0x4448ec=await this['dataValidate']({'request':_0xca06f8,'schema':Ea,'ClassRef':lt,'execute':(_0x1a4ff8,_0x54b63a)=>G[_0x2c01ea(0x583)](_0x1a4ff8,_0x54b63a)});return _0x16d13b[_0x2c01ea(0x6d8)](0xc9)[_0x2c01ea(0x5ed)](_0x4448ec);})['post'](this[_0x1cd3dc(0x27e)]('sendMedia'),..._0x5c268a,async(_0x38d371,_0x36b1ff)=>{const _0x5b30d2=_0x1cd3dc;let _0x397d72=await this[_0x5b30d2(0x632)]({'request':_0x38d371,'schema':Na,'ClassRef':Ce,'execute':(_0x3de4ce,_0x121f91)=>G['sendMedia'](_0x3de4ce,_0x121f91)});return _0x36b1ff['status'](0xc9)[_0x5b30d2(0x5ed)](_0x397d72);})[_0x1cd3dc(0x301)](this[_0x1cd3dc(0x27e)](_0x1cd3dc(0x3d7)),..._0x5c268a,async(_0x24d3c9,_0x3f5df3)=>{const _0x65663a=_0x1cd3dc;let _0x524e9b=await this[_0x65663a(0x632)]({'request':_0x24d3c9,'schema':Aa,'ClassRef':pt,'execute':(_0x1dd16c,_0x94e682)=>G['sendMenu'](_0x1dd16c,_0x94e682)});return _0x3f5df3[_0x65663a(0x6d8)](0xc9)[_0x65663a(0x5ed)](_0x524e9b);})['post'](this[_0x1cd3dc(0x27e)](_0x1cd3dc(0x7ae)),..._0x5c268a,async(_0x5bad67,_0xe73c23)=>{let _0x2aeab4=await this['dataValidate']({'request':_0x5bad67,'schema':Ra,'ClassRef':Ce,'execute':(_0x58df6a,_0x1da2a4)=>G['sendWhatsAppAudio'](_0x58df6a,_0x1da2a4)});return _0xe73c23['status'](0xc9)['json'](_0x2aeab4);})[_0x1cd3dc(0x301)](this[_0x1cd3dc(0x27e)](_0x1cd3dc(0x599)),..._0x5c268a,async(_0x28b565,_0x4732e4)=>{const _0x672055=_0x1cd3dc;let _0x26535a=await this[_0x672055(0x632)]({'request':_0x28b565,'schema':Oa,'ClassRef':ht,'execute':(_0x227dcd,_0x33af19)=>G[_0x672055(0x599)](_0x227dcd,_0x33af19)});return _0x4732e4['status'](0xc9)[_0x672055(0x5ed)](_0x26535a);})[_0x1cd3dc(0x301)](this[_0x1cd3dc(0x27e)]('sendLocation'),..._0x5c268a,async(_0x1c3ad5,_0xb4150b)=>{const _0x34fca9=_0x1cd3dc;let _0x2be696=await this[_0x34fca9(0x632)]({'request':_0x1c3ad5,'schema':Ia,'ClassRef':mt,'execute':(_0x36c104,_0xe3f261)=>G['sendLocation'](_0x36c104,_0xe3f261)});return _0xb4150b[_0x34fca9(0x6d8)](0xc9)[_0x34fca9(0x5ed)](_0x2be696);})['post'](this['routerPath'](_0x1cd3dc(0x81f)),..._0x5c268a,async(_0xf3567,_0x51d12d)=>{const _0x117ede=_0x1cd3dc;let _0x34a6ca=await this[_0x117ede(0x632)]({'request':_0xf3567,'schema':xa,'ClassRef':ft,'execute':(_0x23cc4e,_0x1e0ec8)=>G[_0x117ede(0x81f)](_0x23cc4e,_0x1e0ec8)});return _0x51d12d['status'](0xc9)['json'](_0x34a6ca);})[_0x1cd3dc(0x301)](this[_0x1cd3dc(0x27e)](_0x1cd3dc(0x60f)),..._0x5c268a,async(_0x1a9ac8,_0x211fcf)=>{const _0x4fff02=_0x1cd3dc;let _0x56d948=await this['dataValidate']({'request':_0x1a9ac8,'schema':Da,'ClassRef':wt,'execute':(_0x5e22bc,_0x1cc7ef)=>G['sendContact'](_0x5e22bc,_0x1cc7ef)});return _0x211fcf[_0x4fff02(0x6d8)](0xc9)['json'](_0x56d948);})[_0x1cd3dc(0x301)](this['routerPath'](_0x1cd3dc(0x2f0)),..._0x5c268a,async(_0x5eaf29,_0xfb2bff)=>{const _0x12637c=_0x1cd3dc;let _0x574dfe=await this['dataValidate']({'request':_0x5eaf29,'schema':_a,'ClassRef':yt,'execute':(_0x48896d,_0x3371ba)=>G[_0x12637c(0x2f0)](_0x48896d,_0x3371ba)});return _0xfb2bff[_0x12637c(0x6d8)](0xc9)[_0x12637c(0x5ed)](_0x574dfe);})['post'](this[_0x1cd3dc(0x27e)](_0x1cd3dc(0x2bc)),..._0x5c268a,async(_0x3c9732,_0x46ef29)=>{const _0x70c61a=_0x1cd3dc;let _0xc8da72=await this['dataValidate']({'request':_0x3c9732,'schema':Ta,'ClassRef':dt,'execute':(_0x145166,_0x24b356)=>G[_0x70c61a(0x2bc)](_0x145166,_0x24b356)});return _0x46ef29[_0x70c61a(0x6d8)](0xc9)[_0x70c61a(0x5ed)](_0xc8da72);})[_0x1cd3dc(0x301)](this[_0x1cd3dc(0x27e)]('sendStatus'),..._0x5c268a,async(_0xb5fabd,_0x15de08)=>{const _0x18e84f=_0x1cd3dc;let _0x32902a=await this[_0x18e84f(0x632)]({'request':_0xb5fabd,'schema':va,'ClassRef':ut,'execute':(_0x48d5c5,_0x490174)=>G[_0x18e84f(0x28c)](_0x48d5c5,_0x490174)});return _0x15de08[_0x18e84f(0x6d8)](0xc9)[_0x18e84f(0x5ed)](_0x32902a);})[_0x1cd3dc(0x301)](this['routerPath']('sendSticker'),..._0x5c268a,async(_0x4eaa97,_0x233d76)=>{const _0x7ce339=_0x1cd3dc;let _0xf3805d=await this[_0x7ce339(0x632)]({'request':_0x4eaa97,'schema':Ma,'ClassRef':gt,'execute':(_0x21068b,_0x57e7e1)=>G['sendSticker'](_0x21068b,_0x57e7e1)});return _0x233d76[_0x7ce339(0x6d8)](0xc9)[_0x7ce339(0x5ed)](_0xf3805d);});}},rr=require(a0_0x18a40e(0x70c)),St=class{},Et=class extends U{constructor(..._0xdb9806){const _0x3af1cc=a0_0x18a40e;super(),this[_0x3af1cc(0x539)]=(0x0,rr['Router'])(),this[_0x3af1cc(0x539)][_0x3af1cc(0x301)](this[_0x3af1cc(0x27e)](_0x3af1cc(0x752)),..._0xdb9806,async(_0xb484d2,_0x348709)=>{const _0x10b85a=_0x3af1cc;let _0x8202d9=await this['dataValidate']({'request':_0xb484d2,'schema':Za,'ClassRef':St,'execute':(_0xea360,_0x75b54d)=>hs[_0x10b85a(0x55b)](_0xea360,_0x75b54d)});_0x348709[_0x10b85a(0x6d8)](0xc9)[_0x10b85a(0x5ed)](_0x8202d9);})[_0x3af1cc(0x805)](this[_0x3af1cc(0x27e)](_0x3af1cc(0x437)),..._0xdb9806,async(_0x106bf3,_0x5cd6a6)=>{const _0x498aa3=_0x3af1cc;let _0x2f84f7=await this[_0x498aa3(0x632)]({'request':_0x106bf3,'schema':M,'ClassRef':E,'execute':_0x216ea2=>hs[_0x498aa3(0x4f4)](_0x216ea2)});_0x5cd6a6[_0x498aa3(0x6d8)](0xc8)[_0x498aa3(0x5ed)](_0x2f84f7);});}},or=require(a0_0x18a40e(0x70c)),f=new v(a0_0x18a40e(0x63e)),Ct=class extends U{constructor(..._0x2f623d){const _0x368af6=a0_0x18a40e;super(),this[_0x368af6(0x539)]=(0x0,or[_0x368af6(0x311)])(),this[_0x368af6(0x539)][_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x64b)),..._0x2f623d,async(_0x83d5a0,_0x28bd98)=>{const _0x5cf181=_0x368af6;let _0x4deb2d=_0x83d5a0[_0x5cf181(0x735)];f[_0x5cf181(0x4c0)](_0x5cf181(0x699)),f['verbose']('request\x20body:\x20'),f[_0x5cf181(0x4c0)](_0x83d5a0[_0x5cf181(0x735)]);let _0x71c8cd=await this[_0x5cf181(0x632)]({'request':_0x83d5a0,'schema':M,'ClassRef':E,'execute':_0x11e3c2=>T['editScheduleMessage'](_0x11e3c2,_0x4deb2d)});_0x28bd98[_0x5cf181(0x6d8)](0xc8)[_0x5cf181(0x5ed)](_0x71c8cd);})[_0x368af6(0x805)](this[_0x368af6(0x27e)](_0x368af6(0x64b)),..._0x2f623d,async(_0x4ed944,_0x3d14ef)=>{const _0x51e3aa=_0x368af6;let _0x1788d5=await this[_0x51e3aa(0x632)]({'request':_0x4ed944,'schema':M,'ClassRef':E,'execute':_0x303d5d=>T[_0x51e3aa(0x720)](_0x303d5d)});_0x3d14ef[_0x51e3aa(0x6d8)](0xc8)['json'](_0x1788d5);})[_0x368af6(0x4fe)](this[_0x368af6(0x27e)]('deleteDoneMessages'),..._0x2f623d,async(_0x386d90,_0x531515)=>{const _0x11748a=_0x368af6;f[_0x11748a(0x4c0)](_0x11748a(0x28d));let _0xa47259=await this[_0x11748a(0x632)]({'request':_0x386d90,'schema':M,'ClassRef':E,'execute':_0x531185=>T[_0x11748a(0x258)](_0x531185)});_0x531515[_0x11748a(0x6d8)](0xc8)['json'](_0xa47259);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x734)),..._0x2f623d,async(_0x22473b,_0x5a7d0f)=>{const _0x112c48=_0x368af6;let _0x51e2e7=_0x22473b[_0x112c48(0x735)];f[_0x112c48(0x4c0)]('request\x20received\x20in\x20starFlow'),f[_0x112c48(0x4c0)](_0x112c48(0x711)),f[_0x112c48(0x4c0)](_0x22473b[_0x112c48(0x735)]);let _0x591ecd=await this[_0x112c48(0x632)]({'request':_0x22473b,'schema':M,'ClassRef':E,'execute':_0x1919e4=>T[_0x112c48(0x734)](_0x1919e4,_0x51e2e7)});_0x5a7d0f[_0x112c48(0x6d8)](0xc8)[_0x112c48(0x5ed)](_0x591ecd);})[_0x368af6(0x805)](this[_0x368af6(0x27e)](_0x368af6(0x526)),..._0x2f623d,async(_0x492d46,_0x59f918)=>{const _0x4b5d4a=_0x368af6;f[_0x4b5d4a(0x4c0)](_0x4b5d4a(0x481));let _0x4fe798=await this[_0x4b5d4a(0x632)]({'request':_0x492d46,'schema':M,'ClassRef':E,'execute':_0x225f19=>T['getAutomateSystem'](_0x225f19)});_0x59f918[_0x4b5d4a(0x6d8)](0xc8)['json'](_0x4fe798);})[_0x368af6(0x805)](this[_0x368af6(0x27e)](_0x368af6(0x30d)),..._0x2f623d,async(_0x418477,_0x372b90)=>{const _0x354cc3=_0x368af6;f[_0x354cc3(0x4c0)](_0x354cc3(0x541));let _0x4fb671=await this[_0x354cc3(0x632)]({'request':_0x418477,'schema':M,'ClassRef':E,'execute':_0x12bef6=>T[_0x354cc3(0x526)](_0x12bef6)});_0x372b90[_0x354cc3(0x6d8)](0xc8)[_0x354cc3(0x5ed)](_0x4fb671);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x7c1)),..._0x2f623d,async(_0x1b5a80,_0xc74756)=>{const _0x37945e=_0x368af6;let _0x1b8520=_0x1b5a80[_0x37945e(0x735)];f['verbose'](_0x37945e(0x38a)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x1b5a80['body']);let _0x446187=await this[_0x37945e(0x632)]({'request':_0x1b5a80,'schema':M,'ClassRef':E,'execute':_0x2e684b=>T[_0x37945e(0x7c1)](_0x2e684b,_0x1b8520)});_0xc74756[_0x37945e(0x6d8)](0xc8)[_0x37945e(0x5ed)](_0x446187);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x4f7)),..._0x2f623d,async(_0x3450f7,_0x4f53d6)=>{const _0x31d1e5=_0x368af6;let _0x299252=_0x3450f7['body'];f['verbose'](_0x31d1e5(0x358)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x3450f7[_0x31d1e5(0x735)]);let _0x365b01=await this['dataValidate']({'request':_0x3450f7,'schema':M,'ClassRef':E,'execute':_0x1b0890=>T[_0x31d1e5(0x4f7)](_0x1b0890,_0x299252)});_0x4f53d6['status'](0xc8)[_0x31d1e5(0x5ed)](_0x365b01);})['post'](this[_0x368af6(0x27e)]('updateFlowConfig'),..._0x2f623d,async(_0x38bdc6,_0x45a1fe)=>{const _0x5b5e91=_0x368af6;let _0x5eaea2=_0x38bdc6['body'];f['verbose']('request\x20received\x20in\x20updateFlowConfig'),f['verbose']('request\x20body:\x20'),f[_0x5b5e91(0x4c0)](_0x38bdc6[_0x5b5e91(0x735)]);let _0x19cd86=await this[_0x5b5e91(0x632)]({'request':_0x38bdc6,'schema':M,'ClassRef':E,'execute':_0x128ae2=>T[_0x5b5e91(0x322)](_0x128ae2,_0x5eaea2)});_0x45a1fe['status'](0xc8)[_0x5b5e91(0x5ed)](_0x19cd86);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x7c8)),..._0x2f623d,async(_0x94d10b,_0x1f1337)=>{const _0xc06a61=_0x368af6;let _0x3942c5=_0x94d10b[_0xc06a61(0x735)];f['verbose'](_0xc06a61(0x4a8)),f['verbose'](_0xc06a61(0x711)),f[_0xc06a61(0x4c0)](_0x94d10b[_0xc06a61(0x735)]);let _0x2b6af=await this[_0xc06a61(0x632)]({'request':_0x94d10b,'schema':M,'ClassRef':E,'execute':_0x4ed49e=>T[_0xc06a61(0x7c8)](_0x4ed49e,_0x3942c5)});_0x1f1337[_0xc06a61(0x6d8)](0xc8)[_0xc06a61(0x5ed)](_0x2b6af);})[_0x368af6(0x301)](this['routerPath'](_0x368af6(0x2cb)),..._0x2f623d,async(_0x4b7f73,_0x4b6449)=>{const _0x4d1b20=_0x368af6;let _0x61b165=_0x4b7f73[_0x4d1b20(0x735)];f[_0x4d1b20(0x4c0)]('request\x20received\x20in\x20fetchConversation'),f['verbose'](_0x4d1b20(0x711)),f[_0x4d1b20(0x4c0)](_0x4b7f73[_0x4d1b20(0x735)]);let _0x6a521b=await this[_0x4d1b20(0x632)]({'request':_0x4b7f73,'schema':M,'ClassRef':E,'execute':_0x214e62=>T['fetchConversation'](_0x214e62,_0x61b165)});_0x4b6449[_0x4d1b20(0x6d8)](0xc8)[_0x4d1b20(0x5ed)](_0x6a521b);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x6d2)),..._0x2f623d,async(_0x9cce34,_0xce37f2)=>{const _0x252b7f=_0x368af6;let _0xd86bf8=_0x9cce34[_0x252b7f(0x735)];f[_0x252b7f(0x4c0)]('request\x20received\x20in\x20editConversation'),f[_0x252b7f(0x4c0)](_0x252b7f(0x711)),f[_0x252b7f(0x4c0)](_0x9cce34['body']);let _0x133844=await this[_0x252b7f(0x632)]({'request':_0x9cce34,'schema':M,'ClassRef':E,'execute':_0x29db8a=>T['editConversation'](_0x29db8a,_0xd86bf8)});_0xce37f2[_0x252b7f(0x6d8)](0xc8)['json'](_0x133844);})['delete'](this[_0x368af6(0x27e)](_0x368af6(0x5ac)),..._0x2f623d,async(_0xeee4d4,_0x36907e)=>{const _0x2d8870=_0x368af6;let _0x3bc358=_0xeee4d4[_0x2d8870(0x735)];f[_0x2d8870(0x4c0)](_0x2d8870(0x7f6)),f[_0x2d8870(0x4c0)](_0x2d8870(0x711)),f[_0x2d8870(0x4c0)](_0xeee4d4['body']);let _0x44547d=await this[_0x2d8870(0x632)]({'request':_0xeee4d4,'schema':M,'ClassRef':E,'execute':_0x33cf78=>T[_0x2d8870(0x5ac)](_0x33cf78,_0x3bc358)});_0x36907e[_0x2d8870(0x6d8)](0xc8)[_0x2d8870(0x5ed)](_0x44547d);})[_0x368af6(0x301)](this['routerPath'](_0x368af6(0x5df)),..._0x2f623d,async(_0x8f0e42,_0x4a3c74)=>{const _0x404316=_0x368af6;let _0xe5f928=_0x8f0e42[_0x404316(0x735)];f['verbose'](_0x404316(0x551)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x8f0e42[_0x404316(0x735)]);let _0x33526b=await this['dataValidate']({'request':_0x8f0e42,'schema':M,'ClassRef':E,'execute':_0x4aeb58=>T[_0x404316(0x2c8)](_0x4aeb58,_0xe5f928)});_0x4a3c74[_0x404316(0x6d8)](0xc8)[_0x404316(0x5ed)](_0x33526b);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x5f7)),..._0x2f623d,async(_0x2d36f3,_0x295b47)=>{const _0x5a80aa=_0x368af6;let _0x33444d=_0x2d36f3[_0x5a80aa(0x735)];f[_0x5a80aa(0x4c0)](_0x5a80aa(0x6e4)),f['verbose']('request\x20body:\x20'),f[_0x5a80aa(0x4c0)](_0x2d36f3[_0x5a80aa(0x735)]),delete _0x33444d[_0x5a80aa(0x77e)],delete _0x33444d[_0x5a80aa(0x6ab)],delete _0x33444d[_0x5a80aa(0x823)],delete _0x33444d[_0x5a80aa(0x26c)];let _0x2a5029=await this[_0x5a80aa(0x632)]({'request':_0x2d36f3,'schema':M,'ClassRef':E,'execute':_0x12c98d=>T[_0x5a80aa(0x1f8)](_0x12c98d,_0x33444d)});_0x295b47[_0x5a80aa(0x6d8)](0xc8)[_0x5a80aa(0x5ed)](_0x2a5029);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x5b3)),..._0x2f623d,async(_0x3e8ea2,_0x56aab2)=>{const _0x349fa1=_0x368af6;let _0xc9bd3e=_0x3e8ea2[_0x349fa1(0x735)];f[_0x349fa1(0x4c0)](_0x349fa1(0x6e4)),f['verbose']('request\x20body:\x20'),f[_0x349fa1(0x4c0)](_0x3e8ea2[_0x349fa1(0x735)]);let _0x2f2a10=await this['dataValidate']({'request':_0x3e8ea2,'schema':M,'ClassRef':E,'execute':_0x16e366=>T[_0x349fa1(0x55c)](_0x16e366,_0xc9bd3e)});_0x56aab2[_0x349fa1(0x6d8)](0xc8)['json'](_0x2f2a10);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x2af)),..._0x2f623d,async(_0x2d2d74,_0x31d755)=>{const _0x230498=_0x368af6;let _0x12c1e3=_0x2d2d74[_0x230498(0x735)];f['verbose']('request\x20received\x20in\x20editFlow'),f[_0x230498(0x4c0)](_0x230498(0x711)),f[_0x230498(0x4c0)](_0x2d2d74[_0x230498(0x735)]);let _0x28ea6d=await this[_0x230498(0x632)]({'request':_0x2d2d74,'schema':M,'ClassRef':E,'execute':_0x539117=>T[_0x230498(0x1e8)](_0x539117,_0x12c1e3)});_0x31d755[_0x230498(0x6d8)](0xc8)[_0x230498(0x5ed)](_0x28ea6d);})[_0x368af6(0x301)](this[_0x368af6(0x27e)]('editflowvaredit'),..._0x2f623d,async(_0xe6883b,_0x3ad82c)=>{const _0x2e1394=_0x368af6;let _0x5da7df=_0xe6883b[_0x2e1394(0x735)];f[_0x2e1394(0x4c0)](_0x2e1394(0x6e4)),f[_0x2e1394(0x4c0)]('request\x20body:\x20'),f['verbose'](_0xe6883b['body']);let _0x5353c4=await this[_0x2e1394(0x632)]({'request':_0xe6883b,'schema':M,'ClassRef':E,'execute':_0x4b8fce=>T[_0x2e1394(0x474)](_0x4b8fce,_0x5da7df)});_0x3ad82c[_0x2e1394(0x6d8)](0xc8)[_0x2e1394(0x5ed)](_0x5353c4);})[_0x368af6(0x301)](this['routerPath'](_0x368af6(0x265)),..._0x2f623d,async(_0x5a00d3,_0x1a00ab)=>{const _0x189c97=_0x368af6;let _0x1c3dfe=_0x5a00d3[_0x189c97(0x735)];f['verbose'](_0x189c97(0x4a7)),f[_0x189c97(0x4c0)](_0x189c97(0x711)),f[_0x189c97(0x4c0)](_0x5a00d3[_0x189c97(0x735)]);let _0x1ee3e1=await this['dataValidate']({'request':_0x5a00d3,'schema':M,'ClassRef':E,'execute':_0x1b48a9=>T[_0x189c97(0x6de)](_0x1b48a9,_0x1c3dfe)});_0x1a00ab[_0x189c97(0x6d8)](0xc8)[_0x189c97(0x5ed)](_0x1ee3e1);})[_0x368af6(0x301)](this[_0x368af6(0x27e)]('editflowcondition'),..._0x2f623d,async(_0x620913,_0x33cabf)=>{const _0x445eed=_0x368af6;let _0x4b3828=_0x620913['body'];f[_0x445eed(0x4c0)](_0x445eed(0x76f)),f[_0x445eed(0x4c0)](_0x445eed(0x711)),f[_0x445eed(0x4c0)](_0x620913[_0x445eed(0x735)]);let _0x4bda3d=await this[_0x445eed(0x632)]({'request':_0x620913,'schema':M,'ClassRef':E,'execute':_0x57ea5d=>T[_0x445eed(0x3f2)](_0x57ea5d,_0x4b3828)});_0x33cabf[_0x445eed(0x6d8)](0xc8)[_0x445eed(0x5ed)](_0x4bda3d);})[_0x368af6(0x301)](this['routerPath']('editflowvariable'),..._0x2f623d,async(_0x50951c,_0x4ddb23)=>{const _0x3edf7d=_0x368af6;let _0x362d2e=_0x50951c[_0x3edf7d(0x735)];f[_0x3edf7d(0x4c0)](_0x3edf7d(0x4d9)),f[_0x3edf7d(0x4c0)](_0x3edf7d(0x711)),f[_0x3edf7d(0x4c0)](_0x50951c['body']);let _0x37a2d1=await this[_0x3edf7d(0x632)]({'request':_0x50951c,'schema':M,'ClassRef':E,'execute':_0x5f081a=>T[_0x3edf7d(0x6e2)](_0x5f081a,_0x362d2e)});_0x4ddb23[_0x3edf7d(0x6d8)](0xc8)[_0x3edf7d(0x5ed)](_0x37a2d1);})[_0x368af6(0x301)](this[_0x368af6(0x27e)](_0x368af6(0x770)),..._0x2f623d,async(_0x6b66,_0x5b4914)=>{const _0x543636=_0x368af6;let _0x268e31=_0x6b66[_0x543636(0x735)];f[_0x543636(0x4c0)](_0x543636(0x1ed)),f[_0x543636(0x4c0)](_0x543636(0x711)),f[_0x543636(0x4c0)](_0x6b66['body']);let _0xb0d6d=await this[_0x543636(0x632)]({'request':_0x6b66,'schema':M,'ClassRef':E,'execute':_0x416762=>T['getFlow'](_0x416762,_0x268e31)});_0x5b4914[_0x543636(0x6d8)](0xc8)[_0x543636(0x5ed)](_0xb0d6d);})[_0x368af6(0x4fe)](this['routerPath'](_0x368af6(0x212)),..._0x2f623d,async(_0x1a10fe,_0x171ee3)=>{const _0x40f55d=_0x368af6;let _0x2f103d=_0x1a10fe[_0x40f55d(0x735)];f['verbose'](_0x40f55d(0x1f5)),f[_0x40f55d(0x4c0)](_0x40f55d(0x711)),f['verbose'](_0x1a10fe[_0x40f55d(0x735)]);let _0x4c3a6c=await this['dataValidate']({'request':_0x1a10fe,'schema':M,'ClassRef':E,'execute':_0x51c12c=>T[_0x40f55d(0x577)](_0x51c12c,_0x2f103d)});_0x171ee3[_0x40f55d(0x6d8)](0xc8)[_0x40f55d(0x5ed)](_0x4c3a6c);})['get'](this[_0x368af6(0x27e)](_0x368af6(0x5ef)),..._0x2f623d,async(_0x4cb92c,_0x185f3f)=>{const _0x31bed1=_0x368af6;f[_0x31bed1(0x4c0)](_0x31bed1(0x208));let _0xe5eddc=await this[_0x31bed1(0x632)]({'request':_0x4cb92c,'schema':M,'ClassRef':E,'execute':_0x339dca=>T[_0x31bed1(0x574)](_0x339dca)});_0x185f3f[_0x31bed1(0x6d8)](0xc8)[_0x31bed1(0x5ed)](_0xe5eddc);});}},lr=R(require(a0_0x18a40e(0x602))),X={};function ir(_0x52a77a,_0x6b3a05,_0xd72e0,_0x5396d1){X[_0x52a77a]||(X[_0x52a77a]={}),X[_0x52a77a][_0x6b3a05]={'id':_0x6b3a05,'response':_0xd72e0,'events':_0x5396d1};}function nr(_0x335b01,_0x511096){!X[_0x335b01]||!X[_0x335b01][_0x511096]||delete X[_0x335b01][_0x511096];}function J(_0x353846,_0x409b35,_0x5552bd){const _0x22897b=a0_0x18a40e;if(!X[_0x353846])return;let _0x12cb8a=_0x22897b(0x393)+JSON[_0x22897b(0x613)](_0x5552bd)+'\x0a\x0a';Object['values'](X[_0x353846])[_0x22897b(0x45f)](_0x5a26f6=>{const _0x3e1bc7=_0x22897b;_0x5a26f6[_0x3e1bc7(0x347)][_0x3e1bc7(0x3a7)](_0x409b35)&&_0x5a26f6[_0x3e1bc7(0x7e4)][_0x3e1bc7(0x650)](_0x12cb8a);});}function cr(){const _0x458e39=a0_0x18a40e;let _0x273380={};for(let _0x670b78 in X)_0x273380[_0x670b78]=Object[_0x458e39(0x20b)](X[_0x670b78])[_0x458e39(0x783)](_0x1041cd=>({'id':_0x1041cd['id'],'events':_0x1041cd[_0x458e39(0x347)]}));return _0x273380;}var ur=require(a0_0x18a40e(0x30f)),fs=require(a0_0x18a40e(0x579)),ms=class{},no=new fs[(a0_0x18a40e(0x33d))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new fs[(a0_0x18a40e(0x33d))]({'_id':{'type':String,'default':a0_0x18a40e(0x795)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.['model'](ms[a0_0x18a40e(0x317)],co,a0_0x18a40e(0x1a9)),lo=lr['default'][a0_0x18a40e(0x261)](__dirname,a0_0x18a40e(0x326)),vt=(0x0,Mt[a0_0x18a40e(0x311)])(),uo=b[a0_0x18a40e(0x805)]('AUTHENTICATION')[a0_0x18a40e(0x655)],te=[fa,wa,Sa[uo]];vt[a0_0x18a40e(0x3ef)](a0_0x18a40e(0x5ae),Mt[a0_0x18a40e(0x41b)]['static'](lo))['get'](a0_0x18a40e(0x402),async(_0x91f31d,_0xcd3d7a)=>{const _0x3535fc=a0_0x18a40e;console[_0x3535fc(0x737)]('bateu\x20events');let _0x38b618=_0x91f31d[_0x3535fc(0x51c)][_0x3535fc(0x799)],_0x4cef57=(_0x91f31d[_0x3535fc(0x62a)][_0x3535fc(0x347)]||'')['split'](','),_0x106cc0=(0x0,ur['v4'])();console[_0x3535fc(0x737)](_0x3535fc(0x295),_0x38b618),console[_0x3535fc(0x737)](_0x3535fc(0x7c2),_0x4cef57);let _0x3b230b=b[_0x3535fc(0x805)](_0x3535fc(0x72a))[_0x3535fc(0x323)],_0x43d9e0=_0x91f31d[_0x3535fc(0x62a)][_0x3535fc(0x4b8)];if(console[_0x3535fc(0x737)](_0x3535fc(0x59d),_0x43d9e0),_0x3b230b[_0x3535fc(0x425)]!==_0x43d9e0){console[_0x3535fc(0x737)]('env.KEY\x20!==\x20key');try{let _0x3b91db=await ce[_0x3535fc(0x7c0)][_0x3535fc(0x437)](_0x38b618);if(console[_0x3535fc(0x737)](_0x3535fc(0x45b),_0x3b91db),!_0x3b91db||_0x3b91db['apikey']!==_0x43d9e0)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0xcd3d7a['status'](0x191)[_0x3535fc(0x68f)](_0x3535fc(0x54b));}catch(_0x308dd5){return console[_0x3535fc(0x62b)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x308dd5),_0xcd3d7a['status'](0x191)[_0x3535fc(0x68f)](_0x3535fc(0x798));}}if(!await We(_0x38b618))return _0xcd3d7a[_0x3535fc(0x6d8)](0x194)[_0x3535fc(0x68f)](_0x3535fc(0x7a2));_0xcd3d7a[_0x3535fc(0x37c)](_0x3535fc(0x19e),'text/event-stream'),_0xcd3d7a['setHeader'](_0x3535fc(0x492),_0x3535fc(0x451)),_0xcd3d7a[_0x3535fc(0x37c)](_0x3535fc(0x3a6),_0x3535fc(0x37e)),_0xcd3d7a[_0x3535fc(0x61e)]();let _0x4d1247=_0x3535fc(0x393)+JSON[_0x3535fc(0x613)]({'info':'Conexo\x20estabelecida'})+'\x0a\x0a';_0xcd3d7a[_0x3535fc(0x650)](_0x4d1247),ir(_0x38b618,_0x106cc0,_0xcd3d7a,_0x4cef57),_0x91f31d['on'](_0x3535fc(0x345),()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x38b618),nr(_0x38b618,_0x106cc0);});}),vt[a0_0x18a40e(0x805)](a0_0x18a40e(0x78d),(_0x5202a2,_0x4f7dc0)=>{const _0x518ee8=a0_0x18a40e;let _0x2f41b1=cr();_0x4f7dc0[_0x518ee8(0x5ed)](_0x2f41b1);})[a0_0x18a40e(0x805)]('/',(_0xb2ec14,_0x1a1f96)=>{const _0x2ec578=a0_0x18a40e;let _0x5f04cc=b[_0x2ec578(0x805)](_0x2ec578(0x260)),_0x59cb89=_0x5f04cc&&_0x5f04cc[_0x2ec578(0x27c)][_0x2ec578(0x432)]('/')[0x4];if(_0x59cb89){let _0xd5152a=encodeURIComponent('https://'+_0x59cb89);_0x1a1f96[_0x2ec578(0x47f)](_0x2ec578(0x779)+_0xd5152a);}else _0x1a1f96[_0x2ec578(0x47f)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x18a40e(0x681)](a0_0x18a40e(0x33c),...te,async(_0x5d80b7,_0x51db83)=>{const _0xc923fe=a0_0x18a40e;try{console[_0xc923fe(0x737)](_0xc923fe(0x81c)),_0x51db83['status'](0xc8)[_0xc923fe(0x5ed)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x51db83['on'](_0xc923fe(0x809),()=>process[_0xc923fe(0x722)](0x0));}catch(_0x37c68d){console[_0xc923fe(0x62b)](_0xc923fe(0x2e6),_0x37c68d),_0x51db83[_0xc923fe(0x6d8)](0x1f4)[_0xc923fe(0x5ed)]({'message':_0xc923fe(0x278)});}})[a0_0x18a40e(0x681)](a0_0x18a40e(0x61d),...te,async(_0x412ba1,_0x3293a8)=>{const _0x2ed147=a0_0x18a40e;try{let _0x16e0e5=_0x412ba1[_0x2ed147(0x735)];await we[_0x2ed147(0x328)]({},{'$set':_0x16e0e5},{'upsert':!0x0});let _0x566fbe=await we[_0x2ed147(0x24e)]();_0x3293a8[_0x2ed147(0x5ed)](_0x566fbe);}catch(_0x220263){_0x3293a8[_0x2ed147(0x6d8)](0x190)[_0x2ed147(0x68f)](_0x220263[_0x2ed147(0x50c)]);}})['get']('/config',...te,async(_0x3002dc,_0x57154d)=>{const _0x42d33a=a0_0x18a40e;try{let _0x2fab40=await we[_0x42d33a(0x24e)]();if(!_0x2fab40)return _0x57154d[_0x42d33a(0x5ed)]({});_0x57154d['json'](_0x2fab40);}catch(_0x496718){_0x57154d[_0x42d33a(0x6d8)](0x1f4)['send'](_0x496718['message']);}})['use'](a0_0x18a40e(0x4ce),new ct(b,...te)[a0_0x18a40e(0x539)])[a0_0x18a40e(0x3ef)](a0_0x18a40e(0x810),new bt(...te)['router'])[a0_0x18a40e(0x3ef)](a0_0x18a40e(0x2f9),new Xe(...te)[a0_0x18a40e(0x539)])[a0_0x18a40e(0x3ef)](a0_0x18a40e(0x501),new nt(...te)[a0_0x18a40e(0x539)])[a0_0x18a40e(0x3ef)](a0_0x18a40e(0x24a),new Et(...te)[a0_0x18a40e(0x539)])['use'](a0_0x18a40e(0x7c9),new Ct(...te)[a0_0x18a40e(0x539)]);var m=class{constructor(..._0x4d019d){const _0x76fc03=a0_0x18a40e;throw{'status':0x190,'error':_0x76fc03(0x2ba),'message':_0x4d019d[_0x76fc03(0x233)]>0x0?_0x4d019d:void 0x0};}},ee=class{constructor(..._0x5c3f9e){const _0x28d137=a0_0x18a40e;throw{'status':0x191,'error':_0x28d137(0x811),'message':_0x5c3f9e[_0x28d137(0x233)]>0x0?_0x5c3f9e:void 0x0};}},K=class{constructor(..._0x321f40){const _0x4427c9=a0_0x18a40e;throw{'status':0x193,'error':_0x4427c9(0x4bd),'message':_0x321f40[_0x4427c9(0x233)]>0x0?_0x321f40:void 0x0};}},j=class{constructor(..._0x142ffd){const _0x2fc201=a0_0x18a40e;throw{'status':0x194,'error':'Not\x20Found','message':_0x142ffd[_0x2fc201(0x233)]>0x0?_0x142ffd:void 0x0};}},O=class{constructor(..._0x5cacc3){const _0x1a1882=a0_0x18a40e;throw{'status':0x1f4,'error':_0x1a1882(0x5af),'message':_0x5cacc3[_0x1a1882(0x233)]>0x0?_0x5cacc3:void 0x0};}},ue=require('@whiskeysockets/baileys');async function ws(_0x57d136){const _0x126572=a0_0x18a40e;let _0xb88b04=new v(ws['name']),_0x47c147=N[_0x126572(0x2fe)](),_0x4b63c4=_0x47c147['db'](b[_0x126572(0x805)]('DATABASE')[_0x126572(0x580)][_0x126572(0x6c0)]+_0x126572(0x1bd))['collection'](_0x57d136),_0x306ad8=async(_0x320cd7,_0x4b64df)=>{const _0x5c6e53=_0x126572;try{return await _0x47c147[_0x5c6e53(0x1b9)](),await _0x4b63c4[_0x5c6e53(0x612)]({'_id':_0x4b64df},JSON[_0x5c6e53(0x596)](JSON[_0x5c6e53(0x613)](_0x320cd7,ue[_0x5c6e53(0x36f)][_0x5c6e53(0x5d6)])),{'upsert':!0x0});}catch{}},_0xac406c=async _0x3ad512=>{const _0x34ba55=_0x126572;try{await _0x47c147[_0x34ba55(0x1b9)]();let _0x177fc=await _0x4b63c4['findOne']({'_id':_0x3ad512}),_0x129dcb=JSON['stringify'](_0x177fc);return JSON[_0x34ba55(0x596)](_0x129dcb,ue[_0x34ba55(0x36f)][_0x34ba55(0x2c6)]);}catch{}},_0x188100=async _0x52aef4=>{try{return await _0x47c147['connect'](),await _0x4b63c4['deleteOne']({'_id':_0x52aef4});}catch{}},_0x3adc4b=await _0xac406c('creds')||(0x0,ue[_0x126572(0x3a2)])();return{'state':{'creds':_0x3adc4b,'keys':{'get':async(_0x419629,_0x17f488)=>{const _0x4ec828=_0x126572;let _0x4f06c7={};return await Promise[_0x4ec828(0x1fe)](_0x17f488[_0x4ec828(0x783)](async _0x23967d=>{const _0x47451e=_0x4ec828;let _0xc648c5=await _0xac406c(_0x419629+'-'+_0x23967d);_0x419629==='app-state-sync-key'&&_0xc648c5&&(_0xc648c5=ue['proto'][_0x47451e(0x813)][_0x47451e(0x590)][_0x47451e(0x1c6)](_0xc648c5)),_0x4f06c7[_0x23967d]=_0xc648c5;})),_0x4f06c7;},'set':async _0x2f38b4=>{const _0x54e429=_0x126572;let _0x21de33=[];for(let _0x3ce9c4 in _0x2f38b4)for(let _0x693d24 in _0x2f38b4[_0x3ce9c4]){let _0xa15a71=_0x2f38b4[_0x3ce9c4][_0x693d24],_0x4c2f8b=_0x3ce9c4+'-'+_0x693d24;_0x21de33[_0x54e429(0x78b)](_0xa15a71?_0x306ad8(_0xa15a71,_0x4c2f8b):_0x188100(_0x4c2f8b));}await Promise[_0x54e429(0x1fe)](_0x21de33);}}},'saveCreds':async()=>_0x306ad8(_0x3adc4b,_0x126572(0x305))};}var Cs=R(require(a0_0x18a40e(0x263))),Ms=R(require(a0_0x18a40e(0x1fb))),Tt=require(a0_0x18a40e(0x29e)),dr=require(a0_0x18a40e(0x538)),Rt=require(a0_0x18a40e(0x29e)),Nt;function po(_0x21f366){const _0x425687=a0_0x18a40e;return Nt||(Nt=(0x0,dr[_0x425687(0x1bb)])({'url':_0x21f366['URI']}),Nt['connect']()),Nt;}var re=class c{constructor(_0x1071bf,_0x3fde12){const _0x5ccec1=a0_0x18a40e;this[_0x5ccec1(0x6fb)]=_0x1071bf,this[_0x5ccec1(0x2d7)]=_0x3fde12,this['logger']=new v(c[_0x5ccec1(0x317)]),this['client']=po(_0x1071bf);}set['reference'](_0x44336f){const _0x2b588d=a0_0x18a40e;this[_0x2b588d(0x2d7)]=_0x44336f;}async[a0_0x18a40e(0x2c3)](){const _0x133f4b=a0_0x18a40e;try{return await this[_0x133f4b(0x5db)][_0x133f4b(0x1ee)]([_0x133f4b(0x3f3),this[_0x133f4b(0x6fb)]['PREFIX_KEY']+':*']);}catch(_0x4f19b1){this['logger']['error'](_0x4f19b1);}}async['writeData'](_0x9df036,_0x1c925d){const _0x5ba9c7=a0_0x18a40e;try{let _0x225f1d=JSON[_0x5ba9c7(0x613)](_0x1c925d,Rt[_0x5ba9c7(0x36f)][_0x5ba9c7(0x5d6)]);return await this[_0x5ba9c7(0x5db)]['hSet'](this[_0x5ba9c7(0x6fb)][_0x5ba9c7(0x7aa)]+':'+this[_0x5ba9c7(0x2d7)],_0x9df036,_0x225f1d);}catch(_0x29e4eb){this[_0x5ba9c7(0x525)][_0x5ba9c7(0x62b)](_0x29e4eb);}}async[a0_0x18a40e(0x549)](){const _0x33955b=a0_0x18a40e;try{let _0x1220a2=await this[_0x33955b(0x5db)][_0x33955b(0x71b)](this[_0x33955b(0x6fb)][_0x33955b(0x7aa)]+':'+this[_0x33955b(0x2d7)]);if(_0x1220a2){for(let _0x2b7ae5 in _0x1220a2)Object[_0x33955b(0x656)][_0x33955b(0x410)]['call'](_0x1220a2,_0x2b7ae5)&&(_0x1220a2[_0x2b7ae5]=JSON['parse'](_0x1220a2[_0x2b7ae5],Rt[_0x33955b(0x36f)]['reviver']));return _0x1220a2;}}catch(_0xd24b6f){this['logger'][_0x33955b(0x62b)](_0xd24b6f);}}async[a0_0x18a40e(0x6b7)](_0x4a1117){const _0x5c11eb=a0_0x18a40e;try{let _0x498903=await this[_0x5c11eb(0x5db)][_0x5c11eb(0x641)](this[_0x5c11eb(0x6fb)][_0x5c11eb(0x7aa)]+':'+this[_0x5c11eb(0x2d7)],_0x4a1117);if(_0x498903)return JSON[_0x5c11eb(0x596)](_0x498903,Rt[_0x5c11eb(0x36f)][_0x5c11eb(0x2c6)]);}catch(_0x4da905){this['logger'][_0x5c11eb(0x62b)](_0x4da905);}}async[a0_0x18a40e(0x1be)](_0x4ae3cb){const _0x26f33a=a0_0x18a40e;try{return await this[_0x26f33a(0x5db)]['hDel'](this[_0x26f33a(0x6fb)][_0x26f33a(0x7aa)]+':'+this['instanceName'],_0x4ae3cb);}catch(_0x62c8ba){this[_0x26f33a(0x525)][_0x26f33a(0x62b)](_0x62c8ba);}}async[a0_0x18a40e(0x1ae)](_0xa3aec2){const _0x49a2cd=a0_0x18a40e;try{return await this[_0x49a2cd(0x5db)]['del'](_0xa3aec2||this[_0x49a2cd(0x6fb)][_0x49a2cd(0x7aa)]+':'+this['instanceName']);}catch(_0x21f16a){this[_0x49a2cd(0x525)][_0x49a2cd(0x62b)](_0x21f16a);}}};async function ys(_0x437f09,_0x1fd296){const _0x25182f=a0_0x18a40e;let _0x20b72a=new v(ys[_0x25182f(0x317)]),_0x1e3062=new re(_0x437f09,_0x1fd296),_0x4de11f=async(_0x16877b,_0x5369af)=>{const _0x5a83c9=_0x25182f;try{return await _0x1e3062['writeData'](_0x5369af,_0x16877b);}catch(_0x59260e){return _0x20b72a[_0x5a83c9(0x62b)]({'localError':'writeData','error':_0x59260e});}},_0x36a2f8=async _0x1bc61f=>{const _0x2ed98f=_0x25182f;try{return await _0x1e3062[_0x2ed98f(0x6b7)](_0x1bc61f);}catch(_0x3a36c2){_0x20b72a[_0x2ed98f(0x62b)]({'readData':_0x2ed98f(0x436),'error':_0x3a36c2});return;}},_0x392bda=async _0x5a967a=>{const _0x29ba86=_0x25182f;try{return await _0x1e3062[_0x29ba86(0x1be)](_0x5a967a);}catch(_0x279e7e){_0x20b72a[_0x29ba86(0x62b)]({'readData':_0x29ba86(0x1be),'error':_0x279e7e});}},_0x4d5f0f=await _0x36a2f8(_0x25182f(0x305))||(0x0,Tt[_0x25182f(0x3a2)])();return{'state':{'creds':_0x4d5f0f,'keys':{'get':async(_0x5a41e7,_0x3da3c7)=>{const _0x442ed6=_0x25182f;let _0x23e17f={};return await Promise[_0x442ed6(0x1fe)](_0x3da3c7[_0x442ed6(0x783)](async _0x2ef522=>{const _0x3c00de=_0x442ed6;let _0x56fcbc=await _0x36a2f8(_0x5a41e7+'-'+_0x2ef522);_0x5a41e7===_0x3c00de(0x458)&&_0x56fcbc&&(_0x56fcbc=Tt[_0x3c00de(0x601)]['Message'][_0x3c00de(0x590)][_0x3c00de(0x1c6)](_0x56fcbc)),_0x23e17f[_0x2ef522]=_0x56fcbc;})),_0x23e17f;},'set':async _0x510f2b=>{const _0x5e757e=_0x25182f;let _0x5477b0=[];for(let _0x1a9f8b in _0x510f2b)for(let _0x367445 in _0x510f2b[_0x1a9f8b]){let _0x31f462=_0x510f2b[_0x1a9f8b][_0x367445],_0x43e7e6=_0x1a9f8b+'-'+_0x367445;_0x5477b0[_0x5e757e(0x78b)](_0x31f462?await _0x4de11f(_0x31f462,_0x43e7e6):await _0x392bda(_0x43e7e6));}await Promise[_0x5e757e(0x1fe)](_0x5477b0);}}},'saveCreds':async()=>await _0x4de11f(_0x4d5f0f,_0x25182f(0x305))};}function a0_0x26bc(_0x313a8f,_0xded354){const _0x490125=a0_0x4901();return a0_0x26bc=function(_0x26bc58,_0x2493ee){_0x26bc58=_0x26bc58-0x19d;let _0x49efa1=_0x490125[_0x26bc58];return _0x49efa1;},a0_0x26bc(_0x313a8f,_0xded354);}var L=R(require('fs')),Me=require(a0_0x18a40e(0x30f)),xt=R(require(a0_0x18a40e(0x1ea))),br=require(a0_0x18a40e(0x60c)),go=a0_0x18a40e(0x4b1)[a0_0x18a40e(0x75f)](),At=go[a0_0x18a40e(0x432)]('\x0a')[a0_0x18a40e(0x783)](_0x19a175=>{const _0x24e1e4=a0_0x18a40e;let _0x459501=_0x19a175[_0x24e1e4(0x432)](':');return{'host':_0x459501[0x0],'port':_0x459501[0x1],'username':_0x459501[0x2],'password':_0x459501[0x3],'protocol':'http'};});function pr(_0x53d5a0){const _0x4778e0=a0_0x18a40e;let _0x1e336d=At['find'](_0x4e9545=>_0x4e9545[_0x4778e0(0x236)]===_0x53d5a0);return _0x1e336d||null;}function bs(){const _0x53beb0=a0_0x18a40e;if(At[_0x53beb0(0x233)]===0x0)return null;let _0x2afb0f=Math[_0x53beb0(0x5b8)](Math[_0x53beb0(0x647)]()*At[_0x53beb0(0x233)]);return At[_0x2afb0f];}function Ss(_0x2d1579){const _0x466ba2=a0_0x18a40e;return _0x2d1579&&_0x2d1579[_0x466ba2(0x236)]&&_0x2d1579[_0x466ba2(0x275)]&&_0x2d1579[_0x466ba2(0x473)]&&_0x2d1579[_0x466ba2(0x670)];}var Sr='Chrome',vs,oe=null,gr=null,He=null,ho=0x3,mo=null;async function fo(){const _0x12de72=a0_0x18a40e;let _0x13c2b5=await we[_0x12de72(0x24e)]();oe=_0x13c2b5?.[_0x12de72(0x478)]??null,mo=_0x13c2b5?.[_0x12de72(0x218)]??null,Sr=_0x13c2b5?.[_0x12de72(0x2df)]??'Chrome',vs=_0x13c2b5?.[_0x12de72(0x59c)]??Ns??_0x12de72(0x1de),console[_0x12de72(0x737)](_0x12de72(0x73e)),console['log'](_0x13c2b5);}async function wo(){await fo();}wo();function $(_0x3f31d3){const _0x30e5df=a0_0x18a40e;if(_0x3f31d3[_0x30e5df(0x49f)]||_0x3f31d3['viewOnceMessageV2']){let _0x1eb798=_0x3f31d3[_0x30e5df(0x49f)]?_0x3f31d3['viewOnceMessage']['message']:_0x3f31d3[_0x30e5df(0x2b1)][_0x30e5df(0x50c)];return(0x0,y['getContentType'])(_0x1eb798);}return _0x3f31d3[_0x30e5df(0x3b1)]?_0x30e5df(0x3b1):_0x3f31d3[_0x30e5df(0x203)]?_0x30e5df(0x203):_0x3f31d3[_0x30e5df(0x5b1)]?_0x30e5df(0x5b1):(0x0,y[_0x30e5df(0x360)])(_0x3f31d3);}var hr={},ye=class c{constructor(_0x5fc0dd,_0x3ff2f8,_0xbc118e){const _0x38cfa4=a0_0x18a40e;this[_0x38cfa4(0x3da)]=_0x5fc0dd,this[_0x38cfa4(0x825)]=_0x3ff2f8,this[_0x38cfa4(0x34e)]=_0xbc118e,this[_0x38cfa4(0x5a1)]=null,this['logger']=new v(c[_0x38cfa4(0x317)]),this[_0x38cfa4(0x799)]={},this['localWebhook']={},this[_0x38cfa4(0x762)]={'state':'close'},this['storePath']=(0x0,F[_0x38cfa4(0x261)])(ae,_0x38cfa4(0x326)),this[_0x38cfa4(0x19d)]=new Ms[(_0x38cfa4(0x41b))](),this['userDevicesCache']=new Ms[(_0x38cfa4(0x41b))](),this['endSession']=!0x1,this[_0x38cfa4(0x620)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x38cfa4(0x2f4),'messages.upsert':_0x38cfa4(0x5f3),'messages.update':_0x38cfa4(0x625),'send.message':_0x38cfa4(0x5f3),'group.upsert':_0x38cfa4(0x688),'group.update':'/wa-groups','group-participants.update':_0x38cfa4(0x688),'connection.update':'/wa-connection-update','messages.set':_0x38cfa4(0x5f3),'contacts.set':_0x38cfa4(0x237),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x38cfa4(0x75d),'chats.set':_0x38cfa4(0x70a),'chats.update':'/wa-chats','chats.upsert':_0x38cfa4(0x70a),'chats.delete':_0x38cfa4(0x70a)},this[_0x38cfa4(0x2bf)]=0x0,this[_0x38cfa4(0x488)]=[],this[_0x38cfa4(0x380)]=0xf,this[_0x38cfa4(0x1e3)]=0x7530,this[_0x38cfa4(0x764)]=!0x1,this[_0x38cfa4(0x211)]={'chats.upsert':async(_0x3f7f6e,_0x563e2f)=>{const _0xc9ffba=_0x38cfa4;let _0x5085f2=[];for await(let _0x5829a2 of _0x3f7f6e)_0x5085f2['push']({'_id':_0x5829a2['id'],'owner':this[_0xc9ffba(0x799)][_0xc9ffba(0x31d)],'group':_0x5829a2['id'][_0xc9ffba(0x560)](_0xc9ffba(0x701)),'name':_0x5829a2[_0xc9ffba(0x317)]||_0x5829a2[_0xc9ffba(0x6ac)]||null,'contactname':null,'lastmsg':_0x5829a2['conversationTimestamp']&&_0x5829a2[_0xc9ffba(0x594)]['toString']()['length']<0xd?_0x5829a2[_0xc9ffba(0x594)]*0x3e8:_0x5829a2['conversationTimestamp']||null,'archived':_0x5829a2[_0xc9ffba(0x344)]||!0x1,'unreadcount':_0x5829a2[_0xc9ffba(0x4c2)]||0x0});this[_0xc9ffba(0x280)](_0xc9ffba(0x3db),_0x5085f2);},'chats.update':async(_0x87ced2,_0x234c3b)=>{const _0xcc4cf9=_0x38cfa4;for(let _0x409cd6 of _0x87ced2){let _0x2674cc={'_id':_0x409cd6['id'],'owner':this['instance'][_0xcc4cf9(0x31d)],'group':_0x409cd6['id'][_0xcc4cf9(0x560)]('@g.us'),'name':_0x409cd6[_0xcc4cf9(0x317)]||_0x409cd6[_0xcc4cf9(0x6ac)],'archived':_0x409cd6['archived'],'ephemeralExpiration':_0x409cd6[_0xcc4cf9(0x3d4)]},_0x396858=!0x1,_0x4a4453={};_0x2674cc[_0xcc4cf9(0x344)]!=null&&(this['logger'][_0xcc4cf9(0x4c0)](this[_0xcc4cf9(0x2d7)]+'\x20('+this['instance']['wuid']+'):\x20teve\x20mudanas\x20chat.archived:\x20'+_0x409cd6[_0xcc4cf9(0x344)]),_0x396858=!0x0,_0x4a4453[_0xcc4cf9(0x344)]=_0x409cd6[_0xcc4cf9(0x344)]),_0x409cd6[_0xcc4cf9(0x317)]!=null&&(this['logger'][_0xcc4cf9(0x4c0)](this[_0xcc4cf9(0x2d7)]+'\x20('+this['instance'][_0xcc4cf9(0x31d)]+_0xcc4cf9(0x2fa)+_0x409cd6[_0xcc4cf9(0x317)]),_0x396858=!0x0,_0x4a4453['name']=_0x409cd6[_0xcc4cf9(0x317)]),_0x409cd6[_0xcc4cf9(0x6ac)]!=null&&(this['logger'][_0xcc4cf9(0x4c0)](this[_0xcc4cf9(0x2d7)]+'\x20('+this[_0xcc4cf9(0x799)]['wuid']+_0xcc4cf9(0x3c2)+_0x409cd6['displayName']),_0x396858=!0x0,_0x4a4453['name']=_0x409cd6[_0xcc4cf9(0x6ac)]);let _0x386489;_0x396858&&(_0x386489=await this[_0xcc4cf9(0x34e)][_0xcc4cf9(0x60e)]['updateOne']({'where':{'_id':_0x409cd6['id']}},_0x4a4453,this[_0xcc4cf9(0x799)][_0xcc4cf9(0x31d)])),_0x386489&&J(this[_0xcc4cf9(0x2d7)],'chats',{'chat':_0x386489});}},'chats.delete':async _0x32a806=>{const _0x4b6a54=_0x38cfa4;this[_0x4b6a54(0x280)](_0x4b6a54(0x5de),[..._0x32a806]);}},this['contactHandle']={'contacts.upsert':async(_0x15d580,_0xd03b86)=>{const _0x3b8eee=_0x38cfa4;let _0x4cb64b=await this[_0x3b8eee(0x34e)][_0x3b8eee(0x60d)][_0x3b8eee(0x437)]({'where':{}},this[_0x3b8eee(0x799)][_0x3b8eee(0x31d)]),_0x3e718b=[];for await(let _0x30bcae of _0x15d580)_0x4cb64b[_0x3b8eee(0x437)](_0x59e835=>_0x59e835['_id']===_0x30bcae['id'])||_0x3e718b[_0x3b8eee(0x78b)]({'_id':_0x30bcae['id'],'pushName':_0x30bcae?.[_0x3b8eee(0x317)]||_0x30bcae?.[_0x3b8eee(0x553)],'owner':this[_0x3b8eee(0x799)][_0x3b8eee(0x31d)]});this[_0x3b8eee(0x280)]('contacts.upsert',_0x3e718b),await this['repository'][_0x3b8eee(0x60d)][_0x3b8eee(0x80f)](_0x3e718b);},'contacts.update':async(_0x21d2cb,_0x2cbd9c)=>{const _0x5158ed=_0x38cfa4;let _0x2648f6=[];for await(let _0x48ae18 of _0x21d2cb)_0x2648f6[_0x5158ed(0x78b)]({'_id':_0x48ae18['id'],'pushName':_0x48ae18?.['name']??_0x48ae18?.[_0x5158ed(0x553)],'owner':this[_0x5158ed(0x799)][_0x5158ed(0x31d)]});this[_0x5158ed(0x280)](_0x5158ed(0x4b4),_0x2648f6);}},this['messageHandle']={'messaging-history.set':async({messages:_0xadb927,chats:_0x59e796,isLatest:_0x3a3520},_0x1d4be0)=>{const _0x518bdf=_0x38cfa4;if(_0x3a3520){let _0x1f850a=await Promise[_0x518bdf(0x1fe)](_0x59e796[_0x518bdf(0x783)](async _0x25df62=>({'_id':_0x25df62['id'],'owner':this[_0x518bdf(0x799)][_0x518bdf(0x31d)],'group':_0x25df62['id'][_0x518bdf(0x560)](_0x518bdf(0x701)),'name':_0x25df62['name']||_0x25df62[_0x518bdf(0x6ac)]||null,'contactname':null,'lastmsg':_0x25df62[_0x518bdf(0x594)]&&_0x25df62[_0x518bdf(0x594)][_0x518bdf(0x689)]()[_0x518bdf(0x233)]<0xd?_0x25df62[_0x518bdf(0x594)]*0x3e8:_0x25df62[_0x518bdf(0x594)]||null,'archived':_0x25df62[_0x518bdf(0x344)]||!0x1,'unreadcount':_0x25df62[_0x518bdf(0x4c2)]||0x0})));this[_0x518bdf(0x280)](_0x518bdf(0x62f),_0x1f850a),await this['upsertChats'](_0x1f850a,_0x1d4be0);}let _0x560f5d=[],_0x12b31f=Date[_0x518bdf(0x70e)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3740d7]of Object[_0x518bdf(0x6e7)](_0xadb927)){if(_0x3740d7[_0x518bdf(0x50c)]?.[_0x518bdf(0x4eb)]||_0x3740d7[_0x518bdf(0x50c)]?.['senderKeyDistributionMessage']||!_0x3740d7[_0x518bdf(0x50c)]||_0x3740d7[_0x518bdf(0x64d)]['remoteJid']==='status@broadcast'||(Cs[_0x518bdf(0x41b)][_0x518bdf(0x69a)](_0x3740d7?.['messageTimestamp'])&&(_0x3740d7[_0x518bdf(0x66f)]=_0x3740d7['messageTimestamp']?.[_0x518bdf(0x371)]()),_0x3740d7[_0x518bdf(0x66f)]&&_0x3740d7['messageTimestamp']['toString']()[_0x518bdf(0x233)]<0xd&&(_0x3740d7[_0x518bdf(0x66f)]=_0x3740d7['messageTimestamp']*0x3e8),_0x3740d7[_0x518bdf(0x66f)]<_0x12b31f))continue;let {message_normalized:_0x1e8ba1}=this[_0x518bdf(0x3f8)](_0x3740d7[_0x518bdf(0x50c)],$(_0x3740d7[_0x518bdf(0x50c)]),null);Object[_0x518bdf(0x3f3)](_0x1e8ba1)[_0x518bdf(0x233)]>0x0&&_0x560f5d[_0x518bdf(0x78b)]({'_id':_0x3740d7['key']['id'],'key':_0x3740d7[_0x518bdf(0x64d)],'pushName':_0x3740d7[_0x518bdf(0x23e)],'participant':_0x3740d7['participant'],'message':{..._0x3740d7[_0x518bdf(0x50c)]},'messageType':$(_0x3740d7['message']),'message_normalized':{'key':_0x3740d7[_0x518bdf(0x64d)],'pushName':_0x3740d7[_0x518bdf(0x23e)],'messageTimestamp':_0x3740d7[_0x518bdf(0x66f)],..._0x1e8ba1},'messageTimestamp':_0x3740d7['messageTimestamp'],'owner':this[_0x518bdf(0x799)]['wuid']});}_0x1d4be0[_0x518bdf(0x3e8)]&&_0x560f5d['length']>0x0&&(this[_0x518bdf(0x525)][_0x518bdf(0x4c0)](this[_0x518bdf(0x2d7)]+'\x20('+this[_0x518bdf(0x799)][_0x518bdf(0x31d)]+_0x518bdf(0x26f)+_0x560f5d[_0x518bdf(0x233)]+_0x518bdf(0x4ec)+this[_0x518bdf(0x799)]['wuid']+_0x518bdf(0x285)),await this[_0x518bdf(0x34e)]['message']['insert']([..._0x560f5d],this[_0x518bdf(0x799)]['wuid'])),this[_0x518bdf(0x280)]('messages.set',[..._0x560f5d]),_0xadb927=void 0x0;},'messages.upsert':async({messages:_0x239855,type:_0x511611},_0x1eb47c)=>{const _0x15fca4=_0x38cfa4;let _0x1c8f44=_0x239855[0x0];if(_0x511611!=='notify'||!_0x1c8f44?.[_0x15fca4(0x50c)]||_0x1c8f44[_0x15fca4(0x50c)]?.[_0x15fca4(0x4eb)]||_0x1c8f44[_0x15fca4(0x50c)][_0x15fca4(0x634)]||_0x1c8f44[_0x15fca4(0x64d)][_0x15fca4(0x65f)]===_0x15fca4(0x4c6))return;let _0x1bd355=null,_0x26605b=null;try{_0x1bd355=await this[_0x15fca4(0x4dd)](_0x1c8f44),_0x26605b=_0x1bd355?_0x1bd355[_0x15fca4(0x261)](','):null;}catch(_0x279a4e){this[_0x15fca4(0x525)][_0x15fca4(0x4c0)](this[_0x15fca4(0x2d7)]+'\x20('+this[_0x15fca4(0x799)][_0x15fca4(0x31d)]+_0x15fca4(0x26f)+(_0x279a4e instanceof Error?_0x279a4e[_0x15fca4(0x50c)]:JSON[_0x15fca4(0x613)](_0x279a4e,null,0x2))),_0x26605b=_0x15fca4(0x350);}if(this[_0x15fca4(0x5db)][_0x15fca4(0x1b5)]('unavailable'),Cs[_0x15fca4(0x41b)][_0x15fca4(0x69a)](_0x1c8f44['messageTimestamp'])&&(_0x1c8f44[_0x15fca4(0x66f)]=_0x1c8f44[_0x15fca4(0x66f)]?.['toNumber']()),this[_0x15fca4(0x438)]?.[_0x15fca4(0x72f)]&&_0x1c8f44[_0x15fca4(0x64d)][_0x15fca4(0x65f)]['includes'](_0x15fca4(0x701))){this[_0x15fca4(0x525)][_0x15fca4(0x4c0)]('group\x20ignored');return;}_0x1c8f44['messageTimestamp']&&_0x1c8f44['messageTimestamp'][_0x15fca4(0x689)]()[_0x15fca4(0x233)]<0xd&&(_0x1c8f44[_0x15fca4(0x66f)]=_0x1c8f44[_0x15fca4(0x66f)]*0x3e8);let _0x4cd83d=_0x1c8f44[_0x15fca4(0x50c)],{messageContent:_0xf69557,message_normalized:_0xfe497c}=this[_0x15fca4(0x3f8)](_0x4cd83d,$(_0x1c8f44[_0x15fca4(0x50c)]),_0x26605b);_0xf69557||console[_0x15fca4(0x62b)](_0x15fca4(0x5f6));let _0x3f4ee6={'_id':_0x1c8f44['key']['id'],'key':_0x1c8f44[_0x15fca4(0x64d)],'pushName':_0x1c8f44[_0x15fca4(0x23e)],'message':{..._0x1c8f44['message']},'messageType':$(_0x1c8f44[_0x15fca4(0x50c)]),'message_normalized':{'key':_0x1c8f44[_0x15fca4(0x64d)],'pushName':_0x1c8f44['pushName'],'messageTimestamp':_0x1c8f44[_0x15fca4(0x66f)],'source':(0x0,y[_0x15fca4(0x63f)])(_0x1c8f44[_0x15fca4(0x64d)]['id']),..._0xfe497c},'messageTimestamp':_0x1c8f44[_0x15fca4(0x66f)],'owner':this['instance']['wuid'],'source':(0x0,y['getDevice'])(_0x1c8f44['key']['id'])};this[_0x15fca4(0x525)][_0x15fca4(0x737)](_0x3f4ee6),await this[_0x15fca4(0x34e)][_0x15fca4(0x50c)][_0x15fca4(0x80f)]([_0x3f4ee6],this[_0x15fca4(0x799)][_0x15fca4(0x31d)]),this[_0x15fca4(0x280)](_0x15fca4(0x28b),_0x3f4ee6),J(this[_0x15fca4(0x2d7)],_0x15fca4(0x4c1),{'message':_0x3f4ee6}),_0x1c8f44[_0x15fca4(0x64d)][_0x15fca4(0x65f)]!==_0x15fca4(0x4c6)&&await this[_0x15fca4(0x71c)](_0x1eb47c,_0x3f4ee6,'MESSAGES_UPSERT');},'messages.update':async(_0x40a351,_0x5e7080)=>{const _0x1c1741=_0x38cfa4;let _0x4af47b={0x0:_0x1c1741(0x7ab),0x1:_0x1c1741(0x4ad),0x2:_0x1c1741(0x327),0x3:_0x1c1741(0x5bb),0x4:_0x1c1741(0x51d),0x5:_0x1c1741(0x500)};for await(let {key:_0x2781b3,update:_0x4c2cd5}of _0x40a351){if(this['localWebhook']?.[_0x1c1741(0x72f)]&&_0x2781b3[_0x1c1741(0x65f)][_0x1c1741(0x3a7)]('@g.us')){this[_0x1c1741(0x525)]['verbose'](_0x1c1741(0x2da));return;}if(_0x2781b3[_0x1c1741(0x65f)]!==_0x1c1741(0x4c6)){let _0x523fb5=Date[_0x1c1741(0x70e)](),_0x4837a0;_0x4c2cd5[_0x1c1741(0x50c)]===null&&_0x4c2cd5[_0x1c1741(0x6d8)]===void 0x0?_0x4837a0=_0x1c1741(0x7df):_0x4837a0=_0x4af47b[_0x4c2cd5[_0x1c1741(0x6d8)]];let _0x1399a2=_0x2781b3[_0x1c1741(0x65f)][_0x1c1741(0x1b1)](/:\d{1,2}@/g,'@'),_0x518e8f={..._0x2781b3,'remoteJid':_0x1399a2,'status':_0x4837a0,'datetime':_0x523fb5,'owner':this['instance']['wuid']};this[_0x1c1741(0x280)]('messages.update',_0x518e8f),await this[_0x1c1741(0x316)](_0x2781b3,_0x518e8f);}}},'labels.association':async({type:_0x33b9bf,association:_0x10748c})=>{const _0x1e42ac=_0x38cfa4;if(_0x10748c['type']===_0x1e42ac(0x408)){let _0x36faf5,_0x2c2125=0x0;for(;!_0x36faf5&&_0x2c2125<this[_0x1e42ac(0x546)];)_0x36faf5=await this[_0x1e42ac(0x34e)][_0x1e42ac(0x60e)]['findOne']({'where':{'_id':_0x10748c[_0x1e42ac(0x778)]}},this[_0x1e42ac(0x799)][_0x1e42ac(0x31d)]),_0x36faf5||(_0x2c2125++,console['log'](_0x1e42ac(0x7d7)+_0x10748c['chatId']+'\x20not\x20found,\x20retrying\x20in\x20'+this[_0x1e42ac(0x6e3)]+_0x1e42ac(0x7af)+_0x2c2125+'/'+this[_0x1e42ac(0x546)]+')'),await this[_0x1e42ac(0x5a2)](this[_0x1e42ac(0x6e3)]));if(!_0x36faf5){console['error'](_0x1e42ac(0x82b)+_0x10748c[_0x1e42ac(0x778)]+'\x20after\x20'+this[_0x1e42ac(0x546)]+_0x1e42ac(0x816));return;}switch(_0x33b9bf){case _0x1e42ac(0x802):console[_0x1e42ac(0x737)](_0x10748c),await this[_0x1e42ac(0x34e)][_0x1e42ac(0x60e)][_0x1e42ac(0x328)]({'where':{'_id':_0x10748c['chatId']}},{'leadInfo.etiquetas':_0x10748c[_0x1e42ac(0x508)]},this[_0x1e42ac(0x799)][_0x1e42ac(0x31d)],void 0x0,'$addToSet');break;case _0x1e42ac(0x3a3):console[_0x1e42ac(0x737)](_0x10748c),await this[_0x1e42ac(0x34e)]['chat'][_0x1e42ac(0x328)]({'where':{'_id':_0x10748c[_0x1e42ac(0x778)]}},{'leadInfo.etiquetas':_0x10748c[_0x1e42ac(0x508)]},this[_0x1e42ac(0x799)]['wuid'],void 0x0,_0x1e42ac(0x2f2));break;default:console[_0x1e42ac(0x62b)](_0x1e42ac(0x6fa)+_0x33b9bf+']');}}},'labels.edit':async _0x1225b3=>{const _0x469eb0=_0x38cfa4;if(!_0x1225b3||!_0x1225b3['id']){console[_0x469eb0(0x62b)](_0x469eb0(0x36b));return;}if(!_0x1225b3['deleted']){let _0x25959c=[_0x469eb0(0x4a6),_0x469eb0(0x24b),_0x469eb0(0x6b3),_0x469eb0(0x686),'#9ab6c1',_0x469eb0(0x66c),_0x469eb0(0x793),_0x469eb0(0x765),_0x469eb0(0x337),'#d8e651','#01d0e2',_0x469eb0(0x340),_0x469eb0(0x5e3),_0x469eb0(0x80c),_0x469eb0(0x704),_0x469eb0(0x58c),'#ffae04',_0x469eb0(0x523),'#9ba6ff','#9568cf'],_0x1de23c;typeof _0x1225b3[_0x469eb0(0x22a)]==_0x469eb0(0x7f3)&&_0x1225b3[_0x469eb0(0x22a)]>=0x0&&_0x1225b3[_0x469eb0(0x22a)]<_0x25959c['length']?_0x1de23c=_0x25959c[_0x1225b3[_0x469eb0(0x22a)]]:(console['error'](_0x469eb0(0x499),_0x1225b3[_0x469eb0(0x22a)]),_0x1de23c=_0x469eb0(0x382));let _0x4a73d3={'_id':_0x1225b3['id'],'colorHex':_0x1de23c,'color':_0x1225b3?.[_0x469eb0(0x22a)],'name':_0x1225b3?.['name'],'owner':this[_0x469eb0(0x799)]['wuid']};await this['repository'][_0x469eb0(0x2fd)][_0x469eb0(0x328)]({'where':{'_id':_0x1225b3['id']}},_0x4a73d3,this[_0x469eb0(0x799)][_0x469eb0(0x31d)]),console[_0x469eb0(0x737)](_0x469eb0(0x30c),_0x1225b3);}_0x1225b3[_0x469eb0(0x2c1)]&&(await this[_0x469eb0(0x34e)][_0x469eb0(0x2fd)]['delete']({'where':{'_id':_0x1225b3['id']}},this['instance'][_0x469eb0(0x31d)]),console[_0x469eb0(0x737)](_0x469eb0(0x1a6),_0x1225b3['id']));}},this[_0x38cfa4(0x30a)]={'groups.upsert':_0x4557e0=>{const _0x18c7f8=_0x38cfa4;this[_0x18c7f8(0x280)](_0x18c7f8(0x7a8),_0x4557e0);},'groups.update':_0x8281a3=>{this['sendDataWebhook']('groups.update',_0x8281a3);},'group-participants.update':_0xcdc9fd=>{const _0xf6b6c5=_0x38cfa4;this[_0xf6b6c5(0x280)](_0xf6b6c5(0x50d),_0xcdc9fd);}},this[_0x38cfa4(0x546)]=0x5,this[_0x38cfa4(0x6e3)]=0x7d0,this[_0x38cfa4(0x4dd)]=async _0x1be825=>{const _0x25167f=_0x38cfa4;if(_0x1be825['message']?.['pollUpdateMessage']){let _0x236869=await this[_0x25167f(0x820)](_0x1be825[_0x25167f(0x50c)][_0x25167f(0x56f)][_0x25167f(0x2c2)],!0x0);if(_0x236869){let _0x5a836c=_0x236869[_0x25167f(0x64d)][_0x25167f(0x6ee)]?this[_0x25167f(0x799)]['wuid']+_0x25167f(0x3b8):_0x236869[_0x25167f(0x64d)][_0x25167f(0x20e)]||_0x236869['key'][_0x25167f(0x65f)],_0x951137=_0x236869[_0x25167f(0x64d)]['id'],_0x17f1fd=_0x236869['message'],_0x10bd34=Buffer[_0x25167f(0x781)](_0x17f1fd[_0x25167f(0x6b9)][_0x25167f(0x46c)][_0x25167f(0x689)]('hex'),_0x25167f(0x246)),_0x12338b=(0x0,y['decryptPollVote'])(_0x1be825[_0x25167f(0x50c)][_0x25167f(0x56f)][_0x25167f(0x821)],{'pollCreatorJid':_0x5a836c,'pollMsgId':_0x951137,'pollEncKey':_0x10bd34,'voterJid':_0x1be825[_0x25167f(0x64d)][_0x25167f(0x6ee)]?this[_0x25167f(0x799)][_0x25167f(0x31d)]+_0x25167f(0x3b8):_0x1be825[_0x25167f(0x64d)][_0x25167f(0x65f)][_0x25167f(0x560)](_0x25167f(0x40a))?_0x1be825[_0x25167f(0x64d)][_0x25167f(0x20e)]:_0x1be825[_0x25167f(0x64d)]['remoteJid']}),_0x21f2a1=[],_0x55dafd=_0x12338b[_0x25167f(0x342)][_0x25167f(0x783)](_0x6a2cb1=>Buffer[_0x25167f(0x781)](_0x6a2cb1)[_0x25167f(0x689)](_0x25167f(0x246)));for(let {optionName:_0x3ad3d0}of _0x17f1fd[_0x25167f(0x595)]?.[_0x25167f(0x759)]||_0x17f1fd[_0x25167f(0x3b1)]?.[_0x25167f(0x759)]||_0x17f1fd[_0x25167f(0x203)]?.[_0x25167f(0x759)])_0x55dafd[_0x25167f(0x225)]((0x0,y[_0x25167f(0x610)])(Buffer[_0x25167f(0x781)](_0x3ad3d0))[_0x25167f(0x689)](_0x25167f(0x246)))>-0x1&&_0x21f2a1[_0x25167f(0x78b)](_0x3ad3d0);return _0x21f2a1;}}return null;},this[_0x38cfa4(0x3f8)]=(_0x58e6df,_0x4a5e2c,_0x19c240)=>{const _0x508266=_0x38cfa4;try{let _0x12408c=_0x4a5e2c?_0x58e6df[_0x4a5e2c]:void 0x0,_0x4b7f1a={},_0x2d6153=null,_0x2fed15=null,_0xda6e03=null;if(_0x58e6df['viewOnceMessageV2']?(_0x4a5e2c=$(_0x58e6df[_0x508266(0x2b1)]['message']),_0x12408c=_0x58e6df[_0x508266(0x2b1)][_0x508266(0x50c)][_0x4a5e2c]):_0x58e6df[_0x508266(0x5b1)]?(_0x4a5e2c=$(_0x58e6df['viewOnceMessageV2Extension'][_0x508266(0x50c)]),_0x12408c=_0x58e6df[_0x508266(0x5b1)][_0x508266(0x50c)][_0x4a5e2c]):_0x58e6df[_0x508266(0x49f)]?(_0x4a5e2c=$(_0x58e6df[_0x508266(0x49f)][_0x508266(0x50c)]),_0x12408c=_0x58e6df['viewOnceMessage'][_0x508266(0x50c)][_0x4a5e2c]):_0x58e6df[_0x508266(0x510)]?(_0x4a5e2c=$(_0x58e6df[_0x508266(0x50c)][_0x508266(0x510)][_0x508266(0x50c)]),_0x12408c=_0x58e6df[_0x508266(0x50c)][_0x508266(0x510)][_0x508266(0x50c)][_0x4a5e2c]):_0x58e6df[_0x508266(0x32f)]?.[_0x508266(0x50c)]?.['protocolMessage']?.['editedMessage']?(_0x4a5e2c=$(_0x58e6df[_0x508266(0x32f)][_0x508266(0x50c)][_0x508266(0x4eb)][_0x508266(0x32f)]),_0x2d6153=_0x58e6df[_0x508266(0x32f)][_0x508266(0x50c)][_0x508266(0x4eb)][_0x508266(0x64d)]['id'],_0x12408c=_0x58e6df[_0x508266(0x32f)][_0x508266(0x50c)]['protocolMessage'][_0x508266(0x32f)][_0x4a5e2c]):_0x12408c=_0x58e6df[_0x4a5e2c],!_0x4a5e2c||!_0x12408c)return console['error'](_0x508266(0x5ee),_0x58e6df),{'messageType':_0x4a5e2c,'messageContent':_0x12408c,'message_normalized':{}};_0x58e6df[_0x4a5e2c]?.[_0x508266(0x27d)]?.[_0x508266(0x807)]&&_0x58e6df[_0x4a5e2c]?.['contextInfo']?.['quotedMessage']&&(_0x2fed15=_0x58e6df[_0x4a5e2c][_0x508266(0x27d)][_0x508266(0x807)]),_0x58e6df['reactionMessage']&&(_0xda6e03=_0x58e6df[_0x508266(0x6a2)]['key']['id']);let _0x170aff;if(_0x12408c&&typeof _0x12408c=='object'&&_0x508266(0x2c2)in _0x12408c&&({pollCreationMessageKey:_0x170aff}=_0x12408c),_0x4a5e2c===_0x508266(0x250)){let _0x479c69=_0x12408c?.[_0x508266(0x50c)]?.[_0x508266(0x2a9)];_0x479c69&&(_0x12408c=_0x479c69);}if(_0x4a5e2c===_0x508266(0x595)||_0x4a5e2c===_0x508266(0x203)||_0x4a5e2c===_0x508266(0x3b1)){let _0x5a9670=_0x12408c[_0x508266(0x759)][_0x508266(0x783)](_0x2fcdc4=>_0x2fcdc4[_0x508266(0x7b6)])[_0x508266(0x261)]('|');_0x4b7f1a[_0x508266(0x738)]=_0x5a9670;}let _0x24f318=_0x12408c[_0x508266(0x317)]||_0x12408c[_0x508266(0x4d4)]||_0x12408c[_0x508266(0x62c)]||_0x12408c[_0x508266(0x6ac)];if(_0x4a5e2c===_0x508266(0x54f)){_0x24f318=(_0x12408c[_0x508266(0x49a)]||'')+'\x0a'+(_0x12408c[_0x508266(0x5e1)]||'')+'\x0a'+(_0x12408c[_0x508266(0x761)]||'');let _0x4e3aca=this[_0x508266(0x739)](_0x12408c[_0x508266(0x4df)]);_0x4b7f1a[_0x508266(0x738)]=_0x4e3aca;}if(_0x4a5e2c===_0x508266(0x5d0)&&(_0x19c240=_0x12408c[_0x508266(0x49a)]),_0x12408c['vcard']){let _0x5a2dd1=this[_0x508266(0x299)](JSON[_0x508266(0x613)](_0x12408c[_0x508266(0x4e9)],null,0x2));_0x24f318=_0x24f318+'\x0a'+_0x5a2dd1;}if(_0x12408c){let {sections:_0x2ad526,listType:_0x34cbcc,displayName:_0x199700,vcard:_0x5edd00,contactVcard:_0x1702bf,name:_0x47c57b,caption:_0x446115,conversation:_0x2e5b6a,pollCreationMessageKey:_0x236a0a,footerText:_0x9b5ed8,contentText:_0x497af7,pageCount:_0x5c2948,headerType:_0x52fc63,isAvatar:_0x1173d6,isAnimated:_0x911e80,fallbackLc:_0x106b8e,fallbackLg:_0xaeebfb,namespace:_0x414d47,elementName:_0x53c287,localizableParams:_0x3849ea,viewOnce:_0x20fc1e,height:_0x2ca666,width:_0x155c51,key:_0x5c069b,firstScanLength:_0x369895,firstScanSidecar:_0x55ce0c,gifPlayback:_0x75f205,gifAttribution:_0x3872d0,midQualityFileSha256:_0x409e36,scansSidecar:_0x57ce76,streamingSidecar:_0x42ffc9,thumbnailHeight:_0x33b4bc,thumbnailWidth:_0x21ac5c,thumbnailEncSha256:_0x445203,thumbnailDirectPath:_0x5f19c0,canonicalUrl:_0x5cc6a6,matchedText:_0x404f02,previewType:_0x305a91,thumbnailSha256:_0x453152,deviceListMetadataVersion:_0xdf1c42,inviteLinkGroupTypeV2:_0x434cc6,interactiveAnnotations:_0x376951,scanLengths:_0x32eb20,jpegThumbnail:_0x2b35ff,url:_0x52ff96,mediaKeyTimestamp:_0x3ac54e,waveform:_0x4e0824,stickerSentTs:_0x377a44,firstFrameLength:_0x42c509,fileEncSha256:_0x3a5b89,contextInfo:_0x29b97a,firstFrameSidecar:_0x23ebda,directPath:_0x370d47,fileSha256:_0x47feab,mediaKey:_0x4a57eb,senderTimestampMs:_0x189293,..._0xfa538a}=_0x12408c;(_0x4a5e2c===_0x508266(0x54f)||_0x4a5e2c===_0x508266(0x5d0))&&(delete _0xfa538a[_0x508266(0x49a)],delete _0xfa538a['description']),typeof _0x12408c==_0x508266(0x74a)?_0x4b7f1a={'text':_0x12408c,'type':_0x4a5e2c||'conversation',..._0x2d6153&&{'edited':_0x2d6153},..._0x2fed15&&{'quoted':_0x2fed15},..._0xda6e03&&{'reaction':_0xda6e03}}:_0x4b7f1a={'text':_0x24f318,..._0xfa538a,..._0x4a5e2c===_0x508266(0x56f)?{'poll_id':_0x12408c['pollCreationMessageKey']['id'],'quoted':_0x12408c['pollCreationMessageKey']['id'],'vote':_0x19c240}:{},..._0x4a5e2c===_0x508266(0x5d0)?{'vote':_0x19c240}:{},'type':_0x4a5e2c,..._0x2d6153&&{'edited':_0x2d6153},..._0x2fed15&&{'quoted':_0x2fed15},..._0xda6e03&&{'reaction':_0xda6e03},...(_0x4a5e2c===_0x508266(0x595)||_0x4a5e2c===_0x508266(0x203)||_0x4a5e2c===_0x508266(0x3b1)||_0x4a5e2c===_0x508266(0x54f))&&{'convertedOptions':_0x4b7f1a['convertedOptions']}};}return{'messageType':_0x4a5e2c,'messageContent':_0x12408c,'message_normalized':_0x4b7f1a};}catch(_0x1f702b){console['error'](_0x508266(0x4f0),_0x1f702b);}},this[_0x38cfa4(0x2d2)]=null,this['lastSend']=0x0,this[_0x38cfa4(0x7ad)]=null,(this['cleanStore'](),this[_0x38cfa4(0x799)]['qrcode']={'count':0x0});}set[a0_0x18a40e(0x2d7)](_0x1233c6){const _0x1d041c=a0_0x18a40e;if(!_0x1233c6){this[_0x1d041c(0x799)][_0x1d041c(0x317)]=(0x0,fr['v4'])();return;}this[_0x1d041c(0x799)][_0x1d041c(0x317)]=_0x1233c6,this[_0x1d041c(0x280)](_0x1d041c(0x400),{'instance':this[_0x1d041c(0x799)][_0x1d041c(0x317)],'status':'created'});}get[a0_0x18a40e(0x2d7)](){const _0x4b5e22=a0_0x18a40e;return this[_0x4b5e22(0x799)]['name'];}get['wuid'](){const _0x37c4d5=a0_0x18a40e;return this[_0x37c4d5(0x799)][_0x37c4d5(0x31d)];}async[a0_0x18a40e(0x5d7)](){const _0x48d721=a0_0x18a40e;let _0x2d1ab1=this[_0x48d721(0x5db)][_0x48d721(0x7e5)]?.[_0x48d721(0x317)]??this['client'][_0x48d721(0x7e5)]?.[_0x48d721(0x553)];if(!_0x2d1ab1){if(this[_0x48d721(0x3da)]['get'](_0x48d721(0x6f4))[_0x48d721(0x3e8)]){let _0x1e5ae6=await N['getClient']()['db'](this[_0x48d721(0x3da)][_0x48d721(0x805)](_0x48d721(0x6f4))[_0x48d721(0x580)][_0x48d721(0x6c0)]+_0x48d721(0x1bd))[_0x48d721(0x2c0)](this[_0x48d721(0x2d7)])[_0x48d721(0x24e)]({'_id':'creds'});if(_0x1e5ae6){let _0x45e80e=JSON[_0x48d721(0x596)](JSON['stringify'](_0x1e5ae6),y['BufferJSON'][_0x48d721(0x2c6)]);_0x2d1ab1=_0x45e80e['me']?.[_0x48d721(0x317)]||_0x45e80e['me']?.[_0x48d721(0x553)];}}else{if((0x0,ve[_0x48d721(0x1fc)])((0x0,F[_0x48d721(0x261)])(he,this['instanceName'],_0x48d721(0x422)))){let _0xace577=JSON['parse']((0x0,ve[_0x48d721(0x684)])((0x0,F[_0x48d721(0x261)])(he,this['instanceName'],_0x48d721(0x422)),{'encoding':_0x48d721(0x4cf)}));_0x2d1ab1=_0xace577['me']?.['name']||_0xace577['me']?.['verifiedName'];}}}return _0x2d1ab1;}get[a0_0x18a40e(0x3ee)](){const _0x2d88bf=a0_0x18a40e;return this[_0x2d88bf(0x799)]['profilePictureUrl'];}get[a0_0x18a40e(0x5b2)](){const _0x2bb2c3=a0_0x18a40e;return{'pairingCode':this['instance']['qrcode']?.[_0x2bb2c3(0x4a4)],'code':this[_0x2bb2c3(0x799)][_0x2bb2c3(0x25b)]?.['code'],'base64':this[_0x2bb2c3(0x799)][_0x2bb2c3(0x25b)]?.[_0x2bb2c3(0x1b4)]};}async[a0_0x18a40e(0x581)](){const _0x1da62b=a0_0x18a40e;let _0x49141e=await this['repository']['webhook'][_0x1da62b(0x437)](this[_0x1da62b(0x2d7)]);this['localWebhook'][_0x1da62b(0x31f)]=_0x49141e?.['url'],this[_0x1da62b(0x438)][_0x1da62b(0x717)]=_0x49141e?.[_0x1da62b(0x717)],this[_0x1da62b(0x438)]['local_map']=_0x49141e?.[_0x1da62b(0x4b6)],this[_0x1da62b(0x438)][_0x1da62b(0x4d5)]=_0x49141e?.[_0x1da62b(0x4d5)],this['localWebhook'][_0x1da62b(0x570)]=_0x49141e?.[_0x1da62b(0x570)],this['localWebhook'][_0x1da62b(0x5c8)]=_0x49141e?.[_0x1da62b(0x5c8)],this['localWebhook']['MESSAGES_UPSERT']=_0x49141e?.[_0x1da62b(0x1aa)],this[_0x1da62b(0x438)]['MESSAGES_UPDATE']=_0x49141e?.[_0x1da62b(0x497)],this[_0x1da62b(0x438)][_0x1da62b(0x75a)]=_0x49141e?.[_0x1da62b(0x75a)],this[_0x1da62b(0x438)]['GROUPS_UPDATE']=_0x49141e?.['GROUPS_UPDATE'],this['localWebhook'][_0x1da62b(0x71e)]=_0x49141e?.[_0x1da62b(0x71e)],this[_0x1da62b(0x438)][_0x1da62b(0x728)]=_0x49141e?.[_0x1da62b(0x728)],this[_0x1da62b(0x438)]['CHATS_UPSERT']=_0x49141e?.['CHATS_UPSERT'],this[_0x1da62b(0x438)]['CHATS_UPDATE']=_0x49141e?.[_0x1da62b(0x232)],this[_0x1da62b(0x438)][_0x1da62b(0x3fe)]=_0x49141e?.[_0x1da62b(0x3fe)],this['localWebhook'][_0x1da62b(0x527)]=_0x49141e?.[_0x1da62b(0x527)],this[_0x1da62b(0x438)]['CONTACTS_UPSERT']=_0x49141e?.[_0x1da62b(0x255)],this['localWebhook']['CONTACTS_UPDATE']=_0x49141e?.[_0x1da62b(0x32e)],this[_0x1da62b(0x438)][_0x1da62b(0x27a)]=_0x49141e?.[_0x1da62b(0x27a)],this['localWebhook'][_0x1da62b(0x29b)]=_0x49141e?.[_0x1da62b(0x29b)],this[_0x1da62b(0x438)]['CONNECTION_UPDATE']=_0x49141e?.['CONNECTION_UPDATE'],this[_0x1da62b(0x438)][_0x1da62b(0x72f)]=_0x49141e?.[_0x1da62b(0x72f)];}async[a0_0x18a40e(0x53c)](_0x3d3048){const _0x39b38d=a0_0x18a40e;let _0x427f06=[_0x39b38d(0x6bf),_0x39b38d(0x31f),_0x39b38d(0x717),_0x39b38d(0x4b6),_0x39b38d(0x4d5),_0x39b38d(0x570),_0x39b38d(0x497),'MESSAGES_UPSERT',_0x39b38d(0x5c8),'GROUPS_UPSERT',_0x39b38d(0x521),_0x39b38d(0x71e),'CHATS_SET','CHATS_UPSERT',_0x39b38d(0x232),_0x39b38d(0x3fe),_0x39b38d(0x527),_0x39b38d(0x255),_0x39b38d(0x32e),_0x39b38d(0x27a),_0x39b38d(0x29b),_0x39b38d(0x6ce),_0x39b38d(0x72f)],_0x4630af={};return _0x427f06['forEach'](_0x470ce5=>{_0x3d3048[_0x470ce5]!==void 0x0&&(_0x4630af[_0x470ce5]=_0x3d3048[_0x470ce5]);}),await this[_0x39b38d(0x34e)][_0x39b38d(0x7bf)][_0x39b38d(0x343)](_0x4630af,this['instanceName']),Object[_0x39b38d(0x742)](this[_0x39b38d(0x438)],_0x4630af),await this[_0x39b38d(0x34e)]['webhook'][_0x39b38d(0x437)](this['instanceName']);}async[a0_0x18a40e(0x4f4)](){const _0x599c66=a0_0x18a40e;return await this[_0x599c66(0x34e)][_0x599c66(0x7bf)][_0x599c66(0x437)](this[_0x599c66(0x2d7)]);}async[a0_0x18a40e(0x280)](_0x59519b,_0xb09800){const _0x56c1c1=a0_0x18a40e;let _0x3cdf81=_0x59519b['replace'](/[\.-]/gm,'_')[_0x56c1c1(0x456)](),_0x3555c6=this['localWebhook'][_0x56c1c1(0x717)]&&(0x0,k[_0x56c1c1(0x48f)])(this[_0x56c1c1(0x438)][_0x56c1c1(0x31f)])?this[_0x56c1c1(0x438)][_0x56c1c1(0x31f)]+(this[_0x56c1c1(0x438)][_0x56c1c1(0x4b6)]?this[_0x56c1c1(0x620)][_0x59519b]:''):null,_0x36a833=this[_0x56c1c1(0x438)][_0x3cdf81],_0x13b2ca=oe&&oe[_0x56c1c1(0x717)]&&(0x0,k[_0x56c1c1(0x48f)])(oe[_0x56c1c1(0x31f)])?oe[_0x56c1c1(0x31f)]+(oe[_0x56c1c1(0x4b6)]?this[_0x56c1c1(0x620)][_0x59519b]:''):null,_0x309b25=oe?oe[_0x3cdf81]:null;if(_0x36a833&&_0x3555c6)try{await se[_0x56c1c1(0x41b)][_0x56c1c1(0x343)]({'baseURL':_0x3555c6})[_0x56c1c1(0x301)]('',{'event':_0x59519b,'instance':this[_0x56c1c1(0x799)]['name'],'data':_0xb09800}),this[_0x56c1c1(0x525)][_0x56c1c1(0x737)](_0x56c1c1(0x6b0)+_0x59519b+':\x20'+_0x3555c6);}catch(_0x175e78){this[_0x56c1c1(0x525)][_0x56c1c1(0x62b)](this[_0x56c1c1(0x2d7)]+'\x20('+this[_0x56c1c1(0x799)][_0x56c1c1(0x31d)]+_0x56c1c1(0x26f)+{'local':c[_0x56c1c1(0x317)]+_0x56c1c1(0x7a3),'message':_0x175e78?.[_0x56c1c1(0x50c)],'hostName':_0x175e78?.['hostname'],'syscall':_0x175e78?.[_0x56c1c1(0x588)],'code':_0x175e78?.[_0x56c1c1(0x26a)],'error':_0x175e78?.[_0x56c1c1(0x234)],'stack':_0x175e78?.['stack'],'name':_0x175e78?.[_0x56c1c1(0x317)]});}if(_0x309b25&&_0x13b2ca)try{await se[_0x56c1c1(0x41b)][_0x56c1c1(0x343)]({'baseURL':_0x13b2ca})[_0x56c1c1(0x301)]('',{'event':_0x59519b,'instance':this[_0x56c1c1(0x799)][_0x56c1c1(0x317)],'data':_0xb09800}),this[_0x56c1c1(0x525)]['log']('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x59519b+':\x20'+_0x13b2ca);}catch(_0x35a0ae){this[_0x56c1c1(0x525)][_0x56c1c1(0x62b)](this[_0x56c1c1(0x2d7)]+'\x20('+this[_0x56c1c1(0x799)][_0x56c1c1(0x31d)]+_0x56c1c1(0x26f)+{'local':c[_0x56c1c1(0x317)]+_0x56c1c1(0x5f4),'message':_0x35a0ae?.['message'],'hostName':_0x35a0ae?.['hostname'],'syscall':_0x35a0ae?.['syscall'],'code':_0x35a0ae?.[_0x56c1c1(0x26a)],'error':_0x35a0ae?.[_0x56c1c1(0x234)],'stack':_0x35a0ae?.['stack'],'name':_0x35a0ae?.[_0x56c1c1(0x317)]});}}async['connectionUpdate']({qr:_0x4ac475,connection:_0x19d0f5,lastDisconnect:_0x545954}){const _0x34ae41=a0_0x18a40e;if(_0x4ac475){if(this[_0x34ae41(0x799)]['qrcode'][_0x34ae41(0x7e6)]===ho)return this['sendDataWebhook']('qrcode.updated',{'message':_0x34ae41(0x60b),'statusCode':y[_0x34ae41(0x70f)][_0x34ae41(0x7e8)]}),this[_0x34ae41(0x762)]={'state':_0x34ae41(0x207),'statusReason':y['DisconnectReason'][_0x34ae41(0x6dd)]},this[_0x34ae41(0x280)](_0x34ae41(0x5fd),{'instance':this['instance'][_0x34ae41(0x317)],...this['stateConnection']}),this[_0x34ae41(0x280)](_0x34ae41(0x400),{'instance':this[_0x34ae41(0x799)][_0x34ae41(0x317)],'status':_0x34ae41(0x5a5)}),this[_0x34ae41(0x34e)]['auth'][_0x34ae41(0x343)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x34ae41(0x70e)]()},this[_0x34ae41(0x799)][_0x34ae41(0x317)]),this['endSession']=!0x0,this[_0x34ae41(0x825)]['emit'](_0x34ae41(0x51f),this[_0x34ae41(0x799)][_0x34ae41(0x317)]);this[_0x34ae41(0x799)][_0x34ae41(0x25b)][_0x34ae41(0x7e6)]++;let _0x5e0f09={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x34ae41(0x382)}};wr[_0x34ae41(0x41b)][_0x34ae41(0x2c7)](_0x4ac475,_0x5e0f09,(_0x4c9dc7,_0x420f73)=>{const _0x358be2=_0x34ae41;if(_0x4c9dc7){this['logger'][_0x358be2(0x62b)](this[_0x358be2(0x2d7)]+'\x20('+this['instance'][_0x358be2(0x31d)]+_0x358be2(0x520)+(_0x4c9dc7 instanceof Error?_0x4c9dc7[_0x358be2(0x50c)]:JSON[_0x358be2(0x613)](_0x4c9dc7,null,0x2)));return;}this['instance'][_0x358be2(0x25b)][_0x358be2(0x1b4)]=_0x420f73,this[_0x358be2(0x799)]['qrcode'][_0x358be2(0x26a)]=_0x4ac475,this[_0x358be2(0x280)]('qrcode.updated',{'qrcode':{'instance':this[_0x358be2(0x799)][_0x358be2(0x317)],'pairingCode':this['instance'][_0x358be2(0x25b)][_0x358be2(0x4a4)],'code':_0x4ac475,'base64':_0x420f73}});}),this['phoneNumber']?this[_0x34ae41(0x799)][_0x34ae41(0x25b)][_0x34ae41(0x4a4)]=await this[_0x34ae41(0x5db)][_0x34ae41(0x565)](this['phoneNumber']):this[_0x34ae41(0x799)]['qrcode'][_0x34ae41(0x4a4)]=null,yr['default'][_0x34ae41(0x6c7)](_0x4ac475,{'small':!0x0},_0x4173a6=>this[_0x34ae41(0x525)][_0x34ae41(0x737)](_0x34ae41(0x2ee)+this[_0x34ae41(0x799)][_0x34ae41(0x317)]+',\x20qrcodeCount:\x20'+this[_0x34ae41(0x799)]['qrcode']['count']+_0x34ae41(0x209)+this[_0x34ae41(0x799)][_0x34ae41(0x25b)][_0x34ae41(0x4a4)]+'\x20}\x0a'+_0x4173a6));}if(_0x19d0f5&&(this[_0x34ae41(0x762)]={'state':_0x19d0f5,'statusReason':_0x545954?.['error']?.[_0x34ae41(0x248)]?.[_0x34ae41(0x2a3)]??0xc8},this[_0x34ae41(0x280)]('connection.update',{'instance':this[_0x34ae41(0x799)][_0x34ae41(0x317)],...this[_0x34ae41(0x762)]})),_0x19d0f5===_0x34ae41(0x345)){if(this[_0x34ae41(0x2bf)]++,this[_0x34ae41(0x488)][_0x34ae41(0x78b)](Date[_0x34ae41(0x70e)]()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x34ae41(0x598)](_0x36fc30=>Date['now']()-_0x36fc30<this[_0x34ae41(0x1e3)]),_0x545954['error']?.['output']?.[_0x34ae41(0x2a3)]!==y[_0x34ae41(0x70f)]['loggedOut']&&this['reconnectTimestamps']['length']<=this[_0x34ae41(0x380)])await this[_0x34ae41(0x554)]();else{this[_0x34ae41(0x280)](_0x34ae41(0x400),{'instance':this[_0x34ae41(0x799)][_0x34ae41(0x317)],'status':'removed'}),this['isConnected']=!0x1,this[_0x34ae41(0x34e)]['webhook'][_0x34ae41(0x4fe)](this[_0x34ae41(0x2d7)]),this[_0x34ae41(0x34e)][_0x34ae41(0x7c0)][_0x34ae41(0x343)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x34ae41(0x799)][_0x34ae41(0x317)]);try{this[_0x34ae41(0x525)][_0x34ae41(0x4c0)](this[_0x34ae41(0x2d7)]+'\x20('+this['instance'][_0x34ae41(0x31d)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x380188=await this['repository']['message'][_0x34ae41(0x279)](this['instance'][_0x34ae41(0x31d)]);_0x380188['success']?this[_0x34ae41(0x525)][_0x34ae41(0x4c0)](this['instanceName']+'\x20('+this[_0x34ae41(0x799)][_0x34ae41(0x31d)]+_0x34ae41(0x6b5)):console['error'](_0x34ae41(0x815),_0x380188[_0x34ae41(0x62b)]);}catch(_0x5f17c8){console[_0x34ae41(0x62b)](_0x34ae41(0x7ce),_0x5f17c8);}this['delayMessage']!==null&&(this[_0x34ae41(0x525)][_0x34ae41(0x4c0)](this['instanceName']+'\x20('+this[_0x34ae41(0x799)][_0x34ae41(0x31d)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x34ae41(0x7ec)]),this[_0x34ae41(0x7ec)]=null),this[_0x34ae41(0x525)][_0x34ae41(0x4c0)](this['instanceName']+'\x20('+this[_0x34ae41(0x799)][_0x34ae41(0x31d)]+_0x34ae41(0x38f)),this['AutomateSystem']=null,this[_0x34ae41(0x825)][_0x34ae41(0x609)](_0x34ae41(0x76b),this[_0x34ae41(0x799)][_0x34ae41(0x317)],_0x34ae41(0x658)),this[_0x34ae41(0x5db)]?.['ws']?.[_0x34ae41(0x345)](),this[_0x34ae41(0x5db)][_0x34ae41(0x2f1)](new Error(_0x34ae41(0x314)));}}if(_0x19d0f5===_0x34ae41(0x2de)){this['resetReconnectionVariables'],this[_0x34ae41(0x799)]['wuid']=this[_0x34ae41(0x5db)]['user']['id'][_0x34ae41(0x1b1)](/:\d+/,'')[_0x34ae41(0x1b1)]('@s.whatsapp.net',''),this[_0x34ae41(0x799)][_0x34ae41(0x3ee)]=(await this[_0x34ae41(0x7fd)](this[_0x34ae41(0x799)][_0x34ae41(0x31d)]+_0x34ae41(0x3b8)))['profilePictureUrl'],this[_0x34ae41(0x34e)][_0x34ae41(0x7c0)][_0x34ae41(0x343)]({'online':!0x0,'owner':this[_0x34ae41(0x799)][_0x34ae41(0x31d)],'lastDisconnect':null},this['instance'][_0x34ae41(0x317)]);let _0xc69274='Nmero:\x20'+this[_0x34ae41(0x799)][_0x34ae41(0x31d)],_0x26b45e=0x28,_0x2066c8=Math[_0x34ae41(0x5b8)]((_0x26b45e-_0xc69274[_0x34ae41(0x233)])/0x2),_0x6b589b='\x20'['repeat'](_0x2066c8),_0x4c6863=_0x34ae41(0x2a7),_0x3d3e34=_0x34ae41(0x4c9)+this[_0x34ae41(0x799)]['name'],_0x243c70=(''+_0x6b589b+_0xc69274+_0x6b589b)['padEnd'](_0x26b45e,'\x20'),_0x9740ff=(''+_0x6b589b+_0x4c6863+_0x6b589b)[_0x34ae41(0x384)](_0x26b45e,'\x20'),_0x4ab13f=(''+_0x6b589b+_0x3d3e34+_0x6b589b)[_0x34ae41(0x384)](_0x26b45e,'\x20'),_0x3ba340=Math['max'](_0x243c70[_0x34ae41(0x233)],_0x9740ff[_0x34ae41(0x233)],_0x4ab13f[_0x34ae41(0x233)]),_0x3f431d=_0x243c70[_0x34ae41(0x384)](_0x3ba340,'\x20'),_0xd5f76c=_0x9740ff['padEnd'](_0x3ba340,'\x20'),_0x5eeb91=_0x4ab13f[_0x34ae41(0x384)](_0x3ba340,'\x20');this['logger']['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x34ae41(0x273)](_0x3ba340)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd5f76c+_0x34ae41(0x29a)+_0x5eeb91+_0x34ae41(0x29a)+_0x3f431d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x34ae41(0x273)](_0x3ba340)+'')[_0x34ae41(0x1b1)](/^ +/gm,'\x20\x20')),this[_0x34ae41(0x37f)](),this['isConnected']=!0x0;}}[a0_0x18a40e(0x1a8)](){const _0x10383e=a0_0x18a40e;this[_0x10383e(0x2bf)]=0x0,this[_0x10383e(0x488)]=[];}async[a0_0x18a40e(0x820)](_0x48b215,_0x2066ef=!0x1){const _0x2c5595=a0_0x18a40e;try{let _0x37c537=await this[_0x2c5595(0x34e)]['message'][_0x2c5595(0x437)]({'where':{'_id':_0x48b215['id']}},this[_0x2c5595(0x799)]['wuid']);return _0x2066ef?_0x37c537[0x0]:_0x37c537[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x18a40e(0x76c)](){const _0x3abd62=a0_0x18a40e;let _0x230dd7=this['configService'][_0x3abd62(0x805)](_0x3abd62(0x6d9)),_0x300796=this[_0x3abd62(0x3da)][_0x3abd62(0x805)]('DATABASE');_0x230dd7?.[_0x3abd62(0x514)]&&!_0x300796[_0x3abd62(0x3e8)]&&setInterval(()=>{const _0x54479e=_0x3abd62;try{for(let [_0x39577e,_0x4d5425]of Object[_0x54479e(0x6e7)](_0x230dd7))_0x4d5425===!0x0&&(0x0,Dt[_0x54479e(0x3b0)])(_0x54479e(0x616)+(0x0,F['join'])(this['storePath'],_0x39577e['toLowerCase'](),this['instance'][_0x54479e(0x31d)])+'/*.json');}catch{}},(_0x230dd7?.[_0x3abd62(0x514)]??0xe10)*0x3e8);}async[a0_0x18a40e(0x1d0)](){const _0x31749f=a0_0x18a40e;let _0xc79dc1=this[_0x31749f(0x3da)]['get'](_0x31749f(0x6f4)),_0x657155=this[_0x31749f(0x3da)]['get']('REDIS');return _0x657155?.['ENABLED']?await ys(_0x657155,this['instance']['name']):_0xc79dc1[_0x31749f(0x3e8)]?await ws(this[_0x31749f(0x799)][_0x31749f(0x317)]):await(0x0,y['useMultiFileAuthState'])((0x0,F[_0x31749f(0x261)])(he,this[_0x31749f(0x799)][_0x31749f(0x317)]));}async[a0_0x18a40e(0x37f)](){const _0x24a34f=a0_0x18a40e;let _0x5a9c0f=()=>Math[_0x24a34f(0x5b8)](Math['random']()*0x2711)+0x7d0,_0xb80cb0=async()=>{const _0x2bdde7=_0x24a34f;if(!this[_0x2bdde7(0x67a)]){this['logger'][_0x2bdde7(0x4c0)](_0x2bdde7(0x64a)),this['isRunning']=!0x1;return;}if(this[_0x2bdde7(0x799)][_0x2bdde7(0x31d)]&&this[_0x2bdde7(0x5a1)]&&this[_0x2bdde7(0x7ec)]!==null&&this[_0x2bdde7(0x7ec)]!==void 0x0){let _0x104208=Math[_0x2bdde7(0x749)](this['delayMessage']/0xea60);this['logger'][_0x2bdde7(0x4c0)](this[_0x2bdde7(0x2d7)]+'\x20('+this[_0x2bdde7(0x799)][_0x2bdde7(0x31d)]+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x104208+'\x20minutos\x20verificar\x20novas\x20mensagens'),this[_0x2bdde7(0x764)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x2bdde7(0x525)][_0x2bdde7(0x4c0)](this[_0x2bdde7(0x2d7)]+'\x20('+this[_0x2bdde7(0x799)]['wuid']+_0x2bdde7(0x528)),this['logger'][_0x2bdde7(0x4c0)](this['instanceName']+'\x20('+this[_0x2bdde7(0x799)][_0x2bdde7(0x31d)]+_0x2bdde7(0x6bc)),this['AutomateSystem']||await this[_0x2bdde7(0x526)](),(this['delayMessage']===null||this[_0x2bdde7(0x7ec)]===void 0x0)&&await this[_0x2bdde7(0x7bb)]());if(this[_0x2bdde7(0x764)]){let _0x39a35e=_0x5a9c0f();this[_0x2bdde7(0x525)][_0x2bdde7(0x4c0)](this['instanceName']+_0x2bdde7(0x4bb)+_0x39a35e/0x3e8+'\x20segundos'),setTimeout(_0xb80cb0,_0x39a35e);}};if(this[_0x24a34f(0x764)])return;this[_0x24a34f(0x764)]=!0x0;let _0x5f622f=_0x5a9c0f();setTimeout(_0xb80cb0,_0x5f622f);}async[a0_0x18a40e(0x1cf)](_0x3334dd,_0xd86e35,_0x37010a,_0x1d6cee,_0x261c3c){const _0x20204c=a0_0x18a40e;this['logger'][_0x20204c(0x4c0)](_0x20204c(0x814));try{let _0x5a0cce={'host':_0x3334dd,'port':parseInt(_0xd86e35),'protocol':_0x37010a};_0x1d6cee&&_0x261c3c&&(_0x5a0cce={..._0x5a0cce,'auth':{'username':_0x1d6cee,'password':_0x261c3c}});let _0x169611=[_0x20204c(0x62d),_0x20204c(0x23c),_0x20204c(0x79a)];for(let _0x1401b0 of _0x169611)try{let _0x424455=await se['default'][_0x20204c(0x805)](_0x1401b0,{'proxy':_0x5a0cce}),_0x171a07;return _0x1401b0[_0x20204c(0x3a7)](_0x20204c(0x381))||_0x1401b0[_0x20204c(0x3a7)](_0x20204c(0x412))?_0x171a07=_0x424455['data']['ip']:_0x1401b0[_0x20204c(0x3a7)](_0x20204c(0x6c1))&&(_0x171a07=_0x424455[_0x20204c(0x747)]['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x20204c(0x525)]['verbose'](_0x20204c(0x52d)+_0x1401b0+':\x20'+_0x171a07),!0x0;}catch(_0x204858){this[_0x20204c(0x525)]['error'](_0x20204c(0x2ad)+_0x1401b0+_0x20204c(0x4db)+_0x204858);}return!0x1;}catch(_0x5b73f7){return this['logger'][_0x20204c(0x62b)]('testProxy\x20error:\x20'+_0x5b73f7),_0x5b73f7[_0x20204c(0x7e4)]?(this[_0x20204c(0x525)][_0x20204c(0x62b)]('Error\x20data:'+_0x5b73f7[_0x20204c(0x7e4)][_0x20204c(0x747)]),this[_0x20204c(0x525)]['error'](_0x20204c(0x319)+_0x5b73f7[_0x20204c(0x7e4)]['status']),this[_0x20204c(0x525)][_0x20204c(0x62b)](_0x20204c(0x271)+_0x5b73f7['response'][_0x20204c(0x5eb)])):_0x5b73f7['request']?this[_0x20204c(0x525)]['error'](_0x20204c(0x58e)+_0x5b73f7[_0x20204c(0x3cc)]):this[_0x20204c(0x525)][_0x20204c(0x62b)]('Error\x20message:'+_0x5b73f7[_0x20204c(0x50c)]),!0x1;}}async['tryProxy'](_0x339f9d){const _0x55493f=a0_0x18a40e;if(console['log']('tryProxy'),await this[_0x55493f(0x1cf)](_0x339f9d[_0x55493f(0x236)],_0x339f9d[_0x55493f(0x275)],_0x339f9d['protocol'],_0x339f9d['username'],_0x339f9d['password'])){console[_0x55493f(0x737)](_0x55493f(0x1e7));let _0x624e6a=_0x339f9d[_0x55493f(0x44c)]+_0x55493f(0x48a)+_0x339f9d[_0x55493f(0x236)]+':'+_0x339f9d[_0x55493f(0x275)];return _0x339f9d['username']&&_0x339f9d[_0x55493f(0x670)]&&(_0x624e6a=_0x339f9d[_0x55493f(0x473)]+':'+_0x339f9d[_0x55493f(0x670)]+'@'+_0x624e6a),this[_0x55493f(0x34e)][_0x55493f(0x7c0)][_0x55493f(0x343)]({'ip':_0x339f9d['host']},this[_0x55493f(0x799)]['name']),{'agent':new br[(_0x55493f(0x32a))](_0x624e6a)};}return null;}[a0_0x18a40e(0x7d0)](_0x59463c){const _0xf54279=a0_0x18a40e;let _0x3a76a7=_0x59463c['split'](':');if(_0x3a76a7[_0xf54279(0x233)]!==0x4)throw new Error('Formato\x20invlido\x20de\x20proxy');return{'host':_0x3a76a7[0x0],'port':_0x3a76a7[0x1],'username':_0x3a76a7[0x2],'password':_0x3a76a7[0x3],'protocol':_0xf54279(0x2a1)};}async[a0_0x18a40e(0x554)](_0x519e01,_0x4124e7=!0x0){const _0x3a7402=a0_0x18a40e;try{let _0x29d773={},_0x1e7c32=0x0,_0x5eaa48=this['configService']['get'](_0x3a7402(0x46a))||!0x1;if(console[_0x3a7402(0x737)](_0x3a7402(0x79d),_0x5eaa48),_0x5eaa48){let _0x727d31;try{let _0x38a812=(await this[_0x3a7402(0x34e)][_0x3a7402(0x7c0)][_0x3a7402(0x437)](this[_0x3a7402(0x2d7)]))['ip'];for(_0x38a812?_0x727d31=pr(_0x38a812):_0x727d31=bs(),_0x727d31&&Ss(_0x727d31)&&(_0x29d773=await this['tryProxy'](_0x727d31),_0x29d773&&_0x1e7c32++);!_0x29d773&&_0x1e7c32<0x3;){let _0x1ff723=bs();if(_0x1ff723){if(_0x727d31=this[_0x3a7402(0x7d0)](_0x1ff723['host']+':'+_0x1ff723[_0x3a7402(0x275)]+':'+_0x1ff723['username']+':'+_0x1ff723['password']),Ss(_0x727d31)){if(_0x29d773=await this[_0x3a7402(0x460)](_0x727d31),_0x29d773)break;}else this[_0x3a7402(0x525)][_0x3a7402(0x62b)](_0x3a7402(0x678));}_0x1e7c32++;}}catch(_0x3ecb02){this['logger'][_0x3a7402(0x62b)]('Erro\x20ao\x20configurar\x20proxy:\x20'+_0x3ecb02),_0x29d773={};}!_0x29d773&&_0x1e7c32>=0x3&&(this[_0x3a7402(0x525)][_0x3a7402(0x3e1)](_0x3a7402(0x7f1)),_0x29d773={});}this[_0x3a7402(0x581)](),this[_0x3a7402(0x799)][_0x3a7402(0x50e)]=await this['defineAuthState']();let {version:_0x23d781}=await(0x0,y['fetchLatestBaileysVersion'])(),_0x54286b=[vs,Sr,(0x0,Es[_0x3a7402(0x640)])()],_0x264532={..._0x29d773,'auth':{'creds':this[_0x3a7402(0x799)][_0x3a7402(0x50e)][_0x3a7402(0x5fc)][_0x3a7402(0x305)],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this['instance'][_0x3a7402(0x50e)][_0x3a7402(0x5fc)][_0x3a7402(0x3f3)],(0x0,Ot[_0x3a7402(0x41b)])({'level':_0x3a7402(0x62b)}))},'logger':(0x0,Ot[_0x3a7402(0x41b)])({'level':_0x3a7402(0x62b)}),'printQRInTerminal':!0x1,'browser':_0x519e01?[_0x3a7402(0x669),vs,(0x0,Es[_0x3a7402(0x640)])()]:_0x54286b,'version':_0x23d781,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3a7402(0x19d)],'getMessage':async _0x3b4852=>await this[_0x3a7402(0x820)](_0x3b4852),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3d6ce9=>(_0x3d6ce9[_0x3a7402(0x54f)]?.['listType']==y['proto'][_0x3a7402(0x813)][_0x3a7402(0x5be)]['ListType']['PRODUCT_LIST']&&(_0x3d6ce9=JSON[_0x3a7402(0x596)](JSON[_0x3a7402(0x613)](_0x3d6ce9)),_0x3d6ce9[_0x3a7402(0x54f)][_0x3a7402(0x771)]=y['proto']['Message'][_0x3a7402(0x5be)]['ListType'][_0x3a7402(0x51b)]),_0x3d6ce9)};return this[_0x3a7402(0x3c7)]=!0x1,this[_0x3a7402(0x5db)]=(0x0,y[_0x3a7402(0x41b)])(_0x264532),this[_0x3a7402(0x7da)](),this[_0x3a7402(0x74b)]=_0x519e01,this['client'];}catch(_0xbd2d15){throw this['logger'][_0x3a7402(0x62b)](this[_0x3a7402(0x2d7)]+'\x20('+this['instance'][_0x3a7402(0x31d)]+_0x3a7402(0x26f)+(_0xbd2d15 instanceof Error?_0xbd2d15[_0x3a7402(0x50c)]:JSON['stringify'](_0xbd2d15,null,0x2))),new O(_0xbd2d15?.['toString']());}}[a0_0x18a40e(0x7da)](){const _0x2da8e2=a0_0x18a40e;this[_0x2da8e2(0x5db)]['ev'][_0x2da8e2(0x57b)](_0x10e2ba=>{const _0x6ce250=_0x2da8e2;if(!this[_0x6ce250(0x3c7)]){let _0x4f0c4b=this[_0x6ce250(0x3da)][_0x6ce250(0x805)]('DATABASE');if(_0x10e2ba['labels.edit']){let _0x27b026=_0x10e2ba['labels.edit'];this[_0x6ce250(0x433)][_0x6ce250(0x5d9)](_0x27b026);}if(_0x10e2ba['labels.association']){let _0x3174ba=_0x10e2ba[_0x6ce250(0x2e4)];this[_0x6ce250(0x433)][_0x6ce250(0x2e4)](_0x3174ba);}if(_0x10e2ba[_0x6ce250(0x5fd)]&&this[_0x6ce250(0x2a6)](_0x10e2ba['connection.update']),_0x10e2ba[_0x6ce250(0x253)]&&this['instance'][_0x6ce250(0x50e)][_0x6ce250(0x284)](),_0x10e2ba[_0x6ce250(0x3bc)]){let _0x2ba3cd=_0x10e2ba[_0x6ce250(0x3bc)];this[_0x6ce250(0x433)]['messaging-history.set'](_0x2ba3cd,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x28b)]){let _0xc9ad17=_0x10e2ba['messages.upsert'];this[_0x6ce250(0x433)][_0x6ce250(0x28b)](_0xc9ad17,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x51a)]){let _0x30c9f9=_0x10e2ba[_0x6ce250(0x51a)];_0x30c9f9[_0x6ce250(0x45f)](_0x1d9f2b=>{const _0x53da48=_0x6ce250;if(hr[_0x1d9f2b[_0x53da48(0x64d)]['id']]){this[_0x53da48(0x5db)]['ev'][_0x53da48(0x609)](_0x53da48(0x28b),{'messages':[_0x1d9f2b],'type':_0x53da48(0x600)}),delete hr[_0x1d9f2b[_0x53da48(0x64d)]['id']];return;}}),this[_0x6ce250(0x433)]['messages.update'](_0x30c9f9,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x28f)]){let _0x5975d3=_0x10e2ba[_0x6ce250(0x28f)];if(this['localWebhook']?.[_0x6ce250(0x72f)]&&_0x5975d3['id']['includes'](_0x6ce250(0x701)))return;this[_0x6ce250(0x280)](_0x6ce250(0x28f),_0x5975d3);}if(!this[_0x6ce250(0x438)]?.['groups_ignore']){if(_0x10e2ba[_0x6ce250(0x7a8)]){let _0x4409bd=_0x10e2ba[_0x6ce250(0x7a8)];this['groupHandler']['groups.upsert'](_0x4409bd);}if(_0x10e2ba[_0x6ce250(0x760)]){let _0x25da8e=_0x10e2ba[_0x6ce250(0x760)];this['groupHandler'][_0x6ce250(0x760)](_0x25da8e);}if(_0x10e2ba[_0x6ce250(0x50d)]){let _0x5d0862=_0x10e2ba['group-participants.update'];this[_0x6ce250(0x30a)]['group-participants.update'](_0x5d0862);}}if(_0x10e2ba[_0x6ce250(0x3db)]){let _0x5f490f=_0x10e2ba[_0x6ce250(0x3db)];this['chatHandle'][_0x6ce250(0x3db)](_0x5f490f,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x611)]){let _0x29e0c8=_0x10e2ba[_0x6ce250(0x611)];this[_0x6ce250(0x211)]['chats.update'](_0x29e0c8,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x5de)]){let _0x22a5ab=_0x10e2ba['chats.delete'];this[_0x6ce250(0x211)][_0x6ce250(0x5de)](_0x22a5ab);}if(_0x10e2ba['contacts.upsert']){let _0x4d1d6f=_0x10e2ba[_0x6ce250(0x483)];this[_0x6ce250(0x77b)][_0x6ce250(0x483)](_0x4d1d6f,_0x4f0c4b);}if(_0x10e2ba[_0x6ce250(0x4b4)]){let _0x5b0436=_0x10e2ba[_0x6ce250(0x4b4)];this['contactHandle'][_0x6ce250(0x4b4)](_0x5b0436,_0x4f0c4b);}}});}[a0_0x18a40e(0x5a2)](_0x4d6151){return new Promise(_0x3754e3=>setTimeout(_0x3754e3,_0x4d6151));}['formatBRNumber'](_0x7aa264){const _0x13d228=a0_0x18a40e;let _0x4ec753=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x13d228(0x667)](_0x7aa264);if(_0x4ec753&&_0x4ec753[0x1]==='55'){let _0x277963=_0x4ec753[0x2],_0x45735b=_0x4ec753[0x3],_0x226579=_0x4ec753[0x4];if(_0x277963>='31'&&_0x45735b==='9')return _0x4ec753[0x1]+_0x277963+_0x226579;}return _0x7aa264;}['createJid'](_0x186beb){const _0x14c2f7=a0_0x18a40e;return _0x186beb['includes'](_0x14c2f7(0x701))||_0x186beb[_0x14c2f7(0x3a7)](_0x14c2f7(0x3b8))||_0x186beb[_0x14c2f7(0x3a7)](_0x14c2f7(0x540))?_0x186beb:(_0x186beb=_0x186beb?.[_0x14c2f7(0x1b1)](/\s/g,'')['replace'](/\+/g,'')[_0x14c2f7(0x1b1)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x186beb[_0x14c2f7(0x233)]>=0x12?(_0x186beb=_0x186beb['replace'](/[^\d-]/g,''),_0x186beb+_0x14c2f7(0x701)):(_0x186beb=_0x186beb['replace'](/\D/g,''),this[_0x14c2f7(0x58b)](_0x186beb)+_0x14c2f7(0x3b8)));}async[a0_0x18a40e(0x3ce)](_0x1ce7de){const _0x265030=a0_0x18a40e;let _0x3a795b=this[_0x265030(0x571)](_0x1ce7de[_0x265030(0x7f3)]),_0x53ef91=(await this[_0x265030(0x73a)]({'numbers':[_0x3a795b]}))[0x0];if(!_0x53ef91['exists']&&!(0x0,y['isJidGroup'])(_0x53ef91[_0x265030(0x504)]))throw new m(_0x53ef91);let _0x146da8=(0x0,y[_0x265030(0x2bb)])(_0x3a795b)?_0x3a795b:_0x53ef91['jid'];if((0x0,y['isJidGroup'])(_0x146da8))try{await this['client']['groupMetadata'](_0x146da8);}catch{throw new j(_0x265030(0x5c1));}try{return await this['client'][_0x265030(0x34a)](_0x146da8),await this[_0x265030(0x5db)][_0x265030(0x1b5)](_0x1ce7de[_0x265030(0x6ff)],_0x3a795b),{'status':0xc8,'presence':_0x1ce7de[_0x265030(0x6ff)]};}catch(_0x2d129e){throw new m(_0x2d129e[_0x265030(0x689)]());}}async[a0_0x18a40e(0x7fd)](_0xf21eb3){const _0x35aed0=a0_0x18a40e;let _0x5cc30d=this[_0x35aed0(0x571)](_0xf21eb3);try{return{'wuid':_0x5cc30d,'profilePictureUrl':await this[_0x35aed0(0x5db)][_0x35aed0(0x3ee)](_0x5cc30d,_0x35aed0(0x82d))};}catch{return{'wuid':_0x5cc30d,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0xb42e3f,_0x47a3b0,_0x1ddd0b){const _0x31c58e=a0_0x18a40e;_0x1ddd0b||(_0x1ddd0b={});let _0x135356=(await this['whatsappNumber']({'numbers':[_0xb42e3f]}))[0x0];if(!_0x135356[_0x31c58e(0x427)]&&!(0x0,y[_0x31c58e(0x2bb)])(_0x135356[_0x31c58e(0x504)])&&!_0x135356['jid']['includes'](_0x31c58e(0x540)))throw new m(_0x135356);let _0x38829c=_0x135356[_0x31c58e(0x504)];try{_0x1ddd0b?.[_0x31c58e(0x41d)]&&(await this[_0x31c58e(0x5db)][_0x31c58e(0x34a)](_0x38829c),await this[_0x31c58e(0x5db)][_0x31c58e(0x1b5)](_0x1ddd0b?.['presence']??_0x31c58e(0x7b7),_0x38829c),await(0x0,y[_0x31c58e(0x41d)])(_0x1ddd0b[_0x31c58e(0x41d)]),await this['client'][_0x31c58e(0x1b5)](_0x31c58e(0x1ca),_0x38829c));let _0xe88323=_0x1ddd0b?.['linkPreview']!=!0x1?void 0x0:!0x1,_0xc66a30;if(_0x1ddd0b?.[_0x31c58e(0x662)]){let _0x191663=_0x1ddd0b?.[_0x31c58e(0x662)],_0x42148e=_0x191663?.[_0x31c58e(0x50c)]?_0x191663:await this[_0x31c58e(0x820)](_0x191663[_0x31c58e(0x64d)],!0x0);if(!_0x42148e)throw _0x31c58e(0x45e);_0xc66a30=_0x42148e;}let _0x1cda2c;if((0x0,y[_0x31c58e(0x2bb)])(_0x38829c))try{let _0x358256=await this[_0x31c58e(0x5db)][_0x31c58e(0x2aa)](_0x38829c);if(!_0x358256)throw new j(_0x31c58e(0x5c1));_0x1ddd0b?.[_0x31c58e(0x6bb)]&&(_0x1ddd0b[_0x31c58e(0x6bb)]?.[_0x31c58e(0x1d2)]?_0x1cda2c=_0x358256[_0x31c58e(0x46b)][_0x31c58e(0x783)](_0x34ef76=>_0x34ef76['id']):_0x1ddd0b[_0x31c58e(0x6bb)]?.[_0x31c58e(0x80e)]?.['length']&&(_0x1cda2c=_0x1ddd0b[_0x31c58e(0x6bb)]['mentioned'][_0x31c58e(0x783)](_0x38a478=>{const _0x3de0c6=_0x31c58e;let _0x24e63d=this[_0x3de0c6(0x571)](_0x38a478);return(0x0,y[_0x3de0c6(0x2bb)])(_0x24e63d)?null:_0x24e63d;})));}catch{throw new j('Group\x20not\x20found');}let _0x921c36=await((async()=>{const _0x1c1c85=_0x31c58e;let _0x5b8306={'quoted':_0xc66a30};if(!_0x47a3b0[_0x1c1c85(0x788)]&&!_0x47a3b0[_0x1c1c85(0x35c)]&&!_0x47a3b0['sticker']&&!_0x47a3b0[_0x1c1c85(0x62c)]&&_0x38829c!==_0x1c1c85(0x4c6)&&!_0x47a3b0['audio'])return await this[_0x1c1c85(0x5db)]['sendMessage'](_0x38829c,{'forward':{'key':{'remoteJid':this[_0x1c1c85(0x799)]['wuid'],'fromMe':!0x0},'message':_0x47a3b0},'mentions':_0x1cda2c},_0x5b8306);if(_0x47a3b0[_0x1c1c85(0x62c)]){let _0x31d780=_0x47a3b0['conversation'];return _0x1ddd0b?.['changeVariables']&&(_0x31d780=await this[_0x1c1c85(0x40d)](_0x31d780,_0x38829c)),await this[_0x1c1c85(0x5db)][_0x1c1c85(0x7c7)](_0x38829c,{'text':_0x31d780,'mentions':_0x1cda2c,'linkPreview':_0xe88323},_0x5b8306);}return _0x38829c===_0x1c1c85(0x4c6)?await this[_0x1c1c85(0x5db)][_0x1c1c85(0x7c7)](_0x38829c,_0x47a3b0[_0x1c1c85(0x6d8)]['content'],{'backgroundColor':_0x47a3b0[_0x1c1c85(0x6d8)]['option'][_0x1c1c85(0x626)],'font':_0x47a3b0[_0x1c1c85(0x6d8)]['option'][_0x1c1c85(0x7d4)],'statusJidList':_0x47a3b0[_0x1c1c85(0x6d8)][_0x1c1c85(0x564)][_0x1c1c85(0x372)]}):await this[_0x1c1c85(0x5db)]['sendMessage'](_0x38829c,_0x47a3b0,_0x5b8306);})()),{message_normalized:_0x44e092}=this[_0x31c58e(0x3f8)](_0x921c36[_0x31c58e(0x50c)],$(_0x921c36['message']),null),_0x12c03a={'_id':_0x921c36[_0x31c58e(0x64d)]['id'],'key':_0x921c36[_0x31c58e(0x64d)],'pushName':_0x921c36[_0x31c58e(0x23e)],'message':{..._0x921c36[_0x31c58e(0x50c)]},'messageType':$(_0x921c36[_0x31c58e(0x50c)]),'message_normalized':{'key':_0x921c36[_0x31c58e(0x64d)],'pushName':_0x921c36[_0x31c58e(0x23e)],'messageTimestamp':_0x921c36['messageTimestamp']&&_0x921c36['messageTimestamp']['toString']()['length']<0xd?_0x921c36[_0x31c58e(0x66f)]*0x3e8:_0x921c36['messageTimestamp']||null,'source':(0x0,y['getDevice'])(_0x921c36['key']['id']),..._0x44e092},'messageTimestamp':_0x921c36[_0x31c58e(0x66f)]&&_0x921c36[_0x31c58e(0x66f)][_0x31c58e(0x689)]()[_0x31c58e(0x233)]<0xd?_0x921c36['messageTimestamp']*0x3e8:_0x921c36[_0x31c58e(0x66f)]||null,'owner':this[_0x31c58e(0x799)][_0x31c58e(0x31d)],'source':(0x0,y[_0x31c58e(0x63f)])(_0x921c36[_0x31c58e(0x64d)]['id'])};return this[_0x31c58e(0x525)][_0x31c58e(0x737)](_0x12c03a),this[_0x31c58e(0x280)]('send.message',_0x12c03a),J(this[_0x31c58e(0x2d7)],'messages',{'message':_0x12c03a}),this['updateChatWithMessage'](this[_0x31c58e(0x3da)]['get']('DATABASE'),_0x12c03a,_0x31c58e(0x5c8)),await this[_0x31c58e(0x34e)][_0x31c58e(0x50c)][_0x31c58e(0x80f)]([_0x12c03a],this[_0x31c58e(0x799)][_0x31c58e(0x31d)]),_0x921c36;}catch(_0x138210){throw this[_0x31c58e(0x525)]['error'](this['instanceName']+'\x20('+this['instance'][_0x31c58e(0x31d)]+_0x31c58e(0x26f)+_0x138210[_0x31c58e(0x689)]()),new m(_0x138210['toString']());}}get[a0_0x18a40e(0x7b3)](){return this['stateConnection'];}async[a0_0x18a40e(0x5e7)](_0x3f19c0){const _0x1af180=a0_0x18a40e;let _0x5d7358=gr,_0x2efde1=He;return _0x2efde1&&this[_0x1af180(0x2d7)][_0x1af180(0x5c4)]()['includes'](_0x2efde1['toLowerCase']())&&(_0x3f19c0[_0x1af180(0x5e7)][_0x1af180(0x2d3)]+='\x0a\x0a'+_0x5d7358),await this['sendMessageWithTyping'](_0x3f19c0[_0x1af180(0x7f3)],{'conversation':_0x3f19c0[_0x1af180(0x5e7)]['text']},_0x3f19c0?.[_0x1af180(0x759)]);}async[a0_0x18a40e(0x449)](_0x46747a){const _0x394d4f=a0_0x18a40e;if(!_0x46747a['type'])throw new m(_0x394d4f(0x6d4));if(!_0x46747a[_0x394d4f(0x7d9)])throw new m('Content\x20is\x20required');if(_0x46747a[_0x394d4f(0x1ad)]){let _0x3ef9ed=await this[_0x394d4f(0x34e)][_0x394d4f(0x60d)][_0x394d4f(0x437)]({'where':{}},this[_0x394d4f(0x799)][_0x394d4f(0x31d)]);if(!_0x3ef9ed[_0x394d4f(0x233)])throw new m(_0x394d4f(0x4ac));_0x46747a['statusJidList']=_0x3ef9ed[_0x394d4f(0x598)](_0x3b9e46=>_0x3b9e46[_0x394d4f(0x23e)])[_0x394d4f(0x783)](_0x2b275d=>_0x2b275d[_0x394d4f(0x6bf)]);}if(!_0x46747a['statusJidList']?.['length']&&!_0x46747a[_0x394d4f(0x1ad)])throw new m(_0x394d4f(0x241));if(_0x46747a[_0x394d4f(0x794)]==='text'){if(!_0x46747a[_0x394d4f(0x626)])throw new m(_0x394d4f(0x5a7));if(!_0x46747a[_0x394d4f(0x7d4)])throw new m(_0x394d4f(0x39b));return{'content':{'text':_0x46747a[_0x394d4f(0x7d9)]},'option':{'backgroundColor':_0x46747a[_0x394d4f(0x626)],'font':_0x46747a[_0x394d4f(0x7d4)],'statusJidList':_0x46747a[_0x394d4f(0x372)]}};}if(_0x46747a[_0x394d4f(0x794)]==='image')return{'content':{'image':{'url':_0x46747a[_0x394d4f(0x7d9)]},'caption':_0x46747a['caption']},'option':{'statusJidList':_0x46747a[_0x394d4f(0x372)]}};if(_0x46747a[_0x394d4f(0x794)]===_0x394d4f(0x2cd))return{'content':{'video':{'url':_0x46747a['content']},'caption':_0x46747a[_0x394d4f(0x4d4)]},'option':{'statusJidList':_0x46747a[_0x394d4f(0x372)]}};if(_0x46747a[_0x394d4f(0x794)]===_0x394d4f(0x788)){this[_0x394d4f(0x525)][_0x394d4f(0x4c0)](_0x394d4f(0x7dd)),this[_0x394d4f(0x525)][_0x394d4f(0x4c0)](_0x394d4f(0x7c5));let _0x226675=await this[_0x394d4f(0x7f0)](_0x46747a[_0x394d4f(0x7d9)]);if(typeof _0x226675=='string'){this[_0x394d4f(0x525)]['verbose'](_0x394d4f(0x687));let _0x4f03d2=L[_0x394d4f(0x684)](_0x226675)[_0x394d4f(0x689)]('base64'),_0x4498d5={'content':{'audio':Buffer['from'](_0x4f03d2,_0x394d4f(0x1b4)),'ptt':!0x0,'mimetype':_0x394d4f(0x695)},'option':{'statusJidList':_0x46747a[_0x394d4f(0x372)]}};return L[_0x394d4f(0x3f5)](_0x226675),_0x4498d5;}else throw new O(_0x226675);}throw new m(_0x394d4f(0x812));}async[a0_0x18a40e(0x507)](_0x46284a){const _0x396049=a0_0x18a40e;return await this[_0x396049(0x1b3)](_0x396049(0x4c6),{'status':await this[_0x396049(0x449)](_0x46284a[_0x396049(0x507)])});}async[a0_0x18a40e(0x6b1)](_0x2e1603){const _0x5a57d1=a0_0x18a40e;try{let _0x1c762d=await(0x0,y[_0x5a57d1(0x431)])({[_0x2e1603[_0x5a57d1(0x62e)]]:(0x0,k[_0x5a57d1(0x48f)])(_0x2e1603[_0x5a57d1(0x43d)])?{'url':_0x2e1603[_0x5a57d1(0x43d)]}:Buffer[_0x5a57d1(0x781)](_0x2e1603[_0x5a57d1(0x43d)],_0x5a57d1(0x1b4))},{'upload':this[_0x5a57d1(0x5db)][_0x5a57d1(0x544)]}),_0x1b696b=_0x2e1603[_0x5a57d1(0x62e)]+_0x5a57d1(0x813);if(_0x2e1603[_0x5a57d1(0x62e)]===_0x5a57d1(0x348)&&!_0x2e1603[_0x5a57d1(0x325)]){let _0x32d9fb=new RegExp(/.*\/(.+?)\./)['exec'](_0x2e1603[_0x5a57d1(0x43d)]);_0x2e1603[_0x5a57d1(0x325)]=_0x32d9fb?_0x32d9fb[0x1]:null;}let _0x1fddd1=(0x0,k[_0x5a57d1(0x48f)])(_0x2e1603[_0x5a57d1(0x43d)])?_0x2e1603['media']['split']('?')[0x0]:_0x2e1603[_0x5a57d1(0x43d)];this['logger']['verbose'](_0x5a57d1(0x226)+_0x1fddd1);let _0x340ecb;(0x0,k[_0x5a57d1(0x48f)])(_0x2e1603[_0x5a57d1(0x43d)])?_0x340ecb=(0x0,It[_0x5a57d1(0x585)])(_0x1fddd1):_0x2e1603[_0x5a57d1(0x325)]&&_0x2e1603[_0x5a57d1(0x325)]['includes']('.')?_0x340ecb=(0x0,It[_0x5a57d1(0x585)])(_0x2e1603['fileName']):_0x340ecb=(0x0,It[_0x5a57d1(0x585)])(_0x2e1603[_0x5a57d1(0x43d)]);let _0x2c5501=gr,_0x89c8dd=He;return _0x89c8dd&&this[_0x5a57d1(0x2d7)][_0x5a57d1(0x5c4)]()['includes'](_0x89c8dd[_0x5a57d1(0x5c4)]())&&(_0x2e1603[_0x5a57d1(0x4d4)]+='\x0a\x0a'+_0x2c5501),_0x1c762d[_0x1b696b]['caption']=_0x2e1603?.[_0x5a57d1(0x4d4)],_0x1c762d[_0x1b696b][_0x5a57d1(0x3bd)]=_0x340ecb,_0x1c762d[_0x1b696b][_0x5a57d1(0x325)]=_0x2e1603['fileName'],_0x2e1603[_0x5a57d1(0x62e)]==='video'&&(_0x1c762d[_0x1b696b]['jpegThumbnail']=Uint8Array[_0x5a57d1(0x781)]((0x0,ve[_0x5a57d1(0x684)])((0x0,F[_0x5a57d1(0x261)])(process[_0x5a57d1(0x270)](),_0x5a57d1(0x5dc)))),_0x1c762d[_0x1b696b][_0x5a57d1(0x6a7)]=!0x1),(0x0,y[_0x5a57d1(0x76d)])('',{[_0x1b696b]:{..._0x1c762d[_0x1b696b]}},{'userJid':this[_0x5a57d1(0x799)][_0x5a57d1(0x31d)]});}catch(_0x4ba691){throw this['logger'][_0x5a57d1(0x62b)](this['instanceName']+'\x20('+this[_0x5a57d1(0x799)][_0x5a57d1(0x31d)]+_0x5a57d1(0x26f)+(_0x4ba691 instanceof Error?_0x4ba691[_0x5a57d1(0x50c)]:JSON['stringify'](_0x4ba691,null,0x2))),new O(_0x4ba691?.['toString']()||_0x4ba691);}}async[a0_0x18a40e(0x1e5)](_0x3f3004){const _0x436b88=a0_0x18a40e;let _0x5e5c03=await this[_0x436b88(0x6b1)](_0x3f3004['mediaMessage']);return await this[_0x436b88(0x1b3)](_0x3f3004[_0x436b88(0x7f3)],{..._0x5e5c03[_0x436b88(0x50c)]},_0x3f3004?.[_0x436b88(0x759)]);}async[a0_0x18a40e(0x5b6)](_0x3a02f1,_0x4187f2){const _0x57bbdf=a0_0x18a40e;try{this['logger']['verbose'](_0x57bbdf(0x2e8));let _0x306734,_0x409e40=_0x4187f2+'-'+new Date()[_0x57bbdf(0x6f1)]();this['logger'][_0x57bbdf(0x4c0)]('Hash\x20to\x20image\x20name:\x20'+_0x409e40);let _0x4daa52=''+(0x0,F[_0x57bbdf(0x261)])(this[_0x57bbdf(0x227)],_0x409e40+_0x57bbdf(0x411));if(this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x557)+_0x4daa52),(0x0,k['isBase64'])(_0x3a02f1)){this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x6eb));let _0x5c3e60=_0x3a02f1['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x148e89=Buffer['from'](_0x5c3e60,_0x57bbdf(0x1b4));_0x306734=''+(0x0,F[_0x57bbdf(0x261)])(this[_0x57bbdf(0x227)],_0x57bbdf(0x575)+_0x409e40+_0x57bbdf(0x731)),this[_0x57bbdf(0x525)]['verbose'](_0x57bbdf(0x42f)+_0x306734),await(0x0,xt[_0x57bbdf(0x41b)])(_0x148e89)['toFile'](_0x306734),this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x429));}else{this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x5b5));let _0x59065d=new Date()[_0x57bbdf(0x6f1)](),_0x368fa5=_0x3a02f1+_0x57bbdf(0x562)+_0x59065d;this['logger'][_0x57bbdf(0x4c0)]('including\x20timestamp\x20in\x20url:\x20'+_0x368fa5);let _0xfed3ef=await se[_0x57bbdf(0x41b)][_0x57bbdf(0x805)](_0x368fa5,{'responseType':'arraybuffer'});this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x6a1));let _0x4015fc=Buffer[_0x57bbdf(0x781)](_0xfed3ef[_0x57bbdf(0x747)],_0x57bbdf(0x4f2));_0x306734=''+(0x0,F[_0x57bbdf(0x261)])(this[_0x57bbdf(0x227)],_0x57bbdf(0x575)+_0x409e40+_0x57bbdf(0x731)),this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)]('Image\x20path:\x20'+_0x306734),await(0x0,xt[_0x57bbdf(0x41b)])(_0x4015fc)['toFile'](_0x306734),this[_0x57bbdf(0x525)]['verbose'](_0x57bbdf(0x429));}return await(0x0,xt[_0x57bbdf(0x41b)])(_0x306734)[_0x57bbdf(0x614)]()['toFile'](_0x4daa52),this['logger'][_0x57bbdf(0x4c0)](_0x57bbdf(0x516)),L['unlinkSync'](_0x306734),this[_0x57bbdf(0x525)][_0x57bbdf(0x4c0)](_0x57bbdf(0x754)),_0x4daa52;}catch(_0x57003a){console[_0x57bbdf(0x62b)](_0x57bbdf(0x723),_0x57003a instanceof Error?_0x57003a[_0x57bbdf(0x50c)]:JSON[_0x57bbdf(0x613)](_0x57003a,null,0x2));}}async[a0_0x18a40e(0x828)](_0x257157){const _0x36a266=a0_0x18a40e;let _0x4377a4=await this['convertToWebP'](_0x257157['stickerMessage'][_0x36a266(0x82d)],_0x257157[_0x36a266(0x7f3)]),_0x3f8b6d=await this['sendMessageWithTyping'](_0x257157[_0x36a266(0x7f3)],{'sticker':{'url':_0x4377a4}},_0x257157?.[_0x36a266(0x759)]);return L['unlinkSync'](_0x4377a4),this[_0x36a266(0x525)][_0x36a266(0x4c0)](_0x36a266(0x730)),_0x3f8b6d;}async[a0_0x18a40e(0x60a)](_0x37e19a){const _0x198307=a0_0x18a40e;if(this[_0x198307(0x525)][_0x198307(0x4c0)](_0x198307(0x4b9)),!_0x37e19a[_0x198307(0x759)]?.[_0x198307(0x7d1)]&&_0x37e19a[_0x198307(0x759)]?.[_0x198307(0x7d1)]!==!0x1&&(_0x37e19a['options'][_0x198307(0x7d1)]=!0x0),_0x37e19a[_0x198307(0x759)]?.['encoding']){let _0xdf67bd=await this[_0x198307(0x7f0)](_0x37e19a['audioMessage'][_0x198307(0x788)]);if(typeof _0xdf67bd==_0x198307(0x74a)){let _0x40962f=L[_0x198307(0x684)](_0xdf67bd)[_0x198307(0x689)](_0x198307(0x1b4)),_0x78f2bc=this[_0x198307(0x1b3)](_0x37e19a[_0x198307(0x7f3)],{'audio':Buffer[_0x198307(0x781)](_0x40962f,_0x198307(0x1b4)),'ptt':!0x0,'mimetype':_0x198307(0x695)},{'presence':_0x198307(0x480),'delay':_0x37e19a?.[_0x198307(0x759)]?.[_0x198307(0x41d)]});return L[_0x198307(0x3f5)](_0xdf67bd),this[_0x198307(0x525)][_0x198307(0x4c0)](_0x198307(0x2b0)),_0x78f2bc;}else throw new O(_0xdf67bd);}return await this[_0x198307(0x1b3)](_0x37e19a[_0x198307(0x7f3)],{'audio':(0x0,k[_0x198307(0x48f)])(_0x37e19a[_0x198307(0x346)][_0x198307(0x788)])?{'url':_0x37e19a[_0x198307(0x346)]['audio']}:Buffer['from'](_0x37e19a[_0x198307(0x346)][_0x198307(0x788)],_0x198307(0x1b4)),'ptt':!0x0,'mimetype':_0x198307(0x24f)},{'presence':'recording','delay':_0x37e19a?.[_0x198307(0x759)]?.[_0x198307(0x41d)]});}async[a0_0x18a40e(0x7f0)](_0x380595){const _0x2875e0=a0_0x18a40e;this[_0x2875e0(0x525)][_0x2875e0(0x4c0)](_0x2875e0(0x7c5));let _0x36cab8,_0x5d809b,_0x577a1d=(0x0,Me['v4'])();if(this['logger'][_0x2875e0(0x4c0)](_0x2875e0(0x5e2)+_0x577a1d),(0x0,k['isURL'])(_0x380595)){this[_0x2875e0(0x525)][_0x2875e0(0x4c0)](_0x2875e0(0x22b)),_0x5d809b=''+(0x0,F['join'])(this[_0x2875e0(0x227)],_0x577a1d+_0x2875e0(0x50a)),_0x36cab8=''+(0x0,F[_0x2875e0(0x261)])(this[_0x2875e0(0x227)],'temp-'+_0x577a1d+_0x2875e0(0x3eb)),this[_0x2875e0(0x525)]['verbose']('Output\x20audio\x20path:\x20'+_0x5d809b),this['logger']['verbose'](_0x2875e0(0x7e7)+_0x36cab8);let _0x326351=new Date()[_0x2875e0(0x6f1)](),_0x272b3c=_0x380595+'?timestamp='+_0x326351;this[_0x2875e0(0x525)][_0x2875e0(0x4c0)](_0x2875e0(0x3ab)+_0x272b3c);let _0x296af8=await se[_0x2875e0(0x41b)][_0x2875e0(0x805)](_0x272b3c,{'responseType':_0x2875e0(0x633)});this['logger'][_0x2875e0(0x4c0)]('Getting\x20audio\x20from\x20url'),L[_0x2875e0(0x608)](_0x36cab8,_0x296af8[_0x2875e0(0x747)]);}else{this['logger'][_0x2875e0(0x4c0)](_0x2875e0(0x38b)),_0x5d809b=''+(0x0,F[_0x2875e0(0x261)])(this[_0x2875e0(0x227)],_0x577a1d+_0x2875e0(0x50a)),_0x36cab8=''+(0x0,F[_0x2875e0(0x261)])(this[_0x2875e0(0x227)],'temp-'+_0x577a1d+_0x2875e0(0x3eb)),this[_0x2875e0(0x525)][_0x2875e0(0x4c0)](_0x2875e0(0x2e1)+_0x5d809b),this[_0x2875e0(0x525)][_0x2875e0(0x4c0)]('Temp\x20audio\x20path:\x20'+_0x36cab8);let _0x32813b=Buffer['from'](_0x380595,'base64');L[_0x2875e0(0x608)](_0x36cab8,_0x32813b),this[_0x2875e0(0x525)][_0x2875e0(0x4c0)]('Temp\x20audio\x20created');}return this[_0x2875e0(0x525)]['verbose']('Converting\x20audio\x20to\x20mp4'),new Promise((_0x531e86,_0x2ac4c3)=>{const _0x476f38=_0x2875e0;(0x0,Dt[_0x476f38(0x667)])(mr[_0x476f38(0x41b)]['path']+_0x476f38(0x623)+_0x36cab8+_0x476f38(0x671)+_0x5d809b+_0x476f38(0x39a),_0x3f8fad=>{const _0x4ebf70=_0x476f38;L[_0x4ebf70(0x3f5)](_0x36cab8),this[_0x4ebf70(0x525)][_0x4ebf70(0x4c0)](_0x4ebf70(0x5a8)),_0x3f8fad&&_0x2ac4c3(_0x3f8fad),this[_0x4ebf70(0x525)]['verbose'](_0x4ebf70(0x511)),_0x531e86(_0x5d809b);});});}async['buttonMessage'](_0x3675c0){const _0x4e94c6=a0_0x18a40e;let _0x5eeb8a={},_0x207264=_0x4e94c6(0x7ee);if(_0x3675c0[_0x4e94c6(0x5d8)]?.[_0x4e94c6(0x1e5)]){_0x207264=_0x3675c0['buttonMessage'][_0x4e94c6(0x1e5)]?.[_0x4e94c6(0x62e)]['toUpperCase']()??'TEXT',_0x5eeb8a[_0x4e94c6(0x7ef)]=_0x207264[_0x4e94c6(0x5c4)]()+_0x4e94c6(0x813);let _0x5873a8=await this['prepareMediaMessage'](_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x1e5)]);_0x5eeb8a[_0x4e94c6(0x50c)]=_0x5873a8[_0x4e94c6(0x50c)][_0x5eeb8a['mediaKey']],_0x5eeb8a[_0x4e94c6(0x336)]='*'+_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x49a)]+_0x4e94c6(0x556)+_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x5e1)];}let _0x3b3415={'text':_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x6d6)][_0x4e94c6(0x783)](_0x2f5f24=>_0x2f5f24[_0x4e94c6(0x53e)]),'ids':_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x6d6)]['map'](_0x5ca3dc=>_0x5ca3dc[_0x4e94c6(0x3e7)])};if(!(0x0,k[_0x4e94c6(0x4e7)])(_0x3b3415[_0x4e94c6(0x2d3)])||!(0x0,k[_0x4e94c6(0x4e7)])(_0x3b3415[_0x4e94c6(0x394)]))throw new m(_0x4e94c6(0x6d7),_0x4e94c6(0x6af));return await this[_0x4e94c6(0x1b3)](_0x3675c0[_0x4e94c6(0x7f3)],{'buttonsMessage':{'text':_0x5eeb8a?.['mediaKey']?void 0x0:_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x49a)],'contentText':_0x5eeb8a?.['contentText']??_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x5e1)],'footerText':_0x3675c0['buttonMessage']?.[_0x4e94c6(0x761)],'buttons':_0x3675c0[_0x4e94c6(0x5d8)][_0x4e94c6(0x6d6)][_0x4e94c6(0x783)](_0x2dd426=>({'buttonText':{'displayText':_0x2dd426['buttonText']},'buttonId':_0x2dd426[_0x4e94c6(0x3e7)],'type':0x1})),'headerType':y[_0x4e94c6(0x601)][_0x4e94c6(0x813)]['ButtonsMessage'][_0x4e94c6(0x2ef)][_0x207264],[_0x5eeb8a?.[_0x4e94c6(0x7ef)]]:_0x5eeb8a?.[_0x4e94c6(0x50c)]}},_0x3675c0?.[_0x4e94c6(0x759)]);}async[a0_0x18a40e(0x52a)](_0x3ccff2){const _0xf0422e=a0_0x18a40e;return await this['sendMessageWithTyping'](_0x3ccff2['number'],{'locationMessage':{'degreesLatitude':_0x3ccff2[_0xf0422e(0x52a)]['latitude'],'degreesLongitude':_0x3ccff2[_0xf0422e(0x52a)]['longitude'],'name':_0x3ccff2[_0xf0422e(0x52a)]?.[_0xf0422e(0x317)],'address':_0x3ccff2['locationMessage']?.['address']}},_0x3ccff2?.[_0xf0422e(0x759)]);}async['contactMessage'](_0x32d5a6){const _0x3aca4f=a0_0x18a40e;let _0x57a255={},_0x488412=_0x508ff3=>{const _0x2d2cf2=a0_0x26bc;let _0x1a4aef='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x508ff3[_0x2d2cf2(0x2cf)]+_0x2d2cf2(0x276)+_0x508ff3[_0x2d2cf2(0x2cf)]+'\x0a';_0x508ff3[_0x2d2cf2(0x54e)]&&(_0x1a4aef+=_0x2d2cf2(0x4ff)+_0x508ff3[_0x2d2cf2(0x54e)]+';\x0a'),_0x508ff3[_0x2d2cf2(0x320)]&&(_0x1a4aef+='EMAIL:'+_0x508ff3[_0x2d2cf2(0x320)]+'\x0a'),_0x508ff3['url']&&(_0x1a4aef+=_0x2d2cf2(0x1ac)+_0x508ff3['url']+'\x0a');let _0x53842e='';return _0x508ff3[_0x2d2cf2(0x74b)]&&_0x508ff3[_0x2d2cf2(0x74b)]['split']('|')[_0x2d2cf2(0x45f)]((_0x107e93,_0x1980a6)=>{const _0x56194d=_0x2d2cf2;let _0x5e930c=this['createJid'](_0x107e93)[_0x56194d(0x1b1)](_0x56194d(0x3b8),'');_0x53842e+=_0x56194d(0x201)+(_0x1980a6+0x1)+_0x56194d(0x1d6)+_0x5e930c+':'+_0x107e93+_0x56194d(0x28e)+(_0x1980a6+0x1)+_0x56194d(0x3d2);}),_0x1a4aef+=_0x53842e+'END:VCARD',_0x1a4aef;};return _0x32d5a6[_0x3aca4f(0x6c3)]['length']===0x1?_0x57a255[_0x3aca4f(0x6c3)]={'displayName':_0x32d5a6[_0x3aca4f(0x6c3)][0x0]['fullName'],'vcard':_0x488412(_0x32d5a6[_0x3aca4f(0x6c3)][0x0])}:_0x57a255[_0x3aca4f(0x787)]={'displayName':_0x32d5a6[_0x3aca4f(0x6c3)][_0x3aca4f(0x233)]+_0x3aca4f(0x78c),'contacts':_0x32d5a6[_0x3aca4f(0x6c3)]['map'](_0x2d574d=>({'displayName':_0x2d574d[_0x3aca4f(0x2cf)],'vcard':_0x488412(_0x2d574d)}))},await this[_0x3aca4f(0x1b3)](_0x32d5a6[_0x3aca4f(0x7f3)],{..._0x57a255},_0x32d5a6?.['options']);}async[a0_0x18a40e(0x6a2)](_0x34464b){const _0x57a1e6=a0_0x18a40e;return await this['sendMessageWithTyping'](_0x34464b[_0x57a1e6(0x6a2)][_0x57a1e6(0x64d)][_0x57a1e6(0x65f)],{'reactionMessage':{'key':_0x34464b['reactionMessage'][_0x57a1e6(0x64d)],'text':_0x34464b['reactionMessage'][_0x57a1e6(0x33b)]}});}async[a0_0x18a40e(0x73a)](_0x13da99){const _0x168cb7=a0_0x18a40e;let _0x4152b3=[];for await(let _0x259220 of _0x13da99['numbers']){let _0x540c7a=this['createJid'](_0x259220),_0x12e758=!0x1;try{if((0x0,y[_0x168cb7(0x2bb)])(_0x540c7a)){let _0x2e1a97=await this[_0x168cb7(0x5f8)]({'groupJid':_0x540c7a},_0x168cb7(0x658));_0x4152b3[_0x168cb7(0x78b)](new me(_0x2e1a97[_0x168cb7(0x604)]['id'],!!_0x2e1a97?.[_0x168cb7(0x604)]['id'],_0x2e1a97?.[_0x168cb7(0x604)][_0x168cb7(0x2b5)])),_0x12e758=!!_0x2e1a97?.[_0x168cb7(0x604)]['id'];}else{let _0x1da172=(await this[_0x168cb7(0x5db)][_0x168cb7(0x7a4)](_0x540c7a))[0x0];_0x4152b3[_0x168cb7(0x78b)](new me(_0x1da172[_0x168cb7(0x504)],_0x1da172[_0x168cb7(0x427)])),_0x12e758=_0x1da172[_0x168cb7(0x427)];}}catch{await this[_0x168cb7(0x1d1)](_0x540c7a,_0x12e758),_0x4152b3[_0x168cb7(0x78b)](new me(_0x259220,!0x1));}}return _0x4152b3;}async[a0_0x18a40e(0x1d1)](_0xb17919,_0x3aef2f){const _0x3f9671=a0_0x18a40e;try{await this['repository'][_0x3f9671(0x60e)]['findOne']({'where':{'_id':_0xb17919,'imported':!0x0}},this[_0x3f9671(0x799)][_0x3f9671(0x31d)])&&(_0x3aef2f||(await this['repository'][_0x3f9671(0x60e)][_0x3f9671(0x3e5)](_0xb17919,this[_0x3f9671(0x799)][_0x3f9671(0x31d)]),console['log'](_0x3f9671(0x413)+_0xb17919+'\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.')));}catch(_0x439afa){console['error'](_0x3f9671(0x683),_0x439afa);}}async[a0_0x18a40e(0x26e)](_0x3fc56f){const _0x1eae6c=a0_0x18a40e;try{let _0x36bc2f=_0x3fc56f[_0x1eae6c(0x4c4)]['filter'](_0x5aad7f=>(0x0,y['isJidGroup'])(_0x5aad7f[_0x1eae6c(0x65f)])||(0x0,y[_0x1eae6c(0x27b)])(_0x5aad7f[_0x1eae6c(0x65f)]))[_0x1eae6c(0x783)](_0x3c6a69=>({'remoteJid':_0x3c6a69['remoteJid'],'fromMe':_0x3c6a69[_0x1eae6c(0x6ee)],'id':_0x3c6a69['id']}));await this[_0x1eae6c(0x5db)][_0x1eae6c(0x4c4)](_0x36bc2f);let _0x372001=_0x36bc2f[_0x1eae6c(0x783)](_0x4bd30d=>this[_0x1eae6c(0x316)](_0x4bd30d,{'status':'READ','owner':this[_0x1eae6c(0x799)]['wuid']})),_0x2d523f=_0x36bc2f[_0x1eae6c(0x783)](_0xcf9588=>this[_0x1eae6c(0x34e)]['chat']['updateOne']({'where':{'_id':_0xcf9588['remoteJid']}},{'unreadcount':0x0},this[_0x1eae6c(0x799)][_0x1eae6c(0x31d)])),[_0x3aec45,_0x541131]=await Promise[_0x1eae6c(0x1fe)]([Promise[_0x1eae6c(0x1fe)](_0x372001),Promise['all'](_0x2d523f)]);return _0x541131[_0x1eae6c(0x598)](_0x47cc10=>_0x47cc10!==null)['forEach'](_0x441a96=>{const _0x5dfb79=_0x1eae6c;J(this[_0x5dfb79(0x2d7)],_0x5dfb79(0x6f8),{'chat':_0x441a96});}),{'message':_0x1eae6c(0x4b3),'read':'success'};}catch(_0x4e552d){throw console[_0x1eae6c(0x62b)](_0x1eae6c(0x205),_0x4e552d),new O(_0x1eae6c(0x6b2),_0x4e552d[_0x1eae6c(0x689)]());}}async[a0_0x18a40e(0x2e0)](_0x4fd45a){const _0x1fc30f=a0_0x18a40e;let _0x2dcb91={'where':{'key':{'remoteJid':_0x4fd45a}},'limit':0x1},_0x271d87=await this[_0x1fc30f(0x4b5)](_0x2dcb91);return _0x271d87||(console['error']('Last\x20message\x20not\x20found\x20for\x20number:',_0x4fd45a),null);}async[a0_0x18a40e(0x3b9)](_0x1f5599){const _0x725420=a0_0x18a40e;this[_0x725420(0x525)][_0x725420(0x4c0)](_0x725420(0x1f4));try{let _0x1dee78=_0x1f5599['lastMessage'],_0x203c74=_0x1f5599[_0x725420(0x60e)];if(!_0x1dee78&&_0x203c74?_0x1dee78=await this[_0x725420(0x2e0)](_0x203c74):(_0x1dee78=_0x1f5599[_0x725420(0x365)],_0x1dee78['messageTimestamp']=_0x1dee78?.[_0x725420(0x66f)]??Date[_0x725420(0x70e)](),_0x203c74=_0x1dee78?.['key']?.[_0x725420(0x65f)]),!_0x1dee78||Object[_0x725420(0x3f3)](_0x1dee78)[_0x725420(0x233)]===0x0)throw new j(_0x725420(0x1bf));this['logger']['verbose'](_0x725420(0x401)+_0x203c74);try{await this[_0x725420(0x5db)][_0x725420(0x690)]({'archive':_0x1f5599[_0x725420(0x4a3)],'lastMessages':[_0x1dee78]},this[_0x725420(0x571)](_0x203c74));}catch(_0x456d1e){this[_0x725420(0x525)][_0x725420(0x62b)](_0x725420(0x55f)+_0x203c74+':\x20'+_0x456d1e[_0x725420(0x689)]());}this['logger'][_0x725420(0x4c0)](_0x725420(0x643)+_0x203c74);let _0x1c9bde=await this[_0x725420(0x34e)]['chat'][_0x725420(0x328)]({'where':{'_id':_0x1dee78?.['key']?.['remoteJid']}},{'archived':_0x1f5599['archive']},this[_0x725420(0x799)][_0x725420(0x31d)]);return _0x1c9bde?(this['logger']['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x725420(0x613)](_0x1c9bde)),J(this[_0x725420(0x2d7)],_0x725420(0x6f8),{'chat':_0x1c9bde})):this[_0x725420(0x525)]['error'](_0x725420(0x32d)+_0x203c74),{'chatId':_0x203c74,'archived':_0x1f5599[_0x725420(0x4a3)]};}catch(_0x173b33){throw this[_0x725420(0x525)][_0x725420(0x62b)](_0x725420(0x646)+_0x173b33['toString']()),new O({'archived':!0x1,'message':[_0x725420(0x72c),_0x173b33[_0x725420(0x689)]()]});}}async['deleteMessage'](_0x3396ed){const _0x3e2ddb=a0_0x18a40e;try{let _0x556710=await this[_0x3e2ddb(0x5db)]['sendMessage'](_0x3396ed['remoteJid'],{'delete':_0x3396ed});try{let _0x1e651c=await this['updateMessage'](_0x3396ed,{'status':_0x3e2ddb(0x7df),'owner':this[_0x3e2ddb(0x799)][_0x3e2ddb(0x31d)]});this[_0x3e2ddb(0x525)]['verbose'](this[_0x3e2ddb(0x2d7)]+'\x20('+this[_0x3e2ddb(0x799)]['wuid']+'):\x20updateResult:'+_0x1e651c);}catch(_0x3f18f4){console[_0x3e2ddb(0x62b)](_0x3e2ddb(0x39e),_0x3f18f4);}return _0x556710;}catch(_0x14cd70){throw new O(_0x3e2ddb(0x45d),_0x14cd70?.['toString']());}}async[a0_0x18a40e(0x82c)](_0x2f2b6c){const _0x2445ca=a0_0x18a40e;try{let _0x1b8d96=_0x2f2b6c?.['message']?_0x2f2b6c:await this['getMessage'](_0x2f2b6c['key'],!0x0);for(let _0x396e00 of ga)_0x1b8d96['message'][_0x396e00]&&(_0x1b8d96[_0x2445ca(0x50c)]=_0x1b8d96[_0x2445ca(0x50c)][_0x396e00][_0x2445ca(0x50c)]);let _0x989881,_0x2eefaa;for(let _0x59f749 of pa)if(_0x989881=_0x1b8d96[_0x2445ca(0x50c)][_0x59f749],_0x989881){_0x2eefaa=_0x59f749;break;}if(!_0x989881)throw _0x2445ca(0x331);typeof _0x989881[_0x2445ca(0x7ef)]==_0x2445ca(0x3c8)&&(_0x1b8d96[_0x2445ca(0x50c)]=JSON[_0x2445ca(0x596)](JSON[_0x2445ca(0x613)](_0x1b8d96[_0x2445ca(0x50c)])));let _0x6c753f=await(0x0,y[_0x2445ca(0x68e)])({'key':_0x1b8d96?.[_0x2445ca(0x64d)],'message':_0x1b8d96?.[_0x2445ca(0x50c)]},_0x2445ca(0x700),{},{'logger':(0x0,Ot[_0x2445ca(0x41b)])({'level':_0x2445ca(0x675)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x6c753f instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x12df4c=this[_0x2445ca(0x3da)][_0x2445ca(0x805)]('DATABASE'),_0x72ac89,_0x2ed082;if(_0x989881[_0x2445ca(0x325)])_0x72ac89=_0x989881['fileName'];else{let _0x1f822a=_0x989881[_0x2445ca(0x3bd)]?.[_0x2445ca(0x3e3)](/\/(\w+)/),_0x2f646c=_0x1f822a?_0x1f822a[0x1]:null;if(!_0x2f646c)throw new Error(_0x2445ca(0x1f0));_0x72ac89=(0x0,Me['v4'])()+'.'+_0x2f646c;}_0x2eefaa===_0x2445ca(0x346)&&_0x989881[_0x2445ca(0x3bd)]===_0x2445ca(0x2a4)?(_0x72ac89=(0x0,Me['v4'])()+'.ogg',_0x2ed082=_0x2445ca(0x374)+await this[_0x2445ca(0x7f0)](_0x6c753f['toString'](_0x2445ca(0x1b4)))):(await this[_0x2445ca(0x513)](_0x6c753f,_0x72ac89),_0x2ed082=_0x2445ca(0x374)+_0x72ac89);let _0x40e486=this[_0x2445ca(0x3da)]['get'](_0x2445ca(0x5a0))['URL'];if(!_0x40e486){let _0x57edbe=this[_0x2445ca(0x3da)][_0x2445ca(0x805)](_0x2445ca(0x260));_0x40e486=_0x2445ca(0x6f2)+(_0x57edbe&&_0x57edbe['FULLCHAIN'][_0x2445ca(0x432)]('/')[0x4]);}_0x2ed082=''+_0x40e486+_0x2ed082;let _0x2813c8=0xc*0x3c*0x3c*0x3e8,_0x5719d6={'where':{'_id':_0x1b8d96['key']['id']}},_0x46dd22={'message_normalized.fileUrl':_0x2ed082,'message_normalized.expires_fileUrl':Date[_0x2445ca(0x70e)]()+_0x2813c8};try{let _0x9755ff=await this[_0x2445ca(0x34e)][_0x2445ca(0x50c)][_0x2445ca(0x4f5)](_0x5719d6,_0x46dd22,this['instance'][_0x2445ca(0x31d)]);_0x9755ff&&J(this['instanceName'],_0x2445ca(0x4c1),{'message':_0x9755ff});}catch(_0x5c620a){this[_0x2445ca(0x525)][_0x2445ca(0x62b)](this[_0x2445ca(0x2d7)]+'\x20('+this['instance'][_0x2445ca(0x31d)]+_0x2445ca(0x26f)+(_0x5c620a instanceof Error?_0x5c620a[_0x2445ca(0x50c)]:JSON[_0x2445ca(0x613)](_0x5c620a,null,0x2)));}return{'mediaType':_0x2eefaa,'fileName':_0x989881[_0x2445ca(0x325)],'caption':_0x989881[_0x2445ca(0x4d4)],'size':{'fileLength':_0x989881[_0x2445ca(0x61c)],'height':_0x989881[_0x2445ca(0x74e)],'width':_0x989881['width']},'mimetype':_0x989881[_0x2445ca(0x3bd)],'base64':_0x6c753f[_0x2445ca(0x689)](_0x2445ca(0x1b4)),'fileUrl':_0x2ed082,'expires_fileUrl':Date[_0x2445ca(0x70e)]()+_0x2813c8};}catch(_0xe79bd7){throw this['logger']['error'](this[_0x2445ca(0x2d7)]+'\x20('+this[_0x2445ca(0x799)][_0x2445ca(0x31d)]+_0x2445ca(0x26f)+(_0xe79bd7 instanceof Error?_0xe79bd7[_0x2445ca(0x50c)]:JSON['stringify'](_0xe79bd7,null,0x2))),new m(_0xe79bd7[_0x2445ca(0x689)]());}}async['saveMediaToFile'](_0x473ef3,_0x7dca4f){const _0x51178f=a0_0x18a40e;let _0x5845ae=F[_0x51178f(0x41b)]['join'](__dirname,_0x51178f(0x326));L['existsSync'](_0x5845ae)||L[_0x51178f(0x26d)](_0x5845ae,{'recursive':!0x0});let _0x149fda=F['default']['join'](_0x5845ae,_0x7dca4f);return new Promise((_0x4bc052,_0x555b55)=>{const _0x5bd937=_0x51178f;L[_0x5bd937(0x53a)](_0x149fda,_0x473ef3,_0xc22201=>{const _0x48bf45=_0x5bd937;_0xc22201?(this[_0x48bf45(0x525)][_0x48bf45(0x62b)](_0x48bf45(0x1f3)+(_0xc22201 instanceof Error?_0xc22201[_0x48bf45(0x50c)]:JSON[_0x48bf45(0x613)](_0xc22201,null,0x2))),_0x555b55(_0xc22201)):(this[_0x48bf45(0x525)][_0x48bf45(0x737)]('File\x20written\x20to\x20path:\x20'+_0x149fda),_0x4bc052(_0x149fda));});});}async['fetchContacts'](_0x3809b6){const _0x1ec841=a0_0x18a40e;return await this[_0x1ec841(0x34e)][_0x1ec841(0x60d)][_0x1ec841(0x437)](_0x3809b6,this[_0x1ec841(0x799)][_0x1ec841(0x31d)]);}async['fetchLabels'](){const _0xaffd79=a0_0x18a40e;return await this[_0xaffd79(0x34e)][_0xaffd79(0x2fd)][_0xaffd79(0x437)]({'where':{}},this[_0xaffd79(0x799)][_0xaffd79(0x31d)]);}async[a0_0x18a40e(0x4b5)](_0x776417){const _0x48e721=a0_0x18a40e;return await this['repository'][_0x48e721(0x50c)][_0x48e721(0x437)](_0x776417,this['instance'][_0x48e721(0x31d)]);}async[a0_0x18a40e(0x54a)](){const _0x47c1be=a0_0x18a40e;return this[_0x47c1be(0x34e)][_0x47c1be(0x60e)][_0x47c1be(0x1cd)](this[_0x47c1be(0x799)][_0x47c1be(0x31d)]),this['repository'][_0x47c1be(0x60e)]['updateMissingEtiquetas'](this[_0x47c1be(0x799)]['wuid']),this['repository']['chat'][_0x47c1be(0x79e)](this['instance']['wuid']),this[_0x47c1be(0x34e)]['chat'][_0x47c1be(0x1fd)](this[_0x47c1be(0x799)][_0x47c1be(0x31d)]),await this[_0x47c1be(0x34e)]['chat'][_0x47c1be(0x437)]({'where':{}},this[_0x47c1be(0x799)][_0x47c1be(0x31d)]);}async[a0_0x18a40e(0x6a8)](_0x24ec2c){const _0x434c01=a0_0x18a40e;try{if(!Array['isArray'](_0x24ec2c)||_0x24ec2c[_0x434c01(0x233)]===0x0)throw new Error(_0x434c01(0x1f7));let _0x45fb41=[],_0x19c806=[];for(let _0x4c1b29 of _0x24ec2c){if(_0x4c1b29['_id'])_0x4c1b29[_0x434c01(0x6bf)]=this[_0x434c01(0x571)](_0x4c1b29[_0x434c01(0x6bf)]);else continue;await this[_0x434c01(0x34e)][_0x434c01(0x60e)][_0x434c01(0x24e)]({'where':{'_id':_0x4c1b29[_0x434c01(0x6bf)]}},this[_0x434c01(0x799)][_0x434c01(0x31d)])?_0x19c806[_0x434c01(0x78b)]({'_id':_0x4c1b29[_0x434c01(0x6bf)],'leadInfo':_0x4c1b29[_0x434c01(0x1f9)],'owner':this[_0x434c01(0x799)][_0x434c01(0x31d)]}):_0x45fb41[_0x434c01(0x78b)]({'_id':_0x4c1b29[_0x434c01(0x6bf)],'owner':this[_0x434c01(0x799)][_0x434c01(0x31d)],'leadInfo':_0x4c1b29['leadInfo'],'imported':!0x0});}return _0x19c806[_0x434c01(0x233)]>0x0&&await this[_0x434c01(0x34e)][_0x434c01(0x60e)]['updateMany'](_0x19c806[_0x434c01(0x783)](_0x168f4b=>({'query':{'where':{'_id':_0x168f4b[_0x434c01(0x6bf)],'owner':this[_0x434c01(0x799)]['wuid']}},'update':_0x168f4b}))),_0x45fb41[_0x434c01(0x233)]>0x0&&await this['repository'][_0x434c01(0x60e)][_0x434c01(0x242)](_0x45fb41,this[_0x434c01(0x799)][_0x434c01(0x31d)]),{'updated':_0x19c806['length'],'inserted':_0x45fb41['length']};}catch(_0x11d132){throw console[_0x434c01(0x62b)](_0x434c01(0x2e7),_0x11d132),_0x11d132;}}async[a0_0x18a40e(0x777)](_0x5bf973){const _0x20e183=a0_0x18a40e;try{if(!Array[_0x20e183(0x213)](_0x5bf973)||_0x5bf973[_0x20e183(0x233)]===0x0)throw new Error(_0x20e183(0x1f7));let _0x44159c=0x64,_0x3332a9=0x0;for(let _0x22ad5e=0x0;_0x22ad5e<_0x5bf973[_0x20e183(0x233)];_0x22ad5e+=_0x44159c){let _0x198476=_0x5bf973['slice'](_0x22ad5e,_0x22ad5e+_0x44159c),{updated:_0x693d0f}=await this[_0x20e183(0x315)](_0x198476);_0x3332a9+=_0x693d0f;}return{'updated':_0x3332a9};}catch(_0x3cca3){throw console[_0x20e183(0x62b)](_0x20e183(0x2e7),_0x3cca3),_0x3cca3;}}async[a0_0x18a40e(0x315)](_0x35649c){const _0x29948f=a0_0x18a40e;try{let _0x1e975f=await this[_0x29948f(0x34e)][_0x29948f(0x2fd)][_0x29948f(0x437)]({'where':{}},this[_0x29948f(0x799)][_0x29948f(0x31d)]),_0x5864fc=new Set(_0x1e975f[_0x29948f(0x783)](_0x4763ca=>_0x4763ca[_0x29948f(0x6bf)])),_0x3dbf59=[],_0x445dd9=[];for(let _0x10f4f5 of _0x35649c){if(!_0x10f4f5[_0x29948f(0x6bf)])continue;_0x10f4f5['_id']=this['createJid'](_0x10f4f5['_id']);let _0x4a953a=await this['repository'][_0x29948f(0x60e)][_0x29948f(0x24e)]({'where':{'_id':_0x10f4f5['_id']}},this[_0x29948f(0x799)]['wuid']),_0x436cfb={};if(Object[_0x29948f(0x6e7)](_0x10f4f5['leadInfo'])[_0x29948f(0x45f)](([_0x2c7100,_0x2a7d3f])=>{const _0x2bf8f8=_0x29948f;_0x436cfb[_0x2bf8f8(0x7f4)+_0x2c7100]=_0x2a7d3f;}),_0x4a953a&&!_0x4a953a['imported']){let _0x311730=(_0x10f4f5[_0x29948f(0x1f9)][_0x29948f(0x1d8)]||[])[_0x29948f(0x598)](_0x1d03a5=>_0x5864fc['has'](_0x1d03a5)),_0x46d2ae=new Set(_0x4a953a['leadInfo'][_0x29948f(0x1d8)]||[]),_0x43176e=_0x311730[_0x29948f(0x598)](_0x2b0cf8=>!_0x46d2ae[_0x29948f(0x548)](_0x2b0cf8)),_0x4610e8=[..._0x46d2ae][_0x29948f(0x598)](_0x19af50=>!_0x311730[_0x29948f(0x3a7)](_0x19af50));_0x445dd9[_0x29948f(0x78b)](..._0x43176e[_0x29948f(0x783)](_0x30e9d9=>this[_0x29948f(0x5aa)](_0x30e9d9,_0x10f4f5['_id']))),_0x445dd9[_0x29948f(0x78b)](..._0x4610e8[_0x29948f(0x783)](_0x399b55=>this[_0x29948f(0x776)](_0x399b55,_0x10f4f5[_0x29948f(0x6bf)]))),_0x10f4f5['leadInfo'][_0x29948f(0x1d8)]=_0x311730,_0x3dbf59[_0x29948f(0x78b)]({'query':{'where':{'_id':_0x10f4f5[_0x29948f(0x6bf)],'owner':this[_0x29948f(0x799)]['wuid']}},'update':_0x436cfb});}else _0x436cfb[_0x29948f(0x32b)]=!0x0,_0x3dbf59[_0x29948f(0x78b)]({'query':{'where':{'_id':_0x10f4f5[_0x29948f(0x6bf)],'owner':this[_0x29948f(0x799)][_0x29948f(0x31d)]}},'update':_0x436cfb});}let _0xe7ff2c=await this['repository'][_0x29948f(0x60e)][_0x29948f(0x351)](_0x3dbf59);return await Promise['all'](_0x445dd9),{'updated':_0xe7ff2c};}catch(_0x1e9e6f){throw console[_0x29948f(0x62b)](_0x29948f(0x2e7),_0x1e9e6f),_0x1e9e6f;}}async[a0_0x18a40e(0x6f0)](){const _0x2d50d8=a0_0x18a40e;return await this[_0x2d50d8(0x5db)][_0x2d50d8(0x6f0)]();}async[a0_0x18a40e(0x3ca)](_0x3a2db8){const _0x317e41=a0_0x18a40e;try{return await this[_0x317e41(0x5db)][_0x317e41(0x366)](_0x3a2db8[_0x317e41(0x2c4)]['readreceipts']),await this[_0x317e41(0x5db)][_0x317e41(0x239)](_0x3a2db8[_0x317e41(0x2c4)]['profile']),await this[_0x317e41(0x5db)][_0x317e41(0x282)](_0x3a2db8[_0x317e41(0x2c4)][_0x317e41(0x6d8)]),await this[_0x317e41(0x5db)]['updateOnlinePrivacy'](_0x3a2db8['privacySettings'][_0x317e41(0x3a1)]),await this['client'][_0x317e41(0x4dc)](_0x3a2db8[_0x317e41(0x2c4)]['last']),await this[_0x317e41(0x5db)][_0x317e41(0x81b)](_0x3a2db8['privacySettings']['groupadd']),this[_0x317e41(0x5db)]?.['ws']?.[_0x317e41(0x345)](),{'update':_0x317e41(0x628),'data':{'readreceipts':_0x3a2db8['privacySettings'][_0x317e41(0x745)],'profile':_0x3a2db8['privacySettings'][_0x317e41(0x58f)],'status':_0x3a2db8[_0x317e41(0x2c4)]['status'],'online':_0x3a2db8[_0x317e41(0x2c4)][_0x317e41(0x3a1)],'last':_0x3a2db8[_0x317e41(0x2c4)][_0x317e41(0x76a)],'groupadd':_0x3a2db8[_0x317e41(0x2c4)][_0x317e41(0x65e)]}};}catch(_0x5b2fa4){throw new O('Error\x20updating\x20privacy\x20settings',_0x5b2fa4['toString']());}}async['fetchProfile2'](_0x333b98){const _0x16be57=a0_0x18a40e;let _0x5c0a59=_0x333b98?this[_0x16be57(0x571)](_0x333b98):this[_0x16be57(0x5db)]?.['user']?.['id'];this[_0x16be57(0x525)]['verbose'](_0x16be57(0x6b4)+_0x5c0a59);try{if(this[_0x16be57(0x525)][_0x16be57(0x4c0)](_0x16be57(0x2d1)),_0x333b98){let _0xae1f2a=(await this[_0x16be57(0x73a)]({'numbers':[_0x5c0a59]}))?.[_0x16be57(0x1e6)](),_0x4cf3a8=await this[_0x16be57(0x7fd)](_0xae1f2a?.['jid']),_0xc3e747=await this[_0x16be57(0x244)](_0xae1f2a?.[_0x16be57(0x504)]),_0x1cd66f=await this[_0x16be57(0x67d)](_0xae1f2a?.[_0x16be57(0x504)]);return{'wuid':_0xae1f2a?.['jid']||_0x5c0a59,'name':_0xae1f2a?.[_0x16be57(0x317)],'numberExists':_0xae1f2a?.[_0x16be57(0x427)],'picture':_0x4cf3a8?.[_0x16be57(0x3ee)],'status':_0xc3e747?.[_0x16be57(0x6d8)],'isBusiness':_0x1cd66f[_0x16be57(0x423)],'email':_0x1cd66f?.[_0x16be57(0x320)],'description':_0x1cd66f?.[_0x16be57(0x5e1)],'website':_0x1cd66f?.[_0x16be57(0x69d)]?.['shift']()};}}catch{return this[_0x16be57(0x525)][_0x16be57(0x4c0)](_0x16be57(0x44a)),{'wuid':_0x5c0a59,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x18a40e(0x1df)](_0xa29a36){const _0xe4da35=a0_0x18a40e;let _0x1fe4a6=(_0xa29a36?this['createJid'](_0xa29a36):this[_0xe4da35(0x5db)]?.[_0xe4da35(0x7e5)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xe4da35(0x525)]['verbose']('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x1fe4a6);let _0x171e36=await this[_0xe4da35(0x34e)]['contact'][_0xe4da35(0x24e)]({'where':{'_id':_0x1fe4a6}},this[_0xe4da35(0x799)][_0xe4da35(0x31d)]),_0xcba6b=_0x171e36?_0x171e36[_0xe4da35(0x23e)]:null;try{let _0x19a836=(await this[_0xe4da35(0x73a)]({'numbers':[_0x1fe4a6]}))?.[_0xe4da35(0x1e6)](),_0x36d753=await this[_0xe4da35(0x7fd)](_0x19a836?.['jid']),_0x2be911=await this[_0xe4da35(0x244)](_0x19a836?.[_0xe4da35(0x504)]),_0x16f106=await this[_0xe4da35(0x67d)](_0x19a836?.[_0xe4da35(0x504)]),_0x52f5d9=await this[_0xe4da35(0x34e)][_0xe4da35(0x60e)][_0xe4da35(0x24e)]({'where':{'_id':_0x1fe4a6}},this[_0xe4da35(0x799)][_0xe4da35(0x31d)]),_0x3dd53a={'imagechat':_0x36d753?.[_0xe4da35(0x3ee)],'contactname':_0xcba6b||null,'status':_0x2be911?.[_0xe4da35(0x6d8)],'isBusiness':_0x16f106[_0xe4da35(0x423)],'email':_0x16f106?.[_0xe4da35(0x320)],'description':_0x16f106?.['description'],'website':_0x16f106?.['website']?.[_0xe4da35(0x1e6)](),'lastcache':Date['now'](),'imported':!_0x52f5d9},_0x30fe1c=await this[_0xe4da35(0x34e)][_0xe4da35(0x60e)]['updateOne']({'where':{'_id':_0x1fe4a6}},_0x3dd53a,this[_0xe4da35(0x799)][_0xe4da35(0x31d)]),_0x52e34d={'owner':this['instance'][_0xe4da35(0x31d)],'_id':_0x1fe4a6,'profilePictureUrl':_0x36d753?.['profilePictureUrl'],'status':_0x2be911?.[_0xe4da35(0x6d8)]};return this['repository'][_0xe4da35(0x60d)][_0xe4da35(0x4f5)]([_0x52e34d],this[_0xe4da35(0x799)][_0xe4da35(0x31d)]),_0x30fe1c&&J(this[_0xe4da35(0x2d7)],_0xe4da35(0x6f8),{'chat':_0x30fe1c}),{'wuid':_0x19a836?.['jid']||_0x1fe4a6,'name':_0x19a836?.[_0xe4da35(0x317)],'numberExists':_0x19a836?.[_0xe4da35(0x427)],'picture':_0x36d753?.[_0xe4da35(0x3ee)],'status':_0x2be911?.[_0xe4da35(0x6d8)],'isBusiness':_0x16f106['isBusiness'],'email':_0x16f106?.[_0xe4da35(0x320)],'description':_0x16f106?.[_0xe4da35(0x5e1)],'website':_0x16f106?.[_0xe4da35(0x69d)]?.['shift']()};}catch(_0x3001dc){return this[_0xe4da35(0x525)][_0xe4da35(0x62b)](_0xe4da35(0x321)+(_0x3001dc instanceof Error?_0x3001dc[_0xe4da35(0x50c)]:JSON[_0xe4da35(0x613)](_0x3001dc,null,0x2))),{};}}async['fetchBusinessProfile'](_0x4edcc2){const _0x24ff12=a0_0x18a40e;this[_0x24ff12(0x525)][_0x24ff12(0x4c0)](_0x24ff12(0x445));try{let _0x5d247e=_0x4edcc2?this[_0x24ff12(0x571)](_0x4edcc2):this[_0x24ff12(0x799)][_0x24ff12(0x31d)],_0x3bbc61=await this['client']['getBusinessProfile'](_0x5d247e);return this[_0x24ff12(0x525)]['verbose'](_0x24ff12(0x5ec)),_0x3bbc61?(this['logger'][_0x24ff12(0x4c0)](_0x24ff12(0x627)),{'isBusiness':!0x0,..._0x3bbc61}):{'isBusiness':!0x1,'message':_0x24ff12(0x21a),...(await this[_0x24ff12(0x73a)]({'numbers':[_0x5d247e]}))?.[_0x24ff12(0x1e6)]()};}catch(_0x21496a){throw new O('Error\x20updating\x20profile\x20name',_0x21496a[_0x24ff12(0x689)]());}}async[a0_0x18a40e(0x244)](_0x4d3f0f){const _0x46fdf3=a0_0x18a40e;let _0x220b65=this[_0x46fdf3(0x571)](_0x4d3f0f);try{return{'wuid':_0x220b65,'status':(await this['client'][_0x46fdf3(0x6c2)](_0x220b65))?.['status']};}catch{return{'wuid':_0x220b65,'status':null};}}async[a0_0x18a40e(0x7f8)](_0xd3d218){const _0x51f132=a0_0x18a40e;try{return await this[_0x51f132(0x5db)][_0x51f132(0x7f8)](_0xd3d218),{'update':_0x51f132(0x628)};}catch(_0x25fe43){throw new O(_0x51f132(0x4e6),_0x25fe43[_0x51f132(0x689)]());}}async['updateProfileStatus'](_0x14831a){const _0x34456d=a0_0x18a40e;try{return await this[_0x34456d(0x5db)][_0x34456d(0x78f)](_0x14831a),{'update':_0x34456d(0x628)};}catch(_0x296f77){throw new O(_0x34456d(0x559),_0x296f77[_0x34456d(0x689)]());}}async[a0_0x18a40e(0x1c8)](_0x41abb9){const _0x2c0f50=a0_0x18a40e;try{let _0x4b04a9;if((0x0,k[_0x2c0f50(0x48f)])(_0x41abb9)){let _0x2037d3=new Date()['getTime'](),_0x54df57=_0x41abb9+_0x2c0f50(0x562)+_0x2037d3;_0x4b04a9=(await se['default'][_0x2c0f50(0x805)](_0x54df57,{'responseType':_0x2c0f50(0x633)}))[_0x2c0f50(0x747)];}else{if((0x0,k[_0x2c0f50(0x472)])(_0x41abb9))_0x4b04a9=Buffer[_0x2c0f50(0x781)](_0x41abb9,_0x2c0f50(0x1b4));else throw new m(_0x2c0f50(0x4c5));}return await this[_0x2c0f50(0x5db)]['updateProfilePicture'](this['instance']['wuid'],_0x4b04a9),{'update':_0x2c0f50(0x628)};}catch(_0x51581a){throw new O('Error\x20updating\x20profile\x20picture',_0x51581a[_0x2c0f50(0x689)]());}}async[a0_0x18a40e(0x1d7)](){const _0x231521=a0_0x18a40e;try{return await this[_0x231521(0x5db)][_0x231521(0x1d7)](this[_0x231521(0x799)]['wuid']),{'update':'success'};}catch(_0x2c18ad){throw new O('Error\x20removing\x20profile\x20picture',_0x2c18ad[_0x231521(0x689)]());}}async[a0_0x18a40e(0x353)](_0x850e5f){const _0x25892d=a0_0x18a40e;try{let _0x12db5c=_0x850e5f[_0x25892d(0x46b)][_0x25892d(0x783)](_0x3c595d=>this[_0x25892d(0x571)](_0x3c595d)),{id:_0x5d84ff}=await this[_0x25892d(0x5db)]['groupCreate'](_0x850e5f[_0x25892d(0x2b5)],_0x12db5c);return _0x850e5f?.[_0x25892d(0x5e1)]&&await this[_0x25892d(0x5db)][_0x25892d(0x592)](_0x5d84ff,_0x850e5f[_0x25892d(0x5e1)]),{'metadata':await this[_0x25892d(0x5db)][_0x25892d(0x2aa)](_0x5d84ff)};}catch(_0x2b614e){throw this['logger'][_0x25892d(0x62b)](this[_0x25892d(0x2d7)]+'\x20('+this[_0x25892d(0x799)][_0x25892d(0x31d)]+'):\x20'+(_0x2b614e instanceof Error?_0x2b614e[_0x25892d(0x50c)]:JSON[_0x25892d(0x613)](_0x2b614e,null,0x2))),new O('Error\x20creating\x20group',_0x2b614e['toString']());}}async[a0_0x18a40e(0x50f)](_0x198ecb){const _0x1a3471=a0_0x18a40e;try{let _0x128c7f;if((0x0,k[_0x1a3471(0x48f)])(_0x198ecb[_0x1a3471(0x82d)])){let _0x13f5d4=new Date()[_0x1a3471(0x6f1)](),_0x56319a=_0x198ecb[_0x1a3471(0x82d)]+_0x1a3471(0x562)+_0x13f5d4;_0x128c7f=(await se[_0x1a3471(0x41b)][_0x1a3471(0x805)](_0x56319a,{'responseType':_0x1a3471(0x633)}))[_0x1a3471(0x747)];}else{if((0x0,k[_0x1a3471(0x472)])(_0x198ecb[_0x1a3471(0x82d)]))_0x128c7f=Buffer[_0x1a3471(0x781)](_0x198ecb['image'],'base64');else throw new m(_0x1a3471(0x4c5));}return await this[_0x1a3471(0x5db)]['updateProfilePicture'](_0x198ecb['groupJid'],_0x128c7f),{'update':_0x1a3471(0x628)};}catch(_0x2033b2){throw new O(_0x1a3471(0x4ea),_0x2033b2[_0x1a3471(0x689)]());}}async[a0_0x18a40e(0x5f8)](_0x27baec,_0x399a71=a0_0x18a40e(0x6a9)){const _0x55afae=a0_0x18a40e;try{let _0x387d31=await this['client'][_0x55afae(0x2aa)](_0x27baec['groupJid']),_0x36b1d4=null;try{_0x36b1d4=(await this['profilePicture'](_0x27baec[_0x55afae(0x470)]))[_0x55afae(0x3ee)];}catch(_0x1d14c6){this[_0x55afae(0x525)][_0x55afae(0x4c0)](this['instanceName']+'\x20('+this[_0x55afae(0x799)]['wuid']+_0x55afae(0x6a0)+_0x27baec['groupJid']+':\x20'+(_0x1d14c6 instanceof Error?_0x1d14c6[_0x55afae(0x50c)]:JSON[_0x55afae(0x613)](_0x1d14c6,null,0x2)));}let _0x1606e0=await this[_0x55afae(0x34e)][_0x55afae(0x60e)][_0x55afae(0x328)]({'where':{'_id':_0x27baec[_0x55afae(0x470)]}},{'imagechat':_0x36b1d4,'name':_0x387d31[_0x55afae(0x2b5)],'group_size':_0x387d31[_0x55afae(0x680)],'group_announce':_0x387d31[_0x55afae(0x7a9)],'lastcache':Date[_0x55afae(0x70e)]()},this[_0x55afae(0x799)][_0x55afae(0x31d)]);return _0x1606e0&&J(this[_0x55afae(0x2d7)],_0x55afae(0x6f8),{'chat':_0x1606e0}),{'metadata':_0x387d31,'image':_0x36b1d4};}catch(_0x2413f7){if(_0x399a71===_0x55afae(0x658))return;throw new j(_0x55afae(0x45a),_0x2413f7['toString']());}}async[a0_0x18a40e(0x2e3)](_0x43ac5a){const _0x3e4d8e=a0_0x18a40e;try{return await this['client'][_0x3e4d8e(0x592)](_0x43ac5a[_0x3e4d8e(0x470)],_0x43ac5a[_0x3e4d8e(0x5e1)]),{'update':_0x3e4d8e(0x628)};}catch(_0x52b5a7){throw new O(_0x3e4d8e(0x494),_0x52b5a7[_0x3e4d8e(0x689)]());}}async[a0_0x18a40e(0x2cc)](_0x26b533){const _0x2c06dd=a0_0x18a40e;try{return await this[_0x2c06dd(0x5db)][_0x2c06dd(0x257)](_0x26b533[_0x2c06dd(0x470)],_0x26b533[_0x2c06dd(0x317)]),{'update':_0x2c06dd(0x628)};}catch(_0x490e61){throw new O(_0x2c06dd(0x7f2),_0x490e61['toString']());}}async[a0_0x18a40e(0x5fa)](_0x7ef8bf){const _0x37e5e7=a0_0x18a40e;try{return await this[_0x37e5e7(0x5db)][_0x37e5e7(0x49c)](_0x7ef8bf[_0x37e5e7(0x470)],_0x7ef8bf[_0x37e5e7(0x354)]),{'update':_0x37e5e7(0x628)};}catch(_0x239a17){throw new O(_0x37e5e7(0x469),_0x239a17[_0x37e5e7(0x689)]());}}async[a0_0x18a40e(0x740)](){const _0x5c1278=a0_0x18a40e;try{let _0x3e46ba=[],_0x269ea3=await this[_0x5c1278(0x5db)][_0x5c1278(0x7cf)](),_0x2496c5=Object[_0x5c1278(0x20b)](_0x269ea3),_0xb92f97=_0x2496c5[_0x5c1278(0x598)](_0x41b228=>(0x0,y[_0x5c1278(0x2bb)])(_0x41b228?.['id']))[_0x5c1278(0x783)](async _0x5a162e=>{const _0x435e1e=_0x5c1278;try{return await this['client'][_0x435e1e(0x3ee)](_0x5a162e['id'],_0x435e1e(0x1e1));}catch(_0x4ba54d){return this[_0x435e1e(0x525)][_0x435e1e(0x4c0)](this['instanceName']+'\x20('+this[_0x435e1e(0x799)]['wuid']+_0x435e1e(0x6a0)+_0x5a162e['id']+':\x20'+(_0x4ba54d instanceof Error?_0x4ba54d[_0x435e1e(0x50c)]:JSON['stringify'](_0x4ba54d,null,0x2))),null;}}),_0x2c290b=await Promise[_0x5c1278(0x1fe)](_0xb92f97);for(let _0x40c161=0x0;_0x40c161<_0x2496c5[_0x5c1278(0x233)];_0x40c161++){let _0x3fc63f=_0x2496c5[_0x40c161];(0x0,y[_0x5c1278(0x2bb)])(_0x3fc63f?.['id'])&&_0x3e46ba['push']({'groupJid':_0x3fc63f?.['id'],'subject':_0x3fc63f?.[_0x5c1278(0x2b5)],'subjectOwner':_0x3fc63f?.[_0x5c1278(0x6b8)]?.['split']('@')[0x0],'subjectTime':_0x3fc63f?.['subjectTime'],'size':_0x3fc63f?.[_0x5c1278(0x46b)]?.['length'],'owner':_0x3fc63f?.['owner']?.[_0x5c1278(0x432)]('@')[0x0],'creation':_0x3fc63f?.[_0x5c1278(0x434)],'desc':_0x3fc63f?.[_0x5c1278(0x677)],'restrict':_0x3fc63f?.[_0x5c1278(0x64f)],'announce':_0x3fc63f?.['announce'],'image':_0x2c290b[_0x40c161]});}return _0x3e46ba;}catch(_0x3dae7a){throw new j(_0x5c1278(0x45a),_0x3dae7a[_0x5c1278(0x689)]());}}async[a0_0x18a40e(0x509)](_0x2e3284){const _0x5df512=a0_0x18a40e;try{let _0x419cb7=await this[_0x5df512(0x5db)][_0x5df512(0x1e0)](_0x2e3284['groupJid']);return{'inviteUrl':_0x5df512(0x5a6)+_0x419cb7,'inviteCode':_0x419cb7};}catch(_0x3286c2){throw new j(_0x5df512(0x6a3),_0x3286c2[_0x5df512(0x689)]());}}async[a0_0x18a40e(0x71a)](_0x31fc15){const _0x4ae342=a0_0x18a40e;try{let _0x1f33fa=await this[_0x4ae342(0x5db)]['groupRevokeInvite'](_0x31fc15[_0x4ae342(0x470)]);return{'revoked':!0x0,'inviteUrl':_0x4ae342(0x5a6)+_0x1f33fa,'inviteCode':_0x1f33fa};}catch(_0x210a20){throw new j(_0x4ae342(0x2ff),_0x210a20[_0x4ae342(0x689)]());}}async[a0_0x18a40e(0x582)](_0x1d7cf2){const _0x32469e=a0_0x18a40e;try{if((0x0,k[_0x32469e(0x48f)])(_0x1d7cf2[_0x32469e(0x509)]))var _0xe83da=_0x1d7cf2[_0x32469e(0x509)]['split']('/')[0x3];else var _0xe83da=_0x1d7cf2[_0x32469e(0x509)];let _0x2e0729=await this['client'][_0x32469e(0x69e)](_0xe83da);return this[_0x32469e(0x525)][_0x32469e(0x4c0)](this[_0x32469e(0x2d7)]+'\x20('+this['instance'][_0x32469e(0x31d)]+_0x32469e(0x26f)+_0x2e0729),{'join':!0x0,'inviteCode':_0xe83da,'groupJid':_0x2e0729};}catch(_0x482527){throw new j(_0x32469e(0x1ce),_0x482527[_0x32469e(0x689)]());}}async[a0_0x18a40e(0x395)](_0x2089e3){const _0x14640b=a0_0x18a40e;try{return{'participants':(await this['client'][_0x14640b(0x2aa)](_0x2089e3[_0x14640b(0x470)]))[_0x14640b(0x46b)]};}catch(_0xa05682){throw new j('No\x20participants',_0xa05682[_0x14640b(0x689)]());}}async[a0_0x18a40e(0x398)](_0x2e9f3d){const _0x36d37c=a0_0x18a40e;try{let _0x31db44=_0x2e9f3d[_0x36d37c(0x46b)]['map'](_0x2bf3ea=>this[_0x36d37c(0x571)](_0x2bf3ea));return{'updateParticipants':await this[_0x36d37c(0x5db)][_0x36d37c(0x210)](_0x2e9f3d['groupJid'],_0x31db44,_0x2e9f3d[_0x36d37c(0x54c)])};}catch(_0x4c7590){throw new m(_0x36d37c(0x4fc),_0x4c7590[_0x36d37c(0x689)]());}}async[a0_0x18a40e(0x80b)](_0x28187e){const _0x28f663=a0_0x18a40e;try{let _0x6b3cdc=await this[_0x28f663(0x5db)][_0x28f663(0x65c)](_0x28187e[_0x28f663(0x470)],_0x28187e[_0x28f663(0x455)]);return{'success':!0x0};}catch(_0x95fde6){throw new m(_0x28f663(0x698),_0x95fde6[_0x28f663(0x689)]());}}async['leaveGroup'](_0x598868){const _0x4c6591=a0_0x18a40e;try{return await this['client'][_0x4c6591(0x53b)](_0x598868[_0x4c6591(0x470)]),{'groupJid':_0x598868['groupJid'],'leave':!0x0};}catch(_0xefa94b){throw new m(_0x4c6591(0x390),_0xefa94b[_0x4c6591(0x689)]());}}async[a0_0x18a40e(0x4da)](_0x20fffa){const _0xff2c16=a0_0x18a40e;return await this[_0xff2c16(0x1b3)](_0x20fffa[_0xff2c16(0x7f3)],{'poll':{'name':_0x20fffa[_0xff2c16(0x4da)]?.[_0xff2c16(0x317)],'selectableCount':_0x20fffa[_0xff2c16(0x4da)]['selectableCount'],'values':_0x20fffa[_0xff2c16(0x4da)][_0xff2c16(0x20b)]}},_0x20fffa?.['options']);}async['listMessage'](_0x30dfc0){const _0x4ada04=a0_0x18a40e;return await this[_0x4ada04(0x1b3)](_0x30dfc0['number'],{'listMessage':{'title':_0x30dfc0['listMessage'][_0x4ada04(0x49a)],'description':_0x30dfc0[_0x4ada04(0x54f)][_0x4ada04(0x5e1)],'buttonText':_0x30dfc0[_0x4ada04(0x54f)]?.[_0x4ada04(0x53e)],'footerText':_0x30dfc0['listMessage']?.[_0x4ada04(0x761)],'sections':_0x30dfc0['listMessage']['sections'],'listType':0x2}},_0x30dfc0?.[_0x4ada04(0x759)]);}async['menuMessage'](_0x38cd5e){const _0x5a08e4=a0_0x18a40e;let _0x165390;if(_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x794)]===_0x5a08e4(0x77a)){let _0x41d59d=_0x38cd5e['menuMessage'][_0x5a08e4(0x2d3)][_0x5a08e4(0x225)]('\x0a'),_0x1ab051='',_0x205732='';_0x41d59d!==-0x1?(_0x1ab051=_0x38cd5e[_0x5a08e4(0x505)]['text'][_0x5a08e4(0x405)](0x0,_0x41d59d)['trim'](),_0x205732=_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x2d3)][_0x5a08e4(0x405)](_0x41d59d+0x1)):_0x205732=_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x2d3)];let _0x1b410c=this[_0x5a08e4(0x726)](_0x38cd5e['menuMessage'][_0x5a08e4(0x4d3)]);_0x165390={'listMessage':{'title':_0x1ab051,'description':_0x205732,'buttonText':_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x53e)]||_0x5a08e4(0x21e),'footerText':_0x38cd5e[_0x5a08e4(0x505)]['footerText'],'sections':_0x1b410c,'listType':0x2}};}else{if(_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x794)]===_0x5a08e4(0x35c)){let _0x385ec0=_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x4d3)][_0x5a08e4(0x598)](_0x1df9c9=>!(_0x1df9c9[_0x5a08e4(0x727)]('[')&&_0x1df9c9[_0x5a08e4(0x560)](']')))['map'](_0x932742=>_0x932742[_0x5a08e4(0x432)]('\x0a')[0x0]);_0x165390={'poll':{'name':_0x38cd5e[_0x5a08e4(0x505)]['text'],'selectableCount':_0x38cd5e[_0x5a08e4(0x505)][_0x5a08e4(0x1af)]||0x1,'values':_0x385ec0}};}}return await this['sendMessageWithTyping'](_0x38cd5e[_0x5a08e4(0x7f3)],_0x165390,_0x38cd5e?.[_0x5a08e4(0x759)]);}[a0_0x18a40e(0x726)](_0x3eebc7){const _0x7a9c4d=a0_0x18a40e;let _0x2888dd=[],_0x3498f6={'rows':[]};return _0x3eebc7[_0x7a9c4d(0x45f)](_0x236985=>{const _0x4cfbc7=_0x7a9c4d;if(_0x236985[_0x4cfbc7(0x727)]('[')&&_0x236985[_0x4cfbc7(0x560)](']'))_0x3498f6[_0x4cfbc7(0x5bf)][_0x4cfbc7(0x233)]>0x0&&_0x2888dd[_0x4cfbc7(0x78b)](_0x3498f6),_0x3498f6={'title':_0x236985[_0x4cfbc7(0x42a)](0x1,-0x1),'rows':[]};else{let _0x4807e8=_0x236985[_0x4cfbc7(0x432)]('\x0a')[_0x4cfbc7(0x783)](_0x5b0307=>_0x5b0307[_0x4cfbc7(0x75f)]()),_0x2d0d68=_0x4807e8[0x0],_0x5a678e=_0x4807e8[0x1]||null,_0x525a32=_0x4807e8[0x2]||_0x2d0d68;_0x3498f6[_0x4cfbc7(0x5bf)]['push']({'title':_0x2d0d68,'description':_0x5a678e,'rowId':_0x525a32});}}),_0x3498f6['rows'][_0x7a9c4d(0x233)]>0x0&&_0x2888dd[_0x7a9c4d(0x78b)](_0x3498f6),_0x2888dd;}async[a0_0x18a40e(0x316)](_0x14e331,_0x1ce11a){const _0x4368a9=a0_0x18a40e;if(await this[_0x4368a9(0x820)](_0x14e331,!0x0)){let _0x49902d={'where':{'_id':_0x14e331['id']}},_0x472327={'status':[_0x1ce11a[_0x4368a9(0x6d8)]][0x0]};try{let _0x593d6b=await this['repository'][_0x4368a9(0x50c)][_0x4368a9(0x4f5)](_0x49902d,_0x472327,this[_0x4368a9(0x799)][_0x4368a9(0x31d)]);_0x593d6b&&J(this[_0x4368a9(0x2d7)],_0x4368a9(0x4c1),{'message':_0x593d6b});}catch{}}}[a0_0x18a40e(0x739)](_0x49c7e7){const _0x2bfcc3=a0_0x18a40e;let _0x20a773=[];return _0x49c7e7[_0x2bfcc3(0x45f)](_0xe89d39=>{const _0x4d591e=_0x2bfcc3;_0xe89d39[_0x4d591e(0x49a)]&&_0x20a773[_0x4d591e(0x78b)]('['+_0xe89d39[_0x4d591e(0x49a)]+']'),_0xe89d39[_0x4d591e(0x5bf)]['forEach'](_0x4eb4ee=>{_0x20a773['push'](_0x4eb4ee['title']);});}),_0x20a773['join']('|');}[a0_0x18a40e(0x299)](_0x18a724){const _0x14cdcd=a0_0x18a40e;let _0x243c1d=_0x18a724['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x14cdcd(0x598)](_0x32e7a5=>_0x32e7a5[_0x14cdcd(0x3a7)](_0x14cdcd(0x399))||_0x32e7a5[_0x14cdcd(0x3a7)](_0x14cdcd(0x224))),_0x4e64d8='';return _0x243c1d[_0x14cdcd(0x45f)](_0x58dba8=>{const _0x88559b=_0x14cdcd;let _0x14daf1=/TEL(?:.*):(.+)/,_0x3bbcf8=/EMAIL(?:.*):(.+)/,_0x1d0618=_0x58dba8[_0x88559b(0x3e3)](_0x14daf1),_0x521932=_0x58dba8[_0x88559b(0x3e3)](_0x3bbcf8);if(_0x1d0618){let _0x504817=_0x1d0618[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x88559b(0x75f)]();_0x4e64d8+=_0x88559b(0x221)+_0x504817+'\x0a';}else{if(_0x521932){let _0x33d233=_0x521932[0x1][_0x88559b(0x75f)]();_0x4e64d8+=_0x88559b(0x603)+_0x33d233+'\x0a';}}}),_0x4e64d8[_0x14cdcd(0x75f)]();}async['updateChatWithMessage'](_0x4fb2bb,_0x5a448b,_0x5a0452){const _0x5eca7e=a0_0x18a40e;if(!_0x4fb2bb['ENABLED'])return;let _0x386131=_0x5a448b[_0x5eca7e(0x64d)][_0x5eca7e(0x65f)][_0x5eca7e(0x1b1)](/:\d{1,2}@/g,'@'),_0x38dbb9=_0x5a448b[_0x5eca7e(0x64d)][_0x5eca7e(0x6ee)],_0x399421=_0x386131[_0x5eca7e(0x560)](_0x5eca7e(0x701)),_0x1fc21c=_0x5a448b[_0x5eca7e(0x22f)]?.[_0x5eca7e(0x2d3)]||_0x5a448b['message_normalized']?.[_0x5eca7e(0x4d4)]||_0x5a448b[_0x5eca7e(0x22f)]?.[_0x5eca7e(0x821)]||_0x5a448b[_0x5eca7e(0x22f)]?.[_0x5eca7e(0x317)],_0x479ea1={'lastmsg':_0x5a448b[_0x5eca7e(0x66f)]||Date[_0x5eca7e(0x70e)](),'unreadcount':_0x38dbb9?0x0:0x1,..._0x38dbb9||_0x399421?{}:{'name':_0x5a448b['pushName']},..._0x399421?{'group':_0x399421}:{}},_0x471f23=await this[_0x5eca7e(0x34e)][_0x5eca7e(0x60e)][_0x5eca7e(0x328)]({'where':{'_id':_0x386131}},_0x479ea1,this[_0x5eca7e(0x799)][_0x5eca7e(0x31d)],{'new':!0x0,'upsert':!0x0});if(_0x471f23[_0x5eca7e(0x32b)]){let _0x21b135=await this[_0x5eca7e(0x34e)][_0x5eca7e(0x2fd)][_0x5eca7e(0x437)]({'where':{}},this[_0x5eca7e(0x799)]['wuid']),_0x141be6=new Set(_0x21b135[_0x5eca7e(0x783)](_0x509c90=>_0x509c90[_0x5eca7e(0x6bf)])),_0x452a88=(_0x471f23[_0x5eca7e(0x1f9)]?.[_0x5eca7e(0x1d8)]||[])[_0x5eca7e(0x598)](_0x4c0db4=>_0x141be6[_0x5eca7e(0x548)](_0x4c0db4)),_0x2f00c={'leadInfo.etiquetas':_0x452a88,'imported':!0x1};_0x471f23=await this[_0x5eca7e(0x34e)][_0x5eca7e(0x60e)][_0x5eca7e(0x328)]({'where':{'_id':_0x386131}},_0x2f00c,this['instance'][_0x5eca7e(0x31d)]);for(let _0x5aeedd of _0x452a88)await this[_0x5eca7e(0x5aa)](_0x5aeedd,_0x386131);}if(!_0x399421&&(!_0x471f23?.[_0x5eca7e(0x1f9)]||!_0x471f23['leadInfo']['nome']||_0x5a448b['pushName']===_0x5eca7e(0x5e8))&&_0x5a448b['pushName']&&!_0x38dbb9&&(_0x471f23=await this[_0x5eca7e(0x34e)]['chat'][_0x5eca7e(0x328)]({'where':{'_id':_0x386131}},{'leadInfo.nome':_0x5a448b[_0x5eca7e(0x23e)]},this[_0x5eca7e(0x799)][_0x5eca7e(0x31d)],{'new':!0x0,'upsert':!0x0})),_0x5a0452===_0x5eca7e(0x1aa)&&_0x38dbb9&&this[_0x5eca7e(0x5a1)]?.['flowConfig'][_0x5eca7e(0x717)]&&!_0x1fc21c['startsWith'](this[_0x5eca7e(0x5a1)]?.[_0x5eca7e(0x230)][_0x5eca7e(0x661)])){let _0x2aa62f=(this[_0x5eca7e(0x5a1)]?.[_0x5eca7e(0x230)][_0x5eca7e(0x618)]||0x5)*0xea60,_0x452100=Date[_0x5eca7e(0x70e)]()+_0x2aa62f;_0x471f23?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this[_0x5eca7e(0x34e)][_0x5eca7e(0x60e)][_0x5eca7e(0x328)]({'where':{'_id':_0x386131}},{'leadInfo.desativadoFluxoAte':_0x452100},this['instance'][_0x5eca7e(0x31d)],{'new':!0x0,'upsert':!0x1}),this[_0x5eca7e(0x525)][_0x5eca7e(0x4c0)](this[_0x5eca7e(0x2d7)]+'\x20('+this['instance'][_0x5eca7e(0x31d)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20'+_0x452100+'.'));}if(_0x471f23)J(this[_0x5eca7e(0x2d7)],_0x5eca7e(0x6f8),{'chat':_0x471f23});else{this[_0x5eca7e(0x525)]['error'](this[_0x5eca7e(0x2d7)]+'\x20('+this[_0x5eca7e(0x799)]['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this['AutomateSystem']?.[_0x5eca7e(0x230)][_0x5eca7e(0x717)])return this['logger'][_0x5eca7e(0x4c0)](this[_0x5eca7e(0x2d7)]+'\x20('+this['instance'][_0x5eca7e(0x31d)]+_0x5eca7e(0x5ba)),null;if(_0x471f23[_0x5eca7e(0x6bf)][_0x5eca7e(0x3a7)](_0x5eca7e(0x701))&&this['AutomateSystem']?.[_0x5eca7e(0x230)][_0x5eca7e(0x775)]===!0x0)return this[_0x5eca7e(0x525)][_0x5eca7e(0x4c0)](this[_0x5eca7e(0x2d7)]+'\x20('+this[_0x5eca7e(0x799)]['wuid']+_0x5eca7e(0x3ae)),null;if(_0x471f23[_0x5eca7e(0x1f9)]){if(_0x471f23[_0x5eca7e(0x1f9)][_0x5eca7e(0x21c)]===0x0||_0x471f23[_0x5eca7e(0x1f9)][_0x5eca7e(0x220)])return this[_0x5eca7e(0x525)][_0x5eca7e(0x4c0)](this['instanceName']+'\x20('+this[_0x5eca7e(0x799)]['wuid']+_0x5eca7e(0x362)+_0x386131+',\x20saindo.'),null;if(_0x471f23[_0x5eca7e(0x1f9)][_0x5eca7e(0x21c)]>Date[_0x5eca7e(0x70e)]()&&!_0x5a448b[_0x5eca7e(0x22f)]?.[_0x5eca7e(0x821)])return this[_0x5eca7e(0x525)][_0x5eca7e(0x4c0)](this['instanceName']+'\x20('+this[_0x5eca7e(0x799)]['wuid']+_0x5eca7e(0x23f)+new Date(_0x471f23[_0x5eca7e(0x1f9)][_0x5eca7e(0x21c)])['toLocaleString']()+',\x20saindo.'),null;}this[_0x5eca7e(0x525)][_0x5eca7e(0x4c0)](this[_0x5eca7e(0x2d7)]+'\x20('+this[_0x5eca7e(0x799)]['wuid']+_0x5eca7e(0x204)),this['StartBot'](_0x5a0452,_0x5a448b);}async[a0_0x18a40e(0x56a)](_0x225e14,_0x31fb8a){const _0x1bf23f=a0_0x18a40e;if(_0x31fb8a[_0x1bf23f(0x3e8)]){let _0x14d01e=_0x225e14[_0x1bf23f(0x783)](async _0x2b821e=>{const _0x404eaf=_0x1bf23f;try{let _0x5b11ed={'_id':_0x2b821e['_id'],'owner':_0x2b821e[_0x404eaf(0x200)],'lastcache':0x0};if(_0x2b821e[_0x404eaf(0x3d9)]!==null&&(_0x5b11ed[_0x404eaf(0x3d9)]=_0x2b821e['group']),_0x2b821e[_0x404eaf(0x317)]!==null&&(_0x5b11ed[_0x404eaf(0x317)]=_0x2b821e[_0x404eaf(0x317)]),_0x2b821e[_0x404eaf(0x25c)]!==null&&(_0x5b11ed['contactname']=_0x2b821e[_0x404eaf(0x25c)]),_0x2b821e[_0x404eaf(0x56e)]!==null&&(_0x5b11ed[_0x404eaf(0x56e)]=_0x2b821e[_0x404eaf(0x56e)]),_0x2b821e['imagechat']===null&&(_0x5b11ed[_0x404eaf(0x56e)]=_0x404eaf(0x3e6)),_0x2b821e[_0x404eaf(0x379)]!==null&&(_0x5b11ed[_0x404eaf(0x379)]=_0x2b821e['lastmsg']),_0x2b821e[_0x404eaf(0x344)]!==null&&(_0x5b11ed[_0x404eaf(0x344)]=_0x2b821e[_0x404eaf(0x344)]),_0x2b821e[_0x404eaf(0x54d)]!==null&&(_0x5b11ed[_0x404eaf(0x54d)]=_0x2b821e[_0x404eaf(0x54d)]),Object['keys'](_0x5b11ed)[_0x404eaf(0x233)]>0x0)return await this[_0x404eaf(0x34e)][_0x404eaf(0x60e)]['updateOne']({'where':{'_id':_0x2b821e[_0x404eaf(0x6bf)]}},_0x5b11ed,this[_0x404eaf(0x799)][_0x404eaf(0x31d)]);}catch(_0x580d3f){return console[_0x404eaf(0x62b)](_0x404eaf(0x3ad)+_0x2b821e[_0x404eaf(0x6bf)]+':',_0x580d3f),null;}}),_0x2dcff6=(await Promise[_0x1bf23f(0x1fe)](_0x14d01e))[_0x1bf23f(0x598)](_0xa48952=>_0xa48952!==null)[_0x1bf23f(0x233)];this[_0x1bf23f(0x525)][_0x1bf23f(0x4c0)](this[_0x1bf23f(0x2d7)]+'\x20('+this[_0x1bf23f(0x799)][_0x1bf23f(0x31d)]+_0x1bf23f(0x26f)+_0x2dcff6+_0x1bf23f(0x587)+this[_0x1bf23f(0x799)][_0x1bf23f(0x31d)]+_0x1bf23f(0x2d9));}}async['readMessageBot'](_0x4d6135){const _0x16581c=a0_0x18a40e;this[_0x16581c(0x525)]['verbose'](this[_0x16581c(0x2d7)]+'\x20('+this['instance'][_0x16581c(0x31d)]+'):\x20Ler\x20mensagem');let _0x23a9d2={'readMessages':[{'remoteJid':_0x4d6135[_0x16581c(0x1b2)]['lastReceivedMessage']['key'][_0x16581c(0x65f)],'fromMe':_0x4d6135[_0x16581c(0x1b2)][_0x16581c(0x361)][_0x16581c(0x64d)][_0x16581c(0x6ee)],'id':_0x4d6135['chatLog'][_0x16581c(0x361)]['key']['id']}]};await this['markMessageAsRead'](_0x23a9d2);}async[a0_0x18a40e(0x45c)](_0x2c8adc,_0x5590fd){const _0x1b46fe=a0_0x18a40e;try{let {key:_0x29caee,message_normalized:_0x5351d4}=_0x5590fd,_0x1ecc16=_0x5351d4,_0x55b9cc=_0x5351d4[_0x1b46fe(0x2d3)]||_0x5351d4[_0x1b46fe(0x4d4)]||_0x5351d4[_0x1b46fe(0x821)]||_0x5351d4[_0x1b46fe(0x317)],_0xcee376=_0x29caee['remoteJid'],_0x462f6e;if(_0x1ecc16[_0x1b46fe(0x64d)]['fromMe']&&_0x55b9cc[_0x1b46fe(0x75f)]()!==this[_0x1b46fe(0x5a1)]?.[_0x1b46fe(0x230)]['stopConversation']['trim']())return this[_0x1b46fe(0x525)][_0x1b46fe(0x4c0)](this['instanceName']+'\x20('+this[_0x1b46fe(0x799)]['wuid']+_0x1b46fe(0x7ed)),null;if(_0x1ecc16[_0x1b46fe(0x64d)][_0x1b46fe(0x6ee)]&&_0x55b9cc['trim']()===this[_0x1b46fe(0x5a1)]?.[_0x1b46fe(0x230)]['stopConversation']['trim']()){this[_0x1b46fe(0x525)][_0x1b46fe(0x4c0)](this[_0x1b46fe(0x2d7)]+'\x20('+this[_0x1b46fe(0x799)]['wuid']+_0x1b46fe(0x332));let _0x267fe4=await this[_0x1b46fe(0x34e)][_0x1b46fe(0x576)][_0x1b46fe(0x437)]({'remoteJid':_0xcee376,'status':_0x1b46fe(0x2de)},this[_0x1b46fe(0x799)][_0x1b46fe(0x31d)]);this[_0x1b46fe(0x525)]['verbose'](this[_0x1b46fe(0x2d7)]+'\x20('+this[_0x1b46fe(0x799)]['wuid']+'):\x20Conversas\x20encontradas:'+_0x267fe4);let _0x282e15=Date[_0x1b46fe(0x70e)](),_0x245e91;return this['AutomateSystem']?.[_0x1b46fe(0x230)][_0x1b46fe(0x82a)]===0x0?_0x245e91={'stoppedUntil':_0x282e15+0x7591f6200}:_0x245e91={'stoppedUntil':_0x282e15+this[_0x1b46fe(0x5a1)]?.[_0x1b46fe(0x230)][_0x1b46fe(0x82a)]*0x3c*0x3e8},this[_0x1b46fe(0x525)]['verbose'](this[_0x1b46fe(0x2d7)]+'\x20('+this[_0x1b46fe(0x799)][_0x1b46fe(0x31d)]+_0x1b46fe(0x272)+_0x245e91),this[_0x1b46fe(0x256)](_0x462f6e,_0x245e91['stoppedUntil']),null;}if(_0x55b9cc&&_0x55b9cc[_0x1b46fe(0x727)](this[_0x1b46fe(0x5a1)]?.[_0x1b46fe(0x230)][_0x1b46fe(0x661)])&&_0x55b9cc[_0x1b46fe(0x233)]>0x4){let _0x21bba8=await this['repository'][_0x1b46fe(0x5c5)][_0x1b46fe(0x24e)]({'where':{'startCommandWord':_0x55b9cc}},this[_0x1b46fe(0x799)][_0x1b46fe(0x31d)]);if(this[_0x1b46fe(0x525)]['verbose'](this[_0x1b46fe(0x2d7)]+'\x20('+this['instance'][_0x1b46fe(0x31d)]+'):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x21bba8)_0x462f6e=await this['createNewConversation'](_0x21bba8,_0x1ecc16[_0x1b46fe(0x64d)],_0x1ecc16);else return this[_0x1b46fe(0x525)]['verbose'](this[_0x1b46fe(0x2d7)]+'\x20('+this['instance'][_0x1b46fe(0x31d)]+_0x1b46fe(0x1f1)),null;}else _0x462f6e=await this[_0x1b46fe(0x452)](_0xcee376,_0x1ecc16);if(_0x462f6e){this[_0x1b46fe(0x525)][_0x1b46fe(0x4c0)](this[_0x1b46fe(0x2d7)]+'\x20('+this[_0x1b46fe(0x799)][_0x1b46fe(0x31d)]+_0x1b46fe(0x748)),!_0x29caee[_0x1b46fe(0x6ee)]&&_0x462f6e[_0x1b46fe(0x4c4)]&&this[_0x1b46fe(0x4e2)](_0x462f6e);let _0x270867=await this['NextBlock'](_0x462f6e);_0x270867&&await this['processblock'](_0x462f6e,_0x270867);}}catch(_0x3070db){this[_0x1b46fe(0x525)][_0x1b46fe(0x62b)](this[_0x1b46fe(0x2d7)]+'\x20('+this['instance'][_0x1b46fe(0x31d)]+_0x1b46fe(0x607)+(_0x3070db instanceof Error?_0x3070db[_0x1b46fe(0x50c)]:JSON[_0x1b46fe(0x613)](_0x3070db,null,0x2)));}}['flattenObject'](_0x2be523,_0xf4e8e3='',_0x2812f3={},_0x405d41=!0x0){const _0x4f41a3=a0_0x18a40e;for(let _0xbc64f9 in _0x2be523){let _0x2e388f=_0x405d41?'_'+_0xbc64f9:''+_0xf4e8e3+_0xbc64f9;typeof _0x2be523[_0xbc64f9]==_0x4f41a3(0x3c8)&&_0x2be523[_0xbc64f9]!==null?this['flattenObject'](_0x2be523[_0xbc64f9],_0x2e388f+'.',_0x2812f3,!0x1):_0x2812f3[_0x2e388f]=String(_0x2be523[_0xbc64f9]);}return _0x2812f3;}[a0_0x18a40e(0x3a4)](_0x489beb){const _0x22e6c3=a0_0x18a40e;let _0x2a98cc={};for(let _0x1d0ecc of _0x489beb)typeof _0x1d0ecc[_0x22e6c3(0x317)]==_0x22e6c3(0x74a)&&typeof _0x1d0ecc['value']=='string'&&(_0x2a98cc[_0x1d0ecc[_0x22e6c3(0x317)]]=_0x1d0ecc[_0x22e6c3(0x7c6)]);return _0x2a98cc;}async['NextBlock'](_0x4a841f){const _0x5e5b84=a0_0x18a40e;if(!this[_0x5e5b84(0x5a1)]?.['flowConfig']['enabled']||_0x4a841f[_0x5e5b84(0x6d8)]!==_0x5e5b84(0x2de)&&_0x4a841f[_0x5e5b84(0x487)]==='')return null;let _0x2687d1=_0x4a841f[_0x5e5b84(0x1b2)][_0x5e5b84(0x454)]||'start';typeof _0x4a841f[_0x5e5b84(0x1b2)]['lastCondition']>'u'&&(_0x4a841f[_0x5e5b84(0x1b2)][_0x5e5b84(0x69b)]=!0x0);let _0x57cf6a=_0x4a841f['chatLog'][_0x5e5b84(0x69b)];this[_0x5e5b84(0x525)][_0x5e5b84(0x4c0)](this[_0x5e5b84(0x2d7)]+'\x20('+this[_0x5e5b84(0x799)][_0x5e5b84(0x31d)]+_0x5e5b84(0x706)+_0x2687d1+_0x5e5b84(0x66d)+_0x57cf6a);let _0x5d564c=_0x2687d1===_0x5e5b84(0x4be)?_0x4a841f[_0x5e5b84(0x77e)]['find'](_0x54c30e=>_0x54c30e[_0x5e5b84(0x794)]==='start'):_0x4a841f['blocks'][_0x5e5b84(0x437)](_0x3186b2=>_0x3186b2['_id']['toString']()===_0x2687d1[_0x5e5b84(0x689)]());if(!_0x5d564c)return this['logger']['error'](this[_0x5e5b84(0x2d7)]+'\x20('+this[_0x5e5b84(0x799)][_0x5e5b84(0x31d)]+_0x5e5b84(0x3d1)+_0x2687d1),null;let _0x5a9139={'_pushName':_0x4a841f[_0x5e5b84(0x1b2)][_0x5e5b84(0x361)][_0x5e5b84(0x23e)],..._0x4a841f[_0x5e5b84(0x1b2)]['realVariables']},_0x5786c4=null;if(_0x4a841f['waitingMenu_id']){let _0x40e3c7=_0x4a841f[_0x5e5b84(0x1b2)][_0x5e5b84(0x361)][_0x5e5b84(0x821)],_0x238d4a=_0x4a841f[_0x5e5b84(0x6ec)][_0x5e5b84(0x437)](_0x10cc54=>_0x10cc54[_0x5e5b84(0x564)]===_0x40e3c7);if(_0x238d4a){let _0x168c44=_0x238d4a[_0x5e5b84(0x65a)];if(_0x5786c4=_0x4a841f[_0x5e5b84(0x77e)][_0x5e5b84(0x437)](_0x1ccc71=>_0x1ccc71[_0x5e5b84(0x718)]===_0x168c44&&_0x1ccc71[_0x5e5b84(0x254)]===0x1),_0x5d564c['uazapi'][_0x5e5b84(0x36a)]){let _0x34cd06={'id':_0x4a841f[_0x5e5b84(0x487)],'remoteJid':_0x4a841f[_0x5e5b84(0x65f)],'fromMe':!0x0};await this['deleteMessage'](_0x34cd06);}if(_0x5d564c[_0x5e5b84(0x1de)][_0x5e5b84(0x36a)]&&_0x5d564c[_0x5e5b84(0x1de)][_0x5e5b84(0x262)]&&_0x5d564c[_0x5e5b84(0x1de)][_0x5e5b84(0x20c)]===_0x5e5b84(0x35c)){let _0x2c6c3e={'number':_0x4a841f[_0x5e5b84(0x65f)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x4a841f[_0x5e5b84(0x312)]+_0x5e5b84(0x383)+_0x40e3c7}};await this[_0x5e5b84(0x5e7)](_0x2c6c3e);}_0x4a841f[_0x5e5b84(0x6d8)]='open',_0x4a841f[_0x5e5b84(0x487)]='',_0x4a841f[_0x5e5b84(0x312)]='',_0x4a841f[_0x5e5b84(0x6ec)]=[];}else{this[_0x5e5b84(0x525)]['verbose'](this[_0x5e5b84(0x2d7)]+'\x20('+this[_0x5e5b84(0x799)][_0x5e5b84(0x31d)]+_0x5e5b84(0x7cc));let _0x5636c9={'activatedCount':_0x4a841f['chatLog'][_0x5e5b84(0x743)][_0x5e5b84(0x598)](_0x6f8ff3=>String(_0x6f8ff3[_0x5e5b84(0x6fe)])===String(_0x2687d1))[_0x5e5b84(0x233)],'moreLogs':['No\x20respondeu\x20com\x20a\x20enquete.']};if(_0x5d564c[_0x5e5b84(0x1de)][_0x5e5b84(0x68a)]){let _0x5033a2={'number':_0x4a841f[_0x5e5b84(0x65f)],'options':{'delay':0x0},'textMessage':{'text':_0x5d564c[_0x5e5b84(0x1de)]['pollErrorMessage']}};await this[_0x5e5b84(0x5e7)](_0x5033a2);}if(_0x5d564c[_0x5e5b84(0x569)]!==void 0x0&&_0x5636c9['activatedCount']>=_0x5d564c[_0x5e5b84(0x569)]){let _0x579bbd=Date[_0x5e5b84(0x70e)](),_0x5764b3=_0x5d564c['stopMinutesMaxActives']??0xa;isNaN(_0x5764b3)&&(_0x5764b3=0xa);let _0x29a179=_0x579bbd+_0x5764b3*0x3c*0x3e8;_0x5636c9[_0x5e5b84(0x2ca)]=_0x29a179,_0x5636c9[_0x5e5b84(0x30b)]['push'](_0x5e5b84(0x78a)),this[_0x5e5b84(0x256)](_0x4a841f,_0x29a179),_0x4a841f['waitingMenu_id']='',_0x4a841f[_0x5e5b84(0x312)]='',_0x4a841f[_0x5e5b84(0x6ec)]=[];}return this[_0x5e5b84(0x259)](_0x4a841f,_0x5d564c,_0x5636c9,!0x0),null;}}if(_0x57cf6a&&_0x5d564c[_0x5e5b84(0x65a)]&&!_0x4a841f['waitingMenu_id']){let _0x404715=_0x4a841f[_0x5e5b84(0x77e)][_0x5e5b84(0x598)](_0x1b8bad=>_0x1b8bad['groupId']['toString']()===_0x5d564c[_0x5e5b84(0x65a)][_0x5e5b84(0x689)]())['sort']((_0x53450e,_0xc3f818)=>_0x53450e[_0x5e5b84(0x254)]-_0xc3f818[_0x5e5b84(0x254)]);_0x404715[_0x5e5b84(0x233)]>0x0&&(_0x5786c4=_0x404715[0x0]);}if(!_0x5786c4){let _0x5be69b=_0x5d564c[_0x5e5b84(0x718)],_0x46aea1=_0x4a841f[_0x5e5b84(0x77e)][_0x5e5b84(0x598)](_0x8fd2f2=>_0x8fd2f2[_0x5e5b84(0x718)]===_0x5be69b&&_0x8fd2f2[_0x5e5b84(0x254)]>_0x5d564c[_0x5e5b84(0x254)])[_0x5e5b84(0x818)]((_0x387ee6,_0x463722)=>_0x387ee6[_0x5e5b84(0x254)]-_0x463722[_0x5e5b84(0x254)]);_0x46aea1['length']>0x0&&(_0x5786c4=_0x46aea1[0x0]);}if(!_0x5786c4)return _0x4a841f[_0x5e5b84(0x6d8)]='closed',null;_0x4a841f['chatLog']['realVariables']=_0x5a9139;let _0x58ae50=JSON[_0x5e5b84(0x596)](JSON[_0x5e5b84(0x613)](_0x5786c4));return this['replaceVariablesInObject'](_0x58ae50,_0x4a841f[_0x5e5b84(0x1b2)][_0x5e5b84(0x515)]),_0x4a841f['chatLog']['lastBlockId']=_0x58ae50[_0x5e5b84(0x6bf)],_0x4a841f['chatLog'][_0x5e5b84(0x69b)]=!0x0,_0x58ae50;}[a0_0x18a40e(0x801)](_0x8f170b,_0x34810d){const _0x1dfaff=a0_0x18a40e;return _0x8f170b[_0x1dfaff(0x1b1)](/\{\{([^}]+)\}\}/g,(_0x1f6779,_0x465980)=>_0x34810d[_0x465980]||'');}[a0_0x18a40e(0x1a7)](_0x43e032,_0x43d32e){const _0xa25b8b=a0_0x18a40e;for(let _0x117906 in _0x43e032)typeof _0x43e032[_0x117906]==_0xa25b8b(0x74a)?_0x43e032[_0x117906]=this[_0xa25b8b(0x801)](_0x43e032[_0x117906],_0x43d32e):typeof _0x43e032[_0x117906]=='object'&&this['replaceVariablesInObject'](_0x43e032[_0x117906],_0x43d32e);}async['goNextblock'](_0x24723b,_0xaf4019){const _0x213a7e=a0_0x18a40e;let _0x37d798=_0xaf4019[_0x213a7e(0x6bf)];if(_0x24723b[_0x213a7e(0x1b2)]&&_0x24723b[_0x213a7e(0x1b2)][_0x213a7e(0x743)]){let _0x20f817=_0x24723b[_0x213a7e(0x1b2)]['blockLogs'][_0x213a7e(0x598)](_0xc96438=>String(_0xc96438[_0x213a7e(0x6fe)])===String(_0x37d798))[_0x213a7e(0x34f)]();if(_0x20f817&&_0x20f817[_0x213a7e(0x62b)]&&_0xaf4019['stopIfLastReturnedError'])return _0x24723b['status']=_0x213a7e(0x1d5),await this['saveConversationToDatabase'](_0x24723b),null;}if(_0xaf4019[_0x213a7e(0x794)]==='uazapi'&&_0xaf4019[_0x213a7e(0x1de)]['command']===_0x213a7e(0x2bc)&&_0x24723b['waitingMenu_id'])return _0x24723b[_0x213a7e(0x1b2)][_0x213a7e(0x454)]=_0x37d798,await this[_0x213a7e(0x466)](_0x24723b),null;let _0x2fdc9c=await this[_0x213a7e(0x543)](_0x24723b);if(_0x24723b['chatLog']&&_0x24723b[_0x213a7e(0x1b2)][_0x213a7e(0x743)]){let _0x2fa13a=_0x24723b[_0x213a7e(0x1b2)][_0x213a7e(0x743)][_0x213a7e(0x598)](_0x19b981=>String(_0x19b981[_0x213a7e(0x6fe)])===String(_0x37d798))[_0x213a7e(0x233)];if(_0xaf4019['maxActives']!==void 0x0&&_0x2fa13a>=_0xaf4019[_0x213a7e(0x569)]){let _0x2b4274=Date[_0x213a7e(0x70e)](),_0x1b9c53=_0xaf4019[_0x213a7e(0x43c)]??0xa;isNaN(_0x1b9c53)&&(_0x1b9c53=0xa);let _0xe9afb1=_0x2b4274+_0x1b9c53*0x3c*0x3e8,_0x489f72={'newStoppedUntil':_0xe9afb1};return this['updateStopChat'](_0x24723b,_0xe9afb1),this[_0x213a7e(0x259)](_0x24723b,_0xaf4019,_0x489f72,!0x0),null;}}_0x2fdc9c&&_0x2fdc9c[_0x213a7e(0x794)]!=='save'&&await this[_0x213a7e(0x791)](_0x24723b,_0x2fdc9c),_0x2fdc9c||await this[_0x213a7e(0x466)](_0x24723b),_0x2fdc9c&&_0x2fdc9c[_0x213a7e(0x794)]===_0x213a7e(0x3c3)&&(_0x24723b[_0x213a7e(0x1b2)][_0x213a7e(0x454)]=_0x37d798,await this[_0x213a7e(0x466)](_0x24723b));}async[a0_0x18a40e(0x791)](_0x3830a8,_0x459f97){const _0x53bbf3=a0_0x18a40e;try{let _0x4c1a6d=_0x459f97[_0x53bbf3(0x794)];this[_0x53bbf3(0x525)][_0x53bbf3(0x4c0)](this[_0x53bbf3(0x2d7)]+'\x20('+this[_0x53bbf3(0x799)][_0x53bbf3(0x31d)]+'):\x20Going\x20to\x20'+_0x4c1a6d);let _0xd0ed92={'uazapi':()=>this[_0x53bbf3(0x606)](_0x3830a8,_0x459f97),'save':()=>this[_0x53bbf3(0x6f7)](_0x3830a8,_0x459f97),'stop':()=>this['stopConversation'](_0x3830a8,_0x459f97),'condition':()=>this[_0x53bbf3(0x247)](_0x3830a8,_0x459f97),'varedit':()=>this[_0x53bbf3(0x71f)](_0x3830a8,_0x459f97),'apirequest':()=>this[_0x53bbf3(0x824)](_0x3830a8,_0x459f97),'goToFlow':()=>this[_0x53bbf3(0x29d)](_0x3830a8,_0x459f97)}[_0x4c1a6d];_0xd0ed92&&await _0xd0ed92();}catch(_0x78eb57){this[_0x53bbf3(0x525)][_0x53bbf3(0x62b)](this[_0x53bbf3(0x2d7)]+'\x20('+this[_0x53bbf3(0x799)][_0x53bbf3(0x31d)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x78eb57 instanceof Error?_0x78eb57[_0x53bbf3(0x50c)]:JSON[_0x53bbf3(0x613)](_0x78eb57,null,0x2)));}}async['processgoToFlow'](_0x1fd4a5,_0x475aab){const _0x59ef1a=a0_0x18a40e;if(this[_0x59ef1a(0x525)][_0x59ef1a(0x4c0)](this[_0x59ef1a(0x2d7)]+'\x20('+this[_0x59ef1a(0x799)]['wuid']+_0x59ef1a(0x450)),!_0x1fd4a5||!_0x475aab)return this['logger'][_0x59ef1a(0x62b)](this[_0x59ef1a(0x2d7)]+'\x20('+this[_0x59ef1a(0x799)][_0x59ef1a(0x31d)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x59ef1a(0x259)](_0x1fd4a5,_0x475aab,{},!0x0,!0x0),console[_0x59ef1a(0x737)](_0x59ef1a(0x467)),console[_0x59ef1a(0x737)](_0x475aab);let _0x16ec5b=_0x475aab[_0x59ef1a(0x4d2)];console['log'](_0x59ef1a(0x2b7),_0x16ec5b),_0x1fd4a5=await this[_0x59ef1a(0x755)](_0x16ec5b,_0x1fd4a5[_0x59ef1a(0x65f)],_0x1fd4a5['chatLog'][_0x59ef1a(0x515)]),this[_0x59ef1a(0x525)][_0x59ef1a(0x4c0)](this['instanceName']+'\x20('+this[_0x59ef1a(0x799)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x27df5d=await this['NextBlock'](_0x1fd4a5);_0x27df5d&&await this[_0x59ef1a(0x791)](_0x1fd4a5,_0x27df5d);}async[a0_0x18a40e(0x755)](_0xeebf16,_0x56b4c5,_0x5a58e1){const _0x2bee2f=a0_0x18a40e;this[_0x2bee2f(0x525)][_0x2bee2f(0x4c0)](this[_0x2bee2f(0x2d7)]+'\x20('+this[_0x2bee2f(0x799)][_0x2bee2f(0x31d)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0xeebf16=await this[_0x2bee2f(0x34e)][_0x2bee2f(0x5c5)][_0x2bee2f(0x24e)]({'where':{'name':_0xeebf16}},this[_0x2bee2f(0x799)][_0x2bee2f(0x31d)]),!_0xeebf16)return this[_0x2bee2f(0x525)][_0x2bee2f(0x62b)](this['instanceName']+'\x20('+this[_0x2bee2f(0x799)]['wuid']+_0x2bee2f(0x231)),null;let _0x419d53=require(_0x2bee2f(0x5e9))[_0x2bee2f(0x637)],_0x54f330=Date[_0x2bee2f(0x70e)](),_0x2631b2=_0x2bee2f(0x4be),_0x384288={},_0x92c5be={},_0x49d6f7={..._0xeebf16,'chatLog':null},_0x599bb0={'lastReceivedMessage':_0x384288,'lastSendMessage':_0x92c5be,'lastBlockId':_0x2631b2,'lastCondition':!0x0,'realVariables':_0x5a58e1};_0x49d6f7[_0x2bee2f(0x1b2)]=_0x599bb0,_0x49d6f7['chatLog'][_0x2bee2f(0x515)]={..._0x5a58e1},delete _0x49d6f7[_0x2bee2f(0x6bf)],_0x49d6f7[_0x2bee2f(0x6bf)]=new _0x419d53(),_0x49d6f7[_0x2bee2f(0x63d)]=_0x54f330,_0x49d6f7[_0x2bee2f(0x6d8)]=_0x2bee2f(0x2de),_0x49d6f7[_0x2bee2f(0x65f)]=_0x56b4c5;let _0x21798c=await this[_0x2bee2f(0x34e)][_0x2bee2f(0x576)][_0x2bee2f(0x328)](_0x49d6f7[_0x2bee2f(0x6bf)],_0x49d6f7,this[_0x2bee2f(0x799)][_0x2bee2f(0x31d)]);return this['logger'][_0x2bee2f(0x4c0)](this[_0x2bee2f(0x2d7)]+'\x20('+this[_0x2bee2f(0x799)][_0x2bee2f(0x31d)]+_0x2bee2f(0x4d1)),_0x21798c?_0x49d6f7:null;}catch(_0x24675b){throw this[_0x2bee2f(0x525)][_0x2bee2f(0x62b)](this[_0x2bee2f(0x2d7)]+'\x20('+this['instance'][_0x2bee2f(0x31d)]+_0x2bee2f(0x479)+(_0x24675b instanceof Error?_0x24675b['message']:JSON[_0x2bee2f(0x613)](_0x24675b,null,0x2))),new m(_0x24675b[_0x2bee2f(0x50c)]);}}async[a0_0x18a40e(0x824)](_0x3131d0,_0x137caf){const _0x4b4380=a0_0x18a40e;let _0x31a8b3,_0x54cf59;try{let _0x39582d=_0x137caf[_0x4b4380(0x31c)];if(!_0x39582d||!_0x39582d['url']||!_0x39582d[_0x4b4380(0x2a5)])throw new Error(_0x4b4380(0x703));let _0x22b829;([_0x4b4380(0x6df),_0x4b4380(0x751),_0x4b4380(0x3af)][_0x4b4380(0x639)](_0x2a27c9=>_0x39582d['url'][_0x4b4380(0x3a7)](_0x2a27c9))||_0x39582d[_0x4b4380(0x439)])&&(_0x22b829=_0x4b4380(0x633));let _0x57183f={'method':_0x39582d[_0x4b4380(0x2a5)],'url':_0x39582d[_0x4b4380(0x31f)],'headers':_0x39582d['header']||{},'data':_0x39582d['body']||{},..._0x22b829&&{'responseType':_0x22b829}},_0x5238cd=await(0x0,se[_0x4b4380(0x41b)])(_0x57183f),_0x324ca2=_0x5238cd[_0x4b4380(0x5eb)][_0x4b4380(0x444)];if(_0x324ca2&&_0x324ca2[_0x4b4380(0x3a7)](_0x4b4380(0x5ce))){_0x31a8b3=_0x5238cd[_0x4b4380(0x747)];let _0x5363ea=_0x3131d0['chatLog'][_0x4b4380(0x515)],_0x7a02a2=this[_0x4b4380(0x403)](_0x31a8b3);return Object['assign'](_0x5363ea,_0x7a02a2),_0x3131d0[_0x4b4380(0x1b2)][_0x4b4380(0x515)]=_0x5363ea,_0x54cf59={'error':!0x1,'apiResponse':_0x31a8b3},this[_0x4b4380(0x259)](_0x3131d0,_0x137caf,_0x54cf59),_0x31a8b3;}if(_0x324ca2&&(_0x324ca2[_0x4b4380(0x3a7)](_0x4b4380(0x4ca))||_0x324ca2[_0x4b4380(0x3a7)](_0x4b4380(0x82d))||_0x324ca2['includes'](_0x4b4380(0x788))||_0x324ca2[_0x4b4380(0x3a7)]('video'))){this['logger'][_0x4b4380(0x4c0)](this[_0x4b4380(0x2d7)]+'\x20('+this[_0x4b4380(0x799)]['wuid']+'):\x20Tipo\x20de\x20contedo\x20identificado:\x20'+_0x324ca2);let _0x351846=(0x0,Me['v4'])(),_0x1058c1='',_0x169f67={'image/jpeg':_0x4b4380(0x561),'image/png':'.png','image/gif':_0x4b4380(0x6cb),'image/webp':_0x4b4380(0x411),'image/svg+xml':_0x4b4380(0x406),'audio/mpeg':'.mp3','audio/ogg':_0x4b4380(0x47c),'audio/wav':'.wav','video/mp4':_0x4b4380(0x50a),'video/webm':_0x4b4380(0x25d),'video/ogg':'.ogv','text/plain':_0x4b4380(0x5e5),'application/pdf':'.pdf','application/msword':_0x4b4380(0x55d),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4b4380(0x459),'application/vnd.ms-excel':_0x4b4380(0x1db),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4b4380(0x4a0),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4b4380(0x47a)};_0x169f67[_0x324ca2]?(_0x1058c1=_0x169f67[_0x324ca2],this['logger'][_0x4b4380(0x4c0)](this[_0x4b4380(0x2d7)]+'\x20('+this['instance'][_0x4b4380(0x31d)]+_0x4b4380(0x1c9)+_0x1058c1)):(_0x1058c1=_0x4b4380(0x485),this['logger']['verbose'](this[_0x4b4380(0x2d7)]+'\x20('+this[_0x4b4380(0x799)]['wuid']+_0x4b4380(0x306)+_0x1058c1)),_0x351846+=_0x1058c1,this[_0x4b4380(0x525)][_0x4b4380(0x4c0)](this['instanceName']+'\x20('+this[_0x4b4380(0x799)][_0x4b4380(0x31d)]+_0x4b4380(0x42b)+_0x351846);let _0x5a8525=this[_0x4b4380(0x3da)][_0x4b4380(0x805)]('SERVER')[_0x4b4380(0x563)];if(!_0x5a8525){let _0x1e755d=this[_0x4b4380(0x3da)]['get']('SSL_CONF');_0x5a8525=_0x4b4380(0x6f2)+(_0x1e755d&&_0x1e755d[_0x4b4380(0x27c)]['split']('/')[0x4]);}let _0x5bf4b9=Buffer[_0x4b4380(0x781)](_0x5238cd[_0x4b4380(0x747)]);await this[_0x4b4380(0x513)](_0x5bf4b9,_0x351846);let _0x1ce7a0=_0x4b4380(0x374)+_0x351846;_0x1ce7a0=''+_0x5a8525+_0x1ce7a0,_0x31a8b3={'fileUrl':_0x1ce7a0},_0x3131d0[_0x4b4380(0x1b2)][_0x4b4380(0x515)][_0x4b4380(0x531)]=_0x1ce7a0;let _0x511d19=_0x3131d0[_0x4b4380(0x1b2)][_0x4b4380(0x515)],_0x3ac170=this[_0x4b4380(0x403)](_0x31a8b3);return Object[_0x4b4380(0x742)](_0x511d19,_0x3ac170),_0x3131d0['chatLog']['realVariables']=_0x511d19,_0x54cf59={'error':!0x1,'apiResponse':{'fileUrl':_0x1ce7a0}},this[_0x4b4380(0x259)](_0x3131d0,_0x137caf,_0x54cf59),_0x31a8b3;}}catch(_0x40d352){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x40d352),_0x40d352[_0x4b4380(0x7e4)]&&(_0x31a8b3=_0x40d352['response'][_0x4b4380(0x747)]);let _0x3599f0=_0x3131d0[_0x4b4380(0x1b2)][_0x4b4380(0x515)],_0x34e0a5=this[_0x4b4380(0x403)](_0x31a8b3);return Object[_0x4b4380(0x742)](_0x3599f0,_0x34e0a5),_0x3131d0[_0x4b4380(0x1b2)][_0x4b4380(0x515)]=_0x3599f0,_0x54cf59={'error':!0x0,'errorLog':_0x40d352['toString'](),'apiResponse':_0x31a8b3},this[_0x4b4380(0x259)](_0x3131d0,_0x137caf,_0x54cf59),{'success':!0x1};}}[a0_0x18a40e(0x6aa)](_0x27260f,_0x210864){const _0x70d7f8=a0_0x18a40e;let _0x3fe644=_0x45fa80=>{const _0x5bd80b=a0_0x26bc;let _0x1d78d1=_0x45fa80[_0x5bd80b(0x1b1)](/[^0-9.,-]/g,'')[_0x5bd80b(0x1b1)](',','.'),_0x493b86=parseFloat(_0x1d78d1);return isNaN(_0x493b86)?null:_0x493b86;},_0xde752c=_0x210864[_0x70d7f8(0x64c)],_0x19077d=_0x210864[_0x70d7f8(0x61b)];typeof _0xde752c=='string'&&(_0xde752c=this[_0x70d7f8(0x801)](_0xde752c,_0x27260f['chatLog']['realVariables'])??''),typeof _0x19077d==_0x70d7f8(0x74a)&&(_0x19077d=this['replaceVariables'](_0x19077d,_0x27260f[_0x70d7f8(0x1b2)]['realVariables'])??'');let _0x2c4491=null;if(!_0x210864[_0x70d7f8(0x72e)])return null;switch(this[_0x70d7f8(0x525)][_0x70d7f8(0x4c0)](this[_0x70d7f8(0x2d7)]+'\x20('+this[_0x70d7f8(0x799)][_0x70d7f8(0x31d)]+'):\x20newFirstValue\x20aps\x20replaceVariables:'+_0xde752c),this[_0x70d7f8(0x525)][_0x70d7f8(0x4c0)](this[_0x70d7f8(0x2d7)]+'\x20('+this[_0x70d7f8(0x799)][_0x70d7f8(0x31d)]+_0x70d7f8(0x28a)+_0x19077d),_0x210864[_0x70d7f8(0x72e)]){case'+':case'-':case'*':case'/':let _0x1f8459=_0x3fe644(_0xde752c||'0'),_0x4b3077=_0x3fe644(_0x19077d||'0');if(_0x1f8459===null)return null;switch(_0x210864['editOperator']){case'+':_0x2c4491=_0x1f8459+(_0x4b3077??0x0);break;case'-':_0x2c4491=_0x1f8459-(_0x4b3077??0x0);break;case'*':_0x2c4491=_0x1f8459*(_0x4b3077??0x1);break;case'/':_0x4b3077!==0x0&&(_0x2c4491=_0x1f8459/(_0x4b3077??0x1));break;}break;case _0x70d7f8(0x5d3):case _0x70d7f8(0x74d):let _0x4474b4=_0x19077d,_0x7c8fa=_0x210864[_0x70d7f8(0x25e)];if(typeof _0x7c8fa==_0x70d7f8(0x74a)&&(_0x7c8fa=this[_0x70d7f8(0x801)](_0x7c8fa,_0x27260f[_0x70d7f8(0x1b2)][_0x70d7f8(0x515)])??''),_0x4474b4&&_0x7c8fa!==void 0x0){let _0x5b7503=_0x210864[_0x70d7f8(0x72e)]===_0x70d7f8(0x5d3)?new RegExp(_0x4474b4[_0x70d7f8(0x1b1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x70d7f8(0x80a)),'g'):new RegExp(_0x4474b4,'g');_0x2c4491=_0xde752c[_0x70d7f8(0x1b1)](_0x5b7503,_0x7c8fa);}else console[_0x70d7f8(0x3e1)](_0x70d7f8(0x373));break;case _0x70d7f8(0x446):_0x2c4491=_0x19077d;break;case _0x70d7f8(0x421):let _0xee2f22=_0xde752c[_0x70d7f8(0x3e3)](new RegExp(_0x19077d||''));_0x2c4491=_0xee2f22?_0xee2f22[0x0]:'';break;case _0x70d7f8(0x313):_0x2c4491=_0xde752c[_0x70d7f8(0x42a)](0x0,parseInt(_0x19077d||'0'));break;case _0x70d7f8(0x73f):let _0x5d237c=parseInt(_0x19077d||'0');_0x2c4491=_0xde752c[_0x70d7f8(0x42a)](_0xde752c[_0x70d7f8(0x233)]-_0x5d237c);break;case _0x70d7f8(0x3dd):let _0x4ca503=_0x3fe644(_0xde752c),_0x1c0c18=parseInt(_0x19077d||'0');_0x1c0c18=Math['abs'](_0x1c0c18),_0x4ca503!==null?_0x2c4491=_0x4ca503[_0x70d7f8(0x3e4)]('pt-BR',{'minimumFractionDigits':_0x1c0c18,'maximumFractionDigits':_0x1c0c18}):(console[_0x70d7f8(0x3e1)](_0x70d7f8(0x7d5)+_0xde752c),_0x2c4491=null);break;case _0x70d7f8(0x64e):let _0x13e815=_0x3fe644(_0xde752c);_0x13e815!==null?_0x2c4491=_0x13e815[_0x70d7f8(0x3e4)](_0x70d7f8(0x2c9),{'style':_0x70d7f8(0x566),'currency':_0x70d7f8(0x7e9)}):(console[_0x70d7f8(0x3e1)]('Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20'+_0xde752c),_0x2c4491=null);break;case _0x70d7f8(0x4d0):_0x2c4491=_0xde752c[_0x70d7f8(0x456)]();break;case'lowerCase':_0x2c4491=_0xde752c[_0x70d7f8(0x5c4)]();break;case _0x70d7f8(0x3d0):_0x2c4491=_0xde752c[_0x70d7f8(0x432)]('\x20')[_0x70d7f8(0x783)](_0x5af212=>_0x5af212['charAt'](0x0)[_0x70d7f8(0x456)]()+_0x5af212[_0x70d7f8(0x42a)](0x1)[_0x70d7f8(0x5c4)]())['join']('\x20');break;case _0x70d7f8(0x5b4):_0x2c4491=_0xde752c[_0x70d7f8(0x75f)]();break;default:_0x2c4491=_0xde752c;}return _0x2c4491!==null?_0x2c4491['toString']():null;}async[a0_0x18a40e(0x71f)](_0x191ba5,_0x157482){const _0x3951c1=a0_0x18a40e;try{let _0x4b8d18=_0x191ba5[_0x3951c1(0x3bf)]?.[_0x3951c1(0x598)](_0x27b6f1=>_0x27b6f1[_0x3951c1(0x6fe)]===_0x157482[_0x3951c1(0x6bf)]?.[_0x3951c1(0x689)]())||[],_0x44f086=_0x157482[_0x3951c1(0x357)],_0x4b8014=null,_0x204f6e=[],_0x391319=_0x191ba5[_0x3951c1(0x1b2)][_0x3951c1(0x515)][_0x44f086];_0x204f6e['push'](_0x3951c1(0x52c)+_0x391319+'\x22');for(let _0x31b755 of _0x4b8d18){_0x31b755[_0x3951c1(0x64c)]=_0x391319,_0x4b8014=_0x31b755[_0x3951c1(0x64c)];let _0x5689ba;try{_0x5689ba=this[_0x3951c1(0x6aa)](_0x191ba5,_0x31b755);}catch(_0x47b8a6){console['error'](_0x3951c1(0x222)+_0x47b8a6[_0x3951c1(0x50c)]);continue;}if(_0x5689ba!==null){let _0x52b7ba='Operador:\x20\x22'+_0x31b755[_0x3951c1(0x72e)]+'\x22',_0x38a394=[_0x3951c1(0x64e),'upperCase',_0x3951c1(0x330),_0x3951c1(0x3d0),'trimmed'];_0x31b755[_0x3951c1(0x72e)]===_0x3951c1(0x5d3)||_0x31b755[_0x3951c1(0x72e)]==='findAndReplaceRegex'?_0x52b7ba+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x31b755[_0x3951c1(0x61b)]+_0x3951c1(0x7ca)+_0x31b755[_0x3951c1(0x25e)]+'\x22':!_0x38a394[_0x3951c1(0x3a7)](_0x31b755[_0x3951c1(0x72e)])&&_0x31b755['secondValue']!==null&&_0x31b755[_0x3951c1(0x61b)]!==void 0x0&&(_0x52b7ba+=_0x3951c1(0x7c4)+_0x31b755[_0x3951c1(0x61b)]+'\x22'),_0x52b7ba+=_0x3951c1(0x763)+_0x5689ba+'.',_0x204f6e[_0x3951c1(0x78b)](_0x52b7ba);}_0x5689ba!==null&&(_0x391319=_0x5689ba);}if(_0x191ba5[_0x3951c1(0x1b2)][_0x3951c1(0x515)]&&_0x157482[_0x3951c1(0x357)]){_0x191ba5['chatLog'][_0x3951c1(0x515)][_0x157482['saveVariable']]=_0x391319;let _0x5e1816={'variable':_0x157482[_0x3951c1(0x357)],'oldValue':_0x4b8014,'newValue':_0x391319,'moreLogs':_0x204f6e};try{this[_0x3951c1(0x259)](_0x191ba5,_0x157482,_0x5e1816);}catch(_0x430067){console['error'](_0x3951c1(0x4d8)+_0x430067[_0x3951c1(0x50c)]);}}return _0x44f086;}catch(_0x1b3505){return console[_0x3951c1(0x62b)](_0x3951c1(0x7f5)+_0x1b3505[_0x3951c1(0x50c)]),null;}}async[a0_0x18a40e(0x247)](_0x362577,_0x529952){const _0x3e0504=a0_0x18a40e;try{let _0x7969db=[],_0x2bcefe=_0x362577[_0x3e0504(0x26c)][_0x3e0504(0x598)](_0x759b35=>_0x759b35[_0x3e0504(0x6fe)]===_0x529952[_0x3e0504(0x6bf)][_0x3e0504(0x689)]()),_0x5736b2=null,_0x41fe66=!0x1;for(let _0x384362 of _0x2bcefe){let _0x26b661=this[_0x3e0504(0x6ad)](_0x362577,_0x384362);_0x7969db[_0x3e0504(0x78b)](_0x3e0504(0x300)+_0x384362[_0x3e0504(0x64c)]+_0x3e0504(0x39f)+_0x384362[_0x3e0504(0x3a0)]+_0x3e0504(0x441)+_0x384362[_0x3e0504(0x61b)]+_0x3e0504(0x6ba)+_0x26b661),_0x5736b2===null?_0x5736b2=_0x26b661:_0x384362['OrAnd']==='and'?(_0x5736b2=_0x5736b2&&_0x26b661,_0x26b661||(_0x41fe66=!0x0)):_0x384362[_0x3e0504(0x5bd)]==='or'&&(_0x41fe66||(_0x5736b2=_0x5736b2||_0x26b661));}_0x5736b2===null&&(_0x5736b2=!0x0);let _0x562407={'moreLogs':_0x7969db};_0x362577[_0x3e0504(0x1b2)][_0x3e0504(0x69b)]=_0x5736b2,await this['updateConversation'](_0x362577,_0x529952,_0x562407);}catch(_0x34418e){this['logger'][_0x3e0504(0x62b)](this[_0x3e0504(0x2d7)]+'\x20('+this[_0x3e0504(0x799)][_0x3e0504(0x31d)]+_0x3e0504(0x35f)+(_0x34418e instanceof Error?_0x34418e[_0x3e0504(0x50c)]:JSON['stringify'](_0x34418e,null,0x2)));}}[a0_0x18a40e(0x6ad)](_0x5d3168,_0x54eb2b){const _0xdb92bf=a0_0x18a40e;let _0x507447=_0x54eb2b['firstValue'],_0x5606fc=_0x54eb2b[_0xdb92bf(0x61b)];typeof _0x507447=='string'&&(_0x507447=this['replaceVariables'](_0x507447,_0x5d3168[_0xdb92bf(0x1b2)][_0xdb92bf(0x515)])??''),typeof _0x5606fc==_0xdb92bf(0x74a)&&(_0x5606fc=this[_0xdb92bf(0x801)](_0x5606fc,_0x5d3168[_0xdb92bf(0x1b2)][_0xdb92bf(0x515)])??'');try{switch(_0x54eb2b[_0xdb92bf(0x3a0)]){case'equal':return _0x507447===_0x5606fc;case _0xdb92bf(0x31b):return _0x507447!==_0x5606fc;case _0xdb92bf(0x6dc):return this[_0xdb92bf(0x6dc)](_0x507447,_0x5606fc);case _0xdb92bf(0x808):return!this[_0xdb92bf(0x6dc)](_0x507447,_0x5606fc);case'greater':return parseFloat(_0x507447)>parseFloat(_0x5606fc);case'less':return parseFloat(_0x507447)<parseFloat(_0x5606fc);case _0xdb92bf(0x20a):return _0x507447!=='';case _0xdb92bf(0x4b0):return _0x507447==='';case _0xdb92bf(0x387):return new RegExp(_0x5606fc)[_0xdb92bf(0x4b7)](_0x507447);case _0xdb92bf(0x533):return!new RegExp(_0x5606fc)[_0xdb92bf(0x4b7)](_0x507447);default:return!0x1;}}catch(_0x2a9db6){return console['error'](_0xdb92bf(0x283)+_0x2a9db6),!0x1;}}[a0_0x18a40e(0x6dc)](_0x22d486,_0x59da63){const _0x32c6c0=a0_0x18a40e;if(_0x22d486===_0x59da63&&/^\d+$/[_0x32c6c0(0x4b7)](_0x22d486))return!0x0;if(this[_0x32c6c0(0x4d6)](_0x22d486)&&/^\d+$/[_0x32c6c0(0x4b7)](_0x59da63)){let _0x45f620=_0x22d486['split'](',')['map'](_0x460303=>parseInt(_0x460303[_0x32c6c0(0x75f)]())),_0x188ac8=parseInt(_0x59da63);return _0x45f620[_0x32c6c0(0x3a7)](_0x188ac8);}return _0x22d486[_0x32c6c0(0x3a7)](_0x59da63);}[a0_0x18a40e(0x4d6)](_0x37e859){const _0x567459=a0_0x18a40e;return/^\d+(,\d+)*$/[_0x567459(0x4b7)](_0x37e859);}[a0_0x18a40e(0x57f)](_0x4e8011){const _0x43e272=a0_0x18a40e;let _0x4bacc4=!0x0,_0x43869c=null;for(let _0x4e7edf of _0x4e8011){let _0xf8eea9=this[_0x43e272(0x593)](_0x4e7edf);if(_0x43869c==='or'&&_0xf8eea9){_0x4bacc4=!0x0;break;}if(_0x43869c===_0x43e272(0x245)&&!_0xf8eea9){_0x4bacc4=!0x1;break;}_0x43869c=_0x4e7edf[_0x43e272(0x5bd)];}return _0x4bacc4;}['evaluateConditionTest'](_0x5a9fd7){const _0x46a1ca=a0_0x18a40e;let _0x13fd8f=_0x5a9fd7[_0x46a1ca(0x64c)],_0x1aeb95=_0x5a9fd7[_0x46a1ca(0x61b)];try{switch(_0x5a9fd7['expression']){case _0x46a1ca(0x3f9):return String(_0x13fd8f)===String(_0x1aeb95);case'notEqual':return String(_0x13fd8f)!==String(_0x1aeb95);case _0x46a1ca(0x6dc):return String(_0x13fd8f)[_0x46a1ca(0x3a7)](String(_0x1aeb95));case'notContains':return!String(_0x13fd8f)[_0x46a1ca(0x3a7)](String(_0x1aeb95));case _0x46a1ca(0x58d):return parseFloat(String(_0x13fd8f))>parseFloat(String(_0x1aeb95));case _0x46a1ca(0x71d):return parseFloat(String(_0x13fd8f))<parseFloat(String(_0x1aeb95));case _0x46a1ca(0x20a):return String(_0x13fd8f)!=='';case _0x46a1ca(0x4b0):return String(_0x13fd8f)==='';case _0x46a1ca(0x387):return new RegExp(String(_0x1aeb95))[_0x46a1ca(0x4b7)](String(_0x13fd8f));case _0x46a1ca(0x533):return!new RegExp(String(_0x1aeb95))['test'](String(_0x13fd8f));default:return!0x1;}}catch(_0xc448f7){return console[_0x46a1ca(0x62b)](_0x46a1ca(0x283)+_0xc448f7),!0x1;}}async['saveTextReply'](_0x5f4773,_0x386f50){const _0x154dd7=a0_0x18a40e;if(this[_0x154dd7(0x525)]['verbose'](this[_0x154dd7(0x2d7)]+'\x20('+this[_0x154dd7(0x799)][_0x154dd7(0x31d)]+_0x154dd7(0x277)),!_0x5f4773||!_0x386f50)return this[_0x154dd7(0x525)][_0x154dd7(0x62b)](this['instanceName']+'\x20('+this[_0x154dd7(0x799)][_0x154dd7(0x31d)]+_0x154dd7(0x397)),null;let _0x43b87c=_0x386f50[_0x154dd7(0x357)],_0x588948=_0x5f4773[_0x154dd7(0x1b2)][_0x154dd7(0x361)]['text']||_0x5f4773[_0x154dd7(0x1b2)][_0x154dd7(0x361)][_0x154dd7(0x4d4)]||_0x5f4773['chatLog'][_0x154dd7(0x361)][_0x154dd7(0x821)];try{_0x5f4773[_0x154dd7(0x1b2)][_0x154dd7(0x515)]||(_0x5f4773['chatLog'][_0x154dd7(0x515)]={});let _0x2b4580=_0x5f4773[_0x154dd7(0x1b2)][_0x154dd7(0x515)][_0x43b87c];_0x5f4773[_0x154dd7(0x1b2)][_0x154dd7(0x515)][_0x43b87c]=_0x588948;let _0x571fdd={'variable':_0x43b87c,'oldValue':_0x2b4580,'newValue':_0x588948};this[_0x154dd7(0x259)](_0x5f4773,_0x386f50,_0x571fdd),this[_0x154dd7(0x525)][_0x154dd7(0x4c0)](this[_0x154dd7(0x2d7)]+'\x20('+this[_0x154dd7(0x799)][_0x154dd7(0x31d)]+_0x154dd7(0x663));}catch(_0x5244fa){let _0x2a5176={'error':!0x0,'errorLog':_0x5244fa[_0x154dd7(0x689)]()};return this[_0x154dd7(0x259)](_0x5f4773,_0x386f50,_0x2a5176),this[_0x154dd7(0x525)][_0x154dd7(0x62b)](this[_0x154dd7(0x2d7)]+'\x20('+this['instance'][_0x154dd7(0x31d)]+'):\x20Erro\x20durante\x20a\x20atualizao:\x20'+(_0x5244fa instanceof Error?_0x5244fa['message']:JSON[_0x154dd7(0x613)](_0x5244fa,null,0x2))),null;}}async[a0_0x18a40e(0x573)](_0x39ac4c,_0x1661af){const _0x1038c2=a0_0x18a40e;if(this[_0x1038c2(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x1038c2(0x799)][_0x1038c2(0x31d)]+_0x1038c2(0x629)),!_0x39ac4c||!_0x1661af)return this['logger'][_0x1038c2(0x62b)](this[_0x1038c2(0x2d7)]+'\x20('+this[_0x1038c2(0x799)][_0x1038c2(0x31d)]+_0x1038c2(0x397)),null;let _0x2c36c8=Date['now'](),_0x5d5007=parseInt(_0x1661af[_0x1038c2(0x82a)],0xa);if(isNaN(_0x5d5007))return this['logger'][_0x1038c2(0x62b)](this[_0x1038c2(0x2d7)]+'\x20('+this['instance'][_0x1038c2(0x31d)]+_0x1038c2(0x3f4)),null;let _0x2b49fd={'newStoppedUntil':_0x2c36c8+_0x5d5007*0x3c*0x3e8};return await this[_0x1038c2(0x259)](_0x39ac4c,_0x1661af,_0x2b49fd,!0x0),null;}async['processUazapi'](_0x12c10f,_0x20b4c8){const _0x2400b0=a0_0x18a40e;try{switch(_0x20b4c8['uazapi']['command']){case'sendText':await this[_0x2400b0(0x39d)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x6b6):await this[_0x2400b0(0x79c)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x692):await this[_0x2400b0(0x35a)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x725):await this[_0x2400b0(0x63b)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x60f):await this[_0x2400b0(0x51e)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x2bc):await this['uazapiSendMenu'](_0x12c10f,_0x20b4c8);break;case'sendMenu':await this[_0x2400b0(0x68c)](_0x12c10f,_0x20b4c8);break;case _0x2400b0(0x2ae):await this[_0x2400b0(0x293)](_0x12c10f,_0x20b4c8);break;default:this[_0x2400b0(0x525)][_0x2400b0(0x62b)](this[_0x2400b0(0x2d7)]+'\x20('+this[_0x2400b0(0x799)][_0x2400b0(0x31d)]+_0x2400b0(0x3d3)+_0x20b4c8['uazapi'][_0x2400b0(0x2bd)]);}}catch(_0x5d0d9c){this[_0x2400b0(0x525)][_0x2400b0(0x62b)](this[_0x2400b0(0x2d7)]+'\x20('+this[_0x2400b0(0x799)]['wuid']+_0x2400b0(0x5d1)+(_0x5d0d9c instanceof Error?_0x5d0d9c[_0x2400b0(0x50c)]:JSON[_0x2400b0(0x613)](_0x5d0d9c,null,0x2)));}}async[a0_0x18a40e(0x259)](_0x161030,_0xa21f7c,_0x4e9a43,_0x4aaf68=!0x1,_0x205ff2=!0x1){const _0x3456bd=a0_0x18a40e;_0x161030['chatLog'][_0x3456bd(0x743)]||(_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x743)]=[]);let _0x38586a=(_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x743)]?.[_0x3456bd(0x233)]??0x0)+0x1,_0x9af0ad=_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x743)][_0x3456bd(0x598)](_0x45af4d=>String(_0x45af4d[_0x3456bd(0x6fe)])===String(_0xa21f7c['_id']))[_0x3456bd(0x233)]+0x1,_0x442d0a=_0x4e9a43?.[_0x3456bd(0x289)]??Date[_0x3456bd(0x70e)](),_0x307f38=_0x4e9a43?.[_0x3456bd(0x62b)]?_0x4e9a43['errorLog']??_0x4e9a43['error'][_0x3456bd(0x689)]():void 0x0,_0x2daadb={'onTime':_0x442d0a,'blockId':_0xa21f7c[_0x3456bd(0x6bf)],'order':_0x38586a,'activatedCount':_0x9af0ad,'error':_0x4e9a43?.[_0x3456bd(0x62b)]??!0x1,'messageId':_0x4e9a43?.[_0x3456bd(0x1d4)],'apiResponse':_0x4e9a43?.[_0x3456bd(0x707)],'apiResponseString':_0x4e9a43?.[_0x3456bd(0x707)]?JSON[_0x3456bd(0x613)](_0x4e9a43?.[_0x3456bd(0x707)]):void 0x0,'variable':_0x4e9a43?.[_0x3456bd(0x7be)],'oldValue':_0x4e9a43?.[_0x3456bd(0x356)],'newValue':_0x4e9a43?.[_0x3456bd(0x804)],'newStoppedUntil':_0x4e9a43?.['newStoppedUntil'],'moreLogs':_0x4e9a43?.[_0x3456bd(0x30b)],'errorLog':_0x307f38};if(_0x4e9a43[_0x3456bd(0x30b)]&&_0x4e9a43[_0x3456bd(0x30b)][_0x3456bd(0x233)]>0x0){let _0x59dae4=_0x4e9a43[_0x3456bd(0x30b)][_0x3456bd(0x783)](_0x158828=>this[_0x3456bd(0x35e)](_0x158828,_0x161030['chatLog'][_0x3456bd(0x515)]));_0x2daadb[_0x3456bd(0x30b)]=_0x59dae4;}_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x515)]||(_0x161030[_0x3456bd(0x1b2)]['realVariables']={}),_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x515)][_0x3456bd(0x503)]=String(_0x9af0ad),_0x161030['chatLog'][_0x3456bd(0x515)][_0x3456bd(0x61f)]=String(_0x4e9a43[_0x3456bd(0x62b)]??!0x1),_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x743)][_0x3456bd(0x78b)](_0x2daadb),_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x454)]=_0xa21f7c[_0x3456bd(0x6bf)]['toString'](),_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x41e)]&&(_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x41e)]=_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x41e)]),_0x161030['chatLog'][_0x3456bd(0x361)]&&(_0x161030['chatLog'][_0x3456bd(0x361)]=_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x361)]),_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x69b)]&&(_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x69b)]=_0x161030[_0x3456bd(0x1b2)][_0x3456bd(0x69b)]),_0x205ff2&&(_0x161030[_0x3456bd(0x6d8)]=_0x3456bd(0x1d5)),_0x4aaf68?this['saveConversationToDatabase'](_0x161030):this[_0x3456bd(0x448)](_0x161030,_0xa21f7c);}[a0_0x18a40e(0x35e)](_0x1ec985,_0x32215c){const _0x4b1f73=a0_0x18a40e;return _0x1ec985['replace'](/\{\{([^}]+)\}\}/g,(_0x3d10f7,_0x151803)=>_0x32215c[_0x151803]?'{{'+_0x151803+_0x4b1f73(0x3b2)+_0x32215c[_0x151803]+'\x22':'{{'+_0x151803+_0x4b1f73(0x3a5));}async['saveConversationToDatabase'](_0x1b1d4c){const _0x4ff352=a0_0x18a40e;try{let _0x2d53cc=Object['entries'](_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x515)])[_0x4ff352(0x783)](([_0xef7bd9,_0xb746a1])=>({'name':_0xef7bd9,'value':_0xb746a1})),_0x4e8192={'status':_0x1b1d4c['status'],'blocks':_0x1b1d4c[_0x4ff352(0x77e)],'waitingMenu_id':_0x1b1d4c[_0x4ff352(0x487)],'waitingMenu_text':_0x1b1d4c[_0x4ff352(0x312)],'waitingMenu_replyOptions':_0x1b1d4c['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x454)],'lastSendMessage':_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x41e)],'lastReceivedMessage':_0x1b1d4c['chatLog'][_0x4ff352(0x361)],'lastCondition':_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x69b)],'chatVariables':_0x2d53cc,'realVariables':_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x515)],'blockLogs':_0x1b1d4c['chatLog'][_0x4ff352(0x743)]}},_0x550453=await this[_0x4ff352(0x34e)]['flowConversation'][_0x4ff352(0x328)](_0x1b1d4c[_0x4ff352(0x6bf)],_0x4e8192,this[_0x4ff352(0x799)][_0x4ff352(0x31d)]);if(_0x550453){this[_0x4ff352(0x525)][_0x4ff352(0x4c0)](this[_0x4ff352(0x2d7)]+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+_0x4ff352(0x5f0)+_0x550453[_0x4ff352(0x6bf)]);try{let _0x127204=[_0x4ff352(0x1c5),_0x4ff352(0x6f9),_0x4ff352(0x320),_0x4ff352(0x5c2),_0x4ff352(0x6d8),_0x4ff352(0x719),_0x4ff352(0x6ed),_0x4ff352(0x1c1),'etiquetas'];if(!this[_0x4ff352(0x5a1)]&&(await this[_0x4ff352(0x526)](),!this[_0x4ff352(0x5a1)]))throw new Error(_0x4ff352(0x37d));let _0x4155c7=this[_0x4ff352(0x5a1)]?.['customFields']['map'](_0x4ea276=>_0x4ea276['name']),_0x84a7f7={};Object[_0x4ff352(0x6e7)](_0x1b1d4c['chatLog'][_0x4ff352(0x515)])[_0x4ff352(0x45f)](([_0x4befa9,_0x11c6fb])=>{const _0x412912=_0x4ff352;_0x127204[_0x412912(0x3a7)](_0x4befa9)&&(_0x4befa9===_0x412912(0x1c1)&&typeof _0x11c6fb==_0x412912(0x74a)?_0x84a7f7[_0x4befa9]=_0x11c6fb[_0x412912(0x432)](',')['map'](_0x5f0d8b=>_0x5f0d8b[_0x412912(0x75f)]())[_0x412912(0x598)](_0x36e5f3=>_0x36e5f3!==''):_0x4befa9===_0x412912(0x1d8)&&typeof _0x11c6fb==_0x412912(0x74a)?_0x84a7f7[_0x4befa9]=_0x11c6fb[_0x412912(0x432)](',')['map'](_0x301c49=>_0x301c49[_0x412912(0x75f)]())[_0x412912(0x598)](_0x2657b6=>_0x2657b6!==''):_0x84a7f7[_0x4befa9]=_0x11c6fb);});let _0x1a57f3=_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x743)][_0x1b1d4c[_0x4ff352(0x1b2)][_0x4ff352(0x743)][_0x4ff352(0x233)]-0x1];if(_0x1a57f3){let _0x13f508=_0x1a57f3['newStoppedUntil'];_0x13f508!==void 0x0&&(_0x84a7f7[_0x4ff352(0x21c)]=_0x13f508['toString']());}let _0x41c6ab=_0x2d53cc['filter'](_0x52031c=>_0x4155c7[_0x4ff352(0x3a7)](_0x52031c[_0x4ff352(0x317)]));this[_0x4ff352(0x525)]['verbose'](this[_0x4ff352(0x2d7)]+'\x20('+this['instance'][_0x4ff352(0x31d)]+_0x4ff352(0x6ca)),this[_0x4ff352(0x525)][_0x4ff352(0x4c0)](_0x84a7f7),this[_0x4ff352(0x525)][_0x4ff352(0x4c0)](this['instanceName']+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+_0x4ff352(0x42e)),this[_0x4ff352(0x525)]['verbose'](_0x41c6ab);let _0x25a41f=_0x41c6ab[_0x4ff352(0x783)](_0x35ed00=>{const _0x52bf45=_0x4ff352;let _0x1d145c=this[_0x52bf45(0x5a1)]?.[_0x52bf45(0x43e)][_0x52bf45(0x437)](_0x367815=>_0x367815[_0x52bf45(0x317)]===_0x35ed00[_0x52bf45(0x317)]);if(!_0x1d145c)throw new Error(_0x52bf45(0x708)+_0x35ed00[_0x52bf45(0x317)]);return{'_id':_0x1d145c[_0x52bf45(0x6bf)],'value':_0x35ed00['value']};});this[_0x4ff352(0x525)][_0x4ff352(0x4c0)](this['instanceName']+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+_0x4ff352(0x435)),this[_0x4ff352(0x525)]['verbose'](_0x25a41f),await this[_0x4ff352(0x7a7)](_0x1b1d4c['remoteJid'],_0x84a7f7,_0x25a41f);}catch(_0x4de3c4){this[_0x4ff352(0x525)][_0x4ff352(0x62b)](this[_0x4ff352(0x2d7)]+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+_0x4ff352(0x476)+(_0x4de3c4 instanceof Error?_0x4de3c4['message']:JSON[_0x4ff352(0x613)](_0x4de3c4,null,0x2)));}}else this[_0x4ff352(0x525)]['error'](this[_0x4ff352(0x2d7)]+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+_0x4ff352(0x744));}catch(_0xe553a2){this[_0x4ff352(0x525)]['error'](this[_0x4ff352(0x2d7)]+'\x20('+this[_0x4ff352(0x799)][_0x4ff352(0x31d)]+'):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20'+(_0xe553a2 instanceof Error?_0xe553a2[_0x4ff352(0x50c)]:JSON[_0x4ff352(0x613)](_0xe553a2,null,0x2)));}}async[a0_0x18a40e(0x7a7)](_0x3ca1d3,_0x814ccf,_0x17c86b){const _0x463c81=a0_0x18a40e;try{let _0x34ed61={'leadInfo.leadnome':_0x814ccf[_0x463c81(0x1c5)],'leadInfo.nomecompleto':_0x814ccf['nomecompleto'],'leadInfo.email':_0x814ccf[_0x463c81(0x320)],'leadInfo.cpf':_0x814ccf['cpf'],'leadInfo.status':_0x814ccf['status'],'leadInfo.notas':_0x814ccf[_0x463c81(0x719)],'leadInfo.responsavelid':_0x814ccf[_0x463c81(0x6ed)],'leadInfo.tags':_0x814ccf[_0x463c81(0x1c1)],'leadInfo.etiquetas':_0x814ccf[_0x463c81(0x1d8)],'leadInfo.customFields':_0x17c86b},_0x5a0c14=await this[_0x463c81(0x34e)]['chat']['findOne']({'where':{'_id':_0x3ca1d3}},this[_0x463c81(0x799)]['wuid']),_0x47520f=new Set(_0x5a0c14[_0x463c81(0x1f9)][_0x463c81(0x1d8)]||[]),_0x58ed09=new Set(_0x814ccf[_0x463c81(0x1d8)]||[]),_0x5bd1bf=await this['repository'][_0x463c81(0x2fd)]['find']({'where':{}},this[_0x463c81(0x799)]['wuid']),_0x2543e3=new Set(_0x5bd1bf[_0x463c81(0x783)](_0x24c89b=>_0x24c89b[_0x463c81(0x6bf)])),_0x589851=[..._0x58ed09][_0x463c81(0x598)](_0x1415ee=>!_0x47520f['has'](_0x1415ee)&&_0x2543e3['has'](_0x1415ee)),_0x11527a=[..._0x47520f]['filter'](_0x582dbc=>!_0x58ed09[_0x463c81(0x548)](_0x582dbc));for(let _0x1b4dac of _0x589851)await this[_0x463c81(0x5aa)](_0x1b4dac,_0x5a0c14[_0x463c81(0x6bf)]),_0x47520f[_0x463c81(0x802)](_0x1b4dac);for(let _0x2485f9 of _0x11527a)await this[_0x463c81(0x776)](_0x2485f9,_0x5a0c14['_id']),_0x47520f[_0x463c81(0x4fe)](_0x2485f9);if(_0x463c81(0x21c)in _0x814ccf){let _0x3b32fc=_0x814ccf[_0x463c81(0x21c)];_0x34ed61[_0x463c81(0x502)]=_0x3b32fc?Number(_0x3b32fc):null;}let _0x3ade77=await this[_0x463c81(0x34e)][_0x463c81(0x60e)][_0x463c81(0x328)]({'where':{'_id':_0x3ca1d3}},_0x34ed61,this['instance'][_0x463c81(0x31d)]);_0x3ade77?(this[_0x463c81(0x525)][_0x463c81(0x4c0)](this[_0x463c81(0x2d7)]+'\x20('+this[_0x463c81(0x799)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x3ade77[_0x463c81(0x6bf)]),J(this[_0x463c81(0x2d7)],'chats',{'chat':_0x3ade77})):this[_0x463c81(0x525)]['error'](this['instanceName']+'\x20('+this[_0x463c81(0x799)][_0x463c81(0x31d)]+_0x463c81(0x217));}catch(_0x4c7970){this[_0x463c81(0x525)][_0x463c81(0x62b)](this[_0x463c81(0x2d7)]+'\x20('+this['instance']['wuid']+_0x463c81(0x3d8)+(_0x4c7970 instanceof Error?_0x4c7970['message']:JSON[_0x463c81(0x613)](_0x4c7970,null,0x2)));}}async[a0_0x18a40e(0x256)](_0x2cf66a,_0x43d6ef){const _0x477ea6=a0_0x18a40e;this['logger'][_0x477ea6(0x4c0)](this[_0x477ea6(0x2d7)]+'\x20('+this[_0x477ea6(0x799)][_0x477ea6(0x31d)]+'):\x20atualizao\x20chat:\x20'+_0x43d6ef);try{let _0x213e9a=await this['repository'][_0x477ea6(0x60e)]['updateOne']({'where':{'_id':_0x2cf66a[_0x477ea6(0x65f)]}},{'leadInfo.desativadoFluxoAte':_0x43d6ef},this['instance'][_0x477ea6(0x31d)]);this[_0x477ea6(0x525)][_0x477ea6(0x4c0)](this[_0x477ea6(0x2d7)]+'\x20('+this[_0x477ea6(0x799)][_0x477ea6(0x31d)]+_0x477ea6(0x790)+_0x2cf66a['_id']),this['logger'][_0x477ea6(0x4c0)](this[_0x477ea6(0x2d7)]+'\x20('+this[_0x477ea6(0x799)][_0x477ea6(0x31d)]+'):\x20atualizao\x20chat:\x20'+JSON[_0x477ea6(0x613)](_0x213e9a,null,0x2)),_0x213e9a&&J(this[_0x477ea6(0x2d7)],_0x477ea6(0x6f8),{'chat':_0x213e9a});}catch(_0x21b31c){this[_0x477ea6(0x525)]['error'](this[_0x477ea6(0x2d7)]+'\x20('+this[_0x477ea6(0x799)][_0x477ea6(0x31d)]+_0x477ea6(0x5b9)+(_0x21b31c instanceof Error?_0x21b31c['message']:JSON[_0x477ea6(0x613)](_0x21b31c,null,0x2)));}}async['findFlow'](_0x309b3f){const _0x2aa093=a0_0x18a40e;try{this[_0x2aa093(0x525)][_0x2aa093(0x4c0)](this['instanceName']+'\x20('+this[_0x2aa093(0x799)][_0x2aa093(0x31d)]+_0x2aa093(0x23b));let _0x177e61=_0x309b3f[_0x2aa093(0x1b1)](/\D/g,''),_0x4a85db=await this['repository'][_0x2aa093(0x5c5)][_0x2aa093(0x24e)]({'where':{'testingWith':_0x177e61}},this['instance'][_0x2aa093(0x31d)]);return _0x4a85db||(this[_0x2aa093(0x525)][_0x2aa093(0x4c0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2aa093(0x35d)),_0x4a85db=await this[_0x2aa093(0x34e)][_0x2aa093(0x5c5)][_0x2aa093(0x24e)]({'where':{'default':!0x0}},this['instance'][_0x2aa093(0x31d)])),_0x4a85db||(this[_0x2aa093(0x525)][_0x2aa093(0x4c0)](this['instanceName']+'\x20('+this[_0x2aa093(0x799)][_0x2aa093(0x31d)]+_0x2aa093(0x367)),null);}catch(_0x52cd9a){return this[_0x2aa093(0x525)][_0x2aa093(0x62b)](this[_0x2aa093(0x2d7)]+'\x20('+this[_0x2aa093(0x799)][_0x2aa093(0x31d)]+_0x2aa093(0x377)+(_0x52cd9a instanceof Error?_0x52cd9a[_0x2aa093(0x50c)]:JSON[_0x2aa093(0x613)](_0x52cd9a,null,0x2))),null;}}async[a0_0x18a40e(0x452)](_0x2e3ca5,_0xd8b0e4){const _0x5abd95=a0_0x18a40e;try{let _0x54a98e=!!_0xd8b0e4[_0x5abd95(0x821)],_0x23ae68=_0xd8b0e4[_0x5abd95(0x662)],_0x398c7f=null;if(this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+_0x5abd95(0x792)+_0x54a98e+'\x20quoted:\x20'+_0x23ae68),_0x54a98e){this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)]['wuid']+_0x5abd95(0x49e));let _0x34d941={'where':{'remoteJid':_0x2e3ca5,'waitingMenu_id':_0x23ae68}};if(_0x398c7f=await this[_0x5abd95(0x34e)][_0x5abd95(0x576)]['findOne'](_0x34d941,this[_0x5abd95(0x799)][_0x5abd95(0x31d)]),!_0x398c7f)return this['logger'][_0x5abd95(0x4c0)](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+'):\x20no\x20encontrou'),null;let _0x3d0e31=Date[_0x5abd95(0x70e)](),_0x1dc8e3=_0x398c7f?.[_0x5abd95(0x418)]||0x0,_0x3fab6d=_0x3d0e31-_0x1dc8e3*0x3c*0x3e8;if(_0x398c7f['lastInteraction']<_0x3fab6d){this['logger'][_0x5abd95(0x4c0)](this['instanceName']+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+_0x5abd95(0x359));let _0x472146={'number':_0x398c7f[_0x5abd95(0x65f)],'options':{'delay':0x0},'textMessage':{'text':_0x398c7f[_0x5abd95(0x7b5)]}};await this[_0x5abd95(0x5e7)](_0x472146);let _0x5d227f={'status':_0x5abd95(0x1d5),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5abd95(0x34e)][_0x5abd95(0x576)][_0x5abd95(0x328)](_0x398c7f[_0x5abd95(0x6bf)],_0x5d227f,this[_0x5abd95(0x799)][_0x5abd95(0x31d)]),null;}return _0x398c7f[_0x5abd95(0x63d)]=Date[_0x5abd95(0x70e)](),_0x398c7f[_0x5abd95(0x1b2)][_0x5abd95(0x361)]=_0xd8b0e4,_0x398c7f;}else{this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this['instanceName']+'\x20('+this[_0x5abd95(0x799)]['wuid']+_0x5abd95(0x26f)+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+_0x5abd95(0x7e0)),this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this['instanceName']+'\x20('+this[_0x5abd95(0x799)]['wuid']+_0x5abd95(0x6cd));let _0x1b76a9={'where':{'remoteJid':_0x2e3ca5,'status':_0x5abd95(0x2de)}};if(_0x398c7f=await this['repository'][_0x5abd95(0x576)]['findOne'](_0x1b76a9,this[_0x5abd95(0x799)][_0x5abd95(0x31d)]),!_0x398c7f){let _0x48535b=await this[_0x5abd95(0x2b6)](_0x2e3ca5);if(_0x48535b&&(_0x398c7f=await this['createNewConversation'](_0x48535b,_0xd8b0e4[_0x5abd95(0x64d)],_0xd8b0e4)),!_0x398c7f)return null;}let _0x3f1c1f=Date['now'](),_0x3a9d73=_0x398c7f?.['minutesToClose']||0x0,_0x1fafc3=_0x3f1c1f-_0x3a9d73*0x3c*0x3e8;if(this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this[_0x5abd95(0x2d7)]+'\x20('+this['instance'][_0x5abd95(0x31d)]+_0x5abd95(0x4ab)+_0x3f1c1f+_0x5abd95(0x2ec)+_0x3a9d73+_0x5abd95(0x6e9)+_0x1fafc3),this[_0x5abd95(0x525)]['verbose'](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+_0x5abd95(0x3a9)),this[_0x5abd95(0x525)]['verbose'](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)]['wuid']+_0x5abd95(0x48e)+_0x398c7f[_0x5abd95(0x63d)]),this[_0x5abd95(0x525)][_0x5abd95(0x4c0)](this['instanceName']+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+_0x5abd95(0x22c)+_0x1fafc3),_0x398c7f[_0x5abd95(0x63d)]<_0x1fafc3){this['logger'][_0x5abd95(0x4c0)](this[_0x5abd95(0x2d7)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20est\x20expirada');let _0x17bcdf=await this[_0x5abd95(0x2b6)](_0x2e3ca5);if(_0x17bcdf===null)return null;_0x398c7f&&await this[_0x5abd95(0x34e)][_0x5abd95(0x576)][_0x5abd95(0x328)](_0x398c7f[_0x5abd95(0x6bf)],{'status':_0x5abd95(0x1d5)},this[_0x5abd95(0x799)][_0x5abd95(0x31d)]),_0x398c7f=await this[_0x5abd95(0x664)](_0x17bcdf,_0xd8b0e4[_0x5abd95(0x64d)],_0xd8b0e4);}return _0x398c7f[_0x5abd95(0x63d)]=_0x3f1c1f,_0x398c7f[_0x5abd95(0x1b2)][_0x5abd95(0x361)]=_0xd8b0e4,_0x398c7f;}}catch(_0x514fb0){return this[_0x5abd95(0x525)][_0x5abd95(0x62b)](this[_0x5abd95(0x2d7)]+'\x20('+this[_0x5abd95(0x799)][_0x5abd95(0x31d)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x514fb0 instanceof Error?_0x514fb0[_0x5abd95(0x50c)]:JSON[_0x5abd95(0x613)](_0x514fb0,null,0x2))),null;}}async[a0_0x18a40e(0x664)](_0x48047f,_0x1618d5,_0x40ee3a){const _0x4981a7=a0_0x18a40e;this['logger'][_0x4981a7(0x4c0)](this[_0x4981a7(0x2d7)]+'\x20('+this[_0x4981a7(0x799)][_0x4981a7(0x31d)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0xdf95f2=require(_0x4981a7(0x5e9))[_0x4981a7(0x637)],_0x31bc9b=Date[_0x4981a7(0x70e)](),_0x356955=_0x4981a7(0x4be),_0x2e5796=_0x1618d5[_0x4981a7(0x6ee)]?null:_0x40ee3a,_0x337b3d=_0x1618d5[_0x4981a7(0x6ee)]?_0x40ee3a:null,_0x537ae5=_0x1618d5[_0x4981a7(0x65f)];await this[_0x4981a7(0x3c0)](_0x537ae5);let _0x3befbc={..._0x48047f,'chatLog':null},_0x1cdb23=await this[_0x4981a7(0x3a4)](_0x3befbc[_0x4981a7(0x6ab)]),_0x3932fc=await this['getVariablesChat'](_0x537ae5),_0x11d586={..._0x1cdb23,..._0x3932fc,'_remoteJid':_0x537ae5},_0x382292={'lastReceivedMessage':_0x2e5796,'lastSendMessage':_0x337b3d,'lastBlockId':_0x356955,'lastCondition':!0x0,'realVariables':_0x11d586};_0x3befbc['chatLog']=_0x382292,delete _0x3befbc[_0x4981a7(0x6bf)],_0x3befbc[_0x4981a7(0x6bf)]=new _0xdf95f2(),_0x3befbc[_0x4981a7(0x63d)]=_0x31bc9b,_0x3befbc[_0x4981a7(0x6d8)]=_0x4981a7(0x2de),_0x3befbc[_0x4981a7(0x65f)]=_0x537ae5;let _0x2ede10=await this['repository']['flowConversation'][_0x4981a7(0x328)](_0x3befbc['_id'],_0x3befbc,this[_0x4981a7(0x799)][_0x4981a7(0x31d)]);return this[_0x4981a7(0x525)][_0x4981a7(0x4c0)](this[_0x4981a7(0x2d7)]+'\x20('+this[_0x4981a7(0x799)][_0x4981a7(0x31d)]+_0x4981a7(0x4d1)),_0x2ede10?_0x3befbc:null;}catch(_0xacef3a){return this[_0x4981a7(0x525)]['error'](this['instanceName']+'\x20('+this[_0x4981a7(0x799)][_0x4981a7(0x31d)]+_0x4981a7(0x479)+(_0xacef3a instanceof Error?_0xacef3a[_0x4981a7(0x50c)]:JSON[_0x4981a7(0x613)](_0xacef3a,null,0x2))),_0xacef3a;}}async[a0_0x18a40e(0x39d)](_0x46b868,_0x35346f){const _0x4e8603=a0_0x18a40e;let _0x417884=_0x46b868[_0x4e8603(0x65f)];_0x35346f[_0x4e8603(0x1de)][_0x4e8603(0x65f)]&&_0x35346f[_0x4e8603(0x1de)]['remoteJid'][_0x4e8603(0x75f)]()!==''&&(_0x417884=_0x35346f[_0x4e8603(0x1de)]['remoteJid'][_0x4e8603(0x75f)]()),this['logger'][_0x4e8603(0x4c0)](this['instanceName']+'\x20('+this['instance'][_0x4e8603(0x31d)]+_0x4e8603(0x746));let _0x57ca54={'number':_0x417884,'options':{'delay':_0x35346f[_0x4e8603(0x1de)][_0x4e8603(0x41d)]},'textMessage':{'text':_0x35346f['uazapi'][_0x4e8603(0x2d3)]}};try{let _0x2444d8=await this[_0x4e8603(0x5e7)](_0x57ca54);if(_0x2444d8){let _0x5b9ec7={'_id':_0x2444d8[_0x4e8603(0x64d)]['id'],'_fromMe':_0x2444d8[_0x4e8603(0x64d)][_0x4e8603(0x6ee)],'_remoteJid':_0x2444d8[_0x4e8603(0x64d)]['remoteJid']};_0x46b868[_0x4e8603(0x1b2)][_0x4e8603(0x454)]=_0x35346f[_0x4e8603(0x6bf)][_0x4e8603(0x689)]();let {message_normalized:_0x53596b}=this[_0x4e8603(0x3f8)](_0x2444d8[_0x4e8603(0x50c)],$(_0x2444d8['message']),null);_0x46b868[_0x4e8603(0x1b2)][_0x4e8603(0x41e)]=await _0x53596b;let _0x126b6f={'messageId':_0x2444d8[_0x4e8603(0x64d)]['id']},_0x2a812b=_0x46b868['chatLog']['realVariables'];Object[_0x4e8603(0x742)](_0x2a812b,_0x5b9ec7),_0x46b868['chatLog'][_0x4e8603(0x515)]=_0x2a812b,this['updateConversation'](_0x46b868,_0x35346f,_0x126b6f);}else{let _0x2e9f9={'error':!0x0};this[_0x4e8603(0x259)](_0x46b868,_0x35346f,_0x2e9f9),this[_0x4e8603(0x525)]['error'](this[_0x4e8603(0x2d7)]+'\x20('+this['instance'][_0x4e8603(0x31d)]+_0x4e8603(0x334));}}catch(_0x21ba8c){let _0x106612={'error':!0x0,'errorLog':_0x21ba8c[_0x4e8603(0x689)]()};this[_0x4e8603(0x259)](_0x46b868,_0x35346f,_0x106612),this[_0x4e8603(0x525)]['error'](this[_0x4e8603(0x2d7)]+'\x20('+this['instance'][_0x4e8603(0x31d)]+_0x4e8603(0x6ae)+(_0x21ba8c instanceof Error?_0x21ba8c[_0x4e8603(0x50c)]:JSON[_0x4e8603(0x613)](_0x21ba8c,null,0x2)));}}async[a0_0x18a40e(0x79c)](_0x31b696,_0x2cd0b3){const _0x238f80=a0_0x18a40e;let _0xb2605b=_0x31b696['remoteJid'];_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x65f)]&&_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x65f)]['trim']()!==''&&(_0xb2605b=_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x65f)][_0x238f80(0x75f)]()),this['logger'][_0x238f80(0x4c0)](this[_0x238f80(0x2d7)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20mdia');let _0x31f656={'number':_0xb2605b,'options':{'delay':_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x41d)]},'mediaMessage':{'mediatype':_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x62e)],'caption':_0x2cd0b3[_0x238f80(0x1de)]['caption'],'media':_0x2cd0b3[_0x238f80(0x1de)]['media'],'fileName':_0x2cd0b3[_0x238f80(0x1de)][_0x238f80(0x325)]}};try{let _0xb2e502=await this[_0x238f80(0x1e5)](_0x31f656);if(_0xb2e502){let _0x452a4c={'_id':_0xb2e502[_0x238f80(0x64d)]['id'],'_fromMe':_0xb2e502[_0x238f80(0x64d)][_0x238f80(0x6ee)],'_remoteJid':_0xb2e502[_0x238f80(0x64d)][_0x238f80(0x65f)]};_0x31b696[_0x238f80(0x1b2)][_0x238f80(0x454)]=_0x2cd0b3['_id'][_0x238f80(0x689)]();let {message_normalized:_0x5d4d25}=this[_0x238f80(0x3f8)](_0xb2e502[_0x238f80(0x50c)],$(_0xb2e502[_0x238f80(0x50c)]),null);_0x31b696[_0x238f80(0x1b2)][_0x238f80(0x41e)]=await _0x5d4d25;let _0x262d67={'messageId':_0xb2e502[_0x238f80(0x64d)]['id']},_0x48a198=_0x31b696['chatLog'][_0x238f80(0x515)];Object[_0x238f80(0x742)](_0x48a198,_0x452a4c),_0x31b696[_0x238f80(0x1b2)][_0x238f80(0x515)]=_0x48a198,this['updateConversation'](_0x31b696,_0x2cd0b3,_0x262d67);}else{let _0x4f9fd2={'error':!0x0};this['updateConversation'](_0x31b696,_0x2cd0b3,_0x4f9fd2),this[_0x238f80(0x525)][_0x238f80(0x62b)](this[_0x238f80(0x2d7)]+'\x20('+this[_0x238f80(0x799)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.');}}catch(_0x4e6ebc){let _0x5da50b={'error':!0x0,'errorLog':_0x4e6ebc['toString']()};this['updateConversation'](_0x31b696,_0x2cd0b3,_0x5da50b),this[_0x238f80(0x525)][_0x238f80(0x62b)](this['instanceName']+'\x20('+this[_0x238f80(0x799)][_0x238f80(0x31d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x4e6ebc instanceof Error?_0x4e6ebc[_0x238f80(0x50c)]:JSON[_0x238f80(0x613)](_0x4e6ebc,null,0x2)));}}async[a0_0x18a40e(0x35a)](_0x448ef7,_0xb8be8f){const _0x25b969=a0_0x18a40e;let _0x1bc33d=_0x448ef7[_0x25b969(0x65f)];_0xb8be8f[_0x25b969(0x1de)][_0x25b969(0x65f)]&&_0xb8be8f[_0x25b969(0x1de)][_0x25b969(0x65f)][_0x25b969(0x75f)]()!==''&&(_0x1bc33d=_0xb8be8f[_0x25b969(0x1de)][_0x25b969(0x65f)][_0x25b969(0x75f)]()),this['logger'][_0x25b969(0x4c0)](this['instanceName']+'\x20('+this['instance'][_0x25b969(0x31d)]+'):\x20Enviando\x20localizao');let _0x1009ee={'number':_0x1bc33d,'options':{'delay':_0xb8be8f['uazapi']['delay']},'locationMessage':{'name':_0xb8be8f[_0x25b969(0x1de)][_0x25b969(0x317)],'address':_0xb8be8f['uazapi']['address'],'latitude':_0xb8be8f[_0x25b969(0x1de)]['latitude'],'longitude':_0xb8be8f[_0x25b969(0x1de)][_0x25b969(0x773)]}};try{let _0x559cee=await this[_0x25b969(0x52a)](_0x1009ee);if(_0x559cee){let _0x37d35d={'_id':_0x559cee[_0x25b969(0x64d)]['id'],'_fromMe':_0x559cee[_0x25b969(0x64d)][_0x25b969(0x6ee)],'_remoteJid':_0x559cee[_0x25b969(0x64d)][_0x25b969(0x65f)]};_0x448ef7['chatLog'][_0x25b969(0x454)]=_0xb8be8f['_id'][_0x25b969(0x689)]();let {message_normalized:_0x5a363d}=this[_0x25b969(0x3f8)](_0x559cee['message'],$(_0x559cee[_0x25b969(0x50c)]),null);_0x448ef7['chatLog'][_0x25b969(0x41e)]=await _0x5a363d;let _0x42df24={'messageId':_0x559cee['key']['id']},_0x216156=_0x448ef7[_0x25b969(0x1b2)][_0x25b969(0x515)];Object[_0x25b969(0x742)](_0x216156,_0x37d35d),_0x448ef7[_0x25b969(0x1b2)][_0x25b969(0x515)]=_0x216156,this[_0x25b969(0x259)](_0x448ef7,_0xb8be8f,_0x42df24);}else{let _0x8c1c8c={'error':!0x0};this['updateConversation'](_0x448ef7,_0xb8be8f,_0x8c1c8c),this[_0x25b969(0x525)][_0x25b969(0x62b)](this['instanceName']+'\x20('+this['instance'][_0x25b969(0x31d)]+_0x25b969(0x482));}}catch(_0x51bf41){let _0x370213={'error':!0x0,'errorLog':_0x51bf41['toString']()};this[_0x25b969(0x259)](_0x448ef7,_0xb8be8f,_0x370213),this['logger'][_0x25b969(0x62b)](this[_0x25b969(0x2d7)]+'\x20('+this[_0x25b969(0x799)][_0x25b969(0x31d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20'+(_0x51bf41 instanceof Error?_0x51bf41[_0x25b969(0x50c)]:JSON[_0x25b969(0x613)](_0x51bf41,null,0x2)));}}async['uazapiSendAudio'](_0x5042ba,_0x8ca4f2){const _0x57f385=a0_0x18a40e;let _0x18e335=_0x5042ba[_0x57f385(0x65f)];_0x8ca4f2[_0x57f385(0x1de)][_0x57f385(0x65f)]&&_0x8ca4f2[_0x57f385(0x1de)]['remoteJid']['trim']()!==''&&(_0x18e335=_0x8ca4f2[_0x57f385(0x1de)][_0x57f385(0x65f)]['trim']()),this[_0x57f385(0x525)][_0x57f385(0x4c0)](this[_0x57f385(0x2d7)]+'\x20('+this['instance']['wuid']+_0x57f385(0x292));let _0x43291e={'number':_0x18e335,'options':{'delay':_0x8ca4f2['uazapi'][_0x57f385(0x41d)]},'audioMessage':{'audio':_0x8ca4f2['uazapi'][_0x57f385(0x788)]}};try{let _0x10a80e=await this[_0x57f385(0x60a)](_0x43291e);if(_0x10a80e){let _0x2ebc77={'_id':_0x10a80e[_0x57f385(0x64d)]['id'],'_fromMe':_0x10a80e['key']['fromMe'],'_remoteJid':_0x10a80e[_0x57f385(0x64d)][_0x57f385(0x65f)]};_0x5042ba[_0x57f385(0x1b2)][_0x57f385(0x454)]=_0x8ca4f2[_0x57f385(0x6bf)][_0x57f385(0x689)]();let {message_normalized:_0x46d590}=this[_0x57f385(0x3f8)](_0x10a80e[_0x57f385(0x50c)],$(_0x10a80e[_0x57f385(0x50c)]),null);_0x5042ba[_0x57f385(0x1b2)]['lastSendMessage']=await _0x46d590;let _0x1b2e31={'messageId':_0x10a80e[_0x57f385(0x64d)]['id']},_0x210fca=_0x5042ba[_0x57f385(0x1b2)]['realVariables'];Object['assign'](_0x210fca,_0x2ebc77),_0x5042ba[_0x57f385(0x1b2)][_0x57f385(0x515)]=_0x210fca,this['updateConversation'](_0x5042ba,_0x8ca4f2,_0x1b2e31);}else{let _0x1acf41={'error':!0x0};this['updateConversation'](_0x5042ba,_0x8ca4f2,_0x1acf41),this[_0x57f385(0x525)][_0x57f385(0x62b)](this[_0x57f385(0x2d7)]+'\x20('+this[_0x57f385(0x799)][_0x57f385(0x31d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0x454a23){let _0x460976={'error':!0x0,'errorLog':_0x454a23[_0x57f385(0x689)]()};this['updateConversation'](_0x5042ba,_0x8ca4f2,_0x460976),this[_0x57f385(0x525)][_0x57f385(0x62b)](this[_0x57f385(0x2d7)]+'\x20('+this[_0x57f385(0x799)][_0x57f385(0x31d)]+_0x57f385(0x782)+(_0x454a23 instanceof Error?_0x454a23[_0x57f385(0x50c)]:JSON[_0x57f385(0x613)](_0x454a23,null,0x2)));}}async[a0_0x18a40e(0x51e)](_0x3d67e3,_0x4e1060){const _0x5e3294=a0_0x18a40e;let _0x3c2a94=_0x3d67e3['remoteJid'];_0x4e1060['uazapi'][_0x5e3294(0x65f)]&&_0x4e1060[_0x5e3294(0x1de)]['remoteJid'][_0x5e3294(0x75f)]()!==''&&(_0x3c2a94=_0x4e1060[_0x5e3294(0x1de)][_0x5e3294(0x65f)][_0x5e3294(0x75f)]()),this['logger'][_0x5e3294(0x4c0)](this[_0x5e3294(0x2d7)]+'\x20('+this[_0x5e3294(0x799)][_0x5e3294(0x31d)]+_0x5e3294(0x524));let _0x118e73={'number':_0x3c2a94,'options':{'delay':_0x4e1060[_0x5e3294(0x1de)][_0x5e3294(0x41d)]},'contactMessage':[{'fullName':_0x4e1060['uazapi'][_0x5e3294(0x2cf)],'phoneNumber':_0x4e1060[_0x5e3294(0x1de)][_0x5e3294(0x74b)]}]};try{let _0x322cc8=await this[_0x5e3294(0x6c3)](_0x118e73);if(_0x322cc8){let _0x208bb7={'_id':_0x322cc8[_0x5e3294(0x64d)]['id'],'_fromMe':_0x322cc8['key'][_0x5e3294(0x6ee)],'_remoteJid':_0x322cc8['key'][_0x5e3294(0x65f)]};_0x3d67e3[_0x5e3294(0x1b2)][_0x5e3294(0x454)]=_0x4e1060['_id']['toString']();let {message_normalized:_0x2953f4}=this[_0x5e3294(0x3f8)](_0x322cc8[_0x5e3294(0x50c)],$(_0x322cc8[_0x5e3294(0x50c)]),null);_0x3d67e3['chatLog'][_0x5e3294(0x41e)]=await _0x2953f4;let _0x3c518c={'messageId':_0x322cc8[_0x5e3294(0x64d)]['id']},_0x54e12d=_0x3d67e3[_0x5e3294(0x1b2)][_0x5e3294(0x515)];Object[_0x5e3294(0x742)](_0x54e12d,_0x208bb7),_0x3d67e3[_0x5e3294(0x1b2)][_0x5e3294(0x515)]=_0x54e12d,this[_0x5e3294(0x259)](_0x3d67e3,_0x4e1060,_0x3c518c);}else{let _0x79e275={'error':!0x0};this['updateConversation'](_0x3d67e3,_0x4e1060,_0x79e275),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x5e3294(0x31d)]+_0x5e3294(0x652));}}catch(_0x393462){let _0x3abb7b={'error':!0x0,'errorLog':_0x393462[_0x5e3294(0x689)]()};this[_0x5e3294(0x259)](_0x3d67e3,_0x4e1060,_0x3abb7b),this[_0x5e3294(0x525)][_0x5e3294(0x62b)](this['instanceName']+'\x20('+this[_0x5e3294(0x799)][_0x5e3294(0x31d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x393462 instanceof Error?_0x393462['message']:JSON[_0x5e3294(0x613)](_0x393462,null,0x2)));}}[a0_0x18a40e(0x2e2)](_0x154505,_0x422396){const _0x37edbe=a0_0x18a40e;for(let _0x2c2494 of _0x154505)_0x2c2494[_0x37edbe(0x564)]&&(_0x2c2494[_0x37edbe(0x564)]=this[_0x37edbe(0x801)](_0x2c2494['option'],_0x422396)),_0x2c2494[_0x37edbe(0x21b)]&&(_0x2c2494[_0x37edbe(0x21b)]=this[_0x37edbe(0x801)](_0x2c2494[_0x37edbe(0x21b)],_0x422396));}async[a0_0x18a40e(0x68c)](_0x3dadf5,_0x48e369){const _0x48b370=a0_0x18a40e;let _0x3f7e83=_0x3dadf5[_0x48b370(0x65f)];_0x48e369[_0x48b370(0x1de)][_0x48b370(0x65f)]&&_0x48e369[_0x48b370(0x1de)][_0x48b370(0x65f)][_0x48b370(0x75f)]()!==''&&(_0x3f7e83=_0x48e369[_0x48b370(0x1de)][_0x48b370(0x65f)][_0x48b370(0x75f)]()),this[_0x48b370(0x525)][_0x48b370(0x4c0)](this[_0x48b370(0x2d7)]+'\x20('+this[_0x48b370(0x799)]['wuid']+_0x48b370(0x5f9));let _0x154e04=_0x3dadf5['replyOptions'][_0x48b370(0x598)](_0x13879c=>_0x13879c[_0x48b370(0x6fe)]===_0x48e369[_0x48b370(0x6bf)])[_0x48b370(0x818)]((_0x3a4040,_0x5d2ab1)=>_0x3a4040[_0x48b370(0x254)]-_0x5d2ab1[_0x48b370(0x254)]);this['replaceVariablesInReplyOptions'](_0x154e04,_0x3dadf5[_0x48b370(0x1b2)][_0x48b370(0x515)]);let _0x4cbc2c=_0x154e04[_0x48b370(0x783)](_0x4d59be=>_0x4d59be['option']),_0x3e97bd={'number':_0x3f7e83,'menuMessage':{'type':_0x48e369[_0x48b370(0x1de)][_0x48b370(0x20c)]||_0x48b370(0x35c),'text':_0x48e369[_0x48b370(0x1de)][_0x48b370(0x2d3)]||_0x48e369[_0x48b370(0x1de)][_0x48b370(0x317)],'footerText':_0x48e369[_0x48b370(0x1de)][_0x48b370(0x761)],'buttonText':_0x48e369[_0x48b370(0x1de)][_0x48b370(0x53e)],'selectableCount':0x1,'choices':_0x4cbc2c},'options':{'delay':_0x48e369[_0x48b370(0x1de)][_0x48b370(0x41d)]}};try{let _0x5038d4=await this[_0x48b370(0x505)](_0x3e97bd);if(_0x5038d4){let _0x291e42={'_id':_0x5038d4[_0x48b370(0x64d)]['id'],'_fromMe':_0x5038d4[_0x48b370(0x64d)][_0x48b370(0x6ee)],'_remoteJid':_0x5038d4[_0x48b370(0x64d)][_0x48b370(0x65f)]};_0x48e369[_0x48b370(0x1de)][_0x48b370(0x3f1)]===!0x0&&(_0x3dadf5[_0x48b370(0x6d8)]='waitingForReplyMenu',this[_0x48b370(0x525)][_0x48b370(0x4c0)](this[_0x48b370(0x2d7)]+'\x20('+this[_0x48b370(0x799)][_0x48b370(0x31d)]+_0x48b370(0x2d0)+_0x3dadf5[_0x48b370(0x6d8)])),this[_0x48b370(0x525)][_0x48b370(0x4c0)](this[_0x48b370(0x2d7)]+'\x20('+this[_0x48b370(0x799)][_0x48b370(0x31d)]+_0x48b370(0x7fa)+(_0x48e369['uazapi'][_0x48b370(0x317)]||_0x48e369['uazapi'][_0x48b370(0x2d3)])),_0x3dadf5['waitingMenu_id']=_0x5038d4[_0x48b370(0x64d)]['id'],_0x3dadf5[_0x48b370(0x312)]=_0x48e369[_0x48b370(0x1de)][_0x48b370(0x317)]||_0x48e369[_0x48b370(0x1de)][_0x48b370(0x2d3)],_0x3dadf5[_0x48b370(0x6ec)]=_0x154e04,_0x48e369[_0x48b370(0x1de)][_0x48b370(0x732)]&&(_0x3dadf5[_0x48b370(0x7b5)]=_0x48e369['uazapi']['menuExpiredMessage']),this[_0x48b370(0x525)]['verbose'](this[_0x48b370(0x2d7)]+'\x20('+this['instance']['wuid']+_0x48b370(0x803)+_0x3dadf5[_0x48b370(0x312)]),_0x3dadf5[_0x48b370(0x1b2)][_0x48b370(0x454)]=_0x48e369[_0x48b370(0x6bf)]['toString']();let {message_normalized:_0x70f80d}=this[_0x48b370(0x3f8)](_0x5038d4[_0x48b370(0x50c)],$(_0x5038d4['message']),null);_0x3dadf5[_0x48b370(0x1b2)]['lastSendMessage']=await _0x70f80d;let _0xadbf56={'messageId':_0x5038d4[_0x48b370(0x64d)]['id']},_0x39c0d2=_0x3dadf5['chatLog'][_0x48b370(0x515)];Object[_0x48b370(0x742)](_0x39c0d2,_0x291e42),_0x3dadf5[_0x48b370(0x1b2)][_0x48b370(0x515)]=_0x39c0d2,this[_0x48b370(0x259)](_0x3dadf5,_0x48e369,_0xadbf56);}else{let _0x175015={'error':!0x0};this[_0x48b370(0x259)](_0x3dadf5,_0x48e369,_0x175015),this[_0x48b370(0x525)]['error'](this[_0x48b370(0x2d7)]+'\x20('+this[_0x48b370(0x799)][_0x48b370(0x31d)]+_0x48b370(0x4fa));}}catch(_0x27b492){let _0x23b945={'error':!0x0,'errorLog':_0x27b492 instanceof Error?_0x27b492[_0x48b370(0x50c)]:JSON['stringify'](_0x27b492,null,0x2)};this['updateConversation'](_0x3dadf5,_0x48e369,_0x23b945),this[_0x48b370(0x525)]['error'](this[_0x48b370(0x2d7)]+'\x20('+this[_0x48b370(0x799)][_0x48b370(0x31d)]+_0x48b370(0x40e)+(_0x27b492 instanceof Error?_0x27b492[_0x48b370(0x50c)]:JSON[_0x48b370(0x613)](_0x27b492,null,0x2)));}}async['uazapiDeleteMessage'](_0x318c3b,_0x3010a4){const _0xbc11d7=a0_0x18a40e;this[_0xbc11d7(0x525)][_0xbc11d7(0x4c0)](this[_0xbc11d7(0x2d7)]+'\x20('+this[_0xbc11d7(0x799)]['wuid']+_0xbc11d7(0x475));let _0x2d4f9a=_0x318c3b[_0xbc11d7(0x1b2)][_0xbc11d7(0x743)][_0xbc11d7(0x437)](_0x1318bc=>_0x1318bc['blockId'][_0xbc11d7(0x689)]()===_0x3010a4[_0xbc11d7(0x1de)][_0xbc11d7(0x6fe)][_0xbc11d7(0x689)]()),_0x72d140={'id':_0x2d4f9a[_0xbc11d7(0x1d4)],'remoteJid':_0x2d4f9a[_0xbc11d7(0x65f)],'fromMe':_0x2d4f9a['fromMe']};try{let _0x100c77=await this[_0xbc11d7(0x2ae)](_0x72d140);if(_0x100c77){_0x318c3b[_0xbc11d7(0x1b2)][_0xbc11d7(0x454)]=_0x3010a4[_0xbc11d7(0x6bf)][_0xbc11d7(0x689)]();let {message_normalized:_0x49af9a}=this['normalizeMessage'](_0x100c77[_0xbc11d7(0x50c)],$(_0x100c77[_0xbc11d7(0x50c)]),null);_0x318c3b['chatLog'][_0xbc11d7(0x41e)]=await _0x49af9a;let _0x5e3e96={};this['updateConversation'](_0x318c3b,_0x3010a4,_0x5e3e96);}else{let _0x1523ea={'error':!0x0};this[_0xbc11d7(0x259)](_0x318c3b,_0x3010a4,_0x1523ea),this['logger'][_0xbc11d7(0x62b)](this[_0xbc11d7(0x2d7)]+'\x20('+this[_0xbc11d7(0x799)][_0xbc11d7(0x31d)]+_0xbc11d7(0x240));}}catch(_0x4bf6ee){let _0xbf2528={'error':!0x0,'errorLog':_0x4bf6ee instanceof Error?_0x4bf6ee['message']:JSON[_0xbc11d7(0x613)](_0x4bf6ee,null,0x2)};this[_0xbc11d7(0x259)](_0x318c3b,_0x3010a4,_0xbf2528),this[_0xbc11d7(0x525)]['error'](this['instanceName']+'\x20('+this[_0xbc11d7(0x799)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4bf6ee instanceof Error?_0x4bf6ee[_0xbc11d7(0x50c)]:JSON['stringify'](_0x4bf6ee,null,0x2)));}}async[a0_0x18a40e(0x2c8)](_0x3c83cb){const _0x5bed24=a0_0x18a40e;try{if(this[_0x5bed24(0x525)][_0x5bed24(0x4c0)](this[_0x5bed24(0x2d7)]+'\x20('+this['instance'][_0x5bed24(0x31d)]+_0x5bed24(0x682)),await this[_0x5bed24(0x34e)][_0x5bed24(0x5c5)][_0x5bed24(0x24e)]({'where':{'name':_0x3c83cb[_0x5bed24(0x317)]}},this['instance'][_0x5bed24(0x31d)]))return{'message':_0x5bed24(0x80d)};_0x3c83cb[_0x5bed24(0x41b)]===!0x0&&await this['repository'][_0x5bed24(0x5c5)][_0x5bed24(0x351)]({},{'default':!0x1},this[_0x5bed24(0x799)][_0x5bed24(0x31d)]);let _0x286329=new ie[(_0x5bed24(0x235))][(_0x5bed24(0x637))](),_0x19da97={'_id':_0x286329,'default':!0x0,'title':'Incio','x':0x0,'y':0x0},_0x3a7235={'_id':new ie[(_0x5bed24(0x235))]['ObjectId'](),'order':0x1,'groupId':_0x286329['toString'](),'type':_0x5bed24(0x4be)},_0x2ca936={'_id':new ie[(_0x5bed24(0x235))][(_0x5bed24(0x637))](),'owner':this['instance'][_0x5bed24(0x31d)],'name':_0x3c83cb[_0x5bed24(0x317)],'groups':[_0x19da97],'blocks':[_0x3a7235],..._0x3c83cb};return _0x2ca936=await this[_0x5bed24(0x34e)][_0x5bed24(0x5c5)][_0x5bed24(0x443)](_0x2ca936,this[_0x5bed24(0x799)][_0x5bed24(0x31d)]),_0x2ca936;}catch(_0x1e9b6a){throw this[_0x5bed24(0x525)][_0x5bed24(0x62b)](this[_0x5bed24(0x2d7)]+'\x20('+this[_0x5bed24(0x799)]['wuid']+_0x5bed24(0x4e1)+(_0x1e9b6a instanceof Error?_0x1e9b6a[_0x5bed24(0x50c)]:JSON[_0x5bed24(0x613)](_0x1e9b6a,null,0x2))),new m(_0x5bed24(0x672)+_0x1e9b6a);}}async[a0_0x18a40e(0x577)](_0x429067){const _0x1a92bd=a0_0x18a40e;try{return this[_0x1a92bd(0x525)][_0x1a92bd(0x4c0)](this['instanceName']+'\x20('+this[_0x1a92bd(0x799)][_0x1a92bd(0x31d)]+'):\x20Deletando\x20fluxo...'),await this['repository']['flow'][_0x1a92bd(0x82e)]({'where':{'name':_0x429067}},this[_0x1a92bd(0x799)][_0x1a92bd(0x31d)]);}catch(_0x18d13e){return this[_0x1a92bd(0x525)][_0x1a92bd(0x62b)](this[_0x1a92bd(0x2d7)]+'\x20('+this[_0x1a92bd(0x799)][_0x1a92bd(0x31d)]+_0x1a92bd(0x2a8)+(_0x18d13e instanceof Error?_0x18d13e[_0x1a92bd(0x50c)]:JSON[_0x1a92bd(0x613)](_0x18d13e,null,0x2))),{'message':_0x1a92bd(0x2eb)+_0x18d13e};}}async[a0_0x18a40e(0x34b)](_0x36fbe9){const _0x612b68=a0_0x18a40e;try{this[_0x612b68(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x612b68(0x799)][_0x612b68(0x31d)]+_0x612b68(0x23b));let _0x338eae=await this[_0x612b68(0x34e)][_0x612b68(0x5c5)][_0x612b68(0x24e)]({'where':{'name':_0x36fbe9}},this['instance'][_0x612b68(0x31d)]);if(!_0x338eae)throw new Error(_0x612b68(0x389));if(!this['AutomateSystem']&&(await this[_0x612b68(0x526)](),!this[_0x612b68(0x5a1)]))return null;let _0x48e556=this[_0x612b68(0x5a1)]?.['customFields'][_0x612b68(0x783)](_0x30e73d=>_0x30e73d['name']),_0x1c6889=[_0x612b68(0x1c5),_0x612b68(0x6f9),'email',_0x612b68(0x5c2),_0x612b68(0x6d8),_0x612b68(0x719),_0x612b68(0x6ed),_0x612b68(0x1c1),'etiquetas'];_0x338eae['variables']=_0x338eae['variables']['filter'](_0x37d63a=>!(_0x37d63a[_0x612b68(0x33f)]===_0x612b68(0x1f9)||_0x37d63a[_0x612b68(0x1f9)])),_0x1c6889[_0x612b68(0x45f)](_0x5f41ae=>{const _0x401326=_0x612b68;_0x338eae[_0x401326(0x6ab)][_0x401326(0x78b)]({'folder':_0x401326(0x1f9),'name':_0x5f41ae,'value':'','doc':'','leadInfo':!0x0});}),_0x48e556[_0x612b68(0x45f)](_0x58e80b=>{const _0x2f420c=_0x612b68;let _0x5be586=_0x338eae[_0x2f420c(0x6ab)][_0x2f420c(0x769)](_0x341975=>_0x341975[_0x2f420c(0x317)]===_0x58e80b);_0x5be586===-0x1?_0x338eae[_0x2f420c(0x6ab)][_0x2f420c(0x78b)]({'folder':_0x2f420c(0x1f9),'name':_0x58e80b,'value':'','doc':'','leadInfo':!0x0}):(_0x338eae[_0x2f420c(0x6ab)][_0x5be586][_0x2f420c(0x33f)]=_0x2f420c(0x1f9),_0x338eae[_0x2f420c(0x6ab)][_0x5be586][_0x2f420c(0x1f9)]=!0x0);}),_0x338eae[_0x612b68(0x77e)]&&_0x338eae[_0x612b68(0x77e)][_0x612b68(0x233)]>0x0&&_0x338eae[_0x612b68(0x77e)][_0x612b68(0x45f)](_0x410a68=>{const _0x309692=_0x612b68;_0x410a68[_0x309692(0x718)]&&_0x410a68[_0x309692(0x65a)]&&_0x410a68[_0x309692(0x718)]===_0x410a68[_0x309692(0x65a)]&&(_0x410a68[_0x309692(0x65a)]=null);});let _0x29dd71=await this['repository'][_0x612b68(0x5c5)][_0x612b68(0x328)](_0x338eae[_0x612b68(0x6bf)],_0x338eae,this[_0x612b68(0x799)]['wuid']);if(!_0x29dd71)throw new Error(_0x612b68(0x624));return _0x29dd71;}catch(_0x2674c2){throw this[_0x612b68(0x525)][_0x612b68(0x62b)](this[_0x612b68(0x2d7)]+'\x20('+this[_0x612b68(0x799)][_0x612b68(0x31d)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x2674c2 instanceof Error?_0x2674c2['message']:JSON[_0x612b68(0x613)](_0x2674c2,null,0x2))),new m(_0x612b68(0x46d)+_0x2674c2);}}async[a0_0x18a40e(0x574)](){const _0x4370b3=a0_0x18a40e;try{return this[_0x4370b3(0x525)][_0x4370b3(0x4c0)](this[_0x4370b3(0x2d7)]+'\x20('+this[_0x4370b3(0x799)][_0x4370b3(0x31d)]+_0x4370b3(0x1e4)),await this[_0x4370b3(0x34e)]['flow'][_0x4370b3(0x363)]({'where':{}},this[_0x4370b3(0x799)][_0x4370b3(0x31d)]);}catch(_0x141835){return this[_0x4370b3(0x525)][_0x4370b3(0x62b)](this[_0x4370b3(0x2d7)]+'\x20('+this[_0x4370b3(0x799)][_0x4370b3(0x31d)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x141835 instanceof Error?_0x141835[_0x4370b3(0x50c)]:JSON['stringify'](_0x141835,null,0x2))),{'message':_0x4370b3(0x7bc)+_0x141835};}}async['editFlow'](_0x4e4772){const _0x4cfaa1=a0_0x18a40e;try{this[_0x4cfaa1(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x4cfaa1(0x799)]['wuid']+_0x4cfaa1(0x27f));let _0x4fc9ed=await this['repository']['flow'][_0x4cfaa1(0x24e)]({'where':{'name':_0x4e4772['name']}},this[_0x4cfaa1(0x799)][_0x4cfaa1(0x31d)]);return _0x4fc9ed?(_0x4e4772[_0x4cfaa1(0x41b)]===!0x0&&await this[_0x4cfaa1(0x34e)]['flow'][_0x4cfaa1(0x351)]({},{'default':!0x1},this[_0x4cfaa1(0x799)]['wuid']),await this[_0x4cfaa1(0x34e)][_0x4cfaa1(0x5c5)][_0x4cfaa1(0x328)](_0x4fc9ed[_0x4cfaa1(0x6bf)],_0x4e4772,this[_0x4cfaa1(0x799)]['wuid'])):{'message':_0x4cfaa1(0x1e9)};}catch(_0x573785){throw this[_0x4cfaa1(0x525)][_0x4cfaa1(0x62b)](this[_0x4cfaa1(0x2d7)]+'\x20('+this[_0x4cfaa1(0x799)][_0x4cfaa1(0x31d)]+_0x4cfaa1(0x4e8)+(_0x573785 instanceof Error?_0x573785[_0x4cfaa1(0x50c)]:JSON[_0x4cfaa1(0x613)](_0x573785,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x573785 instanceof Error?_0x573785[_0x4cfaa1(0x50c)]:JSON[_0x4cfaa1(0x613)](_0x573785,null,0x2)));}}async[a0_0x18a40e(0x55c)](_0x515d99){const _0x3ddfe9=a0_0x18a40e;try{this[_0x3ddfe9(0x525)][_0x3ddfe9(0x4c0)](this[_0x3ddfe9(0x2d7)]+'\x20('+this[_0x3ddfe9(0x799)][_0x3ddfe9(0x31d)]+_0x3ddfe9(0x447));let _0x27aef6=await this['repository'][_0x3ddfe9(0x5c5)][_0x3ddfe9(0x24e)]({'where':{'name':_0x515d99[_0x3ddfe9(0x317)]}},this[_0x3ddfe9(0x799)]['wuid']);_0x27aef6||this['throwAndLogError']('Flow\x20no\x20encontrado');let {block:_0x4a03da}=_0x515d99;_0x4a03da?.[_0x3ddfe9(0x462)]?this[_0x3ddfe9(0x736)](_0x27aef6,_0x515d99):_0x4a03da?.[_0x3ddfe9(0x4fe)]?this[_0x3ddfe9(0x1cb)](_0x27aef6,_0x515d99):_0x4a03da[_0x3ddfe9(0x6bf)]?await this[_0x3ddfe9(0x3ed)](_0x27aef6,_0x515d99):this['addBlock'](_0x27aef6,_0x515d99);let _0x156aaf=await this[_0x3ddfe9(0x34e)][_0x3ddfe9(0x5c5)][_0x3ddfe9(0x328)](_0x27aef6[_0x3ddfe9(0x6bf)],_0x27aef6,this[_0x3ddfe9(0x799)][_0x3ddfe9(0x31d)]);if(!_0x156aaf)throw new Error(_0x3ddfe9(0x624));return _0x156aaf;}catch(_0x2d9ec0){this[_0x3ddfe9(0x290)](_0x3ddfe9(0x269)+_0x2d9ec0);}}async[a0_0x18a40e(0x736)](_0x3b091e,_0x3e7783){const _0x470ccd=a0_0x18a40e;let _0x13826e=_0x3e7783[_0x470ccd(0x519)][_0x470ccd(0x6bf)],_0x2fb18d=_0x3b091e['blocks'][_0x470ccd(0x437)](_0x5161b4=>_0x5161b4[_0x470ccd(0x6bf)][_0x470ccd(0x689)]()===_0x13826e);if(!_0x2fb18d){this[_0x470ccd(0x525)][_0x470ccd(0x62b)](this['instanceName']+'\x20('+this[_0x470ccd(0x799)][_0x470ccd(0x31d)]+_0x470ccd(0x6e8)+_0x13826e+_0x470ccd(0x19f));return;}this[_0x470ccd(0x525)][_0x470ccd(0x4c0)](this['instanceName']+'\x20('+this[_0x470ccd(0x799)][_0x470ccd(0x31d)]+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON['stringify'](_0x2fb18d));let _0xebfc45=JSON[_0x470ccd(0x596)](JSON[_0x470ccd(0x613)](_0x2fb18d));_0xebfc45[_0x470ccd(0x6bf)]=new ie[(_0x470ccd(0x41b))][(_0x470ccd(0x235))][(_0x470ccd(0x637))](),this[_0x470ccd(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x470ccd(0x799)]['wuid']+_0x470ccd(0x714)+JSON[_0x470ccd(0x613)](_0xebfc45)),_0x3b091e['blocks'][_0x470ccd(0x78b)](_0xebfc45),this[_0x470ccd(0x266)](_0x3b091e[_0x470ccd(0x77e)],_0xebfc45['groupId']);}['throwAndLogError'](_0x1e9c9f){const _0x1992b5=a0_0x18a40e;throw this[_0x1992b5(0x525)][_0x1992b5(0x62b)](this[_0x1992b5(0x2d7)]+'\x20('+this['instance']['wuid']+_0x1992b5(0x26f)+_0x1e9c9f),new m(_0x1e9c9f);}[a0_0x18a40e(0x1cb)](_0x22236f,_0x2d36f6){const _0x4d69ec=a0_0x18a40e;let {block:_0x4a1ca6}=_0x2d36f6;if(_0x4a1ca6[_0x4d69ec(0x794)]===_0x4d69ec(0x4be)){this['throwAndLogError']('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x4a1ca6[_0x4d69ec(0x6bf)]){this[_0x4d69ec(0x290)](_0x4d69ec(0x767));return;}let _0x5d9bdf=_0x22236f[_0x4d69ec(0x77e)]['find'](_0x31bcd4=>_0x31bcd4[_0x4d69ec(0x6bf)]['toString']()===_0x2d36f6[_0x4d69ec(0x519)][_0x4d69ec(0x6bf)][_0x4d69ec(0x689)]());if(!_0x5d9bdf){this[_0x4d69ec(0x290)](_0x4d69ec(0x694)+_0x4a1ca6[_0x4d69ec(0x6bf)]+'\x20no\x20encontrado');return;}_0x22236f[_0x4d69ec(0x77e)]=_0x22236f[_0x4d69ec(0x77e)]['filter'](_0x20a81c=>_0x20a81c[_0x4d69ec(0x6bf)][_0x4d69ec(0x689)]()!==_0x2d36f6[_0x4d69ec(0x519)][_0x4d69ec(0x6bf)][_0x4d69ec(0x689)]()),_0x22236f[_0x4d69ec(0x26c)]=_0x22236f[_0x4d69ec(0x26c)][_0x4d69ec(0x598)](_0x5778e9=>_0x5778e9[_0x4d69ec(0x6fe)]!==_0x4a1ca6[_0x4d69ec(0x6bf)][_0x4d69ec(0x689)]()),_0x22236f[_0x4d69ec(0x3bf)]=_0x22236f['varedits'][_0x4d69ec(0x598)](_0x2794e0=>_0x2794e0[_0x4d69ec(0x6fe)]!==_0x4a1ca6['_id'][_0x4d69ec(0x689)]()),_0x22236f[_0x4d69ec(0x2b2)]=_0x22236f['replyOptions'][_0x4d69ec(0x598)](_0x53717f=>_0x53717f['blockId']!==_0x4a1ca6[_0x4d69ec(0x6bf)][_0x4d69ec(0x689)]()),this[_0x4d69ec(0x266)](_0x22236f['blocks'],_0x5d9bdf[_0x4d69ec(0x718)]);}async[a0_0x18a40e(0x3ed)](_0x59296a,_0x5ca90c){const _0x1d4716=a0_0x18a40e;let _0x30bac5=_0x59296a[_0x1d4716(0x77e)][_0x1d4716(0x769)](_0x420a75=>_0x420a75[_0x1d4716(0x6bf)]['toString']()===_0x5ca90c[_0x1d4716(0x519)][_0x1d4716(0x6bf)][_0x1d4716(0x689)]());if(this[_0x1d4716(0x525)][_0x1d4716(0x4c0)](this['instanceName']+'\x20('+this[_0x1d4716(0x799)][_0x1d4716(0x31d)]+_0x1d4716(0x68d)+_0x30bac5),_0x30bac5===-0x1){this[_0x1d4716(0x525)][_0x1d4716(0x4c0)]('Bloco\x20com\x20ID\x20'+_0x5ca90c[_0x1d4716(0x519)][_0x1d4716(0x6bf)]+_0x1d4716(0x465));return;}if(_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x794)]===_0x1d4716(0x4be)){let _0x5388ac=Object[_0x1d4716(0x3f3)](_0x5ca90c[_0x1d4716(0x519)]);if(_0x5388ac[_0x1d4716(0x233)]>0x2||_0x5388ac['length']===0x2&&!_0x5388ac[_0x1d4716(0x3a7)](_0x1d4716(0x65a))){this[_0x1d4716(0x290)](_0x1d4716(0x73d));return;}}let _0x532724=_0x59296a['blocks'][_0x30bac5][_0x1d4716(0x718)];for(let _0x130ac3 in _0x5ca90c[_0x1d4716(0x519)])_0x5ca90c[_0x1d4716(0x519)][_0x1d4716(0x410)](_0x130ac3)&&(_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x130ac3]=_0x5ca90c[_0x1d4716(0x519)][_0x130ac3]);if(this[_0x1d4716(0x525)]['verbose'](this[_0x1d4716(0x2d7)]+'\x20('+this['instance'][_0x1d4716(0x31d)]+_0x1d4716(0x649)+JSON[_0x1d4716(0x613)](_0x59296a['blocks'][_0x30bac5])),_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x31c)]&&'header'in _0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x31c)]){this[_0x1d4716(0x525)][_0x1d4716(0x4c0)](this[_0x1d4716(0x2d7)]+'\x20('+this[_0x1d4716(0x799)]['wuid']+_0x1d4716(0x6d0));let _0x2920e6=JSON[_0x1d4716(0x613)](_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x31c)][_0x1d4716(0x302)],null,0x1);_0x2920e6['length']>0x2&&(_0x2920e6=_0x2920e6[_0x1d4716(0x405)](0x1,_0x2920e6[_0x1d4716(0x233)]-0x1)[_0x1d4716(0x75f)]()),_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x31c)][_0x1d4716(0x39c)]=_0x2920e6;}if(_0x59296a[_0x1d4716(0x77e)][_0x30bac5][_0x1d4716(0x31c)]&&_0x1d4716(0x735)in _0x59296a['blocks'][_0x30bac5][_0x1d4716(0x31c)]){this[_0x1d4716(0x525)]['verbose'](this[_0x1d4716(0x2d7)]+'\x20('+this[_0x1d4716(0x799)][_0x1d4716(0x31d)]+_0x1d4716(0x23d));let _0x4f26b3=JSON[_0x1d4716(0x613)](_0x59296a['blocks'][_0x30bac5][_0x1d4716(0x31c)][_0x1d4716(0x735)],null,0x1);_0x4f26b3[_0x1d4716(0x233)]>0x2&&(_0x4f26b3=_0x4f26b3['substring'](0x1,_0x4f26b3[_0x1d4716(0x233)]-0x1)[_0x1d4716(0x75f)]()),_0x59296a['blocks'][_0x30bac5][_0x1d4716(0x31c)]['bodyString']=_0x4f26b3;}let _0x23b98f=_0x59296a[_0x1d4716(0x77e)][_0x30bac5]['groupId'];_0x532724!==_0x23b98f?(this[_0x1d4716(0x266)](_0x59296a[_0x1d4716(0x77e)],_0x532724),this[_0x1d4716(0x266)](_0x59296a[_0x1d4716(0x77e)],_0x23b98f)):this[_0x1d4716(0x266)](_0x59296a[_0x1d4716(0x77e)],_0x532724);}[a0_0x18a40e(0x287)](_0x5644b8,_0x3abdd3){const _0x522d63=a0_0x18a40e;if(_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x794)]===_0x522d63(0x4be)){this[_0x522d63(0x290)](_0x522d63(0x4e3));return;}if(_0x3abdd3[_0x522d63(0x519)]['apirequest']&&'header'in _0x3abdd3[_0x522d63(0x519)]['apirequest']){this[_0x522d63(0x525)][_0x522d63(0x4c0)](this[_0x522d63(0x2d7)]+'\x20('+this[_0x522d63(0x799)][_0x522d63(0x31d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x39af6b=JSON[_0x522d63(0x613)](_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)][_0x522d63(0x302)],null,0x1);_0x39af6b[_0x522d63(0x233)]>0x2&&(_0x39af6b=_0x39af6b[_0x522d63(0x405)](0x1,_0x39af6b[_0x522d63(0x233)]-0x1)[_0x522d63(0x75f)]()),_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)][_0x522d63(0x39c)]=_0x39af6b;}_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)]&&_0x522d63(0x735)in _0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)]&&(this['logger']['verbose'](this[_0x522d63(0x2d7)]+'\x20('+this['instance'][_0x522d63(0x31d)]+_0x522d63(0x23d)),_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)][_0x522d63(0x7f7)]=JSON['stringify'](_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x31c)]['body'],null,0x1)[_0x522d63(0x75f)]()),_0x5644b8[_0x522d63(0x77e)][_0x522d63(0x78b)](_0x3abdd3[_0x522d63(0x519)]),this[_0x522d63(0x266)](_0x5644b8['blocks'],_0x3abdd3[_0x522d63(0x519)][_0x522d63(0x718)]);}['reorderBlocks'](_0x116484,_0x5008fd){const _0x2e587d=a0_0x18a40e;let _0x2c45c3=_0x116484[_0x2e587d(0x598)](_0x36b996=>_0x36b996['groupId']===_0x5008fd);_0x2c45c3[_0x2e587d(0x818)]((_0x2ef697,_0x576239)=>_0x2ef697[_0x2e587d(0x254)]-_0x576239['order']),_0x2c45c3[_0x2e587d(0x45f)]((_0x133a40,_0x4d8615)=>_0x133a40[_0x2e587d(0x254)]=_0x4d8615+0x1);}async[a0_0x18a40e(0x1e8)](_0x186f61){const _0x4a3c58=a0_0x18a40e;try{if(this[_0x4a3c58(0x525)][_0x4a3c58(0x4c0)](this[_0x4a3c58(0x2d7)]+'\x20('+this['instance'][_0x4a3c58(0x31d)]+_0x4a3c58(0x774)),!_0x186f61||!_0x186f61[_0x4a3c58(0x1e2)]){this[_0x4a3c58(0x290)](_0x4a3c58(0x6f5));return;}let _0x4bf50a=await this[_0x4a3c58(0x34e)][_0x4a3c58(0x5c5)][_0x4a3c58(0x24e)]({'where':{'name':_0x186f61[_0x4a3c58(0x317)]}},this[_0x4a3c58(0x799)]['wuid']);_0x4bf50a||this[_0x4a3c58(0x290)](_0x4a3c58(0x389));let {replyOption:_0xe17836}=_0x186f61;_0xe17836?.['delete']?(this[_0x4a3c58(0x679)](_0x4bf50a,_0x186f61),this[_0x4a3c58(0x310)](_0x4bf50a[_0x4a3c58(0x2b2)],_0x186f61[_0x4a3c58(0x1e2)][_0x4a3c58(0x6fe)])):_0xe17836[_0x4a3c58(0x6bf)]?(await this[_0x4a3c58(0x36d)](_0x4bf50a,_0x186f61),this[_0x4a3c58(0x310)](_0x4bf50a[_0x4a3c58(0x2b2)],_0x186f61[_0x4a3c58(0x1e2)]['blockId'])):(this[_0x4a3c58(0x3aa)](_0x4bf50a,_0x186f61),this[_0x4a3c58(0x310)](_0x4bf50a['replyOptions'],_0x186f61[_0x4a3c58(0x1e2)]['blockId']));let _0x1e401b=await this[_0x4a3c58(0x34e)][_0x4a3c58(0x5c5)][_0x4a3c58(0x328)](_0x4bf50a[_0x4a3c58(0x6bf)],_0x4bf50a,this[_0x4a3c58(0x799)][_0x4a3c58(0x31d)]);if(!_0x1e401b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1e401b;}catch(_0x5144ff){this[_0x4a3c58(0x290)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x5144ff);}}[a0_0x18a40e(0x310)](_0x42466f,_0x420efd){const _0x58a7f0=a0_0x18a40e;console[_0x58a7f0(0x737)](_0x58a7f0(0x81a),_0x420efd),_0x42466f[_0x58a7f0(0x45f)](_0x2936a5=>{const _0xb0e7c2=_0x58a7f0;_0x2936a5[_0xb0e7c2(0x6fe)]===_0x420efd&&_0x2936a5[_0xb0e7c2(0x254)]===void 0x0&&(_0x2936a5[_0xb0e7c2(0x254)]=0x270f);});let _0xfdb90f=_0x42466f[_0x58a7f0(0x598)](_0x29f2e5=>_0x29f2e5[_0x58a7f0(0x6fe)]===_0x420efd);_0xfdb90f[_0x58a7f0(0x818)]((_0x79cdfb,_0x2ed65e)=>_0x79cdfb[_0x58a7f0(0x254)]-_0x2ed65e[_0x58a7f0(0x254)]),_0xfdb90f['forEach']((_0x2f748d,_0xdafdf6)=>{const _0x1b9fdd=_0x58a7f0;_0x2f748d[_0x1b9fdd(0x254)]=_0xdafdf6+0x1;}),_0x42466f[_0x58a7f0(0x45f)](_0x190440=>{const _0x40583d=_0x58a7f0;if(_0x190440[_0x40583d(0x6fe)]===_0x420efd){let _0x11242d=_0xfdb90f[_0x40583d(0x437)](_0x273667=>_0x273667[_0x40583d(0x6bf)]&&_0x190440['_id']&&_0x273667[_0x40583d(0x6bf)]['toString']()===_0x190440['_id'][_0x40583d(0x689)]());_0x11242d&&(_0x190440[_0x40583d(0x254)]=_0x11242d['order']);}}),console[_0x58a7f0(0x737)](_0x58a7f0(0x6fd),_0x42466f);}[a0_0x18a40e(0x679)](_0x23f17e,_0x431760){const _0x29a4f5=a0_0x18a40e;let {replyOption:_0x4997c2}=_0x431760;if(!_0x4997c2[_0x29a4f5(0x6bf)]){this[_0x29a4f5(0x290)](_0x29a4f5(0x4c3));return;}if(!_0x23f17e['replyOptions'][_0x29a4f5(0x437)](_0x402805=>_0x402805[_0x29a4f5(0x6bf)][_0x29a4f5(0x689)]()===_0x431760[_0x29a4f5(0x1e2)][_0x29a4f5(0x6bf)][_0x29a4f5(0x689)]())){this[_0x29a4f5(0x290)](_0x29a4f5(0x72d)+_0x4997c2[_0x29a4f5(0x6bf)]+_0x29a4f5(0x822));return;}_0x23f17e[_0x29a4f5(0x2b2)]=_0x23f17e[_0x29a4f5(0x2b2)][_0x29a4f5(0x598)](_0x2291b8=>_0x2291b8['_id'][_0x29a4f5(0x689)]()!==_0x431760[_0x29a4f5(0x1e2)][_0x29a4f5(0x6bf)][_0x29a4f5(0x689)]());}async[a0_0x18a40e(0x36d)](_0x246591,_0x1ac85a){const _0x4a3216=a0_0x18a40e;let _0x3c2660=_0x246591['replyOptions'][_0x4a3216(0x769)](_0x74f9ef=>_0x74f9ef['_id'][_0x4a3216(0x689)]()===_0x1ac85a['replyOption'][_0x4a3216(0x6bf)][_0x4a3216(0x689)]());if(_0x3c2660===-0x1){this[_0x4a3216(0x290)](_0x4a3216(0x72d)+_0x1ac85a[_0x4a3216(0x1e2)][_0x4a3216(0x6bf)]+_0x4a3216(0x465));return;}for(let _0x8cada7 in _0x1ac85a[_0x4a3216(0x1e2)])_0x1ac85a[_0x4a3216(0x1e2)][_0x4a3216(0x410)](_0x8cada7)&&(_0x246591[_0x4a3216(0x2b2)][_0x3c2660][_0x8cada7]=_0x1ac85a[_0x4a3216(0x1e2)][_0x8cada7]);}['addReplyOption'](_0x4f7712,_0x36770a){const _0x5ac37a=a0_0x18a40e;_0x4f7712[_0x5ac37a(0x2b2)][_0x5ac37a(0x78b)](_0x36770a[_0x5ac37a(0x1e2)]);}async[a0_0x18a40e(0x6de)](_0x181fcc){const _0x1a2347=a0_0x18a40e;this['logger']['verbose'](this[_0x1a2347(0x2d7)]+'\x20('+this[_0x1a2347(0x799)][_0x1a2347(0x31d)]+_0x1a2347(0x7b1)+_0x181fcc);try{this[_0x1a2347(0x525)][_0x1a2347(0x4c0)](this[_0x1a2347(0x2d7)]+'\x20('+this[_0x1a2347(0x799)][_0x1a2347(0x31d)]+_0x1a2347(0x57d));let _0x13b2f4=await this[_0x1a2347(0x34e)][_0x1a2347(0x5c5)][_0x1a2347(0x24e)]({'where':{'name':_0x181fcc[_0x1a2347(0x317)]}},this['instance'][_0x1a2347(0x31d)]);if(!_0x13b2f4)throw new Error('Flow\x20no\x20encontrado');if(_0x181fcc[_0x1a2347(0x3d9)]&&_0x181fcc[_0x1a2347(0x3d9)]?.[_0x1a2347(0x4fe)]===!0x0){if(this[_0x1a2347(0x525)][_0x1a2347(0x4c0)](this[_0x1a2347(0x2d7)]+'\x20('+this[_0x1a2347(0x799)][_0x1a2347(0x31d)]+_0x1a2347(0x631)),_0x181fcc[_0x1a2347(0x3d9)][_0x1a2347(0x41b)]===!0x0)return{'message':_0x1a2347(0x3cf)};if(_0x13b2f4[_0x1a2347(0x77e)][_0x1a2347(0x639)](_0x23569=>_0x23569[_0x1a2347(0x718)][_0x1a2347(0x689)]()===_0x181fcc['group'][_0x1a2347(0x6bf)]))return this['logger'][_0x1a2347(0x4c0)](this['instanceName']+'\x20('+this['instance'][_0x1a2347(0x31d)]+_0x1a2347(0x420)),{'message':_0x1a2347(0x7c3)};_0x13b2f4['groups']=_0x13b2f4[_0x1a2347(0x823)][_0x1a2347(0x598)](_0x4cdf4a=>_0x4cdf4a[_0x1a2347(0x6bf)]['toString']()!==_0x181fcc[_0x1a2347(0x3d9)][_0x1a2347(0x6bf)]);}else{if(_0x181fcc[_0x1a2347(0x3d9)]){if(_0x181fcc[_0x1a2347(0x3d9)][_0x1a2347(0x41b)]===!0x0)return{'message':_0x1a2347(0x651)};if(_0x181fcc[_0x1a2347(0x3d9)]['_id']){let _0x151a74=_0x13b2f4[_0x1a2347(0x823)][_0x1a2347(0x437)](_0x433090=>_0x433090[_0x1a2347(0x6bf)][_0x1a2347(0x689)]()===_0x181fcc['group'][_0x1a2347(0x6bf)]);_0x151a74&&(_0x181fcc[_0x1a2347(0x3d9)]['x']<0x0&&(_0x181fcc['group']['x']=0x0),_0x181fcc[_0x1a2347(0x3d9)]['y']<0x0&&(_0x181fcc[_0x1a2347(0x3d9)]['y']=0x0),Object[_0x1a2347(0x742)](_0x151a74,_0x181fcc[_0x1a2347(0x3d9)]));}else _0x13b2f4['groups'][_0x1a2347(0x78b)](_0x181fcc['group']);}}let _0x55468f=await this['repository'][_0x1a2347(0x5c5)]['updateOne'](_0x13b2f4[_0x1a2347(0x6bf)],_0x13b2f4,this['instance'][_0x1a2347(0x31d)]);if(!_0x55468f)throw new Error(_0x1a2347(0x624));return _0x55468f;}catch(_0x4ccb7d){throw this[_0x1a2347(0x525)][_0x1a2347(0x62b)](this['instanceName']+'\x20('+this[_0x1a2347(0x799)][_0x1a2347(0x31d)]+_0x1a2347(0x7b0)+(_0x4ccb7d instanceof Error?_0x4ccb7d[_0x1a2347(0x50c)]:JSON['stringify'](_0x4ccb7d,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x4ccb7d instanceof Error?_0x4ccb7d[_0x1a2347(0x50c)]:JSON[_0x1a2347(0x613)](_0x4ccb7d,null,0x2)));}}async['editFlowCondition'](_0x403c7a){const _0x555b78=a0_0x18a40e;try{this[_0x555b78(0x525)][_0x555b78(0x4c0)](this[_0x555b78(0x2d7)]+'\x20('+this['instance'][_0x555b78(0x31d)]+_0x555b78(0x37b));let _0x5b4616=await this[_0x555b78(0x34e)][_0x555b78(0x5c5)]['findOne']({'where':{'name':_0x403c7a[_0x555b78(0x317)]}},this[_0x555b78(0x799)]['wuid']);if(!_0x5b4616)throw new Error(_0x555b78(0x389));let _0x1bccca=!0x1;if(_0x403c7a[_0x555b78(0x3be)]?.[_0x555b78(0x4fe)]===!0x0)_0x5b4616[_0x555b78(0x26c)]=_0x5b4616[_0x555b78(0x26c)][_0x555b78(0x598)](_0x32913b=>_0x32913b&&_0x403c7a[_0x555b78(0x3be)]&&_0x32913b['_id']&&_0x403c7a['condition'][_0x555b78(0x6bf)]&&_0x32913b[_0x555b78(0x6bf)][_0x555b78(0x689)]()!==_0x403c7a['condition']['_id'][_0x555b78(0x689)]()),_0x1bccca=!0x0;else{let _0x351773=_0x5b4616['conditions'][_0x555b78(0x437)](_0x46c12d=>_0x46c12d&&_0x403c7a[_0x555b78(0x3be)]&&_0x46c12d[_0x555b78(0x6bf)]&&_0x403c7a[_0x555b78(0x3be)][_0x555b78(0x6bf)]&&_0x46c12d['_id'][_0x555b78(0x689)]()===_0x403c7a[_0x555b78(0x3be)][_0x555b78(0x6bf)][_0x555b78(0x689)]());_0x351773?(_0x1bccca=_0x351773[_0x555b78(0x254)]!==_0x403c7a[_0x555b78(0x3be)][_0x555b78(0x254)],Object[_0x555b78(0x742)](_0x351773,_0x403c7a['condition'])):(_0x5b4616[_0x555b78(0x26c)][_0x555b78(0x78b)](_0x403c7a['condition']),_0x1bccca=!0x0);}if(_0x1bccca){_0x5b4616['conditions'][_0x555b78(0x818)]((_0x222c14,_0x1db73b)=>_0x222c14['order']>_0x1db73b[_0x555b78(0x254)]?0x1:_0x1db73b[_0x555b78(0x254)]>_0x222c14[_0x555b78(0x254)]?-0x1:0x0);for(let _0x5c559f=0x0;_0x5c559f<_0x5b4616[_0x555b78(0x26c)][_0x555b78(0x233)];_0x5c559f++)_0x5b4616[_0x555b78(0x26c)][_0x5c559f][_0x555b78(0x254)]=_0x5c559f+0x1;_0x5b4616[_0x555b78(0x26c)]['length']>0x0&&(_0x5b4616['conditions'][0x0][_0x555b78(0x5bd)]='and');}let _0x146d9d=await this[_0x555b78(0x34e)]['flow'][_0x555b78(0x328)](_0x5b4616[_0x555b78(0x6bf)],_0x5b4616,this[_0x555b78(0x799)][_0x555b78(0x31d)]);if(!_0x146d9d)throw new Error(_0x555b78(0x624));return _0x146d9d;}catch(_0x112314){throw this['logger'][_0x555b78(0x62b)](this[_0x555b78(0x2d7)]+'\x20('+this[_0x555b78(0x799)][_0x555b78(0x31d)]+_0x555b78(0x61a)+(_0x112314 instanceof Error?_0x112314[_0x555b78(0x50c)]:JSON[_0x555b78(0x613)](_0x112314,null,0x2))),new Error('Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+(_0x112314 instanceof Error?_0x112314['message']:JSON['stringify'](_0x112314,null,0x2)));}}async[a0_0x18a40e(0x474)](_0x251263){const _0xf85012=a0_0x18a40e;try{this['logger'][_0xf85012(0x4c0)](this['instanceName']+'\x20('+this[_0xf85012(0x799)][_0xf85012(0x31d)]+'):\x20Editando\x20edio\x20do\x20fluxo...');let _0x189e68=await this[_0xf85012(0x34e)][_0xf85012(0x5c5)][_0xf85012(0x24e)]({'where':{'name':_0x251263['name']}},this[_0xf85012(0x799)][_0xf85012(0x31d)]);if(!_0x189e68)throw new Error(_0xf85012(0x389));let _0x22a7ae=!0x1;if(_0x251263[_0xf85012(0x457)]?.['delete']===!0x0)_0x189e68[_0xf85012(0x3bf)]=_0x189e68[_0xf85012(0x3bf)][_0xf85012(0x598)](_0x394990=>_0x394990&&_0x251263[_0xf85012(0x457)]&&_0x394990[_0xf85012(0x6bf)]&&_0x251263['varedit'][_0xf85012(0x6bf)]&&_0x394990[_0xf85012(0x6bf)]['toString']()!==_0x251263['varedit'][_0xf85012(0x6bf)][_0xf85012(0x689)]()),_0x22a7ae=!0x0;else{let _0x21c17d=_0x189e68[_0xf85012(0x3bf)][_0xf85012(0x437)](_0x4dfc26=>_0x4dfc26&&_0x251263[_0xf85012(0x457)]&&_0x4dfc26['_id']&&_0x251263[_0xf85012(0x457)]['_id']&&_0x4dfc26[_0xf85012(0x6bf)][_0xf85012(0x689)]()===_0x251263['varedit'][_0xf85012(0x6bf)][_0xf85012(0x689)]());_0x21c17d?(_0x22a7ae=_0x21c17d[_0xf85012(0x254)]!==_0x251263[_0xf85012(0x457)]['order'],Object[_0xf85012(0x742)](_0x21c17d,_0x251263[_0xf85012(0x457)])):(_0x189e68['varedits'][_0xf85012(0x78b)](_0x251263[_0xf85012(0x457)]),_0x22a7ae=!0x0);}if(_0x22a7ae){_0x189e68[_0xf85012(0x3bf)][_0xf85012(0x818)]((_0x1408d9,_0x22af1a)=>_0x1408d9['order']>_0x22af1a['order']?0x1:_0x22af1a[_0xf85012(0x254)]>_0x1408d9[_0xf85012(0x254)]?-0x1:0x0);for(let _0x51ef3f=0x0;_0x51ef3f<_0x189e68[_0xf85012(0x3bf)][_0xf85012(0x233)];_0x51ef3f++)_0x189e68[_0xf85012(0x3bf)][_0x51ef3f][_0xf85012(0x254)]=_0x51ef3f+0x1;}let _0xaf9c18=await this[_0xf85012(0x34e)][_0xf85012(0x5c5)][_0xf85012(0x328)](_0x189e68['_id'],_0x189e68,this[_0xf85012(0x799)]['wuid']);if(!_0xaf9c18)throw new Error(_0xf85012(0x624));return _0xaf9c18;}catch(_0x2c881e){throw this[_0xf85012(0x525)][_0xf85012(0x62b)](this['instanceName']+'\x20('+this[_0xf85012(0x799)]['wuid']+_0xf85012(0x61a)+(_0x2c881e instanceof Error?_0x2c881e[_0xf85012(0x50c)]:JSON[_0xf85012(0x613)](_0x2c881e,null,0x2))),new m(_0xf85012(0x386)+(_0x2c881e instanceof Error?_0x2c881e[_0xf85012(0x50c)]:JSON[_0xf85012(0x613)](_0x2c881e,null,0x2)));}}async[a0_0x18a40e(0x6e2)](_0x254877){const _0x4f7667=a0_0x18a40e;try{this[_0x4f7667(0x525)][_0x4f7667(0x4c0)](this[_0x4f7667(0x2d7)]+'\x20('+this[_0x4f7667(0x799)][_0x4f7667(0x31d)]+_0x4f7667(0x59b));let _0x21d510=await this[_0x4f7667(0x34e)][_0x4f7667(0x5c5)][_0x4f7667(0x24e)]({'where':{'name':_0x254877[_0x4f7667(0x317)]}},this[_0x4f7667(0x799)]['wuid']);if(!_0x21d510)throw new Error(_0x4f7667(0x389));_0x254877[_0x4f7667(0x7be)]['name']=_0x254877[_0x4f7667(0x7be)][_0x4f7667(0x317)][_0x4f7667(0x75f)](),_0x254877['variable']['name']['startsWith']('_')&&(_0x254877['variable'][_0x4f7667(0x317)]=_0x254877[_0x4f7667(0x7be)][_0x4f7667(0x317)]['substring'](0x1)),_0x254877[_0x4f7667(0x7be)][_0x4f7667(0x317)]=_0x254877[_0x4f7667(0x7be)][_0x4f7667(0x317)]['trim']();let _0x26e766=_0x21d510[_0x4f7667(0x6ab)][_0x4f7667(0x437)](_0x203fc1=>_0x203fc1['name']===_0x254877[_0x4f7667(0x7be)][_0x4f7667(0x317)]);if(_0x26e766?.['leadInfo']===!0x0)throw new Error('No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x254877[_0x4f7667(0x7be)]?.[_0x4f7667(0x4fe)]===!0x0){if(!_0x26e766)return{'message':_0x4f7667(0x1ef)};_0x21d510['variables']=_0x21d510[_0x4f7667(0x6ab)][_0x4f7667(0x598)](_0x1eaed6=>_0x1eaed6[_0x4f7667(0x317)]!==_0x254877['variable'][_0x4f7667(0x317)]);}else _0x26e766?Object['assign'](_0x26e766,_0x254877[_0x4f7667(0x7be)]):_0x21d510[_0x4f7667(0x6ab)]['push'](_0x254877[_0x4f7667(0x7be)]);let _0x3fe0ca=await this[_0x4f7667(0x34e)]['flow'][_0x4f7667(0x328)](_0x21d510[_0x4f7667(0x6bf)],_0x21d510,this['instance'][_0x4f7667(0x31d)]);if(!_0x3fe0ca)throw new Error(_0x4f7667(0x624));return _0x3fe0ca;}catch(_0x476797){throw this[_0x4f7667(0x525)][_0x4f7667(0x62b)](this['instanceName']+'\x20('+this['instance'][_0x4f7667(0x31d)]+'):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20'+(_0x476797 instanceof Error?_0x476797[_0x4f7667(0x50c)]:JSON['stringify'](_0x476797,null,0x2))),new m(_0x4f7667(0x729)+(_0x476797 instanceof Error?_0x476797[_0x4f7667(0x50c)]:JSON[_0x4f7667(0x613)](_0x476797,null,0x2)));}}async[a0_0x18a40e(0x734)](_0x17731e){const _0x2c38d8=a0_0x18a40e;let _0x53c6b5=null;try{if(!this[_0x2c38d8(0x5a1)]?.[_0x2c38d8(0x230)][_0x2c38d8(0x717)])throw new m(_0x2c38d8(0x252));this[_0x2c38d8(0x525)][_0x2c38d8(0x4c0)](this[_0x2c38d8(0x2d7)]+'\x20('+this['instance'][_0x2c38d8(0x31d)]+_0x2c38d8(0x67e));let _0x1189ef=(await this[_0x2c38d8(0x73a)]({'numbers':[_0x17731e[_0x2c38d8(0x65f)]]}))[0x0];if(!_0x1189ef[_0x2c38d8(0x427)]&&!(0x0,y[_0x2c38d8(0x2bb)])(_0x1189ef[_0x2c38d8(0x504)])&&!_0x1189ef['jid'][_0x2c38d8(0x3a7)]('@broadcast'))throw _0x53c6b5=JSON['stringify'](_0x1189ef,null,0x2),new m(_0x1189ef);let _0x403ff5=await this[_0x2c38d8(0x34e)][_0x2c38d8(0x5c5)][_0x2c38d8(0x24e)]({'where':{'name':_0x17731e[_0x2c38d8(0x317)]}},this['instance'][_0x2c38d8(0x31d)]);if(!_0x403ff5)return this[_0x2c38d8(0x525)][_0x2c38d8(0x62b)](this[_0x2c38d8(0x2d7)]+'\x20('+this[_0x2c38d8(0x799)][_0x2c38d8(0x31d)]+_0x2c38d8(0x231)),{'message':_0x2c38d8(0x389)};let _0x4211b2=await this['createConversationforStartFlow'](_0x403ff5,_0x1189ef[_0x2c38d8(0x504)],_0x17731e[_0x2c38d8(0x7fe)]);if(_0x4211b2){this['logger']['verbose'](this[_0x2c38d8(0x2d7)]+'\x20('+this['instance']['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x50cff2=await this[_0x2c38d8(0x543)](_0x4211b2);return _0x50cff2&&await this[_0x2c38d8(0x791)](_0x4211b2,_0x50cff2),{'message':_0x2c38d8(0x6f3)+_0x17731e[_0x2c38d8(0x65f)]};}}catch(_0x2122fd){if(this[_0x2c38d8(0x525)]['error'](this[_0x2c38d8(0x2d7)]+'\x20('+this[_0x2c38d8(0x799)][_0x2c38d8(0x31d)]+_0x2c38d8(0x3de)+(_0x2122fd instanceof Error?_0x2122fd[_0x2c38d8(0x50c)]:JSON[_0x2c38d8(0x613)](_0x2122fd,null,0x2))),_0x53c6b5=_0x2122fd instanceof Error?_0x2122fd['message']:JSON[_0x2c38d8(0x613)](_0x2122fd,null,0x2),_0x53c6b5)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x53c6b5);}}async[a0_0x18a40e(0x3c0)](_0x1e7c3b){const _0x2daa0c=a0_0x18a40e;try{let _0x299453={'remoteJid':_0x1e7c3b,'status':'open'},_0x51d2f7={'status':_0x2daa0c(0x1d5)},_0x463bbf=await this[_0x2daa0c(0x34e)][_0x2daa0c(0x576)][_0x2daa0c(0x351)](_0x299453,_0x51d2f7,this[_0x2daa0c(0x799)][_0x2daa0c(0x31d)]);return this[_0x2daa0c(0x525)][_0x2daa0c(0x4c0)](this[_0x2daa0c(0x2d7)]+'\x20('+this[_0x2daa0c(0x799)][_0x2daa0c(0x31d)]+_0x2daa0c(0x238)),_0x463bbf;}catch(_0x45a594){throw this[_0x2daa0c(0x525)][_0x2daa0c(0x62b)](this[_0x2daa0c(0x2d7)]+'\x20('+this[_0x2daa0c(0x799)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x45a594[_0x2daa0c(0x50c)]),_0x45a594;}}async[a0_0x18a40e(0x1b0)](_0x5a215d,_0xc1c112,_0xc8a39d){const _0x32bbe0=a0_0x18a40e;this[_0x32bbe0(0x525)][_0x32bbe0(0x4c0)](this[_0x32bbe0(0x2d7)]+'\x20('+this['instance']['wuid']+_0x32bbe0(0x5ad)),await this[_0x32bbe0(0x3c0)](_0xc1c112);try{let _0xbe1393=require('mongodb')[_0x32bbe0(0x637)],_0xd70b20=Date[_0x32bbe0(0x70e)](),_0x568ad1=_0x32bbe0(0x4be),_0x5eb36b={},_0x53659e={},_0x27b9db={..._0x5a215d,'chatLog':null},_0x8a0a8c=await this['variablesToObject'](_0x27b9db[_0x32bbe0(0x6ab)]),_0x4c6b2f=await this[_0x32bbe0(0x3c1)](_0xc1c112),_0x838120={..._0x8a0a8c,..._0x4c6b2f,'_remoteJid':_0xc1c112},_0x399414={'lastReceivedMessage':_0x5eb36b,'lastSendMessage':_0x53659e,'lastBlockId':_0x568ad1,'lastCondition':!0x0,'realVariables':_0x838120};_0x27b9db[_0x32bbe0(0x1b2)]=_0x399414,_0x27b9db[_0x32bbe0(0x1b2)][_0x32bbe0(0x515)]={..._0x838120,..._0xc8a39d},delete _0x27b9db['_id'],_0x27b9db[_0x32bbe0(0x6bf)]=new _0xbe1393(),_0x27b9db[_0x32bbe0(0x63d)]=_0xd70b20,_0x27b9db[_0x32bbe0(0x6d8)]=_0x32bbe0(0x2de),_0x27b9db['remoteJid']=_0xc1c112;let _0x35daf3=await this['repository'][_0x32bbe0(0x576)][_0x32bbe0(0x328)](_0x27b9db[_0x32bbe0(0x6bf)],_0x27b9db,this[_0x32bbe0(0x799)][_0x32bbe0(0x31d)]);return this[_0x32bbe0(0x525)]['verbose'](this[_0x32bbe0(0x2d7)]+'\x20('+this[_0x32bbe0(0x799)][_0x32bbe0(0x31d)]+_0x32bbe0(0x4d1)),_0x35daf3?_0x27b9db:null;}catch(_0x16f846){throw this['logger'][_0x32bbe0(0x62b)](this[_0x32bbe0(0x2d7)]+'\x20('+this[_0x32bbe0(0x799)][_0x32bbe0(0x31d)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x16f846 instanceof Error?_0x16f846[_0x32bbe0(0x50c)]:JSON[_0x32bbe0(0x613)](_0x16f846,null,0x2))),new m(_0x16f846[_0x32bbe0(0x50c)]);}}async[a0_0x18a40e(0x7c8)](_0x487688){const _0x233d23=a0_0x18a40e;try{this[_0x233d23(0x525)][_0x233d23(0x4c0)](this[_0x233d23(0x2d7)]+'\x20('+this['instance'][_0x233d23(0x31d)]+_0x233d23(0x70b)),this[_0x233d23(0x525)][_0x233d23(0x4c0)](this[_0x233d23(0x2d7)]+'\x20('+this[_0x233d23(0x799)][_0x233d23(0x31d)]+'):\x20Query\x20params:\x20'+_0x487688);let _0x253f7b={'where':{'_id':_0x487688}};return await this['repository'][_0x233d23(0x576)]['findOne'](_0x253f7b,this[_0x233d23(0x799)]['wuid']);}catch(_0x2a901e){throw this[_0x233d23(0x525)][_0x233d23(0x62b)](this[_0x233d23(0x2d7)]+'\x20('+this[_0x233d23(0x799)]['wuid']+_0x233d23(0x829)+(_0x2a901e instanceof Error?_0x2a901e[_0x233d23(0x50c)]:JSON[_0x233d23(0x613)](_0x2a901e,null,0x2))),new m(_0x233d23(0x74f)+_0x2a901e['message']);}}async['fetchConversation'](_0x29f2f5){const _0x3e6986=a0_0x18a40e;try{return this[_0x3e6986(0x525)][_0x3e6986(0x4c0)](this[_0x3e6986(0x2d7)]+'\x20('+this[_0x3e6986(0x799)][_0x3e6986(0x31d)]+_0x3e6986(0x584)),await this[_0x3e6986(0x34e)][_0x3e6986(0x576)][_0x3e6986(0x437)](_0x29f2f5,this[_0x3e6986(0x799)][_0x3e6986(0x31d)]);}catch(_0x4cf80f){throw this[_0x3e6986(0x525)]['error'](this[_0x3e6986(0x2d7)]+'\x20('+this[_0x3e6986(0x799)][_0x3e6986(0x31d)]+_0x3e6986(0x693)+(_0x4cf80f instanceof Error?_0x4cf80f[_0x3e6986(0x50c)]:JSON[_0x3e6986(0x613)](_0x4cf80f,null,0x2))),new m(_0x3e6986(0x591)+_0x4cf80f[_0x3e6986(0x50c)]);}}async[a0_0x18a40e(0x5ac)](_0x3649f2){const _0xab1813=a0_0x18a40e;try{return this[_0xab1813(0x525)][_0xab1813(0x4c0)](this[_0xab1813(0x2d7)]+'\x20('+this[_0xab1813(0x799)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0xab1813(0x525)][_0xab1813(0x4c0)](this['instanceName']+'\x20('+this['instance'][_0xab1813(0x31d)]+'):\x20Query\x20params:'+_0x3649f2),(await this[_0xab1813(0x34e)][_0xab1813(0x576)][_0xab1813(0x82e)]({'where':{'_id':_0x3649f2}},this[_0xab1813(0x799)][_0xab1813(0x31d)]))['deletedCount']===0x0?{'message':_0xab1813(0x5c9)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x424630){throw this[_0xab1813(0x525)]['error'](this[_0xab1813(0x2d7)]+'\x20('+this[_0xab1813(0x799)][_0xab1813(0x31d)]+_0xab1813(0x3b3)+(_0x424630 instanceof Error?_0x424630[_0xab1813(0x50c)]:JSON[_0xab1813(0x613)](_0x424630,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x424630[_0xab1813(0x50c)]);}}async[a0_0x18a40e(0x6d2)](_0x3eaece){const _0x3ebee5=a0_0x18a40e;try{let {_id:_0x11f763,chatLog:_0x5c1fcd,status:_0x11f0b5}=_0x3eaece;if(!_0x11f763)return{'message':'O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.'};let _0x1bb947={};if(_0x11f0b5!==void 0x0&&(_0x1bb947[_0x3ebee5(0x6d8)]=_0x11f0b5),Object[_0x3ebee5(0x3f3)](_0x1bb947)['length']===0x0)return{'message':_0x3ebee5(0x638)};let _0x3aedc5=await this[_0x3ebee5(0x34e)][_0x3ebee5(0x576)][_0x3ebee5(0x328)](_0x11f763,_0x1bb947,this[_0x3ebee5(0x799)][_0x3ebee5(0x31d)]);return _0x3aedc5||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.'};}catch(_0x502405){throw this[_0x3ebee5(0x525)][_0x3ebee5(0x62b)](this[_0x3ebee5(0x2d7)]+'\x20('+this[_0x3ebee5(0x799)][_0x3ebee5(0x31d)]+_0x3ebee5(0x396)+(_0x502405 instanceof Error?_0x502405[_0x3ebee5(0x50c)]:JSON[_0x3ebee5(0x613)](_0x502405,null,0x2))),new m(_0x3ebee5(0x65b)+_0x502405['message']);}}async[a0_0x18a40e(0x26b)](_0x5ae0c8){const _0x213a24=a0_0x18a40e;let _0x466dc0=await this[_0x213a24(0x34e)][_0x213a24(0x60e)][_0x213a24(0x24e)]({'where':{'_id':_0x5ae0c8[_0x213a24(0x6bf)]}},this[_0x213a24(0x799)][_0x213a24(0x31d)]);if(!_0x466dc0)throw new m(_0x213a24(0x81d));console['log'](_0x5ae0c8);try{_0x5ae0c8[_0x213a24(0x6bf)]=this[_0x213a24(0x571)](_0x5ae0c8['_id']);let {_id:_0x311378,leadInfo:_0x46da15}=_0x5ae0c8;if(!_0x311378)throw new Error(_0x213a24(0x6e5));let _0x2c6497=(_0x1daeeb,_0x21a0e4,_0x2282b2)=>{const _0x376fac=_0x213a24;_0x1daeeb&&_0x2282b2[_0x376fac(0x45f)](_0x26b259=>{const _0x2b3fd9=_0x376fac;_0x1daeeb[_0x26b259]!==void 0x0&&(_0x21a0e4[_0x2b3fd9(0x7f4)+_0x26b259]=_0x1daeeb[_0x26b259]);});},_0x413c35={};if(_0x46da15&&(_0x2c6497(_0x46da15,_0x413c35,[_0x213a24(0x1c5),_0x213a24(0x6f9),_0x213a24(0x320),_0x213a24(0x5c2),_0x213a24(0x6d8),'notas',_0x213a24(0x1c1),_0x213a24(0x220),_0x213a24(0x6ed),_0x213a24(0x1d8)]),Array[_0x213a24(0x213)](_0x46da15['customFields'])&&(_0x413c35['leadInfo.customFields']=_0x46da15[_0x213a24(0x43e)][_0x213a24(0x783)](_0x5b3b20=>({'_id':_0x5b3b20[_0x213a24(0x6bf)],'value':_0x5b3b20['value']}))),_0x5ae0c8[_0x213a24(0x1f9)][_0x213a24(0x1d8)]!==void 0x0)){let _0x5e8e90=await this[_0x213a24(0x34e)][_0x213a24(0x2fd)]['find']({'where':{}},this['instance'][_0x213a24(0x31d)]),_0xbb1322=new Set(_0x5ae0c8[_0x213a24(0x1f9)][_0x213a24(0x1d8)]||[]),_0x1ca607=new Set(_0x5ae0c8[_0x213a24(0x1f9)][_0x213a24(0x1d8)]),_0x265e17=new Set(_0x5e8e90[_0x213a24(0x783)](_0x576f3c=>_0x576f3c[_0x213a24(0x6bf)])),_0x285fd4=[..._0x1ca607][_0x213a24(0x598)](_0x3dc530=>!_0xbb1322[_0x213a24(0x548)](_0x3dc530)&&_0x265e17[_0x213a24(0x548)](_0x3dc530)),_0x519949=[..._0xbb1322][_0x213a24(0x598)](_0x2e5112=>!_0x1ca607[_0x213a24(0x548)](_0x2e5112));if(_0x413c35[_0x213a24(0x48d)]=[..._0xbb1322],_0x466dc0&&!_0x466dc0[_0x213a24(0x32b)]){for(let _0x23b61a of _0x285fd4)await this['AddChatLabel'](_0x23b61a,_0x5ae0c8['_id']),_0xbb1322['add'](_0x23b61a);for(let _0x165aa0 of _0x519949)await this['RemoveChatLabel'](_0x165aa0,_0x5ae0c8['_id']),_0xbb1322['delete'](_0x165aa0);}}if(_0x5ae0c8[_0x213a24(0x54d)]!==void 0x0&&(_0x413c35[_0x213a24(0x54d)]=Number(_0x5ae0c8[_0x213a24(0x54d)])),Object[_0x213a24(0x3f3)](_0x413c35)[_0x213a24(0x233)]===0x0)throw new Error('Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.');let _0x5cc06f=await this[_0x213a24(0x34e)][_0x213a24(0x60e)][_0x213a24(0x328)]({'where':{'_id':_0x5ae0c8['_id']}},_0x413c35,this[_0x213a24(0x799)]['wuid']);return _0x5cc06f&&J(this[_0x213a24(0x2d7)],_0x213a24(0x6f8),{'chat':_0x5cc06f}),_0x5cc06f?(this[_0x213a24(0x525)][_0x213a24(0x4c0)](this['instanceName']+'\x20('+this[_0x213a24(0x799)]['wuid']+_0x213a24(0x26f)+JSON[_0x213a24(0x613)](_0x5cc06f,null,0x2)),_0x5cc06f):{'message':_0x213a24(0x2d6)};}catch(_0x130c51){throw this[_0x213a24(0x525)][_0x213a24(0x62b)](this[_0x213a24(0x2d7)]+'\x20('+this['instance']['wuid']+_0x213a24(0x66a)+(_0x130c51 instanceof Error?_0x130c51[_0x213a24(0x50c)]:JSON[_0x213a24(0x613)](_0x130c51,null,0x2))),new m(_0x213a24(0x48b)+_0x130c51[_0x213a24(0x50c)]);}}async[a0_0x18a40e(0x5aa)](_0x165019,_0x15ed38){const _0x51da6d=a0_0x18a40e;try{await this['client']['addChatLabel'](_0x15ed38,_0x165019),console['log'](_0x51da6d(0x4f8)+_0x165019+_0x51da6d(0x4bc)+_0x15ed38+_0x51da6d(0x6d3));}catch(_0x41e00e){console[_0x51da6d(0x62b)](_0x51da6d(0x44e)+_0x165019+'\x20ao\x20chat\x20'+_0x15ed38+':',_0x41e00e);}}async['RemoveChatLabel'](_0x35e943,_0x27fe70){const _0x5949d8=a0_0x18a40e;try{await this[_0x5949d8(0x5db)][_0x5949d8(0x1dd)](_0x27fe70,_0x35e943),console['log']('Label\x20'+_0x35e943+_0x5949d8(0x4cb)+_0x27fe70+_0x5949d8(0x6d3));}catch(_0x1b36d7){console[_0x5949d8(0x62b)]('Erro\x20ao\x20remover\x20label\x20'+_0x35e943+_0x5949d8(0x21d)+_0x27fe70+':',_0x1b36d7);}}async[a0_0x18a40e(0x7c1)](_0x43271a){const _0x1d684b=a0_0x18a40e;try{let _0x38d3df=await this[_0x1d684b(0x34e)][_0x1d684b(0x251)]['findOrCreate'](this[_0x1d684b(0x799)][_0x1d684b(0x31d)]),_0x27717b=_0x43271a[_0x1d684b(0x6bf)]?_0x38d3df[_0x1d684b(0x659)][_0x1d684b(0x769)](_0x3fd3c6=>_0x3fd3c6[_0x1d684b(0x6bf)]===_0x43271a[_0x1d684b(0x6bf)]):-0x1;if(_0x43271a['delete']&&_0x27717b>-0x1)_0x38d3df[_0x1d684b(0x659)][_0x1d684b(0x3f0)](_0x27717b,0x1);else{if(_0x27717b>-0x1){let _0x5cde45=_0x38d3df[_0x1d684b(0x659)][_0x27717b];_0x43271a[_0x1d684b(0x73b)]&&(_0x5cde45[_0x1d684b(0x73b)]=_0x43271a[_0x1d684b(0x73b)]),_0x43271a[_0x1d684b(0x317)]&&(_0x5cde45[_0x1d684b(0x317)]=_0x43271a[_0x1d684b(0x317)]),_0x43271a[_0x1d684b(0x320)]&&(_0x5cde45[_0x1d684b(0x320)]=_0x43271a[_0x1d684b(0x320)]),_0x43271a[_0x1d684b(0x7f9)]&&(_0x5cde45['role']=_0x43271a[_0x1d684b(0x7f9)]);}else _0x38d3df[_0x1d684b(0x659)][_0x1d684b(0x78b)]({'_id':_0x43271a[_0x1d684b(0x6bf)]||new ie[(_0x1d684b(0x41b))][(_0x1d684b(0x235))][(_0x1d684b(0x637))]()[_0x1d684b(0x689)](),'fone':_0x43271a[_0x1d684b(0x73b)],'name':_0x43271a[_0x1d684b(0x317)],'email':_0x43271a[_0x1d684b(0x320)],'role':_0x43271a[_0x1d684b(0x7f9)]});}let _0x46b3ca={'agents':_0x38d3df[_0x1d684b(0x659)]},_0x4c6a79=await this[_0x1d684b(0x34e)][_0x1d684b(0x251)][_0x1d684b(0x4f5)](_0x46b3ca,this[_0x1d684b(0x799)][_0x1d684b(0x31d)]);return this['AutomateSystem']=_0x4c6a79,this[_0x1d684b(0x525)][_0x1d684b(0x4c0)](this[_0x1d684b(0x2d7)]+'\x20('+this[_0x1d684b(0x799)][_0x1d684b(0x31d)]+'):\x20alterando\x20this.AutomateSystem'),this['logger']['verbose'](this[_0x1d684b(0x2d7)]+'\x20('+this['instance'][_0x1d684b(0x31d)]+_0x1d684b(0x26f)+this[_0x1d684b(0x5a1)]),_0x4c6a79;}catch(_0x4c24c8){throw this[_0x1d684b(0x525)][_0x1d684b(0x62b)](this[_0x1d684b(0x2d7)]+'\x20('+this[_0x1d684b(0x799)]['wuid']+_0x1d684b(0x586)+(_0x4c24c8 instanceof Error?_0x4c24c8[_0x1d684b(0x50c)]:JSON[_0x1d684b(0x613)](_0x4c24c8,null,0x2))),new m(_0x1d684b(0x415)+_0x4c24c8[_0x1d684b(0x50c)]);}}async[a0_0x18a40e(0x4f7)](_0x10177e){const _0x2bd27c=a0_0x18a40e;try{let _0x2263ff=await this[_0x2bd27c(0x34e)]['automateSystem'][_0x2bd27c(0x3b6)](this['instance']['wuid']),_0x245005=_0x10177e[_0x2bd27c(0x6bf)]?_0x2263ff[_0x2bd27c(0x43e)][_0x2bd27c(0x769)](_0x5f5c9b=>_0x5f5c9b[_0x2bd27c(0x6bf)]===_0x10177e[_0x2bd27c(0x6bf)]):-0x1,_0x8696cb=!0x1,_0x354c00=_0x2263ff[_0x2bd27c(0x43e)][_0x2bd27c(0x639)](_0x493020=>_0x493020['order']===_0x10177e[_0x2bd27c(0x254)]);if(_0x10177e[_0x2bd27c(0x4fe)]&&_0x245005>-0x1)_0x2263ff[_0x2bd27c(0x43e)]['splice'](_0x245005,0x1),_0x8696cb=!0x0;else{if(_0x245005>-0x1){if(_0x2263ff['customFields'][_0x2bd27c(0x639)](_0x546dc0=>_0x546dc0[_0x2bd27c(0x317)]===_0x10177e[_0x2bd27c(0x317)]&&_0x546dc0[_0x2bd27c(0x6bf)]!==_0x10177e[_0x2bd27c(0x6bf)]))throw new Error(_0x2bd27c(0x5dd));let _0xe438fd=_0x2263ff[_0x2bd27c(0x43e)][_0x245005];_0x10177e['order']&&(_0x354c00||!Number['isInteger'](_0x10177e[_0x2bd27c(0x254)]))&&(_0xe438fd[_0x2bd27c(0x254)]=_0x10177e[_0x2bd27c(0x254)],_0x8696cb=!0x0),_0x10177e[_0x2bd27c(0x317)]&&(_0xe438fd[_0x2bd27c(0x317)]=_0x10177e['name']);}else{if(_0x2263ff[_0x2bd27c(0x43e)][_0x2bd27c(0x639)](_0x23ee34=>_0x23ee34[_0x2bd27c(0x317)]===_0x10177e[_0x2bd27c(0x317)]&&_0x23ee34[_0x2bd27c(0x6bf)]!==_0x10177e[_0x2bd27c(0x6bf)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');_0x2263ff['customFields']['push']({'_id':_0x10177e['_id']||new ie[(_0x2bd27c(0x41b))][(_0x2bd27c(0x235))]['ObjectId']()[_0x2bd27c(0x689)](),'order':_0x10177e['order'],'name':_0x10177e[_0x2bd27c(0x317)]}),_0x8696cb=!0x0;}}if(_0x8696cb){_0x2263ff['customFields'][_0x2bd27c(0x818)]((_0x202fbf,_0x422f29)=>_0x202fbf['order']>_0x422f29[_0x2bd27c(0x254)]?0x1:_0x422f29[_0x2bd27c(0x254)]>_0x202fbf['order']?-0x1:0x0);for(let _0x13a821=0x0;_0x13a821<_0x2263ff[_0x2bd27c(0x43e)]['length'];_0x13a821++)_0x2263ff['customFields'][_0x13a821]['order']=_0x13a821+0x1;}let _0x1e999b=await this[_0x2bd27c(0x34e)][_0x2bd27c(0x251)][_0x2bd27c(0x4f5)](_0x2263ff,this['instance'][_0x2bd27c(0x31d)]);return this[_0x2bd27c(0x5a1)]=_0x1e999b,this['logger'][_0x2bd27c(0x4c0)](this[_0x2bd27c(0x2d7)]+'\x20('+this[_0x2bd27c(0x799)][_0x2bd27c(0x31d)]+_0x2bd27c(0x75c)),this[_0x2bd27c(0x525)][_0x2bd27c(0x4c0)](this['instanceName']+'\x20('+this[_0x2bd27c(0x799)][_0x2bd27c(0x31d)]+_0x2bd27c(0x26f)+this[_0x2bd27c(0x5a1)]),_0x1e999b;}catch(_0xa2b45){throw this[_0x2bd27c(0x525)][_0x2bd27c(0x62b)](this[_0x2bd27c(0x2d7)]+'\x20('+this[_0x2bd27c(0x799)]['wuid']+_0x2bd27c(0x789)+(_0xa2b45 instanceof Error?_0xa2b45[_0x2bd27c(0x50c)]:JSON[_0x2bd27c(0x613)](_0xa2b45,null,0x2))),new m(_0x2bd27c(0x75b)+_0xa2b45['message']);}}async[a0_0x18a40e(0x322)](_0x5b9c93){const _0x2c162a=a0_0x18a40e;try{let _0xf47aed=await this[_0x2c162a(0x34e)][_0x2c162a(0x251)][_0x2c162a(0x3b6)](this['instance'][_0x2c162a(0x31d)]);if(!_0xf47aed)throw new Error(_0x2c162a(0x657));let _0x75a631={'_id':_0xf47aed[_0x2c162a(0x6bf)],'flowConfig':{'enabled':_0x5b9c93[_0x2c162a(0x717)]??_0xf47aed['flowConfig'][_0x2c162a(0x717)],'ignoreGroups':_0x5b9c93[_0x2c162a(0x775)]??_0xf47aed[_0x2c162a(0x230)][_0x2c162a(0x775)],'prefixCommand':_0x5b9c93[_0x2c162a(0x661)]??_0xf47aed[_0x2c162a(0x230)][_0x2c162a(0x661)],'stopConversation':_0x5b9c93[_0x2c162a(0x573)]??_0xf47aed[_0x2c162a(0x230)][_0x2c162a(0x573)],'stopMinutes':_0x5b9c93[_0x2c162a(0x82a)]??_0xf47aed[_0x2c162a(0x230)][_0x2c162a(0x82a)],'stopWhenYouSendMsg':_0x5b9c93[_0x2c162a(0x618)]??_0xf47aed['flowConfig'][_0x2c162a(0x618)]}},_0x144434=await this[_0x2c162a(0x34e)]['automateSystem'][_0x2c162a(0x4f5)](_0x75a631,this[_0x2c162a(0x799)][_0x2c162a(0x31d)]);return this[_0x2c162a(0x5a1)]=_0x144434,this[_0x2c162a(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x2c162a(0x799)][_0x2c162a(0x31d)]+_0x2c162a(0x6e1)),this[_0x2c162a(0x525)][_0x2c162a(0x4c0)](this[_0x2c162a(0x2d7)]+'\x20('+this[_0x2c162a(0x799)][_0x2c162a(0x31d)]+_0x2c162a(0x26f)+this[_0x2c162a(0x5a1)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x144434;}catch(_0x2c1f60){throw this['logger'][_0x2c162a(0x62b)](this['instanceName']+'\x20('+this['instance'][_0x2c162a(0x31d)]+_0x2c162a(0x2b3)+(_0x2c1f60 instanceof Error?_0x2c1f60[_0x2c162a(0x50c)]:JSON[_0x2c162a(0x613)](_0x2c1f60,null,0x2))),new m(_0x2c162a(0x6c9)+_0x2c1f60[_0x2c162a(0x50c)]);}}async[a0_0x18a40e(0x526)](){const _0x3eb3bb=a0_0x18a40e;try{let _0x2db4a7=await this['repository'][_0x3eb3bb(0x251)]['findOrCreate'](this[_0x3eb3bb(0x799)][_0x3eb3bb(0x31d)]);return this[_0x3eb3bb(0x5a1)]=_0x2db4a7,this[_0x3eb3bb(0x525)]['verbose'](this[_0x3eb3bb(0x2d7)]+'\x20('+this[_0x3eb3bb(0x799)][_0x3eb3bb(0x31d)]+_0x3eb3bb(0x572)),this[_0x3eb3bb(0x525)][_0x3eb3bb(0x4c0)](this[_0x3eb3bb(0x5a1)]),_0x2db4a7;}catch(_0xcc4b4b){throw this[_0x3eb3bb(0x525)][_0x3eb3bb(0x62b)](this[_0x3eb3bb(0x2d7)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0xcc4b4b instanceof Error?_0xcc4b4b[_0x3eb3bb(0x50c)]:JSON[_0x3eb3bb(0x613)](_0xcc4b4b,null,0x2))),new m(_0x3eb3bb(0x696)+_0xcc4b4b[_0x3eb3bb(0x50c)]);}}async['setRestartTimer'](){const _0x50a254=a0_0x18a40e;this['timerId']&&clearTimeout(this[_0x50a254(0x7ad)]),this['timerId']=setTimeout(()=>{const _0x18d2de=_0x50a254;this[_0x18d2de(0x53f)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x36936e=a0_0x18a40e;Date[_0x36936e(0x70e)]()-this[_0x36936e(0x660)]>=0x1d4c0&&(this['logger'][_0x36936e(0x4c0)](this['instanceName']+'\x20('+this[_0x36936e(0x799)]['wuid']+_0x36936e(0x24c)),this[_0x36936e(0x2d2)]=null,this['lastSend']=0x0,this[_0x36936e(0x7ec)]=0x0,await this[_0x36936e(0x7bb)]());}async[a0_0x18a40e(0x7bb)](){const _0x2100a8=a0_0x18a40e;let _0x427385=()=>{const _0x50ec27=a0_0x26bc;this[_0x50ec27(0x525)]['verbose'](this[_0x50ec27(0x2d7)]+'\x20('+this['instance'][_0x50ec27(0x31d)]+_0x50ec27(0x2dc)+this[_0x50ec27(0x2d2)]+_0x50ec27(0x498));},_0x4457fd=async()=>{const _0x130b49=a0_0x26bc;this[_0x130b49(0x525)][_0x130b49(0x4c0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x130b49(0x376));let _0x17a964=Date[_0x130b49(0x70e)]()-0xc*0x3c*0x3c*0x3e8,_0x28b21d={'where':{'status':{'$in':[_0x130b49(0x6e6),_0x130b49(0x461)]},'$or':[{'when':{'$lte':Date[_0x130b49(0x70e)](),'$gte':_0x17a964}},{'when':0x0}]}};return await this[_0x130b49(0x34e)]['scheduleMessage'][_0x130b49(0x437)](_0x28b21d,this[_0x130b49(0x799)][_0x130b49(0x31d)]);},_0x351f0d=async _0x32b269=>{const _0x5c0d01=a0_0x26bc;for(let _0x137af2 of _0x32b269){let _0x174267={'_id':_0x137af2['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5c0d01(0x70e)]()-0x1770}}]},_0x46bbbb={'startSend':Date[_0x5c0d01(0x70e)]()};if(!await this[_0x5c0d01(0x34e)][_0x5c0d01(0x64b)][_0x5c0d01(0x328)](_0x174267,_0x46bbbb,this[_0x5c0d01(0x799)]['wuid']))return;if(!this[_0x5c0d01(0x67a)]){this['logger']['verbose'](this[_0x5c0d01(0x2d7)]+'\x20('+this['instance'][_0x5c0d01(0x31d)]+_0x5c0d01(0x6cf));break;}if(_0x137af2[_0x5c0d01(0x794)]===_0x5c0d01(0x5c5)&&!this[_0x5c0d01(0x5a1)]?.[_0x5c0d01(0x230)]['enabled']){this[_0x5c0d01(0x525)][_0x5c0d01(0x62b)](this['instanceName']+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x137af2[_0x5c0d01(0x36c)]||_0x137af2['remoteJidsRemaining'][_0x5c0d01(0x233)]===0x0)&&(_0x137af2=await this[_0x5c0d01(0x34e)][_0x5c0d01(0x64b)]['updateOneById'](_0x137af2[_0x5c0d01(0x6bf)],{'status':_0x5c0d01(0x461),'remoteJidsRemaining':[..._0x137af2[_0x5c0d01(0x414)]]},this['instance'][_0x5c0d01(0x31d)]));for(let _0x53ea1c of _0x137af2[_0x5c0d01(0x36c)]){if(await this[_0x5c0d01(0x3e9)](),this[_0x5c0d01(0x660)]=Date[_0x5c0d01(0x70e)](),_0x137af2[_0x5c0d01(0x518)][_0x5c0d01(0x639)](_0x32984a=>_0x32984a['remoteJid']===_0x53ea1c)){this[_0x5c0d01(0x525)]['verbose'](this[_0x5c0d01(0x2d7)]+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+_0x5c0d01(0x69c)+_0x53ea1c+_0x5c0d01(0x5c3));continue;}if(!this['isConnected']){this['logger']['verbose'](this[_0x5c0d01(0x2d7)]+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+_0x5c0d01(0x79b));break;}if(!this[_0x5c0d01(0x2d2)]){this['logger'][_0x5c0d01(0x4c0)](this[_0x5c0d01(0x2d7)]+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+_0x5c0d01(0x827)+_0x137af2['_id']+_0x5c0d01(0x3df));break;}if(_0x137af2[_0x5c0d01(0x794)]===_0x5c0d01(0x5c5)&&!this['AutomateSystem']?.['flowConfig'][_0x5c0d01(0x717)]){this[_0x5c0d01(0x525)]['error'](this[_0x5c0d01(0x2d7)]+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+_0x5c0d01(0x5ff));break;}let _0x5e198e={'remoteJid':_0x53ea1c,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x5c0d01(0x70e)]()},_0x186ebe=null;try{let _0x4152df=await this['SendScheduleMessage'](_0x53ea1c,_0x137af2);_0x5e198e['error']=_0x4152df['error'],_0x5e198e['id']=_0x4152df[_0x5c0d01(0x62b)]?null:_0x4152df['id'],_0x5e198e[_0x5c0d01(0x392)]=_0x4152df[_0x5c0d01(0x62b)]?_0x4152df[_0x5c0d01(0x57c)]?_0x4152df[_0x5c0d01(0x57c)][_0x5c0d01(0x689)]():'':null;let _0x5ebfdd={'$push':{'messagesSend':_0x5e198e},'$pull':{'remoteJidsRemaining':_0x53ea1c}},_0x48de97=_0x137af2[_0x5c0d01(0x6bf)];if(_0x186ebe=await this['repository']['scheduleMessage']['updateOneById'](_0x48de97,_0x5ebfdd,this['instance'][_0x5c0d01(0x31d)]),_0x4152df[_0x5c0d01(0x62b)])continue;let _0x15d869=this['getDelay'](_0x137af2[_0x5c0d01(0x7de)],_0x137af2[_0x5c0d01(0x710)]);await this[_0x5c0d01(0x68b)](_0x15d869);}catch(_0x105c5b){this[_0x5c0d01(0x525)]['error'](this[_0x5c0d01(0x2d7)]+'\x20('+this['instance'][_0x5c0d01(0x31d)]+_0x5c0d01(0x74c)+_0x53ea1c+':\x20'+(_0x105c5b instanceof Error?_0x105c5b[_0x5c0d01(0x50c)]:JSON[_0x5c0d01(0x613)](_0x105c5b,null,0x2))),_0x5e198e[_0x5c0d01(0x62b)]=!0x0,_0x5e198e['error_log']=_0x105c5b[_0x5c0d01(0x50c)];let _0x17636c={'$push':{'messagesSend':_0x5e198e},'$pull':{'remoteJidsRemaining':_0x53ea1c}},_0x300ce2=_0x137af2[_0x5c0d01(0x6bf)];_0x186ebe=await this['repository'][_0x5c0d01(0x64b)][_0x5c0d01(0x4e5)](_0x300ce2,_0x17636c,this[_0x5c0d01(0x799)]['wuid']);}finally{if(_0x186ebe&&_0x186ebe[_0x5c0d01(0x6d8)]===_0x5c0d01(0x3fc)){this[_0x5c0d01(0x525)][_0x5c0d01(0x4c0)](this[_0x5c0d01(0x2d7)]+'\x20('+this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x137af2[_0x5c0d01(0x6bf)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x34b743=await this[_0x5c0d01(0x34e)][_0x5c0d01(0x64b)][_0x5c0d01(0x42d)](_0x137af2['_id'],this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]);if(_0x34b743['remoteJidsRemaining'][_0x5c0d01(0x233)]===0x0&&_0x34b743[_0x5c0d01(0x6d8)]!==_0x5c0d01(0x3fc)){let _0x491cac={'$set':{'status':'done'}},_0x4ee108=_0x34b743[_0x5c0d01(0x6bf)];await this[_0x5c0d01(0x34e)]['scheduleMessage']['updateOneById'](_0x4ee108,_0x491cac,this[_0x5c0d01(0x799)][_0x5c0d01(0x31d)]);}await new Promise(_0x208779=>setTimeout(_0x208779,0x1388));}},_0x1bf280=async()=>{const _0x368783=a0_0x26bc;let _0x16085c={'where':{'status':_0x368783(0x6e6),'when':{'$gt':Date['now']()}}},_0x1f3043=await this[_0x368783(0x34e)][_0x368783(0x64b)][_0x368783(0x24e)](_0x16085c,this['instance'][_0x368783(0x31d)]);_0x1f3043&&_0x1f3043['when']-Date[_0x368783(0x70e)]()<=0x5265c00?this[_0x368783(0x7ec)]=_0x1f3043[_0x368783(0x555)]-Date[_0x368783(0x70e)]():this[_0x368783(0x7ec)]=(0x3c+Math[_0x368783(0x5b8)](Math[_0x368783(0x647)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math['max'](this[_0x368783(0x7ec)],0x7d0);let _0x7e147=Math[_0x368783(0x749)](this['delayMessage']/0xea60);if(_0x1f3043){let _0x32b47e=new Date(_0x1f3043['when'])['toLocaleString']();this[_0x368783(0x525)][_0x368783(0x4c0)](this[_0x368783(0x2d7)]+'\x20('+this[_0x368783(0x799)][_0x368783(0x31d)]+_0x368783(0x274)+_0x32b47e+_0x368783(0x1f2)+_0x7e147+_0x368783(0x63c));}else this['logger'][_0x368783(0x4c0)](this[_0x368783(0x2d7)]+'\x20('+this['instance'][_0x368783(0x31d)]+_0x368783(0x3d5)+_0x7e147+'\x20minutos');setTimeout(()=>this[_0x368783(0x7bb)](),this[_0x368783(0x7ec)]);};if(this['processingScheduleMessageId']){await this[_0x2100a8(0x3e9)](),_0x427385();return;}if(!this[_0x2100a8(0x67a)]){this[_0x2100a8(0x525)][_0x2100a8(0x4c0)](this[_0x2100a8(0x2d7)]+'\x20('+this[_0x2100a8(0x799)][_0x2100a8(0x31d)]+_0x2100a8(0x3bb)),this['processingScheduleMessageId']=null,this[_0x2100a8(0x660)]=0x0,this[_0x2100a8(0x7ec)]=0x0;return;}try{let _0x72a3cf=await _0x4457fd();_0x72a3cf[_0x2100a8(0x233)]===0x0?this['logger'][_0x2100a8(0x4c0)](this[_0x2100a8(0x2d7)]+'\x20('+this[_0x2100a8(0x799)][_0x2100a8(0x31d)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['processingScheduleMessageId']=_0x72a3cf[0x0][_0x2100a8(0x6bf)],await _0x351f0d(_0x72a3cf)),await _0x1bf280(),this['processingScheduleMessageId']=null;}catch(_0x219eea){this[_0x2100a8(0x525)]['error'](_0x2100a8(0x491)+(_0x219eea instanceof Error?_0x219eea[_0x2100a8(0x50c)]:JSON[_0x2100a8(0x613)](_0x219eea,null,0x2)));}}[a0_0x18a40e(0x46e)](_0x4a3237,_0x40ad7c){const _0x41cc70=a0_0x18a40e;return _0x4a3237=Math[_0x41cc70(0x537)](0.5,_0x4a3237),_0x40ad7c=Math[_0x41cc70(0x298)](Math[_0x41cc70(0x537)](0x3,_0x40ad7c),0x78),Math[_0x41cc70(0x5b8)](Math[_0x41cc70(0x647)]()*(_0x40ad7c-_0x4a3237+0x1)+_0x4a3237)*0x3e8;}[a0_0x18a40e(0x68b)](_0x17dff1){return new Promise(_0x27a30a=>setTimeout(_0x27a30a,_0x17dff1));}async[a0_0x18a40e(0x3c1)](_0x401067){const _0x75387d=a0_0x18a40e;if(!this[_0x75387d(0x5a1)]&&(await this[_0x75387d(0x526)](),!this[_0x75387d(0x5a1)]))return null;_0x401067=this[_0x75387d(0x571)](_0x401067);let _0x2f70dd=await this[_0x75387d(0x34e)][_0x75387d(0x60e)][_0x75387d(0x24e)]({'where':{'_id':_0x401067}},this[_0x75387d(0x799)][_0x75387d(0x31d)]),_0x4bdf0e={};if(_0x2f70dd&&_0x2f70dd['leadInfo']){let _0x82f140=_0x2f70dd[_0x75387d(0x1f9)];typeof _0x82f140['nome']==_0x75387d(0x74a)&&(_0x4bdf0e['nome']=_0x82f140['nome']),typeof _0x82f140[_0x75387d(0x6f9)]==_0x75387d(0x74a)&&(_0x4bdf0e[_0x75387d(0x6f9)]=_0x82f140[_0x75387d(0x6f9)]),typeof _0x82f140[_0x75387d(0x320)]==_0x75387d(0x74a)&&(_0x4bdf0e[_0x75387d(0x320)]=_0x82f140[_0x75387d(0x320)]),typeof _0x82f140[_0x75387d(0x5c2)]=='string'&&(_0x4bdf0e[_0x75387d(0x5c2)]=_0x82f140[_0x75387d(0x5c2)]),typeof _0x82f140['status']==_0x75387d(0x74a)&&(_0x4bdf0e[_0x75387d(0x6d8)]=_0x82f140['status']),typeof _0x82f140[_0x75387d(0x719)]==_0x75387d(0x74a)&&(_0x4bdf0e[_0x75387d(0x719)]=_0x82f140[_0x75387d(0x719)]),typeof _0x82f140[_0x75387d(0x6ed)]==_0x75387d(0x74a)&&(_0x4bdf0e[_0x75387d(0x6ed)]=_0x82f140[_0x75387d(0x6ed)]),Array[_0x75387d(0x213)](_0x82f140['tags'])&&(_0x4bdf0e[_0x75387d(0x1c1)]=_0x82f140[_0x75387d(0x1c1)][_0x75387d(0x261)](',\x20')),Array[_0x75387d(0x213)](_0x82f140[_0x75387d(0x1d8)])&&(_0x4bdf0e[_0x75387d(0x1d8)]=_0x82f140[_0x75387d(0x1d8)][_0x75387d(0x261)](',\x20'));}return _0x2f70dd&&_0x2f70dd['leadInfo']&&_0x2f70dd[_0x75387d(0x1f9)][_0x75387d(0x43e)]&&_0x2f70dd[_0x75387d(0x1f9)][_0x75387d(0x43e)][_0x75387d(0x45f)](_0x373929=>{const _0x5e8c50=_0x75387d;let _0x21222d=this[_0x5e8c50(0x5a1)]?.[_0x5e8c50(0x43e)][_0x5e8c50(0x437)](_0x52b659=>_0x52b659[_0x5e8c50(0x6bf)]===_0x373929['_id']);_0x21222d&&(_0x4bdf0e[_0x21222d[_0x5e8c50(0x317)]]=_0x373929[_0x5e8c50(0x7c6)]);}),_0x4bdf0e;}async[a0_0x18a40e(0x40d)](_0x59132c,_0x49fbec){const _0x2c119=a0_0x18a40e;let _0x40305d=await this[_0x2c119(0x3c1)](_0x49fbec);return this['replaceVariables'](_0x59132c,_0x40305d);}async[a0_0x18a40e(0x453)](_0x468f6c){const _0x4fcf9e=a0_0x18a40e;try{if(this['logger'][_0x4fcf9e(0x4c0)](this[_0x4fcf9e(0x2d7)]+'\x20('+this[_0x4fcf9e(0x799)][_0x4fcf9e(0x31d)]+_0x4fcf9e(0x370)),_0x468f6c[_0x4fcf9e(0x4fe)]&&_0x468f6c[_0x4fcf9e(0x6bf)]){if(this[_0x4fcf9e(0x2d2)]===_0x468f6c[_0x4fcf9e(0x6bf)]['toString']())throw new Error(_0x4fcf9e(0x4e0));let _0x14b87c=await this[_0x4fcf9e(0x34e)][_0x4fcf9e(0x64b)]['deleteOne'](_0x468f6c[_0x4fcf9e(0x6bf)],this['instance'][_0x4fcf9e(0x31d)]);return setTimeout(()=>this[_0x4fcf9e(0x7bb)](),0x7d0),_0x14b87c;}let _0x44d5b5;if(_0x468f6c[_0x4fcf9e(0x6bf)]&&(_0x44d5b5=await this[_0x4fcf9e(0x34e)][_0x4fcf9e(0x64b)]['findById'](_0x468f6c[_0x4fcf9e(0x6bf)],this[_0x4fcf9e(0x799)][_0x4fcf9e(0x31d)])),_0x44d5b5){let _0x9728ca;if(this['processingScheduleMessageId']===_0x44d5b5[_0x4fcf9e(0x6bf)][_0x4fcf9e(0x689)]())_0x9728ca={'$set':{'status':_0x468f6c[_0x4fcf9e(0x6d8)]}};else{let {_id:_0x168568,..._0x126d43}=_0x468f6c;_0x9728ca={'$set':_0x126d43};}let _0xc3b162=await this['repository'][_0x4fcf9e(0x64b)][_0x4fcf9e(0x4e5)](_0x468f6c[_0x4fcf9e(0x6bf)],_0x9728ca,this[_0x4fcf9e(0x799)][_0x4fcf9e(0x31d)]);return setTimeout(()=>this[_0x4fcf9e(0x7bb)](),0x7d0),_0xc3b162;}else{_0x468f6c[_0x4fcf9e(0x200)]=this[_0x4fcf9e(0x799)]['wuid'];let _0x428b6a=await this['repository']['scheduleMessage'][_0x4fcf9e(0x443)](_0x468f6c,this[_0x4fcf9e(0x799)][_0x4fcf9e(0x31d)]);return setTimeout(()=>this[_0x4fcf9e(0x7bb)](),0x7d0),_0x428b6a;}}catch(_0x29bbc9){throw this[_0x4fcf9e(0x525)]['error'](this[_0x4fcf9e(0x2d7)]+'\x20('+this[_0x4fcf9e(0x799)]['wuid']+_0x4fcf9e(0x642)+(_0x29bbc9 instanceof Error?_0x29bbc9[_0x4fcf9e(0x50c)]:JSON[_0x4fcf9e(0x613)](_0x29bbc9,null,0x2))),new m(_0x4fcf9e(0x5ea)+_0x29bbc9[_0x4fcf9e(0x50c)]);}}async[a0_0x18a40e(0x720)](){const _0x51a6fb=a0_0x18a40e;try{return await this['repository'][_0x51a6fb(0x64b)][_0x51a6fb(0x437)]({'where':{}},this['instance'][_0x51a6fb(0x31d)]);}catch(_0xfbb2f6){throw this[_0x51a6fb(0x525)]['error'](this['instanceName']+'\x20('+this[_0x51a6fb(0x799)][_0x51a6fb(0x31d)]+_0x51a6fb(0x77c)+(_0xfbb2f6 instanceof Error?_0xfbb2f6[_0x51a6fb(0x50c)]:JSON['stringify'](_0xfbb2f6,null,0x2))),new m(_0x51a6fb(0x5ea)+_0xfbb2f6[_0x51a6fb(0x50c)]);}}async[a0_0x18a40e(0x258)](){const _0x38e8bd=a0_0x18a40e;try{let _0x1bb39b={'status':_0x38e8bd(0x721)},_0x11efc2=await this[_0x38e8bd(0x34e)]['scheduleMessage']['deleteMany'](_0x1bb39b,this[_0x38e8bd(0x799)][_0x38e8bd(0x31d)]);if(!_0x11efc2[_0x38e8bd(0x62b)])this[_0x38e8bd(0x525)]['verbose'](this[_0x38e8bd(0x2d7)]+'\x20('+this['instance'][_0x38e8bd(0x31d)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x11efc2[_0x38e8bd(0x62b)][_0x38e8bd(0x50c)]||_0x38e8bd(0x1cc));return this['getScheduleMessage']();}catch(_0x2bcee2){throw this['logger'][_0x38e8bd(0x62b)](this['instanceName']+'\x20('+this[_0x38e8bd(0x799)]['wuid']+_0x38e8bd(0x6fc)+(_0x2bcee2 instanceof Error?_0x2bcee2[_0x38e8bd(0x50c)]:JSON[_0x38e8bd(0x613)](_0x2bcee2,null,0x2))),new m(_0x38e8bd(0x5ea)+_0x2bcee2[_0x38e8bd(0x50c)]);}}async[a0_0x18a40e(0x40b)](_0x444462,_0x18621a){const _0x4ce073=a0_0x18a40e;try{if(_0x18621a[_0x4ce073(0x794)]===_0x4ce073(0x5c5)&&!this[_0x4ce073(0x5a1)]?.[_0x4ce073(0x230)][_0x4ce073(0x717)])return this['logger'][_0x4ce073(0x62b)](this['instanceName']+'\x20('+this[_0x4ce073(0x799)][_0x4ce073(0x31d)]+_0x4ce073(0x2b4)),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x18621a[_0x4ce073(0x794)]){case'text':return await this['scheduleSendText'](_0x18621a,_0x444462);case _0x4ce073(0x43d):return await this[_0x4ce073(0x5d5)](_0x18621a,_0x444462);case _0x4ce073(0x788):return await this[_0x4ce073(0x364)](_0x18621a,_0x444462);case _0x4ce073(0x5c5):let _0x1fb9b4=new _e();return _0x1fb9b4[_0x4ce073(0x317)]=_0x18621a[_0x4ce073(0x4ae)],_0x1fb9b4[_0x4ce073(0x65f)]=_0x444462,await this[_0x4ce073(0x734)](_0x1fb9b4);break;default:return this[_0x4ce073(0x525)][_0x4ce073(0x62b)](this[_0x4ce073(0x2d7)]+'\x20('+this[_0x4ce073(0x799)][_0x4ce073(0x31d)]+_0x4ce073(0x3d3)+_0x18621a[_0x4ce073(0x794)]),{'error':!0x0,'detail':_0x4ce073(0x5a3)};}}catch(_0x424502){return this[_0x4ce073(0x525)][_0x4ce073(0x62b)](this['instanceName']+'\x20('+this[_0x4ce073(0x799)][_0x4ce073(0x31d)]+_0x4ce073(0x2a0)+(_0x424502 instanceof Error?_0x424502['message']:JSON[_0x4ce073(0x613)](_0x424502,null,0x2))),{'error':!0x0,'detail':_0x424502[_0x4ce073(0x50c)]};}}[a0_0x18a40e(0x676)](_0x201569){const _0x296202=a0_0x18a40e;let _0x3fff89=_0x201569[_0x296202(0x432)]('|'),_0x2afd26=Math['floor'](Math['random']()*_0x3fff89['length']);return _0x3fff89[_0x2afd26][_0x296202(0x75f)]();}async[a0_0x18a40e(0x2b9)](_0x13358b,_0x40fb65){const _0x45b3fa=a0_0x18a40e;if(this[_0x45b3fa(0x525)]['verbose'](this[_0x45b3fa(0x2d7)]+'\x20('+this[_0x45b3fa(0x799)][_0x45b3fa(0x31d)]+'):\x20Enviando\x20texto'),!_0x13358b[_0x45b3fa(0x50c)][_0x45b3fa(0x2d3)]||_0x13358b[_0x45b3fa(0x50c)][_0x45b3fa(0x2d3)][_0x45b3fa(0x233)]===0x0)return{'error':!0x0,'detail':_0x45b3fa(0x536)};let _0xbde39e=this[_0x45b3fa(0x676)](_0x13358b[_0x45b3fa(0x50c)][_0x45b3fa(0x2d3)]),_0x51da1f=await this[_0x45b3fa(0x40d)](_0xbde39e,_0x40fb65),_0x139495={'number':_0x40fb65,'options':{'delay':_0x13358b[_0x45b3fa(0x50c)][_0x45b3fa(0x41d)]},'textMessage':{'text':_0x51da1f}},_0x453385=null;try{let _0x26ffae=await this[_0x45b3fa(0x5e7)](_0x139495);if(_0x26ffae&&_0x26ffae['status'])return{'error':!0x1,'id':_0x26ffae['key']['id']};_0x453385=JSON[_0x45b3fa(0x613)](_0x26ffae),this[_0x45b3fa(0x525)][_0x45b3fa(0x4c0)](this[_0x45b3fa(0x2d7)]+'\x20('+this[_0x45b3fa(0x799)][_0x45b3fa(0x31d)]+'):\x20'+_0x453385);}catch(_0x219c76){this[_0x45b3fa(0x525)]['error'](this[_0x45b3fa(0x2d7)]+'\x20('+this['instance'][_0x45b3fa(0x31d)]+_0x45b3fa(0x7cd)+(_0x219c76 instanceof Error?_0x219c76[_0x45b3fa(0x50c)]:JSON[_0x45b3fa(0x613)](_0x219c76,null,0x2))),_0x453385=_0x219c76['message'];}if(_0x453385)return{'error':!0x0,'detail':(typeof _0x453385==_0x45b3fa(0x3c8)?JSON[_0x45b3fa(0x613)](_0x453385,null,0x2):_0x453385)[_0x45b3fa(0x1b1)](/[\[\]{}\n]/g,'\x20')[_0x45b3fa(0x1b1)](/  +/g,'\x20')};}async[a0_0x18a40e(0x5d5)](_0x2dcad0,_0x5ebc80){const _0x4cfe8a=a0_0x18a40e;this['logger'][_0x4cfe8a(0x4c0)](this['instanceName']+'\x20('+this[_0x4cfe8a(0x799)][_0x4cfe8a(0x31d)]+_0x4cfe8a(0x1c2));let _0x548013;if(_0x2dcad0[_0x4cfe8a(0x50c)][_0x4cfe8a(0x2d3)]&&_0x2dcad0[_0x4cfe8a(0x50c)]['text'][_0x4cfe8a(0x233)]>0x0){let _0xab4761=this[_0x4cfe8a(0x676)](_0x2dcad0[_0x4cfe8a(0x50c)][_0x4cfe8a(0x2d3)]);_0x548013=await this[_0x4cfe8a(0x40d)](_0xab4761,_0x5ebc80);}let _0x399563={'number':_0x5ebc80,'options':{'delay':_0x2dcad0[_0x4cfe8a(0x50c)][_0x4cfe8a(0x41d)]},'mediaMessage':{'mediatype':_0x2dcad0[_0x4cfe8a(0x50c)][_0x4cfe8a(0x62e)],'caption':_0x548013,'media':_0x2dcad0[_0x4cfe8a(0x50c)]['urlOrBase64']}},_0x95552e=null;try{let _0x31007a=await this[_0x4cfe8a(0x1e5)](_0x399563);if(_0x31007a&&_0x31007a[_0x4cfe8a(0x6d8)])return{'error':!0x1,'id':_0x31007a[_0x4cfe8a(0x64d)]['id']};_0x95552e=JSON['stringify'](_0x31007a),this[_0x4cfe8a(0x525)][_0x4cfe8a(0x4c0)](this[_0x4cfe8a(0x2d7)]+'\x20('+this[_0x4cfe8a(0x799)][_0x4cfe8a(0x31d)]+_0x4cfe8a(0x26f)+_0x95552e);}catch(_0x5b3d77){this['logger'][_0x4cfe8a(0x62b)](this[_0x4cfe8a(0x2d7)]+'\x20('+this['instance'][_0x4cfe8a(0x31d)]+_0x4cfe8a(0x2ea)+(_0x5b3d77 instanceof Error?_0x5b3d77[_0x4cfe8a(0x50c)]:JSON[_0x4cfe8a(0x613)](_0x5b3d77,null,0x2))),_0x95552e=_0x5b3d77[_0x4cfe8a(0x50c)];}if(_0x95552e)return{'error':!0x0,'detail':(typeof _0x95552e==_0x4cfe8a(0x3c8)?JSON[_0x4cfe8a(0x613)](_0x95552e,null,0x2):_0x95552e)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4cfe8a(0x1b1)](/  +/g,'\x20')};}async[a0_0x18a40e(0x364)](_0x17dffc,_0x5c4c1e){const _0x481690=a0_0x18a40e;this['logger'][_0x481690(0x4c0)](this['instanceName']+'\x20('+this[_0x481690(0x799)][_0x481690(0x31d)]+_0x481690(0x292));let _0x51fdc3={'number':_0x5c4c1e,'options':{'delay':_0x17dffc[_0x481690(0x50c)][_0x481690(0x41d)]},'audioMessage':{'audio':_0x17dffc[_0x481690(0x50c)][_0x481690(0x31a)]}},_0x4138f7=null;try{let _0x3881d4=await this[_0x481690(0x60a)](_0x51fdc3);if(_0x3881d4&&_0x3881d4[_0x481690(0x6d8)])return{'error':!0x1,'id':_0x3881d4['key']['id']};_0x4138f7=JSON['stringify'](_0x3881d4),this[_0x481690(0x525)]['verbose'](this['instanceName']+'\x20('+this[_0x481690(0x799)][_0x481690(0x31d)]+'):\x20'+_0x4138f7);}catch(_0x289044){this[_0x481690(0x525)][_0x481690(0x62b)](this['instanceName']+'\x20('+this[_0x481690(0x799)][_0x481690(0x31d)]+_0x481690(0x41c)+(_0x289044 instanceof Error?_0x289044[_0x481690(0x50c)]:JSON[_0x481690(0x613)](_0x289044,null,0x2))),_0x4138f7=_0x289044['message'];}if(_0x4138f7)return{'error':!0x0,'detail':(typeof _0x4138f7==_0x481690(0x3c8)?JSON[_0x481690(0x613)](_0x4138f7,null,0x2):_0x4138f7)[_0x481690(0x1b1)](/[\[\]{}\n]/g,'\x20')[_0x481690(0x1b1)](/  +/g,'\x20')};}},_t=class c{constructor(_0x52b815,_0x339884,_0x11c24a){const _0x216e18=a0_0x18a40e;this['eventEmitter']=_0x52b815,this[_0x216e18(0x3da)]=_0x339884,this[_0x216e18(0x34e)]=_0x11c24a,this['db']={},this[_0x216e18(0x385)]={},this[_0x216e18(0x525)]=new v(c[_0x216e18(0x317)]),this['waInstances']={},(this[_0x216e18(0x3d6)](),this[_0x216e18(0x5a9)](),Object[_0x216e18(0x742)](this['db'],_0x339884[_0x216e18(0x805)]('DATABASE')),Object[_0x216e18(0x742)](this[_0x216e18(0x385)],_0x339884[_0x216e18(0x805)]('REDIS')),this[_0x216e18(0x5b0)]=this['db']['ENABLED']?this[_0x216e18(0x34e)][_0x216e18(0x547)]?.['db'](this['db'][_0x216e18(0x580)]['DB_PREFIX_NAME']+_0x216e18(0x1bd)):void 0x0,this[_0x216e18(0x369)]=this['redis'][_0x216e18(0x3e8)]?new re(this[_0x216e18(0x385)]):void 0x0);}async[a0_0x18a40e(0x512)](_0x1bb811){const _0x2f14c3=a0_0x18a40e;if(_0x1bb811&&!this['waInstances'][_0x1bb811])throw new j(_0x2f14c3(0x52b)+_0x1bb811+_0x2f14c3(0x4cc));let _0x2bb46b=[];for await(let [_0x3f18b6,_0x13c96d]of Object[_0x2f14c3(0x6e7)](this[_0x2f14c3(0x1ec)]))if(_0x13c96d&&_0x13c96d[_0x2f14c3(0x7b3)][_0x2f14c3(0x5fc)]===_0x2f14c3(0x2de)){let _0x2ba4f6=await this[_0x2f14c3(0x34e)][_0x2f14c3(0x7c0)][_0x2f14c3(0x437)](_0x3f18b6);_0x2bb46b[_0x2f14c3(0x78b)]({'instance':{'instanceName':_0x3f18b6,'apikey':_0x2ba4f6[_0x2f14c3(0x4b8)],'owner':_0x13c96d[_0x2f14c3(0x31d)],'profileName':await _0x13c96d[_0x2f14c3(0x5d7)]()||_0x2f14c3(0x219),'profilePictureUrl':_0x13c96d[_0x2f14c3(0x3ee)]}});}return _0x2bb46b[_0x2f14c3(0x437)](_0x189399=>_0x189399[_0x2f14c3(0x799)][_0x2f14c3(0x2d7)]===_0x1bb811)??_0x2bb46b;}async[a0_0x18a40e(0x1d3)](_0x272c19){const _0x2f84d2=a0_0x18a40e;if(this['db'][_0x2f84d2(0x3e8)]&&(await this[_0x2f84d2(0x34e)]['dbServer'][_0x2f84d2(0x1b9)](),(await this[_0x2f84d2(0x5b0)][_0x2f84d2(0x535)]())['length']>0x0&&await this[_0x2f84d2(0x5b0)][_0x2f84d2(0x426)](_0x272c19)),this['redis'][_0x2f84d2(0x3e8)]){this[_0x2f84d2(0x369)]['reference']=_0x272c19,await this[_0x2f84d2(0x369)][_0x2f84d2(0x1ae)]();return;}}async[a0_0x18a40e(0x3ff)](){const _0x3966ca=a0_0x18a40e;await this[_0x3966ca(0x6c5)]();let _0x2abb62=async _0x4d50f1=>{const _0x579e9e=_0x3966ca;let _0x108780=new ye(this[_0x579e9e(0x3da)],this[_0x579e9e(0x825)],this['repository']);_0x108780['instanceName']=_0x4d50f1,await _0x108780[_0x579e9e(0x554)](),this[_0x579e9e(0x1ec)][_0x4d50f1]=_0x108780;};try{if(this[_0x3966ca(0x385)][_0x3966ca(0x3e8)]){let _0x1b5a7e=await this[_0x3966ca(0x369)]['instanceKeys']();_0x1b5a7e?.[_0x3966ca(0x233)]>0x0&&_0x1b5a7e[_0x3966ca(0x45f)](async _0x1ea3d0=>await _0x2abb62(_0x1ea3d0[_0x3966ca(0x432)](':')[0x1]));return;}if(this['db']['ENABLED']){await this['repository'][_0x3966ca(0x547)][_0x3966ca(0x1b9)]();let _0x4359e6=await this[_0x3966ca(0x5b0)]['collections']();_0x4359e6[_0x3966ca(0x233)]>0x0&&_0x4359e6['forEach'](async _0x24e484=>await _0x2abb62(_0x24e484['namespace'][_0x3966ca(0x1b1)](/^[\w-]+\./,'')));return;}}catch(_0x20685f){this['logger'][_0x3966ca(0x62b)](_0x20685f);}}async[a0_0x18a40e(0x5b7)](){const _0x58aedd=a0_0x18a40e;let _0x1eab68=await this[_0x58aedd(0x34e)][_0x58aedd(0x7c0)]['findAll'](),_0x319ddc=_0x1eab68['filter'](_0x1fd11d=>!this[_0x58aedd(0x1ec)][_0x1fd11d[_0x58aedd(0x6bf)]]&&(_0x1fd11d[_0x58aedd(0x3a1)]||typeof _0x1fd11d[_0x58aedd(0x3a1)]>'u'));_0x319ddc[_0x58aedd(0x233)]>0x0&&await Promise[_0x58aedd(0x1fe)](_0x319ddc[_0x58aedd(0x783)](async _0x1bafce=>{const _0x10fb90=_0x58aedd;let _0x3a6ebc={'online':!0x1,'lastDisconnect':Date['now']()};await this['repository']['auth'][_0x10fb90(0x343)](_0x3a6ebc,_0x1bafce[_0x10fb90(0x6bf)]);}));let _0x5cab5f=Date[_0x58aedd(0x70e)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x690cad=_0x1eab68[_0x58aedd(0x598)](_0x174226=>!this['waInstances'][_0x174226[_0x58aedd(0x6bf)]]&&typeof _0x174226[_0x58aedd(0x52e)]<'u'&&_0x174226[_0x58aedd(0x52e)]<_0x5cab5f);_0x690cad[_0x58aedd(0x233)]>0x0&&await Promise[_0x58aedd(0x1fe)](_0x690cad['map'](async _0x577107=>{}));}async[a0_0x18a40e(0x6c5)](){const _0x2a348f=a0_0x18a40e;try{let _0x30f717={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5afb3f={'online':!0x1,'lastDisconnect':Date[_0x2a348f(0x70e)]()},_0x2b12be=await this['repository'][_0x2a348f(0x7c0)][_0x2a348f(0x653)](_0x30f717,_0x5afb3f);console['log']('Instncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x2b12be[_0x2a348f(0x6a5)]),await this['removeOlderDisconnectedInstances']();}catch(_0x3e6837){console[_0x2a348f(0x62b)](_0x2a348f(0x35b),_0x3e6837);}}async[a0_0x18a40e(0x6bd)](){const _0x2e07df=a0_0x18a40e;try{let _0x38a832={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x45d47a=await this[_0x2e07df(0x34e)][_0x2e07df(0x7c0)][_0x2e07df(0x697)](_0x38a832);console[_0x2e07df(0x737)](_0x2e07df(0x349)+_0x45d47a[_0x2e07df(0x6a5)]);}catch(_0x420b2a){console[_0x2e07df(0x62b)](_0x2e07df(0x4af),_0x420b2a);}}['removeInstance'](){const _0x12fdcc=a0_0x18a40e;this[_0x12fdcc(0x825)]['on'](_0x12fdcc(0x76b),async _0x2d9e00=>{const _0x33fb1=_0x12fdcc;try{this['waInstances'][_0x2d9e00]=void 0x0;}catch{}try{this[_0x33fb1(0x1d3)](_0x2d9e00);}finally{this[_0x33fb1(0x525)][_0x33fb1(0x3e1)]('Instance\x20\x22'+_0x2d9e00+_0x33fb1(0x1da));}});}['noConnection'](){const _0x6469f5=a0_0x18a40e;this['eventEmitter']['on'](_0x6469f5(0x51f),async _0x753fa1=>{const _0x9bee97=_0x6469f5;try{this[_0x9bee97(0x1ec)][_0x753fa1]=void 0x0;}catch{}try{this[_0x9bee97(0x1d3)](_0x753fa1);}finally{this['logger'][_0x9bee97(0x3e1)](_0x9bee97(0x52b)+_0x753fa1+_0x9bee97(0x2e9));}});}},Pt=class extends I{[a0_0x18a40e(0x378)](_0x4ac7ad){return Js(_0x4ac7ad);}async[a0_0x18a40e(0x80f)](_0x1e807e){const _0x594e6e=a0_0x18a40e;if(_0x1e807e[_0x594e6e(0x233)]!==0x0)try{return{'insertCount':(await this[_0x594e6e(0x378)](_0x1e807e[0x0]['owner'])['insertMany']([..._0x1e807e]))[_0x594e6e(0x233)]};}catch(_0x261817){return _0x261817;}}async[a0_0x18a40e(0x437)](_0x2398f6,_0x21fbdb){const _0x48d33c=a0_0x18a40e;try{let _0x2b3e79=this[_0x48d33c(0x378)](_0x21fbdb),_0x1de487=A(_0x2398f6[_0x48d33c(0x53d)]);return await _0x2b3e79[_0x48d33c(0x437)](_0x1de487)[_0x48d33c(0x818)]({'lastmsg':-0x1})[_0x48d33c(0x1ab)](_0x2398f6?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x18a40e(0x279)](_0x2cae30,_0x4396fe){const _0x5e05dc=a0_0x18a40e;try{return await this['getChatModelForOwner'](_0x4396fe)[_0x5e05dc(0x697)]({..._0x2cae30[_0x5e05dc(0x53d)]}),[];}catch(_0x4f7ab5){return{'error':_0x4f7ab5?.['toString']()};}}async[a0_0x18a40e(0x24e)](_0x1e5701,_0x10cf9d){const _0x288641=a0_0x18a40e;try{let _0x1413b3=this[_0x288641(0x378)](_0x10cf9d),_0x268575=A(_0x1e5701[_0x288641(0x53d)]);return await _0x1413b3[_0x288641(0x24e)](_0x268575)[_0x288641(0x800)]();}catch{return null;}}async[a0_0x18a40e(0x328)](_0x415786,_0xb31d4a,_0x546c47,_0x10cfa7,_0x33d193=a0_0x18a40e(0x6ef)){const _0x4662f1=a0_0x18a40e;try{let _0x3d43ca={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x10cfa7},_0x2053b7=this['getChatModelForOwner'](_0x546c47),_0x3cb51d=A(_0x415786['where']);Object[_0x4662f1(0x3f3)](_0xb31d4a)['forEach'](_0x4ab773=>{_0xb31d4a[_0x4ab773]==null&&delete _0xb31d4a[_0x4ab773];});let _0x6e2210={};return _0x6e2210[_0x33d193]=_0xb31d4a,await _0x2053b7[_0x4662f1(0x22e)](_0x3cb51d,_0x6e2210,_0x3d43ca);}catch(_0x4c642b){return console[_0x4662f1(0x62b)](_0x4c642b),null;}}async[a0_0x18a40e(0x351)](_0x1f1a64){const _0x412265=a0_0x18a40e;try{let _0x55cee2=this[_0x412265(0x378)](_0x1f1a64[0x0]['query'][_0x412265(0x53d)][_0x412265(0x200)]),_0x372275=_0x1f1a64[_0x412265(0x783)](_0x5df365=>({'updateOne':{'filter':{..._0x5df365[_0x412265(0x62a)][_0x412265(0x53d)]},'update':{'$set':_0x5df365['update']},'upsert':!0x0}})),_0x52bd59=await _0x55cee2['bulkWrite'](_0x372275);return _0x52bd59[_0x412265(0x6d1)]+_0x52bd59['upsertedCount'];}catch(_0x275b47){return console['error'](_0x275b47),0x0;}}async[a0_0x18a40e(0x1cd)](_0x466eaf){const _0x12c073=a0_0x18a40e;try{let _0x1f4649=this[_0x12c073(0x378)](_0x466eaf),_0x512b48={'labels':{'$exists':!0x0}},_0x1d981d={'$unset':{'labels':''}};return(await _0x1f4649[_0x12c073(0x351)](_0x512b48,_0x1d981d))[_0x12c073(0x6d1)];}catch(_0x3aea39){return console[_0x12c073(0x62b)](_0x3aea39),0x0;}}async[a0_0x18a40e(0x4b2)](_0x1c3745){const _0x18ed0d=a0_0x18a40e;try{let _0x5b4f39=this[_0x18ed0d(0x378)](_0x1c3745),_0x5775f6={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2ffe70={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5b4f39[_0x18ed0d(0x351)](_0x5775f6,_0x2ffe70))[_0x18ed0d(0x6d1)];}catch(_0xdfcf75){return console[_0x18ed0d(0x62b)](_0xdfcf75),0x0;}}async['updateMissingTags'](_0x450ce0){const _0x17b0ee=a0_0x18a40e;try{let _0x1b18e2=this[_0x17b0ee(0x378)](_0x450ce0),_0x4fbd39={'leadInfo.tags':{'$exists':!0x1}},_0x4440da={'$set':{'leadInfo.tags':[]}};return(await _0x1b18e2[_0x17b0ee(0x351)](_0x4fbd39,_0x4440da))[_0x17b0ee(0x6d1)];}catch(_0x1fd6a5){return console[_0x17b0ee(0x62b)](_0x1fd6a5),0x0;}}async[a0_0x18a40e(0x1fd)](_0x4d8292){const _0x4106dd=a0_0x18a40e;try{let _0x18a6b6=this[_0x4106dd(0x378)](_0x4d8292),_0x280f7f={'leadInfo.customFields':{'$exists':!0x1}},_0x4d8414={'$set':{'leadInfo.customFields':[]}};return(await _0x18a6b6[_0x4106dd(0x351)](_0x280f7f,_0x4d8414))[_0x4106dd(0x6d1)];}catch(_0x44fbbb){return console[_0x4106dd(0x62b)](_0x44fbbb),0x0;}}async[a0_0x18a40e(0x242)](_0x28a7fc,_0x633d9f){const _0x5923bc=a0_0x18a40e;if(!Array[_0x5923bc(0x213)](_0x28a7fc)||_0x28a7fc[_0x5923bc(0x233)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20insero.');try{return(await this[_0x5923bc(0x378)](_0x633d9f)[_0x5923bc(0x242)](_0x28a7fc))['length'];}catch(_0x223738){throw console[_0x5923bc(0x62b)](_0x5923bc(0x1c7),_0x223738),_0x223738;}}async[a0_0x18a40e(0x3e5)](_0x4bc6ad,_0x472e29){const _0x40184e=a0_0x18a40e;try{await this[_0x40184e(0x378)](_0x472e29)[_0x40184e(0x82e)]({'_id':_0x4bc6ad});}catch(_0x57873b){throw console['error'](_0x40184e(0x5cd),_0x57873b),_0x57873b;}}},$t=class extends I{[a0_0x18a40e(0x47b)](_0x2a7081){return da(_0x2a7081);}async['updateOne'](_0x59b4e4,_0x22b240,_0x53acc9,_0x2e762e){const _0x250f0f=a0_0x18a40e;try{let _0x1220fb={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2e762e},_0x12b523=this[_0x250f0f(0x47b)](_0x53acc9),_0x4572fc=A(_0x59b4e4[_0x250f0f(0x53d)]);return await _0x12b523[_0x250f0f(0x22e)](_0x4572fc,{'$set':_0x22b240},_0x1220fb);}catch(_0x2b820b){return console[_0x250f0f(0x62b)](_0x2b820b),null;}}async[a0_0x18a40e(0x437)](_0x14e5af,_0x4f6c68){const _0x8bea0d=a0_0x18a40e;try{let _0x2d9546=this[_0x8bea0d(0x47b)](_0x4f6c68),_0x241700=A(_0x14e5af[_0x8bea0d(0x53d)]);return await _0x2d9546[_0x8bea0d(0x437)](_0x241700);}catch(_0x24159d){console[_0x8bea0d(0x62b)](_0x24159d);}}async[a0_0x18a40e(0x4fe)](_0x15bd61,_0x2f1315){const _0xf910e7=a0_0x18a40e;try{let _0x527b00=this[_0xf910e7(0x47b)](_0x2f1315),_0x499e48=A(_0x15bd61['where']);await _0x527b00[_0xf910e7(0x697)](_0x499e48);}catch(_0x3e2fbc){console[_0xf910e7(0x62b)](_0x3e2fbc);}}async[a0_0x18a40e(0x279)](_0x3c8ed6){const _0x4f7dff=a0_0x18a40e;try{return await this[_0x4f7dff(0x47b)](_0x3c8ed6)['collection']['drop'](),{'success':!0x0};}catch(_0x3039ab){return console['error'](_0x3039ab),{'success':!0x1,'error':_0x3039ab};}}},kt=class{constructor(_0x3722ee){const _0x312a43=a0_0x18a40e;this[_0x312a43(0x4a2)]=_0x3722ee;}async['editChat']({instanceName:_0x1f9867},_0x226304){const _0x19d933=a0_0x18a40e;return await this['waMonitor'][_0x19d933(0x1ec)][_0x1f9867][_0x19d933(0x26b)](_0x226304);}async[a0_0x18a40e(0x73a)]({instanceName:_0x252252},_0x4f7480){const _0x297d64=a0_0x18a40e;return await this['waMonitor'][_0x297d64(0x1ec)][_0x252252][_0x297d64(0x73a)](_0x4f7480);}async[a0_0x18a40e(0x777)]({instanceName:_0x56777f},_0x667940){const _0x10abdb=a0_0x18a40e;return await this[_0x10abdb(0x4a2)][_0x10abdb(0x1ec)][_0x56777f][_0x10abdb(0x777)](_0x667940);}async[a0_0x18a40e(0x758)]({instanceName:_0x1be27b},_0x38bb96){const _0x3447c5=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x1be27b][_0x3447c5(0x26e)](_0x38bb96);}async[a0_0x18a40e(0x3b9)]({instanceName:_0x50683},_0x24633b){const _0x4225c=a0_0x18a40e;return await this[_0x4225c(0x4a2)][_0x4225c(0x1ec)][_0x50683][_0x4225c(0x3b9)](_0x24633b);}async[a0_0x18a40e(0x2ae)]({instanceName:_0x45f432},_0x3b20aa){const _0x386558=a0_0x18a40e;return await this[_0x386558(0x4a2)]['waInstances'][_0x45f432]['deleteMessage'](_0x3b20aa);}async['fetchProfilePicture']({instanceName:_0x55b72d},_0x23356f){const _0x10c5c6=a0_0x18a40e;return await this[_0x10c5c6(0x4a2)]['waInstances'][_0x55b72d][_0x10c5c6(0x7fd)](_0x23356f[_0x10c5c6(0x7f3)]);}async[a0_0x18a40e(0x1df)]({instanceName:_0x3e5418},_0xa42925){const _0x55f85d=a0_0x18a40e;return await this[_0x55f85d(0x4a2)]['waInstances'][_0x3e5418]['fetchProfile'](_0xa42925['number']);}async[a0_0x18a40e(0x3ce)]({instanceName:_0x3baf17},_0x2a4883){const _0x5c12a3=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x3baf17][_0x5c12a3(0x3ce)](_0x2a4883);}async[a0_0x18a40e(0x7eb)]({instanceName:_0x3a86ef},_0x1f2ae1){const _0x1daf6f=a0_0x18a40e;return await this[_0x1daf6f(0x4a2)][_0x1daf6f(0x1ec)][_0x3a86ef][_0x1daf6f(0x7eb)](_0x1f2ae1);}async[a0_0x18a40e(0x82c)]({instanceName:_0x5bdc89},_0x4ba40a){const _0x5d25f2=a0_0x18a40e;return await this[_0x5d25f2(0x4a2)][_0x5d25f2(0x1ec)][_0x5bdc89][_0x5d25f2(0x82c)](_0x4ba40a);}async[a0_0x18a40e(0x4b5)]({instanceName:_0x1ad2a0},_0x570f1e){const _0x642f2c=a0_0x18a40e;return await this[_0x642f2c(0x4a2)]['waInstances'][_0x1ad2a0][_0x642f2c(0x4b5)](_0x570f1e);}async[a0_0x18a40e(0x352)]({instanceName:_0x143328}){return await this['waMonitor']['waInstances'][_0x143328]['fetchLabels']();}async[a0_0x18a40e(0x54a)]({instanceName:_0x42aa74}){const _0x2d031d=a0_0x18a40e;return await this[_0x2d031d(0x4a2)][_0x2d031d(0x1ec)][_0x42aa74]['fetchChats']();}async[a0_0x18a40e(0x6f0)]({instanceName:_0x4ce656}){const _0x12931d=a0_0x18a40e;return await this['waMonitor'][_0x12931d(0x1ec)][_0x4ce656][_0x12931d(0x6f0)]();}async['updatePrivacySettings']({instanceName:_0x1a1098},_0x1d21a2){const _0x2b891e=a0_0x18a40e;return await this[_0x2b891e(0x4a2)][_0x2b891e(0x1ec)][_0x1a1098][_0x2b891e(0x3ca)](_0x1d21a2);}async['fetchBusinessProfile']({instanceName:_0x1f8ce7},_0x20a7cb){const _0x7cb984=a0_0x18a40e;return await this[_0x7cb984(0x4a2)][_0x7cb984(0x1ec)][_0x1f8ce7]['fetchBusinessProfile'](_0x20a7cb[_0x7cb984(0x7f3)]);}async['updateProfileName']({instanceName:_0x596401},_0x5e66dc){const _0x19c66e=a0_0x18a40e;return await this['waMonitor'][_0x19c66e(0x1ec)][_0x596401][_0x19c66e(0x7f8)](_0x5e66dc[_0x19c66e(0x317)]);}async[a0_0x18a40e(0x78f)]({instanceName:_0x57f020},_0x41b241){const _0x39031f=a0_0x18a40e;return await this[_0x39031f(0x4a2)]['waInstances'][_0x57f020]['updateProfileStatus'](_0x41b241[_0x39031f(0x6d8)]);}async[a0_0x18a40e(0x1c8)]({instanceName:_0x51c0da},_0x4fce9d){const _0x2b6e20=a0_0x18a40e;return await this['waMonitor'][_0x2b6e20(0x1ec)][_0x51c0da][_0x2b6e20(0x1c8)](_0x4fce9d['picture']);}async[a0_0x18a40e(0x1d7)]({instanceName:_0x4eddaa},_0x1cc880){const _0x54f909=a0_0x18a40e;return await this[_0x54f909(0x4a2)][_0x54f909(0x1ec)][_0x4eddaa][_0x54f909(0x1d7)]();}},Rs=require(a0_0x18a40e(0x29e)),Lt=class c{constructor(_0x5a5ba6,_0x95e0c5,_0x405f63,_0x50be61,_0xad3f16){const _0x22d0d5=a0_0x18a40e;this['waMonitor']=_0x5a5ba6,this[_0x22d0d5(0x3da)]=_0x95e0c5,this['repository']=_0x405f63,this[_0x22d0d5(0x825)]=_0x50be61,this[_0x22d0d5(0x766)]=_0xad3f16,this[_0x22d0d5(0x525)]=new v(c[_0x22d0d5(0x317)]);}async[a0_0x18a40e(0x442)]({instanceName:_0x56fba4,apikey:_0x5c581a,number:_0x272ac7,proxy:_0x522272=!0x0}){const _0x48fb16=a0_0x18a40e;try{let _0x1cd4ab=new ye(this['configService'],this['eventEmitter'],this['repository']);_0x1cd4ab[_0x48fb16(0x2d7)]=_0x56fba4,this['waMonitor']['waInstances'][_0x1cd4ab['instanceName']]=_0x1cd4ab;let _0x127a71={};_0x5c581a?(await this[_0x48fb16(0x34e)][_0x48fb16(0x7c0)][_0x48fb16(0x343)]({'apikey':_0x5c581a},_0x56fba4),_0x127a71[_0x48fb16(0x4b8)]=_0x5c581a):_0x127a71=await this[_0x48fb16(0x766)][_0x48fb16(0x33a)]({'instanceName':_0x1cd4ab['instanceName']});let _0x168963;return await _0x1cd4ab[_0x48fb16(0x554)](_0x272ac7,_0x522272),await(0x0,Rs[_0x48fb16(0x41d)])(0x7d0),_0x168963=_0x1cd4ab[_0x48fb16(0x5b2)],{'instance':{'instanceName':_0x1cd4ab[_0x48fb16(0x2d7)],'status':_0x48fb16(0x2f6)},'hash':_0x127a71,'qrcode':_0x168963};}catch(_0x576eae){this['logger'][_0x48fb16(0x62b)](_0x576eae);}}async[a0_0x18a40e(0x5ab)]({instanceName:_0xd5b486,number:_0x258c08=null,proxy:_0x1b4585=!0x0}){const _0x54ae36=a0_0x18a40e;try{let _0x3237b8=this[_0x54ae36(0x4a2)][_0x54ae36(0x1ec)][_0xd5b486];switch(_0x3237b8?.['connectionStatus']?.[_0x54ae36(0x5fc)]){case _0x54ae36(0x345):return await _0x3237b8[_0x54ae36(0x554)](_0x258c08,_0x1b4585),await(0x0,Rs[_0x54ae36(0x41d)])(0x7d0),_0x3237b8['qrCode'];case'connecting':return _0x3237b8[_0x54ae36(0x5b2)];default:return await this['connectionState']({'instanceName':_0xd5b486});}}catch(_0x385c21){this['logger'][_0x54ae36(0x737)](_0x385c21);}}async[a0_0x18a40e(0x3ec)]({instanceName:_0x28fbcd}){const _0x2d932d=a0_0x18a40e;let _0x5bf935=this['waMonitor'][_0x2d932d(0x1ec)][_0x28fbcd][_0x2d932d(0x7b3)],_0x98e89f=null;_0x5bf935[_0x2d932d(0x5fc)]===_0x2d932d(0x2de)&&_0x28fbcd&&(_0x98e89f=await this[_0x2d932d(0x4a2)]['instanceInfo'](_0x28fbcd));let _0x2b6955=null;return _0x5bf935[_0x2d932d(0x5fc)]===_0x2d932d(0x294)&&_0x28fbcd&&(_0x2b6955=this[_0x2d932d(0x4a2)][_0x2d932d(0x1ec)][_0x28fbcd][_0x2d932d(0x5b2)]),{'instance':_0x28fbcd,'connectionStatus':_0x5bf935,'instanceInfo':_0x98e89f,'qrcode':_0x2b6955};}async[a0_0x18a40e(0x7e2)]({instanceName:_0x1f7663}){const _0x483ba9=a0_0x18a40e;try{return this[_0x483ba9(0x4a2)][_0x483ba9(0x1ec)][_0x1f7663]?.[_0x483ba9(0x5db)]?.['ws']?.[_0x483ba9(0x345)](),{'status':_0x483ba9(0x5f2),'error':!0x1,'response':{'message':_0x483ba9(0x3c4)}};}catch(_0x5e871a){this[_0x483ba9(0x525)]['error'](_0x5e871a);}}async[a0_0x18a40e(0x552)]({instanceName:_0x47cc17}){const _0x2cd10e=a0_0x18a40e;return _0x47cc17?this[_0x2cd10e(0x4a2)][_0x2cd10e(0x512)](_0x47cc17):this[_0x2cd10e(0x4a2)][_0x2cd10e(0x512)]();}async[a0_0x18a40e(0x7e1)]({instanceName:_0x520a04}){const _0x4b6d0c=a0_0x18a40e;try{return await this[_0x4b6d0c(0x4a2)][_0x4b6d0c(0x1ec)][_0x520a04]?.[_0x4b6d0c(0x5db)]?.['logout'](_0x4b6d0c(0x3e2)+_0x520a04),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x584033){throw new O(_0x584033['toString']());}}async[a0_0x18a40e(0x4e4)]({instanceName:_0x226d9e}){const _0x771e99=a0_0x18a40e;if((await this['connectionState']({'instanceName':_0x226d9e}))[_0x771e99(0x7b3)]['state']===_0x771e99(0x2de))throw new m([_0x771e99(0x308),_0x771e99(0x2e5)]);try{return delete this[_0x771e99(0x4a2)][_0x771e99(0x1ec)][_0x226d9e],{'error':!0x1,'message':_0x771e99(0x5fb)};}catch(_0xc670b0){throw new m(_0xc670b0['toString']());}}},Z=require(a0_0x18a40e(0x7d8)),jt=class{constructor(_0x158879){const _0x5d2678=a0_0x18a40e;this[_0x5d2678(0x4a2)]=_0x158879;}async[a0_0x18a40e(0x583)]({instanceName:_0x2d65d},_0x5f5a4e){const _0x1011ce=a0_0x18a40e;return await this[_0x1011ce(0x4a2)][_0x1011ce(0x1ec)][_0x2d65d][_0x1011ce(0x5e7)](_0x5f5a4e);}async[a0_0x18a40e(0x3d7)]({instanceName:_0xee5433},_0x4a4c0f){const _0x1f7f87=a0_0x18a40e;return await this[_0x1f7f87(0x4a2)]['waInstances'][_0xee5433]['menuMessage'](_0x4a4c0f);}async[a0_0x18a40e(0x6b6)]({instanceName:_0x29fd82},_0x5c0263){const _0x534112=a0_0x18a40e;if((0x0,Z[_0x534112(0x472)])(_0x5c0263?.['mediaMessage']?.[_0x534112(0x43d)])&&!_0x5c0263?.[_0x534112(0x1e5)]?.[_0x534112(0x325)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z['isURL'])(_0x5c0263?.[_0x534112(0x1e5)]?.['media'])||(0x0,Z[_0x534112(0x472)])(_0x5c0263?.[_0x534112(0x1e5)]?.[_0x534112(0x43d)]))return await this[_0x534112(0x4a2)]['waInstances'][_0x29fd82][_0x534112(0x1e5)](_0x5c0263);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x518e54},_0x220e34){const _0x1d8a57=a0_0x18a40e;if((0x0,Z[_0x1d8a57(0x48f)])(_0x220e34['stickerMessage'][_0x1d8a57(0x82d)])||(0x0,Z['isBase64'])(_0x220e34[_0x1d8a57(0x243)][_0x1d8a57(0x82d)]))return await this[_0x1d8a57(0x4a2)][_0x1d8a57(0x1ec)][_0x518e54]['mediaSticker'](_0x220e34);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x18a40e(0x7ae)]({instanceName:_0xf772da},_0x55d46e){const _0x257b7a=a0_0x18a40e;if((0x0,Z['isURL'])(_0x55d46e[_0x257b7a(0x346)]['audio'])||(0x0,Z[_0x257b7a(0x472)])(_0x55d46e[_0x257b7a(0x346)][_0x257b7a(0x788)]))return await this[_0x257b7a(0x4a2)][_0x257b7a(0x1ec)][_0xf772da][_0x257b7a(0x60a)](_0x55d46e);throw new m(_0x257b7a(0x1a1));}async[a0_0x18a40e(0x599)]({instanceName:_0x2bf71a},_0xc27147){const _0x1f2d47=a0_0x18a40e;if((0x0,Z[_0x1f2d47(0x472)])(_0xc27147['buttonMessage'][_0x1f2d47(0x1e5)]?.[_0x1f2d47(0x43d)])&&!_0xc27147[_0x1f2d47(0x5d8)][_0x1f2d47(0x1e5)]?.[_0x1f2d47(0x325)])throw new m(_0x1f2d47(0x493));return await this[_0x1f2d47(0x4a2)][_0x1f2d47(0x1ec)][_0x2bf71a][_0x1f2d47(0x5d8)](_0xc27147);}async[a0_0x18a40e(0x692)]({instanceName:_0x4ff8ed},_0x3767b5){const _0x4cc92d=a0_0x18a40e;return await this[_0x4cc92d(0x4a2)][_0x4cc92d(0x1ec)][_0x4ff8ed][_0x4cc92d(0x52a)](_0x3767b5);}async[a0_0x18a40e(0x2bc)]({instanceName:_0x579d74},_0x2d40dd){const _0x3f6c51=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x579d74][_0x3f6c51(0x4da)](_0x2d40dd);}async[a0_0x18a40e(0x81f)]({instanceName:_0x5e9eb7},_0x5ac6c6){const _0x5c2dcf=a0_0x18a40e;return await this[_0x5c2dcf(0x4a2)][_0x5c2dcf(0x1ec)][_0x5e9eb7][_0x5c2dcf(0x54f)](_0x5ac6c6);}async[a0_0x18a40e(0x60f)]({instanceName:_0xa55ae6},_0x56d5bc){const _0x3ff1ac=a0_0x18a40e;return await this[_0x3ff1ac(0x4a2)][_0x3ff1ac(0x1ec)][_0xa55ae6][_0x3ff1ac(0x6c3)](_0x56d5bc);}async['sendReaction']({instanceName:_0x5a43ea},_0x5bd086){const _0x1195dd=a0_0x18a40e;if(!_0x5bd086['reactionMessage'][_0x1195dd(0x33b)][_0x1195dd(0x3e3)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x1195dd(0x2d4));return await this[_0x1195dd(0x4a2)][_0x1195dd(0x1ec)][_0x5a43ea][_0x1195dd(0x6a2)](_0x5bd086);}async[a0_0x18a40e(0x28c)]({instanceName:_0x24fcfe},_0x46ec72){const _0x7d3226=a0_0x18a40e;return await this[_0x7d3226(0x4a2)][_0x7d3226(0x1ec)][_0x24fcfe][_0x7d3226(0x507)](_0x46ec72);}},Er=require('jsonwebtoken'),Ts=require('uuid'),Ft=class c{constructor(_0x1ac0c9,_0xcfce6b,_0x57ea40){const _0x522617=a0_0x18a40e;this[_0x522617(0x3da)]=_0x1ac0c9,this[_0x522617(0x4a2)]=_0xcfce6b,this[_0x522617(0x34e)]=_0x57ea40,this['logger']=new v(c['name']);}async[a0_0x18a40e(0x806)](_0x344d1e){const _0x1bd5cb=a0_0x18a40e;let _0x8a4707=this[_0x1bd5cb(0x3da)][_0x1bd5cb(0x805)]('AUTHENTICATION')[_0x1bd5cb(0x534)],_0x299837=(0x0,Er[_0x1bd5cb(0x7e3)])({'instanceName':_0x344d1e[_0x1bd5cb(0x2d7)],'apiName':ze,'tokenId':(0x0,Ts['v4'])()},_0x8a4707[_0x1bd5cb(0x542)],{'expiresIn':_0x8a4707['EXPIRIN_IN'],'encoding':_0x1bd5cb(0x4fb),'subject':_0x1bd5cb(0x724)}),_0x3edb39=await this[_0x1bd5cb(0x34e)]['auth']['create']({'jwt':_0x299837},_0x344d1e[_0x1bd5cb(0x2d7)]);if(_0x3edb39[_0x1bd5cb(0x62b)])throw this[_0x1bd5cb(0x525)]['error']({'localError':c['name']+_0x1bd5cb(0x2db),'error':_0x3edb39['error']}),new m(_0x1bd5cb(0x4ed),_0x3edb39[_0x1bd5cb(0x62b)]?.[_0x1bd5cb(0x689)]());return{'jwt':_0x299837};}async[a0_0x18a40e(0x4b8)](_0x3b17b6){const _0x38c757=a0_0x18a40e;let _0x47f08e=(0x0,Ts['v4'])()[_0x38c757(0x456)](),_0x518131=await this[_0x38c757(0x34e)][_0x38c757(0x7c0)][_0x38c757(0x343)]({'apikey':_0x47f08e},_0x3b17b6[_0x38c757(0x2d7)]);if(_0x518131['error'])throw this[_0x38c757(0x525)][_0x38c757(0x62b)]({'localError':c[_0x38c757(0x317)]+_0x38c757(0x2db),'error':_0x518131[_0x38c757(0x62b)]}),new m(_0x38c757(0x4ed),_0x518131['error']?.[_0x38c757(0x689)]());return{'apikey':_0x47f08e};}async[a0_0x18a40e(0x33a)](_0x136676){const _0x3a16f2=a0_0x18a40e;let _0x2eeba5=this[_0x3a16f2(0x3da)]['get'](_0x3a16f2(0x72a));return await this[_0x2eeba5['TYPE']](_0x136676);}},qt=class{constructor(_0x11ec49){const _0x2a0763=a0_0x18a40e;this[_0x2a0763(0x4a2)]=_0x11ec49;}async[a0_0x18a40e(0x353)](_0x329149,_0x491795){const _0x2d8882=a0_0x18a40e;return await this[_0x2d8882(0x4a2)]['waInstances'][_0x329149[_0x2d8882(0x2d7)]][_0x2d8882(0x353)](_0x491795);}async[a0_0x18a40e(0x50f)](_0x11b51d,_0x3f23d2){const _0x54dcf7=a0_0x18a40e;return await this[_0x54dcf7(0x4a2)][_0x54dcf7(0x1ec)][_0x11b51d['instanceName']]['updateGroupPicture'](_0x3f23d2);}async[a0_0x18a40e(0x2e3)](_0x201284,_0x328005){const _0x55f799=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x201284['instanceName']][_0x55f799(0x2e3)](_0x328005);}async[a0_0x18a40e(0x2cc)](_0x18c68d,_0x2e623e){const _0x230e22=a0_0x18a40e;return await this['waMonitor'][_0x230e22(0x1ec)][_0x18c68d[_0x230e22(0x2d7)]]['groupName'](_0x2e623e);}async['groupSetting'](_0x4bf184,_0x580f21){const _0x457b10=a0_0x18a40e;return await this[_0x457b10(0x4a2)][_0x457b10(0x1ec)][_0x4bf184['instanceName']][_0x457b10(0x5fa)](_0x580f21);}async[a0_0x18a40e(0x66e)](_0x5750fe,_0x3e880c){const _0x37e828=a0_0x18a40e;return await this[_0x37e828(0x4a2)][_0x37e828(0x1ec)][_0x5750fe[_0x37e828(0x2d7)]][_0x37e828(0x5f8)](_0x3e880c);}async[a0_0x18a40e(0x740)](_0x14431c){const _0x4d068a=a0_0x18a40e;return await this[_0x4d068a(0x4a2)][_0x4d068a(0x1ec)][_0x14431c['instanceName']]['findGroups']();}async['inviteCode'](_0x4de8e4,_0x40ed62){const _0x5ad8bc=a0_0x18a40e;return await this[_0x5ad8bc(0x4a2)]['waInstances'][_0x4de8e4[_0x5ad8bc(0x2d7)]]['inviteCode'](_0x40ed62);}async['joinGroup'](_0x52414d,_0x691cb0){const _0x36f80e=a0_0x18a40e;return await this['waMonitor'][_0x36f80e(0x1ec)][_0x52414d['instanceName']][_0x36f80e(0x582)](_0x691cb0);}async[a0_0x18a40e(0x71a)](_0x32d3d6,_0x15273d){const _0x1e3113=a0_0x18a40e;return await this['waMonitor'][_0x1e3113(0x1ec)][_0x32d3d6['instanceName']][_0x1e3113(0x71a)](_0x15273d);}async[a0_0x18a40e(0x395)](_0x29007f,_0x2fc1ee){const _0x2c2678=a0_0x18a40e;return await this[_0x2c2678(0x4a2)][_0x2c2678(0x1ec)][_0x29007f['instanceName']]['findParticipants'](_0x2fc1ee);}async[a0_0x18a40e(0x24d)](_0x572fc5,_0x302d5d){const _0x5b1266=a0_0x18a40e;return await this[_0x5b1266(0x4a2)][_0x5b1266(0x1ec)][_0x572fc5[_0x5b1266(0x2d7)]][_0x5b1266(0x398)](_0x302d5d);}async[a0_0x18a40e(0x80b)](_0x1dea6c,_0x4719ab){const _0x155e39=a0_0x18a40e;return await this[_0x155e39(0x4a2)][_0x155e39(0x1ec)][_0x1dea6c['instanceName']][_0x155e39(0x80b)](_0x4719ab);}async[a0_0x18a40e(0x7d6)](_0x994e1f,_0x1d2740){const _0x5ed176=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x994e1f[_0x5ed176(0x2d7)]]['leaveGroup'](_0x1d2740);}},Ut=class{constructor(_0x519221){const _0x5a436b=a0_0x18a40e;this[_0x5a436b(0x4a2)]=_0x519221;}[a0_0x18a40e(0x343)](_0x1793ae,_0x487589){const _0xc7e546=a0_0x18a40e;return this[_0xc7e546(0x4a2)][_0xc7e546(0x1ec)][_0x1793ae[_0xc7e546(0x2d7)]][_0xc7e546(0x53c)](_0x487589);}async[a0_0x18a40e(0x437)](_0x1b0741){const _0x1df595=a0_0x18a40e;try{return await this[_0x1df595(0x4a2)][_0x1df595(0x1ec)][_0x1b0741[_0x1df595(0x2d7)]][_0x1df595(0x4f4)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x18a40e(0x41f)),Jt=class{constructor(_0x3ca31f){const _0x537203=a0_0x18a40e;this[_0x537203(0x4a2)]=_0x3ca31f;}async['editScheduleMessage'](_0x366342,_0xd3ffbb){const _0x37322b=a0_0x18a40e;return await this[_0x37322b(0x4a2)][_0x37322b(0x1ec)][_0x366342[_0x37322b(0x2d7)]][_0x37322b(0x453)](_0xd3ffbb);}async[a0_0x18a40e(0x720)](_0x3d3bd8){const _0x4fdb2a=a0_0x18a40e;return await this['waMonitor'][_0x4fdb2a(0x1ec)][_0x3d3bd8[_0x4fdb2a(0x2d7)]]['getScheduleMessage']();}async[a0_0x18a40e(0x258)](_0x45b5d7){const _0x48ef79=a0_0x18a40e;return await this[_0x48ef79(0x4a2)][_0x48ef79(0x1ec)][_0x45b5d7[_0x48ef79(0x2d7)]][_0x48ef79(0x258)]();}async[a0_0x18a40e(0x526)](_0x2cbc4b){const _0x48d412=a0_0x18a40e;return await this['waMonitor'][_0x48d412(0x1ec)][_0x2cbc4b[_0x48d412(0x2d7)]][_0x48d412(0x526)]();}async[a0_0x18a40e(0x7c1)](_0x104b21,_0x5d8dcf){const _0x515295=a0_0x18a40e;return await this[_0x515295(0x4a2)][_0x515295(0x1ec)][_0x104b21[_0x515295(0x2d7)]][_0x515295(0x7c1)](_0x5d8dcf);}async[a0_0x18a40e(0x4f7)](_0x2c1a24,_0x304bfa){const _0x470587=a0_0x18a40e;return await this[_0x470587(0x4a2)][_0x470587(0x1ec)][_0x2c1a24[_0x470587(0x2d7)]][_0x470587(0x4f7)](_0x304bfa);}async['updateFlowConfig'](_0x30a54c,_0x48aa59){const _0x52fdc1=a0_0x18a40e;return await this[_0x52fdc1(0x4a2)][_0x52fdc1(0x1ec)][_0x30a54c[_0x52fdc1(0x2d7)]][_0x52fdc1(0x322)](_0x48aa59);}async[a0_0x18a40e(0x734)](_0x4f2ba2,_0x27cffe){const _0x564931=a0_0x18a40e;return await this[_0x564931(0x4a2)][_0x564931(0x1ec)][_0x4f2ba2['instanceName']][_0x564931(0x734)](_0x27cffe);}async[a0_0x18a40e(0x7c8)](_0x5c3166,_0x1a205b){const _0x16e0cd=a0_0x18a40e;return await this[_0x16e0cd(0x4a2)][_0x16e0cd(0x1ec)][_0x5c3166[_0x16e0cd(0x2d7)]][_0x16e0cd(0x7c8)](_0x1a205b);}async[a0_0x18a40e(0x2cb)](_0x1ff7cc,_0x484de3){const _0xd03d8b=a0_0x18a40e;return await this[_0xd03d8b(0x4a2)][_0xd03d8b(0x1ec)][_0x1ff7cc[_0xd03d8b(0x2d7)]][_0xd03d8b(0x2cb)](_0x484de3);}async[a0_0x18a40e(0x6d2)](_0x3e0d22,_0x147e18){const _0x3f0e48=a0_0x18a40e;return await this[_0x3f0e48(0x4a2)]['waInstances'][_0x3e0d22[_0x3f0e48(0x2d7)]][_0x3f0e48(0x6d2)](_0x147e18);}async['deleteConversation'](_0x294ad6,_0x5784d4){const _0x1ecaaa=a0_0x18a40e;return await this[_0x1ecaaa(0x4a2)]['waInstances'][_0x294ad6[_0x1ecaaa(0x2d7)]][_0x1ecaaa(0x5ac)](_0x5784d4);}async[a0_0x18a40e(0x34b)](_0x2a41c0,_0x44a617){const _0x8266fd=a0_0x18a40e;return await this['waMonitor'][_0x8266fd(0x1ec)][_0x2a41c0['instanceName']]['getFlow'](_0x44a617[_0x8266fd(0x317)]);}async[a0_0x18a40e(0x2c8)](_0x145d7c,_0x597abb){const _0x57e01a=a0_0x18a40e;return await this[_0x57e01a(0x4a2)][_0x57e01a(0x1ec)][_0x145d7c[_0x57e01a(0x2d7)]][_0x57e01a(0x2c8)](_0x597abb);}async[a0_0x18a40e(0x1f8)](_0x41eb7d,_0x9858a8){const _0x2ddb1f=a0_0x18a40e;return await this['waMonitor'][_0x2ddb1f(0x1ec)][_0x41eb7d['instanceName']][_0x2ddb1f(0x1f8)](_0x9858a8);}async[a0_0x18a40e(0x55c)](_0x3ce5a,_0x6b8fc3){const _0x9fff53=a0_0x18a40e;return await this['waMonitor'][_0x9fff53(0x1ec)][_0x3ce5a['instanceName']][_0x9fff53(0x55c)](_0x6b8fc3);}async[a0_0x18a40e(0x1e8)](_0x4e9730,_0x2e4787){const _0x2163f8=a0_0x18a40e;return await this[_0x2163f8(0x4a2)][_0x2163f8(0x1ec)][_0x4e9730[_0x2163f8(0x2d7)]]['editFlowReply'](_0x2e4787);}async[a0_0x18a40e(0x6de)](_0x1dfe59,_0x511278){const _0x2aca5c=a0_0x18a40e;return await this[_0x2aca5c(0x4a2)][_0x2aca5c(0x1ec)][_0x1dfe59['instanceName']]['editFlowGroup'](_0x511278);}async[a0_0x18a40e(0x3f2)](_0x1fa922,_0x23bfef){const _0x2cc7f1=a0_0x18a40e;return await this[_0x2cc7f1(0x4a2)][_0x2cc7f1(0x1ec)][_0x1fa922['instanceName']][_0x2cc7f1(0x3f2)](_0x23bfef);}async[a0_0x18a40e(0x474)](_0xcd61f9,_0x1fbc24){const _0xf11142=a0_0x18a40e;return await this['waMonitor'][_0xf11142(0x1ec)][_0xcd61f9[_0xf11142(0x2d7)]][_0xf11142(0x474)](_0x1fbc24);}async[a0_0x18a40e(0x6e2)](_0x53271c,_0x5e96e5){const _0x3f27a0=a0_0x18a40e;return await this[_0x3f27a0(0x4a2)]['waInstances'][_0x53271c[_0x3f27a0(0x2d7)]]['editFlowVariable'](_0x5e96e5);}async[a0_0x18a40e(0x577)](_0x189be5,_0x14fd07){const _0x92ed37=a0_0x18a40e;return await this['waMonitor']['waInstances'][_0x189be5[_0x92ed37(0x2d7)]][_0x92ed37(0x577)](_0x14fd07['name']);}async[a0_0x18a40e(0x574)](_0x739b95){const _0x3299cd=a0_0x18a40e;return await this[_0x3299cd(0x4a2)][_0x3299cd(0x1ec)][_0x739b95[_0x3299cd(0x2d7)]][_0x3299cd(0x574)]();}},Vt=class{constructor(_0x4eac03){const _0x37a4f8=a0_0x18a40e;this[_0x37a4f8(0x202)]=_0x4eac03;}async[a0_0x18a40e(0x55b)](_0xe34530,_0x5e428a){const _0x2dbf31=a0_0x18a40e;return this['webhookService'][_0x2dbf31(0x343)](_0xe34530,_0x5e428a);}async[a0_0x18a40e(0x4f4)](_0x1df855){return this['webhookService']['find'](_0x1df855);}},Bt=class extends I{constructor(_0x244ab4,_0x4d7c61){const _0x3964b5=a0_0x18a40e;super(_0x4d7c61),this[_0x3964b5(0x215)]=_0x244ab4,this['configService']=_0x4d7c61;}async[a0_0x18a40e(0x343)](_0x4aa77a,_0x2d773b){const _0x2d32ba=a0_0x18a40e;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x2d32ba(0x215)][_0x2d32ba(0x612)]({'_id':_0x2d773b},{..._0x4aa77a},{'upsert':!0x0}))[_0x2d32ba(0x6d1)]}:{'insertCount':0x1};}catch(_0x1f6b60){return _0x1f6b60;}}async[a0_0x18a40e(0x4fe)](_0x1bef43){const _0x5b81e5=a0_0x18a40e;try{if(this['dbSettings'][_0x5b81e5(0x3e8)]){await this[_0x5b81e5(0x215)][_0x5b81e5(0x82e)]({'_id':_0x1bef43});return;}}catch(_0x4bd07d){return{'error':_0x4bd07d};}}async[a0_0x18a40e(0x437)](_0x3b9218){const _0x37f941=a0_0x18a40e;try{if(this['dbSettings'][_0x37f941(0x3e8)])return await this[_0x37f941(0x215)][_0x37f941(0x24e)]({'_id':_0x3b9218});}catch{return{};}}},Gt=class extends I{constructor(_0x17e7ea,_0x6e31cf){const _0x44e5be=a0_0x18a40e;super(_0x6e31cf),this['authModel']=_0x17e7ea,this['configService']=_0x6e31cf,this[_0x44e5be(0x7c0)]=_0x6e31cf[_0x44e5be(0x805)](_0x44e5be(0x72a));}async[a0_0x18a40e(0x343)](_0x558b0c,_0x147214){const _0x37f6e2=a0_0x18a40e;try{if(this[_0x37f6e2(0x4fd)]['ENABLED'])return{'insertCount':(await this[_0x37f6e2(0x46f)][_0x37f6e2(0x328)]({'_id':_0x147214},{'$set':{..._0x558b0c}},{'upsert':!0x0}))[_0x37f6e2(0x6d1)]};}catch(_0x46b23c){return{'error':_0x46b23c};}}async[a0_0x18a40e(0x653)](_0x3cc301,_0x1c760b){const _0x233efb=a0_0x18a40e;try{if(this['dbSettings'][_0x233efb(0x3e8)])return{'insertCount':(await this[_0x233efb(0x46f)]['updateMany'](_0x3cc301,{'$set':_0x1c760b},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x233efb(0x2f7));}catch(_0x4d8abd){return{'error':_0x4d8abd};}}async['deleteMany'](_0x44210e){const _0x1e3e65=a0_0x18a40e;try{if(this['dbSettings'][_0x1e3e65(0x3e8)])return{'insertCount':(await this[_0x1e3e65(0x46f)][_0x1e3e65(0x697)](_0x44210e))[_0x1e3e65(0x52f)]};throw new Error(_0x1e3e65(0x2f7));}catch(_0x599a86){return{'error':_0x599a86};}}async[a0_0x18a40e(0x4fe)](_0x31e22a){const _0x13a8d7=a0_0x18a40e;try{if(this[_0x13a8d7(0x4fd)][_0x13a8d7(0x3e8)]){await this['authModel'][_0x13a8d7(0x82e)]({'_id':_0x31e22a});return;}}catch(_0xabe423){return{'error':_0xabe423};}}async['find'](_0x569284){const _0x1dfa29=a0_0x18a40e;try{if(this[_0x1dfa29(0x4fd)][_0x1dfa29(0x3e8)])return await this[_0x1dfa29(0x46f)][_0x1dfa29(0x24e)]({'_id':_0x569284});}catch{return{};}}async[a0_0x18a40e(0x363)](){const _0x2b7810=a0_0x18a40e;try{if(this[_0x2b7810(0x4fd)][_0x2b7810(0x3e8)])return await this[_0x2b7810(0x46f)][_0x2b7810(0x437)]();}catch{return[];}}},Wt=class extends I{[a0_0x18a40e(0x5c6)](_0x247d9f){return sa(_0x247d9f);}async[a0_0x18a40e(0x3fd)](_0x2c01ae){const _0x666a6b=a0_0x18a40e;try{let _0x27026b=aa,_0x57f9e9=this[_0x666a6b(0x5c6)](_0x2c01ae),_0x3b7717=await _0x27026b[_0x666a6b(0x437)]({'owner':_0x2c01ae})[_0x666a6b(0x800)](),_0x526a61=[],_0x3f6284=[];for(let _0x4cdbf3 of _0x3b7717)await _0x57f9e9[_0x666a6b(0x42d)](_0x4cdbf3[_0x666a6b(0x6bf)])[_0x666a6b(0x800)]()||(_0x526a61[_0x666a6b(0x78b)](_0x4cdbf3),_0x3f6284[_0x666a6b(0x78b)](_0x4cdbf3[_0x666a6b(0x6bf)]));return _0x526a61['length']>0x0&&await _0x57f9e9[_0x666a6b(0x242)](_0x526a61,{'ordered':!0x1}),{'success':!0x0};}catch(_0x23bf04){return console[_0x666a6b(0x62b)]('Erro\x20ao\x20copiar\x20dados:',_0x23bf04),{'success':!0x1,'error':_0x23bf04};}}async[a0_0x18a40e(0x4fe)](_0x527e39,_0x211011){const _0xca5d0f=a0_0x18a40e;try{let _0x463e67=this[_0xca5d0f(0x5c6)](_0x211011),_0x1d4860=A(_0x527e39[_0xca5d0f(0x53d)]);return{'deletedCount':(await _0x463e67[_0xca5d0f(0x697)](_0x1d4860))['deletedCount']};}catch(_0xae55b1){return{'error':_0xae55b1?.[_0xca5d0f(0x689)]()};}}async[a0_0x18a40e(0x82e)](_0xaed318,_0x5f5cd8){const _0xeb5f0b=a0_0x18a40e;try{let _0x4df581=this[_0xeb5f0b(0x5c6)](_0x5f5cd8),_0x1aab89=A(_0xaed318['where']);return{'deletedCount':(await _0x4df581['deleteOne'](_0x1aab89))['deletedCount']};}catch(_0x2fd5e5){return{'error':_0x2fd5e5?.[_0xeb5f0b(0x689)]()};}}async[a0_0x18a40e(0x328)](_0x292c0b,_0x3b16a2,_0x1166bf){const _0x255f05=a0_0x18a40e;try{return await this[_0x255f05(0x5c6)](_0x1166bf)[_0x255f05(0x59a)](_0x292c0b,_0x3b16a2,{'new':!0x0});}catch(_0x42fa25){return console['error'](_0x255f05(0x335),_0x42fa25),null;}}async[a0_0x18a40e(0x443)](_0x4ab219,_0x354bc1){const _0xd8e52=a0_0x18a40e;try{let _0x2da6e1=this[_0xd8e52(0x5c6)](_0x354bc1);return await new _0x2da6e1(_0x4ab219)['save']();}catch(_0x352775){return console[_0xd8e52(0x62b)](_0xd8e52(0x750),_0x352775),null;}}async[a0_0x18a40e(0x351)](_0x131644,_0x3c65d0,_0x3b618a){const _0x6744a1=a0_0x18a40e;try{return{'modifiedCount':(await this[_0x6744a1(0x5c6)](_0x3b618a)[_0x6744a1(0x351)](_0x131644,{'$set':_0x3c65d0}))['modifiedCount']};}catch(_0x4eff5f){return console['error']('Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:',_0x4eff5f),{'error':_0x4eff5f};}}async[a0_0x18a40e(0x363)](_0x4bf58f,_0x1d877d){const _0x255ced=a0_0x18a40e;try{let _0x18ab5a=this[_0x255ced(0x5c6)](_0x1d877d),_0x1684d4=A(_0x4bf58f['where']);return await _0x18ab5a[_0x255ced(0x437)](_0x1684d4)[_0x255ced(0x1ab)](_0x4bf58f?.[_0x255ced(0x1ab)]??0x0)[_0x255ced(0x800)]();}catch{return[];}}async[a0_0x18a40e(0x24e)](_0x347254,_0x44e677){const _0x1c3342=a0_0x18a40e;try{let _0x87bb23=this[_0x1c3342(0x5c6)](_0x44e677),_0x575c0f=A(_0x347254[_0x1c3342(0x53d)]);return await _0x87bb23[_0x1c3342(0x24e)](_0x575c0f)[_0x1c3342(0x800)]();}catch{return null;}}async[a0_0x18a40e(0x279)](_0x3ddf82){const _0x59547f=a0_0x18a40e;try{return await this[_0x59547f(0x5c6)](_0x3ddf82)[_0x59547f(0x2c0)][_0x59547f(0x1b6)](),{'success':!0x0};}catch(_0x3e26b8){return console['error'](_0x3e26b8),{'success':!0x1,'error':_0x3e26b8};}}},zt=class extends I{[a0_0x18a40e(0x7ea)](_0x54ff97){return oa(_0x54ff97);}async[a0_0x18a40e(0x3fd)](_0x31aea7){const _0x15eb84=a0_0x18a40e;try{let _0x1f3aca=ia,_0x354600=this[_0x15eb84(0x7ea)](_0x31aea7),_0x223292=await _0x1f3aca['find']({'owner':_0x31aea7})['lean'](),_0x26d350=[],_0x2492a3=[];for(let _0x527acf of _0x223292)await _0x354600[_0x15eb84(0x42d)](_0x527acf[_0x15eb84(0x6bf)])[_0x15eb84(0x800)]()||(_0x26d350['push'](_0x527acf),_0x2492a3[_0x15eb84(0x78b)](_0x527acf[_0x15eb84(0x6bf)]));return _0x26d350[_0x15eb84(0x233)]>0x0&&await _0x354600['insertMany'](_0x26d350,{'ordered':!0x1}),{'success':!0x0};}catch(_0x6e477c){return console[_0x15eb84(0x62b)](_0x15eb84(0x5e4),_0x6e477c),{'success':!0x1,'error':_0x6e477c};}}async[a0_0x18a40e(0x80f)](_0x1e67df){const _0x37240f=a0_0x18a40e;if(_0x1e67df[_0x37240f(0x233)]!==0x0)try{return{'insertCount':(await this[_0x37240f(0x7ea)](_0x1e67df[0x0][_0x37240f(0x200)])['insertMany']([..._0x1e67df]))[_0x37240f(0x233)]};}catch(_0xdba837){return _0xdba837;}}async[a0_0x18a40e(0x4fe)](_0x2ae4fd,_0x42a87c){const _0x5cb6b5=a0_0x18a40e;try{let _0x30d8e5=this[_0x5cb6b5(0x7ea)](_0x42a87c),_0x3dda8b=A(_0x2ae4fd[_0x5cb6b5(0x53d)]);return{'deletedCount':(await _0x30d8e5[_0x5cb6b5(0x697)](_0x3dda8b))[_0x5cb6b5(0x52f)]};}catch(_0xbfabe4){return{'error':_0xbfabe4?.[_0x5cb6b5(0x689)]()};}}async['deleteOne'](_0x345fee,_0x2abde5){const _0x495569=a0_0x18a40e;try{let _0x370fab=this[_0x495569(0x7ea)](_0x2abde5),_0x51c7d8=A(_0x345fee[_0x495569(0x53d)]);return{'deletedCount':(await _0x370fab['deleteOne'](_0x51c7d8))['deletedCount']};}catch(_0x33b143){return{'error':_0x33b143?.[_0x495569(0x689)]()};}}async[a0_0x18a40e(0x4f5)](_0x78aa2b,_0x2eda83){const _0x47657b=a0_0x18a40e;try{if(_0x78aa2b['length']===0x0)return;let _0x597f3b=this[_0x47657b(0x7ea)](_0x2eda83),_0x1c322d=_0x78aa2b[_0x47657b(0x783)](_0x19c98f=>({'updateOne':{'filter':{'name':_0x19c98f[_0x47657b(0x317)],'owner':_0x2eda83},'update':{..._0x19c98f}}})),{modifiedCount:_0x58f250}=await _0x597f3b[_0x47657b(0x304)](_0x1c322d);return{'insertCount':_0x58f250};}catch{return;}}async[a0_0x18a40e(0x351)](_0x51de57,_0x2657f6,_0x3678be){const _0x35e520=a0_0x18a40e;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x3678be)[_0x35e520(0x351)](_0x51de57,{'$set':_0x2657f6}))[_0x35e520(0x6d1)]};}catch(_0x2f7634){return console['error'](_0x35e520(0x3ba),_0x2f7634),{'error':_0x2f7634};}}async[a0_0x18a40e(0x328)](_0x12be9a,_0x430c42,_0x361d94){const _0x3a471e=a0_0x18a40e;try{return await this[_0x3a471e(0x7ea)](_0x361d94)[_0x3a471e(0x22e)]({'_id':_0x12be9a},{'$set':_0x430c42},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x26d90d){return console[_0x3a471e(0x62b)](_0x26d90d),null;}}async[a0_0x18a40e(0x437)](_0x4d81cc,_0x58fc44){const _0x4d6b8d=a0_0x18a40e;try{return await this[_0x4d6b8d(0x7ea)](_0x58fc44)['find'](_0x4d81cc)[_0x4d6b8d(0x818)]({'lastInteraction':-0x1})[_0x4d6b8d(0x800)]();}catch{return[];}}async[a0_0x18a40e(0x24e)](_0x22eff7,_0x52d82d){const _0x44f1d0=a0_0x18a40e;try{return await this[_0x44f1d0(0x7ea)](_0x52d82d)['findOne']({..._0x22eff7[_0x44f1d0(0x53d)]})[_0x44f1d0(0x800)]();}catch{return null;}}async[a0_0x18a40e(0x279)](_0x167811){try{return await this['getConversationModelForOwner'](_0x167811)['collection']['drop'](),{'success':!0x0};}catch(_0x2df88b){return console['error'](_0x2df88b),{'success':!0x1,'error':_0x2df88b};}}},Ht=class extends I{[a0_0x18a40e(0x1a5)](_0x37754a){return ca(_0x37754a);}async[a0_0x18a40e(0x3fd)](_0x26d2e1){const _0x2e083d=a0_0x18a40e;try{let _0x1bf0dd=la,_0x4d520b=this[_0x2e083d(0x1a5)](_0x26d2e1),_0x16aeb5=await _0x1bf0dd[_0x2e083d(0x437)]({'owner':_0x26d2e1})[_0x2e083d(0x800)](),_0x4174af=[],_0x43a0e9=[];for(let _0x3b3fbe of _0x16aeb5)await _0x4d520b['findById'](_0x3b3fbe[_0x2e083d(0x6bf)])[_0x2e083d(0x800)]()||(_0x4174af[_0x2e083d(0x78b)](_0x3b3fbe),_0x43a0e9[_0x2e083d(0x78b)](_0x3b3fbe[_0x2e083d(0x6bf)]));return _0x4174af[_0x2e083d(0x233)]>0x0&&await _0x4d520b['insertMany'](_0x4174af,{'ordered':!0x1}),{'success':!0x0};}catch(_0x554091){return console[_0x2e083d(0x62b)]('Erro\x20ao\x20copiar\x20dados:',_0x554091),{'success':!0x1,'error':_0x554091};}}async[a0_0x18a40e(0x443)](_0x10860d,_0x3e0b4f){const _0x10ac90=a0_0x18a40e;try{let _0x536db0=this[_0x10ac90(0x1a5)](_0x3e0b4f);return await new _0x536db0(_0x10860d)['save']();}catch(_0x166d86){return console[_0x10ac90(0x62b)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x166d86),null;}}async[a0_0x18a40e(0x82e)](_0x1099be,_0x32ccc6){const _0x120f97=a0_0x18a40e;try{return await this[_0x120f97(0x1a5)](_0x32ccc6)[_0x120f97(0x4f9)](_0x1099be),{};}catch(_0x15f232){return{'error':_0x15f232?.['toString']()};}}async['updateOne'](_0x54d7b7,_0x37f171,_0xebd8d1){const _0x356af5=a0_0x18a40e;try{return await this[_0x356af5(0x1a5)](_0xebd8d1)[_0x356af5(0x22e)](_0x54d7b7,{'$set':_0x37f171},{'new':!0x0})[_0x356af5(0x800)]();}catch(_0x96064a){return console[_0x356af5(0x62b)](_0x356af5(0x589),_0x96064a),null;}}async['updateOneById'](_0xe904ca,_0x19172e,_0x20a947){const _0x14eb46=a0_0x18a40e;try{return await this[_0x14eb46(0x1a5)](_0x20a947)[_0x14eb46(0x59a)](_0xe904ca,_0x19172e,{'new':!0x0})[_0x14eb46(0x800)]();}catch(_0x5ad679){return console[_0x14eb46(0x62b)](_0x14eb46(0x589),_0x5ad679),null;}}async[a0_0x18a40e(0x437)](_0x22c4dc,_0x4d9a3c){const _0x669b01=a0_0x18a40e;try{return await this['getScheduleMessageModelForOwner'](_0x4d9a3c)[_0x669b01(0x437)](_0x22c4dc['where'])['limit'](_0x22c4dc?.[_0x669b01(0x1ab)]??0x0)[_0x669b01(0x818)]({'when':0x1})[_0x669b01(0x800)]();}catch{return[];}}async[a0_0x18a40e(0x24e)](_0x30cf82,_0x3785ea){const _0x431655=a0_0x18a40e;try{return await this[_0x431655(0x1a5)](_0x3785ea)[_0x431655(0x24e)](_0x30cf82[_0x431655(0x53d)])[_0x431655(0x818)]({'when':0x1})[_0x431655(0x800)]();}catch{return null;}}async[a0_0x18a40e(0x42d)](_0x4cd317,_0x525477){const _0x462b43=a0_0x18a40e;try{return await this[_0x462b43(0x1a5)](_0x525477)[_0x462b43(0x42d)](_0x4cd317)['lean']();}catch{return null;}}async[a0_0x18a40e(0x697)](_0x5daa8e,_0x383879){const _0x398373=a0_0x18a40e;try{return{'deletedCount':(await this[_0x398373(0x1a5)](_0x383879)['deleteMany'](_0x5daa8e))[_0x398373(0x52f)]};}catch(_0x2c0b34){return console['error'](_0x398373(0x58a),_0x2c0b34),{'error':_0x2c0b34};}}async[a0_0x18a40e(0x279)](_0x3e5c75){const _0x325d16=a0_0x18a40e;try{return await this[_0x325d16(0x1a5)](_0x3e5c75)[_0x325d16(0x2c0)][_0x325d16(0x1b6)](),{'success':!0x0};}catch(_0x8608ed){return console[_0x325d16(0x62b)](_0x8608ed),{'success':!0x1,'error':_0x8608ed};}}},Kt=class extends I{async['update'](_0x251623,_0x36ec66){const _0x37c561=a0_0x18a40e;try{if(this[_0x37c561(0x4fd)]['ENABLED']){let _0x3963db=await Pe[_0x37c561(0x22e)]({'_id':_0x36ec66},{'$set':_0x251623},{'new':!0x0});return console[_0x37c561(0x737)](_0x37c561(0x63a),_0x3963db),_0x3963db;}}catch(_0x31e1dc){throw console['error'](_0x37c561(0x5cb),_0x31e1dc),_0x31e1dc;}}async['findOrCreate'](_0x2fe7de){const _0x2b0240=a0_0x18a40e;try{let _0x39e457=await Pe[_0x2b0240(0x42d)](_0x2fe7de);return _0x39e457||(_0x39e457=new Pe({'_id':_0x2fe7de}),await _0x39e457[_0x2b0240(0x3c3)]()),_0x39e457;}catch(_0x113c5a){return console[_0x2b0240(0x62b)](_0x2b0240(0x7b8),_0x113c5a),null;}}},yo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Bt(Ys,b),Mo=new Gt(Hs,b),vo=new Wt(b),No=new $t(b),Ro=new zt(b),To=new Ht(b),Ao=new Kt(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x18a40e(0x2fe)]()),B=new _t(ts,b,ce),Oo=new Ft(b,B,ce),Io=new Ut(B),hs=new Vt(Io),T=new Jt(B),le=new Lt(B,b,ce,ts,Oo),G=new jt(B),x=new kt(B),q=new qt(B);yo['info'](a0_0x18a40e(0x31e));var gg=require(a0_0x18a40e(0x3fa)),As=require('fs'),Cr=R(require(a0_0x18a40e(0x517))),Mr=R(require(a0_0x18a40e(0x2a1))),Ne=class c{static #e;static set[a0_0x18a40e(0x648)](_0x40e34c){this.#e=_0x40e34c;}static get[a0_0x18a40e(0x517)](){const _0x1f6357=a0_0x18a40e;let {FULLCHAIN:_0x28e024,PRIVKEY:_0x19db58}=b[_0x1f6357(0x805)](_0x1f6357(0x260));return Cr[_0x1f6357(0x6cc)]({'cert':(0x0,As[_0x1f6357(0x684)])(_0x28e024),'key':(0x0,As[_0x1f6357(0x684)])(_0x19db58)},c.#e);}static get[a0_0x18a40e(0x2a1)](){return Mr['createServer'](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x18a40e(0x7d2))),Re=R(require(a0_0x18a40e(0x309))),Ae=R(require(a0_0x18a40e(0x602))),Oe=require(a0_0x18a40e(0x3f6));function xo(){const _0x2c21a8=a0_0x18a40e;B[_0x2c21a8(0x3ff)]();let _0x35f43c=Ae['default']['join'](__dirname,'downloads');Ar(_0x35f43c);}var Ar=_0x48445c=>{const _0xc84e99=a0_0x18a40e;let _0x473032=de[_0xc84e99(0x41b)]['readdirSync'](_0x48445c),_0x10d168=0xc*0x3c*0x3c*0x3e8,_0x4b6809=0x2*0x3c*0x3c*0x3e8,_0x447c98=new Date()[_0xc84e99(0x6f1)]();_0x473032[_0xc84e99(0x45f)](_0xdaf008=>{const _0x501b94=_0xc84e99;let _0x36d85b=Ae[_0x501b94(0x41b)][_0x501b94(0x261)](_0x48445c,_0xdaf008),_0x311c13=de[_0x501b94(0x41b)][_0x501b94(0x4a9)](_0x36d85b)[_0x501b94(0x333)][_0x501b94(0x6f1)]();_0x447c98-_0x311c13>_0x10d168&&(de[_0x501b94(0x41b)][_0x501b94(0x3f5)](_0x36d85b),console[_0x501b94(0x737)](_0x501b94(0x2c5)+_0xdaf008));}),setTimeout(()=>Ar(_0x48445c),_0x4b6809);};function Do(){const _0x4f806f=a0_0x18a40e;let _0x3ef097=new v('SERVER'),_0x2cb3da=(0x0,pe[_0x4f806f(0x41b)])();_0x2cb3da[_0x4f806f(0x3ef)]((0x0,Tr[_0x4f806f(0x41b)])({'origin'(_0x51dfdc,_0x5461f0){const _0x18b13c=_0x4f806f;let {ORIGIN:_0x475b84}=b[_0x18b13c(0x805)]('CORS');return _0x51dfdc||(_0x51dfdc='*'),_0x475b84[_0x18b13c(0x225)]('*')!==-0x1||_0x475b84[_0x18b13c(0x225)](_0x51dfdc)!==-0x1?_0x5461f0(null,!0x0):_0x5461f0(new Error(_0x18b13c(0x3cb)));},'methods':[...b[_0x4f806f(0x805)](_0x4f806f(0x4ba))[_0x4f806f(0x388)]],'credentials':b[_0x4f806f(0x805)]('CORS')[_0x4f806f(0x622)]}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x4f806f(0x1bc)}),(0x0,pe[_0x4f806f(0x5ed)])({'limit':_0x4f806f(0x1bc)})),_0x2cb3da[_0x4f806f(0x3ef)]((_0x4947f9,_0x5af4f0,_0x2e65f9)=>{const _0x166711=_0x4f806f;_0x4947f9[_0x166711(0x602)]['startsWith'](_0x166711(0x440))?_0x2e65f9():(0x0,Rr[_0x166711(0x41b)])()(_0x4947f9,_0x5af4f0,_0x2e65f9);}),_0x2cb3da[_0x4f806f(0x752)](_0x4f806f(0x5d2),_0x4f806f(0x1eb)),_0x2cb3da[_0x4f806f(0x752)](_0x4f806f(0x1f6),(0x0,Is[_0x4f806f(0x261)])(ae,_0x4f806f(0x1f6))),_0x2cb3da[_0x4f806f(0x3ef)](pe[_0x4f806f(0x41b)]['static']((0x0,Is['join'])(ae,_0x4f806f(0x666)))),_0x2cb3da[_0x4f806f(0x3ef)]((_0x1aec29,_0xa4a14a,_0x5b48db)=>{const _0x1bdd4d=_0x4f806f;let _0x538cab=_0xa4a14a[_0x1bdd4d(0x68f)];_0xa4a14a['send']=function(_0x549a3a){const _0x4114da=_0x1bdd4d;if(_0x1aec29[_0x4114da(0x62a)][_0x4114da(0x417)]===_0x4114da(0x715)||_0x1aec29[_0x4114da(0x5eb)][_0x4114da(0x1de)]===_0x4114da(0x715)){let _0x278751=JSON[_0x4114da(0x596)](_0x549a3a);_0x549a3a=JSON[_0x4114da(0x613)](_0x354b4b(_0x278751));}return _0x538cab[_0x4114da(0x2ac)](_0xa4a14a,[_0x549a3a]);},_0x5b48db();}),_0x2cb3da[_0x4f806f(0x3ef)]('/',vt),_0x2cb3da[_0x4f806f(0x3ef)]((_0x303d06,_0x107291,_0x10ee6f,_0x33c672)=>{const _0x411ee4=_0x4f806f;if(_0x303d06)return _0x10ee6f[_0x411ee4(0x6d8)](_0x303d06[_0x411ee4(0x6d8)]||0x1f4)[_0x411ee4(0x5ed)](_0x303d06);},(_0x3ba88f,_0x6c38b8,_0x50ab80)=>{const _0x9c96c6=_0x4f806f;let {method:_0x4ac3bc,url:_0x538469}=_0x3ba88f;_0x6c38b8[_0x9c96c6(0x6d8)](0x194)[_0x9c96c6(0x5ed)]({'status':0x194,'message':_0x9c96c6(0x785)+_0x4ac3bc['toUpperCase']()+'\x20'+_0x538469,'error':_0x9c96c6(0x756)}),_0x50ab80();});let _0x354b4b=(_0x4eed1d,_0x5e37c9=_0x4f806f(0x2b8))=>{const _0x143229=_0x4f806f;let _0x1f1e0a=(_0x51f265,_0x54741a=null,_0x2d1063=!0x1)=>{const _0x812707=a0_0x26bc;let _0x58cbe4={};return Object[_0x812707(0x3f3)](_0x51f265)[_0x812707(0x45f)](_0x4ae0e0=>{const _0x3bb009=_0x812707;let _0x527854=_0x51f265[_0x4ae0e0],_0x45c6d5=''+_0x5e37c9+_0x4ae0e0;_0x54741a&&!_0x2d1063&&(_0x45c6d5=_0x54741a+'.'+_0x4ae0e0),!_0x527854&&_0x527854!==0x0&&_0x527854!==!0x1||typeof _0x527854>'u'?_0x58cbe4[_0x45c6d5]=null:typeof _0x527854!=_0x3bb009(0x3c8)&&!Array[_0x3bb009(0x213)](_0x527854)?_0x58cbe4[_0x45c6d5]=_0x527854:typeof _0x527854=='object'&&!Array[_0x3bb009(0x213)](_0x527854)?_0x58cbe4=Object[_0x3bb009(0x742)](_0x58cbe4,_0x1f1e0a(_0x527854,_0x45c6d5)):Array[_0x3bb009(0x213)](_0x527854)&&(typeof _0x527854[0x0]==_0x3bb009(0x3c8)?(_0x58cbe4[_0x45c6d5]=[],_0x527854[_0x3bb009(0x45f)](_0x18b6ba=>{_0x58cbe4[_0x45c6d5]['push'](_0x1f1e0a(_0x18b6ba,_0x45c6d5,!0x0));})):_0x58cbe4[_0x45c6d5]=_0x527854);}),_0x58cbe4;};return Array[_0x143229(0x213)](_0x4eed1d)?_0x4eed1d[_0x143229(0x783)](_0x53a13c=>_0x1f1e0a(_0x53a13c)):typeof _0x4eed1d==_0x143229(0x3c8)&&_0x4eed1d!==null?_0x1f1e0a(_0x4eed1d):{};},_0x5b9fd8=b[_0x4f806f(0x805)](_0x4f806f(0x5a0));Ne['app']=_0x2cb3da;let _0x369aeb=Ne[_0x5b9fd8[_0x4f806f(0x655)]],_0x4c735e=_0x4f806f(0x81e);_0x369aeb[_0x4f806f(0x267)](_0x5b9fd8[_0x4f806f(0x216)],()=>{const _0x3d21eb=_0x4f806f;_0x3ef097['log'](_0x4c735e),_0x3ef097[_0x3d21eb(0x737)](_0x5b9fd8[_0x3d21eb(0x655)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x5b9fd8['PORT']);}),xo(),qs();}var _o='https://github.com/uazapi/uazapi.git',Po=Ae[a0_0x18a40e(0x41b)][a0_0x18a40e(0x261)](__dirname,a0_0x18a40e(0x73c)),Te=null;function $o(){return new Promise((_0x248566,_0x53aa61)=>{const _0x310f0f=a0_0x26bc;de[_0x310f0f(0x41b)]['readFile'](Po,_0x310f0f(0x4cf),(_0x4ff733,_0x3e73cf)=>{const _0x47456c=_0x310f0f;if(_0x4ff733){Te=_0x4ff733,_0x248566();return;}Or[_0x47456c(0x41b)][_0x47456c(0x596)](_0x3e73cf)[_0x47456c(0x50b)][_0x47456c(0x31f)]===_o?(Te=null,_0x248566()):(Te=new Error(_0x47456c(0x786)),_0x248566());});});}async function ko(){const _0x1161a=a0_0x18a40e;try{await $o(),await xs();}catch(_0x27375e){console[_0x1161a(0x62b)](_0x1161a(0x56c)+_0x27375e),process[_0x1161a(0x722)](0x1);}}ko();async function Ir(){const _0x24adcd=a0_0x18a40e;let _0x6d30df;try{_0x6d30df=(await Re['default'][_0x24adcd(0x805)](_0x24adcd(0x62d)))['data']['ip'];}catch(_0x4fce89){console[_0x24adcd(0x62b)](_0x4fce89);try{_0x6d30df=(await Re[_0x24adcd(0x41b)][_0x24adcd(0x805)](_0x24adcd(0x23c)))[_0x24adcd(0x747)]['ip'];}catch(_0x47d002){console['error'](_0x47d002);try{_0x6d30df=(await Re['default'][_0x24adcd(0x805)]('http://checkip.dyndns.org'))[_0x24adcd(0x747)][_0x24adcd(0x3e3)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x478c2e){return console[_0x24adcd(0x62b)](_0x478c2e),!0x1;}}}return _0x6d30df;}var vr=0x0;async function Lo(){const _0x24b3f6=a0_0x18a40e;let _0x2a736c=await new re(b[_0x24b3f6(0x805)](_0x24b3f6(0x43a)))[_0x24b3f6(0x2c3)]();return console['log'](_0x24b3f6(0x477),_0x2a736c['length']),_0x2a736c[_0x24b3f6(0x233)];}function jo(_0xee4643){const _0x31b79d=a0_0x18a40e;let _0x358f95=_0xee4643[_0x31b79d(0x805)]('SERVER')[_0x31b79d(0x563)],_0x577c98=_0xee4643[_0x31b79d(0x805)](_0x31b79d(0x260)),_0x54d54c;if(_0x358f95){let _0x348881=_0x358f95[_0x31b79d(0x3e3)](/\/\/(.*?)\./);_0x348881&&_0x348881[0x1]&&(_0x54d54c=_0x348881[0x1]);}if(!_0x54d54c&&_0x577c98&&_0x577c98[_0x31b79d(0x27c)]){let _0x3b40d3=_0x577c98[_0x31b79d(0x27c)]['split']('/'),_0x1bb24a=_0x3b40d3[_0x3b40d3[_0x31b79d(0x233)]-0x2];if(_0x1bb24a){let _0x1dab62=_0x1bb24a[_0x31b79d(0x432)]('.');_0x1dab62[_0x31b79d(0x233)]>0x2&&(_0x54d54c=_0x1dab62[0x0]);}}return _0x54d54c;}var Ns=jo(b);async function Fo(){const _0x30b64b=a0_0x18a40e;let _0xb0d41a=b[_0x30b64b(0x805)]('REDIS'),_0x44d92e=b[_0x30b64b(0x805)]('AUTHENTICATION')['API_KEY'][_0x30b64b(0x425)],_0x1f4a2b=b[_0x30b64b(0x805)]('SSL_CONF'),_0x410f3b=await Ir(),_0x1a0cd6=b[_0x30b64b(0x805)](_0x30b64b(0x5a0))[_0x30b64b(0x216)],_0xb59879=b[_0x30b64b(0x805)](_0x30b64b(0x5a0))[_0x30b64b(0x563)];try{let _0x3b6818={'ip':_0x410f3b||null,'redis_enable':_0xb0d41a?.[_0x30b64b(0x3e8)]||null,'apikey':_0x44d92e||null,'ssl':_0x1f4a2b?.[_0x30b64b(0x2a2)]||null,'lastupdate':xr||null,'port':_0x1a0cd6||null,'gitInstallError':Te?.[_0x30b64b(0x50c)]||null,'url':_0xb59879||null};if(console[_0x30b64b(0x737)](_0x30b64b(0x4de),_0x3b6818['ip']),_0xb0d41a&&_0xb0d41a[_0x30b64b(0x3e8)]){let _0x43c40b=await Lo();_0x3b6818[_0x30b64b(0x530)]=_0x43c40b||null;}for(let _0x499926 in _0x3b6818)_0x3b6818[_0x30b64b(0x410)](_0x499926)&&_0x499926!=='ip'&&(_0x3b6818[_0x499926]=JSON[_0x30b64b(0x613)](_0x3b6818[_0x499926]));return(await Re[_0x30b64b(0x41b)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3b6818))[_0x30b64b(0x747)];}catch(_0x404483){return console[_0x30b64b(0x62b)](_0x404483),!0x1;}}var Os=!0x1,xr=0x222,qo=0x3,Nr=0x1b7740;async function xs(){const _0x1cfa1c=a0_0x18a40e;if(!await Ir())return console[_0x1cfa1c(0x62b)](_0x1cfa1c(0x568)),'NO_IP';let _0xeaea18=await Fo();if(_0xeaea18){if(_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x307)]===!0x0){b['get'](_0x1cfa1c(0x260))[_0x1cfa1c(0x2a2)][_0x1cfa1c(0x3a7)](_0x1cfa1c(0x38c))&&_0xeaea18[_0x1cfa1c(0x7e4)]['subdomain']&&(await Vo(_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x635)],Jo),await Bo('augusto.fcs@gmail.com',_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x635)]),console['log'](_0x1cfa1c(0x47e)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x6be)]-xr>0x0&&await Uo(),Os||(Os=!0x0,Do());let _0x5a8698=0x24*0x3c*0x3c,_0x2b2ad8=_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x532)]>_0x5a8698?_0x5a8698:_0xeaea18[_0x1cfa1c(0x7e4)][_0x1cfa1c(0x532)],_0x588071=Number(_0x2b2ad8);if(isNaN(_0x588071)){console[_0x1cfa1c(0x62b)](_0x1cfa1c(0x268));return;}let _0x4c64c1=Math[_0x1cfa1c(0x5b8)](_0x588071/0xe10),_0x8ad313=Math[_0x1cfa1c(0x5b8)](_0x588071%0xe10/0x3c),_0x4dec52=new Date(Date[_0x1cfa1c(0x70e)]()+_0x588071*0x3e8);setTimeout(xs,_0x588071*0x3e8);let _0x55c3b8=_0x2a8870=>_0x2a8870['toString']()[_0x1cfa1c(0x49d)](0x2,'0'),_0x5e6d91=_0x1cfa1c(0x7b4)+_0x55c3b8(_0x4c64c1)+_0x1cfa1c(0x1ff)+_0x55c3b8(_0x8ad313)+_0x1cfa1c(0x38e)+_0x55c3b8(_0x4dec52[_0x1cfa1c(0x4c8)]())+':'+_0x55c3b8(_0x4dec52[_0x1cfa1c(0x20d)]())+'.';console['log'](_0x5e6d91);}else return console[_0x1cfa1c(0x737)](_0x1cfa1c(0x409)),Os&&(console[_0x1cfa1c(0x737)](_0x1cfa1c(0x2dd)),process[_0x1cfa1c(0x722)]()),_0x1cfa1c(0x4f1);}else{if(vr++,vr<qo)console[_0x1cfa1c(0x737)](_0x1cfa1c(0x1c3)+Nr/0xea60+_0x1cfa1c(0x644)),setTimeout(xs,Nr);else return console['error'](_0x1cfa1c(0x7fc)),_0x1cfa1c(0x407);}}async function Uo(){const _0x42fdd5=a0_0x18a40e;console[_0x42fdd5(0x737)]('Parando\x20aplicao,\x20atualizao\x20recebida');let _0x224a7c=(0x0,Oe[_0x42fdd5(0x772)])(_0x42fdd5(0x264),{'shell':!0x0});_0x224a7c[_0x42fdd5(0x5c0)]['on'](_0x42fdd5(0x747),_0x5adc27=>{const _0x1529aa=_0x42fdd5;console['log'](_0x1529aa(0x550)+_0x5adc27);}),_0x224a7c[_0x42fdd5(0x826)]['on']('data',_0x5d125b=>{const _0x13d729=_0x42fdd5;console[_0x13d729(0x62b)](_0x13d729(0x645)+_0x5d125b);}),_0x224a7c['on'](_0x42fdd5(0x722),_0xeeb7f2=>{const _0x303da8=_0x42fdd5;_0xeeb7f2!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20'+_0xeeb7f2):console[_0x303da8(0x737)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x303da8(0x737)]('Parando\x20aplicao...'),setTimeout(()=>process[_0x303da8(0x722)](),0x2710);});}function a0_0x4901(){const _0xfb617a=['):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','uazapiSendMedia','AllProxy\x20ligado:\x20','updateMissingTags','info','The\x20','\x1b[37m','Instncia\x20no\x20encontrada.','.sendDataWebhook-local','onWhatsApp','\x1b[0m','Certbot:\x20','saveChatVariables','groups.upsert','announce','PREFIX_KEY','ERROR','loadEnv','timerId','sendWhatsAppAudio','ms\x20(Attempt\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','--agree-tos','connectionStatus','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','waitingMenu_ExpiredMessage','optionName','composing','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','none','_Contacts','scheduleNextCheck','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','--standalone','variable','webhook','auth','updateAgent','Subscribed\x20Events:','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.',',\x20valor\x20passado:\x20\x22','Processing\x20audio','value','sendMessage','getConversation','/automate','\x22,\x20valor\x20a\x20substituir:\x20\x22','verify','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','groupFetchAllParticipating','createProxyConfig','encoding','ini','\x20\x1b[0m','font','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','leaveGroup','Chat\x20','class-validator','content','eventHandler','Validate','originalUrl','Type\x20defined\x20as\x20audio','delaySecMin','DELETED','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','logout','restartInstance','sign','response','user','count','Temp\x20audio\x20path:\x20','badSession','BRL','getConversationModelForOwner','fetchContacts','delayMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','TEXT','mediaKey','convertaudio','Nenhum\x20proxy\x20funcional\x20encontrado\x20aps\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','Error\x20change\x20group\x20name','number','leadInfo.','Erro\x20inesperado\x20em\x20processvaredits:\x20','request\x20received\x20in\x20deleteConversation','bodyString','updateProfileName','role','):\x20nextBlock.uazapi.name','src','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','profilePicture','changeVariables','apiName','lean','replaceVariables','add','):\x20conversation.waitingMenu_name','newValue','get','jwt','stanzaId','notContains','finish','\x5c$&','toggleEphemeral','#f64847','Flow\x20already\x20exists','mentioned','insert','/message','Unauthorized','Type\x20not\x20found','Message','requested\x20testProxy','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','\x20attempts.','joinGroupValidate','sort','/:instanceName','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','updateGroupsAddPrivacy','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','sendList','getMessage','vote','\x20no\x20encontrado','groups','processApiRequest','eventEmitter','stderr','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','mediaSticker','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','stopMinutes','Failed\x20to\x20find\x20chat\x20','getBase64FromMediaMessage','image','deleteOne','SERVER_PORT','msgRetryCounterCache','Content-Type','\x20no\x20encontrado\x20para\x20cpia','EXPIRIN_IN','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x1b[47m','DD/MM\x20HH:mm:ss','contact_blacklist','getScheduleMessageModelForOwner','Rtulo\x20deletado:','replaceVariablesInObject','resetReconnectionVariables','All_Instances_Config','MESSAGES_UPSERT','limit','URL:','allContacts','delAll','selectableCount','createConversationforStartFlow','replace','chatLog','sendMessageWithTyping','base64','sendPresenceUpdate','drop','_FlowHistorico','bearer','connect','$dbName','createClient','50mb','-instances','removeData','Last\x20message\x20not\x20found','The\x20global\x20api\x20key\x20must\x20be\x20set','tags','):\x20Enviando\x20mdia','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','^\x5cd+','nome','fromObject','Erro\x20ao\x20inserir\x20chats:','updateProfilePicture','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','paused','deleteBlock','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','updateMissingLabels','No\x20join\x20group\x20invite\x20code\x20or\x20url','testProxy','defineAuthState','checkAndUpdateChatStatus','everyOne','cleaningUp','messageId','closed','.TEL;waid=','removeProfilePicture','etiquetas','validate','\x22\x20-\x20REMOVED','.xls','Db\x20Connection','removeChatLabel','uazapi','fetchProfile','groupInviteCode','preview','replyOption','RECONNECT_TIME_FRAME','):\x20Buscando\x20todos\x20os\x20fluxos...','mediaMessage','shift','working','editFlowReply','Fluxo\x20no\x20encontrado','sharp','hbs','waInstances','request\x20received\x20in\x20getFlow','sendCommand','Varivel\x20no\x20encontrada!','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand',',\x20far\x20nova\x20verificao\x20em\x20','Error\x20writing\x20file:\x20','Archiving\x20chat','request\x20received\x20in\x20deleteFlow','views','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','editFlow','leadInfo','load','node-cache','existsSync','updateMissingCustomFields','all','\x20horas\x20e\x20','owner','item','webhookService','pollCreationMessageV2','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','Error\x20in\x20markMessageAsRead:','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','refused','request\x20received\x20in\x20allFlows',',\x20pairCode:\x20','notEmpty','values','menuType','getMinutes','participant','\x1b[1m','groupParticipantsUpdate','chatHandle','deleteflow','isArray','getMessageModelForOwner','webhookModel','PORT','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','DaysToDelete','not\x20loaded','Not\x20is\x20business\x20profile','optionDescription','desativadoFluxoAte','\x20do\x20chat\x20','Selecione','instanceName\x20not\x20provided.','atendimentoAberto','Telefone:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','REDIS_PREFIX_KEY','EMAIL','indexOf','URL\x20limpa:\x20','storePath','envProcess','4588560DkGLAu','color','Audio\x20is\x20url','):\x20expirationTime:\x20','pre','findOneAndUpdate','message_normalized','flowConfig','):\x20Flow\x20no\x20encontrado','CHATS_UPDATE','length','errno','Types','host','/wa-contacts','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','updateProfilePicturePrivacy','FlowModel','):\x20Buscando\x20flow...','https://api.ipify.org?format=json','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','pushName','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','StatusJidList\x20is\x20required','insertMany','stickerMessage','getStatus','and','hex','processConditions','output','locked','/webhook','#64c4ff','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','updateGParticipate','findOne','audio/aac','documentWithCaptionMessage','automateSystem','Fluxos\x20no\x20esto\x20ativados','creds.update','order','CONTACTS_UPSERT','updateStopChat','groupUpdateSubject','deleteDoneMessages','updateConversation','The\x20property\x20cannot\x20be\x20empty','qrcode','contactname','.webm','replaceValue','createConnection','SSL_CONF','join','pollMessageOnDelete','long','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','editflowgroup','reorderBlocks','listen','interval\x20no\x20\x20um\x20nmero','Erro\x20ao\x20editar\x20o\x20bloco:\x20','code','editChat','conditions','mkdirSync','markMessageAsRead','):\x20','cwd','Error\x20headers:','):\x20Campos\x20a\x20serem\x20atualizados:','repeat','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','port','\x0aFN:','):\x20Entrou\x20na\x20funo\x20saveReply','Erro\x20ao\x20encerrar\x20a\x20API','deleteAll','PRESENCE_UPDATE','isJidUser','FULLCHAIN','contextInfo','routerPath','):\x20Alterando\x20fluxo...','sendDataWebhook','@ffmpeg-installer/ffmpeg','updateStatusPrivacy','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','saveCreds','\x20inseridas\x20no\x20banco\x20de\x20dados...','rowId','addBlock','findMessages','onTime','):\x20newSecondValue\x20aps\x20replaceVariables:','messages.upsert','sendStatus','request\x20received\x20in\x20deleteDoneMessages','\x0aitem','presence.update','throwAndLogError','DATABASE_ENABLED','):\x20Enviando\x20udio','uazapiDeleteMessage','connecting','Instance\x20ID:','SSL_CONF_FULLCHAIN','imageMessage','min','formatVCard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','MESSAGES_SET','\x1b[32m','processgoToFlow','@whiskeysockets/baileys','certonly','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','http','PRIVKEY','statusCode','audio/ogg','method','connectionUpdate','CONECTADO\x20\x20UAZAPI','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','documentMessage','groupMetadata','1952608IHRlWf','apply','Failed\x20to\x20get\x20IP\x20from\x20','deleteMessage','editflowreply','Converted\x20audio\x20deleted','viewOnceMessageV2','replyOptions','):\x20Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','):\x20Fluxos\x20no\x20esto\x20ativados','subject','findFlow','flowname:\x20','_p_','scheduleSendText','Bad\x20Request','isJidGroup','sendPoll','command','STORE_MESSAGE','reconnectAttempts','collection','deleted','pollCreationMessageKey','instanceKeys','privacySettings','Deleted\x20','reviver','toDataURL','createFlow','pt-BR','newStoppedUntil','fetchConversation','groupName','video','VERBOSE','fullName','):\x20conversation.status:\x20','Getting\x20profile\x20info','processingScheduleMessageId','text','\x22reaction\x22\x20must\x20be\x20an\x20emoji','\x20instance\x20does\x20not\x20exist','Nenhum\x20chat\x20encontrado\x20para\x20editar.','instanceName','certbot','\x20inseridos\x20no\x20banco\x20de\x20dados...','group\x20ignored','.jwt','):\x20this.processingScheduleMessageId:\x20','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','open','connectedClient','getLastMessage','Output\x20audio\x20path:\x20','replaceVariablesInReplyOptions','groupDesc','labels.association','The\x20instance\x20needs\x20to\x20be\x20disconnected','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Erro\x20ao\x20importar\x20chats:','Converting\x20image\x20to\x20WebP\x20to\x20sticker','\x22\x20-\x20NOT\x20CONNECTION','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20',',\x20Minutes\x20to\x20Close:\x20','\x1b[1m\x1b[37m','\x0a{\x20instance:\x20','HeaderType','sendReaction','end','$pull','_Messages','/wa-qrcode','Logger','created','Database\x20is\x20not\x20enabled','getOwnPropertyDescriptor','/chat','):\x20teve\x20mudanas\x20chat.name:\x20','PASSWORD','\x1b[32m%s\x1b[0m','label','getClient','Revoke\x20error','Primeiro\x20Valor:\x20','post','header','exports','bulkWrite','creds','):\x20Usando\x20extenso\x20padro:\x20','licenca','Deletion\x20failed','axios','groupHandler','moreLogs','Rtulo\x20atualizado:','getTicketSystem','This\x20name\x20','uuid','reorderReplyOptions','Router','waitingMenu_text','truncatedto','Close\x20connection','importChatsBatch','updateMessage','name','model','Error\x20status:','urlOrBase64','notEqual','apirequest','wuid','Module\x20-\x20ON','url','email','Error\x20fetching\x20and\x20updating\x20profile:\x20','updateFlowConfig','API_KEY','fetchProfilePicture','fileName','downloads','SERVER_ACK','updateOne','!stop','ProxyAgent','imported','1JYeuIF','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','CONTACTS_UPDATE','editedMessage','lowerCase','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','birthtime','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Erro\x20ao\x20atualizar\x20o\x20fluxo:','contentText','#6f7bcf','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Enter\x20a\x20value\x20in\x20milliseconds','generateHash','reaction','/exit','Schema','ChatRouter','folder','#ffc5c7','CORS_ORIGIN','selectedOptions','create','archived','close','audioMessage','events','document','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','presenceSubscribe','getFlow','findChats','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','repository','pop','error\x20get\x20vote','updateMany','fetchLabels','createGroup','setting','enumerable','oldValue','saveVariable','request\x20received\x20in\x20updateCustomFields','):\x20Conversa\x20est\x20expirada\x20-\x20voto','uazapiSendLocation','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','poll','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','replaceVariablesLogs','):\x20Error\x20processing\x20conditions:\x20','getContentType','lastReceivedMessage','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','findAll','scheduleSendAudio','lastMessage','updateReadReceiptsPrivacy','):\x20No\x20achou\x20nenhum\x20flow','\x1b[34m%s\x1b[0m','cache','pollOnReplyDelete','Rtulo\x20invlido\x20ou\x20sem\x20ID.','remoteJidsRemaining','updateReplyOption','promote','BufferJSON','):\x20Edit\x20schedule\x20message...','toNumber','statusJidList','Valor\x20de\x20find\x20ou\x20replace\x20ausente','/media/','CORS_CREDENTIALS','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','getChatModelForOwner','lastmsg','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Editando\x20condio\x20do\x20fluxo...','setHeader','AutomateSystem\x20no\x20foi\x20inicializado','keep-alive','AutomateFunctions','MAX_RECONNECT_ATTEMPTS','jsonip.com','#000000','\x0a*Voc\x20respondeu*:\x0a','padEnd','redis','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','matchRegex','METHODS','Flow\x20no\x20encontrado','request\x20received\x20in\x20updateAgent','Audio\x20is\x20base64','<subdomain>','ChatModel','\x20minutos.\x20Ser\x20s\x20','):\x20Limpando\x20AutomateSystem','Unable\x20to\x20leave\x20the\x20group','DARK','error_log','data:\x20','ids','findParticipants','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','updateGParticipant','TEL','\x20-y','Font\x20is\x20required','headerString','uazapiSendText','Error\x20updating\x20message\x20status:',',\x20Comparador:\x20','expression','online','initAuthCreds','remove','variablesToObject','}}\x20->\x20valor\x20no\x20encontrado','Connection','includes','ContactModel','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','addReplyOption','Including\x20timestamp\x20in\x20url:\x20','AUTHENTICATION_API_KEY','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Ignoring\x20group\x20messages.','https://api.elevenlabs.io/v1/text-to-speech/','execSync','pollCreationMessageV3','}}\x20->\x20\x22','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','charAt','\x1b[36m','findOrCreate','-whatsapp-api','@s.whatsapp.net','archiveChat','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','messaging-history.set','mimetype','condition','varedits','closeExistingConversations','getVariablesChat','):\x20teve\x20mudanas\x20chat.displayName:\x20','save','Instance\x20restarted','_Flows','uncaughtException','endSession','object','Variveis\x20no\x20encontradas:','updatePrivacySettings','Not\x20allowed\x20by\x20CORS','request','DOCKER_ENV','updatePresence','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','capitalizedWords','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','.X-ABLabel:Celular\x0a','):\x20Comando\x20desconhecido:\x20','ephemeralExpiration','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','removeInstance','sendMenu','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','group','configService','chats.upsert','Erro\x20de\x20reinicializao:\x20','toBrazilianNumberFormat','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','\x20foi\x20interrompido\x20pelo\x20usurio.','deleteMessageForEveryone','warn','Log\x20out\x20instance:\x20','match','toLocaleString','deleteChat','Imagem\x20no\x20encontrada','buttonId','ENABLED','setRestartTimer','LEVEL','.mp3','connectionState','updateBlock','profilePictureUrl','use','splice','menuIgnoreNonVotes','editFlowCondition','keys','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','unlinkSync','child_process','CHATS_UPSERT','normalizeMessage','equal','express-async-errors','1698655OnQIfi','stopped','copyDataToNewModel','CHATS_DELETE','loadInstance','status.instance','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','/events/:instance','flattenObject','Invalid\x20format','substring','.svg','SERVER_OFFLINE','label_jid','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','g.us','SendScheduleMessage','\x1b[40m','replaceVariablesChat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','LOG_COLOR','hasOwnProperty','.webp','ipify.org','Chat\x20com\x20ID\x20','remoteJids','Erro\x20ao\x20editar\x20agentes:\x20','\x1b[36m%s\x1b[0m','convert','minutesToClose','integer','env','default','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','delay','lastSendMessage','FlowController','):\x20tem\x20blocks','extractRegex','creds.json','isBusiness','Missing\x20global\x20api\x20key','KEY','dropCollection','exists','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Image\x20created','slice','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','findById','):\x20customFieldVariables','Image\x20path:\x20','STORE_CLEANING_TERMINAL','prepareWAMessageMedia','split','messageHandle','creation','):\x20transformedCustomFieldVariables','writeData','find','localWebhook','requestFile','REDIS','function','stopMinutesMaxActives','media','customFields','AUTHENTICATION_JWT_SECRET','/events',',\x20Segundo\x20Valor:\x20','createInstance','createAndSave','content-type','Fetching\x20business\x20profile','setNewValue','):\x20Editando\x20bloco...','goNextblock','formatStatusMessage','Profile\x20not\x20found','GUARD','protocol','INFO','Erro\x20ao\x20adicionar\x20label\x20','envYaml','):\x20Entrou\x20na\x20funo\x20goToFlow','no-cache','findConversation','editScheduleMessage','lastBlockId','expiration','toUpperCase','varedit','app-state-sync-key','.docx','Error\x20fetching\x20group','Instance\x20Key\x20from\x20DB:','StartBot','Error\x20while\x20deleting\x20message\x20for\x20everyone','Message\x20not\x20found','forEach','tryProxy','sending','copy','getContactModelForOwner','cors','\x20no\x20encontrado\x20para\x20atualizao.','saveConversationToDatabase','nextBlock:','context','Error\x20change\x20group\x20setting','PROXY','participants','messageSecret','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','getDelay','authModel','groupJid','2945586hqtytM','isBase64','username','editFlowVaredit','):\x20Deletando\x20mensagem','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','instancias:\x20','WebhookGlobal','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','.pptx','getLabelModelForOwner','.ogg','8080','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','redirect','recording','request\x20received\x20in\x20getAutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','contacts.upsert','jsonwebtoken','.error','/create','waitingMenu_id','reconnectTimestamps','authorization','://','Erro\x20ao\x20editar\x20o\x20chat:\x20','Reinicializao\x20iniciada:\x20','leadInfo.etiquetas','):\x20conversation.lastInteraction:\x20','isURL','The\x20\x22','Error\x20in\x20scheduleNextCheck:\x20','Cache-Control','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Error\x20change\x20group\x20description','console','STORE_CHATS','MESSAGES_UPDATE','\x20saindo\x20da\x20funo','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','title','!cmd_','groupSettingUpdate','padStart','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','viewOnceMessage','.ppt','compression','waMonitor','archive','pairingCode','flowActive','#ff9484','request\x20received\x20in\x20editFlowgroup','request\x20received\x20in\x20getConversation','statSync','contacts','):\x20Current\x20Time:\x20','Contacts\x20not\x20found','PENDING','flowName','Erro\x20ao\x20remover\x20instncias\x20antigas:','empty','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','updateMissingEtiquetas','Read\x20messages','contacts.update','fetchMessages','local_map','test','apikey','Sending\x20audio\x20whatsapp','CORS',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','\x20adicionado\x20ao\x20chat\x20','Forbidden','start','4544163rfdBrc','verbose','messages','unreadCount','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','readMessages','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','status@broadcast','?authSource=admin&readPreference=primary&directConnection=true','getHours','Instncia:\x20','application/octet-stream','\x20removido\x20do\x20chat\x20','\x22\x20not\x20found','flowIgnoreGroups','/instance','utf-8','upperCase','):\x20Conversa\x20inserida\x20com\x20sucesso.','goToFlow','choices','caption','STATUS_INSTANCE','isListOfNumbers','AUTHENTICATION_TYPE','Erro\x20ao\x20atualizar\x20conversa:\x20','request\x20received\x20in\x20editFlowvariable','pollMessage','\x20using\x20the\x20proxy:','updateLastSeenPrivacy','processPollUpdateMessage','ip:\x20','sections','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Erro\x20ao\x20criar\x20fluxo\x20','readMessageBot','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','deleteInstance','updateOneById','Error\x20updating\x20profile\x20name','arrayUnique','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','vcard','Error\x20update\x20group\x20picture','protocolMessage','\x20mensagens\x20de\x20','Authentication\x20error','format','COLOR','Erro\x20ao\x20normalizar\x20a\x20mensagem:','LICENSE_INVALID','binary','scheduleMessages','findWebhook','update','announcement','updateCustomFields','Label\x20','findByIdAndDelete','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','utf8','Error\x20updating\x20participants','dbSettings','delete','ORG:','PLAYED','/group','leadInfo.desativadoFluxoAte','_activatedCount','jid','menuMessage','../env.yml','statusMessage','labelId','inviteCode','.mp4','remote\x20\x22origin\x22','message','group-participants.update','authState','updateGroupPicture','ephemeralMessage','Audio\x20converted\x20to\x20mp4','instanceInfo','saveMediaToFile','CLEANING_INTERVAL','realVariables','Image\x20converted\x20to\x20WebP','https','messagesSend','block','messages.update','SINGLE_SELECT','params','READ','uazapiSendContact','no.connection','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','GROUPS_UPDATE','unhandledRejection','#b4ebff','):\x20Enviando\x20contato','logger','getAutomateSystem','CONTACTS_SET','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','\x1b[41m','locationMessage','Instance\x20\x22','Valor\x20inicial:\x20\x22','testProxy\x20response\x20from\x20','lastDisconnect','deletedCount','instanceCount','fileUrl','segundos','notMatchRegex','JWT','collections','sem\x20texto\x20na\x20mensagem','max','@redis/client','router','writeFile','groupLeave','setWebhook','where','buttonText','checkAndRestartProcess','@broadcast','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','SECRET','NextBlock','waUploadToServer','\x1b[37m%s\x1b[0m','delayChatLabel_MAX_RETRIES','dbServer','has','getAllData','fetchChats','API\x20Key\x20invlida.','action','unreadcount','organization','listMessage','Atualizao:\x20','request\x20received\x20in\x20createFlow','fetchInstances','verifiedName','connectToWhatsapp','when','*\x0a\x0a','Output\x20path:\x20','_ScheduleMessages','Error\x20updating\x20profile\x20status','20kAybZc','createWebhook','editFlowBlock','.doc','dayjs','Error\x20in\x20chatModify\x20for\x20number\x20','endsWith','.jpg','?timestamp=','URL','option','requestPairingCode','currency','/instance/delete','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','maxActives','upsertChats','getOwnPropertyNames','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','instance.','imagechat','pollUpdateMessage','QRCODE_UPDATED','createJid','):\x20Visualizando\x20AutomateSystem','stopConversation','allFlows','temp-','flowConversation','deleteFlow','oldToken','mongoose','findGroupInfos','process','detail','):\x20Editando\x20grupo\x20do\x20fluxo...','ex:\x20\x22groupJid=120362@g.us\x22','processConditionsTest','CONNECTION','loadWebhook','joinGroup','sendText','):\x20Buscando\x20conversas...','getMIMEType','):\x20Erro\x20ao\x20editar\x20agentes:\x20','\x20chats\x20de\x20','syscall','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20deletar\x20mensagens:','formatBRNumber','#83e421','greater','No\x20response\x20received:','profile','AppStateSyncKeyData','Erro\x20ao\x20buscar\x20conversas:\x20','groupUpdateDescription','evaluateConditionTest','conversationTimestamp','pollCreationMessage','parse','/instance/create','filter','sendButtons','findByIdAndUpdate','):\x20Editando\x20varivel\x20do\x20fluxo...','connectedName','API\x20Key\x20from\x20Request:','available','USER','SERVER','AutomateSystem','delayChatLabel','Comando\x20desconhecido','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','removed','https://chat.whatsapp.com/','Background\x20color\x20is\x20required','Temp\x20audio\x20deleted','noConnection','AddChatLabel','connectToWhatsappController','deleteConversation','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','/media','Internal\x20Server\x20Error','dbInstance','viewOnceMessageV2Extension','qrCode','editflowblock','trimmed','Image\x20is\x20url','convertToWebP','InstancesAsDisconnectedX','floor','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20Flow\x20desativado','DELIVERY_ACK','STORE_CONTACTS','OrAnd','ListMessage','rows','stdout','Group\x20not\x20found','cpf','.\x20Pulando.','toLowerCase','flow','getFlowModelForOwner','/instance/connect','SEND_MESSAGE','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','isInteger','Erro\x20ao\x20atualizar\x20AutomateSystem:','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','Erro\x20ao\x20deletar\x20chat:','application/json','unavailable','listResponseMessage','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','view\x20engine','findAndReplace','findContacts','scheduleSendMedia','replacer','getProfileName','buttonMessage','labels.edit','^\x5cd+[\x5c.@\x5cw-]+','client','video-cover.png','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','chats.delete','createflow','\x1b[42m','description','Hash\x20to\x20audio\x20name:\x20','#92ceac','Erro\x20ao\x20copiar\x20dados:','.txt','DATABASE_CONNECTION_HOST','textMessage','Augusto','mongodb','Erro:','headers','Trying\x20to\x20get\x20business\x20profile','json','Unknown\x20message\x20type\x20or\x20empty\x20message','allflows','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','1425243ijgNJq','SUCCESS','/wa-message','.sendDataWebhook-global','22765611HiWhVk','Mensagem\x20no\x20suportada','editflow','findGroup','):\x20Enviando\x20enquete','groupSetting','Instance\x20deleted','state','connection.update','URI','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','notify','proto','path','E-mail:\x20','metadata','Certbot\x20executado\x20com\x20sucesso.','processUazapi','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','writeFileSync','emit','audioWhatsapp','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','proxy-agent','contact','chat','sendContact','sha256','chats.update','replaceOne','stringify','webp','REDIS_ENABLED','rm\x20-rf\x20','isJWT','stopWhenYouSendMsg','\x5cd+','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','secondValue','fileLength','/config','flushHeaders','_error','webhookMap','\x1b[31m%s\x1b[0m','CREDENTIALS','\x20-i\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','/wa-message-update','backgroundColor','Business\x20profile\x20fetched','success','):\x20Entrou\x20na\x20funo\x20stop','query','error','conversation','https://jsonip.com','mediatype','chats.set','whatsappNumbers','):\x20delete\x20=\x20true','dataValidate','arraybuffer','senderKeyDistributionMessage','subdomain','findLabels','ObjectId','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','some','Resultado\x20da\x20atualizao:','uazapiSendAudio','\x20minutos','lastInteraction','FlowRouter','getDevice','release','hGet','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x20minutos...','Erro\x20de\x20atualizao:\x20','Error\x20occurred\x20while\x20archiving\x20chat:\x20','random','app','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Desconectado,\x20parando\x20execuo.','scheduleMessage','firstValue','key','toBRL','restrict','write','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','updateAll','/instance/connectionState','TYPE','prototype','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','inner','agents','next_groupId','Erro\x20ao\x20editar\x20a\x20conversa:\x20','groupToggleEphemeral','\x1b[33m%s\x1b[0m','groupadd','remoteJid','lastSend','prefixCommand','quoted','):\x20Conversa\x20atualizada\x20em\x20memria','createNewConversation','getPrototypeOf','public','exec','errors','Chrome\x20(Linux)','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','instances','#56ccb4',',\x20lastCondition:\x20','findGroupInfo','messageTimestamp','password','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','DATABASE_CONNECTION_URI','7UwdDFP','silent','getRandomText','desc','Configurao\x20de\x20proxy\x20invlida\x20gerada.','deleteReplyOption','isConnected','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','valid','fetchBusinessProfile','):\x20Iniciando\x20bot...','eventemitter2','size','put','):\x20Criando\x20fluxo...','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','readFileSync','mongodb://','#dfaef0','Audio\x20processed','/wa-groups','toString','pollErrorMessage','sleep','uazapiSendMenu','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','downloadMediaMessage','send','chatModify','groupValidate','sendLocation','):\x20Erro\x20ao\x20buscar\x20conversas\x20','Bloco\x20com\x20ID\x20','audio/mp4','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','deleteMany','Error\x20updating\x20setting','request\x20received\x20in\x20scheduleMessage','isLong','lastCondition','):\x20Mensagem\x20j\x20enviada\x20para\x20','website','groupAcceptInvite','not_announcement','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Getting\x20image\x20from\x20url','reactionMessage','No\x20invite\x20code','store','insertCount','__esModule','gifPlayback','importChatsAntigo','out','applyvaredit','variables','displayName','evaluateCondition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','prepareMediaMessage','Read\x20messages\x20fail','#fed428','Getting\x20profile\x20with\x20jid:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','sendMedia','readData','subjectOwner','messageContextInfo',',\x20Resultado:\x20','mentions','):\x20Dados\x20migrados\x20com\x20sucesso','removeOlderDisconnectedInstances','last_update','_id','DB_PREFIX_NAME','dyndns.org','fetchStatus','contactMessage','_Chats','InstancesAlterarTodas','\x1b[44m','generate','\x1b[43m','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','):\x20leadInfoVariables','.gif','createServer','):\x20Procurando\x20conversa','CONNECTION_UPDATE','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','modifiedCount','editConversation','\x20com\x20sucesso.','Type\x20is\x20required','authentication','buttons','Button\x20texts\x20cannot\x20be\x20repeated','status','STORE','\x20is\x20already\x20in\x20use.','Esse\x20fluxo\x20expirou','contains','connectionClosed','editFlowGroup','https://api.openai.com/v1/audio/speech','array','):\x20alterando\x20this.AutomateSystem','editFlowVariable','delayChatLabel_RETRY_DELAY_MS','request\x20received\x20in\x20editFlow','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','scheduled','entries','):\x20Bloco\x20com\x20ID\x20',',\x20Expiration\x20Time:\x20','DEBUG','Image\x20is\x20base64','waitingMenu_replyOptions','responsavelid','fromMe','$set','fetchPrivacySettings','getTime','https://','Flow\x20iniciado\x20com\x20','DATABASE','Data\x20invlida\x20fornecida','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','saveTextReply','chats','nomecompleto','unknown\x20operation\x20type\x20[','redisEnv','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','ReplyOptions\x20finais\x20aps\x20reordenao:','blockId','presence','buffer','@g.us','/instance/fetchInstances','Falta\x20informao\x20para\x20a\x20chamada\x20API','#00a1f2','DATABASE_CONNECTION_PASSWORD','):\x20lastBlockId:\x20','apiResponse','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','flowStopConversation','/wa-chats','):\x20Buscando\x20conversa...','express','addresss','now','DisconnectReason','delaySecMax','request\x20body:\x20','debug','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Bloco\x20copiado:\x20','true','ON\x20-\x20dbName:\x20','enabled','groupId','notas','revokeInviteCode','hGetAll','updateChatWithMessage','less','GROUP_PARTICIPANTS_UPDATE','processvaredits','getScheduleMessage','done','exit','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','g-t','sendAudio','createSectionsFromValues','startsWith','CHATS_SET','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','AUTHENTICATION','12Hhbqiw','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','ReplyOption\x20com\x20ID\x20','editOperator','groups_ignore','Converted\x20image\x20deleted','.png','menuExpiredMessage','.uazapi.dev','startFlow','body','copyBlock','log','convertedOptions','sectionsToString','whatsappNumber','fone','./.git/config','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','CONFIGURAO\x20GERAL:','truncatedtoEnd','findGroups','boolean','assign','blockLogs','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','readreceipts','):\x20Enviando\x20texto','data','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','round','string','phoneNumber','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','findAndReplaceRegex','height','Erro\x20ao\x20buscar\x20conversa:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','https://api.openai.com/v1/images/generations','set','\x1b[30m%s\x1b[0m','Temp\x20image\x20deleted','createConversationforgoToFlow','Not\x20Found','parseInt','readMessage','options','GROUPS_UPSERT','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','/wa-presence','REDIS_URI','trim','groups.update','footerText','stateConnection',',\x20resultado:\x20','isRunning','#d3a91f','authService','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','redis://127.0.0.1:6379','findIndex','last','remove.instance','cleanStore','generateWAMessageFromContent','node-mime-types','request\x20received\x20in\x20editFlowcondition','getflow','listType','spawn','longitude','):\x20Editando\x20replyOption...','ignoreGroups','RemoveChatLabel','importChats','chatId','https://uazapi-plugin.bubbleapps.io/?url=','list','contactHandle','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','updateParticipant','blocks','demote','variablesNotFound','from','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','map','defineProperty','Cannot\x20','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','contactsArrayMessage','audio','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','push','\x20contacts','/clients-info','\x1b[33m\x1b[1m','updateProfileStatus','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','processblock','):\x20isVote:\x20','#fe9dfe','type','config','WARN','LOG','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','instance','http://checkip.dyndns.org'];a0_0x4901=function(){return _0xfb617a;};return a0_0x4901();}var Jo=Ae[a0_0x18a40e(0x41b)][a0_0x18a40e(0x261)](__dirname,'env.yml');async function Vo(_0x1dc46b,_0x39f890){const _0x55f7b3=a0_0x18a40e;let _0x18a0a8=Go();_0x1dc46b=_0x1dc46b['replace'](_0x55f7b3(0x733),'');try{let _0x1a812e=de[_0x55f7b3(0x41b)]['readFileSync'](_0x39f890,_0x55f7b3(0x4fb));_0x1a812e=_0x1a812e[_0x55f7b3(0x1b1)](/<apikey>/,_0x18a0a8),_0x1a812e=_0x1a812e['replace'](/<subdomain>/g,_0x1dc46b),de[_0x55f7b3(0x41b)][_0x55f7b3(0x608)](_0x39f890,_0x1a812e,_0x55f7b3(0x4fb)),console[_0x55f7b3(0x737)](_0x55f7b3(0x428));}catch(_0x551611){console['error'](_0x55f7b3(0x338),_0x551611);}}function Bo(_0x422f2d,_0x5aaa74){return new Promise((_0xcc8000,_0x1bcfde)=>{const _0x3b9a29=a0_0x26bc;let _0x36dc1d=(0x0,Oe[_0x3b9a29(0x772)])(_0x3b9a29(0x2d8),[_0x3b9a29(0x29f),_0x3b9a29(0x7bd),'-m',_0x422f2d,_0x3b9a29(0x7b2),'-d',_0x5aaa74]);_0x36dc1d[_0x3b9a29(0x5c0)]['on'](_0x3b9a29(0x747),_0x1f8807=>{const _0x1e4f66=_0x3b9a29;console[_0x1e4f66(0x737)](_0x1e4f66(0x7a6)+_0x1f8807['toString']());}),_0x36dc1d[_0x3b9a29(0x826)]['on']('data',_0x1c0469=>{const _0x4c1485=_0x3b9a29;console[_0x4c1485(0x62b)]('Erro\x20do\x20Certbot:\x20'+_0x1c0469[_0x4c1485(0x689)]());}),_0x36dc1d['on'](_0x3b9a29(0x345),_0x4894e5=>{const _0x48c14f=_0x3b9a29;_0x4894e5!==0x0?(console['error'](_0x48c14f(0x67b)+_0x4894e5),_0x1bcfde('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0x4894e5)):(console[_0x48c14f(0x737)](_0x48c14f(0x605)),_0xcc8000());});});}function Go(_0x2829b3=0x32){const _0x40734c=a0_0x18a40e;let _0x8dd1de='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x2fdfdf='';for(let _0x807cc5=0x0;_0x807cc5<_0x2829b3;_0x807cc5++)_0x2fdfdf+=_0x8dd1de[_0x40734c(0x3b4)](Math['floor'](Math[_0x40734c(0x647)]()*_0x8dd1de[_0x40734c(0x233)]));return _0x2fdfdf;}function Wo(){const _0x5d9dd7=a0_0x18a40e;(0x0,Oe[_0x5d9dd7(0x667)])('shutdown\x20-r\x20now',(_0x629297,_0x1568f8,_0x3f2b42)=>{const _0x8e5a10=_0x5d9dd7;if(_0x629297){console[_0x8e5a10(0x62b)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20'+_0x629297);return;}if(_0x3f2b42){console[_0x8e5a10(0x62b)](_0x8e5a10(0x3dc)+_0x3f2b42);return;}console[_0x8e5a10(0x737)](_0x8e5a10(0x48c)+_0x1568f8);});}0x0&&(module['exports']={'subdomain':subdomain});