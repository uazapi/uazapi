const a0_0x13c462=a0_0x1c5b;(function(_0x23c251,_0x3d0aca){const _0xce7e62=a0_0x1c5b,_0x231114=_0x23c251();while(!![]){try{const _0x5aaeba=parseInt(_0xce7e62(0x23e))/0x1+parseInt(_0xce7e62(0x857))/0x2+-parseInt(_0xce7e62(0x860))/0x3*(parseInt(_0xce7e62(0x3d9))/0x4)+-parseInt(_0xce7e62(0x6eb))/0x5+-parseInt(_0xce7e62(0x5bd))/0x6*(parseInt(_0xce7e62(0x392))/0x7)+parseInt(_0xce7e62(0x721))/0x8+parseInt(_0xce7e62(0x5a2))/0x9;if(_0x5aaeba===_0x3d0aca)break;else _0x231114['push'](_0x231114['shift']());}catch(_0x574c9f){_0x231114['push'](_0x231114['shift']());}}}(a0_0x1d20,0x9d801));var Wi=Object[a0_0x13c462(0x714)],Ve=Object[a0_0x13c462(0x84d)],zi=Object['getOwnPropertyDescriptor'],Hi=Object[a0_0x13c462(0x628)],Ki=Object[a0_0x13c462(0x20d)],Qi=Object[a0_0x13c462(0x153)][a0_0x13c462(0x5d5)],Yi=(_0x16a5b0,_0x42826d)=>{for(var _0x434743 in _0x42826d)Ve(_0x16a5b0,_0x434743,{'get':_0x42826d[_0x434743],'enumerable':!0x0});},Bs=(_0x53fe31,_0x1dc9c0,_0x2d5aee,_0x42fcc9)=>{const _0x391f90=a0_0x13c462;if(_0x1dc9c0&&typeof _0x1dc9c0==_0x391f90(0x50b)||typeof _0x1dc9c0==_0x391f90(0x3ba)){for(let _0x526ee7 of Hi(_0x1dc9c0))!Qi[_0x391f90(0x2d9)](_0x53fe31,_0x526ee7)&&_0x526ee7!==_0x2d5aee&&Ve(_0x53fe31,_0x526ee7,{'get':()=>_0x1dc9c0[_0x526ee7],'enumerable':!(_0x42fcc9=zi(_0x1dc9c0,_0x526ee7))||_0x42fcc9[_0x391f90(0x213)]});}return _0x53fe31;},I=(_0x348bcc,_0x51470b,_0x246f55)=>(_0x246f55=_0x348bcc!=null?Wi(Ki(_0x348bcc)):{},Bs(_0x51470b||!_0x348bcc||!_0x348bcc[a0_0x13c462(0x38f)]?Ve(_0x246f55,a0_0x13c462(0x6bc),{'value':_0x348bcc,'enumerable':!0x0}):_0x246f55,_0x348bcc)),Xi=_0x231536=>Bs(Ve({},a0_0x13c462(0x38f),{'value':!0x0}),_0x231536),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module[a0_0x13c462(0x226)]=Xi(gr);var Ui=I(require(a0_0x13c462(0x2c2))),zs=require('fs'),Hs=require(a0_0x13c462(0x55a)),Ks=require(a0_0x13c462(0x6e1)),Ge=require(a0_0x13c462(0x6e1)),ne=process[a0_0x13c462(0x425)](),be=(0x0,Ge['join'])(ne,a0_0x13c462(0x55e)),Ws=(0x0,Ge[a0_0x13c462(0x65f)])(ne,'src'),fn=(0x0,Ge[a0_0x13c462(0x65f)])(ne,a0_0x13c462(0x17e),'auth'),us=class{constructor(){const _0x5152ca=a0_0x13c462;this[_0x5152ca(0x84a)]();}[a0_0x13c462(0x6a5)](_0x440758){const _0x2d9170=a0_0x13c462;return this[_0x2d9170(0x469)][_0x440758];}[a0_0x13c462(0x84a)](){const _0x4d83c3=a0_0x13c462;this[_0x4d83c3(0x469)]=process[_0x4d83c3(0x469)]?.['DOCKER_ENV']!==_0x4d83c3(0x361)?this[_0x4d83c3(0x794)]():this[_0x4d83c3(0x307)](),process['env']?.['DOCKER_ENV']===_0x4d83c3(0x361)&&(this[_0x4d83c3(0x469)]['SERVER'][_0x4d83c3(0x6e5)]=_0x4d83c3(0x429),this[_0x4d83c3(0x469)][_0x4d83c3(0x1f8)][_0x4d83c3(0x505)]=Number[_0x4d83c3(0x308)](process[_0x4d83c3(0x469)]?.[_0x4d83c3(0x498)]??_0x4d83c3(0x283)));}[a0_0x13c462(0x794)](){const _0xc4673f=a0_0x13c462;return(0x0,Hs['load'])((0x0,zs[_0xc4673f(0x5bf)])((0x0,Ks[_0xc4673f(0x65f)])(Ws,_0xc4673f(0x1fe)),{'encoding':_0xc4673f(0x571)}));}[a0_0x13c462(0x307)](){const _0x44943e=a0_0x13c462;return{'SERVER':{'TYPE':process[_0x44943e(0x469)][_0x44943e(0x1e5)],'PORT':Number[_0x44943e(0x308)](process[_0x44943e(0x469)][_0x44943e(0x498)]),'URL':process[_0x44943e(0x469)][_0x44943e(0x49c)]},'CORS':{'ORIGIN':process[_0x44943e(0x469)][_0x44943e(0x513)][_0x44943e(0x4ca)](','),'METHODS':process[_0x44943e(0x469)][_0x44943e(0x367)][_0x44943e(0x4ca)](','),'CREDENTIALS':process[_0x44943e(0x469)]?.[_0x44943e(0x1a7)]===_0x44943e(0x361)},'SSL_CONF':{'PRIVKEY':process[_0x44943e(0x469)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x44943e(0x469)]?.[_0x44943e(0x3fb)]},'STORE':{'CLEANING_INTERVAL':Number[_0x44943e(0x79f)](process[_0x44943e(0x469)]?.[_0x44943e(0x241)])?Number[_0x44943e(0x308)](process[_0x44943e(0x469)][_0x44943e(0x241)]):void 0x0,'MESSAGES':process[_0x44943e(0x469)]?.[_0x44943e(0x4ef)]==='true','CONTACTS':process[_0x44943e(0x469)]?.['STORE_CONTACTS']==='true','CHATS':process[_0x44943e(0x469)]?.[_0x44943e(0x766)]===_0x44943e(0x361)},'DATABASE':{'CONNECTION':{'HOST':process[_0x44943e(0x469)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0x44943e(0x469)]?.[_0x44943e(0x394)]),'USER':process[_0x44943e(0x469)][_0x44943e(0x71f)],'PASSWORD':process[_0x44943e(0x469)][_0x44943e(0x33f)],'URI':process[_0x44943e(0x469)][_0x44943e(0x5ee)],'DB_PREFIX_NAME':process[_0x44943e(0x469)][_0x44943e(0x384)]},'ENABLED':process['env']?.[_0x44943e(0x353)]===_0x44943e(0x361)},'REDIS':{'ENABLED':process[_0x44943e(0x469)]?.['REDIS_ENABLED']==='true','URI':process[_0x44943e(0x469)]['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x44943e(0x469)]['REDIS_PREFIX_KEY']||'uazapi'},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x44943e(0x4ca)](','),'COLOR':process['env']?.[_0x44943e(0x6d4)]===_0x44943e(0x361)},'PROXY':process[_0x44943e(0x469)]?.[_0x44943e(0x774)]===_0x44943e(0x361),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x44943e(0x469)][_0x44943e(0x395)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x44943e(0x469)]?.[_0x44943e(0x24a)])?Number[_0x44943e(0x308)](process[_0x44943e(0x469)][_0x44943e(0x24a)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=I(require(a0_0x13c462(0x4d2))),we=I(require(a0_0x13c462(0x197))),Vs=require(a0_0x13c462(0x6e1)),ds=I(require(a0_0x13c462(0x45a))),ps=(_0x3ff47f=>(_0x3ff47f[a0_0x13c462(0x215)]=a0_0x13c462(0x48b),_0x3ff47f['INFO']=a0_0x13c462(0x1d8),_0x3ff47f[a0_0x13c462(0x342)]=a0_0x13c462(0x5e1),_0x3ff47f[a0_0x13c462(0x4f4)]=a0_0x13c462(0x891),_0x3ff47f[a0_0x13c462(0x457)]=a0_0x13c462(0x4fe),_0x3ff47f[a0_0x13c462(0x785)]=a0_0x13c462(0x78e),_0x3ff47f[a0_0x13c462(0x6b9)]=a0_0x13c462(0x2f6),_0x3ff47f))(ps||{}),Qs=(_0x414abf=>(_0x414abf[a0_0x13c462(0x215)]='\x1b[32m%s\x1b[0m',_0x414abf[a0_0x13c462(0x6b9)]=a0_0x13c462(0x2fc),_0x414abf[a0_0x13c462(0x356)]=a0_0x13c462(0x4d4),_0x414abf[a0_0x13c462(0x342)]='\x1b[33m%s\x1b[0m',_0x414abf['ERROR']=a0_0x13c462(0x2e9),_0x414abf[a0_0x13c462(0x457)]=a0_0x13c462(0x30e),_0x414abf[a0_0x13c462(0x785)]=a0_0x13c462(0x6ae),_0x414abf))(Qs||{}),Ys=(_0x4ac41b=>(_0x4ac41b[a0_0x13c462(0x215)]=a0_0x13c462(0x215),_0x4ac41b[a0_0x13c462(0x342)]='WARN',_0x4ac41b['INFO']=a0_0x13c462(0x356),_0x4ac41b[a0_0x13c462(0x6b9)]=a0_0x13c462(0x6b9),_0x4ac41b[a0_0x13c462(0x4f4)]='ERROR',_0x4ac41b['DEBUG']=a0_0x13c462(0x457),_0x4ac41b[a0_0x13c462(0x785)]='VERBOSE',_0x4ac41b))(Ys||{}),Xs=(_0x427a8e=>(_0x427a8e['LOG']=a0_0x13c462(0x723),_0x427a8e['INFO']=a0_0x13c462(0x5c1),_0x427a8e['WARN']=a0_0x13c462(0x373),_0x427a8e['DARK']=a0_0x13c462(0x406),_0x427a8e[a0_0x13c462(0x4f4)]=a0_0x13c462(0x82b),_0x427a8e[a0_0x13c462(0x457)]=a0_0x13c462(0x159),_0x427a8e['VERBOSE']='\x1b[47m',_0x427a8e))(Xs||{}),$=class{constructor(_0x4107f2='Logger'){const _0x103690=a0_0x13c462;this[_0x103690(0x6e8)]=_0x4107f2,this[_0x103690(0x310)]=S;}[a0_0x13c462(0x44a)](_0x3c29fe){const _0x2f2235=a0_0x13c462;this[_0x2f2235(0x6e8)]=_0x3c29fe;}['console'](_0x185814,_0x51b9d1){const _0x450d33=a0_0x13c462;let _0x3b403e=[];this[_0x450d33(0x310)]['get']('LOG')[_0x450d33(0x33d)][_0x450d33(0x2a0)](_0x3e0e69=>_0x3b403e[_0x450d33(0x438)](Ys[_0x3e0e69]));let _0x2640ce=typeof _0x185814;_0x3b403e['includes'](_0x51b9d1)&&(S[_0x450d33(0x6a5)](_0x450d33(0x215))[_0x450d33(0x6f1)]?(console[_0x450d33(0x253)](_0x450d33(0x30a)+Qs[_0x51b9d1],_0x450d33(0x5fb),(0x0,ds['default'])()[_0x450d33(0x504)](_0x450d33(0x793)),_0x450d33(0x6e9),ps[_0x51b9d1]+Xs[_0x51b9d1]+'\x1b[1m',_0x51b9d1+_0x450d33(0x7ca),_0x450d33(0x4c6),this[_0x450d33(0x6e8)]+_0x450d33(0x6e9),ps[_0x51b9d1],_0x2640ce!==_0x450d33(0x50b)?_0x185814:'','\x1b[0m'),_0x2640ce==='object'&&console[_0x450d33(0x253)](_0x185814,'\x0a')):console['log']((0x0,ds['default'])()[_0x450d33(0x504)](_0x450d33(0x33b)),_0x51b9d1+'\x20',''+this[_0x450d33(0x6e8)],_0x185814));}[a0_0x13c462(0x253)](_0x5a9748){const _0x3efade=a0_0x13c462;this[_0x3efade(0x55c)](_0x5a9748,_0x3efade(0x215));}['info'](_0x3d62f5){const _0x55b550=a0_0x13c462;this[_0x55b550(0x55c)](_0x3d62f5,_0x55b550(0x356));}[a0_0x13c462(0x30b)](_0x40d105){const _0x3eb2a5=a0_0x13c462;this[_0x3eb2a5(0x55c)](_0x40d105,_0x3eb2a5(0x342));}[a0_0x13c462(0x873)](_0x51fc05){const _0x2ee853=a0_0x13c462;this[_0x2ee853(0x55c)](_0x51fc05,_0x2ee853(0x4f4));}['verbose'](_0x359dfe){const _0x2530e5=a0_0x13c462;this['console'](_0x359dfe,_0x2530e5(0x785));}[a0_0x13c462(0x449)](_0x585d17){const _0x81c4=a0_0x13c462;this[_0x81c4(0x55c)](_0x585d17,_0x81c4(0x457));}['dark'](_0x335136){const _0x13bf8a=a0_0x13c462;this[_0x13bf8a(0x55c)](_0x335136,_0x13bf8a(0x6b9));}};function Zs(){const _0x4674e2=a0_0x13c462;process['on'](_0x4674e2(0x7ab),(_0x5792ab,_0x5bdc5d)=>{const _0x290cb3=_0x4674e2;new $('uncaughtException')[_0x290cb3(0x873)]({'origin':_0x5bdc5d,'stderr':process[_0x290cb3(0x66f)]['fd'],'error':_0x5792ab});}),process['on'](_0x4674e2(0x3d1),(_0x135775,_0x4b31f6)=>{const _0x20cb87=_0x4674e2;new $('unhandledRejection')[_0x20cb87(0x873)]({'origin':_0x4b31f6,'stderr':process[_0x20cb87(0x66f)]['fd'],'error':_0x135775});});}var ea=I(require('eventemitter2')),hs=new ea['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x13c462(0x5c9)),Ae=I(require(a0_0x13c462(0x5c9))),Be=new $(a0_0x13c462(0x344)),L=S[a0_0x13c462(0x6a5)]('DATABASE'),T=L['ENABLED']?L[a0_0x13c462(0x6c8)][a0_0x13c462(0x7eb)]?Ae[a0_0x13c462(0x6bc)][a0_0x13c462(0x831)](L[a0_0x13c462(0x6c8)][a0_0x13c462(0x7eb)],{'dbName':L[a0_0x13c462(0x6c8)][a0_0x13c462(0x880)]+a0_0x13c462(0x1b4)}):Ae[a0_0x13c462(0x6bc)]['createConnection'](a0_0x13c462(0x47b)+L[a0_0x13c462(0x6c8)][a0_0x13c462(0x37c)]+':'+L['CONNECTION'][a0_0x13c462(0x505)]+a0_0x13c462(0x42c),{'user':L['CONNECTION'][a0_0x13c462(0x6a4)],'pass':L[a0_0x13c462(0x6c8)][a0_0x13c462(0x6e2)],'dbName':L[a0_0x13c462(0x6c8)][a0_0x13c462(0x880)]+a0_0x13c462(0x1b4)}):null;function a0_0x1d20(){const _0x170c39=['Erro\x20ao\x20editar\x20o\x20replyOption:\x20','@newsletter','longitude','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','create','reduce','trimmed','/wa-all-message','list3','):\x20Fluxo\x20\x27','_Contacts','logout','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','fakeReceived','Falha\x20após\x205\x20tentativas:\x20','DATABASE_CONNECTION_USER','apply','957032UijMui','generateRandomIPv6','\x1b[42m','when','./.git/config','Forbidden','#ffffff','fetchInstances','deleteDoneMessages','):\x20Adicionando\x20\x27','_activedCount','Subscribed\x20Events:','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','ip\x20-6\x20addr\x20show\x20scope\x20global','removeData','No\x20suitable\x20network\x20interface\x20found','scheduleSendText',',\x20Minutes\x20to\x20Close:\x20','key','lowerCase','qrcode','catch','myAppStateKeyId','Safari','\x20excess\x20IPv6\x20addresses.','some','):Output\x20path:\x20','fetchProfilePictureUrl','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','retrySendMessage','equal','SUCCESS','initAuthCreds','randomBytes','Types','groupadd','#9568cf','authState','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','.wav','website','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','url','KEY','remoteJids','keys','creds.update','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Alterando\x20fluxo...','findByIdAndUpdate','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','contact_blacklist','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','profilePicture','leadInfo.desativadoFluxoAte','chats.update','processblock','fromObject','removeProfilePicture','Instance\x20Key\x20from\x20DB:','replaceVariablesLogs','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message',',\x20qrcodeCount:\x20','undefined','canSendMessage','PRODUCT_LIST','Error\x20in\x20buttonsMessage\x20function:','STORE_CHATS','AppStateSyncKeyData','CONECTADO\x20À\x20UAZAPI','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','uazapi','prepareMediaMessage','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','CacheContacts\x20database\x20connection\x20closed.','\x27\x20não\x20encontrado','IPv6\x20Prefix\x20detected:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','\x5cd+','sort','Botão\x202','PROXY','auth','toggleEphemeral','lastCondition','execSync','modifiedCount','all','variablesToObject','Database\x20is\x20not\x20enabled','leadInfo.customFields','SINGLE_SELECT','sharp','buttons','!cmd_','values','sendContact','CLEANING_INTERVAL','VERBOSE','createFlow','endSession','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','post','Message','initializeQueue','lastSendMessage','\x1b[37m','creation','color','updateMissingEtiquetas','):\x20\x27Deletando\x20fluxo,\x20id:\x20','DD/MM\x20HH:mm:ss','envYaml','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','selectedOptions','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','/clients-info','getAllData','The\x20\x22','listIPv6Addresses','presence.update','scheduleSendAudio','createIPv6','isInteger','formatStatusMessage','isListOfNumbers','message_normalized','sticker','collection','editFlowBlock','getVariablesChat','statSync',',\x20Segundo\x20Valor:\x20','Instance\x20Name:','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','uncaughtException','convertaudioMP3','padEnd','owner','connection.update','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','CHATS_SET','.TEL;waid=','contactMessage','processawaitSeconds','variablesNotFound','request\x20received\x20in\x20editFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','imagechat','notEqual','processConditions','pollCreationMessageKey','headers','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20',']\x20(','app','existsSync','fullName','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','processScheduleFlow','fetchConversation','response','Erro\x20ao\x20atualizar\x20o\x20flow.','deleteImportedChat','groupInviteCode','\x20\x1b[0m','title','ENABLED','connectedName','):\x20debug\x20alterando\x20this.AutomateSystem','Message\x20absent\x20from\x20node','getLabelModelForOwner','Instâncias\x20removidas:\x20','message','document','string','insert','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','CORS','Nenhum\x20participante\x20válido\x20encontrado.','):\x20newFirstValue\x20após\x20replaceVariables:','abs','toLowerCase','boolean','logger','shareFlow','$set','groupAcceptInvite','apiName','updateChatGroupData','ip\x20-6\x20addr\x20del\x20','connect','URL','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','sem\x20texto\x20na\x20mensagem','):\x20sender\x20=\x20number:\x20','updateReplyOption','URI','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateAll','creds.json','subject','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Data\x20inválida\x20fornecida','Flow\x20\x27','jwt','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','waInstances','nativeFlowResponseMessage','proxy:\x20','deletedCount','.xlsx','updateGParticipant','\x22\x20-\x20NOT\x20CONNECTION','Read\x20messages','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','updateMediaMessage','request\x20received\x20in\x20getFlow','test','ignoreGroups','Erro\x20de\x20atualização:\x20','messageId','connectedClient','put','Tentativa\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','max','splice','cleaningUp','The\x20property\x20cannot\x20be\x20empty','width','interactiveResponseMessage','Stack\x20trace:','fetchLabels','Número:\x20','generate','CHATS_DELETE','ini','):\x20conversation.waitingMenu_name','groupValidate','Sistema\x20atualizado\x20com\x20sucesso!','realVariables','request\x20received\x20in\x20deleteAllMessages','release','toLocaleString','reorderMessages','telefone','inet6','Erro\x20ao\x20alterar\x20fluxo','update','):Image\x20is\x20base64','Falha\x20ao\x20criar\x20IPv6.','presenceSubscribe','apirequest','Subdomínio\x20extraído\x20da\x20URL:','upsertedCount','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','\x1b[41m','getContentType','writeFile','findGroups',',\x20pairCode:\x20','Comando\x20desconhecido','createConnection','updateMany','Filtered\x20network\x20interfaces:\x20','Erro\x20ao\x20buscar\x20conversas','#ffae04','):\x20Falha\x20ao\x20deletar\x20mensagem.','Not\x20Found','crypto','Font\x20is\x20required','updateMissingCustomFields','role','Erro\x20ao\x20remover\x20label\x20','flowStopMinutes','authentication','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','startCommandWord','/wa-chats','addMessagesToGroup','filter','emit','conditions','reorderBlocks','view\x20engine','Rodapé\x20de\x20Teste','Error\x20while\x20deleting\x20message\x20for\x20everyone','loadEnv','Erro\x20ao\x20buscar\x20Schedule\x20Messages','authService','defineProperty','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','truncatedto','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','greater','scheduleNextCheck','saveTextReply','restrict','Opção\x20Falsa\x20','spawn','1241064enVnKG','):\x20Query\x20params:','messageHandle','):Temp\x20image\x20deleted','integer','connectionState','pt-BR','request\x20received\x20in\x20scheduleMessage','):\x20Iniciando\x20bot...','3QHqbXL','author','waitingMenu_text','processclearVariables','$addToSet','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','resetReconnectionVariables','Timeout\x20exceeded','applyvaredit','replaceVariablesInObject','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','SEND_MESSAGE','count','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Error\x20fetching\x20IPv6\x20addresses:\x20','flowPrefixCommand','\x20is\x20already\x20in\x20use.','):\x20Enviando\x20localização','Connection\x20Closed','error','AutomateFunctions','\x27\x20do\x20banco\x20de\x20dados...','.doc','findGroup','replyOption','uazapiSendMedia','Authentication\x20error','.webp','deleteOne','segundos','Erro\x20ao\x20iniciar\x20o\x20fluxo.','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','DB_PREFIX_NAME','DELIVERY_ACK','_id','isURL','min','fileLength','viewOnceMessage','fetchProfile','joinGroupValidate','reference','PRESENCE_UPDATE','find','indexOf','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','unlocked','groupCreate','\x1b[31m','editFlowReply','group','slice','lastSend','):Image\x20is\x20url','uazapiDeleteMessage','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','flowConfig','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','chatModify','Type\x20not\x20found','stopped','number','menuType','arraybuffer','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','reject','copyBlock','Subdomínio\x20não\x20encontrado','createInstance','admin','Falha\x20ao\x20recriar\x20IPv6.','?timestamp=','getFullYear','none','this.reconnectAttempts:\x20','.extension','pollCreationMessageV2','getMessageModelForOwner','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','groupGetInviteInfo','basename','verifyWhatsAppNumber','Erro\x20ao\x20importar\x20chats','contactsArrayMessage','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','\x20minutos.\x20Será\x20às\x20','allContacts','.png','Instance\x20deleted','unlinkSync','${Message\x20absent\x20from\x20node}','uazapiSendContact','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','flowName','leadInfo','BRL','connectToWhatsapp','delAll','Erro\x20ao\x20atualizar\x20agendamento\x20','getUpdate','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','noConnection','Valor\x20da\x20URL\x20recuperada:','Falhou\x20ao\x20encontrar\x20chat\x20','Retornando\x20grupos\x20SEM\x20cache','/wa-message','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','audioWhatsapp','findContacts','class-validator','\x27...','leadInfo.','sending','ex:\x20\x22groupJid=120362@g.us\x22','backgroundColor','):\x20Editando\x20edição\x20do\x20fluxo...','contacts.update','updateBlock','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','convertaudio','getConversationModelForOwner','verifiedName','findChats','approve','fetchBusinessProfile','race','URL\x20completa:','.mimetype','\x20:\x20','updateOnlinePrivacy','node-cache','restartInstance','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','updatePresence','changeVariables','Not\x20allowed\x20by\x20CORS','OrAnd','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','delayChatLabel','beautifyWithPlaceholders','createGroup','every','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','prototype','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','client','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','hGetAll','BufferJSON','\x1b[46m','getScheduleMessageModelForOwner','profilePictureUrl','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','lastBlockId','addChatLabel','quoted','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Validate','deleteAllMessages','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','messageStubParameters','option','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','):\x20updateResult:','DATABASE','RemoveChatLabel','picture','StartBot','contacts.upsert','readMessage','):Type\x20defined\x20as\x20audio','ConversationModel','setRestartTimeout','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','WA\x20MODULE','AddChatLabel','Erro\x20ao\x20buscar\x20fluxos:','updateOne','groupdata','allflows','createConversationforStartFlow','ipv6Prefix','Contacts\x20not\x20found',',\x20saindo.','formatVCard','store','@whiskeysockets/baileys','Erro\x20ao\x20deletar\x20mensagens:','nativeFlowMessage','sendAudio','isValidIPv6Config','delay','open','query','API_KEY','Erro\x20ao\x20atualizar\x20cacheInstance:','stopConversation','):Processing\x20audio','.webm','):\x20expirationTime:\x20','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','extractRegex','countIPv6Addresses','IPv6\x20address\x20removed:\x20','pairingCode','bateu\x20events','pollMessage','findOrCreate','.\x20Aguardando\x20','imgUrl','express','promisify','readreceipts','Flow\x20iniciado\x20com\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Fluxo\x20\x27','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','info','bodyStringErrorParse','toDataURL','groupHandler','convertToString','jsonwebtoken','pendingMessages','/create','useMultiFileAuthState','CORS_CREDENTIALS','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Instância\x20não\x20encontrada.','editFlowGroup','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','jpegThumbnail','footerText','.url','waitingMenu_id','group-participants.update','generateWAMessageFromContent','muteEndTime','cleanStore','-whatsapp-api','valid','):\x20Chat\x20','fetchMessages','):\x20Criando\x20fluxo\x20compartilhado...','Parando\x20aplicação,\x20atualização\x20recebida','\x20com\x20sucesso.','messageLogsModel','flows','util','):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...','deleteMany','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','instance','autoCompleteMessages.command_1','getValidWhatsAppNumbers','folder','https://chat.whatsapp.com/','--------------------------------------','):\x20Criando\x20fluxo...','):\x20Buscando\x20conversas...','params',',\x20global:\x20','hGet','):\x20Instancia\x20isBusiness:\x20','stickerMessage','entries','AutomateSystem','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','variables','\x20depois\x20','length','g.us','.gif','finish','/instance/fetchInstances','\x1b[34m','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20chats\x20de\x20','createOrUpdate','sendWhatsAppAudio','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','whatsappNumber','nomecompleto','text','cachedData-whatsapp','processApiRequest','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','lastReceivedMessage','SERVER_TYPE','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','\x5c$&','MESSAGES_SET','webhookMap','findById','messagesLogs','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','selectedRowId','notas','matchRegex','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','/events/:instance','labels.association','Flow\x20iniciado','username','instance.','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','DisconnectReason','SERVER','base64','isAdmin','newStoppedUntil','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','):\x20Buscando\x20conversa...','../env.yml','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','automateSystem','ScheduleMessageModel','sharePass','getDevice','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','_hour','Conexão\x20estabelecida','):\x20Flow\x20\x27','menuExpiredMessage','ListType','namespace','):Delete\x20chat','getPrototypeOf','variable','Selecione','awaitSeconds','groupUpdateSubject','Parando\x20aplicação...','enumerable','):Audio\x20converted\x20and\x20stored\x20in\x20cache','LOG','done','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Deletion\x20failed','use','onWhatsApp','whatsappNumbers','updateGroupsAddPrivacy','GET','):\x20Bloco\x20copiado:\x20','https://api.ipify.org?format=json','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','throwAndLogError','chats.upsert','fileUrl','block','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','exports','chatLog','readdirSync','goNextblock','insertCount','locationMessage','Início','cacheContact','status','updateProfileName','3EB0','header','getScheduleMessage','waUploadToServer','toBrazilianNumberFormat','):\x20Editando\x20grupo\x20do\x20fluxo...','Instance\x20ID:','saveConversationToDatabase','toArray','replyOptions','contactHandle','validate','Network\x20interfaces\x20detected:\x20','Error\x20finding\x20many\x20contacts:','827836uyjgwi','listen','blockId','STORE_CLEANING_TERMINAL','editflowcondition','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','#d3a91f','enabled','getBusinessProfile','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','sendSticker','buttonsResponseMessage','AUTHENTICATION_JWT_EXPIRIN_IN','upperCase','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','not\x20loaded','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','API\x20Key\x20inválida.','groupdata.participants','log','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','groups.update','updateGroupPicture','senderKeyDistributionMessage','send','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','image','routerPath','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):Trying\x20to\x20get\x20business\x20profile','hex','quick_reply','groupJid','ORG:','status.instance',',\x20received\x20','_FlowHistorico','getChatModelForOwner','labelId','):\x20lastBlockId:\x20','editMessagesInGroup','_month','subjectOwner',',\x20valor\x20a\x20encontrar:\x20\x22','findGroupInfos','cachedContacts-whatsapp','Bloco\x20com\x20ID\x20','lastInteraction','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','removeUnusedChatFields','):\x20\x27Enviando\x20texto\x20para\x20\x27','\x20segundos...','groupMetadata','):\x20Editando\x20condição\x20do\x20fluxo...','isCommunityAnnounce','flushHeaders','_activatedCount','pino','GROUP_PARTICIPANTS_UPDATE','redisEnv','joinGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','remove.instance','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Ler\x20mensagem','startFlow','8080','Erro\x20ao\x20aplicar\x20varedit:\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','testingWith','uazapiSendText','findManyByIds','sleep','NextBlock','downloads','processReadyMessages','webhookService','createClient','EMAIL:','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','request\x20received\x20in\x20starFlow','request_method','):\x20whoCanEdit\x20after\x20validation:\x20','\x20não\x20encontrado','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','protocolMessage','Botão\x201','.error','groupUpdateDescription','MESSAGES_UPDATE','waitingMenu_ExpiredMessage','Error\x20fetching\x20IPv6\x20count:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','SECRET','forEach','output','groupParticipantsUpdate','replaceVariablesInReplyOptions','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x20-y','isJWT','Cache-Control','Falha\x20ao\x20processar\x20fetchBusinessProfile','listType','processConditionsTest','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','fetchPrivacySettings','sendPoll','WebhookGlobal','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Enviando\x20enquete','subjectTime','rowId','removed','type','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','getLastMessage','/startFlow/:instance/:startID','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','toString','qrcode.updated','):\x20Error\x20processing\x20conditions:\x20','limit','isMessageProcessed','queue','verify','and','compression','fromMe','LabelModel','evaluateConditionTest','):\x20transformedCustomFieldVariables','sha256','findConversation','instanceName\x20not\x20provided.','webhookModel','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','originalUrl','preview','):\x20Buscando\x20flow,\x20id:\x20','sendCommand','createButtonSectionsFromValues','reorderReplyOptions','\x20mensagens\x20de\x20','closeExistingConversations','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','stopMinutes','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','qrcode-terminal','thumbnailUrl','call','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','textMessage','global','findAll','\x0a*Você\x20respondeu*:\x0a','getBase64FromMediaMessage','defineAuthState','):\x20error:\x20','Erro\x20ao\x20editar\x20a\x20conversa','):\x20alterando\x20this.AutomateSystem','ReplyOption\x20com\x20ID\x20','/wa-presence','updateGParticipate','request\x20received\x20in\x20updateCustomFields','createServer','\x1b[31m%s\x1b[0m','isJidGroup','#9ab6c1','headerString','):\x20Erro\x20durante\x20a\x20atualização:\x20','@ffmpeg-installer/ffmpeg','):\x20atualização\x20chat:\x20','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','maxActives','listMessage','):\x20whoCanEdit\x20before\x20validation:\x20','/wa-groups','reaction','\x1b[30m','rows','last','request\x20received\x20in\x20updateFlowConfig','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','_year','\x1b[30m%s\x1b[0m','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','autoCompleteMessages','):\x20Entrou\x20na\x20função\x20processawaitSeconds','processedMessagesCache','pollUpdateMessage','profile','varedits','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',',\x20resultado:\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','envProcess','parseInt','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','\x1b[1m','warn','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','\x1b[36m%s\x1b[0m','conversation','configService','Erro\x20ao\x20atualizar\x20o\x20fluxo:','extractPhoneNumber','#ff9484','email','detail','updateLastSeenPrivacy','statusMessage','importChats','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','updateGroupParticipantsWebhook','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','toBRL','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','transformScheduledMessagesByType','groups.upsert','getStatus','request\x20received\x20in\x20getConversation','createNewConversation','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','bodyString','normalizeMessage','pollCreationMessage','_error','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','InstancesAlterarTodas','startID','flattenObject','messageTimestamp','):\x20Bloco\x20original\x20para\x20cópia:\x20','whoCanEdit','Adicionando\x20novo\x20participante:\x20','Resultado\x20da\x20correspondência\x20de\x20URL:','fileName','sendReaction','triedToSend','):\x20Enviando\x20mensagem\x20para\x20','setNewValue','findFlow','static','exec','/wa-message-update','HH:mm:ss','proto','LEVEL','):\x20Enviando\x20contato','DATABASE_CONNECTION_PASSWORD','linkPreview','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','WARN','content-type','Db\x20Connection','loadInstance','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','\x20quoted:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','admin_add','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','success','CONTACTS_SET','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Flow\x20desativado','upsertChats','URL:','):\x20','Failed\x20to\x20send\x20buttons\x20message','DATABASE_ENABLED','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','removeIPv6','INFO','IPv6\x20addresses\x20detected:\x20','buffer','):\x20Bloco\x20com\x20ID\x20','getConversation','groupId','viewOnceMessageV2','.fileUrl','isRunning','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','wuid','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','findAndUpdateCacheContact','Content-Type','editFlowVariable','keep-alive','CORS_METHODS','):\x20Deletando\x20conversa...','AUTHENTICATION','/instance/connect','getReadyToSendMessages','fetchProfilePicture','lastMessage','createAndSave','deleteReplyOption','from','$dbName','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x1b[43m','SERVER_OFFLINE','):\x20Iniciando\x20processReadyMessages','not_announcement','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','#d8e651','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','presence','ObjectId','HOST','isCommunity','updateStopChat','\x22reaction\x22\x20must\x20be\x20an\x20emoji','getFlow','uazapiSendMenu',',\x20valor\x20passado:\x20\x22','chatId','DATABASE_CONNECTION_DB_PREFIX_NAME','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','scheduleSendMedia','leadInfo.etiquetas','dropCollection','https://uazapi-plugin.bubbleapps.io/','urlOrBase64','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','sendDataWebhook','__esModule','connectionClosed','.xls','5215XjiTst','mediaSticker','DATABASE_CONNECTION_HOST','AUTHENTICATION_API_KEY','startCommand','.type','\x0a{\x20instance:\x20','status@broadcast','ip\x20-6\x20addr\x20add\x20','pushName','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','locked','):\x20mediaMessageInfoId\x20:\x20','):Image\x20path:\x20','Group\x20not\x20found',',\x20canSendMessage:\x20','_ScheduleMessages','updateProfilePicturePrivacy','Error\x20parsing\x20JSON:','available','HistoryProcessed','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Reiniciando\x20a\x20aplicação...','getProfileName','remoteJid','/chat','router','silent','statusJidList','connectionUpdate','chats.delete','\x20segundos\x20antes\x20de\x20reconectar...','_Messages','promote','/media','editFlowCondition','\x20não\x20encontrado\x20para\x20atualização.','Failed\x20to\x20prepare\x20media\x20message','\x20-i\x20','false','function','sendList','Variáveis\x20não\x20encontradas:','REDIS','public','getTicketSystem','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','saveMediaToFile','verbose','leaveGroup','@g.us','processvaredits','Missing\x20global\x20api\x20key','#64c4ff','):Audio\x20processed','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','MESSAGES_UPSERT','code','Chat\x20com\x20ID\x20','dbSettings','capitalizedWords','deleteMessage','redis','unhandledRejection','del','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','ephemeralMessage','fetchStatus','updateAgent','updateFlowConfig','mediatype','4942612SORKMJ','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','0123456789ABCDEF','cachedContact','EMAIL','Error\x20removing\x20unused\x20chat\x20fields:','createHash','sendMessageWithTypingButtons','normalizeMessageContent','memberAddMode','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','hDel','webp','demote','inviteCode','Internal\x20Server\x20Error','chats.set','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','updatePrivacySettings','copy','PLAYED','getDelay','cacheInstanceModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','sendButtons','\x20minutos','cleanupExcessiveIPs','blocks','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','getMessage','archiveChat','groupToggleEphemeral','SSL_CONF_FULLCHAIN','\x20-\x20ON:\x20','createSectionsFromValues','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20',',\x20Resultado:\x20','):\x20enviado\x20para\x20[','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','_sender','Erro\x20ao\x20tentar\x20autoCompleteMessages','replaceOne','delaySecMin','\x1b[40m','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','notify','request\x20received\x20in\x20deleteDoneMessages','isBase64','userDevicesCache','findGroupInfo','Reusing\x20existing\x20IPv6:\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','findMessages','atendimentoAberto','notEmpty','prepareWAMessageMedia','set','stopMinutesMaxActives','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','messageLogs','):\x20isVote:\x20','messages','.pptx','media','isArray','recebido\x20de','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','paused','has','Instance\x20restarted','now','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','match','EXPIRIN_IN','cwd','FULLCHAIN','):\x20Deletando\x20mensagem','dbServer','http','E-mail:\x20','name','?authSource=admin&readPreference=primary&directConnection=true','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','updateAutoCompleteMessages','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','updateMissingTags','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','selectedDisplayText','pollErrorMessage','flowConversation','eventEmitter','push','toUpperCase','cpf','cacheContactModel','Connection\x20closed\x20for\x20instance:\x20','firstValue','stopIfLastReturnedError','Connection','#b4ebff','messageType','phoneNumber','sendText','):\x20Criando\x20nova\x20conversa[createNewConversation]','replace','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','groupName','):\x20Editando\x20replyOption...','debug','setContext','getAutomateSystem','MAX_SAFE_INTEGER','archived','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Enviando\x20texto','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Removidas\x20as\x20variáveis:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','messages.set','sendPresenceUpdate','Last\x20message\x20not\x20found\x20for\x20number:\x20','DEBUG','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','apikey','dayjs','getflow','contains','scheduleMessage','Erro\x20ao\x20executar\x20bulkWrite:','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','poll','updateParticipant','unknown\x20operation\x20type\x20[','/64\x20dev\x20','https://ipv6.jsonip.com','updateCustomFields','updateProfileStatus','label','closed','env','jsonschema','):Desconectado,\x20parando\x20execução.','):\x20Procurando\x20conversa','SendScheduleMessage','#000000','chatHandle','fetchChats','GROUPS_UPSERT','\x22\x20not\x20found','sections','updateConversation','Module\x20-\x20ON','$pull','.\x20Pulando.','readMessageBot','substring','save','mongodb://','Grupo\x20não\x20encontrado','ScheduleMessage','RemoteJid:','pollCreationMessageV3','participant','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','revokeInviteCode','exit','online','groupLeave','formatBRNumber','):\x20Error\x20processing\x20the\x20block:\x20','model','https://api.openai.com/v1/images/generations','authModel','\x1b[32m','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','getMonth','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20Usando\x20extensão\x20padrão:\x20','everyOne','mimetype','processingGroup','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','METHODS','makeCacheableSignalKeyStore','vote','setWebhook','SERVER_PORT','Instance\x20\x22','):\x20[messages.upsert]\x20group\x20ignored','close','SERVER_URL','globalShow','deviceSentMessage','GUARD','nome','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):including\x20timestamp\x20in\x20url:\x20','expiration','):\x20Editando\x20bloco...','/instance/create','groupBetterSetting','data','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20leadInfoVariables','Instance\x20logged\x20out','request\x20received\x20in\x20deleteFlow','cleanDisconnectedInstances','toNumber','agents','Error\x20updating\x20cache\x20contact:','Error\x20adding\x20IPv6\x20address:\x20','\x22\x20cannot\x20be\x20empty','/config','\x20ao\x20chat\x20','participants','start','):Converted\x20image\x20deleted','QRCODE_UPDATED','processUazapi','):\x20conversation.lastInteraction:\x20','stack','qrCode','\x20and\x20data:','digest','request_time','setHeader','dbInstance','map','getClient','node-mime-types','sectionsToString','):\x20Entrou\x20na\x20função\x20saveReply','\x1b[33m\x1b[1m','The\x20global\x20api\x20key\x20must\x20be\x20set','label_jid','_second','split','mentions','paramsJson','findOne','all_member_add','DaysToDelete','editConversation','dbClient','cors','.jpg','\x1b[34m%s\x1b[0m','ip6eui','badSession','dbConnection','sendMessageWithRetry','processgoToFlow','):\x20Conversa\x20inserida\x20com\x20sucesso.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','ChatRouter','Close\x20connection','.docx','addBlock','findParticipants','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','options','\x20removido\x20do\x20chat\x20','removeInstance','https://api.openai.com/v1/audio/speech','downloadMediaMessage','):\x20Editando\x20mensagens\x20no\x20grupo...','repeat','varedit','interactiveMessage','ip:\x20','):\x20\x27Enviando\x20mídia\x20para\x20\x27','messages.update','STORE_MESSAGE','long','readMessages','synchronizeAndMapFlows','joinApprovalMode','ERROR','https://uazapi-plugin.bubbleapps.io/?url=','Pausado\x20por\x20','Limpando\x20logs\x20do\x20PM2...','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','Erro\x20ao\x20copiar\x20o\x20documento','sendLocation','request\x20body:\x20','lean','mediaMessage','\x1b[36m','convertedOptions','SSL_CONF','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','deleteFlow','\x20não\x20encontrado\x20para\x20cópia','format','PORT','generateHash','delayMessage','remove','inviteUrl','):\x20Current\x20Time:\x20','object','includes','API\x20Key\x20from\x20Request:','content','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','pollOnReplyDelete','footer','CORS_ORIGIN','):Error\x20in\x20converting\x20audio','displayName','interval\x20não\x20é\x20um\x20número','display_text','uazapiSendLocation','):\x20Procurando\x20mensagens\x20para\x20envio','}}\x20->\x20\x22','END:VCARD','@broadcast','startsWith','READ','command','events','/wa-qrcode','sendMedia','axios','stringify','Last\x20message\x20not\x20found',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','getTime','idSchedule','privacySettings','reconnectTimestamps','address','Erro\x20ao\x20editar\x20o\x20chat','replaceVariablesChat','sendStatus','writeFileSync','instanceInfo','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Error\x20testing\x20IP\x20with\x20','https://ifconfig.me/ip','exists','):\x20Entrou\x20na\x20função\x20goToFlow','add','flowActive','app-state-sync-key','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','optionName','menuMessage','unreadcount','reactionMessage','no.connection','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','caption','Invalid\x20format','apiResponse','loadWebhook','Schema','floor','drop','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','updateOneById','https://','detectIPv6PrefixAndInterface','editChat','webhook','reviver','currency','randomMac','isConnected','GROUPS_UPDATE','messageContextInfo','state','Router','http://checkip.dyndns.org','cache','leadInfo.atendimentoAberto','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','js-yaml','processPollUpdateMessage','console','tags','instances','#00a1f2','selectableCount','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','delaySecMax','error_log','delayChatLabel_MAX_RETRIES','deleteflow','/webhook','Esse\x20fluxo\x20expirou','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','hbs','saveChatVariables','.ppt','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','enviado\x20para','groups_ignore','\x27\x20removido\x20do\x20AutomateSystem.','deleted','utf-8','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','connectToWhatsappController','):\x20teve\x20mudanças\x20chat.archived:\x20','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','contacts','where','groupSettingUpdate','_remoteJid','\x0aitem','imageMessage','addToProcessedMessages','customFields','pre','removeChatLabel','desativadoFluxoAte','DELETED','findGroupsEspecial','singleSelectReply','expression','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','instanceName','uuid','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','updateGroupWebhook','localWebhook','Log\x20out\x20instance:\x20','editflow','/wa-contacts','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','IP\x20confirmed:\x20','toFile','Partes\x20do\x20caminho\x20FULLCHAIN:','getMIMEType','deleteConversation','checkAndRestartProcess','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Usando\x20IP\x20existente:\x20','clearVariables','temp-','findRealGroups','off','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','ephemeralExpiration','):\x20nextBlock.uazapi.name','repository','instancias:\x20','loggedOut','parse','10543698xOUQrj','moreLogs','groupFetchAllParticipating','#9ba6ff','saveVariable','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','single_select','flush','Cannot\x20','deleteChat','restart','last_update','isBusiness','scheduleFlow','delayChatLabel_RETRY_DELAY_MS','findMany','PREFIX_KEY','Not\x20is\x20business\x20profile','write','editFlow','Type\x20is\x20required','docker','redirect','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Mac\x20OS','charAt','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','3174XjzjLV','value','readFileSync','\x20minutos\x20verificará\x20novas\x20mensagens','\x1b[44m','Valor\x20de\x20find\x20ou\x20replace\x20ausente','replaceValue','assign','application/octet-stream','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','):\x20Editando\x20variável\x20do\x20fluxo...','writeData','mongoose','editFlowVaredit','uazapiSendAudio','round','updateChatWithMessage','Removing\x20excess\x20IPv6\x20address:\x20','getUniqueFlowName','pop','editflowgroup','Selecione\x20uma\x20opção','descOwner','list','hasOwnProperty','Falta\x20informação\x20para\x20a\x20chamada\x20API','scheduled','creds','gifPlayback','video','getDate','sim','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','body','binary','flow','\x1b[33m','local_map','encoding','templateButtonReplyMessage','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','setting','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','whoCanUse','composing','menuIgnoreNonVotes','StartID:','groupSetting','DATABASE_CONNECTION_URI','condition','Fluxos\x20não\x20estão\x20ativados','AddUserFlow','Novo\x20IP\x20criado:\x20','groupRevokeInvite','groups','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','conversationTimestamp','empty','messageSecret','buttonMessage','sendMessageWithTyping','\x1b[1m\x1b[37m','FlowRouter','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','text/event-stream','hSet','ChatModel','notMatchRegex','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','audio','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','method','error\x20get\x20vote','fetchContacts','):\x20Label\x20','/media/','Erro\x20ao\x20buscar\x20o\x20fluxo','Enter\x20a\x20value\x20in\x20milliseconds','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','/instance/delete','findIndex','listResponseMessage','\x20horas\x20e\x20','File\x20written\x20to\x20path:\x20','\x20tentativas.','pow','sendMessage','):\x20ev.flush\x20realizado','out','_pushName','CONTACTS_UPDATE','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','request\x20received\x20in\x20fetchConversation','audioMessage','Mensagem\x20não\x20suportada','CONTACTS_UPSERT','getHours','https://github.com/uazapi/uazapi.git','createJid','etiquetas','addReplyOption','storePath','ON\x20-\x20dbName:\x20','then','/group','getOwnPropertyNames','Erro\x20ao\x20alterar\x20privacidade','updateMessage','msgRetryCounterCache','latitude','config','sendMenu','Total\x20IPv6\x20addresses\x20detected:\x20','updateStatusPrivacy','created','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','delete','oldToken','superadmin','announce','fone','/exit','CHATS_UPDATE','insertMany','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','flowIgnoreGroups','.mp3','convert','messaging-history.set','sign','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','updateReadReceiptsPrivacy','Error\x20fetching\x20and\x20updating\x20profile:\x20','ContactModel','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','This\x20name\x20','editedMessage','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','contextInfo','readData','timeout','):\x20whoCanUse\x20after\x20validation:\x20','replacer','importChatsBatch','Retornando\x20grupos\x20COM\x20cache','findOneAndUpdate','iniciando\x20fluxo\x20router','):\x20Comando\x20desconhecido:\x20','descId','choices','shareOwners','audio/ogg;\x20codecs=opus','STORE','_Labels','mentioned','description','instanceKeys','_lastVote','video-cover.png','join','allFlows','Unauthorized','archive','profileName','eventHandler','desc','ListMessage','Esse\x20fluxo\x20não\x20permite\x20importação.','Primeiro\x20Valor:\x20','minutesToClose','statusCode','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','organization','stopWhenYouSendMsg','Fluxo\x20não\x20encontrado\x20na\x20memória.','stderr','groupRequestParticipantsUpdate','lastFetchAwaitingApproval','p-queue','beforeExit','api','groupDesc','isLong','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','PRIVKEY','dataValidate','/message','):Fetching\x20business\x20profile','shift','secondValue','findWebhook','convertToWebP','refused','endsWith','-instances','#56ccb4','groupMemberAddMode','vcard','):\x20Criou\x20conversa\x20no\x20startFlow','reconnectAttempts','blockLogs','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','\x0aFN:','mkdirSync','bulkWrite','.\x20Tentando\x20novamente\x20em\x20','dropIndex','urlencoded','next_groupId','replaceVariables','cta_url','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','optionDescription','chat','recording','updateProfilePicture','\x20instance\x20does\x20not\x20exist','markMessageAsRead','createButtonsFromValues','stateConnection','STATUS_INSTANCE','CHATS_UPSERT','https://jsonip.com','fora\x20do\x20git','mongodb','ip\x20-6\x20addr\x20show\x20dev\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','USER','get','networkInterface','):\x20Entrou\x20na\x20função\x20stop','^\x5cd+','CONNECTION_UPDATE','data:\x20','saveCreds','awaitingApproval','connectionStatus','\x1b[37m%s\x1b[0m','RECONNECT_TIME_FRAME','Content\x20is\x20required','Erro\x20ao\x20deletar\x20a\x20conversa','padStart','Subdomínio\x20final:','https://api.elevenlabs.io/v1/text-to-speech/','onTime','env.KEY\x20!==\x20key','height','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','DARK','keyPattern','\x20minutos...','default','JWT','Valor\x20inicial:\x20\x22','clear','lastUpdate','deleteAll','readFile','lastRealGroupsFetch','action','editOperator','findAndReplaceRegex','pictureUrl','CONNECTION','videoMessage','Database\x20update\x20result:','messages.upsert','getMinutes','waMonitor','chats','getContactModelForOwner','selectedButtonId','user','groupJoinApprovalMode','buttonText','LOG_COLOR','startFlowWebhook','isJidUser','#92ceac','Configuração\x20SSL\x20recuperada:','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','documentWithCaptionMessage','cacheInstanceRepository','waitingMenu_replyOptions','request\x20received\x20in\x20deleteConversation','):\x20delete\x20=\x20true','MessageModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','path','PASSWORD','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','editflowreply','TYPE','responsavelid','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','context','\x1b[0m','child_process','2323200tVZsmx','#fe9dfe','deleteInstance','The\x20instance\x20needs\x20to\x20be\x20disconnected','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','random','COLOR','configureIPv6','notContains','editScheduleMessage','imported','jid','Deleted\x20','inner','\x20foi\x20interrompido\x20pelo\x20usuário.','getSeconds','stdout','stanzaId','createConversationforgoToFlow','buttonParamsJson','Bad\x20Request','findAndReplace','array','labels.edit','@s.whatsapp.net','order','Mensagens\x20deletadas\x20com\x20sucesso.','font','trim','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','send.message','json','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','):\x20Rótulo\x20atualizado:\x20','express-async-errors','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','contact'];a0_0x1d20=function(){return _0x170c39;};return a0_0x1d20();}L[a0_0x13c462(0x7cc)]&&Be[a0_0x13c462(0x19e)]('ON\x20-\x20dbName:\x20'+T[a0_0x13c462(0x371)]);var Y=L[a0_0x13c462(0x7cc)]?L[a0_0x13c462(0x6c8)][a0_0x13c462(0x7eb)]?Ae[a0_0x13c462(0x6bc)][a0_0x13c462(0x831)](L['CONNECTION'][a0_0x13c462(0x7eb)],{'dbName':a0_0x13c462(0x1e1)}):Ae['default'][a0_0x13c462(0x831)](a0_0x13c462(0x47b)+L[a0_0x13c462(0x6c8)][a0_0x13c462(0x37c)]+':'+L['CONNECTION'][a0_0x13c462(0x505)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION']['USER'],'pass':L[a0_0x13c462(0x6c8)]['PASSWORD'],'dbName':a0_0x13c462(0x26e)}):null;Y&&Be[a0_0x13c462(0x19e)](a0_0x13c462(0x625)+Y[a0_0x13c462(0x371)]),process['on'](a0_0x13c462(0x673),()=>{const _0x13f10b=a0_0x13c462;T&&T[_0x13f10b(0x49b)](()=>{const _0x2577d9=_0x13f10b;Be[_0x2577d9(0x19e)]('Database\x20connection\x20closed.');}),Y&&Y[_0x13f10b(0x49b)](()=>{const _0x39f4fc=_0x13f10b;Be[_0x39f4fc(0x19e)](_0x39f4fc(0x76d));});});var Zi=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x13c462(0x545))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x13c462(0x545))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x4a90e5=>{const _0x5b1c81=a0_0x13c462;let _0x277d17='z_'+_0x4a90e5+'_Chats';return T?.[_0x5b1c81(0x488)](_0x5b1c81(0x601),ao,_0x277d17);},sa=require(a0_0x13c462(0x5c9)),io=new sa[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x3b519e=>{const _0x72a9a4=a0_0x13c462;let _0x174c8d='z_'+_0x3b519e+_0x72a9a4(0x71a);return T?.[_0x72a9a4(0x488)](_0x72a9a4(0x645),io,_0x174c8d);},ia=require(a0_0x13c462(0x5c9)),gs=class{},oo=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.['model'](gs[a0_0x13c462(0x42b)],oo,'ContactsAndGroups'),ra=require(a0_0x13c462(0x5c9)),ms=class{},ro=new ra[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x13c462(0x488)](ms['name'],ro,'instances'),ws=require(a0_0x13c462(0x5c9)),fs=class{},no=new ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws[(a0_0x13c462(0x545))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x13c462(0x488)](fs[a0_0x13c462(0x42b)],co,a0_0x13c462(0x1eb)),ca=_0x47c651=>{const _0x241307=a0_0x13c462;let _0x499bb0='z_'+_0x47c651+_0x241307(0x3b2);return T?.['model'](_0x241307(0x6df),no,_0x499bb0);},la=require(a0_0x13c462(0x5c9)),ys=class{},lo=new la[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x13c462(0x488)](ys[a0_0x13c462(0x42b)],lo,a0_0x13c462(0x83e)),da=require(a0_0x13c462(0x5c9)),bs=class{},pa=new da[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x13c462(0x57e)](a0_0x13c462(0x47a),function(_0x2d2f32){const _0x1f4761=a0_0x13c462;delete this[_0x1f4761(0x537)],delete this[_0x1f4761(0x63d)],delete this[_0x1f4761(0x86f)],delete this['flowStopConversation'],delete this[_0x1f4761(0x83d)],_0x2d2f32();});var ha=T?.[a0_0x13c462(0x488)](bs[a0_0x13c462(0x42b)],pa,a0_0x13c462(0x54d)),P=require(a0_0x13c462(0x5c9)),Ss=require(a0_0x13c462(0x587)),ze=class{},Ms=class{},ma=new P[(a0_0x13c462(0x545))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x13c462(0x545))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x13c462(0x545))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x13c462(0x5d4)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x13c462(0x20f)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x13c462(0x567)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x13c462(0x545))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x13c462(0x545))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0x13c462(0x545))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x13c462(0x545))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x13c462(0x545))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x13c462(0x545))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x396a65=a0_0x13c462;return _0x396a65(0x781)+Math[_0x396a65(0x6f0)]()[_0x396a65(0x2ba)](0x24)[_0x396a65(0x894)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x13c462(0x3b9)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba['pre'](a0_0x13c462(0x651),function(_0x514e44){const _0x168a17=a0_0x13c462;let _0x1129e1=this[_0x168a17(0x8c5)]();if(_0x1129e1&&typeof _0x1129e1=='object'&&_0x168a17(0x7e0)in _0x1129e1){let _0x201833=_0x1129e1[_0x168a17(0x7e0)];if(_0x201833){let _0x42f322=new Set(),_0x2eb23a=new Set(_0x201833[_0x168a17(0x1d1)]?.['map'](_0x24b4b1=>_0x24b4b1[_0x168a17(0x42b)])),_0x3588b4=JSON[_0x168a17(0x524)](_0x201833),_0x4e20a5=/{{(?!_)([^}]*)}}/g,_0x5c7f0f;for(;(_0x5c7f0f=_0x4e20a5[_0x168a17(0x339)](_0x3588b4))!==null;)_0x2eb23a[_0x168a17(0x41f)](_0x5c7f0f[0x1])||_0x42f322[_0x168a17(0x536)](_0x5c7f0f[0x1]);_0x42f322['size']>0x0?(console[_0x168a17(0x30b)](_0x168a17(0x3bc),Array[_0x168a17(0x370)](_0x42f322)),_0x201833['variablesNotFound']=Array[_0x168a17(0x370)](_0x42f322)):_0x201833[_0x168a17(0x7b5)]=[],this['setUpdate']({'$set':_0x201833});}}_0x514e44();});var Me=T?.[a0_0x13c462(0x488)](Ms[a0_0x13c462(0x42b)],ba,'allFlows'),mo=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x4d089d=>{const _0x47207c=a0_0x13c462;let _0x101be8='z_'+_0x4d089d+_0x47207c(0x265);return T?.[_0x47207c(0x488)](_0x47207c(0x170),fo,_0x101be8);},wo=new P[(a0_0x13c462(0x545))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x13c462(0x5d7)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x341c48=>{const _0x480f6a=a0_0x13c462;let _0x6eb273='z_'+_0x341c48+_0x480f6a(0x3a2);return T?.['model'](_0x480f6a(0x201),yo,_0x6eb273);},vs=class{},bo=new P[(a0_0x13c462(0x545))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x13c462(0x545))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x13c462(0x545))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.['model'](vs[a0_0x13c462(0x42b)],Eo,'AutomateSystem'),Ca=require('mongoose'),No=new Ca[(a0_0x13c462(0x545))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x5395ee=>{const _0x23e9db=a0_0x13c462;let _0x1797a8='z_'+_0x5395ee+_0x23e9db(0x659);return T?.[_0x23e9db(0x488)](_0x23e9db(0x2c4),No,_0x1797a8);},O=class{constructor(_0x5c5a6e){const _0xd799b6=a0_0x13c462;this[_0xd799b6(0x3cd)]=_0x5c5a6e[_0xd799b6(0x6a5)](_0xd799b6(0x169));}};function A(_0x5d5aea){const _0x3ea470=a0_0x13c462;let _0x4b9448={};for(let [_0x320fc3,_0x38e027]of Object[_0x3ea470(0x1ce)](_0x5d5aea))if(typeof _0x38e027==_0x3ea470(0x50b)&&!Array[_0x3ea470(0x41b)](_0x38e027)){for(let [_0x3f43ef,_0x1b1ca0]of Object[_0x3ea470(0x1ce)](_0x38e027))_0x4b9448[_0x320fc3+'.'+_0x3f43ef]=_0x1b1ca0;}else _0x4b9448[_0x320fc3]=_0x38e027;return _0x4b9448;}var He=class{constructor(_0x331b66,_0x192838,_0x2c589c,_0x2d1dd9,_0x31b95a,_0x525c04,_0x4c9d90,_0x5394ff,_0x336f58,_0x4b5856,_0x3fdd28,_0x325f97,_0x2a948c,_0x432f53){const _0x3b1b56=a0_0x13c462;this[_0x3b1b56(0x7d2)]=_0x331b66,this[_0x3b1b56(0x696)]=_0x192838,this[_0x3b1b56(0x70f)]=_0x2c589c,this[_0x3b1b56(0x22d)]=_0x2d1dd9,this[_0x3b1b56(0x416)]=_0x31b95a,this['webhook']=_0x525c04,this[_0x3b1b56(0x775)]=_0x4c9d90,this['instance']=_0x5394ff,this[_0x3b1b56(0x5e0)]=_0x336f58,this[_0x3b1b56(0x436)]=_0x4b5856,this[_0x3b1b56(0x467)]=_0x3fdd28,this[_0x3b1b56(0x45d)]=_0x325f97,this['automateSystem']=_0x2a948c,this['dbClient']=_0x432f53;}get[a0_0x13c462(0x428)](){const _0x5060bb=a0_0x13c462;return this[_0x5060bb(0x4d1)];}},Ke=class{},Qe=class extends O{[a0_0x13c462(0x8ae)](_0x438054){return ca(_0x438054);}async[a0_0x13c462(0x7d5)](_0x498a0f,_0x3746a7){const _0x443ada=a0_0x13c462;if(_0x498a0f['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x443ada(0x8ae)](_0x3746a7)[_0x443ada(0x63b)]([..._0x498a0f]))[_0x443ada(0x1d3)]};}catch(_0x455eeb){return _0x455eeb;}}async[a0_0x13c462(0x88b)](_0x1e933a,_0x5eb538){const _0x20712a=a0_0x13c462;try{let _0x4530ed=this[_0x20712a(0x8ae)](_0x5eb538),_0x30d397=A(_0x1e933a['where']);return await _0x4530ed[_0x20712a(0x88b)](_0x30d397)[_0x20712a(0x772)]({'messageTimestamp':-0x1})[_0x20712a(0x2bd)](_0x1e933a?.[_0x20712a(0x2bd)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x5578ee,_0x248f25){const _0x3b683e=a0_0x13c462;try{let _0x303348=this[_0x3b683e(0x8ae)](_0x248f25),_0x491e97=A(_0x5578ee[_0x3b683e(0x577)]);await _0x303348[_0x3b683e(0x1bf)](_0x491e97);}catch(_0x1dbebd){console[_0x3b683e(0x873)](_0x1dbebd);}}async[a0_0x13c462(0x823)](_0x29b1e4,_0x1068be,_0xd9bbcf){const _0x4c7ba1=a0_0x13c462;try{let _0x565c90=this[_0x4c7ba1(0x8ae)](_0xd9bbcf),_0x138537=A(_0x29b1e4['where']);return await _0x565c90['findOneAndUpdate'](_0x138537,{'$set':_0x1068be},{'new':!0x0});}catch(_0x437f7d){throw console['error'](_0x437f7d),_0x437f7d;}}async['insertMany'](_0x4c5ca1,_0xcdf3c1){const _0x223bb3=a0_0x13c462;if(_0x4c5ca1[_0x223bb3(0x1d3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x223bb3(0x8ae)](_0xcdf3c1)['insertMany']([..._0x4c5ca1]))[_0x223bb3(0x1d3)]};}catch(_0x46f4f5){return console['log']('ERROR:\x20',_0x46f4f5),_0x46f4f5;}}async[a0_0x13c462(0x6c1)](_0x58786f){const _0x5808f2=a0_0x13c462;try{return await this[_0x5808f2(0x8ae)](_0x58786f)[_0x5808f2(0x7a4)]['drop'](),{'success':!0x0};}catch(_0x58a208){return console['error'](_0x58a208),{'success':!0x1,'error':_0x58a208};}}},Ds=I(require(a0_0x13c462(0x2ee))),w=I(require(a0_0x13c462(0x17f))),Fe=require('fs'),j=I(require('path')),K=I(require(a0_0x13c462(0x523))),Ti=require(a0_0x13c462(0x587)),Ii=I(require(a0_0x13c462(0x735))),_i=I(require(a0_0x13c462(0x2d7))),Ea=[a0_0x13c462(0x57b),'documentMessage','audioMessage',a0_0x13c462(0x6c9),a0_0x13c462(0x1cd)],Na=[a0_0x13c462(0x3d4),a0_0x13c462(0x6da),a0_0x13c462(0x886),a0_0x13c462(0x35c)],ks=require('os'),Ft=I(require(a0_0x13c462(0x27a))),Ue=require(a0_0x13c462(0x6ea)),Oi=require(a0_0x13c462(0x4c3)),pe=I(require('mongoose')),J=require(a0_0x13c462(0x131)),ce=class{constructor(_0x1deb03,_0x1ead8e,_0x536ca3){const _0x53a040=a0_0x13c462;this[_0x53a040(0x6f6)]=_0x1deb03,this[_0x53a040(0x534)]=_0x1ead8e,this['name']=_0x536ca3;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x13c462(0x197))),$a=require('fs'),Ra=require(a0_0x13c462(0x6e1));async function _e(_0x4727f1){const _0x3dc6ac=a0_0x13c462;let _0x1af4d6=G['waInstances'][_0x4727f1];if(L[_0x3dc6ac(0x7cc)]){let _0x1ca628=T[_0x3dc6ac(0x4c2)]()['db'](L['CONNECTION'][_0x3dc6ac(0x880)]+_0x3dc6ac(0x683))[_0x3dc6ac(0x7a4)](_0x4727f1);return _0x1af4d6||(await _0x1ca628[_0x3dc6ac(0x88b)]({})[_0x3dc6ac(0x238)]())[_0x3dc6ac(0x1d3)]>0x0;}return _0x1af4d6||(0x0,$a[_0x3dc6ac(0x7c1)])((0x0,Ra['join'])(be,_0x4727f1));}async function Aa(_0x564728,_0x49f778,_0x7fb501){const _0x8f0e0c=a0_0x13c462;if(_0x564728['originalUrl']['includes'](_0x8f0e0c(0x4a5))||_0x564728[_0x8f0e0c(0x2cc)]['includes'](_0x8f0e0c(0x1d7))||_0x564728['originalUrl'][_0x8f0e0c(0x50c)](_0x8f0e0c(0x639))||_0x564728[_0x8f0e0c(0x2cc)][_0x8f0e0c(0x50c)](_0x8f0e0c(0x4b2))||_0x564728['originalUrl'][_0x8f0e0c(0x50c)](_0x8f0e0c(0x36a))||_0x564728[_0x8f0e0c(0x2cc)]['includes']('/instance/connectionState')||_0x564728[_0x8f0e0c(0x2cc)][_0x8f0e0c(0x50c)](_0x8f0e0c(0x60e)))return _0x7fb501();let _0x4bcad0=_0x564728[_0x8f0e0c(0x1c9)];if(!_0x4bcad0?.[_0x8f0e0c(0x586)])throw new m(_0x8f0e0c(0x2c9));if(!await _e(_0x4bcad0[_0x8f0e0c(0x586)]))throw new U('The\x20'+_0x4bcad0[_0x8f0e0c(0x586)]+_0x8f0e0c(0x699));_0x7fb501();}async function Ta(_0x517471,_0x266fff,_0x5db977){const _0x454077=a0_0x13c462;if(_0x517471[_0x454077(0x2cc)][_0x454077(0x50c)](_0x454077(0x4a5))){let _0x1bbe20=_0x517471[_0x454077(0x5de)];if(await _e(_0x1bbe20['instanceName']))throw new X(_0x454077(0x647)+_0x1bbe20['instanceName']+_0x454077(0x870));G[_0x454077(0x7f5)][_0x1bbe20[_0x454077(0x586)]]&&delete G[_0x454077(0x7f5)][_0x1bbe20[_0x454077(0x586)]];}_0x5db977();}var Ia=require(a0_0x13c462(0x131)),_a=I(require('jsonwebtoken')),ot='uazapi',Ro=new $(a0_0x13c462(0x49f));async function Ao(_0x457499,_0xaff8a8,_0x1d2c56){const _0x4a2ae5=a0_0x13c462;let _0x50bc97=_0x457499[_0x4a2ae5(0x6a5)](_0x4a2ae5(0x459));if(_0x50bc97&&S[_0x4a2ae5(0x6a5)](_0x4a2ae5(0x369))[_0x4a2ae5(0x187)][_0x4a2ae5(0x74e)]!==_0x50bc97)throw new se();if(S[_0x4a2ae5(0x6a5)](_0x4a2ae5(0x369))[_0x4a2ae5(0x187)][_0x4a2ae5(0x74e)]===_0x50bc97)return _0x1d2c56();if((_0x457499[_0x4a2ae5(0x2cc)]['includes'](_0x4a2ae5(0x4a5))||_0x457499[_0x4a2ae5(0x2cc)]['includes'](_0x4a2ae5(0x1d7)))&&!_0x50bc97)throw new X(_0x4a2ae5(0x3c6),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x112932=S['get'](_0x4a2ae5(0x369))[_0x4a2ae5(0x6bd)];try{let [_0x4630e4,_0x4b15d6]=_0x457499['get']('authorization')[_0x4a2ae5(0x4ca)]('\x20');if(_0x4630e4[_0x4a2ae5(0x7dc)]()!=='bearer')throw new se();if(!(0x0,Ia[_0x4a2ae5(0x2a6)])(_0x4b15d6))throw new se();let _0x1b7458=_0x457499[_0x4a2ae5(0x1c9)],_0x4ad155=_a['default'][_0x4a2ae5(0x2c0)](_0x4b15d6,_0x112932['SECRET'],{'ignoreExpiration':_0x112932['EXPIRIN_IN']===0x0});if(_0x1b7458['instanceName']!==_0x4ad155[_0x4a2ae5(0x586)]||ot!==_0x4ad155[_0x4a2ae5(0x7e2)])throw new se();return _0x1d2c56();}catch(_0x24f9a9){throw Ro[_0x4a2ae5(0x873)](_0x24f9a9),new se();}}async function To(_0x312a69,_0x516202,_0x56a2cc){const _0x49dcb4=a0_0x13c462;let _0xc3e828=S[_0x49dcb4(0x6a5)]('AUTHENTICATION')['API_KEY'],_0x4040da=_0x312a69[_0x49dcb4(0x6a5)](_0x49dcb4(0x459));if(_0xc3e828[_0x49dcb4(0x74e)]===_0x4040da)return _0x56a2cc();if(_0x312a69[_0x49dcb4(0x2cc)]['includes']('/instance/create')){let _0x441836=xa,_0x7e1006=_0x312a69[_0x49dcb4(0x5de)][_0x49dcb4(0x586)];if(_0x441836&&_0x7e1006[_0x49dcb4(0x7dc)]()[_0x49dcb4(0x51d)](_0x441836[_0x49dcb4(0x7dc)]()))return _0x56a2cc();if(!_0x4040da)throw new X('Missing\x20global\x20api\x20key',_0x49dcb4(0x4c7));}if(_0x312a69[_0x49dcb4(0x2cc)][_0x49dcb4(0x50c)](_0x49dcb4(0x1d7))&&!_0x4040da)throw new X('Missing\x20global\x20api\x20key',_0x49dcb4(0x4c7));if(_0x312a69['originalUrl'][_0x49dcb4(0x50c)](_0x49dcb4(0x639))&&!_0x4040da)throw new X(_0x49dcb4(0x3c6),_0x49dcb4(0x4c7));if(_0x312a69[_0x49dcb4(0x2cc)][_0x49dcb4(0x50c)]('/config')&&!_0x4040da)throw new X(_0x49dcb4(0x3c6),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x1d0127=_0x312a69[_0x49dcb4(0x1c9)],_0x2d5449=await me[_0x49dcb4(0x775)][_0x49dcb4(0x88b)](_0x1d0127[_0x49dcb4(0x586)]);if(_0x2d5449&&_0x2d5449[_0x49dcb4(0x459)]===_0x4040da)return _0x56a2cc();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0x13c462(0x197)),C=require(a0_0x13c462(0x587)),v=(..._0xb887fa)=>{const _0x2aaf31=a0_0x13c462;let _0x12e147={};return _0xb887fa['forEach'](_0xe2ad83=>_0x12e147[_0xe2ad83]={'minLength':0x1,'description':_0x2aaf31(0x79a)+_0xe2ad83+_0x2aaf31(0x4b1)}),{'if':{'propertyNames':{'enum':[..._0xb887fa]}},'then':{'properties':_0x12e147}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'instanceName':{'type':a0_0x13c462(0x7d4)}},...v(a0_0x13c462(0x586))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'oldToken':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x635)],...v('oldToken')},Ic={'properties':{'key':{'type':a0_0x13c462(0x50b),'properties':{'id':{'type':a0_0x13c462(0x7d4)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x13c462(0x3aa),a0_0x13c462(0x2c3)],...v('id',a0_0x13c462(0x3aa))},'message':{'type':a0_0x13c462(0x50b)}}},ae={'properties':{'delay':{'type':'integer','description':a0_0x13c462(0x60c)},'presence':{'type':a0_0x13c462(0x7d4),'enum':['unavailable',a0_0x13c462(0x3a5),a0_0x13c462(0x5ea),a0_0x13c462(0x697),'paused']}}},Z={'type':'string','description':a0_0x13c462(0x542)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x13c462(0x50b),'properties':{'text':{'type':a0_0x13c462(0x7d4)}},'required':['text'],...v(a0_0x13c462(0x1e0))}},'required':['textMessage',a0_0x13c462(0x89e)]},Da={'type':a0_0x13c462(0x7d4),'pattern':a0_0x13c462(0x677),'description':'Invalid\x20format'},_c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x13c462(0x50b),'properties':{'text':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x1e0)],...v(a0_0x13c462(0x1e0))}},'required':[a0_0x13c462(0x2db),a0_0x13c462(0x89e)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x13c462(0x50b),'properties':{'mediatype':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x25b),a0_0x13c462(0x7d3),a0_0x13c462(0x5da),'audio']},'media':{'type':a0_0x13c462(0x7d4)},'fileName':{'type':a0_0x13c462(0x7d4)},'caption':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x3d8),'media'],...v(a0_0x13c462(0x332),a0_0x13c462(0x541),a0_0x13c462(0x41a))}},'required':[a0_0x13c462(0x4fd),'number']},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x13c462(0x50b),'properties':{'image':{'type':'string'}},'required':['image'],...v('image')}},'required':[a0_0x13c462(0x1cd),a0_0x13c462(0x89e)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x13c462(0x1e0),'image','audio',a0_0x13c462(0x5da)]},'content':{'type':a0_0x13c462(0x7d4)},'caption':{'type':a0_0x13c462(0x7d4)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x13c462(0x85b),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x13c462(0x1c0)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x13c462(0x2b5),a0_0x13c462(0x50e)],...v(a0_0x13c462(0x2b5),'content')}},'required':[a0_0x13c462(0x317)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x13c462(0x50b),'properties':{'mediatype':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x25b),a0_0x13c462(0x7d3),a0_0x13c462(0x5da),'audio']},'media':{'type':a0_0x13c462(0x7d4)},'fileName':{'type':'string'},'caption':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x3d8),a0_0x13c462(0x41a)],...v(a0_0x13c462(0x332),a0_0x13c462(0x541),a0_0x13c462(0x41a))}},'required':[a0_0x13c462(0x4fd),a0_0x13c462(0x89e)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x604)],...v('audio')}},'required':[a0_0x13c462(0x61c),a0_0x13c462(0x89e)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x13c462(0x50b),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x13c462(0x89e)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x13c462(0x42b),a0_0x13c462(0x560),a0_0x13c462(0x782)],...v(a0_0x13c462(0x42b),a0_0x13c462(0x560),a0_0x13c462(0x782))}},'required':['number',a0_0x13c462(0x193)]},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'menuMessage':{'type':a0_0x13c462(0x50b),'properties':{'text':{'type':a0_0x13c462(0x7d4)},'choices':{'type':a0_0x13c462(0x701),'uniqueItems':!0x0}},'required':['text','choices'],...v(a0_0x13c462(0x1e0),a0_0x13c462(0x655))}},'required':[a0_0x13c462(0x89e),'menuMessage']},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x13c462(0x50b),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x13c462(0x89e)},'name':{'type':a0_0x13c462(0x7d4)},'address':{'type':a0_0x13c462(0x7d4)}},'required':['latitude',a0_0x13c462(0x712)],...v(a0_0x13c462(0x42b),'addresss')}},'required':[a0_0x13c462(0x89e),'locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x13c462(0x50b),'properties':{'title':{'type':a0_0x13c462(0x7d4)},'description':{'type':a0_0x13c462(0x7d4)},'footerText':{'type':a0_0x13c462(0x7d4)},'buttonText':{'type':a0_0x13c462(0x7d4)},'sections':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13c462(0x50b),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13c462(0x50b),'properties':{'title':{'type':a0_0x13c462(0x7d4)},'description':{'type':a0_0x13c462(0x7d4)},'rowId':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x7cb),'rowId'],...v('title',a0_0x13c462(0x2b3))}}},'required':[a0_0x13c462(0x7cb),'rows'],...v(a0_0x13c462(0x7cb))}}},'required':['title',a0_0x13c462(0x65b),a0_0x13c462(0x6d3),a0_0x13c462(0x473)],...v(a0_0x13c462(0x7cb),a0_0x13c462(0x65b),a0_0x13c462(0x6d3),a0_0x13c462(0x1ad))}},'required':[a0_0x13c462(0x89e),a0_0x13c462(0x2f2)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x13c462(0x701),'items':{'type':a0_0x13c462(0x50b),'properties':{'fullName':{'type':a0_0x13c462(0x7d4)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x13c462(0x7c2),a0_0x13c462(0x442)],...v(a0_0x13c462(0x7c2))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x13c462(0x7b3)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'reactionMessage':{'type':a0_0x13c462(0x50b),'properties':{'key':{'type':a0_0x13c462(0x50b),'properties':{'id':{'type':a0_0x13c462(0x7d4)},'remoteJid':{'type':a0_0x13c462(0x7d4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x13c462(0x3aa),'fromMe'],...v('id',a0_0x13c462(0x3aa))},'reaction':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x733),a0_0x13c462(0x2f5)],...v('reaction')}},'required':['reactionMessage']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'numbers':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x13c462(0x6a8),'description':a0_0x13c462(0x164)}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x13c462(0x7d4)},'fromMe':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x13c462(0x2c3),a0_0x13c462(0x3aa)],...v('id','remoteJid')}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'privacySettings':{'type':a0_0x13c462(0x50b),'properties':{'readreceipts':{'type':a0_0x13c462(0x7d4),'enum':['all',a0_0x13c462(0x8aa)]},'profile':{'type':a0_0x13c462(0x7d4),'enum':['all','contacts',a0_0x13c462(0x756),a0_0x13c462(0x8aa)]},'status':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x77a),a0_0x13c462(0x576),a0_0x13c462(0x756),a0_0x13c462(0x8aa)]},'online':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x77a),'match_last_seen']},'last':{'type':a0_0x13c462(0x7d4),'enum':['all',a0_0x13c462(0x576),a0_0x13c462(0x756),'none']},'groupadd':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x77a),a0_0x13c462(0x576),'contact_blacklist','none']}},'required':[a0_0x13c462(0x199),a0_0x13c462(0x302),'status',a0_0x13c462(0x484),a0_0x13c462(0x2f8),'groupadd'],...v(a0_0x13c462(0x199),'profile',a0_0x13c462(0x22e),a0_0x13c462(0x484),a0_0x13c462(0x2f8),a0_0x13c462(0x744))}},'required':[a0_0x13c462(0x529)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'lastMessage':{'type':a0_0x13c462(0x50b),'properties':{'key':{'type':a0_0x13c462(0x50b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x13c462(0x7d4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x13c462(0x2c3),a0_0x13c462(0x3aa)],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x13c462(0x85b),'minLength':0x1}},'required':[a0_0x13c462(0x733)],...v(a0_0x13c462(0x32d))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x13c462(0x36d),a0_0x13c462(0x662)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x13c462(0x7d4)}},'required':['id',a0_0x13c462(0x2c3),a0_0x13c462(0x3aa)],...v('id',a0_0x13c462(0x3aa),'participant')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'where':{'type':a0_0x13c462(0x50b),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x13c462(0x7d4),'minLength':0x1},'id':{'type':a0_0x13c462(0x7d4),'minLength':0x1}},...v(a0_0x13c462(0x882),'id',a0_0x13c462(0x39b))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'name':{'type':a0_0x13c462(0x7d4)}},...v(a0_0x13c462(0x42b))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'status':{'type':'string'}},...v(a0_0x13c462(0x22e))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'number':{'type':a0_0x13c462(0x7d4)},'picture':{'type':a0_0x13c462(0x7d4)}}},ei={'type':a0_0x13c462(0x50b),'properties':{'wuid':{'type':a0_0x13c462(0x7d4)},'name':{'type':a0_0x13c462(0x7d4)},'picture':{'type':a0_0x13c462(0x7d4)},'status':{'type':a0_0x13c462(0x7d4)},'isBusiness':{'type':a0_0x13c462(0x7dd)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'where':{'type':a0_0x13c462(0x50b),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x13c462(0x50b),'if':{'propertyNames':{'enum':[a0_0x13c462(0x2c3),a0_0x13c462(0x3aa),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x13c462(0x7d4),'minLength':0x1,'description':a0_0x13c462(0x80f)},'id':{'type':'string','minLength':0x1,'description':a0_0x13c462(0x80f)},'fromMe':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x13c462(0x50b)}},...v(a0_0x13c462(0x882))},'limit':{'type':a0_0x13c462(0x85b)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x13c462(0x7d4)},'remoteJid':{'type':a0_0x13c462(0x7d4)},'id':{'type':'string'},'fromMe':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x13c462(0x7d4)},'status':{'type':a0_0x13c462(0x7d4),'enum':[a0_0x13c462(0x4f4),'PENDING','SERVER_ACK','DELIVERY_ACK','READ',a0_0x13c462(0x3ee)]}},...v(a0_0x13c462(0x882),a0_0x13c462(0x3aa),'id',a0_0x13c462(0x22e))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x13c462(0x7d4),'enum':['unavailable',a0_0x13c462(0x3a5),a0_0x13c462(0x5ea),'recording',a0_0x13c462(0x41e)]}},'required':[a0_0x13c462(0x37a),a0_0x13c462(0x89e)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x13c462(0x7d4)},'description':{'type':'string'},'profilePicture':{'type':a0_0x13c462(0x7d4)},'participants':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13c462(0x7d4),'minLength':0xa,'pattern':a0_0x13c462(0x771),'description':a0_0x13c462(0x7ec)}}},'required':[a0_0x13c462(0x7ef),a0_0x13c462(0x4b4)],...v(a0_0x13c462(0x7ef),a0_0x13c462(0x65b),a0_0x13c462(0x758))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':a0_0x13c462(0x7d4),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x13c462(0x261)],...v('groupJid')},ii={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':a0_0x13c462(0x7d4)},'action':{'type':'string','enum':[a0_0x13c462(0x536),a0_0x13c462(0x508),'promote',a0_0x13c462(0x3e7),'reject',a0_0x13c462(0x13f)]},'participants':{'type':a0_0x13c462(0x701),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13c462(0x7d4),'minLength':0xa,'pattern':a0_0x13c462(0x771),'description':a0_0x13c462(0x7ec)}}},'required':[a0_0x13c462(0x261),a0_0x13c462(0x6c4),a0_0x13c462(0x4b4)],...v(a0_0x13c462(0x261),a0_0x13c462(0x6c4))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x13c462(0x261),a0_0x13c462(0x4a3)],...v(a0_0x13c462(0x261),a0_0x13c462(0x4a3))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x13c462(0x7d4)}},'required':[a0_0x13c462(0x261),'image'],...v(a0_0x13c462(0x261),'image')},ni={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':a0_0x13c462(0x7d4)},'description':{'type':a0_0x13c462(0x7d4)}},'required':['groupJid',a0_0x13c462(0x65b)],...v(a0_0x13c462(0x261),'description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':a0_0x13c462(0x7d4)},'name':{'type':'string'}},'required':[a0_0x13c462(0x261),a0_0x13c462(0x42b)],...v(a0_0x13c462(0x261),'name')},li={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x13c462(0x7d4),'enum':['announcement','not_announcement',a0_0x13c462(0x88f),a0_0x13c462(0x39d)]}},'required':['groupJid',a0_0x13c462(0x5e6)],...v(a0_0x13c462(0x261),a0_0x13c462(0x5e6))},ui={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x13c462(0x7d4)},'restrict':{'type':a0_0x13c462(0x7dd)},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x13c462(0x7dd)},'expiration':{'type':a0_0x13c462(0x85b),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x13c462(0x7d4)},'description':{'type':a0_0x13c462(0x7d4)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x13c462(0x3e8)],...v(a0_0x13c462(0x3e8))},di={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x13c462(0x74d),a0_0x13c462(0x245)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x13c462(0x50b),'properties':{'local_map':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x13c462(0x7dd),'enum':[!0x0,!0x1]}},'required':[a0_0x13c462(0x5e2),a0_0x13c462(0x69d),'QRCODE_UPDATED','MESSAGES_SET',a0_0x13c462(0x29b),a0_0x13c462(0x3ca),a0_0x13c462(0x86b),a0_0x13c462(0x34c),'CONTACTS_UPSERT',a0_0x13c462(0x619),a0_0x13c462(0x88a),a0_0x13c462(0x7b1),a0_0x13c462(0x69e),'CHATS_UPDATE',a0_0x13c462(0x816),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x13c462(0x552),'GROUP_PARTICIPANTS_UPDATE'],...v('local_map',a0_0x13c462(0x69d),a0_0x13c462(0x4b7),a0_0x13c462(0x1e8),a0_0x13c462(0x29b),a0_0x13c462(0x3ca),a0_0x13c462(0x86b),a0_0x13c462(0x34c),a0_0x13c462(0x61e),a0_0x13c462(0x619),a0_0x13c462(0x88a),a0_0x13c462(0x7b1),a0_0x13c462(0x69e),a0_0x13c462(0x63a),a0_0x13c462(0x816),a0_0x13c462(0x6a9),'GROUPS_UPSERT',a0_0x13c462(0x552),'GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x13c462(0x6cf)](_0x2f887d){return aa(_0x2f887d);}async[a0_0x13c462(0x7d5)](_0x4d2180){const _0x3b5449=a0_0x13c462;if(_0x4d2180[_0x3b5449(0x1d3)]!==0x0)try{return{'insertCount':(await this[_0x3b5449(0x6cf)](_0x4d2180[0x0][_0x3b5449(0x7ae)])[_0x3b5449(0x63b)]([..._0x4d2180]))[_0x3b5449(0x1d3)]};}catch(_0x50d738){return _0x50d738;}}async[a0_0x13c462(0x634)](_0x4fc816,_0x701cf2){const _0x4ec896=a0_0x13c462;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x701cf2)['deleteMany']({..._0x4fc816['where']}))[_0x4ec896(0x7f8)]};}catch(_0x25de13){return{'error':_0x25de13?.[_0x4ec896(0x2ba)]()};}}async[a0_0x13c462(0x823)](_0x31ac2d,_0x22057c){const _0x1b9120=a0_0x13c462;try{if(_0x31ac2d['length']===0x0)return;let _0x4c8d19=this['getContactModelForOwner'](_0x22057c),_0x129ac0=_0x31ac2d[_0x1b9120(0x4c1)](_0x16a866=>({'updateOne':{'filter':{'_id':_0x16a866[_0x1b9120(0x882)],'owner':_0x22057c},'update':{..._0x16a866}}})),{modifiedCount:_0x59b4bb}=await _0x4c8d19[_0x1b9120(0x68d)](_0x129ac0);return{'insertCount':_0x59b4bb};}catch{return;}}async[a0_0x13c462(0x88b)](_0x2b2dcc,_0x238eeb){const _0xd76737=a0_0x13c462;try{let _0x3619ed=this[_0xd76737(0x6cf)](_0x238eeb),_0x3979ab=A(_0x2b2dcc[_0xd76737(0x577)]);return await _0x3619ed[_0xd76737(0x88b)](_0x3979ab)[_0xd76737(0x2bd)](_0x2b2dcc?.[_0xd76737(0x2bd)]??0x0)['lean']();}catch{return[];}}async[a0_0x13c462(0x4cd)](_0x4af8cc,_0x3c7867){const _0x124b4e=a0_0x13c462;try{let _0x434f0e=this[_0x124b4e(0x6cf)](_0x3c7867),_0x5c1b8a=A(_0x4af8cc[_0x124b4e(0x577)]);return await _0x434f0e['findOne'](_0x5c1b8a)['lean']();}catch{return null;}}async[a0_0x13c462(0x6c1)](_0x10ee8f){const _0x33ff24=a0_0x13c462;try{return await this[_0x33ff24(0x6cf)](_0x10ee8f)['collection']['drop'](),{'success':!0x0};}catch(_0x1ca5df){return console[_0x33ff24(0x873)](_0x1ca5df),{'success':!0x1,'error':_0x1ca5df};}}},ct=require(a0_0x13c462(0x46a)),Vc=require(a0_0x13c462(0x70d)),$s=new $(a0_0x13c462(0x162)),V=class{[a0_0x13c462(0x25c)](_0x50365f,_0x5855d7=!0x0){let _0x46ce54='/'+_0x50365f;return _0x5855d7&&(_0x46ce54+='/:instanceName'),_0x46ce54;}async['dataValidate'](_0xaecfa2){const _0x4f4f5b=a0_0x13c462;let {request:_0x5de982,schema:_0x2c1946,ClassRef:_0x1b1c6f,execute:_0x188cbe}=_0xaecfa2,_0x101725=new _0x1b1c6f(),_0x288c3e=_0x5de982['body'],_0x4ae587=_0x5de982[_0x4f4f5b(0x1c9)];_0x5de982?.[_0x4f4f5b(0x186)]&&Object[_0x4f4f5b(0x750)](_0x5de982[_0x4f4f5b(0x186)])[_0x4f4f5b(0x1d3)]>0x0&&Object[_0x4f4f5b(0x5c4)](_0x4ae587,_0x5de982[_0x4f4f5b(0x186)]),_0x5de982[_0x4f4f5b(0x2cc)][_0x4f4f5b(0x50c)](_0x4f4f5b(0x4a5))&&Object[_0x4f4f5b(0x5c4)](_0x4ae587,_0x288c3e),Object[_0x4f4f5b(0x5c4)](_0x101725,_0x288c3e);let _0x431caa=_0x2c1946?(0x0,ct[_0x4f4f5b(0x23b)])(_0x101725,_0x2c1946):{'valid':!0x0,'errors':[]};if(!_0x431caa[_0x4f4f5b(0x1b5)]){let _0x52d70c=_0x431caa['errors'][_0x4f4f5b(0x4c1)](({property:_0x404d99,stack:_0x4da391,schema:_0x57be85})=>{const _0x882dde=_0x4f4f5b;let _0x4b9f2c;return _0x57be85[_0x882dde(0x65b)]?_0x4b9f2c=_0x57be85[_0x882dde(0x65b)]:_0x4b9f2c=_0x4da391['replace']('instance.',''),{'property':_0x404d99[_0x882dde(0x445)]('instance.',''),'message':_0x4b9f2c};});throw $s[_0x4f4f5b(0x873)]([..._0x52d70c]),new m(..._0x52d70c);}return await _0x188cbe(_0x4ae587,_0x101725);}async[a0_0x13c462(0x819)](_0x50257e){const _0x9ddcaa=a0_0x13c462;let {request:_0x5c06fd,ClassRef:_0x4f974b,schema:_0x2cd88b,execute:_0x2289d7}=_0x50257e,_0x443979=_0x5c06fd[_0x9ddcaa(0x186)];if(!_0x443979?.[_0x9ddcaa(0x261)])throw new m(_0x9ddcaa(0x87f),_0x9ddcaa(0x135));let _0x12fe77=_0x5c06fd[_0x9ddcaa(0x1c9)],_0x18178f=_0x5c06fd[_0x9ddcaa(0x5de)],_0x377b06=new _0x4f974b();Object['assign'](_0x18178f,_0x443979),Object[_0x9ddcaa(0x5c4)](_0x377b06,_0x18178f);let _0x26666f=(0x0,ct[_0x9ddcaa(0x23b)])(_0x377b06,_0x2cd88b);if(!_0x26666f[_0x9ddcaa(0x1b5)]){let _0x1fe0b2=_0x26666f['errors'][_0x9ddcaa(0x4c1)](({property:_0x1b0505,stack:_0x47c36d,schema:_0x3d7ae0})=>{const _0x16c5fe=_0x9ddcaa;let _0x5d4dd7;return _0x3d7ae0[_0x16c5fe(0x65b)]?_0x5d4dd7=_0x3d7ae0['description']:_0x5d4dd7=_0x47c36d[_0x16c5fe(0x445)](_0x16c5fe(0x1f5),''),{'property':_0x1b0505[_0x16c5fe(0x445)](_0x16c5fe(0x1f5),''),'message':_0x5d4dd7};});throw $s[_0x9ddcaa(0x873)]([..._0x1fe0b2]),new m(..._0x1fe0b2);}return await _0x2289d7(_0x12fe77,_0x377b06);}async[a0_0x13c462(0x888)](_0x4558b9){const _0x3735bb=a0_0x13c462;let {request:_0x4c1e24,ClassRef:_0x39468e,schema:_0x10157d,execute:_0x2f045f}=_0x4558b9,_0x4ac48c=_0x4c1e24['body'];if(!_0x4ac48c?.[_0x3735bb(0x3e8)])throw new m(_0x3735bb(0x25a),_0x3735bb(0x372));let _0xcc6001=_0x4c1e24[_0x3735bb(0x1c9)],_0x49ea9c=_0x4c1e24[_0x3735bb(0x5de)],_0x32dc7e=new _0x39468e();Object[_0x3735bb(0x5c4)](_0x49ea9c,_0x4ac48c),Object[_0x3735bb(0x5c4)](_0x32dc7e,_0x49ea9c);let _0x421417=(0x0,ct[_0x3735bb(0x23b)])(_0x32dc7e,_0x10157d);if(!_0x421417[_0x3735bb(0x1b5)]){let _0x159996=_0x421417['errors'][_0x3735bb(0x4c1)](({property:_0x398b0c,stack:_0x251117,schema:_0x228e59})=>{const _0x5549bc=_0x3735bb;let _0x205c60;return _0x228e59['description']?_0x205c60=_0x228e59[_0x5549bc(0x65b)]:_0x205c60=_0x251117[_0x5549bc(0x445)](_0x5549bc(0x1f5),''),{'property':_0x398b0c[_0x5549bc(0x445)](_0x5549bc(0x1f5),''),'message':_0x205c60};});throw $s[_0x3735bb(0x873)]([..._0x159996]),new m(..._0x159996);}return await _0x2f045f(_0xcc6001,_0x32dc7e);}},M=class{},il=new $(a0_0x13c462(0x4dd)),lt=class extends V{constructor(..._0x4a8456){const _0x52eaef=a0_0x13c462;super(),this[_0x52eaef(0x3ac)]=(0x0,pi[_0x52eaef(0x555)])(),this[_0x52eaef(0x3ac)]['post'](this[_0x52eaef(0x25c)](_0x52eaef(0x149)),..._0x4a8456,async(_0x4be71a,_0x8674ee)=>{const _0x4b6448=_0x52eaef;let _0x585807=await this[_0x4b6448(0x67a)]({'request':_0x4be71a,'schema':si,'ClassRef':Ye,'execute':(_0x881c72,_0x9cb271)=>D['updatePresence'](_0x881c72,_0x9cb271)});return _0x8674ee[_0x4b6448(0x22e)](0xc9)[_0x4b6448(0x70a)](_0x585807);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x21b)),..._0x4a8456,async(_0x597f97,_0x25c870)=>{const _0x6806af=_0x52eaef;let _0x465940=await this[_0x6806af(0x67a)]({'request':_0x597f97,'schema':Wa,'ClassRef':Xe,'execute':(_0x23da88,_0x32e590)=>D[_0x6806af(0x1de)](_0x23da88,_0x32e590)});return _0x25c870['status'](0xc9)[_0x6806af(0x70a)](_0x465940);})['post'](this[_0x52eaef(0x25c)]('editChat'),..._0x4a8456,async(_0x37d2c4,_0x365bf9)=>{const _0x44b036=_0x52eaef;let _0x1582e7=await this[_0x44b036(0x67a)]({'request':_0x37d2c4,'schema':E,'ClassRef':M,'execute':(_0x3ef02e,_0xcf8417)=>D['editChat'](_0x3ef02e,_0xcf8417)});return _0x365bf9[_0x44b036(0x22e)](0xc9)[_0x44b036(0x70a)](_0x1582e7);})[_0x52eaef(0x809)](this[_0x52eaef(0x25c)](_0x52eaef(0x69a)),..._0x4a8456,async(_0x5c462b,_0x22b191)=>{const _0x2747e4=_0x52eaef;let _0x87c00e=await this[_0x2747e4(0x67a)]({'request':_0x5c462b,'schema':za,'ClassRef':tt,'execute':(_0x48a4ab,_0x54d10a)=>D['readMessage'](_0x48a4ab,_0x54d10a)});return _0x22b191['status'](0xc9)[_0x2747e4(0x70a)](_0x87c00e);})[_0x52eaef(0x809)](this['routerPath'](_0x52eaef(0x3f9)),..._0x4a8456,async(_0x338cf8,_0x414120)=>{const _0xf123f4=_0x52eaef;let _0x8b70d8=await this['dataValidate']({'request':_0x338cf8,'schema':Ka,'ClassRef':st,'execute':(_0x485785,_0x22f5c1)=>D[_0xf123f4(0x3f9)](_0x485785,_0x22f5c1)});return _0x414120[_0xf123f4(0x22e)](0xc9)[_0xf123f4(0x70a)](_0x8b70d8);})[_0x52eaef(0x634)](this[_0x52eaef(0x25c)]('deleteMessageForEveryone'),..._0x4a8456,async(_0x13625e,_0xf5e53f)=>{const _0x23b120=_0x52eaef;let _0x2da5f6=await this[_0x23b120(0x67a)]({'request':_0x13625e,'schema':Qa,'ClassRef':it,'execute':(_0x116975,_0x4b36a6)=>D[_0x23b120(0x3cf)](_0x116975,_0x4b36a6)});return _0xf5e53f['status'](0xc9)[_0x23b120(0x70a)](_0x2da5f6);})['post'](this['routerPath'](_0x52eaef(0x73c)),..._0x4a8456,async(_0x252b99,_0x5563ec)=>{const _0x17c2d6=_0x52eaef;let _0x222811=await this[_0x17c2d6(0x67a)]({'request':_0x252b99,'schema':Oe,'ClassRef':Ie,'execute':(_0x14d87f,_0x1ce4b7)=>D[_0x17c2d6(0x36c)](_0x14d87f,_0x1ce4b7)});return _0x5563ec[_0x17c2d6(0x22e)](0xc8)[_0x17c2d6(0x70a)](_0x222811);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x887)),..._0x4a8456,async(_0x5704dd,_0x5db21c)=>{const _0x56d922=_0x52eaef;let _0x4cb14c=await this[_0x56d922(0x67a)]({'request':_0x5704dd,'schema':ei,'ClassRef':Ie,'execute':(_0x3b3396,_0x58a3b5)=>D['fetchProfile'](_0x3b3396,_0x58a3b5)});return _0x5db21c[_0x56d922(0x22e)](0xc8)['json'](_0x4cb14c);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x130)),..._0x4a8456,async(_0x4c84a0,_0xb428a4)=>{const _0x1a7f29=_0x52eaef;let _0x195624=await this[_0x1a7f29(0x67a)]({'request':_0x4c84a0,'schema':Ya,'ClassRef':rt,'execute':(_0x59dc77,_0x4b66eb)=>D['fetchContacts'](_0x59dc77,_0x4b66eb)});return _0xb428a4[_0x1a7f29(0x22e)](0xc8)['json'](_0x195624);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x2df)),..._0x4a8456,async(_0x40882a,_0x41c6f2)=>{const _0x604ab6=_0x52eaef;let _0x56a70a=await this[_0x604ab6(0x67a)]({'request':_0x40882a,'schema':null,'ClassRef':Object,'execute':(_0x52939e,_0x2b7356)=>D[_0x604ab6(0x2df)](_0x52939e,_0x2b7356)});return _0x41c6f2[_0x604ab6(0x22e)](0xc9)['json'](_0x56a70a);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x40f)),..._0x4a8456,async(_0x3fa5e1,_0x18acf9)=>{const _0x28b803=_0x52eaef;let _0x2392ad=await this[_0x28b803(0x67a)]({'request':_0x3fa5e1,'schema':ti,'ClassRef':Ke,'execute':(_0x5f06de,_0x21d451)=>D[_0x28b803(0x1b7)](_0x5f06de,_0x21d451)});return _0x18acf9['status'](0xc8)[_0x28b803(0x70a)](_0x2392ad);})[_0x52eaef(0x6a5)](this[_0x52eaef(0x25c)](_0x52eaef(0x13e)),..._0x4a8456,async(_0x2c9518,_0x431a71)=>{const _0x4d1ed3=_0x52eaef;let _0x38694b=await this[_0x4d1ed3(0x67a)]({'request':_0x2c9518,'schema':null,'ClassRef':M,'execute':_0x54e2fc=>D[_0x4d1ed3(0x470)](_0x54e2fc)});return _0x431a71[_0x4d1ed3(0x22e)](0xc8)['json'](_0x38694b);})[_0x52eaef(0x6a5)](this[_0x52eaef(0x25c)]('findLabels'),..._0x4a8456,async(_0x42373b,_0x3238e7)=>{const _0x10ce05=_0x52eaef;let _0x2ebfa6=await this['dataValidate']({'request':_0x42373b,'schema':null,'ClassRef':M,'execute':_0x2e6a38=>D[_0x10ce05(0x813)](_0x2e6a38)});return _0x3238e7[_0x10ce05(0x22e)](0xc8)['json'](_0x2ebfa6);})[_0x52eaef(0x809)](this[_0x52eaef(0x25c)](_0x52eaef(0x318)),..._0x4a8456,async(_0x248e89,_0x1b9a9f)=>{const _0x2d978a=_0x52eaef;let _0x17eab5=await this[_0x2d978a(0x67a)]({'request':_0x248e89,'schema':null,'ClassRef':Array,'execute':(_0x5e553a,_0xeb5e77)=>D[_0x2d978a(0x318)](_0x5e553a,_0xeb5e77)});return _0x1b9a9f[_0x2d978a(0x22e)](0xc8)['json'](_0x17eab5);})[_0x52eaef(0x6a5)](this['routerPath'](_0x52eaef(0x2ac)),..._0x4a8456,async(_0x535674,_0x1218bc)=>{const _0x2c9856=_0x52eaef;let _0x5770dc=await this[_0x2c9856(0x67a)]({'request':_0x535674,'schema':null,'ClassRef':M,'execute':_0x18576a=>D['fetchPrivacySettings'](_0x18576a)});return _0x1218bc[_0x2c9856(0x22e)](0xc8)[_0x2c9856(0x70a)](_0x5770dc);})[_0x52eaef(0x809)](this['routerPath']('updatePrivacySettings'),..._0x4a8456,async(_0x35ba19,_0x64732b)=>{const _0x3de595=_0x52eaef;let _0x252978=await this['dataValidate']({'request':_0x35ba19,'schema':Ha,'ClassRef':at,'execute':(_0x200fbb,_0x51d09b)=>D['updatePrivacySettings'](_0x200fbb,_0x51d09b)});return _0x64732b[_0x3de595(0x22e)](0xc9)[_0x3de595(0x70a)](_0x252978);})['post'](this[_0x52eaef(0x25c)](_0x52eaef(0x140)),..._0x4a8456,async(_0x7bf080,_0x378109)=>{const _0x220567=_0x52eaef;let _0x48d436=await this[_0x220567(0x67a)]({'request':_0x7bf080,'schema':Oe,'ClassRef':Ce,'execute':(_0x5c9b58,_0x607695)=>D['fetchBusinessProfile'](_0x5c9b58,_0x607695)});return _0x378109[_0x220567(0x22e)](0xc8)['json'](_0x48d436);})[_0x52eaef(0x78a)](this[_0x52eaef(0x25c)](_0x52eaef(0x22f)),..._0x4a8456,async(_0x5ad3b7,_0xf8a6d0)=>{const _0x171368=_0x52eaef;let _0x44842d=await this['dataValidate']({'request':_0x5ad3b7,'schema':Xa,'ClassRef':Ze,'execute':(_0x5c0214,_0x4df31b)=>D[_0x171368(0x22f)](_0x5c0214,_0x4df31b)});return _0xf8a6d0[_0x171368(0x22e)](0xc8)['json'](_0x44842d);})[_0x52eaef(0x78a)](this['routerPath'](_0x52eaef(0x466)),..._0x4a8456,async(_0x41efaf,_0x4a63f9)=>{const _0x3fbaa6=_0x52eaef;let _0x2c9060=await this[_0x3fbaa6(0x67a)]({'request':_0x41efaf,'schema':Za,'ClassRef':et,'execute':(_0x5a4684,_0x59ae29)=>D[_0x3fbaa6(0x466)](_0x5a4684,_0x59ae29)});return _0x4a63f9[_0x3fbaa6(0x22e)](0xc8)['json'](_0x2c9060);})['put'](this[_0x52eaef(0x25c)]('updateProfilePicture'),..._0x4a8456,async(_0x343625,_0x17b422)=>{const _0x4b0e62=_0x52eaef;let _0x5cbb60=await this['dataValidate']({'request':_0x343625,'schema':Oe,'ClassRef':Ce,'execute':(_0x3de408,_0x34b93d)=>D[_0x4b0e62(0x698)](_0x3de408,_0x34b93d)});return _0x17b422['status'](0xc8)[_0x4b0e62(0x70a)](_0x5cbb60);})[_0x52eaef(0x634)](this[_0x52eaef(0x25c)]('removeProfilePicture'),..._0x4a8456,async(_0x30e2ab,_0x4b6988)=>{const _0x352db0=_0x52eaef;let _0x45835e=await this[_0x352db0(0x67a)]({'request':_0x30e2ab,'schema':Oe,'ClassRef':Ce,'execute':(_0x3c35a0,_0x3e4330)=>D[_0x352db0(0x75d)](_0x3c35a0,_0x3e4330)});return _0x4b6988[_0x352db0(0x22e)](0xc8)[_0x352db0(0x70a)](_0x45835e);});}},hi=require('express'),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x6f42ec){const _0x2aa134=a0_0x13c462;super(),this['router']=(0x0,hi[_0x2aa134(0x555)])(),this[_0x2aa134(0x3ac)]['post'](this['routerPath'](_0x2aa134(0x714)),..._0x6f42ec,async(_0x34e02b,_0x202fbd)=>{const _0x43d3eb=_0x2aa134;let _0x457c01=await this[_0x43d3eb(0x67a)]({'request':_0x34e02b,'schema':ai,'ClassRef':ut,'execute':(_0x1e769e,_0x5a6c95)=>q[_0x43d3eb(0x150)](_0x1e769e,_0x5a6c95)});_0x202fbd[_0x43d3eb(0x22e)](0xc9)['json'](_0x457c01);})['put'](this[_0x2aa134(0x25c)](_0x2aa134(0x256)),..._0x6f42ec,async(_0x2a9fb4,_0x47446a)=>{const _0x36f08a=_0x2aa134;let _0x135f4c=await this[_0x36f08a(0x819)]({'request':_0x2a9fb4,'schema':ri,'ClassRef':dt,'execute':(_0x82f9d8,_0x3774d1)=>q['updateGroupPicture'](_0x82f9d8,_0x3774d1)});_0x47446a['status'](0xc9)[_0x36f08a(0x70a)](_0x135f4c);})[_0x2aa134(0x809)](this[_0x2aa134(0x25c)](_0x2aa134(0x675)),..._0x6f42ec,async(_0x301d0c,_0x28535)=>{const _0x1915cd=_0x2aa134;let _0x5373fb=await this[_0x1915cd(0x819)]({'request':_0x301d0c,'schema':ni,'ClassRef':pt,'execute':(_0x3f9366,_0x2ca835)=>q['groupDesc'](_0x3f9366,_0x2ca835)});_0x28535['status'](0xc9)[_0x1915cd(0x70a)](_0x5373fb);})[_0x2aa134(0x809)](this[_0x2aa134(0x25c)](_0x2aa134(0x447)),..._0x6f42ec,async(_0x30f04a,_0x1af5ce)=>{const _0x5860f1=_0x2aa134;let _0x2fd999=await this[_0x5860f1(0x819)]({'request':_0x30f04a,'schema':ci,'ClassRef':ht,'execute':(_0x3fdc3e,_0x202f90)=>q[_0x5860f1(0x447)](_0x3fdc3e,_0x202f90)});_0x1af5ce['status'](0xc9)[_0x5860f1(0x70a)](_0x2fd999);})[_0x2aa134(0x809)](this['routerPath'](_0x2aa134(0x4a6)),..._0x6f42ec,async(_0x3a206c,_0x1c9050)=>{const _0x1b4f36=_0x2aa134;let _0x2a3df3=await this[_0x1b4f36(0x819)]({'request':_0x3a206c,'schema':ui,'ClassRef':mt,'execute':(_0x55a806,_0xfd0b0a)=>q[_0x1b4f36(0x4a6)](_0x55a806,_0xfd0b0a)});_0x1c9050[_0x1b4f36(0x22e)](0xc9)['json'](_0x2a3df3);})[_0x2aa134(0x809)](this['routerPath'](_0x2aa134(0x5ed)),..._0x6f42ec,async(_0x395409,_0x42e80f)=>{const _0x3a6689=_0x2aa134;let _0x39bc34=await this[_0x3a6689(0x819)]({'request':_0x395409,'schema':li,'ClassRef':gt,'execute':(_0x1625ad,_0x366082)=>q['groupSetting'](_0x1625ad,_0x366082)});_0x42e80f[_0x3a6689(0x22e)](0xc9)[_0x3a6689(0x70a)](_0x39bc34);})[_0x2aa134(0x809)](this[_0x2aa134(0x25c)](_0x2aa134(0x776)),..._0x6f42ec,async(_0x5d8d7f,_0x51c242)=>{const _0x346f81=_0x2aa134;let _0x22361c=await this[_0x346f81(0x819)]({'request':_0x5d8d7f,'schema':oi,'ClassRef':wt,'execute':(_0x223ddf,_0x1b9c52)=>q[_0x346f81(0x776)](_0x223ddf,_0x1b9c52)});_0x51c242[_0x346f81(0x22e)](0xc9)[_0x346f81(0x70a)](_0x22361c);})[_0x2aa134(0x6a5)](this[_0x2aa134(0x25c)](_0x2aa134(0x26d)),..._0x6f42ec,async(_0x450ddb,_0x2dd6d1)=>{const _0x31f921=_0x2aa134;let _0x3e7798=await this[_0x31f921(0x819)]({'request':_0x450ddb,'schema':xe,'ClassRef':ee,'execute':(_0x3fcb9c,_0x104d9c)=>q['findGroupInfo'](_0x3fcb9c,_0x104d9c)});_0x2dd6d1[_0x31f921(0x22e)](0xc8)[_0x31f921(0x70a)](_0x3e7798);})[_0x2aa134(0x6a5)](this[_0x2aa134(0x25c)]('findGroups'),..._0x6f42ec,async(_0x478176,_0x9e5ea2)=>{const _0x3b52da=_0x2aa134;let _0x4a30de=await this[_0x3b52da(0x67a)]({'request':_0x478176,'schema':E,'ClassRef':M,'execute':_0x1c7c4b=>q[_0x3b52da(0x82e)](_0x1c7c4b)});_0x9e5ea2[_0x3b52da(0x22e)](0xc8)[_0x3b52da(0x70a)](_0x4a30de);})[_0x2aa134(0x6a5)](this['routerPath']('participants'),..._0x6f42ec,async(_0x4ebec1,_0x429366)=>{const _0xbdf2f0=_0x2aa134;let _0x16eab3=await this[_0xbdf2f0(0x819)]({'request':_0x4ebec1,'schema':xe,'ClassRef':ee,'execute':(_0x101c10,_0x552852)=>q['findParticipants'](_0x101c10,_0x552852)});_0x429366[_0xbdf2f0(0x22e)](0xc8)[_0xbdf2f0(0x70a)](_0x16eab3);})[_0x2aa134(0x6a5)](this[_0x2aa134(0x25c)](_0x2aa134(0x3e8)),..._0x6f42ec,async(_0x4027c1,_0x5e7bd6)=>{const _0x6e974e=_0x2aa134;let _0x134267=await this[_0x6e974e(0x819)]({'request':_0x4027c1,'schema':xe,'ClassRef':ee,'execute':(_0x51037a,_0x5f1355)=>q[_0x6e974e(0x3e8)](_0x51037a,_0x5f1355)});_0x5e7bd6[_0x6e974e(0x22e)](0xc8)[_0x6e974e(0x70a)](_0x134267);})['post'](this['routerPath']('inviteCodeDetails'),..._0x6f42ec,async(_0x161223,_0x5d2d91)=>{const _0x495d39=_0x2aa134;let _0x552ce8=await this['joinGroupValidate']({'request':_0x161223,'schema':Ns,'ClassRef':Pe,'execute':(_0x1337e9,_0x46579e)=>q['groupGetInviteInfo'](_0x1337e9,_0x46579e)});_0x5d2d91[_0x495d39(0x22e)](0xc9)[_0x495d39(0x70a)](_0x552ce8);})[_0x2aa134(0x809)](this[_0x2aa134(0x25c)](_0x2aa134(0x27d)),..._0x6f42ec,async(_0x2c77b2,_0x2f6aad)=>{const _0x39d5e8=_0x2aa134;let _0x1e3f19=await this[_0x39d5e8(0x888)]({'request':_0x2c77b2,'schema':Ns,'ClassRef':Pe,'execute':(_0x430de5,_0x24871e)=>q[_0x39d5e8(0x27d)](_0x430de5,_0x24871e)});_0x2f6aad['status'](0xc9)[_0x39d5e8(0x70a)](_0x1e3f19);})['put'](this['routerPath'](_0x2aa134(0x482)),..._0x6f42ec,async(_0x366315,_0x5b3a1f)=>{const _0xc8113e=_0x2aa134;let _0x3a209f=await this[_0xc8113e(0x819)]({'request':_0x366315,'schema':xe,'ClassRef':ee,'execute':(_0x343a1c,_0x37a2ec)=>q['revokeInviteCode'](_0x343a1c,_0x37a2ec)});_0x5b3a1f['status'](0xc9)[_0xc8113e(0x70a)](_0x3a209f);})[_0x2aa134(0x809)](this[_0x2aa134(0x25c)](_0x2aa134(0x461)),..._0x6f42ec,async(_0x681434,_0x1f193a)=>{const _0x185ffc=_0x2aa134;let _0x39c517=await this[_0x185ffc(0x819)]({'request':_0x681434,'schema':ii,'ClassRef':ft,'execute':(_0x52025c,_0x2ea5dc)=>q[_0x185ffc(0x2e6)](_0x52025c,_0x2ea5dc)});_0x1f193a['status'](0xc9)[_0x185ffc(0x70a)](_0x39c517);})[_0x2aa134(0x634)](this[_0x2aa134(0x25c)](_0x2aa134(0x3c3)),..._0x6f42ec,async(_0x5c7304,_0x4cdd99)=>{const _0xbaca3a=_0x2aa134;let _0x4a4c03=await this[_0xbaca3a(0x819)]({'request':_0x5c7304,'schema':{},'ClassRef':ee,'execute':(_0x588e16,_0x4f12dd)=>q[_0xbaca3a(0x3c3)](_0x588e16,_0x4f12dd)});_0x4cdd99[_0xbaca3a(0x22e)](0xc8)[_0xbaca3a(0x70a)](_0x4a4c03);});}},gi=require(a0_0x13c462(0x197)),bt=class extends V{constructor(_0x5411dc,..._0x52636c){const _0x3857e0=a0_0x13c462;super(),this[_0x3857e0(0x310)]=_0x5411dc,this['router']=(0x0,gi[_0x3857e0(0x555)])();let _0xcf79c1=_0x5411dc[_0x3857e0(0x6a5)](_0x3857e0(0x369));this['router'][_0x3857e0(0x78a)](_0x3857e0(0x1a5),..._0x52636c,async(_0x3a52a6,_0x1b5e0a)=>{const _0xe342ff=_0x3857e0;let {instanceName:_0x5b7ec4,apikey:_0x51a4bb,number:_0x2566db}=_0x3a52a6[_0xe342ff(0x5de)],_0x522aa9=await le[_0xe342ff(0x8a5)]({'instanceName':_0x5b7ec4,'apikey':_0x51a4bb,'number':_0x2566db});return _0x1b5e0a[_0xe342ff(0x22e)](0xc9)[_0xe342ff(0x70a)](_0x522aa9);})[_0x3857e0(0x809)](this['routerPath'](_0x3857e0(0x5ac)),..._0x52636c,async(_0x5f4f83,_0x2f9ab9)=>{const _0x33afc8=_0x3857e0;let _0x2d94f2=await this['dataValidate']({'request':_0x5f4f83,'schema':E,'ClassRef':M,'execute':_0x256b0c=>le[_0x33afc8(0x147)](_0x256b0c)});return _0x2f9ab9['status'](0xc8)[_0x33afc8(0x70a)](_0x2d94f2);})['get'](this[_0x3857e0(0x25c)](_0x3857e0(0x7e5)),..._0x52636c,async(_0x5a771a,_0x31a142)=>{const _0x449a0d=_0x3857e0;let _0x299411=await this['dataValidate']({'request':_0x5a771a,'schema':E,'ClassRef':M,'execute':_0x57b8ac=>le[_0x449a0d(0x573)](_0x57b8ac)});return _0x31a142['status'](0xc8)[_0x449a0d(0x70a)](_0x299411);})[_0x3857e0(0x6a5)](this[_0x3857e0(0x25c)](_0x3857e0(0x85c)),..._0x52636c,async(_0x163677,_0x173c8b)=>{const _0x5d5b9f=_0x3857e0;let _0x1abe7a=await this[_0x5d5b9f(0x67a)]({'request':_0x163677,'schema':E,'ClassRef':M,'execute':_0xf9c82e=>le[_0x5d5b9f(0x85c)](_0xf9c82e)});return _0x173c8b[_0x5d5b9f(0x22e)](0xc8)[_0x5d5b9f(0x70a)](_0x1abe7a);})[_0x3857e0(0x6a5)](this['routerPath'](_0x3857e0(0x728),!0x1),..._0x52636c,async(_0x3049c5,_0xdd9e0a)=>{const _0x5a70fd=_0x3857e0;let _0x3e82f8=await this[_0x5a70fd(0x67a)]({'request':_0x3049c5,'schema':null,'ClassRef':M,'execute':_0x269990=>le[_0x5a70fd(0x728)](_0x269990)});return _0xdd9e0a[_0x5a70fd(0x22e)](0xc8)[_0x5a70fd(0x70a)](_0x3e82f8);})[_0x3857e0(0x634)](this['routerPath'](_0x3857e0(0x71b)),..._0x52636c,async(_0x4e70f6,_0x20d2ec)=>{const _0x55bc92=_0x3857e0;let _0x5376d4=await this[_0x55bc92(0x67a)]({'request':_0x4e70f6,'schema':E,'ClassRef':M,'execute':_0x53dbda=>le[_0x55bc92(0x71b)](_0x53dbda)});return _0x20d2ec['status'](0xc8)[_0x55bc92(0x70a)](_0x5376d4);})[_0x3857e0(0x634)](this['routerPath'](_0x3857e0(0x634)),..._0x52636c,async(_0x28adba,_0x3d96cc)=>{const _0x471093=_0x3857e0;let _0x9ef391=await this['dataValidate']({'request':_0x28adba,'schema':E,'ClassRef':M,'execute':_0x2080b3=>le[_0x471093(0x6ed)](_0x2080b3)});return _0x3d96cc[_0x471093(0x22e)](0xc8)[_0x471093(0x70a)](_0x9ef391);});}},mi=require(a0_0x13c462(0x197)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x4c8662){const _0x5bc69c=a0_0x13c462;super(),this[_0x5bc69c(0x3ac)]=(0x0,mi[_0x5bc69c(0x555)])(),this[_0x5bc69c(0x3ac)][_0x5bc69c(0x78a)](this['routerPath']('sendText'),..._0x4c8662,async(_0x2e4c4d,_0x3c343f)=>{const _0x5b97ed=_0x5bc69c;let _0x307ef8=await this[_0x5b97ed(0x67a)]({'request':_0x2e4c4d,'schema':Pa,'ClassRef':St,'execute':(_0x4f308f,_0x4d6f90)=>B[_0x5b97ed(0x443)](_0x4f308f,_0x4d6f90)});return _0x3c343f[_0x5b97ed(0x22e)](0xc9)[_0x5b97ed(0x70a)](_0x307ef8);})['post'](this['routerPath']('sendMedia'),..._0x4c8662,async(_0x316ca8,_0x2a3d8a)=>{const _0x45b17a=_0x5bc69c;let _0x30d7f1=await this[_0x45b17a(0x67a)]({'request':_0x316ca8,'schema':Fa,'ClassRef':De,'execute':(_0x347d57,_0x21f881)=>B[_0x45b17a(0x522)](_0x347d57,_0x21f881)});return _0x2a3d8a[_0x45b17a(0x22e)](0xc9)[_0x45b17a(0x70a)](_0x30d7f1);})['post'](this['routerPath'](_0x5bc69c(0x62e)),..._0x4c8662,async(_0x2ac813,_0x4fc761)=>{const _0x415382=_0x5bc69c;let _0xf3aceb=await this[_0x415382(0x67a)]({'request':_0x2ac813,'schema':Ja,'ClassRef':vt,'execute':(_0x15dc5a,_0x2ade43)=>B[_0x415382(0x62e)](_0x15dc5a,_0x2ade43)});return _0x4fc761[_0x415382(0x22e)](0xc9)['json'](_0xf3aceb);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)](_0x5bc69c(0x1dc)),..._0x4c8662,async(_0x3beb41,_0x3ddfd8)=>{const _0x372af8=_0x5bc69c;let _0x17d6d0=await this[_0x372af8(0x67a)]({'request':_0x3beb41,'schema':Ua,'ClassRef':De,'execute':(_0x2fbe5e,_0xfa74bd)=>B['sendWhatsAppAudio'](_0x2fbe5e,_0xfa74bd)});return _0x3ddfd8['status'](0xc9)[_0x372af8(0x70a)](_0x17d6d0);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)](_0x5bc69c(0x4fa)),..._0x4c8662,async(_0x1c97f8,_0x5a8d3d)=>{const _0x4850f2=_0x5bc69c;let _0x296b9f=await this['dataValidate']({'request':_0x1c97f8,'schema':qa,'ClassRef':Nt,'execute':(_0x3b13b2,_0x2df2b6)=>B['sendLocation'](_0x3b13b2,_0x2df2b6)});return _0x5a8d3d[_0x4850f2(0x22e)](0xc9)[_0x4850f2(0x70a)](_0x296b9f);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)](_0x5bc69c(0x3bb)),..._0x4c8662,async(_0x1b512f,_0x32d245)=>{const _0x3dd26d=_0x5bc69c;let _0xa6ad59=await this[_0x3dd26d(0x67a)]({'request':_0x1b512f,'schema':Va,'ClassRef':$t,'execute':(_0x49380f,_0x51f86f)=>B[_0x3dd26d(0x3bb)](_0x49380f,_0x51f86f)});return _0x32d245['status'](0xc9)[_0x3dd26d(0x70a)](_0xa6ad59);})[_0x5bc69c(0x78a)](this['routerPath'](_0x5bc69c(0x783)),..._0x4c8662,async(_0x290530,_0x376313)=>{const _0x4f6625=_0x5bc69c;let _0x3b8f9e=await this[_0x4f6625(0x67a)]({'request':_0x290530,'schema':Ga,'ClassRef':Rt,'execute':(_0x31485f,_0x3f08b5)=>B['sendContact'](_0x31485f,_0x3f08b5)});return _0x376313[_0x4f6625(0x22e)](0xc9)['json'](_0x3b8f9e);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)](_0x5bc69c(0x333)),..._0x4c8662,async(_0x46d4be,_0x1cb7d7)=>{const _0x4ef21b=_0x5bc69c;let _0x176d69=await this['dataValidate']({'request':_0x46d4be,'schema':Ba,'ClassRef':At,'execute':(_0xaaa2e9,_0x37c57f)=>B[_0x4ef21b(0x333)](_0xaaa2e9,_0x37c57f)});return _0x1cb7d7[_0x4ef21b(0x22e)](0xc9)['json'](_0x176d69);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)](_0x5bc69c(0x2ad)),..._0x4c8662,async(_0x398fd0,_0x58820b)=>{const _0x32c7bc=_0x5bc69c;let _0x34ec02=await this[_0x32c7bc(0x67a)]({'request':_0x398fd0,'schema':ja,'ClassRef':Ct,'execute':(_0x3cd932,_0x2b4642)=>B[_0x32c7bc(0x2ad)](_0x3cd932,_0x2b4642)});return _0x58820b[_0x32c7bc(0x22e)](0xc9)[_0x32c7bc(0x70a)](_0x34ec02);})['post'](this[_0x5bc69c(0x25c)](_0x5bc69c(0x52e)),..._0x4c8662,async(_0x751f0e,_0x11076e)=>{const _0x4ec32c=_0x5bc69c;let _0x3ea42e=await this[_0x4ec32c(0x67a)]({'request':_0x751f0e,'schema':La,'ClassRef':Mt,'execute':(_0x4c2538,_0x2cc002)=>B[_0x4ec32c(0x52e)](_0x4c2538,_0x2cc002)});return _0x11076e[_0x4ec32c(0x22e)](0xc9)[_0x4ec32c(0x70a)](_0x3ea42e);})[_0x5bc69c(0x78a)](this[_0x5bc69c(0x25c)]('sendSticker'),..._0x4c8662,async(_0x1954b3,_0x382521)=>{const _0x29b5f5=_0x5bc69c;let _0x17def4=await this['dataValidate']({'request':_0x1954b3,'schema':ka,'ClassRef':Et,'execute':(_0x434486,_0x222324)=>B[_0x29b5f5(0x248)](_0x434486,_0x222324)});return _0x382521[_0x29b5f5(0x22e)](0xc9)[_0x29b5f5(0x70a)](_0x17def4);});}},fi=require('express'),It=class{},_t=class extends V{constructor(..._0x48ead7){const _0x114690=a0_0x13c462;super(),this[_0x114690(0x3ac)]=(0x0,fi[_0x114690(0x555)])(),this[_0x114690(0x3ac)][_0x114690(0x78a)](this[_0x114690(0x25c)](_0x114690(0x413)),..._0x48ead7,async(_0x591b6e,_0x20f935)=>{const _0x5551bc=_0x114690;let _0x27ca82=await this[_0x5551bc(0x67a)]({'request':_0x591b6e,'schema':di,'ClassRef':It,'execute':(_0x589766,_0x448932)=>As['createWebhook'](_0x589766,_0x448932)});_0x20f935[_0x5551bc(0x22e)](0xc9)[_0x5551bc(0x70a)](_0x27ca82);})[_0x114690(0x6a5)](this[_0x114690(0x25c)](_0x114690(0x88b)),..._0x48ead7,async(_0x35ab4d,_0x1191ea)=>{const _0x1373a8=_0x114690;let _0x2c2ed3=await this['dataValidate']({'request':_0x35ab4d,'schema':E,'ClassRef':M,'execute':_0x3be2f6=>As[_0x1373a8(0x67f)](_0x3be2f6)});_0x1191ea[_0x1373a8(0x22e)](0xc8)[_0x1373a8(0x70a)](_0x2c2ed3);});}},wi=require(a0_0x13c462(0x197)),y=new $(a0_0x13c462(0x5fc)),Ot=class extends V{constructor(..._0x4a1d19){const _0x51aeff=a0_0x13c462;super(),this[_0x51aeff(0x3ac)]=(0x0,wi['Router'])(),this['router'][_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x45d)),..._0x4a1d19,async(_0x42fc2e,_0xe45d65)=>{const _0x1eba98=_0x51aeff;let _0x250527=_0x42fc2e[_0x1eba98(0x5de)];y[_0x1eba98(0x3c2)](_0x1eba98(0x85e)),y['verbose'](_0x1eba98(0x4fb)),y[_0x1eba98(0x3c2)](_0x42fc2e[_0x1eba98(0x5de)]);let _0x507d64=await this['dataValidate']({'request':_0x42fc2e,'schema':E,'ClassRef':M,'execute':_0x4f13e9=>_[_0x1eba98(0x6f4)](_0x4f13e9,_0x250527)});_0xe45d65['status'](0xc8)[_0x1eba98(0x70a)](_0x507d64);})[_0x51aeff(0x6a5)](this['routerPath'](_0x51aeff(0x45d)),..._0x4a1d19,async(_0x9f8e61,_0x35c8b3)=>{const _0x3cb737=_0x51aeff;let _0x176c09=await this[_0x3cb737(0x67a)]({'request':_0x9f8e61,'schema':E,'ClassRef':M,'execute':_0x355a8c=>_['getScheduleMessage'](_0x355a8c)});_0x35c8b3[_0x3cb737(0x22e)](0xc8)[_0x3cb737(0x70a)](_0x176c09);})[_0x51aeff(0x634)](this[_0x51aeff(0x25c)](_0x51aeff(0x729)),..._0x4a1d19,async(_0x4aeff8,_0x346d85)=>{const _0x21ed58=_0x51aeff;y[_0x21ed58(0x3c2)](_0x21ed58(0x409));let _0x19acb8=await this[_0x21ed58(0x67a)]({'request':_0x4aeff8,'schema':E,'ClassRef':M,'execute':_0x560e3=>_[_0x21ed58(0x729)](_0x560e3)});_0x346d85[_0x21ed58(0x22e)](0xc8)[_0x21ed58(0x70a)](_0x19acb8);})[_0x51aeff(0x634)](this[_0x51aeff(0x25c)](_0x51aeff(0x163)),..._0x4a1d19,async(_0x22724a,_0x133612)=>{const _0xe6ff6b=_0x51aeff;y[_0xe6ff6b(0x3c2)](_0xe6ff6b(0x81c));let _0x379f59=await this[_0xe6ff6b(0x67a)]({'request':_0x22724a,'schema':E,'ClassRef':M,'execute':_0x360145=>_[_0xe6ff6b(0x163)](_0x360145)});_0x133612[_0xe6ff6b(0x22e)](0xc8)[_0xe6ff6b(0x70a)](_0x379f59);})[_0x51aeff(0x78a)](this['routerPath'](_0x51aeff(0x282)),..._0x4a1d19,async(_0x20b96f,_0x7f2126)=>{const _0x4aeec7=_0x51aeff;let _0x566502=_0x20b96f[_0x4aeec7(0x5de)];y[_0x4aeec7(0x3c2)](_0x4aeec7(0x291)),y['verbose'](_0x4aeec7(0x4fb)),y[_0x4aeec7(0x3c2)](_0x20b96f[_0x4aeec7(0x5de)]);let _0xf0f05f=await this[_0x4aeec7(0x67a)]({'request':_0x20b96f,'schema':E,'ClassRef':M,'execute':_0x5dc15b=>_[_0x4aeec7(0x282)](_0x5dc15b,_0x566502)});_0x7f2126['status'](0xc8)[_0x4aeec7(0x70a)](_0xf0f05f);})['get'](this[_0x51aeff(0x25c)](_0x51aeff(0x44b)),..._0x4a1d19,async(_0x433c6d,_0x50fca3)=>{const _0x17d684=_0x51aeff;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x55e1e2=await this[_0x17d684(0x67a)]({'request':_0x433c6d,'schema':E,'ClassRef':M,'execute':_0x270421=>_[_0x17d684(0x44b)](_0x270421)});_0x50fca3[_0x17d684(0x22e)](0xc8)[_0x17d684(0x70a)](_0x55e1e2);})['get'](this[_0x51aeff(0x25c)](_0x51aeff(0x3bf)),..._0x4a1d19,async(_0x45c516,_0x80f3f8)=>{const _0x30f7f=_0x51aeff;y[_0x30f7f(0x3c2)](_0x30f7f(0x795));let _0x1f4e8f=await this['dataValidate']({'request':_0x45c516,'schema':E,'ClassRef':M,'execute':_0x2b38f9=>_[_0x30f7f(0x44b)](_0x2b38f9)});_0x80f3f8[_0x30f7f(0x22e)](0xc8)[_0x30f7f(0x70a)](_0x1f4e8f);})[_0x51aeff(0x78a)](this['routerPath'](_0x51aeff(0x3d6)),..._0x4a1d19,async(_0x1e7bf3,_0x57a416)=>{const _0x2c413b=_0x51aeff;let _0x392520=_0x1e7bf3['body'];y[_0x2c413b(0x3c2)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x2c413b(0x4fb)),y[_0x2c413b(0x3c2)](_0x1e7bf3[_0x2c413b(0x5de)]);let _0x4b8a68=await this['dataValidate']({'request':_0x1e7bf3,'schema':E,'ClassRef':M,'execute':_0x54c748=>_[_0x2c413b(0x3d6)](_0x54c748,_0x392520)});_0x57a416[_0x2c413b(0x22e)](0xc8)['json'](_0x4b8a68);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x465)),..._0x4a1d19,async(_0x22b3ea,_0x1e7d3e)=>{const _0x1f6fb0=_0x51aeff;let _0x1a2853=_0x22b3ea[_0x1f6fb0(0x5de)];y['verbose'](_0x1f6fb0(0x2e7)),y[_0x1f6fb0(0x3c2)](_0x1f6fb0(0x4fb)),y[_0x1f6fb0(0x3c2)](_0x22b3ea[_0x1f6fb0(0x5de)]);let _0x2d5643=await this['dataValidate']({'request':_0x22b3ea,'schema':E,'ClassRef':M,'execute':_0x41087a=>_['updateCustomFields'](_0x41087a,_0x1a2853)});_0x1e7d3e[_0x1f6fb0(0x22e)](0xc8)[_0x1f6fb0(0x70a)](_0x2d5643);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x42f)),..._0x4a1d19,async(_0x366dac,_0x409826)=>{const _0x10a1e6=_0x51aeff;let _0x34fab4=_0x366dac[_0x10a1e6(0x5de)];y['verbose']('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose'](_0x10a1e6(0x4fb)),y['verbose'](_0x366dac['body']);let _0x49a7fa=await this[_0x10a1e6(0x67a)]({'request':_0x366dac,'schema':E,'ClassRef':M,'execute':_0x391096=>_['updateAutoCompleteMessages'](_0x391096,_0x34fab4)});_0x409826[_0x10a1e6(0x22e)](0xc8)[_0x10a1e6(0x70a)](_0x49a7fa);})['post'](this[_0x51aeff(0x25c)](_0x51aeff(0x3d7)),..._0x4a1d19,async(_0x13a3d3,_0xa00561)=>{const _0x11198f=_0x51aeff;let _0x15b9a3=_0x13a3d3[_0x11198f(0x5de)];y['verbose'](_0x11198f(0x2f9)),y[_0x11198f(0x3c2)](_0x11198f(0x4fb)),y[_0x11198f(0x3c2)](_0x13a3d3[_0x11198f(0x5de)]);let _0x483fc1=await this['dataValidate']({'request':_0x13a3d3,'schema':E,'ClassRef':M,'execute':_0x2432d9=>_[_0x11198f(0x3d7)](_0x2432d9,_0x15b9a3)});_0xa00561[_0x11198f(0x22e)](0xc8)[_0x11198f(0x70a)](_0x483fc1);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)]('getConversation'),..._0x4a1d19,async(_0x6ebe22,_0xc98792)=>{const _0xcf3a5=_0x51aeff;let _0x3c7f52=_0x6ebe22[_0xcf3a5(0x5de)];y[_0xcf3a5(0x3c2)](_0xcf3a5(0x321)),y[_0xcf3a5(0x3c2)](_0xcf3a5(0x4fb)),y['verbose'](_0x6ebe22[_0xcf3a5(0x5de)]);let _0x391340=await this[_0xcf3a5(0x67a)]({'request':_0x6ebe22,'schema':E,'ClassRef':M,'execute':_0x5e4d26=>_['getConversation'](_0x5e4d26,_0x3c7f52)});_0xc98792[_0xcf3a5(0x22e)](0xc8)[_0xcf3a5(0x70a)](_0x391340);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x7c5)),..._0x4a1d19,async(_0x3ef396,_0x3bf70b)=>{const _0x57bc42=_0x51aeff;let _0x54e407=_0x3ef396['body'];y[_0x57bc42(0x3c2)](_0x57bc42(0x61b)),y[_0x57bc42(0x3c2)](_0x57bc42(0x4fb)),y['verbose'](_0x3ef396[_0x57bc42(0x5de)]);let _0x1c1920=await this[_0x57bc42(0x67a)]({'request':_0x3ef396,'schema':E,'ClassRef':M,'execute':_0x87e5cf=>_[_0x57bc42(0x7c5)](_0x87e5cf,_0x54e407)});_0x3bf70b['status'](0xc8)['json'](_0x1c1920);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x4d0)),..._0x4a1d19,async(_0x5f0de4,_0x413090)=>{const _0x413402=_0x51aeff;let _0x3a3eeb=_0x5f0de4[_0x413402(0x5de)];y[_0x413402(0x3c2)]('request\x20received\x20in\x20editConversation'),y[_0x413402(0x3c2)](_0x413402(0x4fb)),y[_0x413402(0x3c2)](_0x5f0de4['body']);let _0x39cd97=await this[_0x413402(0x67a)]({'request':_0x5f0de4,'schema':E,'ClassRef':M,'execute':_0x547fcc=>_[_0x413402(0x4d0)](_0x547fcc,_0x3a3eeb)});_0x413090[_0x413402(0x22e)](0xc8)['json'](_0x39cd97);})[_0x51aeff(0x634)](this[_0x51aeff(0x25c)]('deleteConversation'),..._0x4a1d19,async(_0x2b9300,_0x3a3c65)=>{const _0x223f89=_0x51aeff;let _0x3c1c93=_0x2b9300[_0x223f89(0x5de)];y[_0x223f89(0x3c2)](_0x223f89(0x6dd)),y[_0x223f89(0x3c2)](_0x223f89(0x4fb)),y[_0x223f89(0x3c2)](_0x2b9300[_0x223f89(0x5de)]);let _0x1c3767=await this[_0x223f89(0x67a)]({'request':_0x2b9300,'schema':E,'ClassRef':M,'execute':_0x43ac9e=>_['deleteConversation'](_0x43ac9e,_0x3c1c93)});_0x3a3c65['status'](0xc8)[_0x223f89(0x70a)](_0x1c3767);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)]('createflow'),..._0x4a1d19,async(_0x1a8aee,_0x398dc8)=>{const _0x187d36=_0x51aeff;let _0x125403=_0x1a8aee[_0x187d36(0x5de)],_0x588726=_0x1a8aee['headers'][_0x187d36(0x459)];y[_0x187d36(0x3c2)]('request\x20received\x20in\x20createFlow'),y['verbose'](_0x187d36(0x4fb)),y[_0x187d36(0x3c2)](_0x1a8aee[_0x187d36(0x5de)]);let _0x5b650e=await this[_0x187d36(0x67a)]({'request':_0x1a8aee,'schema':E,'ClassRef':M,'execute':_0xf6f2ea=>_['createFlow'](_0xf6f2ea,_0x125403,_0x588726)});_0x398dc8[_0x187d36(0x22e)](0xc8)[_0x187d36(0x70a)](_0x5b650e);})['post'](this[_0x51aeff(0x25c)](_0x51aeff(0x58c)),..._0x4a1d19,async(_0x2b5bb3,_0x14b95b)=>{const _0x453d4c=_0x51aeff;let _0x42e8c5=_0x2b5bb3[_0x453d4c(0x5de)],_0x3da73d=_0x2b5bb3[_0x453d4c(0x7bc)][_0x453d4c(0x459)];y[_0x453d4c(0x3c2)](_0x453d4c(0x7b6)),y[_0x453d4c(0x3c2)](_0x453d4c(0x4fb)),y[_0x453d4c(0x3c2)](_0x2b5bb3[_0x453d4c(0x5de)]),delete _0x42e8c5[_0x453d4c(0x3f6)],delete _0x42e8c5[_0x453d4c(0x1d1)],delete _0x42e8c5[_0x453d4c(0x5f4)],delete _0x42e8c5[_0x453d4c(0x845)];let _0x2a1152=await this[_0x453d4c(0x67a)]({'request':_0x2b5bb3,'schema':E,'ClassRef':M,'execute':_0x193f8b=>_[_0x453d4c(0x5b5)](_0x193f8b,_0x42e8c5,_0x3da73d)});_0x14b95b[_0x453d4c(0x22e)](0xc8)[_0x453d4c(0x70a)](_0x2a1152);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)]('editflowblock'),..._0x4a1d19,async(_0x39d9b6,_0x249ec5)=>{const _0x44d645=_0x51aeff;let _0x4fa3d9=_0x39d9b6[_0x44d645(0x5de)];y[_0x44d645(0x3c2)](_0x44d645(0x7b6)),y[_0x44d645(0x3c2)]('request\x20body:\x20'),y[_0x44d645(0x3c2)](_0x39d9b6[_0x44d645(0x5de)]);let _0x3170ff=await this['dataValidate']({'request':_0x39d9b6,'schema':E,'ClassRef':M,'execute':_0x311fe0=>_['editFlowBlock'](_0x311fe0,_0x4fa3d9)});_0x249ec5[_0x44d645(0x22e)](0xc8)[_0x44d645(0x70a)](_0x3170ff);})[_0x51aeff(0x78a)](this['routerPath'](_0x51aeff(0x6e4)),..._0x4a1d19,async(_0x20c2ef,_0x3e24be)=>{const _0x40610a=_0x51aeff;let _0x15338b=_0x20c2ef[_0x40610a(0x5de)];y[_0x40610a(0x3c2)](_0x40610a(0x7b6)),y[_0x40610a(0x3c2)](_0x40610a(0x4fb)),y['verbose'](_0x20c2ef['body']);let _0x4029ce=await this[_0x40610a(0x67a)]({'request':_0x20c2ef,'schema':E,'ClassRef':M,'execute':_0xf2ab6d=>_[_0x40610a(0x892)](_0xf2ab6d,_0x15338b)});_0x3e24be['status'](0xc8)[_0x40610a(0x70a)](_0x4029ce);})[_0x51aeff(0x78a)](this['routerPath']('editflowvaredit'),..._0x4a1d19,async(_0x52c683,_0x117d9d)=>{const _0x2bd90c=_0x51aeff;let _0x3a243e=_0x52c683[_0x2bd90c(0x5de)];y[_0x2bd90c(0x3c2)](_0x2bd90c(0x7b6)),y[_0x2bd90c(0x3c2)]('request\x20body:\x20'),y[_0x2bd90c(0x3c2)](_0x52c683[_0x2bd90c(0x5de)]);let _0x51a55a=await this['dataValidate']({'request':_0x52c683,'schema':E,'ClassRef':M,'execute':_0x5409f0=>_['editFlowVaredit'](_0x5409f0,_0x3a243e)});_0x117d9d['status'](0xc8)[_0x2bd90c(0x70a)](_0x51a55a);})['post'](this[_0x51aeff(0x25c)](_0x51aeff(0x5d1)),..._0x4a1d19,async(_0x3e62a3,_0x202b42)=>{const _0x1774db=_0x51aeff;let _0x3f4758=_0x3e62a3[_0x1774db(0x5de)];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y[_0x1774db(0x3c2)](_0x1774db(0x4fb)),y[_0x1774db(0x3c2)](_0x3e62a3['body']);let _0x38b89d=await this[_0x1774db(0x67a)]({'request':_0x3e62a3,'schema':E,'ClassRef':M,'execute':_0x1d0b39=>_[_0x1774db(0x1aa)](_0x1d0b39,_0x3f4758)});_0x202b42[_0x1774db(0x22e)](0xc8)['json'](_0x38b89d);})['post'](this[_0x51aeff(0x25c)](_0x51aeff(0x242)),..._0x4a1d19,async(_0x17a8f9,_0x363619)=>{const _0x24f7dc=_0x51aeff;let _0x1dfdae=_0x17a8f9[_0x24f7dc(0x5de)];y[_0x24f7dc(0x3c2)]('request\x20received\x20in\x20editFlowcondition'),y[_0x24f7dc(0x3c2)](_0x24f7dc(0x4fb)),y[_0x24f7dc(0x3c2)](_0x17a8f9['body']);let _0x1927cb=await this[_0x24f7dc(0x67a)]({'request':_0x17a8f9,'schema':E,'ClassRef':M,'execute':_0x335846=>_[_0x24f7dc(0x3b5)](_0x335846,_0x1dfdae)});_0x363619[_0x24f7dc(0x22e)](0xc8)[_0x24f7dc(0x70a)](_0x1927cb);})[_0x51aeff(0x78a)](this['routerPath']('editflowvariable'),..._0x4a1d19,async(_0x3b488d,_0x341611)=>{const _0x2b7393=_0x51aeff;let _0x1a0714=_0x3b488d[_0x2b7393(0x5de)];y[_0x2b7393(0x3c2)]('request\x20received\x20in\x20editFlowvariable'),y[_0x2b7393(0x3c2)](_0x2b7393(0x4fb)),y['verbose'](_0x3b488d[_0x2b7393(0x5de)]);let _0x5961d3=await this[_0x2b7393(0x67a)]({'request':_0x3b488d,'schema':E,'ClassRef':M,'execute':_0x542673=>_[_0x2b7393(0x365)](_0x542673,_0x1a0714)});_0x341611['status'](0xc8)[_0x2b7393(0x70a)](_0x5961d3);})[_0x51aeff(0x78a)](this[_0x51aeff(0x25c)](_0x51aeff(0x45b)),..._0x4a1d19,async(_0x2db726,_0x5a5e86)=>{const _0xb1482d=_0x51aeff;let _0x573e07=_0x2db726[_0xb1482d(0x5de)];y[_0xb1482d(0x3c2)](_0xb1482d(0x803)),y[_0xb1482d(0x3c2)](_0xb1482d(0x4fb)),y[_0xb1482d(0x3c2)](_0x2db726[_0xb1482d(0x5de)]);let _0x592475=await this['dataValidate']({'request':_0x2db726,'schema':E,'ClassRef':M,'execute':_0x587e53=>_[_0xb1482d(0x380)](_0x587e53,_0x573e07)});_0x5a5e86[_0xb1482d(0x22e)](0xc8)['json'](_0x592475);})['delete'](this[_0x51aeff(0x25c)](_0x51aeff(0x565)),..._0x4a1d19,async(_0x56ed9f,_0x2e4016)=>{const _0x2d9f77=_0x51aeff;let _0x3d5fce=_0x56ed9f[_0x2d9f77(0x5de)];y[_0x2d9f77(0x3c2)](_0x2d9f77(0x4ab)),y[_0x2d9f77(0x3c2)](_0x2d9f77(0x4fb)),y['verbose'](_0x56ed9f['body']);let _0x5ba4ac=await this[_0x2d9f77(0x67a)]({'request':_0x56ed9f,'schema':E,'ClassRef':M,'execute':_0xd5e4e5=>_[_0x2d9f77(0x502)](_0xd5e4e5,_0x3d5fce)});_0x2e4016['status'](0xc8)['json'](_0x5ba4ac);})[_0x51aeff(0x6a5)](this['routerPath'](_0x51aeff(0x178)),..._0x4a1d19,async(_0x5e7eef,_0x44b136)=>{const _0x3b9c4b=_0x51aeff;y[_0x3b9c4b(0x3c2)]('request\x20received\x20in\x20allFlows');let _0x24f6f9=await this[_0x3b9c4b(0x67a)]({'request':_0x5e7eef,'schema':E,'ClassRef':M,'execute':_0x4249e6=>_[_0x3b9c4b(0x660)](_0x4249e6)});_0x44b136[_0x3b9c4b(0x22e)](0xc8)[_0x3b9c4b(0x70a)](_0x24f6f9);});}},Mi=I(require(a0_0x13c462(0x6e1))),te={};function yi(_0x281f11,_0x1f21ad,_0xd88bcb,_0x241ee4){te[_0x281f11]||(te[_0x281f11]={}),te[_0x281f11][_0x1f21ad]={'id':_0x1f21ad,'response':_0xd88bcb,'events':_0x241ee4};}function bi(_0x511f01,_0x16a8fa){!te[_0x511f01]||!te[_0x511f01][_0x16a8fa]||delete te[_0x511f01][_0x16a8fa];}function F(_0x24ffc6,_0x2aa823,_0x63e5eb){const _0x1ac267=a0_0x13c462;if(!te[_0x24ffc6])return;let _0x43ed06=_0x1ac267(0x6aa)+JSON[_0x1ac267(0x524)](_0x63e5eb)+'\x0a\x0a';Object[_0x1ac267(0x782)](te[_0x24ffc6])[_0x1ac267(0x2a0)](_0x2a74d3=>{const _0x5c12e6=_0x1ac267;_0x2a74d3['events'][_0x5c12e6(0x50c)](_0x2aa823)&&_0x2a74d3['response'][_0x5c12e6(0x5b4)](_0x43ed06);});}function Si(){const _0x580036=a0_0x13c462;let _0x3a54aa={};for(let _0x33514b in te)_0x3a54aa[_0x33514b]=Object[_0x580036(0x782)](te[_0x33514b])[_0x580036(0x4c1)](_0x32f46a=>({'id':_0x32f46a['id'],'events':_0x32f46a[_0x580036(0x520)]}));return _0x3a54aa;}var Ci=require(a0_0x13c462(0x587)),Is=require(a0_0x13c462(0x5c9)),Ts=class{},Io=new Is[(a0_0x13c462(0x545))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x13c462(0x545))]({'_id':{'type':String,'default':a0_0x13c462(0x62d)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x13c462(0x488)](Ts[a0_0x13c462(0x42b)],_o,'All_Instances_Config'),Oo=Mi[a0_0x13c462(0x6bc)][a0_0x13c462(0x65f)](__dirname,a0_0x13c462(0x28b)),ke=(0x0,xt[a0_0x13c462(0x555)])(),xo=S[a0_0x13c462(0x6a5)](a0_0x13c462(0x369))['TYPE'],ie=[Aa,Ta,Oa[xo]];ke['use'](a0_0x13c462(0x3b4),xt[a0_0x13c462(0x6bc)][a0_0x13c462(0x338)](Oo))[a0_0x13c462(0x6a5)](a0_0x13c462(0x1f1),async(_0x17417e,_0xfacb80)=>{const _0x26e236=a0_0x13c462;console[_0x26e236(0x253)](_0x26e236(0x192));let _0x6a05fe=_0x17417e[_0x26e236(0x1c9)][_0x26e236(0x1c1)],_0x2047ed=(_0x17417e['query'][_0x26e236(0x520)]||'')[_0x26e236(0x4ca)](','),_0x1c1fbd=(0x0,Ci['v4'])();console['log'](_0x26e236(0x236),_0x6a05fe),console[_0x26e236(0x253)](_0x26e236(0x72c),_0x2047ed);let _0x513ab7=S[_0x26e236(0x6a5)](_0x26e236(0x369))[_0x26e236(0x187)],_0x414083=_0x17417e[_0x26e236(0x186)]['apikey'];if(console['log'](_0x26e236(0x50d),_0x414083),_0x513ab7[_0x26e236(0x74e)]!==_0x414083){console[_0x26e236(0x253)](_0x26e236(0x6b6));try{let _0x48f9c5=await me[_0x26e236(0x775)][_0x26e236(0x88b)](_0x6a05fe);if(console[_0x26e236(0x253)](_0x26e236(0x75e),_0x48f9c5),!_0x48f9c5||_0x48f9c5[_0x26e236(0x459)]!==_0x414083)return console[_0x26e236(0x253)](_0x26e236(0x531)),_0xfacb80[_0x26e236(0x22e)](0x191)[_0x26e236(0x258)](_0x26e236(0x251));}catch(_0x5a3dd5){return console['error'](_0x26e236(0x5fd),_0x5a3dd5),_0xfacb80[_0x26e236(0x22e)](0x191)[_0x26e236(0x258)](_0x26e236(0x8cc));}}if(!await _e(_0x6a05fe))return _0xfacb80['status'](0x194)[_0x26e236(0x258)](_0x26e236(0x1a9));_0xfacb80[_0x26e236(0x4bf)](_0x26e236(0x364),_0x26e236(0x5ff)),_0xfacb80[_0x26e236(0x4bf)](_0x26e236(0x2a7),'no-cache'),_0xfacb80[_0x26e236(0x4bf)](_0x26e236(0x43f),_0x26e236(0x366)),_0xfacb80[_0x26e236(0x278)]();let _0x30be8=_0x26e236(0x6aa)+JSON[_0x26e236(0x524)]({'info':_0x26e236(0x207)})+'\x0a\x0a';_0xfacb80[_0x26e236(0x5b4)](_0x30be8),yi(_0x6a05fe,_0x1c1fbd,_0xfacb80,_0x2047ed),_0x17417e['on'](_0x26e236(0x49b),()=>{const _0xa6a876=_0x26e236;console[_0xa6a876(0x253)](_0xa6a876(0x43c)+_0x6a05fe),bi(_0x6a05fe,_0x1c1fbd);});}),ke[a0_0x13c462(0x78a)](a0_0x13c462(0x2b8),async(_0x3e5da0,_0x110ee7)=>{const _0x268272=a0_0x13c462;console[_0x268272(0x253)](_0x268272(0x652));let _0x561e3b=_0x3e5da0['params'][_0x268272(0x1c1)],_0x3b47cb=_0x3e5da0[_0x268272(0x1c9)][_0x268272(0x32b)],_0x6f916f=_0x3e5da0[_0x268272(0x186)]['remoteJid']||'',_0x2a571f=_0x3e5da0[_0x268272(0x5de)];console[_0x268272(0x253)](_0x268272(0x7a9),_0x561e3b),console[_0x268272(0x253)](_0x268272(0x5ec),_0x3b47cb),console[_0x268272(0x253)](_0x268272(0x47e),_0x6f916f),console[_0x268272(0x253)]('Request\x20Body:',_0x2a571f);try{if(!await _e(_0x561e3b))return _0x110ee7[_0x268272(0x22e)](0x194)[_0x268272(0x258)](_0x268272(0x1a9));let _0x54faca=await _[_0x268272(0x6d5)](_0x561e3b,_0x3b47cb,_0x6f916f,_0x2a571f);_0x110ee7[_0x268272(0x258)](_0x54faca);}catch(_0x2578d7){console[_0x268272(0x873)](_0x2578d7),_0x110ee7[_0x268272(0x22e)](0x1f4)[_0x268272(0x258)](_0x268272(0x87e));}}),ke[a0_0x13c462(0x6a5)](a0_0x13c462(0x798),(_0x423317,_0x33055b)=>{const _0x107809=a0_0x13c462;let _0x57f7c5=Si();_0x33055b[_0x107809(0x70a)](_0x57f7c5);})['get']('/',(_0x4cbe53,_0x5dbe91)=>{const _0x2e0768=a0_0x13c462;let _0x187fda=S[_0x2e0768(0x6a5)](_0x2e0768(0x1f8))[_0x2e0768(0x7e6)];if(_0x187fda){let _0x2806af=encodeURIComponent(''+_0x187fda);_0x5dbe91[_0x2e0768(0x5b8)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x2806af);return;}let _0xcd756f=S[_0x2e0768(0x6a5)](_0x2e0768(0x500)),_0x122e24=_0xcd756f&&_0xcd756f[_0x2e0768(0x426)]['split']('/')[0x4];if(_0x122e24){let _0xa6ffe0=encodeURIComponent(_0x2e0768(0x54a)+_0x122e24);_0x5dbe91[_0x2e0768(0x5b8)](_0x2e0768(0x4f5)+_0xa6ffe0);}else _0x5dbe91[_0x2e0768(0x5b8)](_0x2e0768(0x389));})[a0_0x13c462(0x809)](a0_0x13c462(0x639),...ie,async(_0x2af638,_0x1d93c0)=>{const _0x400244=a0_0x13c462;try{console[_0x400244(0x253)](_0x400244(0x377)),_0x1d93c0['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x1d93c0['on'](_0x400244(0x1d6),()=>process[_0x400244(0x483)](0x0));}catch(_0x1bbba9){console[_0x400244(0x873)](_0x400244(0x71c),_0x1bbba9),_0x1d93c0[_0x400244(0x22e)](0x1f4)[_0x400244(0x70a)]({'message':_0x400244(0x328)});}})['put'](a0_0x13c462(0x4b2),...ie,async(_0x1589eb,_0x32fbcf)=>{const _0x1987d0=a0_0x13c462;try{let _0x402b70=_0x1589eb['body'];await ve[_0x1987d0(0x176)]({},{'$set':_0x402b70},{'upsert':!0x0});let _0x3808b1=await ve[_0x1987d0(0x4cd)]();_0x32fbcf['json'](_0x3808b1);}catch(_0x31d2de){_0x32fbcf[_0x1987d0(0x22e)](0x190)[_0x1987d0(0x258)](_0x31d2de[_0x1987d0(0x7d2)]);}})[a0_0x13c462(0x6a5)]('/config',...ie,async(_0x35c11e,_0x46e277)=>{const _0xcce124=a0_0x13c462;try{let _0x3f74ea=await ve[_0xcce124(0x4cd)]();if(!_0x3f74ea)return _0x46e277['json']({});_0x46e277[_0xcce124(0x70a)](_0x3f74ea);}catch(_0x43859e){_0x46e277['status'](0x1f4)[_0xcce124(0x258)](_0x43859e[_0xcce124(0x7d2)]);}})[a0_0x13c462(0x219)]('/instance',new bt(S,...ie)['router'])[a0_0x13c462(0x219)](a0_0x13c462(0x67b),new Tt(...ie)[a0_0x13c462(0x3ac)])[a0_0x13c462(0x219)](a0_0x13c462(0x3ab),new lt(...ie)[a0_0x13c462(0x3ac)])[a0_0x13c462(0x219)](a0_0x13c462(0x627),new yt(...ie)[a0_0x13c462(0x3ac)])['use'](a0_0x13c462(0x566),new _t(...ie)[a0_0x13c462(0x3ac)])[a0_0x13c462(0x219)]('/automate',new Ot(...ie)[a0_0x13c462(0x3ac)]);var m=class{constructor(..._0x51ba1e){const _0x52904a=a0_0x13c462;throw{'status':0x190,'error':_0x52904a(0x6ff),'message':_0x51ba1e[_0x52904a(0x1d3)]>0x0?_0x51ba1e:void 0x0};}},se=class{constructor(..._0xdff9b6){const _0x568f10=a0_0x13c462;throw{'status':0x191,'error':_0x568f10(0x661),'message':_0xdff9b6['length']>0x0?_0xdff9b6:void 0x0};}},X=class{constructor(..._0x37679e){const _0x4a02ad=a0_0x13c462;throw{'status':0x193,'error':_0x4a02ad(0x726),'message':_0x37679e[_0x4a02ad(0x1d3)]>0x0?_0x37679e:void 0x0};}},U=class{constructor(..._0x39afdc){const _0x1ad84d=a0_0x13c462;throw{'status':0x194,'error':_0x1ad84d(0x837),'message':_0x39afdc[_0x1ad84d(0x1d3)]>0x0?_0x39afdc:void 0x0};}},x=class{constructor(..._0x1e0fdf){const _0x15176a=a0_0x13c462;throw{'status':0x1f4,'error':_0x15176a(0x3e9),'message':_0x1e0fdf[_0x15176a(0x1d3)]>0x0?_0x1e0fdf:void 0x0};}},fe=require('@whiskeysockets/baileys');async function _s(_0x4daa73){const _0xf76d4a=a0_0x13c462;let _0x511e64=new $(_s[_0xf76d4a(0x42b)]),_0xe4d2ea=T[_0xf76d4a(0x4c2)](),_0x1f4475=_0xe4d2ea['db'](S[_0xf76d4a(0x6a5)](_0xf76d4a(0x169))[_0xf76d4a(0x6c8)]['DB_PREFIX_NAME']+'-instances')[_0xf76d4a(0x7a4)](_0x4daa73),_0x5d76b5=async(_0x3ae4b8,_0x273c28)=>{const _0x42c583=_0xf76d4a;try{return await _0xe4d2ea[_0x42c583(0x7e5)](),await _0x1f4475[_0x42c583(0x404)]({'_id':_0x273c28},JSON['parse'](JSON['stringify'](_0x3ae4b8,fe[_0x42c583(0x158)]['replacer'])),{'upsert':!0x0});}catch{}},_0x3e17bc=async _0x477344=>{const _0x838b81=_0xf76d4a;try{await _0xe4d2ea[_0x838b81(0x7e5)]();let _0x5e0e03=await _0x1f4475[_0x838b81(0x4cd)]({'_id':_0x477344}),_0x5e0e86=JSON[_0x838b81(0x524)](_0x5e0e03);return JSON[_0x838b81(0x5a1)](_0x5e0e86,fe[_0x838b81(0x158)][_0x838b81(0x54e)]);}catch{}},_0x44e17b=async _0x4dab29=>{const _0xbc03a5=_0xf76d4a;try{return await _0xe4d2ea[_0xbc03a5(0x7e5)](),await _0x1f4475[_0xbc03a5(0x87c)]({'_id':_0x4dab29});}catch{}},_0xfc32cf=await _0x3e17bc(_0xf76d4a(0x5d8))||(0x0,fe['initAuthCreds'])();return{'state':{'creds':_0xfc32cf,'keys':{'get':async(_0xd1a938,_0x1ddedc)=>{let _0x5e6e43={};return await Promise['all'](_0x1ddedc['map'](async _0x2c25d9=>{const _0x55d093=a0_0x1c5b;let _0x752484=await _0x3e17bc(_0xd1a938+'-'+_0x2c25d9);_0xd1a938===_0x55d093(0x538)&&_0x752484&&(_0x752484=fe[_0x55d093(0x33c)][_0x55d093(0x78b)][_0x55d093(0x767)][_0x55d093(0x75c)](_0x752484)),_0x5e6e43[_0x2c25d9]=_0x752484;})),_0x5e6e43;},'set':async _0x26b698=>{const _0x36e695=_0xf76d4a;let _0x4f51f1=[];for(let _0x198412 in _0x26b698)for(let _0x5f12b4 in _0x26b698[_0x198412]){let _0x419501=_0x26b698[_0x198412][_0x5f12b4],_0x13a395=_0x198412+'-'+_0x5f12b4;_0x4f51f1[_0x36e695(0x438)](_0x419501?_0x5d76b5(_0x419501,_0x13a395):_0x44e17b(_0x13a395));}await Promise[_0x36e695(0x77a)](_0x4f51f1);}}},'saveCreds':async()=>_0x5d76b5(_0xfc32cf,_0xf76d4a(0x5d8))};}var Ls=I(require(a0_0x13c462(0x4f0))),Fs=I(require(a0_0x13c462(0x146))),kt=require(a0_0x13c462(0x17f)),vi=require('@redis/client'),Dt=require(a0_0x13c462(0x17f)),Pt;function Po(_0x546a62){const _0x276f5e=a0_0x13c462;return Pt||(Pt=(0x0,vi[_0x276f5e(0x28e)])({'url':_0x546a62[_0x276f5e(0x7eb)]}),Pt['connect']()),Pt;}var ue=class u{constructor(_0x3ee051,_0x5d5546){const _0x48e11b=a0_0x13c462;this[_0x48e11b(0x27c)]=_0x3ee051,this[_0x48e11b(0x586)]=_0x5d5546,this[_0x48e11b(0x7de)]=new $(u[_0x48e11b(0x42b)]),this[_0x48e11b(0x155)]=Po(_0x3ee051);}set[a0_0x13c462(0x889)](_0x45dddc){const _0x58edf7=a0_0x13c462;this[_0x58edf7(0x586)]=_0x45dddc;}async[a0_0x13c462(0x65c)](){const _0x4aa145=a0_0x13c462;try{return await this[_0x4aa145(0x155)][_0x4aa145(0x2cf)]([_0x4aa145(0x750),this[_0x4aa145(0x27c)][_0x4aa145(0x5b2)]+':*']);}catch(_0x538e3f){this[_0x4aa145(0x7de)]['error'](_0x538e3f);}}async[a0_0x13c462(0x5c8)](_0x8a208d,_0x1afade){const _0x504cbe=a0_0x13c462;try{let _0x936760=JSON[_0x504cbe(0x524)](_0x1afade,Dt['BufferJSON'][_0x504cbe(0x64e)]);return await this[_0x504cbe(0x155)][_0x504cbe(0x600)](this[_0x504cbe(0x27c)][_0x504cbe(0x5b2)]+':'+this['instanceName'],_0x8a208d,_0x936760);}catch(_0x5579f3){this['logger'][_0x504cbe(0x873)](_0x5579f3);}}async[a0_0x13c462(0x799)](){const _0x330c83=a0_0x13c462;try{let _0x2d53c1=await this[_0x330c83(0x155)][_0x330c83(0x157)](this['redisEnv'][_0x330c83(0x5b2)]+':'+this[_0x330c83(0x586)]);if(_0x2d53c1){for(let _0x31d85c in _0x2d53c1)Object[_0x330c83(0x153)][_0x330c83(0x5d5)][_0x330c83(0x2d9)](_0x2d53c1,_0x31d85c)&&(_0x2d53c1[_0x31d85c]=JSON[_0x330c83(0x5a1)](_0x2d53c1[_0x31d85c],Dt[_0x330c83(0x158)][_0x330c83(0x54e)]));return _0x2d53c1;}}catch(_0x501f52){this['logger']['error'](_0x501f52);}}async[a0_0x13c462(0x64b)](_0x5a6a80){const _0x1acab6=a0_0x13c462;try{let _0xe4afce=await this[_0x1acab6(0x155)][_0x1acab6(0x1cb)](this[_0x1acab6(0x27c)][_0x1acab6(0x5b2)]+':'+this[_0x1acab6(0x586)],_0x5a6a80);if(_0xe4afce)return JSON[_0x1acab6(0x5a1)](_0xe4afce,Dt['BufferJSON']['reviver']);}catch(_0x4762cf){this[_0x1acab6(0x7de)][_0x1acab6(0x873)](_0x4762cf);}}async[a0_0x13c462(0x72f)](_0x566f04){const _0x463c40=a0_0x13c462;try{return await this[_0x463c40(0x155)][_0x463c40(0x3e5)](this['redisEnv'][_0x463c40(0x5b2)]+':'+this[_0x463c40(0x586)],_0x566f04);}catch(_0x10b265){this[_0x463c40(0x7de)][_0x463c40(0x873)](_0x10b265);}}async[a0_0x13c462(0x8c3)](_0x4642ae){const _0x2445fc=a0_0x13c462;try{return await this[_0x2445fc(0x155)][_0x2445fc(0x3d2)](_0x4642ae||this['redisEnv'][_0x2445fc(0x5b2)]+':'+this[_0x2445fc(0x586)]);}catch(_0x387c31){this[_0x2445fc(0x7de)]['error'](_0x387c31);}}};async function Os(_0x532ad4,_0x55b081){const _0x24c901=a0_0x13c462;let _0xeb34e8=new $(Os['name']),_0x55d6f3=new ue(_0x532ad4,_0x55b081),_0x58cb75=async(_0x1bee0c,_0x3af564)=>{const _0x46f2a9=a0_0x1c5b;try{return await _0x55d6f3['writeData'](_0x3af564,_0x1bee0c);}catch(_0x6e3872){return _0xeb34e8[_0x46f2a9(0x873)]({'localError':_0x46f2a9(0x5c8),'error':_0x6e3872});}},_0x26db80=async _0x5352fc=>{const _0x295f34=a0_0x1c5b;try{return await _0x55d6f3[_0x295f34(0x64b)](_0x5352fc);}catch(_0x4cdcbe){_0xeb34e8[_0x295f34(0x873)]({'readData':_0x295f34(0x5c8),'error':_0x4cdcbe});return;}},_0x62cf4d=async _0x3e7f0d=>{const _0x1fca16=a0_0x1c5b;try{return await _0x55d6f3[_0x1fca16(0x72f)](_0x3e7f0d);}catch(_0x4c2a32){_0xeb34e8[_0x1fca16(0x873)]({'readData':_0x1fca16(0x72f),'error':_0x4c2a32});}},_0x59bab5=await _0x26db80('creds')||(0x0,kt[_0x24c901(0x741)])();return{'state':{'creds':_0x59bab5,'keys':{'get':async(_0x94d657,_0x76a300)=>{const _0x20fed2=_0x24c901;let _0x191be4={};return await Promise[_0x20fed2(0x77a)](_0x76a300[_0x20fed2(0x4c1)](async _0x4cc4db=>{const _0x3e411e=_0x20fed2;let _0x353e30=await _0x26db80(_0x94d657+'-'+_0x4cc4db);_0x94d657===_0x3e411e(0x538)&&_0x353e30&&(_0x353e30=kt['proto'][_0x3e411e(0x78b)][_0x3e411e(0x767)][_0x3e411e(0x75c)](_0x353e30)),_0x191be4[_0x4cc4db]=_0x353e30;})),_0x191be4;},'set':async _0x5313c5=>{const _0x2e38a9=_0x24c901;let _0x257c2b=[];for(let _0x4c7815 in _0x5313c5)for(let _0x18a54d in _0x5313c5[_0x4c7815]){let _0x477d3d=_0x5313c5[_0x4c7815][_0x18a54d],_0x48dacf=_0x4c7815+'-'+_0x18a54d;_0x257c2b[_0x2e38a9(0x438)](_0x477d3d?await _0x58cb75(_0x477d3d,_0x48dacf):await _0x62cf4d(_0x48dacf));}await Promise['all'](_0x257c2b);}}},'saveCreds':async()=>await _0x58cb75(_0x59bab5,_0x24c901(0x5d8))};}var k=I(require('fs')),Q=require(a0_0x13c462(0x587)),Ut=I(require(a0_0x13c462(0x77f))),oe=require(a0_0x13c462(0x838)),Ei=require(a0_0x13c462(0x6ea)),Ni=require(a0_0x13c462(0x1bd)),$i=I(require(a0_0x13c462(0x523))),Ee=class extends O{constructor(_0x178d74,_0x5a7024,_0x25c37a){const _0x5daaa7=a0_0x13c462;super(_0x5a7024),this[_0x5daaa7(0x3f0)]=_0x178d74,this[_0x5daaa7(0x310)]=_0x5a7024,this[_0x5daaa7(0x4d7)]=_0x25c37a;}async['createOrUpdate'](_0x3d76b3,_0x1056df){const _0x1d5264=a0_0x13c462;try{if(this[_0x1d5264(0x3cd)]['ENABLED']){console[_0x1d5264(0x253)](_0x1d5264(0x8c6)+_0x1056df+_0x1d5264(0x4bc),_0x3d76b3);let _0x3481f5=await this[_0x1d5264(0x3f0)][_0x1d5264(0x651)]({'_id':_0x1056df},{'$set':_0x3d76b3},{'new':!0x0,'upsert':!0x0});return console[_0x1d5264(0x253)](_0x1d5264(0x6ca),_0x3481f5),_0x3481f5;}}catch(_0xe61165){throw console[_0x1d5264(0x873)](_0x1d5264(0x188),_0xe61165),_0xe61165;}return null;}async[a0_0x13c462(0x87c)](_0x434216){const _0x58cf33=a0_0x13c462;try{let _0x2660dc=A(_0x434216[_0x58cf33(0x577)]);return{'deletedCount':(await this[_0x58cf33(0x3f0)][_0x58cf33(0x87c)](_0x2660dc))[_0x58cf33(0x7f8)]};}catch(_0x34d866){return{'error':_0x34d866?.[_0x58cf33(0x2ba)]()};}}async['findOne'](_0x2d8edb){const _0x48fd70=a0_0x13c462;try{let _0x1d826f=A(_0x2d8edb[_0x48fd70(0x577)]);return await this[_0x48fd70(0x3f0)]['findOne'](_0x1d826f)[_0x48fd70(0x4fc)]();}catch{return null;}}},Ne=(0x0,Ni[a0_0x13c462(0x198)])(Ei[a0_0x13c462(0x339)]),xs=0x1f4,Do=S[a0_0x13c462(0x6a5)]('PROXY'),Ps=class{constructor(){const _0x5a4781=a0_0x13c462;this[_0x5a4781(0x6db)]=new Ee(We,S),(!this['ipv6Prefix']||!this[_0x5a4781(0x6a6)])&&Do&&this['detectIPv6PrefixAndInterface']()[_0x5a4781(0x626)](async()=>{const _0x260848=_0x5a4781;console[_0x260848(0x253)](_0x260848(0x76f)+this[_0x260848(0x17a)]),console[_0x260848(0x253)]('Network\x20Interface\x20detected:\x20'+this['networkInterface']),await this[_0x260848(0x3f5)]();let _0x20ebd5=await this[_0x260848(0x18f)]();console['log'](_0x260848(0x319)+_0x20ebd5);})[_0x5a4781(0x736)](_0x2ea033=>{const _0x72b304=_0x5a4781;console[_0x72b304(0x873)](_0x72b304(0x5a7)+_0x2ea033[_0x72b304(0x7d2)]);});}async[a0_0x13c462(0x3f5)](){const _0x4a60d4=a0_0x13c462;let _0x43a659=await this['listIPv6Addresses']();if(console[_0x4a60d4(0x253)](_0x4a60d4(0x62f)+_0x43a659['length']),_0x43a659['length']>xs){let _0x365632=_0x43a659['slice'](xs);for(let _0x5659e1 of _0x365632)console[_0x4a60d4(0x253)](_0x4a60d4(0x5ce)+_0x5659e1),await this[_0x4a60d4(0x355)](_0x5659e1);console[_0x4a60d4(0x253)]('Removed\x20'+_0x365632[_0x4a60d4(0x1d3)]+_0x4a60d4(0x739));}else console['log'](_0x4a60d4(0x432));}async[a0_0x13c462(0x79b)](){const _0xc872e=a0_0x13c462;try{let {stdout:_0x1ed6e0}=await Ne(_0xc872e(0x72e));return _0x1ed6e0[_0xc872e(0x4ca)]('\x0a')[_0xc872e(0x843)](_0x4d4063=>_0x4d4063[_0xc872e(0x50c)](_0xc872e(0x821))&&_0x4d4063[_0xc872e(0x50c)]('global'))[_0xc872e(0x4c1)](_0x1effdf=>_0x1effdf[_0xc872e(0x423)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0xc872e(0x843)](Boolean);}catch(_0x4aa481){return console[_0xc872e(0x873)](_0xc872e(0x86e)+_0x4aa481['message']),[];}}async['countIPv6Addresses'](){const _0x4b62c5=a0_0x13c462;try{let {stdout:_0x26f995}=await Ne('ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6'),_0x1cdc99=parseInt(_0x26f995[_0x4b62c5(0x707)](),0xa);return console['log']('Total\x20de\x20endereços\x20IPv6\x20globais:\x20'+_0x1cdc99),_0x1cdc99;}catch(_0x47474e){return console[_0x4b62c5(0x873)](_0x4b62c5(0x29d)+_0x47474e[_0x4b62c5(0x7d2)]),0x0;}}async[a0_0x13c462(0x355)](_0x519cc8){const _0x20591f=a0_0x13c462;try{await Ne(_0x20591f(0x7e4)+_0x519cc8+_0x20591f(0x463)+this[_0x20591f(0x6a6)]),console[_0x20591f(0x253)](_0x20591f(0x190)+_0x519cc8);}catch(_0x35d681){console[_0x20591f(0x873)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x35d681[_0x20591f(0x7d2)]);}}async[a0_0x13c462(0x54b)](){const _0x580f2a=a0_0x13c462;try{let {stdout:_0x2f9438}=await Ne('ip\x20-br\x20link\x20show');console['log'](_0x580f2a(0x23c)+_0x2f9438);let _0x51df54=_0x2f9438['split']('\x0a')[_0x580f2a(0x4c1)](_0x2e47b8=>_0x2e47b8[_0x580f2a(0x4ca)]('\x20')[0x0])[_0x580f2a(0x843)](_0x4f5b8d=>!_0x4f5b8d['includes']('lo')&&!_0x4f5b8d[_0x580f2a(0x50c)](_0x580f2a(0x5b7))&&!_0x4f5b8d[_0x580f2a(0x50c)]('vir')&&!_0x4f5b8d[_0x580f2a(0x50c)]('wl')&&!_0x4f5b8d[_0x580f2a(0x50c)]('@'));if(console[_0x580f2a(0x253)](_0x580f2a(0x833)+_0x51df54),_0x51df54['length']===0x0)throw new Error(_0x580f2a(0x730));this[_0x580f2a(0x6a6)]=_0x51df54[0x0];let {stdout:_0x5d89da}=await Ne(_0x580f2a(0x6a2)+this['networkInterface']);console[_0x580f2a(0x253)](_0x580f2a(0x357)+_0x5d89da);let _0x162ef0=_0x5d89da['split']('\x0a')[_0x580f2a(0x88b)](_0x12cf98=>_0x12cf98[_0x580f2a(0x50c)]('inet6')&&_0x12cf98[_0x580f2a(0x50c)](_0x580f2a(0x2dc)));if(!_0x162ef0)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x4e0ac2=_0x162ef0[_0x580f2a(0x423)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4e0ac2)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x3518e9,_0x399adb,_0x41e222]=_0x4e0ac2,_0x38bb91=Math[_0x580f2a(0x546)](Number(_0x41e222)/0x10),_0x2aabf0=Number(_0x41e222)%0x10,_0x585582=_0x399adb[_0x580f2a(0x4ca)](':')[_0x580f2a(0x894)](0x0,_0x38bb91)[_0x580f2a(0x65f)](':');if(_0x2aabf0>0x0){let _0x8a37cd=_0x399adb[_0x580f2a(0x4ca)](':')[_0x38bb91],_0xc675e0=0xffff<<0x10-_0x2aabf0&0xffff,_0x144278=(parseInt(_0x8a37cd,0x10)&_0xc675e0)[_0x580f2a(0x2ba)](0x10)[_0x580f2a(0x6b2)](0x4,'0');_0x585582+=':'+_0x144278;}this[_0x580f2a(0x17a)]=_0x585582+':';}catch(_0xe72a8d){console['error']('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0xe72a8d);}}async[a0_0x13c462(0x6f2)](_0x538c54){const _0x4b5bcb=a0_0x13c462;let _0x20a5dd=_0x4b5bcb(0x39a)+_0x538c54+_0x4b5bcb(0x463)+this[_0x4b5bcb(0x6a6)];try{await Ne(_0x20a5dd),console['log']('IPv6\x20address\x20configured:\x20'+_0x538c54);}catch(_0x158c5e){console[_0x4b5bcb(0x873)](_0x4b5bcb(0x4b0)+_0x158c5e);}}[a0_0x13c462(0x550)](){const _0x44182b=a0_0x13c462;return'XX:XX:XX:XX:XX:XX'[_0x44182b(0x445)](/X/g,()=>_0x44182b(0x3db)[_0x44182b(0x5bb)](Math['floor'](Math[_0x44182b(0x6f0)]()*0x10)));}[a0_0x13c462(0x4d5)](_0x4b0989,_0x3a7b02){const _0x3fb599=a0_0x13c462;let _0xdbd35b=_0x3a7b02[_0x3fb599(0x4ca)](':');return _0xdbd35b[0x0]=(parseInt(_0xdbd35b[0x0],0x10)^0x2)['toString'](0x10)[_0x3fb599(0x6b2)](0x2,'0'),''+_0x4b0989+_0xdbd35b[0x0]+_0xdbd35b[0x1]+':'+_0xdbd35b[0x2]+'ff:fe'+_0xdbd35b[0x3]+':'+_0xdbd35b[0x4]+_0xdbd35b[0x5];}[a0_0x13c462(0x722)](){const _0x5b6587=a0_0x13c462;let _0x17e045=this[_0x5b6587(0x17a)];_0x17e045[_0x5b6587(0x682)](':')||(_0x17e045+=':');let _0x5b3bb2=this['randomMac']();return this['ip6eui'](_0x17e045,_0x5b3bb2);}[a0_0x13c462(0x183)](_0x40d7c4){const _0x3543ac=a0_0x13c462;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x3543ac(0x804)](_0x40d7c4);}async['testIPv6'](_0x44f3d2){const _0x13c6c2=a0_0x13c462;let _0x31d35f=[{'url':_0x13c6c2(0x464),'parse':_0x119330=>_0x119330['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0xb18cfa=>_0xb18cfa['ip']},{'url':_0x13c6c2(0x533),'parse':_0x5bd62e=>_0x5bd62e[_0x13c6c2(0x707)]()},{'url':'https://v6.ident.me','parse':_0x28c022=>_0x28c022[_0x13c6c2(0x707)]()}],_0x4c03ca=_0x31d35f[Math[_0x13c6c2(0x546)](Math[_0x13c6c2(0x6f0)]()*_0x31d35f[_0x13c6c2(0x1d3)])];try{let _0x34a6ca=await $i['default'][_0x13c6c2(0x6a5)](_0x4c03ca[_0x13c6c2(0x74d)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x44f3d2}}),_0x5a9715=_0x4c03ca[_0x13c6c2(0x5a1)](_0x34a6ca[_0x13c6c2(0x4a7)]);return _0x5a9715[_0x13c6c2(0x7dc)]()===_0x44f3d2[_0x13c6c2(0x7dc)]()?(console['log'](_0x13c6c2(0x58f)+_0x44f3d2),!0x0):(console[_0x13c6c2(0x873)]('IP\x20mismatch:\x20configured\x20'+_0x44f3d2+_0x13c6c2(0x264)+_0x5a9715),!0x1);}catch(_0x461894){return console[_0x13c6c2(0x873)](_0x13c6c2(0x532)+_0x4c03ca['url']+':\x20'+_0x461894[_0x13c6c2(0x7d2)]),!0x1;}}async[a0_0x13c462(0x79e)](_0x587a5a,_0x5cc903){const _0x107667=a0_0x13c462;if(!this[_0x107667(0x17a)]||!this[_0x107667(0x6a6)])return console[_0x107667(0x873)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x136baf=await this[_0x107667(0x79b)]();if(_0x136baf[_0x107667(0x1d3)]>=xs){let _0x35efaf=_0x136baf[Math[_0x107667(0x546)](Math[_0x107667(0x6f0)]()*_0x136baf['length'])];return console[_0x107667(0x253)](_0x107667(0x40d)+_0x35efaf),_0x35efaf;}let _0x170893;do _0x170893=this['generateRandomIPv6'](),console['log']('Generated\x20IPv6:\x20'+_0x170893);while(!this['isValidIPv6Config'](_0x170893));await this[_0x107667(0x6f2)](_0x170893),console[_0x107667(0x253)]('Configured\x20new\x20IPv6:\x20'+_0x170893);let _0x3af424={'_id':_0x587a5a+'-'+_0x5cc903,'ip':_0x170893},_0x4d8671=await this[_0x107667(0x6db)][_0x107667(0x1db)](_0x3af424,_0x3af424[_0x107667(0x882)]);return console[_0x107667(0x253)]('Cache\x20instance\x20update\x20result:\x20'+_0x4d8671),_0x170893;}},ko=new Ps(),Le=ko,Us=a0_0x13c462(0x738),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S['get']('AUTHENTICATION')['API_KEY'][a0_0x13c462(0x74e)],Ai=S[a0_0x13c462(0x6a5)](a0_0x13c462(0x774));async function Uo(){const _0x34b450=a0_0x13c462;let _0x6809c9=await ve['findOne']();de=_0x6809c9?.[_0x34b450(0x2ae)]??null,Fo=_0x6809c9?.[_0x34b450(0x4cf)]??null,Us=_0x6809c9?.[_0x34b450(0x808)]??_0x34b450(0x738),xi=_0x6809c9?.[_0x34b450(0x7cd)]??he??_0x34b450(0x76a);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x26ed74,_0x452d89,_0x285dab){const _0xe79482=a0_0x13c462;this[_0xe79482(0x310)]=_0x26ed74,this[_0xe79482(0x437)]=_0x452d89,this[_0xe79482(0x59e)]=_0x285dab,this['processedMessagesCache']={},this[_0xe79482(0x1cf)]=null,this[_0xe79482(0x7de)]=new $(u['name']),this[_0xe79482(0x1c1)]={},this[_0xe79482(0x58a)]={},this[_0xe79482(0x69c)]={'state':_0xe79482(0x49b)},this[_0xe79482(0x624)]=(0x0,j[_0xe79482(0x65f)])(ne,_0xe79482(0x28b)),this[_0xe79482(0x62b)]=new Fs[(_0xe79482(0x6bc))](),this[_0xe79482(0x40b)]=new Fs['default'](),this[_0xe79482(0x787)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':'/wa-connection-update','qrcode.updated':_0xe79482(0x521),'messages.upsert':_0xe79482(0x8cb),'send.message':_0xe79482(0x8cb),'messages.update':_0xe79482(0x33a),'group.upsert':_0xe79482(0x2f4),'group.update':_0xe79482(0x2f4),'group-participants.update':'/wa-groups','messages.set':_0xe79482(0x717),'contacts.set':_0xe79482(0x58d),'contacts.upsert':_0xe79482(0x58d),'contacts.update':'/wa-contacts','presence.update':_0xe79482(0x2e5),'chats.set':'/wa-chats','chats.update':_0xe79482(0x841),'chats.upsert':_0xe79482(0x841),'chats.delete':_0xe79482(0x841)},this[_0xe79482(0x688)]=0x0,this['reconnectTimestamps']=[],this['RECONNECT_TIME_FRAME']=0xea60,this[_0xe79482(0x35e)]=!0x1,this[_0xe79482(0x46f)]={'chats.upsert':async(_0x2bfda3,_0x12097d)=>{const _0x465c2e=_0xe79482;let _0x1bb774=[];for await(let _0x117d43 of _0x2bfda3)_0x1bb774['push']({'_id':_0x117d43['id'],'owner':this[_0x465c2e(0x1c1)][_0x465c2e(0x360)],'group':_0x117d43['id'][_0x465c2e(0x682)](_0x465c2e(0x3c4)),'name':_0x117d43[_0x465c2e(0x42b)]||_0x117d43[_0x465c2e(0x515)]||null,'contactname':null,'lastmsg':_0x117d43[_0x465c2e(0x5f6)]&&_0x117d43[_0x465c2e(0x5f6)]['toString']()[_0x465c2e(0x1d3)]<0xd?_0x117d43['conversationTimestamp']*0x3e8:_0x117d43['conversationTimestamp']||null,'archived':_0x117d43[_0x465c2e(0x44d)]||!0x1,'unreadcount':_0x117d43['unreadCount']||0x0,'ephemeralExpiration':_0x117d43[_0x465c2e(0x59c)]||0x0});this[_0x465c2e(0x38e)]('chats.upsert',_0x1bb774);},'chats.update':async(_0x11206b,_0x569c01)=>{const _0xd0fa55=_0xe79482;for(let _0x575859 of _0x11206b){let _0x8aa29={'_id':_0x575859['id'],'owner':this['instance'][_0xd0fa55(0x360)],'archived':_0x575859['archived'],'muteEndTime':_0x575859[_0xd0fa55(0x1b2)],'ephemeralExpiration':_0x575859[_0xd0fa55(0x59c)]},_0x3e90c3=!0x1,_0x4372bb={};_0x8aa29[_0xd0fa55(0x44d)]!=null&&(this[_0xd0fa55(0x7de)]['verbose'](this[_0xd0fa55(0x586)]+'\x20('+this[_0xd0fa55(0x1c1)][_0xd0fa55(0x360)]+_0xd0fa55(0x574)+_0x575859['id']+'\x20:\x20'+_0x575859[_0xd0fa55(0x44d)]),_0x3e90c3=!0x0,_0x4372bb[_0xd0fa55(0x44d)]=_0x575859['archived']),_0xd0fa55(0x1b2)in _0x575859&&(this[_0xd0fa55(0x7de)][_0xd0fa55(0x3c2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd0fa55(0x14d)+_0x575859['id']+_0xd0fa55(0x144)+(_0x575859[_0xd0fa55(0x1b2)]??'0')),_0x3e90c3=!0x0,_0x4372bb[_0xd0fa55(0x1b2)]=_0x575859[_0xd0fa55(0x1b2)]??0x0),'ephemeralExpiration'in _0x575859&&(this[_0xd0fa55(0x7de)][_0xd0fa55(0x3c2)](this[_0xd0fa55(0x586)]+'\x20('+this[_0xd0fa55(0x1c1)][_0xd0fa55(0x360)]+_0xd0fa55(0x73d)+_0x575859['id']+_0xd0fa55(0x144)+(_0x575859['ephemeralExpiration']!==void 0x0?_0x575859['ephemeralExpiration']:_0xd0fa55(0x762))),_0x4372bb[_0xd0fa55(0x59c)]=_0x575859['ephemeralExpiration']===null?0x0:_0x575859[_0xd0fa55(0x59c)],_0x3e90c3=!0x0);let _0x31fe87;_0x3e90c3&&(_0x31fe87=await this[_0xd0fa55(0x59e)][_0xd0fa55(0x696)][_0xd0fa55(0x176)]({'where':{'_id':_0x575859['id']}},_0x4372bb,this['instance'][_0xd0fa55(0x360)])),_0x31fe87&&F(this['instanceName'],_0xd0fa55(0x6ce),{'chat':_0x31fe87});}},'chats.delete':async _0x137989=>{const _0x15c63d=_0xe79482;for(let _0x299f79 of _0x137989)if(_0x299f79[_0x15c63d(0x682)](_0x15c63d(0x3c4))){await this[_0x15c63d(0x59e)][_0x15c63d(0x696)][_0x15c63d(0x634)]({'where':{'_id':_0x299f79}},this[_0x15c63d(0x1c1)][_0x15c63d(0x360)]);let _0x49a956={'where':{'key':{'remoteJid':_0x299f79}}};await this[_0x15c63d(0x59e)][_0x15c63d(0x7d2)][_0x15c63d(0x634)](_0x49a956,this['instance'][_0x15c63d(0x360)]);}else{await this[_0x15c63d(0x59e)][_0x15c63d(0x696)]['updateOne']({'where':{'_id':_0x299f79}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x15c63d(0x1c1)][_0x15c63d(0x360)]);let _0x4f1c0e={'where':{'key':{'remoteJid':_0x299f79}}};await this['repository'][_0x15c63d(0x7d2)]['delete'](_0x4f1c0e,this[_0x15c63d(0x1c1)][_0x15c63d(0x360)]);}this[_0x15c63d(0x38e)]('chats.delete',[..._0x137989]);}},this['contactHandle']={'contacts.upsert':async(_0x1d3b9a,_0x68f81c)=>{const _0x2d0772=_0xe79482;let _0x2df25a=await this[_0x2d0772(0x59e)][_0x2d0772(0x70f)][_0x2d0772(0x88b)]({'where':{}},this[_0x2d0772(0x1c1)][_0x2d0772(0x360)]),_0x1a763d=[];for await(let _0x50e1a8 of _0x1d3b9a)_0x2df25a[_0x2d0772(0x88b)](_0x3cf7b2=>_0x3cf7b2[_0x2d0772(0x882)]===_0x50e1a8['id'])||_0x1a763d[_0x2d0772(0x438)]({'_id':_0x50e1a8['id'],'pushName':_0x50e1a8?.[_0x2d0772(0x42b)]||_0x50e1a8?.['verifiedName'],'owner':this[_0x2d0772(0x1c1)][_0x2d0772(0x360)]});this['sendDataWebhook'](_0x2d0772(0x16d),_0x1a763d),await this[_0x2d0772(0x59e)]['contact'][_0x2d0772(0x7d5)](_0x1a763d);},'contacts.update':async(_0x3c5d24,_0x33f3f2)=>{const _0x23ddce=_0xe79482;let _0x37c9ba=[];for await(let _0x3c332d of _0x3c5d24)_0x37c9ba[_0x23ddce(0x438)]({'_id':_0x3c332d['id'],'pushName':_0x3c332d?.[_0x23ddce(0x42b)]??_0x3c332d?.[_0x23ddce(0x13d)],'owner':this['instance'][_0x23ddce(0x360)]});this[_0x23ddce(0x38e)]('contacts.update',_0x37c9ba);}},this[_0xe79482(0x859)]={'messaging-history.set':async({messages:_0x5ad92a,chats:_0x269c0b,isLatest:_0x2c7438},_0x2f8ddc)=>{const _0x3883ea=_0xe79482;if(_0x2c7438){setTimeout(()=>{const _0xd16923=a0_0x1c5b;this[_0xd16923(0x1c1)]['HistoryProcessed']=!0x0,console[_0xd16923(0x253)](_0xd16923(0x493));},0x1d4c0);let _0x311c86=await Promise[_0x3883ea(0x77a)](_0x269c0b['map'](async _0x51c3e1=>({'_id':_0x51c3e1['id'],'owner':this[_0x3883ea(0x1c1)]['wuid'],'group':_0x51c3e1['id'][_0x3883ea(0x682)](_0x3883ea(0x3c4)),'name':_0x51c3e1[_0x3883ea(0x42b)]||_0x51c3e1[_0x3883ea(0x515)]||_0x51c3e1[_0x3883ea(0x1f4)]||null,'contactname':null,'lastmsg':_0x51c3e1['conversationTimestamp']&&_0x51c3e1[_0x3883ea(0x5f6)][_0x3883ea(0x2ba)]()[_0x3883ea(0x1d3)]<0xd?_0x51c3e1[_0x3883ea(0x5f6)]*0x3e8:_0x51c3e1[_0x3883ea(0x5f6)]||null,'archived':_0x51c3e1[_0x3883ea(0x44d)]||!0x1,'unreadcount':_0x51c3e1['unreadCount']||0x0,'ephemeralExpiration':_0x51c3e1[_0x3883ea(0x59c)]||0x0,'muteEndTime':_0x51c3e1[_0x3883ea(0x1b2)]||0x0})));this[_0x3883ea(0x38e)](_0x3883ea(0x3ea),_0x311c86),await this[_0x3883ea(0x34f)](_0x311c86,_0x2f8ddc);}let _0x286151=[],_0x1372aa=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4f6a30]of Object['entries'](_0x5ad92a)){if(_0x4f6a30[_0x3883ea(0x7d2)]?.[_0x3883ea(0x297)]||_0x4f6a30[_0x3883ea(0x7d2)]?.['senderKeyDistributionMessage']||!_0x4f6a30[_0x3883ea(0x7d2)]||_0x4f6a30[_0x3883ea(0x733)][_0x3883ea(0x3aa)]===_0x3883ea(0x399)||(Ls[_0x3883ea(0x6bc)][_0x3883ea(0x676)](_0x4f6a30?.[_0x3883ea(0x32d)])&&(_0x4f6a30['messageTimestamp']=_0x4f6a30['messageTimestamp']?.['toNumber']()),_0x4f6a30[_0x3883ea(0x32d)]&&_0x4f6a30['messageTimestamp'][_0x3883ea(0x2ba)]()[_0x3883ea(0x1d3)]<0xd&&(_0x4f6a30[_0x3883ea(0x32d)]=_0x4f6a30['messageTimestamp']*0x3e8),_0x4f6a30['messageTimestamp']<_0x1372aa))continue;let _0x1bd569=(0x0,w[_0x3883ea(0x3e1)])(_0x4f6a30[_0x3883ea(0x7d2)]),_0x2eb0bd=(0x0,w[_0x3883ea(0x82c)])(_0x1bd569),{message_normalized:_0x388d55}=this[_0x3883ea(0x325)](_0x1bd569,_0x2eb0bd,null);Object[_0x3883ea(0x750)](_0x388d55)[_0x3883ea(0x1d3)]>0x0&&_0x286151[_0x3883ea(0x438)]({'_id':_0x4f6a30[_0x3883ea(0x733)]['id'],'key':_0x4f6a30[_0x3883ea(0x733)],'pushName':_0x4f6a30[_0x3883ea(0x39b)],'participant':_0x4f6a30[_0x3883ea(0x480)],'message':_0x1bd569,'messageType':_0x2eb0bd,'message_normalized':{'key':_0x4f6a30[_0x3883ea(0x733)],'pushName':_0x4f6a30['pushName'],'messageTimestamp':_0x4f6a30[_0x3883ea(0x32d)],..._0x388d55},'messageTimestamp':_0x4f6a30['messageTimestamp'],'owner':this[_0x3883ea(0x1c1)][_0x3883ea(0x360)]});}_0x2f8ddc['ENABLED']&&_0x286151[_0x3883ea(0x1d3)]>0x0&&(this[_0x3883ea(0x7de)][_0x3883ea(0x3c2)](this[_0x3883ea(0x586)]+'\x20('+this[_0x3883ea(0x1c1)]['wuid']+_0x3883ea(0x351)+_0x286151[_0x3883ea(0x1d3)]+_0x3883ea(0x2d2)+this[_0x3883ea(0x1c1)][_0x3883ea(0x360)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x3883ea(0x59e)]['message'][_0x3883ea(0x7d5)]([..._0x286151],this['instance'][_0x3883ea(0x360)]));let _0xaa0c39=Date[_0x3883ea(0x421)]()-0xa*0x3c*0x3e8;for(let _0x1e19b1 of _0x286151)if(this[_0x3883ea(0x1c1)][_0x3883ea(0x3a6)]&&_0x1e19b1[_0x3883ea(0x32d)]>=_0xaa0c39){if(this[_0x3883ea(0x2be)](this['instance'][_0x3883ea(0x360)],_0x1e19b1[_0x3883ea(0x882)])){this[_0x3883ea(0x7de)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3883ea(0x360)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0x1e19b1[_0x3883ea(0x882)]+')');continue;}this[_0x3883ea(0x57c)](this[_0x3883ea(0x1c1)][_0x3883ea(0x360)],_0x1e19b1['_id']),this['sendDataWebhook'](_0x3883ea(0x6cb),_0x1e19b1);}else this[_0x3883ea(0x38e)](_0x3883ea(0x454),_0x1e19b1);_0x5ad92a=void 0x0;},'messages.upsert':async({messages:_0x355928,type:_0x396397},_0x1c542d)=>{const _0x494aa5=_0xe79482;for(let _0x37f271 of _0x355928){if(this[_0x494aa5(0x58a)]?.['groups_ignore']&&_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x3aa)][_0x494aa5(0x50c)](_0x494aa5(0x3c4))){this[_0x494aa5(0x7de)][_0x494aa5(0x3c2)](this[_0x494aa5(0x586)]+'\x20('+this[_0x494aa5(0x1c1)][_0x494aa5(0x360)]+_0x494aa5(0x49a));continue;}if(_0x37f271[_0x494aa5(0x733)]['remoteJid'][_0x494aa5(0x50c)](_0x494aa5(0x711))||_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x3aa)]===_0x494aa5(0x399))continue;if(_0x37f271[_0x494aa5(0x165)]&&_0x37f271[_0x494aa5(0x165)][0x0]===_0x494aa5(0x7cf)){console[_0x494aa5(0x873)](_0x494aa5(0x379)),await this[_0x494aa5(0x71d)](_0x37f271),Lt[_0x37f271[_0x494aa5(0x733)]['id']]=_0x37f271,this[_0x494aa5(0x73e)](_0x37f271,0x0);continue;}if(_0x396397!==_0x494aa5(0x408)||!_0x37f271?.[_0x494aa5(0x7d2)]||_0x37f271[_0x494aa5(0x7d2)]?.[_0x494aa5(0x297)]||_0x37f271[_0x494aa5(0x7d2)]?.[_0x494aa5(0x257)])continue;let _0x2d8647=null,_0x5698cb=null;if(Lt[_0x37f271[_0x494aa5(0x733)]['id']]&&(console[_0x494aa5(0x873)](_0x494aa5(0x1d0)),await this[_0x494aa5(0x59e)]['messageLogs'][_0x494aa5(0x634)]({'where':{'_id':_0x37f271[_0x494aa5(0x733)]['id']}}),delete Lt[_0x37f271[_0x494aa5(0x733)]['id']]),this['isMessageProcessed'](this['instance'][_0x494aa5(0x360)],_0x37f271[_0x494aa5(0x733)]['id'])){this['logger'][_0x494aa5(0x3c2)](this[_0x494aa5(0x586)]+'\x20('+this[_0x494aa5(0x1c1)][_0x494aa5(0x360)]+'):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada');continue;}this[_0x494aa5(0x57c)](this[_0x494aa5(0x1c1)][_0x494aa5(0x360)],_0x37f271[_0x494aa5(0x733)]['id']);try{_0x2d8647=await this['processPollUpdateMessage'](_0x37f271),_0x5698cb=_0x2d8647?_0x2d8647[_0x494aa5(0x65f)](','):null;}catch(_0x1636b5){this[_0x494aa5(0x7de)][_0x494aa5(0x3c2)](this[_0x494aa5(0x586)]+'\x20('+this[_0x494aa5(0x1c1)]['wuid']+_0x494aa5(0x351)+(_0x1636b5 instanceof Error?_0x1636b5[_0x494aa5(0x7d2)]:JSON[_0x494aa5(0x524)](_0x1636b5,null,0x2))),_0x5698cb=_0x494aa5(0x607);}this['client'][_0x494aa5(0x455)]('unavailable'),Ls[_0x494aa5(0x6bc)]['isLong'](_0x37f271[_0x494aa5(0x32d)])&&(_0x37f271[_0x494aa5(0x32d)]=_0x37f271[_0x494aa5(0x32d)]?.[_0x494aa5(0x4ad)]()),_0x37f271[_0x494aa5(0x32d)]&&_0x37f271['messageTimestamp'][_0x494aa5(0x2ba)]()['length']<0xd&&(_0x37f271[_0x494aa5(0x32d)]=_0x37f271[_0x494aa5(0x32d)]*0x3e8);let _0x19aaa7=_0x37f271[_0x494aa5(0x7d2)],_0x10c09a=(0x0,w[_0x494aa5(0x3e1)])(_0x19aaa7),_0x402e2c=(0x0,w[_0x494aa5(0x82c)])(_0x10c09a),{messageContent:_0x37f207,message_normalized:_0x95641a}=this[_0x494aa5(0x325)](_0x10c09a,_0x402e2c,_0x5698cb);if(_0x402e2c==='protocolMessage'&&_0x37f207?.['editedMessage']&&(_0x402e2c=_0x494aa5(0x648)),_0x402e2c==='interactiveMessage'&&_0x37f271['key']['fromMe'])continue;let _0x3130bb,_0x4626cf=_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x3aa)][_0x494aa5(0x682)](_0x494aa5(0x3c4));if(_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x2c3)])_0x3130bb=this['instance']['profilePictureUrl'];else{let _0x531ce4=_0x4626cf?_0x37f271['key'][_0x494aa5(0x480)]:_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x3aa)];_0x3130bb=(await this['findAndUpdateCacheContact'](_0x531ce4,_0x37f271[_0x494aa5(0x39b)],!0x1))[_0x494aa5(0x3dc)][_0x494aa5(0x6c7)];}let _0x29daab={'_id':_0x37f271['key']['id'],'key':_0x37f271['key'],'isGroup':_0x4626cf,'profilePictureUrl':_0x3130bb,'pushName':_0x37f271[_0x494aa5(0x39b)],'message':_0x10c09a,'messageType':_0x402e2c,'message_normalized':{'key':_0x37f271[_0x494aa5(0x733)],'pushName':_0x37f271[_0x494aa5(0x39b)],'messageTimestamp':_0x37f271['messageTimestamp'],'source':(0x0,w[_0x494aa5(0x203)])(_0x37f271[_0x494aa5(0x733)]['id']),..._0x95641a},'messageTimestamp':_0x37f271[_0x494aa5(0x32d)],'owner':this[_0x494aa5(0x1c1)][_0x494aa5(0x360)],'source':(0x0,w[_0x494aa5(0x203)])(_0x37f271[_0x494aa5(0x733)]['id']),'expiration':_0x37f207?.[_0x494aa5(0x64a)]?.['expiration']||0x0};if(!_0x37f207){if(_0x402e2c===_0x494aa5(0x30f))return;this['logger'][_0x494aa5(0x873)](_0x494aa5(0x61d)),this[_0x494aa5(0x7de)][_0x494aa5(0x873)](_0x29daab);}if(_0x95641a[_0x494aa5(0x1e0)]===_0x494aa5(0x8bc)){console['error']('[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x494aa5(0x71d)](_0x37f271);continue;}this['logger'][_0x494aa5(0x253)](this[_0x494aa5(0x586)]+'\x20('+this[_0x494aa5(0x1c1)]['wuid']+'):\x20'+(_0x29daab[_0x494aa5(0x733)]?.['fromMe']?_0x494aa5(0x56d):_0x494aa5(0x41c))+'\x20['+_0x29daab[_0x494aa5(0x733)]?.['remoteJid'][_0x494aa5(0x445)]('@s.whatsapp.net','')+']\x20('+_0x29daab['messageType']+')'),_0x29daab[_0x494aa5(0x7a2)]?.['text']&&this[_0x494aa5(0x7de)][_0x494aa5(0x253)](_0x37f271[_0x494aa5(0x733)]['id']+':\x20'+_0x29daab['message_normalized']?.[_0x494aa5(0x1e0)]),await this[_0x494aa5(0x59e)]['message'][_0x494aa5(0x7d5)]([_0x29daab],this['instance'][_0x494aa5(0x360)]),this[_0x494aa5(0x38e)](_0x494aa5(0x6cb),_0x29daab),F(this['instanceName'],_0x494aa5(0x418),{'message':_0x29daab}),_0x37f271[_0x494aa5(0x733)][_0x494aa5(0x3aa)]!==_0x494aa5(0x399)&&await this[_0x494aa5(0x5cd)](_0x1c542d,_0x29daab,'MESSAGES_UPSERT');}},'messages.update':async(_0x302943,_0x109dca)=>{const _0x3ec91b=_0xe79482;let _0x5542b5={0x0:_0x3ec91b(0x4f4),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x3ec91b(0x881),0x4:_0x3ec91b(0x51e),0x5:_0x3ec91b(0x3ee)};for await(let {key:_0x1d655b,update:_0x13b77d}of _0x302943){if(this[_0x3ec91b(0x58a)]?.[_0x3ec91b(0x56e)]&&_0x1d655b['remoteJid'][_0x3ec91b(0x50c)](_0x3ec91b(0x3c4))){this[_0x3ec91b(0x7de)][_0x3ec91b(0x3c2)](this[_0x3ec91b(0x586)]+'\x20('+this[_0x3ec91b(0x1c1)][_0x3ec91b(0x360)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x1d655b[_0x3ec91b(0x3aa)]!==_0x3ec91b(0x399)){let _0x5480fe=Date['now'](),_0x297f2a;_0x13b77d[_0x3ec91b(0x7d2)]===null&&_0x13b77d[_0x3ec91b(0x22e)]===void 0x0?_0x297f2a=_0x3ec91b(0x581):_0x297f2a=_0x5542b5[_0x13b77d[_0x3ec91b(0x22e)]];let _0x25d8b9=_0x1d655b[_0x3ec91b(0x3aa)][_0x3ec91b(0x445)](/:\d{1,2}@/g,'@'),_0x38a330={..._0x1d655b,'remoteJid':_0x25d8b9,'status':_0x297f2a,'datetime':_0x5480fe,'owner':this[_0x3ec91b(0x1c1)][_0x3ec91b(0x360)]};this[_0x3ec91b(0x38e)](_0x3ec91b(0x4ee),_0x38a330),await this['updateMessage'](_0x1d655b,_0x38a330);}}},'labels.association':async({type:_0x28b2a1,association:_0x4f5a17})=>{const _0x175cb4=_0xe79482;if(_0x4f5a17[_0x175cb4(0x2b5)]===_0x175cb4(0x4c8)){let _0x2dfdd9,_0x62854f=0x0;for(;!_0x2dfdd9&&_0x62854f<this['delayChatLabel_MAX_RETRIES'];)_0x2dfdd9=await this[_0x175cb4(0x59e)][_0x175cb4(0x696)][_0x175cb4(0x4cd)]({'where':{'_id':_0x4f5a17['chatId']}},this[_0x175cb4(0x1c1)][_0x175cb4(0x360)]),_0x2dfdd9||(_0x62854f++,this[_0x175cb4(0x7de)][_0x175cb4(0x19e)](this[_0x175cb4(0x586)]+'\x20('+this[_0x175cb4(0x1c1)]['wuid']+_0x175cb4(0x1b6)+_0x4f5a17[_0x175cb4(0x383)]+_0x175cb4(0x797)+this[_0x175cb4(0x5b0)]+'ms\x20(tentativa\x20'+_0x62854f+'/'+this[_0x175cb4(0x564)]+')'),await this['delayChatLabel'](this[_0x175cb4(0x5b0)]));if(!_0x2dfdd9){this[_0x175cb4(0x7de)][_0x175cb4(0x873)](_0x175cb4(0x8c9)+_0x4f5a17[_0x175cb4(0x383)]+_0x175cb4(0x1d2)+this[_0x175cb4(0x564)]+_0x175cb4(0x613));return;}switch(_0x28b2a1){case _0x175cb4(0x536):console[_0x175cb4(0x253)](_0x4f5a17),await this[_0x175cb4(0x59e)][_0x175cb4(0x696)][_0x175cb4(0x176)]({'where':{'_id':_0x4f5a17['chatId']}},{'leadInfo.etiquetas':_0x4f5a17[_0x175cb4(0x267)]},this[_0x175cb4(0x1c1)]['wuid'],void 0x0,_0x175cb4(0x864));break;case _0x175cb4(0x508):console[_0x175cb4(0x253)](_0x4f5a17),await this['repository']['chat']['updateOne']({'where':{'_id':_0x4f5a17['chatId']}},{'leadInfo.etiquetas':_0x4f5a17[_0x175cb4(0x267)]},this[_0x175cb4(0x1c1)]['wuid'],void 0x0,_0x175cb4(0x476));break;default:this[_0x175cb4(0x7de)][_0x175cb4(0x873)](_0x175cb4(0x462)+_0x28b2a1+']');}}},'labels.edit':async _0x34c255=>{const _0x33e7ee=_0xe79482;if(!_0x34c255||!_0x34c255['id']){this['logger'][_0x33e7ee(0x873)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x34c255[_0x33e7ee(0x570)]){let _0x5795f4=[_0x33e7ee(0x313),_0x33e7ee(0x3c7),'#fed428','#dfaef0',_0x33e7ee(0x2eb),_0x33e7ee(0x684),_0x33e7ee(0x6ec),_0x33e7ee(0x244),'#6f7bcf',_0x33e7ee(0x378),'#01d0e2','#ffc5c7',_0x33e7ee(0x6d7),'#f64847',_0x33e7ee(0x55f),'#83e421',_0x33e7ee(0x835),_0x33e7ee(0x440),_0x33e7ee(0x5a5),_0x33e7ee(0x745)],_0x7d8334;typeof _0x34c255[_0x33e7ee(0x790)]==_0x33e7ee(0x89e)&&_0x34c255['color']>=0x0&&_0x34c255['color']<_0x5795f4['length']?_0x7d8334=_0x5795f4[_0x34c255[_0x33e7ee(0x790)]]:(this[_0x33e7ee(0x7de)][_0x33e7ee(0x873)](_0x33e7ee(0x70e)+_0x34c255['color']),_0x7d8334=_0x33e7ee(0x46e));let _0x21e95c={'_id':_0x34c255['id'],'colorHex':_0x7d8334,'color':_0x34c255?.[_0x33e7ee(0x790)],'name':_0x34c255?.[_0x33e7ee(0x42b)],'owner':this[_0x33e7ee(0x1c1)]['wuid']};await this[_0x33e7ee(0x59e)][_0x33e7ee(0x467)][_0x33e7ee(0x176)]({'where':{'_id':_0x34c255['id']}},_0x21e95c,this[_0x33e7ee(0x1c1)][_0x33e7ee(0x360)]),this['logger'][_0x33e7ee(0x19e)](this['instanceName']+'\x20('+this[_0x33e7ee(0x1c1)][_0x33e7ee(0x360)]+_0x33e7ee(0x70c)+_0x34c255);}_0x34c255[_0x33e7ee(0x570)]&&(await this[_0x33e7ee(0x59e)][_0x33e7ee(0x467)]['delete']({'where':{'_id':_0x34c255['id']}},this[_0x33e7ee(0x1c1)][_0x33e7ee(0x360)]),this[_0x33e7ee(0x7de)]['info']('Rótulo\x20deletado:\x27,\x20'+_0x34c255['id']));}},this[_0xe79482(0x1a1)]={'groups.upsert':async _0x1a3e2b=>{const _0xead183=_0xe79482;this[_0xead183(0x58a)]?.[_0xead183(0x56e)]||this['sendDataWebhook'](_0xead183(0x31f),_0x1a3e2b);for(let _0x177fee of _0x1a3e2b)await this[_0xead183(0x589)](_0x177fee);},'groups.update':async _0xeb11ef=>{const _0x171ee7=_0xe79482;this[_0x171ee7(0x58a)]?.[_0x171ee7(0x56e)]||this[_0x171ee7(0x38e)](_0x171ee7(0x255),_0xeb11ef);for(let _0x31c3fe of _0xeb11ef)await this['updateGroupWebhook'](_0x31c3fe);},'group-participants.update':async _0x5e4229=>{const _0x2a9aac=_0xe79482;this[_0x2a9aac(0x58a)]?.['groups_ignore']||this[_0x2a9aac(0x38e)](_0x2a9aac(0x1b0),_0x5e4229),await this[_0x2a9aac(0x31a)](_0x5e4229);}},this[_0xe79482(0x564)]=0x5,this[_0xe79482(0x5b0)]=0x1388,this[_0xe79482(0x6c3)]=0x0,this[_0xe79482(0x55b)]=async _0x362f15=>{const _0x2e2333=_0xe79482;if(_0x362f15[_0x2e2333(0x7d2)]?.['pollUpdateMessage']){let _0x518335=await this[_0x2e2333(0x3f8)](_0x362f15[_0x2e2333(0x7d2)][_0x2e2333(0x301)][_0x2e2333(0x7bb)],!0x0);if(_0x518335){let _0x4e3774=_0x518335[_0x2e2333(0x733)]['fromMe']?this[_0x2e2333(0x1c1)][_0x2e2333(0x360)]+_0x2e2333(0x703):_0x518335[_0x2e2333(0x733)]['participant']||_0x518335['key'][_0x2e2333(0x3aa)],_0x277ad4=_0x518335[_0x2e2333(0x733)]['id'],_0x3adae7=_0x518335[_0x2e2333(0x7d2)],_0x4a0cf0=Buffer['from'](_0x3adae7[_0x2e2333(0x553)][_0x2e2333(0x5f8)]['toString'](_0x2e2333(0x25f)),'hex'),_0x438d40=(0x0,w['decryptPollVote'])(_0x362f15[_0x2e2333(0x7d2)]['pollUpdateMessage'][_0x2e2333(0x496)],{'pollCreatorJid':_0x4e3774,'pollMsgId':_0x277ad4,'pollEncKey':_0x4a0cf0,'voterJid':_0x362f15['key'][_0x2e2333(0x2c3)]?this['instance'][_0x2e2333(0x360)]+_0x2e2333(0x703):_0x362f15['key']['remoteJid'][_0x2e2333(0x682)](_0x2e2333(0x1d4))?_0x362f15[_0x2e2333(0x733)][_0x2e2333(0x480)]:_0x362f15[_0x2e2333(0x733)]['remoteJid']}),_0xff2f06=[],_0x40f171=_0x438d40[_0x2e2333(0x796)]['map'](_0x5991ed=>Buffer[_0x2e2333(0x370)](_0x5991ed)[_0x2e2333(0x2ba)](_0x2e2333(0x25f)));for(let {optionName:_0x595bfa}of _0x3adae7[_0x2e2333(0x326)]?.[_0x2e2333(0x4e3)]||_0x3adae7[_0x2e2333(0x47f)]?.[_0x2e2333(0x4e3)]||_0x3adae7['pollCreationMessageV2']?.[_0x2e2333(0x4e3)])_0x40f171[_0x2e2333(0x88c)]((0x0,w[_0x2e2333(0x2c7)])(Buffer[_0x2e2333(0x370)](_0x595bfa))[_0x2e2333(0x2ba)](_0x2e2333(0x25f)))>-0x1&&_0xff2f06[_0x2e2333(0x438)](_0x595bfa);return _0xff2f06;}}return null;},this[_0xe79482(0x325)]=(_0x13e13a,_0x35ed01,_0x2dbdda)=>{const _0x20793c=_0xe79482;try{let _0x2eff78=_0x13e13a?(0x0,w['extractMessageContent'])(_0x13e13a)[_0x35ed01]:void 0x0,_0x1051cb={},_0x347cb4=null,_0x45355b=null,_0x47c0dd=null,_0x51b05a=null;_0x35ed01==='protocolMessage'&&_0x2eff78?.['editedMessage']&&(_0x35ed01=(0x0,w[_0x20793c(0x82c)])(_0x2eff78[_0x20793c(0x648)]),_0x347cb4=_0x13e13a[_0x20793c(0x297)][_0x20793c(0x733)]['id'],_0x2eff78=_0x13e13a[_0x20793c(0x297)]['editedMessage'][_0x35ed01]),_0x13e13a[_0x35ed01]?.['contextInfo']?.[_0x20793c(0x6fc)]&&_0x13e13a[_0x35ed01]?.[_0x20793c(0x64a)]?.['quotedMessage']&&(_0x45355b=_0x13e13a[_0x35ed01][_0x20793c(0x64a)]['stanzaId']),_0x13e13a[_0x20793c(0x53e)]&&(_0x47c0dd=_0x13e13a[_0x20793c(0x53e)][_0x20793c(0x733)]['id']);let _0x28ffac;if(_0x2eff78&&typeof _0x2eff78==_0x20793c(0x50b)&&_0x20793c(0x7bb)in _0x2eff78&&({pollCreationMessageKey:_0x28ffac}=_0x2eff78),_0x35ed01==='pollCreationMessage'||_0x35ed01===_0x20793c(0x8ad)||_0x35ed01==='pollCreationMessageV3'){let _0xddd8d5=_0x2eff78[_0x20793c(0x4e3)]['map'](_0x147bc3=>_0x147bc3[_0x20793c(0x53b)])[_0x20793c(0x65f)]('|');_0x1051cb['convertedOptions']=_0xddd8d5;}if(_0x35ed01===_0x20793c(0x4eb)){let _0x55557f=_0x2eff78[_0x20793c(0x181)][_0x20793c(0x780)]['map'](_0x19cf20=>JSON[_0x20793c(0x5a1)](_0x19cf20[_0x20793c(0x6fe)])[_0x20793c(0x517)])[_0x20793c(0x65f)]('|');_0x1051cb[_0x20793c(0x4ff)]=_0x55557f;}_0x35ed01===_0x20793c(0x610)&&(_0x1051cb['buttonOrList_id']=_0x2eff78?.[_0x20793c(0x583)]?.[_0x20793c(0x1ed)]);let _0x22cd27='';if(_0x2eff78&&(_0x22cd27+=_0x2eff78[_0x20793c(0x42b)]?_0x2eff78[_0x20793c(0x42b)]:'',_0x22cd27+=_0x2eff78[_0x20793c(0x541)]?'\x20'+_0x2eff78[_0x20793c(0x541)]:'',_0x22cd27+=_0x2eff78['conversation']?'\x20'+_0x2eff78[_0x20793c(0x30f)]:'',_0x22cd27+=_0x2eff78[_0x20793c(0x515)]?'\x20'+_0x2eff78[_0x20793c(0x515)]:'',_0x35ed01!==_0x20793c(0x811)&&(_0x22cd27+=_0x2eff78[_0x20793c(0x5de)]?.[_0x20793c(0x1e0)]?'\x20'+_0x2eff78['body'][_0x20793c(0x1e0)]:''),_0x22cd27+=_0x2eff78?.[_0x20793c(0x512)]?.[_0x20793c(0x1e0)]?'\x20'+_0x2eff78?.[_0x20793c(0x512)]?.[_0x20793c(0x1e0)]:''),_0x35ed01===_0x20793c(0x2f2)){_0x22cd27=(_0x2eff78[_0x20793c(0x7cb)]||'')+'\x0a'+(_0x2eff78[_0x20793c(0x65b)]||'')+'\x0a'+(_0x2eff78[_0x20793c(0x1ad)]||'');let _0x3df7ce=this[_0x20793c(0x4c4)](_0x2eff78[_0x20793c(0x473)]);_0x1051cb[_0x20793c(0x4ff)]=_0x3df7ce;}if(_0x35ed01===_0x20793c(0x610)&&(_0x2dbdda=_0x2eff78['title'],_0x51b05a=_0x2eff78?.['singleSelectReply']?.[_0x20793c(0x1ed)]),_0x35ed01==='interactiveResponseMessage'){let _0x3c3b23=_0x2eff78?.[_0x20793c(0x7f6)];_0x3c3b23&&_0x3c3b23[_0x20793c(0x42b)]==='menu_options'&&(_0x51b05a=JSON[_0x20793c(0x5a1)](_0x3c3b23[_0x20793c(0x4cc)])['id']),_0x2dbdda=_0x2eff78?.[_0x20793c(0x5de)]?.[_0x20793c(0x1e0)];}if(_0x35ed01===_0x20793c(0x5e4)&&(_0x2dbdda=_0x2eff78?.[_0x20793c(0x434)],_0x51b05a=_0x2eff78?.['selectedId']),_0x35ed01===_0x20793c(0x249)&&(_0x2dbdda=_0x2eff78?.[_0x20793c(0x434)],_0x51b05a=_0x2eff78?.[_0x20793c(0x6d0)]),_0x2eff78&&_0x2eff78[_0x20793c(0x686)]){let _0x539057=this[_0x20793c(0x17d)](JSON[_0x20793c(0x524)](_0x2eff78[_0x20793c(0x686)],null,0x2));_0x22cd27=_0x22cd27+'\x0a'+_0x539057;}if(_0x2eff78){let {selectedButtonId:_0x4c25ca,nativeFlowResponseMessage:_0x23d786,selectedId:_0x43c3c8,selectedDisplayText:_0x325000,selectedIndex:_0x339aaa,body:_0x1deeb0,nativeFlowMessage:_0x188fd1,singleSelectReply:_0x2331b8,sections:_0x1cb90b,listType:_0x4abfcd,displayName:_0x8d4c21,vcard:_0x17af5e,contactVcard:_0x1f767d,name:_0x598f3b,caption:_0x4c0142,conversation:_0x5c111b,pollCreationMessageKey:_0x300ffd,footerText:_0x5ee50c,contentText:_0x3e22da,pageCount:_0x561b1e,headerType:_0xf9890,isAvatar:_0x2d5aa4,isAnimated:_0x318c29,fallbackLc:_0x4dc570,fallbackLg:_0x186add,namespace:_0x313e31,elementName:_0x1416de,localizableParams:_0x5b8e17,viewOnce:_0x44f2cf,height:_0xe0b889,width:_0x1e637c,key:_0x43f996,firstScanLength:_0x5d2833,firstScanSidecar:_0x438652,gifPlayback:_0xbc5cd8,gifAttribution:_0x60f59a,midQualityFileSha256:_0x4d7330,scansSidecar:_0x5752cf,streamingSidecar:_0x2bc303,thumbnailHeight:_0x2e4345,thumbnailWidth:_0x1ba188,thumbnailEncSha256:_0xf956c4,thumbnailDirectPath:_0x21fb1c,canonicalUrl:_0x132ee6,matchedText:_0x1e0fa2,previewType:_0x2e07af,thumbnailSha256:_0x454e59,deviceListMetadataVersion:_0x2fa8a6,inviteLinkGroupTypeV2:_0x4bd2db,interactiveAnnotations:_0x4605e0,scanLengths:_0x25a526,jpegThumbnail:_0x569da1,url:_0x31978e,mediaKeyTimestamp:_0xa1db2c,waveform:_0xe63476,stickerSentTs:_0x514423,firstFrameLength:_0x23f40e,fileEncSha256:_0x155bd6,contextInfo:_0x5434ef,firstFrameSidecar:_0x3dd9a6,directPath:_0x5a0a1c,fileSha256:_0x564d9c,mediaKey:_0x183e09,senderTimestampMs:_0x65d745,..._0xeb8902}=_0x2eff78;(_0x35ed01==='listMessage'||_0x35ed01==='listResponseMessage')&&(delete _0xeb8902[_0x20793c(0x7cb)],delete _0xeb8902[_0x20793c(0x65b)]),typeof _0x2eff78=='string'?_0x1051cb={'text':_0x2eff78,'type':_0x35ed01||_0x20793c(0x30f),..._0x347cb4&&{'edited':_0x347cb4},..._0x45355b&&{'quoted':_0x45355b},..._0x47c0dd&&{'reaction':_0x47c0dd}}:_0x1051cb={'text':_0x22cd27,..._0xeb8902,..._0x35ed01==='pollUpdateMessage'?{'poll_id':_0x2eff78[_0x20793c(0x7bb)]['id'],'quoted':_0x2eff78[_0x20793c(0x7bb)]['id'],'vote':_0x2dbdda}:{},..._0x35ed01===_0x20793c(0x610)?{'buttonOrList_id':_0x51b05a,'vote':_0x2dbdda}:{},..._0x35ed01===_0x20793c(0x811)?{'buttonOrList_id':_0x51b05a,'vote':_0x2dbdda}:{},..._0x35ed01==='templateButtonReplyMessage'?{'buttonOrList_id':_0x51b05a,'vote':_0x2dbdda}:{},..._0x35ed01==='buttonsResponseMessage'?{'buttonOrList_id':_0x51b05a,'vote':_0x2dbdda}:{},'type':_0x35ed01,..._0x347cb4&&{'edited':_0x347cb4},..._0x45355b&&{'quoted':_0x45355b},..._0x47c0dd&&{'reaction':_0x47c0dd},...(_0x35ed01===_0x20793c(0x326)||_0x35ed01===_0x20793c(0x8ad)||_0x35ed01===_0x20793c(0x47f)||_0x35ed01===_0x20793c(0x2f2)||_0x35ed01==='interactiveMessage')&&{'convertedOptions':_0x1051cb['convertedOptions']}};}return{'messageType':_0x35ed01,'messageContent':_0x2eff78,'message_normalized':_0x1051cb};}catch(_0x182698){return this[_0x20793c(0x7de)]['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x182698),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0xe79482(0x1a4)]=[],(this[_0xe79482(0x1b3)](),this[_0xe79482(0x78c)](),this[_0xe79482(0x1c1)][_0xe79482(0x3a6)]=!0x0,this['instance'][_0xe79482(0x735)]={'count':0x0},this[_0xe79482(0x1c1)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}['addToProcessedMessages'](_0x328f6f,_0x1b053d){const _0x13e16e=a0_0x13c462;this[_0x13e16e(0x300)][_0x328f6f]||(this['processedMessagesCache'][_0x328f6f]=new Set()),this[_0x13e16e(0x300)][_0x328f6f][_0x13e16e(0x536)](_0x1b053d),setTimeout(()=>this[_0x13e16e(0x300)][_0x328f6f]['delete'](_0x1b053d),0x2710);}[a0_0x13c462(0x2be)](_0x191f4a,_0x3d0495){const _0x6fe2c1=a0_0x13c462;return this['processedMessagesCache'][_0x191f4a]?.[_0x6fe2c1(0x41f)](_0x3d0495)??!0x1;}set['instanceName'](_0x47fd53){const _0x5896e5=a0_0x13c462;if(!_0x47fd53){this[_0x5896e5(0x1c1)][_0x5896e5(0x42b)]=(0x0,Ti['v4'])();return;}this['instance']['name']=_0x47fd53,this[_0x5896e5(0x38e)](_0x5896e5(0x263),{'instance':this[_0x5896e5(0x1c1)]['name'],'status':_0x5896e5(0x631)});}get[a0_0x13c462(0x586)](){const _0x5d0239=a0_0x13c462;return this[_0x5d0239(0x1c1)][_0x5d0239(0x42b)];}get[a0_0x13c462(0x360)](){const _0x4cfb63=a0_0x13c462;return this[_0x4cfb63(0x1c1)]['wuid'];}async['getProfileName'](){const _0x229a1f=a0_0x13c462;let _0x52c95c=this[_0x229a1f(0x155)][_0x229a1f(0x6d1)]?.[_0x229a1f(0x42b)]??this['client'][_0x229a1f(0x6d1)]?.['verifiedName'];if(!_0x52c95c){if(this[_0x229a1f(0x310)][_0x229a1f(0x6a5)](_0x229a1f(0x169))[_0x229a1f(0x7cc)]){let _0x5b7f76=await T[_0x229a1f(0x4c2)]()['db'](this[_0x229a1f(0x310)][_0x229a1f(0x6a5)](_0x229a1f(0x169))[_0x229a1f(0x6c8)]['DB_PREFIX_NAME']+_0x229a1f(0x683))['collection'](this[_0x229a1f(0x586)])['findOne']({'_id':'creds'});if(_0x5b7f76){let _0x900ac2=JSON[_0x229a1f(0x5a1)](JSON[_0x229a1f(0x524)](_0x5b7f76),w[_0x229a1f(0x158)]['reviver']);_0x52c95c=_0x900ac2['me']?.[_0x229a1f(0x42b)]||_0x900ac2['me']?.[_0x229a1f(0x13d)];}}else{if((0x0,Fe[_0x229a1f(0x7c1)])((0x0,j[_0x229a1f(0x65f)])(be,this['instanceName'],'creds.json'))){let _0x440e51=JSON[_0x229a1f(0x5a1)]((0x0,Fe['readFileSync'])((0x0,j[_0x229a1f(0x65f)])(be,this[_0x229a1f(0x586)],_0x229a1f(0x7ee)),{'encoding':_0x229a1f(0x571)}));_0x52c95c=_0x440e51['me']?.['name']||_0x440e51['me']?.[_0x229a1f(0x13d)];}}}return _0x52c95c;}get[a0_0x13c462(0x15b)](){const _0x361f6e=a0_0x13c462;return this['instance'][_0x361f6e(0x15b)];}async['isBusinessInstance'](){const _0x49a6d7=a0_0x13c462;let _0x3e88d3=this[_0x49a6d7(0x1c1)][_0x49a6d7(0x360)]+_0x49a6d7(0x703);try{await this[_0x49a6d7(0x155)][_0x49a6d7(0x246)](_0x3e88d3)?this['instance'][_0x49a6d7(0x5ae)]=!0x0:this['instance'][_0x49a6d7(0x5ae)]=!0x1;}catch{this[_0x49a6d7(0x1c1)][_0x49a6d7(0x5ae)]=!0x1;}return this[_0x49a6d7(0x7de)][_0x49a6d7(0x19e)](this['instanceName']+'\x20('+this['instance'][_0x49a6d7(0x360)]+_0x49a6d7(0x1cc)+this['instance']['isBusiness']),this[_0x49a6d7(0x1c1)][_0x49a6d7(0x5ae)];}get[a0_0x13c462(0x4bb)](){const _0x553879=a0_0x13c462;return this[_0x553879(0x1c1)][_0x553879(0x3a6)]=!0x1,this[_0x553879(0x1c1)][_0x553879(0x735)]?.[_0x553879(0x191)]?{'pairingCode':this[_0x553879(0x1c1)][_0x553879(0x735)]?.[_0x553879(0x191)]}:{'code':this[_0x553879(0x1c1)][_0x553879(0x735)]?.[_0x553879(0x3cb)],'base64':this[_0x553879(0x1c1)]['qrcode']?.['base64']};}async[a0_0x13c462(0x544)](){const _0x314a1a=a0_0x13c462;let _0x1421d1=await this['repository'][_0x314a1a(0x54d)][_0x314a1a(0x88b)](this[_0x314a1a(0x586)]);this[_0x314a1a(0x58a)]['url']=_0x1421d1?.['url'],this[_0x314a1a(0x58a)][_0x314a1a(0x245)]=_0x1421d1?.['enabled'],this['localWebhook'][_0x314a1a(0x5e2)]=_0x1421d1?.['local_map'],this['localWebhook'][_0x314a1a(0x69d)]=_0x1421d1?.[_0x314a1a(0x69d)],this[_0x314a1a(0x58a)]['QRCODE_UPDATED']=_0x1421d1?.[_0x314a1a(0x4b7)],this[_0x314a1a(0x58a)][_0x314a1a(0x86b)]=_0x1421d1?.['SEND_MESSAGE'],this[_0x314a1a(0x58a)][_0x314a1a(0x3ca)]=_0x1421d1?.['MESSAGES_UPSERT'],this[_0x314a1a(0x58a)][_0x314a1a(0x29b)]=_0x1421d1?.['MESSAGES_UPDATE'],this['localWebhook']['GROUPS_UPSERT']=_0x1421d1?.[_0x314a1a(0x471)],this[_0x314a1a(0x58a)][_0x314a1a(0x552)]=_0x1421d1?.[_0x314a1a(0x552)],this['localWebhook'][_0x314a1a(0x27b)]=_0x1421d1?.[_0x314a1a(0x27b)],this[_0x314a1a(0x58a)][_0x314a1a(0x7b1)]=_0x1421d1?.[_0x314a1a(0x7b1)],this[_0x314a1a(0x58a)][_0x314a1a(0x69e)]=_0x1421d1?.[_0x314a1a(0x69e)],this[_0x314a1a(0x58a)][_0x314a1a(0x63a)]=_0x1421d1?.[_0x314a1a(0x63a)],this[_0x314a1a(0x58a)]['CHATS_DELETE']=_0x1421d1?.[_0x314a1a(0x816)],this[_0x314a1a(0x58a)][_0x314a1a(0x34c)]=_0x1421d1?.['CONTACTS_SET'],this[_0x314a1a(0x58a)]['CONTACTS_UPSERT']=_0x1421d1?.[_0x314a1a(0x61e)],this[_0x314a1a(0x58a)][_0x314a1a(0x619)]=_0x1421d1?.[_0x314a1a(0x619)],this[_0x314a1a(0x58a)][_0x314a1a(0x88a)]=_0x1421d1?.[_0x314a1a(0x88a)],this[_0x314a1a(0x58a)][_0x314a1a(0x1e8)]=_0x1421d1?.['MESSAGES_SET'],this[_0x314a1a(0x58a)][_0x314a1a(0x6a9)]=_0x1421d1?.[_0x314a1a(0x6a9)],this[_0x314a1a(0x58a)][_0x314a1a(0x56e)]=_0x1421d1?.[_0x314a1a(0x56e)];}async[a0_0x13c462(0x497)](_0x4a13e5){const _0x6c65ef=a0_0x13c462;let _0x1fc024=[_0x6c65ef(0x882),_0x6c65ef(0x74d),_0x6c65ef(0x245),_0x6c65ef(0x5e2),_0x6c65ef(0x69d),_0x6c65ef(0x4b7),_0x6c65ef(0x29b),'MESSAGES_UPSERT',_0x6c65ef(0x86b),'GROUPS_UPSERT',_0x6c65ef(0x552),_0x6c65ef(0x27b),_0x6c65ef(0x7b1),_0x6c65ef(0x69e),_0x6c65ef(0x63a),_0x6c65ef(0x816),_0x6c65ef(0x34c),_0x6c65ef(0x61e),_0x6c65ef(0x619),'PRESENCE_UPDATE',_0x6c65ef(0x1e8),_0x6c65ef(0x6a9),_0x6c65ef(0x56e)],_0x3bd6f5={};return _0x1fc024[_0x6c65ef(0x2a0)](_0x29cfad=>{_0x4a13e5[_0x29cfad]!==void 0x0&&(_0x3bd6f5[_0x29cfad]=_0x4a13e5[_0x29cfad]);}),_0x3bd6f5[_0x6c65ef(0x74d)]&&(_0x3bd6f5['url']=_0x3bd6f5[_0x6c65ef(0x74d)][_0x6c65ef(0x707)]()),await this[_0x6c65ef(0x59e)][_0x6c65ef(0x54d)][_0x6c65ef(0x714)](_0x3bd6f5,this[_0x6c65ef(0x586)]),Object[_0x6c65ef(0x5c4)](this[_0x6c65ef(0x58a)],_0x3bd6f5),await this['repository'][_0x6c65ef(0x54d)][_0x6c65ef(0x88b)](this[_0x6c65ef(0x586)]);}async[a0_0x13c462(0x67f)](){const _0xd777b9=a0_0x13c462;return await this[_0xd777b9(0x59e)]['webhook'][_0xd777b9(0x88b)](this[_0xd777b9(0x586)]);}async[a0_0x13c462(0x38e)](_0x4527ff,_0x4f7fd3){const _0x17ea10=a0_0x13c462;let _0x555c63=_0x4527ff[_0x17ea10(0x445)](/[\.-]/gm,'_')[_0x17ea10(0x439)](),_0x49781e=this[_0x17ea10(0x58a)][_0x17ea10(0x245)]&&(0x0,J[_0x17ea10(0x883)])(this[_0x17ea10(0x58a)][_0x17ea10(0x74d)])?this[_0x17ea10(0x58a)][_0x17ea10(0x74d)]+(this[_0x17ea10(0x58a)]['local_map']?this[_0x17ea10(0x1e9)][_0x4527ff]:''):null,_0x2becac=this[_0x17ea10(0x58a)][_0x555c63],_0x584ad1=de&&de[_0x17ea10(0x245)]&&(0x0,J[_0x17ea10(0x883)])(de[_0x17ea10(0x74d)])?de[_0x17ea10(0x74d)]+(de[_0x17ea10(0x5e2)]?this[_0x17ea10(0x1e9)][_0x4527ff]:''):null,_0x57717a=de?de[_0x555c63]:null;if(_0x2becac&&_0x49781e)try{await K['default']['create']({'baseURL':_0x49781e})[_0x17ea10(0x78a)]('',{'event':_0x4527ff,'instance':this[_0x17ea10(0x1c1)][_0x17ea10(0x42b)],'apikey':this[_0x17ea10(0x1c1)]['apikey'],'data':_0x4f7fd3}),this[_0x17ea10(0x7de)][_0x17ea10(0x253)](this[_0x17ea10(0x586)]+'\x20('+this[_0x17ea10(0x1c1)][_0x17ea10(0x360)]+_0x17ea10(0x38d)+_0x4527ff+':\x20'+_0x49781e);}catch{this[_0x17ea10(0x7de)][_0x17ea10(0x873)](this[_0x17ea10(0x586)]+'\x20('+this['instance']['wuid']+_0x17ea10(0x6a3)+_0x4527ff+':\x20'+_0x49781e);}if(_0x57717a&&_0x584ad1)try{await K[_0x17ea10(0x6bc)][_0x17ea10(0x714)]({'baseURL':_0x584ad1})[_0x17ea10(0x78a)]('',{'event':_0x4527ff,'instance':this[_0x17ea10(0x1c1)][_0x17ea10(0x42b)],'apikey':this[_0x17ea10(0x1c1)][_0x17ea10(0x459)],'data':_0x4f7fd3}),this[_0x17ea10(0x7de)][_0x17ea10(0x253)](this[_0x17ea10(0x586)]+'\x20('+this['instance']['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4527ff+':\x20'+_0x584ad1);}catch{this['logger'][_0x17ea10(0x873)](this['instanceName']+'\x20('+this[_0x17ea10(0x1c1)][_0x17ea10(0x360)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4527ff+':\x20'+_0x584ad1);}}async[a0_0x13c462(0x3af)]({qr:_0x4f2de1,connection:_0x1c87d4,lastDisconnect:_0x2b74d3}){const _0x176926=a0_0x13c462;if(_0x4f2de1){if(this[_0x176926(0x1c1)][_0x176926(0x735)][_0x176926(0x86c)]===Lo)return this[_0x176926(0x38e)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x176926(0x1f7)][_0x176926(0x4d6)]}),this[_0x176926(0x69c)]={'state':_0x176926(0x681),'statusReason':w[_0x176926(0x1f7)][_0x176926(0x390)]},this['sendDataWebhook']('connection.update',{'instance':this['instance'][_0x176926(0x42b)],...this['stateConnection']}),this[_0x176926(0x38e)]('status.instance',{'instance':this['instance'][_0x176926(0x42b)],'status':_0x176926(0x2b4)}),this[_0x176926(0x59e)][_0x176926(0x775)]['delete'](this['instance']['name']),this[_0x176926(0x787)]=!0x0,this[_0x176926(0x437)][_0x176926(0x844)](_0x176926(0x53f),this[_0x176926(0x1c1)][_0x176926(0x42b)]);this[_0x176926(0x1c1)][_0x176926(0x735)]['count']++;let _0x25b86c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x176926(0x727),'dark':'#000000'}};Ii[_0x176926(0x6bc)][_0x176926(0x1a0)](_0x4f2de1,_0x25b86c,(_0x362fbf,_0x29e762)=>{const _0x2e4179=_0x176926;if(_0x362fbf){this[_0x2e4179(0x7de)][_0x2e4179(0x873)](this[_0x2e4179(0x586)]+'\x20('+this[_0x2e4179(0x1c1)][_0x2e4179(0x360)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x362fbf instanceof Error?_0x362fbf[_0x2e4179(0x7d2)]:JSON['stringify'](_0x362fbf,null,0x2)));return;}this[_0x2e4179(0x1c1)]['qrcode']['base64']=_0x29e762,this['instance'][_0x2e4179(0x735)][_0x2e4179(0x3cb)]=_0x4f2de1,!this[_0x2e4179(0x442)]&&this[_0x2e4179(0x38e)](_0x2e4179(0x2bb),{'qrcode':{'instance':this[_0x2e4179(0x1c1)][_0x2e4179(0x42b)],'pairingCode':this[_0x2e4179(0x1c1)][_0x2e4179(0x735)][_0x2e4179(0x191)],'code':_0x4f2de1,'base64':_0x29e762}});}),this[_0x176926(0x442)]?this[_0x176926(0x1c1)][_0x176926(0x735)][_0x176926(0x191)]||(await(0x0,w['delay'])(0x7d0),this[_0x176926(0x1c1)]['qrcode']['pairingCode']=await this['client']['requestPairingCode'](this[_0x176926(0x442)])):this[_0x176926(0x1c1)][_0x176926(0x735)][_0x176926(0x191)]=null,_i[_0x176926(0x6bc)][_0x176926(0x815)](_0x4f2de1,{'small':!0x0},_0x3d9278=>this[_0x176926(0x7de)][_0x176926(0x253)](_0x176926(0x398)+this[_0x176926(0x1c1)]['name']+_0x176926(0x761)+this[_0x176926(0x1c1)][_0x176926(0x735)][_0x176926(0x86c)]+_0x176926(0x82f)+this[_0x176926(0x1c1)]['qrcode'][_0x176926(0x191)]+'\x20}\x0a'+_0x3d9278));}if(_0x1c87d4&&(this[_0x176926(0x69c)]={'state':_0x1c87d4,'statusReason':_0x2b74d3?.[_0x176926(0x873)]?.[_0x176926(0x2a1)]?.[_0x176926(0x66a)]??0xc8},this['sendDataWebhook'](_0x176926(0x7af),{'instance':this[_0x176926(0x1c1)][_0x176926(0x42b)],...this[_0x176926(0x69c)]})),_0x1c87d4===_0x176926(0x49b)){if(_0x2b74d3[_0x176926(0x873)]?.[_0x176926(0x2a1)]?.[_0x176926(0x66a)]!==w[_0x176926(0x1f7)][_0x176926(0x5a0)]&&(this[_0x176926(0x688)]<0x21||this[_0x176926(0x1c1)][_0x176926(0x47d)][_0x176926(0x551)])){this[_0x176926(0x688)]++,this[_0x176926(0x52a)][_0x176926(0x438)](Date['now']()),this['reconnectTimestamps']=this[_0x176926(0x52a)][_0x176926(0x843)](_0x3e626b=>Date[_0x176926(0x421)]()-_0x3e626b<this[_0x176926(0x6af)]);let _0x12950a=this[_0x176926(0x688)]<=0x1?0x0:Math[_0x176926(0x884)](Math[_0x176926(0x614)](0x2,this[_0x176926(0x688)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x176926(0x586)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x176926(0x688)]+_0x176926(0x195)+_0x12950a/0x3e8+_0x176926(0x3b1)),await new Promise(_0x31cdb1=>setTimeout(_0x31cdb1,_0x12950a)),console[_0x176926(0x253)]('Tentando\x20reconectar...'),await this[_0x176926(0x8c2)]();}else{this[_0x176926(0x38e)](_0x176926(0x263),{'instance':this[_0x176926(0x1c1)][_0x176926(0x42b)],'status':'removed'}),this[_0x176926(0x1c1)][_0x176926(0x47d)][_0x176926(0x551)]=!0x1,this[_0x176926(0x59e)][_0x176926(0x54d)]['delete'](this[_0x176926(0x586)]),this[_0x176926(0x59e)][_0x176926(0x775)][_0x176926(0x714)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x176926(0x421)]()},this[_0x176926(0x1c1)][_0x176926(0x42b)]);try{this['logger'][_0x176926(0x3c2)](this[_0x176926(0x586)]+'\x20('+this[_0x176926(0x1c1)][_0x176926(0x360)]+_0x176926(0x422));let _0x21bcdb=await this[_0x176926(0x59e)][_0x176926(0x7d2)][_0x176926(0x6c1)](this[_0x176926(0x1c1)][_0x176926(0x360)]);_0x21bcdb['success']?this[_0x176926(0x7de)][_0x176926(0x3c2)](this[_0x176926(0x586)]+'\x20('+this['instance'][_0x176926(0x360)]+_0x176926(0x5dd)):this[_0x176926(0x7de)][_0x176926(0x873)](_0x176926(0x63c)+_0x21bcdb['error']);}catch(_0x374477){this[_0x176926(0x7de)]['error'](_0x176926(0x7c3)+_0x374477[_0x176926(0x7d2)]);}this['instance']['ScheduleMessage'][_0x176926(0x507)]!==null&&(this[_0x176926(0x7de)][_0x176926(0x3c2)](this[_0x176926(0x586)]+'\x20('+this[_0x176926(0x1c1)][_0x176926(0x360)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x176926(0x1c1)]['ScheduleMessage']['delayMessage']),this[_0x176926(0x1c1)][_0x176926(0x47d)][_0x176926(0x507)]=null),this['logger'][_0x176926(0x3c2)](this[_0x176926(0x586)]+'\x20('+this['instance']['wuid']+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x176926(0x437)][_0x176926(0x844)](_0x176926(0x27f),this[_0x176926(0x1c1)][_0x176926(0x42b)],_0x176926(0x6f8)),this[_0x176926(0x155)]?.['ws']?.[_0x176926(0x49b)](),this[_0x176926(0x155)]['end'](new Error(_0x176926(0x4de)));}}if(_0x1c87d4===_0x176926(0x185)){this[_0x176926(0x7de)][_0x176926(0x30b)](this[_0x176926(0x586)]+'\x20('+this[_0x176926(0x1c1)][_0x176926(0x360)]+_0x176926(0x160)+this[_0x176926(0x155)][_0x176926(0x746)][_0x176926(0x5d8)]?.['myAppStateKeyId']),this[_0x176926(0x155)]['authState']['creds']?.[_0x176926(0x737)]||(this[_0x176926(0x7de)][_0x176926(0x30b)](this[_0x176926(0x586)]+'\x20('+this['instance'][_0x176926(0x360)]+_0x176926(0x616)),this[_0x176926(0x155)]['ev'][_0x176926(0x5a9)]()),this[_0x176926(0x866)],this[_0x176926(0x1c1)][_0x176926(0x360)]=this[_0x176926(0x155)][_0x176926(0x6d1)]['id'][_0x176926(0x445)](/:\d+/,'')[_0x176926(0x445)]('@s.whatsapp.net',''),this[_0x176926(0x1c1)][_0x176926(0x15b)]=(await this['profilePicture'](this[_0x176926(0x1c1)][_0x176926(0x360)]+'@s.whatsapp.net'))[_0x176926(0x15b)],this[_0x176926(0x59e)][_0x176926(0x775)]['create']({'online':!0x0,'owner':this[_0x176926(0x1c1)][_0x176926(0x360)],'lastDisconnect':null},this[_0x176926(0x1c1)][_0x176926(0x42b)]);let _0x177105=_0x176926(0x814)+this[_0x176926(0x1c1)][_0x176926(0x360)],_0x198011=0x28,_0x2909b1=Math[_0x176926(0x546)]((_0x198011-_0x177105[_0x176926(0x1d3)])/0x2),_0xa6a434='\x20'['repeat'](_0x2909b1),_0x1c9482=_0x176926(0x768),_0x177619='Instância:\x20'+this[_0x176926(0x1c1)]['name'],_0x12cb41=(''+_0xa6a434+_0x177105+_0xa6a434)['padEnd'](_0x198011,'\x20'),_0xae2075=(''+_0xa6a434+_0x1c9482+_0xa6a434)[_0x176926(0x7ad)](_0x198011,'\x20'),_0x4d17bb=(''+_0xa6a434+_0x177619+_0xa6a434)[_0x176926(0x7ad)](_0x198011,'\x20'),_0x30410c=Math[_0x176926(0x80c)](_0x12cb41['length'],_0xae2075[_0x176926(0x1d3)],_0x4d17bb[_0x176926(0x1d3)]),_0x3390ff=_0x12cb41[_0x176926(0x7ad)](_0x30410c,'\x20'),_0x53a2c4=_0xae2075[_0x176926(0x7ad)](_0x30410c,'\x20'),_0x466d69=_0x4d17bb[_0x176926(0x7ad)](_0x30410c,'\x20');this[_0x176926(0x7de)][_0x176926(0x19e)]((_0x176926(0x362)+'─'[_0x176926(0x4e9)](_0x30410c)+_0x176926(0x3e3)+_0x53a2c4+_0x176926(0x8be)+_0x466d69+_0x176926(0x8be)+_0x3390ff+_0x176926(0x446)+'─'[_0x176926(0x4e9)](_0x30410c)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x176926(0x874)](),this['instance'][_0x176926(0x47d)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x5a3859=a0_0x13c462;this[_0x5a3859(0x688)]=0x0,this[_0x5a3859(0x52a)]=[];}async['getMessage'](_0x4defa4,_0x5ad367=!0x1){const _0x13f4cd=a0_0x13c462;try{let _0x588e24=await this[_0x13f4cd(0x59e)][_0x13f4cd(0x7d2)][_0x13f4cd(0x88b)]({'where':{'_id':_0x4defa4['id']}},this[_0x13f4cd(0x1c1)][_0x13f4cd(0x360)]);return _0x5ad367?_0x588e24[0x0]:_0x588e24[0x0][_0x13f4cd(0x7d2)];}catch{return{'conversation':''};}}[a0_0x13c462(0x1b3)](){const _0x243090=a0_0x13c462;let _0x4e86d2=this[_0x243090(0x310)][_0x243090(0x6a5)](_0x243090(0x658)),_0x26a536=this[_0x243090(0x310)][_0x243090(0x6a5)](_0x243090(0x169));_0x4e86d2?.['CLEANING_INTERVAL']&&!_0x26a536[_0x243090(0x7cc)]&&setInterval(()=>{const _0x124435=_0x243090;try{for(let [_0x13d58c,_0x105952]of Object[_0x124435(0x1ce)](_0x4e86d2))_0x105952===!0x0&&(0x0,Ue[_0x124435(0x778)])('rm\x20-rf\x20'+(0x0,j[_0x124435(0x65f)])(this[_0x124435(0x624)],_0x13d58c['toLowerCase'](),this[_0x124435(0x1c1)][_0x124435(0x360)])+'/*.json');}catch{}},(_0x4e86d2?.[_0x243090(0x784)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4d92bb=a0_0x13c462;let _0x160678=this[_0x4d92bb(0x310)][_0x4d92bb(0x6a5)](_0x4d92bb(0x169)),_0x3a80d6=this['configService'][_0x4d92bb(0x6a5)]('REDIS');return _0x3a80d6?.[_0x4d92bb(0x7cc)]?await Os(_0x3a80d6,this[_0x4d92bb(0x1c1)][_0x4d92bb(0x42b)]):_0x160678[_0x4d92bb(0x7cc)]?await _s(this[_0x4d92bb(0x1c1)][_0x4d92bb(0x42b)]):await(0x0,w[_0x4d92bb(0x1a6)])((0x0,j[_0x4d92bb(0x65f)])(be,this[_0x4d92bb(0x1c1)][_0x4d92bb(0x42b)]));}async['AutomateFunctions'](){const _0x584a23=a0_0x13c462;let _0x85c139=()=>Math[_0x584a23(0x546)](Math['random']()*0x4e21)+0x7d0,_0x516297=async()=>{const _0x5c470e=_0x584a23;if(!this[_0x5c470e(0x1c1)][_0x5c470e(0x47d)][_0x5c470e(0x551)]){this['logger'][_0x5c470e(0x3c2)](this['instanceName']+'\x20('+this[_0x5c470e(0x1c1)][_0x5c470e(0x360)]+_0x5c470e(0x46b)),this[_0x5c470e(0x35e)]=!0x1;return;}if(this['instance'][_0x5c470e(0x360)]&&this[_0x5c470e(0x1cf)]&&this['instance'][_0x5c470e(0x47d)][_0x5c470e(0x507)]!==null&&this[_0x5c470e(0x1c1)][_0x5c470e(0x47d)][_0x5c470e(0x507)]!==void 0x0){let _0x4cbfe9=Math[_0x5c470e(0x5cc)](this[_0x5c470e(0x1c1)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x5c470e(0x7de)][_0x5c470e(0x3c2)](this[_0x5c470e(0x586)]+'\x20('+this[_0x5c470e(0x1c1)]['wuid']+_0x5c470e(0x2cb)+_0x4cbfe9+_0x5c470e(0x5c0)),this[_0x5c470e(0x35e)]=!0x1;return;}else this['instance'][_0x5c470e(0x360)]&&(this['logger'][_0x5c470e(0x3c2)](this['instanceName']+'\x20('+this['instance'][_0x5c470e(0x360)]+_0x5c470e(0x4dc)),this['AutomateSystem']||(await this['getAutomateSystem'](),this[_0x5c470e(0x599)](),this[_0x5c470e(0x4f2)]()),(this[_0x5c470e(0x1c1)][_0x5c470e(0x47d)][_0x5c470e(0x507)]===null||this[_0x5c470e(0x1c1)][_0x5c470e(0x47d)][_0x5c470e(0x507)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x5c470e(0x35e)]){let _0x468244=_0x85c139();this[_0x5c470e(0x7de)]['verbose'](this[_0x5c470e(0x586)]+_0x5c470e(0x526)+_0x468244/0x3e8+'\x20segundos'),setTimeout(_0x516297,_0x468244);}};if(this[_0x584a23(0x35e)])return;this[_0x584a23(0x35e)]=!0x0;let _0x234308=_0x85c139();setTimeout(_0x516297,_0x234308);}async[a0_0x13c462(0x4f2)](){const _0x2441ee=a0_0x13c462;let _0x5aa624=this[_0x2441ee(0x1c1)][_0x2441ee(0x360)];try{let _0x52bf85=await this['repository'][_0x2441ee(0x5e0)][_0x2441ee(0x2dd)]({'where':{'$or':[{'owner':_0x5aa624},{'whoCanUse':{'$in':[_0x5aa624]}},{'shareOwners':{'$in':[_0x5aa624]}}]}}),_0x5c1f42=new Map(this['AutomateSystem']['flows']['map'](_0x4a826c=>[_0x4a826c[_0x2441ee(0x882)],_0x4a826c])),_0x440b08=_0x52bf85[_0x2441ee(0x4c1)](_0x277ea5=>{const _0x50eeb5=_0x2441ee;let _0x5918a7=_0x5c1f42[_0x50eeb5(0x6a5)](_0x277ea5['_id']?.[_0x50eeb5(0x2ba)]());return{'_id':_0x277ea5['_id']?.[_0x50eeb5(0x2ba)](),'name':_0x5918a7?.[_0x50eeb5(0x42b)]??_0x277ea5[_0x50eeb5(0x42b)],'default':_0x5918a7?.['default']??_0x277ea5[_0x50eeb5(0x6bc)]??!0x1,'startCommand':_0x5918a7?.['startCommand']??_0x277ea5[_0x50eeb5(0x840)],'minutesToClose':_0x5918a7?.['minutesToClose']??_0x277ea5['minutesToClose']??0xa,'readMessages':_0x5918a7?.[_0x50eeb5(0x4f1)]??_0x277ea5[_0x50eeb5(0x4f1)]??!0x1,'testingWith':_0x5918a7?.[_0x50eeb5(0x286)]??_0x277ea5['testingWith'],'canEdit':_0x277ea5[_0x50eeb5(0x7ae)]===_0x5aa624||(_0x277ea5[_0x50eeb5(0x32f)]??[])[_0x50eeb5(0x50c)](_0x5aa624),'usersCount':(_0x277ea5[_0x50eeb5(0x656)]??[])[_0x50eeb5(0x1d3)]??0x0};}),_0x256bf6=!0x1;_0x440b08['forEach'](_0x413f2a=>{const _0x2981d8=_0x2441ee;_0x413f2a[_0x2981d8(0x6bc)]&&(_0x256bf6?_0x413f2a[_0x2981d8(0x6bc)]=!0x1:_0x256bf6=!0x0);}),this[_0x2441ee(0x1cf)][_0x2441ee(0x1bc)]=_0x440b08;let _0x3a2aeb={'flows':_0x440b08};return await this[_0x2441ee(0x59e)]['automateSystem'][_0x2441ee(0x823)](_0x3a2aeb,_0x5aa624),this['logger'][_0x2441ee(0x3c2)](this[_0x2441ee(0x586)]+'\x20('+_0x5aa624+_0x2441ee(0x2f0)),_0x440b08['length'];}catch(_0x465a2b){return this[_0x2441ee(0x7de)][_0x2441ee(0x873)](this[_0x2441ee(0x586)]+'\x20('+_0x5aa624+_0x2441ee(0x309)+(_0x465a2b instanceof Error?_0x465a2b[_0x2441ee(0x7d2)]:JSON[_0x2441ee(0x524)](_0x465a2b,null,0x2))),{'message':_0x2441ee(0x7fd)+(_0x465a2b instanceof Error?_0x465a2b['message']:JSON[_0x2441ee(0x524)](_0x465a2b,null,0x2))};}}async[a0_0x13c462(0x8c2)](_0x4f7a1f){const _0xbba07d=a0_0x13c462;try{let _0xb4dcba=await this['repository'][_0xbba07d(0x1c1)][_0xbba07d(0x4cd)]({'where':{'_id':he+'-'+this[_0xbba07d(0x586)]}}),_0x3b21e8,_0x196144=!Le[_0xbba07d(0x17a)]||!Le[_0xbba07d(0x6a6)];console[_0xbba07d(0x253)](_0xbba07d(0x1c6)),console[_0xbba07d(0x253)](_0xbba07d(0x7f7),Ai),console['log'](_0xbba07d(0x8ab),this['reconnectAttempts']),console[_0xbba07d(0x253)](_0xbba07d(0x1c6)),Ai&&!_0x196144&&(this[_0xbba07d(0x688)]<0x4||!this['reconnectAttempts']?_0xb4dcba&&_0xb4dcba['ip']?(_0x3b21e8=_0xb4dcba['ip'],console['log'](_0xbba07d(0x596)+_0x3b21e8)):(_0x3b21e8=await Le[_0xbba07d(0x79e)](he,this[_0xbba07d(0x1c1)][_0xbba07d(0x42b)]),_0x3b21e8?(console['log'](_0xbba07d(0x5f2)+_0x3b21e8),await(0x0,w['delay'])(0x7d0)):console[_0xbba07d(0x873)](_0xbba07d(0x825))):this[_0xbba07d(0x688)]<0x6&&(console[_0xbba07d(0x253)](_0xbba07d(0x1f0)),_0x3b21e8=await Le[_0xbba07d(0x79e)](he,this[_0xbba07d(0x1c1)]['name']),_0x3b21e8?(console[_0xbba07d(0x253)]('Novo\x20IP\x20criado:\x20'+_0x3b21e8),await(0x0,w[_0xbba07d(0x184)])(0x7d0)):console['error'](_0xbba07d(0x8a7)))),this[_0xbba07d(0x544)](),this['instance'][_0xbba07d(0x459)]=(await this[_0xbba07d(0x59e)][_0xbba07d(0x775)][_0xbba07d(0x88b)](this[_0xbba07d(0x1c1)][_0xbba07d(0x42b)]))[_0xbba07d(0x459)],this[_0xbba07d(0x1c1)]['authState']=await this[_0xbba07d(0x2e0)]();let _0x469f14=[xi,Us,(0x0,ks[_0xbba07d(0x81d)])()],_0x2936c5={'localAddress':_0x3b21e8,'auth':{'creds':this['instance']['authState'][_0xbba07d(0x554)][_0xbba07d(0x5d8)],'keys':(0x0,w[_0xbba07d(0x495)])(this['instance'][_0xbba07d(0x746)]['state'][_0xbba07d(0x750)],(0x0,Ft['default'])({'level':_0xbba07d(0x873)}))},'logger':(0x0,Ft[_0xbba07d(0x6bc)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x4f7a1f?[_0xbba07d(0x5ba),Us,(0x0,ks[_0xbba07d(0x81d)])()]:_0x469f14,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4eb31d=>{const _0x15fece=_0xbba07d;let _0x5d3782=this['localWebhook']?.['groups_ignore']&&(0x0,w[_0x15fece(0x2ea)])(_0x4eb31d);return(0x0,w['isJidBroadcast'])(_0x4eb31d)||_0x5d3782;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x5dfb21=>await this[_0xbba07d(0x3f8)](_0x5dfb21),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xbba07d(0x40b)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x3cd0a2){const _0xdba45a=_0xbba07d;return _0x3cd0a2[_0xdba45a(0x49e)]?.[_0xdba45a(0x7d2)]?.[_0xdba45a(0x2f2)]?.['listType']===w['proto'][_0xdba45a(0x78b)]['ListMessage'][_0xdba45a(0x20a)][_0xdba45a(0x764)]&&(_0x3cd0a2=JSON[_0xdba45a(0x5a1)](JSON[_0xdba45a(0x524)](_0x3cd0a2)),_0x3cd0a2[_0xdba45a(0x49e)][_0xdba45a(0x7d2)][_0xdba45a(0x2f2)]['listType']=w[_0xdba45a(0x33c)][_0xdba45a(0x78b)][_0xdba45a(0x666)]['ListType'][_0xdba45a(0x77e)]),_0x3cd0a2['listMessage']?.[_0xdba45a(0x2a9)]==w[_0xdba45a(0x33c)][_0xdba45a(0x78b)]['ListMessage']['ListType']['PRODUCT_LIST']&&(_0x3cd0a2=JSON[_0xdba45a(0x5a1)](JSON[_0xdba45a(0x524)](_0x3cd0a2)),_0x3cd0a2['listMessage'][_0xdba45a(0x2a9)]=w[_0xdba45a(0x33c)][_0xdba45a(0x78b)][_0xdba45a(0x666)][_0xdba45a(0x20a)][_0xdba45a(0x77e)]),_0x3cd0a2;}};return this[_0xbba07d(0x787)]=!0x1,this['client']=(0x0,w[_0xbba07d(0x6bc)])(_0x2936c5),this[_0xbba07d(0x664)](),this['phoneNumber']=_0x4f7a1f,this['client'];}catch(_0x2cf58a){let _0x250639=_0xbba07d(0x5f5),_0x2d87ad=_0x2cf58a instanceof Error?_0x2cf58a[_0xbba07d(0x7d2)]:typeof _0x2cf58a==_0xbba07d(0x50b)?JSON[_0xbba07d(0x524)](_0x2cf58a):_0x2cf58a,_0x184dfc=_0x250639+':\x20'+_0x2d87ad;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xbba07d(0x360)]+_0xbba07d(0x351)+_0x184dfc),console['error']('Detalhes\x20do\x20erro:',_0x2cf58a),_0x2cf58a instanceof Error&&console[_0xbba07d(0x873)](_0xbba07d(0x812),_0x2cf58a[_0xbba07d(0x4ba)]),new x(_0x184dfc);}}['eventHandler'](){const _0x19b93a=a0_0x13c462;this[_0x19b93a(0x155)]['ev']['process'](_0x42a699=>{const _0x3ac9b5=_0x19b93a;if(!this[_0x3ac9b5(0x787)]){let _0x1a0e22=this['configService'][_0x3ac9b5(0x6a5)]('DATABASE');if(_0x42a699[_0x3ac9b5(0x702)]){let _0x55c16e=_0x42a699['labels.edit'];this[_0x3ac9b5(0x859)][_0x3ac9b5(0x702)](_0x55c16e);}if(_0x42a699[_0x3ac9b5(0x1f2)]){let _0x1dbb45=_0x42a699[_0x3ac9b5(0x1f2)];this[_0x3ac9b5(0x859)][_0x3ac9b5(0x1f2)](_0x1dbb45);}if(_0x42a699['connection.update']&&this['connectionUpdate'](_0x42a699[_0x3ac9b5(0x7af)]),_0x42a699[_0x3ac9b5(0x751)]&&this['instance'][_0x3ac9b5(0x746)][_0x3ac9b5(0x6ab)](),_0x42a699[_0x3ac9b5(0x640)]){let _0x48c52c=_0x42a699[_0x3ac9b5(0x640)];this[_0x3ac9b5(0x859)]['messaging-history.set'](_0x48c52c,_0x1a0e22);}if(_0x42a699[_0x3ac9b5(0x6cb)]){let _0x977316=_0x42a699[_0x3ac9b5(0x6cb)];this[_0x3ac9b5(0x859)][_0x3ac9b5(0x6cb)](_0x977316,_0x1a0e22);}if(_0x42a699[_0x3ac9b5(0x4ee)]){let _0x707d0=_0x42a699[_0x3ac9b5(0x4ee)];this[_0x3ac9b5(0x859)]['messages.update'](_0x707d0,_0x1a0e22);}if(_0x42a699['presence.update']){let _0x1d5594=_0x42a699[_0x3ac9b5(0x79c)];if(this[_0x3ac9b5(0x58a)]?.[_0x3ac9b5(0x56e)]&&_0x1d5594['id'][_0x3ac9b5(0x50c)]('@g.us'))return;this[_0x3ac9b5(0x38e)](_0x3ac9b5(0x79c),_0x1d5594);}if(_0x42a699['groups.upsert']){let _0x67c142=_0x42a699[_0x3ac9b5(0x31f)];this['groupHandler'][_0x3ac9b5(0x31f)](_0x67c142);}if(_0x42a699[_0x3ac9b5(0x255)]){let _0x1053b2=_0x42a699[_0x3ac9b5(0x255)];this['groupHandler'][_0x3ac9b5(0x255)](_0x1053b2);}if(_0x42a699[_0x3ac9b5(0x1b0)]){let _0x3c0d13=_0x42a699[_0x3ac9b5(0x1b0)];this[_0x3ac9b5(0x1a1)][_0x3ac9b5(0x1b0)](_0x3c0d13);}if(_0x42a699[_0x3ac9b5(0x222)]){let _0x347eb6=_0x42a699[_0x3ac9b5(0x222)];this[_0x3ac9b5(0x46f)][_0x3ac9b5(0x222)](_0x347eb6,_0x1a0e22);}if(_0x42a699[_0x3ac9b5(0x75a)]){let _0x34d0b6=_0x42a699['chats.update'];this['chatHandle'][_0x3ac9b5(0x75a)](_0x34d0b6,_0x1a0e22);}if(_0x42a699[_0x3ac9b5(0x3b0)]){let _0x43de0e=_0x42a699[_0x3ac9b5(0x3b0)];this['chatHandle']['chats.delete'](_0x43de0e);}if(_0x42a699[_0x3ac9b5(0x16d)]){let _0x3742cf=_0x42a699[_0x3ac9b5(0x16d)];this[_0x3ac9b5(0x23a)][_0x3ac9b5(0x16d)](_0x3742cf,_0x1a0e22);}if(_0x42a699[_0x3ac9b5(0x138)]){let _0x2e83bd=_0x42a699[_0x3ac9b5(0x138)];this[_0x3ac9b5(0x23a)][_0x3ac9b5(0x138)](_0x2e83bd,_0x1a0e22);}}});}async[a0_0x13c462(0x73e)](_0x23b374,_0x23ce4e){const _0x4c4aee=a0_0x13c462;if(_0x23ce4e>=0xa){console[_0x4c4aee(0x873)](this[_0x4c4aee(0x586)]+'\x20('+this[_0x4c4aee(0x1c1)][_0x4c4aee(0x360)]+_0x4c4aee(0x898)),delete Lt[_0x23b374[_0x4c4aee(0x733)]['id']];return;}try{console[_0x4c4aee(0x873)](this['instanceName']+'\x20('+this[_0x4c4aee(0x1c1)][_0x4c4aee(0x360)]+_0x4c4aee(0x2da)+(_0x23ce4e+0x1)),await this[_0x4c4aee(0x155)]['sendMessageAck'](JSON['parse'](_0x23b374[_0x4c4aee(0x165)][0x1],w['BufferJSON']['reviver'])),console[_0x4c4aee(0x873)](_0x4c4aee(0x53a));}catch(_0x2cafac){console[_0x4c4aee(0x873)](this[_0x4c4aee(0x586)]+'\x20('+this['instance']['wuid']+_0x4c4aee(0x1ab)+_0x2cafac),setTimeout(()=>this[_0x4c4aee(0x73e)](_0x23b374,_0x23ce4e+0x1),Math[_0x4c4aee(0x614)](0x2,_0x23ce4e)*0x3e8);}}async[a0_0x13c462(0x71d)](_0x144b25){const _0x102cbf=a0_0x13c462;let _0x1f7d2f=_0x144b25['key']['remoteJid'][_0x102cbf(0x682)](_0x102cbf(0x3c4)),_0xc6b108;if(_0x144b25[_0x102cbf(0x733)][_0x102cbf(0x2c3)])_0xc6b108=this['instance'][_0x102cbf(0x15b)];else{let _0x10e337=_0x1f7d2f?_0x144b25[_0x102cbf(0x733)][_0x102cbf(0x480)]:_0x144b25['key'][_0x102cbf(0x3aa)];_0xc6b108=(await this[_0x102cbf(0x363)](_0x10e337,_0x144b25[_0x102cbf(0x39b)],!0x1))[_0x102cbf(0x3dc)][_0x102cbf(0x6c7)];}_0x144b25['messageTimestamp']&&_0x144b25[_0x102cbf(0x32d)][_0x102cbf(0x2ba)]()[_0x102cbf(0x1d3)]<0xd&&(_0x144b25[_0x102cbf(0x32d)]=_0x144b25['messageTimestamp']*0x3e8);let _0x56f0e3={'_id':_0x144b25['key']['id'],'key':_0x144b25[_0x102cbf(0x733)],'isGroup':_0x1f7d2f,'profilePictureUrl':_0xc6b108,'pushName':_0x144b25[_0x102cbf(0x39b)],'message':{'text':_0x102cbf(0x18d)},'messageType':_0x102cbf(0x873),'message_normalized':{'key':_0x144b25[_0x102cbf(0x733)],'pushName':_0x144b25[_0x102cbf(0x39b)],'messageTimestamp':_0x144b25[_0x102cbf(0x32d)],'source':(0x0,w['getDevice'])(_0x144b25['key']['id']),'text':_0x102cbf(0x18d)},'messageTimestamp':_0x144b25['messageTimestamp'],'owner':this[_0x102cbf(0x1c1)][_0x102cbf(0x360)],'source':(0x0,w[_0x102cbf(0x203)])(_0x144b25[_0x102cbf(0x733)]['id'])};this[_0x102cbf(0x7de)][_0x102cbf(0x873)](this[_0x102cbf(0x586)]+'\x20('+this['instance'][_0x102cbf(0x360)]+_0x102cbf(0x351)+(_0x56f0e3[_0x102cbf(0x733)]?.[_0x102cbf(0x2c3)]?_0x102cbf(0x56d):_0x102cbf(0x41c))+'\x20['+_0x56f0e3[_0x102cbf(0x733)]?.[_0x102cbf(0x3aa)]['replace'](_0x102cbf(0x703),'')+_0x102cbf(0x7bf)+_0x56f0e3['messageType']+')'),_0x56f0e3['message_normalized']?.[_0x102cbf(0x1e0)]&&this['logger'][_0x102cbf(0x873)](_0x144b25[_0x102cbf(0x733)]['id']+':\x20'+_0x56f0e3[_0x102cbf(0x7a2)]?.[_0x102cbf(0x1e0)]),await this[_0x102cbf(0x59e)][_0x102cbf(0x7d2)]['insert']([_0x56f0e3],this[_0x102cbf(0x1c1)][_0x102cbf(0x360)]),await this[_0x102cbf(0x59e)][_0x102cbf(0x416)]['insert']([_0x56f0e3]),this['sendDataWebhook'](_0x102cbf(0x6cb),_0x56f0e3),F(this['instanceName'],_0x102cbf(0x418),{'message':_0x56f0e3});}[a0_0x13c462(0x14e)](_0x25b52d){return new Promise(_0x5e8388=>setTimeout(_0x5e8388,_0x25b52d));}[a0_0x13c462(0x486)](_0x384d7e){const _0x247bf9=a0_0x13c462;_0x384d7e=_0x384d7e[_0x247bf9(0x445)](/\D/g,'');let _0x23a268=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x247bf9(0x339)](_0x384d7e);if(_0x23a268&&_0x23a268[0x1]==='55'){let _0x65ecbc=_0x23a268[0x2],_0x5c9a68=_0x23a268[0x3],_0x1438db=_0x23a268[0x4];if(parseInt(_0x65ecbc)>=0x1f&&_0x5c9a68==='9')return _0x23a268[0x1]+_0x65ecbc+_0x1438db;}return _0x384d7e;}['createJid'](_0x228bdf){const _0x4324e9=a0_0x13c462;return _0x228bdf[_0x4324e9(0x50c)](_0x4324e9(0x3c4))||_0x228bdf[_0x4324e9(0x50c)]('@s.whatsapp.net')||_0x228bdf[_0x4324e9(0x50c)]('@broadcast')?_0x228bdf:(_0x228bdf=_0x228bdf?.['replace'](/\s/g,'')[_0x4324e9(0x445)](/\+/g,'')[_0x4324e9(0x445)](/\(/g,'')[_0x4324e9(0x445)](/\)/g,'')[_0x4324e9(0x4ca)](/\:/)[0x0][_0x4324e9(0x4ca)]('@')[0x0],_0x228bdf[_0x4324e9(0x1d3)]>=0x12?(_0x228bdf=_0x228bdf[_0x4324e9(0x445)](/[^\d-]/g,''),_0x228bdf+'@g.us'):(_0x228bdf=_0x228bdf[_0x4324e9(0x445)](/\D/g,''),_0x228bdf+_0x4324e9(0x703)));}async['updatePresence'](_0x3bf00d){const _0x182564=a0_0x13c462;let _0x13a86e=(await this[_0x182564(0x1de)]({'numbers':[_0x3bf00d['number']]}))[0x0];if(!_0x13a86e[_0x182564(0x534)]&&!(0x0,w[_0x182564(0x2ea)])(_0x13a86e[_0x182564(0x6f6)])&&!_0x13a86e[_0x182564(0x6f6)][_0x182564(0x50c)]('@broadcast'))throw new m(_0x13a86e);let _0x4702de=_0x13a86e[_0x182564(0x6f6)];try{return await this[_0x182564(0x155)][_0x182564(0x826)](_0x4702de),await this[_0x182564(0x155)][_0x182564(0x455)](_0x3bf00d[_0x182564(0x37a)],_0x4702de),{'status':0xc8,'presence':_0x3bf00d[_0x182564(0x37a)]};}catch(_0x2e813f){let _0x5cd40f='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x390ddd=_0x2e813f instanceof Error?_0x2e813f[_0x182564(0x7d2)]:typeof _0x2e813f==_0x182564(0x50b)?JSON[_0x182564(0x524)](_0x2e813f):_0x2e813f,_0x15e541=_0x5cd40f+':\x20'+_0x390ddd;throw this[_0x182564(0x7de)][_0x182564(0x873)](this[_0x182564(0x586)]+'\x20('+this[_0x182564(0x1c1)][_0x182564(0x360)]+_0x182564(0x351)+_0x15e541),new m(_0x15e541);}}async['findAndUpdateCacheContact'](_0x13988f,_0x45da91,_0x39afd5,_0x6f2b13=!0x0){const _0x1b0170=a0_0x13c462;let _0x471bd8=await this['repository'][_0x1b0170(0x22d)]['findOne']({'where':{'_id':_0x13988f}});if(!_0x471bd8&&!_0x6f2b13)return;let _0x43e9a0={'lastUpdate':Date[_0x1b0170(0x421)]()};if(_0x39afd5||!_0x471bd8?.[_0x1b0170(0x6c0)]||Date[_0x1b0170(0x421)]()-_0x471bd8[_0x1b0170(0x6c0)]>0x18*0x3c*0x3c*0x3e8)try{let _0x298370=(await this[_0x1b0170(0x758)](_0x13988f))[_0x1b0170(0x15b)];_0x43e9a0['pictureUrl']=_0x298370;}catch(_0x28441a){let _0x3365d0='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x19b1a3=_0x28441a instanceof Error?_0x28441a[_0x1b0170(0x7d2)]:typeof _0x28441a=='object'?JSON[_0x1b0170(0x524)](_0x28441a):_0x28441a,_0x274661=_0x3365d0+':\x20'+_0x19b1a3;throw this[_0x1b0170(0x7de)][_0x1b0170(0x873)](this[_0x1b0170(0x586)]+'\x20('+this[_0x1b0170(0x1c1)][_0x1b0170(0x360)]+_0x1b0170(0x351)+_0x274661),new m(_0x274661);}return _0x45da91&&_0x471bd8?.[_0x1b0170(0x42b)]!==_0x45da91&&(_0x43e9a0['name']=_0x45da91),Object[_0x1b0170(0x750)](_0x43e9a0)[_0x1b0170(0x1d3)]>0x1&&(_0x471bd8?await this['repository'][_0x1b0170(0x22d)][_0x1b0170(0x823)]({'where':{'_id':_0x13988f}},_0x43e9a0):await this[_0x1b0170(0x59e)][_0x1b0170(0x22d)][_0x1b0170(0x7d5)]([{'_id':_0x13988f,..._0x43e9a0}]),_0x471bd8={..._0x471bd8,..._0x43e9a0}),{'cachedContact':_0x471bd8};}async[a0_0x13c462(0x758)](_0x811a6){const _0x59c882=a0_0x13c462;let _0x5a681a=this['createJid'](_0x811a6);try{return{'wuid':_0x5a681a,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x5a681a,_0x59c882(0x25b))};}catch{return{'wuid':_0x5a681a,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x5942d5,_0x5dbc89,_0xc54186){const _0x3c538c=a0_0x13c462;let _0x3021b5=0x0;for(;_0x3021b5<0x5;)try{return await this['sendMessageWithTyping'](_0x5942d5,_0x5dbc89,_0xc54186);}catch(_0x4889c5){if(_0x3021b5++,_0x4889c5 instanceof Error&&_0x4889c5['message']===_0x3c538c(0x872)){if(_0x3021b5>=0x5)throw new m(_0x3c538c(0x71e)+_0x4889c5[_0x3c538c(0x7d2)]);this[_0x3c538c(0x7de)]['warn'](_0x3c538c(0x80a)+_0x3021b5+'/5\x20falhou:\x20'+_0x4889c5[_0x3c538c(0x7d2)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x3c538c(0x274)),await new Promise(_0xe6a5a=>setTimeout(_0xe6a5a,0x1388));}else throw new m(_0x4889c5[_0x3c538c(0x7d2)]);}}async[a0_0x13c462(0x5fa)](_0x5630ab,_0x53718c,_0x3047ca){const _0x1c9a05=a0_0x13c462;let _0x1a5d2f;try{let _0xd52ec8=(await this['whatsappNumber']({'numbers':[_0x5630ab]}))?.['shift']();if(!_0xd52ec8[_0x1c9a05(0x534)]&&!(0x0,w[_0x1c9a05(0x2ea)])(_0xd52ec8['jid'])&&!_0xd52ec8[_0x1c9a05(0x6f6)][_0x1c9a05(0x50c)](_0x1c9a05(0x51c)))throw new m(_0xd52ec8);_0x1a5d2f=_0xd52ec8[_0x1c9a05(0x6f6)];}catch(_0x20fedf){_0x1a5d2f=_0x5630ab,this[_0x1c9a05(0x7de)][_0x1c9a05(0x30b)](this[_0x1c9a05(0x586)]+'\x20('+this[_0x1c9a05(0x1c1)]['wuid']+_0x1c9a05(0x2e1)+_0x20fedf[_0x1c9a05(0x7d2)]),this[_0x1c9a05(0x7de)][_0x1c9a05(0x30b)](this['instanceName']+'\x20('+this[_0x1c9a05(0x1c1)]['wuid']+_0x1c9a05(0x7e9)+_0x1a5d2f);}try{if(_0x1a5d2f||(_0x1a5d2f=_0x5630ab,this['logger'][_0x1c9a05(0x30b)](this[_0x1c9a05(0x586)]+'\x20('+this[_0x1c9a05(0x1c1)]['wuid']+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x1a5d2f)),_0x3047ca||(_0x3047ca={}),_0x3047ca?.[_0x1c9a05(0x184)]){await this[_0x1c9a05(0x155)][_0x1c9a05(0x826)](_0x1a5d2f),await this[_0x1c9a05(0x155)][_0x1c9a05(0x455)](_0x3047ca?.[_0x1c9a05(0x37a)]??'composing',_0x1a5d2f);let _0x41ac78=Math[_0x1c9a05(0x884)](_0x3047ca[_0x1c9a05(0x184)],0x2710);await(0x0,w[_0x1c9a05(0x184)])(_0x41ac78),await this[_0x1c9a05(0x155)][_0x1c9a05(0x455)](_0x1c9a05(0x41e),_0x1a5d2f);}let _0x2c2e37=_0x3047ca?.[_0x1c9a05(0x340)]!=!0x1?void 0x0:!0x1,_0x2b22dc;if(_0x3047ca?.['quoted']){let _0x49add1=_0x3047ca?.[_0x1c9a05(0x15f)],_0x2165d7=_0x49add1?.[_0x1c9a05(0x7d2)]?_0x49add1:await this[_0x1c9a05(0x3f8)](_0x49add1['key'],!0x0);_0x2165d7&&(_0x2b22dc=_0x2165d7);}let _0x3be817=await this[_0x1c9a05(0x59e)]['chat'][_0x1c9a05(0x4cd)]({'where':{'_id':_0x1a5d2f}},this[_0x1c9a05(0x1c1)][_0x1c9a05(0x360)]),_0x527f60,_0x39a6fb=null;if((0x0,w[_0x1c9a05(0x2ea)])(_0x1a5d2f))try{if(_0x39a6fb=_0x3be817[_0x1c9a05(0x177)],!_0x39a6fb)throw new U('Grupo\x20não\x20encontrado');if(!_0x39a6fb['canSendMessage'])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x3047ca?.[_0x1c9a05(0x4cb)]&&(_0x3047ca[_0x1c9a05(0x4cb)]?.[_0x1c9a05(0x490)]?_0x527f60=_0x39a6fb[_0x1c9a05(0x4b4)][_0x1c9a05(0x4c1)](_0x4f2f66=>_0x4f2f66['id']):_0x3047ca[_0x1c9a05(0x4cb)]?.[_0x1c9a05(0x65a)]?.[_0x1c9a05(0x1d3)]&&(_0x527f60=_0x3047ca[_0x1c9a05(0x4cb)]['mentioned'][_0x1c9a05(0x4c1)](_0x4289b2=>{const _0x38fb92=_0x1c9a05;let _0x54fb96=this[_0x38fb92(0x621)](_0x4289b2);return(0x0,w['isJidGroup'])(_0x54fb96)?null:_0x54fb96;})));}catch(_0x481b4c){throw _0x481b4c instanceof U?new U(_0x1c9a05(0x47c)):_0x481b4c instanceof m?new m(_0x1c9a05(0x605)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x471712=await((async()=>{const _0x5c625d=_0x1c9a05;let _0x11771b={'quoted':_0x2b22dc,'ephemeralExpiration':_0x3be817?.[_0x5c625d(0x59c)]??0x0};if(!_0x53718c[_0x5c625d(0x604)]&&!_0x53718c[_0x5c625d(0x460)]&&!_0x53718c[_0x5c625d(0x7a3)]&&!_0x53718c[_0x5c625d(0x30f)]&&_0x1a5d2f!==_0x5c625d(0x399)&&_0x53718c[_0x5c625d(0x53e)])return await this[_0x5c625d(0x155)][_0x5c625d(0x615)](_0x1a5d2f,{'react':{'text':_0x53718c[_0x5c625d(0x53e)][_0x5c625d(0x1e0)],'key':_0x53718c[_0x5c625d(0x53e)][_0x5c625d(0x733)]}},_0x11771b);if(_0x53718c[_0x5c625d(0x30f)]){let _0x2c943f=_0x53718c[_0x5c625d(0x30f)];return _0x3047ca?.[_0x5c625d(0x14a)]&&(_0x2c943f=await this['replaceVariablesChat'](_0x2c943f,_0x1a5d2f)),await this[_0x5c625d(0x155)][_0x5c625d(0x615)](_0x1a5d2f,{'text':_0x2c943f,'mentions':_0x527f60,'linkPreview':_0x2c2e37},_0x11771b);}return!_0x53718c['audio']&&!_0x53718c['poll']&&_0x1a5d2f!=_0x5c625d(0x399)?await this['client'][_0x5c625d(0x615)](_0x1a5d2f,{'forward':{'key':{'remoteJid':this[_0x5c625d(0x1c1)][_0x5c625d(0x360)],'fromMe':!0x0},'message':_0x53718c},'mentions':_0x527f60},_0x11771b):_0x1a5d2f==='status@broadcast'?await this['client'][_0x5c625d(0x615)](_0x1a5d2f,_0x53718c['status'][_0x5c625d(0x50e)],{'backgroundColor':_0x53718c[_0x5c625d(0x22e)][_0x5c625d(0x166)][_0x5c625d(0x136)],'font':_0x53718c['status']['option'][_0x5c625d(0x706)],'statusJidList':_0x53718c['status'][_0x5c625d(0x166)][_0x5c625d(0x3ae)]}):await this['client'][_0x5c625d(0x615)](_0x1a5d2f,_0x53718c,_0x11771b);})()),_0x5eae00=(0x0,w[_0x1c9a05(0x3e1)])(_0x471712['message']),_0x212443=(0x0,w['getContentType'])(_0x5eae00),{message_normalized:_0x2cac0c}=this[_0x1c9a05(0x325)](_0x5eae00,_0x212443,null),_0x4dc4b8={'_id':_0x471712[_0x1c9a05(0x733)]['id'],'key':_0x471712[_0x1c9a05(0x733)],'pushName':_0x471712[_0x1c9a05(0x39b)],'isGroup':_0x471712[_0x1c9a05(0x733)][_0x1c9a05(0x3aa)][_0x1c9a05(0x682)]('@g.us'),'profilePictureUrl':this[_0x1c9a05(0x1c1)][_0x1c9a05(0x15b)],'message':_0x5eae00,'messageType':_0x212443,'message_normalized':{'key':_0x471712['key'],'pushName':_0x471712['pushName'],'messageTimestamp':_0x471712[_0x1c9a05(0x32d)]&&_0x471712[_0x1c9a05(0x32d)][_0x1c9a05(0x2ba)]()[_0x1c9a05(0x1d3)]<0xd?_0x471712['messageTimestamp']*0x3e8:_0x471712[_0x1c9a05(0x32d)]||null,'source':(0x0,w[_0x1c9a05(0x203)])(_0x471712[_0x1c9a05(0x733)]['id']),..._0x2cac0c},'messageTimestamp':_0x471712[_0x1c9a05(0x32d)]&&_0x471712[_0x1c9a05(0x32d)][_0x1c9a05(0x2ba)]()['length']<0xd?_0x471712[_0x1c9a05(0x32d)]*0x3e8:_0x471712['messageTimestamp']||null,'owner':this[_0x1c9a05(0x1c1)]['wuid'],'source':(0x0,w[_0x1c9a05(0x203)])(_0x471712[_0x1c9a05(0x733)]['id'])};return this['logger'][_0x1c9a05(0x30b)](this[_0x1c9a05(0x586)]+'\x20('+this['instance']['wuid']+_0x1c9a05(0x400)+_0x4dc4b8[_0x1c9a05(0x733)]?.[_0x1c9a05(0x3aa)][_0x1c9a05(0x445)]('@s.whatsapp.net','')+']\x20('+_0x4dc4b8[_0x1c9a05(0x441)]+')'),_0x4dc4b8[_0x1c9a05(0x7a2)]?.[_0x1c9a05(0x1e0)]&&this['logger'][_0x1c9a05(0x30b)](_0x4dc4b8['message_normalized']?.[_0x1c9a05(0x1e0)]),this['sendDataWebhook'](_0x1c9a05(0x709),_0x4dc4b8),F(this[_0x1c9a05(0x586)],'messages',{'message':_0x4dc4b8}),this['updateChatWithMessage'](this[_0x1c9a05(0x310)][_0x1c9a05(0x6a5)]('DATABASE'),_0x4dc4b8,_0x1c9a05(0x86b),_0x3be817),await this['repository'][_0x1c9a05(0x7d2)][_0x1c9a05(0x7d5)]([_0x4dc4b8],this[_0x1c9a05(0x1c1)][_0x1c9a05(0x360)]),_0x471712;}catch(_0x20e19a){let _0x12a298=_0x1c9a05(0x27e)+_0x1a5d2f,_0x3afff9=_0x20e19a instanceof Error?_0x20e19a[_0x1c9a05(0x7d2)]:typeof _0x20e19a==_0x1c9a05(0x50b)?JSON[_0x1c9a05(0x524)](_0x20e19a):_0x20e19a,_0x289f27=_0x12a298+':\x20'+_0x3afff9;throw this[_0x1c9a05(0x7de)][_0x1c9a05(0x873)](this[_0x1c9a05(0x586)]+'\x20('+this['instance'][_0x1c9a05(0x360)]+'):\x20'+_0x289f27),new m(_0x289f27);}}async[a0_0x13c462(0x3e0)](_0x2543fc,_0x1fe6eb,_0x4a1812){const _0x58462d=a0_0x13c462;let _0x138af2=this[_0x58462d(0x621)](_0x2543fc),_0x10666a=(await this[_0x58462d(0x1de)]({'numbers':[_0x138af2]}))[0x0];if(!_0x10666a[_0x58462d(0x534)]&&!(0x0,w['isJidGroup'])(_0x10666a[_0x58462d(0x6f6)]))throw new m(_0x10666a);let _0x26c011=(0x0,w[_0x58462d(0x2ea)])(_0x138af2)?_0x138af2:_0x10666a[_0x58462d(0x6f6)];if((0x0,w[_0x58462d(0x2ea)])(_0x26c011))try{await this[_0x58462d(0x155)]['groupMetadata'](_0x26c011);}catch{throw new m(_0x58462d(0x3a0));}try{_0x4a1812?.[_0x58462d(0x184)]&&(await this[_0x58462d(0x155)][_0x58462d(0x826)](_0x26c011),await this['client'][_0x58462d(0x455)](_0x4a1812?.[_0x58462d(0x37a)]??_0x58462d(0x5ea),_0x138af2),await(0x0,w[_0x58462d(0x184)])(_0x4a1812['delay']),await this['client'][_0x58462d(0x455)](_0x58462d(0x41e),_0x26c011));let _0x43ed55=await((async()=>{const _0x55aba8=_0x58462d;let _0x5af2bf,_0x2a8f18=_0x55aba8(0x230)+(0x0,oe[_0x55aba8(0x742)])(0x12)[_0x55aba8(0x2ba)]('hex')[_0x55aba8(0x439)](),_0x3e62b5=(0x0,w[_0x55aba8(0x1b1)])(_0x26c011,_0x1fe6eb,{'timestamp':new Date(),'userJid':this['instance'][_0x55aba8(0x360)],'messageId':_0x2a8f18,'quoted':_0x5af2bf}),_0x49c100=await this[_0x55aba8(0x155)]['relayMessage'](_0x26c011,_0x3e62b5[_0x55aba8(0x7d2)],{'messageId':_0x2a8f18});_0x3e62b5[_0x55aba8(0x733)]={'id':_0x49c100,'remoteJid':_0x138af2,'participant':(0x0,w['isJidUser'])(_0x138af2)?void 0x0:_0x138af2,'fromMe':!0x0};for(let [_0x393470,_0x55b3ca]of Object[_0x55aba8(0x1ce)](_0x3e62b5))(!_0x55b3ca||Array['isArray'](_0x55b3ca)&&_0x55b3ca[_0x55aba8(0x1d3)]===0x0)&&delete _0x3e62b5[_0x393470];return this[_0x55aba8(0x155)]['ev'][_0x55aba8(0x844)](_0x55aba8(0x6cb),{'messages':[_0x3e62b5],'type':_0x55aba8(0x408)}),_0x3e62b5;})()),_0x45c82e=await this[_0x58462d(0x59e)][_0x58462d(0x696)][_0x58462d(0x4cd)]({'where':{'_id':_0x26c011}},this[_0x58462d(0x1c1)][_0x58462d(0x360)]),_0x419fae=(0x0,w[_0x58462d(0x3e1)])(_0x43ed55[_0x58462d(0x7d2)]),_0x4ea015=(0x0,w[_0x58462d(0x82c)])(_0x419fae),{message_normalized:_0xdd648e}=this[_0x58462d(0x325)](_0x419fae,_0x4ea015,null),_0x1fe5da={'_id':_0x43ed55[_0x58462d(0x733)]['id'],'key':_0x43ed55[_0x58462d(0x733)],'pushName':_0x43ed55[_0x58462d(0x39b)],'isGroup':_0x43ed55[_0x58462d(0x733)]['remoteJid'][_0x58462d(0x682)](_0x58462d(0x3c4)),'profilePictureUrl':this[_0x58462d(0x1c1)][_0x58462d(0x15b)],'message':_0x419fae,'messageType':_0x4ea015,'message_normalized':{'key':_0x43ed55[_0x58462d(0x733)],'pushName':_0x43ed55[_0x58462d(0x39b)],'messageTimestamp':_0x43ed55[_0x58462d(0x32d)]&&_0x43ed55[_0x58462d(0x32d)][_0x58462d(0x2ba)]()[_0x58462d(0x1d3)]<0xd?_0x43ed55[_0x58462d(0x32d)]*0x3e8:_0x43ed55[_0x58462d(0x32d)]||null,'source':(0x0,w['getDevice'])(_0x43ed55['key']['id']),..._0xdd648e},'messageTimestamp':_0x43ed55[_0x58462d(0x32d)]&&_0x43ed55['messageTimestamp'][_0x58462d(0x2ba)]()[_0x58462d(0x1d3)]<0xd?_0x43ed55[_0x58462d(0x32d)]*0x3e8:_0x43ed55[_0x58462d(0x32d)]||null,'owner':this['instance'][_0x58462d(0x360)],'source':(0x0,w[_0x58462d(0x203)])(_0x43ed55[_0x58462d(0x733)]['id'])};return this['logger'][_0x58462d(0x30b)](this[_0x58462d(0x586)]+'\x20('+this[_0x58462d(0x1c1)][_0x58462d(0x360)]+_0x58462d(0x400)+_0x1fe5da[_0x58462d(0x733)]?.[_0x58462d(0x3aa)][_0x58462d(0x445)]('@s.whatsapp.net','')+_0x58462d(0x7bf)+_0x1fe5da[_0x58462d(0x441)]+')'),_0x1fe5da['message_normalized']?.[_0x58462d(0x1e0)]&&this[_0x58462d(0x7de)][_0x58462d(0x30b)](_0x1fe5da[_0x58462d(0x7a2)]?.[_0x58462d(0x1e0)]),this[_0x58462d(0x38e)]('send.message',_0x1fe5da),F(this['instanceName'],'messages',{'message':_0x1fe5da}),this['updateChatWithMessage'](this[_0x58462d(0x310)]['get'](_0x58462d(0x169)),_0x1fe5da,'SEND_MESSAGE',_0x45c82e),await this[_0x58462d(0x59e)][_0x58462d(0x7d2)][_0x58462d(0x7d5)]([_0x1fe5da],this[_0x58462d(0x1c1)][_0x58462d(0x360)]),_0x43ed55;}catch(_0x495c65){throw this['logger'][_0x58462d(0x873)](_0x495c65),new m(_0x495c65[_0x58462d(0x2ba)]());}}get[a0_0x13c462(0x6ad)](){const _0x39a799=a0_0x13c462;return this[_0x39a799(0x69c)];}async[a0_0x13c462(0x2db)](_0x1b6320){const _0x52a894=a0_0x13c462;return await this[_0x52a894(0x4d8)](_0x1b6320['number'],{'conversation':_0x1b6320[_0x52a894(0x2db)][_0x52a894(0x1e0)]},_0x1b6320?.[_0x52a894(0x4e3)]);}async[a0_0x13c462(0x7a0)](_0x1f519b){const _0x30d1a3=a0_0x13c462;if(!_0x1f519b[_0x30d1a3(0x2b5)])throw new m(_0x30d1a3(0x5b6));if(!_0x1f519b[_0x30d1a3(0x50e)])throw new m(_0x30d1a3(0x6b0));if(_0x1f519b[_0x30d1a3(0x8b8)]){let _0x176bf8=await this['repository'][_0x30d1a3(0x70f)][_0x30d1a3(0x88b)]({'where':{}},this[_0x30d1a3(0x1c1)]['wuid']);if(!_0x176bf8[_0x30d1a3(0x1d3)])throw new m(_0x30d1a3(0x17b));_0x1f519b[_0x30d1a3(0x3ae)]=_0x176bf8['filter'](_0x880236=>_0x880236[_0x30d1a3(0x39b)])[_0x30d1a3(0x4c1)](_0x2a6e00=>_0x2a6e00[_0x30d1a3(0x882)]);}if(!_0x1f519b[_0x30d1a3(0x3ae)]?.['length']&&!_0x1f519b['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x1f519b[_0x30d1a3(0x2b5)]===_0x30d1a3(0x1e0)){if(!_0x1f519b['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x1f519b[_0x30d1a3(0x706)])throw new m(_0x30d1a3(0x839));return{'content':{'text':_0x1f519b[_0x30d1a3(0x50e)]},'option':{'backgroundColor':_0x1f519b[_0x30d1a3(0x136)],'font':_0x1f519b[_0x30d1a3(0x706)],'statusJidList':_0x1f519b[_0x30d1a3(0x3ae)]}};}if(_0x1f519b[_0x30d1a3(0x2b5)]===_0x30d1a3(0x25b))return{'content':{'image':{'url':_0x1f519b[_0x30d1a3(0x50e)]},'caption':_0x1f519b['caption']},'option':{'statusJidList':_0x1f519b[_0x30d1a3(0x3ae)]}};if(_0x1f519b[_0x30d1a3(0x2b5)]==='video')return{'content':{'video':{'url':_0x1f519b[_0x30d1a3(0x50e)]},'caption':_0x1f519b[_0x30d1a3(0x541)]},'option':{'statusJidList':_0x1f519b[_0x30d1a3(0x3ae)]}};if(_0x1f519b[_0x30d1a3(0x2b5)]===_0x30d1a3(0x604)){this[_0x30d1a3(0x7de)]['verbose'](this[_0x30d1a3(0x586)]+'\x20('+this[_0x30d1a3(0x1c1)][_0x30d1a3(0x360)]+_0x30d1a3(0x16f)),this['logger']['verbose'](this[_0x30d1a3(0x586)]+'\x20('+this['instance'][_0x30d1a3(0x360)]+'):Processing\x20audio');let _0x57a947=await this[_0x30d1a3(0x13b)](_0x1f519b[_0x30d1a3(0x50e)]);if(typeof _0x57a947==_0x30d1a3(0x7d4)){this[_0x30d1a3(0x7de)]['verbose'](this[_0x30d1a3(0x586)]+'\x20('+this['instance'][_0x30d1a3(0x360)]+_0x30d1a3(0x3c8));let _0x4f61d2=k[_0x30d1a3(0x5bf)](_0x57a947)[_0x30d1a3(0x2ba)](_0x30d1a3(0x1f9));return{'content':{'audio':Buffer[_0x30d1a3(0x370)](_0x4f61d2,_0x30d1a3(0x1f9)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x1f519b[_0x30d1a3(0x3ae)]}};}else throw new x(_0x57a947);}throw new m(_0x30d1a3(0x89c));}async[a0_0x13c462(0x317)](_0x5b3faf){const _0x347697=a0_0x13c462;return await this[_0x347697(0x4d8)](_0x347697(0x399),{'status':await this['formatStatusMessage'](_0x5b3faf[_0x347697(0x317)])});}async[a0_0x13c462(0x76b)](_0x489445){const _0x286dc1=a0_0x13c462;try{let _0x51aaa9=await(0x0,w[_0x286dc1(0x412)])({[_0x489445[_0x286dc1(0x3d8)]]:(0x0,J[_0x286dc1(0x883)])(_0x489445[_0x286dc1(0x41a)])?{'url':_0x489445[_0x286dc1(0x41a)]}:Buffer[_0x286dc1(0x370)](_0x489445[_0x286dc1(0x41a)],'base64')},{'upload':this[_0x286dc1(0x155)][_0x286dc1(0x233)]}),_0x35f500=_0x489445['mediatype']+_0x286dc1(0x78b);if(_0x489445['mediatype']==='document'&&!_0x489445['fileName']){let _0x238c82=new RegExp(/.*\/(.+?)\./)[_0x286dc1(0x339)](_0x489445[_0x286dc1(0x41a)]);_0x489445[_0x286dc1(0x332)]=_0x238c82?_0x238c82[0x1]:null;}let _0x2d2524;return(0x0,J['isURL'])(_0x489445['media'])?_0x2d2524=(await K[_0x286dc1(0x6bc)][_0x286dc1(0x6a5)](_0x489445['media'],{'responseType':_0x286dc1(0x8a0)}))[_0x286dc1(0x7bc)]['content-type']:_0x2d2524=(0x0,Oi[_0x286dc1(0x592)])(_0x489445[_0x286dc1(0x332)]),_0x51aaa9[_0x35f500][_0x286dc1(0x541)]=_0x489445?.[_0x286dc1(0x541)],_0x51aaa9[_0x35f500][_0x286dc1(0x491)]=_0x2d2524,_0x51aaa9[_0x35f500][_0x286dc1(0x332)]=_0x489445[_0x286dc1(0x332)],_0x489445[_0x286dc1(0x3d8)]==='video'&&(_0x51aaa9[_0x35f500][_0x286dc1(0x1ac)]=Uint8Array[_0x286dc1(0x370)]((0x0,Fe['readFileSync'])((0x0,j[_0x286dc1(0x65f)])(process[_0x286dc1(0x425)](),_0x286dc1(0x65e)))),_0x51aaa9[_0x35f500][_0x286dc1(0x5d9)]=!0x1),(0x0,w[_0x286dc1(0x1b1)])('',{[_0x35f500]:{..._0x51aaa9[_0x35f500]}},{'userJid':this['instance']['wuid']});}catch(_0x28a341){let _0x5267eb=_0x286dc1(0x25d),_0xbc8d23=_0x28a341 instanceof Error?_0x28a341[_0x286dc1(0x7d2)]:typeof _0x28a341=='object'?JSON[_0x286dc1(0x524)](_0x28a341):_0x28a341,_0x58f76c=_0x5267eb+':\x20'+_0xbc8d23;throw this['logger'][_0x286dc1(0x873)](this[_0x286dc1(0x586)]+'\x20('+this['instance'][_0x286dc1(0x360)]+_0x286dc1(0x351)+_0x58f76c),new x(_0x58f76c);}}async['mediaMessage'](_0x2f9b91){const _0x76782b=a0_0x13c462;let _0x4c1ebd=0x0;for(;_0x4c1ebd<0x5;)try{let _0x13d636=await this[_0x76782b(0x76b)](_0x2f9b91['mediaMessage']);return await this[_0x76782b(0x4d8)](_0x2f9b91[_0x76782b(0x89e)],{..._0x13d636['message']},_0x2f9b91?.[_0x76782b(0x4e3)]);}catch(_0x219caa){if(_0x4c1ebd++,_0x219caa instanceof Error&&_0x219caa[_0x76782b(0x7d2)]===_0x76782b(0x872)){if(_0x4c1ebd>=0x5)throw new m(_0x76782b(0x220)+_0x219caa[_0x76782b(0x7d2)]);this['logger']['warn']('Tentativa\x20'+_0x4c1ebd+_0x76782b(0x24e)+_0x219caa[_0x76782b(0x7d2)]+_0x76782b(0x68e)+0x1388/0x3e8+_0x76782b(0x274)),await new Promise(_0x3f8304=>setTimeout(_0x3f8304,0x1388));}else throw new m(_0x219caa[_0x76782b(0x7d2)]);}}async[a0_0x13c462(0x680)](_0x5d4dec,_0x4dfb82){const _0x5cd058=a0_0x13c462;try{this['logger']['verbose'](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x21d622,_0x2c9576=_0x4dfb82+'-'+new Date()['getTime']();this[_0x5cd058(0x7de)][_0x5cd058(0x3c2)](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)][_0x5cd058(0x360)]+'):Hash\x20to\x20image\x20name:\x20'+_0x2c9576);let _0x4aaefb=''+(0x0,j[_0x5cd058(0x65f)])(this['storePath'],_0x2c9576+_0x5cd058(0x87b));if(this['logger'][_0x5cd058(0x3c2)](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)][_0x5cd058(0x360)]+_0x5cd058(0x73b)+_0x4aaefb),(0x0,J[_0x5cd058(0x40a)])(_0x5d4dec)){this['logger'][_0x5cd058(0x3c2)](this['instanceName']+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+_0x5cd058(0x824));let _0x583c11=_0x5d4dec[_0x5cd058(0x445)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x317dbc=Buffer[_0x5cd058(0x370)](_0x583c11,_0x5cd058(0x1f9));_0x21d622=''+(0x0,j[_0x5cd058(0x65f)])(this[_0x5cd058(0x624)],'temp-'+_0x2c9576+_0x5cd058(0x8b9)),this[_0x5cd058(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x5cd058(0x1c1)][_0x5cd058(0x360)]+_0x5cd058(0x39f)+_0x21d622),await(0x0,Ut[_0x5cd058(0x6bc)])(_0x317dbc)[_0x5cd058(0x590)](_0x21d622),this[_0x5cd058(0x7de)][_0x5cd058(0x3c2)](this['instanceName']+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+'):Image\x20created');}else{this[_0x5cd058(0x7de)]['verbose'](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+_0x5cd058(0x896));let _0x5c6c06=new Date()[_0x5cd058(0x527)](),_0x1c75c0=_0x5d4dec+_0x5cd058(0x8a8)+_0x5c6c06;this[_0x5cd058(0x7de)][_0x5cd058(0x3c2)](this['instanceName']+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+_0x5cd058(0x4a2)+_0x1c75c0);let _0x556997=await K[_0x5cd058(0x6bc)][_0x5cd058(0x6a5)](_0x1c75c0,{'responseType':_0x5cd058(0x8a0)});this[_0x5cd058(0x7de)][_0x5cd058(0x3c2)](this[_0x5cd058(0x586)]+'\x20('+this['instance'][_0x5cd058(0x360)]+'):Getting\x20image\x20from\x20url');let _0x5e6c2b=Buffer['from'](_0x556997['data'],_0x5cd058(0x5df));_0x21d622=''+(0x0,j[_0x5cd058(0x65f)])(this[_0x5cd058(0x624)],_0x5cd058(0x598)+_0x2c9576+'.png'),this[_0x5cd058(0x7de)]['verbose'](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)][_0x5cd058(0x360)]+_0x5cd058(0x39f)+_0x21d622),await(0x0,Ut[_0x5cd058(0x6bc)])(_0x5e6c2b)[_0x5cd058(0x590)](_0x21d622),this[_0x5cd058(0x7de)]['verbose'](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)]['wuid']+'):Image\x20created');}return await(0x0,Ut[_0x5cd058(0x6bc)])(_0x21d622)[_0x5cd058(0x3e6)]()['toFile'](_0x4aaefb),this[_0x5cd058(0x7de)][_0x5cd058(0x3c2)](this[_0x5cd058(0x586)]+'\x20('+this['instance'][_0x5cd058(0x360)]+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x21d622),this[_0x5cd058(0x7de)]['verbose'](this[_0x5cd058(0x586)]+'\x20('+this['instance'][_0x5cd058(0x360)]+_0x5cd058(0x85a)),_0x4aaefb;}catch(_0x38c362){let _0x157cbb=_0x5cd058(0x5e7),_0x1cb0dc=_0x38c362 instanceof Error?_0x38c362[_0x5cd058(0x7d2)]:typeof _0x38c362==_0x5cd058(0x50b)?JSON[_0x5cd058(0x524)](_0x38c362):_0x38c362,_0xfc6fcf=_0x157cbb+':\x20'+_0x1cb0dc;this[_0x5cd058(0x7de)]['error'](this[_0x5cd058(0x586)]+'\x20('+this[_0x5cd058(0x1c1)][_0x5cd058(0x360)]+_0x5cd058(0x351)+_0xfc6fcf);}}async['mediaSticker'](_0x527bfe){const _0x5b7cc5=a0_0x13c462;let _0x5ef2ac=await this[_0x5b7cc5(0x680)](_0x527bfe[_0x5b7cc5(0x1cd)]['image'],_0x527bfe[_0x5b7cc5(0x89e)]),_0x37e246=await this[_0x5b7cc5(0x4d8)](_0x527bfe['number'],{'sticker':{'url':_0x5ef2ac}},_0x527bfe?.[_0x5b7cc5(0x4e3)]);return k[_0x5b7cc5(0x8bb)](_0x5ef2ac),this['logger'][_0x5b7cc5(0x3c2)](this[_0x5b7cc5(0x586)]+'\x20('+this[_0x5b7cc5(0x1c1)]['wuid']+_0x5b7cc5(0x4b6)),_0x37e246;}async[a0_0x13c462(0x12f)](_0x3b4be4){const _0x53dbec=a0_0x13c462;if(this[_0x53dbec(0x7de)][_0x53dbec(0x3c2)](this[_0x53dbec(0x586)]+'\x20('+this[_0x53dbec(0x1c1)][_0x53dbec(0x360)]+'):Sending\x20audio\x20whatsapp'),!_0x3b4be4[_0x53dbec(0x4e3)]?.[_0x53dbec(0x5e3)]&&_0x3b4be4[_0x53dbec(0x4e3)]?.['encoding']!==!0x1&&(_0x3b4be4[_0x53dbec(0x4e3)][_0x53dbec(0x5e3)]=!0x0),_0x3b4be4[_0x53dbec(0x4e3)]?.[_0x53dbec(0x5e3)]){let _0xa7450e=await this[_0x53dbec(0x13b)](_0x3b4be4[_0x53dbec(0x61c)]['audio']);if(typeof _0xa7450e==_0x53dbec(0x7d4)){let _0x4cc0a9=k['readFileSync'](_0xa7450e)[_0x53dbec(0x2ba)](_0x53dbec(0x1f9));return this[_0x53dbec(0x4d8)](_0x3b4be4['number'],{'audio':Buffer[_0x53dbec(0x370)](_0x4cc0a9,'base64'),'ptt':!0x0,'mimetype':_0x53dbec(0x657)},{'presence':'recording','delay':_0x3b4be4?.[_0x53dbec(0x4e3)]?.[_0x53dbec(0x184)]});}else throw new x(_0xa7450e);}return await this[_0x53dbec(0x4d8)](_0x3b4be4[_0x53dbec(0x89e)],{'audio':(0x0,J[_0x53dbec(0x883)])(_0x3b4be4[_0x53dbec(0x61c)][_0x53dbec(0x604)])?{'url':_0x3b4be4[_0x53dbec(0x61c)][_0x53dbec(0x604)]}:Buffer[_0x53dbec(0x370)](_0x3b4be4[_0x53dbec(0x61c)][_0x53dbec(0x604)],_0x53dbec(0x1f9)),'ptt':!0x0,'mimetype':_0x53dbec(0x657)},{'presence':_0x53dbec(0x697),'delay':_0x3b4be4?.['options']?.[_0x53dbec(0x184)]});}async[a0_0x13c462(0x13b)](_0x3387a6){const _0x1dafb2=a0_0x13c462;this[_0x1dafb2(0x7de)][_0x1dafb2(0x3c2)](this[_0x1dafb2(0x586)]+'\x20('+this[_0x1dafb2(0x1c1)][_0x1dafb2(0x360)]+_0x1dafb2(0x18a));let _0x1f8b31=(0x0,J[_0x1dafb2(0x883)])(_0x3387a6)?(0x0,oe[_0x1dafb2(0x3df)])('sha256')[_0x1dafb2(0x823)](_0x3387a6)[_0x1dafb2(0x4bd)](_0x1dafb2(0x25f)):(0x0,oe['createHash'])(_0x1dafb2(0x2c7))[_0x1dafb2(0x823)](_0x3387a6)['digest'](_0x1dafb2(0x25f)),_0x38fc9a=''+(0x0,j[_0x1dafb2(0x65f)])(this['storePath'],_0x1f8b31+'.ogg');if(k[_0x1dafb2(0x7c1)](_0x38fc9a))return this['logger']['verbose'](this[_0x1dafb2(0x586)]+'\x20('+this[_0x1dafb2(0x1c1)][_0x1dafb2(0x360)]+_0x1dafb2(0x5e8)),_0x38fc9a;let _0x484de0=''+(0x0,j[_0x1dafb2(0x65f)])(this[_0x1dafb2(0x624)],_0x1dafb2(0x598)+(0x0,Q['v4'])()+_0x1dafb2(0x63e));if((0x0,J[_0x1dafb2(0x883)])(_0x3387a6)){let _0x9d5c40=new Date()[_0x1dafb2(0x527)](),_0x93c29e=_0x3387a6+_0x1dafb2(0x8a8)+_0x9d5c40,_0x1d3ac0=await K[_0x1dafb2(0x6bc)][_0x1dafb2(0x6a5)](_0x93c29e,{'responseType':_0x1dafb2(0x8a0)});k['writeFileSync'](_0x484de0,_0x1d3ac0[_0x1dafb2(0x4a7)]);}else{let _0xf4da9e=Buffer[_0x1dafb2(0x370)](_0x3387a6,_0x1dafb2(0x1f9));k[_0x1dafb2(0x52f)](_0x484de0,_0xf4da9e);}return new Promise((_0x5001f5,_0x3a5ade)=>{const _0x48f1c6=_0x1dafb2;(0x0,Ue[_0x48f1c6(0x339)])(Ds[_0x48f1c6(0x6bc)]['path']+_0x48f1c6(0x3b8)+_0x484de0+_0x48f1c6(0x2d6)+_0x38fc9a+'\x20-y',_0x51346e=>{const _0xaec049=_0x48f1c6;if(k[_0xaec049(0x8bb)](_0x484de0),_0x51346e){this[_0xaec049(0x7de)][_0xaec049(0x3c2)](this[_0xaec049(0x586)]+'\x20('+this[_0xaec049(0x1c1)]['wuid']+_0xaec049(0x514)),_0x3a5ade(_0x51346e);return;}this['logger']['verbose'](this[_0xaec049(0x586)]+'\x20('+this[_0xaec049(0x1c1)][_0xaec049(0x360)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x5001f5(_0x38fc9a);});});}async[a0_0x13c462(0x7ac)](_0x5de84f){const _0x582917=a0_0x13c462;this[_0x582917(0x7de)][_0x582917(0x3c2)](this[_0x582917(0x586)]+'\x20('+this[_0x582917(0x1c1)][_0x582917(0x360)]+_0x582917(0x18a));let _0x371c02=(0x0,oe[_0x582917(0x3df)])(_0x582917(0x2c7))[_0x582917(0x823)](_0x5de84f)[_0x582917(0x4bd)](_0x582917(0x25f)),_0x271aa8=''+(0x0,j[_0x582917(0x65f)])(this['storePath'],_0x371c02+_0x582917(0x63e));if(k[_0x582917(0x7c1)](_0x271aa8))return this['logger'][_0x582917(0x3c2)](this['instanceName']+'\x20('+this[_0x582917(0x1c1)][_0x582917(0x360)]+_0x582917(0x5e8)),j['default'][_0x582917(0x8b1)](_0x271aa8);let _0x218200=''+(0x0,j[_0x582917(0x65f)])(this[_0x582917(0x624)],'temp-'+_0x371c02+'.ogg');if((0x0,J['isURL'])(_0x5de84f)){let _0x3c2da8=new Date()[_0x582917(0x527)](),_0x3fbf99=_0x5de84f+'?timestamp='+_0x3c2da8,_0x199499=await K[_0x582917(0x6bc)][_0x582917(0x6a5)](_0x3fbf99,{'responseType':_0x582917(0x8a0)});k[_0x582917(0x52f)](_0x218200,_0x199499[_0x582917(0x4a7)]);}else{let _0x1eda5c=Buffer[_0x582917(0x370)](_0x5de84f,_0x582917(0x1f9));k[_0x582917(0x52f)](_0x218200,_0x1eda5c);}return new Promise((_0x327c5d,_0x14be3f)=>{const _0x2c2316=_0x582917;(0x0,Ue[_0x2c2316(0x339)])(Ds[_0x2c2316(0x6bc)][_0x2c2316(0x6e1)]+_0x2c2316(0x3b8)+_0x218200+_0x2c2316(0x295)+_0x271aa8+_0x2c2316(0x2a5),_0x770770=>{const _0x28f707=_0x2c2316;if(k[_0x28f707(0x8bb)](_0x218200),_0x770770){this['logger'][_0x28f707(0x3c2)](this['instanceName']+'\x20('+this[_0x28f707(0x1c1)]['wuid']+_0x28f707(0x514)),_0x14be3f(_0x770770);return;}this[_0x28f707(0x7de)][_0x28f707(0x3c2)](this[_0x28f707(0x586)]+'\x20('+this[_0x28f707(0x1c1)]['wuid']+_0x28f707(0x214)),_0x327c5d(j[_0x28f707(0x6bc)][_0x28f707(0x8b1)](_0x271aa8));});});}async[a0_0x13c462(0x5f9)](_0x57a32f){const _0x88fe92=a0_0x13c462;console['log']('[service]\x20request\x20received\x20in\x20sendButtons',_0x57a32f);let _0x28778d;try{_0x57a32f[_0x88fe92(0x5f9)]?.[_0x88fe92(0x2d8)]&&(_0x28778d=await this[_0x88fe92(0x76b)]({'mediatype':_0x88fe92(0x25b),'media':_0x57a32f[_0x88fe92(0x5f9)][_0x88fe92(0x2d8)]}));}catch(_0x1e81f1){throw console['error']('Error\x20in\x20prepareMediaMessage:',_0x1e81f1),new Error(_0x88fe92(0x3b7));}try{let _0x2a0ffc={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x88fe92(0x755)},'footer':{'text':_0x88fe92(0x848)},'header':((()=>{const _0x456a2c=_0x88fe92;if(_0x28778d?.[_0x456a2c(0x7d2)]?.[_0x456a2c(0x57b)])return{'hasMediaAttachment':!!_0x28778d[_0x456a2c(0x7d2)][_0x456a2c(0x57b)],'imageMessage':_0x28778d[_0x456a2c(0x7d2)][_0x456a2c(0x57b)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x88fe92(0x260),'buttonParamsJson':JSON['stringify']({'display_text':_0x88fe92(0x298),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x88fe92(0x524)]({'display_text':_0x88fe92(0x773),'id':'2'})}],'messageParamsJson':JSON[_0x88fe92(0x524)]({'from':'api','templateId':_0x88fe92(0x230)+(0x0,oe[_0x88fe92(0x742)])(0x12)[_0x88fe92(0x2ba)]('hex')[_0x88fe92(0x439)]()})}}}}};return await this[_0x88fe92(0x3e0)](_0x57a32f['number'],_0x2a0ffc,_0x57a32f?.[_0x88fe92(0x4e3)]);}catch(_0x36a75e){throw console['error'](_0x88fe92(0x765),_0x36a75e),new Error(_0x88fe92(0x352));}}async['locationMessage'](_0x3ac54c){const _0x55f169=a0_0x13c462;return await this[_0x55f169(0x4d8)](_0x3ac54c[_0x55f169(0x89e)],{'locationMessage':{'degreesLatitude':_0x3ac54c[_0x55f169(0x22b)][_0x55f169(0x62c)],'degreesLongitude':_0x3ac54c[_0x55f169(0x22b)][_0x55f169(0x712)],'name':_0x3ac54c[_0x55f169(0x22b)]?.[_0x55f169(0x42b)],'address':_0x3ac54c[_0x55f169(0x22b)]?.[_0x55f169(0x52b)]}},_0x3ac54c?.['options']);}async[a0_0x13c462(0x7b3)](_0x5810af){const _0x45cafc=a0_0x13c462;let _0x4960ca={},_0x12bade=async _0x2627d5=>{const _0x3d5982=a0_0x1c5b;let _0x4cb322=_0x3d5982(0x7e7)+_0x2627d5[_0x3d5982(0x7c2)]+_0x3d5982(0x68b)+_0x2627d5[_0x3d5982(0x7c2)]+'\x0a';_0x2627d5[_0x3d5982(0x66c)]&&(_0x4cb322+=_0x3d5982(0x262)+_0x2627d5[_0x3d5982(0x66c)]+';\x0a'),_0x2627d5[_0x3d5982(0x314)]&&(_0x4cb322+=_0x3d5982(0x28f)+_0x2627d5[_0x3d5982(0x314)]+'\x0a'),_0x2627d5[_0x3d5982(0x74d)]&&(_0x4cb322+=_0x3d5982(0x350)+_0x2627d5[_0x3d5982(0x74d)]+'\x0a');let _0x15f17f='',_0x19450a=0x1;if(_0x2627d5[_0x3d5982(0x442)]){let _0x187068=_0x2627d5[_0x3d5982(0x442)]['split']('|');for(let _0x3b0ca8 of _0x187068){let _0x4e4fc7=await this[_0x3d5982(0x1de)]({'numbers':[_0x3b0ca8]}),_0x3bcd2c=(_0x4e4fc7['length']>0x0?_0x4e4fc7[0x0][_0x3d5982(0x6f6)]:this[_0x3d5982(0x621)](_0x3b0ca8))[_0x3d5982(0x445)]('@s.whatsapp.net','');_0x15f17f+='item'+_0x19450a+_0x3d5982(0x7b2)+_0x3bcd2c+':'+_0x3b0ca8+_0x3d5982(0x57a)+_0x19450a+'.X-ABLabel:Celular\x0a',_0x19450a++;}}return _0x4cb322+=_0x15f17f+_0x3d5982(0x51b),_0x4cb322;};return _0x5810af[_0x45cafc(0x7b3)][_0x45cafc(0x1d3)]===0x1?_0x4960ca[_0x45cafc(0x7b3)]={'displayName':_0x5810af[_0x45cafc(0x7b3)][0x0][_0x45cafc(0x7c2)],'vcard':await _0x12bade(_0x5810af['contactMessage'][0x0])}:_0x4960ca[_0x45cafc(0x8b4)]={'displayName':_0x5810af[_0x45cafc(0x7b3)]['length']+'\x20contacts','contacts':await Promise[_0x45cafc(0x77a)](_0x5810af[_0x45cafc(0x7b3)][_0x45cafc(0x4c1)](async _0x2e6759=>({'displayName':_0x2e6759[_0x45cafc(0x7c2)],'vcard':await _0x12bade(_0x2e6759)})))},await this['sendMessageWithRetry'](_0x5810af[_0x45cafc(0x89e)],{..._0x4960ca},_0x5810af?.[_0x45cafc(0x4e3)]);}async[a0_0x13c462(0x53e)](_0x595903){const _0x2ed5d3=a0_0x13c462;return await this[_0x2ed5d3(0x4d8)](_0x595903[_0x2ed5d3(0x53e)][_0x2ed5d3(0x733)][_0x2ed5d3(0x3aa)],{'reactionMessage':{'key':_0x595903['reactionMessage'][_0x2ed5d3(0x733)],'text':_0x595903[_0x2ed5d3(0x53e)][_0x2ed5d3(0x2f5)]}});}async[a0_0x13c462(0x1de)](_0x256e52){const _0x52c9d4=a0_0x13c462;let _0xbe3dab=[];for await(let _0x1c9d13 of _0x256e52['numbers']){let _0x4992eb=this[_0x52c9d4(0x621)](_0x1c9d13),_0x3c0eb4=!0x1;try{if((0x0,w[_0x52c9d4(0x2ea)])(_0x4992eb)){let _0x17328f=(await this[_0x52c9d4(0x59e)][_0x52c9d4(0x696)][_0x52c9d4(0x4cd)]({'where':{'_id':_0x4992eb}},this[_0x52c9d4(0x1c1)]['wuid']))[_0x52c9d4(0x177)];_0x17328f?(_0x3c0eb4=!0x0,_0xbe3dab[_0x52c9d4(0x438)](new ce(_0x17328f['id'],_0x3c0eb4,_0x17328f?.[_0x52c9d4(0x7ef)]))):(_0x17328f=await this[_0x52c9d4(0x877)]({'groupJid':_0x4992eb},_0x52c9d4(0x6f8)),_0xbe3dab[_0x52c9d4(0x438)](new ce(_0x17328f['id'],!!_0x17328f?.['id'],_0x17328f?.[_0x52c9d4(0x7ef)])));}else{if(_0x4992eb[_0x52c9d4(0x50c)]('@broadcast'))_0xbe3dab[_0x52c9d4(0x438)](new ce(_0x4992eb,!0x0));else{let _0x36fcdf=(await this[_0x52c9d4(0x155)][_0x52c9d4(0x21a)](_0x4992eb))[0x0];_0xbe3dab[_0x52c9d4(0x438)](new ce(_0x36fcdf[_0x52c9d4(0x6f6)],_0x36fcdf[_0x52c9d4(0x534)]));}}}catch{(0x0,w[_0x52c9d4(0x2ea)])(_0x4992eb)||await this[_0x52c9d4(0x7c8)](_0x4992eb),_0xbe3dab[_0x52c9d4(0x438)](new ce(_0x1c9d13,!0x1));}}return _0xbe3dab;}async['deleteImportedChat'](_0x37bfa8){const _0x4bc89b=a0_0x13c462;try{await this[_0x4bc89b(0x59e)][_0x4bc89b(0x696)][_0x4bc89b(0x4cd)]({'where':{'_id':_0x37bfa8,'imported':!0x0}},this[_0x4bc89b(0x1c1)][_0x4bc89b(0x360)])&&(await this['repository'][_0x4bc89b(0x696)][_0x4bc89b(0x5ab)](_0x37bfa8,this['instance'][_0x4bc89b(0x360)]),this[_0x4bc89b(0x7de)][_0x4bc89b(0x19e)](_0x4bc89b(0x3cc)+_0x37bfa8+_0x4bc89b(0x74a)));}catch(_0x851b5d){let _0x49efa1='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x4afb38=_0x851b5d instanceof Error?_0x851b5d['message']:typeof _0x851b5d==_0x4bc89b(0x50b)?JSON['stringify'](_0x851b5d):_0x851b5d,_0x52e5fa=_0x49efa1+':\x20'+_0x4afb38;this[_0x4bc89b(0x7de)][_0x4bc89b(0x873)](this[_0x4bc89b(0x586)]+'\x20('+this[_0x4bc89b(0x1c1)][_0x4bc89b(0x360)]+_0x4bc89b(0x351)+_0x52e5fa);}}async['markMessageAsRead'](_0x8d5eff){const _0x210c94=a0_0x13c462;try{let _0x5bedb4=_0x8d5eff[_0x210c94(0x4f1)][_0x210c94(0x843)](_0xb949c0=>(0x0,w[_0x210c94(0x2ea)])(_0xb949c0[_0x210c94(0x3aa)])||(0x0,w[_0x210c94(0x6d6)])(_0xb949c0['remoteJid']))[_0x210c94(0x4c1)](_0x2291b9=>({'remoteJid':_0x2291b9[_0x210c94(0x3aa)],'fromMe':_0x2291b9[_0x210c94(0x2c3)],'id':_0x2291b9['id']}));await this[_0x210c94(0x155)][_0x210c94(0x4f1)](_0x5bedb4);let _0x167728=_0x5bedb4[_0x210c94(0x4c1)](_0x2e1af0=>this[_0x210c94(0x62a)](_0x2e1af0,{'status':_0x210c94(0x51e),'owner':this['instance'][_0x210c94(0x360)]})),_0x11ef7c=_0x5bedb4[_0x210c94(0x4c1)](_0x2c64cb=>this['repository']['chat'][_0x210c94(0x176)]({'where':{'_id':_0x2c64cb[_0x210c94(0x3aa)]}},{'unreadcount':0x0},this['instance'][_0x210c94(0x360)])),[_0x2044f9,_0x47ce9a]=await Promise[_0x210c94(0x77a)]([Promise[_0x210c94(0x77a)](_0x167728),Promise[_0x210c94(0x77a)](_0x11ef7c)]);return _0x47ce9a['filter'](_0x3146cf=>_0x3146cf!==null)[_0x210c94(0x2a0)](_0x2897a3=>{const _0x4aac04=_0x210c94;F(this[_0x4aac04(0x586)],_0x4aac04(0x6ce),{'chat':_0x2897a3});}),{'message':_0x210c94(0x7fc),'read':_0x210c94(0x34b)};}catch(_0x4f86e0){let _0x5d5614=_0x210c94(0x84e),_0x3cd744=_0x4f86e0 instanceof Error?_0x4f86e0[_0x210c94(0x7d2)]:typeof _0x4f86e0==_0x210c94(0x50b)?JSON[_0x210c94(0x524)](_0x4f86e0):_0x4f86e0,_0x137cbb=_0x5d5614+':\x20'+_0x3cd744;throw this[_0x210c94(0x7de)][_0x210c94(0x873)](this[_0x210c94(0x586)]+'\x20('+this[_0x210c94(0x1c1)][_0x210c94(0x360)]+_0x210c94(0x351)+_0x137cbb),new x(_0x137cbb);}}async[a0_0x13c462(0x2b7)](_0x54158c){const _0x2a15ac=a0_0x13c462;let _0xa32218={'where':{'key':{'remoteJid':_0x54158c}},'limit':0x1},_0x1330c5=await this['fetchMessages'](_0xa32218);return _0x1330c5||(this[_0x2a15ac(0x7de)][_0x2a15ac(0x873)](_0x2a15ac(0x456)+_0x54158c),null);}async[a0_0x13c462(0x3f9)](_0x4ceb75){const _0x5d0ac2=a0_0x13c462;this['logger'][_0x5d0ac2(0x3c2)](this[_0x5d0ac2(0x586)]+'\x20('+this['instance'][_0x5d0ac2(0x360)]+'):Archiving\x20chat');try{let _0x22bb81=_0x4ceb75[_0x5d0ac2(0x36d)],_0x496a6b=_0x4ceb75[_0x5d0ac2(0x696)];if(!_0x22bb81&&_0x496a6b?_0x22bb81=await this['getLastMessage'](_0x496a6b):(_0x22bb81=_0x4ceb75[_0x5d0ac2(0x36d)],_0x22bb81['messageTimestamp']=_0x22bb81?.['messageTimestamp']??Date[_0x5d0ac2(0x421)](),_0x496a6b=_0x22bb81?.[_0x5d0ac2(0x733)]?.[_0x5d0ac2(0x3aa)]),!_0x22bb81||Object['keys'](_0x22bb81)[_0x5d0ac2(0x1d3)]===0x0)throw new U('Last\x20message\x20not\x20found');this['logger'][_0x5d0ac2(0x3c2)](this[_0x5d0ac2(0x586)]+'\x20('+this[_0x5d0ac2(0x1c1)][_0x5d0ac2(0x360)]+_0x5d0ac2(0x44e)+_0x496a6b);try{await this[_0x5d0ac2(0x155)][_0x5d0ac2(0x89b)]({'archive':_0x4ceb75['archive'],'lastMessages':[_0x22bb81]},this['createJid'](_0x496a6b));}catch(_0x24abfd){let _0x29f299=_0x5d0ac2(0x7bd)+_0x496a6b,_0x5568ba=_0x24abfd instanceof Error?_0x24abfd[_0x5d0ac2(0x7d2)]:typeof _0x24abfd==_0x5d0ac2(0x50b)?JSON['stringify'](_0x24abfd):_0x24abfd,_0x512be4=_0x29f299+':\x20'+_0x5568ba;this['logger'][_0x5d0ac2(0x873)](this[_0x5d0ac2(0x586)]+'\x20('+this['instance'][_0x5d0ac2(0x360)]+_0x5d0ac2(0x351)+_0x512be4);}this[_0x5d0ac2(0x7de)]['verbose'](this[_0x5d0ac2(0x586)]+'\x20('+this[_0x5d0ac2(0x1c1)]['wuid']+_0x5d0ac2(0x148)+_0x496a6b);let _0xe5a1da=await this[_0x5d0ac2(0x59e)][_0x5d0ac2(0x696)][_0x5d0ac2(0x176)]({'where':{'_id':_0x22bb81?.[_0x5d0ac2(0x733)]?.['remoteJid']}},{'archived':_0x4ceb75[_0x5d0ac2(0x662)]},this[_0x5d0ac2(0x1c1)][_0x5d0ac2(0x360)]);return _0xe5a1da?(this[_0x5d0ac2(0x7de)][_0x5d0ac2(0x3c2)](this['instanceName']+'\x20('+this[_0x5d0ac2(0x1c1)]['wuid']+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0xe5a1da)),F(this[_0x5d0ac2(0x586)],_0x5d0ac2(0x6ce),{'chat':_0xe5a1da})):this['logger']['error'](this[_0x5d0ac2(0x586)]+'\x20('+this[_0x5d0ac2(0x1c1)][_0x5d0ac2(0x360)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x496a6b),{'chatId':_0x496a6b,'archived':_0x4ceb75[_0x5d0ac2(0x662)]};}catch(_0x19c3ff){let _0x2b5095='Erro\x20ao\x20arquivar\x20chat',_0x253080=_0x19c3ff instanceof Error?_0x19c3ff['message']:typeof _0x19c3ff==_0x5d0ac2(0x50b)?JSON[_0x5d0ac2(0x524)](_0x19c3ff):_0x19c3ff,_0xe13254=_0x2b5095+':\x20'+_0x253080;throw this['logger']['error'](this[_0x5d0ac2(0x586)]+'\x20('+this[_0x5d0ac2(0x1c1)]['wuid']+_0x5d0ac2(0x351)+_0xe13254),new x(_0xe13254);}}async['deleteChat'](_0x15007b){const _0x4dfa24=a0_0x13c462;this[_0x4dfa24(0x7de)][_0x4dfa24(0x3c2)](this[_0x4dfa24(0x586)]+'\x20('+this[_0x4dfa24(0x1c1)][_0x4dfa24(0x360)]+_0x4dfa24(0x20c));try{let _0x2aab17=await this[_0x4dfa24(0x2b7)](_0x15007b);if(!_0x2aab17||Object['keys'](_0x2aab17)['length']===0x0)throw new U(_0x4dfa24(0x525));let _0x585a9e=_0x2aab17[0x0];this[_0x4dfa24(0x7de)][_0x4dfa24(0x3c2)](this[_0x4dfa24(0x586)]+'\x20('+this['instance']['wuid']+_0x4dfa24(0x501)+_0x15007b);try{await this[_0x4dfa24(0x155)][_0x4dfa24(0x89b)]({'delete':!0x0,'lastMessages':[{'key':_0x585a9e[_0x4dfa24(0x733)],'messageTimestamp':_0x585a9e[_0x4dfa24(0x32d)]}]},this['createJid'](_0x15007b));}catch(_0x5d5f47){this['logger'][_0x4dfa24(0x873)](_0x4dfa24(0x7bd)+_0x15007b+':\x20'+_0x5d5f47[_0x4dfa24(0x2ba)]());}this[_0x4dfa24(0x7de)][_0x4dfa24(0x3c2)](this[_0x4dfa24(0x586)]+'\x20('+this[_0x4dfa24(0x1c1)][_0x4dfa24(0x360)]+_0x4dfa24(0x148)+_0x15007b);return;}catch(_0x479e31){throw this[_0x4dfa24(0x7de)][_0x4dfa24(0x873)](this[_0x4dfa24(0x586)]+'\x20('+this[_0x4dfa24(0x1c1)][_0x4dfa24(0x360)]+_0x4dfa24(0x7f4)+_0x479e31[_0x4dfa24(0x2ba)]()),new x({'archived':!0x1,'message':[_0x4dfa24(0x3a7),_0x479e31[_0x4dfa24(0x2ba)]()]});}}async[a0_0x13c462(0x3cf)](_0x45b295){const _0x324462=a0_0x13c462;try{let _0x382c0b=await this[_0x324462(0x155)]['sendMessage'](_0x45b295['remoteJid'],{'delete':_0x45b295});try{let _0x3d8248=await this['updateMessage'](_0x45b295,{'status':_0x324462(0x581),'owner':this['instance'][_0x324462(0x360)]});this[_0x324462(0x7de)][_0x324462(0x3c2)](this[_0x324462(0x586)]+'\x20('+this['instance'][_0x324462(0x360)]+_0x324462(0x168)+_0x3d8248);}catch(_0x419732){this[_0x324462(0x7de)]['error']('Error\x20updating\x20message\x20status:'+_0x419732);}return _0x382c0b;}catch(_0x14c092){throw new x(_0x324462(0x849),_0x14c092?.[_0x324462(0x2ba)]());}}async[a0_0x13c462(0x2df)](_0x21ab94){const _0x2626a5=a0_0x13c462;try{let _0x26c73a=_0x21ab94?.[_0x2626a5(0x7d2)]?_0x21ab94:await this[_0x2626a5(0x3f8)](_0x21ab94[_0x2626a5(0x733)],!0x0);for(let _0x196603 of Na)_0x26c73a[_0x2626a5(0x7d2)][_0x196603]&&(_0x26c73a[_0x2626a5(0x7d2)]=_0x26c73a['message'][_0x196603]['message']);let _0x142d85,_0x378117;for(let _0x2a8795 of Ea)if(_0x142d85=_0x26c73a['message'][_0x2a8795],_0x142d85){_0x378117=_0x2a8795;break;}if(!_0x142d85)throw _0x2626a5(0x3f2);typeof _0x142d85['mediaKey']==_0x2626a5(0x50b)&&(_0x26c73a['message']=JSON[_0x2626a5(0x5a1)](JSON[_0x2626a5(0x524)](_0x26c73a['message'])));let _0x49e82e=await(0x0,w[_0x2626a5(0x4e7)])({'key':_0x26c73a?.[_0x2626a5(0x733)],'message':_0x26c73a?.[_0x2626a5(0x7d2)]},_0x2626a5(0x358),{},{'logger':(0x0,Ft['default'])({'level':_0x2626a5(0x3ad)}),'reuploadRequest':this[_0x2626a5(0x155)][_0x2626a5(0x802)]});if(!(_0x49e82e instanceof Buffer))throw new Error(_0x2626a5(0x2d4));let _0x5c0b29=this['configService'][_0x2626a5(0x6a5)]('DATABASE'),_0x599137,_0x3a8bd9;if(_0x142d85[_0x2626a5(0x332)])_0x599137=_0x142d85[_0x2626a5(0x332)];else{let _0xd6960b=_0x142d85['mimetype']?.[_0x2626a5(0x423)](/\/(\w+)/),_0x4f2915=_0xd6960b?_0xd6960b[0x1]:null;if(!_0x4f2915)throw new Error(_0x2626a5(0x760));_0x599137=(0x0,Q['v4'])()+'.'+_0x4f2915;}_0x378117===_0x2626a5(0x61c)?_0x3a8bd9=_0x2626a5(0x60a)+await this[_0x2626a5(0x7ac)](_0x49e82e['toString'](_0x2626a5(0x1f9))):(await this['saveMediaToFile'](_0x49e82e,_0x599137),_0x3a8bd9='/media/'+_0x599137);let _0x413178=this[_0x2626a5(0x310)][_0x2626a5(0x6a5)](_0x2626a5(0x1f8))[_0x2626a5(0x7e6)];if(!_0x413178){let _0x4dcf37=this[_0x2626a5(0x310)][_0x2626a5(0x6a5)](_0x2626a5(0x500));_0x413178='https://'+(_0x4dcf37&&_0x4dcf37[_0x2626a5(0x426)][_0x2626a5(0x4ca)]('/')[0x4]);}_0x3a8bd9=''+_0x413178+_0x3a8bd9;let _0x2fb27a=0xc*0x3c*0x3c*0x3e8,_0x116881={'where':{'_id':_0x26c73a[_0x2626a5(0x733)]['id']}},_0x1a28a8={'message_normalized.fileUrl':_0x3a8bd9,'message_normalized.expires_fileUrl':Date[_0x2626a5(0x421)]()+_0x2fb27a};try{let _0x460101=await this[_0x2626a5(0x59e)][_0x2626a5(0x7d2)][_0x2626a5(0x823)](_0x116881,_0x1a28a8,this[_0x2626a5(0x1c1)][_0x2626a5(0x360)]);_0x460101&&F(this[_0x2626a5(0x586)],_0x2626a5(0x418),{'message':_0x460101});}catch(_0x1381ea){let _0xe915e7='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x32dba9=_0x1381ea instanceof Error?_0x1381ea[_0x2626a5(0x7d2)]:typeof _0x1381ea==_0x2626a5(0x50b)?JSON[_0x2626a5(0x524)](_0x1381ea):_0x1381ea,_0x10cdef=_0xe915e7+':\x20'+_0x32dba9;this[_0x2626a5(0x7de)][_0x2626a5(0x873)](this['instanceName']+'\x20('+this[_0x2626a5(0x1c1)][_0x2626a5(0x360)]+_0x2626a5(0x351)+_0x10cdef);}return{'mediaType':_0x378117,'fileName':_0x142d85[_0x2626a5(0x332)],'caption':_0x142d85['caption'],'size':{'fileLength':_0x142d85[_0x2626a5(0x885)],'height':_0x142d85[_0x2626a5(0x6b7)],'width':_0x142d85[_0x2626a5(0x810)]},'mimetype':_0x142d85[_0x2626a5(0x491)],'base64':_0x49e82e['toString'](_0x2626a5(0x1f9)),'fileUrl':_0x3a8bd9,'expires_fileUrl':Date['now']()+_0x2fb27a};}catch(_0x3026f0){let _0x49b7e5=_0x2626a5(0x205),_0x285499=_0x3026f0 instanceof Error?_0x3026f0[_0x2626a5(0x7d2)]:typeof _0x3026f0==_0x2626a5(0x50b)?JSON[_0x2626a5(0x524)](_0x3026f0):_0x3026f0,_0x534d34=_0x49b7e5+':\x20'+_0x285499;throw this[_0x2626a5(0x7de)][_0x2626a5(0x873)](this[_0x2626a5(0x586)]+'\x20('+this[_0x2626a5(0x1c1)]['wuid']+'):\x20'+_0x534d34),new m(_0x534d34);}}async[a0_0x13c462(0x3c1)](_0x2fbdef,_0x57bb66){const _0x4814c2=a0_0x13c462;let _0x1c5676=j[_0x4814c2(0x6bc)][_0x4814c2(0x65f)](__dirname,_0x4814c2(0x28b));k[_0x4814c2(0x7c1)](_0x1c5676)||k[_0x4814c2(0x68c)](_0x1c5676,{'recursive':!0x0});let _0x516e21=j[_0x4814c2(0x6bc)][_0x4814c2(0x65f)](_0x1c5676,_0x57bb66);return new Promise((_0x553fea,_0x43ab85)=>{const _0x5a3ad2=_0x4814c2;k[_0x5a3ad2(0x82d)](_0x516e21,_0x2fbdef,_0x2c38f9=>{const _0x44f6a5=_0x5a3ad2;_0x2c38f9?(this[_0x44f6a5(0x7de)][_0x44f6a5(0x873)]('Error\x20writing\x20file:\x20'+(_0x2c38f9 instanceof Error?_0x2c38f9[_0x44f6a5(0x7d2)]:JSON[_0x44f6a5(0x524)](_0x2c38f9,null,0x2))),_0x43ab85(_0x2c38f9)):(this['logger']['log'](_0x44f6a5(0x612)+_0x516e21),_0x553fea(_0x516e21));});});}async[a0_0x13c462(0x608)](_0x1a3edc){const _0x336729=a0_0x13c462;return await this[_0x336729(0x59e)][_0x336729(0x70f)]['find'](_0x1a3edc,this[_0x336729(0x1c1)]['wuid']);}async[a0_0x13c462(0x813)](){const _0x37dc08=a0_0x13c462;return await this[_0x37dc08(0x59e)]['label'][_0x37dc08(0x88b)]({'where':{}},this[_0x37dc08(0x1c1)][_0x37dc08(0x360)]);}async['fetchMessages'](_0x567f3a){const _0xeb3424=a0_0x13c462;return await this['repository']['message']['find'](_0x567f3a,this['instance'][_0xeb3424(0x360)]);}async[a0_0x13c462(0x470)](){const _0x3c854c=a0_0x13c462;return this[_0x3c854c(0x59e)]['chat'][_0x3c854c(0x272)](this[_0x3c854c(0x1c1)][_0x3c854c(0x360)]),this[_0x3c854c(0x59e)][_0x3c854c(0x696)][_0x3c854c(0x791)](this[_0x3c854c(0x1c1)]['wuid']),this[_0x3c854c(0x59e)]['chat'][_0x3c854c(0x431)](this[_0x3c854c(0x1c1)][_0x3c854c(0x360)]),this[_0x3c854c(0x59e)]['chat'][_0x3c854c(0x83a)](this['instance'][_0x3c854c(0x360)]),await this[_0x3c854c(0x59e)][_0x3c854c(0x696)][_0x3c854c(0x88b)]({'where':{}},this[_0x3c854c(0x1c1)]['wuid']);}async['importChatsAntigo'](_0x545cf6){const _0x19c3c6=a0_0x13c462;try{if(!Array[_0x19c3c6(0x41b)](_0x545cf6)||_0x545cf6[_0x19c3c6(0x1d3)]===0x0)throw new Error(_0x19c3c6(0x769));let _0x22f2ed=[],_0x46f0ce=[];for(let _0x413d6d of _0x545cf6){if(_0x413d6d['_id'])_0x413d6d[_0x19c3c6(0x882)]=this['createJid'](_0x413d6d['_id']);else continue;await this['repository'][_0x19c3c6(0x696)][_0x19c3c6(0x4cd)]({'where':{'_id':_0x413d6d[_0x19c3c6(0x882)]}},this[_0x19c3c6(0x1c1)][_0x19c3c6(0x360)])?_0x46f0ce[_0x19c3c6(0x438)]({'_id':_0x413d6d[_0x19c3c6(0x882)],'leadInfo':_0x413d6d[_0x19c3c6(0x8c0)],'owner':this['instance'][_0x19c3c6(0x360)]}):_0x22f2ed[_0x19c3c6(0x438)]({'_id':_0x413d6d[_0x19c3c6(0x882)],'owner':this[_0x19c3c6(0x1c1)]['wuid'],'leadInfo':_0x413d6d['leadInfo'],'imported':!0x0});}return _0x46f0ce[_0x19c3c6(0x1d3)]>0x0&&await this[_0x19c3c6(0x59e)][_0x19c3c6(0x696)][_0x19c3c6(0x832)](_0x46f0ce[_0x19c3c6(0x4c1)](_0x104fb7=>({'query':{'where':{'_id':_0x104fb7[_0x19c3c6(0x882)],'owner':this[_0x19c3c6(0x1c1)][_0x19c3c6(0x360)]}},'update':_0x104fb7}))),_0x22f2ed['length']>0x0&&await this['repository']['chat']['insertMany'](_0x22f2ed,this['instance'][_0x19c3c6(0x360)]),{'updated':_0x46f0ce[_0x19c3c6(0x1d3)],'inserted':_0x22f2ed[_0x19c3c6(0x1d3)]};}catch(_0x40686f){let _0x4abfac=_0x19c3c6(0x8b3),_0x1fd3b3=_0x40686f instanceof Error?_0x40686f[_0x19c3c6(0x7d2)]:typeof _0x40686f==_0x19c3c6(0x50b)?JSON[_0x19c3c6(0x524)](_0x40686f):_0x40686f,_0x59bb29=_0x4abfac+':\x20'+_0x1fd3b3;throw this['logger']['error'](this[_0x19c3c6(0x586)]+'\x20('+this[_0x19c3c6(0x1c1)][_0x19c3c6(0x360)]+_0x19c3c6(0x351)+_0x59bb29),new m(_0x59bb29);}}async[a0_0x13c462(0x318)](_0x28075c){const _0x33cea3=a0_0x13c462;try{if(!Array[_0x33cea3(0x41b)](_0x28075c)||_0x28075c['length']===0x0)throw new Error(_0x33cea3(0x769));let _0x278bfd=0x64,_0x2ed774=0x0;for(let _0x207b64=0x0;_0x207b64<_0x28075c[_0x33cea3(0x1d3)];_0x207b64+=_0x278bfd){let _0x21695b=_0x28075c[_0x33cea3(0x894)](_0x207b64,_0x207b64+_0x278bfd),{updated:_0x6999f9}=await this[_0x33cea3(0x64f)](_0x21695b);_0x2ed774+=_0x6999f9;}return{'updated':_0x2ed774};}catch(_0x276c41){let _0xb4181e=_0x33cea3(0x8b3),_0x3e2a73=_0x276c41 instanceof Error?_0x276c41[_0x33cea3(0x7d2)]:typeof _0x276c41==_0x33cea3(0x50b)?JSON[_0x33cea3(0x524)](_0x276c41):_0x276c41,_0x4faa2e=_0xb4181e+':\x20'+_0x3e2a73;throw this['logger'][_0x33cea3(0x873)](this[_0x33cea3(0x586)]+'\x20('+this[_0x33cea3(0x1c1)]['wuid']+_0x33cea3(0x351)+_0x4faa2e),new m(_0x4faa2e);}}async[a0_0x13c462(0x64f)](_0x4da1e8){const _0xf087b0=a0_0x13c462;try{let _0x20223b=await this[_0xf087b0(0x59e)][_0xf087b0(0x467)][_0xf087b0(0x88b)]({'where':{}},this[_0xf087b0(0x1c1)]['wuid']),_0x118301=new Set(_0x20223b[_0xf087b0(0x4c1)](_0xae2fa3=>_0xae2fa3['_id'])),_0x45ab52=[],_0x458fa0=[];for(let _0x434dbc of _0x4da1e8){if(!_0x434dbc['_id'])continue;_0x434dbc['_id']=this[_0xf087b0(0x621)](_0x434dbc[_0xf087b0(0x882)]);let _0x278188=await this['repository'][_0xf087b0(0x696)]['findOne']({'where':{'_id':_0x434dbc[_0xf087b0(0x882)]}},this[_0xf087b0(0x1c1)][_0xf087b0(0x360)]),_0x494fda={};if(Object[_0xf087b0(0x1ce)](_0x434dbc['leadInfo'])[_0xf087b0(0x2a0)](([_0x299616,_0x3c8141])=>{const _0x43d37c=_0xf087b0;_0x494fda[_0x43d37c(0x133)+_0x299616]=_0x3c8141;}),_0x278188&&!_0x278188[_0xf087b0(0x6f5)]){let _0x3a9bb9=(_0x434dbc[_0xf087b0(0x8c0)][_0xf087b0(0x622)]||[])['filter'](_0x18aa1b=>_0x118301[_0xf087b0(0x41f)](_0x18aa1b)),_0x115d86=new Set(_0x278188['leadInfo'][_0xf087b0(0x622)]||[]),_0x3c55fb=_0x3a9bb9['filter'](_0x16b48a=>!_0x115d86[_0xf087b0(0x41f)](_0x16b48a)),_0x3f4d77=[..._0x115d86][_0xf087b0(0x843)](_0x2d12d0=>!_0x3a9bb9[_0xf087b0(0x50c)](_0x2d12d0));_0x458fa0[_0xf087b0(0x438)](..._0x3c55fb[_0xf087b0(0x4c1)](_0x1258e5=>this[_0xf087b0(0x174)](_0x1258e5,_0x434dbc['_id']))),_0x458fa0['push'](..._0x3f4d77['map'](_0x3cc906=>this['RemoveChatLabel'](_0x3cc906,_0x434dbc[_0xf087b0(0x882)]))),_0x434dbc[_0xf087b0(0x8c0)][_0xf087b0(0x622)]=_0x3a9bb9,_0x45ab52[_0xf087b0(0x438)]({'query':{'where':{'_id':_0x434dbc[_0xf087b0(0x882)],'owner':this[_0xf087b0(0x1c1)][_0xf087b0(0x360)]}},'update':_0x494fda});}else _0x494fda[_0xf087b0(0x6f5)]=!0x0,_0x45ab52[_0xf087b0(0x438)]({'query':{'where':{'_id':_0x434dbc[_0xf087b0(0x882)],'owner':this['instance'][_0xf087b0(0x360)]}},'update':_0x494fda});}let _0x416ef6=await this[_0xf087b0(0x59e)][_0xf087b0(0x696)][_0xf087b0(0x832)](_0x45ab52);return await Promise[_0xf087b0(0x77a)](_0x458fa0),{'updated':_0x416ef6};}catch(_0x24c9b3){let _0x32cfe5=_0xf087b0(0x8b3),_0xeadb77=_0x24c9b3 instanceof Error?_0x24c9b3['message']:typeof _0x24c9b3==_0xf087b0(0x50b)?JSON[_0xf087b0(0x524)](_0x24c9b3):_0x24c9b3,_0x1971e9=_0x32cfe5+':\x20'+_0xeadb77;throw this[_0xf087b0(0x7de)][_0xf087b0(0x873)](this[_0xf087b0(0x586)]+'\x20('+this[_0xf087b0(0x1c1)][_0xf087b0(0x360)]+'):\x20'+_0x1971e9),new m(_0x1971e9);}}async[a0_0x13c462(0x2ac)](){const _0x473500=a0_0x13c462;return await this[_0x473500(0x155)][_0x473500(0x2ac)]();}async[a0_0x13c462(0x3ec)](_0x5827fd){const _0x19375a=a0_0x13c462;try{return await this[_0x19375a(0x155)][_0x19375a(0x643)](_0x5827fd[_0x19375a(0x529)][_0x19375a(0x199)]),await this['client'][_0x19375a(0x3a3)](_0x5827fd[_0x19375a(0x529)][_0x19375a(0x302)]),await this['client'][_0x19375a(0x630)](_0x5827fd[_0x19375a(0x529)][_0x19375a(0x22e)]),await this[_0x19375a(0x155)][_0x19375a(0x145)](_0x5827fd['privacySettings']['online']),await this[_0x19375a(0x155)][_0x19375a(0x316)](_0x5827fd[_0x19375a(0x529)][_0x19375a(0x2f8)]),await this[_0x19375a(0x155)][_0x19375a(0x21c)](_0x5827fd[_0x19375a(0x529)][_0x19375a(0x744)]),this['client']?.['ws']?.[_0x19375a(0x49b)](),{'update':_0x19375a(0x34b),'data':{'readreceipts':_0x5827fd['privacySettings'][_0x19375a(0x199)],'profile':_0x5827fd[_0x19375a(0x529)][_0x19375a(0x302)],'status':_0x5827fd['privacySettings']['status'],'online':_0x5827fd['privacySettings'][_0x19375a(0x484)],'last':_0x5827fd['privacySettings'][_0x19375a(0x2f8)],'groupadd':_0x5827fd[_0x19375a(0x529)][_0x19375a(0x744)]}};}catch(_0x148e36){let _0x47c4d1=_0x19375a(0x629),_0x144f28=_0x148e36 instanceof Error?_0x148e36[_0x19375a(0x7d2)]:typeof _0x148e36==_0x19375a(0x50b)?JSON[_0x19375a(0x524)](_0x148e36):_0x148e36,_0x175b16=_0x47c4d1+':\x20'+_0x144f28;throw this[_0x19375a(0x7de)][_0x19375a(0x873)](this[_0x19375a(0x586)]+'\x20('+this[_0x19375a(0x1c1)][_0x19375a(0x360)]+_0x19375a(0x351)+_0x175b16),new m(_0x175b16);}}async['fetchProfile'](_0x2e2a0b){const _0x3a573c=a0_0x13c462;let _0x4a79fd=(_0x2e2a0b?this['createJid'](_0x2e2a0b):this['client']?.[_0x3a573c(0x6d1)]?.['id'])[_0x3a573c(0x445)](/:\d{1,2}@/g,'@');this[_0x3a573c(0x7de)]['verbose'](this[_0x3a573c(0x586)]+'\x20('+this[_0x3a573c(0x1c1)][_0x3a573c(0x360)]+_0x3a573c(0x1e3)+_0x4a79fd);let _0x1444e8=await this[_0x3a573c(0x59e)][_0x3a573c(0x70f)][_0x3a573c(0x4cd)]({'where':{'_id':_0x4a79fd}},this[_0x3a573c(0x1c1)][_0x3a573c(0x360)]),_0x389e18=_0x1444e8?_0x1444e8[_0x3a573c(0x39b)]:null;try{let _0x3f42b0=(await this[_0x3a573c(0x1de)]({'numbers':[_0x4a79fd]}))?.[_0x3a573c(0x67d)](),_0x5d20fc=(await this['findAndUpdateCacheContact'](_0x4a79fd,null,!0x1))[_0x3a573c(0x3dc)][_0x3a573c(0x6c7)],_0x7c17c7=await this['getStatus'](_0x3f42b0?.[_0x3a573c(0x6f6)]),_0x218e2a=await this[_0x3a573c(0x140)](_0x3f42b0?.[_0x3a573c(0x6f6)]),_0x2cad19=(await this[_0x3a573c(0x363)](_0x4a79fd,null,!0x1))[_0x3a573c(0x3dc)][_0x3a573c(0x42b)],_0xb80e70=await this[_0x3a573c(0x59e)][_0x3a573c(0x696)]['findOne']({'where':{'_id':_0x4a79fd}},this[_0x3a573c(0x1c1)][_0x3a573c(0x360)]),_0x56785e={'imagechat':_0x5d20fc,'contactname':_0x389e18||null,'pushName':_0x2cad19,'status':_0x7c17c7?.['status'],'isBusiness':_0x218e2a[_0x3a573c(0x5ae)],'email':_0x218e2a?.['email'],'description':_0x218e2a?.['description'],'website':_0x218e2a?.[_0x3a573c(0x749)]?.['shift'](),'lastcache':Date[_0x3a573c(0x421)](),'imported':!_0xb80e70},_0x1518e3=await this['repository'][_0x3a573c(0x696)][_0x3a573c(0x176)]({'where':{'_id':_0x4a79fd}},_0x56785e,this[_0x3a573c(0x1c1)][_0x3a573c(0x360)]),_0x5eb7e3={'owner':this[_0x3a573c(0x1c1)][_0x3a573c(0x360)],'_id':_0x4a79fd,'profilePictureUrl':_0x5d20fc,'status':_0x7c17c7?.[_0x3a573c(0x22e)]};return this[_0x3a573c(0x59e)][_0x3a573c(0x70f)][_0x3a573c(0x823)]([_0x5eb7e3],this[_0x3a573c(0x1c1)]['wuid']),_0x1518e3&&F(this[_0x3a573c(0x586)],_0x3a573c(0x6ce),{'chat':_0x1518e3}),{'wuid':_0x3f42b0?.['jid']||_0x4a79fd,'name':_0x3f42b0?.[_0x3a573c(0x42b)],'pushName':_0x2cad19,'numberExists':_0x3f42b0?.[_0x3a573c(0x534)],'picture':_0x5d20fc,'status':_0x7c17c7?.[_0x3a573c(0x22e)],'isBusiness':_0x218e2a[_0x3a573c(0x5ae)],'email':_0x218e2a?.[_0x3a573c(0x314)],'description':_0x218e2a?.['description'],'website':_0x218e2a?.['website']?.[_0x3a573c(0x67d)]()};}catch(_0x16505f){return this[_0x3a573c(0x7de)][_0x3a573c(0x873)](_0x3a573c(0x644)+(_0x16505f instanceof Error?_0x16505f['message']:JSON[_0x3a573c(0x524)](_0x16505f,null,0x2))),{};}}async[a0_0x13c462(0x140)](_0x2862b4){const _0x2a63b3=a0_0x13c462;this['logger'][_0x2a63b3(0x3c2)](this[_0x2a63b3(0x586)]+'\x20('+this['instance']['wuid']+_0x2a63b3(0x67c));try{let _0x135673=_0x2862b4?this[_0x2a63b3(0x621)](_0x2862b4):this[_0x2a63b3(0x1c1)][_0x2a63b3(0x360)],_0x38ea8c=await this['client'][_0x2a63b3(0x246)](_0x135673);return this[_0x2a63b3(0x7de)][_0x2a63b3(0x3c2)](this[_0x2a63b3(0x586)]+'\x20('+this[_0x2a63b3(0x1c1)][_0x2a63b3(0x360)]+_0x2a63b3(0x25e)),_0x38ea8c?(this[_0x2a63b3(0x7de)][_0x2a63b3(0x3c2)](this[_0x2a63b3(0x586)]+'\x20('+this[_0x2a63b3(0x1c1)][_0x2a63b3(0x360)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x38ea8c}):{'isBusiness':!0x1,'message':_0x2a63b3(0x5b3),...(await this[_0x2a63b3(0x1de)]({'numbers':[_0x135673]}))?.[_0x2a63b3(0x67d)]()};}catch(_0x37145b){let _0x8f31c9=_0x2a63b3(0x2a8),_0x23b8b3=_0x37145b instanceof Error?_0x37145b[_0x2a63b3(0x7d2)]:typeof _0x37145b==_0x2a63b3(0x50b)?JSON[_0x2a63b3(0x524)](_0x37145b):_0x37145b,_0x34f24b=_0x8f31c9+':\x20'+_0x23b8b3;throw this[_0x2a63b3(0x7de)][_0x2a63b3(0x873)](this[_0x2a63b3(0x586)]+'\x20('+this[_0x2a63b3(0x1c1)][_0x2a63b3(0x360)]+'):\x20'+_0x34f24b),new x(_0x34f24b);}}async[a0_0x13c462(0x320)](_0x5bb8c0){const _0x1f4dac=a0_0x13c462;let _0x5ac4b4=this[_0x1f4dac(0x621)](_0x5bb8c0);try{return{'wuid':_0x5ac4b4,'status':(await this['client'][_0x1f4dac(0x3d5)](_0x5ac4b4))[0x0]?.['status']};}catch{return{'wuid':_0x5ac4b4,'status':null};}}async[a0_0x13c462(0x22f)](_0x50ce03){const _0x29d5be=a0_0x13c462;try{return await this[_0x29d5be(0x155)]['updateProfileName'](_0x50ce03),{'update':_0x29d5be(0x34b)};}catch(_0x3b4d4c){let _0x221a9b=_0x29d5be(0x60d),_0x1dc7c3=_0x3b4d4c instanceof Error?_0x3b4d4c[_0x29d5be(0x7d2)]:typeof _0x3b4d4c==_0x29d5be(0x50b)?JSON['stringify'](_0x3b4d4c):_0x3b4d4c,_0x130b3a=_0x221a9b+':\x20'+_0x1dc7c3;throw this[_0x29d5be(0x7de)][_0x29d5be(0x873)](this[_0x29d5be(0x586)]+'\x20('+this['instance'][_0x29d5be(0x360)]+'):\x20'+_0x130b3a),new x(_0x130b3a);}}async['updateProfileStatus'](_0x5cbfef){const _0x22f316=a0_0x13c462;try{return await this[_0x22f316(0x155)][_0x22f316(0x466)](_0x5cbfef),{'update':_0x22f316(0x34b)};}catch(_0x1a3fc6){let _0x9769e6='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x407614=_0x1a3fc6 instanceof Error?_0x1a3fc6['message']:typeof _0x1a3fc6==_0x22f316(0x50b)?JSON[_0x22f316(0x524)](_0x1a3fc6):_0x1a3fc6,_0x359ab2=_0x9769e6+':\x20'+_0x407614;throw this[_0x22f316(0x7de)]['error'](this[_0x22f316(0x586)]+'\x20('+this['instance'][_0x22f316(0x360)]+_0x22f316(0x351)+_0x359ab2),new x(_0x359ab2);}}async[a0_0x13c462(0x698)](_0x1aec91){const _0x1f7b66=a0_0x13c462;try{let _0xe31e65;if((0x0,J['isURL'])(_0x1aec91)){let _0x20ca79=new Date()['getTime'](),_0x163f96=_0x1aec91+'?timestamp='+_0x20ca79;_0xe31e65=(await K[_0x1f7b66(0x6bc)][_0x1f7b66(0x6a5)](_0x163f96,{'responseType':_0x1f7b66(0x8a0)}))[_0x1f7b66(0x4a7)];}else{if((0x0,J['isBase64'])(_0x1aec91))_0xe31e65=Buffer[_0x1f7b66(0x370)](_0x1aec91,'base64');else throw new m(_0x1f7b66(0x354));}return await this[_0x1f7b66(0x155)][_0x1f7b66(0x698)](this[_0x1f7b66(0x1c1)][_0x1f7b66(0x360)],_0xe31e65),{'update':'success'};}catch(_0xf9b3b){let _0x5d0161=_0x1f7b66(0x7b7),_0x43d7a9=_0xf9b3b instanceof Error?_0xf9b3b[_0x1f7b66(0x7d2)]:typeof _0xf9b3b=='object'?JSON['stringify'](_0xf9b3b):_0xf9b3b,_0x348b34=_0x5d0161+':\x20'+_0x43d7a9;throw this[_0x1f7b66(0x7de)][_0x1f7b66(0x873)](this[_0x1f7b66(0x586)]+'\x20('+this[_0x1f7b66(0x1c1)][_0x1f7b66(0x360)]+_0x1f7b66(0x351)+_0x348b34),new x(_0x348b34);}}async[a0_0x13c462(0x75d)](){const _0x404af8=a0_0x13c462;try{return await this[_0x404af8(0x155)][_0x404af8(0x75d)](this[_0x404af8(0x1c1)][_0x404af8(0x360)]),{'update':_0x404af8(0x34b)};}catch(_0x4eb60b){let _0x53c071=_0x404af8(0x167),_0x4820be=_0x4eb60b instanceof Error?_0x4eb60b['message']:typeof _0x4eb60b=='object'?JSON[_0x404af8(0x524)](_0x4eb60b):_0x4eb60b,_0x53a161=_0x53c071+':\x20'+_0x4820be;throw this[_0x404af8(0x7de)][_0x404af8(0x873)](this['instanceName']+'\x20('+this[_0x404af8(0x1c1)][_0x404af8(0x360)]+_0x404af8(0x351)+_0x53a161),new x(_0x53a161);}}async[a0_0x13c462(0x150)](_0x51777a){const _0x60d65f=a0_0x13c462;try{let _0xc3f02d=(await this[_0x60d65f(0x1de)]({'numbers':_0x51777a[_0x60d65f(0x4b4)]}))[_0x60d65f(0x843)](_0x128d2c=>_0x128d2c[_0x60d65f(0x534)])['map'](_0x23fc97=>_0x23fc97[_0x60d65f(0x6f6)]),{id:_0x4d6713}=await this[_0x60d65f(0x155)][_0x60d65f(0x890)](_0x51777a[_0x60d65f(0x7ef)],_0xc3f02d);_0x51777a?.[_0x60d65f(0x65b)]&&await this[_0x60d65f(0x155)]['groupUpdateDescription'](_0x4d6713,_0x51777a[_0x60d65f(0x65b)]);let _0x108a8e=await this['client'][_0x60d65f(0x275)](_0x4d6713);return _0x108a8e[_0x60d65f(0x6ac)]=[],await this[_0x60d65f(0x7e3)](_0x108a8e),{'metadata':_0x108a8e};}catch(_0x7034e3){let _0x480447=_0x60d65f(0x304),_0x2b6ec1=_0x7034e3 instanceof Error?_0x7034e3[_0x60d65f(0x7d2)]:typeof _0x7034e3==_0x60d65f(0x50b)?JSON[_0x60d65f(0x524)](_0x7034e3):_0x7034e3,_0x356cea=_0x480447+':\x20'+_0x2b6ec1;throw this[_0x60d65f(0x7de)][_0x60d65f(0x873)](this['instanceName']+'\x20('+this['instance'][_0x60d65f(0x360)]+'):\x20'+_0x356cea),new x(_0x356cea);}}async['groupBetterSetting'](_0x2a9538){const _0x42c94f=a0_0x13c462;try{if(_0x2a9538[_0x42c94f(0x854)]===!0x0&&await this[_0x42c94f(0x155)][_0x42c94f(0x578)](_0x2a9538[_0x42c94f(0x261)],'locked'),_0x2a9538[_0x42c94f(0x854)]===!0x1&&await this[_0x42c94f(0x155)][_0x42c94f(0x578)](_0x2a9538[_0x42c94f(0x261)],_0x42c94f(0x88f)),_0x2a9538[_0x42c94f(0x637)]===!0x0&&await this[_0x42c94f(0x155)][_0x42c94f(0x578)](_0x2a9538[_0x42c94f(0x261)],'announcement'),_0x2a9538[_0x42c94f(0x637)]===!0x1&&await this[_0x42c94f(0x155)][_0x42c94f(0x578)](_0x2a9538['groupJid'],_0x42c94f(0x376)),_0x2a9538[_0x42c94f(0x3e2)]===!0x0&&await this['client']['groupMemberAddMode'](_0x2a9538[_0x42c94f(0x261)],_0x42c94f(0x4ce)),_0x2a9538['memberAddMode']===!0x1&&await this[_0x42c94f(0x155)][_0x42c94f(0x685)](_0x2a9538['groupJid'],_0x42c94f(0x349)),_0x2a9538[_0x42c94f(0x4f3)]===!0x0&&await this[_0x42c94f(0x155)][_0x42c94f(0x6d2)](_0x2a9538[_0x42c94f(0x261)],'on'),_0x2a9538[_0x42c94f(0x4f3)]===!0x1&&await this[_0x42c94f(0x155)][_0x42c94f(0x6d2)](_0x2a9538[_0x42c94f(0x261)],_0x42c94f(0x59a)),typeof _0x2a9538[_0x42c94f(0x4a3)]<'u'&&_0x2a9538[_0x42c94f(0x4a3)]!==null&&await this[_0x42c94f(0x155)][_0x42c94f(0x3fa)](_0x2a9538[_0x42c94f(0x261)],_0x2a9538[_0x42c94f(0x4a3)]),_0x2a9538[_0x42c94f(0x42b)]&&await this[_0x42c94f(0x155)]['groupUpdateSubject'](_0x2a9538[_0x42c94f(0x261)],_0x2a9538[_0x42c94f(0x42b)]),_0x2a9538['description']&&await this[_0x42c94f(0x155)][_0x42c94f(0x29a)](_0x2a9538[_0x42c94f(0x261)],_0x2a9538['description']),_0x2a9538[_0x42c94f(0x25b)]){let _0x1482a7;if((0x0,J[_0x42c94f(0x883)])(_0x2a9538['image'])){let _0x78c85d=new Date()['getTime'](),_0x25a870=_0x2a9538[_0x42c94f(0x25b)]+'?timestamp='+_0x78c85d;_0x1482a7=(await K[_0x42c94f(0x6bc)][_0x42c94f(0x6a5)](_0x25a870,{'responseType':_0x42c94f(0x8a0)}))[_0x42c94f(0x4a7)];}else{if((0x0,J['isBase64'])(_0x2a9538['image']))_0x1482a7=Buffer[_0x42c94f(0x370)](_0x2a9538[_0x42c94f(0x25b)],_0x42c94f(0x1f9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client'][_0x42c94f(0x698)](_0x2a9538[_0x42c94f(0x261)],_0x1482a7);}return await this[_0x42c94f(0x877)]({'groupJid':_0x2a9538['groupJid']});}catch(_0x2f8504){let _0x357333=_0x42c94f(0x850),_0x18aa73=_0x2f8504 instanceof Error?_0x2f8504[_0x42c94f(0x7d2)]:typeof _0x2f8504==_0x42c94f(0x50b)?JSON[_0x42c94f(0x524)](_0x2f8504):_0x2f8504,_0x3b8877=_0x357333+':\x20'+_0x18aa73;throw this[_0x42c94f(0x7de)][_0x42c94f(0x873)](this[_0x42c94f(0x586)]+'\x20('+this[_0x42c94f(0x1c1)]['wuid']+_0x42c94f(0x351)+_0x3b8877),new x(_0x3b8877);}}async[a0_0x13c462(0x7fa)](_0x25657f){const _0x2968bb=a0_0x13c462;try{let _0x3c6215=_0x25657f[_0x2968bb(0x4b4)]['map'](_0xfa0aae=>this[_0x2968bb(0x621)](_0xfa0aae));if(_0x25657f[_0x2968bb(0x6c4)]===_0x2968bb(0x13f)||_0x25657f[_0x2968bb(0x6c4)]===_0x2968bb(0x8a2))await this[_0x2968bb(0x155)][_0x2968bb(0x670)](_0x25657f[_0x2968bb(0x261)],_0x3c6215,_0x25657f[_0x2968bb(0x6c4)]);else{if(_0x25657f['action']===_0x2968bb(0x536)){let _0x37d23d=(await this[_0x2968bb(0x1de)]({'numbers':_0x25657f[_0x2968bb(0x4b4)]}))['filter'](_0x215a3e=>_0x215a3e[_0x2968bb(0x534)])[_0x2968bb(0x4c1)](_0x542ea8=>this[_0x2968bb(0x621)](_0x542ea8[_0x2968bb(0x6f6)]));if(_0x37d23d[_0x2968bb(0x1d3)]===0x0)throw new m(_0x2968bb(0x7d9));await this[_0x2968bb(0x155)][_0x2968bb(0x2a2)](_0x25657f['groupJid'],_0x37d23d,_0x2968bb(0x536));}else await this['client'][_0x2968bb(0x2a2)](_0x25657f['groupJid'],_0x3c6215,_0x25657f[_0x2968bb(0x6c4)]);}return await this[_0x2968bb(0x877)]({'groupJid':_0x25657f[_0x2968bb(0x261)]});}catch(_0x10abb0){let _0x42e837=_0x2968bb(0x4a1),_0x1f3b05=_0x10abb0 instanceof Error?_0x10abb0[_0x2968bb(0x7d2)]:typeof _0x10abb0=='object'?JSON[_0x2968bb(0x524)](_0x10abb0):_0x10abb0,_0x57fe22=_0x42e837+':\x20'+_0x1f3b05;throw this['logger'][_0x2968bb(0x873)](this[_0x2968bb(0x586)]+'\x20('+this[_0x2968bb(0x1c1)][_0x2968bb(0x360)]+_0x2968bb(0x351)+_0x57fe22),new m(_0x57fe22);}}async[a0_0x13c462(0x8b0)](_0xab54fe){const _0x57f833=a0_0x13c462;try{return await this[_0x57f833(0x155)][_0x57f833(0x8b0)](_0xab54fe[_0x57f833(0x3e8)]);}catch(_0xe6d7a7){let _0x312def=_0x57f833(0x407),_0x22a996=_0xe6d7a7 instanceof Error?_0xe6d7a7[_0x57f833(0x7d2)]:typeof _0xe6d7a7==_0x57f833(0x50b)?JSON[_0x57f833(0x524)](_0xe6d7a7):_0xe6d7a7,_0x18f8ab=_0x312def+':\x20'+_0x22a996;throw this['logger'][_0x57f833(0x873)](this[_0x57f833(0x586)]+'\x20('+this[_0x57f833(0x1c1)][_0x57f833(0x360)]+_0x57f833(0x351)+_0x18f8ab),new m(_0x18f8ab);}}async[a0_0x13c462(0x877)](_0x1928e3,_0x126aa4=a0_0x13c462(0x617)){const _0xa689f3=a0_0x13c462;try{let _0x18b7da=await this[_0xa689f3(0x59e)]['chat'][_0xa689f3(0x4cd)]({'where':{'_id':_0x1928e3['groupJid']}},this[_0xa689f3(0x1c1)][_0xa689f3(0x360)]),_0x39d719=_0x18b7da?_0x18b7da['groupdata']:null,_0x1b252b=0x18*0x3c*0x3c*0x3e8;if(!_0x39d719||_0x39d719[_0xa689f3(0x6c0)]&&Date[_0xa689f3(0x421)]()-_0x39d719[_0xa689f3(0x6c0)]>_0x1b252b){let _0x4d260a=await this[_0xa689f3(0x155)]['groupMetadata'](_0x1928e3[_0xa689f3(0x261)]);if(_0x4d260a[_0xa689f3(0x2b2)]=_0x4d260a?.[_0xa689f3(0x2b2)]&&_0x4d260a[_0xa689f3(0x2b2)][_0xa689f3(0x2ba)]()['length']<0xd?_0x4d260a?.[_0xa689f3(0x2b2)]*0x3e8:_0x4d260a?.[_0xa689f3(0x2b2)]||null,_0x4d260a[_0xa689f3(0x78f)]=_0x4d260a?.['creation']&&_0x4d260a['creation'][_0xa689f3(0x2ba)]()['length']<0xd?_0x4d260a?.['creation']*0x3e8:_0x4d260a?.[_0xa689f3(0x78f)]||null,_0x39d719={..._0x4d260a,'lastUpdate':Date[_0xa689f3(0x421)]()},!_0x4d260a)return;}let _0x3b9532=_0x39d719[_0xa689f3(0x4b4)]?.[_0xa689f3(0x73a)](_0x4eeefc=>_0x4eeefc['id']===this[_0xa689f3(0x1c1)]['wuid']+_0xa689f3(0x703)&&_0x4eeefc[_0xa689f3(0x8a6)]!=null)||!0x1;!_0x39d719['inviteCode']&&_0x3b9532&&(_0x39d719[_0xa689f3(0x3e8)]=(await this[_0xa689f3(0x3e8)](_0x1928e3,!0x1))[_0xa689f3(0x509)]);let _0x23945e=(!_0x39d719['announce']||_0x3b9532)&&(!_0x39d719[_0xa689f3(0x37d)]||_0x3b9532);_0x39d719[_0xa689f3(0x1fa)]=_0x3b9532,_0x39d719[_0xa689f3(0x763)]=_0x23945e;let _0x315492=[];if(_0x3b9532&&_0x39d719[_0xa689f3(0x4f3)])try{_0x315492=await this[_0xa689f3(0x155)]['groupRequestParticipantsList'](_0x1928e3[_0xa689f3(0x261)]),_0x39d719[_0xa689f3(0x671)]=Date['now']();}catch(_0x1843ed){this[_0xa689f3(0x7de)][_0xa689f3(0x3c2)](this[_0xa689f3(0x586)]+'\x20('+this[_0xa689f3(0x1c1)][_0xa689f3(0x360)]+_0xa689f3(0x642)+_0x1928e3['groupJid']+':\x20'+(_0x1843ed instanceof Error?_0x1843ed[_0xa689f3(0x7d2)]:JSON[_0xa689f3(0x524)](_0x1843ed,null,0x2)));}try{_0x39d719['image']=(await this[_0xa689f3(0x363)](_0x1928e3[_0xa689f3(0x261)],null,!0x0))[_0xa689f3(0x3dc)]['pictureUrl'];}catch(_0x256c4b){this[_0xa689f3(0x7de)][_0xa689f3(0x3c2)](this['instanceName']+'\x20('+this[_0xa689f3(0x1c1)][_0xa689f3(0x360)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1928e3[_0xa689f3(0x261)]+':\x20'+(_0x256c4b instanceof Error?_0x256c4b[_0xa689f3(0x7d2)]:JSON[_0xa689f3(0x524)](_0x256c4b,null,0x2)));}let _0x41c1ca=_0x39d719[_0xa689f3(0x4b4)]['map'](_0x1b0287=>_0x1b0287['id']),_0x18b9a4=_0x315492[_0xa689f3(0x4c1)](_0x1cb6ec=>_0x1cb6ec[_0xa689f3(0x6f6)]),_0x48459e=await this[_0xa689f3(0x59e)]['cacheContact'][_0xa689f3(0x288)]([..._0x41c1ca,..._0x18b9a4]);_0x39d719['participants']=_0x39d719[_0xa689f3(0x4b4)][_0xa689f3(0x4c1)](_0x3a244d=>{const _0x1d0f30=_0xa689f3;let _0x10235e=_0x48459e[_0x1d0f30(0x88b)](_0x1d33d9=>_0x1d33d9[_0x1d0f30(0x882)]===_0x3a244d['id']);return{'id':_0x3a244d['id'],'isAdmin':[_0x1d0f30(0x8a6),'superadmin']['includes'](_0x3a244d['admin']),'admin':_0x3a244d[_0x1d0f30(0x8a6)],'pushName':_0x10235e?.[_0x1d0f30(0x42b)],'profilePictureUrl':_0x10235e?.[_0x1d0f30(0x6c7)]};}),_0x39d719[_0xa689f3(0x6ac)]=_0x315492['map'](_0x4e05ba=>{const _0x48d495=_0xa689f3;let _0x4fe6aa=_0x48459e['find'](_0x5d6c9b=>_0x5d6c9b[_0x48d495(0x882)]===_0x4e05ba[_0x48d495(0x6f6)]);return{'id':_0x4e05ba['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4fe6aa?.[_0x48d495(0x42b)],'profilePictureUrl':_0x4fe6aa?.[_0x48d495(0x6c7)],'request_method':_0x4e05ba[_0x48d495(0x292)],'request_time':_0x4e05ba[_0x48d495(0x4be)]};});let _0x13a494=await this[_0xa689f3(0x59e)][_0xa689f3(0x696)][_0xa689f3(0x176)]({'where':{'_id':_0x1928e3['groupJid']}},{'imagechat':_0x39d719[_0xa689f3(0x25b)],'name':_0x39d719[_0xa689f3(0x7ef)],'lastcache':Date[_0xa689f3(0x421)](),'groupdata':_0x39d719},this[_0xa689f3(0x1c1)][_0xa689f3(0x360)]);return F(this[_0xa689f3(0x586)],_0xa689f3(0x6ce),{'chat':_0x13a494}),{'metadata':_0x39d719};}catch(_0x5c65ad){if(_0x126aa4===_0xa689f3(0x6f8))return;throw new U('Error\x20fetching\x20group',_0x5c65ad[_0xa689f3(0x7d2)][_0xa689f3(0x2ba)]());}}async['findGroups'](){const _0x25f12d=a0_0x13c462;try{this[_0x25f12d(0x7de)][_0x25f12d(0x19e)](_0x25f12d(0x650));let _0x448e41=Date[_0x25f12d(0x421)](),_0x52b310=0x3*0x3c*0x3c*0x3e8;return _0x448e41-this['lastRealGroupsFetch']>_0x52b310&&(this[_0x25f12d(0x599)](),this['lastRealGroupsFetch']=_0x448e41),(await this['repository']['chat'][_0x25f12d(0x582)]({'where':{'group':!0x0}},this[_0x25f12d(0x1c1)]['wuid']))[_0x25f12d(0x4c1)](_0x31f26a=>({..._0x31f26a[_0x25f12d(0x177)],'groupJid':_0x31f26a?.[_0x25f12d(0x882)],'participants':_0x31f26a?.[_0x25f12d(0x177)]?.['participants']||[],'awaitingApproval':_0x31f26a?.[_0x25f12d(0x177)]?.[_0x25f12d(0x6ac)]||[],'image':_0x31f26a?.[_0x25f12d(0x7b8)]}));}catch(_0x507ea3){let _0x2a6055=_0x25f12d(0x82a),_0x418315=_0x507ea3 instanceof Error?_0x507ea3[_0x25f12d(0x7d2)]:typeof _0x507ea3=='object'?JSON[_0x25f12d(0x524)](_0x507ea3):_0x507ea3,_0x261213=_0x2a6055+':\x20'+_0x418315;throw this[_0x25f12d(0x7de)][_0x25f12d(0x873)](this[_0x25f12d(0x586)]+'\x20('+this[_0x25f12d(0x1c1)][_0x25f12d(0x360)]+_0x25f12d(0x351)+_0x261213),new U(_0x261213);}}async[a0_0x13c462(0x599)](){const _0x3862ae=a0_0x13c462;try{this[_0x3862ae(0x7de)][_0x3862ae(0x19e)](_0x3862ae(0x8ca));let _0x19ca9c=[],_0x5b3ced=await this[_0x3862ae(0x155)][_0x3862ae(0x5a4)](),_0x5430df=Object['values'](_0x5b3ced);for(let _0x395af3=0x0;_0x395af3<_0x5430df[_0x3862ae(0x1d3)];_0x395af3++){let _0x5c7abc=_0x5430df[_0x395af3];(0x0,w[_0x3862ae(0x2ea)])(_0x5c7abc?.['id'])&&(_0x19ca9c[_0x3862ae(0x438)]({'groupJid':_0x5c7abc?.['id'],'subject':_0x5c7abc?.[_0x3862ae(0x7ef)],'subjectOwner':_0x5c7abc?.[_0x3862ae(0x26b)]?.[_0x3862ae(0x4ca)]('@')[0x0],'subjectTime':_0x5c7abc?.[_0x3862ae(0x2b2)],'creation':_0x5c7abc?.[_0x3862ae(0x78f)],'size':_0x5c7abc?.[_0x3862ae(0x4b4)]?.[_0x3862ae(0x1d3)],'owner':_0x5c7abc?.['owner']?.[_0x3862ae(0x4ca)]('@')[0x0],'desc':_0x5c7abc?.[_0x3862ae(0x665)],'restrict':_0x5c7abc?.[_0x3862ae(0x854)],'announce':_0x5c7abc?.[_0x3862ae(0x637)],'image':null,'isCommunity':_0x5c7abc?.[_0x3862ae(0x37d)],'joinApprovalMode':_0x5c7abc?.[_0x3862ae(0x4f3)],'memberCanAddParticipant':_0x5c7abc?.[_0x3862ae(0x3e2)],'participants':_0x5c7abc?.['participants'],'descOwner':_0x5c7abc?.[_0x3862ae(0x5d3)],'descId':_0x5c7abc?.[_0x3862ae(0x654)],'memberAddMode':_0x5c7abc?.['memberAddMode'],'isCommunityAnnounce':_0x5c7abc?.[_0x3862ae(0x277)],'ephemeralDuration':_0x5c7abc?.['ephemeralDuration']||0x0,'author':_0x5c7abc?.[_0x3862ae(0x861)]}),this[_0x3862ae(0x7e3)](_0x5430df[_0x395af3]));}return _0x19ca9c;}catch(_0x31f87e){let _0x443125=_0x3862ae(0x250),_0x5b3662=_0x31f87e instanceof Error?_0x31f87e[_0x3862ae(0x7d2)]:typeof _0x31f87e==_0x3862ae(0x50b)?JSON['stringify'](_0x31f87e):_0x31f87e,_0x558dab=_0x443125+':\x20'+_0x5b3662;throw this['logger'][_0x3862ae(0x873)](this[_0x3862ae(0x586)]+'\x20('+this[_0x3862ae(0x1c1)][_0x3862ae(0x360)]+'):\x20'+_0x558dab),new U(_0x558dab);}}async['updateChatGroupData'](_0x1c319b){const _0x33281b=a0_0x13c462;let _0x2b36f8=await this[_0x33281b(0x59e)][_0x33281b(0x696)][_0x33281b(0x4cd)]({'where':{'_id':_0x1c319b['id']}},this[_0x33281b(0x1c1)][_0x33281b(0x360)]);if(_0x1c319b[_0x33281b(0x2b2)]=_0x1c319b?.[_0x33281b(0x2b2)]&&_0x1c319b[_0x33281b(0x2b2)][_0x33281b(0x2ba)]()['length']<0xd?_0x1c319b?.['subjectTime']*0x3e8:_0x1c319b?.['subjectTime']||null,_0x1c319b[_0x33281b(0x78f)]=_0x1c319b?.[_0x33281b(0x78f)]&&_0x1c319b['creation']['toString']()[_0x33281b(0x1d3)]<0xd?_0x1c319b?.[_0x33281b(0x78f)]*0x3e8:_0x1c319b?.[_0x33281b(0x78f)]||null,!_0x1c319b[_0x33281b(0x25b)])try{_0x1c319b['image']=await this[_0x33281b(0x155)][_0x33281b(0x15b)](_0x1c319b['id'],_0x33281b(0x2cd));}catch(_0x273ee7){this[_0x33281b(0x7de)][_0x33281b(0x3c2)](this[_0x33281b(0x586)]+'\x20('+this[_0x33281b(0x1c1)]['wuid']+_0x33281b(0x453)+_0x1c319b['id']+':\x20'+(_0x273ee7 instanceof Error?_0x273ee7['message']:JSON[_0x33281b(0x524)](_0x273ee7,null,0x2)));}let _0x1a66e9=_0x1c319b[_0x33281b(0x4b4)][_0x33281b(0x4c1)](_0x5ed20d=>{const _0x307278=_0x33281b;let _0x5b0d91=_0x2b36f8?.[_0x307278(0x177)]?.['participants'][_0x307278(0x88b)](_0x43dc0e=>_0x43dc0e['id']===_0x5ed20d['id']);return{..._0x5ed20d,'isAdmin':['admin',_0x307278(0x636)][_0x307278(0x50c)](_0x5ed20d[_0x307278(0x8a6)]),'admin':_0x5ed20d[_0x307278(0x8a6)],'name':_0x5b0d91?.['name']||_0x5ed20d[_0x307278(0x42b)],'imgUrl':_0x5b0d91?.['imgUrl']||_0x5ed20d[_0x307278(0x196)]};}),_0x29a3c4=_0x1a66e9[_0x33281b(0x73a)](_0x4fab53=>_0x4fab53['id']===this[_0x33281b(0x1c1)][_0x33281b(0x360)]+'@s.whatsapp.net'&&_0x4fab53[_0x33281b(0x8a6)]!=null)||!0x1,_0x43787f=(!_0x1c319b[_0x33281b(0x637)]||_0x29a3c4)&&(!_0x1c319b[_0x33281b(0x37d)]||_0x29a3c4),_0x128a86={..._0x1c319b,'participants':_0x1a66e9,'awaitingApproval':_0x2b36f8?.[_0x33281b(0x177)]?.[_0x33281b(0x6ac)]||[],'lastFetchAwaitingApproval':_0x2b36f8?.['groupdata']?.[_0x33281b(0x671)],'isAdmin':_0x29a3c4,'canSendMessage':_0x43787f,'lastUpdate':Date['now']()};await this['repository'][_0x33281b(0x696)][_0x33281b(0x176)]({'where':{'_id':_0x1c319b['id']}},{'imagechat':_0x1c319b[_0x33281b(0x25b)],'name':_0x1c319b[_0x33281b(0x7ef)],'group':!0x0,'groupdata':_0x128a86,'lastcache':Date[_0x33281b(0x421)]()},this[_0x33281b(0x1c1)][_0x33281b(0x360)]),F(this[_0x33281b(0x586)],_0x33281b(0x6ce),{'chat':_0x1c319b});}async[a0_0x13c462(0x589)](_0x51dbc4){const _0x171e6a=a0_0x13c462;let _0x1601c7=await this['repository'][_0x171e6a(0x696)][_0x171e6a(0x4cd)]({'where':{'_id':_0x51dbc4['id']}},this[_0x171e6a(0x1c1)][_0x171e6a(0x360)]);_0x51dbc4[_0x171e6a(0x2b2)]=_0x51dbc4?.[_0x171e6a(0x2b2)]&&_0x51dbc4[_0x171e6a(0x2b2)][_0x171e6a(0x2ba)]()[_0x171e6a(0x1d3)]<0xd?_0x51dbc4?.[_0x171e6a(0x2b2)]*0x3e8:_0x51dbc4?.[_0x171e6a(0x2b2)]||null,_0x51dbc4[_0x171e6a(0x78f)]=_0x51dbc4?.[_0x171e6a(0x78f)]&&_0x51dbc4['creation'][_0x171e6a(0x2ba)]()['length']<0xd?_0x51dbc4?.[_0x171e6a(0x78f)]*0x3e8:_0x51dbc4?.[_0x171e6a(0x78f)]||null,_0x51dbc4[_0x171e6a(0x3e8)]&&(_0x51dbc4['inviteCode']=_0x171e6a(0x1c5)+_0x51dbc4[_0x171e6a(0x3e8)]);let _0x13d4e2=_0x1601c7?.[_0x171e6a(0x177)]?{..._0x1601c7[_0x171e6a(0x177)]}:{};Object[_0x171e6a(0x750)](_0x51dbc4)[_0x171e6a(0x2a0)](_0x5f405c=>{_0x5f405c!=='id'&&(_0x13d4e2[_0x5f405c]=_0x51dbc4[_0x5f405c]);});let _0x52e719=_0x13d4e2[_0x171e6a(0x4b4)]?.[_0x171e6a(0x73a)](_0xf1d745=>_0xf1d745['id']===this[_0x171e6a(0x1c1)]['wuid']+_0x171e6a(0x703)&&_0xf1d745[_0x171e6a(0x8a6)]!=null)||!0x1;_0x13d4e2[_0x171e6a(0x1fa)]=_0x52e719;let _0x342de2=(!_0x13d4e2[_0x171e6a(0x637)]||_0x52e719)&&(!_0x13d4e2[_0x171e6a(0x37d)]||_0x52e719);_0x13d4e2['canSendMessage']=_0x342de2;let _0x4a7513={'group':!0x0,'groupdata':_0x13d4e2};_0x51dbc4[_0x171e6a(0x7ef)]&&(_0x4a7513[_0x171e6a(0x42b)]=_0x51dbc4[_0x171e6a(0x7ef)]),await this[_0x171e6a(0x59e)][_0x171e6a(0x696)][_0x171e6a(0x176)]({'where':{'_id':_0x51dbc4['id']}},_0x4a7513,this[_0x171e6a(0x1c1)][_0x171e6a(0x360)],{'upsert':!0x0}),F(this[_0x171e6a(0x586)],'chats',{'chat':_0x4a7513});}async['updateGroupParticipantsWebhook'](_0x430878){const _0x446092=a0_0x13c462;let _0x498199=await this[_0x446092(0x59e)][_0x446092(0x696)][_0x446092(0x4cd)]({'where':{'_id':_0x430878['id']}},this[_0x446092(0x1c1)][_0x446092(0x360)]);if(!_0x498199||!_0x498199[_0x446092(0x177)]){this['logger'][_0x446092(0x19e)](this[_0x446092(0x586)]+'\x20('+this[_0x446092(0x1c1)][_0x446092(0x360)]+'):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20'+_0x430878['id']);return;}let _0x500166=await this[_0x446092(0x59e)][_0x446092(0x22d)][_0x446092(0x288)](_0x430878[_0x446092(0x4b4)]),_0x3c67ba=[..._0x498199['groupdata']?.['participants']];switch(_0x430878[_0x446092(0x6c4)]){case _0x446092(0x536):_0x500166[_0x446092(0x4c1)](_0x5f2e32=>({'id':_0x5f2e32['_id'],'isAdmin':!0x1,'name':_0x5f2e32['name'],'imgUrl':_0x5f2e32[_0x446092(0x6c7)]}))[_0x446092(0x2a0)](_0x1be6ea=>{const _0x19f0be=_0x446092;_0x3c67ba['some'](_0x47a176=>_0x47a176['id']===_0x1be6ea['id'])||(_0x3c67ba[_0x19f0be(0x438)](_0x1be6ea),this[_0x19f0be(0x7de)][_0x19f0be(0x19e)](_0x19f0be(0x330)+JSON[_0x19f0be(0x524)](_0x1be6ea)));});break;case'remove':_0x3c67ba=_0x3c67ba[_0x446092(0x843)](_0x41ea04=>!_0x430878[_0x446092(0x4b4)][_0x446092(0x50c)](_0x41ea04['id']));break;case _0x446092(0x3b3):_0x3c67ba=_0x3c67ba['map'](_0x461fc9=>_0x430878[_0x446092(0x4b4)][_0x446092(0x50c)](_0x461fc9['id'])?{..._0x461fc9,'isAdmin':!0x0,'admin':'admin'}:_0x461fc9);break;case'demote':_0x3c67ba=_0x3c67ba[_0x446092(0x4c1)](_0x18f9db=>_0x430878[_0x446092(0x4b4)]['includes'](_0x18f9db['id'])?{..._0x18f9db,'isAdmin':!0x1,'admin':null}:_0x18f9db);break;}let _0x5c24f1=_0x3c67ba[_0x446092(0x1d3)],_0x177490=_0x3c67ba[_0x446092(0x73a)](_0x2b24f4=>_0x2b24f4['id']===this[_0x446092(0x1c1)]['wuid']+_0x446092(0x703)),_0xf1759b=_0x177490&&_0x3c67ba[_0x446092(0x73a)](_0x8c9f5c=>_0x8c9f5c['id']===this[_0x446092(0x1c1)][_0x446092(0x360)]+_0x446092(0x703)&&_0x8c9f5c[_0x446092(0x8a6)]!=null)||!0x1,_0x20fca4=_0x177490&&(!_0x498199[_0x446092(0x177)][_0x446092(0x637)]||_0xf1759b)&&(!_0x498199[_0x446092(0x177)]['isCommunity']||_0xf1759b);await this[_0x446092(0x59e)][_0x446092(0x696)][_0x446092(0x176)]({'where':{'_id':_0x430878['id']}},{'groupdata':{..._0x498199['groupdata'],'participants':_0x3c67ba,'size':_0x5c24f1,'isAdmin':_0xf1759b,'canSendMessage':_0x20fca4}},this['instance']['wuid']),this[_0x446092(0x7de)]['info'](this[_0x446092(0x586)]+'\x20('+this[_0x446092(0x1c1)][_0x446092(0x360)]+'):\x20Grupo\x20'+_0x430878['id']+_0x446092(0x3fe)+_0x430878['action']+',\x20Novo\x20tamanho:\x20'+_0x5c24f1+',\x20isAdmin:\x20'+_0xf1759b+_0x446092(0x3a1)+_0x20fca4);}async[a0_0x13c462(0x3e8)](_0xfddc0a,_0x1a3d57=!0x0){const _0x3bf815=a0_0x13c462;try{let _0x4513e1=await this['client'][_0x3bf815(0x7c9)](_0xfddc0a['groupJid']),_0x4f7958={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x4513e1};if(_0x1a3d57){let _0x117d8b=await this[_0x3bf815(0x59e)][_0x3bf815(0x696)]['updateOne']({'where':{'_id':_0xfddc0a[_0x3bf815(0x261)]}},_0x4f7958,this[_0x3bf815(0x1c1)][_0x3bf815(0x360)]);}return{'inviteUrl':_0x3bf815(0x1c5)+_0x4513e1,'inviteCode':_0x4513e1};}catch(_0x1e0449){let _0x223d8f=_0x3bf815(0x74c),_0xae4f09=_0x1e0449 instanceof Error?_0x1e0449[_0x3bf815(0x7d2)]:typeof _0x1e0449=='object'?JSON[_0x3bf815(0x524)](_0x1e0449):_0x1e0449,_0x1dc879=_0x223d8f+':\x20'+_0xae4f09;throw this[_0x3bf815(0x7de)][_0x3bf815(0x873)](this[_0x3bf815(0x586)]+'\x20('+this[_0x3bf815(0x1c1)][_0x3bf815(0x360)]+_0x3bf815(0x351)+_0x1dc879),new U(_0x1dc879);}}async[a0_0x13c462(0x482)](_0x1ea65c){const _0x318931=a0_0x13c462;try{let _0xf821a=await this[_0x318931(0x155)][_0x318931(0x5f3)](_0x1ea65c[_0x318931(0x261)]);return{'revoked':!0x0,'inviteUrl':_0x318931(0x1c5)+_0xf821a,'inviteCode':_0xf821a};}catch(_0x790d87){let _0x3dcc4f=_0x318931(0x7b0),_0x29d281=_0x790d87 instanceof Error?_0x790d87[_0x318931(0x7d2)]:typeof _0x790d87=='object'?JSON[_0x318931(0x524)](_0x790d87):_0x790d87,_0x316dd2=_0x3dcc4f+':\x20'+_0x29d281;throw this[_0x318931(0x7de)][_0x318931(0x873)](this[_0x318931(0x586)]+'\x20('+this[_0x318931(0x1c1)]['wuid']+_0x318931(0x351)+_0x316dd2),new U(_0x316dd2);}}async[a0_0x13c462(0x27d)](_0x50714e){const _0x53c8e0=a0_0x13c462;try{if((0x0,J[_0x53c8e0(0x883)])(_0x50714e[_0x53c8e0(0x3e8)]))var _0x5be642=_0x50714e[_0x53c8e0(0x3e8)]['split']('/')[0x3];else var _0x5be642=_0x50714e[_0x53c8e0(0x3e8)];let _0x192252=await this[_0x53c8e0(0x155)][_0x53c8e0(0x7e1)](_0x5be642);return this[_0x53c8e0(0x7de)][_0x53c8e0(0x3c2)](this['instanceName']+'\x20('+this[_0x53c8e0(0x1c1)]['wuid']+_0x53c8e0(0x351)+_0x192252),{'join':!0x0,'inviteCode':_0x5be642,'groupJid':_0x192252};}catch(_0x1265c9){let _0x37349a='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x2b8c3f=_0x1265c9 instanceof Error?_0x1265c9[_0x53c8e0(0x7d2)]:typeof _0x1265c9==_0x53c8e0(0x50b)?JSON[_0x53c8e0(0x524)](_0x1265c9):_0x1265c9,_0x4011c1=_0x37349a+':\x20'+_0x2b8c3f;throw this[_0x53c8e0(0x7de)][_0x53c8e0(0x873)](this['instanceName']+'\x20('+this[_0x53c8e0(0x1c1)][_0x53c8e0(0x360)]+_0x53c8e0(0x351)+_0x4011c1),new U(_0x4011c1);}}async[a0_0x13c462(0x4e1)](_0x85c430){const _0x13436b=a0_0x13c462;try{return{'participants':(await this['repository'][_0x13436b(0x696)]['findOne']({'where':{'_id':_0x85c430['groupJid']}},this[_0x13436b(0x1c1)][_0x13436b(0x360)]))[_0x13436b(0x177)]['participants']};}catch(_0x1d7e12){let _0x2889f0='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x448118=_0x1d7e12 instanceof Error?_0x1d7e12['message']:typeof _0x1d7e12==_0x13436b(0x50b)?JSON[_0x13436b(0x524)](_0x1d7e12):_0x1d7e12,_0x44ab82=_0x2889f0+':\x20'+_0x448118;throw this['logger'][_0x13436b(0x873)](this[_0x13436b(0x586)]+'\x20('+this[_0x13436b(0x1c1)][_0x13436b(0x360)]+_0x13436b(0x351)+_0x44ab82),new U(_0x44ab82);}}async[a0_0x13c462(0x3c3)](_0x41ec63){const _0x24bf62=a0_0x13c462;try{return await this[_0x24bf62(0x155)][_0x24bf62(0x485)](_0x41ec63['groupJid']),{'groupJid':_0x41ec63['groupJid'],'leave':!0x0};}catch(_0x22e87d){let _0x3f0a75=_0x24bf62(0x6b8),_0x195cc3=_0x22e87d instanceof Error?_0x22e87d[_0x24bf62(0x7d2)]:typeof _0x22e87d==_0x24bf62(0x50b)?JSON['stringify'](_0x22e87d):_0x22e87d,_0x2cfda0=_0x3f0a75+':\x20'+_0x195cc3;throw this[_0x24bf62(0x7de)][_0x24bf62(0x873)](this[_0x24bf62(0x586)]+'\x20('+this[_0x24bf62(0x1c1)]['wuid']+_0x24bf62(0x351)+_0x2cfda0),new m(_0x2cfda0);}}async[a0_0x13c462(0x193)](_0x284080){const _0x192cd8=a0_0x13c462;return await this[_0x192cd8(0x5fa)](_0x284080[_0x192cd8(0x89e)],{'poll':{'name':_0x284080[_0x192cd8(0x193)]?.[_0x192cd8(0x42b)],'selectableCount':_0x284080[_0x192cd8(0x193)][_0x192cd8(0x560)],'values':_0x284080[_0x192cd8(0x193)][_0x192cd8(0x782)]}},_0x284080?.[_0x192cd8(0x4e3)]);}async[a0_0x13c462(0x2f2)](_0x4187b6){const _0x3067a9=a0_0x13c462;return await this[_0x3067a9(0x5fa)](_0x4187b6[_0x3067a9(0x89e)],{'listMessage':{'title':_0x4187b6['listMessage'][_0x3067a9(0x7cb)],'description':_0x4187b6['listMessage']['description'],'buttonText':_0x4187b6[_0x3067a9(0x2f2)]?.[_0x3067a9(0x6d3)],'footerText':_0x4187b6[_0x3067a9(0x2f2)]?.['footerText'],'sections':_0x4187b6[_0x3067a9(0x2f2)][_0x3067a9(0x473)],'listType':0x2}},_0x4187b6?.[_0x3067a9(0x4e3)]);}async[a0_0x13c462(0x53c)](_0x483066){const _0x397121=a0_0x13c462;this[_0x397121(0x1c1)][_0x397121(0x5ae)]===void 0x0&&await this['isBusinessInstance']();let _0x38472c;if(_0x483066[_0x397121(0x53c)][_0x397121(0x2b5)]===_0x397121(0x5d4)||_0x483066[_0x397121(0x53c)]['type']==='list2'){let _0x3de870=_0x483066[_0x397121(0x53c)][_0x397121(0x1e0)][_0x397121(0x88c)]('\x0a'),_0x21811e='',_0x16ec18='';_0x3de870!==-0x1?(_0x21811e=_0x483066[_0x397121(0x53c)][_0x397121(0x1e0)][_0x397121(0x479)](0x0,_0x3de870)[_0x397121(0x707)](),_0x16ec18=_0x483066[_0x397121(0x53c)][_0x397121(0x1e0)][_0x397121(0x479)](_0x3de870+0x1)):_0x16ec18=_0x483066['menuMessage'][_0x397121(0x1e0)];let _0x4063a5=_0x483066[_0x397121(0x53c)][_0x397121(0x655)]['filter'](_0x161904=>_0x161904[_0x397121(0x707)]()!==''),_0x190b1a=this[_0x397121(0x3fd)](_0x4063a5);_0x38472c={'listMessage':{'title':_0x21811e,'description':_0x16ec18,'buttonText':_0x483066[_0x397121(0x53c)]['buttonText']||_0x397121(0x20f),'footerText':_0x483066[_0x397121(0x53c)][_0x397121(0x1ad)],'sections':_0x190b1a,'listType':0x2}};}else{if(_0x483066[_0x397121(0x53c)][_0x397121(0x2b5)]===_0x397121(0x460)){let _0x1a44e0=_0x483066[_0x397121(0x53c)][_0x397121(0x655)][_0x397121(0x843)](_0x1183dc=>!(_0x1183dc[_0x397121(0x51d)]('[')&&_0x1183dc['endsWith'](']'))&&_0x1183dc[_0x397121(0x707)]()!=='')['map'](_0x5e397d=>_0x5e397d[_0x397121(0x4ca)]('\x0a')[0x0]);for(;_0x1a44e0[_0x397121(0x1d3)]<0x2;)_0x1a44e0[_0x397121(0x438)](_0x397121(0x855)+(_0x1a44e0['length']+0x1));_0x38472c={'poll':{'name':_0x483066['menuMessage']['text'],'selectableCount':_0x483066['menuMessage']['selectableCount']||0x1,'values':_0x1a44e0}};}else{if(_0x483066[_0x397121(0x53c)]['type']==='button'){let _0x1813d3=this[_0x397121(0x69b)](_0x483066[_0x397121(0x53c)][_0x397121(0x655)][_0x397121(0x843)](_0x2f021b=>!(_0x2f021b[_0x397121(0x51d)]('[')&&_0x2f021b[_0x397121(0x682)](']'))));return _0x38472c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x483066[_0x397121(0x53c)][_0x397121(0x1e0)]},'footer':_0x483066[_0x397121(0x53c)][_0x397121(0x1ad)]?{'text':_0x483066['menuMessage'][_0x397121(0x1ad)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x1813d3,'messageParamsJson':JSON[_0x397121(0x524)]({'from':_0x397121(0x674),'templateId':_0x397121(0x230)+(0x0,oe['randomBytes'])(0x12)['toString']('hex')['toUpperCase']()})}}}}},await this[_0x397121(0x3e0)](_0x483066['number'],_0x38472c,_0x483066?.[_0x397121(0x4e3)]);}else{if(_0x483066[_0x397121(0x53c)][_0x397121(0x2b5)]===_0x397121(0x718)){let _0x1f8447=this[_0x397121(0x2d0)](_0x483066['menuMessage'][_0x397121(0x655)]);return _0x38472c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x483066[_0x397121(0x53c)][_0x397121(0x1e0)]},'footer':_0x483066['menuMessage']['footerText']?{'text':_0x483066[_0x397121(0x53c)][_0x397121(0x1ad)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x1f8447,'messageParamsJson':JSON[_0x397121(0x524)]({'from':'api','templateId':_0x397121(0x230)+(0x0,oe['randomBytes'])(0x12)[_0x397121(0x2ba)](_0x397121(0x25f))['toUpperCase']()})}}}}},await this[_0x397121(0x3e0)](_0x483066[_0x397121(0x89e)],_0x38472c,_0x483066?.[_0x397121(0x4e3)]);}}}}return await this[_0x397121(0x5fa)](_0x483066[_0x397121(0x89e)],_0x38472c,_0x483066?.['options']);}[a0_0x13c462(0x69b)](_0x473375){const _0x18de11=a0_0x13c462;return _0x473375[_0x18de11(0x4c1)](_0x41059d=>{const _0x30acca=_0x18de11;let _0x4982f5=_0x41059d[_0x30acca(0x4ca)]('\x0a')[_0x30acca(0x4c1)](_0x6032f5=>_0x6032f5[_0x30acca(0x707)]()),_0x44c1fc=_0x4982f5[0x0],_0x3dcb7f=_0x4982f5[0x1]||_0x44c1fc,_0x3b9493=_0x3dcb7f[_0x30acca(0x51d)](_0x30acca(0x429))?_0x30acca(0x693):_0x30acca(0x260);return{'name':_0x3b9493,'buttonParamsJson':JSON[_0x30acca(0x524)]({'display_text':_0x44c1fc,'id':_0x3b9493==='quick_reply'?_0x3dcb7f:void 0x0,'url':_0x3b9493===_0x30acca(0x693)?_0x3dcb7f:void 0x0})};});}[a0_0x13c462(0x2d0)](_0x2a5fca){const _0x59bcbe=a0_0x13c462;let _0x47a9b9=[],_0xe32ba8={'title':'','rows':[]};return _0x2a5fca[_0x59bcbe(0x2a0)](_0x5a2c87=>{const _0x386993=_0x59bcbe;if(_0x5a2c87[_0x386993(0x51d)]('[')&&_0x5a2c87['endsWith'](']'))_0xe32ba8[_0x386993(0x2f7)][_0x386993(0x1d3)]>0x0&&_0x47a9b9[_0x386993(0x438)](_0xe32ba8),_0xe32ba8={'title':_0x5a2c87[_0x386993(0x894)](0x1,-0x1),'rows':[]};else{let _0x4f09bd=_0x5a2c87[_0x386993(0x4ca)]('\x0a')[_0x386993(0x4c1)](_0x52972f=>_0x52972f[_0x386993(0x707)]()),_0x4fecdb=_0x4f09bd[0x0],_0x5da4c5=_0x4f09bd[0x1]?_0x4f09bd[0x1]:void 0x0,_0x5f30b1=_0x4f09bd[0x2]||_0x4fecdb;_0xe32ba8[_0x386993(0x2f7)][_0x386993(0x438)]({'title':_0x4fecdb,'description':_0x5da4c5,'id':_0x5f30b1});}}),_0xe32ba8['rows'][_0x59bcbe(0x1d3)]>0x0&&_0x47a9b9[_0x59bcbe(0x438)](_0xe32ba8),[{'name':_0x59bcbe(0x5a8),'buttonParamsJson':JSON[_0x59bcbe(0x524)]({'title':_0x59bcbe(0x5d2),'sections':_0x47a9b9})}];}['createSectionsFromValues'](_0x4db5c4){const _0x338d17=a0_0x13c462;let _0x115bbc=[],_0x2f59cd={'rows':[]};return _0x4db5c4[_0x338d17(0x2a0)](_0x494288=>{const _0xd52790=_0x338d17;if(_0x494288['startsWith']('[')&&_0x494288['endsWith'](']'))_0x2f59cd['rows'][_0xd52790(0x1d3)]>0x0&&_0x115bbc[_0xd52790(0x438)](_0x2f59cd),_0x2f59cd={'title':_0x494288[_0xd52790(0x894)](0x1,-0x1),'rows':[]};else{let _0x3a0e61=_0x494288['split']('\x0a')['map'](_0x195825=>_0x195825[_0xd52790(0x707)]()),_0x1c3ed6=_0x3a0e61[0x0],_0x5b9fdd=_0x3a0e61[0x1]||null,_0x4158df=_0x3a0e61[0x2]||_0x1c3ed6;_0x2f59cd[_0xd52790(0x2f7)][_0xd52790(0x438)]({'title':_0x1c3ed6,'description':_0x5b9fdd,'rowId':_0x4158df});}}),_0x2f59cd[_0x338d17(0x2f7)][_0x338d17(0x1d3)]>0x0&&_0x115bbc[_0x338d17(0x438)](_0x2f59cd),_0x115bbc;}async['updateMessage'](_0x1f1c55,_0x1b64b3){const _0x497962=a0_0x13c462;if(await this[_0x497962(0x3f8)](_0x1f1c55,!0x0)){let _0x27140d={'where':{'_id':_0x1f1c55['id']}},_0x3d878b={'status':[_0x1b64b3[_0x497962(0x22e)]][0x0]};try{let _0xd830e5=await this[_0x497962(0x59e)][_0x497962(0x7d2)]['update'](_0x27140d,_0x3d878b,this['instance']['wuid']);_0xd830e5&&F(this[_0x497962(0x586)],_0x497962(0x418),{'message':_0xd830e5});}catch{}}}[a0_0x13c462(0x4c4)](_0x36c99f){const _0xe3a130=a0_0x13c462;let _0x48068c=[];return _0x36c99f[_0xe3a130(0x2a0)](_0x1a5459=>{const _0x454d71=_0xe3a130;_0x1a5459[_0x454d71(0x7cb)]&&_0x48068c[_0x454d71(0x438)]('['+_0x1a5459[_0x454d71(0x7cb)]+']'),_0x1a5459['rows'][_0x454d71(0x2a0)](_0x3558c4=>{const _0x85d3a=_0x454d71;_0x48068c[_0x85d3a(0x438)](_0x3558c4[_0x85d3a(0x7cb)]);});}),_0x48068c[_0xe3a130(0x65f)]('|');}[a0_0x13c462(0x17d)](_0x34091a){const _0x2c044e=a0_0x13c462;let _0x3fde44=_0x34091a[_0x2c044e(0x445)](/\\n/g,'\x0a')[_0x2c044e(0x4ca)]('\x0a')[_0x2c044e(0x843)](_0x3c8905=>_0x3c8905[_0x2c044e(0x50c)]('TEL')||_0x3c8905[_0x2c044e(0x50c)](_0x2c044e(0x3dd))),_0x42236d='';return _0x3fde44['forEach'](_0x17bdd7=>{const _0x38d1ef=_0x2c044e;let _0x5b16ea=/TEL(?:.*):(.+)/,_0x142161=/EMAIL(?:.*):(.+)/,_0x59d526=_0x17bdd7[_0x38d1ef(0x423)](_0x5b16ea),_0x575717=_0x17bdd7[_0x38d1ef(0x423)](_0x142161);if(_0x59d526){let _0xa4c8fc=_0x59d526[0x1][_0x38d1ef(0x445)](/-| |\+|\(|\)/g,'')[_0x38d1ef(0x707)]();_0x42236d+='Telefone:\x20'+_0xa4c8fc+'\x0a';}else{if(_0x575717){let _0x142a50=_0x575717[0x1]['trim']();_0x42236d+=_0x38d1ef(0x42a)+_0x142a50+'\x0a';}}}),_0x42236d[_0x2c044e(0x707)]();}async[a0_0x13c462(0x5cd)](_0x40eb08,_0x5ba561,_0x57e84e,_0x54a1d9=null){const _0x3782f1=a0_0x13c462;if(_0x40eb08[_0x3782f1(0x7cc)])try{let _0x40412c=_0x5ba561['key'][_0x3782f1(0x3aa)][_0x3782f1(0x445)](/:\d{1,2}@/g,'@'),_0x340f11=_0x5ba561['key'][_0x3782f1(0x2c3)],_0xce513b=_0x40412c['endsWith'](_0x3782f1(0x3c4)),_0x402267=_0x5ba561['participant']?.[_0x3782f1(0x445)](/:\d{1,2}@/g,'@')||'',_0x54a423=_0x5ba561['message_normalized']?.[_0x3782f1(0x1e0)]||_0x5ba561['message_normalized']?.[_0x3782f1(0x541)]||_0x5ba561[_0x3782f1(0x7a2)]?.[_0x3782f1(0x496)]||_0x5ba561[_0x3782f1(0x7a2)]?.[_0x3782f1(0x42b)]||'',_0x3f30f2={'_id':_0x5ba561[_0x3782f1(0x882)],'remoteJid':_0x340f11?this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]:_0xce513b?_0x402267:_0x40412c,'pushName':_0x340f11?this['instance'][_0x3782f1(0x663)]||'Eu':_0x5ba561[_0x3782f1(0x39b)],'text':_0x54a423,'type':_0x5ba561[_0x3782f1(0x441)],'when':_0x5ba561[_0x3782f1(0x32d)]||Date[_0x3782f1(0x421)]()};_0x54a1d9||(_0x54a1d9=await this[_0x3782f1(0x59e)][_0x3782f1(0x696)][_0x3782f1(0x4cd)]({'where':{'_id':_0x40412c}},this['instance'][_0x3782f1(0x360)]));let _0x3d59ed=_0x340f11?0x0:_0x54a1d9?(_0x54a1d9[_0x3782f1(0x53d)]||0x0)+0x1:0x1,_0xe621c4={'lastmsg':_0x5ba561[_0x3782f1(0x32d)]||Date[_0x3782f1(0x421)](),'ephemeralExpiration':_0x5ba561[_0x3782f1(0x4a3)],'lastMessage':_0x3f30f2,'unreadcount':_0x3d59ed,..._0x340f11||_0xce513b?{}:{'name':_0x5ba561[_0x3782f1(0x39b)]},..._0xce513b?{'group':_0xce513b}:{},...!_0x340f11&&!_0xce513b&&_0x5ba561[_0x3782f1(0x15b)]?{'imagechat':_0x5ba561[_0x3782f1(0x15b)]}:{}};if(!_0xce513b&&(!_0x54a1d9?.[_0x3782f1(0x8c0)]||!_0x54a1d9['leadInfo']['nome'])&&_0x5ba561[_0x3782f1(0x39b)]&&!_0x340f11&&(_0xe621c4={..._0xe621c4,'leadInfo.nome':_0x5ba561['pushName']}),_0x54a1d9?.[_0x3782f1(0x8c0)][_0x3782f1(0x622)]||(_0xe621c4={..._0xe621c4,'leadInfo.etiquetas':[]}),_0x54a1d9?.[_0x3782f1(0x8c0)]['customFields']||(_0xe621c4={..._0xe621c4,'leadInfo.customFields':[]}),_0x54a1d9?.['leadInfo'][_0x3782f1(0x55d)]||(_0xe621c4={..._0xe621c4,'leadInfo.tags':[]}),_0x54a1d9&&_0x54a1d9?.['imported']){let _0x314422=await this[_0x3782f1(0x59e)]['label'][_0x3782f1(0x88b)]({'where':{}},this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]),_0x101292=new Set(_0x314422[_0x3782f1(0x4c1)](_0x334649=>_0x334649['_id'])),_0x3ce8ab=(_0x54a1d9[_0x3782f1(0x8c0)]?.[_0x3782f1(0x622)]||[])[_0x3782f1(0x843)](_0x5c85fa=>_0x101292['has'](_0x5c85fa));_0xe621c4={..._0xe621c4,'imported':!0x1,'leadInfo.etiquetas':_0x3ce8ab};for(let _0x591f47 of _0x3ce8ab)await this[_0x3782f1(0x174)](_0x591f47,_0x40412c);}if(!this['AutomateSystem'][_0x3782f1(0x1bc)][_0x3782f1(0x88b)](_0x1661d3=>_0x1661d3[_0x3782f1(0x396)]&&_0x54a423[_0x3782f1(0x50c)](_0x1661d3[_0x3782f1(0x396)]))&&_0x57e84e===_0x3782f1(0x3ca)&&_0x340f11&&this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)][_0x3782f1(0x245)]&&_0x54a423[_0x3782f1(0x707)]()!==this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)][_0x3782f1(0x189)][_0x3782f1(0x707)]()){let _0x4e03bd=(this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)][_0x3782f1(0x66d)]||0x0)*0xea60,_0x4d1033=Date[_0x3782f1(0x421)]()+_0x4e03bd;_0x54a1d9?.[_0x3782f1(0x8c0)]?.['desativadoFluxoAte']===0x0||(_0xe621c4={..._0xe621c4,'leadInfo.desativadoFluxoAte':_0x4d1033},this['logger'][_0x3782f1(0x3c2)](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x38b)+_0x4d1033+'.'));}if(_0x54a423[_0x3782f1(0x707)]()===this['AutomateSystem']?.[_0x3782f1(0x899)][_0x3782f1(0x189)]['trim']()){this[_0x3782f1(0x7de)][_0x3782f1(0x3c2)](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x54a423);let _0x266523=Date['now']();this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)][_0x3782f1(0x2d5)]===0x0?_0xe621c4={..._0xe621c4,'leadInfo.desativadoFluxoAte':_0x266523+0x7591f6200}:_0xe621c4={..._0xe621c4,'leadInfo.desativadoFluxoAte':_0x266523+this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)][_0x3782f1(0x2d5)]*0x3c*0x3e8};}if(_0x54a1d9=await this[_0x3782f1(0x59e)][_0x3782f1(0x696)]['updateOne']({'where':{'_id':_0x40412c}},_0xe621c4,this[_0x3782f1(0x1c1)][_0x3782f1(0x360)],{'new':!0x0,'upsert':!0x0}),_0x54a1d9)F(this[_0x3782f1(0x586)],_0x3782f1(0x6ce),{'chat':_0x54a1d9});else{this[_0x3782f1(0x7de)][_0x3782f1(0x873)](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x632));return;}if(_0x340f11)return this[_0x3782f1(0x7de)]['verbose'](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x45f)),null;if(!this['AutomateSystem']?.[_0x3782f1(0x899)]['enabled'])return this[_0x3782f1(0x7de)]['verbose'](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)]['wuid']+_0x3782f1(0x34e)),null;if(_0x54a1d9[_0x3782f1(0x882)][_0x3782f1(0x50c)](_0x3782f1(0x3c4))&&this[_0x3782f1(0x1cf)]?.[_0x3782f1(0x899)]['ignoreGroups']===!0x0)return this[_0x3782f1(0x7de)][_0x3782f1(0x3c2)](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x54a1d9[_0x3782f1(0x8c0)]){if(_0x54a1d9[_0x3782f1(0x8c0)]['desativadoFluxoAte']===0x0||_0x54a1d9[_0x3782f1(0x8c0)][_0x3782f1(0x410)])return this[_0x3782f1(0x7de)]['verbose'](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x89a)+_0x40412c+_0x3782f1(0x17c)),null;if(_0x54a1d9[_0x3782f1(0x8c0)][_0x3782f1(0x580)]>Date[_0x3782f1(0x421)]()&&!_0x5ba561[_0x3782f1(0x7a2)]?.[_0x3782f1(0x496)])return this[_0x3782f1(0x7de)][_0x3782f1(0x3c2)](this['instanceName']+'\x20('+this[_0x3782f1(0x1c1)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x54a1d9[_0x3782f1(0x8c0)][_0x3782f1(0x580)])['toLocaleString']()+_0x3782f1(0x17c)),null;}this['logger'][_0x3782f1(0x3c2)](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x561)),this[_0x3782f1(0x16c)](_0x5ba561,_0x57e84e);}catch(_0x408082){let _0x38aca7='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x5ad413=_0x408082 instanceof Error?_0x408082[_0x3782f1(0x7d2)]:typeof _0x408082==_0x3782f1(0x50b)?JSON['stringify'](_0x408082):_0x408082,_0x567094=_0x38aca7+':\x20'+_0x5ad413;return this[_0x3782f1(0x7de)]['error'](this[_0x3782f1(0x586)]+'\x20('+this[_0x3782f1(0x1c1)][_0x3782f1(0x360)]+_0x3782f1(0x351)+_0x567094),null;}}async[a0_0x13c462(0x34f)](_0x17ac70,_0x56e97f){const _0x50fbab=a0_0x13c462;if(_0x56e97f[_0x50fbab(0x7cc)]){let _0x39ab6c=_0x17ac70['map'](async _0x3b1aab=>{const _0x56c048=_0x50fbab;try{let _0x266e0b={'_id':_0x3b1aab[_0x56c048(0x882)],'owner':_0x3b1aab[_0x56c048(0x7ae)],'lastcache':0x0};if(Object[_0x56c048(0x750)](_0x3b1aab)[_0x56c048(0x2a0)](_0x4ebca5=>{_0x3b1aab[_0x4ebca5]!==null&&(_0x266e0b[_0x4ebca5]=_0x3b1aab[_0x4ebca5]);}),_0x266e0b[_0x56c048(0x7b8)]===null&&(_0x266e0b['imagechat']='Imagem\x20não\x20encontrada'),Object[_0x56c048(0x750)](_0x266e0b)['length']>0x0)return await this[_0x56c048(0x59e)][_0x56c048(0x696)][_0x56c048(0x176)]({'where':{'_id':_0x3b1aab[_0x56c048(0x882)]}},_0x266e0b,this[_0x56c048(0x1c1)]['wuid']);}catch(_0x290e66){let _0x234223=_0x56c048(0x3c0)+_0x3b1aab[_0x56c048(0x882)],_0x3f1643=_0x290e66 instanceof Error?_0x290e66[_0x56c048(0x7d2)]:typeof _0x290e66==_0x56c048(0x50b)?JSON[_0x56c048(0x524)](_0x290e66):_0x290e66,_0x5a92db=_0x234223+':\x20'+_0x3f1643;return this[_0x56c048(0x7de)][_0x56c048(0x873)](this['instanceName']+'\x20('+this['instance'][_0x56c048(0x360)]+_0x56c048(0x351)+_0x5a92db),null;}}),_0x4cd5f2=(await Promise['all'](_0x39ab6c))['filter'](_0x1e7648=>_0x1e7648!==null)['length'];this[_0x50fbab(0x7de)][_0x50fbab(0x3c2)](this[_0x50fbab(0x586)]+'\x20('+this['instance']['wuid']+_0x50fbab(0x351)+_0x4cd5f2+_0x50fbab(0x1da)+this[_0x50fbab(0x1c1)][_0x50fbab(0x360)]+_0x50fbab(0x296));}}async[a0_0x13c462(0x478)](_0x552f6e){const _0xd52c3c=a0_0x13c462;this[_0xd52c3c(0x7de)][_0xd52c3c(0x3c2)](this['instanceName']+'\x20('+this[_0xd52c3c(0x1c1)][_0xd52c3c(0x360)]+_0xd52c3c(0x281));let _0x16492b={'readMessages':[{'remoteJid':_0x552f6e[_0xd52c3c(0x227)][_0xd52c3c(0x1e4)][_0xd52c3c(0x733)][_0xd52c3c(0x3aa)],'fromMe':_0x552f6e[_0xd52c3c(0x227)]['lastReceivedMessage']['key']['fromMe'],'id':_0x552f6e['chatLog'][_0xd52c3c(0x1e4)]['key']['id']}]};await this[_0xd52c3c(0x69a)](_0x16492b);}async[a0_0x13c462(0x16c)](_0x56eab2,_0x2bf956){const _0xb13edd=a0_0x13c462;try{let {key:_0x451916,message_normalized:_0x5d2456}=_0x56eab2,_0x2987ff=_0x5d2456,_0x1869fc=_0x5d2456[_0xb13edd(0x1e0)]||_0x5d2456[_0xb13edd(0x541)]||_0x5d2456[_0xb13edd(0x496)]||_0x5d2456[_0xb13edd(0x42b)]||'',_0x28a6ba=_0x451916[_0xb13edd(0x3aa)],_0x250a11=null,_0x16d8c3=this[_0xb13edd(0x1cf)][_0xb13edd(0x1bc)][_0xb13edd(0x88b)](_0x8f7847=>_0x8f7847['startCommand']&&_0x1869fc[_0xb13edd(0x50c)](_0x8f7847[_0xb13edd(0x396)]));if(_0x16d8c3&&_0x2bf956===_0xb13edd(0x3ca)){let _0x36388c=await this['repository']['flow'][_0xb13edd(0x4cd)]({'where':{'_id':_0x16d8c3[_0xb13edd(0x882)]}});if(this[_0xb13edd(0x7de)][_0xb13edd(0x3c2)](this[_0xb13edd(0x586)]+'\x20('+this['instance'][_0xb13edd(0x360)]+_0xb13edd(0x306)),_0x36388c&&_0x36388c['whoCanUse']?.[_0xb13edd(0x50c)](this[_0xb13edd(0x1c1)]['wuid']))_0x250a11=await this[_0xb13edd(0x322)](_0x36388c,_0x451916,_0x2987ff);else return this[_0xb13edd(0x7de)][_0xb13edd(0x3c2)](this[_0xb13edd(0x586)]+'\x20('+this[_0xb13edd(0x1c1)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0xb13edd(0x7de)][_0xb13edd(0x3c2)](this[_0xb13edd(0x586)]+'\x20('+this['instance'][_0xb13edd(0x360)]+_0xb13edd(0x59b));if(_0x250a11=await this[_0xb13edd(0x2c8)](_0x28a6ba,_0x2987ff),_0x250a11){this[_0xb13edd(0x7de)][_0xb13edd(0x3c2)](this[_0xb13edd(0x586)]+'\x20('+this['instance'][_0xb13edd(0x360)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x451916[_0xb13edd(0x2c3)]&&_0x250a11[_0xb13edd(0x4f1)]&&this[_0xb13edd(0x478)](_0x250a11);let _0x4f9b23=await this[_0xb13edd(0x28a)](_0x250a11);_0x4f9b23&&await this['processblock'](_0x250a11,_0x4f9b23);}}catch(_0x300e6b){this[_0xb13edd(0x7de)][_0xb13edd(0x873)](this[_0xb13edd(0x586)]+'\x20('+this[_0xb13edd(0x1c1)]['wuid']+_0xb13edd(0x19b)+(_0x300e6b instanceof Error?_0x300e6b['message']:JSON[_0xb13edd(0x524)](_0x300e6b,null,0x2)));}}['flattenObject'](_0x3e9179,_0x2b5761='',_0x1a84e5={}){const _0x111f95=a0_0x13c462;return typeof _0x3e9179!=_0x111f95(0x50b)||_0x3e9179===null?(_0x2b5761&&(_0x1a84e5[_0x2b5761]=_0x3e9179),_0x1a84e5):(Object[_0x111f95(0x1ce)](_0x3e9179)['forEach'](([_0x40d852,_0x2cb6f8])=>{const _0x5a6880=_0x111f95;let _0xc73395=_0x2b5761?_0x2b5761+'.'+_0x40d852:'_'+_0x40d852;Array[_0x5a6880(0x41b)](_0x2cb6f8)?_0x2cb6f8['forEach']((_0x168fea,_0x475a46)=>{this['flattenObject'](_0x168fea,_0xc73395+'['+_0x475a46+']',_0x1a84e5);}):typeof _0x2cb6f8==_0x5a6880(0x50b)&&_0x2cb6f8!==null?this[_0x5a6880(0x32c)](_0x2cb6f8,_0xc73395,_0x1a84e5):_0x1a84e5[_0xc73395]=String(_0x2cb6f8);}),_0x1a84e5);}['variablesToObject'](_0x20d4c4){const _0x2a397a=a0_0x13c462;let _0x44fe07={};for(let _0x4e9643 of _0x20d4c4)typeof _0x4e9643[_0x2a397a(0x42b)]==_0x2a397a(0x7d4)&&typeof _0x4e9643[_0x2a397a(0x5be)]==_0x2a397a(0x7d4)&&(_0x44fe07[_0x4e9643[_0x2a397a(0x42b)]]=_0x4e9643[_0x2a397a(0x5be)]);return _0x44fe07;}async[a0_0x13c462(0x28a)](_0x40fa4f){const _0x4f86ad=a0_0x13c462;if(!this['AutomateSystem']?.[_0x4f86ad(0x899)][_0x4f86ad(0x245)]||_0x40fa4f[_0x4f86ad(0x22e)]!==_0x4f86ad(0x185)&&_0x40fa4f[_0x4f86ad(0x1af)]==='')return null;let _0xac147d=_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x15d)]||_0x4f86ad(0x4b5);typeof _0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x777)]>'u'&&(_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x777)]=!0x0);let _0x472ff1=_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x777)];this['logger'][_0x4f86ad(0x3c2)](this[_0x4f86ad(0x586)]+'\x20('+this[_0x4f86ad(0x1c1)]['wuid']+_0x4f86ad(0x268)+_0xac147d+',\x20lastCondition:\x20'+_0x472ff1);let _0x4b4704=_0xac147d===_0x4f86ad(0x4b5)?_0x40fa4f[_0x4f86ad(0x3f6)][_0x4f86ad(0x88b)](_0x3f8837=>_0x3f8837[_0x4f86ad(0x2b5)]===_0x4f86ad(0x4b5)):_0x40fa4f['blocks'][_0x4f86ad(0x88b)](_0x521e86=>_0x521e86[_0x4f86ad(0x882)]['toString']()===_0xac147d[_0x4f86ad(0x2ba)]());if(!_0x4b4704)return this['logger'][_0x4f86ad(0x873)](this[_0x4f86ad(0x586)]+'\x20('+this['instance'][_0x4f86ad(0x360)]+_0x4f86ad(0x323)+_0xac147d),null;let _0x216ed7={'_pushName':_0x40fa4f?.['chatLog']?.[_0x4f86ad(0x1e4)]?.[_0x4f86ad(0x39b)]||'','_sender':this['instance'][_0x4f86ad(0x360)]||'',..._0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x81b)]},_0xb54f3b=new Date();_0x216ed7['_day']=_0xb54f3b[_0x4f86ad(0x5db)](),_0x216ed7[_0x4f86ad(0x26a)]=_0xb54f3b[_0x4f86ad(0x48d)]()+0x1,_0x216ed7[_0x4f86ad(0x2fb)]=_0xb54f3b[_0x4f86ad(0x8a9)](),_0x216ed7[_0x4f86ad(0x206)]=_0xb54f3b[_0x4f86ad(0x61f)](),_0x216ed7['_minute']=_0xb54f3b[_0x4f86ad(0x6cc)](),_0x216ed7[_0x4f86ad(0x4c9)]=_0xb54f3b[_0x4f86ad(0x6fa)]();let _0x1f4c2a=null;if(_0x40fa4f[_0x4f86ad(0x1af)]){let _0x1ee5fe=_0x40fa4f['chatLog'][_0x4f86ad(0x1e4)][_0x4f86ad(0x496)],_0x31b9bd=_0x40fa4f[_0x4f86ad(0x6dc)][_0x4f86ad(0x88b)](_0x5c800c=>_0x5c800c[_0x4f86ad(0x166)]===_0x1ee5fe);if(_0x31b9bd){let _0x344e8c=_0x31b9bd[_0x4f86ad(0x691)];if(_0x1f4c2a=_0x40fa4f[_0x4f86ad(0x3f6)]['find'](_0x2caf4c=>_0x2caf4c[_0x4f86ad(0x35b)]===_0x344e8c&&_0x2caf4c['order']===0x1),_0x4b4704[_0x4f86ad(0x76a)][_0x4f86ad(0x511)]){let _0x23427e={'id':_0x40fa4f[_0x4f86ad(0x1af)],'remoteJid':_0x40fa4f['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x23427e);}if(_0x4b4704[_0x4f86ad(0x76a)][_0x4f86ad(0x511)]&&_0x4b4704['uazapi']['pollMessageOnDelete']&&_0x4b4704[_0x4f86ad(0x76a)]['menuType']==='poll'){let _0x7cb0fb={'number':_0x40fa4f[_0x4f86ad(0x3aa)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x40fa4f[_0x4f86ad(0x862)]+_0x4f86ad(0x2de)+_0x1ee5fe}};await this[_0x4f86ad(0x2db)](_0x7cb0fb);}_0x216ed7[_0x4f86ad(0x65d)]=_0x1ee5fe,_0x40fa4f[_0x4f86ad(0x22e)]=_0x4f86ad(0x185),_0x40fa4f[_0x4f86ad(0x1af)]='',_0x40fa4f[_0x4f86ad(0x862)]='',_0x40fa4f[_0x4f86ad(0x6dc)]=[];}else{this[_0x4f86ad(0x7de)][_0x4f86ad(0x3c2)](this[_0x4f86ad(0x586)]+'\x20('+this[_0x4f86ad(0x1c1)][_0x4f86ad(0x360)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x594ab7={'activatedCount':_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x689)][_0x4f86ad(0x843)](_0x53f3b2=>String(_0x53f3b2[_0x4f86ad(0x240)])===String(_0xac147d))[_0x4f86ad(0x1d3)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x4b4704['uazapi'][_0x4f86ad(0x435)]){let _0x40b190={'number':_0x40fa4f[_0x4f86ad(0x3aa)],'options':{'delay':0x0},'textMessage':{'text':_0x4b4704[_0x4f86ad(0x76a)]['pollErrorMessage']}};await this[_0x4f86ad(0x2db)](_0x40b190);}if(_0x4b4704[_0x4f86ad(0x2f1)]!==void 0x0&&_0x594ab7['activatedCount']>=_0x4b4704[_0x4f86ad(0x2f1)]){let _0x107953=Date[_0x4f86ad(0x421)](),_0x4195d1=_0x4b4704[_0x4f86ad(0x414)]??0xa;isNaN(_0x4195d1)&&(_0x4195d1=0xa);let _0x3486cf=_0x107953+_0x4195d1*0x3c*0x3e8;_0x594ab7[_0x4f86ad(0x1fb)]=_0x3486cf,_0x594ab7[_0x4f86ad(0x5a3)][_0x4f86ad(0x438)](_0x4f86ad(0x88d)),this['updateStopChat'](_0x40fa4f,_0x3486cf),_0x40fa4f['waitingMenu_id']='',_0x40fa4f[_0x4f86ad(0x862)]='',_0x40fa4f[_0x4f86ad(0x6dc)]=[];}return this[_0x4f86ad(0x474)](_0x40fa4f,_0x4b4704,_0x594ab7,!0x0),null;}}if(_0x472ff1&&_0x4b4704['next_groupId']&&!_0x40fa4f[_0x4f86ad(0x1af)]){let _0x386613=_0x40fa4f[_0x4f86ad(0x3f6)]['filter'](_0x3b8679=>_0x3b8679[_0x4f86ad(0x35b)][_0x4f86ad(0x2ba)]()===_0x4b4704[_0x4f86ad(0x691)][_0x4f86ad(0x2ba)]())['sort']((_0xd114b,_0x392b23)=>_0xd114b[_0x4f86ad(0x704)]-_0x392b23[_0x4f86ad(0x704)]);_0x386613['length']>0x0&&(_0x1f4c2a=_0x386613[0x0]);}if(!_0x1f4c2a){let _0x34c72a=_0x4b4704[_0x4f86ad(0x35b)],_0x2ea842=_0x40fa4f[_0x4f86ad(0x3f6)][_0x4f86ad(0x843)](_0x247db3=>_0x247db3['groupId']===_0x34c72a&&_0x247db3[_0x4f86ad(0x704)]>_0x4b4704[_0x4f86ad(0x704)])[_0x4f86ad(0x772)]((_0x34363d,_0x51a9)=>_0x34363d[_0x4f86ad(0x704)]-_0x51a9[_0x4f86ad(0x704)]);_0x2ea842[_0x4f86ad(0x1d3)]>0x0&&(_0x1f4c2a=_0x2ea842[0x0]);}if(!_0x1f4c2a)return _0x40fa4f['status']=_0x4f86ad(0x468),null;_0x40fa4f['chatLog'][_0x4f86ad(0x81b)]=_0x216ed7;let _0x945773=JSON['parse'](JSON[_0x4f86ad(0x524)](_0x1f4c2a));return this[_0x4f86ad(0x869)](_0x945773,_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x81b)]),_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x15d)]=_0x945773['_id'],_0x40fa4f[_0x4f86ad(0x227)][_0x4f86ad(0x777)]=!0x0,_0x945773;}['replaceVariables'](_0x2e199d,_0x23bd7c){const _0x2fde2c=a0_0x13c462;return _0x2e199d[_0x2fde2c(0x445)](/\{\{([^}]+)\}\}/g,(_0x272ec3,_0x187f6b)=>_0x23bd7c[_0x187f6b]||'');}[a0_0x13c462(0x869)](_0x32da5e,_0x4ecf93){const _0xe70be8=a0_0x13c462;for(let _0xa2bd89 in _0x32da5e)typeof _0x32da5e[_0xa2bd89]==_0xe70be8(0x7d4)?_0x32da5e[_0xa2bd89]=this[_0xe70be8(0x692)](_0x32da5e[_0xa2bd89],_0x4ecf93):typeof _0x32da5e[_0xa2bd89]==_0xe70be8(0x50b)&&this['replaceVariablesInObject'](_0x32da5e[_0xa2bd89],_0x4ecf93);}async[a0_0x13c462(0x229)](_0x1ea10f,_0x93f34b){const _0x385035=a0_0x13c462;let _0xe4ff45=_0x93f34b['_id'];if(_0x1ea10f[_0x385035(0x227)]&&_0x1ea10f[_0x385035(0x227)][_0x385035(0x689)]){let _0x4bb064=_0x1ea10f[_0x385035(0x227)][_0x385035(0x689)][_0x385035(0x843)](_0x16ef7f=>String(_0x16ef7f[_0x385035(0x240)])===String(_0xe4ff45))[_0x385035(0x5d0)]();if(_0x4bb064&&_0x4bb064[_0x385035(0x873)]&&_0x93f34b[_0x385035(0x43e)])return _0x1ea10f['status']=_0x385035(0x468),await this[_0x385035(0x237)](_0x1ea10f),null;}if(_0x93f34b['type']==='uazapi'&&_0x93f34b[_0x385035(0x76a)][_0x385035(0x51f)]===_0x385035(0x2ad)&&_0x1ea10f[_0x385035(0x1af)])return _0x1ea10f[_0x385035(0x227)][_0x385035(0x15d)]=_0xe4ff45,await this[_0x385035(0x237)](_0x1ea10f),null;let _0x42d9b3=await this['NextBlock'](_0x1ea10f);if(_0x1ea10f['chatLog']&&_0x1ea10f[_0x385035(0x227)][_0x385035(0x689)]){let _0x7af358=_0x1ea10f['chatLog'][_0x385035(0x689)][_0x385035(0x843)](_0x24103b=>String(_0x24103b['blockId'])===String(_0xe4ff45))[_0x385035(0x1d3)];if(_0x93f34b[_0x385035(0x2f1)]!==void 0x0&&_0x7af358>=_0x93f34b[_0x385035(0x2f1)]){let _0x3329be=Date[_0x385035(0x421)](),_0x58bb80=_0x93f34b[_0x385035(0x414)]??0xa;isNaN(_0x58bb80)&&(_0x58bb80=0xa);let _0x34896d=_0x3329be+_0x58bb80*0x3c*0x3e8,_0x15dc31={'newStoppedUntil':_0x34896d};return this[_0x385035(0x37e)](_0x1ea10f,_0x34896d),this[_0x385035(0x474)](_0x1ea10f,_0x93f34b,_0x15dc31,!0x0),null;}}_0x42d9b3&&_0x42d9b3[_0x385035(0x2b5)]!=='save'&&await this['processblock'](_0x1ea10f,_0x42d9b3),_0x42d9b3||await this[_0x385035(0x237)](_0x1ea10f),_0x42d9b3&&_0x42d9b3[_0x385035(0x2b5)]===_0x385035(0x47a)&&(_0x1ea10f[_0x385035(0x227)][_0x385035(0x15d)]=_0xe4ff45,await this[_0x385035(0x237)](_0x1ea10f));}async[a0_0x13c462(0x75b)](_0x5d1da8,_0x49a601){const _0x315bc3=a0_0x13c462;try{let _0x583d27=_0x49a601[_0x315bc3(0x2b5)];this[_0x315bc3(0x7de)][_0x315bc3(0x3c2)](this[_0x315bc3(0x586)]+'\x20('+this['instance']['wuid']+'):\x20Going\x20to\x20'+_0x583d27);let _0x48c742={'uazapi':()=>this[_0x315bc3(0x4b8)](_0x5d1da8,_0x49a601),'save':()=>this[_0x315bc3(0x853)](_0x5d1da8,_0x49a601),'stop':()=>this['stopConversation'](_0x5d1da8,_0x49a601),'condition':()=>this['processConditions'](_0x5d1da8,_0x49a601),'varedit':()=>this[_0x315bc3(0x3c5)](_0x5d1da8,_0x49a601),'apirequest':()=>this[_0x315bc3(0x1e2)](_0x5d1da8,_0x49a601),'goToFlow':()=>this[_0x315bc3(0x4d9)](_0x5d1da8,_0x49a601),'scheduleFlow':()=>this[_0x315bc3(0x7c4)](_0x5d1da8,_0x49a601),'awaitSeconds':()=>this[_0x315bc3(0x7b4)](_0x5d1da8,_0x49a601),'clearVariables':()=>this[_0x315bc3(0x863)](_0x5d1da8,_0x49a601)}[_0x583d27];_0x48c742&&await _0x48c742();}catch(_0x233605){this[_0x315bc3(0x7de)][_0x315bc3(0x873)](this[_0x315bc3(0x586)]+'\x20('+this[_0x315bc3(0x1c1)][_0x315bc3(0x360)]+_0x315bc3(0x487)+(_0x233605 instanceof Error?_0x233605[_0x315bc3(0x7d2)]:JSON[_0x315bc3(0x524)](_0x233605,null,0x2)));}}async[a0_0x13c462(0x7b4)](_0x2e746e,_0x17bfae){const _0x5746d8=a0_0x13c462;if(this[_0x5746d8(0x7de)][_0x5746d8(0x3c2)](this[_0x5746d8(0x586)]+'\x20('+this[_0x5746d8(0x1c1)][_0x5746d8(0x360)]+_0x5746d8(0x2ff)),!_0x2e746e||!_0x17bfae)return this[_0x5746d8(0x7de)][_0x5746d8(0x873)](this[_0x5746d8(0x586)]+'\x20('+this[_0x5746d8(0x1c1)][_0x5746d8(0x360)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1bc67f=+_0x17bfae[_0x5746d8(0x210)];isNaN(_0x1bc67f)&&(_0x1bc67f=0x0),_0x1bc67f=Math[_0x5746d8(0x884)](_0x1bc67f,0x3c),await(0x0,w[_0x5746d8(0x184)])(_0x1bc67f*0x3e8);let _0x5c18f9={'moreLogs':[_0x5746d8(0x4f6)+_0x1bc67f+'\x20segundos']};return await this[_0x5746d8(0x474)](_0x2e746e,_0x17bfae,_0x5c18f9),_0x1bc67f;}async[a0_0x13c462(0x863)](_0x118f7f,_0x18562f){const _0x38d650=a0_0x13c462;if(this['logger'][_0x38d650(0x3c2)](this[_0x38d650(0x586)]+'\x20('+this[_0x38d650(0x1c1)][_0x38d650(0x360)]+_0x38d650(0x48e)),!_0x118f7f||!_0x18562f)return this[_0x38d650(0x7de)][_0x38d650(0x873)](this[_0x38d650(0x586)]+'\x20('+this[_0x38d650(0x1c1)][_0x38d650(0x360)]+_0x38d650(0x788)),null;let _0x2d1016=[];if(_0x18562f[_0x38d650(0x597)]['trim']()==='[all]'){let _0x5e7528=[_0x38d650(0x402),_0x38d650(0x618),_0x38d650(0x327),_0x38d650(0x72b),_0x38d650(0x579),_0x38d650(0x882),'_fromMe'];_0x2d1016=Object[_0x38d650(0x750)](_0x118f7f[_0x38d650(0x227)]['realVariables'])['filter'](_0x1ee204=>_0x1ee204[_0x38d650(0x51d)]('_')&&!_0x5e7528['includes'](_0x1ee204));}else _0x2d1016=_0x18562f[_0x38d650(0x597)][_0x38d650(0x4ca)]('|')['map'](_0x3bf2f8=>(_0x3bf2f8=_0x3bf2f8[_0x38d650(0x445)](/[{}]/g,'')['trim'](),_0x3bf2f8[_0x38d650(0x51d)]('_')?_0x3bf2f8:'_'+_0x3bf2f8));let _0x3e795d=[];_0x2d1016[_0x38d650(0x2a0)](_0x27c561=>{const _0x3494d5=_0x38d650;_0x27c561 in _0x118f7f['chatLog']['realVariables']&&(delete _0x118f7f[_0x3494d5(0x227)][_0x3494d5(0x81b)][_0x27c561],_0x3e795d['push'](_0x27c561));}),_0x3e795d[_0x38d650(0x1d3)]>0x0?this[_0x38d650(0x7de)][_0x38d650(0x3c2)](this[_0x38d650(0x586)]+'\x20('+this['instance'][_0x38d650(0x360)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x3e795d[_0x38d650(0x65f)](',\x20')):this[_0x38d650(0x7de)][_0x38d650(0x3c2)](this[_0x38d650(0x586)]+'\x20('+this[_0x38d650(0x1c1)][_0x38d650(0x360)]+_0x38d650(0x7fe));let _0x1fafcd={'moreLogs':[_0x38d650(0x452)+_0x3e795d[_0x38d650(0x65f)](',\x20')]};return await this[_0x38d650(0x474)](_0x118f7f,_0x18562f,_0x1fafcd),null;}async[a0_0x13c462(0x7c4)](_0x5bb1bf,_0x57c2c8){const _0x1cf2a5=a0_0x13c462;if(this[_0x1cf2a5(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x1cf2a5(0x1c1)][_0x1cf2a5(0x360)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x5bb1bf||!_0x57c2c8)return this['logger']['error'](this[_0x1cf2a5(0x586)]+'\x20('+this[_0x1cf2a5(0x1c1)]['wuid']+_0x1cf2a5(0x788)),null;let _0x2ffdd7=_0x5bb1bf[_0x1cf2a5(0x3aa)];_0x57c2c8[_0x1cf2a5(0x5af)][_0x1cf2a5(0x3aa)]&&_0x57c2c8[_0x1cf2a5(0x5af)][_0x1cf2a5(0x3aa)][_0x1cf2a5(0x707)]()!==''&&(_0x2ffdd7=_0x57c2c8['uazapi'][_0x1cf2a5(0x3aa)][_0x1cf2a5(0x707)]());let _0x4042a6=_0x57c2c8[_0x1cf2a5(0x5af)]['timeInMinutes']*0xea60,_0x120433=Date[_0x1cf2a5(0x421)]()+_0x4042a6,_0xa604e7={'status':_0x1cf2a5(0x5d7),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x5bb1bf[_0x1cf2a5(0x42b)],'remoteJids':[_0x2ffdd7],'when':_0x120433,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1cf2a5(0x5e0),'flowName':_0x57c2c8[_0x1cf2a5(0x5af)]['flowName']};this[_0x1cf2a5(0x6f4)](_0xa604e7);let _0x7a63b7=await this[_0x1cf2a5(0x28a)](_0x5bb1bf);_0x7a63b7&&await this['processblock'](_0x5bb1bf,_0x7a63b7);}async[a0_0x13c462(0x4d9)](_0x26ddb3,_0x45fc4b){const _0x17949a=a0_0x13c462;if(this[_0x17949a(0x7de)][_0x17949a(0x3c2)](this[_0x17949a(0x586)]+'\x20('+this[_0x17949a(0x1c1)][_0x17949a(0x360)]+_0x17949a(0x535)),!_0x26ddb3||!_0x45fc4b)return this[_0x17949a(0x7de)][_0x17949a(0x873)](this[_0x17949a(0x586)]+'\x20('+this[_0x17949a(0x1c1)][_0x17949a(0x360)]+_0x17949a(0x788)),null;await this[_0x17949a(0x474)](_0x26ddb3,_0x45fc4b,{},!0x0,!0x0);let _0x2c820a=_0x45fc4b['goToFlow'];_0x26ddb3=await this[_0x17949a(0x6fd)](_0x2c820a,_0x26ddb3[_0x17949a(0x3aa)],_0x26ddb3[_0x17949a(0x227)][_0x17949a(0x81b)]);let _0x24ce45=await this['NextBlock'](_0x26ddb3);_0x24ce45&&await this['processblock'](_0x26ddb3,_0x24ce45);}async['createConversationforgoToFlow'](_0x4f1e1e,_0x142fe0,_0xc99dee){const _0x19f710=a0_0x13c462;this[_0x19f710(0x7de)][_0x19f710(0x3c2)](this['instanceName']+'\x20('+this[_0x19f710(0x1c1)][_0x19f710(0x360)]+_0x19f710(0x86d));try{let _0x432c34=this[_0x19f710(0x1cf)][_0x19f710(0x1bc)][_0x19f710(0x88b)](_0x57cad0=>_0x57cad0['_id']===_0x4f1e1e);_0x432c34||this[_0x19f710(0x7de)][_0x19f710(0x873)](this['instanceName']+'\x20('+this['instance'][_0x19f710(0x360)]+_0x19f710(0x208)+_0x4f1e1e+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x5647cc=await this[_0x19f710(0x59e)][_0x19f710(0x5e0)][_0x19f710(0x4cd)]({'where':{'_id':_0x432c34[_0x19f710(0x882)]}});if(!_0x5647cc||!_0x5647cc['whoCanUse']?.[_0x19f710(0x50c)](this[_0x19f710(0x1c1)][_0x19f710(0x360)]))throw this['logger']['error'](this[_0x19f710(0x586)]+'\x20('+this[_0x19f710(0x1c1)]['wuid']+_0x19f710(0x208)+_0x4f1e1e+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x4f1e1e+_0x19f710(0x285));let _0x210dfa=require(_0x19f710(0x6a1))['ObjectId'],_0x33472e=Date[_0x19f710(0x421)](),_0x604369=_0x19f710(0x4b5),_0xe28eaf={},_0x311318={},_0xd74d1d=this[_0x19f710(0x1cf)][_0x19f710(0x1bc)][_0x19f710(0x88b)](_0x50f7f6=>_0x50f7f6['_id']===_0x5647cc[_0x19f710(0x882)]?.[_0x19f710(0x2ba)]()),_0x26f68e=_0xd74d1d?.[_0x19f710(0x669)]??_0x5647cc['minutesToClose']??0x0,_0x3e816e=_0xd74d1d?.[_0x19f710(0x4f1)]??_0x5647cc[_0x19f710(0x4f1)]??!0x1,_0x4effd3={'flowId':_0x432c34[_0x19f710(0x882)],'readMessages':_0x432c34[_0x19f710(0x4f1)],..._0x5647cc,'chatLog':null},_0x5577eb={'lastReceivedMessage':_0xe28eaf,'lastSendMessage':_0x311318,'lastBlockId':_0x604369,'lastCondition':!0x0,'realVariables':_0xc99dee};_0x4effd3['chatLog']=_0x5577eb,_0x4effd3[_0x19f710(0x227)][_0x19f710(0x81b)]={..._0xc99dee},delete _0x4effd3[_0x19f710(0x882)],_0x4effd3['_id']=new _0x210dfa(),_0x4effd3['lastInteraction']=_0x33472e,_0x4effd3['status']='open',_0x4effd3[_0x19f710(0x3aa)]=_0x142fe0,_0x4effd3[_0x19f710(0x669)]=_0x26f68e,_0x4effd3[_0x19f710(0x4f1)]=_0x3e816e;let _0x296405=await this[_0x19f710(0x59e)][_0x19f710(0x436)][_0x19f710(0x176)](_0x4effd3['_id'],_0x4effd3,this[_0x19f710(0x1c1)][_0x19f710(0x360)]);return this[_0x19f710(0x7de)][_0x19f710(0x3c2)](this[_0x19f710(0x586)]+'\x20('+this[_0x19f710(0x1c1)][_0x19f710(0x360)]+_0x19f710(0x4da)),_0x296405?_0x4effd3:null;}catch(_0x37cc58){let _0x35afa9=_0x19f710(0x4f9),_0x449971=_0x37cc58 instanceof Error?_0x37cc58[_0x19f710(0x7d2)]:typeof _0x37cc58==_0x19f710(0x50b)?JSON['stringify'](_0x37cc58):_0x37cc58,_0x3a9a34=_0x35afa9+':\x20'+_0x449971;throw this['logger'][_0x19f710(0x873)](this[_0x19f710(0x586)]+'\x20('+this['instance'][_0x19f710(0x360)]+_0x19f710(0x351)+_0x3a9a34),new m(_0x3a9a34);}}async[a0_0x13c462(0x1e2)](_0x477bdc,_0x1e191c){const _0x4f7f23=a0_0x13c462;let _0xdbf1cf,_0x2670e2;try{let _0x2f23d4=_0x1e191c[_0x4f7f23(0x827)];if(!_0x2f23d4||!_0x2f23d4[_0x4f7f23(0x74d)]||!_0x2f23d4['method'])throw new Error(_0x4f7f23(0x5d6));let _0x306eb1;([_0x4f7f23(0x4e6),_0x4f7f23(0x489),_0x4f7f23(0x6b4)][_0x4f7f23(0x73a)](_0x2cc7ee=>_0x2f23d4[_0x4f7f23(0x74d)][_0x4f7f23(0x50c)](_0x2cc7ee))||_0x2f23d4['requestFile'])&&(_0x306eb1=_0x4f7f23(0x8a0));let _0x4062ad='\u205f',_0x1b20ed;try{_0x1b20ed=JSON[_0x4f7f23(0x5a1)](_0x2f23d4['bodyString'][_0x4f7f23(0x445)](new RegExp(_0x4062ad,'g'),''));}catch(_0x26ec88){throw _0x26ec88;}let _0x45fab5={'method':_0x2f23d4[_0x4f7f23(0x606)],'url':_0x2f23d4[_0x4f7f23(0x74d)],'headers':_0x2f23d4[_0x4f7f23(0x231)]||{},..._0x2f23d4[_0x4f7f23(0x606)][_0x4f7f23(0x439)]()!==_0x4f7f23(0x21d)&&_0x2f23d4[_0x4f7f23(0x324)]?{'data':JSON[_0x4f7f23(0x5a1)](_0x2f23d4[_0x4f7f23(0x324)][_0x4f7f23(0x445)](new RegExp(_0x4062ad,'g'),''))}:{},..._0x306eb1&&{'responseType':_0x306eb1}},_0x5b3be1=await(0x0,K[_0x4f7f23(0x6bc)])(_0x45fab5),_0x24b87a=_0x5b3be1[_0x4f7f23(0x7bc)][_0x4f7f23(0x343)];if(_0x24b87a&&_0x24b87a[_0x4f7f23(0x50c)]('application/json')||typeof _0x5b3be1[_0x4f7f23(0x4a7)]==_0x4f7f23(0x7d4)){if(typeof _0x5b3be1[_0x4f7f23(0x4a7)]==_0x4f7f23(0x7d4)){let _0x49eaa2=_0x5b3be1[_0x4f7f23(0x4a7)][_0x4f7f23(0x445)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4f7f23(0x707)]();try{_0xdbf1cf=JSON['parse'](_0x49eaa2);}catch(_0x5af241){this[_0x4f7f23(0x7de)][_0x4f7f23(0x873)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x5af241['message']),_0xdbf1cf={'_apiResponse':_0x5b3be1[_0x4f7f23(0x4a7)]};}}else _0xdbf1cf=_0x5b3be1[_0x4f7f23(0x4a7)];let _0x2471ec=_0x477bdc[_0x4f7f23(0x227)][_0x4f7f23(0x81b)],_0x462512=this[_0x4f7f23(0x32c)](_0xdbf1cf);return Object[_0x4f7f23(0x5c4)](_0x2471ec,_0x462512),_0x477bdc[_0x4f7f23(0x227)][_0x4f7f23(0x81b)]=_0x2471ec,_0x2670e2={'error':!0x1,'apiResponse':_0xdbf1cf},this['updateConversation'](_0x477bdc,_0x1e191c,_0x2670e2),_0xdbf1cf;}if(_0x24b87a&&(_0x24b87a[_0x4f7f23(0x50c)](_0x4f7f23(0x5c5))||_0x24b87a['includes'](_0x4f7f23(0x25b))||_0x24b87a[_0x4f7f23(0x50c)](_0x4f7f23(0x604))||_0x24b87a[_0x4f7f23(0x50c)]('video'))){this[_0x4f7f23(0x7de)][_0x4f7f23(0x3c2)](this['instanceName']+'\x20('+this[_0x4f7f23(0x1c1)][_0x4f7f23(0x360)]+_0x4f7f23(0x61a)+_0x24b87a);let _0x44090d=(0x0,Q['v4'])(),_0x2d479f='',_0x540dae={'image/jpeg':_0x4f7f23(0x4d3),'image/png':_0x4f7f23(0x8b9),'image/gif':_0x4f7f23(0x1d5),'image/webp':_0x4f7f23(0x87b),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':_0x4f7f23(0x748),'video/mp4':'.mp4','video/webm':_0x4f7f23(0x18b),'video/ogg':'.ogv','text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x4f7f23(0x876),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4f7f23(0x4df),'application/vnd.ms-excel':_0x4f7f23(0x391),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4f7f23(0x7f9),'application/vnd.ms-powerpoint':_0x4f7f23(0x56b),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4f7f23(0x419)};_0x540dae[_0x24b87a]?(_0x2d479f=_0x540dae[_0x24b87a],this[_0x4f7f23(0x7de)]['verbose'](this[_0x4f7f23(0x586)]+'\x20('+this['instance'][_0x4f7f23(0x360)]+_0x4f7f23(0x713)+_0x2d479f)):(_0x2d479f=_0x4f7f23(0x299),this[_0x4f7f23(0x7de)][_0x4f7f23(0x3c2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4f7f23(0x48f)+_0x2d479f)),_0x44090d+=_0x2d479f,this[_0x4f7f23(0x7de)][_0x4f7f23(0x3c2)](this[_0x4f7f23(0x586)]+'\x20('+this[_0x4f7f23(0x1c1)][_0x4f7f23(0x360)]+_0x4f7f23(0x757)+_0x44090d);let _0x2436f2=this[_0x4f7f23(0x310)][_0x4f7f23(0x6a5)]('SERVER')[_0x4f7f23(0x7e6)];if(!_0x2436f2){let _0xd42d7=this[_0x4f7f23(0x310)][_0x4f7f23(0x6a5)](_0x4f7f23(0x500));_0x2436f2='https://'+(_0xd42d7&&_0xd42d7[_0x4f7f23(0x426)][_0x4f7f23(0x4ca)]('/')[0x4]);}let _0x845dde=Buffer[_0x4f7f23(0x370)](_0x5b3be1[_0x4f7f23(0x4a7)]);await this[_0x4f7f23(0x3c1)](_0x845dde,_0x44090d);let _0x1a844a=_0x4f7f23(0x60a)+_0x44090d;_0x1a844a=''+_0x2436f2+_0x1a844a,_0xdbf1cf={'fileUrl':_0x1a844a},_0x477bdc[_0x4f7f23(0x227)][_0x4f7f23(0x81b)][_0x4f7f23(0x223)]=_0x1a844a;let _0x50d52f=_0x477bdc[_0x4f7f23(0x227)]['realVariables'],_0x2e57a6=this['flattenObject'](_0xdbf1cf);return Object[_0x4f7f23(0x5c4)](_0x50d52f,_0x2e57a6),_0x477bdc['chatLog'][_0x4f7f23(0x81b)]=_0x50d52f,_0x2670e2={'error':!0x1,'apiResponse':{'fileUrl':_0x1a844a}},this[_0x4f7f23(0x474)](_0x477bdc,_0x1e191c,_0x2670e2),_0xdbf1cf;}}catch(_0x52653f){this[_0x4f7f23(0x7de)][_0x4f7f23(0x873)](_0x4f7f23(0x539)+_0x52653f[_0x4f7f23(0x7d2)]),_0x52653f[_0x4f7f23(0x7c6)]&&(_0xdbf1cf=_0x52653f[_0x4f7f23(0x7c6)][_0x4f7f23(0x4a7)]);let _0x73490f=_0x477bdc[_0x4f7f23(0x227)][_0x4f7f23(0x81b)],_0x15ac5b=this[_0x4f7f23(0x32c)](_0xdbf1cf);return Object[_0x4f7f23(0x5c4)](_0x73490f,_0x15ac5b),_0x477bdc[_0x4f7f23(0x227)][_0x4f7f23(0x81b)]=_0x73490f,_0x2670e2={'error':!0x0,'errorLog':_0x52653f[_0x4f7f23(0x2ba)](),'apiResponse':_0xdbf1cf},this[_0x4f7f23(0x474)](_0x477bdc,_0x1e191c,_0x2670e2),{'success':!0x1};}}[a0_0x13c462(0x868)](_0x1be25a,_0x239ab0){const _0x2b1ed5=a0_0x13c462;let _0x4b2f34=_0x4ff870=>{const _0x41e6e8=a0_0x1c5b;let _0x3d6ac0=_0x4ff870[_0x41e6e8(0x445)](/[^0-9.,-]/g,'')[_0x41e6e8(0x445)](',','.'),_0x20cbe6=parseFloat(_0x3d6ac0);return isNaN(_0x20cbe6)?null:_0x20cbe6;},_0x3841fb=_0x239ab0[_0x2b1ed5(0x43d)],_0x5aa85b=_0x239ab0[_0x2b1ed5(0x67e)];typeof _0x3841fb==_0x2b1ed5(0x7d4)&&(_0x3841fb=this[_0x2b1ed5(0x692)](_0x3841fb,_0x1be25a['chatLog'][_0x2b1ed5(0x81b)])??''),typeof _0x5aa85b=='string'&&(_0x5aa85b=this[_0x2b1ed5(0x692)](_0x5aa85b,_0x1be25a['chatLog'][_0x2b1ed5(0x81b)])??'');let _0x132f8f=null;if(!_0x239ab0[_0x2b1ed5(0x6c5)])return null;switch(this['logger'][_0x2b1ed5(0x3c2)](this[_0x2b1ed5(0x586)]+'\x20('+this[_0x2b1ed5(0x1c1)][_0x2b1ed5(0x360)]+_0x2b1ed5(0x7da)+_0x3841fb),this[_0x2b1ed5(0x7de)][_0x2b1ed5(0x3c2)](this[_0x2b1ed5(0x586)]+'\x20('+this[_0x2b1ed5(0x1c1)]['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x5aa85b),_0x239ab0['editOperator']){case'+':case'-':case'*':case'/':let _0x56143e=_0x4b2f34(_0x3841fb||'0'),_0x39d570=_0x4b2f34(_0x5aa85b||'0');if(_0x56143e===null)return null;switch(_0x239ab0[_0x2b1ed5(0x6c5)]){case'+':_0x132f8f=_0x56143e+(_0x39d570??0x0);break;case'-':_0x132f8f=_0x56143e-(_0x39d570??0x0);break;case'*':_0x132f8f=_0x56143e*(_0x39d570??0x1);break;case'/':_0x39d570!==0x0&&(_0x132f8f=_0x56143e/(_0x39d570??0x1));break;}break;case _0x2b1ed5(0x700):case _0x2b1ed5(0x6c6):let _0x36f413=_0x5aa85b,_0x1c9b66=_0x239ab0['replaceValue'];if(typeof _0x1c9b66==_0x2b1ed5(0x7d4)&&(_0x1c9b66=this['replaceVariables'](_0x1c9b66,_0x1be25a[_0x2b1ed5(0x227)][_0x2b1ed5(0x81b)])??''),_0x36f413&&_0x1c9b66!==void 0x0){let _0x3d2945=_0x239ab0['editOperator']===_0x2b1ed5(0x700)?new RegExp(_0x36f413[_0x2b1ed5(0x445)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2b1ed5(0x1e7)),'g'):new RegExp(_0x36f413,'g');_0x132f8f=_0x3841fb['replace'](_0x3d2945,_0x1c9b66);}else console[_0x2b1ed5(0x30b)](_0x2b1ed5(0x5c2));break;case _0x2b1ed5(0x336):_0x132f8f=_0x5aa85b;break;case _0x2b1ed5(0x18e):let _0x5e969e=_0x3841fb['match'](new RegExp(_0x5aa85b||''));_0x132f8f=_0x5e969e?_0x5e969e[0x0]:'';break;case _0x2b1ed5(0x84f):_0x132f8f=_0x3841fb['slice'](0x0,parseInt(_0x5aa85b||'0'));break;case'truncatedtoEnd':let _0x48ee05=parseInt(_0x5aa85b||'0');_0x132f8f=_0x3841fb[_0x2b1ed5(0x894)](_0x3841fb[_0x2b1ed5(0x1d3)]-_0x48ee05);break;case _0x2b1ed5(0x234):let _0x268e25=_0x4b2f34(_0x3841fb),_0x2305c7=parseInt(_0x5aa85b||'0');_0x2305c7=Math[_0x2b1ed5(0x7db)](_0x2305c7),_0x268e25!==null?_0x132f8f=_0x268e25[_0x2b1ed5(0x81e)](_0x2b1ed5(0x85d),{'minimumFractionDigits':_0x2305c7,'maximumFractionDigits':_0x2305c7}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x3841fb),_0x132f8f=null);break;case _0x2b1ed5(0x31c):let _0x162128=_0x4b2f34(_0x3841fb);_0x162128!==null?_0x132f8f=_0x162128[_0x2b1ed5(0x81e)](_0x2b1ed5(0x85d),{'style':_0x2b1ed5(0x54f),'currency':_0x2b1ed5(0x8c1)}):(console[_0x2b1ed5(0x30b)](_0x2b1ed5(0x588)+_0x3841fb),_0x132f8f=null);break;case'upperCase':_0x132f8f=_0x3841fb[_0x2b1ed5(0x439)]();break;case _0x2b1ed5(0x734):_0x132f8f=_0x3841fb[_0x2b1ed5(0x7dc)]();break;case _0x2b1ed5(0x3ce):_0x132f8f=_0x3841fb[_0x2b1ed5(0x4ca)]('\x20')[_0x2b1ed5(0x4c1)](_0x41fcfe=>_0x41fcfe['charAt'](0x0)[_0x2b1ed5(0x439)]()+_0x41fcfe[_0x2b1ed5(0x894)](0x1)[_0x2b1ed5(0x7dc)]())[_0x2b1ed5(0x65f)]('\x20');break;case _0x2b1ed5(0x1a2):_0x132f8f=JSON[_0x2b1ed5(0x524)](_0x3841fb);break;case'trimmed':_0x132f8f=_0x3841fb['trim']();break;default:_0x132f8f=_0x3841fb;}return _0x132f8f!==null?_0x132f8f[_0x2b1ed5(0x2ba)]():null;}async[a0_0x13c462(0x3c5)](_0x1c4aca,_0x5d1972){const _0x3b20f6=a0_0x13c462;try{let _0xe886fd=_0x1c4aca['varedits']?.[_0x3b20f6(0x843)](_0xdba5ac=>_0xdba5ac['blockId']===_0x5d1972['_id']?.[_0x3b20f6(0x2ba)]())||[],_0x58c31c=_0x5d1972[_0x3b20f6(0x5a6)],_0x31d73f=null,_0x3e33e4=[],_0x5bc10a=_0x1c4aca[_0x3b20f6(0x227)][_0x3b20f6(0x81b)][_0x58c31c];_0x3e33e4[_0x3b20f6(0x438)](_0x3b20f6(0x6be)+_0x5bc10a+'\x22');for(let _0x2c0162 of _0xe886fd){_0x2c0162['firstValue']=_0x5bc10a,_0x31d73f=_0x2c0162[_0x3b20f6(0x43d)];let _0x2cc015;try{_0x2cc015=this[_0x3b20f6(0x868)](_0x1c4aca,_0x2c0162);}catch(_0x1b0fe8){this[_0x3b20f6(0x7de)][_0x3b20f6(0x873)](_0x3b20f6(0x284)+_0x1b0fe8[_0x3b20f6(0x7d2)]);continue;}if(_0x2cc015!==null){let _0x226a0b='Operador:\x20\x22'+_0x2c0162['editOperator']+'\x22',_0x390380=['toBRL',_0x3b20f6(0x24b),'lowerCase',_0x3b20f6(0x3ce),_0x3b20f6(0x716)];_0x2c0162[_0x3b20f6(0x6c5)]==='findAndReplace'||_0x2c0162[_0x3b20f6(0x6c5)]==='findAndReplaceRegex'?_0x226a0b+=_0x3b20f6(0x26c)+_0x2c0162['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2c0162[_0x3b20f6(0x5c3)]+'\x22':!_0x390380['includes'](_0x2c0162['editOperator'])&&_0x2c0162['secondValue']!==null&&_0x2c0162['secondValue']!==void 0x0&&(_0x226a0b+=_0x3b20f6(0x382)+_0x2c0162[_0x3b20f6(0x67e)]+'\x22'),_0x226a0b+=_0x3b20f6(0x305)+_0x2cc015+'.',_0x3e33e4[_0x3b20f6(0x438)](_0x226a0b);}_0x2cc015!==null&&(_0x5bc10a=_0x2cc015);}if(_0x1c4aca[_0x3b20f6(0x227)][_0x3b20f6(0x81b)]&&_0x5d1972[_0x3b20f6(0x5a6)]){_0x1c4aca[_0x3b20f6(0x227)]['realVariables'][_0x5d1972[_0x3b20f6(0x5a6)]]=_0x5bc10a;let _0xd3ff70={'variable':_0x5d1972[_0x3b20f6(0x5a6)],'oldValue':_0x31d73f,'newValue':_0x5bc10a,'moreLogs':_0x3e33e4};try{this[_0x3b20f6(0x474)](_0x1c4aca,_0x5d1972,_0xd3ff70);}catch(_0x5760ce){this['logger'][_0x3b20f6(0x873)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x5760ce['message']);}}return _0x58c31c;}catch(_0x31ce1a){return this[_0x3b20f6(0x7de)][_0x3b20f6(0x873)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x31ce1a[_0x3b20f6(0x7d2)]),null;}}async[a0_0x13c462(0x7ba)](_0x431755,_0x214dcc){const _0x9fc995=a0_0x13c462;try{let _0x469f18=[],_0x9184f7=_0x431755['conditions'][_0x9fc995(0x843)](_0x28356a=>_0x28356a[_0x9fc995(0x240)]===_0x214dcc[_0x9fc995(0x882)][_0x9fc995(0x2ba)]()),_0x255f73=null,_0x13bd46=!0x1;for(let _0x541120 of _0x9184f7){let _0x12d65f=this['evaluateCondition'](_0x431755,_0x541120);_0x469f18[_0x9fc995(0x438)](_0x9fc995(0x668)+_0x541120[_0x9fc995(0x43d)]+',\x20Comparador:\x20'+_0x541120[_0x9fc995(0x584)]+_0x9fc995(0x7a8)+_0x541120[_0x9fc995(0x67e)]+_0x9fc995(0x3ff)+_0x12d65f),_0x255f73===null?_0x255f73=_0x12d65f:_0x541120[_0x9fc995(0x14c)]===_0x9fc995(0x2c1)?(_0x255f73=_0x255f73&&_0x12d65f,_0x12d65f||(_0x13bd46=!0x0)):_0x541120[_0x9fc995(0x14c)]==='or'&&(_0x13bd46||(_0x255f73=_0x255f73||_0x12d65f));}_0x255f73===null&&(_0x255f73=!0x0);let _0x400212={'moreLogs':_0x469f18};_0x431755[_0x9fc995(0x227)][_0x9fc995(0x777)]=_0x255f73,await this[_0x9fc995(0x474)](_0x431755,_0x214dcc,_0x400212);}catch(_0x3d2727){this['logger']['error'](this[_0x9fc995(0x586)]+'\x20('+this[_0x9fc995(0x1c1)]['wuid']+_0x9fc995(0x2bc)+(_0x3d2727 instanceof Error?_0x3d2727[_0x9fc995(0x7d2)]:JSON[_0x9fc995(0x524)](_0x3d2727,null,0x2)));}}['evaluateCondition'](_0x423443,_0x508834){const _0x4a7d2b=a0_0x13c462;let _0x5ae9e4=_0x508834[_0x4a7d2b(0x43d)],_0x25ff0d=_0x508834[_0x4a7d2b(0x67e)];typeof _0x5ae9e4==_0x4a7d2b(0x7d4)&&(_0x5ae9e4=this[_0x4a7d2b(0x692)](_0x5ae9e4,_0x423443[_0x4a7d2b(0x227)]['realVariables'])??''),typeof _0x25ff0d=='string'&&(_0x25ff0d=this['replaceVariables'](_0x25ff0d,_0x423443[_0x4a7d2b(0x227)][_0x4a7d2b(0x81b)])??'');try{switch(_0x508834[_0x4a7d2b(0x584)]){case _0x4a7d2b(0x73f):return _0x5ae9e4===_0x25ff0d;case _0x4a7d2b(0x7b9):return _0x5ae9e4!==_0x25ff0d;case _0x4a7d2b(0x45c):return this['contains'](_0x5ae9e4,_0x25ff0d);case'notContains':return!this['contains'](_0x5ae9e4,_0x25ff0d);case _0x4a7d2b(0x851):return parseFloat(_0x5ae9e4)>parseFloat(_0x25ff0d);case'less':return parseFloat(_0x5ae9e4)<parseFloat(_0x25ff0d);case'notEmpty':return _0x5ae9e4!=='';case _0x4a7d2b(0x5f7):return _0x5ae9e4==='';case'matchRegex':return new RegExp(_0x25ff0d)[_0x4a7d2b(0x804)](_0x5ae9e4);case _0x4a7d2b(0x602):return!new RegExp(_0x25ff0d)['test'](_0x5ae9e4);default:return!0x1;}}catch(_0x1118a3){return this['logger']['error'](_0x4a7d2b(0x4db)+_0x1118a3),!0x1;}}[a0_0x13c462(0x45c)](_0x34280b,_0x4e1856){const _0x59b88d=a0_0x13c462;if(_0x34280b===_0x4e1856&&/^\d+$/[_0x59b88d(0x804)](_0x34280b))return!0x0;if(this[_0x59b88d(0x7a1)](_0x34280b)&&/^\d+$/['test'](_0x4e1856)){let _0x3a9f79=_0x34280b[_0x59b88d(0x4ca)](',')[_0x59b88d(0x4c1)](_0x42c3ab=>parseInt(_0x42c3ab[_0x59b88d(0x707)]())),_0x3f5e77=parseInt(_0x4e1856);return _0x3a9f79['includes'](_0x3f5e77);}return _0x34280b[_0x59b88d(0x50c)](_0x4e1856);}[a0_0x13c462(0x7a1)](_0x59c91f){const _0x209de=a0_0x13c462;return/^\d+(,\d+)*$/[_0x209de(0x804)](_0x59c91f);}[a0_0x13c462(0x2aa)](_0x4a2265){const _0x4960c8=a0_0x13c462;let _0x4a5c84=!0x0,_0x423721=null;for(let _0x20c634 of _0x4a2265){let _0x517f09=this[_0x4960c8(0x2c5)](_0x20c634);if(_0x423721==='or'&&_0x517f09){_0x4a5c84=!0x0;break;}if(_0x423721===_0x4960c8(0x2c1)&&!_0x517f09){_0x4a5c84=!0x1;break;}_0x423721=_0x20c634[_0x4960c8(0x14c)];}return _0x4a5c84;}[a0_0x13c462(0x2c5)](_0x155165){const _0x32f681=a0_0x13c462;let _0x26b2a4=_0x155165[_0x32f681(0x43d)],_0x386225=_0x155165[_0x32f681(0x67e)];try{switch(_0x155165[_0x32f681(0x584)]){case _0x32f681(0x73f):return String(_0x26b2a4)===String(_0x386225);case _0x32f681(0x7b9):return String(_0x26b2a4)!==String(_0x386225);case'contains':return String(_0x26b2a4)[_0x32f681(0x50c)](String(_0x386225));case _0x32f681(0x6f3):return!String(_0x26b2a4)[_0x32f681(0x50c)](String(_0x386225));case'greater':return parseFloat(String(_0x26b2a4))>parseFloat(String(_0x386225));case'less':return parseFloat(String(_0x26b2a4))<parseFloat(String(_0x386225));case _0x32f681(0x411):return String(_0x26b2a4)!=='';case _0x32f681(0x5f7):return String(_0x26b2a4)==='';case _0x32f681(0x1ef):return new RegExp(String(_0x386225))[_0x32f681(0x804)](String(_0x26b2a4));case _0x32f681(0x602):return!new RegExp(String(_0x386225))[_0x32f681(0x804)](String(_0x26b2a4));default:return!0x1;}}catch(_0x4e5ace){return this[_0x32f681(0x7de)][_0x32f681(0x873)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x4e5ace),!0x1;}}async[a0_0x13c462(0x853)](_0x2be64d,_0x934d3){const _0x25231b=a0_0x13c462;if(this[_0x25231b(0x7de)]['verbose'](this[_0x25231b(0x586)]+'\x20('+this[_0x25231b(0x1c1)][_0x25231b(0x360)]+_0x25231b(0x4c5)),!_0x2be64d||!_0x934d3)return this['logger'][_0x25231b(0x873)](this[_0x25231b(0x586)]+'\x20('+this[_0x25231b(0x1c1)][_0x25231b(0x360)]+_0x25231b(0x788)),null;let _0xd22f64=_0x2be64d[_0x25231b(0x227)]['lastReceivedMessage'][_0x25231b(0x733)]['id'];this['logger']['verbose'](this[_0x25231b(0x586)]+'\x20('+this[_0x25231b(0x1c1)]['wuid']+_0x25231b(0x39e)+_0xd22f64);let _0x76be1a={'key':{'id':_0xd22f64}},_0x3baa65=_0x934d3[_0x25231b(0x5a6)];_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+_0x25231b(0x35d)]=null,_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+_0x25231b(0x143)]=null,_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+_0x25231b(0x8ac)]=null,_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+_0x25231b(0x397)]=_0x2be64d[_0x25231b(0x227)][_0x25231b(0x1e4)][_0x25231b(0x2b5)];try{let _0x4c7016=await this['getBase64FromMediaMessage'](_0x76be1a);this[_0x25231b(0x7de)][_0x25231b(0x3c2)](this[_0x25231b(0x586)]+'\x20('+this[_0x25231b(0x1c1)][_0x25231b(0x360)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+_0x25231b(0x1ae)]=_0x4c7016[_0x25231b(0x223)],_0x2be64d[_0x25231b(0x227)]['realVariables']['_'+_0x3baa65+_0x25231b(0x143)]=_0x4c7016['mimetype'];let _0x1d587d=_0x4c7016[_0x25231b(0x491)]['match'](/\/(\w+)$/),_0x16d50d=_0x1d587d?_0x1d587d[0x1]:null;_0x2be64d[_0x25231b(0x227)][_0x25231b(0x81b)]['_'+_0x3baa65+'.extension']=_0x16d50d,this[_0x25231b(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x25231b(0x1c1)][_0x25231b(0x360)]+_0x25231b(0x568)+_0x3baa65+'\x27.');}catch(_0xd9e41c){this[_0x25231b(0x7de)][_0x25231b(0x873)](this[_0x25231b(0x586)]+'\x20('+this['instance'][_0x25231b(0x360)]+_0x25231b(0x40e)+_0xd9e41c[_0x25231b(0x7d2)]);}let _0x2cb732=_0x2be64d['chatLog'][_0x25231b(0x1e4)][_0x25231b(0x1e0)]||_0x2be64d[_0x25231b(0x227)]['lastReceivedMessage'][_0x25231b(0x541)]||_0x2be64d[_0x25231b(0x227)][_0x25231b(0x1e4)][_0x25231b(0x496)];try{_0x2be64d[_0x25231b(0x227)]['realVariables']||(_0x2be64d['chatLog'][_0x25231b(0x81b)]={});let _0x3fd213=_0x2be64d['chatLog']['realVariables'][_0x3baa65];_0x2be64d['chatLog'][_0x25231b(0x81b)][_0x3baa65]=_0x2cb732;let _0x3ff760={'variable':_0x3baa65,'oldValue':_0x3fd213,'newValue':_0x2cb732};this[_0x25231b(0x474)](_0x2be64d,_0x934d3,_0x3ff760),this[_0x25231b(0x7de)][_0x25231b(0x3c2)](this[_0x25231b(0x586)]+'\x20('+this[_0x25231b(0x1c1)]['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x31f01a){let _0x368143={'error':!0x0,'errorLog':_0x31f01a[_0x25231b(0x2ba)]()};return this['updateConversation'](_0x2be64d,_0x934d3,_0x368143),this[_0x25231b(0x7de)]['error'](this[_0x25231b(0x586)]+'\x20('+this['instance'][_0x25231b(0x360)]+_0x25231b(0x2ed)+(_0x31f01a instanceof Error?_0x31f01a['message']:JSON['stringify'](_0x31f01a,null,0x2))),null;}}async[a0_0x13c462(0x189)](_0x8df4fe,_0x2f91a9){const _0x4bfd9b=a0_0x13c462;if(this[_0x4bfd9b(0x7de)][_0x4bfd9b(0x3c2)](this[_0x4bfd9b(0x586)]+'\x20('+this[_0x4bfd9b(0x1c1)][_0x4bfd9b(0x360)]+_0x4bfd9b(0x6a7)),!_0x8df4fe||!_0x2f91a9)return this[_0x4bfd9b(0x7de)][_0x4bfd9b(0x873)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4368b4=Date[_0x4bfd9b(0x421)](),_0x4230f5=parseInt(_0x2f91a9[_0x4bfd9b(0x2d5)],0xa);if(isNaN(_0x4230f5))return this[_0x4bfd9b(0x7de)][_0x4bfd9b(0x873)](this['instanceName']+'\x20('+this[_0x4bfd9b(0x1c1)]['wuid']+_0x4bfd9b(0x646)),null;let _0xd6d77a={'newStoppedUntil':_0x4368b4+_0x4230f5*0x3c*0x3e8};return await this['updateConversation'](_0x8df4fe,_0x2f91a9,_0xd6d77a,!0x0),null;}async[a0_0x13c462(0x4b8)](_0x45b6d1,_0x21590e){const _0x1ed392=a0_0x13c462;try{switch(_0x21590e[_0x1ed392(0x76a)][_0x1ed392(0x51f)]){case _0x1ed392(0x443):await this[_0x1ed392(0x287)](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x522):await this[_0x1ed392(0x879)](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x4fa):await this[_0x1ed392(0x518)](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x182):await this[_0x1ed392(0x5cb)](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x783):await this['uazapiSendContact'](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x2ad):await this[_0x1ed392(0x381)](_0x45b6d1,_0x21590e);break;case'sendMenu':await this[_0x1ed392(0x381)](_0x45b6d1,_0x21590e);break;case _0x1ed392(0x3cf):await this[_0x1ed392(0x897)](_0x45b6d1,_0x21590e);break;default:this[_0x1ed392(0x7de)]['error'](this[_0x1ed392(0x586)]+'\x20('+this[_0x1ed392(0x1c1)][_0x1ed392(0x360)]+'):\x20Comando\x20desconhecido:\x20'+_0x21590e['uazapi'][_0x1ed392(0x51f)]);}}catch(_0xb928a8){this[_0x1ed392(0x7de)]['error'](this[_0x1ed392(0x586)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0xb928a8 instanceof Error?_0xb928a8[_0x1ed392(0x7d2)]:JSON[_0x1ed392(0x524)](_0xb928a8,null,0x2)));}}async['updateConversation'](_0x5d682f,_0x1536b7,_0x6b94a2,_0x51823c=!0x1,_0x448f62=!0x1){const _0x58c00f=a0_0x13c462;_0x5d682f[_0x58c00f(0x227)]['blockLogs']||(_0x5d682f[_0x58c00f(0x227)]['blockLogs']=[]);let _0x4d29d9=(_0x5d682f[_0x58c00f(0x227)]['blockLogs']?.[_0x58c00f(0x1d3)]??0x0)+0x1,_0x20645a=_0x5d682f['chatLog'][_0x58c00f(0x689)][_0x58c00f(0x843)](_0x161389=>String(_0x161389[_0x58c00f(0x240)])===String(_0x1536b7[_0x58c00f(0x882)]))['length']+0x1,_0x290871=_0x6b94a2?.[_0x58c00f(0x6b5)]??Date[_0x58c00f(0x421)](),_0x31e176=_0x6b94a2?.['error']?_0x6b94a2['errorLog']??_0x6b94a2[_0x58c00f(0x873)]['toString']():void 0x0,_0x4575b8={'onTime':_0x290871,'blockId':_0x1536b7[_0x58c00f(0x882)],'order':_0x4d29d9,'activatedCount':_0x20645a,'error':_0x6b94a2?.[_0x58c00f(0x873)]??!0x1,'messageId':_0x6b94a2?.['messageId'],'apiResponse':_0x6b94a2?.[_0x58c00f(0x543)],'apiResponseString':_0x6b94a2?.[_0x58c00f(0x543)]?JSON[_0x58c00f(0x524)](_0x6b94a2?.[_0x58c00f(0x543)]):void 0x0,'variable':_0x6b94a2?.[_0x58c00f(0x20e)],'oldValue':_0x6b94a2?.['oldValue'],'newValue':_0x6b94a2?.['newValue'],'newStoppedUntil':_0x6b94a2?.['newStoppedUntil'],'moreLogs':_0x6b94a2?.[_0x58c00f(0x5a3)],'errorLog':_0x31e176};if(_0x6b94a2[_0x58c00f(0x5a3)]&&_0x6b94a2[_0x58c00f(0x5a3)][_0x58c00f(0x1d3)]>0x0){let _0x1bd9c8=_0x6b94a2['moreLogs'][_0x58c00f(0x4c1)](_0x6e49f2=>this[_0x58c00f(0x75f)](_0x6e49f2,_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)]));_0x4575b8['moreLogs']=_0x1bd9c8;}if(_0x5d682f['chatLog']['realVariables']||(_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)]={}),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)][_0x58c00f(0x279)]=String(_0x20645a),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)][_0x58c00f(0x327)]=String(_0x6b94a2[_0x58c00f(0x873)]??!0x1),_0x5d682f['chatLog'][_0x58c00f(0x689)][_0x58c00f(0x438)](_0x4575b8),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)]['telefone']&&_0x5d682f[_0x58c00f(0x227)]['realVariables'][_0x58c00f(0x820)]!==_0x5d682f[_0x58c00f(0x3aa)]){let _0x2b272b=(await this[_0x58c00f(0x1de)]({'numbers':[_0x5d682f['chatLog'][_0x58c00f(0x81b)][_0x58c00f(0x820)]]}))[0x0]['jid'];_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x81b)][_0x58c00f(0x820)]=_0x2b272b,_0x5d682f[_0x58c00f(0x3aa)]=_0x2b272b;try{let _0x23582f={'_id':{'$ne':_0x5d682f['_id']},'remoteJid':_0x2b272b,'status':_0x58c00f(0x185)},_0x6880c2={'status':'closed'};await this[_0x58c00f(0x59e)][_0x58c00f(0x436)][_0x58c00f(0x832)](_0x23582f,_0x6880c2,this[_0x58c00f(0x1c1)][_0x58c00f(0x360)]),this[_0x58c00f(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x58c00f(0x1c1)][_0x58c00f(0x360)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x3efefe){this['logger'][_0x58c00f(0x873)](this[_0x58c00f(0x586)]+'\x20('+this[_0x58c00f(0x1c1)]['wuid']+_0x58c00f(0x247)+_0x3efefe[_0x58c00f(0x7d2)]);}try{let _0x5e3836=_0x5d682f[_0x58c00f(0x227)]['realVariables'],_0x470c54=await this[_0x58c00f(0x7a6)](_0x2b272b),_0x2ad112={..._0x5e3836,..._0x470c54,'_remoteJid':_0x2b272b};_0x5d682f[_0x58c00f(0x227)]['realVariables']=_0x2ad112;}catch(_0x3c96ec){this[_0x58c00f(0x7de)][_0x58c00f(0x873)](this[_0x58c00f(0x586)]+'\x20('+this[_0x58c00f(0x1c1)][_0x58c00f(0x360)]+_0x58c00f(0x2b9)+_0x3c96ec['message']);}}_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x15d)]=_0x1536b7[_0x58c00f(0x882)][_0x58c00f(0x2ba)](),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x78d)]&&(_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x78d)]=_0x5d682f['chatLog'][_0x58c00f(0x78d)]),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x1e4)]&&(_0x5d682f['chatLog'][_0x58c00f(0x1e4)]=_0x5d682f[_0x58c00f(0x227)]['lastReceivedMessage']),_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x777)]&&(_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x777)]=_0x5d682f[_0x58c00f(0x227)][_0x58c00f(0x777)]),_0x448f62&&(_0x5d682f[_0x58c00f(0x22e)]='closed'),_0x51823c?this[_0x58c00f(0x237)](_0x5d682f):this[_0x58c00f(0x229)](_0x5d682f,_0x1536b7);}[a0_0x13c462(0x75f)](_0x50024a,_0x945f66){const _0x4b1dd7=a0_0x13c462;return _0x50024a[_0x4b1dd7(0x445)](/\{\{([^}]+)\}\}/g,(_0x14bc95,_0xdd7599)=>_0x945f66[_0xdd7599]?'{{'+_0xdd7599+_0x4b1dd7(0x51a)+_0x945f66[_0xdd7599]+'\x22':'{{'+_0xdd7599+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x13c462(0x237)](_0x1c9083){const _0x126346=a0_0x13c462;try{let _0x4b7276=Object[_0x126346(0x1ce)](_0x1c9083[_0x126346(0x227)][_0x126346(0x81b)])[_0x126346(0x4c1)](([_0xa50954,_0x170488])=>({'name':_0xa50954,'value':_0x170488})),_0x3608ea={'status':_0x1c9083[_0x126346(0x22e)],'remoteJid':_0x1c9083[_0x126346(0x3aa)],'blocks':_0x1c9083[_0x126346(0x3f6)],'waitingMenu_id':_0x1c9083[_0x126346(0x1af)],'waitingMenu_text':_0x1c9083['waitingMenu_text'],'waitingMenu_replyOptions':_0x1c9083[_0x126346(0x6dc)],'chatLog':{'lastBlockId':_0x1c9083[_0x126346(0x227)]['lastBlockId'],'lastSendMessage':_0x1c9083[_0x126346(0x227)][_0x126346(0x78d)],'lastReceivedMessage':_0x1c9083[_0x126346(0x227)][_0x126346(0x1e4)],'lastCondition':_0x1c9083[_0x126346(0x227)][_0x126346(0x777)],'chatVariables':_0x4b7276,'realVariables':_0x1c9083['chatLog'][_0x126346(0x81b)],'blockLogs':_0x1c9083[_0x126346(0x227)][_0x126346(0x689)]}},_0x3b3980=await this[_0x126346(0x59e)][_0x126346(0x436)][_0x126346(0x176)](_0x1c9083[_0x126346(0x882)],_0x3608ea,this['instance'][_0x126346(0x360)]);if(_0x3b3980){this[_0x126346(0x7de)][_0x126346(0x3c2)](this[_0x126346(0x586)]+'\x20('+this['instance']['wuid']+_0x126346(0x801)+_0x3b3980[_0x126346(0x882)]);try{let _0xd06cc3=[_0x126346(0x4a0),'nomecompleto','email',_0x126346(0x43a),_0x126346(0x22e),_0x126346(0x1ee),_0x126346(0x6e6),'tags',_0x126346(0x622),_0x126346(0x410)];if(!this['AutomateSystem']&&(await this[_0x126346(0x44b)](),!this[_0x126346(0x1cf)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x2582fe=this['AutomateSystem']?.[_0x126346(0x57d)][_0x126346(0x4c1)](_0x3c3993=>_0x3c3993[_0x126346(0x42b)]),_0x3dc7c4={};Object[_0x126346(0x1ce)](_0x1c9083[_0x126346(0x227)][_0x126346(0x81b)])[_0x126346(0x2a0)](([_0x4a0c19,_0x7c531d])=>{const _0x183eac=_0x126346;_0xd06cc3[_0x183eac(0x50c)](_0x4a0c19)&&(_0x4a0c19===_0x183eac(0x55d)&&typeof _0x7c531d==_0x183eac(0x7d4)?_0x3dc7c4[_0x4a0c19]=_0x7c531d[_0x183eac(0x4ca)](',')[_0x183eac(0x4c1)](_0x2272ce=>_0x2272ce[_0x183eac(0x707)]())[_0x183eac(0x843)](_0x3e34f1=>_0x3e34f1!==''):_0x4a0c19===_0x183eac(0x622)&&typeof _0x7c531d=='string'?_0x3dc7c4[_0x4a0c19]=_0x7c531d[_0x183eac(0x4ca)](',')['map'](_0x375e60=>_0x375e60[_0x183eac(0x707)]())[_0x183eac(0x843)](_0x3960c5=>_0x3960c5!==''):_0x3dc7c4[_0x4a0c19]=_0x7c531d);});let _0x2d1e5a=_0x1c9083[_0x126346(0x227)][_0x126346(0x689)][_0x1c9083[_0x126346(0x227)]['blockLogs']['length']-0x1];if(_0x2d1e5a){let _0x36178e=_0x2d1e5a[_0x126346(0x1fb)];_0x36178e!==void 0x0&&(_0x3dc7c4[_0x126346(0x580)]=_0x36178e[_0x126346(0x2ba)]());}let _0xdcfab0=_0x4b7276[_0x126346(0x843)](_0x120210=>_0x2582fe['includes'](_0x120210[_0x126346(0x42b)]));this[_0x126346(0x7de)][_0x126346(0x3c2)](this[_0x126346(0x586)]+'\x20('+this['instance'][_0x126346(0x360)]+_0x126346(0x4a9)),this[_0x126346(0x7de)][_0x126346(0x3c2)](_0x3dc7c4),this[_0x126346(0x7de)][_0x126346(0x3c2)](this['instanceName']+'\x20('+this[_0x126346(0x1c1)]['wuid']+'):\x20customFieldVariables'),this[_0x126346(0x7de)][_0x126346(0x3c2)](_0xdcfab0);let _0x5c8b3c=_0xdcfab0[_0x126346(0x4c1)](_0x834f38=>{const _0x225a83=_0x126346;let _0x53f5ec=this['AutomateSystem']?.[_0x225a83(0x57d)][_0x225a83(0x88b)](_0x49e250=>_0x49e250[_0x225a83(0x42b)]===_0x834f38[_0x225a83(0x42b)]);if(!_0x53f5ec)throw new Error(_0x225a83(0x341)+_0x834f38[_0x225a83(0x42b)]);return{'_id':_0x53f5ec[_0x225a83(0x882)],'value':_0x834f38[_0x225a83(0x5be)]};});this[_0x126346(0x7de)]['verbose'](this[_0x126346(0x586)]+'\x20('+this['instance'][_0x126346(0x360)]+_0x126346(0x2c6)),this[_0x126346(0x7de)]['verbose'](_0x5c8b3c),await this[_0x126346(0x56a)](_0x1c9083['remoteJid'],_0x3dc7c4,_0x5c8b3c);}catch(_0x17db47){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x126346(0x360)]+_0x126346(0x401)+(_0x17db47 instanceof Error?_0x17db47[_0x126346(0x7d2)]:JSON[_0x126346(0x524)](_0x17db47,null,0x2)));}}else this[_0x126346(0x7de)][_0x126346(0x873)](this[_0x126346(0x586)]+'\x20('+this['instance']['wuid']+_0x126346(0x1a8));}catch(_0x44b3eb){this['logger']['error'](this['instanceName']+'\x20('+this[_0x126346(0x1c1)][_0x126346(0x360)]+_0x126346(0x204)+(_0x44b3eb instanceof Error?_0x44b3eb[_0x126346(0x7d2)]:JSON[_0x126346(0x524)](_0x44b3eb,null,0x2)));}}async[a0_0x13c462(0x56a)](_0x38c519,_0x139291,_0x39fddb){const _0x48cc84=a0_0x13c462;try{let _0x41d02c={'leadInfo.leadnome':_0x139291['nome'],'leadInfo.nomecompleto':_0x139291[_0x48cc84(0x1df)],'leadInfo.email':_0x139291['email'],'leadInfo.cpf':_0x139291['cpf'],'leadInfo.status':_0x139291[_0x48cc84(0x22e)],'leadInfo.notas':_0x139291[_0x48cc84(0x1ee)],'leadInfo.responsavelid':_0x139291['responsavelid'],'leadInfo.tags':_0x139291[_0x48cc84(0x55d)],'leadInfo.etiquetas':_0x139291['etiquetas'],'leadInfo.customFields':_0x39fddb,'leadInfo.atendimentoAberto':_0x139291['atendimentoAberto']},_0x1fc6a6=await this[_0x48cc84(0x59e)][_0x48cc84(0x696)][_0x48cc84(0x4cd)]({'where':{'_id':_0x38c519}},this[_0x48cc84(0x1c1)][_0x48cc84(0x360)]);if(!_0x1fc6a6)return'chat\x20não\x20encontrado';let _0x482437=new Set(_0x1fc6a6['leadInfo'][_0x48cc84(0x622)]||[]),_0x517786=new Set(_0x139291[_0x48cc84(0x622)]||[]),_0x208673=await this['repository'][_0x48cc84(0x467)][_0x48cc84(0x88b)]({'where':{}},this[_0x48cc84(0x1c1)]['wuid']),_0x2d6d53=new Set(_0x208673[_0x48cc84(0x4c1)](_0x11b777=>_0x11b777[_0x48cc84(0x882)])),_0x4105c6=[..._0x517786][_0x48cc84(0x843)](_0x545aa2=>!_0x482437[_0x48cc84(0x41f)](_0x545aa2)&&_0x2d6d53[_0x48cc84(0x41f)](_0x545aa2)),_0x4d3a49=[..._0x482437][_0x48cc84(0x843)](_0x44777f=>!_0x517786[_0x48cc84(0x41f)](_0x44777f));for(let _0x4a1a09 of _0x4105c6)await this['AddChatLabel'](_0x4a1a09,_0x1fc6a6[_0x48cc84(0x882)]),_0x482437[_0x48cc84(0x536)](_0x4a1a09);for(let _0x757297 of _0x4d3a49)await this[_0x48cc84(0x16a)](_0x757297,_0x1fc6a6[_0x48cc84(0x882)]),_0x482437['delete'](_0x757297);if('desativadoFluxoAte'in _0x139291){let _0x486c68=_0x139291[_0x48cc84(0x580)];_0x41d02c[_0x48cc84(0x759)]=_0x486c68?Number(_0x486c68):null;}if('atendimentoAberto'in _0x139291){let _0x3c94ed=_0x139291[_0x48cc84(0x410)][_0x48cc84(0x7dc)]();_0x41d02c[_0x48cc84(0x558)]=_0x3c94ed===_0x48cc84(0x361)||_0x3c94ed==='1'||_0x3c94ed==='yes'||_0x3c94ed===_0x48cc84(0x5dc);}let _0x53f140=await this['repository'][_0x48cc84(0x696)][_0x48cc84(0x176)]({'where':{'_id':_0x38c519}},_0x41d02c,this[_0x48cc84(0x1c1)]['wuid']);_0x53f140?(this[_0x48cc84(0x7de)][_0x48cc84(0x3c2)](this[_0x48cc84(0x586)]+'\x20('+this[_0x48cc84(0x1c1)][_0x48cc84(0x360)]+_0x48cc84(0x6e7)+_0x53f140[_0x48cc84(0x882)]),F(this['instanceName'],'chats',{'chat':_0x53f140})):this[_0x48cc84(0x7de)][_0x48cc84(0x873)](this['instanceName']+'\x20('+this[_0x48cc84(0x1c1)][_0x48cc84(0x360)]+_0x48cc84(0x31d));}catch(_0x5a3285){this[_0x48cc84(0x7de)][_0x48cc84(0x873)](this[_0x48cc84(0x586)]+'\x20('+this['instance'][_0x48cc84(0x360)]+_0x48cc84(0x329)+(_0x5a3285 instanceof Error?_0x5a3285[_0x48cc84(0x7d2)]:JSON[_0x48cc84(0x524)](_0x5a3285,null,0x2)));}}async['updateStopChat'](_0x3edf3a,_0x9af7af){const _0x4ceb31=a0_0x13c462;this[_0x4ceb31(0x7de)][_0x4ceb31(0x3c2)](this[_0x4ceb31(0x586)]+'\x20('+this[_0x4ceb31(0x1c1)][_0x4ceb31(0x360)]+_0x4ceb31(0x2ef)+_0x9af7af);try{let _0x46a12a=await this[_0x4ceb31(0x59e)]['chat'][_0x4ceb31(0x176)]({'where':{'_id':_0x3edf3a['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x9af7af},this[_0x4ceb31(0x1c1)][_0x4ceb31(0x360)]);this[_0x4ceb31(0x7de)][_0x4ceb31(0x3c2)](this[_0x4ceb31(0x586)]+'\x20('+this[_0x4ceb31(0x1c1)]['wuid']+_0x4ceb31(0x30c)+_0x3edf3a[_0x4ceb31(0x882)]),this[_0x4ceb31(0x7de)]['verbose'](this[_0x4ceb31(0x586)]+'\x20('+this[_0x4ceb31(0x1c1)][_0x4ceb31(0x360)]+_0x4ceb31(0x2ef)+JSON['stringify'](_0x46a12a,null,0x2)),_0x46a12a&&F(this['instanceName'],_0x4ceb31(0x6ce),{'chat':_0x46a12a});}catch(_0x109ef2){this[_0x4ceb31(0x7de)][_0x4ceb31(0x873)](this[_0x4ceb31(0x586)]+'\x20('+this['instance'][_0x4ceb31(0x360)]+_0x4ceb31(0x747)+(_0x109ef2 instanceof Error?_0x109ef2[_0x4ceb31(0x7d2)]:JSON[_0x4ceb31(0x524)](_0x109ef2,null,0x2)));}}async['findFlow'](_0x36ea66){const _0x39c37a=a0_0x13c462;try{this[_0x39c37a(0x7de)][_0x39c37a(0x3c2)](this[_0x39c37a(0x586)]+'\x20('+this['instance'][_0x39c37a(0x360)]+'):\x20Buscando\x20flow...');let _0x4bdb4a=_0x36ea66[_0x39c37a(0x445)](/\D/g,''),_0xa87ecb=this[_0x39c37a(0x1cf)][_0x39c37a(0x1bc)][_0x39c37a(0x88b)](_0x169a7f=>_0x169a7f['testingWith']===_0x4bdb4a);if(_0xa87ecb||(this[_0x39c37a(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x39c37a(0x1c1)][_0x39c37a(0x360)]+_0x39c37a(0x2b0)),_0xa87ecb=this[_0x39c37a(0x1cf)]['flows'][_0x39c37a(0x88b)](_0x27de29=>_0x27de29[_0x39c37a(0x6bc)]===!0x0)),!_0xa87ecb)return this[_0x39c37a(0x7de)][_0x39c37a(0x3c2)](this[_0x39c37a(0x586)]+'\x20('+this[_0x39c37a(0x1c1)]['wuid']+_0x39c37a(0x2af)),null;let _0x2df936=await this['repository'][_0x39c37a(0x5e0)][_0x39c37a(0x4cd)]({'where':{'_id':_0xa87ecb[_0x39c37a(0x882)]}});if(!_0x2df936||!_0x2df936['whoCanUse']?.['includes'](this['instance'][_0x39c37a(0x360)]))throw this[_0x39c37a(0x7de)][_0x39c37a(0x873)](this[_0x39c37a(0x586)]+'\x20('+this[_0x39c37a(0x1c1)][_0x39c37a(0x360)]+'):\x20Flow\x20\x27'+_0x2df936[_0x39c37a(0x882)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x39c37a(0x7f2)+_0x2df936[_0x39c37a(0x882)]+_0x39c37a(0x285));return _0x2df936;}catch(_0x178c0f){return this[_0x39c37a(0x7de)][_0x39c37a(0x873)](this[_0x39c37a(0x586)]+'\x20('+this['instance']['wuid']+_0x39c37a(0x56c)+(_0x178c0f instanceof Error?_0x178c0f[_0x39c37a(0x7d2)]:JSON[_0x39c37a(0x524)](_0x178c0f,null,0x2))),null;}}async[a0_0x13c462(0x2c8)](_0x59edc7,_0x1ff63f){const _0x520fbf=a0_0x13c462;try{let _0x38361f=!!_0x1ff63f[_0x520fbf(0x496)],_0x41111f=_0x1ff63f[_0x520fbf(0x15f)],_0x2343e4=null;if(this['logger'][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+_0x520fbf(0x417)+_0x38361f+_0x520fbf(0x347)+_0x41111f),_0x38361f){this[_0x520fbf(0x7de)][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)]['wuid']+_0x520fbf(0x88e));let _0x15f4be={'where':{'remoteJid':_0x59edc7,'waitingMenu_id':_0x41111f}};if(_0x2343e4=await this['repository']['flowConversation'][_0x520fbf(0x4cd)](_0x15f4be,this[_0x520fbf(0x1c1)]['wuid']),!_0x2343e4)return this['logger'][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+'):\x20não\x20encontrou'),null;let _0xb03b4=Date[_0x520fbf(0x421)](),_0x55d7cf=_0x2343e4?.[_0x520fbf(0x669)]||0x0,_0x2489ff=_0xb03b4-_0x55d7cf*0x3c*0x3e8;if(_0x2343e4[_0x520fbf(0x270)]<_0x2489ff){this[_0x520fbf(0x7de)][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+_0x520fbf(0x50f));let _0xe49eb3={'number':_0x2343e4['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2343e4[_0x520fbf(0x29c)]}};await this[_0x520fbf(0x2db)](_0xe49eb3);let _0xb5684d={'status':_0x520fbf(0x468),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x520fbf(0x59e)][_0x520fbf(0x436)]['updateOne'](_0x2343e4[_0x520fbf(0x882)],_0xb5684d,this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]),null;}return _0x2343e4[_0x520fbf(0x270)]=Date[_0x520fbf(0x421)](),_0x2343e4[_0x520fbf(0x227)][_0x520fbf(0x1e4)]=_0x1ff63f,_0x2343e4;}else{this[_0x520fbf(0x7de)][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+_0x520fbf(0x351)+this['instance']['wuid']+_0x520fbf(0x348)),this['logger']['verbose'](this[_0x520fbf(0x586)]+'\x20('+this['instance']['wuid']+_0x520fbf(0x46c));let _0x4ebf48={'where':{'remoteJid':_0x59edc7,'status':_0x520fbf(0x185)}};if(_0x2343e4=await this[_0x520fbf(0x59e)][_0x520fbf(0x436)][_0x520fbf(0x4cd)](_0x4ebf48,this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]),!_0x2343e4){let _0x562c60=await this[_0x520fbf(0x337)](_0x59edc7);if(_0x562c60&&(_0x2343e4=await this['createNewConversation'](_0x562c60,_0x1ff63f[_0x520fbf(0x733)],_0x1ff63f)),!_0x2343e4)return null;}let _0x5f3354=Date[_0x520fbf(0x421)](),_0x1b6e4f=_0x2343e4?.['minutesToClose']||0x0,_0x4da8a5=_0x5f3354-_0x1b6e4f*0x3c*0x3e8;if(this['logger'][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this['instance'][_0x520fbf(0x360)]+_0x520fbf(0x50a)+_0x5f3354+_0x520fbf(0x732)+_0x1b6e4f+',\x20Expiration\x20Time:\x20'+_0x4da8a5),this[_0x520fbf(0x7de)]['verbose'](this[_0x520fbf(0x586)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x520fbf(0x7de)][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+_0x520fbf(0x4b9)+_0x2343e4[_0x520fbf(0x270)]),this['logger'][_0x520fbf(0x3c2)](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]+_0x520fbf(0x18c)+_0x4da8a5),_0x2343e4[_0x520fbf(0x270)]<_0x4da8a5){this[_0x520fbf(0x7de)]['verbose'](this[_0x520fbf(0x586)]+'\x20('+this[_0x520fbf(0x1c1)]['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x3fe6ef=await this[_0x520fbf(0x337)](_0x59edc7);if(_0x3fe6ef===null)return null;_0x2343e4&&await this[_0x520fbf(0x59e)][_0x520fbf(0x436)][_0x520fbf(0x176)](_0x2343e4[_0x520fbf(0x882)],{'status':_0x520fbf(0x468)},this[_0x520fbf(0x1c1)][_0x520fbf(0x360)]),_0x2343e4=await this[_0x520fbf(0x322)](_0x3fe6ef,_0x1ff63f[_0x520fbf(0x733)],_0x1ff63f);}return _0x2343e4[_0x520fbf(0x270)]=_0x5f3354,_0x2343e4[_0x520fbf(0x227)][_0x520fbf(0x1e4)]=_0x1ff63f,_0x2343e4;}}catch(_0x10a54b){return this[_0x520fbf(0x7de)][_0x520fbf(0x873)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x520fbf(0x280)+(_0x10a54b instanceof Error?_0x10a54b['message']:JSON[_0x520fbf(0x524)](_0x10a54b,null,0x2))),null;}}async['createNewConversation'](_0x526e91,_0x2a2995,_0x18bc27){const _0x57e2e3=a0_0x13c462;this['logger'][_0x57e2e3(0x3c2)](this[_0x57e2e3(0x586)]+'\x20('+this['instance'][_0x57e2e3(0x360)]+_0x57e2e3(0x444));try{let _0x404164=require(_0x57e2e3(0x6a1))[_0x57e2e3(0x37b)],_0xcd084a=Date[_0x57e2e3(0x421)](),_0x171a40=_0x57e2e3(0x4b5),_0x2d4849=_0x2a2995[_0x57e2e3(0x2c3)]?null:_0x18bc27,_0x289807=_0x2a2995[_0x57e2e3(0x2c3)]?_0x18bc27:null,_0x13f642=_0x2a2995[_0x57e2e3(0x3aa)],_0x4d07e4=this[_0x57e2e3(0x1cf)][_0x57e2e3(0x1bc)][_0x57e2e3(0x88b)](_0x3cb2cd=>_0x3cb2cd[_0x57e2e3(0x882)]===_0x526e91[_0x57e2e3(0x882)]?.[_0x57e2e3(0x2ba)]()),_0x3b94d=_0x4d07e4?.[_0x57e2e3(0x669)]??_0x526e91[_0x57e2e3(0x669)]??0x0,_0x36e7bf=_0x4d07e4?.[_0x57e2e3(0x4f1)]??_0x526e91['readMessages']??!0x1;await this[_0x57e2e3(0x2d3)](_0x13f642);let _0x4da115={'flowId':_0x526e91['_id'],..._0x526e91,'chatLog':null},_0x852ef5=await this[_0x57e2e3(0x77b)](_0x4da115[_0x57e2e3(0x1d1)]),_0x426004=await this[_0x57e2e3(0x7a6)](_0x13f642),_0x5226cd={..._0x852ef5,..._0x426004,'_remoteJid':_0x13f642},_0x2594f8={'lastReceivedMessage':_0x2d4849,'lastSendMessage':_0x289807,'lastBlockId':_0x171a40,'lastCondition':!0x0,'realVariables':_0x5226cd};_0x4da115[_0x57e2e3(0x227)]=_0x2594f8,delete _0x4da115['_id'],_0x4da115[_0x57e2e3(0x882)]=new _0x404164(),_0x4da115[_0x57e2e3(0x270)]=_0xcd084a,_0x4da115[_0x57e2e3(0x22e)]='open',_0x4da115[_0x57e2e3(0x3aa)]=_0x13f642,_0x4da115[_0x57e2e3(0x669)]=_0x3b94d,_0x4da115[_0x57e2e3(0x4f1)]=_0x36e7bf;let _0x13ae55=await this[_0x57e2e3(0x59e)][_0x57e2e3(0x436)]['updateOne'](_0x4da115[_0x57e2e3(0x882)],_0x4da115,this[_0x57e2e3(0x1c1)][_0x57e2e3(0x360)]);return this[_0x57e2e3(0x7de)][_0x57e2e3(0x3c2)](this[_0x57e2e3(0x586)]+'\x20('+this[_0x57e2e3(0x1c1)][_0x57e2e3(0x360)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x13ae55?_0x4da115:null;}catch(_0x1fba62){return this[_0x57e2e3(0x7de)][_0x57e2e3(0x873)](this[_0x57e2e3(0x586)]+'\x20('+this[_0x57e2e3(0x1c1)][_0x57e2e3(0x360)]+_0x57e2e3(0x7be)+(_0x1fba62 instanceof Error?_0x1fba62[_0x57e2e3(0x7d2)]:JSON['stringify'](_0x1fba62,null,0x2))),_0x1fba62;}}async[a0_0x13c462(0x287)](_0x360535,_0x3c8389){const _0x1229e9=a0_0x13c462;let _0x14a102=_0x360535['remoteJid'];_0x3c8389['uazapi'][_0x1229e9(0x3aa)]&&_0x3c8389[_0x1229e9(0x76a)]['remoteJid'][_0x1229e9(0x707)]()!==''&&(_0x14a102=_0x3c8389[_0x1229e9(0x76a)][_0x1229e9(0x3aa)][_0x1229e9(0x707)]()),this[_0x1229e9(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x1229e9(0x1c1)][_0x1229e9(0x360)]+_0x1229e9(0x450));let _0x3662d3={'number':_0x14a102,'options':{'delay':_0x3c8389['uazapi'][_0x1229e9(0x184)],'linkPreview':_0x3c8389['uazapi'][_0x1229e9(0x340)]},'textMessage':{'text':_0x3c8389[_0x1229e9(0x76a)]['text']}};try{let _0x140528=await this['textMessage'](_0x3662d3);if(_0x140528){let _0x17eb03={'_id':_0x140528[_0x1229e9(0x733)]['id'],'_fromMe':_0x140528[_0x1229e9(0x733)]['fromMe'],'_remoteJid':_0x140528['key'][_0x1229e9(0x3aa)]},_0x3bd0b9=(0x0,w[_0x1229e9(0x3e1)])(_0x140528[_0x1229e9(0x7d2)]),_0x3417dc=(0x0,w['getContentType'])(_0x3bd0b9);_0x360535[_0x1229e9(0x227)]['lastBlockId']=_0x3c8389[_0x1229e9(0x882)]['toString']();let {message_normalized:_0x46001a}=this[_0x1229e9(0x325)](_0x3bd0b9,_0x3417dc,null);_0x360535['chatLog'][_0x1229e9(0x78d)]=await _0x46001a;let _0x14a68d={'messageId':_0x140528[_0x1229e9(0x733)]['id']},_0x5eb39f=_0x360535[_0x1229e9(0x227)][_0x1229e9(0x81b)];Object[_0x1229e9(0x5c4)](_0x5eb39f,_0x17eb03),_0x360535[_0x1229e9(0x227)][_0x1229e9(0x81b)]=_0x5eb39f,this[_0x1229e9(0x474)](_0x360535,_0x3c8389,_0x14a68d);}else{let _0x3f5724={'error':!0x0};this[_0x1229e9(0x474)](_0x360535,_0x3c8389,_0x3f5724),this[_0x1229e9(0x7de)][_0x1229e9(0x873)](this['instanceName']+'\x20('+this[_0x1229e9(0x1c1)][_0x1229e9(0x360)]+_0x1229e9(0x34d));}}catch(_0x26eb7d){let _0x29354c={'error':!0x0,'errorLog':_0x26eb7d['toString']()};this[_0x1229e9(0x474)](_0x360535,_0x3c8389,_0x29354c),this['logger'][_0x1229e9(0x873)](this[_0x1229e9(0x586)]+'\x20('+this['instance'][_0x1229e9(0x360)]+_0x1229e9(0x694)+(_0x26eb7d instanceof Error?_0x26eb7d[_0x1229e9(0x7d2)]:JSON[_0x1229e9(0x524)](_0x26eb7d,null,0x2)));}}async[a0_0x13c462(0x879)](_0x1fa07d,_0x3f95ee){const _0xdded58=a0_0x13c462;let _0xb4f8cb=_0x1fa07d['remoteJid'];_0x3f95ee[_0xdded58(0x76a)][_0xdded58(0x3aa)]&&_0x3f95ee[_0xdded58(0x76a)][_0xdded58(0x3aa)][_0xdded58(0x707)]()!==''&&(_0xb4f8cb=_0x3f95ee[_0xdded58(0x76a)]['remoteJid'][_0xdded58(0x707)]()),this[_0xdded58(0x7de)]['verbose'](this[_0xdded58(0x586)]+'\x20('+this[_0xdded58(0x1c1)][_0xdded58(0x360)]+'):\x20Enviando\x20mídia');let _0x2bb65d={'number':_0xb4f8cb,'options':{'delay':_0x3f95ee[_0xdded58(0x76a)][_0xdded58(0x184)],'linkPreview':_0x3f95ee['uazapi'][_0xdded58(0x340)]},'mediaMessage':{'mediatype':_0x3f95ee['uazapi']['mediatype'],'caption':_0x3f95ee[_0xdded58(0x76a)][_0xdded58(0x541)],'media':_0x3f95ee[_0xdded58(0x76a)]['media'],'fileName':_0x3f95ee[_0xdded58(0x76a)][_0xdded58(0x332)]}};try{let _0x4271e2=await this[_0xdded58(0x4fd)](_0x2bb65d);if(_0x4271e2){let _0x195559={'_id':_0x4271e2[_0xdded58(0x733)]['id'],'_fromMe':_0x4271e2[_0xdded58(0x733)][_0xdded58(0x2c3)],'_remoteJid':_0x4271e2[_0xdded58(0x733)]['remoteJid']},_0x40c78c=(0x0,w[_0xdded58(0x3e1)])(_0x4271e2['message']),_0x29ee4e=(0x0,w['getContentType'])(_0x40c78c);_0x1fa07d[_0xdded58(0x227)][_0xdded58(0x15d)]=_0x3f95ee['_id'][_0xdded58(0x2ba)]();let {message_normalized:_0x573ba9}=this[_0xdded58(0x325)](_0x40c78c,_0x29ee4e,null);_0x1fa07d[_0xdded58(0x227)][_0xdded58(0x78d)]=await _0x573ba9;let _0x1fb934={'messageId':_0x4271e2[_0xdded58(0x733)]['id']},_0x8e7a63=_0x1fa07d[_0xdded58(0x227)]['realVariables'];Object['assign'](_0x8e7a63,_0x195559),_0x1fa07d['chatLog'][_0xdded58(0x81b)]=_0x8e7a63,this['updateConversation'](_0x1fa07d,_0x3f95ee,_0x1fb934);}else{let _0x5af690={'error':!0x0};this[_0xdded58(0x474)](_0x1fa07d,_0x3f95ee,_0x5af690),this[_0xdded58(0x7de)][_0xdded58(0x873)](this['instanceName']+'\x20('+this['instance'][_0xdded58(0x360)]+_0xdded58(0x42d));}}catch(_0x3abdf5){let _0x17586b={'error':!0x0,'errorLog':_0x3abdf5[_0xdded58(0x2ba)]()};this[_0xdded58(0x474)](_0x1fa07d,_0x3f95ee,_0x17586b),this['logger']['error'](this[_0xdded58(0x586)]+'\x20('+this[_0xdded58(0x1c1)][_0xdded58(0x360)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x3abdf5 instanceof Error?_0x3abdf5[_0xdded58(0x7d2)]:JSON[_0xdded58(0x524)](_0x3abdf5,null,0x2)));}}async[a0_0x13c462(0x518)](_0x192f4f,_0x3d74a7){const _0x3d7beb=a0_0x13c462;let _0x51e83d=_0x192f4f['remoteJid'];_0x3d74a7[_0x3d7beb(0x76a)][_0x3d7beb(0x3aa)]&&_0x3d74a7[_0x3d7beb(0x76a)]['remoteJid'][_0x3d7beb(0x707)]()!==''&&(_0x51e83d=_0x3d74a7[_0x3d7beb(0x76a)][_0x3d7beb(0x3aa)]['trim']()),this[_0x3d7beb(0x7de)][_0x3d7beb(0x3c2)](this[_0x3d7beb(0x586)]+'\x20('+this[_0x3d7beb(0x1c1)][_0x3d7beb(0x360)]+_0x3d7beb(0x871));let _0x385462={'number':_0x51e83d,'options':{'delay':_0x3d74a7[_0x3d7beb(0x76a)][_0x3d7beb(0x184)]},'locationMessage':{'name':_0x3d74a7[_0x3d7beb(0x76a)][_0x3d7beb(0x42b)],'address':_0x3d74a7[_0x3d7beb(0x76a)]['address'],'latitude':_0x3d74a7[_0x3d7beb(0x76a)]['latitude'],'longitude':_0x3d74a7[_0x3d7beb(0x76a)][_0x3d7beb(0x712)]}};try{let _0x3d53bf=await this[_0x3d7beb(0x22b)](_0x385462);if(_0x3d53bf){let _0x223cbc={'_id':_0x3d53bf[_0x3d7beb(0x733)]['id'],'_fromMe':_0x3d53bf[_0x3d7beb(0x733)]['fromMe'],'_remoteJid':_0x3d53bf[_0x3d7beb(0x733)][_0x3d7beb(0x3aa)]},_0x134d48=(0x0,w[_0x3d7beb(0x3e1)])(_0x3d53bf[_0x3d7beb(0x7d2)]),_0x2b72a0=(0x0,w[_0x3d7beb(0x82c)])(_0x134d48);_0x192f4f['chatLog'][_0x3d7beb(0x15d)]=_0x3d74a7['_id'][_0x3d7beb(0x2ba)]();let {message_normalized:_0x49c485}=this[_0x3d7beb(0x325)](_0x134d48,_0x2b72a0,null);_0x192f4f[_0x3d7beb(0x227)][_0x3d7beb(0x78d)]=await _0x49c485;let _0x371377={'messageId':_0x3d53bf[_0x3d7beb(0x733)]['id']},_0x22276e=_0x192f4f[_0x3d7beb(0x227)][_0x3d7beb(0x81b)];Object[_0x3d7beb(0x5c4)](_0x22276e,_0x223cbc),_0x192f4f[_0x3d7beb(0x227)][_0x3d7beb(0x81b)]=_0x22276e,this[_0x3d7beb(0x474)](_0x192f4f,_0x3d74a7,_0x371377);}else{let _0x387d45={'error':!0x0};this[_0x3d7beb(0x474)](_0x192f4f,_0x3d74a7,_0x387d45),this[_0x3d7beb(0x7de)][_0x3d7beb(0x873)](this[_0x3d7beb(0x586)]+'\x20('+this[_0x3d7beb(0x1c1)][_0x3d7beb(0x360)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x17f08f){let _0x42d631={'error':!0x0,'errorLog':_0x17f08f[_0x3d7beb(0x2ba)]()};this[_0x3d7beb(0x474)](_0x192f4f,_0x3d74a7,_0x42d631),this['logger'][_0x3d7beb(0x873)](this[_0x3d7beb(0x586)]+'\x20('+this[_0x3d7beb(0x1c1)][_0x3d7beb(0x360)]+_0x3d7beb(0x7d6)+(_0x17f08f instanceof Error?_0x17f08f[_0x3d7beb(0x7d2)]:JSON[_0x3d7beb(0x524)](_0x17f08f,null,0x2)));}}async[a0_0x13c462(0x5cb)](_0x4e74c5,_0x4c37d3){const _0x296f29=a0_0x13c462;let _0x468859=_0x4e74c5[_0x296f29(0x3aa)];_0x4c37d3[_0x296f29(0x76a)][_0x296f29(0x3aa)]&&_0x4c37d3[_0x296f29(0x76a)]['remoteJid']['trim']()!==''&&(_0x468859=_0x4c37d3[_0x296f29(0x76a)][_0x296f29(0x3aa)]['trim']()),this[_0x296f29(0x7de)][_0x296f29(0x3c2)](this[_0x296f29(0x586)]+'\x20('+this[_0x296f29(0x1c1)][_0x296f29(0x360)]+'):\x20Enviando\x20áudio');let _0x533a25={'number':_0x468859,'options':{'delay':_0x4c37d3[_0x296f29(0x76a)]['delay']},'audioMessage':{'audio':_0x4c37d3[_0x296f29(0x76a)]['audio']}};try{let _0x49b906=await this[_0x296f29(0x12f)](_0x533a25);if(_0x49b906){let _0x3732d6={'_id':_0x49b906[_0x296f29(0x733)]['id'],'_fromMe':_0x49b906['key'][_0x296f29(0x2c3)],'_remoteJid':_0x49b906[_0x296f29(0x733)][_0x296f29(0x3aa)]},_0x13dd3c=(0x0,w[_0x296f29(0x3e1)])(_0x49b906[_0x296f29(0x7d2)]),_0x72981c=(0x0,w[_0x296f29(0x82c)])(_0x13dd3c);_0x4e74c5[_0x296f29(0x227)]['lastBlockId']=_0x4c37d3[_0x296f29(0x882)]['toString']();let {message_normalized:_0x75a2bb}=this[_0x296f29(0x325)](_0x13dd3c,_0x72981c,null);_0x4e74c5[_0x296f29(0x227)][_0x296f29(0x78d)]=await _0x75a2bb;let _0x3acc3b={'messageId':_0x49b906['key']['id']},_0x14287f=_0x4e74c5[_0x296f29(0x227)][_0x296f29(0x81b)];Object['assign'](_0x14287f,_0x3732d6),_0x4e74c5[_0x296f29(0x227)][_0x296f29(0x81b)]=_0x14287f,this[_0x296f29(0x474)](_0x4e74c5,_0x4c37d3,_0x3acc3b);}else{let _0x34b142={'error':!0x0};this[_0x296f29(0x474)](_0x4e74c5,_0x4c37d3,_0x34b142),this[_0x296f29(0x7de)]['error'](this[_0x296f29(0x586)]+'\x20('+this[_0x296f29(0x1c1)][_0x296f29(0x360)]+_0x296f29(0x271));}}catch(_0x1d2fe3){let _0x5c64de={'error':!0x0,'errorLog':_0x1d2fe3[_0x296f29(0x2ba)]()};this[_0x296f29(0x474)](_0x4e74c5,_0x4c37d3,_0x5c64de),this[_0x296f29(0x7de)]['error'](this[_0x296f29(0x586)]+'\x20('+this[_0x296f29(0x1c1)][_0x296f29(0x360)]+_0x296f29(0x7d7)+(_0x1d2fe3 instanceof Error?_0x1d2fe3[_0x296f29(0x7d2)]:JSON[_0x296f29(0x524)](_0x1d2fe3,null,0x2)));}}async[a0_0x13c462(0x8bd)](_0x3ca421,_0x10e9c0){const _0x1ad1b7=a0_0x13c462;let _0x3dca22=_0x3ca421['remoteJid'];_0x10e9c0[_0x1ad1b7(0x76a)]['remoteJid']&&_0x10e9c0['uazapi'][_0x1ad1b7(0x3aa)]['trim']()!==''&&(_0x3dca22=_0x10e9c0[_0x1ad1b7(0x76a)][_0x1ad1b7(0x3aa)]['trim']()),this[_0x1ad1b7(0x7de)][_0x1ad1b7(0x3c2)](this[_0x1ad1b7(0x586)]+'\x20('+this[_0x1ad1b7(0x1c1)][_0x1ad1b7(0x360)]+_0x1ad1b7(0x33e));let _0x3fc917={'number':_0x3dca22,'options':{'delay':_0x10e9c0['uazapi']['delay']},'contactMessage':[{'fullName':_0x10e9c0['uazapi']['fullName'],'phoneNumber':_0x10e9c0[_0x1ad1b7(0x76a)][_0x1ad1b7(0x442)]}]};try{let _0x3ebfe5=await this[_0x1ad1b7(0x7b3)](_0x3fc917);if(_0x3ebfe5){let _0x54f4e0={'_id':_0x3ebfe5[_0x1ad1b7(0x733)]['id'],'_fromMe':_0x3ebfe5[_0x1ad1b7(0x733)]['fromMe'],'_remoteJid':_0x3ebfe5[_0x1ad1b7(0x733)]['remoteJid']},_0x12eb35=(0x0,w['normalizeMessageContent'])(_0x3ebfe5[_0x1ad1b7(0x7d2)]),_0x1ed5ef=(0x0,w[_0x1ad1b7(0x82c)])(_0x12eb35);_0x3ca421[_0x1ad1b7(0x227)]['lastBlockId']=_0x10e9c0[_0x1ad1b7(0x882)][_0x1ad1b7(0x2ba)]();let {message_normalized:_0xe41d7f}=this[_0x1ad1b7(0x325)](_0x12eb35,_0x1ed5ef,null);_0x3ca421[_0x1ad1b7(0x227)][_0x1ad1b7(0x78d)]=await _0xe41d7f;let _0x15d77e={'messageId':_0x3ebfe5[_0x1ad1b7(0x733)]['id']},_0x33cc6f=_0x3ca421[_0x1ad1b7(0x227)]['realVariables'];Object[_0x1ad1b7(0x5c4)](_0x33cc6f,_0x54f4e0),_0x3ca421[_0x1ad1b7(0x227)][_0x1ad1b7(0x81b)]=_0x33cc6f,this[_0x1ad1b7(0x474)](_0x3ca421,_0x10e9c0,_0x15d77e);}else{let _0x1138d0={'error':!0x0};this['updateConversation'](_0x3ca421,_0x10e9c0,_0x1138d0),this[_0x1ad1b7(0x7de)][_0x1ad1b7(0x873)](this[_0x1ad1b7(0x586)]+'\x20('+this[_0x1ad1b7(0x1c1)][_0x1ad1b7(0x360)]+_0x1ad1b7(0x458));}}catch(_0x444567){let _0xf77eb8={'error':!0x0,'errorLog':_0x444567[_0x1ad1b7(0x2ba)]()};this['updateConversation'](_0x3ca421,_0x10e9c0,_0xf77eb8),this[_0x1ad1b7(0x7de)][_0x1ad1b7(0x873)](this[_0x1ad1b7(0x586)]+'\x20('+this['instance'][_0x1ad1b7(0x360)]+_0x1ad1b7(0x6e0)+(_0x444567 instanceof Error?_0x444567[_0x1ad1b7(0x7d2)]:JSON[_0x1ad1b7(0x524)](_0x444567,null,0x2)));}}[a0_0x13c462(0x2a3)](_0x5072aa,_0x47ec95){const _0x2528ae=a0_0x13c462;for(let _0x372e85 of _0x5072aa)_0x372e85[_0x2528ae(0x166)]&&(_0x372e85['option']=this['replaceVariables'](_0x372e85['option'],_0x47ec95)),_0x372e85[_0x2528ae(0x695)]&&(_0x372e85[_0x2528ae(0x695)]=this[_0x2528ae(0x692)](_0x372e85[_0x2528ae(0x695)],_0x47ec95));}async[a0_0x13c462(0x381)](_0x51d4b3,_0x2acb3e){const _0x3187b0=a0_0x13c462;let _0x39eb7c=_0x51d4b3[_0x3187b0(0x3aa)];_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x3aa)]&&_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x3aa)][_0x3187b0(0x707)]()!==''&&(_0x39eb7c=_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x3aa)][_0x3187b0(0x707)]()),this[_0x3187b0(0x7de)][_0x3187b0(0x3c2)](this[_0x3187b0(0x586)]+'\x20('+this['instance'][_0x3187b0(0x360)]+_0x3187b0(0x2b1));let _0xdc7089=_0x51d4b3[_0x3187b0(0x239)][_0x3187b0(0x843)](_0x50b2f0=>_0x50b2f0[_0x3187b0(0x240)]===_0x2acb3e[_0x3187b0(0x882)])[_0x3187b0(0x772)]((_0x39bfb6,_0x26784e)=>_0x39bfb6[_0x3187b0(0x704)]-_0x26784e['order']);this[_0x3187b0(0x2a3)](_0xdc7089,_0x51d4b3['chatLog'][_0x3187b0(0x81b)]);let _0x20d7e1=_0xdc7089[_0x3187b0(0x4c1)](_0x784465=>_0x784465[_0x3187b0(0x166)]),_0x3a04e3={'number':_0x39eb7c,'menuMessage':{'type':_0x2acb3e['uazapi'][_0x3187b0(0x89f)]||_0x3187b0(0x460),'text':_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x1e0)]||_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x42b)],'footerText':_0x2acb3e['uazapi'][_0x3187b0(0x1ad)],'buttonText':_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x6d3)],'selectableCount':0x1,'choices':_0x20d7e1},'options':{'delay':_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x184)]}};try{let _0x330b1d=await this['menuMessage'](_0x3a04e3);if(_0x330b1d){let _0x3d9baa={'_id':_0x330b1d[_0x3187b0(0x733)]['id'],'_fromMe':_0x330b1d[_0x3187b0(0x733)][_0x3187b0(0x2c3)],'_remoteJid':_0x330b1d[_0x3187b0(0x733)][_0x3187b0(0x3aa)]};_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x5eb)]===!0x0&&(_0x51d4b3[_0x3187b0(0x22e)]='waitingForReplyMenu',this[_0x3187b0(0x7de)][_0x3187b0(0x3c2)](this[_0x3187b0(0x586)]+'\x20('+this['instance'][_0x3187b0(0x360)]+'):\x20conversation.status:\x20'+_0x51d4b3['status'])),this['logger'][_0x3187b0(0x3c2)](this['instanceName']+'\x20('+this[_0x3187b0(0x1c1)][_0x3187b0(0x360)]+_0x3187b0(0x59d)+(_0x2acb3e[_0x3187b0(0x76a)]['name']||_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x1e0)])),_0x51d4b3[_0x3187b0(0x1af)]=_0x330b1d[_0x3187b0(0x733)]['id'],_0x51d4b3[_0x3187b0(0x862)]=_0x2acb3e['uazapi'][_0x3187b0(0x42b)]||_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x1e0)],_0x51d4b3[_0x3187b0(0x6dc)]=_0xdc7089,_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x209)]&&(_0x51d4b3[_0x3187b0(0x29c)]=_0x2acb3e[_0x3187b0(0x76a)][_0x3187b0(0x209)]),this[_0x3187b0(0x7de)][_0x3187b0(0x3c2)](this['instanceName']+'\x20('+this[_0x3187b0(0x1c1)][_0x3187b0(0x360)]+_0x3187b0(0x818)+_0x51d4b3[_0x3187b0(0x862)]);let _0x25e464=(0x0,w[_0x3187b0(0x3e1)])(_0x330b1d[_0x3187b0(0x7d2)]),_0x49a87c=(0x0,w['getContentType'])(_0x25e464);_0x51d4b3[_0x3187b0(0x227)][_0x3187b0(0x15d)]=_0x2acb3e[_0x3187b0(0x882)][_0x3187b0(0x2ba)]();let {message_normalized:_0x301f09}=this[_0x3187b0(0x325)](_0x25e464,_0x49a87c,null);_0x51d4b3['chatLog'][_0x3187b0(0x78d)]=await _0x301f09;let _0x13b539={'messageId':_0x330b1d[_0x3187b0(0x733)]['id']},_0x510d9e=_0x51d4b3[_0x3187b0(0x227)][_0x3187b0(0x81b)];Object[_0x3187b0(0x5c4)](_0x510d9e,_0x3d9baa),_0x51d4b3['chatLog'][_0x3187b0(0x81b)]=_0x510d9e,this['updateConversation'](_0x51d4b3,_0x2acb3e,_0x13b539);}else{let _0xeb8ec={'error':!0x0};this[_0x3187b0(0x474)](_0x51d4b3,_0x2acb3e,_0xeb8ec),this[_0x3187b0(0x7de)][_0x3187b0(0x873)](this[_0x3187b0(0x586)]+'\x20('+this[_0x3187b0(0x1c1)][_0x3187b0(0x360)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x33e7bb){let _0x43305b={'error':!0x0,'errorLog':_0x33e7bb instanceof Error?_0x33e7bb[_0x3187b0(0x7d2)]:JSON[_0x3187b0(0x524)](_0x33e7bb,null,0x2)};this[_0x3187b0(0x474)](_0x51d4b3,_0x2acb3e,_0x43305b),this[_0x3187b0(0x7de)][_0x3187b0(0x873)](this[_0x3187b0(0x586)]+'\x20('+this[_0x3187b0(0x1c1)][_0x3187b0(0x360)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x33e7bb instanceof Error?_0x33e7bb[_0x3187b0(0x7d2)]:JSON[_0x3187b0(0x524)](_0x33e7bb,null,0x2)));}}async[a0_0x13c462(0x897)](_0x129290,_0x2653c4){const _0x131c4f=a0_0x13c462;this[_0x131c4f(0x7de)]['verbose'](this[_0x131c4f(0x586)]+'\x20('+this[_0x131c4f(0x1c1)][_0x131c4f(0x360)]+_0x131c4f(0x427));let _0x47105e=_0x129290[_0x131c4f(0x227)][_0x131c4f(0x689)][_0x131c4f(0x88b)](_0x3c70ae=>_0x3c70ae[_0x131c4f(0x240)][_0x131c4f(0x2ba)]()===_0x2653c4[_0x131c4f(0x76a)][_0x131c4f(0x240)][_0x131c4f(0x2ba)]()),_0xa11708={'id':_0x47105e[_0x131c4f(0x807)],'remoteJid':_0x47105e[_0x131c4f(0x3aa)],'fromMe':_0x47105e[_0x131c4f(0x2c3)]};try{let _0x6b41a5=await this[_0x131c4f(0x3cf)](_0xa11708);if(_0x6b41a5){let _0x1850b3=(0x0,w[_0x131c4f(0x3e1)])(_0x6b41a5['message']),_0x10955b=(0x0,w[_0x131c4f(0x82c)])(_0x1850b3);_0x129290[_0x131c4f(0x227)][_0x131c4f(0x15d)]=_0x2653c4[_0x131c4f(0x882)][_0x131c4f(0x2ba)]();let {message_normalized:_0x1c86d1}=this[_0x131c4f(0x325)](_0x1850b3,_0x10955b,null);_0x129290[_0x131c4f(0x227)][_0x131c4f(0x78d)]=await _0x1c86d1;let _0x259bbd={};this['updateConversation'](_0x129290,_0x2653c4,_0x259bbd);}else{let _0x35fdc8={'error':!0x0};this['updateConversation'](_0x129290,_0x2653c4,_0x35fdc8),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x131c4f(0x360)]+_0x131c4f(0x836));}}catch(_0xa763ac){let _0x27cdec={'error':!0x0,'errorLog':_0xa763ac instanceof Error?_0xa763ac['message']:JSON['stringify'](_0xa763ac,null,0x2)};this[_0x131c4f(0x474)](_0x129290,_0x2653c4,_0x27cdec),this[_0x131c4f(0x7de)][_0x131c4f(0x873)](this[_0x131c4f(0x586)]+'\x20('+this[_0x131c4f(0x1c1)]['wuid']+_0x131c4f(0x68a)+(_0xa763ac instanceof Error?_0xa763ac['message']:JSON[_0x131c4f(0x524)](_0xa763ac,null,0x2)));}}async[a0_0x13c462(0x786)](_0x571d83,_0x26a357){const _0x425357=a0_0x13c462;if(_0x571d83['name']||(_0x571d83[_0x425357(0x42b)]=(0x0,Q['v4'])()),_0x26a357!==Ri&&_0x571d83?.[_0x425357(0x49d)])throw new m(_0x425357(0x66b));if(_0x425357(0x882)in _0x571d83&&'owner'in _0x571d83)return this['AddUserFlow'](_0x571d83[_0x425357(0x7ae)],_0x571d83[_0x425357(0x882)]);this['logger'][_0x425357(0x3c2)](this[_0x425357(0x586)]+'\x20('+this[_0x425357(0x1c1)][_0x425357(0x360)]+_0x425357(0x1c7));let _0x506ae3=this[_0x425357(0x5cf)](_0x571d83['name']),_0x4607df=new pe['Types'][(_0x425357(0x37b))](),_0x488fa2={'_id':_0x4607df,'default':!0x0,'title':_0x425357(0x22c),'x':0x0,'y':0x0},_0x5a4b70={'_id':new pe[(_0x425357(0x743))]['ObjectId'](),'order':0x1,'groupId':_0x4607df[_0x425357(0x2ba)](),'type':_0x425357(0x4b5)},_0x6b3437=this[_0x425357(0x1c1)][_0x425357(0x360)],_0x3fd85d={'_id':(0x0,Q['v4'])(),'owner':_0x6b3437,'name':_0x506ae3,'whoCanEdit':[_0x6b3437],'whoCanUse':[_0x6b3437],'groups':[_0x488fa2],'blocks':[_0x5a4b70],..._0x571d83};try{let _0xf6cbc1=await this[_0x425357(0x59e)][_0x425357(0x5e0)][_0x425357(0x36e)](_0x3fd85d);return await this[_0x425357(0x4f2)](),_0xf6cbc1;}catch(_0x11f278){let _0x4602d8='Erro\x20ao\x20criar\x20fluxo',_0x4ed1c3=_0x11f278 instanceof Error?_0x11f278[_0x425357(0x7d2)]:typeof _0x11f278==_0x425357(0x50b)?JSON[_0x425357(0x524)](_0x11f278):_0x11f278,_0x36c51d=_0x4602d8+':\x20'+_0x4ed1c3;throw this[_0x425357(0x7de)][_0x425357(0x873)](this[_0x425357(0x586)]+'\x20('+this[_0x425357(0x1c1)]['wuid']+'):\x20'+_0x36c51d),new m(_0x36c51d);}}async[a0_0x13c462(0x5f1)](_0x5b070e,_0x125ad0){const _0x10256f=a0_0x13c462;try{this[_0x10256f(0x7de)][_0x10256f(0x3c2)](this[_0x10256f(0x586)]+'\x20('+this[_0x10256f(0x1c1)][_0x10256f(0x360)]+_0x10256f(0x1b8));let _0x179a8a=await this[_0x10256f(0x59e)]['flow'][_0x10256f(0x4cd)]({'where':{'_id':_0x125ad0,'owner':_0x5b070e}});if(!_0x179a8a)throw new m(_0x10256f(0x800));if(_0x179a8a[_0x10256f(0x7df)]===!0x1&&!_0x179a8a[_0x10256f(0x49d)])throw new m(_0x10256f(0x667));let _0x1a0972=new Set(_0x179a8a[_0x10256f(0x5e9)]??[]);_0x1a0972[_0x10256f(0x536)](this['instance'][_0x10256f(0x360)]);let _0x3ea30b=await this[_0x10256f(0x59e)][_0x10256f(0x5e0)][_0x10256f(0x176)](_0x125ad0,{..._0x179a8a,'whoCanUse':Array[_0x10256f(0x370)](_0x1a0972)});return await this[_0x10256f(0x4f2)](),_0x3ea30b;}catch(_0x13617b){let _0x4bd3fb=_0x10256f(0x510),_0x13b6c4=_0x13617b instanceof Error?_0x13617b['message']:typeof _0x13617b==_0x10256f(0x50b)?JSON['stringify'](_0x13617b):_0x13617b,_0x3a7498=_0x4bd3fb+':\x20'+_0x13b6c4;throw this[_0x10256f(0x7de)][_0x10256f(0x873)](this[_0x10256f(0x586)]+'\x20('+this[_0x10256f(0x1c1)][_0x10256f(0x360)]+_0x10256f(0x351)+_0x3a7498),new m(_0x3a7498);}}[a0_0x13c462(0x5cf)](_0x43be6b){const _0x28de00=a0_0x13c462;let _0x569ff4=_0x43be6b,_0x215a96=0x1;for(;this['AutomateSystem'][_0x28de00(0x1bc)][_0x28de00(0x73a)](_0x489a33=>_0x489a33[_0x28de00(0x42b)]===_0x569ff4);)_0x215a96++,_0x569ff4=_0x43be6b+'\x20('+_0x215a96+')';return _0x569ff4;}async[a0_0x13c462(0x502)](_0x455602){const _0x1e43e7=a0_0x13c462;try{if(this[_0x1e43e7(0x7de)][_0x1e43e7(0x3c2)](this[_0x1e43e7(0x586)]+'\x20('+this['instance'][_0x1e43e7(0x360)]+_0x1e43e7(0x792)+_0x455602['_id']+_0x1e43e7(0x1ca)+_0x455602['global']),!this[_0x1e43e7(0x1cf)][_0x1e43e7(0x1bc)]['find'](_0x4b5beb=>_0x4b5beb['_id']===_0x455602['_id']))throw this[_0x1e43e7(0x7de)][_0x1e43e7(0x3c2)](this[_0x1e43e7(0x586)]+'\x20('+this['instance'][_0x1e43e7(0x360)]+_0x1e43e7(0x719)+_0x455602[_0x1e43e7(0x882)]+_0x1e43e7(0x76e)),new m(_0x1e43e7(0x66e));let _0x4ad06f=await this[_0x1e43e7(0x59e)][_0x1e43e7(0x5e0)][_0x1e43e7(0x4cd)]({'where':{'_id':_0x455602[_0x1e43e7(0x882)]}});if(!_0x4ad06f)throw new m(_0x1e43e7(0x385));if(this[_0x1e43e7(0x1c1)][_0x1e43e7(0x360)]===_0x4ad06f['owner']){this[_0x1e43e7(0x7de)][_0x1e43e7(0x3c2)](this['instanceName']+'\x20('+this[_0x1e43e7(0x1c1)][_0x1e43e7(0x360)]+_0x1e43e7(0x6e3)+_0x455602[_0x1e43e7(0x882)]+_0x1e43e7(0x875));let _0x46383d=await this['repository'][_0x1e43e7(0x5e0)][_0x1e43e7(0x87c)]({'where':{'_id':_0x455602[_0x1e43e7(0x882)]}});return await this[_0x1e43e7(0x4f2)](),_0x46383d;}return this[_0x1e43e7(0x7de)][_0x1e43e7(0x3c2)](this[_0x1e43e7(0x586)]+'\x20('+this['instance'][_0x1e43e7(0x360)]+'):\x20Removendo\x20\x27'+this[_0x1e43e7(0x1c1)]['wuid']+_0x1e43e7(0x572)+_0x455602[_0x1e43e7(0x882)]+_0x1e43e7(0x132)),_0x4ad06f[_0x1e43e7(0x5e9)]=(_0x4ad06f[_0x1e43e7(0x5e9)]??[])[_0x1e43e7(0x843)](_0x1d5ae5=>_0x1d5ae5!==this[_0x1e43e7(0x1c1)][_0x1e43e7(0x360)]),_0x4ad06f[_0x1e43e7(0x32f)]=(_0x4ad06f[_0x1e43e7(0x32f)]??[])[_0x1e43e7(0x843)](_0x3b68fa=>_0x3b68fa!==this['instance'][_0x1e43e7(0x360)]),_0x4ad06f[_0x1e43e7(0x32f)][_0x1e43e7(0x1d3)]===0x0&&_0x4ad06f['whoCanUse'][_0x1e43e7(0x1d3)]>0x0&&(_0x4ad06f[_0x1e43e7(0x32f)][_0x1e43e7(0x438)](_0x4ad06f['whoCanUse'][0x0]),this[_0x1e43e7(0x7de)][_0x1e43e7(0x3c2)](this[_0x1e43e7(0x586)]+'\x20('+this[_0x1e43e7(0x1c1)][_0x1e43e7(0x360)]+_0x1e43e7(0x72a)+_0x4ad06f[_0x1e43e7(0x5e9)][0x0]+_0x1e43e7(0x156)+_0x455602[_0x1e43e7(0x882)]+'\x27...')),await this['repository'][_0x1e43e7(0x5e0)][_0x1e43e7(0x176)](_0x4ad06f['_id'],_0x4ad06f),await this[_0x1e43e7(0x4f2)](),{'message':_0x1e43e7(0x19c)+_0x455602['name']+_0x1e43e7(0x56f)};}catch(_0x4030ec){return this['logger'][_0x1e43e7(0x873)](this['instanceName']+'\x20('+this[_0x1e43e7(0x1c1)][_0x1e43e7(0x360)]+_0x1e43e7(0x44f)+(_0x4030ec instanceof Error?_0x4030ec[_0x1e43e7(0x7d2)]:JSON['stringify'](_0x4030ec,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x4030ec instanceof Error?_0x4030ec[_0x1e43e7(0x7d2)]:JSON['stringify'](_0x4030ec,null,0x2))};}}async['getFlow'](_0x1d1aeb){const _0x45d783=a0_0x13c462;try{if(this[_0x45d783(0x7de)]['info'](this[_0x45d783(0x586)]+'\x20('+this[_0x45d783(0x1c1)][_0x45d783(0x360)]+_0x45d783(0x2ce)+_0x1d1aeb),!this['AutomateSystem']&&(await this[_0x45d783(0x44b)](),!this[_0x45d783(0x1cf)]))return null;let _0x8e87e8=await this[_0x45d783(0x59e)][_0x45d783(0x5e0)]['findOne']({'where':{'_id':_0x1d1aeb}});if(!_0x8e87e8)throw new m('Fluxo\x20id\x20\x27'+_0x1d1aeb+_0x45d783(0x6ef));if(!(_0x8e87e8['globalShow']||_0x8e87e8[_0x45d783(0x5e9)]?.[_0x45d783(0x50c)](this[_0x45d783(0x1c1)][_0x45d783(0x360)])))throw new m(_0x45d783(0x2ab)+name+'\x27');_0x8e87e8[_0x45d783(0x49d)]&&!_0x8e87e8['whoCanUse']?.[_0x45d783(0x50c)](this[_0x45d783(0x1c1)]['wuid'])&&(_0x8e87e8['whoCanUse']=[..._0x8e87e8['whoCanUse']??[],this[_0x45d783(0x1c1)][_0x45d783(0x360)]],await this[_0x45d783(0x59e)][_0x45d783(0x5e0)]['updateOne'](_0x8e87e8[_0x45d783(0x882)],_0x8e87e8),this[_0x45d783(0x4f2)]());let _0x227516=this[_0x45d783(0x1cf)]?.[_0x45d783(0x57d)][_0x45d783(0x4c1)](_0x41ce8c=>_0x41ce8c[_0x45d783(0x42b)]),_0x4bf41e=['nome','nomecompleto',_0x45d783(0x314),_0x45d783(0x43a),_0x45d783(0x22e),_0x45d783(0x1ee),'responsavelid',_0x45d783(0x55d),_0x45d783(0x622),_0x45d783(0x820),_0x45d783(0x410)];_0x8e87e8[_0x45d783(0x1d1)]=_0x8e87e8[_0x45d783(0x1d1)][_0x45d783(0x843)](_0x1fd561=>!(_0x1fd561[_0x45d783(0x1c4)]==='leadInfo'||_0x1fd561['leadInfo'])),_0x4bf41e[_0x45d783(0x2a0)](_0x472009=>{const _0x639cd0=_0x45d783;_0x8e87e8[_0x639cd0(0x1d1)]['push']({'folder':_0x639cd0(0x8c0),'name':_0x472009,'value':'','doc':'','leadInfo':!0x0});}),_0x227516[_0x45d783(0x2a0)](_0x4f209a=>{const _0x33ab62=_0x45d783;let _0x4a6bdd=_0x8e87e8[_0x33ab62(0x1d1)]['findIndex'](_0x481d14=>_0x481d14[_0x33ab62(0x42b)]===_0x4f209a);_0x4a6bdd===-0x1?_0x8e87e8[_0x33ab62(0x1d1)][_0x33ab62(0x438)]({'folder':_0x33ab62(0x8c0),'name':_0x4f209a,'value':'','doc':'','leadInfo':!0x0}):(_0x8e87e8['variables'][_0x4a6bdd][_0x33ab62(0x1c4)]=_0x33ab62(0x8c0),_0x8e87e8[_0x33ab62(0x1d1)][_0x4a6bdd][_0x33ab62(0x8c0)]=!0x0);}),_0x8e87e8[_0x45d783(0x3f6)]&&_0x8e87e8[_0x45d783(0x3f6)][_0x45d783(0x1d3)]>0x0&&_0x8e87e8[_0x45d783(0x3f6)][_0x45d783(0x2a0)](_0x6a3f8a=>{const _0x216695=_0x45d783;_0x6a3f8a[_0x216695(0x35b)]&&_0x6a3f8a[_0x216695(0x691)]&&_0x6a3f8a['groupId']===_0x6a3f8a[_0x216695(0x691)]&&(_0x6a3f8a['next_groupId']=null);});let _0x452568=await this[_0x45d783(0x59e)][_0x45d783(0x5e0)][_0x45d783(0x176)](_0x8e87e8[_0x45d783(0x882)],_0x8e87e8);if(!_0x452568)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x452568;}catch(_0x1609cb){let _0x476e07=_0x45d783(0x60b),_0x120bc3=_0x1609cb instanceof Error?_0x1609cb['message']:typeof _0x1609cb=='object'?JSON[_0x45d783(0x524)](_0x1609cb):_0x1609cb,_0x264e43=_0x476e07+':\x20'+_0x120bc3;throw this[_0x45d783(0x7de)]['error'](this[_0x45d783(0x586)]+'\x20('+this[_0x45d783(0x1c1)][_0x45d783(0x360)]+_0x45d783(0x351)+_0x264e43),new m(_0x264e43);}}async[a0_0x13c462(0x660)](){const _0x58be10=a0_0x13c462;try{this[_0x58be10(0x7de)][_0x58be10(0x3c2)](this[_0x58be10(0x586)]+'\x20('+this['instance'][_0x58be10(0x360)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x58be10(0x4f2)]();let _0x120096=await this[_0x58be10(0x59e)]['flow'][_0x58be10(0x2dd)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x58be10(0x1bc)],..._0x120096];}catch(_0x263ddd){return this[_0x58be10(0x7de)]['error'](this[_0x58be10(0x586)]+'\x20('+this['instance'][_0x58be10(0x360)]+_0x58be10(0x254)+(_0x263ddd instanceof Error?_0x263ddd[_0x58be10(0x7d2)]:JSON[_0x58be10(0x524)](_0x263ddd,null,0x2))),{'message':_0x58be10(0x559)+(_0x263ddd instanceof Error?_0x263ddd[_0x58be10(0x7d2)]:String(_0x263ddd))};}}async['editFlow'](_0x3b3e4e,_0x3ab485){const _0x36fd8b=a0_0x13c462;try{this[_0x36fd8b(0x7de)][_0x36fd8b(0x3c2)](this[_0x36fd8b(0x586)]+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+_0x36fd8b(0x753));let _0x4e06d3=this[_0x36fd8b(0x1cf)][_0x36fd8b(0x1bc)][_0x36fd8b(0x88b)](_0x2413d3=>_0x2413d3[_0x36fd8b(0x882)]===_0x3b3e4e[_0x36fd8b(0x882)]);if(!_0x4e06d3)throw this[_0x36fd8b(0x7de)][_0x36fd8b(0x3c2)](this[_0x36fd8b(0x586)]+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+'):\x20Fluxo\x20\x27'+_0x3b3e4e[_0x36fd8b(0x882)]+'\x27\x20não\x20encontrado'),new m(_0x36fd8b(0x66e));let _0x4fe396=await this[_0x36fd8b(0x59e)][_0x36fd8b(0x5e0)]['findOne']({'where':{'_id':_0x3b3e4e[_0x36fd8b(0x882)]}});if(!_0x4fe396||!_0x4fe396[_0x36fd8b(0x5e9)]?.[_0x36fd8b(0x50c)](this[_0x36fd8b(0x1c1)]['wuid']))throw this[_0x36fd8b(0x7de)][_0x36fd8b(0x873)](this[_0x36fd8b(0x586)]+'\x20('+this['instance']['wuid']+_0x36fd8b(0x208)+_0x3b3e4e[_0x36fd8b(0x882)]+_0x36fd8b(0x285)),new m(_0x36fd8b(0x7f2)+_0x3b3e4e[_0x36fd8b(0x882)]+_0x36fd8b(0x285));let _0x2acc4c=this[_0x36fd8b(0x1cf)][_0x36fd8b(0x1bc)][_0x36fd8b(0x60f)](_0xb0cf4b=>_0xb0cf4b[_0x36fd8b(0x882)]===_0x4e06d3[_0x36fd8b(0x882)]);if(_0x2acc4c!==-0x1){let _0xc68c22=this[_0x36fd8b(0x1cf)][_0x36fd8b(0x1bc)][_0x2acc4c];if(_0xc68c22[_0x36fd8b(0x42b)]=_0x3b3e4e['name']??_0xc68c22[_0x36fd8b(0x42b)],_0xc68c22[_0x36fd8b(0x6bc)]=_0x3b3e4e[_0x36fd8b(0x6bc)]??_0xc68c22[_0x36fd8b(0x6bc)],_0xc68c22[_0x36fd8b(0x286)]=_0x3b3e4e[_0x36fd8b(0x286)]??_0xc68c22[_0x36fd8b(0x286)],_0xc68c22[_0x36fd8b(0x396)]=_0x3b3e4e['startCommandWord']??_0xc68c22['startCommand'],_0xc68c22['minutesToClose']=_0x3b3e4e[_0x36fd8b(0x669)]??_0xc68c22[_0x36fd8b(0x669)],_0xc68c22[_0x36fd8b(0x4f1)]=_0x3b3e4e[_0x36fd8b(0x4f1)]??_0xc68c22[_0x36fd8b(0x4f1)],_0x3b3e4e['default']&&this['AutomateSystem']['flows'][_0x36fd8b(0x2a0)]((_0x531d3e,_0x136a03)=>{const _0x525cb2=_0x36fd8b;_0x136a03!==_0x2acc4c&&(_0x531d3e[_0x525cb2(0x6bc)]=!0x1);}),this[_0x36fd8b(0x1cf)][_0x36fd8b(0x1bc)][_0x2acc4c]=_0xc68c22,!await this['repository'][_0x36fd8b(0x200)][_0x36fd8b(0x823)]({'flows':this[_0x36fd8b(0x1cf)][_0x36fd8b(0x1bc)]},this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x20afdc=[_0x36fd8b(0x2dc),_0x36fd8b(0x32b),_0x36fd8b(0x202),_0x36fd8b(0x656)];for(let _0x5a8e5a of _0x20afdc)delete _0x3b3e4e[_0x5a8e5a];if(_0x4fe396[_0x36fd8b(0x32f)]?.['includes'](this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)])||(_0x3b3e4e={'_id':_0x3b3e4e[_0x36fd8b(0x882)]}),_0x3ab485!==Ri&&_0x3b3e4e?.[_0x36fd8b(0x49d)]&&!_0x4fe396?.[_0x36fd8b(0x49d)])throw new m(_0x36fd8b(0x575));let _0x2ce940=new Set(_0x3b3e4e[_0x36fd8b(0x32f)]??_0x4fe396[_0x36fd8b(0x32f)]);_0x2ce940[_0x36fd8b(0x536)](_0x4fe396[_0x36fd8b(0x7ae)]);let _0x57e86a=new Set(_0x3b3e4e[_0x36fd8b(0x5e9)]??_0x4fe396['whoCanUse']??[]);_0x2ce940['forEach'](_0x1255bb=>_0x57e86a[_0x36fd8b(0x536)](_0x1255bb)),_0x57e86a[_0x36fd8b(0x536)](_0x4fe396[_0x36fd8b(0x7ae)]),this['logger']['verbose'](this[_0x36fd8b(0x586)]+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+_0x36fd8b(0x2f3)+Array[_0x36fd8b(0x370)](_0x2ce940)),this['logger'][_0x36fd8b(0x3c2)](this[_0x36fd8b(0x586)]+'\x20('+this['instance'][_0x36fd8b(0x360)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x36fd8b(0x370)](_0x57e86a));let _0x7afe98=await this['getValidWhatsAppNumbers'](Array[_0x36fd8b(0x370)](_0x57e86a)),_0x2e7c50=Array[_0x36fd8b(0x370)](_0x2ce940)['filter'](_0x56c1c4=>_0x7afe98[_0x36fd8b(0x50c)](_0x56c1c4)),_0x3a0245=Array['from'](_0x57e86a)['filter'](_0x462062=>_0x7afe98[_0x36fd8b(0x50c)](_0x462062));this[_0x36fd8b(0x7de)][_0x36fd8b(0x3c2)](this[_0x36fd8b(0x586)]+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+_0x36fd8b(0x293)+_0x2e7c50),this[_0x36fd8b(0x7de)]['verbose'](this[_0x36fd8b(0x586)]+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+_0x36fd8b(0x64d)+_0x3a0245);let _0x1c5f8a={..._0x4fe396,..._0x3b3e4e,'whoCanEdit':_0x2e7c50,'whoCanUse':_0x3a0245},_0xd03992=await this[_0x36fd8b(0x59e)]['flow']['updateOne'](_0x4fe396[_0x36fd8b(0x882)],_0x1c5f8a);return await this['synchronizeAndMapFlows'](),_0xd03992;}catch(_0x18dd6e){let _0x34618c=_0x36fd8b(0x822),_0x20107b=_0x18dd6e instanceof Error?_0x18dd6e[_0x36fd8b(0x7d2)]:typeof _0x18dd6e=='object'?JSON['stringify'](_0x18dd6e):_0x18dd6e,_0x520cf7=_0x34618c+':\x20'+_0x20107b;throw this[_0x36fd8b(0x7de)][_0x36fd8b(0x873)](this['instanceName']+'\x20('+this[_0x36fd8b(0x1c1)][_0x36fd8b(0x360)]+'):\x20'+_0x520cf7),new m(_0x520cf7);}}async[a0_0x13c462(0x1c3)](_0x1d6d14){const _0xe24ae3=a0_0x13c462;let _0x3c67de={'numbers':_0x1d6d14};return(await this[_0xe24ae3(0x1de)](_0x3c67de))[_0xe24ae3(0x843)](_0x2c39ca=>_0x2c39ca['exists'])[_0xe24ae3(0x4c1)](_0x38146a=>_0x38146a[_0xe24ae3(0x6f6)])[_0xe24ae3(0x4c1)](_0x37cc3b=>this['extractPhoneNumber'](_0x37cc3b));}[a0_0x13c462(0x312)](_0x2885cd){const _0x23e262=a0_0x13c462;let _0x541479=_0x2885cd[_0x23e262(0x423)](/\d+/);return _0x541479?_0x541479[0x0]:'';}async[a0_0x13c462(0x7a5)](_0x58dbd7){const _0x4c8d9b=a0_0x13c462;try{if(this[_0x4c8d9b(0x7de)][_0x4c8d9b(0x3c2)](this['instanceName']+'\x20('+this[_0x4c8d9b(0x1c1)][_0x4c8d9b(0x360)]+_0x4c8d9b(0x4a4)),!this['AutomateSystem']['flows'][_0x4c8d9b(0x88b)](_0x4c3058=>_0x4c3058[_0x4c8d9b(0x882)]===_0x58dbd7[_0x4c8d9b(0x882)]))throw this['logger'][_0x4c8d9b(0x3c2)](this[_0x4c8d9b(0x586)]+'\x20('+this[_0x4c8d9b(0x1c1)][_0x4c8d9b(0x360)]+'):\x20Fluxo\x20\x27'+_0x58dbd7['_id']+_0x4c8d9b(0x76e)),new m(_0x4c8d9b(0x66e));let _0x5a8241=await this[_0x4c8d9b(0x59e)][_0x4c8d9b(0x5e0)][_0x4c8d9b(0x4cd)]({'where':{'_id':_0x58dbd7[_0x4c8d9b(0x882)]}});if(!_0x5a8241||!_0x5a8241[_0x4c8d9b(0x5e9)]?.[_0x4c8d9b(0x50c)](this[_0x4c8d9b(0x1c1)][_0x4c8d9b(0x360)]))throw this[_0x4c8d9b(0x7de)][_0x4c8d9b(0x873)](this[_0x4c8d9b(0x586)]+'\x20('+this[_0x4c8d9b(0x1c1)]['wuid']+_0x4c8d9b(0x208)+_0x58dbd7[_0x4c8d9b(0x882)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x58dbd7[_0x4c8d9b(0x882)]+_0x4c8d9b(0x285));if(!_0x5a8241[_0x4c8d9b(0x32f)]?.[_0x4c8d9b(0x50c)](this[_0x4c8d9b(0x1c1)]['wuid']))throw new m(_0x4c8d9b(0x865));let {block:_0x2b4368}=_0x58dbd7;_0x2b4368?.[_0x4c8d9b(0x3ed)]?this[_0x4c8d9b(0x8a3)](_0x5a8241,_0x58dbd7):_0x2b4368?.[_0x4c8d9b(0x634)]?this['deleteBlock'](_0x5a8241,_0x58dbd7):_0x2b4368[_0x4c8d9b(0x882)]?await this[_0x4c8d9b(0x139)](_0x5a8241,_0x58dbd7):this[_0x4c8d9b(0x4e0)](_0x5a8241,_0x58dbd7);let _0x56df01=await this[_0x4c8d9b(0x59e)]['flow']['updateOne'](_0x5a8241[_0x4c8d9b(0x882)],_0x5a8241);if(!_0x56df01)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x56df01;}catch(_0x24a8ef){this[_0x4c8d9b(0x221)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x24a8ef[_0x4c8d9b(0x7d2)]);}}async[a0_0x13c462(0x8a3)](_0x337729,_0x1d2f2e){const _0x2ac2b6=a0_0x13c462;let _0x54f0ab=_0x1d2f2e[_0x2ac2b6(0x224)][_0x2ac2b6(0x882)],_0x409f45=_0x337729[_0x2ac2b6(0x3f6)][_0x2ac2b6(0x88b)](_0x45c3dd=>_0x45c3dd[_0x2ac2b6(0x882)][_0x2ac2b6(0x2ba)]()===_0x54f0ab);if(!_0x409f45){this[_0x2ac2b6(0x7de)][_0x2ac2b6(0x873)](this[_0x2ac2b6(0x586)]+'\x20('+this[_0x2ac2b6(0x1c1)]['wuid']+_0x2ac2b6(0x359)+_0x54f0ab+_0x2ac2b6(0x503));return;}this[_0x2ac2b6(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x2ac2b6(0x1c1)][_0x2ac2b6(0x360)]+_0x2ac2b6(0x32e)+JSON[_0x2ac2b6(0x524)](_0x409f45));let _0xa78c80=JSON['parse'](JSON[_0x2ac2b6(0x524)](_0x409f45));_0xa78c80['_id']=new pe[(_0x2ac2b6(0x6bc))]['Types']['ObjectId'](),this[_0x2ac2b6(0x7de)][_0x2ac2b6(0x3c2)](this[_0x2ac2b6(0x586)]+'\x20('+this['instance'][_0x2ac2b6(0x360)]+_0x2ac2b6(0x21e)+JSON[_0x2ac2b6(0x524)](_0xa78c80)),_0x337729[_0x2ac2b6(0x3f6)]['push'](_0xa78c80),this[_0x2ac2b6(0x846)](_0x337729['blocks'],_0xa78c80[_0x2ac2b6(0x35b)]);}['throwAndLogError'](_0x342653){const _0x6ff90e=a0_0x13c462;throw this[_0x6ff90e(0x7de)][_0x6ff90e(0x873)](this[_0x6ff90e(0x586)]+'\x20('+this['instance']['wuid']+_0x6ff90e(0x351)+_0x342653),new m(_0x342653);}['deleteBlock'](_0x5973b2,_0xb56b83){const _0x53b5f3=a0_0x13c462;let {block:_0x37656e}=_0xb56b83;if(_0x37656e['type']===_0x53b5f3(0x4b5)){this[_0x53b5f3(0x221)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x37656e[_0x53b5f3(0x882)]){this[_0x53b5f3(0x221)](_0x53b5f3(0x38c));return;}let _0x28c56c=_0x5973b2['blocks'][_0x53b5f3(0x88b)](_0xab5375=>_0xab5375[_0x53b5f3(0x882)]['toString']()===_0xb56b83[_0x53b5f3(0x224)][_0x53b5f3(0x882)][_0x53b5f3(0x2ba)]());if(!_0x28c56c){this[_0x53b5f3(0x221)]('Bloco\x20com\x20ID\x20'+_0x37656e[_0x53b5f3(0x882)]+_0x53b5f3(0x294));return;}_0x5973b2[_0x53b5f3(0x3f6)]=_0x5973b2[_0x53b5f3(0x3f6)][_0x53b5f3(0x843)](_0x268b1c=>_0x268b1c[_0x53b5f3(0x882)][_0x53b5f3(0x2ba)]()!==_0xb56b83[_0x53b5f3(0x224)][_0x53b5f3(0x882)]['toString']()),_0x5973b2[_0x53b5f3(0x845)]=_0x5973b2[_0x53b5f3(0x845)][_0x53b5f3(0x843)](_0x255f04=>_0x255f04[_0x53b5f3(0x240)]!==_0x37656e['_id']['toString']()),_0x5973b2[_0x53b5f3(0x303)]=_0x5973b2[_0x53b5f3(0x303)][_0x53b5f3(0x843)](_0x43e2aa=>_0x43e2aa[_0x53b5f3(0x240)]!==_0x37656e[_0x53b5f3(0x882)]['toString']()),_0x5973b2[_0x53b5f3(0x239)]=_0x5973b2['replyOptions']['filter'](_0x43f26a=>_0x43f26a[_0x53b5f3(0x240)]!==_0x37656e['_id']['toString']()),this[_0x53b5f3(0x846)](_0x5973b2['blocks'],_0x28c56c[_0x53b5f3(0x35b)]);}async[a0_0x13c462(0x139)](_0x30d103,_0x4de2f8){const _0x565db2=a0_0x13c462;let _0x3c7db3=_0x30d103[_0x565db2(0x3f6)][_0x565db2(0x60f)](_0x4a175e=>_0x4a175e[_0x565db2(0x882)][_0x565db2(0x2ba)]()===_0x4de2f8['block']['_id'][_0x565db2(0x2ba)]());if(this[_0x565db2(0x7de)][_0x565db2(0x3c2)](this['instanceName']+'\x20('+this['instance'][_0x565db2(0x360)]+_0x565db2(0x29e)+_0x3c7db3),_0x3c7db3===-0x1){this[_0x565db2(0x7de)][_0x565db2(0x3c2)](_0x565db2(0x26f)+_0x4de2f8[_0x565db2(0x224)][_0x565db2(0x882)]+_0x565db2(0x3b6));return;}if(_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x2b5)]===_0x565db2(0x4b5)){let _0xaf1b76=Object[_0x565db2(0x750)](_0x4de2f8[_0x565db2(0x224)]);if(_0xaf1b76['length']>0x2||_0xaf1b76[_0x565db2(0x1d3)]===0x2&&!_0xaf1b76[_0x565db2(0x50c)](_0x565db2(0x691))){this['throwAndLogError'](_0x565db2(0x595));return;}}let _0x30af6b=_0x30d103['blocks'][_0x3c7db3][_0x565db2(0x35b)];for(let _0x14c7ea in _0x4de2f8[_0x565db2(0x224)])_0x4de2f8[_0x565db2(0x224)][_0x565db2(0x5d5)](_0x14c7ea)&&(_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x14c7ea]=_0x4de2f8[_0x565db2(0x224)][_0x14c7ea]);if(this[_0x565db2(0x7de)][_0x565db2(0x3c2)](this[_0x565db2(0x586)]+'\x20('+this['instance'][_0x565db2(0x360)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x565db2(0x524)](_0x30d103[_0x565db2(0x3f6)][_0x3c7db3])),_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)]&&'header'in _0x30d103[_0x565db2(0x3f6)][_0x3c7db3]['apirequest']){this[_0x565db2(0x7de)][_0x565db2(0x3c2)](this[_0x565db2(0x586)]+'\x20('+this[_0x565db2(0x1c1)]['wuid']+_0x565db2(0x649));let _0x1a2f2c=JSON['stringify'](_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x231)],null,0x1);_0x1a2f2c[_0x565db2(0x1d3)]>0x2&&(_0x1a2f2c=_0x1a2f2c['substring'](0x1,_0x1a2f2c[_0x565db2(0x1d3)]-0x1)[_0x565db2(0x707)]()),_0x30d103['blocks'][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x2ec)]=_0x1a2f2c;}if(_0x30d103['blocks'][_0x3c7db3]['apirequest']&&_0x565db2(0x5de)in _0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)]&&!('bodyString'in _0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)])){this[_0x565db2(0x7de)][_0x565db2(0x3c2)](this['instanceName']+'\x20('+this[_0x565db2(0x1c1)][_0x565db2(0x360)]+_0x565db2(0x7ff)),_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x19f)]=!0x1;let _0x3b6a06=JSON[_0x565db2(0x524)](_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x5de)],null,0x2);_0x30d103[_0x565db2(0x3f6)][_0x3c7db3]['apirequest']['bodyString']=_0x3b6a06;}if(_0x30d103['blocks'][_0x3c7db3][_0x565db2(0x827)]&&'bodyString'in _0x30d103[_0x565db2(0x3f6)][_0x3c7db3]['apirequest']){_0x30d103['blocks'][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x19f)]=!0x1;let _0x1fd46d=_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)][_0x565db2(0x324)],_0x436ceb=this[_0x565db2(0x14f)](_0x1fd46d);_0x30d103[_0x565db2(0x3f6)][_0x3c7db3]['apirequest']['bodyString']=_0x436ceb['result'],_0x30d103[_0x565db2(0x3f6)][_0x3c7db3][_0x565db2(0x827)]['bodyStringErrorParse']=_0x436ceb['error'];}let _0x5e9fd5=_0x30d103[_0x565db2(0x3f6)][_0x3c7db3]['groupId'];_0x30af6b!==_0x5e9fd5?(this[_0x565db2(0x846)](_0x30d103[_0x565db2(0x3f6)],_0x30af6b),this[_0x565db2(0x846)](_0x30d103['blocks'],_0x5e9fd5)):this[_0x565db2(0x846)](_0x30d103[_0x565db2(0x3f6)],_0x30af6b);}[a0_0x13c462(0x14f)](_0xe53176){const _0x55b4a0=a0_0x13c462;let _0x5213b0='\u205f',_0x5b887d=!0x1,_0x5f3f86='';for(let _0x135830=0x0;_0x135830<_0xe53176[_0x55b4a0(0x1d3)];_0x135830++){let _0x479400=_0xe53176[_0x135830];_0x479400==='\x22'&&(_0x135830===0x0||_0xe53176[_0x135830-0x1]!=='\x5c')&&(_0x5b887d=!_0x5b887d),!(!_0x5b887d&&(_0x479400==='\x0a'||_0x479400==='\x20'||_0x479400===_0x5213b0))&&(_0x5f3f86+=_0x479400);}let _0x3717ad={},_0xc2118=9876543210.1234,_0x1a6dc7=_0x5f3f86[_0x55b4a0(0x445)](/\{\{([^}]+)\}\}/g,_0x1d5b6f=>{let _0x535452=_0x1d5b6f,_0x540dc0=''+_0xc2118;return _0x3717ad[_0x540dc0]=_0x535452,_0xc2118+=0.0001,_0x540dc0;}),_0x3fbdac='',_0x545f18=!0x1;try{let _0x4760cc=JSON[_0x55b4a0(0x5a1)](_0x1a6dc7);_0x3fbdac=JSON['stringify'](_0x4760cc,null,0x2),_0x3fbdac=_0x3fbdac[_0x55b4a0(0x445)](/\n( +)/g,(_0x56bf35,_0x2767f6)=>{const _0x498542=_0x55b4a0;let _0x31fb09=_0x2767f6[_0x498542(0x1d3)];return'\x0a'+_0x5213b0[_0x498542(0x4e9)](_0x31fb09*0x2);}),_0x3fbdac=_0x3fbdac[_0x55b4a0(0x445)](/(\d{10,}\.\d+)/g,_0x47ff80=>_0x3717ad[_0x47ff80]||_0x47ff80);}catch(_0x3d7616){this['logger'][_0x55b4a0(0x873)](_0x55b4a0(0x3a4)+_0x3d7616),_0x3fbdac=_0xe53176,_0x545f18=!0x0;}return{'result':_0x3fbdac,'error':_0x545f18};}['addBlock'](_0x59a436,_0xb2ebd){const _0x41d7da=a0_0x13c462;if(_0xb2ebd['block'][_0x41d7da(0x2b5)]===_0x41d7da(0x4b5)){this[_0x41d7da(0x221)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xb2ebd[_0x41d7da(0x224)][_0x41d7da(0x827)]&&_0x41d7da(0x231)in _0xb2ebd[_0x41d7da(0x224)][_0x41d7da(0x827)]){this[_0x41d7da(0x7de)]['verbose'](this[_0x41d7da(0x586)]+'\x20('+this['instance']['wuid']+_0x41d7da(0x649));let _0x54e52a=JSON[_0x41d7da(0x524)](_0xb2ebd['block'][_0x41d7da(0x827)][_0x41d7da(0x231)],null,0x1);_0x54e52a[_0x41d7da(0x1d3)]>0x2&&(_0x54e52a=_0x54e52a['substring'](0x1,_0x54e52a['length']-0x1)['trim']()),_0xb2ebd['block'][_0x41d7da(0x827)][_0x41d7da(0x2ec)]=_0x54e52a;}_0xb2ebd['block'][_0x41d7da(0x827)]&&'body'in _0xb2ebd[_0x41d7da(0x224)][_0x41d7da(0x827)]&&(this[_0x41d7da(0x7de)][_0x41d7da(0x3c2)](this[_0x41d7da(0x586)]+'\x20('+this[_0x41d7da(0x1c1)]['wuid']+_0x41d7da(0x7ff)),_0xb2ebd[_0x41d7da(0x224)][_0x41d7da(0x827)][_0x41d7da(0x324)]=JSON[_0x41d7da(0x524)](_0xb2ebd[_0x41d7da(0x224)][_0x41d7da(0x827)][_0x41d7da(0x5de)],null,0x1)['trim']()),_0x59a436['blocks']['push'](_0xb2ebd[_0x41d7da(0x224)]),this[_0x41d7da(0x846)](_0x59a436[_0x41d7da(0x3f6)],_0xb2ebd['block']['groupId']);}['reorderBlocks'](_0x1a91ce,_0x1a82f8){const _0x2bb3a4=a0_0x13c462;let _0x276133=_0x1a91ce[_0x2bb3a4(0x843)](_0x45d480=>_0x45d480[_0x2bb3a4(0x35b)]===_0x1a82f8);_0x276133[_0x2bb3a4(0x772)]((_0xade8f4,_0x316b6a)=>_0xade8f4[_0x2bb3a4(0x704)]-_0x316b6a['order']),_0x276133[_0x2bb3a4(0x2a0)]((_0x8f263e,_0x5ad89a)=>_0x8f263e[_0x2bb3a4(0x704)]=_0x5ad89a+0x1);}async['editFlowReply'](_0x23404e){const _0x43ea9a=a0_0x13c462;try{if(this['logger']['verbose'](this[_0x43ea9a(0x586)]+'\x20('+this[_0x43ea9a(0x1c1)]['wuid']+_0x43ea9a(0x448)),!_0x23404e||!_0x23404e[_0x43ea9a(0x878)]){this[_0x43ea9a(0x221)](_0x43ea9a(0x7f1));return;}if(!this[_0x43ea9a(0x1cf)][_0x43ea9a(0x1bc)][_0x43ea9a(0x88b)](_0x2de6eb=>_0x2de6eb[_0x43ea9a(0x882)]===_0x23404e['_id']))throw this[_0x43ea9a(0x7de)][_0x43ea9a(0x3c2)](this[_0x43ea9a(0x586)]+'\x20('+this[_0x43ea9a(0x1c1)]['wuid']+_0x43ea9a(0x719)+_0x23404e[_0x43ea9a(0x882)]+_0x43ea9a(0x76e)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x7d64bf=await this[_0x43ea9a(0x59e)][_0x43ea9a(0x5e0)]['findOne']({'where':{'_id':_0x23404e[_0x43ea9a(0x882)]}});if(!_0x7d64bf||!_0x7d64bf[_0x43ea9a(0x5e9)]?.['includes'](this[_0x43ea9a(0x1c1)][_0x43ea9a(0x360)]))throw this['logger'][_0x43ea9a(0x873)](this[_0x43ea9a(0x586)]+'\x20('+this[_0x43ea9a(0x1c1)][_0x43ea9a(0x360)]+_0x43ea9a(0x208)+_0x23404e[_0x43ea9a(0x882)]+_0x43ea9a(0x285)),new m(_0x43ea9a(0x7f2)+_0x23404e[_0x43ea9a(0x882)]+_0x43ea9a(0x285));if(!_0x7d64bf[_0x43ea9a(0x32f)]?.[_0x43ea9a(0x50c)](this[_0x43ea9a(0x1c1)][_0x43ea9a(0x360)]))throw new m(_0x43ea9a(0x865));let {replyOption:_0x2bbf09}=_0x23404e;_0x2bbf09?.['delete']?(this['deleteReplyOption'](_0x7d64bf,_0x23404e),this[_0x43ea9a(0x2d1)](_0x7d64bf['replyOptions'],_0x23404e[_0x43ea9a(0x878)]['blockId'])):_0x2bbf09[_0x43ea9a(0x882)]?(await this['updateReplyOption'](_0x7d64bf,_0x23404e),this[_0x43ea9a(0x2d1)](_0x7d64bf[_0x43ea9a(0x239)],_0x23404e[_0x43ea9a(0x878)][_0x43ea9a(0x240)])):(this[_0x43ea9a(0x623)](_0x7d64bf,_0x23404e),this['reorderReplyOptions'](_0x7d64bf[_0x43ea9a(0x239)],_0x23404e['replyOption']['blockId']));let _0x26a7e7=await this['repository'][_0x43ea9a(0x5e0)][_0x43ea9a(0x176)](_0x7d64bf[_0x43ea9a(0x882)],_0x7d64bf);if(!_0x26a7e7)throw new Error(_0x43ea9a(0x7c7));return _0x26a7e7;}catch(_0x582106){this[_0x43ea9a(0x221)](_0x43ea9a(0x710)+_0x582106);}}['reorderReplyOptions'](_0x4204f1,_0x1846f4){const _0x10663c=a0_0x13c462;_0x4204f1[_0x10663c(0x2a0)](_0xcb773d=>{const _0x61f38d=_0x10663c;_0xcb773d[_0x61f38d(0x240)]===_0x1846f4&&_0xcb773d[_0x61f38d(0x704)]===void 0x0&&(_0xcb773d[_0x61f38d(0x704)]=0x270f);});let _0x123fca=_0x4204f1[_0x10663c(0x843)](_0x23c108=>_0x23c108[_0x10663c(0x240)]===_0x1846f4);_0x123fca[_0x10663c(0x772)]((_0x518e49,_0x2602b0)=>_0x518e49[_0x10663c(0x704)]-_0x2602b0[_0x10663c(0x704)]),_0x123fca[_0x10663c(0x2a0)]((_0x4df0a2,_0x290ba5)=>{const _0x335542=_0x10663c;_0x4df0a2[_0x335542(0x704)]=_0x290ba5+0x1;}),_0x4204f1[_0x10663c(0x2a0)](_0x549092=>{const _0x673585=_0x10663c;if(_0x549092['blockId']===_0x1846f4){let _0x327fa2=_0x123fca[_0x673585(0x88b)](_0x476ff8=>_0x476ff8[_0x673585(0x882)]&&_0x549092[_0x673585(0x882)]&&_0x476ff8[_0x673585(0x882)]['toString']()===_0x549092[_0x673585(0x882)][_0x673585(0x2ba)]());_0x327fa2&&(_0x549092[_0x673585(0x704)]=_0x327fa2[_0x673585(0x704)]);}});}[a0_0x13c462(0x36f)](_0x46b363,_0x2d28c7){const _0xdebe8=a0_0x13c462;let {replyOption:_0x214480}=_0x2d28c7;if(!_0x214480[_0xdebe8(0x882)]){this[_0xdebe8(0x221)](_0xdebe8(0x752));return;}if(!_0x46b363[_0xdebe8(0x239)][_0xdebe8(0x88b)](_0x4a5dae=>_0x4a5dae[_0xdebe8(0x882)][_0xdebe8(0x2ba)]()===_0x2d28c7[_0xdebe8(0x878)][_0xdebe8(0x882)][_0xdebe8(0x2ba)]())){this[_0xdebe8(0x221)](_0xdebe8(0x2e4)+_0x214480[_0xdebe8(0x882)]+'\x20não\x20encontrado');return;}_0x46b363[_0xdebe8(0x239)]=_0x46b363[_0xdebe8(0x239)][_0xdebe8(0x843)](_0x225154=>_0x225154['_id'][_0xdebe8(0x2ba)]()!==_0x2d28c7[_0xdebe8(0x878)][_0xdebe8(0x882)][_0xdebe8(0x2ba)]());}async[a0_0x13c462(0x7ea)](_0x3b810d,_0x38b0b2){const _0x8857bb=a0_0x13c462;let _0x1f51b3=_0x3b810d['replyOptions'][_0x8857bb(0x60f)](_0x321424=>_0x321424[_0x8857bb(0x882)][_0x8857bb(0x2ba)]()===_0x38b0b2[_0x8857bb(0x878)][_0x8857bb(0x882)][_0x8857bb(0x2ba)]());if(_0x1f51b3===-0x1){this[_0x8857bb(0x221)](_0x8857bb(0x2e4)+_0x38b0b2['replyOption']['_id']+_0x8857bb(0x3b6));return;}for(let _0x2dc53e in _0x38b0b2[_0x8857bb(0x878)])_0x38b0b2[_0x8857bb(0x878)][_0x8857bb(0x5d5)](_0x2dc53e)&&(_0x3b810d[_0x8857bb(0x239)][_0x1f51b3][_0x2dc53e]=_0x38b0b2[_0x8857bb(0x878)][_0x2dc53e]);}[a0_0x13c462(0x623)](_0x498c02,_0x243510){const _0x59442e=a0_0x13c462;_0x498c02[_0x59442e(0x239)]['push'](_0x243510[_0x59442e(0x878)]);}async[a0_0x13c462(0x1aa)](_0x3a7580){const _0x520fe3=a0_0x13c462;this[_0x520fe3(0x7de)][_0x520fe3(0x3c2)](this['instanceName']+'\x20('+this[_0x520fe3(0x1c1)][_0x520fe3(0x360)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x520fe3(0x524)](_0x3a7580,null,0x2));try{if(this[_0x520fe3(0x7de)][_0x520fe3(0x3c2)](this[_0x520fe3(0x586)]+'\x20('+this['instance'][_0x520fe3(0x360)]+_0x520fe3(0x235)),!this['AutomateSystem'][_0x520fe3(0x1bc)][_0x520fe3(0x88b)](_0x30f39a=>_0x30f39a['_id']===_0x3a7580['_id']))throw this[_0x520fe3(0x7de)][_0x520fe3(0x3c2)](this[_0x520fe3(0x586)]+'\x20('+this[_0x520fe3(0x1c1)][_0x520fe3(0x360)]+_0x520fe3(0x719)+_0x3a7580[_0x520fe3(0x882)]+_0x520fe3(0x76e)),new m(_0x520fe3(0x66e));let _0x13cb29=await this[_0x520fe3(0x59e)][_0x520fe3(0x5e0)][_0x520fe3(0x4cd)]({'where':{'_id':_0x3a7580[_0x520fe3(0x882)]}});if(!_0x13cb29||!_0x13cb29[_0x520fe3(0x5e9)]?.[_0x520fe3(0x50c)](this['instance'][_0x520fe3(0x360)]))throw this[_0x520fe3(0x7de)][_0x520fe3(0x873)](this[_0x520fe3(0x586)]+'\x20('+this[_0x520fe3(0x1c1)][_0x520fe3(0x360)]+'):\x20Flow\x20\x27'+_0x3a7580['_id']+_0x520fe3(0x285)),new m(_0x520fe3(0x7f2)+_0x3a7580[_0x520fe3(0x882)]+_0x520fe3(0x285));if(!_0x13cb29[_0x520fe3(0x32f)]?.['includes'](this[_0x520fe3(0x1c1)][_0x520fe3(0x360)]))throw new m(_0x520fe3(0x865));if(_0x3a7580[_0x520fe3(0x893)]&&_0x3a7580[_0x520fe3(0x893)]?.[_0x520fe3(0x634)]===!0x0){if(this[_0x520fe3(0x7de)][_0x520fe3(0x3c2)](this[_0x520fe3(0x586)]+'\x20('+this['instance'][_0x520fe3(0x360)]+_0x520fe3(0x6de)),_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x6bc)]===!0x0)return{'message':_0x520fe3(0x451)};if(_0x13cb29[_0x520fe3(0x3f6)]['some'](_0x3c7d0d=>_0x3c7d0d[_0x520fe3(0x35b)]['toString']()===_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x882)]))return this[_0x520fe3(0x7de)][_0x520fe3(0x3c2)](this['instanceName']+'\x20('+this[_0x520fe3(0x1c1)][_0x520fe3(0x360)]+'):\x20tem\x20blocks'),{'message':_0x520fe3(0x603)};_0x13cb29[_0x520fe3(0x5f4)]=_0x13cb29[_0x520fe3(0x5f4)]['filter'](_0x63b9a8=>_0x63b9a8[_0x520fe3(0x882)][_0x520fe3(0x2ba)]()!==_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x882)]);}else{if(_0x3a7580[_0x520fe3(0x893)]){if(_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x6bc)]===!0x0)return{'message':_0x520fe3(0x8b6)};if(_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x882)]){let _0x19241b=_0x13cb29['groups'][_0x520fe3(0x88b)](_0x5c6d25=>_0x5c6d25[_0x520fe3(0x882)][_0x520fe3(0x2ba)]()===_0x3a7580[_0x520fe3(0x893)][_0x520fe3(0x882)]);_0x19241b&&(_0x3a7580[_0x520fe3(0x893)]['x']<0x0&&(_0x3a7580[_0x520fe3(0x893)]['x']=0x0),_0x3a7580[_0x520fe3(0x893)]['y']<0x0&&(_0x3a7580[_0x520fe3(0x893)]['y']=0x0),Object[_0x520fe3(0x5c4)](_0x19241b,_0x3a7580[_0x520fe3(0x893)]));}else _0x13cb29[_0x520fe3(0x5f4)]['push'](_0x3a7580['group']);}}let _0x2dff60=await this[_0x520fe3(0x59e)]['flow'][_0x520fe3(0x176)](_0x13cb29['_id'],_0x13cb29);if(!_0x2dff60)throw new Error(_0x520fe3(0x7c7));return _0x2dff60;}catch(_0x11c58a){let _0x40e539='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x3c49a1=_0x11c58a instanceof Error?_0x11c58a[_0x520fe3(0x7d2)]:typeof _0x11c58a==_0x520fe3(0x50b)?JSON['stringify'](_0x11c58a):_0x11c58a,_0x215e05=_0x40e539+':\x20'+_0x3c49a1;throw this[_0x520fe3(0x7de)]['error'](this['instanceName']+'\x20('+this['instance'][_0x520fe3(0x360)]+'):\x20'+_0x215e05),new m(_0x215e05);}}async[a0_0x13c462(0x3b5)](_0x1afc90){const _0x1ea7b9=a0_0x13c462;try{if(this[_0x1ea7b9(0x7de)][_0x1ea7b9(0x3c2)](this[_0x1ea7b9(0x586)]+'\x20('+this[_0x1ea7b9(0x1c1)][_0x1ea7b9(0x360)]+_0x1ea7b9(0x276)),!this[_0x1ea7b9(0x1cf)][_0x1ea7b9(0x1bc)][_0x1ea7b9(0x88b)](_0x5df1fd=>_0x5df1fd[_0x1ea7b9(0x882)]===_0x1afc90[_0x1ea7b9(0x882)]))throw this['logger']['verbose'](this[_0x1ea7b9(0x586)]+'\x20('+this[_0x1ea7b9(0x1c1)]['wuid']+_0x1ea7b9(0x719)+_0x1afc90[_0x1ea7b9(0x882)]+_0x1ea7b9(0x76e)),new m(_0x1ea7b9(0x66e));let _0x2db97d=await this[_0x1ea7b9(0x59e)][_0x1ea7b9(0x5e0)][_0x1ea7b9(0x4cd)]({'where':{'_id':_0x1afc90[_0x1ea7b9(0x882)]}});if(!_0x2db97d||!_0x2db97d[_0x1ea7b9(0x5e9)]?.['includes'](this['instance'][_0x1ea7b9(0x360)]))throw this[_0x1ea7b9(0x7de)][_0x1ea7b9(0x873)](this[_0x1ea7b9(0x586)]+'\x20('+this['instance'][_0x1ea7b9(0x360)]+_0x1ea7b9(0x208)+_0x1afc90[_0x1ea7b9(0x882)]+_0x1ea7b9(0x285)),new m(_0x1ea7b9(0x7f2)+_0x1afc90[_0x1ea7b9(0x882)]+_0x1ea7b9(0x285));if(!_0x2db97d[_0x1ea7b9(0x32f)]?.['includes'](this[_0x1ea7b9(0x1c1)][_0x1ea7b9(0x360)]))throw new m(_0x1ea7b9(0x865));let _0x6ef158=!0x1;if(_0x1afc90[_0x1ea7b9(0x5ef)]?.[_0x1ea7b9(0x634)]===!0x0)_0x2db97d[_0x1ea7b9(0x845)]=_0x2db97d[_0x1ea7b9(0x845)][_0x1ea7b9(0x843)](_0x1f8fbd=>_0x1f8fbd&&_0x1afc90[_0x1ea7b9(0x5ef)]&&_0x1f8fbd[_0x1ea7b9(0x882)]&&_0x1afc90[_0x1ea7b9(0x5ef)]['_id']&&_0x1f8fbd[_0x1ea7b9(0x882)][_0x1ea7b9(0x2ba)]()!==_0x1afc90[_0x1ea7b9(0x5ef)]['_id'][_0x1ea7b9(0x2ba)]()),_0x6ef158=!0x0;else{let _0x76f06d=_0x2db97d[_0x1ea7b9(0x845)][_0x1ea7b9(0x88b)](_0x4a3695=>_0x4a3695&&_0x1afc90[_0x1ea7b9(0x5ef)]&&_0x4a3695[_0x1ea7b9(0x882)]&&_0x1afc90['condition'][_0x1ea7b9(0x882)]&&_0x4a3695[_0x1ea7b9(0x882)][_0x1ea7b9(0x2ba)]()===_0x1afc90['condition'][_0x1ea7b9(0x882)]['toString']());_0x76f06d?(_0x6ef158=_0x76f06d[_0x1ea7b9(0x704)]!==_0x1afc90[_0x1ea7b9(0x5ef)][_0x1ea7b9(0x704)],Object[_0x1ea7b9(0x5c4)](_0x76f06d,_0x1afc90[_0x1ea7b9(0x5ef)])):(_0x2db97d['conditions'][_0x1ea7b9(0x438)](_0x1afc90[_0x1ea7b9(0x5ef)]),_0x6ef158=!0x0);}if(_0x6ef158){_0x2db97d[_0x1ea7b9(0x845)][_0x1ea7b9(0x772)]((_0x2d3020,_0x195c23)=>_0x2d3020[_0x1ea7b9(0x704)]>_0x195c23[_0x1ea7b9(0x704)]?0x1:_0x195c23[_0x1ea7b9(0x704)]>_0x2d3020[_0x1ea7b9(0x704)]?-0x1:0x0);for(let _0x595a53=0x0;_0x595a53<_0x2db97d['conditions'][_0x1ea7b9(0x1d3)];_0x595a53++)_0x2db97d[_0x1ea7b9(0x845)][_0x595a53][_0x1ea7b9(0x704)]=_0x595a53+0x1;_0x2db97d['conditions'][_0x1ea7b9(0x1d3)]>0x0&&(_0x2db97d[_0x1ea7b9(0x845)][0x0][_0x1ea7b9(0x14c)]=_0x1ea7b9(0x2c1));}let _0xbc383e=await this[_0x1ea7b9(0x59e)][_0x1ea7b9(0x5e0)][_0x1ea7b9(0x176)](_0x2db97d[_0x1ea7b9(0x882)],_0x2db97d);if(!_0xbc383e)throw new Error(_0x1ea7b9(0x7c7));return _0xbc383e;}catch(_0x2fed1c){let _0x2a3c04='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x146046=_0x2fed1c instanceof Error?_0x2fed1c[_0x1ea7b9(0x7d2)]:typeof _0x2fed1c==_0x1ea7b9(0x50b)?JSON['stringify'](_0x2fed1c):_0x2fed1c,_0x2a07ae=_0x2a3c04+':\x20'+_0x146046;throw this[_0x1ea7b9(0x7de)][_0x1ea7b9(0x873)](this[_0x1ea7b9(0x586)]+'\x20('+this[_0x1ea7b9(0x1c1)][_0x1ea7b9(0x360)]+_0x1ea7b9(0x351)+_0x2a07ae),new m(_0x2a07ae);}}async['editFlowVaredit'](_0x1777fb){const _0x2ef49b=a0_0x13c462;try{if(this[_0x2ef49b(0x7de)][_0x2ef49b(0x3c2)](this[_0x2ef49b(0x586)]+'\x20('+this[_0x2ef49b(0x1c1)][_0x2ef49b(0x360)]+_0x2ef49b(0x137)),!this['AutomateSystem'][_0x2ef49b(0x1bc)][_0x2ef49b(0x88b)](_0x74c212=>_0x74c212[_0x2ef49b(0x882)]===_0x1777fb[_0x2ef49b(0x882)]))throw this['logger'][_0x2ef49b(0x3c2)](this['instanceName']+'\x20('+this[_0x2ef49b(0x1c1)][_0x2ef49b(0x360)]+'):\x20Fluxo\x20\x27'+_0x1777fb[_0x2ef49b(0x882)]+'\x27\x20não\x20encontrado'),new m(_0x2ef49b(0x66e));let _0xa3ef3=await this[_0x2ef49b(0x59e)][_0x2ef49b(0x5e0)][_0x2ef49b(0x4cd)]({'where':{'_id':_0x1777fb[_0x2ef49b(0x882)]}});if(!_0xa3ef3||!_0xa3ef3[_0x2ef49b(0x5e9)]?.['includes'](this[_0x2ef49b(0x1c1)][_0x2ef49b(0x360)]))throw this[_0x2ef49b(0x7de)]['error'](this[_0x2ef49b(0x586)]+'\x20('+this[_0x2ef49b(0x1c1)]['wuid']+_0x2ef49b(0x208)+_0x1777fb[_0x2ef49b(0x882)]+_0x2ef49b(0x285)),new m('Flow\x20\x27'+_0x1777fb[_0x2ef49b(0x882)]+_0x2ef49b(0x285));if(!_0xa3ef3['whoCanEdit']?.['includes'](this[_0x2ef49b(0x1c1)][_0x2ef49b(0x360)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x32c611=!0x1;if(_0x1777fb['varedit']?.['delete']===!0x0)_0xa3ef3[_0x2ef49b(0x303)]=_0xa3ef3[_0x2ef49b(0x303)]['filter'](_0x114caf=>_0x114caf&&_0x1777fb[_0x2ef49b(0x4ea)]&&_0x114caf[_0x2ef49b(0x882)]&&_0x1777fb[_0x2ef49b(0x4ea)][_0x2ef49b(0x882)]&&_0x114caf[_0x2ef49b(0x882)][_0x2ef49b(0x2ba)]()!==_0x1777fb['varedit'][_0x2ef49b(0x882)][_0x2ef49b(0x2ba)]()),_0x32c611=!0x0;else{let _0x2c16da=_0xa3ef3[_0x2ef49b(0x303)][_0x2ef49b(0x88b)](_0x11caf0=>_0x11caf0&&_0x1777fb[_0x2ef49b(0x4ea)]&&_0x11caf0[_0x2ef49b(0x882)]&&_0x1777fb[_0x2ef49b(0x4ea)][_0x2ef49b(0x882)]&&_0x11caf0[_0x2ef49b(0x882)][_0x2ef49b(0x2ba)]()===_0x1777fb[_0x2ef49b(0x4ea)]['_id']['toString']());_0x2c16da?(_0x32c611=_0x2c16da[_0x2ef49b(0x704)]!==_0x1777fb[_0x2ef49b(0x4ea)][_0x2ef49b(0x704)],Object[_0x2ef49b(0x5c4)](_0x2c16da,_0x1777fb[_0x2ef49b(0x4ea)])):(_0xa3ef3['varedits']['push'](_0x1777fb['varedit']),_0x32c611=!0x0);}if(_0x32c611){_0xa3ef3['varedits'][_0x2ef49b(0x772)]((_0x423d1a,_0x17d166)=>_0x423d1a[_0x2ef49b(0x704)]>_0x17d166[_0x2ef49b(0x704)]?0x1:_0x17d166[_0x2ef49b(0x704)]>_0x423d1a['order']?-0x1:0x0);for(let _0x45a005=0x0;_0x45a005<_0xa3ef3[_0x2ef49b(0x303)]['length'];_0x45a005++)_0xa3ef3[_0x2ef49b(0x303)][_0x45a005][_0x2ef49b(0x704)]=_0x45a005+0x1;}let _0xbdce44=await this[_0x2ef49b(0x59e)][_0x2ef49b(0x5e0)][_0x2ef49b(0x176)](_0xa3ef3['_id'],_0xa3ef3);if(!_0xbdce44)throw new Error(_0x2ef49b(0x7c7));return _0xbdce44;}catch(_0x1cd31a){let _0x190fcc=_0x2ef49b(0x172),_0x1d64cd=_0x1cd31a instanceof Error?_0x1cd31a[_0x2ef49b(0x7d2)]:typeof _0x1cd31a==_0x2ef49b(0x50b)?JSON[_0x2ef49b(0x524)](_0x1cd31a):_0x1cd31a,_0x320793=_0x190fcc+':\x20'+_0x1d64cd;throw this['logger']['error'](this[_0x2ef49b(0x586)]+'\x20('+this[_0x2ef49b(0x1c1)][_0x2ef49b(0x360)]+_0x2ef49b(0x351)+_0x320793),new m(_0x320793);}}async[a0_0x13c462(0x365)](_0x15d9c4){const _0x3465cb=a0_0x13c462;try{if(this[_0x3465cb(0x7de)][_0x3465cb(0x3c2)](this[_0x3465cb(0x586)]+'\x20('+this['instance'][_0x3465cb(0x360)]+_0x3465cb(0x5c7)),!this[_0x3465cb(0x1cf)][_0x3465cb(0x1bc)][_0x3465cb(0x88b)](_0x318ef3=>_0x318ef3['_id']===_0x15d9c4['_id']))throw this[_0x3465cb(0x7de)][_0x3465cb(0x3c2)](this[_0x3465cb(0x586)]+'\x20('+this[_0x3465cb(0x1c1)][_0x3465cb(0x360)]+_0x3465cb(0x719)+_0x15d9c4['_id']+_0x3465cb(0x76e)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4470e9=await this[_0x3465cb(0x59e)][_0x3465cb(0x5e0)][_0x3465cb(0x4cd)]({'where':{'_id':_0x15d9c4[_0x3465cb(0x882)]}});if(!_0x4470e9||!_0x4470e9[_0x3465cb(0x5e9)]?.['includes'](this[_0x3465cb(0x1c1)][_0x3465cb(0x360)]))throw this['logger'][_0x3465cb(0x873)](this['instanceName']+'\x20('+this['instance'][_0x3465cb(0x360)]+_0x3465cb(0x208)+_0x15d9c4[_0x3465cb(0x882)]+_0x3465cb(0x285)),new m(_0x3465cb(0x7f2)+_0x15d9c4[_0x3465cb(0x882)]+_0x3465cb(0x285));if(!_0x4470e9[_0x3465cb(0x32f)]?.[_0x3465cb(0x50c)](this[_0x3465cb(0x1c1)]['wuid']))throw new m(_0x3465cb(0x865));_0x15d9c4[_0x3465cb(0x20e)]['name']=_0x15d9c4['variable'][_0x3465cb(0x42b)][_0x3465cb(0x707)](),_0x15d9c4[_0x3465cb(0x20e)]['name'][_0x3465cb(0x51d)]('_')&&(_0x15d9c4[_0x3465cb(0x20e)][_0x3465cb(0x42b)]=_0x15d9c4[_0x3465cb(0x20e)][_0x3465cb(0x42b)][_0x3465cb(0x479)](0x1)),_0x15d9c4[_0x3465cb(0x20e)]['name']=_0x15d9c4[_0x3465cb(0x20e)][_0x3465cb(0x42b)][_0x3465cb(0x707)]();let _0x1887ea=_0x4470e9[_0x3465cb(0x1d1)]['find'](_0x1bd4a1=>_0x1bd4a1[_0x3465cb(0x42b)]===_0x15d9c4[_0x3465cb(0x20e)][_0x3465cb(0x42b)]);if(_0x1887ea?.[_0x3465cb(0x8c0)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x15d9c4[_0x3465cb(0x20e)]?.['delete']===!0x0){if(!_0x1887ea)return{'message':'Variável\x20não\x20encontrada!'};_0x4470e9[_0x3465cb(0x1d1)]=_0x4470e9[_0x3465cb(0x1d1)][_0x3465cb(0x843)](_0x2a3e9b=>_0x2a3e9b[_0x3465cb(0x42b)]!==_0x15d9c4[_0x3465cb(0x20e)][_0x3465cb(0x42b)]);}else _0x1887ea?Object[_0x3465cb(0x5c4)](_0x1887ea,_0x15d9c4[_0x3465cb(0x20e)]):_0x4470e9[_0x3465cb(0x1d1)][_0x3465cb(0x438)](_0x15d9c4[_0x3465cb(0x20e)]);let _0x49d2dd=await this[_0x3465cb(0x59e)]['flow']['updateOne'](_0x4470e9[_0x3465cb(0x882)],_0x4470e9);if(!_0x49d2dd)throw new Error(_0x3465cb(0x7c7));return _0x49d2dd;}catch(_0x269490){let _0x1edde8=_0x3465cb(0x3d3),_0x5d5796=_0x269490 instanceof Error?_0x269490[_0x3465cb(0x7d2)]:typeof _0x269490=='object'?JSON[_0x3465cb(0x524)](_0x269490):_0x269490,_0xf2a83e=_0x1edde8+':\x20'+_0x5d5796;throw this[_0x3465cb(0x7de)][_0x3465cb(0x873)](this[_0x3465cb(0x586)]+'\x20('+this['instance'][_0x3465cb(0x360)]+_0x3465cb(0x351)+_0xf2a83e),new m(_0xf2a83e);}}async[a0_0x13c462(0x282)](_0xf7a1b9){const _0x4a457d=a0_0x13c462;let _0x31f684=null;try{if(!this[_0x4a457d(0x1cf)]?.[_0x4a457d(0x899)][_0x4a457d(0x245)])throw new m(_0x4a457d(0x5f0));this['logger'][_0x4a457d(0x3c2)](this[_0x4a457d(0x586)]+'\x20('+this[_0x4a457d(0x1c1)]['wuid']+_0x4a457d(0x85f));let _0x650549=(await this[_0x4a457d(0x1de)]({'numbers':[_0xf7a1b9[_0x4a457d(0x3aa)]]}))[0x0];if(!_0x650549[_0x4a457d(0x534)]&&!(0x0,w['isJidGroup'])(_0x650549['jid'])&&!_0x650549['jid'][_0x4a457d(0x50c)]('@broadcast'))throw _0x31f684=JSON[_0x4a457d(0x524)](_0x650549,null,0x2),new m(_0x650549);let _0x45b56a;if(_0xf7a1b9[_0x4a457d(0x42b)][_0x4a457d(0x1d3)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x4a457d(0x804)](_0xf7a1b9['name'])?_0x45b56a=this[_0x4a457d(0x1cf)]['flows'][_0x4a457d(0x88b)](_0x4e633b=>_0x4e633b[_0x4a457d(0x882)]===_0xf7a1b9['name']):_0x45b56a=this['AutomateSystem'][_0x4a457d(0x1bc)][_0x4a457d(0x88b)](_0x354bcf=>_0x354bcf['name']===_0xf7a1b9['name']),!_0x45b56a)throw this[_0x4a457d(0x7de)][_0x4a457d(0x3c2)](this[_0x4a457d(0x586)]+'\x20('+this[_0x4a457d(0x1c1)][_0x4a457d(0x360)]+_0x4a457d(0x719)+_0xf7a1b9[_0x4a457d(0x42b)]+_0x4a457d(0x76e)),new m(_0x4a457d(0x66e));let _0x21e7d3=await this[_0x4a457d(0x59e)][_0x4a457d(0x5e0)][_0x4a457d(0x4cd)]({'where':{'_id':_0x45b56a['_id']}});if(!_0x21e7d3||!_0x21e7d3['whoCanUse']?.[_0x4a457d(0x50c)](this[_0x4a457d(0x1c1)][_0x4a457d(0x360)]))throw this[_0x4a457d(0x7de)][_0x4a457d(0x873)](this[_0x4a457d(0x586)]+'\x20('+this['instance'][_0x4a457d(0x360)]+_0x4a457d(0x208)+_0x45b56a[_0x4a457d(0x882)]+_0x4a457d(0x285)),_0x31f684=_0x4a457d(0x7f2)+_0x45b56a['_id']+_0x4a457d(0x285),new m(_0x31f684);let _0x4a1943=await this[_0x4a457d(0x179)](_0x21e7d3,_0x650549['jid'],_0xf7a1b9['changeVariables']);if(_0x4a1943){this[_0x4a457d(0x7de)]['verbose'](this[_0x4a457d(0x586)]+'\x20('+this[_0x4a457d(0x1c1)][_0x4a457d(0x360)]+_0x4a457d(0x687));let _0x554532=await this[_0x4a457d(0x28a)](_0x4a1943);return _0x554532&&await this[_0x4a457d(0x75b)](_0x4a1943,_0x554532),{'message':_0x4a457d(0x19a)+_0xf7a1b9['remoteJid']};}}catch(_0x5a8bf7){if(this['logger'][_0x4a457d(0x873)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x5a8bf7 instanceof Error?_0x5a8bf7[_0x4a457d(0x7d2)]:JSON[_0x4a457d(0x524)](_0x5a8bf7,null,0x2))),_0x31f684=_0x5a8bf7 instanceof Error?_0x5a8bf7['message']:JSON[_0x4a457d(0x524)](_0x5a8bf7,null,0x2),_0x31f684)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x31f684);}}async[a0_0x13c462(0x6d5)](_0x56457f,_0x6c1b3d,_0x443dab){const _0x1acaad=a0_0x13c462;let _0x4577f8=null;try{if(!this[_0x1acaad(0x1cf)]?.[_0x1acaad(0x899)]['enabled'])throw new m(_0x1acaad(0x5f0));if(this['logger'][_0x1acaad(0x3c2)](this['instanceName']+'\x20('+this[_0x1acaad(0x1c1)]['wuid']+_0x1acaad(0x85f)),_0x6c1b3d){let _0x4e1219=(await this[_0x1acaad(0x1de)]({'numbers':[_0x6c1b3d]}))[0x0];if(!_0x4e1219['exists']&&!(0x0,w[_0x1acaad(0x2ea)])(_0x4e1219[_0x1acaad(0x6f6)])&&!_0x4e1219[_0x1acaad(0x6f6)]['includes']('@broadcast'))throw _0x4577f8=JSON[_0x1acaad(0x524)](_0x4e1219,null,0x2),new m(_0x4e1219);_0x6c1b3d=_0x4e1219[_0x1acaad(0x6f6)];}else _0x6c1b3d||(_0x6c1b3d=(0x0,Q['v4'])());let _0xfe96c6=await this[_0x1acaad(0x59e)][_0x1acaad(0x5e0)][_0x1acaad(0x4cd)]({'where':{'_id':_0x56457f}});if(!_0xfe96c6||!_0xfe96c6[_0x1acaad(0x5e9)]?.[_0x1acaad(0x50c)](this[_0x1acaad(0x1c1)]['wuid']))throw this['logger']['error'](this[_0x1acaad(0x586)]+'\x20('+this[_0x1acaad(0x1c1)][_0x1acaad(0x360)]+_0x1acaad(0x208)+_0x56457f+_0x1acaad(0x285)),new m(_0x1acaad(0x7f2)+_0x56457f+_0x1acaad(0x285));let _0x11be4a=await this[_0x1acaad(0x179)](_0xfe96c6,_0x6c1b3d,null);if(_0x11be4a){this['logger'][_0x1acaad(0x3c2)](this['instanceName']+'\x20('+this[_0x1acaad(0x1c1)][_0x1acaad(0x360)]+_0x1acaad(0x80b));let _0x2e565a;if(_0x443dab){let _0x2fcf2f=_0x11be4a[_0x1acaad(0x227)][_0x1acaad(0x81b)],_0x385361=this[_0x1acaad(0x32c)](_0x443dab);Object[_0x1acaad(0x5c4)](_0x2fcf2f,_0x385361),_0x11be4a[_0x1acaad(0x227)][_0x1acaad(0x81b)]=_0x2fcf2f,_0x2e565a={'error':!0x1,'apiResponse':_0x443dab};}let _0x1c1270=await this[_0x1acaad(0x28a)](_0x11be4a);return _0x1c1270&&await this[_0x1acaad(0x75b)](_0x11be4a,_0x1c1270),{'message':_0x1acaad(0x1f3)};}}catch(_0x4a3713){if(this['logger']['error'](this[_0x1acaad(0x586)]+'\x20('+this[_0x1acaad(0x1c1)][_0x1acaad(0x360)]+_0x1acaad(0x83f)+(_0x4a3713 instanceof Error?_0x4a3713[_0x1acaad(0x7d2)]:JSON[_0x1acaad(0x524)](_0x4a3713,null,0x2))),_0x4577f8=_0x4a3713 instanceof Error?_0x4a3713[_0x1acaad(0x7d2)]:JSON[_0x1acaad(0x524)](_0x4a3713,null,0x2),_0x4577f8)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x4577f8);}}async[a0_0x13c462(0x2d3)](_0x469d4a){const _0x5e74da=a0_0x13c462;try{let _0x371e91={'remoteJid':_0x469d4a,'status':_0x5e74da(0x185)},_0x561583={'status':_0x5e74da(0x468)},_0x7bc786=await this[_0x5e74da(0x59e)][_0x5e74da(0x436)][_0x5e74da(0x832)](_0x371e91,_0x561583,this['instance'][_0x5e74da(0x360)]);return this['logger'][_0x5e74da(0x3c2)](this['instanceName']+'\x20('+this[_0x5e74da(0x1c1)][_0x5e74da(0x360)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x7bc786;}catch(_0x4d6a54){throw this['logger'][_0x5e74da(0x873)](this[_0x5e74da(0x586)]+'\x20('+this['instance'][_0x5e74da(0x360)]+_0x5e74da(0x247)+_0x4d6a54[_0x5e74da(0x7d2)]),_0x4d6a54;}}async[a0_0x13c462(0x179)](_0x5f0022,_0x399121,_0x51e4af){const _0x4e2185=a0_0x13c462;this['logger'][_0x4e2185(0x3c2)](this[_0x4e2185(0x586)]+'\x20('+this['instance'][_0x4e2185(0x360)]+_0x4e2185(0x3e4)),await this[_0x4e2185(0x2d3)](_0x399121);try{let _0x401804=require(_0x4e2185(0x6a1))['ObjectId'],_0x297dd5=Date['now'](),_0x1f6aa9='start',_0x311d90={},_0x4771a9={},_0x59ea03=this['AutomateSystem']['flows'][_0x4e2185(0x88b)](_0x511484=>_0x511484['_id']===_0x5f0022['_id']?.[_0x4e2185(0x2ba)]()),_0x32d860=_0x59ea03?.[_0x4e2185(0x669)]??_0x5f0022[_0x4e2185(0x669)]??0x0,_0x2ef02e=_0x59ea03?.[_0x4e2185(0x4f1)]??_0x5f0022[_0x4e2185(0x4f1)]??!0x1,_0x2fba79={'flowId':_0x5f0022[_0x4e2185(0x882)],..._0x5f0022,'chatLog':null},_0x4d62f4=await this[_0x4e2185(0x77b)](_0x2fba79[_0x4e2185(0x1d1)]),_0x53f6f0=await this[_0x4e2185(0x7a6)](_0x399121),_0xd8039f={..._0x4d62f4,..._0x53f6f0,'_remoteJid':_0x399121},_0xc27e49={'lastReceivedMessage':_0x311d90,'lastSendMessage':_0x4771a9,'lastBlockId':_0x1f6aa9,'lastCondition':!0x0,'realVariables':_0xd8039f};_0x2fba79[_0x4e2185(0x227)]=_0xc27e49,_0x2fba79[_0x4e2185(0x227)]['realVariables']={..._0xd8039f,..._0x51e4af},delete _0x2fba79[_0x4e2185(0x882)],_0x2fba79['_id']=new _0x401804(),_0x2fba79[_0x4e2185(0x270)]=_0x297dd5,_0x2fba79[_0x4e2185(0x22e)]=_0x4e2185(0x185),_0x2fba79[_0x4e2185(0x3aa)]=_0x399121,_0x2fba79[_0x4e2185(0x669)]=_0x32d860,_0x2fba79[_0x4e2185(0x4f1)]=_0x2ef02e,_0x2fba79[_0x4e2185(0x882)]=_0x5f0022[_0x4e2185(0x882)];let _0xc7ec7a=await this[_0x4e2185(0x59e)]['flowConversation']['updateOne'](_0x2fba79[_0x4e2185(0x882)],_0x2fba79,this[_0x4e2185(0x1c1)][_0x4e2185(0x360)]);return this['logger'][_0x4e2185(0x3c2)](this[_0x4e2185(0x586)]+'\x20('+this[_0x4e2185(0x1c1)][_0x4e2185(0x360)]+_0x4e2185(0x4da)),_0xc7ec7a?_0x2fba79:null;}catch(_0x5980f4){let _0x335929=_0x4e2185(0x4f9),_0x54609b=_0x5980f4 instanceof Error?_0x5980f4[_0x4e2185(0x7d2)]:typeof _0x5980f4==_0x4e2185(0x50b)?JSON[_0x4e2185(0x524)](_0x5980f4):_0x5980f4,_0x3048b9=_0x335929+':\x20'+_0x54609b;throw this[_0x4e2185(0x7de)][_0x4e2185(0x873)](this[_0x4e2185(0x586)]+'\x20('+this['instance'][_0x4e2185(0x360)]+'):\x20'+_0x3048b9),new m(_0x3048b9);}}async[a0_0x13c462(0x35a)](_0x372008){const _0x1e1aec=a0_0x13c462;try{this[_0x1e1aec(0x7de)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1e1aec(0x360)]+_0x1e1aec(0x1fd)),this[_0x1e1aec(0x7de)][_0x1e1aec(0x3c2)](this[_0x1e1aec(0x586)]+'\x20('+this[_0x1e1aec(0x1c1)]['wuid']+'):\x20Query\x20params:\x20'+_0x372008);let _0x343b71={'where':{'_id':_0x372008}};return await this[_0x1e1aec(0x59e)][_0x1e1aec(0x436)][_0x1e1aec(0x4cd)](_0x343b71,this[_0x1e1aec(0x1c1)][_0x1e1aec(0x360)]);}catch(_0x1c8647){let _0x49daec='Erro\x20ao\x20buscar\x20a\x20conversa',_0x4b1f9e=_0x1c8647 instanceof Error?_0x1c8647['message']:typeof _0x1c8647==_0x1e1aec(0x50b)?JSON[_0x1e1aec(0x524)](_0x1c8647):_0x1c8647,_0x3797d3=_0x49daec+':\x20'+_0x4b1f9e;throw this[_0x1e1aec(0x7de)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1e1aec(0x360)]+_0x1e1aec(0x351)+_0x3797d3),new m(_0x3797d3);}}async[a0_0x13c462(0x7c5)](_0x20a149){const _0x12945b=a0_0x13c462;try{return this[_0x12945b(0x7de)]['verbose'](this[_0x12945b(0x586)]+'\x20('+this[_0x12945b(0x1c1)][_0x12945b(0x360)]+_0x12945b(0x1c8)),await this[_0x12945b(0x59e)][_0x12945b(0x436)][_0x12945b(0x88b)](_0x20a149,this[_0x12945b(0x1c1)][_0x12945b(0x360)]);}catch(_0x1cc582){let _0x19e86e=_0x12945b(0x834),_0x5829e7=_0x1cc582 instanceof Error?_0x1cc582[_0x12945b(0x7d2)]:typeof _0x1cc582==_0x12945b(0x50b)?JSON['stringify'](_0x1cc582):_0x1cc582,_0x4cbea8=_0x19e86e+':\x20'+_0x5829e7;throw this[_0x12945b(0x7de)][_0x12945b(0x873)](this[_0x12945b(0x586)]+'\x20('+this[_0x12945b(0x1c1)][_0x12945b(0x360)]+_0x12945b(0x351)+_0x4cbea8),new m(_0x4cbea8);}}async[a0_0x13c462(0x593)](_0x2ba177){const _0x221a27=a0_0x13c462;try{return this[_0x221a27(0x7de)][_0x221a27(0x3c2)](this[_0x221a27(0x586)]+'\x20('+this[_0x221a27(0x1c1)][_0x221a27(0x360)]+_0x221a27(0x368)),this['logger'][_0x221a27(0x3c2)](this[_0x221a27(0x586)]+'\x20('+this['instance'][_0x221a27(0x360)]+_0x221a27(0x858)+_0x2ba177),(await this[_0x221a27(0x59e)][_0x221a27(0x436)][_0x221a27(0x87c)]({'where':{'_id':_0x2ba177[_0x221a27(0x882)]}},this['instance'][_0x221a27(0x360)]))['deletedCount']===0x0?{'message':_0x221a27(0x708)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x269d04){let _0x30314d=_0x221a27(0x6b1),_0x16032b=_0x269d04 instanceof Error?_0x269d04[_0x221a27(0x7d2)]:typeof _0x269d04==_0x221a27(0x50b)?JSON[_0x221a27(0x524)](_0x269d04):_0x269d04,_0x252864=_0x30314d+':\x20'+_0x16032b;throw this['logger'][_0x221a27(0x873)](this['instanceName']+'\x20('+this[_0x221a27(0x1c1)][_0x221a27(0x360)]+_0x221a27(0x351)+_0x252864),new m(_0x252864);}}async['editConversation'](_0x155b34){const _0xb2ca8=a0_0x13c462;try{let {_id:_0x430380,chatLog:_0x3bdbd2,status:_0x58bc9e}=_0x155b34;if(!_0x430380)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x4a4cb5={};if(_0x58bc9e!==void 0x0&&(_0x4a4cb5[_0xb2ca8(0x22e)]=_0x58bc9e),Object[_0xb2ca8(0x750)](_0x4a4cb5)[_0xb2ca8(0x1d3)]===0x0)return{'message':_0xb2ca8(0x41d)};let _0x314970=await this[_0xb2ca8(0x59e)][_0xb2ca8(0x436)][_0xb2ca8(0x176)](_0x430380,_0x4a4cb5,this[_0xb2ca8(0x1c1)]['wuid']);return _0x314970||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x52ffca){let _0x524f3c=_0xb2ca8(0x2e2),_0x2b4cad=_0x52ffca instanceof Error?_0x52ffca['message']:typeof _0x52ffca==_0xb2ca8(0x50b)?JSON[_0xb2ca8(0x524)](_0x52ffca):_0x52ffca,_0x1c7aeb=_0x524f3c+':\x20'+_0x2b4cad;throw this[_0xb2ca8(0x7de)][_0xb2ca8(0x873)](this['instanceName']+'\x20('+this[_0xb2ca8(0x1c1)][_0xb2ca8(0x360)]+_0xb2ca8(0x351)+_0x1c7aeb),new m(_0x1c7aeb);}}async[a0_0x13c462(0x54c)](_0x5d2f2b){const _0x29262b=a0_0x13c462;try{_0x5d2f2b[_0x29262b(0x882)]=this[_0x29262b(0x621)](_0x5d2f2b[_0x29262b(0x882)]);let _0x5e4e2c=await this[_0x29262b(0x59e)][_0x29262b(0x696)][_0x29262b(0x4cd)]({'where':{'_id':_0x5d2f2b[_0x29262b(0x882)]}},this[_0x29262b(0x1c1)]['wuid']);if(!_0x5e4e2c)throw new m(_0x29262b(0x3eb));let {_id:_0x5d6579,leadInfo:_0x26873c}=_0x5d2f2b;if(!_0x5d6579)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x5d2f2b[_0x29262b(0x634)]===_0x29262b(0x77a))return await this['deleteChat'](_0x5d2f2b['_id']),await this[_0x29262b(0x59e)]['chat'][_0x29262b(0x634)]({'where':{'_id':_0x5d2f2b['_id']}},this[_0x29262b(0x1c1)][_0x29262b(0x360)]),await this['repository'][_0x29262b(0x7d2)][_0x29262b(0x634)]({'where':{'key':{'remoteJid':_0x5d2f2b['_id']}}},this[_0x29262b(0x1c1)][_0x29262b(0x360)]),_0x5d2f2b=await this[_0x29262b(0x59e)][_0x29262b(0x696)][_0x29262b(0x176)]({'where':{'_id':_0x5d2f2b['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x29262b(0x1c1)][_0x29262b(0x360)]),F(this[_0x29262b(0x586)],'chats',{'chat':_0x5d2f2b}),{'message':_0x29262b(0x585)};if(_0x5d2f2b['delete']===_0x29262b(0x418))return await this[_0x29262b(0x59e)][_0x29262b(0x7d2)][_0x29262b(0x634)]({'where':{'key':{'remoteJid':_0x5d2f2b[_0x29262b(0x882)]}}},this[_0x29262b(0x1c1)]['wuid']),_0x5d2f2b=await this[_0x29262b(0x59e)]['chat'][_0x29262b(0x176)]({'where':{'_id':_0x5d2f2b['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x29262b(0x1c1)]['wuid']),F(this[_0x29262b(0x586)],_0x29262b(0x6ce),{'chat':_0x5d2f2b}),{'message':_0x29262b(0x705)};let _0x1da896=(_0x49ab0e,_0x251264,_0x548f92)=>{const _0x724ebe=_0x29262b;_0x49ab0e&&_0x548f92[_0x724ebe(0x2a0)](_0x4cb2d9=>{const _0x105aef=_0x724ebe;_0x49ab0e[_0x4cb2d9]!==void 0x0&&(_0x251264[_0x105aef(0x133)+_0x4cb2d9]=_0x49ab0e[_0x4cb2d9]);});},_0xac0b35={};if(_0x29262b(0x1b2)in _0x5d2f2b&&(this[_0x29262b(0x7de)]['verbose'](this[_0x29262b(0x586)]+'\x20('+this[_0x29262b(0x1c1)]['wuid']+_0x29262b(0x225)+_0x5d2f2b[_0x29262b(0x882)]),_0x5d2f2b[_0x29262b(0x1b2)]=_0x5d2f2b[_0x29262b(0x1b2)]===0x0?null:-0x1,await this[_0x29262b(0x155)][_0x29262b(0x89b)]({'mute':_0x5d2f2b['muteEndTime']},_0x5d2f2b['_id']),_0xac0b35[_0x29262b(0x1b2)]=Number(_0x5d2f2b['muteEndTime'])),_0x26873c&&(_0x1da896(_0x26873c,_0xac0b35,[_0x29262b(0x4a0),_0x29262b(0x1df),_0x29262b(0x314),_0x29262b(0x43a),'status',_0x29262b(0x1ee),'tags','atendimentoAberto',_0x29262b(0x6e6),'etiquetas',_0x29262b(0x580)]),Array[_0x29262b(0x41b)](_0x26873c['customFields'])&&(_0xac0b35[_0x29262b(0x77d)]=_0x26873c['customFields'][_0x29262b(0x4c1)](_0x59a152=>({'_id':_0x59a152[_0x29262b(0x882)],'value':_0x59a152[_0x29262b(0x5be)]}))),_0x5d2f2b['leadInfo']['etiquetas']!==void 0x0)){let _0x4080e3=await this[_0x29262b(0x59e)][_0x29262b(0x467)][_0x29262b(0x88b)]({'where':{}},this[_0x29262b(0x1c1)][_0x29262b(0x360)]),_0x358520=new Set(_0x5d2f2b[_0x29262b(0x8c0)][_0x29262b(0x622)]||[]),_0x57df5=new Set(_0x5d2f2b[_0x29262b(0x8c0)]['etiquetas']),_0xcb3908=new Set(_0x4080e3[_0x29262b(0x4c1)](_0x24047b=>_0x24047b[_0x29262b(0x882)])),_0x466351=[..._0x57df5]['filter'](_0x37b2da=>!_0x358520[_0x29262b(0x41f)](_0x37b2da)&&_0xcb3908[_0x29262b(0x41f)](_0x37b2da)),_0x3a8331=[..._0x358520][_0x29262b(0x843)](_0x556633=>!_0x57df5[_0x29262b(0x41f)](_0x556633));if(_0xac0b35[_0x29262b(0x387)]=[..._0x358520],_0x5e4e2c&&!_0x5e4e2c[_0x29262b(0x6f5)]){for(let _0xa50b2b of _0x466351)await this[_0x29262b(0x174)](_0xa50b2b,_0x5d2f2b[_0x29262b(0x882)]),_0x358520[_0x29262b(0x536)](_0xa50b2b);for(let _0x4baa11 of _0x3a8331)await this[_0x29262b(0x16a)](_0x4baa11,_0x5d2f2b[_0x29262b(0x882)]),_0x358520['delete'](_0x4baa11);}}if(_0x5d2f2b['unreadcount']!==void 0x0&&(_0xac0b35[_0x29262b(0x53d)]=Number(_0x5d2f2b['unreadcount'])),Object[_0x29262b(0x750)](_0xac0b35)[_0x29262b(0x1d3)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5d8d9a=await this[_0x29262b(0x59e)]['chat'][_0x29262b(0x176)]({'where':{'_id':_0x5d2f2b['_id']}},_0xac0b35,this[_0x29262b(0x1c1)]['wuid']);return _0x5d8d9a&&F(this['instanceName'],_0x29262b(0x6ce),{'chat':_0x5d8d9a}),_0x5d8d9a?(this['logger']['verbose'](this[_0x29262b(0x586)]+'\x20('+this[_0x29262b(0x1c1)][_0x29262b(0x360)]+_0x29262b(0x351)+JSON[_0x29262b(0x524)](_0x5d8d9a,null,0x2)),_0x5d8d9a):{'message':_0x29262b(0x30d)};}catch(_0x53b621){let _0x58c84b=_0x29262b(0x52c),_0x451d24=_0x53b621 instanceof Error?_0x53b621[_0x29262b(0x7d2)]:typeof _0x53b621==_0x29262b(0x50b)?JSON['stringify'](_0x53b621):_0x53b621,_0x193b69=_0x58c84b+':\x20'+_0x451d24;throw this[_0x29262b(0x7de)]['error'](this['instanceName']+'\x20('+this[_0x29262b(0x1c1)][_0x29262b(0x360)]+_0x29262b(0x351)+_0x193b69),new m(_0x193b69);}}async[a0_0x13c462(0x174)](_0x1afcd7,_0x5eb767){const _0x5d7d02=a0_0x13c462;try{await this[_0x5d7d02(0x155)][_0x5d7d02(0x15e)](_0x5eb767,_0x1afcd7),this[_0x5d7d02(0x7de)][_0x5d7d02(0x19e)](this[_0x5d7d02(0x586)]+'\x20('+this[_0x5d7d02(0x1c1)][_0x5d7d02(0x360)]+_0x5d7d02(0x609)+_0x1afcd7+'\x20adicionado\x20ao\x20chat\x20'+_0x5eb767+_0x5d7d02(0x1ba));}catch(_0x98e08b){this[_0x5d7d02(0x7de)][_0x5d7d02(0x873)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x1afcd7+_0x5d7d02(0x4b3)+_0x5eb767+':\x20'+_0x98e08b);}}async[a0_0x13c462(0x16a)](_0x257087,_0x3238b1){const _0x1544c8=a0_0x13c462;try{await this[_0x1544c8(0x155)][_0x1544c8(0x57f)](_0x3238b1,_0x257087),this[_0x1544c8(0x7de)][_0x1544c8(0x19e)](this['instanceName']+'\x20('+this[_0x1544c8(0x1c1)]['wuid']+_0x1544c8(0x609)+_0x257087+_0x1544c8(0x4e4)+_0x3238b1+_0x1544c8(0x1ba));}catch(_0xce46f6){this[_0x1544c8(0x7de)][_0x1544c8(0x873)](_0x1544c8(0x83c)+_0x257087+'\x20do\x20chat\x20'+_0x3238b1+':\x20'+_0xce46f6);}}async[a0_0x13c462(0x3d6)](_0x34f643){const _0x27e071=a0_0x13c462;try{let _0x4b8752=await this[_0x27e071(0x59e)][_0x27e071(0x200)]['findOrCreate'](this[_0x27e071(0x1c1)][_0x27e071(0x360)]),_0x4c5dff=_0x34f643['_id']?_0x4b8752[_0x27e071(0x4ae)][_0x27e071(0x60f)](_0x551638=>_0x551638[_0x27e071(0x882)]===_0x34f643[_0x27e071(0x882)]):-0x1;if(_0x34f643[_0x27e071(0x634)]&&_0x4c5dff>-0x1)_0x4b8752[_0x27e071(0x4ae)][_0x27e071(0x80d)](_0x4c5dff,0x1);else{if(_0x4c5dff>-0x1){let _0x41f216=_0x4b8752[_0x27e071(0x4ae)][_0x4c5dff];_0x34f643[_0x27e071(0x638)]&&(_0x41f216[_0x27e071(0x638)]=_0x34f643[_0x27e071(0x638)]),_0x34f643[_0x27e071(0x42b)]&&(_0x41f216[_0x27e071(0x42b)]=_0x34f643[_0x27e071(0x42b)]),_0x34f643[_0x27e071(0x314)]&&(_0x41f216['email']=_0x34f643[_0x27e071(0x314)]),_0x34f643[_0x27e071(0x83b)]&&(_0x41f216[_0x27e071(0x83b)]=_0x34f643[_0x27e071(0x83b)]);}else _0x4b8752[_0x27e071(0x4ae)][_0x27e071(0x438)]({'_id':_0x34f643[_0x27e071(0x882)]||new pe[(_0x27e071(0x6bc))][(_0x27e071(0x743))][(_0x27e071(0x37b))]()['toString'](),'fone':_0x34f643['fone'],'name':_0x34f643['name'],'email':_0x34f643[_0x27e071(0x314)],'role':_0x34f643[_0x27e071(0x83b)]});}let _0x556cbf={'agents':_0x4b8752['agents']},_0x6a6e3e=await this[_0x27e071(0x59e)]['automateSystem'][_0x27e071(0x823)](_0x556cbf,this['instance']['wuid']);return this[_0x27e071(0x1cf)]=_0x6a6e3e,this[_0x27e071(0x7de)][_0x27e071(0x3c2)](this[_0x27e071(0x586)]+'\x20('+this[_0x27e071(0x1c1)][_0x27e071(0x360)]+_0x27e071(0x2e3)),this[_0x27e071(0x7de)]['verbose'](this[_0x27e071(0x586)]+'\x20('+this['instance'][_0x27e071(0x360)]+_0x27e071(0x351)+this['AutomateSystem']),_0x6a6e3e;}catch(_0x1b4763){let _0x5cb274='Erro\x20ao\x20editar\x20agentes',_0x2ed3a7=_0x1b4763 instanceof Error?_0x1b4763['message']:typeof _0x1b4763==_0x27e071(0x50b)?JSON['stringify'](_0x1b4763):_0x1b4763,_0x52badd=_0x5cb274+':\x20'+_0x2ed3a7;throw this[_0x27e071(0x7de)]['error'](this[_0x27e071(0x586)]+'\x20('+this[_0x27e071(0x1c1)][_0x27e071(0x360)]+_0x27e071(0x351)+_0x52badd),new m(_0x52badd);}}async[a0_0x13c462(0x465)](_0x24e460){const _0x858417=a0_0x13c462;try{let _0x57019a=await this[_0x858417(0x59e)][_0x858417(0x200)]['findOrCreate'](this[_0x858417(0x1c1)][_0x858417(0x360)]),_0x7e6c2b=_0x24e460['_id']?_0x57019a[_0x858417(0x57d)]['findIndex'](_0x513fe0=>_0x513fe0[_0x858417(0x882)]===_0x24e460[_0x858417(0x882)]):-0x1,_0x3dfcde=!0x1,_0x5cba94=_0x57019a[_0x858417(0x57d)]['some'](_0xefd3fe=>_0xefd3fe[_0x858417(0x704)]===_0x24e460[_0x858417(0x704)]);if(_0x24e460[_0x858417(0x634)]&&_0x7e6c2b>-0x1)_0x57019a[_0x858417(0x57d)][_0x858417(0x80d)](_0x7e6c2b,0x1),_0x3dfcde=!0x0;else{if(_0x7e6c2b>-0x1){if(_0x57019a['customFields']['some'](_0x1c141a=>_0x1c141a['name']===_0x24e460[_0x858417(0x42b)]&&_0x1c141a[_0x858417(0x882)]!==_0x24e460[_0x858417(0x882)]))throw new Error(_0x858417(0x548));let _0x1e8b27=_0x57019a[_0x858417(0x57d)][_0x7e6c2b];_0x24e460[_0x858417(0x704)]&&(_0x5cba94||!Number[_0x858417(0x79f)](_0x24e460[_0x858417(0x704)]))&&(_0x1e8b27[_0x858417(0x704)]=_0x24e460[_0x858417(0x704)],_0x3dfcde=!0x0),_0x24e460[_0x858417(0x42b)]&&(_0x1e8b27[_0x858417(0x42b)]=_0x24e460[_0x858417(0x42b)]);}else{if(_0x57019a[_0x858417(0x57d)][_0x858417(0x73a)](_0x28b069=>_0x28b069[_0x858417(0x42b)]===_0x24e460['name']&&_0x28b069[_0x858417(0x882)]!==_0x24e460[_0x858417(0x882)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x57019a[_0x858417(0x57d)]['push']({'_id':_0x24e460[_0x858417(0x882)]||new pe['default'][(_0x858417(0x743))][(_0x858417(0x37b))]()[_0x858417(0x2ba)](),'order':_0x24e460[_0x858417(0x704)],'name':_0x24e460[_0x858417(0x42b)]}),_0x3dfcde=!0x0;}}if(_0x3dfcde){_0x57019a['customFields'][_0x858417(0x772)]((_0x299541,_0x313725)=>_0x299541[_0x858417(0x704)]>_0x313725['order']?0x1:_0x313725['order']>_0x299541[_0x858417(0x704)]?-0x1:0x0);for(let _0x18ea4a=0x0;_0x18ea4a<_0x57019a['customFields'][_0x858417(0x1d3)];_0x18ea4a++)_0x57019a[_0x858417(0x57d)][_0x18ea4a][_0x858417(0x704)]=_0x18ea4a+0x1;}let _0x5a2ad3=await this[_0x858417(0x59e)]['automateSystem'][_0x858417(0x823)](_0x57019a,this[_0x858417(0x1c1)]['wuid']);return this['AutomateSystem']=_0x5a2ad3,this[_0x858417(0x7de)][_0x858417(0x3c2)](this[_0x858417(0x586)]+'\x20('+this[_0x858417(0x1c1)]['wuid']+_0x858417(0x7ce)),this['logger'][_0x858417(0x3c2)](this[_0x858417(0x586)]+'\x20('+this[_0x858417(0x1c1)][_0x858417(0x360)]+_0x858417(0x351)+this[_0x858417(0x1cf)]),_0x5a2ad3;}catch(_0x2208c7){let _0x52b831='Erro\x20ao\x20tentar\x20updateCustomFields',_0x479b33=_0x2208c7 instanceof Error?_0x2208c7[_0x858417(0x7d2)]:typeof _0x2208c7=='object'?JSON['stringify'](_0x2208c7):_0x2208c7,_0x7eb116=_0x52b831+':\x20'+_0x479b33;throw this['logger'][_0x858417(0x873)](this[_0x858417(0x586)]+'\x20('+this[_0x858417(0x1c1)]['wuid']+_0x858417(0x351)+_0x7eb116),new m(_0x7eb116);}}async[a0_0x13c462(0x42f)](_0x364d61){const _0x2db14d=a0_0x13c462;try{let _0x4d63e5=await this[_0x2db14d(0x59e)][_0x2db14d(0x200)][_0x2db14d(0x194)](this[_0x2db14d(0x1c1)][_0x2db14d(0x360)]),_0x61656c=_0x4d63e5?.[_0x2db14d(0x2fe)]?.['findIndex'](_0x48b233=>_0x48b233[_0x2db14d(0x882)]===_0x364d61?.[_0x2db14d(0x882)]);if(_0x364d61?.[_0x2db14d(0x634)])_0x61656c>-0x1&&_0x4d63e5?.[_0x2db14d(0x2fe)]?.[_0x2db14d(0x80d)](_0x61656c,0x1);else{if(_0x61656c>-0x1){let _0xd07f4f=_0x4d63e5['autoCompleteMessages'][_0x61656c];_0xd07f4f[_0x2db14d(0x704)]=_0x364d61?.['order']||_0xd07f4f[_0x2db14d(0x704)],_0xd07f4f['command']=_0x364d61?.['command']||_0xd07f4f['command'],_0xd07f4f['message']=_0x364d61?.['message']||_0xd07f4f[_0x2db14d(0x7d2)];}else{let _0x168422={'_id':_0x364d61?.[_0x2db14d(0x882)]||new pe[(_0x2db14d(0x6bc))][(_0x2db14d(0x743))]['ObjectId']()[_0x2db14d(0x2ba)](),'order':_0x364d61?.['order'],'command':_0x364d61?.[_0x2db14d(0x51f)],'message':_0x364d61?.[_0x2db14d(0x7d2)]};_0x4d63e5?.[_0x2db14d(0x2fe)]?.[_0x2db14d(0x438)](_0x168422);}}_0x4d63e5?.['autoCompleteMessages']?.[_0x2db14d(0x772)]((_0x365905,_0x3507f8)=>_0x365905['order']-_0x3507f8[_0x2db14d(0x704)]);let _0x2683ea=await this['repository'][_0x2db14d(0x200)][_0x2db14d(0x823)](_0x4d63e5,this[_0x2db14d(0x1c1)][_0x2db14d(0x360)]);return this[_0x2db14d(0x1cf)]=_0x2683ea,this['logger'][_0x2db14d(0x3c2)](this[_0x2db14d(0x586)]+'\x20('+this[_0x2db14d(0x1c1)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x2683ea;}catch(_0x2d8f45){let _0x17c83d=_0x2db14d(0x403),_0x409c67=_0x2d8f45 instanceof Error?_0x2d8f45[_0x2db14d(0x7d2)]:typeof _0x2d8f45==_0x2db14d(0x50b)?JSON[_0x2db14d(0x524)](_0x2d8f45):_0x2d8f45,_0x3eb7ee=_0x17c83d+':\x20'+_0x409c67;throw this[_0x2db14d(0x7de)][_0x2db14d(0x873)](this[_0x2db14d(0x586)]+'\x20('+this['instance']['wuid']+_0x2db14d(0x351)+_0x3eb7ee),new m(_0x3eb7ee);}}async[a0_0x13c462(0x3d7)](_0xeaffdc){const _0x430de9=a0_0x13c462;try{let _0x284c0e=await this[_0x430de9(0x59e)][_0x430de9(0x200)][_0x430de9(0x194)](this['instance'][_0x430de9(0x360)]);if(!_0x284c0e)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x3f48a2={'_id':_0x284c0e[_0x430de9(0x882)],'flowConfig':{'enabled':_0xeaffdc[_0x430de9(0x245)]??_0x284c0e[_0x430de9(0x899)][_0x430de9(0x245)],'ignoreGroups':_0xeaffdc[_0x430de9(0x805)]??_0x284c0e[_0x430de9(0x899)]['ignoreGroups'],'stopConversation':_0xeaffdc['stopConversation'][_0x430de9(0x707)]()??_0x284c0e[_0x430de9(0x899)][_0x430de9(0x189)][_0x430de9(0x707)](),'stopMinutes':_0xeaffdc[_0x430de9(0x2d5)]??_0x284c0e['flowConfig'][_0x430de9(0x2d5)],'stopWhenYouSendMsg':_0xeaffdc[_0x430de9(0x66d)]??_0x284c0e['flowConfig'][_0x430de9(0x66d)]}},_0x2790d9=await this['repository']['automateSystem'][_0x430de9(0x823)](_0x3f48a2,this['instance'][_0x430de9(0x360)]);return this[_0x430de9(0x1cf)]=_0x2790d9,this['logger'][_0x430de9(0x3c2)](this[_0x430de9(0x586)]+'\x20('+this[_0x430de9(0x1c1)][_0x430de9(0x360)]+_0x430de9(0x2e3)),this[_0x430de9(0x7de)]['verbose'](this['instanceName']+'\x20('+this[_0x430de9(0x1c1)][_0x430de9(0x360)]+'):\x20'+this[_0x430de9(0x1cf)]),setTimeout(()=>this[_0x430de9(0x852)](),0x7d0),_0x2790d9;}catch(_0x6eb2ec){let _0xd45cee=_0x430de9(0x72d),_0x2731f1=_0x6eb2ec instanceof Error?_0x6eb2ec[_0x430de9(0x7d2)]:typeof _0x6eb2ec=='object'?JSON['stringify'](_0x6eb2ec):_0x6eb2ec,_0x32c95a=_0xd45cee+':\x20'+_0x2731f1;throw this[_0x430de9(0x7de)]['error'](this[_0x430de9(0x586)]+'\x20('+this[_0x430de9(0x1c1)][_0x430de9(0x360)]+_0x430de9(0x351)+_0x32c95a),new m(_0x32c95a);}}async[a0_0x13c462(0x44b)](){const _0x4690b2=a0_0x13c462;try{let _0x7bc7f5=await this['repository'][_0x4690b2(0x200)]['findOrCreate'](this['instance'][_0x4690b2(0x360)]);return this['AutomateSystem']=_0x7bc7f5,_0x7bc7f5;}catch(_0x46cae1){let _0x358a62='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x48bec7=_0x46cae1 instanceof Error?_0x46cae1['message']:typeof _0x46cae1==_0x4690b2(0x50b)?JSON[_0x4690b2(0x524)](_0x46cae1):_0x46cae1,_0x1039f9=_0x358a62+':\x20'+_0x48bec7;throw this[_0x4690b2(0x7de)][_0x4690b2(0x873)](this[_0x4690b2(0x586)]+'\x20('+this[_0x4690b2(0x1c1)][_0x4690b2(0x360)]+_0x4690b2(0x351)+_0x1039f9),new m(_0x1039f9);}}async[a0_0x13c462(0x78c)](){const _0x54c74f=a0_0x13c462;let _0x405cd6=(await import(_0x54c74f(0x672)))[_0x54c74f(0x6bc)];this[_0x54c74f(0x2bf)]=new _0x405cd6({'concurrency':0x1});}async['setRestartTimeout'](){const _0x175e76=a0_0x13c462;this[_0x175e76(0x1c1)][_0x175e76(0x47d)]['timeout']&&clearTimeout(this[_0x175e76(0x1c1)]['ScheduleMessage']['timeout']),this['instance'][_0x175e76(0x47d)][_0x175e76(0x64c)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x13c462(0x594)](){const _0x33109b=a0_0x13c462;let _0x36c230=this['instance'][_0x33109b(0x47d)]['lastSend'];(_0x36c230===0x0||_0x36c230===null||Date[_0x33109b(0x421)]()-_0x36c230>=0x1d4c0)&&(this['logger'][_0x33109b(0x3c2)](this[_0x33109b(0x586)]+'\x20('+this[_0x33109b(0x1c1)][_0x33109b(0x360)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x33109b(0x1c1)][_0x33109b(0x47d)][_0x33109b(0x492)]=null,this['instance'][_0x33109b(0x47d)][_0x33109b(0x895)]=0x0,this['instance']['ScheduleMessage'][_0x33109b(0x507)]=0x0,await this['scheduleNextCheck']());}async[a0_0x13c462(0x852)](){const _0x1f9a9d=a0_0x13c462;this['logger'][_0x1f9a9d(0x30b)](this['instanceName']+'\x20('+this[_0x1f9a9d(0x1c1)]['wuid']+_0x1f9a9d(0x519)),await this[_0x1f9a9d(0x31e)]();let _0x349d79=await this[_0x1f9a9d(0x36b)]();_0x349d79[_0x1f9a9d(0x1d3)]>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this['logger']['warn'](this[_0x1f9a9d(0x586)]+'\x20('+this[_0x1f9a9d(0x1c1)]['wuid']+_0x1f9a9d(0x24d)),this[_0x1f9a9d(0x2bf)][_0x1f9a9d(0x6bf)](),this[_0x1f9a9d(0x2bf)][_0x1f9a9d(0x536)](()=>this[_0x1f9a9d(0x28c)](_0x349d79)));let _0x265c49={'where':{'status':'scheduled','when':{'$gt':Date[_0x1f9a9d(0x421)]()}}},_0x292362=await this['repository']['scheduleMessage'][_0x1f9a9d(0x4cd)](_0x265c49,this['instance'][_0x1f9a9d(0x360)]);_0x292362&&_0x292362['when']-Date[_0x1f9a9d(0x421)]()<=0x6ddd00?this['instance'][_0x1f9a9d(0x47d)][_0x1f9a9d(0x507)]=_0x292362[_0x1f9a9d(0x724)]-Date[_0x1f9a9d(0x421)]():this[_0x1f9a9d(0x1c1)][_0x1f9a9d(0x47d)]['delayMessage']=(0x3c+Math[_0x1f9a9d(0x546)](Math[_0x1f9a9d(0x6f0)]()*0x3c))*0x3c*0x3e8,this[_0x1f9a9d(0x1c1)][_0x1f9a9d(0x47d)][_0x1f9a9d(0x507)]=Math['max'](this[_0x1f9a9d(0x1c1)][_0x1f9a9d(0x47d)][_0x1f9a9d(0x507)],0x1*0x2*0x3e8);let _0x2b2615=Math[_0x1f9a9d(0x5cc)](this['instance'][_0x1f9a9d(0x47d)][_0x1f9a9d(0x507)]/0xea60);if(_0x292362){let _0x1b229b=new Date(_0x292362['when'])[_0x1f9a9d(0x81e)]();this[_0x1f9a9d(0x7de)][_0x1f9a9d(0x30b)](this[_0x1f9a9d(0x586)]+'\x20('+this[_0x1f9a9d(0x1c1)]['wuid']+_0x1f9a9d(0x1dd)+_0x1b229b+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x2b2615+_0x1f9a9d(0x3f4));}else this[_0x1f9a9d(0x7de)][_0x1f9a9d(0x30b)](this['instanceName']+'\x20('+this[_0x1f9a9d(0x1c1)][_0x1f9a9d(0x360)]+_0x1f9a9d(0x34a)+_0x2b2615+_0x1f9a9d(0x3f4));setTimeout(()=>{const _0x3bee61=_0x1f9a9d;this[_0x3bee61(0x852)]();},this['instance'][_0x1f9a9d(0x47d)]['delayMessage']);}async[a0_0x13c462(0x36b)](){const _0x215d8d=a0_0x13c462;this[_0x215d8d(0x7de)]['warn'](this[_0x215d8d(0x586)]+'\x20('+this['instance'][_0x215d8d(0x360)]+_0x215d8d(0x1fc));let _0x48c5ee=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x4f9eda={'where':{'status':{'$in':[_0x215d8d(0x5d7),_0x215d8d(0x134)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x48c5ee}},{'when':0x0}]}},_0x45b4ea=await this[_0x215d8d(0x59e)][_0x215d8d(0x45d)]['find'](_0x4f9eda,this[_0x215d8d(0x1c1)][_0x215d8d(0x360)]);return this['logger'][_0x215d8d(0x30b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x215d8d(0x4e2)+_0x45b4ea[_0x215d8d(0x1d3)]),_0x45b4ea;}async[a0_0x13c462(0x28c)](_0x1f379e){const _0xb69a71=a0_0x13c462;this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x375));let _0x3cbc05=0x3*0x3e8,_0x338c15=0x8*0x3e8,_0x5541d0=Math[_0xb69a71(0x546)](Math[_0xb69a71(0x6f0)]()*(_0x338c15-_0x3cbc05+0x1))+_0x3cbc05,_0x3e96ca=()=>this[_0xb69a71(0x1a4)]['length']===0x0?null:this[_0xb69a71(0x1a4)][_0xb69a71(0x715)]((_0xd807c1,_0x140b5b)=>(_0xd807c1[_0xb69a71(0x704)]??Number[_0xb69a71(0x44c)])<(_0x140b5b[_0xb69a71(0x704)]??Number[_0xb69a71(0x44c)])?_0xd807c1:_0x140b5b,this[_0xb69a71(0x1a4)][0x0]);_0x1f379e=await this[_0xb69a71(0x36b)]();for(let _0x47c4b7 of _0x1f379e){await this[_0xb69a71(0x171)]();let _0x422467=0x3*0x3e8,_0x1ac8cb={'_id':_0x47c4b7[_0xb69a71(0x882)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xb69a71(0x421)]()-_0x422467}}]},_0xea50d3={'startSend':Date[_0xb69a71(0x421)](),'status':'sending'},_0x36bb57=await this['repository'][_0xb69a71(0x45d)]['updateOne'](_0x1ac8cb,_0xea50d3,this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]);if(this[_0xb69a71(0x1a4)]=_0x36bb57[_0xb69a71(0x418)]['filter'](_0x2aa060=>!_0x2aa060[_0xb69a71(0x334)]),!_0x36bb57){setTimeout(()=>this[_0xb69a71(0x594)](),0xa*0x3e8);continue;}if(this[_0xb69a71(0x1c1)][_0xb69a71(0x47d)][_0xb69a71(0x492)]=_0x36bb57,!this[_0xb69a71(0x1c1)][_0xb69a71(0x47d)][_0xb69a71(0x551)]){this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this[_0xb69a71(0x586)]+'\x20('+this['instance'][_0xb69a71(0x360)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0xb69a71(0x1a4)][_0xb69a71(0x1d3)]>0x0;){await this[_0xb69a71(0x171)]();let _0x109a2b=_0x3e96ca();if(!_0x109a2b)break;let _0x5c56a1=_0x47c4b7[_0xb69a71(0x418)][_0xb69a71(0x88b)](_0x32317b=>_0x32317b[_0xb69a71(0x882)]===_0x109a2b[_0xb69a71(0x882)]);if(!_0x5c56a1)break;if(this[_0xb69a71(0x1c1)][_0xb69a71(0x47d)][_0xb69a71(0x895)]=Date['now'](),_0x5c56a1[_0xb69a71(0x334)]){this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this['instanceName']+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x5c56a1['remoteJid']+_0xb69a71(0x477)),this[_0xb69a71(0x1a4)]=this[_0xb69a71(0x1a4)][_0xb69a71(0x843)](_0x2fdd86=>_0x2fdd86['_id']!==_0x5c56a1[_0xb69a71(0x882)]);continue;}if(!this[_0xb69a71(0x1c1)][_0xb69a71(0x47d)][_0xb69a71(0x551)]){this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x346));break;}if(!this[_0xb69a71(0x1c1)][_0xb69a71(0x47d)]['processingGroup']){this[_0xb69a71(0x7de)]['warn'](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)]['wuid']+_0xb69a71(0x1d9)+_0x47c4b7[_0xb69a71(0x882)]+_0xb69a71(0x6f9));break;}let _0x287993={'idControl':_0x5c56a1[_0xb69a71(0x882)],'remoteJid':_0x5c56a1['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xb69a71(0x421)]()},_0x3e5e88=null;try{this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x335)+_0x5c56a1[_0xb69a71(0x3aa)]);let _0x44dbe0=await Promise[_0xb69a71(0x141)]([this[_0xb69a71(0x46d)](_0x5c56a1['remoteJid'],_0x5c56a1),this['timeoutPromise'](0x78*0x3e8)]);_0x287993[_0xb69a71(0x873)]=_0x44dbe0[_0xb69a71(0x873)],_0x287993['id']=_0x44dbe0[_0xb69a71(0x873)]?null:_0x44dbe0['id'],_0x287993['error_log']=_0x44dbe0[_0xb69a71(0x873)]?_0x44dbe0['detail']?_0x44dbe0[_0xb69a71(0x315)][_0xb69a71(0x2ba)]():'':null;let _0x2deb26=_0x47c4b7[_0xb69a71(0x418)][_0xb69a71(0x60f)](_0x3c452c=>_0x3c452c[_0xb69a71(0x882)]===_0x5c56a1[_0xb69a71(0x882)]);_0x2deb26!==-0x1&&(_0x47c4b7[_0xb69a71(0x418)][_0x2deb26][_0xb69a71(0x334)]=!0x0);let _0x33b93d={'$push':{'messagesSend':_0x287993},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x519317=[{'elem._id':_0x5c56a1['_id']}];if(this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x5c56a1[_0xb69a71(0x882)]),_0x3e5e88=await this[_0xb69a71(0x59e)][_0xb69a71(0x45d)][_0xb69a71(0x176)]({'_id':_0x47c4b7['_id']},_0x33b93d,this[_0xb69a71(0x1c1)][_0xb69a71(0x360)],{'arrayFilters':_0x519317}),_0x44dbe0[_0xb69a71(0x873)]){this[_0xb69a71(0x7de)][_0xb69a71(0x873)](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x5bc)+_0x44dbe0[_0xb69a71(0x315)]);continue;}let _0x137cfd=this[_0xb69a71(0x3ef)](_0x47c4b7[_0xb69a71(0x405)],_0x47c4b7[_0xb69a71(0x562)]);await this[_0xb69a71(0x289)](_0x137cfd);}catch(_0x1d9cba){this[_0xb69a71(0x7de)]['error'](this[_0xb69a71(0x586)]+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x19d)+_0x5c56a1[_0xb69a71(0x3aa)]+':\x20'+(_0x1d9cba instanceof Error?_0x1d9cba['message']:JSON['stringify'](_0x1d9cba,null,0x2))),_0x287993[_0xb69a71(0x873)]=!0x0,_0x287993[_0xb69a71(0x563)]=_0x1d9cba[_0xb69a71(0x7d2)];let _0x286535=_0x47c4b7[_0xb69a71(0x418)][_0xb69a71(0x60f)](_0xc6b957=>_0xc6b957[_0xb69a71(0x882)]===_0x5c56a1[_0xb69a71(0x882)]);_0x286535!==-0x1&&(_0x47c4b7['messages'][_0x286535]['triedToSend']=!0x0);let _0x5204e7={'$push':{'messagesSend':_0x287993},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x22e5ca=[{'elem._id':_0x5c56a1['_id']}];this['logger']['warn'](this['instanceName']+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+_0xb69a71(0x4f8)+_0x5c56a1[_0xb69a71(0x882)]),_0x3e5e88=await this[_0xb69a71(0x59e)][_0xb69a71(0x45d)][_0xb69a71(0x176)]({'_id':_0x47c4b7[_0xb69a71(0x882)]},_0x5204e7,this[_0xb69a71(0x1c1)][_0xb69a71(0x360)],{'arrayFilters':_0x22e5ca});}finally{if(_0x3e5e88&&_0x3e5e88['status']===_0xb69a71(0x89d)){this[_0xb69a71(0x7de)][_0xb69a71(0x30b)](this['instanceName']+'\x20('+this[_0xb69a71(0x1c1)]['wuid']+_0xb69a71(0x1d9)+_0x5c56a1['_id']+_0xb69a71(0x290));break;}let _0x128892=_0x3e5e88[_0xb69a71(0x418)]['find'](_0x3e6c0b=>_0x3e6c0b[_0xb69a71(0x882)]===_0x5c56a1['_id']);if(_0x128892&&!_0x128892['triedToSend']){let _0x11caea={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x39a540=[{'elem._id':_0x5c56a1[_0xb69a71(0x882)]}];await this['repository'][_0xb69a71(0x45d)][_0xb69a71(0x176)]({'_id':_0x3e5e88[_0xb69a71(0x882)]},_0x11caea,this[_0xb69a71(0x1c1)][_0xb69a71(0x360)],{'arrayFilters':_0x39a540});}if(this[_0xb69a71(0x1a4)]=_0x3e5e88[_0xb69a71(0x418)][_0xb69a71(0x843)](_0xb1d44e=>!_0xb1d44e[_0xb69a71(0x334)]),!this['instance'][_0xb69a71(0x47d)][_0xb69a71(0x492)]){await this['setRestartTimeout'](),this[_0xb69a71(0x7de)]['warn'](this['instanceName']+'\x20('+this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x47c4b7[_0xb69a71(0x882)]+_0xb69a71(0x6f9));break;}}}this[_0xb69a71(0x1a4)]=[];let _0x43cddb=await this[_0xb69a71(0x59e)]['scheduleMessage'][_0xb69a71(0x1ea)](_0x47c4b7[_0xb69a71(0x882)],this[_0xb69a71(0x1c1)]['wuid']);if(_0x43cddb[_0xb69a71(0x418)][_0xb69a71(0x151)](_0x2cbdd4=>_0x2cbdd4[_0xb69a71(0x334)])&&_0x43cddb['status']!==_0xb69a71(0x89d)){let _0x45ee54={'$set':{'status':_0xb69a71(0x216)}};await this[_0xb69a71(0x59e)]['scheduleMessage'][_0xb69a71(0x549)](_0x43cddb[_0xb69a71(0x882)],_0x45ee54,this[_0xb69a71(0x1c1)][_0xb69a71(0x360)]);}await new Promise(_0xaf75f8=>setTimeout(_0xaf75f8,_0x5541d0)),global['gc']?global['gc']():console[_0xb69a71(0x30b)]('Garbage\x20collection\x20não\x20está\x20disponível.');}}['timeoutPromise'](_0x39c4f2){const _0x227c31=a0_0x13c462;return new Promise((_0x4bad8e,_0x11f7a2)=>setTimeout(()=>_0x11f7a2(new Error(_0x227c31(0x867))),_0x39c4f2));}['getDelay'](_0x9eff36,_0x4420b8){const _0xf81737=a0_0x13c462;return _0x9eff36=Math[_0xf81737(0x80c)](0.5,_0x9eff36),_0x4420b8=Math['min'](Math[_0xf81737(0x80c)](0x3,_0x4420b8),0x78),Math['floor'](Math[_0xf81737(0x6f0)]()*(_0x4420b8-_0x9eff36+0x1)+_0x9eff36)*0x3e8;}[a0_0x13c462(0x289)](_0x4f8df3){return new Promise(_0x4261dc=>setTimeout(_0x4261dc,_0x4f8df3));}async[a0_0x13c462(0x7a6)](_0x10b88b){const _0x27de6f=a0_0x13c462;if(!this[_0x27de6f(0x1cf)]&&(await this[_0x27de6f(0x44b)](),!this[_0x27de6f(0x1cf)]))return null;_0x10b88b=this[_0x27de6f(0x621)](_0x10b88b);let _0x62ef53=await this['repository'][_0x27de6f(0x696)][_0x27de6f(0x4cd)]({'where':{'_id':_0x10b88b}},this['instance'][_0x27de6f(0x360)]),_0x643275={};if(_0x62ef53&&_0x62ef53[_0x27de6f(0x8c0)]){let _0x22f2b1=_0x62ef53[_0x27de6f(0x8c0)];typeof _0x22f2b1[_0x27de6f(0x4a0)]==_0x27de6f(0x7d4)&&(_0x643275['nome']=_0x22f2b1[_0x27de6f(0x4a0)]),typeof _0x22f2b1[_0x27de6f(0x1df)]==_0x27de6f(0x7d4)&&(_0x643275[_0x27de6f(0x1df)]=_0x22f2b1[_0x27de6f(0x1df)]),typeof _0x22f2b1[_0x27de6f(0x314)]==_0x27de6f(0x7d4)&&(_0x643275[_0x27de6f(0x314)]=_0x22f2b1[_0x27de6f(0x314)]),typeof _0x22f2b1[_0x27de6f(0x43a)]=='string'&&(_0x643275['cpf']=_0x22f2b1[_0x27de6f(0x43a)]),typeof _0x22f2b1[_0x27de6f(0x22e)]=='string'&&(_0x643275[_0x27de6f(0x22e)]=_0x22f2b1[_0x27de6f(0x22e)]),typeof _0x22f2b1['notas']=='string'&&(_0x643275[_0x27de6f(0x1ee)]=_0x22f2b1[_0x27de6f(0x1ee)]),typeof _0x22f2b1[_0x27de6f(0x6e6)]==_0x27de6f(0x7d4)&&(_0x643275[_0x27de6f(0x6e6)]=_0x22f2b1[_0x27de6f(0x6e6)]),Array[_0x27de6f(0x41b)](_0x22f2b1['tags'])&&(_0x643275[_0x27de6f(0x55d)]=_0x22f2b1[_0x27de6f(0x55d)]['join'](',\x20')),Array['isArray'](_0x22f2b1[_0x27de6f(0x622)])&&(_0x643275[_0x27de6f(0x622)]=_0x22f2b1[_0x27de6f(0x622)][_0x27de6f(0x65f)](',\x20'));}return _0x62ef53&&_0x62ef53['leadInfo']&&_0x62ef53['leadInfo'][_0x27de6f(0x57d)]&&_0x62ef53['leadInfo'][_0x27de6f(0x57d)][_0x27de6f(0x2a0)](_0x1d8178=>{const _0x22b4b6=_0x27de6f;let _0x3181e5=this['AutomateSystem']?.[_0x22b4b6(0x57d)][_0x22b4b6(0x88b)](_0x21c200=>_0x21c200['_id']===_0x1d8178[_0x22b4b6(0x882)]);_0x3181e5&&(_0x643275[_0x3181e5[_0x22b4b6(0x42b)]]=_0x1d8178[_0x22b4b6(0x5be)]);}),_0x643275;}async[a0_0x13c462(0x52d)](_0x36de8a,_0x1450ce){const _0x4dfe9d=a0_0x13c462;try{let _0x44f2a6=await this[_0x4dfe9d(0x7a6)](_0x1450ce);return this[_0x4dfe9d(0x692)](_0x36de8a,_0x44f2a6);}catch(_0x270c8a){return this[_0x4dfe9d(0x7de)][_0x4dfe9d(0x873)](_0x4dfe9d(0x31b)+_0x1450ce+':\x20'+_0x270c8a),_0x36de8a;}}async[a0_0x13c462(0x31e)](){const _0x545ce4=a0_0x13c462;let _0x23ead4=async(_0x5b6731,_0x5be9fc)=>{const _0x49edd8=a0_0x1c5b;let _0x178e3f=(await this['repository'][_0x49edd8(0x45d)][_0x49edd8(0x88b)]({'where':{'type':_0x5b6731}},this[_0x49edd8(0x1c1)][_0x49edd8(0x360)]))['map'](async _0x1ef39f=>{const _0x1540a8=_0x49edd8;let _0x20a538=_0x5be9fc(_0x1ef39f),_0x42b552=_0x278bdf=>/^\d+$/['test'](_0x278bdf),_0x5379d1=_0x1ef39f[_0x1540a8(0x74f)][_0x1540a8(0x843)](_0x228238=>_0x228238['endsWith']('@s.whatsapp.net')?_0x228238[_0x1540a8(0x1d3)]>0x19:_0x228238['endsWith'](_0x1540a8(0x3c4))?_0x228238['length']>0xf:_0x42b552(_0x228238)?_0x228238[_0x1540a8(0x1d3)]>=0xb:!0x1)[_0x1540a8(0x4c1)](_0x9fc4fa=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x1ef39f['_id'],'type':_0x20a538,'remoteJid':_0x9fc4fa,'flow':_0x1ef39f[_0x1540a8(0x8bf)],'text':_0x1ef39f[_0x1540a8(0x7d2)]?.[_0x1540a8(0x1e0)],'delay':_0x1ef39f[_0x1540a8(0x7d2)]?.[_0x1540a8(0x184)],'urlOrBase64':_0x1ef39f[_0x1540a8(0x7d2)]?.[_0x1540a8(0x38a)],'linkPreview':_0x1ef39f['message']?.[_0x1540a8(0x340)],'fileName':_0x1ef39f['message']?.[_0x1540a8(0x332)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x1540a8(0x45d)]['updateOneById'](_0x1ef39f[_0x1540a8(0x882)],{'$set':{'messages':_0x5379d1},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x1540a8(0x1c1)][_0x1540a8(0x360)]);}catch(_0x16ce81){console['error'](_0x1540a8(0x8c4)+_0x1ef39f['_id']+':',_0x16ce81);}});await Promise[_0x49edd8(0x77a)](_0x178e3f);};await _0x23ead4(_0x545ce4(0x1e0),_0x3bc076=>_0x545ce4(0x1e0)),await _0x23ead4(_0x545ce4(0x41a),_0x1302e3=>_0x1302e3[_0x545ce4(0x7d2)]?.[_0x545ce4(0x3d8)]||'media'),await _0x23ead4(_0x545ce4(0x604),_0x1bf844=>'audio'),await _0x23ead4('flow',_0x3bb94d=>_0x545ce4(0x5e0)),await _0x23ead4(_0x545ce4(0x25b),_0x11b372=>_0x545ce4(0x25b)),await _0x23ead4(_0x545ce4(0x5da),_0x1f6e7f=>_0x545ce4(0x5da)),await _0x23ead4('document',_0x13e8a4=>_0x545ce4(0x7d3)),this[_0x545ce4(0x7de)][_0x545ce4(0x30b)](this['instanceName']+'\x20('+this[_0x545ce4(0x1c1)][_0x545ce4(0x360)]+_0x545ce4(0x789));}async['editScheduleMessage'](_0x28d14f){const _0x39f143=a0_0x13c462;try{if(this[_0x39f143(0x7de)][_0x39f143(0x30b)](this[_0x39f143(0x586)]+'\x20('+this[_0x39f143(0x1c1)][_0x39f143(0x360)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x28d14f[_0x39f143(0x882)]||(_0x28d14f[_0x39f143(0x882)]=(0x0,Q['v4'])()),this['instance']['ScheduleMessage'][_0x39f143(0x492)]?.[_0x39f143(0x882)]===_0x28d14f[_0x39f143(0x882)]?.[_0x39f143(0x2ba)]()){if(_0x28d14f[_0x39f143(0x22e)]===_0x39f143(0x89d))this[_0x39f143(0x1c1)][_0x39f143(0x47d)][_0x39f143(0x492)]=null;else throw new Error(_0x39f143(0x259));}if(_0x28d14f[_0x39f143(0x634)]&&_0x28d14f[_0x39f143(0x882)]){let _0x6c57b0=await this['repository'][_0x39f143(0x45d)]['deleteOne'](_0x28d14f[_0x39f143(0x882)],this[_0x39f143(0x1c1)][_0x39f143(0x360)]);return setTimeout(()=>this[_0x39f143(0x852)](),0x7d0),_0x6c57b0;}let _0x14eb0c=null;if(_0x28d14f[_0x39f143(0x882)]&&(_0x14eb0c=await this[_0x39f143(0x59e)][_0x39f143(0x45d)][_0x39f143(0x1ea)](_0x28d14f[_0x39f143(0x882)],this['instance'][_0x39f143(0x360)])),_0x14eb0c){let {_id:_0x5b39f5,owner:_0x22695b,messages:_0x337f34,..._0x129283}=_0x28d14f;if(_0x337f34){let _0x120ed3=_0x337f34[_0x39f143(0x843)](_0x38fead=>!_0x38fead['_id']),_0x290334=_0x337f34[_0x39f143(0x843)](_0x5cbb6d=>_0x5cbb6d[_0x39f143(0x882)]&&!_0x5cbb6d[_0x39f143(0x634)]),_0x5c45b3=_0x337f34[_0x39f143(0x843)](_0x19ba9f=>_0x19ba9f['_id']&&_0x19ba9f['delete']);if(_0x120ed3['length']>0x0&&await this[_0x39f143(0x842)](_0x28d14f[_0x39f143(0x882)],_0x120ed3),_0x290334['length']>0x0&&await this[_0x39f143(0x269)]({'_id':_0x28d14f[_0x39f143(0x882)],'messages':_0x290334}),_0x5c45b3[_0x39f143(0x1d3)]>0x0){let _0x18129=_0x5c45b3[_0x39f143(0x4c1)](_0x49b523=>({'updateOne':{'filter':{'_id':_0x28d14f[_0x39f143(0x882)]},'update':{'$pull':{'messages':{'_id':_0x49b523['_id']}}}}}));await this[_0x39f143(0x59e)]['scheduleMessage'][_0x39f143(0x68d)](_0x18129,this[_0x39f143(0x1c1)]['wuid']);}}let _0x744ca9={'$set':{..._0x129283,'status':_0x28d14f[_0x39f143(0x22e)]||_0x14eb0c['status']}},_0x1018ca=await this[_0x39f143(0x59e)]['scheduleMessage'][_0x39f143(0x549)](_0x28d14f['_id'],_0x744ca9,this['instance'][_0x39f143(0x360)]);return _0x1018ca&&(this[_0x39f143(0x81f)](_0x1018ca[_0x39f143(0x418)]),await this['repository'][_0x39f143(0x45d)][_0x39f143(0x549)](_0x1018ca[_0x39f143(0x882)],{'$set':{'messages':_0x1018ca[_0x39f143(0x418)]}},this[_0x39f143(0x1c1)][_0x39f143(0x360)])),setTimeout(()=>this[_0x39f143(0x852)](),0x7d0),await this[_0x39f143(0x31e)](),_0x1018ca;}else{_0x28d14f[_0x39f143(0x7ae)]=this[_0x39f143(0x1c1)][_0x39f143(0x360)],_0x28d14f[_0x39f143(0x418)]&&_0x28d14f['messages'][_0x39f143(0x2a0)](_0x90d03=>{const _0x12e45a=_0x39f143;_0x90d03[_0x12e45a(0x882)]||(_0x90d03[_0x12e45a(0x882)]=(0x0,Q['v4'])()),_0x90d03['idSchedule']||(_0x90d03[_0x12e45a(0x528)]=_0x28d14f[_0x12e45a(0x882)]),delete _0x90d03[_0x12e45a(0x334)];});let _0x3d09ae=await this[_0x39f143(0x59e)][_0x39f143(0x45d)][_0x39f143(0x36e)](_0x28d14f,this['instance']['wuid']);return _0x3d09ae&&(this[_0x39f143(0x81f)](_0x3d09ae['messages']),await this[_0x39f143(0x59e)][_0x39f143(0x45d)][_0x39f143(0x549)](_0x3d09ae['_id'],{'$set':{'messages':_0x3d09ae[_0x39f143(0x418)]}},this[_0x39f143(0x1c1)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3d09ae;}}catch(_0x90281e){let _0x546a31=_0x39f143(0x13a),_0x36fdb2=_0x90281e instanceof Error?_0x90281e[_0x39f143(0x7d2)]:typeof _0x90281e=='object'?JSON[_0x39f143(0x524)](_0x90281e):_0x90281e,_0x459332=_0x546a31+':\x20'+_0x36fdb2;throw this[_0x39f143(0x7de)][_0x39f143(0x873)](this[_0x39f143(0x586)]+'\x20('+this[_0x39f143(0x1c1)]['wuid']+_0x39f143(0x351)+_0x459332),new m(_0x459332);}}async[a0_0x13c462(0x842)](_0x5cf01b,_0x412b9f){const _0x4f3b4b=a0_0x13c462;try{this[_0x4f3b4b(0x7de)][_0x4f3b4b(0x3c2)](this[_0x4f3b4b(0x586)]+'\x20('+this['instance'][_0x4f3b4b(0x360)]+_0x4f3b4b(0x3c9)),_0x412b9f['forEach'](_0x13546e=>{const _0x4a9b1a=_0x4f3b4b;_0x13546e[_0x4a9b1a(0x882)]||(_0x13546e[_0x4a9b1a(0x882)]=(0x0,Q['v4'])()),_0x13546e[_0x4a9b1a(0x528)]||(_0x13546e[_0x4a9b1a(0x528)]=_0x5cf01b),delete _0x13546e[_0x4a9b1a(0x334)];});let _0x544115={'$push':{'messages':{'$each':_0x412b9f}}},_0xab8a3d=await this['repository']['scheduleMessage'][_0x4f3b4b(0x549)](_0x5cf01b,_0x544115,this['instance']['wuid']);return _0xab8a3d&&(this[_0x4f3b4b(0x81f)](_0xab8a3d['messages']),await this[_0x4f3b4b(0x59e)][_0x4f3b4b(0x45d)][_0x4f3b4b(0x549)](_0xab8a3d[_0x4f3b4b(0x882)],{'$set':{'messages':_0xab8a3d[_0x4f3b4b(0x418)]}},this[_0x4f3b4b(0x1c1)][_0x4f3b4b(0x360)])),_0xab8a3d;}catch(_0x5c6d49){let _0x58f0a7=_0x4f3b4b(0x42e),_0x4538ee=_0x5c6d49 instanceof Error?_0x5c6d49[_0x4f3b4b(0x7d2)]:typeof _0x5c6d49==_0x4f3b4b(0x50b)?JSON[_0x4f3b4b(0x524)](_0x5c6d49):_0x5c6d49,_0x362b9b=_0x58f0a7+':\x20'+_0x4538ee;throw this['logger']['error'](this[_0x4f3b4b(0x586)]+'\x20('+this[_0x4f3b4b(0x1c1)][_0x4f3b4b(0x360)]+'):\x20'+_0x362b9b),new m(_0x362b9b);}}async['editMessagesInGroup'](_0x34e941){const _0x89db23=a0_0x13c462;try{if(this['logger']['verbose'](this[_0x89db23(0x586)]+'\x20('+this['instance'][_0x89db23(0x360)]+_0x89db23(0x4e8)),!_0x34e941[_0x89db23(0x882)]||!_0x34e941[_0x89db23(0x418)])throw new Error(_0x89db23(0x154));let _0xda5437=_0x34e941[_0x89db23(0x882)],_0x290f21=_0x34e941[_0x89db23(0x418)],_0x21ee37=_0x290f21[_0x89db23(0x843)](_0x30596a=>!_0x30596a[_0x89db23(0x634)])[_0x89db23(0x4c1)](_0x3cc8a4=>{const _0x31f317=_0x89db23;let _0x676cca=_0x3cc8a4[_0x31f317(0x882)];if(!_0x676cca)throw new Error(_0x31f317(0x433));return _0x3cc8a4['idSchedule']||(_0x3cc8a4[_0x31f317(0x528)]=_0xda5437),delete _0x3cc8a4[_0x31f317(0x334)],{'updateOne':{'filter':{'_id':_0xda5437,'messages._id':_0x676cca},'update':{'$set':{'messages.$[elem]':_0x3cc8a4}},'arrayFilters':[{'elem._id':_0x676cca}]}};}),_0x10d350=_0x290f21['filter'](_0x1783d7=>_0x1783d7[_0x89db23(0x634)])['map'](_0x34de49=>{let _0x59de62=_0x34de49['_id'];if(!_0x59de62)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0xda5437},'update':{'$pull':{'messages':{'_id':_0x59de62}}}}};}),_0x5b9a1d=[..._0x21ee37,..._0x10d350],_0x55cb79=await this[_0x89db23(0x59e)][_0x89db23(0x45d)][_0x89db23(0x68d)](_0x5b9a1d,this[_0x89db23(0x1c1)]['wuid']),_0x43f579=await this[_0x89db23(0x59e)][_0x89db23(0x45d)][_0x89db23(0x1ea)](_0xda5437,this[_0x89db23(0x1c1)]['wuid']);return _0x43f579&&(this[_0x89db23(0x81f)](_0x43f579[_0x89db23(0x418)]),await this[_0x89db23(0x59e)][_0x89db23(0x45d)]['updateOneById'](_0x43f579[_0x89db23(0x882)],{'$set':{'messages':_0x43f579[_0x89db23(0x418)]}},this[_0x89db23(0x1c1)]['wuid'])),_0x43f579;}catch(_0x289837){let _0x540f37=_0x89db23(0x217),_0x2fb04d=_0x289837 instanceof Error?_0x289837[_0x89db23(0x7d2)]:typeof _0x289837==_0x89db23(0x50b)?JSON[_0x89db23(0x524)](_0x289837):_0x289837,_0x38e09c=_0x540f37+':\x20'+_0x2fb04d;throw this[_0x89db23(0x7de)][_0x89db23(0x873)](this['instanceName']+'\x20('+this['instance'][_0x89db23(0x360)]+_0x89db23(0x351)+_0x38e09c),new m(_0x38e09c);}}async[a0_0x13c462(0x729)](){const _0x3cd35d=a0_0x13c462;try{let _0x54ccc2={'status':'done'},_0x102227=await this[_0x3cd35d(0x59e)][_0x3cd35d(0x45d)]['deleteMany'](_0x54ccc2,this[_0x3cd35d(0x1c1)]['wuid']);if(!_0x102227[_0x3cd35d(0x873)])this[_0x3cd35d(0x7de)][_0x3cd35d(0x3c2)](this['instanceName']+'\x20('+this[_0x3cd35d(0x1c1)]['wuid']+_0x3cd35d(0x76c));else throw new Error(_0x102227[_0x3cd35d(0x873)]['message']||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x3cd35d(0x232)]();}catch(_0x1b29b5){let _0x394c72=_0x3cd35d(0x5b9),_0x5c1cc6=_0x1b29b5 instanceof Error?_0x1b29b5[_0x3cd35d(0x7d2)]:typeof _0x1b29b5=='object'?JSON[_0x3cd35d(0x524)](_0x1b29b5):_0x1b29b5,_0x451267=_0x394c72+':\x20'+_0x5c1cc6;throw this['logger'][_0x3cd35d(0x873)](this[_0x3cd35d(0x586)]+'\x20('+this[_0x3cd35d(0x1c1)][_0x3cd35d(0x360)]+_0x3cd35d(0x351)+_0x451267),new m(_0x451267);}}async[a0_0x13c462(0x163)](){const _0x1d6067=a0_0x13c462;try{this[_0x1d6067(0x1c1)][_0x1d6067(0x47d)][_0x1d6067(0x551)]=!0x1,this['instance'][_0x1d6067(0x47d)]['processingGroup']=null,this[_0x1d6067(0x2bf)]&&this['queue'][_0x1d6067(0x6bf)](),this[_0x1d6067(0x7de)]['verbose'](this[_0x1d6067(0x586)]+'\x20('+this['instance'][_0x1d6067(0x360)]+_0x1d6067(0x39c)),await new Promise(_0x6b99e6=>setTimeout(_0x6b99e6,0x1388)),this['logger'][_0x1d6067(0x3c2)](this[_0x1d6067(0x586)]+'\x20('+this[_0x1d6067(0x1c1)][_0x1d6067(0x360)]+'):\x20Iniciando\x20processo\x20de\x20deleção...');let _0x17c960=await this[_0x1d6067(0x59e)][_0x1d6067(0x45d)][_0x1d6067(0x1bf)]({},this[_0x1d6067(0x1c1)][_0x1d6067(0x360)]);if(!_0x17c960[_0x1d6067(0x873)])this[_0x1d6067(0x7de)][_0x1d6067(0x3c2)](this[_0x1d6067(0x586)]+'\x20('+this['instance'][_0x1d6067(0x360)]+_0x1d6067(0x86a)),this['logger'][_0x1d6067(0x3c2)](this[_0x1d6067(0x586)]+'\x20('+this[_0x1d6067(0x1c1)][_0x1d6067(0x360)]+_0x1d6067(0x1be)),await new Promise(_0x14e3f3=>setTimeout(_0x14e3f3,0x1388)),this['instance']['ScheduleMessage'][_0x1d6067(0x551)]=!0x0,this[_0x1d6067(0x7de)]['verbose'](this[_0x1d6067(0x586)]+'\x20('+this[_0x1d6067(0x1c1)][_0x1d6067(0x360)]+_0x1d6067(0x5c6)),this['scheduleNextCheck']();else throw new Error(_0x17c960[_0x1d6067(0x873)][_0x1d6067(0x7d2)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x1d6067(0x232)]();}catch(_0x450fae){let _0x2cff01=_0x1d6067(0x1ec),_0xc0041d=_0x450fae instanceof Error?_0x450fae[_0x1d6067(0x7d2)]:typeof _0x450fae==_0x1d6067(0x50b)?JSON['stringify'](_0x450fae):_0x450fae,_0x4be064=_0x2cff01+':\x20'+_0xc0041d;throw this[_0x1d6067(0x7de)]['error'](this[_0x1d6067(0x586)]+'\x20('+this[_0x1d6067(0x1c1)][_0x1d6067(0x360)]+'):\x20'+_0x4be064),new m(_0x4be064);}}async[a0_0x13c462(0x232)](){const _0x4ff019=a0_0x13c462;try{return await this['repository']['scheduleMessage'][_0x4ff019(0x88b)]({'where':{}},this['instance'][_0x4ff019(0x360)]);}catch(_0x4bd7b3){let _0x1448c2=_0x4ff019(0x84b),_0x3c1044=_0x4bd7b3 instanceof Error?_0x4bd7b3['message']:typeof _0x4bd7b3==_0x4ff019(0x50b)?JSON['stringify'](_0x4bd7b3):_0x4bd7b3,_0x5e5b20=_0x1448c2+':\x20'+_0x3c1044;throw this[_0x4ff019(0x7de)][_0x4ff019(0x873)](this[_0x4ff019(0x586)]+'\x20('+this['instance'][_0x4ff019(0x360)]+_0x4ff019(0x351)+_0x5e5b20),new m(_0x5e5b20);}}['reorderMessages'](_0xe16116){const _0x2551fa=a0_0x13c462;_0xe16116[_0x2551fa(0x772)]((_0x117dd3,_0x3a3246)=>_0x117dd3['order']-_0x3a3246[_0x2551fa(0x704)]),_0xe16116[_0x2551fa(0x2a0)]((_0x2a6490,_0x57cf85)=>{const _0x2fce17=_0x2551fa;_0x2a6490[_0x2fce17(0x704)]=_0x57cf85+0x1;});}async['SendScheduleMessage'](_0x2fa0ae,_0xb186c9){const _0xf88b2e=a0_0x13c462;try{if(!_0xb186c9)return this[_0xf88b2e(0x7de)]['error'](this['instanceName']+'\x20('+this[_0xf88b2e(0x1c1)]['wuid']+_0xf88b2e(0x243)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0xb186c9[_0xf88b2e(0x2b5)]===_0xf88b2e(0x5e0)&&!this['AutomateSystem']?.['flowConfig'][_0xf88b2e(0x245)])return this[_0xf88b2e(0x7de)][_0xf88b2e(0x873)](this[_0xf88b2e(0x586)]+'\x20('+this[_0xf88b2e(0x1c1)][_0xf88b2e(0x360)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0xf88b2e(0x5f0)};switch(_0xb186c9[_0xf88b2e(0x2b5)]){case _0xf88b2e(0x1e0):return await this[_0xf88b2e(0x731)](_0xb186c9,_0x2fa0ae);case'video':case _0xf88b2e(0x25b):case _0xf88b2e(0x7d3):return await this[_0xf88b2e(0x386)](_0xb186c9,_0x2fa0ae);case _0xf88b2e(0x604):return await this[_0xf88b2e(0x79d)](_0xb186c9,_0x2fa0ae);case _0xf88b2e(0x5e0):let _0x363af7=new ze();return _0x363af7[_0xf88b2e(0x42b)]=_0xb186c9['flow'],_0x363af7[_0xf88b2e(0x3aa)]=_0x2fa0ae,await this['startFlow'](_0x363af7);default:return this['logger'][_0xf88b2e(0x873)](this['instanceName']+'\x20('+this[_0xf88b2e(0x1c1)][_0xf88b2e(0x360)]+_0xf88b2e(0x653)+_0xb186c9['type']),{'error':!0x0,'detail':_0xf88b2e(0x830)};}}catch(_0x1daa4){return this[_0xf88b2e(0x7de)]['error'](this['instanceName']+'\x20('+this[_0xf88b2e(0x1c1)]['wuid']+_0xf88b2e(0x8af)+(_0x1daa4 instanceof Error?_0x1daa4['message']:JSON['stringify'](_0x1daa4,null,0x2))),{'error':!0x0,'detail':_0x1daa4[_0xf88b2e(0x7d2)]};}}async[a0_0x13c462(0x731)](_0x59a186,_0x286412){const _0x4923ab=a0_0x13c462;if(this['logger'][_0x4923ab(0x3c2)](this['instanceName']+'\x20('+this[_0x4923ab(0x1c1)][_0x4923ab(0x360)]+_0x4923ab(0x273)+_0x286412+'\x27'),!_0x59a186[_0x4923ab(0x1e0)]||_0x59a186[_0x4923ab(0x1e0)][_0x4923ab(0x1d3)]===0x0)return{'error':!0x0,'detail':_0x4923ab(0x7e8)};let _0x1fb0fd=await this[_0x4923ab(0x52d)](_0x59a186[_0x4923ab(0x1e0)],_0x286412),_0x2ff3fe={'number':_0x286412,'options':{'delay':_0x59a186[_0x4923ab(0x184)],'linkPreview':_0x59a186[_0x4923ab(0x340)]},'textMessage':{'text':_0x1fb0fd}},_0x2d2ce5=null;try{let _0x2b914c=await this[_0x4923ab(0x2db)](_0x2ff3fe);if(_0x2b914c&&_0x2b914c[_0x4923ab(0x22e)])return{'error':!0x1,'id':_0x2b914c['key']['id']};_0x2d2ce5=JSON[_0x4923ab(0x524)](_0x2b914c),this[_0x4923ab(0x7de)][_0x4923ab(0x3c2)](this[_0x4923ab(0x586)]+'\x20('+this['instance'][_0x4923ab(0x360)]+'):\x20'+_0x2d2ce5);}catch(_0x5018e9){this[_0x4923ab(0x7de)][_0x4923ab(0x873)](this[_0x4923ab(0x586)]+'\x20('+this[_0x4923ab(0x1c1)]['wuid']+_0x4923ab(0x481)+(_0x5018e9 instanceof Error?_0x5018e9[_0x4923ab(0x7d2)]:JSON['stringify'](_0x5018e9,null,0x2))),_0x2d2ce5=_0x5018e9[_0x4923ab(0x7d2)];}if(_0x2d2ce5)return{'error':!0x0,'detail':(typeof _0x2d2ce5==_0x4923ab(0x50b)?JSON['stringify'](_0x2d2ce5,null,0x2):_0x2d2ce5)[_0x4923ab(0x445)](/[\[\]{}\n]/g,'\x20')[_0x4923ab(0x445)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x508980,_0x11a21a){const _0x724911=a0_0x13c462;this[_0x724911(0x7de)]['verbose'](this[_0x724911(0x586)]+'\x20('+this['instance'][_0x724911(0x360)]+_0x724911(0x4ed)+_0x11a21a+'\x27');let _0x1adad5;_0x508980[_0x724911(0x1e0)]&&_0x508980[_0x724911(0x1e0)][_0x724911(0x1d3)]>0x0&&(_0x1adad5=await this[_0x724911(0x52d)](_0x508980[_0x724911(0x1e0)],_0x11a21a));let _0x24e8ea={'number':_0x11a21a,'options':{'delay':_0x508980[_0x724911(0x184)],'linkPreview':_0x508980[_0x724911(0x340)]},'mediaMessage':{'mediatype':_0x508980['type'],'caption':_0x1adad5,'media':_0x508980['urlOrBase64']}},_0x35cf8b=null;try{let _0x2934e2=await this['mediaMessage'](_0x24e8ea);if(_0x2934e2&&_0x2934e2[_0x724911(0x22e)])return{'error':!0x1,'id':_0x2934e2[_0x724911(0x733)]['id']};_0x35cf8b=JSON[_0x724911(0x524)](_0x2934e2),this['logger'][_0x724911(0x3c2)](this[_0x724911(0x586)]+'\x20('+this['instance'][_0x724911(0x360)]+'):\x20'+_0x35cf8b);}catch(_0x2aae7a){this[_0x724911(0x7de)][_0x724911(0x873)](this[_0x724911(0x586)]+'\x20('+this[_0x724911(0x1c1)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x2aae7a instanceof Error?_0x2aae7a[_0x724911(0x7d2)]:JSON[_0x724911(0x524)](_0x2aae7a,null,0x2))),_0x35cf8b=_0x2aae7a[_0x724911(0x7d2)];}if(_0x35cf8b)return{'error':!0x0,'detail':(typeof _0x35cf8b=='object'?JSON['stringify'](_0x35cf8b,null,0x2):_0x35cf8b)['replace'](/[\[\]{}\n]/g,'\x20')[_0x724911(0x445)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x1132fc,_0x570378){const _0x57ee70=a0_0x13c462;this[_0x57ee70(0x7de)][_0x57ee70(0x3c2)](this[_0x57ee70(0x586)]+'\x20('+this['instance']['wuid']+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x570378+'\x27');let _0x5cf9c1={'number':_0x570378,'options':{'delay':_0x1132fc[_0x57ee70(0x184)]},'audioMessage':{'audio':_0x1132fc[_0x57ee70(0x38a)]}},_0xfb55d9=null;try{let _0x526ecc=await this[_0x57ee70(0x12f)](_0x5cf9c1);if(_0x526ecc&&_0x526ecc[_0x57ee70(0x22e)])return{'error':!0x1,'id':_0x526ecc['key']['id']};_0xfb55d9=JSON[_0x57ee70(0x524)](_0x526ecc),this[_0x57ee70(0x7de)][_0x57ee70(0x3c2)](this['instanceName']+'\x20('+this[_0x57ee70(0x1c1)][_0x57ee70(0x360)]+_0x57ee70(0x351)+_0xfb55d9);}catch(_0x528158){this[_0x57ee70(0x7de)]['error'](this[_0x57ee70(0x586)]+'\x20('+this[_0x57ee70(0x1c1)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x528158 instanceof Error?_0x528158[_0x57ee70(0x7d2)]:JSON[_0x57ee70(0x524)](_0x528158,null,0x2))),_0xfb55d9=_0x528158[_0x57ee70(0x7d2)];}if(_0xfb55d9)return{'error':!0x0,'detail':(typeof _0xfb55d9==_0x57ee70(0x50b)?JSON[_0x57ee70(0x524)](_0xfb55d9,null,0x2):_0xfb55d9)[_0x57ee70(0x445)](/[\[\]{}\n]/g,'\x20')[_0x57ee70(0x445)](/  +/g,'\x20')};}async[a0_0x13c462(0x675)](_0x55a0ca){const _0x428cf4=a0_0x13c462;try{return await this[_0x428cf4(0x155)][_0x428cf4(0x29a)](_0x55a0ca[_0x428cf4(0x261)],_0x55a0ca[_0x428cf4(0x65b)]),{'update':'success'};}catch(_0x38c157){let _0xb9f6b=_0x428cf4(0x3da),_0x5916d7=_0x38c157 instanceof Error?_0x38c157[_0x428cf4(0x7d2)]:typeof _0x38c157=='object'?JSON[_0x428cf4(0x524)](_0x38c157):_0x38c157,_0x410157=_0xb9f6b+':\x20'+_0x5916d7;throw this[_0x428cf4(0x7de)][_0x428cf4(0x873)](this[_0x428cf4(0x586)]+'\x20('+this[_0x428cf4(0x1c1)][_0x428cf4(0x360)]+_0x428cf4(0x351)+_0x410157),new x(_0x410157);}}async[a0_0x13c462(0x447)](_0x335bac){const _0x1d4e8e=a0_0x13c462;try{return await this[_0x1d4e8e(0x155)][_0x1d4e8e(0x211)](_0x335bac[_0x1d4e8e(0x261)],_0x335bac['name']),{'update':_0x1d4e8e(0x34b)};}catch(_0x5cc5dc){let _0x532cdf=_0x1d4e8e(0x48c),_0x49466b=_0x5cc5dc instanceof Error?_0x5cc5dc[_0x1d4e8e(0x7d2)]:typeof _0x5cc5dc=='object'?JSON['stringify'](_0x5cc5dc):_0x5cc5dc,_0x1d329c=_0x532cdf+':\x20'+_0x49466b;throw this['logger'][_0x1d4e8e(0x873)](this[_0x1d4e8e(0x586)]+'\x20('+this['instance'][_0x1d4e8e(0x360)]+_0x1d4e8e(0x351)+_0x1d329c),new x(_0x1d329c);}}async[a0_0x13c462(0x776)](_0x4b47e9){const _0x590b1a=a0_0x13c462;try{let _0x3ccf23=await this[_0x590b1a(0x155)]['groupToggleEphemeral'](_0x4b47e9[_0x590b1a(0x261)],_0x4b47e9[_0x590b1a(0x4a3)]);return{'success':!0x0};}catch(_0x5ef5d3){let _0x4d6771=_0x590b1a(0x1e6),_0x568f1c=_0x5ef5d3 instanceof Error?_0x5ef5d3[_0x590b1a(0x7d2)]:typeof _0x5ef5d3==_0x590b1a(0x50b)?JSON[_0x590b1a(0x524)](_0x5ef5d3):_0x5ef5d3,_0x43c253=_0x4d6771+':\x20'+_0x568f1c;throw this['logger'][_0x590b1a(0x873)](this['instanceName']+'\x20('+this['instance'][_0x590b1a(0x360)]+_0x590b1a(0x351)+_0x43c253),new x(_0x43c253);}}async[a0_0x13c462(0x5ed)](_0x4a8f50){const _0x538a23=a0_0x13c462;try{return await this['client']['groupSettingUpdate'](_0x4a8f50[_0x538a23(0x261)],_0x4a8f50['setting']),{'update':_0x538a23(0x34b)};}catch(_0x53f8ee){let _0x46b177=_0x538a23(0x3f1),_0x16fb34=_0x53f8ee instanceof Error?_0x53f8ee[_0x538a23(0x7d2)]:typeof _0x53f8ee==_0x538a23(0x50b)?JSON[_0x538a23(0x524)](_0x53f8ee):_0x53f8ee,_0x2ff408=_0x46b177+':\x20'+_0x16fb34;throw this[_0x538a23(0x7de)]['error'](this[_0x538a23(0x586)]+'\x20('+this[_0x538a23(0x1c1)][_0x538a23(0x360)]+_0x538a23(0x351)+_0x2ff408),new x(_0x2ff408);}}async[a0_0x13c462(0x256)](_0x38722d){const _0x3b23fe=a0_0x13c462;try{let _0x594f08;if((0x0,J[_0x3b23fe(0x883)])(_0x38722d['image'])){let _0x262c26=new Date()[_0x3b23fe(0x527)](),_0x7c579d=_0x38722d[_0x3b23fe(0x25b)]+_0x3b23fe(0x8a8)+_0x262c26;_0x594f08=(await K['default']['get'](_0x7c579d,{'responseType':'arraybuffer'}))[_0x3b23fe(0x4a7)];}else{if((0x0,J[_0x3b23fe(0x40a)])(_0x38722d[_0x3b23fe(0x25b)]))_0x594f08=Buffer['from'](_0x38722d['image'],'base64');else throw new m(_0x3b23fe(0x354));}return await this[_0x3b23fe(0x155)][_0x3b23fe(0x698)](_0x38722d['groupJid'],_0x594f08),{'update':'success'};}catch(_0x2d4cd2){let _0x28016b=_0x3b23fe(0x415),_0x1af193=_0x2d4cd2 instanceof Error?_0x2d4cd2[_0x3b23fe(0x7d2)]:typeof _0x2d4cd2==_0x3b23fe(0x50b)?JSON[_0x3b23fe(0x524)](_0x2d4cd2):_0x2d4cd2,_0x315017=_0x28016b+':\x20'+_0x1af193;throw this[_0x3b23fe(0x7de)][_0x3b23fe(0x873)](this[_0x3b23fe(0x586)]+'\x20('+this[_0x3b23fe(0x1c1)]['wuid']+'):\x20'+_0x315017),new x(_0x315017);}}},jt=class u{constructor(_0x3864b6,_0x340057,_0x1bec1b){const _0x24323e=a0_0x13c462;this[_0x24323e(0x437)]=_0x3864b6,this[_0x24323e(0x310)]=_0x340057,this[_0x24323e(0x59e)]=_0x1bec1b,this['db']={},this[_0x24323e(0x3d0)]={},this[_0x24323e(0x7de)]=new $(u[_0x24323e(0x42b)]),this[_0x24323e(0x7f5)]={},(this[_0x24323e(0x4e5)](),this['noConnection'](),Object[_0x24323e(0x5c4)](this['db'],_0x340057[_0x24323e(0x6a5)](_0x24323e(0x169))),Object[_0x24323e(0x5c4)](this[_0x24323e(0x3d0)],_0x340057[_0x24323e(0x6a5)](_0x24323e(0x3bd))),this[_0x24323e(0x4c0)]=this['db'][_0x24323e(0x7cc)]?this[_0x24323e(0x59e)][_0x24323e(0x428)]?.['db'](this['db'][_0x24323e(0x6c8)][_0x24323e(0x880)]+_0x24323e(0x683)):void 0x0,this['cache']=this['redis']['ENABLED']?new ue(this['redis']):void 0x0);}async['instanceInfo'](_0x1d73d0){const _0x32dc59=a0_0x13c462;if(_0x1d73d0&&!this['waInstances'][_0x1d73d0])throw new U(_0x32dc59(0x499)+_0x1d73d0+_0x32dc59(0x472));let _0x5bcfcd=[];for await(let [_0x1a7a71,_0x189209]of Object[_0x32dc59(0x1ce)](this[_0x32dc59(0x7f5)]))if(_0x189209&&_0x189209['connectionStatus'][_0x32dc59(0x554)]===_0x32dc59(0x185)){let _0x8b35e7=await this['repository'][_0x32dc59(0x775)][_0x32dc59(0x88b)](_0x1a7a71);_0x5bcfcd[_0x32dc59(0x438)]({'instance':{'instanceName':_0x1a7a71,'apikey':_0x8b35e7[_0x32dc59(0x459)],'owner':_0x189209[_0x32dc59(0x360)],'profileName':await _0x189209[_0x32dc59(0x3a9)]()||_0x32dc59(0x24f),'profilePictureUrl':_0x189209[_0x32dc59(0x15b)]}});}return _0x5bcfcd[_0x32dc59(0x88b)](_0x30bc2b=>_0x30bc2b[_0x32dc59(0x1c1)][_0x32dc59(0x586)]===_0x1d73d0)??_0x5bcfcd;}async['cleaningUp'](_0x23a4b6){const _0x280349=a0_0x13c462;if(this['db']['ENABLED']&&(await this[_0x280349(0x59e)][_0x280349(0x428)][_0x280349(0x7e5)](),(await this[_0x280349(0x4c0)]['collections']())['length']>0x0&&await this[_0x280349(0x4c0)][_0x280349(0x388)](_0x23a4b6)),this['redis'][_0x280349(0x7cc)]){this[_0x280349(0x557)][_0x280349(0x889)]=_0x23a4b6,await this[_0x280349(0x557)][_0x280349(0x8c3)]();return;}}async[a0_0x13c462(0x345)](){const _0x68d371=a0_0x13c462;await this['InstancesAlterarTodas']();let _0x300967=async _0xeec98e=>{const _0x4b9b38=a0_0x1c5b;let _0x5bd1f0=new $e(this[_0x4b9b38(0x310)],this[_0x4b9b38(0x437)],this['repository']);_0x5bd1f0[_0x4b9b38(0x586)]=_0xeec98e,await _0x5bd1f0['connectToWhatsapp'](),this[_0x4b9b38(0x7f5)][_0xeec98e]=_0x5bd1f0;};try{if(this[_0x68d371(0x3d0)][_0x68d371(0x7cc)]){let _0xf6435e=await this[_0x68d371(0x557)]['instanceKeys']();_0xf6435e?.[_0x68d371(0x1d3)]>0x0&&_0xf6435e['forEach'](async _0x582d9e=>await _0x300967(_0x582d9e['split'](':')[0x1]));return;}if(this['db'][_0x68d371(0x7cc)]){await this['repository'][_0x68d371(0x428)]['connect']();let _0x1f2992=await this['dbInstance']['collections']();_0x1f2992[_0x68d371(0x1d3)]>0x0&&_0x1f2992[_0x68d371(0x2a0)](async _0x3b36eb=>await _0x300967(_0x3b36eb[_0x68d371(0x20b)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x29b37b){this['logger'][_0x68d371(0x873)](_0x29b37b);}}async[a0_0x13c462(0x4ac)](){const _0x254802=a0_0x13c462;try{let _0x2d8543=await this[_0x254802(0x59e)][_0x254802(0x775)][_0x254802(0x5b1)]({'online':!0x1});console['log'](_0x254802(0x2b6)+_0x2d8543[_0x254802(0x1d3)]);let _0x4b229b={'online':!0x1},_0x2b273b=await this[_0x254802(0x59e)][_0x254802(0x775)][_0x254802(0x1bf)](_0x4b229b);console[_0x254802(0x253)](_0x254802(0x7d1)+_0x2b273b[_0x254802(0x22a)]);}catch(_0x18caed){console[_0x254802(0x873)](_0x254802(0x430),_0x18caed);}}async[a0_0x13c462(0x32a)](){const _0xcf824c=a0_0x13c462;try{let _0x27116c={'online':!0x1},_0x485d55={'online':!0x1,'lastDisconnect':Date[_0xcf824c(0x421)]()},_0x3470d8=await this[_0xcf824c(0x59e)]['auth'][_0xcf824c(0x7ed)](_0x27116c,_0x485d55);await this[_0xcf824c(0x4ac)]();}catch(_0x4ce24d){console[_0xcf824c(0x873)](_0xcf824c(0x74b),_0x4ce24d);}}[a0_0x13c462(0x4e5)](){const _0x5e86de=a0_0x13c462;this['eventEmitter']['on'](_0x5e86de(0x27f),async _0x5e8b83=>{const _0xe26423=_0x5e86de;try{this['waInstances'][_0x5e8b83]=void 0x0;}catch{}try{this[_0xe26423(0x80e)](_0x5e8b83);}finally{this[_0xe26423(0x7de)][_0xe26423(0x30b)]('Instance\x20\x22'+_0x5e8b83+'\x22\x20-\x20REMOVED');}});}[a0_0x13c462(0x8c7)](){const _0x322df2=a0_0x13c462;this[_0x322df2(0x437)]['on']('no.connection',async _0x5ea8d7=>{const _0x389709=_0x322df2;try{this[_0x389709(0x7f5)][_0x5ea8d7]=void 0x0;}catch{}try{this[_0x389709(0x80e)](_0x5ea8d7);}finally{this[_0x389709(0x7de)][_0x389709(0x30b)](_0x389709(0x499)+_0x5ea8d7+_0x389709(0x7fb));}});}},Jt=class extends O{[a0_0x13c462(0x266)](_0x7e91a4){return ta(_0x7e91a4);}async[a0_0x13c462(0x7d5)](_0x54bbb1){const _0x5b44f0=a0_0x13c462;if(_0x54bbb1[_0x5b44f0(0x1d3)]!==0x0)try{return{'insertCount':(await this[_0x5b44f0(0x266)](_0x54bbb1[0x0]['owner'])[_0x5b44f0(0x63b)]([..._0x54bbb1]))[_0x5b44f0(0x1d3)]};}catch(_0x36d47c){return _0x36d47c;}}async[a0_0x13c462(0x88b)](_0x2c6bb0,_0x356847){const _0x4d24d9=a0_0x13c462;try{let _0x7787b2=this['getChatModelForOwner'](_0x356847),_0x5bb570=A(_0x2c6bb0['where']);return await _0x7787b2[_0x4d24d9(0x88b)](_0x5bb570)[_0x4d24d9(0x772)]({'lastmsg':-0x1})[_0x4d24d9(0x2bd)](_0x2c6bb0?.[_0x4d24d9(0x2bd)]??0x0)[_0x4d24d9(0x4fc)]();}catch{return[];}}async[a0_0x13c462(0x582)](_0x2663c8,_0x3666c9){const _0x3c57ea=a0_0x13c462;try{let _0x35888=this['getChatModelForOwner'](_0x3666c9),_0x1cde60=A(_0x2663c8[_0x3c57ea(0x577)]);return _0x1cde60[_0x3c57ea(0x252)]={'$ne':[]},await _0x35888[_0x3c57ea(0x88b)](_0x1cde60)['sort']({'lastmsg':-0x1})[_0x3c57ea(0x2bd)](_0x2663c8?.[_0x3c57ea(0x2bd)]??0x0)['lean']();}catch{return[];}}async[a0_0x13c462(0x634)](_0x5629ee,_0x528c67){const _0x212f0a=a0_0x13c462;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x528c67)[_0x212f0a(0x1bf)]({..._0x5629ee[_0x212f0a(0x577)]}))[_0x212f0a(0x7f8)]};}catch(_0x37efb0){return{'error':_0x37efb0?.[_0x212f0a(0x2ba)]()};}}async['deleteAll'](_0xcc1d98,_0x250dae){const _0x258dce=a0_0x13c462;try{return await this[_0x258dce(0x266)](_0x250dae)[_0x258dce(0x1bf)]({..._0xcc1d98['where']}),[];}catch(_0x16cc1a){return{'error':_0x16cc1a?.[_0x258dce(0x2ba)]()};}}async[a0_0x13c462(0x4cd)](_0x31b4c6,_0x569335){const _0x26d07c=a0_0x13c462;try{let _0x8269b9=this[_0x26d07c(0x266)](_0x569335),_0x84c51a=A(_0x31b4c6[_0x26d07c(0x577)]);return await _0x8269b9['findOne'](_0x84c51a)[_0x26d07c(0x4fc)]();}catch{return null;}}async[a0_0x13c462(0x176)](_0x306213,_0x3b036f,_0x522912,_0x487706,_0x5d7809=a0_0x13c462(0x7e0)){const _0x94ff2=a0_0x13c462;try{let _0x25540f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x487706},_0x44c0d5=this[_0x94ff2(0x266)](_0x522912),_0x51b035=A(_0x306213['where']);Object['keys'](_0x3b036f)[_0x94ff2(0x2a0)](_0x55c873=>{_0x3b036f[_0x55c873]==null&&delete _0x3b036f[_0x55c873];});let _0x2bf402={};return _0x2bf402[_0x5d7809]=_0x3b036f,await _0x44c0d5['findOneAndUpdate'](_0x51b035,_0x2bf402,_0x25540f);}catch(_0x5e5165){return console['error'](_0x5e5165),null;}}async[a0_0x13c462(0x832)](_0x5bb7be){const _0x2ace65=a0_0x13c462;try{let _0x4b5258=this['getChatModelForOwner'](_0x5bb7be[0x0]['query']['where']['owner']),_0x578c5c=_0x5bb7be[_0x2ace65(0x4c1)](_0x3e2be8=>({'updateOne':{'filter':{..._0x3e2be8['query']['where']},'update':{'$set':_0x3e2be8[_0x2ace65(0x823)]},'upsert':!0x0}})),_0x394a3f=await _0x4b5258[_0x2ace65(0x68d)](_0x578c5c);return _0x394a3f[_0x2ace65(0x779)]+_0x394a3f[_0x2ace65(0x829)];}catch(_0xf68504){return console[_0x2ace65(0x873)](_0xf68504),0x0;}}async['removeUnusedChatFields'](_0x3ba658){const _0x7503db=a0_0x13c462;try{let _0xa05586={'group_isCommunity':'','group_announce':'','group_size':''},_0x21246d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1810cb={'$unset':_0xa05586};return(await this['getChatModelForOwner'](_0x3ba658)['updateMany'](_0x21246d,_0x1810cb))[_0x7503db(0x779)];}catch(_0x1117a6){return console[_0x7503db(0x873)](_0x7503db(0x3de),_0x1117a6),0x0;}}async[a0_0x13c462(0x791)](_0x558552){const _0x409ee1=a0_0x13c462;try{let _0x341875=this[_0x409ee1(0x266)](_0x558552),_0x26dc97={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4ec3cf={'$set':{'leadInfo.etiquetas':[]}};return(await _0x341875[_0x409ee1(0x832)](_0x26dc97,_0x4ec3cf))[_0x409ee1(0x779)];}catch(_0x5d9e24){return console[_0x409ee1(0x873)](_0x5d9e24),0x0;}}async[a0_0x13c462(0x431)](_0x4ed52a){const _0x3cc0bd=a0_0x13c462;try{let _0x1bd0bb=this[_0x3cc0bd(0x266)](_0x4ed52a),_0x3d6b91={'leadInfo.tags':{'$exists':!0x1}},_0x5a3515={'$set':{'leadInfo.tags':[]}};return(await _0x1bd0bb[_0x3cc0bd(0x832)](_0x3d6b91,_0x5a3515))[_0x3cc0bd(0x779)];}catch(_0x2460a3){return console[_0x3cc0bd(0x873)](_0x2460a3),0x0;}}async[a0_0x13c462(0x83a)](_0x39e2de){const _0x3edcf2=a0_0x13c462;try{let _0x477ad3=this['getChatModelForOwner'](_0x39e2de),_0x2e2aed={'leadInfo.customFields':{'$exists':!0x1}},_0x2af2d5={'$set':{'leadInfo.customFields':[]}};return(await _0x477ad3[_0x3edcf2(0x832)](_0x2e2aed,_0x2af2d5))['modifiedCount'];}catch(_0x5dcd47){return console[_0x3edcf2(0x873)](_0x5dcd47),0x0;}}async[a0_0x13c462(0x63b)](_0x1ee8a7,_0x4de5bd){const _0x433006=a0_0x13c462;if(!Array[_0x433006(0x41b)](_0x1ee8a7)||_0x1ee8a7[_0x433006(0x1d3)]===0x0)throw new Error(_0x433006(0x35f));try{return(await this['getChatModelForOwner'](_0x4de5bd)[_0x433006(0x63b)](_0x1ee8a7))[_0x433006(0x1d3)];}catch(_0x2deff2){throw console[_0x433006(0x873)]('Erro\x20ao\x20inserir\x20chats:',_0x2deff2),_0x2deff2;}}async[a0_0x13c462(0x5ab)](_0x5734aa,_0xe9dc4a){const _0x3f6a68=a0_0x13c462;try{await this[_0x3f6a68(0x266)](_0xe9dc4a)[_0x3f6a68(0x87c)]({'_id':_0x5734aa});}catch(_0x38b8fa){throw console[_0x3f6a68(0x873)]('Erro\x20ao\x20deletar\x20chat:',_0x38b8fa),_0x38b8fa;}}},qt=class extends O{constructor(_0x43c8f5,_0x236ba4,_0x1a1c20){const _0x20b3bb=a0_0x13c462;super(_0x236ba4),this[_0x20b3bb(0x43b)]=_0x43c8f5,this[_0x20b3bb(0x310)]=_0x236ba4,this['dbConnection']=_0x1a1c20;}async[a0_0x13c462(0x7d5)](_0x538e1e){const _0x518f56=a0_0x13c462;if(_0x538e1e[_0x518f56(0x1d3)]!==0x0)try{return{'insertCount':(await this[_0x518f56(0x43b)][_0x518f56(0x63b)]([..._0x538e1e]))[_0x518f56(0x1d3)]};}catch(_0xbd830d){return _0xbd830d;}}async[a0_0x13c462(0x823)](_0x16042f,_0x216aad){const _0x309ecc=a0_0x13c462;try{let _0x346ffa=A(_0x16042f[_0x309ecc(0x577)]);return{'updatedCount':(await this[_0x309ecc(0x43b)]['updateMany'](_0x346ffa,{'$set':_0x216aad}))['modifiedCount']};}catch(_0x1d9633){return console['error'](_0x309ecc(0x4af),_0x1d9633),{'error':_0x1d9633['toString']()};}}async['findManyByIds'](_0x229259){const _0x41098d=a0_0x13c462;try{let _0x17a8a7={'_id':{'$in':_0x229259}};return await this[_0x41098d(0x43b)][_0x41098d(0x88b)](_0x17a8a7)['lean']();}catch(_0x47af88){return console[_0x41098d(0x873)](_0x41098d(0x23d),_0x47af88),[];}}async['delete'](_0x1563cb){const _0x138b07=a0_0x13c462;try{return{'deletedCount':(await this[_0x138b07(0x43b)]['deleteMany']({..._0x1563cb[_0x138b07(0x577)]}))[_0x138b07(0x7f8)]};}catch(_0x1eb15d){return{'error':_0x1eb15d?.['toString']()};}}async[a0_0x13c462(0x88b)](_0x5d66ca){const _0x2210e9=a0_0x13c462;try{let _0x4ece98=A(_0x5d66ca['where']);return await this[_0x2210e9(0x43b)]['find'](_0x4ece98)[_0x2210e9(0x2bd)](_0x5d66ca?.[_0x2210e9(0x2bd)]??0x0)['lean']();}catch{return[];}}async[a0_0x13c462(0x4cd)](_0x4118c5){const _0x395317=a0_0x13c462;try{let _0x28bf2b=A(_0x4118c5[_0x395317(0x577)]);return await this['cacheContactModel'][_0x395317(0x4cd)](_0x28bf2b)[_0x395317(0x4fc)]();}catch{return null;}}},Vt=class extends O{constructor(_0x48969b,_0x209284,_0x8374ce){const _0x61ef77=a0_0x13c462;super(_0x209284),this[_0x61ef77(0x1bb)]=_0x48969b,this[_0x61ef77(0x310)]=_0x209284,this[_0x61ef77(0x4d7)]=_0x8374ce;}async[a0_0x13c462(0x7d5)](_0x4e56d9){const _0x9796d6=a0_0x13c462;if(_0x4e56d9[_0x9796d6(0x1d3)]!==0x0)try{return{'insertCount':(await this[_0x9796d6(0x1bb)][_0x9796d6(0x63b)]([..._0x4e56d9]))[_0x9796d6(0x1d3)]};}catch(_0x29991a){return _0x29991a;}}async['update'](_0x353bdc,_0x149096){const _0xf7fc12=a0_0x13c462;try{let _0x17ffc2=A(_0x353bdc[_0xf7fc12(0x577)]);return{'updatedCount':(await this['messageLogsModel']['updateMany'](_0x17ffc2,{'$set':_0x149096}))['modifiedCount']};}catch(_0x573188){return console[_0xf7fc12(0x873)](_0xf7fc12(0x4af),_0x573188),{'error':_0x573188['toString']()};}}async[a0_0x13c462(0x634)](_0x3cf94b){const _0x2fb300=a0_0x13c462;try{return{'deletedCount':(await this[_0x2fb300(0x1bb)][_0x2fb300(0x1bf)]({..._0x3cf94b[_0x2fb300(0x577)]}))[_0x2fb300(0x7f8)]};}catch(_0x5a2540){return{'error':_0x5a2540?.[_0x2fb300(0x2ba)]()};}}async[a0_0x13c462(0x4cd)](_0x56293b){const _0x4c615c=a0_0x13c462;try{let _0x5ad2ea=A(_0x56293b[_0x4c615c(0x577)]);return await this[_0x4c615c(0x1bb)][_0x4c615c(0x4cd)](_0x5ad2ea)['lean']();}catch{return null;}}},Gt=class extends O{[a0_0x13c462(0x7d0)](_0x4db5a2){return va(_0x4db5a2);}async[a0_0x13c462(0x176)](_0x353dfd,_0x3060e9,_0x344297,_0x3b6017){const _0x4bdd7a=a0_0x13c462;try{let _0x31808a={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3b6017},_0x307b39=this[_0x4bdd7a(0x7d0)](_0x344297),_0x2bda63=A(_0x353dfd[_0x4bdd7a(0x577)]);return await _0x307b39[_0x4bdd7a(0x651)](_0x2bda63,{'$set':_0x3060e9},_0x31808a);}catch(_0x27c1a8){return console[_0x4bdd7a(0x873)](_0x27c1a8),null;}}async[a0_0x13c462(0x88b)](_0x53fad3,_0x155e6c){const _0x35c6af=a0_0x13c462;try{let _0x424c19=this[_0x35c6af(0x7d0)](_0x155e6c),_0x224d3d=A(_0x53fad3[_0x35c6af(0x577)]);return await _0x424c19[_0x35c6af(0x88b)](_0x224d3d);}catch(_0x4c336a){console[_0x35c6af(0x873)](_0x4c336a);}}async['delete'](_0x1a2ac8,_0x255e6c){const _0x384208=a0_0x13c462;try{let _0x12bf28=this['getLabelModelForOwner'](_0x255e6c),_0x237bc2=A(_0x1a2ac8['where']);await _0x12bf28[_0x384208(0x1bf)](_0x237bc2);}catch(_0x4bb834){console[_0x384208(0x873)](_0x4bb834);}}async[a0_0x13c462(0x6c1)](_0x2def83){const _0x44d25d=a0_0x13c462;try{return await this['getLabelModelForOwner'](_0x2def83)[_0x44d25d(0x7a4)]['drop'](),{'success':!0x0};}catch(_0x3b4025){return console[_0x44d25d(0x873)](_0x3b4025),{'success':!0x1,'error':_0x3b4025};}}},Bt=class{constructor(_0x149936){this['waMonitor']=_0x149936;}async[a0_0x13c462(0x54c)]({instanceName:_0xa698c6},_0x3a8086){const _0x63393e=a0_0x13c462;return await this[_0x63393e(0x6cd)][_0x63393e(0x7f5)][_0xa698c6][_0x63393e(0x54c)](_0x3a8086);}async[a0_0x13c462(0x1de)]({instanceName:_0x10370e},_0x251d12){const _0x313e8e=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x10370e][_0x313e8e(0x1de)](_0x251d12);}async[a0_0x13c462(0x318)]({instanceName:_0x14d12e},_0x385a8c){const _0x250c96=a0_0x13c462;return await this[_0x250c96(0x6cd)][_0x250c96(0x7f5)][_0x14d12e]['importChats'](_0x385a8c);}async[a0_0x13c462(0x16e)]({instanceName:_0x2f1d99},_0x2464ca){const _0x3d8cb7=a0_0x13c462;return await this[_0x3d8cb7(0x6cd)]['waInstances'][_0x2f1d99][_0x3d8cb7(0x69a)](_0x2464ca);}async['archiveChat']({instanceName:_0x1377a6},_0x14cb89){const _0x40ef0e=a0_0x13c462;return await this[_0x40ef0e(0x6cd)]['waInstances'][_0x1377a6]['archiveChat'](_0x14cb89);}async[a0_0x13c462(0x3cf)]({instanceName:_0x10e49a},_0x4643de){const _0x4e1c72=a0_0x13c462;return await this[_0x4e1c72(0x6cd)]['waInstances'][_0x10e49a][_0x4e1c72(0x3cf)](_0x4643de);}async['fetchProfilePicture']({instanceName:_0x2ad6ed},_0x100d06){const _0x2af202=a0_0x13c462;return await this[_0x2af202(0x6cd)][_0x2af202(0x7f5)][_0x2ad6ed][_0x2af202(0x758)](_0x100d06['number']);}async[a0_0x13c462(0x887)]({instanceName:_0x7843fd},_0x3acef1){const _0x29e8f8=a0_0x13c462;return await this[_0x29e8f8(0x6cd)][_0x29e8f8(0x7f5)][_0x7843fd][_0x29e8f8(0x887)](_0x3acef1[_0x29e8f8(0x89e)]);}async[a0_0x13c462(0x149)]({instanceName:_0x1f714b},_0x8b3305){const _0x2241ae=a0_0x13c462;return await this['waMonitor'][_0x2241ae(0x7f5)][_0x1f714b][_0x2241ae(0x149)](_0x8b3305);}async[a0_0x13c462(0x608)]({instanceName:_0x16716a},_0x48f882){const _0x2f5ff7=a0_0x13c462;return await this[_0x2f5ff7(0x6cd)][_0x2f5ff7(0x7f5)][_0x16716a][_0x2f5ff7(0x608)](_0x48f882);}async[a0_0x13c462(0x2df)]({instanceName:_0x29b767},_0x426a63){const _0x35b546=a0_0x13c462;return await this[_0x35b546(0x6cd)]['waInstances'][_0x29b767][_0x35b546(0x2df)](_0x426a63);}async[a0_0x13c462(0x1b7)]({instanceName:_0x418a97},_0x226628){const _0x838f48=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x418a97][_0x838f48(0x1b7)](_0x226628);}async['fetchLabels']({instanceName:_0xa12c40}){const _0x567608=a0_0x13c462;return await this[_0x567608(0x6cd)][_0x567608(0x7f5)][_0xa12c40][_0x567608(0x813)]();}async[a0_0x13c462(0x470)]({instanceName:_0x53ccea}){const _0x1b972d=a0_0x13c462;return await this[_0x1b972d(0x6cd)]['waInstances'][_0x53ccea][_0x1b972d(0x470)]();}async[a0_0x13c462(0x2ac)]({instanceName:_0x2b5f88}){const _0x398677=a0_0x13c462;return await this[_0x398677(0x6cd)][_0x398677(0x7f5)][_0x2b5f88]['fetchPrivacySettings']();}async[a0_0x13c462(0x3ec)]({instanceName:_0x4607f6},_0x152375){const _0x7c5a9d=a0_0x13c462;return await this[_0x7c5a9d(0x6cd)][_0x7c5a9d(0x7f5)][_0x4607f6]['updatePrivacySettings'](_0x152375);}async['fetchBusinessProfile']({instanceName:_0x47d63f},_0xa2d53f){const _0x22f2c0=a0_0x13c462;return await this[_0x22f2c0(0x6cd)][_0x22f2c0(0x7f5)][_0x47d63f][_0x22f2c0(0x140)](_0xa2d53f[_0x22f2c0(0x89e)]);}async[a0_0x13c462(0x22f)]({instanceName:_0x4b573f},_0x43d640){const _0xd076f5=a0_0x13c462;return await this[_0xd076f5(0x6cd)][_0xd076f5(0x7f5)][_0x4b573f][_0xd076f5(0x22f)](_0x43d640['name']);}async[a0_0x13c462(0x466)]({instanceName:_0x1b332c},_0x4a5f7a){const _0x33ff23=a0_0x13c462;return await this['waMonitor'][_0x33ff23(0x7f5)][_0x1b332c][_0x33ff23(0x466)](_0x4a5f7a[_0x33ff23(0x22e)]);}async[a0_0x13c462(0x698)]({instanceName:_0x34074d},_0x28c227){const _0x8a4da0=a0_0x13c462;return await this[_0x8a4da0(0x6cd)]['waInstances'][_0x34074d][_0x8a4da0(0x698)](_0x28c227[_0x8a4da0(0x16b)]);}async['removeProfilePicture']({instanceName:_0x55cd07},_0xf6b2fb){const _0x22b227=a0_0x13c462;return await this[_0x22b227(0x6cd)]['waInstances'][_0x55cd07]['removeProfilePicture']();}},Wt=require(a0_0x13c462(0x17f)),zt=class u{constructor(_0x4f513b,_0x1fe23f,_0x208bc7,_0x14186c,_0x5c4f83){const _0x353232=a0_0x13c462;this['waMonitor']=_0x4f513b,this[_0x353232(0x310)]=_0x1fe23f,this[_0x353232(0x59e)]=_0x208bc7,this['eventEmitter']=_0x14186c,this[_0x353232(0x84c)]=_0x5c4f83,this[_0x353232(0x7de)]=new $(u[_0x353232(0x42b)]);}async[a0_0x13c462(0x8a5)]({instanceName:_0x57840d,apikey:_0x170fc2,number:_0x4aa598,proxy:_0x41e20=!0x0}){const _0x34efc2=a0_0x13c462;try{let _0x24fbae=new $e(this[_0x34efc2(0x310)],this[_0x34efc2(0x437)],this[_0x34efc2(0x59e)]);_0x24fbae[_0x34efc2(0x586)]=_0x57840d,this['waMonitor'][_0x34efc2(0x7f5)][_0x24fbae['instanceName']]=_0x24fbae;let _0x4ce76a={};_0x170fc2?(await this[_0x34efc2(0x59e)][_0x34efc2(0x775)][_0x34efc2(0x714)]({'apikey':_0x170fc2},_0x57840d),_0x4ce76a[_0x34efc2(0x459)]=_0x170fc2):_0x4ce76a=await this[_0x34efc2(0x84c)][_0x34efc2(0x506)]({'instanceName':_0x24fbae['instanceName']});let _0x3b12f8;if(_0x4aa598){if(_0x3b12f8=await this['verifyWhatsAppNumber'](_0x4aa598),_0x3b12f8[_0x34efc2(0x873)])throw new x(_0x3b12f8[_0x34efc2(0x873)]['toString']());_0x4aa598=_0x3b12f8[_0x34efc2(0x89e)];}let _0xc6dc95;return await _0x24fbae[_0x34efc2(0x8c2)](_0x4aa598),await(0x0,Wt['delay'])(0xfa0),_0x4aa598&&await(0x0,Wt[_0x34efc2(0x184)])(0xbb8),_0xc6dc95=_0x24fbae['qrCode'],{'instance':{'instanceName':_0x24fbae['instanceName'],'status':_0x34efc2(0x631)},'hash':_0x4ce76a,'qrcode':_0xc6dc95};}catch(_0x407522){throw this[_0x34efc2(0x7de)][_0x34efc2(0x873)](_0x407522),_0x407522;}}async[a0_0x13c462(0x573)]({instanceName:_0x4ac7fc,number:_0x169190=null}){const _0x5ecd73=a0_0x13c462;try{let _0x11920d=this['waMonitor'][_0x5ecd73(0x7f5)][_0x4ac7fc];switch(_0x11920d?.['connectionStatus']?.[_0x5ecd73(0x554)]){case _0x5ecd73(0x49b):return await _0x11920d[_0x5ecd73(0x8c2)](_0x169190),await(0x0,Wt[_0x5ecd73(0x184)])(0x7d0),_0x11920d[_0x5ecd73(0x4bb)];case'connecting':return _0x11920d[_0x5ecd73(0x4bb)];default:return await this[_0x5ecd73(0x85c)]({'instanceName':_0x4ac7fc});}}catch(_0x37008e){this[_0x5ecd73(0x7de)][_0x5ecd73(0x253)](_0x37008e);}}async[a0_0x13c462(0x85c)]({instanceName:_0x141af7}){const _0x4c28da=a0_0x13c462;let _0x220cdd=this[_0x4c28da(0x6cd)][_0x4c28da(0x7f5)][_0x141af7][_0x4c28da(0x6ad)],_0x4aada1=null;_0x220cdd[_0x4c28da(0x554)]===_0x4c28da(0x185)&&_0x141af7&&(_0x4aada1=await this[_0x4c28da(0x6cd)]['instanceInfo'](_0x141af7));let _0x315715=null;return _0x220cdd[_0x4c28da(0x554)]==='connecting'&&_0x141af7&&(_0x315715=this[_0x4c28da(0x6cd)][_0x4c28da(0x7f5)][_0x141af7][_0x4c28da(0x4bb)]),{'instance':_0x141af7,'connectionStatus':_0x220cdd,'instanceInfo':_0x4aada1,'qrcode':_0x315715};}async[a0_0x13c462(0x8b2)](_0x20c449){const _0x11457f=a0_0x13c462;_0x20c449=_0x20c449[_0x11457f(0x445)](/\D/g,'');let _0x40768d=Object[_0x11457f(0x750)](this[_0x11457f(0x6cd)][_0x11457f(0x7f5)])[_0x11457f(0x843)](_0x40f2d8=>{const _0x852059=_0x11457f;let _0x3affa0=this['waMonitor'][_0x852059(0x7f5)][_0x40f2d8];return _0x3affa0&&_0x3affa0[_0x852059(0x6ad)]&&_0x3affa0['connectionStatus'][_0x852059(0x554)]==='open';});if(_0x40768d[_0x11457f(0x1d3)]===0x0)return{'number':this[_0x11457f(0x486)](_0x20c449)};let _0x3aeeca=Math['floor'](Math[_0x11457f(0x6f0)]()*_0x40768d['length']),_0xc34da=_0x40768d[_0x3aeeca];try{let _0x20a63b=(await this[_0x11457f(0x6cd)]['waInstances'][_0xc34da][_0x11457f(0x1de)]({'numbers':[_0x20c449]}))[_0x11457f(0x67d)]();return _0x20a63b[_0x11457f(0x534)]?{'number':_0x20a63b[_0x11457f(0x6f6)][_0x11457f(0x445)](_0x11457f(0x703),'')}:{'number':_0x20c449,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x597d56){return this[_0x11457f(0x7de)][_0x11457f(0x873)](_0x11457f(0x1ff)+_0x597d56),{'number':_0x20c449,'error':_0x11457f(0x633)};}}[a0_0x13c462(0x486)](_0x459608){let _0x498112=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x459608);if(_0x498112&&_0x498112[0x1]==='55'){let _0x28cffa=_0x498112[0x2],_0x3ae4ac=_0x498112[0x3],_0x1a2db8=_0x498112[0x4];if(parseInt(_0x28cffa)>=0x1f&&_0x3ae4ac==='9')return _0x498112[0x1]+_0x28cffa+_0x1a2db8;}return _0x459608;}async['restartInstance']({instanceName:_0x2998f2}){const _0x595425=a0_0x13c462;try{return this[_0x595425(0x6cd)]['waInstances'][_0x2998f2]?.[_0x595425(0x155)]?.['ws']?.[_0x595425(0x49b)](),{'status':_0x595425(0x740),'error':!0x1,'response':{'message':_0x595425(0x420)}};}catch(_0x2fb6be){this['logger'][_0x595425(0x873)](_0x2fb6be);}}async[a0_0x13c462(0x728)]({instanceName:_0x4f47aa}){const _0x4bb67=a0_0x13c462;return _0x4f47aa?this[_0x4bb67(0x6cd)][_0x4bb67(0x530)](_0x4f47aa):this[_0x4bb67(0x6cd)]['instanceInfo']();}async[a0_0x13c462(0x71b)]({instanceName:_0x2335a2}){const _0x57dd16=a0_0x13c462;try{return await this['waMonitor']['waInstances'][_0x2335a2]?.['client']?.[_0x57dd16(0x71b)](_0x57dd16(0x58b)+_0x2335a2),{'error':!0x1,'message':_0x57dd16(0x4aa)};}catch(_0x4aafae){throw new x(_0x4aafae[_0x57dd16(0x2ba)]());}}async['deleteInstance']({instanceName:_0x40cea5}){const _0x155700=a0_0x13c462;if((await this[_0x155700(0x85c)]({'instanceName':_0x40cea5}))[_0x155700(0x6ad)][_0x155700(0x554)]===_0x155700(0x185))throw new m([_0x155700(0x218),_0x155700(0x6ee)]);try{return delete this[_0x155700(0x6cd)][_0x155700(0x7f5)][_0x40cea5],{'error':!0x1,'message':_0x155700(0x8ba)};}catch(_0x26d4c8){throw new m(_0x26d4c8[_0x155700(0x2ba)]());}}},re=require(a0_0x13c462(0x131)),Ht=class{constructor(_0x37d97a){this['waMonitor']=_0x37d97a;}async[a0_0x13c462(0x443)]({instanceName:_0xd3db7a},_0x36bdaf){const _0x522d44=a0_0x13c462;return await this[_0x522d44(0x6cd)][_0x522d44(0x7f5)][_0xd3db7a][_0x522d44(0x2db)](_0x36bdaf);}async[a0_0x13c462(0x62e)]({instanceName:_0x224e19},_0x3892ad){const _0x519868=a0_0x13c462;return await this[_0x519868(0x6cd)][_0x519868(0x7f5)][_0x224e19][_0x519868(0x53c)](_0x3892ad);}async[a0_0x13c462(0x522)]({instanceName:_0x1f288b},_0x1bd9f1){const _0x300aaa=a0_0x13c462;if((0x0,re[_0x300aaa(0x40a)])(_0x1bd9f1?.[_0x300aaa(0x4fd)]?.[_0x300aaa(0x41a)])&&!_0x1bd9f1?.['mediaMessage']?.[_0x300aaa(0x332)])throw new m(_0x300aaa(0x2a4));if((0x0,re[_0x300aaa(0x883)])(_0x1bd9f1?.['mediaMessage']?.[_0x300aaa(0x41a)])||(0x0,re[_0x300aaa(0x40a)])(_0x1bd9f1?.[_0x300aaa(0x4fd)]?.[_0x300aaa(0x41a)]))return await this[_0x300aaa(0x6cd)][_0x300aaa(0x7f5)][_0x1f288b][_0x300aaa(0x4fd)](_0x1bd9f1);throw new m(_0x300aaa(0x152));}async[a0_0x13c462(0x248)]({instanceName:_0x41f31c},_0x156a18){const _0x57769a=a0_0x13c462;if((0x0,re[_0x57769a(0x883)])(_0x156a18[_0x57769a(0x1cd)][_0x57769a(0x25b)])||(0x0,re['isBase64'])(_0x156a18[_0x57769a(0x1cd)][_0x57769a(0x25b)]))return await this['waMonitor']['waInstances'][_0x41f31c][_0x57769a(0x393)](_0x156a18);throw new m(_0x57769a(0x152));}async[a0_0x13c462(0x1dc)]({instanceName:_0x5ae850},_0x40c026){const _0x2b7fba=a0_0x13c462;if((0x0,re['isURL'])(_0x40c026['audioMessage'][_0x2b7fba(0x604)])||(0x0,re['isBase64'])(_0x40c026['audioMessage'][_0x2b7fba(0x604)]))return await this[_0x2b7fba(0x6cd)][_0x2b7fba(0x7f5)][_0x5ae850][_0x2b7fba(0x12f)](_0x40c026);throw new m(_0x2b7fba(0x152));}async[a0_0x13c462(0x3f3)]({instanceName:_0x5ab8ce},_0x11d57f){const _0x47f80b=a0_0x13c462;return await this['waMonitor'][_0x47f80b(0x7f5)][_0x5ab8ce][_0x47f80b(0x5f9)](_0x11d57f);}async[a0_0x13c462(0x4fa)]({instanceName:_0x484ddc},_0x3ab10a){const _0x3c4b2c=a0_0x13c462;return await this[_0x3c4b2c(0x6cd)][_0x3c4b2c(0x7f5)][_0x484ddc][_0x3c4b2c(0x22b)](_0x3ab10a);}async[a0_0x13c462(0x2ad)]({instanceName:_0x358e1b},_0x5472ad){const _0x46e243=a0_0x13c462;return await this[_0x46e243(0x6cd)][_0x46e243(0x7f5)][_0x358e1b][_0x46e243(0x193)](_0x5472ad);}async[a0_0x13c462(0x3bb)]({instanceName:_0x48a0c4},_0x2a4197){const _0x37acb9=a0_0x13c462;return await this['waMonitor'][_0x37acb9(0x7f5)][_0x48a0c4]['listMessage'](_0x2a4197);}async[a0_0x13c462(0x783)]({instanceName:_0x122855},_0x217a35){const _0x16568e=a0_0x13c462;return await this[_0x16568e(0x6cd)][_0x16568e(0x7f5)][_0x122855][_0x16568e(0x7b3)](_0x217a35);}async[a0_0x13c462(0x333)]({instanceName:_0x38e334},_0x1344f8){const _0x834799=a0_0x13c462;if(!_0x1344f8['reactionMessage'][_0x834799(0x2f5)][_0x834799(0x423)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x834799(0x37f));return await this[_0x834799(0x6cd)][_0x834799(0x7f5)][_0x38e334]['reactionMessage'](_0x1344f8);}async[a0_0x13c462(0x52e)]({instanceName:_0x1956ea},_0x9595e4){const _0x2f499e=a0_0x13c462;return await this[_0x2f499e(0x6cd)]['waInstances'][_0x1956ea][_0x2f499e(0x317)](_0x9595e4);}},Pi=require(a0_0x13c462(0x1a3)),js=require('uuid'),Kt=class u{constructor(_0x195396,_0x6a0268,_0x295d28){const _0x5aca78=a0_0x13c462;this['configService']=_0x195396,this[_0x5aca78(0x6cd)]=_0x6a0268,this[_0x5aca78(0x59e)]=_0x295d28,this[_0x5aca78(0x7de)]=new $(u[_0x5aca78(0x42b)]);}async[a0_0x13c462(0x7f3)](_0x23731b){const _0x6aeaa7=a0_0x13c462;let _0x20b651=this[_0x6aeaa7(0x310)][_0x6aeaa7(0x6a5)](_0x6aeaa7(0x369))[_0x6aeaa7(0x6bd)],_0x53f02b=(0x0,Pi[_0x6aeaa7(0x641)])({'instanceName':_0x23731b[_0x6aeaa7(0x586)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x20b651[_0x6aeaa7(0x29f)],{'expiresIn':_0x20b651[_0x6aeaa7(0x424)],'encoding':'utf8','subject':'g-t'}),_0x30702c=await this[_0x6aeaa7(0x59e)][_0x6aeaa7(0x775)][_0x6aeaa7(0x714)]({'jwt':_0x53f02b},_0x23731b[_0x6aeaa7(0x586)]);if(_0x30702c[_0x6aeaa7(0x873)])throw this['logger'][_0x6aeaa7(0x873)]({'localError':u[_0x6aeaa7(0x42b)]+'.jwt','error':_0x30702c[_0x6aeaa7(0x873)]}),new m(_0x6aeaa7(0x87a),_0x30702c['error']?.[_0x6aeaa7(0x2ba)]());return{'jwt':_0x53f02b};}async['apikey'](_0x584ede){const _0x493ebb=a0_0x13c462;let _0x1c813b=(0x0,js['v4'])()[_0x493ebb(0x439)](),_0x5179b4=await this[_0x493ebb(0x59e)][_0x493ebb(0x775)][_0x493ebb(0x714)]({'apikey':_0x1c813b},_0x584ede[_0x493ebb(0x586)]);if(_0x5179b4['error'])throw this[_0x493ebb(0x7de)][_0x493ebb(0x873)]({'localError':u[_0x493ebb(0x42b)]+'.jwt','error':_0x5179b4[_0x493ebb(0x873)]}),new m('Authentication\x20error',_0x5179b4['error']?.['toString']());return{'apikey':_0x1c813b};}async[a0_0x13c462(0x506)](_0x451400){const _0x11200c=a0_0x13c462;let _0x31410f=this[_0x11200c(0x310)][_0x11200c(0x6a5)](_0x11200c(0x369));return await this[_0x31410f[_0x11200c(0x6e5)]](_0x451400);}},Qt=class{constructor(_0x1deb28){const _0x43b62d=a0_0x13c462;this[_0x43b62d(0x6cd)]=_0x1deb28;}async[a0_0x13c462(0x150)](_0x341313,_0x508d44){const _0x399779=a0_0x13c462;return await this[_0x399779(0x6cd)]['waInstances'][_0x341313[_0x399779(0x586)]][_0x399779(0x150)](_0x508d44);}async[a0_0x13c462(0x256)](_0x137f25,_0x288d7d){const _0x3ebec9=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x137f25['instanceName']][_0x3ebec9(0x256)](_0x288d7d);}async[a0_0x13c462(0x675)](_0xb86a54,_0x106167){const _0x1af62e=a0_0x13c462;return await this[_0x1af62e(0x6cd)][_0x1af62e(0x7f5)][_0xb86a54[_0x1af62e(0x586)]][_0x1af62e(0x675)](_0x106167);}async[a0_0x13c462(0x447)](_0x4baf0c,_0x4c2144){const _0x2b9346=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x4baf0c[_0x2b9346(0x586)]]['groupName'](_0x4c2144);}async[a0_0x13c462(0x4a6)](_0x5aa094,_0x41cb48){const _0x2fa425=a0_0x13c462;return await this[_0x2fa425(0x6cd)][_0x2fa425(0x7f5)][_0x5aa094[_0x2fa425(0x586)]][_0x2fa425(0x4a6)](_0x41cb48);}async['groupSetting'](_0x4e193b,_0x418127){const _0x4063ab=a0_0x13c462;return await this[_0x4063ab(0x6cd)]['waInstances'][_0x4e193b['instanceName']][_0x4063ab(0x5ed)](_0x418127);}async[a0_0x13c462(0x40c)](_0x60f121,_0x52e5d7){const _0x3c73a7=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x60f121[_0x3c73a7(0x586)]][_0x3c73a7(0x877)](_0x52e5d7);}async[a0_0x13c462(0x82e)](_0x3576f5){const _0x35789a=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x3576f5[_0x35789a(0x586)]]['findGroups']();}async['inviteCode'](_0x335f41,_0x3fc61f){const _0x3b41c8=a0_0x13c462;return await this[_0x3b41c8(0x6cd)][_0x3b41c8(0x7f5)][_0x335f41[_0x3b41c8(0x586)]]['inviteCode'](_0x3fc61f);}async[a0_0x13c462(0x27d)](_0x5dfc8f,_0x14a7e5){const _0x1a7ed2=a0_0x13c462;return await this[_0x1a7ed2(0x6cd)][_0x1a7ed2(0x7f5)][_0x5dfc8f[_0x1a7ed2(0x586)]]['joinGroup'](_0x14a7e5);}async[a0_0x13c462(0x8b0)](_0x1e2a6e,_0x915f96){const _0x2d434e=a0_0x13c462;return await this[_0x2d434e(0x6cd)]['waInstances'][_0x1e2a6e[_0x2d434e(0x586)]]['groupGetInviteInfo'](_0x915f96);}async[a0_0x13c462(0x482)](_0x338f34,_0x12042c){const _0x157945=a0_0x13c462;return await this[_0x157945(0x6cd)][_0x157945(0x7f5)][_0x338f34[_0x157945(0x586)]][_0x157945(0x482)](_0x12042c);}async[a0_0x13c462(0x4e1)](_0x18b4ad,_0x3611e1){const _0x275fcc=a0_0x13c462;return await this[_0x275fcc(0x6cd)][_0x275fcc(0x7f5)][_0x18b4ad[_0x275fcc(0x586)]][_0x275fcc(0x4e1)](_0x3611e1);}async[a0_0x13c462(0x2e6)](_0x582a5f,_0x3e8609){const _0x3e3382=a0_0x13c462;return await this[_0x3e3382(0x6cd)][_0x3e3382(0x7f5)][_0x582a5f[_0x3e3382(0x586)]][_0x3e3382(0x7fa)](_0x3e8609);}async[a0_0x13c462(0x776)](_0x419b38,_0x1692c3){const _0x420444=a0_0x13c462;return await this[_0x420444(0x6cd)][_0x420444(0x7f5)][_0x419b38[_0x420444(0x586)]][_0x420444(0x776)](_0x1692c3);}async[a0_0x13c462(0x3c3)](_0x5cbb4c,_0x37fb18){const _0x48b244=a0_0x13c462;return await this[_0x48b244(0x6cd)][_0x48b244(0x7f5)][_0x5cbb4c[_0x48b244(0x586)]][_0x48b244(0x3c3)](_0x37fb18);}},Yt=class{constructor(_0x31b95c){const _0x35e66c=a0_0x13c462;this[_0x35e66c(0x6cd)]=_0x31b95c;}['create'](_0x147341,_0x3621e7){const _0x55401a=a0_0x13c462;return this[_0x55401a(0x6cd)][_0x55401a(0x7f5)][_0x147341[_0x55401a(0x586)]][_0x55401a(0x497)](_0x3621e7);}async[a0_0x13c462(0x88b)](_0x3222bf){const _0x419026=a0_0x13c462;try{return await this[_0x419026(0x6cd)][_0x419026(0x7f5)][_0x3222bf[_0x419026(0x586)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ch=new $('FlowController'),Xt=class{constructor(_0x540ab2){const _0x4aa557=a0_0x13c462;this[_0x4aa557(0x6cd)]=_0x540ab2;}async['editScheduleMessage'](_0x2c4b29,_0x373489){const _0xff148a=a0_0x13c462;return await this[_0xff148a(0x6cd)][_0xff148a(0x7f5)][_0x2c4b29[_0xff148a(0x586)]][_0xff148a(0x6f4)](_0x373489);}async[a0_0x13c462(0x232)](_0x2faabc){const _0x3decff=a0_0x13c462;return await this['waMonitor'][_0x3decff(0x7f5)][_0x2faabc[_0x3decff(0x586)]][_0x3decff(0x232)]();}async[a0_0x13c462(0x729)](_0x16ec62){const _0x3a6c67=a0_0x13c462;return await this[_0x3a6c67(0x6cd)][_0x3a6c67(0x7f5)][_0x16ec62[_0x3a6c67(0x586)]][_0x3a6c67(0x729)]();}async[a0_0x13c462(0x163)](_0x37d394){const _0x14054f=a0_0x13c462;return await this[_0x14054f(0x6cd)][_0x14054f(0x7f5)][_0x37d394[_0x14054f(0x586)]][_0x14054f(0x163)]();}async[a0_0x13c462(0x44b)](_0x2d692f){const _0x43e0e9=a0_0x13c462;return await this['waMonitor'][_0x43e0e9(0x7f5)][_0x2d692f[_0x43e0e9(0x586)]][_0x43e0e9(0x44b)]();}async[a0_0x13c462(0x3d6)](_0x5cac87,_0x20c211){const _0x31ac9f=a0_0x13c462;return await this[_0x31ac9f(0x6cd)][_0x31ac9f(0x7f5)][_0x5cac87[_0x31ac9f(0x586)]][_0x31ac9f(0x3d6)](_0x20c211);}async[a0_0x13c462(0x465)](_0x140771,_0x58a88e){const _0xc53319=a0_0x13c462;return await this['waMonitor'][_0xc53319(0x7f5)][_0x140771['instanceName']]['updateCustomFields'](_0x58a88e);}async[a0_0x13c462(0x42f)](_0x1ad5b7,_0x10e144){const _0x137f63=a0_0x13c462;return await this[_0x137f63(0x6cd)][_0x137f63(0x7f5)][_0x1ad5b7[_0x137f63(0x586)]][_0x137f63(0x42f)](_0x10e144);}async[a0_0x13c462(0x3d7)](_0x3c2c08,_0x59c25c){const _0x38455e=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x3c2c08[_0x38455e(0x586)]][_0x38455e(0x3d7)](_0x59c25c);}async['startFlow'](_0x42f9fb,_0x5f3a1e){const _0x2e444f=a0_0x13c462;return await this[_0x2e444f(0x6cd)]['waInstances'][_0x42f9fb[_0x2e444f(0x586)]][_0x2e444f(0x282)](_0x5f3a1e);}async[a0_0x13c462(0x6d5)](_0x8f0785,_0x11eb20,_0x2837e6,_0x493623){const _0x51285b=a0_0x13c462;return await this[_0x51285b(0x6cd)][_0x51285b(0x7f5)][_0x8f0785]['startFlowWebhook'](_0x11eb20,_0x2837e6,_0x493623);}async[a0_0x13c462(0x35a)](_0x3b0b0e,_0x423dba){const _0x8eaf48=a0_0x13c462;return await this[_0x8eaf48(0x6cd)]['waInstances'][_0x3b0b0e['instanceName']]['getConversation'](_0x423dba);}async[a0_0x13c462(0x7c5)](_0x29d41c,_0xa34c00){const _0x1981b8=a0_0x13c462;return await this[_0x1981b8(0x6cd)]['waInstances'][_0x29d41c[_0x1981b8(0x586)]][_0x1981b8(0x7c5)](_0xa34c00);}async[a0_0x13c462(0x4d0)](_0x59dca8,_0x49c375){const _0x35a7fb=a0_0x13c462;return await this[_0x35a7fb(0x6cd)]['waInstances'][_0x59dca8[_0x35a7fb(0x586)]][_0x35a7fb(0x4d0)](_0x49c375);}async[a0_0x13c462(0x593)](_0x9a0474,_0x3c6455){const _0x287e6d=a0_0x13c462;return await this[_0x287e6d(0x6cd)][_0x287e6d(0x7f5)][_0x9a0474[_0x287e6d(0x586)]][_0x287e6d(0x593)](_0x3c6455);}async[a0_0x13c462(0x380)](_0x4be4fa,_0x2fec6a){const _0x1b6101=a0_0x13c462;return await this[_0x1b6101(0x6cd)][_0x1b6101(0x7f5)][_0x4be4fa[_0x1b6101(0x586)]][_0x1b6101(0x380)](_0x2fec6a[_0x1b6101(0x882)]);}async[a0_0x13c462(0x786)](_0x219442,_0x14b1f6,_0x110d67){const _0x403331=a0_0x13c462;return await this[_0x403331(0x6cd)][_0x403331(0x7f5)][_0x219442[_0x403331(0x586)]]['createFlow'](_0x14b1f6,_0x110d67);}async[a0_0x13c462(0x5b5)](_0x1f8128,_0x556dba,_0x21c93a){const _0x3be928=a0_0x13c462;return await this[_0x3be928(0x6cd)][_0x3be928(0x7f5)][_0x1f8128[_0x3be928(0x586)]][_0x3be928(0x5b5)](_0x556dba,_0x21c93a);}async[a0_0x13c462(0x7a5)](_0x14fbbe,_0x12a6af){const _0x15cd03=a0_0x13c462;return await this[_0x15cd03(0x6cd)]['waInstances'][_0x14fbbe['instanceName']][_0x15cd03(0x7a5)](_0x12a6af);}async[a0_0x13c462(0x892)](_0x3d40f4,_0x3c500d){const _0x3372fd=a0_0x13c462;return await this[_0x3372fd(0x6cd)][_0x3372fd(0x7f5)][_0x3d40f4[_0x3372fd(0x586)]][_0x3372fd(0x892)](_0x3c500d);}async[a0_0x13c462(0x1aa)](_0x1fd58b,_0x55ed07){const _0x478dbf=a0_0x13c462;return await this['waMonitor']['waInstances'][_0x1fd58b[_0x478dbf(0x586)]][_0x478dbf(0x1aa)](_0x55ed07);}async[a0_0x13c462(0x3b5)](_0x30535d,_0x4bafa3){const _0x50a8b0=a0_0x13c462;return await this[_0x50a8b0(0x6cd)][_0x50a8b0(0x7f5)][_0x30535d[_0x50a8b0(0x586)]][_0x50a8b0(0x3b5)](_0x4bafa3);}async[a0_0x13c462(0x5ca)](_0x39bdb5,_0x458c0d){const _0x510e4f=a0_0x13c462;return await this[_0x510e4f(0x6cd)][_0x510e4f(0x7f5)][_0x39bdb5['instanceName']][_0x510e4f(0x5ca)](_0x458c0d);}async[a0_0x13c462(0x365)](_0x336feb,_0x54b906){const _0x35d3d7=a0_0x13c462;return await this[_0x35d3d7(0x6cd)]['waInstances'][_0x336feb[_0x35d3d7(0x586)]][_0x35d3d7(0x365)](_0x54b906);}async[a0_0x13c462(0x502)](_0x321175,_0x1bddbe){const _0x2de6be=a0_0x13c462;return await this[_0x2de6be(0x6cd)]['waInstances'][_0x321175[_0x2de6be(0x586)]][_0x2de6be(0x502)](_0x1bddbe);}async['allFlows'](_0x2f14c9){const _0x2369a1=a0_0x13c462;return await this['waMonitor'][_0x2369a1(0x7f5)][_0x2f14c9[_0x2369a1(0x586)]][_0x2369a1(0x660)]();}},Zt=class{constructor(_0x564b01){const _0x49ccde=a0_0x13c462;this[_0x49ccde(0x28d)]=_0x564b01;}async['createWebhook'](_0x1ac6f5,_0x5ccc43){const _0x423a8b=a0_0x13c462;return this['webhookService'][_0x423a8b(0x714)](_0x1ac6f5,_0x5ccc43);}async[a0_0x13c462(0x67f)](_0x397c22){const _0x1af602=a0_0x13c462;return this[_0x1af602(0x28d)][_0x1af602(0x88b)](_0x397c22);}},es=class extends O{constructor(_0x5648c0,_0x1a35fb){const _0x21e3c5=a0_0x13c462;super(_0x1a35fb),this[_0x21e3c5(0x2ca)]=_0x5648c0,this['configService']=_0x1a35fb;}async[a0_0x13c462(0x714)](_0x2f63b7,_0x272e91){const _0x3324cb=a0_0x13c462;try{return this['dbSettings'][_0x3324cb(0x7cc)]?{'insertCount':(await this[_0x3324cb(0x2ca)][_0x3324cb(0x404)]({'_id':_0x272e91},{..._0x2f63b7},{'upsert':!0x0}))[_0x3324cb(0x779)]}:{'insertCount':0x1};}catch(_0x4c7378){return _0x4c7378;}}async[a0_0x13c462(0x634)](_0x43c9e8){const _0x354eac=a0_0x13c462;try{if(this['dbSettings'][_0x354eac(0x7cc)]){await this['webhookModel']['deleteOne']({'_id':_0x43c9e8});return;}}catch(_0x4e310e){return{'error':_0x4e310e};}}async[a0_0x13c462(0x88b)](_0x4a21d0){const _0x4f9efc=a0_0x13c462;try{if(this[_0x4f9efc(0x3cd)][_0x4f9efc(0x7cc)])return await this['webhookModel'][_0x4f9efc(0x4cd)]({'_id':_0x4a21d0});}catch{return{};}}},ts=class extends O{constructor(_0x525db1,_0xedddbf){const _0x5b5171=a0_0x13c462;super(_0xedddbf),this[_0x5b5171(0x48a)]=_0x525db1,this[_0x5b5171(0x310)]=_0xedddbf,this[_0x5b5171(0x775)]=_0xedddbf[_0x5b5171(0x6a5)](_0x5b5171(0x369));}async[a0_0x13c462(0x714)](_0x5a807c,_0x2a4326){const _0x4442a2=a0_0x13c462;try{if(this[_0x4442a2(0x3cd)]['ENABLED'])return{'insertCount':(await this[_0x4442a2(0x48a)]['updateOne']({'_id':_0x2a4326},{'$set':{..._0x5a807c}},{'upsert':!0x0}))[_0x4442a2(0x779)]};}catch(_0x695dd){return{'error':_0x695dd};}}async[a0_0x13c462(0x7ed)](_0x3b620f,_0x5339a2){const _0x14deff=a0_0x13c462;try{if(this[_0x14deff(0x3cd)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x14deff(0x832)](_0x3b620f,{'$set':_0x5339a2},{'upsert':!0x1}))[_0x14deff(0x779)]};throw new Error(_0x14deff(0x77c));}catch(_0x253066){return{'error':_0x253066};}}async[a0_0x13c462(0x1bf)](_0x27c25d){const _0x52ddf0=a0_0x13c462;try{if(this[_0x52ddf0(0x3cd)][_0x52ddf0(0x7cc)])return{'insertCount':(await this['authModel'][_0x52ddf0(0x1bf)](_0x27c25d))[_0x52ddf0(0x7f8)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x5b7410){return{'error':_0x5b7410};}}async[a0_0x13c462(0x634)](_0x376a0d){const _0x1b2232=a0_0x13c462;try{if(this['dbSettings']['ENABLED']){await this[_0x1b2232(0x48a)][_0x1b2232(0x87c)]({'_id':_0x376a0d});return;}}catch(_0x10010f){return{'error':_0x10010f};}}async[a0_0x13c462(0x88b)](_0x4992de){const _0x363e26=a0_0x13c462;try{if(this[_0x363e26(0x3cd)][_0x363e26(0x7cc)])return await this[_0x363e26(0x48a)]['findOne']({'_id':_0x4992de});}catch{return{};}}async[a0_0x13c462(0x2dd)](){const _0x1499b7=a0_0x13c462;try{if(this[_0x1499b7(0x3cd)][_0x1499b7(0x7cc)])return await this[_0x1499b7(0x48a)]['find']();}catch{return[];}}async[a0_0x13c462(0x5b1)](_0x19eef2){const _0x53bd69=a0_0x13c462;try{if(this[_0x53bd69(0x3cd)]['ENABLED'])return await this['authModel'][_0x53bd69(0x88b)](_0x19eef2);}catch{return[];}}},ss=class extends O{async[a0_0x13c462(0x87c)](_0x1b6f22){const _0x364754=a0_0x13c462;try{let _0xe78fc4=A(_0x1b6f22[_0x364754(0x577)]);return{'deletedCount':(await Me[_0x364754(0x87c)](_0xe78fc4))[_0x364754(0x7f8)]};}catch(_0x4ad439){return{'error':_0x4ad439?.[_0x364754(0x2ba)]()};}}async[a0_0x13c462(0x176)](_0x3be42c,_0x53ed6c){const _0x508f12=a0_0x13c462;try{let _0x32141c=await Me[_0x508f12(0x1ea)](_0x3be42c);return _0x32141c?(Object[_0x508f12(0x5c4)](_0x32141c,_0x53ed6c),await _0x32141c['save']()):(console[_0x508f12(0x873)](_0x508f12(0x678),_0x3be42c),null);}catch(_0x422f83){return console[_0x508f12(0x873)](_0x508f12(0x311),_0x422f83),null;}}async[a0_0x13c462(0x36e)](_0x338fbd){const _0xbfa40f=a0_0x13c462;try{return await new Me(_0x338fbd)[_0xbfa40f(0x47a)]();}catch(_0xbcc50e){return console[_0xbfa40f(0x873)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0xbcc50e),null;}}async[a0_0x13c462(0x2dd)](_0x33c56a){const _0x27b46d=a0_0x13c462;try{let _0x5138d2=_0x33c56a[_0x27b46d(0x577)]??{};return await Me[_0x27b46d(0x88b)](_0x5138d2)['limit'](_0x33c56a[_0x27b46d(0x2bd)]??0x0)[_0x27b46d(0x4fc)]();}catch(_0x217a81){return console['error'](_0x27b46d(0x175),_0x217a81),[];}}async[a0_0x13c462(0x4cd)](_0x596c2b){const _0x2c6870=a0_0x13c462;try{let _0x4f342f=A(_0x596c2b['where']);return await Me[_0x2c6870(0x4cd)](_0x4f342f)[_0x2c6870(0x4fc)]();}catch{return null;}}},as=class extends O{[a0_0x13c462(0x13c)](_0x2be6c7){return Sa(_0x2be6c7);}async[a0_0x13c462(0x7d5)](_0x215dae){const _0x297ef6=a0_0x13c462;if(_0x215dae['length']!==0x0)try{return{'insertCount':(await this[_0x297ef6(0x13c)](_0x215dae[0x0][_0x297ef6(0x7ae)])[_0x297ef6(0x63b)]([..._0x215dae]))[_0x297ef6(0x1d3)]};}catch(_0x5e4bbc){return _0x5e4bbc;}}async[a0_0x13c462(0x634)](_0x16dc34,_0x505110){const _0x57398d=a0_0x13c462;try{let _0x2d3e2c=this[_0x57398d(0x13c)](_0x505110),_0xcf5620=A(_0x16dc34[_0x57398d(0x577)]);return{'deletedCount':(await _0x2d3e2c[_0x57398d(0x1bf)](_0xcf5620))['deletedCount']};}catch(_0x55696a){return{'error':_0x55696a?.[_0x57398d(0x2ba)]()};}}async[a0_0x13c462(0x87c)](_0x21cc63,_0x179f2a){const _0x1d3681=a0_0x13c462;try{let _0x334b74=this[_0x1d3681(0x13c)](_0x179f2a),_0x497173=A(_0x21cc63['where']);return{'deletedCount':(await _0x334b74[_0x1d3681(0x87c)](_0x497173))[_0x1d3681(0x7f8)]};}catch(_0xbc001e){return{'error':_0xbc001e?.[_0x1d3681(0x2ba)]()};}}async[a0_0x13c462(0x823)](_0x232896,_0x199248){const _0x38781b=a0_0x13c462;try{if(_0x232896[_0x38781b(0x1d3)]===0x0)return;let _0x1dc85d=this[_0x38781b(0x13c)](_0x199248),_0x152732=_0x232896[_0x38781b(0x4c1)](_0x48b38b=>({'updateOne':{'filter':{'name':_0x48b38b['name'],'owner':_0x199248},'update':{..._0x48b38b}}})),{modifiedCount:_0x566569}=await _0x1dc85d['bulkWrite'](_0x152732);return{'insertCount':_0x566569};}catch{return;}}async['updateMany'](_0x4559bc,_0x1eb7d3,_0x5d17f2){const _0x1b362e=a0_0x13c462;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x5d17f2)[_0x1b362e(0x832)](_0x4559bc,{'$set':_0x1eb7d3})['exec']())['modifiedCount']};}catch(_0x56eb33){return console[_0x1b362e(0x873)](_0x1b362e(0x2fd),_0x56eb33),{'error':_0x56eb33};}}async[a0_0x13c462(0x176)](_0x40eac5,_0x589ab5,_0x491dde){const _0x2bdf53=a0_0x13c462;try{return await this[_0x2bdf53(0x13c)](_0x491dde)[_0x2bdf53(0x651)]({'_id':_0x40eac5},{'$set':_0x589ab5},{'new':!0x0,'upsert':!0x0})[_0x2bdf53(0x4fc)]();}catch(_0x481be1){return console['error'](_0x481be1),null;}}async[a0_0x13c462(0x88b)](_0x32c8aa,_0x373573){const _0x51ea65=a0_0x13c462;try{return await this['getConversationModelForOwner'](_0x373573)[_0x51ea65(0x88b)](_0x32c8aa)['sort']({'lastInteraction':-0x1})[_0x51ea65(0x4fc)]();}catch{return[];}}async[a0_0x13c462(0x4cd)](_0x203b68,_0x5f0db8){const _0x1e17d3=a0_0x13c462;try{return await this[_0x1e17d3(0x13c)](_0x5f0db8)[_0x1e17d3(0x4cd)]({..._0x203b68['where']})[_0x1e17d3(0x4fc)]();}catch{return null;}}async[a0_0x13c462(0x6c1)](_0x105d53){const _0x585389=a0_0x13c462;try{return await this[_0x585389(0x13c)](_0x105d53)[_0x585389(0x7a4)]['drop'](),{'success':!0x0};}catch(_0x37771b){return console[_0x585389(0x873)](_0x37771b),{'success':!0x1,'error':_0x37771b};}}},is=class extends O{['getScheduleMessageModelForOwner'](_0x10ec19){return Ma(_0x10ec19);}async[a0_0x13c462(0x68d)](_0x4660b5,_0x1beddb){const _0x1918af=a0_0x13c462;try{return await this[_0x1918af(0x15a)](_0x1beddb)[_0x1918af(0x68d)](_0x4660b5);}catch(_0x4cfb28){return console['error'](_0x1918af(0x45e),_0x4cfb28),null;}}async[a0_0x13c462(0x36e)](_0x448c89,_0xfb1a07){const _0x4aea5a=a0_0x13c462;try{let _0x478ede=this[_0x4aea5a(0x15a)](_0xfb1a07);return await new _0x478ede(_0x448c89)[_0x4aea5a(0x47a)]();}catch(_0x3a2454){return console[_0x4aea5a(0x873)](_0x4aea5a(0x540),_0x3a2454),null;}}async[a0_0x13c462(0x87c)](_0x5d3683,_0x5a9270){const _0x239b35=a0_0x13c462;try{return await this[_0x239b35(0x15a)](_0x5a9270)['findByIdAndDelete'](_0x5d3683),{};}catch(_0x3a818d){return{'error':_0x3a818d?.['toString']()};}}async[a0_0x13c462(0x176)](_0x3515de,_0x405f09,_0x558e35,_0x3c8c05={}){const _0xc2a46f=a0_0x13c462;try{return await this[_0xc2a46f(0x15a)](_0x558e35)['findOneAndUpdate'](_0x3515de,_0x405f09,{..._0x3c8c05,'new':!0x0})[_0xc2a46f(0x4fc)]();}catch(_0xa8844a){return console[_0xc2a46f(0x873)](_0xc2a46f(0x1f6),_0xa8844a),null;}}async[a0_0x13c462(0x549)](_0x8f99ab,_0x11eb29,_0x14545b){const _0x1a2e91=a0_0x13c462;try{return await this['getScheduleMessageModelForOwner'](_0x14545b)[_0x1a2e91(0x754)](_0x8f99ab,_0x11eb29,{'new':!0x0})[_0x1a2e91(0x4fc)]();}catch(_0x46a73d){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x46a73d),null;}}async[a0_0x13c462(0x88b)](_0xc20def,_0x580285){const _0xc9ba70=a0_0x13c462;try{return await this[_0xc9ba70(0x15a)](_0x580285)[_0xc9ba70(0x88b)](_0xc20def[_0xc9ba70(0x577)])[_0xc9ba70(0x2bd)](_0xc20def?.[_0xc9ba70(0x2bd)]??0x0)[_0xc9ba70(0x772)]({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x5db19e,_0x4c90f7){const _0x307419=a0_0x13c462;try{return await this['getScheduleMessageModelForOwner'](_0x4c90f7)[_0x307419(0x4cd)](_0x5db19e[_0x307419(0x577)])[_0x307419(0x772)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x13c462(0x1ea)](_0x3ca2dc,_0x364270){const _0x1fe395=a0_0x13c462;try{return await this[_0x1fe395(0x15a)](_0x364270)['findById'](_0x3ca2dc)[_0x1fe395(0x4fc)]();}catch{return null;}}async[a0_0x13c462(0x1bf)](_0x2645b7,_0x4d205b){const _0x3d2d54=a0_0x13c462;try{return{'deletedCount':(await this[_0x3d2d54(0x15a)](_0x4d205b)[_0x3d2d54(0x1bf)](_0x2645b7))[_0x3d2d54(0x7f8)]};}catch(_0x4a2e2f){return console['error'](_0x3d2d54(0x180),_0x4a2e2f),{'error':_0x4a2e2f};}}async[a0_0x13c462(0x6c1)](_0x5ab047){const _0x96f6d1=a0_0x13c462;try{return await this[_0x96f6d1(0x15a)](_0x5ab047)[_0x96f6d1(0x7a4)][_0x96f6d1(0x547)](),{'success':!0x0};}catch(_0x5195e0){return console['error'](_0x5195e0),{'success':!0x1,'error':_0x5195e0};}}},os=class extends O{async[a0_0x13c462(0x823)](_0x3df8c7,_0x5591a7){const _0x2a850e=a0_0x13c462;try{if(this[_0x2a850e(0x3cd)][_0x2a850e(0x7cc)])return await Te[_0x2a850e(0x651)]({'_id':_0x5591a7},{'$set':_0x3df8c7},{'new':!0x0});}catch(_0xa15041){throw console['error']('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0xa15041),_0xa15041;}}async[a0_0x13c462(0x194)](_0x1ed1de){const _0x294a18=a0_0x13c462;try{let _0x5afbbf=await Te['findById'](_0x1ed1de);return _0x5afbbf?_0x5afbbf[_0x294a18(0x2fe)]||(_0x5afbbf[_0x294a18(0x2fe)]=[],await _0x5afbbf['save']()):(_0x5afbbf=new Te({'_id':_0x1ed1de,'autoCompleteMessages':[]}),await _0x5afbbf[_0x294a18(0x47a)]()),_0x5afbbf;}catch(_0x513482){return _0x513482['code']===0x2af8&&_0x513482[_0x294a18(0x6ba)]&&_0x513482[_0x294a18(0x6ba)]['autoCompleteMessages.command']?(console[_0x294a18(0x873)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Te[_0x294a18(0x7a4)][_0x294a18(0x68f)](_0x294a18(0x1c2)),null):(console[_0x294a18(0x873)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x513482),null);}}},Jo=new $(a0_0x13c462(0x173)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x13c462(0x4c2)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x13c462(0x19e)](a0_0x13c462(0x475));var $g=require(a0_0x13c462(0x70d)),Js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x13c462(0x429))),je=class u{static #e;static set[a0_0x13c462(0x7c0)](_0x56f885){this.#e=_0x56f885;}static get['https'](){const _0x5e117b=a0_0x13c462;let {FULLCHAIN:_0x464171,PRIVKEY:_0x2ffe5a}=S[_0x5e117b(0x6a5)](_0x5e117b(0x500));return Di[_0x5e117b(0x2e8)]({'cert':(0x0,Js[_0x5e117b(0x5bf)])(_0x464171),'key':(0x0,Js[_0x5e117b(0x5bf)])(_0x2ffe5a)},u.#e);}static get[a0_0x13c462(0x429)](){const _0x3a6bc3=a0_0x13c462;return ki[_0x3a6bc3(0x2e8)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x13c462(0x817))),qe=I(require(a0_0x13c462(0x523))),ns=I(require(a0_0x13c462(0x6e1))),rs=require(a0_0x13c462(0x6ea));function ar(){const _0x5740e6=a0_0x13c462;G['loadInstance']();let _0x24b2e9=ns[_0x5740e6(0x6bc)]['join'](__dirname,'downloads');Ji(_0x24b2e9);}var Ji=_0x48d187=>{const _0x8cdc69=a0_0x13c462;let _0x362cb9=Je[_0x8cdc69(0x6bc)][_0x8cdc69(0x228)](_0x48d187),_0xc3c23a=0xc*0x3c*0x3c*0x3e8,_0x210a2e=0x2*0x3c*0x3c*0x3e8,_0x480e9f=new Date()['getTime']();_0x362cb9[_0x8cdc69(0x2a0)](_0x1f64cb=>{const _0x4f14ad=_0x8cdc69;let _0x5229a1=ns[_0x4f14ad(0x6bc)][_0x4f14ad(0x65f)](_0x48d187,_0x1f64cb),_0x1de698=Je[_0x4f14ad(0x6bc)][_0x4f14ad(0x7a7)](_0x5229a1)['birthtime'][_0x4f14ad(0x527)]();_0x480e9f-_0x1de698>_0xc3c23a&&(Je[_0x4f14ad(0x6bc)][_0x4f14ad(0x8bb)](_0x5229a1),console[_0x4f14ad(0x253)](_0x4f14ad(0x6f7)+_0x1f64cb));}),setTimeout(()=>Ji(_0x48d187),_0x210a2e);};function ir(){const _0x189f3f=a0_0x13c462;let _0x4e5c3a=new $(_0x189f3f(0x1f8)),_0x177a20=(0x0,we[_0x189f3f(0x6bc)])();_0x177a20[_0x189f3f(0x219)]((0x0,ji[_0x189f3f(0x6bc)])({'origin'(_0x35f1a1,_0x48a26d){const _0x85240=_0x189f3f;let {ORIGIN:_0x24123a}=S['get']('CORS');return _0x35f1a1||(_0x35f1a1='*'),_0x24123a['indexOf']('*')!==-0x1||_0x24123a[_0x85240(0x88c)](_0x35f1a1)!==-0x1?_0x48a26d(null,!0x0):_0x48a26d(new Error(_0x85240(0x14b)));},'methods':[...S[_0x189f3f(0x6a5)](_0x189f3f(0x7d8))[_0x189f3f(0x494)]],'credentials':S[_0x189f3f(0x6a5)](_0x189f3f(0x7d8))['CREDENTIALS']}),(0x0,we[_0x189f3f(0x690)])({'extended':!0x0,'limit':'50mb'}),(0x0,we['json'])({'limit':'50mb'})),_0x177a20[_0x189f3f(0x219)]((_0x139c4f,_0x1acbd6,_0x271765)=>{const _0x2b1028=_0x189f3f;_0x139c4f['path'][_0x2b1028(0x51d)]('/events')?_0x271765():(0x0,Ui[_0x2b1028(0x6bc)])()(_0x139c4f,_0x1acbd6,_0x271765);}),_0x177a20[_0x189f3f(0x413)](_0x189f3f(0x847),_0x189f3f(0x569)),_0x177a20['set']('views',(0x0,Vs[_0x189f3f(0x65f)])(ne,'views')),_0x177a20[_0x189f3f(0x219)](we['default'][_0x189f3f(0x338)]((0x0,Vs[_0x189f3f(0x65f)])(ne,_0x189f3f(0x3be)))),_0x177a20['use']((_0xd27751,_0x4c5f54,_0x151f5c)=>{const _0x25a6ac=_0x189f3f;let _0x32e45a=_0x4c5f54[_0x25a6ac(0x258)];_0x4c5f54[_0x25a6ac(0x258)]=function(_0x4d40df){const _0x56b4ac=_0x25a6ac;if(_0xd27751[_0x56b4ac(0x186)][_0x56b4ac(0x63f)]===_0x56b4ac(0x361)||_0xd27751['headers'][_0x56b4ac(0x76a)]===_0x56b4ac(0x361)){let _0x1eb54d=JSON['parse'](_0x4d40df);_0x4d40df=JSON['stringify'](_0x5297bd(_0x1eb54d));}return _0x32e45a[_0x56b4ac(0x720)](_0x4c5f54,[_0x4d40df]);},_0x151f5c();}),_0x177a20[_0x189f3f(0x219)]('/',ke),_0x177a20[_0x189f3f(0x219)]((_0x31849b,_0x5bdbe4,_0x4c9c8b,_0x410494)=>{const _0xd762e4=_0x189f3f;if(_0x31849b)return _0x4c9c8b[_0xd762e4(0x22e)](_0x31849b[_0xd762e4(0x22e)]||0x1f4)['json'](_0x31849b);},(_0x522fba,_0x244ef7,_0x411758)=>{const _0xf527ee=_0x189f3f;let {method:_0x12c122,url:_0x518e16}=_0x522fba;_0x244ef7['status'](0x194)[_0xf527ee(0x70a)]({'status':0x194,'message':_0xf527ee(0x5aa)+_0x12c122[_0xf527ee(0x439)]()+'\x20'+_0x518e16,'error':'Not\x20Found'}),_0x411758();});let _0x5297bd=(_0x2bbccd,_0x2faf84='_p_')=>{const _0x5e5dc8=_0x189f3f;let _0x39e069=(_0x19a346,_0x380979=null,_0x1220ad=!0x1)=>{const _0x260878=a0_0x1c5b;let _0x7215ef={};return Object['keys'](_0x19a346)[_0x260878(0x2a0)](_0x23db73=>{const _0x599039=_0x260878;let _0x211175=_0x19a346[_0x23db73],_0x247088=''+_0x2faf84+_0x23db73;_0x380979&&!_0x1220ad&&(_0x247088=_0x380979+'.'+_0x23db73),!_0x211175&&_0x211175!==0x0&&_0x211175!==!0x1||typeof _0x211175>'u'?_0x7215ef[_0x247088]=null:typeof _0x211175!=_0x599039(0x50b)&&!Array[_0x599039(0x41b)](_0x211175)?_0x7215ef[_0x247088]=_0x211175:typeof _0x211175==_0x599039(0x50b)&&!Array[_0x599039(0x41b)](_0x211175)?_0x7215ef=Object[_0x599039(0x5c4)](_0x7215ef,_0x39e069(_0x211175,_0x247088)):Array[_0x599039(0x41b)](_0x211175)&&(typeof _0x211175[0x0]==_0x599039(0x50b)?(_0x7215ef[_0x247088]=[],_0x211175[_0x599039(0x2a0)](_0x201ca9=>{const _0x4c6c21=_0x599039;_0x7215ef[_0x247088][_0x4c6c21(0x438)](_0x39e069(_0x201ca9,_0x247088,!0x0));})):_0x7215ef[_0x247088]=_0x211175);}),_0x7215ef;};return Array['isArray'](_0x2bbccd)?_0x2bbccd[_0x5e5dc8(0x4c1)](_0x423e6a=>_0x39e069(_0x423e6a)):typeof _0x2bbccd==_0x5e5dc8(0x50b)&&_0x2bbccd!==null?_0x39e069(_0x2bbccd):{};},_0x1a0973=S[_0x189f3f(0x6a5)]('SERVER');je[_0x189f3f(0x7c0)]=_0x177a20;let _0x484b6e=je[_0x1a0973[_0x189f3f(0x6e5)]],_0x4df65e=_0x189f3f(0x4a8);_0x484b6e[_0x189f3f(0x23f)](_0x1a0973[_0x189f3f(0x505)],()=>{const _0x1bba49=_0x189f3f;_0x4e5c3a[_0x1bba49(0x253)](_0x4df65e),_0x4e5c3a[_0x1bba49(0x253)](_0x1a0973[_0x1bba49(0x6e5)][_0x1bba49(0x439)]()+_0x1bba49(0x3fc)+_0x1a0973[_0x1bba49(0x505)]);}),ar(),Zs();}var or=a0_0x13c462(0x620),rr=ns[a0_0x13c462(0x6bc)]['join'](__dirname,a0_0x13c462(0x725)),Re=null;function nr(){return new Promise((_0x4847a0,_0x4efa13)=>{const _0x3f5271=a0_0x1c5b;Je[_0x3f5271(0x6bc)][_0x3f5271(0x6c2)](rr,_0x3f5271(0x571),(_0x19f309,_0x21147e)=>{const _0x4822c0=_0x3f5271;if(_0x19f309){Re=_0x19f309,_0x4847a0();return;}qi[_0x4822c0(0x6bc)][_0x4822c0(0x5a1)](_0x21147e)['remote\x20\x22origin\x22'][_0x4822c0(0x74d)]===or?(Re=null,_0x4847a0()):(Re=new Error(_0x4822c0(0x770)),_0x4847a0());});});}function a0_0x1c5b(_0x18ee54,_0xa94ade){const _0x1d20bd=a0_0x1d20();return a0_0x1c5b=function(_0x1c5b33,_0x1143d0){_0x1c5b33=_0x1c5b33-0x12f;let _0x2885c0=_0x1d20bd[_0x1c5b33];return _0x2885c0;},a0_0x1c5b(_0x18ee54,_0xa94ade);}async function cr(){const _0x37bd5a=a0_0x13c462;try{await nr(),await Bi();}catch(_0x2ecc65){console[_0x37bd5a(0x873)](_0x37bd5a(0x7f0)+_0x2ecc65),process[_0x37bd5a(0x483)](0x1);}}cr();async function Vi(){const _0x4a55d4=a0_0x13c462;let _0x43541a;try{_0x43541a=(await qe[_0x4a55d4(0x6bc)][_0x4a55d4(0x6a5)](_0x4a55d4(0x69f)))[_0x4a55d4(0x4a7)]['ip'];}catch(_0x38d44b){console['error'](_0x38d44b);try{_0x43541a=(await qe[_0x4a55d4(0x6bc)][_0x4a55d4(0x6a5)](_0x4a55d4(0x21f)))['data']['ip'];}catch(_0x106c10){console[_0x4a55d4(0x873)](_0x106c10);try{_0x43541a=(await qe[_0x4a55d4(0x6bc)][_0x4a55d4(0x6a5)](_0x4a55d4(0x556)))[_0x4a55d4(0x4a7)][_0x4a55d4(0x423)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x11b3a2){return console[_0x4a55d4(0x873)](_0x11b3a2),!0x1;}}}return _0x43541a;}var Li=0x0;async function lr(){const _0xe938e1=a0_0x13c462;let _0x43f9b4=await new ue(S[_0xe938e1(0x6a5)]('REDIS'))[_0xe938e1(0x65c)]();return console[_0xe938e1(0x253)](_0xe938e1(0x59f),_0x43f9b4[_0xe938e1(0x1d3)]),_0x43f9b4['length'];}function ur(_0x4112b8){const _0x20cd63=a0_0x13c462;let _0x553cfe=_0x4112b8[_0x20cd63(0x6a5)](_0x20cd63(0x1f8))['URL'],_0x597bb0=_0x4112b8[_0x20cd63(0x6a5)](_0x20cd63(0x500));console['log'](_0x20cd63(0x8c8),_0x553cfe),console[_0x20cd63(0x253)](_0x20cd63(0x6d8),_0x597bb0);let _0x36ffc1='',_0x2ea3a9=_0x553cfe||'';if(_0x553cfe){let _0x17fa4a=_0x553cfe[_0x20cd63(0x423)](/\/\/(.*?)\./);console[_0x20cd63(0x253)](_0x20cd63(0x331),_0x17fa4a),_0x17fa4a&&_0x17fa4a[0x1]&&(_0x36ffc1=_0x17fa4a[0x1],console[_0x20cd63(0x253)](_0x20cd63(0x828),_0x36ffc1));}if(!_0x36ffc1&&_0x597bb0&&_0x597bb0[_0x20cd63(0x426)]){let _0x3a4605=_0x597bb0[_0x20cd63(0x426)][_0x20cd63(0x4ca)]('/');console['log'](_0x20cd63(0x591),_0x3a4605);let _0x2b51a4=_0x3a4605[_0x3a4605[_0x20cd63(0x1d3)]-0x2];if(console['log']('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x2b51a4),_0x2b51a4){let _0x32fc87=_0x2b51a4['split']('.');console['log']('Partes\x20do\x20domínio:',_0x32fc87),_0x32fc87[_0x20cd63(0x1d3)]>0x2&&(_0x36ffc1=_0x32fc87[0x0],console[_0x20cd63(0x253)](_0x20cd63(0x70b),_0x36ffc1),_0x2ea3a9=''+_0x2b51a4);}}return{'subdomain':_0x36ffc1||_0x20cd63(0x8a4),'fullURL':_0x2ea3a9||'URL\x20não\x20disponível'};}var {subdomain:he,fullURL:Gs}=ur(S);console[a0_0x13c462(0x253)](a0_0x13c462(0x6b3),he),console['log'](a0_0x13c462(0x142),Gs);async function dr(){const _0x575536=a0_0x13c462;let _0x49b0cd=S[_0x575536(0x6a5)](_0x575536(0x3bd)),_0x52e98a=S[_0x575536(0x6a5)](_0x575536(0x369))[_0x575536(0x187)]['KEY'],_0x15e188=S[_0x575536(0x6a5)]('SSL_CONF'),_0x357d08=await Vi(),_0x404937=S[_0x575536(0x6a5)](_0x575536(0x1f8))[_0x575536(0x505)],_0x5d6b9c=Gs;try{let _0x60a141={'ip':_0x357d08||null,'redis_enable':_0x49b0cd?.[_0x575536(0x7cc)]||null,'apikey':_0x52e98a||null,'ssl':_0x15e188?.[_0x575536(0x679)]||null,'lastupdate':Gi||null,'port':_0x404937||null,'gitInstallError':Re?.[_0x575536(0x7d2)]||null,'url':_0x5d6b9c||null,'subdomain':he};if(console[_0x575536(0x253)](_0x575536(0x4ec),_0x60a141['ip']),_0x49b0cd&&_0x49b0cd[_0x575536(0x7cc)]){let _0x562dcb=await lr();_0x60a141['instanceCount']=_0x562dcb||null;}for(let _0x10db7c in _0x60a141)_0x60a141[_0x575536(0x5d5)](_0x10db7c)&&_0x10db7c!=='ip'&&(_0x60a141[_0x10db7c]=JSON[_0x575536(0x524)](_0x60a141[_0x10db7c]));return(await qe[_0x575536(0x6bc)][_0x575536(0x78a)](_0x575536(0x5fe),_0x60a141))[_0x575536(0x4a7)];}catch(_0x4713ab){return console[_0x575536(0x873)](_0x4713ab),!0x1;}}var qs=!0x1,Gi=0x284,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x29f7af=a0_0x13c462;let _0xfadca1=_0x29f7af(0x6a0);Re===null&&(_0xfadca1=await Vi());let _0x3bc9b0=await dr();if(_0x3bc9b0){if(_0x3bc9b0['response']['licenca']===!0x0){Re===null&&_0x3bc9b0['response'][_0x29f7af(0x5ad)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x2b9a60=0x24*0x3c*0x3c,_0x3fe0f1=_0x3bc9b0[_0x29f7af(0x7c6)][_0x29f7af(0x87d)]>_0x2b9a60?_0x2b9a60:_0x3bc9b0[_0x29f7af(0x7c6)][_0x29f7af(0x87d)],_0x498912=Number(_0x3fe0f1);if(isNaN(_0x498912)){console[_0x29f7af(0x873)](_0x29f7af(0x516));return;}let _0x531375=Math[_0x29f7af(0x546)](_0x498912/0xe10),_0x525732=Math[_0x29f7af(0x546)](_0x498912%0xe10/0x3c),_0x22cd65=new Date(Date[_0x29f7af(0x421)]()+_0x498912*0x3e8);setTimeout(()=>{const _0x3ae36d=_0x29f7af;console['log'](_0x3ae36d(0x3a8)),process[_0x3ae36d(0x483)](0x0);},_0x498912*0x3e8);let _0x150ed9=_0x56e0f5=>_0x56e0f5['toString']()[_0x29f7af(0x6b2)](0x2,'0'),_0x2e9fd2=_0x29f7af(0x8a1)+_0x150ed9(_0x531375)+_0x29f7af(0x611)+_0x150ed9(_0x525732)+_0x29f7af(0x8b7)+_0x150ed9(_0x22cd65[_0x29f7af(0x61f)]())+':'+_0x150ed9(_0x22cd65[_0x29f7af(0x6cc)]())+'.';console['log'](_0x2e9fd2);}else return console[_0x29f7af(0x253)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),qs&&(console[_0x29f7af(0x253)](_0x29f7af(0x2fa)),process['exit']()),'LICENSE_INVALID';}else{if(Li++,Li<pr)console['log'](_0x29f7af(0x5e5)+Fi/0xea60+_0x29f7af(0x6bb)),setTimeout(Bi,Fi);else return console['error'](_0x29f7af(0x3f7)),_0x29f7af(0x374);}}async function hr(){const _0x568f42=a0_0x13c462;console[_0x568f42(0x253)](_0x568f42(0x1b9)),console[_0x568f42(0x253)](_0x568f42(0x4f7)),(0x0,rs[_0x568f42(0x856)])('pm2\x20flush',{'shell':!0x0})['on'](_0x568f42(0x49b),_0x3af3b9=>{const _0x3f755f=_0x568f42;_0x3af3b9!==0x0?console[_0x3f755f(0x873)](_0x3f755f(0x8b5)):(console[_0x3f755f(0x253)](_0x3f755f(0x6d9)),console[_0x3f755f(0x253)](_0x3f755f(0x24c)),(0x0,rs[_0x3f755f(0x856)])(_0x3f755f(0x15c),{'shell':!0x0})['on']('close',_0x3f16f9=>{const _0x5d0d68=_0x3f755f;if(_0x3f16f9!==0x0)console[_0x5d0d68(0x873)](_0x5d0d68(0x7aa));else{console[_0x5d0d68(0x253)](_0x5d0d68(0x161));let _0x199429=(0x0,rs[_0x5d0d68(0x856)])(_0x5d0d68(0x58e),{'shell':!0x0});_0x199429[_0x5d0d68(0x6fb)]['on']('data',_0x140083=>{const _0x578a17=_0x5d0d68;console[_0x578a17(0x253)]('Atualização:\x20'+_0x140083);}),_0x199429[_0x5d0d68(0x66f)]['on'](_0x5d0d68(0x4a7),_0x2157d5=>{const _0x4d9af7=_0x5d0d68;console[_0x4d9af7(0x873)](_0x4d9af7(0x806)+_0x2157d5);}),_0x199429['on'](_0x5d0d68(0x483),_0x176758=>{const _0x1297f6=_0x5d0d68;_0x176758!==0x0?console[_0x1297f6(0x873)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x176758):console[_0x1297f6(0x253)](_0x1297f6(0x81a)),console[_0x1297f6(0x253)](_0x1297f6(0x212)),setTimeout(()=>process[_0x1297f6(0x483)](),0x2710);});}}));});}0x0&&(module[a0_0x13c462(0x226)]={'fullURL':fullURL,'subdomain':subdomain});