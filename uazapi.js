const a0_0x1d42ab=a0_0x3f00;(function(_0xbb7a4e,_0xff549c){const _0x2a14ad=a0_0x3f00,_0x3e520e=_0xbb7a4e();while(!![]){try{const _0x278b8c=-parseInt(_0x2a14ad(0x25a))/0x1*(-parseInt(_0x2a14ad(0x288))/0x2)+-parseInt(_0x2a14ad(0x3c3))/0x3+-parseInt(_0x2a14ad(0x4e7))/0x4*(-parseInt(_0x2a14ad(0x389))/0x5)+parseInt(_0x2a14ad(0x256))/0x6*(parseInt(_0x2a14ad(0x401))/0x7)+-parseInt(_0x2a14ad(0x536))/0x8+-parseInt(_0x2a14ad(0x48a))/0x9+parseInt(_0x2a14ad(0x57e))/0xa;if(_0x278b8c===_0xff549c)break;else _0x3e520e['push'](_0x3e520e['shift']());}catch(_0x420652){_0x3e520e['push'](_0x3e520e['shift']());}}}(a0_0x56fe,0x44e1b));var xr=Object[a0_0x1d42ab(0x661)],Ie=Object[a0_0x1d42ab(0x1a0)],Pr=Object['getOwnPropertyDescriptor'],_r=Object[a0_0x1d42ab(0x56c)],$r=Object['getPrototypeOf'],kr=Object[a0_0x1d42ab(0x3fc)][a0_0x1d42ab(0x700)],Lr=(_0x315580,_0x234788)=>{for(var _0x33f33e in _0x234788)Ie(_0x315580,_0x33f33e,{'get':_0x234788[_0x33f33e],'enumerable':!0x0});},Ds=(_0x281de0,_0x28f658,_0x4485d0,_0x4509e3)=>{const _0x3c0101=a0_0x1d42ab;if(_0x28f658&&typeof _0x28f658==_0x3c0101(0x1b0)||typeof _0x28f658==_0x3c0101(0x129)){for(let _0x5d7383 of _r(_0x28f658))!kr['call'](_0x281de0,_0x5d7383)&&_0x5d7383!==_0x4485d0&&Ie(_0x281de0,_0x5d7383,{'get':()=>_0x28f658[_0x5d7383],'enumerable':!(_0x4509e3=Pr(_0x28f658,_0x5d7383))||_0x4509e3['enumerable']});}return _0x281de0;},R=(_0x592e69,_0x1fb648,_0x492d08)=>(_0x492d08=_0x592e69!=null?xr($r(_0x592e69)):{},Ds(_0x1fb648||!_0x592e69||!_0x592e69['__esModule']?Ie(_0x492d08,'default',{'value':_0x592e69,'enumerable':!0x0}):_0x492d08,_0x592e69)),Fr=_0x285576=>Ds(Ie({},a0_0x1d42ab(0x518),{'value':!0x0}),_0x285576),zo={};Lr(zo,{'subdomain':()=>vs}),module[a0_0x1d42ab(0x375)]=Fr(zo);var Rr=R(require('compression')),Ps=require('fs'),_s=require(a0_0x1d42ab(0x2a7)),$s=require(a0_0x1d42ab(0x596)),De=require(a0_0x1d42ab(0x596)),ae=process[a0_0x1d42ab(0x3f9)](),me=(0x0,De[a0_0x1d42ab(0x455)])(ae,a0_0x1d42ab(0x321)),xs=(0x0,De['join'])(ae,a0_0x1d42ab(0x6e0)),ji=(0x0,De[a0_0x1d42ab(0x455)])(ae,a0_0x1d42ab(0x54f),a0_0x1d42ab(0x588)),Yt=class{constructor(){const _0x463a77=a0_0x1d42ab;this[_0x463a77(0x614)]();}[a0_0x1d42ab(0x406)](_0x207330){const _0x585719=a0_0x1d42ab;return this[_0x585719(0xfd)][_0x207330];}[a0_0x1d42ab(0x614)](){const _0x44066b=a0_0x1d42ab;this[_0x44066b(0xfd)]=process[_0x44066b(0xfd)]?.['DOCKER_ENV']!==_0x44066b(0x695)?this['envYaml']():this[_0x44066b(0x11c)](),process['env']?.[_0x44066b(0x277)]===_0x44066b(0x695)&&(this[_0x44066b(0xfd)][_0x44066b(0x283)]['TYPE']=_0x44066b(0x2e7),this['env'][_0x44066b(0x283)][_0x44066b(0x5f9)]=Number[_0x44066b(0x415)](process[_0x44066b(0xfd)]?.[_0x44066b(0x408)]??'8080'));}['envYaml'](){const _0x5a6009=a0_0x1d42ab;return(0x0,_s[_0x5a6009(0xf9)])((0x0,Ps[_0x5a6009(0x101)])((0x0,$s[_0x5a6009(0x455)])(xs,_0x5a6009(0x490)),{'encoding':_0x5a6009(0x6d1)}));}[a0_0x1d42ab(0x11c)](){const _0x880723=a0_0x1d42ab;return{'SERVER':{'TYPE':process[_0x880723(0xfd)]['SERVER_TYPE'],'PORT':Number[_0x880723(0x415)](process[_0x880723(0xfd)]['SERVER_PORT']),'URL':process[_0x880723(0xfd)][_0x880723(0x1c4)]},'CORS':{'ORIGIN':process[_0x880723(0xfd)][_0x880723(0x346)]['split'](','),'METHODS':process['env'][_0x880723(0x325)][_0x880723(0x4e8)](','),'CREDENTIALS':process[_0x880723(0xfd)]?.[_0x880723(0xde)]===_0x880723(0x695)},'SSL_CONF':{'PRIVKEY':process[_0x880723(0xfd)]?.[_0x880723(0xef)],'FULLCHAIN':process[_0x880723(0xfd)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x880723(0x647)](process[_0x880723(0xfd)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x880723(0x415)](process[_0x880723(0xfd)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x880723(0xfd)]?.[_0x880723(0x5d5)]===_0x880723(0x695),'CONTACTS':process[_0x880723(0xfd)]?.['STORE_CONTACTS']==='true','CHATS':process[_0x880723(0xfd)]?.[_0x880723(0x314)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x880723(0xfd)]?.[_0x880723(0x4bd)],'PORT':Number['parseInt'](process['env']?.[_0x880723(0x4bd)]),'USER':process[_0x880723(0xfd)][_0x880723(0x4f5)],'PASSWORD':process[_0x880723(0xfd)][_0x880723(0x213)],'URI':process[_0x880723(0xfd)][_0x880723(0xc9)],'DB_PREFIX_NAME':process[_0x880723(0xfd)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x880723(0x695)},'REDIS':{'ENABLED':process[_0x880723(0xfd)]?.[_0x880723(0x564)]===_0x880723(0x695),'URI':process['env']['REDIS_URI']||_0x880723(0xcc),'PREFIX_KEY':process[_0x880723(0xfd)][_0x880723(0x4de)]||_0x880723(0x6da)},'LOG':{'LEVEL':process[_0x880723(0xfd)]?.['LOG_LEVEL'][_0x880723(0x4e8)](','),'COLOR':process[_0x880723(0xfd)]?.[_0x880723(0x5be)]===_0x880723(0x695)},'AUTHENTICATION':{'TYPE':process[_0x880723(0xfd)][_0x880723(0x13d)],'API_KEY':{'KEY':process[_0x880723(0xfd)][_0x880723(0x685)]},'JWT':{'EXPIRIN_IN':Number[_0x880723(0x647)](process['env']?.[_0x880723(0x46c)])?Number['parseInt'](process[_0x880723(0xfd)][_0x880723(0x46c)]):0xe10,'SECRET':process[_0x880723(0xfd)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Yt(),Tr=R(require(a0_0x1d42ab(0x64b))),pe=R(require('express')),Os=require('path'),Xt=R(require(a0_0x1d42ab(0x286))),Zt=(_0x4f88b7=>(_0x4f88b7['LOG']='\x1b[32m',_0x4f88b7[a0_0x1d42ab(0x204)]=a0_0x1d42ab(0x33c),_0x4f88b7['WARN']=a0_0x1d42ab(0x5dc),_0x4f88b7['ERROR']='\x1b[31m',_0x4f88b7[a0_0x1d42ab(0x1d0)]=a0_0x1d42ab(0x4a0),_0x4f88b7['VERBOSE']='\x1b[37m',_0x4f88b7[a0_0x1d42ab(0x2bd)]=a0_0x1d42ab(0x3a2),_0x4f88b7))(Zt||{}),ks=(_0x1f5c1a=>(_0x1f5c1a[a0_0x1d42ab(0x494)]=a0_0x1d42ab(0x540),_0x1f5c1a[a0_0x1d42ab(0x2bd)]='\x1b[30m%s\x1b[0m',_0x1f5c1a['INFO']=a0_0x1d42ab(0x21b),_0x1f5c1a[a0_0x1d42ab(0x118)]='\x1b[33m%s\x1b[0m',_0x1f5c1a[a0_0x1d42ab(0x20c)]=a0_0x1d42ab(0x181),_0x1f5c1a['DEBUG']=a0_0x1d42ab(0x49e),_0x1f5c1a[a0_0x1d42ab(0x1b6)]=a0_0x1d42ab(0x690),_0x1f5c1a))(ks||{}),Ls=(_0x2d5970=>(_0x2d5970[a0_0x1d42ab(0x494)]=a0_0x1d42ab(0x494),_0x2d5970['WARN']=a0_0x1d42ab(0x118),_0x2d5970[a0_0x1d42ab(0x204)]='INFO',_0x2d5970['DARK']='DARK',_0x2d5970['ERROR']=a0_0x1d42ab(0x20c),_0x2d5970[a0_0x1d42ab(0x1d0)]='DEBUG',_0x2d5970[a0_0x1d42ab(0x1b6)]='VERBOSE',_0x2d5970))(Ls||{}),Fs=(_0x1d63a3=>(_0x1d63a3[a0_0x1d42ab(0x494)]=a0_0x1d42ab(0x15c),_0x1d63a3[a0_0x1d42ab(0x204)]='\x1b[44m',_0x1d63a3[a0_0x1d42ab(0x118)]=a0_0x1d42ab(0x33b),_0x1d63a3['DARK']='\x1b[40m',_0x1d63a3[a0_0x1d42ab(0x20c)]=a0_0x1d42ab(0x44d),_0x1d63a3['DEBUG']=a0_0x1d42ab(0x51f),_0x1d63a3[a0_0x1d42ab(0x1b6)]=a0_0x1d42ab(0x67b),_0x1d63a3))(Fs||{}),v=class{constructor(_0x20bcab=a0_0x1d42ab(0x67e)){const _0x49e2d1=a0_0x1d42ab;this[_0x49e2d1(0x6ee)]=_0x20bcab,this['configService']=b;}[a0_0x1d42ab(0x4e1)](_0x306bed){const _0x2f467a=a0_0x1d42ab;this[_0x2f467a(0x6ee)]=_0x306bed;}[a0_0x1d42ab(0x1ce)](_0x2aa144,_0x144e93){const _0x44bbbe=a0_0x1d42ab;let _0x55e9a4=[];this[_0x44bbbe(0x566)][_0x44bbbe(0x406)]('LOG')[_0x44bbbe(0x560)][_0x44bbbe(0x371)](_0x38a909=>_0x55e9a4[_0x44bbbe(0x59e)](Ls[_0x38a909]));let _0x574f33=typeof _0x2aa144;_0x55e9a4[_0x44bbbe(0x2c5)](_0x144e93)&&(b[_0x44bbbe(0x406)](_0x44bbbe(0x494))[_0x44bbbe(0x571)]?(console[_0x44bbbe(0x1c0)](_0x44bbbe(0x2bf)+ks[_0x144e93],_0x44bbbe(0x6b6),(0x0,Xt[_0x44bbbe(0x47b)])()[_0x44bbbe(0x23b)]('DD/MM\x20HH:mm:ss'),_0x44bbbe(0x10f),Zt[_0x144e93]+Fs[_0x144e93]+_0x44bbbe(0x2bf),_0x144e93+'\x20\x1b[0m',_0x44bbbe(0x55d),this[_0x44bbbe(0x6ee)]+'\x1b[0m',Zt[_0x144e93],_0x574f33!=='object'?_0x2aa144:'','\x1b[0m'),_0x574f33==='object'&&console['log'](_0x2aa144,'\x0a')):console[_0x44bbbe(0x1c0)]((0x0,Xt[_0x44bbbe(0x47b)])()[_0x44bbbe(0x23b)](_0x44bbbe(0x29d)),_0x144e93+'\x20',''+this[_0x44bbbe(0x6ee)],_0x2aa144));}['log'](_0x30b533){const _0x539a2e=a0_0x1d42ab;this['console'](_0x30b533,_0x539a2e(0x494));}[a0_0x1d42ab(0x31c)](_0x49abf2){const _0x2c8015=a0_0x1d42ab;this[_0x2c8015(0x1ce)](_0x49abf2,_0x2c8015(0x204));}[a0_0x1d42ab(0x3b6)](_0x21d580){const _0x2d33f8=a0_0x1d42ab;this[_0x2d33f8(0x1ce)](_0x21d580,_0x2d33f8(0x118));}[a0_0x1d42ab(0x241)](_0x110e99){const _0x36200c=a0_0x1d42ab;this['console'](_0x110e99,_0x36200c(0x20c));}[a0_0x1d42ab(0x429)](_0x37d8fa){const _0x3d5bad=a0_0x1d42ab;this[_0x3d5bad(0x1ce)](_0x37d8fa,'VERBOSE');}['debug'](_0x52b34d){const _0x56ad04=a0_0x1d42ab;this[_0x56ad04(0x1ce)](_0x52b34d,_0x56ad04(0x1d0));}['dark'](_0x2fce66){const _0x48718e=a0_0x1d42ab;this[_0x48718e(0x1ce)](_0x2fce66,_0x48718e(0x2bd));}};function Us(){const _0x4be7c9=a0_0x1d42ab;process['on'](_0x4be7c9(0x476),(_0x5bd428,_0x3eccac)=>{const _0x1c88e2=_0x4be7c9;new v(_0x1c88e2(0x476))[_0x1c88e2(0x241)]({'origin':_0x3eccac,'stderr':process[_0x1c88e2(0x373)]['fd'],'error':_0x5bd428});}),process['on'](_0x4be7c9(0x1ac),(_0x2c376e,_0x42df4a)=>{const _0x5b6913=_0x4be7c9;new v(_0x5b6913(0x1ac))['error']({'origin':_0x42df4a,'stderr':process['stderr']['fd'],'error':_0x2c376e});});}var Js=R(require(a0_0x1d42ab(0x69c))),es=new Js[(a0_0x1d42ab(0x47b))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x1d42ab(0x337)),ts=R(require(a0_0x1d42ab(0x337))),Ur=new v(a0_0x1d42ab(0x4ea)),V=b['get']('DATABASE'),N=V['ENABLED']?V[a0_0x1d42ab(0x696)][a0_0x1d42ab(0x3a1)]?ts['default'][a0_0x1d42ab(0x395)](V['CONNECTION'][a0_0x1d42ab(0x3a1)],{'dbName':V['CONNECTION'][a0_0x1d42ab(0x320)]+a0_0x1d42ab(0x4b8)}):ts[a0_0x1d42ab(0x47b)]['createConnection']('mongodb://'+V[a0_0x1d42ab(0x696)]['HOST']+':'+V['CONNECTION'][a0_0x1d42ab(0x5f9)]+a0_0x1d42ab(0x528),{'user':V['CONNECTION'][a0_0x1d42ab(0x201)],'pass':V[a0_0x1d42ab(0x696)][a0_0x1d42ab(0x3bf)],'dbName':V[a0_0x1d42ab(0x696)][a0_0x1d42ab(0x320)]+a0_0x1d42ab(0x4b8)}):null;V['ENABLED']&&Ur['info']('ON\x20-\x20dbName:\x20'+N[a0_0x1d42ab(0x510)]);var Jr=new xe[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),jr=new xe[(a0_0x1d42ab(0x18b))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),js=_0x385887=>{const _0x4c441d=a0_0x1d42ab;let _0x2b3321='z_'+_0x385887+_0x4c441d(0x59a);return N?.[_0x4c441d(0x5da)](_0x4c441d(0x293),qr,_0x2b3321);},qs=require(a0_0x1d42ab(0x337)),Vr=new qs[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x18e044=>{const _0x15f159=a0_0x1d42ab;let _0x4edf1c='z_'+_0x18e044+_0x15f159(0x302);return N?.[_0x15f159(0x5da)]('ContactModel',Vr,_0x4edf1c);},Bs=require(a0_0x1d42ab(0x337)),Br=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x3860c8=>{let _0xdc5e2='z_'+_0x3860c8+'_Messages';return N?.['model']('MessageModel',Br,_0xdc5e2);},Ws=require('mongoose'),ss=class{},Gr=new Ws[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x1d42ab(0x5da)](ss[a0_0x1d42ab(0x2ce)],Gr,a0_0x1d42ab(0x322)),Hs=require(a0_0x1d42ab(0x337)),as=class{},Ks=new Hs[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre'](a0_0x1d42ab(0x2f3),function(_0x3f80eb){const _0x1d7e9b=a0_0x1d42ab;delete this[_0x1d7e9b(0x295)],delete this[_0x1d7e9b(0x708)],delete this[_0x1d7e9b(0x360)],delete this[_0x1d7e9b(0x197)],delete this[_0x1d7e9b(0x5d9)],_0x3f80eb();});var Qs=N?.[a0_0x1d42ab(0x5da)](as[a0_0x1d42ab(0x2ce)],Ks,a0_0x1d42ab(0x6c3)),P=require(a0_0x1d42ab(0x337)),Pe=class{},Ys=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),rs=new P[(a0_0x1d42ab(0x18b))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new P[(a0_0x1d42ab(0x18b))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1d42ab(0x1e8)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x1d42ab(0x3da)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new P[(a0_0x1d42ab(0x18b))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new P[(a0_0x1d42ab(0x18b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new P[(a0_0x1d42ab(0x18b))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ls=new P[(a0_0x1d42ab(0x18b))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new P[(a0_0x1d42ab(0x18b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),os=class{},us=new P[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x393e62=a0_0x1d42ab;return _0x393e62(0x58f)+Math[_0x393e62(0x1d1)]()[_0x393e62(0x611)](0x24)[_0x393e62(0x66b)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ls],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]}});us[a0_0x1d42ab(0x639)](a0_0x1d42ab(0x2f3),function(_0x108c12){const _0xc75e49=a0_0x1d42ab;let _0x24b64a=new Set(),_0x2fc499=new Set(this['variables']?.['map'](_0x102b74=>_0x102b74[_0xc75e49(0x2ce)])),_0x38e7c6=JSON[_0xc75e49(0x427)](this),_0x3509d5=/{{(?!_)([^}]*)}}/g,_0x42c04c;for(;(_0x42c04c=_0x3509d5[_0xc75e49(0x218)](_0x38e7c6))!==null;)_0x2fc499[_0xc75e49(0x24f)](_0x42c04c[0x1])||_0x24b64a[_0xc75e49(0x456)](_0x42c04c[0x1]);_0x24b64a[_0xc75e49(0x707)]>0x0?(console[_0xc75e49(0x3b6)](_0xc75e49(0x68d),Array[_0xc75e49(0x221)](_0x24b64a)),this[_0xc75e49(0x11a)]=Array[_0xc75e49(0x221)](_0x24b64a)):this[_0xc75e49(0x11a)]=[],_0x108c12();});var ta=_0x1a7641=>{const _0x172c45=a0_0x1d42ab;let _0x191d1f='z_'+_0x1a7641+_0x172c45(0xfc);return N?.[_0x172c45(0x5da)](_0x172c45(0x3cc),us,_0x191d1f);},sa=N?.[a0_0x1d42ab(0x5da)](os[a0_0x1d42ab(0x2ce)],us,a0_0x1d42ab(0x620)),Kr=new P[(a0_0x1d42ab(0x18b))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ls],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),is=class{},aa=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ls],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1d42ab(0x66f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1d42ab(0x179)},'waitingMenu_replyOptions':{'type':[rs],'default':[]}}),ra=_0x37afe6=>{const _0x36397b=a0_0x1d42ab;let _0x37ac53='z_'+_0x37afe6+_0x36397b(0x47a);return N?.['model']('ConversationModel',aa,_0x37ac53);},oa=N?.[a0_0x1d42ab(0x5da)](is[a0_0x1d42ab(0x2ce)],aa,a0_0x1d42ab(0x1f7)),ns=class{},Qr=new P[(a0_0x1d42ab(0x18b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new P['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new P[(a0_0x1d42ab(0x18b))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x55b1ac=>{const _0x554aa5=a0_0x1d42ab;let _0x26cadb='z_'+_0x55b1ac+'_ScheduleMessages';return N?.[_0x554aa5(0x5da)](_0x554aa5(0x4af),ia,_0x26cadb);},ca=N?.[a0_0x1d42ab(0x5da)](ns[a0_0x1d42ab(0x2ce)],ia,a0_0x1d42ab(0x453)),cs=class{},Xr=new P[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new P[(a0_0x1d42ab(0x18b))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x1d42ab(0x329)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new P[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.[a0_0x1d42ab(0x5da)](cs[a0_0x1d42ab(0x2ce)],to,a0_0x1d42ab(0x480)),la=require(a0_0x1d42ab(0x337)),so=new la[(a0_0x1d42ab(0x18b))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x327927=>{const _0x22f058=a0_0x1d42ab;let _0x3a9353='z_'+_0x327927+_0x22f058(0x4cd);return N?.[_0x22f058(0x5da)]('LabelModel',so,_0x3a9353);},I=class{constructor(_0x58ed5b){const _0x310b29=a0_0x1d42ab;this[_0x310b29(0x2a0)]=_0x58ed5b[_0x310b29(0x406)](_0x310b29(0x54a));}};function A(_0x361145){const _0x24fca3=a0_0x1d42ab;let _0x21abdf={};for(let [_0x142398,_0x498c3b]of Object[_0x24fca3(0x4ae)](_0x361145))if(typeof _0x498c3b==_0x24fca3(0x1b0)&&!Array[_0x24fca3(0x5e2)](_0x498c3b)){for(let [_0x5e00f9,_0x381456]of Object[_0x24fca3(0x4ae)](_0x498c3b))_0x21abdf[_0x142398+'.'+_0x5e00f9]=_0x381456;}else _0x21abdf[_0x142398]=_0x498c3b;return _0x21abdf;}var $e=class{constructor(_0x34429c,_0x2f0b65,_0x7d91ec,_0x56848a,_0x24b976,_0x1a0043,_0x382eb4,_0x5e24d4,_0x576f36,_0x2eb118,_0x32b215){const _0x580d42=a0_0x1d42ab;this[_0x580d42(0x312)]=_0x34429c,this[_0x580d42(0x159)]=_0x2f0b65,this[_0x580d42(0x1db)]=_0x7d91ec,this[_0x580d42(0x6c3)]=_0x56848a,this['auth']=_0x24b976,this[_0x580d42(0x620)]=_0x1a0043,this[_0x580d42(0x1f7)]=_0x382eb4,this[_0x580d42(0x1bc)]=_0x5e24d4,this['scheduleMessage']=_0x576f36,this[_0x580d42(0x244)]=_0x2eb118,this[_0x580d42(0x3e0)]=_0x32b215;}get['dbServer'](){const _0x316e5c=a0_0x1d42ab;return this[_0x316e5c(0x3e0)];}},ke=class{},Le=class extends I{[a0_0x1d42ab(0xd4)](_0x498180){return Gs(_0x498180);}async[a0_0x1d42ab(0x702)](_0x1aa934,_0x1640a0){const _0x2cd921=a0_0x1d42ab;if(_0x1aa934[_0x2cd921(0x6e2)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2cd921(0xd4)](_0x1640a0)[_0x2cd921(0x303)]([..._0x1aa934]))[_0x2cd921(0x6e2)]};}catch(_0x32a00b){return console[_0x2cd921(0x1c0)](_0x2cd921(0x350),_0x32a00b),_0x32a00b;}}async[a0_0x1d42ab(0x497)](_0x1434d8,_0x3a2947){const _0x4383a5=a0_0x1d42ab;try{let _0x254464=this[_0x4383a5(0xd4)](_0x3a2947),_0x4700b7=A(_0x1434d8[_0x4383a5(0x6c4)]);return await _0x254464[_0x4383a5(0x497)](_0x4700b7)[_0x4383a5(0x4a4)]({'messageTimestamp':-0x1})[_0x4383a5(0x553)](_0x1434d8?.[_0x4383a5(0x553)]??0x0)[_0x4383a5(0x16d)]();}catch{return[];}}async['delete'](_0x59b0ea,_0xa587b){const _0xddd6fb=a0_0x1d42ab;try{let _0x170c62=this[_0xddd6fb(0xd4)](_0xa587b),_0xd81688=A(_0x59b0ea[_0xddd6fb(0x6c4)]);await _0x170c62[_0xddd6fb(0x54e)](_0xd81688);}catch(_0x38423f){console[_0xddd6fb(0x241)](_0x38423f);}}async[a0_0x1d42ab(0x22d)](_0x41f2a4,_0x5e9f47,_0x49fdfd){const _0x2263a3=a0_0x1d42ab;try{let _0x4a44d4=this[_0x2263a3(0xd4)](_0x49fdfd),_0x36cc77=A(_0x41f2a4[_0x2263a3(0x6c4)]);return await _0x4a44d4[_0x2263a3(0x3f2)](_0x36cc77,{'$set':_0x5e9f47},{'new':!0x0});}catch(_0x5a90a8){throw console[_0x2263a3(0x241)](_0x5a90a8),_0x5a90a8;}}async[a0_0x1d42ab(0x303)](_0x39dfdb,_0x2bd40d){const _0x367c3e=a0_0x1d42ab;if(_0x39dfdb[_0x367c3e(0x6e2)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x367c3e(0xd4)](_0x2bd40d)['insertMany']([..._0x39dfdb]))[_0x367c3e(0x6e2)]};}catch(_0x1b4305){return console[_0x367c3e(0x1c0)](_0x367c3e(0x350),_0x1b4305),_0x1b4305;}}async['deleteAll'](_0x35d8ce){const _0x18d56a=a0_0x1d42ab;try{return await this[_0x18d56a(0xd4)](_0x35d8ce)[_0x18d56a(0x186)][_0x18d56a(0x577)](),{'success':!0x0};}catch(_0xfd3976){return console[_0x18d56a(0x241)](_0xfd3976),{'success':!0x1,'error':_0xfd3976};}}},mr=R(require(a0_0x1d42ab(0x50a))),y=R(require(a0_0x1d42ab(0x10d))),ve=require('fs'),U=R(require(a0_0x1d42ab(0x596))),se=R(require(a0_0x1d42ab(0xec))),hr=require(a0_0x1d42ab(0x3db)),fr=R(require(a0_0x1d42ab(0x6aa))),yr=R(require('qrcode-terminal')),da=[a0_0x1d42ab(0x1a1),a0_0x1d42ab(0x5fd),a0_0x1d42ab(0x4f0),a0_0x1d42ab(0x3b1),'stickerMessage'],pa=['ephemeralMessage',a0_0x1d42ab(0x2ec),a0_0x1d42ab(0x5b9),a0_0x1d42ab(0x1f5)],Ss=require('os'),At=R(require(a0_0x1d42ab(0x6f0))),Dt=require(a0_0x1d42ab(0x21f)),Ot=require('node-mime-types'),ne=R(require(a0_0x1d42ab(0x337))),k=require('class-validator'),he=class{constructor(_0x3dfe3b,_0x1d6425,_0x245fd7){const _0x339e32=a0_0x1d42ab;this['jid']=_0x3dfe3b,this[_0x339e32(0x2d0)]=_0x1d6425,this[_0x339e32(0x2ce)]=_0x245fd7;}},Fe=class{},Ue=class{},be=class{},Je=class{},je=class{},fe=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Ct=R(require('express')),ga=require('fs'),ma=require(a0_0x1d42ab(0x596));async function We(_0xd8ae2f){const _0x306eab=a0_0x1d42ab;let _0x1af7ef=B[_0x306eab(0x6a2)][_0xd8ae2f];if(V[_0x306eab(0x15a)]){let _0x2c8b12=N[_0x306eab(0x11d)]()['db'](V['CONNECTION'][_0x306eab(0x320)]+_0x306eab(0x4d4))['collection'](_0xd8ae2f);return _0x1af7ef||(await _0x2c8b12['find']({})[_0x306eab(0x465)]())[_0x306eab(0x6e2)]>0x0;}return _0x1af7ef||(0x0,ga[_0x306eab(0x409)])((0x0,ma[_0x306eab(0x455)])(me,_0xd8ae2f));}async function ha(_0x2e138f,_0x562a4f,_0x49b1cf){const _0x281cb4=a0_0x1d42ab;if(_0x2e138f[_0x281cb4(0x6cc)][_0x281cb4(0x2c5)](_0x281cb4(0x452))||_0x2e138f['originalUrl']['includes']('/instance/fetchInstances')||_0x2e138f[_0x281cb4(0x6cc)][_0x281cb4(0x2c5)](_0x281cb4(0x262))||_0x2e138f[_0x281cb4(0x6cc)][_0x281cb4(0x2c5)]('/config')||_0x2e138f[_0x281cb4(0x6cc)]['includes'](_0x281cb4(0x1d2))||_0x2e138f[_0x281cb4(0x6cc)][_0x281cb4(0x2c5)](_0x281cb4(0x2b0))||_0x2e138f[_0x281cb4(0x6cc)][_0x281cb4(0x2c5)]('/instance/delete'))return _0x49b1cf();let _0x5e60d4=_0x2e138f['params'];if(!_0x5e60d4?.[_0x281cb4(0x41b)])throw new m(_0x281cb4(0x44f));if(!await We(_0x5e60d4[_0x281cb4(0x41b)]))throw new F('The\x20'+_0x5e60d4[_0x281cb4(0x41b)]+_0x281cb4(0xd7));_0x49b1cf();}async function fa(_0x11775e,_0x26b754,_0x353c8c){const _0x2f94cf=a0_0x1d42ab;if(_0x11775e['originalUrl'][_0x2f94cf(0x2c5)](_0x2f94cf(0x452))){let _0x1a5650=_0x11775e['body'];if(await We(_0x1a5650['instanceName']))throw new K(_0x2f94cf(0x59d)+_0x1a5650[_0x2f94cf(0x41b)]+_0x2f94cf(0x31e));B[_0x2f94cf(0x6a2)][_0x1a5650[_0x2f94cf(0x41b)]]&&delete B[_0x2f94cf(0x6a2)][_0x1a5650[_0x2f94cf(0x41b)]];}_0x353c8c();}var ya=require(a0_0x1d42ab(0x63e)),wa=R(require('jsonwebtoken')),ze=a0_0x1d42ab(0x6da),ro=new v('GUARD');async function oo(_0x1c8737,_0x49de00,_0x2b6c69){const _0x6d396f=a0_0x1d42ab;let _0x43f573=_0x1c8737[_0x6d396f(0x406)](_0x6d396f(0x27f));if(_0x43f573&&b['get'](_0x6d396f(0x6f6))[_0x6d396f(0x6b0)]['KEY']!==_0x43f573)throw new ee();if(b[_0x6d396f(0x406)](_0x6d396f(0x6f6))[_0x6d396f(0x6b0)][_0x6d396f(0x53e)]===_0x43f573)return _0x2b6c69();if((_0x1c8737[_0x6d396f(0x6cc)][_0x6d396f(0x2c5)](_0x6d396f(0x452))||_0x1c8737['originalUrl'][_0x6d396f(0x2c5)](_0x6d396f(0x2cc)))&&!_0x43f573)throw new K(_0x6d396f(0x591),_0x6d396f(0x1cc));let _0x543e95=b[_0x6d396f(0x406)]('AUTHENTICATION')['JWT'];try{let [_0x2da917,_0x146230]=_0x1c8737[_0x6d396f(0x406)](_0x6d396f(0x1ed))[_0x6d396f(0x4e8)]('\x20');if(_0x2da917[_0x6d396f(0x4c0)]()!=='bearer')throw new ee();if(!(0x0,ya[_0x6d396f(0x136)])(_0x146230))throw new ee();let _0x2963f0=_0x1c8737[_0x6d396f(0x380)],_0x677e30=wa['default'][_0x6d396f(0x6ae)](_0x146230,_0x543e95[_0x6d396f(0x6f8)],{'ignoreExpiration':_0x543e95[_0x6d396f(0x19d)]===0x0});if(_0x2963f0['instanceName']!==_0x677e30[_0x6d396f(0x41b)]||ze!==_0x677e30[_0x6d396f(0x335)])throw new ee();return _0x2b6c69();}catch(_0x351509){throw ro['error'](_0x351509),new ee();}}async function io(_0x4c409b,_0xaafcb8,_0xda8123){const _0x193a83=a0_0x1d42ab;let _0x5360f0=b[_0x193a83(0x406)](_0x193a83(0x6f6))[_0x193a83(0x6b0)],_0x2255a2=_0x4c409b[_0x193a83(0x406)]('apikey');if(_0x5360f0[_0x193a83(0x53e)]===_0x2255a2)return _0xda8123();if(_0x4c409b[_0x193a83(0x6cc)][_0x193a83(0x2c5)](_0x193a83(0x452))){let _0x403c72=He,_0x19154c=_0x4c409b[_0x193a83(0x2c7)]['instanceName'];if(_0x403c72&&_0x19154c[_0x193a83(0x4c0)]()[_0x193a83(0x196)](_0x403c72[_0x193a83(0x4c0)]()))return _0xda8123();if(!_0x2255a2)throw new K(_0x193a83(0x591),_0x193a83(0x1cc));}if(_0x4c409b['originalUrl']['includes'](_0x193a83(0x2cc))&&!_0x2255a2)throw new K(_0x193a83(0x591),_0x193a83(0x1cc));if(_0x4c409b[_0x193a83(0x6cc)][_0x193a83(0x2c5)](_0x193a83(0x262))&&!_0x2255a2)throw new K(_0x193a83(0x591),_0x193a83(0x1cc));if(_0x4c409b[_0x193a83(0x6cc)][_0x193a83(0x2c5)](_0x193a83(0x61b))&&!_0x2255a2)throw new K(_0x193a83(0x591),_0x193a83(0x1cc));try{let _0x1e6960=_0x4c409b[_0x193a83(0x380)];if((await le['auth'][_0x193a83(0x497)](_0x1e6960['instanceName']))[_0x193a83(0x27f)]===_0x2255a2)return _0xda8123();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require('express'),M=require('uuid'),E=(..._0x22b912)=>{const _0x19e132=a0_0x1d42ab;let _0x355abc={};return _0x22b912[_0x19e132(0x371)](_0x3307f3=>_0x355abc[_0x3307f3]={'minLength':0x1,'description':_0x19e132(0x5e6)+_0x3307f3+_0x19e132(0x1bf)}),{'if':{'propertyNames':{'enum':[..._0x22b912]}},'then':{'properties':_0x355abc}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'instanceName':{'type':a0_0x1d42ab(0x6e1)}},...E(a0_0x1d42ab(0x41b))},Hn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x3ff)],...E('oldToken')},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1d42ab(0x6e1)},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1d42ab(0x5fc)],...E('id',a0_0x1d42ab(0x6e5))},'message':{'type':a0_0x1d42ab(0x1b0)}}},Q={'properties':{'delay':{'type':a0_0x1d42ab(0x514),'description':a0_0x1d42ab(0x15f)},'presence':{'type':'string','enum':['unavailable','available',a0_0x1d42ab(0x363),a0_0x1d42ab(0x2c3),'paused']}}},z={'type':a0_0x1d42ab(0x6e1),'pattern':a0_0x1d42ab(0x572),'description':a0_0x1d42ab(0x3c5)},Sa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'text':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x5a0)],...E(a0_0x1d42ab(0x5a0))}},'required':['textMessage',a0_0x1d42ab(0x5c7)]},Ea={'type':a0_0x1d42ab(0x6e1),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1d42ab(0x3c5)},Qn={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'text':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x5a0)],...E(a0_0x1d42ab(0x5a0))}},'required':[a0_0x1d42ab(0x3bc),a0_0x1d42ab(0x5c7)]},Yn={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x1d42ab(0x41c),a0_0x1d42ab(0x2dd),a0_0x1d42ab(0x504),a0_0x1d42ab(0x5bb)]},'media':{'type':a0_0x1d42ab(0x6e1)},'fileName':{'type':a0_0x1d42ab(0x6e1)},'caption':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x40d),a0_0x1d42ab(0x17b)],...E('fileName',a0_0x1d42ab(0x3fd),'media')}},'required':[a0_0x1d42ab(0x433),a0_0x1d42ab(0x5c7)]},Ma={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'image':{'type':'string'}},'required':[a0_0x1d42ab(0x41c)],...E(a0_0x1d42ab(0x41c))}},'required':[a0_0x1d42ab(0x16f),a0_0x1d42ab(0x5c7)]},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'statusMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'type':{'type':'string','enum':[a0_0x1d42ab(0x5a0),a0_0x1d42ab(0x41c),a0_0x1d42ab(0x5bb),a0_0x1d42ab(0x504)]},'content':{'type':a0_0x1d42ab(0x6e1)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x1d42ab(0x6e1)},'font':{'type':a0_0x1d42ab(0x514),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x6e1),'pattern':a0_0x1d42ab(0x62a),'description':a0_0x1d42ab(0x161)}},'allContacts':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}},'required':[a0_0x1d42ab(0x48e),a0_0x1d42ab(0x147)],...E(a0_0x1d42ab(0x48e),a0_0x1d42ab(0x147))}},'required':['statusMessage']},va={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'mediatype':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x41c),a0_0x1d42ab(0x2dd),a0_0x1d42ab(0x504),'audio']},'media':{'type':a0_0x1d42ab(0x6e1)},'fileName':{'type':a0_0x1d42ab(0x6e1)},'caption':{'type':'string'}},'required':[a0_0x1d42ab(0x40d),a0_0x1d42ab(0x17b)],...E('fileName',a0_0x1d42ab(0x3fd),a0_0x1d42ab(0x17b))}},'required':['mediaMessage','number']},Na={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'audio':{'type':'string'}},'required':[a0_0x1d42ab(0x5bb)],...E('audio')}},'required':[a0_0x1d42ab(0x4f0),a0_0x1d42ab(0x5c7)]},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'pollMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'name':{'type':a0_0x1d42ab(0x6e1)},'selectableCount':{'type':a0_0x1d42ab(0x5c7)},'values':{'type':a0_0x1d42ab(0x15b),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1d42ab(0x2ce),a0_0x1d42ab(0x66e),a0_0x1d42ab(0x6c5)],...E(a0_0x1d42ab(0x2ce),a0_0x1d42ab(0x66e),a0_0x1d42ab(0x6c5))}},'required':['number',a0_0x1d42ab(0x3e8)]},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'menuMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'text':{'type':a0_0x1d42ab(0x6e1)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x1d42ab(0x532)],...E(a0_0x1d42ab(0x5a0),a0_0x1d42ab(0x532))}},'required':['number',a0_0x1d42ab(0x273)]},Aa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'title':{'type':a0_0x1d42ab(0x6e1)},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x1b0),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x4ee),a0_0x1d42ab(0x4c5)],...E(a0_0x1d42ab(0x4ee),a0_0x1d42ab(0x4c5))}},'mediaMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'media':{'type':a0_0x1d42ab(0x6e1)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x41c),a0_0x1d42ab(0x2dd),a0_0x1d42ab(0x504)]}},'required':[a0_0x1d42ab(0x17b),a0_0x1d42ab(0x40d)],...E(a0_0x1d42ab(0x17b),a0_0x1d42ab(0x6a3))}},'required':[a0_0x1d42ab(0x1f3),a0_0x1d42ab(0x2ee)],...E(a0_0x1d42ab(0x1f3),a0_0x1d42ab(0x133))}},'required':[a0_0x1d42ab(0x5c7),a0_0x1d42ab(0x35b)]},Oa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'latitude':{'type':a0_0x1d42ab(0x5c7)},'longitude':{'type':a0_0x1d42ab(0x5c7)},'name':{'type':'string'},'address':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x1b2),'longitude'],...E(a0_0x1d42ab(0x2ce),a0_0x1d42ab(0x5a1))}},'required':[a0_0x1d42ab(0x5c7),a0_0x1d42ab(0x366)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x1d42ab(0x1b0),'properties':{'title':{'type':a0_0x1d42ab(0x6e1)},'description':{'type':a0_0x1d42ab(0x6e1)},'footerText':{'type':a0_0x1d42ab(0x6e1)},'buttonText':{'type':a0_0x1d42ab(0x6e1)},'sections':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x1b0),'properties':{'title':{'type':'string'},'description':{'type':a0_0x1d42ab(0x6e1)},'rowId':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x1f3),a0_0x1d42ab(0x61f)],...E('title','rowId')}}},'required':['title',a0_0x1d42ab(0x6a7)],...E(a0_0x1d42ab(0x1f3))}}},'required':[a0_0x1d42ab(0x1f3),a0_0x1d42ab(0x133),a0_0x1d42ab(0x4ee),a0_0x1d42ab(0x175)],...E(a0_0x1d42ab(0x1f3),a0_0x1d42ab(0x133),a0_0x1d42ab(0x4ee),a0_0x1d42ab(0x14b))}},'required':[a0_0x1d42ab(0x5c7),a0_0x1d42ab(0x18a)]},Da={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x1d42ab(0x1b0),'properties':{'fullName':{'type':a0_0x1d42ab(0x6e1)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x1d42ab(0x688),a0_0x1d42ab(0x117)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x1d42ab(0x4a5)]},xa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x1d42ab(0x1b0),'properties':{'id':{'type':a0_0x1d42ab(0x6e1)},'remoteJid':{'type':a0_0x1d42ab(0x6e1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1d42ab(0x6e5),a0_0x1d42ab(0x5fc)],...E('id',a0_0x1d42ab(0x6e5))},'reaction':{'type':a0_0x1d42ab(0x6e1)}},'required':['key','reaction'],...E(a0_0x1d42ab(0x157))}},'required':[a0_0x1d42ab(0x198)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'numbers':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x6e1),'pattern':a0_0x1d42ab(0x62a),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},_a={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'readMessages':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1d42ab(0x6e1)}},'required':['id',a0_0x1d42ab(0x5fc),a0_0x1d42ab(0x6e5)],...E('id',a0_0x1d42ab(0x6e5))}}},'required':[a0_0x1d42ab(0x524)]},$a={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'privacySettings':{'type':a0_0x1d42ab(0x1b0),'properties':{'readreceipts':{'type':a0_0x1d42ab(0x6e1),'enum':['all','none']},'profile':{'type':a0_0x1d42ab(0x6e1),'enum':['all',a0_0x1d42ab(0x33f),a0_0x1d42ab(0x192),a0_0x1d42ab(0x3d2)]},'status':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x644),a0_0x1d42ab(0x33f),a0_0x1d42ab(0x192),a0_0x1d42ab(0x3d2)]},'online':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x644),a0_0x1d42ab(0x421)]},'last':{'type':'string','enum':[a0_0x1d42ab(0x644),'contacts',a0_0x1d42ab(0x192),a0_0x1d42ab(0x3d2)]},'groupadd':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x644),a0_0x1d42ab(0x33f),'contact_blacklist',a0_0x1d42ab(0x3d2)]}},'required':[a0_0x1d42ab(0x437),a0_0x1d42ab(0x669),a0_0x1d42ab(0x3f1),a0_0x1d42ab(0x5ee),a0_0x1d42ab(0x46e),'groupadd'],...E(a0_0x1d42ab(0x437),'profile',a0_0x1d42ab(0x3f1),'online',a0_0x1d42ab(0x46e),a0_0x1d42ab(0x393))}},'required':[a0_0x1d42ab(0x656)]},ka={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x1d42ab(0x1b0),'properties':{'id':{'type':a0_0x1d42ab(0x6e1)},'remoteJid':{'type':a0_0x1d42ab(0x6e1)},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1d42ab(0x5fc),a0_0x1d42ab(0x6e5)],...E('id',a0_0x1d42ab(0x6e5))},'messageTimestamp':{'type':a0_0x1d42ab(0x514),'minLength':0x1}},'required':[a0_0x1d42ab(0x362)],...E('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1d42ab(0xc3),'archive']},La={'$id':(0x0,M['v4'])(),'type':'object','properties':{'id':{'type':a0_0x1d42ab(0x6e1)},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1d42ab(0x6e1)},'participant':{'type':a0_0x1d42ab(0x6e1)}},'required':['id',a0_0x1d42ab(0x5fc),a0_0x1d42ab(0x6e5)],...E('id',a0_0x1d42ab(0x6e5),a0_0x1d42ab(0x245))},Fa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'where':{'type':a0_0x1d42ab(0x1b0),'properties':{'_id':{'type':a0_0x1d42ab(0x6e1),'minLength':0x1},'pushName':{'type':a0_0x1d42ab(0x6e1),'minLength':0x1},'id':{'type':a0_0x1d42ab(0x6e1),'minLength':0x1}},...E(a0_0x1d42ab(0x650),'id','pushName')}}},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'name':{'type':a0_0x1d42ab(0x6e1)}},...E('name')},Ja={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'status':{'type':a0_0x1d42ab(0x6e1)}},...E(a0_0x1d42ab(0x3f1))},Se={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'number':{'type':a0_0x1d42ab(0x6e1)},'picture':{'type':a0_0x1d42ab(0x6e1)}}},ja={'type':a0_0x1d42ab(0x1b0),'properties':{'wuid':{'type':a0_0x1d42ab(0x6e1)},'name':{'type':a0_0x1d42ab(0x6e1)},'picture':{'type':a0_0x1d42ab(0x6e1)},'status':{'type':a0_0x1d42ab(0x6e1)},'isBusiness':{'type':'boolean'}}},qa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'where':{'type':a0_0x1d42ab(0x1b0),'properties':{'_id':{'type':a0_0x1d42ab(0x6e1),'minLength':0x1},'key':{'type':a0_0x1d42ab(0x1b0),'if':{'propertyNames':{'enum':[a0_0x1d42ab(0x5fc),a0_0x1d42ab(0x6e5),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1d42ab(0x6e1),'minLength':0x1,'description':a0_0x1d42ab(0x236)},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1d42ab(0x1b0)}},...E('_id')},'limit':{'type':a0_0x1d42ab(0x514)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'where':{'type':a0_0x1d42ab(0x1b0),'properties':{'_id':{'type':a0_0x1d42ab(0x6e1)},'remoteJid':{'type':a0_0x1d42ab(0x6e1)},'id':{'type':a0_0x1d42ab(0x6e1)},'fromMe':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1d42ab(0x6e1)},'status':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x20c),a0_0x1d42ab(0x3cd),'SERVER_ACK',a0_0x1d42ab(0x45b),a0_0x1d42ab(0x252),'PLAYED']}},...E(a0_0x1d42ab(0x650),a0_0x1d42ab(0x6e5),'id','status')},'limit':{'type':a0_0x1d42ab(0x514)}}},Va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x1d42ab(0x6e1),'enum':[a0_0x1d42ab(0x20e),a0_0x1d42ab(0x260),'composing',a0_0x1d42ab(0x2c3),a0_0x1d42ab(0x1b7)]}},'required':['presence',a0_0x1d42ab(0x5c7)]},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'subject':{'type':a0_0x1d42ab(0x6e1)},'description':{'type':a0_0x1d42ab(0x6e1)},'profilePicture':{'type':a0_0x1d42ab(0x6e1)},'participants':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x6e1),'minLength':0xa,'pattern':a0_0x1d42ab(0x49d),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1d42ab(0x63c),'participants'],...E('subject','description',a0_0x1d42ab(0x57d))},Ee={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x1d42ab(0x430)],...E(a0_0x1d42ab(0x430))},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x1d42ab(0x456),a0_0x1d42ab(0x1ca),a0_0x1d42ab(0x668),a0_0x1d42ab(0x327)]},'participants':{'type':a0_0x1d42ab(0x15b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d42ab(0x6e1),'minLength':0xa,'pattern':a0_0x1d42ab(0x49d),'description':a0_0x1d42ab(0x5c0)}}},'required':['groupJid',a0_0x1d42ab(0x65e),a0_0x1d42ab(0x247)],...E(a0_0x1d42ab(0x430),'action')},Wa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1)},'expiration':{'type':a0_0x1d42ab(0x5c7),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1d42ab(0x430),a0_0x1d42ab(0x233)],...E('groupJid','expiration')},za={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1)},'image':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x430),'image'],...E(a0_0x1d42ab(0x430),a0_0x1d42ab(0x41c))},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1)},'description':{'type':a0_0x1d42ab(0x6e1)}},'required':[a0_0x1d42ab(0x430),a0_0x1d42ab(0x133)],...E(a0_0x1d42ab(0x430),a0_0x1d42ab(0x133))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1)},'name':{'type':'string'}},'required':[a0_0x1d42ab(0x430),a0_0x1d42ab(0x2ce)],...E(a0_0x1d42ab(0x430),'name')},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'groupJid':{'type':a0_0x1d42ab(0x6e1)},'setting':{'type':a0_0x1d42ab(0x6e1),'enum':['announcement','not_announcement',a0_0x1d42ab(0x4ec),a0_0x1d42ab(0x376)]}},'required':['groupJid',a0_0x1d42ab(0xbf)],...E(a0_0x1d42ab(0x430),a0_0x1d42ab(0xbf))},Ya={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1d42ab(0x4d5)],...E(a0_0x1d42ab(0x4d5))},Xa={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'url':{'type':a0_0x1d42ab(0x6e1)},'enabled':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}},'required':[a0_0x1d42ab(0x62e),a0_0x1d42ab(0x561)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x1d42ab(0x1b0),'properties':{'local_map':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1d42ab(0x180),'enum':[!0x0,!0x1]}},'required':[a0_0x1d42ab(0x2da),a0_0x1d42ab(0x111),a0_0x1d42ab(0x600),a0_0x1d42ab(0x29c),a0_0x1d42ab(0x551),'MESSAGES_UPSERT',a0_0x1d42ab(0x211),a0_0x1d42ab(0x541),a0_0x1d42ab(0x30d),a0_0x1d42ab(0xda),'PRESENCE_UPDATE','CHATS_SET',a0_0x1d42ab(0x28c),a0_0x1d42ab(0x512),'CHATS_DELETE',a0_0x1d42ab(0x615),a0_0x1d42ab(0x6af),'GROUPS_UPDATE',a0_0x1d42ab(0x692)],...E(a0_0x1d42ab(0x2da),'STATUS_INSTANCE',a0_0x1d42ab(0x600),a0_0x1d42ab(0x29c),a0_0x1d42ab(0x551),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x1d42ab(0x541),a0_0x1d42ab(0x30d),a0_0x1d42ab(0xda),a0_0x1d42ab(0x269),a0_0x1d42ab(0x41d),a0_0x1d42ab(0x28c),a0_0x1d42ab(0x512),a0_0x1d42ab(0x447),a0_0x1d42ab(0x615),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x1d42ab(0x692))},Ke=class{},Qe=class extends I{[a0_0x1d42ab(0x516)](_0x3e6567){return Vs(_0x3e6567);}async[a0_0x1d42ab(0x702)](_0x26afc9){const _0x3b09c7=a0_0x1d42ab;if(_0x26afc9[_0x3b09c7(0x6e2)]!==0x0)try{return{'insertCount':(await this[_0x3b09c7(0x516)](_0x26afc9[0x0][_0x3b09c7(0x4bb)])['insertMany']([..._0x26afc9]))[_0x3b09c7(0x6e2)]};}catch(_0x18cdd5){return _0x18cdd5;}}async[a0_0x1d42ab(0x463)](_0x49d84f,_0x4cc51d){const _0x238c12=a0_0x1d42ab;try{return{'deletedCount':(await this[_0x238c12(0x516)](_0x4cc51d)[_0x238c12(0x54e)]({..._0x49d84f[_0x238c12(0x6c4)]}))['deletedCount']};}catch(_0x5cb3ce){return{'error':_0x5cb3ce?.[_0x238c12(0x611)]()};}}async[a0_0x1d42ab(0x22d)](_0x353f9d,_0x3e7b17){const _0x49edb0=a0_0x1d42ab;try{if(_0x353f9d[_0x49edb0(0x6e2)]===0x0)return;let _0xb2702b=this['getContactModelForOwner'](_0x3e7b17),_0x145945=_0x353f9d[_0x49edb0(0x6e4)](_0x56b310=>({'updateOne':{'filter':{'_id':_0x56b310['_id'],'owner':_0x3e7b17},'update':{..._0x56b310}}})),{modifiedCount:_0x32c414}=await _0xb2702b['bulkWrite'](_0x145945);return{'insertCount':_0x32c414};}catch{return;}}async['find'](_0x351ca4,_0x3ccd8d){const _0x2025d2=a0_0x1d42ab;try{let _0x33bf09=this[_0x2025d2(0x516)](_0x3ccd8d),_0x2d107e=A(_0x351ca4['where']);return await _0x33bf09['find'](_0x2d107e)[_0x2025d2(0x553)](_0x351ca4?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x1d42ab(0x2dc)](_0x393d46,_0x19b760){const _0x388374=a0_0x1d42ab;try{let _0x1afbc1=this['getContactModelForOwner'](_0x19b760),_0x5e2898=A(_0x393d46[_0x388374(0x6c4)]);return await _0x1afbc1[_0x388374(0x2dc)](_0x5e2898)[_0x388374(0x16d)]();}catch{return null;}}async[a0_0x1d42ab(0x565)](_0x393fb6){const _0x4c33b4=a0_0x1d42ab;try{return await this[_0x4c33b4(0x516)](_0x393fb6)[_0x4c33b4(0x186)]['drop'](),{'success':!0x0};}catch(_0x5eefda){return console[_0x4c33b4(0x241)](_0x5eefda),{'success':!0x1,'error':_0x5eefda};}}},Ye=require(a0_0x1d42ab(0x231)),cc=require(a0_0x1d42ab(0x5bd)),ds=new v(a0_0x1d42ab(0x1d4)),j=class{['routerPath'](_0x5107b5,_0x561e87=!0x0){const _0x1a6db4=a0_0x1d42ab;let _0x560ab8='/'+_0x5107b5;return _0x561e87&&(_0x560ab8+=_0x1a6db4(0x12e)),_0x560ab8;}async[a0_0x1d42ab(0x1fb)](_0x3ea784){const _0x3095ab=a0_0x1d42ab;let {request:_0x47caa0,schema:_0x2d9219,ClassRef:_0x5340e2,execute:_0x4ee259}=_0x3ea784,_0x28b35f=new _0x5340e2(),_0xe45565=_0x47caa0[_0x3095ab(0x2c7)],_0x496ee0=_0x47caa0[_0x3095ab(0x380)];_0x47caa0?.[_0x3095ab(0x529)]&&Object[_0x3095ab(0x6bc)](_0x47caa0[_0x3095ab(0x529)])[_0x3095ab(0x6e2)]>0x0&&Object[_0x3095ab(0x56a)](_0x496ee0,_0x47caa0[_0x3095ab(0x529)]),_0x47caa0[_0x3095ab(0x6cc)][_0x3095ab(0x2c5)]('/instance/create')&&Object[_0x3095ab(0x56a)](_0x496ee0,_0xe45565),Object['assign'](_0x28b35f,_0xe45565);let _0x207266=_0x2d9219?(0x0,Ye[_0x3095ab(0x60f)])(_0x28b35f,_0x2d9219):{'valid':!0x0,'errors':[]};if(!_0x207266[_0x3095ab(0x520)]){let _0x10624e=_0x207266[_0x3095ab(0x5a8)][_0x3095ab(0x6e4)](({property:_0x19671f,stack:_0x227e3c,schema:_0x1143c4})=>{const _0x489808=_0x3095ab;let _0x37840b;return _0x1143c4[_0x489808(0x133)]?_0x37840b=_0x1143c4[_0x489808(0x133)]:_0x37840b=_0x227e3c[_0x489808(0x6c2)]('instance.',''),{'property':_0x19671f[_0x489808(0x6c2)](_0x489808(0x5e9),''),'message':_0x37840b};});throw ds[_0x3095ab(0x241)]([..._0x10624e]),new m(..._0x10624e);}return await _0x4ee259(_0x496ee0,_0x28b35f);}async[a0_0x1d42ab(0x52e)](_0x2110b2){const _0x4553c7=a0_0x1d42ab;let {request:_0x2acedb,ClassRef:_0x4957d1,schema:_0x487614,execute:_0x4c628a}=_0x2110b2,_0x1ab5c=_0x2acedb['query'];if(!_0x1ab5c?.[_0x4553c7(0x430)])throw new m(_0x4553c7(0x6f5),_0x4553c7(0x598));let _0x12afca=_0x2acedb[_0x4553c7(0x380)],_0x31fa2c=_0x2acedb[_0x4553c7(0x2c7)],_0x311543=new _0x4957d1();Object['assign'](_0x31fa2c,_0x1ab5c),Object[_0x4553c7(0x56a)](_0x311543,_0x31fa2c);let _0x10ae39=(0x0,Ye[_0x4553c7(0x60f)])(_0x311543,_0x487614);if(!_0x10ae39[_0x4553c7(0x520)]){let _0x7c67d0=_0x10ae39[_0x4553c7(0x5a8)]['map'](({property:_0x10ad3d,stack:_0x2a0033,schema:_0x550dd9})=>{const _0x5c52e3=_0x4553c7;let _0x57508d;return _0x550dd9[_0x5c52e3(0x133)]?_0x57508d=_0x550dd9[_0x5c52e3(0x133)]:_0x57508d=_0x2a0033[_0x5c52e3(0x6c2)](_0x5c52e3(0x5e9),''),{'property':_0x10ad3d[_0x5c52e3(0x6c2)](_0x5c52e3(0x5e9),''),'message':_0x57508d};});throw ds[_0x4553c7(0x241)]([..._0x7c67d0]),new m(..._0x7c67d0);}return await _0x4c628a(_0x12afca,_0x311543);}async[a0_0x1d42ab(0x318)](_0x41e89d){const _0xcd2b91=a0_0x1d42ab;let {request:_0x1b99c0,ClassRef:_0x197162,schema:_0x1b44f9,execute:_0x5b0673}=_0x41e89d,_0x47b5a6=_0x1b99c0[_0xcd2b91(0x2c7)];if(!_0x47b5a6?.[_0xcd2b91(0x4d5)])throw new m(_0xcd2b91(0x2f5),_0xcd2b91(0x249));let _0x43de52=_0x1b99c0[_0xcd2b91(0x380)],_0x3f869a=_0x1b99c0[_0xcd2b91(0x2c7)],_0xb2cd12=new _0x197162();Object[_0xcd2b91(0x56a)](_0x3f869a,_0x47b5a6),Object[_0xcd2b91(0x56a)](_0xb2cd12,_0x3f869a);let _0x7c0838=(0x0,Ye[_0xcd2b91(0x60f)])(_0xb2cd12,_0x1b44f9);if(!_0x7c0838[_0xcd2b91(0x520)]){let _0x5ec106=_0x7c0838[_0xcd2b91(0x5a8)][_0xcd2b91(0x6e4)](({property:_0x2f0bc6,stack:_0xb85642,schema:_0x132c1b})=>{const _0x35f8fa=_0xcd2b91;let _0xf16511;return _0x132c1b[_0x35f8fa(0x133)]?_0xf16511=_0x132c1b['description']:_0xf16511=_0xb85642[_0x35f8fa(0x6c2)]('instance.',''),{'property':_0x2f0bc6[_0x35f8fa(0x6c2)](_0x35f8fa(0x5e9),''),'message':_0xf16511};});throw ds[_0xcd2b91(0x241)]([..._0x5ec106]),new m(..._0x5ec106);}return await _0x5b0673(_0x43de52,_0xb2cd12);}},S=class{},Cc=new v('ChatRouter'),Xe=class extends j{constructor(..._0x24ce06){const _0xce5602=a0_0x1d42ab;super(),this[_0xce5602(0x58a)]=(0x0,Za['Router'])(),this['router'][_0xce5602(0x3b2)](this[_0xce5602(0x665)](_0xce5602(0x183)),..._0x24ce06,async(_0x287cc7,_0x2f6f07)=>{const _0x173b7a=_0xce5602;let _0x5cdca2=await this[_0x173b7a(0x1fb)]({'request':_0x287cc7,'schema':Va,'ClassRef':Fe,'execute':(_0x1305d2,_0x50076f)=>D[_0x173b7a(0x183)](_0x1305d2,_0x50076f)});return _0x2f6f07[_0x173b7a(0x3f1)](0xc9)[_0x173b7a(0x61e)](_0x5cdca2);})[_0xce5602(0x3b2)](this[_0xce5602(0x665)](_0xce5602(0x457)),..._0x24ce06,async(_0x3e675f,_0x1ec56e)=>{const _0x71386=_0xce5602;let _0x5d1781=await this[_0x71386(0x1fb)]({'request':_0x3e675f,'schema':Pa,'ClassRef':Ue,'execute':(_0x48ce55,_0x19f865)=>D[_0x71386(0x567)](_0x48ce55,_0x19f865)});return _0x1ec56e[_0x71386(0x3f1)](0xc9)[_0x71386(0x61e)](_0x5d1781);})[_0xce5602(0x3b2)](this[_0xce5602(0x665)](_0xce5602(0x6d0)),..._0x24ce06,async(_0x5c69e3,_0xc397a0)=>{const _0xe8dce=_0xce5602;let _0x5b148d=await this['dataValidate']({'request':_0x5c69e3,'schema':C,'ClassRef':S,'execute':(_0x122cd0,_0x55b28e)=>D['editChat'](_0x122cd0,_0x55b28e)});return _0xc397a0[_0xe8dce(0x3f1)](0xc9)[_0xe8dce(0x61e)](_0x5b148d);})[_0xce5602(0xc6)](this[_0xce5602(0x665)]('markMessageAsRead'),..._0x24ce06,async(_0x549b0c,_0x45935d)=>{const _0x3095d5=_0xce5602;let _0x5260a9=await this[_0x3095d5(0x1fb)]({'request':_0x549b0c,'schema':_a,'ClassRef':qe,'execute':(_0x5da723,_0x45e433)=>D[_0x3095d5(0x3d3)](_0x5da723,_0x45e433)});return _0x45935d[_0x3095d5(0x3f1)](0xc9)[_0x3095d5(0x61e)](_0x5260a9);})[_0xce5602(0xc6)](this[_0xce5602(0x665)]('archiveChat'),..._0x24ce06,async(_0x1679e3,_0x50433d)=>{const _0xb7458a=_0xce5602;let _0x24505d=await this[_0xb7458a(0x1fb)]({'request':_0x1679e3,'schema':ka,'ClassRef':Ve,'execute':(_0x3fb64a,_0x4d52ab)=>D[_0xb7458a(0x173)](_0x3fb64a,_0x4d52ab)});return _0x50433d[_0xb7458a(0x3f1)](0xc9)['json'](_0x24505d);})['delete'](this[_0xce5602(0x665)](_0xce5602(0xcd)),..._0x24ce06,async(_0x1239c1,_0x465887)=>{const _0x1c8a2e=_0xce5602;let _0x20c4f4=await this['dataValidate']({'request':_0x1239c1,'schema':La,'ClassRef':Ge,'execute':(_0x556829,_0x9f7bb8)=>D['deleteMessage'](_0x556829,_0x9f7bb8)});return _0x465887[_0x1c8a2e(0x3f1)](0xc9)[_0x1c8a2e(0x61e)](_0x20c4f4);})['post'](this[_0xce5602(0x665)](_0xce5602(0x248)),..._0x24ce06,async(_0x82983a,_0x4ca971)=>{const _0x7986af=_0xce5602;let _0x2885b3=await this['dataValidate']({'request':_0x82983a,'schema':Se,'ClassRef':be,'execute':(_0x2dda3d,_0x6aac18)=>D[_0x7986af(0x568)](_0x2dda3d,_0x6aac18)});return _0x4ca971[_0x7986af(0x3f1)](0xc8)[_0x7986af(0x61e)](_0x2885b3);})[_0xce5602(0x3b2)](this[_0xce5602(0x665)]('fetchProfile'),..._0x24ce06,async(_0x511638,_0x6807b8)=>{const _0x501454=_0xce5602;let _0x3fca14=await this[_0x501454(0x1fb)]({'request':_0x511638,'schema':ja,'ClassRef':be,'execute':(_0x3a9662,_0x378072)=>D[_0x501454(0x576)](_0x3a9662,_0x378072)});return _0x6807b8[_0x501454(0x3f1)](0xc8)[_0x501454(0x61e)](_0x3fca14);})[_0xce5602(0x3b2)](this[_0xce5602(0x665)](_0xce5602(0x2c4)),..._0x24ce06,async(_0x51f36a,_0x3f6bc3)=>{const _0x55a1c7=_0xce5602;let _0x411e91=await this[_0x55a1c7(0x1fb)]({'request':_0x51f36a,'schema':Fa,'ClassRef':Ke,'execute':(_0x30c80b,_0x16a31b)=>D['fetchContacts'](_0x30c80b,_0x16a31b)});return _0x3f6bc3[_0x55a1c7(0x3f1)](0xc8)[_0x55a1c7(0x61e)](_0x411e91);})['post'](this['routerPath'](_0xce5602(0x5e0)),..._0x24ce06,async(_0x3a1180,_0x1e1c0b)=>{const _0x4b52b2=_0xce5602;let _0x2a6eb8=await this[_0x4b52b2(0x1fb)]({'request':_0x3a1180,'schema':null,'ClassRef':Object,'execute':(_0x21bae2,_0x223eac)=>D[_0x4b52b2(0x5e0)](_0x21bae2,_0x223eac)});return _0x1e1c0b['status'](0xc9)[_0x4b52b2(0x61e)](_0x2a6eb8);})['post'](this[_0xce5602(0x665)](_0xce5602(0x388)),..._0x24ce06,async(_0x296f70,_0x11ebe7)=>{const _0x90b3dd=_0xce5602;let _0x1e8629=await this[_0x90b3dd(0x1fb)]({'request':_0x296f70,'schema':qa,'ClassRef':ke,'execute':(_0xd7794d,_0x726f03)=>D[_0x90b3dd(0x559)](_0xd7794d,_0x726f03)});return _0x11ebe7[_0x90b3dd(0x3f1)](0xc8)['json'](_0x1e8629);})[_0xce5602(0x406)](this[_0xce5602(0x665)]('findChats'),..._0x24ce06,async(_0x1957c8,_0x4ae70d)=>{const _0x14545a=_0xce5602;let _0x4e9321=await this[_0x14545a(0x1fb)]({'request':_0x1957c8,'schema':null,'ClassRef':S,'execute':_0x2598d9=>D['fetchChats'](_0x2598d9)});return _0x4ae70d['status'](0xc8)[_0x14545a(0x61e)](_0x4e9321);})['get'](this[_0xce5602(0x665)](_0xce5602(0x4f2)),..._0x24ce06,async(_0x13713c,_0x272a15)=>{const _0x12aab8=_0xce5602;let _0x1b5be8=await this['dataValidate']({'request':_0x13713c,'schema':null,'ClassRef':S,'execute':_0x3d5e7c=>D[_0x12aab8(0x612)](_0x3d5e7c)});return _0x272a15[_0x12aab8(0x3f1)](0xc8)['json'](_0x1b5be8);})[_0xce5602(0xc6)](this[_0xce5602(0x665)](_0xce5602(0x5ca)),..._0x24ce06,async(_0x56227c,_0x27aa16)=>{const _0x1c3924=_0xce5602;let _0x1b1bdf=await this[_0x1c3924(0x1fb)]({'request':_0x56227c,'schema':null,'ClassRef':Array,'execute':(_0x55b14d,_0x426f95)=>D[_0x1c3924(0x5ca)](_0x55b14d,_0x426f95)});return _0x27aa16['status'](0xc8)[_0x1c3924(0x61e)](_0x1b1bdf);})['get'](this['routerPath'](_0xce5602(0x307)),..._0x24ce06,async(_0x185d80,_0x10cbe0)=>{const _0x369b6e=_0xce5602;let _0x13a80b=await this[_0x369b6e(0x1fb)]({'request':_0x185d80,'schema':null,'ClassRef':S,'execute':_0x242dbe=>D[_0x369b6e(0x307)](_0x242dbe)});return _0x10cbe0['status'](0xc8)[_0x369b6e(0x61e)](_0x13a80b);})['put'](this[_0xce5602(0x665)](_0xce5602(0x18d)),..._0x24ce06,async(_0x158f0f,_0x2317c4)=>{const _0x8528d2=_0xce5602;let _0x1ff887=await this[_0x8528d2(0x1fb)]({'request':_0x158f0f,'schema':$a,'ClassRef':Be,'execute':(_0x31e5ba,_0x190ba3)=>D['updatePrivacySettings'](_0x31e5ba,_0x190ba3)});return _0x2317c4[_0x8528d2(0x3f1)](0xc9)[_0x8528d2(0x61e)](_0x1ff887);})[_0xce5602(0x3b2)](this[_0xce5602(0x665)]('fetchBusinessProfile'),..._0x24ce06,async(_0x251f75,_0x4af32a)=>{const _0x1107f7=_0xce5602;let _0x50fbd4=await this[_0x1107f7(0x1fb)]({'request':_0x251f75,'schema':Se,'ClassRef':fe,'execute':(_0x29a4a1,_0x28f44b)=>D[_0x1107f7(0x24c)](_0x29a4a1,_0x28f44b)});return _0x4af32a['status'](0xc8)['json'](_0x50fbd4);})[_0xce5602(0x3b2)](this['routerPath'](_0xce5602(0x55f)),..._0x24ce06,async(_0x700819,_0x4d82ff)=>{const _0x57e289=_0xce5602;let _0x1488a9=await this[_0x57e289(0x1fb)]({'request':_0x700819,'schema':Ua,'ClassRef':Je,'execute':(_0x994018,_0x2a4fe2)=>D[_0x57e289(0x55f)](_0x994018,_0x2a4fe2)});return _0x4d82ff[_0x57e289(0x3f1)](0xc8)[_0x57e289(0x61e)](_0x1488a9);})[_0xce5602(0x3b2)](this['routerPath'](_0xce5602(0x4e9)),..._0x24ce06,async(_0xa3b9ed,_0x56fe94)=>{const _0x2288e7=_0xce5602;let _0x3e7739=await this[_0x2288e7(0x1fb)]({'request':_0xa3b9ed,'schema':Ja,'ClassRef':je,'execute':(_0x11320c,_0x585e45)=>D[_0x2288e7(0x4e9)](_0x11320c,_0x585e45)});return _0x56fe94['status'](0xc8)[_0x2288e7(0x61e)](_0x3e7739);})[_0xce5602(0xc6)](this[_0xce5602(0x665)](_0xce5602(0x398)),..._0x24ce06,async(_0xf7f5a,_0x50080e)=>{const _0x23a480=_0xce5602;let _0x4c3a4b=await this[_0x23a480(0x1fb)]({'request':_0xf7f5a,'schema':Se,'ClassRef':fe,'execute':(_0xd9c88,_0x390aa1)=>D[_0x23a480(0x398)](_0xd9c88,_0x390aa1)});return _0x50080e[_0x23a480(0x3f1)](0xc8)[_0x23a480(0x61e)](_0x4c3a4b);})['delete'](this[_0xce5602(0x665)](_0xce5602(0x624)),..._0x24ce06,async(_0x80a3c3,_0x4597b3)=>{const _0x215c9e=_0xce5602;let _0x3e94a1=await this[_0x215c9e(0x1fb)]({'request':_0x80a3c3,'schema':Se,'ClassRef':fe,'execute':(_0x1872d3,_0x5ba62d)=>D[_0x215c9e(0x624)](_0x1872d3,_0x5ba62d)});return _0x4597b3[_0x215c9e(0x3f1)](0xc8)['json'](_0x3e94a1);});}},er=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x3dc493){const _0x4543fb=a0_0x1d42ab;super(),this['router']=(0x0,er[_0x4543fb(0x3ea)])(),this[_0x4543fb(0x58a)][_0x4543fb(0x3b2)](this[_0x4543fb(0x665)](_0x4543fb(0x661)),..._0x3dc493,async(_0x663cae,_0x5119a3)=>{const _0x1b9bbd=_0x4543fb;let _0x471711=await this['dataValidate']({'request':_0x663cae,'schema':Ba,'ClassRef':Ze,'execute':(_0x1d0d37,_0x20d824)=>J['createGroup'](_0x1d0d37,_0x20d824)});_0x5119a3[_0x1b9bbd(0x3f1)](0xc9)[_0x1b9bbd(0x61e)](_0x471711);})['put'](this[_0x4543fb(0x665)](_0x4543fb(0x19b)),..._0x3dc493,async(_0x3a5c6a,_0x36e6af)=>{const _0x4bf587=_0x4543fb;let _0x5af2f9=await this[_0x4bf587(0x52e)]({'request':_0x3a5c6a,'schema':za,'ClassRef':et,'execute':(_0x318acc,_0x397b66)=>J[_0x4bf587(0x19b)](_0x318acc,_0x397b66)});_0x36e6af[_0x4bf587(0x3f1)](0xc9)['json'](_0x5af2f9);})[_0x4543fb(0xc6)](this[_0x4543fb(0x665)](_0x4543fb(0x6ba)),..._0x3dc493,async(_0x53659c,_0xfa73f8)=>{const _0x1a799f=_0x4543fb;let _0x1347b8=await this[_0x1a799f(0x52e)]({'request':_0x53659c,'schema':Ha,'ClassRef':tt,'execute':(_0x9cb02,_0x2072dc)=>J[_0x1a799f(0x6ba)](_0x9cb02,_0x2072dc)});_0xfa73f8['status'](0xc9)[_0x1a799f(0x61e)](_0x1347b8);})['put'](this[_0x4543fb(0x665)]('groupName'),..._0x3dc493,async(_0x47f302,_0x5724c7)=>{const _0x429174=_0x4543fb;let _0x3a9ab1=await this[_0x429174(0x52e)]({'request':_0x47f302,'schema':Ka,'ClassRef':st,'execute':(_0x1e52b5,_0x2feb87)=>J[_0x429174(0x1e7)](_0x1e52b5,_0x2feb87)});_0x5724c7[_0x429174(0x3f1)](0xc9)[_0x429174(0x61e)](_0x3a9ab1);})[_0x4543fb(0xc6)](this['routerPath'](_0x4543fb(0x301)),..._0x3dc493,async(_0x27557d,_0x25becb)=>{const _0x1e51b4=_0x4543fb;let _0x45bf38=await this[_0x1e51b4(0x52e)]({'request':_0x27557d,'schema':Qa,'ClassRef':at,'execute':(_0x195854,_0x229bfe)=>J[_0x1e51b4(0x301)](_0x195854,_0x229bfe)});_0x25becb[_0x1e51b4(0x3f1)](0xc9)[_0x1e51b4(0x61e)](_0x45bf38);})[_0x4543fb(0xc6)](this[_0x4543fb(0x665)](_0x4543fb(0x1e6)),..._0x3dc493,async(_0x3da039,_0x288526)=>{const _0x372694=_0x4543fb;let _0x4813b5=await this[_0x372694(0x52e)]({'request':_0x3da039,'schema':Wa,'ClassRef':it,'execute':(_0x33fe03,_0x523d2a)=>J[_0x372694(0x1e6)](_0x33fe03,_0x523d2a)});_0x288526['status'](0xc9)[_0x372694(0x61e)](_0x4813b5);})['get'](this[_0x4543fb(0x665)]('findGroupInfos'),..._0x3dc493,async(_0x18a70e,_0x5db87a)=>{const _0x200857=_0x4543fb;let _0x2b3aa6=await this['groupValidate']({'request':_0x18a70e,'schema':Ee,'ClassRef':Y,'execute':(_0x2b61d1,_0x55e5a9)=>J[_0x200857(0x3fe)](_0x2b61d1,_0x55e5a9)});_0x5db87a['status'](0xc8)[_0x200857(0x61e)](_0x2b3aa6);})[_0x4543fb(0x406)](this[_0x4543fb(0x665)](_0x4543fb(0x589)),..._0x3dc493,async(_0x3f5554,_0x257745)=>{const _0x59aa93=_0x4543fb;let _0x47437a=await this[_0x59aa93(0x1fb)]({'request':_0x3f5554,'schema':C,'ClassRef':S,'execute':_0x3c6515=>J[_0x59aa93(0x589)](_0x3c6515)});_0x257745[_0x59aa93(0x3f1)](0xc8)[_0x59aa93(0x61e)](_0x47437a);})[_0x4543fb(0x406)](this['routerPath'](_0x4543fb(0x247)),..._0x3dc493,async(_0x404de4,_0x549651)=>{const _0x48b67a=_0x4543fb;let _0x42f539=await this[_0x48b67a(0x52e)]({'request':_0x404de4,'schema':Ee,'ClassRef':Y,'execute':(_0x3834b7,_0x47b930)=>J[_0x48b67a(0x4b6)](_0x3834b7,_0x47b930)});_0x549651['status'](0xc8)[_0x48b67a(0x61e)](_0x42f539);})[_0x4543fb(0x406)](this[_0x4543fb(0x665)]('inviteCode'),..._0x3dc493,async(_0x47166c,_0x1e143b)=>{const _0xdcaf4e=_0x4543fb;let _0x3f1562=await this[_0xdcaf4e(0x52e)]({'request':_0x47166c,'schema':Ee,'ClassRef':Y,'execute':(_0x3a5126,_0x35c5eb)=>J[_0xdcaf4e(0x4d5)](_0x3a5126,_0x35c5eb)});_0x1e143b[_0xdcaf4e(0x3f1)](0xc8)['json'](_0x3f1562);})[_0x4543fb(0xc6)](this[_0x4543fb(0x665)]('joinGroup'),..._0x3dc493,async(_0x5366fc,_0x4b23b8)=>{const _0x3a6bae=_0x4543fb;let _0x177b22=await this['joinGroupValidate']({'request':_0x5366fc,'schema':Ya,'ClassRef':rt,'execute':(_0x5402dd,_0x37ae56)=>J[_0x3a6bae(0x672)](_0x5402dd,_0x37ae56)});_0x4b23b8[_0x3a6bae(0x3f1)](0xc9)[_0x3a6bae(0x61e)](_0x177b22);})['put'](this[_0x4543fb(0x665)](_0x4543fb(0x382)),..._0x3dc493,async(_0x350d98,_0x29282)=>{const _0x323906=_0x4543fb;let _0x442f9d=await this[_0x323906(0x52e)]({'request':_0x350d98,'schema':Ee,'ClassRef':Y,'execute':(_0xbb071c,_0x3d9ae6)=>J[_0x323906(0x382)](_0xbb071c,_0x3d9ae6)});_0x29282[_0x323906(0x3f1)](0xc9)[_0x323906(0x61e)](_0x442f9d);})['put'](this[_0x4543fb(0x665)](_0x4543fb(0x153)),..._0x3dc493,async(_0x748d2,_0xeccddf)=>{const _0x52fd89=_0x4543fb;let _0x195561=await this['groupValidate']({'request':_0x748d2,'schema':Ga,'ClassRef':ot,'execute':(_0x1f36b0,_0x55576f)=>J['updateGParticipate'](_0x1f36b0,_0x55576f)});_0xeccddf[_0x52fd89(0x3f1)](0xc9)['json'](_0x195561);})[_0x4543fb(0x463)](this[_0x4543fb(0x665)](_0x4543fb(0x391)),..._0x3dc493,async(_0x4134dd,_0xb4299c)=>{const _0x1a3047=_0x4543fb;let _0x175aff=await this[_0x1a3047(0x52e)]({'request':_0x4134dd,'schema':{},'ClassRef':Y,'execute':(_0x23b05,_0x3b1f0f)=>J[_0x1a3047(0x391)](_0x23b05,_0x3b1f0f)});_0xb4299c[_0x1a3047(0x3f1)](0xc8)[_0x1a3047(0x61e)](_0x175aff);});}},tr=require(a0_0x1d42ab(0x275)),ct=class extends j{constructor(_0x38f599,..._0x575ab6){const _0x1cf783=a0_0x1d42ab;super(),this[_0x1cf783(0x566)]=_0x38f599,this[_0x1cf783(0x58a)]=(0x0,tr[_0x1cf783(0x3ea)])();let _0x56bf18=_0x38f599[_0x1cf783(0x406)](_0x1cf783(0x6f6));this[_0x1cf783(0x58a)][_0x1cf783(0x3b2)](_0x1cf783(0x4d0),..._0x575ab6,async(_0x4ce193,_0xed845c)=>{const _0x542f3d=_0x1cf783;let {instanceName:_0x2976bc,apikey:_0x25ed91,number:_0x3e3fb4}=_0x4ce193['body'],_0x53080a=await re['createInstance']({'instanceName':_0x2976bc,'apikey':_0x25ed91,'number':_0x3e3fb4});return _0xed845c['status'](0xc9)[_0x542f3d(0x61e)](_0x53080a);})['put'](this['routerPath'](_0x1cf783(0x403)),..._0x575ab6,async(_0x2ad6e9,_0x11f0e8)=>{const _0x7053a6=_0x1cf783;let _0x73d726=await this['dataValidate']({'request':_0x2ad6e9,'schema':C,'ClassRef':S,'execute':_0x30801c=>re['restartInstance'](_0x30801c)});return _0x11f0e8['status'](0xc8)[_0x7053a6(0x61e)](_0x73d726);})['get'](this[_0x1cf783(0x665)](_0x1cf783(0x4f4)),..._0x575ab6,async(_0x139d7c,_0xd429a1)=>{const _0x471569=_0x1cf783;let _0x597680=await this[_0x471569(0x1fb)]({'request':_0x139d7c,'schema':C,'ClassRef':S,'execute':_0x52f8e0=>re['connectToWhatsappController'](_0x52f8e0)});return _0xd429a1['status'](0xc8)['json'](_0x597680);})[_0x1cf783(0x406)](this['routerPath'](_0x1cf783(0x49c)),..._0x575ab6,async(_0xda1ffa,_0x15cecf)=>{const _0x5a2d5f=_0x1cf783;let _0x355fb8=await this['dataValidate']({'request':_0xda1ffa,'schema':C,'ClassRef':S,'execute':_0x2d1270=>re[_0x5a2d5f(0x49c)](_0x2d1270)});return _0x15cecf[_0x5a2d5f(0x3f1)](0xc8)[_0x5a2d5f(0x61e)](_0x355fb8);})[_0x1cf783(0x406)](this[_0x1cf783(0x665)](_0x1cf783(0x38a),!0x1),..._0x575ab6,async(_0x11d36e,_0x2c45b8)=>{const _0x2b13cc=_0x1cf783;let _0x58a69c=await this[_0x2b13cc(0x1fb)]({'request':_0x11d36e,'schema':null,'ClassRef':S,'execute':_0x142616=>re['fetchInstances'](_0x142616)});return _0x2c45b8['status'](0xc8)[_0x2b13cc(0x61e)](_0x58a69c);})['delete'](this[_0x1cf783(0x665)](_0x1cf783(0xca)),..._0x575ab6,async(_0xba53b2,_0x15fd59)=>{const _0x44c6de=_0x1cf783;let _0x185e32=await this[_0x44c6de(0x1fb)]({'request':_0xba53b2,'schema':C,'ClassRef':S,'execute':_0x1ee420=>re[_0x44c6de(0xca)](_0x1ee420)});return _0x15fd59['status'](0xc8)[_0x44c6de(0x61e)](_0x185e32);})[_0x1cf783(0x463)](this[_0x1cf783(0x665)](_0x1cf783(0x463)),..._0x575ab6,async(_0x513829,_0x173933)=>{const _0x1f3b2b=_0x1cf783;let _0x4a9b6f=await this[_0x1f3b2b(0x1fb)]({'request':_0x513829,'schema':C,'ClassRef':S,'execute':_0x129e77=>re[_0x1f3b2b(0xf1)](_0x129e77)});return _0x173933[_0x1f3b2b(0x3f1)](0xc8)[_0x1f3b2b(0x61e)](_0x4a9b6f);});}},sr=require(a0_0x1d42ab(0x275)),ps=class{},W=class extends ps{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Me=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0xfd8624){const _0x4b2b92=a0_0x1d42ab;super(),this['router']=(0x0,sr[_0x4b2b92(0x3ea)])(),this[_0x4b2b92(0x58a)][_0x4b2b92(0x3b2)](this[_0x4b2b92(0x665)](_0x4b2b92(0x59b)),..._0xfd8624,async(_0x8470f1,_0x260f5a)=>{const _0x34d0f5=_0x4b2b92;let _0x4b3e1a=await this[_0x34d0f5(0x1fb)]({'request':_0x8470f1,'schema':Sa,'ClassRef':lt,'execute':(_0x360559,_0x720fa9)=>G['sendText'](_0x360559,_0x720fa9)});return _0x260f5a[_0x34d0f5(0x3f1)](0xc9)[_0x34d0f5(0x61e)](_0x4b3e1a);})['post'](this[_0x4b2b92(0x665)](_0x4b2b92(0x4fd)),..._0xfd8624,async(_0x53fdef,_0x4a2362)=>{const _0x5ef262=_0x4b2b92;let _0x31c9c4=await this[_0x5ef262(0x1fb)]({'request':_0x53fdef,'schema':va,'ClassRef':Me,'execute':(_0x39d281,_0x390b13)=>G['sendMedia'](_0x39d281,_0x390b13)});return _0x4a2362['status'](0xc9)[_0x5ef262(0x61e)](_0x31c9c4);})[_0x4b2b92(0x3b2)](this['routerPath']('sendMenu'),..._0xfd8624,async(_0x1f6510,_0x407748)=>{const _0x57ded9=_0x4b2b92;let _0x19836d=await this['dataValidate']({'request':_0x1f6510,'schema':Ta,'ClassRef':pt,'execute':(_0x4d8145,_0x3314e9)=>G[_0x57ded9(0xf7)](_0x4d8145,_0x3314e9)});return _0x407748['status'](0xc9)['json'](_0x19836d);})[_0x4b2b92(0x3b2)](this['routerPath'](_0x4b2b92(0x1f0)),..._0xfd8624,async(_0x1ff0cd,_0x5b4023)=>{const _0x48257b=_0x4b2b92;let _0x3f42eb=await this[_0x48257b(0x1fb)]({'request':_0x1ff0cd,'schema':Na,'ClassRef':Me,'execute':(_0x5a8eee,_0x1ac800)=>G[_0x48257b(0x1f0)](_0x5a8eee,_0x1ac800)});return _0x5b4023[_0x48257b(0x3f1)](0xc9)[_0x48257b(0x61e)](_0x3f42eb);})[_0x4b2b92(0x3b2)](this[_0x4b2b92(0x665)](_0x4b2b92(0x619)),..._0xfd8624,async(_0x5986ff,_0x432da0)=>{const _0x430a69=_0x4b2b92;let _0x2e7ecf=await this[_0x430a69(0x1fb)]({'request':_0x5986ff,'schema':Aa,'ClassRef':mt,'execute':(_0x242b23,_0x254660)=>G[_0x430a69(0x619)](_0x242b23,_0x254660)});return _0x432da0['status'](0xc9)[_0x430a69(0x61e)](_0x2e7ecf);})[_0x4b2b92(0x3b2)](this['routerPath']('sendLocation'),..._0xfd8624,async(_0x5c62b5,_0x5dbb86)=>{const _0x52977c=_0x4b2b92;let _0x5ba172=await this[_0x52977c(0x1fb)]({'request':_0x5c62b5,'schema':Oa,'ClassRef':ht,'execute':(_0x2b98c9,_0xac7b00)=>G[_0x52977c(0x5d4)](_0x2b98c9,_0xac7b00)});return _0x5dbb86[_0x52977c(0x3f1)](0xc9)[_0x52977c(0x61e)](_0x5ba172);})[_0x4b2b92(0x3b2)](this[_0x4b2b92(0x665)](_0x4b2b92(0x27c)),..._0xfd8624,async(_0x7ff274,_0x4f1cc8)=>{const _0x43e70f=_0x4b2b92;let _0x36d3c2=await this['dataValidate']({'request':_0x7ff274,'schema':Ia,'ClassRef':ft,'execute':(_0x1f94f1,_0x3ed767)=>G['sendList'](_0x1f94f1,_0x3ed767)});return _0x4f1cc8['status'](0xc9)[_0x43e70f(0x61e)](_0x36d3c2);})[_0x4b2b92(0x3b2)](this[_0x4b2b92(0x665)]('sendContact'),..._0xfd8624,async(_0x46c0f1,_0x194fef)=>{const _0x191c96=_0x4b2b92;let _0x5d4b0a=await this[_0x191c96(0x1fb)]({'request':_0x46c0f1,'schema':Da,'ClassRef':yt,'execute':(_0x379060,_0xbd38d9)=>G[_0x191c96(0x139)](_0x379060,_0xbd38d9)});return _0x194fef[_0x191c96(0x3f1)](0xc9)[_0x191c96(0x61e)](_0x5d4b0a);})[_0x4b2b92(0x3b2)](this[_0x4b2b92(0x665)](_0x4b2b92(0x1ec)),..._0xfd8624,async(_0x245657,_0x26a480)=>{const _0x1f2a45=_0x4b2b92;let _0x1022b5=await this['dataValidate']({'request':_0x245657,'schema':xa,'ClassRef':wt,'execute':(_0x2bbaf0,_0x1025f7)=>G['sendReaction'](_0x2bbaf0,_0x1025f7)});return _0x26a480['status'](0xc9)[_0x1f2a45(0x61e)](_0x1022b5);})['post'](this[_0x4b2b92(0x665)]('sendPoll'),..._0xfd8624,async(_0x3bb15a,_0x4761fd)=>{const _0x554efc=_0x4b2b92;let _0x51d75e=await this[_0x554efc(0x1fb)]({'request':_0x3bb15a,'schema':Ra,'ClassRef':dt,'execute':(_0x11eeb3,_0x551d85)=>G[_0x554efc(0x3a6)](_0x11eeb3,_0x551d85)});return _0x4761fd[_0x554efc(0x3f1)](0xc9)[_0x554efc(0x61e)](_0x51d75e);})[_0x4b2b92(0x3b2)](this['routerPath'](_0x4b2b92(0x697)),..._0xfd8624,async(_0x3f5f86,_0x2c9604)=>{const _0x581b87=_0x4b2b92;let _0x33323c=await this[_0x581b87(0x1fb)]({'request':_0x3f5f86,'schema':Ca,'ClassRef':ut,'execute':(_0x118087,_0x4b4c66)=>G[_0x581b87(0x697)](_0x118087,_0x4b4c66)});return _0x2c9604[_0x581b87(0x3f1)](0xc9)[_0x581b87(0x61e)](_0x33323c);})[_0x4b2b92(0x3b2)](this['routerPath']('sendSticker'),..._0xfd8624,async(_0x352817,_0x4a47a1)=>{const _0x4533fe=_0x4b2b92;let _0xc2ea3d=await this[_0x4533fe(0x1fb)]({'request':_0x352817,'schema':Ma,'ClassRef':gt,'execute':(_0x3a76f0,_0x3f295c)=>G['sendSticker'](_0x3a76f0,_0x3f295c)});return _0x4a47a1['status'](0xc9)[_0x4533fe(0x61e)](_0xc2ea3d);});}},ar=require(a0_0x1d42ab(0x275)),St=class{},Et=class extends j{constructor(..._0x566ebc){const _0x46269c=a0_0x1d42ab;super(),this['router']=(0x0,ar[_0x46269c(0x3ea)])(),this['router'][_0x46269c(0x3b2)](this[_0x46269c(0x665)](_0x46269c(0x626)),..._0x566ebc,async(_0x2af32c,_0x5afefd)=>{const _0x308fe0=_0x46269c;let _0x3fa596=await this[_0x308fe0(0x1fb)]({'request':_0x2af32c,'schema':Xa,'ClassRef':St,'execute':(_0x419c2b,_0xf80d1e)=>gs[_0x308fe0(0x2ae)](_0x419c2b,_0xf80d1e)});_0x5afefd['status'](0xc9)['json'](_0x3fa596);})[_0x46269c(0x406)](this['routerPath'](_0x46269c(0x497)),..._0x566ebc,async(_0x4ab36c,_0x402122)=>{const _0x5ac6c7=_0x46269c;let _0xfd0bb4=await this['dataValidate']({'request':_0x4ab36c,'schema':C,'ClassRef':S,'execute':_0x1a0c69=>gs[_0x5ac6c7(0x188)](_0x1a0c69)});_0x402122[_0x5ac6c7(0x3f1)](0xc8)[_0x5ac6c7(0x61e)](_0xfd0bb4);});}},rr=require(a0_0x1d42ab(0x275)),h=new v('FlowRouter'),Mt=class extends j{constructor(..._0x555bd4){const _0x44c97b=a0_0x1d42ab;super(),this['router']=(0x0,rr[_0x44c97b(0x3ea)])(),this['router'][_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x641)),..._0x555bd4,async(_0x251b8b,_0x354521)=>{const _0x5ccf35=_0x44c97b;let _0x3480da=_0x251b8b[_0x5ccf35(0x2c7)];h['verbose'](_0x5ccf35(0x539)),h[_0x5ccf35(0x429)]('request\x20body:\x20'),h[_0x5ccf35(0x429)](_0x251b8b[_0x5ccf35(0x2c7)]);let _0x3f5466=await this['dataValidate']({'request':_0x251b8b,'schema':C,'ClassRef':S,'execute':_0xe1457d=>T[_0x5ccf35(0x2d2)](_0xe1457d,_0x3480da)});_0x354521['status'](0xc8)[_0x5ccf35(0x61e)](_0x3f5466);})['get'](this[_0x44c97b(0x665)](_0x44c97b(0x641)),..._0x555bd4,async(_0x24f19a,_0x666a20)=>{const _0x475a4e=_0x44c97b;let _0x4ca5d9=await this[_0x475a4e(0x1fb)]({'request':_0x24f19a,'schema':C,'ClassRef':S,'execute':_0x1f5750=>T['getScheduleMessage'](_0x1f5750)});_0x666a20[_0x475a4e(0x3f1)](0xc8)[_0x475a4e(0x61e)](_0x4ca5d9);})[_0x44c97b(0x463)](this['routerPath'](_0x44c97b(0x2df)),..._0x555bd4,async(_0x15c4e3,_0x3a7c9b)=>{const _0x4cddb7=_0x44c97b;h[_0x4cddb7(0x429)](_0x4cddb7(0x1bb));let _0x54cfd7=await this[_0x4cddb7(0x1fb)]({'request':_0x15c4e3,'schema':C,'ClassRef':S,'execute':_0x15e379=>T[_0x4cddb7(0x2df)](_0x15e379)});_0x3a7c9b[_0x4cddb7(0x3f1)](0xc8)[_0x4cddb7(0x61e)](_0x54cfd7);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x64f)),..._0x555bd4,async(_0x592788,_0x41715b)=>{const _0x2d0c81=_0x44c97b;let _0x5d1fac=_0x592788[_0x2d0c81(0x2c7)];h['verbose'](_0x2d0c81(0xe4)),h[_0x2d0c81(0x429)](_0x2d0c81(0x2c9)),h[_0x2d0c81(0x429)](_0x592788['body']);let _0x32e4e2=await this['dataValidate']({'request':_0x592788,'schema':C,'ClassRef':S,'execute':_0x4dd67b=>T[_0x2d0c81(0x64f)](_0x4dd67b,_0x5d1fac)});_0x41715b['status'](0xc8)[_0x2d0c81(0x61e)](_0x32e4e2);})['get'](this[_0x44c97b(0x665)](_0x44c97b(0x367)),..._0x555bd4,async(_0x54f6e7,_0x4a7a0b)=>{const _0xfed912=_0x44c97b;h[_0xfed912(0x429)](_0xfed912(0x5b5));let _0xb98117=await this[_0xfed912(0x1fb)]({'request':_0x54f6e7,'schema':C,'ClassRef':S,'execute':_0x2a87c5=>T[_0xfed912(0x367)](_0x2a87c5)});_0x4a7a0b[_0xfed912(0x3f1)](0xc8)['json'](_0xb98117);})[_0x44c97b(0x406)](this[_0x44c97b(0x665)](_0x44c97b(0x4fb)),..._0x555bd4,async(_0x25d0ab,_0x1cf1f7)=>{const _0x450542=_0x44c97b;h['verbose'](_0x450542(0x56f));let _0x5cc542=await this[_0x450542(0x1fb)]({'request':_0x25d0ab,'schema':C,'ClassRef':S,'execute':_0x402b15=>T[_0x450542(0x367)](_0x402b15)});_0x1cf1f7[_0x450542(0x3f1)](0xc8)[_0x450542(0x61e)](_0x5cc542);})['post'](this[_0x44c97b(0x665)](_0x44c97b(0x18e)),..._0x555bd4,async(_0x1198e,_0x443b14)=>{const _0x35d1a8=_0x44c97b;let _0x15aa28=_0x1198e[_0x35d1a8(0x2c7)];h[_0x35d1a8(0x429)](_0x35d1a8(0x40c)),h['verbose']('request\x20body:\x20'),h[_0x35d1a8(0x429)](_0x1198e['body']);let _0x3a0e67=await this[_0x35d1a8(0x1fb)]({'request':_0x1198e,'schema':C,'ClassRef':S,'execute':_0x3311b4=>T[_0x35d1a8(0x18e)](_0x3311b4,_0x15aa28)});_0x443b14['status'](0xc8)[_0x35d1a8(0x61e)](_0x3a0e67);})[_0x44c97b(0x3b2)](this['routerPath'](_0x44c97b(0x2ea)),..._0x555bd4,async(_0x4dcd86,_0x280a8c)=>{const _0x327c2d=_0x44c97b;let _0x41573b=_0x4dcd86[_0x327c2d(0x2c7)];h[_0x327c2d(0x429)](_0x327c2d(0x365)),h['verbose'](_0x327c2d(0x2c9)),h[_0x327c2d(0x429)](_0x4dcd86[_0x327c2d(0x2c7)]);let _0x12f9e0=await this[_0x327c2d(0x1fb)]({'request':_0x4dcd86,'schema':C,'ClassRef':S,'execute':_0x4f8529=>T['updateCustomFields'](_0x4f8529,_0x41573b)});_0x280a8c['status'](0xc8)[_0x327c2d(0x61e)](_0x12f9e0);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)]('updateFlowConfig'),..._0x555bd4,async(_0x1ea97b,_0x4dc5e4)=>{const _0x3d7079=_0x44c97b;let _0x902908=_0x1ea97b[_0x3d7079(0x2c7)];h['verbose'](_0x3d7079(0x525)),h[_0x3d7079(0x429)](_0x3d7079(0x2c9)),h[_0x3d7079(0x429)](_0x1ea97b[_0x3d7079(0x2c7)]);let _0x2bd1c5=await this[_0x3d7079(0x1fb)]({'request':_0x1ea97b,'schema':C,'ClassRef':S,'execute':_0x567b81=>T[_0x3d7079(0x214)](_0x567b81,_0x902908)});_0x4dc5e4[_0x3d7079(0x3f1)](0xc8)[_0x3d7079(0x61e)](_0x2bd1c5);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x5bf)),..._0x555bd4,async(_0x1f4ec8,_0x3da73e)=>{const _0x312110=_0x44c97b;let _0x33b863=_0x1f4ec8['body'];h[_0x312110(0x429)](_0x312110(0x663)),h[_0x312110(0x429)](_0x312110(0x2c9)),h[_0x312110(0x429)](_0x1f4ec8['body']);let _0x2c7cd9=await this['dataValidate']({'request':_0x1f4ec8,'schema':C,'ClassRef':S,'execute':_0x430c1d=>T[_0x312110(0x5bf)](_0x430c1d,_0x33b863)});_0x3da73e[_0x312110(0x3f1)](0xc8)['json'](_0x2c7cd9);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x1cb)),..._0x555bd4,async(_0x4bcd6b,_0x475651)=>{const _0x4db15c=_0x44c97b;let _0x2230bf=_0x4bcd6b[_0x4db15c(0x2c7)];h[_0x4db15c(0x429)](_0x4db15c(0x126)),h[_0x4db15c(0x429)](_0x4db15c(0x2c9)),h[_0x4db15c(0x429)](_0x4bcd6b[_0x4db15c(0x2c7)]);let _0x273a08=await this['dataValidate']({'request':_0x4bcd6b,'schema':C,'ClassRef':S,'execute':_0x1906d6=>T[_0x4db15c(0x1cb)](_0x1906d6,_0x2230bf)});_0x475651['status'](0xc8)[_0x4db15c(0x61e)](_0x273a08);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x2ba)),..._0x555bd4,async(_0xdd91cd,_0x190ac6)=>{const _0x579231=_0x44c97b;let _0x3a7686=_0xdd91cd['body'];h['verbose'](_0x579231(0x2d9)),h[_0x579231(0x429)](_0x579231(0x2c9)),h[_0x579231(0x429)](_0xdd91cd[_0x579231(0x2c7)]);let _0x1d6a97=await this[_0x579231(0x1fb)]({'request':_0xdd91cd,'schema':C,'ClassRef':S,'execute':_0x58fa0a=>T[_0x579231(0x2ba)](_0x58fa0a,_0x3a7686)});_0x190ac6[_0x579231(0x3f1)](0xc8)['json'](_0x1d6a97);})['delete'](this[_0x44c97b(0x665)]('deleteConversation'),..._0x555bd4,async(_0x50c530,_0x5180c7)=>{const _0x4b67b1=_0x44c97b;let _0x3ae6f9=_0x50c530[_0x4b67b1(0x2c7)];h['verbose'](_0x4b67b1(0x538)),h[_0x4b67b1(0x429)]('request\x20body:\x20'),h[_0x4b67b1(0x429)](_0x50c530[_0x4b67b1(0x2c7)]);let _0x74f80b=await this[_0x4b67b1(0x1fb)]({'request':_0x50c530,'schema':C,'ClassRef':S,'execute':_0x49127e=>T['deleteConversation'](_0x49127e,_0x3ae6f9)});_0x5180c7['status'](0xc8)[_0x4b67b1(0x61e)](_0x74f80b);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x2b2)),..._0x555bd4,async(_0x28a47e,_0x5757dc)=>{const _0x48060c=_0x44c97b;let _0x57f0e3=_0x28a47e[_0x48060c(0x2c7)];h[_0x48060c(0x429)](_0x48060c(0x472)),h['verbose']('request\x20body:\x20'),h[_0x48060c(0x429)](_0x28a47e[_0x48060c(0x2c7)]);let _0xd8b481=await this[_0x48060c(0x1fb)]({'request':_0x28a47e,'schema':C,'ClassRef':S,'execute':_0x1fc229=>T[_0x48060c(0x352)](_0x1fc229,_0x57f0e3)});_0x5757dc[_0x48060c(0x3f1)](0xc8)[_0x48060c(0x61e)](_0xd8b481);})['post'](this['routerPath'](_0x44c97b(0x505)),..._0x555bd4,async(_0x166d1b,_0x459773)=>{const _0x3d7e0e=_0x44c97b;let _0x25bf49=_0x166d1b['body'];h[_0x3d7e0e(0x429)](_0x3d7e0e(0x26f)),h[_0x3d7e0e(0x429)](_0x3d7e0e(0x2c9)),h[_0x3d7e0e(0x429)](_0x166d1b[_0x3d7e0e(0x2c7)]),delete _0x25bf49[_0x3d7e0e(0xd2)],delete _0x25bf49['variables'],delete _0x25bf49[_0x3d7e0e(0x141)],delete _0x25bf49[_0x3d7e0e(0x35d)];let _0x53bdb4=await this[_0x3d7e0e(0x1fb)]({'request':_0x166d1b,'schema':C,'ClassRef':S,'execute':_0x476139=>T[_0x3d7e0e(0x3d0)](_0x476139,_0x25bf49)});_0x459773[_0x3d7e0e(0x3f1)](0xc8)[_0x3d7e0e(0x61e)](_0x53bdb4);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)]('editflowblock'),..._0x555bd4,async(_0x423238,_0x3becb3)=>{const _0x9f1fad=_0x44c97b;let _0x16ce8e=_0x423238[_0x9f1fad(0x2c7)];h[_0x9f1fad(0x429)]('request\x20received\x20in\x20editFlow'),h[_0x9f1fad(0x429)](_0x9f1fad(0x2c9)),h[_0x9f1fad(0x429)](_0x423238[_0x9f1fad(0x2c7)]);let _0x448040=await this[_0x9f1fad(0x1fb)]({'request':_0x423238,'schema':C,'ClassRef':S,'execute':_0x3c8f5f=>T[_0x9f1fad(0x3b5)](_0x3c8f5f,_0x16ce8e)});_0x3becb3[_0x9f1fad(0x3f1)](0xc8)['json'](_0x448040);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x6cf)),..._0x555bd4,async(_0x26c933,_0x4c259a)=>{const _0x2c87d6=_0x44c97b;let _0x2feb3b=_0x26c933[_0x2c87d6(0x2c7)];h[_0x2c87d6(0x429)](_0x2c87d6(0x26f)),h['verbose'](_0x2c87d6(0x2c9)),h[_0x2c87d6(0x429)](_0x26c933[_0x2c87d6(0x2c7)]);let _0x17a3f8=await this['dataValidate']({'request':_0x26c933,'schema':C,'ClassRef':S,'execute':_0x4364e1=>T[_0x2c87d6(0x11e)](_0x4364e1,_0x2feb3b)});_0x4c259a[_0x2c87d6(0x3f1)](0xc8)[_0x2c87d6(0x61e)](_0x17a3f8);})['post'](this[_0x44c97b(0x665)](_0x44c97b(0x1dc)),..._0x555bd4,async(_0xcfed57,_0x143a5c)=>{const _0x46972e=_0x44c97b;let _0x3fdc90=_0xcfed57[_0x46972e(0x2c7)];h[_0x46972e(0x429)]('request\x20received\x20in\x20editFlow'),h[_0x46972e(0x429)]('request\x20body:\x20'),h['verbose'](_0xcfed57[_0x46972e(0x2c7)]);let _0x48c41f=await this[_0x46972e(0x1fb)]({'request':_0xcfed57,'schema':C,'ClassRef':S,'execute':_0x4436aa=>T['editFlowVaredit'](_0x4436aa,_0x3fdc90)});_0x143a5c[_0x46972e(0x3f1)](0xc8)[_0x46972e(0x61e)](_0x48c41f);})[_0x44c97b(0x3b2)](this['routerPath'](_0x44c97b(0x6ef)),..._0x555bd4,async(_0x581c13,_0xbd20b7)=>{const _0x25800d=_0x44c97b;let _0x501bf7=_0x581c13['body'];h[_0x25800d(0x429)](_0x25800d(0x65a)),h['verbose'](_0x25800d(0x2c9)),h[_0x25800d(0x429)](_0x581c13[_0x25800d(0x2c7)]);let _0x2a95b5=await this['dataValidate']({'request':_0x581c13,'schema':C,'ClassRef':S,'execute':_0x2ac16a=>T[_0x25800d(0x2b9)](_0x2ac16a,_0x501bf7)});_0xbd20b7['status'](0xc8)[_0x25800d(0x61e)](_0x2a95b5);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x10e)),..._0x555bd4,async(_0x3912ad,_0x5dd109)=>{const _0x820293=_0x44c97b;let _0x551b4a=_0x3912ad['body'];h['verbose'](_0x820293(0x44a)),h[_0x820293(0x429)](_0x820293(0x2c9)),h[_0x820293(0x429)](_0x3912ad['body']);let _0x419eac=await this[_0x820293(0x1fb)]({'request':_0x3912ad,'schema':C,'ClassRef':S,'execute':_0x2b8c01=>T[_0x820293(0x377)](_0x2b8c01,_0x551b4a)});_0x5dd109[_0x820293(0x3f1)](0xc8)[_0x820293(0x61e)](_0x419eac);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)]('editflowvariable'),..._0x555bd4,async(_0x430c41,_0x317890)=>{const _0x37769b=_0x44c97b;let _0xe678c0=_0x430c41[_0x37769b(0x2c7)];h[_0x37769b(0x429)]('request\x20received\x20in\x20editFlowvariable'),h[_0x37769b(0x429)](_0x37769b(0x2c9)),h[_0x37769b(0x429)](_0x430c41[_0x37769b(0x2c7)]);let _0x28a269=await this[_0x37769b(0x1fb)]({'request':_0x430c41,'schema':C,'ClassRef':S,'execute':_0x446281=>T[_0x37769b(0x5c2)](_0x446281,_0xe678c0)});_0x317890['status'](0xc8)[_0x37769b(0x61e)](_0x28a269);})[_0x44c97b(0x3b2)](this[_0x44c97b(0x665)](_0x44c97b(0x5f0)),..._0x555bd4,async(_0x2d6a39,_0x50a566)=>{const _0x5878e5=_0x44c97b;let _0x27d88a=_0x2d6a39[_0x5878e5(0x2c7)];h[_0x5878e5(0x429)](_0x5878e5(0x599)),h[_0x5878e5(0x429)]('request\x20body:\x20'),h[_0x5878e5(0x429)](_0x2d6a39[_0x5878e5(0x2c7)]);let _0x512798=await this[_0x5878e5(0x1fb)]({'request':_0x2d6a39,'schema':C,'ClassRef':S,'execute':_0x499e3c=>T['getFlow'](_0x499e3c,_0x27d88a)});_0x50a566[_0x5878e5(0x3f1)](0xc8)[_0x5878e5(0x61e)](_0x512798);})['delete'](this['routerPath'](_0x44c97b(0x2fb)),..._0x555bd4,async(_0x5d3653,_0xecb8e5)=>{const _0x399ed3=_0x44c97b;let _0x1074bf=_0x5d3653[_0x399ed3(0x2c7)];h['verbose'](_0x399ed3(0x62d)),h['verbose'](_0x399ed3(0x2c9)),h[_0x399ed3(0x429)](_0x5d3653[_0x399ed3(0x2c7)]);let _0x1c01ec=await this['dataValidate']({'request':_0x5d3653,'schema':C,'ClassRef':S,'execute':_0x2085a1=>T[_0x399ed3(0x1d9)](_0x2085a1,_0x1074bf)});_0xecb8e5[_0x399ed3(0x3f1)](0xc8)[_0x399ed3(0x61e)](_0x1c01ec);})[_0x44c97b(0x406)](this[_0x44c97b(0x665)](_0x44c97b(0x107)),..._0x555bd4,async(_0x1d2d56,_0x160e67)=>{const _0x3a7162=_0x44c97b;h[_0x3a7162(0x429)](_0x3a7162(0x253));let _0x295a2b=await this[_0x3a7162(0x1fb)]({'request':_0x1d2d56,'schema':C,'ClassRef':S,'execute':_0x35baec=>T[_0x3a7162(0x1d8)](_0x35baec)});_0x160e67[_0x3a7162(0x3f1)](0xc8)[_0x3a7162(0x61e)](_0x295a2b);});}},cr=R(require(a0_0x1d42ab(0x596))),X={};function or(_0x1aa044,_0x397846,_0x5c75a0,_0x2dfba7){X[_0x1aa044]||(X[_0x1aa044]={}),X[_0x1aa044][_0x397846]={'id':_0x397846,'response':_0x5c75a0,'events':_0x2dfba7};}function ir(_0x59641d,_0x3c5d23){!X[_0x59641d]||!X[_0x59641d][_0x3c5d23]||delete X[_0x59641d][_0x3c5d23];}function q(_0x4dd245,_0x12b8a3,_0x12473d){const _0x3e8b00=a0_0x1d42ab;if(!X[_0x4dd245])return;let _0x6b3873='data:\x20'+JSON[_0x3e8b00(0x427)](_0x12473d)+'\x0a\x0a';Object[_0x3e8b00(0x6c5)](X[_0x4dd245])[_0x3e8b00(0x371)](_0x2d5511=>{const _0x2dbd93=_0x3e8b00;_0x2d5511[_0x2dbd93(0x36a)]['includes'](_0x12b8a3)&&_0x2d5511[_0x2dbd93(0x489)][_0x2dbd93(0x3cf)](_0x6b3873);});}function nr(){const _0x8f8a28=a0_0x1d42ab;let _0x4f9e1c={};for(let _0x2ec017 in X)_0x4f9e1c[_0x2ec017]=Object[_0x8f8a28(0x6c5)](X[_0x2ec017])[_0x8f8a28(0x6e4)](_0x51e2e3=>({'id':_0x51e2e3['id'],'events':_0x51e2e3[_0x8f8a28(0x36a)]}));return _0x4f9e1c;}var lr=require(a0_0x1d42ab(0x3db)),hs=require('mongoose'),ms=class{},no=new hs[(a0_0x1d42ab(0x18b))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs[(a0_0x1d42ab(0x18b))]({'_id':{'type':String,'default':a0_0x1d42ab(0x24a)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.[a0_0x1d42ab(0x5da)](ms[a0_0x1d42ab(0x2ce)],co,a0_0x1d42ab(0x574)),lo=cr['default'][a0_0x1d42ab(0x455)](__dirname,a0_0x1d42ab(0x4ab)),vt=(0x0,Ct['Router'])(),uo=b['get']('AUTHENTICATION')[a0_0x1d42ab(0x6e9)],te=[ha,fa,ba[uo]];vt[a0_0x1d42ab(0x4c2)](a0_0x1d42ab(0x435),Ct[a0_0x1d42ab(0x47b)][a0_0x1d42ab(0x68a)](lo))[a0_0x1d42ab(0x406)](a0_0x1d42ab(0x2a1),async(_0x2494cf,_0x52d612)=>{const _0x363ee4=a0_0x1d42ab;console[_0x363ee4(0x1c0)]('bateu\x20events');let _0x5e6989=_0x2494cf[_0x363ee4(0x380)]['instance'],_0x3257fb=(_0x2494cf[_0x363ee4(0x529)]['events']||'')[_0x363ee4(0x4e8)](','),_0x53ea2b=(0x0,lr['v4'])();console[_0x363ee4(0x1c0)](_0x363ee4(0x65b),_0x5e6989),console[_0x363ee4(0x1c0)](_0x363ee4(0x354),_0x3257fb);let _0x184b96=b[_0x363ee4(0x406)](_0x363ee4(0x6f6))[_0x363ee4(0x6b0)],_0x1c72eb=_0x2494cf[_0x363ee4(0x529)][_0x363ee4(0x27f)];if(console[_0x363ee4(0x1c0)](_0x363ee4(0x27e),_0x1c72eb),_0x184b96[_0x363ee4(0x53e)]!==_0x1c72eb){console['log'](_0x363ee4(0x69b));try{let _0xf32eff=await le[_0x363ee4(0x588)][_0x363ee4(0x497)](_0x5e6989);if(console[_0x363ee4(0x1c0)]('Instance\x20Key\x20from\x20DB:',_0xf32eff),!_0xf32eff||_0xf32eff[_0x363ee4(0x27f)]!==_0x1c72eb)return console[_0x363ee4(0x1c0)](_0x363ee4(0x418)),_0x52d612['status'](0x191)[_0x363ee4(0x36c)](_0x363ee4(0xe5));}catch(_0x3fd670){return console[_0x363ee4(0x241)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x3fd670),_0x52d612[_0x363ee4(0x3f1)](0x191)[_0x363ee4(0x36c)](_0x363ee4(0x2aa));}}if(!await We(_0x5e6989))return _0x52d612[_0x363ee4(0x3f1)](0x194)['send'](_0x363ee4(0x610));_0x52d612['setHeader'](_0x363ee4(0x4d9),_0x363ee4(0x58d)),_0x52d612[_0x363ee4(0x5e3)](_0x363ee4(0x6a5),_0x363ee4(0x364)),_0x52d612[_0x363ee4(0x5e3)](_0x363ee4(0x6b2),_0x363ee4(0x5ad)),_0x52d612[_0x363ee4(0x210)]();let _0x67670b=_0x363ee4(0x121)+JSON[_0x363ee4(0x427)]({'info':_0x363ee4(0x176)})+'\x0a\x0a';_0x52d612[_0x363ee4(0x3cf)](_0x67670b),or(_0x5e6989,_0x53ea2b,_0x52d612,_0x3257fb),_0x2494cf['on'](_0x363ee4(0x621),()=>{const _0x2b1835=_0x363ee4;console[_0x2b1835(0x1c0)](_0x2b1835(0x4d6)+_0x5e6989),ir(_0x5e6989,_0x53ea2b);});}),vt[a0_0x1d42ab(0x406)](a0_0x1d42ab(0x381),(_0x54f02b,_0x117a02)=>{const _0x36a23d=a0_0x1d42ab;let _0x2d20c8=nr();_0x117a02[_0x36a23d(0x61e)](_0x2d20c8);})[a0_0x1d42ab(0x406)]('/',(_0xd84dbd,_0x30fe48)=>{const _0x36d83a=a0_0x1d42ab;let _0x3ccaa2=b[_0x36d83a(0x406)](_0x36d83a(0x487)),_0x302e72=_0x3ccaa2&&_0x3ccaa2[_0x36d83a(0x461)][_0x36d83a(0x4e8)]('/')[0x4];if(_0x302e72){let _0x162801=encodeURIComponent('https://'+_0x302e72);_0x30fe48[_0x36d83a(0x250)](_0x36d83a(0x2bc)+_0x162801);}else _0x30fe48[_0x36d83a(0x250)](_0x36d83a(0x4b5));})[a0_0x1d42ab(0xc6)](a0_0x1d42ab(0x262),...te,async(_0x5513c8,_0x2a0008)=>{const _0x52b5bf=a0_0x1d42ab;try{console['log'](_0x52b5bf(0x6bf)),_0x2a0008[_0x52b5bf(0x3f1)](0xc8)['json']({'message':_0x52b5bf(0x3af)}),_0x2a0008['on'](_0x52b5bf(0x263),()=>process['exit'](0x0));}catch(_0xe052e8){console[_0x52b5bf(0x241)](_0x52b5bf(0x258),_0xe052e8),_0x2a0008[_0x52b5bf(0x3f1)](0x1f4)[_0x52b5bf(0x61e)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x1d42ab(0xc6)](a0_0x1d42ab(0x61b),...te,async(_0xd15956,_0x3c6790)=>{const _0x172245=a0_0x1d42ab;try{let _0x5b2144=_0xd15956[_0x172245(0x2c7)];await ye[_0x172245(0xce)]({},{'$set':_0x5b2144},{'upsert':!0x0});let _0x47f7ce=await ye['findOne']();_0x3c6790['json'](_0x47f7ce);}catch(_0x5ef4c2){_0x3c6790['status'](0x190)[_0x172245(0x36c)](_0x5ef4c2[_0x172245(0x312)]);}})[a0_0x1d42ab(0x406)](a0_0x1d42ab(0x61b),...te,async(_0x5d0cb0,_0x320667)=>{const _0x3e89aa=a0_0x1d42ab;try{let _0xd60cfa=await ye['findOne']();if(!_0xd60cfa)return _0x320667[_0x3e89aa(0x61e)]({});_0x320667['json'](_0xd60cfa);}catch(_0x76b696){_0x320667[_0x3e89aa(0x3f1)](0x1f4)[_0x3e89aa(0x36c)](_0x76b696[_0x3e89aa(0x312)]);}})[a0_0x1d42ab(0x4c2)](a0_0x1d42ab(0x3ba),new ct(b,...te)['router'])['use'](a0_0x1d42ab(0x361),new bt(...te)[a0_0x1d42ab(0x58a)])[a0_0x1d42ab(0x4c2)](a0_0x1d42ab(0x1aa),new Xe(...te)[a0_0x1d42ab(0x58a)])['use'](a0_0x1d42ab(0x432),new nt(...te)[a0_0x1d42ab(0x58a)])[a0_0x1d42ab(0x4c2)](a0_0x1d42ab(0x10b),new Et(...te)[a0_0x1d42ab(0x58a)])[a0_0x1d42ab(0x4c2)]('/automate',new Mt(...te)['router']);var m=class{constructor(..._0x10b1dd){const _0x450c22=a0_0x1d42ab;throw{'status':0x190,'error':_0x450c22(0x56e),'message':_0x10b1dd[_0x450c22(0x6e2)]>0x0?_0x10b1dd:void 0x0};}},ee=class{constructor(..._0x2cabac){const _0x5bb2e5=a0_0x1d42ab;throw{'status':0x191,'error':_0x5bb2e5(0x2a4),'message':_0x2cabac[_0x5bb2e5(0x6e2)]>0x0?_0x2cabac:void 0x0};}},K=class{constructor(..._0x2b07b3){const _0x1beebf=a0_0x1d42ab;throw{'status':0x193,'error':_0x1beebf(0x4b2),'message':_0x2b07b3['length']>0x0?_0x2b07b3:void 0x0};}},F=class{constructor(..._0x402d11){const _0x410299=a0_0x1d42ab;throw{'status':0x194,'error':_0x410299(0x699),'message':_0x402d11[_0x410299(0x6e2)]>0x0?_0x402d11:void 0x0};}},O=class{constructor(..._0x9c5ffb){const _0x2e9022=a0_0x1d42ab;throw{'status':0x1f4,'error':_0x2e9022(0x138),'message':_0x9c5ffb[_0x2e9022(0x6e2)]>0x0?_0x9c5ffb:void 0x0};}},ue=require(a0_0x1d42ab(0x10d));async function fs(_0x18c478){const _0x2c7102=a0_0x1d42ab;let _0x3202f9=new v(fs['name']),_0x3073b6=N[_0x2c7102(0x11d)](),_0xdeb739=_0x3073b6['db'](b['get'](_0x2c7102(0x54a))[_0x2c7102(0x696)][_0x2c7102(0x320)]+_0x2c7102(0x4d4))[_0x2c7102(0x186)](_0x18c478),_0x4ff5f3=async(_0x11e5ff,_0x51f51f)=>{const _0x545649=_0x2c7102;try{return await _0x3073b6[_0x545649(0x4f4)](),await _0xdeb739[_0x545649(0x511)]({'_id':_0x51f51f},JSON[_0x545649(0x698)](JSON['stringify'](_0x11e5ff,ue[_0x545649(0xd3)][_0x545649(0xf5)])),{'upsert':!0x0});}catch{}},_0x1c92d2=async _0x1814ce=>{const _0x5e1df0=_0x2c7102;try{await _0x3073b6[_0x5e1df0(0x4f4)]();let _0x4bfe39=await _0xdeb739['findOne']({'_id':_0x1814ce}),_0x3b3560=JSON['stringify'](_0x4bfe39);return JSON[_0x5e1df0(0x698)](_0x3b3560,ue[_0x5e1df0(0xd3)][_0x5e1df0(0x3e3)]);}catch{}},_0x18c7c7=async _0x4d15b7=>{const _0x584109=_0x2c7102;try{return await _0x3073b6[_0x584109(0x4f4)](),await _0xdeb739[_0x584109(0x1a6)]({'_id':_0x4d15b7});}catch{}},_0x31f556=await _0x1c92d2(_0x2c7102(0x2e8))||(0x0,ue[_0x2c7102(0x2ab)])();return{'state':{'creds':_0x31f556,'keys':{'get':async(_0x5d62ac,_0x1f9ec5)=>{const _0x8e5760=_0x2c7102;let _0x120a5d={};return await Promise[_0x8e5760(0x644)](_0x1f9ec5['map'](async _0x10b665=>{const _0x5baabd=_0x8e5760;let _0x55968b=await _0x1c92d2(_0x5d62ac+'-'+_0x10b665);_0x5d62ac==='app-state-sync-key'&&_0x55968b&&(_0x55968b=ue[_0x5baabd(0x52a)][_0x5baabd(0x4a8)]['AppStateSyncKeyData'][_0x5baabd(0x34d)](_0x55968b)),_0x120a5d[_0x10b665]=_0x55968b;})),_0x120a5d;},'set':async _0x38b062=>{const _0x282653=_0x2c7102;let _0x46c61c=[];for(let _0x2f49e5 in _0x38b062)for(let _0x334a25 in _0x38b062[_0x2f49e5]){let _0x476534=_0x38b062[_0x2f49e5][_0x334a25],_0x4f100c=_0x2f49e5+'-'+_0x334a25;_0x46c61c[_0x282653(0x59e)](_0x476534?_0x4ff5f3(_0x476534,_0x4f100c):_0x18c7c7(_0x4f100c));}await Promise[_0x282653(0x644)](_0x46c61c);}}},'saveCreds':async()=>_0x4ff5f3(_0x31f556,_0x2c7102(0x2e8))};}var Es=R(require('long')),Ms=R(require(a0_0x1d42ab(0x4c1))),Tt=require(a0_0x1d42ab(0x10d)),ur=require('@redis/client'),Rt=require(a0_0x1d42ab(0x10d)),Nt;function po(_0x227107){const _0x2ef480=a0_0x1d42ab;return Nt||(Nt=(0x0,ur['createClient'])({'url':_0x227107[_0x2ef480(0x3a1)]}),Nt[_0x2ef480(0x4f4)]()),Nt;}var oe=class c{constructor(_0x314b6a,_0x2eb04f){const _0x3bf6fe=a0_0x1d42ab;this[_0x3bf6fe(0x468)]=_0x314b6a,this['instanceName']=_0x2eb04f,this[_0x3bf6fe(0x701)]=new v(c[_0x3bf6fe(0x2ce)]),this['client']=po(_0x314b6a);}set[a0_0x1d42ab(0x132)](_0x2599ad){const _0x102d97=a0_0x1d42ab;this[_0x102d97(0x41b)]=_0x2599ad;}async['instanceKeys'](){const _0x17a278=a0_0x1d42ab;try{return await this[_0x17a278(0x370)][_0x17a278(0x25b)](['keys',this[_0x17a278(0x468)]['PREFIX_KEY']+':*']);}catch(_0x39e7d6){this[_0x17a278(0x701)][_0x17a278(0x241)](_0x39e7d6);}}async[a0_0x1d42ab(0x3e1)](_0x3e5f28,_0x426e38){const _0x3ef52b=a0_0x1d42ab;try{let _0x262f46=JSON[_0x3ef52b(0x427)](_0x426e38,Rt['BufferJSON'][_0x3ef52b(0xf5)]);return await this['client']['hSet'](this[_0x3ef52b(0x468)][_0x3ef52b(0x2fe)]+':'+this['instanceName'],_0x3e5f28,_0x262f46);}catch(_0x228d08){this[_0x3ef52b(0x701)]['error'](_0x228d08);}}async['getAllData'](){const _0xcdfa62=a0_0x1d42ab;try{let _0x578ca0=await this[_0xcdfa62(0x370)][_0xcdfa62(0x3ae)](this[_0xcdfa62(0x468)][_0xcdfa62(0x2fe)]+':'+this[_0xcdfa62(0x41b)]);if(_0x578ca0){for(let _0x27bc0d in _0x578ca0)Object['prototype'][_0xcdfa62(0x700)]['call'](_0x578ca0,_0x27bc0d)&&(_0x578ca0[_0x27bc0d]=JSON[_0xcdfa62(0x698)](_0x578ca0[_0x27bc0d],Rt[_0xcdfa62(0xd3)][_0xcdfa62(0x3e3)]));return _0x578ca0;}}catch(_0x47c1ef){this[_0xcdfa62(0x701)]['error'](_0x47c1ef);}}async['readData'](_0x3c20ae){const _0x4ed46c=a0_0x1d42ab;try{let _0x3479ab=await this[_0x4ed46c(0x370)]['hGet'](this[_0x4ed46c(0x468)][_0x4ed46c(0x2fe)]+':'+this[_0x4ed46c(0x41b)],_0x3c20ae);if(_0x3479ab)return JSON[_0x4ed46c(0x698)](_0x3479ab,Rt[_0x4ed46c(0xd3)]['reviver']);}catch(_0x5e7391){this[_0x4ed46c(0x701)][_0x4ed46c(0x241)](_0x5e7391);}}async['removeData'](_0x6739d0){const _0x424264=a0_0x1d42ab;try{return await this[_0x424264(0x370)][_0x424264(0x170)](this[_0x424264(0x468)][_0x424264(0x2fe)]+':'+this[_0x424264(0x41b)],_0x6739d0);}catch(_0x15d539){this[_0x424264(0x701)]['error'](_0x15d539);}}async[a0_0x1d42ab(0x5ab)](_0x247c18){const _0x13338c=a0_0x1d42ab;try{return await this['client'][_0x13338c(0x17e)](_0x247c18||this['redisEnv']['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x35bf37){this[_0x13338c(0x701)]['error'](_0x35bf37);}}};async function ys(_0xd3816,_0x503842){const _0x29eb6f=a0_0x1d42ab;let _0x23d06a=new v(ys[_0x29eb6f(0x2ce)]),_0x68dd83=new oe(_0xd3816,_0x503842),_0x4b9c8d=async(_0x3027be,_0xf9ddf3)=>{const _0x2fbe40=_0x29eb6f;try{return await _0x68dd83[_0x2fbe40(0x3e1)](_0xf9ddf3,_0x3027be);}catch(_0x3a9d78){return _0x23d06a['error']({'localError':_0x2fbe40(0x3e1),'error':_0x3a9d78});}},_0x3a4526=async _0x440df4=>{const _0xfc1d5a=_0x29eb6f;try{return await _0x68dd83[_0xfc1d5a(0x108)](_0x440df4);}catch(_0x1769be){_0x23d06a[_0xfc1d5a(0x241)]({'readData':_0xfc1d5a(0x3e1),'error':_0x1769be});return;}},_0x1da2d4=async _0x22a4e8=>{const _0x368b23=_0x29eb6f;try{return await _0x68dd83[_0x368b23(0x445)](_0x22a4e8);}catch(_0x12d80b){_0x23d06a[_0x368b23(0x241)]({'readData':_0x368b23(0x445),'error':_0x12d80b});}},_0x90df7c=await _0x3a4526(_0x29eb6f(0x2e8))||(0x0,Tt[_0x29eb6f(0x2ab)])();return{'state':{'creds':_0x90df7c,'keys':{'get':async(_0xaa8c4e,_0x48cd3c)=>{const _0x332f14=_0x29eb6f;let _0x72322b={};return await Promise[_0x332f14(0x644)](_0x48cd3c[_0x332f14(0x6e4)](async _0x3c9700=>{const _0x123c2e=_0x332f14;let _0x50938e=await _0x3a4526(_0xaa8c4e+'-'+_0x3c9700);_0xaa8c4e===_0x123c2e(0x384)&&_0x50938e&&(_0x50938e=Tt[_0x123c2e(0x52a)][_0x123c2e(0x4a8)][_0x123c2e(0x55b)][_0x123c2e(0x34d)](_0x50938e)),_0x72322b[_0x3c9700]=_0x50938e;})),_0x72322b;},'set':async _0x278660=>{const _0x3a7011=_0x29eb6f;let _0x43b486=[];for(let _0x4b5e10 in _0x278660)for(let _0xd6262c in _0x278660[_0x4b5e10]){let _0x3fbe59=_0x278660[_0x4b5e10][_0xd6262c],_0x216581=_0x4b5e10+'-'+_0xd6262c;_0x43b486['push'](_0x3fbe59?await _0x4b9c8d(_0x3fbe59,_0x216581):await _0x1da2d4(_0x216581));}await Promise[_0x3a7011(0x644)](_0x43b486);}}},'saveCreds':async()=>await _0x4b9c8d(_0x90df7c,_0x29eb6f(0x2e8))};}var L=R(require('fs')),Ce=require(a0_0x1d42ab(0x3db)),It=R(require('sharp')),wr=require(a0_0x1d42ab(0x30c)),go=a0_0x1d42ab(0x5ae)['trim'](),ws=go['split']('\x0a')['map'](_0x21824b=>{const _0x4e2087=a0_0x1d42ab;let _0x28ab51=_0x21824b[_0x4e2087(0x4e8)](':');return{'host':_0x28ab51[0x0],'port':_0x28ab51[0x1],'username':_0x28ab51[0x2],'password':_0x28ab51[0x3],'protocol':_0x4e2087(0x2e7)};});function a0_0x3f00(_0x5f2315,_0x19a627){const _0x56fe58=a0_0x56fe();return a0_0x3f00=function(_0x3f0077,_0x45a4ec){_0x3f0077=_0x3f0077-0xbf;let _0x47d2ae=_0x56fe58[_0x3f0077];return _0x47d2ae;},a0_0x3f00(_0x5f2315,_0x19a627);}function dr(){const _0x3cf95f=a0_0x1d42ab;if(ws[_0x3cf95f(0x6e2)]===0x0)return null;let _0x29d2b3=Math[_0x3cf95f(0x633)](Math['random']()*ws['length']);return ws[_0x29d2b3];}function bs(_0x3bf14b){const _0x1f2cc0=a0_0x1d42ab;return _0x3bf14b&&_0x3bf14b['host']&&_0x3bf14b[_0x1f2cc0(0x501)]&&_0x3bf14b[_0x1f2cc0(0x50e)]&&_0x3bf14b[_0x1f2cc0(0x29a)];}var br='Chrome',Cs,ie=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x3802bb=a0_0x1d42ab;let _0x2d4c91=await ye[_0x3802bb(0x2dc)]();ie=_0x2d4c91?.[_0x3802bb(0x460)]??null,ho=_0x2d4c91?.[_0x3802bb(0x37e)]??null,br=_0x2d4c91?.[_0x3802bb(0x6cb)]??_0x3802bb(0x378),Cs=_0x2d4c91?.['connectedName']??vs??_0x3802bb(0x6da),Sr=_0x2d4c91?.['AllProxy']??!0x1,console['log'](_0x3802bb(0x60e)),console[_0x3802bb(0x1c0)](_0x2d4c91);}async function yo(){await fo();}yo();function $(_0x982bee){const _0x404371=a0_0x1d42ab;if(_0x982bee[_0x404371(0x5b9)]||_0x982bee[_0x404371(0x1f5)]){let _0x170547=_0x982bee[_0x404371(0x5b9)]?_0x982bee[_0x404371(0x5b9)][_0x404371(0x312)]:_0x982bee[_0x404371(0x1f5)][_0x404371(0x312)];return(0x0,y['getContentType'])(_0x170547);}return _0x982bee['pollCreationMessageV3']?'pollCreationMessageV3':_0x982bee[_0x404371(0x3a5)]?_0x404371(0x3a5):_0x982bee[_0x404371(0x35f)]?'viewOnceMessageV2Extension':(0x0,y[_0x404371(0x2f2)])(_0x982bee);}var gr={},we=class c{constructor(_0x85ac64,_0x2025bb,_0x2d158d){const _0x3c85b9=a0_0x1d42ab;this[_0x3c85b9(0x566)]=_0x85ac64,this[_0x3c85b9(0x1fd)]=_0x2025bb,this[_0x3c85b9(0x544)]=_0x2d158d,this[_0x3c85b9(0x480)]=null,this[_0x3c85b9(0x701)]=new v(c['name']),this[_0x3c85b9(0x225)]={},this['localWebhook']={},this[_0x3c85b9(0x242)]={'state':_0x3c85b9(0x621)},this[_0x3c85b9(0x660)]=(0x0,U[_0x3c85b9(0x455)])(ae,_0x3c85b9(0x4ab)),this[_0x3c85b9(0x431)]=new Ms[(_0x3c85b9(0x47b))](),this[_0x3c85b9(0x67d)]=new Ms[(_0x3c85b9(0x47b))](),this[_0x3c85b9(0x374)]=!0x1,this[_0x3c85b9(0x51c)]={'status.instance':_0x3c85b9(0x38e),'qrcode.updated':_0x3c85b9(0x50f),'messages.upsert':'/wa-message','messages.update':_0x3c85b9(0x60c),'send.message':_0x3c85b9(0x212),'group.upsert':'/wa-groups','group.update':_0x3c85b9(0x420),'group-participants.update':_0x3c85b9(0x420),'connection.update':_0x3c85b9(0x38e),'messages.set':_0x3c85b9(0x212),'contacts.set':_0x3c85b9(0xc7),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x3c85b9(0x279),'chats.set':'/wa-chats','chats.update':_0x3c85b9(0x3eb),'chats.upsert':_0x3c85b9(0x3eb),'chats.delete':'/wa-chats'},this['reconnectAttempts']=0x0,this[_0x3c85b9(0x21d)]=[],this[_0x3c85b9(0x2a2)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0x3c85b9(0x36f)]=!0x1,this[_0x3c85b9(0x6c7)]={'chats.upsert':async(_0x5afa98,_0x43c85a)=>{const _0x4c67bc=_0x3c85b9;let _0x38096a=[];for await(let _0x47bd17 of _0x5afa98)_0x38096a['push']({'_id':_0x47bd17['id'],'owner':this['instance'][_0x4c67bc(0x43f)],'group':_0x47bd17['id']['endsWith']('@g.us'),'name':_0x47bd17[_0x4c67bc(0x2ce)]||_0x47bd17[_0x4c67bc(0x6d7)]||null,'contactname':null,'lastmsg':_0x47bd17[_0x4c67bc(0x3f5)]&&_0x47bd17['conversationTimestamp'][_0x4c67bc(0x611)]()[_0x4c67bc(0x6e2)]<0xd?_0x47bd17[_0x4c67bc(0x3f5)]*0x3e8:_0x47bd17[_0x4c67bc(0x3f5)]||null,'archived':_0x47bd17[_0x4c67bc(0x42b)]||!0x1,'unreadcount':_0x47bd17['unreadCount']||0x0});this[_0x4c67bc(0x3c4)]('chats.upsert',_0x38096a);},'chats.update':async(_0x7227c2,_0x19178f)=>{const _0x4e1eb1=_0x3c85b9;for(let _0x467bdb of _0x7227c2){let _0x551adb={'_id':_0x467bdb['id'],'owner':this[_0x4e1eb1(0x225)][_0x4e1eb1(0x43f)],'group':_0x467bdb['id'][_0x4e1eb1(0x372)](_0x4e1eb1(0x238)),'name':_0x467bdb[_0x4e1eb1(0x2ce)]||_0x467bdb[_0x4e1eb1(0x6d7)],'archived':_0x467bdb[_0x4e1eb1(0x42b)],'ephemeralExpiration':_0x467bdb[_0x4e1eb1(0x43a)]},_0x24843e=!0x1,_0x58d4ad={};_0x551adb[_0x4e1eb1(0x42b)]!=null&&(this[_0x4e1eb1(0x701)][_0x4e1eb1(0x429)](this[_0x4e1eb1(0x41b)]+'\x20('+this[_0x4e1eb1(0x225)][_0x4e1eb1(0x43f)]+_0x4e1eb1(0x229)+_0x467bdb['archived']),_0x24843e=!0x0,_0x58d4ad[_0x4e1eb1(0x42b)]=_0x467bdb['archived']),_0x467bdb[_0x4e1eb1(0x2ce)]!=null&&(this[_0x4e1eb1(0x701)][_0x4e1eb1(0x429)](this[_0x4e1eb1(0x41b)]+'\x20('+this[_0x4e1eb1(0x225)][_0x4e1eb1(0x43f)]+_0x4e1eb1(0xd0)+_0x467bdb[_0x4e1eb1(0x2ce)]),_0x24843e=!0x0,_0x58d4ad[_0x4e1eb1(0x2ce)]=_0x467bdb[_0x4e1eb1(0x2ce)]),_0x467bdb[_0x4e1eb1(0x6d7)]!=null&&(this[_0x4e1eb1(0x701)][_0x4e1eb1(0x429)](this['instanceName']+'\x20('+this[_0x4e1eb1(0x225)][_0x4e1eb1(0x43f)]+'):\x20teve\x20mudanas\x20chat.displayName:\x20'+_0x467bdb[_0x4e1eb1(0x6d7)]),_0x24843e=!0x0,_0x58d4ad[_0x4e1eb1(0x2ce)]=_0x467bdb['displayName']),_0x467bdb['ephemeralExpiration']!=null&&(this[_0x4e1eb1(0x701)][_0x4e1eb1(0x429)](this[_0x4e1eb1(0x41b)]+'\x20('+this['instance'][_0x4e1eb1(0x43f)]+_0x4e1eb1(0xd9)+_0x467bdb[_0x4e1eb1(0x43a)]),_0x24843e=!0x0,_0x58d4ad[_0x4e1eb1(0x43a)]=_0x467bdb[_0x4e1eb1(0x43a)]);let _0x5d2b42;_0x24843e&&(_0x5d2b42=await this[_0x4e1eb1(0x544)]['chat'][_0x4e1eb1(0xce)]({'where':{'_id':_0x467bdb['id']}},_0x58d4ad,this['instance'][_0x4e1eb1(0x43f)])),_0x5d2b42&&q(this['instanceName'],_0x4e1eb1(0x454),{'chat':_0x5d2b42});}},'chats.delete':async _0x1ed425=>{const _0x366574=_0x3c85b9;this[_0x366574(0x3c4)]('chats.delete',[..._0x1ed425]);}},this[_0x3c85b9(0x703)]={'contacts.upsert':async(_0x543904,_0xfbefc0)=>{const _0x2b22c9=_0x3c85b9;let _0x537a9e=await this['repository']['contact'][_0x2b22c9(0x497)]({'where':{}},this[_0x2b22c9(0x225)][_0x2b22c9(0x43f)]),_0x408d8f=[];for await(let _0x15a927 of _0x543904)_0x537a9e[_0x2b22c9(0x497)](_0x1003b8=>_0x1003b8[_0x2b22c9(0x650)]===_0x15a927['id'])||_0x408d8f[_0x2b22c9(0x59e)]({'_id':_0x15a927['id'],'pushName':_0x15a927?.[_0x2b22c9(0x2ce)]||_0x15a927?.[_0x2b22c9(0x298)],'owner':this[_0x2b22c9(0x225)]['wuid']});this[_0x2b22c9(0x3c4)](_0x2b22c9(0x16a),_0x408d8f),await this[_0x2b22c9(0x544)][_0x2b22c9(0x1db)]['insert'](_0x408d8f);},'contacts.update':async(_0xbc7747,_0x4292a1)=>{const _0x700ae5=_0x3c85b9;let _0x243679=[];for await(let _0x12a926 of _0xbc7747)_0x243679[_0x700ae5(0x59e)]({'_id':_0x12a926['id'],'pushName':_0x12a926?.['name']??_0x12a926?.['verifiedName'],'owner':this[_0x700ae5(0x225)][_0x700ae5(0x43f)]});this[_0x700ae5(0x3c4)](_0x700ae5(0x109),_0x243679);}},this[_0x3c85b9(0x3a0)]={'messaging-history.set':async({messages:_0x10983a,chats:_0x21084b,isLatest:_0xc7eee2},_0x48be17)=>{const _0x73989e=_0x3c85b9;if(_0xc7eee2){let _0x2f6ccd=await Promise[_0x73989e(0x644)](_0x21084b[_0x73989e(0x6e4)](async _0x38ac6e=>({'_id':_0x38ac6e['id'],'owner':this[_0x73989e(0x225)]['wuid'],'group':_0x38ac6e['id']['endsWith']('@g.us'),'name':_0x38ac6e[_0x73989e(0x2ce)]||_0x38ac6e[_0x73989e(0x6d7)]||null,'contactname':null,'lastmsg':_0x38ac6e[_0x73989e(0x3f5)]&&_0x38ac6e[_0x73989e(0x3f5)][_0x73989e(0x611)]()[_0x73989e(0x6e2)]<0xd?_0x38ac6e[_0x73989e(0x3f5)]*0x3e8:_0x38ac6e['conversationTimestamp']||null,'archived':_0x38ac6e[_0x73989e(0x42b)]||!0x1,'unreadcount':_0x38ac6e[_0x73989e(0x287)]||0x0})));this[_0x73989e(0x3c4)](_0x73989e(0x152),_0x2f6ccd),await this[_0x73989e(0x53c)](_0x2f6ccd,_0x48be17);}let _0x16d63e=[],_0x58d4bd=Date[_0x73989e(0x5aa)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5523cc]of Object[_0x73989e(0x4ae)](_0x10983a)){if(_0x5523cc[_0x73989e(0x312)]?.['protocolMessage']||_0x5523cc[_0x73989e(0x312)]?.['senderKeyDistributionMessage']||!_0x5523cc[_0x73989e(0x312)]||_0x5523cc[_0x73989e(0x362)]['remoteJid']==='status@broadcast'||(Es[_0x73989e(0x47b)]['isLong'](_0x5523cc?.[_0x73989e(0x549)])&&(_0x5523cc[_0x73989e(0x549)]=_0x5523cc[_0x73989e(0x549)]?.['toNumber']()),_0x5523cc[_0x73989e(0x549)]&&_0x5523cc['messageTimestamp'][_0x73989e(0x611)]()[_0x73989e(0x6e2)]<0xd&&(_0x5523cc[_0x73989e(0x549)]=_0x5523cc[_0x73989e(0x549)]*0x3e8),_0x5523cc[_0x73989e(0x549)]<_0x58d4bd))continue;let {message_normalized:_0x3ba3eb}=this['normalizeMessage'](_0x5523cc[_0x73989e(0x312)],$(_0x5523cc['message']),null);Object[_0x73989e(0x6bc)](_0x3ba3eb)[_0x73989e(0x6e2)]>0x0&&_0x16d63e[_0x73989e(0x59e)]({'_id':_0x5523cc['key']['id'],'key':_0x5523cc['key'],'pushName':_0x5523cc[_0x73989e(0x466)],'participant':_0x5523cc['participant'],'message':{..._0x5523cc['message']},'messageType':$(_0x5523cc[_0x73989e(0x312)]),'message_normalized':{'key':_0x5523cc[_0x73989e(0x362)],'pushName':_0x5523cc[_0x73989e(0x466)],'messageTimestamp':_0x5523cc['messageTimestamp'],..._0x3ba3eb},'messageTimestamp':_0x5523cc[_0x73989e(0x549)],'owner':this['instance'][_0x73989e(0x43f)]});}_0x48be17[_0x73989e(0x15a)]&&_0x16d63e[_0x73989e(0x6e2)]>0x0&&(this[_0x73989e(0x701)][_0x73989e(0x429)](this[_0x73989e(0x41b)]+'\x20('+this[_0x73989e(0x225)][_0x73989e(0x43f)]+_0x73989e(0x1c7)+_0x16d63e[_0x73989e(0x6e2)]+_0x73989e(0xdf)+this[_0x73989e(0x225)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x73989e(0x544)][_0x73989e(0x312)][_0x73989e(0x702)]([..._0x16d63e],this[_0x73989e(0x225)][_0x73989e(0x43f)])),this[_0x73989e(0x3c4)](_0x73989e(0x1e1),[..._0x16d63e]),_0x10983a=void 0x0;},'messages.upsert':async({messages:_0x433e2d,type:_0x51a8da},_0x28fe06)=>{const _0x4898b=_0x3c85b9;let _0x586c20=_0x433e2d[0x0];if(_0x51a8da!==_0x4898b(0xe3)||!_0x586c20?.[_0x4898b(0x312)]||_0x586c20['message']?.[_0x4898b(0x217)]||_0x586c20[_0x4898b(0x312)][_0x4898b(0x6a8)]||_0x586c20[_0x4898b(0x362)]['remoteJid']===_0x4898b(0x441))return;let _0x2888ca=null,_0x4ec320=null;try{_0x2888ca=await this[_0x4898b(0x63d)](_0x586c20),_0x4ec320=_0x2888ca?_0x2888ca['join'](','):null;}catch(_0x5636df){this['logger'][_0x4898b(0x429)](this[_0x4898b(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x5636df instanceof Error?_0x5636df[_0x4898b(0x312)]:JSON[_0x4898b(0x427)](_0x5636df,null,0x2))),_0x4ec320=_0x4898b(0x458);}if(this[_0x4898b(0x370)][_0x4898b(0x6b3)](_0x4898b(0x20e)),Es[_0x4898b(0x47b)][_0x4898b(0x5cf)](_0x586c20[_0x4898b(0x549)])&&(_0x586c20[_0x4898b(0x549)]=_0x586c20['messageTimestamp']?.[_0x4898b(0x205)]()),this[_0x4898b(0x507)]?.[_0x4898b(0x554)]&&_0x586c20[_0x4898b(0x362)][_0x4898b(0x6e5)][_0x4898b(0x2c5)](_0x4898b(0x238))){this[_0x4898b(0x701)]['verbose'](_0x4898b(0x6df));return;}_0x586c20[_0x4898b(0x549)]&&_0x586c20[_0x4898b(0x549)][_0x4898b(0x611)]()['length']<0xd&&(_0x586c20[_0x4898b(0x549)]=_0x586c20[_0x4898b(0x549)]*0x3e8);let _0x4a5858=_0x586c20['message'],{messageContent:_0x4c7367,message_normalized:_0x17de3d}=this[_0x4898b(0x545)](_0x4a5858,$(_0x586c20[_0x4898b(0x312)]),_0x4ec320);_0x4c7367||console[_0x4898b(0x241)]('Mensagem\x20no\x20suportada');let _0x1addeb={'_id':_0x586c20['key']['id'],'key':_0x586c20[_0x4898b(0x362)],'pushName':_0x586c20[_0x4898b(0x466)],'message':{..._0x586c20[_0x4898b(0x312)]},'messageType':$(_0x586c20[_0x4898b(0x312)]),'message_normalized':{'key':_0x586c20[_0x4898b(0x362)],'pushName':_0x586c20[_0x4898b(0x466)],'messageTimestamp':_0x586c20[_0x4898b(0x549)],'source':(0x0,y[_0x4898b(0x2f9)])(_0x586c20[_0x4898b(0x362)]['id']),..._0x17de3d},'messageTimestamp':_0x586c20[_0x4898b(0x549)],'owner':this[_0x4898b(0x225)]['wuid'],'source':(0x0,y[_0x4898b(0x2f9)])(_0x586c20[_0x4898b(0x362)]['id'])};this[_0x4898b(0x701)][_0x4898b(0x1c0)](_0x1addeb),await this[_0x4898b(0x544)][_0x4898b(0x312)][_0x4898b(0x702)]([_0x1addeb],this[_0x4898b(0x225)][_0x4898b(0x43f)]),this[_0x4898b(0x3c4)](_0x4898b(0x464),_0x1addeb),q(this['instanceName'],_0x4898b(0x268),{'message':_0x1addeb}),_0x586c20[_0x4898b(0x362)][_0x4898b(0x6e5)]!==_0x4898b(0x441)&&await this[_0x4898b(0x46b)](_0x28fe06,_0x1addeb,_0x4898b(0x17f));},'messages.update':async(_0x16a2c6,_0x175222)=>{const _0x5198b1=_0x3c85b9;let _0x15a6e2={0x0:'ERROR',0x1:_0x5198b1(0x3cd),0x2:_0x5198b1(0x39a),0x3:'DELIVERY_ACK',0x4:_0x5198b1(0x252),0x5:_0x5198b1(0x4e2)};for await(let {key:_0x491506,update:_0x4a22e6}of _0x16a2c6){if(this[_0x5198b1(0x507)]?.[_0x5198b1(0x554)]&&_0x491506[_0x5198b1(0x6e5)][_0x5198b1(0x2c5)]('@g.us')){this['logger'][_0x5198b1(0x429)](_0x5198b1(0x6df));return;}if(_0x491506['remoteJid']!=='status@broadcast'){let _0x2e6d9e=Date[_0x5198b1(0x5aa)](),_0x1d82ef;_0x4a22e6['message']===null&&_0x4a22e6[_0x5198b1(0x3f1)]===void 0x0?_0x1d82ef=_0x5198b1(0x537):_0x1d82ef=_0x15a6e2[_0x4a22e6[_0x5198b1(0x3f1)]];let _0x5b3b83=_0x491506[_0x5198b1(0x6e5)][_0x5198b1(0x6c2)](/:\d{1,2}@/g,'@'),_0x579795={..._0x491506,'remoteJid':_0x5b3b83,'status':_0x1d82ef,'datetime':_0x2e6d9e,'owner':this[_0x5198b1(0x225)][_0x5198b1(0x43f)]};this['sendDataWebhook'](_0x5198b1(0x483),_0x579795),await this[_0x5198b1(0x296)](_0x491506,_0x579795);}}},'labels.association':async({type:_0x1cabad,association:_0x493240})=>{const _0x3a64c1=_0x3c85b9;if(_0x493240[_0x3a64c1(0x48e)]===_0x3a64c1(0x580))switch(_0x1cabad){case'add':console[_0x3a64c1(0x1c0)](_0x493240),await this[_0x3a64c1(0x544)][_0x3a64c1(0x159)][_0x3a64c1(0xce)]({'where':{'_id':_0x493240[_0x3a64c1(0x585)]}},{'labels':_0x493240['labelId']},this[_0x3a64c1(0x225)][_0x3a64c1(0x43f)],void 0x0,_0x3a64c1(0x5c4));break;case _0x3a64c1(0x1ca):console[_0x3a64c1(0x1c0)](_0x493240),await this[_0x3a64c1(0x544)][_0x3a64c1(0x159)][_0x3a64c1(0xce)]({'where':{'_id':_0x493240['chatId']}},{'labels':_0x493240[_0x3a64c1(0x137)]},this['instance'][_0x3a64c1(0x43f)],void 0x0,_0x3a64c1(0x43e));break;default:console[_0x3a64c1(0x241)]('unknown\x20operation\x20type\x20['+_0x1cabad+']');}},'labels.edit':async _0x53462b=>{const _0x5c130d=_0x3c85b9;if(!_0x53462b||!_0x53462b['id']){console[_0x5c130d(0x241)](_0x5c130d(0x297));return;}let _0xf915c1={'_id':_0x53462b['id'],'color':_0x53462b?.[_0x5c130d(0x1f9)],'name':_0x53462b?.['name'],'owner':this[_0x5c130d(0x225)][_0x5c130d(0x43f)]};await this['repository'][_0x5c130d(0x1bc)][_0x5c130d(0xce)]({'where':{'_id':_0x53462b['id']}},_0xf915c1,this[_0x5c130d(0x225)][_0x5c130d(0x43f)]),console[_0x5c130d(0x1c0)](_0x5c130d(0x29f),_0x53462b),_0x53462b[_0x5c130d(0x207)]&&(await this['repository']['label']['delete']({'where':{'_id':_0x53462b['id']}},this[_0x5c130d(0x225)][_0x5c130d(0x43f)]),console['log'](_0x5c130d(0x527),_0x53462b['id']));}},this[_0x3c85b9(0x6b1)]={'groups.upsert':_0x40a204=>{const _0x9deb0=_0x3c85b9;this[_0x9deb0(0x3c4)]('groups.upsert',_0x40a204);},'groups.update':_0x682ef7=>{const _0x17f8c8=_0x3c85b9;this[_0x17f8c8(0x3c4)](_0x17f8c8(0x658),_0x682ef7);},'group-participants.update':_0x797fb4=>{this['sendDataWebhook']('group-participants.update',_0x797fb4);}},this[_0x3c85b9(0x63d)]=async _0xe30ef9=>{const _0x205374=_0x3c85b9;if(_0xe30ef9['message']?.[_0x205374(0x4d7)]){let _0x5acfa8=await this[_0x205374(0x53f)](_0xe30ef9[_0x205374(0x312)][_0x205374(0x4d7)][_0x205374(0x271)],!0x0);if(_0x5acfa8){let _0x3db819=_0x5acfa8[_0x205374(0x362)]['fromMe']?this[_0x205374(0x225)][_0x205374(0x43f)]+'@s.whatsapp.net':_0x5acfa8['key'][_0x205374(0x245)]||_0x5acfa8[_0x205374(0x362)]['remoteJid'],_0x4bc908=_0x5acfa8[_0x205374(0x362)]['id'],_0x46c714=_0x5acfa8[_0x205374(0x312)],_0x1a81e5=Buffer[_0x205374(0x221)](_0x46c714[_0x205374(0x55c)]['messageSecret']['toString'](_0x205374(0x691)),_0x205374(0x691)),_0x4b3a70=(0x0,y[_0x205374(0x40e)])(_0xe30ef9[_0x205374(0x312)][_0x205374(0x4d7)][_0x205374(0x4c8)],{'pollCreatorJid':_0x3db819,'pollMsgId':_0x4bc908,'pollEncKey':_0x1a81e5,'voterJid':_0xe30ef9[_0x205374(0x362)][_0x205374(0x5fc)]?this[_0x205374(0x225)][_0x205374(0x43f)]+_0x205374(0x62c):_0xe30ef9[_0x205374(0x362)][_0x205374(0x6e5)]['endsWith'](_0x205374(0x66a))?_0xe30ef9[_0x205374(0x362)][_0x205374(0x245)]:_0xe30ef9['key'][_0x205374(0x6e5)]}),_0x51d0f2=[],_0x2dd02e=_0x4b3a70[_0x205374(0x478)][_0x205374(0x6e4)](_0x23c26f=>Buffer[_0x205374(0x221)](_0x23c26f)[_0x205374(0x611)](_0x205374(0x691)));for(let {optionName:_0x587b64}of _0x46c714[_0x205374(0x2c8)]?.[_0x205374(0x3fb)]||_0x46c714[_0x205374(0x29e)]?.[_0x205374(0x3fb)]||_0x46c714[_0x205374(0x3a5)]?.[_0x205374(0x3fb)])_0x2dd02e[_0x205374(0x462)]((0x0,y[_0x205374(0x6f9)])(Buffer[_0x205374(0x221)](_0x587b64))['toString'](_0x205374(0x691)))>-0x1&&_0x51d0f2['push'](_0x587b64);return _0x51d0f2;}}return null;},this[_0x3c85b9(0x545)]=(_0x8038ed,_0x521131,_0x560ff9)=>{const _0x57b961=_0x3c85b9;try{let _0x50c409=_0x521131?_0x8038ed[_0x521131]:void 0x0,_0x88e5fa={},_0x143054=null,_0x3d8505=null,_0x12ffdc=null;if(_0x8038ed[_0x57b961(0x1f5)]?(_0x521131=$(_0x8038ed[_0x57b961(0x1f5)][_0x57b961(0x312)]),_0x50c409=_0x8038ed[_0x57b961(0x1f5)][_0x57b961(0x312)][_0x521131]):_0x8038ed[_0x57b961(0x35f)]?(_0x521131=$(_0x8038ed['viewOnceMessageV2Extension'][_0x57b961(0x312)]),_0x50c409=_0x8038ed[_0x57b961(0x35f)]['message'][_0x521131]):_0x8038ed[_0x57b961(0x5b9)]?(_0x521131=$(_0x8038ed[_0x57b961(0x5b9)]['message']),_0x50c409=_0x8038ed[_0x57b961(0x5b9)][_0x57b961(0x312)][_0x521131]):_0x8038ed[_0x57b961(0x412)]?(_0x521131=$(_0x8038ed[_0x57b961(0x312)][_0x57b961(0x412)]['message']),_0x50c409=_0x8038ed[_0x57b961(0x312)][_0x57b961(0x412)][_0x57b961(0x312)][_0x521131]):_0x8038ed[_0x57b961(0x357)]?.[_0x57b961(0x312)]?.['protocolMessage']?.[_0x57b961(0x357)]?(_0x521131=$(_0x8038ed[_0x57b961(0x357)][_0x57b961(0x312)][_0x57b961(0x217)][_0x57b961(0x357)]),_0x143054=_0x8038ed[_0x57b961(0x357)]['message'][_0x57b961(0x217)]['key']['id'],_0x50c409=_0x8038ed['editedMessage'][_0x57b961(0x312)][_0x57b961(0x217)][_0x57b961(0x357)][_0x521131]):_0x50c409=_0x8038ed[_0x521131],!_0x521131||!_0x50c409)return console['error']('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x8038ed),{'messageType':_0x521131,'messageContent':_0x50c409,'message_normalized':{}};_0x8038ed[_0x521131]?.[_0x57b961(0x6fc)]?.[_0x57b961(0x6f3)]&&_0x8038ed[_0x521131]?.[_0x57b961(0x6fc)]?.['quotedMessage']&&(_0x3d8505=_0x8038ed[_0x521131][_0x57b961(0x6fc)][_0x57b961(0x6f3)]),_0x8038ed[_0x57b961(0x198)]&&(_0x12ffdc=_0x8038ed['reactionMessage'][_0x57b961(0x362)]['id']);let _0x5d788d;if(_0x50c409&&typeof _0x50c409==_0x57b961(0x1b0)&&_0x57b961(0x271)in _0x50c409&&({pollCreationMessageKey:_0x5d788d}=_0x50c409),_0x521131==='documentWithCaptionMessage'){let _0x317c84=_0x50c409?.[_0x57b961(0x312)]?.[_0x57b961(0x5fd)];_0x317c84&&(_0x50c409=_0x317c84);}if(_0x521131==='pollCreationMessage'||_0x521131===_0x57b961(0x3a5)||_0x521131===_0x57b961(0x29e)){let _0x376ddc=_0x50c409[_0x57b961(0x3fb)]['map'](_0x24e34f=>_0x24e34f[_0x57b961(0x4f8)])[_0x57b961(0x455)]('|');_0x88e5fa['convertedOptions']=_0x376ddc;}let _0x20d174=_0x50c409[_0x57b961(0x2ce)]||_0x50c409[_0x57b961(0x3fd)]||_0x50c409[_0x57b961(0x473)]||_0x50c409[_0x57b961(0x6d7)];if(_0x521131===_0x57b961(0x18a)){_0x20d174=(_0x50c409['title']||'')+'\x0a'+(_0x50c409[_0x57b961(0x133)]||'')+'\x0a'+(_0x50c409[_0x57b961(0x14b)]||'');let _0x4def5e=this[_0x57b961(0xe1)](_0x50c409[_0x57b961(0x175)]);_0x88e5fa['convertedOptions']=_0x4def5e;}if(_0x521131===_0x57b961(0x3a9)&&(_0x560ff9=_0x50c409[_0x57b961(0x1f3)]),_0x50c409[_0x57b961(0x1c1)]){let _0x2e0872=this[_0x57b961(0x595)](JSON[_0x57b961(0x427)](_0x50c409['vcard'],null,0x2));_0x20d174=_0x20d174+'\x0a'+_0x2e0872;}if(_0x50c409){let {sections:_0x31c13b,listType:_0x2702f1,displayName:_0x8c94ac,vcard:_0x4f5d41,contactVcard:_0x2e9c89,name:_0x134256,caption:_0x2c8278,conversation:_0x2e0080,pollCreationMessageKey:_0x4d884c,footerText:_0x3830cf,contentText:_0x4a0465,pageCount:_0x25d89d,headerType:_0x337b52,isAvatar:_0x4d9550,isAnimated:_0x4fbf6c,fallbackLc:_0x180de3,fallbackLg:_0x407c49,namespace:_0x2a8ebe,elementName:_0x37b87f,localizableParams:_0x5a701f,viewOnce:_0x13064f,height:_0x24154b,width:_0x561248,key:_0x4761b0,firstScanLength:_0x58790a,firstScanSidecar:_0x31de37,gifPlayback:_0x351bc6,gifAttribution:_0x99f2a1,midQualityFileSha256:_0x559fce,scansSidecar:_0x189093,streamingSidecar:_0x1e83d9,thumbnailHeight:_0x2606f1,thumbnailWidth:_0x2f9451,thumbnailEncSha256:_0x34726f,thumbnailDirectPath:_0x5cbd37,canonicalUrl:_0x1cb1a8,matchedText:_0x231b6f,previewType:_0x226e32,thumbnailSha256:_0x2cc74c,deviceListMetadataVersion:_0x3fd98d,inviteLinkGroupTypeV2:_0x4c8c0b,interactiveAnnotations:_0x2e837c,scanLengths:_0x472848,jpegThumbnail:_0x23a232,url:_0xcc1a98,mediaKeyTimestamp:_0x433ceb,waveform:_0xb667f4,stickerSentTs:_0x4d7027,firstFrameLength:_0x36b629,fileEncSha256:_0x4cd7bb,contextInfo:_0x360805,firstFrameSidecar:_0xd7b586,directPath:_0x41cf49,fileSha256:_0x2c5f4e,mediaKey:_0x4aae9f,senderTimestampMs:_0x9ce1f6,..._0x3f0928}=_0x50c409;(_0x521131===_0x57b961(0x18a)||_0x521131===_0x57b961(0x3a9))&&(delete _0x3f0928[_0x57b961(0x1f3)],delete _0x3f0928[_0x57b961(0x133)]),typeof _0x50c409=='string'?_0x88e5fa={'text':_0x50c409,'type':_0x521131||_0x57b961(0x473),..._0x143054&&{'edited':_0x143054},..._0x3d8505&&{'quoted':_0x3d8505},..._0x12ffdc&&{'reaction':_0x12ffdc}}:_0x88e5fa={'text':_0x20d174,..._0x3f0928,..._0x521131==='pollUpdateMessage'?{'poll_id':_0x50c409[_0x57b961(0x271)]['id'],'quoted':_0x50c409[_0x57b961(0x271)]['id'],'vote':_0x560ff9}:{},..._0x521131===_0x57b961(0x3a9)?{'vote':_0x560ff9}:{},'type':_0x521131,..._0x143054&&{'edited':_0x143054},..._0x3d8505&&{'quoted':_0x3d8505},..._0x12ffdc&&{'reaction':_0x12ffdc},...(_0x521131===_0x57b961(0x2c8)||_0x521131===_0x57b961(0x3a5)||_0x521131==='pollCreationMessageV3'||_0x521131===_0x57b961(0x18a))&&{'convertedOptions':_0x88e5fa[_0x57b961(0x243)]}};}return{'messageType':_0x521131,'messageContent':_0x50c409,'message_normalized':_0x88e5fa};}catch(_0x5426ec){console[_0x57b961(0x241)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x5426ec);}},this[_0x3c85b9(0x670)]=null,this[_0x3c85b9(0x200)]=0x0,this['timerId']=null,(this[_0x3c85b9(0x125)](),this['instance']['qrcode']={'count':0x0});}set['instanceName'](_0x59c035){const _0x2b6e55=a0_0x1d42ab;if(!_0x59c035){this[_0x2b6e55(0x225)][_0x2b6e55(0x2ce)]=(0x0,hr['v4'])();return;}this[_0x2b6e55(0x225)]['name']=_0x59c035,this['sendDataWebhook']('status.instance',{'instance':this['instance'][_0x2b6e55(0x2ce)],'status':_0x2b6e55(0x635)});}get[a0_0x1d42ab(0x41b)](){return this['instance']['name'];}get[a0_0x1d42ab(0x43f)](){const _0xcfa9d4=a0_0x1d42ab;return this[_0xcfa9d4(0x225)][_0xcfa9d4(0x43f)];}async[a0_0x1d42ab(0x237)](){const _0x3128b4=a0_0x1d42ab;let _0x31a2ca=this['client']['user']?.[_0x3128b4(0x2ce)]??this[_0x3128b4(0x370)][_0x3128b4(0x166)]?.[_0x3128b4(0x298)];if(!_0x31a2ca){if(this[_0x3128b4(0x566)][_0x3128b4(0x406)](_0x3128b4(0x54a))[_0x3128b4(0x15a)]){let _0x3e820f=await N[_0x3128b4(0x11d)]()['db'](this[_0x3128b4(0x566)]['get']('DATABASE')['CONNECTION'][_0x3128b4(0x320)]+_0x3128b4(0x4d4))[_0x3128b4(0x186)](this[_0x3128b4(0x41b)])[_0x3128b4(0x2dc)]({'_id':_0x3128b4(0x2e8)});if(_0x3e820f){let _0x4f4584=JSON['parse'](JSON[_0x3128b4(0x427)](_0x3e820f),y[_0x3128b4(0xd3)]['reviver']);_0x31a2ca=_0x4f4584['me']?.[_0x3128b4(0x2ce)]||_0x4f4584['me']?.[_0x3128b4(0x298)];}}else{if((0x0,ve[_0x3128b4(0x409)])((0x0,U['join'])(me,this[_0x3128b4(0x41b)],_0x3128b4(0x1f2)))){let _0x3b91fd=JSON[_0x3128b4(0x698)]((0x0,ve[_0x3128b4(0x101)])((0x0,U[_0x3128b4(0x455)])(me,this['instanceName'],_0x3128b4(0x1f2)),{'encoding':_0x3128b4(0x6d1)}));_0x31a2ca=_0x3b91fd['me']?.[_0x3128b4(0x2ce)]||_0x3b91fd['me']?.[_0x3128b4(0x298)];}}}return _0x31a2ca;}get[a0_0x1d42ab(0x15d)](){const _0x356905=a0_0x1d42ab;return this[_0x356905(0x225)]['profilePictureUrl'];}get[a0_0x1d42ab(0x4e6)](){const _0xc511c9=a0_0x1d42ab;return{'pairingCode':this['instance'][_0xc511c9(0x6aa)]?.['pairingCode'],'code':this[_0xc511c9(0x225)][_0xc511c9(0x6aa)]?.[_0xc511c9(0x5cc)],'base64':this[_0xc511c9(0x225)][_0xc511c9(0x6aa)]?.[_0xc511c9(0x3e5)]};}async[a0_0x1d42ab(0xe0)](){const _0x520df5=a0_0x1d42ab;let _0x3a46e8=await this[_0x520df5(0x544)][_0x520df5(0x6c3)][_0x520df5(0x497)](this[_0x520df5(0x41b)]);this[_0x520df5(0x507)]['url']=_0x3a46e8?.['url'],this[_0x520df5(0x507)][_0x520df5(0x561)]=_0x3a46e8?.[_0x520df5(0x561)],this[_0x520df5(0x507)][_0x520df5(0x2da)]=_0x3a46e8?.[_0x520df5(0x2da)],this[_0x520df5(0x507)][_0x520df5(0x111)]=_0x3a46e8?.[_0x520df5(0x111)],this['localWebhook']['QRCODE_UPDATED']=_0x3a46e8?.[_0x520df5(0x600)],this[_0x520df5(0x507)][_0x520df5(0x211)]=_0x3a46e8?.[_0x520df5(0x211)],this[_0x520df5(0x507)][_0x520df5(0x17f)]=_0x3a46e8?.[_0x520df5(0x17f)],this[_0x520df5(0x507)][_0x520df5(0x551)]=_0x3a46e8?.[_0x520df5(0x551)],this['localWebhook']['GROUPS_UPSERT']=_0x3a46e8?.[_0x520df5(0x6af)],this[_0x520df5(0x507)]['GROUPS_UPDATE']=_0x3a46e8?.['GROUPS_UPDATE'],this[_0x520df5(0x507)][_0x520df5(0x692)]=_0x3a46e8?.[_0x520df5(0x692)],this['localWebhook'][_0x520df5(0x41d)]=_0x3a46e8?.[_0x520df5(0x41d)],this[_0x520df5(0x507)][_0x520df5(0x28c)]=_0x3a46e8?.['CHATS_UPSERT'],this[_0x520df5(0x507)][_0x520df5(0x512)]=_0x3a46e8?.[_0x520df5(0x512)],this['localWebhook']['CHATS_DELETE']=_0x3a46e8?.[_0x520df5(0x447)],this[_0x520df5(0x507)][_0x520df5(0x541)]=_0x3a46e8?.[_0x520df5(0x541)],this[_0x520df5(0x507)][_0x520df5(0x30d)]=_0x3a46e8?.[_0x520df5(0x30d)],this[_0x520df5(0x507)][_0x520df5(0xda)]=_0x3a46e8?.['CONTACTS_UPDATE'],this[_0x520df5(0x507)]['PRESENCE_UPDATE']=_0x3a46e8?.[_0x520df5(0x269)],this[_0x520df5(0x507)][_0x520df5(0x29c)]=_0x3a46e8?.[_0x520df5(0x29c)],this[_0x520df5(0x507)][_0x520df5(0x615)]=_0x3a46e8?.[_0x520df5(0x615)],this['localWebhook'][_0x520df5(0x554)]=_0x3a46e8?.['groups_ignore'];}async[a0_0x1d42ab(0x517)](_0x3a12fb){const _0x30f8c4=a0_0x1d42ab;let _0x3f0c75=[_0x30f8c4(0x650),_0x30f8c4(0x62e),'enabled','local_map',_0x30f8c4(0x111),_0x30f8c4(0x600),'MESSAGES_UPDATE','MESSAGES_UPSERT',_0x30f8c4(0x211),'GROUPS_UPSERT',_0x30f8c4(0x423),_0x30f8c4(0x692),'CHATS_SET','CHATS_UPSERT','CHATS_UPDATE','CHATS_DELETE',_0x30f8c4(0x541),_0x30f8c4(0x30d),'CONTACTS_UPDATE',_0x30f8c4(0x269),_0x30f8c4(0x29c),_0x30f8c4(0x615),_0x30f8c4(0x554)],_0x5b08b7={};return _0x3f0c75[_0x30f8c4(0x371)](_0x119e7a=>{_0x3a12fb[_0x119e7a]!==void 0x0&&(_0x5b08b7[_0x119e7a]=_0x3a12fb[_0x119e7a]);}),await this[_0x30f8c4(0x544)]['webhook'][_0x30f8c4(0x661)](_0x5b08b7,this[_0x30f8c4(0x41b)]),Object[_0x30f8c4(0x56a)](this['localWebhook'],_0x5b08b7),await this[_0x30f8c4(0x544)][_0x30f8c4(0x6c3)][_0x30f8c4(0x497)](this['instanceName']);}async[a0_0x1d42ab(0x188)](){const _0x4258df=a0_0x1d42ab;return await this[_0x4258df(0x544)]['webhook']['find'](this['instanceName']);}async[a0_0x1d42ab(0x3c4)](_0x13c445,_0x525eb2){const _0x1ad297=a0_0x1d42ab;let _0x5d501c=_0x13c445['replace'](/[\.-]/gm,'_')[_0x1ad297(0x4cc)](),_0x19f887=this[_0x1ad297(0x507)][_0x1ad297(0x561)]&&(0x0,k[_0x1ad297(0x581)])(this[_0x1ad297(0x507)][_0x1ad297(0x62e)])?this[_0x1ad297(0x507)][_0x1ad297(0x62e)]+(this[_0x1ad297(0x507)]['local_map']?this[_0x1ad297(0x51c)][_0x13c445]:''):null,_0x596f55=this[_0x1ad297(0x507)][_0x5d501c],_0x3e7334=ie&&ie['enabled']&&(0x0,k[_0x1ad297(0x581)])(ie[_0x1ad297(0x62e)])?ie['url']+(ie['local_map']?this[_0x1ad297(0x51c)][_0x13c445]:''):null,_0x26c0c8=ie?ie[_0x5d501c]:null;if(_0x596f55&&_0x19f887)try{await se[_0x1ad297(0x47b)][_0x1ad297(0x661)]({'baseURL':_0x19f887})['post']('',{'event':_0x13c445,'instance':this[_0x1ad297(0x225)][_0x1ad297(0x2ce)],'data':_0x525eb2}),this[_0x1ad297(0x701)][_0x1ad297(0x1c0)](_0x1ad297(0x3bb)+_0x13c445+':\x20'+_0x19f887);}catch(_0x2e6357){this[_0x1ad297(0x701)][_0x1ad297(0x241)](this['instanceName']+'\x20('+this[_0x1ad297(0x225)]['wuid']+_0x1ad297(0x1c7)+{'local':c[_0x1ad297(0x2ce)]+'.sendDataWebhook-local','message':_0x2e6357?.[_0x1ad297(0x312)],'hostName':_0x2e6357?.['hostname'],'syscall':_0x2e6357?.['syscall'],'code':_0x2e6357?.['code'],'error':_0x2e6357?.[_0x1ad297(0x13e)],'stack':_0x2e6357?.[_0x1ad297(0x32b)],'name':_0x2e6357?.['name']});}if(_0x26c0c8&&_0x3e7334)try{await se[_0x1ad297(0x47b)][_0x1ad297(0x661)]({'baseURL':_0x3e7334})[_0x1ad297(0x3b2)]('',{'event':_0x13c445,'instance':this[_0x1ad297(0x225)][_0x1ad297(0x2ce)],'data':_0x525eb2}),this['logger'][_0x1ad297(0x1c0)](_0x1ad297(0x410)+_0x13c445+':\x20'+_0x3e7334);}catch(_0x312c72){this[_0x1ad297(0x701)][_0x1ad297(0x241)](this[_0x1ad297(0x41b)]+'\x20('+this[_0x1ad297(0x225)]['wuid']+_0x1ad297(0x1c7)+{'local':c[_0x1ad297(0x2ce)]+_0x1ad297(0x105),'message':_0x312c72?.[_0x1ad297(0x312)],'hostName':_0x312c72?.['hostname'],'syscall':_0x312c72?.[_0x1ad297(0x30f)],'code':_0x312c72?.[_0x1ad297(0x5cc)],'error':_0x312c72?.['errno'],'stack':_0x312c72?.['stack'],'name':_0x312c72?.['name']});}}async[a0_0x1d42ab(0x448)]({qr:_0x28cd15,connection:_0x529c12,lastDisconnect:_0x41b4e7}){const _0x46c861=a0_0x1d42ab;if(_0x28cd15){if(this[_0x46c861(0x225)][_0x46c861(0x6aa)][_0x46c861(0x6ea)]===mo)return this[_0x46c861(0x3c4)]('qrcode.updated',{'message':_0x46c861(0x4f3),'statusCode':y[_0x46c861(0x234)][_0x46c861(0x630)]}),this[_0x46c861(0x242)]={'state':_0x46c861(0x65d),'statusReason':y[_0x46c861(0x234)][_0x46c861(0x5a4)]},this[_0x46c861(0x3c4)](_0x46c861(0x345),{'instance':this[_0x46c861(0x225)]['name'],...this[_0x46c861(0x242)]}),this[_0x46c861(0x3c4)](_0x46c861(0x2ff),{'instance':this[_0x46c861(0x225)][_0x46c861(0x2ce)],'status':_0x46c861(0x6d4)}),this[_0x46c861(0x544)]['auth'][_0x46c861(0x661)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x46c861(0x5aa)]()},this[_0x46c861(0x225)]['name']),this[_0x46c861(0x374)]=!0x0,this[_0x46c861(0x1fd)][_0x46c861(0x2d8)](_0x46c861(0x6a1),this[_0x46c861(0x225)][_0x46c861(0x2ce)]);this[_0x46c861(0x225)][_0x46c861(0x6aa)][_0x46c861(0x6ea)]++;let _0x11a05d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x46c861(0x396),'dark':_0x46c861(0x4ff)}};fr['default'][_0x46c861(0x5c9)](_0x28cd15,_0x11a05d,(_0x3f160b,_0x4bfe93)=>{const _0x50d3d7=_0x46c861;if(_0x3f160b){this[_0x50d3d7(0x701)][_0x50d3d7(0x241)](this[_0x50d3d7(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3f160b instanceof Error?_0x3f160b['message']:JSON[_0x50d3d7(0x427)](_0x3f160b,null,0x2)));return;}this['instance'][_0x50d3d7(0x6aa)][_0x50d3d7(0x3e5)]=_0x4bfe93,this[_0x50d3d7(0x225)]['qrcode'][_0x50d3d7(0x5cc)]=_0x28cd15,this['sendDataWebhook'](_0x50d3d7(0x14f),{'qrcode':{'instance':this['instance'][_0x50d3d7(0x2ce)],'pairingCode':this[_0x50d3d7(0x225)][_0x50d3d7(0x6aa)][_0x50d3d7(0x23c)],'code':_0x28cd15,'base64':_0x4bfe93}});}),this[_0x46c861(0x117)]?this[_0x46c861(0x225)][_0x46c861(0x6aa)][_0x46c861(0x23c)]=await this['client'][_0x46c861(0x4f6)](this[_0x46c861(0x117)]):this['instance'][_0x46c861(0x6aa)]['pairingCode']=null,yr[_0x46c861(0x47b)][_0x46c861(0x562)](_0x28cd15,{'small':!0x0},_0x8d3b1d=>this[_0x46c861(0x701)][_0x46c861(0x1c0)]('\x0a{\x20instance:\x20'+this[_0x46c861(0x225)]['name']+',\x20qrcodeCount:\x20'+this[_0x46c861(0x225)][_0x46c861(0x6aa)]['count']+_0x46c861(0x113)+this['instance'][_0x46c861(0x6aa)][_0x46c861(0x23c)]+'\x20}\x0a'+_0x8d3b1d));}if(_0x529c12&&(this[_0x46c861(0x242)]={'state':_0x529c12,'statusReason':_0x41b4e7?.[_0x46c861(0x241)]?.[_0x46c861(0x48d)]?.[_0x46c861(0x28a)]??0xc8},this[_0x46c861(0x3c4)](_0x46c861(0x345),{'instance':this['instance'][_0x46c861(0x2ce)],...this[_0x46c861(0x242)]})),_0x529c12===_0x46c861(0x621)){if(this['reconnectAttempts']++,this[_0x46c861(0x21d)][_0x46c861(0x59e)](Date[_0x46c861(0x5aa)]()),this[_0x46c861(0x21d)]=this[_0x46c861(0x21d)][_0x46c861(0x5f3)](_0x313430=>Date[_0x46c861(0x5aa)]()-_0x313430<this[_0x46c861(0x333)]),_0x41b4e7['error']?.[_0x46c861(0x48d)]?.[_0x46c861(0x28a)]!==y[_0x46c861(0x234)][_0x46c861(0x304)]&&this[_0x46c861(0x21d)]['length']<=this[_0x46c861(0x2a2)])await this[_0x46c861(0x38c)]();else{this[_0x46c861(0x3c4)](_0x46c861(0x2ff),{'instance':this[_0x46c861(0x225)][_0x46c861(0x2ce)],'status':'removed'}),this[_0x46c861(0x390)]=!0x1,this[_0x46c861(0x544)]['webhook'][_0x46c861(0x463)](this[_0x46c861(0x41b)]),this[_0x46c861(0x544)][_0x46c861(0x588)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x46c861(0x5aa)]()},this['instance'][_0x46c861(0x2ce)]);try{this[_0x46c861(0x701)]['verbose'](this[_0x46c861(0x41b)]+'\x20('+this[_0x46c861(0x225)][_0x46c861(0x43f)]+_0x46c861(0x1e4));let _0x546399=await this['repository'][_0x46c861(0x312)][_0x46c861(0x565)](this['instance']['wuid']);_0x546399[_0x46c861(0x1ab)]?this[_0x46c861(0x701)][_0x46c861(0x429)](this[_0x46c861(0x41b)]+'\x20('+this[_0x46c861(0x225)][_0x46c861(0x43f)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x46c861(0x241)](_0x46c861(0x28f),_0x546399[_0x46c861(0x241)]);}catch(_0x25a4f0){console[_0x46c861(0x241)](_0x46c861(0x124),_0x25a4f0);}this['delayMessage']!==null&&(this[_0x46c861(0x701)][_0x46c861(0x429)](this['instanceName']+'\x20('+this[_0x46c861(0x225)][_0x46c861(0x43f)]+_0x46c861(0x680)),clearInterval(this['delayMessage']),this[_0x46c861(0x2d6)]=null),this[_0x46c861(0x701)][_0x46c861(0x429)](this['instanceName']+'\x20('+this[_0x46c861(0x225)][_0x46c861(0x43f)]+_0x46c861(0x285)),this[_0x46c861(0x480)]=null,this['eventEmitter'][_0x46c861(0x2d8)](_0x46c861(0x6b7),this['instance'][_0x46c861(0x2ce)],_0x46c861(0x618)),this[_0x46c861(0x370)]?.['ws']?.['close'](),this[_0x46c861(0x370)][_0x46c861(0x216)](new Error(_0x46c861(0x397)));}}if(_0x529c12==='open'){this[_0x46c861(0x52f)],this[_0x46c861(0x225)][_0x46c861(0x43f)]=this['client'][_0x46c861(0x166)]['id'][_0x46c861(0x6c2)](/:\d+/,'')[_0x46c861(0x6c2)](_0x46c861(0x62c),''),this[_0x46c861(0x225)][_0x46c861(0x15d)]=(await this[_0x46c861(0x57d)](this[_0x46c861(0x225)][_0x46c861(0x43f)]+_0x46c861(0x62c)))[_0x46c861(0x15d)],this[_0x46c861(0x544)][_0x46c861(0x588)]['create']({'online':!0x0,'owner':this[_0x46c861(0x225)]['wuid'],'lastDisconnect':null},this[_0x46c861(0x225)][_0x46c861(0x2ce)]);let _0x16f9d6=_0x46c861(0x4b0)+this[_0x46c861(0x225)][_0x46c861(0x43f)],_0x2ef638=0x28,_0x324d83=Math['floor']((_0x2ef638-_0x16f9d6[_0x46c861(0x6e2)])/0x2),_0x50668f='\x20'[_0x46c861(0x55e)](_0x324d83),_0x147e54=_0x46c861(0xee),_0x26cc0a=_0x46c861(0x578)+this[_0x46c861(0x225)][_0x46c861(0x2ce)],_0x23cdb7=(''+_0x50668f+_0x16f9d6+_0x50668f)[_0x46c861(0x674)](_0x2ef638,'\x20'),_0x52f279=(''+_0x50668f+_0x147e54+_0x50668f)[_0x46c861(0x674)](_0x2ef638,'\x20'),_0x5cc96b=(''+_0x50668f+_0x26cc0a+_0x50668f)[_0x46c861(0x674)](_0x2ef638,'\x20'),_0x2d775f=Math[_0x46c861(0x1b3)](_0x23cdb7[_0x46c861(0x6e2)],_0x52f279['length'],_0x5cc96b[_0x46c861(0x6e2)]),_0x5a3ea1=_0x23cdb7[_0x46c861(0x674)](_0x2d775f,'\x20'),_0x11a42a=_0x52f279[_0x46c861(0x674)](_0x2d775f,'\x20'),_0x556fda=_0x5cc96b['padEnd'](_0x2d775f,'\x20');this[_0x46c861(0x701)]['info']((_0x46c861(0x323)+''[_0x46c861(0x55e)](_0x2d775f)+_0x46c861(0x1fa)+_0x11a42a+_0x46c861(0x226)+_0x556fda+_0x46c861(0x226)+_0x5a3ea1+_0x46c861(0x705)+''[_0x46c861(0x55e)](_0x2d775f)+'')[_0x46c861(0x6c2)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x46c861(0x390)]=!0x0;}}[a0_0x1d42ab(0x52f)](){const _0x5ec43c=a0_0x1d42ab;this[_0x5ec43c(0x64d)]=0x0,this[_0x5ec43c(0x21d)]=[];}async['getMessage'](_0x3e9fae,_0x5edaf7=!0x1){const _0x4ebf39=a0_0x1d42ab;try{let _0x578ce2=await this[_0x4ebf39(0x544)][_0x4ebf39(0x312)]['find']({'where':{'_id':_0x3e9fae['id']}},this['instance'][_0x4ebf39(0x43f)]);return _0x5edaf7?_0x578ce2[0x0]:_0x578ce2[0x0][_0x4ebf39(0x312)];}catch{return{'conversation':''};}}[a0_0x1d42ab(0x125)](){const _0x5b1728=a0_0x1d42ab;let _0x3ac9d5=this['configService'][_0x5b1728(0x406)](_0x5b1728(0x48f)),_0x21131f=this['configService']['get'](_0x5b1728(0x54a));_0x3ac9d5?.[_0x5b1728(0x120)]&&!_0x21131f[_0x5b1728(0x15a)]&&setInterval(()=>{const _0x13ee8a=_0x5b1728;try{for(let [_0x2dd0f8,_0x25ca49]of Object[_0x13ee8a(0x4ae)](_0x3ac9d5))_0x25ca49===!0x0&&(0x0,Dt[_0x13ee8a(0x5ec)])(_0x13ee8a(0x32d)+(0x0,U[_0x13ee8a(0x455)])(this['storePath'],_0x2dd0f8['toLowerCase'](),this[_0x13ee8a(0x225)][_0x13ee8a(0x43f)])+_0x13ee8a(0x450));}catch{}},(_0x3ac9d5?.[_0x5b1728(0x120)]??0xe10)*0x3e8);}async[a0_0x1d42ab(0x3f0)](){const _0x530603=a0_0x1d42ab;let _0xbddea6=this[_0x530603(0x566)][_0x530603(0x406)](_0x530603(0x54a)),_0x40bf8a=this['configService'][_0x530603(0x406)](_0x530603(0x336));return _0x40bf8a?.[_0x530603(0x15a)]?await ys(_0x40bf8a,this[_0x530603(0x225)]['name']):_0xbddea6[_0x530603(0x15a)]?await fs(this[_0x530603(0x225)]['name']):await(0x0,y['useMultiFileAuthState'])((0x0,U[_0x530603(0x455)])(me,this['instance']['name']));}async[a0_0x1d42ab(0x311)](){const _0x475f17=a0_0x1d42ab;let _0x4acb66=()=>Math[_0x475f17(0x633)](Math['random']()*0x2711)+0x7d0,_0x7fb277=async()=>{const _0x13c6d3=_0x475f17;if(!this['isConnected']){this[_0x13c6d3(0x701)][_0x13c6d3(0x429)](_0x13c6d3(0x470)),this[_0x13c6d3(0x36f)]=!0x1;return;}if(this[_0x13c6d3(0x225)]['wuid']&&this[_0x13c6d3(0x480)]&&this[_0x13c6d3(0x2d6)]!==null&&this['delayMessage']!==void 0x0){let _0x52c098=Math[_0x13c6d3(0x6d2)](this[_0x13c6d3(0x2d6)]/0xea60);this[_0x13c6d3(0x701)][_0x13c6d3(0x429)](this['instanceName']+'\x20('+this[_0x13c6d3(0x225)][_0x13c6d3(0x43f)]+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x52c098+_0x13c6d3(0x481)),this['isRunning']=!0x1;return;}else this['instance'][_0x13c6d3(0x43f)]&&(this[_0x13c6d3(0x701)][_0x13c6d3(0x429)](this[_0x13c6d3(0x41b)]+'\x20('+this[_0x13c6d3(0x225)][_0x13c6d3(0x43f)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x13c6d3(0x701)][_0x13c6d3(0x429)](this[_0x13c6d3(0x41b)]+'\x20('+this[_0x13c6d3(0x225)]['wuid']+_0x13c6d3(0x5f7)),this[_0x13c6d3(0x480)]||await this[_0x13c6d3(0x367)](),(this[_0x13c6d3(0x2d6)]===null||this[_0x13c6d3(0x2d6)]===void 0x0)&&await this[_0x13c6d3(0x34e)]());if(this[_0x13c6d3(0x36f)]){let _0x2d5d6d=_0x4acb66();this[_0x13c6d3(0x701)]['verbose'](this[_0x13c6d3(0x41b)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2d5d6d/0x3e8+_0x13c6d3(0x2b8)),setTimeout(_0x7fb277,_0x2d5d6d);}};if(this[_0x475f17(0x36f)])return;this[_0x475f17(0x36f)]=!0x0;let _0x516f8f=_0x4acb66();setTimeout(_0x7fb277,_0x516f8f);}async['testProxy'](_0x545408,_0x935893,_0x5d32d3,_0xc06be4,_0x221023){const _0x48ff13=a0_0x1d42ab;this[_0x48ff13(0x701)]['verbose'](_0x48ff13(0x67c));try{let _0x5c963a={'host':_0x545408,'port':parseInt(_0x935893),'protocol':_0x5d32d3};_0xc06be4&&_0x221023&&(_0x5c963a={..._0x5c963a,'auth':{'username':_0xc06be4,'password':_0x221023}});let _0x46244b=[_0x48ff13(0x44c),_0x48ff13(0x355),_0x48ff13(0x605)];for(let _0x48f7dc of _0x46244b)try{let _0x513d93=await se[_0x48ff13(0x47b)]['get'](_0x48f7dc,{'proxy':_0x5c963a}),_0x5d9c9a;return _0x48f7dc['includes'](_0x48ff13(0x496))||_0x48f7dc['includes'](_0x48ff13(0x195))?_0x5d9c9a=_0x513d93[_0x48ff13(0x63a)]['ip']:_0x48f7dc[_0x48ff13(0x2c5)](_0x48ff13(0x4dd))&&(_0x5d9c9a=_0x513d93[_0x48ff13(0x63a)]['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x48ff13(0x701)][_0x48ff13(0x429)](_0x48ff13(0x255)+_0x48f7dc+':\x20'+_0x5d9c9a),!0x0;}catch(_0x36849f){this[_0x48ff13(0x701)][_0x48ff13(0x241)](_0x48ff13(0x1dd)+_0x48f7dc+_0x48ff13(0x315)+_0x36849f);}return!0x1;}catch(_0x278281){return this[_0x48ff13(0x701)]['error'](_0x48ff13(0x116)+_0x278281),_0x278281[_0x48ff13(0x489)]?(this[_0x48ff13(0x701)][_0x48ff13(0x241)](_0x48ff13(0x28b)+_0x278281[_0x48ff13(0x489)][_0x48ff13(0x63a)]),this['logger'][_0x48ff13(0x241)](_0x48ff13(0x5b6)+_0x278281['response'][_0x48ff13(0x3f1)]),this['logger']['error'](_0x48ff13(0x1a4)+_0x278281[_0x48ff13(0x489)][_0x48ff13(0x60a)])):_0x278281[_0x48ff13(0x426)]?this[_0x48ff13(0x701)][_0x48ff13(0x241)](_0x48ff13(0x62b)+_0x278281[_0x48ff13(0x426)]):this[_0x48ff13(0x701)][_0x48ff13(0x241)]('Error\x20message:'+_0x278281[_0x48ff13(0x312)]),!0x1;}}async[a0_0x1d42ab(0x2e0)](_0x4a7667){const _0x581022=a0_0x1d42ab;if(console[_0x581022(0x1c0)](_0x581022(0x2e0)),await this['testProxy'](_0x4a7667[_0x581022(0x42d)],_0x4a7667[_0x581022(0x501)],_0x4a7667[_0x581022(0x4a9)],_0x4a7667[_0x581022(0x50e)],_0x4a7667[_0x581022(0x29a)])){console[_0x581022(0x1c0)](_0x581022(0x128));let _0x301c3f=_0x4a7667['protocol']+_0x581022(0x3b3)+_0x4a7667[_0x581022(0x42d)]+':'+_0x4a7667[_0x581022(0x501)];return _0x4a7667[_0x581022(0x50e)]&&_0x4a7667[_0x581022(0x29a)]&&(_0x301c3f=_0x4a7667[_0x581022(0x50e)]+':'+_0x4a7667[_0x581022(0x29a)]+'@'+_0x301c3f),this[_0x581022(0x544)][_0x581022(0x588)]['create']({'proxy':_0x301c3f},this[_0x581022(0x225)][_0x581022(0x2ce)]),{'agent':new wr[(_0x581022(0x151))](_0x301c3f)};}return null;}[a0_0x1d42ab(0x2eb)](_0x390c37){const _0x1b950d=a0_0x1d42ab;let _0x1b29c9=_0x390c37[_0x1b950d(0x4e8)](':');if(_0x1b29c9[_0x1b950d(0x6e2)]!==0x4)throw new Error('Formato\x20invlido\x20de\x20proxy');return{'host':_0x1b29c9[0x0],'port':_0x1b29c9[0x1],'username':_0x1b29c9[0x2],'password':_0x1b29c9[0x3],'protocol':_0x1b950d(0x2e7)};}async[a0_0x1d42ab(0x38c)](_0x49d6bf,_0x2382bb=!0x0){const _0x11b141=a0_0x1d42ab;try{let _0x303959={},_0x5357ca=0x0;if(Sr&&_0x2382bb){let _0x68634a;try{let _0x1edfcf=(await this['repository'][_0x11b141(0x588)][_0x11b141(0x497)](this[_0x11b141(0x41b)]))['proxy'];for(_0x1edfcf&&(_0x68634a=this[_0x11b141(0x2eb)](_0x1edfcf)),_0x1edfcf&&bs(_0x68634a)&&(_0x303959=await this[_0x11b141(0x2e0)](_0x68634a),_0x303959&&_0x5357ca++);!_0x303959&&_0x5357ca<0x3;){let _0x127f6=dr();if(_0x127f6){if(_0x68634a=this['createProxyConfig'](_0x127f6['host']+':'+_0x127f6[_0x11b141(0x501)]+':'+_0x127f6[_0x11b141(0x50e)]+':'+_0x127f6['password']),bs(_0x68634a)){if(_0x303959=await this['tryProxy'](_0x68634a),_0x303959)break;}else this[_0x11b141(0x701)][_0x11b141(0x241)](_0x11b141(0x2d1));}_0x5357ca++;}}catch(_0x255e38){this[_0x11b141(0x701)]['error'](_0x11b141(0x5c5)+_0x255e38),_0x303959={};}!_0x303959&&_0x5357ca>=0x3&&(this[_0x11b141(0x701)][_0x11b141(0x3b6)](_0x11b141(0x5e5)),_0x303959={});}this['loadWebhook'](),this[_0x11b141(0x225)][_0x11b141(0x687)]=await this[_0x11b141(0x3f0)]();let {version:_0x22b46e}=await(0x0,y['fetchLatestBaileysVersion'])(),_0x35cc6a=[Cs,br,(0x0,Ss[_0x11b141(0x25c)])()];console[_0x11b141(0x1c0)]('options'),console['log'](_0x303959);let _0x562e58={..._0x303959,'auth':{'creds':this['instance'][_0x11b141(0x687)][_0x11b141(0x2f8)][_0x11b141(0x2e8)],'keys':(0x0,y[_0x11b141(0x3d9)])(this[_0x11b141(0x225)]['authState'][_0x11b141(0x2f8)][_0x11b141(0x6bc)],(0x0,At[_0x11b141(0x47b)])({'level':'error'}))},'logger':(0x0,At[_0x11b141(0x47b)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x49d6bf?[_0x11b141(0x177),Cs,(0x0,Ss[_0x11b141(0x25c)])()]:_0x35cc6a,'version':_0x22b46e,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x11b141(0x431)],'getMessage':async _0x426878=>await this[_0x11b141(0x53f)](_0x426878),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xc7a5f1=>(_0xc7a5f1[_0x11b141(0x18a)]?.[_0x11b141(0x601)]==y['proto'][_0x11b141(0x4a8)][_0x11b141(0x387)]['ListType'][_0x11b141(0x6ad)]&&(_0xc7a5f1=JSON['parse'](JSON[_0x11b141(0x427)](_0xc7a5f1)),_0xc7a5f1['listMessage']['listType']=y[_0x11b141(0x52a)][_0x11b141(0x4a8)]['ListMessage'][_0x11b141(0x4ca)][_0x11b141(0x340)]),_0xc7a5f1)};return this[_0x11b141(0x374)]=!0x1,this[_0x11b141(0x370)]=(0x0,y['default'])(_0x562e58),this[_0x11b141(0x709)](),this[_0x11b141(0x117)]=_0x49d6bf,this[_0x11b141(0x370)];}catch(_0x4c707d){throw this[_0x11b141(0x701)][_0x11b141(0x241)](this[_0x11b141(0x41b)]+'\x20('+this[_0x11b141(0x225)][_0x11b141(0x43f)]+_0x11b141(0x1c7)+(_0x4c707d instanceof Error?_0x4c707d[_0x11b141(0x312)]:JSON[_0x11b141(0x427)](_0x4c707d,null,0x2))),new O(_0x4c707d?.[_0x11b141(0x611)]());}}[a0_0x1d42ab(0x709)](){const _0x3a5e6b=a0_0x1d42ab;this[_0x3a5e6b(0x370)]['ev'][_0x3a5e6b(0x3e4)](_0x3275da=>{const _0x5c5217=_0x3a5e6b;if(!this['endSession']){let _0x59abb8=this[_0x5c5217(0x566)]['get'](_0x5c5217(0x54a));if(_0x3275da[_0x5c5217(0x534)]){let _0x2f08cc=_0x3275da[_0x5c5217(0x534)];this[_0x5c5217(0x3a0)][_0x5c5217(0x534)](_0x2f08cc);}if(_0x3275da['labels.association']){let _0x197323=_0x3275da[_0x5c5217(0x31b)];this[_0x5c5217(0x3a0)][_0x5c5217(0x31b)](_0x197323);}if(_0x3275da[_0x5c5217(0x345)]&&this[_0x5c5217(0x448)](_0x3275da['connection.update']),_0x3275da[_0x5c5217(0x6d6)]&&this['instance'][_0x5c5217(0x687)]['saveCreds'](),_0x3275da[_0x5c5217(0x163)]){let _0x58b838=_0x3275da[_0x5c5217(0x163)];this['messageHandle'][_0x5c5217(0x163)](_0x58b838,_0x59abb8);}if(_0x3275da[_0x5c5217(0x464)]){let _0x3fbbc4=_0x3275da[_0x5c5217(0x464)];this[_0x5c5217(0x3a0)]['messages.upsert'](_0x3fbbc4,_0x59abb8);}if(_0x3275da[_0x5c5217(0x483)]){let _0x3e483a=_0x3275da[_0x5c5217(0x483)];_0x3e483a[_0x5c5217(0x371)](_0x5b25d0=>{const _0x33be10=_0x5c5217;if(gr[_0x5b25d0['key']['id']]){this[_0x33be10(0x370)]['ev'][_0x33be10(0x2d8)]('messages.upsert',{'messages':[_0x5b25d0],'type':_0x33be10(0xe3)}),delete gr[_0x5b25d0[_0x33be10(0x362)]['id']];return;}}),this[_0x5c5217(0x3a0)]['messages.update'](_0x3e483a,_0x59abb8);}if(_0x3275da['presence.update']){let _0x202c07=_0x3275da[_0x5c5217(0x657)];if(this['localWebhook']?.[_0x5c5217(0x554)]&&_0x202c07['id'][_0x5c5217(0x2c5)]('@g.us'))return;this[_0x5c5217(0x3c4)](_0x5c5217(0x657),_0x202c07);}if(!this[_0x5c5217(0x507)]?.['groups_ignore']){if(_0x3275da[_0x5c5217(0x34a)]){let _0x2b9f51=_0x3275da['groups.upsert'];this[_0x5c5217(0x6b1)][_0x5c5217(0x34a)](_0x2b9f51);}if(_0x3275da[_0x5c5217(0x658)]){let _0x1ce7ff=_0x3275da[_0x5c5217(0x658)];this[_0x5c5217(0x6b1)][_0x5c5217(0x658)](_0x1ce7ff);}if(_0x3275da[_0x5c5217(0x26c)]){let _0x4522fe=_0x3275da['group-participants.update'];this[_0x5c5217(0x6b1)][_0x5c5217(0x26c)](_0x4522fe);}}if(_0x3275da['chats.upsert']){let _0x527329=_0x3275da[_0x5c5217(0x587)];this['chatHandle'][_0x5c5217(0x587)](_0x527329,_0x59abb8);}if(_0x3275da[_0x5c5217(0x13c)]){let _0x10e2bf=_0x3275da[_0x5c5217(0x13c)];this[_0x5c5217(0x6c7)][_0x5c5217(0x13c)](_0x10e2bf,_0x59abb8);}if(_0x3275da[_0x5c5217(0x3f6)]){let _0x326991=_0x3275da[_0x5c5217(0x3f6)];this[_0x5c5217(0x6c7)][_0x5c5217(0x3f6)](_0x326991);}if(_0x3275da['contacts.upsert']){let _0x390470=_0x3275da['contacts.upsert'];this['contactHandle']['contacts.upsert'](_0x390470,_0x59abb8);}if(_0x3275da[_0x5c5217(0x109)]){let _0x206ee1=_0x3275da[_0x5c5217(0x109)];this[_0x5c5217(0x703)]['contacts.update'](_0x206ee1,_0x59abb8);}}});}[a0_0x1d42ab(0x19e)](_0x30f135){const _0x1d9890=a0_0x1d42ab;let _0x3e1a50=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1d9890(0x218)](_0x30f135);if(_0x3e1a50&&_0x3e1a50[0x1]==='55'){let _0x228620=_0x3e1a50[0x2],_0x2d1901=_0x3e1a50[0x3],_0x565e3b=_0x3e1a50[0x4];if(_0x228620>='31'&&_0x2d1901==='9')return _0x3e1a50[0x1]+_0x228620+_0x565e3b;}return _0x30f135;}[a0_0x1d42ab(0x219)](_0x48c664){const _0x583c7b=a0_0x1d42ab;return _0x48c664[_0x583c7b(0x2c5)]('@g.us')||_0x48c664[_0x583c7b(0x2c5)](_0x583c7b(0x62c))||_0x48c664['includes'](_0x583c7b(0x349))?_0x48c664:(_0x48c664=_0x48c664?.[_0x583c7b(0x6c2)](/\s/g,'')[_0x583c7b(0x6c2)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0x583c7b(0x4e8)](/\:/)[0x0][_0x583c7b(0x4e8)]('@')[0x0],_0x48c664[_0x583c7b(0x6e2)]>=0x12?(_0x48c664=_0x48c664[_0x583c7b(0x6c2)](/[^\d-]/g,''),_0x48c664+_0x583c7b(0x238)):(_0x48c664=_0x48c664['replace'](/\D/g,''),this[_0x583c7b(0x19e)](_0x48c664)+'@s.whatsapp.net'));}async[a0_0x1d42ab(0x183)](_0x39d18e){const _0x3e6930=a0_0x1d42ab;let _0x296872=this[_0x3e6930(0x219)](_0x39d18e[_0x3e6930(0x5c7)]),_0x12dba5=(await this['whatsappNumber']({'numbers':[_0x296872]}))[0x0];if(!_0x12dba5['exists']&&!(0x0,y[_0x3e6930(0x3b8)])(_0x12dba5[_0x3e6930(0x671)]))throw new m(_0x12dba5);let _0x53ecdf=(0x0,y[_0x3e6930(0x3b8)])(_0x296872)?_0x296872:_0x12dba5[_0x3e6930(0x671)];if((0x0,y[_0x3e6930(0x3b8)])(_0x53ecdf))try{await this[_0x3e6930(0x370)]['groupMetadata'](_0x53ecdf);}catch{throw new F(_0x3e6930(0x637));}try{return await this[_0x3e6930(0x370)]['presenceSubscribe'](_0x53ecdf),await this[_0x3e6930(0x370)][_0x3e6930(0x6b3)](_0x39d18e['presence'],_0x296872),{'status':0xc8,'presence':_0x39d18e[_0x3e6930(0x43b)]};}catch(_0x50aa00){throw new m(_0x50aa00[_0x3e6930(0x611)]());}}async[a0_0x1d42ab(0x57d)](_0xc8bb7f){const _0x2fa903=a0_0x1d42ab;let _0x5529f0=this[_0x2fa903(0x219)](_0xc8bb7f);try{return{'wuid':_0x5529f0,'profilePictureUrl':await this[_0x2fa903(0x370)][_0x2fa903(0x15d)](_0x5529f0,_0x2fa903(0x41c))};}catch{return{'wuid':_0x5529f0,'profilePictureUrl':null};}}async[a0_0x1d42ab(0x659)](_0x3ec096,_0x5158da,_0x4314fb){const _0x64fea0=a0_0x1d42ab;_0x4314fb||(_0x4314fb={});let _0x42d8f9=(await this[_0x64fea0(0x567)]({'numbers':[_0x3ec096]}))[0x0];if(!_0x42d8f9['exists']&&!(0x0,y[_0x64fea0(0x3b8)])(_0x42d8f9[_0x64fea0(0x671)])&&!_0x42d8f9['jid']['includes']('@broadcast'))throw new m(_0x42d8f9);let _0x1d4fff=_0x42d8f9[_0x64fea0(0x671)];try{_0x4314fb?.[_0x64fea0(0x1a7)]&&(await this[_0x64fea0(0x370)][_0x64fea0(0x5a7)](_0x1d4fff),await this[_0x64fea0(0x370)][_0x64fea0(0x6b3)](_0x4314fb?.[_0x64fea0(0x43b)]??_0x64fea0(0x363),_0x1d4fff),await(0x0,y[_0x64fea0(0x1a7)])(_0x4314fb[_0x64fea0(0x1a7)]),await this[_0x64fea0(0x370)][_0x64fea0(0x6b3)](_0x64fea0(0x1b7),_0x1d4fff));let _0x14e449=_0x4314fb?.[_0x64fea0(0x34b)]!=!0x1?void 0x0:!0x1,_0x3d8f90;if(_0x4314fb?.[_0x64fea0(0x1a3)]){let _0x1a472e=_0x4314fb?.[_0x64fea0(0x1a3)],_0xf80270=_0x1a472e?.[_0x64fea0(0x312)]?_0x1a472e:await this[_0x64fea0(0x53f)](_0x1a472e['key'],!0x0);if(!_0xf80270)throw _0x64fea0(0x2e4);_0x3d8f90=_0xf80270;}let _0x5d4660;if((0x0,y['isJidGroup'])(_0x1d4fff))try{let _0x1b9e68=await this[_0x64fea0(0x370)][_0x64fea0(0x49a)](_0x1d4fff);if(!_0x1b9e68)throw new F(_0x64fea0(0x637));_0x4314fb?.[_0x64fea0(0x46d)]&&(_0x4314fb[_0x64fea0(0x46d)]?.[_0x64fea0(0x51e)]?_0x5d4660=_0x1b9e68[_0x64fea0(0x247)]['map'](_0x4597d7=>_0x4597d7['id']):_0x4314fb['mentions']?.[_0x64fea0(0x29b)]?.[_0x64fea0(0x6e2)]&&(_0x5d4660=_0x4314fb['mentions'][_0x64fea0(0x29b)][_0x64fea0(0x6e4)](_0x127dd9=>{const _0x4cad30=_0x64fea0;let _0xf15327=this[_0x4cad30(0x219)](_0x127dd9);return(0x0,y[_0x4cad30(0x3b8)])(_0xf15327)?null:_0xf15327;})));}catch{throw new F(_0x64fea0(0x637));}let _0x5e113f=await((async()=>{const _0x7ceeba=_0x64fea0;let _0x16d6a8={'quoted':_0x3d8f90};if(!_0x5158da[_0x7ceeba(0x5bb)]&&!_0x5158da[_0x7ceeba(0x185)]&&!_0x5158da[_0x7ceeba(0x63f)]&&!_0x5158da[_0x7ceeba(0x473)]&&_0x1d4fff!=='status@broadcast'&&!_0x5158da[_0x7ceeba(0x5bb)])return await this[_0x7ceeba(0x370)][_0x7ceeba(0x4eb)](_0x1d4fff,{'forward':{'key':{'remoteJid':this[_0x7ceeba(0x225)][_0x7ceeba(0x43f)],'fromMe':!0x0},'message':_0x5158da},'mentions':_0x5d4660},_0x16d6a8);if(_0x5158da[_0x7ceeba(0x473)]){let _0x19581d=_0x5158da['conversation'];return _0x4314fb?.[_0x7ceeba(0x27b)]&&(_0x19581d=await this['replaceVariablesChat'](_0x19581d,_0x1d4fff)),await this['client'][_0x7ceeba(0x4eb)](_0x1d4fff,{'text':_0x19581d,'mentions':_0x5d4660,'linkPreview':_0x14e449},_0x16d6a8);}return _0x1d4fff==='status@broadcast'?await this['client'][_0x7ceeba(0x4eb)](_0x1d4fff,_0x5158da[_0x7ceeba(0x3f1)]['content'],{'backgroundColor':_0x5158da[_0x7ceeba(0x3f1)][_0x7ceeba(0x348)][_0x7ceeba(0x26d)],'font':_0x5158da[_0x7ceeba(0x3f1)]['option']['font'],'statusJidList':_0x5158da[_0x7ceeba(0x3f1)][_0x7ceeba(0x348)][_0x7ceeba(0x548)]}):await this[_0x7ceeba(0x370)]['sendMessage'](_0x1d4fff,_0x5158da,_0x16d6a8);})()),{message_normalized:_0x324110}=this[_0x64fea0(0x545)](_0x5e113f['message'],$(_0x5e113f['message']),null),_0x5879e3={'_id':_0x5e113f[_0x64fea0(0x362)]['id'],'key':_0x5e113f[_0x64fea0(0x362)],'pushName':_0x5e113f[_0x64fea0(0x466)],'message':{..._0x5e113f['message']},'messageType':$(_0x5e113f[_0x64fea0(0x312)]),'message_normalized':{'key':_0x5e113f[_0x64fea0(0x362)],'pushName':_0x5e113f['pushName'],'messageTimestamp':_0x5e113f[_0x64fea0(0x549)]&&_0x5e113f[_0x64fea0(0x549)][_0x64fea0(0x611)]()[_0x64fea0(0x6e2)]<0xd?_0x5e113f[_0x64fea0(0x549)]*0x3e8:_0x5e113f[_0x64fea0(0x549)]||null,'source':(0x0,y['getDevice'])(_0x5e113f[_0x64fea0(0x362)]['id']),..._0x324110},'messageTimestamp':_0x5e113f[_0x64fea0(0x549)]&&_0x5e113f[_0x64fea0(0x549)]['toString']()[_0x64fea0(0x6e2)]<0xd?_0x5e113f['messageTimestamp']*0x3e8:_0x5e113f[_0x64fea0(0x549)]||null,'owner':this[_0x64fea0(0x225)][_0x64fea0(0x43f)],'source':(0x0,y[_0x64fea0(0x2f9)])(_0x5e113f[_0x64fea0(0x362)]['id'])};return this[_0x64fea0(0x701)]['log'](_0x5879e3),this['sendDataWebhook'](_0x64fea0(0x39b),_0x5879e3),q(this['instanceName'],'messages',{'message':_0x5879e3}),this[_0x64fea0(0x46b)](this[_0x64fea0(0x566)][_0x64fea0(0x406)]('DATABASE'),_0x5879e3,'SEND_MESSAGE'),await this[_0x64fea0(0x544)][_0x64fea0(0x312)][_0x64fea0(0x702)]([_0x5879e3],this[_0x64fea0(0x225)][_0x64fea0(0x43f)]),_0x5e113f;}catch(_0x1d25e5){throw this['logger']['error'](this[_0x64fea0(0x41b)]+'\x20('+this[_0x64fea0(0x225)][_0x64fea0(0x43f)]+_0x64fea0(0x1c7)+_0x1d25e5['toString']()),new m(_0x1d25e5['toString']());}}get['connectionStatus'](){return this['stateConnection'];}async['textMessage'](_0x3ea9ff){const _0x3fd02d=a0_0x1d42ab;let _0x4add26=pr,_0x6bd58b=He;return _0x6bd58b&&this[_0x3fd02d(0x41b)]['toLowerCase']()['includes'](_0x6bd58b[_0x3fd02d(0x4c0)]())&&(_0x3ea9ff[_0x3fd02d(0x3bc)]['text']+='\x0a\x0a'+_0x4add26),await this[_0x3fd02d(0x659)](_0x3ea9ff[_0x3fd02d(0x5c7)],{'conversation':_0x3ea9ff[_0x3fd02d(0x3bc)][_0x3fd02d(0x5a0)]},_0x3ea9ff?.[_0x3fd02d(0x3fb)]);}async[a0_0x1d42ab(0x411)](_0x1866d7){const _0xe1d04e=a0_0x1d42ab;if(!_0x1866d7['type'])throw new m('Type\x20is\x20required');if(!_0x1866d7[_0xe1d04e(0x147)])throw new m(_0xe1d04e(0x3c9));if(_0x1866d7[_0xe1d04e(0x103)]){let _0x3792ed=await this[_0xe1d04e(0x544)][_0xe1d04e(0x1db)]['find']({'where':{}},this[_0xe1d04e(0x225)]['wuid']);if(!_0x3792ed[_0xe1d04e(0x6e2)])throw new m('Contacts\x20not\x20found');_0x1866d7['statusJidList']=_0x3792ed[_0xe1d04e(0x5f3)](_0x47bbd7=>_0x47bbd7['pushName'])['map'](_0x3ea815=>_0x3ea815[_0xe1d04e(0x650)]);}if(!_0x1866d7[_0xe1d04e(0x548)]?.[_0xe1d04e(0x6e2)]&&!_0x1866d7[_0xe1d04e(0x103)])throw new m(_0xe1d04e(0x6fe));if(_0x1866d7[_0xe1d04e(0x48e)]===_0xe1d04e(0x5a0)){if(!_0x1866d7[_0xe1d04e(0x26d)])throw new m('Background\x20color\x20is\x20required');if(!_0x1866d7[_0xe1d04e(0x2f0)])throw new m(_0xe1d04e(0x63b));return{'content':{'text':_0x1866d7[_0xe1d04e(0x147)]},'option':{'backgroundColor':_0x1866d7['backgroundColor'],'font':_0x1866d7[_0xe1d04e(0x2f0)],'statusJidList':_0x1866d7[_0xe1d04e(0x548)]}};}if(_0x1866d7['type']===_0xe1d04e(0x41c))return{'content':{'image':{'url':_0x1866d7['content']},'caption':_0x1866d7[_0xe1d04e(0x3fd)]},'option':{'statusJidList':_0x1866d7[_0xe1d04e(0x548)]}};if(_0x1866d7[_0xe1d04e(0x48e)]===_0xe1d04e(0x504))return{'content':{'video':{'url':_0x1866d7[_0xe1d04e(0x147)]},'caption':_0x1866d7[_0xe1d04e(0x3fd)]},'option':{'statusJidList':_0x1866d7['statusJidList']}};if(_0x1866d7[_0xe1d04e(0x48e)]===_0xe1d04e(0x5bb)){this['logger'][_0xe1d04e(0x429)]('Type\x20defined\x20as\x20audio'),this[_0xe1d04e(0x701)]['verbose'](_0xe1d04e(0x309));let _0x24f11c=await this[_0xe1d04e(0x570)](_0x1866d7[_0xe1d04e(0x147)]);if(typeof _0x24f11c=='string'){this[_0xe1d04e(0x701)][_0xe1d04e(0x429)](_0xe1d04e(0x25d));let _0x2d5007=L['readFileSync'](_0x24f11c)[_0xe1d04e(0x611)](_0xe1d04e(0x3e5)),_0x4cc953={'content':{'audio':Buffer[_0xe1d04e(0x221)](_0x2d5007,_0xe1d04e(0x3e5)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x1866d7[_0xe1d04e(0x548)]}};return L[_0xe1d04e(0x533)](_0x24f11c),_0x4cc953;}else throw new O(_0x24f11c);}throw new m('Type\x20not\x20found');}async[a0_0x1d42ab(0x2a5)](_0x11e47d){const _0x209028=a0_0x1d42ab;return await this[_0x209028(0x659)](_0x209028(0x441),{'status':await this[_0x209028(0x411)](_0x11e47d[_0x209028(0x2a5)])});}async[a0_0x1d42ab(0x36e)](_0x59a89b){const _0x93c124=a0_0x1d42ab;try{let _0x1ae435=await(0x0,y[_0x93c124(0x6bb)])({[_0x59a89b['mediatype']]:(0x0,k['isURL'])(_0x59a89b[_0x93c124(0x17b)])?{'url':_0x59a89b['media']}:Buffer[_0x93c124(0x221)](_0x59a89b['media'],'base64')},{'upload':this[_0x93c124(0x370)]['waUploadToServer']}),_0x3cd8d7=_0x59a89b[_0x93c124(0x40d)]+_0x93c124(0x4a8);if(_0x59a89b['mediatype']===_0x93c124(0x2dd)&&!_0x59a89b['fileName']){let _0x2ee8c5=new RegExp(/.*\/(.+?)\./)['exec'](_0x59a89b[_0x93c124(0x17b)]);_0x59a89b[_0x93c124(0x6a3)]=_0x2ee8c5?_0x2ee8c5[0x1]:null;}let _0x1f0e2d=(0x0,k[_0x93c124(0x581)])(_0x59a89b[_0x93c124(0x17b)])?_0x59a89b[_0x93c124(0x17b)]['split']('?')[0x0]:_0x59a89b[_0x93c124(0x17b)];this[_0x93c124(0x701)]['verbose'](_0x93c124(0x67a)+_0x1f0e2d);let _0x382da6;(0x0,k[_0x93c124(0x581)])(_0x59a89b[_0x93c124(0x17b)])?_0x382da6=(0x0,Ot[_0x93c124(0xfb)])(_0x1f0e2d):_0x59a89b[_0x93c124(0x6a3)]&&_0x59a89b[_0x93c124(0x6a3)][_0x93c124(0x2c5)]('.')?_0x382da6=(0x0,Ot[_0x93c124(0xfb)])(_0x59a89b[_0x93c124(0x6a3)]):_0x382da6=(0x0,Ot[_0x93c124(0xfb)])(_0x59a89b[_0x93c124(0x17b)]);let _0x1a2e64=pr,_0x1ed9b3=He;return _0x1ed9b3&&this[_0x93c124(0x41b)]['toLowerCase']()['includes'](_0x1ed9b3[_0x93c124(0x4c0)]())&&(_0x59a89b[_0x93c124(0x3fd)]+='\x0a\x0a'+_0x1a2e64),_0x1ae435[_0x3cd8d7][_0x93c124(0x3fd)]=_0x59a89b?.[_0x93c124(0x3fd)],_0x1ae435[_0x3cd8d7][_0x93c124(0x582)]=_0x382da6,_0x1ae435[_0x3cd8d7][_0x93c124(0x6a3)]=_0x59a89b[_0x93c124(0x6a3)],_0x59a89b[_0x93c124(0x40d)]===_0x93c124(0x504)&&(_0x1ae435[_0x3cd8d7][_0x93c124(0x140)]=Uint8Array['from']((0x0,ve[_0x93c124(0x101)])((0x0,U['join'])(process[_0x93c124(0x3f9)](),_0x93c124(0x1c9)))),_0x1ae435[_0x3cd8d7][_0x93c124(0xc2)]=!0x1),(0x0,y[_0x93c124(0x522)])('',{[_0x3cd8d7]:{..._0x1ae435[_0x3cd8d7]}},{'userJid':this[_0x93c124(0x225)][_0x93c124(0x43f)]});}catch(_0x32425e){throw this[_0x93c124(0x701)][_0x93c124(0x241)](this[_0x93c124(0x41b)]+'\x20('+this[_0x93c124(0x225)][_0x93c124(0x43f)]+_0x93c124(0x1c7)+(_0x32425e instanceof Error?_0x32425e[_0x93c124(0x312)]:JSON['stringify'](_0x32425e,null,0x2))),new O(_0x32425e?.[_0x93c124(0x611)]()||_0x32425e);}}async[a0_0x1d42ab(0x433)](_0x3e2775){const _0x3dc4b4=a0_0x1d42ab;let _0x1d9cef=await this['prepareMediaMessage'](_0x3e2775[_0x3dc4b4(0x433)]);return await this[_0x3dc4b4(0x659)](_0x3e2775['number'],{..._0x1d9cef[_0x3dc4b4(0x312)]},_0x3e2775?.['options']);}async['convertToWebP'](_0x15a5a6,_0x17d37d){const _0xe18f01=a0_0x1d42ab;try{this[_0xe18f01(0x701)]['verbose'](_0xe18f01(0x13b));let _0x3b4cb3,_0x1d60c7=_0x17d37d+'-'+new Date()[_0xe18f01(0x27a)]();this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x693)+_0x1d60c7);let _0x337985=''+(0x0,U[_0xe18f01(0x455)])(this[_0xe18f01(0x660)],_0x1d60c7+'.webp');if(this['logger'][_0xe18f01(0x429)](_0xe18f01(0x11b)+_0x337985),(0x0,k[_0xe18f01(0x41e)])(_0x15a5a6)){this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x31f));let _0x51aace=_0x15a5a6[_0xe18f01(0x6c2)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x189a5f=Buffer[_0xe18f01(0x221)](_0x51aace,_0xe18f01(0x3e5));_0x3b4cb3=''+(0x0,U['join'])(this[_0xe18f01(0x660)],'temp-'+_0x1d60c7+_0xe18f01(0x3a8)),this['logger'][_0xe18f01(0x429)]('Image\x20path:\x20'+_0x3b4cb3),await(0x0,It['default'])(_0x189a5f)[_0xe18f01(0x3f4)](_0x3b4cb3),this[_0xe18f01(0x701)][_0xe18f01(0x429)]('Image\x20created');}else{this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x57c));let _0x5db2e5=new Date()[_0xe18f01(0x27a)](),_0x202b29=_0x15a5a6+_0xe18f01(0x3d1)+_0x5db2e5;this[_0xe18f01(0x701)]['verbose'](_0xe18f01(0x39c)+_0x202b29);let _0xfd40ed=await se[_0xe18f01(0x47b)][_0xe18f01(0x406)](_0x202b29,{'responseType':_0xe18f01(0x47f)});this[_0xe18f01(0x701)]['verbose'](_0xe18f01(0x1ff));let _0x48dbef=Buffer[_0xe18f01(0x221)](_0xfd40ed[_0xe18f01(0x63a)],_0xe18f01(0x10c));_0x3b4cb3=''+(0x0,U[_0xe18f01(0x455)])(this[_0xe18f01(0x660)],_0xe18f01(0x2c2)+_0x1d60c7+_0xe18f01(0x3a8)),this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x22e)+_0x3b4cb3),await(0x0,It[_0xe18f01(0x47b)])(_0x48dbef)[_0xe18f01(0x3f4)](_0x3b4cb3),this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x477));}return await(0x0,It['default'])(_0x3b4cb3)['webp']()[_0xe18f01(0x3f4)](_0x337985),this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0xdc)),L[_0xe18f01(0x533)](_0x3b4cb3),this[_0xe18f01(0x701)][_0xe18f01(0x429)](_0xe18f01(0x35c)),_0x337985;}catch(_0x340c8a){console[_0xe18f01(0x241)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x340c8a instanceof Error?_0x340c8a[_0xe18f01(0x312)]:JSON['stringify'](_0x340c8a,null,0x2));}}async[a0_0x1d42ab(0x2f7)](_0x44e719){const _0x2523d2=a0_0x1d42ab;let _0x4dd6f4=await this['convertToWebP'](_0x44e719[_0x2523d2(0x16f)][_0x2523d2(0x41c)],_0x44e719[_0x2523d2(0x5c7)]),_0x5fe8e5=await this[_0x2523d2(0x659)](_0x44e719['number'],{'sticker':{'url':_0x4dd6f4}},_0x44e719?.[_0x2523d2(0x3fb)]);return L['unlinkSync'](_0x4dd6f4),this[_0x2523d2(0x701)]['verbose'](_0x2523d2(0x508)),_0x5fe8e5;}async['audioWhatsapp'](_0x27560d){const _0x34b40f=a0_0x1d42ab;if(this[_0x34b40f(0x701)]['verbose'](_0x34b40f(0x12a)),!_0x27560d[_0x34b40f(0x3fb)]?.[_0x34b40f(0x267)]&&_0x27560d[_0x34b40f(0x3fb)]?.[_0x34b40f(0x267)]!==!0x1&&(_0x27560d[_0x34b40f(0x3fb)][_0x34b40f(0x267)]=!0x0),_0x27560d[_0x34b40f(0x3fb)]?.[_0x34b40f(0x267)]){let _0x1ed5a5=await this[_0x34b40f(0x570)](_0x27560d[_0x34b40f(0x4f0)][_0x34b40f(0x5bb)]);if(typeof _0x1ed5a5==_0x34b40f(0x6e1)){let _0x3ea666=L[_0x34b40f(0x101)](_0x1ed5a5)['toString']('base64'),_0x2fb860=this[_0x34b40f(0x659)](_0x27560d[_0x34b40f(0x5c7)],{'audio':Buffer[_0x34b40f(0x221)](_0x3ea666,_0x34b40f(0x3e5)),'ptt':!0x0,'mimetype':_0x34b40f(0x6c0)},{'presence':'recording','delay':_0x27560d?.[_0x34b40f(0x3fb)]?.['delay']});return L[_0x34b40f(0x533)](_0x1ed5a5),this[_0x34b40f(0x701)][_0x34b40f(0x429)](_0x34b40f(0x682)),_0x2fb860;}else throw new O(_0x1ed5a5);}return await this[_0x34b40f(0x659)](_0x27560d[_0x34b40f(0x5c7)],{'audio':(0x0,k[_0x34b40f(0x581)])(_0x27560d[_0x34b40f(0x4f0)][_0x34b40f(0x5bb)])?{'url':_0x27560d[_0x34b40f(0x4f0)]['audio']}:Buffer[_0x34b40f(0x221)](_0x27560d[_0x34b40f(0x4f0)][_0x34b40f(0x5bb)],_0x34b40f(0x3e5)),'ptt':!0x0,'mimetype':_0x34b40f(0x58c)},{'presence':_0x34b40f(0x2c3),'delay':_0x27560d?.[_0x34b40f(0x3fb)]?.[_0x34b40f(0x1a7)]});}async[a0_0x1d42ab(0x570)](_0x5ac03f){const _0x1f713e=a0_0x1d42ab;this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0x309));let _0x351a62,_0x5a27c9,_0x2afda0=(0x0,Ce['v4'])();if(this[_0x1f713e(0x701)]['verbose'](_0x1f713e(0x25f)+_0x2afda0),(0x0,k['isURL'])(_0x5ac03f)){this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0x64c)),_0x5a27c9=''+(0x0,U[_0x1f713e(0x455)])(this[_0x1f713e(0x660)],_0x2afda0+_0x1f713e(0x59c)),_0x351a62=''+(0x0,U[_0x1f713e(0x455)])(this[_0x1f713e(0x660)],_0x1f713e(0x2c2)+_0x2afda0+_0x1f713e(0x704)),this[_0x1f713e(0x701)][_0x1f713e(0x429)]('Output\x20audio\x20path:\x20'+_0x5a27c9),this['logger'][_0x1f713e(0x429)]('Temp\x20audio\x20path:\x20'+_0x351a62);let _0x12d604=new Date()[_0x1f713e(0x27a)](),_0x5b5f0a=_0x5ac03f+'?timestamp='+_0x12d604;this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0xdb)+_0x5b5f0a);let _0x19bda1=await se[_0x1f713e(0x47b)][_0x1f713e(0x406)](_0x5b5f0a,{'responseType':_0x1f713e(0x47f)});this[_0x1f713e(0x701)][_0x1f713e(0x429)]('Getting\x20audio\x20from\x20url'),L[_0x1f713e(0x199)](_0x351a62,_0x19bda1[_0x1f713e(0x63a)]);}else{this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0x42f)),_0x5a27c9=''+(0x0,U['join'])(this[_0x1f713e(0x660)],_0x2afda0+_0x1f713e(0x59c)),_0x351a62=''+(0x0,U['join'])(this['storePath'],_0x1f713e(0x2c2)+_0x2afda0+_0x1f713e(0x704)),this[_0x1f713e(0x701)]['verbose'](_0x1f713e(0x436)+_0x5a27c9),this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0x425)+_0x351a62);let _0x593ac9=Buffer[_0x1f713e(0x221)](_0x5ac03f,'base64');L[_0x1f713e(0x199)](_0x351a62,_0x593ac9),this['logger'][_0x1f713e(0x429)](_0x1f713e(0x383));}return this[_0x1f713e(0x701)][_0x1f713e(0x429)](_0x1f713e(0x676)),new Promise((_0x4f7990,_0x1faa3e)=>{const _0x3d44a7=_0x1f713e;(0x0,Dt[_0x3d44a7(0x218)])(mr[_0x3d44a7(0x47b)][_0x3d44a7(0x596)]+_0x3d44a7(0x1e5)+_0x351a62+_0x3d44a7(0x1ad)+_0x5a27c9+'\x20-y',_0xe642b6=>{const _0x515626=_0x3d44a7;L[_0x515626(0x533)](_0x351a62),this['logger'][_0x515626(0x429)]('Temp\x20audio\x20deleted'),_0xe642b6&&_0x1faa3e(_0xe642b6),this[_0x515626(0x701)][_0x515626(0x429)](_0x515626(0x4ad)),_0x4f7990(_0x5a27c9);});});}async[a0_0x1d42ab(0x35b)](_0x38898e){const _0x273fdd=a0_0x1d42ab;let _0x3b83d7={},_0x4b78be=_0x273fdd(0x5ff);if(_0x38898e[_0x273fdd(0x35b)]?.[_0x273fdd(0x433)]){_0x4b78be=_0x38898e[_0x273fdd(0x35b)][_0x273fdd(0x433)]?.[_0x273fdd(0x40d)][_0x273fdd(0x4cc)]()??_0x273fdd(0x5ff),_0x3b83d7[_0x273fdd(0x666)]=_0x4b78be[_0x273fdd(0x4c0)]()+_0x273fdd(0x4a8);let _0x3e6739=await this[_0x273fdd(0x36e)](_0x38898e[_0x273fdd(0x35b)][_0x273fdd(0x433)]);_0x3b83d7[_0x273fdd(0x312)]=_0x3e6739[_0x273fdd(0x312)][_0x3b83d7[_0x273fdd(0x666)]],_0x3b83d7[_0x273fdd(0x677)]='*'+_0x38898e['buttonMessage'][_0x273fdd(0x1f3)]+_0x273fdd(0x25e)+_0x38898e[_0x273fdd(0x35b)][_0x273fdd(0x133)];}let _0x3de76c={'text':_0x38898e[_0x273fdd(0x35b)][_0x273fdd(0x2ee)]['map'](_0x467bbc=>_0x467bbc[_0x273fdd(0x4ee)]),'ids':_0x38898e[_0x273fdd(0x35b)]['buttons'][_0x273fdd(0x6e4)](_0x3d7df7=>_0x3d7df7[_0x273fdd(0x4c5)])};if(!(0x0,k[_0x273fdd(0x305)])(_0x3de76c[_0x273fdd(0x5a0)])||!(0x0,k[_0x273fdd(0x305)])(_0x3de76c[_0x273fdd(0x351)]))throw new m(_0x273fdd(0x2e9),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x273fdd(0x659)](_0x38898e[_0x273fdd(0x5c7)],{'buttonsMessage':{'text':_0x3b83d7?.['mediaKey']?void 0x0:_0x38898e[_0x273fdd(0x35b)]['title'],'contentText':_0x3b83d7?.[_0x273fdd(0x677)]??_0x38898e['buttonMessage']['description'],'footerText':_0x38898e[_0x273fdd(0x35b)]?.['footerText'],'buttons':_0x38898e[_0x273fdd(0x35b)][_0x273fdd(0x2ee)][_0x273fdd(0x6e4)](_0x40f797=>({'buttonText':{'displayText':_0x40f797[_0x273fdd(0x4ee)]},'buttonId':_0x40f797[_0x273fdd(0x4c5)],'type':0x1})),'headerType':y[_0x273fdd(0x52a)]['Message'][_0x273fdd(0x294)][_0x273fdd(0x2fa)][_0x4b78be],[_0x3b83d7?.[_0x273fdd(0x666)]]:_0x3b83d7?.[_0x273fdd(0x312)]}},_0x38898e?.[_0x273fdd(0x3fb)]);}async[a0_0x1d42ab(0x366)](_0x2fbddf){const _0x5bca9b=a0_0x1d42ab;return await this[_0x5bca9b(0x659)](_0x2fbddf[_0x5bca9b(0x5c7)],{'locationMessage':{'degreesLatitude':_0x2fbddf['locationMessage']['latitude'],'degreesLongitude':_0x2fbddf[_0x5bca9b(0x366)]['longitude'],'name':_0x2fbddf['locationMessage']?.[_0x5bca9b(0x2ce)],'address':_0x2fbddf[_0x5bca9b(0x366)]?.[_0x5bca9b(0x4c4)]}},_0x2fbddf?.['options']);}async['contactMessage'](_0x50be68){const _0x3dc88c=a0_0x1d42ab;let _0x40dc64={},_0xebf4a7=_0x236a21=>{const _0x530f61=a0_0x3f00;let _0x3ee8f9='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x236a21[_0x530f61(0x688)]+_0x530f61(0x6ab)+_0x236a21['fullName']+'\x0a';_0x236a21[_0x530f61(0x4a7)]&&(_0x3ee8f9+=_0x530f61(0x632)+_0x236a21[_0x530f61(0x4a7)]+';\x0a'),_0x236a21[_0x530f61(0x603)]&&(_0x3ee8f9+=_0x530f61(0x334)+_0x236a21['email']+'\x0a'),_0x236a21['url']&&(_0x3ee8f9+=_0x530f61(0x6fd)+_0x236a21[_0x530f61(0x62e)]+'\x0a');let _0x15d1af='';return _0x236a21[_0x530f61(0x117)]&&_0x236a21[_0x530f61(0x117)][_0x530f61(0x4e8)]('|')[_0x530f61(0x371)]((_0xf38f4f,_0x5b1db4)=>{const _0x4426aa=_0x530f61;let _0x170dd9=this[_0x4426aa(0x219)](_0xf38f4f)[_0x4426aa(0x6c2)](_0x4426aa(0x62c),'');_0x15d1af+=_0x4426aa(0x6eb)+(_0x5b1db4+0x1)+'.TEL;waid='+_0x170dd9+':'+_0xf38f4f+_0x4426aa(0x5f4)+(_0x5b1db4+0x1)+_0x4426aa(0x32c);}),_0x3ee8f9+=_0x15d1af+'END:VCARD',_0x3ee8f9;};return _0x50be68['contactMessage']['length']===0x1?_0x40dc64[_0x3dc88c(0x4a5)]={'displayName':_0x50be68[_0x3dc88c(0x4a5)][0x0][_0x3dc88c(0x688)],'vcard':_0xebf4a7(_0x50be68[_0x3dc88c(0x4a5)][0x0])}:_0x40dc64[_0x3dc88c(0x1cf)]={'displayName':_0x50be68[_0x3dc88c(0x4a5)][_0x3dc88c(0x6e2)]+'\x20contacts','contacts':_0x50be68['contactMessage']['map'](_0x1a8111=>({'displayName':_0x1a8111[_0x3dc88c(0x688)],'vcard':_0xebf4a7(_0x1a8111)}))},await this['sendMessageWithTyping'](_0x50be68[_0x3dc88c(0x5c7)],{..._0x40dc64},_0x50be68?.[_0x3dc88c(0x3fb)]);}async[a0_0x1d42ab(0x198)](_0x4edd73){const _0x50409a=a0_0x1d42ab;return await this['sendMessageWithTyping'](_0x4edd73['reactionMessage'][_0x50409a(0x362)][_0x50409a(0x6e5)],{'reactionMessage':{'key':_0x4edd73[_0x50409a(0x198)][_0x50409a(0x362)],'text':_0x4edd73[_0x50409a(0x198)][_0x50409a(0x157)]}});}async[a0_0x1d42ab(0x567)](_0x4faec0){const _0x8fa76b=a0_0x1d42ab;let _0x300294=[];for await(let _0x28fddf of _0x4faec0[_0x8fa76b(0x6cd)]){let _0x3bc1a9=this[_0x8fa76b(0x219)](_0x28fddf),_0x464c66=!0x1;try{if((0x0,y[_0x8fa76b(0x3b8)])(_0x3bc1a9)){let _0x1ae9d7=await this[_0x8fa76b(0x223)]({'groupJid':_0x3bc1a9},_0x8fa76b(0x618));_0x300294[_0x8fa76b(0x59e)](new he(_0x1ae9d7[_0x8fa76b(0x19f)]['id'],!!_0x1ae9d7?.[_0x8fa76b(0x19f)]['id'],_0x1ae9d7?.['metadata'][_0x8fa76b(0x63c)])),_0x464c66=!!_0x1ae9d7?.[_0x8fa76b(0x19f)]['id'];}else{let _0xbc82be=(await this[_0x8fa76b(0x370)]['onWhatsApp'](_0x3bc1a9))[0x0];_0x300294[_0x8fa76b(0x59e)](new he(_0xbc82be[_0x8fa76b(0x671)],_0xbc82be[_0x8fa76b(0x2d0)])),_0x464c66=_0xbc82be['exists'];}}catch{await this[_0x8fa76b(0x2a8)](_0x3bc1a9,_0x464c66),_0x300294[_0x8fa76b(0x59e)](new he(_0x28fddf,!0x1));}}return _0x300294;}async[a0_0x1d42ab(0x2a8)](_0x4df475,_0xdd1a01){const _0x5ea421=a0_0x1d42ab;try{await this[_0x5ea421(0x544)][_0x5ea421(0x159)][_0x5ea421(0x2dc)]({'where':{'_id':_0x4df475,'imported':!0x0}},this[_0x5ea421(0x225)][_0x5ea421(0x43f)])&&(_0xdd1a01||(await this[_0x5ea421(0x544)][_0x5ea421(0x159)]['deleteChat'](_0x4df475,this['instance']['wuid']),console[_0x5ea421(0x1c0)](_0x5ea421(0x6d5)+_0x4df475+_0x5ea421(0x3ab))));}catch(_0x37b688){console['error'](_0x5ea421(0x4e0),_0x37b688);}}async[a0_0x1d42ab(0x32a)](_0x1d278f){const _0x1fd9a8=a0_0x1d42ab;try{let _0xbf2157=_0x1d278f[_0x1fd9a8(0x524)][_0x1fd9a8(0x5f3)](_0x508a75=>(0x0,y['isJidGroup'])(_0x508a75[_0x1fd9a8(0x6e5)])||(0x0,y[_0x1fd9a8(0x3e9)])(_0x508a75[_0x1fd9a8(0x6e5)]))[_0x1fd9a8(0x6e4)](_0x4cdecc=>({'remoteJid':_0x4cdecc[_0x1fd9a8(0x6e5)],'fromMe':_0x4cdecc[_0x1fd9a8(0x5fc)],'id':_0x4cdecc['id']}));await this[_0x1fd9a8(0x370)][_0x1fd9a8(0x524)](_0xbf2157);let _0x5204c9=_0xbf2157[_0x1fd9a8(0x6e4)](_0xd12e36=>this[_0x1fd9a8(0x296)](_0xd12e36,{'status':_0x1fd9a8(0x252),'owner':this[_0x1fd9a8(0x225)][_0x1fd9a8(0x43f)]})),_0x1d265d=_0xbf2157[_0x1fd9a8(0x6e4)](_0x2b213b=>this[_0x1fd9a8(0x544)][_0x1fd9a8(0x159)][_0x1fd9a8(0xce)]({'where':{'_id':_0x2b213b[_0x1fd9a8(0x6e5)]}},{'unreadcount':0x0},this[_0x1fd9a8(0x225)]['wuid'])),[_0x3a8d01,_0x5d5429]=await Promise['all']([Promise[_0x1fd9a8(0x644)](_0x5204c9),Promise[_0x1fd9a8(0x644)](_0x1d265d)]);return _0x5d5429[_0x1fd9a8(0x5f3)](_0x50a2f8=>_0x50a2f8!==null)['forEach'](_0x808472=>{const _0x29e07b=_0x1fd9a8;q(this[_0x29e07b(0x41b)],_0x29e07b(0x454),{'chat':_0x808472});}),{'message':'Read\x20messages','read':_0x1fd9a8(0x1ab)};}catch(_0x3b10df){throw console[_0x1fd9a8(0x241)](_0x1fd9a8(0x4ac),_0x3b10df),new O('Read\x20messages\x20fail',_0x3b10df[_0x1fd9a8(0x611)]());}}async[a0_0x1d42ab(0x2bb)](_0x423b2e){const _0xa529fe=a0_0x1d42ab;let _0x11af9c=await this[_0xa529fe(0x559)]({'where':{'key':{'remoteJid':_0x423b2e}}}),_0x10d398=_0x11af9c['pop']();for(let _0x38e981 of _0x11af9c)_0x38e981[_0xa529fe(0x549)]>=_0x10d398['messageTimestamp']&&(_0x10d398=_0x38e981);return _0x10d398;}async[a0_0x1d42ab(0x173)](_0x2645e4){const _0x1e07b5=a0_0x1d42ab;this[_0x1e07b5(0x701)][_0x1e07b5(0x429)](_0x1e07b5(0x3c0));try{let _0x1399b2=_0x2645e4[_0x1e07b5(0xc3)],_0x13b5ea=_0x2645e4[_0x1e07b5(0x159)];if(!_0x1399b2&&_0x13b5ea?_0x1399b2=await this[_0x1e07b5(0x2bb)](_0x13b5ea):(_0x1399b2=_0x2645e4[_0x1e07b5(0xc3)],_0x1399b2[_0x1e07b5(0x549)]=_0x1399b2?.[_0x1e07b5(0x549)]??Date['now'](),_0x13b5ea=_0x1399b2?.[_0x1e07b5(0x362)]?.[_0x1e07b5(0x6e5)]),!_0x1399b2||Object['keys'](_0x1399b2)[_0x1e07b5(0x6e2)]===0x0)throw new F('Last\x20message\x20not\x20found');await this[_0x1e07b5(0x370)][_0x1e07b5(0x1a2)]({'archive':_0x2645e4[_0x1e07b5(0x4b9)],'lastMessages':[_0x1399b2]},this['createJid'](_0x13b5ea));let _0x14e91f=await this[_0x1e07b5(0x544)][_0x1e07b5(0x159)][_0x1e07b5(0xce)]({'where':{'_id':_0x1399b2?.[_0x1e07b5(0x362)]?.[_0x1e07b5(0x6e5)]}},{'archived':_0x2645e4[_0x1e07b5(0x4b9)]},this[_0x1e07b5(0x225)][_0x1e07b5(0x43f)]);return _0x14e91f&&q(this[_0x1e07b5(0x41b)],_0x1e07b5(0x454),{'chat':_0x14e91f}),{'chatId':_0x13b5ea,'archived':_0x2645e4['archive']};}catch(_0x17389d){throw new O({'archived':!0x1,'message':[_0x1e07b5(0x57a),_0x17389d['toString']()]});}}async[a0_0x1d42ab(0x4a6)](_0x3859a9){const _0x527c86=a0_0x1d42ab;try{let _0x134152=await this[_0x527c86(0x370)][_0x527c86(0x4eb)](_0x3859a9['remoteJid'],{'delete':_0x3859a9});try{let _0x1dc4e2=await this[_0x527c86(0x296)](_0x3859a9,{'status':_0x527c86(0x537),'owner':this['instance'][_0x527c86(0x43f)]});this[_0x527c86(0x701)][_0x527c86(0x429)](this[_0x527c86(0x41b)]+'\x20('+this[_0x527c86(0x225)][_0x527c86(0x43f)]+_0x527c86(0x22f)+_0x1dc4e2);}catch(_0xdbcc79){console[_0x527c86(0x241)]('Error\x20updating\x20message\x20status:',_0xdbcc79);}return _0x134152;}catch(_0x3756cc){throw new O(_0x527c86(0x636),_0x3756cc?.[_0x527c86(0x611)]());}}async[a0_0x1d42ab(0x5e0)](_0xd37ce7){const _0x9df951=a0_0x1d42ab;try{let _0x47ca5a=_0xd37ce7?.['message']?_0xd37ce7:await this[_0x9df951(0x53f)](_0xd37ce7[_0x9df951(0x362)],!0x0);for(let _0x1bda7f of pa)_0x47ca5a[_0x9df951(0x312)][_0x1bda7f]&&(_0x47ca5a[_0x9df951(0x312)]=_0x47ca5a[_0x9df951(0x312)][_0x1bda7f]['message']);let _0x4352d0,_0x2047d2;for(let _0x3a42af of da)if(_0x4352d0=_0x47ca5a['message'][_0x3a42af],_0x4352d0){_0x2047d2=_0x3a42af;break;}if(!_0x4352d0)throw _0x9df951(0x61d);typeof _0x4352d0[_0x9df951(0x666)]=='object'&&(_0x47ca5a[_0x9df951(0x312)]=JSON['parse'](JSON[_0x9df951(0x427)](_0x47ca5a[_0x9df951(0x312)])));let _0x2b51c0=await(0x0,y['downloadMediaMessage'])({'key':_0x47ca5a?.[_0x9df951(0x362)],'message':_0x47ca5a?.[_0x9df951(0x312)]},'buffer',{},{'logger':(0x0,At[_0x9df951(0x47b)])({'level':'silent'}),'reuploadRequest':this[_0x9df951(0x370)][_0x9df951(0x444)]});if(!(_0x2b51c0 instanceof Buffer))throw new Error(_0x9df951(0x500));let _0x380b1b=this['configService'][_0x9df951(0x406)](_0x9df951(0x54a)),_0x359b02,_0x215953;if(_0x4352d0[_0x9df951(0x6a3)])_0x359b02=_0x4352d0[_0x9df951(0x6a3)];else{let _0xcd5aee=_0x4352d0['mimetype']?.[_0x9df951(0x2d7)](/\/(\w+)/),_0x3a407b=_0xcd5aee?_0xcd5aee[0x1]:null;if(!_0x3a407b)throw new Error(_0x9df951(0x57f));_0x359b02=(0x0,Ce['v4'])()+'.'+_0x3a407b;}_0x2047d2===_0x9df951(0x4f0)&&_0x4352d0['mimetype']===_0x9df951(0x193)?(_0x359b02=(0x0,Ce['v4'])()+_0x9df951(0x628),_0x215953=_0x9df951(0x194)+await this[_0x9df951(0x570)](_0x2b51c0[_0x9df951(0x611)](_0x9df951(0x3e5)))):(await this[_0x9df951(0x498)](_0x2b51c0,_0x359b02),_0x215953=_0x9df951(0x194)+_0x359b02);let _0x16b166=this[_0x9df951(0x566)][_0x9df951(0x406)](_0x9df951(0x283))[_0x9df951(0x22b)];if(!_0x16b166){let _0x56866a=this['configService']['get']('SSL_CONF');_0x16b166=_0x9df951(0x344)+(_0x56866a&&_0x56866a[_0x9df951(0x461)][_0x9df951(0x4e8)]('/')[0x4]);}_0x215953=''+_0x16b166+_0x215953;let _0x405722=0xc*0x3c*0x3c*0x3e8,_0xcd2253={'where':{'_id':_0x47ca5a[_0x9df951(0x362)]['id']}},_0xfcf056={'message_normalized.fileUrl':_0x215953,'message_normalized.expires_fileUrl':Date[_0x9df951(0x5aa)]()+_0x405722};try{let _0x272f4d=await this[_0x9df951(0x544)][_0x9df951(0x312)][_0x9df951(0x22d)](_0xcd2253,_0xfcf056,this[_0x9df951(0x225)][_0x9df951(0x43f)]);_0x272f4d&&q(this[_0x9df951(0x41b)],'messages',{'message':_0x272f4d});}catch(_0x380218){this[_0x9df951(0x701)][_0x9df951(0x241)](this['instanceName']+'\x20('+this[_0x9df951(0x225)][_0x9df951(0x43f)]+_0x9df951(0x1c7)+(_0x380218 instanceof Error?_0x380218['message']:JSON[_0x9df951(0x427)](_0x380218,null,0x2)));}return{'mediaType':_0x2047d2,'fileName':_0x4352d0[_0x9df951(0x6a3)],'caption':_0x4352d0[_0x9df951(0x3fd)],'size':{'fileLength':_0x4352d0[_0x9df951(0x43c)],'height':_0x4352d0[_0x9df951(0x284)],'width':_0x4352d0['width']},'mimetype':_0x4352d0[_0x9df951(0x582)],'base64':_0x2b51c0[_0x9df951(0x611)](_0x9df951(0x3e5)),'fileUrl':_0x215953,'expires_fileUrl':Date['now']()+_0x405722};}catch(_0x31db63){throw this[_0x9df951(0x701)]['error'](this[_0x9df951(0x41b)]+'\x20('+this[_0x9df951(0x225)][_0x9df951(0x43f)]+_0x9df951(0x1c7)+(_0x31db63 instanceof Error?_0x31db63[_0x9df951(0x312)]:JSON[_0x9df951(0x427)](_0x31db63,null,0x2))),new m(_0x31db63[_0x9df951(0x611)]());}}async[a0_0x1d42ab(0x498)](_0x1a464e,_0x50991e){const _0xee06a4=a0_0x1d42ab;let _0x49344e=U[_0xee06a4(0x47b)][_0xee06a4(0x455)](__dirname,_0xee06a4(0x4ab));L[_0xee06a4(0x409)](_0x49344e)||L[_0xee06a4(0x31d)](_0x49344e,{'recursive':!0x0});let _0x19c3c1=U['default'][_0xee06a4(0x455)](_0x49344e,_0x50991e);return new Promise((_0x334228,_0x4e999f)=>{L['writeFile'](_0x19c3c1,_0x1a464e,_0x304705=>{const _0x189395=a0_0x3f00;_0x304705?(this[_0x189395(0x701)]['error'](_0x189395(0x56b)+(_0x304705 instanceof Error?_0x304705[_0x189395(0x312)]:JSON[_0x189395(0x427)](_0x304705,null,0x2))),_0x4e999f(_0x304705)):(this[_0x189395(0x701)][_0x189395(0x1c0)]('File\x20written\x20to\x20path:\x20'+_0x19c3c1),_0x334228(_0x19c3c1));});});}async[a0_0x1d42ab(0x1af)](_0x945805){const _0xc4898c=a0_0x1d42ab;return await this[_0xc4898c(0x544)][_0xc4898c(0x1db)][_0xc4898c(0x497)](_0x945805,this[_0xc4898c(0x225)][_0xc4898c(0x43f)]);}async['fetchLabels'](){const _0x590251=a0_0x1d42ab;return await this[_0x590251(0x544)]['label']['find']({'where':{}},this[_0x590251(0x225)][_0x590251(0x43f)]);}async[a0_0x1d42ab(0x559)](_0x534a36){const _0x46adf7=a0_0x1d42ab;return await this['repository'][_0x46adf7(0x312)][_0x46adf7(0x497)](_0x534a36,this[_0x46adf7(0x225)][_0x46adf7(0x43f)]);}async[a0_0x1d42ab(0x3a3)](){const _0x4a71dc=a0_0x1d42ab;return this['repository'][_0x4a71dc(0x159)][_0x4a71dc(0x558)](this[_0x4a71dc(0x225)][_0x4a71dc(0x43f)]),this[_0x4a71dc(0x544)][_0x4a71dc(0x159)][_0x4a71dc(0x5bc)](this[_0x4a71dc(0x225)]['wuid']),this[_0x4a71dc(0x544)]['chat'][_0x4a71dc(0x3e7)](this[_0x4a71dc(0x225)][_0x4a71dc(0x43f)]),await this['repository'][_0x4a71dc(0x159)][_0x4a71dc(0x497)]({'where':{}},this['instance'][_0x4a71dc(0x43f)]);}async[a0_0x1d42ab(0x5ca)](_0x5ae372){const _0x1aabee=a0_0x1d42ab;try{if(!Array['isArray'](_0x5ae372)||_0x5ae372['length']===0x0)throw new Error(_0x1aabee(0x154));let _0x431fc1=[],_0x457060=[];for(let _0x49633a of _0x5ae372){if(_0x49633a[_0x1aabee(0x650)])_0x49633a[_0x1aabee(0x650)]=this[_0x1aabee(0x219)](_0x49633a['_id']);else continue;await this[_0x1aabee(0x544)][_0x1aabee(0x159)][_0x1aabee(0x2dc)]({'where':{'_id':_0x49633a[_0x1aabee(0x650)]}},this[_0x1aabee(0x225)][_0x1aabee(0x43f)])?_0x457060['push']({'_id':_0x49633a[_0x1aabee(0x650)],'leadInfo':_0x49633a[_0x1aabee(0x39e)],'owner':this[_0x1aabee(0x225)][_0x1aabee(0x43f)]}):_0x431fc1[_0x1aabee(0x59e)]({'_id':_0x49633a[_0x1aabee(0x650)],'owner':this['instance']['wuid'],'leadInfo':_0x49633a[_0x1aabee(0x39e)]});}return _0x457060[_0x1aabee(0x6e2)]>0x0&&await this[_0x1aabee(0x544)]['chat'][_0x1aabee(0x6e3)](_0x457060['map'](_0x27ddb9=>({'query':{'where':{'_id':_0x27ddb9[_0x1aabee(0x650)],'owner':this[_0x1aabee(0x225)][_0x1aabee(0x43f)]}},'update':_0x27ddb9}))),_0x431fc1['length']>0x0&&await this['repository'][_0x1aabee(0x159)]['insertMany'](_0x431fc1,this['instance']['wuid']),{'updated':_0x457060[_0x1aabee(0x6e2)],'inserted':_0x431fc1[_0x1aabee(0x6e2)]};}catch(_0x5174ff){throw console[_0x1aabee(0x241)](_0x1aabee(0x2e1),_0x5174ff),_0x5174ff;}}async[a0_0x1d42ab(0x307)](){const _0x5b55ca=a0_0x1d42ab;return await this[_0x5b55ca(0x370)][_0x5b55ca(0x307)]();}async[a0_0x1d42ab(0x18d)](_0x233463){const _0x473a5e=a0_0x1d42ab;try{return await this[_0x473a5e(0x370)][_0x473a5e(0x607)](_0x233463[_0x473a5e(0x656)]['readreceipts']),await this[_0x473a5e(0x370)][_0x473a5e(0x310)](_0x233463[_0x473a5e(0x656)][_0x473a5e(0x669)]),await this[_0x473a5e(0x370)][_0x473a5e(0x651)](_0x233463[_0x473a5e(0x656)]['status']),await this[_0x473a5e(0x370)][_0x473a5e(0x68f)](_0x233463[_0x473a5e(0x656)][_0x473a5e(0x5ee)]),await this[_0x473a5e(0x370)][_0x473a5e(0x492)](_0x233463[_0x473a5e(0x656)][_0x473a5e(0x46e)]),await this[_0x473a5e(0x370)]['updateGroupsAddPrivacy'](_0x233463[_0x473a5e(0x656)]['groupadd']),this['client']?.['ws']?.[_0x473a5e(0x621)](),{'update':_0x473a5e(0x1ab),'data':{'readreceipts':_0x233463[_0x473a5e(0x656)][_0x473a5e(0x437)],'profile':_0x233463['privacySettings'][_0x473a5e(0x669)],'status':_0x233463['privacySettings'][_0x473a5e(0x3f1)],'online':_0x233463['privacySettings'][_0x473a5e(0x5ee)],'last':_0x233463['privacySettings'][_0x473a5e(0x46e)],'groupadd':_0x233463[_0x473a5e(0x656)][_0x473a5e(0x393)]}};}catch(_0x25d684){throw new O('Error\x20updating\x20privacy\x20settings',_0x25d684[_0x473a5e(0x611)]());}}async[a0_0x1d42ab(0x546)](_0x5eb2fc){const _0x568aab=a0_0x1d42ab;let _0x50c59e=_0x5eb2fc?this['createJid'](_0x5eb2fc):this[_0x568aab(0x370)]?.[_0x568aab(0x166)]?.['id'];this[_0x568aab(0x701)]['verbose'](_0x568aab(0x604)+_0x50c59e);try{if(this['logger'][_0x568aab(0x429)](_0x568aab(0x6d3)),_0x5eb2fc){let _0x3313bd=(await this[_0x568aab(0x567)]({'numbers':[_0x50c59e]}))?.[_0x568aab(0x341)](),_0x3955f3=await this[_0x568aab(0x57d)](_0x3313bd?.[_0x568aab(0x671)]),_0x3a46b1=await this[_0x568aab(0x5d0)](_0x3313bd?.['jid']),_0x5df794=await this['fetchBusinessProfile'](_0x3313bd?.[_0x568aab(0x671)]);return{'wuid':_0x3313bd?.[_0x568aab(0x671)]||_0x50c59e,'name':_0x3313bd?.[_0x568aab(0x2ce)],'numberExists':_0x3313bd?.[_0x568aab(0x2d0)],'picture':_0x3955f3?.[_0x568aab(0x15d)],'status':_0x3a46b1?.['status'],'isBusiness':_0x5df794['isBusiness'],'email':_0x5df794?.[_0x568aab(0x603)],'description':_0x5df794?.[_0x568aab(0x133)],'website':_0x5df794?.[_0x568aab(0x6dd)]?.[_0x568aab(0x341)]()};}}catch{return this[_0x568aab(0x701)][_0x568aab(0x429)]('Profile\x20not\x20found'),{'wuid':_0x50c59e,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x1d42ab(0x576)](_0x118a25){const _0x1bf2a3=a0_0x1d42ab;let _0x2a1aa2=(_0x118a25?this[_0x1bf2a3(0x219)](_0x118a25):this[_0x1bf2a3(0x370)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x1bf2a3(0x701)][_0x1bf2a3(0x429)](_0x1bf2a3(0x21a)+_0x2a1aa2);let _0x4c3cd4=await this[_0x1bf2a3(0x544)][_0x1bf2a3(0x1db)]['findOne']({'where':{'_id':_0x2a1aa2}},this[_0x1bf2a3(0x225)]['wuid']),_0x206207=_0x4c3cd4?_0x4c3cd4[_0x1bf2a3(0x466)]:null;try{let _0x1913c4=(await this['whatsappNumber']({'numbers':[_0x2a1aa2]}))?.[_0x1bf2a3(0x341)](),_0x2f8ee3=await this[_0x1bf2a3(0x57d)](_0x1913c4?.[_0x1bf2a3(0x671)]),_0x54b5e2=await this[_0x1bf2a3(0x5d0)](_0x1913c4?.[_0x1bf2a3(0x671)]),_0x1f24e5=await this['fetchBusinessProfile'](_0x1913c4?.[_0x1bf2a3(0x671)]),_0x1b510e={'imagechat':_0x2f8ee3?.[_0x1bf2a3(0x15d)],'contactname':_0x206207||null,'status':_0x54b5e2?.['status'],'isBusiness':_0x1f24e5[_0x1bf2a3(0x68e)],'email':_0x1f24e5?.['email'],'description':_0x1f24e5?.[_0x1bf2a3(0x133)],'website':_0x1f24e5?.['website']?.['shift'](),'lastcache':Date[_0x1bf2a3(0x5aa)]()},_0x5e822d=await this[_0x1bf2a3(0x544)][_0x1bf2a3(0x159)]['updateOne']({'where':{'_id':_0x2a1aa2}},_0x1b510e,this['instance'][_0x1bf2a3(0x43f)]),_0x553cd4={'owner':this[_0x1bf2a3(0x225)][_0x1bf2a3(0x43f)],'_id':_0x2a1aa2,'profilePictureUrl':_0x2f8ee3?.[_0x1bf2a3(0x15d)],'status':_0x54b5e2?.[_0x1bf2a3(0x3f1)]};return this[_0x1bf2a3(0x544)][_0x1bf2a3(0x1db)][_0x1bf2a3(0x22d)]([_0x553cd4],this['instance'][_0x1bf2a3(0x43f)]),_0x5e822d&&q(this[_0x1bf2a3(0x41b)],'chats',{'chat':_0x5e822d}),{'wuid':_0x1913c4?.['jid']||_0x2a1aa2,'name':_0x1913c4?.[_0x1bf2a3(0x2ce)],'numberExists':_0x1913c4?.[_0x1bf2a3(0x2d0)],'picture':_0x2f8ee3?.[_0x1bf2a3(0x15d)],'status':_0x54b5e2?.[_0x1bf2a3(0x3f1)],'isBusiness':_0x1f24e5[_0x1bf2a3(0x68e)],'email':_0x1f24e5?.[_0x1bf2a3(0x603)],'description':_0x1f24e5?.[_0x1bf2a3(0x133)],'website':_0x1f24e5?.[_0x1bf2a3(0x6dd)]?.[_0x1bf2a3(0x341)]()};}catch(_0x22828e){return this['logger'][_0x1bf2a3(0x241)](_0x1bf2a3(0x49b)+(_0x22828e instanceof Error?_0x22828e[_0x1bf2a3(0x312)]:JSON['stringify'](_0x22828e,null,0x2))),{};}}async[a0_0x1d42ab(0x24c)](_0x3c75a0){const _0x12d8e3=a0_0x1d42ab;this['logger'][_0x12d8e3(0x429)](_0x12d8e3(0x1b8));try{let _0x38a643=_0x3c75a0?this[_0x12d8e3(0x219)](_0x3c75a0):this[_0x12d8e3(0x225)]['wuid'],_0xe963ad=await this[_0x12d8e3(0x370)]['getBusinessProfile'](_0x38a643);return this[_0x12d8e3(0x701)]['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0xe963ad?(this[_0x12d8e3(0x701)][_0x12d8e3(0x429)](_0x12d8e3(0x3ad)),{'isBusiness':!0x0,..._0xe963ad}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x38a643]}))?.[_0x12d8e3(0x341)]()};}catch(_0xed5481){throw new O(_0x12d8e3(0x1fc),_0xed5481[_0x12d8e3(0x611)]());}}async[a0_0x1d42ab(0x5d0)](_0x237a8a){const _0x3b318e=a0_0x1d42ab;let _0x462fc9=this[_0x3b318e(0x219)](_0x237a8a);try{return{'wuid':_0x462fc9,'status':(await this[_0x3b318e(0x370)][_0x3b318e(0x3c2)](_0x462fc9))?.[_0x3b318e(0x3f1)]};}catch{return{'wuid':_0x462fc9,'status':null};}}async[a0_0x1d42ab(0x55f)](_0x5037d9){const _0xeeedde=a0_0x1d42ab;try{return await this[_0xeeedde(0x370)]['updateProfileName'](_0x5037d9),{'update':_0xeeedde(0x1ab)};}catch(_0x564811){throw new O(_0xeeedde(0x1fc),_0x564811['toString']());}}async['updateProfileStatus'](_0x208bf8){const _0x19b5bb=a0_0x1d42ab;try{return await this[_0x19b5bb(0x370)][_0x19b5bb(0x4e9)](_0x208bf8),{'update':_0x19b5bb(0x1ab)};}catch(_0x26eb94){throw new O('Error\x20updating\x20profile\x20status',_0x26eb94[_0x19b5bb(0x611)]());}}async[a0_0x1d42ab(0x398)](_0x241258){const _0x79ea2c=a0_0x1d42ab;try{let _0x3b799c;if((0x0,k[_0x79ea2c(0x581)])(_0x241258)){let _0x596ad3=new Date()[_0x79ea2c(0x27a)](),_0x269953=_0x241258+_0x79ea2c(0x3d1)+_0x596ad3;_0x3b799c=(await se[_0x79ea2c(0x47b)][_0x79ea2c(0x406)](_0x269953,{'responseType':_0x79ea2c(0x47f)}))[_0x79ea2c(0x63a)];}else{if((0x0,k[_0x79ea2c(0x41e)])(_0x241258))_0x3b799c=Buffer['from'](_0x241258,_0x79ea2c(0x3e5));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x79ea2c(0x398)](this[_0x79ea2c(0x225)]['wuid'],_0x3b799c),{'update':_0x79ea2c(0x1ab)};}catch(_0x57fb3d){throw new O(_0x79ea2c(0x39f),_0x57fb3d[_0x79ea2c(0x611)]());}}async[a0_0x1d42ab(0x624)](){const _0xe901c9=a0_0x1d42ab;try{return await this[_0xe901c9(0x370)][_0xe901c9(0x624)](this['instance']['wuid']),{'update':_0xe901c9(0x1ab)};}catch(_0xb106fb){throw new O(_0xe901c9(0x5e1),_0xb106fb[_0xe901c9(0x611)]());}}async[a0_0x1d42ab(0x368)](_0x14cd67){const _0x4af4c2=a0_0x1d42ab;try{let _0x16b657=_0x14cd67[_0x4af4c2(0x247)][_0x4af4c2(0x6e4)](_0x1e0449=>this[_0x4af4c2(0x219)](_0x1e0449)),{id:_0x2f2f9c}=await this[_0x4af4c2(0x370)]['groupCreate'](_0x14cd67[_0x4af4c2(0x63c)],_0x16b657);return _0x14cd67?.[_0x4af4c2(0x133)]&&await this['client'][_0x4af4c2(0x32e)](_0x2f2f9c,_0x14cd67[_0x4af4c2(0x133)]),{'metadata':await this[_0x4af4c2(0x370)][_0x4af4c2(0x49a)](_0x2f2f9c)};}catch(_0x382440){throw this['logger'][_0x4af4c2(0x241)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4af4c2(0x1c7)+(_0x382440 instanceof Error?_0x382440[_0x4af4c2(0x312)]:JSON['stringify'](_0x382440,null,0x2))),new O(_0x4af4c2(0x4da),_0x382440[_0x4af4c2(0x611)]());}}async[a0_0x1d42ab(0x19b)](_0x570f75){const _0xa755ab=a0_0x1d42ab;try{let _0x5f26ff;if((0x0,k[_0xa755ab(0x581)])(_0x570f75['image'])){let _0x5e6e18=new Date()[_0xa755ab(0x27a)](),_0x19f3ed=_0x570f75[_0xa755ab(0x41c)]+_0xa755ab(0x3d1)+_0x5e6e18;_0x5f26ff=(await se['default'][_0xa755ab(0x406)](_0x19f3ed,{'responseType':_0xa755ab(0x47f)}))[_0xa755ab(0x63a)];}else{if((0x0,k[_0xa755ab(0x41e)])(_0x570f75[_0xa755ab(0x41c)]))_0x5f26ff=Buffer[_0xa755ab(0x221)](_0x570f75['image'],_0xa755ab(0x3e5));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0xa755ab(0x370)][_0xa755ab(0x398)](_0x570f75[_0xa755ab(0x430)],_0x5f26ff),{'update':_0xa755ab(0x1ab)};}catch(_0x1ba963){throw new O('Error\x20update\x20group\x20picture',_0x1ba963[_0xa755ab(0x611)]());}}async[a0_0x1d42ab(0x223)](_0x2208fd,_0xb42b1d=a0_0x1d42ab(0x1b1)){const _0x2a9ac2=a0_0x1d42ab;try{let _0x437ce3=await this['client']['groupMetadata'](_0x2208fd['groupJid']),_0x12d2ce=null;try{_0x12d2ce=(await this[_0x2a9ac2(0x57d)](_0x2208fd[_0x2a9ac2(0x430)]))[_0x2a9ac2(0x15d)];}catch(_0x4bba92){this[_0x2a9ac2(0x701)][_0x2a9ac2(0x429)](this[_0x2a9ac2(0x41b)]+'\x20('+this[_0x2a9ac2(0x225)][_0x2a9ac2(0x43f)]+_0x2a9ac2(0x400)+_0x2208fd[_0x2a9ac2(0x430)]+':\x20'+(_0x4bba92 instanceof Error?_0x4bba92[_0x2a9ac2(0x312)]:JSON['stringify'](_0x4bba92,null,0x2)));}let _0x5a4033=await this['repository'][_0x2a9ac2(0x159)][_0x2a9ac2(0xce)]({'where':{'_id':_0x2208fd[_0x2a9ac2(0x430)]}},{'imagechat':_0x12d2ce,'name':_0x437ce3['subject'],'group_size':_0x437ce3[_0x2a9ac2(0x707)],'group_announce':_0x437ce3[_0x2a9ac2(0x5c6)],'lastcache':Date[_0x2a9ac2(0x5aa)]()},this[_0x2a9ac2(0x225)][_0x2a9ac2(0x43f)]);return _0x5a4033&&q(this['instanceName'],_0x2a9ac2(0x454),{'chat':_0x5a4033}),{'metadata':_0x437ce3,'image':_0x12d2ce};}catch(_0x46c764){if(_0xb42b1d==='inner')return;throw new F(_0x2a9ac2(0x14d),_0x46c764[_0x2a9ac2(0x611)]());}}async['groupDesc'](_0x48b572){const _0x33cbc2=a0_0x1d42ab;try{return await this['client']['groupUpdateDescription'](_0x48b572['groupJid'],_0x48b572[_0x33cbc2(0x133)]),{'update':_0x33cbc2(0x1ab)};}catch(_0x57482c){throw new O(_0x33cbc2(0x359),_0x57482c[_0x33cbc2(0x611)]());}}async[a0_0x1d42ab(0x1e7)](_0x249552){const _0x4c54fc=a0_0x1d42ab;try{return await this[_0x4c54fc(0x370)]['groupUpdateSubject'](_0x249552[_0x4c54fc(0x430)],_0x249552[_0x4c54fc(0x2ce)]),{'update':_0x4c54fc(0x1ab)};}catch(_0x288942){throw new O(_0x4c54fc(0x4df),_0x288942[_0x4c54fc(0x611)]());}}async[a0_0x1d42ab(0x301)](_0x2bce98){const _0x5dab73=a0_0x1d42ab;try{return await this[_0x5dab73(0x370)]['groupSettingUpdate'](_0x2bce98[_0x5dab73(0x430)],_0x2bce98[_0x5dab73(0xbf)]),{'update':'success'};}catch(_0x260bc3){throw new O('Error\x20change\x20group\x20setting',_0x260bc3[_0x5dab73(0x611)]());}}async['findGroups'](){const _0x1cf50c=a0_0x1d42ab;try{let _0x4f085b=[],_0x63ba18=await this[_0x1cf50c(0x370)][_0x1cf50c(0xd5)](),_0x558ca4=Object[_0x1cf50c(0x6c5)](_0x63ba18),_0x32031f=_0x558ca4['filter'](_0x41eb76=>(0x0,y[_0x1cf50c(0x3b8)])(_0x41eb76?.['id']))[_0x1cf50c(0x6e4)](async _0x5e6555=>{const _0xc8dfa4=_0x1cf50c;try{return await this[_0xc8dfa4(0x370)][_0xc8dfa4(0x15d)](_0x5e6555['id'],_0xc8dfa4(0x4f9));}catch(_0x29646f){return this[_0xc8dfa4(0x701)][_0xc8dfa4(0x429)](this[_0xc8dfa4(0x41b)]+'\x20('+this[_0xc8dfa4(0x225)][_0xc8dfa4(0x43f)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5e6555['id']+':\x20'+(_0x29646f instanceof Error?_0x29646f[_0xc8dfa4(0x312)]:JSON[_0xc8dfa4(0x427)](_0x29646f,null,0x2))),null;}}),_0x3dcc52=await Promise[_0x1cf50c(0x644)](_0x32031f);for(let _0x3e9ea4=0x0;_0x3e9ea4<_0x558ca4['length'];_0x3e9ea4++){let _0x4ec035=_0x558ca4[_0x3e9ea4];(0x0,y[_0x1cf50c(0x3b8)])(_0x4ec035?.['id'])&&_0x4f085b['push']({'groupJid':_0x4ec035?.['id'],'subject':_0x4ec035?.['subject'],'subjectOwner':_0x4ec035?.['subjectOwner']?.[_0x1cf50c(0x4e8)]('@')[0x0],'subjectTime':_0x4ec035?.['subjectTime'],'size':_0x4ec035?.['participants']?.['length'],'owner':_0x4ec035?.[_0x1cf50c(0x4bb)]?.[_0x1cf50c(0x4e8)]('@')[0x0],'creation':_0x4ec035?.['creation'],'desc':_0x4ec035?.['desc'],'restrict':_0x4ec035?.[_0x1cf50c(0xc4)],'announce':_0x4ec035?.[_0x1cf50c(0x5c6)],'image':_0x3dcc52[_0x3e9ea4]});}return _0x4f085b;}catch(_0x130186){throw new F(_0x1cf50c(0x14d),_0x130186[_0x1cf50c(0x611)]());}}async[a0_0x1d42ab(0x4d5)](_0x3d95da){const _0x32198d=a0_0x1d42ab;try{let _0x3c19cf=await this[_0x32198d(0x370)][_0x32198d(0x584)](_0x3d95da[_0x32198d(0x430)]);return{'inviteUrl':_0x32198d(0x5dd)+_0x3c19cf,'inviteCode':_0x3c19cf};}catch(_0x22ace4){throw new F(_0x32198d(0x40f),_0x22ace4['toString']());}}async['revokeInviteCode'](_0x351364){const _0x17c42f=a0_0x1d42ab;try{let _0x6ea95d=await this[_0x17c42f(0x370)]['groupRevokeInvite'](_0x351364['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x6ea95d,'inviteCode':_0x6ea95d};}catch(_0x420629){throw new F(_0x17c42f(0x6a6),_0x420629[_0x17c42f(0x611)]());}}async[a0_0x1d42ab(0x672)](_0x5a8765){const _0x173a18=a0_0x1d42ab;try{if((0x0,k[_0x173a18(0x581)])(_0x5a8765['inviteCode']))var _0xf6acb8=_0x5a8765[_0x173a18(0x4d5)][_0x173a18(0x4e8)]('/')[0x3];else var _0xf6acb8=_0x5a8765['inviteCode'];let _0x520982=await this[_0x173a18(0x370)][_0x173a18(0x12d)](_0xf6acb8);return this[_0x173a18(0x701)][_0x173a18(0x429)](this[_0x173a18(0x41b)]+'\x20('+this[_0x173a18(0x225)]['wuid']+'):\x20'+_0x520982),{'join':!0x0,'inviteCode':_0xf6acb8,'groupJid':_0x520982};}catch(_0x3e0eb7){throw new F('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x3e0eb7[_0x173a18(0x611)]());}}async[a0_0x1d42ab(0x4b6)](_0x5b2423){const _0x11fdc0=a0_0x1d42ab;try{return{'participants':(await this[_0x11fdc0(0x370)][_0x11fdc0(0x49a)](_0x5b2423[_0x11fdc0(0x430)]))[_0x11fdc0(0x247)]};}catch(_0x4b7823){throw new F(_0x11fdc0(0xd1),_0x4b7823[_0x11fdc0(0x611)]());}}async['updateGParticipant'](_0x273e5b){const _0x1b1427=a0_0x1d42ab;try{let _0x44a92e=_0x273e5b[_0x1b1427(0x247)][_0x1b1427(0x6e4)](_0x38327d=>this['createJid'](_0x38327d));return{'updateParticipants':await this['client'][_0x1b1427(0x1d7)](_0x273e5b[_0x1b1427(0x430)],_0x44a92e,_0x273e5b[_0x1b1427(0x65e)])};}catch(_0x31f718){throw new m('Error\x20updating\x20participants',_0x31f718[_0x1b1427(0x611)]());}}async[a0_0x1d42ab(0x1e6)](_0x3b6958){const _0x81d084=a0_0x1d42ab;try{let _0x54e4ed=await this[_0x81d084(0x370)][_0x81d084(0x6d8)](_0x3b6958[_0x81d084(0x430)],_0x3b6958[_0x81d084(0x233)]);return{'success':!0x0};}catch(_0xd971d){throw new m('Error\x20updating\x20setting',_0xd971d[_0x81d084(0x611)]());}}async[a0_0x1d42ab(0x391)](_0xa1166d){const _0x345f4a=a0_0x1d42ab;try{return await this[_0x345f4a(0x370)][_0x345f4a(0x259)](_0xa1166d[_0x345f4a(0x430)]),{'groupJid':_0xa1166d['groupJid'],'leave':!0x0};}catch(_0x57abf8){throw new m(_0x345f4a(0x319),_0x57abf8[_0x345f4a(0x611)]());}}async['pollMessage'](_0x18c4ca){const _0x19f052=a0_0x1d42ab;return await this[_0x19f052(0x659)](_0x18c4ca[_0x19f052(0x5c7)],{'poll':{'name':_0x18c4ca[_0x19f052(0x3e8)]?.[_0x19f052(0x2ce)],'selectableCount':_0x18c4ca[_0x19f052(0x3e8)][_0x19f052(0x66e)],'values':_0x18c4ca[_0x19f052(0x3e8)][_0x19f052(0x6c5)]}},_0x18c4ca?.[_0x19f052(0x3fb)]);}async['listMessage'](_0x56c5e5){const _0x47e309=a0_0x1d42ab;return await this[_0x47e309(0x659)](_0x56c5e5[_0x47e309(0x5c7)],{'listMessage':{'title':_0x56c5e5[_0x47e309(0x18a)][_0x47e309(0x1f3)],'description':_0x56c5e5[_0x47e309(0x18a)][_0x47e309(0x133)],'buttonText':_0x56c5e5[_0x47e309(0x18a)]?.[_0x47e309(0x4ee)],'footerText':_0x56c5e5['listMessage']?.[_0x47e309(0x14b)],'sections':_0x56c5e5[_0x47e309(0x18a)]['sections'],'listType':0x2}},_0x56c5e5?.['options']);}async['menuMessage'](_0x278adb){const _0x2f157b=a0_0x1d42ab;let _0x2a7571;if(_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x48e)]===_0x2f157b(0x4a3)){let _0x423751=_0x278adb['menuMessage'][_0x2f157b(0x5a0)][_0x2f157b(0x462)]('\x0a'),_0x296ea1='',_0x2b51ad='';_0x423751!==-0x1?(_0x296ea1=_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x5a0)]['substring'](0x0,_0x423751)[_0x2f157b(0x640)](),_0x2b51ad=_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x5a0)]['substring'](_0x423751+0x1)):_0x2b51ad=_0x278adb[_0x2f157b(0x273)]['text'];let _0x1db1d9=this['createSectionsFromValues'](_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x532)]);_0x2a7571={'listMessage':{'title':_0x296ea1,'description':_0x2b51ad,'buttonText':_0x278adb[_0x2f157b(0x273)]['buttonText']||_0x2f157b(0x1e8),'footerText':_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x14b)],'sections':_0x1db1d9,'listType':0x2}};}else{if(_0x278adb['menuMessage']['type']===_0x2f157b(0x185)){let _0x3f80a7=_0x278adb[_0x2f157b(0x273)]['choices'][_0x2f157b(0x5f3)](_0x2d3f29=>!(_0x2d3f29[_0x2f157b(0x196)]('[')&&_0x2d3f29[_0x2f157b(0x372)](']')))['map'](_0x40c381=>_0x40c381[_0x2f157b(0x4e8)]('\x0a')[0x0]);_0x2a7571={'poll':{'name':_0x278adb['menuMessage'][_0x2f157b(0x5a0)],'selectableCount':_0x278adb[_0x2f157b(0x273)][_0x2f157b(0x66e)]||0x1,'values':_0x3f80a7}};}}return await this[_0x2f157b(0x659)](_0x278adb['number'],_0x2a7571,_0x278adb?.[_0x2f157b(0x3fb)]);}['createSectionsFromValues'](_0x523732){const _0x21a0cf=a0_0x1d42ab;let _0x5d814d=[],_0xceb460={'rows':[]};return _0x523732[_0x21a0cf(0x371)](_0x331f52=>{const _0x2f9228=_0x21a0cf;if(_0x331f52[_0x2f9228(0x196)]('[')&&_0x331f52[_0x2f9228(0x372)](']'))_0xceb460['rows'][_0x2f9228(0x6e2)]>0x0&&_0x5d814d[_0x2f9228(0x59e)](_0xceb460),_0xceb460={'title':_0x331f52[_0x2f9228(0x66b)](0x1,-0x1),'rows':[]};else{let _0x1da763=_0x331f52[_0x2f9228(0x4e8)]('\x0a')[_0x2f9228(0x6e4)](_0x3028c6=>_0x3028c6[_0x2f9228(0x640)]()),_0x2631cd=_0x1da763[0x0],_0x3c02ea=_0x1da763[0x1]||null,_0x1d99fd=_0x1da763[0x2]||_0x2631cd;_0xceb460[_0x2f9228(0x6a7)]['push']({'title':_0x2631cd,'description':_0x3c02ea,'rowId':_0x1d99fd});}}),_0xceb460[_0x21a0cf(0x6a7)][_0x21a0cf(0x6e2)]>0x0&&_0x5d814d[_0x21a0cf(0x59e)](_0xceb460),_0x5d814d;}async[a0_0x1d42ab(0x296)](_0x5117b8,_0x82246f){const _0x561f7a=a0_0x1d42ab;if(await this[_0x561f7a(0x53f)](_0x5117b8,!0x0)){let _0xc55fc5={'where':{'_id':_0x5117b8['id']}},_0x447236={'status':[_0x82246f[_0x561f7a(0x3f1)]][0x0]};try{let _0x5e7bc6=await this[_0x561f7a(0x544)]['message'][_0x561f7a(0x22d)](_0xc55fc5,_0x447236,this[_0x561f7a(0x225)][_0x561f7a(0x43f)]);_0x5e7bc6&&q(this[_0x561f7a(0x41b)],'messages',{'message':_0x5e7bc6});}catch{}}}[a0_0x1d42ab(0xe1)](_0x19352d){const _0x290e97=a0_0x1d42ab;let _0x37c6e3=[];return _0x19352d[_0x290e97(0x371)](_0x1e69f3=>{const _0x8492b3=_0x290e97;_0x1e69f3['title']&&_0x37c6e3[_0x8492b3(0x59e)]('['+_0x1e69f3[_0x8492b3(0x1f3)]+']'),_0x1e69f3['rows'][_0x8492b3(0x371)](_0x33b631=>{const _0x3fa3bc=_0x8492b3;let _0x40300b=_0x33b631[_0x3fa3bc(0x1f3)];_0x33b631[_0x3fa3bc(0x133)]&&(_0x40300b+='\x0a'+_0x33b631[_0x3fa3bc(0x133)]),_0x40300b+='\x0a'+_0x33b631[_0x3fa3bc(0x61f)],_0x37c6e3[_0x3fa3bc(0x59e)](_0x40300b);});}),_0x37c6e3['join']('|');}[a0_0x1d42ab(0x595)](_0x5299e5){const _0x745060=a0_0x1d42ab;let _0x2b0ec5=_0x5299e5['replace'](/\\n/g,'\x0a')[_0x745060(0x4e8)]('\x0a')[_0x745060(0x5f3)](_0xcb33e1=>_0xcb33e1[_0x745060(0x2c5)](_0x745060(0x51a))||_0xcb33e1[_0x745060(0x2c5)]('EMAIL')),_0x4749d5='';return _0x2b0ec5[_0x745060(0x371)](_0x42c365=>{const _0x2b0d19=_0x745060;let _0x16b737=/TEL(?:.*):(.+)/,_0x4c5351=/EMAIL(?:.*):(.+)/,_0x1cbe62=_0x42c365[_0x2b0d19(0x2d7)](_0x16b737),_0x57388d=_0x42c365[_0x2b0d19(0x2d7)](_0x4c5351);if(_0x1cbe62){let _0x4d1bea=_0x1cbe62[0x1][_0x2b0d19(0x6c2)](/-| |\+|\(|\)/g,'')[_0x2b0d19(0x640)]();_0x4749d5+='Telefone:\x20'+_0x4d1bea+'\x0a';}else{if(_0x57388d){let _0x1afc0f=_0x57388d[0x1][_0x2b0d19(0x640)]();_0x4749d5+=_0x2b0d19(0x3ce)+_0x1afc0f+'\x0a';}}}),_0x4749d5[_0x745060(0x640)]();}async['updateChatWithMessage'](_0x24aba6,_0x3f96b5,_0xae6486){const _0x166e83=a0_0x1d42ab;if(!_0x24aba6[_0x166e83(0x15a)])return;let _0x51e545=_0x3f96b5['key']['remoteJid'][_0x166e83(0x6c2)](/:\d{1,2}@/g,'@'),_0x422592=_0x3f96b5[_0x166e83(0x362)]['fromMe'],_0x25f150=_0x51e545[_0x166e83(0x372)](_0x166e83(0x238)),_0x608616=_0x3f96b5[_0x166e83(0x274)]?.[_0x166e83(0x5a0)]||_0x3f96b5[_0x166e83(0x274)]?.['caption']||_0x3f96b5[_0x166e83(0x274)]?.[_0x166e83(0x4c8)]||_0x3f96b5[_0x166e83(0x274)]?.[_0x166e83(0x2ce)],_0x566f98={'lastmsg':_0x3f96b5[_0x166e83(0x549)]||Date[_0x166e83(0x5aa)](),'imported':!0x1,'unreadcount':_0x422592?0x0:0x1,..._0x422592||_0x25f150?{}:{'name':_0x3f96b5[_0x166e83(0x466)]},..._0x25f150?{'group':_0x25f150}:{}};if(_0xae6486==='MESSAGES_UPSERT'&&_0x422592&&this[_0x166e83(0x480)]?.[_0x166e83(0x182)]['enabled']&&!_0x608616[_0x166e83(0x196)](this[_0x166e83(0x480)]?.['flowConfig'][_0x166e83(0x394)])){let _0x36f551=(this[_0x166e83(0x480)]?.[_0x166e83(0x182)][_0x166e83(0x3b4)]||0x5)*0xea60,_0x5de368=Date[_0x166e83(0x5aa)]()+_0x36f551;_0x566f98[_0x166e83(0x446)]=_0x5de368,this[_0x166e83(0x701)]['verbose'](this[_0x166e83(0x41b)]+'\x20('+this[_0x166e83(0x225)]['wuid']+_0x166e83(0x23a)+_0x5de368+'.');}let _0x3e2967=await this[_0x166e83(0x544)][_0x166e83(0x159)][_0x166e83(0xce)]({'where':{'_id':_0x51e545}},_0x566f98,this[_0x166e83(0x225)]['wuid'],{'new':!0x0,'upsert':!0x0});if(!_0x25f150&&(!_0x3e2967?.['leadInfo']||!_0x3e2967['leadInfo'][_0x166e83(0x499)])&&_0x3f96b5['pushName']&&!_0x422592&&await this[_0x166e83(0x544)]['chat'][_0x166e83(0xce)]({'where':{'_id':_0x51e545}},{'leadInfo':{'nome':_0x3f96b5[_0x166e83(0x466)]}},this[_0x166e83(0x225)][_0x166e83(0x43f)],{'new':!0x0,'upsert':!0x1}),_0x3e2967)q(this[_0x166e83(0x41b)],_0x166e83(0x454),{'chat':_0x3e2967});else{this[_0x166e83(0x701)][_0x166e83(0x241)](this[_0x166e83(0x41b)]+'\x20('+this['instance'][_0x166e83(0x43f)]+_0x166e83(0x5d1));return;}if(!this[_0x166e83(0x480)]?.[_0x166e83(0x182)][_0x166e83(0x561)])return this[_0x166e83(0x701)]['verbose'](this[_0x166e83(0x41b)]+'\x20('+this['instance'][_0x166e83(0x43f)]+_0x166e83(0x48c)),null;if(_0x3e2967[_0x166e83(0x650)][_0x166e83(0x2c5)](_0x166e83(0x238))&&this[_0x166e83(0x480)]?.['flowConfig'][_0x166e83(0x1c3)]===!0x0)return this['logger'][_0x166e83(0x429)](this[_0x166e83(0x41b)]+'\x20('+this[_0x166e83(0x225)][_0x166e83(0x43f)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x3e2967['leadInfo']){if(_0x3e2967[_0x166e83(0x39e)][_0x166e83(0x586)]===0x0||_0x3e2967['leadInfo'][_0x166e83(0x308)])return this[_0x166e83(0x701)]['verbose'](this[_0x166e83(0x41b)]+'\x20('+this[_0x166e83(0x225)][_0x166e83(0x43f)]+_0x166e83(0x4d2)+_0x51e545+',\x20saindo.'),null;if(_0x3e2967[_0x166e83(0x39e)][_0x166e83(0x586)]>Date[_0x166e83(0x5aa)]()&&!_0x3f96b5[_0x166e83(0x274)]?.[_0x166e83(0x4c8)])return this[_0x166e83(0x701)]['verbose'](this[_0x166e83(0x41b)]+'\x20('+this[_0x166e83(0x225)]['wuid']+_0x166e83(0xd6)+new Date(_0x3e2967[_0x166e83(0x39e)][_0x166e83(0x586)])[_0x166e83(0x4c7)]()+_0x166e83(0x627)),null;}this[_0x166e83(0x701)][_0x166e83(0x429)](this[_0x166e83(0x41b)]+'\x20('+this[_0x166e83(0x225)]['wuid']+_0x166e83(0x31a)),this[_0x166e83(0x3e2)](_0xae6486,_0x3f96b5);}async[a0_0x1d42ab(0x53c)](_0x5774b1,_0x214408){const _0xf6a0db=a0_0x1d42ab;if(_0x214408[_0xf6a0db(0x15a)]){let _0x5f1739=_0x5774b1[_0xf6a0db(0x6e4)](async _0x19328c=>{const _0x4ff493=_0xf6a0db;try{let _0x28ea23={'_id':_0x19328c[_0x4ff493(0x650)],'owner':_0x19328c['owner'],'lastcache':0x0};if(_0x19328c[_0x4ff493(0x664)]!==null&&(_0x28ea23['group']=_0x19328c[_0x4ff493(0x664)]),_0x19328c['name']!==null&&(_0x28ea23[_0x4ff493(0x2ce)]=_0x19328c[_0x4ff493(0x2ce)]),_0x19328c[_0x4ff493(0x519)]!==null&&(_0x28ea23[_0x4ff493(0x519)]=_0x19328c[_0x4ff493(0x519)]),_0x19328c[_0x4ff493(0x156)]!==null&&(_0x28ea23[_0x4ff493(0x156)]=_0x19328c[_0x4ff493(0x156)]),_0x19328c[_0x4ff493(0x156)]===null&&(_0x28ea23['imagechat']=_0x4ff493(0x5df)),_0x19328c['lastmsg']!==null&&(_0x28ea23[_0x4ff493(0x5e7)]=_0x19328c[_0x4ff493(0x5e7)]),_0x19328c['archived']!==null&&(_0x28ea23[_0x4ff493(0x42b)]=_0x19328c[_0x4ff493(0x42b)]),_0x19328c[_0x4ff493(0x625)]!==null&&(_0x28ea23[_0x4ff493(0x625)]=_0x19328c['unreadcount']),Object[_0x4ff493(0x6bc)](_0x28ea23)['length']>0x0)return await this[_0x4ff493(0x544)][_0x4ff493(0x159)][_0x4ff493(0xce)]({'where':{'_id':_0x19328c['_id']}},_0x28ea23,this[_0x4ff493(0x225)][_0x4ff493(0x43f)]);}catch(_0x393058){return console['error'](_0x4ff493(0x47c)+_0x19328c['_id']+':',_0x393058),null;}}),_0x371522=(await Promise['all'](_0x5f1739))['filter'](_0x596669=>_0x596669!==null)[_0xf6a0db(0x6e2)];this[_0xf6a0db(0x701)][_0xf6a0db(0x429)](this[_0xf6a0db(0x41b)]+'\x20('+this[_0xf6a0db(0x225)]['wuid']+'):\x20'+_0x371522+_0xf6a0db(0x5a5)+this[_0xf6a0db(0x225)][_0xf6a0db(0x43f)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x1d42ab(0x2b5)](_0x3004d3){const _0x57be69=a0_0x1d42ab;this['logger'][_0x57be69(0x429)](this[_0x57be69(0x41b)]+'\x20('+this[_0x57be69(0x225)][_0x57be69(0x43f)]+_0x57be69(0x127));let _0x59c53c={'readMessages':[{'remoteJid':_0x3004d3[_0x57be69(0x169)][_0x57be69(0x4d8)]['key']['remoteJid'],'fromMe':_0x3004d3[_0x57be69(0x169)][_0x57be69(0x4d8)][_0x57be69(0x362)][_0x57be69(0x5fc)],'id':_0x3004d3[_0x57be69(0x169)][_0x57be69(0x4d8)]['key']['id']}]};await this['markMessageAsRead'](_0x59c53c);}async[a0_0x1d42ab(0x3e2)](_0x54d446,_0x4cde16){const _0x40fc41=a0_0x1d42ab;try{let {key:_0x2a9356,message_normalized:_0x38ac17}=_0x4cde16,_0x365ae8=_0x38ac17,_0x403edc=_0x38ac17[_0x40fc41(0x5a0)]||_0x38ac17[_0x40fc41(0x3fd)]||_0x38ac17[_0x40fc41(0x4c8)]||_0x38ac17[_0x40fc41(0x2ce)],_0x4021d7=_0x2a9356[_0x40fc41(0x6e5)],_0x32ee93;if(_0x365ae8[_0x40fc41(0x362)][_0x40fc41(0x5fc)]&&_0x403edc[_0x40fc41(0x640)]()!==this['AutomateSystem']?.[_0x40fc41(0x182)][_0x40fc41(0x11f)][_0x40fc41(0x640)]())return this[_0x40fc41(0x701)][_0x40fc41(0x429)](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)][_0x40fc41(0x43f)]+_0x40fc41(0x602)),null;if(_0x365ae8['key'][_0x40fc41(0x5fc)]&&_0x403edc[_0x40fc41(0x640)]()===this[_0x40fc41(0x480)]?.[_0x40fc41(0x182)]['stopConversation'][_0x40fc41(0x640)]()){this['logger']['verbose'](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)]['wuid']+_0x40fc41(0x484));let _0x59872d=await this['repository'][_0x40fc41(0x1f7)][_0x40fc41(0x497)]({'remoteJid':_0x4021d7,'status':_0x40fc41(0x66f)},this[_0x40fc41(0x225)][_0x40fc41(0x43f)]);this[_0x40fc41(0x701)][_0x40fc41(0x429)](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)][_0x40fc41(0x43f)]+'):\x20Conversas\x20encontradas:'+_0x59872d);let _0x5e3b8d=Date[_0x40fc41(0x5aa)](),_0x2c5158;return this[_0x40fc41(0x480)]?.[_0x40fc41(0x182)][_0x40fc41(0x30b)]===0x0?_0x2c5158={'stoppedUntil':_0x5e3b8d+0x7591f6200}:_0x2c5158={'stoppedUntil':_0x5e3b8d+this['AutomateSystem']?.[_0x40fc41(0x182)][_0x40fc41(0x30b)]*0x3c*0x3e8},this['logger'][_0x40fc41(0x429)](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)]['wuid']+_0x40fc41(0x2ad)+_0x2c5158),this[_0x40fc41(0x506)](_0x32ee93,_0x2c5158['stoppedUntil']),null;}if(_0x403edc&&_0x403edc['startsWith'](this[_0x40fc41(0x480)]?.[_0x40fc41(0x182)][_0x40fc41(0x394)])&&_0x403edc[_0x40fc41(0x6e2)]>0x4){let _0x26e3a4=await this['repository'][_0x40fc41(0x620)]['findOne']({'where':{'startCommandWord':_0x403edc}},this[_0x40fc41(0x225)][_0x40fc41(0x43f)]);if(this['logger'][_0x40fc41(0x429)](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)]['wuid']+_0x40fc41(0x6b9)),_0x26e3a4)_0x32ee93=await this[_0x40fc41(0x47e)](_0x26e3a4,_0x365ae8[_0x40fc41(0x362)],_0x365ae8);else return this[_0x40fc41(0x701)]['verbose'](this[_0x40fc41(0x41b)]+'\x20('+this['instance'][_0x40fc41(0x43f)]+_0x40fc41(0x230)),null;}else _0x32ee93=await this[_0x40fc41(0x342)](_0x4021d7,_0x365ae8);if(_0x32ee93){this['logger'][_0x40fc41(0x429)](this[_0x40fc41(0x41b)]+'\x20('+this[_0x40fc41(0x225)][_0x40fc41(0x43f)]+_0x40fc41(0x224)),!_0x2a9356[_0x40fc41(0x5fc)]&&_0x32ee93[_0x40fc41(0x524)]&&this[_0x40fc41(0x2b5)](_0x32ee93);let _0x20c156=await this['NextBlock'](_0x32ee93);_0x20c156&&await this[_0x40fc41(0xd8)](_0x32ee93,_0x20c156);}}catch(_0x33da09){this[_0x40fc41(0x701)][_0x40fc41(0x241)](this['instanceName']+'\x20('+this[_0x40fc41(0x225)][_0x40fc41(0x43f)]+_0x40fc41(0x416)+(_0x33da09 instanceof Error?_0x33da09[_0x40fc41(0x312)]:JSON['stringify'](_0x33da09,null,0x2)));}}[a0_0x1d42ab(0x6e7)](_0x38a947,_0x274953='',_0x31d9b1={},_0x124bfb=!0x0){const _0x4b9d72=a0_0x1d42ab;for(let _0x122702 in _0x38a947){let _0x37a050=_0x124bfb?'_'+_0x122702:''+_0x274953+_0x122702;typeof _0x38a947[_0x122702]=='object'&&_0x38a947[_0x122702]!==null?this[_0x4b9d72(0x6e7)](_0x38a947[_0x122702],_0x37a050+'.',_0x31d9b1,!0x1):_0x31d9b1[_0x37a050]=String(_0x38a947[_0x122702]);}return _0x31d9b1;}[a0_0x1d42ab(0x5b1)](_0x26f790){const _0x48d293=a0_0x1d42ab;let _0x3ab4f6={};for(let _0x501cf7 of _0x26f790)typeof _0x501cf7[_0x48d293(0x2ce)]==_0x48d293(0x6e1)&&typeof _0x501cf7[_0x48d293(0x681)]==_0x48d293(0x6e1)&&(_0x3ab4f6[_0x501cf7[_0x48d293(0x2ce)]]=_0x501cf7[_0x48d293(0x681)]);return _0x3ab4f6;}async[a0_0x1d42ab(0x422)](_0x2e45d8){const _0x2e5501=a0_0x1d42ab;if(!this[_0x2e5501(0x480)]?.['flowConfig']['enabled']||_0x2e45d8['status']!==_0x2e5501(0x66f)&&_0x2e45d8[_0x2e5501(0x655)]==='')return null;let _0x19064=_0x2e45d8['chatLog'][_0x2e5501(0x45a)]||'start';typeof _0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x35e)]>'u'&&(_0x2e45d8['chatLog']['lastCondition']=!0x0);let _0x44278d=_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x35e)];this[_0x2e5501(0x701)][_0x2e5501(0x429)](this['instanceName']+'\x20('+this[_0x2e5501(0x225)][_0x2e5501(0x43f)]+_0x2e5501(0x2b1)+_0x19064+_0x2e5501(0x2e2)+_0x44278d);let _0x314957=_0x19064===_0x2e5501(0x289)?_0x2e45d8[_0x2e5501(0xd2)][_0x2e5501(0x497)](_0x161113=>_0x161113[_0x2e5501(0x48e)]==='start'):_0x2e45d8['blocks']['find'](_0x91909b=>_0x91909b['_id'][_0x2e5501(0x611)]()===_0x19064[_0x2e5501(0x611)]());if(!_0x314957)return this[_0x2e5501(0x701)][_0x2e5501(0x241)](this[_0x2e5501(0x41b)]+'\x20('+this[_0x2e5501(0x225)]['wuid']+_0x2e5501(0x3be)+_0x19064),null;let _0x395179={'_pushName':_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x4d8)][_0x2e5501(0x466)],..._0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x3cb)]},_0x344ed7=null;if(_0x2e45d8['waitingMenu_id']){let _0xc37cb2=_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x4d8)][_0x2e5501(0x4c8)],_0x5a47d0=_0x2e45d8[_0x2e5501(0x2c0)][_0x2e5501(0x497)](_0x4b469e=>_0x4b469e[_0x2e5501(0x348)]===_0xc37cb2);if(_0x5a47d0){let _0x1b8978=_0x5a47d0[_0x2e5501(0x158)];if(_0x344ed7=_0x2e45d8[_0x2e5501(0xd2)][_0x2e5501(0x497)](_0x4ca1bf=>_0x4ca1bf[_0x2e5501(0x617)]===_0x1b8978&&_0x4ca1bf[_0x2e5501(0x6c8)]===0x1),_0x314957['uazapi'][_0x2e5501(0x52c)]){let _0x53f4ec={'id':_0x2e45d8[_0x2e5501(0x655)],'remoteJid':_0x2e45d8['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x53f4ec);}if(_0x314957[_0x2e5501(0x6da)][_0x2e5501(0x52c)]&&_0x314957[_0x2e5501(0x6da)]['pollMessageOnDelete']&&_0x314957[_0x2e5501(0x6da)]['menuType']==='poll'){let _0x2caa48={'number':_0x2e45d8[_0x2e5501(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x2e5501(0x272)+_0x2e45d8['waitingMenu_text']+_0x2e5501(0x440)+_0xc37cb2}};await this[_0x2e5501(0x3bc)](_0x2caa48);}_0x2e45d8[_0x2e5501(0x3f1)]=_0x2e5501(0x66f),_0x2e45d8[_0x2e5501(0x655)]='',_0x2e45d8['waitingMenu_text']='',_0x2e45d8[_0x2e5501(0x2c0)]=[];}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2e5501(0x225)][_0x2e5501(0x43f)]+_0x2e5501(0x265));let _0x5c2522={'activatedCount':_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x47d)]['filter'](_0x46ea7e=>String(_0x46ea7e[_0x2e5501(0x5ed)])===String(_0x19064))['length'],'moreLogs':[_0x2e5501(0x2fd)]};if(_0x314957[_0x2e5501(0x6da)][_0x2e5501(0x12c)]){let _0x3a80cf={'number':_0x2e45d8[_0x2e5501(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x314957[_0x2e5501(0x6da)][_0x2e5501(0x12c)]}};await this[_0x2e5501(0x3bc)](_0x3a80cf);}if(_0x314957['maxActives']!==void 0x0&&_0x5c2522[_0x2e5501(0x542)]>=_0x314957[_0x2e5501(0x1c6)]){let _0x1a1cac=Date[_0x2e5501(0x5aa)](),_0x36894a=_0x314957['stopMinutesMaxActives']??0xa;isNaN(_0x36894a)&&(_0x36894a=0xa);let _0x13e150=_0x1a1cac+_0x36894a*0x3c*0x3e8;_0x5c2522['newStoppedUntil']=_0x13e150,_0x5c2522['moreLogs'][_0x2e5501(0x59e)]('Atingido\x20interaes\x20mximas,\x20parando\x20fluxo'),this[_0x2e5501(0x506)](_0x2e45d8,_0x13e150),_0x2e45d8[_0x2e5501(0x655)]='',_0x2e45d8[_0x2e5501(0x1bd)]='',_0x2e45d8[_0x2e5501(0x2c0)]=[];}return this[_0x2e5501(0x643)](_0x2e45d8,_0x314957,_0x5c2522,!0x0),null;}}if(_0x44278d&&_0x314957[_0x2e5501(0x158)]&&!_0x2e45d8[_0x2e5501(0x655)]){let _0x42c87b=_0x2e45d8[_0x2e5501(0xd2)][_0x2e5501(0x5f3)](_0x472d31=>_0x472d31[_0x2e5501(0x617)][_0x2e5501(0x611)]()===_0x314957[_0x2e5501(0x158)]['toString']())[_0x2e5501(0x4a4)]((_0x7caf5a,_0x388a28)=>_0x7caf5a[_0x2e5501(0x6c8)]-_0x388a28['order']);_0x42c87b[_0x2e5501(0x6e2)]>0x0&&(_0x344ed7=_0x42c87b[0x0]);}if(!_0x344ed7){let _0x348c00=_0x314957[_0x2e5501(0x617)],_0x3de5a8=_0x2e45d8[_0x2e5501(0xd2)][_0x2e5501(0x5f3)](_0x3b538c=>_0x3b538c[_0x2e5501(0x617)]===_0x348c00&&_0x3b538c[_0x2e5501(0x6c8)]>_0x314957[_0x2e5501(0x6c8)])['sort']((_0x14fe6c,_0x352135)=>_0x14fe6c[_0x2e5501(0x6c8)]-_0x352135[_0x2e5501(0x6c8)]);_0x3de5a8[_0x2e5501(0x6e2)]>0x0&&(_0x344ed7=_0x3de5a8[0x0]);}if(!_0x344ed7)return _0x2e45d8[_0x2e5501(0x3f1)]=_0x2e5501(0x469),null;_0x2e45d8[_0x2e5501(0x169)]['realVariables']=_0x395179;let _0x18276d=JSON[_0x2e5501(0x698)](JSON[_0x2e5501(0x427)](_0x344ed7));return this['replaceVariablesInObject'](_0x18276d,_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x3cb)]),_0x2e45d8[_0x2e5501(0x169)][_0x2e5501(0x45a)]=_0x18276d[_0x2e5501(0x650)],_0x2e45d8[_0x2e5501(0x169)]['lastCondition']=!0x0,_0x18276d;}[a0_0x1d42ab(0x38d)](_0xb14aca,_0x1fc88c){const _0x47bc0a=a0_0x1d42ab;return _0xb14aca[_0x47bc0a(0x6c2)](/\{\{([^}]+)\}\}/g,(_0x2f9ab0,_0x3f3352)=>_0x1fc88c[_0x3f3352]||'');}[a0_0x1d42ab(0x23f)](_0x21f3e3,_0x430cbe){const _0x3fe534=a0_0x1d42ab;for(let _0x41f481 in _0x21f3e3)typeof _0x21f3e3[_0x41f481]=='string'?_0x21f3e3[_0x41f481]=this[_0x3fe534(0x38d)](_0x21f3e3[_0x41f481],_0x430cbe):typeof _0x21f3e3[_0x41f481]==_0x3fe534(0x1b0)&&this['replaceVariablesInObject'](_0x21f3e3[_0x41f481],_0x430cbe);}async['goNextblock'](_0x5bae4c,_0x851906){const _0x53960c=a0_0x1d42ab;let _0x1407b7=_0x851906['_id'];if(_0x5bae4c[_0x53960c(0x169)]&&_0x5bae4c[_0x53960c(0x169)][_0x53960c(0x47d)]){let _0x2179c7=_0x5bae4c['chatLog'][_0x53960c(0x47d)][_0x53960c(0x5f3)](_0x3f9eb6=>String(_0x3f9eb6[_0x53960c(0x5ed)])===String(_0x1407b7))[_0x53960c(0x3c1)]();if(_0x2179c7&&_0x2179c7[_0x53960c(0x241)]&&_0x851906[_0x53960c(0x509)])return _0x5bae4c['status']=_0x53960c(0x469),await this[_0x53960c(0x39d)](_0x5bae4c),null;}if(_0x851906['type']===_0x53960c(0x6da)&&_0x851906[_0x53960c(0x6da)][_0x53960c(0x191)]===_0x53960c(0x3a6)&&_0x5bae4c[_0x53960c(0x655)])return _0x5bae4c[_0x53960c(0x169)][_0x53960c(0x45a)]=_0x1407b7,await this[_0x53960c(0x39d)](_0x5bae4c),null;let _0x3753de=await this['NextBlock'](_0x5bae4c);if(_0x5bae4c[_0x53960c(0x169)]&&_0x5bae4c[_0x53960c(0x169)][_0x53960c(0x47d)]){let _0x154f2f=_0x5bae4c[_0x53960c(0x169)][_0x53960c(0x47d)]['filter'](_0x25b9bf=>String(_0x25b9bf[_0x53960c(0x5ed)])===String(_0x1407b7))[_0x53960c(0x6e2)];if(_0x851906[_0x53960c(0x1c6)]!==void 0x0&&_0x154f2f>=_0x851906[_0x53960c(0x1c6)]){let _0x15f2a9=Date[_0x53960c(0x5aa)](),_0x5a536f=_0x851906['stopMinutesMaxActives']??0xa;isNaN(_0x5a536f)&&(_0x5a536f=0xa);let _0x339135=_0x15f2a9+_0x5a536f*0x3c*0x3e8,_0x11b942={'newStoppedUntil':_0x339135};return this[_0x53960c(0x506)](_0x5bae4c,_0x339135),this[_0x53960c(0x643)](_0x5bae4c,_0x851906,_0x11b942,!0x0),null;}}_0x3753de&&_0x3753de[_0x53960c(0x48e)]!==_0x53960c(0x2f3)&&await this[_0x53960c(0xd8)](_0x5bae4c,_0x3753de),_0x3753de||await this[_0x53960c(0x39d)](_0x5bae4c),_0x3753de&&_0x3753de[_0x53960c(0x48e)]===_0x53960c(0x2f3)&&(_0x5bae4c['chatLog'][_0x53960c(0x45a)]=_0x1407b7,await this[_0x53960c(0x39d)](_0x5bae4c));}async[a0_0x1d42ab(0xd8)](_0x99a6ee,_0x43dabe){const _0x5ae692=a0_0x1d42ab;try{let _0x18bafb=_0x43dabe['type'];this[_0x5ae692(0x701)][_0x5ae692(0x429)](this['instanceName']+'\x20('+this[_0x5ae692(0x225)][_0x5ae692(0x43f)]+'):\x20Going\x20to\x20'+_0x18bafb);let _0x369df5={'uazapi':()=>this[_0x5ae692(0x45c)](_0x99a6ee,_0x43dabe),'save':()=>this[_0x5ae692(0x4e4)](_0x99a6ee,_0x43dabe),'stop':()=>this[_0x5ae692(0x11f)](_0x99a6ee,_0x43dabe),'condition':()=>this[_0x5ae692(0x434)](_0x99a6ee,_0x43dabe),'varedit':()=>this['processvaredits'](_0x99a6ee,_0x43dabe),'apirequest':()=>this[_0x5ae692(0x41f)](_0x99a6ee,_0x43dabe),'goToFlow':()=>this[_0x5ae692(0x6ed)](_0x99a6ee,_0x43dabe)}[_0x18bafb];_0x369df5&&await _0x369df5();}catch(_0x494afb){this[_0x5ae692(0x701)][_0x5ae692(0x241)](this['instanceName']+'\x20('+this[_0x5ae692(0x225)][_0x5ae692(0x43f)]+_0x5ae692(0x3aa)+(_0x494afb instanceof Error?_0x494afb['message']:JSON[_0x5ae692(0x427)](_0x494afb,null,0x2)));}}async[a0_0x1d42ab(0x6ed)](_0x1af692,_0x56e447){const _0x10a155=a0_0x1d42ab;if(this[_0x10a155(0x701)][_0x10a155(0x429)](this[_0x10a155(0x41b)]+'\x20('+this[_0x10a155(0x225)]['wuid']+'):\x20Entrou\x20na\x20funo\x20goToFlow'),!_0x1af692||!_0x56e447)return this[_0x10a155(0x701)][_0x10a155(0x241)](this[_0x10a155(0x41b)]+'\x20('+this[_0x10a155(0x225)][_0x10a155(0x43f)]+_0x10a155(0xfa)),null;await this[_0x10a155(0x643)](_0x1af692,_0x56e447,{},!0x0,!0x0),console[_0x10a155(0x1c0)](_0x10a155(0x4a2)),console[_0x10a155(0x1c0)](_0x56e447);let _0x57cbcd=_0x56e447['goToFlow'];console[_0x10a155(0x1c0)](_0x10a155(0x5a9),_0x57cbcd),_0x1af692=await this[_0x10a155(0x6be)](_0x57cbcd,_0x1af692[_0x10a155(0x6e5)],_0x1af692[_0x10a155(0x169)][_0x10a155(0x3cb)]),this[_0x10a155(0x701)][_0x10a155(0x429)](this[_0x10a155(0x41b)]+'\x20('+this[_0x10a155(0x225)][_0x10a155(0x43f)]+_0x10a155(0x131));let _0x25b563=await this[_0x10a155(0x422)](_0x1af692);_0x25b563&&await this[_0x10a155(0xd8)](_0x1af692,_0x25b563);}async[a0_0x1d42ab(0x6be)](_0x5dfb12,_0x1c81e7,_0x51bcde){const _0x4a0741=a0_0x1d42ab;this['logger'][_0x4a0741(0x429)](this['instanceName']+'\x20('+this[_0x4a0741(0x225)][_0x4a0741(0x43f)]+_0x4a0741(0x251));try{if(_0x5dfb12=await this[_0x4a0741(0x544)][_0x4a0741(0x620)][_0x4a0741(0x2dc)]({'where':{'name':_0x5dfb12}},this[_0x4a0741(0x225)][_0x4a0741(0x43f)]),!_0x5dfb12)return this['logger'][_0x4a0741(0x241)](this[_0x4a0741(0x41b)]+'\x20('+this[_0x4a0741(0x225)][_0x4a0741(0x43f)]+_0x4a0741(0x1df)),null;let _0x1005e6=require(_0x4a0741(0x547))[_0x4a0741(0x1e3)],_0x210de2=Date[_0x4a0741(0x5aa)](),_0x34f47a=_0x4a0741(0x289),_0x4ad9d9={},_0x32116a={},_0x5b3832={..._0x5dfb12,'chatLog':null},_0x11bfee={'lastReceivedMessage':_0x4ad9d9,'lastSendMessage':_0x32116a,'lastBlockId':_0x34f47a,'lastCondition':!0x0,'realVariables':_0x51bcde};_0x5b3832['chatLog']=_0x11bfee,_0x5b3832[_0x4a0741(0x169)]['realVariables']={..._0x51bcde},delete _0x5b3832[_0x4a0741(0x650)],_0x5b3832['_id']=new _0x1005e6(),_0x5b3832[_0x4a0741(0x190)]=_0x210de2,_0x5b3832[_0x4a0741(0x3f1)]=_0x4a0741(0x66f),_0x5b3832[_0x4a0741(0x6e5)]=_0x1c81e7;let _0x179b38=await this[_0x4a0741(0x544)][_0x4a0741(0x1f7)][_0x4a0741(0xce)](_0x5b3832[_0x4a0741(0x650)],_0x5b3832,this[_0x4a0741(0x225)]['wuid']);return this['logger'][_0x4a0741(0x429)](this[_0x4a0741(0x41b)]+'\x20('+this['instance']['wuid']+_0x4a0741(0x5a3)),_0x179b38?_0x5b3832:null;}catch(_0x669d42){throw this[_0x4a0741(0x701)][_0x4a0741(0x241)](this[_0x4a0741(0x41b)]+'\x20('+this[_0x4a0741(0x225)][_0x4a0741(0x43f)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x669d42 instanceof Error?_0x669d42[_0x4a0741(0x312)]:JSON[_0x4a0741(0x427)](_0x669d42,null,0x2))),new m(_0x669d42[_0x4a0741(0x312)]);}}async[a0_0x1d42ab(0x41f)](_0x4f0755,_0xe33172){const _0x56f4b6=a0_0x1d42ab;let _0x37b4b6,_0x516b1;try{let _0x448c5d=_0xe33172[_0x56f4b6(0x64a)];if(!_0x448c5d||!_0x448c5d[_0x56f4b6(0x62e)]||!_0x448c5d[_0x56f4b6(0x407)])throw new Error(_0x56f4b6(0x353));let _0x3f89de;([_0x56f4b6(0x5c3),'https://api.openai.com/v1/images/generations',_0x56f4b6(0x3ac)][_0x56f4b6(0x2b7)](_0x5e6e17=>_0x448c5d[_0x56f4b6(0x62e)][_0x56f4b6(0x2c5)](_0x5e6e17))||_0x448c5d[_0x56f4b6(0x299)])&&(_0x3f89de=_0x56f4b6(0x47f));let _0x5da4e5={'method':_0x448c5d[_0x56f4b6(0x407)],'url':_0x448c5d[_0x56f4b6(0x62e)],'headers':_0x448c5d[_0x56f4b6(0x160)]||{},'data':_0x448c5d[_0x56f4b6(0x2c7)]||{},..._0x3f89de&&{'responseType':_0x3f89de}},_0x410d3f=await(0x0,se['default'])(_0x5da4e5),_0xd14901=_0x410d3f[_0x56f4b6(0x60a)][_0x56f4b6(0x356)];if(_0xd14901&&_0xd14901['includes'](_0x56f4b6(0x6fa))){_0x37b4b6=_0x410d3f[_0x56f4b6(0x63a)];let _0x4c9273=_0x4f0755[_0x56f4b6(0x169)][_0x56f4b6(0x3cb)],_0x489f61=this['flattenObject'](_0x37b4b6);return Object[_0x56f4b6(0x56a)](_0x4c9273,_0x489f61),_0x4f0755[_0x56f4b6(0x169)][_0x56f4b6(0x3cb)]=_0x4c9273,_0x516b1={'error':!0x1,'apiResponse':_0x37b4b6},this['updateConversation'](_0x4f0755,_0xe33172,_0x516b1),_0x37b4b6;}if(_0xd14901&&(_0xd14901[_0x56f4b6(0x2c5)](_0x56f4b6(0x18c))||_0xd14901[_0x56f4b6(0x2c5)](_0x56f4b6(0x41c))||_0xd14901['includes'](_0x56f4b6(0x5bb))||_0xd14901[_0x56f4b6(0x2c5)]('video'))){this[_0x56f4b6(0x701)]['verbose'](this[_0x56f4b6(0x41b)]+'\x20('+this[_0x56f4b6(0x225)][_0x56f4b6(0x43f)]+'):\x20Tipo\x20de\x20contedo\x20identificado:\x20'+_0xd14901);let _0x22f477=(0x0,Ce['v4'])(),_0x149582='',_0x5ad504={'image/jpeg':'.jpg','image/png':_0x56f4b6(0x3a8),'image/gif':_0x56f4b6(0x1e2),'image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':_0x56f4b6(0x704),'audio/ogg':_0x56f4b6(0x628),'audio/wav':'.wav','video/mp4':_0x56f4b6(0x59c),'video/webm':_0x56f4b6(0x6dc),'video/ogg':'.ogv','text/plain':_0x56f4b6(0x51b),'application/pdf':_0x56f4b6(0x222),'application/msword':_0x56f4b6(0x34f),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x56f4b6(0x326),'application/vnd.ms-excel':_0x56f4b6(0x1a8),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x56f4b6(0x5b2),'application/vnd.ms-powerpoint':_0x56f4b6(0x3b7),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x56f4b6(0x58e)};_0x5ad504[_0xd14901]?(_0x149582=_0x5ad504[_0xd14901],this['logger'][_0x56f4b6(0x429)](this[_0x56f4b6(0x41b)]+'\x20('+this['instance'][_0x56f4b6(0x43f)]+'):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x149582)):(_0x149582=_0x56f4b6(0x65f),this[_0x56f4b6(0x701)]['verbose'](this[_0x56f4b6(0x41b)]+'\x20('+this['instance'][_0x56f4b6(0x43f)]+'):\x20Usando\x20extenso\x20padro:\x20'+_0x149582)),_0x22f477+=_0x149582,this[_0x56f4b6(0x701)][_0x56f4b6(0x429)](this[_0x56f4b6(0x41b)]+'\x20('+this['instance'][_0x56f4b6(0x43f)]+_0x56f4b6(0x3ec)+_0x22f477);let _0x3548d6=this[_0x56f4b6(0x566)]['get'](_0x56f4b6(0x283))[_0x56f4b6(0x22b)];if(!_0x3548d6){let _0x125c65=this[_0x56f4b6(0x566)][_0x56f4b6(0x406)](_0x56f4b6(0x487));_0x3548d6=_0x56f4b6(0x344)+(_0x125c65&&_0x125c65['FULLCHAIN']['split']('/')[0x4]);}let _0x501316=Buffer[_0x56f4b6(0x221)](_0x410d3f[_0x56f4b6(0x63a)]);await this[_0x56f4b6(0x498)](_0x501316,_0x22f477);let _0x593b5b='/media/'+_0x22f477;_0x593b5b=''+_0x3548d6+_0x593b5b,_0x37b4b6={'fileUrl':_0x593b5b},_0x4f0755['chatLog'][_0x56f4b6(0x3cb)][_0x56f4b6(0x143)]=_0x593b5b;let _0x3ee6c8=_0x4f0755[_0x56f4b6(0x169)]['realVariables'],_0x2fe751=this[_0x56f4b6(0x6e7)](_0x37b4b6);return Object[_0x56f4b6(0x56a)](_0x3ee6c8,_0x2fe751),_0x4f0755['chatLog']['realVariables']=_0x3ee6c8,_0x516b1={'error':!0x1,'apiResponse':{'fileUrl':_0x593b5b}},this[_0x56f4b6(0x643)](_0x4f0755,_0xe33172,_0x516b1),_0x37b4b6;}}catch(_0x39f293){console[_0x56f4b6(0x241)](_0x56f4b6(0x2b6),_0x39f293),_0x39f293[_0x56f4b6(0x489)]&&(_0x37b4b6=_0x39f293['response']['data']);let _0x13d92f=_0x4f0755['chatLog']['realVariables'],_0x101662=this[_0x56f4b6(0x6e7)](_0x37b4b6);return Object[_0x56f4b6(0x56a)](_0x13d92f,_0x101662),_0x4f0755[_0x56f4b6(0x169)]['realVariables']=_0x13d92f,_0x516b1={'error':!0x0,'errorLog':_0x39f293[_0x56f4b6(0x611)](),'apiResponse':_0x37b4b6},this['updateConversation'](_0x4f0755,_0xe33172,_0x516b1),{'success':!0x1};}}[a0_0x1d42ab(0x171)](_0x337d46,_0x2d6d73){const _0x588703=a0_0x1d42ab;let _0x2fe8e6=_0x17991f=>{const _0x8a02f1=a0_0x3f00;let _0x5cec0d=_0x17991f[_0x8a02f1(0x6c2)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x1f5074=parseFloat(_0x5cec0d);return isNaN(_0x1f5074)?null:_0x1f5074;},_0x3aa613=_0x2d6d73[_0x588703(0xe9)],_0x1fe6ed=_0x2d6d73[_0x588703(0x114)];typeof _0x3aa613==_0x588703(0x6e1)&&(_0x3aa613=this['replaceVariables'](_0x3aa613,_0x337d46[_0x588703(0x169)][_0x588703(0x3cb)])??''),typeof _0x1fe6ed==_0x588703(0x6e1)&&(_0x1fe6ed=this['replaceVariables'](_0x1fe6ed,_0x337d46['chatLog'][_0x588703(0x3cb)])??'');let _0x2c4c75=null;if(!_0x2d6d73[_0x588703(0x399)])return null;switch(this['logger'][_0x588703(0x429)](this[_0x588703(0x41b)]+'\x20('+this['instance']['wuid']+_0x588703(0x306)+_0x3aa613),this[_0x588703(0x701)][_0x588703(0x429)](this['instanceName']+'\x20('+this['instance'][_0x588703(0x43f)]+_0x588703(0x3d8)+_0x1fe6ed),_0x2d6d73[_0x588703(0x399)]){case'+':case'-':case'*':case'/':let _0xce4e3b=_0x2fe8e6(_0x3aa613||'0'),_0x28c301=_0x2fe8e6(_0x1fe6ed||'0');if(_0xce4e3b===null)return null;switch(_0x2d6d73['editOperator']){case'+':_0x2c4c75=_0xce4e3b+(_0x28c301??0x0);break;case'-':_0x2c4c75=_0xce4e3b-(_0x28c301??0x0);break;case'*':_0x2c4c75=_0xce4e3b*(_0x28c301??0x1);break;case'/':_0x28c301!==0x0&&(_0x2c4c75=_0xce4e3b/(_0x28c301??0x1));break;}break;case _0x588703(0x59f):case _0x588703(0x45e):let _0x27cb27=_0x1fe6ed,_0x417615=_0x2d6d73[_0x588703(0x4f1)];if(typeof _0x417615==_0x588703(0x6e1)&&(_0x417615=this[_0x588703(0x38d)](_0x417615,_0x337d46[_0x588703(0x169)][_0x588703(0x3cb)])??''),_0x27cb27&&_0x417615!==void 0x0){let _0x4c3c35=_0x2d6d73['editOperator']===_0x588703(0x59f)?new RegExp(_0x27cb27[_0x588703(0x6c2)](/[-\/\\^$*+?.()|[\]{}]/g,_0x588703(0x189)),'g'):new RegExp(_0x27cb27,'g');_0x2c4c75=_0x3aa613[_0x588703(0x6c2)](_0x4c3c35,_0x417615);}else console[_0x588703(0x3b6)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x588703(0x3dd):_0x2c4c75=_0x1fe6ed;break;case _0x588703(0x1f4):let _0xf376f5=_0x3aa613[_0x588703(0x2d7)](new RegExp(_0x1fe6ed||''));_0x2c4c75=_0xf376f5?_0xf376f5[0x0]:'';break;case'truncatedto':_0x2c4c75=_0x3aa613[_0x588703(0x66b)](0x0,parseInt(_0x1fe6ed||'0'));break;case _0x588703(0x678):let _0x19fdd0=parseInt(_0x1fe6ed||'0');_0x2c4c75=_0x3aa613[_0x588703(0x66b)](_0x3aa613[_0x588703(0x6e2)]-_0x19fdd0);break;case _0x588703(0x35a):let _0x508aa0=_0x2fe8e6(_0x3aa613),_0x4c872f=parseInt(_0x1fe6ed||'0');_0x4c872f=Math[_0x588703(0x4c3)](_0x4c872f),_0x508aa0!==null?_0x2c4c75=_0x508aa0['toLocaleString'](_0x588703(0x653),{'minimumFractionDigits':_0x4c872f,'maximumFractionDigits':_0x4c872f}):(console[_0x588703(0x3b6)]('Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20'+_0x3aa613),_0x2c4c75=null);break;case _0x588703(0x6a0):let _0x534261=_0x2fe8e6(_0x3aa613);_0x534261!==null?_0x2c4c75=_0x534261[_0x588703(0x4c7)](_0x588703(0x653),{'style':_0x588703(0x4b7),'currency':'BRL'}):(console[_0x588703(0x3b6)](_0x588703(0x1e9)+_0x3aa613),_0x2c4c75=null);break;case _0x588703(0x4fe):_0x2c4c75=_0x3aa613['toUpperCase']();break;case _0x588703(0x20f):_0x2c4c75=_0x3aa613[_0x588703(0x4c0)]();break;case'capitalizedWords':_0x2c4c75=_0x3aa613[_0x588703(0x4e8)]('\x20')[_0x588703(0x6e4)](_0x1e2878=>_0x1e2878[_0x588703(0x488)](0x0)[_0x588703(0x4cc)]()+_0x1e2878[_0x588703(0x66b)](0x1)[_0x588703(0x4c0)]())[_0x588703(0x455)]('\x20');break;case _0x588703(0x28d):_0x2c4c75=_0x3aa613[_0x588703(0x640)]();break;default:_0x2c4c75=_0x3aa613;}return _0x2c4c75!==null?_0x2c4c75[_0x588703(0x611)]():null;}async['processvaredits'](_0x1d6122,_0x4130b0){const _0x47fa4f=a0_0x1d42ab;try{let _0x2c4834=_0x1d6122[_0x47fa4f(0x2b3)]?.['filter'](_0x3471da=>_0x3471da[_0x47fa4f(0x5ed)]===_0x4130b0[_0x47fa4f(0x650)]?.[_0x47fa4f(0x611)]())||[],_0x4a4e2d=_0x4130b0[_0x47fa4f(0x5b3)],_0x289582=null,_0x3f466c=[],_0xdb7e6d=_0x1d6122[_0x47fa4f(0x169)][_0x47fa4f(0x3cb)][_0x4a4e2d];_0x3f466c[_0x47fa4f(0x59e)](_0x47fa4f(0x471)+_0xdb7e6d+'\x22');for(let _0x5b01b7 of _0x2c4834){_0x5b01b7[_0x47fa4f(0xe9)]=_0xdb7e6d,_0x289582=_0x5b01b7[_0x47fa4f(0xe9)];let _0x391dd8;try{_0x391dd8=this['applyvaredit'](_0x1d6122,_0x5b01b7);}catch(_0x502a67){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x502a67[_0x47fa4f(0x312)]);continue;}if(_0x391dd8!==null){let _0x338247=_0x47fa4f(0x2ac)+_0x5b01b7[_0x47fa4f(0x399)]+'\x22',_0x1f85dc=['toBRL',_0x47fa4f(0x4fe),_0x47fa4f(0x20f),_0x47fa4f(0x106),_0x47fa4f(0x28d)];_0x5b01b7[_0x47fa4f(0x399)]===_0x47fa4f(0x59f)||_0x5b01b7['editOperator']==='findAndReplaceRegex'?_0x338247+=_0x47fa4f(0x3fa)+_0x5b01b7[_0x47fa4f(0x114)]+_0x47fa4f(0x4d1)+_0x5b01b7['replaceValue']+'\x22':!_0x1f85dc[_0x47fa4f(0x2c5)](_0x5b01b7[_0x47fa4f(0x399)])&&_0x5b01b7[_0x47fa4f(0x114)]!==null&&_0x5b01b7['secondValue']!==void 0x0&&(_0x338247+=_0x47fa4f(0x4db)+_0x5b01b7[_0x47fa4f(0x114)]+'\x22'),_0x338247+=_0x47fa4f(0x6ec)+_0x391dd8+'.',_0x3f466c[_0x47fa4f(0x59e)](_0x338247);}_0x391dd8!==null&&(_0xdb7e6d=_0x391dd8);}if(_0x1d6122[_0x47fa4f(0x169)][_0x47fa4f(0x3cb)]&&_0x4130b0['saveVariable']){_0x1d6122[_0x47fa4f(0x169)]['realVariables'][_0x4130b0[_0x47fa4f(0x5b3)]]=_0xdb7e6d;let _0x850532={'variable':_0x4130b0[_0x47fa4f(0x5b3)],'oldValue':_0x289582,'newValue':_0xdb7e6d,'moreLogs':_0x3f466c};try{this[_0x47fa4f(0x643)](_0x1d6122,_0x4130b0,_0x850532);}catch(_0x430a27){console[_0x47fa4f(0x241)](_0x47fa4f(0x146)+_0x430a27['message']);}}return _0x4a4e2d;}catch(_0xc8b19c){return console[_0x47fa4f(0x241)](_0x47fa4f(0x5d3)+_0xc8b19c[_0x47fa4f(0x312)]),null;}}async[a0_0x1d42ab(0x434)](_0x1564a7,_0x24495a){const _0x239e20=a0_0x1d42ab;try{let _0x456529=[],_0x3dd077=_0x1564a7[_0x239e20(0x35d)]['filter'](_0xe30176=>_0xe30176[_0x239e20(0x5ed)]===_0x24495a[_0x239e20(0x650)][_0x239e20(0x611)]()),_0x1cb780=null,_0x1bda20=!0x1;for(let _0x36efc9 of _0x3dd077){let _0x5b17ca=this[_0x239e20(0x1da)](_0x1564a7,_0x36efc9);_0x456529[_0x239e20(0x59e)](_0x239e20(0x6f2)+_0x36efc9[_0x239e20(0xe9)]+_0x239e20(0x6b8)+_0x36efc9['expression']+_0x239e20(0x2cb)+_0x36efc9[_0x239e20(0x114)]+_0x239e20(0x689)+_0x5b17ca),_0x1cb780===null?_0x1cb780=_0x5b17ca:_0x36efc9[_0x239e20(0x22c)]===_0x239e20(0x3d6)?(_0x1cb780=_0x1cb780&&_0x5b17ca,_0x5b17ca||(_0x1bda20=!0x0)):_0x36efc9[_0x239e20(0x22c)]==='or'&&(_0x1bda20||(_0x1cb780=_0x1cb780||_0x5b17ca));}_0x1cb780===null&&(_0x1cb780=!0x0);let _0x4d487b={'moreLogs':_0x456529};_0x1564a7[_0x239e20(0x169)][_0x239e20(0x35e)]=_0x1cb780,await this[_0x239e20(0x643)](_0x1564a7,_0x24495a,_0x4d487b);}catch(_0x4c5bb8){this['logger'][_0x239e20(0x241)](this['instanceName']+'\x20('+this[_0x239e20(0x225)][_0x239e20(0x43f)]+_0x239e20(0x17c)+(_0x4c5bb8 instanceof Error?_0x4c5bb8[_0x239e20(0x312)]:JSON[_0x239e20(0x427)](_0x4c5bb8,null,0x2)));}}['evaluateCondition'](_0x229e35,_0x1f1d71){const _0x2f035c=a0_0x1d42ab;let _0x445a7f=_0x1f1d71[_0x2f035c(0xe9)],_0x363f8e=_0x1f1d71[_0x2f035c(0x114)];typeof _0x445a7f==_0x2f035c(0x6e1)&&(_0x445a7f=this[_0x2f035c(0x38d)](_0x445a7f,_0x229e35[_0x2f035c(0x169)][_0x2f035c(0x3cb)])??''),typeof _0x363f8e==_0x2f035c(0x6e1)&&(_0x363f8e=this[_0x2f035c(0x38d)](_0x363f8e,_0x229e35['chatLog']['realVariables'])??'');try{switch(_0x1f1d71[_0x2f035c(0x3e6)]){case'equal':return _0x445a7f===_0x363f8e;case'notEqual':return _0x445a7f!==_0x363f8e;case _0x2f035c(0x474):return _0x445a7f[_0x2f035c(0x2c5)](_0x363f8e);case _0x2f035c(0x162):return!_0x445a7f[_0x2f035c(0x2c5)](_0x363f8e);case _0x2f035c(0x2cf):return parseFloat(_0x445a7f)>parseFloat(_0x363f8e);case _0x2f035c(0x2f1):return parseFloat(_0x445a7f)<parseFloat(_0x363f8e);case _0x2f035c(0x1c5):return _0x445a7f!=='';case _0x2f035c(0xcf):return _0x445a7f==='';case _0x2f035c(0x4be):return new RegExp(_0x363f8e)[_0x2f035c(0x150)](_0x445a7f);case _0x2f035c(0x442):return!new RegExp(_0x363f8e)['test'](_0x445a7f);default:return!0x1;}}catch(_0x327fa3){return console[_0x2f035c(0x241)](_0x2f035c(0x679)+_0x327fa3),!0x1;}}[a0_0x1d42ab(0x130)](_0x1a6f2c){const _0x191b67=a0_0x1d42ab;let _0x209f95=!0x0,_0x421ba0=null;for(let _0x2611de of _0x1a6f2c){let _0x34a04b=this['evaluateConditionTest'](_0x2611de);if(_0x421ba0==='or'&&_0x34a04b){_0x209f95=!0x0;break;}if(_0x421ba0===_0x191b67(0x3d6)&&!_0x34a04b){_0x209f95=!0x1;break;}_0x421ba0=_0x2611de[_0x191b67(0x22c)];}return _0x209f95;}[a0_0x1d42ab(0x2f4)](_0x54df8c){const _0x1459d3=a0_0x1d42ab;let _0x107cbf=_0x54df8c[_0x1459d3(0xe9)],_0x5c753a=_0x54df8c[_0x1459d3(0x114)];try{switch(_0x54df8c[_0x1459d3(0x3e6)]){case'equal':return String(_0x107cbf)===String(_0x5c753a);case _0x1459d3(0x282):return String(_0x107cbf)!==String(_0x5c753a);case'contains':return String(_0x107cbf)[_0x1459d3(0x2c5)](String(_0x5c753a));case _0x1459d3(0x162):return!String(_0x107cbf)[_0x1459d3(0x2c5)](String(_0x5c753a));case _0x1459d3(0x2cf):return parseFloat(String(_0x107cbf))>parseFloat(String(_0x5c753a));case _0x1459d3(0x2f1):return parseFloat(String(_0x107cbf))<parseFloat(String(_0x5c753a));case _0x1459d3(0x1c5):return String(_0x107cbf)!=='';case _0x1459d3(0xcf):return String(_0x107cbf)==='';case _0x1459d3(0x4be):return new RegExp(String(_0x5c753a))[_0x1459d3(0x150)](String(_0x107cbf));case _0x1459d3(0x442):return!new RegExp(String(_0x5c753a))['test'](String(_0x107cbf));default:return!0x1;}}catch(_0x125b1d){return console[_0x1459d3(0x241)](_0x1459d3(0x679)+_0x125b1d),!0x1;}}async['saveTextReply'](_0x5dad6a,_0xd775b4){const _0x42e41c=a0_0x1d42ab;if(this[_0x42e41c(0x701)][_0x42e41c(0x429)](this[_0x42e41c(0x41b)]+'\x20('+this['instance'][_0x42e41c(0x43f)]+_0x42e41c(0x573)),!_0x5dad6a||!_0xd775b4)return this['logger'][_0x42e41c(0x241)](this[_0x42e41c(0x41b)]+'\x20('+this[_0x42e41c(0x225)][_0x42e41c(0x43f)]+_0x42e41c(0xfa)),null;let _0x566ae9=_0xd775b4[_0x42e41c(0x5b3)],_0xcb6878=_0x5dad6a[_0x42e41c(0x169)][_0x42e41c(0x4d8)][_0x42e41c(0x5a0)]||_0x5dad6a[_0x42e41c(0x169)]['lastReceivedMessage'][_0x42e41c(0x3fd)]||_0x5dad6a['chatLog']['lastReceivedMessage'][_0x42e41c(0x4c8)];try{_0x5dad6a[_0x42e41c(0x169)]['realVariables']||(_0x5dad6a[_0x42e41c(0x169)][_0x42e41c(0x3cb)]={});let _0x316470=_0x5dad6a['chatLog'][_0x42e41c(0x3cb)][_0x566ae9];_0x5dad6a['chatLog'][_0x42e41c(0x3cb)][_0x566ae9]=_0xcb6878;let _0x54316e={'variable':_0x566ae9,'oldValue':_0x316470,'newValue':_0xcb6878};this[_0x42e41c(0x643)](_0x5dad6a,_0xd775b4,_0x54316e),this[_0x42e41c(0x701)][_0x42e41c(0x429)](this[_0x42e41c(0x41b)]+'\x20('+this[_0x42e41c(0x225)]['wuid']+_0x42e41c(0x24d));}catch(_0xf96c){let _0x35b690={'error':!0x0,'errorLog':_0xf96c[_0x42e41c(0x611)]()};return this[_0x42e41c(0x643)](_0x5dad6a,_0xd775b4,_0x35b690),this[_0x42e41c(0x701)][_0x42e41c(0x241)](this[_0x42e41c(0x41b)]+'\x20('+this['instance']['wuid']+_0x42e41c(0x593)+(_0xf96c instanceof Error?_0xf96c[_0x42e41c(0x312)]:JSON['stringify'](_0xf96c,null,0x2))),null;}}async[a0_0x1d42ab(0x11f)](_0xd0946e,_0x5d895a){const _0x3917ab=a0_0x1d42ab;if(this['logger']['verbose'](this[_0x3917ab(0x41b)]+'\x20('+this['instance'][_0x3917ab(0x43f)]+_0x3917ab(0x449)),!_0xd0946e||!_0x5d895a)return this[_0x3917ab(0x701)]['error'](this['instanceName']+'\x20('+this[_0x3917ab(0x225)][_0x3917ab(0x43f)]+_0x3917ab(0xfa)),null;let _0x5baa78=Date['now'](),_0x193b95=parseInt(_0x5d895a['stopMinutes'],0xa);if(isNaN(_0x193b95))return this[_0x3917ab(0x701)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3917ab(0x43f)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero'),null;let _0x19d410={'newStoppedUntil':_0x5baa78+_0x193b95*0x3c*0x3e8};return await this[_0x3917ab(0x643)](_0xd0946e,_0x5d895a,_0x19d410,!0x0),null;}async[a0_0x1d42ab(0x45c)](_0xa1ec35,_0x559c15){const _0x472c08=a0_0x1d42ab;try{switch(_0x559c15['uazapi'][_0x472c08(0x191)]){case'sendText':await this[_0x472c08(0x38b)](_0xa1ec35,_0x559c15);break;case _0x472c08(0x4fd):await this[_0x472c08(0x26a)](_0xa1ec35,_0x559c15);break;case _0x472c08(0x5d4):await this[_0x472c08(0x1d3)](_0xa1ec35,_0x559c15);break;case _0x472c08(0x42e):await this['uazapiSendAudio'](_0xa1ec35,_0x559c15);break;case _0x472c08(0x139):await this[_0x472c08(0x257)](_0xa1ec35,_0x559c15);break;case _0x472c08(0x3a6):await this[_0x472c08(0x20b)](_0xa1ec35,_0x559c15);break;case _0x472c08(0xf7):await this[_0x472c08(0x20b)](_0xa1ec35,_0x559c15);break;case'deleteMessage':await this['uazapiDeleteMessage'](_0xa1ec35,_0x559c15);break;default:this['logger'][_0x472c08(0x241)](this['instanceName']+'\x20('+this[_0x472c08(0x225)][_0x472c08(0x43f)]+_0x472c08(0x18f)+_0x559c15[_0x472c08(0x6da)]['command']);}}catch(_0x494f10){this['logger'][_0x472c08(0x241)](this[_0x472c08(0x41b)]+'\x20('+this[_0x472c08(0x225)][_0x472c08(0x43f)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x494f10 instanceof Error?_0x494f10[_0x472c08(0x312)]:JSON['stringify'](_0x494f10,null,0x2)));}}async['updateConversation'](_0x4687ca,_0x2964ae,_0x707b74,_0x5ddaab=!0x1,_0x1ff635=!0x1){const _0x5623cd=a0_0x1d42ab;_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x47d)]||(_0x4687ca[_0x5623cd(0x169)]['blockLogs']=[]);let _0x40255e=(_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x47d)]?.[_0x5623cd(0x6e2)]??0x0)+0x1,_0x3c00fe=_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x47d)][_0x5623cd(0x5f3)](_0x16f8bc=>String(_0x16f8bc[_0x5623cd(0x5ed)])===String(_0x2964ae[_0x5623cd(0x650)]))[_0x5623cd(0x6e2)]+0x1,_0x4e1250=_0x707b74?.[_0x5623cd(0x563)]??Date[_0x5623cd(0x5aa)](),_0x4a6d66=_0x707b74?.[_0x5623cd(0x241)]?_0x707b74['errorLog']??_0x707b74[_0x5623cd(0x241)][_0x5623cd(0x611)]():void 0x0,_0x586626={'onTime':_0x4e1250,'blockId':_0x2964ae[_0x5623cd(0x650)],'order':_0x40255e,'activatedCount':_0x3c00fe,'error':_0x707b74?.['error']??!0x1,'messageId':_0x707b74?.[_0x5623cd(0x646)],'apiResponse':_0x707b74?.[_0x5623cd(0x34c)],'apiResponseString':_0x707b74?.[_0x5623cd(0x34c)]?JSON['stringify'](_0x707b74?.[_0x5623cd(0x34c)]):void 0x0,'variable':_0x707b74?.[_0x5623cd(0x220)],'oldValue':_0x707b74?.[_0x5623cd(0x148)],'newValue':_0x707b74?.[_0x5623cd(0x392)],'newStoppedUntil':_0x707b74?.[_0x5623cd(0x4e5)],'moreLogs':_0x707b74?.['moreLogs'],'errorLog':_0x4a6d66};if(_0x707b74['moreLogs']&&_0x707b74[_0x5623cd(0x1c2)][_0x5623cd(0x6e2)]>0x0){let _0x1aa175=_0x707b74[_0x5623cd(0x1c2)]['map'](_0x4e3d5a=>this[_0x5623cd(0x254)](_0x4e3d5a,_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x3cb)]));_0x586626[_0x5623cd(0x1c2)]=_0x1aa175;}_0x4687ca['chatLog']['realVariables']||(_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x3cb)]={}),_0x4687ca['chatLog'][_0x5623cd(0x3cb)][_0x5623cd(0x5b8)]=String(_0x3c00fe),_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x3cb)][_0x5623cd(0x21c)]=String(_0x707b74[_0x5623cd(0x241)]??!0x1),_0x4687ca['chatLog']['blockLogs']['push'](_0x586626),_0x4687ca[_0x5623cd(0x169)]['lastBlockId']=_0x2964ae[_0x5623cd(0x650)][_0x5623cd(0x611)](),_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x104)]&&(_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x104)]=_0x4687ca['chatLog'][_0x5623cd(0x104)]),_0x4687ca['chatLog'][_0x5623cd(0x4d8)]&&(_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x4d8)]=_0x4687ca['chatLog'][_0x5623cd(0x4d8)]),_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x35e)]&&(_0x4687ca[_0x5623cd(0x169)][_0x5623cd(0x35e)]=_0x4687ca['chatLog'][_0x5623cd(0x35e)]),_0x1ff635&&(_0x4687ca['status']='closed'),_0x5ddaab?this[_0x5623cd(0x39d)](_0x4687ca):this[_0x5623cd(0x122)](_0x4687ca,_0x2964ae);}[a0_0x1d42ab(0x254)](_0x35edf0,_0x1ab9f1){const _0x488bc3=a0_0x1d42ab;return _0x35edf0[_0x488bc3(0x6c2)](/\{\{([^}]+)\}\}/g,(_0x180289,_0x171fbb)=>_0x1ab9f1[_0x171fbb]?'{{'+_0x171fbb+'}}\x20->\x20\x22'+_0x1ab9f1[_0x171fbb]+'\x22':'{{'+_0x171fbb+_0x488bc3(0x2e3));}async[a0_0x1d42ab(0x39d)](_0x6eef55){const _0x4a8ce4=a0_0x1d42ab;try{let _0x12fbc2=Object[_0x4a8ce4(0x4ae)](_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x3cb)])[_0x4a8ce4(0x6e4)](([_0x3a3590,_0xff738b])=>({'name':_0x3a3590,'value':_0xff738b})),_0x396704={'status':_0x6eef55[_0x4a8ce4(0x3f1)],'blocks':_0x6eef55[_0x4a8ce4(0xd2)],'waitingMenu_id':_0x6eef55[_0x4a8ce4(0x655)],'waitingMenu_text':_0x6eef55[_0x4a8ce4(0x1bd)],'waitingMenu_replyOptions':_0x6eef55[_0x4a8ce4(0x2c0)],'chatLog':{'lastBlockId':_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x45a)],'lastSendMessage':_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x104)],'lastReceivedMessage':_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x4d8)],'lastCondition':_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x35e)],'chatVariables':_0x12fbc2,'realVariables':_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x3cb)],'blockLogs':_0x6eef55['chatLog'][_0x4a8ce4(0x47d)]}},_0x593c6a=await this[_0x4a8ce4(0x544)][_0x4a8ce4(0x1f7)]['updateOne'](_0x6eef55[_0x4a8ce4(0x650)],_0x396704,this['instance'][_0x4a8ce4(0x43f)]);if(_0x593c6a){this[_0x4a8ce4(0x701)][_0x4a8ce4(0x429)](this[_0x4a8ce4(0x41b)]+'\x20('+this['instance'][_0x4a8ce4(0x43f)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x593c6a[_0x4a8ce4(0x650)]);try{let _0x55a2af=[_0x4a8ce4(0x499),_0x4a8ce4(0xea),'email',_0x4a8ce4(0x535),_0x4a8ce4(0x3f1),_0x4a8ce4(0x28e),_0x4a8ce4(0x6fb),'tags'];if(!this['AutomateSystem']&&(await this[_0x4a8ce4(0x367)](),!this[_0x4a8ce4(0x480)]))throw new Error('AutomateSystem\x20no\x20foi\x20inicializado');let _0x3c63bf=this[_0x4a8ce4(0x480)]?.['customFields']['map'](_0xe368dc=>_0xe368dc[_0x4a8ce4(0x2ce)]),_0x4d8b75={};Object['entries'](_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x3cb)])[_0x4a8ce4(0x371)](([_0x8a918f,_0x571647])=>{const _0x530a5f=_0x4a8ce4;_0x55a2af[_0x530a5f(0x2c5)](_0x8a918f)&&(_0x8a918f===_0x530a5f(0x543)&&typeof _0x571647==_0x530a5f(0x6e1)?_0x4d8b75[_0x8a918f]=_0x571647[_0x530a5f(0x4e8)](',')[_0x530a5f(0x6e4)](_0x5b1575=>_0x5b1575[_0x530a5f(0x640)]())[_0x530a5f(0x5f3)](_0x20a437=>_0x20a437!==''):_0x4d8b75[_0x8a918f]=_0x571647);});let _0x444742=_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x47d)][_0x6eef55[_0x4a8ce4(0x169)][_0x4a8ce4(0x47d)][_0x4a8ce4(0x6e2)]-0x1];if(_0x444742){let _0x112aa1=_0x444742['newStoppedUntil'];_0x112aa1!==void 0x0&&(_0x4d8b75[_0x4a8ce4(0x586)]=_0x112aa1[_0x4a8ce4(0x611)]());}let _0x4881cc=_0x12fbc2[_0x4a8ce4(0x5f3)](_0x522d65=>_0x3c63bf[_0x4a8ce4(0x2c5)](_0x522d65['name']));this[_0x4a8ce4(0x701)][_0x4a8ce4(0x429)](this[_0x4a8ce4(0x41b)]+'\x20('+this[_0x4a8ce4(0x225)][_0x4a8ce4(0x43f)]+_0x4a8ce4(0x40b)),this[_0x4a8ce4(0x701)]['verbose'](_0x4d8b75),this[_0x4a8ce4(0x701)][_0x4a8ce4(0x429)](this[_0x4a8ce4(0x41b)]+'\x20('+this[_0x4a8ce4(0x225)][_0x4a8ce4(0x43f)]+_0x4a8ce4(0x5b4)),this[_0x4a8ce4(0x701)][_0x4a8ce4(0x429)](_0x4881cc);let _0x42b718=_0x4881cc[_0x4a8ce4(0x6e4)](_0x4b8cd4=>{const _0x5bca80=_0x4a8ce4;let _0x93780d=this['AutomateSystem']?.['customFields'][_0x5bca80(0x497)](_0x205d11=>_0x205d11[_0x5bca80(0x2ce)]===_0x4b8cd4[_0x5bca80(0x2ce)]);if(!_0x93780d)throw new Error('Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20'+_0x4b8cd4[_0x5bca80(0x2ce)]);return{'_id':_0x93780d[_0x5bca80(0x650)],'value':_0x4b8cd4[_0x5bca80(0x681)]};});this[_0x4a8ce4(0x701)]['verbose'](this[_0x4a8ce4(0x41b)]+'\x20('+this[_0x4a8ce4(0x225)]['wuid']+_0x4a8ce4(0x6b4)),this['logger'][_0x4a8ce4(0x429)](_0x42b718),await this[_0x4a8ce4(0x142)](_0x6eef55[_0x4a8ce4(0x6e5)],_0x4d8b75,_0x42b718);}catch(_0x24dc7e){this[_0x4a8ce4(0x701)][_0x4a8ce4(0x241)](this[_0x4a8ce4(0x41b)]+'\x20('+this['instance'][_0x4a8ce4(0x43f)]+_0x4a8ce4(0x37a)+(_0x24dc7e instanceof Error?_0x24dc7e[_0x4a8ce4(0x312)]:JSON[_0x4a8ce4(0x427)](_0x24dc7e,null,0x2)));}}else this[_0x4a8ce4(0x701)][_0x4a8ce4(0x241)](this[_0x4a8ce4(0x41b)]+'\x20('+this['instance'][_0x4a8ce4(0x43f)]+_0x4a8ce4(0x187));}catch(_0x512ae2){this['logger'][_0x4a8ce4(0x241)](this[_0x4a8ce4(0x41b)]+'\x20('+this[_0x4a8ce4(0x225)][_0x4a8ce4(0x43f)]+_0x4a8ce4(0x168)+(_0x512ae2 instanceof Error?_0x512ae2[_0x4a8ce4(0x312)]:JSON[_0x4a8ce4(0x427)](_0x512ae2,null,0x2)));}}async[a0_0x1d42ab(0x142)](_0x1efa16,_0x4fade9,_0x51072f){const _0x288174=a0_0x1d42ab;try{let _0xa43563={'leadInfo.leadnome':_0x4fade9[_0x288174(0x499)],'leadInfo.nomecompleto':_0x4fade9['nomecompleto'],'leadInfo.email':_0x4fade9['email'],'leadInfo.cpf':_0x4fade9[_0x288174(0x535)],'leadInfo.status':_0x4fade9[_0x288174(0x3f1)],'leadInfo.notas':_0x4fade9['notas'],'leadInfo.responsavelid':_0x4fade9['responsavelid'],'leadInfo.tags':_0x4fade9['tags'],'leadInfo.customFields':_0x51072f};if(_0x288174(0x586)in _0x4fade9){let _0xbe4f8b=_0x4fade9[_0x288174(0x586)];_0xa43563[_0x288174(0x446)]=_0xbe4f8b?Number(_0xbe4f8b):null;}let _0x11b512=await this[_0x288174(0x544)][_0x288174(0x159)][_0x288174(0xce)]({'where':{'_id':_0x1efa16}},_0xa43563,this[_0x288174(0x225)][_0x288174(0x43f)]);_0x11b512?(this[_0x288174(0x701)][_0x288174(0x429)](this[_0x288174(0x41b)]+'\x20('+this[_0x288174(0x225)][_0x288174(0x43f)]+_0x288174(0x278)+_0x11b512[_0x288174(0x650)]),q(this[_0x288174(0x41b)],_0x288174(0x454),{'chat':_0x11b512})):this[_0x288174(0x701)][_0x288174(0x241)](this[_0x288174(0x41b)]+'\x20('+this['instance'][_0x288174(0x43f)]+_0x288174(0x4c9));}catch(_0x5a930e){this[_0x288174(0x701)]['error'](this[_0x288174(0x41b)]+'\x20('+this[_0x288174(0x225)][_0x288174(0x43f)]+_0x288174(0x26e)+(_0x5a930e instanceof Error?_0x5a930e[_0x288174(0x312)]:JSON[_0x288174(0x427)](_0x5a930e,null,0x2)));}}async[a0_0x1d42ab(0x506)](_0x374b3e,_0x2c4978){const _0x2c2dc4=a0_0x1d42ab;this[_0x2c2dc4(0x701)][_0x2c2dc4(0x429)](this[_0x2c2dc4(0x41b)]+'\x20('+this['instance'][_0x2c2dc4(0x43f)]+'):\x20atualizao\x20chat:\x20'+_0x2c4978);try{let _0x209a5c=await this[_0x2c2dc4(0x544)][_0x2c2dc4(0x159)][_0x2c2dc4(0xce)]({'where':{'_id':_0x374b3e[_0x2c2dc4(0x6e5)]}},{'leadInfo.desativadoFluxoAte':_0x2c4978},this[_0x2c2dc4(0x225)][_0x2c2dc4(0x43f)]);this[_0x2c2dc4(0x701)]['verbose'](this[_0x2c2dc4(0x41b)]+'\x20('+this['instance'][_0x2c2dc4(0x43f)]+_0x2c2dc4(0x102)+_0x374b3e[_0x2c2dc4(0x650)]),this[_0x2c2dc4(0x701)]['verbose'](this[_0x2c2dc4(0x41b)]+'\x20('+this[_0x2c2dc4(0x225)][_0x2c2dc4(0x43f)]+_0x2c2dc4(0x264)+JSON[_0x2c2dc4(0x427)](_0x209a5c,null,0x2)),_0x209a5c&&q(this[_0x2c2dc4(0x41b)],_0x2c2dc4(0x454),{'chat':_0x209a5c});}catch(_0x10629b){this[_0x2c2dc4(0x701)][_0x2c2dc4(0x241)](this[_0x2c2dc4(0x41b)]+'\x20('+this[_0x2c2dc4(0x225)][_0x2c2dc4(0x43f)]+_0x2c2dc4(0x61a)+(_0x10629b instanceof Error?_0x10629b[_0x2c2dc4(0x312)]:JSON['stringify'](_0x10629b,null,0x2)));}}async[a0_0x1d42ab(0x53a)](_0x27f021){const _0x3ef0be=a0_0x1d42ab;try{this[_0x3ef0be(0x701)][_0x3ef0be(0x429)](this[_0x3ef0be(0x41b)]+'\x20('+this[_0x3ef0be(0x225)][_0x3ef0be(0x43f)]+_0x3ef0be(0x597));let _0x28a1da=_0x27f021[_0x3ef0be(0x6c2)](/\D/g,''),_0x24c17e=await this[_0x3ef0be(0x544)][_0x3ef0be(0x620)][_0x3ef0be(0x2dc)]({'where':{'testingWith':_0x28a1da}},this[_0x3ef0be(0x225)][_0x3ef0be(0x43f)]);return _0x24c17e||(this[_0x3ef0be(0x701)][_0x3ef0be(0x429)](this[_0x3ef0be(0x41b)]+'\x20('+this[_0x3ef0be(0x225)][_0x3ef0be(0x43f)]+'):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...'),_0x24c17e=await this[_0x3ef0be(0x544)]['flow'][_0x3ef0be(0x2dc)]({'where':{'default':!0x0}},this['instance'][_0x3ef0be(0x43f)])),_0x24c17e||(this['logger'][_0x3ef0be(0x429)](this['instanceName']+'\x20('+this['instance'][_0x3ef0be(0x43f)]+'):\x20No\x20achou\x20nenhum\x20flow'),null);}catch(_0x24e26c){return this[_0x3ef0be(0x701)][_0x3ef0be(0x241)](this[_0x3ef0be(0x41b)]+'\x20('+this['instance'][_0x3ef0be(0x43f)]+_0x3ef0be(0xf6)+(_0x24e26c instanceof Error?_0x24e26c[_0x3ef0be(0x312)]:JSON[_0x3ef0be(0x427)](_0x24e26c,null,0x2))),null;}}async[a0_0x1d42ab(0x342)](_0x4dadb2,_0x4e8429){const _0x29f254=a0_0x1d42ab;try{let _0x54117e=!!_0x4e8429[_0x29f254(0x4c8)],_0x265934=_0x4e8429[_0x29f254(0x1a3)],_0x4afcd0=null;if(this[_0x29f254(0x701)]['verbose'](this['instanceName']+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+'):\x20isVote:\x20'+_0x54117e+_0x29f254(0x552)+_0x265934),_0x54117e){this[_0x29f254(0x701)][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x468d73={'where':{'remoteJid':_0x4dadb2,'waitingMenu_id':_0x265934}};if(_0x4afcd0=await this['repository']['flowConversation']['findOne'](_0x468d73,this['instance'][_0x29f254(0x43f)]),!_0x4afcd0)return this[_0x29f254(0x701)][_0x29f254(0x429)](this['instanceName']+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+'):\x20no\x20encontrou'),null;let _0x23af13=Date[_0x29f254(0x5aa)](),_0x1b6264=_0x4afcd0?.['minutesToClose']||0x0,_0x381d21=_0x23af13-_0x1b6264*0x3c*0x3e8;if(_0x4afcd0['lastInteraction']<_0x381d21){this[_0x29f254(0x701)][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+_0x29f254(0x5f6));let _0x50f6d6={'number':_0x4afcd0[_0x29f254(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x4afcd0['waitingMenu_ExpiredMessage']}};await this[_0x29f254(0x3bc)](_0x50f6d6);let _0x384f2d={'status':_0x29f254(0x469),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x29f254(0x544)][_0x29f254(0x1f7)][_0x29f254(0xce)](_0x4afcd0[_0x29f254(0x650)],_0x384f2d,this[_0x29f254(0x225)]['wuid']),null;}return _0x4afcd0['lastInteraction']=Date[_0x29f254(0x5aa)](),_0x4afcd0[_0x29f254(0x169)][_0x29f254(0x4d8)]=_0x4e8429,_0x4afcd0;}else{this[_0x29f254(0x701)][_0x29f254(0x429)](this['instanceName']+'\x20('+this[_0x29f254(0x225)]['wuid']+_0x29f254(0x1c7)+this[_0x29f254(0x225)][_0x29f254(0x43f)]+_0x29f254(0x4dc)),this[_0x29f254(0x701)][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+_0x29f254(0x379));let _0x1d6bf0={'where':{'remoteJid':_0x4dadb2,'status':_0x29f254(0x66f)}};if(_0x4afcd0=await this[_0x29f254(0x544)][_0x29f254(0x1f7)][_0x29f254(0x2dc)](_0x1d6bf0,this[_0x29f254(0x225)][_0x29f254(0x43f)]),!_0x4afcd0){let _0x1cc9d5=await this['findFlow'](_0x4dadb2);if(_0x1cc9d5&&(_0x4afcd0=await this[_0x29f254(0x47e)](_0x1cc9d5,_0x4e8429[_0x29f254(0x362)],_0x4e8429)),!_0x4afcd0)return null;}let _0x6acb2a=Date[_0x29f254(0x5aa)](),_0x402492=_0x4afcd0?.[_0x29f254(0x119)]||0x0,_0x44c722=_0x6acb2a-_0x402492*0x3c*0x3e8;if(this[_0x29f254(0x701)][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+_0x29f254(0x479)+_0x6acb2a+_0x29f254(0x467)+_0x402492+',\x20Expiration\x20Time:\x20'+_0x44c722),this[_0x29f254(0x701)]['verbose'](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+_0x29f254(0x1f1)),this['logger'][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this['instance']['wuid']+_0x29f254(0x451)+_0x4afcd0[_0x29f254(0x190)]),this[_0x29f254(0x701)][_0x29f254(0x429)](this[_0x29f254(0x41b)]+'\x20('+this['instance'][_0x29f254(0x43f)]+'):\x20expirationTime:\x20'+_0x44c722),_0x4afcd0[_0x29f254(0x190)]<_0x44c722){this[_0x29f254(0x701)]['verbose'](this['instanceName']+'\x20('+this[_0x29f254(0x225)][_0x29f254(0x43f)]+'):\x20Conversa\x20est\x20expirada');let _0xf00c3d=await this[_0x29f254(0x53a)](_0x4dadb2);if(_0xf00c3d===null)return null;_0x4afcd0&&await this[_0x29f254(0x544)][_0x29f254(0x1f7)]['updateOne'](_0x4afcd0[_0x29f254(0x650)],{'status':'closed'},this[_0x29f254(0x225)][_0x29f254(0x43f)]),_0x4afcd0=await this[_0x29f254(0x47e)](_0xf00c3d,_0x4e8429[_0x29f254(0x362)],_0x4e8429);}return _0x4afcd0[_0x29f254(0x190)]=_0x6acb2a,_0x4afcd0['chatLog'][_0x29f254(0x4d8)]=_0x4e8429,_0x4afcd0;}}catch(_0x1401b7){return this[_0x29f254(0x701)][_0x29f254(0x241)](this[_0x29f254(0x41b)]+'\x20('+this[_0x29f254(0x225)]['wuid']+_0x29f254(0x69d)+(_0x1401b7 instanceof Error?_0x1401b7[_0x29f254(0x312)]:JSON[_0x29f254(0x427)](_0x1401b7,null,0x2))),null;}}async[a0_0x1d42ab(0x47e)](_0x73ae44,_0x2862ba,_0x27dd59){const _0xf741ea=a0_0x1d42ab;this[_0xf741ea(0x701)][_0xf741ea(0x429)](this[_0xf741ea(0x41b)]+'\x20('+this[_0xf741ea(0x225)][_0xf741ea(0x43f)]+_0xf741ea(0x300));try{let _0x55e339=require(_0xf741ea(0x547))[_0xf741ea(0x1e3)],_0x43abce=Date[_0xf741ea(0x5aa)](),_0x4410c7=_0xf741ea(0x289),_0x4ff4f6=_0x2862ba[_0xf741ea(0x5fc)]?null:_0x27dd59,_0x49ac75=_0x2862ba[_0xf741ea(0x5fc)]?_0x27dd59:null,_0x452726=_0x2862ba[_0xf741ea(0x6e5)];await this[_0xf741ea(0x684)](_0x452726);let _0x494ec2={..._0x73ae44,'chatLog':null},_0x3fc4dd=await this[_0xf741ea(0x5b1)](_0x494ec2[_0xf741ea(0x331)]),_0x94d268=await this['getVariablesChat'](_0x452726),_0x310c45={..._0x3fc4dd,..._0x94d268,'_remoteJid':_0x452726},_0x47e61b={'lastReceivedMessage':_0x4ff4f6,'lastSendMessage':_0x49ac75,'lastBlockId':_0x4410c7,'lastCondition':!0x0,'realVariables':_0x310c45};_0x494ec2['chatLog']=_0x47e61b,delete _0x494ec2[_0xf741ea(0x650)],_0x494ec2['_id']=new _0x55e339(),_0x494ec2['lastInteraction']=_0x43abce,_0x494ec2['status']=_0xf741ea(0x66f),_0x494ec2[_0xf741ea(0x6e5)]=_0x452726;let _0x47a8a9=await this[_0xf741ea(0x544)][_0xf741ea(0x1f7)][_0xf741ea(0xce)](_0x494ec2[_0xf741ea(0x650)],_0x494ec2,this[_0xf741ea(0x225)]['wuid']);return this[_0xf741ea(0x701)][_0xf741ea(0x429)](this[_0xf741ea(0x41b)]+'\x20('+this[_0xf741ea(0x225)][_0xf741ea(0x43f)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x47a8a9?_0x494ec2:null;}catch(_0x23783b){return this[_0xf741ea(0x701)]['error'](this[_0xf741ea(0x41b)]+'\x20('+this[_0xf741ea(0x225)][_0xf741ea(0x43f)]+_0xf741ea(0x673)+(_0x23783b instanceof Error?_0x23783b[_0xf741ea(0x312)]:JSON[_0xf741ea(0x427)](_0x23783b,null,0x2))),_0x23783b;}}async[a0_0x1d42ab(0x38b)](_0x3c5b7b,_0x26db89){const _0x2a1cca=a0_0x1d42ab;let _0x1e086b=_0x3c5b7b[_0x2a1cca(0x6e5)];_0x26db89[_0x2a1cca(0x6da)][_0x2a1cca(0x6e5)]&&_0x26db89[_0x2a1cca(0x6da)][_0x2a1cca(0x6e5)]['trim']()!==''&&(_0x1e086b=_0x26db89[_0x2a1cca(0x6da)][_0x2a1cca(0x6e5)][_0x2a1cca(0x640)]()),this[_0x2a1cca(0x701)][_0x2a1cca(0x429)](this[_0x2a1cca(0x41b)]+'\x20('+this[_0x2a1cca(0x225)][_0x2a1cca(0x43f)]+_0x2a1cca(0x5a2));let _0x3ce6df={'number':_0x1e086b,'options':{'delay':_0x26db89[_0x2a1cca(0x6da)][_0x2a1cca(0x1a7)]},'textMessage':{'text':_0x26db89[_0x2a1cca(0x6da)][_0x2a1cca(0x5a0)]}};try{let _0x4fb623=await this[_0x2a1cca(0x3bc)](_0x3ce6df);if(_0x4fb623){let _0x3082d8={'_id':_0x4fb623['key']['id'],'_fromMe':_0x4fb623[_0x2a1cca(0x362)][_0x2a1cca(0x5fc)],'_remoteJid':_0x4fb623[_0x2a1cca(0x362)][_0x2a1cca(0x6e5)]};_0x3c5b7b['chatLog']['lastBlockId']=_0x26db89[_0x2a1cca(0x650)]['toString']();let {message_normalized:_0x11170d}=this['normalizeMessage'](_0x4fb623['message'],$(_0x4fb623[_0x2a1cca(0x312)]),null);_0x3c5b7b[_0x2a1cca(0x169)]['lastSendMessage']=await _0x11170d;let _0x2711fa={'messageId':_0x4fb623[_0x2a1cca(0x362)]['id']},_0x378e87=_0x3c5b7b[_0x2a1cca(0x169)][_0x2a1cca(0x3cb)];Object[_0x2a1cca(0x56a)](_0x378e87,_0x3082d8),_0x3c5b7b[_0x2a1cca(0x169)][_0x2a1cca(0x3cb)]=_0x378e87,this[_0x2a1cca(0x643)](_0x3c5b7b,_0x26db89,_0x2711fa);}else{let _0x1f2b57={'error':!0x0};this[_0x2a1cca(0x643)](_0x3c5b7b,_0x26db89,_0x1f2b57),this[_0x2a1cca(0x701)][_0x2a1cca(0x241)](this['instanceName']+'\x20('+this['instance'][_0x2a1cca(0x43f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x5804b7){let _0x463cc4={'error':!0x0,'errorLog':_0x5804b7['toString']()};this[_0x2a1cca(0x643)](_0x3c5b7b,_0x26db89,_0x463cc4),this[_0x2a1cca(0x701)][_0x2a1cca(0x241)](this[_0x2a1cca(0x41b)]+'\x20('+this[_0x2a1cca(0x225)][_0x2a1cca(0x43f)]+_0x2a1cca(0x629)+(_0x5804b7 instanceof Error?_0x5804b7[_0x2a1cca(0x312)]:JSON['stringify'](_0x5804b7,null,0x2)));}}async[a0_0x1d42ab(0x26a)](_0x14c0da,_0x989aee){const _0x360fc8=a0_0x1d42ab;let _0x55b166=_0x14c0da[_0x360fc8(0x6e5)];_0x989aee['uazapi'][_0x360fc8(0x6e5)]&&_0x989aee[_0x360fc8(0x6da)][_0x360fc8(0x6e5)][_0x360fc8(0x640)]()!==''&&(_0x55b166=_0x989aee['uazapi'][_0x360fc8(0x6e5)]['trim']()),this['logger'][_0x360fc8(0x429)](this[_0x360fc8(0x41b)]+'\x20('+this[_0x360fc8(0x225)][_0x360fc8(0x43f)]+_0x360fc8(0x5d2));let _0x1c6e82={'number':_0x55b166,'options':{'delay':_0x989aee['uazapi'][_0x360fc8(0x1a7)]},'mediaMessage':{'mediatype':_0x989aee[_0x360fc8(0x6da)][_0x360fc8(0x40d)],'caption':_0x989aee[_0x360fc8(0x6da)][_0x360fc8(0x3fd)],'media':_0x989aee[_0x360fc8(0x6da)][_0x360fc8(0x17b)],'fileName':_0x989aee['uazapi'][_0x360fc8(0x6a3)]}};try{let _0x5ca820=await this[_0x360fc8(0x433)](_0x1c6e82);if(_0x5ca820){let _0x4b017b={'_id':_0x5ca820['key']['id'],'_fromMe':_0x5ca820['key'][_0x360fc8(0x5fc)],'_remoteJid':_0x5ca820[_0x360fc8(0x362)][_0x360fc8(0x6e5)]};_0x14c0da[_0x360fc8(0x169)]['lastBlockId']=_0x989aee[_0x360fc8(0x650)][_0x360fc8(0x611)]();let {message_normalized:_0x42596a}=this[_0x360fc8(0x545)](_0x5ca820[_0x360fc8(0x312)],$(_0x5ca820[_0x360fc8(0x312)]),null);_0x14c0da[_0x360fc8(0x169)]['lastSendMessage']=await _0x42596a;let _0x447d7f={'messageId':_0x5ca820[_0x360fc8(0x362)]['id']},_0x36c7d7=_0x14c0da[_0x360fc8(0x169)][_0x360fc8(0x3cb)];Object[_0x360fc8(0x56a)](_0x36c7d7,_0x4b017b),_0x14c0da[_0x360fc8(0x169)][_0x360fc8(0x3cb)]=_0x36c7d7,this[_0x360fc8(0x643)](_0x14c0da,_0x989aee,_0x447d7f);}else{let _0x5a9b76={'error':!0x0};this['updateConversation'](_0x14c0da,_0x989aee,_0x5a9b76),this[_0x360fc8(0x701)][_0x360fc8(0x241)](this[_0x360fc8(0x41b)]+'\x20('+this[_0x360fc8(0x225)][_0x360fc8(0x43f)]+_0x360fc8(0x55a));}}catch(_0x466db5){let _0xfd889b={'error':!0x0,'errorLog':_0x466db5[_0x360fc8(0x611)]()};this[_0x360fc8(0x643)](_0x14c0da,_0x989aee,_0xfd889b),this[_0x360fc8(0x701)][_0x360fc8(0x241)](this[_0x360fc8(0x41b)]+'\x20('+this[_0x360fc8(0x225)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x466db5 instanceof Error?_0x466db5[_0x360fc8(0x312)]:JSON[_0x360fc8(0x427)](_0x466db5,null,0x2)));}}async[a0_0x1d42ab(0x1d3)](_0x464a88,_0x4441c7){const _0x4fe067=a0_0x1d42ab;let _0x1320f5=_0x464a88['remoteJid'];_0x4441c7[_0x4fe067(0x6da)]['remoteJid']&&_0x4441c7[_0x4fe067(0x6da)][_0x4fe067(0x6e5)]['trim']()!==''&&(_0x1320f5=_0x4441c7[_0x4fe067(0x6da)][_0x4fe067(0x6e5)][_0x4fe067(0x640)]()),this[_0x4fe067(0x701)]['verbose'](this[_0x4fe067(0x41b)]+'\x20('+this[_0x4fe067(0x225)][_0x4fe067(0x43f)]+'):\x20Enviando\x20localizao');let _0x645dcc={'number':_0x1320f5,'options':{'delay':_0x4441c7[_0x4fe067(0x6da)][_0x4fe067(0x1a7)]},'locationMessage':{'name':_0x4441c7['uazapi'][_0x4fe067(0x2ce)],'address':_0x4441c7[_0x4fe067(0x6da)][_0x4fe067(0x4c4)],'latitude':_0x4441c7['uazapi'][_0x4fe067(0x1b2)],'longitude':_0x4441c7[_0x4fe067(0x6da)][_0x4fe067(0x6b5)]}};try{let _0x45d3c1=await this[_0x4fe067(0x366)](_0x645dcc);if(_0x45d3c1){let _0x3d5db5={'_id':_0x45d3c1['key']['id'],'_fromMe':_0x45d3c1['key'][_0x4fe067(0x5fc)],'_remoteJid':_0x45d3c1[_0x4fe067(0x362)][_0x4fe067(0x6e5)]};_0x464a88[_0x4fe067(0x169)]['lastBlockId']=_0x4441c7['_id']['toString']();let {message_normalized:_0x6c9fae}=this[_0x4fe067(0x545)](_0x45d3c1[_0x4fe067(0x312)],$(_0x45d3c1[_0x4fe067(0x312)]),null);_0x464a88['chatLog'][_0x4fe067(0x104)]=await _0x6c9fae;let _0x1688da={'messageId':_0x45d3c1[_0x4fe067(0x362)]['id']},_0x4ccc13=_0x464a88[_0x4fe067(0x169)][_0x4fe067(0x3cb)];Object[_0x4fe067(0x56a)](_0x4ccc13,_0x3d5db5),_0x464a88['chatLog'][_0x4fe067(0x3cb)]=_0x4ccc13,this['updateConversation'](_0x464a88,_0x4441c7,_0x1688da);}else{let _0x45f543={'error':!0x0};this['updateConversation'](_0x464a88,_0x4441c7,_0x45f543),this[_0x4fe067(0x701)]['error'](this[_0x4fe067(0x41b)]+'\x20('+this[_0x4fe067(0x225)]['wuid']+_0x4fe067(0x648));}}catch(_0x500473){let _0x47f4de={'error':!0x0,'errorLog':_0x500473[_0x4fe067(0x611)]()};this[_0x4fe067(0x643)](_0x464a88,_0x4441c7,_0x47f4de),this[_0x4fe067(0x701)]['error'](this[_0x4fe067(0x41b)]+'\x20('+this['instance']['wuid']+_0x4fe067(0x1c8)+(_0x500473 instanceof Error?_0x500473[_0x4fe067(0x312)]:JSON[_0x4fe067(0x427)](_0x500473,null,0x2)));}}async['uazapiSendAudio'](_0x30f56e,_0x422ef6){const _0xb5c57d=a0_0x1d42ab;let _0x571954=_0x30f56e[_0xb5c57d(0x6e5)];_0x422ef6[_0xb5c57d(0x6da)][_0xb5c57d(0x6e5)]&&_0x422ef6[_0xb5c57d(0x6da)]['remoteJid'][_0xb5c57d(0x640)]()!==''&&(_0x571954=_0x422ef6[_0xb5c57d(0x6da)]['remoteJid'][_0xb5c57d(0x640)]()),this[_0xb5c57d(0x701)][_0xb5c57d(0x429)](this['instanceName']+'\x20('+this[_0xb5c57d(0x225)][_0xb5c57d(0x43f)]+_0xb5c57d(0x5c1));let _0x313de4={'number':_0x571954,'options':{'delay':_0x422ef6[_0xb5c57d(0x6da)][_0xb5c57d(0x1a7)]},'audioMessage':{'audio':_0x422ef6[_0xb5c57d(0x6da)][_0xb5c57d(0x5bb)]}};try{let _0xf1dae9=await this[_0xb5c57d(0x57b)](_0x313de4);if(_0xf1dae9){let _0x3366a2={'_id':_0xf1dae9['key']['id'],'_fromMe':_0xf1dae9['key'][_0xb5c57d(0x5fc)],'_remoteJid':_0xf1dae9[_0xb5c57d(0x362)][_0xb5c57d(0x6e5)]};_0x30f56e[_0xb5c57d(0x169)][_0xb5c57d(0x45a)]=_0x422ef6['_id'][_0xb5c57d(0x611)]();let {message_normalized:_0x5c79bf}=this[_0xb5c57d(0x545)](_0xf1dae9[_0xb5c57d(0x312)],$(_0xf1dae9[_0xb5c57d(0x312)]),null);_0x30f56e[_0xb5c57d(0x169)][_0xb5c57d(0x104)]=await _0x5c79bf;let _0x39982c={'messageId':_0xf1dae9['key']['id']},_0x4f938f=_0x30f56e[_0xb5c57d(0x169)][_0xb5c57d(0x3cb)];Object[_0xb5c57d(0x56a)](_0x4f938f,_0x3366a2),_0x30f56e[_0xb5c57d(0x169)][_0xb5c57d(0x3cb)]=_0x4f938f,this[_0xb5c57d(0x643)](_0x30f56e,_0x422ef6,_0x39982c);}else{let _0x88e5ab={'error':!0x0};this[_0xb5c57d(0x643)](_0x30f56e,_0x422ef6,_0x88e5ab),this['logger'][_0xb5c57d(0x241)](this['instanceName']+'\x20('+this[_0xb5c57d(0x225)][_0xb5c57d(0x43f)]+_0xb5c57d(0x4cf));}}catch(_0xce8f50){let _0x2a8fca={'error':!0x0,'errorLog':_0xce8f50[_0xb5c57d(0x611)]()};this[_0xb5c57d(0x643)](_0x30f56e,_0x422ef6,_0x2a8fca),this['logger']['error'](this['instanceName']+'\x20('+this[_0xb5c57d(0x225)][_0xb5c57d(0x43f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20'+(_0xce8f50 instanceof Error?_0xce8f50[_0xb5c57d(0x312)]:JSON[_0xb5c57d(0x427)](_0xce8f50,null,0x2)));}}async[a0_0x1d42ab(0x257)](_0x5ba609,_0x436807){const _0x3a6b27=a0_0x1d42ab;let _0x41c1bd=_0x5ba609[_0x3a6b27(0x6e5)];_0x436807[_0x3a6b27(0x6da)][_0x3a6b27(0x6e5)]&&_0x436807[_0x3a6b27(0x6da)][_0x3a6b27(0x6e5)][_0x3a6b27(0x640)]()!==''&&(_0x41c1bd=_0x436807[_0x3a6b27(0x6da)][_0x3a6b27(0x6e5)][_0x3a6b27(0x640)]()),this[_0x3a6b27(0x701)][_0x3a6b27(0x429)](this[_0x3a6b27(0x41b)]+'\x20('+this[_0x3a6b27(0x225)]['wuid']+'):\x20Enviando\x20contato');let _0xcd0733={'number':_0x41c1bd,'options':{'delay':_0x436807[_0x3a6b27(0x6da)]['delay']},'contactMessage':[{'fullName':_0x436807[_0x3a6b27(0x6da)][_0x3a6b27(0x688)],'phoneNumber':_0x436807[_0x3a6b27(0x6da)][_0x3a6b27(0x117)]}]};try{let _0x9a74ec=await this[_0x3a6b27(0x4a5)](_0xcd0733);if(_0x9a74ec){let _0x1d721e={'_id':_0x9a74ec[_0x3a6b27(0x362)]['id'],'_fromMe':_0x9a74ec[_0x3a6b27(0x362)][_0x3a6b27(0x5fc)],'_remoteJid':_0x9a74ec[_0x3a6b27(0x362)][_0x3a6b27(0x6e5)]};_0x5ba609['chatLog'][_0x3a6b27(0x45a)]=_0x436807[_0x3a6b27(0x650)]['toString']();let {message_normalized:_0x607b1b}=this[_0x3a6b27(0x545)](_0x9a74ec[_0x3a6b27(0x312)],$(_0x9a74ec[_0x3a6b27(0x312)]),null);_0x5ba609[_0x3a6b27(0x169)][_0x3a6b27(0x104)]=await _0x607b1b;let _0x21248b={'messageId':_0x9a74ec[_0x3a6b27(0x362)]['id']},_0x29df5a=_0x5ba609[_0x3a6b27(0x169)][_0x3a6b27(0x3cb)];Object[_0x3a6b27(0x56a)](_0x29df5a,_0x1d721e),_0x5ba609[_0x3a6b27(0x169)]['realVariables']=_0x29df5a,this[_0x3a6b27(0x643)](_0x5ba609,_0x436807,_0x21248b);}else{let _0x2ef471={'error':!0x0};this[_0x3a6b27(0x643)](_0x5ba609,_0x436807,_0x2ef471),this[_0x3a6b27(0x701)][_0x3a6b27(0x241)](this[_0x3a6b27(0x41b)]+'\x20('+this[_0x3a6b27(0x225)]['wuid']+_0x3a6b27(0x5ba));}}catch(_0xfcb0c5){let _0x468e6a={'error':!0x0,'errorLog':_0xfcb0c5['toString']()};this[_0x3a6b27(0x643)](_0x5ba609,_0x436807,_0x468e6a),this[_0x3a6b27(0x701)][_0x3a6b27(0x241)](this[_0x3a6b27(0x41b)]+'\x20('+this[_0x3a6b27(0x225)][_0x3a6b27(0x43f)]+_0x3a6b27(0x134)+(_0xfcb0c5 instanceof Error?_0xfcb0c5['message']:JSON['stringify'](_0xfcb0c5,null,0x2)));}}[a0_0x1d42ab(0x590)](_0x8042c1,_0x2c365c){const _0x596cb2=a0_0x1d42ab;for(let _0xf3461e of _0x8042c1)_0xf3461e[_0x596cb2(0x348)]&&(_0xf3461e[_0x596cb2(0x348)]=this['replaceVariables'](_0xf3461e['option'],_0x2c365c)),_0xf3461e[_0x596cb2(0x3f8)]&&(_0xf3461e[_0x596cb2(0x3f8)]=this['replaceVariables'](_0xf3461e[_0x596cb2(0x3f8)],_0x2c365c));}async['uazapiSendMenu'](_0x3b7fbc,_0x52fa9d){const _0x5c7509=a0_0x1d42ab;let _0x55e0e4=_0x3b7fbc[_0x5c7509(0x6e5)];_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x6e5)]&&_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x6e5)][_0x5c7509(0x640)]()!==''&&(_0x55e0e4=_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x6e5)]['trim']()),this[_0x5c7509(0x701)]['verbose'](this[_0x5c7509(0x41b)]+'\x20('+this['instance'][_0x5c7509(0x43f)]+'):\x20Enviando\x20enquete');let _0xf3e83e=_0x3b7fbc['replyOptions'][_0x5c7509(0x5f3)](_0x30cb34=>_0x30cb34[_0x5c7509(0x5ed)]===_0x52fa9d[_0x5c7509(0x650)])[_0x5c7509(0x4a4)]((_0x587052,_0x4c110f)=>_0x587052[_0x5c7509(0x6c8)]-_0x4c110f[_0x5c7509(0x6c8)]);this[_0x5c7509(0x590)](_0xf3e83e,_0x3b7fbc['chatLog']['realVariables']);let _0x1f0e92=_0xf3e83e[_0x5c7509(0x6e4)](_0x5ee01f=>_0x5ee01f[_0x5c7509(0x348)]),_0x49dae2={'number':_0x55e0e4,'menuMessage':{'type':_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x4bc)]||'poll','text':_0x52fa9d[_0x5c7509(0x6da)]['text']||_0x52fa9d['uazapi'][_0x5c7509(0x2ce)],'footerText':_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x14b)],'buttonText':_0x52fa9d['uazapi'][_0x5c7509(0x4ee)],'selectableCount':0x1,'choices':_0x1f0e92},'options':{'delay':_0x52fa9d['uazapi'][_0x5c7509(0x1a7)]}};try{let _0x41efae=await this[_0x5c7509(0x273)](_0x49dae2);if(_0x41efae){let _0x5dca98={'_id':_0x41efae[_0x5c7509(0x362)]['id'],'_fromMe':_0x41efae[_0x5c7509(0x362)][_0x5c7509(0x5fc)],'_remoteJid':_0x41efae[_0x5c7509(0x362)][_0x5c7509(0x6e5)]};_0x52fa9d[_0x5c7509(0x6da)][_0x5c7509(0x3d5)]===!0x0&&(_0x3b7fbc[_0x5c7509(0x3f1)]=_0x5c7509(0x21e),this[_0x5c7509(0x701)][_0x5c7509(0x429)](this[_0x5c7509(0x41b)]+'\x20('+this[_0x5c7509(0x225)][_0x5c7509(0x43f)]+'):\x20conversation.status:\x20'+_0x3b7fbc['status'])),this['logger'][_0x5c7509(0x429)](this[_0x5c7509(0x41b)]+'\x20('+this['instance'][_0x5c7509(0x43f)]+_0x5c7509(0x67f)+(_0x52fa9d['uazapi'][_0x5c7509(0x2ce)]||_0x52fa9d['uazapi'][_0x5c7509(0x5a0)])),_0x3b7fbc['waitingMenu_id']=_0x41efae[_0x5c7509(0x362)]['id'],_0x3b7fbc['waitingMenu_text']=_0x52fa9d['uazapi'][_0x5c7509(0x2ce)]||_0x52fa9d[_0x5c7509(0x6da)]['text'],_0x3b7fbc[_0x5c7509(0x2c0)]=_0xf3e83e,_0x52fa9d[_0x5c7509(0x6da)]['menuExpiredMessage']&&(_0x3b7fbc['waitingMenu_ExpiredMessage']=_0x52fa9d[_0x5c7509(0x6da)]['menuExpiredMessage']),this[_0x5c7509(0x701)]['verbose'](this[_0x5c7509(0x41b)]+'\x20('+this[_0x5c7509(0x225)][_0x5c7509(0x43f)]+_0x5c7509(0x6ce)+_0x3b7fbc[_0x5c7509(0x1bd)]),_0x3b7fbc['chatLog'][_0x5c7509(0x45a)]=_0x52fa9d['_id'][_0x5c7509(0x611)]();let {message_normalized:_0x3016af}=this[_0x5c7509(0x545)](_0x41efae['message'],$(_0x41efae[_0x5c7509(0x312)]),null);_0x3b7fbc[_0x5c7509(0x169)][_0x5c7509(0x104)]=await _0x3016af;let _0x1d3597={'messageId':_0x41efae[_0x5c7509(0x362)]['id']},_0x5785f1=_0x3b7fbc['chatLog'][_0x5c7509(0x3cb)];Object[_0x5c7509(0x56a)](_0x5785f1,_0x5dca98),_0x3b7fbc[_0x5c7509(0x169)][_0x5c7509(0x3cb)]=_0x5785f1,this[_0x5c7509(0x643)](_0x3b7fbc,_0x52fa9d,_0x1d3597);}else{let _0x46edd4={'error':!0x0};this[_0x5c7509(0x643)](_0x3b7fbc,_0x52fa9d,_0x46edd4),this[_0x5c7509(0x701)][_0x5c7509(0x241)](this[_0x5c7509(0x41b)]+'\x20('+this[_0x5c7509(0x225)][_0x5c7509(0x43f)]+_0x5c7509(0x33a));}}catch(_0x8e7ed0){let _0x48b0f8={'error':!0x0,'errorLog':_0x8e7ed0 instanceof Error?_0x8e7ed0[_0x5c7509(0x312)]:JSON[_0x5c7509(0x427)](_0x8e7ed0,null,0x2)};this[_0x5c7509(0x643)](_0x3b7fbc,_0x52fa9d,_0x48b0f8),this[_0x5c7509(0x701)][_0x5c7509(0x241)](this['instanceName']+'\x20('+this[_0x5c7509(0x225)][_0x5c7509(0x43f)]+_0x5c7509(0xe7)+(_0x8e7ed0 instanceof Error?_0x8e7ed0[_0x5c7509(0x312)]:JSON[_0x5c7509(0x427)](_0x8e7ed0,null,0x2)));}}async[a0_0x1d42ab(0x443)](_0x285bad,_0x51c09f){const _0x266fd7=a0_0x1d42ab;this['logger'][_0x266fd7(0x429)](this[_0x266fd7(0x41b)]+'\x20('+this['instance'][_0x266fd7(0x43f)]+_0x266fd7(0x38f));let _0x3c2c6e=_0x285bad[_0x266fd7(0x169)][_0x266fd7(0x47d)][_0x266fd7(0x497)](_0x1098c6=>_0x1098c6['blockId']['toString']()===_0x51c09f[_0x266fd7(0x6da)]['blockId'][_0x266fd7(0x611)]()),_0x57ddc9={'id':_0x3c2c6e[_0x266fd7(0x646)],'remoteJid':_0x3c2c6e[_0x266fd7(0x6e5)],'fromMe':_0x3c2c6e[_0x266fd7(0x5fc)]};try{let _0x179f90=await this['deleteMessage'](_0x57ddc9);if(_0x179f90){_0x285bad[_0x266fd7(0x169)][_0x266fd7(0x45a)]=_0x51c09f['_id'][_0x266fd7(0x611)]();let {message_normalized:_0x36f52c}=this['normalizeMessage'](_0x179f90[_0x266fd7(0x312)],$(_0x179f90[_0x266fd7(0x312)]),null);_0x285bad[_0x266fd7(0x169)]['lastSendMessage']=await _0x36f52c;let _0x2b4a8b={};this[_0x266fd7(0x643)](_0x285bad,_0x51c09f,_0x2b4a8b);}else{let _0xf2b305={'error':!0x0};this[_0x266fd7(0x643)](_0x285bad,_0x51c09f,_0xf2b305),this[_0x266fd7(0x701)][_0x266fd7(0x241)](this[_0x266fd7(0x41b)]+'\x20('+this['instance'][_0x266fd7(0x43f)]+_0x266fd7(0x328));}}catch(_0x482418){let _0x4284c8={'error':!0x0,'errorLog':_0x482418 instanceof Error?_0x482418[_0x266fd7(0x312)]:JSON['stringify'](_0x482418,null,0x2)};this[_0x266fd7(0x643)](_0x285bad,_0x51c09f,_0x4284c8),this[_0x266fd7(0x701)]['error'](this[_0x266fd7(0x41b)]+'\x20('+this[_0x266fd7(0x225)]['wuid']+_0x266fd7(0x5d6)+(_0x482418 instanceof Error?_0x482418[_0x266fd7(0x312)]:JSON[_0x266fd7(0x427)](_0x482418,null,0x2)));}}async[a0_0x1d42ab(0x352)](_0x3c6c59){const _0x354dd3=a0_0x1d42ab;try{if(this['logger'][_0x354dd3(0x429)](this[_0x354dd3(0x41b)]+'\x20('+this[_0x354dd3(0x225)][_0x354dd3(0x43f)]+_0x354dd3(0x1ee)),await this[_0x354dd3(0x544)]['flow'][_0x354dd3(0x2dc)]({'where':{'name':_0x3c6c59[_0x354dd3(0x2ce)]}},this['instance'][_0x354dd3(0x43f)]))return{'message':'Flow\x20already\x20exists'};_0x3c6c59[_0x354dd3(0x47b)]===!0x0&&await this[_0x354dd3(0x544)][_0x354dd3(0x620)][_0x354dd3(0x6e3)]({},{'default':!0x1},this[_0x354dd3(0x225)]['wuid']);let _0x35c961=new ne['Types']['ObjectId'](),_0x2c15d2={'_id':_0x35c961,'default':!0x0,'title':_0x354dd3(0x23e),'x':0x0,'y':0x0},_0x362e5c={'_id':new ne['Types']['ObjectId'](),'order':0x1,'groupId':_0x35c961['toString'](),'type':_0x354dd3(0x289)},_0x41580f={'_id':new ne[(_0x354dd3(0x316))][(_0x354dd3(0x1e3))](),'owner':this[_0x354dd3(0x225)][_0x354dd3(0x43f)],'name':_0x3c6c59['name'],'groups':[_0x2c15d2],'blocks':[_0x362e5c],..._0x3c6c59};return _0x41580f=await this[_0x354dd3(0x544)][_0x354dd3(0x620)][_0x354dd3(0x60d)](_0x41580f,this[_0x354dd3(0x225)][_0x354dd3(0x43f)]),_0x41580f;}catch(_0x4c6d0f){throw this['logger'][_0x354dd3(0x241)](this[_0x354dd3(0x41b)]+'\x20('+this[_0x354dd3(0x225)][_0x354dd3(0x43f)]+_0x354dd3(0x149)+(_0x4c6d0f instanceof Error?_0x4c6d0f[_0x354dd3(0x312)]:JSON[_0x354dd3(0x427)](_0x4c6d0f,null,0x2))),new m(_0x354dd3(0x203)+_0x4c6d0f);}}async[a0_0x1d42ab(0x1d9)](_0x15864f){const _0x157885=a0_0x1d42ab;try{return this['logger'][_0x157885(0x429)](this[_0x157885(0x41b)]+'\x20('+this[_0x157885(0x225)][_0x157885(0x43f)]+_0x157885(0x675)),await this[_0x157885(0x544)][_0x157885(0x620)][_0x157885(0x1a6)]({'where':{'name':_0x15864f}},this[_0x157885(0x225)]['wuid']);}catch(_0x4ac515){return this[_0x157885(0x701)][_0x157885(0x241)](this[_0x157885(0x41b)]+'\x20('+this[_0x157885(0x225)][_0x157885(0x43f)]+_0x157885(0x1ef)+(_0x4ac515 instanceof Error?_0x4ac515[_0x157885(0x312)]:JSON[_0x157885(0x427)](_0x4ac515,null,0x2))),{'message':_0x157885(0x332)+_0x4ac515};}}async[a0_0x1d42ab(0x1f6)](_0x5688bc){const _0x3c6b1b=a0_0x1d42ab;try{this[_0x3c6b1b(0x701)][_0x3c6b1b(0x429)](this[_0x3c6b1b(0x41b)]+'\x20('+this[_0x3c6b1b(0x225)]['wuid']+_0x3c6b1b(0x597));let _0x2db49b=await this['repository']['flow']['findOne']({'where':{'name':_0x5688bc}},this['instance'][_0x3c6b1b(0x43f)]);if(!_0x2db49b)throw new Error('Flow\x20no\x20encontrado');if(!this[_0x3c6b1b(0x480)]&&(await this[_0x3c6b1b(0x367)](),!this[_0x3c6b1b(0x480)]))return null;let _0x49c817=this['AutomateSystem']?.['customFields'][_0x3c6b1b(0x6e4)](_0x6dc302=>_0x6dc302[_0x3c6b1b(0x2ce)]),_0x373d02=[_0x3c6b1b(0x499),_0x3c6b1b(0xea),'email','cpf','status','notas','responsavelid',_0x3c6b1b(0x543)];_0x2db49b[_0x3c6b1b(0x331)]=_0x2db49b[_0x3c6b1b(0x331)][_0x3c6b1b(0x5f3)](_0x3bad94=>!(_0x3bad94[_0x3c6b1b(0x52d)]===_0x3c6b1b(0x39e)||_0x3bad94[_0x3c6b1b(0x39e)])),_0x373d02[_0x3c6b1b(0x371)](_0x3f5497=>{const _0x183cbb=_0x3c6b1b;_0x2db49b[_0x183cbb(0x331)][_0x183cbb(0x59e)]({'folder':_0x183cbb(0x39e),'name':_0x3f5497,'value':'','doc':'','leadInfo':!0x0});}),_0x49c817['forEach'](_0x48bee6=>{const _0x1f629f=_0x3c6b1b;let _0x80c3c7=_0x2db49b['variables'][_0x1f629f(0x208)](_0x3c8a3d=>_0x3c8a3d[_0x1f629f(0x2ce)]===_0x48bee6);_0x80c3c7===-0x1?_0x2db49b['variables'][_0x1f629f(0x59e)]({'folder':_0x1f629f(0x39e),'name':_0x48bee6,'value':'','doc':'','leadInfo':!0x0}):(_0x2db49b['variables'][_0x80c3c7]['folder']=_0x1f629f(0x39e),_0x2db49b['variables'][_0x80c3c7]['leadInfo']=!0x0);}),_0x2db49b[_0x3c6b1b(0xd2)]&&_0x2db49b['blocks'][_0x3c6b1b(0x6e2)]>0x0&&_0x2db49b['blocks']['forEach'](_0x58caca=>{const _0x4baef0=_0x3c6b1b;_0x58caca[_0x4baef0(0x617)]&&_0x58caca['next_groupId']&&_0x58caca[_0x4baef0(0x617)]===_0x58caca['next_groupId']&&(_0x58caca[_0x4baef0(0x158)]=null);});let _0x2b4203=await this[_0x3c6b1b(0x544)][_0x3c6b1b(0x620)][_0x3c6b1b(0xce)](_0x2db49b[_0x3c6b1b(0x650)],_0x2db49b,this[_0x3c6b1b(0x225)][_0x3c6b1b(0x43f)]);if(!_0x2b4203)throw new Error(_0x3c6b1b(0x523));return _0x2b4203;}catch(_0x5dfb18){throw this[_0x3c6b1b(0x701)][_0x3c6b1b(0x241)](this[_0x3c6b1b(0x41b)]+'\x20('+this[_0x3c6b1b(0x225)][_0x3c6b1b(0x43f)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x5dfb18 instanceof Error?_0x5dfb18['message']:JSON[_0x3c6b1b(0x427)](_0x5dfb18,null,0x2))),new m(_0x3c6b1b(0x413)+_0x5dfb18);}}async[a0_0x1d42ab(0x1d8)](){const _0x4eb492=a0_0x1d42ab;try{return this[_0x4eb492(0x701)][_0x4eb492(0x429)](this['instanceName']+'\x20('+this[_0x4eb492(0x225)][_0x4eb492(0x43f)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x4eb492(0x544)][_0x4eb492(0x620)]['findAll']({'where':{}},this[_0x4eb492(0x225)][_0x4eb492(0x43f)]);}catch(_0xaf7c13){return this[_0x4eb492(0x701)][_0x4eb492(0x241)](this[_0x4eb492(0x41b)]+'\x20('+this[_0x4eb492(0x225)][_0x4eb492(0x43f)]+_0x4eb492(0x53b)+(_0xaf7c13 instanceof Error?_0xaf7c13[_0x4eb492(0x312)]:JSON[_0x4eb492(0x427)](_0xaf7c13,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0xaf7c13};}}async[a0_0x1d42ab(0x3d0)](_0x22949d){const _0x4803a0=a0_0x1d42ab;try{this[_0x4803a0(0x701)]['verbose'](this['instanceName']+'\x20('+this[_0x4803a0(0x225)][_0x4803a0(0x43f)]+_0x4803a0(0x405));let _0x5edb80=await this[_0x4803a0(0x544)][_0x4803a0(0x620)][_0x4803a0(0x2dc)]({'where':{'name':_0x22949d['name']}},this['instance'][_0x4803a0(0x43f)]);return _0x5edb80?(_0x22949d[_0x4803a0(0x47b)]===!0x0&&await this[_0x4803a0(0x544)][_0x4803a0(0x620)][_0x4803a0(0x6e3)]({},{'default':!0x1},this[_0x4803a0(0x225)][_0x4803a0(0x43f)]),await this[_0x4803a0(0x544)][_0x4803a0(0x620)][_0x4803a0(0xce)](_0x5edb80[_0x4803a0(0x650)],_0x22949d,this[_0x4803a0(0x225)]['wuid'])):{'message':_0x4803a0(0xf0)};}catch(_0xcd1166){throw this[_0x4803a0(0x701)][_0x4803a0(0x241)](this[_0x4803a0(0x41b)]+'\x20('+this[_0x4803a0(0x225)][_0x4803a0(0x43f)]+_0x4803a0(0x6f1)+(_0xcd1166 instanceof Error?_0xcd1166[_0x4803a0(0x312)]:JSON[_0x4803a0(0x427)](_0xcd1166,null,0x2))),new m(_0x4803a0(0x61c)+(_0xcd1166 instanceof Error?_0xcd1166[_0x4803a0(0x312)]:JSON['stringify'](_0xcd1166,null,0x2)));}}async[a0_0x1d42ab(0x3b5)](_0x56bd3b){const _0x29bc99=a0_0x1d42ab;try{this[_0x29bc99(0x701)][_0x29bc99(0x429)](this[_0x29bc99(0x41b)]+'\x20('+this[_0x29bc99(0x225)]['wuid']+_0x29bc99(0x1ea));let _0x532051=await this['repository'][_0x29bc99(0x620)][_0x29bc99(0x2dc)]({'where':{'name':_0x56bd3b[_0x29bc99(0x2ce)]}},this['instance'][_0x29bc99(0x43f)]);_0x532051||this[_0x29bc99(0xcb)]('Flow\x20no\x20encontrado');let {block:_0x4eb81b}=_0x56bd3b;_0x4eb81b?.[_0x29bc99(0x232)]?this[_0x29bc99(0x66c)](_0x532051,_0x56bd3b):_0x4eb81b?.[_0x29bc99(0x463)]?this[_0x29bc99(0x1e0)](_0x532051,_0x56bd3b):_0x4eb81b[_0x29bc99(0x650)]?await this['updateBlock'](_0x532051,_0x56bd3b):this[_0x29bc99(0x3c6)](_0x532051,_0x56bd3b);let _0x13b1f9=await this[_0x29bc99(0x544)][_0x29bc99(0x620)][_0x29bc99(0xce)](_0x532051[_0x29bc99(0x650)],_0x532051,this[_0x29bc99(0x225)][_0x29bc99(0x43f)]);if(!_0x13b1f9)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x13b1f9;}catch(_0x287cf3){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x287cf3);}}async[a0_0x1d42ab(0x66c)](_0x373c2c,_0x4ba4a8){const _0x27a92e=a0_0x1d42ab;let _0x5bb821=_0x4ba4a8[_0x27a92e(0x369)][_0x27a92e(0x650)],_0x171759=_0x373c2c[_0x27a92e(0xd2)][_0x27a92e(0x497)](_0x19a439=>_0x19a439[_0x27a92e(0x650)][_0x27a92e(0x611)]()===_0x5bb821);if(!_0x171759){this[_0x27a92e(0x701)][_0x27a92e(0x241)](this[_0x27a92e(0x41b)]+'\x20('+this[_0x27a92e(0x225)]['wuid']+_0x27a92e(0x1de)+_0x5bb821+_0x27a92e(0x184));return;}this['logger']['verbose'](this[_0x27a92e(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON[_0x27a92e(0x427)](_0x171759));let _0x5ddc63=JSON[_0x27a92e(0x698)](JSON[_0x27a92e(0x427)](_0x171759));_0x5ddc63[_0x27a92e(0x650)]=new ne['default'][(_0x27a92e(0x316))][(_0x27a92e(0x1e3))](),this[_0x27a92e(0x701)][_0x27a92e(0x429)](this[_0x27a92e(0x41b)]+'\x20('+this[_0x27a92e(0x225)][_0x27a92e(0x43f)]+_0x27a92e(0x556)+JSON['stringify'](_0x5ddc63)),_0x373c2c[_0x27a92e(0xd2)][_0x27a92e(0x59e)](_0x5ddc63),this[_0x27a92e(0x642)](_0x373c2c[_0x27a92e(0xd2)],_0x5ddc63[_0x27a92e(0x617)]);}['throwAndLogError'](_0x5f3717){const _0x2a1485=a0_0x1d42ab;throw this[_0x2a1485(0x701)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2a1485(0x43f)]+_0x2a1485(0x1c7)+_0x5f3717),new m(_0x5f3717);}['deleteBlock'](_0x56f785,_0x4b7989){const _0x5d987c=a0_0x1d42ab;let {block:_0x31d93c}=_0x4b7989;if(_0x31d93c['type']===_0x5d987c(0x289)){this[_0x5d987c(0xcb)](_0x5d987c(0x404));return;}if(!_0x31d93c['_id']){this['throwAndLogError'](_0x5d987c(0x485));return;}let _0x4dd8cb=_0x56f785[_0x5d987c(0xd2)][_0x5d987c(0x497)](_0x258244=>_0x258244['_id'][_0x5d987c(0x611)]()===_0x4b7989[_0x5d987c(0x369)][_0x5d987c(0x650)][_0x5d987c(0x611)]());if(!_0x4dd8cb){this['throwAndLogError'](_0x5d987c(0x50c)+_0x31d93c['_id']+_0x5d987c(0x686));return;}_0x56f785[_0x5d987c(0xd2)]=_0x56f785[_0x5d987c(0xd2)][_0x5d987c(0x5f3)](_0x328208=>_0x328208['_id'][_0x5d987c(0x611)]()!==_0x4b7989['block'][_0x5d987c(0x650)][_0x5d987c(0x611)]()),_0x56f785['conditions']=_0x56f785['conditions']['filter'](_0xe9ab73=>_0xe9ab73[_0x5d987c(0x5ed)]!==_0x31d93c['_id'][_0x5d987c(0x611)]()),_0x56f785[_0x5d987c(0x2b3)]=_0x56f785[_0x5d987c(0x2b3)][_0x5d987c(0x5f3)](_0x3d4574=>_0x3d4574[_0x5d987c(0x5ed)]!==_0x31d93c['_id'][_0x5d987c(0x611)]()),_0x56f785[_0x5d987c(0x165)]=_0x56f785['replyOptions'][_0x5d987c(0x5f3)](_0x289104=>_0x289104[_0x5d987c(0x5ed)]!==_0x31d93c['_id'][_0x5d987c(0x611)]()),this[_0x5d987c(0x642)](_0x56f785['blocks'],_0x4dd8cb[_0x5d987c(0x617)]);}async[a0_0x1d42ab(0xe6)](_0x37bf2b,_0xc95a47){const _0x2ebdcc=a0_0x1d42ab;let _0x465801=_0x37bf2b[_0x2ebdcc(0xd2)][_0x2ebdcc(0x208)](_0x2a2e9e=>_0x2a2e9e[_0x2ebdcc(0x650)]['toString']()===_0xc95a47['block'][_0x2ebdcc(0x650)][_0x2ebdcc(0x611)]());if(this[_0x2ebdcc(0x701)][_0x2ebdcc(0x429)](this['instanceName']+'\x20('+this[_0x2ebdcc(0x225)][_0x2ebdcc(0x43f)]+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x465801),_0x465801===-0x1){this['logger'][_0x2ebdcc(0x429)](_0x2ebdcc(0x50c)+_0xc95a47[_0x2ebdcc(0x369)][_0x2ebdcc(0x650)]+_0x2ebdcc(0x5db));return;}if(_0x37bf2b['blocks'][_0x465801][_0x2ebdcc(0x48e)]==='start'){let _0x5f59ad=Object[_0x2ebdcc(0x6bc)](_0xc95a47[_0x2ebdcc(0x369)]);if(_0x5f59ad['length']>0x2||_0x5f59ad[_0x2ebdcc(0x6e2)]===0x2&&!_0x5f59ad['includes'](_0x2ebdcc(0x158))){this[_0x2ebdcc(0xcb)](_0x2ebdcc(0x439));return;}}let _0x409fd7=_0x37bf2b['blocks'][_0x465801][_0x2ebdcc(0x617)];for(let _0x528244 in _0xc95a47[_0x2ebdcc(0x369)])_0xc95a47[_0x2ebdcc(0x369)][_0x2ebdcc(0x700)](_0x528244)&&(_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x528244]=_0xc95a47[_0x2ebdcc(0x369)][_0x528244]);if(this[_0x2ebdcc(0x701)]['verbose'](this[_0x2ebdcc(0x41b)]+'\x20('+this[_0x2ebdcc(0x225)]['wuid']+_0x2ebdcc(0x12b)+JSON['stringify'](_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801])),_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]&&'header'in _0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ebdcc(0x225)]['wuid']+_0x2ebdcc(0x178));let _0x55c25a=JSON['stringify'](_0x37bf2b['blocks'][_0x465801][_0x2ebdcc(0x64a)][_0x2ebdcc(0x160)],null,0x1);_0x55c25a[_0x2ebdcc(0x6e2)]>0x2&&(_0x55c25a=_0x55c25a[_0x2ebdcc(0x14e)](0x1,_0x55c25a[_0x2ebdcc(0x6e2)]-0x1)['trim']()),_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]['headerString']=_0x55c25a;}if(_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]&&_0x2ebdcc(0x2c7)in _0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]){this['logger'][_0x2ebdcc(0x429)](this[_0x2ebdcc(0x41b)]+'\x20('+this[_0x2ebdcc(0x225)][_0x2ebdcc(0x43f)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x353217=JSON['stringify'](_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x64a)]['body'],null,0x1);_0x353217[_0x2ebdcc(0x6e2)]>0x2&&(_0x353217=_0x353217[_0x2ebdcc(0x14e)](0x1,_0x353217[_0x2ebdcc(0x6e2)]-0x1)[_0x2ebdcc(0x640)]()),_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801]['apirequest'][_0x2ebdcc(0x3b0)]=_0x353217;}let _0x29c00f=_0x37bf2b[_0x2ebdcc(0xd2)][_0x465801][_0x2ebdcc(0x617)];_0x409fd7!==_0x29c00f?(this[_0x2ebdcc(0x642)](_0x37bf2b['blocks'],_0x409fd7),this[_0x2ebdcc(0x642)](_0x37bf2b[_0x2ebdcc(0xd2)],_0x29c00f)):this[_0x2ebdcc(0x642)](_0x37bf2b[_0x2ebdcc(0xd2)],_0x409fd7);}['addBlock'](_0x3bf50e,_0x4a135c){const _0x4facb3=a0_0x1d42ab;if(_0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x48e)]==='start'){this[_0x4facb3(0xcb)](_0x4facb3(0x3bd));return;}if(_0x4a135c['block'][_0x4facb3(0x64a)]&&'header'in _0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x64a)]){this[_0x4facb3(0x701)][_0x4facb3(0x429)](this[_0x4facb3(0x41b)]+'\x20('+this[_0x4facb3(0x225)][_0x4facb3(0x43f)]+_0x4facb3(0x178));let _0x3d68e1=JSON[_0x4facb3(0x427)](_0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x64a)]['header'],null,0x1);_0x3d68e1[_0x4facb3(0x6e2)]>0x2&&(_0x3d68e1=_0x3d68e1['substring'](0x1,_0x3d68e1[_0x4facb3(0x6e2)]-0x1)[_0x4facb3(0x640)]()),_0x4a135c['block'][_0x4facb3(0x64a)][_0x4facb3(0x608)]=_0x3d68e1;}_0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x64a)]&&_0x4facb3(0x2c7)in _0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x64a)]&&(this['logger'][_0x4facb3(0x429)](this['instanceName']+'\x20('+this[_0x4facb3(0x225)][_0x4facb3(0x43f)]+_0x4facb3(0x550)),_0x4a135c['block'][_0x4facb3(0x64a)][_0x4facb3(0x3b0)]=JSON[_0x4facb3(0x427)](_0x4a135c['block'][_0x4facb3(0x64a)][_0x4facb3(0x2c7)],null,0x1)[_0x4facb3(0x640)]()),_0x3bf50e['blocks'][_0x4facb3(0x59e)](_0x4a135c['block']),this['reorderBlocks'](_0x3bf50e[_0x4facb3(0xd2)],_0x4a135c[_0x4facb3(0x369)][_0x4facb3(0x617)]);}[a0_0x1d42ab(0x642)](_0x3455d4,_0xb1914b){const _0x3c5dbb=a0_0x1d42ab;let _0x4b1752=_0x3455d4['filter'](_0x50928e=>_0x50928e[_0x3c5dbb(0x617)]===_0xb1914b);_0x4b1752[_0x3c5dbb(0x4a4)]((_0x168b4e,_0x1447b6)=>_0x168b4e[_0x3c5dbb(0x6c8)]-_0x1447b6['order']),_0x4b1752[_0x3c5dbb(0x371)]((_0x2333a1,_0x44913e)=>_0x2333a1[_0x3c5dbb(0x6c8)]=_0x44913e+0x1);}async[a0_0x1d42ab(0x11e)](_0xedcdc3){const _0x4d0b6e=a0_0x1d42ab;try{if(this[_0x4d0b6e(0x701)][_0x4d0b6e(0x429)](this[_0x4d0b6e(0x41b)]+'\x20('+this[_0x4d0b6e(0x225)][_0x4d0b6e(0x43f)]+_0x4d0b6e(0x2fc)),!_0xedcdc3||!_0xedcdc3[_0x4d0b6e(0x2cd)]){this[_0x4d0b6e(0xcb)](_0x4d0b6e(0xdd));return;}let _0x1a1b87=await this['repository'][_0x4d0b6e(0x620)][_0x4d0b6e(0x2dc)]({'where':{'name':_0xedcdc3[_0x4d0b6e(0x2ce)]}},this[_0x4d0b6e(0x225)][_0x4d0b6e(0x43f)]);_0x1a1b87||this[_0x4d0b6e(0xcb)]('Flow\x20no\x20encontrado');let {replyOption:_0x11c861}=_0xedcdc3;_0x11c861?.['delete']?(this['deleteReplyOption'](_0x1a1b87,_0xedcdc3),this[_0x4d0b6e(0x2a3)](_0x1a1b87[_0x4d0b6e(0x165)],_0xedcdc3['replyOption']['blockId'])):_0x11c861[_0x4d0b6e(0x650)]?(await this[_0x4d0b6e(0xc0)](_0x1a1b87,_0xedcdc3),this[_0x4d0b6e(0x2a3)](_0x1a1b87[_0x4d0b6e(0x165)],_0xedcdc3[_0x4d0b6e(0x2cd)][_0x4d0b6e(0x5ed)])):(this[_0x4d0b6e(0x215)](_0x1a1b87,_0xedcdc3),this[_0x4d0b6e(0x2a3)](_0x1a1b87[_0x4d0b6e(0x165)],_0xedcdc3[_0x4d0b6e(0x2cd)][_0x4d0b6e(0x5ed)]));let _0x594a47=await this[_0x4d0b6e(0x544)]['flow'][_0x4d0b6e(0xce)](_0x1a1b87[_0x4d0b6e(0x650)],_0x1a1b87,this[_0x4d0b6e(0x225)][_0x4d0b6e(0x43f)]);if(!_0x594a47)throw new Error(_0x4d0b6e(0x523));return _0x594a47;}catch(_0x2db606){this[_0x4d0b6e(0xcb)](_0x4d0b6e(0x15e)+_0x2db606);}}[a0_0x1d42ab(0x2a3)](_0x42a766,_0x52e2f3){const _0x4a2487=a0_0x1d42ab;console[_0x4a2487(0x1c0)](_0x4a2487(0x2b4),_0x52e2f3),_0x42a766[_0x4a2487(0x371)](_0x578947=>{const _0x3858a8=_0x4a2487;_0x578947[_0x3858a8(0x5ed)]===_0x52e2f3&&_0x578947[_0x3858a8(0x6c8)]===void 0x0&&(_0x578947['order']=0x270f);});let _0x2ae18b=_0x42a766[_0x4a2487(0x5f3)](_0x5a40db=>_0x5a40db['blockId']===_0x52e2f3);_0x2ae18b[_0x4a2487(0x4a4)]((_0x19ea71,_0x5b0c68)=>_0x19ea71[_0x4a2487(0x6c8)]-_0x5b0c68[_0x4a2487(0x6c8)]),_0x2ae18b[_0x4a2487(0x371)]((_0x57c2da,_0x120b94)=>{const _0x49a382=_0x4a2487;_0x57c2da[_0x49a382(0x6c8)]=_0x120b94+0x1;}),_0x42a766[_0x4a2487(0x371)](_0x2a835f=>{const _0x285b70=_0x4a2487;if(_0x2a835f['blockId']===_0x52e2f3){let _0x539d86=_0x2ae18b[_0x285b70(0x497)](_0x33a08f=>_0x33a08f[_0x285b70(0x650)][_0x285b70(0x611)]()===_0x2a835f['_id']['toString']());_0x539d86&&(_0x2a835f[_0x285b70(0x6c8)]=_0x539d86['order']);}}),console['log'](_0x4a2487(0x317),_0x42a766);}[a0_0x1d42ab(0x2a9)](_0x2cf7b6,_0x5d8ee5){const _0x15f163=a0_0x1d42ab;let {replyOption:_0x5412bb}=_0x5d8ee5;if(!_0x5412bb[_0x15f163(0x650)]){this['throwAndLogError'](_0x15f163(0x631));return;}if(!_0x2cf7b6['replyOptions']['find'](_0x52ad9f=>_0x52ad9f[_0x15f163(0x650)][_0x15f163(0x611)]()===_0x5d8ee5[_0x15f163(0x2cd)][_0x15f163(0x650)]['toString']())){this[_0x15f163(0xcb)](_0x15f163(0x291)+_0x5412bb[_0x15f163(0x650)]+_0x15f163(0x686));return;}_0x2cf7b6['replyOptions']=_0x2cf7b6['replyOptions'][_0x15f163(0x5f3)](_0xd25cf9=>_0xd25cf9[_0x15f163(0x650)][_0x15f163(0x611)]()!==_0x5d8ee5[_0x15f163(0x2cd)]['_id'][_0x15f163(0x611)]());}async['updateReplyOption'](_0x272386,_0xb9c5f5){const _0x26ed1a=a0_0x1d42ab;let _0x224921=_0x272386[_0x26ed1a(0x165)]['findIndex'](_0x499939=>_0x499939['_id'][_0x26ed1a(0x611)]()===_0xb9c5f5[_0x26ed1a(0x2cd)]['_id'][_0x26ed1a(0x611)]());if(_0x224921===-0x1){this[_0x26ed1a(0xcb)]('ReplyOption\x20com\x20ID\x20'+_0xb9c5f5[_0x26ed1a(0x2cd)][_0x26ed1a(0x650)]+_0x26ed1a(0x5db));return;}for(let _0x438053 in _0xb9c5f5[_0x26ed1a(0x2cd)])_0xb9c5f5[_0x26ed1a(0x2cd)][_0x26ed1a(0x700)](_0x438053)&&(_0x272386[_0x26ed1a(0x165)][_0x224921][_0x438053]=_0xb9c5f5[_0x26ed1a(0x2cd)][_0x438053]);}[a0_0x1d42ab(0x215)](_0x125fe0,_0x181ebf){const _0x3ec817=a0_0x1d42ab;_0x125fe0[_0x3ec817(0x165)][_0x3ec817(0x59e)](_0x181ebf[_0x3ec817(0x2cd)]);}async[a0_0x1d42ab(0x2b9)](_0x60c60b){const _0x44a1f1=a0_0x1d42ab;this[_0x44a1f1(0x701)][_0x44a1f1(0x429)](this[_0x44a1f1(0x41b)]+'\x20('+this[_0x44a1f1(0x225)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x60c60b);try{this[_0x44a1f1(0x701)][_0x44a1f1(0x429)](this['instanceName']+'\x20('+this[_0x44a1f1(0x225)][_0x44a1f1(0x43f)]+_0x44a1f1(0x290));let _0x15086f=await this['repository'][_0x44a1f1(0x620)][_0x44a1f1(0x2dc)]({'where':{'name':_0x60c60b[_0x44a1f1(0x2ce)]}},this[_0x44a1f1(0x225)][_0x44a1f1(0x43f)]);if(!_0x15086f)throw new Error(_0x44a1f1(0x1d5));if(_0x60c60b[_0x44a1f1(0x664)]&&_0x60c60b[_0x44a1f1(0x664)]?.['delete']===!0x0){if(this['logger'][_0x44a1f1(0x429)](this[_0x44a1f1(0x41b)]+'\x20('+this[_0x44a1f1(0x225)][_0x44a1f1(0x43f)]+_0x44a1f1(0x6c9)),_0x60c60b[_0x44a1f1(0x664)][_0x44a1f1(0x47b)]===!0x0)return{'message':_0x44a1f1(0x261)};if(_0x15086f[_0x44a1f1(0xd2)]['some'](_0x205f13=>_0x205f13[_0x44a1f1(0x617)][_0x44a1f1(0x611)]()===_0x60c60b[_0x44a1f1(0x664)][_0x44a1f1(0x650)]))return this[_0x44a1f1(0x701)][_0x44a1f1(0x429)](this['instanceName']+'\x20('+this[_0x44a1f1(0x225)][_0x44a1f1(0x43f)]+_0x44a1f1(0x6f4)),{'message':_0x44a1f1(0x3a4)};_0x15086f[_0x44a1f1(0x141)]=_0x15086f[_0x44a1f1(0x141)][_0x44a1f1(0x5f3)](_0x24d31c=>_0x24d31c[_0x44a1f1(0x650)]['toString']()!==_0x60c60b[_0x44a1f1(0x664)][_0x44a1f1(0x650)]);}else{if(_0x60c60b[_0x44a1f1(0x664)]){if(_0x60c60b[_0x44a1f1(0x664)]['default']===!0x0)return{'message':_0x44a1f1(0x30e)};if(_0x60c60b[_0x44a1f1(0x664)][_0x44a1f1(0x650)]){let _0x1284c3=_0x15086f[_0x44a1f1(0x141)][_0x44a1f1(0x497)](_0x251ab0=>_0x251ab0[_0x44a1f1(0x650)]['toString']()===_0x60c60b[_0x44a1f1(0x664)][_0x44a1f1(0x650)]);_0x1284c3&&(_0x60c60b[_0x44a1f1(0x664)]['x']<0x0&&(_0x60c60b[_0x44a1f1(0x664)]['x']=0x0),_0x60c60b[_0x44a1f1(0x664)]['y']<0x0&&(_0x60c60b['group']['y']=0x0),Object[_0x44a1f1(0x56a)](_0x1284c3,_0x60c60b['group']));}else _0x15086f[_0x44a1f1(0x141)]['push'](_0x60c60b[_0x44a1f1(0x664)]);}}let _0x39937c=await this[_0x44a1f1(0x544)][_0x44a1f1(0x620)]['updateOne'](_0x15086f[_0x44a1f1(0x650)],_0x15086f,this['instance'][_0x44a1f1(0x43f)]);if(!_0x39937c)throw new Error(_0x44a1f1(0x523));return _0x39937c;}catch(_0x59f97b){throw this['logger'][_0x44a1f1(0x241)](this['instanceName']+'\x20('+this[_0x44a1f1(0x225)][_0x44a1f1(0x43f)]+_0x44a1f1(0x5ea)+(_0x59f97b instanceof Error?_0x59f97b[_0x44a1f1(0x312)]:JSON['stringify'](_0x59f97b,null,0x2))),new m(_0x44a1f1(0x4c6)+(_0x59f97b instanceof Error?_0x59f97b[_0x44a1f1(0x312)]:JSON[_0x44a1f1(0x427)](_0x59f97b,null,0x2)));}}async[a0_0x1d42ab(0x377)](_0xc4cf35){const _0x314e32=a0_0x1d42ab;try{this[_0x314e32(0x701)][_0x314e32(0x429)](this[_0x314e32(0x41b)]+'\x20('+this[_0x314e32(0x225)][_0x314e32(0x43f)]+'):\x20Editando\x20condio\x20do\x20fluxo...');let _0x5ca206=await this[_0x314e32(0x544)][_0x314e32(0x620)][_0x314e32(0x2dc)]({'where':{'name':_0xc4cf35[_0x314e32(0x2ce)]}},this[_0x314e32(0x225)][_0x314e32(0x43f)]);if(!_0x5ca206)throw new Error(_0x314e32(0x1d5));let _0x32af0e=!0x1;if(_0xc4cf35[_0x314e32(0x515)]?.['delete']===!0x0)_0x5ca206['conditions']=_0x5ca206['conditions']['filter'](_0x40fbfe=>_0x40fbfe&&_0xc4cf35[_0x314e32(0x515)]&&_0x40fbfe[_0x314e32(0x650)]&&_0xc4cf35[_0x314e32(0x515)][_0x314e32(0x650)]&&_0x40fbfe[_0x314e32(0x650)][_0x314e32(0x611)]()!==_0xc4cf35['condition']['_id'][_0x314e32(0x611)]()),_0x32af0e=!0x0;else{let _0x4a9fd3=_0x5ca206[_0x314e32(0x35d)]['find'](_0x4cbaa4=>_0x4cbaa4&&_0xc4cf35[_0x314e32(0x515)]&&_0x4cbaa4[_0x314e32(0x650)]&&_0xc4cf35[_0x314e32(0x515)][_0x314e32(0x650)]&&_0x4cbaa4[_0x314e32(0x650)]['toString']()===_0xc4cf35[_0x314e32(0x515)][_0x314e32(0x650)]['toString']());_0x4a9fd3?(_0x32af0e=_0x4a9fd3['order']!==_0xc4cf35[_0x314e32(0x515)][_0x314e32(0x6c8)],Object['assign'](_0x4a9fd3,_0xc4cf35[_0x314e32(0x515)])):(_0x5ca206[_0x314e32(0x35d)][_0x314e32(0x59e)](_0xc4cf35[_0x314e32(0x515)]),_0x32af0e=!0x0);}if(_0x32af0e){_0x5ca206['conditions'][_0x314e32(0x4a4)]((_0x5e0727,_0x3ca1fe)=>_0x5e0727[_0x314e32(0x6c8)]>_0x3ca1fe[_0x314e32(0x6c8)]?0x1:_0x3ca1fe['order']>_0x5e0727[_0x314e32(0x6c8)]?-0x1:0x0);for(let _0x804805=0x0;_0x804805<_0x5ca206[_0x314e32(0x35d)][_0x314e32(0x6e2)];_0x804805++)_0x5ca206[_0x314e32(0x35d)][_0x804805]['order']=_0x804805+0x1;_0x5ca206[_0x314e32(0x35d)]['length']>0x0&&(_0x5ca206['conditions'][0x0][_0x314e32(0x22c)]=_0x314e32(0x3d6));}let _0x3a0201=await this[_0x314e32(0x544)]['flow'][_0x314e32(0xce)](_0x5ca206[_0x314e32(0x650)],_0x5ca206,this[_0x314e32(0x225)][_0x314e32(0x43f)]);if(!_0x3a0201)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3a0201;}catch(_0x5bab71){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x314e32(0x225)][_0x314e32(0x43f)]+'):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+(_0x5bab71 instanceof Error?_0x5bab71[_0x314e32(0x312)]:JSON[_0x314e32(0x427)](_0x5bab71,null,0x2))),new Error(_0x314e32(0x1b4)+(_0x5bab71 instanceof Error?_0x5bab71[_0x314e32(0x312)]:JSON['stringify'](_0x5bab71,null,0x2)));}}async['editFlowVaredit'](_0x4c79a5){const _0x5af952=a0_0x1d42ab;try{this[_0x5af952(0x701)][_0x5af952(0x429)](this[_0x5af952(0x41b)]+'\x20('+this[_0x5af952(0x225)][_0x5af952(0x43f)]+_0x5af952(0x4fa));let _0x3c3b01=await this[_0x5af952(0x544)][_0x5af952(0x620)][_0x5af952(0x2dc)]({'where':{'name':_0x4c79a5[_0x5af952(0x2ce)]}},this['instance'][_0x5af952(0x43f)]);if(!_0x3c3b01)throw new Error('Flow\x20no\x20encontrado');let _0x1e7dd6=!0x1;if(_0x4c79a5[_0x5af952(0x5e4)]?.[_0x5af952(0x463)]===!0x0)_0x3c3b01['varedits']=_0x3c3b01[_0x5af952(0x2b3)][_0x5af952(0x5f3)](_0x425eaa=>_0x425eaa&&_0x4c79a5[_0x5af952(0x5e4)]&&_0x425eaa[_0x5af952(0x650)]&&_0x4c79a5[_0x5af952(0x5e4)][_0x5af952(0x650)]&&_0x425eaa[_0x5af952(0x650)][_0x5af952(0x611)]()!==_0x4c79a5['varedit'][_0x5af952(0x650)]['toString']()),_0x1e7dd6=!0x0;else{let _0x23fe77=_0x3c3b01[_0x5af952(0x2b3)][_0x5af952(0x497)](_0x249c98=>_0x249c98&&_0x4c79a5['varedit']&&_0x249c98['_id']&&_0x4c79a5[_0x5af952(0x5e4)][_0x5af952(0x650)]&&_0x249c98[_0x5af952(0x650)][_0x5af952(0x611)]()===_0x4c79a5[_0x5af952(0x5e4)][_0x5af952(0x650)][_0x5af952(0x611)]());_0x23fe77?(_0x1e7dd6=_0x23fe77[_0x5af952(0x6c8)]!==_0x4c79a5[_0x5af952(0x5e4)]['order'],Object[_0x5af952(0x56a)](_0x23fe77,_0x4c79a5[_0x5af952(0x5e4)])):(_0x3c3b01[_0x5af952(0x2b3)][_0x5af952(0x59e)](_0x4c79a5['varedit']),_0x1e7dd6=!0x0);}if(_0x1e7dd6){_0x3c3b01['varedits'][_0x5af952(0x4a4)]((_0x4172b1,_0x56d838)=>_0x4172b1[_0x5af952(0x6c8)]>_0x56d838[_0x5af952(0x6c8)]?0x1:_0x56d838[_0x5af952(0x6c8)]>_0x4172b1['order']?-0x1:0x0);for(let _0x44cbe6=0x0;_0x44cbe6<_0x3c3b01[_0x5af952(0x2b3)][_0x5af952(0x6e2)];_0x44cbe6++)_0x3c3b01['varedits'][_0x44cbe6][_0x5af952(0x6c8)]=_0x44cbe6+0x1;}let _0x6398b5=await this[_0x5af952(0x544)][_0x5af952(0x620)]['updateOne'](_0x3c3b01[_0x5af952(0x650)],_0x3c3b01,this[_0x5af952(0x225)]['wuid']);if(!_0x6398b5)throw new Error(_0x5af952(0x523));return _0x6398b5;}catch(_0x52c263){throw this[_0x5af952(0x701)][_0x5af952(0x241)](this[_0x5af952(0x41b)]+'\x20('+this['instance'][_0x5af952(0x43f)]+_0x5af952(0x6d9)+(_0x52c263 instanceof Error?_0x52c263[_0x5af952(0x312)]:JSON['stringify'](_0x52c263,null,0x2))),new m(_0x5af952(0x1b4)+(_0x52c263 instanceof Error?_0x52c263[_0x5af952(0x312)]:JSON[_0x5af952(0x427)](_0x52c263,null,0x2)));}}async[a0_0x1d42ab(0x5c2)](_0x1427ac){const _0x478497=a0_0x1d42ab;try{this[_0x478497(0x701)][_0x478497(0x429)](this['instanceName']+'\x20('+this[_0x478497(0x225)][_0x478497(0x43f)]+_0x478497(0x100));let _0x114506=await this['repository'][_0x478497(0x620)][_0x478497(0x2dc)]({'where':{'name':_0x1427ac[_0x478497(0x2ce)]}},this[_0x478497(0x225)][_0x478497(0x43f)]);if(!_0x114506)throw new Error(_0x478497(0x1d5));_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]=_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)][_0x478497(0x640)](),_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)][_0x478497(0x196)]('_')&&(_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]=_0x1427ac['variable'][_0x478497(0x2ce)][_0x478497(0x14e)](0x1)),_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]=_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]['trim']();let _0x39f95=_0x114506[_0x478497(0x331)][_0x478497(0x497)](_0x3e05a1=>_0x3e05a1['name']===_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]);if(_0x39f95?.[_0x478497(0x39e)]===!0x0)throw new Error(_0x478497(0x44b));if(_0x1427ac[_0x478497(0x220)]?.['delete']===!0x0){if(!_0x39f95)return{'message':'Varivel\x20no\x20encontrada!'};_0x114506[_0x478497(0x331)]=_0x114506[_0x478497(0x331)][_0x478497(0x5f3)](_0x96b111=>_0x96b111[_0x478497(0x2ce)]!==_0x1427ac[_0x478497(0x220)][_0x478497(0x2ce)]);}else _0x39f95?Object[_0x478497(0x56a)](_0x39f95,_0x1427ac['variable']):_0x114506['variables'][_0x478497(0x59e)](_0x1427ac[_0x478497(0x220)]);let _0x34452e=await this[_0x478497(0x544)]['flow'][_0x478497(0xce)](_0x114506[_0x478497(0x650)],_0x114506,this[_0x478497(0x225)][_0x478497(0x43f)]);if(!_0x34452e)throw new Error(_0x478497(0x523));return _0x34452e;}catch(_0x43ec5b){throw this['logger'][_0x478497(0x241)](this[_0x478497(0x41b)]+'\x20('+this['instance'][_0x478497(0x43f)]+_0x478497(0x37d)+(_0x43ec5b instanceof Error?_0x43ec5b[_0x478497(0x312)]:JSON['stringify'](_0x43ec5b,null,0x2))),new m(_0x478497(0x4b4)+(_0x43ec5b instanceof Error?_0x43ec5b[_0x478497(0x312)]:JSON[_0x478497(0x427)](_0x43ec5b,null,0x2)));}}async[a0_0x1d42ab(0x64f)](_0x29906d){const _0x3c99e4=a0_0x1d42ab;let _0x105668=null;try{if(!this[_0x3c99e4(0x480)]?.['flowConfig']['enabled'])throw new m('Fluxos\x20no\x20esto\x20ativados');this[_0x3c99e4(0x701)][_0x3c99e4(0x429)](this[_0x3c99e4(0x41b)]+'\x20('+this[_0x3c99e4(0x225)][_0x3c99e4(0x43f)]+_0x3c99e4(0x1a9));let _0x26da28=(await this[_0x3c99e4(0x567)]({'numbers':[_0x29906d[_0x3c99e4(0x6e5)]]}))[0x0];if(!_0x26da28['exists']&&!(0x0,y['isJidGroup'])(_0x26da28[_0x3c99e4(0x671)])&&!_0x26da28[_0x3c99e4(0x671)][_0x3c99e4(0x2c5)]('@broadcast'))throw _0x105668=JSON[_0x3c99e4(0x427)](_0x26da28,null,0x2),new m(_0x26da28);let _0x159edf=await this[_0x3c99e4(0x544)][_0x3c99e4(0x620)][_0x3c99e4(0x2dc)]({'where':{'name':_0x29906d['name']}},this[_0x3c99e4(0x225)][_0x3c99e4(0x43f)]);if(!_0x159edf)return this[_0x3c99e4(0x701)][_0x3c99e4(0x241)](this['instanceName']+'\x20('+this['instance'][_0x3c99e4(0x43f)]+_0x3c99e4(0x1df)),{'message':'Flow\x20no\x20encontrado'};let _0x17becd=await this['createConversationforStartFlow'](_0x159edf,_0x26da28[_0x3c99e4(0x671)],_0x29906d[_0x3c99e4(0x27b)]);if(_0x17becd){this[_0x3c99e4(0x701)][_0x3c99e4(0x429)](this[_0x3c99e4(0x41b)]+'\x20('+this[_0x3c99e4(0x225)][_0x3c99e4(0x43f)]+_0x3c99e4(0x5b7));let _0x12ae6d=await this['NextBlock'](_0x17becd);return _0x12ae6d&&await this[_0x3c99e4(0xd8)](_0x17becd,_0x12ae6d),{'message':_0x3c99e4(0x40a)+_0x29906d[_0x3c99e4(0x6e5)]};}}catch(_0x1719c0){if(this[_0x3c99e4(0x701)][_0x3c99e4(0x241)](this[_0x3c99e4(0x41b)]+'\x20('+this[_0x3c99e4(0x225)][_0x3c99e4(0x43f)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x1719c0 instanceof Error?_0x1719c0[_0x3c99e4(0x312)]:JSON[_0x3c99e4(0x427)](_0x1719c0,null,0x2))),_0x105668=_0x1719c0 instanceof Error?_0x1719c0[_0x3c99e4(0x312)]:JSON[_0x3c99e4(0x427)](_0x1719c0,null,0x2),_0x105668)throw new m(_0x3c99e4(0x3ca)+_0x105668);}}async[a0_0x1d42ab(0x684)](_0x107e3e){const _0x5209ab=a0_0x1d42ab;try{let _0x33f023={'remoteJid':_0x107e3e,'status':_0x5209ab(0x66f)},_0x569f31={'status':'closed'},_0x2fa061=await this['repository'][_0x5209ab(0x1f7)][_0x5209ab(0x6e3)](_0x33f023,_0x569f31,this[_0x5209ab(0x225)][_0x5209ab(0x43f)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5209ab(0x43f)]+_0x5209ab(0x475)),_0x2fa061;}catch(_0x57bb23){throw this['logger'][_0x5209ab(0x241)](this[_0x5209ab(0x41b)]+'\x20('+this[_0x5209ab(0x225)][_0x5209ab(0x43f)]+_0x5209ab(0x16c)+_0x57bb23[_0x5209ab(0x312)]),_0x57bb23;}}async['createConversationforStartFlow'](_0x4068e6,_0x1c6293,_0x3b3805){const _0x38ec09=a0_0x1d42ab;this['logger']['verbose'](this[_0x38ec09(0x41b)]+'\x20('+this[_0x38ec09(0x225)][_0x38ec09(0x43f)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x38ec09(0x684)](_0x1c6293);try{let _0x3b73fc=require('mongodb')['ObjectId'],_0x4b3f18=Date['now'](),_0x4366e2=_0x38ec09(0x289),_0xa9a997={},_0x3c8b59={},_0x245cb1={..._0x4068e6,'chatLog':null},_0x24968d=await this[_0x38ec09(0x5b1)](_0x245cb1[_0x38ec09(0x331)]),_0x31dea2=await this[_0x38ec09(0x1b9)](_0x1c6293),_0x1f5fd8={..._0x24968d,..._0x31dea2,'_remoteJid':_0x1c6293},_0x15974f={'lastReceivedMessage':_0xa9a997,'lastSendMessage':_0x3c8b59,'lastBlockId':_0x4366e2,'lastCondition':!0x0,'realVariables':_0x1f5fd8};_0x245cb1[_0x38ec09(0x169)]=_0x15974f,_0x245cb1['chatLog']['realVariables']={..._0x1f5fd8,..._0x3b3805},delete _0x245cb1['_id'],_0x245cb1[_0x38ec09(0x650)]=new _0x3b73fc(),_0x245cb1[_0x38ec09(0x190)]=_0x4b3f18,_0x245cb1[_0x38ec09(0x3f1)]='open',_0x245cb1[_0x38ec09(0x6e5)]=_0x1c6293;let _0x3aa73b=await this[_0x38ec09(0x544)][_0x38ec09(0x1f7)][_0x38ec09(0xce)](_0x245cb1[_0x38ec09(0x650)],_0x245cb1,this[_0x38ec09(0x225)]['wuid']);return this[_0x38ec09(0x701)][_0x38ec09(0x429)](this['instanceName']+'\x20('+this['instance'][_0x38ec09(0x43f)]+_0x38ec09(0x5a3)),_0x3aa73b?_0x245cb1:null;}catch(_0x5d1915){throw this[_0x38ec09(0x701)]['error'](this['instanceName']+'\x20('+this[_0x38ec09(0x225)][_0x38ec09(0x43f)]+_0x38ec09(0x673)+(_0x5d1915 instanceof Error?_0x5d1915[_0x38ec09(0x312)]:JSON[_0x38ec09(0x427)](_0x5d1915,null,0x2))),new m(_0x5d1915[_0x38ec09(0x312)]);}}async['getConversation'](_0x31ea7a){const _0x33e1bf=a0_0x1d42ab;try{this[_0x33e1bf(0x701)][_0x33e1bf(0x429)](this[_0x33e1bf(0x41b)]+'\x20('+this[_0x33e1bf(0x225)]['wuid']+_0x33e1bf(0x3ed)),this[_0x33e1bf(0x701)][_0x33e1bf(0x429)](this[_0x33e1bf(0x41b)]+'\x20('+this['instance']['wuid']+_0x33e1bf(0x4b1)+_0x31ea7a);let _0x1005e9={'where':{'_id':_0x31ea7a}};return await this[_0x33e1bf(0x544)][_0x33e1bf(0x1f7)][_0x33e1bf(0x2dc)](_0x1005e9,this[_0x33e1bf(0x225)][_0x33e1bf(0x43f)]);}catch(_0x110688){throw this[_0x33e1bf(0x701)][_0x33e1bf(0x241)](this[_0x33e1bf(0x41b)]+'\x20('+this[_0x33e1bf(0x225)][_0x33e1bf(0x43f)]+_0x33e1bf(0x5f2)+(_0x110688 instanceof Error?_0x110688[_0x33e1bf(0x312)]:JSON['stringify'](_0x110688,null,0x2))),new m(_0x33e1bf(0x14c)+_0x110688[_0x33e1bf(0x312)]);}}async[a0_0x1d42ab(0x1cb)](_0x5a7ca4){const _0x3f4c08=a0_0x1d42ab;try{return this[_0x3f4c08(0x701)][_0x3f4c08(0x429)](this[_0x3f4c08(0x41b)]+'\x20('+this[_0x3f4c08(0x225)][_0x3f4c08(0x43f)]+_0x3f4c08(0x68b)),await this[_0x3f4c08(0x544)][_0x3f4c08(0x1f7)]['find'](_0x5a7ca4,this[_0x3f4c08(0x225)][_0x3f4c08(0x43f)]);}catch(_0x57a8e7){throw this[_0x3f4c08(0x701)]['error'](this['instanceName']+'\x20('+this[_0x3f4c08(0x225)][_0x3f4c08(0x43f)]+_0x3f4c08(0x6e6)+(_0x57a8e7 instanceof Error?_0x57a8e7['message']:JSON['stringify'](_0x57a8e7,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x57a8e7[_0x3f4c08(0x312)]);}}async[a0_0x1d42ab(0x6ff)](_0x10be84){const _0x44e3a3=a0_0x1d42ab;try{return this['logger'][_0x44e3a3(0x429)](this[_0x44e3a3(0x41b)]+'\x20('+this[_0x44e3a3(0x225)]['wuid']+_0x44e3a3(0x5a6)),this[_0x44e3a3(0x701)][_0x44e3a3(0x429)](this['instanceName']+'\x20('+this[_0x44e3a3(0x225)][_0x44e3a3(0x43f)]+'):\x20Query\x20params:'+_0x10be84),(await this['repository']['flowConversation'][_0x44e3a3(0x1a6)]({'where':{'_id':_0x10be84}},this[_0x44e3a3(0x225)][_0x44e3a3(0x43f)]))[_0x44e3a3(0x5eb)]===0x0?{'message':_0x44e3a3(0x5d8)}:{'message':_0x44e3a3(0x6e8)};}catch(_0x17e211){throw this[_0x44e3a3(0x701)][_0x44e3a3(0x241)](this[_0x44e3a3(0x41b)]+'\x20('+this[_0x44e3a3(0x225)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x17e211 instanceof Error?_0x17e211[_0x44e3a3(0x312)]:JSON[_0x44e3a3(0x427)](_0x17e211,null,0x2))),new m(_0x44e3a3(0x606)+_0x17e211['message']);}}async[a0_0x1d42ab(0x2ba)](_0x3df004){const _0x9906c3=a0_0x1d42ab;try{let {_id:_0x394663,chatLog:_0x12f2df,status:_0x1263bc}=_0x3df004;if(!_0x394663)return{'message':_0x9906c3(0x5e8)};let _0x47fa60={};if(_0x1263bc!==void 0x0&&(_0x47fa60[_0x9906c3(0x3f1)]=_0x1263bc),Object[_0x9906c3(0x6bc)](_0x47fa60)[_0x9906c3(0x6e2)]===0x0)return{'message':_0x9906c3(0x706)};let _0x271c56=await this[_0x9906c3(0x544)]['flowConversation']['updateOne'](_0x394663,_0x47fa60,this[_0x9906c3(0x225)]['wuid']);return _0x271c56||{'message':_0x9906c3(0x4cb)};}catch(_0x528c91){throw this[_0x9906c3(0x701)][_0x9906c3(0x241)](this[_0x9906c3(0x41b)]+'\x20('+this['instance'][_0x9906c3(0x43f)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x528c91 instanceof Error?_0x528c91['message']:JSON[_0x9906c3(0x427)](_0x528c91,null,0x2))),new m(_0x9906c3(0x634)+_0x528c91[_0x9906c3(0x312)]);}}async[a0_0x1d42ab(0x6d0)](_0x16ae67){const _0x6de549=a0_0x1d42ab;try{_0x16ae67[_0x6de549(0x650)]=this[_0x6de549(0x219)](_0x16ae67['_id']);let {_id:_0x4cf167,leadInfo:_0x1aff42}=_0x16ae67;if(!_0x4cf167)throw new Error('O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.');let _0xac279f=(_0x8285d7,_0x46065e,_0x1dc926)=>{const _0x424f4e=_0x6de549;_0x1dc926[_0x424f4e(0x371)](_0x52cf0d=>{_0x8285d7[_0x52cf0d]!==void 0x0&&(_0x46065e['leadInfo.'+_0x52cf0d]=_0x8285d7[_0x52cf0d]);});},_0x4e95a5={};if(_0xac279f(_0x1aff42,_0x4e95a5,[_0x6de549(0x499),_0x6de549(0xea),_0x6de549(0x603),_0x6de549(0x535),_0x6de549(0x3f1),'notas',_0x6de549(0x543),'atendimentoAberto',_0x6de549(0x6fb)]),Array[_0x6de549(0x5e2)](_0x1aff42[_0x6de549(0x5af)])&&(_0x4e95a5['leadInfo.customFields']=_0x1aff42[_0x6de549(0x5af)][_0x6de549(0x6e4)](_0x51a79b=>({'_id':_0x51a79b[_0x6de549(0x650)],'value':_0x51a79b[_0x6de549(0x681)]}))),_0x16ae67[_0x6de549(0x39e)]['desativadoFluxoAte']!==void 0x0&&(_0x4e95a5[_0x6de549(0x446)]=Number(_0x16ae67[_0x6de549(0x39e)]['desativadoFluxoAte'])),_0x16ae67['unreadcount']!==void 0x0&&(_0x4e95a5[_0x6de549(0x625)]=Number(_0x16ae67['unreadcount'])),Object['keys'](_0x4e95a5)[_0x6de549(0x6e2)]===0x0)throw new Error(_0x6de549(0x706));let _0x4dfe8d=await this['repository'][_0x6de549(0x159)]['findOne']({'where':{'_id':_0x16ae67['_id']}},this[_0x6de549(0x225)][_0x6de549(0x43f)]);if(!_0x4dfe8d){let _0x5aa36f=(await this[_0x6de549(0x567)]({'numbers':[_0x16ae67[_0x6de549(0x650)]]}))[0x0];if(!_0x5aa36f[_0x6de549(0x2d0)]&&!(0x0,y[_0x6de549(0x3b8)])(_0x5aa36f[_0x6de549(0x671)])&&!_0x5aa36f[_0x6de549(0x671)][_0x6de549(0x2c5)](_0x6de549(0x349)))throw new m(_0x5aa36f);_0x16ae67[_0x6de549(0x650)]=_0x5aa36f[_0x6de549(0x671)];}if(_0x16ae67[_0x6de549(0x579)]!==void 0x0){let _0x3adc93=await this[_0x6de549(0x544)][_0x6de549(0x1bc)]['find']({'where':{}},this[_0x6de549(0x225)]['wuid']),_0xd558ea=new Set(_0x4dfe8d['labels']||[]),_0x3ceffc=new Set(_0x16ae67[_0x6de549(0x579)]),_0x22b3cc=new Set(_0x3adc93[_0x6de549(0x6e4)](_0x1ee765=>_0x1ee765[_0x6de549(0x650)])),_0x4a84dd=[..._0x3ceffc][_0x6de549(0x5f3)](_0x49d7bb=>!_0xd558ea[_0x6de549(0x24f)](_0x49d7bb)&&_0x22b3cc[_0x6de549(0x24f)](_0x49d7bb)),_0x17380c=[..._0xd558ea]['filter'](_0x379806=>!_0x3ceffc[_0x6de549(0x24f)](_0x379806));for(let _0x1d246b of _0x4a84dd)await this[_0x6de549(0x6c6)](_0x1d246b,_0x16ae67['_id']),_0xd558ea[_0x6de549(0x456)](_0x1d246b);for(let _0xfa3c4d of _0x17380c)await this[_0x6de549(0x24b)](_0xfa3c4d,_0x16ae67[_0x6de549(0x650)]),_0xd558ea[_0x6de549(0x463)](_0xfa3c4d);_0x4e95a5[_0x6de549(0x579)]=[..._0xd558ea];}let _0x43c0cd=await this[_0x6de549(0x544)][_0x6de549(0x159)][_0x6de549(0xce)]({'where':{'_id':_0x16ae67['_id']}},_0x4e95a5,this[_0x6de549(0x225)][_0x6de549(0x43f)]);return _0x43c0cd&&q(this['instanceName'],'chats',{'chat':_0x43c0cd}),_0x43c0cd?(this[_0x6de549(0x701)][_0x6de549(0x429)](this[_0x6de549(0x41b)]+'\x20('+this['instance']['wuid']+_0x6de549(0x1c7)+JSON[_0x6de549(0x427)](_0x43c0cd,null,0x2)),_0x43c0cd):{'message':_0x6de549(0x33d)};}catch(_0x125f43){throw this[_0x6de549(0x701)][_0x6de549(0x241)](this['instanceName']+'\x20('+this[_0x6de549(0x225)]['wuid']+_0x6de549(0x385)+(_0x125f43 instanceof Error?_0x125f43['message']:JSON[_0x6de549(0x427)](_0x125f43,null,0x2))),new m(_0x6de549(0x281)+_0x125f43[_0x6de549(0x312)]);}}async[a0_0x1d42ab(0x6c6)](_0x25ede9,_0x50cd4a){const _0x5dbe13=a0_0x1d42ab;try{await this[_0x5dbe13(0x370)][_0x5dbe13(0x49f)](_0x50cd4a,_0x25ede9),console[_0x5dbe13(0x1c0)](_0x5dbe13(0x69a)+_0x25ede9+_0x5dbe13(0x68c)+_0x50cd4a+_0x5dbe13(0x2ef));}catch(_0x2ca571){console[_0x5dbe13(0x241)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x25ede9+_0x5dbe13(0x4b3)+_0x50cd4a+':',_0x2ca571);}}async['RemoveChatLabel'](_0x30e4f8,_0xee40c7){const _0x4b3615=a0_0x1d42ab;try{await this[_0x4b3615(0x370)][_0x4b3615(0x530)](_0xee40c7,_0x30e4f8),console[_0x4b3615(0x1c0)]('Label\x20'+_0x30e4f8+_0x4b3615(0x50d)+_0xee40c7+_0x4b3615(0x2ef));}catch(_0x1815a2){console[_0x4b3615(0x241)](_0x4b3615(0x4aa)+_0x30e4f8+_0x4b3615(0x46f)+_0xee40c7+':',_0x1815a2);}}async['updateAgent'](_0x1de85e){const _0x972fb7=a0_0x1d42ab;try{let _0x313c7d=await this['repository'][_0x972fb7(0x244)][_0x972fb7(0x2d3)](this['instance'][_0x972fb7(0x43f)]),_0x28ba2a=_0x1de85e[_0x972fb7(0x650)]?_0x313c7d['agents'][_0x972fb7(0x208)](_0x1a5950=>_0x1a5950[_0x972fb7(0x650)]===_0x1de85e['_id']):-0x1;if(_0x1de85e[_0x972fb7(0x463)]&&_0x28ba2a>-0x1)_0x313c7d[_0x972fb7(0x2de)][_0x972fb7(0x1d6)](_0x28ba2a,0x1);else{if(_0x28ba2a>-0x1){let _0x3dc519=_0x313c7d[_0x972fb7(0x2de)][_0x28ba2a];_0x1de85e['fone']&&(_0x3dc519['fone']=_0x1de85e['fone']),_0x1de85e[_0x972fb7(0x2ce)]&&(_0x3dc519[_0x972fb7(0x2ce)]=_0x1de85e[_0x972fb7(0x2ce)]),_0x1de85e[_0x972fb7(0x603)]&&(_0x3dc519[_0x972fb7(0x603)]=_0x1de85e[_0x972fb7(0x603)]),_0x1de85e[_0x972fb7(0x4bf)]&&(_0x3dc519[_0x972fb7(0x4bf)]=_0x1de85e[_0x972fb7(0x4bf)]);}else _0x313c7d[_0x972fb7(0x2de)][_0x972fb7(0x59e)]({'_id':_0x1de85e['_id']||new ne[(_0x972fb7(0x47b))][(_0x972fb7(0x316))][(_0x972fb7(0x1e3))]()[_0x972fb7(0x611)](),'fone':_0x1de85e[_0x972fb7(0x164)],'name':_0x1de85e[_0x972fb7(0x2ce)],'email':_0x1de85e[_0x972fb7(0x603)],'role':_0x1de85e[_0x972fb7(0x4bf)]});}let _0x1834f0={'agents':_0x313c7d['agents']},_0x1e296b=await this[_0x972fb7(0x544)][_0x972fb7(0x244)]['update'](_0x1834f0,this[_0x972fb7(0x225)][_0x972fb7(0x43f)]);return this['AutomateSystem']=_0x1e296b,this[_0x972fb7(0x701)][_0x972fb7(0x429)](this['instanceName']+'\x20('+this[_0x972fb7(0x225)][_0x972fb7(0x43f)]+_0x972fb7(0x5f5)),this[_0x972fb7(0x701)][_0x972fb7(0x429)](this['instanceName']+'\x20('+this['instance'][_0x972fb7(0x43f)]+_0x972fb7(0x1c7)+this[_0x972fb7(0x480)]),_0x1e296b;}catch(_0x18308f){throw this['logger']['error'](this[_0x972fb7(0x41b)]+'\x20('+this[_0x972fb7(0x225)][_0x972fb7(0x43f)]+_0x972fb7(0x5cd)+(_0x18308f instanceof Error?_0x18308f[_0x972fb7(0x312)]:JSON[_0x972fb7(0x427)](_0x18308f,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x18308f[_0x972fb7(0x312)]);}}async[a0_0x1d42ab(0x2ea)](_0x1ba481){const _0x14120c=a0_0x1d42ab;try{let _0x559e01=await this[_0x14120c(0x544)][_0x14120c(0x244)][_0x14120c(0x2d3)](this[_0x14120c(0x225)][_0x14120c(0x43f)]),_0x59cae7=_0x1ba481['_id']?_0x559e01[_0x14120c(0x5af)][_0x14120c(0x208)](_0x55ae89=>_0x55ae89['_id']===_0x1ba481[_0x14120c(0x650)]):-0x1,_0x426480=!0x1,_0x5f53fb=_0x559e01[_0x14120c(0x5af)][_0x14120c(0x2b7)](_0x57f679=>_0x57f679[_0x14120c(0x6c8)]===_0x1ba481[_0x14120c(0x6c8)]);if(_0x1ba481[_0x14120c(0x463)]&&_0x59cae7>-0x1)_0x559e01['customFields']['splice'](_0x59cae7,0x1),_0x426480=!0x0;else{if(_0x59cae7>-0x1){if(_0x559e01[_0x14120c(0x5af)][_0x14120c(0x2b7)](_0x402581=>_0x402581[_0x14120c(0x2ce)]===_0x1ba481[_0x14120c(0x2ce)]&&_0x402581[_0x14120c(0x650)]!==_0x1ba481[_0x14120c(0x650)]))throw new Error(_0x14120c(0x531));let _0x4f117b=_0x559e01[_0x14120c(0x5af)][_0x59cae7];_0x1ba481[_0x14120c(0x6c8)]&&(_0x5f53fb||!Number[_0x14120c(0x647)](_0x1ba481['order']))&&(_0x4f117b[_0x14120c(0x6c8)]=_0x1ba481['order'],_0x426480=!0x0),_0x1ba481[_0x14120c(0x2ce)]&&(_0x4f117b['name']=_0x1ba481[_0x14120c(0x2ce)]);}else{if(_0x559e01[_0x14120c(0x5af)]['some'](_0x425f67=>_0x425f67[_0x14120c(0x2ce)]===_0x1ba481['name']&&_0x425f67[_0x14120c(0x650)]!==_0x1ba481[_0x14120c(0x650)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');_0x559e01['customFields']['push']({'_id':_0x1ba481['_id']||new ne[(_0x14120c(0x47b))]['Types']['ObjectId']()[_0x14120c(0x611)](),'order':_0x1ba481[_0x14120c(0x6c8)],'name':_0x1ba481[_0x14120c(0x2ce)]}),_0x426480=!0x0;}}if(_0x426480){_0x559e01[_0x14120c(0x5af)][_0x14120c(0x4a4)]((_0x4488e8,_0x52296d)=>_0x4488e8[_0x14120c(0x6c8)]>_0x52296d['order']?0x1:_0x52296d[_0x14120c(0x6c8)]>_0x4488e8[_0x14120c(0x6c8)]?-0x1:0x0);for(let _0x46848b=0x0;_0x46848b<_0x559e01[_0x14120c(0x5af)][_0x14120c(0x6e2)];_0x46848b++)_0x559e01['customFields'][_0x46848b][_0x14120c(0x6c8)]=_0x46848b+0x1;}let _0x59ba27=await this[_0x14120c(0x544)][_0x14120c(0x244)][_0x14120c(0x22d)](_0x559e01,this[_0x14120c(0x225)][_0x14120c(0x43f)]);return this[_0x14120c(0x480)]=_0x59ba27,this[_0x14120c(0x701)][_0x14120c(0x429)](this[_0x14120c(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x14120c(0x701)][_0x14120c(0x429)](this[_0x14120c(0x41b)]+'\x20('+this[_0x14120c(0x225)][_0x14120c(0x43f)]+_0x14120c(0x1c7)+this[_0x14120c(0x480)]),_0x59ba27;}catch(_0x25d49e){throw this[_0x14120c(0x701)][_0x14120c(0x241)](this[_0x14120c(0x41b)]+'\x20('+this[_0x14120c(0x225)][_0x14120c(0x43f)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x25d49e instanceof Error?_0x25d49e[_0x14120c(0x312)]:JSON[_0x14120c(0x427)](_0x25d49e,null,0x2))),new m(_0x14120c(0x135)+_0x25d49e[_0x14120c(0x312)]);}}async[a0_0x1d42ab(0x214)](_0x16a925){const _0x4bc6fa=a0_0x1d42ab;try{let _0x3b0f5a=await this['repository'][_0x4bc6fa(0x244)][_0x4bc6fa(0x2d3)](this['instance']['wuid']);if(!_0x3b0f5a)throw new Error(_0x4bc6fa(0x2a6));let _0x593f98={'_id':_0x3b0f5a['_id'],'flowConfig':{'enabled':_0x16a925[_0x4bc6fa(0x561)]??_0x3b0f5a[_0x4bc6fa(0x182)][_0x4bc6fa(0x561)],'ignoreGroups':_0x16a925[_0x4bc6fa(0x1c3)]??_0x3b0f5a[_0x4bc6fa(0x182)]['ignoreGroups'],'prefixCommand':_0x16a925['prefixCommand']??_0x3b0f5a[_0x4bc6fa(0x182)][_0x4bc6fa(0x394)],'stopConversation':_0x16a925['stopConversation']??_0x3b0f5a[_0x4bc6fa(0x182)]['stopConversation'],'stopMinutes':_0x16a925['stopMinutes']??_0x3b0f5a[_0x4bc6fa(0x182)][_0x4bc6fa(0x30b)],'stopWhenYouSendMsg':_0x16a925[_0x4bc6fa(0x3b4)]??_0x3b0f5a[_0x4bc6fa(0x182)][_0x4bc6fa(0x3b4)]}},_0x2993d1=await this['repository'][_0x4bc6fa(0x244)][_0x4bc6fa(0x22d)](_0x593f98,this[_0x4bc6fa(0x225)][_0x4bc6fa(0x43f)]);return this[_0x4bc6fa(0x480)]=_0x2993d1,this[_0x4bc6fa(0x701)][_0x4bc6fa(0x429)](this['instanceName']+'\x20('+this[_0x4bc6fa(0x225)][_0x4bc6fa(0x43f)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4bc6fa(0x701)]['verbose'](this[_0x4bc6fa(0x41b)]+'\x20('+this[_0x4bc6fa(0x225)][_0x4bc6fa(0x43f)]+_0x4bc6fa(0x1c7)+this[_0x4bc6fa(0x480)]),setTimeout(()=>this[_0x4bc6fa(0x34e)](),0x7d0),_0x2993d1;}catch(_0x5d37a1){throw this['logger'][_0x4bc6fa(0x241)](this['instanceName']+'\x20('+this['instance'][_0x4bc6fa(0x43f)]+_0x4bc6fa(0x123)+(_0x5d37a1 instanceof Error?_0x5d37a1[_0x4bc6fa(0x312)]:JSON[_0x4bc6fa(0x427)](_0x5d37a1,null,0x2))),new m(_0x4bc6fa(0x3c7)+_0x5d37a1['message']);}}async[a0_0x1d42ab(0x367)](){const _0x477161=a0_0x1d42ab;try{let _0x342eb5=await this[_0x477161(0x544)][_0x477161(0x244)]['findOrCreate'](this[_0x477161(0x225)][_0x477161(0x43f)]);return this['AutomateSystem']=_0x342eb5,this['logger']['verbose'](this[_0x477161(0x41b)]+'\x20('+this[_0x477161(0x225)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this[_0x477161(0x701)][_0x477161(0x429)](this[_0x477161(0x480)]),_0x342eb5;}catch(_0x3e3282){throw this[_0x477161(0x701)][_0x477161(0x241)](this[_0x477161(0x41b)]+'\x20('+this[_0x477161(0x225)][_0x477161(0x43f)]+_0x477161(0x324)+(_0x3e3282 instanceof Error?_0x3e3282[_0x477161(0x312)]:JSON[_0x477161(0x427)](_0x3e3282,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x3e3282[_0x477161(0x312)]);}}async[a0_0x1d42ab(0x482)](){const _0x3db780=a0_0x1d42ab;this[_0x3db780(0x54b)]&&clearTimeout(this[_0x3db780(0x54b)]),this[_0x3db780(0x54b)]=setTimeout(()=>{const _0x4e4be6=_0x3db780;this[_0x4e4be6(0x3f7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x8195c6=a0_0x1d42ab;Date['now']()-this[_0x8195c6(0x200)]>=0x1d4c0&&(this['logger']['verbose'](this[_0x8195c6(0x41b)]+'\x20('+this['instance'][_0x8195c6(0x43f)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['processingScheduleMessageId']=null,this[_0x8195c6(0x200)]=0x0,this[_0x8195c6(0x2d6)]=0x0,await this[_0x8195c6(0x34e)]());}async[a0_0x1d42ab(0x34e)](){const _0x11e9f4=a0_0x1d42ab;let _0x6ae224=()=>{const _0x156861=a0_0x3f00;this['logger'][_0x156861(0x429)](this[_0x156861(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20this.processingScheduleMessageId:\x20'+this[_0x156861(0x670)]+_0x156861(0x228));},_0x58d964=async()=>{const _0x1f6cd0=a0_0x3f00;this['logger'][_0x1f6cd0(0x429)](this[_0x1f6cd0(0x41b)]+'\x20('+this['instance']['wuid']+_0x1f6cd0(0x4e3));let _0x2bddc4=Date[_0x1f6cd0(0x5aa)]()-0xc*0x3c*0x3c*0x3e8,_0x90009={'where':{'status':{'$in':['scheduled',_0x1f6cd0(0x112)]},'$or':[{'when':{'$lte':Date[_0x1f6cd0(0x5aa)](),'$gte':_0x2bddc4}},{'when':0x0}]}};return await this[_0x1f6cd0(0x544)]['scheduleMessage'][_0x1f6cd0(0x497)](_0x90009,this[_0x1f6cd0(0x225)][_0x1f6cd0(0x43f)]);},_0x3a1246=async _0x54d640=>{const _0x556f37=a0_0x3f00;for(let _0x105ec8 of _0x54d640){let _0xf256fb={'_id':_0x105ec8[_0x556f37(0x650)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x556f37(0x5aa)]()-0x1770}}]},_0x272da9={'startSend':Date['now']()};if(!await this[_0x556f37(0x544)][_0x556f37(0x641)][_0x556f37(0xce)](_0xf256fb,_0x272da9,this[_0x556f37(0x225)]['wuid']))return;if(!this['isConnected']){this[_0x556f37(0x701)]['verbose'](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)][_0x556f37(0x43f)]+_0x556f37(0x14a));break;}if(_0x105ec8['type']===_0x556f37(0x620)&&!this[_0x556f37(0x480)]?.[_0x556f37(0x182)][_0x556f37(0x561)]){this[_0x556f37(0x701)][_0x556f37(0x241)](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)]['wuid']+_0x556f37(0x4a1));continue;}(!_0x105ec8[_0x556f37(0x50b)]||_0x105ec8[_0x556f37(0x50b)]['length']===0x0)&&(_0x105ec8=await this[_0x556f37(0x544)]['scheduleMessage'][_0x556f37(0x26b)](_0x105ec8[_0x556f37(0x650)],{'status':_0x556f37(0x112),'remoteJidsRemaining':[..._0x105ec8[_0x556f37(0x32f)]]},this[_0x556f37(0x225)][_0x556f37(0x43f)]));for(let _0x488f7b of _0x105ec8['remoteJidsRemaining']){if(await this[_0x556f37(0x482)](),this['lastSend']=Date[_0x556f37(0x5aa)](),_0x105ec8[_0x556f37(0x58b)]['some'](_0x3f1358=>_0x3f1358[_0x556f37(0x6e5)]===_0x488f7b)){this[_0x556f37(0x701)][_0x556f37(0x429)](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)][_0x556f37(0x43f)]+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x488f7b+_0x556f37(0x623));continue;}if(!this['isConnected']){this[_0x556f37(0x701)][_0x556f37(0x429)](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)]['wuid']+_0x556f37(0x583));break;}if(!this['processingScheduleMessageId']){this['logger'][_0x556f37(0x429)](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)][_0x556f37(0x43f)]+_0x556f37(0x19a)+_0x105ec8[_0x556f37(0x650)]+_0x556f37(0x16e));break;}if(_0x105ec8['type']===_0x556f37(0x620)&&!this[_0x556f37(0x480)]?.[_0x556f37(0x182)][_0x556f37(0x561)]){this['logger']['error'](this['instanceName']+'\x20('+this[_0x556f37(0x225)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');break;}let _0x190288={'remoteJid':_0x488f7b,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x556f37(0x5aa)]()},_0xd14708=null;try{let _0x40767c=await this[_0x556f37(0x5ce)](_0x488f7b,_0x105ec8);_0x190288[_0x556f37(0x241)]=_0x40767c['error'],_0x190288['id']=_0x40767c['error']?null:_0x40767c['id'],_0x190288['error_log']=_0x40767c[_0x556f37(0x241)]?_0x40767c[_0x556f37(0x66d)]?_0x40767c[_0x556f37(0x66d)]['toString']():'':null;let _0x2593fb={'$push':{'messagesSend':_0x190288},'$pull':{'remoteJidsRemaining':_0x488f7b}},_0xb9bb01=_0x105ec8[_0x556f37(0x650)];if(_0xd14708=await this[_0x556f37(0x544)][_0x556f37(0x641)]['updateOneById'](_0xb9bb01,_0x2593fb,this[_0x556f37(0x225)]['wuid']),_0x40767c['error'])continue;let _0x1a166d=this['getDelay'](_0x105ec8[_0x556f37(0x486)],_0x105ec8[_0x556f37(0x42a)]);await this['sleep'](_0x1a166d);}catch(_0x1ba3f9){this[_0x556f37(0x701)][_0x556f37(0x241)](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)][_0x556f37(0x43f)]+_0x556f37(0x206)+_0x488f7b+':\x20'+(_0x1ba3f9 instanceof Error?_0x1ba3f9[_0x556f37(0x312)]:JSON[_0x556f37(0x427)](_0x1ba3f9,null,0x2))),_0x190288[_0x556f37(0x241)]=!0x0,_0x190288['error_log']=_0x1ba3f9[_0x556f37(0x312)];let _0x4159ec={'$push':{'messagesSend':_0x190288},'$pull':{'remoteJidsRemaining':_0x488f7b}},_0x33ff58=_0x105ec8[_0x556f37(0x650)];_0xd14708=await this[_0x556f37(0x544)][_0x556f37(0x641)][_0x556f37(0x26b)](_0x33ff58,_0x4159ec,this[_0x556f37(0x225)][_0x556f37(0x43f)]);}finally{if(_0xd14708&&_0xd14708[_0x556f37(0x3f1)]===_0x556f37(0x6a4)){this[_0x556f37(0x701)]['verbose'](this[_0x556f37(0x41b)]+'\x20('+this[_0x556f37(0x225)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x105ec8[_0x556f37(0x650)]+_0x556f37(0x209));break;}}}let _0xdded11=await this['repository'][_0x556f37(0x641)][_0x556f37(0x358)](_0x105ec8[_0x556f37(0x650)],this[_0x556f37(0x225)]['wuid']);if(_0xdded11[_0x556f37(0x50b)][_0x556f37(0x6e2)]===0x0&&_0xdded11[_0x556f37(0x3f1)]!==_0x556f37(0x6a4)){let _0x40e97e={'$set':{'status':'done'}},_0x157abd=_0xdded11['_id'];await this[_0x556f37(0x544)][_0x556f37(0x641)][_0x556f37(0x26b)](_0x157abd,_0x40e97e,this['instance'][_0x556f37(0x43f)]);}await new Promise(_0x3f8429=>setTimeout(_0x3f8429,0x1388));}},_0x201640=async()=>{const _0x226ff5=a0_0x3f00;let _0x50a046={'where':{'status':'scheduled','when':{'$gt':Date[_0x226ff5(0x5aa)]()}}},_0x142ce2=await this[_0x226ff5(0x544)][_0x226ff5(0x641)][_0x226ff5(0x2dc)](_0x50a046,this[_0x226ff5(0x225)][_0x226ff5(0x43f)]);_0x142ce2&&_0x142ce2[_0x226ff5(0x616)]-Date[_0x226ff5(0x5aa)]()<=0x5265c00?this[_0x226ff5(0x2d6)]=_0x142ce2[_0x226ff5(0x616)]-Date['now']():this[_0x226ff5(0x2d6)]=(0x3c+Math[_0x226ff5(0x633)](Math[_0x226ff5(0x1d1)]()*0x3c))*0x3c*0x3e8,this[_0x226ff5(0x2d6)]=Math['max'](this[_0x226ff5(0x2d6)],0x7d0);let _0x3c3821=Math['round'](this[_0x226ff5(0x2d6)]/0xea60);if(_0x142ce2){let _0x2e0af2=new Date(_0x142ce2[_0x226ff5(0x616)])[_0x226ff5(0x4c7)]();this['logger'][_0x226ff5(0x429)](this['instanceName']+'\x20('+this['instance'][_0x226ff5(0x43f)]+'):\x20encontrado\x20prxima\x20mensagem\x20para\x20'+_0x2e0af2+_0x226ff5(0x174)+_0x3c3821+_0x226ff5(0x10a));}else this[_0x226ff5(0x701)][_0x226ff5(0x429)](this['instanceName']+'\x20('+this['instance'][_0x226ff5(0x43f)]+_0x226ff5(0x5f8)+_0x3c3821+_0x226ff5(0x10a));setTimeout(()=>this[_0x226ff5(0x34e)](),this['delayMessage']);};if(this[_0x11e9f4(0x670)]){await this[_0x11e9f4(0x482)](),_0x6ae224();return;}if(!this[_0x11e9f4(0x390)]){this[_0x11e9f4(0x701)][_0x11e9f4(0x429)](this[_0x11e9f4(0x41b)]+'\x20('+this['instance'][_0x11e9f4(0x43f)]+_0x11e9f4(0x202)),this[_0x11e9f4(0x670)]=null,this[_0x11e9f4(0x200)]=0x0,this[_0x11e9f4(0x2d6)]=0x0;return;}try{let _0x3d3aa1=await _0x58d964();_0x3d3aa1[_0x11e9f4(0x6e2)]===0x0?this[_0x11e9f4(0x701)][_0x11e9f4(0x429)](this[_0x11e9f4(0x41b)]+'\x20('+this[_0x11e9f4(0x225)][_0x11e9f4(0x43f)]+_0x11e9f4(0x3df)):(this[_0x11e9f4(0x670)]=_0x3d3aa1[0x0][_0x11e9f4(0x650)],await _0x3a1246(_0x3d3aa1)),await _0x201640(),this[_0x11e9f4(0x670)]=null;}catch(_0x1cd1ef){this[_0x11e9f4(0x701)][_0x11e9f4(0x241)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x1cd1ef instanceof Error?_0x1cd1ef[_0x11e9f4(0x312)]:JSON['stringify'](_0x1cd1ef,null,0x2)));}}[a0_0x1d42ab(0x270)](_0x3ad966,_0x52aaf5){const _0x57d1f7=a0_0x1d42ab;return _0x3ad966=Math[_0x57d1f7(0x1b3)](0.5,_0x3ad966),_0x52aaf5=Math[_0x57d1f7(0x115)](Math[_0x57d1f7(0x1b3)](0x3,_0x52aaf5),0x78),Math[_0x57d1f7(0x633)](Math[_0x57d1f7(0x1d1)]()*(_0x52aaf5-_0x3ad966+0x1)+_0x3ad966)*0x3e8;}[a0_0x1d42ab(0x662)](_0x20914f){return new Promise(_0xfbc4ae=>setTimeout(_0xfbc4ae,_0x20914f));}async[a0_0x1d42ab(0x1b9)](_0x5df5e7){const _0x2c01fc=a0_0x1d42ab;if(!this['AutomateSystem']&&(await this[_0x2c01fc(0x367)](),!this[_0x2c01fc(0x480)]))return null;_0x5df5e7=this[_0x2c01fc(0x219)](_0x5df5e7);let _0x20c4aa=await this['repository']['chat'][_0x2c01fc(0x2dc)]({'where':{'_id':_0x5df5e7}},this[_0x2c01fc(0x225)][_0x2c01fc(0x43f)]),_0xdef4a8={};if(_0x20c4aa&&_0x20c4aa[_0x2c01fc(0x39e)]){let _0x2e30c0=_0x20c4aa['leadInfo'];typeof _0x2e30c0[_0x2c01fc(0x499)]=='string'&&(_0xdef4a8[_0x2c01fc(0x499)]=_0x2e30c0[_0x2c01fc(0x499)]),typeof _0x2e30c0['nomecompleto']==_0x2c01fc(0x6e1)&&(_0xdef4a8['nomecompleto']=_0x2e30c0[_0x2c01fc(0xea)]),typeof _0x2e30c0[_0x2c01fc(0x603)]==_0x2c01fc(0x6e1)&&(_0xdef4a8['email']=_0x2e30c0[_0x2c01fc(0x603)]),typeof _0x2e30c0[_0x2c01fc(0x535)]==_0x2c01fc(0x6e1)&&(_0xdef4a8['cpf']=_0x2e30c0[_0x2c01fc(0x535)]),typeof _0x2e30c0[_0x2c01fc(0x3f1)]=='string'&&(_0xdef4a8['status']=_0x2e30c0['status']),typeof _0x2e30c0[_0x2c01fc(0x28e)]==_0x2c01fc(0x6e1)&&(_0xdef4a8['notas']=_0x2e30c0[_0x2c01fc(0x28e)]),typeof _0x2e30c0['responsavelid']==_0x2c01fc(0x6e1)&&(_0xdef4a8[_0x2c01fc(0x6fb)]=_0x2e30c0[_0x2c01fc(0x6fb)]),Array[_0x2c01fc(0x5e2)](_0x2e30c0[_0x2c01fc(0x543)])&&(_0xdef4a8[_0x2c01fc(0x543)]=_0x2e30c0[_0x2c01fc(0x543)]['join'](',\x20'));}return _0x20c4aa&&_0x20c4aa['leadInfo']&&_0x20c4aa[_0x2c01fc(0x39e)][_0x2c01fc(0x5af)]&&_0x20c4aa['leadInfo'][_0x2c01fc(0x5af)]['forEach'](_0x586759=>{const _0x29244a=_0x2c01fc;let _0x274c8a=this[_0x29244a(0x480)]?.[_0x29244a(0x5af)]['find'](_0x968a2b=>_0x968a2b[_0x29244a(0x650)]===_0x586759[_0x29244a(0x650)]);_0x274c8a&&(_0xdef4a8[_0x274c8a[_0x29244a(0x2ce)]]=_0x586759[_0x29244a(0x681)]);}),_0xdef4a8;}async[a0_0x1d42ab(0x569)](_0x43c148,_0x48cdf0){const _0x5723b0=a0_0x1d42ab;let _0xa36f5f=await this[_0x5723b0(0x1b9)](_0x48cdf0);return this[_0x5723b0(0x38d)](_0x43c148,_0xa36f5f);}async[a0_0x1d42ab(0x2d2)](_0x9f1490){const _0x5aa31e=a0_0x1d42ab;try{if(this['logger'][_0x5aa31e(0x429)](this[_0x5aa31e(0x41b)]+'\x20('+this[_0x5aa31e(0x225)]['wuid']+_0x5aa31e(0xf8)),_0x9f1490['delete']&&_0x9f1490[_0x5aa31e(0x650)]){if(this[_0x5aa31e(0x670)]===_0x9f1490[_0x5aa31e(0x650)]['toString']())throw new Error(_0x5aa31e(0x557));let _0x55b8a1=await this[_0x5aa31e(0x544)]['scheduleMessage'][_0x5aa31e(0x1a6)](_0x9f1490['_id'],this['instance'][_0x5aa31e(0x43f)]);return setTimeout(()=>this[_0x5aa31e(0x34e)](),0x7d0),_0x55b8a1;}let _0x59d8aa;if(_0x9f1490['_id']&&(_0x59d8aa=await this[_0x5aa31e(0x544)][_0x5aa31e(0x641)][_0x5aa31e(0x358)](_0x9f1490[_0x5aa31e(0x650)],this[_0x5aa31e(0x225)][_0x5aa31e(0x43f)])),_0x59d8aa){let _0x1af096;if(this[_0x5aa31e(0x670)]===_0x59d8aa[_0x5aa31e(0x650)][_0x5aa31e(0x611)]())_0x1af096={'$set':{'status':_0x9f1490[_0x5aa31e(0x3f1)]}};else{let {_id:_0x4479c3,..._0xfc7ca1}=_0x9f1490;_0x1af096={'$set':_0xfc7ca1};}let _0x252881=await this[_0x5aa31e(0x544)][_0x5aa31e(0x641)]['updateOneById'](_0x9f1490[_0x5aa31e(0x650)],_0x1af096,this[_0x5aa31e(0x225)][_0x5aa31e(0x43f)]);return setTimeout(()=>this[_0x5aa31e(0x34e)](),0x7d0),_0x252881;}else{_0x9f1490['owner']=this[_0x5aa31e(0x225)]['wuid'];let _0x4a6458=await this[_0x5aa31e(0x544)][_0x5aa31e(0x641)]['createAndSave'](_0x9f1490,this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4a6458;}}catch(_0x20cd54){throw this['logger']['error'](this[_0x5aa31e(0x41b)]+'\x20('+this[_0x5aa31e(0x225)][_0x5aa31e(0x43f)]+_0x5aa31e(0x3ef)+(_0x20cd54 instanceof Error?_0x20cd54['message']:JSON[_0x5aa31e(0x427)](_0x20cd54,null,0x2))),new m(_0x5aa31e(0x45d)+_0x20cd54[_0x5aa31e(0x312)]);}}async[a0_0x1d42ab(0x64e)](){const _0x401f49=a0_0x1d42ab;try{return await this['repository'][_0x401f49(0x641)]['find']({'where':{}},this[_0x401f49(0x225)][_0x401f49(0x43f)]);}catch(_0x2d49f8){throw this[_0x401f49(0x701)][_0x401f49(0x241)](this['instanceName']+'\x20('+this[_0x401f49(0x225)][_0x401f49(0x43f)]+_0x401f49(0x69e)+(_0x2d49f8 instanceof Error?_0x2d49f8[_0x401f49(0x312)]:JSON[_0x401f49(0x427)](_0x2d49f8,null,0x2))),new m(_0x401f49(0x45d)+_0x2d49f8['message']);}}async[a0_0x1d42ab(0x2df)](){const _0x12ab8d=a0_0x1d42ab;try{let _0x15f400={'status':_0x12ab8d(0x6bd)},_0x2d712e=await this[_0x12ab8d(0x544)]['scheduleMessage']['deleteMany'](_0x15f400,this[_0x12ab8d(0x225)]['wuid']);if(!_0x2d712e[_0x12ab8d(0x241)])this[_0x12ab8d(0x701)]['verbose'](this[_0x12ab8d(0x41b)]+'\x20('+this[_0x12ab8d(0x225)][_0x12ab8d(0x43f)]+_0x12ab8d(0x3dc));else throw new Error(_0x2d712e[_0x12ab8d(0x241)]['message']||_0x12ab8d(0x20a));return this[_0x12ab8d(0x64e)]();}catch(_0x255d79){throw this['logger']['error'](this[_0x12ab8d(0x41b)]+'\x20('+this['instance'][_0x12ab8d(0x43f)]+_0x12ab8d(0x2e6)+(_0x255d79 instanceof Error?_0x255d79[_0x12ab8d(0x312)]:JSON[_0x12ab8d(0x427)](_0x255d79,null,0x2))),new m(_0x12ab8d(0x45d)+_0x255d79[_0x12ab8d(0x312)]);}}async[a0_0x1d42ab(0x5ce)](_0x383f4f,_0x5ec382){const _0x1647e8=a0_0x1d42ab;try{if(_0x5ec382['type']===_0x1647e8(0x620)&&!this['AutomateSystem']?.['flowConfig'][_0x1647e8(0x561)])return this[_0x1647e8(0x701)][_0x1647e8(0x241)](this['instanceName']+'\x20('+this['instance'][_0x1647e8(0x43f)]+'):\x20Fluxos\x20no\x20esto\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x5ec382['type']){case _0x1647e8(0x5a0):return await this[_0x1647e8(0x4ce)](_0x5ec382,_0x383f4f);case _0x1647e8(0x17b):return await this['scheduleSendMedia'](_0x5ec382,_0x383f4f);case _0x1647e8(0x5bb):return await this[_0x1647e8(0xf2)](_0x5ec382,_0x383f4f);case _0x1647e8(0x620):let _0xcbd2c=new Pe();return _0xcbd2c[_0x1647e8(0x2ce)]=_0x5ec382[_0x1647e8(0x52b)],_0xcbd2c[_0x1647e8(0x6e5)]=_0x383f4f,await this['startFlow'](_0xcbd2c);break;default:return this[_0x1647e8(0x701)][_0x1647e8(0x241)](this[_0x1647e8(0x41b)]+'\x20('+this[_0x1647e8(0x225)][_0x1647e8(0x43f)]+_0x1647e8(0x18f)+_0x5ec382[_0x1647e8(0x48e)]),{'error':!0x0,'detail':_0x1647e8(0x1f8)};}}catch(_0x737e0c){return this[_0x1647e8(0x701)][_0x1647e8(0x241)](this['instanceName']+'\x20('+this[_0x1647e8(0x225)][_0x1647e8(0x43f)]+_0x1647e8(0x1a5)+(_0x737e0c instanceof Error?_0x737e0c['message']:JSON[_0x1647e8(0x427)](_0x737e0c,null,0x2))),{'error':!0x0,'detail':_0x737e0c[_0x1647e8(0x312)]};}}[a0_0x1d42ab(0x521)](_0x498bec){const _0x48aa87=a0_0x1d42ab;let _0x5a56d1=_0x498bec[_0x48aa87(0x4e8)]('|'),_0x2785cc=Math['floor'](Math[_0x48aa87(0x1d1)]()*_0x5a56d1[_0x48aa87(0x6e2)]);return _0x5a56d1[_0x2785cc][_0x48aa87(0x640)]();}async[a0_0x1d42ab(0x4ce)](_0x2ace57,_0x3ac799){const _0x1ddaae=a0_0x1d42ab;if(this[_0x1ddaae(0x701)][_0x1ddaae(0x429)](this[_0x1ddaae(0x41b)]+'\x20('+this[_0x1ddaae(0x225)]['wuid']+_0x1ddaae(0x5a2)),!_0x2ace57[_0x1ddaae(0x312)][_0x1ddaae(0x5a0)]||_0x2ace57[_0x1ddaae(0x312)][_0x1ddaae(0x5a0)][_0x1ddaae(0x6e2)]===0x0)return{'error':!0x0,'detail':_0x1ddaae(0x513)};let _0x82b5df=this[_0x1ddaae(0x521)](_0x2ace57[_0x1ddaae(0x312)][_0x1ddaae(0x5a0)]),_0x32be12=await this[_0x1ddaae(0x569)](_0x82b5df,_0x3ac799),_0x1be172={'number':_0x3ac799,'options':{'delay':_0x2ace57['message'][_0x1ddaae(0x1a7)]},'textMessage':{'text':_0x32be12}},_0x1fbc94=null;try{let _0xeb9d3c=await this['textMessage'](_0x1be172);if(_0xeb9d3c&&_0xeb9d3c[_0x1ddaae(0x3f1)])return{'error':!0x1,'id':_0xeb9d3c[_0x1ddaae(0x362)]['id']};_0x1fbc94=JSON[_0x1ddaae(0x427)](_0xeb9d3c),this['logger'][_0x1ddaae(0x429)](this[_0x1ddaae(0x41b)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1fbc94);}catch(_0x59af1e){this[_0x1ddaae(0x701)][_0x1ddaae(0x241)](this[_0x1ddaae(0x41b)]+'\x20('+this[_0x1ddaae(0x225)][_0x1ddaae(0x43f)]+_0x1ddaae(0x2e5)+(_0x59af1e instanceof Error?_0x59af1e[_0x1ddaae(0x312)]:JSON[_0x1ddaae(0x427)](_0x59af1e,null,0x2))),_0x1fbc94=_0x59af1e[_0x1ddaae(0x312)];}if(_0x1fbc94)return{'error':!0x0,'detail':(typeof _0x1fbc94==_0x1ddaae(0x1b0)?JSON[_0x1ddaae(0x427)](_0x1fbc94,null,0x2):_0x1fbc94)[_0x1ddaae(0x6c2)](/[\[\]{}\n]/g,'\x20')[_0x1ddaae(0x6c2)](/  +/g,'\x20')};}async[a0_0x1d42ab(0x17d)](_0x206b90,_0x285315){const _0x10c9e6=a0_0x1d42ab;this['logger']['verbose'](this[_0x10c9e6(0x41b)]+'\x20('+this[_0x10c9e6(0x225)]['wuid']+_0x10c9e6(0x5d2));let _0x2a6529;if(_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x5a0)]&&_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x5a0)][_0x10c9e6(0x6e2)]>0x0){let _0x4a8461=this['getRandomText'](_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x5a0)]);_0x2a6529=await this[_0x10c9e6(0x569)](_0x4a8461,_0x285315);}let _0x25a456={'number':_0x285315,'options':{'delay':_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x1a7)]},'mediaMessage':{'mediatype':_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x40d)],'caption':_0x2a6529,'media':_0x206b90[_0x10c9e6(0x312)][_0x10c9e6(0x51d)]}},_0xbcb29d=null;try{let _0x1cbf29=await this[_0x10c9e6(0x433)](_0x25a456);if(_0x1cbf29&&_0x1cbf29[_0x10c9e6(0x3f1)])return{'error':!0x1,'id':_0x1cbf29['key']['id']};_0xbcb29d=JSON[_0x10c9e6(0x427)](_0x1cbf29),this[_0x10c9e6(0x701)][_0x10c9e6(0x429)](this['instanceName']+'\x20('+this[_0x10c9e6(0x225)][_0x10c9e6(0x43f)]+_0x10c9e6(0x1c7)+_0xbcb29d);}catch(_0x167060){this[_0x10c9e6(0x701)][_0x10c9e6(0x241)](this[_0x10c9e6(0x41b)]+'\x20('+this[_0x10c9e6(0x225)][_0x10c9e6(0x43f)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x167060 instanceof Error?_0x167060[_0x10c9e6(0x312)]:JSON[_0x10c9e6(0x427)](_0x167060,null,0x2))),_0xbcb29d=_0x167060[_0x10c9e6(0x312)];}if(_0xbcb29d)return{'error':!0x0,'detail':(typeof _0xbcb29d==_0x10c9e6(0x1b0)?JSON[_0x10c9e6(0x427)](_0xbcb29d,null,0x2):_0xbcb29d)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x3e956a,_0x6bc075){const _0x25cfe0=a0_0x1d42ab;this[_0x25cfe0(0x701)]['verbose'](this[_0x25cfe0(0x41b)]+'\x20('+this['instance'][_0x25cfe0(0x43f)]+_0x25cfe0(0x5c1));let _0x5563dc={'number':_0x6bc075,'options':{'delay':_0x3e956a[_0x25cfe0(0x312)]['delay']},'audioMessage':{'audio':_0x3e956a[_0x25cfe0(0x312)][_0x25cfe0(0x51d)]}},_0xd9a2d2=null;try{let _0x442227=await this[_0x25cfe0(0x57b)](_0x5563dc);if(_0x442227&&_0x442227['status'])return{'error':!0x1,'id':_0x442227['key']['id']};_0xd9a2d2=JSON[_0x25cfe0(0x427)](_0x442227),this[_0x25cfe0(0x701)][_0x25cfe0(0x429)](this[_0x25cfe0(0x41b)]+'\x20('+this[_0x25cfe0(0x225)][_0x25cfe0(0x43f)]+'):\x20'+_0xd9a2d2);}catch(_0x176501){this[_0x25cfe0(0x701)][_0x25cfe0(0x241)](this[_0x25cfe0(0x41b)]+'\x20('+this['instance'][_0x25cfe0(0x43f)]+_0x25cfe0(0x2db)+(_0x176501 instanceof Error?_0x176501[_0x25cfe0(0x312)]:JSON['stringify'](_0x176501,null,0x2))),_0xd9a2d2=_0x176501[_0x25cfe0(0x312)];}if(_0xd9a2d2)return{'error':!0x0,'detail':(typeof _0xd9a2d2==_0x25cfe0(0x1b0)?JSON[_0x25cfe0(0x427)](_0xd9a2d2,null,0x2):_0xd9a2d2)[_0x25cfe0(0x6c2)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},xt=class c{constructor(_0x1927b7,_0x4eaca1,_0x41d7ee){const _0x46e18b=a0_0x1d42ab;this[_0x46e18b(0x1fd)]=_0x1927b7,this[_0x46e18b(0x566)]=_0x4eaca1,this['repository']=_0x41d7ee,this['db']={},this['redis']={},this['logger']=new v(c[_0x46e18b(0x2ce)]),this[_0x46e18b(0x6a2)]={},(this[_0x46e18b(0x16b)](),this[_0x46e18b(0x65c)](),Object['assign'](this['db'],_0x4eaca1[_0x46e18b(0x406)]('DATABASE')),Object[_0x46e18b(0x56a)](this[_0x46e18b(0x12f)],_0x4eaca1[_0x46e18b(0x406)]('REDIS')),this['dbInstance']=this['db']['ENABLED']?this[_0x46e18b(0x544)][_0x46e18b(0x1be)]?.['db'](this['db'][_0x46e18b(0x696)][_0x46e18b(0x320)]+_0x46e18b(0x4d4)):void 0x0,this[_0x46e18b(0x338)]=this[_0x46e18b(0x12f)][_0x46e18b(0x15a)]?new oe(this[_0x46e18b(0x12f)]):void 0x0);}async['instanceInfo'](_0x588416){const _0x5a0011=a0_0x1d42ab;if(_0x588416&&!this[_0x5a0011(0x6a2)][_0x588416])throw new F(_0x5a0011(0x6ac)+_0x588416+_0x5a0011(0x5f1));let _0x486131=[];for await(let [_0x4f9c8c,_0xc00b6d]of Object[_0x5a0011(0x4ae)](this[_0x5a0011(0x6a2)]))if(_0xc00b6d&&_0xc00b6d[_0x5a0011(0x5fb)][_0x5a0011(0x2f8)]===_0x5a0011(0x66f)){let _0x543859=await this[_0x5a0011(0x544)][_0x5a0011(0x588)][_0x5a0011(0x497)](_0x4f9c8c);_0x486131['push']({'instance':{'instanceName':_0x4f9c8c,'apikey':_0x543859[_0x5a0011(0x27f)],'owner':_0xc00b6d[_0x5a0011(0x43f)],'profileName':await _0xc00b6d['getProfileName']()||'not\x20loaded','profilePictureUrl':_0xc00b6d[_0x5a0011(0x15d)]}});}return _0x486131['find'](_0x1b5f6e=>_0x1b5f6e[_0x5a0011(0x225)][_0x5a0011(0x41b)]===_0x588416)??_0x486131;}async[a0_0x1d42ab(0xff)](_0x139352){const _0x36350d=a0_0x1d42ab;if(this['db'][_0x36350d(0x15a)]&&(await this['repository']['dbServer'][_0x36350d(0x4f4)](),(await this['dbInstance'][_0x36350d(0x5c8)]())[_0x36350d(0x6e2)]>0x0&&await this[_0x36350d(0x54d)][_0x36350d(0x5cb)](_0x139352)),this[_0x36350d(0x12f)][_0x36350d(0x15a)]){this[_0x36350d(0x338)]['reference']=_0x139352,await this[_0x36350d(0x338)]['delAll']();return;}}async[a0_0x1d42ab(0x6de)](){const _0x122c64=a0_0x1d42ab;await this['InstancesAlterarTodas']();let _0x35af8e=async _0x24ee5c=>{const _0x503045=a0_0x3f00;let _0x1f9d6b=new we(this[_0x503045(0x566)],this['eventEmitter'],this['repository']);_0x1f9d6b[_0x503045(0x41b)]=_0x24ee5c,await _0x1f9d6b[_0x503045(0x38c)](),this[_0x503045(0x6a2)][_0x24ee5c]=_0x1f9d6b;};try{if(this[_0x122c64(0x12f)]['ENABLED']){let _0x1ae17b=await this[_0x122c64(0x338)][_0x122c64(0x386)]();_0x1ae17b?.[_0x122c64(0x6e2)]>0x0&&_0x1ae17b['forEach'](async _0x46fffe=>await _0x35af8e(_0x46fffe['split'](':')[0x1]));return;}if(this['db'][_0x122c64(0x15a)]){await this[_0x122c64(0x544)][_0x122c64(0x1be)]['connect']();let _0xd73133=await this['dbInstance'][_0x122c64(0x5c8)]();_0xd73133['length']>0x0&&_0xd73133[_0x122c64(0x371)](async _0x51bbd7=>await _0x35af8e(_0x51bbd7[_0x122c64(0x69f)][_0x122c64(0x6c2)](/^[\w-]+\./,'')));return;}}catch(_0x1cbbbf){this[_0x122c64(0x701)]['error'](_0x1cbbbf);}}async[a0_0x1d42ab(0x172)](){const _0x448b52=a0_0x1d42ab;let _0x21e660=await this[_0x448b52(0x544)]['auth']['findAll'](),_0x3cc887=_0x21e660[_0x448b52(0x5f3)](_0x777567=>!this[_0x448b52(0x6a2)][_0x777567[_0x448b52(0x650)]]&&(_0x777567[_0x448b52(0x5ee)]||typeof _0x777567[_0x448b52(0x5ee)]>'u'));_0x3cc887['length']>0x0&&await Promise[_0x448b52(0x644)](_0x3cc887['map'](async _0x19bb0f=>{const _0xc7653=_0x448b52;let _0x50269e={'online':!0x1,'lastDisconnect':Date[_0xc7653(0x5aa)]()};await this[_0xc7653(0x544)][_0xc7653(0x588)]['create'](_0x50269e,_0x19bb0f[_0xc7653(0x650)]);}));let _0x5bca95=Date[_0x448b52(0x5aa)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x45f28f=_0x21e660[_0x448b52(0x5f3)](_0xd10bd1=>!this[_0x448b52(0x6a2)][_0xd10bd1[_0x448b52(0x650)]]&&typeof _0xd10bd1['lastDisconnect']<'u'&&_0xd10bd1['lastDisconnect']<_0x5bca95);_0x45f28f[_0x448b52(0x6e2)]>0x0&&await Promise['all'](_0x45f28f[_0x448b52(0x6e4)](async _0x2c97b6=>{}));}async[a0_0x1d42ab(0x3b9)](){const _0x1360b1=a0_0x1d42ab;try{let _0xbe5eec={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1dbdb0={'online':!0x1,'lastDisconnect':Date['now']()},_0x10459b=await this[_0x1360b1(0x544)][_0x1360b1(0x588)]['updateAll'](_0xbe5eec,_0x1dbdb0);console[_0x1360b1(0x1c0)](_0x1360b1(0x280)+_0x10459b['insertCount']),await this[_0x1360b1(0x2ca)]();}catch(_0x4f30fc){console[_0x1360b1(0x241)](_0x1360b1(0x4ef),_0x4f30fc);}}async['removeOlderDisconnectedInstances'](){const _0x42781b=a0_0x1d42ab;try{let _0x3461fa={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x44f65d=await this[_0x42781b(0x544)]['auth'][_0x42781b(0x54e)](_0x3461fa);console['log'](_0x42781b(0x339)+_0x44f65d['insertCount']);}catch(_0x42df43){console[_0x42781b(0x241)](_0x42781b(0x13f),_0x42df43);}}[a0_0x1d42ab(0x16b)](){const _0x552a24=a0_0x1d42ab;this[_0x552a24(0x1fd)]['on'](_0x552a24(0x6b7),async _0x5d9392=>{const _0x586211=_0x552a24;try{this[_0x586211(0x6a2)][_0x5d9392]=void 0x0;}catch{}try{this['cleaningUp'](_0x5d9392);}finally{this[_0x586211(0x701)][_0x586211(0x3b6)]('Instance\x20\x22'+_0x5d9392+'\x22\x20-\x20REMOVED');}});}[a0_0x1d42ab(0x65c)](){const _0x4602be=a0_0x1d42ab;this[_0x4602be(0x1fd)]['on'](_0x4602be(0x6a1),async _0x578802=>{const _0x1754ad=_0x4602be;try{this[_0x1754ad(0x6a2)][_0x578802]=void 0x0;}catch{}try{this[_0x1754ad(0xff)](_0x578802);}finally{this[_0x1754ad(0x701)][_0x1754ad(0x3b6)](_0x1754ad(0x6ac)+_0x578802+_0x1754ad(0x144));}});}},Pt=class extends I{[a0_0x1d42ab(0xc8)](_0x3c600c){return js(_0x3c600c);}async[a0_0x1d42ab(0x702)](_0x406d24){const _0x3b461e=a0_0x1d42ab;if(_0x406d24[_0x3b461e(0x6e2)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x406d24[0x0]['owner'])[_0x3b461e(0x303)]([..._0x406d24]))['length']};}catch(_0x7b7f36){return _0x7b7f36;}}async[a0_0x1d42ab(0x497)](_0x5340bf,_0x289612){const _0x42d4eb=a0_0x1d42ab;try{let _0x2fc247=this[_0x42d4eb(0xc8)](_0x289612),_0x10b096=A(_0x5340bf[_0x42d4eb(0x6c4)]);return await _0x2fc247[_0x42d4eb(0x497)](_0x10b096)[_0x42d4eb(0x4a4)]({'lastmsg':-0x1})[_0x42d4eb(0x553)](_0x5340bf?.[_0x42d4eb(0x553)]??0x0)[_0x42d4eb(0x16d)]();}catch{return[];}}async[a0_0x1d42ab(0x565)](_0x523c4a,_0x1240ba){const _0x5ac09c=a0_0x1d42ab;try{return await this['getChatModelForOwner'](_0x1240ba)[_0x5ac09c(0x54e)]({..._0x523c4a['where']}),[];}catch(_0x444168){return{'error':_0x444168?.[_0x5ac09c(0x611)]()};}}async[a0_0x1d42ab(0x2dc)](_0x555eae,_0x138be7){const _0x3a5ea7=a0_0x1d42ab;try{let _0x233fd0=this[_0x3a5ea7(0xc8)](_0x138be7),_0x1e9498=A(_0x555eae[_0x3a5ea7(0x6c4)]);return await _0x233fd0['findOne'](_0x1e9498)['lean']();}catch{return null;}}async[a0_0x1d42ab(0xce)](_0x3d809c,_0x7b7d97,_0x5e7e8e,_0x393375,_0x2dac35=a0_0x1d42ab(0x575)){const _0x34cef7=a0_0x1d42ab;try{let _0x4ad4b7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x393375},_0x48e510=this[_0x34cef7(0xc8)](_0x5e7e8e),_0xf1c846=A(_0x3d809c[_0x34cef7(0x6c4)]),_0x57617b={};return _0x57617b[_0x2dac35]=_0x7b7d97,await _0x48e510[_0x34cef7(0x3f2)](_0xf1c846,_0x57617b,_0x4ad4b7);}catch(_0x31d013){return console[_0x34cef7(0x241)](_0x31d013),null;}}async['updateMany'](_0x383549){const _0x50d069=a0_0x1d42ab;try{let _0x1071af=this[_0x50d069(0xc8)](_0x383549[0x0][_0x50d069(0x529)][_0x50d069(0x6c4)]['owner']),_0x28725c=_0x383549['map'](_0x2f7cc7=>({'updateOne':{'filter':{..._0x2f7cc7[_0x50d069(0x529)][_0x50d069(0x6c4)]},'update':{'$set':_0x2f7cc7[_0x50d069(0x22d)]}}}));return(await _0x1071af[_0x50d069(0x609)](_0x28725c))['modifiedCount'];}catch(_0x310729){return console[_0x50d069(0x241)](_0x310729),0x0;}}async[a0_0x1d42ab(0x558)](_0x1b1c98){const _0x354130=a0_0x1d42ab;try{let _0x3584e0=this[_0x354130(0xc8)](_0x1b1c98),_0x11bae8={'labels':{'$exists':!0x1}},_0x4dd4e7={'$set':{'labels':[]}};return(await _0x3584e0[_0x354130(0x6e3)](_0x11bae8,_0x4dd4e7))['modifiedCount'];}catch(_0x48afa0){return console['error'](_0x48afa0),0x0;}}async['updateMissingTags'](_0x3c1e0d){const _0x5dbc5f=a0_0x1d42ab;try{let _0x19eb7e=this[_0x5dbc5f(0xc8)](_0x3c1e0d),_0x4f6d84={'leadInfo.tags':{'$exists':!0x1}},_0x35caed={'$set':{'leadInfo.tags':[]}};return(await _0x19eb7e[_0x5dbc5f(0x6e3)](_0x4f6d84,_0x35caed))[_0x5dbc5f(0x6c1)];}catch(_0x592b4e){return console['error'](_0x592b4e),0x0;}}async[a0_0x1d42ab(0x3e7)](_0x57eb30){const _0x3d444a=a0_0x1d42ab;try{let _0x2dfccf=this[_0x3d444a(0xc8)](_0x57eb30),_0x2d6c36={'leadInfo.customFields':{'$exists':!0x1}},_0x12309e={'$set':{'leadInfo.customFields':[]}};return(await _0x2dfccf[_0x3d444a(0x6e3)](_0x2d6c36,_0x12309e))['modifiedCount'];}catch(_0x280e1e){return console['error'](_0x280e1e),0x0;}}async[a0_0x1d42ab(0x303)](_0x84fc92,_0x33434c){const _0x428cd4=a0_0x1d42ab;if(!Array['isArray'](_0x84fc92)||_0x84fc92[_0x428cd4(0x6e2)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20insero.');try{return(await this[_0x428cd4(0xc8)](_0x33434c)[_0x428cd4(0x303)](_0x84fc92))[_0x428cd4(0x6e2)];}catch(_0x18fc8e){throw console[_0x428cd4(0x241)](_0x428cd4(0x44e),_0x18fc8e),_0x18fc8e;}}async['deleteChat'](_0x667441,_0x4fc5a0){const _0x569ed1=a0_0x1d42ab;try{await this['getChatModelForOwner'](_0x4fc5a0)[_0x569ed1(0x1a6)]({'_id':_0x667441});}catch(_0x3cf485){throw console[_0x569ed1(0x241)](_0x569ed1(0x3de),_0x3cf485),_0x3cf485;}}},_t=class extends I{[a0_0x1d42ab(0x592)](_0x4bc04b){return ua(_0x4bc04b);}async['updateOne'](_0x24c15a,_0x447a98,_0x48d93e,_0x5ac103){const _0x731792=a0_0x1d42ab;try{let _0x389558={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5ac103},_0x97990=this['getLabelModelForOwner'](_0x48d93e),_0x336efe=A(_0x24c15a[_0x731792(0x6c4)]);return await _0x97990[_0x731792(0x3f2)](_0x336efe,{'$set':_0x447a98},_0x389558);}catch(_0x16f902){return console[_0x731792(0x241)](_0x16f902),null;}}async['find'](_0x344d97,_0x2d7a92){const _0xa10b31=a0_0x1d42ab;try{let _0x19a0e2=this[_0xa10b31(0x592)](_0x2d7a92),_0x477eee=A(_0x344d97[_0xa10b31(0x6c4)]);return await _0x19a0e2['find'](_0x477eee);}catch(_0x52052b){console['error'](_0x52052b);}}async[a0_0x1d42ab(0x463)](_0x30d3ad,_0x3a2244){const _0x1d37e5=a0_0x1d42ab;try{let _0x32a5b6=this[_0x1d37e5(0x592)](_0x3a2244),_0x273552=A(_0x30d3ad[_0x1d37e5(0x6c4)]);await _0x32a5b6['deleteMany'](_0x273552);}catch(_0x36b9e4){console[_0x1d37e5(0x241)](_0x36b9e4);}}async[a0_0x1d42ab(0x565)](_0x42ffff){const _0x3b0d82=a0_0x1d42ab;try{return await this[_0x3b0d82(0x592)](_0x42ffff)['collection'][_0x3b0d82(0x577)](),{'success':!0x0};}catch(_0x5893f1){return console[_0x3b0d82(0x241)](_0x5893f1),{'success':!0x1,'error':_0x5893f1};}}},$t=class{constructor(_0x4ca32e){const _0x538021=a0_0x1d42ab;this[_0x538021(0x167)]=_0x4ca32e;}async['editChat']({instanceName:_0x182db0},_0x3fbe6a){const _0xfd92e7=a0_0x1d42ab;return await this[_0xfd92e7(0x167)][_0xfd92e7(0x6a2)][_0x182db0]['editChat'](_0x3fbe6a);}async[a0_0x1d42ab(0x567)]({instanceName:_0x5acb54},_0x406a2c){const _0x3bfd5f=a0_0x1d42ab;return await this['waMonitor'][_0x3bfd5f(0x6a2)][_0x5acb54][_0x3bfd5f(0x567)](_0x406a2c);}async[a0_0x1d42ab(0x5ca)]({instanceName:_0x586c2e},_0x4c2337){const _0x229872=a0_0x1d42ab;return await this[_0x229872(0x167)][_0x229872(0x6a2)][_0x586c2e][_0x229872(0x5ca)](_0x4c2337);}async[a0_0x1d42ab(0x3d3)]({instanceName:_0x7b3a6e},_0x3bbbcc){const _0xfdd1f1=a0_0x1d42ab;return await this['waMonitor'][_0xfdd1f1(0x6a2)][_0x7b3a6e][_0xfdd1f1(0x32a)](_0x3bbbcc);}async[a0_0x1d42ab(0x173)]({instanceName:_0x24cedd},_0x203117){const _0x2e8894=a0_0x1d42ab;return await this[_0x2e8894(0x167)]['waInstances'][_0x24cedd][_0x2e8894(0x173)](_0x203117);}async[a0_0x1d42ab(0x4a6)]({instanceName:_0x5ed3ce},_0x48cd07){const _0x21fc8f=a0_0x1d42ab;return await this[_0x21fc8f(0x167)][_0x21fc8f(0x6a2)][_0x5ed3ce]['deleteMessage'](_0x48cd07);}async[a0_0x1d42ab(0x568)]({instanceName:_0xf6564f},_0x3ff377){const _0x38f00a=a0_0x1d42ab;return await this[_0x38f00a(0x167)][_0x38f00a(0x6a2)][_0xf6564f][_0x38f00a(0x57d)](_0x3ff377['number']);}async[a0_0x1d42ab(0x576)]({instanceName:_0x1dfa87},_0x48745d){const _0x35b0ab=a0_0x1d42ab;return await this['waMonitor'][_0x35b0ab(0x6a2)][_0x1dfa87][_0x35b0ab(0x576)](_0x48745d[_0x35b0ab(0x5c7)]);}async[a0_0x1d42ab(0x183)]({instanceName:_0x4eb9fa},_0x26e717){const _0x12ef56=a0_0x1d42ab;return await this[_0x12ef56(0x167)][_0x12ef56(0x6a2)][_0x4eb9fa]['updatePresence'](_0x26e717);}async[a0_0x1d42ab(0x1af)]({instanceName:_0x432966},_0xefb254){const _0xaee22c=a0_0x1d42ab;return await this[_0xaee22c(0x167)][_0xaee22c(0x6a2)][_0x432966][_0xaee22c(0x1af)](_0xefb254);}async[a0_0x1d42ab(0x5e0)]({instanceName:_0x31568b},_0x257b23){const _0x4aa7bb=a0_0x1d42ab;return await this[_0x4aa7bb(0x167)][_0x4aa7bb(0x6a2)][_0x31568b][_0x4aa7bb(0x5e0)](_0x257b23);}async[a0_0x1d42ab(0x559)]({instanceName:_0x13992a},_0x4d7293){const _0x1c6ab9=a0_0x1d42ab;return await this[_0x1c6ab9(0x167)]['waInstances'][_0x13992a][_0x1c6ab9(0x559)](_0x4d7293);}async[a0_0x1d42ab(0x612)]({instanceName:_0x23fdad}){const _0x1007d5=a0_0x1d42ab;return await this[_0x1007d5(0x167)][_0x1007d5(0x6a2)][_0x23fdad][_0x1007d5(0x612)]();}async[a0_0x1d42ab(0x3a3)]({instanceName:_0x15a81a}){const _0x484f3d=a0_0x1d42ab;return await this[_0x484f3d(0x167)]['waInstances'][_0x15a81a][_0x484f3d(0x3a3)]();}async[a0_0x1d42ab(0x307)]({instanceName:_0xaf3a83}){const _0x4fbdb9=a0_0x1d42ab;return await this[_0x4fbdb9(0x167)][_0x4fbdb9(0x6a2)][_0xaf3a83][_0x4fbdb9(0x307)]();}async[a0_0x1d42ab(0x18d)]({instanceName:_0x2309a7},_0x288897){const _0x3872bf=a0_0x1d42ab;return await this['waMonitor'][_0x3872bf(0x6a2)][_0x2309a7][_0x3872bf(0x18d)](_0x288897);}async[a0_0x1d42ab(0x24c)]({instanceName:_0x3e18b1},_0x55584a){const _0x1d24bd=a0_0x1d42ab;return await this[_0x1d24bd(0x167)][_0x1d24bd(0x6a2)][_0x3e18b1]['fetchBusinessProfile'](_0x55584a['number']);}async['updateProfileName']({instanceName:_0x3680f7},_0x50214c){const _0x59dbe7=a0_0x1d42ab;return await this[_0x59dbe7(0x167)][_0x59dbe7(0x6a2)][_0x3680f7][_0x59dbe7(0x55f)](_0x50214c['name']);}async['updateProfileStatus']({instanceName:_0x57d084},_0x50bfcd){const _0x223ebf=a0_0x1d42ab;return await this[_0x223ebf(0x167)]['waInstances'][_0x57d084][_0x223ebf(0x4e9)](_0x50bfcd['status']);}async[a0_0x1d42ab(0x398)]({instanceName:_0x387b6a},_0xe0ada0){const _0x2dc511=a0_0x1d42ab;return await this[_0x2dc511(0x167)]['waInstances'][_0x387b6a][_0x2dc511(0x398)](_0xe0ada0[_0x2dc511(0x6db)]);}async[a0_0x1d42ab(0x624)]({instanceName:_0x30441b},_0x5281a2){const _0x28ce6a=a0_0x1d42ab;return await this[_0x28ce6a(0x167)][_0x28ce6a(0x6a2)][_0x30441b]['removeProfilePicture']();}},Ns=require(a0_0x1d42ab(0x10d)),kt=class c{constructor(_0x3f13dc,_0x85c2b7,_0x44f66a,_0x26952f,_0x4f86d6){const _0x357cb4=a0_0x1d42ab;this[_0x357cb4(0x167)]=_0x3f13dc,this[_0x357cb4(0x566)]=_0x85c2b7,this[_0x357cb4(0x544)]=_0x44f66a,this[_0x357cb4(0x1fd)]=_0x26952f,this[_0x357cb4(0x239)]=_0x4f86d6,this[_0x357cb4(0x701)]=new v(c[_0x357cb4(0x2ce)]);}async[a0_0x1d42ab(0x638)]({instanceName:_0xacc4e9,apikey:_0x55bc00,number:_0x5a93b6,proxy:_0x1774fa=!0x0}){const _0x2d1b18=a0_0x1d42ab;try{let _0x35f92d=new we(this[_0x2d1b18(0x566)],this[_0x2d1b18(0x1fd)],this[_0x2d1b18(0x544)]);_0x35f92d[_0x2d1b18(0x41b)]=_0xacc4e9,this[_0x2d1b18(0x167)][_0x2d1b18(0x6a2)][_0x35f92d[_0x2d1b18(0x41b)]]=_0x35f92d;let _0x3b019e={};_0x55bc00?(await this[_0x2d1b18(0x544)][_0x2d1b18(0x588)][_0x2d1b18(0x661)]({'apikey':_0x55bc00},_0xacc4e9),_0x3b019e[_0x2d1b18(0x27f)]=_0x55bc00):_0x3b019e=await this['authService']['generateHash']({'instanceName':_0x35f92d[_0x2d1b18(0x41b)]});let _0x2ecb19;return await _0x35f92d[_0x2d1b18(0x38c)](_0x5a93b6,_0x1774fa),await(0x0,Ns[_0x2d1b18(0x1a7)])(0x7d0),_0x2ecb19=_0x35f92d[_0x2d1b18(0x4e6)],{'instance':{'instanceName':_0x35f92d[_0x2d1b18(0x41b)],'status':_0x2d1b18(0x635)},'hash':_0x3b019e,'qrcode':_0x2ecb19};}catch(_0x53d6dc){this[_0x2d1b18(0x701)][_0x2d1b18(0x241)](_0x53d6dc);}}async[a0_0x1d42ab(0x56d)]({instanceName:_0x2d3d56,number:_0x30a974=null,proxy:_0x2d2a80=!0x0}){const _0x2b5323=a0_0x1d42ab;try{let _0x22bf3e=this[_0x2b5323(0x167)]['waInstances'][_0x2d3d56];switch(_0x22bf3e?.['connectionStatus']?.['state']){case _0x2b5323(0x621):return await _0x22bf3e[_0x2b5323(0x38c)](_0x30a974,_0x2d2a80),await(0x0,Ns[_0x2b5323(0x1a7)])(0x7d0),_0x22bf3e[_0x2b5323(0x4e6)];case _0x2b5323(0x2d5):return _0x22bf3e[_0x2b5323(0x4e6)];default:return await this[_0x2b5323(0x49c)]({'instanceName':_0x2d3d56});}}catch(_0x5e5673){this[_0x2b5323(0x701)][_0x2b5323(0x1c0)](_0x5e5673);}}async[a0_0x1d42ab(0x49c)]({instanceName:_0x578919}){const _0x5d7eab=a0_0x1d42ab;let _0x225a76=this['waMonitor'][_0x5d7eab(0x6a2)][_0x578919]['connectionStatus'],_0x316d83=null;_0x225a76['state']==='open'&&_0x578919&&(_0x316d83=await this[_0x5d7eab(0x167)][_0x5d7eab(0x292)](_0x578919));let _0x561bcc=null;return _0x225a76['state']==='connecting'&&_0x578919&&(_0x561bcc=this[_0x5d7eab(0x167)]['waInstances'][_0x578919][_0x5d7eab(0x4e6)]),{'instance':_0x578919,'connectionStatus':_0x225a76,'instanceInfo':_0x316d83,'qrcode':_0x561bcc};}async[a0_0x1d42ab(0x2af)]({instanceName:_0x29380c}){const _0x42281a=a0_0x1d42ab;try{return this[_0x42281a(0x167)][_0x42281a(0x6a2)][_0x29380c]?.[_0x42281a(0x370)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x42281a(0x6ca)}};}catch(_0x2097c4){this[_0x42281a(0x701)][_0x42281a(0x241)](_0x2097c4);}}async[a0_0x1d42ab(0x38a)]({instanceName:_0x316ef0}){const _0x298290=a0_0x1d42ab;return _0x316ef0?this[_0x298290(0x167)][_0x298290(0x292)](_0x316ef0):this['waMonitor'][_0x298290(0x292)]();}async[a0_0x1d42ab(0xca)]({instanceName:_0x533679}){const _0x130756=a0_0x1d42ab;try{return await this['waMonitor'][_0x130756(0x6a2)][_0x533679]?.[_0x130756(0x370)]?.[_0x130756(0xca)](_0x130756(0x4d3)+_0x533679),{'error':!0x1,'message':_0x130756(0x417)};}catch(_0x5a2f0c){throw new O(_0x5a2f0c['toString']());}}async['deleteInstance']({instanceName:_0x5e4b3e}){const _0x27905d=a0_0x1d42ab;if((await this[_0x27905d(0x49c)]({'instanceName':_0x5e4b3e}))['connectionStatus'][_0x27905d(0x2f8)]===_0x27905d(0x66f))throw new m(['Deletion\x20failed',_0x27905d(0x424)]);try{return delete this[_0x27905d(0x167)][_0x27905d(0x6a2)][_0x5e4b3e],{'error':!0x1,'message':_0x27905d(0xc5)};}catch(_0x5d1be9){throw new m(_0x5d1be9[_0x27905d(0x611)]());}}},Z=require(a0_0x1d42ab(0x63e)),Lt=class{constructor(_0x310eef){const _0x40f819=a0_0x1d42ab;this[_0x40f819(0x167)]=_0x310eef;}async[a0_0x1d42ab(0x59b)]({instanceName:_0x5ae1fa},_0x16ac1d){const _0x954ebc=a0_0x1d42ab;return await this[_0x954ebc(0x167)]['waInstances'][_0x5ae1fa][_0x954ebc(0x3bc)](_0x16ac1d);}async[a0_0x1d42ab(0xf7)]({instanceName:_0x5ad53e},_0x35f0ab){const _0x3952a5=a0_0x1d42ab;return await this[_0x3952a5(0x167)]['waInstances'][_0x5ad53e][_0x3952a5(0x273)](_0x35f0ab);}async[a0_0x1d42ab(0x4fd)]({instanceName:_0x3d3aa7},_0x407b4a){const _0x358d4c=a0_0x1d42ab;if((0x0,Z['isBase64'])(_0x407b4a?.[_0x358d4c(0x433)]?.[_0x358d4c(0x17b)])&&!_0x407b4a?.[_0x358d4c(0x433)]?.[_0x358d4c(0x6a3)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z[_0x358d4c(0x581)])(_0x407b4a?.[_0x358d4c(0x433)]?.[_0x358d4c(0x17b)])||(0x0,Z[_0x358d4c(0x41e)])(_0x407b4a?.[_0x358d4c(0x433)]?.[_0x358d4c(0x17b)]))return await this[_0x358d4c(0x167)]['waInstances'][_0x3d3aa7][_0x358d4c(0x433)](_0x407b4a);throw new m(_0x358d4c(0x5ac));}async['sendSticker']({instanceName:_0x2b3325},_0x57081c){const _0x5c9451=a0_0x1d42ab;if((0x0,Z[_0x5c9451(0x581)])(_0x57081c['stickerMessage'][_0x5c9451(0x41c)])||(0x0,Z['isBase64'])(_0x57081c[_0x5c9451(0x16f)][_0x5c9451(0x41c)]))return await this['waMonitor'][_0x5c9451(0x6a2)][_0x2b3325][_0x5c9451(0x2f7)](_0x57081c);throw new m(_0x5c9451(0x5ac));}async[a0_0x1d42ab(0x1f0)]({instanceName:_0x59b404},_0x3b8549){const _0x50fc96=a0_0x1d42ab;if((0x0,Z['isURL'])(_0x3b8549[_0x50fc96(0x4f0)]['audio'])||(0x0,Z[_0x50fc96(0x41e)])(_0x3b8549[_0x50fc96(0x4f0)][_0x50fc96(0x5bb)]))return await this[_0x50fc96(0x167)]['waInstances'][_0x59b404][_0x50fc96(0x57b)](_0x3b8549);throw new m(_0x50fc96(0x5ac));}async['sendButtons']({instanceName:_0x2bc6c8},_0x3003e6){const _0x41c9fc=a0_0x1d42ab;if((0x0,Z[_0x41c9fc(0x41e)])(_0x3003e6[_0x41c9fc(0x35b)][_0x41c9fc(0x433)]?.[_0x41c9fc(0x17b)])&&!_0x3003e6[_0x41c9fc(0x35b)]['mediaMessage']?.[_0x41c9fc(0x6a3)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x41c9fc(0x167)][_0x41c9fc(0x6a2)][_0x2bc6c8]['buttonMessage'](_0x3003e6);}async[a0_0x1d42ab(0x5d4)]({instanceName:_0x7f4903},_0x1794c1){const _0x5d8595=a0_0x1d42ab;return await this[_0x5d8595(0x167)][_0x5d8595(0x6a2)][_0x7f4903]['locationMessage'](_0x1794c1);}async[a0_0x1d42ab(0x3a6)]({instanceName:_0x484aec},_0xea4ff9){const _0x19df79=a0_0x1d42ab;return await this['waMonitor'][_0x19df79(0x6a2)][_0x484aec][_0x19df79(0x3e8)](_0xea4ff9);}async[a0_0x1d42ab(0x27c)]({instanceName:_0x4056fa},_0x24f5f5){const _0x208143=a0_0x1d42ab;return await this[_0x208143(0x167)][_0x208143(0x6a2)][_0x4056fa][_0x208143(0x18a)](_0x24f5f5);}async[a0_0x1d42ab(0x139)]({instanceName:_0x4d97ce},_0x21f73f){const _0x4c36cf=a0_0x1d42ab;return await this[_0x4c36cf(0x167)][_0x4c36cf(0x6a2)][_0x4d97ce][_0x4c36cf(0x4a5)](_0x21f73f);}async[a0_0x1d42ab(0x1ec)]({instanceName:_0x1ddac2},_0x28d71c){const _0x3eeeac=a0_0x1d42ab;if(!_0x28d71c[_0x3eeeac(0x198)][_0x3eeeac(0x157)][_0x3eeeac(0x2d7)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x3eeeac(0x652));return await this[_0x3eeeac(0x167)][_0x3eeeac(0x6a2)][_0x1ddac2]['reactionMessage'](_0x28d71c);}async['sendStatus']({instanceName:_0x5c27b0},_0x3c1152){const _0x50b83d=a0_0x1d42ab;return await this[_0x50b83d(0x167)][_0x50b83d(0x6a2)][_0x5c27b0][_0x50b83d(0x2a5)](_0x3c1152);}},Er=require(a0_0x1d42ab(0x555)),Rs=require(a0_0x1d42ab(0x3db)),Ft=class c{constructor(_0x16b98f,_0x3369e8,_0x331138){const _0x3f1c6f=a0_0x1d42ab;this['configService']=_0x16b98f,this['waMonitor']=_0x3369e8,this[_0x3f1c6f(0x544)]=_0x331138,this[_0x3f1c6f(0x701)]=new v(c[_0x3f1c6f(0x2ce)]);}async['jwt'](_0x303bb7){const _0x47cfa3=a0_0x1d42ab;let _0x42e5a1=this['configService'][_0x47cfa3(0x406)]('AUTHENTICATION')[_0x47cfa3(0x37f)],_0x1fe7eb=(0x0,Er['sign'])({'instanceName':_0x303bb7[_0x47cfa3(0x41b)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x42e5a1[_0x47cfa3(0x6f8)],{'expiresIn':_0x42e5a1[_0x47cfa3(0x19d)],'encoding':_0x47cfa3(0x227),'subject':_0x47cfa3(0xed)}),_0x5c7130=await this[_0x47cfa3(0x544)]['auth'][_0x47cfa3(0x661)]({'jwt':_0x1fe7eb},_0x303bb7['instanceName']);if(_0x5c7130[_0x47cfa3(0x241)])throw this[_0x47cfa3(0x701)][_0x47cfa3(0x241)]({'localError':c[_0x47cfa3(0x2ce)]+_0x47cfa3(0x491),'error':_0x5c7130[_0x47cfa3(0x241)]}),new m(_0x47cfa3(0x3d7),_0x5c7130[_0x47cfa3(0x241)]?.[_0x47cfa3(0x611)]());return{'jwt':_0x1fe7eb};}async[a0_0x1d42ab(0x27f)](_0x592c47){const _0x4318c1=a0_0x1d42ab;let _0x4bacf6=(0x0,Rs['v4'])()[_0x4318c1(0x4cc)](),_0x401202=await this[_0x4318c1(0x544)][_0x4318c1(0x588)][_0x4318c1(0x661)]({'apikey':_0x4bacf6},_0x592c47[_0x4318c1(0x41b)]);if(_0x401202['error'])throw this[_0x4318c1(0x701)][_0x4318c1(0x241)]({'localError':c[_0x4318c1(0x2ce)]+_0x4318c1(0x491),'error':_0x401202['error']}),new m(_0x4318c1(0x3d7),_0x401202[_0x4318c1(0x241)]?.['toString']());return{'apikey':_0x4bacf6};}async[a0_0x1d42ab(0x5fa)](_0x22f4ee){const _0x58c763=a0_0x1d42ab;let _0x311a1f=this[_0x58c763(0x566)][_0x58c763(0x406)](_0x58c763(0x6f6));return await this[_0x311a1f[_0x58c763(0x6e9)]](_0x22f4ee);}},Ut=class{constructor(_0x45fb0b){this['waMonitor']=_0x45fb0b;}async['createGroup'](_0x45ea9a,_0x50fabc){const _0x4f3b57=a0_0x1d42ab;return await this[_0x4f3b57(0x167)]['waInstances'][_0x45ea9a['instanceName']]['createGroup'](_0x50fabc);}async['updateGroupPicture'](_0x58d4c9,_0x78a3ca){const _0x52f001=a0_0x1d42ab;return await this[_0x52f001(0x167)][_0x52f001(0x6a2)][_0x58d4c9[_0x52f001(0x41b)]][_0x52f001(0x19b)](_0x78a3ca);}async[a0_0x1d42ab(0x6ba)](_0x96f636,_0x1a246f){const _0x153848=a0_0x1d42ab;return await this[_0x153848(0x167)][_0x153848(0x6a2)][_0x96f636[_0x153848(0x41b)]][_0x153848(0x6ba)](_0x1a246f);}async[a0_0x1d42ab(0x1e7)](_0x325d85,_0x43b58e){const _0x2c97c2=a0_0x1d42ab;return await this[_0x2c97c2(0x167)][_0x2c97c2(0x6a2)][_0x325d85[_0x2c97c2(0x41b)]][_0x2c97c2(0x1e7)](_0x43b58e);}async[a0_0x1d42ab(0x301)](_0x462573,_0x46b1fc){const _0x30fdbe=a0_0x1d42ab;return await this[_0x30fdbe(0x167)][_0x30fdbe(0x6a2)][_0x462573[_0x30fdbe(0x41b)]]['groupSetting'](_0x46b1fc);}async[a0_0x1d42ab(0x3fe)](_0x908470,_0xe8b062){const _0x36f328=a0_0x1d42ab;return await this[_0x36f328(0x167)]['waInstances'][_0x908470[_0x36f328(0x41b)]][_0x36f328(0x223)](_0xe8b062);}async[a0_0x1d42ab(0x589)](_0x51807f){const _0x5cf845=a0_0x1d42ab;return await this[_0x5cf845(0x167)][_0x5cf845(0x6a2)][_0x51807f['instanceName']][_0x5cf845(0x589)]();}async[a0_0x1d42ab(0x4d5)](_0x11166d,_0x28e6b2){const _0x3142ce=a0_0x1d42ab;return await this['waMonitor']['waInstances'][_0x11166d[_0x3142ce(0x41b)]][_0x3142ce(0x4d5)](_0x28e6b2);}async[a0_0x1d42ab(0x672)](_0x27e899,_0x167a52){const _0x16dc9e=a0_0x1d42ab;return await this[_0x16dc9e(0x167)]['waInstances'][_0x27e899[_0x16dc9e(0x41b)]][_0x16dc9e(0x672)](_0x167a52);}async[a0_0x1d42ab(0x382)](_0x4ce150,_0x5d5a86){const _0x1dcfd0=a0_0x1d42ab;return await this[_0x1dcfd0(0x167)][_0x1dcfd0(0x6a2)][_0x4ce150['instanceName']]['revokeInviteCode'](_0x5d5a86);}async[a0_0x1d42ab(0x4b6)](_0x573a62,_0x4dcbad){const _0x2ef8e9=a0_0x1d42ab;return await this['waMonitor'][_0x2ef8e9(0x6a2)][_0x573a62[_0x2ef8e9(0x41b)]][_0x2ef8e9(0x4b6)](_0x4dcbad);}async[a0_0x1d42ab(0x493)](_0x17d8d5,_0x5b5469){const _0x4c4a65=a0_0x1d42ab;return await this[_0x4c4a65(0x167)][_0x4c4a65(0x6a2)][_0x17d8d5[_0x4c4a65(0x41b)]][_0x4c4a65(0x22a)](_0x5b5469);}async[a0_0x1d42ab(0x1e6)](_0x51f303,_0x3eddd1){const _0x514ae1=a0_0x1d42ab;return await this[_0x514ae1(0x167)]['waInstances'][_0x51f303[_0x514ae1(0x41b)]][_0x514ae1(0x1e6)](_0x3eddd1);}async[a0_0x1d42ab(0x391)](_0x4123fa,_0x400506){const _0xdf1fb2=a0_0x1d42ab;return await this['waMonitor'][_0xdf1fb2(0x6a2)][_0x4123fa[_0xdf1fb2(0x41b)]]['leaveGroup'](_0x400506);}},Jt=class{constructor(_0x30efb0){const _0x30d4c7=a0_0x1d42ab;this[_0x30d4c7(0x167)]=_0x30efb0;}[a0_0x1d42ab(0x661)](_0x13d525,_0x441055){const _0x100067=a0_0x1d42ab;return this[_0x100067(0x167)]['waInstances'][_0x13d525[_0x100067(0x41b)]][_0x100067(0x517)](_0x441055);}async[a0_0x1d42ab(0x497)](_0x4cc5ee){const _0x86d35d=a0_0x1d42ab;try{return await this['waMonitor'][_0x86d35d(0x6a2)][_0x4cc5ee[_0x86d35d(0x41b)]][_0x86d35d(0x188)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x1d42ab(0x649)),jt=class{constructor(_0x207b8e){this['waMonitor']=_0x207b8e;}async['editScheduleMessage'](_0x32f645,_0x59f06e){const _0x282bd1=a0_0x1d42ab;return await this[_0x282bd1(0x167)][_0x282bd1(0x6a2)][_0x32f645[_0x282bd1(0x41b)]][_0x282bd1(0x2d2)](_0x59f06e);}async['getScheduleMessage'](_0x3e2a25){const _0x34a90a=a0_0x1d42ab;return await this['waMonitor'][_0x34a90a(0x6a2)][_0x3e2a25[_0x34a90a(0x41b)]][_0x34a90a(0x64e)]();}async['deleteDoneMessages'](_0x3963bb){const _0x4c4bc2=a0_0x1d42ab;return await this[_0x4c4bc2(0x167)][_0x4c4bc2(0x6a2)][_0x3963bb['instanceName']][_0x4c4bc2(0x2df)]();}async[a0_0x1d42ab(0x367)](_0x4d819f){const _0x1f9309=a0_0x1d42ab;return await this['waMonitor'][_0x1f9309(0x6a2)][_0x4d819f[_0x1f9309(0x41b)]][_0x1f9309(0x367)]();}async[a0_0x1d42ab(0x18e)](_0x32df6a,_0x5c7995){const _0x4cef08=a0_0x1d42ab;return await this[_0x4cef08(0x167)][_0x4cef08(0x6a2)][_0x32df6a[_0x4cef08(0x41b)]][_0x4cef08(0x18e)](_0x5c7995);}async[a0_0x1d42ab(0x2ea)](_0x686c0d,_0x219108){const _0x40343c=a0_0x1d42ab;return await this['waMonitor'][_0x40343c(0x6a2)][_0x686c0d['instanceName']][_0x40343c(0x2ea)](_0x219108);}async[a0_0x1d42ab(0x214)](_0x508b97,_0x34b56e){const _0x2edd60=a0_0x1d42ab;return await this[_0x2edd60(0x167)][_0x2edd60(0x6a2)][_0x508b97[_0x2edd60(0x41b)]][_0x2edd60(0x214)](_0x34b56e);}async[a0_0x1d42ab(0x64f)](_0x19f4dc,_0x2a9656){const _0x3ea79a=a0_0x1d42ab;return await this[_0x3ea79a(0x167)]['waInstances'][_0x19f4dc[_0x3ea79a(0x41b)]]['startFlow'](_0x2a9656);}async[a0_0x1d42ab(0x5bf)](_0x3a1936,_0x1b5724){const _0x4aa242=a0_0x1d42ab;return await this['waMonitor'][_0x4aa242(0x6a2)][_0x3a1936['instanceName']][_0x4aa242(0x5bf)](_0x1b5724);}async[a0_0x1d42ab(0x1cb)](_0x272bd7,_0x2ead4a){const _0x3fad99=a0_0x1d42ab;return await this[_0x3fad99(0x167)]['waInstances'][_0x272bd7[_0x3fad99(0x41b)]][_0x3fad99(0x1cb)](_0x2ead4a);}async[a0_0x1d42ab(0x2ba)](_0x379734,_0x399d43){const _0x5b93b1=a0_0x1d42ab;return await this[_0x5b93b1(0x167)][_0x5b93b1(0x6a2)][_0x379734[_0x5b93b1(0x41b)]][_0x5b93b1(0x2ba)](_0x399d43);}async['deleteConversation'](_0x3e3b79,_0x1ba015){const _0x285679=a0_0x1d42ab;return await this[_0x285679(0x167)]['waInstances'][_0x3e3b79[_0x285679(0x41b)]][_0x285679(0x6ff)](_0x1ba015);}async[a0_0x1d42ab(0x1f6)](_0x281436,_0x8fcb84){const _0x259c68=a0_0x1d42ab;return await this[_0x259c68(0x167)][_0x259c68(0x6a2)][_0x281436[_0x259c68(0x41b)]][_0x259c68(0x1f6)](_0x8fcb84[_0x259c68(0x2ce)]);}async[a0_0x1d42ab(0x352)](_0x5b2a5b,_0x56390f){const _0x524fc3=a0_0x1d42ab;return await this[_0x524fc3(0x167)][_0x524fc3(0x6a2)][_0x5b2a5b['instanceName']][_0x524fc3(0x352)](_0x56390f);}async[a0_0x1d42ab(0x3d0)](_0x4ff5bf,_0x178035){const _0x3cf0f7=a0_0x1d42ab;return await this[_0x3cf0f7(0x167)][_0x3cf0f7(0x6a2)][_0x4ff5bf['instanceName']][_0x3cf0f7(0x3d0)](_0x178035);}async[a0_0x1d42ab(0x3b5)](_0x530b29,_0x39d2fc){const _0x514b57=a0_0x1d42ab;return await this[_0x514b57(0x167)][_0x514b57(0x6a2)][_0x530b29['instanceName']][_0x514b57(0x3b5)](_0x39d2fc);}async['editFlowReply'](_0x3b5b04,_0x1d2ab6){const _0x5a6e40=a0_0x1d42ab;return await this['waMonitor']['waInstances'][_0x3b5b04['instanceName']][_0x5a6e40(0x11e)](_0x1d2ab6);}async[a0_0x1d42ab(0x2b9)](_0x5d5e95,_0x279a57){const _0x216f1a=a0_0x1d42ab;return await this[_0x216f1a(0x167)][_0x216f1a(0x6a2)][_0x5d5e95[_0x216f1a(0x41b)]]['editFlowGroup'](_0x279a57);}async[a0_0x1d42ab(0x377)](_0x4e64be,_0x4b14f1){const _0x61ae43=a0_0x1d42ab;return await this[_0x61ae43(0x167)][_0x61ae43(0x6a2)][_0x4e64be[_0x61ae43(0x41b)]]['editFlowCondition'](_0x4b14f1);}async[a0_0x1d42ab(0xc1)](_0x2c63ea,_0x594dba){const _0x2e43ca=a0_0x1d42ab;return await this[_0x2e43ca(0x167)][_0x2e43ca(0x6a2)][_0x2c63ea[_0x2e43ca(0x41b)]][_0x2e43ca(0xc1)](_0x594dba);}async['editFlowVariable'](_0x2ef2ad,_0x35d11e){const _0xc7fdd7=a0_0x1d42ab;return await this[_0xc7fdd7(0x167)][_0xc7fdd7(0x6a2)][_0x2ef2ad['instanceName']][_0xc7fdd7(0x5c2)](_0x35d11e);}async[a0_0x1d42ab(0x1d9)](_0x47f9a7,_0x5d7214){const _0x13277c=a0_0x1d42ab;return await this['waMonitor']['waInstances'][_0x47f9a7[_0x13277c(0x41b)]][_0x13277c(0x1d9)](_0x5d7214[_0x13277c(0x2ce)]);}async[a0_0x1d42ab(0x1d8)](_0x14ee0c){const _0x4a14b0=a0_0x1d42ab;return await this[_0x4a14b0(0x167)][_0x4a14b0(0x6a2)][_0x14ee0c[_0x4a14b0(0x41b)]][_0x4a14b0(0x1d8)]();}},qt=class{constructor(_0x1db071){const _0x2e9b44=a0_0x1d42ab;this[_0x2e9b44(0x428)]=_0x1db071;}async[a0_0x1d42ab(0x2ae)](_0x39aa5b,_0x113755){const _0x43b08e=a0_0x1d42ab;return this[_0x43b08e(0x428)][_0x43b08e(0x661)](_0x39aa5b,_0x113755);}async['findWebhook'](_0x2e1d94){const _0x36e3b2=a0_0x1d42ab;return this[_0x36e3b2(0x428)][_0x36e3b2(0x497)](_0x2e1d94);}},Vt=class extends I{constructor(_0x3677ba,_0x491392){const _0x6f1009=a0_0x1d42ab;super(_0x491392),this[_0x6f1009(0x502)]=_0x3677ba,this[_0x6f1009(0x566)]=_0x491392;}async['create'](_0x25d908,_0x5b91d6){const _0x14138a=a0_0x1d42ab;try{return this[_0x14138a(0x2a0)][_0x14138a(0x15a)]?{'insertCount':(await this[_0x14138a(0x502)][_0x14138a(0x511)]({'_id':_0x5b91d6},{..._0x25d908},{'upsert':!0x0}))[_0x14138a(0x6c1)]}:{'insertCount':0x1};}catch(_0x40a3b4){return _0x40a3b4;}}async[a0_0x1d42ab(0x463)](_0x2fb589){const _0x25a932=a0_0x1d42ab;try{if(this[_0x25a932(0x2a0)][_0x25a932(0x15a)]){await this[_0x25a932(0x502)]['deleteOne']({'_id':_0x2fb589});return;}}catch(_0x11e02e){return{'error':_0x11e02e};}}async['find'](_0x14f416){const _0x14f4c5=a0_0x1d42ab;try{if(this['dbSettings'][_0x14f4c5(0x15a)])return await this['webhookModel'][_0x14f4c5(0x2dc)]({'_id':_0x14f416});}catch{return{};}}},Bt=class extends I{constructor(_0x3ae72a,_0x5cb866){const _0x3c9a86=a0_0x1d42ab;super(_0x5cb866),this[_0x3c9a86(0x2ed)]=_0x3ae72a,this[_0x3c9a86(0x566)]=_0x5cb866,this[_0x3c9a86(0x588)]=_0x5cb866[_0x3c9a86(0x406)](_0x3c9a86(0x6f6));}async[a0_0x1d42ab(0x661)](_0x4d66e2,_0x426be1){const _0x391b4a=a0_0x1d42ab;try{if(this[_0x391b4a(0x2a0)][_0x391b4a(0x15a)])return{'insertCount':(await this['authModel'][_0x391b4a(0xce)]({'_id':_0x426be1},{'$set':{..._0x4d66e2}},{'upsert':!0x0}))[_0x391b4a(0x6c1)]};}catch(_0x2037f8){return{'error':_0x2037f8};}}async['updateAll'](_0x2e8020,_0x4c5241){const _0x51eb45=a0_0x1d42ab;try{if(this[_0x51eb45(0x2a0)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x51eb45(0x6e3)](_0x2e8020,{'$set':_0x4c5241},{'upsert':!0x1}))[_0x51eb45(0x6c1)]};throw new Error(_0x51eb45(0x53d));}catch(_0x2a835d){return{'error':_0x2a835d};}}async[a0_0x1d42ab(0x54e)](_0x589218){const _0x19c578=a0_0x1d42ab;try{if(this[_0x19c578(0x2a0)][_0x19c578(0x15a)])return{'insertCount':(await this[_0x19c578(0x2ed)][_0x19c578(0x54e)](_0x589218))[_0x19c578(0x5eb)]};throw new Error(_0x19c578(0x53d));}catch(_0x25909c){return{'error':_0x25909c};}}async['delete'](_0x4bdc99){const _0x257ed7=a0_0x1d42ab;try{if(this[_0x257ed7(0x2a0)][_0x257ed7(0x15a)]){await this['authModel'][_0x257ed7(0x1a6)]({'_id':_0x4bdc99});return;}}catch(_0x1bb4e2){return{'error':_0x1bb4e2};}}async[a0_0x1d42ab(0x497)](_0xde6106){const _0x2b19c9=a0_0x1d42ab;try{if(this[_0x2b19c9(0x2a0)]['ENABLED'])return await this[_0x2b19c9(0x2ed)][_0x2b19c9(0x2dc)]({'_id':_0xde6106});}catch{return{};}}async[a0_0x1d42ab(0x654)](){const _0x9bc965=a0_0x1d42ab;try{if(this[_0x9bc965(0x2a0)][_0x9bc965(0x15a)])return await this['authModel']['find']();}catch{return[];}}},Gt=class extends I{[a0_0x1d42ab(0x2f6)](_0x3e75cf){return ta(_0x3e75cf);}async[a0_0x1d42ab(0x2be)](_0x2c4489){const _0x418d34=a0_0x1d42ab;try{let _0x56750f=sa,_0xfd449e=this[_0x418d34(0x2f6)](_0x2c4489),_0x5ba237=await _0x56750f[_0x418d34(0x497)]({'owner':_0x2c4489})[_0x418d34(0x16d)](),_0xa7608d=[],_0x4cf69a=[];for(let _0x479eaf of _0x5ba237)await _0xfd449e[_0x418d34(0x358)](_0x479eaf[_0x418d34(0x650)])[_0x418d34(0x16d)]()||(_0xa7608d[_0x418d34(0x59e)](_0x479eaf),_0x4cf69a[_0x418d34(0x59e)](_0x479eaf[_0x418d34(0x650)]));return _0xa7608d[_0x418d34(0x6e2)]>0x0&&await _0xfd449e['insertMany'](_0xa7608d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1639a5){return console[_0x418d34(0x241)](_0x418d34(0x145),_0x1639a5),{'success':!0x1,'error':_0x1639a5};}}async[a0_0x1d42ab(0x463)](_0x4ffd8d,_0xe72cdf){const _0x3f0db6=a0_0x1d42ab;try{let _0x46f4f6=this['getFlowModelForOwner'](_0xe72cdf),_0x162a22=A(_0x4ffd8d[_0x3f0db6(0x6c4)]);return{'deletedCount':(await _0x46f4f6[_0x3f0db6(0x54e)](_0x162a22))['deletedCount']};}catch(_0x2bc3fd){return{'error':_0x2bc3fd?.[_0x3f0db6(0x611)]()};}}async[a0_0x1d42ab(0x1a6)](_0x49bcb3,_0x8e7258){const _0x55adf4=a0_0x1d42ab;try{let _0x506a24=this[_0x55adf4(0x2f6)](_0x8e7258),_0x57c1b4=A(_0x49bcb3[_0x55adf4(0x6c4)]);return{'deletedCount':(await _0x506a24[_0x55adf4(0x1a6)](_0x57c1b4))[_0x55adf4(0x5eb)]};}catch(_0x2f61f0){return{'error':_0x2f61f0?.['toString']()};}}async[a0_0x1d42ab(0xce)](_0x17179a,_0x52d07a,_0x114c0f){const _0x42c4ca=a0_0x1d42ab;try{return await this[_0x42c4ca(0x2f6)](_0x114c0f)[_0x42c4ca(0x4fc)](_0x17179a,_0x52d07a,{'new':!0x0});}catch(_0x438919){return console[_0x42c4ca(0x241)](_0x42c4ca(0x60b),_0x438919),null;}}async[a0_0x1d42ab(0x60d)](_0x57657a,_0x195887){const _0x294b2f=a0_0x1d42ab;try{let _0x279362=this['getFlowModelForOwner'](_0x195887);return await new _0x279362(_0x57657a)['save']();}catch(_0x1eefb4){return console[_0x294b2f(0x241)](_0x294b2f(0x6a9),_0x1eefb4),null;}}async[a0_0x1d42ab(0x6e3)](_0x1bd8a3,_0x29e7a3,_0x227dc0){const _0x49fd26=a0_0x1d42ab;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x227dc0)['updateMany'](_0x1bd8a3,{'$set':_0x29e7a3}))[_0x49fd26(0x6c1)]};}catch(_0x2fed62){return console[_0x49fd26(0x241)](_0x49fd26(0x622),_0x2fed62),{'error':_0x2fed62};}}async[a0_0x1d42ab(0x654)](_0x21048d,_0xb4f4bb){const _0x4f1c91=a0_0x1d42ab;try{let _0x537b69=this['getFlowModelForOwner'](_0xb4f4bb),_0x23e29a=A(_0x21048d['where']);return await _0x537b69[_0x4f1c91(0x497)](_0x23e29a)['limit'](_0x21048d?.[_0x4f1c91(0x553)]??0x0)[_0x4f1c91(0x16d)]();}catch{return[];}}async[a0_0x1d42ab(0x2dc)](_0x26c738,_0x1a604d){const _0x4261e4=a0_0x1d42ab;try{let _0x24aba5=this[_0x4261e4(0x2f6)](_0x1a604d),_0x4376ee=A(_0x26c738[_0x4261e4(0x6c4)]);return await _0x24aba5[_0x4261e4(0x2dc)](_0x4376ee)[_0x4261e4(0x16d)]();}catch{return null;}}async[a0_0x1d42ab(0x565)](_0x460375){const _0x2bd07b=a0_0x1d42ab;try{return await this[_0x2bd07b(0x2f6)](_0x460375)['collection'][_0x2bd07b(0x577)](),{'success':!0x0};}catch(_0x159734){return console[_0x2bd07b(0x241)](_0x159734),{'success':!0x1,'error':_0x159734};}}},Wt=class extends I{['getConversationModelForOwner'](_0x241448){return ra(_0x241448);}async[a0_0x1d42ab(0x2be)](_0x1e507a){const _0x17ba4b=a0_0x1d42ab;try{let _0x599a99=oa,_0x306121=this[_0x17ba4b(0x62f)](_0x1e507a),_0x2014e5=await _0x599a99[_0x17ba4b(0x497)]({'owner':_0x1e507a})['lean'](),_0x164b29=[],_0x42bcd0=[];for(let _0x277da1 of _0x2014e5)await _0x306121[_0x17ba4b(0x358)](_0x277da1['_id'])[_0x17ba4b(0x16d)]()||(_0x164b29['push'](_0x277da1),_0x42bcd0['push'](_0x277da1['_id']));return _0x164b29[_0x17ba4b(0x6e2)]>0x0&&await _0x306121['insertMany'](_0x164b29,{'ordered':!0x1}),{'success':!0x0};}catch(_0x8855f0){return console[_0x17ba4b(0x241)]('Erro\x20ao\x20copiar\x20dados:',_0x8855f0),{'success':!0x1,'error':_0x8855f0};}}async['insert'](_0x5b316c){const _0x1df981=a0_0x1d42ab;if(_0x5b316c[_0x1df981(0x6e2)]!==0x0)try{return{'insertCount':(await this[_0x1df981(0x62f)](_0x5b316c[0x0][_0x1df981(0x4bb)])[_0x1df981(0x303)]([..._0x5b316c]))[_0x1df981(0x6e2)]};}catch(_0x2daf77){return _0x2daf77;}}async[a0_0x1d42ab(0x463)](_0x4b727f,_0x12fa11){const _0x5bc8ec=a0_0x1d42ab;try{let _0x21d8aa=this[_0x5bc8ec(0x62f)](_0x12fa11),_0x5767f8=A(_0x4b727f[_0x5bc8ec(0x6c4)]);return{'deletedCount':(await _0x21d8aa[_0x5bc8ec(0x54e)](_0x5767f8))[_0x5bc8ec(0x5eb)]};}catch(_0x21ce4f){return{'error':_0x21ce4f?.[_0x5bc8ec(0x611)]()};}}async[a0_0x1d42ab(0x1a6)](_0x28f2ec,_0x1588f8){const _0x1c7929=a0_0x1d42ab;try{let _0x40de37=this[_0x1c7929(0x62f)](_0x1588f8),_0xc792eb=A(_0x28f2ec['where']);return{'deletedCount':(await _0x40de37[_0x1c7929(0x1a6)](_0xc792eb))['deletedCount']};}catch(_0x2d0684){return{'error':_0x2d0684?.[_0x1c7929(0x611)]()};}}async[a0_0x1d42ab(0x22d)](_0x3420ec,_0x1bc6de){const _0x94fe73=a0_0x1d42ab;try{if(_0x3420ec[_0x94fe73(0x6e2)]===0x0)return;let _0x2f2ab3=this[_0x94fe73(0x62f)](_0x1bc6de),_0x5ac01b=_0x3420ec[_0x94fe73(0x6e4)](_0x1c77f5=>({'updateOne':{'filter':{'name':_0x1c77f5[_0x94fe73(0x2ce)],'owner':_0x1bc6de},'update':{..._0x1c77f5}}})),{modifiedCount:_0x1e2196}=await _0x2f2ab3[_0x94fe73(0x609)](_0x5ac01b);return{'insertCount':_0x1e2196};}catch{return;}}async['updateMany'](_0x5f03a5,_0x45bb0f,_0x56954b){const _0x7b7bb6=a0_0x1d42ab;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x56954b)[_0x7b7bb6(0x6e3)](_0x5f03a5,{'$set':_0x45bb0f}))[_0x7b7bb6(0x6c1)]};}catch(_0x2f2479){return console[_0x7b7bb6(0x241)](_0x7b7bb6(0x13a),_0x2f2479),{'error':_0x2f2479};}}async[a0_0x1d42ab(0xce)](_0xb31b84,_0x1649c4,_0x16f8fc){const _0x2b92ba=a0_0x1d42ab;try{return await this[_0x2b92ba(0x62f)](_0x16f8fc)[_0x2b92ba(0x3f2)]({'_id':_0xb31b84},{'$set':_0x1649c4},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0xb0fbe3){return console[_0x2b92ba(0x241)](_0xb0fbe3),null;}}async[a0_0x1d42ab(0x497)](_0x206c7d,_0x541f5b){const _0x480992=a0_0x1d42ab;try{return await this[_0x480992(0x62f)](_0x541f5b)[_0x480992(0x497)](_0x206c7d)[_0x480992(0x4a4)]({'lastInteraction':-0x1})[_0x480992(0x16d)]();}catch{return[];}}async[a0_0x1d42ab(0x2dc)](_0x732a9,_0x304e40){const _0x12e308=a0_0x1d42ab;try{return await this[_0x12e308(0x62f)](_0x304e40)['findOne']({..._0x732a9[_0x12e308(0x6c4)]})[_0x12e308(0x16d)]();}catch{return null;}}async['deleteAll'](_0x2f1515){const _0x5b3aa1=a0_0x1d42ab;try{return await this[_0x5b3aa1(0x62f)](_0x2f1515)[_0x5b3aa1(0x186)][_0x5b3aa1(0x577)](),{'success':!0x0};}catch(_0x361001){return console[_0x5b3aa1(0x241)](_0x361001),{'success':!0x1,'error':_0x361001};}}},zt=class extends I{['getScheduleMessageModelForOwner'](_0x3d1114){return na(_0x3d1114);}async[a0_0x1d42ab(0x2be)](_0x2ee373){const _0x13c2bc=a0_0x1d42ab;try{let _0x79e257=ca,_0x655010=this['getScheduleMessageModelForOwner'](_0x2ee373),_0x1b6bed=await _0x79e257[_0x13c2bc(0x497)]({'owner':_0x2ee373})[_0x13c2bc(0x16d)](),_0x38f0dc=[],_0x2a8dee=[];for(let _0x33c362 of _0x1b6bed)await _0x655010[_0x13c2bc(0x358)](_0x33c362[_0x13c2bc(0x650)])['lean']()||(_0x38f0dc[_0x13c2bc(0x59e)](_0x33c362),_0x2a8dee[_0x13c2bc(0x59e)](_0x33c362[_0x13c2bc(0x650)]));return _0x38f0dc[_0x13c2bc(0x6e2)]>0x0&&await _0x655010['insertMany'](_0x38f0dc,{'ordered':!0x1}),{'success':!0x0};}catch(_0x16d2e4){return console[_0x13c2bc(0x241)](_0x13c2bc(0x145),_0x16d2e4),{'success':!0x1,'error':_0x16d2e4};}}async[a0_0x1d42ab(0x60d)](_0x4e0bef,_0x27999f){const _0x43b85c=a0_0x1d42ab;try{let _0xfc1121=this[_0x43b85c(0x3d4)](_0x27999f);return await new _0xfc1121(_0x4e0bef)[_0x43b85c(0x2f3)]();}catch(_0x4976a6){return console[_0x43b85c(0x241)](_0x43b85c(0x6a9),_0x4976a6),null;}}async[a0_0x1d42ab(0x1a6)](_0x3c1cd0,_0x6956bf){const _0x24b3fa=a0_0x1d42ab;try{return await this['getScheduleMessageModelForOwner'](_0x6956bf)[_0x24b3fa(0x41a)](_0x3c1cd0),{};}catch(_0x4298d7){return{'error':_0x4298d7?.[_0x24b3fa(0x611)]()};}}async[a0_0x1d42ab(0xce)](_0x167d5f,_0x1f6539,_0x23c141){const _0x28c88f=a0_0x1d42ab;try{return await this['getScheduleMessageModelForOwner'](_0x23c141)[_0x28c88f(0x3f2)](_0x167d5f,{'$set':_0x1f6539},{'new':!0x0})['lean']();}catch(_0x352ff9){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x352ff9),null;}}async[a0_0x1d42ab(0x26b)](_0x4baaf1,_0x18652b,_0x2e59d0){const _0x53939e=a0_0x1d42ab;try{return await this[_0x53939e(0x3d4)](_0x2e59d0)[_0x53939e(0x4fc)](_0x4baaf1,_0x18652b,{'new':!0x0})[_0x53939e(0x16d)]();}catch(_0x4a8d37){return console[_0x53939e(0x241)](_0x53939e(0xfe),_0x4a8d37),null;}}async['find'](_0x492495,_0x400524){const _0x5ca868=a0_0x1d42ab;try{return await this[_0x5ca868(0x3d4)](_0x400524)[_0x5ca868(0x497)](_0x492495[_0x5ca868(0x6c4)])[_0x5ca868(0x553)](_0x492495?.['limit']??0x0)[_0x5ca868(0x4a4)]({'when':0x1})[_0x5ca868(0x16d)]();}catch{return[];}}async['findOne'](_0x8c24f6,_0x51d24f){const _0x1df056=a0_0x1d42ab;try{return await this[_0x1df056(0x3d4)](_0x51d24f)[_0x1df056(0x2dc)](_0x8c24f6[_0x1df056(0x6c4)])[_0x1df056(0x4a4)]({'when':0x1})[_0x1df056(0x16d)]();}catch{return null;}}async[a0_0x1d42ab(0x358)](_0x2e3876,_0x339d37){const _0x9790fe=a0_0x1d42ab;try{return await this[_0x9790fe(0x3d4)](_0x339d37)[_0x9790fe(0x358)](_0x2e3876)[_0x9790fe(0x16d)]();}catch{return null;}}async[a0_0x1d42ab(0x54e)](_0x11d519,_0x1b3c94){const _0x2e8cd0=a0_0x1d42ab;try{return{'deletedCount':(await this[_0x2e8cd0(0x3d4)](_0x1b3c94)[_0x2e8cd0(0x54e)](_0x11d519))['deletedCount']};}catch(_0x49966c){return console[_0x2e8cd0(0x241)](_0x2e8cd0(0x2c1),_0x49966c),{'error':_0x49966c};}}async[a0_0x1d42ab(0x565)](_0x1ab087){const _0x1f0c41=a0_0x1d42ab;try{return await this[_0x1f0c41(0x3d4)](_0x1ab087)['collection']['drop'](),{'success':!0x0};}catch(_0x336e1d){return console[_0x1f0c41(0x241)](_0x336e1d),{'success':!0x1,'error':_0x336e1d};}}},Ht=class extends I{async[a0_0x1d42ab(0x22d)](_0x34d56d,_0x321a19){const _0x3e943f=a0_0x1d42ab;try{if(this[_0x3e943f(0x2a0)][_0x3e943f(0x15a)]){let _0x335e3d=await _e[_0x3e943f(0x3f2)]({'_id':_0x321a19},{'$set':_0x34d56d},{'new':!0x0});return console[_0x3e943f(0x1c0)](_0x3e943f(0x54c),_0x335e3d),_0x335e3d;}}catch(_0x8fedd9){throw console[_0x3e943f(0x241)](_0x3e943f(0x5b0),_0x8fedd9),_0x8fedd9;}}async['findOrCreate'](_0x558aaa){const _0x501960=a0_0x1d42ab;try{let _0x11aa1c=await _e[_0x501960(0x358)](_0x558aaa);return _0x11aa1c||(_0x11aa1c=new _e({'_id':_0x558aaa}),await _0x11aa1c[_0x501960(0x2f3)]()),_0x11aa1c;}catch(_0x5ec8bd){return console[_0x501960(0x241)](_0x501960(0x246),_0x5ec8bd),null;}}},wo=new v(a0_0x1d42ab(0x503)),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Mo=new Vt(Qs,b),Co=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),le=new $e(bo,So,Eo,Mo,Co,vo,Ro,No,To,Ao,N?.['getClient']()),B=new xt(es,b,le),Oo=new Ft(b,B,le),Io=new Jt(B),gs=new qt(Io),T=new jt(B),re=new kt(B,b,le,es,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x1d42ab(0x31c)]('Module\x20-\x20ON');var gg=require('express-async-errors'),Ts=require('fs'),Mr=R(require(a0_0x1d42ab(0x3ee))),Cr=R(require(a0_0x1d42ab(0x2e7))),Ne=class c{static #e;static set[a0_0x1d42ab(0x645)](_0x5436da){this.#e=_0x5436da;}static get[a0_0x1d42ab(0x3ee)](){const _0x283ae2=a0_0x1d42ab;let {FULLCHAIN:_0x5b6859,PRIVKEY:_0x3670ad}=b[_0x283ae2(0x406)]('SSL_CONF');return Mr[_0x283ae2(0x1eb)]({'cert':(0x0,Ts['readFileSync'])(_0x5b6859),'key':(0x0,Ts['readFileSync'])(_0x3670ad)},c.#e);}static get['http'](){return Cr['createServer'](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x1d42ab(0x20d))),Re=R(require(a0_0x1d42ab(0xec))),Ae=R(require(a0_0x1d42ab(0x596))),Oe=require(a0_0x1d42ab(0x21f));function Do(){const _0x4eea53=a0_0x1d42ab;B[_0x4eea53(0x6de)]();let _0x3496fc=Ae[_0x4eea53(0x47b)][_0x4eea53(0x455)](__dirname,_0x4eea53(0x4ab));Ar(_0x3496fc);}var Ar=_0x29302a=>{const _0x3e530c=a0_0x1d42ab;let _0x3ab228=de[_0x3e530c(0x47b)]['readdirSync'](_0x29302a),_0x51a0f2=0xc*0x3c*0x3c*0x3e8,_0x1e12a9=0x2*0x3c*0x3c*0x3e8,_0x16b6ee=new Date()[_0x3e530c(0x27a)]();_0x3ab228[_0x3e530c(0x371)](_0x205637=>{const _0x407b8f=_0x3e530c;let _0x56ecd5=Ae[_0x407b8f(0x47b)][_0x407b8f(0x455)](_0x29302a,_0x205637),_0x14a297=de[_0x407b8f(0x47b)][_0x407b8f(0x3f3)](_0x56ecd5)[_0x407b8f(0x5ef)][_0x407b8f(0x27a)]();_0x16b6ee-_0x14a297>_0x51a0f2&&(de[_0x407b8f(0x47b)][_0x407b8f(0x533)](_0x56ecd5),console[_0x407b8f(0x1c0)]('Deleted\x20'+_0x205637));}),setTimeout(()=>Ar(_0x29302a),_0x1e12a9);};function xo(){const _0x1c2cf6=a0_0x1d42ab;let _0x156b36=new v(_0x1c2cf6(0x283)),_0x2edfe1=(0x0,pe[_0x1c2cf6(0x47b)])();_0x2edfe1[_0x1c2cf6(0x4c2)]((0x0,Tr[_0x1c2cf6(0x47b)])({'origin'(_0x14f735,_0x3378df){const _0x2e5e80=_0x1c2cf6;let {ORIGIN:_0x155a30}=b[_0x2e5e80(0x406)]('CORS');return _0x14f735||(_0x14f735='*'),_0x155a30['indexOf']('*')!==-0x1||_0x155a30[_0x2e5e80(0x462)](_0x14f735)!==-0x1?_0x3378df(null,!0x0):_0x3378df(new Error(_0x2e5e80(0x526)));},'methods':[...b['get'](_0x1c2cf6(0x694))[_0x1c2cf6(0x33e)]],'credentials':b[_0x1c2cf6(0x406)](_0x1c2cf6(0x694))['CREDENTIALS']}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x1c2cf6(0x438)}),(0x0,pe[_0x1c2cf6(0x61e)])({'limit':'50mb'})),_0x2edfe1[_0x1c2cf6(0x4c2)]((_0x30f481,_0x19e7da,_0x208746)=>{const _0x2ca03e=_0x1c2cf6;_0x30f481['path']['startsWith'](_0x2ca03e(0x6f7))?_0x208746():(0x0,Rr[_0x2ca03e(0x47b)])()(_0x30f481,_0x19e7da,_0x208746);}),_0x2edfe1[_0x1c2cf6(0x626)](_0x1c2cf6(0x48b),_0x1c2cf6(0x36b)),_0x2edfe1[_0x1c2cf6(0x626)]('views',(0x0,Os['join'])(ae,'views')),_0x2edfe1[_0x1c2cf6(0x4c2)](pe[_0x1c2cf6(0x47b)]['static']((0x0,Os[_0x1c2cf6(0x455)])(ae,_0x1c2cf6(0x1ba)))),_0x2edfe1['use']((_0x312e6d,_0x3c94de,_0x364346)=>{const _0x1dcf9f=_0x1c2cf6;let _0x429bdc=_0x3c94de[_0x1dcf9f(0x36c)];_0x3c94de[_0x1dcf9f(0x36c)]=function(_0x460bbc){const _0x5d1ee0=_0x1dcf9f;if(_0x312e6d[_0x5d1ee0(0x529)][_0x5d1ee0(0x2c6)]===_0x5d1ee0(0x695)||_0x312e6d[_0x5d1ee0(0x60a)][_0x5d1ee0(0x6da)]===_0x5d1ee0(0x695)){let _0x535d5=JSON[_0x5d1ee0(0x698)](_0x460bbc);_0x460bbc=JSON[_0x5d1ee0(0x427)](_0x16a576(_0x535d5));}return _0x429bdc[_0x5d1ee0(0x110)](_0x3c94de,[_0x460bbc]);},_0x364346();}),_0x2edfe1[_0x1c2cf6(0x4c2)]('/',vt),_0x2edfe1[_0x1c2cf6(0x4c2)]((_0x538fae,_0x31ef13,_0x45f016,_0x47e1e4)=>{const _0x367289=_0x1c2cf6;if(_0x538fae)return _0x45f016[_0x367289(0x3f1)](_0x538fae[_0x367289(0x3f1)]||0x1f4)[_0x367289(0x61e)](_0x538fae);},(_0x3085c2,_0x14c66c,_0x4d5b31)=>{const _0x159220=_0x1c2cf6;let {method:_0x1d19e6,url:_0x16ef38}=_0x3085c2;_0x14c66c[_0x159220(0x3f1)](0x194)[_0x159220(0x61e)]({'status':0x194,'message':_0x159220(0x495)+_0x1d19e6[_0x159220(0x4cc)]()+'\x20'+_0x16ef38,'error':_0x159220(0x699)}),_0x4d5b31();});let _0x16a576=(_0x12a6e7,_0x21c240=_0x1c2cf6(0x42c))=>{const _0x1a4510=_0x1c2cf6;let _0x1d1aef=(_0x4dc2f0,_0xb35617=null,_0x6b833c=!0x1)=>{let _0x1c1a38={};return Object['keys'](_0x4dc2f0)['forEach'](_0x59eccc=>{const _0x55c76d=a0_0x3f00;let _0x3dde64=_0x4dc2f0[_0x59eccc],_0x590e6a=''+_0x21c240+_0x59eccc;_0xb35617&&!_0x6b833c&&(_0x590e6a=_0xb35617+'.'+_0x59eccc),!_0x3dde64&&_0x3dde64!==0x0&&_0x3dde64!==!0x1||typeof _0x3dde64>'u'?_0x1c1a38[_0x590e6a]=null:typeof _0x3dde64!='object'&&!Array[_0x55c76d(0x5e2)](_0x3dde64)?_0x1c1a38[_0x590e6a]=_0x3dde64:typeof _0x3dde64==_0x55c76d(0x1b0)&&!Array[_0x55c76d(0x5e2)](_0x3dde64)?_0x1c1a38=Object['assign'](_0x1c1a38,_0x1d1aef(_0x3dde64,_0x590e6a)):Array[_0x55c76d(0x5e2)](_0x3dde64)&&(typeof _0x3dde64[0x0]==_0x55c76d(0x1b0)?(_0x1c1a38[_0x590e6a]=[],_0x3dde64[_0x55c76d(0x371)](_0x12019f=>{const _0x363d03=_0x55c76d;_0x1c1a38[_0x590e6a][_0x363d03(0x59e)](_0x1d1aef(_0x12019f,_0x590e6a,!0x0));})):_0x1c1a38[_0x590e6a]=_0x3dde64);}),_0x1c1a38;};return Array[_0x1a4510(0x5e2)](_0x12a6e7)?_0x12a6e7[_0x1a4510(0x6e4)](_0x342d5c=>_0x1d1aef(_0x342d5c)):typeof _0x12a6e7==_0x1a4510(0x1b0)&&_0x12a6e7!==null?_0x1d1aef(_0x12a6e7):{};},_0x2519f6=b[_0x1c2cf6(0x406)](_0x1c2cf6(0x283));Ne[_0x1c2cf6(0x645)]=_0x2edfe1;let _0x47cfea=Ne[_0x2519f6['TYPE']],_0x38e213=_0x1c2cf6(0x594);_0x47cfea[_0x1c2cf6(0x3a7)](_0x2519f6[_0x1c2cf6(0x5f9)],()=>{const _0x5db684=_0x1c2cf6;_0x156b36[_0x5db684(0x1c0)](_0x38e213),_0x156b36[_0x5db684(0x1c0)](_0x2519f6[_0x5db684(0x6e9)][_0x5db684(0x4cc)]()+_0x5db684(0x5d7)+_0x2519f6[_0x5db684(0x5f9)]);}),Do(),Us();}var Po=a0_0x1d42ab(0x37c),_o=Ae[a0_0x1d42ab(0x47b)][a0_0x1d42ab(0x455)](__dirname,a0_0x1d42ab(0x36d)),Te=null;function $o(){return new Promise((_0x25c038,_0x37143b)=>{const _0x26049d=a0_0x3f00;de[_0x26049d(0x47b)][_0x26049d(0x30a)](_o,'utf-8',(_0x1dcd12,_0x58b6d4)=>{const _0x455078=_0x26049d;if(_0x1dcd12){Te=_0x1dcd12,_0x25c038();return;}Or[_0x455078(0x47b)][_0x455078(0x698)](_0x58b6d4)[_0x455078(0x37b)][_0x455078(0x62e)]===Po?(Te=null,_0x25c038()):(Te=new Error(_0x455078(0x667)),_0x25c038());});});}async function ko(){const _0x1cfedc=a0_0x1d42ab;try{await $o(),await Is();}catch(_0x51a482){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x51a482),process[_0x1cfedc(0xf4)](0x1);}}ko();async function Ir(){const _0x2ac4e5=a0_0x1d42ab;let _0x19b444;try{_0x19b444=(await Re[_0x2ac4e5(0x47b)][_0x2ac4e5(0x406)](_0x2ac4e5(0x44c)))[_0x2ac4e5(0x63a)]['ip'];}catch(_0x3328ca){console['error'](_0x3328ca);try{_0x19b444=(await Re[_0x2ac4e5(0x47b)][_0x2ac4e5(0x406)](_0x2ac4e5(0x355)))[_0x2ac4e5(0x63a)]['ip'];}catch(_0x2cc64e){console[_0x2ac4e5(0x241)](_0x2cc64e);try{_0x19b444=(await Re[_0x2ac4e5(0x47b)][_0x2ac4e5(0x406)](_0x2ac4e5(0x605)))[_0x2ac4e5(0x63a)][_0x2ac4e5(0x2d7)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5d0169){return console[_0x2ac4e5(0x241)](_0x5d0169),!0x1;}}}return _0x19b444;}var vr=0x0;async function Lo(){const _0x13418d=a0_0x1d42ab;let _0x399623=await new oe(b[_0x13418d(0x406)](_0x13418d(0x336)))[_0x13418d(0x386)]();return console[_0x13418d(0x1c0)](_0x13418d(0x43d),_0x399623[_0x13418d(0x6e2)]),_0x399623['length'];}function Fo(_0x4a09b6){const _0x32f1ee=a0_0x1d42ab;let _0xcbb2fd=_0x4a09b6[_0x32f1ee(0x406)]('SERVER')[_0x32f1ee(0x22b)],_0x21fcfc=_0x4a09b6[_0x32f1ee(0x406)](_0x32f1ee(0x487)),_0x4264eb;if(_0xcbb2fd){let _0x277eab=_0xcbb2fd[_0x32f1ee(0x2d7)](/\/\/(.*?)\./);_0x277eab&&_0x277eab[0x1]&&(_0x4264eb=_0x277eab[0x1]);}if(!_0x4264eb&&_0x21fcfc&&_0x21fcfc[_0x32f1ee(0x461)]){let _0xcce27b=_0x21fcfc[_0x32f1ee(0x461)][_0x32f1ee(0x4e8)]('/'),_0x4fd7cf=_0xcce27b[_0xcce27b[_0x32f1ee(0x6e2)]-0x2];if(_0x4fd7cf){let _0x7f67a6=_0x4fd7cf[_0x32f1ee(0x4e8)]('.');_0x7f67a6['length']>0x2&&(_0x4264eb=_0x7f67a6[0x0]);}}return _0x4264eb;}var vs=Fo(b);async function Uo(){const _0x2fe78c=a0_0x1d42ab;let _0x2b2cc5=b[_0x2fe78c(0x406)](_0x2fe78c(0x336)),_0x27be66=b[_0x2fe78c(0x406)](_0x2fe78c(0x6f6))['API_KEY'][_0x2fe78c(0x53e)],_0x2a3147=b['get']('SSL_CONF'),_0x3e2fd2=await Ir(),_0x318a7b=b[_0x2fe78c(0x406)](_0x2fe78c(0x283))['PORT'],_0x3ee01b=b[_0x2fe78c(0x406)](_0x2fe78c(0x283))['URL'];try{let _0x260a2c={'ip':_0x3e2fd2||null,'redis_enable':_0x2b2cc5?.[_0x2fe78c(0x15a)]||null,'apikey':_0x27be66||null,'ssl':_0x2a3147?.[_0x2fe78c(0x19c)]||null,'lastupdate':Dr||null,'port':_0x318a7b||null,'gitInstallError':Te?.[_0x2fe78c(0x312)]||null,'url':_0x3ee01b||null};if(console[_0x2fe78c(0x1c0)](_0x2fe78c(0xe8),_0x260a2c['ip']),_0x2b2cc5&&_0x2b2cc5[_0x2fe78c(0x15a)]){let _0xe5dff1=await Lo();_0x260a2c[_0x2fe78c(0x155)]=_0xe5dff1||null;}for(let _0xd7c80b in _0x260a2c)_0x260a2c[_0x2fe78c(0x700)](_0xd7c80b)&&_0xd7c80b!=='ip'&&(_0x260a2c[_0xd7c80b]=JSON[_0x2fe78c(0x427)](_0x260a2c[_0xd7c80b]));return(await Re[_0x2fe78c(0x47b)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x260a2c))[_0x2fe78c(0x63a)];}catch(_0x89756f){return console[_0x2fe78c(0x241)](_0x89756f),!0x1;}}var As=!0x1,Dr=0x21e,Jo=0x3,Nr=0x1b7740;async function Is(){const _0x49ee32=a0_0x1d42ab;if(!await Ir())return console['error']('No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.'),_0x49ee32(0x459);let _0x9b66fa=await Uo();if(_0x9b66fa){if(_0x9b66fa[_0x49ee32(0x489)]['licenca']===!0x0){b[_0x49ee32(0x406)](_0x49ee32(0x487))[_0x49ee32(0x19c)][_0x49ee32(0x2c5)](_0x49ee32(0x4ba))&&_0x9b66fa[_0x49ee32(0x489)][_0x49ee32(0x5fe)]&&(await Vo(_0x9b66fa[_0x49ee32(0x489)][_0x49ee32(0x5fe)],qo),await Bo(_0x49ee32(0xf3),_0x9b66fa[_0x49ee32(0x489)][_0x49ee32(0x5fe)]),console[_0x49ee32(0x1c0)]('Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...'),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x9b66fa['response']['last_update']-Dr>0x0&&await jo(),As||(As=!0x0,xo());let _0x11e865=0x24*0x3c*0x3c,_0x4eefc9=_0x9b66fa[_0x49ee32(0x489)][_0x49ee32(0x27d)]>_0x11e865?_0x11e865:_0x9b66fa[_0x49ee32(0x489)][_0x49ee32(0x27d)],_0x1745aa=Number(_0x4eefc9);if(isNaN(_0x1745aa)){console[_0x49ee32(0x241)](_0x49ee32(0x276));return;}let _0x2efa1e=Math[_0x49ee32(0x633)](_0x1745aa/0xe10),_0x3bfc14=Math[_0x49ee32(0x633)](_0x1745aa%0xe10/0x3c),_0x300552=new Date(Date[_0x49ee32(0x5aa)]()+_0x1745aa*0x3e8);setTimeout(Is,_0x1745aa*0x3e8);let _0x48ead6=_0x3dfcc7=>_0x3dfcc7[_0x49ee32(0x611)]()['padStart'](0x2,'0'),_0x5afa54=_0x49ee32(0x23d)+_0x48ead6(_0x2efa1e)+'\x20horas\x20e\x20'+_0x48ead6(_0x3bfc14)+'\x20minutos.\x20Ser\x20s\x20'+_0x48ead6(_0x300552[_0x49ee32(0x683)]())+':'+_0x48ead6(_0x300552[_0x49ee32(0x45f)]())+'.';console[_0x49ee32(0x1c0)](_0x5afa54);}else return console[_0x49ee32(0x1c0)](_0x49ee32(0x330)),As&&(console[_0x49ee32(0x1c0)]('A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.'),process[_0x49ee32(0xf4)]()),_0x49ee32(0x4ed);}else{if(vr++,vr<Jo)console[_0x49ee32(0x1c0)](_0x49ee32(0x17a)+Nr/0xea60+_0x49ee32(0x235)),setTimeout(Is,Nr);else return console[_0x49ee32(0x241)](_0x49ee32(0x3c8)),_0x49ee32(0xe2);}}function a0_0x56fe(){const _0x4f42ca=['.\x20Pulando.','removeProfilePicture','unreadcount','set',',\x20saindo.','.ogg','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','^\x5cd+','No\x20response\x20received:','@s.whatsapp.net','request\x20received\x20in\x20deleteFlow','url','getConversationModelForOwner','badSession','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','ORG:','floor','Erro\x20ao\x20editar\x20a\x20conversa:\x20','created','Error\x20while\x20deleting\x20message\x20for\x20everyone','Group\x20not\x20found','createInstance','pre','data','Font\x20is\x20required','subject','processPollUpdateMessage','class-validator','sticker','trim','scheduleMessage','reorderBlocks','updateConversation','all','app','messageId','isInteger','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','FlowController','apirequest','cors','Audio\x20is\x20url','reconnectAttempts','getScheduleMessage','startFlow','_id','updateStatusPrivacy','\x22reaction\x22\x20must\x20be\x20an\x20emoji','pt-BR','findAll','waitingMenu_id','privacySettings','presence.update','groups.update','sendMessageWithTyping','request\x20received\x20in\x20editFlowgroup','Instance\x20ID:','noConnection','refused','action','.error','storePath','create','sleep','request\x20received\x20in\x20getConversation','group','routerPath','mediaKey','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','promote','profile','g.us','slice','copyBlock','detail','selectableCount','open','processingScheduleMessageId','jid','joinGroup','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','padEnd','):\x20Deletando\x20fluxo...','Converting\x20audio\x20to\x20mp4','contentText','truncatedtoEnd','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','URL\x20limpa:\x20','\x1b[47m','requested\x20testProxy','userDevicesCache','Logger','):\x20nextBlock.uazapi.name','):\x20Limpando\x20delayMessage','value','Converted\x20audio\x20deleted','getHours','closeExistingConversations','AUTHENTICATION_API_KEY','\x20no\x20encontrado','authState','fullName',',\x20Resultado:\x20','static','):\x20Buscando\x20conversas...','\x20adicionado\x20ao\x20chat\x20','Variveis\x20no\x20encontradas:','isBusiness','updateOnlinePrivacy','\x1b[37m%s\x1b[0m','hex','GROUP_PARTICIPANTS_UPDATE','Hash\x20to\x20image\x20name:\x20','CORS','true','CONNECTION','sendStatus','parse','Not\x20Found','Label\x20','env.KEY\x20!==\x20key','eventemitter2','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','namespace','toBRL','no.connection','waInstances','fileName','stopped','Cache-Control','Revoke\x20error','rows','senderKeyDistributionMessage','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','qrcode','\x0aFN:','Instance\x20\x22','PRODUCT_LIST','verify','GROUPS_UPSERT','API_KEY','groupHandler','Connection','sendPresenceUpdate','):\x20transformedCustomFieldVariables','longitude','\x1b[1m\x1b[37m','remove.instance',',\x20Comparador:\x20','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','groupDesc','prepareWAMessageMedia','keys','done','createConversationforgoToFlow','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','audio/mp4','modifiedCount','replace','webhook','where','values','AddChatLabel','chatHandle','order','):\x20delete\x20=\x20true','Instance\x20restarted','connectedClient','originalUrl','numbers','):\x20conversation.waitingMenu_name','editflowreply','editChat','utf-8','round','Getting\x20profile\x20info','removed','Chat\x20com\x20ID\x20','creds.update','displayName','groupToggleEphemeral','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','uazapi','picture','.webm','website','loadInstance','group\x20ignored','src','string','length','updateMany','map','remoteJid','):\x20Erro\x20ao\x20buscar\x20conversas\x20','flattenObject','Conversa\x20deletada\x20com\x20sucesso.','TYPE','count','item',',\x20resultado:\x20','processgoToFlow','context','editflowgroup','pino','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Primeiro\x20Valor:\x20','stanzaId','):\x20tem\x20blocks','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','AUTHENTICATION','/events','SECRET','sha256','application/json','responsavelid','contextInfo','URL:','StatusJidList\x20is\x20required','deleteConversation','hasOwnProperty','logger','insert','contactHandle','.mp3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','size','flowIgnoreGroups','eventHandler','setting','updateReplyOption','editFlowVaredit','gifPlayback','lastMessage','restrict','Instance\x20deleted','put','/wa-contacts','getChatModelForOwner','DATABASE_CONNECTION_URI','logout','throwAndLogError','redis://127.0.0.1:6379','deleteMessageForEveryone','updateOne','empty','):\x20teve\x20mudanas\x20chat.name:\x20','No\x20participants','blocks','BufferJSON','getMessageModelForOwner','groupFetchAllParticipating','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','\x20instance\x20does\x20not\x20exist','processblock','):\x20teve\x20mudanas\x20chat.displayName:\x20','CONTACTS_UPDATE','Including\x20timestamp\x20in\x20url:\x20','Image\x20converted\x20to\x20WebP','Data\x20invlida\x20fornecida','CORS_CREDENTIALS','\x20mensagens\x20de\x20','loadWebhook','sectionsToString','SERVER_OFFLINE','notify','request\x20received\x20in\x20starFlow','API\x20Key\x20invlida.','updateBlock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','ip:\x20','firstValue','nomecompleto','Erro\x20do\x20Certbot:\x20','axios','g-t','CONECTADO\x20\x20UAZAPI','SSL_CONF_PRIVKEY','Fluxo\x20no\x20encontrado','deleteInstance','scheduleSendAudio','augusto.fcs@gmail.com','exit','replacer','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','sendMenu','):\x20Edit\x20schedule\x20message...','load','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','getMIMEType','_Flows','env','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','cleaningUp','):\x20Editando\x20varivel\x20do\x20fluxo...','readFileSync','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','allContacts','lastSendMessage','.sendDataWebhook-global','capitalizedWords','allflows','readData','contacts.update','\x20minutos','/webhook','binary','@whiskeysockets/baileys','editflowcondition','\x1b[0m','apply','STATUS_INSTANCE','sending',',\x20pairCode:\x20','secondValue','min','testProxy\x20error:\x20','phoneNumber','WARN','minutesToClose','variablesNotFound','Output\x20path:\x20','envProcess','getClient','editFlowReply','stopConversation','CLEANING_INTERVAL','data:\x20','goNextblock','):\x20Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','cleanStore','request\x20received\x20in\x20fetchConversation','):\x20Ler\x20mensagem','working','function','Sending\x20audio\x20whatsapp','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','pollErrorMessage','groupAcceptInvite','/:instanceName','redis','processConditionsTest','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','reference','description','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','isJWT','labelId','Internal\x20Server\x20Error','sendContact','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','Converting\x20image\x20to\x20WebP\x20to\x20sticker','chats.update','AUTHENTICATION_TYPE','errno','Erro\x20ao\x20remover\x20instncias\x20antigas:','jpegThumbnail','groups','saveChatVariables','fileUrl','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20copiar\x20dados:','Erro\x20ao\x20atualizar\x20conversa:\x20','content','oldValue','):\x20Erro\x20ao\x20criar\x20fluxo\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','footerText','Erro\x20ao\x20buscar\x20conversa:\x20','Error\x20fetching\x20group','substring','qrcode.updated','test','ProxyAgent','chats.set','updateParticipant','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','instanceCount','imagechat','reaction','next_groupId','chat','ENABLED','array','\x1b[42m','profilePictureUrl','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Enter\x20a\x20value\x20in\x20milliseconds','header','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','notContains','messaging-history.set','fone','replyOptions','user','waMonitor','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','chatLog','contacts.upsert','removeInstance','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','lean','\x20foi\x20interrompido\x20pelo\x20usurio.','stickerMessage','hDel','applyvaredit','InstancesAsDisconnectedX','archiveChat',',\x20far\x20nova\x20verificao\x20em\x20','sections','Conexo\x20estabelecida','Safari\x20(Mac\x20OS)','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Esse\x20fluxo\x20expirou','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','media','):\x20Error\x20processing\x20conditions:\x20','scheduleSendMedia','del','MESSAGES_UPSERT','boolean','\x1b[31m%s\x1b[0m','flowConfig','updatePresence','\x20no\x20encontrado\x20para\x20cpia','poll','collection','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','findWebhook','\x5c$&','listMessage','Schema','application/octet-stream','updatePrivacySettings','updateAgent','):\x20Comando\x20desconhecido:\x20','lastInteraction','command','contact_blacklist','audio/ogg','/media/','ipify.org','startsWith','flowStopConversation','reactionMessage','writeFileSync','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','updateGroupPicture','PRIVKEY','EXPIRIN_IN','formatBRNumber','metadata','defineProperty','imageMessage','chatModify','quoted','Error\x20headers:','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','deleteOne','delay','.xls','):\x20Iniciando\x20bot...','/chat','success','unhandledRejection','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','.uazapi.dev','fetchContacts','object','out','latitude','max','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','VERBOSE','paused','Fetching\x20business\x20profile','getVariablesChat','public','request\x20received\x20in\x20deleteDoneMessages','label','waitingMenu_text','dbServer','\x22\x20cannot\x20be\x20empty','log','vcard','moreLogs','ignoreGroups','SERVER_URL','notEmpty','maxActives','):\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','video-cover.png','remove','fetchConversation','The\x20global\x20api\x20key\x20must\x20be\x20set','stdout','console','contactsArrayMessage','DEBUG','random','/instance/connect','uazapiSendLocation','Validate','Flow\x20no\x20encontrado','splice','groupParticipantsUpdate','allFlows','deleteFlow','evaluateCondition','contact','editflowvaredit','Failed\x20to\x20get\x20IP\x20from\x20','):\x20Bloco\x20com\x20ID\x20','):\x20Flow\x20no\x20encontrado','deleteBlock','messages.set','.gif','ObjectId','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','\x20-i\x20','toggleEphemeral','groupName','Selecione','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','):\x20Editando\x20bloco...','createServer','sendReaction','authorization','):\x20Criando\x20fluxo...','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','sendWhatsAppAudio','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','creds.json','title','extractRegex','viewOnceMessageV2','getFlow','flowConversation','Comando\x20desconhecido','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dataValidate','Error\x20updating\x20profile\x20name','eventEmitter','Sistema\x20atualizado\x20com\x20sucesso!','Getting\x20image\x20from\x20url','lastSend','USER','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','INFO','toNumber','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','deleted','findIndex','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','uazapiSendMenu','ERROR','ini','unavailable','lowerCase','flushHeaders','SEND_MESSAGE','/wa-message','DATABASE_CONNECTION_PASSWORD','updateFlowConfig','addReplyOption','end','protocolMessage','exec','createJid','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x1b[34m%s\x1b[0m','_error','reconnectTimestamps','waitingForReplyMenu','child_process','variable','from','.pdf','findGroup','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','instance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','utf8','\x20saindo\x20da\x20funo','):\x20teve\x20mudanas\x20chat.archived:\x20','updateGParticipant','URL','OrAnd','update','Image\x20path:\x20','):\x20updateResult:','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','jsonschema','copy','expiration','DisconnectReason','\x20minutos...','The\x20property\x20cannot\x20be\x20empty','getProfileName','@g.us','authService','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','format','pairingCode','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','Incio','replaceVariablesInObject','Atualizao:\x20','error','stateConnection','convertedOptions','automateSystem','participant','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','participants','fetchProfilePictureUrl','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','config','RemoveChatLabel','fetchBusinessProfile','):\x20Conversa\x20atualizada\x20em\x20memria','Parando\x20aplicao...','has','redirect','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','READ','request\x20received\x20in\x20allFlows','replaceVariablesLogs','testProxy\x20response\x20from\x20','7776pyvxAv','uazapiSendContact','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','groupLeave','116026vXjpfL','sendCommand','release','Audio\x20processed','*\x0a\x0a','Hash\x20to\x20audio\x20name:\x20','available','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','/exit','finish','):\x20atualizao\x20chat:\x20','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','encoding','messages','PRESENCE_UPDATE','uazapiSendMedia','updateOneById','group-participants.update','backgroundColor','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','request\x20received\x20in\x20editFlow','getDelay','pollCreationMessageKey','*Pergunta*:\x20\x0a','menuMessage','message_normalized','express','interval\x20no\x20\x20um\x20nmero','DOCKER_ENV','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','/wa-presence','getTime','changeVariables','sendList','segundos','API\x20Key\x20from\x20Request:','apikey','Instncias\x20atualizadas\x20como\x20desconectadas:\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','notEqual','SERVER','height','):\x20Limpando\x20AutomateSystem','dayjs','unreadCount','2XKmUci','start','statusCode','Error\x20data:','CHATS_UPSERT','trimmed','notas','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','):\x20Editando\x20grupo\x20do\x20fluxo...','ReplyOption\x20com\x20ID\x20','instanceInfo','ChatModel','ButtonsMessage','flowActive','updateMessage','Rtulo\x20invlido\x20ou\x20sem\x20ID.','verifiedName','requestFile','password','mentioned','MESSAGES_SET','HH:mm:ss','pollCreationMessageV3','Rtulo\x20atualizado:','dbSettings','/events/:instance','MAX_RECONNECT_ATTEMPTS','reorderReplyOptions','Unauthorized','statusMessage','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','js-yaml','checkAndUpdateChatStatus','deleteReplyOption','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','initAuthCreds','Operador:\x20\x22','):\x20Campos\x20a\x20serem\x20atualizados:','createWebhook','restartInstance','/instance/connectionState','):\x20lastBlockId:\x20','createflow','varedits','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','readMessageBot','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','some','\x20segundos','editFlowGroup','editConversation','getLastMessage','https://uazapi-plugin.bubbleapps.io/?url=','DARK','copyDataToNewModel','\x1b[1m','waitingMenu_replyOptions','Erro\x20ao\x20deletar\x20mensagens:','temp-','recording','findContacts','includes','convert','body','pollCreationMessage','request\x20body:\x20','removeOlderDisconnectedInstances',',\x20Segundo\x20Valor:\x20','/instance/fetchInstances','replyOption','name','greater','exists','Configurao\x20de\x20proxy\x20invlida\x20gerada.','editScheduleMessage','findOrCreate','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','connecting','delayMessage','match','emit','request\x20received\x20in\x20editConversation','local_map','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','findOne','document','agents','deleteDoneMessages','tryProxy','Erro\x20ao\x20importar\x20chats:',',\x20lastCondition:\x20','}}\x20->\x20valor\x20no\x20encontrado','Message\x20not\x20found','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','http','creds','Button\x20texts\x20cannot\x20be\x20repeated','updateCustomFields','createProxyConfig','documentWithCaptionMessage','authModel','buttons','\x20com\x20sucesso.','font','less','getContentType','save','evaluateConditionTest','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','getFlowModelForOwner','mediaSticker','state','getDevice','HeaderType','deleteflow','):\x20Editando\x20replyOption...','No\x20respondeu\x20com\x20a\x20enquete.','PREFIX_KEY','status.instance','):\x20Criando\x20nova\x20conversa[createNewConversation]','groupSetting','_Contacts','insertMany','loggedOut','arrayUnique','):\x20newFirstValue\x20aps\x20replaceVariables:','fetchPrivacySettings','atendimentoAberto','Processing\x20audio','readFile','stopMinutes','proxy-agent','CONTACTS_UPSERT','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','syscall','updateProfilePicturePrivacy','AutomateFunctions','message','Certbot:\x20','STORE_CHATS','\x20using\x20the\x20proxy:','Types','ReplyOptions\x20finais\x20aps\x20reordenao:','joinGroupValidate','Unable\x20to\x20leave\x20the\x20group','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','labels.association','info','mkdirSync','\x20is\x20already\x20in\x20use.','Image\x20is\x20base64','DB_PREFIX_NAME','instances','authentication','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','CORS_METHODS','.docx','demote','):\x20Falha\x20ao\x20deletar\x20mensagem.','!stop','markMessageAsRead','stack','.X-ABLabel:Celular\x0a','rm\x20-rf\x20','groupUpdateDescription','remoteJids','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','variables','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','RECONNECT_TIME_FRAME','EMAIL:','apiName','REDIS','mongoose','cache','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','\x1b[43m','\x1b[34m','Nenhum\x20chat\x20encontrado\x20para\x20editar.','METHODS','contacts','SINGLE_SELECT','shift','findConversation','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','https://','connection.update','CORS_ORIGIN','Erro\x20de\x20reinicializao:\x20','option','@broadcast','groups.upsert','linkPreview','apiResponse','fromObject','scheduleNextCheck','.doc','ERROR:\x20','ids','createFlow','Falta\x20informao\x20para\x20a\x20chamada\x20API','Subscribed\x20Events:','https://api.ipify.org?format=json','content-type','editedMessage','findById','Error\x20change\x20group\x20description','toBrazilianNumberFormat','buttonMessage','Temp\x20image\x20deleted','conditions','lastCondition','viewOnceMessageV2Extension','flowPrefixCommand','/message','key','composing','no-cache','request\x20received\x20in\x20updateCustomFields','locationMessage','getAutomateSystem','createGroup','block','events','hbs','send','./.git/config','prepareMediaMessage','isRunning','client','forEach','endsWith','stderr','endSession','exports','locked','editFlowCondition','Chrome','):\x20Procurando\x20conversa','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','remote\x20\x22origin\x22','https://github.com/uazapi/uazapi.git','):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','DaysToDelete','JWT','params','/clients-info','revokeInviteCode','Temp\x20audio\x20created','app-state-sync-key','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','instanceKeys','ListMessage','findMessages','15nTqdMu','fetchInstances','uazapiSendText','connectToWhatsapp','replaceVariables','/wa-connection-update','):\x20Deletando\x20mensagem','isConnected','leaveGroup','newValue','groupadd','prefixCommand','createConnection','#ffffff','Close\x20connection','updateProfilePicture','editOperator','SERVER_ACK','send.message','including\x20timestamp\x20in\x20url:\x20','saveConversationToDatabase','leadInfo','Error\x20updating\x20profile\x20picture','messageHandle','URI','\x1b[30m','fetchChats','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','pollCreationMessageV2','sendPoll','listen','.png','listResponseMessage','):\x20Error\x20processing\x20the\x20block:\x20','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','https://api.elevenlabs.io/v1/text-to-speech/','Business\x20profile\x20fetched','hGetAll','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','bodyString','videoMessage','post','://','stopWhenYouSendMsg','editFlowBlock','warn','.ppt','isJidGroup','InstancesAlterarTodas','/instance','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','textMessage','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','PASSWORD','Archiving\x20chat','pop','fetchStatus','841380utwWMK','sendDataWebhook','Invalid\x20format','addBlock','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','Content\x20is\x20required','Erro\x20ao\x20iniciar\x20fluxo:\x20','realVariables','FlowModel','PENDING','E-mail:\x20','write','editFlow','?timestamp=','none','readMessage','getScheduleMessageModelForOwner','menuIgnoreNonVotes','and','Authentication\x20error','):\x20newSecondValue\x20aps\x20replaceVariables:','makeCacheableSignalKeyStore','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','uuid','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','setNewValue','Erro\x20ao\x20deletar\x20chat:','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','dbClient','writeData','StartBot','reviver','process','base64','expression','updateMissingCustomFields','pollMessage','isJidUser','Router','/wa-chats','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Buscando\x20conversa...','https','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','defineAuthState','status','findOneAndUpdate','statSync','toFile','conversationTimestamp','chats.delete','checkAndRestartProcess','optionDescription','cwd',',\x20valor\x20a\x20encontrar:\x20\x22','options','prototype','caption','findGroupInfo','oldToken','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','2058birFzt','Parando\x20aplicao,\x20atualizao\x20recebida','restart','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','):\x20Alterando\x20fluxo...','get','method','SERVER_PORT','existsSync','Flow\x20iniciado\x20com\x20','):\x20leadInfoVariables','request\x20received\x20in\x20updateAgent','mediatype','decryptPollVote','No\x20invite\x20code','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','formatStatusMessage','ephemeralMessage','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20de\x20atualizao:\x20','parseInt','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Instance\x20logged\x20out','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','certbot','findByIdAndDelete','instanceName','image','CHATS_SET','isBase64','processApiRequest','/wa-groups','match_last_seen','NextBlock','GROUPS_UPDATE','The\x20instance\x20needs\x20to\x20be\x20disconnected','Temp\x20audio\x20path:\x20','request','stringify','webhookService','verbose','delaySecMax','archived','_p_','host','sendAudio','Audio\x20is\x20base64','groupJid','msgRetryCounterCache','/group','mediaMessage','processConditions','/media','Output\x20audio\x20path:\x20','readreceipts','50mb','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','ephemeralExpiration','presence','fileLength','instancias:\x20','$pull','wuid','\x0a*Voc\x20respondeu*:\x0a','status@broadcast','notMatchRegex','uazapiDeleteMessage','updateMediaMessage','removeData','leadInfo.desativadoFluxoAte','CHATS_DELETE','connectionUpdate','):\x20Entrou\x20na\x20funo\x20stop','request\x20received\x20in\x20editFlowcondition','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','https://jsonip.com','\x1b[41m','Erro\x20ao\x20inserir\x20chats:','instanceName\x20not\x20provided.','/*.json','):\x20conversation.lastInteraction:\x20','/instance/create','scheduleMessages','chats','join','add','whatsappNumbers','error\x20get\x20vote','NO_IP','lastBlockId','DELIVERY_ACK','processUazapi','Erro:','findAndReplaceRegex','getMinutes','WebhookGlobal','FULLCHAIN','indexOf','delete','messages.upsert','toArray','pushName',',\x20Minutes\x20to\x20Close:\x20','redisEnv','closed','shutdown\x20-r\x20now','updateChatWithMessage','AUTHENTICATION_JWT_EXPIRIN_IN','mentions','last','\x20do\x20chat\x20','Desconectado,\x20parando\x20execuo.','Valor\x20inicial:\x20\x22','request\x20received\x20in\x20createFlow','conversation','contains','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','uncaughtException','Image\x20created','selectedOptions','):\x20Current\x20Time:\x20','_FlowHistorico','default','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','blockLogs','createNewConversation','arraybuffer','AutomateSystem','\x20minutos\x20verificar\x20novas\x20mensagens','setRestartTimer','messages.update','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','delaySecMin','SSL_CONF','charAt','response','2611989Cbwvrd','view\x20engine','):\x20Flow\x20desativado','output','type','STORE','../env.yml','.jwt','updateLastSeenPrivacy','updateGParticipate','LOG','Cannot\x20','jsonip.com','find','saveMediaToFile','nome','groupMetadata','Error\x20fetching\x20and\x20updating\x20profile:\x20','connectionState','\x5cd+','\x1b[36m%s\x1b[0m','addChatLabel','\x1b[36m','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','nextBlock:','list','sort','contactMessage','deleteMessage','organization','Message','protocol','Erro\x20ao\x20remover\x20label\x20','downloads','Error\x20in\x20markMessageAsRead:','Audio\x20converted\x20to\x20mp4','entries','ScheduleMessageModel','Nmero:\x20','):\x20Query\x20params:\x20','Forbidden','\x20ao\x20chat\x20','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','https://uazapi-plugin.bubbleapps.io/','findParticipants','currency','-whatsapp-api','archive','<subdomain>','owner','menuType','DATABASE_CONNECTION_HOST','matchRegex','role','toLowerCase','node-cache','use','abs','address','buttonId','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','toLocaleString','vote','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','ListType','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','toUpperCase','_Labels','scheduleSendText','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','/create','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','Log\x20out\x20instance:\x20','-instances','inviteCode','Connection\x20closed\x20for\x20instance:\x20','pollUpdateMessage','lastReceivedMessage','Content-Type','Error\x20creating\x20group',',\x20valor\x20passado:\x20\x22','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','dyndns.org','REDIS_PREFIX_KEY','Error\x20change\x20group\x20name','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','setContext','PLAYED','):\x20Procurando\x20mensagens\x20para\x20envio','saveTextReply','newStoppedUntil','qrCode','351844AMYyFr','split','updateProfileStatus','Db\x20Connection','sendMessage','unlocked','LICENSE_INVALID','buttonText','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','audioMessage','replaceValue','findLabels','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','connect','DATABASE_CONNECTION_USER','requestPairingCode','spawn','optionName','preview','):\x20Editando\x20edio\x20do\x20fluxo...','getTicketSystem','findByIdAndUpdate','sendMedia','upperCase','#000000','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','port','webhookModel','WA\x20MODULE','video','editflow','updateStopChat','localWebhook','Converted\x20image\x20deleted','stopIfLastReturnedError','@ffmpeg-installer/ffmpeg','remoteJidsRemaining','Bloco\x20com\x20ID\x20','\x20removido\x20do\x20chat\x20','username','/wa-qrcode','$dbName','replaceOne','CHATS_UPDATE','sem\x20texto\x20na\x20mensagem','integer','condition','getContactModelForOwner','setWebhook','__esModule','contactname','TEL','.txt','webhookMap','urlOrBase64','everyOne','\x1b[46m','valid','getRandomText','generateWAMessageFromContent','Erro\x20ao\x20atualizar\x20o\x20flow.','readMessages','request\x20received\x20in\x20updateFlowConfig','Not\x20allowed\x20by\x20CORS','Rtulo\x20deletado:','?authSource=admin&readPreference=primary&directConnection=true','query','proto','flowName','pollOnReplyDelete','folder','groupValidate','resetReconnectionVariables','removeChatLabel','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','choices','unlinkSync','labels.edit','cpf','1262056zDUSMv','DELETED','request\x20received\x20in\x20deleteConversation','request\x20received\x20in\x20scheduleMessage','findFlow','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','upsertChats','Database\x20is\x20not\x20enabled','KEY','getMessage','\x1b[32m%s\x1b[0m','CONTACTS_SET','activatedCount','tags','repository','normalizeMessage','fetchProfile2','mongodb','statusJidList','messageTimestamp','DATABASE','timerId','Resultado\x20da\x20atualizao:','dbInstance','deleteMany','store','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','MESSAGES_UPDATE','\x20quoted:\x20','limit','groups_ignore','jsonwebtoken','):\x20Bloco\x20copiado:\x20','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','updateMissingLabels','fetchMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','AppStateSyncKeyData','messageContextInfo','\x1b[33m\x1b[1m','repeat','updateProfileName','LEVEL','enabled','generate','onTime','REDIS_ENABLED','deleteAll','configService','whatsappNumber','fetchProfilePicture','replaceVariablesChat','assign','Error\x20writing\x20file:\x20','getOwnPropertyNames','connectToWhatsappController','Bad\x20Request','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','convertaudio','COLOR','^\x5cd+[\x5c.@\x5cw-]+','):\x20Entrou\x20na\x20funo\x20saveReply','All_Instances_Config','$set','fetchProfile','drop','Instncia:\x20','labels','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','audioWhatsapp','Image\x20is\x20url','profilePicture','2496440OkNIuD','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','label_jid','isURL','mimetype','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','groupInviteCode','chatId','desativadoFluxoAte','chats.upsert','auth','findGroups','router','messagesSend','audio/aac','text/event-stream','.pptx','!cmd_','replaceVariablesInReplyOptions','Missing\x20global\x20api\x20key','getLabelModelForOwner','):\x20Erro\x20durante\x20a\x20atualizao:\x20','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','formatVCard','path','):\x20Buscando\x20flow...','ex:\x20\x22groupJid=120362@g.us\x22','request\x20received\x20in\x20getFlow','_Chats','sendText','.mp4','This\x20name\x20','push','findAndReplace','text','addresss','):\x20Enviando\x20texto','):\x20Conversa\x20inserida\x20com\x20sucesso.','connectionClosed','\x20chats\x20de\x20','):\x20Deletando\x20conversa...','presenceSubscribe','errors','flowname:\x20','now','delAll','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','keep-alive','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','customFields','Erro\x20ao\x20atualizar\x20AutomateSystem:','variablesToObject','.xlsx','saveVariable','):\x20customFieldVariables','request\x20received\x20in\x20getAutomateSystem','Error\x20status:','):\x20Criou\x20conversa\x20no\x20startFlow:','_activatedCount','viewOnceMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','audio','updateMissingTags','express-async-errors','LOG_COLOR','getConversation','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Enviando\x20udio','editFlowVariable','https://api.openai.com/v1/audio/speech','$addToSet','Erro\x20ao\x20configurar\x20proxy:\x20','announce','number','collections','toDataURL','importChats','dropCollection','code','):\x20Erro\x20ao\x20editar\x20agentes:\x20','SendScheduleMessage','isLong','getStatus','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Enviando\x20mdia','Erro\x20inesperado\x20em\x20processvaredits:\x20','sendLocation','STORE_MESSAGE','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','\x20-\x20ON:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','flowStopMinutes','model','\x20no\x20encontrado\x20para\x20atualizao.','\x1b[33m','https://chat.whatsapp.com/','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Imagem\x20no\x20encontrada','getBase64FromMediaMessage','Error\x20removing\x20profile\x20picture','isArray','setHeader','varedit','Nenhum\x20proxy\x20funcional\x20encontrado\x20aps\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','The\x20\x22','lastmsg','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','instance.','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','deletedCount','execSync','blockId','online','birthtime','getflow','\x22\x20not\x20found','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','filter','\x0aitem','):\x20alterando\x20this.AutomateSystem','):\x20Conversa\x20est\x20expirada\x20-\x20voto','):\x20Dados\x20migrados\x20com\x20sucesso','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','PORT','generateHash','connectionStatus','fromMe','documentMessage','subdomain','TEXT','QRCODE_UPDATED','listType','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','email','Getting\x20profile\x20with\x20jid:\x20','http://checkip.dyndns.org','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','updateReadReceiptsPrivacy','headerString','bulkWrite','headers','Erro\x20ao\x20atualizar\x20o\x20fluxo:','/wa-message-update','createAndSave','CONFIGURAO\x20GERAL:','validate','Instncia\x20no\x20encontrada.','toString','fetchLabels','certonly','loadEnv','CONNECTION_UPDATE','when','groupId','inner','sendButtons','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','/config','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','json','rowId','flow','close','Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:'];a0_0x56fe=function(){return _0x4f42ca;};return a0_0x56fe();}async function jo(){const _0x24ede5=a0_0x1d42ab;console[_0x24ede5(0x1c0)](_0x24ede5(0x402));let _0xf0eff7=(0x0,Oe[_0x24ede5(0x4f7)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0xf0eff7[_0x24ede5(0x1cd)]['on']('data',_0x311677=>{const _0x418112=_0x24ede5;console[_0x418112(0x1c0)](_0x418112(0x240)+_0x311677);}),_0xf0eff7[_0x24ede5(0x373)]['on'](_0x24ede5(0x63a),_0x3a5c35=>{const _0x5f5c10=_0x24ede5;console[_0x5f5c10(0x241)](_0x5f5c10(0x414)+_0x3a5c35);}),_0xf0eff7['on'](_0x24ede5(0xf4),_0x68a863=>{const _0x589bc5=_0x24ede5;_0x68a863!==0x0?console[_0x589bc5(0x241)](_0x589bc5(0x343)+_0x68a863):console['log'](_0x589bc5(0x1fe)),console['log'](_0x589bc5(0x24e)),setTimeout(()=>process['exit'](),0x2710);});}var qo=Ae['default']['join'](__dirname,'env.yml');async function Vo(_0x57c720,_0xc2ebbd){const _0x13d0ee=a0_0x1d42ab;let _0x3c13b5=Go();_0x57c720=_0x57c720[_0x13d0ee(0x6c2)](_0x13d0ee(0x1ae),'');try{let _0x3b2616=de[_0x13d0ee(0x47b)][_0x13d0ee(0x101)](_0xc2ebbd,'utf8');_0x3b2616=_0x3b2616['replace'](/<apikey>/,_0x3c13b5),_0x3b2616=_0x3b2616['replace'](/<subdomain>/g,_0x57c720),de[_0x13d0ee(0x47b)]['writeFileSync'](_0xc2ebbd,_0x3b2616,'utf8'),console[_0x13d0ee(0x1c0)](_0x13d0ee(0x5de));}catch(_0x2cc995){console['error'](_0x13d0ee(0x1b5),_0x2cc995);}}function Bo(_0x575507,_0x12ad96){return new Promise((_0x225e22,_0x3d494e)=>{const _0xc4a899=a0_0x3f00;let _0x388ddf=(0x0,Oe[_0xc4a899(0x4f7)])(_0xc4a899(0x419),[_0xc4a899(0x613),'--standalone','-m',_0x575507,'--agree-tos','-d',_0x12ad96]);_0x388ddf[_0xc4a899(0x1cd)]['on'](_0xc4a899(0x63a),_0x4c8a1c=>{const _0x372d20=_0xc4a899;console[_0x372d20(0x1c0)](_0x372d20(0x313)+_0x4c8a1c[_0x372d20(0x611)]());}),_0x388ddf[_0xc4a899(0x373)]['on'](_0xc4a899(0x63a),_0x2c6e7d=>{const _0x5916a9=_0xc4a899;console['error'](_0x5916a9(0xeb)+_0x2c6e7d[_0x5916a9(0x611)]());}),_0x388ddf['on'](_0xc4a899(0x621),_0xbe01d1=>{const _0x4f7bc4=_0xc4a899;_0xbe01d1!==0x0?(console[_0x4f7bc4(0x241)](_0x4f7bc4(0x2d4)+_0xbe01d1),_0x3d494e(_0x4f7bc4(0x2d4)+_0xbe01d1)):(console[_0x4f7bc4(0x1c0)]('Certbot\x20executado\x20com\x20sucesso.'),_0x225e22());});});}function Go(_0x12f9df=0x32){const _0x4b517a=a0_0x1d42ab;let _0xfa34c4='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x16cdcc='';for(let _0x45fc11=0x0;_0x45fc11<_0x12f9df;_0x45fc11++)_0x16cdcc+=_0xfa34c4['charAt'](Math[_0x4b517a(0x633)](Math['random']()*_0xfa34c4[_0x4b517a(0x6e2)]));return _0x16cdcc;}function Wo(){const _0x5dd090=a0_0x1d42ab;(0x0,Oe[_0x5dd090(0x218)])(_0x5dd090(0x46a),(_0x2780bf,_0x14bd13,_0x4bc1df)=>{const _0xa096c7=_0x5dd090;if(_0x2780bf){console[_0xa096c7(0x241)](_0xa096c7(0x266)+_0x2780bf);return;}if(_0x4bc1df){console[_0xa096c7(0x241)](_0xa096c7(0x347)+_0x4bc1df);return;}console[_0xa096c7(0x1c0)]('Reinicializao\x20iniciada:\x20'+_0x14bd13);});}0x0&&(module[a0_0x1d42ab(0x375)]={'subdomain':subdomain});