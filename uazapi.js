const a0_0x4c7c55=a0_0x31df;function a0_0x31df(_0x43ad34,_0x5bda92){const _0x4ef452=a0_0x4ef4();return a0_0x31df=function(_0x31dfb8,_0x5629e6){_0x31dfb8=_0x31dfb8-0x1bd;let _0x5c4ed9=_0x4ef452[_0x31dfb8];return _0x5c4ed9;},a0_0x31df(_0x43ad34,_0x5bda92);}(function(_0x175ac7,_0x956947){const _0x47b262=a0_0x31df,_0x5cd8b1=_0x175ac7();while(!![]){try{const _0x3260cc=parseInt(_0x47b262(0x5ea))/0x1+parseInt(_0x47b262(0x491))/0x2+parseInt(_0x47b262(0x72a))/0x3*(-parseInt(_0x47b262(0x7b5))/0x4)+-parseInt(_0x47b262(0x6d2))/0x5+-parseInt(_0x47b262(0x2a1))/0x6+parseInt(_0x47b262(0x2b6))/0x7*(parseInt(_0x47b262(0x24b))/0x8)+parseInt(_0x47b262(0x58a))/0x9;if(_0x3260cc===_0x956947)break;else _0x5cd8b1['push'](_0x5cd8b1['shift']());}catch(_0x174b51){_0x5cd8b1['push'](_0x5cd8b1['shift']());}}}(a0_0x4ef4,0x92923));var _o=Object[a0_0x4c7c55(0x71f)],Ie=Object[a0_0x4c7c55(0x4ec)],Po=Object[a0_0x4c7c55(0x737)],$o=Object[a0_0x4c7c55(0x2e7)],ko=Object[a0_0x4c7c55(0x685)],Lo=Object[a0_0x4c7c55(0x6aa)][a0_0x4c7c55(0x713)],jo=(_0x43c6ca,_0x1d531d)=>{for(var _0x1864b2 in _0x1d531d)Ie(_0x43c6ca,_0x1864b2,{'get':_0x1d531d[_0x1864b2],'enumerable':!0x0});},xs=(_0x321419,_0x4a579d,_0x2176a7,_0x5180fd)=>{const _0x59b929=a0_0x4c7c55;if(_0x4a579d&&typeof _0x4a579d==_0x59b929(0x4b4)||typeof _0x4a579d==_0x59b929(0x830)){for(let _0x2c5411 of $o(_0x4a579d))!Lo[_0x59b929(0x7f7)](_0x321419,_0x2c5411)&&_0x2c5411!==_0x2176a7&&Ie(_0x321419,_0x2c5411,{'get':()=>_0x4a579d[_0x2c5411],'enumerable':!(_0x5180fd=Po(_0x4a579d,_0x2c5411))||_0x5180fd[_0x59b929(0x6ac)]});}return _0x321419;},R=(_0x567100,_0x4beebd,_0x28083a)=>(_0x28083a=_0x567100!=null?_o(ko(_0x567100)):{},xs(_0x4beebd||!_0x567100||!_0x567100[a0_0x4c7c55(0x420)]?Ie(_0x28083a,a0_0x4c7c55(0x697),{'value':_0x567100,'enumerable':!0x0}):_0x28083a,_0x567100)),Fo=_0x31c34a=>xs(Ie({},a0_0x4c7c55(0x420),{'value':!0x0}),_0x31c34a),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x4c7c55(0x63a)]=Fo(zr);var To=R(require('compression')),_s=require('fs'),Ps=require('js-yaml'),$s=require('path'),xe=require(a0_0x4c7c55(0x1fa)),ae=process[a0_0x4c7c55(0x380)](),he=(0x0,xe[a0_0x4c7c55(0x1c0)])(ae,a0_0x4c7c55(0x1c4)),Ds=(0x0,xe[a0_0x4c7c55(0x1c0)])(ae,a0_0x4c7c55(0x3b9)),Ui=(0x0,xe[a0_0x4c7c55(0x1c0)])(ae,a0_0x4c7c55(0x714),a0_0x4c7c55(0x438)),Zt=class{constructor(){this['loadEnv']();}[a0_0x4c7c55(0x448)](_0x4e70f6){const _0x3f7c78=a0_0x4c7c55;return this[_0x3f7c78(0x567)][_0x4e70f6];}[a0_0x4c7c55(0x5f5)](){const _0x1b97b1=a0_0x4c7c55;this[_0x1b97b1(0x567)]=process[_0x1b97b1(0x567)]?.['DOCKER_ENV']!==_0x1b97b1(0x7fc)?this[_0x1b97b1(0x568)]():this['envProcess'](),process[_0x1b97b1(0x567)]?.[_0x1b97b1(0x513)]==='true'&&(this[_0x1b97b1(0x567)][_0x1b97b1(0x65a)][_0x1b97b1(0x59d)]=_0x1b97b1(0x3a6),this[_0x1b97b1(0x567)][_0x1b97b1(0x65a)]['PORT']=Number['parseInt'](process[_0x1b97b1(0x567)]?.[_0x1b97b1(0x39f)]??_0x1b97b1(0x2ea)));}[a0_0x4c7c55(0x568)](){const _0x38b4d7=a0_0x4c7c55;return(0x0,Ps['load'])((0x0,_s[_0x38b4d7(0x7d3)])((0x0,$s['join'])(Ds,_0x38b4d7(0x6a7)),{'encoding':_0x38b4d7(0x323)}));}[a0_0x4c7c55(0x789)](){const _0x3366b8=a0_0x4c7c55;return{'SERVER':{'TYPE':process[_0x3366b8(0x567)]['SERVER_TYPE'],'PORT':Number[_0x3366b8(0x76e)](process[_0x3366b8(0x567)]['SERVER_PORT']),'URL':process[_0x3366b8(0x567)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x3366b8(0x567)][_0x3366b8(0x37b)][_0x3366b8(0x81e)](','),'METHODS':process[_0x3366b8(0x567)][_0x3366b8(0x749)][_0x3366b8(0x81e)](','),'CREDENTIALS':process[_0x3366b8(0x567)]?.[_0x3366b8(0x5f1)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x3366b8(0x567)]?.[_0x3366b8(0x769)],'FULLCHAIN':process[_0x3366b8(0x567)]?.[_0x3366b8(0x3c5)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x3366b8(0x567)]?.[_0x3366b8(0x224)])?Number[_0x3366b8(0x76e)](process[_0x3366b8(0x567)][_0x3366b8(0x224)]):void 0x0,'MESSAGES':process[_0x3366b8(0x567)]?.[_0x3366b8(0x832)]===_0x3366b8(0x7fc),'CONTACTS':process[_0x3366b8(0x567)]?.[_0x3366b8(0x61a)]==='true','CHATS':process['env']?.[_0x3366b8(0x489)]===_0x3366b8(0x7fc)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3366b8(0x567)]?.[_0x3366b8(0x31d)],'PORT':Number[_0x3366b8(0x76e)](process[_0x3366b8(0x567)]?.[_0x3366b8(0x31d)]),'USER':process[_0x3366b8(0x567)][_0x3366b8(0x39c)],'PASSWORD':process[_0x3366b8(0x567)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x3366b8(0x567)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x3366b8(0x2e3)]},'ENABLED':process[_0x3366b8(0x567)]?.[_0x3366b8(0x267)]===_0x3366b8(0x7fc)},'REDIS':{'ENABLED':process[_0x3366b8(0x567)]?.[_0x3366b8(0x550)]===_0x3366b8(0x7fc),'URI':process[_0x3366b8(0x567)][_0x3366b8(0x7b9)]||'redis://127.0.0.1:6379','PREFIX_KEY':process['env'][_0x3366b8(0x6fa)]||'uazapi'},'LOG':{'LEVEL':process[_0x3366b8(0x567)]?.[_0x3366b8(0x1e6)][_0x3366b8(0x81e)](','),'COLOR':process[_0x3366b8(0x567)]?.[_0x3366b8(0x58f)]==='true'},'PROXY':process['env']?.[_0x3366b8(0x44f)]===_0x3366b8(0x7fc),'AUTHENTICATION':{'TYPE':process[_0x3366b8(0x567)][_0x3366b8(0x7da)],'API_KEY':{'KEY':process['env'][_0x3366b8(0x6f1)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x3366b8(0x567)]?.[_0x3366b8(0x79b)])?Number[_0x3366b8(0x76e)](process[_0x3366b8(0x567)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x3366b8(0x567)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Zt(),Ao=R(require(a0_0x4c7c55(0x5e3))),pe=R(require(a0_0x4c7c55(0x521))),Os=require('path'),es=R(require(a0_0x4c7c55(0x846))),ts=(_0x3821e4=>(_0x3821e4[a0_0x4c7c55(0x730)]=a0_0x4c7c55(0x341),_0x3821e4[a0_0x4c7c55(0x4f9)]=a0_0x4c7c55(0x412),_0x3821e4[a0_0x4c7c55(0x5f9)]='\x1b[33m',_0x3821e4['ERROR']=a0_0x4c7c55(0x586),_0x3821e4[a0_0x4c7c55(0x7e4)]=a0_0x4c7c55(0x33b),_0x3821e4[a0_0x4c7c55(0x3cc)]=a0_0x4c7c55(0x6f2),_0x3821e4[a0_0x4c7c55(0x5aa)]='\x1b[30m',_0x3821e4))(ts||{}),ks=(_0x23e5c7=>(_0x23e5c7[a0_0x4c7c55(0x730)]=a0_0x4c7c55(0x34e),_0x23e5c7[a0_0x4c7c55(0x5aa)]=a0_0x4c7c55(0x663),_0x23e5c7[a0_0x4c7c55(0x4f9)]=a0_0x4c7c55(0x793),_0x23e5c7[a0_0x4c7c55(0x5f9)]=a0_0x4c7c55(0x472),_0x23e5c7[a0_0x4c7c55(0x33a)]=a0_0x4c7c55(0x30d),_0x23e5c7['DEBUG']=a0_0x4c7c55(0x55b),_0x23e5c7[a0_0x4c7c55(0x3cc)]=a0_0x4c7c55(0x649),_0x23e5c7))(ks||{}),Ls=(_0x36ba2f=>(_0x36ba2f['LOG']=a0_0x4c7c55(0x730),_0x36ba2f[a0_0x4c7c55(0x5f9)]=a0_0x4c7c55(0x5f9),_0x36ba2f[a0_0x4c7c55(0x4f9)]=a0_0x4c7c55(0x4f9),_0x36ba2f[a0_0x4c7c55(0x5aa)]=a0_0x4c7c55(0x5aa),_0x36ba2f[a0_0x4c7c55(0x33a)]=a0_0x4c7c55(0x33a),_0x36ba2f[a0_0x4c7c55(0x7e4)]='DEBUG',_0x36ba2f[a0_0x4c7c55(0x3cc)]='VERBOSE',_0x36ba2f))(Ls||{}),js=(_0x3baed8=>(_0x3baed8[a0_0x4c7c55(0x730)]='\x1b[42m',_0x3baed8[a0_0x4c7c55(0x4f9)]=a0_0x4c7c55(0x6c2),_0x3baed8[a0_0x4c7c55(0x5f9)]='\x1b[43m',_0x3baed8[a0_0x4c7c55(0x5aa)]='\x1b[40m',_0x3baed8[a0_0x4c7c55(0x33a)]='\x1b[41m',_0x3baed8[a0_0x4c7c55(0x7e4)]=a0_0x4c7c55(0x765),_0x3baed8[a0_0x4c7c55(0x3cc)]=a0_0x4c7c55(0x7c4),_0x3baed8))(js||{}),v=class{constructor(_0x510900=a0_0x4c7c55(0x1de)){const _0x539943=a0_0x4c7c55;this[_0x539943(0x328)]=_0x510900,this['configService']=b;}[a0_0x4c7c55(0x6c8)](_0x221f4d){this['context']=_0x221f4d;}['console'](_0x1ef201,_0x5725b3){const _0x1a13c3=a0_0x4c7c55;let _0x26fb98=[];this[_0x1a13c3(0x2fb)][_0x1a13c3(0x448)](_0x1a13c3(0x730))[_0x1a13c3(0x400)]['forEach'](_0x375123=>_0x26fb98[_0x1a13c3(0x56b)](Ls[_0x375123]));let _0x496bb4=typeof _0x1ef201;_0x26fb98[_0x1a13c3(0x606)](_0x5725b3)&&(b[_0x1a13c3(0x448)](_0x1a13c3(0x730))[_0x1a13c3(0x23c)]?(console[_0x1a13c3(0x219)](_0x1a13c3(0x60b)+ks[_0x5725b3],_0x1a13c3(0x41d),(0x0,es[_0x1a13c3(0x697)])()[_0x1a13c3(0x2e9)](_0x1a13c3(0x575)),_0x1a13c3(0x41e),ts[_0x5725b3]+js[_0x5725b3]+_0x1a13c3(0x60b),_0x5725b3+'\x20\x1b[0m',_0x1a13c3(0x585),this[_0x1a13c3(0x328)]+_0x1a13c3(0x41e),ts[_0x5725b3],_0x496bb4!==_0x1a13c3(0x4b4)?_0x1ef201:'',_0x1a13c3(0x41e)),_0x496bb4===_0x1a13c3(0x4b4)&&console[_0x1a13c3(0x219)](_0x1ef201,'\x0a')):console[_0x1a13c3(0x219)]((0x0,es[_0x1a13c3(0x697)])()[_0x1a13c3(0x2e9)]('HH:mm:ss'),_0x5725b3+'\x20',''+this[_0x1a13c3(0x328)],_0x1ef201));}['log'](_0x1652f3){const _0x20a788=a0_0x4c7c55;this[_0x20a788(0x64b)](_0x1652f3,_0x20a788(0x730));}['info'](_0x125a40){this['console'](_0x125a40,'INFO');}['warn'](_0x58e4ce){const _0x4d80bc=a0_0x4c7c55;this['console'](_0x58e4ce,_0x4d80bc(0x5f9));}[a0_0x4c7c55(0x546)](_0x13f260){const _0x29d55d=a0_0x4c7c55;this[_0x29d55d(0x64b)](_0x13f260,_0x29d55d(0x33a));}[a0_0x4c7c55(0x800)](_0x182090){const _0x3f5831=a0_0x4c7c55;this[_0x3f5831(0x64b)](_0x182090,'VERBOSE');}[a0_0x4c7c55(0x7d5)](_0x56f413){const _0x4719e5=a0_0x4c7c55;this[_0x4719e5(0x64b)](_0x56f413,'DEBUG');}[a0_0x4c7c55(0x6fd)](_0x552e4e){const _0x4b21aa=a0_0x4c7c55;this[_0x4b21aa(0x64b)](_0x552e4e,_0x4b21aa(0x5aa));}};function Fs(){const _0x1a9082=a0_0x4c7c55;process['on']('uncaughtException',(_0x96ca7d,_0x4079fe)=>{const _0x5e664b=a0_0x31df;new v('uncaughtException')[_0x5e664b(0x546)]({'origin':_0x4079fe,'stderr':process[_0x5e664b(0x5c5)]['fd'],'error':_0x96ca7d});}),process['on'](_0x1a9082(0x7dc),(_0x542564,_0x14a62a)=>{const _0x3ea42c=_0x1a9082;new v('unhandledRejection')[_0x3ea42c(0x546)]({'origin':_0x14a62a,'stderr':process['stderr']['fd'],'error':_0x542564});});}var qs=R(require(a0_0x4c7c55(0x485))),ss=new qs[(a0_0x4c7c55(0x697))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),as=R(require(a0_0x4c7c55(0x2de))),qo=new v(a0_0x4c7c55(0x2fd)),V=b[a0_0x4c7c55(0x448)](a0_0x4c7c55(0x1d2)),N=V[a0_0x4c7c55(0x2b0)]?V['CONNECTION']['URI']?as[a0_0x4c7c55(0x697)][a0_0x4c7c55(0x6f7)](V[a0_0x4c7c55(0x4aa)][a0_0x4c7c55(0x576)],{'dbName':V[a0_0x4c7c55(0x4aa)][a0_0x4c7c55(0x6d5)]+a0_0x4c7c55(0x4e1)}):as[a0_0x4c7c55(0x697)][a0_0x4c7c55(0x6f7)](a0_0x4c7c55(0x379)+V[a0_0x4c7c55(0x4aa)]['HOST']+':'+V['CONNECTION']['PORT']+a0_0x4c7c55(0x34b),{'user':V[a0_0x4c7c55(0x4aa)][a0_0x4c7c55(0x4cf)],'pass':V[a0_0x4c7c55(0x4aa)][a0_0x4c7c55(0x4d1)],'dbName':V['CONNECTION'][a0_0x4c7c55(0x6d5)]+a0_0x4c7c55(0x4e1)}):null;V['ENABLED']&&qo[a0_0x4c7c55(0x39b)](a0_0x4c7c55(0x7c0)+N[a0_0x4c7c55(0x668)]);var Uo=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x4c7c55(0x83c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0xf5c816=>{const _0x59e5e4=a0_0x4c7c55;let _0x249858='z_'+_0xf5c816+_0x59e5e4(0x423);return N?.[_0x59e5e4(0x422)](_0x59e5e4(0x25e),Vo,_0x249858);},Js=require(a0_0x4c7c55(0x2de)),Bo=new Js[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x1ff32e=>{const _0x1a788e=a0_0x4c7c55;let _0x5ea086='z_'+_0x1ff32e+'_Contacts';return N?.[_0x1a788e(0x422)](_0x1a788e(0x6e5),Bo,_0x5ea086);},Bs=require(a0_0x4c7c55(0x2de)),Go=new Bs[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x2a26c0=>{const _0x1f8f10=a0_0x4c7c55;let _0xb24be5='z_'+_0x2a26c0+_0x1f8f10(0x684);return N?.[_0x1f8f10(0x422)](_0x1f8f10(0x5dc),Go,_0xb24be5);},Ws=require(a0_0x4c7c55(0x2de)),os=class{},Wo=new Ws[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x4c7c55(0x422)](os[a0_0x4c7c55(0x6ca)],Wo,a0_0x4c7c55(0x4e4)),Hs=require('mongoose'),rs=class{},Ks=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x4c7c55(0x45f)](a0_0x4c7c55(0x778),function(_0x40bb0d){const _0x371721=a0_0x4c7c55;delete this[_0x371721(0x7ce)],delete this[_0x371721(0x5fd)],delete this[_0x371721(0x723)],delete this[_0x371721(0x35d)],delete this[_0x371721(0x416)],_0x40bb0d();});var Qs=N?.[a0_0x4c7c55(0x422)](rs[a0_0x4c7c55(0x6ca)],Ks,a0_0x4c7c55(0x4f1)),_=require(a0_0x4c7c55(0x2de)),_e=class{},Ys=new _[(a0_0x4c7c55(0x83c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x4c7c55(0x83c))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4c7c55(0x3e4)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x4c7c55(0x61e)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x4c7c55(0x83c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0x4c7c55(0x83c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x4c7c55(0x83c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x41fb51=a0_0x4c7c55;return _0x41fb51(0x7f3)+Math[_0x41fb51(0x675)]()[_0x41fb51(0x2b4)](0x24)[_0x41fb51(0x33c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps['pre'](a0_0x4c7c55(0x778),function(_0x543d53){const _0xe4ea44=a0_0x4c7c55;let _0x278dbf=new Set(),_0x1b918e=new Set(this[_0xe4ea44(0x707)]?.[_0xe4ea44(0x4df)](_0x192a56=>_0x192a56[_0xe4ea44(0x6ca)])),_0x35d07a=JSON[_0xe4ea44(0x6c4)](this),_0xefe847=/{{(?!_)([^}]*)}}/g,_0x37a202;for(;(_0x37a202=_0xefe847[_0xe4ea44(0x78b)](_0x35d07a))!==null;)_0x1b918e[_0xe4ea44(0x42b)](_0x37a202[0x1])||_0x278dbf[_0xe4ea44(0x512)](_0x37a202[0x1]);_0x278dbf[_0xe4ea44(0x269)]>0x0?(console[_0xe4ea44(0x244)](_0xe4ea44(0x68b),Array[_0xe4ea44(0x527)](_0x278dbf)),this[_0xe4ea44(0x5d1)]=Array[_0xe4ea44(0x527)](_0x278dbf)):this[_0xe4ea44(0x5d1)]=[],_0x543d53();});var ta=_0x1ddf58=>{const _0x362c5b=a0_0x4c7c55;let _0x25503d='z_'+_0x1ddf58+_0x362c5b(0x43d);return N?.[_0x362c5b(0x422)](_0x362c5b(0x314),ps,_0x25503d);},sa=N?.[a0_0x4c7c55(0x422)](ns[a0_0x4c7c55(0x6ca)],ps,a0_0x4c7c55(0x4e8)),Qo=new _[(a0_0x4c7c55(0x83c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4c7c55(0x493)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0xac59f1=>{const _0x555a65=a0_0x4c7c55;let _0x22720d='z_'+_0xac59f1+_0x555a65(0x29a);return N?.[_0x555a65(0x422)](_0x555a65(0x3ff),aa,_0x22720d);},ra=N?.[a0_0x4c7c55(0x422)](cs['name'],aa,'flowConversation'),ls=class{},Yo=new _[(a0_0x4c7c55(0x83c))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x4c7c55(0x83c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x4c7c55(0x83c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x4c7c55(0x6de)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3418ca=>{const _0x26eba7=a0_0x4c7c55;let _0x3f6dd5='z_'+_0x3418ca+_0x26eba7(0x7a8);return N?.[_0x26eba7(0x422)](_0x26eba7(0x777),ia,_0x3f6dd5);},ca=N?.[a0_0x4c7c55(0x422)](ls['name'],ia,'scheduleMessages'),us=class{},Zo=new _[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x4c7c55(0x83c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4c7c55(0x6da)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x4c7c55(0x422)](us[a0_0x4c7c55(0x6ca)],sr,'AutomateSystem'),la=require('mongoose'),ar=new la[(a0_0x4c7c55(0x83c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x3f5d06=>{const _0x42f390=a0_0x4c7c55;let _0x18548e='z_'+_0x3f5d06+'_Labels';return N?.['model'](_0x42f390(0x75a),ar,_0x18548e);},I=class{constructor(_0x5d697b){const _0x2215cc=a0_0x4c7c55;this['dbSettings']=_0x5d697b['get'](_0x2215cc(0x1d2));}};function A(_0x53e44a){const _0x51565e=a0_0x4c7c55;let _0x284cdc={};for(let [_0x314531,_0x311422]of Object[_0x51565e(0x48c)](_0x53e44a))if(typeof _0x311422==_0x51565e(0x4b4)&&!Array[_0x51565e(0x5be)](_0x311422)){for(let [_0x56cb11,_0x5f0dc6]of Object[_0x51565e(0x48c)](_0x311422))_0x284cdc[_0x314531+'.'+_0x56cb11]=_0x5f0dc6;}else _0x284cdc[_0x314531]=_0x311422;return _0x284cdc;}var $e=class{constructor(_0x46316c,_0x346c91,_0x5ed927,_0xcc91cc,_0x3b2727,_0x27e293,_0x50da09,_0x41fe48,_0x1f6810,_0x4e8b16,_0x3f5417){const _0x5886cc=a0_0x4c7c55;this[_0x5886cc(0x372)]=_0x46316c,this[_0x5886cc(0x4a2)]=_0x346c91,this[_0x5886cc(0x51f)]=_0x5ed927,this[_0x5886cc(0x4f1)]=_0xcc91cc,this[_0x5886cc(0x438)]=_0x3b2727,this[_0x5886cc(0x4e8)]=_0x27e293,this[_0x5886cc(0x26d)]=_0x50da09,this[_0x5886cc(0x671)]=_0x41fe48,this[_0x5886cc(0x72f)]=_0x1f6810,this[_0x5886cc(0x213)]=_0x4e8b16,this[_0x5886cc(0x7b7)]=_0x3f5417;}get[a0_0x4c7c55(0x6bd)](){const _0x557bb2=a0_0x4c7c55;return this[_0x557bb2(0x7b7)];}},ke=class{},Le=class extends I{['getMessageModelForOwner'](_0x2d140c){return Gs(_0x2d140c);}async[a0_0x4c7c55(0x2e5)](_0x862598,_0x53fde8){const _0x522fc2=a0_0x4c7c55;if(_0x862598[_0x522fc2(0x676)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x522fc2(0x6d3)](_0x53fde8)[_0x522fc2(0x79c)]([..._0x862598]))[_0x522fc2(0x676)]};}catch(_0x5a82a2){return _0x5a82a2;}}async[a0_0x4c7c55(0x557)](_0x58b05a,_0x59ab48){const _0x4f342d=a0_0x4c7c55;try{let _0x56bac8=this[_0x4f342d(0x6d3)](_0x59ab48),_0x1a3cfc=A(_0x58b05a[_0x4f342d(0x54e)]);return await _0x56bac8['find'](_0x1a3cfc)[_0x4f342d(0x442)]({'messageTimestamp':-0x1})['limit'](_0x58b05a?.[_0x4f342d(0x6f9)]??0x0)[_0x4f342d(0x817)]();}catch{return[];}}async['delete'](_0x3661f9,_0x13f4bc){const _0x2336b0=a0_0x4c7c55;try{let _0x4c0b21=this[_0x2336b0(0x6d3)](_0x13f4bc),_0xdfd911=A(_0x3661f9[_0x2336b0(0x54e)]);await _0x4c0b21[_0x2336b0(0x537)](_0xdfd911);}catch(_0x32650a){console[_0x2336b0(0x546)](_0x32650a);}}async['update'](_0x2e338a,_0xc38b1f,_0x33f477){const _0x22b8d7=a0_0x4c7c55;try{let _0x133b3d=this[_0x22b8d7(0x6d3)](_0x33f477),_0x4dbcac=A(_0x2e338a[_0x22b8d7(0x54e)]);return await _0x133b3d['findOneAndUpdate'](_0x4dbcac,{'$set':_0xc38b1f},{'new':!0x0});}catch(_0x2c5652){throw console[_0x22b8d7(0x546)](_0x2c5652),_0x2c5652;}}async[a0_0x4c7c55(0x79c)](_0x3c6d30,_0x131705){const _0x4e00d6=a0_0x4c7c55;if(_0x3c6d30[_0x4e00d6(0x676)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4e00d6(0x6d3)](_0x131705)[_0x4e00d6(0x79c)]([..._0x3c6d30]))[_0x4e00d6(0x676)]};}catch(_0x174e47){return console[_0x4e00d6(0x219)](_0x4e00d6(0x689),_0x174e47),_0x174e47;}}async['deleteAll'](_0x41d1ec){const _0x3a176e=a0_0x4c7c55;try{return await this['getMessageModelForOwner'](_0x41d1ec)[_0x3a176e(0x5bb)]['drop'](),{'success':!0x0};}catch(_0x2b892e){return console[_0x3a176e(0x546)](_0x2b892e),{'success':!0x1,'error':_0x2b892e};}}},wo=R(require('@ffmpeg-installer/ffmpeg')),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require('path')),se=R(require(a0_0x4c7c55(0x4c0))),yo=require(a0_0x4c7c55(0x37c)),bo=R(require(a0_0x4c7c55(0x43c))),So=R(require(a0_0x4c7c55(0x7b4))),da=[a0_0x4c7c55(0x3ba),'documentMessage',a0_0x4c7c55(0x254),'videoMessage','stickerMessage'],pa=[a0_0x4c7c55(0x3ea),a0_0x4c7c55(0x5c1),a0_0x4c7c55(0x55d),a0_0x4c7c55(0x289)],Ss=require('os'),Ot=R(require(a0_0x4c7c55(0x7a2))),_t=require('child_process'),It=require(a0_0x4c7c55(0x7b0)),ie=R(require(a0_0x4c7c55(0x2de))),k=require(a0_0x4c7c55(0x44a)),me=class{constructor(_0x1f19b2,_0x364a75,_0x7b1678){const _0x2b55ad=a0_0x4c7c55;this[_0x2b55ad(0x50a)]=_0x1f19b2,this['exists']=_0x364a75,this[_0x2b55ad(0x6ca)]=_0x7b1678;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x4c7c55(0x521))),ga=require('fs'),ha=require(a0_0x4c7c55(0x1fa));async function We(_0x3827fc){const _0xd1844c=a0_0x4c7c55;let _0x589155=B[_0xd1844c(0x3de)][_0x3827fc];if(V[_0xd1844c(0x2b0)]){let _0x8c918b=N['getClient']()['db'](V[_0xd1844c(0x4aa)][_0xd1844c(0x6d5)]+_0xd1844c(0x825))[_0xd1844c(0x5bb)](_0x3827fc);return _0x589155||(await _0x8c918b[_0xd1844c(0x557)]({})[_0xd1844c(0x249)]())[_0xd1844c(0x676)]>0x0;}return _0x589155||(0x0,ga[_0xd1844c(0x37e)])((0x0,ha['join'])(he,_0x3827fc));}async function ma(_0x13f6ba,_0x217611,_0x34eacc){const _0x19730a=a0_0x4c7c55;if(_0x13f6ba[_0x19730a(0x7f0)]['includes'](_0x19730a(0x21f))||_0x13f6ba[_0x19730a(0x7f0)][_0x19730a(0x606)](_0x19730a(0x83b))||_0x13f6ba[_0x19730a(0x7f0)][_0x19730a(0x606)](_0x19730a(0x330))||_0x13f6ba[_0x19730a(0x7f0)][_0x19730a(0x606)](_0x19730a(0x665))||_0x13f6ba[_0x19730a(0x7f0)][_0x19730a(0x606)](_0x19730a(0x25a))||_0x13f6ba[_0x19730a(0x7f0)]['includes'](_0x19730a(0x28f))||_0x13f6ba['originalUrl'][_0x19730a(0x606)](_0x19730a(0x61f)))return _0x34eacc();let _0x459b77=_0x13f6ba['params'];if(!_0x459b77?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await We(_0x459b77[_0x19730a(0x515)]))throw new j(_0x19730a(0x53e)+_0x459b77['instanceName']+_0x19730a(0x3e3));_0x34eacc();}async function fa(_0x3fe93a,_0x3c8fbc,_0x37bffb){const _0x180ae2=a0_0x4c7c55;if(_0x3fe93a[_0x180ae2(0x7f0)]['includes']('/instance/create')){let _0x21b408=_0x3fe93a[_0x180ae2(0x2aa)];if(await We(_0x21b408['instanceName']))throw new K('This\x20name\x20'+_0x21b408[_0x180ae2(0x515)]+_0x180ae2(0x2e2));B['waInstances'][_0x21b408[_0x180ae2(0x515)]]&&delete B[_0x180ae2(0x3de)][_0x21b408['instanceName']];}_0x37bffb();}var wa=require(a0_0x4c7c55(0x44a)),ya=R(require(a0_0x4c7c55(0x827))),ze=a0_0x4c7c55(0x229),rr=new v(a0_0x4c7c55(0x80b));async function ir(_0x2b400b,_0x1c5f63,_0x2f61bc){const _0x27dfdc=a0_0x4c7c55;let _0x356e8a=_0x2b400b[_0x27dfdc(0x448)](_0x27dfdc(0x64d));if(_0x356e8a&&b[_0x27dfdc(0x448)](_0x27dfdc(0x3a3))['API_KEY']['KEY']!==_0x356e8a)throw new ee();if(b['get'](_0x27dfdc(0x3a3))['API_KEY'][_0x27dfdc(0x20c)]===_0x356e8a)return _0x2f61bc();if((_0x2b400b[_0x27dfdc(0x7f0)]['includes']('/instance/create')||_0x2b400b[_0x27dfdc(0x7f0)][_0x27dfdc(0x606)](_0x27dfdc(0x83b)))&&!_0x356e8a)throw new K(_0x27dfdc(0x7bb),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x281a73=b[_0x27dfdc(0x448)](_0x27dfdc(0x3a3))[_0x27dfdc(0x444)];try{let [_0x47896a,_0x2d8a0]=_0x2b400b['get'](_0x27dfdc(0x20e))[_0x27dfdc(0x81e)]('\x20');if(_0x47896a['toLowerCase']()!==_0x27dfdc(0x286))throw new ee();if(!(0x0,wa[_0x27dfdc(0x3ac)])(_0x2d8a0))throw new ee();let _0x41faf3=_0x2b400b[_0x27dfdc(0x705)],_0x59803c=ya[_0x27dfdc(0x697)]['verify'](_0x2d8a0,_0x281a73[_0x27dfdc(0x42e)],{'ignoreExpiration':_0x281a73[_0x27dfdc(0x273)]===0x0});if(_0x41faf3[_0x27dfdc(0x515)]!==_0x59803c[_0x27dfdc(0x515)]||ze!==_0x59803c[_0x27dfdc(0x350)])throw new ee();return _0x2f61bc();}catch(_0x29f809){throw rr['error'](_0x29f809),new ee();}}async function nr(_0x318ec6,_0x5424fd,_0x128272){const _0x4f8643=a0_0x4c7c55;let _0x4da71e=b[_0x4f8643(0x448)](_0x4f8643(0x3a3))[_0x4f8643(0x77e)],_0x323f17=_0x318ec6[_0x4f8643(0x448)]('apikey');if(_0x4da71e[_0x4f8643(0x20c)]===_0x323f17)return _0x128272();if(_0x318ec6[_0x4f8643(0x7f0)]['includes'](_0x4f8643(0x21f))){let _0x758339=He,_0x402dd0=_0x318ec6[_0x4f8643(0x2aa)][_0x4f8643(0x515)];if(_0x758339&&_0x402dd0[_0x4f8643(0x61d)]()[_0x4f8643(0x3fd)](_0x758339[_0x4f8643(0x61d)]()))return _0x128272();if(!_0x323f17)throw new K(_0x4f8643(0x7bb),_0x4f8643(0x4dd));}if(_0x318ec6[_0x4f8643(0x7f0)][_0x4f8643(0x606)](_0x4f8643(0x83b))&&!_0x323f17)throw new K('Missing\x20global\x20api\x20key',_0x4f8643(0x4dd));if(_0x318ec6[_0x4f8643(0x7f0)]['includes'](_0x4f8643(0x330))&&!_0x323f17)throw new K(_0x4f8643(0x7bb),_0x4f8643(0x4dd));if(_0x318ec6['originalUrl'][_0x4f8643(0x606)]('/config')&&!_0x323f17)throw new K(_0x4f8643(0x7bb),_0x4f8643(0x4dd));try{let _0xce1ec7=_0x318ec6[_0x4f8643(0x705)];if((await ce[_0x4f8643(0x438)][_0x4f8643(0x557)](_0xce1ec7[_0x4f8643(0x515)]))[_0x4f8643(0x64d)]===_0x323f17)return _0x128272();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require('express'),C=require(a0_0x4c7c55(0x37c)),S=(..._0x5e9daa)=>{const _0x1c769a=a0_0x4c7c55;let _0x5e254e={};return _0x5e9daa['forEach'](_0x4bbabc=>_0x5e254e[_0x4bbabc]={'minLength':0x1,'description':_0x1c769a(0x386)+_0x4bbabc+_0x1c769a(0x4b2)}),{'if':{'propertyNames':{'enum':[..._0x5e9daa]}},'then':{'properties':_0x5e254e}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'instanceName':{'type':a0_0x4c7c55(0x6ed)}},...S(a0_0x4c7c55(0x515))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'oldToken':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x824)],...S(a0_0x4c7c55(0x824))},Kn={'properties':{'key':{'type':a0_0x4c7c55(0x4b4),'properties':{'id':{'type':a0_0x4c7c55(0x6ed)},'remoteJid':{'type':a0_0x4c7c55(0x6ed)},'fromMe':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...S('id','remoteJid')},'message':{'type':a0_0x4c7c55(0x4b4)}}},Q={'properties':{'delay':{'type':a0_0x4c7c55(0x7e5),'description':a0_0x4c7c55(0x331)},'presence':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x7cf),'available',a0_0x4c7c55(0x553),a0_0x4c7c55(0x370),a0_0x4c7c55(0x4ae)]}}},z={'type':a0_0x4c7c55(0x6ed),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x4c7c55(0x820)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x55e)],...S('text')}},'required':[a0_0x4c7c55(0x2d4),a0_0x4c7c55(0x394)]},Ea={'type':a0_0x4c7c55(0x6ed),'pattern':a0_0x4c7c55(0x706),'description':a0_0x4c7c55(0x820)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'text':{'type':'string'}},'required':[a0_0x4c7c55(0x55e)],...S(a0_0x4c7c55(0x55e))}},'required':[a0_0x4c7c55(0x2d4),a0_0x4c7c55(0x394)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'mediatype':{'type':'string','enum':[a0_0x4c7c55(0x504),a0_0x4c7c55(0x549),a0_0x4c7c55(0x28e),'audio']},'media':{'type':a0_0x4c7c55(0x6ed)},'fileName':{'type':a0_0x4c7c55(0x6ed)},'caption':{'type':a0_0x4c7c55(0x6ed)}},'required':['mediatype','media'],...S(a0_0x4c7c55(0x1bd),a0_0x4c7c55(0x6fb),a0_0x4c7c55(0x411))}},'required':[a0_0x4c7c55(0x6cc),a0_0x4c7c55(0x394)]},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'image':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x504)],...S(a0_0x4c7c55(0x504))}},'required':[a0_0x4c7c55(0x4fb),a0_0x4c7c55(0x394)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'statusMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'type':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x55e),'image',a0_0x4c7c55(0x3b1),a0_0x4c7c55(0x28e)]},'content':{'type':a0_0x4c7c55(0x6ed)},'caption':{'type':a0_0x4c7c55(0x6ed)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x4c7c55(0x7e5),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4c7c55(0x22b),'description':a0_0x4c7c55(0x673)}},'allContacts':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':[a0_0x4c7c55(0x23a),'content'],...S(a0_0x4c7c55(0x23a),a0_0x4c7c55(0x7f6))}},'required':[a0_0x4c7c55(0x268)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'mediatype':{'type':a0_0x4c7c55(0x6ed),'enum':['image',a0_0x4c7c55(0x549),'video','audio']},'media':{'type':a0_0x4c7c55(0x6ed)},'fileName':{'type':a0_0x4c7c55(0x6ed)},'caption':{'type':'string'}},'required':[a0_0x4c7c55(0x7f2),a0_0x4c7c55(0x411)],...S(a0_0x4c7c55(0x1bd),a0_0x4c7c55(0x6fb),a0_0x4c7c55(0x411))}},'required':[a0_0x4c7c55(0x6cc),'number']},Na={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'audio':{'type':'string'}},'required':[a0_0x4c7c55(0x3b1)],...S(a0_0x4c7c55(0x3b1))}},'required':[a0_0x4c7c55(0x254),a0_0x4c7c55(0x394)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'pollMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'name':{'type':a0_0x4c7c55(0x6ed)},'selectableCount':{'type':a0_0x4c7c55(0x394)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4c7c55(0x729),a0_0x4c7c55(0x316)],...S(a0_0x4c7c55(0x6ca),a0_0x4c7c55(0x729),a0_0x4c7c55(0x316))}},'required':[a0_0x4c7c55(0x394),a0_0x4c7c55(0x7e2)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'menuMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'text':{'type':a0_0x4c7c55(0x6ed)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4c7c55(0x55e),a0_0x4c7c55(0x562)],...S(a0_0x4c7c55(0x55e),a0_0x4c7c55(0x562))}},'required':['number','menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'title':{'type':a0_0x4c7c55(0x6ed)},'description':{'type':a0_0x4c7c55(0x6ed)},'footerText':{'type':a0_0x4c7c55(0x6ed)},'buttons':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x4c7c55(0x6ed)},'buttonId':{'type':'string'}},'required':[a0_0x4c7c55(0x5ba),a0_0x4c7c55(0x540)],...S(a0_0x4c7c55(0x5ba),'buttonId')}},'mediaMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'media':{'type':a0_0x4c7c55(0x6ed)},'fileName':{'type':a0_0x4c7c55(0x6ed)},'mediatype':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x504),a0_0x4c7c55(0x549),a0_0x4c7c55(0x28e)]}},'required':['media',a0_0x4c7c55(0x7f2)],...S(a0_0x4c7c55(0x411),a0_0x4c7c55(0x1bd))}},'required':[a0_0x4c7c55(0x595),a0_0x4c7c55(0x1d3)],...S(a0_0x4c7c55(0x595),a0_0x4c7c55(0x680))}},'required':[a0_0x4c7c55(0x394),'buttonMessage']},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'latitude':{'type':a0_0x4c7c55(0x394)},'longitude':{'type':a0_0x4c7c55(0x394)},'name':{'type':a0_0x4c7c55(0x6ed)},'address':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x51a),a0_0x4c7c55(0x651)],...S(a0_0x4c7c55(0x6ca),a0_0x4c7c55(0x666))}},'required':[a0_0x4c7c55(0x394),a0_0x4c7c55(0x3c3)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x4c7c55(0x6ed)},'description':{'type':a0_0x4c7c55(0x6ed)},'footerText':{'type':a0_0x4c7c55(0x6ed)},'buttonText':{'type':a0_0x4c7c55(0x6ed)},'sections':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x4c7c55(0x6ed)},'rows':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x4c7c55(0x6ed)},'description':{'type':a0_0x4c7c55(0x6ed)},'rowId':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x595),a0_0x4c7c55(0x2b3)],...S(a0_0x4c7c55(0x595),a0_0x4c7c55(0x2b3))}}},'required':[a0_0x4c7c55(0x595),a0_0x4c7c55(0x1f7)],...S('title')}}},'required':[a0_0x4c7c55(0x595),a0_0x4c7c55(0x680),a0_0x4c7c55(0x5ba),a0_0x4c7c55(0x524)],...S(a0_0x4c7c55(0x595),a0_0x4c7c55(0x680),a0_0x4c7c55(0x5ba),a0_0x4c7c55(0x2fa))}},'required':['number',a0_0x4c7c55(0x481)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x4c7c55(0x835),'items':{'type':a0_0x4c7c55(0x4b4),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x4c7c55(0x6ed),'minLength':0xa}},'required':[a0_0x4c7c55(0x542),a0_0x4c7c55(0x27d)],...S('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4c7c55(0x394),a0_0x4c7c55(0x814)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'key':{'type':a0_0x4c7c55(0x4b4),'properties':{'id':{'type':a0_0x4c7c55(0x6ed)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4c7c55(0x7a1),a0_0x4c7c55(0x1f8)],...S('id','remoteJid')},'reaction':{'type':'string'}},'required':['key',a0_0x4c7c55(0x1fc)],...S(a0_0x4c7c55(0x1fc))}},'required':[a0_0x4c7c55(0x556)]},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c7c55(0x6ed),'pattern':a0_0x4c7c55(0x22b),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4c7c55(0x6ed)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4c7c55(0x6ed)}},'required':['id','fromMe',a0_0x4c7c55(0x7a1)],...S('id',a0_0x4c7c55(0x7a1))}}},'required':[a0_0x4c7c55(0x63f)]},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x4c7c55(0x4b4),'properties':{'readreceipts':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x5d6),a0_0x4c7c55(0x37a)]},'profile':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x5d6),a0_0x4c7c55(0x696),a0_0x4c7c55(0x5c3),a0_0x4c7c55(0x37a)]},'status':{'type':'string','enum':[a0_0x4c7c55(0x5d6),a0_0x4c7c55(0x696),a0_0x4c7c55(0x5c3),a0_0x4c7c55(0x37a)]},'online':{'type':'string','enum':[a0_0x4c7c55(0x5d6),a0_0x4c7c55(0x7ea)]},'last':{'type':'string','enum':['all',a0_0x4c7c55(0x696),'contact_blacklist',a0_0x4c7c55(0x37a)]},'groupadd':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x5d6),'contacts',a0_0x4c7c55(0x5c3),a0_0x4c7c55(0x37a)]}},'required':[a0_0x4c7c55(0x7c2),'profile',a0_0x4c7c55(0x2bf),a0_0x4c7c55(0x7db),a0_0x4c7c55(0x566),a0_0x4c7c55(0x308)],...S(a0_0x4c7c55(0x7c2),a0_0x4c7c55(0x246),a0_0x4c7c55(0x2bf),'online','last',a0_0x4c7c55(0x308))}},'required':[a0_0x4c7c55(0x3cb)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'lastMessage':{'type':a0_0x4c7c55(0x4b4),'properties':{'key':{'type':a0_0x4c7c55(0x4b4),'properties':{'id':{'type':a0_0x4c7c55(0x6ed)},'remoteJid':{'type':a0_0x4c7c55(0x6ed)},'fromMe':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...S('id',a0_0x4c7c55(0x7a1))},'messageTimestamp':{'type':a0_0x4c7c55(0x7e5),'minLength':0x1}},'required':[a0_0x4c7c55(0x399)],...S(a0_0x4c7c55(0x582))},'archive':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':[a0_0x4c7c55(0x539),a0_0x4c7c55(0x406)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'id':{'type':a0_0x4c7c55(0x6ed)},'fromMe':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4c7c55(0x6ed)},'participant':{'type':'string'}},'required':['id',a0_0x4c7c55(0x1f8),a0_0x4c7c55(0x7a1)],...S('id',a0_0x4c7c55(0x7a1),a0_0x4c7c55(0x464))},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4c7c55(0x4b4),'properties':{'_id':{'type':a0_0x4c7c55(0x6ed),'minLength':0x1},'pushName':{'type':a0_0x4c7c55(0x6ed),'minLength':0x1},'id':{'type':a0_0x4c7c55(0x6ed),'minLength':0x1}},...S(a0_0x4c7c55(0x40d),'id','pushName')}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'name':{'type':'string'}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'status':{'type':'string'}},...S('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{'type':a0_0x4c7c55(0x6ed)},'picture':{'type':a0_0x4c7c55(0x6ed)}}},Ua={'type':a0_0x4c7c55(0x4b4),'properties':{'wuid':{'type':a0_0x4c7c55(0x6ed)},'name':{'type':a0_0x4c7c55(0x6ed)},'picture':{'type':a0_0x4c7c55(0x6ed)},'status':{'type':a0_0x4c7c55(0x6ed)},'isBusiness':{'type':a0_0x4c7c55(0x73d)}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4c7c55(0x6ed),'minLength':0x1},'key':{'type':a0_0x4c7c55(0x4b4),'if':{'propertyNames':{'enum':[a0_0x4c7c55(0x1f8),a0_0x4c7c55(0x7a1),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x4c7c55(0x238)},'id':{'type':a0_0x4c7c55(0x6ed),'minLength':0x1,'description':a0_0x4c7c55(0x238)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4c7c55(0x4b4)}},...S(a0_0x4c7c55(0x40d))},'limit':{'type':a0_0x4c7c55(0x7e5)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'where':{'type':a0_0x4c7c55(0x4b4),'properties':{'_id':{'type':a0_0x4c7c55(0x6ed)},'remoteJid':{'type':a0_0x4c7c55(0x6ed)},'id':{'type':a0_0x4c7c55(0x6ed)},'fromMe':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x33a),a0_0x4c7c55(0x418),a0_0x4c7c55(0x501),a0_0x4c7c55(0x7d0),a0_0x4c7c55(0x82d),a0_0x4c7c55(0x6cb)]}},...S(a0_0x4c7c55(0x40d),a0_0x4c7c55(0x7a1),'id','status')},'limit':{'type':a0_0x4c7c55(0x7e5)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'number':{...z},'presence':{'type':a0_0x4c7c55(0x6ed),'enum':[a0_0x4c7c55(0x7cf),a0_0x4c7c55(0x31a),a0_0x4c7c55(0x553),a0_0x4c7c55(0x370),'paused']}},'required':['presence',a0_0x4c7c55(0x394)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'subject':{'type':a0_0x4c7c55(0x6ed)},'description':{'type':a0_0x4c7c55(0x6ed)},'profilePicture':{'type':a0_0x4c7c55(0x6ed)},'participants':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c7c55(0x6ed),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x4c7c55(0x759)],...S(a0_0x4c7c55(0x37f),a0_0x4c7c55(0x680),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed),'pattern':a0_0x4c7c55(0x84a)}},'required':[a0_0x4c7c55(0x5de)],...S('groupJid')},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed)},'action':{'type':'string','enum':[a0_0x4c7c55(0x512),a0_0x4c7c55(0x413),a0_0x4c7c55(0x47d),a0_0x4c7c55(0x76d)]},'participants':{'type':a0_0x4c7c55(0x835),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c7c55(0x6ed),'minLength':0xa,'pattern':a0_0x4c7c55(0x1dd),'description':a0_0x4c7c55(0x661)}}},'required':['groupJid',a0_0x4c7c55(0x4a1),'participants'],...S('groupJid',a0_0x4c7c55(0x4a1))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x4c7c55(0x394),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4c7c55(0x5de),'expiration'],...S(a0_0x4c7c55(0x5de),'expiration')},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed)},'image':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x5de),a0_0x4c7c55(0x504)],...S('groupJid',a0_0x4c7c55(0x504))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed)},'description':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x5de),'description'],...S(a0_0x4c7c55(0x5de),a0_0x4c7c55(0x680))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed)},'name':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x5de),a0_0x4c7c55(0x6ca)],...S(a0_0x4c7c55(0x5de),a0_0x4c7c55(0x6ca))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'groupJid':{'type':a0_0x4c7c55(0x6ed)},'setting':{'type':a0_0x4c7c55(0x6ed),'enum':['announcement',a0_0x4c7c55(0x564),a0_0x4c7c55(0x271),a0_0x4c7c55(0x4f7)]}},'required':[a0_0x4c7c55(0x5de),a0_0x4c7c55(0x84e)],...S('groupJid',a0_0x4c7c55(0x84e))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'inviteCode':{'type':a0_0x4c7c55(0x6ed)}},'required':[a0_0x4c7c55(0x4cd)],...S(a0_0x4c7c55(0x4cd))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x4c7c55(0x6ed)},'enabled':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':[a0_0x4c7c55(0x299),a0_0x4c7c55(0x77b)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x4c7c55(0x4b4),'properties':{'local_map':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4c7c55(0x73d),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x4c7c55(0x5ed),a0_0x4c7c55(0x211),a0_0x4c7c55(0x84b),a0_0x4c7c55(0x3fe),a0_0x4c7c55(0x570),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x4c7c55(0x1f2),a0_0x4c7c55(0x73a),a0_0x4c7c55(0x1d9),a0_0x4c7c55(0x6a5),a0_0x4c7c55(0x607),a0_0x4c7c55(0x285),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x4c7c55(0x3ed)],...S(a0_0x4c7c55(0x366),a0_0x4c7c55(0x5ed),a0_0x4c7c55(0x211),'MESSAGES_SET',a0_0x4c7c55(0x3fe),'MESSAGES_UPSERT',a0_0x4c7c55(0x38c),a0_0x4c7c55(0x616),'CONTACTS_UPSERT',a0_0x4c7c55(0x753),a0_0x4c7c55(0x1f2),'CHATS_SET',a0_0x4c7c55(0x1d9),a0_0x4c7c55(0x6a5),'CHATS_DELETE',a0_0x4c7c55(0x285),a0_0x4c7c55(0x204),a0_0x4c7c55(0x338),'GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{[a0_0x4c7c55(0x357)](_0x38f05d){return Vs(_0x38f05d);}async[a0_0x4c7c55(0x2e5)](_0x473bc5){const _0x35cf16=a0_0x4c7c55;if(_0x473bc5[_0x35cf16(0x676)]!==0x0)try{return{'insertCount':(await this[_0x35cf16(0x357)](_0x473bc5[0x0][_0x35cf16(0x655)])['insertMany']([..._0x473bc5]))[_0x35cf16(0x676)]};}catch(_0x35e3dc){return _0x35e3dc;}}async[a0_0x4c7c55(0x270)](_0x4266d5,_0x11fd38){const _0x3a560c=a0_0x4c7c55;try{return{'deletedCount':(await this[_0x3a560c(0x357)](_0x11fd38)[_0x3a560c(0x537)]({..._0x4266d5[_0x3a560c(0x54e)]}))['deletedCount']};}catch(_0x7089e1){return{'error':_0x7089e1?.[_0x3a560c(0x2b4)]()};}}async[a0_0x4c7c55(0x718)](_0x5ed1ab,_0x238a40){const _0x141a52=a0_0x4c7c55;try{if(_0x5ed1ab[_0x141a52(0x676)]===0x0)return;let _0x5434b6=this[_0x141a52(0x357)](_0x238a40),_0x5737c4=_0x5ed1ab[_0x141a52(0x4df)](_0x5104c1=>({'updateOne':{'filter':{'_id':_0x5104c1[_0x141a52(0x40d)],'owner':_0x238a40},'update':{..._0x5104c1}}})),{modifiedCount:_0x50234b}=await _0x5434b6[_0x141a52(0x302)](_0x5737c4);return{'insertCount':_0x50234b};}catch{return;}}async['find'](_0x2c7aed,_0x5300d7){const _0x268195=a0_0x4c7c55;try{let _0xd5594e=this['getContactModelForOwner'](_0x5300d7),_0x55ddba=A(_0x2c7aed[_0x268195(0x54e)]);return await _0xd5594e['find'](_0x55ddba)[_0x268195(0x6f9)](_0x2c7aed?.[_0x268195(0x6f9)]??0x0)[_0x268195(0x817)]();}catch{return[];}}async['findOne'](_0x1f5fb2,_0x2d43db){const _0xa62fc9=a0_0x4c7c55;try{let _0x335dd6=this[_0xa62fc9(0x357)](_0x2d43db),_0x4d2d4b=A(_0x1f5fb2[_0xa62fc9(0x54e)]);return await _0x335dd6[_0xa62fc9(0x6bf)](_0x4d2d4b)[_0xa62fc9(0x817)]();}catch{return null;}}async['deleteAll'](_0x1c4a14){const _0x3ab8c2=a0_0x4c7c55;try{return await this[_0x3ab8c2(0x357)](_0x1c4a14)[_0x3ab8c2(0x5bb)][_0x3ab8c2(0x634)](),{'success':!0x0};}catch(_0x4a06da){return console[_0x3ab8c2(0x546)](_0x4a06da),{'success':!0x1,'error':_0x4a06da};}}},Ye=require('jsonschema'),cc=require('express-async-errors'),gs=new v('Validate'),U=class{[a0_0x4c7c55(0x5bd)](_0x437d88,_0x2d5b11=!0x0){const _0x225372=a0_0x4c7c55;let _0x349fbc='/'+_0x437d88;return _0x2d5b11&&(_0x349fbc+=_0x225372(0x69c)),_0x349fbc;}async[a0_0x4c7c55(0x4ca)](_0x585446){const _0x474f10=a0_0x4c7c55;let {request:_0x19f7ba,schema:_0x1e9f87,ClassRef:_0x4d9358,execute:_0x3938a2}=_0x585446,_0x28fe3f=new _0x4d9358(),_0x245794=_0x19f7ba[_0x474f10(0x2aa)],_0x5b7df8=_0x19f7ba['params'];_0x19f7ba?.['query']&&Object['keys'](_0x19f7ba[_0x474f10(0x3d9)])[_0x474f10(0x676)]>0x0&&Object[_0x474f10(0x3b8)](_0x5b7df8,_0x19f7ba[_0x474f10(0x3d9)]),_0x19f7ba[_0x474f10(0x7f0)][_0x474f10(0x606)](_0x474f10(0x21f))&&Object[_0x474f10(0x3b8)](_0x5b7df8,_0x245794),Object[_0x474f10(0x3b8)](_0x28fe3f,_0x245794);let _0x41bc61=_0x1e9f87?(0x0,Ye[_0x474f10(0x2dc)])(_0x28fe3f,_0x1e9f87):{'valid':!0x0,'errors':[]};if(!_0x41bc61[_0x474f10(0x628)]){let _0x15da21=_0x41bc61[_0x474f10(0x71e)][_0x474f10(0x4df)](({property:_0x450689,stack:_0x362fa3,schema:_0x1298e8})=>{const _0xe4d7cf=_0x474f10;let _0x274f98;return _0x1298e8['description']?_0x274f98=_0x1298e8[_0xe4d7cf(0x680)]:_0x274f98=_0x362fa3[_0xe4d7cf(0x294)](_0xe4d7cf(0x3a2),''),{'property':_0x450689[_0xe4d7cf(0x294)](_0xe4d7cf(0x3a2),''),'message':_0x274f98};});throw gs[_0x474f10(0x546)]([..._0x15da21]),new m(..._0x15da21);}return await _0x3938a2(_0x5b7df8,_0x28fe3f);}async[a0_0x4c7c55(0x208)](_0x5adfed){const _0x26d24d=a0_0x4c7c55;let {request:_0x1d61f6,ClassRef:_0x35f775,schema:_0xefb103,execute:_0x3246a4}=_0x5adfed,_0x2699b6=_0x1d61f6['query'];if(!_0x2699b6?.[_0x26d24d(0x5de)])throw new m(_0x26d24d(0x4c1),_0x26d24d(0x7a5));let _0x2b6262=_0x1d61f6[_0x26d24d(0x705)],_0x53e262=_0x1d61f6[_0x26d24d(0x2aa)],_0x2efc66=new _0x35f775();Object[_0x26d24d(0x3b8)](_0x53e262,_0x2699b6),Object[_0x26d24d(0x3b8)](_0x2efc66,_0x53e262);let _0x5b4cf4=(0x0,Ye[_0x26d24d(0x2dc)])(_0x2efc66,_0xefb103);if(!_0x5b4cf4['valid']){let _0x1409d5=_0x5b4cf4[_0x26d24d(0x71e)][_0x26d24d(0x4df)](({property:_0x56b5cc,stack:_0x195b54,schema:_0x429bc6})=>{const _0x27b9d7=_0x26d24d;let _0x5e7019;return _0x429bc6[_0x27b9d7(0x680)]?_0x5e7019=_0x429bc6['description']:_0x5e7019=_0x195b54['replace']('instance.',''),{'property':_0x56b5cc['replace']('instance.',''),'message':_0x5e7019};});throw gs['error']([..._0x1409d5]),new m(..._0x1409d5);}return await _0x3246a4(_0x2b6262,_0x2efc66);}async[a0_0x4c7c55(0x4e0)](_0x2f05a5){const _0x52b882=a0_0x4c7c55;let {request:_0xed1860,ClassRef:_0x565c65,schema:_0x22f867,execute:_0x486b1a}=_0x2f05a5,_0x273950=_0xed1860[_0x52b882(0x2aa)];if(!_0x273950?.[_0x52b882(0x4cd)])throw new m(_0x52b882(0x574),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x3388bb=_0xed1860[_0x52b882(0x705)],_0x15422a=_0xed1860[_0x52b882(0x2aa)],_0x53ba31=new _0x565c65();Object[_0x52b882(0x3b8)](_0x15422a,_0x273950),Object['assign'](_0x53ba31,_0x15422a);let _0x351fea=(0x0,Ye[_0x52b882(0x2dc)])(_0x53ba31,_0x22f867);if(!_0x351fea[_0x52b882(0x628)]){let _0x139495=_0x351fea[_0x52b882(0x71e)][_0x52b882(0x4df)](({property:_0x3d74a0,stack:_0x4ea64f,schema:_0x2c826c})=>{const _0x4f73a2=_0x52b882;let _0x1a3123;return _0x2c826c[_0x4f73a2(0x680)]?_0x1a3123=_0x2c826c[_0x4f73a2(0x680)]:_0x1a3123=_0x4ea64f[_0x4f73a2(0x294)]('instance.',''),{'property':_0x3d74a0[_0x4f73a2(0x294)](_0x4f73a2(0x3a2),''),'message':_0x1a3123};});throw gs[_0x52b882(0x546)]([..._0x139495]),new m(..._0x139495);}return await _0x486b1a(_0x3388bb,_0x53ba31);}},E=class{},Mc=new v(a0_0x4c7c55(0x277)),Xe=class extends U{constructor(..._0x204666){const _0x34b17a=a0_0x4c7c55;super(),this[_0x34b17a(0x7a4)]=(0x0,Za[_0x34b17a(0x22e)])(),this['router'][_0x34b17a(0x4c2)](this[_0x34b17a(0x5bd)](_0x34b17a(0x2c0)),..._0x204666,async(_0x16bec7,_0xe98a66)=>{const _0x450e61=_0x34b17a;let _0xb34144=await this[_0x450e61(0x4ca)]({'request':_0x16bec7,'schema':Va,'ClassRef':je,'execute':(_0x164c80,_0x4d2fd5)=>x[_0x450e61(0x2c0)](_0x164c80,_0x4d2fd5)});return _0xe98a66[_0x450e61(0x2bf)](0xc9)[_0x450e61(0x80d)](_0xb34144);})['post'](this[_0x34b17a(0x5bd)](_0x34b17a(0x6c3)),..._0x204666,async(_0x285cf0,_0x2f8710)=>{const _0x18f73e=_0x34b17a;let _0x4c162d=await this[_0x18f73e(0x4ca)]({'request':_0x285cf0,'schema':_a,'ClassRef':Fe,'execute':(_0x4ede12,_0x482237)=>x[_0x18f73e(0x298)](_0x4ede12,_0x482237)});return _0x2f8710[_0x18f73e(0x2bf)](0xc9)['json'](_0x4c162d);})[_0x34b17a(0x4c2)](this['routerPath'](_0x34b17a(0x209)),..._0x204666,async(_0x2bcb92,_0x46127c)=>{const _0x4c3aaf=_0x34b17a;let _0x2d9e59=await this[_0x4c3aaf(0x4ca)]({'request':_0x2bcb92,'schema':M,'ClassRef':E,'execute':(_0x496ca1,_0x27e9aa)=>x[_0x4c3aaf(0x209)](_0x496ca1,_0x27e9aa)});return _0x46127c[_0x4c3aaf(0x2bf)](0xc9)[_0x4c3aaf(0x80d)](_0x2d9e59);})[_0x34b17a(0x325)](this['routerPath']('markMessageAsRead'),..._0x204666,async(_0x451980,_0x165de3)=>{const _0x4f9675=_0x34b17a;let _0x3afb45=await this[_0x4f9675(0x4ca)]({'request':_0x451980,'schema':Pa,'ClassRef':Je,'execute':(_0x21ad31,_0x27b03e)=>x[_0x4f9675(0x622)](_0x21ad31,_0x27b03e)});return _0x165de3['status'](0xc9)[_0x4f9675(0x80d)](_0x3afb45);})[_0x34b17a(0x325)](this[_0x34b17a(0x5bd)]('archiveChat'),..._0x204666,async(_0x13ca12,_0x5c2ed8)=>{const _0x341e13=_0x34b17a;let _0xc1ffba=await this[_0x341e13(0x4ca)]({'request':_0x13ca12,'schema':ka,'ClassRef':Ve,'execute':(_0x353fdd,_0x4b906c)=>x[_0x341e13(0x842)](_0x353fdd,_0x4b906c)});return _0x5c2ed8[_0x341e13(0x2bf)](0xc9)['json'](_0xc1ffba);})[_0x34b17a(0x270)](this[_0x34b17a(0x5bd)]('deleteMessageForEveryone'),..._0x204666,async(_0x32281c,_0x61629f)=>{const _0x281b31=_0x34b17a;let _0x30bc35=await this[_0x281b31(0x4ca)]({'request':_0x32281c,'schema':La,'ClassRef':Ge,'execute':(_0x35e680,_0x2f9343)=>x['deleteMessage'](_0x35e680,_0x2f9343)});return _0x61629f[_0x281b31(0x2bf)](0xc9)[_0x281b31(0x80d)](_0x30bc35);})['post'](this['routerPath'](_0x34b17a(0x5bc)),..._0x204666,async(_0x286f3e,_0x24efc2)=>{const _0x472d6f=_0x34b17a;let _0x199738=await this[_0x472d6f(0x4ca)]({'request':_0x286f3e,'schema':Se,'ClassRef':be,'execute':(_0x113258,_0x1696f6)=>x['fetchProfilePicture'](_0x113258,_0x1696f6)});return _0x24efc2['status'](0xc8)['json'](_0x199738);})[_0x34b17a(0x4c2)](this[_0x34b17a(0x5bd)]('fetchProfile'),..._0x204666,async(_0x4f6ea2,_0x1ef09f)=>{const _0x380ad2=_0x34b17a;let _0x1c8f9f=await this[_0x380ad2(0x4ca)]({'request':_0x4f6ea2,'schema':Ua,'ClassRef':be,'execute':(_0x1fdf01,_0x522d36)=>x[_0x380ad2(0x7b6)](_0x1fdf01,_0x522d36)});return _0x1ef09f[_0x380ad2(0x2bf)](0xc8)[_0x380ad2(0x80d)](_0x1c8f9f);})['post'](this[_0x34b17a(0x5bd)](_0x34b17a(0x5cf)),..._0x204666,async(_0x2fffd9,_0x34d927)=>{const _0x57199d=_0x34b17a;let _0x8468d7=await this[_0x57199d(0x4ca)]({'request':_0x2fffd9,'schema':ja,'ClassRef':Ke,'execute':(_0x1122db,_0x2a7363)=>x[_0x57199d(0x72e)](_0x1122db,_0x2a7363)});return _0x34d927[_0x57199d(0x2bf)](0xc8)[_0x57199d(0x80d)](_0x8468d7);})[_0x34b17a(0x4c2)](this['routerPath'](_0x34b17a(0x5d2)),..._0x204666,async(_0x74574e,_0xff7bd9)=>{const _0x2e3293=_0x34b17a;let _0x326bb4=await this['dataValidate']({'request':_0x74574e,'schema':null,'ClassRef':Object,'execute':(_0x11b95c,_0x2fdcc1)=>x[_0x2e3293(0x5d2)](_0x11b95c,_0x2fdcc1)});return _0xff7bd9['status'](0xc9)[_0x2e3293(0x80d)](_0x326bb4);})[_0x34b17a(0x4c2)](this[_0x34b17a(0x5bd)](_0x34b17a(0x5fe)),..._0x204666,async(_0x313738,_0x1bf962)=>{const _0x2239cd=_0x34b17a;let _0x1f19cd=await this['dataValidate']({'request':_0x313738,'schema':Ja,'ClassRef':ke,'execute':(_0x4b676f,_0x15f4af)=>x['fetchMessages'](_0x4b676f,_0x15f4af)});return _0x1bf962['status'](0xc8)[_0x2239cd(0x80d)](_0x1f19cd);})[_0x34b17a(0x448)](this[_0x34b17a(0x5bd)](_0x34b17a(0x40e)),..._0x204666,async(_0x5bd25b,_0x40f7d8)=>{const _0x268917=_0x34b17a;let _0xcec373=await this[_0x268917(0x4ca)]({'request':_0x5bd25b,'schema':null,'ClassRef':E,'execute':_0x408efb=>x[_0x268917(0x7f4)](_0x408efb)});return _0x40f7d8['status'](0xc8)[_0x268917(0x80d)](_0xcec373);})[_0x34b17a(0x448)](this[_0x34b17a(0x5bd)](_0x34b17a(0x2a0)),..._0x204666,async(_0x47f748,_0x755b7a)=>{const _0x47de95=_0x34b17a;let _0x11cae2=await this[_0x47de95(0x4ca)]({'request':_0x47f748,'schema':null,'ClassRef':E,'execute':_0x4b435c=>x[_0x47de95(0x5e8)](_0x4b435c)});return _0x755b7a[_0x47de95(0x2bf)](0xc8)['json'](_0x11cae2);})['put'](this[_0x34b17a(0x5bd)](_0x34b17a(0x4ac)),..._0x204666,async(_0x4acd3b,_0x16829a)=>{const _0x49fe33=_0x34b17a;let _0x264a26=await this[_0x49fe33(0x4ca)]({'request':_0x4acd3b,'schema':null,'ClassRef':Array,'execute':(_0xafb4ae,_0x46a5df)=>x[_0x49fe33(0x4ac)](_0xafb4ae,_0x46a5df)});return _0x16829a[_0x49fe33(0x2bf)](0xc8)['json'](_0x264a26);})[_0x34b17a(0x448)](this[_0x34b17a(0x5bd)](_0x34b17a(0x3d0)),..._0x204666,async(_0x562d3a,_0x3154e7)=>{const _0x36414c=_0x34b17a;let _0x341c19=await this[_0x36414c(0x4ca)]({'request':_0x562d3a,'schema':null,'ClassRef':E,'execute':_0x1f62b4=>x[_0x36414c(0x3d0)](_0x1f62b4)});return _0x3154e7[_0x36414c(0x2bf)](0xc8)[_0x36414c(0x80d)](_0x341c19);})[_0x34b17a(0x325)](this[_0x34b17a(0x5bd)](_0x34b17a(0x848)),..._0x204666,async(_0x4137a9,_0x14f083)=>{const _0x42e099=_0x34b17a;let _0x144a42=await this['dataValidate']({'request':_0x4137a9,'schema':$a,'ClassRef':Be,'execute':(_0x2764cf,_0x5e4131)=>x[_0x42e099(0x848)](_0x2764cf,_0x5e4131)});return _0x14f083['status'](0xc9)[_0x42e099(0x80d)](_0x144a42);})[_0x34b17a(0x4c2)](this[_0x34b17a(0x5bd)](_0x34b17a(0x3f6)),..._0x204666,async(_0x5df288,_0x531e04)=>{const _0x40aba1=_0x34b17a;let _0x3a33bf=await this['dataValidate']({'request':_0x5df288,'schema':Se,'ClassRef':fe,'execute':(_0x3e62c6,_0x3d5abb)=>x[_0x40aba1(0x3f6)](_0x3e62c6,_0x3d5abb)});return _0x531e04['status'](0xc8)[_0x40aba1(0x80d)](_0x3a33bf);})['post'](this['routerPath']('updateProfileName'),..._0x204666,async(_0x4af36e,_0x1e1669)=>{const _0x1769e6=_0x34b17a;let _0x7a0846=await this[_0x1769e6(0x4ca)]({'request':_0x4af36e,'schema':Fa,'ClassRef':qe,'execute':(_0x3e8910,_0x2ebe8a)=>x[_0x1769e6(0x447)](_0x3e8910,_0x2ebe8a)});return _0x1e1669['status'](0xc8)[_0x1769e6(0x80d)](_0x7a0846);})['post'](this[_0x34b17a(0x5bd)](_0x34b17a(0x7af)),..._0x204666,async(_0x3f3df0,_0x178d5a)=>{const _0x1a9c18=_0x34b17a;let _0xfe9580=await this[_0x1a9c18(0x4ca)]({'request':_0x3f3df0,'schema':qa,'ClassRef':Ue,'execute':(_0x11da9f,_0x41a007)=>x[_0x1a9c18(0x7af)](_0x11da9f,_0x41a007)});return _0x178d5a['status'](0xc8)[_0x1a9c18(0x80d)](_0xfe9580);})[_0x34b17a(0x325)](this['routerPath'](_0x34b17a(0x693)),..._0x204666,async(_0x3b4689,_0x479366)=>{const _0x5658a8=_0x34b17a;let _0x45d1f8=await this[_0x5658a8(0x4ca)]({'request':_0x3b4689,'schema':Se,'ClassRef':fe,'execute':(_0x38b7a2,_0x4e1c29)=>x[_0x5658a8(0x693)](_0x38b7a2,_0x4e1c29)});return _0x479366['status'](0xc8)[_0x5658a8(0x80d)](_0x45d1f8);})[_0x34b17a(0x270)](this[_0x34b17a(0x5bd)](_0x34b17a(0x26b)),..._0x204666,async(_0x2d50ec,_0x50d90f)=>{const _0x150e3f=_0x34b17a;let _0x40e76b=await this[_0x150e3f(0x4ca)]({'request':_0x2d50ec,'schema':Se,'ClassRef':fe,'execute':(_0x2740a9,_0x192e9c)=>x[_0x150e3f(0x26b)](_0x2740a9,_0x192e9c)});return _0x50d90f['status'](0xc8)[_0x150e3f(0x80d)](_0x40e76b);});}},eo=require(a0_0x4c7c55(0x521)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x94f767){const _0x962ec=a0_0x4c7c55;super(),this[_0x962ec(0x7a4)]=(0x0,eo[_0x962ec(0x22e)])(),this[_0x962ec(0x7a4)][_0x962ec(0x4c2)](this['routerPath'](_0x962ec(0x71f)),..._0x94f767,async(_0xc38264,_0x1ecb7b)=>{const _0x2f68de=_0x962ec;let _0x8a4343=await this['dataValidate']({'request':_0xc38264,'schema':Ba,'ClassRef':Ze,'execute':(_0x171133,_0x3d98f0)=>q['createGroup'](_0x171133,_0x3d98f0)});_0x1ecb7b['status'](0xc9)[_0x2f68de(0x80d)](_0x8a4343);})['put'](this[_0x962ec(0x5bd)](_0x962ec(0x500)),..._0x94f767,async(_0x1ff36b,_0x30bbd1)=>{const _0x319b73=_0x962ec;let _0x9ada55=await this[_0x319b73(0x208)]({'request':_0x1ff36b,'schema':za,'ClassRef':et,'execute':(_0x2fa98d,_0x5ceaf6)=>q[_0x319b73(0x500)](_0x2fa98d,_0x5ceaf6)});_0x30bbd1[_0x319b73(0x2bf)](0xc9)[_0x319b73(0x80d)](_0x9ada55);})[_0x962ec(0x325)](this['routerPath'](_0x962ec(0x1da)),..._0x94f767,async(_0x2e3c35,_0xb390ce)=>{const _0x3eda98=_0x962ec;let _0xcc864a=await this[_0x3eda98(0x208)]({'request':_0x2e3c35,'schema':Ha,'ClassRef':tt,'execute':(_0x4f9f86,_0x50eadd)=>q[_0x3eda98(0x1da)](_0x4f9f86,_0x50eadd)});_0xb390ce[_0x3eda98(0x2bf)](0xc9)['json'](_0xcc864a);})[_0x962ec(0x325)](this['routerPath'](_0x962ec(0x4a6)),..._0x94f767,async(_0x4fff65,_0x1dfa03)=>{const _0x4edbaa=_0x962ec;let _0x5c2ba8=await this[_0x4edbaa(0x208)]({'request':_0x4fff65,'schema':Ka,'ClassRef':st,'execute':(_0x565772,_0x4a1fe0)=>q[_0x4edbaa(0x4a6)](_0x565772,_0x4a1fe0)});_0x1dfa03[_0x4edbaa(0x2bf)](0xc9)[_0x4edbaa(0x80d)](_0x5c2ba8);})[_0x962ec(0x325)](this[_0x962ec(0x5bd)](_0x962ec(0x25d)),..._0x94f767,async(_0x266202,_0x17f522)=>{const _0x42935e=_0x962ec;let _0x4a6121=await this['groupValidate']({'request':_0x266202,'schema':Qa,'ClassRef':at,'execute':(_0x49ddc0,_0x268ca4)=>q['groupSetting'](_0x49ddc0,_0x268ca4)});_0x17f522[_0x42935e(0x2bf)](0xc9)['json'](_0x4a6121);})[_0x962ec(0x325)](this['routerPath']('toggleEphemeral'),..._0x94f767,async(_0x1cb3d4,_0x907912)=>{const _0x12c3c7=_0x962ec;let _0x3c38a6=await this[_0x12c3c7(0x208)]({'request':_0x1cb3d4,'schema':Wa,'ClassRef':it,'execute':(_0x51e1ad,_0x316162)=>q[_0x12c3c7(0x292)](_0x51e1ad,_0x316162)});_0x907912[_0x12c3c7(0x2bf)](0xc9)[_0x12c3c7(0x80d)](_0x3c38a6);})[_0x962ec(0x448)](this[_0x962ec(0x5bd)](_0x962ec(0x3d6)),..._0x94f767,async(_0x499210,_0x3f18d0)=>{const _0x1e0150=_0x962ec;let _0x33433d=await this[_0x1e0150(0x208)]({'request':_0x499210,'schema':Ee,'ClassRef':Y,'execute':(_0x396a61,_0x3a1ee6)=>q[_0x1e0150(0x2d6)](_0x396a61,_0x3a1ee6)});_0x3f18d0['status'](0xc8)[_0x1e0150(0x80d)](_0x33433d);})[_0x962ec(0x448)](this[_0x962ec(0x5bd)]('findGroups'),..._0x94f767,async(_0xd8cac7,_0x4722f6)=>{const _0x5a226d=_0x962ec;let _0x12bda7=await this[_0x5a226d(0x4ca)]({'request':_0xd8cac7,'schema':M,'ClassRef':E,'execute':_0x42275d=>q[_0x5a226d(0x509)](_0x42275d)});_0x4722f6[_0x5a226d(0x2bf)](0xc8)[_0x5a226d(0x80d)](_0x12bda7);})[_0x962ec(0x448)](this[_0x962ec(0x5bd)](_0x962ec(0x759)),..._0x94f767,async(_0x5dd331,_0x4929e4)=>{const _0x2bcf44=_0x962ec;let _0x50e07e=await this[_0x2bcf44(0x208)]({'request':_0x5dd331,'schema':Ee,'ClassRef':Y,'execute':(_0x2c0dee,_0x38cf23)=>q['findParticipants'](_0x2c0dee,_0x38cf23)});_0x4929e4[_0x2bcf44(0x2bf)](0xc8)[_0x2bcf44(0x80d)](_0x50e07e);})[_0x962ec(0x448)](this[_0x962ec(0x5bd)](_0x962ec(0x4cd)),..._0x94f767,async(_0x513dfc,_0xb31da6)=>{const _0x11bab2=_0x962ec;let _0x570d52=await this['groupValidate']({'request':_0x513dfc,'schema':Ee,'ClassRef':Y,'execute':(_0x8c70d4,_0x1e8698)=>q[_0x11bab2(0x4cd)](_0x8c70d4,_0x1e8698)});_0xb31da6[_0x11bab2(0x2bf)](0xc8)[_0x11bab2(0x80d)](_0x570d52);})[_0x962ec(0x325)](this['routerPath'](_0x962ec(0x426)),..._0x94f767,async(_0xb5f175,_0x3f903e)=>{const _0xd34bf7=_0x962ec;let _0x1393b3=await this[_0xd34bf7(0x4e0)]({'request':_0xb5f175,'schema':Ya,'ClassRef':ot,'execute':(_0x5e8def,_0x1e0265)=>q[_0xd34bf7(0x426)](_0x5e8def,_0x1e0265)});_0x3f903e[_0xd34bf7(0x2bf)](0xc9)[_0xd34bf7(0x80d)](_0x1393b3);})[_0x962ec(0x325)](this[_0x962ec(0x5bd)](_0x962ec(0x336)),..._0x94f767,async(_0x4087f5,_0x4572d6)=>{const _0xfb95e8=_0x962ec;let _0x18c15f=await this['groupValidate']({'request':_0x4087f5,'schema':Ee,'ClassRef':Y,'execute':(_0x1f7e76,_0x32e053)=>q[_0xfb95e8(0x336)](_0x1f7e76,_0x32e053)});_0x4572d6[_0xfb95e8(0x2bf)](0xc9)[_0xfb95e8(0x80d)](_0x18c15f);})[_0x962ec(0x325)](this['routerPath'](_0x962ec(0x750)),..._0x94f767,async(_0x177014,_0x226fb1)=>{const _0x5a6b04=_0x962ec;let _0x47107f=await this[_0x5a6b04(0x208)]({'request':_0x177014,'schema':Ga,'ClassRef':rt,'execute':(_0x1bcf13,_0x1921fb)=>q['updateGParticipate'](_0x1bcf13,_0x1921fb)});_0x226fb1[_0x5a6b04(0x2bf)](0xc9)[_0x5a6b04(0x80d)](_0x47107f);})[_0x962ec(0x270)](this['routerPath']('leaveGroup'),..._0x94f767,async(_0x2e8e36,_0x37d858)=>{const _0xe44b42=_0x962ec;let _0x581420=await this[_0xe44b42(0x208)]({'request':_0x2e8e36,'schema':{},'ClassRef':Y,'execute':(_0x2bc3aa,_0x23bc58)=>q['leaveGroup'](_0x2bc3aa,_0x23bc58)});_0x37d858[_0xe44b42(0x2bf)](0xc8)[_0xe44b42(0x80d)](_0x581420);});}},to=require(a0_0x4c7c55(0x521)),ct=class extends U{constructor(_0x20febe,..._0x289082){const _0x206807=a0_0x4c7c55;super(),this['configService']=_0x20febe,this['router']=(0x0,to[_0x206807(0x22e)])();let _0x2701c1=_0x20febe['get'](_0x206807(0x3a3));this['router'][_0x206807(0x4c2)](_0x206807(0x378),..._0x289082,async(_0xd93f0d,_0x18d52c)=>{const _0x36b757=_0x206807;let {instanceName:_0x1e45b1,apikey:_0x28b005,number:_0x24f1f0}=_0xd93f0d[_0x36b757(0x2aa)],_0xbb2d0a=await le[_0x36b757(0x83f)]({'instanceName':_0x1e45b1,'apikey':_0x28b005,'number':_0x24f1f0});return _0x18d52c[_0x36b757(0x2bf)](0xc9)['json'](_0xbb2d0a);})[_0x206807(0x325)](this[_0x206807(0x5bd)](_0x206807(0x49c)),..._0x289082,async(_0x792c6,_0x10fefb)=>{const _0xf53064=_0x206807;let _0x28817d=await this[_0xf53064(0x4ca)]({'request':_0x792c6,'schema':M,'ClassRef':E,'execute':_0x4474cc=>le[_0xf53064(0x4dc)](_0x4474cc)});return _0x10fefb['status'](0xc8)[_0xf53064(0x80d)](_0x28817d);})[_0x206807(0x448)](this[_0x206807(0x5bd)](_0x206807(0x78e)),..._0x289082,async(_0x1ac9d2,_0x55e8d0)=>{const _0x24d716=_0x206807;let _0x5d0569=await this['dataValidate']({'request':_0x1ac9d2,'schema':M,'ClassRef':E,'execute':_0x341057=>le['connectionState'](_0x341057)});return _0x55e8d0['status'](0xc8)[_0x24d716(0x80d)](_0x5d0569);})[_0x206807(0x448)](this[_0x206807(0x5bd)](_0x206807(0x256),!0x1),..._0x289082,async(_0x1b6290,_0x255253)=>{const _0x2476a4=_0x206807;let _0x2de249=await this[_0x2476a4(0x4ca)]({'request':_0x1b6290,'schema':null,'ClassRef':E,'execute':_0x3754d4=>le[_0x2476a4(0x256)](_0x3754d4)});return _0x255253['status'](0xc8)[_0x2476a4(0x80d)](_0x2de249);})[_0x206807(0x270)](this[_0x206807(0x5bd)](_0x206807(0x216)),..._0x289082,async(_0xdceec0,_0x18a573)=>{const _0xe42e73=_0x206807;let _0x1cadc3=await this[_0xe42e73(0x4ca)]({'request':_0xdceec0,'schema':M,'ClassRef':E,'execute':_0xa7675=>le['logout'](_0xa7675)});return _0x18a573[_0xe42e73(0x2bf)](0xc8)['json'](_0x1cadc3);})['delete'](this[_0x206807(0x5bd)](_0x206807(0x270)),..._0x289082,async(_0x342e95,_0x19a06a)=>{const _0x5cd1da=_0x206807;let _0x48ca3c=await this[_0x5cd1da(0x4ca)]({'request':_0x342e95,'schema':M,'ClassRef':E,'execute':_0x1003df=>le[_0x5cd1da(0x772)](_0x1003df)});return _0x19a06a[_0x5cd1da(0x2bf)](0xc8)[_0x5cd1da(0x80d)](_0x48ca3c);});}},so=require(a0_0x4c7c55(0x521)),hs=class{},W=class extends hs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x18ecf8){const _0x3eac90=a0_0x4c7c55;super(),this['router']=(0x0,so[_0x3eac90(0x22e)])(),this[_0x3eac90(0x7a4)][_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x2d7)),..._0x18ecf8,async(_0xb5e52a,_0x1d2a8e)=>{const _0xbb300a=_0x3eac90;let _0x34e7b3=await this['dataValidate']({'request':_0xb5e52a,'schema':Sa,'ClassRef':lt,'execute':(_0x53c8ca,_0x1d3d53)=>G[_0xbb300a(0x2d7)](_0x53c8ca,_0x1d3d53)});return _0x1d2a8e['status'](0xc9)[_0xbb300a(0x80d)](_0x34e7b3);})['post'](this[_0x3eac90(0x5bd)](_0x3eac90(0x475)),..._0x18ecf8,async(_0x31f3c3,_0x4bdfd4)=>{const _0x228f69=_0x3eac90;let _0x18d08d=await this[_0x228f69(0x4ca)]({'request':_0x31f3c3,'schema':va,'ClassRef':Ce,'execute':(_0x542d35,_0xb5c0f7)=>G[_0x228f69(0x475)](_0x542d35,_0xb5c0f7)});return _0x4bdfd4[_0x228f69(0x2bf)](0xc9)[_0x228f69(0x80d)](_0x18d08d);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x709)),..._0x18ecf8,async(_0xfaef2f,_0x4527c0)=>{const _0x10ba9d=_0x3eac90;let _0x1811a6=await this['dataValidate']({'request':_0xfaef2f,'schema':Ta,'ClassRef':pt,'execute':(_0x1f7722,_0x5de16d)=>G[_0x10ba9d(0x709)](_0x1f7722,_0x5de16d)});return _0x4527c0[_0x10ba9d(0x2bf)](0xc9)[_0x10ba9d(0x80d)](_0x1811a6);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x6ee)),..._0x18ecf8,async(_0x437832,_0x3de206)=>{const _0x317d99=_0x3eac90;let _0x12f131=await this['dataValidate']({'request':_0x437832,'schema':Na,'ClassRef':Ce,'execute':(_0x447228,_0x583a42)=>G[_0x317d99(0x6ee)](_0x447228,_0x583a42)});return _0x3de206[_0x317d99(0x2bf)](0xc9)['json'](_0x12f131);})['post'](this[_0x3eac90(0x5bd)]('sendButtons'),..._0x18ecf8,async(_0x111be2,_0x40ad33)=>{const _0x5b4e7a=_0x3eac90;let _0x1bff05=await this[_0x5b4e7a(0x4ca)]({'request':_0x111be2,'schema':Aa,'ClassRef':ht,'execute':(_0x2474d6,_0x54b878)=>G[_0x5b4e7a(0x3f7)](_0x2474d6,_0x54b878)});return _0x40ad33[_0x5b4e7a(0x2bf)](0xc9)[_0x5b4e7a(0x80d)](_0x1bff05);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)]('sendLocation'),..._0x18ecf8,async(_0x5c8cd2,_0x34f42e)=>{const _0x12d771=_0x3eac90;let _0x538bb0=await this[_0x12d771(0x4ca)]({'request':_0x5c8cd2,'schema':Oa,'ClassRef':mt,'execute':(_0x57d5fb,_0x3d013d)=>G['sendLocation'](_0x57d5fb,_0x3d013d)});return _0x34f42e[_0x12d771(0x2bf)](0xc9)[_0x12d771(0x80d)](_0x538bb0);})[_0x3eac90(0x4c2)](this['routerPath'](_0x3eac90(0x776)),..._0x18ecf8,async(_0x11cd15,_0x52a360)=>{const _0x1001a1=_0x3eac90;let _0x2a7817=await this[_0x1001a1(0x4ca)]({'request':_0x11cd15,'schema':Ia,'ClassRef':ft,'execute':(_0x10b5bd,_0x140808)=>G['sendList'](_0x10b5bd,_0x140808)});return _0x52a360[_0x1001a1(0x2bf)](0xc9)[_0x1001a1(0x80d)](_0x2a7817);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x7a9)),..._0x18ecf8,async(_0x2ffdfc,_0x27a6a7)=>{const _0x247e90=_0x3eac90;let _0x2a8aab=await this[_0x247e90(0x4ca)]({'request':_0x2ffdfc,'schema':xa,'ClassRef':wt,'execute':(_0x48565f,_0x542a5a)=>G[_0x247e90(0x7a9)](_0x48565f,_0x542a5a)});return _0x27a6a7[_0x247e90(0x2bf)](0xc9)[_0x247e90(0x80d)](_0x2a8aab);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x454)),..._0x18ecf8,async(_0x39620b,_0x2ebcb7)=>{const _0x32e118=_0x3eac90;let _0xf65a96=await this['dataValidate']({'request':_0x39620b,'schema':Da,'ClassRef':yt,'execute':(_0x25dc6f,_0x2b881e)=>G['sendReaction'](_0x25dc6f,_0x2b881e)});return _0x2ebcb7[_0x32e118(0x2bf)](0xc9)['json'](_0xf65a96);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x762)),..._0x18ecf8,async(_0x120259,_0x5d50fe)=>{const _0x5a7e0f=_0x3eac90;let _0x5ab663=await this[_0x5a7e0f(0x4ca)]({'request':_0x120259,'schema':Ra,'ClassRef':dt,'execute':(_0x3ade5e,_0x3a3058)=>G[_0x5a7e0f(0x762)](_0x3ade5e,_0x3a3058)});return _0x5d50fe[_0x5a7e0f(0x2bf)](0xc9)['json'](_0x5ab663);})[_0x3eac90(0x4c2)](this['routerPath'](_0x3eac90(0x2ae)),..._0x18ecf8,async(_0x401e10,_0x34ef98)=>{const _0x16645c=_0x3eac90;let _0x56b7f1=await this[_0x16645c(0x4ca)]({'request':_0x401e10,'schema':Ma,'ClassRef':ut,'execute':(_0x2a9af6,_0x50e636)=>G[_0x16645c(0x2ae)](_0x2a9af6,_0x50e636)});return _0x34ef98[_0x16645c(0x2bf)](0xc9)[_0x16645c(0x80d)](_0x56b7f1);})[_0x3eac90(0x4c2)](this[_0x3eac90(0x5bd)](_0x3eac90(0x4c8)),..._0x18ecf8,async(_0xf4a73d,_0x5a9127)=>{const _0x297ec1=_0x3eac90;let _0x3642fa=await this[_0x297ec1(0x4ca)]({'request':_0xf4a73d,'schema':Ca,'ClassRef':gt,'execute':(_0x59cedf,_0x553154)=>G[_0x297ec1(0x4c8)](_0x59cedf,_0x553154)});return _0x5a9127['status'](0xc9)[_0x297ec1(0x80d)](_0x3642fa);});}},ao=require(a0_0x4c7c55(0x521)),St=class{},Et=class extends U{constructor(..._0x20a98f){const _0x14ac65=a0_0x4c7c55;super(),this[_0x14ac65(0x7a4)]=(0x0,ao['Router'])(),this[_0x14ac65(0x7a4)][_0x14ac65(0x4c2)](this[_0x14ac65(0x5bd)](_0x14ac65(0x809)),..._0x20a98f,async(_0x4c0892,_0x20fec0)=>{const _0x35474b=_0x14ac65;let _0x5ba750=await this[_0x35474b(0x4ca)]({'request':_0x4c0892,'schema':Xa,'ClassRef':St,'execute':(_0x4d328d,_0x112b35)=>ms[_0x35474b(0x3b4)](_0x4d328d,_0x112b35)});_0x20fec0[_0x35474b(0x2bf)](0xc9)[_0x35474b(0x80d)](_0x5ba750);})[_0x14ac65(0x448)](this['routerPath']('find'),..._0x20a98f,async(_0x33b6af,_0x2090e9)=>{const _0x337de9=_0x14ac65;let _0x54682b=await this[_0x337de9(0x4ca)]({'request':_0x33b6af,'schema':M,'ClassRef':E,'execute':_0x2ca715=>ms['findWebhook'](_0x2ca715)});_0x2090e9['status'](0xc8)[_0x337de9(0x80d)](_0x54682b);});}},oo=require('express'),f=new v('FlowRouter'),Ct=class extends U{constructor(..._0x21d44e){const _0x56a101=a0_0x4c7c55;super(),this[_0x56a101(0x7a4)]=(0x0,oo[_0x56a101(0x22e)])(),this[_0x56a101(0x7a4)][_0x56a101(0x4c2)](this['routerPath'](_0x56a101(0x72f)),..._0x21d44e,async(_0x164d53,_0x52fa33)=>{const _0x2eefd2=_0x56a101;let _0x46717b=_0x164d53[_0x2eefd2(0x2aa)];f[_0x2eefd2(0x800)](_0x2eefd2(0x255)),f[_0x2eefd2(0x800)](_0x2eefd2(0x60c)),f[_0x2eefd2(0x800)](_0x164d53[_0x2eefd2(0x2aa)]);let _0xb62d87=await this[_0x2eefd2(0x4ca)]({'request':_0x164d53,'schema':M,'ClassRef':E,'execute':_0x18ae52=>T[_0x2eefd2(0x46b)](_0x18ae52,_0x46717b)});_0x52fa33[_0x2eefd2(0x2bf)](0xc8)[_0x2eefd2(0x80d)](_0xb62d87);})['get'](this[_0x56a101(0x5bd)]('scheduleMessage'),..._0x21d44e,async(_0x37a37c,_0xd59839)=>{const _0xe8c1a3=_0x56a101;let _0x541f99=await this[_0xe8c1a3(0x4ca)]({'request':_0x37a37c,'schema':M,'ClassRef':E,'execute':_0x47e100=>T[_0xe8c1a3(0x349)](_0x47e100)});_0xd59839[_0xe8c1a3(0x2bf)](0xc8)['json'](_0x541f99);})[_0x56a101(0x270)](this[_0x56a101(0x5bd)](_0x56a101(0x57f)),..._0x21d44e,async(_0xcd2695,_0x19aa49)=>{const _0x258ab7=_0x56a101;f[_0x258ab7(0x800)](_0x258ab7(0x563));let _0x9a2d40=await this['dataValidate']({'request':_0xcd2695,'schema':M,'ClassRef':E,'execute':_0x209af5=>T[_0x258ab7(0x57f)](_0x209af5)});_0x19aa49['status'](0xc8)[_0x258ab7(0x80d)](_0x9a2d40);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x311)),..._0x21d44e,async(_0x22b41b,_0x59de59)=>{const _0x46e469=_0x56a101;let _0x5242d3=_0x22b41b['body'];f[_0x46e469(0x800)](_0x46e469(0x376)),f[_0x46e469(0x800)](_0x46e469(0x60c)),f[_0x46e469(0x800)](_0x22b41b[_0x46e469(0x2aa)]);let _0x318338=await this[_0x46e469(0x4ca)]({'request':_0x22b41b,'schema':M,'ClassRef':E,'execute':_0x41fba4=>T['startFlow'](_0x41fba4,_0x5242d3)});_0x59de59[_0x46e469(0x2bf)](0xc8)[_0x46e469(0x80d)](_0x318338);})['get'](this['routerPath'](_0x56a101(0x715)),..._0x21d44e,async(_0x2d2ad7,_0x185065)=>{const _0x533f5c=_0x56a101;f[_0x533f5c(0x800)](_0x533f5c(0x711));let _0x39f7d9=await this[_0x533f5c(0x4ca)]({'request':_0x2d2ad7,'schema':M,'ClassRef':E,'execute':_0x10451b=>T[_0x533f5c(0x715)](_0x10451b)});_0x185065[_0x533f5c(0x2bf)](0xc8)[_0x533f5c(0x80d)](_0x39f7d9);})['get'](this['routerPath'](_0x56a101(0x471)),..._0x21d44e,async(_0x4897a8,_0xad6aa2)=>{const _0x3a2bc5=_0x56a101;f['verbose'](_0x3a2bc5(0x644));let _0xb77fd4=await this[_0x3a2bc5(0x4ca)]({'request':_0x4897a8,'schema':M,'ClassRef':E,'execute':_0x158eda=>T[_0x3a2bc5(0x715)](_0x158eda)});_0xad6aa2[_0x3a2bc5(0x2bf)](0xc8)[_0x3a2bc5(0x80d)](_0xb77fd4);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x792)),..._0x21d44e,async(_0x37a597,_0xbcac41)=>{const _0x5d25f1=_0x56a101;let _0x2e73e2=_0x37a597[_0x5d25f1(0x2aa)];f['verbose']('request\x20received\x20in\x20updateAgent'),f['verbose'](_0x5d25f1(0x60c)),f[_0x5d25f1(0x800)](_0x37a597['body']);let _0x3f9481=await this[_0x5d25f1(0x4ca)]({'request':_0x37a597,'schema':M,'ClassRef':E,'execute':_0x4d93cb=>T[_0x5d25f1(0x792)](_0x4d93cb,_0x2e73e2)});_0xbcac41[_0x5d25f1(0x2bf)](0xc8)[_0x5d25f1(0x80d)](_0x3f9481);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x514)),..._0x21d44e,async(_0x34133f,_0x3fc1f5)=>{const _0x579e6f=_0x56a101;let _0x35bc27=_0x34133f['body'];f[_0x579e6f(0x800)](_0x579e6f(0x733)),f['verbose']('request\x20body:\x20'),f[_0x579e6f(0x800)](_0x34133f['body']);let _0x45fd49=await this[_0x579e6f(0x4ca)]({'request':_0x34133f,'schema':M,'ClassRef':E,'execute':_0x3ae856=>T[_0x579e6f(0x514)](_0x3ae856,_0x35bc27)});_0x3fc1f5['status'](0xc8)[_0x579e6f(0x80d)](_0x45fd49);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x46d)),..._0x21d44e,async(_0xe38386,_0x1acfd5)=>{const _0x202298=_0x56a101;let _0x57811b=_0xe38386[_0x202298(0x2aa)];f[_0x202298(0x800)](_0x202298(0x548)),f['verbose'](_0x202298(0x60c)),f['verbose'](_0xe38386['body']);let _0x7cb735=await this[_0x202298(0x4ca)]({'request':_0xe38386,'schema':M,'ClassRef':E,'execute':_0x452644=>T[_0x202298(0x46d)](_0x452644,_0x57811b)});_0x1acfd5[_0x202298(0x2bf)](0xc8)['json'](_0x7cb735);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x301)),..._0x21d44e,async(_0x169e3f,_0x59b844)=>{const _0x1fdf63=_0x56a101;let _0x2459a8=_0x169e3f[_0x1fdf63(0x2aa)];f['verbose'](_0x1fdf63(0x4a4)),f[_0x1fdf63(0x800)](_0x1fdf63(0x60c)),f[_0x1fdf63(0x800)](_0x169e3f[_0x1fdf63(0x2aa)]);let _0x3ccd88=await this[_0x1fdf63(0x4ca)]({'request':_0x169e3f,'schema':M,'ClassRef':E,'execute':_0x51c911=>T[_0x1fdf63(0x301)](_0x51c911,_0x2459a8)});_0x59b844[_0x1fdf63(0x2bf)](0xc8)[_0x1fdf63(0x80d)](_0x3ccd88);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x290)),..._0x21d44e,async(_0x3759a1,_0x190323)=>{const _0x3129dd=_0x56a101;let _0x47582b=_0x3759a1[_0x3129dd(0x2aa)];f[_0x3129dd(0x800)](_0x3129dd(0x20f)),f[_0x3129dd(0x800)](_0x3129dd(0x60c)),f['verbose'](_0x3759a1[_0x3129dd(0x2aa)]);let _0xe0c49d=await this['dataValidate']({'request':_0x3759a1,'schema':M,'ClassRef':E,'execute':_0x6a6c7f=>T[_0x3129dd(0x290)](_0x6a6c7f,_0x47582b)});_0x190323[_0x3129dd(0x2bf)](0xc8)['json'](_0xe0c49d);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x4a3)),..._0x21d44e,async(_0x44a192,_0xaab4a8)=>{const _0x283603=_0x56a101;let _0x590e57=_0x44a192['body'];f[_0x283603(0x800)](_0x283603(0x266)),f['verbose'](_0x283603(0x60c)),f[_0x283603(0x800)](_0x44a192['body']);let _0x2cdfa7=await this[_0x283603(0x4ca)]({'request':_0x44a192,'schema':M,'ClassRef':E,'execute':_0x24abde=>T[_0x283603(0x4a3)](_0x24abde,_0x590e57)});_0xaab4a8[_0x283603(0x2bf)](0xc8)[_0x283603(0x80d)](_0x2cdfa7);})['delete'](this[_0x56a101(0x5bd)](_0x56a101(0x624)),..._0x21d44e,async(_0x1401dd,_0x57ae56)=>{const _0x4184fb=_0x56a101;let _0x210ac7=_0x1401dd[_0x4184fb(0x2aa)];f[_0x4184fb(0x800)](_0x4184fb(0x7ba)),f[_0x4184fb(0x800)](_0x4184fb(0x60c)),f[_0x4184fb(0x800)](_0x1401dd['body']);let _0x398865=await this['dataValidate']({'request':_0x1401dd,'schema':M,'ClassRef':E,'execute':_0x45501d=>T[_0x4184fb(0x624)](_0x45501d,_0x210ac7)});_0x57ae56[_0x4184fb(0x2bf)](0xc8)['json'](_0x398865);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x2d8)),..._0x21d44e,async(_0x4a0174,_0x530a50)=>{const _0x445284=_0x56a101;let _0x398111=_0x4a0174['body'];f[_0x445284(0x800)](_0x445284(0x1f0)),f[_0x445284(0x800)](_0x445284(0x60c)),f['verbose'](_0x4a0174[_0x445284(0x2aa)]);let _0x4166b0=await this[_0x445284(0x4ca)]({'request':_0x4a0174,'schema':M,'ClassRef':E,'execute':_0x471cbc=>T['createFlow'](_0x471cbc,_0x398111)});_0x530a50[_0x445284(0x2bf)](0xc8)['json'](_0x4166b0);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x4bf)),..._0x21d44e,async(_0x5f1351,_0x1ae180)=>{const _0x537d03=_0x56a101;let _0x15c3fc=_0x5f1351[_0x537d03(0x2aa)];f['verbose'](_0x537d03(0x3b3)),f[_0x537d03(0x800)](_0x537d03(0x60c)),f[_0x537d03(0x800)](_0x5f1351['body']),delete _0x15c3fc[_0x537d03(0x660)],delete _0x15c3fc[_0x537d03(0x707)],delete _0x15c3fc['groups'],delete _0x15c3fc[_0x537d03(0x4d3)];let _0x56e7e4=await this[_0x537d03(0x4ca)]({'request':_0x5f1351,'schema':M,'ClassRef':E,'execute':_0x4d4f7a=>T[_0x537d03(0x494)](_0x4d4f7a,_0x15c3fc)});_0x1ae180[_0x537d03(0x2bf)](0xc8)[_0x537d03(0x80d)](_0x56e7e4);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x42c)),..._0x21d44e,async(_0x5b4f59,_0x58f67f)=>{const _0x3b9a9d=_0x56a101;let _0x3c6f79=_0x5b4f59['body'];f[_0x3b9a9d(0x800)](_0x3b9a9d(0x3b3)),f[_0x3b9a9d(0x800)](_0x3b9a9d(0x60c)),f[_0x3b9a9d(0x800)](_0x5b4f59[_0x3b9a9d(0x2aa)]);let _0xe23200=await this[_0x3b9a9d(0x4ca)]({'request':_0x5b4f59,'schema':M,'ClassRef':E,'execute':_0x2faa43=>T[_0x3b9a9d(0x264)](_0x2faa43,_0x3c6f79)});_0x58f67f[_0x3b9a9d(0x2bf)](0xc8)['json'](_0xe23200);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)]('editflowreply'),..._0x21d44e,async(_0x37c908,_0x10ca3c)=>{const _0x358e77=_0x56a101;let _0x4d2ed7=_0x37c908[_0x358e77(0x2aa)];f[_0x358e77(0x800)]('request\x20received\x20in\x20editFlow'),f[_0x358e77(0x800)](_0x358e77(0x60c)),f[_0x358e77(0x800)](_0x37c908['body']);let _0x36e40c=await this[_0x358e77(0x4ca)]({'request':_0x37c908,'schema':M,'ClassRef':E,'execute':_0x2fce72=>T['editFlowReply'](_0x2fce72,_0x4d2ed7)});_0x10ca3c['status'](0xc8)['json'](_0x36e40c);})['post'](this[_0x56a101(0x5bd)](_0x56a101(0x7f1)),..._0x21d44e,async(_0x115ce8,_0xe86a27)=>{const _0x152c8f=_0x56a101;let _0x4e7d06=_0x115ce8[_0x152c8f(0x2aa)];f[_0x152c8f(0x800)](_0x152c8f(0x3b3)),f[_0x152c8f(0x800)](_0x152c8f(0x60c)),f[_0x152c8f(0x800)](_0x115ce8[_0x152c8f(0x2aa)]);let _0xc5dd9b=await this[_0x152c8f(0x4ca)]({'request':_0x115ce8,'schema':M,'ClassRef':E,'execute':_0x4b65a0=>T['editFlowVaredit'](_0x4b65a0,_0x4e7d06)});_0xe86a27[_0x152c8f(0x2bf)](0xc8)['json'](_0xc5dd9b);})[_0x56a101(0x4c2)](this['routerPath'](_0x56a101(0x780)),..._0x21d44e,async(_0x2f7662,_0x8d6ba3)=>{const _0x3a9dc8=_0x56a101;let _0x13a58f=_0x2f7662['body'];f[_0x3a9dc8(0x800)](_0x3a9dc8(0x78f)),f[_0x3a9dc8(0x800)](_0x3a9dc8(0x60c)),f['verbose'](_0x2f7662[_0x3a9dc8(0x2aa)]);let _0x479593=await this['dataValidate']({'request':_0x2f7662,'schema':M,'ClassRef':E,'execute':_0xf7b74=>T[_0x3a9dc8(0x6b1)](_0xf7b74,_0x13a58f)});_0x8d6ba3[_0x3a9dc8(0x2bf)](0xc8)['json'](_0x479593);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)](_0x56a101(0x79a)),..._0x21d44e,async(_0x35cf8e,_0x143c10)=>{const _0x45c8ef=_0x56a101;let _0x3e683a=_0x35cf8e[_0x45c8ef(0x2aa)];f[_0x45c8ef(0x800)](_0x45c8ef(0x5dd)),f[_0x45c8ef(0x800)]('request\x20body:\x20'),f[_0x45c8ef(0x800)](_0x35cf8e[_0x45c8ef(0x2aa)]);let _0x56cbbe=await this[_0x45c8ef(0x4ca)]({'request':_0x35cf8e,'schema':M,'ClassRef':E,'execute':_0x3f0ab3=>T[_0x45c8ef(0x460)](_0x3f0ab3,_0x3e683a)});_0x143c10[_0x45c8ef(0x2bf)](0xc8)['json'](_0x56cbbe);})['post'](this[_0x56a101(0x5bd)]('editflowvariable'),..._0x21d44e,async(_0x1414cd,_0xde5142)=>{const _0x3c48ff=_0x56a101;let _0xf5b9c1=_0x1414cd[_0x3c48ff(0x2aa)];f[_0x3c48ff(0x800)](_0x3c48ff(0x4f5)),f[_0x3c48ff(0x800)](_0x3c48ff(0x60c)),f[_0x3c48ff(0x800)](_0x1414cd[_0x3c48ff(0x2aa)]);let _0x348620=await this[_0x3c48ff(0x4ca)]({'request':_0x1414cd,'schema':M,'ClassRef':E,'execute':_0x112138=>T[_0x3c48ff(0x4ab)](_0x112138,_0xf5b9c1)});_0xde5142[_0x3c48ff(0x2bf)](0xc8)[_0x3c48ff(0x80d)](_0x348620);})[_0x56a101(0x4c2)](this[_0x56a101(0x5bd)]('getflow'),..._0x21d44e,async(_0x50d9f8,_0x1be83)=>{const _0x371372=_0x56a101;let _0x49e217=_0x50d9f8['body'];f[_0x371372(0x800)](_0x371372(0x35c)),f['verbose'](_0x371372(0x60c)),f['verbose'](_0x50d9f8['body']);let _0x374895=await this['dataValidate']({'request':_0x50d9f8,'schema':M,'ClassRef':E,'execute':_0x9987df=>T[_0x371372(0x327)](_0x9987df,_0x49e217)});_0x1be83['status'](0xc8)[_0x371372(0x80d)](_0x374895);})[_0x56a101(0x270)](this[_0x56a101(0x5bd)]('deleteflow'),..._0x21d44e,async(_0x1d6303,_0x52612b)=>{const _0x38d400=_0x56a101;let _0x241d53=_0x1d6303[_0x38d400(0x2aa)];f[_0x38d400(0x800)](_0x38d400(0x508)),f[_0x38d400(0x800)](_0x38d400(0x60c)),f[_0x38d400(0x800)](_0x1d6303['body']);let _0x34327a=await this[_0x38d400(0x4ca)]({'request':_0x1d6303,'schema':M,'ClassRef':E,'execute':_0x21e393=>T[_0x38d400(0x3c9)](_0x21e393,_0x241d53)});_0x52612b['status'](0xc8)['json'](_0x34327a);})[_0x56a101(0x448)](this[_0x56a101(0x5bd)](_0x56a101(0x6be)),..._0x21d44e,async(_0x33ef14,_0xae8882)=>{const _0x3570a5=_0x56a101;f[_0x3570a5(0x800)](_0x3570a5(0x6f8));let _0x59f663=await this['dataValidate']({'request':_0x33ef14,'schema':M,'ClassRef':E,'execute':_0x30fbed=>T[_0x3570a5(0x1ff)](_0x30fbed)});_0xae8882[_0x3570a5(0x2bf)](0xc8)[_0x3570a5(0x80d)](_0x59f663);});}},co=R(require(a0_0x4c7c55(0x1fa))),X={};function ro(_0x416665,_0x4fdefd,_0x458672,_0x3513f7){X[_0x416665]||(X[_0x416665]={}),X[_0x416665][_0x4fdefd]={'id':_0x4fdefd,'response':_0x458672,'events':_0x3513f7};}function io(_0x38a2c4,_0x2b9394){!X[_0x38a2c4]||!X[_0x38a2c4][_0x2b9394]||delete X[_0x38a2c4][_0x2b9394];}function J(_0x42140a,_0x395a11,_0x45bab8){const _0x3bfcb6=a0_0x4c7c55;if(!X[_0x42140a])return;let _0x1b54e2=_0x3bfcb6(0x552)+JSON[_0x3bfcb6(0x6c4)](_0x45bab8)+'\x0a\x0a';Object[_0x3bfcb6(0x316)](X[_0x42140a])[_0x3bfcb6(0x559)](_0x5e8f49=>{const _0x56ed8e=_0x3bfcb6;_0x5e8f49[_0x56ed8e(0x78d)]['includes'](_0x395a11)&&_0x5e8f49[_0x56ed8e(0x728)][_0x56ed8e(0x31e)](_0x1b54e2);});}function no(){const _0x44d685=a0_0x4c7c55;let _0x5d4f29={};for(let _0x30b44b in X)_0x5d4f29[_0x30b44b]=Object[_0x44d685(0x316)](X[_0x30b44b])['map'](_0x1921bb=>({'id':_0x1921bb['id'],'events':_0x1921bb[_0x44d685(0x78d)]}));return _0x5d4f29;}var lo=require(a0_0x4c7c55(0x37c)),ws=require(a0_0x4c7c55(0x2de)),fs=class{},cr=new ws[(a0_0x4c7c55(0x83c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x4c7c55(0x83c))]({'_id':{'type':String,'default':a0_0x4c7c55(0x4c5)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x4c7c55(0x422)](fs['name'],lr,a0_0x4c7c55(0x75e)),ur=co[a0_0x4c7c55(0x697)]['join'](__dirname,'downloads'),vt=(0x0,Mt['Router'])(),dr=b[a0_0x4c7c55(0x448)](a0_0x4c7c55(0x3a3))[a0_0x4c7c55(0x59d)],te=[ma,fa,ba[dr]];vt[a0_0x4c7c55(0x781)](a0_0x4c7c55(0x64f),Mt[a0_0x4c7c55(0x697)][a0_0x4c7c55(0x62b)](ur))[a0_0x4c7c55(0x448)](a0_0x4c7c55(0x6f3),async(_0x2c5a96,_0x1cafd9)=>{const _0x31c501=a0_0x4c7c55;console['log'](_0x31c501(0x5b7));let _0x4f1b4c=_0x2c5a96[_0x31c501(0x705)]['instance'],_0x14e637=(_0x2c5a96['query'][_0x31c501(0x78d)]||'')[_0x31c501(0x81e)](','),_0x15cba7=(0x0,lo['v4'])();console[_0x31c501(0x219)](_0x31c501(0x6f0),_0x4f1b4c),console[_0x31c501(0x219)]('Subscribed\x20Events:',_0x14e637);let _0x4929cf=b['get']('AUTHENTICATION')[_0x31c501(0x77e)],_0x5e6688=_0x2c5a96[_0x31c501(0x3d9)][_0x31c501(0x64d)];if(console[_0x31c501(0x219)]('API\x20Key\x20from\x20Request:',_0x5e6688),_0x4929cf[_0x31c501(0x20c)]!==_0x5e6688){console[_0x31c501(0x219)](_0x31c501(0x6a2));try{let _0x4e7917=await ce[_0x31c501(0x438)][_0x31c501(0x557)](_0x4f1b4c);if(console[_0x31c501(0x219)](_0x31c501(0x1c2),_0x4e7917),!_0x4e7917||_0x4e7917[_0x31c501(0x64d)]!==_0x5e6688)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x1cafd9[_0x31c501(0x2bf)](0x191)[_0x31c501(0x4a5)](_0x31c501(0x383));}catch(_0x13e718){return console['error'](_0x31c501(0x7d1),_0x13e718),_0x1cafd9[_0x31c501(0x2bf)](0x191)[_0x31c501(0x4a5)](_0x31c501(0x796));}}if(!await We(_0x4f1b4c))return _0x1cafd9[_0x31c501(0x2bf)](0x194)[_0x31c501(0x4a5)]('Instncia\x20no\x20encontrada.');_0x1cafd9[_0x31c501(0x611)]('Content-Type',_0x31c501(0x652)),_0x1cafd9[_0x31c501(0x611)]('Cache-Control',_0x31c501(0x374)),_0x1cafd9[_0x31c501(0x611)](_0x31c501(0x36b),_0x31c501(0x59e)),_0x1cafd9[_0x31c501(0x262)]();let _0x507304=_0x31c501(0x552)+JSON['stringify']({'info':_0x31c501(0x658)})+'\x0a\x0a';_0x1cafd9[_0x31c501(0x31e)](_0x507304),ro(_0x4f1b4c,_0x15cba7,_0x1cafd9,_0x14e637),_0x2c5a96['on']('close',()=>{const _0x42f498=_0x31c501;console[_0x42f498(0x219)](_0x42f498(0x32d)+_0x4f1b4c),io(_0x4f1b4c,_0x15cba7);});}),vt['get'](a0_0x4c7c55(0x5b8),(_0xa2d5b3,_0x4a1eca)=>{let _0x1753b6=no();_0x4a1eca['json'](_0x1753b6);})[a0_0x4c7c55(0x448)]('/',(_0x469d4e,_0x24eab9)=>{const _0x543536=a0_0x4c7c55;let _0x1f1324=b[_0x543536(0x448)](_0x543536(0x54c)),_0x477a6c=_0x1f1324&&_0x1f1324[_0x543536(0x6b0)][_0x543536(0x81e)]('/')[0x4];if(_0x477a6c){let _0x5f289d=encodeURIComponent(_0x543536(0x490)+_0x477a6c);_0x24eab9[_0x543536(0x62a)](_0x543536(0x1e2)+_0x5f289d);}else _0x24eab9[_0x543536(0x62a)](_0x543536(0x43e));})['put'](a0_0x4c7c55(0x330),...te,async(_0x19639c,_0x2736d4)=>{const _0x17b50e=a0_0x4c7c55;try{console['log'](_0x17b50e(0x408)),_0x2736d4[_0x17b50e(0x2bf)](0xc8)[_0x17b50e(0x80d)]({'message':_0x17b50e(0x2b2)}),_0x2736d4['on'](_0x17b50e(0x4fd),()=>process[_0x17b50e(0x75b)](0x0));}catch(_0x1975bd){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x1975bd),_0x2736d4[_0x17b50e(0x2bf)](0x1f4)[_0x17b50e(0x80d)]({'message':_0x17b50e(0x2f7)});}})['put'](a0_0x4c7c55(0x665),...te,async(_0x55f286,_0xf3a7ed)=>{const _0x3b2aed=a0_0x4c7c55;try{let _0x174580=_0x55f286[_0x3b2aed(0x2aa)];await we[_0x3b2aed(0x53d)]({},{'$set':_0x174580},{'upsert':!0x0});let _0x590c8f=await we[_0x3b2aed(0x6bf)]();_0xf3a7ed[_0x3b2aed(0x80d)](_0x590c8f);}catch(_0x295113){_0xf3a7ed[_0x3b2aed(0x2bf)](0x190)[_0x3b2aed(0x4a5)](_0x295113[_0x3b2aed(0x372)]);}})[a0_0x4c7c55(0x448)](a0_0x4c7c55(0x665),...te,async(_0x1b75e3,_0x57bbfa)=>{const _0x7e9b39=a0_0x4c7c55;try{let _0x16321a=await we[_0x7e9b39(0x6bf)]();if(!_0x16321a)return _0x57bbfa[_0x7e9b39(0x80d)]({});_0x57bbfa['json'](_0x16321a);}catch(_0x1745e0){_0x57bbfa[_0x7e9b39(0x2bf)](0x1f4)[_0x7e9b39(0x4a5)](_0x1745e0[_0x7e9b39(0x372)]);}})[a0_0x4c7c55(0x781)](a0_0x4c7c55(0x1e4),new ct(b,...te)[a0_0x4c7c55(0x7a4)])[a0_0x4c7c55(0x781)](a0_0x4c7c55(0x231),new bt(...te)['router'])['use'](a0_0x4c7c55(0x850),new Xe(...te)[a0_0x4c7c55(0x7a4)])[a0_0x4c7c55(0x781)](a0_0x4c7c55(0x324),new nt(...te)['router'])[a0_0x4c7c55(0x781)](a0_0x4c7c55(0x456),new Et(...te)[a0_0x4c7c55(0x7a4)])[a0_0x4c7c55(0x781)]('/automate',new Ct(...te)[a0_0x4c7c55(0x7a4)]);var m=class{constructor(..._0x387f57){const _0x450f64=a0_0x4c7c55;throw{'status':0x190,'error':_0x450f64(0x5a1),'message':_0x387f57[_0x450f64(0x676)]>0x0?_0x387f57:void 0x0};}},ee=class{constructor(..._0x313a3d){const _0x46112d=a0_0x4c7c55;throw{'status':0x191,'error':_0x46112d(0x52c),'message':_0x313a3d['length']>0x0?_0x313a3d:void 0x0};}},K=class{constructor(..._0x34fc8c){throw{'status':0x193,'error':'Forbidden','message':_0x34fc8c['length']>0x0?_0x34fc8c:void 0x0};}},j=class{constructor(..._0x42adce){const _0xab20c9=a0_0x4c7c55;throw{'status':0x194,'error':'Not\x20Found','message':_0x42adce[_0xab20c9(0x676)]>0x0?_0x42adce:void 0x0};}},O=class{constructor(..._0x5d6c56){const _0x3482ba=a0_0x4c7c55;throw{'status':0x1f4,'error':_0x3482ba(0x62e),'message':_0x5d6c56[_0x3482ba(0x676)]>0x0?_0x5d6c56:void 0x0};}},ue=require(a0_0x4c7c55(0x48e));async function ys(_0x53eac1){const _0x4131d0=a0_0x4c7c55;let _0x13c5c9=new v(ys[_0x4131d0(0x6ca)]),_0xa97b4f=N[_0x4131d0(0x5c6)](),_0x1adabb=_0xa97b4f['db'](b[_0x4131d0(0x448)](_0x4131d0(0x1d2))[_0x4131d0(0x4aa)][_0x4131d0(0x6d5)]+_0x4131d0(0x825))[_0x4131d0(0x5bb)](_0x53eac1),_0x144406=async(_0x5c1aee,_0x2a7143)=>{const _0x1f3aae=_0x4131d0;try{return await _0xa97b4f[_0x1f3aae(0x7e9)](),await _0x1adabb['replaceOne']({'_id':_0x2a7143},JSON['parse'](JSON['stringify'](_0x5c1aee,ue[_0x1f3aae(0x80a)][_0x1f3aae(0x253)])),{'upsert':!0x0});}catch{}},_0x19c6b8=async _0x317e47=>{const _0x4d8779=_0x4131d0;try{await _0xa97b4f[_0x4d8779(0x7e9)]();let _0x2a3e00=await _0x1adabb['findOne']({'_id':_0x317e47}),_0xb8118d=JSON['stringify'](_0x2a3e00);return JSON['parse'](_0xb8118d,ue[_0x4d8779(0x80a)][_0x4d8779(0x6a4)]);}catch{}},_0x4e2f4f=async _0x19a4b4=>{const _0x1dac32=_0x4131d0;try{return await _0xa97b4f[_0x1dac32(0x7e9)](),await _0x1adabb[_0x1dac32(0x801)]({'_id':_0x19a4b4});}catch{}},_0x487f3f=await _0x19c6b8(_0x4131d0(0x831))||(0x0,ue[_0x4131d0(0x4e5)])();return{'state':{'creds':_0x487f3f,'keys':{'get':async(_0x4d98f6,_0xa364e1)=>{const _0x99f29f=_0x4131d0;let _0x3535b5={};return await Promise['all'](_0xa364e1[_0x99f29f(0x4df)](async _0xd074f0=>{const _0xb89605=_0x99f29f;let _0xff3fc9=await _0x19c6b8(_0x4d98f6+'-'+_0xd074f0);_0x4d98f6===_0xb89605(0x4de)&&_0xff3fc9&&(_0xff3fc9=ue['proto'][_0xb89605(0x215)]['AppStateSyncKeyData'][_0xb89605(0x407)](_0xff3fc9)),_0x3535b5[_0xd074f0]=_0xff3fc9;})),_0x3535b5;},'set':async _0x23be43=>{const _0x481008=_0x4131d0;let _0x51aee4=[];for(let _0x51c9cc in _0x23be43)for(let _0x58b99c in _0x23be43[_0x51c9cc]){let _0x55d072=_0x23be43[_0x51c9cc][_0x58b99c],_0x5cf992=_0x51c9cc+'-'+_0x58b99c;_0x51aee4[_0x481008(0x56b)](_0x55d072?_0x144406(_0x55d072,_0x5cf992):_0x4e2f4f(_0x5cf992));}await Promise[_0x481008(0x5d6)](_0x51aee4);}}},'saveCreds':async()=>_0x144406(_0x487f3f,_0x4131d0(0x831))};}var Es=R(require(a0_0x4c7c55(0x1f9))),Cs=R(require(a0_0x4c7c55(0x5d0))),Tt=require(a0_0x4c7c55(0x48e)),uo=require(a0_0x4c7c55(0x293)),Rt=require(a0_0x4c7c55(0x48e)),Nt;function pr(_0x2263f0){const _0x2c5dd8=a0_0x4c7c55;return Nt||(Nt=(0x0,uo['createClient'])({'url':_0x2263f0[_0x2c5dd8(0x576)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x8a8454,_0x1b3605){const _0x5c9125=a0_0x4c7c55;this[_0x5c9125(0x5e0)]=_0x8a8454,this[_0x5c9125(0x515)]=_0x1b3605,this[_0x5c9125(0x756)]=new v(c[_0x5c9125(0x6ca)]),this[_0x5c9125(0x227)]=pr(_0x8a8454);}set[a0_0x4c7c55(0x54f)](_0xfd9806){const _0x4d5a5c=a0_0x4c7c55;this[_0x4d5a5c(0x515)]=_0xfd9806;}async[a0_0x4c7c55(0x6fe)](){const _0x5f077e=a0_0x4c7c55;try{return await this[_0x5f077e(0x227)][_0x5f077e(0x280)]([_0x5f077e(0x722),this[_0x5f077e(0x5e0)][_0x5f077e(0x766)]+':*']);}catch(_0x3ed982){this['logger'][_0x5f077e(0x546)](_0x3ed982);}}async[a0_0x4c7c55(0x4b9)](_0x5d78be,_0x56140d){const _0xb93529=a0_0x4c7c55;try{let _0x4de420=JSON[_0xb93529(0x6c4)](_0x56140d,Rt[_0xb93529(0x80a)][_0xb93529(0x253)]);return await this['client'][_0xb93529(0x387)](this[_0xb93529(0x5e0)]['PREFIX_KEY']+':'+this['instanceName'],_0x5d78be,_0x4de420);}catch(_0x3f27d3){this[_0xb93529(0x756)]['error'](_0x3f27d3);}}async[a0_0x4c7c55(0x40a)](){const _0x34da55=a0_0x4c7c55;try{let _0x50ea54=await this['client'][_0x34da55(0x41b)](this[_0x34da55(0x5e0)][_0x34da55(0x766)]+':'+this[_0x34da55(0x515)]);if(_0x50ea54){for(let _0x483033 in _0x50ea54)Object[_0x34da55(0x6aa)]['hasOwnProperty'][_0x34da55(0x7f7)](_0x50ea54,_0x483033)&&(_0x50ea54[_0x483033]=JSON['parse'](_0x50ea54[_0x483033],Rt[_0x34da55(0x80a)][_0x34da55(0x6a4)]));return _0x50ea54;}}catch(_0x2cd7c2){this[_0x34da55(0x756)][_0x34da55(0x546)](_0x2cd7c2);}}async[a0_0x4c7c55(0x84d)](_0x5da545){const _0x3b0e03=a0_0x4c7c55;try{let _0x19177e=await this[_0x3b0e03(0x227)][_0x3b0e03(0x40f)](this[_0x3b0e03(0x5e0)][_0x3b0e03(0x766)]+':'+this[_0x3b0e03(0x515)],_0x5da545);if(_0x19177e)return JSON[_0x3b0e03(0x2b9)](_0x19177e,Rt[_0x3b0e03(0x80a)][_0x3b0e03(0x6a4)]);}catch(_0x383992){this['logger'][_0x3b0e03(0x546)](_0x383992);}}async[a0_0x4c7c55(0x70c)](_0x466d70){const _0x274208=a0_0x4c7c55;try{return await this[_0x274208(0x227)][_0x274208(0x441)](this['redisEnv'][_0x274208(0x766)]+':'+this[_0x274208(0x515)],_0x466d70);}catch(_0x2201d7){this[_0x274208(0x756)][_0x274208(0x546)](_0x2201d7);}}async[a0_0x4c7c55(0x392)](_0xefc8cc){const _0x3cf30b=a0_0x4c7c55;try{return await this[_0x3cf30b(0x227)][_0x3cf30b(0x580)](_0xefc8cc||this[_0x3cf30b(0x5e0)][_0x3cf30b(0x766)]+':'+this[_0x3cf30b(0x515)]);}catch(_0x96f0d1){this['logger'][_0x3cf30b(0x546)](_0x96f0d1);}}};async function bs(_0x5c7279,_0x2edbda){const _0x500f18=a0_0x4c7c55;let _0x18ad66=new v(bs[_0x500f18(0x6ca)]),_0x2d3a99=new oe(_0x5c7279,_0x2edbda),_0x520d57=async(_0x1273e3,_0x1682ea)=>{const _0x2e7526=_0x500f18;try{return await _0x2d3a99[_0x2e7526(0x4b9)](_0x1682ea,_0x1273e3);}catch(_0x354180){return _0x18ad66[_0x2e7526(0x546)]({'localError':_0x2e7526(0x4b9),'error':_0x354180});}},_0x38f634=async _0x85b83a=>{const _0x4b9451=_0x500f18;try{return await _0x2d3a99[_0x4b9451(0x84d)](_0x85b83a);}catch(_0x3a1ed8){_0x18ad66[_0x4b9451(0x546)]({'readData':_0x4b9451(0x4b9),'error':_0x3a1ed8});return;}},_0x4da88e=async _0x20fec9=>{const _0x295327=_0x500f18;try{return await _0x2d3a99[_0x295327(0x70c)](_0x20fec9);}catch(_0xcdc76d){_0x18ad66[_0x295327(0x546)]({'readData':_0x295327(0x70c),'error':_0xcdc76d});}},_0x2ac94d=await _0x38f634(_0x500f18(0x831))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x2ac94d,'keys':{'get':async(_0x590c2f,_0x1b3952)=>{const _0x25365f=_0x500f18;let _0x34ae1f={};return await Promise[_0x25365f(0x5d6)](_0x1b3952[_0x25365f(0x4df)](async _0x24d2a9=>{const _0x533290=_0x25365f;let _0x15966e=await _0x38f634(_0x590c2f+'-'+_0x24d2a9);_0x590c2f===_0x533290(0x4de)&&_0x15966e&&(_0x15966e=Tt[_0x533290(0x2e6)][_0x533290(0x215)][_0x533290(0x2ab)][_0x533290(0x407)](_0x15966e)),_0x34ae1f[_0x24d2a9]=_0x15966e;})),_0x34ae1f;},'set':async _0x8a64bf=>{const _0x5282fe=_0x500f18;let _0x24b1df=[];for(let _0x28eb3b in _0x8a64bf)for(let _0x4d8604 in _0x8a64bf[_0x28eb3b]){let _0x4fe62c=_0x8a64bf[_0x28eb3b][_0x4d8604],_0x5e03ca=_0x28eb3b+'-'+_0x4d8604;_0x24b1df[_0x5282fe(0x56b)](_0x4fe62c?await _0x520d57(_0x4fe62c,_0x5e03ca):await _0x4da88e(_0x5e03ca));}await Promise['all'](_0x24b1df);}}},'saveCreds':async()=>await _0x520d57(_0x2ac94d,_0x500f18(0x831))};}var L=R(require('fs')),Me=require(a0_0x4c7c55(0x37c)),xt=R(require(a0_0x4c7c55(0x736))),Dt=require(a0_0x4c7c55(0x38f)),gr='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x4c7c55(0x360)](),At=gr[a0_0x4c7c55(0x81e)]('\x0a')[a0_0x4c7c55(0x4df)](_0x4a2675=>{const _0x12d285=a0_0x4c7c55;let _0x20628e=_0x4a2675['split'](':');return{'host':_0x20628e[0x0],'port':_0x20628e[0x1],'username':_0x20628e[0x2],'password':_0x20628e[0x3],'protocol':_0x12d285(0x3a6)};});function po(_0x2a0889){const _0x42718d=a0_0x4c7c55;let _0x543c3b=At[_0x42718d(0x557)](_0x2353d1=>_0x2353d1[_0x42718d(0x5ae)]===_0x2a0889);return _0x543c3b||null;}function go(){const _0x2e1646=a0_0x4c7c55;if(At['length']===0x0)return null;let _0x352663=Math[_0x2e1646(0x704)](Math[_0x2e1646(0x675)]()*At[_0x2e1646(0x676)]);return At[_0x352663];}function ho(_0x13bdaa){const _0x103737=a0_0x4c7c55;let _0x292fc1=_0x2af2f6=>typeof _0x2af2f6==_0x103737(0x6ed)&&_0x2af2f6[_0x103737(0x676)]>0x0,_0x519d56=_0x3436f8=>{let _0x9a82b3=parseInt(_0x3436f8,0xa);return!isNaN(_0x9a82b3)&&_0x9a82b3>0x0&&_0x9a82b3<=0xffff;},_0x212d9e=_0x4cad4d=>typeof _0x4cad4d==_0x103737(0x6ed)&&_0x4cad4d['length']>0x0;return _0x13bdaa&&_0x292fc1(_0x13bdaa[_0x103737(0x5ae)])&&_0x519d56(_0x13bdaa[_0x103737(0x770)])&&_0x212d9e(_0x13bdaa[_0x103737(0x813)])&&_0x212d9e(_0x13bdaa[_0x103737(0x4b5)])&&(_0x13bdaa[_0x103737(0x816)]===_0x103737(0x3a6)||_0x13bdaa['protocol']==='https');}var Eo=a0_0x4c7c55(0x692),Ms,re=null,mo=null,He=null,hr=0x3,mr=null;async function fr(){const _0x13aec3=a0_0x4c7c55;let _0x279b61=await we[_0x13aec3(0x6bf)]();re=_0x279b61?.[_0x13aec3(0x73f)]??null,mr=_0x279b61?.[_0x13aec3(0x21a)]??null,Eo=_0x279b61?.[_0x13aec3(0x345)]??_0x13aec3(0x692),Ms=_0x279b61?.[_0x13aec3(0x7c1)]??vs??'uazapi',console['log'](_0x13aec3(0x659)),console[_0x13aec3(0x219)](_0x279b61);}async function wr(){await fr();}wr();function P(_0x3faf06){const _0x1e0d85=a0_0x4c7c55;if(_0x3faf06[_0x1e0d85(0x3ea)]&&_0x3faf06['ephemeralMessage']['message'])return P(_0x3faf06[_0x1e0d85(0x3ea)]['message']);if(_0x3faf06[_0x1e0d85(0x55d)]||_0x3faf06[_0x1e0d85(0x289)]){let _0x43a5bf=_0x3faf06[_0x1e0d85(0x55d)]?_0x3faf06['viewOnceMessage'][_0x1e0d85(0x372)]:_0x3faf06[_0x1e0d85(0x289)]['message'];if(_0x43a5bf)return(0x0,y['getContentType'])(_0x43a5bf);}return _0x3faf06['pollCreationMessageV3']?_0x1e0d85(0x3e7):_0x3faf06['pollCreationMessageV2']?_0x1e0d85(0x645):_0x3faf06[_0x1e0d85(0x1f5)]?'viewOnceMessageV2Extension':(0x0,y['getContentType'])(_0x3faf06);}var fo={},ye=class c{constructor(_0x5bed47,_0x562fe0,_0x1de674){const _0x182bac=a0_0x4c7c55;this[_0x182bac(0x2fb)]=_0x5bed47,this['eventEmitter']=_0x562fe0,this[_0x182bac(0x409)]=_0x1de674,this['AutomateSystem']=null,this[_0x182bac(0x756)]=new v(c[_0x182bac(0x6ca)]),this[_0x182bac(0x237)]={},this[_0x182bac(0x2a9)]={},this['stateConnection']={'state':'close'},this['storePath']=(0x0,F[_0x182bac(0x1c0)])(ae,_0x182bac(0x45d)),this[_0x182bac(0x32f)]=new Cs[(_0x182bac(0x697))](),this[_0x182bac(0x6c5)]=new Cs['default'](),this[_0x182bac(0x77a)]=!0x1,this['webhookMap']={'status.instance':_0x182bac(0x767),'qrcode.updated':_0x182bac(0x6cd),'messages.upsert':'/wa-message','messages.update':_0x182bac(0x28b),'send.message':_0x182bac(0x81c),'group.upsert':'/wa-groups','group.update':_0x182bac(0x3e6),'group-participants.update':_0x182bac(0x3e6),'connection.update':_0x182bac(0x767),'messages.set':_0x182bac(0x81c),'contacts.set':_0x182bac(0x44d),'contacts.upsert':_0x182bac(0x44d),'contacts.update':'/wa-contacts','presence.update':_0x182bac(0x2d2),'chats.set':_0x182bac(0x853),'chats.update':_0x182bac(0x853),'chats.upsert':'/wa-chats','chats.delete':_0x182bac(0x853)},this[_0x182bac(0x7bf)]=0x0,this['reconnectTimestamps']=[],this[_0x182bac(0x6c7)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x182bac(0x2f4)]=!0x1,this[_0x182bac(0x5fb)]={'chats.upsert':async(_0x2bbe85,_0x109b3a)=>{const _0x37085d=_0x182bac;let _0x5100ef=[];for await(let _0x9a3ced of _0x2bbe85)_0x5100ef[_0x37085d(0x56b)]({'_id':_0x9a3ced['id'],'owner':this[_0x37085d(0x237)][_0x37085d(0x650)],'group':_0x9a3ced['id'][_0x37085d(0x5a6)]('@g.us'),'name':_0x9a3ced[_0x37085d(0x6ca)]||_0x9a3ced[_0x37085d(0x54a)]||null,'contactname':null,'lastmsg':_0x9a3ced[_0x37085d(0x587)]&&_0x9a3ced['conversationTimestamp']['toString']()['length']<0xd?_0x9a3ced['conversationTimestamp']*0x3e8:_0x9a3ced[_0x37085d(0x587)]||null,'archived':_0x9a3ced['archived']||!0x1,'unreadcount':_0x9a3ced['unreadCount']||0x0});this[_0x37085d(0x263)](_0x37085d(0x2ec),_0x5100ef);},'chats.update':async(_0xecccff,_0x4385de)=>{const _0x19d123=_0x182bac;for(let _0x4561ba of _0xecccff){let _0x131125={'_id':_0x4561ba['id'],'owner':this['instance'][_0x19d123(0x650)],'group':_0x4561ba['id'][_0x19d123(0x5a6)](_0x19d123(0x754)),'name':_0x4561ba[_0x19d123(0x6ca)]||_0x4561ba['displayName'],'archived':_0x4561ba[_0x19d123(0x3f3)],'ephemeralExpiration':_0x4561ba[_0x19d123(0x66c)]},_0x3491a7=!0x1,_0x24da23={};_0x131125[_0x19d123(0x3f3)]!=null&&(this['logger'][_0x19d123(0x800)](this['instanceName']+'\x20('+this['instance'][_0x19d123(0x650)]+_0x19d123(0x612)+_0x4561ba['archived']),_0x3491a7=!0x0,_0x24da23['archived']=_0x4561ba[_0x19d123(0x3f3)]),_0x4561ba[_0x19d123(0x6ca)]!=null&&(this[_0x19d123(0x756)]['verbose'](this[_0x19d123(0x515)]+'\x20('+this[_0x19d123(0x237)][_0x19d123(0x650)]+'):\x20teve\x20mudanas\x20chat.name:\x20'+_0x4561ba['name']),_0x3491a7=!0x0,_0x24da23[_0x19d123(0x6ca)]=_0x4561ba[_0x19d123(0x6ca)]),_0x4561ba['displayName']!=null&&(this[_0x19d123(0x756)][_0x19d123(0x800)](this['instanceName']+'\x20('+this[_0x19d123(0x237)]['wuid']+_0x19d123(0x48a)+_0x4561ba['displayName']),_0x3491a7=!0x0,_0x24da23[_0x19d123(0x6ca)]=_0x4561ba['displayName']);let _0x335a2b;_0x3491a7&&(_0x335a2b=await this[_0x19d123(0x409)][_0x19d123(0x4a2)][_0x19d123(0x53d)]({'where':{'_id':_0x4561ba['id']}},_0x24da23,this['instance'][_0x19d123(0x650)])),_0x335a2b&&J(this['instanceName'],_0x19d123(0x4cc),{'chat':_0x335a2b});}},'chats.delete':async _0x185172=>{const _0x1c3929=_0x182bac;this[_0x1c3929(0x263)](_0x1c3929(0x340),[..._0x185172]);}},this['contactHandle']={'contacts.upsert':async(_0x1fc492,_0x1a5efa)=>{const _0x118d11=_0x182bac;let _0x1271ac=await this['repository'][_0x118d11(0x51f)][_0x118d11(0x557)]({'where':{}},this[_0x118d11(0x237)][_0x118d11(0x650)]),_0x38daaa=[];for await(let _0x38f3e1 of _0x1fc492)_0x1271ac[_0x118d11(0x557)](_0x15a2d6=>_0x15a2d6[_0x118d11(0x40d)]===_0x38f3e1['id'])||_0x38daaa[_0x118d11(0x56b)]({'_id':_0x38f3e1['id'],'pushName':_0x38f3e1?.[_0x118d11(0x6ca)]||_0x38f3e1?.[_0x118d11(0x235)],'owner':this[_0x118d11(0x237)][_0x118d11(0x650)]});this[_0x118d11(0x263)](_0x118d11(0x5a7),_0x38daaa),await this[_0x118d11(0x409)]['contact']['insert'](_0x38daaa);},'contacts.update':async(_0x392db5,_0x18822b)=>{const _0x38c7d0=_0x182bac;let _0x4d9959=[];for await(let _0x58656c of _0x392db5)_0x4d9959[_0x38c7d0(0x56b)]({'_id':_0x58656c['id'],'pushName':_0x58656c?.[_0x38c7d0(0x6ca)]??_0x58656c?.[_0x38c7d0(0x235)],'owner':this['instance']['wuid']});this['sendDataWebhook'](_0x38c7d0(0x463),_0x4d9959);}},this['messageHandle']={'messaging-history.set':async({messages:_0x18f12f,chats:_0x1ddef5,isLatest:_0x1d2fb2},_0x41ac7a)=>{const _0x435e16=_0x182bac;if(_0x1d2fb2){let _0x5c3bdb=await Promise[_0x435e16(0x5d6)](_0x1ddef5[_0x435e16(0x4df)](async _0x3017d7=>({'_id':_0x3017d7['id'],'owner':this['instance'][_0x435e16(0x650)],'group':_0x3017d7['id']['endsWith'](_0x435e16(0x754)),'name':_0x3017d7[_0x435e16(0x6ca)]||_0x3017d7[_0x435e16(0x54a)]||null,'contactname':null,'lastmsg':_0x3017d7[_0x435e16(0x587)]&&_0x3017d7[_0x435e16(0x587)]['toString']()[_0x435e16(0x676)]<0xd?_0x3017d7[_0x435e16(0x587)]*0x3e8:_0x3017d7[_0x435e16(0x587)]||null,'archived':_0x3017d7[_0x435e16(0x3f3)]||!0x1,'unreadcount':_0x3017d7[_0x435e16(0x5ec)]||0x0})));this[_0x435e16(0x263)](_0x435e16(0x73c),_0x5c3bdb),await this[_0x435e16(0x5b2)](_0x5c3bdb,_0x41ac7a);}let _0xebf8bd=[],_0x419652=Date[_0x435e16(0x593)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x38ed28]of Object[_0x435e16(0x48c)](_0x18f12f)){if(_0x38ed28['message']?.['protocolMessage']||_0x38ed28[_0x435e16(0x372)]?.[_0x435e16(0x62c)]||!_0x38ed28[_0x435e16(0x372)]||_0x38ed28[_0x435e16(0x399)][_0x435e16(0x7a1)]===_0x435e16(0x295)||(Es[_0x435e16(0x697)][_0x435e16(0x59f)](_0x38ed28?.[_0x435e16(0x582)])&&(_0x38ed28['messageTimestamp']=_0x38ed28[_0x435e16(0x582)]?.[_0x435e16(0x461)]()),_0x38ed28['messageTimestamp']&&_0x38ed28[_0x435e16(0x582)][_0x435e16(0x2b4)]()[_0x435e16(0x676)]<0xd&&(_0x38ed28['messageTimestamp']=_0x38ed28[_0x435e16(0x582)]*0x3e8),_0x38ed28['messageTimestamp']<_0x419652))continue;let {message_normalized:_0x406264}=this['normalizeMessage'](_0x38ed28[_0x435e16(0x372)],P(_0x38ed28[_0x435e16(0x372)]),null);Object[_0x435e16(0x722)](_0x406264)['length']>0x0&&_0xebf8bd['push']({'_id':_0x38ed28[_0x435e16(0x399)]['id'],'key':_0x38ed28[_0x435e16(0x399)],'pushName':_0x38ed28[_0x435e16(0x59c)],'participant':_0x38ed28[_0x435e16(0x464)],'message':{..._0x38ed28['message']},'messageType':P(_0x38ed28['message']),'message_normalized':{'key':_0x38ed28[_0x435e16(0x399)],'pushName':_0x38ed28[_0x435e16(0x59c)],'messageTimestamp':_0x38ed28[_0x435e16(0x582)],..._0x406264},'messageTimestamp':_0x38ed28[_0x435e16(0x582)],'owner':this[_0x435e16(0x237)]['wuid']});}_0x41ac7a[_0x435e16(0x2b0)]&&_0xebf8bd[_0x435e16(0x676)]>0x0&&(this[_0x435e16(0x756)]['verbose'](this[_0x435e16(0x515)]+'\x20('+this[_0x435e16(0x237)][_0x435e16(0x650)]+_0x435e16(0x535)+_0xebf8bd[_0x435e16(0x676)]+_0x435e16(0x3f4)+this[_0x435e16(0x237)]['wuid']+_0x435e16(0x6a0)),await this[_0x435e16(0x409)]['message'][_0x435e16(0x2e5)]([..._0xebf8bd],this[_0x435e16(0x237)]['wuid'])),this['sendDataWebhook'](_0x435e16(0x5f8),[..._0xebf8bd]),_0x18f12f=void 0x0;},'messages.upsert':async({messages:_0x3e3942,type:_0x2759f3},_0x58c4ca)=>{const _0x3e0e0b=_0x182bac;let _0x419c1c=_0x3e3942[0x0];if(_0x2759f3!==_0x3e0e0b(0x348)||!_0x419c1c?.[_0x3e0e0b(0x372)]||_0x419c1c['message']?.[_0x3e0e0b(0x522)]||_0x419c1c[_0x3e0e0b(0x372)][_0x3e0e0b(0x62c)]||_0x419c1c['key'][_0x3e0e0b(0x7a1)]===_0x3e0e0b(0x295))return;let _0x52aa41=null,_0x33140f=null;try{_0x52aa41=await this['processPollUpdateMessage'](_0x419c1c),_0x33140f=_0x52aa41?_0x52aa41[_0x3e0e0b(0x1c0)](','):null;}catch(_0x5a3374){this[_0x3e0e0b(0x756)][_0x3e0e0b(0x800)](this[_0x3e0e0b(0x515)]+'\x20('+this['instance'][_0x3e0e0b(0x650)]+_0x3e0e0b(0x535)+(_0x5a3374 instanceof Error?_0x5a3374[_0x3e0e0b(0x372)]:JSON['stringify'](_0x5a3374,null,0x2))),_0x33140f='error\x20get\x20vote';}if(this[_0x3e0e0b(0x227)][_0x3e0e0b(0x791)](_0x3e0e0b(0x7cf)),Es[_0x3e0e0b(0x697)][_0x3e0e0b(0x59f)](_0x419c1c[_0x3e0e0b(0x582)])&&(_0x419c1c[_0x3e0e0b(0x582)]=_0x419c1c[_0x3e0e0b(0x582)]?.['toNumber']()),this[_0x3e0e0b(0x2a9)]?.['groups_ignore']&&_0x419c1c[_0x3e0e0b(0x399)][_0x3e0e0b(0x7a1)][_0x3e0e0b(0x606)]('@g.us')){this[_0x3e0e0b(0x756)]['verbose']('group\x20ignored');return;}_0x419c1c[_0x3e0e0b(0x582)]&&_0x419c1c[_0x3e0e0b(0x582)][_0x3e0e0b(0x2b4)]()[_0x3e0e0b(0x676)]<0xd&&(_0x419c1c['messageTimestamp']=_0x419c1c[_0x3e0e0b(0x582)]*0x3e8);let _0x503e21=_0x419c1c['message'],{messageContent:_0x57e2fb,message_normalized:_0x394bf4}=this[_0x3e0e0b(0x3bd)](_0x503e21,P(_0x419c1c[_0x3e0e0b(0x372)]),_0x33140f),_0x1cb310={'_id':_0x419c1c[_0x3e0e0b(0x399)]['id'],'key':_0x419c1c['key'],'pushName':_0x419c1c[_0x3e0e0b(0x59c)],'message':{..._0x419c1c[_0x3e0e0b(0x372)]},'messageType':P(_0x419c1c[_0x3e0e0b(0x372)]),'message_normalized':{'key':_0x419c1c[_0x3e0e0b(0x399)],'pushName':_0x419c1c[_0x3e0e0b(0x59c)],'messageTimestamp':_0x419c1c['messageTimestamp'],'source':(0x0,y[_0x3e0e0b(0x69b)])(_0x419c1c['key']['id']),..._0x394bf4},'messageTimestamp':_0x419c1c[_0x3e0e0b(0x582)],'owner':this[_0x3e0e0b(0x237)][_0x3e0e0b(0x650)],'source':(0x0,y[_0x3e0e0b(0x69b)])(_0x419c1c[_0x3e0e0b(0x399)]['id'])};_0x57e2fb||(console[_0x3e0e0b(0x546)](_0x3e0e0b(0x699)),this['logger']['log'](_0x1cb310)),this['logger'][_0x3e0e0b(0x219)](this[_0x3e0e0b(0x515)]+'\x20('+this[_0x3e0e0b(0x237)][_0x3e0e0b(0x650)]+_0x3e0e0b(0x53c)+_0x1cb310['messageType']+')\x20para\x20['+_0x1cb310[_0x3e0e0b(0x399)]?.[_0x3e0e0b(0x7a1)][_0x3e0e0b(0x294)]('@s.whatsapp.net','')+']:'),_0x1cb310['message_normalized']?.[_0x3e0e0b(0x55e)]&&this[_0x3e0e0b(0x756)]['log'](_0x1cb310[_0x3e0e0b(0x53b)]),await this[_0x3e0e0b(0x409)][_0x3e0e0b(0x372)][_0x3e0e0b(0x2e5)]([_0x1cb310],this[_0x3e0e0b(0x237)][_0x3e0e0b(0x650)]),this[_0x3e0e0b(0x263)](_0x3e0e0b(0x63e),_0x1cb310),J(this[_0x3e0e0b(0x515)],_0x3e0e0b(0x7bd),{'message':_0x1cb310}),_0x419c1c[_0x3e0e0b(0x399)][_0x3e0e0b(0x7a1)]!=='status@broadcast'&&await this[_0x3e0e0b(0x361)](_0x58c4ca,_0x1cb310,'MESSAGES_UPSERT');},'messages.update':async(_0x136c6d,_0x371923)=>{const _0x5e944e=_0x182bac;let _0x3027c8={0x0:_0x5e944e(0x33a),0x1:_0x5e944e(0x418),0x2:_0x5e944e(0x501),0x3:_0x5e944e(0x7d0),0x4:_0x5e944e(0x82d),0x5:_0x5e944e(0x6cb)};for await(let {key:_0x29cc72,update:_0x1ce877}of _0x136c6d){if(this[_0x5e944e(0x2a9)]?.[_0x5e944e(0x838)]&&_0x29cc72[_0x5e944e(0x7a1)][_0x5e944e(0x606)](_0x5e944e(0x754))){this['logger'][_0x5e944e(0x800)](_0x5e944e(0x2f1));return;}if(_0x29cc72['remoteJid']!==_0x5e944e(0x295)){let _0x51094e=Date['now'](),_0x3b97ac;_0x1ce877[_0x5e944e(0x372)]===null&&_0x1ce877['status']===void 0x0?_0x3b97ac=_0x5e944e(0x2a2):_0x3b97ac=_0x3027c8[_0x1ce877['status']];let _0x19fa28=_0x29cc72[_0x5e944e(0x7a1)][_0x5e944e(0x294)](/:\d{1,2}@/g,'@'),_0x4da0c8={..._0x29cc72,'remoteJid':_0x19fa28,'status':_0x3b97ac,'datetime':_0x51094e,'owner':this[_0x5e944e(0x237)][_0x5e944e(0x650)]};this[_0x5e944e(0x263)]('messages.update',_0x4da0c8),await this[_0x5e944e(0x526)](_0x29cc72,_0x4da0c8);}}},'labels.association':async({type:_0x99ef73,association:_0xdcacc2})=>{const _0x501686=_0x182bac;if(_0xdcacc2[_0x501686(0x23a)]===_0x501686(0x300)){let _0x500649,_0x48f686=0x0;for(;!_0x500649&&_0x48f686<this[_0x501686(0x54d)];)_0x500649=await this[_0x501686(0x409)]['chat'][_0x501686(0x6bf)]({'where':{'_id':_0xdcacc2[_0x501686(0x3ab)]}},this[_0x501686(0x237)][_0x501686(0x650)]),_0x500649||(_0x48f686++,console[_0x501686(0x219)](_0x501686(0x3f9)+_0xdcacc2[_0x501686(0x3ab)]+_0x501686(0x592)+this[_0x501686(0x2b7)]+_0x501686(0x76b)+_0x48f686+'/'+this[_0x501686(0x54d)]+')'),await this[_0x501686(0x29b)](this[_0x501686(0x2b7)]));if(!_0x500649){console['error'](_0x501686(0x3e9)+_0xdcacc2['chatId']+_0x501686(0x7de)+this[_0x501686(0x54d)]+_0x501686(0x435));return;}switch(_0x99ef73){case'add':console['log'](_0xdcacc2),await this['repository']['chat'][_0x501686(0x53d)]({'where':{'_id':_0xdcacc2[_0x501686(0x3ab)]}},{'leadInfo.etiquetas':_0xdcacc2[_0x501686(0x2b8)]},this[_0x501686(0x237)][_0x501686(0x650)],void 0x0,_0x501686(0x24a));break;case'remove':console[_0x501686(0x219)](_0xdcacc2),await this[_0x501686(0x409)][_0x501686(0x4a2)]['updateOne']({'where':{'_id':_0xdcacc2[_0x501686(0x3ab)]}},{'leadInfo.etiquetas':_0xdcacc2['labelId']},this['instance']['wuid'],void 0x0,'$pull');break;default:console[_0x501686(0x546)](_0x501686(0x49e)+_0x99ef73+']');}}},'labels.edit':async _0x4ae1a8=>{const _0x555db2=_0x182bac;if(!_0x4ae1a8||!_0x4ae1a8['id']){console[_0x555db2(0x546)](_0x555db2(0x234));return;}if(!_0x4ae1a8[_0x555db2(0x21e)]){let _0x10a60e=[_0x555db2(0x598),'#64c4ff',_0x555db2(0x547),_0x555db2(0x745),'#9ab6c1',_0x555db2(0x33d),'#fe9dfe',_0x555db2(0x391),'#6f7bcf',_0x555db2(0x236),'#01d0e2',_0x555db2(0x2cc),_0x555db2(0x3cd),_0x555db2(0x7b2),_0x555db2(0x6d4),_0x555db2(0x7a0),_0x555db2(0x2c9),_0x555db2(0x571),_0x555db2(0x7d6),_0x555db2(0x1c3)],_0x440298;typeof _0x4ae1a8[_0x555db2(0x4a9)]==_0x555db2(0x394)&&_0x4ae1a8[_0x555db2(0x4a9)]>=0x0&&_0x4ae1a8['color']<_0x10a60e[_0x555db2(0x676)]?_0x440298=_0x10a60e[_0x4ae1a8[_0x555db2(0x4a9)]]:(console[_0x555db2(0x546)](_0x555db2(0x7fb),_0x4ae1a8[_0x555db2(0x4a9)]),_0x440298=_0x555db2(0x419));let _0x2df535={'_id':_0x4ae1a8['id'],'colorHex':_0x440298,'color':_0x4ae1a8?.['color'],'name':_0x4ae1a8?.[_0x555db2(0x6ca)],'owner':this[_0x555db2(0x237)]['wuid']};await this[_0x555db2(0x409)][_0x555db2(0x671)][_0x555db2(0x53d)]({'where':{'_id':_0x4ae1a8['id']}},_0x2df535,this[_0x555db2(0x237)]['wuid']),console[_0x555db2(0x219)](_0x555db2(0x561),_0x4ae1a8);}_0x4ae1a8[_0x555db2(0x21e)]&&(await this['repository']['label'][_0x555db2(0x270)]({'where':{'_id':_0x4ae1a8['id']}},this[_0x555db2(0x237)][_0x555db2(0x650)]),console[_0x555db2(0x219)](_0x555db2(0x38d),_0x4ae1a8['id']));}},this[_0x182bac(0x50e)]={'groups.upsert':_0xb602=>{const _0x48ca18=_0x182bac;this[_0x48ca18(0x263)]('groups.upsert',_0xb602);},'groups.update':_0x3e6706=>{const _0x56b018=_0x182bac;this[_0x56b018(0x263)](_0x56b018(0x679),_0x3e6706);},'group-participants.update':_0x258c0d=>{const _0x4ef8c4=_0x182bac;this[_0x4ef8c4(0x263)]('group-participants.update',_0x258c0d);}},this[_0x182bac(0x54d)]=0x5,this[_0x182bac(0x2b7)]=0x1388,this[_0x182bac(0x251)]=async _0x2b157b=>{const _0x362f10=_0x182bac;if(_0x2b157b[_0x362f10(0x372)]?.['pollUpdateMessage']){let _0x451834=await this[_0x362f10(0x4f8)](_0x2b157b[_0x362f10(0x372)][_0x362f10(0x3d1)][_0x362f10(0x758)],!0x0);if(_0x451834){let _0x13f0a8=_0x451834[_0x362f10(0x399)]['fromMe']?this[_0x362f10(0x237)][_0x362f10(0x650)]+_0x362f10(0x69a):_0x451834['key']['participant']||_0x451834[_0x362f10(0x399)][_0x362f10(0x7a1)],_0x319433=_0x451834[_0x362f10(0x399)]['id'],_0x157546=_0x451834[_0x362f10(0x372)],_0x3edaa5=Buffer[_0x362f10(0x527)](_0x157546[_0x362f10(0x5fc)]['messageSecret'][_0x362f10(0x2b4)](_0x362f10(0x4bd)),_0x362f10(0x4bd)),_0x23c07f=(0x0,y[_0x362f10(0x819)])(_0x2b157b[_0x362f10(0x372)][_0x362f10(0x3d1)][_0x362f10(0x2c5)],{'pollCreatorJid':_0x13f0a8,'pollMsgId':_0x319433,'pollEncKey':_0x3edaa5,'voterJid':_0x2b157b[_0x362f10(0x399)]['fromMe']?this[_0x362f10(0x237)][_0x362f10(0x650)]+_0x362f10(0x69a):_0x2b157b[_0x362f10(0x399)][_0x362f10(0x7a1)][_0x362f10(0x5a6)](_0x362f10(0x6e1))?_0x2b157b['key'][_0x362f10(0x464)]:_0x2b157b[_0x362f10(0x399)][_0x362f10(0x7a1)]}),_0x37e812=[],_0x2de014=_0x23c07f[_0x362f10(0x265)][_0x362f10(0x4df)](_0x17a663=>Buffer[_0x362f10(0x527)](_0x17a663)[_0x362f10(0x2b4)](_0x362f10(0x4bd)));for(let {optionName:_0x22e880}of _0x157546[_0x362f10(0x752)]?.[_0x362f10(0x2ba)]||_0x157546['pollCreationMessageV3']?.[_0x362f10(0x2ba)]||_0x157546[_0x362f10(0x645)]?.[_0x362f10(0x2ba)])_0x2de014[_0x362f10(0x678)]((0x0,y[_0x362f10(0x7ad)])(Buffer[_0x362f10(0x527)](_0x22e880))[_0x362f10(0x2b4)](_0x362f10(0x4bd)))>-0x1&&_0x37e812[_0x362f10(0x56b)](_0x22e880);return _0x37e812;}}return null;},this[_0x182bac(0x3bd)]=(_0x2df46d,_0x3a0dd2,_0x293dd2)=>{const _0x4825e5=_0x182bac;try{let _0xa7d92f=_0x3a0dd2?_0x2df46d[_0x3a0dd2]:void 0x0,_0x2cb733={},_0x361686=null,_0x177ca9=null,_0x559c18=null;if(_0x2df46d[_0x4825e5(0x289)]?(_0x3a0dd2=P(_0x2df46d[_0x4825e5(0x289)][_0x4825e5(0x372)]),_0xa7d92f=_0x2df46d[_0x4825e5(0x289)][_0x4825e5(0x372)][_0x3a0dd2]):_0x2df46d[_0x4825e5(0x1f5)]?(_0x3a0dd2=P(_0x2df46d[_0x4825e5(0x1f5)][_0x4825e5(0x372)]),_0xa7d92f=_0x2df46d['viewOnceMessageV2Extension'][_0x4825e5(0x372)][_0x3a0dd2]):_0x2df46d[_0x4825e5(0x55d)]?(_0x3a0dd2=P(_0x2df46d[_0x4825e5(0x55d)][_0x4825e5(0x372)]),_0xa7d92f=_0x2df46d[_0x4825e5(0x55d)][_0x4825e5(0x372)][_0x3a0dd2]):_0x2df46d[_0x4825e5(0x3ea)]?(_0x3a0dd2=P(_0x2df46d['message'][_0x4825e5(0x3ea)]['message']),_0xa7d92f=_0x2df46d[_0x4825e5(0x372)][_0x4825e5(0x3ea)][_0x4825e5(0x372)][_0x3a0dd2]):_0x2df46d['editedMessage']?.['message']?.['protocolMessage']?.[_0x4825e5(0x826)]?(_0x3a0dd2=P(_0x2df46d['editedMessage']['message'][_0x4825e5(0x522)][_0x4825e5(0x826)]),_0x361686=_0x2df46d['editedMessage'][_0x4825e5(0x372)][_0x4825e5(0x522)]['key']['id'],_0xa7d92f=_0x2df46d[_0x4825e5(0x826)][_0x4825e5(0x372)][_0x4825e5(0x522)][_0x4825e5(0x826)][_0x3a0dd2]):_0xa7d92f=_0x2df46d[_0x3a0dd2],!_0x3a0dd2||!_0xa7d92f)return console[_0x4825e5(0x546)](_0x4825e5(0x41a),_0x2df46d),{'messageType':_0x3a0dd2,'messageContent':_0xa7d92f,'message_normalized':{}};_0x2df46d[_0x3a0dd2]?.['contextInfo']?.['stanzaId']&&_0x2df46d[_0x3a0dd2]?.[_0x4825e5(0x225)]?.[_0x4825e5(0x1d7)]&&(_0x177ca9=_0x2df46d[_0x3a0dd2][_0x4825e5(0x225)][_0x4825e5(0x27a)]),_0x2df46d['reactionMessage']&&(_0x559c18=_0x2df46d[_0x4825e5(0x556)][_0x4825e5(0x399)]['id']);let _0x186610;if(_0xa7d92f&&typeof _0xa7d92f=='object'&&_0x4825e5(0x758)in _0xa7d92f&&({pollCreationMessageKey:_0x186610}=_0xa7d92f),_0x3a0dd2==='documentWithCaptionMessage'){let _0x599e24=_0xa7d92f?.['message']?.[_0x4825e5(0x239)];_0x599e24&&(_0xa7d92f=_0x599e24);}if(_0x3a0dd2==='pollCreationMessage'||_0x3a0dd2==='pollCreationMessageV2'||_0x3a0dd2==='pollCreationMessageV3'){let _0x4435ed=_0xa7d92f[_0x4825e5(0x2ba)][_0x4825e5(0x4df)](_0x4ebbb9=>_0x4ebbb9[_0x4825e5(0x1bf)])['join']('|');_0x2cb733[_0x4825e5(0x359)]=_0x4435ed;}let _0x48518a=_0xa7d92f['name']||_0xa7d92f[_0x4825e5(0x6fb)]||_0xa7d92f[_0x4825e5(0x499)]||_0xa7d92f[_0x4825e5(0x54a)];if(_0x3a0dd2===_0x4825e5(0x481)){_0x48518a=(_0xa7d92f[_0x4825e5(0x595)]||'')+'\x0a'+(_0xa7d92f[_0x4825e5(0x680)]||'')+'\x0a'+(_0xa7d92f[_0x4825e5(0x2fa)]||'');let _0x450f00=this['sectionsToString'](_0xa7d92f[_0x4825e5(0x524)]);_0x2cb733['convertedOptions']=_0x450f00;}if(_0x3a0dd2===_0x4825e5(0x836)&&(_0x293dd2=_0xa7d92f[_0x4825e5(0x595)]),_0xa7d92f['vcard']){let _0x204403=this[_0x4825e5(0x469)](JSON[_0x4825e5(0x6c4)](_0xa7d92f['vcard'],null,0x2));_0x48518a=_0x48518a+'\x0a'+_0x204403;}if(_0xa7d92f){let {sections:_0x2b0913,listType:_0x465ea9,displayName:_0x33a16e,vcard:_0x3d6de5,contactVcard:_0x47f01b,name:_0x900d6c,caption:_0x256375,conversation:_0x345ef9,pollCreationMessageKey:_0x7c0ef0,footerText:_0x3006b5,contentText:_0x38192b,pageCount:_0x7f141e,headerType:_0x333856,isAvatar:_0x340afb,isAnimated:_0x4dec85,fallbackLc:_0x490bcc,fallbackLg:_0x1d600d,namespace:_0x593157,elementName:_0x501494,localizableParams:_0x28866c,viewOnce:_0x1bbb22,height:_0x2ded8d,width:_0x11bcdd,key:_0x4c72ac,firstScanLength:_0x27c493,firstScanSidecar:_0x2275a0,gifPlayback:_0x73486d,gifAttribution:_0x53f0c3,midQualityFileSha256:_0x2f3b4c,scansSidecar:_0x31bd1b,streamingSidecar:_0x248b75,thumbnailHeight:_0x3103b6,thumbnailWidth:_0x425f55,thumbnailEncSha256:_0x29d386,thumbnailDirectPath:_0x11d8ba,canonicalUrl:_0x12048e,matchedText:_0x575f87,previewType:_0x891042,thumbnailSha256:_0x510fe9,deviceListMetadataVersion:_0x11c118,inviteLinkGroupTypeV2:_0x25d279,interactiveAnnotations:_0x262c0b,scanLengths:_0x47ca95,jpegThumbnail:_0x1264b3,url:_0xfd8853,mediaKeyTimestamp:_0xb126d3,waveform:_0x5073f7,stickerSentTs:_0x18c75a,firstFrameLength:_0xbdb61a,fileEncSha256:_0xff29de,contextInfo:_0x1fdb36,firstFrameSidecar:_0x45079b,directPath:_0x331454,fileSha256:_0x584dea,mediaKey:_0x343ab4,senderTimestampMs:_0x5ec124,..._0x3d208d}=_0xa7d92f;(_0x3a0dd2===_0x4825e5(0x481)||_0x3a0dd2===_0x4825e5(0x836))&&(delete _0x3d208d[_0x4825e5(0x595)],delete _0x3d208d[_0x4825e5(0x680)]),typeof _0xa7d92f=='string'?_0x2cb733={'text':_0xa7d92f,'type':_0x3a0dd2||_0x4825e5(0x499),..._0x361686&&{'edited':_0x361686},..._0x177ca9&&{'quoted':_0x177ca9},..._0x559c18&&{'reaction':_0x559c18}}:_0x2cb733={'text':_0x48518a,..._0x3d208d,..._0x3a0dd2===_0x4825e5(0x3d1)?{'poll_id':_0xa7d92f[_0x4825e5(0x758)]['id'],'quoted':_0xa7d92f[_0x4825e5(0x758)]['id'],'vote':_0x293dd2}:{},..._0x3a0dd2===_0x4825e5(0x836)?{'vote':_0x293dd2}:{},'type':_0x3a0dd2,..._0x361686&&{'edited':_0x361686},..._0x177ca9&&{'quoted':_0x177ca9},..._0x559c18&&{'reaction':_0x559c18},...(_0x3a0dd2===_0x4825e5(0x752)||_0x3a0dd2===_0x4825e5(0x645)||_0x3a0dd2===_0x4825e5(0x3e7)||_0x3a0dd2===_0x4825e5(0x481))&&{'convertedOptions':_0x2cb733[_0x4825e5(0x359)]}};}return{'messageType':_0x3a0dd2,'messageContent':_0xa7d92f,'message_normalized':_0x2cb733};}catch(_0x31af2c){return console['error'](_0x4825e5(0x1e9),_0x31af2c),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processingScheduleMessageId']=null,this[_0x182bac(0x815)]=0x0,this[_0x182bac(0x4f0)]=null,(this[_0x182bac(0x248)](),this[_0x182bac(0x237)]['qrcode']={'count':0x0});}set[a0_0x4c7c55(0x515)](_0x4666c2){const _0x2f7743=a0_0x4c7c55;if(!_0x4666c2){this[_0x2f7743(0x237)][_0x2f7743(0x6ca)]=(0x0,yo['v4'])();return;}this[_0x2f7743(0x237)]['name']=_0x4666c2,this[_0x2f7743(0x263)]('status.instance',{'instance':this[_0x2f7743(0x237)][_0x2f7743(0x6ca)],'status':_0x2f7743(0x683)});}get[a0_0x4c7c55(0x515)](){const _0x517094=a0_0x4c7c55;return this[_0x517094(0x237)][_0x517094(0x6ca)];}get[a0_0x4c7c55(0x650)](){const _0x3c4766=a0_0x4c7c55;return this[_0x3c4766(0x237)][_0x3c4766(0x650)];}async[a0_0x4c7c55(0x653)](){const _0x2f5cf1=a0_0x4c7c55;let _0x516fb8=this[_0x2f5cf1(0x227)][_0x2f5cf1(0x306)]?.[_0x2f5cf1(0x6ca)]??this['client']['user']?.[_0x2f5cf1(0x235)];if(!_0x516fb8){if(this['configService'][_0x2f5cf1(0x448)](_0x2f5cf1(0x1d2))[_0x2f5cf1(0x2b0)]){let _0x553be8=await N[_0x2f5cf1(0x5c6)]()['db'](this[_0x2f5cf1(0x2fb)][_0x2f5cf1(0x448)](_0x2f5cf1(0x1d2))['CONNECTION'][_0x2f5cf1(0x6d5)]+_0x2f5cf1(0x825))[_0x2f5cf1(0x5bb)](this[_0x2f5cf1(0x515)])[_0x2f5cf1(0x6bf)]({'_id':_0x2f5cf1(0x831)});if(_0x553be8){let _0x4320eb=JSON[_0x2f5cf1(0x2b9)](JSON[_0x2f5cf1(0x6c4)](_0x553be8),y['BufferJSON'][_0x2f5cf1(0x6a4)]);_0x516fb8=_0x4320eb['me']?.[_0x2f5cf1(0x6ca)]||_0x4320eb['me']?.['verifiedName'];}}else{if((0x0,ve[_0x2f5cf1(0x37e)])((0x0,F[_0x2f5cf1(0x1c0)])(he,this[_0x2f5cf1(0x515)],_0x2f5cf1(0x74d)))){let _0x3f20db=JSON[_0x2f5cf1(0x2b9)]((0x0,ve[_0x2f5cf1(0x7d3)])((0x0,F[_0x2f5cf1(0x1c0)])(he,this[_0x2f5cf1(0x515)],'creds.json'),{'encoding':'utf-8'}));_0x516fb8=_0x3f20db['me']?.[_0x2f5cf1(0x6ca)]||_0x3f20db['me']?.[_0x2f5cf1(0x235)];}}}return _0x516fb8;}get[a0_0x4c7c55(0x620)](){const _0x104654=a0_0x4c7c55;return this[_0x104654(0x237)][_0x104654(0x620)];}get[a0_0x4c7c55(0x468)](){const _0xc9a06f=a0_0x4c7c55;return{'pairingCode':this[_0xc9a06f(0x237)][_0xc9a06f(0x43c)]?.[_0xc9a06f(0x35e)],'code':this[_0xc9a06f(0x237)][_0xc9a06f(0x43c)]?.[_0xc9a06f(0x33f)],'base64':this[_0xc9a06f(0x237)][_0xc9a06f(0x43c)]?.[_0xc9a06f(0x3eb)]};}async[a0_0x4c7c55(0x833)](){const _0x1a1fe3=a0_0x4c7c55;let _0x524dd5=await this['repository'][_0x1a1fe3(0x4f1)][_0x1a1fe3(0x557)](this[_0x1a1fe3(0x515)]);this['localWebhook'][_0x1a1fe3(0x299)]=_0x524dd5?.[_0x1a1fe3(0x299)],this[_0x1a1fe3(0x2a9)]['enabled']=_0x524dd5?.[_0x1a1fe3(0x77b)],this[_0x1a1fe3(0x2a9)]['local_map']=_0x524dd5?.[_0x1a1fe3(0x366)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x5ed)]=_0x524dd5?.[_0x1a1fe3(0x5ed)],this['localWebhook'][_0x1a1fe3(0x211)]=_0x524dd5?.[_0x1a1fe3(0x211)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x38c)]=_0x524dd5?.['SEND_MESSAGE'],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x570)]=_0x524dd5?.['MESSAGES_UPSERT'],this[_0x1a1fe3(0x2a9)]['MESSAGES_UPDATE']=_0x524dd5?.['MESSAGES_UPDATE'],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x204)]=_0x524dd5?.[_0x1a1fe3(0x204)],this[_0x1a1fe3(0x2a9)]['GROUPS_UPDATE']=_0x524dd5?.['GROUPS_UPDATE'],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x524dd5?.[_0x1a1fe3(0x3ed)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x73a)]=_0x524dd5?.['CHATS_SET'],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x1d9)]=_0x524dd5?.[_0x1a1fe3(0x1d9)],this['localWebhook'][_0x1a1fe3(0x6a5)]=_0x524dd5?.[_0x1a1fe3(0x6a5)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x607)]=_0x524dd5?.[_0x1a1fe3(0x607)],this[_0x1a1fe3(0x2a9)]['CONTACTS_SET']=_0x524dd5?.[_0x1a1fe3(0x616)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x617)]=_0x524dd5?.[_0x1a1fe3(0x617)],this['localWebhook'][_0x1a1fe3(0x753)]=_0x524dd5?.[_0x1a1fe3(0x753)],this[_0x1a1fe3(0x2a9)]['PRESENCE_UPDATE']=_0x524dd5?.[_0x1a1fe3(0x1f2)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x84b)]=_0x524dd5?.[_0x1a1fe3(0x84b)],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x285)]=_0x524dd5?.['CONNECTION_UPDATE'],this[_0x1a1fe3(0x2a9)][_0x1a1fe3(0x838)]=_0x524dd5?.[_0x1a1fe3(0x838)];}async['setWebhook'](_0x218a78){const _0x4df062=a0_0x4c7c55;let _0xfcee97=[_0x4df062(0x40d),'url','enabled',_0x4df062(0x366),_0x4df062(0x5ed),_0x4df062(0x211),'MESSAGES_UPDATE',_0x4df062(0x570),'SEND_MESSAGE','GROUPS_UPSERT',_0x4df062(0x338),_0x4df062(0x3ed),_0x4df062(0x73a),_0x4df062(0x1d9),_0x4df062(0x6a5),_0x4df062(0x607),'CONTACTS_SET',_0x4df062(0x617),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x4df062(0x84b),'CONNECTION_UPDATE',_0x4df062(0x838)],_0xe0f424={};return _0xfcee97[_0x4df062(0x559)](_0x5d9603=>{_0x218a78[_0x5d9603]!==void 0x0&&(_0xe0f424[_0x5d9603]=_0x218a78[_0x5d9603]);}),await this[_0x4df062(0x409)][_0x4df062(0x4f1)][_0x4df062(0x71f)](_0xe0f424,this['instanceName']),Object[_0x4df062(0x3b8)](this[_0x4df062(0x2a9)],_0xe0f424),await this['repository'][_0x4df062(0x4f1)][_0x4df062(0x557)](this['instanceName']);}async[a0_0x4c7c55(0x339)](){const _0x4cb198=a0_0x4c7c55;return await this[_0x4cb198(0x409)]['webhook'][_0x4cb198(0x557)](this['instanceName']);}async[a0_0x4c7c55(0x263)](_0x3256fe,_0x2439cd){const _0x47c872=a0_0x4c7c55;let _0x1d0146=_0x3256fe['replace'](/[\.-]/gm,'_')[_0x47c872(0x71b)](),_0x2e06b9=this['localWebhook'][_0x47c872(0x77b)]&&(0x0,k[_0x47c872(0x38a)])(this[_0x47c872(0x2a9)][_0x47c872(0x299)])?this[_0x47c872(0x2a9)][_0x47c872(0x299)]+(this[_0x47c872(0x2a9)][_0x47c872(0x366)]?this[_0x47c872(0x26f)][_0x3256fe]:''):null,_0x10abac=this[_0x47c872(0x2a9)][_0x1d0146],_0x2cf664=re&&re[_0x47c872(0x77b)]&&(0x0,k[_0x47c872(0x38a)])(re[_0x47c872(0x299)])?re[_0x47c872(0x299)]+(re['local_map']?this[_0x47c872(0x26f)][_0x3256fe]:''):null,_0x1f6d9e=re?re[_0x1d0146]:null;if(_0x10abac&&_0x2e06b9)try{await se['default']['create']({'baseURL':_0x2e06b9})[_0x47c872(0x4c2)]('',{'event':_0x3256fe,'instance':this[_0x47c872(0x237)][_0x47c872(0x6ca)],'data':_0x2439cd}),this[_0x47c872(0x756)][_0x47c872(0x219)](_0x47c872(0x63b)+_0x3256fe+':\x20'+_0x2e06b9);}catch(_0x318570){this['logger'][_0x47c872(0x546)]({'local':c[_0x47c872(0x6ca)]+_0x47c872(0x703),'message':_0x318570?.['message'],'hostName':_0x318570?.[_0x47c872(0x4d9)],'syscall':_0x318570?.[_0x47c872(0x51c)],'code':_0x318570?.['code'],'error':_0x318570?.[_0x47c872(0x5b6)],'stack':_0x318570?.[_0x47c872(0x59a)],'name':_0x318570?.[_0x47c872(0x6ca)]});}if(_0x1f6d9e&&_0x2cf664)try{await se[_0x47c872(0x697)][_0x47c872(0x71f)]({'baseURL':_0x2cf664})[_0x47c872(0x4c2)]('',{'event':_0x3256fe,'instance':this[_0x47c872(0x237)][_0x47c872(0x6ca)],'data':_0x2439cd}),this[_0x47c872(0x756)][_0x47c872(0x219)](_0x47c872(0x320)+_0x3256fe+':\x20'+_0x2cf664);}catch(_0x1f1e8f){this['logger'][_0x47c872(0x546)]({'local':c[_0x47c872(0x6ca)]+_0x47c872(0x2be),'message':_0x1f1e8f?.[_0x47c872(0x372)],'hostName':_0x1f1e8f?.['hostname'],'syscall':_0x1f1e8f?.[_0x47c872(0x51c)],'code':_0x1f1e8f?.[_0x47c872(0x33f)],'error':_0x1f1e8f?.[_0x47c872(0x5b6)],'stack':_0x1f1e8f?.[_0x47c872(0x59a)],'name':_0x1f1e8f?.[_0x47c872(0x6ca)]});}}async[a0_0x4c7c55(0x440)]({qr:_0x1fa333,connection:_0x4740a4,lastDisconnect:_0x3f7cdb}){const _0x3ffd55=a0_0x4c7c55;if(_0x1fa333){if(this[_0x3ffd55(0x237)][_0x3ffd55(0x43c)]['count']===hr)return this[_0x3ffd55(0x263)](_0x3ffd55(0x6af),{'message':_0x3ffd55(0x2cd),'statusCode':y[_0x3ffd55(0x312)]['badSession']}),this[_0x3ffd55(0x2f9)]={'state':_0x3ffd55(0x4e7),'statusReason':y[_0x3ffd55(0x312)][_0x3ffd55(0x735)]},this[_0x3ffd55(0x263)](_0x3ffd55(0x43b),{'instance':this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)],...this['stateConnection']}),this[_0x3ffd55(0x263)](_0x3ffd55(0x401),{'instance':this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)],'status':'removed'}),this['repository'][_0x3ffd55(0x438)][_0x3ffd55(0x71f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x3ffd55(0x593)]()},this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)]),this['endSession']=!0x0,this['eventEmitter'][_0x3ffd55(0x5da)]('no.connection',this[_0x3ffd55(0x237)]['name']);this[_0x3ffd55(0x237)]['qrcode']['count']++;let _0x3591b7={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x3ffd55(0x419)}};bo[_0x3ffd55(0x697)]['toDataURL'](_0x1fa333,_0x3591b7,(_0x49f2db,_0x567442)=>{const _0x512633=_0x3ffd55;if(_0x49f2db){this[_0x512633(0x756)][_0x512633(0x546)](this[_0x512633(0x515)]+'\x20('+this[_0x512633(0x237)][_0x512633(0x650)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x49f2db instanceof Error?_0x49f2db['message']:JSON[_0x512633(0x6c4)](_0x49f2db,null,0x2)));return;}this[_0x512633(0x237)][_0x512633(0x43c)][_0x512633(0x3eb)]=_0x567442,this[_0x512633(0x237)][_0x512633(0x43c)][_0x512633(0x33f)]=_0x1fa333,this[_0x512633(0x263)](_0x512633(0x6af),{'qrcode':{'instance':this[_0x512633(0x237)]['name'],'pairingCode':this['instance'][_0x512633(0x43c)][_0x512633(0x35e)],'code':_0x1fa333,'base64':_0x567442}});}),this['phoneNumber']?this[_0x3ffd55(0x237)]['qrcode'][_0x3ffd55(0x35e)]=await this[_0x3ffd55(0x227)][_0x3ffd55(0x5ca)](this[_0x3ffd55(0x27d)]):this[_0x3ffd55(0x237)][_0x3ffd55(0x43c)][_0x3ffd55(0x35e)]=null,So[_0x3ffd55(0x697)][_0x3ffd55(0x35b)](_0x1fa333,{'small':!0x0},_0x5f280d=>this[_0x3ffd55(0x756)]['log'](_0x3ffd55(0x5a8)+this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)]+_0x3ffd55(0x417)+this[_0x3ffd55(0x237)]['qrcode'][_0x3ffd55(0x744)]+_0x3ffd55(0x6c6)+this[_0x3ffd55(0x237)][_0x3ffd55(0x43c)][_0x3ffd55(0x35e)]+_0x3ffd55(0x32b)+_0x5f280d));}if(_0x4740a4&&(this['stateConnection']={'state':_0x4740a4,'statusReason':_0x3f7cdb?.[_0x3ffd55(0x546)]?.[_0x3ffd55(0x310)]?.[_0x3ffd55(0x1e7)]??0xc8},this[_0x3ffd55(0x263)](_0x3ffd55(0x43b),{'instance':this['instance']['name'],...this[_0x3ffd55(0x2f9)]})),_0x4740a4===_0x3ffd55(0x3da)){if(this['reconnectAttempts']++,this[_0x3ffd55(0x3cf)]['push'](Date[_0x3ffd55(0x593)]()),this[_0x3ffd55(0x3cf)]=this[_0x3ffd55(0x3cf)][_0x3ffd55(0x720)](_0x48fd0d=>Date[_0x3ffd55(0x593)]()-_0x48fd0d<this[_0x3ffd55(0x3bc)]),_0x3f7cdb[_0x3ffd55(0x546)]?.['output']?.[_0x3ffd55(0x1e7)]!==y[_0x3ffd55(0x312)][_0x3ffd55(0x49b)]&&this[_0x3ffd55(0x3cf)][_0x3ffd55(0x676)]<=this[_0x3ffd55(0x6c7)])console['log'](this['instanceName']+_0x3ffd55(0x558)+this[_0x3ffd55(0x7bf)]+'/'+this[_0x3ffd55(0x6c7)]+_0x3ffd55(0x6e9)),console['log']('Tentando\x20reconectar...'),await this[_0x3ffd55(0x1c9)]();else{this['sendDataWebhook']('status.instance',{'instance':this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)],'status':_0x3ffd55(0x823)}),this[_0x3ffd55(0x45e)]=!0x1,this[_0x3ffd55(0x409)][_0x3ffd55(0x4f1)][_0x3ffd55(0x270)](this['instanceName']),this[_0x3ffd55(0x409)][_0x3ffd55(0x438)][_0x3ffd55(0x71f)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x3ffd55(0x237)]['name']);try{this[_0x3ffd55(0x756)]['verbose'](this[_0x3ffd55(0x515)]+'\x20('+this[_0x3ffd55(0x237)][_0x3ffd55(0x650)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x527607=await this[_0x3ffd55(0x409)]['message'][_0x3ffd55(0x7c9)](this['instance'][_0x3ffd55(0x650)]);_0x527607[_0x3ffd55(0x389)]?this[_0x3ffd55(0x756)][_0x3ffd55(0x800)](this[_0x3ffd55(0x515)]+'\x20('+this[_0x3ffd55(0x237)][_0x3ffd55(0x650)]+_0x3ffd55(0x482)):console['error'](_0x3ffd55(0x763),_0x527607[_0x3ffd55(0x546)]);}catch(_0x298f67){console[_0x3ffd55(0x546)](_0x3ffd55(0x5b0),_0x298f67);}this['delayMessage']!==null&&(this[_0x3ffd55(0x756)][_0x3ffd55(0x800)](this[_0x3ffd55(0x515)]+'\x20('+this['instance'][_0x3ffd55(0x650)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x3ffd55(0x203)]),this[_0x3ffd55(0x203)]=null),this[_0x3ffd55(0x756)][_0x3ffd55(0x800)](this[_0x3ffd55(0x515)]+'\x20('+this[_0x3ffd55(0x237)][_0x3ffd55(0x650)]+_0x3ffd55(0x47a)),this[_0x3ffd55(0x53f)]=null,this['eventEmitter'][_0x3ffd55(0x5da)]('remove.instance',this['instance']['name'],_0x3ffd55(0x3c4)),this[_0x3ffd55(0x227)]?.['ws']?.[_0x3ffd55(0x3da)](),this[_0x3ffd55(0x227)][_0x3ffd55(0x307)](new Error(_0x3ffd55(0x3fa)));}}if(_0x4740a4===_0x3ffd55(0x4c3)){this[_0x3ffd55(0x3af)],this['instance'][_0x3ffd55(0x650)]=this[_0x3ffd55(0x227)][_0x3ffd55(0x306)]['id']['replace'](/:\d+/,'')[_0x3ffd55(0x294)](_0x3ffd55(0x69a),''),this[_0x3ffd55(0x237)][_0x3ffd55(0x620)]=(await this[_0x3ffd55(0x741)](this['instance'][_0x3ffd55(0x650)]+'@s.whatsapp.net'))[_0x3ffd55(0x620)],this[_0x3ffd55(0x409)]['auth']['create']({'online':!0x0,'owner':this['instance'][_0x3ffd55(0x650)],'lastDisconnect':null},this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)]);let _0x4ef2e3=_0x3ffd55(0x7f5)+this['instance']['wuid'],_0x348270=0x28,_0x41f3c2=Math[_0x3ffd55(0x704)]((_0x348270-_0x4ef2e3[_0x3ffd55(0x676)])/0x2),_0x5ccf36='\x20'[_0x3ffd55(0x805)](_0x41f3c2),_0x627f81=_0x3ffd55(0x724),_0x33df12=_0x3ffd55(0x642)+this[_0x3ffd55(0x237)][_0x3ffd55(0x6ca)],_0x514ae6=(''+_0x5ccf36+_0x4ef2e3+_0x5ccf36)[_0x3ffd55(0x708)](_0x348270,'\x20'),_0x2afddf=(''+_0x5ccf36+_0x627f81+_0x5ccf36)[_0x3ffd55(0x708)](_0x348270,'\x20'),_0x14dea8=(''+_0x5ccf36+_0x33df12+_0x5ccf36)[_0x3ffd55(0x708)](_0x348270,'\x20'),_0xe6f161=Math[_0x3ffd55(0x20b)](_0x514ae6[_0x3ffd55(0x676)],_0x2afddf[_0x3ffd55(0x676)],_0x14dea8['length']),_0x4f3284=_0x514ae6[_0x3ffd55(0x708)](_0xe6f161,'\x20'),_0x5dafd3=_0x2afddf['padEnd'](_0xe6f161,'\x20'),_0x33b757=_0x14dea8[_0x3ffd55(0x708)](_0xe6f161,'\x20');this['logger'][_0x3ffd55(0x39b)]((_0x3ffd55(0x3d4)+''[_0x3ffd55(0x805)](_0xe6f161)+_0x3ffd55(0x1e5)+_0x5dafd3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33b757+_0x3ffd55(0x517)+_0x4f3284+_0x3ffd55(0x7ed)+''[_0x3ffd55(0x805)](_0xe6f161)+'')[_0x3ffd55(0x294)](/^ +/gm,'\x20\x20')),this[_0x3ffd55(0x74e)](),this[_0x3ffd55(0x45e)]=!0x0;}}[a0_0x4c7c55(0x3af)](){const _0x4e52c9=a0_0x4c7c55;this[_0x4e52c9(0x7bf)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x4c7c55(0x4f8)](_0x2140a4,_0x13de47=!0x1){const _0x2f142c=a0_0x4c7c55;try{let _0x53cb0c=await this[_0x2f142c(0x409)][_0x2f142c(0x372)][_0x2f142c(0x557)]({'where':{'_id':_0x2140a4['id']}},this[_0x2f142c(0x237)][_0x2f142c(0x650)]);return _0x13de47?_0x53cb0c[0x0]:_0x53cb0c[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x4c7c55(0x248)](){const _0x2eb82e=a0_0x4c7c55;let _0x3ce9ed=this['configService']['get'](_0x2eb82e(0x39d)),_0x3c1a50=this['configService'][_0x2eb82e(0x448)](_0x2eb82e(0x1d2));_0x3ce9ed?.['CLEANING_INTERVAL']&&!_0x3c1a50[_0x2eb82e(0x2b0)]&&setInterval(()=>{const _0x50d2a1=_0x2eb82e;try{for(let [_0x5c4671,_0x23b0dc]of Object[_0x50d2a1(0x48c)](_0x3ce9ed))_0x23b0dc===!0x0&&(0x0,_t['execSync'])(_0x50d2a1(0x21b)+(0x0,F[_0x50d2a1(0x1c0)])(this['storePath'],_0x5c4671[_0x50d2a1(0x61d)](),this[_0x50d2a1(0x237)][_0x50d2a1(0x650)])+_0x50d2a1(0x6e0));}catch{}},(_0x3ce9ed?.[_0x2eb82e(0x337)]??0xe10)*0x3e8);}async[a0_0x4c7c55(0x7ee)](){const _0x59841a=a0_0x4c7c55;let _0x1219cc=this[_0x59841a(0x2fb)][_0x59841a(0x448)]('DATABASE'),_0x1720f0=this[_0x59841a(0x2fb)][_0x59841a(0x448)](_0x59841a(0x3e8));return _0x1720f0?.[_0x59841a(0x2b0)]?await bs(_0x1720f0,this[_0x59841a(0x237)][_0x59841a(0x6ca)]):_0x1219cc[_0x59841a(0x2b0)]?await ys(this['instance'][_0x59841a(0x6ca)]):await(0x0,y[_0x59841a(0x5cb)])((0x0,F['join'])(he,this[_0x59841a(0x237)][_0x59841a(0x6ca)]));}async['AutomateFunctions'](){const _0x477d1b=a0_0x4c7c55;let _0x16f8e0=()=>Math[_0x477d1b(0x704)](Math[_0x477d1b(0x675)]()*0x2711)+0x7d0,_0x110a38=async()=>{const _0x429d2d=_0x477d1b;if(!this[_0x429d2d(0x45e)]){this[_0x429d2d(0x756)][_0x429d2d(0x800)](_0x429d2d(0x275)),this['isRunning']=!0x1;return;}if(this[_0x429d2d(0x237)]['wuid']&&this[_0x429d2d(0x53f)]&&this[_0x429d2d(0x203)]!==null&&this['delayMessage']!==void 0x0){let _0x228166=Math[_0x429d2d(0x2ee)](this[_0x429d2d(0x203)]/0xea60);this[_0x429d2d(0x756)][_0x429d2d(0x800)](this[_0x429d2d(0x515)]+'\x20('+this[_0x429d2d(0x237)][_0x429d2d(0x650)]+_0x429d2d(0x291)+_0x228166+_0x429d2d(0x450)),this['isRunning']=!0x1;return;}else this[_0x429d2d(0x237)]['wuid']&&(this[_0x429d2d(0x756)][_0x429d2d(0x800)](this[_0x429d2d(0x515)]+'\x20('+this['instance'][_0x429d2d(0x650)]+_0x429d2d(0x7e1)),this[_0x429d2d(0x756)][_0x429d2d(0x800)](this[_0x429d2d(0x515)]+'\x20('+this[_0x429d2d(0x237)][_0x429d2d(0x650)]+_0x429d2d(0x635)),this[_0x429d2d(0x53f)]||await this[_0x429d2d(0x715)](),(this['delayMessage']===null||this['delayMessage']===void 0x0)&&await this[_0x429d2d(0x6b3)]());if(this[_0x429d2d(0x2f4)]){let _0xa1965d=_0x16f8e0();this[_0x429d2d(0x756)]['verbose'](this['instanceName']+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0xa1965d/0x3e8+_0x429d2d(0x4c7)),setTimeout(_0x110a38,_0xa1965d);}};if(this[_0x477d1b(0x2f4)])return;this['isRunning']=!0x0;let _0x2e7bfe=_0x16f8e0();setTimeout(_0x110a38,_0x2e7bfe);}async[a0_0x4c7c55(0x365)](_0x37aa49=0x0){const _0x53547f=a0_0x4c7c55;if(!(this[_0x53547f(0x2fb)][_0x53547f(0x448)](_0x53547f(0x44f))||!0x1)||_0x37aa49>=0x3)return this[_0x53547f(0x756)][_0x53547f(0x244)]('Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.'),this[_0x53547f(0x409)][_0x53547f(0x438)]['create']({'ip':null},this[_0x53547f(0x237)][_0x53547f(0x6ca)]),{};console[_0x53547f(0x219)](_0x53547f(0x7a6)+(_0x37aa49+0x1)+_0x53547f(0x638));let _0x29ba04=(await this['repository'][_0x53547f(0x438)][_0x53547f(0x557)](this['instanceName']))['ip'],_0x12ce49=po(_0x29ba04);if(_0x12ce49||(console[_0x53547f(0x219)]('Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20no\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatrio.'),_0x12ce49=go()),console['log'](_0x53547f(0x71d),_0x12ce49),_0x12ce49&&ho(_0x12ce49)){let _0x47cc89=_0x12ce49[_0x53547f(0x816)]+_0x53547f(0x68e)+_0x12ce49['username']+':'+_0x12ce49['password']+'@'+_0x12ce49[_0x53547f(0x5ae)]+':'+_0x12ce49[_0x53547f(0x770)];return console['log']('-----------------proxyUri---------------------'),console['log'](_0x47cc89),await this[_0x53547f(0x48f)](_0x47cc89)?(console[_0x53547f(0x219)](_0x53547f(0x58b)),this[_0x53547f(0x409)][_0x53547f(0x438)][_0x53547f(0x71f)]({'ip':_0x12ce49[_0x53547f(0x5ae)]},this[_0x53547f(0x237)][_0x53547f(0x6ca)]),{'agent':new Dt[(_0x53547f(0x5f3))](_0x47cc89),'fetchAgent':new Dt[(_0x53547f(0x5f3))](_0x47cc89)}):(console[_0x53547f(0x219)](_0x53547f(0x855)),this[_0x53547f(0x365)](_0x37aa49+0x1));}else return console['log'](_0x53547f(0x46f)),this[_0x53547f(0x365)](_0x37aa49+0x1);}async['testProxy'](_0x442a8b){const _0x24f5d5=a0_0x4c7c55;let _0x8849d1=new Dt['HttpsProxyAgent'](_0x442a8b);try{let _0x462612=await se['default']['get'](_0x24f5d5(0x368),{'httpsAgent':_0x8849d1});return console[_0x24f5d5(0x219)](_0x24f5d5(0x57d),_0x462612[_0x24f5d5(0x402)]),!0x0;}catch{return console['error'](_0x24f5d5(0x739)),!0x1;}}async[a0_0x4c7c55(0x1c9)](_0x4e5221){const _0x4c5bdf=a0_0x4c7c55;try{let _0x2e180a=await this[_0x4c5bdf(0x365)]();this[_0x4c5bdf(0x833)](),this[_0x4c5bdf(0x237)][_0x4c5bdf(0x1fe)]=await this[_0x4c5bdf(0x7ee)]();let {version:_0x2cb29c}=await(0x0,y[_0x4c5bdf(0x65c)])(),_0x3ad084=[Ms,Eo,(0x0,Ss['release'])()],_0x542050={..._0x2e180a,'auth':{'creds':this[_0x4c5bdf(0x237)][_0x4c5bdf(0x1fe)]['state']['creds'],'keys':(0x0,y[_0x4c5bdf(0x7ec)])(this[_0x4c5bdf(0x237)][_0x4c5bdf(0x1fe)]['state'][_0x4c5bdf(0x722)],(0x0,Ot['default'])({'level':_0x4c5bdf(0x546)}))},'logger':(0x0,Ot[_0x4c5bdf(0x697)])({'level':_0x4c5bdf(0x546)}),'printQRInTerminal':!0x1,'browser':_0x4e5221?[_0x4c5bdf(0x1ed),Ms,(0x0,Ss[_0x4c5bdf(0x6dc)])()]:_0x3ad084,'version':_0x2cb29c,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x4c5bdf(0x32f)],'getMessage':async _0x232230=>await this[_0x4c5bdf(0x4f8)](_0x232230),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4afcc4=>(_0x4afcc4[_0x4c5bdf(0x481)]?.[_0x4c5bdf(0x669)]==y['proto']['Message'][_0x4c5bdf(0x1d0)]['ListType'][_0x4c5bdf(0x3d3)]&&(_0x4afcc4=JSON[_0x4c5bdf(0x2b9)](JSON[_0x4c5bdf(0x6c4)](_0x4afcc4)),_0x4afcc4['listMessage'][_0x4c5bdf(0x669)]=y[_0x4c5bdf(0x2e6)][_0x4c5bdf(0x215)][_0x4c5bdf(0x1d0)][_0x4c5bdf(0x782)][_0x4c5bdf(0x2d9)]),_0x4afcc4)};return this[_0x4c5bdf(0x77a)]=!0x1,this[_0x4c5bdf(0x227)]=(0x0,y[_0x4c5bdf(0x697)])(_0x542050),this[_0x4c5bdf(0x6ae)](),this['phoneNumber']=_0x4e5221,this['client'];}catch(_0x3a7ec0){throw this[_0x4c5bdf(0x756)][_0x4c5bdf(0x546)](this['instanceName']+'\x20('+this[_0x4c5bdf(0x237)][_0x4c5bdf(0x650)]+'):\x20'+(_0x3a7ec0 instanceof Error?_0x3a7ec0[_0x4c5bdf(0x372)]:JSON[_0x4c5bdf(0x6c4)](_0x3a7ec0,null,0x2))),new O(_0x3a7ec0?.[_0x4c5bdf(0x2b4)]());}}[a0_0x4c7c55(0x6ae)](){const _0x1b9528=a0_0x4c7c55;this[_0x1b9528(0x227)]['ev'][_0x1b9528(0x71c)](_0x114fd6=>{const _0x2602e2=_0x1b9528;if(!this[_0x2602e2(0x77a)]){let _0x597fd2=this[_0x2602e2(0x2fb)]['get'](_0x2602e2(0x1d2));if(_0x114fd6[_0x2602e2(0x615)]){let _0x3afc83=_0x114fd6[_0x2602e2(0x615)];this['messageHandle'][_0x2602e2(0x615)](_0x3afc83);}if(_0x114fd6['labels.association']){let _0xe79bcb=_0x114fd6[_0x2602e2(0x3b6)];this[_0x2602e2(0x26e)][_0x2602e2(0x3b6)](_0xe79bcb);}if(_0x114fd6[_0x2602e2(0x43b)]&&this[_0x2602e2(0x440)](_0x114fd6[_0x2602e2(0x43b)]),_0x114fd6[_0x2602e2(0x529)]&&this['instance'][_0x2602e2(0x1fe)][_0x2602e2(0x344)](),_0x114fd6['messaging-history.set']){let _0x3591d5=_0x114fd6['messaging-history.set'];this[_0x2602e2(0x26e)][_0x2602e2(0x334)](_0x3591d5,_0x597fd2);}if(_0x114fd6[_0x2602e2(0x63e)]){let _0x12eb47=_0x114fd6[_0x2602e2(0x63e)];this[_0x2602e2(0x26e)][_0x2602e2(0x63e)](_0x12eb47,_0x597fd2);}if(_0x114fd6[_0x2602e2(0x5f4)]){let _0x337c26=_0x114fd6[_0x2602e2(0x5f4)];_0x337c26[_0x2602e2(0x559)](_0xf10835=>{const _0x447c22=_0x2602e2;if(fo[_0xf10835[_0x447c22(0x399)]['id']]){this[_0x447c22(0x227)]['ev'][_0x447c22(0x5da)](_0x447c22(0x63e),{'messages':[_0xf10835],'type':_0x447c22(0x348)}),delete fo[_0xf10835[_0x447c22(0x399)]['id']];return;}}),this[_0x2602e2(0x26e)][_0x2602e2(0x5f4)](_0x337c26,_0x597fd2);}if(_0x114fd6['presence.update']){let _0x7f1fd9=_0x114fd6[_0x2602e2(0x250)];if(this[_0x2602e2(0x2a9)]?.[_0x2602e2(0x838)]&&_0x7f1fd9['id'][_0x2602e2(0x606)]('@g.us'))return;this['sendDataWebhook'](_0x2602e2(0x250),_0x7f1fd9);}if(!this[_0x2602e2(0x2a9)]?.[_0x2602e2(0x838)]){if(_0x114fd6[_0x2602e2(0x1f4)]){let _0x5e3fc6=_0x114fd6[_0x2602e2(0x1f4)];this[_0x2602e2(0x50e)][_0x2602e2(0x1f4)](_0x5e3fc6);}if(_0x114fd6[_0x2602e2(0x679)]){let _0x3b9d87=_0x114fd6['groups.update'];this[_0x2602e2(0x50e)][_0x2602e2(0x679)](_0x3b9d87);}if(_0x114fd6[_0x2602e2(0x228)]){let _0x2aee6b=_0x114fd6[_0x2602e2(0x228)];this[_0x2602e2(0x50e)][_0x2602e2(0x228)](_0x2aee6b);}}if(_0x114fd6['chats.upsert']){let _0x262647=_0x114fd6[_0x2602e2(0x2ec)];this[_0x2602e2(0x5fb)]['chats.upsert'](_0x262647,_0x597fd2);}if(_0x114fd6['chats.update']){let _0x25e170=_0x114fd6[_0x2602e2(0x20d)];this[_0x2602e2(0x5fb)][_0x2602e2(0x20d)](_0x25e170,_0x597fd2);}if(_0x114fd6[_0x2602e2(0x340)]){let _0x1d347a=_0x114fd6['chats.delete'];this['chatHandle'][_0x2602e2(0x340)](_0x1d347a);}if(_0x114fd6[_0x2602e2(0x5a7)]){let _0x16c0eb=_0x114fd6[_0x2602e2(0x5a7)];this[_0x2602e2(0x588)][_0x2602e2(0x5a7)](_0x16c0eb,_0x597fd2);}if(_0x114fd6[_0x2602e2(0x463)]){let _0x34ed21=_0x114fd6[_0x2602e2(0x463)];this[_0x2602e2(0x588)][_0x2602e2(0x463)](_0x34ed21,_0x597fd2);}}});}['delayChatLabel'](_0x395ef8){return new Promise(_0x294da7=>setTimeout(_0x294da7,_0x395ef8));}[a0_0x4c7c55(0x398)](_0x3700fb){let _0x292ff6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x3700fb);if(_0x292ff6&&_0x292ff6[0x1]==='55'){let _0x2ff8c3=_0x292ff6[0x2],_0x902289=_0x292ff6[0x3],_0x2e9506=_0x292ff6[0x4];if(_0x2ff8c3>='31'&&_0x902289==='9')return _0x292ff6[0x1]+_0x2ff8c3+_0x2e9506;}return _0x3700fb;}[a0_0x4c7c55(0x25b)](_0xcad3b5){const _0x56e1a9=a0_0x4c7c55;return _0xcad3b5[_0x56e1a9(0x606)]('@g.us')||_0xcad3b5[_0x56e1a9(0x606)](_0x56e1a9(0x69a))||_0xcad3b5['includes'](_0x56e1a9(0x83e))?_0xcad3b5:(_0xcad3b5=_0xcad3b5?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x56e1a9(0x294)](/\(/g,'')[_0x56e1a9(0x294)](/\)/g,'')['split'](/\:/)[0x0][_0x56e1a9(0x81e)]('@')[0x0],_0xcad3b5[_0x56e1a9(0x676)]>=0x12?(_0xcad3b5=_0xcad3b5['replace'](/[^\d-]/g,''),_0xcad3b5+'@g.us'):(_0xcad3b5=_0xcad3b5[_0x56e1a9(0x294)](/\D/g,''),this[_0x56e1a9(0x398)](_0xcad3b5)+_0x56e1a9(0x69a)));}async['updatePresence'](_0x5554dc){const _0x52ec5a=a0_0x4c7c55;let _0x5c7872=this[_0x52ec5a(0x25b)](_0x5554dc['number']),_0x4fbf40=(await this['whatsappNumber']({'numbers':[_0x5c7872]}))[0x0];if(!_0x4fbf40[_0x52ec5a(0x641)]&&!(0x0,y[_0x52ec5a(0x64c)])(_0x4fbf40[_0x52ec5a(0x50a)]))throw new m(_0x4fbf40);let _0x41ff8b=(0x0,y[_0x52ec5a(0x64c)])(_0x5c7872)?_0x5c7872:_0x4fbf40[_0x52ec5a(0x50a)];if((0x0,y[_0x52ec5a(0x64c)])(_0x41ff8b))try{await this[_0x52ec5a(0x227)][_0x52ec5a(0x57b)](_0x41ff8b);}catch{throw new j(_0x52ec5a(0x6ea));}try{return await this[_0x52ec5a(0x227)][_0x52ec5a(0x446)](_0x41ff8b),await this[_0x52ec5a(0x227)]['sendPresenceUpdate'](_0x5554dc[_0x52ec5a(0x7eb)],_0x5c7872),{'status':0xc8,'presence':_0x5554dc[_0x52ec5a(0x7eb)]};}catch(_0x5a888c){throw new m(_0x5a888c[_0x52ec5a(0x2b4)]());}}async['profilePicture'](_0x5add98){const _0x516507=a0_0x4c7c55;let _0x1fccca=this['createJid'](_0x5add98);try{return{'wuid':_0x1fccca,'profilePictureUrl':await this[_0x516507(0x227)][_0x516507(0x620)](_0x1fccca,_0x516507(0x504))};}catch{return{'wuid':_0x1fccca,'profilePictureUrl':null};}}async[a0_0x4c7c55(0x332)](_0x18b754,_0x163c74,_0x530b06){const _0x2b9e31=a0_0x4c7c55;_0x530b06||(_0x530b06={});let _0x1aa192=(await this[_0x2b9e31(0x298)]({'numbers':[_0x18b754]}))[0x0];if(!_0x1aa192[_0x2b9e31(0x641)]&&!(0x0,y[_0x2b9e31(0x64c)])(_0x1aa192[_0x2b9e31(0x50a)])&&!_0x1aa192['jid'][_0x2b9e31(0x606)](_0x2b9e31(0x83e)))throw new m(_0x1aa192);let _0x3660b0=_0x1aa192[_0x2b9e31(0x50a)];try{_0x530b06?.['delay']&&(await this[_0x2b9e31(0x227)]['presenceSubscribe'](_0x3660b0),await this['client'][_0x2b9e31(0x791)](_0x530b06?.[_0x2b9e31(0x7eb)]??_0x2b9e31(0x553),_0x3660b0),await(0x0,y[_0x2b9e31(0x6cf)])(_0x530b06[_0x2b9e31(0x6cf)]),await this[_0x2b9e31(0x227)][_0x2b9e31(0x791)]('paused',_0x3660b0));let _0x35746f=_0x530b06?.[_0x2b9e31(0x7cb)]!=!0x1?void 0x0:!0x1,_0x27b6ab;if(_0x530b06?.[_0x2b9e31(0x1fd)]){let _0x551f66=_0x530b06?.[_0x2b9e31(0x1fd)],_0x38b1de=_0x551f66?.[_0x2b9e31(0x372)]?_0x551f66:await this['getMessage'](_0x551f66[_0x2b9e31(0x399)],!0x0);if(!_0x38b1de)throw _0x2b9e31(0x25f);_0x27b6ab=_0x38b1de;}let _0x4b164d;if((0x0,y[_0x2b9e31(0x64c)])(_0x3660b0))try{let _0x3fcab5=await this[_0x2b9e31(0x227)][_0x2b9e31(0x57b)](_0x3660b0);if(!_0x3fcab5)throw new j(_0x2b9e31(0x6ea));_0x530b06?.[_0x2b9e31(0x1f1)]&&(_0x530b06[_0x2b9e31(0x1f1)]?.[_0x2b9e31(0x51d)]?_0x4b164d=_0x3fcab5['participants'][_0x2b9e31(0x4df)](_0xe22a05=>_0xe22a05['id']):_0x530b06[_0x2b9e31(0x1f1)]?.[_0x2b9e31(0x7be)]?.[_0x2b9e31(0x676)]&&(_0x4b164d=_0x530b06[_0x2b9e31(0x1f1)][_0x2b9e31(0x7be)][_0x2b9e31(0x4df)](_0x2ff90c=>{const _0x29ee98=_0x2b9e31;let _0x472d61=this[_0x29ee98(0x25b)](_0x2ff90c);return(0x0,y['isJidGroup'])(_0x472d61)?null:_0x472d61;})));}catch{throw new j('Group\x20not\x20found');}let _0x556645=await((async()=>{const _0x4299a6=_0x2b9e31;let _0x19b9ac={'quoted':_0x27b6ab};if(!_0x163c74[_0x4299a6(0x3b1)]&&!_0x163c74['poll']&&!_0x163c74[_0x4299a6(0x851)]&&!_0x163c74['conversation']&&_0x3660b0!==_0x4299a6(0x295)&&!_0x163c74['audio'])return await this[_0x4299a6(0x227)][_0x4299a6(0x385)](_0x3660b0,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x163c74},'mentions':_0x4b164d},_0x19b9ac);if(_0x163c74['conversation']){let _0x4c591b=_0x163c74['conversation'];return _0x530b06?.[_0x4299a6(0x449)]&&(_0x4c591b=await this[_0x4299a6(0x241)](_0x4c591b,_0x3660b0)),await this[_0x4299a6(0x227)][_0x4299a6(0x385)](_0x3660b0,{'text':_0x4c591b,'mentions':_0x4b164d,'linkPreview':_0x35746f},_0x19b9ac);}return _0x3660b0===_0x4299a6(0x295)?await this[_0x4299a6(0x227)][_0x4299a6(0x385)](_0x3660b0,_0x163c74['status'][_0x4299a6(0x7f6)],{'backgroundColor':_0x163c74[_0x4299a6(0x2bf)]['option'][_0x4299a6(0x4ef)],'font':_0x163c74[_0x4299a6(0x2bf)][_0x4299a6(0x5ac)][_0x4299a6(0x797)],'statusJidList':_0x163c74[_0x4299a6(0x2bf)][_0x4299a6(0x5ac)][_0x4299a6(0x543)]}):await this[_0x4299a6(0x227)][_0x4299a6(0x385)](_0x3660b0,_0x163c74,_0x19b9ac);})()),{message_normalized:_0x1d2816}=this[_0x2b9e31(0x3bd)](_0x556645['message'],P(_0x556645['message']),null),_0x555df8={'_id':_0x556645[_0x2b9e31(0x399)]['id'],'key':_0x556645[_0x2b9e31(0x399)],'pushName':_0x556645['pushName'],'message':{..._0x556645['message']},'messageType':P(_0x556645[_0x2b9e31(0x372)]),'message_normalized':{'key':_0x556645[_0x2b9e31(0x399)],'pushName':_0x556645[_0x2b9e31(0x59c)],'messageTimestamp':_0x556645['messageTimestamp']&&_0x556645[_0x2b9e31(0x582)]['toString']()[_0x2b9e31(0x676)]<0xd?_0x556645[_0x2b9e31(0x582)]*0x3e8:_0x556645[_0x2b9e31(0x582)]||null,'source':(0x0,y['getDevice'])(_0x556645['key']['id']),..._0x1d2816},'messageTimestamp':_0x556645[_0x2b9e31(0x582)]&&_0x556645[_0x2b9e31(0x582)]['toString']()[_0x2b9e31(0x676)]<0xd?_0x556645[_0x2b9e31(0x582)]*0x3e8:_0x556645['messageTimestamp']||null,'owner':this[_0x2b9e31(0x237)][_0x2b9e31(0x650)],'source':(0x0,y[_0x2b9e31(0x69b)])(_0x556645['key']['id'])};return this[_0x2b9e31(0x756)]['log'](_0x555df8),this[_0x2b9e31(0x263)](_0x2b9e31(0x686),_0x555df8),J(this[_0x2b9e31(0x515)],_0x2b9e31(0x7bd),{'message':_0x555df8}),this['updateChatWithMessage'](this[_0x2b9e31(0x2fb)]['get'](_0x2b9e31(0x1d2)),_0x555df8,_0x2b9e31(0x38c)),await this['repository'][_0x2b9e31(0x372)][_0x2b9e31(0x2e5)]([_0x555df8],this[_0x2b9e31(0x237)][_0x2b9e31(0x650)]),_0x556645;}catch(_0x2115af){throw this[_0x2b9e31(0x756)]['error'](this[_0x2b9e31(0x515)]+'\x20('+this[_0x2b9e31(0x237)][_0x2b9e31(0x650)]+_0x2b9e31(0x535)+_0x2115af[_0x2b9e31(0x2b4)]()),new m(_0x2115af[_0x2b9e31(0x2b4)]());}}get[a0_0x4c7c55(0x75f)](){return this['stateConnection'];}async[a0_0x4c7c55(0x2d4)](_0x4fc142){const _0x3ea8d1=a0_0x4c7c55;let _0xb7b2a6=mo,_0x2b83b5=He;return _0x2b83b5&&this[_0x3ea8d1(0x515)]['toLowerCase']()['includes'](_0x2b83b5[_0x3ea8d1(0x61d)]())&&(_0x4fc142[_0x3ea8d1(0x2d4)]['text']+='\x0a\x0a'+_0xb7b2a6),await this['sendMessageWithTyping'](_0x4fc142['number'],{'conversation':_0x4fc142[_0x3ea8d1(0x2d4)][_0x3ea8d1(0x55e)]},_0x4fc142?.['options']);}async[a0_0x4c7c55(0x4b1)](_0x4a71de){const _0x5f2386=a0_0x4c7c55;if(!_0x4a71de[_0x5f2386(0x23a)])throw new m('Type\x20is\x20required');if(!_0x4a71de[_0x5f2386(0x7f6)])throw new m('Content\x20is\x20required');if(_0x4a71de[_0x5f2386(0x596)]){let _0x4e0df4=await this['repository'][_0x5f2386(0x51f)][_0x5f2386(0x557)]({'where':{}},this[_0x5f2386(0x237)][_0x5f2386(0x650)]);if(!_0x4e0df4[_0x5f2386(0x676)])throw new m(_0x5f2386(0x7c5));_0x4a71de[_0x5f2386(0x543)]=_0x4e0df4[_0x5f2386(0x720)](_0x326759=>_0x326759[_0x5f2386(0x59c)])[_0x5f2386(0x4df)](_0x18a60e=>_0x18a60e[_0x5f2386(0x40d)]);}if(!_0x4a71de[_0x5f2386(0x543)]?.[_0x5f2386(0x676)]&&!_0x4a71de['allContacts'])throw new m(_0x5f2386(0x6ec));if(_0x4a71de[_0x5f2386(0x23a)]===_0x5f2386(0x55e)){if(!_0x4a71de[_0x5f2386(0x4ef)])throw new m(_0x5f2386(0x78a));if(!_0x4a71de['font'])throw new m(_0x5f2386(0x3c7));return{'content':{'text':_0x4a71de['content']},'option':{'backgroundColor':_0x4a71de[_0x5f2386(0x4ef)],'font':_0x4a71de['font'],'statusJidList':_0x4a71de[_0x5f2386(0x543)]}};}if(_0x4a71de[_0x5f2386(0x23a)]===_0x5f2386(0x504))return{'content':{'image':{'url':_0x4a71de[_0x5f2386(0x7f6)]},'caption':_0x4a71de[_0x5f2386(0x6fb)]},'option':{'statusJidList':_0x4a71de[_0x5f2386(0x543)]}};if(_0x4a71de[_0x5f2386(0x23a)]===_0x5f2386(0x28e))return{'content':{'video':{'url':_0x4a71de[_0x5f2386(0x7f6)]},'caption':_0x4a71de[_0x5f2386(0x6fb)]},'option':{'statusJidList':_0x4a71de['statusJidList']}};if(_0x4a71de['type']===_0x5f2386(0x3b1)){this['logger'][_0x5f2386(0x800)](_0x5f2386(0x38b)),this[_0x5f2386(0x756)]['verbose'](_0x5f2386(0x23e));let _0x3a5497=await this['convertaudio'](_0x4a71de['content']);if(typeof _0x3a5497=='string'){this['logger'][_0x5f2386(0x800)](_0x5f2386(0x7fd));let _0x169f8b=L[_0x5f2386(0x7d3)](_0x3a5497)[_0x5f2386(0x2b4)]('base64'),_0x6b1286={'content':{'audio':Buffer['from'](_0x169f8b,'base64'),'ptt':!0x0,'mimetype':_0x5f2386(0x2c1)},'option':{'statusJidList':_0x4a71de[_0x5f2386(0x543)]}};return L[_0x5f2386(0x822)](_0x3a5497),_0x6b1286;}else throw new O(_0x3a5497);}throw new m(_0x5f2386(0x4d8));}async['statusMessage'](_0x2df89b){const _0x38ebe2=a0_0x4c7c55;return await this[_0x38ebe2(0x332)](_0x38ebe2(0x295),{'status':await this['formatStatusMessage'](_0x2df89b[_0x38ebe2(0x268)])});}async[a0_0x4c7c55(0x734)](_0x1b01b1){const _0x1dc43f=a0_0x4c7c55;try{let _0x426ddb=await(0x0,y[_0x1dc43f(0x81f)])({[_0x1b01b1[_0x1dc43f(0x7f2)]]:(0x0,k[_0x1dc43f(0x38a)])(_0x1b01b1[_0x1dc43f(0x411)])?{'url':_0x1b01b1[_0x1dc43f(0x411)]}:Buffer[_0x1dc43f(0x527)](_0x1b01b1[_0x1dc43f(0x411)],'base64')},{'upload':this[_0x1dc43f(0x227)][_0x1dc43f(0x4eb)]}),_0x1cf218=_0x1b01b1[_0x1dc43f(0x7f2)]+_0x1dc43f(0x215);if(_0x1b01b1['mediatype']==='document'&&!_0x1b01b1[_0x1dc43f(0x1bd)]){let _0x45e4ef=new RegExp(/.*\/(.+?)\./)[_0x1dc43f(0x78b)](_0x1b01b1[_0x1dc43f(0x411)]);_0x1b01b1['fileName']=_0x45e4ef?_0x45e4ef[0x1]:null;}let _0xfc5af3=(0x0,k[_0x1dc43f(0x38a)])(_0x1b01b1['media'])?_0x1b01b1['media'][_0x1dc43f(0x81e)]('?')[0x0]:_0x1b01b1['media'];this[_0x1dc43f(0x756)][_0x1dc43f(0x800)]('URL\x20limpa:\x20'+_0xfc5af3);let _0x6138b;(0x0,k[_0x1dc43f(0x38a)])(_0x1b01b1[_0x1dc43f(0x411)])?_0x6138b=(0x0,It[_0x1dc43f(0x551)])(_0xfc5af3):_0x1b01b1['fileName']&&_0x1b01b1[_0x1dc43f(0x1bd)]['includes']('.')?_0x6138b=(0x0,It[_0x1dc43f(0x551)])(_0x1b01b1[_0x1dc43f(0x1bd)]):_0x6138b=(0x0,It[_0x1dc43f(0x551)])(_0x1b01b1[_0x1dc43f(0x411)]);let _0x3fa5d8=mo,_0x493ea1=He;return _0x493ea1&&this[_0x1dc43f(0x515)][_0x1dc43f(0x61d)]()[_0x1dc43f(0x606)](_0x493ea1[_0x1dc43f(0x61d)]())&&(_0x1b01b1[_0x1dc43f(0x6fb)]+='\x0a\x0a'+_0x3fa5d8),_0x426ddb[_0x1cf218][_0x1dc43f(0x6fb)]=_0x1b01b1?.[_0x1dc43f(0x6fb)],_0x426ddb[_0x1cf218][_0x1dc43f(0x710)]=_0x6138b,_0x426ddb[_0x1cf218][_0x1dc43f(0x1bd)]=_0x1b01b1[_0x1dc43f(0x1bd)],_0x1b01b1[_0x1dc43f(0x7f2)]===_0x1dc43f(0x28e)&&(_0x426ddb[_0x1cf218]['jpegThumbnail']=Uint8Array[_0x1dc43f(0x527)]((0x0,ve[_0x1dc43f(0x7d3)])((0x0,F[_0x1dc43f(0x1c0)])(process[_0x1dc43f(0x380)](),_0x1dc43f(0x760)))),_0x426ddb[_0x1cf218][_0x1dc43f(0x5c4)]=!0x1),(0x0,y[_0x1dc43f(0x5d4)])('',{[_0x1cf218]:{..._0x426ddb[_0x1cf218]}},{'userJid':this[_0x1dc43f(0x237)]['wuid']});}catch(_0xa1669e){throw this[_0x1dc43f(0x756)][_0x1dc43f(0x546)](this[_0x1dc43f(0x515)]+'\x20('+this[_0x1dc43f(0x237)]['wuid']+'):\x20'+(_0xa1669e instanceof Error?_0xa1669e['message']:JSON['stringify'](_0xa1669e,null,0x2))),new O(_0xa1669e?.[_0x1dc43f(0x2b4)]()||_0xa1669e);}}async[a0_0x4c7c55(0x6cc)](_0x5d919e){const _0x17ed33=a0_0x4c7c55;let _0x289d7d=await this[_0x17ed33(0x734)](_0x5d919e[_0x17ed33(0x6cc)]);return await this['sendMessageWithTyping'](_0x5d919e[_0x17ed33(0x394)],{..._0x289d7d[_0x17ed33(0x372)]},_0x5d919e?.[_0x17ed33(0x2ba)]);}async['convertToWebP'](_0x46a032,_0x7067bd){const _0x501b16=a0_0x4c7c55;try{this['logger']['verbose'](_0x501b16(0x856));let _0x31f940,_0x2dda6e=_0x7067bd+'-'+new Date()[_0x501b16(0x4b7)]();this[_0x501b16(0x756)]['verbose'](_0x501b16(0x70d)+_0x2dda6e);let _0x11f19f=''+(0x0,F[_0x501b16(0x1c0)])(this[_0x501b16(0x1db)],_0x2dda6e+_0x501b16(0x319));if(this[_0x501b16(0x756)][_0x501b16(0x800)](_0x501b16(0x695)+_0x11f19f),(0x0,k[_0x501b16(0x23f)])(_0x46a032)){this['logger'][_0x501b16(0x800)]('Image\x20is\x20base64');let _0x2ccc5f=_0x46a032[_0x501b16(0x294)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1c472f=Buffer['from'](_0x2ccc5f,_0x501b16(0x3eb));_0x31f940=''+(0x0,F[_0x501b16(0x1c0)])(this[_0x501b16(0x1db)],_0x501b16(0x261)+_0x2dda6e+'.png'),this['logger'][_0x501b16(0x800)](_0x501b16(0x41f)+_0x31f940),await(0x0,xt[_0x501b16(0x697)])(_0x1c472f)['toFile'](_0x31f940),this[_0x501b16(0x756)][_0x501b16(0x800)](_0x501b16(0x34a));}else{this['logger'][_0x501b16(0x800)](_0x501b16(0x44b));let _0x344a54=new Date()[_0x501b16(0x4b7)](),_0x477f71=_0x46a032+_0x501b16(0x6d8)+_0x344a54;this[_0x501b16(0x756)][_0x501b16(0x800)](_0x501b16(0x743)+_0x477f71);let _0x489e99=await se['default'][_0x501b16(0x448)](_0x477f71,{'responseType':_0x501b16(0x806)});this[_0x501b16(0x756)][_0x501b16(0x800)](_0x501b16(0x3b2));let _0x39b7c5=Buffer['from'](_0x489e99[_0x501b16(0x402)],_0x501b16(0x68f));_0x31f940=''+(0x0,F[_0x501b16(0x1c0)])(this[_0x501b16(0x1db)],_0x501b16(0x261)+_0x2dda6e+_0x501b16(0x808)),this['logger'][_0x501b16(0x800)](_0x501b16(0x41f)+_0x31f940),await(0x0,xt[_0x501b16(0x697)])(_0x39b7c5)[_0x501b16(0x605)](_0x31f940),this[_0x501b16(0x756)]['verbose'](_0x501b16(0x34a));}return await(0x0,xt[_0x501b16(0x697)])(_0x31f940)[_0x501b16(0x6fc)]()[_0x501b16(0x605)](_0x11f19f),this[_0x501b16(0x756)][_0x501b16(0x800)]('Image\x20converted\x20to\x20WebP'),L['unlinkSync'](_0x31f940),this[_0x501b16(0x756)][_0x501b16(0x800)]('Temp\x20image\x20deleted'),_0x11f19f;}catch(_0x35e6d3){console[_0x501b16(0x546)](_0x501b16(0x4d2),_0x35e6d3 instanceof Error?_0x35e6d3[_0x501b16(0x372)]:JSON[_0x501b16(0x6c4)](_0x35e6d3,null,0x2));}}async[a0_0x4c7c55(0x1c7)](_0x1e5579){const _0x2f3d35=a0_0x4c7c55;let _0x44cda4=await this['convertToWebP'](_0x1e5579[_0x2f3d35(0x4fb)][_0x2f3d35(0x504)],_0x1e5579[_0x2f3d35(0x394)]),_0x4fa1fa=await this[_0x2f3d35(0x332)](_0x1e5579[_0x2f3d35(0x394)],{'sticker':{'url':_0x44cda4}},_0x1e5579?.[_0x2f3d35(0x2ba)]);return L[_0x2f3d35(0x822)](_0x44cda4),this[_0x2f3d35(0x756)][_0x2f3d35(0x800)](_0x2f3d35(0x27b)),_0x4fa1fa;}async[a0_0x4c7c55(0x779)](_0x5a9444){const _0x3e52d9=a0_0x4c7c55;if(this[_0x3e52d9(0x756)][_0x3e52d9(0x800)]('Sending\x20audio\x20whatsapp'),!_0x5a9444[_0x3e52d9(0x2ba)]?.[_0x3e52d9(0x667)]&&_0x5a9444[_0x3e52d9(0x2ba)]?.[_0x3e52d9(0x667)]!==!0x1&&(_0x5a9444['options'][_0x3e52d9(0x667)]=!0x0),_0x5a9444['options']?.['encoding']){let _0x53da4d=await this['convertaudio'](_0x5a9444[_0x3e52d9(0x254)]['audio']);if(typeof _0x53da4d==_0x3e52d9(0x6ed)){let _0x20b83b=L[_0x3e52d9(0x7d3)](_0x53da4d)['toString'](_0x3e52d9(0x3eb)),_0x1ca13b=this[_0x3e52d9(0x332)](_0x5a9444[_0x3e52d9(0x394)],{'audio':Buffer[_0x3e52d9(0x527)](_0x20b83b,_0x3e52d9(0x3eb)),'ptt':!0x0,'mimetype':_0x3e52d9(0x2c1)},{'presence':_0x3e52d9(0x370),'delay':_0x5a9444?.[_0x3e52d9(0x2ba)]?.[_0x3e52d9(0x6cf)]});return L[_0x3e52d9(0x822)](_0x53da4d),this['logger']['verbose'](_0x3e52d9(0x802)),_0x1ca13b;}else throw new O(_0x53da4d);}return await this[_0x3e52d9(0x332)](_0x5a9444[_0x3e52d9(0x394)],{'audio':(0x0,k[_0x3e52d9(0x38a)])(_0x5a9444['audioMessage'][_0x3e52d9(0x3b1)])?{'url':_0x5a9444[_0x3e52d9(0x254)]['audio']}:Buffer[_0x3e52d9(0x527)](_0x5a9444[_0x3e52d9(0x254)]['audio'],_0x3e52d9(0x3eb)),'ptt':!0x0,'mimetype':_0x3e52d9(0x403)},{'presence':_0x3e52d9(0x370),'delay':_0x5a9444?.['options']?.[_0x3e52d9(0x6cf)]});}async[a0_0x4c7c55(0x6b4)](_0x68cc95){const _0x4a592b=a0_0x4c7c55;this['logger'][_0x4a592b(0x800)](_0x4a592b(0x23e));let _0x10dbcd,_0x49ba6c,_0x258393=(0x0,Me['v4'])();if(this['logger'][_0x4a592b(0x800)]('Hash\x20to\x20audio\x20name:\x20'+_0x258393),(0x0,k['isURL'])(_0x68cc95)){this[_0x4a592b(0x756)][_0x4a592b(0x800)](_0x4a592b(0x21d)),_0x49ba6c=''+(0x0,F[_0x4a592b(0x1c0)])(this[_0x4a592b(0x1db)],_0x258393+_0x4a592b(0x30a)),_0x10dbcd=''+(0x0,F[_0x4a592b(0x1c0)])(this[_0x4a592b(0x1db)],_0x4a592b(0x261)+_0x258393+_0x4a592b(0x34c)),this[_0x4a592b(0x756)][_0x4a592b(0x800)](_0x4a592b(0x5b4)+_0x49ba6c),this[_0x4a592b(0x756)][_0x4a592b(0x800)](_0x4a592b(0x6ce)+_0x10dbcd);let _0x535840=new Date()['getTime'](),_0x1e7d11=_0x68cc95+_0x4a592b(0x6d8)+_0x535840;this['logger'][_0x4a592b(0x800)]('Including\x20timestamp\x20in\x20url:\x20'+_0x1e7d11);let _0x3d97e9=await se[_0x4a592b(0x697)]['get'](_0x1e7d11,{'responseType':'arraybuffer'});this['logger'][_0x4a592b(0x800)]('Getting\x20audio\x20from\x20url'),L[_0x4a592b(0x73e)](_0x10dbcd,_0x3d97e9[_0x4a592b(0x402)]);}else{this[_0x4a592b(0x756)][_0x4a592b(0x800)](_0x4a592b(0x60a)),_0x49ba6c=''+(0x0,F[_0x4a592b(0x1c0)])(this['storePath'],_0x258393+_0x4a592b(0x30a)),_0x10dbcd=''+(0x0,F[_0x4a592b(0x1c0)])(this[_0x4a592b(0x1db)],_0x4a592b(0x261)+_0x258393+_0x4a592b(0x34c)),this[_0x4a592b(0x756)][_0x4a592b(0x800)](_0x4a592b(0x5b4)+_0x49ba6c),this[_0x4a592b(0x756)]['verbose']('Temp\x20audio\x20path:\x20'+_0x10dbcd);let _0x5b1859=Buffer['from'](_0x68cc95,'base64');L[_0x4a592b(0x73e)](_0x10dbcd,_0x5b1859),this[_0x4a592b(0x756)]['verbose'](_0x4a592b(0x1d1));}return this[_0x4a592b(0x756)][_0x4a592b(0x800)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x331596,_0xaf431d)=>{const _0x358306=_0x4a592b;(0x0,_t[_0x358306(0x78b)])(wo[_0x358306(0x697)][_0x358306(0x1fa)]+_0x358306(0x457)+_0x10dbcd+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x49ba6c+_0x358306(0x364),_0x2c509f=>{const _0x4a9738=_0x358306;L[_0x4a9738(0x822)](_0x10dbcd),this[_0x4a9738(0x756)][_0x4a9738(0x800)](_0x4a9738(0x56d)),_0x2c509f&&_0xaf431d(_0x2c509f),this[_0x4a9738(0x756)][_0x4a9738(0x800)](_0x4a9738(0x470)),_0x331596(_0x49ba6c);});});}async[a0_0x4c7c55(0x5a5)](_0x460757){const _0x41ba05=a0_0x4c7c55;let _0x524371={},_0x346a07=_0x41ba05(0x2c7);if(_0x460757[_0x41ba05(0x5a5)]?.['mediaMessage']){_0x346a07=_0x460757[_0x41ba05(0x5a5)]['mediaMessage']?.['mediatype'][_0x41ba05(0x71b)]()??_0x41ba05(0x2c7),_0x524371[_0x41ba05(0x5d8)]=_0x346a07[_0x41ba05(0x61d)]()+'Message';let _0x14bff2=await this[_0x41ba05(0x734)](_0x460757[_0x41ba05(0x5a5)][_0x41ba05(0x6cc)]);_0x524371[_0x41ba05(0x372)]=_0x14bff2[_0x41ba05(0x372)][_0x524371[_0x41ba05(0x5d8)]],_0x524371[_0x41ba05(0x396)]='*'+_0x460757[_0x41ba05(0x5a5)][_0x41ba05(0x595)]+_0x41ba05(0x47c)+_0x460757['buttonMessage'][_0x41ba05(0x680)];}let _0x2b1a97={'text':_0x460757[_0x41ba05(0x5a5)]['buttons'][_0x41ba05(0x4df)](_0xcc493d=>_0xcc493d[_0x41ba05(0x5ba)]),'ids':_0x460757[_0x41ba05(0x5a5)][_0x41ba05(0x1d3)][_0x41ba05(0x4df)](_0x5a0ee4=>_0x5a0ee4[_0x41ba05(0x540)])};if(!(0x0,k['arrayUnique'])(_0x2b1a97['text'])||!(0x0,k[_0x41ba05(0x67d)])(_0x2b1a97[_0x41ba05(0x282)]))throw new m(_0x41ba05(0x510),_0x41ba05(0x73b));return await this[_0x41ba05(0x332)](_0x460757[_0x41ba05(0x394)],{'buttonsMessage':{'text':_0x524371?.['mediaKey']?void 0x0:_0x460757['buttonMessage']['title'],'contentText':_0x524371?.[_0x41ba05(0x396)]??_0x460757[_0x41ba05(0x5a5)]['description'],'footerText':_0x460757['buttonMessage']?.[_0x41ba05(0x2fa)],'buttons':_0x460757['buttonMessage'][_0x41ba05(0x1d3)]['map'](_0x119e2f=>({'buttonText':{'displayText':_0x119e2f[_0x41ba05(0x5ba)]},'buttonId':_0x119e2f[_0x41ba05(0x540)],'type':0x1})),'headerType':y['proto'][_0x41ba05(0x215)]['ButtonsMessage'][_0x41ba05(0x646)][_0x346a07],[_0x524371?.[_0x41ba05(0x5d8)]]:_0x524371?.['message']}},_0x460757?.['options']);}async[a0_0x4c7c55(0x3c3)](_0xa27e40){const _0x2ff888=a0_0x4c7c55;return await this['sendMessageWithTyping'](_0xa27e40[_0x2ff888(0x394)],{'locationMessage':{'degreesLatitude':_0xa27e40[_0x2ff888(0x3c3)]['latitude'],'degreesLongitude':_0xa27e40[_0x2ff888(0x3c3)][_0x2ff888(0x651)],'name':_0xa27e40[_0x2ff888(0x3c3)]?.[_0x2ff888(0x6ca)],'address':_0xa27e40['locationMessage']?.[_0x2ff888(0x5fa)]}},_0xa27e40?.['options']);}async[a0_0x4c7c55(0x814)](_0xe68681){const _0x34b65a=a0_0x4c7c55;let _0x38d221={},_0x4cc266=_0x453d90=>{const _0x19deac=a0_0x31df;let _0x123ba4=_0x19deac(0x274)+_0x453d90[_0x19deac(0x542)]+_0x19deac(0x22a)+_0x453d90[_0x19deac(0x542)]+'\x0a';_0x453d90[_0x19deac(0x64a)]&&(_0x123ba4+=_0x19deac(0x4bc)+_0x453d90[_0x19deac(0x64a)]+';\x0a'),_0x453d90['email']&&(_0x123ba4+=_0x19deac(0x476)+_0x453d90[_0x19deac(0x701)]+'\x0a'),_0x453d90[_0x19deac(0x299)]&&(_0x123ba4+='URL:'+_0x453d90['url']+'\x0a');let _0x3969b7='';return _0x453d90['phoneNumber']&&_0x453d90['phoneNumber'][_0x19deac(0x81e)]('|')['forEach']((_0x3cdd45,_0x22a945)=>{const _0x49fb13=_0x19deac;let _0x2293ed=this['createJid'](_0x3cdd45)[_0x49fb13(0x294)]('@s.whatsapp.net','');_0x3969b7+=_0x49fb13(0x27f)+(_0x22a945+0x1)+'.TEL;waid='+_0x2293ed+':'+_0x3cdd45+'\x0aitem'+(_0x22a945+0x1)+_0x49fb13(0x657);}),_0x123ba4+=_0x3969b7+_0x19deac(0x65f),_0x123ba4;};return _0xe68681['contactMessage']['length']===0x1?_0x38d221['contactMessage']={'displayName':_0xe68681[_0x34b65a(0x814)][0x0]['fullName'],'vcard':_0x4cc266(_0xe68681[_0x34b65a(0x814)][0x0])}:_0x38d221[_0x34b65a(0x315)]={'displayName':_0xe68681[_0x34b65a(0x814)]['length']+'\x20contacts','contacts':_0xe68681[_0x34b65a(0x814)][_0x34b65a(0x4df)](_0x4908b3=>({'displayName':_0x4908b3[_0x34b65a(0x542)],'vcard':_0x4cc266(_0x4908b3)}))},await this[_0x34b65a(0x332)](_0xe68681[_0x34b65a(0x394)],{..._0x38d221},_0xe68681?.[_0x34b65a(0x2ba)]);}async[a0_0x4c7c55(0x556)](_0x359752){const _0x34d40f=a0_0x4c7c55;return await this[_0x34d40f(0x332)](_0x359752[_0x34d40f(0x556)][_0x34d40f(0x399)]['remoteJid'],{'reactionMessage':{'key':_0x359752[_0x34d40f(0x556)][_0x34d40f(0x399)],'text':_0x359752[_0x34d40f(0x556)][_0x34d40f(0x1fc)]}});}async[a0_0x4c7c55(0x298)](_0x4aadff){const _0x7a1a8=a0_0x4c7c55;let _0x3c699a=[];for await(let _0x3fdb1a of _0x4aadff[_0x7a1a8(0x4a0)]){let _0x28ece7=this[_0x7a1a8(0x25b)](_0x3fdb1a),_0x59a014=!0x1;try{if((0x0,y[_0x7a1a8(0x64c)])(_0x28ece7)){let _0x4a2404=await this[_0x7a1a8(0x1c8)]({'groupJid':_0x28ece7},_0x7a1a8(0x3c4));_0x3c699a['push'](new me(_0x4a2404[_0x7a1a8(0x2eb)]['id'],!!_0x4a2404?.['metadata']['id'],_0x4a2404?.['metadata'][_0x7a1a8(0x37f)])),_0x59a014=!!_0x4a2404?.[_0x7a1a8(0x2eb)]['id'];}else{let _0x4c00f4=(await this[_0x7a1a8(0x227)][_0x7a1a8(0x503)](_0x28ece7))[0x0];_0x3c699a[_0x7a1a8(0x56b)](new me(_0x4c00f4[_0x7a1a8(0x50a)],_0x4c00f4[_0x7a1a8(0x641)])),_0x59a014=_0x4c00f4[_0x7a1a8(0x641)];}}catch{await this[_0x7a1a8(0x59b)](_0x28ece7,_0x59a014),_0x3c699a['push'](new me(_0x3fdb1a,!0x1));}}return _0x3c699a;}async[a0_0x4c7c55(0x59b)](_0x39ffe8,_0x26783d){const _0x146c56=a0_0x4c7c55;try{await this['repository'][_0x146c56(0x4a2)][_0x146c56(0x6bf)]({'where':{'_id':_0x39ffe8,'imported':!0x0}},this[_0x146c56(0x237)][_0x146c56(0x650)])&&(_0x26783d||(await this[_0x146c56(0x409)]['chat']['deleteChat'](_0x39ffe8,this['instance'][_0x146c56(0x650)]),console['log'](_0x146c56(0x50f)+_0x39ffe8+_0x146c56(0x2a7))));}catch(_0xcef758){console[_0x146c56(0x546)](_0x146c56(0x77d),_0xcef758);}}async[a0_0x4c7c55(0x496)](_0x3bd053){const _0x35da79=a0_0x4c7c55;try{let _0xfbf00e=_0x3bd053[_0x35da79(0x63f)][_0x35da79(0x720)](_0x2bf05e=>(0x0,y[_0x35da79(0x64c)])(_0x2bf05e[_0x35da79(0x7a1)])||(0x0,y['isJidUser'])(_0x2bf05e['remoteJid']))['map'](_0x47aa0e=>({'remoteJid':_0x47aa0e['remoteJid'],'fromMe':_0x47aa0e['fromMe'],'id':_0x47aa0e['id']}));await this[_0x35da79(0x227)][_0x35da79(0x63f)](_0xfbf00e);let _0x468def=_0xfbf00e[_0x35da79(0x4df)](_0x20493c=>this[_0x35da79(0x526)](_0x20493c,{'status':_0x35da79(0x82d),'owner':this[_0x35da79(0x237)][_0x35da79(0x650)]})),_0x13f7b5=_0xfbf00e[_0x35da79(0x4df)](_0x4131e4=>this[_0x35da79(0x409)][_0x35da79(0x4a2)][_0x35da79(0x53d)]({'where':{'_id':_0x4131e4[_0x35da79(0x7a1)]}},{'unreadcount':0x0},this[_0x35da79(0x237)][_0x35da79(0x650)])),[_0x44097c,_0x2feff6]=await Promise[_0x35da79(0x5d6)]([Promise['all'](_0x468def),Promise[_0x35da79(0x5d6)](_0x13f7b5)]);return _0x2feff6[_0x35da79(0x720)](_0x300176=>_0x300176!==null)[_0x35da79(0x559)](_0x471019=>{const _0x2f4d04=_0x35da79;J(this[_0x2f4d04(0x515)],_0x2f4d04(0x4cc),{'chat':_0x471019});}),{'message':'Read\x20messages','read':'success'};}catch(_0x37b67f){throw console[_0x35da79(0x546)](_0x35da79(0x3db),_0x37b67f),new O(_0x35da79(0x49f),_0x37b67f[_0x35da79(0x2b4)]());}}async['getLastMessage'](_0x218b6d){const _0x303e12=a0_0x4c7c55;let _0x312bcb={'where':{'key':{'remoteJid':_0x218b6d}},'limit':0x1},_0x45e5db=await this[_0x303e12(0x578)](_0x312bcb);return _0x45e5db||(console[_0x303e12(0x546)](_0x303e12(0x27e),_0x218b6d),null);}async[a0_0x4c7c55(0x842)](_0x541fcb){const _0x1b587c=a0_0x4c7c55;this['logger'][_0x1b587c(0x800)](_0x1b587c(0x7c8));try{let _0x16338a=_0x541fcb[_0x1b587c(0x539)],_0x1adeed=_0x541fcb[_0x1b587c(0x4a2)];if(!_0x16338a&&_0x1adeed?_0x16338a=await this[_0x1b587c(0x3a8)](_0x1adeed):(_0x16338a=_0x541fcb['lastMessage'],_0x16338a[_0x1b587c(0x582)]=_0x16338a?.[_0x1b587c(0x582)]??Date['now'](),_0x1adeed=_0x16338a?.['key']?.['remoteJid']),!_0x16338a||Object[_0x1b587c(0x722)](_0x16338a)[_0x1b587c(0x676)]===0x0)throw new j(_0x1b587c(0x70f));this[_0x1b587c(0x756)][_0x1b587c(0x800)](_0x1b587c(0x1dc)+_0x1adeed);try{await this['client']['chatModify']({'archive':_0x541fcb[_0x1b587c(0x406)],'lastMessages':[_0x16338a]},this[_0x1b587c(0x25b)](_0x1adeed));}catch(_0x4d3b73){this[_0x1b587c(0x756)][_0x1b587c(0x546)](_0x1b587c(0x23b)+_0x1adeed+':\x20'+_0x4d3b73['toString']());}this[_0x1b587c(0x756)][_0x1b587c(0x800)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x1adeed);let _0x192521=await this['repository'][_0x1b587c(0x4a2)][_0x1b587c(0x53d)]({'where':{'_id':_0x16338a?.[_0x1b587c(0x399)]?.[_0x1b587c(0x7a1)]}},{'archived':_0x541fcb[_0x1b587c(0x406)]},this['instance'][_0x1b587c(0x650)]);return _0x192521?(this[_0x1b587c(0x756)]['verbose'](_0x1b587c(0x5eb)+JSON[_0x1b587c(0x6c4)](_0x192521)),J(this[_0x1b587c(0x515)],_0x1b587c(0x4cc),{'chat':_0x192521})):this['logger'][_0x1b587c(0x546)](_0x1b587c(0x4ed)+_0x1adeed),{'chatId':_0x1adeed,'archived':_0x541fcb[_0x1b587c(0x406)]};}catch(_0x1d83a5){throw this[_0x1b587c(0x756)][_0x1b587c(0x546)](_0x1b587c(0x5e7)+_0x1d83a5['toString']()),new O({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1d83a5['toString']()]});}}async[a0_0x4c7c55(0x698)](_0x3767b0){const _0x1a6b64=a0_0x4c7c55;try{let _0x4f80fe=await this[_0x1a6b64(0x227)][_0x1a6b64(0x385)](_0x3767b0['remoteJid'],{'delete':_0x3767b0});try{let _0x220fb8=await this[_0x1a6b64(0x526)](_0x3767b0,{'status':_0x1a6b64(0x2a2),'owner':this[_0x1a6b64(0x237)]['wuid']});this[_0x1a6b64(0x756)][_0x1a6b64(0x800)](this[_0x1a6b64(0x515)]+'\x20('+this[_0x1a6b64(0x237)][_0x1a6b64(0x650)]+_0x1a6b64(0x57e)+_0x220fb8);}catch(_0x5d12b9){console[_0x1a6b64(0x546)](_0x1a6b64(0x69d),_0x5d12b9);}return _0x4f80fe;}catch(_0xcf560b){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0xcf560b?.[_0x1a6b64(0x2b4)]());}}async[a0_0x4c7c55(0x5d2)](_0xfd84b9){const _0x46633e=a0_0x4c7c55;try{let _0x32dc89=_0xfd84b9?.['message']?_0xfd84b9:await this[_0x46633e(0x4f8)](_0xfd84b9[_0x46633e(0x399)],!0x0);for(let _0x15633d of pa)_0x32dc89[_0x46633e(0x372)][_0x15633d]&&(_0x32dc89['message']=_0x32dc89[_0x46633e(0x372)][_0x15633d][_0x46633e(0x372)]);let _0x5852c2,_0x446270;for(let _0x222615 of da)if(_0x5852c2=_0x32dc89[_0x46633e(0x372)][_0x222615],_0x5852c2){_0x446270=_0x222615;break;}if(!_0x5852c2)throw _0x46633e(0x26a);typeof _0x5852c2['mediaKey']==_0x46633e(0x4b4)&&(_0x32dc89[_0x46633e(0x372)]=JSON[_0x46633e(0x2b9)](JSON[_0x46633e(0x6c4)](_0x32dc89['message'])));let _0x5107e1=await(0x0,y[_0x46633e(0x3e2)])({'key':_0x32dc89?.[_0x46633e(0x399)],'message':_0x32dc89?.[_0x46633e(0x372)]},_0x46633e(0x2ef),{},{'logger':(0x0,Ot['default'])({'level':_0x46633e(0x738)}),'reuploadRequest':this[_0x46633e(0x227)][_0x46633e(0x276)]});if(!(_0x5107e1 instanceof Buffer))throw new Error(_0x46633e(0x45c));let _0x397e41=this[_0x46633e(0x2fb)][_0x46633e(0x448)](_0x46633e(0x1d2)),_0x1bd9b7,_0x444900;if(_0x5852c2[_0x46633e(0x1bd)])_0x1bd9b7=_0x5852c2[_0x46633e(0x1bd)];else{let _0x5aee7b=_0x5852c2['mimetype']?.['match'](/\/(\w+)/),_0xb648a1=_0x5aee7b?_0x5aee7b[0x1]:null;if(!_0xb648a1)throw new Error(_0x46633e(0x220));_0x1bd9b7=(0x0,Me['v4'])()+'.'+_0xb648a1;}_0x446270===_0x46633e(0x254)&&_0x5852c2[_0x46633e(0x710)]==='audio/ogg'?(_0x1bd9b7=(0x0,Me['v4'])()+_0x46633e(0x2f2),_0x444900='/media/'+await this[_0x46633e(0x6b4)](_0x5107e1['toString']('base64'))):(await this[_0x46633e(0x6db)](_0x5107e1,_0x1bd9b7),_0x444900='/media/'+_0x1bd9b7);let _0x3ef5bc=this[_0x46633e(0x2fb)][_0x46633e(0x448)](_0x46633e(0x65a))[_0x46633e(0x2b5)];if(!_0x3ef5bc){let _0x5d80c2=this[_0x46633e(0x2fb)][_0x46633e(0x448)](_0x46633e(0x54c));_0x3ef5bc='https://'+(_0x5d80c2&&_0x5d80c2[_0x46633e(0x6b0)][_0x46633e(0x81e)]('/')[0x4]);}_0x444900=''+_0x3ef5bc+_0x444900;let _0x44299e=0xc*0x3c*0x3c*0x3e8,_0x4ed03a={'where':{'_id':_0x32dc89[_0x46633e(0x399)]['id']}},_0x5d9339={'message_normalized.fileUrl':_0x444900,'message_normalized.expires_fileUrl':Date[_0x46633e(0x593)]()+_0x44299e};try{let _0x2a7439=await this[_0x46633e(0x409)]['message']['update'](_0x4ed03a,_0x5d9339,this[_0x46633e(0x237)]['wuid']);_0x2a7439&&J(this[_0x46633e(0x515)],_0x46633e(0x7bd),{'message':_0x2a7439});}catch(_0x359ab2){this[_0x46633e(0x756)][_0x46633e(0x546)](this[_0x46633e(0x515)]+'\x20('+this[_0x46633e(0x237)]['wuid']+_0x46633e(0x535)+(_0x359ab2 instanceof Error?_0x359ab2[_0x46633e(0x372)]:JSON[_0x46633e(0x6c4)](_0x359ab2,null,0x2)));}return{'mediaType':_0x446270,'fileName':_0x5852c2[_0x46633e(0x1bd)],'caption':_0x5852c2[_0x46633e(0x6fb)],'size':{'fileLength':_0x5852c2[_0x46633e(0x774)],'height':_0x5852c2[_0x46633e(0x1ef)],'width':_0x5852c2[_0x46633e(0x477)]},'mimetype':_0x5852c2['mimetype'],'base64':_0x5107e1[_0x46633e(0x2b4)](_0x46633e(0x3eb)),'fileUrl':_0x444900,'expires_fileUrl':Date[_0x46633e(0x593)]()+_0x44299e};}catch(_0x48042e){throw this['logger'][_0x46633e(0x546)](this['instanceName']+'\x20('+this[_0x46633e(0x237)]['wuid']+_0x46633e(0x535)+(_0x48042e instanceof Error?_0x48042e[_0x46633e(0x372)]:JSON[_0x46633e(0x6c4)](_0x48042e,null,0x2))),new m(_0x48042e[_0x46633e(0x2b4)]());}}async['saveMediaToFile'](_0x2d5bd9,_0xbb36ab){const _0x1db07c=a0_0x4c7c55;let _0x4eb740=F['default'][_0x1db07c(0x1c0)](__dirname,_0x1db07c(0x45d));L[_0x1db07c(0x37e)](_0x4eb740)||L[_0x1db07c(0x63c)](_0x4eb740,{'recursive':!0x0});let _0x4cef58=F['default'][_0x1db07c(0x1c0)](_0x4eb740,_0xbb36ab);return new Promise((_0x8f14d1,_0x4cd86c)=>{const _0x3aa1cb=_0x1db07c;L[_0x3aa1cb(0x259)](_0x4cef58,_0x2d5bd9,_0x5c7b37=>{const _0x5468da=_0x3aa1cb;_0x5c7b37?(this[_0x5468da(0x756)][_0x5468da(0x546)](_0x5468da(0x50c)+(_0x5c7b37 instanceof Error?_0x5c7b37[_0x5468da(0x372)]:JSON[_0x5468da(0x6c4)](_0x5c7b37,null,0x2))),_0x4cd86c(_0x5c7b37)):(this[_0x5468da(0x756)][_0x5468da(0x219)](_0x5468da(0x6b6)+_0x4cef58),_0x8f14d1(_0x4cef58));});});}async[a0_0x4c7c55(0x72e)](_0x4be62e){const _0x363d4a=a0_0x4c7c55;return await this[_0x363d4a(0x409)][_0x363d4a(0x51f)][_0x363d4a(0x557)](_0x4be62e,this['instance'][_0x363d4a(0x650)]);}async['fetchLabels'](){const _0xb270aa=a0_0x4c7c55;return await this[_0xb270aa(0x409)][_0xb270aa(0x671)]['find']({'where':{}},this[_0xb270aa(0x237)][_0xb270aa(0x650)]);}async[a0_0x4c7c55(0x578)](_0x3a6e18){const _0x125b12=a0_0x4c7c55;return await this['repository']['message'][_0x125b12(0x557)](_0x3a6e18,this[_0x125b12(0x237)][_0x125b12(0x650)]);}async[a0_0x4c7c55(0x7f4)](){const _0x463870=a0_0x4c7c55;return this[_0x463870(0x409)][_0x463870(0x4a2)][_0x463870(0x3a0)](this[_0x463870(0x237)][_0x463870(0x650)]),this['repository']['chat']['updateMissingEtiquetas'](this[_0x463870(0x237)][_0x463870(0x650)]),this[_0x463870(0x409)][_0x463870(0x4a2)]['updateMissingTags'](this[_0x463870(0x237)][_0x463870(0x650)]),this['repository'][_0x463870(0x4a2)][_0x463870(0x516)](this[_0x463870(0x237)][_0x463870(0x650)]),await this[_0x463870(0x409)][_0x463870(0x4a2)][_0x463870(0x557)]({'where':{}},this['instance'][_0x463870(0x650)]);}async[a0_0x4c7c55(0x7e0)](_0x531e22){const _0x5abcc5=a0_0x4c7c55;try{if(!Array[_0x5abcc5(0x5be)](_0x531e22)||_0x531e22[_0x5abcc5(0x676)]===0x0)throw new Error(_0x5abcc5(0x5bf));let _0x32af24=[],_0x2ddf96=[];for(let _0x17f51a of _0x531e22){if(_0x17f51a[_0x5abcc5(0x40d)])_0x17f51a[_0x5abcc5(0x40d)]=this['createJid'](_0x17f51a['_id']);else continue;await this[_0x5abcc5(0x409)][_0x5abcc5(0x4a2)][_0x5abcc5(0x6bf)]({'where':{'_id':_0x17f51a[_0x5abcc5(0x40d)]}},this[_0x5abcc5(0x237)][_0x5abcc5(0x650)])?_0x2ddf96[_0x5abcc5(0x56b)]({'_id':_0x17f51a[_0x5abcc5(0x40d)],'leadInfo':_0x17f51a[_0x5abcc5(0x7d2)],'owner':this[_0x5abcc5(0x237)][_0x5abcc5(0x650)]}):_0x32af24[_0x5abcc5(0x56b)]({'_id':_0x17f51a[_0x5abcc5(0x40d)],'owner':this[_0x5abcc5(0x237)]['wuid'],'leadInfo':_0x17f51a[_0x5abcc5(0x7d2)],'imported':!0x0});}return _0x2ddf96[_0x5abcc5(0x676)]>0x0&&await this['repository']['chat'][_0x5abcc5(0x579)](_0x2ddf96[_0x5abcc5(0x4df)](_0x70384b=>({'query':{'where':{'_id':_0x70384b[_0x5abcc5(0x40d)],'owner':this[_0x5abcc5(0x237)][_0x5abcc5(0x650)]}},'update':_0x70384b}))),_0x32af24[_0x5abcc5(0x676)]>0x0&&await this[_0x5abcc5(0x409)][_0x5abcc5(0x4a2)]['insertMany'](_0x32af24,this['instance'][_0x5abcc5(0x650)]),{'updated':_0x2ddf96[_0x5abcc5(0x676)],'inserted':_0x32af24[_0x5abcc5(0x676)]};}catch(_0xf0c33e){throw console['error'](_0x5abcc5(0x65b),_0xf0c33e),_0xf0c33e;}}async[a0_0x4c7c55(0x4ac)](_0x129e58){const _0x238d1d=a0_0x4c7c55;try{if(!Array[_0x238d1d(0x5be)](_0x129e58)||_0x129e58['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x3755b0=0x64,_0x54ff65=0x0;for(let _0x158e18=0x0;_0x158e18<_0x129e58[_0x238d1d(0x676)];_0x158e18+=_0x3755b0){let _0x3c1a85=_0x129e58[_0x238d1d(0x33c)](_0x158e18,_0x158e18+_0x3755b0),{updated:_0x422296}=await this['importChatsBatch'](_0x3c1a85);_0x54ff65+=_0x422296;}return{'updated':_0x54ff65};}catch(_0x71618e){throw console[_0x238d1d(0x546)](_0x238d1d(0x65b),_0x71618e),_0x71618e;}}async[a0_0x4c7c55(0x625)](_0x261665){const _0x67c988=a0_0x4c7c55;try{let _0x521995=await this['repository'][_0x67c988(0x671)][_0x67c988(0x557)]({'where':{}},this[_0x67c988(0x237)][_0x67c988(0x650)]),_0x143216=new Set(_0x521995[_0x67c988(0x4df)](_0x13df04=>_0x13df04[_0x67c988(0x40d)])),_0x2b7ecb=[],_0x1a3f56=[];for(let _0x15494f of _0x261665){if(!_0x15494f[_0x67c988(0x40d)])continue;_0x15494f[_0x67c988(0x40d)]=this[_0x67c988(0x25b)](_0x15494f[_0x67c988(0x40d)]);let _0x71a977=await this[_0x67c988(0x409)][_0x67c988(0x4a2)][_0x67c988(0x6bf)]({'where':{'_id':_0x15494f[_0x67c988(0x40d)]}},this['instance'][_0x67c988(0x650)]),_0x21c4e6={};if(Object[_0x67c988(0x48c)](_0x15494f[_0x67c988(0x7d2)])[_0x67c988(0x559)](([_0x447be4,_0x1d6acb])=>{const _0x5c1b14=_0x67c988;_0x21c4e6[_0x5c1b14(0x38e)+_0x447be4]=_0x1d6acb;}),_0x71a977&&!_0x71a977['imported']){let _0x46ec04=(_0x15494f[_0x67c988(0x7d2)][_0x67c988(0x67e)]||[])[_0x67c988(0x720)](_0x43318c=>_0x143216[_0x67c988(0x42b)](_0x43318c)),_0x10bac5=new Set(_0x71a977[_0x67c988(0x7d2)][_0x67c988(0x67e)]||[]),_0x3422b5=_0x46ec04[_0x67c988(0x720)](_0x1c3491=>!_0x10bac5[_0x67c988(0x42b)](_0x1c3491)),_0xc365a8=[..._0x10bac5][_0x67c988(0x720)](_0x36e12e=>!_0x46ec04['includes'](_0x36e12e));_0x1a3f56[_0x67c988(0x56b)](..._0x3422b5[_0x67c988(0x4df)](_0x52cbb0=>this[_0x67c988(0x6ba)](_0x52cbb0,_0x15494f['_id']))),_0x1a3f56[_0x67c988(0x56b)](..._0xc365a8[_0x67c988(0x4df)](_0x9fb7ad=>this[_0x67c988(0x599)](_0x9fb7ad,_0x15494f['_id']))),_0x15494f[_0x67c988(0x7d2)][_0x67c988(0x67e)]=_0x46ec04,_0x2b7ecb[_0x67c988(0x56b)]({'query':{'where':{'_id':_0x15494f[_0x67c988(0x40d)],'owner':this['instance'][_0x67c988(0x650)]}},'update':_0x21c4e6});}else _0x21c4e6[_0x67c988(0x395)]=!0x0,_0x2b7ecb[_0x67c988(0x56b)]({'query':{'where':{'_id':_0x15494f['_id'],'owner':this[_0x67c988(0x237)][_0x67c988(0x650)]}},'update':_0x21c4e6});}let _0x4709b8=await this[_0x67c988(0x409)]['chat'][_0x67c988(0x579)](_0x2b7ecb);return await Promise[_0x67c988(0x5d6)](_0x1a3f56),{'updated':_0x4709b8};}catch(_0x2bf8a3){throw console[_0x67c988(0x546)](_0x67c988(0x65b),_0x2bf8a3),_0x2bf8a3;}}async[a0_0x4c7c55(0x3d0)](){const _0x1f1473=a0_0x4c7c55;return await this[_0x1f1473(0x227)][_0x1f1473(0x3d0)]();}async[a0_0x4c7c55(0x848)](_0x5825de){const _0x35d4c5=a0_0x4c7c55;try{return await this[_0x35d4c5(0x227)][_0x35d4c5(0x4b3)](_0x5825de[_0x35d4c5(0x3cb)]['readreceipts']),await this['client'][_0x35d4c5(0x4af)](_0x5825de['privacySettings']['profile']),await this[_0x35d4c5(0x227)]['updateStatusPrivacy'](_0x5825de['privacySettings'][_0x35d4c5(0x2bf)]),await this[_0x35d4c5(0x227)]['updateOnlinePrivacy'](_0x5825de['privacySettings'][_0x35d4c5(0x7db)]),await this['client'][_0x35d4c5(0x42a)](_0x5825de['privacySettings']['last']),await this['client'][_0x35d4c5(0x2f5)](_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x308)]),this[_0x35d4c5(0x227)]?.['ws']?.[_0x35d4c5(0x3da)](),{'update':_0x35d4c5(0x389),'data':{'readreceipts':_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x7c2)],'profile':_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x246)],'status':_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x2bf)],'online':_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x7db)],'last':_0x5825de[_0x35d4c5(0x3cb)][_0x35d4c5(0x566)],'groupadd':_0x5825de['privacySettings'][_0x35d4c5(0x308)]}};}catch(_0x254810){throw new O(_0x35d4c5(0x6e8),_0x254810['toString']());}}async[a0_0x4c7c55(0x393)](_0x1b8d55){const _0x295635=a0_0x4c7c55;let _0x75775b=_0x1b8d55?this[_0x295635(0x25b)](_0x1b8d55):this[_0x295635(0x227)]?.[_0x295635(0x306)]?.['id'];this[_0x295635(0x756)][_0x295635(0x800)](_0x295635(0x66f)+_0x75775b);try{if(this[_0x295635(0x756)][_0x295635(0x800)](_0x295635(0x6b5)),_0x1b8d55){let _0x5bd54a=(await this[_0x295635(0x298)]({'numbers':[_0x75775b]}))?.[_0x295635(0x837)](),_0x118000=await this[_0x295635(0x741)](_0x5bd54a?.[_0x295635(0x50a)]),_0x1c7c69=await this[_0x295635(0x4e2)](_0x5bd54a?.[_0x295635(0x50a)]),_0xfec88d=await this[_0x295635(0x3f6)](_0x5bd54a?.['jid']);return{'wuid':_0x5bd54a?.['jid']||_0x75775b,'name':_0x5bd54a?.[_0x295635(0x6ca)],'numberExists':_0x5bd54a?.[_0x295635(0x641)],'picture':_0x118000?.[_0x295635(0x620)],'status':_0x1c7c69?.[_0x295635(0x2bf)],'isBusiness':_0xfec88d[_0x295635(0x205)],'email':_0xfec88d?.[_0x295635(0x701)],'description':_0xfec88d?.['description'],'website':_0xfec88d?.[_0x295635(0x627)]?.[_0x295635(0x837)]()};}}catch{return this[_0x295635(0x756)][_0x295635(0x800)](_0x295635(0x3dd)),{'wuid':_0x75775b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x4c7c55(0x7b6)](_0x15566d){const _0x5a9ee0=a0_0x4c7c55;let _0x1e9528=(_0x15566d?this[_0x5a9ee0(0x25b)](_0x15566d):this[_0x5a9ee0(0x227)]?.[_0x5a9ee0(0x306)]?.['id'])[_0x5a9ee0(0x294)](/:\d{1,2}@/g,'@');this['logger'][_0x5a9ee0(0x800)](_0x5a9ee0(0x443)+_0x1e9528);let _0x496bd1=await this[_0x5a9ee0(0x409)][_0x5a9ee0(0x51f)][_0x5a9ee0(0x6bf)]({'where':{'_id':_0x1e9528}},this[_0x5a9ee0(0x237)][_0x5a9ee0(0x650)]),_0x133703=_0x496bd1?_0x496bd1[_0x5a9ee0(0x59c)]:null;try{let _0x3957c9=(await this['whatsappNumber']({'numbers':[_0x1e9528]}))?.['shift'](),_0x46e285=await this['profilePicture'](_0x3957c9?.['jid']),_0xc9aac5=await this[_0x5a9ee0(0x4e2)](_0x3957c9?.[_0x5a9ee0(0x50a)]),_0x469644=await this[_0x5a9ee0(0x3f6)](_0x3957c9?.[_0x5a9ee0(0x50a)]),_0x3532c9=await this[_0x5a9ee0(0x409)][_0x5a9ee0(0x4a2)]['findOne']({'where':{'_id':_0x1e9528}},this[_0x5a9ee0(0x237)]['wuid']),_0x564183={'imagechat':_0x46e285?.[_0x5a9ee0(0x620)],'contactname':_0x133703||null,'status':_0xc9aac5?.[_0x5a9ee0(0x2bf)],'isBusiness':_0x469644['isBusiness'],'email':_0x469644?.['email'],'description':_0x469644?.[_0x5a9ee0(0x680)],'website':_0x469644?.['website']?.['shift'](),'lastcache':Date[_0x5a9ee0(0x593)](),'imported':!_0x3532c9},_0x326434=await this['repository'][_0x5a9ee0(0x4a2)][_0x5a9ee0(0x53d)]({'where':{'_id':_0x1e9528}},_0x564183,this['instance'][_0x5a9ee0(0x650)]),_0x1abff7={'owner':this['instance'][_0x5a9ee0(0x650)],'_id':_0x1e9528,'profilePictureUrl':_0x46e285?.[_0x5a9ee0(0x620)],'status':_0xc9aac5?.[_0x5a9ee0(0x2bf)]};return this[_0x5a9ee0(0x409)][_0x5a9ee0(0x51f)][_0x5a9ee0(0x718)]([_0x1abff7],this[_0x5a9ee0(0x237)]['wuid']),_0x326434&&J(this[_0x5a9ee0(0x515)],_0x5a9ee0(0x4cc),{'chat':_0x326434}),{'wuid':_0x3957c9?.[_0x5a9ee0(0x50a)]||_0x1e9528,'name':_0x3957c9?.[_0x5a9ee0(0x6ca)],'numberExists':_0x3957c9?.[_0x5a9ee0(0x641)],'picture':_0x46e285?.[_0x5a9ee0(0x620)],'status':_0xc9aac5?.[_0x5a9ee0(0x2bf)],'isBusiness':_0x469644[_0x5a9ee0(0x205)],'email':_0x469644?.['email'],'description':_0x469644?.[_0x5a9ee0(0x680)],'website':_0x469644?.[_0x5a9ee0(0x627)]?.[_0x5a9ee0(0x837)]()};}catch(_0x21124a){return this[_0x5a9ee0(0x756)][_0x5a9ee0(0x546)](_0x5a9ee0(0x569)+(_0x21124a instanceof Error?_0x21124a[_0x5a9ee0(0x372)]:JSON[_0x5a9ee0(0x6c4)](_0x21124a,null,0x2))),{};}}async[a0_0x4c7c55(0x3f6)](_0x3a3080){const _0x29eea4=a0_0x4c7c55;this[_0x29eea4(0x756)][_0x29eea4(0x800)](_0x29eea4(0x2d0));try{let _0x49545e=_0x3a3080?this[_0x29eea4(0x25b)](_0x3a3080):this[_0x29eea4(0x237)][_0x29eea4(0x650)],_0x378fe8=await this['client'][_0x29eea4(0x3c1)](_0x49545e);return this[_0x29eea4(0x756)][_0x29eea4(0x800)]('Trying\x20to\x20get\x20business\x20profile'),_0x378fe8?(this['logger'][_0x29eea4(0x800)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x378fe8}):{'isBusiness':!0x1,'message':_0x29eea4(0x4e9),...(await this[_0x29eea4(0x298)]({'numbers':[_0x49545e]}))?.[_0x29eea4(0x837)]()};}catch(_0x282d5c){throw new O(_0x29eea4(0x57a),_0x282d5c[_0x29eea4(0x2b4)]());}}async['getStatus'](_0x2e0c83){const _0x4f202d=a0_0x4c7c55;let _0x5514d1=this['createJid'](_0x2e0c83);try{return{'wuid':_0x5514d1,'status':(await this[_0x4f202d(0x227)][_0x4f202d(0x76f)](_0x5514d1))?.[_0x4f202d(0x2bf)]};}catch{return{'wuid':_0x5514d1,'status':null};}}async[a0_0x4c7c55(0x447)](_0x43633b){const _0x9ed29f=a0_0x4c7c55;try{return await this[_0x9ed29f(0x227)][_0x9ed29f(0x447)](_0x43633b),{'update':_0x9ed29f(0x389)};}catch(_0x3378e8){throw new O(_0x9ed29f(0x57a),_0x3378e8[_0x9ed29f(0x2b4)]());}}async[a0_0x4c7c55(0x7af)](_0x4be14a){const _0x2421a2=a0_0x4c7c55;try{return await this[_0x2421a2(0x227)][_0x2421a2(0x7af)](_0x4be14a),{'update':'success'};}catch(_0x153569){throw new O(_0x2421a2(0x688),_0x153569[_0x2421a2(0x2b4)]());}}async[a0_0x4c7c55(0x693)](_0x297c63){const _0xe37cfe=a0_0x4c7c55;try{let _0x5f0402;if((0x0,k['isURL'])(_0x297c63)){let _0x52043c=new Date()[_0xe37cfe(0x4b7)](),_0x19b4a5=_0x297c63+_0xe37cfe(0x6d8)+_0x52043c;_0x5f0402=(await se['default'][_0xe37cfe(0x448)](_0x19b4a5,{'responseType':'arraybuffer'}))[_0xe37cfe(0x402)];}else{if((0x0,k[_0xe37cfe(0x23f)])(_0x297c63))_0x5f0402=Buffer[_0xe37cfe(0x527)](_0x297c63,_0xe37cfe(0x3eb));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0xe37cfe(0x227)][_0xe37cfe(0x693)](this[_0xe37cfe(0x237)][_0xe37cfe(0x650)],_0x5f0402),{'update':_0xe37cfe(0x389)};}catch(_0x2b9410){throw new O(_0xe37cfe(0x511),_0x2b9410[_0xe37cfe(0x2b4)]());}}async[a0_0x4c7c55(0x26b)](){const _0x44f06c=a0_0x4c7c55;try{return await this['client'][_0x44f06c(0x26b)](this[_0x44f06c(0x237)][_0x44f06c(0x650)]),{'update':_0x44f06c(0x389)};}catch(_0x5d07d6){throw new O(_0x44f06c(0x47f),_0x5d07d6['toString']());}}async[a0_0x4c7c55(0x597)](_0x3ebf8c){const _0x56b619=a0_0x4c7c55;try{let _0x108516=_0x3ebf8c['participants']['map'](_0x4637cb=>this[_0x56b619(0x25b)](_0x4637cb)),{id:_0x15cd85}=await this[_0x56b619(0x227)]['groupCreate'](_0x3ebf8c[_0x56b619(0x37f)],_0x108516);return _0x3ebf8c?.[_0x56b619(0x680)]&&await this[_0x56b619(0x227)]['groupUpdateDescription'](_0x15cd85,_0x3ebf8c[_0x56b619(0x680)]),{'metadata':await this['client']['groupMetadata'](_0x15cd85)};}catch(_0x54b37a){throw this['logger'][_0x56b619(0x546)](this[_0x56b619(0x515)]+'\x20('+this[_0x56b619(0x237)][_0x56b619(0x650)]+'):\x20'+(_0x54b37a instanceof Error?_0x54b37a[_0x56b619(0x372)]:JSON[_0x56b619(0x6c4)](_0x54b37a,null,0x2))),new O(_0x56b619(0x849),_0x54b37a[_0x56b619(0x2b4)]());}}async['updateGroupPicture'](_0x583b25){const _0x2a3458=a0_0x4c7c55;try{let _0x362c5c;if((0x0,k['isURL'])(_0x583b25[_0x2a3458(0x504)])){let _0xcbb273=new Date()[_0x2a3458(0x4b7)](),_0x636d92=_0x583b25[_0x2a3458(0x504)]+_0x2a3458(0x6d8)+_0xcbb273;_0x362c5c=(await se[_0x2a3458(0x697)][_0x2a3458(0x448)](_0x636d92,{'responseType':_0x2a3458(0x806)}))[_0x2a3458(0x402)];}else{if((0x0,k[_0x2a3458(0x23f)])(_0x583b25['image']))_0x362c5c=Buffer[_0x2a3458(0x527)](_0x583b25[_0x2a3458(0x504)],_0x2a3458(0x3eb));else throw new m(_0x2a3458(0x4fa));}return await this[_0x2a3458(0x227)][_0x2a3458(0x693)](_0x583b25[_0x2a3458(0x5de)],_0x362c5c),{'update':_0x2a3458(0x389)};}catch(_0x78130f){throw new O('Error\x20update\x20group\x20picture',_0x78130f[_0x2a3458(0x2b4)]());}}async[a0_0x4c7c55(0x1c8)](_0x5d32a1,_0x1bb45f=a0_0x4c7c55(0x498)){const _0x26f76a=a0_0x4c7c55;try{let _0xba194d=await this[_0x26f76a(0x227)][_0x26f76a(0x57b)](_0x5d32a1[_0x26f76a(0x5de)]),_0x4ab417=null;try{_0x4ab417=(await this[_0x26f76a(0x741)](_0x5d32a1[_0x26f76a(0x5de)]))[_0x26f76a(0x620)];}catch(_0x2ec23d){this['logger'][_0x26f76a(0x800)](this[_0x26f76a(0x515)]+'\x20('+this[_0x26f76a(0x237)][_0x26f76a(0x650)]+_0x26f76a(0x303)+_0x5d32a1[_0x26f76a(0x5de)]+':\x20'+(_0x2ec23d instanceof Error?_0x2ec23d[_0x26f76a(0x372)]:JSON[_0x26f76a(0x6c4)](_0x2ec23d,null,0x2)));}let _0xc2fc9d=await this['repository'][_0x26f76a(0x4a2)][_0x26f76a(0x53d)]({'where':{'_id':_0x5d32a1['groupJid']}},{'imagechat':_0x4ab417,'name':_0xba194d[_0x26f76a(0x37f)],'group_size':_0xba194d[_0x26f76a(0x269)],'group_announce':_0xba194d['announce'],'lastcache':Date[_0x26f76a(0x593)]()},this['instance'][_0x26f76a(0x650)]);return _0xc2fc9d&&J(this['instanceName'],_0x26f76a(0x4cc),{'chat':_0xc2fc9d}),{'metadata':_0xba194d,'image':_0x4ab417};}catch(_0x2434fb){if(_0x1bb45f===_0x26f76a(0x3c4))return;throw new j(_0x26f76a(0x6ef),_0x2434fb['toString']());}}async[a0_0x4c7c55(0x1da)](_0x39bb1e){const _0x52b0ae=a0_0x4c7c55;try{return await this['client'][_0x52b0ae(0x445)](_0x39bb1e[_0x52b0ae(0x5de)],_0x39bb1e[_0x52b0ae(0x680)]),{'update':'success'};}catch(_0x5a70f4){throw new O('Error\x20change\x20group\x20description',_0x5a70f4[_0x52b0ae(0x2b4)]());}}async[a0_0x4c7c55(0x4a6)](_0x38521f){const _0x2b46de=a0_0x4c7c55;try{return await this[_0x2b46de(0x227)][_0x2b46de(0x6bb)](_0x38521f[_0x2b46de(0x5de)],_0x38521f[_0x2b46de(0x6ca)]),{'update':_0x2b46de(0x389)};}catch(_0x5d1476){throw new O(_0x2b46de(0x56a),_0x5d1476['toString']());}}async[a0_0x4c7c55(0x25d)](_0x29d84a){const _0x169b14=a0_0x4c7c55;try{return await this[_0x169b14(0x227)]['groupSettingUpdate'](_0x29d84a[_0x169b14(0x5de)],_0x29d84a['setting']),{'update':_0x169b14(0x389)};}catch(_0x5d2a3d){throw new O(_0x169b14(0x1ee),_0x5d2a3d['toString']());}}async[a0_0x4c7c55(0x509)](){const _0xf6e88b=a0_0x4c7c55;try{let _0x1ae46d=[],_0x33c720=await this['client'][_0xf6e88b(0x828)](),_0x492305=Object[_0xf6e88b(0x316)](_0x33c720),_0x4e5542=_0x492305[_0xf6e88b(0x720)](_0x4df640=>(0x0,y[_0xf6e88b(0x64c)])(_0x4df640?.['id']))[_0xf6e88b(0x4df)](async _0xc8219d=>{const _0x3e4ac8=_0xf6e88b;try{return await this[_0x3e4ac8(0x227)][_0x3e4ac8(0x620)](_0xc8219d['id'],_0x3e4ac8(0x82a));}catch(_0x5adda0){return this[_0x3e4ac8(0x756)]['verbose'](this[_0x3e4ac8(0x515)]+'\x20('+this[_0x3e4ac8(0x237)][_0x3e4ac8(0x650)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xc8219d['id']+':\x20'+(_0x5adda0 instanceof Error?_0x5adda0['message']:JSON['stringify'](_0x5adda0,null,0x2))),null;}}),_0x41476e=await Promise[_0xf6e88b(0x5d6)](_0x4e5542);for(let _0x3c15c6=0x0;_0x3c15c6<_0x492305[_0xf6e88b(0x676)];_0x3c15c6++){let _0x2713a2=_0x492305[_0x3c15c6];(0x0,y[_0xf6e88b(0x64c)])(_0x2713a2?.['id'])&&_0x1ae46d['push']({'groupJid':_0x2713a2?.['id'],'subject':_0x2713a2?.[_0xf6e88b(0x37f)],'subjectOwner':_0x2713a2?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x2713a2?.[_0xf6e88b(0x410)],'size':_0x2713a2?.[_0xf6e88b(0x759)]?.[_0xf6e88b(0x676)],'owner':_0x2713a2?.['owner']?.[_0xf6e88b(0x81e)]('@')[0x0],'creation':_0x2713a2?.['creation'],'desc':_0x2713a2?.[_0xf6e88b(0x243)],'restrict':_0x2713a2?.[_0xf6e88b(0x7f9)],'announce':_0x2713a2?.[_0xf6e88b(0x2c4)],'image':_0x41476e[_0x3c15c6]});}return _0x1ae46d;}catch(_0x523c1c){throw new j(_0xf6e88b(0x6ef),_0x523c1c[_0xf6e88b(0x2b4)]());}}async[a0_0x4c7c55(0x4cd)](_0x14bb18){const _0x291aff=a0_0x4c7c55;try{let _0x146a46=await this[_0x291aff(0x227)][_0x291aff(0x40c)](_0x14bb18[_0x291aff(0x5de)]);return{'inviteUrl':_0x291aff(0x2ca)+_0x146a46,'inviteCode':_0x146a46};}catch(_0x4a5611){throw new j(_0x291aff(0x55c),_0x4a5611[_0x291aff(0x2b4)]());}}async[a0_0x4c7c55(0x336)](_0xd90b95){const _0x1dc5e1=a0_0x4c7c55;try{let _0x4a7c13=await this['client'][_0x1dc5e1(0x768)](_0xd90b95[_0x1dc5e1(0x5de)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x4a7c13,'inviteCode':_0x4a7c13};}catch(_0x3cede6){throw new j(_0x1dc5e1(0x664),_0x3cede6[_0x1dc5e1(0x2b4)]());}}async[a0_0x4c7c55(0x426)](_0x419960){const _0xc12ffe=a0_0x4c7c55;try{if((0x0,k[_0xc12ffe(0x38a)])(_0x419960[_0xc12ffe(0x4cd)]))var _0x14d848=_0x419960['inviteCode'][_0xc12ffe(0x81e)]('/')[0x3];else var _0x14d848=_0x419960[_0xc12ffe(0x4cd)];let _0xcb7411=await this[_0xc12ffe(0x227)][_0xc12ffe(0x3dc)](_0x14d848);return this[_0xc12ffe(0x756)][_0xc12ffe(0x800)](this[_0xc12ffe(0x515)]+'\x20('+this[_0xc12ffe(0x237)][_0xc12ffe(0x650)]+_0xc12ffe(0x535)+_0xcb7411),{'join':!0x0,'inviteCode':_0x14d848,'groupJid':_0xcb7411};}catch(_0x6b590d){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x6b590d['toString']());}}async[a0_0x4c7c55(0x1cd)](_0x44a23e){const _0x613bdd=a0_0x4c7c55;try{return{'participants':(await this[_0x613bdd(0x227)][_0x613bdd(0x57b)](_0x44a23e[_0x613bdd(0x5de)]))[_0x613bdd(0x759)]};}catch(_0x5d7ea1){throw new j(_0x613bdd(0x1c1),_0x5d7ea1[_0x613bdd(0x2b4)]());}}async[a0_0x4c7c55(0x414)](_0x23281e){const _0x3e9453=a0_0x4c7c55;try{let _0xe1e3ce=_0x23281e[_0x3e9453(0x759)][_0x3e9453(0x4df)](_0x2822c8=>this['createJid'](_0x2822c8));return{'updateParticipants':await this['client']['groupParticipantsUpdate'](_0x23281e[_0x3e9453(0x5de)],_0xe1e3ce,_0x23281e[_0x3e9453(0x4a1)])};}catch(_0x2a8f2b){throw new m('Error\x20updating\x20participants',_0x2a8f2b[_0x3e9453(0x2b4)]());}}async[a0_0x4c7c55(0x292)](_0x4cd498){const _0x2760be=a0_0x4c7c55;try{let _0x440d4d=await this[_0x2760be(0x227)][_0x2760be(0x4d6)](_0x4cd498[_0x2760be(0x5de)],_0x4cd498['expiration']);return{'success':!0x0};}catch(_0x1c9cf3){throw new m(_0x2760be(0x2f6),_0x1c9cf3['toString']());}}async[a0_0x4c7c55(0x2d5)](_0x584590){const _0x492e29=a0_0x4c7c55;try{return await this[_0x492e29(0x227)][_0x492e29(0x335)](_0x584590[_0x492e29(0x5de)]),{'groupJid':_0x584590['groupJid'],'leave':!0x0};}catch(_0x28f2c1){throw new m(_0x492e29(0x49a),_0x28f2c1[_0x492e29(0x2b4)]());}}async[a0_0x4c7c55(0x7e2)](_0xc7bc81){const _0x294781=a0_0x4c7c55;return await this[_0x294781(0x332)](_0xc7bc81[_0x294781(0x394)],{'poll':{'name':_0xc7bc81[_0x294781(0x7e2)]?.[_0x294781(0x6ca)],'selectableCount':_0xc7bc81[_0x294781(0x7e2)][_0x294781(0x729)],'values':_0xc7bc81[_0x294781(0x7e2)]['values']}},_0xc7bc81?.['options']);}async[a0_0x4c7c55(0x481)](_0x595885){const _0xdadd3c=a0_0x4c7c55;return await this[_0xdadd3c(0x332)](_0x595885[_0xdadd3c(0x394)],{'listMessage':{'title':_0x595885[_0xdadd3c(0x481)][_0xdadd3c(0x595)],'description':_0x595885[_0xdadd3c(0x481)][_0xdadd3c(0x680)],'buttonText':_0x595885['listMessage']?.[_0xdadd3c(0x5ba)],'footerText':_0x595885[_0xdadd3c(0x481)]?.['footerText'],'sections':_0x595885[_0xdadd3c(0x481)][_0xdadd3c(0x524)],'listType':0x2}},_0x595885?.['options']);}async[a0_0x4c7c55(0x23d)](_0x2ffeee){const _0x1daa4e=a0_0x4c7c55;let _0xdd4416;if(_0x2ffeee[_0x1daa4e(0x23d)][_0x1daa4e(0x23a)]==='list'){let _0x5a43c3=_0x2ffeee['menuMessage']['text'][_0x1daa4e(0x678)]('\x0a'),_0x3a620a='',_0x15e723='';_0x5a43c3!==-0x1?(_0x3a620a=_0x2ffeee['menuMessage']['text'][_0x1daa4e(0x390)](0x0,_0x5a43c3)['trim'](),_0x15e723=_0x2ffeee['menuMessage'][_0x1daa4e(0x55e)][_0x1daa4e(0x390)](_0x5a43c3+0x1)):_0x15e723=_0x2ffeee[_0x1daa4e(0x23d)]['text'];let _0x48b33b=this['createSectionsFromValues'](_0x2ffeee[_0x1daa4e(0x23d)]['choices']);_0xdd4416={'listMessage':{'title':_0x3a620a,'description':_0x15e723,'buttonText':_0x2ffeee[_0x1daa4e(0x23d)][_0x1daa4e(0x5ba)]||_0x1daa4e(0x732),'footerText':_0x2ffeee[_0x1daa4e(0x23d)][_0x1daa4e(0x2fa)],'sections':_0x48b33b,'listType':0x2}};}else{if(_0x2ffeee[_0x1daa4e(0x23d)][_0x1daa4e(0x23a)]===_0x1daa4e(0x731)){let _0x42696e=_0x2ffeee['menuMessage'][_0x1daa4e(0x562)][_0x1daa4e(0x720)](_0x21b5f7=>!(_0x21b5f7[_0x1daa4e(0x3fd)]('[')&&_0x21b5f7['endsWith'](']')))[_0x1daa4e(0x4df)](_0x199200=>_0x199200[_0x1daa4e(0x81e)]('\x0a')[0x0]);_0xdd4416={'poll':{'name':_0x2ffeee[_0x1daa4e(0x23d)][_0x1daa4e(0x55e)],'selectableCount':_0x2ffeee[_0x1daa4e(0x23d)]['selectableCount']||0x1,'values':_0x42696e}};}}return await this[_0x1daa4e(0x332)](_0x2ffeee[_0x1daa4e(0x394)],_0xdd4416,_0x2ffeee?.[_0x1daa4e(0x2ba)]);}['createSectionsFromValues'](_0x541e4f){const _0x3bec4f=a0_0x4c7c55;let _0x842c25=[],_0x4af6bd={'rows':[]};return _0x541e4f[_0x3bec4f(0x559)](_0x479cf9=>{const _0x362d28=_0x3bec4f;if(_0x479cf9['startsWith']('[')&&_0x479cf9[_0x362d28(0x5a6)](']'))_0x4af6bd[_0x362d28(0x1f7)][_0x362d28(0x676)]>0x0&&_0x842c25[_0x362d28(0x56b)](_0x4af6bd),_0x4af6bd={'title':_0x479cf9['slice'](0x1,-0x1),'rows':[]};else{let _0xf93152=_0x479cf9[_0x362d28(0x81e)]('\x0a')['map'](_0x263833=>_0x263833[_0x362d28(0x360)]()),_0xba053d=_0xf93152[0x0],_0x31e31b=_0xf93152[0x1]||null,_0x4c45b2=_0xf93152[0x2]||_0xba053d;_0x4af6bd[_0x362d28(0x1f7)]['push']({'title':_0xba053d,'description':_0x31e31b,'rowId':_0x4c45b2});}}),_0x4af6bd[_0x3bec4f(0x1f7)][_0x3bec4f(0x676)]>0x0&&_0x842c25['push'](_0x4af6bd),_0x842c25;}async['updateMessage'](_0x51a181,_0xde1724){const _0x53672e=a0_0x4c7c55;if(await this[_0x53672e(0x4f8)](_0x51a181,!0x0)){let _0x12c723={'where':{'_id':_0x51a181['id']}},_0x416030={'status':[_0xde1724[_0x53672e(0x2bf)]][0x0]};try{let _0x16b590=await this[_0x53672e(0x409)][_0x53672e(0x372)][_0x53672e(0x718)](_0x12c723,_0x416030,this['instance'][_0x53672e(0x650)]);_0x16b590&&J(this['instanceName'],_0x53672e(0x7bd),{'message':_0x16b590});}catch{}}}[a0_0x4c7c55(0x22d)](_0x2862c9){const _0x235f65=a0_0x4c7c55;let _0x2a9468=[];return _0x2862c9['forEach'](_0x3a478d=>{const _0x21a345=a0_0x31df;_0x3a478d[_0x21a345(0x595)]&&_0x2a9468[_0x21a345(0x56b)]('['+_0x3a478d[_0x21a345(0x595)]+']'),_0x3a478d[_0x21a345(0x1f7)][_0x21a345(0x559)](_0x3a58c9=>{_0x2a9468['push'](_0x3a58c9['title']);});}),_0x2a9468[_0x235f65(0x1c0)]('|');}[a0_0x4c7c55(0x469)](_0x797bdc){const _0x2dc5ce=a0_0x4c7c55;let _0x2fd1a7=_0x797bdc[_0x2dc5ce(0x294)](/\\n/g,'\x0a')[_0x2dc5ce(0x81e)]('\x0a')['filter'](_0x2552f0=>_0x2552f0[_0x2dc5ce(0x606)]('TEL')||_0x2552f0[_0x2dc5ce(0x606)](_0x2dc5ce(0x81d))),_0x556c26='';return _0x2fd1a7[_0x2dc5ce(0x559)](_0x1b78bc=>{const _0x36cc8e=_0x2dc5ce;let _0x815bbd=/TEL(?:.*):(.+)/,_0x389533=/EMAIL(?:.*):(.+)/,_0xa16d8b=_0x1b78bc[_0x36cc8e(0x52e)](_0x815bbd),_0x5e4e57=_0x1b78bc[_0x36cc8e(0x52e)](_0x389533);if(_0xa16d8b){let _0x380919=_0xa16d8b[0x1][_0x36cc8e(0x294)](/-| |\+|\(|\)/g,'')[_0x36cc8e(0x360)]();_0x556c26+=_0x36cc8e(0x27c)+_0x380919+'\x0a';}else{if(_0x5e4e57){let _0x48050e=_0x5e4e57[0x1][_0x36cc8e(0x360)]();_0x556c26+='E-mail:\x20'+_0x48050e+'\x0a';}}}),_0x556c26[_0x2dc5ce(0x360)]();}async[a0_0x4c7c55(0x361)](_0x4b1b52,_0x324c33,_0x25ec7f){const _0x4f1a35=a0_0x4c7c55;if(!_0x4b1b52[_0x4f1a35(0x2b0)])return;let _0x238f65=_0x324c33[_0x4f1a35(0x399)][_0x4f1a35(0x7a1)][_0x4f1a35(0x294)](/:\d{1,2}@/g,'@'),_0x31d18d=_0x324c33['key'][_0x4f1a35(0x1f8)],_0x2a829c=_0x238f65[_0x4f1a35(0x5a6)]('@g.us'),_0x9066=_0x324c33['message_normalized']?.[_0x4f1a35(0x55e)]||_0x324c33[_0x4f1a35(0x53b)]?.[_0x4f1a35(0x6fb)]||_0x324c33['message_normalized']?.[_0x4f1a35(0x2c5)]||_0x324c33['message_normalized']?.[_0x4f1a35(0x6ca)],_0x316df5={'lastmsg':_0x324c33['messageTimestamp']||Date[_0x4f1a35(0x593)](),'unreadcount':_0x31d18d?0x0:0x1,..._0x31d18d||_0x2a829c?{}:{'name':_0x324c33[_0x4f1a35(0x59c)]},..._0x2a829c?{'group':_0x2a829c}:{}},_0x535667=await this['repository'][_0x4f1a35(0x4a2)][_0x4f1a35(0x53d)]({'where':{'_id':_0x238f65}},_0x316df5,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x535667[_0x4f1a35(0x395)]){let _0x42fc96=await this[_0x4f1a35(0x409)][_0x4f1a35(0x671)][_0x4f1a35(0x557)]({'where':{}},this[_0x4f1a35(0x237)][_0x4f1a35(0x650)]),_0x4dda4b=new Set(_0x42fc96[_0x4f1a35(0x4df)](_0x12b111=>_0x12b111[_0x4f1a35(0x40d)])),_0x437d02=(_0x535667[_0x4f1a35(0x7d2)]?.[_0x4f1a35(0x67e)]||[])['filter'](_0x1f974e=>_0x4dda4b[_0x4f1a35(0x42b)](_0x1f974e)),_0x4838d3={'leadInfo.etiquetas':_0x437d02,'imported':!0x1};_0x535667=await this[_0x4f1a35(0x409)]['chat']['updateOne']({'where':{'_id':_0x238f65}},_0x4838d3,this[_0x4f1a35(0x237)]['wuid']);for(let _0x1d1ade of _0x437d02)await this[_0x4f1a35(0x6ba)](_0x1d1ade,_0x238f65);}if(!_0x2a829c&&(!_0x535667?.[_0x4f1a35(0x7d2)]||!_0x535667['leadInfo'][_0x4f1a35(0x483)])&&_0x324c33[_0x4f1a35(0x59c)]&&!_0x31d18d&&(_0x535667=await this[_0x4f1a35(0x409)][_0x4f1a35(0x4a2)]['updateOne']({'where':{'_id':_0x238f65}},{'leadInfo.nome':_0x324c33[_0x4f1a35(0x59c)]},this[_0x4f1a35(0x237)][_0x4f1a35(0x650)],{'new':!0x0,'upsert':!0x0})),_0x25ec7f===_0x4f1a35(0x570)&&_0x31d18d&&this[_0x4f1a35(0x53f)]?.[_0x4f1a35(0x534)][_0x4f1a35(0x77b)]&&!_0x9066[_0x4f1a35(0x3fd)](this[_0x4f1a35(0x53f)]?.[_0x4f1a35(0x534)][_0x4f1a35(0x74a)])){let _0xc0d465=(this[_0x4f1a35(0x53f)]?.['flowConfig'][_0x4f1a35(0x4c9)]||0x5)*0xea60,_0x5b5444=Date[_0x4f1a35(0x593)]()+_0xc0d465;_0x535667?.[_0x4f1a35(0x7d2)]?.[_0x4f1a35(0x25c)]===0x0||(await this[_0x4f1a35(0x409)]['chat'][_0x4f1a35(0x53d)]({'where':{'_id':_0x238f65}},{'leadInfo.desativadoFluxoAte':_0x5b5444},this[_0x4f1a35(0x237)][_0x4f1a35(0x650)],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x4f1a35(0x800)](this[_0x4f1a35(0x515)]+'\x20('+this['instance'][_0x4f1a35(0x650)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20'+_0x5b5444+'.'));}if(_0x535667)J(this[_0x4f1a35(0x515)],'chats',{'chat':_0x535667});else{this['logger'][_0x4f1a35(0x546)](this[_0x4f1a35(0x515)]+'\x20('+this[_0x4f1a35(0x237)][_0x4f1a35(0x650)]+_0x4f1a35(0x2f3));return;}if(!this[_0x4f1a35(0x53f)]?.[_0x4f1a35(0x534)][_0x4f1a35(0x77b)])return this[_0x4f1a35(0x756)][_0x4f1a35(0x800)](this[_0x4f1a35(0x515)]+'\x20('+this[_0x4f1a35(0x237)]['wuid']+_0x4f1a35(0x532)),null;if(_0x535667[_0x4f1a35(0x40d)][_0x4f1a35(0x606)](_0x4f1a35(0x754))&&this[_0x4f1a35(0x53f)]?.[_0x4f1a35(0x534)][_0x4f1a35(0x258)]===!0x0)return this['logger'][_0x4f1a35(0x800)](this[_0x4f1a35(0x515)]+'\x20('+this[_0x4f1a35(0x237)][_0x4f1a35(0x650)]+_0x4f1a35(0x68a)),null;if(_0x535667[_0x4f1a35(0x7d2)]){if(_0x535667[_0x4f1a35(0x7d2)][_0x4f1a35(0x25c)]===0x0||_0x535667[_0x4f1a35(0x7d2)][_0x4f1a35(0x662)])return this[_0x4f1a35(0x756)][_0x4f1a35(0x800)](this['instanceName']+'\x20('+this[_0x4f1a35(0x237)]['wuid']+'):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20'+_0x238f65+_0x4f1a35(0x4da)),null;if(_0x535667[_0x4f1a35(0x7d2)][_0x4f1a35(0x25c)]>Date['now']()&&!_0x324c33[_0x4f1a35(0x53b)]?.['vote'])return this[_0x4f1a35(0x756)][_0x4f1a35(0x800)](this[_0x4f1a35(0x515)]+'\x20('+this[_0x4f1a35(0x237)][_0x4f1a35(0x650)]+_0x4f1a35(0x72b)+new Date(_0x535667[_0x4f1a35(0x7d2)][_0x4f1a35(0x25c)])[_0x4f1a35(0x6b2)]()+',\x20saindo.'),null;}this[_0x4f1a35(0x756)]['verbose'](this[_0x4f1a35(0x515)]+'\x20('+this[_0x4f1a35(0x237)][_0x4f1a35(0x650)]+_0x4f1a35(0x7ac)),this[_0x4f1a35(0x42d)](_0x25ec7f,_0x324c33);}async['upsertChats'](_0x36bb22,_0xf1afc3){const _0x57e5f1=a0_0x4c7c55;if(_0xf1afc3['ENABLED']){let _0x1202fd=_0x36bb22[_0x57e5f1(0x4df)](async _0x2c7014=>{const _0x114cb9=_0x57e5f1;try{let _0x56e063={'_id':_0x2c7014[_0x114cb9(0x40d)],'owner':_0x2c7014[_0x114cb9(0x655)],'lastcache':0x0};if(_0x2c7014[_0x114cb9(0x7ef)]!==null&&(_0x56e063['group']=_0x2c7014[_0x114cb9(0x7ef)]),_0x2c7014[_0x114cb9(0x6ca)]!==null&&(_0x56e063['name']=_0x2c7014[_0x114cb9(0x6ca)]),_0x2c7014['contactname']!==null&&(_0x56e063[_0x114cb9(0x84f)]=_0x2c7014[_0x114cb9(0x84f)]),_0x2c7014[_0x114cb9(0x5b5)]!==null&&(_0x56e063[_0x114cb9(0x5b5)]=_0x2c7014[_0x114cb9(0x5b5)]),_0x2c7014[_0x114cb9(0x5b5)]===null&&(_0x56e063[_0x114cb9(0x5b5)]=_0x114cb9(0x6a8)),_0x2c7014[_0x114cb9(0x847)]!==null&&(_0x56e063[_0x114cb9(0x847)]=_0x2c7014[_0x114cb9(0x847)]),_0x2c7014[_0x114cb9(0x3f3)]!==null&&(_0x56e063[_0x114cb9(0x3f3)]=_0x2c7014['archived']),_0x2c7014['unreadcount']!==null&&(_0x56e063['unreadcount']=_0x2c7014[_0x114cb9(0x5cc)]),Object[_0x114cb9(0x722)](_0x56e063)[_0x114cb9(0x676)]>0x0)return await this['repository'][_0x114cb9(0x4a2)][_0x114cb9(0x53d)]({'where':{'_id':_0x2c7014[_0x114cb9(0x40d)]}},_0x56e063,this[_0x114cb9(0x237)][_0x114cb9(0x650)]);}catch(_0x38da9f){return console[_0x114cb9(0x546)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x2c7014[_0x114cb9(0x40d)]+':',_0x38da9f),null;}}),_0xfa22a4=(await Promise['all'](_0x1202fd))[_0x57e5f1(0x720)](_0x24eafe=>_0x24eafe!==null)[_0x57e5f1(0x676)];this['logger'][_0x57e5f1(0x800)](this[_0x57e5f1(0x515)]+'\x20('+this[_0x57e5f1(0x237)]['wuid']+_0x57e5f1(0x535)+_0xfa22a4+_0x57e5f1(0x3d5)+this['instance'][_0x57e5f1(0x650)]+_0x57e5f1(0x453));}}async[a0_0x4c7c55(0x589)](_0x3b3d24){const _0x56664b=a0_0x4c7c55;this['logger'][_0x56664b(0x800)](this['instanceName']+'\x20('+this[_0x56664b(0x237)][_0x56664b(0x650)]+'):\x20Ler\x20mensagem');let _0x5699ce={'readMessages':[{'remoteJid':_0x3b3d24[_0x56664b(0x43a)][_0x56664b(0x5a3)][_0x56664b(0x399)]['remoteJid'],'fromMe':_0x3b3d24[_0x56664b(0x43a)]['lastReceivedMessage'][_0x56664b(0x399)][_0x56664b(0x1f8)],'id':_0x3b3d24[_0x56664b(0x43a)][_0x56664b(0x5a3)][_0x56664b(0x399)]['id']}]};await this[_0x56664b(0x496)](_0x5699ce);}async['StartBot'](_0x1d0679,_0x592a3e){const _0x5b5332=a0_0x4c7c55;try{let {key:_0x2fbf43,message_normalized:_0x4748e6}=_0x592a3e,_0x5df1d=_0x4748e6,_0x25151c=_0x4748e6[_0x5b5332(0x55e)]||_0x4748e6['caption']||_0x4748e6[_0x5b5332(0x2c5)]||_0x4748e6[_0x5b5332(0x6ca)],_0x45fca9=_0x2fbf43[_0x5b5332(0x7a1)],_0x466e15;if(_0x5df1d[_0x5b5332(0x399)][_0x5b5332(0x1f8)]&&_0x25151c[_0x5b5332(0x360)]()!==this[_0x5b5332(0x53f)]?.[_0x5b5332(0x534)][_0x5b5332(0x56f)][_0x5b5332(0x360)]())return this[_0x5b5332(0x756)]['verbose'](this[_0x5b5332(0x515)]+'\x20('+this[_0x5b5332(0x237)]['wuid']+_0x5b5332(0x495)),null;if(_0x5df1d[_0x5b5332(0x399)][_0x5b5332(0x1f8)]&&_0x25151c[_0x5b5332(0x360)]()===this[_0x5b5332(0x53f)]?.[_0x5b5332(0x534)][_0x5b5332(0x56f)][_0x5b5332(0x360)]()){this[_0x5b5332(0x756)]['verbose'](this[_0x5b5332(0x515)]+'\x20('+this[_0x5b5332(0x237)][_0x5b5332(0x650)]+_0x5b5332(0x647));let _0x1bf3e9=await this[_0x5b5332(0x409)]['flowConversation'][_0x5b5332(0x557)]({'remoteJid':_0x45fca9,'status':'open'},this['instance']['wuid']);this[_0x5b5332(0x756)][_0x5b5332(0x800)](this[_0x5b5332(0x515)]+'\x20('+this[_0x5b5332(0x237)]['wuid']+_0x5b5332(0x3c0)+_0x1bf3e9);let _0x555c34=Date[_0x5b5332(0x593)](),_0x561976;return this[_0x5b5332(0x53f)]?.['flowConfig'][_0x5b5332(0x3a5)]===0x0?_0x561976={'stoppedUntil':_0x555c34+0x7591f6200}:_0x561976={'stoppedUntil':_0x555c34+this[_0x5b5332(0x53f)]?.[_0x5b5332(0x534)][_0x5b5332(0x3a5)]*0x3c*0x3e8},this[_0x5b5332(0x756)][_0x5b5332(0x800)](this[_0x5b5332(0x515)]+'\x20('+this[_0x5b5332(0x237)]['wuid']+_0x5b5332(0x58c)+_0x561976),this[_0x5b5332(0x66d)](_0x466e15,_0x561976[_0x5b5332(0x46c)]),null;}if(_0x25151c&&_0x25151c[_0x5b5332(0x3fd)](this['AutomateSystem']?.['flowConfig'][_0x5b5332(0x74a)])&&_0x25151c[_0x5b5332(0x676)]>0x4){let _0x352862=await this[_0x5b5332(0x409)]['flow'][_0x5b5332(0x6bf)]({'where':{'startCommandWord':_0x25151c}},this['instance'][_0x5b5332(0x650)]);if(this[_0x5b5332(0x756)]['verbose'](this[_0x5b5332(0x515)]+'\x20('+this[_0x5b5332(0x237)][_0x5b5332(0x650)]+_0x5b5332(0x2e1)),_0x352862)_0x466e15=await this[_0x5b5332(0x24c)](_0x352862,_0x5df1d[_0x5b5332(0x399)],_0x5df1d);else return this[_0x5b5332(0x756)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x466e15=await this['findConversation'](_0x45fca9,_0x5df1d);if(_0x466e15){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5b5332(0x237)]['wuid']+_0x5b5332(0x1e1)),!_0x2fbf43['fromMe']&&_0x466e15[_0x5b5332(0x63f)]&&this[_0x5b5332(0x589)](_0x466e15);let _0x1551d8=await this[_0x5b5332(0x7ab)](_0x466e15);_0x1551d8&&await this[_0x5b5332(0x4d4)](_0x466e15,_0x1551d8);}}catch(_0x3fe647){this[_0x5b5332(0x756)][_0x5b5332(0x546)](this['instanceName']+'\x20('+this[_0x5b5332(0x237)]['wuid']+_0x5b5332(0x5c2)+(_0x3fe647 instanceof Error?_0x3fe647[_0x5b5332(0x372)]:JSON[_0x5b5332(0x6c4)](_0x3fe647,null,0x2)));}}[a0_0x4c7c55(0x506)](_0x2c156a,_0x3e2656='',_0x228993={},_0x8cab60=!0x0){const _0x5a887d=a0_0x4c7c55;for(let _0x465625 in _0x2c156a){let _0x3133f8=_0x8cab60?'_'+_0x465625:''+_0x3e2656+_0x465625;typeof _0x2c156a[_0x465625]==_0x5a887d(0x4b4)&&_0x2c156a[_0x465625]!==null?this['flattenObject'](_0x2c156a[_0x465625],_0x3133f8+'.',_0x228993,!0x1):_0x228993[_0x3133f8]=String(_0x2c156a[_0x465625]);}return _0x228993;}[a0_0x4c7c55(0x2f0)](_0x568fd8){const _0x391643=a0_0x4c7c55;let _0x11e433={};for(let _0x45d3cb of _0x568fd8)typeof _0x45d3cb['name']==_0x391643(0x6ed)&&typeof _0x45d3cb[_0x391643(0x7cd)]=='string'&&(_0x11e433[_0x45d3cb[_0x391643(0x6ca)]]=_0x45d3cb['value']);return _0x11e433;}async[a0_0x4c7c55(0x7ab)](_0x2d5eb7){const _0x58b908=a0_0x4c7c55;if(!this[_0x58b908(0x53f)]?.['flowConfig']['enabled']||_0x2d5eb7[_0x58b908(0x2bf)]!==_0x58b908(0x4c3)&&_0x2d5eb7[_0x58b908(0x2c6)]==='')return null;let _0x3dcdd1=_0x2d5eb7[_0x58b908(0x43a)][_0x58b908(0x5a2)]||_0x58b908(0x257);typeof _0x2d5eb7[_0x58b908(0x43a)][_0x58b908(0x7c6)]>'u'&&(_0x2d5eb7[_0x58b908(0x43a)][_0x58b908(0x7c6)]=!0x0);let _0x34f6a5=_0x2d5eb7['chatLog'][_0x58b908(0x7c6)];this[_0x58b908(0x756)][_0x58b908(0x800)](this['instanceName']+'\x20('+this[_0x58b908(0x237)][_0x58b908(0x650)]+'):\x20lastBlockId:\x20'+_0x3dcdd1+_0x58b908(0x852)+_0x34f6a5);let _0x45f608=_0x3dcdd1===_0x58b908(0x257)?_0x2d5eb7[_0x58b908(0x660)][_0x58b908(0x557)](_0x14da11=>_0x14da11[_0x58b908(0x23a)]===_0x58b908(0x257)):_0x2d5eb7['blocks']['find'](_0x12bba4=>_0x12bba4[_0x58b908(0x40d)][_0x58b908(0x2b4)]()===_0x3dcdd1[_0x58b908(0x2b4)]());if(!_0x45f608)return this[_0x58b908(0x756)][_0x58b908(0x546)](this[_0x58b908(0x515)]+'\x20('+this[_0x58b908(0x237)][_0x58b908(0x650)]+'):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3dcdd1),null;let _0x624d59={'_pushName':_0x2d5eb7[_0x58b908(0x43a)]['lastReceivedMessage'][_0x58b908(0x59c)],..._0x2d5eb7['chatLog'][_0x58b908(0x80e)]},_0x5f513d=null;if(_0x2d5eb7[_0x58b908(0x2c6)]){let _0x4a43fe=_0x2d5eb7['chatLog'][_0x58b908(0x5a3)][_0x58b908(0x2c5)],_0x1fb29b=_0x2d5eb7[_0x58b908(0x5df)][_0x58b908(0x557)](_0x493ff5=>_0x493ff5[_0x58b908(0x5ac)]===_0x4a43fe);if(_0x1fb29b){let _0x1978ba=_0x1fb29b['next_groupId'];if(_0x5f513d=_0x2d5eb7[_0x58b908(0x660)][_0x58b908(0x557)](_0x1da69e=>_0x1da69e[_0x58b908(0x3b7)]===_0x1978ba&&_0x1da69e['order']===0x1),_0x45f608[_0x58b908(0x229)][_0x58b908(0x39e)]){let _0x1a0dfe={'id':_0x2d5eb7[_0x58b908(0x2c6)],'remoteJid':_0x2d5eb7['remoteJid'],'fromMe':!0x0};await this[_0x58b908(0x698)](_0x1a0dfe);}if(_0x45f608['uazapi'][_0x58b908(0x39e)]&&_0x45f608[_0x58b908(0x229)][_0x58b908(0x421)]&&_0x45f608['uazapi'][_0x58b908(0x36c)]==='poll'){let _0x3f3d62={'number':_0x2d5eb7[_0x58b908(0x7a1)],'options':{'delay':0x0},'textMessage':{'text':_0x58b908(0x2ad)+_0x2d5eb7['waitingMenu_text']+'\x0a*Voc\x20respondeu*:\x0a'+_0x4a43fe}};await this[_0x58b908(0x2d4)](_0x3f3d62);}_0x2d5eb7['status']='open',_0x2d5eb7['waitingMenu_id']='',_0x2d5eb7['waitingMenu_text']='',_0x2d5eb7[_0x58b908(0x5df)]=[];}else{this[_0x58b908(0x756)][_0x58b908(0x800)](this['instanceName']+'\x20('+this['instance'][_0x58b908(0x650)]+_0x58b908(0x214));let _0x5adba3={'activatedCount':_0x2d5eb7['chatLog']['blockLogs'][_0x58b908(0x720)](_0x21fecd=>String(_0x21fecd[_0x58b908(0x455)])===String(_0x3dcdd1))['length'],'moreLogs':[_0x58b908(0x1ce)]};if(_0x45f608[_0x58b908(0x229)][_0x58b908(0x7d8)]){let _0x4a069f={'number':_0x2d5eb7[_0x58b908(0x7a1)],'options':{'delay':0x0},'textMessage':{'text':_0x45f608[_0x58b908(0x229)][_0x58b908(0x7d8)]}};await this[_0x58b908(0x2d4)](_0x4a069f);}if(_0x45f608[_0x58b908(0x452)]!==void 0x0&&_0x5adba3[_0x58b908(0x31f)]>=_0x45f608[_0x58b908(0x452)]){let _0x20faaa=Date['now'](),_0x48a200=_0x45f608['stopMinutesMaxActives']??0xa;isNaN(_0x48a200)&&(_0x48a200=0xa);let _0xd78681=_0x20faaa+_0x48a200*0x3c*0x3e8;_0x5adba3[_0x58b908(0x844)]=_0xd78681,_0x5adba3[_0x58b908(0x5e6)][_0x58b908(0x56b)](_0x58b908(0x458)),this[_0x58b908(0x66d)](_0x2d5eb7,_0xd78681),_0x2d5eb7[_0x58b908(0x2c6)]='',_0x2d5eb7[_0x58b908(0x36d)]='',_0x2d5eb7['waitingMenu_replyOptions']=[];}return this[_0x58b908(0x775)](_0x2d5eb7,_0x45f608,_0x5adba3,!0x0),null;}}if(_0x34f6a5&&_0x45f608['next_groupId']&&!_0x2d5eb7['waitingMenu_id']){let _0xf194a8=_0x2d5eb7['blocks'][_0x58b908(0x720)](_0x38294=>_0x38294[_0x58b908(0x3b7)][_0x58b908(0x2b4)]()===_0x45f608['next_groupId']['toString']())[_0x58b908(0x442)]((_0xcd2137,_0x1520f7)=>_0xcd2137['order']-_0x1520f7['order']);_0xf194a8[_0x58b908(0x676)]>0x0&&(_0x5f513d=_0xf194a8[0x0]);}if(!_0x5f513d){let _0x3cbcd3=_0x45f608[_0x58b908(0x3b7)],_0x3918f9=_0x2d5eb7['blocks'][_0x58b908(0x720)](_0x226f92=>_0x226f92['groupId']===_0x3cbcd3&&_0x226f92[_0x58b908(0x50d)]>_0x45f608[_0x58b908(0x50d)])[_0x58b908(0x442)]((_0x33c989,_0x58eb2e)=>_0x33c989[_0x58b908(0x50d)]-_0x58eb2e['order']);_0x3918f9[_0x58b908(0x676)]>0x0&&(_0x5f513d=_0x3918f9[0x0]);}if(!_0x5f513d)return _0x2d5eb7[_0x58b908(0x2bf)]=_0x58b908(0x618),null;_0x2d5eb7['chatLog']['realVariables']=_0x624d59;let _0x3a361e=JSON[_0x58b908(0x2b9)](JSON[_0x58b908(0x6c4)](_0x5f513d));return this[_0x58b908(0x29e)](_0x3a361e,_0x2d5eb7[_0x58b908(0x43a)]['realVariables']),_0x2d5eb7[_0x58b908(0x43a)][_0x58b908(0x5a2)]=_0x3a361e[_0x58b908(0x40d)],_0x2d5eb7[_0x58b908(0x43a)]['lastCondition']=!0x0,_0x3a361e;}[a0_0x4c7c55(0x7bc)](_0x556f2c,_0x200e7c){const _0x3d7954=a0_0x4c7c55;return _0x556f2c[_0x3d7954(0x294)](/\{\{([^}]+)\}\}/g,(_0x50fb45,_0x2d0ad2)=>_0x200e7c[_0x2d0ad2]||'');}[a0_0x4c7c55(0x29e)](_0x471b3d,_0x4fe5ad){const _0x24d286=a0_0x4c7c55;for(let _0x3f5e15 in _0x471b3d)typeof _0x471b3d[_0x3f5e15]==_0x24d286(0x6ed)?_0x471b3d[_0x3f5e15]=this[_0x24d286(0x7bc)](_0x471b3d[_0x3f5e15],_0x4fe5ad):typeof _0x471b3d[_0x3f5e15]=='object'&&this[_0x24d286(0x29e)](_0x471b3d[_0x3f5e15],_0x4fe5ad);}async[a0_0x4c7c55(0x60d)](_0x43c3c8,_0x3b2e35){const _0x85cd17=a0_0x4c7c55;let _0x553090=_0x3b2e35['_id'];if(_0x43c3c8['chatLog']&&_0x43c3c8['chatLog']['blockLogs']){let _0x2e34a3=_0x43c3c8['chatLog'][_0x85cd17(0x3ce)][_0x85cd17(0x720)](_0x3797c8=>String(_0x3797c8['blockId'])===String(_0x553090))[_0x85cd17(0x6dd)]();if(_0x2e34a3&&_0x2e34a3[_0x85cd17(0x546)]&&_0x3b2e35[_0x85cd17(0x48b)])return _0x43c3c8[_0x85cd17(0x2bf)]='closed',await this['saveConversationToDatabase'](_0x43c3c8),null;}if(_0x3b2e35[_0x85cd17(0x23a)]==='uazapi'&&_0x3b2e35[_0x85cd17(0x229)][_0x85cd17(0x6a3)]===_0x85cd17(0x762)&&_0x43c3c8[_0x85cd17(0x2c6)])return _0x43c3c8[_0x85cd17(0x43a)][_0x85cd17(0x5a2)]=_0x553090,await this['saveConversationToDatabase'](_0x43c3c8),null;let _0xafa018=await this[_0x85cd17(0x7ab)](_0x43c3c8);if(_0x43c3c8[_0x85cd17(0x43a)]&&_0x43c3c8[_0x85cd17(0x43a)]['blockLogs']){let _0x31f320=_0x43c3c8[_0x85cd17(0x43a)]['blockLogs'][_0x85cd17(0x720)](_0x348748=>String(_0x348748[_0x85cd17(0x455)])===String(_0x553090))[_0x85cd17(0x676)];if(_0x3b2e35['maxActives']!==void 0x0&&_0x31f320>=_0x3b2e35[_0x85cd17(0x452)]){let _0x1cd548=Date['now'](),_0x56cd8e=_0x3b2e35[_0x85cd17(0x3f5)]??0xa;isNaN(_0x56cd8e)&&(_0x56cd8e=0xa);let _0xd517b=_0x1cd548+_0x56cd8e*0x3c*0x3e8,_0x27e31e={'newStoppedUntil':_0xd517b};return this[_0x85cd17(0x66d)](_0x43c3c8,_0xd517b),this[_0x85cd17(0x775)](_0x43c3c8,_0x3b2e35,_0x27e31e,!0x0),null;}}_0xafa018&&_0xafa018['type']!==_0x85cd17(0x778)&&await this[_0x85cd17(0x4d4)](_0x43c3c8,_0xafa018),_0xafa018||await this['saveConversationToDatabase'](_0x43c3c8),_0xafa018&&_0xafa018[_0x85cd17(0x23a)]===_0x85cd17(0x778)&&(_0x43c3c8[_0x85cd17(0x43a)][_0x85cd17(0x5a2)]=_0x553090,await this[_0x85cd17(0x812)](_0x43c3c8));}async[a0_0x4c7c55(0x4d4)](_0xf25b50,_0x578605){const _0xd9626a=a0_0x4c7c55;try{let _0x494ee6=_0x578605[_0xd9626a(0x23a)];this[_0xd9626a(0x756)][_0xd9626a(0x800)](this[_0xd9626a(0x515)]+'\x20('+this[_0xd9626a(0x237)]['wuid']+_0xd9626a(0x538)+_0x494ee6);let _0x2a7e79={'uazapi':()=>this[_0xd9626a(0x530)](_0xf25b50,_0x578605),'save':()=>this['saveTextReply'](_0xf25b50,_0x578605),'stop':()=>this['stopConversation'](_0xf25b50,_0x578605),'condition':()=>this[_0xd9626a(0x525)](_0xf25b50,_0x578605),'varedit':()=>this[_0xd9626a(0x5d3)](_0xf25b50,_0x578605),'apirequest':()=>this[_0xd9626a(0x66e)](_0xf25b50,_0x578605),'goToFlow':()=>this[_0xd9626a(0x28a)](_0xf25b50,_0x578605)}[_0x494ee6];_0x2a7e79&&await _0x2a7e79();}catch(_0x22c37f){this['logger'][_0xd9626a(0x546)](this[_0xd9626a(0x515)]+'\x20('+this[_0xd9626a(0x237)]['wuid']+_0xd9626a(0x5e5)+(_0x22c37f instanceof Error?_0x22c37f[_0xd9626a(0x372)]:JSON['stringify'](_0x22c37f,null,0x2)));}}async[a0_0x4c7c55(0x28a)](_0x16d567,_0x28ac31){const _0x249328=a0_0x4c7c55;if(this[_0x249328(0x756)][_0x249328(0x800)](this[_0x249328(0x515)]+'\x20('+this[_0x249328(0x237)][_0x249328(0x650)]+_0x249328(0x318)),!_0x16d567||!_0x28ac31)return this['logger'][_0x249328(0x546)](this[_0x249328(0x515)]+'\x20('+this[_0x249328(0x237)][_0x249328(0x650)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x249328(0x775)](_0x16d567,_0x28ac31,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x249328(0x219)](_0x28ac31);let _0x3e908a=_0x28ac31[_0x249328(0x44e)];console['log']('flowname:\x20',_0x3e908a),_0x16d567=await this[_0x249328(0x5c9)](_0x3e908a,_0x16d567[_0x249328(0x7a1)],_0x16d567[_0x249328(0x43a)][_0x249328(0x80e)]),this[_0x249328(0x756)][_0x249328(0x800)](this[_0x249328(0x515)]+'\x20('+this['instance'][_0x249328(0x650)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x41bdb2=await this[_0x249328(0x7ab)](_0x16d567);_0x41bdb2&&await this[_0x249328(0x4d4)](_0x16d567,_0x41bdb2);}async[a0_0x4c7c55(0x5c9)](_0xd65062,_0x4aafb7,_0x430831){const _0x4ab78a=a0_0x4c7c55;this[_0x4ab78a(0x756)]['verbose'](this[_0x4ab78a(0x515)]+'\x20('+this[_0x4ab78a(0x237)]['wuid']+_0x4ab78a(0x50b));try{if(_0xd65062=await this['repository'][_0x4ab78a(0x4e8)][_0x4ab78a(0x6bf)]({'where':{'name':_0xd65062}},this[_0x4ab78a(0x237)][_0x4ab78a(0x650)]),!_0xd65062)return this[_0x4ab78a(0x756)][_0x4ab78a(0x546)](this[_0x4ab78a(0x515)]+'\x20('+this[_0x4ab78a(0x237)][_0x4ab78a(0x650)]+'):\x20Flow\x20no\x20encontrado'),null;let _0x1be154=require(_0x4ab78a(0x1cf))['ObjectId'],_0x9b1632=Date[_0x4ab78a(0x593)](),_0x4a6318=_0x4ab78a(0x257),_0x434643={},_0x165eed={},_0x2a178f={..._0xd65062,'chatLog':null},_0x1bbcb9={'lastReceivedMessage':_0x434643,'lastSendMessage':_0x165eed,'lastBlockId':_0x4a6318,'lastCondition':!0x0,'realVariables':_0x430831};_0x2a178f[_0x4ab78a(0x43a)]=_0x1bbcb9,_0x2a178f[_0x4ab78a(0x43a)][_0x4ab78a(0x80e)]={..._0x430831},delete _0x2a178f[_0x4ab78a(0x40d)],_0x2a178f[_0x4ab78a(0x40d)]=new _0x1be154(),_0x2a178f['lastInteraction']=_0x9b1632,_0x2a178f[_0x4ab78a(0x2bf)]=_0x4ab78a(0x4c3),_0x2a178f[_0x4ab78a(0x7a1)]=_0x4aafb7;let _0x541caa=await this[_0x4ab78a(0x409)][_0x4ab78a(0x26d)][_0x4ab78a(0x53d)](_0x2a178f['_id'],_0x2a178f,this[_0x4ab78a(0x237)]['wuid']);return this['logger'][_0x4ab78a(0x800)](this['instanceName']+'\x20('+this[_0x4ab78a(0x237)][_0x4ab78a(0x650)]+_0x4ab78a(0x632)),_0x541caa?_0x2a178f:null;}catch(_0x19c88b){throw this['logger'][_0x4ab78a(0x546)](this[_0x4ab78a(0x515)]+'\x20('+this[_0x4ab78a(0x237)][_0x4ab78a(0x650)]+_0x4ab78a(0x296)+(_0x19c88b instanceof Error?_0x19c88b['message']:JSON[_0x4ab78a(0x6c4)](_0x19c88b,null,0x2))),new m(_0x19c88b['message']);}}async[a0_0x4c7c55(0x66e)](_0x259b45,_0x4706c0){const _0x3c09e7=a0_0x4c7c55;let _0x40dfcb,_0x2f6491;try{let _0x4a9350=_0x4706c0[_0x3c09e7(0x7ff)];if(!_0x4a9350||!_0x4a9350['url']||!_0x4a9350[_0x3c09e7(0x7aa)])throw new Error(_0x3c09e7(0x487));let _0x26ee3c;([_0x3c09e7(0x28d),_0x3c09e7(0x5ab),_0x3c09e7(0x4a7)][_0x3c09e7(0x326)](_0x288831=>_0x4a9350[_0x3c09e7(0x299)][_0x3c09e7(0x606)](_0x288831))||_0x4a9350['requestFile'])&&(_0x26ee3c=_0x3c09e7(0x806));let _0xd30b07={'method':_0x4a9350['method'],'url':_0x4a9350[_0x3c09e7(0x299)],'headers':_0x4a9350['header']||{},'data':_0x4a9350[_0x3c09e7(0x2aa)]||{},..._0x26ee3c&&{'responseType':_0x26ee3c}},_0x3bfc3e=await(0x0,se['default'])(_0xd30b07),_0x1e9c22=_0x3bfc3e[_0x3c09e7(0x4ea)]['content-type'];if(_0x1e9c22&&_0x1e9c22[_0x3c09e7(0x606)](_0x3c09e7(0x643))){_0x40dfcb=_0x3bfc3e[_0x3c09e7(0x402)];let _0x460eb2=_0x259b45[_0x3c09e7(0x43a)][_0x3c09e7(0x80e)],_0x57dbea=this[_0x3c09e7(0x506)](_0x40dfcb);return Object[_0x3c09e7(0x3b8)](_0x460eb2,_0x57dbea),_0x259b45['chatLog']['realVariables']=_0x460eb2,_0x2f6491={'error':!0x1,'apiResponse':_0x40dfcb},this[_0x3c09e7(0x775)](_0x259b45,_0x4706c0,_0x2f6491),_0x40dfcb;}if(_0x1e9c22&&(_0x1e9c22[_0x3c09e7(0x606)](_0x3c09e7(0x5c0))||_0x1e9c22['includes'](_0x3c09e7(0x504))||_0x1e9c22[_0x3c09e7(0x606)](_0x3c09e7(0x3b1))||_0x1e9c22[_0x3c09e7(0x606)]('video'))){this['logger'][_0x3c09e7(0x800)](this[_0x3c09e7(0x515)]+'\x20('+this[_0x3c09e7(0x237)][_0x3c09e7(0x650)]+_0x3c09e7(0x600)+_0x1e9c22);let _0xbe0f64=(0x0,Me['v4'])(),_0x23235f='',_0xb7411d={'image/jpeg':_0x3c09e7(0x633),'image/png':_0x3c09e7(0x808),'image/gif':_0x3c09e7(0x1c5),'image/webp':_0x3c09e7(0x319),'image/svg+xml':_0x3c09e7(0x7d7),'audio/mpeg':'.mp3','audio/ogg':_0x3c09e7(0x2f2),'audio/wav':'.wav','video/mp4':_0x3c09e7(0x30a),'video/webm':_0x3c09e7(0x62f),'video/ogg':_0x3c09e7(0x4f4),'text/plain':_0x3c09e7(0x786),'application/pdf':_0x3c09e7(0x281),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3c09e7(0x5f2),'application/vnd.ms-excel':_0x3c09e7(0x6d1),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3c09e7(0x304),'application/vnd.ms-powerpoint':_0x3c09e7(0x799),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0xb7411d[_0x1e9c22]?(_0x23235f=_0xb7411d[_0x1e9c22],this[_0x3c09e7(0x756)][_0x3c09e7(0x800)](this['instanceName']+'\x20('+this['instance'][_0x3c09e7(0x650)]+_0x3c09e7(0x2d1)+_0x23235f)):(_0x23235f='.error',this[_0x3c09e7(0x756)][_0x3c09e7(0x800)](this['instanceName']+'\x20('+this[_0x3c09e7(0x237)]['wuid']+_0x3c09e7(0x7cc)+_0x23235f)),_0xbe0f64+=_0x23235f,this['logger'][_0x3c09e7(0x800)](this[_0x3c09e7(0x515)]+'\x20('+this['instance'][_0x3c09e7(0x650)]+_0x3c09e7(0x4be)+_0xbe0f64);let _0x91acff=this[_0x3c09e7(0x2fb)][_0x3c09e7(0x448)]('SERVER')[_0x3c09e7(0x2b5)];if(!_0x91acff){let _0x30f253=this[_0x3c09e7(0x2fb)]['get'](_0x3c09e7(0x54c));_0x91acff=_0x3c09e7(0x490)+(_0x30f253&&_0x30f253[_0x3c09e7(0x6b0)][_0x3c09e7(0x81e)]('/')[0x4]);}let _0x12020c=Buffer[_0x3c09e7(0x527)](_0x3bfc3e['data']);await this['saveMediaToFile'](_0x12020c,_0xbe0f64);let _0xbc6a4=_0x3c09e7(0x636)+_0xbe0f64;_0xbc6a4=''+_0x91acff+_0xbc6a4,_0x40dfcb={'fileUrl':_0xbc6a4},_0x259b45['chatLog'][_0x3c09e7(0x80e)][_0x3c09e7(0x352)]=_0xbc6a4;let _0x1161c0=_0x259b45[_0x3c09e7(0x43a)][_0x3c09e7(0x80e)],_0x1da94=this[_0x3c09e7(0x506)](_0x40dfcb);return Object['assign'](_0x1161c0,_0x1da94),_0x259b45[_0x3c09e7(0x43a)][_0x3c09e7(0x80e)]=_0x1161c0,_0x2f6491={'error':!0x1,'apiResponse':{'fileUrl':_0xbc6a4}},this['updateConversation'](_0x259b45,_0x4706c0,_0x2f6491),_0x40dfcb;}}catch(_0x3f4414){console['error'](_0x3c09e7(0x6bc),_0x3f4414),_0x3f4414[_0x3c09e7(0x728)]&&(_0x40dfcb=_0x3f4414[_0x3c09e7(0x728)][_0x3c09e7(0x402)]);let _0x34707d=_0x259b45['chatLog'][_0x3c09e7(0x80e)],_0x8061e0=this[_0x3c09e7(0x506)](_0x40dfcb);return Object[_0x3c09e7(0x3b8)](_0x34707d,_0x8061e0),_0x259b45[_0x3c09e7(0x43a)][_0x3c09e7(0x80e)]=_0x34707d,_0x2f6491={'error':!0x0,'errorLog':_0x3f4414['toString'](),'apiResponse':_0x40dfcb},this['updateConversation'](_0x259b45,_0x4706c0,_0x2f6491),{'success':!0x1};}}[a0_0x4c7c55(0x77f)](_0xbf0fa6,_0x2555f0){const _0x4aa1c7=a0_0x4c7c55;let _0x5b68de=_0x19d58f=>{let _0x2a585f=_0x19d58f['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x3d593d=parseFloat(_0x2a585f);return isNaN(_0x3d593d)?null:_0x3d593d;},_0x138fab=_0x2555f0[_0x4aa1c7(0x2b1)],_0x21bea4=_0x2555f0['secondValue'];typeof _0x138fab==_0x4aa1c7(0x6ed)&&(_0x138fab=this[_0x4aa1c7(0x7bc)](_0x138fab,_0xbf0fa6['chatLog'][_0x4aa1c7(0x80e)])??''),typeof _0x21bea4==_0x4aa1c7(0x6ed)&&(_0x21bea4=this[_0x4aa1c7(0x7bc)](_0x21bea4,_0xbf0fa6[_0x4aa1c7(0x43a)][_0x4aa1c7(0x80e)])??'');let _0x1469ba=null;if(!_0x2555f0['editOperator'])return null;switch(this['logger'][_0x4aa1c7(0x800)](this[_0x4aa1c7(0x515)]+'\x20('+this[_0x4aa1c7(0x237)][_0x4aa1c7(0x650)]+_0x4aa1c7(0x66a)+_0x138fab),this['logger'][_0x4aa1c7(0x800)](this[_0x4aa1c7(0x515)]+'\x20('+this[_0x4aa1c7(0x237)][_0x4aa1c7(0x650)]+_0x4aa1c7(0x52f)+_0x21bea4),_0x2555f0[_0x4aa1c7(0x785)]){case'+':case'-':case'*':case'/':let _0xc40f18=_0x5b68de(_0x138fab||'0'),_0x31a4ce=_0x5b68de(_0x21bea4||'0');if(_0xc40f18===null)return null;switch(_0x2555f0['editOperator']){case'+':_0x1469ba=_0xc40f18+(_0x31a4ce??0x0);break;case'-':_0x1469ba=_0xc40f18-(_0x31a4ce??0x0);break;case'*':_0x1469ba=_0xc40f18*(_0x31a4ce??0x1);break;case'/':_0x31a4ce!==0x0&&(_0x1469ba=_0xc40f18/(_0x31a4ce??0x1));break;}break;case _0x4aa1c7(0x33e):case _0x4aa1c7(0x3a7):let _0x222b2c=_0x21bea4,_0xafde51=_0x2555f0[_0x4aa1c7(0x317)];if(typeof _0xafde51==_0x4aa1c7(0x6ed)&&(_0xafde51=this[_0x4aa1c7(0x7bc)](_0xafde51,_0xbf0fa6[_0x4aa1c7(0x43a)][_0x4aa1c7(0x80e)])??''),_0x222b2c&&_0xafde51!==void 0x0){let _0x4ff62c=_0x2555f0[_0x4aa1c7(0x785)]===_0x4aa1c7(0x33e)?new RegExp(_0x222b2c[_0x4aa1c7(0x294)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4aa1c7(0x353)),'g'):new RegExp(_0x222b2c,'g');_0x1469ba=_0x138fab[_0x4aa1c7(0x294)](_0x4ff62c,_0xafde51);}else console[_0x4aa1c7(0x244)](_0x4aa1c7(0x1d4));break;case _0x4aa1c7(0x5e2):_0x1469ba=_0x21bea4;break;case _0x4aa1c7(0x3df):let _0x1b9c31=_0x138fab[_0x4aa1c7(0x52e)](new RegExp(_0x21bea4||''));_0x1469ba=_0x1b9c31?_0x1b9c31[0x0]:'';break;case _0x4aa1c7(0x70b):_0x1469ba=_0x138fab['slice'](0x0,parseInt(_0x21bea4||'0'));break;case _0x4aa1c7(0x2e8):let _0xfefdab=parseInt(_0x21bea4||'0');_0x1469ba=_0x138fab[_0x4aa1c7(0x33c)](_0x138fab[_0x4aa1c7(0x676)]-_0xfefdab);break;case _0x4aa1c7(0x20a):let _0x404e51=_0x5b68de(_0x138fab),_0x3557a1=parseInt(_0x21bea4||'0');_0x3557a1=Math[_0x4aa1c7(0x602)](_0x3557a1),_0x404e51!==null?_0x1469ba=_0x404e51[_0x4aa1c7(0x6b2)]('pt-BR',{'minimumFractionDigits':_0x3557a1,'maximumFractionDigits':_0x3557a1}):(console[_0x4aa1c7(0x244)](_0x4aa1c7(0x31c)+_0x138fab),_0x1469ba=null);break;case _0x4aa1c7(0x747):let _0x5abf0e=_0x5b68de(_0x138fab);_0x5abf0e!==null?_0x1469ba=_0x5abf0e['toLocaleString'](_0x4aa1c7(0x83d),{'style':_0x4aa1c7(0x2a5),'currency':_0x4aa1c7(0x60e)}):(console['warn'](_0x4aa1c7(0x362)+_0x138fab),_0x1469ba=null);break;case _0x4aa1c7(0x1fb):_0x1469ba=_0x138fab[_0x4aa1c7(0x71b)]();break;case'lowerCase':_0x1469ba=_0x138fab[_0x4aa1c7(0x61d)]();break;case _0x4aa1c7(0x82b):_0x1469ba=_0x138fab['split']('\x20')[_0x4aa1c7(0x4df)](_0x8d87a3=>_0x8d87a3['charAt'](0x0)[_0x4aa1c7(0x71b)]()+_0x8d87a3['slice'](0x1)[_0x4aa1c7(0x61d)]())['join']('\x20');break;case'trimmed':_0x1469ba=_0x138fab[_0x4aa1c7(0x360)]();break;default:_0x1469ba=_0x138fab;}return _0x1469ba!==null?_0x1469ba[_0x4aa1c7(0x2b4)]():null;}async[a0_0x4c7c55(0x5d3)](_0x16f140,_0x4a0f50){const _0x2dfec6=a0_0x4c7c55;try{let _0x588a8f=_0x16f140[_0x2dfec6(0x3b0)]?.['filter'](_0xaf4c0e=>_0xaf4c0e['blockId']===_0x4a0f50[_0x2dfec6(0x40d)]?.[_0x2dfec6(0x2b4)]())||[],_0x4e2a0e=_0x4a0f50['saveVariable'],_0x46a6a7=null,_0x51257a=[],_0x42b591=_0x16f140[_0x2dfec6(0x43a)][_0x2dfec6(0x80e)][_0x4e2a0e];_0x51257a[_0x2dfec6(0x56b)]('Valor\x20inicial:\x20\x22'+_0x42b591+'\x22');for(let _0x2421b0 of _0x588a8f){_0x2421b0['firstValue']=_0x42b591,_0x46a6a7=_0x2421b0['firstValue'];let _0x563c55;try{_0x563c55=this[_0x2dfec6(0x77f)](_0x16f140,_0x2421b0);}catch(_0x314775){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x314775[_0x2dfec6(0x372)]);continue;}if(_0x563c55!==null){let _0x49cc32=_0x2dfec6(0x222)+_0x2421b0['editOperator']+'\x22',_0x238d17=[_0x2dfec6(0x747),'upperCase',_0x2dfec6(0x217),_0x2dfec6(0x82b),_0x2dfec6(0x5c7)];_0x2421b0[_0x2dfec6(0x785)]===_0x2dfec6(0x33e)||_0x2421b0['editOperator']===_0x2dfec6(0x3a7)?_0x49cc32+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2421b0[_0x2dfec6(0x6a9)]+_0x2dfec6(0x78c)+_0x2421b0[_0x2dfec6(0x317)]+'\x22':!_0x238d17[_0x2dfec6(0x606)](_0x2421b0[_0x2dfec6(0x785)])&&_0x2421b0['secondValue']!==null&&_0x2421b0[_0x2dfec6(0x6a9)]!==void 0x0&&(_0x49cc32+=',\x20valor\x20passado:\x20\x22'+_0x2421b0[_0x2dfec6(0x6a9)]+'\x22'),_0x49cc32+=_0x2dfec6(0x2a4)+_0x563c55+'.',_0x51257a[_0x2dfec6(0x56b)](_0x49cc32);}_0x563c55!==null&&(_0x42b591=_0x563c55);}if(_0x16f140[_0x2dfec6(0x43a)][_0x2dfec6(0x80e)]&&_0x4a0f50['saveVariable']){_0x16f140[_0x2dfec6(0x43a)][_0x2dfec6(0x80e)][_0x4a0f50[_0x2dfec6(0x2c8)]]=_0x42b591;let _0x7401de={'variable':_0x4a0f50[_0x2dfec6(0x2c8)],'oldValue':_0x46a6a7,'newValue':_0x42b591,'moreLogs':_0x51257a};try{this['updateConversation'](_0x16f140,_0x4a0f50,_0x7401de);}catch(_0xbf3509){console[_0x2dfec6(0x546)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0xbf3509[_0x2dfec6(0x372)]);}}return _0x4e2a0e;}catch(_0x7f319a){return console[_0x2dfec6(0x546)](_0x2dfec6(0x26c)+_0x7f319a[_0x2dfec6(0x372)]),null;}}async[a0_0x4c7c55(0x525)](_0x15a639,_0x19d203){const _0x235287=a0_0x4c7c55;try{let _0x5390e6=[],_0x1b53a3=_0x15a639[_0x235287(0x4d3)][_0x235287(0x720)](_0x4214e6=>_0x4214e6[_0x235287(0x455)]===_0x19d203[_0x235287(0x40d)][_0x235287(0x2b4)]()),_0x2ebdbd=null,_0x315370=!0x1;for(let _0x554ea9 of _0x1b53a3){let _0x2454f3=this[_0x235287(0x474)](_0x15a639,_0x554ea9);_0x5390e6[_0x235287(0x56b)](_0x235287(0x465)+_0x554ea9[_0x235287(0x2b1)]+_0x235287(0x47b)+_0x554ea9[_0x235287(0x404)]+_0x235287(0x674)+_0x554ea9[_0x235287(0x6a9)]+',\x20Resultado:\x20'+_0x2454f3),_0x2ebdbd===null?_0x2ebdbd=_0x2454f3:_0x554ea9[_0x235287(0x479)]==='and'?(_0x2ebdbd=_0x2ebdbd&&_0x2454f3,_0x2454f3||(_0x315370=!0x0)):_0x554ea9[_0x235287(0x479)]==='or'&&(_0x315370||(_0x2ebdbd=_0x2ebdbd||_0x2454f3));}_0x2ebdbd===null&&(_0x2ebdbd=!0x0);let _0x38534b={'moreLogs':_0x5390e6};_0x15a639[_0x235287(0x43a)][_0x235287(0x7c6)]=_0x2ebdbd,await this[_0x235287(0x775)](_0x15a639,_0x19d203,_0x38534b);}catch(_0x44fb24){this[_0x235287(0x756)][_0x235287(0x546)](this[_0x235287(0x515)]+'\x20('+this[_0x235287(0x237)]['wuid']+_0x235287(0x69e)+(_0x44fb24 instanceof Error?_0x44fb24[_0x235287(0x372)]:JSON[_0x235287(0x6c4)](_0x44fb24,null,0x2)));}}[a0_0x4c7c55(0x474)](_0x45e4e1,_0x28f6d5){const _0x109ad4=a0_0x4c7c55;let _0x58a1b0=_0x28f6d5[_0x109ad4(0x2b1)],_0x50761e=_0x28f6d5['secondValue'];typeof _0x58a1b0==_0x109ad4(0x6ed)&&(_0x58a1b0=this[_0x109ad4(0x7bc)](_0x58a1b0,_0x45e4e1[_0x109ad4(0x43a)][_0x109ad4(0x80e)])??''),typeof _0x50761e==_0x109ad4(0x6ed)&&(_0x50761e=this[_0x109ad4(0x7bc)](_0x50761e,_0x45e4e1[_0x109ad4(0x43a)][_0x109ad4(0x80e)])??'');try{switch(_0x28f6d5[_0x109ad4(0x404)]){case'equal':return _0x58a1b0===_0x50761e;case'notEqual':return _0x58a1b0!==_0x50761e;case _0x109ad4(0x74f):return this['contains'](_0x58a1b0,_0x50761e);case'notContains':return!this[_0x109ad4(0x74f)](_0x58a1b0,_0x50761e);case'greater':return parseFloat(_0x58a1b0)>parseFloat(_0x50761e);case _0x109ad4(0x787):return parseFloat(_0x58a1b0)<parseFloat(_0x50761e);case'notEmpty':return _0x58a1b0!=='';case _0x109ad4(0x52a):return _0x58a1b0==='';case _0x109ad4(0x6ab):return new RegExp(_0x50761e)[_0x109ad4(0x343)](_0x58a1b0);case _0x109ad4(0x3ec):return!new RegExp(_0x50761e)['test'](_0x58a1b0);default:return!0x1;}}catch(_0x4f0728){return console[_0x109ad4(0x546)](_0x109ad4(0x70e)+_0x4f0728),!0x1;}}[a0_0x4c7c55(0x74f)](_0xad38fe,_0x1bcf8f){const _0x57fd7a=a0_0x4c7c55;if(_0xad38fe===_0x1bcf8f&&/^\d+$/[_0x57fd7a(0x343)](_0xad38fe))return!0x0;if(this[_0x57fd7a(0x803)](_0xad38fe)&&/^\d+$/[_0x57fd7a(0x343)](_0x1bcf8f)){let _0x470080=_0xad38fe['split'](',')[_0x57fd7a(0x4df)](_0x1510a5=>parseInt(_0x1510a5[_0x57fd7a(0x360)]())),_0x39d87a=parseInt(_0x1bcf8f);return _0x470080[_0x57fd7a(0x606)](_0x39d87a);}return _0xad38fe[_0x57fd7a(0x606)](_0x1bcf8f);}[a0_0x4c7c55(0x803)](_0x13765b){const _0x1c4cde=a0_0x4c7c55;return/^\d+(,\d+)*$/[_0x1c4cde(0x343)](_0x13765b);}[a0_0x4c7c55(0x757)](_0x2644b6){const _0x2bd4a0=a0_0x4c7c55;let _0x5df0c8=!0x0,_0x26410a=null;for(let _0x1d0855 of _0x2644b6){let _0x422b85=this[_0x2bd4a0(0x545)](_0x1d0855);if(_0x26410a==='or'&&_0x422b85){_0x5df0c8=!0x0;break;}if(_0x26410a===_0x2bd4a0(0x4ad)&&!_0x422b85){_0x5df0c8=!0x1;break;}_0x26410a=_0x1d0855[_0x2bd4a0(0x479)];}return _0x5df0c8;}['evaluateConditionTest'](_0x5a84ce){const _0x3dc961=a0_0x4c7c55;let _0x5d1416=_0x5a84ce[_0x3dc961(0x2b1)],_0x4cf771=_0x5a84ce[_0x3dc961(0x6a9)];try{switch(_0x5a84ce['expression']){case _0x3dc961(0x3c6):return String(_0x5d1416)===String(_0x4cf771);case _0x3dc961(0x242):return String(_0x5d1416)!==String(_0x4cf771);case'contains':return String(_0x5d1416)['includes'](String(_0x4cf771));case _0x3dc961(0x37d):return!String(_0x5d1416)[_0x3dc961(0x606)](String(_0x4cf771));case _0x3dc961(0x839):return parseFloat(String(_0x5d1416))>parseFloat(String(_0x4cf771));case _0x3dc961(0x787):return parseFloat(String(_0x5d1416))<parseFloat(String(_0x4cf771));case _0x3dc961(0x746):return String(_0x5d1416)!=='';case _0x3dc961(0x52a):return String(_0x5d1416)==='';case _0x3dc961(0x6ab):return new RegExp(String(_0x4cf771))[_0x3dc961(0x343)](String(_0x5d1416));case _0x3dc961(0x3ec):return!new RegExp(String(_0x4cf771))['test'](String(_0x5d1416));default:return!0x1;}}catch(_0x35530){return console[_0x3dc961(0x546)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x35530),!0x1;}}async[a0_0x4c7c55(0x3c2)](_0x277143,_0x28cb47){const _0x370934=a0_0x4c7c55;if(this[_0x370934(0x756)]['verbose'](this[_0x370934(0x515)]+'\x20('+this[_0x370934(0x237)][_0x370934(0x650)]+_0x370934(0x201)),!_0x277143||!_0x28cb47)return this[_0x370934(0x756)][_0x370934(0x546)](this[_0x370934(0x515)]+'\x20('+this[_0x370934(0x237)][_0x370934(0x650)]+_0x370934(0x536)),null;let _0x285b1e=_0x28cb47['saveVariable'],_0x4e1ed2=_0x277143[_0x370934(0x43a)]['lastReceivedMessage'][_0x370934(0x55e)]||_0x277143[_0x370934(0x43a)][_0x370934(0x5a3)]['caption']||_0x277143['chatLog']['lastReceivedMessage'][_0x370934(0x2c5)];try{_0x277143['chatLog'][_0x370934(0x80e)]||(_0x277143[_0x370934(0x43a)][_0x370934(0x80e)]={});let _0x52ebe9=_0x277143['chatLog'][_0x370934(0x80e)][_0x285b1e];_0x277143[_0x370934(0x43a)]['realVariables'][_0x285b1e]=_0x4e1ed2;let _0x11e2b7={'variable':_0x285b1e,'oldValue':_0x52ebe9,'newValue':_0x4e1ed2};this['updateConversation'](_0x277143,_0x28cb47,_0x11e2b7),this[_0x370934(0x756)]['verbose'](this[_0x370934(0x515)]+'\x20('+this[_0x370934(0x237)][_0x370934(0x650)]+_0x370934(0x462));}catch(_0x3daf10){let _0x4aaaab={'error':!0x0,'errorLog':_0x3daf10[_0x370934(0x2b4)]()};return this[_0x370934(0x775)](_0x277143,_0x28cb47,_0x4aaaab),this[_0x370934(0x756)][_0x370934(0x546)](this[_0x370934(0x515)]+'\x20('+this[_0x370934(0x237)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualizao:\x20'+(_0x3daf10 instanceof Error?_0x3daf10[_0x370934(0x372)]:JSON[_0x370934(0x6c4)](_0x3daf10,null,0x2))),null;}}async[a0_0x4c7c55(0x56f)](_0x6f8f5d,_0x10e595){const _0x20b9df=a0_0x4c7c55;if(this[_0x20b9df(0x756)][_0x20b9df(0x800)](this['instanceName']+'\x20('+this[_0x20b9df(0x237)][_0x20b9df(0x650)]+'):\x20Entrou\x20na\x20funo\x20stop'),!_0x6f8f5d||!_0x10e595)return this[_0x20b9df(0x756)][_0x20b9df(0x546)](this[_0x20b9df(0x515)]+'\x20('+this['instance']['wuid']+_0x20b9df(0x536)),null;let _0x274732=Date[_0x20b9df(0x593)](),_0x33f91c=parseInt(_0x10e595[_0x20b9df(0x3a5)],0xa);if(isNaN(_0x33f91c))return this[_0x20b9df(0x756)][_0x20b9df(0x546)](this[_0x20b9df(0x515)]+'\x20('+this[_0x20b9df(0x237)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero'),null;let _0x22ae31={'newStoppedUntil':_0x274732+_0x33f91c*0x3c*0x3e8};return await this[_0x20b9df(0x775)](_0x6f8f5d,_0x10e595,_0x22ae31,!0x0),null;}async['processUazapi'](_0x3d0324,_0x2f367f){const _0x230c93=a0_0x4c7c55;try{switch(_0x2f367f['uazapi'][_0x230c93(0x6a3)]){case _0x230c93(0x2d7):await this[_0x230c93(0x5ff)](_0x3d0324,_0x2f367f);break;case _0x230c93(0x475):await this['uazapiSendMedia'](_0x3d0324,_0x2f367f);break;case _0x230c93(0x4db):await this['uazapiSendLocation'](_0x3d0324,_0x2f367f);break;case'sendAudio':await this[_0x230c93(0x384)](_0x3d0324,_0x2f367f);break;case'sendContact':await this[_0x230c93(0x3ef)](_0x3d0324,_0x2f367f);break;case _0x230c93(0x762):await this[_0x230c93(0x3f8)](_0x3d0324,_0x2f367f);break;case'sendMenu':await this[_0x230c93(0x3f8)](_0x3d0324,_0x2f367f);break;case _0x230c93(0x698):await this['uazapiDeleteMessage'](_0x3d0324,_0x2f367f);break;default:this[_0x230c93(0x756)][_0x230c93(0x546)](this[_0x230c93(0x515)]+'\x20('+this[_0x230c93(0x237)][_0x230c93(0x650)]+_0x230c93(0x272)+_0x2f367f[_0x230c93(0x229)][_0x230c93(0x6a3)]);}}catch(_0x269701){this[_0x230c93(0x756)][_0x230c93(0x546)](this[_0x230c93(0x515)]+'\x20('+this['instance'][_0x230c93(0x650)]+_0x230c93(0x210)+(_0x269701 instanceof Error?_0x269701[_0x230c93(0x372)]:JSON['stringify'](_0x269701,null,0x2)));}}async[a0_0x4c7c55(0x775)](_0x29b160,_0x4778bf,_0xa8a8e,_0x1ad98d=!0x1,_0x4614d6=!0x1){const _0x25edda=a0_0x4c7c55;_0x29b160[_0x25edda(0x43a)][_0x25edda(0x3ce)]||(_0x29b160['chatLog'][_0x25edda(0x3ce)]=[]);let _0x4553e8=(_0x29b160['chatLog'][_0x25edda(0x3ce)]?.['length']??0x0)+0x1,_0x19eed6=_0x29b160[_0x25edda(0x43a)][_0x25edda(0x3ce)][_0x25edda(0x720)](_0x2b78e3=>String(_0x2b78e3[_0x25edda(0x455)])===String(_0x4778bf[_0x25edda(0x40d)]))[_0x25edda(0x676)]+0x1,_0x1dcd78=_0xa8a8e?.[_0x25edda(0x29f)]??Date['now'](),_0x2f03d7=_0xa8a8e?.[_0x25edda(0x546)]?_0xa8a8e[_0x25edda(0x6d0)]??_0xa8a8e[_0x25edda(0x546)][_0x25edda(0x2b4)]():void 0x0,_0x2705cf={'onTime':_0x1dcd78,'blockId':_0x4778bf[_0x25edda(0x40d)],'order':_0x4553e8,'activatedCount':_0x19eed6,'error':_0xa8a8e?.[_0x25edda(0x546)]??!0x1,'messageId':_0xa8a8e?.[_0x25edda(0x388)],'apiResponse':_0xa8a8e?.['apiResponse'],'apiResponseString':_0xa8a8e?.['apiResponse']?JSON[_0x25edda(0x6c4)](_0xa8a8e?.[_0x25edda(0x24d)]):void 0x0,'variable':_0xa8a8e?.[_0x25edda(0x63d)],'oldValue':_0xa8a8e?.['oldValue'],'newValue':_0xa8a8e?.[_0x25edda(0x788)],'newStoppedUntil':_0xa8a8e?.['newStoppedUntil'],'moreLogs':_0xa8a8e?.[_0x25edda(0x5e6)],'errorLog':_0x2f03d7};if(_0xa8a8e[_0x25edda(0x5e6)]&&_0xa8a8e[_0x25edda(0x5e6)][_0x25edda(0x676)]>0x0){let _0x14007a=_0xa8a8e['moreLogs']['map'](_0xa79fa1=>this['replaceVariablesLogs'](_0xa79fa1,_0x29b160[_0x25edda(0x43a)][_0x25edda(0x80e)]));_0x2705cf[_0x25edda(0x5e6)]=_0x14007a;}_0x29b160[_0x25edda(0x43a)][_0x25edda(0x80e)]||(_0x29b160[_0x25edda(0x43a)][_0x25edda(0x80e)]={}),_0x29b160[_0x25edda(0x43a)]['realVariables'][_0x25edda(0x467)]=String(_0x19eed6),_0x29b160[_0x25edda(0x43a)][_0x25edda(0x80e)][_0x25edda(0x7c3)]=String(_0xa8a8e[_0x25edda(0x546)]??!0x1),_0x29b160[_0x25edda(0x43a)]['blockLogs'][_0x25edda(0x56b)](_0x2705cf),_0x29b160[_0x25edda(0x43a)][_0x25edda(0x5a2)]=_0x4778bf[_0x25edda(0x40d)][_0x25edda(0x2b4)](),_0x29b160['chatLog'][_0x25edda(0x4d5)]&&(_0x29b160['chatLog'][_0x25edda(0x4d5)]=_0x29b160[_0x25edda(0x43a)][_0x25edda(0x4d5)]),_0x29b160[_0x25edda(0x43a)][_0x25edda(0x5a3)]&&(_0x29b160['chatLog']['lastReceivedMessage']=_0x29b160[_0x25edda(0x43a)]['lastReceivedMessage']),_0x29b160[_0x25edda(0x43a)][_0x25edda(0x7c6)]&&(_0x29b160[_0x25edda(0x43a)][_0x25edda(0x7c6)]=_0x29b160[_0x25edda(0x43a)][_0x25edda(0x7c6)]),_0x4614d6&&(_0x29b160['status']=_0x25edda(0x618)),_0x1ad98d?this[_0x25edda(0x812)](_0x29b160):this[_0x25edda(0x60d)](_0x29b160,_0x4778bf);}[a0_0x4c7c55(0x358)](_0x833d26,_0x9b5840){const _0x385183=a0_0x4c7c55;return _0x833d26[_0x385183(0x294)](/\{\{([^}]+)\}\}/g,(_0x4a636c,_0x35f403)=>_0x9b5840[_0x35f403]?'{{'+_0x35f403+'}}\x20->\x20\x22'+_0x9b5840[_0x35f403]+'\x22':'{{'+_0x35f403+_0x385183(0x68d));}async[a0_0x4c7c55(0x812)](_0x40f5de){const _0x12a2da=a0_0x4c7c55;try{let _0x21db1a=Object[_0x12a2da(0x48c)](_0x40f5de['chatLog'][_0x12a2da(0x80e)])['map'](([_0x247c7c,_0x318034])=>({'name':_0x247c7c,'value':_0x318034})),_0x25f54d={'status':_0x40f5de[_0x12a2da(0x2bf)],'blocks':_0x40f5de['blocks'],'waitingMenu_id':_0x40f5de[_0x12a2da(0x2c6)],'waitingMenu_text':_0x40f5de[_0x12a2da(0x36d)],'waitingMenu_replyOptions':_0x40f5de['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x40f5de['chatLog'][_0x12a2da(0x5a2)],'lastSendMessage':_0x40f5de['chatLog'][_0x12a2da(0x4d5)],'lastReceivedMessage':_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x5a3)],'lastCondition':_0x40f5de[_0x12a2da(0x43a)]['lastCondition'],'chatVariables':_0x21db1a,'realVariables':_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x80e)],'blockLogs':_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x3ce)]}},_0x23dcf3=await this[_0x12a2da(0x409)]['flowConversation'][_0x12a2da(0x53d)](_0x40f5de[_0x12a2da(0x40d)],_0x25f54d,this[_0x12a2da(0x237)][_0x12a2da(0x650)]);if(_0x23dcf3){this[_0x12a2da(0x756)][_0x12a2da(0x800)](this[_0x12a2da(0x515)]+'\x20('+this[_0x12a2da(0x237)][_0x12a2da(0x650)]+_0x12a2da(0x7e7)+_0x23dcf3['_id']);try{let _0xea488d=[_0x12a2da(0x483),_0x12a2da(0x784),_0x12a2da(0x701),_0x12a2da(0x843),_0x12a2da(0x2bf),_0x12a2da(0x252),_0x12a2da(0x405),_0x12a2da(0x2df),_0x12a2da(0x67e)];if(!this[_0x12a2da(0x53f)]&&(await this[_0x12a2da(0x715)](),!this[_0x12a2da(0x53f)]))throw new Error(_0x12a2da(0x424));let _0x2ff30a=this['AutomateSystem']?.[_0x12a2da(0x278)]['map'](_0x102245=>_0x102245['name']),_0x234cdd={};Object['entries'](_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x80e)])[_0x12a2da(0x559)](([_0x1fbcf5,_0x4ecc91])=>{const _0x351e62=_0x12a2da;_0xea488d[_0x351e62(0x606)](_0x1fbcf5)&&(_0x1fbcf5===_0x351e62(0x2df)&&typeof _0x4ecc91=='string'?_0x234cdd[_0x1fbcf5]=_0x4ecc91[_0x351e62(0x81e)](',')[_0x351e62(0x4df)](_0x17fd3b=>_0x17fd3b[_0x351e62(0x360)]())[_0x351e62(0x720)](_0x2af736=>_0x2af736!==''):_0x1fbcf5===_0x351e62(0x67e)&&typeof _0x4ecc91=='string'?_0x234cdd[_0x1fbcf5]=_0x4ecc91[_0x351e62(0x81e)](',')[_0x351e62(0x4df)](_0x36f740=>_0x36f740[_0x351e62(0x360)]())[_0x351e62(0x720)](_0x19a83c=>_0x19a83c!==''):_0x234cdd[_0x1fbcf5]=_0x4ecc91);});let _0x34a626=_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x3ce)][_0x40f5de[_0x12a2da(0x43a)][_0x12a2da(0x3ce)]['length']-0x1];if(_0x34a626){let _0x4eca80=_0x34a626[_0x12a2da(0x844)];_0x4eca80!==void 0x0&&(_0x234cdd['desativadoFluxoAte']=_0x4eca80[_0x12a2da(0x2b4)]());}let _0x1c4843=_0x21db1a[_0x12a2da(0x720)](_0x588ed2=>_0x2ff30a[_0x12a2da(0x606)](_0x588ed2[_0x12a2da(0x6ca)]));this[_0x12a2da(0x756)][_0x12a2da(0x800)](this[_0x12a2da(0x515)]+'\x20('+this[_0x12a2da(0x237)][_0x12a2da(0x650)]+_0x12a2da(0x2fe)),this[_0x12a2da(0x756)]['verbose'](_0x234cdd),this[_0x12a2da(0x756)]['verbose'](this[_0x12a2da(0x515)]+'\x20('+this[_0x12a2da(0x237)][_0x12a2da(0x650)]+_0x12a2da(0x30c)),this[_0x12a2da(0x756)][_0x12a2da(0x800)](_0x1c4843);let _0x53dc16=_0x1c4843[_0x12a2da(0x4df)](_0x132a9d=>{const _0x5ec84c=_0x12a2da;let _0x3a1dc6=this[_0x5ec84c(0x53f)]?.[_0x5ec84c(0x278)][_0x5ec84c(0x557)](_0x3df092=>_0x3df092['name']===_0x132a9d[_0x5ec84c(0x6ca)]);if(!_0x3a1dc6)throw new Error(_0x5ec84c(0x3f2)+_0x132a9d[_0x5ec84c(0x6ca)]);return{'_id':_0x3a1dc6[_0x5ec84c(0x40d)],'value':_0x132a9d['value']};});this[_0x12a2da(0x756)]['verbose'](this[_0x12a2da(0x515)]+'\x20('+this[_0x12a2da(0x237)][_0x12a2da(0x650)]+_0x12a2da(0x1d6)),this[_0x12a2da(0x756)][_0x12a2da(0x800)](_0x53dc16),await this['saveChatVariables'](_0x40f5de[_0x12a2da(0x7a1)],_0x234cdd,_0x53dc16);}catch(_0x1d14e9){this[_0x12a2da(0x756)][_0x12a2da(0x546)](this['instanceName']+'\x20('+this[_0x12a2da(0x237)]['wuid']+_0x12a2da(0x672)+(_0x1d14e9 instanceof Error?_0x1d14e9['message']:JSON[_0x12a2da(0x6c4)](_0x1d14e9,null,0x2)));}}else this[_0x12a2da(0x756)][_0x12a2da(0x546)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x12a2da(0x573));}catch(_0x2e39b0){this[_0x12a2da(0x756)][_0x12a2da(0x546)](this['instanceName']+'\x20('+this['instance'][_0x12a2da(0x650)]+_0x12a2da(0x583)+(_0x2e39b0 instanceof Error?_0x2e39b0[_0x12a2da(0x372)]:JSON[_0x12a2da(0x6c4)](_0x2e39b0,null,0x2)));}}async[a0_0x4c7c55(0x207)](_0x3d162c,_0xab1786,_0x3d4803){const _0x3396c0=a0_0x4c7c55;try{let _0x33fd40={'leadInfo.leadnome':_0xab1786['nome'],'leadInfo.nomecompleto':_0xab1786['nomecompleto'],'leadInfo.email':_0xab1786[_0x3396c0(0x701)],'leadInfo.cpf':_0xab1786[_0x3396c0(0x843)],'leadInfo.status':_0xab1786['status'],'leadInfo.notas':_0xab1786[_0x3396c0(0x252)],'leadInfo.responsavelid':_0xab1786[_0x3396c0(0x405)],'leadInfo.tags':_0xab1786[_0x3396c0(0x2df)],'leadInfo.etiquetas':_0xab1786[_0x3396c0(0x67e)],'leadInfo.customFields':_0x3d4803},_0x3548c1=await this[_0x3396c0(0x409)][_0x3396c0(0x4a2)]['findOne']({'where':{'_id':_0x3d162c}},this[_0x3396c0(0x237)][_0x3396c0(0x650)]),_0x41fcbb=new Set(_0x3548c1[_0x3396c0(0x7d2)][_0x3396c0(0x67e)]||[]),_0x356fa7=new Set(_0xab1786['etiquetas']||[]),_0x23aead=await this[_0x3396c0(0x409)][_0x3396c0(0x671)][_0x3396c0(0x557)]({'where':{}},this['instance']['wuid']),_0x280904=new Set(_0x23aead[_0x3396c0(0x4df)](_0x5ad910=>_0x5ad910[_0x3396c0(0x40d)])),_0x15935d=[..._0x356fa7][_0x3396c0(0x720)](_0x3b280b=>!_0x41fcbb[_0x3396c0(0x42b)](_0x3b280b)&&_0x280904[_0x3396c0(0x42b)](_0x3b280b)),_0x486f71=[..._0x41fcbb][_0x3396c0(0x720)](_0x1a1c7c=>!_0x356fa7[_0x3396c0(0x42b)](_0x1a1c7c));for(let _0x3f9c9a of _0x15935d)await this[_0x3396c0(0x6ba)](_0x3f9c9a,_0x3548c1[_0x3396c0(0x40d)]),_0x41fcbb[_0x3396c0(0x512)](_0x3f9c9a);for(let _0xa0ec of _0x486f71)await this['RemoveChatLabel'](_0xa0ec,_0x3548c1['_id']),_0x41fcbb[_0x3396c0(0x270)](_0xa0ec);if('desativadoFluxoAte'in _0xab1786){let _0x384678=_0xab1786['desativadoFluxoAte'];_0x33fd40[_0x3396c0(0x818)]=_0x384678?Number(_0x384678):null;}let _0x574413=await this[_0x3396c0(0x409)][_0x3396c0(0x4a2)]['updateOne']({'where':{'_id':_0x3d162c}},_0x33fd40,this['instance']['wuid']);_0x574413?(this[_0x3396c0(0x756)][_0x3396c0(0x800)](this[_0x3396c0(0x515)]+'\x20('+this['instance'][_0x3396c0(0x650)]+_0x3396c0(0x35a)+_0x574413[_0x3396c0(0x40d)]),J(this['instanceName'],_0x3396c0(0x4cc),{'chat':_0x574413})):this['logger'][_0x3396c0(0x546)](this[_0x3396c0(0x515)]+'\x20('+this['instance'][_0x3396c0(0x650)]+_0x3396c0(0x523));}catch(_0xb72949){this[_0x3396c0(0x756)][_0x3396c0(0x546)](this[_0x3396c0(0x515)]+'\x20('+this[_0x3396c0(0x237)][_0x3396c0(0x650)]+_0x3396c0(0x65d)+(_0xb72949 instanceof Error?_0xb72949[_0x3396c0(0x372)]:JSON[_0x3396c0(0x6c4)](_0xb72949,null,0x2)));}}async['updateStopChat'](_0x1cbb1a,_0x328c0c){const _0x48173b=a0_0x4c7c55;this[_0x48173b(0x756)][_0x48173b(0x800)](this[_0x48173b(0x515)]+'\x20('+this[_0x48173b(0x237)]['wuid']+_0x48173b(0x434)+_0x328c0c);try{let _0xab5ff6=await this[_0x48173b(0x409)][_0x48173b(0x4a2)][_0x48173b(0x53d)]({'where':{'_id':_0x1cbb1a['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x328c0c},this[_0x48173b(0x237)][_0x48173b(0x650)]);this[_0x48173b(0x756)]['verbose'](this[_0x48173b(0x515)]+'\x20('+this[_0x48173b(0x237)][_0x48173b(0x650)]+_0x48173b(0x7b8)+_0x1cbb1a[_0x48173b(0x40d)]),this['logger'][_0x48173b(0x800)](this[_0x48173b(0x515)]+'\x20('+this['instance']['wuid']+_0x48173b(0x434)+JSON[_0x48173b(0x6c4)](_0xab5ff6,null,0x2)),_0xab5ff6&&J(this[_0x48173b(0x515)],_0x48173b(0x4cc),{'chat':_0xab5ff6});}catch(_0x5d7d91){this[_0x48173b(0x756)][_0x48173b(0x546)](this[_0x48173b(0x515)]+'\x20('+this[_0x48173b(0x237)][_0x48173b(0x650)]+_0x48173b(0x6e6)+(_0x5d7d91 instanceof Error?_0x5d7d91[_0x48173b(0x372)]:JSON[_0x48173b(0x6c4)](_0x5d7d91,null,0x2)));}}async[a0_0x4c7c55(0x7ca)](_0x34bedf){const _0x24333a=a0_0x4c7c55;try{this[_0x24333a(0x756)][_0x24333a(0x800)](this[_0x24333a(0x515)]+'\x20('+this[_0x24333a(0x237)]['wuid']+_0x24333a(0x727));let _0x4ceda8=_0x34bedf[_0x24333a(0x294)](/\D/g,''),_0x125468=await this[_0x24333a(0x409)][_0x24333a(0x4e8)][_0x24333a(0x6bf)]({'where':{'testingWith':_0x4ceda8}},this[_0x24333a(0x237)][_0x24333a(0x650)]);return _0x125468||(this[_0x24333a(0x756)][_0x24333a(0x800)](this[_0x24333a(0x515)]+'\x20('+this[_0x24333a(0x237)][_0x24333a(0x650)]+_0x24333a(0x773)),_0x125468=await this[_0x24333a(0x409)][_0x24333a(0x4e8)]['findOne']({'where':{'default':!0x0}},this[_0x24333a(0x237)][_0x24333a(0x650)])),_0x125468||(this[_0x24333a(0x756)]['verbose'](this[_0x24333a(0x515)]+'\x20('+this[_0x24333a(0x237)]['wuid']+_0x24333a(0x212)),null);}catch(_0x143eeb){return this['logger'][_0x24333a(0x546)](this[_0x24333a(0x515)]+'\x20('+this[_0x24333a(0x237)][_0x24333a(0x650)]+_0x24333a(0x5af)+(_0x143eeb instanceof Error?_0x143eeb['message']:JSON['stringify'](_0x143eeb,null,0x2))),null;}}async[a0_0x4c7c55(0x6c9)](_0x1aff3c,_0x52ad01){const _0x47d991=a0_0x4c7c55;try{let _0x3d0f56=!!_0x52ad01[_0x47d991(0x2c5)],_0x528c2f=_0x52ad01[_0x47d991(0x1fd)],_0x652e38=null;if(this['logger'][_0x47d991(0x800)](this['instanceName']+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+'):\x20isVote:\x20'+_0x3d0f56+'\x20quoted:\x20'+_0x528c2f),_0x3d0f56){this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x16a65d={'where':{'remoteJid':_0x1aff3c,'waitingMenu_id':_0x528c2f}};if(_0x652e38=await this['repository']['flowConversation']['findOne'](_0x16a65d,this[_0x47d991(0x237)]['wuid']),!_0x652e38)return this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x1e3)),null;let _0x2f55a4=Date['now'](),_0x1ce76e=_0x652e38?.[_0x47d991(0x629)]||0x0,_0x46a3ff=_0x2f55a4-_0x1ce76e*0x3c*0x3e8;if(_0x652e38[_0x47d991(0x459)]<_0x46a3ff){this[_0x47d991(0x756)][_0x47d991(0x800)](this['instanceName']+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x62d));let _0xff3147={'number':_0x652e38[_0x47d991(0x7a1)],'options':{'delay':0x0},'textMessage':{'text':_0x652e38[_0x47d991(0x614)]}};await this[_0x47d991(0x2d4)](_0xff3147);let _0x3b8602={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x47d991(0x409)][_0x47d991(0x26d)][_0x47d991(0x53d)](_0x652e38['_id'],_0x3b8602,this[_0x47d991(0x237)][_0x47d991(0x650)]),null;}return _0x652e38[_0x47d991(0x459)]=Date[_0x47d991(0x593)](),_0x652e38[_0x47d991(0x43a)]['lastReceivedMessage']=_0x52ad01,_0x652e38;}else{this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x535)+this['instance'][_0x47d991(0x650)]+_0x47d991(0x34d)),this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this['instance']['wuid']+_0x47d991(0x2da));let _0x1cfdc6={'where':{'remoteJid':_0x1aff3c,'status':'open'}};if(_0x652e38=await this['repository'][_0x47d991(0x26d)][_0x47d991(0x6bf)](_0x1cfdc6,this[_0x47d991(0x237)][_0x47d991(0x650)]),!_0x652e38){let _0x46aa5c=await this[_0x47d991(0x7ca)](_0x1aff3c);if(_0x46aa5c&&(_0x652e38=await this[_0x47d991(0x24c)](_0x46aa5c,_0x52ad01[_0x47d991(0x399)],_0x52ad01)),!_0x652e38)return null;}let _0x36aa6d=Date[_0x47d991(0x593)](),_0x40ffed=_0x652e38?.[_0x47d991(0x629)]||0x0,_0x14ca88=_0x36aa6d-_0x40ffed*0x3c*0x3e8;if(this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x613)+_0x36aa6d+_0x47d991(0x284)+_0x40ffed+_0x47d991(0x356)+_0x14ca88),this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x719)),this[_0x47d991(0x756)][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x5b1)+_0x652e38['lastInteraction']),this[_0x47d991(0x756)]['verbose'](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)][_0x47d991(0x650)]+_0x47d991(0x7b1)+_0x14ca88),_0x652e38[_0x47d991(0x459)]<_0x14ca88){this['logger'][_0x47d991(0x800)](this[_0x47d991(0x515)]+'\x20('+this['instance'][_0x47d991(0x650)]+_0x47d991(0x7e3));let _0x10a9fd=await this['findFlow'](_0x1aff3c);if(_0x10a9fd===null)return null;_0x652e38&&await this['repository'][_0x47d991(0x26d)]['updateOne'](_0x652e38[_0x47d991(0x40d)],{'status':'closed'},this['instance']['wuid']),_0x652e38=await this[_0x47d991(0x24c)](_0x10a9fd,_0x52ad01[_0x47d991(0x399)],_0x52ad01);}return _0x652e38[_0x47d991(0x459)]=_0x36aa6d,_0x652e38[_0x47d991(0x43a)][_0x47d991(0x5a3)]=_0x52ad01,_0x652e38;}}catch(_0xa8037c){return this[_0x47d991(0x756)]['error'](this[_0x47d991(0x515)]+'\x20('+this[_0x47d991(0x237)]['wuid']+_0x47d991(0x36e)+(_0xa8037c instanceof Error?_0xa8037c['message']:JSON['stringify'](_0xa8037c,null,0x2))),null;}}async[a0_0x4c7c55(0x24c)](_0x100a07,_0x4836da,_0x1791f5){const _0x86a928=a0_0x4c7c55;this[_0x86a928(0x756)][_0x86a928(0x800)](this['instanceName']+'\x20('+this['instance'][_0x86a928(0x650)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x27be84=require(_0x86a928(0x1cf))[_0x86a928(0x4fc)],_0x1a2da8=Date[_0x86a928(0x593)](),_0x275fac=_0x86a928(0x257),_0x16964c=_0x4836da[_0x86a928(0x1f8)]?null:_0x1791f5,_0x541ffe=_0x4836da[_0x86a928(0x1f8)]?_0x1791f5:null,_0xba2710=_0x4836da[_0x86a928(0x7a1)];await this[_0x86a928(0x32e)](_0xba2710);let _0x3fe601={..._0x100a07,'chatLog':null},_0x57ec9a=await this['variablesToObject'](_0x3fe601['variables']),_0x1023c7=await this[_0x86a928(0x72d)](_0xba2710),_0x874a0e={..._0x57ec9a,..._0x1023c7,'_remoteJid':_0xba2710},_0x2931b3={'lastReceivedMessage':_0x16964c,'lastSendMessage':_0x541ffe,'lastBlockId':_0x275fac,'lastCondition':!0x0,'realVariables':_0x874a0e};_0x3fe601[_0x86a928(0x43a)]=_0x2931b3,delete _0x3fe601[_0x86a928(0x40d)],_0x3fe601[_0x86a928(0x40d)]=new _0x27be84(),_0x3fe601[_0x86a928(0x459)]=_0x1a2da8,_0x3fe601[_0x86a928(0x2bf)]=_0x86a928(0x4c3),_0x3fe601[_0x86a928(0x7a1)]=_0xba2710;let _0x2cad65=await this[_0x86a928(0x409)][_0x86a928(0x26d)][_0x86a928(0x53d)](_0x3fe601[_0x86a928(0x40d)],_0x3fe601,this[_0x86a928(0x237)][_0x86a928(0x650)]);return this[_0x86a928(0x756)][_0x86a928(0x800)](this[_0x86a928(0x515)]+'\x20('+this['instance'][_0x86a928(0x650)]+_0x86a928(0x632)),_0x2cad65?_0x3fe601:null;}catch(_0x68f7cf){return this[_0x86a928(0x756)][_0x86a928(0x546)](this[_0x86a928(0x515)]+'\x20('+this[_0x86a928(0x237)][_0x86a928(0x650)]+_0x86a928(0x296)+(_0x68f7cf instanceof Error?_0x68f7cf[_0x86a928(0x372)]:JSON[_0x86a928(0x6c4)](_0x68f7cf,null,0x2))),_0x68f7cf;}}async['uazapiSendText'](_0x577e8e,_0x31c587){const _0x221cd3=a0_0x4c7c55;let _0x95c14c=_0x577e8e[_0x221cd3(0x7a1)];_0x31c587['uazapi'][_0x221cd3(0x7a1)]&&_0x31c587[_0x221cd3(0x229)][_0x221cd3(0x7a1)][_0x221cd3(0x360)]()!==''&&(_0x95c14c=_0x31c587[_0x221cd3(0x229)][_0x221cd3(0x7a1)]['trim']()),this[_0x221cd3(0x756)][_0x221cd3(0x800)](this['instanceName']+'\x20('+this[_0x221cd3(0x237)][_0x221cd3(0x650)]+_0x221cd3(0x497));let _0xf8a39c={'number':_0x95c14c,'options':{'delay':_0x31c587[_0x221cd3(0x229)]['delay']},'textMessage':{'text':_0x31c587[_0x221cd3(0x229)][_0x221cd3(0x55e)]}};try{let _0x128972=await this[_0x221cd3(0x2d4)](_0xf8a39c);if(_0x128972){let _0x32c601={'_id':_0x128972['key']['id'],'_fromMe':_0x128972[_0x221cd3(0x399)][_0x221cd3(0x1f8)],'_remoteJid':_0x128972[_0x221cd3(0x399)][_0x221cd3(0x7a1)]};_0x577e8e[_0x221cd3(0x43a)][_0x221cd3(0x5a2)]=_0x31c587[_0x221cd3(0x40d)][_0x221cd3(0x2b4)]();let {message_normalized:_0x418c45}=this[_0x221cd3(0x3bd)](_0x128972['message'],P(_0x128972[_0x221cd3(0x372)]),null);_0x577e8e[_0x221cd3(0x43a)]['lastSendMessage']=await _0x418c45;let _0x56b131={'messageId':_0x128972['key']['id']},_0x20b5d1=_0x577e8e[_0x221cd3(0x43a)]['realVariables'];Object[_0x221cd3(0x3b8)](_0x20b5d1,_0x32c601),_0x577e8e[_0x221cd3(0x43a)][_0x221cd3(0x80e)]=_0x20b5d1,this['updateConversation'](_0x577e8e,_0x31c587,_0x56b131);}else{let _0x300dc2={'error':!0x0};this[_0x221cd3(0x775)](_0x577e8e,_0x31c587,_0x300dc2),this['logger'][_0x221cd3(0x546)](this['instanceName']+'\x20('+this[_0x221cd3(0x237)]['wuid']+_0x221cd3(0x56e));}}catch(_0x2f7f2e){let _0x2ce673={'error':!0x0,'errorLog':_0x2f7f2e[_0x221cd3(0x2b4)]()};this[_0x221cd3(0x775)](_0x577e8e,_0x31c587,_0x2ce673),this[_0x221cd3(0x756)][_0x221cd3(0x546)](this[_0x221cd3(0x515)]+'\x20('+this[_0x221cd3(0x237)][_0x221cd3(0x650)]+_0x221cd3(0x5ad)+(_0x2f7f2e instanceof Error?_0x2f7f2e[_0x221cd3(0x372)]:JSON['stringify'](_0x2f7f2e,null,0x2)));}}async[a0_0x4c7c55(0x3a4)](_0x3fc7a2,_0x52ae59){const _0x1fe017=a0_0x4c7c55;let _0x1dc2dd=_0x3fc7a2[_0x1fe017(0x7a1)];_0x52ae59[_0x1fe017(0x229)][_0x1fe017(0x7a1)]&&_0x52ae59[_0x1fe017(0x229)][_0x1fe017(0x7a1)][_0x1fe017(0x360)]()!==''&&(_0x1dc2dd=_0x52ae59['uazapi'][_0x1fe017(0x7a1)][_0x1fe017(0x360)]()),this[_0x1fe017(0x756)][_0x1fe017(0x800)](this[_0x1fe017(0x515)]+'\x20('+this['instance'][_0x1fe017(0x650)]+_0x1fe017(0x7f8));let _0x2b19d3={'number':_0x1dc2dd,'options':{'delay':_0x52ae59[_0x1fe017(0x229)][_0x1fe017(0x6cf)]},'mediaMessage':{'mediatype':_0x52ae59['uazapi']['mediatype'],'caption':_0x52ae59[_0x1fe017(0x229)]['caption'],'media':_0x52ae59[_0x1fe017(0x229)][_0x1fe017(0x411)],'fileName':_0x52ae59[_0x1fe017(0x229)][_0x1fe017(0x1bd)]}};try{let _0x298215=await this[_0x1fe017(0x6cc)](_0x2b19d3);if(_0x298215){let _0x305d8f={'_id':_0x298215[_0x1fe017(0x399)]['id'],'_fromMe':_0x298215[_0x1fe017(0x399)]['fromMe'],'_remoteJid':_0x298215['key'][_0x1fe017(0x7a1)]};_0x3fc7a2[_0x1fe017(0x43a)][_0x1fe017(0x5a2)]=_0x52ae59[_0x1fe017(0x40d)][_0x1fe017(0x2b4)]();let {message_normalized:_0x439dcc}=this['normalizeMessage'](_0x298215['message'],P(_0x298215[_0x1fe017(0x372)]),null);_0x3fc7a2['chatLog']['lastSendMessage']=await _0x439dcc;let _0x467f74={'messageId':_0x298215[_0x1fe017(0x399)]['id']},_0x207c30=_0x3fc7a2[_0x1fe017(0x43a)][_0x1fe017(0x80e)];Object[_0x1fe017(0x3b8)](_0x207c30,_0x305d8f),_0x3fc7a2[_0x1fe017(0x43a)][_0x1fe017(0x80e)]=_0x207c30,this['updateConversation'](_0x3fc7a2,_0x52ae59,_0x467f74);}else{let _0x40a1d9={'error':!0x0};this[_0x1fe017(0x775)](_0x3fc7a2,_0x52ae59,_0x40a1d9),this['logger']['error'](this[_0x1fe017(0x515)]+'\x20('+this[_0x1fe017(0x237)][_0x1fe017(0x650)]+_0x1fe017(0x3b5));}}catch(_0x3f6310){let _0x24c3f3={'error':!0x0,'errorLog':_0x3f6310['toString']()};this['updateConversation'](_0x3fc7a2,_0x52ae59,_0x24c3f3),this[_0x1fe017(0x756)]['error'](this['instanceName']+'\x20('+this[_0x1fe017(0x237)][_0x1fe017(0x650)]+_0x1fe017(0x279)+(_0x3f6310 instanceof Error?_0x3f6310[_0x1fe017(0x372)]:JSON['stringify'](_0x3f6310,null,0x2)));}}async['uazapiSendLocation'](_0xa9c8b1,_0x36382d){const _0x114b10=a0_0x4c7c55;let _0xfcb49c=_0xa9c8b1[_0x114b10(0x7a1)];_0x36382d[_0x114b10(0x229)][_0x114b10(0x7a1)]&&_0x36382d['uazapi']['remoteJid'][_0x114b10(0x360)]()!==''&&(_0xfcb49c=_0x36382d[_0x114b10(0x229)][_0x114b10(0x7a1)]['trim']()),this[_0x114b10(0x756)][_0x114b10(0x800)](this[_0x114b10(0x515)]+'\x20('+this['instance'][_0x114b10(0x650)]+_0x114b10(0x245));let _0x99d0e1={'number':_0xfcb49c,'options':{'delay':_0x36382d[_0x114b10(0x229)]['delay']},'locationMessage':{'name':_0x36382d['uazapi'][_0x114b10(0x6ca)],'address':_0x36382d[_0x114b10(0x229)][_0x114b10(0x5fa)],'latitude':_0x36382d['uazapi'][_0x114b10(0x51a)],'longitude':_0x36382d[_0x114b10(0x229)][_0x114b10(0x651)]}};try{let _0x4bdb94=await this[_0x114b10(0x3c3)](_0x99d0e1);if(_0x4bdb94){let _0x174c34={'_id':_0x4bdb94['key']['id'],'_fromMe':_0x4bdb94[_0x114b10(0x399)][_0x114b10(0x1f8)],'_remoteJid':_0x4bdb94[_0x114b10(0x399)]['remoteJid']};_0xa9c8b1[_0x114b10(0x43a)][_0x114b10(0x5a2)]=_0x36382d[_0x114b10(0x40d)][_0x114b10(0x2b4)]();let {message_normalized:_0x393902}=this[_0x114b10(0x3bd)](_0x4bdb94[_0x114b10(0x372)],P(_0x4bdb94[_0x114b10(0x372)]),null);_0xa9c8b1['chatLog'][_0x114b10(0x4d5)]=await _0x393902;let _0x27d348={'messageId':_0x4bdb94[_0x114b10(0x399)]['id']},_0x59b6c2=_0xa9c8b1['chatLog'][_0x114b10(0x80e)];Object[_0x114b10(0x3b8)](_0x59b6c2,_0x174c34),_0xa9c8b1[_0x114b10(0x43a)][_0x114b10(0x80e)]=_0x59b6c2,this['updateConversation'](_0xa9c8b1,_0x36382d,_0x27d348);}else{let _0x4338d3={'error':!0x0};this[_0x114b10(0x775)](_0xa9c8b1,_0x36382d,_0x4338d3),this[_0x114b10(0x756)]['error'](this[_0x114b10(0x515)]+'\x20('+this[_0x114b10(0x237)]['wuid']+_0x114b10(0x202));}}catch(_0x232052){let _0x52db86={'error':!0x0,'errorLog':_0x232052['toString']()};this['updateConversation'](_0xa9c8b1,_0x36382d,_0x52db86),this[_0x114b10(0x756)]['error'](this['instanceName']+'\x20('+this[_0x114b10(0x237)][_0x114b10(0x650)]+_0x114b10(0x1cb)+(_0x232052 instanceof Error?_0x232052[_0x114b10(0x372)]:JSON[_0x114b10(0x6c4)](_0x232052,null,0x2)));}}async[a0_0x4c7c55(0x384)](_0x250ff4,_0x1ab8fc){const _0x3fffc1=a0_0x4c7c55;let _0x225423=_0x250ff4[_0x3fffc1(0x7a1)];_0x1ab8fc[_0x3fffc1(0x229)][_0x3fffc1(0x7a1)]&&_0x1ab8fc[_0x3fffc1(0x229)][_0x3fffc1(0x7a1)]['trim']()!==''&&(_0x225423=_0x1ab8fc[_0x3fffc1(0x229)][_0x3fffc1(0x7a1)][_0x3fffc1(0x360)]()),this['logger'][_0x3fffc1(0x800)](this[_0x3fffc1(0x515)]+'\x20('+this[_0x3fffc1(0x237)][_0x3fffc1(0x650)]+'):\x20Enviando\x20udio');let _0x1202b6={'number':_0x225423,'options':{'delay':_0x1ab8fc[_0x3fffc1(0x229)][_0x3fffc1(0x6cf)]},'audioMessage':{'audio':_0x1ab8fc[_0x3fffc1(0x229)][_0x3fffc1(0x3b1)]}};try{let _0xf0a566=await this['audioWhatsapp'](_0x1202b6);if(_0xf0a566){let _0x44c745={'_id':_0xf0a566[_0x3fffc1(0x399)]['id'],'_fromMe':_0xf0a566[_0x3fffc1(0x399)][_0x3fffc1(0x1f8)],'_remoteJid':_0xf0a566[_0x3fffc1(0x399)]['remoteJid']};_0x250ff4[_0x3fffc1(0x43a)][_0x3fffc1(0x5a2)]=_0x1ab8fc[_0x3fffc1(0x40d)][_0x3fffc1(0x2b4)]();let {message_normalized:_0x142720}=this[_0x3fffc1(0x3bd)](_0xf0a566[_0x3fffc1(0x372)],P(_0xf0a566['message']),null);_0x250ff4[_0x3fffc1(0x43a)]['lastSendMessage']=await _0x142720;let _0x2307b2={'messageId':_0xf0a566[_0x3fffc1(0x399)]['id']},_0xa77782=_0x250ff4[_0x3fffc1(0x43a)]['realVariables'];Object[_0x3fffc1(0x3b8)](_0xa77782,_0x44c745),_0x250ff4[_0x3fffc1(0x43a)][_0x3fffc1(0x80e)]=_0xa77782,this[_0x3fffc1(0x775)](_0x250ff4,_0x1ab8fc,_0x2307b2);}else{let _0x284bb2={'error':!0x0};this[_0x3fffc1(0x775)](_0x250ff4,_0x1ab8fc,_0x284bb2),this['logger']['error'](this[_0x3fffc1(0x515)]+'\x20('+this[_0x3fffc1(0x237)]['wuid']+_0x3fffc1(0x4ee));}}catch(_0x830ebc){let _0xee3805={'error':!0x0,'errorLog':_0x830ebc[_0x3fffc1(0x2b4)]()};this['updateConversation'](_0x250ff4,_0x1ab8fc,_0xee3805),this[_0x3fffc1(0x756)][_0x3fffc1(0x546)](this[_0x3fffc1(0x515)]+'\x20('+this[_0x3fffc1(0x237)]['wuid']+_0x3fffc1(0x740)+(_0x830ebc instanceof Error?_0x830ebc['message']:JSON[_0x3fffc1(0x6c4)](_0x830ebc,null,0x2)));}}async['uazapiSendContact'](_0x37101e,_0x5c71ea){const _0x1e0d51=a0_0x4c7c55;let _0x5cdc78=_0x37101e[_0x1e0d51(0x7a1)];_0x5c71ea['uazapi'][_0x1e0d51(0x7a1)]&&_0x5c71ea[_0x1e0d51(0x229)][_0x1e0d51(0x7a1)][_0x1e0d51(0x360)]()!==''&&(_0x5cdc78=_0x5c71ea[_0x1e0d51(0x229)][_0x1e0d51(0x7a1)]['trim']()),this[_0x1e0d51(0x756)]['verbose'](this['instanceName']+'\x20('+this[_0x1e0d51(0x237)]['wuid']+_0x1e0d51(0x6e4));let _0x2ed06c={'number':_0x5cdc78,'options':{'delay':_0x5c71ea[_0x1e0d51(0x229)]['delay']},'contactMessage':[{'fullName':_0x5c71ea['uazapi']['fullName'],'phoneNumber':_0x5c71ea[_0x1e0d51(0x229)][_0x1e0d51(0x27d)]}]};try{let _0xe251f3=await this[_0x1e0d51(0x814)](_0x2ed06c);if(_0xe251f3){let _0xde4fa1={'_id':_0xe251f3[_0x1e0d51(0x399)]['id'],'_fromMe':_0xe251f3[_0x1e0d51(0x399)][_0x1e0d51(0x1f8)],'_remoteJid':_0xe251f3[_0x1e0d51(0x399)][_0x1e0d51(0x7a1)]};_0x37101e['chatLog'][_0x1e0d51(0x5a2)]=_0x5c71ea[_0x1e0d51(0x40d)][_0x1e0d51(0x2b4)]();let {message_normalized:_0x3aebe6}=this['normalizeMessage'](_0xe251f3[_0x1e0d51(0x372)],P(_0xe251f3['message']),null);_0x37101e[_0x1e0d51(0x43a)][_0x1e0d51(0x4d5)]=await _0x3aebe6;let _0x215b13={'messageId':_0xe251f3[_0x1e0d51(0x399)]['id']},_0x3b544b=_0x37101e[_0x1e0d51(0x43a)][_0x1e0d51(0x80e)];Object[_0x1e0d51(0x3b8)](_0x3b544b,_0xde4fa1),_0x37101e[_0x1e0d51(0x43a)][_0x1e0d51(0x80e)]=_0x3b544b,this[_0x1e0d51(0x775)](_0x37101e,_0x5c71ea,_0x215b13);}else{let _0x2b3f25={'error':!0x0};this[_0x1e0d51(0x775)](_0x37101e,_0x5c71ea,_0x2b3f25),this[_0x1e0d51(0x756)][_0x1e0d51(0x546)](this[_0x1e0d51(0x515)]+'\x20('+this['instance'][_0x1e0d51(0x650)]+_0x1e0d51(0x4e6));}}catch(_0x1d7906){let _0x172e02={'error':!0x0,'errorLog':_0x1d7906[_0x1e0d51(0x2b4)]()};this[_0x1e0d51(0x775)](_0x37101e,_0x5c71ea,_0x172e02),this[_0x1e0d51(0x756)]['error'](this[_0x1e0d51(0x515)]+'\x20('+this[_0x1e0d51(0x237)][_0x1e0d51(0x650)]+_0x1e0d51(0x2f8)+(_0x1d7906 instanceof Error?_0x1d7906['message']:JSON[_0x1e0d51(0x6c4)](_0x1d7906,null,0x2)));}}[a0_0x4c7c55(0x5a9)](_0x38002e,_0x20ebe4){const _0x3d0875=a0_0x4c7c55;for(let _0x43e6cc of _0x38002e)_0x43e6cc[_0x3d0875(0x5ac)]&&(_0x43e6cc['option']=this[_0x3d0875(0x7bc)](_0x43e6cc[_0x3d0875(0x5ac)],_0x20ebe4)),_0x43e6cc[_0x3d0875(0x56c)]&&(_0x43e6cc['optionDescription']=this[_0x3d0875(0x7bc)](_0x43e6cc[_0x3d0875(0x56c)],_0x20ebe4));}async[a0_0x4c7c55(0x3f8)](_0x1a40a9,_0x543b92){const _0xdd1ad1=a0_0x4c7c55;let _0x5e9fd1=_0x1a40a9['remoteJid'];_0x543b92['uazapi'][_0xdd1ad1(0x7a1)]&&_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x7a1)]['trim']()!==''&&(_0x5e9fd1=_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x7a1)]['trim']()),this[_0xdd1ad1(0x756)]['verbose'](this[_0xdd1ad1(0x515)]+'\x20('+this[_0xdd1ad1(0x237)][_0xdd1ad1(0x650)]+'):\x20Enviando\x20enquete');let _0x1268b3=_0x1a40a9[_0xdd1ad1(0x5a4)]['filter'](_0x2fee5c=>_0x2fee5c[_0xdd1ad1(0x455)]===_0x543b92[_0xdd1ad1(0x40d)])[_0xdd1ad1(0x442)]((_0x5b82c0,_0x229bf2)=>_0x5b82c0['order']-_0x229bf2[_0xdd1ad1(0x50d)]);this[_0xdd1ad1(0x5a9)](_0x1268b3,_0x1a40a9[_0xdd1ad1(0x43a)][_0xdd1ad1(0x80e)]);let _0x24e5d3=_0x1268b3[_0xdd1ad1(0x4df)](_0x10af66=>_0x10af66[_0xdd1ad1(0x5ac)]),_0x1efb84={'number':_0x5e9fd1,'menuMessage':{'type':_0x543b92['uazapi'][_0xdd1ad1(0x36c)]||_0xdd1ad1(0x731),'text':_0x543b92['uazapi'][_0xdd1ad1(0x55e)]||_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x6ca)],'footerText':_0x543b92[_0xdd1ad1(0x229)]['footerText'],'buttonText':_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x5ba)],'selectableCount':0x1,'choices':_0x24e5d3},'options':{'delay':_0x543b92[_0xdd1ad1(0x229)]['delay']}};try{let _0x1282ca=await this[_0xdd1ad1(0x23d)](_0x1efb84);if(_0x1282ca){let _0x2f4be1={'_id':_0x1282ca['key']['id'],'_fromMe':_0x1282ca['key'][_0xdd1ad1(0x1f8)],'_remoteJid':_0x1282ca[_0xdd1ad1(0x399)][_0xdd1ad1(0x7a1)]};_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x5cd)]===!0x0&&(_0x1a40a9[_0xdd1ad1(0x2bf)]=_0xdd1ad1(0x5ee),this['logger']['verbose'](this[_0xdd1ad1(0x515)]+'\x20('+this[_0xdd1ad1(0x237)][_0xdd1ad1(0x650)]+_0xdd1ad1(0x397)+_0x1a40a9[_0xdd1ad1(0x2bf)])),this[_0xdd1ad1(0x756)]['verbose'](this[_0xdd1ad1(0x515)]+'\x20('+this[_0xdd1ad1(0x237)][_0xdd1ad1(0x650)]+_0xdd1ad1(0x5d7)+(_0x543b92[_0xdd1ad1(0x229)]['name']||_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x55e)])),_0x1a40a9[_0xdd1ad1(0x2c6)]=_0x1282ca[_0xdd1ad1(0x399)]['id'],_0x1a40a9['waitingMenu_text']=_0x543b92['uazapi'][_0xdd1ad1(0x6ca)]||_0x543b92['uazapi']['text'],_0x1a40a9[_0xdd1ad1(0x5df)]=_0x1268b3,_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x466)]&&(_0x1a40a9[_0xdd1ad1(0x614)]=_0x543b92[_0xdd1ad1(0x229)][_0xdd1ad1(0x466)]),this['logger'][_0xdd1ad1(0x800)](this[_0xdd1ad1(0x515)]+'\x20('+this[_0xdd1ad1(0x237)][_0xdd1ad1(0x650)]+'):\x20conversation.waitingMenu_name'+_0x1a40a9[_0xdd1ad1(0x36d)]),_0x1a40a9['chatLog'][_0xdd1ad1(0x5a2)]=_0x543b92[_0xdd1ad1(0x40d)]['toString']();let {message_normalized:_0x21e133}=this['normalizeMessage'](_0x1282ca[_0xdd1ad1(0x372)],P(_0x1282ca[_0xdd1ad1(0x372)]),null);_0x1a40a9[_0xdd1ad1(0x43a)]['lastSendMessage']=await _0x21e133;let _0xb7bcc2={'messageId':_0x1282ca[_0xdd1ad1(0x399)]['id']},_0x3fee3b=_0x1a40a9[_0xdd1ad1(0x43a)]['realVariables'];Object[_0xdd1ad1(0x3b8)](_0x3fee3b,_0x2f4be1),_0x1a40a9[_0xdd1ad1(0x43a)][_0xdd1ad1(0x80e)]=_0x3fee3b,this['updateConversation'](_0x1a40a9,_0x543b92,_0xb7bcc2);}else{let _0x1bedaa={'error':!0x0};this[_0xdd1ad1(0x775)](_0x1a40a9,_0x543b92,_0x1bedaa),this[_0xdd1ad1(0x756)][_0xdd1ad1(0x546)](this[_0xdd1ad1(0x515)]+'\x20('+this['instance'][_0xdd1ad1(0x650)]+_0xdd1ad1(0x232));}}catch(_0x598429){let _0x4d5a05={'error':!0x0,'errorLog':_0x598429 instanceof Error?_0x598429[_0xdd1ad1(0x372)]:JSON[_0xdd1ad1(0x6c4)](_0x598429,null,0x2)};this[_0xdd1ad1(0x775)](_0x1a40a9,_0x543b92,_0x4d5a05),this['logger']['error'](this[_0xdd1ad1(0x515)]+'\x20('+this[_0xdd1ad1(0x237)][_0xdd1ad1(0x650)]+_0xdd1ad1(0x4a8)+(_0x598429 instanceof Error?_0x598429[_0xdd1ad1(0x372)]:JSON[_0xdd1ad1(0x6c4)](_0x598429,null,0x2)));}}async[a0_0x4c7c55(0x3fb)](_0x23f4d2,_0x848cdb){const _0x350a40=a0_0x4c7c55;this[_0x350a40(0x756)][_0x350a40(0x800)](this[_0x350a40(0x515)]+'\x20('+this[_0x350a40(0x237)][_0x350a40(0x650)]+'):\x20Deletando\x20mensagem');let _0x5d0acd=_0x23f4d2[_0x350a40(0x43a)][_0x350a40(0x3ce)]['find'](_0xf97c41=>_0xf97c41[_0x350a40(0x455)][_0x350a40(0x2b4)]()===_0x848cdb['uazapi'][_0x350a40(0x455)][_0x350a40(0x2b4)]()),_0x5ecc91={'id':_0x5d0acd['messageId'],'remoteJid':_0x5d0acd['remoteJid'],'fromMe':_0x5d0acd[_0x350a40(0x1f8)]};try{let _0x1fb246=await this['deleteMessage'](_0x5ecc91);if(_0x1fb246){_0x23f4d2[_0x350a40(0x43a)]['lastBlockId']=_0x848cdb[_0x350a40(0x40d)][_0x350a40(0x2b4)]();let {message_normalized:_0x599f75}=this[_0x350a40(0x3bd)](_0x1fb246[_0x350a40(0x372)],P(_0x1fb246[_0x350a40(0x372)]),null);_0x23f4d2['chatLog'][_0x350a40(0x4d5)]=await _0x599f75;let _0xe09149={};this[_0x350a40(0x775)](_0x23f4d2,_0x848cdb,_0xe09149);}else{let _0x2e6c10={'error':!0x0};this['updateConversation'](_0x23f4d2,_0x848cdb,_0x2e6c10),this[_0x350a40(0x756)][_0x350a40(0x546)](this[_0x350a40(0x515)]+'\x20('+this[_0x350a40(0x237)][_0x350a40(0x650)]+_0x350a40(0x7fa));}}catch(_0x582074){let _0x50bd59={'error':!0x0,'errorLog':_0x582074 instanceof Error?_0x582074[_0x350a40(0x372)]:JSON[_0x350a40(0x6c4)](_0x582074,null,0x2)};this[_0x350a40(0x775)](_0x23f4d2,_0x848cdb,_0x50bd59),this[_0x350a40(0x756)]['error'](this[_0x350a40(0x515)]+'\x20('+this['instance'][_0x350a40(0x650)]+_0x350a40(0x681)+(_0x582074 instanceof Error?_0x582074[_0x350a40(0x372)]:JSON[_0x350a40(0x6c4)](_0x582074,null,0x2)));}}async[a0_0x4c7c55(0x761)](_0x4f0931){const _0x4180b7=a0_0x4c7c55;try{if(this[_0x4180b7(0x756)]['verbose'](this[_0x4180b7(0x515)]+'\x20('+this['instance'][_0x4180b7(0x650)]+_0x4180b7(0x6c1)),await this['repository'][_0x4180b7(0x4e8)][_0x4180b7(0x6bf)]({'where':{'name':_0x4f0931['name']}},this['instance'][_0x4180b7(0x650)]))return{'message':_0x4180b7(0x3d2)};_0x4f0931['default']===!0x0&&await this['repository'][_0x4180b7(0x4e8)][_0x4180b7(0x579)]({},{'default':!0x1},this[_0x4180b7(0x237)][_0x4180b7(0x650)]);let _0x38a1c1=new ie[(_0x4180b7(0x677))][(_0x4180b7(0x4fc))](),_0x4801eb={'_id':_0x38a1c1,'default':!0x0,'title':_0x4180b7(0x486),'x':0x0,'y':0x0},_0xe88b0f={'_id':new ie[(_0x4180b7(0x677))][(_0x4180b7(0x4fc))](),'order':0x1,'groupId':_0x38a1c1[_0x4180b7(0x2b4)](),'type':_0x4180b7(0x257)},_0x250dc2={'_id':new ie[(_0x4180b7(0x677))][(_0x4180b7(0x4fc))](),'owner':this[_0x4180b7(0x237)]['wuid'],'name':_0x4f0931[_0x4180b7(0x6ca)],'groups':[_0x4801eb],'blocks':[_0xe88b0f],..._0x4f0931};return _0x250dc2=await this[_0x4180b7(0x409)][_0x4180b7(0x4e8)][_0x4180b7(0x3ae)](_0x250dc2,this[_0x4180b7(0x237)][_0x4180b7(0x650)]),_0x250dc2;}catch(_0x3f373b){throw this[_0x4180b7(0x756)][_0x4180b7(0x546)](this[_0x4180b7(0x515)]+'\x20('+this[_0x4180b7(0x237)]['wuid']+_0x4180b7(0x36a)+(_0x3f373b instanceof Error?_0x3f373b[_0x4180b7(0x372)]:JSON[_0x4180b7(0x6c4)](_0x3f373b,null,0x2))),new m(_0x4180b7(0x3a9)+_0x3f373b);}}async[a0_0x4c7c55(0x3c9)](_0x4d760c){const _0xdef872=a0_0x4c7c55;try{return this[_0xdef872(0x756)][_0xdef872(0x800)](this['instanceName']+'\x20('+this[_0xdef872(0x237)][_0xdef872(0x650)]+'):\x20Deletando\x20fluxo...'),await this[_0xdef872(0x409)][_0xdef872(0x4e8)][_0xdef872(0x801)]({'where':{'name':_0x4d760c}},this[_0xdef872(0x237)][_0xdef872(0x650)]);}catch(_0x5c7978){return this[_0xdef872(0x756)][_0xdef872(0x546)](this[_0xdef872(0x515)]+'\x20('+this[_0xdef872(0x237)][_0xdef872(0x650)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x5c7978 instanceof Error?_0x5c7978[_0xdef872(0x372)]:JSON[_0xdef872(0x6c4)](_0x5c7978,null,0x2))),{'message':_0xdef872(0x433)+_0x5c7978};}}async[a0_0x4c7c55(0x327)](_0x1d1f4f){const _0x637b84=a0_0x4c7c55;try{this[_0x637b84(0x756)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x637b84(0x727));let _0x2f9ae1=await this[_0x637b84(0x409)][_0x637b84(0x4e8)]['findOne']({'where':{'name':_0x1d1f4f}},this[_0x637b84(0x237)][_0x637b84(0x650)]);if(!_0x2f9ae1)throw new Error('Flow\x20no\x20encontrado');if(!this[_0x637b84(0x53f)]&&(await this[_0x637b84(0x715)](),!this[_0x637b84(0x53f)]))return null;let _0x3035c0=this['AutomateSystem']?.[_0x637b84(0x278)][_0x637b84(0x4df)](_0x2fe64c=>_0x2fe64c[_0x637b84(0x6ca)]),_0x26edef=[_0x637b84(0x483),_0x637b84(0x784),_0x637b84(0x701),_0x637b84(0x843),_0x637b84(0x2bf),_0x637b84(0x252),_0x637b84(0x405),_0x637b84(0x2df),'etiquetas'];_0x2f9ae1[_0x637b84(0x707)]=_0x2f9ae1[_0x637b84(0x707)]['filter'](_0x287b09=>!(_0x287b09[_0x637b84(0x55a)]===_0x637b84(0x7d2)||_0x287b09['leadInfo'])),_0x26edef['forEach'](_0xc52455=>{const _0x5d3e45=_0x637b84;_0x2f9ae1[_0x5d3e45(0x707)][_0x5d3e45(0x56b)]({'folder':'leadInfo','name':_0xc52455,'value':'','doc':'','leadInfo':!0x0});}),_0x3035c0[_0x637b84(0x559)](_0x2c3153=>{const _0x3f653a=_0x637b84;let _0x3f967e=_0x2f9ae1[_0x3f653a(0x707)]['findIndex'](_0x42c68a=>_0x42c68a[_0x3f653a(0x6ca)]===_0x2c3153);_0x3f967e===-0x1?_0x2f9ae1[_0x3f653a(0x707)][_0x3f653a(0x56b)]({'folder':_0x3f653a(0x7d2),'name':_0x2c3153,'value':'','doc':'','leadInfo':!0x0}):(_0x2f9ae1[_0x3f653a(0x707)][_0x3f967e][_0x3f653a(0x55a)]=_0x3f653a(0x7d2),_0x2f9ae1['variables'][_0x3f967e][_0x3f653a(0x7d2)]=!0x0);}),_0x2f9ae1[_0x637b84(0x660)]&&_0x2f9ae1['blocks'][_0x637b84(0x676)]>0x0&&_0x2f9ae1[_0x637b84(0x660)]['forEach'](_0x3aa3ec=>{const _0x1c4f4c=_0x637b84;_0x3aa3ec[_0x1c4f4c(0x3b7)]&&_0x3aa3ec[_0x1c4f4c(0x354)]&&_0x3aa3ec['groupId']===_0x3aa3ec[_0x1c4f4c(0x354)]&&(_0x3aa3ec[_0x1c4f4c(0x354)]=null);});let _0x590615=await this[_0x637b84(0x409)][_0x637b84(0x4e8)][_0x637b84(0x53d)](_0x2f9ae1['_id'],_0x2f9ae1,this[_0x637b84(0x237)]['wuid']);if(!_0x590615)throw new Error(_0x637b84(0x484));return _0x590615;}catch(_0x5e2bcd){throw this['logger']['error'](this[_0x637b84(0x515)]+'\x20('+this[_0x637b84(0x237)]['wuid']+_0x637b84(0x2e0)+(_0x5e2bcd instanceof Error?_0x5e2bcd['message']:JSON[_0x637b84(0x6c4)](_0x5e2bcd,null,0x2))),new m(_0x637b84(0x200)+_0x5e2bcd);}}async['allFlows'](){const _0x326090=a0_0x4c7c55;try{return this['logger'][_0x326090(0x800)](this[_0x326090(0x515)]+'\x20('+this[_0x326090(0x237)][_0x326090(0x650)]+_0x326090(0x30f)),await this[_0x326090(0x409)][_0x326090(0x4e8)]['findAll']({'where':{}},this[_0x326090(0x237)][_0x326090(0x650)]);}catch(_0x4a9cbf){return this['logger'][_0x326090(0x546)](this['instanceName']+'\x20('+this['instance'][_0x326090(0x650)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x4a9cbf instanceof Error?_0x4a9cbf['message']:JSON[_0x326090(0x6c4)](_0x4a9cbf,null,0x2))),{'message':_0x326090(0x5f7)+_0x4a9cbf};}}async[a0_0x4c7c55(0x494)](_0xa84372){const _0x565ba2=a0_0x4c7c55;try{this[_0x565ba2(0x756)][_0x565ba2(0x800)](this[_0x565ba2(0x515)]+'\x20('+this[_0x565ba2(0x237)][_0x565ba2(0x650)]+_0x565ba2(0x70a));let _0x29aabc=await this[_0x565ba2(0x409)][_0x565ba2(0x4e8)][_0x565ba2(0x6bf)]({'where':{'name':_0xa84372[_0x565ba2(0x6ca)]}},this['instance'][_0x565ba2(0x650)]);return _0x29aabc?(_0xa84372[_0x565ba2(0x697)]===!0x0&&await this[_0x565ba2(0x409)][_0x565ba2(0x4e8)][_0x565ba2(0x579)]({},{'default':!0x1},this[_0x565ba2(0x237)][_0x565ba2(0x650)]),await this['repository'][_0x565ba2(0x4e8)][_0x565ba2(0x53d)](_0x29aabc[_0x565ba2(0x40d)],_0xa84372,this[_0x565ba2(0x237)][_0x565ba2(0x650)])):{'message':_0x565ba2(0x2af)};}catch(_0x471772){throw this[_0x565ba2(0x756)][_0x565ba2(0x546)](this[_0x565ba2(0x515)]+'\x20('+this[_0x565ba2(0x237)][_0x565ba2(0x650)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x471772 instanceof Error?_0x471772[_0x565ba2(0x372)]:JSON[_0x565ba2(0x6c4)](_0x471772,null,0x2))),new m(_0x565ba2(0x841)+(_0x471772 instanceof Error?_0x471772[_0x565ba2(0x372)]:JSON[_0x565ba2(0x6c4)](_0x471772,null,0x2)));}}async['editFlowBlock'](_0x52b5c1){const _0x1c39f0=a0_0x4c7c55;try{this[_0x1c39f0(0x756)][_0x1c39f0(0x800)](this[_0x1c39f0(0x515)]+'\x20('+this['instance'][_0x1c39f0(0x650)]+_0x1c39f0(0x829));let _0x3e3a87=await this['repository'][_0x1c39f0(0x4e8)][_0x1c39f0(0x6bf)]({'where':{'name':_0x52b5c1['name']}},this[_0x1c39f0(0x237)]['wuid']);_0x3e3a87||this[_0x1c39f0(0x61c)]('Flow\x20no\x20encontrado');let {block:_0x1f0a70}=_0x52b5c1;_0x1f0a70?.[_0x1c39f0(0x287)]?this['copyBlock'](_0x3e3a87,_0x52b5c1):_0x1f0a70?.[_0x1c39f0(0x270)]?this[_0x1c39f0(0x1e0)](_0x3e3a87,_0x52b5c1):_0x1f0a70['_id']?await this[_0x1c39f0(0x45a)](_0x3e3a87,_0x52b5c1):this[_0x1c39f0(0x432)](_0x3e3a87,_0x52b5c1);let _0x4a560d=await this['repository'][_0x1c39f0(0x4e8)]['updateOne'](_0x3e3a87['_id'],_0x3e3a87,this['instance'][_0x1c39f0(0x650)]);if(!_0x4a560d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4a560d;}catch(_0xb0af3f){this['throwAndLogError'](_0x1c39f0(0x329)+_0xb0af3f);}}async[a0_0x4c7c55(0x80c)](_0x40dfaa,_0x56e433){const _0x4b4050=a0_0x4c7c55;let _0x17142f=_0x56e433[_0x4b4050(0x79e)][_0x4b4050(0x40d)],_0x2dccae=_0x40dfaa[_0x4b4050(0x660)][_0x4b4050(0x557)](_0x5c84a0=>_0x5c84a0[_0x4b4050(0x40d)][_0x4b4050(0x2b4)]()===_0x17142f);if(!_0x2dccae){this[_0x4b4050(0x756)]['error'](this[_0x4b4050(0x515)]+'\x20('+this['instance']['wuid']+_0x4b4050(0x322)+_0x17142f+_0x4b4050(0x45b));return;}this[_0x4b4050(0x756)][_0x4b4050(0x800)](this['instanceName']+'\x20('+this['instance'][_0x4b4050(0x650)]+_0x4b4050(0x305)+JSON[_0x4b4050(0x6c4)](_0x2dccae));let _0x3b4ef1=JSON[_0x4b4050(0x2b9)](JSON[_0x4b4050(0x6c4)](_0x2dccae));_0x3b4ef1[_0x4b4050(0x40d)]=new ie[(_0x4b4050(0x697))][(_0x4b4050(0x677))][(_0x4b4050(0x4fc))](),this[_0x4b4050(0x756)][_0x4b4050(0x800)](this[_0x4b4050(0x515)]+'\x20('+this[_0x4b4050(0x237)][_0x4b4050(0x650)]+_0x4b4050(0x821)+JSON[_0x4b4050(0x6c4)](_0x3b4ef1)),_0x40dfaa[_0x4b4050(0x660)][_0x4b4050(0x56b)](_0x3b4ef1),this['reorderBlocks'](_0x40dfaa['blocks'],_0x3b4ef1[_0x4b4050(0x3b7)]);}[a0_0x4c7c55(0x61c)](_0x5d5e05){const _0x3ae52f=a0_0x4c7c55;throw this[_0x3ae52f(0x756)][_0x3ae52f(0x546)](this['instanceName']+'\x20('+this[_0x3ae52f(0x237)][_0x3ae52f(0x650)]+_0x3ae52f(0x535)+_0x5d5e05),new m(_0x5d5e05);}[a0_0x4c7c55(0x1e0)](_0xcc6f98,_0x974448){const _0x2850ec=a0_0x4c7c55;let {block:_0x2cd0e8}=_0x974448;if(_0x2cd0e8[_0x2850ec(0x23a)]===_0x2850ec(0x257)){this[_0x2850ec(0x61c)](_0x2850ec(0x3ca));return;}if(!_0x2cd0e8[_0x2850ec(0x40d)]){this[_0x2850ec(0x61c)](_0x2850ec(0x7d9));return;}let _0x923594=_0xcc6f98['blocks'][_0x2850ec(0x557)](_0x4c5a96=>_0x4c5a96['_id'][_0x2850ec(0x2b4)]()===_0x974448['block'][_0x2850ec(0x40d)][_0x2850ec(0x2b4)]());if(!_0x923594){this[_0x2850ec(0x61c)]('Bloco\x20com\x20ID\x20'+_0x2cd0e8['_id']+_0x2850ec(0x206));return;}_0xcc6f98['blocks']=_0xcc6f98[_0x2850ec(0x660)]['filter'](_0x4092ed=>_0x4092ed[_0x2850ec(0x40d)]['toString']()!==_0x974448[_0x2850ec(0x79e)][_0x2850ec(0x40d)][_0x2850ec(0x2b4)]()),_0xcc6f98['conditions']=_0xcc6f98[_0x2850ec(0x4d3)][_0x2850ec(0x720)](_0x4b8bc1=>_0x4b8bc1[_0x2850ec(0x455)]!==_0x2cd0e8['_id'][_0x2850ec(0x2b4)]()),_0xcc6f98['varedits']=_0xcc6f98['varedits']['filter'](_0x34767c=>_0x34767c[_0x2850ec(0x455)]!==_0x2cd0e8['_id'][_0x2850ec(0x2b4)]()),_0xcc6f98[_0x2850ec(0x5a4)]=_0xcc6f98[_0x2850ec(0x5a4)]['filter'](_0x4adf2f=>_0x4adf2f[_0x2850ec(0x455)]!==_0x2cd0e8['_id']['toString']()),this['reorderBlocks'](_0xcc6f98[_0x2850ec(0x660)],_0x923594['groupId']);}async[a0_0x4c7c55(0x45a)](_0xc64eed,_0x93e297){const _0x18151d=a0_0x4c7c55;let _0x2b14ce=_0xc64eed[_0x18151d(0x660)][_0x18151d(0x654)](_0x33433e=>_0x33433e[_0x18151d(0x40d)]['toString']()===_0x93e297[_0x18151d(0x79e)]['_id']['toString']());if(this[_0x18151d(0x756)][_0x18151d(0x800)](this[_0x18151d(0x515)]+'\x20('+this['instance'][_0x18151d(0x650)]+_0x18151d(0x46a)+_0x2b14ce),_0x2b14ce===-0x1){this['logger'][_0x18151d(0x800)]('Bloco\x20com\x20ID\x20'+_0x93e297['block']['_id']+_0x18151d(0x40b));return;}if(_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x23a)]==='start'){let _0x23220a=Object[_0x18151d(0x722)](_0x93e297['block']);if(_0x23220a[_0x18151d(0x676)]>0x2||_0x23220a['length']===0x2&&!_0x23220a[_0x18151d(0x606)]('next_groupId')){this[_0x18151d(0x61c)](_0x18151d(0x43f));return;}}let _0x2ac551=_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x3b7)];for(let _0x7ecd70 in _0x93e297[_0x18151d(0x79e)])_0x93e297[_0x18151d(0x79e)][_0x18151d(0x713)](_0x7ecd70)&&(_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x7ecd70]=_0x93e297[_0x18151d(0x79e)][_0x7ecd70]);if(this['logger'][_0x18151d(0x800)](this[_0x18151d(0x515)]+'\x20('+this[_0x18151d(0x237)]['wuid']+_0x18151d(0x66b)+JSON[_0x18151d(0x6c4)](_0xc64eed[_0x18151d(0x660)][_0x2b14ce])),_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)]&&'header'in _0xc64eed['blocks'][_0x2b14ce][_0x18151d(0x7ff)]){this[_0x18151d(0x756)][_0x18151d(0x800)](this[_0x18151d(0x515)]+'\x20('+this['instance'][_0x18151d(0x650)]+_0x18151d(0x29d));let _0xcfaa75=JSON[_0x18151d(0x6c4)](_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)][_0x18151d(0x854)],null,0x1);_0xcfaa75[_0x18151d(0x676)]>0x2&&(_0xcfaa75=_0xcfaa75[_0x18151d(0x390)](0x1,_0xcfaa75[_0x18151d(0x676)]-0x1)[_0x18151d(0x360)]()),_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)][_0x18151d(0x30b)]=_0xcfaa75;}if(_0xc64eed['blocks'][_0x2b14ce][_0x18151d(0x7ff)]&&_0x18151d(0x2aa)in _0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)]){this[_0x18151d(0x756)][_0x18151d(0x800)](this[_0x18151d(0x515)]+'\x20('+this[_0x18151d(0x237)][_0x18151d(0x650)]+_0x18151d(0x3e5));let _0x48f3c5=JSON['stringify'](_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)][_0x18151d(0x2aa)],null,0x1);_0x48f3c5[_0x18151d(0x676)]>0x2&&(_0x48f3c5=_0x48f3c5['substring'](0x1,_0x48f3c5[_0x18151d(0x676)]-0x1)['trim']()),_0xc64eed[_0x18151d(0x660)][_0x2b14ce][_0x18151d(0x7ff)][_0x18151d(0x55f)]=_0x48f3c5;}let _0x51f113=_0xc64eed['blocks'][_0x2b14ce][_0x18151d(0x3b7)];_0x2ac551!==_0x51f113?(this[_0x18151d(0x437)](_0xc64eed[_0x18151d(0x660)],_0x2ac551),this[_0x18151d(0x437)](_0xc64eed['blocks'],_0x51f113)):this[_0x18151d(0x437)](_0xc64eed[_0x18151d(0x660)],_0x2ac551);}[a0_0x4c7c55(0x432)](_0x43c095,_0x49de86){const _0x159d4f=a0_0x4c7c55;if(_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x23a)]===_0x159d4f(0x257)){this[_0x159d4f(0x61c)](_0x159d4f(0x226));return;}if(_0x49de86['block'][_0x159d4f(0x7ff)]&&_0x159d4f(0x854)in _0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)]){this[_0x159d4f(0x756)][_0x159d4f(0x800)](this['instanceName']+'\x20('+this[_0x159d4f(0x237)][_0x159d4f(0x650)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x43c032=JSON[_0x159d4f(0x6c4)](_0x49de86[_0x159d4f(0x79e)]['apirequest'][_0x159d4f(0x854)],null,0x1);_0x43c032[_0x159d4f(0x676)]>0x2&&(_0x43c032=_0x43c032[_0x159d4f(0x390)](0x1,_0x43c032[_0x159d4f(0x676)]-0x1)[_0x159d4f(0x360)]()),_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)][_0x159d4f(0x30b)]=_0x43c032;}_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)]&&_0x159d4f(0x2aa)in _0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)]&&(this['logger'][_0x159d4f(0x800)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)][_0x159d4f(0x55f)]=JSON[_0x159d4f(0x6c4)](_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x7ff)][_0x159d4f(0x2aa)],null,0x1)[_0x159d4f(0x360)]()),_0x43c095[_0x159d4f(0x660)][_0x159d4f(0x56b)](_0x49de86['block']),this[_0x159d4f(0x437)](_0x43c095[_0x159d4f(0x660)],_0x49de86[_0x159d4f(0x79e)][_0x159d4f(0x3b7)]);}[a0_0x4c7c55(0x437)](_0x476aff,_0x382576){const _0x53e1e4=a0_0x4c7c55;let _0x5adb64=_0x476aff[_0x53e1e4(0x720)](_0x156c59=>_0x156c59[_0x53e1e4(0x3b7)]===_0x382576);_0x5adb64['sort']((_0xf61721,_0x524fc3)=>_0xf61721['order']-_0x524fc3[_0x53e1e4(0x50d)]),_0x5adb64['forEach']((_0x44c0cb,_0xeec4f9)=>_0x44c0cb[_0x53e1e4(0x50d)]=_0xeec4f9+0x1);}async['editFlowReply'](_0x12c13e){const _0x591f6b=a0_0x4c7c55;try{if(this[_0x591f6b(0x756)][_0x591f6b(0x800)](this[_0x591f6b(0x515)]+'\x20('+this[_0x591f6b(0x237)][_0x591f6b(0x650)]+'):\x20Editando\x20replyOption...'),!_0x12c13e||!_0x12c13e[_0x591f6b(0x39a)]){this[_0x591f6b(0x61c)](_0x591f6b(0x44c));return;}let _0x431a16=await this['repository'][_0x591f6b(0x4e8)][_0x591f6b(0x6bf)]({'where':{'name':_0x12c13e[_0x591f6b(0x6ca)]}},this[_0x591f6b(0x237)][_0x591f6b(0x650)]);_0x431a16||this[_0x591f6b(0x61c)](_0x591f6b(0x631));let {replyOption:_0x3c1e97}=_0x12c13e;_0x3c1e97?.['delete']?(this['deleteReplyOption'](_0x431a16,_0x12c13e),this[_0x591f6b(0x601)](_0x431a16[_0x591f6b(0x5a4)],_0x12c13e[_0x591f6b(0x39a)][_0x591f6b(0x455)])):_0x3c1e97['_id']?(await this['updateReplyOption'](_0x431a16,_0x12c13e),this[_0x591f6b(0x601)](_0x431a16[_0x591f6b(0x5a4)],_0x12c13e[_0x591f6b(0x39a)]['blockId'])):(this[_0x591f6b(0x694)](_0x431a16,_0x12c13e),this['reorderReplyOptions'](_0x431a16['replyOptions'],_0x12c13e[_0x591f6b(0x39a)]['blockId']));let _0x44a902=await this[_0x591f6b(0x409)]['flow'][_0x591f6b(0x53d)](_0x431a16['_id'],_0x431a16,this[_0x591f6b(0x237)][_0x591f6b(0x650)]);if(!_0x44a902)throw new Error(_0x591f6b(0x484));return _0x44a902;}catch(_0x622cdf){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x622cdf);}}['reorderReplyOptions'](_0x485c19,_0x561ee5){const _0x1294d7=a0_0x4c7c55;console[_0x1294d7(0x219)](_0x1294d7(0x581),_0x561ee5),_0x485c19[_0x1294d7(0x559)](_0x51081b=>{const _0x4fb51f=_0x1294d7;_0x51081b[_0x4fb51f(0x455)]===_0x561ee5&&_0x51081b[_0x4fb51f(0x50d)]===void 0x0&&(_0x51081b[_0x4fb51f(0x50d)]=0x270f);});let _0x589d5e=_0x485c19[_0x1294d7(0x720)](_0x17c842=>_0x17c842[_0x1294d7(0x455)]===_0x561ee5);_0x589d5e['sort']((_0x580be0,_0x205a2e)=>_0x580be0['order']-_0x205a2e['order']),_0x589d5e[_0x1294d7(0x559)]((_0x27e08c,_0x2c278a)=>{_0x27e08c['order']=_0x2c278a+0x1;}),_0x485c19[_0x1294d7(0x559)](_0x468be6=>{const _0x22fd55=_0x1294d7;if(_0x468be6[_0x22fd55(0x455)]===_0x561ee5){let _0x35dea1=_0x589d5e['find'](_0xeb38b7=>_0xeb38b7[_0x22fd55(0x40d)]&&_0x468be6['_id']&&_0xeb38b7['_id'][_0x22fd55(0x2b4)]()===_0x468be6['_id'][_0x22fd55(0x2b4)]());_0x35dea1&&(_0x468be6[_0x22fd55(0x50d)]=_0x35dea1[_0x22fd55(0x50d)]);}}),console[_0x1294d7(0x219)](_0x1294d7(0x223),_0x485c19);}[a0_0x4c7c55(0x5b3)](_0x1dbe6c,_0x3a59cb){const _0x2f4a7b=a0_0x4c7c55;let {replyOption:_0x416c95}=_0x3a59cb;if(!_0x416c95['_id']){this[_0x2f4a7b(0x61c)](_0x2f4a7b(0x810));return;}if(!_0x1dbe6c['replyOptions'][_0x2f4a7b(0x557)](_0x409613=>_0x409613[_0x2f4a7b(0x40d)][_0x2f4a7b(0x2b4)]()===_0x3a59cb[_0x2f4a7b(0x39a)][_0x2f4a7b(0x40d)][_0x2f4a7b(0x2b4)]())){this[_0x2f4a7b(0x61c)](_0x2f4a7b(0x5db)+_0x416c95[_0x2f4a7b(0x40d)]+_0x2f4a7b(0x206));return;}_0x1dbe6c['replyOptions']=_0x1dbe6c[_0x2f4a7b(0x5a4)][_0x2f4a7b(0x720)](_0x192e61=>_0x192e61[_0x2f4a7b(0x40d)][_0x2f4a7b(0x2b4)]()!==_0x3a59cb[_0x2f4a7b(0x39a)][_0x2f4a7b(0x40d)]['toString']());}async[a0_0x4c7c55(0x52d)](_0x353908,_0x2400f6){const _0x25412a=a0_0x4c7c55;let _0x10384b=_0x353908[_0x25412a(0x5a4)][_0x25412a(0x654)](_0x42326e=>_0x42326e[_0x25412a(0x40d)][_0x25412a(0x2b4)]()===_0x2400f6[_0x25412a(0x39a)][_0x25412a(0x40d)][_0x25412a(0x2b4)]());if(_0x10384b===-0x1){this[_0x25412a(0x61c)]('ReplyOption\x20com\x20ID\x20'+_0x2400f6['replyOption'][_0x25412a(0x40d)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}for(let _0x3e5dd5 in _0x2400f6[_0x25412a(0x39a)])_0x2400f6[_0x25412a(0x39a)][_0x25412a(0x713)](_0x3e5dd5)&&(_0x353908[_0x25412a(0x5a4)][_0x10384b][_0x3e5dd5]=_0x2400f6[_0x25412a(0x39a)][_0x3e5dd5]);}[a0_0x4c7c55(0x694)](_0x1e5e80,_0x182401){const _0xf8340=a0_0x4c7c55;_0x1e5e80[_0xf8340(0x5a4)][_0xf8340(0x56b)](_0x182401['replyOption']);}async[a0_0x4c7c55(0x6b1)](_0x379f41){const _0x5cb169=a0_0x4c7c55;this[_0x5cb169(0x756)][_0x5cb169(0x800)](this[_0x5cb169(0x515)]+'\x20('+this[_0x5cb169(0x237)][_0x5cb169(0x650)]+_0x5cb169(0x7a3)+_0x379f41);try{this[_0x5cb169(0x756)][_0x5cb169(0x800)](this[_0x5cb169(0x515)]+'\x20('+this[_0x5cb169(0x237)][_0x5cb169(0x650)]+_0x5cb169(0x670));let _0x51b3b8=await this[_0x5cb169(0x409)]['flow'][_0x5cb169(0x6bf)]({'where':{'name':_0x379f41[_0x5cb169(0x6ca)]}},this['instance']['wuid']);if(!_0x51b3b8)throw new Error(_0x5cb169(0x631));if(_0x379f41[_0x5cb169(0x7ef)]&&_0x379f41['group']?.[_0x5cb169(0x270)]===!0x0){if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5cb169(0x237)][_0x5cb169(0x650)]+'):\x20delete\x20=\x20true'),_0x379f41[_0x5cb169(0x7ef)][_0x5cb169(0x697)]===!0x0)return{'message':_0x5cb169(0x313)};if(_0x51b3b8[_0x5cb169(0x660)][_0x5cb169(0x326)](_0x25f1bb=>_0x25f1bb[_0x5cb169(0x3b7)]['toString']()===_0x379f41[_0x5cb169(0x7ef)][_0x5cb169(0x40d)]))return this['logger'][_0x5cb169(0x800)](this[_0x5cb169(0x515)]+'\x20('+this[_0x5cb169(0x237)][_0x5cb169(0x650)]+'):\x20tem\x20blocks'),{'message':'No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x51b3b8[_0x5cb169(0x31b)]=_0x51b3b8['groups'][_0x5cb169(0x720)](_0xa5eb3c=>_0xa5eb3c[_0x5cb169(0x40d)]['toString']()!==_0x379f41[_0x5cb169(0x7ef)][_0x5cb169(0x40d)]);}else{if(_0x379f41['group']){if(_0x379f41[_0x5cb169(0x7ef)][_0x5cb169(0x697)]===!0x0)return{'message':_0x5cb169(0x430)};if(_0x379f41[_0x5cb169(0x7ef)]['_id']){let _0x2764c1=_0x51b3b8[_0x5cb169(0x31b)][_0x5cb169(0x557)](_0x1ae1a4=>_0x1ae1a4[_0x5cb169(0x40d)][_0x5cb169(0x2b4)]()===_0x379f41[_0x5cb169(0x7ef)][_0x5cb169(0x40d)]);_0x2764c1&&(_0x379f41[_0x5cb169(0x7ef)]['x']<0x0&&(_0x379f41[_0x5cb169(0x7ef)]['x']=0x0),_0x379f41['group']['y']<0x0&&(_0x379f41[_0x5cb169(0x7ef)]['y']=0x0),Object[_0x5cb169(0x3b8)](_0x2764c1,_0x379f41[_0x5cb169(0x7ef)]));}else _0x51b3b8[_0x5cb169(0x31b)][_0x5cb169(0x56b)](_0x379f41['group']);}}let _0x387b0b=await this['repository']['flow'][_0x5cb169(0x53d)](_0x51b3b8['_id'],_0x51b3b8,this['instance'][_0x5cb169(0x650)]);if(!_0x387b0b)throw new Error(_0x5cb169(0x484));return _0x387b0b;}catch(_0x55706c){throw this['logger'][_0x5cb169(0x546)](this[_0x5cb169(0x515)]+'\x20('+this[_0x5cb169(0x237)][_0x5cb169(0x650)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x55706c instanceof Error?_0x55706c[_0x5cb169(0x372)]:JSON[_0x5cb169(0x6c4)](_0x55706c,null,0x2))),new m(_0x5cb169(0x2bc)+(_0x55706c instanceof Error?_0x55706c[_0x5cb169(0x372)]:JSON[_0x5cb169(0x6c4)](_0x55706c,null,0x2)));}}async[a0_0x4c7c55(0x460)](_0x2057cb){const _0xcedf19=a0_0x4c7c55;try{this[_0xcedf19(0x756)]['verbose'](this[_0xcedf19(0x515)]+'\x20('+this[_0xcedf19(0x237)][_0xcedf19(0x650)]+_0xcedf19(0x5f0));let _0x420ece=await this[_0xcedf19(0x409)][_0xcedf19(0x4e8)][_0xcedf19(0x6bf)]({'where':{'name':_0x2057cb[_0xcedf19(0x6ca)]}},this['instance']['wuid']);if(!_0x420ece)throw new Error(_0xcedf19(0x631));let _0x26a861=!0x1;if(_0x2057cb[_0xcedf19(0x363)]?.[_0xcedf19(0x270)]===!0x0)_0x420ece[_0xcedf19(0x4d3)]=_0x420ece[_0xcedf19(0x4d3)][_0xcedf19(0x720)](_0x3e91c9=>_0x3e91c9&&_0x2057cb[_0xcedf19(0x363)]&&_0x3e91c9[_0xcedf19(0x40d)]&&_0x2057cb[_0xcedf19(0x363)][_0xcedf19(0x40d)]&&_0x3e91c9[_0xcedf19(0x40d)]['toString']()!==_0x2057cb[_0xcedf19(0x363)]['_id']['toString']()),_0x26a861=!0x0;else{let _0x541cc7=_0x420ece[_0xcedf19(0x4d3)][_0xcedf19(0x557)](_0x34f92a=>_0x34f92a&&_0x2057cb['condition']&&_0x34f92a[_0xcedf19(0x40d)]&&_0x2057cb[_0xcedf19(0x363)][_0xcedf19(0x40d)]&&_0x34f92a[_0xcedf19(0x40d)][_0xcedf19(0x2b4)]()===_0x2057cb[_0xcedf19(0x363)]['_id'][_0xcedf19(0x2b4)]());_0x541cc7?(_0x26a861=_0x541cc7['order']!==_0x2057cb[_0xcedf19(0x363)][_0xcedf19(0x50d)],Object[_0xcedf19(0x3b8)](_0x541cc7,_0x2057cb[_0xcedf19(0x363)])):(_0x420ece[_0xcedf19(0x4d3)]['push'](_0x2057cb[_0xcedf19(0x363)]),_0x26a861=!0x0);}if(_0x26a861){_0x420ece[_0xcedf19(0x4d3)][_0xcedf19(0x442)]((_0x5de33f,_0x1bf0cf)=>_0x5de33f[_0xcedf19(0x50d)]>_0x1bf0cf[_0xcedf19(0x50d)]?0x1:_0x1bf0cf[_0xcedf19(0x50d)]>_0x5de33f[_0xcedf19(0x50d)]?-0x1:0x0);for(let _0x32951f=0x0;_0x32951f<_0x420ece[_0xcedf19(0x4d3)][_0xcedf19(0x676)];_0x32951f++)_0x420ece['conditions'][_0x32951f][_0xcedf19(0x50d)]=_0x32951f+0x1;_0x420ece['conditions'][_0xcedf19(0x676)]>0x0&&(_0x420ece['conditions'][0x0][_0xcedf19(0x479)]=_0xcedf19(0x4ad));}let _0x8e0d9a=await this['repository'][_0xcedf19(0x4e8)][_0xcedf19(0x53d)](_0x420ece[_0xcedf19(0x40d)],_0x420ece,this[_0xcedf19(0x237)][_0xcedf19(0x650)]);if(!_0x8e0d9a)throw new Error(_0xcedf19(0x484));return _0x8e0d9a;}catch(_0x46347e){throw this[_0xcedf19(0x756)]['error'](this[_0xcedf19(0x515)]+'\x20('+this[_0xcedf19(0x237)][_0xcedf19(0x650)]+_0xcedf19(0x555)+(_0x46347e instanceof Error?_0x46347e[_0xcedf19(0x372)]:JSON[_0xcedf19(0x6c4)](_0x46347e,null,0x2))),new Error(_0xcedf19(0x3e1)+(_0x46347e instanceof Error?_0x46347e[_0xcedf19(0x372)]:JSON[_0xcedf19(0x6c4)](_0x46347e,null,0x2)));}}async[a0_0x4c7c55(0x3aa)](_0x3617a6){const _0x10fb80=a0_0x4c7c55;try{this[_0x10fb80(0x756)][_0x10fb80(0x800)](this[_0x10fb80(0x515)]+'\x20('+this[_0x10fb80(0x237)]['wuid']+_0x10fb80(0x2db));let _0x5cc6b0=await this[_0x10fb80(0x409)][_0x10fb80(0x4e8)]['findOne']({'where':{'name':_0x3617a6[_0x10fb80(0x6ca)]}},this[_0x10fb80(0x237)][_0x10fb80(0x650)]);if(!_0x5cc6b0)throw new Error(_0x10fb80(0x631));let _0x36b706=!0x1;if(_0x3617a6[_0x10fb80(0x4f2)]?.[_0x10fb80(0x270)]===!0x0)_0x5cc6b0[_0x10fb80(0x3b0)]=_0x5cc6b0['varedits'][_0x10fb80(0x720)](_0x58c994=>_0x58c994&&_0x3617a6[_0x10fb80(0x4f2)]&&_0x58c994[_0x10fb80(0x40d)]&&_0x3617a6[_0x10fb80(0x4f2)][_0x10fb80(0x40d)]&&_0x58c994['_id']['toString']()!==_0x3617a6[_0x10fb80(0x4f2)][_0x10fb80(0x40d)][_0x10fb80(0x2b4)]()),_0x36b706=!0x0;else{let _0xd32365=_0x5cc6b0[_0x10fb80(0x3b0)][_0x10fb80(0x557)](_0x121326=>_0x121326&&_0x3617a6[_0x10fb80(0x4f2)]&&_0x121326[_0x10fb80(0x40d)]&&_0x3617a6[_0x10fb80(0x4f2)]['_id']&&_0x121326[_0x10fb80(0x40d)][_0x10fb80(0x2b4)]()===_0x3617a6['varedit'][_0x10fb80(0x40d)][_0x10fb80(0x2b4)]());_0xd32365?(_0x36b706=_0xd32365[_0x10fb80(0x50d)]!==_0x3617a6[_0x10fb80(0x4f2)]['order'],Object['assign'](_0xd32365,_0x3617a6['varedit'])):(_0x5cc6b0[_0x10fb80(0x3b0)]['push'](_0x3617a6['varedit']),_0x36b706=!0x0);}if(_0x36b706){_0x5cc6b0[_0x10fb80(0x3b0)][_0x10fb80(0x442)]((_0x2eb787,_0x256d22)=>_0x2eb787[_0x10fb80(0x50d)]>_0x256d22[_0x10fb80(0x50d)]?0x1:_0x256d22[_0x10fb80(0x50d)]>_0x2eb787[_0x10fb80(0x50d)]?-0x1:0x0);for(let _0x6c5224=0x0;_0x6c5224<_0x5cc6b0[_0x10fb80(0x3b0)][_0x10fb80(0x676)];_0x6c5224++)_0x5cc6b0[_0x10fb80(0x3b0)][_0x6c5224][_0x10fb80(0x50d)]=_0x6c5224+0x1;}let _0x3b10ab=await this[_0x10fb80(0x409)][_0x10fb80(0x4e8)][_0x10fb80(0x53d)](_0x5cc6b0['_id'],_0x5cc6b0,this[_0x10fb80(0x237)][_0x10fb80(0x650)]);if(!_0x3b10ab)throw new Error(_0x10fb80(0x484));return _0x3b10ab;}catch(_0xbabcc9){throw this[_0x10fb80(0x756)]['error'](this[_0x10fb80(0x515)]+'\x20('+this[_0x10fb80(0x237)][_0x10fb80(0x650)]+_0x10fb80(0x555)+(_0xbabcc9 instanceof Error?_0xbabcc9[_0x10fb80(0x372)]:JSON[_0x10fb80(0x6c4)](_0xbabcc9,null,0x2))),new m('Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+(_0xbabcc9 instanceof Error?_0xbabcc9['message']:JSON['stringify'](_0xbabcc9,null,0x2)));}}async[a0_0x4c7c55(0x4ab)](_0x68250f){const _0x1707e0=a0_0x4c7c55;try{this['logger'][_0x1707e0(0x800)](this['instanceName']+'\x20('+this[_0x1707e0(0x237)][_0x1707e0(0x650)]+_0x1707e0(0x42f));let _0x5eadc1=await this[_0x1707e0(0x409)][_0x1707e0(0x4e8)][_0x1707e0(0x6bf)]({'where':{'name':_0x68250f[_0x1707e0(0x6ca)]}},this[_0x1707e0(0x237)]['wuid']);if(!_0x5eadc1)throw new Error(_0x1707e0(0x631));_0x68250f[_0x1707e0(0x63d)][_0x1707e0(0x6ca)]=_0x68250f[_0x1707e0(0x63d)][_0x1707e0(0x6ca)]['trim'](),_0x68250f['variable']['name'][_0x1707e0(0x3fd)]('_')&&(_0x68250f[_0x1707e0(0x63d)]['name']=_0x68250f[_0x1707e0(0x63d)][_0x1707e0(0x6ca)][_0x1707e0(0x390)](0x1)),_0x68250f[_0x1707e0(0x63d)]['name']=_0x68250f[_0x1707e0(0x63d)][_0x1707e0(0x6ca)][_0x1707e0(0x360)]();let _0x30ca06=_0x5eadc1[_0x1707e0(0x707)]['find'](_0x21493f=>_0x21493f[_0x1707e0(0x6ca)]===_0x68250f[_0x1707e0(0x63d)]['name']);if(_0x30ca06?.[_0x1707e0(0x7d2)]===!0x0)throw new Error(_0x1707e0(0x367));if(_0x68250f[_0x1707e0(0x63d)]?.['delete']===!0x0){if(!_0x30ca06)return{'message':_0x1707e0(0x283)};_0x5eadc1['variables']=_0x5eadc1['variables'][_0x1707e0(0x720)](_0x544a04=>_0x544a04[_0x1707e0(0x6ca)]!==_0x68250f[_0x1707e0(0x63d)][_0x1707e0(0x6ca)]);}else _0x30ca06?Object[_0x1707e0(0x3b8)](_0x30ca06,_0x68250f['variable']):_0x5eadc1[_0x1707e0(0x707)][_0x1707e0(0x56b)](_0x68250f[_0x1707e0(0x63d)]);let _0x20d9f3=await this[_0x1707e0(0x409)]['flow'][_0x1707e0(0x53d)](_0x5eadc1[_0x1707e0(0x40d)],_0x5eadc1,this[_0x1707e0(0x237)][_0x1707e0(0x650)]);if(!_0x20d9f3)throw new Error(_0x1707e0(0x484));return _0x20d9f3;}catch(_0x4a8ff4){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1707e0(0x237)]['wuid']+_0x1707e0(0x4f3)+(_0x4a8ff4 instanceof Error?_0x4a8ff4[_0x1707e0(0x372)]:JSON['stringify'](_0x4a8ff4,null,0x2))),new m(_0x1707e0(0x3be)+(_0x4a8ff4 instanceof Error?_0x4a8ff4[_0x1707e0(0x372)]:JSON[_0x1707e0(0x6c4)](_0x4a8ff4,null,0x2)));}}async[a0_0x4c7c55(0x311)](_0x48285a){const _0x35c4b7=a0_0x4c7c55;let _0x40597b=null;try{if(!this['AutomateSystem']?.[_0x35c4b7(0x534)]['enabled'])throw new m(_0x35c4b7(0x3a1));this[_0x35c4b7(0x756)]['verbose'](this[_0x35c4b7(0x515)]+'\x20('+this['instance'][_0x35c4b7(0x650)]+_0x35c4b7(0x4b8));let _0x58181d=(await this[_0x35c4b7(0x298)]({'numbers':[_0x48285a[_0x35c4b7(0x7a1)]]}))[0x0];if(!_0x58181d[_0x35c4b7(0x641)]&&!(0x0,y[_0x35c4b7(0x64c)])(_0x58181d[_0x35c4b7(0x50a)])&&!_0x58181d[_0x35c4b7(0x50a)]['includes'](_0x35c4b7(0x83e)))throw _0x40597b=JSON[_0x35c4b7(0x6c4)](_0x58181d,null,0x2),new m(_0x58181d);let _0x1bbab9=await this[_0x35c4b7(0x409)]['flow']['findOne']({'where':{'name':_0x48285a[_0x35c4b7(0x6ca)]}},this[_0x35c4b7(0x237)][_0x35c4b7(0x650)]);if(!_0x1bbab9)return this['logger']['error'](this[_0x35c4b7(0x515)]+'\x20('+this[_0x35c4b7(0x237)]['wuid']+_0x35c4b7(0x6b7)),{'message':'Flow\x20no\x20encontrado'};let _0x126453=await this[_0x35c4b7(0x7d4)](_0x1bbab9,_0x58181d[_0x35c4b7(0x50a)],_0x48285a[_0x35c4b7(0x449)]);if(_0x126453){this[_0x35c4b7(0x756)][_0x35c4b7(0x800)](this[_0x35c4b7(0x515)]+'\x20('+this[_0x35c4b7(0x237)][_0x35c4b7(0x650)]+_0x35c4b7(0x533));let _0x3ad779=await this[_0x35c4b7(0x7ab)](_0x126453);return _0x3ad779&&await this['processblock'](_0x126453,_0x3ad779),{'message':'Flow\x20iniciado\x20com\x20'+_0x48285a[_0x35c4b7(0x7a1)]};}}catch(_0x214808){if(this[_0x35c4b7(0x756)][_0x35c4b7(0x546)](this[_0x35c4b7(0x515)]+'\x20('+this[_0x35c4b7(0x237)][_0x35c4b7(0x650)]+_0x35c4b7(0x690)+(_0x214808 instanceof Error?_0x214808[_0x35c4b7(0x372)]:JSON[_0x35c4b7(0x6c4)](_0x214808,null,0x2))),_0x40597b=_0x214808 instanceof Error?_0x214808['message']:JSON[_0x35c4b7(0x6c4)](_0x214808,null,0x2),_0x40597b)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x40597b);}}async['closeExistingConversations'](_0x462df7){const _0x38671f=a0_0x4c7c55;try{let _0x465a47={'remoteJid':_0x462df7,'status':_0x38671f(0x4c3)},_0x19bf02={'status':_0x38671f(0x618)},_0x3501aa=await this[_0x38671f(0x409)]['flowConversation'][_0x38671f(0x579)](_0x465a47,_0x19bf02,this[_0x38671f(0x237)]['wuid']);return this[_0x38671f(0x756)][_0x38671f(0x800)](this['instanceName']+'\x20('+this['instance'][_0x38671f(0x650)]+_0x38671f(0x725)),_0x3501aa;}catch(_0x1622a5){throw this[_0x38671f(0x756)][_0x38671f(0x546)](this[_0x38671f(0x515)]+'\x20('+this['instance'][_0x38671f(0x650)]+_0x38671f(0x51e)+_0x1622a5[_0x38671f(0x372)]),_0x1622a5;}}async['createConversationforStartFlow'](_0x2aaa44,_0x478716,_0x19e351){const _0x4bb4a6=a0_0x4c7c55;this['logger'][_0x4bb4a6(0x800)](this[_0x4bb4a6(0x515)]+'\x20('+this['instance']['wuid']+_0x4bb4a6(0x4e3)),await this[_0x4bb4a6(0x32e)](_0x478716);try{let _0x3d3737=require(_0x4bb4a6(0x1cf))[_0x4bb4a6(0x4fc)],_0x20e50a=Date[_0x4bb4a6(0x593)](),_0x35a0cd=_0x4bb4a6(0x257),_0x3d6d36={},_0x32016f={},_0x5d52d5={..._0x2aaa44,'chatLog':null},_0xfefa6b=await this[_0x4bb4a6(0x2f0)](_0x5d52d5[_0x4bb4a6(0x707)]),_0xd354a8=await this[_0x4bb4a6(0x72d)](_0x478716),_0x53cc35={..._0xfefa6b,..._0xd354a8,'_remoteJid':_0x478716},_0x556172={'lastReceivedMessage':_0x3d6d36,'lastSendMessage':_0x32016f,'lastBlockId':_0x35a0cd,'lastCondition':!0x0,'realVariables':_0x53cc35};_0x5d52d5['chatLog']=_0x556172,_0x5d52d5[_0x4bb4a6(0x43a)][_0x4bb4a6(0x80e)]={..._0x53cc35,..._0x19e351},delete _0x5d52d5['_id'],_0x5d52d5[_0x4bb4a6(0x40d)]=new _0x3d3737(),_0x5d52d5['lastInteraction']=_0x20e50a,_0x5d52d5['status']=_0x4bb4a6(0x4c3),_0x5d52d5['remoteJid']=_0x478716;let _0x4be3a8=await this['repository'][_0x4bb4a6(0x26d)][_0x4bb4a6(0x53d)](_0x5d52d5[_0x4bb4a6(0x40d)],_0x5d52d5,this[_0x4bb4a6(0x237)][_0x4bb4a6(0x650)]);return this[_0x4bb4a6(0x756)][_0x4bb4a6(0x800)](this['instanceName']+'\x20('+this[_0x4bb4a6(0x237)][_0x4bb4a6(0x650)]+_0x4bb4a6(0x632)),_0x4be3a8?_0x5d52d5:null;}catch(_0x19fe61){throw this[_0x4bb4a6(0x756)][_0x4bb4a6(0x546)](this[_0x4bb4a6(0x515)]+'\x20('+this['instance']['wuid']+_0x4bb4a6(0x296)+(_0x19fe61 instanceof Error?_0x19fe61[_0x4bb4a6(0x372)]:JSON['stringify'](_0x19fe61,null,0x2))),new m(_0x19fe61[_0x4bb4a6(0x372)]);}}async['getConversation'](_0x5398da){const _0x2f190a=a0_0x4c7c55;try{this[_0x2f190a(0x756)][_0x2f190a(0x800)](this['instanceName']+'\x20('+this[_0x2f190a(0x237)][_0x2f190a(0x650)]+_0x2f190a(0x783)),this[_0x2f190a(0x756)][_0x2f190a(0x800)](this['instanceName']+'\x20('+this[_0x2f190a(0x237)][_0x2f190a(0x650)]+'):\x20Query\x20params:\x20'+_0x5398da);let _0x4f90ad={'where':{'_id':_0x5398da}};return await this[_0x2f190a(0x409)]['flowConversation'][_0x2f190a(0x6bf)](_0x4f90ad,this[_0x2f190a(0x237)][_0x2f190a(0x650)]);}catch(_0x4e1807){throw this['logger'][_0x2f190a(0x546)](this[_0x2f190a(0x515)]+'\x20('+this['instance'][_0x2f190a(0x650)]+_0x2f190a(0x72c)+(_0x4e1807 instanceof Error?_0x4e1807['message']:JSON['stringify'](_0x4e1807,null,0x2))),new m(_0x2f190a(0x373)+_0x4e1807[_0x2f190a(0x372)]);}}async[a0_0x4c7c55(0x290)](_0x32812e){const _0x80ff47=a0_0x4c7c55;try{return this[_0x80ff47(0x756)][_0x80ff47(0x800)](this[_0x80ff47(0x515)]+'\x20('+this['instance']['wuid']+_0x80ff47(0x22c)),await this['repository'][_0x80ff47(0x26d)][_0x80ff47(0x557)](_0x32812e,this[_0x80ff47(0x237)][_0x80ff47(0x650)]);}catch(_0x1f682c){throw this[_0x80ff47(0x756)][_0x80ff47(0x546)](this[_0x80ff47(0x515)]+'\x20('+this[_0x80ff47(0x237)][_0x80ff47(0x650)]+_0x80ff47(0x6ad)+(_0x1f682c instanceof Error?_0x1f682c[_0x80ff47(0x372)]:JSON[_0x80ff47(0x6c4)](_0x1f682c,null,0x2))),new m(_0x80ff47(0x790)+_0x1f682c[_0x80ff47(0x372)]);}}async['deleteConversation'](_0x2952e9){const _0x2f00dc=a0_0x4c7c55;try{return this[_0x2f00dc(0x756)]['verbose'](this[_0x2f00dc(0x515)]+'\x20('+this[_0x2f00dc(0x237)][_0x2f00dc(0x650)]+'):\x20Deletando\x20conversa...'),this[_0x2f00dc(0x756)]['verbose'](this['instanceName']+'\x20('+this[_0x2f00dc(0x237)]['wuid']+_0x2f00dc(0x321)+_0x2952e9),(await this[_0x2f00dc(0x409)][_0x2f00dc(0x26d)][_0x2f00dc(0x801)]({'where':{'_id':_0x2952e9}},this['instance'][_0x2f00dc(0x650)]))['deletedCount']===0x0?{'message':_0x2f00dc(0x35f)}:{'message':_0x2f00dc(0x67c)};}catch(_0x79fd48){throw this[_0x2f00dc(0x756)][_0x2f00dc(0x546)](this['instanceName']+'\x20('+this[_0x2f00dc(0x237)][_0x2f00dc(0x650)]+_0x2f00dc(0x240)+(_0x79fd48 instanceof Error?_0x79fd48[_0x2f00dc(0x372)]:JSON['stringify'](_0x79fd48,null,0x2))),new m(_0x2f00dc(0x6a6)+_0x79fd48[_0x2f00dc(0x372)]);}}async['editConversation'](_0x34d82c){const _0x3c2cb8=a0_0x4c7c55;try{let {_id:_0x50d75d,chatLog:_0x214502,status:_0x4f0026}=_0x34d82c;if(!_0x50d75d)return{'message':_0x3c2cb8(0x1cc)};let _0x3257b9={};if(_0x4f0026!==void 0x0&&(_0x3257b9[_0x3c2cb8(0x2bf)]=_0x4f0026),Object[_0x3c2cb8(0x722)](_0x3257b9)[_0x3c2cb8(0x676)]===0x0)return{'message':_0x3c2cb8(0x451)};let _0x41c608=await this[_0x3c2cb8(0x409)][_0x3c2cb8(0x26d)][_0x3c2cb8(0x53d)](_0x50d75d,_0x3257b9,this[_0x3c2cb8(0x237)]['wuid']);return _0x41c608||{'message':_0x3c2cb8(0x82c)};}catch(_0x402b8d){throw this[_0x3c2cb8(0x756)]['error'](this['instanceName']+'\x20('+this[_0x3c2cb8(0x237)][_0x3c2cb8(0x650)]+_0x3c2cb8(0x1c6)+(_0x402b8d instanceof Error?_0x402b8d['message']:JSON[_0x3c2cb8(0x6c4)](_0x402b8d,null,0x2))),new m(_0x3c2cb8(0x30e)+_0x402b8d[_0x3c2cb8(0x372)]);}}async['editChat'](_0x3c553){const _0x412fed=a0_0x4c7c55;let _0x1acd3c=await this[_0x412fed(0x409)][_0x412fed(0x4a2)][_0x412fed(0x6bf)]({'where':{'_id':_0x3c553[_0x412fed(0x40d)]}},this[_0x412fed(0x237)]['wuid']);if(!_0x1acd3c)throw new m(_0x412fed(0x604));console['log'](_0x3c553);try{_0x3c553['_id']=this[_0x412fed(0x25b)](_0x3c553[_0x412fed(0x40d)]);let {_id:_0x32f30b,leadInfo:_0x3649fd}=_0x3c553;if(!_0x32f30b)throw new Error(_0x412fed(0x4ce));let _0x4c7862=(_0x1d649c,_0x34246b,_0x2d7335)=>{_0x1d649c&&_0x2d7335['forEach'](_0xd7d16f=>{_0x1d649c[_0xd7d16f]!==void 0x0&&(_0x34246b['leadInfo.'+_0xd7d16f]=_0x1d649c[_0xd7d16f]);});},_0x2320e2={};if(_0x3649fd&&(_0x4c7862(_0x3649fd,_0x2320e2,[_0x412fed(0x483),_0x412fed(0x784),_0x412fed(0x701),_0x412fed(0x843),_0x412fed(0x2bf),_0x412fed(0x252),_0x412fed(0x2df),'atendimentoAberto',_0x412fed(0x405),_0x412fed(0x67e)]),Array[_0x412fed(0x5be)](_0x3649fd['customFields'])&&(_0x2320e2[_0x412fed(0x7e6)]=_0x3649fd[_0x412fed(0x278)][_0x412fed(0x4df)](_0x4ba79b=>({'_id':_0x4ba79b['_id'],'value':_0x4ba79b[_0x412fed(0x7cd)]}))),_0x3c553[_0x412fed(0x7d2)]['etiquetas']!==void 0x0)){let _0x11b783=await this['repository'][_0x412fed(0x671)][_0x412fed(0x557)]({'where':{}},this[_0x412fed(0x237)][_0x412fed(0x650)]),_0x31f286=new Set(_0x3c553[_0x412fed(0x7d2)][_0x412fed(0x67e)]||[]),_0x54c4be=new Set(_0x3c553[_0x412fed(0x7d2)]['etiquetas']),_0x30addc=new Set(_0x11b783[_0x412fed(0x4df)](_0x5785ce=>_0x5785ce['_id'])),_0x134032=[..._0x54c4be][_0x412fed(0x720)](_0x24cb67=>!_0x31f286['has'](_0x24cb67)&&_0x30addc['has'](_0x24cb67)),_0x21a149=[..._0x31f286][_0x412fed(0x720)](_0x445781=>!_0x54c4be[_0x412fed(0x42b)](_0x445781));if(_0x2320e2[_0x412fed(0x507)]=[..._0x31f286],_0x1acd3c&&!_0x1acd3c[_0x412fed(0x395)]){for(let _0x2305b9 of _0x134032)await this[_0x412fed(0x6ba)](_0x2305b9,_0x3c553[_0x412fed(0x40d)]),_0x31f286[_0x412fed(0x512)](_0x2305b9);for(let _0x563131 of _0x21a149)await this[_0x412fed(0x599)](_0x563131,_0x3c553[_0x412fed(0x40d)]),_0x31f286[_0x412fed(0x270)](_0x563131);}}if(_0x3c553['unreadcount']!==void 0x0&&(_0x2320e2['unreadcount']=Number(_0x3c553[_0x412fed(0x5cc)])),Object['keys'](_0x2320e2)[_0x412fed(0x676)]===0x0)throw new Error(_0x412fed(0x451));let _0x48f557=await this[_0x412fed(0x409)][_0x412fed(0x4a2)][_0x412fed(0x53d)]({'where':{'_id':_0x3c553[_0x412fed(0x40d)]}},_0x2320e2,this[_0x412fed(0x237)][_0x412fed(0x650)]);return _0x48f557&&J(this[_0x412fed(0x515)],_0x412fed(0x4cc),{'chat':_0x48f557}),_0x48f557?(this[_0x412fed(0x756)][_0x412fed(0x800)](this[_0x412fed(0x515)]+'\x20('+this[_0x412fed(0x237)][_0x412fed(0x650)]+_0x412fed(0x535)+JSON[_0x412fed(0x6c4)](_0x48f557,null,0x2)),_0x48f557):{'message':_0x412fed(0x726)};}catch(_0x247f77){throw this[_0x412fed(0x756)][_0x412fed(0x546)](this['instanceName']+'\x20('+this[_0x412fed(0x237)]['wuid']+_0x412fed(0x75c)+(_0x247f77 instanceof Error?_0x247f77[_0x412fed(0x372)]:JSON[_0x412fed(0x6c4)](_0x247f77,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x247f77['message']);}}async['AddChatLabel'](_0x4de8b1,_0x1286dd){const _0x6f9d82=a0_0x4c7c55;try{await this[_0x6f9d82(0x227)]['addChatLabel'](_0x1286dd,_0x4de8b1),console[_0x6f9d82(0x219)](_0x6f9d82(0x436)+_0x4de8b1+'\x20adicionado\x20ao\x20chat\x20'+_0x1286dd+_0x6f9d82(0x687));}catch(_0x3c9523){console['error'](_0x6f9d82(0x382)+_0x4de8b1+_0x6f9d82(0x1f6)+_0x1286dd+':',_0x3c9523);}}async['RemoveChatLabel'](_0x6c52,_0x53c4d6){const _0x59b5e0=a0_0x4c7c55;try{await this[_0x59b5e0(0x227)][_0x59b5e0(0x505)](_0x53c4d6,_0x6c52),console[_0x59b5e0(0x219)](_0x59b5e0(0x436)+_0x6c52+'\x20removido\x20do\x20chat\x20'+_0x53c4d6+'\x20com\x20sucesso.');}catch(_0x25d558){console[_0x59b5e0(0x546)]('Erro\x20ao\x20remover\x20label\x20'+_0x6c52+_0x59b5e0(0x554)+_0x53c4d6+':',_0x25d558);}}async[a0_0x4c7c55(0x792)](_0x5385dc){const _0x48a632=a0_0x4c7c55;try{let _0x2b6186=await this['repository']['automateSystem'][_0x48a632(0x591)](this[_0x48a632(0x237)][_0x48a632(0x650)]),_0x4142db=_0x5385dc[_0x48a632(0x40d)]?_0x2b6186[_0x48a632(0x480)][_0x48a632(0x654)](_0x1f905b=>_0x1f905b[_0x48a632(0x40d)]===_0x5385dc[_0x48a632(0x40d)]):-0x1;if(_0x5385dc[_0x48a632(0x270)]&&_0x4142db>-0x1)_0x2b6186['agents'][_0x48a632(0x82f)](_0x4142db,0x1);else{if(_0x4142db>-0x1){let _0x4a2072=_0x2b6186[_0x48a632(0x480)][_0x4142db];_0x5385dc[_0x48a632(0x2ac)]&&(_0x4a2072[_0x48a632(0x2ac)]=_0x5385dc[_0x48a632(0x2ac)]),_0x5385dc['name']&&(_0x4a2072['name']=_0x5385dc['name']),_0x5385dc[_0x48a632(0x701)]&&(_0x4a2072['email']=_0x5385dc[_0x48a632(0x701)]),_0x5385dc[_0x48a632(0x69f)]&&(_0x4a2072[_0x48a632(0x69f)]=_0x5385dc[_0x48a632(0x69f)]);}else _0x2b6186[_0x48a632(0x480)][_0x48a632(0x56b)]({'_id':_0x5385dc[_0x48a632(0x40d)]||new ie[(_0x48a632(0x697))][(_0x48a632(0x677))][(_0x48a632(0x4fc))]()[_0x48a632(0x2b4)](),'fone':_0x5385dc[_0x48a632(0x2ac)],'name':_0x5385dc[_0x48a632(0x6ca)],'email':_0x5385dc[_0x48a632(0x701)],'role':_0x5385dc[_0x48a632(0x69f)]});}let _0x1b9c9d={'agents':_0x2b6186[_0x48a632(0x480)]},_0xa0456a=await this[_0x48a632(0x409)][_0x48a632(0x213)]['update'](_0x1b9c9d,this['instance'][_0x48a632(0x650)]);return this[_0x48a632(0x53f)]=_0xa0456a,this[_0x48a632(0x756)][_0x48a632(0x800)](this[_0x48a632(0x515)]+'\x20('+this[_0x48a632(0x237)]['wuid']+_0x48a632(0x572)),this[_0x48a632(0x756)][_0x48a632(0x800)](this[_0x48a632(0x515)]+'\x20('+this[_0x48a632(0x237)][_0x48a632(0x650)]+_0x48a632(0x535)+this[_0x48a632(0x53f)]),_0xa0456a;}catch(_0x2912fe){throw this[_0x48a632(0x756)][_0x48a632(0x546)](this[_0x48a632(0x515)]+'\x20('+this['instance'][_0x48a632(0x650)]+_0x48a632(0x834)+(_0x2912fe instanceof Error?_0x2912fe[_0x48a632(0x372)]:JSON[_0x48a632(0x6c4)](_0x2912fe,null,0x2))),new m(_0x48a632(0x531)+_0x2912fe[_0x48a632(0x372)]);}}async[a0_0x4c7c55(0x514)](_0x25672d){const _0x37360f=a0_0x4c7c55;try{let _0x2797bd=await this['repository'][_0x37360f(0x213)]['findOrCreate'](this[_0x37360f(0x237)][_0x37360f(0x650)]),_0x3cc1cc=_0x25672d[_0x37360f(0x40d)]?_0x2797bd[_0x37360f(0x278)]['findIndex'](_0x471e18=>_0x471e18[_0x37360f(0x40d)]===_0x25672d[_0x37360f(0x40d)]):-0x1,_0x38f859=!0x1,_0x9984e2=_0x2797bd[_0x37360f(0x278)][_0x37360f(0x326)](_0x3b533d=>_0x3b533d['order']===_0x25672d['order']);if(_0x25672d['delete']&&_0x3cc1cc>-0x1)_0x2797bd[_0x37360f(0x278)][_0x37360f(0x82f)](_0x3cc1cc,0x1),_0x38f859=!0x0;else{if(_0x3cc1cc>-0x1){if(_0x2797bd[_0x37360f(0x278)][_0x37360f(0x326)](_0x52822b=>_0x52822b['name']===_0x25672d[_0x37360f(0x6ca)]&&_0x52822b[_0x37360f(0x40d)]!==_0x25672d[_0x37360f(0x40d)]))throw new Error(_0x37360f(0x1ec));let _0x5ea69b=_0x2797bd[_0x37360f(0x278)][_0x3cc1cc];_0x25672d[_0x37360f(0x50d)]&&(_0x9984e2||!Number[_0x37360f(0x1ca)](_0x25672d[_0x37360f(0x50d)]))&&(_0x5ea69b['order']=_0x25672d[_0x37360f(0x50d)],_0x38f859=!0x0),_0x25672d[_0x37360f(0x6ca)]&&(_0x5ea69b['name']=_0x25672d[_0x37360f(0x6ca)]);}else{if(_0x2797bd[_0x37360f(0x278)][_0x37360f(0x326)](_0x205061=>_0x205061[_0x37360f(0x6ca)]===_0x25672d[_0x37360f(0x6ca)]&&_0x205061[_0x37360f(0x40d)]!==_0x25672d['_id']))throw new Error(_0x37360f(0x1ec));_0x2797bd[_0x37360f(0x278)][_0x37360f(0x56b)]({'_id':_0x25672d['_id']||new ie[(_0x37360f(0x697))]['Types'][(_0x37360f(0x4fc))]()[_0x37360f(0x2b4)](),'order':_0x25672d[_0x37360f(0x50d)],'name':_0x25672d[_0x37360f(0x6ca)]}),_0x38f859=!0x0;}}if(_0x38f859){_0x2797bd['customFields']['sort']((_0x33c8cc,_0x12b560)=>_0x33c8cc[_0x37360f(0x50d)]>_0x12b560[_0x37360f(0x50d)]?0x1:_0x12b560[_0x37360f(0x50d)]>_0x33c8cc[_0x37360f(0x50d)]?-0x1:0x0);for(let _0xb8944f=0x0;_0xb8944f<_0x2797bd['customFields'][_0x37360f(0x676)];_0xb8944f++)_0x2797bd[_0x37360f(0x278)][_0xb8944f][_0x37360f(0x50d)]=_0xb8944f+0x1;}let _0x270375=await this[_0x37360f(0x409)]['automateSystem']['update'](_0x2797bd,this[_0x37360f(0x237)][_0x37360f(0x650)]);return this[_0x37360f(0x53f)]=_0x270375,this['logger'][_0x37360f(0x800)](this[_0x37360f(0x515)]+'\x20('+this[_0x37360f(0x237)][_0x37360f(0x650)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x37360f(0x756)][_0x37360f(0x800)](this['instanceName']+'\x20('+this[_0x37360f(0x237)][_0x37360f(0x650)]+'):\x20'+this[_0x37360f(0x53f)]),_0x270375;}catch(_0x186c4e){throw this[_0x37360f(0x756)][_0x37360f(0x546)](this['instanceName']+'\x20('+this['instance'][_0x37360f(0x650)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x186c4e instanceof Error?_0x186c4e[_0x37360f(0x372)]:JSON[_0x37360f(0x6c4)](_0x186c4e,null,0x2))),new m(_0x37360f(0x24f)+_0x186c4e[_0x37360f(0x372)]);}}async['updateFlowConfig'](_0x56a168){const _0x5127f2=a0_0x4c7c55;try{let _0x150a17=await this[_0x5127f2(0x409)][_0x5127f2(0x213)][_0x5127f2(0x591)](this[_0x5127f2(0x237)][_0x5127f2(0x650)]);if(!_0x150a17)throw new Error('No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.');let _0x3e2ff8={'_id':_0x150a17[_0x5127f2(0x40d)],'flowConfig':{'enabled':_0x56a168['enabled']??_0x150a17[_0x5127f2(0x534)][_0x5127f2(0x77b)],'ignoreGroups':_0x56a168[_0x5127f2(0x258)]??_0x150a17['flowConfig']['ignoreGroups'],'prefixCommand':_0x56a168[_0x5127f2(0x74a)]??_0x150a17['flowConfig'][_0x5127f2(0x74a)],'stopConversation':_0x56a168[_0x5127f2(0x56f)]??_0x150a17[_0x5127f2(0x534)]['stopConversation'],'stopMinutes':_0x56a168['stopMinutes']??_0x150a17[_0x5127f2(0x534)][_0x5127f2(0x3a5)],'stopWhenYouSendMsg':_0x56a168[_0x5127f2(0x4c9)]??_0x150a17['flowConfig']['stopWhenYouSendMsg']}},_0x3d5092=await this[_0x5127f2(0x409)][_0x5127f2(0x213)]['update'](_0x3e2ff8,this[_0x5127f2(0x237)][_0x5127f2(0x650)]);return this['AutomateSystem']=_0x3d5092,this['logger'][_0x5127f2(0x800)](this['instanceName']+'\x20('+this[_0x5127f2(0x237)][_0x5127f2(0x650)]+_0x5127f2(0x572)),this[_0x5127f2(0x756)]['verbose'](this[_0x5127f2(0x515)]+'\x20('+this[_0x5127f2(0x237)][_0x5127f2(0x650)]+_0x5127f2(0x535)+this[_0x5127f2(0x53f)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3d5092;}catch(_0x399343){throw this[_0x5127f2(0x756)]['error'](this['instanceName']+'\x20('+this[_0x5127f2(0x237)][_0x5127f2(0x650)]+'):\x20Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20'+(_0x399343 instanceof Error?_0x399343[_0x5127f2(0x372)]:JSON['stringify'](_0x399343,null,0x2))),new m(_0x5127f2(0x34f)+_0x399343['message']);}}async[a0_0x4c7c55(0x715)](){const _0x5d1e37=a0_0x4c7c55;try{let _0x12efa9=await this[_0x5d1e37(0x409)][_0x5d1e37(0x213)][_0x5d1e37(0x591)](this['instance'][_0x5d1e37(0x650)]);return this[_0x5d1e37(0x53f)]=_0x12efa9,this[_0x5d1e37(0x756)]['verbose'](this[_0x5d1e37(0x515)]+'\x20('+this[_0x5d1e37(0x237)][_0x5d1e37(0x650)]+_0x5d1e37(0x682)),this[_0x5d1e37(0x756)][_0x5d1e37(0x800)](this[_0x5d1e37(0x53f)]),_0x12efa9;}catch(_0x387322){throw this[_0x5d1e37(0x756)][_0x5d1e37(0x546)](this[_0x5d1e37(0x515)]+'\x20('+this[_0x5d1e37(0x237)][_0x5d1e37(0x650)]+_0x5d1e37(0x712)+(_0x387322 instanceof Error?_0x387322[_0x5d1e37(0x372)]:JSON['stringify'](_0x387322,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x387322[_0x5d1e37(0x372)]);}}async[a0_0x4c7c55(0x5e1)](){const _0x1c94ed=a0_0x4c7c55;this[_0x1c94ed(0x4f0)]&&clearTimeout(this['timerId']),this[_0x1c94ed(0x4f0)]=setTimeout(()=>{const _0x53602f=_0x1c94ed;this[_0x53602f(0x6a1)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x300298=a0_0x4c7c55;Date[_0x300298(0x593)]()-this[_0x300298(0x815)]>=0x1d4c0&&(this[_0x300298(0x756)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x300298(0x650)]+_0x300298(0x5c8)),this['processingScheduleMessageId']=null,this[_0x300298(0x815)]=0x0,this[_0x300298(0x203)]=0x0,await this[_0x300298(0x6b3)]());}async[a0_0x4c7c55(0x6b3)](){const _0x2e910c=a0_0x4c7c55;let _0x353317=()=>{const _0x5a7e6f=a0_0x31df;this[_0x5a7e6f(0x756)][_0x5a7e6f(0x800)](this[_0x5a7e6f(0x515)]+'\x20('+this[_0x5a7e6f(0x237)][_0x5a7e6f(0x650)]+_0x5a7e6f(0x28c)+this[_0x5a7e6f(0x7ae)]+_0x5a7e6f(0x3ee));},_0x20eb9c=async()=>{const _0x1ec8f0=a0_0x31df;this[_0x1ec8f0(0x756)][_0x1ec8f0(0x800)](this[_0x1ec8f0(0x515)]+'\x20('+this[_0x1ec8f0(0x237)][_0x1ec8f0(0x650)]+_0x1ec8f0(0x7a7));let _0x41cc41=Date[_0x1ec8f0(0x593)]()-0xc*0x3c*0x3c*0x3e8,_0x5d661c={'where':{'status':{'$in':[_0x1ec8f0(0x6de),'sending']},'$or':[{'when':{'$lte':Date[_0x1ec8f0(0x593)](),'$gte':_0x41cc41}},{'when':0x0}]}};return await this[_0x1ec8f0(0x409)][_0x1ec8f0(0x72f)][_0x1ec8f0(0x557)](_0x5d661c,this[_0x1ec8f0(0x237)]['wuid']);},_0xcc60ce=async _0x1fe510=>{const _0x15bc60=a0_0x31df;for(let _0x393d39 of _0x1fe510){let _0x96b907={'_id':_0x393d39[_0x15bc60(0x40d)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x15bc60(0x593)]()-0x1770}}]},_0x51ba75={'startSend':Date['now']()};if(!await this['repository'][_0x15bc60(0x72f)][_0x15bc60(0x53d)](_0x96b907,_0x51ba75,this[_0x15bc60(0x237)]['wuid']))return;if(!this['isConnected']){this[_0x15bc60(0x756)][_0x15bc60(0x800)](this[_0x15bc60(0x515)]+'\x20('+this[_0x15bc60(0x237)]['wuid']+_0x15bc60(0x804));break;}if(_0x393d39['type']===_0x15bc60(0x4e8)&&!this[_0x15bc60(0x53f)]?.[_0x15bc60(0x534)][_0x15bc60(0x77b)]){this['logger'][_0x15bc60(0x546)](this['instanceName']+'\x20('+this[_0x15bc60(0x237)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x393d39[_0x15bc60(0x584)]||_0x393d39[_0x15bc60(0x584)]['length']===0x0)&&(_0x393d39=await this[_0x15bc60(0x409)]['scheduleMessage'][_0x15bc60(0x75d)](_0x393d39[_0x15bc60(0x40d)],{'status':_0x15bc60(0x5a0),'remoteJidsRemaining':[..._0x393d39[_0x15bc60(0x58e)]]},this[_0x15bc60(0x237)]['wuid']));for(let _0x334bc4 of _0x393d39[_0x15bc60(0x584)]){if(await this['setRestartTimer'](),this[_0x15bc60(0x815)]=Date['now'](),_0x393d39[_0x15bc60(0x80f)][_0x15bc60(0x326)](_0x4ebe16=>_0x4ebe16[_0x15bc60(0x7a1)]===_0x334bc4)){this[_0x15bc60(0x756)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x15bc60(0x650)]+_0x15bc60(0x76c)+_0x334bc4+'.\x20Pulando.');continue;}if(!this['isConnected']){this[_0x15bc60(0x756)]['verbose'](this['instanceName']+'\x20('+this[_0x15bc60(0x237)][_0x15bc60(0x650)]+_0x15bc60(0x431));break;}if(!this[_0x15bc60(0x7ae)]){this['logger'][_0x15bc60(0x800)](this[_0x15bc60(0x515)]+'\x20('+this['instance']['wuid']+_0x15bc60(0x61b)+_0x393d39[_0x15bc60(0x40d)]+_0x15bc60(0x7c7));break;}if(_0x393d39[_0x15bc60(0x23a)]===_0x15bc60(0x4e8)&&!this[_0x15bc60(0x53f)]?.[_0x15bc60(0x534)][_0x15bc60(0x77b)]){this[_0x15bc60(0x756)][_0x15bc60(0x546)](this[_0x15bc60(0x515)]+'\x20('+this['instance'][_0x15bc60(0x650)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');break;}let _0xdec878={'remoteJid':_0x334bc4,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x15bc60(0x593)]()},_0x247c1e=null;try{let _0x5c3a8b=await this['SendScheduleMessage'](_0x334bc4,_0x393d39);_0xdec878[_0x15bc60(0x546)]=_0x5c3a8b[_0x15bc60(0x546)],_0xdec878['id']=_0x5c3a8b['error']?null:_0x5c3a8b['id'],_0xdec878['error_log']=_0x5c3a8b[_0x15bc60(0x546)]?_0x5c3a8b[_0x15bc60(0x640)]?_0x5c3a8b['detail'][_0x15bc60(0x2b4)]():'':null;let _0x3d3ff4={'$push':{'messagesSend':_0xdec878},'$pull':{'remoteJidsRemaining':_0x334bc4}},_0x1017a0=_0x393d39[_0x15bc60(0x40d)];if(_0x247c1e=await this[_0x15bc60(0x409)][_0x15bc60(0x72f)][_0x15bc60(0x75d)](_0x1017a0,_0x3d3ff4,this['instance'][_0x15bc60(0x650)]),_0x5c3a8b[_0x15bc60(0x546)])continue;let _0x5ab650=this[_0x15bc60(0x798)](_0x393d39[_0x15bc60(0x3e0)],_0x393d39[_0x15bc60(0x54b)]);await this[_0x15bc60(0x67a)](_0x5ab650);}catch(_0xd33af2){this[_0x15bc60(0x756)][_0x15bc60(0x546)](this[_0x15bc60(0x515)]+'\x20('+this['instance']['wuid']+_0x15bc60(0x49d)+_0x334bc4+':\x20'+(_0xd33af2 instanceof Error?_0xd33af2[_0x15bc60(0x372)]:JSON[_0x15bc60(0x6c4)](_0xd33af2,null,0x2))),_0xdec878[_0x15bc60(0x546)]=!0x0,_0xdec878[_0x15bc60(0x429)]=_0xd33af2['message'];let _0x19ab0f={'$push':{'messagesSend':_0xdec878},'$pull':{'remoteJidsRemaining':_0x334bc4}},_0x42ad1b=_0x393d39[_0x15bc60(0x40d)];_0x247c1e=await this[_0x15bc60(0x409)]['scheduleMessage']['updateOneById'](_0x42ad1b,_0x19ab0f,this[_0x15bc60(0x237)][_0x15bc60(0x650)]);}finally{if(_0x247c1e&&_0x247c1e[_0x15bc60(0x2bf)]===_0x15bc60(0x4cb)){this[_0x15bc60(0x756)][_0x15bc60(0x800)](this[_0x15bc60(0x515)]+'\x20('+this[_0x15bc60(0x237)]['wuid']+_0x15bc60(0x61b)+_0x393d39[_0x15bc60(0x40d)]+_0x15bc60(0x4fe));break;}}}let _0x35acce=await this[_0x15bc60(0x409)][_0x15bc60(0x72f)][_0x15bc60(0x755)](_0x393d39['_id'],this[_0x15bc60(0x237)][_0x15bc60(0x650)]);if(_0x35acce['remoteJidsRemaining'][_0x15bc60(0x676)]===0x0&&_0x35acce[_0x15bc60(0x2bf)]!=='stopped'){let _0x5bef24={'$set':{'status':'done'}},_0x1a5019=_0x35acce[_0x15bc60(0x40d)];await this[_0x15bc60(0x409)][_0x15bc60(0x72f)][_0x15bc60(0x75d)](_0x1a5019,_0x5bef24,this[_0x15bc60(0x237)]['wuid']);}await new Promise(_0x4166b5=>setTimeout(_0x4166b5,0x1388));}},_0x577fba=async()=>{const _0x41ba22=a0_0x31df;let _0x568d13={'where':{'status':_0x41ba22(0x6de),'when':{'$gt':Date[_0x41ba22(0x593)]()}}},_0x331d3a=await this[_0x41ba22(0x409)][_0x41ba22(0x72f)][_0x41ba22(0x6bf)](_0x568d13,this[_0x41ba22(0x237)]['wuid']);_0x331d3a&&_0x331d3a[_0x41ba22(0x79d)]-Date[_0x41ba22(0x593)]()<=0x5265c00?this[_0x41ba22(0x203)]=_0x331d3a['when']-Date['now']():this[_0x41ba22(0x203)]=(0x3c+Math[_0x41ba22(0x704)](Math[_0x41ba22(0x675)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x41ba22(0x20b)](this['delayMessage'],0x7d0);let _0xd8f08c=Math['round'](this[_0x41ba22(0x203)]/0xea60);if(_0x331d3a){let _0x4ecbfe=new Date(_0x331d3a[_0x41ba22(0x79d)])['toLocaleString']();this[_0x41ba22(0x756)][_0x41ba22(0x800)](this['instanceName']+'\x20('+this[_0x41ba22(0x237)][_0x41ba22(0x650)]+'):\x20encontrado\x20prxima\x20mensagem\x20para\x20'+_0x4ecbfe+_0x41ba22(0x807)+_0xd8f08c+_0x41ba22(0x79f));}else this[_0x41ba22(0x756)][_0x41ba22(0x800)](this[_0x41ba22(0x515)]+'\x20('+this[_0x41ba22(0x237)][_0x41ba22(0x650)]+'):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20'+_0xd8f08c+_0x41ba22(0x79f));setTimeout(()=>this['scheduleNextCheck'](),this[_0x41ba22(0x203)]);};if(this[_0x2e910c(0x7ae)]){await this[_0x2e910c(0x5e1)](),_0x353317();return;}if(!this[_0x2e910c(0x45e)]){this[_0x2e910c(0x756)][_0x2e910c(0x800)](this[_0x2e910c(0x515)]+'\x20('+this[_0x2e910c(0x237)][_0x2e910c(0x650)]+_0x2e910c(0x71a)),this[_0x2e910c(0x7ae)]=null,this[_0x2e910c(0x815)]=0x0,this[_0x2e910c(0x203)]=0x0;return;}try{let _0x287131=await _0x20eb9c();_0x287131[_0x2e910c(0x676)]===0x0?this[_0x2e910c(0x756)][_0x2e910c(0x800)](this['instanceName']+'\x20('+this[_0x2e910c(0x237)][_0x2e910c(0x650)]+_0x2e910c(0x1d5)):(this[_0x2e910c(0x7ae)]=_0x287131[0x0][_0x2e910c(0x40d)],await _0xcc60ce(_0x287131)),await _0x577fba(),this['processingScheduleMessageId']=null;}catch(_0x89165e){this['logger'][_0x2e910c(0x546)](_0x2e910c(0x492)+(_0x89165e instanceof Error?_0x89165e[_0x2e910c(0x372)]:JSON['stringify'](_0x89165e,null,0x2)));}}[a0_0x4c7c55(0x798)](_0x1f2deb,_0x352e26){const _0x69f807=a0_0x4c7c55;return _0x1f2deb=Math['max'](0.5,_0x1f2deb),_0x352e26=Math[_0x69f807(0x74c)](Math[_0x69f807(0x20b)](0x3,_0x352e26),0x78),Math[_0x69f807(0x704)](Math[_0x69f807(0x675)]()*(_0x352e26-_0x1f2deb+0x1)+_0x1f2deb)*0x3e8;}[a0_0x4c7c55(0x67a)](_0x4c10f6){return new Promise(_0x63906b=>setTimeout(_0x63906b,_0x4c10f6));}async[a0_0x4c7c55(0x72d)](_0xda93bc){const _0x487918=a0_0x4c7c55;if(!this['AutomateSystem']&&(await this[_0x487918(0x715)](),!this['AutomateSystem']))return null;_0xda93bc=this['createJid'](_0xda93bc);let _0x2e3ad6=await this[_0x487918(0x409)]['chat'][_0x487918(0x6bf)]({'where':{'_id':_0xda93bc}},this['instance']['wuid']),_0x1a538d={};if(_0x2e3ad6&&_0x2e3ad6[_0x487918(0x7d2)]){let _0x348e7e=_0x2e3ad6[_0x487918(0x7d2)];typeof _0x348e7e[_0x487918(0x483)]=='string'&&(_0x1a538d[_0x487918(0x483)]=_0x348e7e[_0x487918(0x483)]),typeof _0x348e7e[_0x487918(0x784)]=='string'&&(_0x1a538d[_0x487918(0x784)]=_0x348e7e[_0x487918(0x784)]),typeof _0x348e7e[_0x487918(0x701)]==_0x487918(0x6ed)&&(_0x1a538d[_0x487918(0x701)]=_0x348e7e[_0x487918(0x701)]),typeof _0x348e7e[_0x487918(0x843)]==_0x487918(0x6ed)&&(_0x1a538d[_0x487918(0x843)]=_0x348e7e[_0x487918(0x843)]),typeof _0x348e7e['status']==_0x487918(0x6ed)&&(_0x1a538d['status']=_0x348e7e[_0x487918(0x2bf)]),typeof _0x348e7e['notas']==_0x487918(0x6ed)&&(_0x1a538d[_0x487918(0x252)]=_0x348e7e[_0x487918(0x252)]),typeof _0x348e7e[_0x487918(0x405)]==_0x487918(0x6ed)&&(_0x1a538d[_0x487918(0x405)]=_0x348e7e[_0x487918(0x405)]),Array['isArray'](_0x348e7e['tags'])&&(_0x1a538d['tags']=_0x348e7e[_0x487918(0x2df)][_0x487918(0x1c0)](',\x20')),Array[_0x487918(0x5be)](_0x348e7e['etiquetas'])&&(_0x1a538d[_0x487918(0x67e)]=_0x348e7e[_0x487918(0x67e)][_0x487918(0x1c0)](',\x20'));}return _0x2e3ad6&&_0x2e3ad6[_0x487918(0x7d2)]&&_0x2e3ad6[_0x487918(0x7d2)][_0x487918(0x278)]&&_0x2e3ad6[_0x487918(0x7d2)][_0x487918(0x278)][_0x487918(0x559)](_0x1051d8=>{const _0x267469=_0x487918;let _0x4d7f00=this[_0x267469(0x53f)]?.['customFields']['find'](_0x305c87=>_0x305c87[_0x267469(0x40d)]===_0x1051d8['_id']);_0x4d7f00&&(_0x1a538d[_0x4d7f00[_0x267469(0x6ca)]]=_0x1051d8['value']);}),_0x1a538d;}async[a0_0x4c7c55(0x241)](_0x507f09,_0x597f76){const _0x4da971=a0_0x4c7c55;let _0x41ca5a=await this[_0x4da971(0x72d)](_0x597f76);return this[_0x4da971(0x7bc)](_0x507f09,_0x41ca5a);}async[a0_0x4c7c55(0x46b)](_0x1e1d4b){const _0x1a94ff=a0_0x4c7c55;try{if(this[_0x1a94ff(0x756)]['verbose'](this[_0x1a94ff(0x515)]+'\x20('+this['instance'][_0x1a94ff(0x650)]+_0x1a94ff(0x520)),_0x1e1d4b[_0x1a94ff(0x270)]&&_0x1e1d4b[_0x1a94ff(0x40d)]){if(this[_0x1a94ff(0x7ae)]===_0x1e1d4b['_id'][_0x1a94ff(0x2b4)]())throw new Error(_0x1a94ff(0x6e2));let _0x373685=await this[_0x1a94ff(0x409)]['scheduleMessage'][_0x1a94ff(0x801)](_0x1e1d4b['_id'],this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x373685;}let _0x5c4f54;if(_0x1e1d4b[_0x1a94ff(0x40d)]&&(_0x5c4f54=await this[_0x1a94ff(0x409)][_0x1a94ff(0x72f)][_0x1a94ff(0x755)](_0x1e1d4b['_id'],this[_0x1a94ff(0x237)][_0x1a94ff(0x650)])),_0x5c4f54){let _0x2d2253;if(this['processingScheduleMessageId']===_0x5c4f54[_0x1a94ff(0x40d)][_0x1a94ff(0x2b4)]())_0x2d2253={'$set':{'status':_0x1e1d4b[_0x1a94ff(0x2bf)]}};else{let {_id:_0x4f751b,..._0x5e9a83}=_0x1e1d4b;_0x2d2253={'$set':_0x5e9a83};}let _0x2be1cf=await this[_0x1a94ff(0x409)]['scheduleMessage'][_0x1a94ff(0x75d)](_0x1e1d4b[_0x1a94ff(0x40d)],_0x2d2253,this[_0x1a94ff(0x237)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2be1cf;}else{_0x1e1d4b['owner']=this[_0x1a94ff(0x237)]['wuid'];let _0x393122=await this['repository'][_0x1a94ff(0x72f)][_0x1a94ff(0x3ae)](_0x1e1d4b,this['instance'][_0x1a94ff(0x650)]);return setTimeout(()=>this[_0x1a94ff(0x6b3)](),0x7d0),_0x393122;}}catch(_0x2e650d){throw this[_0x1a94ff(0x756)][_0x1a94ff(0x546)](this['instanceName']+'\x20('+this[_0x1a94ff(0x237)][_0x1a94ff(0x650)]+_0x1a94ff(0x5f6)+(_0x2e650d instanceof Error?_0x2e650d[_0x1a94ff(0x372)]:JSON[_0x1a94ff(0x6c4)](_0x2e650d,null,0x2))),new m(_0x1a94ff(0x840)+_0x2e650d['message']);}}async[a0_0x4c7c55(0x349)](){const _0x28a9e6=a0_0x4c7c55;try{return await this[_0x28a9e6(0x409)][_0x28a9e6(0x72f)][_0x28a9e6(0x557)]({'where':{}},this[_0x28a9e6(0x237)][_0x28a9e6(0x650)]);}catch(_0xc52d6f){throw this[_0x28a9e6(0x756)]['error'](this[_0x28a9e6(0x515)]+'\x20('+this['instance'][_0x28a9e6(0x650)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0xc52d6f instanceof Error?_0xc52d6f['message']:JSON[_0x28a9e6(0x6c4)](_0xc52d6f,null,0x2))),new m(_0x28a9e6(0x840)+_0xc52d6f['message']);}}async[a0_0x4c7c55(0x57f)](){const _0xa4b09b=a0_0x4c7c55;try{let _0xb251ef={'status':_0xa4b09b(0x4b6)},_0x39f7e3=await this['repository'][_0xa4b09b(0x72f)][_0xa4b09b(0x537)](_0xb251ef,this[_0xa4b09b(0x237)][_0xa4b09b(0x650)]);if(!_0x39f7e3[_0xa4b09b(0x546)])this['logger']['verbose'](this[_0xa4b09b(0x515)]+'\x20('+this['instance']['wuid']+_0xa4b09b(0x67b));else throw new Error(_0x39f7e3['error'][_0xa4b09b(0x372)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0xbf544){throw this[_0xa4b09b(0x756)]['error'](this[_0xa4b09b(0x515)]+'\x20('+this[_0xa4b09b(0x237)]['wuid']+_0xa4b09b(0x24e)+(_0xbf544 instanceof Error?_0xbf544[_0xa4b09b(0x372)]:JSON[_0xa4b09b(0x6c4)](_0xbf544,null,0x2))),new m('Erro:'+_0xbf544[_0xa4b09b(0x372)]);}}async['SendScheduleMessage'](_0x197701,_0xe3f519){const _0x5dbc4a=a0_0x4c7c55;try{if(_0xe3f519[_0x5dbc4a(0x23a)]==='flow'&&!this['AutomateSystem']?.[_0x5dbc4a(0x534)]['enabled'])return this[_0x5dbc4a(0x756)][_0x5dbc4a(0x546)](this[_0x5dbc4a(0x515)]+'\x20('+this[_0x5dbc4a(0x237)]['wuid']+_0x5dbc4a(0x6b8)),{'error':!0x0,'detail':_0x5dbc4a(0x3a1)};switch(_0xe3f519['type']){case'text':return await this['scheduleSendText'](_0xe3f519,_0x197701);case'media':return await this[_0x5dbc4a(0x425)](_0xe3f519,_0x197701);case _0x5dbc4a(0x3b1):return await this[_0x5dbc4a(0x478)](_0xe3f519,_0x197701);case'flow':let _0x5955a9=new _e();return _0x5955a9[_0x5dbc4a(0x6ca)]=_0xe3f519[_0x5dbc4a(0x7df)],_0x5955a9['remoteJid']=_0x197701,await this[_0x5dbc4a(0x311)](_0x5955a9);break;default:return this[_0x5dbc4a(0x756)][_0x5dbc4a(0x546)](this[_0x5dbc4a(0x515)]+'\x20('+this[_0x5dbc4a(0x237)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0xe3f519[_0x5dbc4a(0x23a)]),{'error':!0x0,'detail':_0x5dbc4a(0x608)};}}catch(_0xcbbaa0){return this[_0x5dbc4a(0x756)][_0x5dbc4a(0x546)](this[_0x5dbc4a(0x515)]+'\x20('+this[_0x5dbc4a(0x237)]['wuid']+_0x5dbc4a(0x260)+(_0xcbbaa0 instanceof Error?_0xcbbaa0['message']:JSON[_0x5dbc4a(0x6c4)](_0xcbbaa0,null,0x2))),{'error':!0x0,'detail':_0xcbbaa0['message']};}}[a0_0x4c7c55(0x610)](_0x4d249d){const _0x870453=a0_0x4c7c55;let _0x4d7251=_0x4d249d[_0x870453(0x81e)]('|'),_0xa4b674=Math[_0x870453(0x704)](Math['random']()*_0x4d7251[_0x870453(0x676)]);return _0x4d7251[_0xa4b674]['trim']();}async['scheduleSendText'](_0x4b27ea,_0xe67080){const _0x50acc2=a0_0x4c7c55;if(this[_0x50acc2(0x756)][_0x50acc2(0x800)](this['instanceName']+'\x20('+this['instance'][_0x50acc2(0x650)]+_0x50acc2(0x497)),!_0x4b27ea[_0x50acc2(0x372)]['text']||_0x4b27ea[_0x50acc2(0x372)][_0x50acc2(0x55e)][_0x50acc2(0x676)]===0x0)return{'error':!0x0,'detail':_0x50acc2(0x84c)};let _0x1c3abb=this['getRandomText'](_0x4b27ea[_0x50acc2(0x372)][_0x50acc2(0x55e)]),_0x22b301=await this[_0x50acc2(0x241)](_0x1c3abb,_0xe67080),_0x1d3e0a={'number':_0xe67080,'options':{'delay':_0x4b27ea[_0x50acc2(0x372)][_0x50acc2(0x6cf)]},'textMessage':{'text':_0x22b301}},_0x274add=null;try{let _0x437e02=await this[_0x50acc2(0x2d4)](_0x1d3e0a);if(_0x437e02&&_0x437e02['status'])return{'error':!0x1,'id':_0x437e02[_0x50acc2(0x399)]['id']};_0x274add=JSON['stringify'](_0x437e02),this[_0x50acc2(0x756)]['verbose'](this[_0x50acc2(0x515)]+'\x20('+this['instance'][_0x50acc2(0x650)]+_0x50acc2(0x535)+_0x274add);}catch(_0x3d04fd){this[_0x50acc2(0x756)][_0x50acc2(0x546)](this[_0x50acc2(0x515)]+'\x20('+this['instance'][_0x50acc2(0x650)]+_0x50acc2(0x845)+(_0x3d04fd instanceof Error?_0x3d04fd[_0x50acc2(0x372)]:JSON[_0x50acc2(0x6c4)](_0x3d04fd,null,0x2))),_0x274add=_0x3d04fd[_0x50acc2(0x372)];}if(_0x274add)return{'error':!0x0,'detail':(typeof _0x274add==_0x50acc2(0x4b4)?JSON[_0x50acc2(0x6c4)](_0x274add,null,0x2):_0x274add)[_0x50acc2(0x294)](/[\[\]{}\n]/g,'\x20')[_0x50acc2(0x294)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0xd88dcd,_0x1910f6){const _0x21edb5=a0_0x4c7c55;this[_0x21edb5(0x756)]['verbose'](this[_0x21edb5(0x515)]+'\x20('+this[_0x21edb5(0x237)][_0x21edb5(0x650)]+_0x21edb5(0x7f8));let _0x1bf618;if(_0xd88dcd[_0x21edb5(0x372)][_0x21edb5(0x55e)]&&_0xd88dcd[_0x21edb5(0x372)][_0x21edb5(0x55e)][_0x21edb5(0x676)]>0x0){let _0x2dd140=this[_0x21edb5(0x610)](_0xd88dcd[_0x21edb5(0x372)][_0x21edb5(0x55e)]);_0x1bf618=await this[_0x21edb5(0x241)](_0x2dd140,_0x1910f6);}let _0x314784={'number':_0x1910f6,'options':{'delay':_0xd88dcd[_0x21edb5(0x372)][_0x21edb5(0x6cf)]},'mediaMessage':{'mediatype':_0xd88dcd[_0x21edb5(0x372)]['mediatype'],'caption':_0x1bf618,'media':_0xd88dcd['message']['urlOrBase64']}},_0x218285=null;try{let _0x41a05a=await this[_0x21edb5(0x6cc)](_0x314784);if(_0x41a05a&&_0x41a05a[_0x21edb5(0x2bf)])return{'error':!0x1,'id':_0x41a05a[_0x21edb5(0x399)]['id']};_0x218285=JSON[_0x21edb5(0x6c4)](_0x41a05a),this[_0x21edb5(0x756)][_0x21edb5(0x800)](this[_0x21edb5(0x515)]+'\x20('+this['instance'][_0x21edb5(0x650)]+_0x21edb5(0x535)+_0x218285);}catch(_0x322dbb){this[_0x21edb5(0x756)][_0x21edb5(0x546)](this[_0x21edb5(0x515)]+'\x20('+this[_0x21edb5(0x237)]['wuid']+_0x21edb5(0x427)+(_0x322dbb instanceof Error?_0x322dbb[_0x21edb5(0x372)]:JSON[_0x21edb5(0x6c4)](_0x322dbb,null,0x2))),_0x218285=_0x322dbb['message'];}if(_0x218285)return{'error':!0x0,'detail':(typeof _0x218285==_0x21edb5(0x4b4)?JSON[_0x21edb5(0x6c4)](_0x218285,null,0x2):_0x218285)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4c7c55(0x478)](_0x5e0548,_0x5c7a98){const _0x455160=a0_0x4c7c55;this[_0x455160(0x756)][_0x455160(0x800)](this[_0x455160(0x515)]+'\x20('+this['instance'][_0x455160(0x650)]+'):\x20Enviando\x20udio');let _0x6690ed={'number':_0x5c7a98,'options':{'delay':_0x5e0548[_0x455160(0x372)][_0x455160(0x6cf)]},'audioMessage':{'audio':_0x5e0548['message']['urlOrBase64']}},_0x3be00a=null;try{let _0x1f2096=await this['audioWhatsapp'](_0x6690ed);if(_0x1f2096&&_0x1f2096[_0x455160(0x2bf)])return{'error':!0x1,'id':_0x1f2096[_0x455160(0x399)]['id']};_0x3be00a=JSON[_0x455160(0x6c4)](_0x1f2096),this[_0x455160(0x756)][_0x455160(0x800)](this[_0x455160(0x515)]+'\x20('+this[_0x455160(0x237)][_0x455160(0x650)]+_0x455160(0x535)+_0x3be00a);}catch(_0x585926){this[_0x455160(0x756)][_0x455160(0x546)](this[_0x455160(0x515)]+'\x20('+this[_0x455160(0x237)][_0x455160(0x650)]+_0x455160(0x6d9)+(_0x585926 instanceof Error?_0x585926['message']:JSON[_0x455160(0x6c4)](_0x585926,null,0x2))),_0x3be00a=_0x585926[_0x455160(0x372)];}if(_0x3be00a)return{'error':!0x0,'detail':(typeof _0x3be00a==_0x455160(0x4b4)?JSON[_0x455160(0x6c4)](_0x3be00a,null,0x2):_0x3be00a)['replace'](/[\[\]{}\n]/g,'\x20')[_0x455160(0x294)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x31d796,_0x5506f4,_0x224ec9){const _0x3b55a8=a0_0x4c7c55;this['eventEmitter']=_0x31d796,this[_0x3b55a8(0x2fb)]=_0x5506f4,this[_0x3b55a8(0x409)]=_0x224ec9,this['db']={},this[_0x3b55a8(0x764)]={},this[_0x3b55a8(0x756)]=new v(c[_0x3b55a8(0x6ca)]),this[_0x3b55a8(0x3de)]={},(this[_0x3b55a8(0x2a8)](),this[_0x3b55a8(0x7e8)](),Object['assign'](this['db'],_0x5506f4[_0x3b55a8(0x448)](_0x3b55a8(0x1d2))),Object[_0x3b55a8(0x3b8)](this[_0x3b55a8(0x764)],_0x5506f4[_0x3b55a8(0x448)]('REDIS')),this[_0x3b55a8(0x603)]=this['db'][_0x3b55a8(0x2b0)]?this['repository'][_0x3b55a8(0x6bd)]?.['db'](this['db'][_0x3b55a8(0x4aa)][_0x3b55a8(0x6d5)]+_0x3b55a8(0x825)):void 0x0,this[_0x3b55a8(0x4c6)]=this[_0x3b55a8(0x764)][_0x3b55a8(0x2b0)]?new oe(this['redis']):void 0x0);}async['instanceInfo'](_0x462489){const _0x18504a=a0_0x4c7c55;if(_0x462489&&!this[_0x18504a(0x3de)][_0x462489])throw new j(_0x18504a(0x32a)+_0x462489+_0x18504a(0x623));let _0xd2fec8=[];for await(let [_0x3f7d1a,_0x351ec0]of Object[_0x18504a(0x48c)](this[_0x18504a(0x3de)]))if(_0x351ec0&&_0x351ec0['connectionStatus'][_0x18504a(0x518)]===_0x18504a(0x4c3)){let _0x13bdbb=await this[_0x18504a(0x409)][_0x18504a(0x438)][_0x18504a(0x557)](_0x3f7d1a);_0xd2fec8['push']({'instance':{'instanceName':_0x3f7d1a,'apikey':_0x13bdbb[_0x18504a(0x64d)],'owner':_0x351ec0[_0x18504a(0x650)],'profileName':await _0x351ec0[_0x18504a(0x653)]()||_0x18504a(0x355),'profilePictureUrl':_0x351ec0['profilePictureUrl']}});}return _0xd2fec8[_0x18504a(0x557)](_0x487441=>_0x487441[_0x18504a(0x237)]['instanceName']===_0x462489)??_0xd2fec8;}async['cleaningUp'](_0x1259b5){const _0x1e5260=a0_0x4c7c55;if(this['db'][_0x1e5260(0x2b0)]&&(await this['repository']['dbServer'][_0x1e5260(0x7e9)](),(await this[_0x1e5260(0x603)][_0x1e5260(0x700)]())['length']>0x0&&await this[_0x1e5260(0x603)][_0x1e5260(0x4d7)](_0x1259b5)),this[_0x1e5260(0x764)][_0x1e5260(0x2b0)]){this['cache']['reference']=_0x1259b5,await this['cache']['delAll']();return;}}async['loadInstance'](){const _0x4c454a=a0_0x4c7c55;await this[_0x4c454a(0x7dd)]();let _0x5aea48=async _0x2dd7cd=>{const _0x3199f0=_0x4c454a;let _0x351209=new ye(this['configService'],this['eventEmitter'],this[_0x3199f0(0x409)]);_0x351209[_0x3199f0(0x515)]=_0x2dd7cd,await _0x351209['connectToWhatsapp'](),this[_0x3199f0(0x3de)][_0x2dd7cd]=_0x351209;};try{if(this[_0x4c454a(0x764)][_0x4c454a(0x2b0)]){let _0x515d7b=await this[_0x4c454a(0x4c6)][_0x4c454a(0x6fe)]();_0x515d7b?.[_0x4c454a(0x676)]>0x0&&_0x515d7b[_0x4c454a(0x559)](async _0x3ded37=>await _0x5aea48(_0x3ded37[_0x4c454a(0x81e)](':')[0x1]));return;}if(this['db'][_0x4c454a(0x2b0)]){await this[_0x4c454a(0x409)][_0x4c454a(0x6bd)][_0x4c454a(0x7e9)]();let _0x397c94=await this[_0x4c454a(0x603)][_0x4c454a(0x700)]();_0x397c94[_0x4c454a(0x676)]>0x0&&_0x397c94['forEach'](async _0x3b63ad=>await _0x5aea48(_0x3b63ad['namespace'][_0x4c454a(0x294)](/^[\w-]+\./,'')));return;}}catch(_0x24033a){this[_0x4c454a(0x756)][_0x4c454a(0x546)](_0x24033a);}}async['InstancesAsDisconnectedX'](){const _0x3c18e2=a0_0x4c7c55;let _0x2d44c0=await this[_0x3c18e2(0x409)][_0x3c18e2(0x438)][_0x3c18e2(0x656)](),_0x5701e4=_0x2d44c0[_0x3c18e2(0x720)](_0x2e4e58=>!this[_0x3c18e2(0x3de)][_0x2e4e58[_0x3c18e2(0x40d)]]&&(_0x2e4e58['online']||typeof _0x2e4e58['online']>'u'));_0x5701e4['length']>0x0&&await Promise['all'](_0x5701e4['map'](async _0x49964b=>{const _0x4818d2=_0x3c18e2;let _0x39b337={'online':!0x1,'lastDisconnect':Date[_0x4818d2(0x593)]()};await this[_0x4818d2(0x409)][_0x4818d2(0x438)][_0x4818d2(0x71f)](_0x39b337,_0x49964b[_0x4818d2(0x40d)]);}));let _0x19a63a=Date[_0x3c18e2(0x593)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x61c2a1=_0x2d44c0['filter'](_0xa68824=>!this[_0x3c18e2(0x3de)][_0xa68824[_0x3c18e2(0x40d)]]&&typeof _0xa68824[_0x3c18e2(0x795)]<'u'&&_0xa68824[_0x3c18e2(0x795)]<_0x19a63a);_0x61c2a1[_0x3c18e2(0x676)]>0x0&&await Promise[_0x3c18e2(0x5d6)](_0x61c2a1[_0x3c18e2(0x4df)](async _0x582886=>{}));}async['InstancesAlterarTodas'](){const _0x450ba8=a0_0x4c7c55;try{let _0x106790={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4e5b3b={'online':!0x1,'lastDisconnect':Date['now']()},_0x122196=await this[_0x450ba8(0x409)][_0x450ba8(0x438)][_0x450ba8(0x60f)](_0x106790,_0x4e5b3b);console[_0x450ba8(0x219)](_0x450ba8(0x5e9)+_0x122196[_0x450ba8(0x2a3)]),await this[_0x450ba8(0x716)]();}catch(_0xce5ae5){console[_0x450ba8(0x546)](_0x450ba8(0x560),_0xce5ae5);}}async[a0_0x4c7c55(0x716)](){const _0x15834f=a0_0x4c7c55;try{let _0x61247={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x7042f7=await this[_0x15834f(0x409)][_0x15834f(0x438)][_0x15834f(0x537)](_0x61247);console['log'](_0x15834f(0x77c)+_0x7042f7[_0x15834f(0x2a3)]);}catch(_0x5c32f1){console[_0x15834f(0x546)](_0x15834f(0x64e),_0x5c32f1);}}[a0_0x4c7c55(0x2a8)](){const _0x1d5eed=a0_0x4c7c55;this[_0x1d5eed(0x347)]['on']('remove.instance',async _0x179f5f=>{const _0x492d3a=_0x1d5eed;try{this[_0x492d3a(0x3de)][_0x179f5f]=void 0x0;}catch{}try{this[_0x492d3a(0x36f)](_0x179f5f);}finally{this[_0x492d3a(0x756)][_0x492d3a(0x244)](_0x492d3a(0x32a)+_0x179f5f+_0x492d3a(0x2c2));}});}[a0_0x4c7c55(0x7e8)](){const _0x9d3e5=a0_0x4c7c55;this[_0x9d3e5(0x347)]['on']('no.connection',async _0x128245=>{const _0x396bca=_0x9d3e5;try{this[_0x396bca(0x3de)][_0x128245]=void 0x0;}catch{}try{this['cleaningUp'](_0x128245);}finally{this[_0x396bca(0x756)][_0x396bca(0x244)](_0x396bca(0x32a)+_0x128245+_0x396bca(0x4c4));}});}},$t=class extends I{[a0_0x4c7c55(0x3d7)](_0x5bfd99){return Us(_0x5bfd99);}async[a0_0x4c7c55(0x2e5)](_0x166474){const _0x5b145c=a0_0x4c7c55;if(_0x166474['length']!==0x0)try{return{'insertCount':(await this[_0x5b145c(0x3d7)](_0x166474[0x0][_0x5b145c(0x655)])[_0x5b145c(0x79c)]([..._0x166474]))[_0x5b145c(0x676)]};}catch(_0x4cac35){return _0x4cac35;}}async[a0_0x4c7c55(0x557)](_0x5bb3e4,_0x32e8fe){const _0x4133db=a0_0x4c7c55;try{let _0x5c0915=this[_0x4133db(0x3d7)](_0x32e8fe),_0x594429=A(_0x5bb3e4[_0x4133db(0x54e)]);return await _0x5c0915['find'](_0x594429)['sort']({'lastmsg':-0x1})[_0x4133db(0x6f9)](_0x5bb3e4?.['limit']??0x0)[_0x4133db(0x817)]();}catch{return[];}}async['deleteAll'](_0x598173,_0x3025e3){const _0x136628=a0_0x4c7c55;try{return await this[_0x136628(0x3d7)](_0x3025e3)[_0x136628(0x537)]({..._0x598173[_0x136628(0x54e)]}),[];}catch(_0x9e67fc){return{'error':_0x9e67fc?.[_0x136628(0x2b4)]()};}}async[a0_0x4c7c55(0x6bf)](_0x4f52a2,_0x43d7f6){const _0x21449e=a0_0x4c7c55;try{let _0x34d395=this['getChatModelForOwner'](_0x43d7f6),_0x212a30=A(_0x4f52a2[_0x21449e(0x54e)]);return await _0x34d395[_0x21449e(0x6bf)](_0x212a30)['lean']();}catch{return null;}}async[a0_0x4c7c55(0x53d)](_0x3e304a,_0x1c5c4e,_0x3d42ac,_0x1b66b7,_0x2caff7=a0_0x4c7c55(0x565)){const _0x53e564=a0_0x4c7c55;try{let _0x254b74={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1b66b7},_0x5f14f5=this['getChatModelForOwner'](_0x3d42ac),_0x4988b3=A(_0x3e304a[_0x53e564(0x54e)]);Object[_0x53e564(0x722)](_0x1c5c4e)[_0x53e564(0x559)](_0x45eb50=>{_0x1c5c4e[_0x45eb50]==null&&delete _0x1c5c4e[_0x45eb50];});let _0x7fdc08={};return _0x7fdc08[_0x2caff7]=_0x1c5c4e,await _0x5f14f5[_0x53e564(0x691)](_0x4988b3,_0x7fdc08,_0x254b74);}catch(_0x3e2666){return console[_0x53e564(0x546)](_0x3e2666),null;}}async[a0_0x4c7c55(0x579)](_0x94d854){const _0x3608f0=a0_0x4c7c55;try{let _0xdfce07=this['getChatModelForOwner'](_0x94d854[0x0][_0x3608f0(0x3d9)][_0x3608f0(0x54e)][_0x3608f0(0x655)]),_0x230033=_0x94d854[_0x3608f0(0x4df)](_0x17b6d1=>({'updateOne':{'filter':{..._0x17b6d1[_0x3608f0(0x3d9)][_0x3608f0(0x54e)]},'update':{'$set':_0x17b6d1[_0x3608f0(0x718)]},'upsert':!0x0}})),_0x5726cd=await _0xdfce07['bulkWrite'](_0x230033);return _0x5726cd[_0x3608f0(0x717)]+_0x5726cd['upsertedCount'];}catch(_0x543e8a){return console[_0x3608f0(0x546)](_0x543e8a),0x0;}}async['updateMissingLabels'](_0x67fb03){const _0xb7c75f=a0_0x4c7c55;try{let _0x1fe1b1=this[_0xb7c75f(0x3d7)](_0x67fb03),_0x336a65={'labels':{'$exists':!0x0}},_0x2eee6f={'$unset':{'labels':''}};return(await _0x1fe1b1[_0xb7c75f(0x579)](_0x336a65,_0x2eee6f))[_0xb7c75f(0x717)];}catch(_0x2cec16){return console[_0xb7c75f(0x546)](_0x2cec16),0x0;}}async[a0_0x4c7c55(0x377)](_0x5bb312){const _0x363a94=a0_0x4c7c55;try{let _0x2098e1=this['getChatModelForOwner'](_0x5bb312),_0x38ff27={'leadInfo.etiquetas':{'$exists':!0x1}},_0x44595b={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2098e1[_0x363a94(0x579)](_0x38ff27,_0x44595b))[_0x363a94(0x717)];}catch(_0x510ffb){return console[_0x363a94(0x546)](_0x510ffb),0x0;}}async[a0_0x4c7c55(0x6eb)](_0x369e7b){const _0x2b351a=a0_0x4c7c55;try{let _0x1f83d9=this[_0x2b351a(0x3d7)](_0x369e7b),_0x338b8c={'leadInfo.tags':{'$exists':!0x1}},_0x3fbeb3={'$set':{'leadInfo.tags':[]}};return(await _0x1f83d9[_0x2b351a(0x579)](_0x338b8c,_0x3fbeb3))[_0x2b351a(0x717)];}catch(_0x567c72){return console[_0x2b351a(0x546)](_0x567c72),0x0;}}async[a0_0x4c7c55(0x516)](_0x31ccdc){const _0x146094=a0_0x4c7c55;try{let _0x5f23e9=this[_0x146094(0x3d7)](_0x31ccdc),_0x1e118e={'leadInfo.customFields':{'$exists':!0x1}},_0x33626c={'$set':{'leadInfo.customFields':[]}};return(await _0x5f23e9['updateMany'](_0x1e118e,_0x33626c))[_0x146094(0x717)];}catch(_0x2ac495){return console[_0x146094(0x546)](_0x2ac495),0x0;}}async['insertMany'](_0x5d6820,_0x45b8c7){const _0x8fa0b0=a0_0x4c7c55;if(!Array['isArray'](_0x5d6820)||_0x5d6820[_0x8fa0b0(0x676)]===0x0)throw new Error(_0x8fa0b0(0x488));try{return(await this[_0x8fa0b0(0x3d7)](_0x45b8c7)[_0x8fa0b0(0x79c)](_0x5d6820))[_0x8fa0b0(0x676)];}catch(_0x4a0158){throw console[_0x8fa0b0(0x546)](_0x8fa0b0(0x3bf),_0x4a0158),_0x4a0158;}}async[a0_0x4c7c55(0x502)](_0x356cc3,_0x5f3f7d){const _0x188a86=a0_0x4c7c55;try{await this[_0x188a86(0x3d7)](_0x5f3f7d)['deleteOne']({'_id':_0x356cc3});}catch(_0x103e97){throw console[_0x188a86(0x546)](_0x188a86(0x309),_0x103e97),_0x103e97;}}},kt=class extends I{[a0_0x4c7c55(0x1df)](_0x2e7673){return ua(_0x2e7673);}async[a0_0x4c7c55(0x53d)](_0x577acd,_0x1ed048,_0x50bb15,_0x15243f){const _0x5dde70=a0_0x4c7c55;try{let _0x67ade8={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x15243f},_0x374cd1=this[_0x5dde70(0x1df)](_0x50bb15),_0x37626e=A(_0x577acd[_0x5dde70(0x54e)]);return await _0x374cd1['findOneAndUpdate'](_0x37626e,{'$set':_0x1ed048},_0x67ade8);}catch(_0x5d5ede){return console[_0x5dde70(0x546)](_0x5d5ede),null;}}async[a0_0x4c7c55(0x557)](_0x494e5e,_0x46b204){const _0x3ef28e=a0_0x4c7c55;try{let _0x1bc598=this[_0x3ef28e(0x1df)](_0x46b204),_0xd86cc0=A(_0x494e5e[_0x3ef28e(0x54e)]);return await _0x1bc598[_0x3ef28e(0x557)](_0xd86cc0);}catch(_0x404542){console['error'](_0x404542);}}async['delete'](_0x2149e8,_0xea10a9){const _0x2269b1=a0_0x4c7c55;try{let _0x44e02f=this[_0x2269b1(0x1df)](_0xea10a9),_0x108848=A(_0x2149e8['where']);await _0x44e02f[_0x2269b1(0x537)](_0x108848);}catch(_0x261df5){console['error'](_0x261df5);}}async[a0_0x4c7c55(0x7c9)](_0x143677){const _0x8633d5=a0_0x4c7c55;try{return await this[_0x8633d5(0x1df)](_0x143677)['collection'][_0x8633d5(0x634)](),{'success':!0x0};}catch(_0x219bb8){return console[_0x8633d5(0x546)](_0x219bb8),{'success':!0x1,'error':_0x219bb8};}}},Lt=class{constructor(_0x1ae7f1){this['waMonitor']=_0x1ae7f1;}async[a0_0x4c7c55(0x209)]({instanceName:_0x4ef29a},_0x480ffb){const _0x39cbd0=a0_0x4c7c55;return await this['waMonitor'][_0x39cbd0(0x3de)][_0x4ef29a][_0x39cbd0(0x209)](_0x480ffb);}async['whatsappNumber']({instanceName:_0x462ab9},_0x8aa39f){const _0x540aec=a0_0x4c7c55;return await this[_0x540aec(0x630)][_0x540aec(0x3de)][_0x462ab9][_0x540aec(0x298)](_0x8aa39f);}async['importChats']({instanceName:_0x140487},_0x14bc12){const _0x484e0b=a0_0x4c7c55;return await this['waMonitor'][_0x484e0b(0x3de)][_0x140487][_0x484e0b(0x4ac)](_0x14bc12);}async['readMessage']({instanceName:_0x279cf2},_0x22f320){const _0x4a00c6=a0_0x4c7c55;return await this['waMonitor'][_0x4a00c6(0x3de)][_0x279cf2][_0x4a00c6(0x496)](_0x22f320);}async['archiveChat']({instanceName:_0x4ef33c},_0x297e65){const _0xd8b5d9=a0_0x4c7c55;return await this[_0xd8b5d9(0x630)][_0xd8b5d9(0x3de)][_0x4ef33c][_0xd8b5d9(0x842)](_0x297e65);}async[a0_0x4c7c55(0x698)]({instanceName:_0x1f6fa8},_0x2b45e6){const _0x4beaf7=a0_0x4c7c55;return await this['waMonitor'][_0x4beaf7(0x3de)][_0x1f6fa8][_0x4beaf7(0x698)](_0x2b45e6);}async[a0_0x4c7c55(0x369)]({instanceName:_0x45ddcb},_0x2dedf2){const _0x39104c=a0_0x4c7c55;return await this[_0x39104c(0x630)][_0x39104c(0x3de)][_0x45ddcb][_0x39104c(0x741)](_0x2dedf2[_0x39104c(0x394)]);}async[a0_0x4c7c55(0x7b6)]({instanceName:_0x1c2f95},_0x4ad7ab){const _0x38190a=a0_0x4c7c55;return await this[_0x38190a(0x630)]['waInstances'][_0x1c2f95]['fetchProfile'](_0x4ad7ab['number']);}async[a0_0x4c7c55(0x2c0)]({instanceName:_0x4d7458},_0x252634){const _0xd49e9a=a0_0x4c7c55;return await this['waMonitor'][_0xd49e9a(0x3de)][_0x4d7458][_0xd49e9a(0x2c0)](_0x252634);}async[a0_0x4c7c55(0x72e)]({instanceName:_0x9152f2},_0x4b6b15){const _0x264e5a=a0_0x4c7c55;return await this[_0x264e5a(0x630)][_0x264e5a(0x3de)][_0x9152f2][_0x264e5a(0x72e)](_0x4b6b15);}async[a0_0x4c7c55(0x5d2)]({instanceName:_0x5ca7ae},_0x39d19e){const _0x58a92b=a0_0x4c7c55;return await this[_0x58a92b(0x630)]['waInstances'][_0x5ca7ae][_0x58a92b(0x5d2)](_0x39d19e);}async[a0_0x4c7c55(0x578)]({instanceName:_0x220b08},_0x286395){const _0x14ee71=a0_0x4c7c55;return await this[_0x14ee71(0x630)][_0x14ee71(0x3de)][_0x220b08][_0x14ee71(0x578)](_0x286395);}async[a0_0x4c7c55(0x5e8)]({instanceName:_0x1f7182}){const _0x46ad53=a0_0x4c7c55;return await this[_0x46ad53(0x630)]['waInstances'][_0x1f7182][_0x46ad53(0x5e8)]();}async[a0_0x4c7c55(0x7f4)]({instanceName:_0x5253a2}){const _0x1a2139=a0_0x4c7c55;return await this['waMonitor'][_0x1a2139(0x3de)][_0x5253a2][_0x1a2139(0x7f4)]();}async['fetchPrivacySettings']({instanceName:_0x5aa6b4}){const _0x4dc184=a0_0x4c7c55;return await this[_0x4dc184(0x630)][_0x4dc184(0x3de)][_0x5aa6b4][_0x4dc184(0x3d0)]();}async[a0_0x4c7c55(0x848)]({instanceName:_0x515120},_0x5ef12c){const _0x258005=a0_0x4c7c55;return await this[_0x258005(0x630)][_0x258005(0x3de)][_0x515120][_0x258005(0x848)](_0x5ef12c);}async['fetchBusinessProfile']({instanceName:_0x111ab8},_0x1a8e67){const _0xe2a76e=a0_0x4c7c55;return await this['waMonitor'][_0xe2a76e(0x3de)][_0x111ab8]['fetchBusinessProfile'](_0x1a8e67['number']);}async[a0_0x4c7c55(0x447)]({instanceName:_0x2d1cdd},_0x2088d4){const _0x17b4af=a0_0x4c7c55;return await this[_0x17b4af(0x630)]['waInstances'][_0x2d1cdd][_0x17b4af(0x447)](_0x2088d4[_0x17b4af(0x6ca)]);}async[a0_0x4c7c55(0x7af)]({instanceName:_0x8a202f},_0x1bae1b){const _0x15a50c=a0_0x4c7c55;return await this['waMonitor'][_0x15a50c(0x3de)][_0x8a202f][_0x15a50c(0x7af)](_0x1bae1b[_0x15a50c(0x2bf)]);}async['updateProfilePicture']({instanceName:_0x5b5e0f},_0x252bf9){const _0x1fe0b8=a0_0x4c7c55;return await this[_0x1fe0b8(0x630)][_0x1fe0b8(0x3de)][_0x5b5e0f][_0x1fe0b8(0x693)](_0x252bf9[_0x1fe0b8(0x771)]);}async[a0_0x4c7c55(0x26b)]({instanceName:_0x431d6a},_0x3d2999){const _0x3f2e31=a0_0x4c7c55;return await this[_0x3f2e31(0x630)]['waInstances'][_0x431d6a][_0x3f2e31(0x26b)]();}},Ns=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x21e227,_0x390f8d,_0x1db7b6,_0x3521d4,_0x3cded6){const _0x519e02=a0_0x4c7c55;this['waMonitor']=_0x21e227,this[_0x519e02(0x2fb)]=_0x390f8d,this['repository']=_0x1db7b6,this[_0x519e02(0x347)]=_0x3521d4,this['authService']=_0x3cded6,this['logger']=new v(c['name']);}async[a0_0x4c7c55(0x83f)]({instanceName:_0x3f0c79,apikey:_0x495dda,number:_0x5837d3,proxy:_0x57fd97=!0x0}){const _0x18ebf4=a0_0x4c7c55;try{let _0x255a84=new ye(this[_0x18ebf4(0x2fb)],this[_0x18ebf4(0x347)],this[_0x18ebf4(0x409)]);_0x255a84[_0x18ebf4(0x515)]=_0x3f0c79,this['waMonitor'][_0x18ebf4(0x3de)][_0x255a84['instanceName']]=_0x255a84;let _0x322c7e={};_0x495dda?(await this[_0x18ebf4(0x409)]['auth'][_0x18ebf4(0x71f)]({'apikey':_0x495dda},_0x3f0c79),_0x322c7e['apikey']=_0x495dda):_0x322c7e=await this['authService'][_0x18ebf4(0x233)]({'instanceName':_0x255a84[_0x18ebf4(0x515)]});let _0x527860;return await _0x255a84['connectToWhatsapp'](_0x5837d3,_0x57fd97),await(0x0,Ns['delay'])(0x7d0),_0x527860=_0x255a84[_0x18ebf4(0x468)],{'instance':{'instanceName':_0x255a84[_0x18ebf4(0x515)],'status':'created'},'hash':_0x322c7e,'qrcode':_0x527860};}catch(_0x3e4861){this[_0x18ebf4(0x756)][_0x18ebf4(0x546)](_0x3e4861);}}async[a0_0x4c7c55(0x5ef)]({instanceName:_0x53f475,number:_0xe43a41=null,proxy:_0x3cb2ec=!0x0}){const _0x4574fb=a0_0x4c7c55;try{let _0x3ed0c7=this['waMonitor'][_0x4574fb(0x3de)][_0x53f475];switch(_0x3ed0c7?.[_0x4574fb(0x75f)]?.[_0x4574fb(0x518)]){case _0x4574fb(0x3da):return await _0x3ed0c7[_0x4574fb(0x1c9)](_0xe43a41,_0x3cb2ec),await(0x0,Ns['delay'])(0x7d0),_0x3ed0c7[_0x4574fb(0x468)];case'connecting':return _0x3ed0c7[_0x4574fb(0x468)];default:return await this[_0x4574fb(0x78e)]({'instanceName':_0x53f475});}}catch(_0x331945){this['logger'][_0x4574fb(0x219)](_0x331945);}}async['connectionState']({instanceName:_0x1605f9}){const _0x238628=a0_0x4c7c55;let _0x59cb15=this[_0x238628(0x630)][_0x238628(0x3de)][_0x1605f9][_0x238628(0x75f)],_0x728075=null;_0x59cb15[_0x238628(0x518)]==='open'&&_0x1605f9&&(_0x728075=await this[_0x238628(0x630)][_0x238628(0x6f6)](_0x1605f9));let _0x2b8dc2=null;return _0x59cb15[_0x238628(0x518)]===_0x238628(0x577)&&_0x1605f9&&(_0x2b8dc2=this[_0x238628(0x630)]['waInstances'][_0x1605f9]['qrCode']),{'instance':_0x1605f9,'connectionStatus':_0x59cb15,'instanceInfo':_0x728075,'qrcode':_0x2b8dc2};}async[a0_0x4c7c55(0x4dc)]({instanceName:_0x529630}){const _0x517e6b=a0_0x4c7c55;try{return this[_0x517e6b(0x630)][_0x517e6b(0x3de)][_0x529630]?.['client']?.['ws']?.[_0x517e6b(0x3da)](),{'status':_0x517e6b(0x51b),'error':!0x1,'response':{'message':_0x517e6b(0x3fc)}};}catch(_0x3d7d16){this[_0x517e6b(0x756)][_0x517e6b(0x546)](_0x3d7d16);}}async[a0_0x4c7c55(0x256)]({instanceName:_0x145bde}){const _0x2208f6=a0_0x4c7c55;return _0x145bde?this[_0x2208f6(0x630)][_0x2208f6(0x6f6)](_0x145bde):this[_0x2208f6(0x630)]['instanceInfo']();}async[a0_0x4c7c55(0x216)]({instanceName:_0x2ba196}){const _0x4da2a2=a0_0x4c7c55;try{return await this[_0x4da2a2(0x630)]['waInstances'][_0x2ba196]?.[_0x4da2a2(0x227)]?.[_0x4da2a2(0x216)](_0x4da2a2(0x2e4)+_0x2ba196),{'error':!0x1,'message':_0x4da2a2(0x230)};}catch(_0x36832a){throw new O(_0x36832a[_0x4da2a2(0x2b4)]());}}async['deleteInstance']({instanceName:_0x4063c3}){const _0x3fa589=a0_0x4c7c55;if((await this[_0x3fa589(0x78e)]({'instanceName':_0x4063c3}))[_0x3fa589(0x75f)][_0x3fa589(0x518)]===_0x3fa589(0x4c3))throw new m(['Deletion\x20failed',_0x3fa589(0x6df)]);try{return delete this[_0x3fa589(0x630)]['waInstances'][_0x4063c3],{'error':!0x1,'message':_0x3fa589(0x6f5)};}catch(_0xfee3c0){throw new m(_0xfee3c0[_0x3fa589(0x2b4)]());}}},Z=require(a0_0x4c7c55(0x44a)),Ft=class{constructor(_0x566c56){this['waMonitor']=_0x566c56;}async[a0_0x4c7c55(0x2d7)]({instanceName:_0x2db83c},_0x52eab2){const _0x97dbf3=a0_0x4c7c55;return await this[_0x97dbf3(0x630)][_0x97dbf3(0x3de)][_0x2db83c]['textMessage'](_0x52eab2);}async[a0_0x4c7c55(0x709)]({instanceName:_0x415a79},_0x2aa8b9){const _0x412d70=a0_0x4c7c55;return await this[_0x412d70(0x630)][_0x412d70(0x3de)][_0x415a79][_0x412d70(0x23d)](_0x2aa8b9);}async[a0_0x4c7c55(0x475)]({instanceName:_0x175e69},_0x845b13){const _0xc0d760=a0_0x4c7c55;if((0x0,Z[_0xc0d760(0x23f)])(_0x845b13?.[_0xc0d760(0x6cc)]?.[_0xc0d760(0x411)])&&!_0x845b13?.['mediaMessage']?.[_0xc0d760(0x1bd)])throw new m(_0xc0d760(0x46e));if((0x0,Z[_0xc0d760(0x38a)])(_0x845b13?.[_0xc0d760(0x6cc)]?.[_0xc0d760(0x411)])||(0x0,Z['isBase64'])(_0x845b13?.['mediaMessage']?.['media']))return await this[_0xc0d760(0x630)]['waInstances'][_0x175e69][_0xc0d760(0x6cc)](_0x845b13);throw new m(_0xc0d760(0x5d5));}async[a0_0x4c7c55(0x4c8)]({instanceName:_0x155fb9},_0x266e1b){const _0x364607=a0_0x4c7c55;if((0x0,Z['isURL'])(_0x266e1b[_0x364607(0x4fb)]['image'])||(0x0,Z[_0x364607(0x23f)])(_0x266e1b[_0x364607(0x4fb)][_0x364607(0x504)]))return await this['waMonitor'][_0x364607(0x3de)][_0x155fb9][_0x364607(0x1c7)](_0x266e1b);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4c7c55(0x6ee)]({instanceName:_0x2ba8e2},_0x2fd325){const _0x30f790=a0_0x4c7c55;if((0x0,Z[_0x30f790(0x38a)])(_0x2fd325[_0x30f790(0x254)][_0x30f790(0x3b1)])||(0x0,Z[_0x30f790(0x23f)])(_0x2fd325[_0x30f790(0x254)]['audio']))return await this[_0x30f790(0x630)][_0x30f790(0x3de)][_0x2ba8e2]['audioWhatsapp'](_0x2fd325);throw new m(_0x30f790(0x5d5));}async['sendButtons']({instanceName:_0x58d766},_0x6e083c){const _0x337e68=a0_0x4c7c55;if((0x0,Z[_0x337e68(0x23f)])(_0x6e083c[_0x337e68(0x5a5)]['mediaMessage']?.[_0x337e68(0x411)])&&!_0x6e083c['buttonMessage'][_0x337e68(0x6cc)]?.['fileName'])throw new m(_0x337e68(0x46e));return await this[_0x337e68(0x630)][_0x337e68(0x3de)][_0x58d766][_0x337e68(0x5a5)](_0x6e083c);}async['sendLocation']({instanceName:_0x1e75bd},_0x2a9a36){const _0x21c08c=a0_0x4c7c55;return await this['waMonitor']['waInstances'][_0x1e75bd][_0x21c08c(0x3c3)](_0x2a9a36);}async[a0_0x4c7c55(0x762)]({instanceName:_0x3fd19d},_0x3017f8){const _0x1d5f49=a0_0x4c7c55;return await this[_0x1d5f49(0x630)]['waInstances'][_0x3fd19d][_0x1d5f49(0x7e2)](_0x3017f8);}async[a0_0x4c7c55(0x776)]({instanceName:_0x46c256},_0x3c1d87){const _0x94194=a0_0x4c7c55;return await this[_0x94194(0x630)][_0x94194(0x3de)][_0x46c256][_0x94194(0x481)](_0x3c1d87);}async[a0_0x4c7c55(0x7a9)]({instanceName:_0x3634aa},_0x4f96be){const _0x422694=a0_0x4c7c55;return await this[_0x422694(0x630)][_0x422694(0x3de)][_0x3634aa][_0x422694(0x814)](_0x4f96be);}async['sendReaction']({instanceName:_0x121c2f},_0x50888c){const _0x489f4a=a0_0x4c7c55;if(!_0x50888c[_0x489f4a(0x556)][_0x489f4a(0x1fc)][_0x489f4a(0x52e)](/[^\(\)\w\s-"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x489f4a(0x630)][_0x489f4a(0x3de)][_0x121c2f]['reactionMessage'](_0x50888c);}async[a0_0x4c7c55(0x2ae)]({instanceName:_0xfb8696},_0x50d952){const _0x1e63bf=a0_0x4c7c55;return await this[_0x1e63bf(0x630)][_0x1e63bf(0x3de)][_0xfb8696]['statusMessage'](_0x50d952);}},Co=require(a0_0x4c7c55(0x827)),Rs=require(a0_0x4c7c55(0x37c)),qt=class c{constructor(_0x350152,_0x529500,_0x304e67){const _0x1b5497=a0_0x4c7c55;this['configService']=_0x350152,this[_0x1b5497(0x630)]=_0x529500,this['repository']=_0x304e67,this[_0x1b5497(0x756)]=new v(c[_0x1b5497(0x6ca)]);}async[a0_0x4c7c55(0x751)](_0x309fe0){const _0x5aa4fd=a0_0x4c7c55;let _0x5c7f40=this['configService'][_0x5aa4fd(0x448)](_0x5aa4fd(0x3a3))[_0x5aa4fd(0x444)],_0x3ed147=(0x0,Co[_0x5aa4fd(0x371)])({'instanceName':_0x309fe0['instanceName'],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x5c7f40['SECRET'],{'expiresIn':_0x5c7f40[_0x5aa4fd(0x273)],'encoding':_0x5aa4fd(0x381),'subject':'g-t'}),_0x15d6aa=await this[_0x5aa4fd(0x409)][_0x5aa4fd(0x438)][_0x5aa4fd(0x71f)]({'jwt':_0x3ed147},_0x309fe0[_0x5aa4fd(0x515)]);if(_0x15d6aa[_0x5aa4fd(0x546)])throw this['logger']['error']({'localError':c[_0x5aa4fd(0x6ca)]+_0x5aa4fd(0x47e),'error':_0x15d6aa[_0x5aa4fd(0x546)]}),new m(_0x5aa4fd(0x6f4),_0x15d6aa[_0x5aa4fd(0x546)]?.['toString']());return{'jwt':_0x3ed147};}async[a0_0x4c7c55(0x64d)](_0x4e24bf){const _0x485aaf=a0_0x4c7c55;let _0x281514=(0x0,Rs['v4'])()[_0x485aaf(0x71b)](),_0x28f187=await this[_0x485aaf(0x409)][_0x485aaf(0x438)][_0x485aaf(0x71f)]({'apikey':_0x281514},_0x4e24bf[_0x485aaf(0x515)]);if(_0x28f187[_0x485aaf(0x546)])throw this[_0x485aaf(0x756)][_0x485aaf(0x546)]({'localError':c[_0x485aaf(0x6ca)]+'.jwt','error':_0x28f187[_0x485aaf(0x546)]}),new m(_0x485aaf(0x6f4),_0x28f187[_0x485aaf(0x546)]?.[_0x485aaf(0x2b4)]());return{'apikey':_0x281514};}async[a0_0x4c7c55(0x233)](_0x338379){const _0x1ffafc=a0_0x4c7c55;let _0x193f42=this[_0x1ffafc(0x2fb)]['get'](_0x1ffafc(0x3a3));return await this[_0x193f42[_0x1ffafc(0x59d)]](_0x338379);}},Ut=class{constructor(_0x5eb870){const _0x2e92f5=a0_0x4c7c55;this[_0x2e92f5(0x630)]=_0x5eb870;}async[a0_0x4c7c55(0x597)](_0x2c8aea,_0x4f6535){const _0x3ff62d=a0_0x4c7c55;return await this[_0x3ff62d(0x630)][_0x3ff62d(0x3de)][_0x2c8aea['instanceName']][_0x3ff62d(0x597)](_0x4f6535);}async['updateGroupPicture'](_0x513d46,_0x8630d8){const _0x4a255b=a0_0x4c7c55;return await this[_0x4a255b(0x630)][_0x4a255b(0x3de)][_0x513d46[_0x4a255b(0x515)]][_0x4a255b(0x500)](_0x8630d8);}async[a0_0x4c7c55(0x1da)](_0x5b40e4,_0x4ca17c){const _0x3ecde4=a0_0x4c7c55;return await this[_0x3ecde4(0x630)][_0x3ecde4(0x3de)][_0x5b40e4[_0x3ecde4(0x515)]]['groupDesc'](_0x4ca17c);}async['groupName'](_0x48da87,_0x17763e){const _0x878f7e=a0_0x4c7c55;return await this[_0x878f7e(0x630)][_0x878f7e(0x3de)][_0x48da87[_0x878f7e(0x515)]][_0x878f7e(0x4a6)](_0x17763e);}async[a0_0x4c7c55(0x25d)](_0x577f5a,_0x2781cf){const _0x2788ea=a0_0x4c7c55;return await this[_0x2788ea(0x630)][_0x2788ea(0x3de)][_0x577f5a[_0x2788ea(0x515)]][_0x2788ea(0x25d)](_0x2781cf);}async[a0_0x4c7c55(0x2d6)](_0x8003b3,_0x189a41){const _0x355778=a0_0x4c7c55;return await this[_0x355778(0x630)][_0x355778(0x3de)][_0x8003b3[_0x355778(0x515)]][_0x355778(0x1c8)](_0x189a41);}async['findGroups'](_0x1ebc7a){const _0x19516b=a0_0x4c7c55;return await this['waMonitor'][_0x19516b(0x3de)][_0x1ebc7a[_0x19516b(0x515)]][_0x19516b(0x509)]();}async[a0_0x4c7c55(0x4cd)](_0x594208,_0x1e8daf){const _0x5d8555=a0_0x4c7c55;return await this[_0x5d8555(0x630)]['waInstances'][_0x594208[_0x5d8555(0x515)]][_0x5d8555(0x4cd)](_0x1e8daf);}async[a0_0x4c7c55(0x426)](_0x22409e,_0x8b3680){const _0x4d11b6=a0_0x4c7c55;return await this['waMonitor'][_0x4d11b6(0x3de)][_0x22409e[_0x4d11b6(0x515)]][_0x4d11b6(0x426)](_0x8b3680);}async['revokeInviteCode'](_0x1d7454,_0x4d204d){const _0x5cbf39=a0_0x4c7c55;return await this[_0x5cbf39(0x630)][_0x5cbf39(0x3de)][_0x1d7454['instanceName']]['revokeInviteCode'](_0x4d204d);}async['findParticipants'](_0x49a01e,_0x4bc988){const _0xa7f431=a0_0x4c7c55;return await this['waMonitor'][_0xa7f431(0x3de)][_0x49a01e[_0xa7f431(0x515)]]['findParticipants'](_0x4bc988);}async[a0_0x4c7c55(0x29c)](_0x7c5457,_0x391956){const _0x80ff43=a0_0x4c7c55;return await this[_0x80ff43(0x630)][_0x80ff43(0x3de)][_0x7c5457[_0x80ff43(0x515)]][_0x80ff43(0x414)](_0x391956);}async['toggleEphemeral'](_0x32f2b5,_0x1cd402){const _0x2adf2f=a0_0x4c7c55;return await this[_0x2adf2f(0x630)][_0x2adf2f(0x3de)][_0x32f2b5[_0x2adf2f(0x515)]][_0x2adf2f(0x292)](_0x1cd402);}async['leaveGroup'](_0x4fbf55,_0x48cee0){const _0x4d00de=a0_0x4c7c55;return await this[_0x4d00de(0x630)][_0x4d00de(0x3de)][_0x4fbf55['instanceName']][_0x4d00de(0x2d5)](_0x48cee0);}},Jt=class{constructor(_0x5a53d0){const _0x269891=a0_0x4c7c55;this[_0x269891(0x630)]=_0x5a53d0;}['create'](_0x44f905,_0xd57f0e){const _0x1537b4=a0_0x4c7c55;return this[_0x1537b4(0x630)][_0x1537b4(0x3de)][_0x44f905['instanceName']][_0x1537b4(0x3f1)](_0xd57f0e);}async[a0_0x4c7c55(0x557)](_0x5b7f1){const _0x43096a=a0_0x4c7c55;try{return await this[_0x43096a(0x630)][_0x43096a(0x3de)][_0x5b7f1[_0x43096a(0x515)]][_0x43096a(0x339)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x4c7c55(0x2c3)),Vt=class{constructor(_0x2ead0f){this['waMonitor']=_0x2ead0f;}async[a0_0x4c7c55(0x46b)](_0x30ef6b,_0x220101){const _0x4cf41d=a0_0x4c7c55;return await this['waMonitor'][_0x4cf41d(0x3de)][_0x30ef6b[_0x4cf41d(0x515)]][_0x4cf41d(0x46b)](_0x220101);}async[a0_0x4c7c55(0x349)](_0x797b67){const _0x399c12=a0_0x4c7c55;return await this[_0x399c12(0x630)][_0x399c12(0x3de)][_0x797b67['instanceName']]['getScheduleMessage']();}async[a0_0x4c7c55(0x57f)](_0x5c6fdf){const _0x14cb48=a0_0x4c7c55;return await this['waMonitor']['waInstances'][_0x5c6fdf[_0x14cb48(0x515)]][_0x14cb48(0x57f)]();}async[a0_0x4c7c55(0x715)](_0x5f079f){const _0x22937d=a0_0x4c7c55;return await this[_0x22937d(0x630)][_0x22937d(0x3de)][_0x5f079f[_0x22937d(0x515)]][_0x22937d(0x715)]();}async[a0_0x4c7c55(0x792)](_0x4d4455,_0x2061d8){const _0x439c31=a0_0x4c7c55;return await this[_0x439c31(0x630)][_0x439c31(0x3de)][_0x4d4455['instanceName']]['updateAgent'](_0x2061d8);}async[a0_0x4c7c55(0x514)](_0xbd108d,_0x48b830){const _0x1bc289=a0_0x4c7c55;return await this[_0x1bc289(0x630)][_0x1bc289(0x3de)][_0xbd108d[_0x1bc289(0x515)]][_0x1bc289(0x514)](_0x48b830);}async[a0_0x4c7c55(0x46d)](_0x1107bd,_0x42b441){const _0x550968=a0_0x4c7c55;return await this[_0x550968(0x630)][_0x550968(0x3de)][_0x1107bd[_0x550968(0x515)]][_0x550968(0x46d)](_0x42b441);}async[a0_0x4c7c55(0x311)](_0x19a034,_0x5a28ef){const _0x3dea85=a0_0x4c7c55;return await this[_0x3dea85(0x630)]['waInstances'][_0x19a034[_0x3dea85(0x515)]][_0x3dea85(0x311)](_0x5a28ef);}async['getConversation'](_0x3f58d6,_0x433673){const _0x6e44f8=a0_0x4c7c55;return await this[_0x6e44f8(0x630)]['waInstances'][_0x3f58d6[_0x6e44f8(0x515)]][_0x6e44f8(0x301)](_0x433673);}async[a0_0x4c7c55(0x290)](_0x17413a,_0x4b04d0){const _0x1c49d1=a0_0x4c7c55;return await this[_0x1c49d1(0x630)]['waInstances'][_0x17413a[_0x1c49d1(0x515)]]['fetchConversation'](_0x4b04d0);}async[a0_0x4c7c55(0x4a3)](_0x1b9e42,_0x29f3a8){const _0xa4248f=a0_0x4c7c55;return await this[_0xa4248f(0x630)][_0xa4248f(0x3de)][_0x1b9e42[_0xa4248f(0x515)]]['editConversation'](_0x29f3a8);}async[a0_0x4c7c55(0x624)](_0xd56b8e,_0x3ba374){const _0x305870=a0_0x4c7c55;return await this['waMonitor'][_0x305870(0x3de)][_0xd56b8e[_0x305870(0x515)]]['deleteConversation'](_0x3ba374);}async[a0_0x4c7c55(0x327)](_0x51fce9,_0x3220e0){const _0x291626=a0_0x4c7c55;return await this[_0x291626(0x630)][_0x291626(0x3de)][_0x51fce9[_0x291626(0x515)]]['getFlow'](_0x3220e0[_0x291626(0x6ca)]);}async[a0_0x4c7c55(0x761)](_0x38771b,_0x2df5d6){const _0x3fd3de=a0_0x4c7c55;return await this[_0x3fd3de(0x630)][_0x3fd3de(0x3de)][_0x38771b['instanceName']][_0x3fd3de(0x761)](_0x2df5d6);}async[a0_0x4c7c55(0x494)](_0x411f38,_0xf19dfa){const _0x2b7f1f=a0_0x4c7c55;return await this['waMonitor'][_0x2b7f1f(0x3de)][_0x411f38[_0x2b7f1f(0x515)]][_0x2b7f1f(0x494)](_0xf19dfa);}async[a0_0x4c7c55(0x264)](_0x52092a,_0x1688cd){const _0x1768dd=a0_0x4c7c55;return await this[_0x1768dd(0x630)]['waInstances'][_0x52092a[_0x1768dd(0x515)]][_0x1768dd(0x264)](_0x1688cd);}async[a0_0x4c7c55(0x2ff)](_0x295240,_0x33be51){const _0x229aca=a0_0x4c7c55;return await this[_0x229aca(0x630)][_0x229aca(0x3de)][_0x295240[_0x229aca(0x515)]]['editFlowReply'](_0x33be51);}async['editFlowGroup'](_0x489ebe,_0x15f3ea){const _0x263d2c=a0_0x4c7c55;return await this[_0x263d2c(0x630)][_0x263d2c(0x3de)][_0x489ebe['instanceName']]['editFlowGroup'](_0x15f3ea);}async[a0_0x4c7c55(0x460)](_0x418eb4,_0x4eb8e7){const _0x5dce04=a0_0x4c7c55;return await this[_0x5dce04(0x630)][_0x5dce04(0x3de)][_0x418eb4[_0x5dce04(0x515)]][_0x5dce04(0x460)](_0x4eb8e7);}async['editFlowVaredit'](_0x1d3923,_0x58a35a){const _0xe1fe91=a0_0x4c7c55;return await this['waMonitor'][_0xe1fe91(0x3de)][_0x1d3923[_0xe1fe91(0x515)]][_0xe1fe91(0x3aa)](_0x58a35a);}async[a0_0x4c7c55(0x4ab)](_0x4c0445,_0x5c1501){const _0x55cb52=a0_0x4c7c55;return await this[_0x55cb52(0x630)][_0x55cb52(0x3de)][_0x4c0445[_0x55cb52(0x515)]][_0x55cb52(0x4ab)](_0x5c1501);}async[a0_0x4c7c55(0x3c9)](_0xd74edf,_0x2b9390){const _0x280369=a0_0x4c7c55;return await this[_0x280369(0x630)][_0x280369(0x3de)][_0xd74edf[_0x280369(0x515)]][_0x280369(0x3c9)](_0x2b9390['name']);}async[a0_0x4c7c55(0x1ff)](_0x3b9dad){const _0x27fe33=a0_0x4c7c55;return await this[_0x27fe33(0x630)][_0x27fe33(0x3de)][_0x3b9dad['instanceName']]['allFlows']();}},Bt=class{constructor(_0x763a67){const _0x39fa07=a0_0x4c7c55;this[_0x39fa07(0x5d9)]=_0x763a67;}async['createWebhook'](_0x315f56,_0x5382af){const _0x5bbbdf=a0_0x4c7c55;return this[_0x5bbbdf(0x5d9)][_0x5bbbdf(0x71f)](_0x315f56,_0x5382af);}async['findWebhook'](_0x549052){return this['webhookService']['find'](_0x549052);}},Gt=class extends I{constructor(_0x39cdd0,_0x5c77b7){const _0xb5a87=a0_0x4c7c55;super(_0x5c77b7),this[_0xb5a87(0x2a6)]=_0x39cdd0,this[_0xb5a87(0x2fb)]=_0x5c77b7;}async[a0_0x4c7c55(0x71f)](_0x38c865,_0x56c82e){const _0x29c96f=a0_0x4c7c55;try{return this[_0x29c96f(0x544)][_0x29c96f(0x2b0)]?{'insertCount':(await this[_0x29c96f(0x2a6)][_0x29c96f(0x1eb)]({'_id':_0x56c82e},{..._0x38c865},{'upsert':!0x0}))[_0x29c96f(0x717)]}:{'insertCount':0x1};}catch(_0x9e58f6){return _0x9e58f6;}}async[a0_0x4c7c55(0x270)](_0x1c6a78){const _0x21e02e=a0_0x4c7c55;try{if(this[_0x21e02e(0x544)][_0x21e02e(0x2b0)]){await this[_0x21e02e(0x2a6)]['deleteOne']({'_id':_0x1c6a78});return;}}catch(_0x4c0ad3){return{'error':_0x4c0ad3};}}async[a0_0x4c7c55(0x557)](_0x2d7431){const _0x16f8c4=a0_0x4c7c55;try{if(this[_0x16f8c4(0x544)][_0x16f8c4(0x2b0)])return await this[_0x16f8c4(0x2a6)]['findOne']({'_id':_0x2d7431});}catch{return{};}}},Wt=class extends I{constructor(_0x2a616b,_0x251568){const _0x2d0b28=a0_0x4c7c55;super(_0x251568),this[_0x2d0b28(0x439)]=_0x2a616b,this[_0x2d0b28(0x2fb)]=_0x251568,this[_0x2d0b28(0x438)]=_0x251568[_0x2d0b28(0x448)](_0x2d0b28(0x3a3));}async['create'](_0x16a3e5,_0x100c4e){const _0x115d31=a0_0x4c7c55;try{if(this[_0x115d31(0x544)][_0x115d31(0x2b0)])return{'insertCount':(await this[_0x115d31(0x439)]['updateOne']({'_id':_0x100c4e},{'$set':{..._0x16a3e5}},{'upsert':!0x0}))[_0x115d31(0x717)]};}catch(_0x5de73b){return{'error':_0x5de73b};}}async[a0_0x4c7c55(0x60f)](_0x3b8384,_0x564126){const _0x4f440f=a0_0x4c7c55;try{if(this[_0x4f440f(0x544)][_0x4f440f(0x2b0)])return{'insertCount':(await this[_0x4f440f(0x439)][_0x4f440f(0x579)](_0x3b8384,{'$set':_0x564126},{'upsert':!0x1}))[_0x4f440f(0x717)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x20a05e){return{'error':_0x20a05e};}}async['deleteMany'](_0x387cb0){const _0x248198=a0_0x4c7c55;try{if(this[_0x248198(0x544)][_0x248198(0x2b0)])return{'insertCount':(await this[_0x248198(0x439)][_0x248198(0x537)](_0x387cb0))[_0x248198(0x742)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3ae1c9){return{'error':_0x3ae1c9};}}async[a0_0x4c7c55(0x270)](_0x9c7d59){const _0x3725da=a0_0x4c7c55;try{if(this['dbSettings'][_0x3725da(0x2b0)]){await this[_0x3725da(0x439)]['deleteOne']({'_id':_0x9c7d59});return;}}catch(_0xf1bcba){return{'error':_0xf1bcba};}}async[a0_0x4c7c55(0x557)](_0x29db54){const _0xb24f49=a0_0x4c7c55;try{if(this[_0xb24f49(0x544)][_0xb24f49(0x2b0)])return await this[_0xb24f49(0x439)][_0xb24f49(0x6bf)]({'_id':_0x29db54});}catch{return{};}}async['findAll'](){const _0x3bb5a1=a0_0x4c7c55;try{if(this[_0x3bb5a1(0x544)][_0x3bb5a1(0x2b0)])return await this['authModel']['find']();}catch{return[];}}},zt=class extends I{['getFlowModelForOwner'](_0x5bfdcb){return ta(_0x5bfdcb);}async['copyDataToNewModel'](_0xd5bcf1){const _0x4adebf=a0_0x4c7c55;try{let _0x100637=sa,_0x5a488a=this[_0x4adebf(0x2cb)](_0xd5bcf1),_0x24117a=await _0x100637[_0x4adebf(0x557)]({'owner':_0xd5bcf1})[_0x4adebf(0x817)](),_0x2b47e0=[],_0x4d560c=[];for(let _0x3a830c of _0x24117a)await _0x5a488a[_0x4adebf(0x755)](_0x3a830c[_0x4adebf(0x40d)])[_0x4adebf(0x817)]()||(_0x2b47e0['push'](_0x3a830c),_0x4d560c['push'](_0x3a830c[_0x4adebf(0x40d)]));return _0x2b47e0[_0x4adebf(0x676)]>0x0&&await _0x5a488a[_0x4adebf(0x79c)](_0x2b47e0,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1c284c){return console[_0x4adebf(0x546)](_0x4adebf(0x76a),_0x1c284c),{'success':!0x1,'error':_0x1c284c};}}async['delete'](_0x94816d,_0x5d68a1){const _0x597fbe=a0_0x4c7c55;try{let _0xf537ed=this[_0x597fbe(0x2cb)](_0x5d68a1),_0x369fe2=A(_0x94816d[_0x597fbe(0x54e)]);return{'deletedCount':(await _0xf537ed[_0x597fbe(0x537)](_0x369fe2))['deletedCount']};}catch(_0x55e78b){return{'error':_0x55e78b?.[_0x597fbe(0x2b4)]()};}}async[a0_0x4c7c55(0x801)](_0x264cfc,_0x4e88c6){const _0x45b1e4=a0_0x4c7c55;try{let _0xbbb0f2=this[_0x45b1e4(0x2cb)](_0x4e88c6),_0x2e08e1=A(_0x264cfc[_0x45b1e4(0x54e)]);return{'deletedCount':(await _0xbbb0f2[_0x45b1e4(0x801)](_0x2e08e1))[_0x45b1e4(0x742)]};}catch(_0x574591){return{'error':_0x574591?.[_0x45b1e4(0x2b4)]()};}}async[a0_0x4c7c55(0x53d)](_0x45138d,_0x5c812f,_0x9f9ff9){const _0x2c9ee4=a0_0x4c7c55;try{return await this['getFlowModelForOwner'](_0x9f9ff9)[_0x2c9ee4(0x218)](_0x45138d,_0x5c812f,{'new':!0x0});}catch(_0x13f12d){return console[_0x2c9ee4(0x546)](_0x2c9ee4(0x58d),_0x13f12d),null;}}async[a0_0x4c7c55(0x3ae)](_0x4c099a,_0x2d097e){const _0x1335b3=a0_0x4c7c55;try{let _0x280a72=this[_0x1335b3(0x2cb)](_0x2d097e);return await new _0x280a72(_0x4c099a)[_0x1335b3(0x778)]();}catch(_0x1daa41){return console[_0x1335b3(0x546)](_0x1335b3(0x82e),_0x1daa41),null;}}async[a0_0x4c7c55(0x579)](_0x18a855,_0x3f544f,_0x20b0f7){const _0x24caa1=a0_0x4c7c55;try{return{'modifiedCount':(await this[_0x24caa1(0x2cb)](_0x20b0f7)[_0x24caa1(0x579)](_0x18a855,{'$set':_0x3f544f}))['modifiedCount']};}catch(_0x2c3ec4){return console[_0x24caa1(0x546)](_0x24caa1(0x7b3),_0x2c3ec4),{'error':_0x2c3ec4};}}async[a0_0x4c7c55(0x656)](_0xd9db8d,_0x4804d6){const _0x58262f=a0_0x4c7c55;try{let _0x2833f2=this['getFlowModelForOwner'](_0x4804d6),_0x3211e5=A(_0xd9db8d['where']);return await _0x2833f2[_0x58262f(0x557)](_0x3211e5)[_0x58262f(0x6f9)](_0xd9db8d?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x4c7c55(0x6bf)](_0x1704b3,_0x17f789){const _0x5b8f9e=a0_0x4c7c55;try{let _0x3e9310=this[_0x5b8f9e(0x2cb)](_0x17f789),_0x105c1c=A(_0x1704b3[_0x5b8f9e(0x54e)]);return await _0x3e9310['findOne'](_0x105c1c)[_0x5b8f9e(0x817)]();}catch{return null;}}async[a0_0x4c7c55(0x7c9)](_0x53d78a){const _0x5d28ef=a0_0x4c7c55;try{return await this[_0x5d28ef(0x2cb)](_0x53d78a)[_0x5d28ef(0x5bb)][_0x5d28ef(0x634)](),{'success':!0x0};}catch(_0x61ad79){return console[_0x5d28ef(0x546)](_0x61ad79),{'success':!0x1,'error':_0x61ad79};}}},Ht=class extends I{['getConversationModelForOwner'](_0x43a843){return oa(_0x43a843);}async['copyDataToNewModel'](_0x556686){const _0x24e75a=a0_0x4c7c55;try{let _0x463c13=ra,_0xf58607=this[_0x24e75a(0x2fc)](_0x556686),_0x48cc2b=await _0x463c13['find']({'owner':_0x556686})['lean'](),_0x11bd89=[],_0x56b0b9=[];for(let _0x376826 of _0x48cc2b)await _0xf58607['findById'](_0x376826[_0x24e75a(0x40d)])[_0x24e75a(0x817)]()||(_0x11bd89[_0x24e75a(0x56b)](_0x376826),_0x56b0b9[_0x24e75a(0x56b)](_0x376826[_0x24e75a(0x40d)]));return _0x11bd89['length']>0x0&&await _0xf58607[_0x24e75a(0x79c)](_0x11bd89,{'ordered':!0x1}),{'success':!0x0};}catch(_0x23a39c){return console[_0x24e75a(0x546)](_0x24e75a(0x76a),_0x23a39c),{'success':!0x1,'error':_0x23a39c};}}async[a0_0x4c7c55(0x2e5)](_0x458f0f){const _0x3914f5=a0_0x4c7c55;if(_0x458f0f[_0x3914f5(0x676)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x458f0f[0x0][_0x3914f5(0x655)])['insertMany']([..._0x458f0f]))[_0x3914f5(0x676)]};}catch(_0x4ee8f2){return _0x4ee8f2;}}async[a0_0x4c7c55(0x270)](_0x3a13a9,_0x6b8133){const _0x31b2ea=a0_0x4c7c55;try{let _0xedcc07=this[_0x31b2ea(0x2fc)](_0x6b8133),_0x5d1dcd=A(_0x3a13a9[_0x31b2ea(0x54e)]);return{'deletedCount':(await _0xedcc07[_0x31b2ea(0x537)](_0x5d1dcd))['deletedCount']};}catch(_0xaca1ba){return{'error':_0xaca1ba?.[_0x31b2ea(0x2b4)]()};}}async['deleteOne'](_0x2ca666,_0x2e0806){const _0x13533f=a0_0x4c7c55;try{let _0x3cb1da=this[_0x13533f(0x2fc)](_0x2e0806),_0x3f732b=A(_0x2ca666['where']);return{'deletedCount':(await _0x3cb1da[_0x13533f(0x801)](_0x3f732b))[_0x13533f(0x742)]};}catch(_0x39c6dd){return{'error':_0x39c6dd?.[_0x13533f(0x2b4)]()};}}async['update'](_0xe09d8a,_0x265e74){const _0x1668c3=a0_0x4c7c55;try{if(_0xe09d8a['length']===0x0)return;let _0x18ade7=this['getConversationModelForOwner'](_0x265e74),_0x5a82a7=_0xe09d8a[_0x1668c3(0x4df)](_0x324c10=>({'updateOne':{'filter':{'name':_0x324c10['name'],'owner':_0x265e74},'update':{..._0x324c10}}})),{modifiedCount:_0x36f869}=await _0x18ade7[_0x1668c3(0x302)](_0x5a82a7);return{'insertCount':_0x36f869};}catch{return;}}async[a0_0x4c7c55(0x579)](_0x5b3f61,_0x11532b,_0x2a3a26){const _0x4cab7b=a0_0x4c7c55;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x2a3a26)['updateMany'](_0x5b3f61,{'$set':_0x11532b}))[_0x4cab7b(0x717)]};}catch(_0x14cf48){return console[_0x4cab7b(0x546)]('Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:',_0x14cf48),{'error':_0x14cf48};}}async['updateOne'](_0xf9f006,_0x479a58,_0x46c2cc){const _0x22f32e=a0_0x4c7c55;try{return await this[_0x22f32e(0x2fc)](_0x46c2cc)[_0x22f32e(0x691)]({'_id':_0xf9f006},{'$set':_0x479a58},{'new':!0x0,'upsert':!0x0})[_0x22f32e(0x817)]();}catch(_0xdd5ab4){return console['error'](_0xdd5ab4),null;}}async[a0_0x4c7c55(0x557)](_0x1eaf5b,_0x1cb5d6){const _0x26f154=a0_0x4c7c55;try{return await this[_0x26f154(0x2fc)](_0x1cb5d6)[_0x26f154(0x557)](_0x1eaf5b)[_0x26f154(0x442)]({'lastInteraction':-0x1})[_0x26f154(0x817)]();}catch{return[];}}async[a0_0x4c7c55(0x6bf)](_0x257953,_0x3dec8b){const _0x46d8c8=a0_0x4c7c55;try{return await this[_0x46d8c8(0x2fc)](_0x3dec8b)[_0x46d8c8(0x6bf)]({..._0x257953[_0x46d8c8(0x54e)]})[_0x46d8c8(0x817)]();}catch{return null;}}async[a0_0x4c7c55(0x7c9)](_0x163700){const _0x176e27=a0_0x4c7c55;try{return await this[_0x176e27(0x2fc)](_0x163700)[_0x176e27(0x5bb)][_0x176e27(0x634)](),{'success':!0x0};}catch(_0x2b5526){return console[_0x176e27(0x546)](_0x2b5526),{'success':!0x1,'error':_0x2b5526};}}},Kt=class extends I{[a0_0x4c7c55(0x342)](_0x23eae8){return na(_0x23eae8);}async[a0_0x4c7c55(0x67f)](_0x1f26bb){const _0x4e0033=a0_0x4c7c55;try{let _0x12abf9=ca,_0x4bbdb1=this[_0x4e0033(0x342)](_0x1f26bb),_0x4dc9f6=await _0x12abf9['find']({'owner':_0x1f26bb})[_0x4e0033(0x817)](),_0x300f76=[],_0x3b05ce=[];for(let _0x961e51 of _0x4dc9f6)await _0x4bbdb1[_0x4e0033(0x755)](_0x961e51[_0x4e0033(0x40d)])[_0x4e0033(0x817)]()||(_0x300f76[_0x4e0033(0x56b)](_0x961e51),_0x3b05ce[_0x4e0033(0x56b)](_0x961e51[_0x4e0033(0x40d)]));return _0x300f76[_0x4e0033(0x676)]>0x0&&await _0x4bbdb1[_0x4e0033(0x79c)](_0x300f76,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2faeeb){return console[_0x4e0033(0x546)](_0x4e0033(0x76a),_0x2faeeb),{'success':!0x1,'error':_0x2faeeb};}}async[a0_0x4c7c55(0x3ae)](_0x226440,_0x314736){const _0x421b8b=a0_0x4c7c55;try{let _0xa8f7a4=this['getScheduleMessageModelForOwner'](_0x314736);return await new _0xa8f7a4(_0x226440)[_0x421b8b(0x778)]();}catch(_0x1d1617){return console[_0x421b8b(0x546)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x1d1617),null;}}async[a0_0x4c7c55(0x801)](_0x381c63,_0x3bc503){const _0x1c9991=a0_0x4c7c55;try{return await this['getScheduleMessageModelForOwner'](_0x3bc503)[_0x1c9991(0x297)](_0x381c63),{};}catch(_0x2d07d8){return{'error':_0x2d07d8?.[_0x1c9991(0x2b4)]()};}}async['updateOne'](_0x3cb20e,_0x3c472e,_0x2a427f){const _0x3e2b76=a0_0x4c7c55;try{return await this[_0x3e2b76(0x342)](_0x2a427f)[_0x3e2b76(0x691)](_0x3cb20e,{'$set':_0x3c472e},{'new':!0x0})[_0x3e2b76(0x817)]();}catch(_0x3cc15e){return console['error'](_0x3e2b76(0x3f0),_0x3cc15e),null;}}async['updateOneById'](_0x451dbb,_0x19764c,_0x2e2b8d){const _0x4f2469=a0_0x4c7c55;try{return await this[_0x4f2469(0x342)](_0x2e2b8d)[_0x4f2469(0x218)](_0x451dbb,_0x19764c,{'new':!0x0})[_0x4f2469(0x817)]();}catch(_0x267983){return console[_0x4f2469(0x546)](_0x4f2469(0x3f0),_0x267983),null;}}async['find'](_0x158ebe,_0x2ca1fa){const _0x1a35eb=a0_0x4c7c55;try{return await this[_0x1a35eb(0x342)](_0x2ca1fa)['find'](_0x158ebe[_0x1a35eb(0x54e)])[_0x1a35eb(0x6f9)](_0x158ebe?.[_0x1a35eb(0x6f9)]??0x0)[_0x1a35eb(0x442)]({'when':0x1})[_0x1a35eb(0x817)]();}catch{return[];}}async['findOne'](_0x4050d,_0x1c7cfa){const _0x5e8a45=a0_0x4c7c55;try{return await this[_0x5e8a45(0x342)](_0x1c7cfa)['findOne'](_0x4050d[_0x5e8a45(0x54e)])[_0x5e8a45(0x442)]({'when':0x1})[_0x5e8a45(0x817)]();}catch{return null;}}async[a0_0x4c7c55(0x755)](_0x4bc09a,_0x53a7a4){const _0x5531cd=a0_0x4c7c55;try{return await this[_0x5531cd(0x342)](_0x53a7a4)[_0x5531cd(0x755)](_0x4bc09a)[_0x5531cd(0x817)]();}catch{return null;}}async[a0_0x4c7c55(0x537)](_0x39e3a4,_0x54ace3){const _0x44f2a1=a0_0x4c7c55;try{return{'deletedCount':(await this[_0x44f2a1(0x342)](_0x54ace3)['deleteMany'](_0x39e3a4))[_0x44f2a1(0x742)]};}catch(_0x2c9323){return console[_0x44f2a1(0x546)]('Erro\x20ao\x20deletar\x20mensagens:',_0x2c9323),{'error':_0x2c9323};}}async[a0_0x4c7c55(0x7c9)](_0x1e1c8d){const _0x38c894=a0_0x4c7c55;try{return await this[_0x38c894(0x342)](_0x1e1c8d)[_0x38c894(0x5bb)]['drop'](),{'success':!0x0};}catch(_0x4a6a23){return console[_0x38c894(0x546)](_0x4a6a23),{'success':!0x1,'error':_0x4a6a23};}}},Qt=class extends I{async[a0_0x4c7c55(0x718)](_0x41e24b,_0x4e6283){const _0x71003=a0_0x4c7c55;try{if(this[_0x71003(0x544)][_0x71003(0x2b0)]){let _0xab9d41=await Pe['findOneAndUpdate']({'_id':_0x4e6283},{'$set':_0x41e24b},{'new':!0x0});return console[_0x71003(0x219)](_0x71003(0x648),_0xab9d41),_0xab9d41;}}catch(_0x29ca46){throw console[_0x71003(0x546)](_0x71003(0x811),_0x29ca46),_0x29ca46;}}async[a0_0x4c7c55(0x591)](_0x47ab8c){const _0x58cb80=a0_0x4c7c55;try{let _0x51635a=await Pe[_0x58cb80(0x755)](_0x47ab8c);return _0x51635a||(_0x51635a=new Pe({'_id':_0x47ab8c}),await _0x51635a[_0x58cb80(0x778)]()),_0x51635a;}catch(_0x373fdf){return console[_0x58cb80(0x546)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x373fdf),null;}}},yr=new v('WA\x20MODULE'),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0x4c7c55(0x5c6)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x4c7c55(0x39b)](a0_0x4c7c55(0x415));var gg=require(a0_0x4c7c55(0x53a)),Ts=require('fs'),Mo=R(require(a0_0x4c7c55(0x81a))),vo=R(require('http')),Ne=class c{static #e;static set[a0_0x4c7c55(0x74b)](_0xea8d5d){this.#e=_0xea8d5d;}static get[a0_0x4c7c55(0x81a)](){const _0x77e56=a0_0x4c7c55;let {FULLCHAIN:_0x5316aa,PRIVKEY:_0x333f4b}=b['get'](_0x77e56(0x54c));return Mo[_0x77e56(0x351)]({'cert':(0x0,Ts['readFileSync'])(_0x5316aa),'key':(0x0,Ts[_0x77e56(0x7d3)])(_0x333f4b)},c.#e);}static get[a0_0x4c7c55(0x3a6)](){const _0x436ef9=a0_0x4c7c55;return vo[_0x436ef9(0x351)](c.#e);}},de=R(require('fs')),Io=R(require('ini')),Re=R(require(a0_0x4c7c55(0x4c0))),Ae=R(require('path')),Oe=require(a0_0x4c7c55(0x3ad));function xr(){const _0x2cf3d0=a0_0x4c7c55;B[_0x2cf3d0(0x346)]();let _0x32ff85=Ae[_0x2cf3d0(0x697)][_0x2cf3d0(0x1c0)](__dirname,_0x2cf3d0(0x45d));Oo(_0x32ff85);}var Oo=_0x3a71de=>{const _0x564018=a0_0x4c7c55;let _0x386341=de[_0x564018(0x697)][_0x564018(0x48d)](_0x3a71de),_0x38ec50=0xc*0x3c*0x3c*0x3e8,_0x3c58cc=0x2*0x3c*0x3c*0x3e8,_0x4f6010=new Date()[_0x564018(0x4b7)]();_0x386341[_0x564018(0x559)](_0x4dae7c=>{const _0x352838=_0x564018;let _0x1c35a1=Ae[_0x352838(0x697)]['join'](_0x3a71de,_0x4dae7c),_0xd13235=de[_0x352838(0x697)][_0x352838(0x6d6)](_0x1c35a1)['birthtime'][_0x352838(0x4b7)]();_0x4f6010-_0xd13235>_0x38ec50&&(de[_0x352838(0x697)][_0x352838(0x822)](_0x1c35a1),console[_0x352838(0x219)](_0x352838(0x6e7)+_0x4dae7c));}),setTimeout(()=>Oo(_0x3a71de),_0x3c58cc);};function Dr(){const _0x3e2f6e=a0_0x4c7c55;let _0x5f0d3b=new v(_0x3e2f6e(0x65a)),_0x113567=(0x0,pe[_0x3e2f6e(0x697)])();_0x113567[_0x3e2f6e(0x781)]((0x0,Ao[_0x3e2f6e(0x697)])({'origin'(_0x447fbc,_0x237aa6){const _0xd2438d=_0x3e2f6e;let {ORIGIN:_0x40e497}=b[_0xd2438d(0x448)](_0xd2438d(0x2bb));return _0x447fbc||(_0x447fbc='*'),_0x40e497['indexOf']('*')!==-0x1||_0x40e497[_0xd2438d(0x678)](_0x447fbc)!==-0x1?_0x237aa6(null,!0x0):_0x237aa6(new Error(_0xd2438d(0x6b9)));},'methods':[...b[_0x3e2f6e(0x448)]('CORS')[_0x3e2f6e(0x1d8)]],'credentials':b[_0x3e2f6e(0x448)](_0x3e2f6e(0x2bb))['CREDENTIALS']}),(0x0,pe[_0x3e2f6e(0x721)])({'extended':!0x0,'limit':_0x3e2f6e(0x21c)}),(0x0,pe[_0x3e2f6e(0x80d)])({'limit':_0x3e2f6e(0x21c)})),_0x113567[_0x3e2f6e(0x781)]((_0x32ddd7,_0x25e3af,_0x411cff)=>{const _0x5ddcf8=_0x3e2f6e;_0x32ddd7['path']['startsWith'](_0x5ddcf8(0x2dd))?_0x411cff():(0x0,To['default'])()(_0x32ddd7,_0x25e3af,_0x411cff);}),_0x113567['set'](_0x3e2f6e(0x428),_0x3e2f6e(0x247)),_0x113567['set'](_0x3e2f6e(0x4d0),(0x0,Os[_0x3e2f6e(0x1c0)])(ae,_0x3e2f6e(0x4d0))),_0x113567[_0x3e2f6e(0x781)](pe[_0x3e2f6e(0x697)][_0x3e2f6e(0x62b)]((0x0,Os[_0x3e2f6e(0x1c0)])(ae,_0x3e2f6e(0x2cf)))),_0x113567['use']((_0x263ee8,_0x107321,_0x1e4531)=>{const _0x2d833c=_0x3e2f6e;let _0x53cd6b=_0x107321[_0x2d833c(0x4a5)];_0x107321[_0x2d833c(0x4a5)]=function(_0xb1beda){const _0x5c4735=_0x2d833c;if(_0x263ee8[_0x5c4735(0x3d9)]['convert']==='true'||_0x263ee8[_0x5c4735(0x4ea)][_0x5c4735(0x229)]===_0x5c4735(0x7fc)){let _0x43e402=JSON[_0x5c4735(0x2b9)](_0xb1beda);_0xb1beda=JSON[_0x5c4735(0x6c4)](_0x37f5ec(_0x43e402));}return _0x53cd6b['apply'](_0x107321,[_0xb1beda]);},_0x1e4531();}),_0x113567[_0x3e2f6e(0x781)]('/',vt),_0x113567[_0x3e2f6e(0x781)]((_0x330a9c,_0x554ce5,_0x2ce9ab,_0x22e9b9)=>{const _0x4d2e3b=_0x3e2f6e;if(_0x330a9c)return _0x2ce9ab[_0x4d2e3b(0x2bf)](_0x330a9c['status']||0x1f4)[_0x4d2e3b(0x80d)](_0x330a9c);},(_0x2ec289,_0x4abd60,_0x80fcd6)=>{const _0x2b391e=_0x3e2f6e;let {method:_0x2c65d9,url:_0x492a52}=_0x2ec289;_0x4abd60['status'](0x194)[_0x2b391e(0x80d)]({'status':0x194,'message':'Cannot\x20'+_0x2c65d9[_0x2b391e(0x71b)]()+'\x20'+_0x492a52,'error':_0x2b391e(0x4b0)}),_0x80fcd6();});let _0x37f5ec=(_0x2e2028,_0x49a1f6=_0x3e2f6e(0x3d8))=>{const _0x2e1f8f=_0x3e2f6e;let _0x2c8849=(_0x5e6722,_0x4db8e4=null,_0xa9a041=!0x1)=>{const _0x27564f=a0_0x31df;let _0x7551d3={};return Object[_0x27564f(0x722)](_0x5e6722)[_0x27564f(0x559)](_0x543709=>{const _0x1ac625=_0x27564f;let _0x29db95=_0x5e6722[_0x543709],_0x497ea9=''+_0x49a1f6+_0x543709;_0x4db8e4&&!_0xa9a041&&(_0x497ea9=_0x4db8e4+'.'+_0x543709),!_0x29db95&&_0x29db95!==0x0&&_0x29db95!==!0x1||typeof _0x29db95>'u'?_0x7551d3[_0x497ea9]=null:typeof _0x29db95!='object'&&!Array[_0x1ac625(0x5be)](_0x29db95)?_0x7551d3[_0x497ea9]=_0x29db95:typeof _0x29db95==_0x1ac625(0x4b4)&&!Array[_0x1ac625(0x5be)](_0x29db95)?_0x7551d3=Object[_0x1ac625(0x3b8)](_0x7551d3,_0x2c8849(_0x29db95,_0x497ea9)):Array[_0x1ac625(0x5be)](_0x29db95)&&(typeof _0x29db95[0x0]==_0x1ac625(0x4b4)?(_0x7551d3[_0x497ea9]=[],_0x29db95[_0x1ac625(0x559)](_0x48c9fb=>{const _0x134c3d=_0x1ac625;_0x7551d3[_0x497ea9][_0x134c3d(0x56b)](_0x2c8849(_0x48c9fb,_0x497ea9,!0x0));})):_0x7551d3[_0x497ea9]=_0x29db95);}),_0x7551d3;};return Array[_0x2e1f8f(0x5be)](_0x2e2028)?_0x2e2028['map'](_0x53d337=>_0x2c8849(_0x53d337)):typeof _0x2e2028==_0x2e1f8f(0x4b4)&&_0x2e2028!==null?_0x2c8849(_0x2e2028):{};},_0x4abd77=b[_0x3e2f6e(0x448)](_0x3e2f6e(0x65a));Ne['app']=_0x113567;let _0x3e7ea4=Ne[_0x4abd77[_0x3e2f6e(0x59d)]],_0x2bf0b6=_0x3e2f6e(0x702);_0x3e7ea4[_0x3e2f6e(0x6c0)](_0x4abd77[_0x3e2f6e(0x4ff)],()=>{const _0x4c2c44=_0x3e2f6e;_0x5f0d3b[_0x4c2c44(0x219)](_0x2bf0b6),_0x5f0d3b[_0x4c2c44(0x219)](_0x4abd77[_0x4c2c44(0x59d)][_0x4c2c44(0x71b)]()+_0x4c2c44(0x65e)+_0x4abd77[_0x4c2c44(0x4ff)]);}),xr(),Fs();}var _r='https://github.com/uazapi/uazapi.git',Pr=Ae[a0_0x4c7c55(0x697)][a0_0x4c7c55(0x1c0)](__dirname,'./.git/config'),Te=null;function $r(){return new Promise((_0x611681,_0xdd0046)=>{const _0x3cd966=a0_0x31df;de['default'][_0x3cd966(0x375)](Pr,_0x3cd966(0x323),(_0x232cb5,_0xf35dee)=>{const _0x3f6087=_0x3cd966;if(_0x232cb5){Te=_0x232cb5,_0x611681();return;}Io[_0x3f6087(0x697)][_0x3f6087(0x2b9)](_0xf35dee)[_0x3f6087(0x2d3)][_0x3f6087(0x299)]===_r?(Te=null,_0x611681()):(Te=new Error('uazapi\x20no\x20est\x20instalado\x20pelo\x20git'),_0x611681());});});}async function kr(){const _0x537f8f=a0_0x4c7c55;try{await $r(),await Is();}catch(_0x50398e){console[_0x537f8f(0x546)](_0x537f8f(0x594)+_0x50398e),process[_0x537f8f(0x75b)](0x1);}}kr();async function xo(){const _0x51c2fb=a0_0x4c7c55;let _0x2a19cb;try{_0x2a19cb=(await Re[_0x51c2fb(0x697)][_0x51c2fb(0x448)](_0x51c2fb(0x1e8)))[_0x51c2fb(0x402)]['ip'];}catch(_0x4cf39b){console[_0x51c2fb(0x546)](_0x4cf39b);try{_0x2a19cb=(await Re[_0x51c2fb(0x697)][_0x51c2fb(0x448)](_0x51c2fb(0x368)))['data']['ip'];}catch(_0x279445){console[_0x51c2fb(0x546)](_0x279445);try{_0x2a19cb=(await Re[_0x51c2fb(0x697)][_0x51c2fb(0x448)]('http://checkip.dyndns.org'))['data'][_0x51c2fb(0x52e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x448000){return console[_0x51c2fb(0x546)](_0x448000),!0x1;}}}return _0x2a19cb;}var No=0x0;async function Lr(){const _0x3d0b90=a0_0x4c7c55;let _0x428147=await new oe(b['get']('REDIS'))[_0x3d0b90(0x6fe)]();return console[_0x3d0b90(0x219)](_0x3d0b90(0x1ea),_0x428147[_0x3d0b90(0x676)]),_0x428147[_0x3d0b90(0x676)];}function a0_0x4ef4(){const _0x1156a7=['/config','addresss','encoding','$dbName','listType','):\x20newFirstValue\x20aps\x20replaceVariables:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','ephemeralExpiration','updateStopChat','processApiRequest','Getting\x20profile\x20with\x20jid:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','label','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings',',\x20Segundo\x20Valor:\x20','random','length','Types','indexOf','groups.update','sleep','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Conversa\x20deletada\x20com\x20sucesso.','arrayUnique','etiquetas','copyDataToNewModel','description','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Visualizando\x20AutomateSystem','created','_Messages','getPrototypeOf','send.message','\x20com\x20sucesso.','Error\x20updating\x20profile\x20status','ERROR:\x20','):\x20Ignoring\x20group\x20messages.','Variveis\x20no\x20encontradas:','SERVER_OFFLINE','}}\x20->\x20valor\x20no\x20encontrado','://','binary','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','findOneAndUpdate','Chrome','updateProfilePicture','addReplyOption','Output\x20path:\x20','contacts','default','deleteMessage','Mensagem\x20no\x20suportada','@s.whatsapp.net','getDevice','/:instanceName','Error\x20updating\x20message\x20status:','):\x20Error\x20processing\x20conditions:\x20','role','\x20inseridas\x20no\x20banco\x20de\x20dados...','checkAndRestartProcess','env.KEY\x20!==\x20key','command','reviver','CHATS_UPDATE','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','../env.yml','Imagem\x20no\x20encontrada','secondValue','prototype','matchRegex','enumerable','):\x20Erro\x20ao\x20buscar\x20conversas\x20','eventHandler','qrcode.updated','FULLCHAIN','editFlowGroup','toLocaleString','scheduleNextCheck','convertaudio','Getting\x20profile\x20info','File\x20written\x20to\x20path:\x20','):\x20Flow\x20no\x20encontrado','):\x20Fluxos\x20no\x20esto\x20ativados','Not\x20allowed\x20by\x20CORS','AddChatLabel','groupUpdateSubject','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','dbServer','allflows','findOne','listen','):\x20Criando\x20fluxo...','\x1b[44m','whatsappNumbers','stringify','userDevicesCache',',\x20pairCode:\x20','MAX_RECONNECT_ATTEMPTS','setContext','findConversation','name','PLAYED','mediaMessage','/wa-qrcode','Temp\x20audio\x20path:\x20','delay','errorLog','.xls','4481610HWIeWm','getMessageModelForOwner','#00a1f2','DB_PREFIX_NAME','statSync','--agree-tos','?timestamp=','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','!stop','saveMediaToFile','release','pop','scheduled','The\x20instance\x20needs\x20to\x20be\x20disconnected','/*.json','g.us','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','\x20minutos.\x20Ser\x20s\x20','):\x20Enviando\x20contato','ContactModel','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Deleted\x20','Error\x20updating\x20privacy\x20settings','.\x20Aguardando\x20antes\x20de\x20reconectar...','Group\x20not\x20found','updateMissingTags','StatusJidList\x20is\x20required','string','sendWhatsAppAudio','Error\x20fetching\x20group','Instance\x20ID:','AUTHENTICATION_API_KEY','\x1b[37m','/events/:instance','Authentication\x20error','Instance\x20deleted','instanceInfo','createConnection','request\x20received\x20in\x20allFlows','limit','REDIS_PREFIX_KEY','caption','webp','dark','instanceKeys','getHours','collections','email','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.sendDataWebhook-local','floor','params','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','variables','padEnd','sendMenu','):\x20Alterando\x20fluxo...','truncatedto','removeData','Hash\x20to\x20image\x20name:\x20','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','Last\x20message\x20not\x20found','mimetype','request\x20received\x20in\x20getAutomateSystem','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','hasOwnProperty','store','getAutomateSystem','removeOlderDisconnectedInstances','modifiedCount','update','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','toUpperCase','process','Configurao\x20do\x20ip:','errors','create','filter','urlencoded','keys','flowPrefixCommand','CONECTADO\x20\x20UAZAPI','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Buscando\x20flow...','response','selectableCount','458427VNBQsM','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','getVariablesChat','fetchContacts','scheduleMessage','LOG','poll','Selecione','request\x20received\x20in\x20updateCustomFields','prepareMediaMessage','connectionClosed','sharp','getOwnPropertyDescriptor','silent','Erro\x20ao\x20testar\x20o\x20proxy','CHATS_SET','Button\x20IDs\x20cannot\x20be\x20repeated.','chats.set','boolean','writeFileSync','WebhookGlobal','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','profilePicture','deletedCount','including\x20timestamp\x20in\x20url:\x20','count','#dfaef0','notEmpty','toBRL','padStart','CORS_METHODS','prefixCommand','app','min','creds.json','AutomateFunctions','contains','updateParticipant','jwt','pollCreationMessage','CONTACTS_UPDATE','@g.us','findById','logger','processConditionsTest','pollCreationMessageKey','participants','LabelModel','exit','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','updateOneById','All_Instances_Config','connectionStatus','video-cover.png','createFlow','sendPoll','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','redis','\x1b[46m','PREFIX_KEY','/wa-connection-update','groupRevokeInvite','SSL_CONF_PRIVKEY','Erro\x20ao\x20copiar\x20dados:','ms\x20(Attempt\x20','):\x20Mensagem\x20j\x20enviada\x20para\x20','demote','parseInt','fetchStatus','port','picture','deleteInstance','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','fileLength','updateConversation','sendList','ScheduleMessageModel','save','audioWhatsapp','endSession','enabled','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','API_KEY','applyvaredit','editflowgroup','use','ListType','):\x20Buscando\x20conversa...','nomecompleto','editOperator','.txt','less','newValue','envProcess','Background\x20color\x20is\x20required','exec','\x22,\x20valor\x20a\x20substituir:\x20\x22','events','connectionState','request\x20received\x20in\x20editFlowgroup','Erro\x20ao\x20buscar\x20conversas:\x20','sendPresenceUpdate','updateAgent','\x1b[34m%s\x1b[0m','PRIVKEY','lastDisconnect','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','font','getDelay','.ppt','editflowcondition','AUTHENTICATION_JWT_EXPIRIN_IN','insertMany','when','block','\x20minutos','#83e421','remoteJid','pino','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','router','ex:\x20\x22groupJid=120362@g.us\x22','Tentativa\x20','):\x20Procurando\x20mensagens\x20para\x20envio','_ScheduleMessages','sendContact','method','NextBlock','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','sha256','processingScheduleMessageId','updateProfileStatus','node-mime-types','):\x20expirationTime:\x20','#f64847','Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:','qrcode-terminal','16UokVvt','fetchProfile','dbClient','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','REDIS_URI','request\x20received\x20in\x20deleteConversation','Missing\x20global\x20api\x20key','replaceVariables','messages','mentioned','reconnectAttempts','ON\x20-\x20dbName:\x20','connectedName','readreceipts','_error','\x1b[47m','Contacts\x20not\x20found','lastCondition','\x20foi\x20interrompido\x20pelo\x20usurio.','Archiving\x20chat','deleteAll','findFlow','linkPreview','):\x20Usando\x20extenso\x20padro:\x20','value','flowActive','unavailable','DELIVERY_ACK','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','leadInfo','readFileSync','createConversationforStartFlow','debug','#9ba6ff','.svg','pollErrorMessage','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','AUTHENTICATION_TYPE','online','unhandledRejection','InstancesAlterarTodas','\x20after\x20','flowName','importChatsAntigo','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','pollMessage','):\x20Conversa\x20est\x20expirada','DEBUG','integer','leadInfo.customFields','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','noConnection','connect','match_last_seen','presence','makeCacheableSignalKeyStore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','defineAuthState','group','originalUrl','editflowvaredit','mediatype','!cmd_','fetchChats','Nmero:\x20','content','call','):\x20Enviando\x20mdia','restrict','):\x20Falha\x20ao\x20deletar\x20mensagem.','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','true','Audio\x20processed','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','apirequest','verbose','deleteOne','Converted\x20audio\x20deleted','isListOfNumbers','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','repeat','arraybuffer',',\x20far\x20nova\x20verificao\x20em\x20','.png','set','BufferJSON','GUARD','copyBlock','json','realVariables','messagesSend','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','Erro\x20ao\x20atualizar\x20AutomateSystem:','saveConversationToDatabase','username','contactMessage','lastSend','protocol','lean','leadInfo.desativadoFluxoAte','decryptPollVote','https','NO_IP','/wa-message','EMAIL','split','prepareWAMessageMedia','Invalid\x20format','):\x20Bloco\x20copiado:\x20','unlinkSync','removed','oldToken','-instances','editedMessage','jsonwebtoken','groupFetchAllParticipating','):\x20Editando\x20bloco...','preview','capitalizedWords','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','READ','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','splice','function','creds','STORE_MESSAGE','loadWebhook','):\x20Erro\x20ao\x20editar\x20agentes:\x20','array','listResponseMessage','shift','groups_ignore','greater','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','/instance/fetchInstances','Schema','pt-BR','@broadcast','createInstance','Erro:','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','archiveChat','cpf','newStoppedUntil','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','dayjs','lastmsg','updatePrivacySettings','Error\x20creating\x20group','^\x5cd+([-]\x5cd+)*@g.us$','MESSAGES_SET','sem\x20texto\x20na\x20mensagem','readData','setting','contactname','/chat','sticker',',\x20lastCondition:\x20','/wa-chats','header','Proxy\x20falhou.\x20Tentando\x20o\x20prximo...','Converting\x20image\x20to\x20WebP\x20to\x20sticker','fileName','certonly','optionName','join','No\x20participants','Instance\x20Key\x20from\x20DB:','#9568cf','instances','.gif','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','mediaSticker','findGroup','connectToWhatsapp','isInteger','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','findParticipants','No\x20respondeu\x20com\x20a\x20enquete.','mongodb','ListMessage','Temp\x20audio\x20created','DATABASE','buttons','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','):\x20transformedCustomFieldVariables','quotedMessage','METHODS','CHATS_UPSERT','groupDesc','storePath','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x5cd+','Logger','getLabelModelForOwner','deleteBlock','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','https://uazapi-plugin.bubbleapps.io/?url=','):\x20no\x20encontrou','/instance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','LOG_LEVEL','statusCode','https://jsonip.com','Erro\x20ao\x20normalizar\x20a\x20mensagem:','instancias:\x20','replaceOne','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','Chrome\x20(Linux)','Error\x20change\x20group\x20setting','height','request\x20received\x20in\x20createFlow','mentions','PRESENCE_UPDATE','Atualizao:\x20','groups.upsert','viewOnceMessageV2Extension','\x20ao\x20chat\x20','rows','fromMe','long','path','upperCase','reaction','quoted','authState','allFlows','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Entrou\x20na\x20funo\x20saveReply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','delayMessage','GROUPS_UPSERT','isBusiness','\x20no\x20encontrado','saveChatVariables','groupValidate','editChat','toBrazilianNumberFormat','max','KEY','chats.update','authorization','request\x20received\x20in\x20fetchConversation','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','QRCODE_UPDATED','):\x20No\x20achou\x20nenhum\x20flow','automateSystem','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Message','logout','lowerCase','findByIdAndUpdate','log','DaysToDelete','rm\x20-rf\x20','50mb','Audio\x20is\x20url','deleted','/instance/create','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Parando\x20aplicao...','Operador:\x20\x22','ReplyOptions\x20finais\x20aps\x20reordenao:','STORE_CLEANING_TERMINAL','contextInfo','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','client','group-participants.update','uazapi','\x0aFN:','^\x5cd+','):\x20Buscando\x20conversas...','sectionsToString','Router','instanceCount','Instance\x20logged\x20out','/message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','generateHash','Rtulo\x20invlido\x20ou\x20sem\x20ID.','verifiedName','#d8e651','instance','The\x20property\x20cannot\x20be\x20empty','documentMessage','type','Error\x20in\x20chatModify\x20for\x20number\x20','COLOR','menuMessage','Processing\x20audio','isBase64','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','replaceVariablesChat','notEqual','desc','warn','):\x20Enviando\x20localizao','profile','hbs','cleanStore','toArray','$addToSet','8mUQnGs','createNewConversation','apiResponse','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','presence.update','processPollUpdateMessage','notas','replacer','audioMessage','request\x20received\x20in\x20scheduleMessage','fetchInstances','start','ignoreGroups','writeFile','/instance/connect','createJid','desativadoFluxoAte','groupSetting','ChatModel','Message\x20not\x20found','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','temp-','flushHeaders','sendDataWebhook','editFlowBlock','selectedOptions','request\x20received\x20in\x20editConversation','DATABASE_ENABLED','statusMessage','size','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','removeProfilePicture','Erro\x20inesperado\x20em\x20processvaredits:\x20','flowConversation','messageHandle','webhookMap','delete','unlocked','):\x20Comando\x20desconhecido:\x20','EXPIRIN_IN','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Desconectado,\x20parando\x20execuo.','updateMediaMessage','ChatRouter','customFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','stanzaId','Converted\x20image\x20deleted','Telefone:\x20','phoneNumber','Last\x20message\x20not\x20found\x20for\x20number:','item','sendCommand','.pdf','ids','Varivel\x20no\x20encontrada!',',\x20Minutes\x20to\x20Close:\x20','CONNECTION_UPDATE','bearer','copy','\x20horas\x20e\x20','viewOnceMessageV2','processgoToFlow','/wa-message-update','):\x20this.processingScheduleMessageId:\x20','https://api.openai.com/v1/audio/speech','video','/instance/connectionState','fetchConversation','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','toggleEphemeral','@redis/client','replace','status@broadcast','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','findByIdAndDelete','whatsappNumber','url','_FlowHistorico','delayChatLabel','updateGParticipate','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','replaceVariablesInObject','onTime','findLabels','591264inyLrD','DELETED','insertCount',',\x20resultado:\x20','currency','webhookModel','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','removeInstance','localWebhook','body','AppStateSyncKeyData','fone','*Pergunta*:\x20\x0a','sendStatus','Fluxo\x20no\x20encontrado','ENABLED','firstValue','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','rowId','toString','URL','878542hLsSPJ','delayChatLabel_RETRY_DELAY_MS','labelId','parse','options','CORS','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Reinicializao\x20iniciada:\x20','.sendDataWebhook-global','status','updatePresence','audio/mp4','\x22\x20-\x20REMOVED','FlowController','announce','vote','waitingMenu_id','TEXT','saveVariable','#ffae04','https://chat.whatsapp.com/','getFlowModelForOwner','#ffc5c7','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','LICENSE_INVALID','public','Fetching\x20business\x20profile','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','/wa-presence','remote\x20\x22origin\x22','textMessage','leaveGroup','findGroupInfo','sendText','createflow','SINGLE_SELECT','):\x20Procurando\x20conversa','):\x20Editando\x20edio\x20do\x20fluxo...','validate','/events','mongoose','tags','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','\x20is\x20already\x20in\x20use.','DATABASE_CONNECTION_DB_PREFIX_NAME','Log\x20out\x20instance:\x20','insert','proto','getOwnPropertyNames','truncatedtoEnd','format','8080','metadata','chats.upsert','interval\x20no\x20\x20um\x20nmero','round','buffer','variablesToObject','group\x20ignored','.ogg','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','isRunning','updateGroupsAddPrivacy','Error\x20updating\x20setting','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','stateConnection','footerText','configService','getConversationModelForOwner','Db\x20Connection','):\x20leadInfoVariables','editFlowReply','label_jid','getConversation','bulkWrite','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','.xlsx','):\x20Bloco\x20original\x20para\x20cpia:\x20','user','end','groupadd','Erro\x20ao\x20deletar\x20chat:','.mp4','headerString','):\x20customFieldVariables','\x1b[31m%s\x1b[0m','Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','output','startFlow','DisconnectReason','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','FlowModel','contactsArrayMessage','values','replaceValue','):\x20Entrou\x20na\x20funo\x20goToFlow','.webp','available','groups','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','DATABASE_CONNECTION_HOST','write','activatedCount','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Query\x20params:','):\x20Bloco\x20com\x20ID\x20','utf-8','/group','put','some','getFlow','context','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Instance\x20\x22','\x20}\x0a','getMinutes','Connection\x20closed\x20for\x20instance:\x20','closeExistingConversations','msgRetryCounterCache','/exit','Enter\x20a\x20value\x20in\x20milliseconds','sendMessageWithTyping','last_update','messaging-history.set','groupLeave','revokeInviteCode','CLEANING_INTERVAL','GROUPS_UPDATE','findWebhook','ERROR','\x1b[36m','slice','#56ccb4','findAndReplace','code','chats.delete','\x1b[32m','getScheduleMessageModelForOwner','test','saveCreds','connectedClient','loadInstance','eventEmitter','notify','getScheduleMessage','Image\x20created','?authSource=admin&readPreference=primary&directConnection=true','.mp3','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','\x1b[32m%s\x1b[0m','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','apiName','createServer','fileUrl','\x5c$&','next_groupId','not\x20loaded',',\x20Expiration\x20Time:\x20','getContactModelForOwner','replaceVariablesLogs','convertedOptions','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','generate','request\x20received\x20in\x20getFlow','flowStopConversation','pairingCode','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','trim','updateChatWithMessage','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','condition','\x20-y','loadproxy','local_map','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','https://api.ipify.org?format=json','fetchProfilePicture','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Connection','menuType','waitingMenu_text','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','cleaningUp','recording','sign','message','Erro\x20ao\x20buscar\x20conversa:\x20','no-cache','readFile','request\x20received\x20in\x20starFlow','updateMissingEtiquetas','/create','mongodb://','none','CORS_ORIGIN','uuid','notContains','existsSync','subject','cwd','utf8','Erro\x20ao\x20adicionar\x20label\x20','API\x20Key\x20invlida.','uazapiSendAudio','sendMessage','The\x20\x22','hSet','messageId','success','isURL','Type\x20defined\x20as\x20audio','SEND_MESSAGE','Rtulo\x20deletado:','leadInfo.','https-proxy-agent','substring','#d3a91f','delAll','fetchProfile2','number','imported','contentText','):\x20conversation.status:\x20','formatBRNumber','key','replyOption','info','DATABASE_CONNECTION_USER','STORE','pollOnReplyDelete','SERVER_PORT','updateMissingLabels','Fluxos\x20no\x20esto\x20ativados','instance.','AUTHENTICATION','uazapiSendMedia','stopMinutes','http','findAndReplaceRegex','getLastMessage','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','editFlowVaredit','chatId','isJWT','child_process','createAndSave','resetReconnectionVariables','varedits','audio','Getting\x20image\x20from\x20url','request\x20received\x20in\x20editFlow','createWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','labels.association','groupId','assign','src','imageMessage','.uazapi.dev','RECONNECT_TIME_FRAME','normalizeMessage','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','Erro\x20ao\x20inserir\x20chats:','):\x20Conversas\x20encontradas:','getBusinessProfile','saveTextReply','locationMessage','inner','SSL_CONF_FULLCHAIN','equal','Font\x20is\x20required','env.yml','deleteFlow','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','privacySettings','VERBOSE','#92ceac','blockLogs','reconnectTimestamps','fetchPrivacySettings','pollUpdateMessage','Flow\x20already\x20exists','PRODUCT_LIST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20chats\x20de\x20','findGroupInfos','getChatModelForOwner','_p_','query','close','Error\x20in\x20markMessageAsRead:','groupAcceptInvite','Profile\x20not\x20found','waInstances','extractRegex','delaySecMin','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','downloadMediaMessage','\x20instance\x20does\x20not\x20exist','list','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','/wa-groups','pollCreationMessageV3','REDIS','Failed\x20to\x20find\x20chat\x20','ephemeralMessage','base64','notMatchRegex','GROUP_PARTICIPANTS_UPDATE','\x20saindo\x20da\x20funo','uazapiSendContact','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','setWebhook','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','archived','\x20mensagens\x20de\x20','stopMinutesMaxActives','fetchBusinessProfile','sendButtons','uazapiSendMenu','Chat\x20','Close\x20connection','uazapiDeleteMessage','Instance\x20restarted','startsWith','MESSAGES_UPDATE','ConversationModel','LEVEL','status.instance','data','audio/aac','expression','responsavelid','archive','fromObject','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','repository','getAllData','\x20no\x20encontrado\x20para\x20atualizao.','groupInviteCode','_id','findChats','hGet','subjectTime','media','\x1b[34m','remove','updateGParticipant','Module\x20-\x20ON','flowStopMinutes',',\x20qrcodeCount:\x20','PENDING','#000000','Unknown\x20message\x20type\x20or\x20empty\x20message','hGetAll','segundos','\x1b[1m\x1b[37m','\x1b[0m','Image\x20path:\x20','__esModule','pollMessageOnDelete','model','_Chats','AutomateSystem\x20no\x20foi\x20inicializado','scheduleSendMedia','joinGroup','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','view\x20engine','error_log','updateLastSeenPrivacy','has','editflowblock','StartBot','SECRET','):\x20Editando\x20varivel\x20do\x20fluxo...','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','addBlock','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20atualizao\x20chat:\x20','\x20attempts.','Label\x20','reorderBlocks','auth','authModel','chatLog','connection.update','qrcode','_Flows','https://uazapi-plugin.bubbleapps.io/','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','connectionUpdate','hDel','sort','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','JWT','groupUpdateDescription','presenceSubscribe','updateProfileName','get','changeVariables','class-validator','Image\x20is\x20url','Data\x20invlida\x20fornecida','/wa-contacts','goToFlow','PROXY','\x20minutos\x20verificar\x20novas\x20mensagens','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','maxActives','\x20inseridos\x20no\x20banco\x20de\x20dados...','sendReaction','blockId','/webhook','\x20-i\x20','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','lastInteraction','updateBlock','\x20no\x20encontrado\x20para\x20cpia','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','downloads','isConnected','pre','editFlowCondition','toNumber','):\x20Conversa\x20atualizada\x20em\x20memria','contacts.update','participant','Primeiro\x20Valor:\x20','menuExpiredMessage','_activatedCount','qrCode','formatVCard','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','editScheduleMessage','stoppedUntil','updateFlowConfig','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Configurao\x20do\x20Proxy\x20invlida.\x20Tentando\x20o\x20prximo...','Audio\x20converted\x20to\x20mp4','getTicketSystem','\x1b[33m%s\x1b[0m','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','evaluateCondition','sendMedia','EMAIL:','width','scheduleSendAudio','OrAnd','):\x20Limpando\x20AutomateSystem',',\x20Comparador:\x20','*\x0a\x0a','promote','.jwt','Error\x20removing\x20profile\x20picture','agents','listMessage','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','nome','Erro\x20ao\x20atualizar\x20o\x20flow.','eventemitter2','Incio','Falta\x20informao\x20para\x20a\x20chamada\x20API','Nenhum\x20chat\x20fornecido\x20para\x20insero.','STORE_CHATS','):\x20teve\x20mudanas\x20chat.displayName:\x20','stopIfLastReturnedError','entries','readdirSync','@whiskeysockets/baileys','testProxy','https://','577214DsNCOd','Error\x20in\x20scheduleNextCheck:\x20','Esse\x20fluxo\x20expirou','editFlow','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','markMessageAsRead','):\x20Enviando\x20texto','out','conversation','Unable\x20to\x20leave\x20the\x20group','loggedOut','restart','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','unknown\x20operation\x20type\x20[','Read\x20messages\x20fail','numbers','action','chat','editConversation','request\x20received\x20in\x20getConversation','send','groupName','https://api.elevenlabs.io/v1/text-to-speech/','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','color','CONNECTION','editFlowVariable','importChats','and','paused','updateProfilePicturePrivacy','Not\x20Found','formatStatusMessage','\x22\x20cannot\x20be\x20empty','updateReadReceiptsPrivacy','object','password','done','getTime','):\x20Iniciando\x20bot...','writeData','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','ORG:','hex','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','editflow','axios','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','post','open','\x22\x20-\x20NOT\x20CONNECTION','config','cache','\x20segundos','sendSticker','stopWhenYouSendMsg','dataValidate','stopped','chats','inviteCode','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','USER','views','PASSWORD','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','conditions','processblock','lastSendMessage','groupToggleEphemeral','dropCollection','Type\x20not\x20found','hostname',',\x20saindo.','sendLocation','restartInstance','The\x20global\x20api\x20key\x20must\x20be\x20set','app-state-sync-key','map','joinGroupValidate','-whatsapp-api','getStatus','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','authentication','initAuthCreds','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','refused','flow','Not\x20is\x20business\x20profile','headers','waUploadToServer','defineProperty','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','backgroundColor','timerId','webhook','varedit','):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','.ogv','request\x20received\x20in\x20editFlowvariable','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','locked','getMessage','INFO','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','stickerMessage','ObjectId','finish','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','PORT','updateGroupPicture','SERVER_ACK','deleteChat','onWhatsApp','image','removeChatLabel','flattenObject','leadInfo.etiquetas','request\x20received\x20in\x20deleteFlow','findGroups','jid','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Error\x20writing\x20file:\x20','order','groupHandler','Chat\x20com\x20ID\x20','Button\x20texts\x20cannot\x20be\x20repeated','Error\x20updating\x20profile\x20picture','add','DOCKER_ENV','updateCustomFields','instanceName','updateMissingCustomFields','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','state','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','latitude','SUCCESS','syscall','everyOne','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','contact','):\x20Edit\x20schedule\x20message...','express','protocolMessage','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','sections','processConditions','updateMessage','from','Certbot\x20executado\x20com\x20sucesso.','creds.update','empty','Certbot:\x20','Unauthorized','updateReplyOption','match','):\x20newSecondValue\x20aps\x20replaceVariables:','processUazapi','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Flow\x20desativado','):\x20Criou\x20conversa\x20no\x20startFlow:','flowConfig','):\x20','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','deleteMany','):\x20Going\x20to\x20','lastMessage','express-async-errors','message_normalized','):(','updateOne','The\x20','AutomateSystem','buttonId','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','fullName','statusJidList','dbSettings','evaluateConditionTest','error','#fed428','request\x20received\x20in\x20updateFlowConfig','document','displayName','delaySecMax','SSL_CONF','delayChatLabel_MAX_RETRIES','where','reference','REDIS_ENABLED','getMIMEType','data:\x20','composing','\x20do\x20chat\x20','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','reactionMessage','find','\x20Tentativa\x20de\x20reconexo\x20','forEach','folder','\x1b[36m%s\x1b[0m','No\x20invite\x20code','viewOnceMessage','text','bodyString','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','Rtulo\x20atualizado:','choices','request\x20received\x20in\x20deleteDoneMessages','not_announcement','$set','last','env','envYaml','Error\x20fetching\x20and\x20updating\x20profile:\x20','Error\x20change\x20group\x20name','push','optionDescription','Temp\x20audio\x20deleted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','stopConversation','MESSAGES_UPSERT','#b4ebff','):\x20alterando\x20this.AutomateSystem','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','DD/MM\x20HH:mm:ss','URI','connecting','fetchMessages','updateMany','Error\x20updating\x20profile\x20name','groupMetadata','<subdomain>','Resposta\x20do\x20Teste\x20do\x20Proxy:','):\x20updateResult:','deleteDoneMessages','del','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','messageTimestamp','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','remoteJidsRemaining','\x1b[33m\x1b[1m','\x1b[31m','conversationTimestamp','contactHandle','readMessageBot','15327711CJFwmP','Proxy\x20funcionando!','):\x20Campos\x20a\x20serem\x20atualizados:','Erro\x20ao\x20atualizar\x20o\x20fluxo:','remoteJids','LOG_COLOR','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','findOrCreate','\x20not\x20found,\x20retrying\x20in\x20','now','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','title','allContacts','createGroup','#ff9484','RemoveChatLabel','stack','checkAndUpdateChatStatus','pushName','TYPE','keep-alive','isLong','sending','Bad\x20Request','lastBlockId','lastReceivedMessage','replyOptions','buttonMessage','endsWith','contacts.upsert','\x0a{\x20instance:\x20','replaceVariablesInReplyOptions','DARK','https://api.openai.com/v1/images/generations','option','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','host','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20conversation.lastInteraction:\x20','upsertChats','deleteReplyOption','Output\x20audio\x20path:\x20','imagechat','errno','bateu\x20events','/clients-info','shutdown\x20-r\x20now','buttonText','collection','fetchProfilePictureUrl','routerPath','isArray','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','application/octet-stream','documentWithCaptionMessage','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','contact_blacklist','gifPlayback','stderr','getClient','trimmed','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','createConversationforgoToFlow','requestPairingCode','useMultiFileAuthState','unreadcount','menuIgnoreNonVotes','Erro\x20de\x20reinicializao:\x20','findContacts','node-cache','variablesNotFound','getBase64FromMediaMessage','processvaredits','generateWAMessageFromContent','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','all','):\x20nextBlock.uazapi.name','mediaKey','webhookService','emit','ReplyOption\x20com\x20ID\x20','MessageModel','request\x20received\x20in\x20editFlowcondition','groupJid','waitingMenu_replyOptions','redisEnv','setRestartTimer','setNewValue','cors','--standalone','):\x20Error\x20processing\x20the\x20block:\x20','moreLogs','Error\x20occurred\x20while\x20archiving\x20chat:\x20','fetchLabels','Instncias\x20atualizadas\x20como\x20desconectadas:\x20','89265UsAkQE','Notifying\x20clients\x20for\x20chat:\x20','unreadCount','STATUS_INSTANCE','waitingForReplyMenu','connectToWhatsappController','):\x20Editando\x20condio\x20do\x20fluxo...','CORS_CREDENTIALS','.docx','HttpsProxyAgent','messages.update','loadEnv','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','messages.set','WARN','address','chatHandle','messageContextInfo','flowIgnoreGroups','findMessages','uazapiSendText','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','reorderReplyOptions','abs','dbInstance','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','toFile','includes','CHATS_DELETE','Comando\x20desconhecido','stdout','Audio\x20is\x20base64','\x1b[1m','request\x20body:\x20','goNextblock','BRL','updateAll','getRandomText','setHeader','):\x20teve\x20mudanas\x20chat.archived:\x20','):\x20Current\x20Time:\x20','waitingMenu_ExpiredMessage','labels.edit','CONTACTS_SET','CONTACTS_UPSERT','closed','subdomain','STORE_CONTACTS','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','throwAndLogError','toLowerCase','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','/instance/delete','profilePictureUrl','ip:\x20','readMessage','\x22\x20not\x20found','deleteConversation','importChatsBatch','spawn','website','valid','minutesToClose','redirect','static','senderKeyDistributionMessage','):\x20Conversa\x20est\x20expirada\x20-\x20voto','Internal\x20Server\x20Error','.webm','waMonitor','Flow\x20no\x20encontrado','):\x20Conversa\x20inserida\x20com\x20sucesso.','.jpg','drop','):\x20Dados\x20migrados\x20com\x20sucesso','/media/','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','\x20de\x20conectar\x20com\x20proxy.','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','exports','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','mkdirSync','variable','messages.upsert','readMessages','detail','exists','Instncia:\x20','application/json','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','pollCreationMessageV2','HeaderType','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','Resultado\x20da\x20atualizao:','\x1b[37m%s\x1b[0m','organization','console','isJidGroup','apikey','Erro\x20ao\x20remover\x20instncias\x20antigas:','/media','wuid','longitude','text/event-stream','getProfileName','findIndex','owner','findAll','.X-ABLabel:Celular\x0a','Conexo\x20estabelecida','CONFIGURAO\x20GERAL:','SERVER','Erro\x20ao\x20importar\x20chats:','fetchLatestBaileysVersion','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','\x20-\x20ON:\x20','END:VCARD','blocks','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','atendimentoAberto','\x1b[30m%s\x1b[0m','Revoke\x20error'];a0_0x4ef4=function(){return _0x1156a7;};return a0_0x4ef4();}function jr(_0xea316f){const _0x4b5d52=a0_0x4c7c55;let _0x178cbb=_0xea316f['get'](_0x4b5d52(0x65a))[_0x4b5d52(0x2b5)],_0x1288d1=_0xea316f[_0x4b5d52(0x448)](_0x4b5d52(0x54c)),_0x74dea7;if(_0x178cbb){let _0x241062=_0x178cbb[_0x4b5d52(0x52e)](/\/\/(.*?)\./);_0x241062&&_0x241062[0x1]&&(_0x74dea7=_0x241062[0x1]);}if(!_0x74dea7&&_0x1288d1&&_0x1288d1['FULLCHAIN']){let _0x51d36a=_0x1288d1['FULLCHAIN'][_0x4b5d52(0x81e)]('/'),_0x29b79d=_0x51d36a[_0x51d36a['length']-0x2];if(_0x29b79d){let _0x73fccb=_0x29b79d[_0x4b5d52(0x81e)]('.');_0x73fccb[_0x4b5d52(0x676)]>0x2&&(_0x74dea7=_0x73fccb[0x0]);}}return _0x74dea7;}var vs=jr(b);async function Fr(){const _0x4afd20=a0_0x4c7c55;let _0x1e9484=b[_0x4afd20(0x448)](_0x4afd20(0x3e8)),_0x361447=b[_0x4afd20(0x448)](_0x4afd20(0x3a3))['API_KEY'][_0x4afd20(0x20c)],_0x29dc66=b['get'](_0x4afd20(0x54c)),_0x5cc5ad=await xo(),_0x5276a8=b['get'](_0x4afd20(0x65a))[_0x4afd20(0x4ff)],_0x1d0b1a=b[_0x4afd20(0x448)](_0x4afd20(0x65a))['URL'];try{let _0x541517={'ip':_0x5cc5ad||null,'redis_enable':_0x1e9484?.[_0x4afd20(0x2b0)]||null,'apikey':_0x361447||null,'ssl':_0x29dc66?.[_0x4afd20(0x794)]||null,'lastupdate':Do||null,'port':_0x5276a8||null,'gitInstallError':Te?.['message']||null,'url':_0x1d0b1a||null};if(console[_0x4afd20(0x219)](_0x4afd20(0x621),_0x541517['ip']),_0x1e9484&&_0x1e9484[_0x4afd20(0x2b0)]){let _0x58a9bc=await Lr();_0x541517[_0x4afd20(0x22f)]=_0x58a9bc||null;}for(let _0x5f2230 in _0x541517)_0x541517['hasOwnProperty'](_0x5f2230)&&_0x5f2230!=='ip'&&(_0x541517[_0x5f2230]=JSON[_0x4afd20(0x6c4)](_0x541517[_0x5f2230]));return(await Re[_0x4afd20(0x697)][_0x4afd20(0x4c2)](_0x4afd20(0x4ba),_0x541517))[_0x4afd20(0x402)];}catch(_0x55ed67){return console[_0x4afd20(0x546)](_0x55ed67),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x578afe=a0_0x4c7c55;if(!await xo())return console[_0x578afe(0x546)](_0x578afe(0x83a)),_0x578afe(0x81b);let _0x3d35a2=await Fr();if(_0x3d35a2){if(_0x3d35a2[_0x578afe(0x728)]['licenca']===!0x0){b[_0x578afe(0x448)]('SSL_CONF')['PRIVKEY']['includes'](_0x578afe(0x57c))&&_0x3d35a2[_0x578afe(0x728)][_0x578afe(0x619)]&&(await Vr(_0x3d35a2[_0x578afe(0x728)][_0x578afe(0x619)],Jr),await Br('augusto.fcs@gmail.com',_0x3d35a2[_0x578afe(0x728)][_0x578afe(0x619)]),console['log'](_0x578afe(0x473)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x3d35a2[_0x578afe(0x728)][_0x578afe(0x333)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x1d2132=0x24*0x3c*0x3c,_0x11230d=_0x3d35a2['response'][_0x578afe(0x41c)]>_0x1d2132?_0x1d2132:_0x3d35a2['response'][_0x578afe(0x41c)],_0x4aa30b=Number(_0x11230d);if(isNaN(_0x4aa30b)){console[_0x578afe(0x546)](_0x578afe(0x2ed));return;}let _0x4e9f1a=Math[_0x578afe(0x704)](_0x4aa30b/0xe10),_0x5d25cc=Math[_0x578afe(0x704)](_0x4aa30b%0xe10/0x3c),_0x5ddc25=new Date(Date['now']()+_0x4aa30b*0x3e8);setTimeout(Is,_0x4aa30b*0x3e8);let _0x21fe54=_0x3a4549=>_0x3a4549[_0x578afe(0x2b4)]()[_0x578afe(0x748)](0x2,'0'),_0x5a3270='Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20'+_0x21fe54(_0x4e9f1a)+_0x578afe(0x288)+_0x21fe54(_0x5d25cc)+_0x578afe(0x6e3)+_0x21fe54(_0x5ddc25[_0x578afe(0x6ff)]())+':'+_0x21fe54(_0x5ddc25[_0x578afe(0x32c)]())+'.';console[_0x578afe(0x219)](_0x5a3270);}else return console[_0x578afe(0x219)](_0x578afe(0x639)),As&&(console[_0x578afe(0x219)](_0x578afe(0x590)),process[_0x578afe(0x75b)]()),_0x578afe(0x2ce);}else{if(No++,No<qr)console['log']('Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ro/0xea60+'\x20minutos...'),setTimeout(Is,Ro);else return console[_0x578afe(0x546)](_0x578afe(0x637)),_0x578afe(0x68c);}}async function Ur(){const _0x438741=a0_0x4c7c55;console['log']('Parando\x20aplicao,\x20atualizao\x20recebida');let _0x1ee8b5=(0x0,Oe[_0x438741(0x626)])(_0x438741(0x4bb),{'shell':!0x0});_0x1ee8b5[_0x438741(0x609)]['on'](_0x438741(0x402),_0x4671b3=>{const _0x5b6e44=_0x438741;console['log'](_0x5b6e44(0x1f3)+_0x4671b3);}),_0x1ee8b5['stderr']['on'](_0x438741(0x402),_0x334d31=>{const _0x196d98=_0x438741;console[_0x196d98(0x546)]('Erro\x20de\x20atualizao:\x20'+_0x334d31);}),_0x1ee8b5['on'](_0x438741(0x75b),_0x112979=>{const _0x2ad331=_0x438741;_0x112979!==0x0?console[_0x2ad331(0x546)](_0x2ad331(0x519)+_0x112979):console[_0x2ad331(0x219)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x2ad331(0x219)](_0x2ad331(0x221)),setTimeout(()=>process['exit'](),0x2710);});}var Jr=Ae[a0_0x4c7c55(0x697)][a0_0x4c7c55(0x1c0)](__dirname,a0_0x4c7c55(0x3c8));async function Vr(_0x4b9032,_0x2ad727){const _0x33343a=a0_0x4c7c55;let _0x2b6239=Gr();_0x4b9032=_0x4b9032[_0x33343a(0x294)](_0x33343a(0x3bb),'');try{let _0x4384ea=de[_0x33343a(0x697)][_0x33343a(0x7d3)](_0x2ad727,_0x33343a(0x381));_0x4384ea=_0x4384ea['replace'](/<apikey>/,_0x2b6239),_0x4384ea=_0x4384ea[_0x33343a(0x294)](/<subdomain>/g,_0x4b9032),de[_0x33343a(0x697)][_0x33343a(0x73e)](_0x2ad727,_0x4384ea,_0x33343a(0x381)),console[_0x33343a(0x219)](_0x33343a(0x4f6));}catch(_0x50b107){console[_0x33343a(0x546)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x50b107);}}function Br(_0x3b35e6,_0x500bbe){return new Promise((_0x451f2e,_0x153675)=>{const _0x35ebfb=a0_0x31df;let _0x528e4f=(0x0,Oe[_0x35ebfb(0x626)])('certbot',[_0x35ebfb(0x1be),_0x35ebfb(0x5e4),'-m',_0x3b35e6,_0x35ebfb(0x6d7),'-d',_0x500bbe]);_0x528e4f[_0x35ebfb(0x609)]['on'](_0x35ebfb(0x402),_0x4925a9=>{const _0x4c77e8=_0x35ebfb;console[_0x4c77e8(0x219)](_0x4c77e8(0x52b)+_0x4925a9[_0x4c77e8(0x2b4)]());}),_0x528e4f['stderr']['on'](_0x35ebfb(0x402),_0x5a0f6f=>{const _0x3e729f=_0x35ebfb;console[_0x3e729f(0x546)]('Erro\x20do\x20Certbot:\x20'+_0x5a0f6f[_0x3e729f(0x2b4)]());}),_0x528e4f['on'](_0x35ebfb(0x3da),_0x5701aa=>{const _0xfee8a1=_0x35ebfb;_0x5701aa!==0x0?(console['error'](_0xfee8a1(0x541)+_0x5701aa),_0x153675(_0xfee8a1(0x541)+_0x5701aa)):(console[_0xfee8a1(0x219)](_0xfee8a1(0x528)),_0x451f2e());});});}function Gr(_0x5c3d1d=0x32){const _0x57a274=a0_0x4c7c55;let _0x5f2129='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x27b5d1='';for(let _0x58c31b=0x0;_0x58c31b<_0x5c3d1d;_0x58c31b++)_0x27b5d1+=_0x5f2129['charAt'](Math[_0x57a274(0x704)](Math['random']()*_0x5f2129['length']));return _0x27b5d1;}function Wr(){const _0x1193ad=a0_0x4c7c55;(0x0,Oe[_0x1193ad(0x78b)])(_0x1193ad(0x5b9),(_0x24bb16,_0xc6235b,_0x50cc68)=>{const _0x5d2aae=_0x1193ad;if(_0x24bb16){console[_0x5d2aae(0x546)](_0x5d2aae(0x7fe)+_0x24bb16);return;}if(_0x50cc68){console['error'](_0x5d2aae(0x5ce)+_0x50cc68);return;}console[_0x5d2aae(0x219)](_0x5d2aae(0x2bd)+_0xc6235b);});}0x0&&(module[a0_0x4c7c55(0x63a)]={'subdomain':subdomain});