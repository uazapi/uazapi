const a0_0x3d18fe=a0_0x4a95;(function(_0x2b1c9a,_0x38d8ed){const _0x53b574=a0_0x4a95,_0x2be315=_0x2b1c9a();while(!![]){try{const _0x1538cf=parseInt(_0x53b574(0x72f))/0x1*(-parseInt(_0x53b574(0x3f8))/0x2)+parseInt(_0x53b574(0x572))/0x3*(parseInt(_0x53b574(0x26e))/0x4)+parseInt(_0x53b574(0x559))/0x5*(-parseInt(_0x53b574(0x8a9))/0x6)+parseInt(_0x53b574(0x16f))/0x7+-parseInt(_0x53b574(0x863))/0x8+-parseInt(_0x53b574(0x7a2))/0x9*(-parseInt(_0x53b574(0x621))/0xa)+parseInt(_0x53b574(0x721))/0xb;if(_0x1538cf===_0x38d8ed)break;else _0x2be315['push'](_0x2be315['shift']());}catch(_0x30d85f){_0x2be315['push'](_0x2be315['shift']());}}}(a0_0x4502,0x1f2ca));var Bi=Object[a0_0x3d18fe(0x1e7)],qe=Object['defineProperty'],Wi=Object[a0_0x3d18fe(0x4d4)],zi=Object['getOwnPropertyNames'],Hi=Object['getPrototypeOf'],Ki=Object[a0_0x3d18fe(0x410)][a0_0x3d18fe(0x5ec)],Qi=(_0x3a132f,_0x287d65)=>{for(var _0x1c2787 in _0x287d65)qe(_0x3a132f,_0x1c2787,{'get':_0x287d65[_0x1c2787],'enumerable':!0x0});},Bs=(_0x3d6589,_0xcef92a,_0x4acdbd,_0x4bbc3f)=>{const _0x21bfac=a0_0x3d18fe;if(_0xcef92a&&typeof _0xcef92a==_0x21bfac(0x85e)||typeof _0xcef92a=='function'){for(let _0x969dc0 of zi(_0xcef92a))!Ki[_0x21bfac(0x2a5)](_0x3d6589,_0x969dc0)&&_0x969dc0!==_0x4acdbd&&qe(_0x3d6589,_0x969dc0,{'get':()=>_0xcef92a[_0x969dc0],'enumerable':!(_0x4bbc3f=Wi(_0xcef92a,_0x969dc0))||_0x4bbc3f[_0x21bfac(0x166)]});}return _0x3d6589;},T=(_0x42dcee,_0x5cb11f,_0x6125c9)=>(_0x6125c9=_0x42dcee!=null?Bi(Hi(_0x42dcee)):{},Bs(_0x5cb11f||!_0x42dcee||!_0x42dcee[a0_0x3d18fe(0x288)]?qe(_0x6125c9,a0_0x3d18fe(0x62f),{'value':_0x42dcee,'enumerable':!0x0}):_0x6125c9,_0x42dcee)),Yi=_0x3054de=>Bs(qe({},'__esModule',{'value':!0x0}),_0x3054de),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x3d18fe(0x4e0)]=Yi(hr);var Ui=T(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x3d18fe(0x5e3)),Ve=require('path'),le=process[a0_0x3d18fe(0x216)](),Se=(0x0,Ve[a0_0x3d18fe(0x6eb)])(le,'instances'),Ws=(0x0,Ve[a0_0x3d18fe(0x6eb)])(le,a0_0x3d18fe(0x399)),gn=(0x0,Ve[a0_0x3d18fe(0x6eb)])(le,a0_0x3d18fe(0x33f),a0_0x3d18fe(0x6ad)),us=class{constructor(){this['loadEnv']();}[a0_0x3d18fe(0x5d8)](_0x473f37){const _0x46b80a=a0_0x3d18fe;return this[_0x46b80a(0x277)][_0x473f37];}[a0_0x3d18fe(0x381)](){const _0x3ce6d2=a0_0x3d18fe;this['env']=process['env']?.[_0x3ce6d2(0x2b0)]!=='true'?this['envYaml']():this[_0x3ce6d2(0x395)](),process[_0x3ce6d2(0x277)]?.[_0x3ce6d2(0x2b0)]==='true'&&(this['env']['SERVER'][_0x3ce6d2(0x69c)]=_0x3ce6d2(0x1b9),this[_0x3ce6d2(0x277)][_0x3ce6d2(0x2d0)][_0x3ce6d2(0x2a1)]=Number['parseInt'](process[_0x3ce6d2(0x277)]?.[_0x3ce6d2(0x31b)]??_0x3ce6d2(0x242)));}[a0_0x3d18fe(0x526)](){const _0x596c3d=a0_0x3d18fe;return(0x0,Hs[_0x596c3d(0x3cb)])((0x0,zs['readFileSync'])((0x0,Ks[_0x596c3d(0x6eb)])(Ws,'../env.yml'),{'encoding':_0x596c3d(0x6e2)}));}['envProcess'](){const _0x3b9cf4=a0_0x3d18fe;return{'SERVER':{'TYPE':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x1dc)],'PORT':Number[_0x3b9cf4(0x279)](process[_0x3b9cf4(0x277)][_0x3b9cf4(0x31b)]),'URL':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x304)]},'CORS':{'ORIGIN':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x175)][_0x3b9cf4(0x74f)](','),'METHODS':process['env'][_0x3b9cf4(0x409)]['split'](','),'CREDENTIALS':process[_0x3b9cf4(0x277)]?.['CORS_CREDENTIALS']===_0x3b9cf4(0x2ab)},'SSL_CONF':{'PRIVKEY':process[_0x3b9cf4(0x277)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x6b6)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3b9cf4(0x4d5)](process['env']?.[_0x3b9cf4(0x72c)])?Number[_0x3b9cf4(0x279)](process[_0x3b9cf4(0x277)][_0x3b9cf4(0x72c)]):void 0x0,'MESSAGES':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x396)]==='true','CONTACTS':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x830)]==='true','CHATS':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x271)]===_0x3b9cf4(0x2ab)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x387)],'PORT':Number[_0x3b9cf4(0x279)](process['env']?.[_0x3b9cf4(0x387)]),'USER':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x6fb)],'PASSWORD':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x715)],'URI':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x2ef)],'DB_PREFIX_NAME':process['env'][_0x3b9cf4(0x4f0)]},'ENABLED':process['env']?.[_0x3b9cf4(0x58e)]===_0x3b9cf4(0x2ab)},'REDIS':{'ENABLED':process['env']?.[_0x3b9cf4(0x56c)]==='true','URI':process['env'][_0x3b9cf4(0x4f3)]||_0x3b9cf4(0x5f9),'PREFIX_KEY':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x633)]||_0x3b9cf4(0x808)},'LOG':{'LEVEL':process[_0x3b9cf4(0x277)]?.['LOG_LEVEL'][_0x3b9cf4(0x74f)](','),'COLOR':process[_0x3b9cf4(0x277)]?.['LOG_COLOR']===_0x3b9cf4(0x2ab)},'PROXY':process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x1a8)]===_0x3b9cf4(0x2ab),'AUTHENTICATION':{'TYPE':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x547)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x3b9cf4(0x4d5)](process[_0x3b9cf4(0x277)]?.[_0x3b9cf4(0x17b)])?Number[_0x3b9cf4(0x279)](process['env'][_0x3b9cf4(0x17b)]):0xe10,'SECRET':process[_0x3b9cf4(0x277)][_0x3b9cf4(0x542)]}}};}},S=new us(),ji=T(require(a0_0x3d18fe(0x5c5))),ye=T(require(a0_0x3d18fe(0x202))),qs=require(a0_0x3d18fe(0x5e3)),ds=T(require('dayjs')),ps=(_0x4ff502=>(_0x4ff502[a0_0x3d18fe(0x280)]=a0_0x3d18fe(0x45e),_0x4ff502[a0_0x3d18fe(0x458)]=a0_0x3d18fe(0x59d),_0x4ff502[a0_0x3d18fe(0x38f)]=a0_0x3d18fe(0x252),_0x4ff502['ERROR']=a0_0x3d18fe(0x570),_0x4ff502[a0_0x3d18fe(0x835)]=a0_0x3d18fe(0x7b7),_0x4ff502[a0_0x3d18fe(0x3b4)]=a0_0x3d18fe(0x394),_0x4ff502['DARK']=a0_0x3d18fe(0x142),_0x4ff502))(ps||{}),Qs=(_0x188b7f=>(_0x188b7f[a0_0x3d18fe(0x280)]=a0_0x3d18fe(0x1fd),_0x188b7f[a0_0x3d18fe(0x60b)]=a0_0x3d18fe(0x42a),_0x188b7f['INFO']=a0_0x3d18fe(0x70a),_0x188b7f[a0_0x3d18fe(0x38f)]='\x1b[33m%s\x1b[0m',_0x188b7f['ERROR']='\x1b[31m%s\x1b[0m',_0x188b7f[a0_0x3d18fe(0x835)]=a0_0x3d18fe(0x3af),_0x188b7f['VERBOSE']='\x1b[37m%s\x1b[0m',_0x188b7f))(Qs||{}),Ys=(_0x46259f=>(_0x46259f['LOG']=a0_0x3d18fe(0x280),_0x46259f[a0_0x3d18fe(0x38f)]='WARN',_0x46259f['INFO']=a0_0x3d18fe(0x458),_0x46259f[a0_0x3d18fe(0x60b)]='DARK',_0x46259f[a0_0x3d18fe(0x370)]='ERROR',_0x46259f['DEBUG']=a0_0x3d18fe(0x835),_0x46259f[a0_0x3d18fe(0x3b4)]=a0_0x3d18fe(0x3b4),_0x46259f))(Ys||{}),Xs=(_0x46473c=>(_0x46473c['LOG']='\x1b[42m',_0x46473c['INFO']='\x1b[44m',_0x46473c[a0_0x3d18fe(0x38f)]='\x1b[43m',_0x46473c[a0_0x3d18fe(0x60b)]=a0_0x3d18fe(0x45f),_0x46473c['ERROR']=a0_0x3d18fe(0x806),_0x46473c[a0_0x3d18fe(0x835)]=a0_0x3d18fe(0x682),_0x46473c[a0_0x3d18fe(0x3b4)]='\x1b[47m',_0x46473c))(Xs||{}),$=class{constructor(_0x29f7e5='Logger'){const _0x4f64ed=a0_0x3d18fe;this['context']=_0x29f7e5,this[_0x4f64ed(0x599)]=S;}[a0_0x3d18fe(0x1bc)](_0x4d4522){const _0x2bc5bf=a0_0x3d18fe;this[_0x2bc5bf(0x2e3)]=_0x4d4522;}['console'](_0x348689,_0x24e0c1){const _0x3d4325=a0_0x3d18fe;let _0x5241a0=[];this[_0x3d4325(0x599)][_0x3d4325(0x5d8)]('LOG')[_0x3d4325(0x891)][_0x3d4325(0x358)](_0x1d433d=>_0x5241a0[_0x3d4325(0x1a4)](Ys[_0x1d433d]));let _0x550df0=typeof _0x348689;_0x5241a0['includes'](_0x24e0c1)&&(S['get'](_0x3d4325(0x280))['COLOR']?(console['log'](_0x3d4325(0x364)+Qs[_0x24e0c1],_0x3d4325(0x752),(0x0,ds[_0x3d4325(0x62f)])()[_0x3d4325(0x52b)]('DD/MM\x20HH:mm:ss'),_0x3d4325(0x26f),ps[_0x24e0c1]+Xs[_0x24e0c1]+_0x3d4325(0x364),_0x24e0c1+_0x3d4325(0x6ce),_0x3d4325(0x828),this['context']+_0x3d4325(0x26f),ps[_0x24e0c1],_0x550df0!=='object'?_0x348689:'','\x1b[0m'),_0x550df0===_0x3d4325(0x85e)&&console[_0x3d4325(0x4e7)](_0x348689,'\x0a')):console['log']((0x0,ds[_0x3d4325(0x62f)])()[_0x3d4325(0x52b)](_0x3d4325(0x287)),_0x24e0c1+'\x20',''+this['context'],_0x348689));}[a0_0x3d18fe(0x4e7)](_0x4daada){const _0x3be9c5=a0_0x3d18fe;this[_0x3be9c5(0x342)](_0x4daada,_0x3be9c5(0x280));}[a0_0x3d18fe(0x4f2)](_0x3f750c){const _0x2e62b4=a0_0x3d18fe;this[_0x2e62b4(0x342)](_0x3f750c,_0x2e62b4(0x458));}[a0_0x3d18fe(0x6f8)](_0x3a7cf8){const _0x52fad7=a0_0x3d18fe;this[_0x52fad7(0x342)](_0x3a7cf8,_0x52fad7(0x38f));}[a0_0x3d18fe(0x4e8)](_0x207bb4){const _0x3168c2=a0_0x3d18fe;this[_0x3168c2(0x342)](_0x207bb4,_0x3168c2(0x370));}[a0_0x3d18fe(0x75e)](_0x140859){const _0x1a3638=a0_0x3d18fe;this['console'](_0x140859,_0x1a3638(0x3b4));}[a0_0x3d18fe(0x664)](_0x257da1){const _0x15be95=a0_0x3d18fe;this[_0x15be95(0x342)](_0x257da1,_0x15be95(0x835));}[a0_0x3d18fe(0x317)](_0x4a4b13){const _0x13e312=a0_0x3d18fe;this[_0x13e312(0x342)](_0x4a4b13,'DARK');}};function Zs(){const _0x1ee868=a0_0x3d18fe;process['on'](_0x1ee868(0x5fa),(_0x64e2c6,_0x536157)=>{const _0x5a6efe=_0x1ee868;new $(_0x5a6efe(0x5fa))[_0x5a6efe(0x4e8)]({'origin':_0x536157,'stderr':process[_0x5a6efe(0x675)]['fd'],'error':_0x64e2c6});}),process['on']('unhandledRejection',(_0x4bb3b,_0x171ebc)=>{const _0x225f73=_0x1ee868;new $(_0x225f73(0x1d0))['error']({'origin':_0x171ebc,'stderr':process[_0x225f73(0x675)]['fd'],'error':_0x4bb3b});});}var ea=T(require(a0_0x3d18fe(0x48b))),hs=new ea[(a0_0x3d18fe(0x62f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x3d18fe(0x63f)),Ae=T(require(a0_0x3d18fe(0x63f))),Ge=new $(a0_0x3d18fe(0x1a1)),L=S[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x5f5)),I=L[a0_0x3d18fe(0x724)]?L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x58c)]?Ae[a0_0x3d18fe(0x62f)][a0_0x3d18fe(0x674)](L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x58c)],{'dbName':L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x686)]+a0_0x3d18fe(0x47d)}):Ae[a0_0x3d18fe(0x62f)][a0_0x3d18fe(0x674)]('mongodb://'+L['CONNECTION'][a0_0x3d18fe(0x4ae)]+':'+L[a0_0x3d18fe(0x306)]['PORT']+a0_0x3d18fe(0x635),{'user':L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x59b)],'pass':L[a0_0x3d18fe(0x306)]['PASSWORD'],'dbName':L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x686)]+'-whatsapp-api'}):null;L[a0_0x3d18fe(0x724)]&&Ge['info']('ON\x20-\x20dbName:\x20'+I[a0_0x3d18fe(0x31f)]);var X=L[a0_0x3d18fe(0x724)]?L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x58c)]?Ae['default'][a0_0x3d18fe(0x674)](L[a0_0x3d18fe(0x306)]['URI'],{'dbName':a0_0x3d18fe(0x3f0)}):Ae[a0_0x3d18fe(0x62f)][a0_0x3d18fe(0x674)](a0_0x3d18fe(0x31a)+L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x4ae)]+':'+L['CONNECTION'][a0_0x3d18fe(0x2a1)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x3d18fe(0x59b)],'pass':L[a0_0x3d18fe(0x306)][a0_0x3d18fe(0x647)],'dbName':a0_0x3d18fe(0x735)}):null;X&&Ge['info'](a0_0x3d18fe(0x5e1)+X[a0_0x3d18fe(0x31f)]),process['on'](a0_0x3d18fe(0x66b),()=>{const _0x39b1c0=a0_0x3d18fe;I&&I[_0x39b1c0(0x349)](()=>{const _0x55fc0c=_0x39b1c0;Ge[_0x55fc0c(0x4f2)](_0x55fc0c(0x779));}),X&&X['close'](()=>{const _0xe6a430=_0x39b1c0;Ge[_0xe6a430(0x4f2)](_0xe6a430(0x1a7));});});var Xi=new Me[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x3d18fe(0x357))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x3d18fe(0x357))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x5127cb=>{const _0x338c2c=a0_0x3d18fe;let _0x3caa6a='z_'+_0x5127cb+_0x338c2c(0x546);return I?.[_0x338c2c(0x3c4)](_0x338c2c(0x6d8),so,_0x3caa6a);},sa=require(a0_0x3d18fe(0x63f)),ao=new sa[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x5a5e43=>{const _0x4b21f0=a0_0x3d18fe;let _0x3ec6d8='z_'+_0x5a5e43+_0x4b21f0(0x158);return I?.['model']('ContactModel',ao,_0x3ec6d8);},ia=require(a0_0x3d18fe(0x63f)),gs=class{},io=new ia[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.['model'](gs[a0_0x3d18fe(0x2f6)],io,a0_0x3d18fe(0x558)),ra=require(a0_0x3d18fe(0x63f)),ms=class{},oo=new ra[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x3d18fe(0x3c4)](ms['name'],oo,a0_0x3d18fe(0x653)),ws=require('mongoose'),fs=class{},ro=new ws[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws[(a0_0x3d18fe(0x357))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.[a0_0x3d18fe(0x3c4)](fs['name'],no,'messagesLogs'),ca=_0x4c5dd5=>{const _0x3af071=a0_0x3d18fe;let _0x396bf6='z_'+_0x4c5dd5+_0x3af071(0x247);return I?.['model']('MessageModel',ro,_0x396bf6);},la=require(a0_0x3d18fe(0x63f)),ys=class{},co=new la[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.[a0_0x3d18fe(0x3c4)](ys[a0_0x3d18fe(0x2f6)],co,a0_0x3d18fe(0x2f0)),da=require(a0_0x3d18fe(0x63f)),bs=class{},pa=new da[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x3d18fe(0x404)](a0_0x3d18fe(0x68e),function(_0x1c34dc){const _0x5f342b=a0_0x3d18fe;delete this[_0x5f342b(0x478)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x5f342b(0x869)],delete this[_0x5f342b(0x361)],_0x1c34dc();});var ha=I?.['model'](bs[a0_0x3d18fe(0x2f6)],pa,a0_0x3d18fe(0x208)),P=require(a0_0x3d18fe(0x63f)),Ss=require(a0_0x3d18fe(0x550)),We=class{},Ms=class{},ma=new P[(a0_0x3d18fe(0x357))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x3d18fe(0x357))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3d18fe(0x64b)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3d18fe(0x5d7)},'pollErrorMessage':{'type':String,'default':a0_0x3d18fe(0x5d3)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x3d18fe(0x357))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x3d18fe(0x357))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x3d18fe(0x357))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x3d18fe(0x357))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x3d18fe(0x357))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x3d18fe(0x357))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x3d18fe(0x357))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x5e1265=a0_0x3d18fe;return _0x5e1265(0x436)+Math[_0x5e1265(0x283)]()[_0x5e1265(0x444)](0x24)[_0x5e1265(0x8ad)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x3d18fe(0x897)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x3d18fe(0x404)](a0_0x3d18fe(0x456),function(_0xa94d3){const _0x30d6b9=a0_0x3d18fe;let _0x3c99d6=this[_0x30d6b9(0x655)]();if(_0x3c99d6&&typeof _0x3c99d6=='object'&&_0x30d6b9(0x77a)in _0x3c99d6){let _0x874142=_0x3c99d6[_0x30d6b9(0x77a)];if(_0x874142){let _0x538255=new Set(),_0x251b73=new Set(_0x874142[_0x30d6b9(0x407)]?.['map'](_0x4fdb73=>_0x4fdb73['name'])),_0x170c54=JSON[_0x30d6b9(0x6b1)](_0x874142),_0x382103=/{{(?!_)([^}]*)}}/g,_0x54b53b;for(;(_0x54b53b=_0x382103['exec'](_0x170c54))!==null;)_0x251b73[_0x30d6b9(0x146)](_0x54b53b[0x1])||_0x538255[_0x30d6b9(0x4b0)](_0x54b53b[0x1]);_0x538255[_0x30d6b9(0x3cf)]>0x0?(console[_0x30d6b9(0x6f8)](_0x30d6b9(0x14e),Array[_0x30d6b9(0x13c)](_0x538255)),_0x874142[_0x30d6b9(0x590)]=Array['from'](_0x538255)):_0x874142[_0x30d6b9(0x590)]=[],this['setUpdate']({'$set':_0x874142});}}_0xa94d3();});var Ce=I?.['model'](Ms[a0_0x3d18fe(0x2f6)],ba,a0_0x3d18fe(0x1e9)),go=new P[(a0_0x3d18fe(0x357))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3d18fe(0x5b1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3d18fe(0x5d7)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x16c91d=>{const _0x474e89=a0_0x3d18fe;let _0x200402='z_'+_0x16c91d+'_FlowHistorico';return I?.[_0x474e89(0x3c4)](_0x474e89(0x845),mo,_0x200402);},fo=new P[(a0_0x3d18fe(0x357))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x3d18fe(0x4e5)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x318caf=>{const _0x14fff5=a0_0x3d18fe;let _0x3df4fd='z_'+_0x318caf+_0x14fff5(0x3f2);return I?.[_0x14fff5(0x3c4)](_0x14fff5(0x544),wo,_0x3df4fd);},Es=class{},yo=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x3d18fe(0x85f)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x3d18fe(0x3c4)](Es[a0_0x3d18fe(0x2f6)],Eo,a0_0x3d18fe(0x22f)),Ca=require(a0_0x3d18fe(0x63f)),vo=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0xee05dd=>{const _0x2a018f=a0_0x3d18fe;let _0x4d3a80='z_'+_0xee05dd+_0x2a018f(0x3a8);return I?.[_0x2a018f(0x3c4)](_0x2a018f(0x7ac),vo,_0x4d3a80);},_=class{constructor(_0x45f0d7){const _0x4db557=a0_0x3d18fe;this[_0x4db557(0x3fa)]=_0x45f0d7['get']('DATABASE');}};function A(_0x48cbf3){const _0x4bbef6=a0_0x3d18fe;let _0x1769bc={};for(let [_0xea6b86,_0x2c5c77]of Object[_0x4bbef6(0x6ed)](_0x48cbf3))if(typeof _0x2c5c77==_0x4bbef6(0x85e)&&!Array[_0x4bbef6(0x27a)](_0x2c5c77)){for(let [_0xc08c4b,_0x27c351]of Object['entries'](_0x2c5c77))_0x1769bc[_0xea6b86+'.'+_0xc08c4b]=_0x27c351;}else _0x1769bc[_0xea6b86]=_0x2c5c77;return _0x1769bc;}var ze=class{constructor(_0x3b9278,_0x2a0803,_0x59aaea,_0x31bfc3,_0x187916,_0x57d6a3,_0x329e87,_0x5d1466,_0x5636ac,_0x44a987,_0x45bbc6,_0x4b0b01,_0x5439ce,_0x238e0b){const _0x1eb342=a0_0x3d18fe;this[_0x1eb342(0x867)]=_0x3b9278,this[_0x1eb342(0x1cd)]=_0x2a0803,this[_0x1eb342(0x363)]=_0x59aaea,this[_0x1eb342(0x747)]=_0x31bfc3,this['messageLogs']=_0x187916,this['webhook']=_0x57d6a3,this[_0x1eb342(0x6ad)]=_0x329e87,this[_0x1eb342(0x7ed)]=_0x5d1466,this[_0x1eb342(0x21d)]=_0x5636ac,this['flowConversation']=_0x44a987,this['label']=_0x45bbc6,this['scheduleMessage']=_0x4b0b01,this[_0x1eb342(0x763)]=_0x5439ce,this[_0x1eb342(0x557)]=_0x238e0b;}get[a0_0x3d18fe(0x154)](){const _0x4a76b5=a0_0x3d18fe;return this[_0x4a76b5(0x557)];}},He=class{},Ke=class extends _{['getMessageModelForOwner'](_0x13d347){return ca(_0x13d347);}async['insert'](_0x5b112b,_0x30b772){const _0x55511e=a0_0x3d18fe;if(_0x5b112b['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x55511e(0x206)](_0x30b772)[_0x55511e(0x186)]([..._0x5b112b]))[_0x55511e(0x802)]};}catch(_0x18f71c){return _0x18f71c;}}async[a0_0x3d18fe(0x80c)](_0x416ba1,_0x4ec0a1){const _0x1e9fbb=a0_0x3d18fe;try{let _0x495af4=this[_0x1e9fbb(0x206)](_0x4ec0a1),_0x277b19=A(_0x416ba1[_0x1e9fbb(0x295)]);return await _0x495af4['find'](_0x277b19)[_0x1e9fbb(0x366)]({'messageTimestamp':-0x1})[_0x1e9fbb(0x177)](_0x416ba1?.[_0x1e9fbb(0x177)]??0x0)[_0x1e9fbb(0x66e)]();}catch{return[];}}async[a0_0x3d18fe(0x5cd)](_0xb7350d,_0x5e8cc9){const _0x5082d4=a0_0x3d18fe;try{let _0x3cb5f7=this[_0x5082d4(0x206)](_0x5e8cc9),_0x4e896b=A(_0xb7350d['where']);await _0x3cb5f7['deleteMany'](_0x4e896b);}catch(_0x283e2e){console['error'](_0x283e2e);}}async[a0_0x3d18fe(0x200)](_0x2135ac,_0x239114,_0x5d0070){const _0x185d4b=a0_0x3d18fe;try{let _0x32893c=this[_0x185d4b(0x206)](_0x5d0070),_0x145055=A(_0x2135ac[_0x185d4b(0x295)]);return await _0x32893c[_0x185d4b(0x456)](_0x145055,{'$set':_0x239114},{'new':!0x0});}catch(_0x46b509){throw console[_0x185d4b(0x4e8)](_0x46b509),_0x46b509;}}async[a0_0x3d18fe(0x186)](_0x22f4d2,_0x46a2e2){const _0x269c04=a0_0x3d18fe;if(_0x22f4d2[_0x269c04(0x802)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x269c04(0x206)](_0x46a2e2)[_0x269c04(0x186)]([..._0x22f4d2]))['length']};}catch(_0x38ee1c){return console[_0x269c04(0x4e7)](_0x269c04(0x762),_0x38ee1c),_0x38ee1c;}}async[a0_0x3d18fe(0x22a)](_0x22e963){const _0x7583b0=a0_0x3d18fe;try{return await this[_0x7583b0(0x206)](_0x22e963)[_0x7583b0(0x74d)][_0x7583b0(0x83a)](),{'success':!0x0};}catch(_0x162a1e){return console[_0x7583b0(0x4e8)](_0x162a1e),{'success':!0x1,'error':_0x162a1e};}}},Ps=T(require(a0_0x3d18fe(0x7d4))),w=T(require(a0_0x3d18fe(0x634))),Le=require('fs'),j=T(require('path')),Q=T(require(a0_0x3d18fe(0x5fb))),Ii=require(a0_0x3d18fe(0x550)),Ti=T(require(a0_0x3d18fe(0x51a))),_i=T(require('qrcode-terminal')),va=[a0_0x3d18fe(0x44d),'documentMessage',a0_0x3d18fe(0x183),a0_0x3d18fe(0x5b6),a0_0x3d18fe(0x613)],Na=[a0_0x3d18fe(0x54f),a0_0x3d18fe(0x125),a0_0x3d18fe(0x696),a0_0x3d18fe(0x2b9)],Ds=require('os'),Ft=T(require(a0_0x3d18fe(0x6ac))),Fe=require('child_process'),Oi=require(a0_0x3d18fe(0x3d6)),ge=T(require(a0_0x3d18fe(0x63f))),J=require(a0_0x3d18fe(0x57f)),ue=class{constructor(_0x4bfd62,_0x586b29,_0x56ecc5){const _0x380ccc=a0_0x3d18fe;this[_0x380ccc(0x857)]=_0x4bfd62,this[_0x380ccc(0x622)]=_0x586b29,this[_0x380ccc(0x2f6)]=_0x56ecc5;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require(a0_0x3d18fe(0x202))),$a=require('fs'),Ra=require(a0_0x3d18fe(0x5e3));async function _e(_0x289df1){const _0x273c3b=a0_0x3d18fe;let _0x3cf128=G['waInstances'][_0x289df1];if(L[_0x273c3b(0x724)]){let _0x131a36=I[_0x273c3b(0x5e0)]()['db'](L['CONNECTION'][_0x273c3b(0x686)]+'-instances')[_0x273c3b(0x74d)](_0x289df1);return _0x3cf128||(await _0x131a36[_0x273c3b(0x80c)]({})['toArray']())['length']>0x0;}return _0x3cf128||(0x0,$a[_0x273c3b(0x2e8)])((0x0,Ra['join'])(Se,_0x289df1));}async function Aa(_0x415e50,_0x59a4d5,_0x44de2d){const _0x26655c=a0_0x3d18fe;if(_0x415e50[_0x26655c(0x7f0)]['includes'](_0x26655c(0x651))||_0x415e50['originalUrl'][_0x26655c(0x3f1)](_0x26655c(0x645))||_0x415e50[_0x26655c(0x7f0)][_0x26655c(0x3f1)](_0x26655c(0x129))||_0x415e50[_0x26655c(0x7f0)][_0x26655c(0x3f1)](_0x26655c(0x26c))||_0x415e50[_0x26655c(0x7f0)][_0x26655c(0x3f1)](_0x26655c(0x538))||_0x415e50['originalUrl'][_0x26655c(0x3f1)](_0x26655c(0x821))||_0x415e50[_0x26655c(0x7f0)]['includes'](_0x26655c(0x7bc)))return _0x44de2d();let _0x8d737d=_0x415e50['params'];if(!_0x8d737d?.[_0x26655c(0x3b2)])throw new m(_0x26655c(0x704));if(!await _e(_0x8d737d['instanceName']))throw new U(_0x26655c(0x582)+_0x8d737d[_0x26655c(0x3b2)]+_0x26655c(0x46c));_0x44de2d();}async function Ia(_0x34ba2d,_0x263795,_0x3c6413){const _0x5965e5=a0_0x3d18fe;if(_0x34ba2d[_0x5965e5(0x7f0)][_0x5965e5(0x3f1)](_0x5965e5(0x651))){let _0x2a86f1=_0x34ba2d[_0x5965e5(0x51d)];if(await _e(_0x2a86f1['instanceName']))throw new Z(_0x5965e5(0x87b)+_0x2a86f1[_0x5965e5(0x3b2)]+'\x20is\x20already\x20in\x20use.');G[_0x5965e5(0x2bb)][_0x2a86f1[_0x5965e5(0x3b2)]]&&delete G[_0x5965e5(0x2bb)][_0x2a86f1['instanceName']];}_0x3c6413();}var Ta=require(a0_0x3d18fe(0x57f)),_a=T(require(a0_0x3d18fe(0x250))),it=a0_0x3d18fe(0x808),$o=new $('GUARD');async function Ro(_0x53f0ea,_0x1b576c,_0x566c27){const _0x5ec46c=a0_0x3d18fe;let _0xea3ca1=_0x53f0ea['get']('apikey');if(_0xea3ca1&&S[_0x5ec46c(0x5d8)](_0x5ec46c(0x138))[_0x5ec46c(0x660)]['KEY']!==_0xea3ca1)throw new ie();if(S[_0x5ec46c(0x5d8)]('AUTHENTICATION')[_0x5ec46c(0x660)][_0x5ec46c(0x418)]===_0xea3ca1)return _0x566c27();if((_0x53f0ea[_0x5ec46c(0x7f0)][_0x5ec46c(0x3f1)]('/instance/create')||_0x53f0ea[_0x5ec46c(0x7f0)][_0x5ec46c(0x3f1)]('/instance/fetchInstances'))&&!_0xea3ca1)throw new Z(_0x5ec46c(0x6c4),_0x5ec46c(0x6c5));let _0x58b4a9=S[_0x5ec46c(0x5d8)]('AUTHENTICATION')[_0x5ec46c(0x5d1)];try{let [_0x43b484,_0x3f8797]=_0x53f0ea['get'](_0x5ec46c(0x607))[_0x5ec46c(0x74f)]('\x20');if(_0x43b484[_0x5ec46c(0x12e)]()!==_0x5ec46c(0x523))throw new ie();if(!(0x0,Ta['isJWT'])(_0x3f8797))throw new ie();let _0x15d5c4=_0x53f0ea[_0x5ec46c(0x36b)],_0x98cf6=_a[_0x5ec46c(0x62f)]['verify'](_0x3f8797,_0x58b4a9[_0x5ec46c(0x2b6)],{'ignoreExpiration':_0x58b4a9[_0x5ec46c(0x226)]===0x0});if(_0x15d5c4[_0x5ec46c(0x3b2)]!==_0x98cf6[_0x5ec46c(0x3b2)]||it!==_0x98cf6[_0x5ec46c(0x29e)])throw new ie();return _0x566c27();}catch(_0x7a5dc6){throw $o['error'](_0x7a5dc6),new ie();}}async function Ao(_0xe9677b,_0x5a9f4c,_0x14e229){const _0x48122e=a0_0x3d18fe;let _0x4ee201=S[_0x48122e(0x5d8)](_0x48122e(0x138))[_0x48122e(0x660)],_0x35a678=_0xe9677b[_0x48122e(0x5d8)](_0x48122e(0x814));if(_0x4ee201[_0x48122e(0x418)]===_0x35a678)return _0x14e229();if(_0xe9677b[_0x48122e(0x7f0)][_0x48122e(0x3f1)]('/instance/create')){let _0x2783df=xa,_0x5d73e4=_0xe9677b[_0x48122e(0x51d)][_0x48122e(0x3b2)];if(_0x2783df&&_0x5d73e4[_0x48122e(0x12e)]()['startsWith'](_0x2783df[_0x48122e(0x12e)]()))return _0x14e229();if(!_0x35a678)throw new Z(_0x48122e(0x6c4),_0x48122e(0x6c5));}if(_0xe9677b[_0x48122e(0x7f0)][_0x48122e(0x3f1)](_0x48122e(0x645))&&!_0x35a678)throw new Z(_0x48122e(0x6c4),_0x48122e(0x6c5));if(_0xe9677b[_0x48122e(0x7f0)][_0x48122e(0x3f1)](_0x48122e(0x129))&&!_0x35a678)throw new Z(_0x48122e(0x6c4),_0x48122e(0x6c5));if(_0xe9677b[_0x48122e(0x7f0)][_0x48122e(0x3f1)](_0x48122e(0x26c))&&!_0x35a678)throw new Z(_0x48122e(0x6c4),_0x48122e(0x6c5));try{let _0x448a04=_0xe9677b[_0x48122e(0x36b)],_0x3b913e=await fe[_0x48122e(0x6ad)]['find'](_0x448a04[_0x48122e(0x3b2)]);if(_0x3b913e&&_0x3b913e[_0x48122e(0x814)]===_0x35a678)return _0x14e229();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require('express'),C=require(a0_0x3d18fe(0x550)),E=(..._0x12e1db)=>{const _0x5caffc=a0_0x3d18fe;let _0x2bcefb={};return _0x12e1db[_0x5caffc(0x358)](_0x5ce00e=>_0x2bcefb[_0x5ce00e]={'minLength':0x1,'description':_0x5caffc(0x4dc)+_0x5ce00e+_0x5caffc(0x3fe)}),{'if':{'propertyNames':{'enum':[..._0x12e1db]}},'then':{'properties':_0x2bcefb}};},N={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x3d18fe(0x29b)}},...E(a0_0x3d18fe(0x3b2))},Rc={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'oldToken':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x43b)],...E(a0_0x3d18fe(0x43b))},Ac={'properties':{'key':{'type':a0_0x3d18fe(0x85e),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3d18fe(0x29b)},'fromMe':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3d18fe(0x7f9),a0_0x3d18fe(0x840)],...E('id',a0_0x3d18fe(0x7f9))},'message':{'type':a0_0x3d18fe(0x85e)}}},oe={'properties':{'delay':{'type':'integer','description':a0_0x3d18fe(0x40e)},'presence':{'type':'string','enum':[a0_0x3d18fe(0x68c),a0_0x3d18fe(0x2c8),a0_0x3d18fe(0x285),'recording',a0_0x3d18fe(0x1e2)]}}},ee={'type':'string','description':a0_0x3d18fe(0x455)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'text':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x2b3)],...E(a0_0x3d18fe(0x2b3))}},'required':[a0_0x3d18fe(0x6b3),'number']},Da={'type':a0_0x3d18fe(0x29b),'pattern':a0_0x3d18fe(0x433),'description':a0_0x3d18fe(0x455)},Ic={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x2b3)],...E(a0_0x3d18fe(0x2b3))}},'required':[a0_0x3d18fe(0x6b3),'number']},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'mediatype':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x333),a0_0x3d18fe(0x267),a0_0x3d18fe(0x453),a0_0x3d18fe(0x3f4)]},'media':{'type':a0_0x3d18fe(0x29b)},'fileName':{'type':'string'},'caption':{'type':a0_0x3d18fe(0x29b)}},'required':['mediatype','media'],...E(a0_0x3d18fe(0x49d),a0_0x3d18fe(0x5ff),a0_0x3d18fe(0x624))}},'required':[a0_0x3d18fe(0x4b4),a0_0x3d18fe(0x28f)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'image':{'type':'string'}},'required':['image'],...E('image')}},'required':[a0_0x3d18fe(0x613),a0_0x3d18fe(0x28f)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'statusMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'type':{'type':a0_0x3d18fe(0x29b),'enum':['text','image',a0_0x3d18fe(0x3f4),a0_0x3d18fe(0x453)]},'content':{'type':a0_0x3d18fe(0x29b)},'caption':{'type':'string'},'backgroundColor':{'type':'string'},'font':{'type':a0_0x3d18fe(0x663),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3d18fe(0x29b),'pattern':a0_0x3d18fe(0x50e),'description':a0_0x3d18fe(0x691)}},'allContacts':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':[a0_0x3d18fe(0x5a1),a0_0x3d18fe(0x59c)],...E(a0_0x3d18fe(0x5a1),a0_0x3d18fe(0x59c))}},'required':[a0_0x3d18fe(0x248)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x3d18fe(0x333),a0_0x3d18fe(0x267),a0_0x3d18fe(0x453),a0_0x3d18fe(0x3f4)]},'media':{'type':'string'},'fileName':{'type':a0_0x3d18fe(0x29b)},'caption':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x4f6),'media'],...E(a0_0x3d18fe(0x49d),a0_0x3d18fe(0x5ff),a0_0x3d18fe(0x624))}},'required':['mediaMessage',a0_0x3d18fe(0x28f)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'audio':{'type':a0_0x3d18fe(0x29b)}},'required':['audio'],...E(a0_0x3d18fe(0x3f4))}},'required':[a0_0x3d18fe(0x183),a0_0x3d18fe(0x28f)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'name':{'type':a0_0x3d18fe(0x29b)},'selectableCount':{'type':'number'},'values':{'type':a0_0x3d18fe(0x352),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3d18fe(0x2f6),'selectableCount','values'],...E(a0_0x3d18fe(0x2f6),'selectableCount',a0_0x3d18fe(0x1ed))}},'required':[a0_0x3d18fe(0x28f),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'text':{'type':a0_0x3d18fe(0x29b)},'choices':{'type':'array','uniqueItems':!0x0}},'required':[a0_0x3d18fe(0x2b3),a0_0x3d18fe(0x174)],...E(a0_0x3d18fe(0x2b3),'choices')}},'required':[a0_0x3d18fe(0x28f),a0_0x3d18fe(0x6d3)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'latitude':{'type':a0_0x3d18fe(0x28f)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x3d18fe(0x29b)}},'required':['latitude',a0_0x3d18fe(0x429)],...E(a0_0x3d18fe(0x2f6),a0_0x3d18fe(0x4de))}},'required':[a0_0x3d18fe(0x28f),a0_0x3d18fe(0x539)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'title':{'type':a0_0x3d18fe(0x29b)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3d18fe(0x85e),'properties':{'title':{'type':a0_0x3d18fe(0x29b)},'rows':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3d18fe(0x85e),'properties':{'title':{'type':a0_0x3d18fe(0x29b)},'description':{'type':a0_0x3d18fe(0x29b)},'rowId':{'type':'string'}},'required':['title',a0_0x3d18fe(0x397)],...E(a0_0x3d18fe(0x7b8),a0_0x3d18fe(0x397))}}},'required':['title',a0_0x3d18fe(0x29d)],...E(a0_0x3d18fe(0x7b8))}}},'required':[a0_0x3d18fe(0x7b8),a0_0x3d18fe(0x5eb),a0_0x3d18fe(0x568),a0_0x3d18fe(0x494)],...E(a0_0x3d18fe(0x7b8),a0_0x3d18fe(0x5eb),a0_0x3d18fe(0x568),a0_0x3d18fe(0x50d))}},'required':[a0_0x3d18fe(0x28f),'listMessage']},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x3d18fe(0x352),'items':{'type':'object','properties':{'fullName':{'type':a0_0x3d18fe(0x29b)},'phoneNumber':{'type':a0_0x3d18fe(0x29b),'minLength':0xa}},'required':['fullName',a0_0x3d18fe(0x81a)],...E(a0_0x3d18fe(0x733))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'reactionMessage':{'type':a0_0x3d18fe(0x85e),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x3d18fe(0x29b)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3d18fe(0x7f9),'fromMe'],...E('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x3d18fe(0x406),'reaction'],...E(a0_0x3d18fe(0x460))}},'required':[a0_0x3d18fe(0x6cb)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3d18fe(0x29b),'pattern':a0_0x3d18fe(0x50e),'description':a0_0x3d18fe(0x795)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'readMessages':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3d18fe(0x29b)}},'required':['id',a0_0x3d18fe(0x840),a0_0x3d18fe(0x7f9)],...E('id',a0_0x3d18fe(0x7f9))}}},'required':[a0_0x3d18fe(0x3d3)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'privacySettings':{'type':a0_0x3d18fe(0x85e),'properties':{'readreceipts':{'type':a0_0x3d18fe(0x29b),'enum':['all',a0_0x3d18fe(0x5ef)]},'profile':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x6e6),a0_0x3d18fe(0x2e1),a0_0x3d18fe(0x773),'none']},'status':{'type':'string','enum':[a0_0x3d18fe(0x6e6),a0_0x3d18fe(0x2e1),a0_0x3d18fe(0x773),a0_0x3d18fe(0x5ef)]},'online':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x6e6),'match_last_seen']},'last':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x6e6),a0_0x3d18fe(0x2e1),a0_0x3d18fe(0x773),a0_0x3d18fe(0x5ef)]},'groupadd':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x6e6),a0_0x3d18fe(0x2e1),a0_0x3d18fe(0x773),a0_0x3d18fe(0x5ef)]}},'required':[a0_0x3d18fe(0x3da),a0_0x3d18fe(0x5db),'status',a0_0x3d18fe(0x5bd),a0_0x3d18fe(0x1ba),a0_0x3d18fe(0x756)],...E(a0_0x3d18fe(0x3da),a0_0x3d18fe(0x5db),'status',a0_0x3d18fe(0x5bd),a0_0x3d18fe(0x1ba),a0_0x3d18fe(0x756))}},'required':[a0_0x3d18fe(0x1c1)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x3d18fe(0x85e),'properties':{'id':{'type':a0_0x3d18fe(0x29b)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3d18fe(0x840),a0_0x3d18fe(0x7f9)],...E('id',a0_0x3d18fe(0x7f9))},'messageTimestamp':{'type':a0_0x3d18fe(0x663),'minLength':0x1}},'required':[a0_0x3d18fe(0x406)],...E(a0_0x3d18fe(0x849))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x3d18fe(0x52d)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'id':{'type':a0_0x3d18fe(0x29b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3d18fe(0x29b)},'participant':{'type':a0_0x3d18fe(0x29b)}},'required':['id',a0_0x3d18fe(0x840),a0_0x3d18fe(0x7f9)],...E('id','remoteJid','participant')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'where':{'type':a0_0x3d18fe(0x85e),'properties':{'_id':{'type':a0_0x3d18fe(0x29b),'minLength':0x1},'pushName':{'type':a0_0x3d18fe(0x29b),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x3d18fe(0x2a2),'id',a0_0x3d18fe(0x581))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'name':{'type':'string'}},...E(a0_0x3d18fe(0x2f6))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'status':{'type':a0_0x3d18fe(0x29b)}},...E(a0_0x3d18fe(0x1b2))},Oe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x3d18fe(0x29b)},'picture':{'type':'string'}}},ei={'type':'object','properties':{'wuid':{'type':a0_0x3d18fe(0x29b)},'name':{'type':'string'},'picture':{'type':a0_0x3d18fe(0x29b)},'status':{'type':'string'},'isBusiness':{'type':a0_0x3d18fe(0x21b)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'where':{'type':a0_0x3d18fe(0x85e),'properties':{'_id':{'type':a0_0x3d18fe(0x29b),'minLength':0x1},'key':{'type':a0_0x3d18fe(0x85e),'if':{'propertyNames':{'enum':['fromMe',a0_0x3d18fe(0x7f9),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3d18fe(0x29b),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x3d18fe(0x29b),'minLength':0x1,'description':a0_0x3d18fe(0x6c2)},'fromMe':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3d18fe(0x85e)}},...E(a0_0x3d18fe(0x2a2))},'limit':{'type':'integer'}}},_c={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'where':{'type':a0_0x3d18fe(0x85e),'properties':{'_id':{'type':a0_0x3d18fe(0x29b)},'remoteJid':{'type':a0_0x3d18fe(0x29b)},'id':{'type':a0_0x3d18fe(0x29b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x3d18fe(0x29b)},'status':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x370),a0_0x3d18fe(0x42c),a0_0x3d18fe(0x1a3),'DELIVERY_ACK',a0_0x3d18fe(0x3c6),'PLAYED']}},...E(a0_0x3d18fe(0x2a2),a0_0x3d18fe(0x7f9),'id','status')},'limit':{'type':a0_0x3d18fe(0x663)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'number':{...ee},'presence':{'type':a0_0x3d18fe(0x29b),'enum':[a0_0x3d18fe(0x68c),a0_0x3d18fe(0x2c8),a0_0x3d18fe(0x285),a0_0x3d18fe(0x228),a0_0x3d18fe(0x1e2)]}},'required':[a0_0x3d18fe(0x1ee),a0_0x3d18fe(0x28f)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x3d18fe(0x29b)},'description':{'type':a0_0x3d18fe(0x29b)},'profilePicture':{'type':a0_0x3d18fe(0x29b)},'participants':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3d18fe(0x29b),'minLength':0xa,'pattern':a0_0x3d18fe(0x6c3),'description':a0_0x3d18fe(0x24a)}}},'required':[a0_0x3d18fe(0x8a1),a0_0x3d18fe(0x2b2)],...E(a0_0x3d18fe(0x8a1),a0_0x3d18fe(0x5eb),'profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':['groupJid'],...E('groupJid')},ii={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':a0_0x3d18fe(0x29b)},'action':{'type':'string','enum':[a0_0x3d18fe(0x4b0),a0_0x3d18fe(0x64c),a0_0x3d18fe(0x823),a0_0x3d18fe(0x82d),a0_0x3d18fe(0x695),a0_0x3d18fe(0x189)]},'participants':{'type':a0_0x3d18fe(0x352),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x3d18fe(0x6c3),'description':a0_0x3d18fe(0x24a)}}},'required':['groupJid',a0_0x3d18fe(0x136),a0_0x3d18fe(0x2b2)],...E('groupJid',a0_0x3d18fe(0x136))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':a0_0x3d18fe(0x29b)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x3d18fe(0x7f8),a0_0x3d18fe(0x769)],...E(a0_0x3d18fe(0x7f8),a0_0x3d18fe(0x769))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x3d18fe(0x29b)}},'required':['groupJid','image'],...E(a0_0x3d18fe(0x7f8),'image')},ni={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':a0_0x3d18fe(0x29b)},'description':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x7f8),a0_0x3d18fe(0x5eb)],...E('groupJid',a0_0x3d18fe(0x5eb))},ci={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x7f8),a0_0x3d18fe(0x2f6)],...E(a0_0x3d18fe(0x7f8),'name')},li={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':a0_0x3d18fe(0x29b)},'setting':{'type':a0_0x3d18fe(0x29b),'enum':['announcement',a0_0x3d18fe(0x346),a0_0x3d18fe(0x160),'locked']}},'required':[a0_0x3d18fe(0x7f8),'setting'],...E('groupJid',a0_0x3d18fe(0x5cb))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'groupJid':{'type':a0_0x3d18fe(0x29b)},'restrict':{'type':a0_0x3d18fe(0x21b)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x3d18fe(0x21b)},'joinApprovalMode':{'type':a0_0x3d18fe(0x21b)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x3d18fe(0x29b)},'description':{'type':a0_0x3d18fe(0x29b)},'image':{'type':a0_0x3d18fe(0x29b)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'inviteCode':{'type':a0_0x3d18fe(0x29b)}},'required':[a0_0x3d18fe(0x620)],...E(a0_0x3d18fe(0x620))},di={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'url':{'type':a0_0x3d18fe(0x29b)},'enabled':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':[a0_0x3d18fe(0x3f9),a0_0x3d18fe(0x472)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x3d18fe(0x85e),'properties':{'local_map':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3d18fe(0x21b),'enum':[!0x0,!0x1]}},'required':[a0_0x3d18fe(0x190),a0_0x3d18fe(0x1e0),a0_0x3d18fe(0x5c3),'MESSAGES_SET',a0_0x3d18fe(0x14d),a0_0x3d18fe(0x4df),a0_0x3d18fe(0x1c5),'CONTACTS_SET',a0_0x3d18fe(0x1f4),'CONTACTS_UPDATE',a0_0x3d18fe(0x486),a0_0x3d18fe(0x4a7),a0_0x3d18fe(0x797),a0_0x3d18fe(0x286),a0_0x3d18fe(0x388),a0_0x3d18fe(0x875),a0_0x3d18fe(0x5cf),a0_0x3d18fe(0x529),a0_0x3d18fe(0x224)],...E('local_map',a0_0x3d18fe(0x1e0),a0_0x3d18fe(0x5c3),a0_0x3d18fe(0x569),a0_0x3d18fe(0x14d),a0_0x3d18fe(0x4df),a0_0x3d18fe(0x1c5),a0_0x3d18fe(0x324),a0_0x3d18fe(0x1f4),a0_0x3d18fe(0x53e),'PRESENCE_UPDATE','CHATS_SET',a0_0x3d18fe(0x797),a0_0x3d18fe(0x286),a0_0x3d18fe(0x388),a0_0x3d18fe(0x875),a0_0x3d18fe(0x5cf),a0_0x3d18fe(0x529),a0_0x3d18fe(0x224))},ot=class{},rt=class extends _{[a0_0x3d18fe(0x6b4)](_0x3ed510){return aa(_0x3ed510);}async['insert'](_0x29e0fb){const _0x3823f5=a0_0x3d18fe;if(_0x29e0fb['length']!==0x0)try{return{'insertCount':(await this[_0x3823f5(0x6b4)](_0x29e0fb[0x0][_0x3823f5(0x856)])[_0x3823f5(0x186)]([..._0x29e0fb]))[_0x3823f5(0x802)]};}catch(_0x28a00e){return _0x28a00e;}}async[a0_0x3d18fe(0x5cd)](_0x28a801,_0x966064){const _0x2123a3=a0_0x3d18fe;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x966064)[_0x2123a3(0x628)]({..._0x28a801[_0x2123a3(0x295)]}))[_0x2123a3(0x6b8)]};}catch(_0x2496fa){return{'error':_0x2496fa?.[_0x2123a3(0x444)]()};}}async[a0_0x3d18fe(0x200)](_0x397a3b,_0x536a32){const _0x1cd432=a0_0x3d18fe;try{if(_0x397a3b[_0x1cd432(0x802)]===0x0)return;let _0xc93797=this[_0x1cd432(0x6b4)](_0x536a32),_0x1df6cd=_0x397a3b[_0x1cd432(0x82a)](_0x5c33ad=>({'updateOne':{'filter':{'_id':_0x5c33ad['_id'],'owner':_0x536a32},'update':{..._0x5c33ad}}})),{modifiedCount:_0xbc3479}=await _0xc93797[_0x1cd432(0x5d9)](_0x1df6cd);return{'insertCount':_0xbc3479};}catch{return;}}async[a0_0x3d18fe(0x80c)](_0x30f0d7,_0x27865e){const _0x26db31=a0_0x3d18fe;try{let _0x1db8aa=this[_0x26db31(0x6b4)](_0x27865e),_0x1859bc=A(_0x30f0d7['where']);return await _0x1db8aa['find'](_0x1859bc)[_0x26db31(0x177)](_0x30f0d7?.['limit']??0x0)[_0x26db31(0x66e)]();}catch{return[];}}async[a0_0x3d18fe(0x648)](_0x465a28,_0x46807f){const _0x277b58=a0_0x3d18fe;try{let _0x3e393e=this['getContactModelForOwner'](_0x46807f),_0x47e9bd=A(_0x465a28['where']);return await _0x3e393e[_0x277b58(0x648)](_0x47e9bd)[_0x277b58(0x66e)]();}catch{return null;}}async['deleteAll'](_0x826012){const _0x5a7578=a0_0x3d18fe;try{return await this[_0x5a7578(0x6b4)](_0x826012)[_0x5a7578(0x74d)][_0x5a7578(0x83a)](),{'success':!0x0};}catch(_0x4aea52){return console[_0x5a7578(0x4e8)](_0x4aea52),{'success':!0x1,'error':_0x4aea52};}}},nt=require(a0_0x3d18fe(0x3df)),Jc=require(a0_0x3d18fe(0x22c)),$s=new $(a0_0x3d18fe(0x447)),V=class{['routerPath'](_0x32a037,_0x311691=!0x0){const _0x436a15=a0_0x3d18fe;let _0x3170f5='/'+_0x32a037;return _0x311691&&(_0x3170f5+=_0x436a15(0x257)),_0x3170f5;}async[a0_0x3d18fe(0x596)](_0x958799){const _0x4eb5d3=a0_0x3d18fe;let {request:_0x210c22,schema:_0x429537,ClassRef:_0x167ae4,execute:_0x5b794c}=_0x958799,_0x1f01f6=new _0x167ae4(),_0x55623f=_0x210c22['body'],_0x15be5a=_0x210c22[_0x4eb5d3(0x36b)];_0x210c22?.['query']&&Object['keys'](_0x210c22[_0x4eb5d3(0x305)])[_0x4eb5d3(0x802)]>0x0&&Object[_0x4eb5d3(0x640)](_0x15be5a,_0x210c22[_0x4eb5d3(0x305)]),_0x210c22[_0x4eb5d3(0x7f0)]['includes'](_0x4eb5d3(0x651))&&Object[_0x4eb5d3(0x640)](_0x15be5a,_0x55623f),Object[_0x4eb5d3(0x640)](_0x1f01f6,_0x55623f);let _0x5585f8=_0x429537?(0x0,nt[_0x4eb5d3(0x385)])(_0x1f01f6,_0x429537):{'valid':!0x0,'errors':[]};if(!_0x5585f8[_0x4eb5d3(0x24c)]){let _0x5deceb=_0x5585f8[_0x4eb5d3(0x36e)][_0x4eb5d3(0x82a)](({property:_0x4dd0dc,stack:_0x191a91,schema:_0x29b56f})=>{const _0x108791=_0x4eb5d3;let _0x5db25a;return _0x29b56f[_0x108791(0x5eb)]?_0x5db25a=_0x29b56f[_0x108791(0x5eb)]:_0x5db25a=_0x191a91[_0x108791(0x5e7)](_0x108791(0x6da),''),{'property':_0x4dd0dc[_0x108791(0x5e7)](_0x108791(0x6da),''),'message':_0x5db25a};});throw $s[_0x4eb5d3(0x4e8)]([..._0x5deceb]),new m(..._0x5deceb);}return await _0x5b794c(_0x15be5a,_0x1f01f6);}async[a0_0x3d18fe(0x235)](_0x2cd0f9){const _0x48efaa=a0_0x3d18fe;let {request:_0x247bd0,ClassRef:_0x53e5cf,schema:_0x3401bc,execute:_0x468806}=_0x2cd0f9,_0x5d47c0=_0x247bd0[_0x48efaa(0x305)];if(!_0x5d47c0?.[_0x48efaa(0x7f8)])throw new m(_0x48efaa(0x40a),_0x48efaa(0x7dc));let _0x4da41d=_0x247bd0['params'],_0x51f47a=_0x247bd0[_0x48efaa(0x51d)],_0xcf0993=new _0x53e5cf();Object[_0x48efaa(0x640)](_0x51f47a,_0x5d47c0),Object[_0x48efaa(0x640)](_0xcf0993,_0x51f47a);let _0x575724=(0x0,nt[_0x48efaa(0x385)])(_0xcf0993,_0x3401bc);if(!_0x575724[_0x48efaa(0x24c)]){let _0x85108c=_0x575724[_0x48efaa(0x36e)]['map'](({property:_0x2b6a17,stack:_0x5c8a71,schema:_0x5f8145})=>{const _0x431163=_0x48efaa;let _0x32e428;return _0x5f8145['description']?_0x32e428=_0x5f8145[_0x431163(0x5eb)]:_0x32e428=_0x5c8a71['replace']('instance.',''),{'property':_0x2b6a17['replace']('instance.',''),'message':_0x32e428};});throw $s[_0x48efaa(0x4e8)]([..._0x85108c]),new m(..._0x85108c);}return await _0x468806(_0x4da41d,_0xcf0993);}async['joinGroupValidate'](_0x2ca83c){const _0x1fa8d4=a0_0x3d18fe;let {request:_0x30698f,ClassRef:_0x3d76a9,schema:_0x570f12,execute:_0x4f2d63}=_0x2ca83c,_0x469bdc=_0x30698f['body'];if(!_0x469bdc?.[_0x1fa8d4(0x620)])throw new m(_0x1fa8d4(0x3cc),_0x1fa8d4(0x35b));let _0xe845e2=_0x30698f[_0x1fa8d4(0x36b)],_0x5ecc25=_0x30698f['body'],_0x9fe095=new _0x3d76a9();Object['assign'](_0x5ecc25,_0x469bdc),Object[_0x1fa8d4(0x640)](_0x9fe095,_0x5ecc25);let _0x15245e=(0x0,nt[_0x1fa8d4(0x385)])(_0x9fe095,_0x570f12);if(!_0x15245e[_0x1fa8d4(0x24c)]){let _0xad0e6f=_0x15245e[_0x1fa8d4(0x36e)]['map'](({property:_0x30a05a,stack:_0x4d932d,schema:_0x299417})=>{const _0x281019=_0x1fa8d4;let _0x1e1dd1;return _0x299417[_0x281019(0x5eb)]?_0x1e1dd1=_0x299417[_0x281019(0x5eb)]:_0x1e1dd1=_0x4d932d[_0x281019(0x5e7)]('instance.',''),{'property':_0x30a05a['replace'](_0x281019(0x6da),''),'message':_0x1e1dd1};});throw $s['error']([..._0xad0e6f]),new m(..._0xad0e6f);}return await _0x4f2d63(_0xe845e2,_0x9fe095);}},M=class{},sl=new $('ChatRouter'),ct=class extends V{constructor(..._0x4a989d){const _0x1c170c=a0_0x3d18fe;super(),this[_0x1c170c(0x63b)]=(0x0,pi[_0x1c170c(0x137)])(),this['router'][_0x1c170c(0x2c2)](this['routerPath'](_0x1c170c(0x379)),..._0x4a989d,async(_0x3cfa19,_0x3cbe1c)=>{const _0x27cf50=_0x1c170c;let _0x48a9e2=await this[_0x27cf50(0x596)]({'request':_0x3cfa19,'schema':si,'ClassRef':Qe,'execute':(_0x4b49c4,_0x39e739)=>D['updatePresence'](_0x4b49c4,_0x39e739)});return _0x3cbe1c['status'](0xc9)['json'](_0x48a9e2);})[_0x1c170c(0x2c2)](this[_0x1c170c(0x214)](_0x1c170c(0x61b)),..._0x4a989d,async(_0x2dbae6,_0x2f5ec6)=>{const _0x1f1a69=_0x1c170c;let _0x1c8cb8=await this['dataValidate']({'request':_0x2dbae6,'schema':Wa,'ClassRef':Ye,'execute':(_0x208f7f,_0xeff4ce)=>D[_0x1f1a69(0x679)](_0x208f7f,_0xeff4ce)});return _0x2f5ec6[_0x1f1a69(0x1b2)](0xc9)[_0x1f1a69(0x4e6)](_0x1c8cb8);})['post'](this[_0x1c170c(0x214)](_0x1c170c(0x369)),..._0x4a989d,async(_0x5899ee,_0x38e770)=>{const _0x229975=_0x1c170c;let _0x1b9b87=await this[_0x229975(0x596)]({'request':_0x5899ee,'schema':N,'ClassRef':M,'execute':(_0x56e323,_0x3d892e)=>D[_0x229975(0x369)](_0x56e323,_0x3d892e)});return _0x38e770[_0x229975(0x1b2)](0xc9)['json'](_0x1b9b87);})[_0x1c170c(0x78e)](this[_0x1c170c(0x214)]('markMessageAsRead'),..._0x4a989d,async(_0x53a0cc,_0x5020f4)=>{const _0x57c2df=_0x1c170c;let _0x50d32a=await this[_0x57c2df(0x596)]({'request':_0x53a0cc,'schema':za,'ClassRef':et,'execute':(_0x261cd7,_0x4d5bcd)=>D[_0x57c2df(0x438)](_0x261cd7,_0x4d5bcd)});return _0x5020f4[_0x57c2df(0x1b2)](0xc9)[_0x57c2df(0x4e6)](_0x50d32a);})[_0x1c170c(0x78e)](this['routerPath'](_0x1c170c(0x205)),..._0x4a989d,async(_0x2ed187,_0x401a45)=>{const _0x4012e6=_0x1c170c;let _0x419392=await this[_0x4012e6(0x596)]({'request':_0x2ed187,'schema':Ka,'ClassRef':tt,'execute':(_0x5f30d,_0x274c52)=>D[_0x4012e6(0x205)](_0x5f30d,_0x274c52)});return _0x401a45['status'](0xc9)[_0x4012e6(0x4e6)](_0x419392);})[_0x1c170c(0x5cd)](this[_0x1c170c(0x214)]('deleteMessageForEveryone'),..._0x4a989d,async(_0x4ef6f0,_0x476277)=>{const _0x219414=_0x1c170c;let _0x31cd86=await this[_0x219414(0x596)]({'request':_0x4ef6f0,'schema':Qa,'ClassRef':at,'execute':(_0x2c1466,_0x51545e)=>D[_0x219414(0x784)](_0x2c1466,_0x51545e)});return _0x476277[_0x219414(0x1b2)](0xc9)[_0x219414(0x4e6)](_0x31cd86);})['post'](this[_0x1c170c(0x214)](_0x1c170c(0x56a)),..._0x4a989d,async(_0x4ed5ef,_0x1cf758)=>{const _0x40caf4=_0x1c170c;let _0x44a343=await this[_0x40caf4(0x596)]({'request':_0x4ed5ef,'schema':Oe,'ClassRef':Te,'execute':(_0x338899,_0x55651f)=>D[_0x40caf4(0x37a)](_0x338899,_0x55651f)});return _0x1cf758[_0x40caf4(0x1b2)](0xc8)['json'](_0x44a343);})['post'](this[_0x1c170c(0x214)](_0x1c170c(0x7c4)),..._0x4a989d,async(_0x5e9cb2,_0x113056)=>{const _0x5ca734=_0x1c170c;let _0x3f9428=await this[_0x5ca734(0x596)]({'request':_0x5e9cb2,'schema':ei,'ClassRef':Te,'execute':(_0x87ab58,_0x1f2935)=>D[_0x5ca734(0x7c4)](_0x87ab58,_0x1f2935)});return _0x113056[_0x5ca734(0x1b2)](0xc8)['json'](_0x3f9428);})[_0x1c170c(0x2c2)](this[_0x1c170c(0x214)]('findContacts'),..._0x4a989d,async(_0x5c620d,_0x1f8b50)=>{const _0xe92ff6=_0x1c170c;let _0xad6dd5=await this[_0xe92ff6(0x596)]({'request':_0x5c620d,'schema':Ya,'ClassRef':ot,'execute':(_0x2ec286,_0x537cda)=>D[_0xe92ff6(0x72e)](_0x2ec286,_0x537cda)});return _0x1f8b50['status'](0xc8)[_0xe92ff6(0x4e6)](_0xad6dd5);})[_0x1c170c(0x2c2)](this[_0x1c170c(0x214)]('getBase64FromMediaMessage'),..._0x4a989d,async(_0x1fa2f7,_0xf1fff3)=>{const _0x136c5e=_0x1c170c;let _0xca4ce6=await this[_0x136c5e(0x596)]({'request':_0x1fa2f7,'schema':null,'ClassRef':Object,'execute':(_0x404ad5,_0x17bf58)=>D[_0x136c5e(0x187)](_0x404ad5,_0x17bf58)});return _0xf1fff3[_0x136c5e(0x1b2)](0xc9)[_0x136c5e(0x4e6)](_0xca4ce6);})[_0x1c170c(0x2c2)](this[_0x1c170c(0x214)]('findMessages'),..._0x4a989d,async(_0x2845a5,_0x17f436)=>{const _0x19f201=_0x1c170c;let _0x26986d=await this[_0x19f201(0x596)]({'request':_0x2845a5,'schema':ti,'ClassRef':He,'execute':(_0x55319e,_0x31dc10)=>D[_0x19f201(0x203)](_0x55319e,_0x31dc10)});return _0x17f436[_0x19f201(0x1b2)](0xc8)['json'](_0x26986d);})[_0x1c170c(0x5d8)](this[_0x1c170c(0x214)](_0x1c170c(0x698)),..._0x4a989d,async(_0x5c4463,_0x303f1c)=>{const _0x1932a6=_0x1c170c;let _0x3c9e00=await this['dataValidate']({'request':_0x5c4463,'schema':null,'ClassRef':M,'execute':_0x33aaeb=>D[_0x1932a6(0x74a)](_0x33aaeb)});return _0x303f1c[_0x1932a6(0x1b2)](0xc8)[_0x1932a6(0x4e6)](_0x3c9e00);})[_0x1c170c(0x5d8)](this[_0x1c170c(0x214)](_0x1c170c(0x14a)),..._0x4a989d,async(_0x291de7,_0x1d4073)=>{const _0x2ebb62=_0x1c170c;let _0x4b6f9e=await this[_0x2ebb62(0x596)]({'request':_0x291de7,'schema':null,'ClassRef':M,'execute':_0xd8ad55=>D[_0x2ebb62(0x571)](_0xd8ad55)});return _0x1d4073[_0x2ebb62(0x1b2)](0xc8)[_0x2ebb62(0x4e6)](_0x4b6f9e);})[_0x1c170c(0x78e)](this[_0x1c170c(0x214)]('importChats'),..._0x4a989d,async(_0xea2bbb,_0x3b4181)=>{const _0x5b8d5a=_0x1c170c;let _0xa76ba6=await this[_0x5b8d5a(0x596)]({'request':_0xea2bbb,'schema':null,'ClassRef':Array,'execute':(_0x382c4a,_0x463a2a)=>D[_0x5b8d5a(0x706)](_0x382c4a,_0x463a2a)});return _0x3b4181['status'](0xc8)[_0x5b8d5a(0x4e6)](_0xa76ba6);})['get'](this[_0x1c170c(0x214)]('fetchPrivacySettings'),..._0x4a989d,async(_0x1b232d,_0x54baaa)=>{const _0x3c5532=_0x1c170c;let _0x382a09=await this[_0x3c5532(0x596)]({'request':_0x1b232d,'schema':null,'ClassRef':M,'execute':_0x4e360c=>D[_0x3c5532(0x327)](_0x4e360c)});return _0x54baaa[_0x3c5532(0x1b2)](0xc8)[_0x3c5532(0x4e6)](_0x382a09);})[_0x1c170c(0x78e)](this['routerPath'](_0x1c170c(0x497)),..._0x4a989d,async(_0x587a2d,_0x14c779)=>{const _0x54c287=_0x1c170c;let _0x28dca5=await this['dataValidate']({'request':_0x587a2d,'schema':Ha,'ClassRef':st,'execute':(_0x440c83,_0x230c79)=>D['updatePrivacySettings'](_0x440c83,_0x230c79)});return _0x14c779[_0x54c287(0x1b2)](0xc9)[_0x54c287(0x4e6)](_0x28dca5);})[_0x1c170c(0x2c2)](this[_0x1c170c(0x214)](_0x1c170c(0x51c)),..._0x4a989d,async(_0x156c99,_0x4784cf)=>{const _0x5232b0=_0x1c170c;let _0x34dd0f=await this[_0x5232b0(0x596)]({'request':_0x156c99,'schema':Oe,'ClassRef':Ee,'execute':(_0x4bb5e3,_0xf51206)=>D[_0x5232b0(0x51c)](_0x4bb5e3,_0xf51206)});return _0x4784cf['status'](0xc8)[_0x5232b0(0x4e6)](_0x34dd0f);})['post'](this[_0x1c170c(0x214)](_0x1c170c(0x877)),..._0x4a989d,async(_0x2b2a17,_0x3fa145)=>{const _0x2c3607=_0x1c170c;let _0xc9914b=await this['dataValidate']({'request':_0x2b2a17,'schema':Xa,'ClassRef':Xe,'execute':(_0x3a175a,_0x9fc33a)=>D['updateProfileName'](_0x3a175a,_0x9fc33a)});return _0x3fa145[_0x2c3607(0x1b2)](0xc8)[_0x2c3607(0x4e6)](_0xc9914b);})[_0x1c170c(0x2c2)](this['routerPath'](_0x1c170c(0x7c7)),..._0x4a989d,async(_0x5868a2,_0xa43a08)=>{const _0x2cd193=_0x1c170c;let _0x521664=await this[_0x2cd193(0x596)]({'request':_0x5868a2,'schema':Za,'ClassRef':Ze,'execute':(_0x1b6abe,_0x237a73)=>D[_0x2cd193(0x7c7)](_0x1b6abe,_0x237a73)});return _0xa43a08[_0x2cd193(0x1b2)](0xc8)[_0x2cd193(0x4e6)](_0x521664);})[_0x1c170c(0x78e)](this[_0x1c170c(0x214)](_0x1c170c(0x2ec)),..._0x4a989d,async(_0x24b28e,_0x3a7de6)=>{const _0x59596b=_0x1c170c;let _0x8f6178=await this[_0x59596b(0x596)]({'request':_0x24b28e,'schema':Oe,'ClassRef':Ee,'execute':(_0x533712,_0x126c64)=>D[_0x59596b(0x2ec)](_0x533712,_0x126c64)});return _0x3a7de6['status'](0xc8)[_0x59596b(0x4e6)](_0x8f6178);})[_0x1c170c(0x5cd)](this[_0x1c170c(0x214)](_0x1c170c(0x71c)),..._0x4a989d,async(_0x4bc8d4,_0x38a066)=>{const _0x589a69=_0x1c170c;let _0x22f41f=await this[_0x589a69(0x596)]({'request':_0x4bc8d4,'schema':Oe,'ClassRef':Ee,'execute':(_0xaa9c5d,_0x59853d)=>D[_0x589a69(0x71c)](_0xaa9c5d,_0x59853d)});return _0x38a066[_0x589a69(0x1b2)](0xc8)[_0x589a69(0x4e6)](_0x22f41f);});}},hi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x3b57cb){const _0x406000=a0_0x3d18fe;super(),this['router']=(0x0,hi[_0x406000(0x137)])(),this['router']['post'](this[_0x406000(0x214)](_0x406000(0x1e7)),..._0x3b57cb,async(_0x21c8b4,_0x1ba68b)=>{const _0x6684fe=_0x406000;let _0x1d6a04=await this[_0x6684fe(0x596)]({'request':_0x21c8b4,'schema':ai,'ClassRef':lt,'execute':(_0x13caa3,_0x444f17)=>q[_0x6684fe(0x4b8)](_0x13caa3,_0x444f17)});_0x1ba68b[_0x6684fe(0x1b2)](0xc9)['json'](_0x1d6a04);})['put'](this[_0x406000(0x214)](_0x406000(0x3ab)),..._0x3b57cb,async(_0x44b93c,_0x1d54df)=>{const _0x33c560=_0x406000;let _0x31d700=await this['groupValidate']({'request':_0x44b93c,'schema':ri,'ClassRef':ut,'execute':(_0x168d14,_0x177555)=>q[_0x33c560(0x3ab)](_0x168d14,_0x177555)});_0x1d54df[_0x33c560(0x1b2)](0xc9)[_0x33c560(0x4e6)](_0x31d700);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x57e)),..._0x3b57cb,async(_0x24fbfd,_0x1cd142)=>{const _0x4ce2ba=_0x406000;let _0x1b1663=await this[_0x4ce2ba(0x235)]({'request':_0x24fbfd,'schema':ni,'ClassRef':dt,'execute':(_0x4c2862,_0x27f246)=>q[_0x4ce2ba(0x57e)](_0x4c2862,_0x27f246)});_0x1cd142[_0x4ce2ba(0x1b2)](0xc9)['json'](_0x1b1663);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x48a)),..._0x3b57cb,async(_0x555d71,_0x136d41)=>{const _0x3ce390=_0x406000;let _0x49ef38=await this[_0x3ce390(0x235)]({'request':_0x555d71,'schema':ci,'ClassRef':pt,'execute':(_0xf9bc90,_0xfd0485)=>q[_0x3ce390(0x48a)](_0xf9bc90,_0xfd0485)});_0x136d41['status'](0xc9)['json'](_0x49ef38);})[_0x406000(0x78e)](this['routerPath'](_0x406000(0x7ae)),..._0x3b57cb,async(_0x1ad333,_0x2ffb40)=>{const _0x53ab93=_0x406000;let _0x1ab563=await this[_0x53ab93(0x235)]({'request':_0x1ad333,'schema':ui,'ClassRef':gt,'execute':(_0x441128,_0x41918f)=>q[_0x53ab93(0x7ae)](_0x441128,_0x41918f)});_0x2ffb40[_0x53ab93(0x1b2)](0xc9)[_0x53ab93(0x4e6)](_0x1ab563);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x683)),..._0x3b57cb,async(_0x3a702d,_0x3afc7a)=>{const _0x1f6755=_0x406000;let _0x4f4dbb=await this[_0x1f6755(0x235)]({'request':_0x3a702d,'schema':li,'ClassRef':ht,'execute':(_0x4a674b,_0x335187)=>q['groupSetting'](_0x4a674b,_0x335187)});_0x3afc7a[_0x1f6755(0x1b2)](0xc9)[_0x1f6755(0x4e6)](_0x4f4dbb);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x62d)),..._0x3b57cb,async(_0x16d417,_0x357bcf)=>{const _0x4371db=_0x406000;let _0x468200=await this['groupValidate']({'request':_0x16d417,'schema':oi,'ClassRef':ft,'execute':(_0x553f3d,_0x178b46)=>q[_0x4371db(0x62d)](_0x553f3d,_0x178b46)});_0x357bcf[_0x4371db(0x1b2)](0xc9)[_0x4371db(0x4e6)](_0x468200);})['get'](this[_0x406000(0x214)](_0x406000(0x2cc)),..._0x3b57cb,async(_0x2a0443,_0x3b52a5)=>{const _0x48c3c6=_0x406000;let _0x44e49b=await this['groupValidate']({'request':_0x2a0443,'schema':xe,'ClassRef':te,'execute':(_0x587348,_0x364eb2)=>q[_0x48c3c6(0x7f1)](_0x587348,_0x364eb2)});_0x3b52a5['status'](0xc8)[_0x48c3c6(0x4e6)](_0x44e49b);})['get'](this['routerPath']('findGroups'),..._0x3b57cb,async(_0x44b0f6,_0x40e481)=>{const _0x2a3f9a=_0x406000;let _0x364b2e=await this[_0x2a3f9a(0x596)]({'request':_0x44b0f6,'schema':N,'ClassRef':M,'execute':_0x4a1d02=>q[_0x2a3f9a(0x865)](_0x4a1d02)});_0x40e481[_0x2a3f9a(0x1b2)](0xc8)[_0x2a3f9a(0x4e6)](_0x364b2e);})[_0x406000(0x5d8)](this['routerPath'](_0x406000(0x2b2)),..._0x3b57cb,async(_0x346546,_0x201684)=>{const _0x556178=_0x406000;let _0x4fe4f1=await this[_0x556178(0x235)]({'request':_0x346546,'schema':xe,'ClassRef':te,'execute':(_0xc720dc,_0x4f6130)=>q[_0x556178(0x5fd)](_0xc720dc,_0x4f6130)});_0x201684['status'](0xc8)[_0x556178(0x4e6)](_0x4fe4f1);})[_0x406000(0x5d8)](this[_0x406000(0x214)](_0x406000(0x620)),..._0x3b57cb,async(_0x222ab5,_0x305a22)=>{const _0x99e464=_0x406000;let _0x514fed=await this['groupValidate']({'request':_0x222ab5,'schema':xe,'ClassRef':te,'execute':(_0x4dd5bd,_0x401ffb)=>q[_0x99e464(0x620)](_0x4dd5bd,_0x401ffb)});_0x305a22[_0x99e464(0x1b2)](0xc8)[_0x99e464(0x4e6)](_0x514fed);})[_0x406000(0x2c2)](this['routerPath'](_0x406000(0x860)),..._0x3b57cb,async(_0x2ca1ec,_0x4ec966)=>{const _0x385f4b=_0x406000;let _0x241f07=await this[_0x385f4b(0x42d)]({'request':_0x2ca1ec,'schema':Ns,'ClassRef':Pe,'execute':(_0x19f86c,_0x486e06)=>q['groupGetInviteInfo'](_0x19f86c,_0x486e06)});_0x4ec966[_0x385f4b(0x1b2)](0xc9)[_0x385f4b(0x4e6)](_0x241f07);})[_0x406000(0x78e)](this['routerPath']('joinGroup'),..._0x3b57cb,async(_0x459784,_0xddef8f)=>{const _0x14729a=_0x406000;let _0x3b64e0=await this[_0x14729a(0x42d)]({'request':_0x459784,'schema':Ns,'ClassRef':Pe,'execute':(_0x246b4f,_0x292026)=>q['joinGroup'](_0x246b4f,_0x292026)});_0xddef8f[_0x14729a(0x1b2)](0xc9)[_0x14729a(0x4e6)](_0x3b64e0);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x764)),..._0x3b57cb,async(_0x10a9c0,_0x476e5c)=>{const _0x140a3b=_0x406000;let _0x1f796d=await this['groupValidate']({'request':_0x10a9c0,'schema':xe,'ClassRef':te,'execute':(_0x468da8,_0x2f6484)=>q[_0x140a3b(0x764)](_0x468da8,_0x2f6484)});_0x476e5c['status'](0xc9)[_0x140a3b(0x4e6)](_0x1f796d);})[_0x406000(0x78e)](this[_0x406000(0x214)](_0x406000(0x4bf)),..._0x3b57cb,async(_0x54dbc0,_0x450cdb)=>{const _0x3a5762=_0x406000;let _0xf77661=await this[_0x3a5762(0x235)]({'request':_0x54dbc0,'schema':ii,'ClassRef':mt,'execute':(_0x643256,_0x50054f)=>q[_0x3a5762(0x365)](_0x643256,_0x50054f)});_0x450cdb[_0x3a5762(0x1b2)](0xc9)['json'](_0xf77661);})[_0x406000(0x5cd)](this[_0x406000(0x214)](_0x406000(0x4c2)),..._0x3b57cb,async(_0x338b2d,_0x259d7a)=>{const _0xc64fb5=_0x406000;let _0x10ea9c=await this[_0xc64fb5(0x235)]({'request':_0x338b2d,'schema':{},'ClassRef':te,'execute':(_0x4611ca,_0x1c1d8d)=>q['leaveGroup'](_0x4611ca,_0x1c1d8d)});_0x259d7a['status'](0xc8)[_0xc64fb5(0x4e6)](_0x10ea9c);});}},gi=require(a0_0x3d18fe(0x202)),yt=class extends V{constructor(_0x5a9dd0,..._0x36b7d6){const _0xcf4c69=a0_0x3d18fe;super(),this['configService']=_0x5a9dd0,this[_0xcf4c69(0x63b)]=(0x0,gi['Router'])();let _0x82481b=_0x5a9dd0[_0xcf4c69(0x5d8)]('AUTHENTICATION');this[_0xcf4c69(0x63b)][_0xcf4c69(0x2c2)](_0xcf4c69(0x3d0),..._0x36b7d6,async(_0xe57988,_0x467373)=>{const _0x76201b=_0xcf4c69;let {instanceName:_0x78d38,apikey:_0x2012e3,number:_0x6ded17}=_0xe57988[_0x76201b(0x51d)],_0x149322=await de['createInstance']({'instanceName':_0x78d38,'apikey':_0x2012e3,'number':_0x6ded17});return _0x467373['status'](0xc9)[_0x76201b(0x4e6)](_0x149322);})[_0xcf4c69(0x78e)](this[_0xcf4c69(0x214)](_0xcf4c69(0x5d4)),..._0x36b7d6,async(_0x39b2cb,_0x6f3bff)=>{const _0x3ba573=_0xcf4c69;let _0x48f400=await this[_0x3ba573(0x596)]({'request':_0x39b2cb,'schema':N,'ClassRef':M,'execute':_0x56c1d3=>de[_0x3ba573(0x131)](_0x56c1d3)});return _0x6f3bff[_0x3ba573(0x1b2)](0xc8)[_0x3ba573(0x4e6)](_0x48f400);})['get'](this[_0xcf4c69(0x214)]('connect'),..._0x36b7d6,async(_0x56ea58,_0x359f24)=>{const _0x4cdbdc=_0xcf4c69;let _0x2fbb4c=await this['dataValidate']({'request':_0x56ea58,'schema':N,'ClassRef':M,'execute':_0x3ec35b=>de[_0x4cdbdc(0x164)](_0x3ec35b)});return _0x359f24[_0x4cdbdc(0x1b2)](0xc8)[_0x4cdbdc(0x4e6)](_0x2fbb4c);})[_0xcf4c69(0x5d8)](this[_0xcf4c69(0x214)](_0xcf4c69(0x690)),..._0x36b7d6,async(_0x23a84d,_0x5950b7)=>{const _0x8ef65d=_0xcf4c69;let _0x460bf7=await this['dataValidate']({'request':_0x23a84d,'schema':N,'ClassRef':M,'execute':_0x41e45c=>de[_0x8ef65d(0x690)](_0x41e45c)});return _0x5950b7[_0x8ef65d(0x1b2)](0xc8)[_0x8ef65d(0x4e6)](_0x460bf7);})[_0xcf4c69(0x5d8)](this[_0xcf4c69(0x214)](_0xcf4c69(0x3bb),!0x1),..._0x36b7d6,async(_0x151c18,_0x1db517)=>{const _0x4d0082=_0xcf4c69;let _0x4ab565=await this[_0x4d0082(0x596)]({'request':_0x151c18,'schema':null,'ClassRef':M,'execute':_0x205efb=>de[_0x4d0082(0x3bb)](_0x205efb)});return _0x1db517[_0x4d0082(0x1b2)](0xc8)[_0x4d0082(0x4e6)](_0x4ab565);})[_0xcf4c69(0x5cd)](this[_0xcf4c69(0x214)](_0xcf4c69(0x59e)),..._0x36b7d6,async(_0x4aff0a,_0x40c289)=>{const _0x40874a=_0xcf4c69;let _0x2194cd=await this['dataValidate']({'request':_0x4aff0a,'schema':N,'ClassRef':M,'execute':_0x3e0157=>de[_0x40874a(0x59e)](_0x3e0157)});return _0x40c289[_0x40874a(0x1b2)](0xc8)[_0x40874a(0x4e6)](_0x2194cd);})['delete'](this[_0xcf4c69(0x214)]('delete'),..._0x36b7d6,async(_0x5c9817,_0x4d6eab)=>{const _0x162292=_0xcf4c69;let _0x2eb661=await this['dataValidate']({'request':_0x5c9817,'schema':N,'ClassRef':M,'execute':_0x1b9ad7=>de['deleteInstance'](_0x1b9ad7)});return _0x4d6eab[_0x162292(0x1b2)](0xc8)[_0x162292(0x4e6)](_0x2eb661);});}},mi=require(a0_0x3d18fe(0x202)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x492211){const _0xe1787f=a0_0x3d18fe;super(),this[_0xe1787f(0x63b)]=(0x0,mi[_0xe1787f(0x137)])(),this[_0xe1787f(0x63b)][_0xe1787f(0x2c2)](this['routerPath']('sendText'),..._0x492211,async(_0x1be6cd,_0x5667c9)=>{const _0x4d49d7=_0xe1787f;let _0x479624=await this[_0x4d49d7(0x596)]({'request':_0x1be6cd,'schema':Pa,'ClassRef':bt,'execute':(_0x3d9636,_0x43fc30)=>W['sendText'](_0x3d9636,_0x43fc30)});return _0x5667c9[_0x4d49d7(0x1b2)](0xc9)[_0x4d49d7(0x4e6)](_0x479624);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)]('sendMedia'),..._0x492211,async(_0x2eb8c3,_0x24eed7)=>{const _0x3a3ae2=_0xe1787f;let _0x299ce4=await this['dataValidate']({'request':_0x2eb8c3,'schema':Fa,'ClassRef':De,'execute':(_0x1123e3,_0xc68d36)=>W[_0x3a3ae2(0x284)](_0x1123e3,_0xc68d36)});return _0x24eed7[_0x3a3ae2(0x1b2)](0xc9)[_0x3a3ae2(0x4e6)](_0x299ce4);})['post'](this['routerPath'](_0xe1787f(0x45c)),..._0x492211,async(_0x1319cc,_0x5c4798)=>{const _0x3e4258=_0xe1787f;let _0x5cc975=await this[_0x3e4258(0x596)]({'request':_0x1319cc,'schema':Ja,'ClassRef':Ct,'execute':(_0xb15d9e,_0x1b1720)=>W[_0x3e4258(0x45c)](_0xb15d9e,_0x1b1720)});return _0x5c4798['status'](0xc9)[_0x3e4258(0x4e6)](_0x5cc975);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)](_0xe1787f(0x7cf)),..._0x492211,async(_0x3d2c38,_0x3e70f6)=>{const _0x40833d=_0xe1787f;let _0x11b7f6=await this[_0x40833d(0x596)]({'request':_0x3d2c38,'schema':Ua,'ClassRef':De,'execute':(_0x219b5b,_0x3e6651)=>W[_0x40833d(0x7cf)](_0x219b5b,_0x3e6651)});return _0x3e70f6[_0x40833d(0x1b2)](0xc9)['json'](_0x11b7f6);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)](_0xe1787f(0x757)),..._0x492211,async(_0x4dc1bd,_0x4e48d5)=>{const _0x3e74a5=_0xe1787f;let _0x7a51f6=await this['dataValidate']({'request':_0x4dc1bd,'schema':qa,'ClassRef':vt,'execute':(_0x21cb53,_0x5ce708)=>W[_0x3e74a5(0x757)](_0x21cb53,_0x5ce708)});return _0x4e48d5['status'](0xc9)[_0x3e74a5(0x4e6)](_0x7a51f6);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)](_0xe1787f(0x139)),..._0x492211,async(_0x57345b,_0x21e8af)=>{const _0x2084c6=_0xe1787f;let _0x4665dc=await this[_0x2084c6(0x596)]({'request':_0x57345b,'schema':Va,'ClassRef':Nt,'execute':(_0x1f5185,_0x1eb03e)=>W[_0x2084c6(0x139)](_0x1f5185,_0x1eb03e)});return _0x21e8af[_0x2084c6(0x1b2)](0xc9)[_0x2084c6(0x4e6)](_0x4665dc);})[_0xe1787f(0x2c2)](this['routerPath'](_0xe1787f(0x7c3)),..._0x492211,async(_0x12f411,_0x49a7a3)=>{const _0x41fda6=_0xe1787f;let _0x346874=await this[_0x41fda6(0x596)]({'request':_0x12f411,'schema':Ga,'ClassRef':$t,'execute':(_0x34ee70,_0x1ddfec)=>W[_0x41fda6(0x7c3)](_0x34ee70,_0x1ddfec)});return _0x49a7a3[_0x41fda6(0x1b2)](0xc9)[_0x41fda6(0x4e6)](_0x346874);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)]('sendReaction'),..._0x492211,async(_0x728db6,_0x4e4c1c)=>{const _0x7de6f1=_0xe1787f;let _0x3ed50c=await this[_0x7de6f1(0x596)]({'request':_0x728db6,'schema':Ba,'ClassRef':Rt,'execute':(_0x9cf7f1,_0x2b7936)=>W['sendReaction'](_0x9cf7f1,_0x2b7936)});return _0x4e4c1c[_0x7de6f1(0x1b2)](0xc9)['json'](_0x3ed50c);})[_0xe1787f(0x2c2)](this['routerPath']('sendPoll'),..._0x492211,async(_0x20bf02,_0x2e9200)=>{const _0x17132b=_0xe1787f;let _0x42011a=await this['dataValidate']({'request':_0x20bf02,'schema':ja,'ClassRef':Mt,'execute':(_0x217197,_0xc8debf)=>W[_0x17132b(0x2e5)](_0x217197,_0xc8debf)});return _0x2e9200[_0x17132b(0x1b2)](0xc9)['json'](_0x42011a);})[_0xe1787f(0x2c2)](this[_0xe1787f(0x214)](_0xe1787f(0x7d0)),..._0x492211,async(_0x45790b,_0x558433)=>{const _0x5a2d61=_0xe1787f;let _0x453f24=await this[_0x5a2d61(0x596)]({'request':_0x45790b,'schema':La,'ClassRef':St,'execute':(_0x8063fd,_0x23b2f1)=>W[_0x5a2d61(0x7d0)](_0x8063fd,_0x23b2f1)});return _0x558433['status'](0xc9)[_0x5a2d61(0x4e6)](_0x453f24);})['post'](this[_0xe1787f(0x214)](_0xe1787f(0x63e)),..._0x492211,async(_0x4d6c29,_0x120992)=>{const _0x155666=_0xe1787f;let _0x4ede63=await this[_0x155666(0x596)]({'request':_0x4d6c29,'schema':ka,'ClassRef':Et,'execute':(_0x1404dd,_0x1c8c5a)=>W[_0x155666(0x63e)](_0x1404dd,_0x1c8c5a)});return _0x120992[_0x155666(0x1b2)](0xc9)[_0x155666(0x4e6)](_0x4ede63);});}},fi=require(a0_0x3d18fe(0x202)),It=class{},Tt=class extends V{constructor(..._0x8fd22a){const _0x5c65e2=a0_0x3d18fe;super(),this[_0x5c65e2(0x63b)]=(0x0,fi[_0x5c65e2(0x137)])(),this[_0x5c65e2(0x63b)][_0x5c65e2(0x2c2)](this[_0x5c65e2(0x214)](_0x5c65e2(0x3d8)),..._0x8fd22a,async(_0x178917,_0x2eb29c)=>{const _0x5d3d82=_0x5c65e2;let _0xb7a0d1=await this[_0x5d3d82(0x596)]({'request':_0x178917,'schema':di,'ClassRef':It,'execute':(_0x245a08,_0x19ed96)=>As[_0x5d3d82(0x225)](_0x245a08,_0x19ed96)});_0x2eb29c[_0x5d3d82(0x1b2)](0xc9)['json'](_0xb7a0d1);})['get'](this[_0x5c65e2(0x214)](_0x5c65e2(0x80c)),..._0x8fd22a,async(_0x49ce82,_0x479815)=>{const _0x11dad2=_0x5c65e2;let _0x4deda2=await this[_0x11dad2(0x596)]({'request':_0x49ce82,'schema':N,'ClassRef':M,'execute':_0x2b9a4a=>As[_0x11dad2(0x180)](_0x2b9a4a)});_0x479815[_0x11dad2(0x1b2)](0xc8)['json'](_0x4deda2);});}},wi=require(a0_0x3d18fe(0x202)),y=new $(a0_0x3d18fe(0x243)),_t=class extends V{constructor(..._0x8ebfcd){const _0x9951ad=a0_0x3d18fe;super(),this[_0x9951ad(0x63b)]=(0x0,wi['Router'])(),this[_0x9951ad(0x63b)][_0x9951ad(0x2c2)](this[_0x9951ad(0x214)]('scheduleMessage'),..._0x8ebfcd,async(_0x555fb6,_0x52375c)=>{const _0x28e111=_0x9951ad;let _0x5a832b=_0x555fb6[_0x28e111(0x51d)];y[_0x28e111(0x75e)](_0x28e111(0x15e)),y['verbose'](_0x28e111(0x2ad)),y[_0x28e111(0x75e)](_0x555fb6['body']);let _0x2a991b=await this[_0x28e111(0x596)]({'request':_0x555fb6,'schema':N,'ClassRef':M,'execute':_0x3905f7=>O[_0x28e111(0x709)](_0x3905f7,_0x5a832b)});_0x52375c[_0x28e111(0x1b2)](0xc8)[_0x28e111(0x4e6)](_0x2a991b);})[_0x9951ad(0x5d8)](this[_0x9951ad(0x214)](_0x9951ad(0x3a4)),..._0x8ebfcd,async(_0x1fb06a,_0x56a55e)=>{const _0x45780d=_0x9951ad;let _0x4b55bc=await this[_0x45780d(0x596)]({'request':_0x1fb06a,'schema':N,'ClassRef':M,'execute':_0x42fe9b=>O[_0x45780d(0x787)](_0x42fe9b)});_0x56a55e['status'](0xc8)[_0x45780d(0x4e6)](_0x4b55bc);})[_0x9951ad(0x5cd)](this[_0x9951ad(0x214)](_0x9951ad(0x553)),..._0x8ebfcd,async(_0x2ca165,_0x2d519e)=>{const _0x1d366b=_0x9951ad;y[_0x1d366b(0x75e)](_0x1d366b(0x220));let _0x1f8f55=await this['dataValidate']({'request':_0x2ca165,'schema':N,'ClassRef':M,'execute':_0x461ad8=>O['deleteDoneMessages'](_0x461ad8)});_0x2d519e['status'](0xc8)[_0x1d366b(0x4e6)](_0x1f8f55);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x744)),..._0x8ebfcd,async(_0x5ceabc,_0x28a40f)=>{const _0x529e8a=_0x9951ad;let _0x47d129=_0x5ceabc[_0x529e8a(0x51d)];y[_0x529e8a(0x75e)](_0x529e8a(0x813)),y[_0x529e8a(0x75e)](_0x529e8a(0x2ad)),y['verbose'](_0x5ceabc[_0x529e8a(0x51d)]);let _0x575ee2=await this['dataValidate']({'request':_0x5ceabc,'schema':N,'ClassRef':M,'execute':_0x169267=>O['startFlow'](_0x169267,_0x47d129)});_0x28a40f[_0x529e8a(0x1b2)](0xc8)['json'](_0x575ee2);})[_0x9951ad(0x5d8)](this[_0x9951ad(0x214)](_0x9951ad(0x81e)),..._0x8ebfcd,async(_0x50fba0,_0x258b30)=>{const _0x373624=_0x9951ad;y[_0x373624(0x75e)]('request\x20received\x20in\x20getAutomateSystem');let _0x45651e=await this['dataValidate']({'request':_0x50fba0,'schema':N,'ClassRef':M,'execute':_0x54687b=>O['getAutomateSystem'](_0x54687b)});_0x258b30[_0x373624(0x1b2)](0xc8)[_0x373624(0x4e6)](_0x45651e);})['get'](this['routerPath'](_0x9951ad(0x122)),..._0x8ebfcd,async(_0x3ec562,_0xf48e0)=>{const _0x3f2264=_0x9951ad;y['verbose'](_0x3f2264(0x263));let _0x8399ee=await this[_0x3f2264(0x596)]({'request':_0x3ec562,'schema':N,'ClassRef':M,'execute':_0x4eba3d=>O[_0x3f2264(0x81e)](_0x4eba3d)});_0xf48e0[_0x3f2264(0x1b2)](0xc8)['json'](_0x8399ee);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x17e)),..._0x8ebfcd,async(_0xa50968,_0x12bae0)=>{const _0x23f11e=_0x9951ad;let _0x262087=_0xa50968[_0x23f11e(0x51d)];y[_0x23f11e(0x75e)]('request\x20received\x20in\x20updateAgent'),y[_0x23f11e(0x75e)](_0x23f11e(0x2ad)),y[_0x23f11e(0x75e)](_0xa50968[_0x23f11e(0x51d)]);let _0x132466=await this[_0x23f11e(0x596)]({'request':_0xa50968,'schema':N,'ClassRef':M,'execute':_0x54f849=>O[_0x23f11e(0x17e)](_0x54f849,_0x262087)});_0x12bae0[_0x23f11e(0x1b2)](0xc8)[_0x23f11e(0x4e6)](_0x132466);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x84a)),..._0x8ebfcd,async(_0x608d6b,_0x2b70e4)=>{const _0x39b735=_0x9951ad;let _0xecf087=_0x608d6b['body'];y[_0x39b735(0x75e)](_0x39b735(0x32c)),y[_0x39b735(0x75e)](_0x39b735(0x2ad)),y[_0x39b735(0x75e)](_0x608d6b[_0x39b735(0x51d)]);let _0x1f92a9=await this['dataValidate']({'request':_0x608d6b,'schema':N,'ClassRef':M,'execute':_0x865938=>O[_0x39b735(0x84a)](_0x865938,_0xecf087)});_0x2b70e4[_0x39b735(0x1b2)](0xc8)[_0x39b735(0x4e6)](_0x1f92a9);})['post'](this['routerPath'](_0x9951ad(0x17c)),..._0x8ebfcd,async(_0x422cf6,_0x37aaf9)=>{const _0xb72782=_0x9951ad;let _0x51973d=_0x422cf6[_0xb72782(0x51d)];y[_0xb72782(0x75e)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0xb72782(0x75e)](_0xb72782(0x2ad)),y[_0xb72782(0x75e)](_0x422cf6[_0xb72782(0x51d)]);let _0x3b50de=await this['dataValidate']({'request':_0x422cf6,'schema':N,'ClassRef':M,'execute':_0x1ae738=>O[_0xb72782(0x17c)](_0x1ae738,_0x51973d)});_0x37aaf9[_0xb72782(0x1b2)](0xc8)[_0xb72782(0x4e6)](_0x3b50de);})[_0x9951ad(0x2c2)](this['routerPath'](_0x9951ad(0x680)),..._0x8ebfcd,async(_0x50a2f0,_0x1c9f7e)=>{const _0x228975=_0x9951ad;let _0x21716a=_0x50a2f0[_0x228975(0x51d)];y[_0x228975(0x75e)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x228975(0x75e)](_0x228975(0x2ad)),y[_0x228975(0x75e)](_0x50a2f0[_0x228975(0x51d)]);let _0x3fdffb=await this[_0x228975(0x596)]({'request':_0x50a2f0,'schema':N,'ClassRef':M,'execute':_0x4642fb=>O[_0x228975(0x680)](_0x4642fb,_0x21716a)});_0x1c9f7e['status'](0xc8)[_0x228975(0x4e6)](_0x3fdffb);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)]('getConversation'),..._0x8ebfcd,async(_0x4d7aee,_0x3ed16b)=>{const _0x39dccf=_0x9951ad;let _0x890ee8=_0x4d7aee[_0x39dccf(0x51d)];y[_0x39dccf(0x75e)]('request\x20received\x20in\x20getConversation'),y[_0x39dccf(0x75e)](_0x39dccf(0x2ad)),y[_0x39dccf(0x75e)](_0x4d7aee[_0x39dccf(0x51d)]);let _0x2cc092=await this[_0x39dccf(0x596)]({'request':_0x4d7aee,'schema':N,'ClassRef':M,'execute':_0x585f21=>O['getConversation'](_0x585f21,_0x890ee8)});_0x3ed16b['status'](0xc8)[_0x39dccf(0x4e6)](_0x2cc092);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x412)),..._0x8ebfcd,async(_0x3af08b,_0x1ce96e)=>{const _0x5a00ca=_0x9951ad;let _0x31b5f6=_0x3af08b['body'];y['verbose'](_0x5a00ca(0x745)),y[_0x5a00ca(0x75e)](_0x5a00ca(0x2ad)),y[_0x5a00ca(0x75e)](_0x3af08b[_0x5a00ca(0x51d)]);let _0xb72acc=await this[_0x5a00ca(0x596)]({'request':_0x3af08b,'schema':N,'ClassRef':M,'execute':_0x477400=>O[_0x5a00ca(0x412)](_0x477400,_0x31b5f6)});_0x1ce96e['status'](0xc8)['json'](_0xb72acc);})['post'](this[_0x9951ad(0x214)](_0x9951ad(0x3fc)),..._0x8ebfcd,async(_0x186775,_0xbc10dd)=>{const _0x22e4df=_0x9951ad;let _0x4cdf52=_0x186775[_0x22e4df(0x51d)];y['verbose'](_0x22e4df(0x887)),y[_0x22e4df(0x75e)](_0x22e4df(0x2ad)),y[_0x22e4df(0x75e)](_0x186775[_0x22e4df(0x51d)]);let _0x4eec3f=await this[_0x22e4df(0x596)]({'request':_0x186775,'schema':N,'ClassRef':M,'execute':_0x38dc73=>O[_0x22e4df(0x3fc)](_0x38dc73,_0x4cdf52)});_0xbc10dd[_0x22e4df(0x1b2)](0xc8)['json'](_0x4eec3f);})[_0x9951ad(0x5cd)](this[_0x9951ad(0x214)](_0x9951ad(0x702)),..._0x8ebfcd,async(_0x1e47ba,_0x35a7d8)=>{const _0x53e69d=_0x9951ad;let _0x205b6d=_0x1e47ba[_0x53e69d(0x51d)];y[_0x53e69d(0x75e)](_0x53e69d(0x439)),y['verbose'](_0x53e69d(0x2ad)),y[_0x53e69d(0x75e)](_0x1e47ba['body']);let _0x45e3d8=await this[_0x53e69d(0x596)]({'request':_0x1e47ba,'schema':N,'ClassRef':M,'execute':_0x52be7a=>O[_0x53e69d(0x702)](_0x52be7a,_0x205b6d)});_0x35a7d8[_0x53e69d(0x1b2)](0xc8)[_0x53e69d(0x4e6)](_0x45e3d8);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)]('createflow'),..._0x8ebfcd,async(_0x2e4202,_0x13871f)=>{const _0x4d539b=_0x9951ad;let _0x332deb=_0x2e4202[_0x4d539b(0x51d)],_0x49e02e=_0x2e4202[_0x4d539b(0x253)]['apikey'];y[_0x4d539b(0x75e)]('request\x20received\x20in\x20createFlow'),y[_0x4d539b(0x75e)]('request\x20body:\x20'),y[_0x4d539b(0x75e)](_0x2e4202[_0x4d539b(0x51d)]);let _0x1f510d=await this[_0x4d539b(0x596)]({'request':_0x2e4202,'schema':N,'ClassRef':M,'execute':_0x35b761=>O[_0x4d539b(0x4f4)](_0x35b761,_0x332deb,_0x49e02e)});_0x13871f['status'](0xc8)[_0x4d539b(0x4e6)](_0x1f510d);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x597)),..._0x8ebfcd,async(_0xd90af6,_0x1d1ae6)=>{const _0x12786f=_0x9951ad;let _0x215562=_0xd90af6[_0x12786f(0x51d)],_0x5bfb3d=_0xd90af6[_0x12786f(0x253)][_0x12786f(0x814)];y[_0x12786f(0x75e)](_0x12786f(0x524)),y[_0x12786f(0x75e)](_0x12786f(0x2ad)),y[_0x12786f(0x75e)](_0xd90af6[_0x12786f(0x51d)]),delete _0x215562[_0x12786f(0x30c)],delete _0x215562['variables'],delete _0x215562[_0x12786f(0x3e6)],delete _0x215562['conditions'];let _0x531c7d=await this['dataValidate']({'request':_0xd90af6,'schema':N,'ClassRef':M,'execute':_0x4ab0d2=>O[_0x12786f(0x604)](_0x4ab0d2,_0x215562,_0x5bfb3d)});_0x1d1ae6[_0x12786f(0x1b2)](0xc8)[_0x12786f(0x4e6)](_0x531c7d);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x88b)),..._0x8ebfcd,async(_0x11acb9,_0x2f58a2)=>{const _0x3c8387=_0x9951ad;let _0x4e1d01=_0x11acb9[_0x3c8387(0x51d)];y[_0x3c8387(0x75e)](_0x3c8387(0x524)),y[_0x3c8387(0x75e)](_0x3c8387(0x2ad)),y['verbose'](_0x11acb9[_0x3c8387(0x51d)]);let _0x361aa7=await this[_0x3c8387(0x596)]({'request':_0x11acb9,'schema':N,'ClassRef':M,'execute':_0xe28bb3=>O[_0x3c8387(0x7f4)](_0xe28bb3,_0x4e1d01)});_0x2f58a2[_0x3c8387(0x1b2)](0xc8)[_0x3c8387(0x4e6)](_0x361aa7);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x7e4)),..._0x8ebfcd,async(_0x1155ee,_0x20ab8c)=>{const _0x3372a6=_0x9951ad;let _0x10ac0f=_0x1155ee[_0x3372a6(0x51d)];y[_0x3372a6(0x75e)](_0x3372a6(0x524)),y[_0x3372a6(0x75e)](_0x3372a6(0x2ad)),y[_0x3372a6(0x75e)](_0x1155ee[_0x3372a6(0x51d)]);let _0x52d869=await this[_0x3372a6(0x596)]({'request':_0x1155ee,'schema':N,'ClassRef':M,'execute':_0x2bcde5=>O[_0x3372a6(0x3a2)](_0x2bcde5,_0x10ac0f)});_0x20ab8c[_0x3372a6(0x1b2)](0xc8)[_0x3372a6(0x4e6)](_0x52d869);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)]('editflowvaredit'),..._0x8ebfcd,async(_0x47fea3,_0xcc5ef4)=>{const _0x56026a=_0x9951ad;let _0x48eba8=_0x47fea3[_0x56026a(0x51d)];y[_0x56026a(0x75e)]('request\x20received\x20in\x20editFlow'),y[_0x56026a(0x75e)](_0x56026a(0x2ad)),y['verbose'](_0x47fea3[_0x56026a(0x51d)]);let _0x4f0200=await this[_0x56026a(0x596)]({'request':_0x47fea3,'schema':N,'ClassRef':M,'execute':_0x51a299=>O[_0x56026a(0x85b)](_0x51a299,_0x48eba8)});_0xcc5ef4[_0x56026a(0x1b2)](0xc8)[_0x56026a(0x4e6)](_0x4f0200);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x53b)),..._0x8ebfcd,async(_0x1c9fa9,_0xebc99d)=>{const _0x4e450c=_0x9951ad;let _0x19d637=_0x1c9fa9['body'];y[_0x4e450c(0x75e)](_0x4e450c(0x79e)),y['verbose'](_0x4e450c(0x2ad)),y['verbose'](_0x1c9fa9[_0x4e450c(0x51d)]);let _0x86a74a=await this['dataValidate']({'request':_0x1c9fa9,'schema':N,'ClassRef':M,'execute':_0x3d1c2e=>O[_0x4e450c(0x7c8)](_0x3d1c2e,_0x19d637)});_0xebc99d[_0x4e450c(0x1b2)](0xc8)['json'](_0x86a74a);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)]('editflowcondition'),..._0x8ebfcd,async(_0x13adad,_0x17e396)=>{const _0x496ad8=_0x9951ad;let _0x5f111b=_0x13adad[_0x496ad8(0x51d)];y[_0x496ad8(0x75e)](_0x496ad8(0x3eb)),y[_0x496ad8(0x75e)]('request\x20body:\x20'),y['verbose'](_0x13adad['body']);let _0x3812e0=await this[_0x496ad8(0x596)]({'request':_0x13adad,'schema':N,'ClassRef':M,'execute':_0x416a33=>O[_0x496ad8(0x3e3)](_0x416a33,_0x5f111b)});_0x17e396[_0x496ad8(0x1b2)](0xc8)[_0x496ad8(0x4e6)](_0x3812e0);})['post'](this[_0x9951ad(0x214)]('editflowvariable'),..._0x8ebfcd,async(_0x2ebdb5,_0x428d54)=>{const _0x5f392c=_0x9951ad;let _0x283736=_0x2ebdb5[_0x5f392c(0x51d)];y['verbose'](_0x5f392c(0x6fc)),y[_0x5f392c(0x75e)](_0x5f392c(0x2ad)),y[_0x5f392c(0x75e)](_0x2ebdb5[_0x5f392c(0x51d)]);let _0x5d9650=await this[_0x5f392c(0x596)]({'request':_0x2ebdb5,'schema':N,'ClassRef':M,'execute':_0x192b7a=>O[_0x5f392c(0x23c)](_0x192b7a,_0x283736)});_0x428d54[_0x5f392c(0x1b2)](0xc8)[_0x5f392c(0x4e6)](_0x5d9650);})[_0x9951ad(0x2c2)](this[_0x9951ad(0x214)](_0x9951ad(0x7e1)),..._0x8ebfcd,async(_0x560ac2,_0x2925b4)=>{const _0xf5c79=_0x9951ad;let _0x52f755=_0x560ac2['body'];y[_0xf5c79(0x75e)]('request\x20received\x20in\x20getFlow'),y[_0xf5c79(0x75e)](_0xf5c79(0x2ad)),y[_0xf5c79(0x75e)](_0x560ac2[_0xf5c79(0x51d)]);let _0x1e480a=await this[_0xf5c79(0x596)]({'request':_0x560ac2,'schema':N,'ClassRef':M,'execute':_0x4560df=>O[_0xf5c79(0x817)](_0x4560df,_0x52f755)});_0x2925b4[_0xf5c79(0x1b2)](0xc8)[_0xf5c79(0x4e6)](_0x1e480a);})[_0x9951ad(0x5cd)](this[_0x9951ad(0x214)](_0x9951ad(0x5df)),..._0x8ebfcd,async(_0xc79ead,_0x8e7933)=>{const _0x5731cb=_0x9951ad;let _0x2f6335=_0xc79ead[_0x5731cb(0x51d)];y[_0x5731cb(0x75e)](_0x5731cb(0x603)),y[_0x5731cb(0x75e)](_0x5731cb(0x2ad)),y[_0x5731cb(0x75e)](_0xc79ead[_0x5731cb(0x51d)]);let _0x1d6d44=await this['dataValidate']({'request':_0xc79ead,'schema':N,'ClassRef':M,'execute':_0x2dd4c2=>O[_0x5731cb(0x2b1)](_0x2dd4c2,_0x2f6335)});_0x8e7933[_0x5731cb(0x1b2)](0xc8)[_0x5731cb(0x4e6)](_0x1d6d44);})[_0x9951ad(0x5d8)](this['routerPath'](_0x9951ad(0x85c)),..._0x8ebfcd,async(_0x977a05,_0x486fb4)=>{const _0x27eb96=_0x9951ad;y[_0x27eb96(0x75e)](_0x27eb96(0x4cc));let _0x398f97=await this['dataValidate']({'request':_0x977a05,'schema':N,'ClassRef':M,'execute':_0x24de32=>O[_0x27eb96(0x1e9)](_0x24de32)});_0x486fb4['status'](0xc8)[_0x27eb96(0x4e6)](_0x398f97);});}},Mi=T(require(a0_0x3d18fe(0x5e3))),se={};function a0_0x4a95(_0x2fb113,_0x163981){const _0x4502d4=a0_0x4502();return a0_0x4a95=function(_0x4a95f4,_0x4ae4e7){_0x4a95f4=_0x4a95f4-0x122;let _0x482940=_0x4502d4[_0x4a95f4];return _0x482940;},a0_0x4a95(_0x2fb113,_0x163981);}function yi(_0x5bedf4,_0x5d0506,_0xa7735b,_0x4e029a){se[_0x5bedf4]||(se[_0x5bedf4]={}),se[_0x5bedf4][_0x5d0506]={'id':_0x5d0506,'response':_0xa7735b,'events':_0x4e029a};}function bi(_0x4d1328,_0x42e359){!se[_0x4d1328]||!se[_0x4d1328][_0x42e359]||delete se[_0x4d1328][_0x42e359];}function F(_0x55f3db,_0x25e4ed,_0x399723){const _0x1d4b3a=a0_0x3d18fe;if(!se[_0x55f3db])return;let _0x3b05a1=_0x1d4b3a(0x347)+JSON[_0x1d4b3a(0x6b1)](_0x399723)+'\x0a\x0a';Object['values'](se[_0x55f3db])['forEach'](_0x1e5e0f=>{const _0x3975b8=_0x1d4b3a;_0x1e5e0f[_0x3975b8(0x68d)][_0x3975b8(0x3f1)](_0x25e4ed)&&_0x1e5e0f['response'][_0x3975b8(0x42b)](_0x3b05a1);});}function Si(){const _0x27262e=a0_0x3d18fe;let _0x2e111a={};for(let _0x1efbac in se)_0x2e111a[_0x1efbac]=Object['values'](se[_0x1efbac])['map'](_0x1d4fa6=>({'id':_0x1d4fa6['id'],'events':_0x1d4fa6[_0x27262e(0x68d)]}));return _0x2e111a;}var Ci=require(a0_0x3d18fe(0x550)),Ts=require(a0_0x3d18fe(0x63f)),Is=class{},Io=new Ts['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts[(a0_0x3d18fe(0x357))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.[a0_0x3d18fe(0x3c4)](Is['name'],To,a0_0x3d18fe(0x6dc)),_o=Mi['default'][a0_0x3d18fe(0x6eb)](__dirname,a0_0x3d18fe(0x1c9)),ke=(0x0,Ot[a0_0x3d18fe(0x137)])(),Oo=S[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x138))[a0_0x3d18fe(0x69c)],re=[Aa,Ia,Oa[Oo]];ke['use'](a0_0x3d18fe(0x1cb),Ot[a0_0x3d18fe(0x62f)][a0_0x3d18fe(0x27f)](_o))[a0_0x3d18fe(0x5d8)]('/events/:instance',async(_0x8af567,_0x3ea8c2)=>{const _0x26201a=a0_0x3d18fe;console['log'](_0x26201a(0x2d8));let _0x3e5b9f=_0x8af567[_0x26201a(0x36b)][_0x26201a(0x7ed)],_0x5b8936=(_0x8af567[_0x26201a(0x305)]['events']||'')['split'](','),_0x193ebd=(0x0,Ci['v4'])();console[_0x26201a(0x4e7)](_0x26201a(0x448),_0x3e5b9f),console[_0x26201a(0x4e7)](_0x26201a(0x134),_0x5b8936);let _0x118513=S['get'](_0x26201a(0x138))[_0x26201a(0x660)],_0x2a1605=_0x8af567[_0x26201a(0x305)][_0x26201a(0x814)];if(console[_0x26201a(0x4e7)](_0x26201a(0x319),_0x2a1605),_0x118513['KEY']!==_0x2a1605){console[_0x26201a(0x4e7)]('env.KEY\x20!==\x20key');try{let _0x2f77fd=await fe['auth'][_0x26201a(0x80c)](_0x3e5b9f);if(console[_0x26201a(0x4e7)](_0x26201a(0x241),_0x2f77fd),!_0x2f77fd||_0x2f77fd[_0x26201a(0x814)]!==_0x2a1605)return console[_0x26201a(0x4e7)](_0x26201a(0x362)),_0x3ea8c2[_0x26201a(0x1b2)](0x191)[_0x26201a(0x473)](_0x26201a(0x4a0));}catch(_0x4189f8){return console[_0x26201a(0x4e8)](_0x26201a(0x32a),_0x4189f8),_0x3ea8c2['status'](0x191)['send'](_0x26201a(0x57b));}}if(!await _e(_0x3e5b9f))return _0x3ea8c2[_0x26201a(0x1b2)](0x194)[_0x26201a(0x473)](_0x26201a(0x692));_0x3ea8c2[_0x26201a(0x6ae)](_0x26201a(0x383),_0x26201a(0x3b7)),_0x3ea8c2['setHeader']('Cache-Control','no-cache'),_0x3ea8c2[_0x26201a(0x6ae)]('Connection',_0x26201a(0x4a6)),_0x3ea8c2[_0x26201a(0x4c4)]();let _0x251c3e=_0x26201a(0x347)+JSON['stringify']({'info':'Conexo\x20estabelecida'})+'\x0a\x0a';_0x3ea8c2['write'](_0x251c3e),yi(_0x3e5b9f,_0x193ebd,_0x3ea8c2,_0x5b8936),_0x8af567['on'](_0x26201a(0x349),()=>{const _0x5b84e3=_0x26201a;console[_0x5b84e3(0x4e7)](_0x5b84e3(0x6d9)+_0x3e5b9f),bi(_0x3e5b9f,_0x193ebd);});}),ke[a0_0x3d18fe(0x2c2)](a0_0x3d18fe(0x20c),async(_0x57bb22,_0x5099a6)=>{const _0xee26ce=a0_0x3d18fe;console[_0xee26ce(0x4e7)](_0xee26ce(0x36f));let _0x2efb3b=_0x57bb22[_0xee26ce(0x36b)][_0xee26ce(0x7ed)],_0x5c5de1=_0x57bb22[_0xee26ce(0x36b)][_0xee26ce(0x493)],_0x20d9dd=_0x57bb22[_0xee26ce(0x305)]['remoteJid']||'',_0x1c1261=_0x57bb22[_0xee26ce(0x51d)];console[_0xee26ce(0x4e7)](_0xee26ce(0x2c1),_0x2efb3b),console['log'](_0xee26ce(0x697),_0x5c5de1),console['log'](_0xee26ce(0x480),_0x20d9dd),console[_0xee26ce(0x4e7)]('Request\x20Body:',_0x1c1261);try{if(!await _e(_0x2efb3b))return _0x5099a6[_0xee26ce(0x1b2)](0x194)['send'](_0xee26ce(0x692));let _0x4b0d36=await O[_0xee26ce(0x4e2)](_0x2efb3b,_0x5c5de1,_0x20d9dd,_0x1c1261);_0x5099a6[_0xee26ce(0x473)](_0x4b0d36);}catch(_0xf46cad){console[_0xee26ce(0x4e8)](_0xf46cad),_0x5099a6[_0xee26ce(0x1b2)](0x1f4)['send']('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x4b9),(_0x119061,_0x3a4184)=>{const _0x7a2674=a0_0x3d18fe;let _0xda3ec1=Si();_0x3a4184[_0x7a2674(0x4e6)](_0xda3ec1);})[a0_0x3d18fe(0x5d8)]('/',(_0x2ad65b,_0x5cd4b4)=>{const _0x50e590=a0_0x3d18fe;let _0x424928=S[_0x50e590(0x5d8)](_0x50e590(0x2d0))[_0x50e590(0x6fe)];if(_0x424928){let _0x573e96=encodeURIComponent(''+_0x424928);_0x5cd4b4[_0x50e590(0x16a)](_0x50e590(0x771)+_0x573e96);return;}let _0x2b1b37=S[_0x50e590(0x5d8)]('SSL_CONF'),_0x44c0f8=_0x2b1b37&&_0x2b1b37[_0x50e590(0x854)][_0x50e590(0x74f)]('/')[0x4];if(_0x44c0f8){let _0x4c83a5=encodeURIComponent(_0x50e590(0x7de)+_0x44c0f8);_0x5cd4b4[_0x50e590(0x16a)](_0x50e590(0x771)+_0x4c83a5);}else _0x5cd4b4[_0x50e590(0x16a)](_0x50e590(0x47b));})[a0_0x3d18fe(0x78e)](a0_0x3d18fe(0x129),...re,async(_0x1b0049,_0x37f071)=>{const _0x45cee4=a0_0x3d18fe;try{console[_0x45cee4(0x4e7)](_0x45cee4(0x2d1)),_0x37f071[_0x45cee4(0x1b2)](0xc8)['json']({'message':_0x45cee4(0x7ef)}),_0x37f071['on'](_0x45cee4(0x79a),()=>process['exit'](0x0));}catch(_0x1d7e16){console['error'](_0x45cee4(0x6a7),_0x1d7e16),_0x37f071['status'](0x1f4)[_0x45cee4(0x4e6)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x3d18fe(0x78e)](a0_0x3d18fe(0x26c),...re,async(_0x487c9b,_0xd76a59)=>{const _0x164802=a0_0x3d18fe;try{let _0x919ea3=_0x487c9b[_0x164802(0x51d)];await ve[_0x164802(0x442)]({},{'$set':_0x919ea3},{'upsert':!0x0});let _0x45ac61=await ve[_0x164802(0x648)]();_0xd76a59[_0x164802(0x4e6)](_0x45ac61);}catch(_0x567fe7){_0xd76a59[_0x164802(0x1b2)](0x190)[_0x164802(0x473)](_0x567fe7[_0x164802(0x867)]);}})[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x26c),...re,async(_0x1b8961,_0x38c512)=>{const _0x3ab8a8=a0_0x3d18fe;try{let _0x56b4c0=await ve['findOne']();if(!_0x56b4c0)return _0x38c512['json']({});_0x38c512[_0x3ab8a8(0x4e6)](_0x56b4c0);}catch(_0x18d9c0){_0x38c512['status'](0x1f4)[_0x3ab8a8(0x473)](_0x18d9c0[_0x3ab8a8(0x867)]);}})[a0_0x3d18fe(0x2b7)](a0_0x3d18fe(0x669),new yt(S,...re)[a0_0x3d18fe(0x63b)])['use'](a0_0x3d18fe(0x1fa),new At(...re)[a0_0x3d18fe(0x63b)])[a0_0x3d18fe(0x2b7)](a0_0x3d18fe(0x50f),new ct(...re)[a0_0x3d18fe(0x63b)])[a0_0x3d18fe(0x2b7)](a0_0x3d18fe(0x40d),new wt(...re)['router'])[a0_0x3d18fe(0x2b7)](a0_0x3d18fe(0x785),new Tt(...re)[a0_0x3d18fe(0x63b)])[a0_0x3d18fe(0x2b7)](a0_0x3d18fe(0x7b4),new _t(...re)[a0_0x3d18fe(0x63b)]);var m=class{constructor(..._0x3b4c49){throw{'status':0x190,'error':'Bad\x20Request','message':_0x3b4c49['length']>0x0?_0x3b4c49:void 0x0};}},ie=class{constructor(..._0x24c7bd){const _0x1c0239=a0_0x3d18fe;throw{'status':0x191,'error':_0x1c0239(0x423),'message':_0x24c7bd[_0x1c0239(0x802)]>0x0?_0x24c7bd:void 0x0};}},Z=class{constructor(..._0x285d76){throw{'status':0x193,'error':'Forbidden','message':_0x285d76['length']>0x0?_0x285d76:void 0x0};}},U=class{constructor(..._0x2c8adb){const _0x5d0fe4=a0_0x3d18fe;throw{'status':0x194,'error':_0x5d0fe4(0x3cd),'message':_0x2c8adb['length']>0x0?_0x2c8adb:void 0x0};}},x=class{constructor(..._0x9020d2){const _0x13a4fb=a0_0x3d18fe;throw{'status':0x1f4,'error':_0x13a4fb(0x2b8),'message':_0x9020d2[_0x13a4fb(0x802)]>0x0?_0x9020d2:void 0x0};}},we=require(a0_0x3d18fe(0x634));async function _s(_0x53a905){const _0xe1f83d=a0_0x3d18fe;let _0x464ca8=new $(_s[_0xe1f83d(0x2f6)]),_0x50238a=I['getClient'](),_0x22e3bd=_0x50238a['db'](S['get']('DATABASE')[_0xe1f83d(0x306)][_0xe1f83d(0x686)]+_0xe1f83d(0x4a5))[_0xe1f83d(0x74d)](_0x53a905),_0x22564d=async(_0x3e7c5d,_0x5be6a9)=>{const _0x418261=_0xe1f83d;try{return await _0x50238a[_0x418261(0x2de)](),await _0x22e3bd[_0x418261(0x2c4)]({'_id':_0x5be6a9},JSON[_0x418261(0x78c)](JSON[_0x418261(0x6b1)](_0x3e7c5d,we[_0x418261(0x64e)][_0x418261(0x5e4)])),{'upsert':!0x0});}catch{}},_0x22fea3=async _0x329fc3=>{const _0x3cb027=_0xe1f83d;try{await _0x50238a[_0x3cb027(0x2de)]();let _0x3d7e94=await _0x22e3bd['findOne']({'_id':_0x329fc3}),_0x3f6f10=JSON['stringify'](_0x3d7e94);return JSON[_0x3cb027(0x78c)](_0x3f6f10,we[_0x3cb027(0x64e)][_0x3cb027(0x19f)]);}catch{}},_0x38644b=async _0x4c151b=>{const _0x423020=_0xe1f83d;try{return await _0x50238a[_0x423020(0x2de)](),await _0x22e3bd[_0x423020(0x4ac)]({'_id':_0x4c151b});}catch{}},_0x4daca2=await _0x22fea3('creds')||(0x0,we[_0xe1f83d(0x858)])();return{'state':{'creds':_0x4daca2,'keys':{'get':async(_0xd18c7b,_0x3626ef)=>{const _0x33c65f=_0xe1f83d;let _0x762685={};return await Promise[_0x33c65f(0x6e6)](_0x3626ef[_0x33c65f(0x82a)](async _0xc5e910=>{const _0x3bd342=_0x33c65f;let _0x38b5cf=await _0x22fea3(_0xd18c7b+'-'+_0xc5e910);_0xd18c7b==='app-state-sync-key'&&_0x38b5cf&&(_0x38b5cf=we[_0x3bd342(0x54a)][_0x3bd342(0x37b)]['AppStateSyncKeyData'][_0x3bd342(0x4d8)](_0x38b5cf)),_0x762685[_0xc5e910]=_0x38b5cf;})),_0x762685;},'set':async _0x3ef2cd=>{const _0x388962=_0xe1f83d;let _0x589e93=[];for(let _0x283de6 in _0x3ef2cd)for(let _0x464099 in _0x3ef2cd[_0x283de6]){let _0x38c8bb=_0x3ef2cd[_0x283de6][_0x464099],_0x561329=_0x283de6+'-'+_0x464099;_0x589e93['push'](_0x38c8bb?_0x22564d(_0x38c8bb,_0x561329):_0x38644b(_0x561329));}await Promise[_0x388962(0x6e6)](_0x589e93);}}},'saveCreds':async()=>_0x22564d(_0x4daca2,_0xe1f83d(0x5a9))};}var ks=T(require('long')),Ls=T(require(a0_0x3d18fe(0x627))),Dt=require(a0_0x3d18fe(0x634)),Ei=require(a0_0x3d18fe(0x7eb)),Pt=require(a0_0x3d18fe(0x634)),xt;function xo(_0x5315c1){const _0x1432c6=a0_0x3d18fe;return xt||(xt=(0x0,Ei[_0x1432c6(0x376)])({'url':_0x5315c1[_0x1432c6(0x58c)]}),xt[_0x1432c6(0x2de)]()),xt;}var pe=class u{constructor(_0x46fbea,_0x2b92a9){const _0x3dbb5e=a0_0x3d18fe;this[_0x3dbb5e(0x6ff)]=_0x46fbea,this[_0x3dbb5e(0x3b2)]=_0x2b92a9,this[_0x3dbb5e(0x53d)]=new $(u[_0x3dbb5e(0x2f6)]),this[_0x3dbb5e(0x880)]=xo(_0x46fbea);}set[a0_0x3d18fe(0x20d)](_0x36313c){const _0x1d1be9=a0_0x3d18fe;this[_0x1d1be9(0x3b2)]=_0x36313c;}async[a0_0x3d18fe(0x27d)](){const _0x374c12=a0_0x3d18fe;try{return await this[_0x374c12(0x880)][_0x374c12(0x67f)]([_0x374c12(0x551),this[_0x374c12(0x6ff)][_0x374c12(0x326)]+':*']);}catch(_0x565c09){this[_0x374c12(0x53d)][_0x374c12(0x4e8)](_0x565c09);}}async[a0_0x3d18fe(0x73e)](_0x5e7c56,_0x3133e0){const _0x1b438e=a0_0x3d18fe;try{let _0x1096d8=JSON[_0x1b438e(0x6b1)](_0x3133e0,Pt['BufferJSON'][_0x1b438e(0x5e4)]);return await this[_0x1b438e(0x880)][_0x1b438e(0x37e)](this[_0x1b438e(0x6ff)][_0x1b438e(0x326)]+':'+this['instanceName'],_0x5e7c56,_0x1096d8);}catch(_0x2dbed6){this['logger'][_0x1b438e(0x4e8)](_0x2dbed6);}}async[a0_0x3d18fe(0x777)](){const _0x331c90=a0_0x3d18fe;try{let _0x42698d=await this[_0x331c90(0x880)][_0x331c90(0x1f0)](this[_0x331c90(0x6ff)][_0x331c90(0x326)]+':'+this[_0x331c90(0x3b2)]);if(_0x42698d){for(let _0x3bfa2e in _0x42698d)Object[_0x331c90(0x410)][_0x331c90(0x5ec)][_0x331c90(0x2a5)](_0x42698d,_0x3bfa2e)&&(_0x42698d[_0x3bfa2e]=JSON[_0x331c90(0x78c)](_0x42698d[_0x3bfa2e],Pt[_0x331c90(0x64e)]['reviver']));return _0x42698d;}}catch(_0xbe39ba){this[_0x331c90(0x53d)][_0x331c90(0x4e8)](_0xbe39ba);}}async['readData'](_0x2484ec){const _0x192d03=a0_0x3d18fe;try{let _0x2b55cd=await this['client']['hGet'](this[_0x192d03(0x6ff)][_0x192d03(0x326)]+':'+this[_0x192d03(0x3b2)],_0x2484ec);if(_0x2b55cd)return JSON[_0x192d03(0x78c)](_0x2b55cd,Pt[_0x192d03(0x64e)][_0x192d03(0x19f)]);}catch(_0xadd514){this[_0x192d03(0x53d)][_0x192d03(0x4e8)](_0xadd514);}}async[a0_0x3d18fe(0x7ab)](_0x3c5966){const _0x2087bc=a0_0x3d18fe;try{return await this[_0x2087bc(0x880)][_0x2087bc(0x449)](this[_0x2087bc(0x6ff)][_0x2087bc(0x326)]+':'+this[_0x2087bc(0x3b2)],_0x3c5966);}catch(_0x178660){this[_0x2087bc(0x53d)][_0x2087bc(0x4e8)](_0x178660);}}async['delAll'](_0x2ebf52){const _0x2133ca=a0_0x3d18fe;try{return await this['client']['del'](_0x2ebf52||this[_0x2133ca(0x6ff)][_0x2133ca(0x326)]+':'+this[_0x2133ca(0x3b2)]);}catch(_0x426dd6){this[_0x2133ca(0x53d)][_0x2133ca(0x4e8)](_0x426dd6);}}};async function Os(_0x447cb0,_0x3e3026){const _0x2df63c=a0_0x3d18fe;let _0x1a18b7=new $(Os['name']),_0x307651=new pe(_0x447cb0,_0x3e3026),_0x24a0a3=async(_0xcc2194,_0x3e055a)=>{const _0x5d220b=a0_0x4a95;try{return await _0x307651[_0x5d220b(0x73e)](_0x3e055a,_0xcc2194);}catch(_0x2d8ce8){return _0x1a18b7[_0x5d220b(0x4e8)]({'localError':'writeData','error':_0x2d8ce8});}},_0x3a2666=async _0xf140c8=>{const _0x31519c=a0_0x4a95;try{return await _0x307651[_0x31519c(0x1ac)](_0xf140c8);}catch(_0x32b1b6){_0x1a18b7[_0x31519c(0x4e8)]({'readData':_0x31519c(0x73e),'error':_0x32b1b6});return;}},_0x8a2260=async _0x5f53f3=>{const _0x4bf75a=a0_0x4a95;try{return await _0x307651['removeData'](_0x5f53f3);}catch(_0x548886){_0x1a18b7[_0x4bf75a(0x4e8)]({'readData':_0x4bf75a(0x7ab),'error':_0x548886});}},_0x3ae58e=await _0x3a2666(_0x2df63c(0x5a9))||(0x0,Dt[_0x2df63c(0x858)])();return{'state':{'creds':_0x3ae58e,'keys':{'get':async(_0x15f7c5,_0x521500)=>{const _0x4afb05=_0x2df63c;let _0x3f85d6={};return await Promise[_0x4afb05(0x6e6)](_0x521500['map'](async _0x1549b4=>{const _0x4d4ef8=_0x4afb05;let _0x5b7221=await _0x3a2666(_0x15f7c5+'-'+_0x1549b4);_0x15f7c5==='app-state-sync-key'&&_0x5b7221&&(_0x5b7221=Dt[_0x4d4ef8(0x54a)][_0x4d4ef8(0x37b)][_0x4d4ef8(0x2cb)][_0x4d4ef8(0x4d8)](_0x5b7221)),_0x3f85d6[_0x1549b4]=_0x5b7221;})),_0x3f85d6;},'set':async _0x261b7b=>{const _0x376a51=_0x2df63c;let _0x5d46c2=[];for(let _0x231a66 in _0x261b7b)for(let _0x5a5274 in _0x261b7b[_0x231a66]){let _0x37aecd=_0x261b7b[_0x231a66][_0x5a5274],_0x487c51=_0x231a66+'-'+_0x5a5274;_0x5d46c2['push'](_0x37aecd?await _0x24a0a3(_0x37aecd,_0x487c51):await _0x8a2260(_0x487c51));}await Promise[_0x376a51(0x6e6)](_0x5d46c2);}}},'saveCreds':async()=>await _0x24a0a3(_0x3ae58e,_0x2df63c(0x5a9))};}var k=T(require('fs')),Y=require(a0_0x3d18fe(0x550)),Ut=T(require('sharp')),ne=require('crypto'),vi=require(a0_0x3d18fe(0x255)),Ni=require(a0_0x3d18fe(0x315)),$i=T(require(a0_0x3d18fe(0x5fb))),Ne=class extends _{constructor(_0x4885ba,_0xa6146c,_0x343f5f){const _0x31b25e=a0_0x3d18fe;super(_0xa6146c),this['cacheInstanceModel']=_0x4885ba,this[_0x31b25e(0x599)]=_0xa6146c,this[_0x31b25e(0x781)]=_0x343f5f;}async['createOrUpdate'](_0x54d50a,_0x2f03c4){const _0x104188=a0_0x3d18fe;try{if(this['dbSettings']['ENABLED']){console[_0x104188(0x4e7)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x2f03c4+'\x20and\x20data:',_0x54d50a);let _0xde6809=await this[_0x104188(0x5ee)][_0x104188(0x456)]({'_id':_0x2f03c4},{'$set':_0x54d50a},{'new':!0x0,'upsert':!0x0});return console['log'](_0x104188(0x340),_0xde6809),_0xde6809;}}catch(_0x289de4){throw console[_0x104188(0x4e8)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x289de4),_0x289de4;}return null;}async[a0_0x3d18fe(0x4ac)](_0x3a70a2){const _0x17baaa=a0_0x3d18fe;try{let _0x2c9884=A(_0x3a70a2[_0x17baaa(0x295)]);return{'deletedCount':(await this[_0x17baaa(0x5ee)][_0x17baaa(0x4ac)](_0x2c9884))['deletedCount']};}catch(_0xb24fa4){return{'error':_0xb24fa4?.[_0x17baaa(0x444)]()};}}async['findOne'](_0x10b260){const _0x2202f0=a0_0x3d18fe;try{let _0x25b316=A(_0x10b260['where']);return await this['cacheInstanceModel'][_0x2202f0(0x648)](_0x25b316)[_0x2202f0(0x66e)]();}catch{return null;}}},kt=(0x0,Ni[a0_0x3d18fe(0x73d)])(vi['exec']),Po=S[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x1a8)),xs=class{constructor(){const _0x331326=a0_0x3d18fe;this[_0x331326(0x43c)]=new Ne(Be,S),(!this[_0x331326(0x719)]||!this[_0x331326(0x391)])&&Po&&this[_0x331326(0x182)]()[_0x331326(0x3c5)](()=>{const _0x3bbf2c=_0x331326;console[_0x3bbf2c(0x4e7)](_0x3bbf2c(0x6f1)+this[_0x3bbf2c(0x719)]),console['log'](_0x3bbf2c(0x4be)+this[_0x3bbf2c(0x391)]);})[_0x331326(0x4bc)](_0x3a312e=>{const _0x2ff74e=_0x331326;console[_0x2ff74e(0x4e8)](_0x2ff74e(0x6f0)+_0x3a312e[_0x2ff74e(0x867)]);});}async[a0_0x3d18fe(0x182)](){const _0x382767=a0_0x3d18fe;try{let {stdout:_0x376857}=await kt(_0x382767(0x7e7));console[_0x382767(0x4e7)](_0x382767(0x780)+_0x376857);let _0x5aae8e=_0x376857[_0x382767(0x74f)]('\x0a')[_0x382767(0x82a)](_0x47adcf=>_0x47adcf['split']('\x20')[0x0])[_0x382767(0x836)](_0x4f974e=>!_0x4f974e['includes']('lo')&&!_0x4f974e[_0x382767(0x3f1)](_0x382767(0x29f))&&!_0x4f974e[_0x382767(0x3f1)]('vir')&&!_0x4f974e[_0x382767(0x3f1)]('wl')&&!_0x4f974e[_0x382767(0x3f1)]('@'));if(console['log'](_0x382767(0x895)+_0x5aae8e),_0x5aae8e[_0x382767(0x802)]===0x0)throw new Error(_0x382767(0x528));this[_0x382767(0x391)]=_0x5aae8e[0x0];let {stdout:_0x17cb03}=await kt('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console['log'](_0x382767(0x790)+_0x17cb03);let _0x2b4004=_0x17cb03[_0x382767(0x74f)]('\x0a')[_0x382767(0x80c)](_0x40e385=>_0x40e385[_0x382767(0x3f1)](_0x382767(0x598))&&_0x40e385['includes'](_0x382767(0x24f)));if(!_0x2b4004)throw new Error(_0x382767(0x1a0));let _0x13bca4=_0x2b4004[_0x382767(0x750)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x13bca4)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x35a2bc,_0x47d234,_0x16d3e7]=_0x13bca4,_0x1832f2=Math[_0x382767(0x5dc)](Number(_0x16d3e7)/0x10),_0x5a4a7a=Number(_0x16d3e7)%0x10,_0x2a06f5=_0x47d234[_0x382767(0x74f)](':')[_0x382767(0x8ad)](0x0,_0x1832f2)[_0x382767(0x6eb)](':');if(_0x5a4a7a>0x0){let _0x20df31=_0x47d234['split'](':')[_0x1832f2],_0x31ea01=0xffff<<0x10-_0x5a4a7a&0xffff,_0x291722=(parseInt(_0x20df31,0x10)&_0x31ea01)[_0x382767(0x444)](0x10)[_0x382767(0x62a)](0x4,'0');_0x2a06f5+=':'+_0x291722;}this['ipv6Prefix']=_0x2a06f5+':';}catch(_0x2e8419){console[_0x382767(0x4e8)](_0x382767(0x2a0),_0x2e8419);}}async[a0_0x3d18fe(0x503)](_0x3143b9){const _0x31b392=a0_0x3d18fe;let _0x4a4a0f='ip\x20-6\x20addr\x20add\x20'+_0x3143b9+_0x31b392(0x839)+this[_0x31b392(0x391)];try{await kt(_0x4a4a0f),console[_0x31b392(0x4e7)](_0x31b392(0x71a)+_0x3143b9);}catch(_0x53d587){console[_0x31b392(0x4e8)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x53d587);}}async[a0_0x3d18fe(0x13b)](_0x5125c2){const _0x5c9d75=a0_0x3d18fe;let _0xd29dd0=_0x5c9d75(0x521)+_0x5125c2+'/64\x20dev\x20'+this[_0x5c9d75(0x391)];try{await kt(_0xd29dd0),console[_0x5c9d75(0x4e7)]('IPv6\x20address\x20removed:\x20'+_0x5125c2);}catch(_0x54a208){console[_0x5c9d75(0x4e8)](_0x5c9d75(0x73c)+_0x54a208);}}[a0_0x3d18fe(0x152)](){const _0x58ad64=a0_0x3d18fe;return'XX:XX:XX:XX:XX:XX'[_0x58ad64(0x5e7)](/X/g,()=>_0x58ad64(0x62e)[_0x58ad64(0x759)](Math['floor'](Math[_0x58ad64(0x283)]()*0x10)));}[a0_0x3d18fe(0x19c)](_0x2410a0,_0x502126){const _0x12a0ae=a0_0x3d18fe;let _0x2ce7df=_0x502126[_0x12a0ae(0x74f)](':');return _0x2ce7df[0x0]=(parseInt(_0x2ce7df[0x0],0x10)^0x2)[_0x12a0ae(0x444)](0x10)[_0x12a0ae(0x62a)](0x2,'0'),''+_0x2410a0+_0x2ce7df[0x0]+_0x2ce7df[0x1]+':'+_0x2ce7df[0x2]+'ff:fe'+_0x2ce7df[0x3]+':'+_0x2ce7df[0x4]+_0x2ce7df[0x5];}[a0_0x3d18fe(0x88a)](){const _0x4e9927=a0_0x3d18fe;let _0x368e01=this['ipv6Prefix'];_0x368e01[_0x4e9927(0x601)](':')||(_0x368e01+=':');let _0x4adff0=this[_0x4e9927(0x152)]();return this[_0x4e9927(0x19c)](_0x368e01,_0x4adff0);}[a0_0x3d18fe(0x6df)](_0x3284dc){const _0xb451b9=a0_0x3d18fe;return new RegExp(_0xb451b9(0x4c9))[_0xb451b9(0x386)](_0x3284dc);}async[a0_0x3d18fe(0x548)](_0x30dd51){const _0x451d73=a0_0x3d18fe;let _0x544572=[{'url':_0x451d73(0x2c3),'parse':_0x1ee07f=>_0x1ee07f['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x21b1ae=>_0x21b1ae['ip']},{'url':'https://ifconfig.me/ip','parse':_0x28af96=>_0x28af96['trim']()},{'url':'https://v6.ident.me','parse':_0x429ac4=>_0x429ac4[_0x451d73(0x4d9)]()}],_0x43f883=_0x544572[Math[_0x451d73(0x5dc)](Math[_0x451d73(0x283)]()*_0x544572[_0x451d73(0x802)])];try{let _0x2c300f=await $i[_0x451d73(0x62f)]['get'](_0x43f883[_0x451d73(0x3f9)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x30dd51}}),_0x52bc1e=_0x43f883[_0x451d73(0x78c)](_0x2c300f[_0x451d73(0x2ff)]);return _0x52bc1e[_0x451d73(0x12e)]()===_0x30dd51[_0x451d73(0x12e)]()?(console[_0x451d73(0x4e7)]('IP\x20confirmed:\x20'+_0x30dd51),!0x0):(console[_0x451d73(0x4e8)](_0x451d73(0x5d0)+_0x30dd51+',\x20received\x20'+_0x52bc1e),!0x1);}catch(_0x5f349b){return console[_0x451d73(0x4e8)]('Error\x20testing\x20IP\x20with\x20'+_0x43f883[_0x451d73(0x3f9)]+':\x20'+_0x5f349b[_0x451d73(0x867)]),!0x1;}}async[a0_0x3d18fe(0x567)](_0x513ac2,_0x59fb85){const _0x1a98ed=a0_0x3d18fe;if(!this[_0x1a98ed(0x719)]||!this[_0x1a98ed(0x391)])return console[_0x1a98ed(0x4e8)](_0x1a98ed(0x47f)),null;let _0x138536;do _0x138536=this['generateRandomIPv6'](),console[_0x1a98ed(0x4e7)](_0x1a98ed(0x58d)+_0x138536);while(!await this[_0x1a98ed(0x36c)](_0x138536));await this[_0x1a98ed(0x503)](_0x138536),console[_0x1a98ed(0x4e7)](_0x1a98ed(0x3de)+_0x138536);let _0x4d0354={'_id':_0x513ac2+'-'+_0x59fb85,'ip':_0x138536},_0x202274=await this[_0x1a98ed(0x43c)]['createOrUpdate'](_0x4d0354,_0x4d0354[_0x1a98ed(0x2a2)]);return console[_0x1a98ed(0x4e7)](_0x1a98ed(0x535)+_0x202274),_0x138536;}async[a0_0x3d18fe(0x36c)](_0x41471b){const _0x540cd7=a0_0x3d18fe;return this[_0x540cd7(0x6df)](_0x41471b)?!await this[_0x540cd7(0x43c)][_0x540cd7(0x648)]({'where':{'ip':_0x41471b}}):!0x1;}async[a0_0x3d18fe(0x23e)](_0x310408,_0x52aa1a){const _0x2251da=a0_0x3d18fe;let _0x4c705d=_0x310408+'-'+_0x52aa1a,_0x16693b=await this[_0x2251da(0x43c)][_0x2251da(0x648)]({'where':{'_id':_0x4c705d}});_0x16693b&&_0x16693b['ip']&&(await this[_0x2251da(0x13b)](_0x16693b['ip']),await this[_0x2251da(0x43c)][_0x2251da(0x4ac)]({'where':{'_id':_0x4c705d}}));}},Do=new xs(),ae=Do,Fs=a0_0x3d18fe(0x541),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x3d18fe(0x5d8)](a0_0x3d18fe(0x138))[a0_0x3d18fe(0x660)]['KEY'],Ai=S[a0_0x3d18fe(0x5d8)]('PROXY');function a0_0x4502(){const _0x56ae51=['Error\x20in\x20buttonsMessage\x20function:','delaySecMin','utf-8','cleanStore','processScheduleFlow','[AUTH]\x20Database\x20is\x20not\x20enabled','all','groupHandler','listen','REDIS','joinApprovalMode','join','beautifyWithPlaceholders','entries','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','authService','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','IPv6\x20Prefix\x20detected:\x20','timeout','quoted','):\x20Enviando\x20contato','options','Pausado\x20por\x20','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','warn','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','*Teste\x20de\x20Ttulo*\x0a\x0aDescrio\x20de\x20Teste\x0a','DATABASE_CONNECTION_USER','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','URL','redisEnv','.mp4','#000000','deleteConversation','?timestamp=','instanceName\x20not\x20provided.','\x20inseridas\x20no\x20banco\x20de\x20dados...','importChats','isListOfNumbers','customFields','editScheduleMessage','\x1b[34m%s\x1b[0m','Error\x20updating\x20cache\x20contact:','waitingForReplyMenu','scheduleFlow','Module\x20-\x20ON','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Retornando\x20grupos\x20SEM\x20cache','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','addReplyOption','\x20removido\x20do\x20chat\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','DATABASE_CONNECTION_PASSWORD','defineAuthState','pairingCode','uazapiSendText','ipv6Prefix','IPv6\x20address\x20configured:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','removeProfilePicture','toNumber','[all]','writeFileSync','myAppStateKeyId','478104HNNvMz','setWebhook','connectionClosed','ENABLED','error_log','Nmero:\x20','utf8','getVariablesChat','insertCount','poll','DisconnectReason','STORE_CLEANING_TERMINAL','TEL','fetchContacts','159mwYXzS','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20conversation.lastInteraction:\x20','Error\x20writing\x20file:\x20','fullName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cachedContacts-whatsapp','Para\x20marcar\x20esse\x20fluxo\x20como\x20visvel\x20globalmente,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20Global.','normalizeMessageContent','.TEL;waid=','creds.json','):\x20[RETRY]:\x20Mximo\x20de\x20tentativas\x20alcanado,\x20desistindo\x20de\x20recuperar','https://jsonip.com','Error\x20removing\x20IPv6\x20address:\x20','promisify','writeData','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20delete\x20=\x20true','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','.\x20Pulando.','api','startFlow','request\x20received\x20in\x20fetchConversation','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','cacheContact','/media/','findGroup','fetchChats','):\x20Entrou\x20na\x20funo\x20processawaitSeconds','pt-BR','collection','IPv6\x20recriado\x20aps\x20falhas\x20de\x20reconexo.','split','match','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x1b[1m\x1b[37m','Subdomnio\x20no\x20encontrado','StatusJidList\x20is\x20required','):\x20Query\x20params:','groupadd','sendLocation','status@broadcast','charAt','):\x20Alterando\x20fluxo...','findConversation','deleteBlock','isBase64','verbose','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','ERROR:\x20','automateSystem','revokeInviteCode','chats','cleanDisconnectedInstances','SERVER_OFFLINE','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','expiration','flows','SSL_CONF','\x0a{\x20instance:\x20','shift','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','groupAcceptInvite','https://uazapi-plugin.bubbleapps.io/?url=','updateMany','contact_blacklist','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','#92ceac','varedit','getAllData','created','Database\x20connection\x20closed.','$set','spawn','Fluxos\x20no\x20esto\x20ativados','URL\x20completa:','#fed428','segundos','Network\x20interfaces\x20detected:\x20','dbConnection','isBusiness','cacheContactModel','deleteMessage','/webhook','count','getScheduleMessage','CORS','connectionStatus','Stack\x20trace:','):\x20enviado\x20para\x20[','parse','NextBlock','put','joinGroup','IPv6\x20addresses\x20detected:\x20','menuExpiredMessage','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','getValidWhatsAppNumbers','deleteInstance','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sendText','CHATS_UPSERT','):\x20Rtulo\x20atualizado:\x20','generate','finish','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','getChatModelForOwner','item','request\x20received\x20in\x20editFlowgroup','requestFile','processConditions','telefone','36KXTiEx','sharePass','sem\x20texto\x20na\x20mensagem','.\x20Aguardando\x20','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Instance\x20\x22','sendButtons','groupInviteCode','flowName','removeData','LabelModel','findAndReplaceRegex','groupBetterSetting','Erro\x20ao\x20buscar\x20fluxos:','leadInfo.customFields','replaceVariablesInObject','Contacts\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc','/automate','isJidUser','):\x20nextBlock.uazapi.name','\x1b[36m','title','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','\x20com\x20sucesso.',',\x20Comparador:\x20','/instance/delete','superadmin','Erro\x20ao\x20limpar\x20instncias\x20desconectadas:','isRunning','Erro\x20ao\x20atualizar\x20o\x20flow.','sha256','creation','sendContact','fetchProfile','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo','\x20no\x20encontrado\x20para\x20atualizao.','updateProfileStatus','editFlowGroup','Types','Detalhes\x20do\x20erro:','msgRetryCounterCache','.gif','messages.upsert','https://api.ipify.org?format=json','sendWhatsAppAudio','sendStatus','newValue','--------------------------------------','Erro\x20ao\x20substituir\x20variveis\x20para\x20','@ffmpeg-installer/ffmpeg','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','copy','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','sendMessageWithTyping','#9568cf','replaceVariablesInReplyOptions','deleteChat','ex:\x20\x22groupJid=120362@g.us\x22','remote\x20\x22origin\x22','https://','):\x20Transformao\x20de\x20mensagens\x20agendadas\x20concluda!','Failed\x20to\x20prepare\x20media\x20message','getflow','autoCompleteMessages.command','sendAudio','editflowreply','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','ip\x20-br\x20link\x20show','autoCompleteMessages.command_1','SINGLE_SELECT','pm2\x20flush','@redis/client','getDevice','instance','):\x20Bloco\x20copiado:\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','originalUrl','findGroupInfo','):\x20Procurando\x20mensagens\x20para\x20envio','now','editFlowBlock','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','connectedClient','):\x20Criando\x20fluxo...','groupJid','remoteJid','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','groupMetadata','blockLogs','Atualizao:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','/wa-presence','Telefone:\x20','authState','length','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','result','):\x20Iniciando\x20bot...','\x1b[41m','reorderReplyOptions','uazapi','modifiedCount','toBrazilianNumberFormat','qrcode.updated','find','admin_add','updateLastSeenPrivacy','templateButtonReplyMessage','cta_url','linkPreview','Erro\x20ao\x20remover\x20label\x20','request\x20received\x20in\x20starFlow','apikey','@g.us','Erro\x20ao\x20editar\x20agentes','getFlow','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20Entrou\x20na\x20funo\x20saveReply','phoneNumber','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','stopWhenYouSendMsg','notEqual','getAutomateSystem','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','removeUnusedChatFields','/instance/connectionState','processgoToFlow','promote','success','command','@s.whatsapp.net','repository','\x1b[33m\x1b[1m','Erro\x20de\x20duplicidade\x20no\x20ndice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20ndice...','map','generateHash','makeCacheableSignalKeyStore','demote','):\x20atualizao\x20chat:\x20','Erro\x20ao\x20atualizar\x20conversa:\x20','STORE_CONTACTS','instancias:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20sender\x20=\x20number:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','DEBUG','filter','https://chat.whatsapp.com/','some','/64\x20dev\x20','drop','organization','isBusinessInstance','ephemeralExpiration','\x20segundos','deviceSentMessage','fromMe','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','):\x20Fluxos\x20no\x20esto\x20ativados','isCommunityAnnounce','messageLogsModel','ConversationModel','):\x20Error\x20processing\x20the\x20block:\x20','shareOwners','hex','messageTimestamp','updateCustomFields','groupRequestParticipantsUpdate','chatHandle','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20tem\x20blocks','Font\x20is\x20required','Database\x20is\x20not\x20enabled','):\x20','):\x20Label\x20','waitingMenu_id','FULLCHAIN','Dados\x20invlidos\x20para\x20edio\x20de\x20mensagens\x20no\x20grupo.','owner','jid','initAuthCreds','):\x20Current\x20Time:\x20','):\x20Ler\x20mensagem','editFlowVaredit','allflows','getMIMEType','object','!stop','inviteCodeDetails','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','1319064LNkivg','chats.delete','findGroups','empty','message','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','flowStopConversation','senderKeyDistributionMessage','importChatsBatch','):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20','chat\x20no\x20encontrado','lowerCase','groupJoinApprovalMode','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','goToFlow','thumbnailUrl','https://github.com/uazapi/uazapi.git','copyBlock','CONNECTION_UPDATE','instanceCount','updateProfileName','findIndex','isURL','stack','This\x20name\x20','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessrios.','):\x20Error\x20processing\x20conditions:\x20','_remoteJid','findByIdAndUpdate','client','.jpg','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','):Output\x20path:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Criando\x20fluxo\x20compartilhado...','request\x20received\x20in\x20editConversation','out','readFileSync','generateRandomIPv6','editflowblock','Esse\x20fluxo\x20no\x20permite\x20importao.','\x20foi\x20interrompido\x20pelo\x20usurio.','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x0aitem','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','LEVEL','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','/wa-groups','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','Filtered\x20network\x20interfaces:\x20','):\x20Buscando\x20conversas...','false','statusCode','getTime','Erro\x20ao\x20editar\x20o\x20chat','createButtonSectionsFromValues','variable','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','):\x20isVote:\x20','closed','yes','subject','noConnection','sticker','.pptx','Rtulo\x20invlido\x20ou\x20sem\x20ID.','delaySecMax','fileUrl','sendMessageWithTypingButtons','12hVNKFh','paramsJson','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','username','slice','Not\x20allowed\x20by\x20CORS','getTicketSystem','lastUpdate','groupCreate','documentWithCaptionMessage','redis','fileLength','):Image\x20is\x20url','/exit','$pull','groupLeave','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','/wa-message','toLowerCase','#64c4ff','):Trying\x20to\x20get\x20business\x20profile','restartInstance','):\x20Comando\x20desconhecido:\x20','updateAll','Subscribed\x20Events:','notMatchRegex','action','Router','AUTHENTICATION','sendList','awaitingApproval','removeIPv6','from','uazapiSendAudio','profilePicture','not\x20loaded','triedToSend','http://checkip.dyndns.org','\x1b[30m',',\x20Resultado:\x20','):\x20Editando\x20condio\x20do\x20fluxo...','ReplyOption\x20com\x20ID\x20','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','realVariables','contacts.update','findLabels','atendimentoAberto','Selecione\x20uma\x20opo','MESSAGES_UPDATE','Variveis\x20no\x20encontradas:','lastSend','announcement','upsertedCount','randomMac','participant','dbServer','messageStubParameters','Falha\x20ao\x20processar\x20a\x20solicitao','):Getting\x20image\x20from\x20url','_Contacts','downloadMediaMessage','allContacts','Erro\x20ao\x20buscar\x20o\x20fluxo','#00a1f2','):\x20Enviando\x20udio','request\x20received\x20in\x20scheduleMessage','latitude','unlocked','):Image\x20created','.mp3','findFlow','connectToWhatsappController','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','enumerable','Instncias\x20removidas:\x20','collections','webhookModel','redirect','profileName','badSession','):\x20teve\x20mudanas\x20chat.archived:\x20','messageContextInfo','394485lijKpQ','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','apirequest','Grupo\x20no\x20encontrado','Authentication\x20error','choices','CORS_ORIGIN','group','limit','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Editando\x20bloco...','messageId','AUTHENTICATION_JWT_EXPIRIN_IN','updateAutoCompleteMessages','onWhatsApp','updateAgent','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','findWebhook','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','detectIPv6PrefixAndInterface','audioMessage','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Buscando\x20todos\x20os\x20fluxos...','insertMany','getBase64FromMediaMessage','whoCanEdit','approve','presenceSubscribe','varedits','Instance\x20logged\x20out','splice','indexOf','deleted','local_map','sendDataWebhook','pollCreationMessage','randomBytes','flowConversation','\x20chats\x20de\x20','startCommand','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Error\x20in\x20prepareMediaMessage:','getConversation','):\x20Usando\x20extenso\x20padro:\x20','listMessage','ip6eui','WebhookGlobal','max','reviver','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Db\x20Connection','):\x20no\x20encontrou','SERVER_ACK','push','\x20quoted:\x20','requestPairingCode','CacheContacts\x20database\x20connection\x20closed.','PROXY','):Notifying\x20clients\x20for\x20chat:\x20','endSession','webp','readData','Bloco\x20com\x20ID\x20','shareFlow','groupId','}}\x20->\x20valor\x20no\x20encontrado','\x20Tentativa\x20de\x20reconexo\x20','status','locked','addMessagesToGroup','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','interactiveResponseMessage','updateReadReceiptsPrivacy','moreLogs','http','last',',\x20valor\x20passado:\x20\x22','setContext','):\x20lastBlockId:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','Error\x20in\x20chatModify\x20for\x20number\x20','encoding','privacySettings','updateGParticipant','_month','.ogv','SEND_MESSAGE','PRODUCT_LIST','#6f7bcf','pow','downloads','labelId','/media','min','chat','unreadCount','):Error\x20in\x20converting\x20audio','unhandledRejection','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','storePath','_error','g-t','):\x20Criando\x20nova\x20conversa[createNewConversation]','):Image\x20path:\x20','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','updateMissingCustomFields','Parando\x20aplicao,\x20atualizao\x20recebida','Falha\x20ao\x20criar\x20IPv6.','buttons','SERVER_TYPE','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:\x20','.jwt','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','STATUS_INSTANCE','variablesToObject','paused','Fluxo\x20\x27','_lastVote','vote','):Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','create','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','allFlows','\x22reaction\x22\x20must\x20be\x20an\x20emoji','getMinutes','waitingMenu_replyOptions','values','presence','audio/ogg','hGetAll','email','g.us','cache','CONTACTS_UPSERT','.xlsx','groupFetchAllParticipating','updateMediaMessage','Erro\x20ao\x20copiar\x20o\x20documento','findAndUpdateCacheContact','/message','Erro\x20ao\x20alterar\x20fluxo','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','\x1b[32m%s\x1b[0m','ephemeralDuration','.webm','update','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','express','fetchMessages','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','archiveChat','getMessageModelForOwner','pollUpdateMessage','webhook','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','changeVariables','autoCompleteMessages','/startFlow/:instance/:startID','reference','waUploadToServer','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','base64','Nmero\x20no\x20possui\x20WhatsApp.','\x20depois\x20','canSendMessage','routerPath','updateConversation','cwd','The\x20instance\x20needs\x20to\x20be\x20disconnected','_activedCount','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','processblock','boolean','pop','flow','Sem\x20permisso\x20para\x20enviar\x20para\x20esse\x20grupo','):\x20Falha\x20ao\x20deletar\x20mensagem.','request\x20received\x20in\x20deleteDoneMessages','whoCanUse','createNewConversation','EMAIL:','GROUP_PARTICIPANTS_UPDATE','createWebhook','EXPIRIN_IN','@broadcast','recording','loggedOut','deleteAll','footer','express-async-errors','uazapiSendLocation','emit','AutomateSystem','updateMessage','replyOptions','imgUrl','ms\x20(tentativa\x20','isLong','groupValidate','groupParticipantsUpdate','\x20:\x20','createHash','):\x20Limpando\x20AutomateSystem','PLAYED',',\x20saindo.','editFlowVariable','remove.instance','removeIPv6ById','bodyStringErrorParse','#56ccb4','Instance\x20Key\x20from\x20DB:','8080','FlowRouter','):\x20Entrou\x20na\x20funo\x20goToFlow','):\x20expirationTime:\x20','unreadcount','_Messages','statusMessage','):\x20Enviando\x20localizao','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','keyPattern','valid','next_groupId','.url','global','jsonwebtoken','):Type\x20defined\x20as\x20audio','\x1b[33m','headers','importChatsAntigo','child_process','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/:instanceName','pollCreationMessageKey','):Delete\x20chat','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','STORE','connectToWhatsapp','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','RECONNECT_TIME_FRAME','removeInstance','Erro\x20ao\x20deletar\x20a\x20conversa','Instance\x20deleted','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Limpando\x20logs\x20do\x20PM2...','selectedId','pollOnReplyDelete','document','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','uazapiSendContact','waitingMenu_ExpiredMessage','/config','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','187548vIUXII','\x1b[0m','method','STORE_CHATS','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','mentions','newStoppedUntil','#ff9484','env','):\x20No\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','parseInt','isArray','namespace','):\x20Encontrado\x20prxima\x20mensagem\x20para\x20','instanceKeys','Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:','static','LOG','Erro\x20ao\x20executar\x20bulkWrite:','saveTextReply','random','sendMedia','composing','CHATS_UPDATE','HH:mm:ss','__esModule','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','#01d0e2','sleep','#9ba6ff','_p_','convertaudio','number','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','this.reconnectAttempts:\x20','Nenhum\x20fluxo\x20correspondente\x20encontrado.','PRIVKEY','scheduleSendText','where','numbers','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','/wa-chats','toUpperCase','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','string','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','rows','apiName','docker','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','PORT','_id','):\x20Chat\x20','):\x20Entrou\x20na\x20funo\x20clearVariables','call','\x20horas\x20e\x20','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','lastSendMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','true','updateGroupsAddPrivacy','request\x20body:\x20','Error\x20removing\x20unused\x20chat\x20fields:','editOperator','DOCKER_ENV','deleteFlow','participants','text','undefined','synchronizeAndMapFlows','SECRET','use','Internal\x20Server\x20Error','viewOnceMessageV2','\x0aFN:','waInstances','chatLog','toLocaleString','dropIndex','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','capitalizedWords','Instance\x20Name:','post','https://ipv6.jsonip.com','replaceOne','delay','):\x20Fluxo\x20\x27','font','available','fetchLatestBaileysVersion','#d8e651','AppStateSyncKeyData','findGroupInfos','inner','WA\x20MODULE','_second','SERVER','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','findManyByIds','formatVCard','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','uazapiSendMenu','displayName','):Fetching\x20business\x20profile','bateu\x20events','idSchedule','group-participants.update','Error\x20fetching\x20group','queue','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','connect','p-queue','status.instance','contacts','markMessageAsRead','context','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','sendPoll','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','groupdata','existsSync','quick_reply','everyOne','Falha\x20ao\x20processar\x20a\x20solicitao\x20send_message,\x20numero:\x20','updateProfilePicture','Erro\x20ao\x20arquivar\x20chat','):\x20newSecondValue\x20aps\x20replaceVariables:','DATABASE_CONNECTION_URI','authentication','updateGroupParticipantsWebhook','Subdomnio\x20extrado\x20da\x20URL:','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20excluso.','mkdirSync','.svg','name','nomecompleto','Tentando\x20reconectar...','AutomateFunctions','code','convertToWebP','convert','Chat\x20com\x20ID\x20','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo','data','insert','Boto\x202','fetchStatus','getLabelModelForOwner','SERVER_URL','query','CONNECTION','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','color','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','saveChatVariables','folder','blocks','fone','lastFetchAwaitingApproval','addBlock','.png','wuid','RemoveChatLabel','startsWith','chats.update','util','Fluxo\x20no\x20encontrado\x20na\x20memria.','dark','messaging-history.set','API\x20Key\x20from\x20Request:','mongodb://','SERVER_PORT','getDate','nome','):\x20Atualizando\x20status\x20da\x20mensagem\x20','$dbName','No\x20respondeu\x20com\x20a\x20enquete.','inviteUrl','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','detail','CONTACTS_SET','stopMinutes','PREFIX_KEY','fetchPrivacySettings','getStatus','DELETED','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','flowConfig','request\x20received\x20in\x20updateCustomFields','replaceVariables','.docx','normalizeMessage','.mimetype','reconnectTimestamps','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','image','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.','CREDENTIALS','):Sending\x20audio\x20whatsapp','):\x20ev.flush\x20realizado','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','contactMessage','createAndSave','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','getLastMessage','waitingMenu_text','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','store','Database\x20update\x20result:','lastMessage','console','Falha\x20ao\x20recriar\x20IPv6.','Falha\x20ao\x20processar\x20fetchBusinessProfile','error\x20get\x20vote','not_announcement','data:\x20','waMonitor','close','labels.association','_minute','):Temp\x20image\x20deleted','findOrCreate','updateMissingTags','message_normalized','contains','toDataURL','array','getUniqueFlowName','pollErrorMessage','fakeReceived','50mb','Schema','forEach','):\x20updateResult:','flattenObject','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','useMultiFileAuthState','\x0a*Voc\x20respondeu*:\x0a','tags','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','AddUserFlow','flowStopMinutes','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','contact','\x1b[1m','updateGParticipate','sort',',\x20Expiration\x20Time:\x20','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','editChat','createButtonsFromValues','params','isValidAndUniqueIPv6','chats.upsert','errors','iniciando\x20fluxo\x20router','ERROR','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','bodyString','findGroupsEspecial','option','Voc\x20no\x20tem\x20permisso\x20para\x20ver\x20o\x20fluxo\x20\x27','createClient','):\x20error:\x20','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','updatePresence','fetchProfilePicture','Message','ScheduleMessage','):\x20Buscando\x20flow,\x20id:\x20','hSet','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','loadEnv','\x20}\x0a','Content-Type','formatStatusMessage','validate','test','DATABASE_CONNECTION_HOST','CHATS_DELETE','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Flow\x20\x27','chatId',',\x20pairCode:\x20','reorderMessages','ObjectId','WARN','statSync','networkInterface','condition','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','\x1b[37m','envProcess','STORE_MESSAGE','rowId','):\x20Mensagem\x20j\x20enviada\x20para\x20','src','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Bloco\x20com\x20ID\x20','verifyWhatsAppNumber','order','protocolMessage','AutomateSystem\x20no\x20foi\x20inicializado','announce','editFlowReply','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','scheduleMessage','dbInstance','Erro\x20ao\x20buscar\x20Schedule\x20Messages','repeat','_Labels','webhookService','contacts.upsert','updateGroupPicture','):\x20Editando\x20varivel\x20do\x20fluxo...','):\x20conversation.waitingMenu_name','Mac\x20OS','\x1b[36m%s\x1b[0m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','loadInstance','instanceName','secondValue','VERBOSE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','text/event-stream','Last\x20message\x20not\x20found','Resultado\x20da\x20correspondncia\x20de\x20URL:','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','fetchInstances','agents','ListType','Log\x20out\x20instance:\x20','updateMissingEtiquetas','contactsArrayMessage','unknown\x20operation\x20type\x20[','timeInMinutes','labels.edit','model','then','READ','CLEANING_INTERVAL','Erro\x20ao\x20editar\x20o\x20bloco:\x20','messageLogs','flush','load','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Not\x20Found','getContentType','size','/create','interactiveMessage','optionDescription','readMessages','\x20tentativas.','connecting','node-mime-types','StartBot','set','leadInfo.','readreceipts','_hour','Background\x20color\x20is\x20required','contactHandle','Configured\x20IPv6:\x20','jsonschema','Erro\x20ao\x20importar\x20chats','listResponseMessage','arraybuffer','editFlowCondition','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20alterando\x20this.AutomateSystem','groups','\x22,\x20valor\x20a\x20substituir:\x20\x22','editedMessage','reconnectAttempts','saveCreds','request\x20received\x20in\x20editFlowcondition','delayChatLabel','):including\x20timestamp\x20in\x20url:\x20','getConversationModelForOwner','groupRevokeInvite','cachedData-whatsapp','includes','_ScheduleMessages','scheduleSendMedia','audio','scheduleNextCheck','process','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','134DzPMCs','url','dbSettings','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','editConversation','etiquetas','\x22\x20cannot\x20be\x20empty','createJid','sign','createConversationforgoToFlow','\x20do\x20chat\x20','Erro\x20ao\x20editar\x20a\x20conversa','pre','Content\x20is\x20required','key','variables','response','CORS_METHODS','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','replaceVariablesChat','/group','Enter\x20a\x20value\x20in\x20milliseconds','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','prototype','sectionsToString','fetchConversation','ListMessage','_year',',\x20canSendMessage:\x20','decryptPollVote',',\x20Minutes\x20to\x20Close:\x20','KEY','apiResponse',',\x20isAdmin:\x20','Removidas\x20as\x20variveis:\x20','request_method','buttonMessage','release','isConnected','hbs','leadInfo.etiquetas','):\x20Instancia\x20isBusiness:\x20','Unauthorized','processingGroup','\x22\x20-\x20NOT\x20CONNECTION','done','application/octet-stream','globalShow','longitude','\x1b[30m%s\x1b[0m','write','PENDING','joinGroupValidate','convertaudioMP3','backgroundColor','and','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','public','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','temp-',']\x20(','!cmd_','userDevicesCache','readMessage','request\x20received\x20in\x20deleteConversation','):\x20[messages.upsert]\x20group\x20ignored','oldToken','cacheInstanceRepository','list3','lastBlockId','#fe9dfe','birthtime','throwAndLogError','updateOne','single_select','toString','removeChatLabel','saveVariable','Validate','Instance\x20ID:','hDel','abs','Nenhum\x20chat\x20fornecido\x20para\x20insero.','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualizao\x20do\x20git\x20e\x20npm\x20install.','imageMessage','audio/ogg;\x20codecs=opus','isAdmin','pictureUrl','basename','notEmpty','video','getBusinessProfile','Invalid\x20format','findOneAndUpdate','Fluxo\x20agendado\x20pelo\x20fluxo\x20','INFO','unlinkSync','height','matchRegex','sendMenu','qrCode','\x1b[32m','\x1b[40m','reaction','METHODS','.ppt',',\x20Novo\x20tamanho:\x20','messageSecret','OrAnd','urlOrBase64','stdout','):\x20mediaMessageInfoId\x20:\x20','Erro\x20ao\x20tentar\x20updateCustomFields','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName','content-type','\x20instance\x20does\x20not\x20exist','updateChatWithMessage','Partes\x20do\x20caminho\x20FULLCHAIN:','application/json','_activatedCount','\x27\x20no\x20encontrado','enabled','send','EMAIL','last_update','\x5c$&',',\x20qrcodeCount:\x20','flowActive','sending','Erro\x20de\x20atualizao:\x20','https://uazapi-plugin.bubbleapps.io/','SUCCESS','-whatsapp-api','getScheduleMessageModelForOwner','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','RemoteJid:','jpegThumbnail','lastRealGroupsFetch','transformScheduledMessagesByType','getDelay','):\x20Criou\x20conversa\x20no\x20startFlow','PRESENCE_UPDATE','/*.json','Comando\x20desconhecido','.X-ABLabel:Celular\x0a','groupName','eventemitter2','):\x20A\x20mensagem\x20\x20\x22stopConversation\x22\x20=\x20','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20voc\x20no\x20tem\x20permisso\x20para\x20us-lo','Erro\x20ao\x20iniciar\x20fluxo:\x20','#ffae04','video-cover.png','Erro\x20ao\x20alterar\x20privacidade','Primeiro\x20Valor:\x20','startID','sections','processApiRequest','Removendo\x20package-lock.json\x20e\x20a\x20dependncia\x20especfica...','updatePrivacySettings','Operador:\x20\x22','/wa-connection-update','):\x20teve\x20mudanas\x20chat.muteEndTime:\x20','groupUpdateDescription','mimetype','fileName','#f64847','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','API\x20Key\x20invlida.','loadWebhook','.pdf','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','substring','-instances','keep-alive','CHATS_SET','processclearVariables','/events','goNextblock','scheduleSendAudio','deleteOne','isCommunity','HOST','retrySendMessage','add','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Erro\x20ao\x20deletar\x20mensagens:','https','mediaMessage','evaluateConditionTest','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','audioWhatsapp','createGroup','/clients-info','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao','clear','catch','\x20-y','Network\x20Interface\x20detected:\x20','updateParticipant','closeExistingConversations','Erro\x20ao\x20buscar\x20conversas','leaveGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','flushHeaders','ignoreGroups','):\x20\x27Enviando\x20mdia\x20para\x20\x27',',\x20Segundo\x20Valor:\x20','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','URL\x20no\x20disponvel','\x20minutos','request\x20received\x20in\x20allFlows','request_time','enviado\x20para','messages','\x27...','lastReceivedMessage','Type\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','getOwnPropertyDescriptor','isInteger','\x27\x20removido\x20do\x20AutomateSystem.','clearVariables','fromObject','trim','):Business\x20profile\x20fetched','DELIVERY_ACK','The\x20\x22','):\x20Flow\x20desativado','addresss','MESSAGES_UPSERT','exports','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','startFlowWebhook','cleaningUp','Instncia:\x20','scheduled','json','log','error','localWebhook','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','end','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','desativadoFluxoAte','replaceVariablesLogs','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','DATABASE_CONNECTION_DB_PREFIX_NAME','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','info','REDIS_URI','createFlow','all_member_add','mediatype','mediaSticker','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','eventEmitter','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','upsertChats','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edio.','cpf','):\x20whoCanEdit\x20before\x20validation:\x20','less','when','connectionUpdate','getReadyToSendMessages','configureIPv6','findRealGroups','replyOption','mongodb','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage','applyvaredit','leadInfo.atendimentoAberto','value','uazapiSendMedia','footerText','^\x5cd+','/chat','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20[messages.update]\x20group\x20ignored','FlowController','every','):\x20conversation.status:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','findAll','contextInfo','leadInfo','):\x20Iniciando\x20processReadyMessages','qrcode','MAX_SAFE_INTEGER','fetchBusinessProfile','body','Instance\x20restarted','):\x20Entrou\x20na\x20funo\x20scheduleFlow','groupUpdateSubject','ip\x20-6\x20addr\x20del\x20','):\x20debug\x20alterando\x20this.AutomateSystem','bearer','request\x20received\x20in\x20editFlow','):\x20Conversa\x20est\x20expirada\x20-\x20voto','envYaml','Read\x20messages','No\x20suitable\x20network\x20interface\x20found','GROUPS_UPDATE','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','format','Erro\x20na\x20funo\x20updateChatWithMessage:\x20','archive','#d3a91f','addChatLabel','convertToString','verifiedName','ini','_pushName','ORG:','Cache\x20instance\x20update\x20result:\x20','conditions','BRL','/instance/connect','locationMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','editflowgroup','createSectionsFromValues','logger','CONTACTS_UPDATE','Retornando\x20grupos\x20COM\x20cache','pollMessageOnDelete','Safari','AUTHENTICATION_JWT_SECRET','getMonth','ScheduleMessageModel','selectedRowId','_Chats','AUTHENTICATION_TYPE','testIPv6','toFile','proto','convertedOptions','chatModify','upperCase','groupToggleEphemeral','ephemeralMessage','uuid','keys','#ffffff','deleteDoneMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','eventHandler','*Pergunta*:\x20\x0a','dbClient','ContactsAndGroups','396145qTnuLi','lastInteraction','user','view\x20engine','maxActives','LICENSE_INVALID','\x20no\x20encontrado\x20para\x20cpia','messageType','updateBlock','processConditionsTest','start','findMany','URL:','digest','createIPv6','buttonText','MESSAGES_SET','fetchProfilePictureUrl','expression','REDIS_ENABLED','jwt','generateWAMessageFromContent','label_jid','\x1b[31m','fetchLabels','9UTRFLH','Parando\x20aplicao...','removed','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Garbage\x20collection\x20no\x20est\x20disponvel.','dropCollection','messageHandle','):Audio\x20processed','.type','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','execSync','pollMessage','groupDesc','class-validator','processPollUpdateMessage','pushName','The\x20','exec','):\x20H\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20\x20fila','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','saveMediaToFile','mentioned','@newsletter','label','muteEndTime','Cannot\x20','URI','Generated\x20IPv6:\x20','DATABASE_ENABLED','Subdomnio\x20final:','variablesNotFound','\x20mensagens\x20de\x20','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','imported','listType','pendingMessages','dataValidate','editflow','inet6','configService','header','USER','content','\x1b[34m','logout','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','truncatedtoEnd','type','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','statusJidList','stopConversation','menuIgnoreNonVotes','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','Partes\x20do\x20domnio:','Erro\x20ao\x20normalizar\x20a\x20mensagem:','creds','):\x20Deletando\x20conversa...','instanceInfo','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Parte\x20do\x20domnio\x20do\x20caminho\x20FULLCHAIN:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','setRestartTimeout','open','):\x20Query\x20params:\x20','delayChatLabel_MAX_RETRIES','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','videoMessage','sendMessage','Not\x20is\x20business\x20profile','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','replaceValue','cachedContact','\x20minutos.\x20Ser\x20s\x20','online','.ogg','):\x20transformedCustomFieldVariables','sim','Incio','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','QRCODE_UPDATED','createServer','cors','Imagem\x20no\x20encontrada','selectableCount','pollCreationMessageV3','headerString','gifPlayback','setting','groups_ignore','delete','Boto\x201','GROUPS_UPSERT','IP\x20mismatch:\x20configured\x20','JWT','/wa-qrcode','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','restart','uazapiDeleteMessage','firstValue','Esse\x20fluxo\x20expirou','get','bulkWrite','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','profile','floor','responsavelid','readMessageBot','deleteflow','getClient','ON\x20-\x20dbName:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','path','replacer','block','Falhou\x20ao\x20encontrar\x20chat\x20','replace','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Error\x20while\x20deleting\x20message\x20for\x20everyone','admin','description','hasOwnProperty','onTime','cacheInstanceModel','none','delAll','):\x20Erro\x20durante\x20a\x20atualizao:\x20','):\x20Flow\x20\x27','delayChatLabel_RETRY_DELAY_MS','groupSettingUpdate','DATABASE','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','readdirSync','startCommandWord','redis://127.0.0.1:6379','uncaughtException','axios','memberAddMode','findParticipants','menuType','caption','.extension','endsWith','.error','request\x20received\x20in\x20deleteFlow','editFlow','getHours','groupRequestParticipantsList','authorization','isJidGroup','_day','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','DARK','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','webhookMap','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','toBRL','checkAndRestartProcess','):\x20whoCanUse\x20before\x20validation:\x20','stickerMessage','address','Subdomnio\x20extrado\x20do\x20caminho\x20SSL:','vcard','leadInfo.desativadoFluxoAte','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','resetReconnectionVariables','groupGetInviteInfo','whatsappNumbers','Erro\x20ao\x20atualizar\x20o\x20fluxo:','https://api.openai.com/v1/images/generations','archived','connection.update','inviteCode','553010rXetrY','exists','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20no\x20foi\x20possvel\x20descriptograf-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualiz-la','media','conversationTimestamp','apply','node-cache','deleteMany','trimmed','padStart','\x20minutos...','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','toggleEphemeral','0123456789ABCDEF','default','notify','_fromMe','restrict','REDIS_PREFIX_KEY','@whiskeysockets/baileys','?authSource=admin&readPreference=primary&directConnection=true','saveConversationToDatabase','prepareWAMessageMedia','website','app','readFile','router','File\x20written\x20to\x20path:\x20','):\x20Editando\x20mensagens\x20no\x20grupo...','sendSticker','mongoose','assign','#dfaef0','):\x20Procurando\x20conversa','lastCondition','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','/instance/fetchInstances','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','PASSWORD','findOne','minutesToClose','updateOneById','list','remove','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','BufferJSON','\x20segundos\x20antes\x20de\x20reconectar...','padEnd','/instance/create','silent','instances','AddChatLabel','getUpdate','Data\x20invlida\x20fornecida','prepareMediaMessage','):\x20whoCanUse\x20after\x20validation:\x20','findByIdAndDelete','Error\x20finding\x20many\x20contacts:','):Processing\x20audio','formatBRNumber','testingWith','):\x20Entrou\x20na\x20funo\x20stop','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','API_KEY','stopped','groupdata.participants','integer','debug','):\x20Conversa\x20inserida\x20com\x20sucesso.','Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.','notas','updateGroupWebhook','/instance','reorderBlocks','beforeExit','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','groupMemberAddMode','lean','interval\x20no\x20\x20um\x20nmero','stopMinutesMaxActives','):Converted\x20image\x20deleted','):\x20\x27Enviando\x20audio\x20para\x20\x27','deleteImportedChat','createConnection','stderr','conversation','author','):Image\x20is\x20base64','whatsappNumber','\x20-i\x20','messages.update','delayMessage','):\x20Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x20','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','sendCommand','updateFlowConfig','findById','\x1b[46m','groupSetting','refused','findAndReplace','DB_PREFIX_NAME','selectedOptions','blockId','\x20adicionado\x20ao\x20chat\x20','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','round','unavailable','events','save','Valor\x20inicial:\x20\x22','connectionState','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Instncia\x20no\x20encontrada.','authModel','groups.update','reject','viewOnceMessage','StartID:','findChats','sendPresenceUpdate','equal','role','TYPE','):\x20Editando\x20edio\x20do\x20fluxo...','mediaKey','profilePictureUrl','extractPhoneNumber','stateConnection','display_text','stanzaId','getProfileName','):\x20Adicionando\x20\x27','recebido\x20de','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','Novo\x20IP\x20criado:\x20','.webp','deleteReplyOption','pino','auth','setHeader','3EB0','updateStopChat','stringify','initializeQueue','textMessage','getContactModelForOwner','Erro\x20ao\x20buscar\x20a\x20conversa','SSL_CONF_FULLCHAIN','processUazapi','deletedCount','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','sendReaction','no.connection','processReadyMessages','send.message','getMessage','):\x20Limpando\x20delayMessage','/wa-contacts','Group\x20not\x20found','The\x20property\x20cannot\x20be\x20empty','\x5cd+','Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','greater','exit','state','extractRegex','reactionMessage','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting','createConversationforStartFlow','\x20\x1b[0m','subjectTime','groups.upsert','getFullYear','proxy:\x20','menuMessage','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','imagechat','presence.update','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','ChatModel','Connection\x20closed\x20for\x20instance:\x20','instance.','\x20contacts','All_Instances_Config','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','fora\x20do\x20git','isValidIPv6Config'];a0_0x4502=function(){return _0x56ae51;};return a0_0x4502();}async function Fo(){const _0x3f419d=a0_0x3d18fe;let _0x1c64f9=await ve[_0x3f419d(0x648)]();he=_0x1c64f9?.[_0x3f419d(0x19d)]??null,Lo=_0x1c64f9?.['DaysToDelete']??null,Fs=_0x1c64f9?.[_0x3f419d(0x7f6)]??_0x3f419d(0x541),xi=_0x1c64f9?.['connectedName']??B??_0x3f419d(0x808);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0xd73344,_0x1e734a,_0x189def){const _0x4f5398=a0_0x3d18fe;this[_0x4f5398(0x599)]=_0xd73344,this[_0x4f5398(0x4f9)]=_0x1e734a,this[_0x4f5398(0x827)]=_0x189def,this['AutomateSystem']=null,this[_0x4f5398(0x53d)]=new $(u[_0x4f5398(0x2f6)]),this[_0x4f5398(0x7ed)]={},this[_0x4f5398(0x4e9)]={},this[_0x4f5398(0x6a1)]={'state':_0x4f5398(0x349)},this[_0x4f5398(0x1d2)]=(0x0,j[_0x4f5398(0x6eb)])(le,_0x4f5398(0x1c9)),this['msgRetryCounterCache']=new Ls[(_0x4f5398(0x62f))](),this[_0x4f5398(0x437)]=new Ls[(_0x4f5398(0x62f))](),this[_0x4f5398(0x1aa)]=!0x1,this[_0x4f5398(0x60d)]={'status.instance':_0x4f5398(0x499),'connection.update':_0x4f5398(0x499),'qrcode.updated':_0x4f5398(0x5d2),'messages.upsert':_0x4f5398(0x12d),'send.message':_0x4f5398(0x12d),'messages.update':'/wa-message-update','group.upsert':_0x4f5398(0x893),'group.update':'/wa-groups','group-participants.update':_0x4f5398(0x893),'messages.set':'/wa-all-message','contacts.set':_0x4f5398(0x6c0),'contacts.upsert':_0x4f5398(0x6c0),'contacts.update':_0x4f5398(0x6c0),'presence.update':_0x4f5398(0x7ff),'chats.set':'/wa-chats','chats.update':_0x4f5398(0x298),'chats.upsert':_0x4f5398(0x298),'chats.delete':_0x4f5398(0x298)},this[_0x4f5398(0x3e9)]=0x0,this[_0x4f5398(0x331)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x630067,_0x114774)=>{const _0x28ac90=_0x4f5398;let _0x1ee7e8=[];for await(let _0x8dce3e of _0x630067)_0x1ee7e8[_0x28ac90(0x1a4)]({'_id':_0x8dce3e['id'],'owner':this[_0x28ac90(0x7ed)][_0x28ac90(0x311)],'group':_0x8dce3e['id'][_0x28ac90(0x601)](_0x28ac90(0x815)),'name':_0x8dce3e[_0x28ac90(0x2f6)]||_0x8dce3e[_0x28ac90(0x2d6)]||null,'contactname':null,'lastmsg':_0x8dce3e['conversationTimestamp']&&_0x8dce3e[_0x28ac90(0x625)][_0x28ac90(0x444)]()[_0x28ac90(0x802)]<0xd?_0x8dce3e[_0x28ac90(0x625)]*0x3e8:_0x8dce3e[_0x28ac90(0x625)]||null,'archived':_0x8dce3e[_0x28ac90(0x61e)]||!0x1,'unreadcount':_0x8dce3e[_0x28ac90(0x1ce)]||0x0,'ephemeralExpiration':_0x8dce3e[_0x28ac90(0x83d)]||0x0});this[_0x28ac90(0x191)]('chats.upsert',_0x1ee7e8);},'chats.update':async(_0x40d825,_0x462f74)=>{const _0x556b24=_0x4f5398;for(let _0x34a313 of _0x40d825){let _0x55df16={'_id':_0x34a313['id'],'owner':this[_0x556b24(0x7ed)]['wuid'],'archived':_0x34a313[_0x556b24(0x61e)],'muteEndTime':_0x34a313[_0x556b24(0x58a)],'ephemeralExpiration':_0x34a313[_0x556b24(0x83d)]},_0x47caef=!0x1,_0x29b41c={};_0x55df16[_0x556b24(0x61e)]!=null&&(this[_0x556b24(0x53d)][_0x556b24(0x75e)](this[_0x556b24(0x3b2)]+'\x20('+this[_0x556b24(0x7ed)]['wuid']+_0x556b24(0x16d)+_0x34a313['id']+_0x556b24(0x237)+_0x34a313[_0x556b24(0x61e)]),_0x47caef=!0x0,_0x29b41c[_0x556b24(0x61e)]=_0x34a313['archived']),_0x556b24(0x58a)in _0x34a313&&(this['logger'][_0x556b24(0x75e)](this['instanceName']+'\x20('+this[_0x556b24(0x7ed)][_0x556b24(0x311)]+_0x556b24(0x49a)+_0x34a313['id']+_0x556b24(0x237)+(_0x34a313['muteEndTime']??'0')),_0x47caef=!0x0,_0x29b41c[_0x556b24(0x58a)]=_0x34a313[_0x556b24(0x58a)]??0x0),_0x556b24(0x83d)in _0x34a313&&(this[_0x556b24(0x53d)][_0x556b24(0x75e)](this[_0x556b24(0x3b2)]+'\x20('+this[_0x556b24(0x7ed)]['wuid']+_0x556b24(0x269)+_0x34a313['id']+_0x556b24(0x237)+(_0x34a313[_0x556b24(0x83d)]!==void 0x0?_0x34a313[_0x556b24(0x83d)]:_0x556b24(0x2b4))),_0x29b41c[_0x556b24(0x83d)]=_0x34a313[_0x556b24(0x83d)]===null?0x0:_0x34a313['ephemeralExpiration'],_0x47caef=!0x0);let _0x227140;_0x47caef&&(_0x227140=await this['repository'][_0x556b24(0x1cd)][_0x556b24(0x442)]({'where':{'_id':_0x34a313['id']}},_0x29b41c,this[_0x556b24(0x7ed)][_0x556b24(0x311)])),_0x227140&&F(this[_0x556b24(0x3b2)],'chats',{'chat':_0x227140});}},'chats.delete':async _0x5e20cf=>{const _0xd71907=_0x4f5398;for(let _0x2bcd3e of _0x5e20cf)if(_0x2bcd3e[_0xd71907(0x601)](_0xd71907(0x815))){await this[_0xd71907(0x827)][_0xd71907(0x1cd)][_0xd71907(0x5cd)]({'where':{'_id':_0x2bcd3e}},this['instance']['wuid']);let _0x533cfd={'where':{'key':{'remoteJid':_0x2bcd3e}}};await this['repository'][_0xd71907(0x867)][_0xd71907(0x5cd)](_0x533cfd,this['instance'][_0xd71907(0x311)]);}else{await this['repository'][_0xd71907(0x1cd)][_0xd71907(0x442)]({'where':{'_id':_0x2bcd3e}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xd71907(0x7ed)][_0xd71907(0x311)]);let _0x5f2a33={'where':{'key':{'remoteJid':_0x2bcd3e}}};await this[_0xd71907(0x827)][_0xd71907(0x867)]['delete'](_0x5f2a33,this[_0xd71907(0x7ed)]['wuid']);}this[_0xd71907(0x191)]('chats.delete',[..._0x5e20cf]);}},this[_0x4f5398(0x3dd)]={'contacts.upsert':async(_0x2e0711,_0x418bcb)=>{const _0x3957f2=_0x4f5398;let _0x111bd8=await this[_0x3957f2(0x827)][_0x3957f2(0x363)][_0x3957f2(0x80c)]({'where':{}},this[_0x3957f2(0x7ed)][_0x3957f2(0x311)]),_0x54b298=[];for await(let _0x459799 of _0x2e0711)_0x111bd8['find'](_0x2c92f0=>_0x2c92f0['_id']===_0x459799['id'])||_0x54b298[_0x3957f2(0x1a4)]({'_id':_0x459799['id'],'pushName':_0x459799?.[_0x3957f2(0x2f6)]||_0x459799?.[_0x3957f2(0x531)],'owner':this[_0x3957f2(0x7ed)][_0x3957f2(0x311)]});this[_0x3957f2(0x191)](_0x3957f2(0x3aa),_0x54b298),await this['repository'][_0x3957f2(0x363)][_0x3957f2(0x300)](_0x54b298);},'contacts.update':async(_0x3b6de4,_0x203d2c)=>{const _0x5e2e91=_0x4f5398;let _0x34e61d=[];for await(let _0x5229b5 of _0x3b6de4)_0x34e61d[_0x5e2e91(0x1a4)]({'_id':_0x5229b5['id'],'pushName':_0x5229b5?.[_0x5e2e91(0x2f6)]??_0x5229b5?.[_0x5e2e91(0x531)],'owner':this[_0x5e2e91(0x7ed)][_0x5e2e91(0x311)]});this[_0x5e2e91(0x191)](_0x5e2e91(0x149),_0x34e61d);}},this[_0x4f5398(0x578)]={'messaging-history.set':async({messages:_0x5cb1c4,chats:_0x2d7eef,isLatest:_0x53d7b0},_0x4353c2)=>{const _0x4bfedd=_0x4f5398;if(_0x53d7b0){let _0x527e4c=await Promise[_0x4bfedd(0x6e6)](_0x2d7eef[_0x4bfedd(0x82a)](async _0x4c98a3=>({'_id':_0x4c98a3['id'],'owner':this[_0x4bfedd(0x7ed)]['wuid'],'group':_0x4c98a3['id'][_0x4bfedd(0x601)](_0x4bfedd(0x815)),'name':_0x4c98a3[_0x4bfedd(0x2f6)]||_0x4c98a3[_0x4bfedd(0x2d6)]||_0x4c98a3[_0x4bfedd(0x8ac)]||null,'contactname':null,'lastmsg':_0x4c98a3['conversationTimestamp']&&_0x4c98a3[_0x4bfedd(0x625)]['toString']()[_0x4bfedd(0x802)]<0xd?_0x4c98a3[_0x4bfedd(0x625)]*0x3e8:_0x4c98a3['conversationTimestamp']||null,'archived':_0x4c98a3['archived']||!0x1,'unreadcount':_0x4c98a3['unreadCount']||0x0,'ephemeralExpiration':_0x4c98a3['ephemeralExpiration']||0x0,'muteEndTime':_0x4c98a3[_0x4bfedd(0x58a)]||0x0})));this[_0x4bfedd(0x191)]('chats.set',_0x527e4c),await this[_0x4bfedd(0x4fb)](_0x527e4c,_0x4353c2);}let _0x8d81a0=[],_0x1e57cd=Date[_0x4bfedd(0x7f3)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x125f64]of Object[_0x4bfedd(0x6ed)](_0x5cb1c4)){if(_0x125f64[_0x4bfedd(0x867)]?.[_0x4bfedd(0x39f)]||_0x125f64['message']?.['senderKeyDistributionMessage']||!_0x125f64[_0x4bfedd(0x867)]||_0x125f64[_0x4bfedd(0x406)][_0x4bfedd(0x7f9)]===_0x4bfedd(0x758)||(ks[_0x4bfedd(0x62f)][_0x4bfedd(0x234)](_0x125f64?.[_0x4bfedd(0x849)])&&(_0x125f64[_0x4bfedd(0x849)]=_0x125f64[_0x4bfedd(0x849)]?.[_0x4bfedd(0x71d)]()),_0x125f64[_0x4bfedd(0x849)]&&_0x125f64[_0x4bfedd(0x849)][_0x4bfedd(0x444)]()[_0x4bfedd(0x802)]<0xd&&(_0x125f64['messageTimestamp']=_0x125f64[_0x4bfedd(0x849)]*0x3e8),_0x125f64[_0x4bfedd(0x849)]<_0x1e57cd))continue;let _0x27b57d=(0x0,w[_0x4bfedd(0x737)])(_0x125f64[_0x4bfedd(0x867)]),_0x12c4d7=(0x0,w['getContentType'])(_0x27b57d),{message_normalized:_0x420fb6}=this[_0x4bfedd(0x32f)](_0x27b57d,_0x12c4d7,null);Object[_0x4bfedd(0x551)](_0x420fb6)['length']>0x0&&_0x8d81a0['push']({'_id':_0x125f64[_0x4bfedd(0x406)]['id'],'key':_0x125f64[_0x4bfedd(0x406)],'pushName':_0x125f64['pushName'],'participant':_0x125f64[_0x4bfedd(0x153)],'message':_0x27b57d,'messageType':_0x12c4d7,'message_normalized':{'key':_0x125f64['key'],'pushName':_0x125f64[_0x4bfedd(0x581)],'messageTimestamp':_0x125f64['messageTimestamp'],..._0x420fb6},'messageTimestamp':_0x125f64[_0x4bfedd(0x849)],'owner':this[_0x4bfedd(0x7ed)][_0x4bfedd(0x311)]});}_0x4353c2[_0x4bfedd(0x724)]&&_0x8d81a0['length']>0x0&&(this[_0x4bfedd(0x53d)]['verbose'](this[_0x4bfedd(0x3b2)]+'\x20('+this[_0x4bfedd(0x7ed)]['wuid']+_0x4bfedd(0x851)+_0x8d81a0[_0x4bfedd(0x802)]+_0x4bfedd(0x591)+this[_0x4bfedd(0x7ed)]['wuid']+_0x4bfedd(0x705)),await this[_0x4bfedd(0x827)][_0x4bfedd(0x867)][_0x4bfedd(0x300)]([..._0x8d81a0],this['instance'][_0x4bfedd(0x311)])),this[_0x4bfedd(0x191)]('messages.set',[..._0x8d81a0]),_0x5cb1c4=void 0x0;},'messages.upsert':async({messages:_0xee7cec,type:_0x2b9108},_0x40112c)=>{const _0x3a2583=_0x4f5398;for(let _0x24eefe of _0xee7cec){if(this[_0x3a2583(0x4e9)]?.[_0x3a2583(0x5cc)]&&_0x24eefe[_0x3a2583(0x406)][_0x3a2583(0x7f9)]['includes']('@g.us')){this['logger']['verbose'](this[_0x3a2583(0x3b2)]+'\x20('+this[_0x3a2583(0x7ed)][_0x3a2583(0x311)]+_0x3a2583(0x43a));return;}if(_0x24eefe['key'][_0x3a2583(0x7f9)][_0x3a2583(0x3f1)](_0x3a2583(0x588))||_0x24eefe[_0x3a2583(0x406)][_0x3a2583(0x7f9)]===_0x3a2583(0x758))return;if(_0x24eefe[_0x3a2583(0x155)]&&_0x24eefe[_0x3a2583(0x155)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x3a2583(0x4e8)](_0x3a2583(0x4ba)),await this[_0x3a2583(0x355)](_0x24eefe),Lt[_0x24eefe[_0x3a2583(0x406)]['id']]=_0x24eefe,this[_0x3a2583(0x4af)](_0x24eefe,0x0);return;}if(_0x2b9108!==_0x3a2583(0x630)||!_0x24eefe?.[_0x3a2583(0x867)]||_0x24eefe[_0x3a2583(0x867)]?.[_0x3a2583(0x39f)]||_0x24eefe[_0x3a2583(0x867)]?.[_0x3a2583(0x86a)])return;let _0x1780a1=null,_0x39e6f5=null;Lt[_0x24eefe[_0x3a2583(0x406)]['id']]&&(console[_0x3a2583(0x4e8)](_0x3a2583(0x62c)),await this[_0x3a2583(0x827)][_0x3a2583(0x3c9)][_0x3a2583(0x5cd)]({'where':{'_id':_0x24eefe[_0x3a2583(0x406)]['id']}}),delete Lt[_0x24eefe[_0x3a2583(0x406)]['id']]);try{_0x1780a1=await this[_0x3a2583(0x580)](_0x24eefe),_0x39e6f5=_0x1780a1?_0x1780a1[_0x3a2583(0x6eb)](','):null;}catch(_0x5d6712){this[_0x3a2583(0x53d)][_0x3a2583(0x75e)](this[_0x3a2583(0x3b2)]+'\x20('+this['instance']['wuid']+_0x3a2583(0x851)+(_0x5d6712 instanceof Error?_0x5d6712['message']:JSON[_0x3a2583(0x6b1)](_0x5d6712,null,0x2))),_0x39e6f5=_0x3a2583(0x345);}this[_0x3a2583(0x880)]['sendPresenceUpdate'](_0x3a2583(0x68c)),ks[_0x3a2583(0x62f)]['isLong'](_0x24eefe['messageTimestamp'])&&(_0x24eefe['messageTimestamp']=_0x24eefe[_0x3a2583(0x849)]?.['toNumber']()),_0x24eefe[_0x3a2583(0x849)]&&_0x24eefe['messageTimestamp'][_0x3a2583(0x444)]()[_0x3a2583(0x802)]<0xd&&(_0x24eefe[_0x3a2583(0x849)]=_0x24eefe['messageTimestamp']*0x3e8);let _0x34122d=_0x24eefe[_0x3a2583(0x867)],_0xa6a304=(0x0,w['normalizeMessageContent'])(_0x34122d),_0x34445d=(0x0,w[_0x3a2583(0x3ce)])(_0xa6a304),{messageContent:_0x34b31b,message_normalized:_0x2654e1}=this[_0x3a2583(0x32f)](_0xa6a304,_0x34445d,_0x39e6f5);if(_0x34445d===_0x3a2583(0x39f)&&_0x34b31b?.[_0x3a2583(0x3e8)]&&(_0x34445d=_0x3a2583(0x3e8)),_0x34445d===_0x3a2583(0x3d1)&&_0x24eefe[_0x3a2583(0x406)]['fromMe'])return;let _0x2b5289,_0x18e17e=_0x24eefe[_0x3a2583(0x406)][_0x3a2583(0x7f9)][_0x3a2583(0x601)](_0x3a2583(0x815));if(_0x24eefe[_0x3a2583(0x406)]['fromMe'])_0x2b5289=this[_0x3a2583(0x7ed)][_0x3a2583(0x69f)];else{let _0x5da67b=_0x18e17e?_0x24eefe['key'][_0x3a2583(0x153)]:_0x24eefe[_0x3a2583(0x406)][_0x3a2583(0x7f9)];_0x2b5289=(await this['findAndUpdateCacheContact'](_0x5da67b,_0x24eefe[_0x3a2583(0x581)],!0x1))[_0x3a2583(0x5bb)][_0x3a2583(0x450)];}let _0x35e64c={'_id':_0x24eefe['key']['id'],'key':_0x24eefe[_0x3a2583(0x406)],'isGroup':_0x18e17e,'profilePictureUrl':_0x2b5289,'pushName':_0x24eefe['pushName'],'message':_0xa6a304,'messageType':_0x34445d,'message_normalized':{'key':_0x24eefe[_0x3a2583(0x406)],'pushName':_0x24eefe[_0x3a2583(0x581)],'messageTimestamp':_0x24eefe['messageTimestamp'],'source':(0x0,w[_0x3a2583(0x7ec)])(_0x24eefe[_0x3a2583(0x406)]['id']),..._0x2654e1},'messageTimestamp':_0x24eefe[_0x3a2583(0x849)],'owner':this[_0x3a2583(0x7ed)][_0x3a2583(0x311)],'source':(0x0,w['getDevice'])(_0x24eefe['key']['id']),'expiration':_0x34b31b?.[_0x3a2583(0x517)]?.[_0x3a2583(0x769)]||0x0};if(_0x34b31b||(this[_0x3a2583(0x53d)][_0x3a2583(0x4e8)]('Mensagem\x20no\x20suportada'),this['logger']['error'](_0x35e64c)),_0x2654e1[_0x3a2583(0x2b3)]==='${Message\x20absent\x20from\x20node}'){console[_0x3a2583(0x4e8)]('[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao'),await this[_0x3a2583(0x355)](_0x24eefe);return;}this[_0x3a2583(0x53d)][_0x3a2583(0x4e7)](this[_0x3a2583(0x3b2)]+'\x20('+this[_0x3a2583(0x7ed)][_0x3a2583(0x311)]+_0x3a2583(0x851)+(_0x35e64c[_0x3a2583(0x406)]?.[_0x3a2583(0x840)]?_0x3a2583(0x4ce):_0x3a2583(0x6a6))+'\x20['+_0x35e64c['key']?.[_0x3a2583(0x7f9)][_0x3a2583(0x5e7)](_0x3a2583(0x826),'')+']\x20('+_0x35e64c[_0x3a2583(0x560)]+')'),_0x35e64c[_0x3a2583(0x34f)]?.[_0x3a2583(0x2b3)]&&this[_0x3a2583(0x53d)][_0x3a2583(0x4e7)](_0x24eefe['key']['id']+':\x20'+_0x35e64c[_0x3a2583(0x34f)]?.[_0x3a2583(0x2b3)]),await this[_0x3a2583(0x827)][_0x3a2583(0x867)][_0x3a2583(0x300)]([_0x35e64c],this[_0x3a2583(0x7ed)]['wuid']),this['sendDataWebhook'](_0x3a2583(0x7cd),_0x35e64c),F(this[_0x3a2583(0x3b2)],_0x3a2583(0x4cf),{'message':_0x35e64c}),_0x24eefe['key'][_0x3a2583(0x7f9)]!==_0x3a2583(0x758)&&await this['updateChatWithMessage'](_0x40112c,_0x35e64c,_0x3a2583(0x4df));}},'messages.update':async(_0x256d4c,_0x3cacda)=>{const _0x2841c0=_0x4f5398;let _0x3b3df2={0x0:_0x2841c0(0x370),0x1:_0x2841c0(0x42c),0x2:_0x2841c0(0x1a3),0x3:_0x2841c0(0x4db),0x4:_0x2841c0(0x3c6),0x5:_0x2841c0(0x23a)};for await(let {key:_0x3d2509,update:_0x35e464}of _0x256d4c){if(this[_0x2841c0(0x4e9)]?.[_0x2841c0(0x5cc)]&&_0x3d2509[_0x2841c0(0x7f9)][_0x2841c0(0x3f1)](_0x2841c0(0x815))){this['logger'][_0x2841c0(0x75e)](this[_0x2841c0(0x3b2)]+'\x20('+this[_0x2841c0(0x7ed)][_0x2841c0(0x311)]+_0x2841c0(0x511));return;}if(_0x3d2509[_0x2841c0(0x7f9)]!==_0x2841c0(0x758)){let _0x2d122d=Date[_0x2841c0(0x7f3)](),_0x83133b;_0x35e464[_0x2841c0(0x867)]===null&&_0x35e464[_0x2841c0(0x1b2)]===void 0x0?_0x83133b=_0x2841c0(0x329):_0x83133b=_0x3b3df2[_0x35e464[_0x2841c0(0x1b2)]];let _0x33a443=_0x3d2509['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x123c5b={..._0x3d2509,'remoteJid':_0x33a443,'status':_0x83133b,'datetime':_0x2d122d,'owner':this[_0x2841c0(0x7ed)][_0x2841c0(0x311)]};this[_0x2841c0(0x191)](_0x2841c0(0x67b),_0x123c5b),await this[_0x2841c0(0x230)](_0x3d2509,_0x123c5b);}}},'labels.association':async({type:_0x40e715,association:_0x250148})=>{const _0x5b373d=_0x4f5398;if(_0x250148['type']===_0x5b373d(0x56f)){let _0x34e211,_0x1864c8=0x0;for(;!_0x34e211&&_0x1864c8<this[_0x5b373d(0x5b3)];)_0x34e211=await this[_0x5b373d(0x827)][_0x5b373d(0x1cd)][_0x5b373d(0x648)]({'where':{'_id':_0x250148[_0x5b373d(0x38b)]}},this[_0x5b373d(0x7ed)][_0x5b373d(0x311)]),_0x34e211||(_0x1864c8++,this[_0x5b373d(0x53d)][_0x5b373d(0x4f2)](this[_0x5b373d(0x3b2)]+'\x20('+this['instance']['wuid']+_0x5b373d(0x2a3)+_0x250148['chatId']+'\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x5b373d(0x5f3)]+_0x5b373d(0x233)+_0x1864c8+'/'+this[_0x5b373d(0x5b3)]+')'),await this[_0x5b373d(0x3ec)](this[_0x5b373d(0x5f3)]));if(!_0x34e211){this[_0x5b373d(0x53d)][_0x5b373d(0x4e8)](_0x5b373d(0x5e6)+_0x250148[_0x5b373d(0x38b)]+_0x5b373d(0x212)+this[_0x5b373d(0x5b3)]+_0x5b373d(0x3d4));return;}switch(_0x40e715){case _0x5b373d(0x4b0):console[_0x5b373d(0x4e7)](_0x250148),await this[_0x5b373d(0x827)]['chat'][_0x5b373d(0x442)]({'where':{'_id':_0x250148['chatId']}},{'leadInfo.etiquetas':_0x250148[_0x5b373d(0x1ca)]},this[_0x5b373d(0x7ed)][_0x5b373d(0x311)],void 0x0,'$addToSet');break;case'remove':console[_0x5b373d(0x4e7)](_0x250148),await this[_0x5b373d(0x827)][_0x5b373d(0x1cd)][_0x5b373d(0x442)]({'where':{'_id':_0x250148[_0x5b373d(0x38b)]}},{'leadInfo.etiquetas':_0x250148[_0x5b373d(0x1ca)]},this[_0x5b373d(0x7ed)]['wuid'],void 0x0,_0x5b373d(0x12a));break;default:this[_0x5b373d(0x53d)]['error'](_0x5b373d(0x3c1)+_0x40e715+']');}}},'labels.edit':async _0x3f1d33=>{const _0x25ab07=_0x4f5398;if(!_0x3f1d33||!_0x3f1d33['id']){this[_0x25ab07(0x53d)][_0x25ab07(0x4e8)](_0x25ab07(0x8a5));return;}if(!_0x3f1d33[_0x25ab07(0x18f)]){let _0x2e9444=[_0x25ab07(0x276),_0x25ab07(0x12f),_0x25ab07(0x77e),_0x25ab07(0x641),'#9ab6c1',_0x25ab07(0x240),_0x25ab07(0x43f),_0x25ab07(0x52e),_0x25ab07(0x1c7),_0x25ab07(0x2ca),_0x25ab07(0x28a),'#ffc5c7',_0x25ab07(0x775),_0x25ab07(0x49e),_0x25ab07(0x15c),'#83e421',_0x25ab07(0x48f),'#b4ebff',_0x25ab07(0x28c),_0x25ab07(0x7d9)],_0x9963a8;typeof _0x3f1d33[_0x25ab07(0x308)]==_0x25ab07(0x28f)&&_0x3f1d33[_0x25ab07(0x308)]>=0x0&&_0x3f1d33[_0x25ab07(0x308)]<_0x2e9444[_0x25ab07(0x802)]?_0x9963a8=_0x2e9444[_0x3f1d33[_0x25ab07(0x308)]]:(this[_0x25ab07(0x53d)]['error']('Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x3f1d33[_0x25ab07(0x308)]),_0x9963a8=_0x25ab07(0x701));let _0x175874={'_id':_0x3f1d33['id'],'colorHex':_0x9963a8,'color':_0x3f1d33?.['color'],'name':_0x3f1d33?.['name'],'owner':this['instance'][_0x25ab07(0x311)]};await this[_0x25ab07(0x827)][_0x25ab07(0x589)][_0x25ab07(0x442)]({'where':{'_id':_0x3f1d33['id']}},_0x175874,this['instance'][_0x25ab07(0x311)]),this[_0x25ab07(0x53d)][_0x25ab07(0x4f2)](this[_0x25ab07(0x3b2)]+'\x20('+this['instance'][_0x25ab07(0x311)]+_0x25ab07(0x798)+_0x3f1d33);}_0x3f1d33[_0x25ab07(0x18f)]&&(await this['repository'][_0x25ab07(0x589)][_0x25ab07(0x5cd)]({'where':{'_id':_0x3f1d33['id']}},this[_0x25ab07(0x7ed)]['wuid']),this[_0x25ab07(0x53d)][_0x25ab07(0x4f2)]('Rtulo\x20deletado:\x27,\x20'+_0x3f1d33['id']));}},this[_0x4f5398(0x6e7)]={'groups.upsert':async _0x58f176=>{const _0x43dbe6=_0x4f5398;this[_0x43dbe6(0x4e9)]?.[_0x43dbe6(0x5cc)]||this[_0x43dbe6(0x191)]('groups.upsert',_0x58f176);for(let _0x657ea9 of _0x58f176)await this[_0x43dbe6(0x668)](_0x657ea9);},'groups.update':async _0x3d0e0c=>{const _0x5b1566=_0x4f5398;this[_0x5b1566(0x4e9)]?.[_0x5b1566(0x5cc)]||this['sendDataWebhook'](_0x5b1566(0x694),_0x3d0e0c);for(let _0x5c01a9 of _0x3d0e0c)await this[_0x5b1566(0x668)](_0x5c01a9);},'group-participants.update':async _0x4b5f53=>{const _0x2c191d=_0x4f5398;this[_0x2c191d(0x4e9)]?.['groups_ignore']||this['sendDataWebhook'](_0x2c191d(0x2da),_0x4b5f53),await this['updateGroupParticipantsWebhook'](_0x4b5f53);}},this[_0x4f5398(0x5b3)]=0x5,this[_0x4f5398(0x5f3)]=0x1388,this[_0x4f5398(0x482)]=0x0,this['processPollUpdateMessage']=async _0x17111a=>{const _0x2907e2=_0x4f5398;if(_0x17111a[_0x2907e2(0x867)]?.[_0x2907e2(0x207)]){let _0x235188=await this['getMessage'](_0x17111a[_0x2907e2(0x867)][_0x2907e2(0x207)]['pollCreationMessageKey'],!0x0);if(_0x235188){let _0x1da146=_0x235188[_0x2907e2(0x406)][_0x2907e2(0x840)]?this[_0x2907e2(0x7ed)]['wuid']+_0x2907e2(0x826):_0x235188[_0x2907e2(0x406)]['participant']||_0x235188[_0x2907e2(0x406)][_0x2907e2(0x7f9)],_0x31bf91=_0x235188[_0x2907e2(0x406)]['id'],_0x3aa569=_0x235188[_0x2907e2(0x867)],_0x26f9e5=Buffer[_0x2907e2(0x13c)](_0x3aa569[_0x2907e2(0x16e)][_0x2907e2(0x464)][_0x2907e2(0x444)](_0x2907e2(0x848)),_0x2907e2(0x848)),_0x53ee03=(0x0,w[_0x2907e2(0x416)])(_0x17111a[_0x2907e2(0x867)][_0x2907e2(0x207)]['vote'],{'pollCreatorJid':_0x1da146,'pollMsgId':_0x31bf91,'pollEncKey':_0x26f9e5,'voterJid':_0x17111a[_0x2907e2(0x406)][_0x2907e2(0x840)]?this[_0x2907e2(0x7ed)]['wuid']+'@s.whatsapp.net':_0x17111a[_0x2907e2(0x406)][_0x2907e2(0x7f9)]['endsWith'](_0x2907e2(0x1f2))?_0x17111a[_0x2907e2(0x406)][_0x2907e2(0x153)]:_0x17111a['key']['remoteJid']}),_0x1dd22a=[],_0x30880e=_0x53ee03[_0x2907e2(0x687)][_0x2907e2(0x82a)](_0x1c7048=>Buffer['from'](_0x1c7048)['toString']('hex'));for(let {optionName:_0x162462}of _0x3aa569[_0x2907e2(0x192)]?.[_0x2907e2(0x6f5)]||_0x3aa569[_0x2907e2(0x5c8)]?.[_0x2907e2(0x6f5)]||_0x3aa569['pollCreationMessageV2']?.[_0x2907e2(0x6f5)])_0x30880e[_0x2907e2(0x18e)]((0x0,w['sha256'])(Buffer[_0x2907e2(0x13c)](_0x162462))[_0x2907e2(0x444)]('hex'))>-0x1&&_0x1dd22a['push'](_0x162462);return _0x1dd22a;}}return null;},this['normalizeMessage']=(_0x181fa9,_0xcff1c4,_0x2af4c4)=>{const _0x4693d6=_0x4f5398;try{let _0x1c1bd0=_0x181fa9?(0x0,w['extractMessageContent'])(_0x181fa9)[_0xcff1c4]:void 0x0,_0x1cc3ca={},_0x42d643=null,_0x3148fa=null,_0x3f7d55=null,_0x191be5=null;_0xcff1c4==='protocolMessage'&&_0x1c1bd0?.[_0x4693d6(0x3e8)]&&(_0xcff1c4=(0x0,w[_0x4693d6(0x3ce)])(_0x1c1bd0['editedMessage']),_0x42d643=_0x181fa9[_0x4693d6(0x39f)]['key']['id'],_0x1c1bd0=_0x181fa9['protocolMessage'][_0x4693d6(0x3e8)][_0xcff1c4]),_0x181fa9[_0xcff1c4]?.[_0x4693d6(0x517)]?.[_0x4693d6(0x6a3)]&&_0x181fa9[_0xcff1c4]?.[_0x4693d6(0x517)]?.['quotedMessage']&&(_0x3148fa=_0x181fa9[_0xcff1c4][_0x4693d6(0x517)][_0x4693d6(0x6a3)]),_0x181fa9[_0x4693d6(0x6cb)]&&(_0x3f7d55=_0x181fa9[_0x4693d6(0x6cb)]['key']['id']);let _0x2ded98;if(_0x1c1bd0&&typeof _0x1c1bd0==_0x4693d6(0x85e)&&_0x4693d6(0x258)in _0x1c1bd0&&({pollCreationMessageKey:_0x2ded98}=_0x1c1bd0),_0xcff1c4===_0x4693d6(0x192)||_0xcff1c4==='pollCreationMessageV2'||_0xcff1c4===_0x4693d6(0x5c8)){let _0x218542=_0x1c1bd0['options'][_0x4693d6(0x82a)](_0x165df0=>_0x165df0['optionName'])[_0x4693d6(0x6eb)]('|');_0x1cc3ca[_0x4693d6(0x54b)]=_0x218542;}if(_0xcff1c4===_0x4693d6(0x3d1)){let _0x3bce17=_0x1c1bd0['nativeFlowMessage'][_0x4693d6(0x1db)][_0x4693d6(0x82a)](_0x715d20=>JSON[_0x4693d6(0x78c)](_0x715d20['buttonParamsJson'])[_0x4693d6(0x6a2)])[_0x4693d6(0x6eb)]('|');_0x1cc3ca[_0x4693d6(0x54b)]=_0x3bce17;}_0xcff1c4===_0x4693d6(0x3e1)&&(_0x1cc3ca['buttonOrList_id']=_0x1c1bd0?.['singleSelectReply']?.[_0x4693d6(0x545)]);let _0x4fc6f1='';if(_0x1c1bd0&&(_0x4fc6f1+=_0x1c1bd0[_0x4693d6(0x2f6)]?_0x1c1bd0['name']:'',_0x4fc6f1+=_0x1c1bd0[_0x4693d6(0x5ff)]?'\x20'+_0x1c1bd0[_0x4693d6(0x5ff)]:'',_0x4fc6f1+=_0x1c1bd0['conversation']?'\x20'+_0x1c1bd0[_0x4693d6(0x676)]:'',_0x4fc6f1+=_0x1c1bd0[_0x4693d6(0x2d6)]?'\x20'+_0x1c1bd0[_0x4693d6(0x2d6)]:'',_0xcff1c4!==_0x4693d6(0x1b6)&&(_0x4fc6f1+=_0x1c1bd0[_0x4693d6(0x51d)]?.[_0x4693d6(0x2b3)]?'\x20'+_0x1c1bd0[_0x4693d6(0x51d)][_0x4693d6(0x2b3)]:''),_0x4fc6f1+=_0x1c1bd0?.[_0x4693d6(0x22b)]?.[_0x4693d6(0x2b3)]?'\x20'+_0x1c1bd0?.[_0x4693d6(0x22b)]?.[_0x4693d6(0x2b3)]:''),_0xcff1c4===_0x4693d6(0x19b)){_0x4fc6f1=(_0x1c1bd0[_0x4693d6(0x7b8)]||'')+'\x0a'+(_0x1c1bd0['description']||'')+'\x0a'+(_0x1c1bd0[_0x4693d6(0x50d)]||'');let _0x397a8e=this[_0x4693d6(0x411)](_0x1c1bd0[_0x4693d6(0x494)]);_0x1cc3ca[_0x4693d6(0x54b)]=_0x397a8e;}if(_0xcff1c4===_0x4693d6(0x3e1)&&(_0x2af4c4=_0x1c1bd0['title'],_0x191be5=_0x1c1bd0?.['singleSelectReply']?.['selectedRowId']),_0xcff1c4===_0x4693d6(0x1b6)){let _0x8822e8=_0x1c1bd0?.['nativeFlowResponseMessage'];_0x8822e8&&_0x8822e8['name']==='menu_options'&&(_0x191be5=JSON[_0x4693d6(0x78c)](_0x8822e8[_0x4693d6(0x8aa)])['id']),_0x2af4c4=_0x1c1bd0?.['body']?.[_0x4693d6(0x2b3)];}if(_0xcff1c4===_0x4693d6(0x80f)&&(_0x2af4c4=_0x1c1bd0?.['selectedDisplayText'],_0x191be5=_0x1c1bd0?.[_0x4693d6(0x265)]),_0x1c1bd0&&_0x1c1bd0[_0x4693d6(0x616)]){let _0x3d353c=this[_0x4693d6(0x2d3)](JSON[_0x4693d6(0x6b1)](_0x1c1bd0['vcard'],null,0x2));_0x4fc6f1=_0x4fc6f1+'\x0a'+_0x3d353c;}if(_0x1c1bd0){let {nativeFlowResponseMessage:_0x4e9574,selectedId:_0x3c3c93,selectedDisplayText:_0x497c5d,selectedIndex:_0x1aa560,body:_0x4f9187,nativeFlowMessage:_0x419add,singleSelectReply:_0x351fe2,sections:_0x1b04a9,listType:_0x5eb20b,displayName:_0x55647d,vcard:_0x3bd922,contactVcard:_0x42dd5c,name:_0x8ebac7,caption:_0x2d96cb,conversation:_0x4097a9,pollCreationMessageKey:_0x46f711,footerText:_0x5de1b3,contentText:_0x58298b,pageCount:_0x54431a,headerType:_0x1e55bd,isAvatar:_0x142071,isAnimated:_0xf0c3fe,fallbackLc:_0x3e99d3,fallbackLg:_0x3c6c40,namespace:_0x7c5983,elementName:_0x3c508b,localizableParams:_0x39d2d0,viewOnce:_0x33eae5,height:_0x1232a8,width:_0x1ed8ba,key:_0xb5740b,firstScanLength:_0x3bc9d5,firstScanSidecar:_0x183248,gifPlayback:_0x581913,gifAttribution:_0x2968c5,midQualityFileSha256:_0x1cc249,scansSidecar:_0x44efd9,streamingSidecar:_0x47e18d,thumbnailHeight:_0x2400e4,thumbnailWidth:_0x48da41,thumbnailEncSha256:_0x2397fc,thumbnailDirectPath:_0x5385f5,canonicalUrl:_0x5dd33a,matchedText:_0x1633b2,previewType:_0x224947,thumbnailSha256:_0x41f7df,deviceListMetadataVersion:_0x22fb95,inviteLinkGroupTypeV2:_0x4a8372,interactiveAnnotations:_0x27872c,scanLengths:_0x141db6,jpegThumbnail:_0x58f2a9,url:_0x2dc136,mediaKeyTimestamp:_0x5a3aad,waveform:_0x3a4caa,stickerSentTs:_0x260d50,firstFrameLength:_0xc996c2,fileEncSha256:_0x41bb06,contextInfo:_0x3c2d56,firstFrameSidecar:_0x36a05b,directPath:_0x4d09e1,fileSha256:_0x1f2c91,mediaKey:_0x3f8540,senderTimestampMs:_0x562793,..._0xe05062}=_0x1c1bd0;(_0xcff1c4===_0x4693d6(0x19b)||_0xcff1c4==='listResponseMessage')&&(delete _0xe05062['title'],delete _0xe05062[_0x4693d6(0x5eb)]),typeof _0x1c1bd0==_0x4693d6(0x29b)?_0x1cc3ca={'text':_0x1c1bd0,'type':_0xcff1c4||_0x4693d6(0x676),..._0x42d643&&{'edited':_0x42d643},..._0x3148fa&&{'quoted':_0x3148fa},..._0x3f7d55&&{'reaction':_0x3f7d55}}:_0x1cc3ca={'text':_0x4fc6f1,..._0xe05062,..._0xcff1c4==='pollUpdateMessage'?{'poll_id':_0x1c1bd0[_0x4693d6(0x258)]['id'],'quoted':_0x1c1bd0[_0x4693d6(0x258)]['id'],'vote':_0x2af4c4}:{},..._0xcff1c4===_0x4693d6(0x3e1)?{'buttonOrList_id':_0x191be5,'vote':_0x2af4c4}:{},..._0xcff1c4===_0x4693d6(0x1b6)?{'buttonOrList_id':_0x191be5,'vote':_0x2af4c4}:{},..._0xcff1c4===_0x4693d6(0x80f)?{'buttonOrList_id':_0x191be5,'vote':_0x2af4c4}:{},'type':_0xcff1c4,..._0x42d643&&{'edited':_0x42d643},..._0x3148fa&&{'quoted':_0x3148fa},..._0x3f7d55&&{'reaction':_0x3f7d55},...(_0xcff1c4==='pollCreationMessage'||_0xcff1c4==='pollCreationMessageV2'||_0xcff1c4===_0x4693d6(0x5c8)||_0xcff1c4===_0x4693d6(0x19b)||_0xcff1c4===_0x4693d6(0x3d1))&&{'convertedOptions':_0x1cc3ca['convertedOptions']}};}return{'messageType':_0xcff1c4,'messageContent':_0x1c1bd0,'message_normalized':_0x1cc3ca};}catch(_0xf42077){return this[_0x4693d6(0x53d)][_0x4693d6(0x4e8)](_0x4693d6(0x5a8)+_0xf42077),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x4f5398(0x595)]=[],(this[_0x4f5398(0x6e3)](),this[_0x4f5398(0x6b2)](),this['instance']['qrcode']={'count':0x0},this['instance'][_0x4f5398(0x37c)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x3d18fe(0x3b2)](_0x372b9d){const _0x10752f=a0_0x3d18fe;if(!_0x372b9d){this[_0x10752f(0x7ed)][_0x10752f(0x2f6)]=(0x0,Ii['v4'])();return;}this[_0x10752f(0x7ed)][_0x10752f(0x2f6)]=_0x372b9d,this['sendDataWebhook']('status.instance',{'instance':this[_0x10752f(0x7ed)][_0x10752f(0x2f6)],'status':_0x10752f(0x778)});}get[a0_0x3d18fe(0x3b2)](){const _0x5db7aa=a0_0x3d18fe;return this[_0x5db7aa(0x7ed)][_0x5db7aa(0x2f6)];}get[a0_0x3d18fe(0x311)](){return this['instance']['wuid'];}async[a0_0x3d18fe(0x6a4)](){const _0x17b2bc=a0_0x3d18fe;let _0x40f029=this['client'][_0x17b2bc(0x55b)]?.[_0x17b2bc(0x2f6)]??this[_0x17b2bc(0x880)][_0x17b2bc(0x55b)]?.['verifiedName'];if(!_0x40f029){if(this['configService'][_0x17b2bc(0x5d8)](_0x17b2bc(0x5f5))['ENABLED']){let _0x2b9662=await I[_0x17b2bc(0x5e0)]()['db'](this[_0x17b2bc(0x599)]['get'](_0x17b2bc(0x5f5))[_0x17b2bc(0x306)][_0x17b2bc(0x686)]+_0x17b2bc(0x4a5))[_0x17b2bc(0x74d)](this[_0x17b2bc(0x3b2)])[_0x17b2bc(0x648)]({'_id':_0x17b2bc(0x5a9)});if(_0x2b9662){let _0x3aed83=JSON[_0x17b2bc(0x78c)](JSON[_0x17b2bc(0x6b1)](_0x2b9662),w[_0x17b2bc(0x64e)][_0x17b2bc(0x19f)]);_0x40f029=_0x3aed83['me']?.[_0x17b2bc(0x2f6)]||_0x3aed83['me']?.[_0x17b2bc(0x531)];}}else{if((0x0,Le[_0x17b2bc(0x2e8)])((0x0,j[_0x17b2bc(0x6eb)])(Se,this[_0x17b2bc(0x3b2)],_0x17b2bc(0x739)))){let _0x17d469=JSON['parse']((0x0,Le[_0x17b2bc(0x889)])((0x0,j[_0x17b2bc(0x6eb)])(Se,this[_0x17b2bc(0x3b2)],_0x17b2bc(0x739)),{'encoding':_0x17b2bc(0x6e2)}));_0x40f029=_0x17d469['me']?.[_0x17b2bc(0x2f6)]||_0x17d469['me']?.['verifiedName'];}}}return _0x40f029;}get['profilePictureUrl'](){const _0x176b11=a0_0x3d18fe;return this[_0x176b11(0x7ed)][_0x176b11(0x69f)];}async['isBusinessInstance'](){const _0x1c40e1=a0_0x3d18fe;let _0x3c350a=this[_0x1c40e1(0x7ed)][_0x1c40e1(0x311)]+_0x1c40e1(0x826);try{await this[_0x1c40e1(0x880)][_0x1c40e1(0x454)](_0x3c350a)?this[_0x1c40e1(0x7ed)][_0x1c40e1(0x782)]=!0x0:this[_0x1c40e1(0x7ed)][_0x1c40e1(0x782)]=!0x1;}catch{this[_0x1c40e1(0x7ed)][_0x1c40e1(0x782)]=!0x1;}return this[_0x1c40e1(0x53d)]['info'](this[_0x1c40e1(0x3b2)]+'\x20('+this['instance'][_0x1c40e1(0x311)]+_0x1c40e1(0x422)+this[_0x1c40e1(0x7ed)][_0x1c40e1(0x782)]),this[_0x1c40e1(0x7ed)][_0x1c40e1(0x782)];}get[a0_0x3d18fe(0x45d)](){const _0x3c9b89=a0_0x3d18fe;return this['instance'][_0x3c9b89(0x51a)]?.['pairingCode']?{'pairingCode':this[_0x3c9b89(0x7ed)][_0x3c9b89(0x51a)]?.[_0x3c9b89(0x717)]}:{'code':this[_0x3c9b89(0x7ed)][_0x3c9b89(0x51a)]?.[_0x3c9b89(0x2fa)],'base64':this[_0x3c9b89(0x7ed)][_0x3c9b89(0x51a)]?.[_0x3c9b89(0x210)]};}async[a0_0x3d18fe(0x4a1)](){const _0x5caa73=a0_0x3d18fe;let _0x5e18fa=await this[_0x5caa73(0x827)][_0x5caa73(0x208)][_0x5caa73(0x80c)](this[_0x5caa73(0x3b2)]);this['localWebhook'][_0x5caa73(0x3f9)]=_0x5e18fa?.['url'],this[_0x5caa73(0x4e9)]['enabled']=_0x5e18fa?.[_0x5caa73(0x472)],this[_0x5caa73(0x4e9)][_0x5caa73(0x190)]=_0x5e18fa?.[_0x5caa73(0x190)],this['localWebhook'][_0x5caa73(0x1e0)]=_0x5e18fa?.[_0x5caa73(0x1e0)],this[_0x5caa73(0x4e9)][_0x5caa73(0x5c3)]=_0x5e18fa?.['QRCODE_UPDATED'],this[_0x5caa73(0x4e9)][_0x5caa73(0x1c5)]=_0x5e18fa?.[_0x5caa73(0x1c5)],this[_0x5caa73(0x4e9)][_0x5caa73(0x4df)]=_0x5e18fa?.[_0x5caa73(0x4df)],this[_0x5caa73(0x4e9)]['MESSAGES_UPDATE']=_0x5e18fa?.[_0x5caa73(0x14d)],this['localWebhook'][_0x5caa73(0x5cf)]=_0x5e18fa?.[_0x5caa73(0x5cf)],this['localWebhook']['GROUPS_UPDATE']=_0x5e18fa?.[_0x5caa73(0x529)],this['localWebhook'][_0x5caa73(0x224)]=_0x5e18fa?.[_0x5caa73(0x224)],this[_0x5caa73(0x4e9)][_0x5caa73(0x4a7)]=_0x5e18fa?.[_0x5caa73(0x4a7)],this[_0x5caa73(0x4e9)][_0x5caa73(0x797)]=_0x5e18fa?.['CHATS_UPSERT'],this['localWebhook'][_0x5caa73(0x286)]=_0x5e18fa?.[_0x5caa73(0x286)],this['localWebhook'][_0x5caa73(0x388)]=_0x5e18fa?.[_0x5caa73(0x388)],this[_0x5caa73(0x4e9)][_0x5caa73(0x324)]=_0x5e18fa?.[_0x5caa73(0x324)],this[_0x5caa73(0x4e9)][_0x5caa73(0x1f4)]=_0x5e18fa?.[_0x5caa73(0x1f4)],this['localWebhook'][_0x5caa73(0x53e)]=_0x5e18fa?.[_0x5caa73(0x53e)],this['localWebhook'][_0x5caa73(0x486)]=_0x5e18fa?.[_0x5caa73(0x486)],this[_0x5caa73(0x4e9)][_0x5caa73(0x569)]=_0x5e18fa?.['MESSAGES_SET'],this[_0x5caa73(0x4e9)][_0x5caa73(0x875)]=_0x5e18fa?.['CONNECTION_UPDATE'],this[_0x5caa73(0x4e9)][_0x5caa73(0x5cc)]=_0x5e18fa?.[_0x5caa73(0x5cc)];}async['setWebhook'](_0x1b14f9){const _0x126b0b=a0_0x3d18fe;let _0x1eb6e9=['_id','url',_0x126b0b(0x472),'local_map','STATUS_INSTANCE',_0x126b0b(0x5c3),_0x126b0b(0x14d),_0x126b0b(0x4df),_0x126b0b(0x1c5),_0x126b0b(0x5cf),'GROUPS_UPDATE',_0x126b0b(0x224),_0x126b0b(0x4a7),_0x126b0b(0x797),_0x126b0b(0x286),'CHATS_DELETE',_0x126b0b(0x324),_0x126b0b(0x1f4),'CONTACTS_UPDATE','PRESENCE_UPDATE','MESSAGES_SET',_0x126b0b(0x875),_0x126b0b(0x5cc)],_0x594948={};return _0x1eb6e9[_0x126b0b(0x358)](_0x413dd9=>{_0x1b14f9[_0x413dd9]!==void 0x0&&(_0x594948[_0x413dd9]=_0x1b14f9[_0x413dd9]);}),_0x594948[_0x126b0b(0x3f9)]&&(_0x594948[_0x126b0b(0x3f9)]=_0x594948[_0x126b0b(0x3f9)][_0x126b0b(0x4d9)]()),await this[_0x126b0b(0x827)][_0x126b0b(0x208)][_0x126b0b(0x1e7)](_0x594948,this[_0x126b0b(0x3b2)]),Object['assign'](this[_0x126b0b(0x4e9)],_0x594948),await this[_0x126b0b(0x827)]['webhook'][_0x126b0b(0x80c)](this['instanceName']);}async[a0_0x3d18fe(0x180)](){const _0x2faa5e=a0_0x3d18fe;return await this[_0x2faa5e(0x827)]['webhook']['find'](this[_0x2faa5e(0x3b2)]);}async[a0_0x3d18fe(0x191)](_0x573f0b,_0x2dc159){const _0x2a77a9=a0_0x3d18fe;let _0x36c3bb=_0x573f0b[_0x2a77a9(0x5e7)](/[\.-]/gm,'_')[_0x2a77a9(0x299)](),_0x371bb0=this[_0x2a77a9(0x4e9)][_0x2a77a9(0x472)]&&(0x0,J['isURL'])(this[_0x2a77a9(0x4e9)]['url'])?this[_0x2a77a9(0x4e9)]['url']+(this[_0x2a77a9(0x4e9)][_0x2a77a9(0x190)]?this[_0x2a77a9(0x60d)][_0x573f0b]:''):null,_0xa97290=this[_0x2a77a9(0x4e9)][_0x36c3bb],_0x347652=he&&he[_0x2a77a9(0x472)]&&(0x0,J[_0x2a77a9(0x879)])(he['url'])?he[_0x2a77a9(0x3f9)]+(he[_0x2a77a9(0x190)]?this[_0x2a77a9(0x60d)][_0x573f0b]:''):null,_0x64dbe6=he?he[_0x36c3bb]:null;if(_0xa97290&&_0x371bb0)try{await Q[_0x2a77a9(0x62f)][_0x2a77a9(0x1e7)]({'baseURL':_0x371bb0})[_0x2a77a9(0x2c2)]('',{'event':_0x573f0b,'instance':this[_0x2a77a9(0x7ed)][_0x2a77a9(0x2f6)],'apikey':this[_0x2a77a9(0x7ed)][_0x2a77a9(0x814)],'data':_0x2dc159}),this[_0x2a77a9(0x53d)][_0x2a77a9(0x4e7)](this['instanceName']+'\x20('+this[_0x2a77a9(0x7ed)]['wuid']+_0x2a77a9(0x65f)+_0x573f0b+':\x20'+_0x371bb0);}catch{this['logger'][_0x2a77a9(0x4e8)](this[_0x2a77a9(0x3b2)]+'\x20('+this[_0x2a77a9(0x7ed)][_0x2a77a9(0x311)]+_0x2a77a9(0x165)+_0x573f0b+':\x20'+_0x371bb0);}if(_0x64dbe6&&_0x347652)try{await Q[_0x2a77a9(0x62f)][_0x2a77a9(0x1e7)]({'baseURL':_0x347652})[_0x2a77a9(0x2c2)]('',{'event':_0x573f0b,'instance':this[_0x2a77a9(0x7ed)]['name'],'apikey':this[_0x2a77a9(0x7ed)]['apikey'],'data':_0x2dc159}),this[_0x2a77a9(0x53d)][_0x2a77a9(0x4e7)](this[_0x2a77a9(0x3b2)]+'\x20('+this['instance'][_0x2a77a9(0x311)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x573f0b+':\x20'+_0x347652);}catch{this[_0x2a77a9(0x53d)][_0x2a77a9(0x4e8)](this[_0x2a77a9(0x3b2)]+'\x20('+this[_0x2a77a9(0x7ed)][_0x2a77a9(0x311)]+_0x2a77a9(0x832)+_0x573f0b+':\x20'+_0x347652);}}async[a0_0x3d18fe(0x501)]({qr:_0x3c358f,connection:_0x9749f4,lastDisconnect:_0x27f947}){const _0xcdd599=a0_0x3d18fe;if(_0x3c358f){if(this[_0xcdd599(0x7ed)][_0xcdd599(0x51a)][_0xcdd599(0x786)]===ko)return this[_0xcdd599(0x191)]('qrcode.updated',{'message':_0xcdd599(0x64d),'statusCode':w[_0xcdd599(0x72b)][_0xcdd599(0x16c)]}),this[_0xcdd599(0x6a1)]={'state':_0xcdd599(0x684),'statusReason':w[_0xcdd599(0x72b)][_0xcdd599(0x723)]},this[_0xcdd599(0x191)](_0xcdd599(0x61f),{'instance':this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)],...this[_0xcdd599(0x6a1)]}),this[_0xcdd599(0x191)](_0xcdd599(0x2e0),{'instance':this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)],'status':_0xcdd599(0x574)}),this['repository'][_0xcdd599(0x6ad)][_0xcdd599(0x5cd)](this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)]),this[_0xcdd599(0x1aa)]=!0x0,ae[_0xcdd599(0x23e)](B,this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)]),this[_0xcdd599(0x4f9)][_0xcdd599(0x22e)](_0xcdd599(0x6bb),this[_0xcdd599(0x7ed)]['name']);this[_0xcdd599(0x7ed)]['qrcode']['count']++;let _0x5b65f7={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xcdd599(0x552),'dark':'#000000'}};Ti[_0xcdd599(0x62f)][_0xcdd599(0x351)](_0x3c358f,_0x5b65f7,(_0x3fbcd0,_0x16ab4a)=>{const _0x916165=_0xcdd599;if(_0x3fbcd0){this['logger']['error'](this['instanceName']+'\x20('+this[_0x916165(0x7ed)][_0x916165(0x311)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3fbcd0 instanceof Error?_0x3fbcd0[_0x916165(0x867)]:JSON['stringify'](_0x3fbcd0,null,0x2)));return;}this['instance'][_0x916165(0x51a)][_0x916165(0x210)]=_0x16ab4a,this[_0x916165(0x7ed)][_0x916165(0x51a)][_0x916165(0x2fa)]=_0x3c358f,!this['phoneNumber']&&this[_0x916165(0x191)](_0x916165(0x80b),{'qrcode':{'instance':this['instance']['name'],'pairingCode':this['instance'][_0x916165(0x51a)][_0x916165(0x717)],'code':_0x3c358f,'base64':_0x16ab4a}});}),this[_0xcdd599(0x81a)]?this['instance']['qrcode'][_0xcdd599(0x717)]||(await(0x0,w[_0xcdd599(0x2c5)])(0x7d0),this[_0xcdd599(0x7ed)][_0xcdd599(0x51a)][_0xcdd599(0x717)]=await this[_0xcdd599(0x880)][_0xcdd599(0x1a6)](this[_0xcdd599(0x81a)])):this[_0xcdd599(0x7ed)][_0xcdd599(0x51a)]['pairingCode']=null,_i[_0xcdd599(0x62f)][_0xcdd599(0x799)](_0x3c358f,{'small':!0x0},_0x28c070=>this['logger']['log'](_0xcdd599(0x76c)+this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)]+_0xcdd599(0x477)+this[_0xcdd599(0x7ed)][_0xcdd599(0x51a)][_0xcdd599(0x786)]+_0xcdd599(0x38c)+this[_0xcdd599(0x7ed)]['qrcode'][_0xcdd599(0x717)]+_0xcdd599(0x382)+_0x28c070));}if(_0x9749f4&&(this[_0xcdd599(0x6a1)]={'state':_0x9749f4,'statusReason':_0x27f947?.[_0xcdd599(0x4e8)]?.['output']?.['statusCode']??0xc8},this['sendDataWebhook'](_0xcdd599(0x61f),{'instance':this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)],...this[_0xcdd599(0x6a1)]})),_0x9749f4==='close'){if(this['reconnectAttempts']++,this[_0xcdd599(0x331)][_0xcdd599(0x1a4)](Date[_0xcdd599(0x7f3)]()),this[_0xcdd599(0x331)]=this[_0xcdd599(0x331)][_0xcdd599(0x836)](_0x17346d=>Date[_0xcdd599(0x7f3)]()-_0x17346d<this[_0xcdd599(0x25e)]),_0x27f947[_0xcdd599(0x4e8)]?.['output']?.[_0xcdd599(0x898)]!==w[_0xcdd599(0x72b)][_0xcdd599(0x229)]){let _0x1866fb=this[_0xcdd599(0x3e9)]<=0x1?0x0:Math[_0xcdd599(0x1cc)](Math[_0xcdd599(0x1c8)](0x2,this[_0xcdd599(0x3e9)]-0x1)*0x3e8,0x493e0);console[_0xcdd599(0x4e7)](this[_0xcdd599(0x3b2)]+_0xcdd599(0x1b1)+this['reconnectAttempts']+_0xcdd599(0x7a5)+_0x1866fb/0x3e8+_0xcdd599(0x64f)),await new Promise(_0x2d524a=>setTimeout(_0x2d524a,_0x1866fb)),console['log'](_0xcdd599(0x2f8)),await this[_0xcdd599(0x25c)]();}else{this['sendDataWebhook'](_0xcdd599(0x2e0),{'instance':this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)],'status':_0xcdd599(0x574)}),this[_0xcdd599(0x7ed)]['ScheduleMessage']['isConnected']=!0x1,this[_0xcdd599(0x827)][_0xcdd599(0x208)]['delete'](this[_0xcdd599(0x3b2)]),this[_0xcdd599(0x827)][_0xcdd599(0x6ad)][_0xcdd599(0x1e7)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xcdd599(0x7f3)]()},this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)]),ae['removeIPv6ById'](B,this['instance'][_0xcdd599(0x2f6)]);try{this['logger'][_0xcdd599(0x75e)](this[_0xcdd599(0x3b2)]+'\x20('+this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]+_0xcdd599(0x201));let _0x471401=await this[_0xcdd599(0x827)][_0xcdd599(0x867)]['deleteAll'](this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]);_0x471401[_0xcdd599(0x824)]?this['logger']['verbose'](this[_0xcdd599(0x3b2)]+'\x20('+this[_0xcdd599(0x7ed)]['wuid']+_0xcdd599(0x380)):this[_0xcdd599(0x53d)]['error'](_0xcdd599(0x1dd)+_0x471401[_0xcdd599(0x4e8)]);}catch(_0x538d9c){this[_0xcdd599(0x53d)][_0xcdd599(0x4e8)](_0xcdd599(0x4a3)+_0x538d9c[_0xcdd599(0x867)]);}this[_0xcdd599(0x7ed)]['ScheduleMessage'][_0xcdd599(0x67c)]!==null&&(this[_0xcdd599(0x53d)][_0xcdd599(0x75e)](this['instanceName']+'\x20('+this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]+_0xcdd599(0x6bf)),clearInterval(this[_0xcdd599(0x7ed)][_0xcdd599(0x37c)][_0xcdd599(0x67c)]),this['instance'][_0xcdd599(0x37c)][_0xcdd599(0x67c)]=null),this[_0xcdd599(0x53d)][_0xcdd599(0x75e)](this[_0xcdd599(0x3b2)]+'\x20('+this['instance'][_0xcdd599(0x311)]+_0xcdd599(0x239)),this[_0xcdd599(0x22f)]=null,this['eventEmitter'][_0xcdd599(0x22e)]('remove.instance',this['instance']['name'],_0xcdd599(0x2cd)),this[_0xcdd599(0x880)]?.['ws']?.[_0xcdd599(0x349)](),this['client'][_0xcdd599(0x4eb)](new Error('Close\x20connection'));}}if(_0x9749f4===_0xcdd599(0x5b1)){this['logger'][_0xcdd599(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0xcdd599(0x311)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0xcdd599(0x880)]['authState'][_0xcdd599(0x5a9)]?.[_0xcdd599(0x720)]),this[_0xcdd599(0x880)]['authState'][_0xcdd599(0x5a9)]?.[_0xcdd599(0x720)]||(this['logger'][_0xcdd599(0x6f8)](this['instanceName']+'\x20('+this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]+_0xcdd599(0x337)),this[_0xcdd599(0x880)]['ev'][_0xcdd599(0x3ca)]()),this[_0xcdd599(0x619)],this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]=this[_0xcdd599(0x880)][_0xcdd599(0x55b)]['id']['replace'](/:\d+/,'')['replace'](_0xcdd599(0x826),''),this[_0xcdd599(0x7ed)][_0xcdd599(0x69f)]=(await this[_0xcdd599(0x13e)](this[_0xcdd599(0x7ed)][_0xcdd599(0x311)]+_0xcdd599(0x826)))['profilePictureUrl'],this[_0xcdd599(0x827)][_0xcdd599(0x6ad)]['create']({'online':!0x0,'owner':this[_0xcdd599(0x7ed)][_0xcdd599(0x311)],'lastDisconnect':null},this[_0xcdd599(0x7ed)]['name']);let _0x2e6b57=_0xcdd599(0x726)+this[_0xcdd599(0x7ed)][_0xcdd599(0x311)],_0x2e8ce4=0x28,_0x45b34c=Math[_0xcdd599(0x5dc)]((_0x2e8ce4-_0x2e6b57[_0xcdd599(0x802)])/0x2),_0x8118e4='\x20'[_0xcdd599(0x3a7)](_0x45b34c),_0x1c2130='CONECTADO\x20\x20UAZAPI',_0x57a540=_0xcdd599(0x4e4)+this[_0xcdd599(0x7ed)][_0xcdd599(0x2f6)],_0x5ede48=(''+_0x8118e4+_0x2e6b57+_0x8118e4)[_0xcdd599(0x650)](_0x2e8ce4,'\x20'),_0x5ba7c8=(''+_0x8118e4+_0x1c2130+_0x8118e4)[_0xcdd599(0x650)](_0x2e8ce4,'\x20'),_0x2feec4=(''+_0x8118e4+_0x57a540+_0x8118e4)[_0xcdd599(0x650)](_0x2e8ce4,'\x20'),_0x2b84cb=Math[_0xcdd599(0x19e)](_0x5ede48['length'],_0x5ba7c8['length'],_0x2feec4[_0xcdd599(0x802)]),_0x4951a2=_0x5ede48[_0xcdd599(0x650)](_0x2b84cb,'\x20'),_0x253431=_0x5ba7c8[_0xcdd599(0x650)](_0x2b84cb,'\x20'),_0xd12163=_0x2feec4[_0xcdd599(0x650)](_0x2b84cb,'\x20');this[_0xcdd599(0x53d)]['info']((_0xcdd599(0x734)+''[_0xcdd599(0x3a7)](_0x2b84cb)+_0xcdd599(0x147)+_0x253431+_0xcdd599(0x1d1)+_0xd12163+_0xcdd599(0x1d1)+_0x4951a2+_0xcdd599(0x256)+''[_0xcdd599(0x3a7)](_0x2b84cb)+'')['replace'](/^ +/gm,'\x20\x20')),this[_0xcdd599(0x2f9)](),this[_0xcdd599(0x7ed)][_0xcdd599(0x37c)][_0xcdd599(0x41f)]=!0x0;}}[a0_0x3d18fe(0x619)](){const _0x3673cf=a0_0x3d18fe;this[_0x3673cf(0x3e9)]=0x0,this[_0x3673cf(0x331)]=[];}async[a0_0x3d18fe(0x6be)](_0x2a17df,_0x4e08e7=!0x1){const _0x2f8b37=a0_0x3d18fe;try{let _0x35d97c=await this[_0x2f8b37(0x827)][_0x2f8b37(0x867)]['find']({'where':{'_id':_0x2a17df['id']}},this['instance'][_0x2f8b37(0x311)]);return _0x4e08e7?_0x35d97c[0x0]:_0x35d97c[0x0][_0x2f8b37(0x867)];}catch{return{'conversation':''};}}[a0_0x3d18fe(0x6e3)](){const _0x372c8b=a0_0x3d18fe;let _0x3bfdbb=this[_0x372c8b(0x599)]['get'](_0x372c8b(0x25b)),_0x2c3378=this['configService'][_0x372c8b(0x5d8)](_0x372c8b(0x5f5));_0x3bfdbb?.[_0x372c8b(0x3c7)]&&!_0x2c3378['ENABLED']&&setInterval(()=>{const _0x46659c=_0x372c8b;try{for(let [_0x51405e,_0x5284bd]of Object[_0x46659c(0x6ed)](_0x3bfdbb))_0x5284bd===!0x0&&(0x0,Fe[_0x46659c(0x57c)])('rm\x20-rf\x20'+(0x0,j[_0x46659c(0x6eb)])(this[_0x46659c(0x1d2)],_0x51405e[_0x46659c(0x12e)](),this[_0x46659c(0x7ed)]['wuid'])+_0x46659c(0x487));}catch{}},(_0x3bfdbb?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x3d18fe(0x716)](){const _0x2dc4a2=a0_0x3d18fe;let _0x56fa80=this[_0x2dc4a2(0x599)][_0x2dc4a2(0x5d8)](_0x2dc4a2(0x5f5)),_0x52eb88=this[_0x2dc4a2(0x599)][_0x2dc4a2(0x5d8)]('REDIS');return _0x52eb88?.[_0x2dc4a2(0x724)]?await Os(_0x52eb88,this[_0x2dc4a2(0x7ed)][_0x2dc4a2(0x2f6)]):_0x56fa80[_0x2dc4a2(0x724)]?await _s(this[_0x2dc4a2(0x7ed)]['name']):await(0x0,w[_0x2dc4a2(0x35c)])((0x0,j['join'])(Se,this[_0x2dc4a2(0x7ed)][_0x2dc4a2(0x2f6)]));}async[a0_0x3d18fe(0x2f9)](){const _0x5f398b=a0_0x3d18fe;let _0x29df92=()=>Math[_0x5f398b(0x5dc)](Math[_0x5f398b(0x283)]()*0x4e21)+0x7d0,_0x18061c=async()=>{const _0xab7367=_0x5f398b;if(!this[_0xab7367(0x7ed)][_0xab7367(0x37c)][_0xab7367(0x41f)]){this[_0xab7367(0x53d)][_0xab7367(0x75e)](this['instanceName']+'\x20('+this[_0xab7367(0x7ed)]['wuid']+'):Desconectado,\x20parando\x20execuo.'),this[_0xab7367(0x7bf)]=!0x1;return;}if(this[_0xab7367(0x7ed)]['wuid']&&this['AutomateSystem']&&this['instance'][_0xab7367(0x37c)][_0xab7367(0x67c)]!==null&&this[_0xab7367(0x7ed)]['ScheduleMessage'][_0xab7367(0x67c)]!==void 0x0){let _0x19718d=Math[_0xab7367(0x68b)](this[_0xab7367(0x7ed)]['ScheduleMessage'][_0xab7367(0x67c)]/0xea60);this[_0xab7367(0x53d)][_0xab7367(0x75e)](this['instanceName']+'\x20('+this[_0xab7367(0x7ed)][_0xab7367(0x311)]+_0xab7367(0x5da)+_0x19718d+'\x20minutos\x20verificar\x20novas\x20mensagens'),this[_0xab7367(0x7bf)]=!0x1;return;}else this[_0xab7367(0x7ed)][_0xab7367(0x311)]&&(this[_0xab7367(0x53d)][_0xab7367(0x75e)](this[_0xab7367(0x3b2)]+'\x20('+this[_0xab7367(0x7ed)]['wuid']+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0xab7367(0x22f)]||(await this[_0xab7367(0x81e)](),this[_0xab7367(0x504)](),this[_0xab7367(0x2b5)]()),(this[_0xab7367(0x7ed)]['ScheduleMessage'][_0xab7367(0x67c)]===null||this[_0xab7367(0x7ed)][_0xab7367(0x37c)][_0xab7367(0x67c)]===void 0x0)&&await this[_0xab7367(0x3f5)]());if(this[_0xab7367(0x7bf)]){let _0xe900c1=_0x29df92();this[_0xab7367(0x53d)][_0xab7367(0x75e)](this[_0xab7367(0x3b2)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0xe900c1/0x3e8+_0xab7367(0x83e)),setTimeout(_0x18061c,_0xe900c1);}};if(this[_0x5f398b(0x7bf)])return;this[_0x5f398b(0x7bf)]=!0x0;let _0x15d4f5=_0x29df92();setTimeout(_0x18061c,_0x15d4f5);}async['synchronizeAndMapFlows'](){const _0x22eabf=a0_0x3d18fe;let _0x5980c6=this[_0x22eabf(0x7ed)][_0x22eabf(0x311)];try{let _0x259430=await this[_0x22eabf(0x827)][_0x22eabf(0x21d)][_0x22eabf(0x516)]({'where':{'$or':[{'owner':_0x5980c6},{'whoCanUse':{'$in':[_0x5980c6]}},{'shareOwners':{'$in':[_0x5980c6]}}]}}),_0x12862b=new Map(this[_0x22eabf(0x22f)]['flows'][_0x22eabf(0x82a)](_0x3f8844=>[_0x3f8844[_0x22eabf(0x2a2)],_0x3f8844])),_0x360d49=_0x259430[_0x22eabf(0x82a)](_0x47cb5e=>{const _0x4c2f8b=_0x22eabf;let _0x571317=_0x12862b[_0x4c2f8b(0x5d8)](_0x47cb5e[_0x4c2f8b(0x2a2)]?.['toString']());return{'_id':_0x47cb5e[_0x4c2f8b(0x2a2)]?.['toString'](),'name':_0x571317?.[_0x4c2f8b(0x2f6)]??_0x47cb5e[_0x4c2f8b(0x2f6)],'default':_0x571317?.[_0x4c2f8b(0x62f)]??_0x47cb5e['default']??!0x1,'startCommand':_0x571317?.['startCommand']??_0x47cb5e[_0x4c2f8b(0x5f8)],'minutesToClose':_0x571317?.[_0x4c2f8b(0x649)]??_0x47cb5e[_0x4c2f8b(0x649)]??0xa,'readMessages':_0x571317?.[_0x4c2f8b(0x3d3)]??_0x47cb5e[_0x4c2f8b(0x3d3)]??!0x1,'testingWith':_0x571317?.[_0x4c2f8b(0x65d)]??_0x47cb5e[_0x4c2f8b(0x65d)],'canEdit':_0x47cb5e[_0x4c2f8b(0x856)]===_0x5980c6||(_0x47cb5e[_0x4c2f8b(0x188)]??[])[_0x4c2f8b(0x3f1)](_0x5980c6),'usersCount':(_0x47cb5e[_0x4c2f8b(0x847)]??[])[_0x4c2f8b(0x802)]??0x0};}),_0x540a5a=!0x1;_0x360d49[_0x22eabf(0x358)](_0x20c98d=>{const _0x2f1130=_0x22eabf;_0x20c98d[_0x2f1130(0x62f)]&&(_0x540a5a?_0x20c98d['default']=!0x1:_0x540a5a=!0x0);}),this[_0x22eabf(0x22f)][_0x22eabf(0x76a)]=_0x360d49;let _0x404ee4={'flows':_0x360d49};return await this[_0x22eabf(0x827)]['automateSystem'][_0x22eabf(0x200)](_0x404ee4,_0x5980c6),this[_0x22eabf(0x53d)][_0x22eabf(0x75e)](this[_0x22eabf(0x3b2)]+'\x20('+_0x5980c6+_0x22eabf(0x870)),_0x360d49[_0x22eabf(0x802)];}catch(_0x471b57){return this[_0x22eabf(0x53d)][_0x22eabf(0x4e8)](this[_0x22eabf(0x3b2)]+'\x20('+_0x5980c6+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x471b57 instanceof Error?_0x471b57[_0x22eabf(0x867)]:JSON[_0x22eabf(0x6b1)](_0x471b57,null,0x2))),{'message':_0x22eabf(0x29a)+(_0x471b57 instanceof Error?_0x471b57['message']:JSON[_0x22eabf(0x6b1)](_0x471b57,null,0x2))};}}async['connectToWhatsapp'](_0x32260b){const _0x4bb6e0=a0_0x3d18fe;try{let _0x18fe73=await this[_0x4bb6e0(0x827)][_0x4bb6e0(0x7ed)][_0x4bb6e0(0x648)]({'where':{'_id':B+'-'+this[_0x4bb6e0(0x3b2)]}}),_0x33c008,_0x5ccc87=!ae['ipv6Prefix']||!ae[_0x4bb6e0(0x391)];console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x7d2)),console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x6d2),Ai),console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x291),this['reconnectAttempts']),console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x7d2)),Ai&&!_0x5ccc87&&(this[_0x4bb6e0(0x3e9)]<0x4||!this['reconnectAttempts']?_0x18fe73&&_0x18fe73['ip']?(_0x33c008=_0x18fe73['ip'],console[_0x4bb6e0(0x4e7)]('Usando\x20IP\x20existente:\x20'+_0x33c008)):(_0x33c008=await ae[_0x4bb6e0(0x567)](B,this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x2f6)]),_0x33c008?(console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x6a9)+_0x33c008),await(0x0,w[_0x4bb6e0(0x2c5)])(0x7d0)):console[_0x4bb6e0(0x4e8)](_0x4bb6e0(0x1da))):this['reconnectAttempts']<0x6&&(await ae[_0x4bb6e0(0x23e)](B,this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x2f6)]),console[_0x4bb6e0(0x4e7)](_0x4bb6e0(0x74e)),_0x33c008=await ae[_0x4bb6e0(0x567)](B,this[_0x4bb6e0(0x7ed)]['name']),_0x33c008?(console['log'](_0x4bb6e0(0x6a9)+_0x33c008),await(0x0,w['delay'])(0x7d0)):console[_0x4bb6e0(0x4e8)](_0x4bb6e0(0x343)))),this[_0x4bb6e0(0x4a1)](),this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x814)]=(await this[_0x4bb6e0(0x827)]['auth'][_0x4bb6e0(0x80c)](this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x2f6)]))['apikey'],this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x801)]=await this[_0x4bb6e0(0x716)]();let {version:_0x205dba}=await(0x0,w[_0x4bb6e0(0x2c9)])(),_0x5c7f6d=[xi,Fs,(0x0,Ds[_0x4bb6e0(0x41e)])()],_0x501c5c={'localAddress':_0x33c008,'auth':{'creds':this['instance']['authState']['state'][_0x4bb6e0(0x5a9)],'keys':(0x0,w[_0x4bb6e0(0x82c)])(this[_0x4bb6e0(0x7ed)][_0x4bb6e0(0x801)][_0x4bb6e0(0x6c9)]['keys'],(0x0,Ft[_0x4bb6e0(0x62f)])({'level':_0x4bb6e0(0x4e8)}))},'logger':(0x0,Ft[_0x4bb6e0(0x62f)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x32260b?[_0x4bb6e0(0x3ae),Fs,(0x0,Ds[_0x4bb6e0(0x41e)])()]:_0x5c7f6d,'version':_0x205dba,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x39af65=>{const _0x2f78a5=_0x4bb6e0;let _0x532799=this[_0x2f78a5(0x4e9)]?.[_0x2f78a5(0x5cc)]&&(0x0,w[_0x2f78a5(0x608)])(_0x39af65);return(0x0,w['isJidBroadcast'])(_0x39af65)||_0x532799;},'msgRetryCounterCache':this[_0x4bb6e0(0x7cb)],'getMessage':async _0x539ee3=>await this[_0x4bb6e0(0x6be)](_0x539ee3),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4bb6e0(0x437)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x665d91){const _0x414805=_0x4bb6e0;return _0x665d91[_0x414805(0x83f)]?.['message']?.['listMessage']?.[_0x414805(0x594)]===w[_0x414805(0x54a)][_0x414805(0x37b)][_0x414805(0x413)]['ListType'][_0x414805(0x1c6)]&&(_0x665d91=JSON[_0x414805(0x78c)](JSON[_0x414805(0x6b1)](_0x665d91)),_0x665d91[_0x414805(0x83f)][_0x414805(0x867)][_0x414805(0x19b)][_0x414805(0x594)]=w['proto']['Message'][_0x414805(0x413)]['ListType']['SINGLE_SELECT']),_0x665d91[_0x414805(0x19b)]?.[_0x414805(0x594)]==w['proto'][_0x414805(0x37b)]['ListMessage']['ListType']['PRODUCT_LIST']&&(_0x665d91=JSON[_0x414805(0x78c)](JSON[_0x414805(0x6b1)](_0x665d91)),_0x665d91['listMessage'][_0x414805(0x594)]=w[_0x414805(0x54a)][_0x414805(0x37b)][_0x414805(0x413)][_0x414805(0x3bd)][_0x414805(0x7e9)]),_0x665d91;}};return this[_0x4bb6e0(0x1aa)]=!0x1,this['client']=(0x0,w[_0x4bb6e0(0x62f)])(_0x501c5c),this['eventHandler'](),this[_0x4bb6e0(0x81a)]=_0x32260b,this[_0x4bb6e0(0x880)];}catch(_0x46cd3f){let _0x4ce513=_0x4bb6e0(0x884),_0x1510ab=_0x46cd3f instanceof Error?_0x46cd3f['message']:typeof _0x46cd3f==_0x4bb6e0(0x85e)?JSON[_0x4bb6e0(0x6b1)](_0x46cd3f):_0x46cd3f,_0x269de8=_0x4ce513+':\x20'+_0x1510ab;throw this['logger'][_0x4bb6e0(0x4e8)](this[_0x4bb6e0(0x3b2)]+'\x20('+this['instance'][_0x4bb6e0(0x311)]+'):\x20'+_0x269de8),console[_0x4bb6e0(0x4e8)](_0x4bb6e0(0x7ca),_0x46cd3f),_0x46cd3f instanceof Error&&console[_0x4bb6e0(0x4e8)](_0x4bb6e0(0x78a),_0x46cd3f[_0x4bb6e0(0x87a)]),new x(_0x269de8);}}[a0_0x3d18fe(0x555)](){const _0x39671b=a0_0x3d18fe;this[_0x39671b(0x880)]['ev'][_0x39671b(0x3f6)](_0xf6da94=>{const _0x19b071=_0x39671b;if(!this[_0x19b071(0x1aa)]){let _0x3b32a2=this[_0x19b071(0x599)][_0x19b071(0x5d8)](_0x19b071(0x5f5));if(_0xf6da94[_0x19b071(0x3c3)]){let _0x14f0df=_0xf6da94[_0x19b071(0x3c3)];this['messageHandle'][_0x19b071(0x3c3)](_0x14f0df);}if(_0xf6da94[_0x19b071(0x34a)]){let _0x2b661d=_0xf6da94['labels.association'];this[_0x19b071(0x578)][_0x19b071(0x34a)](_0x2b661d);}if(_0xf6da94[_0x19b071(0x61f)]&&this['connectionUpdate'](_0xf6da94[_0x19b071(0x61f)]),_0xf6da94['creds.update']&&this[_0x19b071(0x7ed)][_0x19b071(0x801)][_0x19b071(0x3ea)](),_0xf6da94[_0x19b071(0x318)]){let _0x26189d=_0xf6da94[_0x19b071(0x318)];this[_0x19b071(0x578)][_0x19b071(0x318)](_0x26189d,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x7cd)]){let _0x13b96c=_0xf6da94['messages.upsert'];this['messageHandle']['messages.upsert'](_0x13b96c,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x67b)]){let _0xd8b1c8=_0xf6da94[_0x19b071(0x67b)];this['messageHandle'][_0x19b071(0x67b)](_0xd8b1c8,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x6d6)]){let _0x5d76e2=_0xf6da94[_0x19b071(0x6d6)];if(this[_0x19b071(0x4e9)]?.['groups_ignore']&&_0x5d76e2['id'][_0x19b071(0x3f1)]('@g.us'))return;this[_0x19b071(0x191)](_0x19b071(0x6d6),_0x5d76e2);}if(_0xf6da94['groups.upsert']){let _0x34e95a=_0xf6da94[_0x19b071(0x6d0)];this[_0x19b071(0x6e7)]['groups.upsert'](_0x34e95a);}if(_0xf6da94[_0x19b071(0x694)]){let _0x4527c4=_0xf6da94[_0x19b071(0x694)];this['groupHandler']['groups.update'](_0x4527c4);}if(_0xf6da94[_0x19b071(0x2da)]){let _0x3c3c19=_0xf6da94[_0x19b071(0x2da)];this[_0x19b071(0x6e7)][_0x19b071(0x2da)](_0x3c3c19);}if(_0xf6da94['chats.upsert']){let _0x142148=_0xf6da94[_0x19b071(0x36d)];this[_0x19b071(0x84c)][_0x19b071(0x36d)](_0x142148,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x314)]){let _0x1abf2d=_0xf6da94['chats.update'];this['chatHandle'][_0x19b071(0x314)](_0x1abf2d,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x864)]){let _0x2b8a5a=_0xf6da94['chats.delete'];this[_0x19b071(0x84c)]['chats.delete'](_0x2b8a5a);}if(_0xf6da94[_0x19b071(0x3aa)]){let _0x1afbe1=_0xf6da94[_0x19b071(0x3aa)];this[_0x19b071(0x3dd)][_0x19b071(0x3aa)](_0x1afbe1,_0x3b32a2);}if(_0xf6da94[_0x19b071(0x149)]){let _0x5cfd5f=_0xf6da94[_0x19b071(0x149)];this[_0x19b071(0x3dd)][_0x19b071(0x149)](_0x5cfd5f,_0x3b32a2);}}});}async['retrySendMessage'](_0x389be0,_0x13a085){const _0x187474=a0_0x3d18fe;if(_0x13a085>=0xa){console[_0x187474(0x4e8)](this[_0x187474(0x3b2)]+'\x20('+this['instance'][_0x187474(0x311)]+_0x187474(0x73a)),delete Lt[_0x389be0[_0x187474(0x406)]['id']];return;}try{console['error'](this['instanceName']+'\x20('+this[_0x187474(0x7ed)]['wuid']+_0x187474(0x290)+(_0x13a085+0x1)),await this[_0x187474(0x880)]['sendMessageAck'](JSON[_0x187474(0x78c)](_0x389be0['messageStubParameters'][0x1],w['BufferJSON']['reviver'])),console[_0x187474(0x4e8)](_0x187474(0x2dd));}catch(_0x5a203d){console[_0x187474(0x4e8)](this[_0x187474(0x3b2)]+'\x20('+this[_0x187474(0x7ed)][_0x187474(0x311)]+_0x187474(0x332)+_0x5a203d),setTimeout(()=>this[_0x187474(0x4af)](_0x389be0,_0x13a085+0x1),Math[_0x187474(0x1c8)](0x2,_0x13a085)*0x3e8);}}async[a0_0x3d18fe(0x355)](_0x59c1cc){const _0x7168d4=a0_0x3d18fe;let _0x34009a=_0x59c1cc[_0x7168d4(0x406)][_0x7168d4(0x7f9)]['endsWith'](_0x7168d4(0x815)),_0x3825d3;if(_0x59c1cc['key'][_0x7168d4(0x840)])_0x3825d3=this[_0x7168d4(0x7ed)][_0x7168d4(0x69f)];else{let _0x5b2aac=_0x34009a?_0x59c1cc[_0x7168d4(0x406)][_0x7168d4(0x153)]:_0x59c1cc[_0x7168d4(0x406)][_0x7168d4(0x7f9)];_0x3825d3=(await this[_0x7168d4(0x1f9)](_0x5b2aac,_0x59c1cc[_0x7168d4(0x581)],!0x1))[_0x7168d4(0x5bb)]['pictureUrl'];}_0x59c1cc[_0x7168d4(0x849)]&&_0x59c1cc[_0x7168d4(0x849)][_0x7168d4(0x444)]()[_0x7168d4(0x802)]<0xd&&(_0x59c1cc[_0x7168d4(0x849)]=_0x59c1cc[_0x7168d4(0x849)]*0x3e8);let _0xf7e309={'_id':_0x59c1cc[_0x7168d4(0x406)]['id'],'key':_0x59c1cc[_0x7168d4(0x406)],'isGroup':_0x34009a,'profilePictureUrl':_0x3825d3,'pushName':_0x59c1cc['pushName'],'message':{'text':_0x7168d4(0x623)},'messageType':_0x7168d4(0x4e8),'message_normalized':{'key':_0x59c1cc[_0x7168d4(0x406)],'pushName':_0x59c1cc[_0x7168d4(0x581)],'messageTimestamp':_0x59c1cc[_0x7168d4(0x849)],'source':(0x0,w[_0x7168d4(0x7ec)])(_0x59c1cc['key']['id']),'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20no\x20foi\x20possvel\x20descriptograf-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualiz-la'},'messageTimestamp':_0x59c1cc[_0x7168d4(0x849)],'owner':this['instance'][_0x7168d4(0x311)],'source':(0x0,w['getDevice'])(_0x59c1cc[_0x7168d4(0x406)]['id'])};this['logger'][_0x7168d4(0x4e8)](this[_0x7168d4(0x3b2)]+'\x20('+this['instance'][_0x7168d4(0x311)]+_0x7168d4(0x851)+(_0xf7e309[_0x7168d4(0x406)]?.['fromMe']?_0x7168d4(0x4ce):'recebido\x20de')+'\x20['+_0xf7e309[_0x7168d4(0x406)]?.[_0x7168d4(0x7f9)][_0x7168d4(0x5e7)]('@s.whatsapp.net','')+']\x20('+_0xf7e309[_0x7168d4(0x560)]+')'),_0xf7e309[_0x7168d4(0x34f)]?.[_0x7168d4(0x2b3)]&&this[_0x7168d4(0x53d)][_0x7168d4(0x4e8)](_0x59c1cc['key']['id']+':\x20'+_0xf7e309[_0x7168d4(0x34f)]?.['text']),await this[_0x7168d4(0x827)][_0x7168d4(0x867)]['insert']([_0xf7e309],this['instance']['wuid']),await this['repository']['messageLogs'][_0x7168d4(0x300)]([_0xf7e309]),this[_0x7168d4(0x191)](_0x7168d4(0x7cd),_0xf7e309),F(this['instanceName'],'messages',{'message':_0xf7e309});}[a0_0x3d18fe(0x3ec)](_0x475750){return new Promise(_0x2be5bc=>setTimeout(_0x2be5bc,_0x475750));}[a0_0x3d18fe(0x65c)](_0xd80bd0){const _0x3ed453=a0_0x3d18fe;_0xd80bd0=_0xd80bd0['replace'](/\D/g,'');let _0x37a2b1=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3ed453(0x583)](_0xd80bd0);if(_0x37a2b1&&_0x37a2b1[0x1]==='55'){let _0x27377e=_0x37a2b1[0x2],_0x5165e5=_0x37a2b1[0x3],_0x275916=_0x37a2b1[0x4];if(parseInt(_0x27377e)>=0x1f&&_0x5165e5==='9')return _0x37a2b1[0x1]+_0x27377e+_0x275916;}return _0xd80bd0;}[a0_0x3d18fe(0x3ff)](_0x122e3a){const _0x3e3879=a0_0x3d18fe;return _0x122e3a[_0x3e3879(0x3f1)](_0x3e3879(0x815))||_0x122e3a[_0x3e3879(0x3f1)](_0x3e3879(0x826))||_0x122e3a[_0x3e3879(0x3f1)](_0x3e3879(0x227))?_0x122e3a:(_0x122e3a=_0x122e3a?.[_0x3e3879(0x5e7)](/\s/g,'')[_0x3e3879(0x5e7)](/\+/g,'')[_0x3e3879(0x5e7)](/\(/g,'')[_0x3e3879(0x5e7)](/\)/g,'')['split'](/\:/)[0x0][_0x3e3879(0x74f)]('@')[0x0],_0x122e3a[_0x3e3879(0x802)]>=0x12?(_0x122e3a=_0x122e3a[_0x3e3879(0x5e7)](/[^\d-]/g,''),_0x122e3a+'@g.us'):(_0x122e3a=_0x122e3a['replace'](/\D/g,''),_0x122e3a+_0x3e3879(0x826)));}async[a0_0x3d18fe(0x379)](_0x137bfd){const _0x1cb77d=a0_0x3d18fe;let _0x2b3b73=(await this['whatsappNumber']({'numbers':[_0x137bfd[_0x1cb77d(0x28f)]]}))[0x0];if(!_0x2b3b73[_0x1cb77d(0x622)]&&!(0x0,w[_0x1cb77d(0x608)])(_0x2b3b73[_0x1cb77d(0x857)])&&!_0x2b3b73[_0x1cb77d(0x857)][_0x1cb77d(0x3f1)](_0x1cb77d(0x227)))throw new m(_0x2b3b73);let _0x149641=_0x2b3b73[_0x1cb77d(0x857)];try{return await this[_0x1cb77d(0x880)][_0x1cb77d(0x18a)](_0x149641),await this[_0x1cb77d(0x880)][_0x1cb77d(0x699)](_0x137bfd[_0x1cb77d(0x1ee)],_0x149641),{'status':0xc8,'presence':_0x137bfd[_0x1cb77d(0x1ee)]};}catch(_0xa08b30){let _0x2f7e70=_0x1cb77d(0x4f8),_0x14da01=_0xa08b30 instanceof Error?_0xa08b30[_0x1cb77d(0x867)]:typeof _0xa08b30==_0x1cb77d(0x85e)?JSON[_0x1cb77d(0x6b1)](_0xa08b30):_0xa08b30,_0x36e545=_0x2f7e70+':\x20'+_0x14da01;throw this[_0x1cb77d(0x53d)][_0x1cb77d(0x4e8)](this[_0x1cb77d(0x3b2)]+'\x20('+this[_0x1cb77d(0x7ed)][_0x1cb77d(0x311)]+_0x1cb77d(0x851)+_0x36e545),new m(_0x36e545);}}async['findAndUpdateCacheContact'](_0x34e4fc,_0x46fd13,_0x325669,_0x12ee55=!0x0){const _0xdbfd4e=a0_0x3d18fe;let _0x25a256=await this[_0xdbfd4e(0x827)][_0xdbfd4e(0x747)][_0xdbfd4e(0x648)]({'where':{'_id':_0x34e4fc}});if(!_0x25a256&&!_0x12ee55)return;let _0x59ee51={'lastUpdate':Date[_0xdbfd4e(0x7f3)]()};if(_0x325669||!_0x25a256?.[_0xdbfd4e(0x123)]||Date['now']()-_0x25a256['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x4003cb=(await this[_0xdbfd4e(0x13e)](_0x34e4fc))[_0xdbfd4e(0x69f)];_0x59ee51[_0xdbfd4e(0x450)]=_0x4003cb;}catch(_0x33b0a4){let _0x3e7f51=_0xdbfd4e(0x40b),_0x4da6a9=_0x33b0a4 instanceof Error?_0x33b0a4[_0xdbfd4e(0x867)]:typeof _0x33b0a4==_0xdbfd4e(0x85e)?JSON['stringify'](_0x33b0a4):_0x33b0a4,_0x1779ad=_0x3e7f51+':\x20'+_0x4da6a9;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xdbfd4e(0x7ed)][_0xdbfd4e(0x311)]+_0xdbfd4e(0x851)+_0x1779ad),new m(_0x1779ad);}return _0x46fd13&&_0x25a256?.[_0xdbfd4e(0x2f6)]!==_0x46fd13&&(_0x59ee51['name']=_0x46fd13),Object['keys'](_0x59ee51)[_0xdbfd4e(0x802)]>0x1&&(_0x25a256?await this[_0xdbfd4e(0x827)][_0xdbfd4e(0x747)]['update']({'where':{'_id':_0x34e4fc}},_0x59ee51):await this[_0xdbfd4e(0x827)]['cacheContact']['insert']([{'_id':_0x34e4fc,..._0x59ee51}]),_0x25a256={..._0x25a256,..._0x59ee51}),{'cachedContact':_0x25a256};}async['profilePicture'](_0x381c41){const _0x1c92db=a0_0x3d18fe;let _0x4e7d8a=this[_0x1c92db(0x3ff)](_0x381c41);try{return{'wuid':_0x4e7d8a,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x4e7d8a,_0x1c92db(0x333))};}catch{return{'wuid':_0x4e7d8a,'profilePictureUrl':null};}}async[a0_0x3d18fe(0x7d8)](_0x183cab,_0xcc7b7e,_0x4a4b0f){const _0x55e073=a0_0x3d18fe;let _0x40c9d0;try{let _0x44daa7=(await this[_0x55e073(0x679)]({'numbers':[_0x183cab]}))?.[_0x55e073(0x76d)]();if(!_0x44daa7[_0x55e073(0x622)]&&!(0x0,w[_0x55e073(0x608)])(_0x44daa7['jid'])&&!_0x44daa7[_0x55e073(0x857)]['includes'](_0x55e073(0x227)))throw new m(_0x44daa7);_0x40c9d0=_0x44daa7['jid'];}catch(_0xfff17b){_0x40c9d0=_0x183cab,this['logger'][_0x55e073(0x6f8)](this[_0x55e073(0x3b2)]+'\x20('+this[_0x55e073(0x7ed)][_0x55e073(0x311)]+_0x55e073(0x377)+_0xfff17b[_0x55e073(0x867)]),this[_0x55e073(0x53d)][_0x55e073(0x6f8)](this[_0x55e073(0x3b2)]+'\x20('+this['instance'][_0x55e073(0x311)]+_0x55e073(0x833)+_0x40c9d0);}try{if(_0x40c9d0||(_0x40c9d0=_0x183cab,this['logger'][_0x55e073(0x6f8)](this[_0x55e073(0x3b2)]+'\x20('+this[_0x55e073(0x7ed)][_0x55e073(0x311)]+_0x55e073(0x592)+_0x40c9d0)),_0x4a4b0f||(_0x4a4b0f={}),_0x4a4b0f?.[_0x55e073(0x2c5)]){await this['client'][_0x55e073(0x18a)](_0x40c9d0),await this[_0x55e073(0x880)][_0x55e073(0x699)](_0x4a4b0f?.[_0x55e073(0x1ee)]??'composing',_0x40c9d0);let _0x531b96=Math[_0x55e073(0x1cc)](_0x4a4b0f[_0x55e073(0x2c5)],0x2710);await(0x0,w[_0x55e073(0x2c5)])(_0x531b96),await this[_0x55e073(0x880)][_0x55e073(0x699)]('paused',_0x40c9d0);}let _0x136ab2=_0x4a4b0f?.[_0x55e073(0x811)]!=!0x1?void 0x0:!0x1,_0x3c3e42;if(_0x4a4b0f?.[_0x55e073(0x6f3)]){let _0x42017b=_0x4a4b0f?.[_0x55e073(0x6f3)],_0x27ff29=_0x42017b?.[_0x55e073(0x867)]?_0x42017b:await this[_0x55e073(0x6be)](_0x42017b[_0x55e073(0x406)],!0x0);_0x27ff29&&(_0x3c3e42=_0x27ff29);}let _0x364ca5=await this[_0x55e073(0x827)][_0x55e073(0x1cd)]['findOne']({'where':{'_id':_0x40c9d0}},this[_0x55e073(0x7ed)]['wuid']),_0x540c1e,_0x1e831e=null;if((0x0,w[_0x55e073(0x608)])(_0x40c9d0))try{if(_0x1e831e=_0x364ca5[_0x55e073(0x2e7)],!_0x1e831e)throw new U(_0x55e073(0x172));if(!_0x1e831e[_0x55e073(0x213)])throw new m(_0x55e073(0x21e));_0x4a4b0f?.[_0x55e073(0x274)]&&(_0x4a4b0f[_0x55e073(0x274)]?.[_0x55e073(0x2ea)]?_0x540c1e=_0x1e831e[_0x55e073(0x2b2)][_0x55e073(0x82a)](_0x2dc65d=>_0x2dc65d['id']):_0x4a4b0f[_0x55e073(0x274)]?.[_0x55e073(0x587)]?.[_0x55e073(0x802)]&&(_0x540c1e=_0x4a4b0f['mentions']['mentioned']['map'](_0x38e5bb=>{const _0x37a6ae=_0x55e073;let _0x872f3a=this[_0x37a6ae(0x3ff)](_0x38e5bb);return(0x0,w[_0x37a6ae(0x608)])(_0x872f3a)?null:_0x872f3a;})));}catch(_0x4c1f08){throw _0x4c1f08 instanceof U?new U(_0x55e073(0x172)):_0x4c1f08 instanceof m?new m(_0x55e073(0x21e)):new Error(_0x55e073(0x8ab));}let _0x23b919=await((async()=>{const _0x487e13=_0x55e073;let _0x5c46fc={'quoted':_0x3c3e42,'ephemeralExpiration':_0x364ca5?.[_0x487e13(0x83d)]??0x0};if(!_0xcc7b7e['audio']&&!_0xcc7b7e[_0x487e13(0x72a)]&&!_0xcc7b7e[_0x487e13(0x8a3)]&&!_0xcc7b7e[_0x487e13(0x676)]&&_0x40c9d0!==_0x487e13(0x758)&&_0xcc7b7e[_0x487e13(0x6cb)])return await this[_0x487e13(0x880)]['sendMessage'](_0x40c9d0,{'react':{'text':_0xcc7b7e[_0x487e13(0x6cb)][_0x487e13(0x2b3)],'key':_0xcc7b7e['reactionMessage'][_0x487e13(0x406)]}},_0x5c46fc);if(_0xcc7b7e[_0x487e13(0x676)]){let _0x54a10e=_0xcc7b7e[_0x487e13(0x676)];return _0x4a4b0f?.[_0x487e13(0x20a)]&&(_0x54a10e=await this[_0x487e13(0x40c)](_0x54a10e,_0x40c9d0)),await this[_0x487e13(0x880)][_0x487e13(0x5b7)](_0x40c9d0,{'text':_0x54a10e,'mentions':_0x540c1e,'linkPreview':_0x136ab2},_0x5c46fc);}return!_0xcc7b7e[_0x487e13(0x3f4)]&&!_0xcc7b7e[_0x487e13(0x72a)]&&_0x40c9d0!='status@broadcast'?await this[_0x487e13(0x880)]['sendMessage'](_0x40c9d0,{'forward':{'key':{'remoteJid':this[_0x487e13(0x7ed)][_0x487e13(0x311)],'fromMe':!0x0},'message':_0xcc7b7e},'mentions':_0x540c1e},_0x5c46fc):_0x40c9d0===_0x487e13(0x758)?await this[_0x487e13(0x880)]['sendMessage'](_0x40c9d0,_0xcc7b7e[_0x487e13(0x1b2)][_0x487e13(0x59c)],{'backgroundColor':_0xcc7b7e[_0x487e13(0x1b2)][_0x487e13(0x374)]['backgroundColor'],'font':_0xcc7b7e[_0x487e13(0x1b2)][_0x487e13(0x374)]['font'],'statusJidList':_0xcc7b7e['status'][_0x487e13(0x374)][_0x487e13(0x5a3)]}):await this[_0x487e13(0x880)][_0x487e13(0x5b7)](_0x40c9d0,_0xcc7b7e,_0x5c46fc);})()),_0x56f7d3=(0x0,w['normalizeMessageContent'])(_0x23b919[_0x55e073(0x867)]),_0x1c6d74=(0x0,w[_0x55e073(0x3ce)])(_0x56f7d3),{message_normalized:_0x14c4d1}=this[_0x55e073(0x32f)](_0x56f7d3,_0x1c6d74,null),_0x2c52cd={'_id':_0x23b919[_0x55e073(0x406)]['id'],'key':_0x23b919[_0x55e073(0x406)],'pushName':_0x23b919[_0x55e073(0x581)],'isGroup':_0x23b919['key'][_0x55e073(0x7f9)][_0x55e073(0x601)](_0x55e073(0x815)),'profilePictureUrl':this[_0x55e073(0x7ed)][_0x55e073(0x69f)],'message':_0x56f7d3,'messageType':_0x1c6d74,'message_normalized':{'key':_0x23b919[_0x55e073(0x406)],'pushName':_0x23b919[_0x55e073(0x581)],'messageTimestamp':_0x23b919[_0x55e073(0x849)]&&_0x23b919['messageTimestamp'][_0x55e073(0x444)]()[_0x55e073(0x802)]<0xd?_0x23b919[_0x55e073(0x849)]*0x3e8:_0x23b919[_0x55e073(0x849)]||null,'source':(0x0,w[_0x55e073(0x7ec)])(_0x23b919[_0x55e073(0x406)]['id']),..._0x14c4d1},'messageTimestamp':_0x23b919['messageTimestamp']&&_0x23b919['messageTimestamp'][_0x55e073(0x444)]()[_0x55e073(0x802)]<0xd?_0x23b919[_0x55e073(0x849)]*0x3e8:_0x23b919['messageTimestamp']||null,'owner':this[_0x55e073(0x7ed)][_0x55e073(0x311)],'source':(0x0,w['getDevice'])(_0x23b919['key']['id'])};return this[_0x55e073(0x53d)]['warn'](this[_0x55e073(0x3b2)]+'\x20('+this[_0x55e073(0x7ed)][_0x55e073(0x311)]+_0x55e073(0x78b)+_0x2c52cd['key']?.[_0x55e073(0x7f9)][_0x55e073(0x5e7)](_0x55e073(0x826),'')+_0x55e073(0x435)+_0x2c52cd['messageType']+')'),_0x2c52cd[_0x55e073(0x34f)]?.[_0x55e073(0x2b3)]&&this[_0x55e073(0x53d)][_0x55e073(0x6f8)](_0x2c52cd[_0x55e073(0x34f)]?.['text']),this['sendDataWebhook'](_0x55e073(0x6bd),_0x2c52cd),F(this[_0x55e073(0x3b2)],_0x55e073(0x4cf),{'message':_0x2c52cd}),this[_0x55e073(0x46d)](this[_0x55e073(0x599)][_0x55e073(0x5d8)](_0x55e073(0x5f5)),_0x2c52cd,_0x55e073(0x1c5),_0x364ca5),await this[_0x55e073(0x827)][_0x55e073(0x867)][_0x55e073(0x300)]([_0x2c52cd],this[_0x55e073(0x7ed)][_0x55e073(0x311)]),_0x23b919;}catch(_0x26cd3f){let _0x1bfd59=_0x55e073(0x2eb)+_0x40c9d0,_0xc440ef=_0x26cd3f instanceof Error?_0x26cd3f[_0x55e073(0x867)]:typeof _0x26cd3f==_0x55e073(0x85e)?JSON[_0x55e073(0x6b1)](_0x26cd3f):_0x26cd3f,_0x320439=_0x1bfd59+':\x20'+_0xc440ef;throw this[_0x55e073(0x53d)][_0x55e073(0x4e8)](this[_0x55e073(0x3b2)]+'\x20('+this[_0x55e073(0x7ed)][_0x55e073(0x311)]+_0x55e073(0x851)+_0x320439),new m(_0x320439);}}async['sendMessageWithTypingButtons'](_0x7787b6,_0x1e8a2e,_0x484aee){const _0x31ae7f=a0_0x3d18fe;let _0x309995=this[_0x31ae7f(0x3ff)](_0x7787b6),_0x1875d5=(await this[_0x31ae7f(0x679)]({'numbers':[_0x309995]}))[0x0];if(!_0x1875d5[_0x31ae7f(0x622)]&&!(0x0,w['isJidGroup'])(_0x1875d5['jid']))throw new m(_0x1875d5);let _0x10c2f1=(0x0,w[_0x31ae7f(0x608)])(_0x309995)?_0x309995:_0x1875d5[_0x31ae7f(0x857)];if((0x0,w[_0x31ae7f(0x608)])(_0x10c2f1))try{await this[_0x31ae7f(0x880)][_0x31ae7f(0x7fb)](_0x10c2f1);}catch{throw new m(_0x31ae7f(0x6c1));}try{_0x484aee?.[_0x31ae7f(0x2c5)]&&(await this[_0x31ae7f(0x880)][_0x31ae7f(0x18a)](_0x10c2f1),await this[_0x31ae7f(0x880)][_0x31ae7f(0x699)](_0x484aee?.[_0x31ae7f(0x1ee)]??_0x31ae7f(0x285),_0x309995),await(0x0,w['delay'])(_0x484aee[_0x31ae7f(0x2c5)]),await this['client'][_0x31ae7f(0x699)]('paused',_0x10c2f1));let _0x3a68f9=await((async()=>{const _0x4fdd27=_0x31ae7f;let _0x11f286,_0xeb0f00=_0x4fdd27(0x6af)+(0x0,ne[_0x4fdd27(0x193)])(0x12)['toString'](_0x4fdd27(0x848))[_0x4fdd27(0x299)](),_0x2ba2f1=(0x0,w[_0x4fdd27(0x56e)])(_0x10c2f1,_0x1e8a2e,{'timestamp':new Date(),'userJid':this[_0x4fdd27(0x7ed)][_0x4fdd27(0x311)],'messageId':_0xeb0f00,'quoted':_0x11f286}),_0x2484d3=await this[_0x4fdd27(0x880)]['relayMessage'](_0x10c2f1,_0x2ba2f1[_0x4fdd27(0x867)],{'messageId':_0xeb0f00});_0x2ba2f1['key']={'id':_0x2484d3,'remoteJid':_0x309995,'participant':(0x0,w[_0x4fdd27(0x7b5)])(_0x309995)?void 0x0:_0x309995,'fromMe':!0x0};for(let [_0x524778,_0x84a71a]of Object['entries'](_0x2ba2f1))(!_0x84a71a||Array[_0x4fdd27(0x27a)](_0x84a71a)&&_0x84a71a[_0x4fdd27(0x802)]===0x0)&&delete _0x2ba2f1[_0x524778];return this[_0x4fdd27(0x880)]['ev'][_0x4fdd27(0x22e)](_0x4fdd27(0x7cd),{'messages':[_0x2ba2f1],'type':_0x4fdd27(0x630)}),_0x2ba2f1;})()),_0x2cb895=await this[_0x31ae7f(0x827)][_0x31ae7f(0x1cd)][_0x31ae7f(0x648)]({'where':{'_id':_0x10c2f1}},this[_0x31ae7f(0x7ed)][_0x31ae7f(0x311)]),_0xbffce8=(0x0,w['normalizeMessageContent'])(_0x3a68f9[_0x31ae7f(0x867)]),_0x18fa4a=(0x0,w[_0x31ae7f(0x3ce)])(_0xbffce8),{message_normalized:_0x8eb73b}=this[_0x31ae7f(0x32f)](_0xbffce8,_0x18fa4a,null),_0x540b59={'_id':_0x3a68f9[_0x31ae7f(0x406)]['id'],'key':_0x3a68f9[_0x31ae7f(0x406)],'pushName':_0x3a68f9[_0x31ae7f(0x581)],'isGroup':_0x3a68f9[_0x31ae7f(0x406)][_0x31ae7f(0x7f9)][_0x31ae7f(0x601)](_0x31ae7f(0x815)),'profilePictureUrl':this[_0x31ae7f(0x7ed)][_0x31ae7f(0x69f)],'message':_0xbffce8,'messageType':_0x18fa4a,'message_normalized':{'key':_0x3a68f9[_0x31ae7f(0x406)],'pushName':_0x3a68f9[_0x31ae7f(0x581)],'messageTimestamp':_0x3a68f9[_0x31ae7f(0x849)]&&_0x3a68f9[_0x31ae7f(0x849)][_0x31ae7f(0x444)]()[_0x31ae7f(0x802)]<0xd?_0x3a68f9[_0x31ae7f(0x849)]*0x3e8:_0x3a68f9[_0x31ae7f(0x849)]||null,'source':(0x0,w[_0x31ae7f(0x7ec)])(_0x3a68f9['key']['id']),..._0x8eb73b},'messageTimestamp':_0x3a68f9[_0x31ae7f(0x849)]&&_0x3a68f9['messageTimestamp'][_0x31ae7f(0x444)]()['length']<0xd?_0x3a68f9[_0x31ae7f(0x849)]*0x3e8:_0x3a68f9[_0x31ae7f(0x849)]||null,'owner':this[_0x31ae7f(0x7ed)][_0x31ae7f(0x311)],'source':(0x0,w[_0x31ae7f(0x7ec)])(_0x3a68f9['key']['id'])};return this[_0x31ae7f(0x53d)]['warn'](this['instanceName']+'\x20('+this[_0x31ae7f(0x7ed)]['wuid']+_0x31ae7f(0x78b)+_0x540b59[_0x31ae7f(0x406)]?.[_0x31ae7f(0x7f9)]['replace'](_0x31ae7f(0x826),'')+']\x20('+_0x540b59['messageType']+')'),_0x540b59['message_normalized']?.['text']&&this['logger'][_0x31ae7f(0x6f8)](_0x540b59[_0x31ae7f(0x34f)]?.[_0x31ae7f(0x2b3)]),this[_0x31ae7f(0x191)](_0x31ae7f(0x6bd),_0x540b59),F(this[_0x31ae7f(0x3b2)],_0x31ae7f(0x4cf),{'message':_0x540b59}),this[_0x31ae7f(0x46d)](this[_0x31ae7f(0x599)]['get'](_0x31ae7f(0x5f5)),_0x540b59,_0x31ae7f(0x1c5),_0x2cb895),await this[_0x31ae7f(0x827)][_0x31ae7f(0x867)]['insert']([_0x540b59],this[_0x31ae7f(0x7ed)][_0x31ae7f(0x311)]),_0x3a68f9;}catch(_0x220a81){throw this[_0x31ae7f(0x53d)][_0x31ae7f(0x4e8)](_0x220a81),new m(_0x220a81[_0x31ae7f(0x444)]());}}get['connectionStatus'](){const _0x52e3c2=a0_0x3d18fe;return this[_0x52e3c2(0x6a1)];}async[a0_0x3d18fe(0x6b3)](_0x200d0c){const _0x384a52=a0_0x3d18fe;return await this['sendMessageWithTyping'](_0x200d0c[_0x384a52(0x28f)],{'conversation':_0x200d0c[_0x384a52(0x6b3)][_0x384a52(0x2b3)]},_0x200d0c?.[_0x384a52(0x6f5)]);}async['formatStatusMessage'](_0x5a1f60){const _0x27d553=a0_0x3d18fe;if(!_0x5a1f60['type'])throw new m('Type\x20is\x20required');if(!_0x5a1f60[_0x27d553(0x59c)])throw new m(_0x27d553(0x405));if(_0x5a1f60['allContacts']){let _0x1718a0=await this[_0x27d553(0x827)][_0x27d553(0x363)][_0x27d553(0x80c)]({'where':{}},this[_0x27d553(0x7ed)]['wuid']);if(!_0x1718a0[_0x27d553(0x802)])throw new m(_0x27d553(0x7b2));_0x5a1f60['statusJidList']=_0x1718a0[_0x27d553(0x836)](_0x2681cf=>_0x2681cf[_0x27d553(0x581)])[_0x27d553(0x82a)](_0x574099=>_0x574099[_0x27d553(0x2a2)]);}if(!_0x5a1f60[_0x27d553(0x5a3)]?.['length']&&!_0x5a1f60[_0x27d553(0x15a)])throw new m(_0x27d553(0x754));if(_0x5a1f60[_0x27d553(0x5a1)]===_0x27d553(0x2b3)){if(!_0x5a1f60[_0x27d553(0x42f)])throw new m(_0x27d553(0x3dc));if(!_0x5a1f60[_0x27d553(0x2c7)])throw new m(_0x27d553(0x84f));return{'content':{'text':_0x5a1f60[_0x27d553(0x59c)]},'option':{'backgroundColor':_0x5a1f60[_0x27d553(0x42f)],'font':_0x5a1f60[_0x27d553(0x2c7)],'statusJidList':_0x5a1f60[_0x27d553(0x5a3)]}};}if(_0x5a1f60[_0x27d553(0x5a1)]===_0x27d553(0x333))return{'content':{'image':{'url':_0x5a1f60[_0x27d553(0x59c)]},'caption':_0x5a1f60['caption']},'option':{'statusJidList':_0x5a1f60[_0x27d553(0x5a3)]}};if(_0x5a1f60[_0x27d553(0x5a1)]==='video')return{'content':{'video':{'url':_0x5a1f60[_0x27d553(0x59c)]},'caption':_0x5a1f60['caption']},'option':{'statusJidList':_0x5a1f60[_0x27d553(0x5a3)]}};if(_0x5a1f60[_0x27d553(0x5a1)]==='audio'){this['logger'][_0x27d553(0x75e)](this['instanceName']+'\x20('+this[_0x27d553(0x7ed)][_0x27d553(0x311)]+_0x27d553(0x251)),this[_0x27d553(0x53d)]['verbose'](this[_0x27d553(0x3b2)]+'\x20('+this[_0x27d553(0x7ed)]['wuid']+'):Processing\x20audio');let _0x52f939=await this['convertaudio'](_0x5a1f60[_0x27d553(0x59c)]);if(typeof _0x52f939=='string'){this[_0x27d553(0x53d)]['verbose'](this[_0x27d553(0x3b2)]+'\x20('+this['instance'][_0x27d553(0x311)]+_0x27d553(0x579));let _0x31411f=k[_0x27d553(0x889)](_0x52f939)[_0x27d553(0x444)](_0x27d553(0x210));return{'content':{'audio':Buffer[_0x27d553(0x13c)](_0x31411f,_0x27d553(0x210)),'ptt':!0x0,'mimetype':_0x27d553(0x1ef)},'option':{'statusJidList':_0x5a1f60[_0x27d553(0x5a3)]}};}else throw new x(_0x52f939);}throw new m(_0x27d553(0x4d2));}async[a0_0x3d18fe(0x248)](_0x45f62c){const _0x29483b=a0_0x3d18fe;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this[_0x29483b(0x384)](_0x45f62c[_0x29483b(0x248)])});}async[a0_0x3d18fe(0x657)](_0x266cae){const _0x43e2f8=a0_0x3d18fe;try{let _0x467974=await(0x0,w[_0x43e2f8(0x637)])({[_0x266cae[_0x43e2f8(0x4f6)]]:(0x0,J[_0x43e2f8(0x879)])(_0x266cae['media'])?{'url':_0x266cae[_0x43e2f8(0x624)]}:Buffer[_0x43e2f8(0x13c)](_0x266cae[_0x43e2f8(0x624)],_0x43e2f8(0x210))},{'upload':this[_0x43e2f8(0x880)][_0x43e2f8(0x20e)]}),_0x437dee=_0x266cae[_0x43e2f8(0x4f6)]+_0x43e2f8(0x37b);if(_0x266cae[_0x43e2f8(0x4f6)]===_0x43e2f8(0x267)&&!_0x266cae[_0x43e2f8(0x49d)]){let _0x40857f=new RegExp(/.*\/(.+?)\./)[_0x43e2f8(0x583)](_0x266cae[_0x43e2f8(0x624)]);_0x266cae[_0x43e2f8(0x49d)]=_0x40857f?_0x40857f[0x1]:null;}let _0x320272;return(0x0,J['isURL'])(_0x266cae[_0x43e2f8(0x624)])?_0x320272=(await Q[_0x43e2f8(0x62f)][_0x43e2f8(0x5d8)](_0x266cae[_0x43e2f8(0x624)],{'responseType':_0x43e2f8(0x3e2)}))['headers']['content-type']:_0x320272=(0x0,Oi[_0x43e2f8(0x85d)])(_0x266cae['fileName']),_0x467974[_0x437dee][_0x43e2f8(0x5ff)]=_0x266cae?.[_0x43e2f8(0x5ff)],_0x467974[_0x437dee]['mimetype']=_0x320272,_0x467974[_0x437dee][_0x43e2f8(0x49d)]=_0x266cae[_0x43e2f8(0x49d)],_0x266cae['mediatype']==='video'&&(_0x467974[_0x437dee][_0x43e2f8(0x481)]=Uint8Array[_0x43e2f8(0x13c)]((0x0,Le[_0x43e2f8(0x889)])((0x0,j[_0x43e2f8(0x6eb)])(process[_0x43e2f8(0x216)](),_0x43e2f8(0x490)))),_0x467974[_0x437dee][_0x43e2f8(0x5ca)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x437dee]:{..._0x467974[_0x437dee]}},{'userJid':this[_0x43e2f8(0x7ed)]['wuid']});}catch(_0x4f0bb9){let _0x29a8e5='Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage',_0x4415a=_0x4f0bb9 instanceof Error?_0x4f0bb9[_0x43e2f8(0x867)]:typeof _0x4f0bb9=='object'?JSON['stringify'](_0x4f0bb9):_0x4f0bb9,_0x22d385=_0x29a8e5+':\x20'+_0x4415a;throw this[_0x43e2f8(0x53d)][_0x43e2f8(0x4e8)](this[_0x43e2f8(0x3b2)]+'\x20('+this['instance'][_0x43e2f8(0x311)]+'):\x20'+_0x22d385),new x(_0x22d385);}}async[a0_0x3d18fe(0x4b4)](_0x826f9b){const _0x3bb586=a0_0x3d18fe;let _0x27753b=await this[_0x3bb586(0x657)](_0x826f9b['mediaMessage']);return await this[_0x3bb586(0x7d8)](_0x826f9b[_0x3bb586(0x28f)],{..._0x27753b[_0x3bb586(0x867)]},_0x826f9b?.[_0x3bb586(0x6f5)]);}async[a0_0x3d18fe(0x2fb)](_0x4c97a0,_0x1b083c){const _0x140b5c=a0_0x3d18fe;try{this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x371));let _0x50ee58,_0xf30fc1=_0x1b083c+'-'+new Date()['getTime']();this['logger'][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+'):Hash\x20to\x20image\x20name:\x20'+_0xf30fc1);let _0x8e9496=''+(0x0,j[_0x140b5c(0x6eb)])(this[_0x140b5c(0x1d2)],_0xf30fc1+_0x140b5c(0x6aa));if(this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x883)+_0x8e9496),(0x0,J['isBase64'])(_0x4c97a0)){this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x678));let _0xb3a39c=_0x4c97a0[_0x140b5c(0x5e7)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3fe394=Buffer[_0x140b5c(0x13c)](_0xb3a39c,_0x140b5c(0x210));_0x50ee58=''+(0x0,j[_0x140b5c(0x6eb)])(this[_0x140b5c(0x1d2)],_0x140b5c(0x434)+_0xf30fc1+'.png'),this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x1d6)+_0x50ee58),await(0x0,Ut['default'])(_0x3fe394)[_0x140b5c(0x549)](_0x50ee58),this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x161));}else{this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)]['wuid']+_0x140b5c(0x128));let _0x43eb50=new Date()[_0x140b5c(0x899)](),_0x46ebc6=_0x4c97a0+_0x140b5c(0x703)+_0x43eb50;this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this['instance'][_0x140b5c(0x311)]+_0x140b5c(0x3ed)+_0x46ebc6);let _0x5f2f9b=await Q['default'][_0x140b5c(0x5d8)](_0x46ebc6,{'responseType':_0x140b5c(0x3e2)});this['logger'][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x157));let _0x5dda3e=Buffer[_0x140b5c(0x13c)](_0x5f2f9b[_0x140b5c(0x2ff)],'binary');_0x50ee58=''+(0x0,j[_0x140b5c(0x6eb)])(this[_0x140b5c(0x1d2)],'temp-'+_0xf30fc1+'.png'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x1d6)+_0x50ee58),await(0x0,Ut[_0x140b5c(0x62f)])(_0x5dda3e)['toFile'](_0x50ee58),this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+'):Image\x20created');}return await(0x0,Ut[_0x140b5c(0x62f)])(_0x50ee58)[_0x140b5c(0x1ab)]()['toFile'](_0x8e9496),this[_0x140b5c(0x53d)][_0x140b5c(0x75e)](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)]['wuid']+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x50ee58),this[_0x140b5c(0x53d)]['verbose'](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x34c)),_0x8e9496;}catch(_0x15401f){let _0xf22d2b=_0x140b5c(0x6fd),_0x45992e=_0x15401f instanceof Error?_0x15401f['message']:typeof _0x15401f==_0x140b5c(0x85e)?JSON[_0x140b5c(0x6b1)](_0x15401f):_0x15401f,_0x164aa5=_0xf22d2b+':\x20'+_0x45992e;this[_0x140b5c(0x53d)]['error'](this[_0x140b5c(0x3b2)]+'\x20('+this[_0x140b5c(0x7ed)][_0x140b5c(0x311)]+_0x140b5c(0x851)+_0x164aa5);}}async[a0_0x3d18fe(0x4f7)](_0x132858){const _0xad668f=a0_0x3d18fe;let _0x446064=await this['convertToWebP'](_0x132858[_0xad668f(0x613)][_0xad668f(0x333)],_0x132858[_0xad668f(0x28f)]),_0xf9f27f=await this['sendMessageWithTyping'](_0x132858[_0xad668f(0x28f)],{'sticker':{'url':_0x446064}},_0x132858?.[_0xad668f(0x6f5)]);return k['unlinkSync'](_0x446064),this[_0xad668f(0x53d)]['verbose'](this[_0xad668f(0x3b2)]+'\x20('+this[_0xad668f(0x7ed)][_0xad668f(0x311)]+_0xad668f(0x671)),_0xf9f27f;}async['audioWhatsapp'](_0x1f853c){const _0x543181=a0_0x3d18fe;if(this[_0x543181(0x53d)][_0x543181(0x75e)](this[_0x543181(0x3b2)]+'\x20('+this[_0x543181(0x7ed)][_0x543181(0x311)]+_0x543181(0x336)),!_0x1f853c['options']?.['encoding']&&_0x1f853c[_0x543181(0x6f5)]?.['encoding']!==!0x1&&(_0x1f853c[_0x543181(0x6f5)][_0x543181(0x1c0)]=!0x0),_0x1f853c[_0x543181(0x6f5)]?.[_0x543181(0x1c0)]){let _0x509d9d=await this[_0x543181(0x28e)](_0x1f853c[_0x543181(0x183)][_0x543181(0x3f4)]);if(typeof _0x509d9d==_0x543181(0x29b)){let _0x20435a=k[_0x543181(0x889)](_0x509d9d)[_0x543181(0x444)](_0x543181(0x210));return this['sendMessageWithTyping'](_0x1f853c[_0x543181(0x28f)],{'audio':Buffer[_0x543181(0x13c)](_0x20435a,_0x543181(0x210)),'ptt':!0x0,'mimetype':_0x543181(0x44e)},{'presence':_0x543181(0x228),'delay':_0x1f853c?.['options']?.[_0x543181(0x2c5)]});}else throw new x(_0x509d9d);}return await this[_0x543181(0x7d8)](_0x1f853c['number'],{'audio':(0x0,J[_0x543181(0x879)])(_0x1f853c[_0x543181(0x183)][_0x543181(0x3f4)])?{'url':_0x1f853c['audioMessage']['audio']}:Buffer[_0x543181(0x13c)](_0x1f853c[_0x543181(0x183)][_0x543181(0x3f4)],_0x543181(0x210)),'ptt':!0x0,'mimetype':_0x543181(0x44e)},{'presence':_0x543181(0x228),'delay':_0x1f853c?.[_0x543181(0x6f5)]?.['delay']});}async['convertaudio'](_0x19315e){const _0x12dac9=a0_0x3d18fe;this[_0x12dac9(0x53d)]['verbose'](this[_0x12dac9(0x3b2)]+'\x20('+this[_0x12dac9(0x7ed)][_0x12dac9(0x311)]+_0x12dac9(0x65b));let _0x4aa7e7=(0x0,J[_0x12dac9(0x879)])(_0x19315e)?(0x0,ne[_0x12dac9(0x238)])('sha256')['update'](_0x19315e)[_0x12dac9(0x566)](_0x12dac9(0x848)):(0x0,ne['createHash'])(_0x12dac9(0x7c1))[_0x12dac9(0x200)](_0x19315e)['digest'](_0x12dac9(0x848)),_0x5a4561=''+(0x0,j[_0x12dac9(0x6eb)])(this[_0x12dac9(0x1d2)],_0x4aa7e7+_0x12dac9(0x5be));if(k[_0x12dac9(0x2e8)](_0x5a4561))return this['logger'][_0x12dac9(0x75e)](this['instanceName']+'\x20('+this[_0x12dac9(0x7ed)]['wuid']+_0x12dac9(0x792)),_0x5a4561;let _0x4c7414=''+(0x0,j[_0x12dac9(0x6eb)])(this[_0x12dac9(0x1d2)],_0x12dac9(0x434)+(0x0,Y['v4'])()+_0x12dac9(0x162));if((0x0,J[_0x12dac9(0x879)])(_0x19315e)){let _0x97f237=new Date()[_0x12dac9(0x899)](),_0xd3635a=_0x19315e+_0x12dac9(0x703)+_0x97f237,_0x281aed=await Q[_0x12dac9(0x62f)]['get'](_0xd3635a,{'responseType':_0x12dac9(0x3e2)});k[_0x12dac9(0x71f)](_0x4c7414,_0x281aed[_0x12dac9(0x2ff)]);}else{let _0x3ed2fc=Buffer['from'](_0x19315e,_0x12dac9(0x210));k[_0x12dac9(0x71f)](_0x4c7414,_0x3ed2fc);}return new Promise((_0x3a1f8a,_0x57af2a)=>{const _0x4d9abb=_0x12dac9;(0x0,Fe[_0x4d9abb(0x583)])(Ps['default'][_0x4d9abb(0x5e3)]+_0x4d9abb(0x67a)+_0x4c7414+_0x4d9abb(0x40f)+_0x5a4561+_0x4d9abb(0x4bd),_0x148a35=>{const _0x501ffb=_0x4d9abb;if(k['unlinkSync'](_0x4c7414),_0x148a35){this[_0x501ffb(0x53d)][_0x501ffb(0x75e)](this[_0x501ffb(0x3b2)]+'\x20('+this['instance'][_0x501ffb(0x311)]+_0x501ffb(0x1cf)),_0x57af2a(_0x148a35);return;}this[_0x501ffb(0x53d)][_0x501ffb(0x75e)](this['instanceName']+'\x20('+this[_0x501ffb(0x7ed)][_0x501ffb(0x311)]+_0x501ffb(0x7a6)),_0x3a1f8a(_0x5a4561);});});}async[a0_0x3d18fe(0x42e)](_0x2c8932){const _0x1a4f78=a0_0x3d18fe;this['logger'][_0x1a4f78(0x75e)](this['instanceName']+'\x20('+this[_0x1a4f78(0x7ed)][_0x1a4f78(0x311)]+_0x1a4f78(0x65b));let _0x310e9a=(0x0,ne[_0x1a4f78(0x238)])(_0x1a4f78(0x7c1))['update'](_0x2c8932)['digest'](_0x1a4f78(0x848)),_0x33f591=''+(0x0,j[_0x1a4f78(0x6eb)])(this[_0x1a4f78(0x1d2)],_0x310e9a+_0x1a4f78(0x162));if(k[_0x1a4f78(0x2e8)](_0x33f591))return this[_0x1a4f78(0x53d)][_0x1a4f78(0x75e)](this[_0x1a4f78(0x3b2)]+'\x20('+this[_0x1a4f78(0x7ed)][_0x1a4f78(0x311)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j['default'][_0x1a4f78(0x451)](_0x33f591);let _0x4c13a4=''+(0x0,j[_0x1a4f78(0x6eb)])(this['storePath'],'temp-'+_0x310e9a+_0x1a4f78(0x5be));if((0x0,J[_0x1a4f78(0x879)])(_0x2c8932)){let _0x3370be=new Date()[_0x1a4f78(0x899)](),_0x2cf4d1=_0x2c8932+_0x1a4f78(0x703)+_0x3370be,_0x551477=await Q[_0x1a4f78(0x62f)][_0x1a4f78(0x5d8)](_0x2cf4d1,{'responseType':'arraybuffer'});k['writeFileSync'](_0x4c13a4,_0x551477['data']);}else{let _0x2bdce6=Buffer['from'](_0x2c8932,'base64');k[_0x1a4f78(0x71f)](_0x4c13a4,_0x2bdce6);}return new Promise((_0x4d8045,_0x30e028)=>{const _0x292037=_0x1a4f78;(0x0,Fe[_0x292037(0x583)])(Ps[_0x292037(0x62f)][_0x292037(0x5e3)]+_0x292037(0x67a)+_0x4c13a4+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x33f591+_0x292037(0x4bd),_0x36a94e=>{const _0x5d2dd7=_0x292037;if(k[_0x5d2dd7(0x459)](_0x4c13a4),_0x36a94e){this['logger']['verbose'](this[_0x5d2dd7(0x3b2)]+'\x20('+this[_0x5d2dd7(0x7ed)][_0x5d2dd7(0x311)]+_0x5d2dd7(0x1cf)),_0x30e028(_0x36a94e);return;}this[_0x5d2dd7(0x53d)]['verbose'](this[_0x5d2dd7(0x3b2)]+'\x20('+this[_0x5d2dd7(0x7ed)][_0x5d2dd7(0x311)]+_0x5d2dd7(0x7a6)),_0x4d8045(j[_0x5d2dd7(0x62f)][_0x5d2dd7(0x451)](_0x33f591));});});}async[a0_0x3d18fe(0x41d)](_0x16bcb4){const _0x1ab3bd=a0_0x3d18fe;console[_0x1ab3bd(0x4e7)]('[service]\x20request\x20received\x20in\x20sendButtons',_0x16bcb4);let _0x37e133;try{_0x16bcb4[_0x1ab3bd(0x41d)]?.[_0x1ab3bd(0x872)]&&(_0x37e133=await this['prepareMediaMessage']({'mediatype':'image','media':_0x16bcb4[_0x1ab3bd(0x41d)][_0x1ab3bd(0x872)]}));}catch(_0x1791f4){throw console[_0x1ab3bd(0x4e8)](_0x1ab3bd(0x198),_0x1791f4),new Error(_0x1ab3bd(0x7e0));}try{let _0x3e3513={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1ab3bd(0x6fa)},'footer':{'text':'Rodap\x20de\x20Teste'},'header':((()=>{const _0xedad99=_0x1ab3bd;if(_0x37e133?.[_0xedad99(0x867)]?.[_0xedad99(0x44d)])return{'hasMediaAttachment':!!_0x37e133[_0xedad99(0x867)][_0xedad99(0x44d)],'imageMessage':_0x37e133['message'][_0xedad99(0x44d)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x1ab3bd(0x2e9),'buttonParamsJson':JSON[_0x1ab3bd(0x6b1)]({'display_text':_0x1ab3bd(0x5ce),'id':'1'})},{'name':_0x1ab3bd(0x2e9),'buttonParamsJson':JSON[_0x1ab3bd(0x6b1)]({'display_text':_0x1ab3bd(0x301),'id':'2'})}],'messageParamsJson':JSON['stringify']({'from':_0x1ab3bd(0x743),'templateId':_0x1ab3bd(0x6af)+(0x0,ne[_0x1ab3bd(0x193)])(0x12)[_0x1ab3bd(0x444)]('hex')[_0x1ab3bd(0x299)]()})}}}}};return await this['sendMessageWithTypingButtons'](_0x16bcb4[_0x1ab3bd(0x28f)],_0x3e3513,_0x16bcb4?.['options']);}catch(_0x3ad638){throw console[_0x1ab3bd(0x4e8)](_0x1ab3bd(0x6e0),_0x3ad638),new Error('Failed\x20to\x20send\x20buttons\x20message');}}async[a0_0x3d18fe(0x539)](_0x5a6483){const _0x12de50=a0_0x3d18fe;return await this[_0x12de50(0x7d8)](_0x5a6483[_0x12de50(0x28f)],{'locationMessage':{'degreesLatitude':_0x5a6483[_0x12de50(0x539)]['latitude'],'degreesLongitude':_0x5a6483['locationMessage'][_0x12de50(0x429)],'name':_0x5a6483[_0x12de50(0x539)]?.[_0x12de50(0x2f6)],'address':_0x5a6483['locationMessage']?.[_0x12de50(0x614)]}},_0x5a6483?.[_0x12de50(0x6f5)]);}async[a0_0x3d18fe(0x339)](_0x50f7b2){const _0x963448=a0_0x3d18fe;let _0x1163db={},_0x1d9841=async _0x14c03a=>{const _0x41e3f7=a0_0x4a95;let _0x586ec6='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x14c03a[_0x41e3f7(0x733)]+_0x41e3f7(0x2ba)+_0x14c03a[_0x41e3f7(0x733)]+'\x0a';_0x14c03a[_0x41e3f7(0x83b)]&&(_0x586ec6+=_0x41e3f7(0x534)+_0x14c03a['organization']+';\x0a'),_0x14c03a[_0x41e3f7(0x1f1)]&&(_0x586ec6+=_0x41e3f7(0x223)+_0x14c03a[_0x41e3f7(0x1f1)]+'\x0a'),_0x14c03a[_0x41e3f7(0x3f9)]&&(_0x586ec6+=_0x41e3f7(0x565)+_0x14c03a['url']+'\x0a');let _0x467fd0='',_0x5d29e6=0x1;if(_0x14c03a[_0x41e3f7(0x81a)]){let _0x2bcac6=_0x14c03a[_0x41e3f7(0x81a)][_0x41e3f7(0x74f)]('|');for(let _0x21874a of _0x2bcac6){let _0x3a949a=await this['whatsappNumber']({'numbers':[_0x21874a]}),_0x4fc132=(_0x3a949a[_0x41e3f7(0x802)]>0x0?_0x3a949a[0x0][_0x41e3f7(0x857)]:this[_0x41e3f7(0x3ff)](_0x21874a))[_0x41e3f7(0x5e7)](_0x41e3f7(0x826),'');_0x467fd0+=_0x41e3f7(0x79d)+_0x5d29e6+_0x41e3f7(0x738)+_0x4fc132+':'+_0x21874a+_0x41e3f7(0x88f)+_0x5d29e6+_0x41e3f7(0x489),_0x5d29e6++;}}return _0x586ec6+=_0x467fd0+'END:VCARD',_0x586ec6;};return _0x50f7b2[_0x963448(0x339)]['length']===0x1?_0x1163db[_0x963448(0x339)]={'displayName':_0x50f7b2[_0x963448(0x339)][0x0]['fullName'],'vcard':await _0x1d9841(_0x50f7b2[_0x963448(0x339)][0x0])}:_0x1163db[_0x963448(0x3c0)]={'displayName':_0x50f7b2[_0x963448(0x339)]['length']+_0x963448(0x6db),'contacts':await Promise['all'](_0x50f7b2[_0x963448(0x339)]['map'](async _0x11fa8d=>({'displayName':_0x11fa8d[_0x963448(0x733)],'vcard':await _0x1d9841(_0x11fa8d)})))},await this[_0x963448(0x7d8)](_0x50f7b2[_0x963448(0x28f)],{..._0x1163db},_0x50f7b2?.[_0x963448(0x6f5)]);}async[a0_0x3d18fe(0x6cb)](_0x44b5f4){const _0x5b67d5=a0_0x3d18fe;return await this[_0x5b67d5(0x7d8)](_0x44b5f4['reactionMessage'][_0x5b67d5(0x406)]['remoteJid'],{'reactionMessage':{'key':_0x44b5f4[_0x5b67d5(0x6cb)][_0x5b67d5(0x406)],'text':_0x44b5f4[_0x5b67d5(0x6cb)]['reaction']}});}async['whatsappNumber'](_0x212b8b){const _0x947204=a0_0x3d18fe;let _0x5e7548=[];for await(let _0x5d9281 of _0x212b8b[_0x947204(0x296)]){let _0x588585=this[_0x947204(0x3ff)](_0x5d9281),_0x2dad87=!0x1;try{if((0x0,w[_0x947204(0x608)])(_0x588585)){let _0x2310b1=(await this[_0x947204(0x827)]['chat']['findOne']({'where':{'_id':_0x588585}},this[_0x947204(0x7ed)][_0x947204(0x311)]))[_0x947204(0x2e7)];_0x2310b1?(_0x2dad87=!0x0,_0x5e7548[_0x947204(0x1a4)](new ue(_0x2310b1['id'],_0x2dad87,_0x2310b1?.[_0x947204(0x8a1)]))):(_0x2310b1=await this[_0x947204(0x749)]({'groupJid':_0x588585},_0x947204(0x2cd)),_0x5e7548[_0x947204(0x1a4)](new ue(_0x2310b1['id'],!!_0x2310b1?.['id'],_0x2310b1?.[_0x947204(0x8a1)])));}else{if(_0x588585['includes'](_0x947204(0x227)))_0x5e7548[_0x947204(0x1a4)](new ue(_0x588585,!0x0));else{let _0x460b23=(await this[_0x947204(0x880)][_0x947204(0x17d)](_0x588585))[0x0];_0x5e7548[_0x947204(0x1a4)](new ue(_0x460b23['jid'],_0x460b23[_0x947204(0x622)]));}}}catch{(0x0,w['isJidGroup'])(_0x588585)||await this[_0x947204(0x673)](_0x588585),_0x5e7548[_0x947204(0x1a4)](new ue(_0x5d9281,!0x1));}}return _0x5e7548;}async[a0_0x3d18fe(0x673)](_0x140676){const _0x208a4c=a0_0x3d18fe;try{await this[_0x208a4c(0x827)][_0x208a4c(0x1cd)][_0x208a4c(0x648)]({'where':{'_id':_0x140676,'imported':!0x0}},this[_0x208a4c(0x7ed)][_0x208a4c(0x311)])&&(await this[_0x208a4c(0x827)][_0x208a4c(0x1cd)][_0x208a4c(0x7db)](_0x140676,this[_0x208a4c(0x7ed)][_0x208a4c(0x311)]),this[_0x208a4c(0x53d)][_0x208a4c(0x4f2)](_0x208a4c(0x2fd)+_0x140676+_0x208a4c(0x7b9)));}catch(_0x5c7d29){let _0x3c9294='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x53e318=_0x5c7d29 instanceof Error?_0x5c7d29[_0x208a4c(0x867)]:typeof _0x5c7d29=='object'?JSON[_0x208a4c(0x6b1)](_0x5c7d29):_0x5c7d29,_0x43fc79=_0x3c9294+':\x20'+_0x53e318;this[_0x208a4c(0x53d)][_0x208a4c(0x4e8)](this['instanceName']+'\x20('+this[_0x208a4c(0x7ed)][_0x208a4c(0x311)]+_0x208a4c(0x851)+_0x43fc79);}}async[a0_0x3d18fe(0x2e2)](_0x5e3a5b){const _0x42f31a=a0_0x3d18fe;try{let _0x2c8686=_0x5e3a5b['readMessages'][_0x42f31a(0x836)](_0x52ad20=>(0x0,w['isJidGroup'])(_0x52ad20[_0x42f31a(0x7f9)])||(0x0,w['isJidUser'])(_0x52ad20[_0x42f31a(0x7f9)]))[_0x42f31a(0x82a)](_0x22ac3a=>({'remoteJid':_0x22ac3a['remoteJid'],'fromMe':_0x22ac3a[_0x42f31a(0x840)],'id':_0x22ac3a['id']}));await this[_0x42f31a(0x880)][_0x42f31a(0x3d3)](_0x2c8686);let _0x8ba25b=_0x2c8686[_0x42f31a(0x82a)](_0x3269c6=>this[_0x42f31a(0x230)](_0x3269c6,{'status':'READ','owner':this['instance'][_0x42f31a(0x311)]})),_0x3d8bee=_0x2c8686['map'](_0x172fc4=>this[_0x42f31a(0x827)]['chat'][_0x42f31a(0x442)]({'where':{'_id':_0x172fc4[_0x42f31a(0x7f9)]}},{'unreadcount':0x0},this[_0x42f31a(0x7ed)]['wuid'])),[_0x269ba9,_0x573c89]=await Promise[_0x42f31a(0x6e6)]([Promise[_0x42f31a(0x6e6)](_0x8ba25b),Promise['all'](_0x3d8bee)]);return _0x573c89[_0x42f31a(0x836)](_0x129667=>_0x129667!==null)[_0x42f31a(0x358)](_0x130cad=>{const _0x5477d=_0x42f31a;F(this[_0x5477d(0x3b2)],_0x5477d(0x765),{'chat':_0x130cad});}),{'message':_0x42f31a(0x527),'read':_0x42f31a(0x824)};}catch(_0x129863){let _0x5a8809=_0x42f31a(0x5ad),_0x479099=_0x129863 instanceof Error?_0x129863['message']:typeof _0x129863==_0x42f31a(0x85e)?JSON[_0x42f31a(0x6b1)](_0x129863):_0x129863,_0x1dcaec=_0x5a8809+':\x20'+_0x479099;throw this[_0x42f31a(0x53d)][_0x42f31a(0x4e8)](this[_0x42f31a(0x3b2)]+'\x20('+this[_0x42f31a(0x7ed)][_0x42f31a(0x311)]+'):\x20'+_0x1dcaec),new x(_0x1dcaec);}}async[a0_0x3d18fe(0x33c)](_0x3d73a5){const _0x304fcc=a0_0x3d18fe;let _0x590c97={'where':{'key':{'remoteJid':_0x3d73a5}},'limit':0x1},_0x44f1e2=await this[_0x304fcc(0x203)](_0x590c97);return _0x44f1e2||(this[_0x304fcc(0x53d)][_0x304fcc(0x4e8)](_0x304fcc(0x73f)+_0x3d73a5),null);}async[a0_0x3d18fe(0x205)](_0x1e25f1){const _0x2eb433=a0_0x3d18fe;this[_0x2eb433(0x53d)][_0x2eb433(0x75e)](this['instanceName']+'\x20('+this[_0x2eb433(0x7ed)][_0x2eb433(0x311)]+'):Archiving\x20chat');try{let _0x3a7f75=_0x1e25f1[_0x2eb433(0x341)],_0x45d664=_0x1e25f1[_0x2eb433(0x1cd)];if(!_0x3a7f75&&_0x45d664?_0x3a7f75=await this[_0x2eb433(0x33c)](_0x45d664):(_0x3a7f75=_0x1e25f1[_0x2eb433(0x341)],_0x3a7f75[_0x2eb433(0x849)]=_0x3a7f75?.[_0x2eb433(0x849)]??Date[_0x2eb433(0x7f3)](),_0x45d664=_0x3a7f75?.[_0x2eb433(0x406)]?.[_0x2eb433(0x7f9)]),!_0x3a7f75||Object[_0x2eb433(0x551)](_0x3a7f75)[_0x2eb433(0x802)]===0x0)throw new U(_0x2eb433(0x3b8));this[_0x2eb433(0x53d)][_0x2eb433(0x75e)](this[_0x2eb433(0x3b2)]+'\x20('+this[_0x2eb433(0x7ed)]['wuid']+_0x2eb433(0x2a7)+_0x45d664);try{await this[_0x2eb433(0x880)][_0x2eb433(0x54c)]({'archive':_0x1e25f1[_0x2eb433(0x52d)],'lastMessages':[_0x3a7f75]},this[_0x2eb433(0x3ff)](_0x45d664));}catch(_0x422376){let _0x3c4c19='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x45d664,_0x3e00f8=_0x422376 instanceof Error?_0x422376[_0x2eb433(0x867)]:typeof _0x422376==_0x2eb433(0x85e)?JSON[_0x2eb433(0x6b1)](_0x422376):_0x422376,_0x579cea=_0x3c4c19+':\x20'+_0x3e00f8;this[_0x2eb433(0x53d)][_0x2eb433(0x4e8)](this[_0x2eb433(0x3b2)]+'\x20('+this[_0x2eb433(0x7ed)]['wuid']+'):\x20'+_0x579cea);}this[_0x2eb433(0x53d)][_0x2eb433(0x75e)](this['instanceName']+'\x20('+this[_0x2eb433(0x7ed)][_0x2eb433(0x311)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x45d664);let _0x39c203=await this['repository'][_0x2eb433(0x1cd)]['updateOne']({'where':{'_id':_0x3a7f75?.[_0x2eb433(0x406)]?.['remoteJid']}},{'archived':_0x1e25f1[_0x2eb433(0x52d)]},this[_0x2eb433(0x7ed)][_0x2eb433(0x311)]);return _0x39c203?(this[_0x2eb433(0x53d)]['verbose'](this[_0x2eb433(0x3b2)]+'\x20('+this[_0x2eb433(0x7ed)][_0x2eb433(0x311)]+_0x2eb433(0x1a9)+JSON[_0x2eb433(0x6b1)](_0x39c203)),F(this[_0x2eb433(0x3b2)],'chats',{'chat':_0x39c203})):this[_0x2eb433(0x53d)][_0x2eb433(0x4e8)](this[_0x2eb433(0x3b2)]+'\x20('+this[_0x2eb433(0x7ed)][_0x2eb433(0x311)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x45d664),{'chatId':_0x45d664,'archived':_0x1e25f1[_0x2eb433(0x52d)]};}catch(_0x4f765c){let _0x54fb03=_0x2eb433(0x2ed),_0xc1a476=_0x4f765c instanceof Error?_0x4f765c[_0x2eb433(0x867)]:typeof _0x4f765c==_0x2eb433(0x85e)?JSON[_0x2eb433(0x6b1)](_0x4f765c):_0x4f765c,_0x23ddc1=_0x54fb03+':\x20'+_0xc1a476;throw this[_0x2eb433(0x53d)][_0x2eb433(0x4e8)](this[_0x2eb433(0x3b2)]+'\x20('+this[_0x2eb433(0x7ed)]['wuid']+'):\x20'+_0x23ddc1),new x(_0x23ddc1);}}async['deleteChat'](_0x41ab15){const _0x686806=a0_0x3d18fe;this['logger']['verbose'](this[_0x686806(0x3b2)]+'\x20('+this['instance']['wuid']+_0x686806(0x259));try{let _0x134030=await this[_0x686806(0x33c)](_0x41ab15);if(!_0x134030||Object[_0x686806(0x551)](_0x134030)[_0x686806(0x802)]===0x0)throw new U('Last\x20message\x20not\x20found');let _0x28e2dc=_0x134030[0x0];this[_0x686806(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x686806(0x7ed)][_0x686806(0x311)]+_0x686806(0x268)+_0x41ab15);try{await this['client'][_0x686806(0x54c)]({'delete':!0x0,'lastMessages':[{'key':_0x28e2dc[_0x686806(0x406)],'messageTimestamp':_0x28e2dc[_0x686806(0x849)]}]},this['createJid'](_0x41ab15));}catch(_0xdc2915){this[_0x686806(0x53d)]['error'](_0x686806(0x1bf)+_0x41ab15+':\x20'+_0xdc2915[_0x686806(0x444)]());}this[_0x686806(0x53d)][_0x686806(0x75e)](this[_0x686806(0x3b2)]+'\x20('+this[_0x686806(0x7ed)][_0x686806(0x311)]+_0x686806(0x741)+_0x41ab15);return;}catch(_0x4ba614){throw this[_0x686806(0x53d)][_0x686806(0x4e8)](this[_0x686806(0x3b2)]+'\x20('+this[_0x686806(0x7ed)][_0x686806(0x311)]+_0x686806(0x4ea)+_0x4ba614[_0x686806(0x444)]()),new x({'archived':!0x1,'message':[_0x686806(0x39b),_0x4ba614[_0x686806(0x444)]()]});}}async[a0_0x3d18fe(0x784)](_0x4652ef){const _0x75125f=a0_0x3d18fe;try{let _0x50e8fb=await this[_0x75125f(0x880)][_0x75125f(0x5b7)](_0x4652ef[_0x75125f(0x7f9)],{'delete':_0x4652ef});try{let _0x4f722e=await this[_0x75125f(0x230)](_0x4652ef,{'status':_0x75125f(0x329),'owner':this[_0x75125f(0x7ed)]['wuid']});this[_0x75125f(0x53d)][_0x75125f(0x75e)](this[_0x75125f(0x3b2)]+'\x20('+this[_0x75125f(0x7ed)][_0x75125f(0x311)]+_0x75125f(0x359)+_0x4f722e);}catch(_0x36fada){this['logger']['error']('Error\x20updating\x20message\x20status:'+_0x36fada);}return _0x50e8fb;}catch(_0x3e1070){throw new x(_0x75125f(0x5e9),_0x3e1070?.[_0x75125f(0x444)]());}}async['getBase64FromMediaMessage'](_0x21864d){const _0x473518=a0_0x3d18fe;try{let _0x58f4f1=_0x21864d?.[_0x473518(0x867)]?_0x21864d:await this['getMessage'](_0x21864d[_0x473518(0x406)],!0x0);for(let _0x464117 of Na)_0x58f4f1[_0x473518(0x867)][_0x464117]&&(_0x58f4f1[_0x473518(0x867)]=_0x58f4f1[_0x473518(0x867)][_0x464117][_0x473518(0x867)]);let _0xc2f569,_0x5727ba;for(let _0x18825f of va)if(_0xc2f569=_0x58f4f1[_0x473518(0x867)][_0x18825f],_0xc2f569){_0x5727ba=_0x18825f;break;}if(!_0xc2f569)throw _0x473518(0x75f);typeof _0xc2f569[_0x473518(0x69e)]==_0x473518(0x85e)&&(_0x58f4f1[_0x473518(0x867)]=JSON['parse'](JSON[_0x473518(0x6b1)](_0x58f4f1[_0x473518(0x867)])));let _0xb25580=await(0x0,w[_0x473518(0x159)])({'key':_0x58f4f1?.[_0x473518(0x406)],'message':_0x58f4f1?.[_0x473518(0x867)]},'buffer',{},{'logger':(0x0,Ft['default'])({'level':_0x473518(0x652)}),'reuploadRequest':this['client'][_0x473518(0x1f7)]});if(!(_0xb25580 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x4dd6c6=this[_0x473518(0x599)]['get'](_0x473518(0x5f5)),_0x42dd2b,_0x456850;if(_0xc2f569['fileName'])_0x42dd2b=_0xc2f569[_0x473518(0x49d)];else{let _0x57bfb0=_0xc2f569[_0x473518(0x49c)]?.['match'](/\/(\w+)/),_0x4b160d=_0x57bfb0?_0x57bfb0[0x1]:null;if(!_0x4b160d)throw new Error(_0x473518(0x178));_0x42dd2b=(0x0,Y['v4'])()+'.'+_0x4b160d;}_0x5727ba===_0x473518(0x183)?_0x456850='/media/'+await this[_0x473518(0x42e)](_0xb25580[_0x473518(0x444)](_0x473518(0x210))):(await this['saveMediaToFile'](_0xb25580,_0x42dd2b),_0x456850=_0x473518(0x748)+_0x42dd2b);let _0x5ec2be=this[_0x473518(0x599)][_0x473518(0x5d8)](_0x473518(0x2d0))[_0x473518(0x6fe)];if(!_0x5ec2be){let _0x51d016=this[_0x473518(0x599)][_0x473518(0x5d8)](_0x473518(0x76b));_0x5ec2be=_0x473518(0x7de)+(_0x51d016&&_0x51d016[_0x473518(0x854)][_0x473518(0x74f)]('/')[0x4]);}_0x456850=''+_0x5ec2be+_0x456850;let _0x4503c7=0xc*0x3c*0x3c*0x3e8,_0x39c1df={'where':{'_id':_0x58f4f1[_0x473518(0x406)]['id']}},_0x3010b1={'message_normalized.fileUrl':_0x456850,'message_normalized.expires_fileUrl':Date[_0x473518(0x7f3)]()+_0x4503c7};try{let _0x145935=await this[_0x473518(0x827)]['message'][_0x473518(0x200)](_0x39c1df,_0x3010b1,this['instance'][_0x473518(0x311)]);_0x145935&&F(this['instanceName'],'messages',{'message':_0x145935});}catch(_0x103042){let _0xb7db1c=_0x473518(0x508),_0x569e50=_0x103042 instanceof Error?_0x103042[_0x473518(0x867)]:typeof _0x103042=='object'?JSON[_0x473518(0x6b1)](_0x103042):_0x103042,_0x644ce1=_0xb7db1c+':\x20'+_0x569e50;this[_0x473518(0x53d)][_0x473518(0x4e8)](this[_0x473518(0x3b2)]+'\x20('+this[_0x473518(0x7ed)][_0x473518(0x311)]+_0x473518(0x851)+_0x644ce1);}return{'mediaType':_0x5727ba,'fileName':_0xc2f569[_0x473518(0x49d)],'caption':_0xc2f569['caption'],'size':{'fileLength':_0xc2f569[_0x473518(0x127)],'height':_0xc2f569[_0x473518(0x45a)],'width':_0xc2f569['width']},'mimetype':_0xc2f569['mimetype'],'base64':_0xb25580[_0x473518(0x444)]('base64'),'fileUrl':_0x456850,'expires_fileUrl':Date[_0x473518(0x7f3)]()+_0x4503c7};}catch(_0x2c3d55){let _0x20e16f=_0x473518(0x156),_0x3ee18e=_0x2c3d55 instanceof Error?_0x2c3d55[_0x473518(0x867)]:typeof _0x2c3d55==_0x473518(0x85e)?JSON[_0x473518(0x6b1)](_0x2c3d55):_0x2c3d55,_0xf3c6dd=_0x20e16f+':\x20'+_0x3ee18e;throw this[_0x473518(0x53d)][_0x473518(0x4e8)](this[_0x473518(0x3b2)]+'\x20('+this[_0x473518(0x7ed)]['wuid']+'):\x20'+_0xf3c6dd),new m(_0xf3c6dd);}}async[a0_0x3d18fe(0x586)](_0x593920,_0x599446){const _0xe9b5c7=a0_0x3d18fe;let _0x489d74=j[_0xe9b5c7(0x62f)]['join'](__dirname,'downloads');k[_0xe9b5c7(0x2e8)](_0x489d74)||k[_0xe9b5c7(0x2f4)](_0x489d74,{'recursive':!0x0});let _0xf07c0f=j['default'][_0xe9b5c7(0x6eb)](_0x489d74,_0x599446);return new Promise((_0xc557fc,_0x5c36c4)=>{k['writeFile'](_0xf07c0f,_0x593920,_0x37eeda=>{const _0x4ff0cc=a0_0x4a95;_0x37eeda?(this['logger'][_0x4ff0cc(0x4e8)](_0x4ff0cc(0x732)+(_0x37eeda instanceof Error?_0x37eeda['message']:JSON['stringify'](_0x37eeda,null,0x2))),_0x5c36c4(_0x37eeda)):(this[_0x4ff0cc(0x53d)][_0x4ff0cc(0x4e7)](_0x4ff0cc(0x63c)+_0xf07c0f),_0xc557fc(_0xf07c0f));});});}async[a0_0x3d18fe(0x72e)](_0x4ba231){const _0x20cdc9=a0_0x3d18fe;return await this['repository'][_0x20cdc9(0x363)]['find'](_0x4ba231,this[_0x20cdc9(0x7ed)][_0x20cdc9(0x311)]);}async[a0_0x3d18fe(0x571)](){const _0x302cfa=a0_0x3d18fe;return await this[_0x302cfa(0x827)][_0x302cfa(0x589)]['find']({'where':{}},this['instance']['wuid']);}async[a0_0x3d18fe(0x203)](_0xf74112){const _0x198578=a0_0x3d18fe;return await this[_0x198578(0x827)][_0x198578(0x867)][_0x198578(0x80c)](_0xf74112,this[_0x198578(0x7ed)][_0x198578(0x311)]);}async[a0_0x3d18fe(0x74a)](){const _0x27e128=a0_0x3d18fe;return this[_0x27e128(0x827)][_0x27e128(0x1cd)]['removeUnusedChatFields'](this[_0x27e128(0x7ed)]['wuid']),this['repository'][_0x27e128(0x1cd)][_0x27e128(0x3bf)](this[_0x27e128(0x7ed)][_0x27e128(0x311)]),this[_0x27e128(0x827)][_0x27e128(0x1cd)]['updateMissingTags'](this['instance'][_0x27e128(0x311)]),this[_0x27e128(0x827)][_0x27e128(0x1cd)]['updateMissingCustomFields'](this['instance'][_0x27e128(0x311)]),await this[_0x27e128(0x827)][_0x27e128(0x1cd)]['find']({'where':{}},this[_0x27e128(0x7ed)]['wuid']);}async[a0_0x3d18fe(0x254)](_0xdc6822){const _0x3a9a12=a0_0x3d18fe;try{if(!Array[_0x3a9a12(0x27a)](_0xdc6822)||_0xdc6822[_0x3a9a12(0x802)]===0x0)throw new Error(_0x3a9a12(0x4fa));let _0x5d98f1=[],_0xd2948c=[];for(let _0x4ae577 of _0xdc6822){if(_0x4ae577[_0x3a9a12(0x2a2)])_0x4ae577[_0x3a9a12(0x2a2)]=this[_0x3a9a12(0x3ff)](_0x4ae577[_0x3a9a12(0x2a2)]);else continue;await this[_0x3a9a12(0x827)][_0x3a9a12(0x1cd)][_0x3a9a12(0x648)]({'where':{'_id':_0x4ae577[_0x3a9a12(0x2a2)]}},this['instance'][_0x3a9a12(0x311)])?_0xd2948c['push']({'_id':_0x4ae577[_0x3a9a12(0x2a2)],'leadInfo':_0x4ae577[_0x3a9a12(0x518)],'owner':this[_0x3a9a12(0x7ed)][_0x3a9a12(0x311)]}):_0x5d98f1[_0x3a9a12(0x1a4)]({'_id':_0x4ae577[_0x3a9a12(0x2a2)],'owner':this[_0x3a9a12(0x7ed)][_0x3a9a12(0x311)],'leadInfo':_0x4ae577[_0x3a9a12(0x518)],'imported':!0x0});}return _0xd2948c[_0x3a9a12(0x802)]>0x0&&await this[_0x3a9a12(0x827)][_0x3a9a12(0x1cd)][_0x3a9a12(0x772)](_0xd2948c[_0x3a9a12(0x82a)](_0x3e03fc=>({'query':{'where':{'_id':_0x3e03fc[_0x3a9a12(0x2a2)],'owner':this[_0x3a9a12(0x7ed)][_0x3a9a12(0x311)]}},'update':_0x3e03fc}))),_0x5d98f1[_0x3a9a12(0x802)]>0x0&&await this[_0x3a9a12(0x827)]['chat'][_0x3a9a12(0x186)](_0x5d98f1,this['instance'][_0x3a9a12(0x311)]),{'updated':_0xd2948c[_0x3a9a12(0x802)],'inserted':_0x5d98f1[_0x3a9a12(0x802)]};}catch(_0x451e22){let _0x2f5464=_0x3a9a12(0x3e0),_0x338dec=_0x451e22 instanceof Error?_0x451e22['message']:typeof _0x451e22==_0x3a9a12(0x85e)?JSON[_0x3a9a12(0x6b1)](_0x451e22):_0x451e22,_0x2c770e=_0x2f5464+':\x20'+_0x338dec;throw this[_0x3a9a12(0x53d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3a9a12(0x311)]+_0x3a9a12(0x851)+_0x2c770e),new m(_0x2c770e);}}async[a0_0x3d18fe(0x706)](_0x5dce88){const _0x3dfc96=a0_0x3d18fe;try{if(!Array['isArray'](_0x5dce88)||_0x5dce88[_0x3dfc96(0x802)]===0x0)throw new Error(_0x3dfc96(0x4fa));let _0x244afd=0x64,_0x31fbe7=0x0;for(let _0x1b230a=0x0;_0x1b230a<_0x5dce88[_0x3dfc96(0x802)];_0x1b230a+=_0x244afd){let _0x1ad73c=_0x5dce88[_0x3dfc96(0x8ad)](_0x1b230a,_0x1b230a+_0x244afd),{updated:_0x5a575b}=await this[_0x3dfc96(0x86b)](_0x1ad73c);_0x31fbe7+=_0x5a575b;}return{'updated':_0x31fbe7};}catch(_0x23cc88){let _0x39f6ca=_0x3dfc96(0x3e0),_0x5cb200=_0x23cc88 instanceof Error?_0x23cc88[_0x3dfc96(0x867)]:typeof _0x23cc88==_0x3dfc96(0x85e)?JSON[_0x3dfc96(0x6b1)](_0x23cc88):_0x23cc88,_0x487b6d=_0x39f6ca+':\x20'+_0x5cb200;throw this[_0x3dfc96(0x53d)][_0x3dfc96(0x4e8)](this[_0x3dfc96(0x3b2)]+'\x20('+this[_0x3dfc96(0x7ed)][_0x3dfc96(0x311)]+_0x3dfc96(0x851)+_0x487b6d),new m(_0x487b6d);}}async[a0_0x3d18fe(0x86b)](_0x47e146){const _0x22952c=a0_0x3d18fe;try{let _0x48e273=await this['repository'][_0x22952c(0x589)][_0x22952c(0x80c)]({'where':{}},this[_0x22952c(0x7ed)][_0x22952c(0x311)]),_0x51a5c6=new Set(_0x48e273[_0x22952c(0x82a)](_0x3b6044=>_0x3b6044['_id'])),_0x3c24b9=[],_0x376a9e=[];for(let _0x3e511f of _0x47e146){if(!_0x3e511f['_id'])continue;_0x3e511f[_0x22952c(0x2a2)]=this[_0x22952c(0x3ff)](_0x3e511f[_0x22952c(0x2a2)]);let _0x30e295=await this['repository']['chat'][_0x22952c(0x648)]({'where':{'_id':_0x3e511f[_0x22952c(0x2a2)]}},this['instance']['wuid']),_0x195fe2={};if(Object['entries'](_0x3e511f['leadInfo'])[_0x22952c(0x358)](([_0x3d567b,_0x4a8fca])=>{const _0x3ca810=_0x22952c;_0x195fe2[_0x3ca810(0x3d9)+_0x3d567b]=_0x4a8fca;}),_0x30e295&&!_0x30e295[_0x22952c(0x593)]){let _0x1480c0=(_0x3e511f['leadInfo'][_0x22952c(0x3fd)]||[])[_0x22952c(0x836)](_0x533319=>_0x51a5c6[_0x22952c(0x146)](_0x533319)),_0x4053c1=new Set(_0x30e295[_0x22952c(0x518)][_0x22952c(0x3fd)]||[]),_0x34bed9=_0x1480c0[_0x22952c(0x836)](_0xd76451=>!_0x4053c1[_0x22952c(0x146)](_0xd76451)),_0x43f997=[..._0x4053c1][_0x22952c(0x836)](_0x20a966=>!_0x1480c0[_0x22952c(0x3f1)](_0x20a966));_0x376a9e['push'](..._0x34bed9['map'](_0x433248=>this[_0x22952c(0x654)](_0x433248,_0x3e511f[_0x22952c(0x2a2)]))),_0x376a9e[_0x22952c(0x1a4)](..._0x43f997['map'](_0x24a389=>this[_0x22952c(0x312)](_0x24a389,_0x3e511f[_0x22952c(0x2a2)]))),_0x3e511f[_0x22952c(0x518)][_0x22952c(0x3fd)]=_0x1480c0,_0x3c24b9[_0x22952c(0x1a4)]({'query':{'where':{'_id':_0x3e511f[_0x22952c(0x2a2)],'owner':this[_0x22952c(0x7ed)][_0x22952c(0x311)]}},'update':_0x195fe2});}else _0x195fe2[_0x22952c(0x593)]=!0x0,_0x3c24b9[_0x22952c(0x1a4)]({'query':{'where':{'_id':_0x3e511f[_0x22952c(0x2a2)],'owner':this[_0x22952c(0x7ed)][_0x22952c(0x311)]}},'update':_0x195fe2});}let _0x431274=await this[_0x22952c(0x827)][_0x22952c(0x1cd)]['updateMany'](_0x3c24b9);return await Promise[_0x22952c(0x6e6)](_0x376a9e),{'updated':_0x431274};}catch(_0x1e8fdf){let _0x5d7666=_0x22952c(0x3e0),_0x303041=_0x1e8fdf instanceof Error?_0x1e8fdf['message']:typeof _0x1e8fdf==_0x22952c(0x85e)?JSON[_0x22952c(0x6b1)](_0x1e8fdf):_0x1e8fdf,_0x57e201=_0x5d7666+':\x20'+_0x303041;throw this[_0x22952c(0x53d)]['error'](this[_0x22952c(0x3b2)]+'\x20('+this['instance'][_0x22952c(0x311)]+_0x22952c(0x851)+_0x57e201),new m(_0x57e201);}}async[a0_0x3d18fe(0x327)](){const _0x4fe234=a0_0x3d18fe;return await this[_0x4fe234(0x880)][_0x4fe234(0x327)]();}async[a0_0x3d18fe(0x497)](_0x3889f1){const _0x449c3c=a0_0x3d18fe;try{return await this[_0x449c3c(0x880)][_0x449c3c(0x1b7)](_0x3889f1['privacySettings'][_0x449c3c(0x3da)]),await this[_0x449c3c(0x880)]['updateProfilePicturePrivacy'](_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x5db)]),await this[_0x449c3c(0x880)]['updateStatusPrivacy'](_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x1b2)]),await this['client']['updateOnlinePrivacy'](_0x3889f1['privacySettings'][_0x449c3c(0x5bd)]),await this['client'][_0x449c3c(0x80e)](_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x1ba)]),await this[_0x449c3c(0x880)][_0x449c3c(0x2ac)](_0x3889f1['privacySettings'][_0x449c3c(0x756)]),this[_0x449c3c(0x880)]?.['ws']?.[_0x449c3c(0x349)](),{'update':_0x449c3c(0x824),'data':{'readreceipts':_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x3da)],'profile':_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x5db)],'status':_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x1b2)],'online':_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x5bd)],'last':_0x3889f1[_0x449c3c(0x1c1)][_0x449c3c(0x1ba)],'groupadd':_0x3889f1['privacySettings']['groupadd']}};}catch(_0x1f1765){let _0x2d0168=_0x449c3c(0x491),_0x21b827=_0x1f1765 instanceof Error?_0x1f1765[_0x449c3c(0x867)]:typeof _0x1f1765=='object'?JSON['stringify'](_0x1f1765):_0x1f1765,_0x2ee25e=_0x2d0168+':\x20'+_0x21b827;throw this[_0x449c3c(0x53d)][_0x449c3c(0x4e8)](this[_0x449c3c(0x3b2)]+'\x20('+this[_0x449c3c(0x7ed)][_0x449c3c(0x311)]+_0x449c3c(0x851)+_0x2ee25e),new m(_0x2ee25e);}}async['fetchProfile'](_0x10809b){const _0x399bd0=a0_0x3d18fe;let _0x25e403=(_0x10809b?this[_0x399bd0(0x3ff)](_0x10809b):this[_0x399bd0(0x880)]?.[_0x399bd0(0x55b)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger']['verbose'](this[_0x399bd0(0x3b2)]+'\x20('+this[_0x399bd0(0x7ed)][_0x399bd0(0x311)]+_0x399bd0(0x892)+_0x25e403);let _0x555a63=await this['repository']['contact'][_0x399bd0(0x648)]({'where':{'_id':_0x25e403}},this['instance'][_0x399bd0(0x311)]),_0x33bd45=_0x555a63?_0x555a63[_0x399bd0(0x581)]:null;try{let _0x233254=(await this['whatsappNumber']({'numbers':[_0x25e403]}))?.['shift'](),_0x513181=(await this['findAndUpdateCacheContact'](_0x25e403,null,!0x1))[_0x399bd0(0x5bb)][_0x399bd0(0x450)],_0x5291ee=await this[_0x399bd0(0x328)](_0x233254?.[_0x399bd0(0x857)]),_0x44f790=await this['fetchBusinessProfile'](_0x233254?.['jid']),_0x46a9f1=(await this[_0x399bd0(0x1f9)](_0x25e403,null,!0x1))['cachedContact'][_0x399bd0(0x2f6)],_0x5ed318=await this['repository']['chat'][_0x399bd0(0x648)]({'where':{'_id':_0x25e403}},this['instance']['wuid']),_0x59fe2e={'imagechat':_0x513181,'contactname':_0x33bd45||null,'pushName':_0x46a9f1,'status':_0x5291ee?.[_0x399bd0(0x1b2)],'isBusiness':_0x44f790[_0x399bd0(0x782)],'email':_0x44f790?.[_0x399bd0(0x1f1)],'description':_0x44f790?.[_0x399bd0(0x5eb)],'website':_0x44f790?.['website']?.[_0x399bd0(0x76d)](),'lastcache':Date[_0x399bd0(0x7f3)](),'imported':!_0x5ed318},_0x26ec86=await this[_0x399bd0(0x827)][_0x399bd0(0x1cd)][_0x399bd0(0x442)]({'where':{'_id':_0x25e403}},_0x59fe2e,this['instance'][_0x399bd0(0x311)]),_0x5aa767={'owner':this[_0x399bd0(0x7ed)][_0x399bd0(0x311)],'_id':_0x25e403,'profilePictureUrl':_0x513181,'status':_0x5291ee?.[_0x399bd0(0x1b2)]};return this[_0x399bd0(0x827)]['contact'][_0x399bd0(0x200)]([_0x5aa767],this[_0x399bd0(0x7ed)]['wuid']),_0x26ec86&&F(this[_0x399bd0(0x3b2)],_0x399bd0(0x765),{'chat':_0x26ec86}),{'wuid':_0x233254?.[_0x399bd0(0x857)]||_0x25e403,'name':_0x233254?.[_0x399bd0(0x2f6)],'pushName':_0x46a9f1,'numberExists':_0x233254?.[_0x399bd0(0x622)],'picture':_0x513181,'status':_0x5291ee?.['status'],'isBusiness':_0x44f790['isBusiness'],'email':_0x44f790?.[_0x399bd0(0x1f1)],'description':_0x44f790?.[_0x399bd0(0x5eb)],'website':_0x44f790?.[_0x399bd0(0x638)]?.[_0x399bd0(0x76d)]()};}catch(_0x4a0e85){return this['logger'][_0x399bd0(0x4e8)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x4a0e85 instanceof Error?_0x4a0e85[_0x399bd0(0x867)]:JSON[_0x399bd0(0x6b1)](_0x4a0e85,null,0x2))),{};}}async['fetchBusinessProfile'](_0x559e61){const _0x55281=a0_0x3d18fe;this[_0x55281(0x53d)][_0x55281(0x75e)](this[_0x55281(0x3b2)]+'\x20('+this[_0x55281(0x7ed)][_0x55281(0x311)]+_0x55281(0x2d7));try{let _0x1b0dbb=_0x559e61?this[_0x55281(0x3ff)](_0x559e61):this['instance'][_0x55281(0x311)],_0x488142=await this[_0x55281(0x880)][_0x55281(0x454)](_0x1b0dbb);return this[_0x55281(0x53d)]['verbose'](this[_0x55281(0x3b2)]+'\x20('+this[_0x55281(0x7ed)][_0x55281(0x311)]+_0x55281(0x130)),_0x488142?(this[_0x55281(0x53d)][_0x55281(0x75e)](this[_0x55281(0x3b2)]+'\x20('+this[_0x55281(0x7ed)]['wuid']+_0x55281(0x4da)),{'isBusiness':!0x0,..._0x488142}):{'isBusiness':!0x1,'message':_0x55281(0x5b8),...(await this[_0x55281(0x679)]({'numbers':[_0x1b0dbb]}))?.[_0x55281(0x76d)]()};}catch(_0x1119e5){let _0x616358=_0x55281(0x344),_0x1b8340=_0x1119e5 instanceof Error?_0x1119e5['message']:typeof _0x1119e5==_0x55281(0x85e)?JSON[_0x55281(0x6b1)](_0x1119e5):_0x1119e5,_0x47e824=_0x616358+':\x20'+_0x1b8340;throw this['logger'][_0x55281(0x4e8)](this[_0x55281(0x3b2)]+'\x20('+this['instance'][_0x55281(0x311)]+'):\x20'+_0x47e824),new x(_0x47e824);}}async[a0_0x3d18fe(0x328)](_0x3e7421){const _0x341328=a0_0x3d18fe;let _0x5d894e=this[_0x341328(0x3ff)](_0x3e7421);try{return{'wuid':_0x5d894e,'status':(await this[_0x341328(0x880)][_0x341328(0x302)](_0x5d894e))[0x0]?.[_0x341328(0x1b2)]};}catch{return{'wuid':_0x5d894e,'status':null};}}async[a0_0x3d18fe(0x877)](_0x1691c4){const _0x5b22c6=a0_0x3d18fe;try{return await this[_0x5b22c6(0x880)][_0x5b22c6(0x877)](_0x1691c4),{'update':_0x5b22c6(0x824)};}catch(_0xb14415){let _0x511363=_0x5b22c6(0x46a),_0x42cc91=_0xb14415 instanceof Error?_0xb14415[_0x5b22c6(0x867)]:typeof _0xb14415==_0x5b22c6(0x85e)?JSON['stringify'](_0xb14415):_0xb14415,_0x120bc1=_0x511363+':\x20'+_0x42cc91;throw this['logger']['error'](this[_0x5b22c6(0x3b2)]+'\x20('+this[_0x5b22c6(0x7ed)][_0x5b22c6(0x311)]+_0x5b22c6(0x851)+_0x120bc1),new x(_0x120bc1);}}async[a0_0x3d18fe(0x7c7)](_0x18140e){const _0x47f4aa=a0_0x3d18fe;try{return await this[_0x47f4aa(0x880)]['updateProfileStatus'](_0x18140e),{'update':_0x47f4aa(0x824)};}catch(_0x4f526f){let _0x26cac4=_0x47f4aa(0x894),_0x113f1d=_0x4f526f instanceof Error?_0x4f526f['message']:typeof _0x4f526f=='object'?JSON[_0x47f4aa(0x6b1)](_0x4f526f):_0x4f526f,_0x5ead79=_0x26cac4+':\x20'+_0x113f1d;throw this[_0x47f4aa(0x53d)][_0x47f4aa(0x4e8)](this['instanceName']+'\x20('+this['instance'][_0x47f4aa(0x311)]+'):\x20'+_0x5ead79),new x(_0x5ead79);}}async['updateProfilePicture'](_0x2785e0){const _0x57a42e=a0_0x3d18fe;try{let _0x21f06c;if((0x0,J[_0x57a42e(0x879)])(_0x2785e0)){let _0x51f474=new Date()[_0x57a42e(0x899)](),_0xeb1578=_0x2785e0+_0x57a42e(0x703)+_0x51f474;_0x21f06c=(await Q[_0x57a42e(0x62f)][_0x57a42e(0x5d8)](_0xeb1578,{'responseType':_0x57a42e(0x3e2)}))['data'];}else{if((0x0,J[_0x57a42e(0x75d)])(_0x2785e0))_0x21f06c=Buffer[_0x57a42e(0x13c)](_0x2785e0,'base64');else throw new m(_0x57a42e(0x49f));}return await this[_0x57a42e(0x880)][_0x57a42e(0x2ec)](this['instance']['wuid'],_0x21f06c),{'update':_0x57a42e(0x824)};}catch(_0x364503){let _0x451a94=_0x57a42e(0x76e),_0x2931b9=_0x364503 instanceof Error?_0x364503[_0x57a42e(0x867)]:typeof _0x364503=='object'?JSON['stringify'](_0x364503):_0x364503,_0x544e98=_0x451a94+':\x20'+_0x2931b9;throw this[_0x57a42e(0x53d)]['error'](this[_0x57a42e(0x3b2)]+'\x20('+this[_0x57a42e(0x7ed)][_0x57a42e(0x311)]+_0x57a42e(0x851)+_0x544e98),new x(_0x544e98);}}async[a0_0x3d18fe(0x71c)](){const _0x2c61d1=a0_0x3d18fe;try{return await this['client'][_0x2c61d1(0x71c)](this[_0x2c61d1(0x7ed)][_0x2c61d1(0x311)]),{'update':_0x2c61d1(0x824)};}catch(_0xe001ce){let _0x456a7d='Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture',_0x511eee=_0xe001ce instanceof Error?_0xe001ce[_0x2c61d1(0x867)]:typeof _0xe001ce==_0x2c61d1(0x85e)?JSON['stringify'](_0xe001ce):_0xe001ce,_0xd1587b=_0x456a7d+':\x20'+_0x511eee;throw this['logger'][_0x2c61d1(0x4e8)](this['instanceName']+'\x20('+this[_0x2c61d1(0x7ed)][_0x2c61d1(0x311)]+_0x2c61d1(0x851)+_0xd1587b),new x(_0xd1587b);}}async[a0_0x3d18fe(0x4b8)](_0x407605){const _0x202d56=a0_0x3d18fe;try{let _0x4e13eb=(await this[_0x202d56(0x679)]({'numbers':_0x407605[_0x202d56(0x2b2)]}))[_0x202d56(0x836)](_0x1bf90c=>_0x1bf90c[_0x202d56(0x622)])['map'](_0x53b485=>_0x53b485[_0x202d56(0x857)]),{id:_0x4175b5}=await this[_0x202d56(0x880)][_0x202d56(0x124)](_0x407605[_0x202d56(0x8a1)],_0x4e13eb);_0x407605?.['description']&&await this[_0x202d56(0x880)][_0x202d56(0x49b)](_0x4175b5,_0x407605['description']);let _0x1e3250=await this['client'][_0x202d56(0x7fb)](_0x4175b5);return _0x1e3250[_0x202d56(0x13a)]=[],await this['updateChatGroupData'](_0x1e3250),{'metadata':_0x1e3250};}catch(_0x1ca753){let _0x160bfb=_0x202d56(0x768),_0x368b65=_0x1ca753 instanceof Error?_0x1ca753[_0x202d56(0x867)]:typeof _0x1ca753==_0x202d56(0x85e)?JSON[_0x202d56(0x6b1)](_0x1ca753):_0x1ca753,_0x436fb6=_0x160bfb+':\x20'+_0x368b65;throw this[_0x202d56(0x53d)][_0x202d56(0x4e8)](this['instanceName']+'\x20('+this[_0x202d56(0x7ed)][_0x202d56(0x311)]+_0x202d56(0x851)+_0x436fb6),new x(_0x436fb6);}}async['groupBetterSetting'](_0x2d002d){const _0x5a3c8d=a0_0x3d18fe;try{if(_0x2d002d[_0x5a3c8d(0x632)]===!0x0&&await this[_0x5a3c8d(0x880)]['groupSettingUpdate'](_0x2d002d[_0x5a3c8d(0x7f8)],_0x5a3c8d(0x1b3)),_0x2d002d[_0x5a3c8d(0x632)]===!0x1&&await this['client'][_0x5a3c8d(0x5f4)](_0x2d002d[_0x5a3c8d(0x7f8)],_0x5a3c8d(0x160)),_0x2d002d['announce']===!0x0&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x5f4)](_0x2d002d[_0x5a3c8d(0x7f8)],_0x5a3c8d(0x150)),_0x2d002d['announce']===!0x1&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x5f4)](_0x2d002d['groupJid'],_0x5a3c8d(0x346)),_0x2d002d[_0x5a3c8d(0x5fc)]===!0x0&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x66d)](_0x2d002d[_0x5a3c8d(0x7f8)],_0x5a3c8d(0x4f5)),_0x2d002d[_0x5a3c8d(0x5fc)]===!0x1&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x66d)](_0x2d002d[_0x5a3c8d(0x7f8)],_0x5a3c8d(0x80d)),_0x2d002d[_0x5a3c8d(0x6ea)]===!0x0&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x86f)](_0x2d002d[_0x5a3c8d(0x7f8)],'on'),_0x2d002d[_0x5a3c8d(0x6ea)]===!0x1&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x86f)](_0x2d002d[_0x5a3c8d(0x7f8)],'off'),typeof _0x2d002d[_0x5a3c8d(0x769)]<'u'&&_0x2d002d[_0x5a3c8d(0x769)]!==null&&await this[_0x5a3c8d(0x880)]['groupToggleEphemeral'](_0x2d002d[_0x5a3c8d(0x7f8)],_0x2d002d['expiration']),_0x2d002d[_0x5a3c8d(0x2f6)]&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x520)](_0x2d002d[_0x5a3c8d(0x7f8)],_0x2d002d[_0x5a3c8d(0x2f6)]),_0x2d002d[_0x5a3c8d(0x5eb)]&&await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x49b)](_0x2d002d['groupJid'],_0x2d002d[_0x5a3c8d(0x5eb)]),_0x2d002d['image']){let _0xdb7734;if((0x0,J[_0x5a3c8d(0x879)])(_0x2d002d[_0x5a3c8d(0x333)])){let _0x47a592=new Date()[_0x5a3c8d(0x899)](),_0x5ec320=_0x2d002d[_0x5a3c8d(0x333)]+_0x5a3c8d(0x703)+_0x47a592;_0xdb7734=(await Q[_0x5a3c8d(0x62f)]['get'](_0x5ec320,{'responseType':_0x5a3c8d(0x3e2)}))[_0x5a3c8d(0x2ff)];}else{if((0x0,J[_0x5a3c8d(0x75d)])(_0x2d002d[_0x5a3c8d(0x333)]))_0xdb7734=Buffer[_0x5a3c8d(0x13c)](_0x2d002d[_0x5a3c8d(0x333)],_0x5a3c8d(0x210));else throw new m(_0x5a3c8d(0x49f));}await this[_0x5a3c8d(0x880)][_0x5a3c8d(0x2ec)](_0x2d002d[_0x5a3c8d(0x7f8)],_0xdb7734);}return await this[_0x5a3c8d(0x749)]({'groupJid':_0x2d002d['groupJid']});}catch(_0x4502c7){let _0x10e786='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting',_0x443b0a=_0x4502c7 instanceof Error?_0x4502c7['message']:typeof _0x4502c7==_0x5a3c8d(0x85e)?JSON['stringify'](_0x4502c7):_0x4502c7,_0x5903c1=_0x10e786+':\x20'+_0x443b0a;throw this[_0x5a3c8d(0x53d)][_0x5a3c8d(0x4e8)](this[_0x5a3c8d(0x3b2)]+'\x20('+this[_0x5a3c8d(0x7ed)]['wuid']+_0x5a3c8d(0x851)+_0x5903c1),new x(_0x5903c1);}}async[a0_0x3d18fe(0x1c2)](_0x22ccd5){const _0x265111=a0_0x3d18fe;try{let _0x109be6=_0x22ccd5[_0x265111(0x2b2)]['map'](_0x4df4b=>this[_0x265111(0x3ff)](_0x4df4b));if(_0x22ccd5[_0x265111(0x136)]===_0x265111(0x189)||_0x22ccd5[_0x265111(0x136)]===_0x265111(0x695))await this[_0x265111(0x880)][_0x265111(0x84b)](_0x22ccd5['groupJid'],_0x109be6,_0x22ccd5['action']);else{if(_0x22ccd5[_0x265111(0x136)]==='add'){let _0x2ce276=(await this[_0x265111(0x679)]({'numbers':_0x22ccd5[_0x265111(0x2b2)]}))['filter'](_0x4f190d=>_0x4f190d[_0x265111(0x622)])[_0x265111(0x82a)](_0x1dbd0d=>this[_0x265111(0x3ff)](_0x1dbd0d[_0x265111(0x857)]));if(_0x2ce276[_0x265111(0x802)]===0x0)throw new m('Nenhum\x20participante\x20vlido\x20encontrado.');await this[_0x265111(0x880)][_0x265111(0x236)](_0x22ccd5[_0x265111(0x7f8)],_0x2ce276,_0x265111(0x4b0));}else await this[_0x265111(0x880)][_0x265111(0x236)](_0x22ccd5[_0x265111(0x7f8)],_0x109be6,_0x22ccd5['action']);}return await this[_0x265111(0x749)]({'groupJid':_0x22ccd5[_0x265111(0x7f8)]});}catch(_0x3d8aec){let _0x11b277=_0x265111(0x338),_0x49c28e=_0x3d8aec instanceof Error?_0x3d8aec[_0x265111(0x867)]:typeof _0x3d8aec==_0x265111(0x85e)?JSON['stringify'](_0x3d8aec):_0x3d8aec,_0x5c5817=_0x11b277+':\x20'+_0x49c28e;throw this[_0x265111(0x53d)]['error'](this[_0x265111(0x3b2)]+'\x20('+this['instance'][_0x265111(0x311)]+_0x265111(0x851)+_0x5c5817),new m(_0x5c5817);}}async[a0_0x3d18fe(0x61a)](_0x42a839){const _0x5ba30c=a0_0x3d18fe;try{return await this[_0x5ba30c(0x880)][_0x5ba30c(0x61a)](_0x42a839[_0x5ba30c(0x620)]);}catch(_0x47c096){let _0x5d751c=_0x5ba30c(0x5ac),_0x32ffdc=_0x47c096 instanceof Error?_0x47c096[_0x5ba30c(0x867)]:typeof _0x47c096==_0x5ba30c(0x85e)?JSON[_0x5ba30c(0x6b1)](_0x47c096):_0x47c096,_0x1d84c1=_0x5d751c+':\x20'+_0x32ffdc;throw this[_0x5ba30c(0x53d)]['error'](this[_0x5ba30c(0x3b2)]+'\x20('+this[_0x5ba30c(0x7ed)][_0x5ba30c(0x311)]+_0x5ba30c(0x851)+_0x1d84c1),new m(_0x1d84c1);}}async['findGroup'](_0x28b749,_0x3d97e2=a0_0x3d18fe(0x888)){const _0x77fd3e=a0_0x3d18fe;try{let _0xe598a5=await this[_0x77fd3e(0x827)][_0x77fd3e(0x1cd)][_0x77fd3e(0x648)]({'where':{'_id':_0x28b749[_0x77fd3e(0x7f8)]}},this[_0x77fd3e(0x7ed)][_0x77fd3e(0x311)]),_0x1abab6=_0xe598a5?_0xe598a5[_0x77fd3e(0x2e7)]:null,_0x56b524=0x18*0x3c*0x3c*0x3e8;if(!_0x1abab6||_0x1abab6[_0x77fd3e(0x123)]&&Date['now']()-_0x1abab6[_0x77fd3e(0x123)]>_0x56b524){let _0x273bd1=await this[_0x77fd3e(0x880)][_0x77fd3e(0x7fb)](_0x28b749[_0x77fd3e(0x7f8)]);if(_0x273bd1[_0x77fd3e(0x6cf)]=_0x273bd1?.['subjectTime']&&_0x273bd1[_0x77fd3e(0x6cf)]['toString']()[_0x77fd3e(0x802)]<0xd?_0x273bd1?.[_0x77fd3e(0x6cf)]*0x3e8:_0x273bd1?.['subjectTime']||null,_0x273bd1['creation']=_0x273bd1?.['creation']&&_0x273bd1[_0x77fd3e(0x7c2)]['toString']()[_0x77fd3e(0x802)]<0xd?_0x273bd1?.[_0x77fd3e(0x7c2)]*0x3e8:_0x273bd1?.[_0x77fd3e(0x7c2)]||null,_0x1abab6={..._0x273bd1,'lastUpdate':Date['now']()},!_0x273bd1)return;}let _0x2f95d1=_0x1abab6[_0x77fd3e(0x2b2)]?.['some'](_0x17caf4=>_0x17caf4['id']===this[_0x77fd3e(0x7ed)][_0x77fd3e(0x311)]+'@s.whatsapp.net'&&_0x17caf4[_0x77fd3e(0x5ea)]!=null)||!0x1;!_0x1abab6[_0x77fd3e(0x620)]&&_0x2f95d1&&(_0x1abab6[_0x77fd3e(0x620)]=(await this[_0x77fd3e(0x620)](_0x28b749,!0x1))[_0x77fd3e(0x321)]);let _0x4d0fff=(!_0x1abab6['announce']||_0x2f95d1)&&(!_0x1abab6[_0x77fd3e(0x4ad)]||_0x1abab6[_0x77fd3e(0x4ad)]&&_0x1abab6[_0x77fd3e(0x843)]&&_0x2f95d1);_0x1abab6[_0x77fd3e(0x44f)]=_0x2f95d1,_0x1abab6[_0x77fd3e(0x213)]=_0x4d0fff;let _0x1b2965=[];if(_0x2f95d1&&_0x1abab6[_0x77fd3e(0x6ea)])try{_0x1b2965=await this[_0x77fd3e(0x880)][_0x77fd3e(0x606)](_0x28b749['groupJid']),_0x1abab6[_0x77fd3e(0x30e)]=Date[_0x77fd3e(0x7f3)]();}catch(_0x583e14){this[_0x77fd3e(0x53d)]['verbose'](this[_0x77fd3e(0x3b2)]+'\x20('+this[_0x77fd3e(0x7ed)][_0x77fd3e(0x311)]+_0x77fd3e(0x273)+_0x28b749[_0x77fd3e(0x7f8)]+':\x20'+(_0x583e14 instanceof Error?_0x583e14[_0x77fd3e(0x867)]:JSON[_0x77fd3e(0x6b1)](_0x583e14,null,0x2)));}try{_0x1abab6[_0x77fd3e(0x333)]=(await this[_0x77fd3e(0x1f9)](_0x28b749[_0x77fd3e(0x7f8)],null,!0x0))[_0x77fd3e(0x5bb)]['pictureUrl'];}catch(_0xc4e73d){this[_0x77fd3e(0x53d)][_0x77fd3e(0x75e)](this['instanceName']+'\x20('+this[_0x77fd3e(0x7ed)][_0x77fd3e(0x311)]+_0x77fd3e(0x272)+_0x28b749[_0x77fd3e(0x7f8)]+':\x20'+(_0xc4e73d instanceof Error?_0xc4e73d['message']:JSON[_0x77fd3e(0x6b1)](_0xc4e73d,null,0x2)));}let _0x57b210=_0x1abab6[_0x77fd3e(0x2b2)][_0x77fd3e(0x82a)](_0xba4c66=>_0xba4c66['id']),_0x594447=_0x1b2965[_0x77fd3e(0x82a)](_0x42ead2=>_0x42ead2[_0x77fd3e(0x857)]),_0x2ab02c=await this['repository'][_0x77fd3e(0x747)]['findManyByIds']([..._0x57b210,..._0x594447]);_0x1abab6[_0x77fd3e(0x2b2)]=_0x1abab6[_0x77fd3e(0x2b2)][_0x77fd3e(0x82a)](_0x1340db=>{const _0xab5d70=_0x77fd3e;let _0x17eaaa=_0x2ab02c[_0xab5d70(0x80c)](_0x5edf09=>_0x5edf09['_id']===_0x1340db['id']);return{'id':_0x1340db['id'],'isAdmin':[_0xab5d70(0x5ea),'superadmin'][_0xab5d70(0x3f1)](_0x1340db[_0xab5d70(0x5ea)]),'admin':_0x1340db[_0xab5d70(0x5ea)],'pushName':_0x17eaaa?.['name'],'profilePictureUrl':_0x17eaaa?.[_0xab5d70(0x450)]};}),_0x1abab6[_0x77fd3e(0x13a)]=_0x1b2965[_0x77fd3e(0x82a)](_0x2f134b=>{const _0x2f09ea=_0x77fd3e;let _0x3958d8=_0x2ab02c[_0x2f09ea(0x80c)](_0x4b197f=>_0x4b197f[_0x2f09ea(0x2a2)]===_0x2f134b[_0x2f09ea(0x857)]);return{'id':_0x2f134b['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3958d8?.[_0x2f09ea(0x2f6)],'profilePictureUrl':_0x3958d8?.['pictureUrl'],'request_method':_0x2f134b[_0x2f09ea(0x41c)],'request_time':_0x2f134b[_0x2f09ea(0x4cd)]};});let _0xc71302=await this[_0x77fd3e(0x827)]['chat'][_0x77fd3e(0x442)]({'where':{'_id':_0x28b749[_0x77fd3e(0x7f8)]}},{'imagechat':_0x1abab6[_0x77fd3e(0x333)],'name':_0x1abab6[_0x77fd3e(0x8a1)],'lastcache':Date['now'](),'groupdata':_0x1abab6},this[_0x77fd3e(0x7ed)][_0x77fd3e(0x311)]);return F(this[_0x77fd3e(0x3b2)],_0x77fd3e(0x765),{'chat':_0xc71302}),{'metadata':_0x1abab6};}catch(_0xc988c4){if(_0x3d97e2===_0x77fd3e(0x2cd))return;throw new U(_0x77fd3e(0x2db),_0xc988c4[_0x77fd3e(0x867)][_0x77fd3e(0x444)]());}}async['findGroups'](){const _0x389eec=a0_0x3d18fe;try{this['logger'][_0x389eec(0x4f2)](_0x389eec(0x53f));let _0x55f792=Date[_0x389eec(0x7f3)](),_0x53dd63=0x3*0x3c*0x3c*0x3e8;return _0x55f792-this[_0x389eec(0x482)]>_0x53dd63&&(this[_0x389eec(0x504)](),this[_0x389eec(0x482)]=_0x55f792),(await this[_0x389eec(0x827)]['chat'][_0x389eec(0x373)]({'where':{'group':!0x0}},this[_0x389eec(0x7ed)][_0x389eec(0x311)]))['map'](_0x57f52d=>({..._0x57f52d[_0x389eec(0x2e7)],'groupJid':_0x57f52d?.[_0x389eec(0x2a2)],'participants':_0x57f52d?.[_0x389eec(0x2e7)]?.['participants']||[],'awaitingApproval':_0x57f52d?.[_0x389eec(0x2e7)]?.['awaitingApproval']||[],'image':_0x57f52d?.[_0x389eec(0x6d5)]}));}catch(_0x20954d){let _0x1fc6b6=_0x389eec(0x6b9),_0x587b1f=_0x20954d instanceof Error?_0x20954d[_0x389eec(0x867)]:typeof _0x20954d==_0x389eec(0x85e)?JSON[_0x389eec(0x6b1)](_0x20954d):_0x20954d,_0xd1364b=_0x1fc6b6+':\x20'+_0x587b1f;throw this[_0x389eec(0x53d)][_0x389eec(0x4e8)](this[_0x389eec(0x3b2)]+'\x20('+this[_0x389eec(0x7ed)][_0x389eec(0x311)]+_0x389eec(0x851)+_0xd1364b),new U(_0xd1364b);}}async['findRealGroups'](){const _0x1a0cac=a0_0x3d18fe;try{this[_0x1a0cac(0x53d)]['info'](_0x1a0cac(0x710));let _0x2b06b1=[],_0x1bccec=await this[_0x1a0cac(0x880)][_0x1a0cac(0x1f6)](),_0x2362ed=Object[_0x1a0cac(0x1ed)](_0x1bccec),_0x211167=_0x2362ed[_0x1a0cac(0x836)](_0x46bff=>(0x0,w['isJidGroup'])(_0x46bff?.['id']))[_0x1a0cac(0x82a)](async _0x4b6af9=>{const _0x246405=_0x1a0cac;try{return await this['client'][_0x246405(0x69f)](_0x4b6af9['id'],'preview');}catch(_0x340a54){return this[_0x246405(0x53d)][_0x246405(0x75e)](this[_0x246405(0x3b2)]+'\x20('+this['instance']['wuid']+_0x246405(0x272)+_0x4b6af9['id']+':\x20'+(_0x340a54 instanceof Error?_0x340a54[_0x246405(0x867)]:JSON[_0x246405(0x6b1)](_0x340a54,null,0x2))),null;}}),_0x1db771=await Promise[_0x1a0cac(0x6e6)](_0x211167);for(let _0x30a0dc=0x0;_0x30a0dc<_0x2362ed[_0x1a0cac(0x802)];_0x30a0dc++){let _0x4b7807=_0x2362ed[_0x30a0dc];(0x0,w[_0x1a0cac(0x608)])(_0x4b7807?.['id'])&&(_0x2b06b1['push']({'groupJid':_0x4b7807?.['id'],'subject':_0x4b7807?.[_0x1a0cac(0x8a1)],'subjectOwner':_0x4b7807?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x4b7807?.['subjectTime'],'creation':_0x4b7807?.['creation'],'size':_0x4b7807?.[_0x1a0cac(0x2b2)]?.[_0x1a0cac(0x802)],'owner':_0x4b7807?.[_0x1a0cac(0x856)]?.[_0x1a0cac(0x74f)]('@')[0x0],'desc':_0x4b7807?.['desc'],'restrict':_0x4b7807?.['restrict'],'announce':_0x4b7807?.[_0x1a0cac(0x3a1)],'image':_0x1db771[_0x30a0dc],'isCommunity':_0x4b7807?.[_0x1a0cac(0x4ad)],'joinApprovalMode':_0x4b7807?.[_0x1a0cac(0x6ea)],'memberCanAddParticipant':_0x4b7807?.['memberAddMode'],'participants':_0x4b7807?.[_0x1a0cac(0x2b2)],'descOwner':_0x4b7807?.['descOwner'],'descId':_0x4b7807?.['descId'],'memberAddMode':_0x4b7807?.['memberAddMode'],'isCommunityAnnounce':_0x4b7807?.[_0x1a0cac(0x843)],'ephemeralDuration':_0x4b7807?.[_0x1a0cac(0x1fe)]||0x0,'author':_0x4b7807?.[_0x1a0cac(0x677)]}),this['updateChatGroupData'](_0x2362ed[_0x30a0dc]));}return _0x2b06b1;}catch(_0x59a39f){let _0xf18ec1='Falha\x20ao\x20processar\x20a\x20solicitao\x20findRealGroups',_0x49584b=_0x59a39f instanceof Error?_0x59a39f[_0x1a0cac(0x867)]:typeof _0x59a39f==_0x1a0cac(0x85e)?JSON['stringify'](_0x59a39f):_0x59a39f,_0x3457aa=_0xf18ec1+':\x20'+_0x49584b;throw this[_0x1a0cac(0x53d)][_0x1a0cac(0x4e8)](this[_0x1a0cac(0x3b2)]+'\x20('+this['instance'][_0x1a0cac(0x311)]+_0x1a0cac(0x851)+_0x3457aa),new U(_0x3457aa);}}async['updateChatGroupData'](_0x143517){const _0xe9207f=a0_0x3d18fe;let _0x2b3d70=await this['repository'][_0xe9207f(0x1cd)][_0xe9207f(0x648)]({'where':{'_id':_0x143517['id']}},this[_0xe9207f(0x7ed)]['wuid']);_0x143517['subjectTime']=_0x143517?.[_0xe9207f(0x6cf)]&&_0x143517[_0xe9207f(0x6cf)][_0xe9207f(0x444)]()[_0xe9207f(0x802)]<0xd?_0x143517?.[_0xe9207f(0x6cf)]*0x3e8:_0x143517?.['subjectTime']||null,_0x143517[_0xe9207f(0x7c2)]=_0x143517?.['creation']&&_0x143517[_0xe9207f(0x7c2)][_0xe9207f(0x444)]()[_0xe9207f(0x802)]<0xd?_0x143517?.[_0xe9207f(0x7c2)]*0x3e8:_0x143517?.['creation']||null;let _0x4a0c60=_0x2b3d70?.[_0xe9207f(0x2e7)]?.['awaitingApproval']||[],_0x21fc5b=_0x2b3d70?.[_0xe9207f(0x2e7)]?.[_0xe9207f(0x30e)],_0x54a4ab=_0x143517[_0xe9207f(0x2b2)][_0xe9207f(0x82a)](_0x2ce5e2=>{const _0x1aa3a2=_0xe9207f;let _0x4ed952=_0x2b3d70?.[_0x1aa3a2(0x2e7)]?.['participants']['find'](_0x58234e=>_0x58234e['id']===_0x2ce5e2['id']);return{..._0x2ce5e2,'isAdmin':[_0x1aa3a2(0x5ea),_0x1aa3a2(0x7bd)]['includes'](_0x2ce5e2[_0x1aa3a2(0x5ea)]),'admin':_0x2ce5e2['admin'],'name':_0x4ed952?.[_0x1aa3a2(0x2f6)]||_0x2ce5e2['name'],'imgUrl':_0x4ed952?.[_0x1aa3a2(0x232)]||_0x2ce5e2['imgUrl']};}),_0x2db278=_0x54a4ab[_0xe9207f(0x838)](_0x59f2f8=>_0x59f2f8['id']===this[_0xe9207f(0x7ed)][_0xe9207f(0x311)]+_0xe9207f(0x826)&&_0x59f2f8[_0xe9207f(0x5ea)]!=null)||!0x1,_0x22fbfc=(!_0x143517[_0xe9207f(0x3a1)]||_0x2db278)&&(!_0x143517['isCommunity']||_0x143517[_0xe9207f(0x4ad)]&&_0x143517['isCommunityAnnounce']&&_0x2db278),_0x17e40c={..._0x143517,'participants':_0x54a4ab,'awaitingApproval':_0x4a0c60,'lastFetchAwaitingApproval':_0x21fc5b,'isAdmin':_0x2db278,'canSendMessage':_0x22fbfc,'lastUpdate':Date[_0xe9207f(0x7f3)]()};await this[_0xe9207f(0x827)][_0xe9207f(0x1cd)][_0xe9207f(0x442)]({'where':{'_id':_0x143517['id']}},{'name':_0x143517[_0xe9207f(0x8a1)],'group':!0x0,'groupdata':_0x17e40c,'lastcache':Date[_0xe9207f(0x7f3)]()},this[_0xe9207f(0x7ed)][_0xe9207f(0x311)]),F(this[_0xe9207f(0x3b2)],_0xe9207f(0x765),{'chat':_0x143517});}async[a0_0x3d18fe(0x668)](_0x5046eb){const _0x2e7c7d=a0_0x3d18fe;let _0x306aa2=await this['repository'][_0x2e7c7d(0x1cd)][_0x2e7c7d(0x648)]({'where':{'_id':_0x5046eb['id']}},this[_0x2e7c7d(0x7ed)][_0x2e7c7d(0x311)]);_0x5046eb[_0x2e7c7d(0x6cf)]=_0x5046eb?.[_0x2e7c7d(0x6cf)]&&_0x5046eb[_0x2e7c7d(0x6cf)][_0x2e7c7d(0x444)]()[_0x2e7c7d(0x802)]<0xd?_0x5046eb?.[_0x2e7c7d(0x6cf)]*0x3e8:_0x5046eb?.[_0x2e7c7d(0x6cf)]||null,_0x5046eb[_0x2e7c7d(0x7c2)]=_0x5046eb?.['creation']&&_0x5046eb[_0x2e7c7d(0x7c2)]['toString']()['length']<0xd?_0x5046eb?.[_0x2e7c7d(0x7c2)]*0x3e8:_0x5046eb?.[_0x2e7c7d(0x7c2)]||null,_0x5046eb['inviteCode']&&(_0x5046eb[_0x2e7c7d(0x620)]=_0x2e7c7d(0x837)+_0x5046eb['inviteCode']);let _0xc87b34=_0x306aa2?.[_0x2e7c7d(0x2e7)]?{..._0x306aa2[_0x2e7c7d(0x2e7)]}:{};Object[_0x2e7c7d(0x551)](_0x5046eb)['forEach'](_0x195e8b=>{_0x195e8b!=='id'&&(_0xc87b34[_0x195e8b]=_0x5046eb[_0x195e8b]);});let _0x48c057=_0xc87b34[_0x2e7c7d(0x2b2)]?.[_0x2e7c7d(0x838)](_0xafdca8=>_0xafdca8['id']===this[_0x2e7c7d(0x7ed)][_0x2e7c7d(0x311)]+_0x2e7c7d(0x826)&&_0xafdca8[_0x2e7c7d(0x5ea)]!=null)||!0x1;_0xc87b34[_0x2e7c7d(0x44f)]=_0x48c057;let _0x58ce29=(!_0xc87b34[_0x2e7c7d(0x3a1)]||_0x48c057)&&(!_0xc87b34[_0x2e7c7d(0x4ad)]||_0xc87b34['isCommunity']&&_0xc87b34[_0x2e7c7d(0x843)]&&_0x48c057);_0xc87b34[_0x2e7c7d(0x213)]=_0x58ce29;let _0x13f180={'group':!0x0,'groupdata':_0xc87b34};_0x5046eb['subject']&&(_0x13f180[_0x2e7c7d(0x2f6)]=_0x5046eb[_0x2e7c7d(0x8a1)]),await this['repository'][_0x2e7c7d(0x1cd)][_0x2e7c7d(0x442)]({'where':{'_id':_0x5046eb['id']}},_0x13f180,this[_0x2e7c7d(0x7ed)][_0x2e7c7d(0x311)],{'upsert':!0x0}),F(this[_0x2e7c7d(0x3b2)],_0x2e7c7d(0x765),{'chat':_0x13f180});}async[a0_0x3d18fe(0x2f1)](_0x465dd0){const _0x480b2e=a0_0x3d18fe;let _0xf0faf2=await this[_0x480b2e(0x827)][_0x480b2e(0x1cd)]['findOne']({'where':{'_id':_0x465dd0['id']}},this[_0x480b2e(0x7ed)]['wuid']);if(!_0xf0faf2||!_0xf0faf2[_0x480b2e(0x2e7)]){this[_0x480b2e(0x53d)]['info'](this[_0x480b2e(0x3b2)]+'\x20('+this[_0x480b2e(0x7ed)][_0x480b2e(0x311)]+_0x480b2e(0x67d)+_0x465dd0['id']);return;}let _0x1f4de3=await this[_0x480b2e(0x827)]['cacheContact'][_0x480b2e(0x2d2)](_0x465dd0[_0x480b2e(0x2b2)]),_0x17df04=[..._0xf0faf2['groupdata']?.[_0x480b2e(0x2b2)]];switch(_0x465dd0['action']){case _0x480b2e(0x4b0):_0x1f4de3[_0x480b2e(0x82a)](_0x51bdef=>({'id':_0x51bdef[_0x480b2e(0x2a2)],'isAdmin':!0x1,'name':_0x51bdef[_0x480b2e(0x2f6)],'imgUrl':_0x51bdef[_0x480b2e(0x450)]}))[_0x480b2e(0x358)](_0x1126e0=>{const _0xeb5c8e=_0x480b2e;_0x17df04[_0xeb5c8e(0x838)](_0x41fb71=>_0x41fb71['id']===_0x1126e0['id'])||(_0x17df04['push'](_0x1126e0),this[_0xeb5c8e(0x53d)][_0xeb5c8e(0x4f2)]('Adicionando\x20novo\x20participante:\x20'+JSON['stringify'](_0x1126e0)));});break;case _0x480b2e(0x64c):_0x17df04=_0x17df04['filter'](_0x2b4a78=>!_0x465dd0['participants'][_0x480b2e(0x3f1)](_0x2b4a78['id']));break;case _0x480b2e(0x823):_0x17df04=_0x17df04[_0x480b2e(0x82a)](_0x36d381=>_0x465dd0[_0x480b2e(0x2b2)][_0x480b2e(0x3f1)](_0x36d381['id'])?{..._0x36d381,'isAdmin':!0x0,'admin':'admin'}:_0x36d381);break;case _0x480b2e(0x82d):_0x17df04=_0x17df04[_0x480b2e(0x82a)](_0x281364=>_0x465dd0[_0x480b2e(0x2b2)]['includes'](_0x281364['id'])?{..._0x281364,'isAdmin':!0x1,'admin':null}:_0x281364);break;}let _0x2127e4=_0x17df04[_0x480b2e(0x802)],_0xc5a71c=_0x17df04[_0x480b2e(0x838)](_0x4a64de=>_0x4a64de['id']===this[_0x480b2e(0x7ed)][_0x480b2e(0x311)]+_0x480b2e(0x826)),_0x579daa=_0xc5a71c&&_0x17df04['some'](_0xf53829=>_0xf53829['id']===this['instance'][_0x480b2e(0x311)]+_0x480b2e(0x826)&&_0xf53829['admin']!=null)||!0x1,_0x52f534=_0xc5a71c&&(!_0xf0faf2[_0x480b2e(0x2e7)][_0x480b2e(0x3a1)]||_0x579daa)&&(!_0xf0faf2['groupdata'][_0x480b2e(0x4ad)]||_0xf0faf2[_0x480b2e(0x2e7)][_0x480b2e(0x4ad)]&&_0x579daa);await this[_0x480b2e(0x827)][_0x480b2e(0x1cd)][_0x480b2e(0x442)]({'where':{'_id':_0x465dd0['id']}},{'groupdata':{..._0xf0faf2[_0x480b2e(0x2e7)],'participants':_0x17df04,'size':_0x2127e4,'isAdmin':_0x579daa,'canSendMessage':_0x52f534}},this[_0x480b2e(0x7ed)][_0x480b2e(0x311)]),this[_0x480b2e(0x53d)][_0x480b2e(0x4f2)](this[_0x480b2e(0x3b2)]+'\x20('+this[_0x480b2e(0x7ed)][_0x480b2e(0x311)]+'):\x20Grupo\x20'+_0x465dd0['id']+'\x20atualizado\x20com\x20sucesso.\x20Ao:\x20'+_0x465dd0['action']+_0x480b2e(0x463)+_0x2127e4+_0x480b2e(0x41a)+_0x579daa+_0x480b2e(0x415)+_0x52f534);}async[a0_0x3d18fe(0x620)](_0x5700c5,_0x12928c=!0x0){const _0x5ac31c=a0_0x3d18fe;try{let _0x2e299f=await this[_0x5ac31c(0x880)][_0x5ac31c(0x7a9)](_0x5700c5['groupJid']),_0x4ff579={'groupdata.inviteCode':_0x5ac31c(0x837)+_0x2e299f};if(_0x12928c){let _0x5d0372=await this[_0x5ac31c(0x827)][_0x5ac31c(0x1cd)][_0x5ac31c(0x442)]({'where':{'_id':_0x5700c5[_0x5ac31c(0x7f8)]}},_0x4ff579,this[_0x5ac31c(0x7ed)][_0x5ac31c(0x311)]);}return{'inviteUrl':_0x5ac31c(0x837)+_0x2e299f,'inviteCode':_0x2e299f};}catch(_0x169f7c){let _0x12e312=_0x5ac31c(0x89d),_0x489f14=_0x169f7c instanceof Error?_0x169f7c[_0x5ac31c(0x867)]:typeof _0x169f7c=='object'?JSON[_0x5ac31c(0x6b1)](_0x169f7c):_0x169f7c,_0x2448ec=_0x12e312+':\x20'+_0x489f14;throw this[_0x5ac31c(0x53d)][_0x5ac31c(0x4e8)](this[_0x5ac31c(0x3b2)]+'\x20('+this[_0x5ac31c(0x7ed)][_0x5ac31c(0x311)]+'):\x20'+_0x2448ec),new U(_0x2448ec);}}async[a0_0x3d18fe(0x764)](_0x4adc6f){const _0x22b568=a0_0x3d18fe;try{let _0x2302bb=await this[_0x22b568(0x880)][_0x22b568(0x3ef)](_0x4adc6f[_0x22b568(0x7f8)]);return{'revoked':!0x0,'inviteUrl':_0x22b568(0x837)+_0x2302bb,'inviteCode':_0x2302bb};}catch(_0x210b2c){let _0x4f64d0=_0x22b568(0x81f),_0x3c9d7e=_0x210b2c instanceof Error?_0x210b2c['message']:typeof _0x210b2c==_0x22b568(0x85e)?JSON[_0x22b568(0x6b1)](_0x210b2c):_0x210b2c,_0x660270=_0x4f64d0+':\x20'+_0x3c9d7e;throw this['logger'][_0x22b568(0x4e8)](this[_0x22b568(0x3b2)]+'\x20('+this[_0x22b568(0x7ed)][_0x22b568(0x311)]+_0x22b568(0x851)+_0x660270),new U(_0x660270);}}async['joinGroup'](_0x1657c2){const _0x1cf293=a0_0x3d18fe;try{if((0x0,J[_0x1cf293(0x879)])(_0x1657c2['inviteCode']))var _0x53ce63=_0x1657c2[_0x1cf293(0x620)][_0x1cf293(0x74f)]('/')[0x3];else var _0x53ce63=_0x1657c2[_0x1cf293(0x620)];let _0x1837e1=await this[_0x1cf293(0x880)][_0x1cf293(0x770)](_0x53ce63);return this[_0x1cf293(0x53d)][_0x1cf293(0x75e)](this[_0x1cf293(0x3b2)]+'\x20('+this[_0x1cf293(0x7ed)][_0x1cf293(0x311)]+_0x1cf293(0x851)+_0x1837e1),{'join':!0x0,'inviteCode':_0x53ce63,'groupJid':_0x1837e1};}catch(_0xb727ed){let _0xf528a1='Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x197299=_0xb727ed instanceof Error?_0xb727ed[_0x1cf293(0x867)]:typeof _0xb727ed==_0x1cf293(0x85e)?JSON['stringify'](_0xb727ed):_0xb727ed,_0xeb288b=_0xf528a1+':\x20'+_0x197299;throw this[_0x1cf293(0x53d)][_0x1cf293(0x4e8)](this['instanceName']+'\x20('+this[_0x1cf293(0x7ed)][_0x1cf293(0x311)]+_0x1cf293(0x851)+_0xeb288b),new U(_0xeb288b);}}async[a0_0x3d18fe(0x5fd)](_0x5d2eb4){const _0x18a4bd=a0_0x3d18fe;try{return{'participants':(await this[_0x18a4bd(0x827)][_0x18a4bd(0x1cd)][_0x18a4bd(0x648)]({'where':{'_id':_0x5d2eb4[_0x18a4bd(0x7f8)]}},this['instance'][_0x18a4bd(0x311)]))[_0x18a4bd(0x2e7)][_0x18a4bd(0x2b2)]};}catch(_0x1fe52a){let _0x5cf9f8=_0x18a4bd(0x5e2),_0x10a9a5=_0x1fe52a instanceof Error?_0x1fe52a[_0x18a4bd(0x867)]:typeof _0x1fe52a==_0x18a4bd(0x85e)?JSON[_0x18a4bd(0x6b1)](_0x1fe52a):_0x1fe52a,_0x3be984=_0x5cf9f8+':\x20'+_0x10a9a5;throw this['logger']['error'](this[_0x18a4bd(0x3b2)]+'\x20('+this['instance'][_0x18a4bd(0x311)]+'):\x20'+_0x3be984),new U(_0x3be984);}}async['leaveGroup'](_0x703611){const _0x54956c=a0_0x3d18fe;try{return await this[_0x54956c(0x880)][_0x54956c(0x12b)](_0x703611[_0x54956c(0x7f8)]),{'groupJid':_0x703611[_0x54956c(0x7f8)],'leave':!0x0};}catch(_0x45aa6e){let _0x8cebb6=_0x54956c(0x4d3),_0x2e7753=_0x45aa6e instanceof Error?_0x45aa6e[_0x54956c(0x867)]:typeof _0x45aa6e==_0x54956c(0x85e)?JSON[_0x54956c(0x6b1)](_0x45aa6e):_0x45aa6e,_0x335274=_0x8cebb6+':\x20'+_0x2e7753;throw this[_0x54956c(0x53d)][_0x54956c(0x4e8)](this[_0x54956c(0x3b2)]+'\x20('+this[_0x54956c(0x7ed)][_0x54956c(0x311)]+_0x54956c(0x851)+_0x335274),new m(_0x335274);}}async['pollMessage'](_0x57670a){const _0x24b51a=a0_0x3d18fe;return await this['sendMessageWithTyping'](_0x57670a[_0x24b51a(0x28f)],{'poll':{'name':_0x57670a['pollMessage']?.[_0x24b51a(0x2f6)],'selectableCount':_0x57670a[_0x24b51a(0x57d)][_0x24b51a(0x5c7)],'values':_0x57670a['pollMessage']['values']}},_0x57670a?.['options']);}async[a0_0x3d18fe(0x19b)](_0x23b32a){const _0x510700=a0_0x3d18fe;return await this[_0x510700(0x7d8)](_0x23b32a['number'],{'listMessage':{'title':_0x23b32a['listMessage']['title'],'description':_0x23b32a[_0x510700(0x19b)][_0x510700(0x5eb)],'buttonText':_0x23b32a[_0x510700(0x19b)]?.[_0x510700(0x568)],'footerText':_0x23b32a[_0x510700(0x19b)]?.[_0x510700(0x50d)],'sections':_0x23b32a[_0x510700(0x19b)][_0x510700(0x494)],'listType':0x2}},_0x23b32a?.[_0x510700(0x6f5)]);}async[a0_0x3d18fe(0x6d3)](_0x6e7875){const _0x358b09=a0_0x3d18fe;this['instance'][_0x358b09(0x782)]===void 0x0&&await this[_0x358b09(0x83c)]();let _0x1bee0a;if(_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x5a1)]===_0x358b09(0x64b)||_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x5a1)]==='list2'){let _0x15736f=_0x6e7875['menuMessage'][_0x358b09(0x2b3)][_0x358b09(0x18e)]('\x0a'),_0xf22299='',_0x30d9cc='';_0x15736f!==-0x1?(_0xf22299=_0x6e7875[_0x358b09(0x6d3)]['text'][_0x358b09(0x4a4)](0x0,_0x15736f)[_0x358b09(0x4d9)](),_0x30d9cc=_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x2b3)][_0x358b09(0x4a4)](_0x15736f+0x1)):_0x30d9cc=_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x2b3)];let _0x168446=_0x6e7875[_0x358b09(0x6d3)]['choices'][_0x358b09(0x836)](_0x31b91e=>_0x31b91e['trim']()!==''),_0x4e9c81=this[_0x358b09(0x53c)](_0x168446);_0x1bee0a={'listMessage':{'title':_0xf22299,'description':_0x30d9cc,'buttonText':_0x6e7875['menuMessage']['buttonText']||'Selecione','footerText':_0x6e7875[_0x358b09(0x6d3)]['footerText'],'sections':_0x4e9c81,'listType':0x2}};}else{if(_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x5a1)]==='poll'){let _0x33b093=_0x6e7875['menuMessage'][_0x358b09(0x174)]['filter'](_0x22d3b8=>!(_0x22d3b8[_0x358b09(0x313)]('[')&&_0x22d3b8[_0x358b09(0x601)](']'))&&_0x22d3b8[_0x358b09(0x4d9)]()!=='')['map'](_0x9af3e8=>_0x9af3e8['split']('\x0a')[0x0]);for(;_0x33b093[_0x358b09(0x802)]<0x2;)_0x33b093[_0x358b09(0x1a4)]('Opo\x20Falsa\x20'+(_0x33b093[_0x358b09(0x802)]+0x1));_0x1bee0a={'poll':{'name':_0x6e7875[_0x358b09(0x6d3)]['text'],'selectableCount':_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x5c7)]||0x1,'values':_0x33b093}};}else{if(_0x6e7875['menuMessage'][_0x358b09(0x5a1)]==='button'){let _0x6efcbd=this[_0x358b09(0x36a)](_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x174)][_0x358b09(0x836)](_0x49bd4d=>!(_0x49bd4d[_0x358b09(0x313)]('[')&&_0x49bd4d['endsWith'](']'))));return _0x1bee0a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x2b3)]},'footer':_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x50d)]?{'text':_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x50d)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x6efcbd,'messageParamsJson':JSON['stringify']({'from':'api','templateId':_0x358b09(0x6af)+(0x0,ne[_0x358b09(0x193)])(0x12)[_0x358b09(0x444)](_0x358b09(0x848))[_0x358b09(0x299)]()})}}}}},await this[_0x358b09(0x8a8)](_0x6e7875[_0x358b09(0x28f)],_0x1bee0a,_0x6e7875?.[_0x358b09(0x6f5)]);}else{if(_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x5a1)]===_0x358b09(0x43d)){let _0x4b6ace=this[_0x358b09(0x89b)](_0x6e7875[_0x358b09(0x6d3)]['choices']);return _0x1bee0a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x6e7875[_0x358b09(0x6d3)]['text']},'footer':_0x6e7875[_0x358b09(0x6d3)][_0x358b09(0x50d)]?{'text':_0x6e7875[_0x358b09(0x6d3)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x4b6ace,'messageParamsJson':JSON['stringify']({'from':_0x358b09(0x743),'templateId':_0x358b09(0x6af)+(0x0,ne['randomBytes'])(0x12)[_0x358b09(0x444)](_0x358b09(0x848))['toUpperCase']()})}}}}},await this[_0x358b09(0x8a8)](_0x6e7875[_0x358b09(0x28f)],_0x1bee0a,_0x6e7875?.[_0x358b09(0x6f5)]);}}}}return await this[_0x358b09(0x7d8)](_0x6e7875[_0x358b09(0x28f)],_0x1bee0a,_0x6e7875?.['options']);}[a0_0x3d18fe(0x36a)](_0x4252ad){const _0xa9f6da=a0_0x3d18fe;return _0x4252ad[_0xa9f6da(0x82a)](_0x59e7e5=>{const _0x18c6eb=_0xa9f6da;let _0x4b2a3e=_0x59e7e5['split']('\x0a')[_0x18c6eb(0x82a)](_0x2f69da=>_0x2f69da[_0x18c6eb(0x4d9)]()),_0x29635d=_0x4b2a3e[0x0],_0x2ba145=_0x4b2a3e[0x1]||_0x29635d,_0x170eb3=_0x2ba145['startsWith'](_0x18c6eb(0x1b9))?_0x18c6eb(0x810):'quick_reply';return{'name':_0x170eb3,'buttonParamsJson':JSON[_0x18c6eb(0x6b1)]({'display_text':_0x29635d,'id':_0x170eb3==='quick_reply'?_0x2ba145:void 0x0,'url':_0x170eb3===_0x18c6eb(0x810)?_0x2ba145:void 0x0})};});}[a0_0x3d18fe(0x89b)](_0x385dd0){const _0x5e0776=a0_0x3d18fe;let _0xb39fe2=[],_0x53c550={'title':'','rows':[]};return _0x385dd0[_0x5e0776(0x358)](_0x1570f7=>{const _0x3a4f0e=_0x5e0776;if(_0x1570f7[_0x3a4f0e(0x313)]('[')&&_0x1570f7[_0x3a4f0e(0x601)](']'))_0x53c550[_0x3a4f0e(0x29d)]['length']>0x0&&_0xb39fe2[_0x3a4f0e(0x1a4)](_0x53c550),_0x53c550={'title':_0x1570f7['slice'](0x1,-0x1),'rows':[]};else{let _0x2e9e5a=_0x1570f7[_0x3a4f0e(0x74f)]('\x0a')['map'](_0x413512=>_0x413512[_0x3a4f0e(0x4d9)]()),_0xfbf063=_0x2e9e5a[0x0],_0x422e02=_0x2e9e5a[0x1]?_0x2e9e5a[0x1]:void 0x0,_0x25c60d=_0x2e9e5a[0x2]||_0xfbf063;_0x53c550[_0x3a4f0e(0x29d)][_0x3a4f0e(0x1a4)]({'title':_0xfbf063,'description':_0x422e02,'id':_0x25c60d});}}),_0x53c550[_0x5e0776(0x29d)][_0x5e0776(0x802)]>0x0&&_0xb39fe2[_0x5e0776(0x1a4)](_0x53c550),[{'name':_0x5e0776(0x443),'buttonParamsJson':JSON[_0x5e0776(0x6b1)]({'title':_0x5e0776(0x14c),'sections':_0xb39fe2})}];}[a0_0x3d18fe(0x53c)](_0x18366b){const _0x4a6913=a0_0x3d18fe;let _0x3b1d73=[],_0x255866={'rows':[]};return _0x18366b[_0x4a6913(0x358)](_0x2b916b=>{const _0x2adf44=_0x4a6913;if(_0x2b916b['startsWith']('[')&&_0x2b916b[_0x2adf44(0x601)](']'))_0x255866[_0x2adf44(0x29d)][_0x2adf44(0x802)]>0x0&&_0x3b1d73[_0x2adf44(0x1a4)](_0x255866),_0x255866={'title':_0x2b916b[_0x2adf44(0x8ad)](0x1,-0x1),'rows':[]};else{let _0x1950ba=_0x2b916b['split']('\x0a')[_0x2adf44(0x82a)](_0x41a507=>_0x41a507[_0x2adf44(0x4d9)]()),_0x45c1dd=_0x1950ba[0x0],_0x26bc4e=_0x1950ba[0x1]||null,_0x5a68ad=_0x1950ba[0x2]||_0x45c1dd;_0x255866['rows'][_0x2adf44(0x1a4)]({'title':_0x45c1dd,'description':_0x26bc4e,'rowId':_0x5a68ad});}}),_0x255866[_0x4a6913(0x29d)][_0x4a6913(0x802)]>0x0&&_0x3b1d73[_0x4a6913(0x1a4)](_0x255866),_0x3b1d73;}async[a0_0x3d18fe(0x230)](_0x181b77,_0x156645){const _0x3ff762=a0_0x3d18fe;if(await this[_0x3ff762(0x6be)](_0x181b77,!0x0)){let _0x353a63={'where':{'_id':_0x181b77['id']}},_0x2627f1={'status':[_0x156645[_0x3ff762(0x1b2)]][0x0]};try{let _0x3554eb=await this[_0x3ff762(0x827)][_0x3ff762(0x867)][_0x3ff762(0x200)](_0x353a63,_0x2627f1,this['instance'][_0x3ff762(0x311)]);_0x3554eb&&F(this[_0x3ff762(0x3b2)],_0x3ff762(0x4cf),{'message':_0x3554eb});}catch{}}}['sectionsToString'](_0x1abb1){const _0x2495ee=a0_0x3d18fe;let _0x4448f2=[];return _0x1abb1[_0x2495ee(0x358)](_0x311bfd=>{const _0x14503c=_0x2495ee;_0x311bfd[_0x14503c(0x7b8)]&&_0x4448f2[_0x14503c(0x1a4)]('['+_0x311bfd['title']+']'),_0x311bfd[_0x14503c(0x29d)][_0x14503c(0x358)](_0x4ed8ee=>{const _0x20bbe3=_0x14503c;_0x4448f2[_0x20bbe3(0x1a4)](_0x4ed8ee[_0x20bbe3(0x7b8)]);});}),_0x4448f2[_0x2495ee(0x6eb)]('|');}[a0_0x3d18fe(0x2d3)](_0x4a2f5e){const _0x227c66=a0_0x3d18fe;let _0x1b4cde=_0x4a2f5e[_0x227c66(0x5e7)](/\\n/g,'\x0a')[_0x227c66(0x74f)]('\x0a')[_0x227c66(0x836)](_0x43e2b0=>_0x43e2b0['includes'](_0x227c66(0x72d))||_0x43e2b0['includes'](_0x227c66(0x474))),_0x60e98b='';return _0x1b4cde[_0x227c66(0x358)](_0x4fef82=>{const _0x2d0102=_0x227c66;let _0x3c25d0=/TEL(?:.*):(.+)/,_0x2d74c7=/EMAIL(?:.*):(.+)/,_0x1979a0=_0x4fef82[_0x2d0102(0x750)](_0x3c25d0),_0x554056=_0x4fef82[_0x2d0102(0x750)](_0x2d74c7);if(_0x1979a0){let _0x4f81a9=_0x1979a0[0x1][_0x2d0102(0x5e7)](/-| |\+|\(|\)/g,'')['trim']();_0x60e98b+=_0x2d0102(0x800)+_0x4f81a9+'\x0a';}else{if(_0x554056){let _0x14b9a6=_0x554056[0x1][_0x2d0102(0x4d9)]();_0x60e98b+='E-mail:\x20'+_0x14b9a6+'\x0a';}}}),_0x60e98b['trim']();}async[a0_0x3d18fe(0x46d)](_0x461158,_0x5a3d74,_0x40f960,_0x4c8b34=null){const _0x39e0ec=a0_0x3d18fe;if(_0x461158['ENABLED'])try{let _0x280c6c=_0x5a3d74[_0x39e0ec(0x406)][_0x39e0ec(0x7f9)][_0x39e0ec(0x5e7)](/:\d{1,2}@/g,'@'),_0x46cf49=_0x5a3d74['key'][_0x39e0ec(0x840)],_0x3581bf=_0x280c6c['endsWith'](_0x39e0ec(0x815)),_0x14344e=_0x5a3d74['participant']?.[_0x39e0ec(0x5e7)](/:\d{1,2}@/g,'@')||'',_0x387cf2=_0x5a3d74[_0x39e0ec(0x34f)]?.['text']||_0x5a3d74[_0x39e0ec(0x34f)]?.[_0x39e0ec(0x5ff)]||_0x5a3d74[_0x39e0ec(0x34f)]?.[_0x39e0ec(0x1e5)]||_0x5a3d74[_0x39e0ec(0x34f)]?.[_0x39e0ec(0x2f6)]||'',_0x4bb3ec={'_id':_0x5a3d74[_0x39e0ec(0x2a2)],'remoteJid':_0x46cf49?this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]:_0x3581bf?_0x14344e:_0x280c6c,'pushName':_0x46cf49?this['instance'][_0x39e0ec(0x16b)]||'Eu':_0x5a3d74[_0x39e0ec(0x581)],'text':_0x387cf2,'type':_0x5a3d74[_0x39e0ec(0x560)],'when':_0x5a3d74[_0x39e0ec(0x849)]||Date[_0x39e0ec(0x7f3)]()};_0x4c8b34||(_0x4c8b34=await this['repository'][_0x39e0ec(0x1cd)]['findOne']({'where':{'_id':_0x280c6c}},this['instance']['wuid']));let _0x80e10e=_0x46cf49?0x0:_0x4c8b34?(_0x4c8b34[_0x39e0ec(0x246)]||0x0)+0x1:0x1,_0x18e625={'lastmsg':_0x5a3d74[_0x39e0ec(0x849)]||Date['now'](),'ephemeralExpiration':_0x5a3d74[_0x39e0ec(0x769)],'lastMessage':_0x4bb3ec,'unreadcount':_0x80e10e,..._0x46cf49||_0x3581bf?{}:{'name':_0x5a3d74[_0x39e0ec(0x581)]},..._0x3581bf?{'group':_0x3581bf}:{},...!_0x46cf49&&!_0x3581bf&&_0x5a3d74[_0x39e0ec(0x69f)]?{'imagechat':_0x5a3d74['profilePictureUrl']}:{}};if(!_0x3581bf&&(!_0x4c8b34?.['leadInfo']||!_0x4c8b34[_0x39e0ec(0x518)][_0x39e0ec(0x31d)])&&_0x5a3d74['pushName']&&!_0x46cf49&&(_0x18e625={..._0x18e625,'leadInfo.nome':_0x5a3d74[_0x39e0ec(0x581)]}),_0x4c8b34?.[_0x39e0ec(0x518)]['etiquetas']||(_0x18e625={..._0x18e625,'leadInfo.etiquetas':[]}),_0x4c8b34?.[_0x39e0ec(0x518)][_0x39e0ec(0x708)]||(_0x18e625={..._0x18e625,'leadInfo.customFields':[]}),_0x4c8b34?.[_0x39e0ec(0x518)]['tags']||(_0x18e625={..._0x18e625,'leadInfo.tags':[]}),_0x4c8b34&&_0x4c8b34?.[_0x39e0ec(0x593)]){let _0x5c586f=await this[_0x39e0ec(0x827)]['label'][_0x39e0ec(0x80c)]({'where':{}},this['instance'][_0x39e0ec(0x311)]),_0x566221=new Set(_0x5c586f[_0x39e0ec(0x82a)](_0x22b168=>_0x22b168[_0x39e0ec(0x2a2)])),_0x5c4d25=(_0x4c8b34[_0x39e0ec(0x518)]?.[_0x39e0ec(0x3fd)]||[])[_0x39e0ec(0x836)](_0x41bf1f=>_0x566221['has'](_0x41bf1f));_0x18e625={..._0x18e625,'imported':!0x1,'leadInfo.etiquetas':_0x5c4d25};for(let _0x2acc17 of _0x5c4d25)await this[_0x39e0ec(0x654)](_0x2acc17,_0x280c6c);}if(!this[_0x39e0ec(0x22f)][_0x39e0ec(0x76a)][_0x39e0ec(0x80c)](_0x531813=>_0x531813['startCommand']&&_0x387cf2['includes'](_0x531813[_0x39e0ec(0x196)]))&&_0x40f960==='MESSAGES_UPSERT'&&_0x46cf49&&this[_0x39e0ec(0x22f)]?.[_0x39e0ec(0x32b)]['enabled']&&_0x387cf2['trim']()!==this[_0x39e0ec(0x22f)]?.['flowConfig'][_0x39e0ec(0x5a4)][_0x39e0ec(0x4d9)]()){let _0x1a8c60=(this['AutomateSystem']?.['flowConfig'][_0x39e0ec(0x81c)]||0x0)*0xea60,_0x3b006f=Date[_0x39e0ec(0x7f3)]()+_0x1a8c60;_0x4c8b34?.[_0x39e0ec(0x518)]?.[_0x39e0ec(0x4ed)]===0x0||(_0x18e625={..._0x18e625,'leadInfo.desativadoFluxoAte':_0x3b006f},this[_0x39e0ec(0x53d)][_0x39e0ec(0x75e)](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x868)+_0x3b006f+'.'));}if(_0x387cf2[_0x39e0ec(0x4d9)]()===this[_0x39e0ec(0x22f)]?.[_0x39e0ec(0x32b)][_0x39e0ec(0x5a4)][_0x39e0ec(0x4d9)]()){this[_0x39e0ec(0x53d)][_0x39e0ec(0x75e)](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x48c)+_0x387cf2);let _0x148a18=Date[_0x39e0ec(0x7f3)]();this[_0x39e0ec(0x22f)]?.['flowConfig'][_0x39e0ec(0x325)]===0x0?_0x18e625={..._0x18e625,'leadInfo.desativadoFluxoAte':_0x148a18+0x7591f6200}:_0x18e625={..._0x18e625,'leadInfo.desativadoFluxoAte':_0x148a18+this[_0x39e0ec(0x22f)]?.[_0x39e0ec(0x32b)][_0x39e0ec(0x325)]*0x3c*0x3e8};}if(_0x4c8b34=await this[_0x39e0ec(0x827)][_0x39e0ec(0x1cd)][_0x39e0ec(0x442)]({'where':{'_id':_0x280c6c}},_0x18e625,this['instance'][_0x39e0ec(0x311)],{'new':!0x0,'upsert':!0x0}),_0x4c8b34)F(this[_0x39e0ec(0x3b2)],_0x39e0ec(0x765),{'chat':_0x4c8b34});else{this[_0x39e0ec(0x53d)][_0x39e0ec(0x4e8)](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x2aa));return;}if(_0x46cf49)return this[_0x39e0ec(0x53d)]['verbose'](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x5e8)),null;if(!this[_0x39e0ec(0x22f)]?.['flowConfig'][_0x39e0ec(0x472)])return this[_0x39e0ec(0x53d)][_0x39e0ec(0x75e)](this[_0x39e0ec(0x3b2)]+'\x20('+this['instance']['wuid']+_0x39e0ec(0x4dd)),null;if(_0x4c8b34[_0x39e0ec(0x2a2)][_0x39e0ec(0x3f1)](_0x39e0ec(0x815))&&this[_0x39e0ec(0x22f)]?.['flowConfig'][_0x39e0ec(0x4c5)]===!0x0)return this[_0x39e0ec(0x53d)][_0x39e0ec(0x75e)](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x4c8b34[_0x39e0ec(0x518)]){if(_0x4c8b34[_0x39e0ec(0x518)][_0x39e0ec(0x4ed)]===0x0||_0x4c8b34['leadInfo']['atendimentoAberto'])return this[_0x39e0ec(0x53d)][_0x39e0ec(0x75e)](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x378)+_0x280c6c+',\x20saindo.'),null;if(_0x4c8b34[_0x39e0ec(0x518)]['desativadoFluxoAte']>Date[_0x39e0ec(0x7f3)]()&&!_0x5a3d74[_0x39e0ec(0x34f)]?.[_0x39e0ec(0x1e5)])return this['logger'][_0x39e0ec(0x75e)](this['instanceName']+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x2bf)+new Date(_0x4c8b34[_0x39e0ec(0x518)][_0x39e0ec(0x4ed)])[_0x39e0ec(0x2bd)]()+_0x39e0ec(0x23b)),null;}this['logger']['verbose'](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)]['wuid']+'):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes'),this[_0x39e0ec(0x3d7)](_0x5a3d74,_0x40f960);}catch(_0x312540){let _0x5118db=_0x39e0ec(0x52c),_0x272953=_0x312540 instanceof Error?_0x312540[_0x39e0ec(0x867)]:typeof _0x312540==_0x39e0ec(0x85e)?JSON['stringify'](_0x312540):_0x312540,_0x66c604=_0x5118db+':\x20'+_0x272953;return this[_0x39e0ec(0x53d)]['error'](this[_0x39e0ec(0x3b2)]+'\x20('+this[_0x39e0ec(0x7ed)][_0x39e0ec(0x311)]+_0x39e0ec(0x851)+_0x66c604),null;}}async[a0_0x3d18fe(0x4fb)](_0x1989e6,_0x29ced5){const _0xaa70ad=a0_0x3d18fe;if(_0x29ced5[_0xaa70ad(0x724)]){let _0x582c09=_0x1989e6[_0xaa70ad(0x82a)](async _0x567407=>{const _0x323ccd=_0xaa70ad;try{let _0x48d087={'_id':_0x567407['_id'],'owner':_0x567407[_0x323ccd(0x856)],'lastcache':0x0};if(Object[_0x323ccd(0x551)](_0x567407)[_0x323ccd(0x358)](_0x619014=>{_0x567407[_0x619014]!==null&&(_0x48d087[_0x619014]=_0x567407[_0x619014]);}),_0x48d087['imagechat']===null&&(_0x48d087[_0x323ccd(0x6d5)]=_0x323ccd(0x5c6)),Object[_0x323ccd(0x551)](_0x48d087)[_0x323ccd(0x802)]>0x0)return await this['repository'][_0x323ccd(0x1cd)][_0x323ccd(0x442)]({'where':{'_id':_0x567407[_0x323ccd(0x2a2)]}},_0x48d087,this[_0x323ccd(0x7ed)][_0x323ccd(0x311)]);}catch(_0x463150){let _0x1632b4=_0x323ccd(0x834)+_0x567407['_id'],_0x22836f=_0x463150 instanceof Error?_0x463150[_0x323ccd(0x867)]:typeof _0x463150==_0x323ccd(0x85e)?JSON[_0x323ccd(0x6b1)](_0x463150):_0x463150,_0x380a68=_0x1632b4+':\x20'+_0x22836f;return this['logger']['error'](this[_0x323ccd(0x3b2)]+'\x20('+this[_0x323ccd(0x7ed)][_0x323ccd(0x311)]+_0x323ccd(0x851)+_0x380a68),null;}}),_0xddff16=(await Promise[_0xaa70ad(0x6e6)](_0x582c09))[_0xaa70ad(0x836)](_0x4d3317=>_0x4d3317!==null)[_0xaa70ad(0x802)];this[_0xaa70ad(0x53d)][_0xaa70ad(0x75e)](this['instanceName']+'\x20('+this[_0xaa70ad(0x7ed)][_0xaa70ad(0x311)]+_0xaa70ad(0x851)+_0xddff16+_0xaa70ad(0x195)+this['instance']['wuid']+_0xaa70ad(0x515));}}async[a0_0x3d18fe(0x5de)](_0x274404){const _0x35ccb6=a0_0x3d18fe;this[_0x35ccb6(0x53d)][_0x35ccb6(0x75e)](this[_0x35ccb6(0x3b2)]+'\x20('+this['instance'][_0x35ccb6(0x311)]+_0x35ccb6(0x85a));let _0x360f33={'readMessages':[{'remoteJid':_0x274404['chatLog']['lastReceivedMessage'][_0x35ccb6(0x406)][_0x35ccb6(0x7f9)],'fromMe':_0x274404[_0x35ccb6(0x2bc)][_0x35ccb6(0x4d1)][_0x35ccb6(0x406)]['fromMe'],'id':_0x274404[_0x35ccb6(0x2bc)][_0x35ccb6(0x4d1)]['key']['id']}]};await this[_0x35ccb6(0x2e2)](_0x360f33);}async[a0_0x3d18fe(0x3d7)](_0x2cde61,_0x11332d){const _0x435e0a=a0_0x3d18fe;try{let {key:_0xb9e41b,message_normalized:_0x95c0da}=_0x2cde61,_0x20d59b=_0x95c0da,_0x5d811c=_0x95c0da[_0x435e0a(0x2b3)]||_0x95c0da[_0x435e0a(0x5ff)]||_0x95c0da[_0x435e0a(0x1e5)]||_0x95c0da['name']||'',_0x2c1f37=_0xb9e41b[_0x435e0a(0x7f9)],_0x128dea=null,_0x23d0ea=this['AutomateSystem'][_0x435e0a(0x76a)][_0x435e0a(0x80c)](_0x5e9737=>_0x5e9737[_0x435e0a(0x196)]&&_0x5d811c[_0x435e0a(0x3f1)](_0x5e9737[_0x435e0a(0x196)]));if(_0x23d0ea&&_0x11332d==='MESSAGES_UPSERT'){let _0x27e372=await this[_0x435e0a(0x827)][_0x435e0a(0x21d)][_0x435e0a(0x648)]({'where':{'_id':_0x23d0ea[_0x435e0a(0x2a2)]}});if(this[_0x435e0a(0x53d)][_0x435e0a(0x75e)](this[_0x435e0a(0x3b2)]+'\x20('+this[_0x435e0a(0x7ed)][_0x435e0a(0x311)]+_0x435e0a(0x76f)),_0x27e372&&_0x27e372[_0x435e0a(0x221)]?.[_0x435e0a(0x3f1)](this[_0x435e0a(0x7ed)]['wuid']))_0x128dea=await this[_0x435e0a(0x222)](_0x27e372,_0xb9e41b,_0x20d59b);else return this[_0x435e0a(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x435e0a(0x7ed)][_0x435e0a(0x311)]+_0x435e0a(0x48d)),null;}else this[_0x435e0a(0x53d)][_0x435e0a(0x75e)](this[_0x435e0a(0x3b2)]+'\x20('+this[_0x435e0a(0x7ed)][_0x435e0a(0x311)]+_0x435e0a(0x4e1));if(_0x128dea=await this[_0x435e0a(0x75b)](_0x2c1f37,_0x20d59b),_0x128dea){this[_0x435e0a(0x53d)]['verbose'](this[_0x435e0a(0x3b2)]+'\x20('+this[_0x435e0a(0x7ed)][_0x435e0a(0x311)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0xb9e41b[_0x435e0a(0x840)]&&_0x128dea[_0x435e0a(0x3d3)]&&this[_0x435e0a(0x5de)](_0x128dea);let _0x42fde1=await this['NextBlock'](_0x128dea);_0x42fde1&&await this[_0x435e0a(0x21a)](_0x128dea,_0x42fde1);}}catch(_0x3dd30b){this['logger'][_0x435e0a(0x4e8)](this[_0x435e0a(0x3b2)]+'\x20('+this[_0x435e0a(0x7ed)][_0x435e0a(0x311)]+_0x435e0a(0x7fa)+(_0x3dd30b instanceof Error?_0x3dd30b['message']:JSON[_0x435e0a(0x6b1)](_0x3dd30b,null,0x2)));}}[a0_0x3d18fe(0x35a)](_0x3dafe5,_0x1acd09='',_0x16d2ac={}){const _0x262364=a0_0x3d18fe;return typeof _0x3dafe5!=_0x262364(0x85e)||_0x3dafe5===null?(_0x1acd09&&(_0x16d2ac[_0x1acd09]=_0x3dafe5),_0x16d2ac):(Object[_0x262364(0x6ed)](_0x3dafe5)[_0x262364(0x358)](([_0x1b9dda,_0x2106b7])=>{const _0x33a2d4=_0x262364;let _0x2b98e4=_0x1acd09?_0x1acd09+'.'+_0x1b9dda:'_'+_0x1b9dda;Array[_0x33a2d4(0x27a)](_0x2106b7)?_0x2106b7[_0x33a2d4(0x358)]((_0x5e7a88,_0x4ad430)=>{const _0x2f686d=_0x33a2d4;this[_0x2f686d(0x35a)](_0x5e7a88,_0x2b98e4+'['+_0x4ad430+']',_0x16d2ac);}):typeof _0x2106b7=='object'&&_0x2106b7!==null?this['flattenObject'](_0x2106b7,_0x2b98e4,_0x16d2ac):_0x16d2ac[_0x2b98e4]=String(_0x2106b7);}),_0x16d2ac);}[a0_0x3d18fe(0x1e1)](_0x3f9563){const _0x178fac=a0_0x3d18fe;let _0x5f28f3={};for(let _0x43af82 of _0x3f9563)typeof _0x43af82[_0x178fac(0x2f6)]=='string'&&typeof _0x43af82[_0x178fac(0x50b)]==_0x178fac(0x29b)&&(_0x5f28f3[_0x43af82[_0x178fac(0x2f6)]]=_0x43af82['value']);return _0x5f28f3;}async[a0_0x3d18fe(0x78d)](_0xe1b5d7){const _0x524b88=a0_0x3d18fe;if(!this[_0x524b88(0x22f)]?.[_0x524b88(0x32b)][_0x524b88(0x472)]||_0xe1b5d7[_0x524b88(0x1b2)]!=='open'&&_0xe1b5d7[_0x524b88(0x853)]==='')return null;let _0x1b0e90=_0xe1b5d7['chatLog']['lastBlockId']||_0x524b88(0x563);typeof _0xe1b5d7[_0x524b88(0x2bc)]['lastCondition']>'u'&&(_0xe1b5d7['chatLog']['lastCondition']=!0x0);let _0x435bc8=_0xe1b5d7[_0x524b88(0x2bc)]['lastCondition'];this[_0x524b88(0x53d)][_0x524b88(0x75e)](this[_0x524b88(0x3b2)]+'\x20('+this['instance'][_0x524b88(0x311)]+_0x524b88(0x1bd)+_0x1b0e90+',\x20lastCondition:\x20'+_0x435bc8);let _0x24ef06=_0x1b0e90===_0x524b88(0x563)?_0xe1b5d7['blocks'][_0x524b88(0x80c)](_0x369f06=>_0x369f06[_0x524b88(0x5a1)]===_0x524b88(0x563)):_0xe1b5d7[_0x524b88(0x30c)][_0x524b88(0x80c)](_0x2eb031=>_0x2eb031[_0x524b88(0x2a2)]['toString']()===_0x1b0e90[_0x524b88(0x444)]());if(!_0x24ef06)return this[_0x524b88(0x53d)][_0x524b88(0x4e8)](this[_0x524b88(0x3b2)]+'\x20('+this['instance'][_0x524b88(0x311)]+_0x524b88(0x60c)+_0x1b0e90),null;let _0x4bc8ba={'_pushName':_0xe1b5d7?.['chatLog']?.[_0x524b88(0x4d1)]?.[_0x524b88(0x581)]||'','_sender':this[_0x524b88(0x7ed)]['wuid']||'',..._0xe1b5d7['chatLog'][_0x524b88(0x148)]},_0x17fc1e=new Date();_0x4bc8ba[_0x524b88(0x609)]=_0x17fc1e[_0x524b88(0x31c)](),_0x4bc8ba[_0x524b88(0x1c3)]=_0x17fc1e[_0x524b88(0x543)]()+0x1,_0x4bc8ba[_0x524b88(0x414)]=_0x17fc1e[_0x524b88(0x6d1)](),_0x4bc8ba[_0x524b88(0x3db)]=_0x17fc1e[_0x524b88(0x605)](),_0x4bc8ba[_0x524b88(0x34b)]=_0x17fc1e[_0x524b88(0x1eb)](),_0x4bc8ba[_0x524b88(0x2cf)]=_0x17fc1e['getSeconds']();let _0x47133a=null;if(_0xe1b5d7[_0x524b88(0x853)]){let _0xb27d29=_0xe1b5d7[_0x524b88(0x2bc)][_0x524b88(0x4d1)]['vote'],_0x44a972=_0xe1b5d7[_0x524b88(0x1ec)][_0x524b88(0x80c)](_0x3b428f=>_0x3b428f['option']===_0xb27d29);if(_0x44a972){let _0x140e1e=_0x44a972[_0x524b88(0x24d)];if(_0x47133a=_0xe1b5d7[_0x524b88(0x30c)][_0x524b88(0x80c)](_0x27f9a2=>_0x27f9a2[_0x524b88(0x1af)]===_0x140e1e&&_0x27f9a2[_0x524b88(0x39e)]===0x1),_0x24ef06[_0x524b88(0x808)][_0x524b88(0x266)]){let _0x2e1707={'id':_0xe1b5d7['waitingMenu_id'],'remoteJid':_0xe1b5d7['remoteJid'],'fromMe':!0x0};await this[_0x524b88(0x784)](_0x2e1707);}if(_0x24ef06[_0x524b88(0x808)][_0x524b88(0x266)]&&_0x24ef06[_0x524b88(0x808)][_0x524b88(0x540)]&&_0x24ef06['uazapi'][_0x524b88(0x5fe)]===_0x524b88(0x72a)){let _0x1b624f={'number':_0xe1b5d7[_0x524b88(0x7f9)],'options':{'delay':0x0},'textMessage':{'text':_0x524b88(0x556)+_0xe1b5d7[_0x524b88(0x33d)]+_0x524b88(0x35d)+_0xb27d29}};await this['textMessage'](_0x1b624f);}_0x4bc8ba[_0x524b88(0x1e4)]=_0xb27d29,_0xe1b5d7[_0x524b88(0x1b2)]=_0x524b88(0x5b1),_0xe1b5d7[_0x524b88(0x853)]='',_0xe1b5d7[_0x524b88(0x33d)]='',_0xe1b5d7[_0x524b88(0x1ec)]=[];}else{this['logger'][_0x524b88(0x75e)](this[_0x524b88(0x3b2)]+'\x20('+this[_0x524b88(0x7ed)][_0x524b88(0x311)]+_0x524b88(0x7e6));let _0x291471={'activatedCount':_0xe1b5d7[_0x524b88(0x2bc)]['blockLogs'][_0x524b88(0x836)](_0x3af329=>String(_0x3af329[_0x524b88(0x688)])===String(_0x1b0e90))['length'],'moreLogs':[_0x524b88(0x320)]};if(_0x24ef06[_0x524b88(0x808)][_0x524b88(0x354)]){let _0x42d0e6={'number':_0xe1b5d7[_0x524b88(0x7f9)],'options':{'delay':0x0},'textMessage':{'text':_0x24ef06[_0x524b88(0x808)][_0x524b88(0x354)]}};await this[_0x524b88(0x6b3)](_0x42d0e6);}if(_0x24ef06[_0x524b88(0x55d)]!==void 0x0&&_0x291471['activatedCount']>=_0x24ef06[_0x524b88(0x55d)]){let _0x33df89=Date[_0x524b88(0x7f3)](),_0x5a0428=_0x24ef06[_0x524b88(0x670)]??0xa;isNaN(_0x5a0428)&&(_0x5a0428=0xa);let _0x3c4177=_0x33df89+_0x5a0428*0x3c*0x3e8;_0x291471['newStoppedUntil']=_0x3c4177,_0x291471['moreLogs'][_0x524b88(0x1a4)](_0x524b88(0x368)),this[_0x524b88(0x6b0)](_0xe1b5d7,_0x3c4177),_0xe1b5d7[_0x524b88(0x853)]='',_0xe1b5d7['waitingMenu_text']='',_0xe1b5d7[_0x524b88(0x1ec)]=[];}return this[_0x524b88(0x215)](_0xe1b5d7,_0x24ef06,_0x291471,!0x0),null;}}if(_0x435bc8&&_0x24ef06[_0x524b88(0x24d)]&&!_0xe1b5d7[_0x524b88(0x853)]){let _0x243378=_0xe1b5d7[_0x524b88(0x30c)][_0x524b88(0x836)](_0x8d2253=>_0x8d2253[_0x524b88(0x1af)]['toString']()===_0x24ef06[_0x524b88(0x24d)][_0x524b88(0x444)]())[_0x524b88(0x366)]((_0x5d5b8c,_0x51b7b5)=>_0x5d5b8c[_0x524b88(0x39e)]-_0x51b7b5[_0x524b88(0x39e)]);_0x243378[_0x524b88(0x802)]>0x0&&(_0x47133a=_0x243378[0x0]);}if(!_0x47133a){let _0x4181d1=_0x24ef06[_0x524b88(0x1af)],_0x515035=_0xe1b5d7[_0x524b88(0x30c)]['filter'](_0x2d0fe9=>_0x2d0fe9['groupId']===_0x4181d1&&_0x2d0fe9[_0x524b88(0x39e)]>_0x24ef06[_0x524b88(0x39e)])['sort']((_0x69ee5,_0x3bb567)=>_0x69ee5[_0x524b88(0x39e)]-_0x3bb567['order']);_0x515035[_0x524b88(0x802)]>0x0&&(_0x47133a=_0x515035[0x0]);}if(!_0x47133a)return _0xe1b5d7[_0x524b88(0x1b2)]=_0x524b88(0x89f),null;_0xe1b5d7[_0x524b88(0x2bc)]['realVariables']=_0x4bc8ba;let _0x1e4586=JSON[_0x524b88(0x78c)](JSON['stringify'](_0x47133a));return this[_0x524b88(0x7b1)](_0x1e4586,_0xe1b5d7[_0x524b88(0x2bc)][_0x524b88(0x148)]),_0xe1b5d7['chatLog'][_0x524b88(0x43e)]=_0x1e4586[_0x524b88(0x2a2)],_0xe1b5d7['chatLog'][_0x524b88(0x643)]=!0x0,_0x1e4586;}[a0_0x3d18fe(0x32d)](_0x56cb65,_0xfe1967){const _0x5523b2=a0_0x3d18fe;return _0x56cb65[_0x5523b2(0x5e7)](/\{\{([^}]+)\}\}/g,(_0x543745,_0x1f0ccc)=>_0xfe1967[_0x1f0ccc]||'');}[a0_0x3d18fe(0x7b1)](_0x35d5d3,_0xfd055d){const _0x1c1f6e=a0_0x3d18fe;for(let _0x2a9a05 in _0x35d5d3)typeof _0x35d5d3[_0x2a9a05]==_0x1c1f6e(0x29b)?_0x35d5d3[_0x2a9a05]=this[_0x1c1f6e(0x32d)](_0x35d5d3[_0x2a9a05],_0xfd055d):typeof _0x35d5d3[_0x2a9a05]=='object'&&this['replaceVariablesInObject'](_0x35d5d3[_0x2a9a05],_0xfd055d);}async['goNextblock'](_0x1d726f,_0x4f75f5){const _0x5ac176=a0_0x3d18fe;let _0x3ef10c=_0x4f75f5[_0x5ac176(0x2a2)];if(_0x1d726f[_0x5ac176(0x2bc)]&&_0x1d726f['chatLog']['blockLogs']){let _0x1dc6db=_0x1d726f[_0x5ac176(0x2bc)][_0x5ac176(0x7fc)][_0x5ac176(0x836)](_0x4eec13=>String(_0x4eec13[_0x5ac176(0x688)])===String(_0x3ef10c))[_0x5ac176(0x21c)]();if(_0x1dc6db&&_0x1dc6db[_0x5ac176(0x4e8)]&&_0x4f75f5['stopIfLastReturnedError'])return _0x1d726f[_0x5ac176(0x1b2)]='closed',await this[_0x5ac176(0x636)](_0x1d726f),null;}if(_0x4f75f5[_0x5ac176(0x5a1)]===_0x5ac176(0x808)&&_0x4f75f5[_0x5ac176(0x808)][_0x5ac176(0x825)]===_0x5ac176(0x2e5)&&_0x1d726f[_0x5ac176(0x853)])return _0x1d726f[_0x5ac176(0x2bc)][_0x5ac176(0x43e)]=_0x3ef10c,await this['saveConversationToDatabase'](_0x1d726f),null;let _0x1cd8a6=await this[_0x5ac176(0x78d)](_0x1d726f);if(_0x1d726f[_0x5ac176(0x2bc)]&&_0x1d726f[_0x5ac176(0x2bc)][_0x5ac176(0x7fc)]){let _0x470a4f=_0x1d726f[_0x5ac176(0x2bc)]['blockLogs'][_0x5ac176(0x836)](_0x337936=>String(_0x337936[_0x5ac176(0x688)])===String(_0x3ef10c))[_0x5ac176(0x802)];if(_0x4f75f5[_0x5ac176(0x55d)]!==void 0x0&&_0x470a4f>=_0x4f75f5[_0x5ac176(0x55d)]){let _0xe33b7d=Date[_0x5ac176(0x7f3)](),_0x59ed77=_0x4f75f5[_0x5ac176(0x670)]??0xa;isNaN(_0x59ed77)&&(_0x59ed77=0xa);let _0x1bd3cd=_0xe33b7d+_0x59ed77*0x3c*0x3e8,_0x183cae={'newStoppedUntil':_0x1bd3cd};return this['updateStopChat'](_0x1d726f,_0x1bd3cd),this[_0x5ac176(0x215)](_0x1d726f,_0x4f75f5,_0x183cae,!0x0),null;}}_0x1cd8a6&&_0x1cd8a6['type']!=='save'&&await this[_0x5ac176(0x21a)](_0x1d726f,_0x1cd8a6),_0x1cd8a6||await this[_0x5ac176(0x636)](_0x1d726f),_0x1cd8a6&&_0x1cd8a6['type']===_0x5ac176(0x68e)&&(_0x1d726f[_0x5ac176(0x2bc)][_0x5ac176(0x43e)]=_0x3ef10c,await this[_0x5ac176(0x636)](_0x1d726f));}async[a0_0x3d18fe(0x21a)](_0x53b56c,_0x30f1b1){const _0x43b897=a0_0x3d18fe;try{let _0x409277=_0x30f1b1['type'];this[_0x43b897(0x53d)][_0x43b897(0x75e)](this['instanceName']+'\x20('+this[_0x43b897(0x7ed)][_0x43b897(0x311)]+'):\x20Going\x20to\x20'+_0x409277);let _0x353c37={'uazapi':()=>this[_0x43b897(0x6b7)](_0x53b56c,_0x30f1b1),'save':()=>this[_0x43b897(0x282)](_0x53b56c,_0x30f1b1),'stop':()=>this[_0x43b897(0x5a4)](_0x53b56c,_0x30f1b1),'condition':()=>this[_0x43b897(0x7a0)](_0x53b56c,_0x30f1b1),'varedit':()=>this['processvaredits'](_0x53b56c,_0x30f1b1),'apirequest':()=>this[_0x43b897(0x495)](_0x53b56c,_0x30f1b1),'goToFlow':()=>this[_0x43b897(0x822)](_0x53b56c,_0x30f1b1),'scheduleFlow':()=>this[_0x43b897(0x6e4)](_0x53b56c,_0x30f1b1),'awaitSeconds':()=>this['processawaitSeconds'](_0x53b56c,_0x30f1b1),'clearVariables':()=>this['processclearVariables'](_0x53b56c,_0x30f1b1)}[_0x409277];_0x353c37&&await _0x353c37();}catch(_0xd0cfdb){this[_0x43b897(0x53d)][_0x43b897(0x4e8)](this[_0x43b897(0x3b2)]+'\x20('+this['instance'][_0x43b897(0x311)]+_0x43b897(0x846)+(_0xd0cfdb instanceof Error?_0xd0cfdb[_0x43b897(0x867)]:JSON['stringify'](_0xd0cfdb,null,0x2)));}}async['processawaitSeconds'](_0x1e3ec2,_0x247d52){const _0x15aeee=a0_0x3d18fe;if(this['logger'][_0x15aeee(0x75e)](this[_0x15aeee(0x3b2)]+'\x20('+this[_0x15aeee(0x7ed)][_0x15aeee(0x311)]+_0x15aeee(0x74b)),!_0x1e3ec2||!_0x247d52)return this[_0x15aeee(0x53d)][_0x15aeee(0x4e8)](this[_0x15aeee(0x3b2)]+'\x20('+this[_0x15aeee(0x7ed)][_0x15aeee(0x311)]+_0x15aeee(0x818)),null;let _0x254116=+_0x247d52['awaitSeconds'];isNaN(_0x254116)&&(_0x254116=0x0),_0x254116=Math['min'](_0x254116,0x3c),await(0x0,w[_0x15aeee(0x2c5)])(_0x254116*0x3e8);let _0x2925e2={'moreLogs':[_0x15aeee(0x6f6)+_0x254116+'\x20segundos']};return await this[_0x15aeee(0x215)](_0x1e3ec2,_0x247d52,_0x2925e2),_0x254116;}async[a0_0x3d18fe(0x4a8)](_0x8d67f2,_0x45006c){const _0x365456=a0_0x3d18fe;if(this[_0x365456(0x53d)][_0x365456(0x75e)](this[_0x365456(0x3b2)]+'\x20('+this[_0x365456(0x7ed)][_0x365456(0x311)]+_0x365456(0x2a4)),!_0x8d67f2||!_0x45006c)return this[_0x365456(0x53d)][_0x365456(0x4e8)](this[_0x365456(0x3b2)]+'\x20('+this['instance'][_0x365456(0x311)]+_0x365456(0x818)),null;let _0x5ea641=[];if(_0x45006c[_0x365456(0x4d7)]['trim']()===_0x365456(0x71e)){let _0x11efa1=['_sender',_0x365456(0x533),_0x365456(0x1d3),_0x365456(0x218),_0x365456(0x87e),_0x365456(0x2a2),_0x365456(0x631)];_0x5ea641=Object[_0x365456(0x551)](_0x8d67f2[_0x365456(0x2bc)][_0x365456(0x148)])[_0x365456(0x836)](_0x447d12=>_0x447d12[_0x365456(0x313)]('_')&&!_0x11efa1[_0x365456(0x3f1)](_0x447d12));}else _0x5ea641=_0x45006c[_0x365456(0x4d7)]['split']('|')['map'](_0x2d1e7d=>(_0x2d1e7d=_0x2d1e7d[_0x365456(0x5e7)](/[{}]/g,'')['trim'](),_0x2d1e7d[_0x365456(0x313)]('_')?_0x2d1e7d:'_'+_0x2d1e7d));let _0x5b0bc6=[];_0x5ea641[_0x365456(0x358)](_0x11020a=>{const _0x52cad9=_0x365456;_0x11020a in _0x8d67f2[_0x52cad9(0x2bc)]['realVariables']&&(delete _0x8d67f2[_0x52cad9(0x2bc)][_0x52cad9(0x148)][_0x11020a],_0x5b0bc6[_0x52cad9(0x1a4)](_0x11020a));}),_0x5b0bc6[_0x365456(0x802)]>0x0?this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x365456(0x311)]+_0x365456(0x86c)+_0x5b0bc6['join'](',\x20')):this['logger'][_0x365456(0x75e)](this[_0x365456(0x3b2)]+'\x20('+this[_0x365456(0x7ed)][_0x365456(0x311)]+_0x365456(0x5b5));let _0x39e9a3={'moreLogs':[_0x365456(0x41b)+_0x5b0bc6[_0x365456(0x6eb)](',\x20')]};return await this[_0x365456(0x215)](_0x8d67f2,_0x45006c,_0x39e9a3),null;}async['processScheduleFlow'](_0x2da3a5,_0x9d0411){const _0x267252=a0_0x3d18fe;if(this[_0x267252(0x53d)][_0x267252(0x75e)](this[_0x267252(0x3b2)]+'\x20('+this[_0x267252(0x7ed)][_0x267252(0x311)]+_0x267252(0x51f)),!_0x2da3a5||!_0x9d0411)return this[_0x267252(0x53d)][_0x267252(0x4e8)](this[_0x267252(0x3b2)]+'\x20('+this[_0x267252(0x7ed)][_0x267252(0x311)]+_0x267252(0x818)),null;let _0x31ce84=_0x2da3a5[_0x267252(0x7f9)];_0x9d0411[_0x267252(0x70d)][_0x267252(0x7f9)]&&_0x9d0411[_0x267252(0x70d)][_0x267252(0x7f9)]['trim']()!==''&&(_0x31ce84=_0x9d0411[_0x267252(0x808)][_0x267252(0x7f9)]['trim']());let _0x560f05=_0x9d0411[_0x267252(0x70d)][_0x267252(0x3c2)]*0xea60,_0x647d25=Date[_0x267252(0x7f3)]()+_0x560f05,_0x4ec862={'status':_0x267252(0x4e5),'info':_0x267252(0x457)+_0x2da3a5[_0x267252(0x2f6)],'remoteJids':[_0x31ce84],'when':_0x647d25,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x267252(0x21d),'flowName':_0x9d0411['scheduleFlow'][_0x267252(0x7aa)]};this[_0x267252(0x709)](_0x4ec862);let _0xb98733=await this['NextBlock'](_0x2da3a5);_0xb98733&&await this['processblock'](_0x2da3a5,_0xb98733);}async[a0_0x3d18fe(0x822)](_0x5c04db,_0x110516){const _0x35f134=a0_0x3d18fe;if(this[_0x35f134(0x53d)][_0x35f134(0x75e)](this['instanceName']+'\x20('+this[_0x35f134(0x7ed)][_0x35f134(0x311)]+_0x35f134(0x244)),!_0x5c04db||!_0x110516)return this[_0x35f134(0x53d)][_0x35f134(0x4e8)](this[_0x35f134(0x3b2)]+'\x20('+this['instance'][_0x35f134(0x311)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x35f134(0x215)](_0x5c04db,_0x110516,{},!0x0,!0x0);let _0x136735=_0x110516[_0x35f134(0x871)];_0x5c04db=await this[_0x35f134(0x401)](_0x136735,_0x5c04db[_0x35f134(0x7f9)],_0x5c04db[_0x35f134(0x2bc)][_0x35f134(0x148)]);let _0x2fd29d=await this[_0x35f134(0x78d)](_0x5c04db);_0x2fd29d&&await this['processblock'](_0x5c04db,_0x2fd29d);}async[a0_0x3d18fe(0x401)](_0x2c0709,_0x301293,_0x4bc798){const _0x50284d=a0_0x3d18fe;this[_0x50284d(0x53d)][_0x50284d(0x75e)](this[_0x50284d(0x3b2)]+'\x20('+this[_0x50284d(0x7ed)][_0x50284d(0x311)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x42008a=this[_0x50284d(0x22f)][_0x50284d(0x76a)][_0x50284d(0x80c)](_0x538679=>_0x538679[_0x50284d(0x2a2)]===_0x2c0709);_0x42008a||this['logger']['error'](this[_0x50284d(0x3b2)]+'\x20('+this['instance'][_0x50284d(0x311)]+_0x50284d(0x5f2)+_0x2c0709+'\x27\x20no\x20encontrado\x20na\x20memria');let _0x16613c=await this[_0x50284d(0x827)][_0x50284d(0x21d)][_0x50284d(0x648)]({'where':{'_id':_0x42008a['_id']}});if(!_0x16613c||!_0x16613c[_0x50284d(0x221)]?.[_0x50284d(0x3f1)](this['instance'][_0x50284d(0x311)]))throw this[_0x50284d(0x53d)]['error'](this[_0x50284d(0x3b2)]+'\x20('+this[_0x50284d(0x7ed)][_0x50284d(0x311)]+_0x50284d(0x5f2)+_0x2c0709+_0x50284d(0x7c5)),new m(_0x50284d(0x38a)+_0x2c0709+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');let _0x12756c=require(_0x50284d(0x506))[_0x50284d(0x38e)],_0x338afb=Date[_0x50284d(0x7f3)](),_0x3fec70='start',_0x3f13ca={},_0x3ff0a3={},_0x4b769b=this[_0x50284d(0x22f)][_0x50284d(0x76a)][_0x50284d(0x80c)](_0x578686=>_0x578686['_id']===_0x16613c[_0x50284d(0x2a2)]?.[_0x50284d(0x444)]()),_0x34c80a=_0x4b769b?.['minutesToClose']??_0x16613c[_0x50284d(0x649)]??0x0,_0x2677bb=_0x4b769b?.[_0x50284d(0x3d3)]??_0x16613c[_0x50284d(0x3d3)]??!0x1,_0x59a035={'flowId':_0x42008a['_id'],'readMessages':_0x42008a[_0x50284d(0x3d3)],..._0x16613c,'chatLog':null},_0x1c5c1e={'lastReceivedMessage':_0x3f13ca,'lastSendMessage':_0x3ff0a3,'lastBlockId':_0x3fec70,'lastCondition':!0x0,'realVariables':_0x4bc798};_0x59a035[_0x50284d(0x2bc)]=_0x1c5c1e,_0x59a035[_0x50284d(0x2bc)]['realVariables']={..._0x4bc798},delete _0x59a035['_id'],_0x59a035[_0x50284d(0x2a2)]=new _0x12756c(),_0x59a035[_0x50284d(0x55a)]=_0x338afb,_0x59a035[_0x50284d(0x1b2)]=_0x50284d(0x5b1),_0x59a035[_0x50284d(0x7f9)]=_0x301293,_0x59a035[_0x50284d(0x649)]=_0x34c80a,_0x59a035[_0x50284d(0x3d3)]=_0x2677bb;let _0x36c78f=await this[_0x50284d(0x827)][_0x50284d(0x194)][_0x50284d(0x442)](_0x59a035[_0x50284d(0x2a2)],_0x59a035,this['instance'][_0x50284d(0x311)]);return this[_0x50284d(0x53d)]['verbose'](this[_0x50284d(0x3b2)]+'\x20('+this[_0x50284d(0x7ed)][_0x50284d(0x311)]+_0x50284d(0x665)),_0x36c78f?_0x59a035:null;}catch(_0x2dd19c){let _0x2e2698=_0x50284d(0x1f8),_0x572cef=_0x2dd19c instanceof Error?_0x2dd19c[_0x50284d(0x867)]:typeof _0x2dd19c==_0x50284d(0x85e)?JSON[_0x50284d(0x6b1)](_0x2dd19c):_0x2dd19c,_0x3dcd37=_0x2e2698+':\x20'+_0x572cef;throw this['logger'][_0x50284d(0x4e8)](this[_0x50284d(0x3b2)]+'\x20('+this[_0x50284d(0x7ed)][_0x50284d(0x311)]+_0x50284d(0x851)+_0x3dcd37),new m(_0x3dcd37);}}async['processApiRequest'](_0x8e3940,_0x405717){const _0x3a893e=a0_0x3d18fe;let _0x1a64b7,_0x17f4df;try{let _0x4431c9=_0x405717[_0x3a893e(0x171)];if(!_0x4431c9||!_0x4431c9[_0x3a893e(0x3f9)]||!_0x4431c9['method'])throw new Error('Falta\x20informao\x20para\x20a\x20chamada\x20API');let _0x709d06;(['https://api.openai.com/v1/audio/speech',_0x3a893e(0x61d),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x3a893e(0x838)](_0x2a9469=>_0x4431c9[_0x3a893e(0x3f9)][_0x3a893e(0x3f1)](_0x2a9469))||_0x4431c9[_0x3a893e(0x79f)])&&(_0x709d06=_0x3a893e(0x3e2));let _0x108dba='\u205f',_0xbdd9da;try{_0xbdd9da=JSON['parse'](_0x4431c9[_0x3a893e(0x372)][_0x3a893e(0x5e7)](new RegExp(_0x108dba,'g'),''));}catch(_0x1a7eb9){throw _0x1a7eb9;}let _0x4019c2={'method':_0x4431c9['method'],'url':_0x4431c9[_0x3a893e(0x3f9)],'headers':_0x4431c9[_0x3a893e(0x59a)]||{},..._0x4431c9[_0x3a893e(0x270)]['toUpperCase']()!=='GET'&&_0x4431c9[_0x3a893e(0x372)]?{'data':JSON['parse'](_0x4431c9[_0x3a893e(0x372)][_0x3a893e(0x5e7)](new RegExp(_0x108dba,'g'),''))}:{},..._0x709d06&&{'responseType':_0x709d06}},_0x12e290=await(0x0,Q[_0x3a893e(0x62f)])(_0x4019c2),_0x130246=_0x12e290[_0x3a893e(0x253)][_0x3a893e(0x46b)];if(_0x130246&&_0x130246['includes'](_0x3a893e(0x46f))||typeof _0x12e290[_0x3a893e(0x2ff)]=='string'){if(typeof _0x12e290[_0x3a893e(0x2ff)]==_0x3a893e(0x29b)){let _0xa36f81=_0x12e290[_0x3a893e(0x2ff)][_0x3a893e(0x5e7)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x3a893e(0x4d9)]();try{_0x1a64b7=JSON[_0x3a893e(0x78c)](_0xa36f81);}catch(_0x4fc159){this[_0x3a893e(0x53d)][_0x3a893e(0x4e8)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x4fc159[_0x3a893e(0x867)]),_0x1a64b7={'_apiResponse':_0x12e290['data']};}}else _0x1a64b7=_0x12e290[_0x3a893e(0x2ff)];let _0x32c98d=_0x8e3940[_0x3a893e(0x2bc)]['realVariables'],_0x548647=this[_0x3a893e(0x35a)](_0x1a64b7);return Object[_0x3a893e(0x640)](_0x32c98d,_0x548647),_0x8e3940[_0x3a893e(0x2bc)][_0x3a893e(0x148)]=_0x32c98d,_0x17f4df={'error':!0x1,'apiResponse':_0x1a64b7},this[_0x3a893e(0x215)](_0x8e3940,_0x405717,_0x17f4df),_0x1a64b7;}if(_0x130246&&(_0x130246[_0x3a893e(0x3f1)](_0x3a893e(0x427))||_0x130246[_0x3a893e(0x3f1)](_0x3a893e(0x333))||_0x130246[_0x3a893e(0x3f1)](_0x3a893e(0x3f4))||_0x130246[_0x3a893e(0x3f1)]('video'))){this[_0x3a893e(0x53d)][_0x3a893e(0x75e)](this[_0x3a893e(0x3b2)]+'\x20('+this[_0x3a893e(0x7ed)][_0x3a893e(0x311)]+_0x3a893e(0x25d)+_0x130246);let _0x172fed=(0x0,Y['v4'])(),_0x3f0ba0='',_0x326f38={'image/jpeg':_0x3a893e(0x881),'image/png':_0x3a893e(0x310),'image/gif':_0x3a893e(0x7cc),'image/webp':_0x3a893e(0x6aa),'image/svg+xml':_0x3a893e(0x2f5),'audio/mpeg':_0x3a893e(0x162),'audio/ogg':_0x3a893e(0x5be),'audio/wav':'.wav','video/mp4':_0x3a893e(0x700),'video/webm':_0x3a893e(0x1ff),'video/ogg':_0x3a893e(0x1c4),'text/plain':'.txt','application/pdf':_0x3a893e(0x4a2),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3a893e(0x32e),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3a893e(0x1f5),'application/vnd.ms-powerpoint':_0x3a893e(0x462),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3a893e(0x8a4)};_0x326f38[_0x130246]?(_0x3f0ba0=_0x326f38[_0x130246],this['logger'][_0x3a893e(0x75e)](this[_0x3a893e(0x3b2)]+'\x20('+this[_0x3a893e(0x7ed)][_0x3a893e(0x311)]+_0x3a893e(0x88e)+_0x3f0ba0)):(_0x3f0ba0=_0x3a893e(0x602),this['logger'][_0x3a893e(0x75e)](this[_0x3a893e(0x3b2)]+'\x20('+this[_0x3a893e(0x7ed)]['wuid']+_0x3a893e(0x19a)+_0x3f0ba0)),_0x172fed+=_0x3f0ba0,this[_0x3a893e(0x53d)][_0x3a893e(0x75e)](this[_0x3a893e(0x3b2)]+'\x20('+this[_0x3a893e(0x7ed)][_0x3a893e(0x311)]+_0x3a893e(0x5af)+_0x172fed);let _0x537a0=this[_0x3a893e(0x599)]['get'](_0x3a893e(0x2d0))[_0x3a893e(0x6fe)];if(!_0x537a0){let _0x476878=this[_0x3a893e(0x599)][_0x3a893e(0x5d8)](_0x3a893e(0x76b));_0x537a0='https://'+(_0x476878&&_0x476878[_0x3a893e(0x854)][_0x3a893e(0x74f)]('/')[0x4]);}let _0x196ea4=Buffer[_0x3a893e(0x13c)](_0x12e290[_0x3a893e(0x2ff)]);await this['saveMediaToFile'](_0x196ea4,_0x172fed);let _0x5b6e1c='/media/'+_0x172fed;_0x5b6e1c=''+_0x537a0+_0x5b6e1c,_0x1a64b7={'fileUrl':_0x5b6e1c},_0x8e3940['chatLog']['realVariables'][_0x3a893e(0x8a7)]=_0x5b6e1c;let _0x24fc81=_0x8e3940['chatLog'][_0x3a893e(0x148)],_0x26bd28=this['flattenObject'](_0x1a64b7);return Object[_0x3a893e(0x640)](_0x24fc81,_0x26bd28),_0x8e3940[_0x3a893e(0x2bc)][_0x3a893e(0x148)]=_0x24fc81,_0x17f4df={'error':!0x1,'apiResponse':{'fileUrl':_0x5b6e1c}},this[_0x3a893e(0x215)](_0x8e3940,_0x405717,_0x17f4df),_0x1a64b7;}}catch(_0x3f3256){this['logger'][_0x3a893e(0x4e8)](_0x3a893e(0x184)+_0x3f3256[_0x3a893e(0x867)]),_0x3f3256['response']&&(_0x1a64b7=_0x3f3256[_0x3a893e(0x408)]['data']);let _0x3cee56=_0x8e3940[_0x3a893e(0x2bc)]['realVariables'],_0x588761=this[_0x3a893e(0x35a)](_0x1a64b7);return Object['assign'](_0x3cee56,_0x588761),_0x8e3940['chatLog'][_0x3a893e(0x148)]=_0x3cee56,_0x17f4df={'error':!0x0,'errorLog':_0x3f3256['toString'](),'apiResponse':_0x1a64b7},this[_0x3a893e(0x215)](_0x8e3940,_0x405717,_0x17f4df),{'success':!0x1};}}[a0_0x3d18fe(0x509)](_0x3c4f33,_0x2cba51){const _0x38359e=a0_0x3d18fe;let _0x24ee76=_0x1584be=>{const _0x561add=a0_0x4a95;let _0x9364a2=_0x1584be[_0x561add(0x5e7)](/[^0-9.,-]/g,'')[_0x561add(0x5e7)](',','.'),_0x111985=parseFloat(_0x9364a2);return isNaN(_0x111985)?null:_0x111985;},_0x11dc2d=_0x2cba51['firstValue'],_0x1ca0b7=_0x2cba51[_0x38359e(0x3b3)];typeof _0x11dc2d==_0x38359e(0x29b)&&(_0x11dc2d=this[_0x38359e(0x32d)](_0x11dc2d,_0x3c4f33['chatLog'][_0x38359e(0x148)])??''),typeof _0x1ca0b7==_0x38359e(0x29b)&&(_0x1ca0b7=this[_0x38359e(0x32d)](_0x1ca0b7,_0x3c4f33[_0x38359e(0x2bc)][_0x38359e(0x148)])??'');let _0x4cdb89=null;if(!_0x2cba51[_0x38359e(0x2af)])return null;switch(this[_0x38359e(0x53d)]['verbose'](this[_0x38359e(0x3b2)]+'\x20('+this['instance'][_0x38359e(0x311)]+'):\x20newFirstValue\x20aps\x20replaceVariables:'+_0x11dc2d),this[_0x38359e(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x38359e(0x7ed)][_0x38359e(0x311)]+_0x38359e(0x2ee)+_0x1ca0b7),_0x2cba51[_0x38359e(0x2af)]){case'+':case'-':case'*':case'/':let _0x17173d=_0x24ee76(_0x11dc2d||'0'),_0x55ec25=_0x24ee76(_0x1ca0b7||'0');if(_0x17173d===null)return null;switch(_0x2cba51[_0x38359e(0x2af)]){case'+':_0x4cdb89=_0x17173d+(_0x55ec25??0x0);break;case'-':_0x4cdb89=_0x17173d-(_0x55ec25??0x0);break;case'*':_0x4cdb89=_0x17173d*(_0x55ec25??0x1);break;case'/':_0x55ec25!==0x0&&(_0x4cdb89=_0x17173d/(_0x55ec25??0x1));break;}break;case'findAndReplace':case _0x38359e(0x7ad):let _0x34ff12=_0x1ca0b7,_0x3c335b=_0x2cba51[_0x38359e(0x5ba)];if(typeof _0x3c335b==_0x38359e(0x29b)&&(_0x3c335b=this['replaceVariables'](_0x3c335b,_0x3c4f33[_0x38359e(0x2bc)][_0x38359e(0x148)])??''),_0x34ff12&&_0x3c335b!==void 0x0){let _0x47e39e=_0x2cba51['editOperator']==='findAndReplace'?new RegExp(_0x34ff12[_0x38359e(0x5e7)](/[-\/\\^$*+?.()|[\]{}]/g,_0x38359e(0x476)),'g'):new RegExp(_0x34ff12,'g');_0x4cdb89=_0x11dc2d['replace'](_0x47e39e,_0x3c335b);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x4cdb89=_0x1ca0b7;break;case _0x38359e(0x6ca):let _0x470fc9=_0x11dc2d[_0x38359e(0x750)](new RegExp(_0x1ca0b7||''));_0x4cdb89=_0x470fc9?_0x470fc9[0x0]:'';break;case'truncatedto':_0x4cdb89=_0x11dc2d[_0x38359e(0x8ad)](0x0,parseInt(_0x1ca0b7||'0'));break;case _0x38359e(0x5a0):let _0x4a0371=parseInt(_0x1ca0b7||'0');_0x4cdb89=_0x11dc2d[_0x38359e(0x8ad)](_0x11dc2d[_0x38359e(0x802)]-_0x4a0371);break;case _0x38359e(0x80a):let _0x23c0f5=_0x24ee76(_0x11dc2d),_0x22667e=parseInt(_0x1ca0b7||'0');_0x22667e=Math[_0x38359e(0x44a)](_0x22667e),_0x23c0f5!==null?_0x4cdb89=_0x23c0f5[_0x38359e(0x2bd)](_0x38359e(0x74c),{'minimumFractionDigits':_0x22667e,'maximumFractionDigits':_0x22667e}):(console[_0x38359e(0x6f8)](_0x38359e(0x6d7)+_0x11dc2d),_0x4cdb89=null);break;case _0x38359e(0x610):let _0xa4c8a7=_0x24ee76(_0x11dc2d);_0xa4c8a7!==null?_0x4cdb89=_0xa4c8a7['toLocaleString'](_0x38359e(0x74c),{'style':'currency','currency':_0x38359e(0x537)}):(console['warn'](_0x38359e(0x841)+_0x11dc2d),_0x4cdb89=null);break;case _0x38359e(0x54d):_0x4cdb89=_0x11dc2d[_0x38359e(0x299)]();break;case _0x38359e(0x86e):_0x4cdb89=_0x11dc2d[_0x38359e(0x12e)]();break;case'capitalizedWords':_0x4cdb89=_0x11dc2d[_0x38359e(0x74f)]('\x20')[_0x38359e(0x82a)](_0x2cb18a=>_0x2cb18a[_0x38359e(0x759)](0x0)['toUpperCase']()+_0x2cb18a[_0x38359e(0x8ad)](0x1)[_0x38359e(0x12e)]())['join']('\x20');break;case _0x38359e(0x530):_0x4cdb89=JSON[_0x38359e(0x6b1)](_0x11dc2d);break;case _0x38359e(0x629):_0x4cdb89=_0x11dc2d[_0x38359e(0x4d9)]();break;default:_0x4cdb89=_0x11dc2d;}return _0x4cdb89!==null?_0x4cdb89[_0x38359e(0x444)]():null;}async['processvaredits'](_0x172e03,_0x4967e7){const _0x1a0ecb=a0_0x3d18fe;try{let _0x5861b7=_0x172e03[_0x1a0ecb(0x18b)]?.[_0x1a0ecb(0x836)](_0x237c19=>_0x237c19[_0x1a0ecb(0x688)]===_0x4967e7[_0x1a0ecb(0x2a2)]?.[_0x1a0ecb(0x444)]())||[],_0x3cf08c=_0x4967e7[_0x1a0ecb(0x446)],_0x586f2a=null,_0xefcec0=[],_0x4b397e=_0x172e03['chatLog']['realVariables'][_0x3cf08c];_0xefcec0['push'](_0x1a0ecb(0x68f)+_0x4b397e+'\x22');for(let _0x3c6c2f of _0x5861b7){_0x3c6c2f[_0x1a0ecb(0x5d6)]=_0x4b397e,_0x586f2a=_0x3c6c2f[_0x1a0ecb(0x5d6)];let _0x46ebe2;try{_0x46ebe2=this[_0x1a0ecb(0x509)](_0x172e03,_0x3c6c2f);}catch(_0x2665d9){this[_0x1a0ecb(0x53d)][_0x1a0ecb(0x4e8)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x2665d9['message']);continue;}if(_0x46ebe2!==null){let _0x932d02=_0x1a0ecb(0x498)+_0x3c6c2f[_0x1a0ecb(0x2af)]+'\x22',_0x19a5e8=[_0x1a0ecb(0x610),_0x1a0ecb(0x54d),_0x1a0ecb(0x86e),_0x1a0ecb(0x2c0),_0x1a0ecb(0x629)];_0x3c6c2f[_0x1a0ecb(0x2af)]===_0x1a0ecb(0x685)||_0x3c6c2f[_0x1a0ecb(0x2af)]===_0x1a0ecb(0x7ad)?_0x932d02+=_0x1a0ecb(0x1be)+_0x3c6c2f['secondValue']+_0x1a0ecb(0x3e7)+_0x3c6c2f[_0x1a0ecb(0x5ba)]+'\x22':!_0x19a5e8['includes'](_0x3c6c2f[_0x1a0ecb(0x2af)])&&_0x3c6c2f[_0x1a0ecb(0x3b3)]!==null&&_0x3c6c2f[_0x1a0ecb(0x3b3)]!==void 0x0&&(_0x932d02+=_0x1a0ecb(0x1bb)+_0x3c6c2f['secondValue']+'\x22'),_0x932d02+=',\x20resultado:\x20'+_0x46ebe2+'.',_0xefcec0[_0x1a0ecb(0x1a4)](_0x932d02);}_0x46ebe2!==null&&(_0x4b397e=_0x46ebe2);}if(_0x172e03[_0x1a0ecb(0x2bc)][_0x1a0ecb(0x148)]&&_0x4967e7[_0x1a0ecb(0x446)]){_0x172e03[_0x1a0ecb(0x2bc)]['realVariables'][_0x4967e7[_0x1a0ecb(0x446)]]=_0x4b397e;let _0x23e552={'variable':_0x4967e7[_0x1a0ecb(0x446)],'oldValue':_0x586f2a,'newValue':_0x4b397e,'moreLogs':_0xefcec0};try{this[_0x1a0ecb(0x215)](_0x172e03,_0x4967e7,_0x23e552);}catch(_0x99010a){this[_0x1a0ecb(0x53d)][_0x1a0ecb(0x4e8)](_0x1a0ecb(0x82f)+_0x99010a[_0x1a0ecb(0x867)]);}}return _0x3cf08c;}catch(_0xa6afca){return this['logger'][_0x1a0ecb(0x4e8)](_0x1a0ecb(0x84d)+_0xa6afca[_0x1a0ecb(0x867)]),null;}}async[a0_0x3d18fe(0x7a0)](_0x2cd74b,_0x1f2b29){const _0x29ed1f=a0_0x3d18fe;try{let _0x4750a7=[],_0x74afc9=_0x2cd74b[_0x29ed1f(0x536)][_0x29ed1f(0x836)](_0x30385f=>_0x30385f[_0x29ed1f(0x688)]===_0x1f2b29[_0x29ed1f(0x2a2)][_0x29ed1f(0x444)]()),_0x134174=null,_0x404d12=!0x1;for(let _0x305770 of _0x74afc9){let _0x48f8cb=this['evaluateCondition'](_0x2cd74b,_0x305770);_0x4750a7[_0x29ed1f(0x1a4)](_0x29ed1f(0x492)+_0x305770[_0x29ed1f(0x5d6)]+_0x29ed1f(0x7bb)+_0x305770[_0x29ed1f(0x56b)]+_0x29ed1f(0x4c7)+_0x305770[_0x29ed1f(0x3b3)]+_0x29ed1f(0x143)+_0x48f8cb),_0x134174===null?_0x134174=_0x48f8cb:_0x305770[_0x29ed1f(0x465)]==='and'?(_0x134174=_0x134174&&_0x48f8cb,_0x48f8cb||(_0x404d12=!0x0)):_0x305770[_0x29ed1f(0x465)]==='or'&&(_0x404d12||(_0x134174=_0x134174||_0x48f8cb));}_0x134174===null&&(_0x134174=!0x0);let _0x6560b4={'moreLogs':_0x4750a7};_0x2cd74b['chatLog'][_0x29ed1f(0x643)]=_0x134174,await this[_0x29ed1f(0x215)](_0x2cd74b,_0x1f2b29,_0x6560b4);}catch(_0x5dcc98){this['logger'][_0x29ed1f(0x4e8)](this[_0x29ed1f(0x3b2)]+'\x20('+this[_0x29ed1f(0x7ed)][_0x29ed1f(0x311)]+_0x29ed1f(0x87d)+(_0x5dcc98 instanceof Error?_0x5dcc98[_0x29ed1f(0x867)]:JSON[_0x29ed1f(0x6b1)](_0x5dcc98,null,0x2)));}}['evaluateCondition'](_0x376623,_0x52b18e){const _0x1e7c55=a0_0x3d18fe;let _0x366d17=_0x52b18e[_0x1e7c55(0x5d6)],_0x5495e1=_0x52b18e[_0x1e7c55(0x3b3)];typeof _0x366d17==_0x1e7c55(0x29b)&&(_0x366d17=this[_0x1e7c55(0x32d)](_0x366d17,_0x376623[_0x1e7c55(0x2bc)][_0x1e7c55(0x148)])??''),typeof _0x5495e1==_0x1e7c55(0x29b)&&(_0x5495e1=this['replaceVariables'](_0x5495e1,_0x376623[_0x1e7c55(0x2bc)][_0x1e7c55(0x148)])??'');try{switch(_0x52b18e[_0x1e7c55(0x56b)]){case _0x1e7c55(0x69a):return _0x366d17===_0x5495e1;case _0x1e7c55(0x81d):return _0x366d17!==_0x5495e1;case _0x1e7c55(0x350):return this['contains'](_0x366d17,_0x5495e1);case'notContains':return!this[_0x1e7c55(0x350)](_0x366d17,_0x5495e1);case _0x1e7c55(0x6c7):return parseFloat(_0x366d17)>parseFloat(_0x5495e1);case _0x1e7c55(0x4ff):return parseFloat(_0x366d17)<parseFloat(_0x5495e1);case _0x1e7c55(0x452):return _0x366d17!=='';case _0x1e7c55(0x866):return _0x366d17==='';case _0x1e7c55(0x45b):return new RegExp(_0x5495e1)[_0x1e7c55(0x386)](_0x366d17);case'notMatchRegex':return!new RegExp(_0x5495e1)[_0x1e7c55(0x386)](_0x366d17);default:return!0x1;}}catch(_0x5dad2b){return this['logger'][_0x1e7c55(0x4e8)](_0x1e7c55(0x4f1)+_0x5dad2b),!0x1;}}[a0_0x3d18fe(0x350)](_0x5918ed,_0x9b4446){const _0x3bd41a=a0_0x3d18fe;if(_0x5918ed===_0x9b4446&&/^\d+$/[_0x3bd41a(0x386)](_0x5918ed))return!0x0;if(this[_0x3bd41a(0x707)](_0x5918ed)&&/^\d+$/['test'](_0x9b4446)){let _0x1e1fa0=_0x5918ed['split'](',')[_0x3bd41a(0x82a)](_0x26c4bb=>parseInt(_0x26c4bb[_0x3bd41a(0x4d9)]())),_0x503e67=parseInt(_0x9b4446);return _0x1e1fa0['includes'](_0x503e67);}return _0x5918ed['includes'](_0x9b4446);}['isListOfNumbers'](_0x55097c){return/^\d+(,\d+)*$/['test'](_0x55097c);}[a0_0x3d18fe(0x562)](_0x488075){const _0x534554=a0_0x3d18fe;let _0x5a7fb4=!0x0,_0x2bfcc5=null;for(let _0x180667 of _0x488075){let _0x3e0a1d=this[_0x534554(0x4b5)](_0x180667);if(_0x2bfcc5==='or'&&_0x3e0a1d){_0x5a7fb4=!0x0;break;}if(_0x2bfcc5==='and'&&!_0x3e0a1d){_0x5a7fb4=!0x1;break;}_0x2bfcc5=_0x180667['OrAnd'];}return _0x5a7fb4;}[a0_0x3d18fe(0x4b5)](_0x266914){const _0x23b834=a0_0x3d18fe;let _0x35a4f2=_0x266914[_0x23b834(0x5d6)],_0x305f8f=_0x266914[_0x23b834(0x3b3)];try{switch(_0x266914[_0x23b834(0x56b)]){case _0x23b834(0x69a):return String(_0x35a4f2)===String(_0x305f8f);case _0x23b834(0x81d):return String(_0x35a4f2)!==String(_0x305f8f);case'contains':return String(_0x35a4f2)[_0x23b834(0x3f1)](String(_0x305f8f));case'notContains':return!String(_0x35a4f2)['includes'](String(_0x305f8f));case'greater':return parseFloat(String(_0x35a4f2))>parseFloat(String(_0x305f8f));case _0x23b834(0x4ff):return parseFloat(String(_0x35a4f2))<parseFloat(String(_0x305f8f));case _0x23b834(0x452):return String(_0x35a4f2)!=='';case'empty':return String(_0x35a4f2)==='';case _0x23b834(0x45b):return new RegExp(String(_0x305f8f))[_0x23b834(0x386)](String(_0x35a4f2));case _0x23b834(0x135):return!new RegExp(String(_0x305f8f))[_0x23b834(0x386)](String(_0x35a4f2));default:return!0x1;}}catch(_0x453fa5){return this[_0x23b834(0x53d)][_0x23b834(0x4e8)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x453fa5),!0x1;}}async[a0_0x3d18fe(0x282)](_0x475a04,_0x53b37a){const _0x15e7f9=a0_0x3d18fe;if(this[_0x15e7f9(0x53d)][_0x15e7f9(0x75e)](this[_0x15e7f9(0x3b2)]+'\x20('+this['instance'][_0x15e7f9(0x311)]+_0x15e7f9(0x819)),!_0x475a04||!_0x53b37a)return this[_0x15e7f9(0x53d)][_0x15e7f9(0x4e8)](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)]['wuid']+_0x15e7f9(0x818)),null;let _0x5b9766=_0x475a04['chatLog'][_0x15e7f9(0x4d1)][_0x15e7f9(0x406)]['id'];this[_0x15e7f9(0x53d)][_0x15e7f9(0x75e)](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)]['wuid']+_0x15e7f9(0x468)+_0x5b9766);let _0xa8709={'key':{'id':_0x5b9766}},_0x21a5a1=_0x53b37a['saveVariable'];_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x148)]['_'+_0x21a5a1+'.fileUrl']=null,_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x148)]['_'+_0x21a5a1+'.mimetype']=null,_0x475a04[_0x15e7f9(0x2bc)]['realVariables']['_'+_0x21a5a1+_0x15e7f9(0x600)]=null,_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x148)]['_'+_0x21a5a1+_0x15e7f9(0x57a)]=_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x4d1)]['type'];try{let _0x126d13=await this['getBase64FromMediaMessage'](_0xa8709);this[_0x15e7f9(0x53d)][_0x15e7f9(0x75e)](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)]['wuid']+_0x15e7f9(0x882)),_0x475a04[_0x15e7f9(0x2bc)]['realVariables']['_'+_0x21a5a1+_0x15e7f9(0x24e)]=_0x126d13[_0x15e7f9(0x8a7)],_0x475a04[_0x15e7f9(0x2bc)]['realVariables']['_'+_0x21a5a1+_0x15e7f9(0x330)]=_0x126d13[_0x15e7f9(0x49c)];let _0x3f2afd=_0x126d13[_0x15e7f9(0x49c)][_0x15e7f9(0x750)](/\/(\w+)$/),_0x50bf01=_0x3f2afd?_0x3f2afd[0x1]:null;_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x148)]['_'+_0x21a5a1+_0x15e7f9(0x600)]=_0x50bf01,this[_0x15e7f9(0x53d)][_0x15e7f9(0x75e)](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)][_0x15e7f9(0x311)]+_0x15e7f9(0x585)+_0x21a5a1+'\x27.');}catch(_0x40af45){this[_0x15e7f9(0x53d)][_0x15e7f9(0x4e8)](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)]['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20'+_0x40af45['message']);}let _0x176642=_0x475a04['chatLog'][_0x15e7f9(0x4d1)]['text']||_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x4d1)][_0x15e7f9(0x5ff)]||_0x475a04[_0x15e7f9(0x2bc)]['lastReceivedMessage']['vote'];try{_0x475a04['chatLog'][_0x15e7f9(0x148)]||(_0x475a04[_0x15e7f9(0x2bc)][_0x15e7f9(0x148)]={});let _0x25b71c=_0x475a04['chatLog']['realVariables'][_0x21a5a1];_0x475a04['chatLog'][_0x15e7f9(0x148)][_0x21a5a1]=_0x176642;let _0x31921f={'variable':_0x21a5a1,'oldValue':_0x25b71c,'newValue':_0x176642};this[_0x15e7f9(0x215)](_0x475a04,_0x53b37a,_0x31921f),this[_0x15e7f9(0x53d)]['verbose'](this[_0x15e7f9(0x3b2)]+'\x20('+this[_0x15e7f9(0x7ed)][_0x15e7f9(0x311)]+'):\x20Conversa\x20atualizada\x20em\x20memria');}catch(_0x30677a){let _0x359d71={'error':!0x0,'errorLog':_0x30677a[_0x15e7f9(0x444)]()};return this['updateConversation'](_0x475a04,_0x53b37a,_0x359d71),this[_0x15e7f9(0x53d)][_0x15e7f9(0x4e8)](this['instanceName']+'\x20('+this[_0x15e7f9(0x7ed)][_0x15e7f9(0x311)]+_0x15e7f9(0x5f1)+(_0x30677a instanceof Error?_0x30677a[_0x15e7f9(0x867)]:JSON['stringify'](_0x30677a,null,0x2))),null;}}async[a0_0x3d18fe(0x5a4)](_0x1ebc08,_0x4f95bd){const _0x3ca30c=a0_0x3d18fe;if(this[_0x3ca30c(0x53d)][_0x3ca30c(0x75e)](this[_0x3ca30c(0x3b2)]+'\x20('+this['instance'][_0x3ca30c(0x311)]+_0x3ca30c(0x65e)),!_0x1ebc08||!_0x4f95bd)return this[_0x3ca30c(0x53d)]['error'](this[_0x3ca30c(0x3b2)]+'\x20('+this[_0x3ca30c(0x7ed)][_0x3ca30c(0x311)]+_0x3ca30c(0x818)),null;let _0x4e0075=Date[_0x3ca30c(0x7f3)](),_0x419cbe=parseInt(_0x4f95bd['stopMinutes'],0xa);if(isNaN(_0x419cbe))return this[_0x3ca30c(0x53d)][_0x3ca30c(0x4e8)](this[_0x3ca30c(0x3b2)]+'\x20('+this[_0x3ca30c(0x7ed)][_0x3ca30c(0x311)]+_0x3ca30c(0x17f)),null;let _0x23bcdb={'newStoppedUntil':_0x4e0075+_0x419cbe*0x3c*0x3e8};return await this[_0x3ca30c(0x215)](_0x1ebc08,_0x4f95bd,_0x23bcdb,!0x0),null;}async[a0_0x3d18fe(0x6b7)](_0x1671ce,_0x56f32f){const _0x22bcfa=a0_0x3d18fe;try{switch(_0x56f32f[_0x22bcfa(0x808)][_0x22bcfa(0x825)]){case _0x22bcfa(0x796):await this[_0x22bcfa(0x718)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x284):await this[_0x22bcfa(0x50c)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x757):await this[_0x22bcfa(0x22d)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x7e3):await this[_0x22bcfa(0x13d)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x7c3):await this[_0x22bcfa(0x26a)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x2e5):await this['uazapiSendMenu'](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x45c):await this[_0x22bcfa(0x2d5)](_0x1671ce,_0x56f32f);break;case _0x22bcfa(0x784):await this[_0x22bcfa(0x5d5)](_0x1671ce,_0x56f32f);break;default:this[_0x22bcfa(0x53d)][_0x22bcfa(0x4e8)](this[_0x22bcfa(0x3b2)]+'\x20('+this[_0x22bcfa(0x7ed)][_0x22bcfa(0x311)]+_0x22bcfa(0x132)+_0x56f32f[_0x22bcfa(0x808)][_0x22bcfa(0x825)]);}}catch(_0x24feb3){this[_0x22bcfa(0x53d)][_0x22bcfa(0x4e8)](this[_0x22bcfa(0x3b2)]+'\x20('+this[_0x22bcfa(0x7ed)][_0x22bcfa(0x311)]+_0x22bcfa(0x3b6)+(_0x24feb3 instanceof Error?_0x24feb3[_0x22bcfa(0x867)]:JSON[_0x22bcfa(0x6b1)](_0x24feb3,null,0x2)));}}async[a0_0x3d18fe(0x215)](_0x214761,_0x5a8a27,_0x5db910,_0x295bba=!0x1,_0x26bac0=!0x1){const _0x2faea3=a0_0x3d18fe;_0x214761['chatLog'][_0x2faea3(0x7fc)]||(_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x7fc)]=[]);let _0x66935c=(_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x7fc)]?.['length']??0x0)+0x1,_0x1a2fd1=_0x214761[_0x2faea3(0x2bc)]['blockLogs']['filter'](_0x35ea65=>String(_0x35ea65[_0x2faea3(0x688)])===String(_0x5a8a27[_0x2faea3(0x2a2)]))[_0x2faea3(0x802)]+0x1,_0x1153f7=_0x5db910?.[_0x2faea3(0x5ed)]??Date[_0x2faea3(0x7f3)](),_0x483ee4=_0x5db910?.['error']?_0x5db910['errorLog']??_0x5db910[_0x2faea3(0x4e8)][_0x2faea3(0x444)]():void 0x0,_0x2ede7c={'onTime':_0x1153f7,'blockId':_0x5a8a27[_0x2faea3(0x2a2)],'order':_0x66935c,'activatedCount':_0x1a2fd1,'error':_0x5db910?.[_0x2faea3(0x4e8)]??!0x1,'messageId':_0x5db910?.['messageId'],'apiResponse':_0x5db910?.['apiResponse'],'apiResponseString':_0x5db910?.[_0x2faea3(0x419)]?JSON['stringify'](_0x5db910?.[_0x2faea3(0x419)]):void 0x0,'variable':_0x5db910?.[_0x2faea3(0x89c)],'oldValue':_0x5db910?.['oldValue'],'newValue':_0x5db910?.[_0x2faea3(0x7d1)],'newStoppedUntil':_0x5db910?.[_0x2faea3(0x275)],'moreLogs':_0x5db910?.[_0x2faea3(0x1b8)],'errorLog':_0x483ee4};if(_0x5db910[_0x2faea3(0x1b8)]&&_0x5db910[_0x2faea3(0x1b8)][_0x2faea3(0x802)]>0x0){let _0x3cd180=_0x5db910[_0x2faea3(0x1b8)][_0x2faea3(0x82a)](_0x19c038=>this[_0x2faea3(0x4ee)](_0x19c038,_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x148)]));_0x2ede7c[_0x2faea3(0x1b8)]=_0x3cd180;}if(_0x214761[_0x2faea3(0x2bc)]['realVariables']||(_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x148)]={}),_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x148)][_0x2faea3(0x470)]=String(_0x1a2fd1),_0x214761[_0x2faea3(0x2bc)]['realVariables'][_0x2faea3(0x1d3)]=String(_0x5db910[_0x2faea3(0x4e8)]??!0x1),_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x7fc)][_0x2faea3(0x1a4)](_0x2ede7c),_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x148)][_0x2faea3(0x7a1)]&&_0x214761[_0x2faea3(0x2bc)]['realVariables'][_0x2faea3(0x7a1)]!==_0x214761[_0x2faea3(0x7f9)]){let _0x549c42=(await this[_0x2faea3(0x679)]({'numbers':[_0x214761['chatLog'][_0x2faea3(0x148)][_0x2faea3(0x7a1)]]}))[0x0][_0x2faea3(0x857)];_0x214761[_0x2faea3(0x2bc)]['realVariables'][_0x2faea3(0x7a1)]=_0x549c42,_0x214761[_0x2faea3(0x7f9)]=_0x549c42;try{let _0x4a5a0b={'_id':{'$ne':_0x214761[_0x2faea3(0x2a2)]},'remoteJid':_0x549c42,'status':'open'},_0x119440={'status':_0x2faea3(0x89f)};await this[_0x2faea3(0x827)][_0x2faea3(0x194)][_0x2faea3(0x772)](_0x4a5a0b,_0x119440,this[_0x2faea3(0x7ed)][_0x2faea3(0x311)]),this[_0x2faea3(0x53d)]['verbose'](this[_0x2faea3(0x3b2)]+'\x20('+this[_0x2faea3(0x7ed)][_0x2faea3(0x311)]+_0x2faea3(0x6f9));}catch(_0x416575){this['logger'][_0x2faea3(0x4e8)](this[_0x2faea3(0x3b2)]+'\x20('+this[_0x2faea3(0x7ed)][_0x2faea3(0x311)]+_0x2faea3(0x5c2)+_0x416575[_0x2faea3(0x867)]);}try{let _0x12e51f=_0x214761['chatLog'][_0x2faea3(0x148)],_0x1fcaae=await this[_0x2faea3(0x728)](_0x549c42),_0x2dab8e={..._0x12e51f,..._0x1fcaae,'_remoteJid':_0x549c42};_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x148)]=_0x2dab8e;}catch(_0x3e60d6){this[_0x2faea3(0x53d)]['error'](this[_0x2faea3(0x3b2)]+'\x20('+this[_0x2faea3(0x7ed)]['wuid']+_0x2faea3(0x4ec)+_0x3e60d6['message']);}}_0x214761['chatLog'][_0x2faea3(0x43e)]=_0x5a8a27[_0x2faea3(0x2a2)][_0x2faea3(0x444)](),_0x214761['chatLog'][_0x2faea3(0x2a9)]&&(_0x214761[_0x2faea3(0x2bc)]['lastSendMessage']=_0x214761['chatLog'][_0x2faea3(0x2a9)]),_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x4d1)]&&(_0x214761[_0x2faea3(0x2bc)]['lastReceivedMessage']=_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x4d1)]),_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x643)]&&(_0x214761[_0x2faea3(0x2bc)][_0x2faea3(0x643)]=_0x214761['chatLog'][_0x2faea3(0x643)]),_0x26bac0&&(_0x214761[_0x2faea3(0x1b2)]=_0x2faea3(0x89f)),_0x295bba?this['saveConversationToDatabase'](_0x214761):this[_0x2faea3(0x4aa)](_0x214761,_0x5a8a27);}['replaceVariablesLogs'](_0x347e59,_0x112288){const _0x438fa=a0_0x3d18fe;return _0x347e59['replace'](/\{\{([^}]+)\}\}/g,(_0xcdb5c8,_0x207446)=>_0x112288[_0x207446]?'{{'+_0x207446+'}}\x20->\x20\x22'+_0x112288[_0x207446]+'\x22':'{{'+_0x207446+_0x438fa(0x1b0));}async['saveConversationToDatabase'](_0x4a2315){const _0x17d31d=a0_0x3d18fe;try{let _0xf5515d=Object[_0x17d31d(0x6ed)](_0x4a2315[_0x17d31d(0x2bc)]['realVariables'])[_0x17d31d(0x82a)](([_0x8501fe,_0x14771e])=>({'name':_0x8501fe,'value':_0x14771e})),_0x11f872={'status':_0x4a2315[_0x17d31d(0x1b2)],'remoteJid':_0x4a2315[_0x17d31d(0x7f9)],'blocks':_0x4a2315[_0x17d31d(0x30c)],'waitingMenu_id':_0x4a2315['waitingMenu_id'],'waitingMenu_text':_0x4a2315[_0x17d31d(0x33d)],'waitingMenu_replyOptions':_0x4a2315[_0x17d31d(0x1ec)],'chatLog':{'lastBlockId':_0x4a2315['chatLog'][_0x17d31d(0x43e)],'lastSendMessage':_0x4a2315[_0x17d31d(0x2bc)][_0x17d31d(0x2a9)],'lastReceivedMessage':_0x4a2315[_0x17d31d(0x2bc)][_0x17d31d(0x4d1)],'lastCondition':_0x4a2315[_0x17d31d(0x2bc)][_0x17d31d(0x643)],'chatVariables':_0xf5515d,'realVariables':_0x4a2315['chatLog'][_0x17d31d(0x148)],'blockLogs':_0x4a2315['chatLog']['blockLogs']}},_0x2d390d=await this['repository'][_0x17d31d(0x194)][_0x17d31d(0x442)](_0x4a2315[_0x17d31d(0x2a2)],_0x11f872,this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]);if(_0x2d390d){this[_0x17d31d(0x53d)][_0x17d31d(0x75e)](this[_0x17d31d(0x3b2)]+'\x20('+this['instance']['wuid']+_0x17d31d(0x4b1)+_0x2d390d[_0x17d31d(0x2a2)]);try{let _0x5c7596=['nome','nomecompleto',_0x17d31d(0x1f1),_0x17d31d(0x4fd),_0x17d31d(0x1b2),_0x17d31d(0x667),_0x17d31d(0x5dd),_0x17d31d(0x35e),_0x17d31d(0x3fd),_0x17d31d(0x14b)];if(!this[_0x17d31d(0x22f)]&&(await this[_0x17d31d(0x81e)](),!this[_0x17d31d(0x22f)]))throw new Error(_0x17d31d(0x3a0));let _0x5d376c=this['AutomateSystem']?.[_0x17d31d(0x708)][_0x17d31d(0x82a)](_0x461af3=>_0x461af3[_0x17d31d(0x2f6)]),_0x2355c3={};Object[_0x17d31d(0x6ed)](_0x4a2315[_0x17d31d(0x2bc)][_0x17d31d(0x148)])[_0x17d31d(0x358)](([_0x4ac2f5,_0x1a71a0])=>{const _0x4fa58e=_0x17d31d;_0x5c7596[_0x4fa58e(0x3f1)](_0x4ac2f5)&&(_0x4ac2f5===_0x4fa58e(0x35e)&&typeof _0x1a71a0==_0x4fa58e(0x29b)?_0x2355c3[_0x4ac2f5]=_0x1a71a0[_0x4fa58e(0x74f)](',')[_0x4fa58e(0x82a)](_0x17c4ba=>_0x17c4ba['trim']())[_0x4fa58e(0x836)](_0x19e991=>_0x19e991!==''):_0x4ac2f5===_0x4fa58e(0x3fd)&&typeof _0x1a71a0==_0x4fa58e(0x29b)?_0x2355c3[_0x4ac2f5]=_0x1a71a0[_0x4fa58e(0x74f)](',')['map'](_0x19d47f=>_0x19d47f[_0x4fa58e(0x4d9)]())[_0x4fa58e(0x836)](_0x2d4c60=>_0x2d4c60!==''):_0x2355c3[_0x4ac2f5]=_0x1a71a0);});let _0x75812=_0x4a2315[_0x17d31d(0x2bc)]['blockLogs'][_0x4a2315[_0x17d31d(0x2bc)]['blockLogs'][_0x17d31d(0x802)]-0x1];if(_0x75812){let _0x3912ec=_0x75812['newStoppedUntil'];_0x3912ec!==void 0x0&&(_0x2355c3[_0x17d31d(0x4ed)]=_0x3912ec['toString']());}let _0x3d4768=_0xf5515d['filter'](_0x5cbe8d=>_0x5d376c['includes'](_0x5cbe8d[_0x17d31d(0x2f6)]));this[_0x17d31d(0x53d)][_0x17d31d(0x75e)](this[_0x17d31d(0x3b2)]+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+'):\x20leadInfoVariables'),this[_0x17d31d(0x53d)]['verbose'](_0x2355c3),this['logger'][_0x17d31d(0x75e)](this[_0x17d31d(0x3b2)]+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+'):\x20customFieldVariables'),this[_0x17d31d(0x53d)][_0x17d31d(0x75e)](_0x3d4768);let _0x3d7988=_0x3d4768['map'](_0x3e834c=>{const _0x3a8544=_0x17d31d;let _0xd8ed2e=this[_0x3a8544(0x22f)]?.[_0x3a8544(0x708)][_0x3a8544(0x80c)](_0x400868=>_0x400868[_0x3a8544(0x2f6)]===_0x3e834c[_0x3a8544(0x2f6)]);if(!_0xd8ed2e)throw new Error(_0x3a8544(0x59f)+_0x3e834c['name']);return{'_id':_0xd8ed2e['_id'],'value':_0x3e834c[_0x3a8544(0x50b)]};});this[_0x17d31d(0x53d)][_0x17d31d(0x75e)](this['instanceName']+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+_0x17d31d(0x5bf)),this[_0x17d31d(0x53d)][_0x17d31d(0x75e)](_0x3d7988),await this['saveChatVariables'](_0x4a2315['remoteJid'],_0x2355c3,_0x3d7988);}catch(_0x151a60){this['logger']['error'](this['instanceName']+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x151a60 instanceof Error?_0x151a60[_0x17d31d(0x867)]:JSON[_0x17d31d(0x6b1)](_0x151a60,null,0x2)));}}else this[_0x17d31d(0x53d)][_0x17d31d(0x4e8)](this[_0x17d31d(0x3b2)]+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+_0x17d31d(0x33e));}catch(_0x398703){this['logger'][_0x17d31d(0x4e8)](this[_0x17d31d(0x3b2)]+'\x20('+this[_0x17d31d(0x7ed)][_0x17d31d(0x311)]+_0x17d31d(0x3fb)+(_0x398703 instanceof Error?_0x398703['message']:JSON[_0x17d31d(0x6b1)](_0x398703,null,0x2)));}}async[a0_0x3d18fe(0x30a)](_0x831b3a,_0x54a436,_0x239fd5){const _0x3541ba=a0_0x3d18fe;try{let _0x718614={'leadInfo.leadnome':_0x54a436['nome'],'leadInfo.nomecompleto':_0x54a436[_0x3541ba(0x2f7)],'leadInfo.email':_0x54a436[_0x3541ba(0x1f1)],'leadInfo.cpf':_0x54a436['cpf'],'leadInfo.status':_0x54a436[_0x3541ba(0x1b2)],'leadInfo.notas':_0x54a436[_0x3541ba(0x667)],'leadInfo.responsavelid':_0x54a436['responsavelid'],'leadInfo.tags':_0x54a436[_0x3541ba(0x35e)],'leadInfo.etiquetas':_0x54a436[_0x3541ba(0x3fd)],'leadInfo.customFields':_0x239fd5,'leadInfo.atendimentoAberto':_0x54a436[_0x3541ba(0x14b)]},_0x20fa05=await this[_0x3541ba(0x827)][_0x3541ba(0x1cd)][_0x3541ba(0x648)]({'where':{'_id':_0x831b3a}},this[_0x3541ba(0x7ed)][_0x3541ba(0x311)]);if(!_0x20fa05)return _0x3541ba(0x86d);let _0x96591f=new Set(_0x20fa05[_0x3541ba(0x518)][_0x3541ba(0x3fd)]||[]),_0x252082=new Set(_0x54a436[_0x3541ba(0x3fd)]||[]),_0x288c7d=await this[_0x3541ba(0x827)][_0x3541ba(0x589)]['find']({'where':{}},this[_0x3541ba(0x7ed)][_0x3541ba(0x311)]),_0x210f5f=new Set(_0x288c7d[_0x3541ba(0x82a)](_0x39566b=>_0x39566b[_0x3541ba(0x2a2)])),_0x14439f=[..._0x252082][_0x3541ba(0x836)](_0x2b927a=>!_0x96591f[_0x3541ba(0x146)](_0x2b927a)&&_0x210f5f[_0x3541ba(0x146)](_0x2b927a)),_0x284271=[..._0x96591f][_0x3541ba(0x836)](_0x4d9474=>!_0x252082['has'](_0x4d9474));for(let _0x38a2e7 of _0x14439f)await this[_0x3541ba(0x654)](_0x38a2e7,_0x20fa05['_id']),_0x96591f[_0x3541ba(0x4b0)](_0x38a2e7);for(let _0x5d2fc8 of _0x284271)await this[_0x3541ba(0x312)](_0x5d2fc8,_0x20fa05[_0x3541ba(0x2a2)]),_0x96591f['delete'](_0x5d2fc8);if('desativadoFluxoAte'in _0x54a436){let _0x2fee7b=_0x54a436[_0x3541ba(0x4ed)];_0x718614[_0x3541ba(0x617)]=_0x2fee7b?Number(_0x2fee7b):null;}if(_0x3541ba(0x14b)in _0x54a436){let _0x1bcfbe=_0x54a436[_0x3541ba(0x14b)][_0x3541ba(0x12e)]();_0x718614[_0x3541ba(0x50a)]=_0x1bcfbe===_0x3541ba(0x2ab)||_0x1bcfbe==='1'||_0x1bcfbe===_0x3541ba(0x8a0)||_0x1bcfbe===_0x3541ba(0x5c0);}let _0x294919=await this[_0x3541ba(0x827)][_0x3541ba(0x1cd)][_0x3541ba(0x442)]({'where':{'_id':_0x831b3a}},_0x718614,this['instance'][_0x3541ba(0x311)]);_0x294919?(this[_0x3541ba(0x53d)][_0x3541ba(0x75e)](this['instanceName']+'\x20('+this[_0x3541ba(0x7ed)][_0x3541ba(0x311)]+_0x3541ba(0x53a)+_0x294919[_0x3541ba(0x2a2)]),F(this[_0x3541ba(0x3b2)],'chats',{'chat':_0x294919})):this[_0x3541ba(0x53d)][_0x3541ba(0x4e8)](this['instanceName']+'\x20('+this[_0x3541ba(0x7ed)][_0x3541ba(0x311)]+_0x3541ba(0x1df));}catch(_0x3445ec){this[_0x3541ba(0x53d)][_0x3541ba(0x4e8)](this[_0x3541ba(0x3b2)]+'\x20('+this[_0x3541ba(0x7ed)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3445ec instanceof Error?_0x3445ec[_0x3541ba(0x867)]:JSON[_0x3541ba(0x6b1)](_0x3445ec,null,0x2)));}}async['updateStopChat'](_0x277349,_0x50612c){const _0x19a0e6=a0_0x3d18fe;this['logger'][_0x19a0e6(0x75e)](this[_0x19a0e6(0x3b2)]+'\x20('+this[_0x19a0e6(0x7ed)][_0x19a0e6(0x311)]+_0x19a0e6(0x82e)+_0x50612c);try{let _0x47a45d=await this[_0x19a0e6(0x827)][_0x19a0e6(0x1cd)]['updateOne']({'where':{'_id':_0x277349['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x50612c},this[_0x19a0e6(0x7ed)][_0x19a0e6(0x311)]);this['logger'][_0x19a0e6(0x75e)](this[_0x19a0e6(0x3b2)]+'\x20('+this['instance'][_0x19a0e6(0x311)]+_0x19a0e6(0x761)+_0x277349[_0x19a0e6(0x2a2)]),this[_0x19a0e6(0x53d)][_0x19a0e6(0x75e)](this['instanceName']+'\x20('+this[_0x19a0e6(0x7ed)][_0x19a0e6(0x311)]+_0x19a0e6(0x82e)+JSON[_0x19a0e6(0x6b1)](_0x47a45d,null,0x2)),_0x47a45d&&F(this[_0x19a0e6(0x3b2)],_0x19a0e6(0x765),{'chat':_0x47a45d});}catch(_0x2d7226){this['logger'][_0x19a0e6(0x4e8)](this[_0x19a0e6(0x3b2)]+'\x20('+this[_0x19a0e6(0x7ed)][_0x19a0e6(0x311)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x2d7226 instanceof Error?_0x2d7226['message']:JSON[_0x19a0e6(0x6b1)](_0x2d7226,null,0x2)));}}async['findFlow'](_0x20113c){const _0x2f2ea1=a0_0x3d18fe;try{this['logger'][_0x2f2ea1(0x75e)](this[_0x2f2ea1(0x3b2)]+'\x20('+this[_0x2f2ea1(0x7ed)][_0x2f2ea1(0x311)]+'):\x20Buscando\x20flow...');let _0x2dddf7=_0x20113c[_0x2f2ea1(0x5e7)](/\D/g,''),_0x16612b=this['AutomateSystem'][_0x2f2ea1(0x76a)][_0x2f2ea1(0x80c)](_0x2e7e83=>_0x2e7e83[_0x2f2ea1(0x65d)]===_0x2dddf7);if(_0x16612b||(this['logger'][_0x2f2ea1(0x75e)](this[_0x2f2ea1(0x3b2)]+'\x20('+this[_0x2f2ea1(0x7ed)][_0x2f2ea1(0x311)]+_0x2f2ea1(0x803)),_0x16612b=this['AutomateSystem'][_0x2f2ea1(0x76a)][_0x2f2ea1(0x80c)](_0x17ebab=>_0x17ebab[_0x2f2ea1(0x62f)]===!0x0)),!_0x16612b)return this['logger'][_0x2f2ea1(0x75e)](this[_0x2f2ea1(0x3b2)]+'\x20('+this['instance'][_0x2f2ea1(0x311)]+'):\x20No\x20achou\x20nenhum\x20flow'),null;let _0x23db25=await this[_0x2f2ea1(0x827)][_0x2f2ea1(0x21d)][_0x2f2ea1(0x648)]({'where':{'_id':_0x16612b[_0x2f2ea1(0x2a2)]}});if(!_0x23db25||!_0x23db25[_0x2f2ea1(0x221)]?.['includes'](this['instance'][_0x2f2ea1(0x311)]))throw this[_0x2f2ea1(0x53d)][_0x2f2ea1(0x4e8)](this[_0x2f2ea1(0x3b2)]+'\x20('+this['instance'][_0x2f2ea1(0x311)]+_0x2f2ea1(0x5f2)+_0x23db25[_0x2f2ea1(0x2a2)]+_0x2f2ea1(0x7c5)),new m(_0x2f2ea1(0x38a)+_0x23db25[_0x2f2ea1(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');return _0x23db25;}catch(_0xe285d){return this[_0x2f2ea1(0x53d)][_0x2f2ea1(0x4e8)](this['instanceName']+'\x20('+this[_0x2f2ea1(0x7ed)][_0x2f2ea1(0x311)]+_0x2f2ea1(0x890)+(_0xe285d instanceof Error?_0xe285d[_0x2f2ea1(0x867)]:JSON[_0x2f2ea1(0x6b1)](_0xe285d,null,0x2))),null;}}async[a0_0x3d18fe(0x75b)](_0x5451fc,_0x2fe36a){const _0x533c78=a0_0x3d18fe;try{let _0x4ca47d=!!_0x2fe36a['vote'],_0x1204ea=_0x2fe36a[_0x533c78(0x6f3)],_0x51a601=null;if(this[_0x533c78(0x53d)]['verbose'](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)][_0x533c78(0x311)]+_0x533c78(0x89e)+_0x4ca47d+_0x533c78(0x1a5)+_0x1204ea),_0x4ca47d){this[_0x533c78(0x53d)][_0x533c78(0x75e)](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)]['wuid']+_0x533c78(0x12c));let _0x153a95={'where':{'remoteJid':_0x5451fc,'waitingMenu_id':_0x1204ea}};if(_0x51a601=await this[_0x533c78(0x827)][_0x533c78(0x194)][_0x533c78(0x648)](_0x153a95,this[_0x533c78(0x7ed)]['wuid']),!_0x51a601)return this['logger'][_0x533c78(0x75e)](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)]['wuid']+_0x533c78(0x1a2)),null;let _0x2c0570=Date[_0x533c78(0x7f3)](),_0x3fb4ef=_0x51a601?.[_0x533c78(0x649)]||0x0,_0x56b5af=_0x2c0570-_0x3fb4ef*0x3c*0x3e8;if(_0x51a601[_0x533c78(0x55a)]<_0x56b5af){this[_0x533c78(0x53d)][_0x533c78(0x75e)](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)]['wuid']+_0x533c78(0x525));let _0x508801={'number':_0x51a601[_0x533c78(0x7f9)],'options':{'delay':0x0},'textMessage':{'text':_0x51a601[_0x533c78(0x26b)]}};await this[_0x533c78(0x6b3)](_0x508801);let _0x406c81={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x533c78(0x442)](_0x51a601[_0x533c78(0x2a2)],_0x406c81,this['instance'][_0x533c78(0x311)]),null;}return _0x51a601['lastInteraction']=Date['now'](),_0x51a601[_0x533c78(0x2bc)][_0x533c78(0x4d1)]=_0x2fe36a,_0x51a601;}else{this[_0x533c78(0x53d)][_0x533c78(0x75e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x533c78(0x851)+this[_0x533c78(0x7ed)][_0x533c78(0x311)]+_0x533c78(0x37f)),this[_0x533c78(0x53d)]['verbose'](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)][_0x533c78(0x311)]+_0x533c78(0x642));let _0x385a6c={'where':{'remoteJid':_0x5451fc,'status':_0x533c78(0x5b1)}};if(_0x51a601=await this['repository'][_0x533c78(0x194)][_0x533c78(0x648)](_0x385a6c,this[_0x533c78(0x7ed)][_0x533c78(0x311)]),!_0x51a601){let _0x573817=await this[_0x533c78(0x163)](_0x5451fc);if(_0x573817&&(_0x51a601=await this[_0x533c78(0x222)](_0x573817,_0x2fe36a[_0x533c78(0x406)],_0x2fe36a)),!_0x51a601)return null;}let _0x5c9fa5=Date[_0x533c78(0x7f3)](),_0x3f17a0=_0x51a601?.[_0x533c78(0x649)]||0x0,_0x3793bb=_0x5c9fa5-_0x3f17a0*0x3c*0x3e8;if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x533c78(0x859)+_0x5c9fa5+_0x533c78(0x417)+_0x3f17a0+_0x533c78(0x367)+_0x3793bb),this[_0x533c78(0x53d)][_0x533c78(0x75e)](this[_0x533c78(0x3b2)]+'\x20('+this[_0x533c78(0x7ed)][_0x533c78(0x311)]+_0x533c78(0x5f6)),this[_0x533c78(0x53d)][_0x533c78(0x75e)](this[_0x533c78(0x3b2)]+'\x20('+this['instance'][_0x533c78(0x311)]+_0x533c78(0x731)+_0x51a601['lastInteraction']),this[_0x533c78(0x53d)][_0x533c78(0x75e)](this['instanceName']+'\x20('+this[_0x533c78(0x7ed)]['wuid']+_0x533c78(0x245)+_0x3793bb),_0x51a601[_0x533c78(0x55a)]<_0x3793bb){this[_0x533c78(0x53d)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20est\x20expirada');let _0x1471b5=await this[_0x533c78(0x163)](_0x5451fc);if(_0x1471b5===null)return null;_0x51a601&&await this[_0x533c78(0x827)]['flowConversation'][_0x533c78(0x442)](_0x51a601['_id'],{'status':_0x533c78(0x89f)},this[_0x533c78(0x7ed)]['wuid']),_0x51a601=await this[_0x533c78(0x222)](_0x1471b5,_0x2fe36a[_0x533c78(0x406)],_0x2fe36a);}return _0x51a601[_0x533c78(0x55a)]=_0x5c9fa5,_0x51a601[_0x533c78(0x2bc)]['lastReceivedMessage']=_0x2fe36a,_0x51a601;}}catch(_0x1afbdc){return this[_0x533c78(0x53d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x533c78(0x311)]+_0x533c78(0x431)+(_0x1afbdc instanceof Error?_0x1afbdc[_0x533c78(0x867)]:JSON[_0x533c78(0x6b1)](_0x1afbdc,null,0x2))),null;}}async[a0_0x3d18fe(0x222)](_0x29f518,_0x1c73ac,_0x4af2fc){const _0x2a4190=a0_0x3d18fe;this['logger'][_0x2a4190(0x75e)](this[_0x2a4190(0x3b2)]+'\x20('+this[_0x2a4190(0x7ed)][_0x2a4190(0x311)]+_0x2a4190(0x1d5));try{let _0x118b12=require(_0x2a4190(0x506))[_0x2a4190(0x38e)],_0x134083=Date[_0x2a4190(0x7f3)](),_0x54a852=_0x2a4190(0x563),_0x1b12a6=_0x1c73ac[_0x2a4190(0x840)]?null:_0x4af2fc,_0x9d48a0=_0x1c73ac[_0x2a4190(0x840)]?_0x4af2fc:null,_0x3dbe86=_0x1c73ac['remoteJid'],_0xbaff88=this[_0x2a4190(0x22f)][_0x2a4190(0x76a)][_0x2a4190(0x80c)](_0x277a49=>_0x277a49[_0x2a4190(0x2a2)]===_0x29f518[_0x2a4190(0x2a2)]?.[_0x2a4190(0x444)]()),_0x4f5493=_0xbaff88?.['minutesToClose']??_0x29f518[_0x2a4190(0x649)]??0x0,_0x3312be=_0xbaff88?.['readMessages']??_0x29f518[_0x2a4190(0x3d3)]??!0x1;await this[_0x2a4190(0x4c0)](_0x3dbe86);let _0x953c4f={'flowId':_0x29f518[_0x2a4190(0x2a2)],..._0x29f518,'chatLog':null},_0x100d64=await this[_0x2a4190(0x1e1)](_0x953c4f[_0x2a4190(0x407)]),_0x93e14c=await this[_0x2a4190(0x728)](_0x3dbe86),_0x2d8696={..._0x100d64,..._0x93e14c,'_remoteJid':_0x3dbe86},_0xd37f50={'lastReceivedMessage':_0x1b12a6,'lastSendMessage':_0x9d48a0,'lastBlockId':_0x54a852,'lastCondition':!0x0,'realVariables':_0x2d8696};_0x953c4f[_0x2a4190(0x2bc)]=_0xd37f50,delete _0x953c4f[_0x2a4190(0x2a2)],_0x953c4f['_id']=new _0x118b12(),_0x953c4f['lastInteraction']=_0x134083,_0x953c4f[_0x2a4190(0x1b2)]='open',_0x953c4f[_0x2a4190(0x7f9)]=_0x3dbe86,_0x953c4f['minutesToClose']=_0x4f5493,_0x953c4f[_0x2a4190(0x3d3)]=_0x3312be;let _0x2e4ce2=await this[_0x2a4190(0x827)][_0x2a4190(0x194)][_0x2a4190(0x442)](_0x953c4f['_id'],_0x953c4f,this['instance'][_0x2a4190(0x311)]);return this['logger']['verbose'](this[_0x2a4190(0x3b2)]+'\x20('+this['instance'][_0x2a4190(0x311)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2e4ce2?_0x953c4f:null;}catch(_0x301521){return this[_0x2a4190(0x53d)][_0x2a4190(0x4e8)](this[_0x2a4190(0x3b2)]+'\x20('+this[_0x2a4190(0x7ed)][_0x2a4190(0x311)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x301521 instanceof Error?_0x301521[_0x2a4190(0x867)]:JSON[_0x2a4190(0x6b1)](_0x301521,null,0x2))),_0x301521;}}async[a0_0x3d18fe(0x718)](_0x146573,_0x59584f){const _0x137a94=a0_0x3d18fe;let _0x27025f=_0x146573[_0x137a94(0x7f9)];_0x59584f[_0x137a94(0x808)][_0x137a94(0x7f9)]&&_0x59584f['uazapi'][_0x137a94(0x7f9)]['trim']()!==''&&(_0x27025f=_0x59584f['uazapi'][_0x137a94(0x7f9)][_0x137a94(0x4d9)]()),this['logger']['verbose'](this[_0x137a94(0x3b2)]+'\x20('+this[_0x137a94(0x7ed)]['wuid']+'):\x20Enviando\x20texto');let _0x37b1e9={'number':_0x27025f,'options':{'delay':_0x59584f[_0x137a94(0x808)]['delay'],'linkPreview':_0x59584f[_0x137a94(0x808)][_0x137a94(0x811)]},'textMessage':{'text':_0x59584f['uazapi']['text']}};try{let _0x2c290f=await this['textMessage'](_0x37b1e9);if(_0x2c290f){let _0xafa373={'_id':_0x2c290f[_0x137a94(0x406)]['id'],'_fromMe':_0x2c290f[_0x137a94(0x406)]['fromMe'],'_remoteJid':_0x2c290f[_0x137a94(0x406)][_0x137a94(0x7f9)]},_0x2584ec=(0x0,w[_0x137a94(0x737)])(_0x2c290f[_0x137a94(0x867)]),_0x4ab10c=(0x0,w[_0x137a94(0x3ce)])(_0x2584ec);_0x146573[_0x137a94(0x2bc)]['lastBlockId']=_0x59584f[_0x137a94(0x2a2)][_0x137a94(0x444)]();let {message_normalized:_0x43316a}=this[_0x137a94(0x32f)](_0x2584ec,_0x4ab10c,null);_0x146573[_0x137a94(0x2bc)][_0x137a94(0x2a9)]=await _0x43316a;let _0x17c7e1={'messageId':_0x2c290f['key']['id']},_0x1859b1=_0x146573['chatLog'][_0x137a94(0x148)];Object['assign'](_0x1859b1,_0xafa373),_0x146573[_0x137a94(0x2bc)][_0x137a94(0x148)]=_0x1859b1,this[_0x137a94(0x215)](_0x146573,_0x59584f,_0x17c7e1);}else{let _0x4ec3a1={'error':!0x0};this[_0x137a94(0x215)](_0x146573,_0x59584f,_0x4ec3a1),this[_0x137a94(0x53d)][_0x137a94(0x4e8)](this[_0x137a94(0x3b2)]+'\x20('+this[_0x137a94(0x7ed)][_0x137a94(0x311)]+_0x137a94(0x554));}}catch(_0x3215b4){let _0x56cbb0={'error':!0x0,'errorLog':_0x3215b4['toString']()};this[_0x137a94(0x215)](_0x146573,_0x59584f,_0x56cbb0),this['logger'][_0x137a94(0x4e8)](this[_0x137a94(0x3b2)]+'\x20('+this[_0x137a94(0x7ed)][_0x137a94(0x311)]+_0x137a94(0x71b)+(_0x3215b4 instanceof Error?_0x3215b4['message']:JSON['stringify'](_0x3215b4,null,0x2)));}}async[a0_0x3d18fe(0x50c)](_0x2592a0,_0x57407d){const _0x2115bc=a0_0x3d18fe;let _0x2e6a8d=_0x2592a0[_0x2115bc(0x7f9)];_0x57407d['uazapi']['remoteJid']&&_0x57407d['uazapi'][_0x2115bc(0x7f9)][_0x2115bc(0x4d9)]()!==''&&(_0x2e6a8d=_0x57407d[_0x2115bc(0x808)]['remoteJid'][_0x2115bc(0x4d9)]()),this[_0x2115bc(0x53d)][_0x2115bc(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x2115bc(0x311)]+'):\x20Enviando\x20mdia');let _0x2bf741={'number':_0x2e6a8d,'options':{'delay':_0x57407d[_0x2115bc(0x808)][_0x2115bc(0x2c5)],'linkPreview':_0x57407d['uazapi']['linkPreview']},'mediaMessage':{'mediatype':_0x57407d[_0x2115bc(0x808)]['mediatype'],'caption':_0x57407d[_0x2115bc(0x808)][_0x2115bc(0x5ff)],'media':_0x57407d[_0x2115bc(0x808)][_0x2115bc(0x624)],'fileName':_0x57407d['uazapi'][_0x2115bc(0x49d)]}};try{let _0x4b5681=await this[_0x2115bc(0x4b4)](_0x2bf741);if(_0x4b5681){let _0x3e8997={'_id':_0x4b5681[_0x2115bc(0x406)]['id'],'_fromMe':_0x4b5681[_0x2115bc(0x406)][_0x2115bc(0x840)],'_remoteJid':_0x4b5681[_0x2115bc(0x406)][_0x2115bc(0x7f9)]},_0x1b5ad7=(0x0,w['normalizeMessageContent'])(_0x4b5681[_0x2115bc(0x867)]),_0x405363=(0x0,w[_0x2115bc(0x3ce)])(_0x1b5ad7);_0x2592a0[_0x2115bc(0x2bc)]['lastBlockId']=_0x57407d[_0x2115bc(0x2a2)]['toString']();let {message_normalized:_0x27ae8b}=this['normalizeMessage'](_0x1b5ad7,_0x405363,null);_0x2592a0['chatLog'][_0x2115bc(0x2a9)]=await _0x27ae8b;let _0x21dc26={'messageId':_0x4b5681[_0x2115bc(0x406)]['id']},_0x43f983=_0x2592a0['chatLog'][_0x2115bc(0x148)];Object[_0x2115bc(0x640)](_0x43f983,_0x3e8997),_0x2592a0[_0x2115bc(0x2bc)]['realVariables']=_0x43f983,this[_0x2115bc(0x215)](_0x2592a0,_0x57407d,_0x21dc26);}else{let _0x205749={'error':!0x0};this['updateConversation'](_0x2592a0,_0x57407d,_0x205749),this[_0x2115bc(0x53d)][_0x2115bc(0x4e8)](this[_0x2115bc(0x3b2)]+'\x20('+this[_0x2115bc(0x7ed)][_0x2115bc(0x311)]+_0x2115bc(0x60a));}}catch(_0x7fcc13){let _0x183e16={'error':!0x0,'errorLog':_0x7fcc13['toString']()};this[_0x2115bc(0x215)](_0x2592a0,_0x57407d,_0x183e16),this[_0x2115bc(0x53d)][_0x2115bc(0x4e8)](this[_0x2115bc(0x3b2)]+'\x20('+this['instance'][_0x2115bc(0x311)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x7fcc13 instanceof Error?_0x7fcc13[_0x2115bc(0x867)]:JSON['stringify'](_0x7fcc13,null,0x2)));}}async[a0_0x3d18fe(0x22d)](_0x4b1166,_0x3d3607){const _0x3a5a92=a0_0x3d18fe;let _0x1dbe31=_0x4b1166[_0x3a5a92(0x7f9)];_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x7f9)]&&_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x7f9)][_0x3a5a92(0x4d9)]()!==''&&(_0x1dbe31=_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x7f9)][_0x3a5a92(0x4d9)]()),this[_0x3a5a92(0x53d)][_0x3a5a92(0x75e)](this[_0x3a5a92(0x3b2)]+'\x20('+this['instance']['wuid']+_0x3a5a92(0x249));let _0x4c0369={'number':_0x1dbe31,'options':{'delay':_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x2c5)]},'locationMessage':{'name':_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x2f6)],'address':_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x614)],'latitude':_0x3d3607[_0x3a5a92(0x808)][_0x3a5a92(0x15f)],'longitude':_0x3d3607['uazapi'][_0x3a5a92(0x429)]}};try{let _0x24ec58=await this[_0x3a5a92(0x539)](_0x4c0369);if(_0x24ec58){let _0x29d248={'_id':_0x24ec58[_0x3a5a92(0x406)]['id'],'_fromMe':_0x24ec58['key'][_0x3a5a92(0x840)],'_remoteJid':_0x24ec58[_0x3a5a92(0x406)][_0x3a5a92(0x7f9)]},_0x596342=(0x0,w['normalizeMessageContent'])(_0x24ec58[_0x3a5a92(0x867)]),_0x54742f=(0x0,w[_0x3a5a92(0x3ce)])(_0x596342);_0x4b1166[_0x3a5a92(0x2bc)][_0x3a5a92(0x43e)]=_0x3d3607[_0x3a5a92(0x2a2)][_0x3a5a92(0x444)]();let {message_normalized:_0x5b8974}=this['normalizeMessage'](_0x596342,_0x54742f,null);_0x4b1166[_0x3a5a92(0x2bc)]['lastSendMessage']=await _0x5b8974;let _0x1c3883={'messageId':_0x24ec58['key']['id']},_0x3656e0=_0x4b1166[_0x3a5a92(0x2bc)][_0x3a5a92(0x148)];Object[_0x3a5a92(0x640)](_0x3656e0,_0x29d248),_0x4b1166['chatLog'][_0x3a5a92(0x148)]=_0x3656e0,this[_0x3a5a92(0x215)](_0x4b1166,_0x3d3607,_0x1c3883);}else{let _0x150014={'error':!0x0};this[_0x3a5a92(0x215)](_0x4b1166,_0x3d3607,_0x150014),this[_0x3a5a92(0x53d)][_0x3a5a92(0x4e8)](this[_0x3a5a92(0x3b2)]+'\x20('+this['instance'][_0x3a5a92(0x311)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.');}}catch(_0x41bf13){let _0x14fa78={'error':!0x0,'errorLog':_0x41bf13[_0x3a5a92(0x444)]()};this['updateConversation'](_0x4b1166,_0x3d3607,_0x14fa78),this['logger'][_0x3a5a92(0x4e8)](this['instanceName']+'\x20('+this[_0x3a5a92(0x7ed)]['wuid']+_0x3a5a92(0x6c6)+(_0x41bf13 instanceof Error?_0x41bf13[_0x3a5a92(0x867)]:JSON['stringify'](_0x41bf13,null,0x2)));}}async[a0_0x3d18fe(0x13d)](_0x5c2317,_0x19a08a){const _0x2812d8=a0_0x3d18fe;let _0x1be2b2=_0x5c2317[_0x2812d8(0x7f9)];_0x19a08a[_0x2812d8(0x808)][_0x2812d8(0x7f9)]&&_0x19a08a['uazapi'][_0x2812d8(0x7f9)][_0x2812d8(0x4d9)]()!==''&&(_0x1be2b2=_0x19a08a[_0x2812d8(0x808)][_0x2812d8(0x7f9)][_0x2812d8(0x4d9)]()),this[_0x2812d8(0x53d)][_0x2812d8(0x75e)](this['instanceName']+'\x20('+this[_0x2812d8(0x7ed)][_0x2812d8(0x311)]+_0x2812d8(0x15d));let _0x3e6770={'number':_0x1be2b2,'options':{'delay':_0x19a08a[_0x2812d8(0x808)][_0x2812d8(0x2c5)]},'audioMessage':{'audio':_0x19a08a[_0x2812d8(0x808)][_0x2812d8(0x3f4)]}};try{let _0x26057a=await this['audioWhatsapp'](_0x3e6770);if(_0x26057a){let _0x10af1a={'_id':_0x26057a[_0x2812d8(0x406)]['id'],'_fromMe':_0x26057a['key'][_0x2812d8(0x840)],'_remoteJid':_0x26057a[_0x2812d8(0x406)][_0x2812d8(0x7f9)]},_0x40b90d=(0x0,w[_0x2812d8(0x737)])(_0x26057a[_0x2812d8(0x867)]),_0x4c32e8=(0x0,w['getContentType'])(_0x40b90d);_0x5c2317['chatLog'][_0x2812d8(0x43e)]=_0x19a08a[_0x2812d8(0x2a2)]['toString']();let {message_normalized:_0x58487b}=this[_0x2812d8(0x32f)](_0x40b90d,_0x4c32e8,null);_0x5c2317[_0x2812d8(0x2bc)][_0x2812d8(0x2a9)]=await _0x58487b;let _0x7ce7e={'messageId':_0x26057a[_0x2812d8(0x406)]['id']},_0x2f1f8b=_0x5c2317[_0x2812d8(0x2bc)][_0x2812d8(0x148)];Object[_0x2812d8(0x640)](_0x2f1f8b,_0x10af1a),_0x5c2317[_0x2812d8(0x2bc)][_0x2812d8(0x148)]=_0x2f1f8b,this[_0x2812d8(0x215)](_0x5c2317,_0x19a08a,_0x7ce7e);}else{let _0x566803={'error':!0x0};this[_0x2812d8(0x215)](_0x5c2317,_0x19a08a,_0x566803),this[_0x2812d8(0x53d)]['error'](this['instanceName']+'\x20('+this[_0x2812d8(0x7ed)][_0x2812d8(0x311)]+_0x2812d8(0x3b0));}}catch(_0x9fa82a){let _0x400900={'error':!0x0,'errorLog':_0x9fa82a['toString']()};this[_0x2812d8(0x215)](_0x5c2317,_0x19a08a,_0x400900),this['logger'][_0x2812d8(0x4e8)](this['instanceName']+'\x20('+this[_0x2812d8(0x7ed)][_0x2812d8(0x311)]+_0x2812d8(0x3b5)+(_0x9fa82a instanceof Error?_0x9fa82a[_0x2812d8(0x867)]:JSON[_0x2812d8(0x6b1)](_0x9fa82a,null,0x2)));}}async[a0_0x3d18fe(0x26a)](_0x464861,_0x150eee){const _0xb42f9d=a0_0x3d18fe;let _0x3240dc=_0x464861[_0xb42f9d(0x7f9)];_0x150eee['uazapi']['remoteJid']&&_0x150eee[_0xb42f9d(0x808)]['remoteJid'][_0xb42f9d(0x4d9)]()!==''&&(_0x3240dc=_0x150eee['uazapi'][_0xb42f9d(0x7f9)][_0xb42f9d(0x4d9)]()),this['logger'][_0xb42f9d(0x75e)](this[_0xb42f9d(0x3b2)]+'\x20('+this[_0xb42f9d(0x7ed)][_0xb42f9d(0x311)]+_0xb42f9d(0x6f4));let _0x4d8e68={'number':_0x3240dc,'options':{'delay':_0x150eee[_0xb42f9d(0x808)][_0xb42f9d(0x2c5)]},'contactMessage':[{'fullName':_0x150eee[_0xb42f9d(0x808)]['fullName'],'phoneNumber':_0x150eee[_0xb42f9d(0x808)]['phoneNumber']}]};try{let _0x5af16d=await this[_0xb42f9d(0x339)](_0x4d8e68);if(_0x5af16d){let _0x572fb5={'_id':_0x5af16d['key']['id'],'_fromMe':_0x5af16d[_0xb42f9d(0x406)]['fromMe'],'_remoteJid':_0x5af16d[_0xb42f9d(0x406)][_0xb42f9d(0x7f9)]},_0x5ea77d=(0x0,w[_0xb42f9d(0x737)])(_0x5af16d[_0xb42f9d(0x867)]),_0x4d8c4d=(0x0,w[_0xb42f9d(0x3ce)])(_0x5ea77d);_0x464861[_0xb42f9d(0x2bc)]['lastBlockId']=_0x150eee['_id'][_0xb42f9d(0x444)]();let {message_normalized:_0x3c0a02}=this[_0xb42f9d(0x32f)](_0x5ea77d,_0x4d8c4d,null);_0x464861[_0xb42f9d(0x2bc)][_0xb42f9d(0x2a9)]=await _0x3c0a02;let _0x2fba3e={'messageId':_0x5af16d[_0xb42f9d(0x406)]['id']},_0x53bb38=_0x464861['chatLog'][_0xb42f9d(0x148)];Object[_0xb42f9d(0x640)](_0x53bb38,_0x572fb5),_0x464861[_0xb42f9d(0x2bc)]['realVariables']=_0x53bb38,this[_0xb42f9d(0x215)](_0x464861,_0x150eee,_0x2fba3e);}else{let _0x35d341={'error':!0x0};this[_0xb42f9d(0x215)](_0x464861,_0x150eee,_0x35d341),this[_0xb42f9d(0x53d)]['error'](this['instanceName']+'\x20('+this[_0xb42f9d(0x7ed)]['wuid']+_0xb42f9d(0x4c3));}}catch(_0x4c243d){let _0x457514={'error':!0x0,'errorLog':_0x4c243d[_0xb42f9d(0x444)]()};this[_0xb42f9d(0x215)](_0x464861,_0x150eee,_0x457514),this['logger'][_0xb42f9d(0x4e8)](this['instanceName']+'\x20('+this[_0xb42f9d(0x7ed)][_0xb42f9d(0x311)]+_0xb42f9d(0x885)+(_0x4c243d instanceof Error?_0x4c243d['message']:JSON[_0xb42f9d(0x6b1)](_0x4c243d,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x4805a1,_0xd60e56){const _0x2750b5=a0_0x3d18fe;for(let _0x9b4cdc of _0x4805a1)_0x9b4cdc[_0x2750b5(0x374)]&&(_0x9b4cdc[_0x2750b5(0x374)]=this[_0x2750b5(0x32d)](_0x9b4cdc[_0x2750b5(0x374)],_0xd60e56)),_0x9b4cdc[_0x2750b5(0x3d2)]&&(_0x9b4cdc['optionDescription']=this[_0x2750b5(0x32d)](_0x9b4cdc[_0x2750b5(0x3d2)],_0xd60e56));}async['uazapiSendMenu'](_0x4eb551,_0x4007a9){const _0x33f44e=a0_0x3d18fe;let _0x57a593=_0x4eb551[_0x33f44e(0x7f9)];_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x7f9)]&&_0x4007a9['uazapi'][_0x33f44e(0x7f9)][_0x33f44e(0x4d9)]()!==''&&(_0x57a593=_0x4007a9['uazapi'][_0x33f44e(0x7f9)]['trim']()),this['logger'][_0x33f44e(0x75e)](this[_0x33f44e(0x3b2)]+'\x20('+this[_0x33f44e(0x7ed)]['wuid']+'):\x20Enviando\x20enquete');let _0x2bb856=_0x4eb551[_0x33f44e(0x231)][_0x33f44e(0x836)](_0x4d7a6d=>_0x4d7a6d[_0x33f44e(0x688)]===_0x4007a9['_id'])['sort']((_0x460066,_0x5e3459)=>_0x460066[_0x33f44e(0x39e)]-_0x5e3459[_0x33f44e(0x39e)]);this[_0x33f44e(0x7da)](_0x2bb856,_0x4eb551[_0x33f44e(0x2bc)][_0x33f44e(0x148)]);let _0x3df6fe=_0x2bb856[_0x33f44e(0x82a)](_0x482bed=>_0x482bed['option']),_0x4b2215={'number':_0x57a593,'menuMessage':{'type':_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x5fe)]||_0x33f44e(0x72a),'text':_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x2b3)]||_0x4007a9['uazapi']['name'],'footerText':_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x50d)],'buttonText':_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x568)],'selectableCount':0x1,'choices':_0x3df6fe},'options':{'delay':_0x4007a9['uazapi'][_0x33f44e(0x2c5)]}};try{let _0x3533c1=await this[_0x33f44e(0x6d3)](_0x4b2215);if(_0x3533c1){let _0x47efcf={'_id':_0x3533c1['key']['id'],'_fromMe':_0x3533c1[_0x33f44e(0x406)][_0x33f44e(0x840)],'_remoteJid':_0x3533c1[_0x33f44e(0x406)]['remoteJid']};_0x4007a9['uazapi'][_0x33f44e(0x5a5)]===!0x0&&(_0x4eb551[_0x33f44e(0x1b2)]=_0x33f44e(0x70c),this[_0x33f44e(0x53d)][_0x33f44e(0x75e)](this['instanceName']+'\x20('+this[_0x33f44e(0x7ed)][_0x33f44e(0x311)]+_0x33f44e(0x514)+_0x4eb551[_0x33f44e(0x1b2)])),this[_0x33f44e(0x53d)][_0x33f44e(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x33f44e(0x311)]+_0x33f44e(0x7b6)+(_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x2f6)]||_0x4007a9['uazapi'][_0x33f44e(0x2b3)])),_0x4eb551[_0x33f44e(0x853)]=_0x3533c1[_0x33f44e(0x406)]['id'],_0x4eb551['waitingMenu_text']=_0x4007a9['uazapi'][_0x33f44e(0x2f6)]||_0x4007a9['uazapi'][_0x33f44e(0x2b3)],_0x4eb551[_0x33f44e(0x1ec)]=_0x2bb856,_0x4007a9['uazapi'][_0x33f44e(0x791)]&&(_0x4eb551[_0x33f44e(0x26b)]=_0x4007a9[_0x33f44e(0x808)][_0x33f44e(0x791)]),this['logger']['verbose'](this[_0x33f44e(0x3b2)]+'\x20('+this[_0x33f44e(0x7ed)][_0x33f44e(0x311)]+_0x33f44e(0x3ad)+_0x4eb551['waitingMenu_text']);let _0x5af21a=(0x0,w[_0x33f44e(0x737)])(_0x3533c1[_0x33f44e(0x867)]),_0x9c5360=(0x0,w[_0x33f44e(0x3ce)])(_0x5af21a);_0x4eb551[_0x33f44e(0x2bc)]['lastBlockId']=_0x4007a9['_id'][_0x33f44e(0x444)]();let {message_normalized:_0x427ba4}=this[_0x33f44e(0x32f)](_0x5af21a,_0x9c5360,null);_0x4eb551[_0x33f44e(0x2bc)][_0x33f44e(0x2a9)]=await _0x427ba4;let _0x39b2a5={'messageId':_0x3533c1['key']['id']},_0x30d94a=_0x4eb551['chatLog'][_0x33f44e(0x148)];Object[_0x33f44e(0x640)](_0x30d94a,_0x47efcf),_0x4eb551[_0x33f44e(0x2bc)]['realVariables']=_0x30d94a,this['updateConversation'](_0x4eb551,_0x4007a9,_0x39b2a5);}else{let _0x57c467={'error':!0x0};this[_0x33f44e(0x215)](_0x4eb551,_0x4007a9,_0x57c467),this[_0x33f44e(0x53d)]['error'](this[_0x33f44e(0x3b2)]+'\x20('+this['instance'][_0x33f44e(0x311)]+_0x33f44e(0x507));}}catch(_0x1c1193){let _0x5be547={'error':!0x0,'errorLog':_0x1c1193 instanceof Error?_0x1c1193[_0x33f44e(0x867)]:JSON[_0x33f44e(0x6b1)](_0x1c1193,null,0x2)};this['updateConversation'](_0x4eb551,_0x4007a9,_0x5be547),this[_0x33f44e(0x53d)][_0x33f44e(0x4e8)](this[_0x33f44e(0x3b2)]+'\x20('+this[_0x33f44e(0x7ed)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1c1193 instanceof Error?_0x1c1193[_0x33f44e(0x867)]:JSON['stringify'](_0x1c1193,null,0x2)));}}async[a0_0x3d18fe(0x5d5)](_0x46175a,_0x122279){const _0x27cd6e=a0_0x3d18fe;this[_0x27cd6e(0x53d)][_0x27cd6e(0x75e)](this['instanceName']+'\x20('+this[_0x27cd6e(0x7ed)][_0x27cd6e(0x311)]+'):\x20Deletando\x20mensagem');let _0x126a3c=_0x46175a['chatLog'][_0x27cd6e(0x7fc)][_0x27cd6e(0x80c)](_0x45e267=>_0x45e267[_0x27cd6e(0x688)]['toString']()===_0x122279[_0x27cd6e(0x808)][_0x27cd6e(0x688)][_0x27cd6e(0x444)]()),_0x50f874={'id':_0x126a3c[_0x27cd6e(0x17a)],'remoteJid':_0x126a3c['remoteJid'],'fromMe':_0x126a3c[_0x27cd6e(0x840)]};try{let _0x4f7cd4=await this['deleteMessage'](_0x50f874);if(_0x4f7cd4){let _0x10ccb9=(0x0,w[_0x27cd6e(0x737)])(_0x4f7cd4[_0x27cd6e(0x867)]),_0x20e580=(0x0,w[_0x27cd6e(0x3ce)])(_0x10ccb9);_0x46175a[_0x27cd6e(0x2bc)][_0x27cd6e(0x43e)]=_0x122279[_0x27cd6e(0x2a2)][_0x27cd6e(0x444)]();let {message_normalized:_0x462601}=this[_0x27cd6e(0x32f)](_0x10ccb9,_0x20e580,null);_0x46175a['chatLog'][_0x27cd6e(0x2a9)]=await _0x462601;let _0x1f0cae={};this[_0x27cd6e(0x215)](_0x46175a,_0x122279,_0x1f0cae);}else{let _0x4ad530={'error':!0x0};this[_0x27cd6e(0x215)](_0x46175a,_0x122279,_0x4ad530),this[_0x27cd6e(0x53d)][_0x27cd6e(0x4e8)](this[_0x27cd6e(0x3b2)]+'\x20('+this[_0x27cd6e(0x7ed)][_0x27cd6e(0x311)]+_0x27cd6e(0x21f));}}catch(_0x3d8553){let _0x2d9074={'error':!0x0,'errorLog':_0x3d8553 instanceof Error?_0x3d8553['message']:JSON[_0x27cd6e(0x6b1)](_0x3d8553,null,0x2)};this[_0x27cd6e(0x215)](_0x46175a,_0x122279,_0x2d9074),this[_0x27cd6e(0x53d)][_0x27cd6e(0x4e8)](this[_0x27cd6e(0x3b2)]+'\x20('+this[_0x27cd6e(0x7ed)][_0x27cd6e(0x311)]+_0x27cd6e(0x52a)+(_0x3d8553 instanceof Error?_0x3d8553[_0x27cd6e(0x867)]:JSON['stringify'](_0x3d8553,null,0x2)));}}async[a0_0x3d18fe(0x4f4)](_0x12a196,_0x187241){const _0x5125cb=a0_0x3d18fe;if(_0x12a196[_0x5125cb(0x2f6)]||(_0x12a196[_0x5125cb(0x2f6)]=(0x0,Y['v4'])()),_0x187241!==Ri&&_0x12a196?.[_0x5125cb(0x428)])throw new m(_0x5125cb(0x6f7));if(_0x5125cb(0x2a2)in _0x12a196&&'owner'in _0x12a196)return this[_0x5125cb(0x360)](_0x12a196[_0x5125cb(0x856)],_0x12a196[_0x5125cb(0x2a2)]);this[_0x5125cb(0x53d)][_0x5125cb(0x75e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5125cb(0x7f7));let _0x3d6db4=this[_0x5125cb(0x353)](_0x12a196['name']),_0x86d0f5=new ge['Types'][(_0x5125cb(0x38e))](),_0x2540b6={'_id':_0x86d0f5,'default':!0x0,'title':_0x5125cb(0x5c1),'x':0x0,'y':0x0},_0x5eced2={'_id':new ge[(_0x5125cb(0x7c9))]['ObjectId'](),'order':0x1,'groupId':_0x86d0f5[_0x5125cb(0x444)](),'type':'start'},_0x1c0799=this[_0x5125cb(0x7ed)]['wuid'],_0x2d009d={'_id':(0x0,Y['v4'])(),'owner':_0x1c0799,'name':_0x3d6db4,'whoCanEdit':[_0x1c0799],'whoCanUse':[_0x1c0799],'groups':[_0x2540b6],'blocks':[_0x5eced2],..._0x12a196};try{let _0x2feacb=await this[_0x5125cb(0x827)][_0x5125cb(0x21d)]['createAndSave'](_0x2d009d);return await this[_0x5125cb(0x2b5)](),_0x2feacb;}catch(_0x385bbc){let _0x56e9e4='Erro\x20ao\x20criar\x20fluxo',_0x5ad817=_0x385bbc instanceof Error?_0x385bbc[_0x5125cb(0x867)]:typeof _0x385bbc==_0x5125cb(0x85e)?JSON[_0x5125cb(0x6b1)](_0x385bbc):_0x385bbc,_0x5ef89c=_0x56e9e4+':\x20'+_0x5ad817;throw this[_0x5125cb(0x53d)][_0x5125cb(0x4e8)](this[_0x5125cb(0x3b2)]+'\x20('+this[_0x5125cb(0x7ed)][_0x5125cb(0x311)]+_0x5125cb(0x851)+_0x5ef89c),new m(_0x5ef89c);}}async[a0_0x3d18fe(0x360)](_0x71069d,_0x4db658){const _0x34e85f=a0_0x3d18fe;try{this[_0x34e85f(0x53d)][_0x34e85f(0x75e)](this['instanceName']+'\x20('+this[_0x34e85f(0x7ed)][_0x34e85f(0x311)]+_0x34e85f(0x886));let _0x43113f=await this['repository'][_0x34e85f(0x21d)][_0x34e85f(0x648)]({'where':{'_id':_0x4db658,'owner':_0x71069d}});if(!_0x43113f)throw new m(_0x34e85f(0x292));if(_0x43113f[_0x34e85f(0x1ae)]===!0x1&&!_0x43113f[_0x34e85f(0x428)])throw new m(_0x34e85f(0x88c));let _0xa07c42=new Set(_0x43113f[_0x34e85f(0x221)]??[]);_0xa07c42['add'](this[_0x34e85f(0x7ed)]['wuid']);let _0x5c8b47=await this['repository'][_0x34e85f(0x21d)][_0x34e85f(0x442)](_0x4db658,{..._0x43113f,'whoCanUse':Array[_0x34e85f(0x13c)](_0xa07c42)});return await this[_0x34e85f(0x2b5)](),_0x5c8b47;}catch(_0x11ec9d){let _0x38643b=_0x34e85f(0x389),_0x55d3a9=_0x11ec9d instanceof Error?_0x11ec9d['message']:typeof _0x11ec9d==_0x34e85f(0x85e)?JSON[_0x34e85f(0x6b1)](_0x11ec9d):_0x11ec9d,_0x1b002d=_0x38643b+':\x20'+_0x55d3a9;throw this['logger'][_0x34e85f(0x4e8)](this[_0x34e85f(0x3b2)]+'\x20('+this[_0x34e85f(0x7ed)][_0x34e85f(0x311)]+_0x34e85f(0x851)+_0x1b002d),new m(_0x1b002d);}}[a0_0x3d18fe(0x353)](_0x2d4944){const _0x3cf8b7=a0_0x3d18fe;let _0x5f1d5c=_0x2d4944,_0x58f694=0x1;for(;this[_0x3cf8b7(0x22f)][_0x3cf8b7(0x76a)][_0x3cf8b7(0x838)](_0x42a407=>_0x42a407[_0x3cf8b7(0x2f6)]===_0x5f1d5c);)_0x58f694++,_0x5f1d5c=_0x2d4944+'\x20('+_0x58f694+')';return _0x5f1d5c;}async['deleteFlow'](_0xae10cf){const _0x2901ef=a0_0x3d18fe;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0xae10cf['_id']+',\x20global:\x20'+_0xae10cf['global']),!this[_0x2901ef(0x22f)]['flows']['find'](_0x3852af=>_0x3852af['_id']===_0xae10cf['_id']))throw this[_0x2901ef(0x53d)][_0x2901ef(0x75e)](this[_0x2901ef(0x3b2)]+'\x20('+this['instance'][_0x2901ef(0x311)]+'):\x20Fluxo\x20\x27'+_0xae10cf['_id']+_0x2901ef(0x471)),new m(_0x2901ef(0x316));let _0x32bebe=await this['repository'][_0x2901ef(0x21d)][_0x2901ef(0x648)]({'where':{'_id':_0xae10cf[_0x2901ef(0x2a2)]}});if(!_0x32bebe)throw new m('Fluxo\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]===_0x32bebe[_0x2901ef(0x856)]){this['logger']['verbose'](this[_0x2901ef(0x3b2)]+'\x20('+this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]+_0x2901ef(0x861)+_0xae10cf[_0x2901ef(0x2a2)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x2e8043=await this[_0x2901ef(0x827)]['flow'][_0x2901ef(0x4ac)]({'where':{'_id':_0xae10cf[_0x2901ef(0x2a2)]}});return await this[_0x2901ef(0x2b5)](),_0x2e8043;}return this['logger'][_0x2901ef(0x75e)](this[_0x2901ef(0x3b2)]+'\x20('+this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]+'):\x20Removendo\x20\x27'+this[_0x2901ef(0x7ed)]['wuid']+_0x2901ef(0x35f)+_0xae10cf['_id']+_0x2901ef(0x4d0)),_0x32bebe[_0x2901ef(0x221)]=(_0x32bebe['whoCanUse']??[])['filter'](_0x5f50b0=>_0x5f50b0!==this[_0x2901ef(0x7ed)]['wuid']),_0x32bebe[_0x2901ef(0x188)]=(_0x32bebe['whoCanEdit']??[])['filter'](_0x904a34=>_0x904a34!==this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]),_0x32bebe[_0x2901ef(0x188)][_0x2901ef(0x802)]===0x0&&_0x32bebe[_0x2901ef(0x221)]['length']>0x0&&(_0x32bebe[_0x2901ef(0x188)][_0x2901ef(0x1a4)](_0x32bebe[_0x2901ef(0x221)][0x0]),this[_0x2901ef(0x53d)][_0x2901ef(0x75e)](this[_0x2901ef(0x3b2)]+'\x20('+this[_0x2901ef(0x7ed)][_0x2901ef(0x311)]+_0x2901ef(0x6a5)+_0x32bebe[_0x2901ef(0x221)][0x0]+_0x2901ef(0x1d7)+_0xae10cf['_id']+_0x2901ef(0x4d0))),await this[_0x2901ef(0x827)]['flow']['updateOne'](_0x32bebe[_0x2901ef(0x2a2)],_0x32bebe),await this[_0x2901ef(0x2b5)](),{'message':_0x2901ef(0x1e3)+_0xae10cf['name']+_0x2901ef(0x4d6)};}catch(_0x2bfe9b){return this[_0x2901ef(0x53d)]['error'](this[_0x2901ef(0x3b2)]+'\x20('+this[_0x2901ef(0x7ed)]['wuid']+_0x2901ef(0x60f)+(_0x2bfe9b instanceof Error?_0x2bfe9b[_0x2901ef(0x867)]:JSON[_0x2901ef(0x6b1)](_0x2bfe9b,null,0x2))),{'message':_0x2901ef(0x711)+(_0x2bfe9b instanceof Error?_0x2bfe9b[_0x2901ef(0x867)]:JSON['stringify'](_0x2bfe9b,null,0x2))};}}async[a0_0x3d18fe(0x817)](_0x23b931){const _0x3dc692=a0_0x3d18fe;try{if(this['logger'][_0x3dc692(0x4f2)](this['instanceName']+'\x20('+this[_0x3dc692(0x7ed)]['wuid']+_0x3dc692(0x37d)+_0x23b931),!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x3b6585=await this[_0x3dc692(0x827)][_0x3dc692(0x21d)][_0x3dc692(0x648)]({'where':{'_id':_0x23b931}});if(!_0x3b6585)throw new m('Fluxo\x20id\x20\x27'+_0x23b931+_0x3dc692(0x66c));if(!(_0x3b6585[_0x3dc692(0x428)]||_0x3b6585[_0x3dc692(0x221)]?.[_0x3dc692(0x3f1)](this[_0x3dc692(0x7ed)][_0x3dc692(0x311)])))throw new m(_0x3dc692(0x375)+name+'\x27');_0x3b6585[_0x3dc692(0x428)]&&!_0x3b6585[_0x3dc692(0x221)]?.[_0x3dc692(0x3f1)](this[_0x3dc692(0x7ed)]['wuid'])&&(_0x3b6585[_0x3dc692(0x221)]=[..._0x3b6585[_0x3dc692(0x221)]??[],this[_0x3dc692(0x7ed)][_0x3dc692(0x311)]],await this[_0x3dc692(0x827)][_0x3dc692(0x21d)][_0x3dc692(0x442)](_0x3b6585[_0x3dc692(0x2a2)],_0x3b6585),this[_0x3dc692(0x2b5)]());let _0x4b9f39=this[_0x3dc692(0x22f)]?.[_0x3dc692(0x708)][_0x3dc692(0x82a)](_0x5f090f=>_0x5f090f[_0x3dc692(0x2f6)]),_0x59574a=[_0x3dc692(0x31d),_0x3dc692(0x2f7),_0x3dc692(0x1f1),'cpf','status',_0x3dc692(0x667),'responsavelid','tags','etiquetas','telefone',_0x3dc692(0x14b)];_0x3b6585[_0x3dc692(0x407)]=_0x3b6585[_0x3dc692(0x407)][_0x3dc692(0x836)](_0x279ac7=>!(_0x279ac7[_0x3dc692(0x30b)]===_0x3dc692(0x518)||_0x279ac7['leadInfo'])),_0x59574a[_0x3dc692(0x358)](_0x4f209e=>{const _0x5e0571=_0x3dc692;_0x3b6585[_0x5e0571(0x407)]['push']({'folder':_0x5e0571(0x518),'name':_0x4f209e,'value':'','doc':'','leadInfo':!0x0});}),_0x4b9f39[_0x3dc692(0x358)](_0x26b2c0=>{const _0x35ba50=_0x3dc692;let _0x3d0722=_0x3b6585[_0x35ba50(0x407)][_0x35ba50(0x878)](_0x26837f=>_0x26837f[_0x35ba50(0x2f6)]===_0x26b2c0);_0x3d0722===-0x1?_0x3b6585['variables'][_0x35ba50(0x1a4)]({'folder':_0x35ba50(0x518),'name':_0x26b2c0,'value':'','doc':'','leadInfo':!0x0}):(_0x3b6585['variables'][_0x3d0722][_0x35ba50(0x30b)]=_0x35ba50(0x518),_0x3b6585[_0x35ba50(0x407)][_0x3d0722][_0x35ba50(0x518)]=!0x0);}),_0x3b6585[_0x3dc692(0x30c)]&&_0x3b6585['blocks'][_0x3dc692(0x802)]>0x0&&_0x3b6585[_0x3dc692(0x30c)]['forEach'](_0x5e49f6=>{const _0x576884=_0x3dc692;_0x5e49f6[_0x576884(0x1af)]&&_0x5e49f6[_0x576884(0x24d)]&&_0x5e49f6[_0x576884(0x1af)]===_0x5e49f6[_0x576884(0x24d)]&&(_0x5e49f6[_0x576884(0x24d)]=null);});let _0x1c1a72=await this[_0x3dc692(0x827)][_0x3dc692(0x21d)][_0x3dc692(0x442)](_0x3b6585['_id'],_0x3b6585);if(!_0x1c1a72)throw new Error(_0x3dc692(0x7c0));return _0x1c1a72;}catch(_0x29a3ca){let _0x31949d=_0x3dc692(0x15b),_0xd7768d=_0x29a3ca instanceof Error?_0x29a3ca[_0x3dc692(0x867)]:typeof _0x29a3ca==_0x3dc692(0x85e)?JSON[_0x3dc692(0x6b1)](_0x29a3ca):_0x29a3ca,_0x2a1dac=_0x31949d+':\x20'+_0xd7768d;throw this['logger'][_0x3dc692(0x4e8)](this[_0x3dc692(0x3b2)]+'\x20('+this[_0x3dc692(0x7ed)][_0x3dc692(0x311)]+_0x3dc692(0x851)+_0x2a1dac),new m(_0x2a1dac);}}async[a0_0x3d18fe(0x1e9)](){const _0x209d5a=a0_0x3d18fe;try{this[_0x209d5a(0x53d)][_0x209d5a(0x75e)](this[_0x209d5a(0x3b2)]+'\x20('+this['instance'][_0x209d5a(0x311)]+_0x209d5a(0x185)),await this[_0x209d5a(0x2b5)]();let _0x29785f=await this['repository'][_0x209d5a(0x21d)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x209d5a(0x22f)]['flows'],..._0x29785f];}catch(_0xd87655){return this[_0x209d5a(0x53d)][_0x209d5a(0x4e8)](this[_0x209d5a(0x3b2)]+'\x20('+this[_0x209d5a(0x7ed)][_0x209d5a(0x311)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0xd87655 instanceof Error?_0xd87655['message']:JSON[_0x209d5a(0x6b1)](_0xd87655,null,0x2))),{'message':_0x209d5a(0x170)+(_0xd87655 instanceof Error?_0xd87655[_0x209d5a(0x867)]:String(_0xd87655))};}}async[a0_0x3d18fe(0x604)](_0x142745,_0x50e173){const _0x530ff=a0_0x3d18fe;try{this['logger'][_0x530ff(0x75e)](this['instanceName']+'\x20('+this[_0x530ff(0x7ed)]['wuid']+_0x530ff(0x75a));let _0x47f2cb=this[_0x530ff(0x22f)][_0x530ff(0x76a)][_0x530ff(0x80c)](_0x567dcf=>_0x567dcf['_id']===_0x142745['_id']);if(!_0x47f2cb)throw this[_0x530ff(0x53d)][_0x530ff(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x530ff(0x311)]+_0x530ff(0x2c6)+_0x142745['_id']+_0x530ff(0x471)),new m(_0x530ff(0x316));let _0x35b5ec=await this[_0x530ff(0x827)][_0x530ff(0x21d)][_0x530ff(0x648)]({'where':{'_id':_0x142745['_id']}});if(!_0x35b5ec||!_0x35b5ec[_0x530ff(0x221)]?.[_0x530ff(0x3f1)](this['instance']['wuid']))throw this[_0x530ff(0x53d)]['error'](this['instanceName']+'\x20('+this[_0x530ff(0x7ed)][_0x530ff(0x311)]+_0x530ff(0x5f2)+_0x142745[_0x530ff(0x2a2)]+_0x530ff(0x7c5)),new m(_0x530ff(0x38a)+_0x142745[_0x530ff(0x2a2)]+_0x530ff(0x7c5));let _0x22cd9e=this[_0x530ff(0x22f)]['flows']['findIndex'](_0x520f64=>_0x520f64[_0x530ff(0x2a2)]===_0x47f2cb[_0x530ff(0x2a2)]);if(_0x22cd9e!==-0x1){let _0x5da8cb=this['AutomateSystem']['flows'][_0x22cd9e];if(_0x5da8cb['name']=_0x142745[_0x530ff(0x2f6)]??_0x5da8cb[_0x530ff(0x2f6)],_0x5da8cb[_0x530ff(0x62f)]=_0x142745['default']??_0x5da8cb['default'],_0x5da8cb['testingWith']=_0x142745['testingWith']??_0x5da8cb[_0x530ff(0x65d)],_0x5da8cb[_0x530ff(0x196)]=_0x142745[_0x530ff(0x5f8)]??_0x5da8cb[_0x530ff(0x196)],_0x5da8cb[_0x530ff(0x649)]=_0x142745[_0x530ff(0x649)]??_0x5da8cb['minutesToClose'],_0x5da8cb[_0x530ff(0x3d3)]=_0x142745[_0x530ff(0x3d3)]??_0x5da8cb[_0x530ff(0x3d3)],_0x142745['default']&&this[_0x530ff(0x22f)][_0x530ff(0x76a)][_0x530ff(0x358)]((_0xeb50ce,_0x45e2fc)=>{const _0x4e379f=_0x530ff;_0x45e2fc!==_0x22cd9e&&(_0xeb50ce[_0x4e379f(0x62f)]=!0x1);}),this[_0x530ff(0x22f)][_0x530ff(0x76a)][_0x22cd9e]=_0x5da8cb,!await this[_0x530ff(0x827)][_0x530ff(0x763)][_0x530ff(0x200)]({'flows':this[_0x530ff(0x22f)]['flows']},this['instance']['wuid']))throw new m(_0x530ff(0x79b));}let _0xd02a5a=[_0x530ff(0x24f),_0x530ff(0x493),_0x530ff(0x7a3),_0x530ff(0x847)];for(let _0x323964 of _0xd02a5a)delete _0x142745[_0x323964];if(_0x35b5ec[_0x530ff(0x188)]?.[_0x530ff(0x3f1)](this[_0x530ff(0x7ed)]['wuid'])||(_0x142745={'_id':_0x142745[_0x530ff(0x2a2)]}),_0x50e173!==Ri&&_0x142745?.[_0x530ff(0x428)]&&!_0x35b5ec?.[_0x530ff(0x428)])throw new m(_0x530ff(0x736));let _0x1168a2=new Set(_0x142745[_0x530ff(0x188)]??_0x35b5ec[_0x530ff(0x188)]);_0x1168a2[_0x530ff(0x4b0)](_0x35b5ec[_0x530ff(0x856)]);let _0xee6b11=new Set(_0x142745[_0x530ff(0x221)]??_0x35b5ec['whoCanUse']??[]);_0x1168a2['forEach'](_0x36c3ae=>_0xee6b11[_0x530ff(0x4b0)](_0x36c3ae)),_0xee6b11[_0x530ff(0x4b0)](_0x35b5ec[_0x530ff(0x856)]),this['logger'][_0x530ff(0x75e)](this[_0x530ff(0x3b2)]+'\x20('+this[_0x530ff(0x7ed)][_0x530ff(0x311)]+_0x530ff(0x4fe)+Array[_0x530ff(0x13c)](_0x1168a2)),this[_0x530ff(0x53d)][_0x530ff(0x75e)](this[_0x530ff(0x3b2)]+'\x20('+this['instance']['wuid']+_0x530ff(0x612)+Array['from'](_0xee6b11));let _0x2eff75=await this[_0x530ff(0x793)](Array[_0x530ff(0x13c)](_0xee6b11)),_0x112ab7=Array[_0x530ff(0x13c)](_0x1168a2)[_0x530ff(0x836)](_0x573084=>_0x2eff75[_0x530ff(0x3f1)](_0x573084)),_0x139c56=Array[_0x530ff(0x13c)](_0xee6b11)[_0x530ff(0x836)](_0x5d75a6=>_0x2eff75[_0x530ff(0x3f1)](_0x5d75a6));this[_0x530ff(0x53d)][_0x530ff(0x75e)](this[_0x530ff(0x3b2)]+'\x20('+this[_0x530ff(0x7ed)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x112ab7),this[_0x530ff(0x53d)][_0x530ff(0x75e)](this[_0x530ff(0x3b2)]+'\x20('+this[_0x530ff(0x7ed)][_0x530ff(0x311)]+_0x530ff(0x658)+_0x139c56);let _0x39c1c7={..._0x35b5ec,..._0x142745,'whoCanEdit':_0x112ab7,'whoCanUse':_0x139c56},_0xd7905a=await this[_0x530ff(0x827)][_0x530ff(0x21d)]['updateOne'](_0x35b5ec[_0x530ff(0x2a2)],_0x39c1c7);return await this['synchronizeAndMapFlows'](),_0xd7905a;}catch(_0x1db8e9){let _0x39b741=_0x530ff(0x1fb),_0x5b45b7=_0x1db8e9 instanceof Error?_0x1db8e9[_0x530ff(0x867)]:typeof _0x1db8e9==_0x530ff(0x85e)?JSON[_0x530ff(0x6b1)](_0x1db8e9):_0x1db8e9,_0x488793=_0x39b741+':\x20'+_0x5b45b7;throw this[_0x530ff(0x53d)]['error'](this[_0x530ff(0x3b2)]+'\x20('+this[_0x530ff(0x7ed)][_0x530ff(0x311)]+_0x530ff(0x851)+_0x488793),new m(_0x488793);}}async[a0_0x3d18fe(0x793)](_0x563a82){const _0x503182=a0_0x3d18fe;let _0x5a9bd5={'numbers':_0x563a82};return(await this['whatsappNumber'](_0x5a9bd5))[_0x503182(0x836)](_0x415bc9=>_0x415bc9[_0x503182(0x622)])['map'](_0x280e68=>_0x280e68[_0x503182(0x857)])['map'](_0x2a5f79=>this[_0x503182(0x6a0)](_0x2a5f79));}[a0_0x3d18fe(0x6a0)](_0x57d1f0){const _0x2022c7=a0_0x3d18fe;let _0x3d3b6f=_0x57d1f0[_0x2022c7(0x750)](/\d+/);return _0x3d3b6f?_0x3d3b6f[0x0]:'';}async[a0_0x3d18fe(0x7f4)](_0x558254){const _0x3a1e3c=a0_0x3d18fe;try{if(this['logger']['verbose'](this[_0x3a1e3c(0x3b2)]+'\x20('+this['instance'][_0x3a1e3c(0x311)]+_0x3a1e3c(0x179)),!this['AutomateSystem'][_0x3a1e3c(0x76a)][_0x3a1e3c(0x80c)](_0x12835b=>_0x12835b[_0x3a1e3c(0x2a2)]===_0x558254[_0x3a1e3c(0x2a2)]))throw this[_0x3a1e3c(0x53d)][_0x3a1e3c(0x75e)](this[_0x3a1e3c(0x3b2)]+'\x20('+this[_0x3a1e3c(0x7ed)][_0x3a1e3c(0x311)]+_0x3a1e3c(0x2c6)+_0x558254[_0x3a1e3c(0x2a2)]+_0x3a1e3c(0x471)),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x46ca0f=await this['repository'][_0x3a1e3c(0x21d)][_0x3a1e3c(0x648)]({'where':{'_id':_0x558254[_0x3a1e3c(0x2a2)]}});if(!_0x46ca0f||!_0x46ca0f[_0x3a1e3c(0x221)]?.[_0x3a1e3c(0x3f1)](this[_0x3a1e3c(0x7ed)][_0x3a1e3c(0x311)]))throw this[_0x3a1e3c(0x53d)]['error'](this[_0x3a1e3c(0x3b2)]+'\x20('+this[_0x3a1e3c(0x7ed)][_0x3a1e3c(0x311)]+_0x3a1e3c(0x5f2)+_0x558254[_0x3a1e3c(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x558254[_0x3a1e3c(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x46ca0f[_0x3a1e3c(0x188)]?.['includes'](this['instance'][_0x3a1e3c(0x311)]))throw new m(_0x3a1e3c(0x666));let {block:_0x22e1db}=_0x558254;_0x22e1db?.[_0x3a1e3c(0x7d6)]?this['copyBlock'](_0x46ca0f,_0x558254):_0x22e1db?.[_0x3a1e3c(0x5cd)]?this[_0x3a1e3c(0x75c)](_0x46ca0f,_0x558254):_0x22e1db[_0x3a1e3c(0x2a2)]?await this[_0x3a1e3c(0x561)](_0x46ca0f,_0x558254):this['addBlock'](_0x46ca0f,_0x558254);let _0x4303a4=await this[_0x3a1e3c(0x827)][_0x3a1e3c(0x21d)][_0x3a1e3c(0x442)](_0x46ca0f[_0x3a1e3c(0x2a2)],_0x46ca0f);if(!_0x4303a4)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4303a4;}catch(_0x43873c){this['throwAndLogError'](_0x3a1e3c(0x3c8)+_0x43873c[_0x3a1e3c(0x867)]);}}async[a0_0x3d18fe(0x874)](_0x49e9b9,_0x4e0860){const _0x2ddb07=a0_0x3d18fe;let _0x151667=_0x4e0860[_0x2ddb07(0x5e5)]['_id'],_0x6f8951=_0x49e9b9['blocks'][_0x2ddb07(0x80c)](_0x379479=>_0x379479[_0x2ddb07(0x2a2)][_0x2ddb07(0x444)]()===_0x151667);if(!_0x6f8951){this[_0x2ddb07(0x53d)][_0x2ddb07(0x4e8)](this[_0x2ddb07(0x3b2)]+'\x20('+this[_0x2ddb07(0x7ed)][_0x2ddb07(0x311)]+_0x2ddb07(0x39c)+_0x151667+_0x2ddb07(0x55f));return;}this[_0x2ddb07(0x53d)][_0x2ddb07(0x75e)](this[_0x2ddb07(0x3b2)]+'\x20('+this['instance'][_0x2ddb07(0x311)]+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON[_0x2ddb07(0x6b1)](_0x6f8951));let _0x2bb049=JSON[_0x2ddb07(0x78c)](JSON[_0x2ddb07(0x6b1)](_0x6f8951));_0x2bb049[_0x2ddb07(0x2a2)]=new ge['default'][(_0x2ddb07(0x7c9))][(_0x2ddb07(0x38e))](),this[_0x2ddb07(0x53d)]['verbose'](this[_0x2ddb07(0x3b2)]+'\x20('+this['instance']['wuid']+_0x2ddb07(0x7ee)+JSON[_0x2ddb07(0x6b1)](_0x2bb049)),_0x49e9b9[_0x2ddb07(0x30c)][_0x2ddb07(0x1a4)](_0x2bb049),this[_0x2ddb07(0x66a)](_0x49e9b9[_0x2ddb07(0x30c)],_0x2bb049[_0x2ddb07(0x1af)]);}[a0_0x3d18fe(0x441)](_0x2599bf){const _0x163187=a0_0x3d18fe;throw this['logger']['error'](this[_0x163187(0x3b2)]+'\x20('+this[_0x163187(0x7ed)][_0x163187(0x311)]+'):\x20'+_0x2599bf),new m(_0x2599bf);}['deleteBlock'](_0x1b4249,_0x6e0507){const _0x36f27a=a0_0x3d18fe;let {block:_0x2e54a5}=_0x6e0507;if(_0x2e54a5[_0x36f27a(0x5a1)]===_0x36f27a(0x563)){this[_0x36f27a(0x441)](_0x36f27a(0x746));return;}if(!_0x2e54a5['_id']){this[_0x36f27a(0x441)](_0x36f27a(0x774));return;}let _0x6b50d5=_0x1b4249[_0x36f27a(0x30c)][_0x36f27a(0x80c)](_0x3be538=>_0x3be538[_0x36f27a(0x2a2)]['toString']()===_0x6e0507['block'][_0x36f27a(0x2a2)][_0x36f27a(0x444)]());if(!_0x6b50d5){this[_0x36f27a(0x441)]('Bloco\x20com\x20ID\x20'+_0x2e54a5['_id']+'\x20no\x20encontrado');return;}_0x1b4249[_0x36f27a(0x30c)]=_0x1b4249['blocks'][_0x36f27a(0x836)](_0x2d4d4d=>_0x2d4d4d[_0x36f27a(0x2a2)][_0x36f27a(0x444)]()!==_0x6e0507[_0x36f27a(0x5e5)][_0x36f27a(0x2a2)][_0x36f27a(0x444)]()),_0x1b4249[_0x36f27a(0x536)]=_0x1b4249[_0x36f27a(0x536)]['filter'](_0x219200=>_0x219200[_0x36f27a(0x688)]!==_0x2e54a5[_0x36f27a(0x2a2)]['toString']()),_0x1b4249[_0x36f27a(0x18b)]=_0x1b4249[_0x36f27a(0x18b)][_0x36f27a(0x836)](_0x3fdf0a=>_0x3fdf0a[_0x36f27a(0x688)]!==_0x2e54a5[_0x36f27a(0x2a2)][_0x36f27a(0x444)]()),_0x1b4249[_0x36f27a(0x231)]=_0x1b4249['replyOptions'][_0x36f27a(0x836)](_0xc1bd5e=>_0xc1bd5e['blockId']!==_0x2e54a5['_id'][_0x36f27a(0x444)]()),this['reorderBlocks'](_0x1b4249[_0x36f27a(0x30c)],_0x6b50d5[_0x36f27a(0x1af)]);}async[a0_0x3d18fe(0x561)](_0x397b17,_0xe5311a){const _0x3bbf50=a0_0x3d18fe;let _0x247ce1=_0x397b17[_0x3bbf50(0x30c)]['findIndex'](_0x1f2363=>_0x1f2363[_0x3bbf50(0x2a2)]['toString']()===_0xe5311a[_0x3bbf50(0x5e5)][_0x3bbf50(0x2a2)][_0x3bbf50(0x444)]());if(this[_0x3bbf50(0x53d)][_0x3bbf50(0x75e)](this[_0x3bbf50(0x3b2)]+'\x20('+this[_0x3bbf50(0x7ed)][_0x3bbf50(0x311)]+_0x3bbf50(0x219)+_0x247ce1),_0x247ce1===-0x1){this[_0x3bbf50(0x53d)]['verbose'](_0x3bbf50(0x1ad)+_0xe5311a[_0x3bbf50(0x5e5)][_0x3bbf50(0x2a2)]+_0x3bbf50(0x7c6));return;}if(_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x5a1)]===_0x3bbf50(0x563)){let _0x1cf5c1=Object['keys'](_0xe5311a['block']);if(_0x1cf5c1[_0x3bbf50(0x802)]>0x2||_0x1cf5c1[_0x3bbf50(0x802)]===0x2&&!_0x1cf5c1[_0x3bbf50(0x3f1)]('next_groupId')){this[_0x3bbf50(0x441)](_0x3bbf50(0x67e));return;}}let _0x12e71f=_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x1af)];for(let _0x2d69d0 in _0xe5311a['block'])_0xe5311a['block']['hasOwnProperty'](_0x2d69d0)&&(_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x2d69d0]=_0xe5311a['block'][_0x2d69d0]);if(this[_0x3bbf50(0x53d)][_0x3bbf50(0x75e)](this[_0x3bbf50(0x3b2)]+'\x20('+this[_0x3bbf50(0x7ed)][_0x3bbf50(0x311)]+_0x3bbf50(0x204)+JSON[_0x3bbf50(0x6b1)](_0x397b17['blocks'][_0x247ce1])),_0x397b17[_0x3bbf50(0x30c)][_0x247ce1]['apirequest']&&_0x3bbf50(0x59a)in _0x397b17['blocks'][_0x247ce1][_0x3bbf50(0x171)]){this[_0x3bbf50(0x53d)][_0x3bbf50(0x75e)](this[_0x3bbf50(0x3b2)]+'\x20('+this['instance'][_0x3bbf50(0x311)]+_0x3bbf50(0x70f));let _0x3ecd79=JSON[_0x3bbf50(0x6b1)](_0x397b17['blocks'][_0x247ce1][_0x3bbf50(0x171)][_0x3bbf50(0x59a)],null,0x1);_0x3ecd79['length']>0x2&&(_0x3ecd79=_0x3ecd79['substring'](0x1,_0x3ecd79['length']-0x1)[_0x3bbf50(0x4d9)]()),_0x397b17[_0x3bbf50(0x30c)][_0x247ce1]['apirequest']['headerString']=_0x3ecd79;}if(_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)]&&'body'in _0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)]&&!(_0x3bbf50(0x372)in _0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)])){this[_0x3bbf50(0x53d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3bbf50(0x311)]+_0x3bbf50(0x26d)),_0x397b17['blocks'][_0x247ce1][_0x3bbf50(0x171)][_0x3bbf50(0x23f)]=!0x1;let _0x30cd41=JSON[_0x3bbf50(0x6b1)](_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)]['body'],null,0x2);_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)][_0x3bbf50(0x372)]=_0x30cd41;}if(_0x397b17[_0x3bbf50(0x30c)][_0x247ce1]['apirequest']&&_0x3bbf50(0x372)in _0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)]){_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)]['bodyStringErrorParse']=!0x1;let _0xf41bd2=_0x397b17['blocks'][_0x247ce1][_0x3bbf50(0x171)][_0x3bbf50(0x372)],_0x80d1c0=this[_0x3bbf50(0x6ec)](_0xf41bd2);_0x397b17['blocks'][_0x247ce1]['apirequest']['bodyString']=_0x80d1c0[_0x3bbf50(0x804)],_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x171)][_0x3bbf50(0x23f)]=_0x80d1c0[_0x3bbf50(0x4e8)];}let _0x50c566=_0x397b17[_0x3bbf50(0x30c)][_0x247ce1][_0x3bbf50(0x1af)];_0x12e71f!==_0x50c566?(this['reorderBlocks'](_0x397b17[_0x3bbf50(0x30c)],_0x12e71f),this['reorderBlocks'](_0x397b17[_0x3bbf50(0x30c)],_0x50c566)):this[_0x3bbf50(0x66a)](_0x397b17[_0x3bbf50(0x30c)],_0x12e71f);}[a0_0x3d18fe(0x6ec)](_0x57c714){const _0x5cf30d=a0_0x3d18fe;let _0x779882='\u205f',_0x15634f=!0x1,_0x463fb8='';for(let _0x5bde73=0x0;_0x5bde73<_0x57c714['length'];_0x5bde73++){let _0x58b5c2=_0x57c714[_0x5bde73];_0x58b5c2==='\x22'&&(_0x5bde73===0x0||_0x57c714[_0x5bde73-0x1]!=='\x5c')&&(_0x15634f=!_0x15634f),!(!_0x15634f&&(_0x58b5c2==='\x0a'||_0x58b5c2==='\x20'||_0x58b5c2===_0x779882))&&(_0x463fb8+=_0x58b5c2);}let _0x3b775a={},_0x5ee74c=9876543210.1234,_0x38b9dd=_0x463fb8['replace'](/\{\{([^}]+)\}\}/g,_0x545040=>{let _0x5017b5=_0x545040,_0x3b1cdf=''+_0x5ee74c;return _0x3b775a[_0x3b1cdf]=_0x5017b5,_0x5ee74c+=0.0001,_0x3b1cdf;}),_0x4c85b2='',_0x2a13ff=!0x1;try{let _0x1a2f90=JSON[_0x5cf30d(0x78c)](_0x38b9dd);_0x4c85b2=JSON[_0x5cf30d(0x6b1)](_0x1a2f90,null,0x2),_0x4c85b2=_0x4c85b2['replace'](/\n( +)/g,(_0x572297,_0x1e1380)=>{const _0x21a4e5=_0x5cf30d;let _0x454924=_0x1e1380['length'];return'\x0a'+_0x779882[_0x21a4e5(0x3a7)](_0x454924*0x2);}),_0x4c85b2=_0x4c85b2[_0x5cf30d(0x5e7)](/(\d{10,}\.\d+)/g,_0x56f0e9=>_0x3b775a[_0x56f0e9]||_0x56f0e9);}catch(_0x3d5dbf){this[_0x5cf30d(0x53d)]['error']('Error\x20parsing\x20JSON:'+_0x3d5dbf),_0x4c85b2=_0x57c714,_0x2a13ff=!0x0;}return{'result':_0x4c85b2,'error':_0x2a13ff};}[a0_0x3d18fe(0x30f)](_0x4d8640,_0x5249d0){const _0x4c8a5c=a0_0x3d18fe;if(_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x5a1)]===_0x4c8a5c(0x563)){this[_0x4c8a5c(0x441)](_0x4c8a5c(0x2e6));return;}if(_0x5249d0['block']['apirequest']&&'header'in _0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)]){this[_0x4c8a5c(0x53d)][_0x4c8a5c(0x75e)](this[_0x4c8a5c(0x3b2)]+'\x20('+this[_0x4c8a5c(0x7ed)][_0x4c8a5c(0x311)]+_0x4c8a5c(0x70f));let _0x3b0ba4=JSON[_0x4c8a5c(0x6b1)](_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)][_0x4c8a5c(0x59a)],null,0x1);_0x3b0ba4[_0x4c8a5c(0x802)]>0x2&&(_0x3b0ba4=_0x3b0ba4[_0x4c8a5c(0x4a4)](0x1,_0x3b0ba4[_0x4c8a5c(0x802)]-0x1)['trim']()),_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)][_0x4c8a5c(0x5c9)]=_0x3b0ba4;}_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)]&&'body'in _0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)]&&(this['logger'][_0x4c8a5c(0x75e)](this[_0x4c8a5c(0x3b2)]+'\x20('+this[_0x4c8a5c(0x7ed)]['wuid']+_0x4c8a5c(0x26d)),_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)][_0x4c8a5c(0x372)]=JSON[_0x4c8a5c(0x6b1)](_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x171)][_0x4c8a5c(0x51d)],null,0x1)[_0x4c8a5c(0x4d9)]()),_0x4d8640['blocks'][_0x4c8a5c(0x1a4)](_0x5249d0[_0x4c8a5c(0x5e5)]),this['reorderBlocks'](_0x4d8640[_0x4c8a5c(0x30c)],_0x5249d0[_0x4c8a5c(0x5e5)][_0x4c8a5c(0x1af)]);}[a0_0x3d18fe(0x66a)](_0x465f76,_0x2ac360){const _0x295935=a0_0x3d18fe;let _0x3242ee=_0x465f76[_0x295935(0x836)](_0x3cea8a=>_0x3cea8a[_0x295935(0x1af)]===_0x2ac360);_0x3242ee[_0x295935(0x366)]((_0xe667fc,_0x504ea0)=>_0xe667fc[_0x295935(0x39e)]-_0x504ea0[_0x295935(0x39e)]),_0x3242ee[_0x295935(0x358)]((_0x479de0,_0x1abccd)=>_0x479de0[_0x295935(0x39e)]=_0x1abccd+0x1);}async['editFlowReply'](_0x4fb990){const _0x4d0d09=a0_0x3d18fe;try{if(this[_0x4d0d09(0x53d)][_0x4d0d09(0x75e)](this[_0x4d0d09(0x3b2)]+'\x20('+this['instance'][_0x4d0d09(0x311)]+'):\x20Editando\x20replyOption...'),!_0x4fb990||!_0x4fb990[_0x4d0d09(0x505)]){this[_0x4d0d09(0x441)](_0x4d0d09(0x656));return;}if(!this[_0x4d0d09(0x22f)][_0x4d0d09(0x76a)][_0x4d0d09(0x80c)](_0x588ff7=>_0x588ff7[_0x4d0d09(0x2a2)]===_0x4fb990['_id']))throw this['logger'][_0x4d0d09(0x75e)](this[_0x4d0d09(0x3b2)]+'\x20('+this[_0x4d0d09(0x7ed)][_0x4d0d09(0x311)]+'):\x20Fluxo\x20\x27'+_0x4fb990[_0x4d0d09(0x2a2)]+_0x4d0d09(0x471)),new m(_0x4d0d09(0x316));let _0x55bbfe=await this[_0x4d0d09(0x827)]['flow'][_0x4d0d09(0x648)]({'where':{'_id':_0x4fb990[_0x4d0d09(0x2a2)]}});if(!_0x55bbfe||!_0x55bbfe[_0x4d0d09(0x221)]?.[_0x4d0d09(0x3f1)](this[_0x4d0d09(0x7ed)][_0x4d0d09(0x311)]))throw this[_0x4d0d09(0x53d)][_0x4d0d09(0x4e8)](this['instanceName']+'\x20('+this[_0x4d0d09(0x7ed)]['wuid']+_0x4d0d09(0x5f2)+_0x4fb990[_0x4d0d09(0x2a2)]+_0x4d0d09(0x7c5)),new m(_0x4d0d09(0x38a)+_0x4fb990[_0x4d0d09(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x55bbfe[_0x4d0d09(0x188)]?.['includes'](this[_0x4d0d09(0x7ed)][_0x4d0d09(0x311)]))throw new m(_0x4d0d09(0x666));let {replyOption:_0x5a22a8}=_0x4fb990;_0x5a22a8?.[_0x4d0d09(0x5cd)]?(this[_0x4d0d09(0x6ab)](_0x55bbfe,_0x4fb990),this['reorderReplyOptions'](_0x55bbfe[_0x4d0d09(0x231)],_0x4fb990[_0x4d0d09(0x505)][_0x4d0d09(0x688)])):_0x5a22a8[_0x4d0d09(0x2a2)]?(await this['updateReplyOption'](_0x55bbfe,_0x4fb990),this['reorderReplyOptions'](_0x55bbfe[_0x4d0d09(0x231)],_0x4fb990[_0x4d0d09(0x505)]['blockId'])):(this[_0x4d0d09(0x712)](_0x55bbfe,_0x4fb990),this['reorderReplyOptions'](_0x55bbfe[_0x4d0d09(0x231)],_0x4fb990[_0x4d0d09(0x505)][_0x4d0d09(0x688)]));let _0x3f0706=await this[_0x4d0d09(0x827)][_0x4d0d09(0x21d)]['updateOne'](_0x55bbfe[_0x4d0d09(0x2a2)],_0x55bbfe);if(!_0x3f0706)throw new Error(_0x4d0d09(0x7c0));return _0x3f0706;}catch(_0x575d58){this[_0x4d0d09(0x441)](_0x4d0d09(0x862)+_0x575d58);}}[a0_0x3d18fe(0x807)](_0x6407cb,_0x18e307){const _0x55833d=a0_0x3d18fe;_0x6407cb[_0x55833d(0x358)](_0x4efc3c=>{const _0x35ee4a=_0x55833d;_0x4efc3c['blockId']===_0x18e307&&_0x4efc3c[_0x35ee4a(0x39e)]===void 0x0&&(_0x4efc3c[_0x35ee4a(0x39e)]=0x270f);});let _0x21eb5b=_0x6407cb[_0x55833d(0x836)](_0x4b6afe=>_0x4b6afe[_0x55833d(0x688)]===_0x18e307);_0x21eb5b[_0x55833d(0x366)]((_0x39551a,_0x4aa085)=>_0x39551a[_0x55833d(0x39e)]-_0x4aa085[_0x55833d(0x39e)]),_0x21eb5b[_0x55833d(0x358)]((_0x2e2574,_0x5e9b76)=>{const _0x23f78b=_0x55833d;_0x2e2574[_0x23f78b(0x39e)]=_0x5e9b76+0x1;}),_0x6407cb[_0x55833d(0x358)](_0x2d7be=>{const _0x4c1f73=_0x55833d;if(_0x2d7be['blockId']===_0x18e307){let _0x473622=_0x21eb5b[_0x4c1f73(0x80c)](_0x4d3944=>_0x4d3944[_0x4c1f73(0x2a2)]&&_0x2d7be['_id']&&_0x4d3944[_0x4c1f73(0x2a2)][_0x4c1f73(0x444)]()===_0x2d7be['_id'][_0x4c1f73(0x444)]());_0x473622&&(_0x2d7be[_0x4c1f73(0x39e)]=_0x473622[_0x4c1f73(0x39e)]);}});}[a0_0x3d18fe(0x6ab)](_0x23bca5,_0x48094a){const _0x5c230f=a0_0x3d18fe;let {replyOption:_0x3ea536}=_0x48094a;if(!_0x3ea536['_id']){this[_0x5c230f(0x441)](_0x5c230f(0x297));return;}if(!_0x23bca5[_0x5c230f(0x231)][_0x5c230f(0x80c)](_0x3bfcc5=>_0x3bfcc5[_0x5c230f(0x2a2)][_0x5c230f(0x444)]()===_0x48094a[_0x5c230f(0x505)]['_id'][_0x5c230f(0x444)]())){this[_0x5c230f(0x441)](_0x5c230f(0x145)+_0x3ea536[_0x5c230f(0x2a2)]+'\x20no\x20encontrado');return;}_0x23bca5[_0x5c230f(0x231)]=_0x23bca5[_0x5c230f(0x231)]['filter'](_0xf463ae=>_0xf463ae[_0x5c230f(0x2a2)]['toString']()!==_0x48094a[_0x5c230f(0x505)][_0x5c230f(0x2a2)][_0x5c230f(0x444)]());}async['updateReplyOption'](_0x5e6709,_0x53f42b){const _0x584ba2=a0_0x3d18fe;let _0x3355bd=_0x5e6709[_0x584ba2(0x231)]['findIndex'](_0x4379bf=>_0x4379bf[_0x584ba2(0x2a2)][_0x584ba2(0x444)]()===_0x53f42b[_0x584ba2(0x505)][_0x584ba2(0x2a2)][_0x584ba2(0x444)]());if(_0x3355bd===-0x1){this[_0x584ba2(0x441)]('ReplyOption\x20com\x20ID\x20'+_0x53f42b[_0x584ba2(0x505)][_0x584ba2(0x2a2)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}for(let _0x16aace in _0x53f42b[_0x584ba2(0x505)])_0x53f42b['replyOption'][_0x584ba2(0x5ec)](_0x16aace)&&(_0x5e6709['replyOptions'][_0x3355bd][_0x16aace]=_0x53f42b[_0x584ba2(0x505)][_0x16aace]);}[a0_0x3d18fe(0x712)](_0x5349e1,_0x382c8f){const _0x5772a8=a0_0x3d18fe;_0x5349e1[_0x5772a8(0x231)][_0x5772a8(0x1a4)](_0x382c8f[_0x5772a8(0x505)]);}async[a0_0x3d18fe(0x7c8)](_0x4c8eee){const _0x1196b9=a0_0x3d18fe;this['logger'][_0x1196b9(0x75e)](this['instanceName']+'\x20('+this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]+_0x1196b9(0x7fe)+JSON[_0x1196b9(0x6b1)](_0x4c8eee,null,0x2));try{if(this[_0x1196b9(0x53d)][_0x1196b9(0x75e)](this['instanceName']+'\x20('+this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this['AutomateSystem'][_0x1196b9(0x76a)][_0x1196b9(0x80c)](_0x54a31f=>_0x54a31f['_id']===_0x4c8eee[_0x1196b9(0x2a2)]))throw this[_0x1196b9(0x53d)]['verbose'](this[_0x1196b9(0x3b2)]+'\x20('+this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]+_0x1196b9(0x2c6)+_0x4c8eee[_0x1196b9(0x2a2)]+'\x27\x20no\x20encontrado'),new m(_0x1196b9(0x316));let _0x4e9be7=await this[_0x1196b9(0x827)][_0x1196b9(0x21d)][_0x1196b9(0x648)]({'where':{'_id':_0x4c8eee[_0x1196b9(0x2a2)]}});if(!_0x4e9be7||!_0x4e9be7['whoCanUse']?.['includes'](this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]))throw this[_0x1196b9(0x53d)][_0x1196b9(0x4e8)](this[_0x1196b9(0x3b2)]+'\x20('+this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]+_0x1196b9(0x5f2)+_0x4c8eee[_0x1196b9(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x4c8eee['_id']+_0x1196b9(0x7c5));if(!_0x4e9be7[_0x1196b9(0x188)]?.[_0x1196b9(0x3f1)](this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]))throw new m(_0x1196b9(0x666));if(_0x4c8eee[_0x1196b9(0x176)]&&_0x4c8eee[_0x1196b9(0x176)]?.[_0x1196b9(0x5cd)]===!0x0){if(this[_0x1196b9(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x1196b9(0x7ed)]['wuid']+_0x1196b9(0x740)),_0x4c8eee[_0x1196b9(0x176)][_0x1196b9(0x62f)]===!0x0)return{'message':'No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro'};if(_0x4e9be7['blocks'][_0x1196b9(0x838)](_0x56c3e5=>_0x56c3e5[_0x1196b9(0x1af)][_0x1196b9(0x444)]()===_0x4c8eee[_0x1196b9(0x176)][_0x1196b9(0x2a2)]))return this[_0x1196b9(0x53d)]['verbose'](this[_0x1196b9(0x3b2)]+'\x20('+this[_0x1196b9(0x7ed)]['wuid']+_0x1196b9(0x84e)),{'message':_0x1196b9(0x322)};_0x4e9be7[_0x1196b9(0x3e6)]=_0x4e9be7['groups'][_0x1196b9(0x836)](_0x52445a=>_0x52445a[_0x1196b9(0x2a2)][_0x1196b9(0x444)]()!==_0x4c8eee[_0x1196b9(0x176)][_0x1196b9(0x2a2)]);}else{if(_0x4c8eee[_0x1196b9(0x176)]){if(_0x4c8eee[_0x1196b9(0x176)]['default']===!0x0)return{'message':'No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro'};if(_0x4c8eee['group'][_0x1196b9(0x2a2)]){let _0x5b7071=_0x4e9be7[_0x1196b9(0x3e6)][_0x1196b9(0x80c)](_0x1bd89d=>_0x1bd89d[_0x1196b9(0x2a2)][_0x1196b9(0x444)]()===_0x4c8eee[_0x1196b9(0x176)]['_id']);_0x5b7071&&(_0x4c8eee[_0x1196b9(0x176)]['x']<0x0&&(_0x4c8eee[_0x1196b9(0x176)]['x']=0x0),_0x4c8eee[_0x1196b9(0x176)]['y']<0x0&&(_0x4c8eee[_0x1196b9(0x176)]['y']=0x0),Object[_0x1196b9(0x640)](_0x5b7071,_0x4c8eee[_0x1196b9(0x176)]));}else _0x4e9be7[_0x1196b9(0x3e6)][_0x1196b9(0x1a4)](_0x4c8eee[_0x1196b9(0x176)]);}}let _0x590525=await this[_0x1196b9(0x827)][_0x1196b9(0x21d)]['updateOne'](_0x4e9be7[_0x1196b9(0x2a2)],_0x4e9be7);if(!_0x590525)throw new Error(_0x1196b9(0x7c0));return _0x590525;}catch(_0x391ea5){let _0x2cab9d=_0x1196b9(0x197),_0x479ba4=_0x391ea5 instanceof Error?_0x391ea5[_0x1196b9(0x867)]:typeof _0x391ea5==_0x1196b9(0x85e)?JSON['stringify'](_0x391ea5):_0x391ea5,_0x3ede6a=_0x2cab9d+':\x20'+_0x479ba4;throw this[_0x1196b9(0x53d)][_0x1196b9(0x4e8)](this['instanceName']+'\x20('+this[_0x1196b9(0x7ed)][_0x1196b9(0x311)]+_0x1196b9(0x851)+_0x3ede6a),new m(_0x3ede6a);}}async[a0_0x3d18fe(0x3e3)](_0x454bb9){const _0x39f702=a0_0x3d18fe;try{if(this[_0x39f702(0x53d)][_0x39f702(0x75e)](this[_0x39f702(0x3b2)]+'\x20('+this[_0x39f702(0x7ed)][_0x39f702(0x311)]+_0x39f702(0x144)),!this[_0x39f702(0x22f)]['flows']['find'](_0x5c0689=>_0x5c0689['_id']===_0x454bb9['_id']))throw this[_0x39f702(0x53d)][_0x39f702(0x75e)](this[_0x39f702(0x3b2)]+'\x20('+this[_0x39f702(0x7ed)][_0x39f702(0x311)]+_0x39f702(0x2c6)+_0x454bb9[_0x39f702(0x2a2)]+'\x27\x20no\x20encontrado'),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x997bc9=await this[_0x39f702(0x827)][_0x39f702(0x21d)][_0x39f702(0x648)]({'where':{'_id':_0x454bb9[_0x39f702(0x2a2)]}});if(!_0x997bc9||!_0x997bc9[_0x39f702(0x221)]?.['includes'](this[_0x39f702(0x7ed)][_0x39f702(0x311)]))throw this[_0x39f702(0x53d)][_0x39f702(0x4e8)](this[_0x39f702(0x3b2)]+'\x20('+this[_0x39f702(0x7ed)][_0x39f702(0x311)]+_0x39f702(0x5f2)+_0x454bb9['_id']+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x454bb9[_0x39f702(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x997bc9[_0x39f702(0x188)]?.[_0x39f702(0x3f1)](this[_0x39f702(0x7ed)][_0x39f702(0x311)]))throw new m(_0x39f702(0x666));let _0x32ec88=!0x1;if(_0x454bb9[_0x39f702(0x392)]?.[_0x39f702(0x5cd)]===!0x0)_0x997bc9[_0x39f702(0x536)]=_0x997bc9[_0x39f702(0x536)][_0x39f702(0x836)](_0x57c60f=>_0x57c60f&&_0x454bb9['condition']&&_0x57c60f[_0x39f702(0x2a2)]&&_0x454bb9[_0x39f702(0x392)][_0x39f702(0x2a2)]&&_0x57c60f[_0x39f702(0x2a2)][_0x39f702(0x444)]()!==_0x454bb9[_0x39f702(0x392)][_0x39f702(0x2a2)][_0x39f702(0x444)]()),_0x32ec88=!0x0;else{let _0x5a2cc1=_0x997bc9[_0x39f702(0x536)][_0x39f702(0x80c)](_0x13e95b=>_0x13e95b&&_0x454bb9[_0x39f702(0x392)]&&_0x13e95b[_0x39f702(0x2a2)]&&_0x454bb9['condition'][_0x39f702(0x2a2)]&&_0x13e95b[_0x39f702(0x2a2)][_0x39f702(0x444)]()===_0x454bb9['condition'][_0x39f702(0x2a2)][_0x39f702(0x444)]());_0x5a2cc1?(_0x32ec88=_0x5a2cc1[_0x39f702(0x39e)]!==_0x454bb9[_0x39f702(0x392)][_0x39f702(0x39e)],Object['assign'](_0x5a2cc1,_0x454bb9[_0x39f702(0x392)])):(_0x997bc9[_0x39f702(0x536)][_0x39f702(0x1a4)](_0x454bb9[_0x39f702(0x392)]),_0x32ec88=!0x0);}if(_0x32ec88){_0x997bc9[_0x39f702(0x536)][_0x39f702(0x366)]((_0x59478a,_0x174fb4)=>_0x59478a[_0x39f702(0x39e)]>_0x174fb4[_0x39f702(0x39e)]?0x1:_0x174fb4['order']>_0x59478a[_0x39f702(0x39e)]?-0x1:0x0);for(let _0x2442f0=0x0;_0x2442f0<_0x997bc9[_0x39f702(0x536)]['length'];_0x2442f0++)_0x997bc9[_0x39f702(0x536)][_0x2442f0][_0x39f702(0x39e)]=_0x2442f0+0x1;_0x997bc9['conditions'][_0x39f702(0x802)]>0x0&&(_0x997bc9[_0x39f702(0x536)][0x0]['OrAnd']=_0x39f702(0x430));}let _0x44a860=await this['repository']['flow'][_0x39f702(0x442)](_0x997bc9[_0x39f702(0x2a2)],_0x997bc9);if(!_0x44a860)throw new Error(_0x39f702(0x7c0));return _0x44a860;}catch(_0x44bcde){let _0x31266a='Erro\x20ao\x20editar\x20condio\x20do\x20fluxo',_0x59d975=_0x44bcde instanceof Error?_0x44bcde[_0x39f702(0x867)]:typeof _0x44bcde=='object'?JSON['stringify'](_0x44bcde):_0x44bcde,_0x26bac8=_0x31266a+':\x20'+_0x59d975;throw this[_0x39f702(0x53d)][_0x39f702(0x4e8)](this[_0x39f702(0x3b2)]+'\x20('+this[_0x39f702(0x7ed)][_0x39f702(0x311)]+_0x39f702(0x851)+_0x26bac8),new m(_0x26bac8);}}async[a0_0x3d18fe(0x85b)](_0x340d8b){const _0x249d0a=a0_0x3d18fe;try{if(this['logger'][_0x249d0a(0x75e)](this['instanceName']+'\x20('+this[_0x249d0a(0x7ed)][_0x249d0a(0x311)]+_0x249d0a(0x69d)),!this[_0x249d0a(0x22f)]['flows'][_0x249d0a(0x80c)](_0x5ca02f=>_0x5ca02f[_0x249d0a(0x2a2)]===_0x340d8b[_0x249d0a(0x2a2)]))throw this[_0x249d0a(0x53d)]['verbose'](this[_0x249d0a(0x3b2)]+'\x20('+this[_0x249d0a(0x7ed)][_0x249d0a(0x311)]+'):\x20Fluxo\x20\x27'+_0x340d8b[_0x249d0a(0x2a2)]+_0x249d0a(0x471)),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x569464=await this['repository'][_0x249d0a(0x21d)]['findOne']({'where':{'_id':_0x340d8b['_id']}});if(!_0x569464||!_0x569464[_0x249d0a(0x221)]?.[_0x249d0a(0x3f1)](this[_0x249d0a(0x7ed)][_0x249d0a(0x311)]))throw this[_0x249d0a(0x53d)][_0x249d0a(0x4e8)](this['instanceName']+'\x20('+this[_0x249d0a(0x7ed)][_0x249d0a(0x311)]+_0x249d0a(0x5f2)+_0x340d8b[_0x249d0a(0x2a2)]+_0x249d0a(0x7c5)),new m(_0x249d0a(0x38a)+_0x340d8b['_id']+_0x249d0a(0x7c5));if(!_0x569464['whoCanEdit']?.['includes'](this['instance'][_0x249d0a(0x311)]))throw new m(_0x249d0a(0x666));let _0x2a88f2=!0x1;if(_0x340d8b[_0x249d0a(0x776)]?.['delete']===!0x0)_0x569464[_0x249d0a(0x18b)]=_0x569464[_0x249d0a(0x18b)][_0x249d0a(0x836)](_0x1c45ad=>_0x1c45ad&&_0x340d8b[_0x249d0a(0x776)]&&_0x1c45ad[_0x249d0a(0x2a2)]&&_0x340d8b[_0x249d0a(0x776)][_0x249d0a(0x2a2)]&&_0x1c45ad[_0x249d0a(0x2a2)][_0x249d0a(0x444)]()!==_0x340d8b[_0x249d0a(0x776)][_0x249d0a(0x2a2)][_0x249d0a(0x444)]()),_0x2a88f2=!0x0;else{let _0xae8998=_0x569464[_0x249d0a(0x18b)][_0x249d0a(0x80c)](_0x1087a0=>_0x1087a0&&_0x340d8b[_0x249d0a(0x776)]&&_0x1087a0[_0x249d0a(0x2a2)]&&_0x340d8b[_0x249d0a(0x776)][_0x249d0a(0x2a2)]&&_0x1087a0[_0x249d0a(0x2a2)]['toString']()===_0x340d8b[_0x249d0a(0x776)]['_id'][_0x249d0a(0x444)]());_0xae8998?(_0x2a88f2=_0xae8998['order']!==_0x340d8b[_0x249d0a(0x776)][_0x249d0a(0x39e)],Object[_0x249d0a(0x640)](_0xae8998,_0x340d8b[_0x249d0a(0x776)])):(_0x569464[_0x249d0a(0x18b)]['push'](_0x340d8b[_0x249d0a(0x776)]),_0x2a88f2=!0x0);}if(_0x2a88f2){_0x569464[_0x249d0a(0x18b)][_0x249d0a(0x366)]((_0x34ef1c,_0x38ecad)=>_0x34ef1c['order']>_0x38ecad[_0x249d0a(0x39e)]?0x1:_0x38ecad[_0x249d0a(0x39e)]>_0x34ef1c[_0x249d0a(0x39e)]?-0x1:0x0);for(let _0x159f56=0x0;_0x159f56<_0x569464[_0x249d0a(0x18b)][_0x249d0a(0x802)];_0x159f56++)_0x569464[_0x249d0a(0x18b)][_0x159f56][_0x249d0a(0x39e)]=_0x159f56+0x1;}let _0x76c6d4=await this[_0x249d0a(0x827)][_0x249d0a(0x21d)][_0x249d0a(0x442)](_0x569464['_id'],_0x569464);if(!_0x76c6d4)throw new Error(_0x249d0a(0x7c0));return _0x76c6d4;}catch(_0x675c63){let _0x560eea=_0x249d0a(0x33b),_0x7c23d0=_0x675c63 instanceof Error?_0x675c63[_0x249d0a(0x867)]:typeof _0x675c63==_0x249d0a(0x85e)?JSON[_0x249d0a(0x6b1)](_0x675c63):_0x675c63,_0x2a95b4=_0x560eea+':\x20'+_0x7c23d0;throw this[_0x249d0a(0x53d)]['error'](this[_0x249d0a(0x3b2)]+'\x20('+this[_0x249d0a(0x7ed)][_0x249d0a(0x311)]+_0x249d0a(0x851)+_0x2a95b4),new m(_0x2a95b4);}}async[a0_0x3d18fe(0x23c)](_0x3766e5){const _0x4bba5e=a0_0x3d18fe;try{if(this[_0x4bba5e(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x4bba5e(0x7ed)][_0x4bba5e(0x311)]+_0x4bba5e(0x3ac)),!this['AutomateSystem'][_0x4bba5e(0x76a)][_0x4bba5e(0x80c)](_0x53b71d=>_0x53b71d[_0x4bba5e(0x2a2)]===_0x3766e5[_0x4bba5e(0x2a2)]))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4bba5e(0x7ed)]['wuid']+_0x4bba5e(0x2c6)+_0x3766e5[_0x4bba5e(0x2a2)]+'\x27\x20no\x20encontrado'),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x24df97=await this[_0x4bba5e(0x827)][_0x4bba5e(0x21d)][_0x4bba5e(0x648)]({'where':{'_id':_0x3766e5[_0x4bba5e(0x2a2)]}});if(!_0x24df97||!_0x24df97[_0x4bba5e(0x221)]?.[_0x4bba5e(0x3f1)](this[_0x4bba5e(0x7ed)]['wuid']))throw this[_0x4bba5e(0x53d)][_0x4bba5e(0x4e8)](this[_0x4bba5e(0x3b2)]+'\x20('+this[_0x4bba5e(0x7ed)][_0x4bba5e(0x311)]+'):\x20Flow\x20\x27'+_0x3766e5[_0x4bba5e(0x2a2)]+_0x4bba5e(0x7c5)),new m(_0x4bba5e(0x38a)+_0x3766e5['_id']+_0x4bba5e(0x7c5));if(!_0x24df97[_0x4bba5e(0x188)]?.[_0x4bba5e(0x3f1)](this['instance'][_0x4bba5e(0x311)]))throw new m(_0x4bba5e(0x666));_0x3766e5['variable']['name']=_0x3766e5[_0x4bba5e(0x89c)][_0x4bba5e(0x2f6)][_0x4bba5e(0x4d9)](),_0x3766e5[_0x4bba5e(0x89c)]['name'][_0x4bba5e(0x313)]('_')&&(_0x3766e5[_0x4bba5e(0x89c)][_0x4bba5e(0x2f6)]=_0x3766e5[_0x4bba5e(0x89c)][_0x4bba5e(0x2f6)]['substring'](0x1)),_0x3766e5[_0x4bba5e(0x89c)][_0x4bba5e(0x2f6)]=_0x3766e5[_0x4bba5e(0x89c)]['name'][_0x4bba5e(0x4d9)]();let _0x1e3f9d=_0x24df97[_0x4bba5e(0x407)][_0x4bba5e(0x80c)](_0x901c3b=>_0x901c3b['name']===_0x3766e5[_0x4bba5e(0x89c)]['name']);if(_0x1e3f9d?.[_0x4bba5e(0x518)]===!0x0)throw new Error('No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x3766e5[_0x4bba5e(0x89c)]?.[_0x4bba5e(0x5cd)]===!0x0){if(!_0x1e3f9d)return{'message':'Varivel\x20no\x20encontrada!'};_0x24df97['variables']=_0x24df97[_0x4bba5e(0x407)][_0x4bba5e(0x836)](_0x29776a=>_0x29776a['name']!==_0x3766e5[_0x4bba5e(0x89c)]['name']);}else _0x1e3f9d?Object[_0x4bba5e(0x640)](_0x1e3f9d,_0x3766e5['variable']):_0x24df97[_0x4bba5e(0x407)][_0x4bba5e(0x1a4)](_0x3766e5[_0x4bba5e(0x89c)]);let _0x392579=await this[_0x4bba5e(0x827)][_0x4bba5e(0x21d)]['updateOne'](_0x24df97[_0x4bba5e(0x2a2)],_0x24df97);if(!_0x392579)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x392579;}catch(_0x362701){let _0x138933=_0x4bba5e(0x2fe),_0x267e9f=_0x362701 instanceof Error?_0x362701[_0x4bba5e(0x867)]:typeof _0x362701=='object'?JSON[_0x4bba5e(0x6b1)](_0x362701):_0x362701,_0x369406=_0x138933+':\x20'+_0x267e9f;throw this[_0x4bba5e(0x53d)]['error'](this[_0x4bba5e(0x3b2)]+'\x20('+this[_0x4bba5e(0x7ed)][_0x4bba5e(0x311)]+'):\x20'+_0x369406),new m(_0x369406);}}async[a0_0x3d18fe(0x744)](_0x85ee78){const _0x5de06d=a0_0x3d18fe;let _0x274ddd=null;try{if(!this[_0x5de06d(0x22f)]?.[_0x5de06d(0x32b)]['enabled'])throw new m(_0x5de06d(0x77c));this[_0x5de06d(0x53d)]['verbose'](this[_0x5de06d(0x3b2)]+'\x20('+this[_0x5de06d(0x7ed)][_0x5de06d(0x311)]+_0x5de06d(0x805));let _0x13e70c=(await this[_0x5de06d(0x679)]({'numbers':[_0x85ee78[_0x5de06d(0x7f9)]]}))[0x0];if(!_0x13e70c[_0x5de06d(0x622)]&&!(0x0,w[_0x5de06d(0x608)])(_0x13e70c[_0x5de06d(0x857)])&&!_0x13e70c[_0x5de06d(0x857)][_0x5de06d(0x3f1)](_0x5de06d(0x227)))throw _0x274ddd=JSON['stringify'](_0x13e70c,null,0x2),new m(_0x13e70c);let _0x175696;if(_0x85ee78[_0x5de06d(0x2f6)][_0x5de06d(0x802)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5de06d(0x386)](_0x85ee78['name'])?_0x175696=this[_0x5de06d(0x22f)][_0x5de06d(0x76a)][_0x5de06d(0x80c)](_0xaad884=>_0xaad884['_id']===_0x85ee78[_0x5de06d(0x2f6)]):_0x175696=this[_0x5de06d(0x22f)][_0x5de06d(0x76a)][_0x5de06d(0x80c)](_0x8a2229=>_0x8a2229[_0x5de06d(0x2f6)]===_0x85ee78[_0x5de06d(0x2f6)]),!_0x175696)throw this[_0x5de06d(0x53d)][_0x5de06d(0x75e)](this[_0x5de06d(0x3b2)]+'\x20('+this[_0x5de06d(0x7ed)][_0x5de06d(0x311)]+_0x5de06d(0x2c6)+_0x85ee78[_0x5de06d(0x2f6)]+_0x5de06d(0x471)),new m(_0x5de06d(0x316));let _0x2c43fc=await this['repository'][_0x5de06d(0x21d)][_0x5de06d(0x648)]({'where':{'_id':_0x175696[_0x5de06d(0x2a2)]}});if(!_0x2c43fc||!_0x2c43fc['whoCanUse']?.[_0x5de06d(0x3f1)](this[_0x5de06d(0x7ed)][_0x5de06d(0x311)]))throw this[_0x5de06d(0x53d)][_0x5de06d(0x4e8)](this[_0x5de06d(0x3b2)]+'\x20('+this['instance'][_0x5de06d(0x311)]+'):\x20Flow\x20\x27'+_0x175696[_0x5de06d(0x2a2)]+_0x5de06d(0x7c5)),_0x274ddd=_0x5de06d(0x38a)+_0x175696[_0x5de06d(0x2a2)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo',new m(_0x274ddd);let _0x2861d1=await this[_0x5de06d(0x6cd)](_0x2c43fc,_0x13e70c['jid'],_0x85ee78[_0x5de06d(0x20a)]);if(_0x2861d1){this['logger'][_0x5de06d(0x75e)](this[_0x5de06d(0x3b2)]+'\x20('+this['instance']['wuid']+_0x5de06d(0x485));let _0x9167f5=await this['NextBlock'](_0x2861d1);return _0x9167f5&&await this['processblock'](_0x2861d1,_0x9167f5),{'message':'Flow\x20iniciado\x20com\x20'+_0x85ee78[_0x5de06d(0x7f9)]};}}catch(_0x3a9ba5){if(this[_0x5de06d(0x53d)][_0x5de06d(0x4e8)](this['instanceName']+'\x20('+this['instance'][_0x5de06d(0x311)]+_0x5de06d(0x6dd)+(_0x3a9ba5 instanceof Error?_0x3a9ba5[_0x5de06d(0x867)]:JSON[_0x5de06d(0x6b1)](_0x3a9ba5,null,0x2))),_0x274ddd=_0x3a9ba5 instanceof Error?_0x3a9ba5[_0x5de06d(0x867)]:JSON[_0x5de06d(0x6b1)](_0x3a9ba5,null,0x2),_0x274ddd)throw new m(_0x5de06d(0x48e)+_0x274ddd);}}async['startFlowWebhook'](_0x5531e1,_0x30c69d,_0x506bc1){const _0x3e1011=a0_0x3d18fe;let _0x13045e=null;try{if(!this[_0x3e1011(0x22f)]?.[_0x3e1011(0x32b)]['enabled'])throw new m(_0x3e1011(0x77c));if(this['logger'][_0x3e1011(0x75e)](this['instanceName']+'\x20('+this[_0x3e1011(0x7ed)][_0x3e1011(0x311)]+_0x3e1011(0x805)),_0x30c69d){let _0x35e685=(await this[_0x3e1011(0x679)]({'numbers':[_0x30c69d]}))[0x0];if(!_0x35e685[_0x3e1011(0x622)]&&!(0x0,w[_0x3e1011(0x608)])(_0x35e685[_0x3e1011(0x857)])&&!_0x35e685[_0x3e1011(0x857)][_0x3e1011(0x3f1)]('@broadcast'))throw _0x13045e=JSON['stringify'](_0x35e685,null,0x2),new m(_0x35e685);_0x30c69d=_0x35e685[_0x3e1011(0x857)];}else _0x30c69d||(_0x30c69d=(0x0,Y['v4'])());let _0x2da709=await this['repository'][_0x3e1011(0x21d)][_0x3e1011(0x648)]({'where':{'_id':_0x5531e1}});if(!_0x2da709||!_0x2da709[_0x3e1011(0x221)]?.[_0x3e1011(0x3f1)](this[_0x3e1011(0x7ed)]['wuid']))throw this[_0x3e1011(0x53d)][_0x3e1011(0x4e8)](this[_0x3e1011(0x3b2)]+'\x20('+this[_0x3e1011(0x7ed)][_0x3e1011(0x311)]+_0x3e1011(0x5f2)+_0x5531e1+_0x3e1011(0x7c5)),new m(_0x3e1011(0x38a)+_0x5531e1+_0x3e1011(0x7c5));let _0xcbe7ae=await this['createConversationforStartFlow'](_0x2da709,_0x30c69d,null);if(_0xcbe7ae){this[_0x3e1011(0x53d)][_0x3e1011(0x75e)](this['instanceName']+'\x20('+this[_0x3e1011(0x7ed)][_0x3e1011(0x311)]+_0x3e1011(0x714));let _0x537b2e;if(_0x506bc1){let _0x5c314f=_0xcbe7ae[_0x3e1011(0x2bc)][_0x3e1011(0x148)],_0x40b5c8=this[_0x3e1011(0x35a)](_0x506bc1);Object[_0x3e1011(0x640)](_0x5c314f,_0x40b5c8),_0xcbe7ae[_0x3e1011(0x2bc)][_0x3e1011(0x148)]=_0x5c314f,_0x537b2e={'error':!0x1,'apiResponse':_0x506bc1};}let _0x71e6d6=await this[_0x3e1011(0x78d)](_0xcbe7ae);return _0x71e6d6&&await this[_0x3e1011(0x21a)](_0xcbe7ae,_0x71e6d6),{'message':'Flow\x20iniciado'};}}catch(_0x2d9b99){if(this[_0x3e1011(0x53d)][_0x3e1011(0x4e8)](this['instanceName']+'\x20('+this[_0x3e1011(0x7ed)][_0x3e1011(0x311)]+_0x3e1011(0x6dd)+(_0x2d9b99 instanceof Error?_0x2d9b99['message']:JSON[_0x3e1011(0x6b1)](_0x2d9b99,null,0x2))),_0x13045e=_0x2d9b99 instanceof Error?_0x2d9b99[_0x3e1011(0x867)]:JSON['stringify'](_0x2d9b99,null,0x2),_0x13045e)throw new m(_0x3e1011(0x48e)+_0x13045e);}}async[a0_0x3d18fe(0x4c0)](_0x245359){const _0x1390c6=a0_0x3d18fe;try{let _0xfc18f4={'remoteJid':_0x245359,'status':'open'},_0x1997dd={'status':_0x1390c6(0x89f)},_0xc4c91f=await this[_0x1390c6(0x827)][_0x1390c6(0x194)][_0x1390c6(0x772)](_0xfc18f4,_0x1997dd,this[_0x1390c6(0x7ed)]['wuid']);return this[_0x1390c6(0x53d)]['verbose'](this[_0x1390c6(0x3b2)]+'\x20('+this['instance']['wuid']+_0x1390c6(0x6f9)),_0xc4c91f;}catch(_0x493d6){throw this[_0x1390c6(0x53d)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x493d6[_0x1390c6(0x867)]),_0x493d6;}}async[a0_0x3d18fe(0x6cd)](_0x40bb14,_0x5810f4,_0x412565){const _0x178687=a0_0x3d18fe;this[_0x178687(0x53d)][_0x178687(0x75e)](this[_0x178687(0x3b2)]+'\x20('+this['instance'][_0x178687(0x311)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x178687(0x4c0)](_0x5810f4);try{let _0x47708a=require(_0x178687(0x506))[_0x178687(0x38e)],_0x4b8849=Date[_0x178687(0x7f3)](),_0x456bbf=_0x178687(0x563),_0x540441={},_0x316be0={},_0x2ade13=this['AutomateSystem']['flows'][_0x178687(0x80c)](_0x228eaf=>_0x228eaf[_0x178687(0x2a2)]===_0x40bb14[_0x178687(0x2a2)]?.[_0x178687(0x444)]()),_0xa002e9=_0x2ade13?.[_0x178687(0x649)]??_0x40bb14[_0x178687(0x649)]??0x0,_0x13169f=_0x2ade13?.['readMessages']??_0x40bb14[_0x178687(0x3d3)]??!0x1,_0x5c66ea={'flowId':_0x40bb14[_0x178687(0x2a2)],..._0x40bb14,'chatLog':null},_0x1c17b2=await this[_0x178687(0x1e1)](_0x5c66ea[_0x178687(0x407)]),_0x3962f1=await this['getVariablesChat'](_0x5810f4),_0x55f4d9={..._0x1c17b2,..._0x3962f1,'_remoteJid':_0x5810f4},_0x20a3fe={'lastReceivedMessage':_0x540441,'lastSendMessage':_0x316be0,'lastBlockId':_0x456bbf,'lastCondition':!0x0,'realVariables':_0x55f4d9};_0x5c66ea[_0x178687(0x2bc)]=_0x20a3fe,_0x5c66ea[_0x178687(0x2bc)][_0x178687(0x148)]={..._0x55f4d9,..._0x412565},delete _0x5c66ea['_id'],_0x5c66ea['_id']=new _0x47708a(),_0x5c66ea[_0x178687(0x55a)]=_0x4b8849,_0x5c66ea[_0x178687(0x1b2)]=_0x178687(0x5b1),_0x5c66ea[_0x178687(0x7f9)]=_0x5810f4,_0x5c66ea['minutesToClose']=_0xa002e9,_0x5c66ea[_0x178687(0x3d3)]=_0x13169f,_0x5c66ea['_id']=_0x40bb14['_id'];let _0x5ea152=await this[_0x178687(0x827)][_0x178687(0x194)][_0x178687(0x442)](_0x5c66ea[_0x178687(0x2a2)],_0x5c66ea,this[_0x178687(0x7ed)][_0x178687(0x311)]);return this[_0x178687(0x53d)][_0x178687(0x75e)](this[_0x178687(0x3b2)]+'\x20('+this[_0x178687(0x7ed)][_0x178687(0x311)]+_0x178687(0x665)),_0x5ea152?_0x5c66ea:null;}catch(_0x4344ea){let _0x280864=_0x178687(0x1f8),_0x44d981=_0x4344ea instanceof Error?_0x4344ea[_0x178687(0x867)]:typeof _0x4344ea==_0x178687(0x85e)?JSON['stringify'](_0x4344ea):_0x4344ea,_0x625e7d=_0x280864+':\x20'+_0x44d981;throw this[_0x178687(0x53d)]['error'](this[_0x178687(0x3b2)]+'\x20('+this[_0x178687(0x7ed)]['wuid']+_0x178687(0x851)+_0x625e7d),new m(_0x625e7d);}}async['getConversation'](_0x1e0b2a){const _0x2abd47=a0_0x3d18fe;try{this[_0x2abd47(0x53d)][_0x2abd47(0x75e)](this[_0x2abd47(0x3b2)]+'\x20('+this[_0x2abd47(0x7ed)][_0x2abd47(0x311)]+'):\x20Buscando\x20conversa...'),this[_0x2abd47(0x53d)][_0x2abd47(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x2abd47(0x311)]+_0x2abd47(0x5b2)+_0x1e0b2a);let _0x26d81c={'where':{'_id':_0x1e0b2a}};return await this[_0x2abd47(0x827)][_0x2abd47(0x194)][_0x2abd47(0x648)](_0x26d81c,this[_0x2abd47(0x7ed)]['wuid']);}catch(_0x4e1516){let _0x41c12e=_0x2abd47(0x6b5),_0x267d21=_0x4e1516 instanceof Error?_0x4e1516['message']:typeof _0x4e1516==_0x2abd47(0x85e)?JSON[_0x2abd47(0x6b1)](_0x4e1516):_0x4e1516,_0x3d3861=_0x41c12e+':\x20'+_0x267d21;throw this['logger'][_0x2abd47(0x4e8)](this['instanceName']+'\x20('+this[_0x2abd47(0x7ed)][_0x2abd47(0x311)]+_0x2abd47(0x851)+_0x3d3861),new m(_0x3d3861);}}async[a0_0x3d18fe(0x412)](_0xebcd32){const _0x5304ed=a0_0x3d18fe;try{return this[_0x5304ed(0x53d)][_0x5304ed(0x75e)](this[_0x5304ed(0x3b2)]+'\x20('+this[_0x5304ed(0x7ed)][_0x5304ed(0x311)]+_0x5304ed(0x896)),await this[_0x5304ed(0x827)][_0x5304ed(0x194)][_0x5304ed(0x80c)](_0xebcd32,this[_0x5304ed(0x7ed)][_0x5304ed(0x311)]);}catch(_0x4562ad){let _0x4a5f29=_0x5304ed(0x4c1),_0x2cef9d=_0x4562ad instanceof Error?_0x4562ad['message']:typeof _0x4562ad=='object'?JSON[_0x5304ed(0x6b1)](_0x4562ad):_0x4562ad,_0x5c28a3=_0x4a5f29+':\x20'+_0x2cef9d;throw this[_0x5304ed(0x53d)][_0x5304ed(0x4e8)](this['instanceName']+'\x20('+this[_0x5304ed(0x7ed)][_0x5304ed(0x311)]+'):\x20'+_0x5c28a3),new m(_0x5c28a3);}}async[a0_0x3d18fe(0x702)](_0x3e9f76){const _0x352a69=a0_0x3d18fe;try{return this[_0x352a69(0x53d)][_0x352a69(0x75e)](this[_0x352a69(0x3b2)]+'\x20('+this[_0x352a69(0x7ed)][_0x352a69(0x311)]+_0x352a69(0x5aa)),this[_0x352a69(0x53d)][_0x352a69(0x75e)](this[_0x352a69(0x3b2)]+'\x20('+this[_0x352a69(0x7ed)]['wuid']+_0x352a69(0x755)+_0x3e9f76),(await this[_0x352a69(0x827)][_0x352a69(0x194)][_0x352a69(0x4ac)]({'where':{'_id':_0x3e9f76['_id']}},this[_0x352a69(0x7ed)][_0x352a69(0x311)]))[_0x352a69(0x6b8)]===0x0?{'message':_0x352a69(0x7d5)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2711ee){let _0x3d0f09=_0x352a69(0x260),_0x3bfcc6=_0x2711ee instanceof Error?_0x2711ee['message']:typeof _0x2711ee==_0x352a69(0x85e)?JSON[_0x352a69(0x6b1)](_0x2711ee):_0x2711ee,_0x2b29f1=_0x3d0f09+':\x20'+_0x3bfcc6;throw this[_0x352a69(0x53d)][_0x352a69(0x4e8)](this[_0x352a69(0x3b2)]+'\x20('+this[_0x352a69(0x7ed)]['wuid']+_0x352a69(0x851)+_0x2b29f1),new m(_0x2b29f1);}}async['editConversation'](_0x3899c4){const _0xf88984=a0_0x3d18fe;try{let {_id:_0x34aab4,chatLog:_0x2e6645,status:_0x360481}=_0x3899c4;if(!_0x34aab4)return{'message':'O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.'};let _0x1001b7={};if(_0x360481!==void 0x0&&(_0x1001b7[_0xf88984(0x1b2)]=_0x360481),Object[_0xf88984(0x551)](_0x1001b7)['length']===0x0)return{'message':_0xf88984(0x393)};let _0x4b18d5=await this[_0xf88984(0x827)][_0xf88984(0x194)][_0xf88984(0x442)](_0x34aab4,_0x1001b7,this[_0xf88984(0x7ed)][_0xf88984(0x311)]);return _0x4b18d5||{'message':_0xf88984(0x4ef)};}catch(_0x21ad49){let _0x3e8dfa=_0xf88984(0x403),_0x25b766=_0x21ad49 instanceof Error?_0x21ad49['message']:typeof _0x21ad49==_0xf88984(0x85e)?JSON[_0xf88984(0x6b1)](_0x21ad49):_0x21ad49,_0x3dc097=_0x3e8dfa+':\x20'+_0x25b766;throw this['logger'][_0xf88984(0x4e8)](this[_0xf88984(0x3b2)]+'\x20('+this[_0xf88984(0x7ed)]['wuid']+'):\x20'+_0x3dc097),new m(_0x3dc097);}}async[a0_0x3d18fe(0x369)](_0x569ebc){const _0x5c57b5=a0_0x3d18fe;try{_0x569ebc[_0x5c57b5(0x2a2)]=this['createJid'](_0x569ebc[_0x5c57b5(0x2a2)]);let _0x3da296=await this['repository'][_0x5c57b5(0x1cd)][_0x5c57b5(0x648)]({'where':{'_id':_0x569ebc[_0x5c57b5(0x2a2)]}},this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]);if(!_0x3da296)throw new m(_0x5c57b5(0x39a));let {_id:_0x2eec57,leadInfo:_0x24d177}=_0x569ebc;if(!_0x2eec57)throw new Error('O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.');if(_0x569ebc[_0x5c57b5(0x5cd)]===_0x5c57b5(0x6e6))return await this[_0x5c57b5(0x7db)](_0x569ebc[_0x5c57b5(0x2a2)]),await this[_0x5c57b5(0x827)][_0x5c57b5(0x1cd)][_0x5c57b5(0x5cd)]({'where':{'_id':_0x569ebc[_0x5c57b5(0x2a2)]}},this[_0x5c57b5(0x7ed)]['wuid']),await this['repository']['message'][_0x5c57b5(0x5cd)]({'where':{'key':{'remoteJid':_0x569ebc[_0x5c57b5(0x2a2)]}}},this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]),_0x569ebc=await this[_0x5c57b5(0x827)][_0x5c57b5(0x1cd)][_0x5c57b5(0x442)]({'where':{'_id':_0x569ebc['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x5c57b5(0x3b2)],_0x5c57b5(0x765),{'chat':_0x569ebc}),{'message':_0x5c57b5(0x3f7)};if(_0x569ebc[_0x5c57b5(0x5cd)]===_0x5c57b5(0x4cf))return await this[_0x5c57b5(0x827)][_0x5c57b5(0x867)][_0x5c57b5(0x5cd)]({'where':{'key':{'remoteJid':_0x569ebc['_id']}}},this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]),_0x569ebc=await this[_0x5c57b5(0x827)][_0x5c57b5(0x1cd)]['updateOne']({'where':{'_id':_0x569ebc[_0x5c57b5(0x2a2)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x5c57b5(0x3b2)],_0x5c57b5(0x765),{'chat':_0x569ebc}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x339569=(_0x1a5e60,_0x41e2e1,_0x47a049)=>{const _0x440846=_0x5c57b5;_0x1a5e60&&_0x47a049[_0x440846(0x358)](_0x135ecc=>{const _0x14007c=_0x440846;_0x1a5e60[_0x135ecc]!==void 0x0&&(_0x41e2e1[_0x14007c(0x3d9)+_0x135ecc]=_0x1a5e60[_0x135ecc]);});},_0x5c29ab={};if(_0x5c57b5(0x58a)in _0x569ebc&&(this['logger'][_0x5c57b5(0x75e)](this[_0x5c57b5(0x3b2)]+'\x20('+this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]+_0x5c57b5(0x1e6)+_0x569ebc[_0x5c57b5(0x2a2)]),_0x569ebc[_0x5c57b5(0x58a)]=_0x569ebc[_0x5c57b5(0x58a)]===0x0?null:-0x1,await this[_0x5c57b5(0x880)][_0x5c57b5(0x54c)]({'mute':_0x569ebc[_0x5c57b5(0x58a)]},_0x569ebc['_id']),_0x5c29ab[_0x5c57b5(0x58a)]=Number(_0x569ebc[_0x5c57b5(0x58a)])),_0x24d177&&(_0x339569(_0x24d177,_0x5c29ab,['nome','nomecompleto','email',_0x5c57b5(0x4fd),_0x5c57b5(0x1b2),'notas',_0x5c57b5(0x35e),'atendimentoAberto',_0x5c57b5(0x5dd),'etiquetas',_0x5c57b5(0x4ed)]),Array[_0x5c57b5(0x27a)](_0x24d177[_0x5c57b5(0x708)])&&(_0x5c29ab[_0x5c57b5(0x7b0)]=_0x24d177[_0x5c57b5(0x708)][_0x5c57b5(0x82a)](_0x24af2b=>({'_id':_0x24af2b[_0x5c57b5(0x2a2)],'value':_0x24af2b[_0x5c57b5(0x50b)]}))),_0x569ebc[_0x5c57b5(0x518)][_0x5c57b5(0x3fd)]!==void 0x0)){let _0x28e417=await this['repository']['label']['find']({'where':{}},this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]),_0xc0981d=new Set(_0x569ebc[_0x5c57b5(0x518)][_0x5c57b5(0x3fd)]||[]),_0x83cac6=new Set(_0x569ebc[_0x5c57b5(0x518)]['etiquetas']),_0x10a8e6=new Set(_0x28e417[_0x5c57b5(0x82a)](_0x12df11=>_0x12df11[_0x5c57b5(0x2a2)])),_0x443de0=[..._0x83cac6][_0x5c57b5(0x836)](_0x1f054e=>!_0xc0981d['has'](_0x1f054e)&&_0x10a8e6['has'](_0x1f054e)),_0x2dde35=[..._0xc0981d]['filter'](_0x1295c6=>!_0x83cac6[_0x5c57b5(0x146)](_0x1295c6));if(_0x5c29ab[_0x5c57b5(0x421)]=[..._0xc0981d],_0x3da296&&!_0x3da296[_0x5c57b5(0x593)]){for(let _0x342539 of _0x443de0)await this['AddChatLabel'](_0x342539,_0x569ebc[_0x5c57b5(0x2a2)]),_0xc0981d[_0x5c57b5(0x4b0)](_0x342539);for(let _0x5752ba of _0x2dde35)await this[_0x5c57b5(0x312)](_0x5752ba,_0x569ebc['_id']),_0xc0981d['delete'](_0x5752ba);}}if(_0x569ebc[_0x5c57b5(0x246)]!==void 0x0&&(_0x5c29ab[_0x5c57b5(0x246)]=Number(_0x569ebc[_0x5c57b5(0x246)])),Object[_0x5c57b5(0x551)](_0x5c29ab)[_0x5c57b5(0x802)]===0x0)throw new Error(_0x5c57b5(0x393));let _0x25c9bb=await this['repository'][_0x5c57b5(0x1cd)][_0x5c57b5(0x442)]({'where':{'_id':_0x569ebc[_0x5c57b5(0x2a2)]}},_0x5c29ab,this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]);return _0x25c9bb&&F(this['instanceName'],_0x5c57b5(0x765),{'chat':_0x25c9bb}),_0x25c9bb?(this['logger'][_0x5c57b5(0x75e)](this[_0x5c57b5(0x3b2)]+'\x20('+this[_0x5c57b5(0x7ed)][_0x5c57b5(0x311)]+_0x5c57b5(0x851)+JSON[_0x5c57b5(0x6b1)](_0x25c9bb,null,0x2)),_0x25c9bb):{'message':_0x5c57b5(0x510)};}catch(_0x1d151b){let _0x14c418=_0x5c57b5(0x89a),_0x4de87e=_0x1d151b instanceof Error?_0x1d151b[_0x5c57b5(0x867)]:typeof _0x1d151b==_0x5c57b5(0x85e)?JSON[_0x5c57b5(0x6b1)](_0x1d151b):_0x1d151b,_0x596984=_0x14c418+':\x20'+_0x4de87e;throw this[_0x5c57b5(0x53d)][_0x5c57b5(0x4e8)](this[_0x5c57b5(0x3b2)]+'\x20('+this[_0x5c57b5(0x7ed)]['wuid']+_0x5c57b5(0x851)+_0x596984),new m(_0x596984);}}async[a0_0x3d18fe(0x654)](_0x3275ce,_0x96bd00){const _0x5b2db9=a0_0x3d18fe;try{await this[_0x5b2db9(0x880)][_0x5b2db9(0x52f)](_0x96bd00,_0x3275ce),this['logger'][_0x5b2db9(0x4f2)](this[_0x5b2db9(0x3b2)]+'\x20('+this[_0x5b2db9(0x7ed)][_0x5b2db9(0x311)]+_0x5b2db9(0x852)+_0x3275ce+_0x5b2db9(0x689)+_0x96bd00+'\x20com\x20sucesso.');}catch(_0x1cade1){this['logger'][_0x5b2db9(0x4e8)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x3275ce+'\x20ao\x20chat\x20'+_0x96bd00+':\x20'+_0x1cade1);}}async[a0_0x3d18fe(0x312)](_0x4440e9,_0x2f593a){const _0x224302=a0_0x3d18fe;try{await this[_0x224302(0x880)][_0x224302(0x445)](_0x2f593a,_0x4440e9),this[_0x224302(0x53d)][_0x224302(0x4f2)](this['instanceName']+'\x20('+this[_0x224302(0x7ed)]['wuid']+_0x224302(0x852)+_0x4440e9+_0x224302(0x713)+_0x2f593a+_0x224302(0x7ba));}catch(_0x5012b3){this['logger'][_0x224302(0x4e8)](_0x224302(0x812)+_0x4440e9+_0x224302(0x402)+_0x2f593a+':\x20'+_0x5012b3);}}async[a0_0x3d18fe(0x17e)](_0x548f37){const _0x4d8f43=a0_0x3d18fe;try{let _0x3615ad=await this['repository'][_0x4d8f43(0x763)][_0x4d8f43(0x34d)](this[_0x4d8f43(0x7ed)][_0x4d8f43(0x311)]),_0x16e059=_0x548f37[_0x4d8f43(0x2a2)]?_0x3615ad['agents'][_0x4d8f43(0x878)](_0x3f4ecf=>_0x3f4ecf[_0x4d8f43(0x2a2)]===_0x548f37[_0x4d8f43(0x2a2)]):-0x1;if(_0x548f37[_0x4d8f43(0x5cd)]&&_0x16e059>-0x1)_0x3615ad[_0x4d8f43(0x3bc)][_0x4d8f43(0x18d)](_0x16e059,0x1);else{if(_0x16e059>-0x1){let _0x45cf1b=_0x3615ad['agents'][_0x16e059];_0x548f37[_0x4d8f43(0x30d)]&&(_0x45cf1b[_0x4d8f43(0x30d)]=_0x548f37[_0x4d8f43(0x30d)]),_0x548f37[_0x4d8f43(0x2f6)]&&(_0x45cf1b[_0x4d8f43(0x2f6)]=_0x548f37[_0x4d8f43(0x2f6)]),_0x548f37[_0x4d8f43(0x1f1)]&&(_0x45cf1b[_0x4d8f43(0x1f1)]=_0x548f37[_0x4d8f43(0x1f1)]),_0x548f37['role']&&(_0x45cf1b[_0x4d8f43(0x69b)]=_0x548f37[_0x4d8f43(0x69b)]);}else _0x3615ad[_0x4d8f43(0x3bc)][_0x4d8f43(0x1a4)]({'_id':_0x548f37[_0x4d8f43(0x2a2)]||new ge[(_0x4d8f43(0x62f))]['Types'][(_0x4d8f43(0x38e))]()[_0x4d8f43(0x444)](),'fone':_0x548f37[_0x4d8f43(0x30d)],'name':_0x548f37[_0x4d8f43(0x2f6)],'email':_0x548f37[_0x4d8f43(0x1f1)],'role':_0x548f37['role']});}let _0x38d2fa={'agents':_0x3615ad[_0x4d8f43(0x3bc)]},_0x1ccef1=await this[_0x4d8f43(0x827)][_0x4d8f43(0x763)][_0x4d8f43(0x200)](_0x38d2fa,this[_0x4d8f43(0x7ed)][_0x4d8f43(0x311)]);return this['AutomateSystem']=_0x1ccef1,this[_0x4d8f43(0x53d)]['verbose'](this[_0x4d8f43(0x3b2)]+'\x20('+this['instance']['wuid']+_0x4d8f43(0x3e5)),this['logger'][_0x4d8f43(0x75e)](this[_0x4d8f43(0x3b2)]+'\x20('+this[_0x4d8f43(0x7ed)]['wuid']+_0x4d8f43(0x851)+this['AutomateSystem']),_0x1ccef1;}catch(_0x592b3a){let _0x506c3f=_0x4d8f43(0x816),_0x298162=_0x592b3a instanceof Error?_0x592b3a[_0x4d8f43(0x867)]:typeof _0x592b3a==_0x4d8f43(0x85e)?JSON[_0x4d8f43(0x6b1)](_0x592b3a):_0x592b3a,_0x3c1388=_0x506c3f+':\x20'+_0x298162;throw this[_0x4d8f43(0x53d)][_0x4d8f43(0x4e8)](this[_0x4d8f43(0x3b2)]+'\x20('+this[_0x4d8f43(0x7ed)][_0x4d8f43(0x311)]+'):\x20'+_0x3c1388),new m(_0x3c1388);}}async[a0_0x3d18fe(0x84a)](_0x59e2a9){const _0x3bb725=a0_0x3d18fe;try{let _0x52e877=await this[_0x3bb725(0x827)][_0x3bb725(0x763)][_0x3bb725(0x34d)](this[_0x3bb725(0x7ed)]['wuid']),_0x472b48=_0x59e2a9[_0x3bb725(0x2a2)]?_0x52e877[_0x3bb725(0x708)]['findIndex'](_0x24cba1=>_0x24cba1[_0x3bb725(0x2a2)]===_0x59e2a9['_id']):-0x1,_0x40aac8=!0x1,_0x2b677e=_0x52e877['customFields'][_0x3bb725(0x838)](_0x70c0a4=>_0x70c0a4[_0x3bb725(0x39e)]===_0x59e2a9['order']);if(_0x59e2a9[_0x3bb725(0x5cd)]&&_0x472b48>-0x1)_0x52e877[_0x3bb725(0x708)]['splice'](_0x472b48,0x1),_0x40aac8=!0x0;else{if(_0x472b48>-0x1){if(_0x52e877[_0x3bb725(0x708)][_0x3bb725(0x838)](_0xc3fe08=>_0xc3fe08['name']===_0x59e2a9['name']&&_0xc3fe08[_0x3bb725(0x2a2)]!==_0x59e2a9['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');let _0x563efc=_0x52e877[_0x3bb725(0x708)][_0x472b48];_0x59e2a9[_0x3bb725(0x39e)]&&(_0x2b677e||!Number[_0x3bb725(0x4d5)](_0x59e2a9[_0x3bb725(0x39e)]))&&(_0x563efc[_0x3bb725(0x39e)]=_0x59e2a9[_0x3bb725(0x39e)],_0x40aac8=!0x0),_0x59e2a9[_0x3bb725(0x2f6)]&&(_0x563efc[_0x3bb725(0x2f6)]=_0x59e2a9[_0x3bb725(0x2f6)]);}else{if(_0x52e877[_0x3bb725(0x708)]['some'](_0x38c550=>_0x38c550[_0x3bb725(0x2f6)]===_0x59e2a9[_0x3bb725(0x2f6)]&&_0x38c550['_id']!==_0x59e2a9[_0x3bb725(0x2a2)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');_0x52e877[_0x3bb725(0x708)]['push']({'_id':_0x59e2a9[_0x3bb725(0x2a2)]||new ge[(_0x3bb725(0x62f))][(_0x3bb725(0x7c9))][(_0x3bb725(0x38e))]()[_0x3bb725(0x444)](),'order':_0x59e2a9['order'],'name':_0x59e2a9[_0x3bb725(0x2f6)]}),_0x40aac8=!0x0;}}if(_0x40aac8){_0x52e877[_0x3bb725(0x708)][_0x3bb725(0x366)]((_0x118ec1,_0x5da116)=>_0x118ec1['order']>_0x5da116[_0x3bb725(0x39e)]?0x1:_0x5da116[_0x3bb725(0x39e)]>_0x118ec1[_0x3bb725(0x39e)]?-0x1:0x0);for(let _0xafb8ce=0x0;_0xafb8ce<_0x52e877[_0x3bb725(0x708)][_0x3bb725(0x802)];_0xafb8ce++)_0x52e877[_0x3bb725(0x708)][_0xafb8ce]['order']=_0xafb8ce+0x1;}let _0x2484ad=await this['repository']['automateSystem'][_0x3bb725(0x200)](_0x52e877,this[_0x3bb725(0x7ed)][_0x3bb725(0x311)]);return this[_0x3bb725(0x22f)]=_0x2484ad,this[_0x3bb725(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x3bb725(0x7ed)][_0x3bb725(0x311)]+_0x3bb725(0x522)),this[_0x3bb725(0x53d)][_0x3bb725(0x75e)](this[_0x3bb725(0x3b2)]+'\x20('+this['instance'][_0x3bb725(0x311)]+_0x3bb725(0x851)+this[_0x3bb725(0x22f)]),_0x2484ad;}catch(_0x23a93a){let _0x246a6c=_0x3bb725(0x469),_0x4f162f=_0x23a93a instanceof Error?_0x23a93a[_0x3bb725(0x867)]:typeof _0x23a93a==_0x3bb725(0x85e)?JSON[_0x3bb725(0x6b1)](_0x23a93a):_0x23a93a,_0x5cf489=_0x246a6c+':\x20'+_0x4f162f;throw this[_0x3bb725(0x53d)][_0x3bb725(0x4e8)](this['instanceName']+'\x20('+this['instance'][_0x3bb725(0x311)]+_0x3bb725(0x851)+_0x5cf489),new m(_0x5cf489);}}async['updateAutoCompleteMessages'](_0x1a5dad){const _0x3a8458=a0_0x3d18fe;try{let _0x1fe69b=await this[_0x3a8458(0x827)][_0x3a8458(0x763)]['findOrCreate'](this['instance'][_0x3a8458(0x311)]),_0x553ec5=_0x1fe69b?.[_0x3a8458(0x20b)]?.[_0x3a8458(0x878)](_0xa06410=>_0xa06410[_0x3a8458(0x2a2)]===_0x1a5dad?.['_id']);if(_0x1a5dad?.[_0x3a8458(0x5cd)])_0x553ec5>-0x1&&_0x1fe69b?.[_0x3a8458(0x20b)]?.[_0x3a8458(0x18d)](_0x553ec5,0x1);else{if(_0x553ec5>-0x1){let _0x51a2ce=_0x1fe69b[_0x3a8458(0x20b)][_0x553ec5];_0x51a2ce[_0x3a8458(0x39e)]=_0x1a5dad?.[_0x3a8458(0x39e)]||_0x51a2ce['order'],_0x51a2ce['command']=_0x1a5dad?.[_0x3a8458(0x825)]||_0x51a2ce[_0x3a8458(0x825)],_0x51a2ce['message']=_0x1a5dad?.['message']||_0x51a2ce[_0x3a8458(0x867)];}else{let _0x3230ba={'_id':_0x1a5dad?.[_0x3a8458(0x2a2)]||new ge[(_0x3a8458(0x62f))][(_0x3a8458(0x7c9))][(_0x3a8458(0x38e))]()[_0x3a8458(0x444)](),'order':_0x1a5dad?.[_0x3a8458(0x39e)],'command':_0x1a5dad?.[_0x3a8458(0x825)],'message':_0x1a5dad?.['message']};_0x1fe69b?.[_0x3a8458(0x20b)]?.[_0x3a8458(0x1a4)](_0x3230ba);}}_0x1fe69b?.[_0x3a8458(0x20b)]?.[_0x3a8458(0x366)]((_0x165ece,_0x50d3b8)=>_0x165ece[_0x3a8458(0x39e)]-_0x50d3b8['order']);let _0x2c5397=await this[_0x3a8458(0x827)][_0x3a8458(0x763)][_0x3a8458(0x200)](_0x1fe69b,this[_0x3a8458(0x7ed)][_0x3a8458(0x311)]);return this[_0x3a8458(0x22f)]=_0x2c5397,this[_0x3a8458(0x53d)]['verbose'](this[_0x3a8458(0x3b2)]+'\x20('+this[_0x3a8458(0x7ed)][_0x3a8458(0x311)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x2c5397;}catch(_0x3a5d40){let _0x1b6723='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5025b7=_0x3a5d40 instanceof Error?_0x3a5d40['message']:typeof _0x3a5d40==_0x3a8458(0x85e)?JSON[_0x3a8458(0x6b1)](_0x3a5d40):_0x3a5d40,_0x210f76=_0x1b6723+':\x20'+_0x5025b7;throw this[_0x3a8458(0x53d)][_0x3a8458(0x4e8)](this[_0x3a8458(0x3b2)]+'\x20('+this[_0x3a8458(0x7ed)][_0x3a8458(0x311)]+'):\x20'+_0x210f76),new m(_0x210f76);}}async[a0_0x3d18fe(0x680)](_0x15e781){const _0x54f38b=a0_0x3d18fe;try{let _0x4ad33d=await this[_0x54f38b(0x827)][_0x54f38b(0x763)]['findOrCreate'](this[_0x54f38b(0x7ed)][_0x54f38b(0x311)]);if(!_0x4ad33d)throw new Error(_0x54f38b(0x20f));let _0x26f421={'_id':_0x4ad33d[_0x54f38b(0x2a2)],'flowConfig':{'enabled':_0x15e781[_0x54f38b(0x472)]??_0x4ad33d['flowConfig']['enabled'],'ignoreGroups':_0x15e781[_0x54f38b(0x4c5)]??_0x4ad33d[_0x54f38b(0x32b)]['ignoreGroups'],'stopConversation':_0x15e781[_0x54f38b(0x5a4)][_0x54f38b(0x4d9)]()??_0x4ad33d['flowConfig'][_0x54f38b(0x5a4)][_0x54f38b(0x4d9)](),'stopMinutes':_0x15e781[_0x54f38b(0x325)]??_0x4ad33d[_0x54f38b(0x32b)][_0x54f38b(0x325)],'stopWhenYouSendMsg':_0x15e781[_0x54f38b(0x81c)]??_0x4ad33d[_0x54f38b(0x32b)]['stopWhenYouSendMsg']}},_0x40e461=await this[_0x54f38b(0x827)]['automateSystem'][_0x54f38b(0x200)](_0x26f421,this[_0x54f38b(0x7ed)][_0x54f38b(0x311)]);return this[_0x54f38b(0x22f)]=_0x40e461,this['logger'][_0x54f38b(0x75e)](this[_0x54f38b(0x3b2)]+'\x20('+this['instance'][_0x54f38b(0x311)]+_0x54f38b(0x3e5)),this[_0x54f38b(0x53d)][_0x54f38b(0x75e)](this[_0x54f38b(0x3b2)]+'\x20('+this[_0x54f38b(0x7ed)][_0x54f38b(0x311)]+_0x54f38b(0x851)+this[_0x54f38b(0x22f)]),setTimeout(()=>this[_0x54f38b(0x3f5)](),0x7d0),_0x40e461;}catch(_0x4c98cf){let _0x53c15a=_0x54f38b(0x644),_0x5d293d=_0x4c98cf instanceof Error?_0x4c98cf[_0x54f38b(0x867)]:typeof _0x4c98cf==_0x54f38b(0x85e)?JSON[_0x54f38b(0x6b1)](_0x4c98cf):_0x4c98cf,_0x46433a=_0x53c15a+':\x20'+_0x5d293d;throw this[_0x54f38b(0x53d)][_0x54f38b(0x4e8)](this[_0x54f38b(0x3b2)]+'\x20('+this[_0x54f38b(0x7ed)][_0x54f38b(0x311)]+_0x54f38b(0x851)+_0x46433a),new m(_0x46433a);}}async[a0_0x3d18fe(0x81e)](){const _0xa66d52=a0_0x3d18fe;try{let _0x832b54=await this['repository'][_0xa66d52(0x763)][_0xa66d52(0x34d)](this[_0xa66d52(0x7ed)][_0xa66d52(0x311)]);return this['AutomateSystem']=_0x832b54,_0x832b54;}catch(_0x15cebe){let _0x218323=_0xa66d52(0x6ee),_0x251b02=_0x15cebe instanceof Error?_0x15cebe[_0xa66d52(0x867)]:typeof _0x15cebe==_0xa66d52(0x85e)?JSON['stringify'](_0x15cebe):_0x15cebe,_0x3e2bff=_0x218323+':\x20'+_0x251b02;throw this[_0xa66d52(0x53d)][_0xa66d52(0x4e8)](this['instanceName']+'\x20('+this['instance'][_0xa66d52(0x311)]+_0xa66d52(0x851)+_0x3e2bff),new m(_0x3e2bff);}}async['initializeQueue'](){const _0x3f1e4e=a0_0x3d18fe;let _0x3b4095=(await import(_0x3f1e4e(0x2df)))[_0x3f1e4e(0x62f)];this['queue']=new _0x3b4095({'concurrency':0x1});}async[a0_0x3d18fe(0x5b0)](){const _0x167f9c=a0_0x3d18fe;this[_0x167f9c(0x7ed)][_0x167f9c(0x37c)][_0x167f9c(0x6f2)]&&clearTimeout(this[_0x167f9c(0x7ed)][_0x167f9c(0x37c)][_0x167f9c(0x6f2)]),this[_0x167f9c(0x7ed)][_0x167f9c(0x37c)][_0x167f9c(0x6f2)]=setTimeout(()=>{const _0xf484b5=_0x167f9c;this[_0xf484b5(0x611)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3d18fe(0x611)](){const _0x4e6dba=a0_0x3d18fe;let _0x2b399e=this['instance'][_0x4e6dba(0x37c)][_0x4e6dba(0x14f)];(_0x2b399e===0x0||_0x2b399e===null||Date[_0x4e6dba(0x7f3)]()-_0x2b399e>=0x1d4c0)&&(this[_0x4e6dba(0x53d)][_0x4e6dba(0x75e)](this[_0x4e6dba(0x3b2)]+'\x20('+this[_0x4e6dba(0x7ed)][_0x4e6dba(0x311)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x4e6dba(0x7ed)][_0x4e6dba(0x37c)][_0x4e6dba(0x424)]=null,this[_0x4e6dba(0x7ed)][_0x4e6dba(0x37c)][_0x4e6dba(0x14f)]=0x0,this[_0x4e6dba(0x7ed)][_0x4e6dba(0x37c)][_0x4e6dba(0x67c)]=0x0,await this[_0x4e6dba(0x3f5)]());}async['scheduleNextCheck'](){const _0x4a0af7=a0_0x3d18fe;this['logger'][_0x4a0af7(0x6f8)](this[_0x4a0af7(0x3b2)]+'\x20('+this['instance'][_0x4a0af7(0x311)]+_0x4a0af7(0x7f2)),await this[_0x4a0af7(0x483)]();let _0x3e8368=await this['getReadyToSendMessages']();_0x3e8368[_0x4a0af7(0x802)]>0x0&&(setTimeout(()=>this[_0x4a0af7(0x611)](),0x14*0x3e8),this[_0x4a0af7(0x53d)][_0x4a0af7(0x6f8)](this[_0x4a0af7(0x3b2)]+'\x20('+this[_0x4a0af7(0x7ed)][_0x4a0af7(0x311)]+_0x4a0af7(0x584)),this[_0x4a0af7(0x2dc)][_0x4a0af7(0x4bb)](),this[_0x4a0af7(0x2dc)][_0x4a0af7(0x4b0)](()=>this['processReadyMessages'](_0x3e8368)));let _0x3f31c4={'where':{'status':'scheduled','when':{'$gt':Date[_0x4a0af7(0x7f3)]()}}},_0x6a6244=await this['repository']['scheduleMessage'][_0x4a0af7(0x648)](_0x3f31c4,this[_0x4a0af7(0x7ed)][_0x4a0af7(0x311)]);_0x6a6244&&_0x6a6244['when']-Date[_0x4a0af7(0x7f3)]()<=0x6ddd00?this[_0x4a0af7(0x7ed)]['ScheduleMessage']['delayMessage']=_0x6a6244[_0x4a0af7(0x500)]-Date[_0x4a0af7(0x7f3)]():this[_0x4a0af7(0x7ed)][_0x4a0af7(0x37c)][_0x4a0af7(0x67c)]=(0x3c+Math[_0x4a0af7(0x5dc)](Math[_0x4a0af7(0x283)]()*0x3c))*0x3c*0x3e8,this[_0x4a0af7(0x7ed)][_0x4a0af7(0x37c)][_0x4a0af7(0x67c)]=Math['max'](this[_0x4a0af7(0x7ed)][_0x4a0af7(0x37c)]['delayMessage'],0x1*0x2*0x3e8);let _0x2cdeca=Math['round'](this[_0x4a0af7(0x7ed)][_0x4a0af7(0x37c)][_0x4a0af7(0x67c)]/0xea60);if(_0x6a6244){let _0x29c78b=new Date(_0x6a6244[_0x4a0af7(0x500)])['toLocaleString']();this[_0x4a0af7(0x53d)][_0x4a0af7(0x6f8)](this[_0x4a0af7(0x3b2)]+'\x20('+this['instance'][_0x4a0af7(0x311)]+_0x4a0af7(0x27c)+_0x29c78b+',\x20far\x20nova\x20verificao\x20em\x20'+_0x2cdeca+_0x4a0af7(0x4cb));}else this[_0x4a0af7(0x53d)][_0x4a0af7(0x6f8)](this['instanceName']+'\x20('+this[_0x4a0af7(0x7ed)][_0x4a0af7(0x311)]+_0x4a0af7(0x278)+_0x2cdeca+_0x4a0af7(0x4cb));setTimeout(()=>{this['scheduleNextCheck']();},this[_0x4a0af7(0x7ed)][_0x4a0af7(0x37c)][_0x4a0af7(0x67c)]);}async['getReadyToSendMessages'](){const _0x1065b0=a0_0x3d18fe;this['logger']['warn'](this['instanceName']+'\x20('+this[_0x1065b0(0x7ed)][_0x1065b0(0x311)]+_0x1065b0(0x1b5));let _0x410efe=Date[_0x1065b0(0x7f3)]()-0xc*0x3c*0x3c*0x3e8,_0x20bd56={'where':{'status':{'$in':['scheduled',_0x1065b0(0x479)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x410efe}},{'when':0x0}]}},_0x38382f=await this[_0x1065b0(0x827)][_0x1065b0(0x3a4)][_0x1065b0(0x80c)](_0x20bd56,this['instance'][_0x1065b0(0x311)]);return this[_0x1065b0(0x53d)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x1065b0(0x311)]+_0x1065b0(0x4c8)+_0x38382f[_0x1065b0(0x802)]),_0x38382f;}async[a0_0x3d18fe(0x6bc)](_0x5bf7e5){const _0x55e4c6=a0_0x3d18fe;this[_0x55e4c6(0x53d)][_0x55e4c6(0x6f8)](this[_0x55e4c6(0x3b2)]+'\x20('+this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)]+_0x55e4c6(0x519));let _0x21dfae=0x3*0x3e8,_0x38d938=0x8*0x3e8,_0x21d3eb=Math[_0x55e4c6(0x5dc)](Math[_0x55e4c6(0x283)]()*(_0x38d938-_0x21dfae+0x1))+_0x21dfae,_0x1f0f7a=()=>this[_0x55e4c6(0x595)][_0x55e4c6(0x802)]===0x0?null:this[_0x55e4c6(0x595)]['reduce']((_0x1fa621,_0x7bfc64)=>(_0x1fa621[_0x55e4c6(0x39e)]??Number[_0x55e4c6(0x51b)])<(_0x7bfc64[_0x55e4c6(0x39e)]??Number[_0x55e4c6(0x51b)])?_0x1fa621:_0x7bfc64,this[_0x55e4c6(0x595)][0x0]);_0x5bf7e5=await this[_0x55e4c6(0x502)]();for(let _0x5ba272 of _0x5bf7e5){await this[_0x55e4c6(0x5b0)]();let _0x381903=0x3*0x3e8,_0x5ba8da={'_id':_0x5ba272[_0x55e4c6(0x2a2)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x381903}}]},_0x2bc017={'startSend':Date[_0x55e4c6(0x7f3)](),'status':_0x55e4c6(0x479)},_0xe671a7=await this[_0x55e4c6(0x827)][_0x55e4c6(0x3a4)][_0x55e4c6(0x442)](_0x5ba8da,_0x2bc017,this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)]);if(this['pendingMessages']=_0xe671a7[_0x55e4c6(0x4cf)][_0x55e4c6(0x836)](_0x1a5ebd=>!_0x1a5ebd[_0x55e4c6(0x140)]),!_0xe671a7){setTimeout(()=>this[_0x55e4c6(0x611)](),0xa*0x3e8);continue;}if(this[_0x55e4c6(0x7ed)][_0x55e4c6(0x37c)][_0x55e4c6(0x424)]=_0xe671a7,!this[_0x55e4c6(0x7ed)][_0x55e4c6(0x37c)]['isConnected']){this[_0x55e4c6(0x53d)]['warn'](this[_0x55e4c6(0x3b2)]+'\x20('+this[_0x55e4c6(0x7ed)]['wuid']+_0x55e4c6(0x25a));break;}for(;this[_0x55e4c6(0x595)][_0x55e4c6(0x802)]>0x0;){await this[_0x55e4c6(0x5b0)]();let _0x4f7e17=_0x1f0f7a();if(!_0x4f7e17)break;let _0x32e0d6=_0x5ba272[_0x55e4c6(0x4cf)][_0x55e4c6(0x80c)](_0x3db9cf=>_0x3db9cf[_0x55e4c6(0x2a2)]===_0x4f7e17['_id']);if(!_0x32e0d6)break;if(this['instance'][_0x55e4c6(0x37c)][_0x55e4c6(0x14f)]=Date[_0x55e4c6(0x7f3)](),_0x32e0d6[_0x55e4c6(0x140)]){this['logger'][_0x55e4c6(0x6f8)](this[_0x55e4c6(0x3b2)]+'\x20('+this['instance'][_0x55e4c6(0x311)]+_0x55e4c6(0x398)+_0x32e0d6[_0x55e4c6(0x7f9)]+_0x55e4c6(0x742)),this[_0x55e4c6(0x595)]=this[_0x55e4c6(0x595)][_0x55e4c6(0x836)](_0x378696=>_0x378696[_0x55e4c6(0x2a2)]!==_0x32e0d6[_0x55e4c6(0x2a2)]);continue;}if(!this['instance'][_0x55e4c6(0x37c)][_0x55e4c6(0x41f)]){this['logger'][_0x55e4c6(0x6f8)](this[_0x55e4c6(0x3b2)]+'\x20('+this[_0x55e4c6(0x7ed)]['wuid']+_0x55e4c6(0x6a8));break;}if(!this[_0x55e4c6(0x7ed)][_0x55e4c6(0x37c)][_0x55e4c6(0x424)]){this[_0x55e4c6(0x53d)][_0x55e4c6(0x6f8)](this[_0x55e4c6(0x3b2)]+'\x20('+this[_0x55e4c6(0x7ed)]['wuid']+_0x55e4c6(0x81b)+_0x5ba272[_0x55e4c6(0x2a2)]+_0x55e4c6(0x88d));break;}let _0x32d9d0={'idControl':_0x32e0d6[_0x55e4c6(0x2a2)],'remoteJid':_0x32e0d6['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x21143f=null;try{this[_0x55e4c6(0x53d)][_0x55e4c6(0x6f8)](this[_0x55e4c6(0x3b2)]+'\x20('+this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x32e0d6['remoteJid']);let _0x3d49a2=await this['SendScheduleMessage'](_0x32e0d6[_0x55e4c6(0x7f9)],_0x32e0d6);_0x32d9d0[_0x55e4c6(0x4e8)]=_0x3d49a2[_0x55e4c6(0x4e8)],_0x32d9d0['id']=_0x3d49a2[_0x55e4c6(0x4e8)]?null:_0x3d49a2['id'],_0x32d9d0[_0x55e4c6(0x725)]=_0x3d49a2[_0x55e4c6(0x4e8)]?_0x3d49a2[_0x55e4c6(0x323)]?_0x3d49a2[_0x55e4c6(0x323)][_0x55e4c6(0x444)]():'':null;let _0xbb5999=_0x5ba272['messages'][_0x55e4c6(0x878)](_0x54300b=>_0x54300b['_id']===_0x32e0d6[_0x55e4c6(0x2a2)]);_0xbb5999!==-0x1&&(_0x5ba272['messages'][_0xbb5999][_0x55e4c6(0x140)]=!0x0);let _0xd458f7={'$push':{'messagesSend':_0x32d9d0},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4b47dc=[{'elem._id':_0x32e0d6[_0x55e4c6(0x2a2)]}];if(this[_0x55e4c6(0x53d)]['warn'](this[_0x55e4c6(0x3b2)]+'\x20('+this['instance'][_0x55e4c6(0x311)]+_0x55e4c6(0x31e)+_0x32e0d6['_id']),_0x21143f=await this[_0x55e4c6(0x827)][_0x55e4c6(0x3a4)][_0x55e4c6(0x442)]({'_id':_0x5ba272[_0x55e4c6(0x2a2)]},_0xd458f7,this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)],{'arrayFilters':_0x4b47dc}),_0x3d49a2['error']){this[_0x55e4c6(0x53d)][_0x55e4c6(0x4e8)](this[_0x55e4c6(0x3b2)]+'\x20('+this['instance']['wuid']+_0x55e4c6(0x5a2)+_0x3d49a2[_0x55e4c6(0x323)]);continue;}let _0x2ee3e2=this[_0x55e4c6(0x484)](_0x5ba272[_0x55e4c6(0x6e1)],_0x5ba272[_0x55e4c6(0x8a6)]);await this['sleep'](_0x2ee3e2);}catch(_0x3439c5){this[_0x55e4c6(0x53d)][_0x55e4c6(0x4e8)](this[_0x55e4c6(0x3b2)]+'\x20('+this['instance']['wuid']+_0x55e4c6(0x6d4)+_0x32e0d6[_0x55e4c6(0x7f9)]+':\x20'+(_0x3439c5 instanceof Error?_0x3439c5[_0x55e4c6(0x867)]:JSON[_0x55e4c6(0x6b1)](_0x3439c5,null,0x2))),_0x32d9d0[_0x55e4c6(0x4e8)]=!0x0,_0x32d9d0[_0x55e4c6(0x725)]=_0x3439c5[_0x55e4c6(0x867)];let _0x3a8633=_0x5ba272[_0x55e4c6(0x4cf)][_0x55e4c6(0x878)](_0x87c3c8=>_0x87c3c8[_0x55e4c6(0x2a2)]===_0x32e0d6['_id']);_0x3a8633!==-0x1&&(_0x5ba272[_0x55e4c6(0x4cf)][_0x3a8633][_0x55e4c6(0x140)]=!0x0);let _0x4bea94={'$push':{'messagesSend':_0x32d9d0},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x384923=[{'elem._id':_0x32e0d6[_0x55e4c6(0x2a2)]}];this[_0x55e4c6(0x53d)][_0x55e4c6(0x6f8)](this['instanceName']+'\x20('+this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)]+_0x55e4c6(0x646)+_0x32e0d6[_0x55e4c6(0x2a2)]),_0x21143f=await this['repository'][_0x55e4c6(0x3a4)][_0x55e4c6(0x442)]({'_id':_0x5ba272[_0x55e4c6(0x2a2)]},_0x4bea94,this['instance'][_0x55e4c6(0x311)],{'arrayFilters':_0x384923});}finally{if(_0x21143f&&_0x21143f[_0x55e4c6(0x1b2)]===_0x55e4c6(0x661)){this['logger']['warn'](this['instanceName']+'\x20('+this['instance'][_0x55e4c6(0x311)]+_0x55e4c6(0x81b)+_0x32e0d6[_0x55e4c6(0x2a2)]+_0x55e4c6(0x5b9));break;}let _0x57d9ec=_0x21143f[_0x55e4c6(0x4cf)][_0x55e4c6(0x80c)](_0x1a76f0=>_0x1a76f0[_0x55e4c6(0x2a2)]===_0x32e0d6['_id']);if(_0x57d9ec&&!_0x57d9ec['triedToSend']){let _0x228557={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x617abb=[{'elem._id':_0x32e0d6[_0x55e4c6(0x2a2)]}];await this[_0x55e4c6(0x827)]['scheduleMessage'][_0x55e4c6(0x442)]({'_id':_0x21143f[_0x55e4c6(0x2a2)]},_0x228557,this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)],{'arrayFilters':_0x617abb});}if(this[_0x55e4c6(0x595)]=_0x21143f[_0x55e4c6(0x4cf)][_0x55e4c6(0x836)](_0x3bd164=>!_0x3bd164[_0x55e4c6(0x140)]),!this[_0x55e4c6(0x7ed)][_0x55e4c6(0x37c)][_0x55e4c6(0x424)]){await this[_0x55e4c6(0x5b0)](),this[_0x55e4c6(0x53d)][_0x55e4c6(0x6f8)](this['instanceName']+'\x20('+this[_0x55e4c6(0x7ed)][_0x55e4c6(0x311)]+_0x55e4c6(0x81b)+_0x5ba272[_0x55e4c6(0x2a2)]+_0x55e4c6(0x88d));break;}}}this[_0x55e4c6(0x595)]=[];let _0x2547c6=await this[_0x55e4c6(0x827)][_0x55e4c6(0x3a4)][_0x55e4c6(0x681)](_0x5ba272[_0x55e4c6(0x2a2)],this[_0x55e4c6(0x7ed)]['wuid']);if(_0x2547c6['messages'][_0x55e4c6(0x513)](_0x591b67=>_0x591b67[_0x55e4c6(0x140)])&&_0x2547c6[_0x55e4c6(0x1b2)]!=='stopped'){let _0x1c53de={'$set':{'status':_0x55e4c6(0x426)}};await this[_0x55e4c6(0x827)][_0x55e4c6(0x3a4)][_0x55e4c6(0x64a)](_0x2547c6[_0x55e4c6(0x2a2)],_0x1c53de,this[_0x55e4c6(0x7ed)]['wuid']);}await new Promise(_0x4e6aaa=>setTimeout(_0x4e6aaa,_0x21d3eb)),global['gc']?global['gc']():console[_0x55e4c6(0x6f8)](_0x55e4c6(0x576));}}[a0_0x3d18fe(0x484)](_0x558c16,_0x2db1c7){const _0xa40a9a=a0_0x3d18fe;return _0x558c16=Math[_0xa40a9a(0x19e)](0.5,_0x558c16),_0x2db1c7=Math['min'](Math['max'](0x3,_0x2db1c7),0x78),Math[_0xa40a9a(0x5dc)](Math[_0xa40a9a(0x283)]()*(_0x2db1c7-_0x558c16+0x1)+_0x558c16)*0x3e8;}[a0_0x3d18fe(0x28b)](_0x56b59e){return new Promise(_0x4ef877=>setTimeout(_0x4ef877,_0x56b59e));}async[a0_0x3d18fe(0x728)](_0xcbbc16){const _0x3c7528=a0_0x3d18fe;if(!this[_0x3c7528(0x22f)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0xcbbc16=this['createJid'](_0xcbbc16);let _0x24f83d=await this[_0x3c7528(0x827)][_0x3c7528(0x1cd)][_0x3c7528(0x648)]({'where':{'_id':_0xcbbc16}},this['instance'][_0x3c7528(0x311)]),_0x234c7e={};if(_0x24f83d&&_0x24f83d[_0x3c7528(0x518)]){let _0x459d92=_0x24f83d[_0x3c7528(0x518)];typeof _0x459d92[_0x3c7528(0x31d)]==_0x3c7528(0x29b)&&(_0x234c7e[_0x3c7528(0x31d)]=_0x459d92['nome']),typeof _0x459d92[_0x3c7528(0x2f7)]==_0x3c7528(0x29b)&&(_0x234c7e[_0x3c7528(0x2f7)]=_0x459d92[_0x3c7528(0x2f7)]),typeof _0x459d92[_0x3c7528(0x1f1)]==_0x3c7528(0x29b)&&(_0x234c7e[_0x3c7528(0x1f1)]=_0x459d92['email']),typeof _0x459d92[_0x3c7528(0x4fd)]==_0x3c7528(0x29b)&&(_0x234c7e[_0x3c7528(0x4fd)]=_0x459d92[_0x3c7528(0x4fd)]),typeof _0x459d92['status']=='string'&&(_0x234c7e['status']=_0x459d92[_0x3c7528(0x1b2)]),typeof _0x459d92[_0x3c7528(0x667)]==_0x3c7528(0x29b)&&(_0x234c7e['notas']=_0x459d92['notas']),typeof _0x459d92['responsavelid']==_0x3c7528(0x29b)&&(_0x234c7e[_0x3c7528(0x5dd)]=_0x459d92[_0x3c7528(0x5dd)]),Array['isArray'](_0x459d92['tags'])&&(_0x234c7e[_0x3c7528(0x35e)]=_0x459d92[_0x3c7528(0x35e)]['join'](',\x20')),Array['isArray'](_0x459d92[_0x3c7528(0x3fd)])&&(_0x234c7e[_0x3c7528(0x3fd)]=_0x459d92['etiquetas'][_0x3c7528(0x6eb)](',\x20'));}return _0x24f83d&&_0x24f83d[_0x3c7528(0x518)]&&_0x24f83d[_0x3c7528(0x518)][_0x3c7528(0x708)]&&_0x24f83d[_0x3c7528(0x518)][_0x3c7528(0x708)][_0x3c7528(0x358)](_0x546dc8=>{const _0x2ce11c=_0x3c7528;let _0x7f79d9=this[_0x2ce11c(0x22f)]?.[_0x2ce11c(0x708)][_0x2ce11c(0x80c)](_0x48d036=>_0x48d036[_0x2ce11c(0x2a2)]===_0x546dc8[_0x2ce11c(0x2a2)]);_0x7f79d9&&(_0x234c7e[_0x7f79d9[_0x2ce11c(0x2f6)]]=_0x546dc8[_0x2ce11c(0x50b)]);}),_0x234c7e;}async['replaceVariablesChat'](_0x291f1c,_0x239191){const _0x37ddd7=a0_0x3d18fe;try{let _0x27db77=await this[_0x37ddd7(0x728)](_0x239191);return this['replaceVariables'](_0x291f1c,_0x27db77);}catch(_0x51f7b9){return this['logger']['error'](_0x37ddd7(0x7d3)+_0x239191+':\x20'+_0x51f7b9),_0x291f1c;}}async[a0_0x3d18fe(0x483)](){const _0x2f7be2=a0_0x3d18fe;let _0x1f6e13=async(_0x5c8d6d,_0x25fb8b)=>{const _0x248dfe=a0_0x4a95;let _0x541a10=(await this[_0x248dfe(0x827)][_0x248dfe(0x3a4)][_0x248dfe(0x80c)]({'where':{'type':_0x5c8d6d}},this[_0x248dfe(0x7ed)][_0x248dfe(0x311)]))[_0x248dfe(0x82a)](async _0x4cf4ef=>{const _0x1aec50=_0x248dfe;let _0x3ffc17=_0x25fb8b(_0x4cf4ef),_0x5cedc6=_0x8204c1=>/^\d+$/[_0x1aec50(0x386)](_0x8204c1),_0x1ad8e9=_0x4cf4ef['remoteJids']['filter'](_0xca7d4a=>_0xca7d4a[_0x1aec50(0x601)](_0x1aec50(0x826))?_0xca7d4a[_0x1aec50(0x802)]>0x19:_0xca7d4a[_0x1aec50(0x601)](_0x1aec50(0x815))?_0xca7d4a['length']>0xf:_0x5cedc6(_0xca7d4a)?_0xca7d4a[_0x1aec50(0x802)]>=0xb:!0x1)[_0x1aec50(0x82a)](_0x2a997f=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x4cf4ef['_id'],'type':_0x3ffc17,'remoteJid':_0x2a997f,'flow':_0x4cf4ef[_0x1aec50(0x7aa)],'text':_0x4cf4ef['message']?.[_0x1aec50(0x2b3)],'delay':_0x4cf4ef[_0x1aec50(0x867)]?.[_0x1aec50(0x2c5)],'urlOrBase64':_0x4cf4ef[_0x1aec50(0x867)]?.[_0x1aec50(0x466)],'linkPreview':_0x4cf4ef['message']?.['linkPreview'],'fileName':_0x4cf4ef[_0x1aec50(0x867)]?.[_0x1aec50(0x49d)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x1aec50(0x827)][_0x1aec50(0x3a4)][_0x1aec50(0x64a)](_0x4cf4ef[_0x1aec50(0x2a2)],{'$set':{'messages':_0x1ad8e9},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x1aec50(0x311)]);}catch(_0xe4a310){console[_0x1aec50(0x4e8)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x4cf4ef[_0x1aec50(0x2a2)]+':',_0xe4a310);}});await Promise[_0x248dfe(0x6e6)](_0x541a10);};await _0x1f6e13(_0x2f7be2(0x2b3),_0x51cb67=>'text'),await _0x1f6e13(_0x2f7be2(0x624),_0x1e0dda=>_0x1e0dda['message']?.[_0x2f7be2(0x4f6)]||'media'),await _0x1f6e13(_0x2f7be2(0x3f4),_0x3253d4=>_0x2f7be2(0x3f4)),await _0x1f6e13(_0x2f7be2(0x21d),_0x21ed3d=>_0x2f7be2(0x21d)),await _0x1f6e13(_0x2f7be2(0x333),_0x3880e8=>_0x2f7be2(0x333)),await _0x1f6e13(_0x2f7be2(0x453),_0x3a577c=>_0x2f7be2(0x453)),await _0x1f6e13(_0x2f7be2(0x267),_0x695f17=>_0x2f7be2(0x267)),this['logger'][_0x2f7be2(0x6f8)](this['instanceName']+'\x20('+this[_0x2f7be2(0x7ed)][_0x2f7be2(0x311)]+_0x2f7be2(0x7df));}async[a0_0x3d18fe(0x709)](_0x29301e){const _0x19cefd=a0_0x3d18fe;try{if(this[_0x19cefd(0x53d)]['warn'](this[_0x19cefd(0x3b2)]+'\x20('+this['instance'][_0x19cefd(0x311)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x29301e[_0x19cefd(0x2a2)]||(_0x29301e[_0x19cefd(0x2a2)]=(0x0,Y['v4'])()),this['instance'][_0x19cefd(0x37c)]['processingGroup']?.[_0x19cefd(0x2a2)]===_0x29301e[_0x19cefd(0x2a2)]?.[_0x19cefd(0x444)]()){if(_0x29301e[_0x19cefd(0x1b2)]==='stopped')this[_0x19cefd(0x7ed)]['ScheduleMessage'][_0x19cefd(0x424)]=null;else throw new Error('No\x20\x20possvel\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20est\x20em\x20processamento.');}if(_0x29301e[_0x19cefd(0x5cd)]&&_0x29301e[_0x19cefd(0x2a2)]){let _0x353183=await this[_0x19cefd(0x827)][_0x19cefd(0x3a4)][_0x19cefd(0x4ac)](_0x29301e[_0x19cefd(0x2a2)],this['instance'][_0x19cefd(0x311)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x353183;}let _0x38a418=null;if(_0x29301e[_0x19cefd(0x2a2)]&&(_0x38a418=await this['repository'][_0x19cefd(0x3a4)][_0x19cefd(0x681)](_0x29301e[_0x19cefd(0x2a2)],this[_0x19cefd(0x7ed)][_0x19cefd(0x311)])),_0x38a418){let {_id:_0x39fb26,owner:_0x29e959,messages:_0x432bc1,..._0x142b86}=_0x29301e;if(_0x432bc1){let _0x29b029=_0x432bc1[_0x19cefd(0x836)](_0x1016b0=>!_0x1016b0[_0x19cefd(0x2a2)]),_0x450879=_0x432bc1[_0x19cefd(0x836)](_0x785681=>_0x785681['_id']&&!_0x785681[_0x19cefd(0x5cd)]),_0x1ef9f9=_0x432bc1[_0x19cefd(0x836)](_0x532c99=>_0x532c99[_0x19cefd(0x2a2)]&&_0x532c99[_0x19cefd(0x5cd)]);if(_0x29b029[_0x19cefd(0x802)]>0x0&&await this[_0x19cefd(0x1b4)](_0x29301e[_0x19cefd(0x2a2)],_0x29b029),_0x450879[_0x19cefd(0x802)]>0x0&&await this['editMessagesInGroup']({'_id':_0x29301e[_0x19cefd(0x2a2)],'messages':_0x450879}),_0x1ef9f9[_0x19cefd(0x802)]>0x0){let _0x49dc4b=_0x1ef9f9[_0x19cefd(0x82a)](_0x4a1cbd=>({'updateOne':{'filter':{'_id':_0x29301e['_id']},'update':{'$pull':{'messages':{'_id':_0x4a1cbd['_id']}}}}}));await this[_0x19cefd(0x827)][_0x19cefd(0x3a4)][_0x19cefd(0x5d9)](_0x49dc4b,this['instance'][_0x19cefd(0x311)]);}}let _0x382420={'$set':{..._0x142b86,'status':_0x29301e[_0x19cefd(0x1b2)]||_0x38a418['status']}},_0x48defd=await this['repository'][_0x19cefd(0x3a4)][_0x19cefd(0x64a)](_0x29301e[_0x19cefd(0x2a2)],_0x382420,this[_0x19cefd(0x7ed)]['wuid']);return _0x48defd&&(this[_0x19cefd(0x38d)](_0x48defd[_0x19cefd(0x4cf)]),await this['repository']['scheduleMessage'][_0x19cefd(0x64a)](_0x48defd['_id'],{'$set':{'messages':_0x48defd[_0x19cefd(0x4cf)]}},this[_0x19cefd(0x7ed)][_0x19cefd(0x311)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x19cefd(0x483)](),_0x48defd;}else{_0x29301e['owner']=this[_0x19cefd(0x7ed)][_0x19cefd(0x311)],_0x29301e[_0x19cefd(0x4cf)]&&_0x29301e[_0x19cefd(0x4cf)]['forEach'](_0x467af5=>{const _0x2e78c0=_0x19cefd;_0x467af5['_id']||(_0x467af5[_0x2e78c0(0x2a2)]=(0x0,Y['v4'])()),_0x467af5['idSchedule']||(_0x467af5[_0x2e78c0(0x2d9)]=_0x29301e['_id']),delete _0x467af5['triedToSend'];});let _0x86f260=await this[_0x19cefd(0x827)][_0x19cefd(0x3a4)][_0x19cefd(0x33a)](_0x29301e,this[_0x19cefd(0x7ed)][_0x19cefd(0x311)]);return _0x86f260&&(this[_0x19cefd(0x38d)](_0x86f260[_0x19cefd(0x4cf)]),await this[_0x19cefd(0x827)][_0x19cefd(0x3a4)][_0x19cefd(0x64a)](_0x86f260[_0x19cefd(0x2a2)],{'$set':{'messages':_0x86f260[_0x19cefd(0x4cf)]}},this[_0x19cefd(0x7ed)][_0x19cefd(0x311)])),setTimeout(()=>this[_0x19cefd(0x3f5)](),0x7d0),_0x86f260;}}catch(_0x2111c9){let _0x59c450=_0x19cefd(0x7e5),_0xec9e82=_0x2111c9 instanceof Error?_0x2111c9['message']:typeof _0x2111c9==_0x19cefd(0x85e)?JSON[_0x19cefd(0x6b1)](_0x2111c9):_0x2111c9,_0x5accc8=_0x59c450+':\x20'+_0xec9e82;throw this[_0x19cefd(0x53d)][_0x19cefd(0x4e8)](this[_0x19cefd(0x3b2)]+'\x20('+this[_0x19cefd(0x7ed)][_0x19cefd(0x311)]+'):\x20'+_0x5accc8),new m(_0x5accc8);}}async['addMessagesToGroup'](_0x5e0175,_0x2925c5){const _0x3502b5=a0_0x3d18fe;try{this[_0x3502b5(0x53d)]['verbose'](this['instanceName']+'\x20('+this[_0x3502b5(0x7ed)]['wuid']+_0x3502b5(0x2d4)),_0x2925c5[_0x3502b5(0x358)](_0x4aaf3f=>{const _0x5d6a49=_0x3502b5;_0x4aaf3f[_0x5d6a49(0x2a2)]||(_0x4aaf3f[_0x5d6a49(0x2a2)]=(0x0,Y['v4'])()),_0x4aaf3f[_0x5d6a49(0x2d9)]||(_0x4aaf3f[_0x5d6a49(0x2d9)]=_0x5e0175),delete _0x4aaf3f[_0x5d6a49(0x140)];});let _0x4e7815={'$push':{'messages':{'$each':_0x2925c5}}},_0x2009b7=await this[_0x3502b5(0x827)]['scheduleMessage'][_0x3502b5(0x64a)](_0x5e0175,_0x4e7815,this['instance'][_0x3502b5(0x311)]);return _0x2009b7&&(this[_0x3502b5(0x38d)](_0x2009b7[_0x3502b5(0x4cf)]),await this[_0x3502b5(0x827)][_0x3502b5(0x3a4)][_0x3502b5(0x64a)](_0x2009b7[_0x3502b5(0x2a2)],{'$set':{'messages':_0x2009b7[_0x3502b5(0x4cf)]}},this[_0x3502b5(0x7ed)][_0x3502b5(0x311)])),_0x2009b7;}catch(_0xc7cf35){let _0x412e47='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x4c84b9=_0xc7cf35 instanceof Error?_0xc7cf35[_0x3502b5(0x867)]:typeof _0xc7cf35==_0x3502b5(0x85e)?JSON['stringify'](_0xc7cf35):_0xc7cf35,_0x1a62ce=_0x412e47+':\x20'+_0x4c84b9;throw this[_0x3502b5(0x53d)][_0x3502b5(0x4e8)](this[_0x3502b5(0x3b2)]+'\x20('+this[_0x3502b5(0x7ed)]['wuid']+_0x3502b5(0x851)+_0x1a62ce),new m(_0x1a62ce);}}async['editMessagesInGroup'](_0x583dd8){const _0x1aded5=a0_0x3d18fe;try{if(this[_0x1aded5(0x53d)][_0x1aded5(0x75e)](this['instanceName']+'\x20('+this[_0x1aded5(0x7ed)][_0x1aded5(0x311)]+_0x1aded5(0x63d)),!_0x583dd8[_0x1aded5(0x2a2)]||!_0x583dd8[_0x1aded5(0x4cf)])throw new Error(_0x1aded5(0x855));let _0x3b80d5=_0x583dd8[_0x1aded5(0x2a2)],_0x4c4231=_0x583dd8['messages'],_0x4c96bd=_0x4c4231[_0x1aded5(0x836)](_0x3c522c=>!_0x3c522c['delete'])[_0x1aded5(0x82a)](_0x4699f0=>{const _0x136266=_0x1aded5;let _0x15b3f7=_0x4699f0[_0x136266(0x2a2)];if(!_0x15b3f7)throw new Error(_0x136266(0x4fc));return _0x4699f0[_0x136266(0x2d9)]||(_0x4699f0['idSchedule']=_0x3b80d5),delete _0x4699f0[_0x136266(0x140)],{'updateOne':{'filter':{'_id':_0x3b80d5,'messages._id':_0x15b3f7},'update':{'$set':{'messages.$[elem]':_0x4699f0}},'arrayFilters':[{'elem._id':_0x15b3f7}]}};}),_0x1a7799=_0x4c4231[_0x1aded5(0x836)](_0x3f73ea=>_0x3f73ea[_0x1aded5(0x5cd)])[_0x1aded5(0x82a)](_0x7742a3=>{const _0x3efee6=_0x1aded5;let _0x4cc11c=_0x7742a3[_0x3efee6(0x2a2)];if(!_0x4cc11c)throw new Error(_0x3efee6(0x2f3));return{'updateOne':{'filter':{'_id':_0x3b80d5},'update':{'$pull':{'messages':{'_id':_0x4cc11c}}}}};}),_0x3e30a2=[..._0x4c96bd,..._0x1a7799],_0x3f26a4=await this[_0x1aded5(0x827)][_0x1aded5(0x3a4)][_0x1aded5(0x5d9)](_0x3e30a2,this[_0x1aded5(0x7ed)][_0x1aded5(0x311)]),_0x1cf58d=await this['repository']['scheduleMessage'][_0x1aded5(0x681)](_0x3b80d5,this[_0x1aded5(0x7ed)][_0x1aded5(0x311)]);return _0x1cf58d&&(this[_0x1aded5(0x38d)](_0x1cf58d[_0x1aded5(0x4cf)]),await this[_0x1aded5(0x827)]['scheduleMessage'][_0x1aded5(0x64a)](_0x1cf58d[_0x1aded5(0x2a2)],{'$set':{'messages':_0x1cf58d[_0x1aded5(0x4cf)]}},this['instance'][_0x1aded5(0x311)])),_0x1cf58d;}catch(_0x3abf34){let _0x5edf04=_0x1aded5(0x209),_0x59b59e=_0x3abf34 instanceof Error?_0x3abf34[_0x1aded5(0x867)]:typeof _0x3abf34=='object'?JSON['stringify'](_0x3abf34):_0x3abf34,_0x32d296=_0x5edf04+':\x20'+_0x59b59e;throw this[_0x1aded5(0x53d)][_0x1aded5(0x4e8)](this[_0x1aded5(0x3b2)]+'\x20('+this['instance'][_0x1aded5(0x311)]+_0x1aded5(0x851)+_0x32d296),new m(_0x32d296);}}async[a0_0x3d18fe(0x553)](){const _0xa2bb50=a0_0x3d18fe;try{let _0x5013ba={'status':_0xa2bb50(0x426)},_0x3a4489=await this[_0xa2bb50(0x827)][_0xa2bb50(0x3a4)][_0xa2bb50(0x628)](_0x5013ba,this[_0xa2bb50(0x7ed)][_0xa2bb50(0x311)]);if(!_0x3a4489[_0xa2bb50(0x4e8)])this[_0xa2bb50(0x53d)][_0xa2bb50(0x75e)](this[_0xa2bb50(0x3b2)]+'\x20('+this['instance']['wuid']+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x3a4489[_0xa2bb50(0x4e8)][_0xa2bb50(0x867)]||_0xa2bb50(0x3ba));return this['getScheduleMessage']();}catch(_0x3ea69b){let _0x2a5509='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x3af080=_0x3ea69b instanceof Error?_0x3ea69b[_0xa2bb50(0x867)]:typeof _0x3ea69b==_0xa2bb50(0x85e)?JSON[_0xa2bb50(0x6b1)](_0x3ea69b):_0x3ea69b,_0x2f5419=_0x2a5509+':\x20'+_0x3af080;throw this['logger'][_0xa2bb50(0x4e8)](this[_0xa2bb50(0x3b2)]+'\x20('+this[_0xa2bb50(0x7ed)]['wuid']+_0xa2bb50(0x851)+_0x2f5419),new m(_0x2f5419);}}async[a0_0x3d18fe(0x787)](){const _0x23e7f6=a0_0x3d18fe;try{return await this[_0x23e7f6(0x827)][_0x23e7f6(0x3a4)][_0x23e7f6(0x80c)]({'where':{}},this[_0x23e7f6(0x7ed)][_0x23e7f6(0x311)]);}catch(_0x3f0ae2){let _0x250f8d=_0x23e7f6(0x3a6),_0x4660f6=_0x3f0ae2 instanceof Error?_0x3f0ae2[_0x23e7f6(0x867)]:typeof _0x3f0ae2==_0x23e7f6(0x85e)?JSON[_0x23e7f6(0x6b1)](_0x3f0ae2):_0x3f0ae2,_0x197fae=_0x250f8d+':\x20'+_0x4660f6;throw this['logger']['error'](this[_0x23e7f6(0x3b2)]+'\x20('+this['instance'][_0x23e7f6(0x311)]+_0x23e7f6(0x851)+_0x197fae),new m(_0x197fae);}}[a0_0x3d18fe(0x38d)](_0x5e1fd4){const _0x277a9d=a0_0x3d18fe;_0x5e1fd4[_0x277a9d(0x366)]((_0x210442,_0x69a5c9)=>_0x210442[_0x277a9d(0x39e)]-_0x69a5c9['order']),_0x5e1fd4[_0x277a9d(0x358)]((_0x117afa,_0x414b2f)=>{const _0x51b61e=_0x277a9d;_0x117afa[_0x51b61e(0x39e)]=_0x414b2f+0x1;});}async['SendScheduleMessage'](_0x2b8a3f,_0x26c433){const _0x8fafe5=a0_0x3d18fe;try{if(!_0x26c433)return this[_0x8fafe5(0x53d)][_0x8fafe5(0x4e8)](this['instanceName']+'\x20('+this[_0x8fafe5(0x7ed)][_0x8fafe5(0x311)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x8fafe5(0x262)};if(_0x26c433[_0x8fafe5(0x5a1)]===_0x8fafe5(0x21d)&&!this[_0x8fafe5(0x22f)]?.[_0x8fafe5(0x32b)][_0x8fafe5(0x472)])return this[_0x8fafe5(0x53d)][_0x8fafe5(0x4e8)](this[_0x8fafe5(0x3b2)]+'\x20('+this['instance'][_0x8fafe5(0x311)]+_0x8fafe5(0x842)),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x26c433['type']){case'text':return await this[_0x8fafe5(0x294)](_0x26c433,_0x2b8a3f);case'video':case _0x8fafe5(0x333):case _0x8fafe5(0x267):return await this[_0x8fafe5(0x3f3)](_0x26c433,_0x2b8a3f);case _0x8fafe5(0x3f4):return await this[_0x8fafe5(0x4ab)](_0x26c433,_0x2b8a3f);case'flow':let _0x2ba969=new We();return _0x2ba969[_0x8fafe5(0x2f6)]=_0x26c433[_0x8fafe5(0x21d)],_0x2ba969[_0x8fafe5(0x7f9)]=_0x2b8a3f,await this[_0x8fafe5(0x744)](_0x2ba969);default:return this[_0x8fafe5(0x53d)]['error'](this[_0x8fafe5(0x3b2)]+'\x20('+this[_0x8fafe5(0x7ed)][_0x8fafe5(0x311)]+'):\x20Comando\x20desconhecido:\x20'+_0x26c433[_0x8fafe5(0x5a1)]),{'error':!0x0,'detail':_0x8fafe5(0x488)};}}catch(_0x16bc16){return this[_0x8fafe5(0x53d)][_0x8fafe5(0x4e8)](this[_0x8fafe5(0x3b2)]+'\x20('+this[_0x8fafe5(0x7ed)][_0x8fafe5(0x311)]+_0x8fafe5(0x575)+(_0x16bc16 instanceof Error?_0x16bc16[_0x8fafe5(0x867)]:JSON['stringify'](_0x16bc16,null,0x2))),{'error':!0x0,'detail':_0x16bc16[_0x8fafe5(0x867)]};}}async['scheduleSendText'](_0x530a45,_0x3e4cb7){const _0x4c3c44=a0_0x3d18fe;if(this['logger'][_0x4c3c44(0x75e)](this['instanceName']+'\x20('+this[_0x4c3c44(0x7ed)][_0x4c3c44(0x311)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x3e4cb7+'\x27'),!_0x530a45['text']||_0x530a45[_0x4c3c44(0x2b3)]['length']===0x0)return{'error':!0x0,'detail':_0x4c3c44(0x7a4)};let _0x37178c=await this[_0x4c3c44(0x40c)](_0x530a45[_0x4c3c44(0x2b3)],_0x3e4cb7),_0x41a07c={'number':_0x3e4cb7,'options':{'delay':_0x530a45['delay'],'linkPreview':_0x530a45[_0x4c3c44(0x811)]},'textMessage':{'text':_0x37178c}},_0x2fbe64=null;try{let _0x1cb3d7=await this[_0x4c3c44(0x6b3)](_0x41a07c);if(_0x1cb3d7&&_0x1cb3d7[_0x4c3c44(0x1b2)])return{'error':!0x1,'id':_0x1cb3d7[_0x4c3c44(0x406)]['id']};_0x2fbe64=JSON[_0x4c3c44(0x6b1)](_0x1cb3d7),this[_0x4c3c44(0x53d)]['verbose'](this[_0x4c3c44(0x3b2)]+'\x20('+this['instance'][_0x4c3c44(0x311)]+'):\x20'+_0x2fbe64);}catch(_0x52bec2){this['logger'][_0x4c3c44(0x4e8)](this[_0x4c3c44(0x3b2)]+'\x20('+this[_0x4c3c44(0x7ed)][_0x4c3c44(0x311)]+_0x4c3c44(0x29c)+(_0x52bec2 instanceof Error?_0x52bec2[_0x4c3c44(0x867)]:JSON['stringify'](_0x52bec2,null,0x2))),_0x2fbe64=_0x52bec2['message'];}if(_0x2fbe64)return{'error':!0x0,'detail':(typeof _0x2fbe64==_0x4c3c44(0x85e)?JSON['stringify'](_0x2fbe64,null,0x2):_0x2fbe64)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4c3c44(0x5e7)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x38f30c,_0x13b3d3){const _0x19b6ac=a0_0x3d18fe;this[_0x19b6ac(0x53d)][_0x19b6ac(0x75e)](this[_0x19b6ac(0x3b2)]+'\x20('+this[_0x19b6ac(0x7ed)]['wuid']+_0x19b6ac(0x4c6)+_0x13b3d3+'\x27');let _0x59a895;_0x38f30c[_0x19b6ac(0x2b3)]&&_0x38f30c[_0x19b6ac(0x2b3)][_0x19b6ac(0x802)]>0x0&&(_0x59a895=await this['replaceVariablesChat'](_0x38f30c['text'],_0x13b3d3));let _0x14bb74={'number':_0x13b3d3,'options':{'delay':_0x38f30c[_0x19b6ac(0x2c5)],'linkPreview':_0x38f30c[_0x19b6ac(0x811)]},'mediaMessage':{'mediatype':_0x38f30c['type'],'caption':_0x59a895,'media':_0x38f30c[_0x19b6ac(0x466)]}},_0x267b12=null;try{let _0x24bada=await this[_0x19b6ac(0x4b4)](_0x14bb74);if(_0x24bada&&_0x24bada[_0x19b6ac(0x1b2)])return{'error':!0x1,'id':_0x24bada[_0x19b6ac(0x406)]['id']};_0x267b12=JSON['stringify'](_0x24bada),this['logger'][_0x19b6ac(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x19b6ac(0x311)]+_0x19b6ac(0x851)+_0x267b12);}catch(_0x28447b){this[_0x19b6ac(0x53d)][_0x19b6ac(0x4e8)](this[_0x19b6ac(0x3b2)]+'\x20('+this[_0x19b6ac(0x7ed)][_0x19b6ac(0x311)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x28447b instanceof Error?_0x28447b['message']:JSON[_0x19b6ac(0x6b1)](_0x28447b,null,0x2))),_0x267b12=_0x28447b[_0x19b6ac(0x867)];}if(_0x267b12)return{'error':!0x0,'detail':(typeof _0x267b12==_0x19b6ac(0x85e)?JSON[_0x19b6ac(0x6b1)](_0x267b12,null,0x2):_0x267b12)['replace'](/[\[\]{}\n]/g,'\x20')[_0x19b6ac(0x5e7)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x66d315,_0x41a899){const _0xf96b21=a0_0x3d18fe;this['logger'][_0xf96b21(0x75e)](this[_0xf96b21(0x3b2)]+'\x20('+this[_0xf96b21(0x7ed)][_0xf96b21(0x311)]+_0xf96b21(0x672)+_0x41a899+'\x27');let _0x4d8422={'number':_0x41a899,'options':{'delay':_0x66d315[_0xf96b21(0x2c5)]},'audioMessage':{'audio':_0x66d315[_0xf96b21(0x466)]}},_0x10df2f=null;try{let _0x18d3b4=await this[_0xf96b21(0x4b7)](_0x4d8422);if(_0x18d3b4&&_0x18d3b4[_0xf96b21(0x1b2)])return{'error':!0x1,'id':_0x18d3b4[_0xf96b21(0x406)]['id']};_0x10df2f=JSON[_0xf96b21(0x6b1)](_0x18d3b4),this[_0xf96b21(0x53d)]['verbose'](this[_0xf96b21(0x3b2)]+'\x20('+this['instance'][_0xf96b21(0x311)]+'):\x20'+_0x10df2f);}catch(_0x170c8d){this[_0xf96b21(0x53d)][_0xf96b21(0x4e8)](this['instanceName']+'\x20('+this[_0xf96b21(0x7ed)][_0xf96b21(0x311)]+_0xf96b21(0x618)+(_0x170c8d instanceof Error?_0x170c8d[_0xf96b21(0x867)]:JSON[_0xf96b21(0x6b1)](_0x170c8d,null,0x2))),_0x10df2f=_0x170c8d['message'];}if(_0x10df2f)return{'error':!0x0,'detail':(typeof _0x10df2f=='object'?JSON[_0xf96b21(0x6b1)](_0x10df2f,null,0x2):_0x10df2f)['replace'](/[\[\]{}\n]/g,'\x20')[_0xf96b21(0x5e7)](/  +/g,'\x20')};}async[a0_0x3d18fe(0x57e)](_0x7ac70e){const _0x35b1cf=a0_0x3d18fe;try{return await this['client'][_0x35b1cf(0x49b)](_0x7ac70e['groupJid'],_0x7ac70e['description']),{'update':_0x35b1cf(0x824)};}catch(_0x3496de){let _0x16429d=_0x35b1cf(0x7b3),_0x500f06=_0x3496de instanceof Error?_0x3496de[_0x35b1cf(0x867)]:typeof _0x3496de==_0x35b1cf(0x85e)?JSON[_0x35b1cf(0x6b1)](_0x3496de):_0x3496de,_0x58a3e3=_0x16429d+':\x20'+_0x500f06;throw this[_0x35b1cf(0x53d)]['error'](this[_0x35b1cf(0x3b2)]+'\x20('+this[_0x35b1cf(0x7ed)][_0x35b1cf(0x311)]+_0x35b1cf(0x851)+_0x58a3e3),new x(_0x58a3e3);}}async[a0_0x3d18fe(0x48a)](_0x1897ac){const _0xdc1f3=a0_0x3d18fe;try{return await this[_0xdc1f3(0x880)]['groupUpdateSubject'](_0x1897ac[_0xdc1f3(0x7f8)],_0x1897ac['name']),{'update':_0xdc1f3(0x824)};}catch(_0x34b882){let _0x27cbe2=_0xdc1f3(0x3a3),_0xd74ae4=_0x34b882 instanceof Error?_0x34b882['message']:typeof _0x34b882=='object'?JSON[_0xdc1f3(0x6b1)](_0x34b882):_0x34b882,_0x55ee36=_0x27cbe2+':\x20'+_0xd74ae4;throw this['logger'][_0xdc1f3(0x4e8)](this['instanceName']+'\x20('+this[_0xdc1f3(0x7ed)][_0xdc1f3(0x311)]+_0xdc1f3(0x851)+_0x55ee36),new x(_0x55ee36);}}async[a0_0x3d18fe(0x62d)](_0x4b0eb1){const _0x1657db=a0_0x3d18fe;try{let _0x29f7ad=await this[_0x1657db(0x880)][_0x1657db(0x54e)](_0x4b0eb1[_0x1657db(0x7f8)],_0x4b0eb1[_0x1657db(0x769)]);return{'success':!0x0};}catch(_0x3cd04b){let _0x845050=_0x1657db(0x60e),_0x4cd589=_0x3cd04b instanceof Error?_0x3cd04b[_0x1657db(0x867)]:typeof _0x3cd04b==_0x1657db(0x85e)?JSON[_0x1657db(0x6b1)](_0x3cd04b):_0x3cd04b,_0x331974=_0x845050+':\x20'+_0x4cd589;throw this[_0x1657db(0x53d)][_0x1657db(0x4e8)](this['instanceName']+'\x20('+this[_0x1657db(0x7ed)][_0x1657db(0x311)]+_0x1657db(0x851)+_0x331974),new x(_0x331974);}}async[a0_0x3d18fe(0x683)](_0x39cb83){const _0x49c7a8=a0_0x3d18fe;try{return await this[_0x49c7a8(0x880)][_0x49c7a8(0x5f4)](_0x39cb83[_0x49c7a8(0x7f8)],_0x39cb83[_0x49c7a8(0x5cb)]),{'update':_0x49c7a8(0x824)};}catch(_0x152eac){let _0x29591b=_0x49c7a8(0x6cc),_0x11a19d=_0x152eac instanceof Error?_0x152eac[_0x49c7a8(0x867)]:typeof _0x152eac=='object'?JSON[_0x49c7a8(0x6b1)](_0x152eac):_0x152eac,_0x118ec0=_0x29591b+':\x20'+_0x11a19d;throw this[_0x49c7a8(0x53d)][_0x49c7a8(0x4e8)](this[_0x49c7a8(0x3b2)]+'\x20('+this[_0x49c7a8(0x7ed)][_0x49c7a8(0x311)]+_0x49c7a8(0x851)+_0x118ec0),new x(_0x118ec0);}}async['updateGroupPicture'](_0x32a581){const _0x3e73b9=a0_0x3d18fe;try{let _0x510dd3;if((0x0,J[_0x3e73b9(0x879)])(_0x32a581[_0x3e73b9(0x333)])){let _0x1719d6=new Date()['getTime'](),_0x5466df=_0x32a581[_0x3e73b9(0x333)]+_0x3e73b9(0x703)+_0x1719d6;_0x510dd3=(await Q[_0x3e73b9(0x62f)][_0x3e73b9(0x5d8)](_0x5466df,{'responseType':_0x3e73b9(0x3e2)}))[_0x3e73b9(0x2ff)];}else{if((0x0,J['isBase64'])(_0x32a581[_0x3e73b9(0x333)]))_0x510dd3=Buffer['from'](_0x32a581['image'],_0x3e73b9(0x210));else throw new m(_0x3e73b9(0x49f));}return await this[_0x3e73b9(0x880)]['updateProfilePicture'](_0x32a581['groupJid'],_0x510dd3),{'update':'success'};}catch(_0x4a5838){let _0x52f1d6=_0x3e73b9(0x760),_0x28ba95=_0x4a5838 instanceof Error?_0x4a5838[_0x3e73b9(0x867)]:typeof _0x4a5838==_0x3e73b9(0x85e)?JSON[_0x3e73b9(0x6b1)](_0x4a5838):_0x4a5838,_0x4874a0=_0x52f1d6+':\x20'+_0x28ba95;throw this[_0x3e73b9(0x53d)][_0x3e73b9(0x4e8)](this['instanceName']+'\x20('+this['instance'][_0x3e73b9(0x311)]+_0x3e73b9(0x851)+_0x4874a0),new x(_0x4874a0);}}},jt=class u{constructor(_0x59c8e9,_0x20619c,_0x176a11){const _0x4b5bd5=a0_0x3d18fe;this[_0x4b5bd5(0x4f9)]=_0x59c8e9,this[_0x4b5bd5(0x599)]=_0x20619c,this[_0x4b5bd5(0x827)]=_0x176a11,this['db']={},this[_0x4b5bd5(0x126)]={},this[_0x4b5bd5(0x53d)]=new $(u[_0x4b5bd5(0x2f6)]),this[_0x4b5bd5(0x2bb)]={},(this[_0x4b5bd5(0x25f)](),this[_0x4b5bd5(0x8a2)](),Object[_0x4b5bd5(0x640)](this['db'],_0x20619c[_0x4b5bd5(0x5d8)]('DATABASE')),Object[_0x4b5bd5(0x640)](this['redis'],_0x20619c[_0x4b5bd5(0x5d8)](_0x4b5bd5(0x6e9))),this[_0x4b5bd5(0x3a5)]=this['db'][_0x4b5bd5(0x724)]?this[_0x4b5bd5(0x827)][_0x4b5bd5(0x154)]?.['db'](this['db'][_0x4b5bd5(0x306)][_0x4b5bd5(0x686)]+'-instances'):void 0x0,this[_0x4b5bd5(0x1f3)]=this[_0x4b5bd5(0x126)]['ENABLED']?new pe(this[_0x4b5bd5(0x126)]):void 0x0);}async[a0_0x3d18fe(0x5ab)](_0x5bd671){const _0x29ae16=a0_0x3d18fe;if(_0x5bd671&&!this[_0x29ae16(0x2bb)][_0x5bd671])throw new U(_0x29ae16(0x7a7)+_0x5bd671+'\x22\x20not\x20found');let _0x53f006=[];for await(let [_0x1a68d8,_0x33d879]of Object['entries'](this[_0x29ae16(0x2bb)]))if(_0x33d879&&_0x33d879['connectionStatus'][_0x29ae16(0x6c9)]===_0x29ae16(0x5b1)){let _0x582767=await this[_0x29ae16(0x827)]['auth'][_0x29ae16(0x80c)](_0x1a68d8);_0x53f006[_0x29ae16(0x1a4)]({'instance':{'instanceName':_0x1a68d8,'apikey':_0x582767[_0x29ae16(0x814)],'owner':_0x33d879[_0x29ae16(0x311)],'profileName':await _0x33d879[_0x29ae16(0x6a4)]()||_0x29ae16(0x13f),'profilePictureUrl':_0x33d879[_0x29ae16(0x69f)]}});}return _0x53f006[_0x29ae16(0x80c)](_0x5449fb=>_0x5449fb[_0x29ae16(0x7ed)][_0x29ae16(0x3b2)]===_0x5bd671)??_0x53f006;}async[a0_0x3d18fe(0x4e3)](_0x5ab314){const _0x3dcd19=a0_0x3d18fe;if(this['db'][_0x3dcd19(0x724)]&&(await this[_0x3dcd19(0x827)][_0x3dcd19(0x154)]['connect'](),(await this[_0x3dcd19(0x3a5)]['collections']())[_0x3dcd19(0x802)]>0x0&&await this[_0x3dcd19(0x3a5)][_0x3dcd19(0x577)](_0x5ab314)),this['redis'][_0x3dcd19(0x724)]){this[_0x3dcd19(0x1f3)][_0x3dcd19(0x20d)]=_0x5ab314,await this[_0x3dcd19(0x1f3)][_0x3dcd19(0x5f0)]();return;}}async[a0_0x3d18fe(0x3b1)](){const _0x45ae46=a0_0x3d18fe;await this['InstancesAlterarTodas']();let _0x2695e4=async _0x1f0ed3=>{const _0x4fb614=a0_0x4a95;let _0x15074c=new $e(this[_0x4fb614(0x599)],this[_0x4fb614(0x4f9)],this[_0x4fb614(0x827)]);_0x15074c[_0x4fb614(0x3b2)]=_0x1f0ed3,await _0x15074c['connectToWhatsapp'](),this[_0x4fb614(0x2bb)][_0x1f0ed3]=_0x15074c;};try{if(this['redis'][_0x45ae46(0x724)]){let _0x90a4c6=await this[_0x45ae46(0x1f3)][_0x45ae46(0x27d)]();_0x90a4c6?.['length']>0x0&&_0x90a4c6[_0x45ae46(0x358)](async _0x2fda47=>await _0x2695e4(_0x2fda47['split'](':')[0x1]));return;}if(this['db'][_0x45ae46(0x724)]){await this[_0x45ae46(0x827)][_0x45ae46(0x154)][_0x45ae46(0x2de)]();let _0x5ad1b9=await this[_0x45ae46(0x3a5)][_0x45ae46(0x168)]();_0x5ad1b9['length']>0x0&&_0x5ad1b9[_0x45ae46(0x358)](async _0x5b8d57=>await _0x2695e4(_0x5b8d57[_0x45ae46(0x27b)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x58fb1d){this['logger'][_0x45ae46(0x4e8)](_0x58fb1d);}}async['cleanDisconnectedInstances'](){const _0x1472db=a0_0x3d18fe;try{let _0x776eae=await this['repository']['auth']['findMany']({'online':!0x1});for(let _0x2f99fb of _0x776eae){let _0x26ff85=_0x2f99fb[_0x1472db(0x2a2)];await ae[_0x1472db(0x23e)](B,_0x26ff85);}console[_0x1472db(0x4e7)]('Instncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x776eae[_0x1472db(0x802)]);let _0x3b6651={'online':!0x1},_0xa2542b=await this[_0x1472db(0x827)][_0x1472db(0x6ad)]['deleteMany'](_0x3b6651);console[_0x1472db(0x4e7)](_0x1472db(0x167)+_0xa2542b[_0x1472db(0x729)]);}catch(_0x135dff){console[_0x1472db(0x4e8)](_0x1472db(0x7be),_0x135dff);}}async['InstancesAlterarTodas'](){const _0x54d242=a0_0x3d18fe;try{let _0x2beb1c={'online':!0x1},_0x12da7d={'online':!0x1,'lastDisconnect':Date['now']()},_0x289c6e=await this[_0x54d242(0x827)]['auth'][_0x54d242(0x133)](_0x2beb1c,_0x12da7d);await this[_0x54d242(0x766)]();}catch(_0x4cd510){console[_0x54d242(0x4e8)]('Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:',_0x4cd510);}}[a0_0x3d18fe(0x25f)](){const _0x49bf30=a0_0x3d18fe;this[_0x49bf30(0x4f9)]['on'](_0x49bf30(0x23d),async _0x607131=>{const _0x4e1fca=_0x49bf30;try{this['waInstances'][_0x607131]=void 0x0;}catch{}try{this[_0x4e1fca(0x4e3)](_0x607131);}finally{this['logger'][_0x4e1fca(0x6f8)](_0x4e1fca(0x7a7)+_0x607131+'\x22\x20-\x20REMOVED');}});}[a0_0x3d18fe(0x8a2)](){const _0x14997b=a0_0x3d18fe;this[_0x14997b(0x4f9)]['on']('no.connection',async _0x27cf78=>{const _0x57f986=_0x14997b;try{this[_0x57f986(0x2bb)][_0x27cf78]=void 0x0;}catch{}try{this[_0x57f986(0x4e3)](_0x27cf78);}finally{this[_0x57f986(0x53d)][_0x57f986(0x6f8)]('Instance\x20\x22'+_0x27cf78+_0x57f986(0x425));}});}},Jt=class extends _{[a0_0x3d18fe(0x79c)](_0x65c397){return ta(_0x65c397);}async['insert'](_0x3a79b6){const _0xd0b7f4=a0_0x3d18fe;if(_0x3a79b6[_0xd0b7f4(0x802)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x3a79b6[0x0][_0xd0b7f4(0x856)])['insertMany']([..._0x3a79b6]))[_0xd0b7f4(0x802)]};}catch(_0x5cc542){return _0x5cc542;}}async[a0_0x3d18fe(0x80c)](_0x531723,_0x4ff542){const _0x351498=a0_0x3d18fe;try{let _0x9862b=this['getChatModelForOwner'](_0x4ff542),_0x3dfce8=A(_0x531723['where']);return await _0x9862b[_0x351498(0x80c)](_0x3dfce8)[_0x351498(0x366)]({'lastmsg':-0x1})[_0x351498(0x177)](_0x531723?.[_0x351498(0x177)]??0x0)[_0x351498(0x66e)]();}catch{return[];}}async[a0_0x3d18fe(0x373)](_0x5f0fe5,_0x3fe299){const _0xea6eb9=a0_0x3d18fe;try{let _0x2bb62c=this['getChatModelForOwner'](_0x3fe299),_0x225e76=A(_0x5f0fe5[_0xea6eb9(0x295)]);return _0x225e76[_0xea6eb9(0x662)]={'$ne':[]},await _0x2bb62c['find'](_0x225e76)[_0xea6eb9(0x366)]({'lastmsg':-0x1})['limit'](_0x5f0fe5?.['limit']??0x0)[_0xea6eb9(0x66e)]();}catch{return[];}}async['delete'](_0x49358a,_0x512387){const _0xd1e0b0=a0_0x3d18fe;try{return{'deletedCount':(await this[_0xd1e0b0(0x79c)](_0x512387)[_0xd1e0b0(0x628)]({..._0x49358a['where']}))[_0xd1e0b0(0x6b8)]};}catch(_0x227d0f){return{'error':_0x227d0f?.[_0xd1e0b0(0x444)]()};}}async[a0_0x3d18fe(0x22a)](_0x2f652d,_0x57b474){const _0x137a2c=a0_0x3d18fe;try{return await this[_0x137a2c(0x79c)](_0x57b474)[_0x137a2c(0x628)]({..._0x2f652d[_0x137a2c(0x295)]}),[];}catch(_0x4eea2d){return{'error':_0x4eea2d?.[_0x137a2c(0x444)]()};}}async[a0_0x3d18fe(0x648)](_0x5dd48e,_0x3227f0){const _0x5a36dc=a0_0x3d18fe;try{let _0x2674be=this[_0x5a36dc(0x79c)](_0x3227f0),_0x9c1483=A(_0x5dd48e['where']);return await _0x2674be[_0x5a36dc(0x648)](_0x9c1483)[_0x5a36dc(0x66e)]();}catch{return null;}}async['updateOne'](_0x5acfc9,_0x38c8fa,_0x244d3a,_0x5b0968,_0x197b65=a0_0x3d18fe(0x77a)){const _0x21595a=a0_0x3d18fe;try{let _0x476de8={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b0968},_0x502ab1=this[_0x21595a(0x79c)](_0x244d3a),_0x1e7582=A(_0x5acfc9['where']);Object[_0x21595a(0x551)](_0x38c8fa)[_0x21595a(0x358)](_0x4edd86=>{_0x38c8fa[_0x4edd86]==null&&delete _0x38c8fa[_0x4edd86];});let _0x203426={};return _0x203426[_0x197b65]=_0x38c8fa,await _0x502ab1[_0x21595a(0x456)](_0x1e7582,_0x203426,_0x476de8);}catch(_0x59524a){return console['error'](_0x59524a),null;}}async[a0_0x3d18fe(0x772)](_0x4f8645){const _0xc2d026=a0_0x3d18fe;try{let _0x33e6c3=this['getChatModelForOwner'](_0x4f8645[0x0]['query']['where'][_0xc2d026(0x856)]),_0x177644=_0x4f8645[_0xc2d026(0x82a)](_0x312d5f=>({'updateOne':{'filter':{..._0x312d5f['query'][_0xc2d026(0x295)]},'update':{'$set':_0x312d5f[_0xc2d026(0x200)]},'upsert':!0x0}})),_0x435c45=await _0x33e6c3[_0xc2d026(0x5d9)](_0x177644);return _0x435c45[_0xc2d026(0x809)]+_0x435c45[_0xc2d026(0x151)];}catch(_0x29b48f){return console[_0xc2d026(0x4e8)](_0x29b48f),0x0;}}async[a0_0x3d18fe(0x820)](_0x4a6cf6){const _0x1feb39=a0_0x3d18fe;try{let _0x353561={'group_isCommunity':'','group_announce':'','group_size':''},_0x2e8cac={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3b048e={'$unset':_0x353561};return(await this[_0x1feb39(0x79c)](_0x4a6cf6)[_0x1feb39(0x772)](_0x2e8cac,_0x3b048e))['modifiedCount'];}catch(_0x5d53ce){return console[_0x1feb39(0x4e8)](_0x1feb39(0x2ae),_0x5d53ce),0x0;}}async[a0_0x3d18fe(0x3bf)](_0x23f15e){const _0x39b598=a0_0x3d18fe;try{let _0x3e5389=this[_0x39b598(0x79c)](_0x23f15e),_0x2dc15={'leadInfo.etiquetas':{'$exists':!0x1}},_0x361d1c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3e5389[_0x39b598(0x772)](_0x2dc15,_0x361d1c))[_0x39b598(0x809)];}catch(_0x643c1a){return console[_0x39b598(0x4e8)](_0x643c1a),0x0;}}async[a0_0x3d18fe(0x34e)](_0x2dc14d){const _0x41d296=a0_0x3d18fe;try{let _0x4e5ce4=this[_0x41d296(0x79c)](_0x2dc14d),_0x126f3b={'leadInfo.tags':{'$exists':!0x1}},_0x1a5643={'$set':{'leadInfo.tags':[]}};return(await _0x4e5ce4[_0x41d296(0x772)](_0x126f3b,_0x1a5643))['modifiedCount'];}catch(_0x277d5b){return console['error'](_0x277d5b),0x0;}}async[a0_0x3d18fe(0x1d8)](_0x23549c){const _0x1da2e1=a0_0x3d18fe;try{let _0xabc419=this[_0x1da2e1(0x79c)](_0x23549c),_0x4ee0f5={'leadInfo.customFields':{'$exists':!0x1}},_0x54d7b5={'$set':{'leadInfo.customFields':[]}};return(await _0xabc419[_0x1da2e1(0x772)](_0x4ee0f5,_0x54d7b5))[_0x1da2e1(0x809)];}catch(_0x515515){return console[_0x1da2e1(0x4e8)](_0x515515),0x0;}}async[a0_0x3d18fe(0x186)](_0x407382,_0x1000cd){const _0x5400d3=a0_0x3d18fe;if(!Array[_0x5400d3(0x27a)](_0x407382)||_0x407382[_0x5400d3(0x802)]===0x0)throw new Error(_0x5400d3(0x44b));try{return(await this[_0x5400d3(0x79c)](_0x1000cd)[_0x5400d3(0x186)](_0x407382))[_0x5400d3(0x802)];}catch(_0x4185c1){throw console[_0x5400d3(0x4e8)]('Erro\x20ao\x20inserir\x20chats:',_0x4185c1),_0x4185c1;}}async[a0_0x3d18fe(0x7db)](_0x392e04,_0x35c9ec){const _0x4b956e=a0_0x3d18fe;try{await this['getChatModelForOwner'](_0x35c9ec)['deleteOne']({'_id':_0x392e04});}catch(_0x4cb45c){throw console[_0x4b956e(0x4e8)]('Erro\x20ao\x20deletar\x20chat:',_0x4cb45c),_0x4cb45c;}}},qt=class extends _{constructor(_0x41f085,_0x180df7,_0x4d3a6a){const _0xb4f92d=a0_0x3d18fe;super(_0x180df7),this[_0xb4f92d(0x783)]=_0x41f085,this[_0xb4f92d(0x599)]=_0x180df7,this[_0xb4f92d(0x781)]=_0x4d3a6a;}async[a0_0x3d18fe(0x300)](_0x51b2be){const _0xdebb93=a0_0x3d18fe;if(_0x51b2be['length']!==0x0)try{return{'insertCount':(await this['cacheContactModel']['insertMany']([..._0x51b2be]))[_0xdebb93(0x802)]};}catch(_0x51b21b){return _0x51b21b;}}async[a0_0x3d18fe(0x200)](_0xad1fa3,_0x4f363c){const _0x46e278=a0_0x3d18fe;try{let _0x37a9e7=A(_0xad1fa3[_0x46e278(0x295)]);return{'updatedCount':(await this['cacheContactModel'][_0x46e278(0x772)](_0x37a9e7,{'$set':_0x4f363c}))[_0x46e278(0x809)]};}catch(_0x33da0b){return console['error'](_0x46e278(0x70b),_0x33da0b),{'error':_0x33da0b[_0x46e278(0x444)]()};}}async['findManyByIds'](_0x357c2a){const _0x3a2299=a0_0x3d18fe;try{let _0x3cebe4={'_id':{'$in':_0x357c2a}};return await this['cacheContactModel'][_0x3a2299(0x80c)](_0x3cebe4)['lean']();}catch(_0x106be3){return console['error'](_0x3a2299(0x65a),_0x106be3),[];}}async[a0_0x3d18fe(0x5cd)](_0x86f0a4){const _0x59835a=a0_0x3d18fe;try{return{'deletedCount':(await this[_0x59835a(0x783)][_0x59835a(0x628)]({..._0x86f0a4[_0x59835a(0x295)]}))['deletedCount']};}catch(_0x287f5b){return{'error':_0x287f5b?.[_0x59835a(0x444)]()};}}async[a0_0x3d18fe(0x80c)](_0x4c431c){const _0x31d435=a0_0x3d18fe;try{let _0x2ffaf1=A(_0x4c431c[_0x31d435(0x295)]);return await this[_0x31d435(0x783)][_0x31d435(0x80c)](_0x2ffaf1)[_0x31d435(0x177)](_0x4c431c?.[_0x31d435(0x177)]??0x0)[_0x31d435(0x66e)]();}catch{return[];}}async[a0_0x3d18fe(0x648)](_0x261c14){const _0x2696a5=a0_0x3d18fe;try{let _0x150fe1=A(_0x261c14[_0x2696a5(0x295)]);return await this[_0x2696a5(0x783)][_0x2696a5(0x648)](_0x150fe1)[_0x2696a5(0x66e)]();}catch{return null;}}},Vt=class extends _{constructor(_0x1019f7,_0x53a605,_0x5eff5b){const _0x497849=a0_0x3d18fe;super(_0x53a605),this['messageLogsModel']=_0x1019f7,this[_0x497849(0x599)]=_0x53a605,this['dbConnection']=_0x5eff5b;}async[a0_0x3d18fe(0x300)](_0x34d4e7){const _0xf57d62=a0_0x3d18fe;if(_0x34d4e7[_0xf57d62(0x802)]!==0x0)try{return{'insertCount':(await this['messageLogsModel']['insertMany']([..._0x34d4e7]))[_0xf57d62(0x802)]};}catch(_0x530441){return _0x530441;}}async['update'](_0x2044b9,_0x19e8ce){const _0x4efdc1=a0_0x3d18fe;try{let _0x42356e=A(_0x2044b9['where']);return{'updatedCount':(await this[_0x4efdc1(0x844)][_0x4efdc1(0x772)](_0x42356e,{'$set':_0x19e8ce}))['modifiedCount']};}catch(_0x23086a){return console[_0x4efdc1(0x4e8)](_0x4efdc1(0x70b),_0x23086a),{'error':_0x23086a[_0x4efdc1(0x444)]()};}}async[a0_0x3d18fe(0x5cd)](_0x42559a){const _0x322e6c=a0_0x3d18fe;try{return{'deletedCount':(await this[_0x322e6c(0x844)][_0x322e6c(0x628)]({..._0x42559a[_0x322e6c(0x295)]}))[_0x322e6c(0x6b8)]};}catch(_0x47f7e7){return{'error':_0x47f7e7?.['toString']()};}}async[a0_0x3d18fe(0x648)](_0x1cc082){const _0x21c3b9=a0_0x3d18fe;try{let _0x46c365=A(_0x1cc082[_0x21c3b9(0x295)]);return await this[_0x21c3b9(0x844)][_0x21c3b9(0x648)](_0x46c365)[_0x21c3b9(0x66e)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x1d79c2){return Ea(_0x1d79c2);}async['updateOne'](_0x560a76,_0x156dce,_0x4a9bb2,_0x66e1d1){const _0x12491b=a0_0x3d18fe;try{let _0x2d2c97={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x66e1d1},_0x5f3eaa=this[_0x12491b(0x303)](_0x4a9bb2),_0x297a76=A(_0x560a76[_0x12491b(0x295)]);return await _0x5f3eaa[_0x12491b(0x456)](_0x297a76,{'$set':_0x156dce},_0x2d2c97);}catch(_0x2346ca){return console[_0x12491b(0x4e8)](_0x2346ca),null;}}async[a0_0x3d18fe(0x80c)](_0x11edb7,_0x1df7b6){const _0x4eca88=a0_0x3d18fe;try{let _0x377b2b=this[_0x4eca88(0x303)](_0x1df7b6),_0x3c3baa=A(_0x11edb7['where']);return await _0x377b2b[_0x4eca88(0x80c)](_0x3c3baa);}catch(_0x20eed1){console[_0x4eca88(0x4e8)](_0x20eed1);}}async[a0_0x3d18fe(0x5cd)](_0x5638aa,_0x4057d6){const _0x47ded4=a0_0x3d18fe;try{let _0x33afca=this[_0x47ded4(0x303)](_0x4057d6),_0xd7e8ef=A(_0x5638aa[_0x47ded4(0x295)]);await _0x33afca[_0x47ded4(0x628)](_0xd7e8ef);}catch(_0x4096c7){console[_0x47ded4(0x4e8)](_0x4096c7);}}async[a0_0x3d18fe(0x22a)](_0x59d558){const _0x21932c=a0_0x3d18fe;try{return await this[_0x21932c(0x303)](_0x59d558)[_0x21932c(0x74d)][_0x21932c(0x83a)](),{'success':!0x0};}catch(_0x3e22cc){return console['error'](_0x3e22cc),{'success':!0x1,'error':_0x3e22cc};}}},Bt=class{constructor(_0x3b4fe6){const _0x4ab83f=a0_0x3d18fe;this[_0x4ab83f(0x348)]=_0x3b4fe6;}async[a0_0x3d18fe(0x369)]({instanceName:_0xa5545},_0x513d1c){const _0x58d053=a0_0x3d18fe;return await this[_0x58d053(0x348)][_0x58d053(0x2bb)][_0xa5545]['editChat'](_0x513d1c);}async[a0_0x3d18fe(0x679)]({instanceName:_0xb7fca7},_0x3a40fe){const _0x38d7cd=a0_0x3d18fe;return await this[_0x38d7cd(0x348)][_0x38d7cd(0x2bb)][_0xb7fca7][_0x38d7cd(0x679)](_0x3a40fe);}async[a0_0x3d18fe(0x706)]({instanceName:_0x4bb21a},_0x5d2e7e){const _0xdbe0a3=a0_0x3d18fe;return await this[_0xdbe0a3(0x348)][_0xdbe0a3(0x2bb)][_0x4bb21a][_0xdbe0a3(0x706)](_0x5d2e7e);}async['readMessage']({instanceName:_0x28fc65},_0x77acd6){const _0x3e6de3=a0_0x3d18fe;return await this[_0x3e6de3(0x348)][_0x3e6de3(0x2bb)][_0x28fc65][_0x3e6de3(0x2e2)](_0x77acd6);}async[a0_0x3d18fe(0x205)]({instanceName:_0x1ba4e6},_0x357a55){const _0x5aa0a5=a0_0x3d18fe;return await this['waMonitor'][_0x5aa0a5(0x2bb)][_0x1ba4e6][_0x5aa0a5(0x205)](_0x357a55);}async[a0_0x3d18fe(0x784)]({instanceName:_0x4c9643},_0x30be61){const _0x389dc4=a0_0x3d18fe;return await this[_0x389dc4(0x348)][_0x389dc4(0x2bb)][_0x4c9643][_0x389dc4(0x784)](_0x30be61);}async[a0_0x3d18fe(0x37a)]({instanceName:_0x1905be},_0x3cec21){const _0xdd817d=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x1905be][_0xdd817d(0x13e)](_0x3cec21[_0xdd817d(0x28f)]);}async[a0_0x3d18fe(0x7c4)]({instanceName:_0x58d483},_0x1e85eb){const _0x44c939=a0_0x3d18fe;return await this[_0x44c939(0x348)][_0x44c939(0x2bb)][_0x58d483][_0x44c939(0x7c4)](_0x1e85eb['number']);}async[a0_0x3d18fe(0x379)]({instanceName:_0x1e382e},_0x5120ab){const _0x3aeeea=a0_0x3d18fe;return await this[_0x3aeeea(0x348)]['waInstances'][_0x1e382e]['updatePresence'](_0x5120ab);}async[a0_0x3d18fe(0x72e)]({instanceName:_0x48973e},_0x53d99b){const _0x5d8877=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x48973e][_0x5d8877(0x72e)](_0x53d99b);}async[a0_0x3d18fe(0x187)]({instanceName:_0x14ab89},_0x43af3c){const _0x271639=a0_0x3d18fe;return await this['waMonitor'][_0x271639(0x2bb)][_0x14ab89]['getBase64FromMediaMessage'](_0x43af3c);}async[a0_0x3d18fe(0x203)]({instanceName:_0x2d3012},_0x56237d){const _0x450228=a0_0x3d18fe;return await this[_0x450228(0x348)][_0x450228(0x2bb)][_0x2d3012]['fetchMessages'](_0x56237d);}async[a0_0x3d18fe(0x571)]({instanceName:_0x3cb09d}){const _0x3883e9=a0_0x3d18fe;return await this[_0x3883e9(0x348)][_0x3883e9(0x2bb)][_0x3cb09d][_0x3883e9(0x571)]();}async[a0_0x3d18fe(0x74a)]({instanceName:_0x3725c2}){const _0x2d1c9f=a0_0x3d18fe;return await this['waMonitor'][_0x2d1c9f(0x2bb)][_0x3725c2][_0x2d1c9f(0x74a)]();}async[a0_0x3d18fe(0x327)]({instanceName:_0x74293f}){const _0x22aaaf=a0_0x3d18fe;return await this[_0x22aaaf(0x348)]['waInstances'][_0x74293f][_0x22aaaf(0x327)]();}async[a0_0x3d18fe(0x497)]({instanceName:_0x330e43},_0x298f4e){const _0x23296a=a0_0x3d18fe;return await this['waMonitor'][_0x23296a(0x2bb)][_0x330e43][_0x23296a(0x497)](_0x298f4e);}async[a0_0x3d18fe(0x51c)]({instanceName:_0x4e7ed7},_0x20424f){const _0x3f38c0=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x4e7ed7][_0x3f38c0(0x51c)](_0x20424f[_0x3f38c0(0x28f)]);}async[a0_0x3d18fe(0x877)]({instanceName:_0x5c487a},_0x1ae2fe){const _0x287aa5=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x5c487a][_0x287aa5(0x877)](_0x1ae2fe[_0x287aa5(0x2f6)]);}async[a0_0x3d18fe(0x7c7)]({instanceName:_0x41edbe},_0x1c30af){const _0x2d166c=a0_0x3d18fe;return await this[_0x2d166c(0x348)][_0x2d166c(0x2bb)][_0x41edbe][_0x2d166c(0x7c7)](_0x1c30af['status']);}async[a0_0x3d18fe(0x2ec)]({instanceName:_0x475432},_0xd3087d){const _0x41ec1f=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x475432][_0x41ec1f(0x2ec)](_0xd3087d['picture']);}async['removeProfilePicture']({instanceName:_0x57d276},_0x508b6f){const _0x32fad7=a0_0x3d18fe;return await this[_0x32fad7(0x348)][_0x32fad7(0x2bb)][_0x57d276]['removeProfilePicture']();}},Wt=require(a0_0x3d18fe(0x634)),zt=class u{constructor(_0x957402,_0x125fb3,_0x3e20ff,_0x5f4e46,_0x2d3d5f){const _0x42361a=a0_0x3d18fe;this[_0x42361a(0x348)]=_0x957402,this[_0x42361a(0x599)]=_0x125fb3,this[_0x42361a(0x827)]=_0x3e20ff,this[_0x42361a(0x4f9)]=_0x5f4e46,this[_0x42361a(0x6ef)]=_0x2d3d5f,this['logger']=new $(u['name']);}async['createInstance']({instanceName:_0x518c7b,apikey:_0x3371b4,number:_0x598520,proxy:_0x2133a6=!0x0}){const _0x3cd44a=a0_0x3d18fe;try{let _0x5245bb=new $e(this[_0x3cd44a(0x599)],this[_0x3cd44a(0x4f9)],this[_0x3cd44a(0x827)]);_0x5245bb['instanceName']=_0x518c7b,this[_0x3cd44a(0x348)][_0x3cd44a(0x2bb)][_0x5245bb['instanceName']]=_0x5245bb;let _0x3ff000={};_0x3371b4?(await this[_0x3cd44a(0x827)][_0x3cd44a(0x6ad)][_0x3cd44a(0x1e7)]({'apikey':_0x3371b4},_0x518c7b),_0x3ff000[_0x3cd44a(0x814)]=_0x3371b4):_0x3ff000=await this['authService']['generateHash']({'instanceName':_0x5245bb['instanceName']});let _0x4d4215;if(_0x598520){if(_0x4d4215=await this[_0x3cd44a(0x39d)](_0x598520),_0x4d4215[_0x3cd44a(0x4e8)])throw new x(_0x4d4215[_0x3cd44a(0x4e8)][_0x3cd44a(0x444)]());_0x598520=_0x4d4215['number'];}let _0x164e61;return await _0x5245bb[_0x3cd44a(0x25c)](_0x598520),await(0x0,Wt[_0x3cd44a(0x2c5)])(0xfa0),_0x598520&&await(0x0,Wt[_0x3cd44a(0x2c5)])(0xbb8),_0x164e61=_0x5245bb[_0x3cd44a(0x45d)],{'instance':{'instanceName':_0x5245bb[_0x3cd44a(0x3b2)],'status':'created'},'hash':_0x3ff000,'qrcode':_0x164e61};}catch(_0xbe4a8f){throw this[_0x3cd44a(0x53d)][_0x3cd44a(0x4e8)](_0xbe4a8f),_0xbe4a8f;}}async[a0_0x3d18fe(0x164)]({instanceName:_0x59015c,number:_0x161ad2=null}){const _0x49ec30=a0_0x3d18fe;try{let _0x6b5a22=this[_0x49ec30(0x348)][_0x49ec30(0x2bb)][_0x59015c];switch(_0x6b5a22?.['connectionStatus']?.[_0x49ec30(0x6c9)]){case _0x49ec30(0x349):return await _0x6b5a22[_0x49ec30(0x25c)](_0x161ad2),await(0x0,Wt[_0x49ec30(0x2c5)])(0x7d0),_0x6b5a22['qrCode'];case _0x49ec30(0x3d5):return _0x6b5a22['qrCode'];default:return await this[_0x49ec30(0x690)]({'instanceName':_0x59015c});}}catch(_0x5cef00){this[_0x49ec30(0x53d)][_0x49ec30(0x4e7)](_0x5cef00);}}async[a0_0x3d18fe(0x690)]({instanceName:_0x299eae}){const _0x4a9940=a0_0x3d18fe;let _0x512672=this[_0x4a9940(0x348)][_0x4a9940(0x2bb)][_0x299eae][_0x4a9940(0x789)],_0x4de471=null;_0x512672[_0x4a9940(0x6c9)]==='open'&&_0x299eae&&(_0x4de471=await this['waMonitor']['instanceInfo'](_0x299eae));let _0x44ab1f=null;return _0x512672['state']===_0x4a9940(0x3d5)&&_0x299eae&&(_0x44ab1f=this['waMonitor']['waInstances'][_0x299eae][_0x4a9940(0x45d)]),{'instance':_0x299eae,'connectionStatus':_0x512672,'instanceInfo':_0x4de471,'qrcode':_0x44ab1f};}async['verifyWhatsAppNumber'](_0x372552){const _0x266d3a=a0_0x3d18fe;_0x372552=_0x372552[_0x266d3a(0x5e7)](/\D/g,'');let _0x31499e=Object[_0x266d3a(0x551)](this[_0x266d3a(0x348)][_0x266d3a(0x2bb)])[_0x266d3a(0x836)](_0x54cfe4=>{const _0x234492=_0x266d3a;let _0x25f83=this['waMonitor'][_0x234492(0x2bb)][_0x54cfe4];return _0x25f83&&_0x25f83[_0x234492(0x789)]&&_0x25f83['connectionStatus']['state']===_0x234492(0x5b1);});if(_0x31499e[_0x266d3a(0x802)]===0x0)return{'number':this[_0x266d3a(0x65c)](_0x372552)};let _0x3dd0ff=Math['floor'](Math['random']()*_0x31499e[_0x266d3a(0x802)]),_0x51d5a0=_0x31499e[_0x3dd0ff];try{let _0x17db08=(await this[_0x266d3a(0x348)][_0x266d3a(0x2bb)][_0x51d5a0][_0x266d3a(0x679)]({'numbers':[_0x372552]}))['shift']();return _0x17db08[_0x266d3a(0x622)]?{'number':_0x17db08['jid'][_0x266d3a(0x5e7)]('@s.whatsapp.net','')}:{'number':_0x372552,'error':_0x266d3a(0x211)};}catch(_0x298607){return this[_0x266d3a(0x53d)]['error']('Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:'+_0x298607),{'number':_0x372552,'error':_0x266d3a(0x334)};}}['formatBRNumber'](_0x2fd4b1){const _0x26b0ef=a0_0x3d18fe;let _0x2ec6f6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x26b0ef(0x583)](_0x2fd4b1);if(_0x2ec6f6&&_0x2ec6f6[0x1]==='55'){let _0x3280a7=_0x2ec6f6[0x2],_0x5f151a=_0x2ec6f6[0x3],_0x3651e6=_0x2ec6f6[0x4];if(parseInt(_0x3280a7)>=0x1f&&_0x5f151a==='9')return _0x2ec6f6[0x1]+_0x3280a7+_0x3651e6;}return _0x2fd4b1;}async[a0_0x3d18fe(0x131)]({instanceName:_0x27e074}){const _0x330f9e=a0_0x3d18fe;try{return this[_0x330f9e(0x348)][_0x330f9e(0x2bb)][_0x27e074]?.[_0x330f9e(0x880)]?.['ws']?.['close'](),{'status':_0x330f9e(0x47c),'error':!0x1,'response':{'message':_0x330f9e(0x51e)}};}catch(_0xc4fad1){this[_0x330f9e(0x53d)][_0x330f9e(0x4e8)](_0xc4fad1);}}async[a0_0x3d18fe(0x3bb)]({instanceName:_0x43ee28}){const _0x27989a=a0_0x3d18fe;return _0x43ee28?this[_0x27989a(0x348)]['instanceInfo'](_0x43ee28):this[_0x27989a(0x348)][_0x27989a(0x5ab)]();}async[a0_0x3d18fe(0x59e)]({instanceName:_0x4a2aba}){const _0x550a84=a0_0x3d18fe;try{return await this['waMonitor']['waInstances'][_0x4a2aba]?.[_0x550a84(0x880)]?.['logout'](_0x550a84(0x3be)+_0x4a2aba),{'error':!0x1,'message':_0x550a84(0x18c)};}catch(_0xa41aff){throw new x(_0xa41aff[_0x550a84(0x444)]());}}async[a0_0x3d18fe(0x794)]({instanceName:_0x1210d5}){const _0x335bfe=a0_0x3d18fe;if((await this[_0x335bfe(0x690)]({'instanceName':_0x1210d5}))['connectionStatus'][_0x335bfe(0x6c9)]===_0x335bfe(0x5b1))throw new m(['Deletion\x20failed',_0x335bfe(0x217)]);try{return delete this[_0x335bfe(0x348)][_0x335bfe(0x2bb)][_0x1210d5],{'error':!0x1,'message':_0x335bfe(0x261)};}catch(_0x24dee7){throw new m(_0x24dee7[_0x335bfe(0x444)]());}}},ce=require(a0_0x3d18fe(0x57f)),Ht=class{constructor(_0x532efc){const _0x405362=a0_0x3d18fe;this[_0x405362(0x348)]=_0x532efc;}async[a0_0x3d18fe(0x796)]({instanceName:_0xaf1c0c},_0x40d38a){const _0x462e63=a0_0x3d18fe;return await this[_0x462e63(0x348)][_0x462e63(0x2bb)][_0xaf1c0c]['textMessage'](_0x40d38a);}async[a0_0x3d18fe(0x45c)]({instanceName:_0x41767a},_0x43a70e){const _0x5db2d9=a0_0x3d18fe;return await this[_0x5db2d9(0x348)]['waInstances'][_0x41767a]['menuMessage'](_0x43a70e);}async[a0_0x3d18fe(0x284)]({instanceName:_0x4d5f42},_0x326b54){const _0x5c1f14=a0_0x3d18fe;if((0x0,ce[_0x5c1f14(0x75d)])(_0x326b54?.[_0x5c1f14(0x4b4)]?.['media'])&&!_0x326b54?.['mediaMessage']?.[_0x5c1f14(0x49d)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ce[_0x5c1f14(0x879)])(_0x326b54?.[_0x5c1f14(0x4b4)]?.['media'])||(0x0,ce[_0x5c1f14(0x75d)])(_0x326b54?.['mediaMessage']?.['media']))return await this[_0x5c1f14(0x348)][_0x5c1f14(0x2bb)][_0x4d5f42][_0x5c1f14(0x4b4)](_0x326b54);throw new m(_0x5c1f14(0x3e4));}async['sendSticker']({instanceName:_0x3c63ac},_0x4ed960){const _0x56d322=a0_0x3d18fe;if((0x0,ce[_0x56d322(0x879)])(_0x4ed960['stickerMessage'][_0x56d322(0x333)])||(0x0,ce[_0x56d322(0x75d)])(_0x4ed960[_0x56d322(0x613)][_0x56d322(0x333)]))return await this[_0x56d322(0x348)][_0x56d322(0x2bb)][_0x3c63ac]['mediaSticker'](_0x4ed960);throw new m(_0x56d322(0x3e4));}async[a0_0x3d18fe(0x7cf)]({instanceName:_0x278535},_0x194a96){const _0x54c1a9=a0_0x3d18fe;if((0x0,ce[_0x54c1a9(0x879)])(_0x194a96[_0x54c1a9(0x183)][_0x54c1a9(0x3f4)])||(0x0,ce['isBase64'])(_0x194a96[_0x54c1a9(0x183)][_0x54c1a9(0x3f4)]))return await this[_0x54c1a9(0x348)][_0x54c1a9(0x2bb)][_0x278535][_0x54c1a9(0x4b7)](_0x194a96);throw new m(_0x54c1a9(0x3e4));}async[a0_0x3d18fe(0x7a8)]({instanceName:_0x1b83af},_0x1ce4d4){const _0x1943d4=a0_0x3d18fe;return await this[_0x1943d4(0x348)][_0x1943d4(0x2bb)][_0x1b83af]['buttonMessage'](_0x1ce4d4);}async[a0_0x3d18fe(0x757)]({instanceName:_0x3e6d7e},_0x24712e){const _0x4408e1=a0_0x3d18fe;return await this[_0x4408e1(0x348)][_0x4408e1(0x2bb)][_0x3e6d7e][_0x4408e1(0x539)](_0x24712e);}async[a0_0x3d18fe(0x2e5)]({instanceName:_0x5d4a69},_0x1e7989){const _0x7cd2f=a0_0x3d18fe;return await this[_0x7cd2f(0x348)][_0x7cd2f(0x2bb)][_0x5d4a69][_0x7cd2f(0x57d)](_0x1e7989);}async[a0_0x3d18fe(0x139)]({instanceName:_0x4754b7},_0x491949){const _0x24ac32=a0_0x3d18fe;return await this[_0x24ac32(0x348)][_0x24ac32(0x2bb)][_0x4754b7][_0x24ac32(0x19b)](_0x491949);}async[a0_0x3d18fe(0x7c3)]({instanceName:_0x2d2b22},_0x3ffe72){const _0x543974=a0_0x3d18fe;return await this[_0x543974(0x348)][_0x543974(0x2bb)][_0x2d2b22][_0x543974(0x339)](_0x3ffe72);}async[a0_0x3d18fe(0x6ba)]({instanceName:_0x907828},_0x12bafd){const _0x28c5a6=a0_0x3d18fe;if(!_0x12bafd[_0x28c5a6(0x6cb)][_0x28c5a6(0x460)][_0x28c5a6(0x750)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x28c5a6(0x1ea));return await this[_0x28c5a6(0x348)][_0x28c5a6(0x2bb)][_0x907828][_0x28c5a6(0x6cb)](_0x12bafd);}async['sendStatus']({instanceName:_0x5aacbb},_0xed9972){const _0x1ce59f=a0_0x3d18fe;return await this[_0x1ce59f(0x348)][_0x1ce59f(0x2bb)][_0x5aacbb][_0x1ce59f(0x248)](_0xed9972);}},Pi=require('jsonwebtoken'),Us=require(a0_0x3d18fe(0x550)),Kt=class u{constructor(_0xdc9ce0,_0x3cec9c,_0x4367d4){const _0x13d389=a0_0x3d18fe;this[_0x13d389(0x599)]=_0xdc9ce0,this[_0x13d389(0x348)]=_0x3cec9c,this[_0x13d389(0x827)]=_0x4367d4,this[_0x13d389(0x53d)]=new $(u[_0x13d389(0x2f6)]);}async[a0_0x3d18fe(0x56d)](_0x559b5d){const _0x3d9291=a0_0x3d18fe;let _0x2f444c=this['configService']['get'](_0x3d9291(0x138))['JWT'],_0x4f29ec=(0x0,Pi[_0x3d9291(0x400)])({'instanceName':_0x559b5d[_0x3d9291(0x3b2)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x2f444c[_0x3d9291(0x2b6)],{'expiresIn':_0x2f444c[_0x3d9291(0x226)],'encoding':_0x3d9291(0x727),'subject':_0x3d9291(0x1d4)}),_0x2a2579=await this['repository']['auth'][_0x3d9291(0x1e7)]({'jwt':_0x4f29ec},_0x559b5d[_0x3d9291(0x3b2)]);if(_0x2a2579[_0x3d9291(0x4e8)])throw this[_0x3d9291(0x53d)][_0x3d9291(0x4e8)]({'localError':u['name']+_0x3d9291(0x1de),'error':_0x2a2579[_0x3d9291(0x4e8)]}),new m('Authentication\x20error',_0x2a2579['error']?.[_0x3d9291(0x444)]());return{'jwt':_0x4f29ec};}async[a0_0x3d18fe(0x814)](_0x5211a4){const _0x279870=a0_0x3d18fe;let _0x4ed768=(0x0,Us['v4'])()[_0x279870(0x299)](),_0xaba244=await this[_0x279870(0x827)]['auth'][_0x279870(0x1e7)]({'apikey':_0x4ed768},_0x5211a4[_0x279870(0x3b2)]);if(_0xaba244[_0x279870(0x4e8)])throw this[_0x279870(0x53d)][_0x279870(0x4e8)]({'localError':u['name']+'.jwt','error':_0xaba244['error']}),new m(_0x279870(0x173),_0xaba244[_0x279870(0x4e8)]?.[_0x279870(0x444)]());return{'apikey':_0x4ed768};}async[a0_0x3d18fe(0x82b)](_0x1577eb){const _0x33d785=a0_0x3d18fe;let _0x3d30cc=this[_0x33d785(0x599)][_0x33d785(0x5d8)]('AUTHENTICATION');return await this[_0x3d30cc['TYPE']](_0x1577eb);}},Qt=class{constructor(_0x2fa432){const _0x10f136=a0_0x3d18fe;this[_0x10f136(0x348)]=_0x2fa432;}async['createGroup'](_0x16073a,_0x752197){const _0x7e6bfb=a0_0x3d18fe;return await this[_0x7e6bfb(0x348)][_0x7e6bfb(0x2bb)][_0x16073a[_0x7e6bfb(0x3b2)]][_0x7e6bfb(0x4b8)](_0x752197);}async[a0_0x3d18fe(0x3ab)](_0x255bd8,_0x3b846c){const _0x19506c=a0_0x3d18fe;return await this['waMonitor'][_0x19506c(0x2bb)][_0x255bd8[_0x19506c(0x3b2)]][_0x19506c(0x3ab)](_0x3b846c);}async['groupDesc'](_0x1dcb08,_0x2febdc){const _0x1d4227=a0_0x3d18fe;return await this['waMonitor'][_0x1d4227(0x2bb)][_0x1dcb08[_0x1d4227(0x3b2)]]['groupDesc'](_0x2febdc);}async[a0_0x3d18fe(0x48a)](_0x41875a,_0x37ba80){const _0x2987ce=a0_0x3d18fe;return await this[_0x2987ce(0x348)][_0x2987ce(0x2bb)][_0x41875a['instanceName']][_0x2987ce(0x48a)](_0x37ba80);}async[a0_0x3d18fe(0x7ae)](_0xbc5246,_0x38d886){const _0x24317b=a0_0x3d18fe;return await this[_0x24317b(0x348)][_0x24317b(0x2bb)][_0xbc5246[_0x24317b(0x3b2)]]['groupBetterSetting'](_0x38d886);}async[a0_0x3d18fe(0x683)](_0x51ed76,_0x35ab8c){const _0x2a5013=a0_0x3d18fe;return await this['waMonitor'][_0x2a5013(0x2bb)][_0x51ed76['instanceName']][_0x2a5013(0x683)](_0x35ab8c);}async['findGroupInfo'](_0x46eab8,_0x33c89b){const _0x4f195c=a0_0x3d18fe;return await this[_0x4f195c(0x348)][_0x4f195c(0x2bb)][_0x46eab8[_0x4f195c(0x3b2)]][_0x4f195c(0x749)](_0x33c89b);}async['findGroups'](_0x2e3a25){const _0x132f74=a0_0x3d18fe;return await this['waMonitor'][_0x132f74(0x2bb)][_0x2e3a25[_0x132f74(0x3b2)]]['findGroups']();}async[a0_0x3d18fe(0x620)](_0x56f378,_0x550762){const _0x340656=a0_0x3d18fe;return await this[_0x340656(0x348)][_0x340656(0x2bb)][_0x56f378[_0x340656(0x3b2)]][_0x340656(0x620)](_0x550762);}async[a0_0x3d18fe(0x78f)](_0x5f5a92,_0x277953){const _0x3a42b8=a0_0x3d18fe;return await this['waMonitor'][_0x3a42b8(0x2bb)][_0x5f5a92[_0x3a42b8(0x3b2)]][_0x3a42b8(0x78f)](_0x277953);}async[a0_0x3d18fe(0x61a)](_0x3584f5,_0x210d32){const _0x427828=a0_0x3d18fe;return await this[_0x427828(0x348)]['waInstances'][_0x3584f5[_0x427828(0x3b2)]]['groupGetInviteInfo'](_0x210d32);}async['revokeInviteCode'](_0x1d8121,_0x4ecbde){const _0x3b9f52=a0_0x3d18fe;return await this[_0x3b9f52(0x348)][_0x3b9f52(0x2bb)][_0x1d8121[_0x3b9f52(0x3b2)]]['revokeInviteCode'](_0x4ecbde);}async[a0_0x3d18fe(0x5fd)](_0x34ab59,_0x27c1bf){const _0x28b60d=a0_0x3d18fe;return await this[_0x28b60d(0x348)][_0x28b60d(0x2bb)][_0x34ab59[_0x28b60d(0x3b2)]][_0x28b60d(0x5fd)](_0x27c1bf);}async['updateGParticipate'](_0x55bd37,_0x396942){const _0x276d46=a0_0x3d18fe;return await this[_0x276d46(0x348)][_0x276d46(0x2bb)][_0x55bd37[_0x276d46(0x3b2)]][_0x276d46(0x1c2)](_0x396942);}async[a0_0x3d18fe(0x62d)](_0x293b10,_0x221344){const _0x460e97=a0_0x3d18fe;return await this[_0x460e97(0x348)][_0x460e97(0x2bb)][_0x293b10[_0x460e97(0x3b2)]][_0x460e97(0x62d)](_0x221344);}async['leaveGroup'](_0x1bcd40,_0x5018a1){const _0x148182=a0_0x3d18fe;return await this[_0x148182(0x348)][_0x148182(0x2bb)][_0x1bcd40[_0x148182(0x3b2)]][_0x148182(0x4c2)](_0x5018a1);}},Yt=class{constructor(_0x36d5a7){const _0x5eeabc=a0_0x3d18fe;this[_0x5eeabc(0x348)]=_0x36d5a7;}[a0_0x3d18fe(0x1e7)](_0x191950,_0x397392){const _0x35b1dc=a0_0x3d18fe;return this[_0x35b1dc(0x348)][_0x35b1dc(0x2bb)][_0x191950[_0x35b1dc(0x3b2)]][_0x35b1dc(0x722)](_0x397392);}async[a0_0x3d18fe(0x80c)](_0x4f80fc){const _0x2c6eb9=a0_0x3d18fe;try{return await this[_0x2c6eb9(0x348)]['waInstances'][_0x4f80fc[_0x2c6eb9(0x3b2)]][_0x2c6eb9(0x180)]();}catch{return{'enabled':null,'url':''};}}},nh=new $(a0_0x3d18fe(0x512)),Xt=class{constructor(_0x1f99ce){const _0xea72e7=a0_0x3d18fe;this[_0xea72e7(0x348)]=_0x1f99ce;}async[a0_0x3d18fe(0x709)](_0x3a5ce7,_0x367c5b){const _0x1c4e0a=a0_0x3d18fe;return await this['waMonitor'][_0x1c4e0a(0x2bb)][_0x3a5ce7[_0x1c4e0a(0x3b2)]][_0x1c4e0a(0x709)](_0x367c5b);}async[a0_0x3d18fe(0x787)](_0x3c816b){const _0x277c12=a0_0x3d18fe;return await this[_0x277c12(0x348)][_0x277c12(0x2bb)][_0x3c816b[_0x277c12(0x3b2)]][_0x277c12(0x787)]();}async[a0_0x3d18fe(0x553)](_0x3a90d9){const _0x4701cc=a0_0x3d18fe;return await this['waMonitor'][_0x4701cc(0x2bb)][_0x3a90d9['instanceName']][_0x4701cc(0x553)]();}async[a0_0x3d18fe(0x81e)](_0x4d88c0){const _0x121d4b=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x4d88c0[_0x121d4b(0x3b2)]][_0x121d4b(0x81e)]();}async[a0_0x3d18fe(0x17e)](_0x45563e,_0x3c2337){const _0x39245f=a0_0x3d18fe;return await this[_0x39245f(0x348)][_0x39245f(0x2bb)][_0x45563e['instanceName']][_0x39245f(0x17e)](_0x3c2337);}async['updateCustomFields'](_0x45bdde,_0x3aa331){const _0x1edfc4=a0_0x3d18fe;return await this[_0x1edfc4(0x348)][_0x1edfc4(0x2bb)][_0x45bdde[_0x1edfc4(0x3b2)]][_0x1edfc4(0x84a)](_0x3aa331);}async[a0_0x3d18fe(0x17c)](_0x3cce7c,_0x181584){const _0x1618e6=a0_0x3d18fe;return await this[_0x1618e6(0x348)]['waInstances'][_0x3cce7c[_0x1618e6(0x3b2)]][_0x1618e6(0x17c)](_0x181584);}async[a0_0x3d18fe(0x680)](_0x5470fe,_0x1e084c){const _0x42274c=a0_0x3d18fe;return await this[_0x42274c(0x348)][_0x42274c(0x2bb)][_0x5470fe[_0x42274c(0x3b2)]]['updateFlowConfig'](_0x1e084c);}async[a0_0x3d18fe(0x744)](_0x438c08,_0xa57700){const _0x4e49e3=a0_0x3d18fe;return await this[_0x4e49e3(0x348)]['waInstances'][_0x438c08[_0x4e49e3(0x3b2)]][_0x4e49e3(0x744)](_0xa57700);}async[a0_0x3d18fe(0x4e2)](_0x3d10e8,_0x55f9ff,_0x11034c,_0x9ce81f){const _0xa05814=a0_0x3d18fe;return await this[_0xa05814(0x348)][_0xa05814(0x2bb)][_0x3d10e8][_0xa05814(0x4e2)](_0x55f9ff,_0x11034c,_0x9ce81f);}async['getConversation'](_0x5d05b1,_0x1ed5ea){const _0x301a22=a0_0x3d18fe;return await this[_0x301a22(0x348)][_0x301a22(0x2bb)][_0x5d05b1['instanceName']][_0x301a22(0x199)](_0x1ed5ea);}async['fetchConversation'](_0xb569e9,_0x556972){const _0x5540e9=a0_0x3d18fe;return await this['waMonitor'][_0x5540e9(0x2bb)][_0xb569e9['instanceName']][_0x5540e9(0x412)](_0x556972);}async['editConversation'](_0x2cc063,_0x3c84ab){const _0xf45360=a0_0x3d18fe;return await this[_0xf45360(0x348)][_0xf45360(0x2bb)][_0x2cc063['instanceName']][_0xf45360(0x3fc)](_0x3c84ab);}async[a0_0x3d18fe(0x702)](_0x55631b,_0x3be8fc){const _0x54b04e=a0_0x3d18fe;return await this[_0x54b04e(0x348)][_0x54b04e(0x2bb)][_0x55631b['instanceName']][_0x54b04e(0x702)](_0x3be8fc);}async[a0_0x3d18fe(0x817)](_0x6c920e,_0x501a82){const _0x43fc59=a0_0x3d18fe;return await this[_0x43fc59(0x348)]['waInstances'][_0x6c920e[_0x43fc59(0x3b2)]]['getFlow'](_0x501a82[_0x43fc59(0x2a2)]);}async['createFlow'](_0x198bbe,_0x532655,_0x307ce6){const _0x3c73ea=a0_0x3d18fe;return await this[_0x3c73ea(0x348)][_0x3c73ea(0x2bb)][_0x198bbe[_0x3c73ea(0x3b2)]]['createFlow'](_0x532655,_0x307ce6);}async['editFlow'](_0x12f1e9,_0x1c2f9b,_0x54f3c5){const _0x2f5797=a0_0x3d18fe;return await this['waMonitor']['waInstances'][_0x12f1e9[_0x2f5797(0x3b2)]][_0x2f5797(0x604)](_0x1c2f9b,_0x54f3c5);}async[a0_0x3d18fe(0x7f4)](_0x4642fe,_0x14af27){const _0x2c910c=a0_0x3d18fe;return await this[_0x2c910c(0x348)]['waInstances'][_0x4642fe[_0x2c910c(0x3b2)]][_0x2c910c(0x7f4)](_0x14af27);}async[a0_0x3d18fe(0x3a2)](_0x1915fb,_0x40af94){const _0xe7ca10=a0_0x3d18fe;return await this[_0xe7ca10(0x348)][_0xe7ca10(0x2bb)][_0x1915fb[_0xe7ca10(0x3b2)]][_0xe7ca10(0x3a2)](_0x40af94);}async[a0_0x3d18fe(0x7c8)](_0x298d9a,_0x72aba0){const _0x387ba7=a0_0x3d18fe;return await this[_0x387ba7(0x348)][_0x387ba7(0x2bb)][_0x298d9a[_0x387ba7(0x3b2)]][_0x387ba7(0x7c8)](_0x72aba0);}async['editFlowCondition'](_0x37eac6,_0xe2558c){const _0x44a259=a0_0x3d18fe;return await this[_0x44a259(0x348)][_0x44a259(0x2bb)][_0x37eac6['instanceName']][_0x44a259(0x3e3)](_0xe2558c);}async[a0_0x3d18fe(0x85b)](_0x4583de,_0x294fde){const _0x6cbeca=a0_0x3d18fe;return await this[_0x6cbeca(0x348)][_0x6cbeca(0x2bb)][_0x4583de['instanceName']][_0x6cbeca(0x85b)](_0x294fde);}async[a0_0x3d18fe(0x23c)](_0x220564,_0x23aab7){const _0x4ee961=a0_0x3d18fe;return await this[_0x4ee961(0x348)][_0x4ee961(0x2bb)][_0x220564[_0x4ee961(0x3b2)]][_0x4ee961(0x23c)](_0x23aab7);}async[a0_0x3d18fe(0x2b1)](_0x481b0a,_0x530269){const _0x4d3945=a0_0x3d18fe;return await this[_0x4d3945(0x348)][_0x4d3945(0x2bb)][_0x481b0a[_0x4d3945(0x3b2)]][_0x4d3945(0x2b1)](_0x530269);}async[a0_0x3d18fe(0x1e9)](_0x42edb1){const _0x2237fa=a0_0x3d18fe;return await this[_0x2237fa(0x348)][_0x2237fa(0x2bb)][_0x42edb1[_0x2237fa(0x3b2)]][_0x2237fa(0x1e9)]();}},Zt=class{constructor(_0x457bd7){const _0x4c98eb=a0_0x3d18fe;this[_0x4c98eb(0x3a9)]=_0x457bd7;}async[a0_0x3d18fe(0x225)](_0x3555fc,_0x2076f1){const _0x4a1504=a0_0x3d18fe;return this['webhookService'][_0x4a1504(0x1e7)](_0x3555fc,_0x2076f1);}async[a0_0x3d18fe(0x180)](_0x20911c){const _0x123a37=a0_0x3d18fe;return this[_0x123a37(0x3a9)]['find'](_0x20911c);}},es=class extends _{constructor(_0x2b406c,_0xce5cbf){super(_0xce5cbf),this['webhookModel']=_0x2b406c,this['configService']=_0xce5cbf;}async[a0_0x3d18fe(0x1e7)](_0x2d087f,_0x30f984){const _0x548071=a0_0x3d18fe;try{return this['dbSettings'][_0x548071(0x724)]?{'insertCount':(await this['webhookModel'][_0x548071(0x2c4)]({'_id':_0x30f984},{..._0x2d087f},{'upsert':!0x0}))[_0x548071(0x809)]}:{'insertCount':0x1};}catch(_0xa8cf41){return _0xa8cf41;}}async[a0_0x3d18fe(0x5cd)](_0x55c745){const _0x337c09=a0_0x3d18fe;try{if(this[_0x337c09(0x3fa)][_0x337c09(0x724)]){await this[_0x337c09(0x169)]['deleteOne']({'_id':_0x55c745});return;}}catch(_0x4be15b){return{'error':_0x4be15b};}}async[a0_0x3d18fe(0x80c)](_0x44c94d){const _0x446240=a0_0x3d18fe;try{if(this[_0x446240(0x3fa)][_0x446240(0x724)])return await this[_0x446240(0x169)][_0x446240(0x648)]({'_id':_0x44c94d});}catch{return{};}}},ts=class extends _{constructor(_0x58f54b,_0x220d02){const _0x579097=a0_0x3d18fe;super(_0x220d02),this[_0x579097(0x693)]=_0x58f54b,this[_0x579097(0x599)]=_0x220d02,this['auth']=_0x220d02[_0x579097(0x5d8)](_0x579097(0x138));}async[a0_0x3d18fe(0x1e7)](_0xffc453,_0x1c4024){const _0x5c6bd5=a0_0x3d18fe;try{if(this['dbSettings'][_0x5c6bd5(0x724)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x1c4024},{'$set':{..._0xffc453}},{'upsert':!0x0}))[_0x5c6bd5(0x809)]};}catch(_0x52dc03){return{'error':_0x52dc03};}}async[a0_0x3d18fe(0x133)](_0x5ec16a,_0x2a07bc){const _0x58268e=a0_0x3d18fe;try{if(this[_0x58268e(0x3fa)][_0x58268e(0x724)])return{'insertCount':(await this[_0x58268e(0x693)]['updateMany'](_0x5ec16a,{'$set':_0x2a07bc},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x58268e(0x850));}catch(_0x5db4aa){return{'error':_0x5db4aa};}}async[a0_0x3d18fe(0x628)](_0x186e09){const _0x18f41d=a0_0x3d18fe;try{if(this[_0x18f41d(0x3fa)]['ENABLED'])return{'insertCount':(await this[_0x18f41d(0x693)][_0x18f41d(0x628)](_0x186e09))[_0x18f41d(0x6b8)]};throw new Error(_0x18f41d(0x6e5));}catch(_0x900160){return{'error':_0x900160};}}async[a0_0x3d18fe(0x5cd)](_0x44eeb4){const _0x297c0e=a0_0x3d18fe;try{if(this[_0x297c0e(0x3fa)][_0x297c0e(0x724)]){await this['authModel'][_0x297c0e(0x4ac)]({'_id':_0x44eeb4});return;}}catch(_0x381b2b){return{'error':_0x381b2b};}}async['find'](_0x2ce81f){try{if(this['dbSettings']['ENABLED'])return await this['authModel']['findOne']({'_id':_0x2ce81f});}catch{return{};}}async[a0_0x3d18fe(0x516)](){const _0x4c7e14=a0_0x3d18fe;try{if(this[_0x4c7e14(0x3fa)][_0x4c7e14(0x724)])return await this['authModel'][_0x4c7e14(0x80c)]();}catch{return[];}}async[a0_0x3d18fe(0x564)](_0xc30625){const _0x308966=a0_0x3d18fe;try{if(this[_0x308966(0x3fa)][_0x308966(0x724)])return await this[_0x308966(0x693)][_0x308966(0x80c)](_0xc30625);}catch{return[];}}},ss=class extends _{async['deleteOne'](_0x5412f3){const _0x5af533=a0_0x3d18fe;try{let _0x5b6c9c=A(_0x5412f3[_0x5af533(0x295)]);return{'deletedCount':(await Ce[_0x5af533(0x4ac)](_0x5b6c9c))[_0x5af533(0x6b8)]};}catch(_0x129ccc){return{'error':_0x129ccc?.[_0x5af533(0x444)]()};}}async[a0_0x3d18fe(0x442)](_0x293400,_0x4d287d){const _0x4c789c=a0_0x3d18fe;try{let _0x5c7edc=await Ce[_0x4c789c(0x681)](_0x293400);return _0x5c7edc?(Object[_0x4c789c(0x640)](_0x5c7edc,_0x4d287d),await _0x5c7edc['save']()):(console[_0x4c789c(0x4e8)](_0x4c789c(0x27e),_0x293400),null);}catch(_0x4a3179){return console['error'](_0x4c789c(0x61c),_0x4a3179),null;}}async['createAndSave'](_0x4e61e6){const _0x320f47=a0_0x3d18fe;try{return await new Ce(_0x4e61e6)[_0x320f47(0x68e)]();}catch(_0x44053b){return console[_0x320f47(0x4e8)](_0x320f47(0x2e4),_0x44053b),null;}}async[a0_0x3d18fe(0x516)](_0x3c5f18){const _0x1d9141=a0_0x3d18fe;try{let _0x388854=_0x3c5f18[_0x1d9141(0x295)]??{};return await Ce[_0x1d9141(0x80c)](_0x388854)['limit'](_0x3c5f18['limit']??0x0)['lean']();}catch(_0x236916){return console[_0x1d9141(0x4e8)](_0x1d9141(0x7af),_0x236916),[];}}async[a0_0x3d18fe(0x648)](_0x5dac2c){const _0x7e4def=a0_0x3d18fe;try{let _0x1b8d20=A(_0x5dac2c[_0x7e4def(0x295)]);return await Ce['findOne'](_0x1b8d20)[_0x7e4def(0x66e)]();}catch{return null;}}},as=class extends _{[a0_0x3d18fe(0x3ee)](_0x510867){return Sa(_0x510867);}async[a0_0x3d18fe(0x300)](_0x243a34){const _0x2131e3=a0_0x3d18fe;if(_0x243a34['length']!==0x0)try{return{'insertCount':(await this[_0x2131e3(0x3ee)](_0x243a34[0x0][_0x2131e3(0x856)])['insertMany']([..._0x243a34]))[_0x2131e3(0x802)]};}catch(_0x115cd9){return _0x115cd9;}}async[a0_0x3d18fe(0x5cd)](_0x2ad634,_0x1465ec){const _0x4dabf7=a0_0x3d18fe;try{let _0x2fdd58=this['getConversationModelForOwner'](_0x1465ec),_0xe3a3f3=A(_0x2ad634[_0x4dabf7(0x295)]);return{'deletedCount':(await _0x2fdd58['deleteMany'](_0xe3a3f3))['deletedCount']};}catch(_0x29233e){return{'error':_0x29233e?.[_0x4dabf7(0x444)]()};}}async[a0_0x3d18fe(0x4ac)](_0x5076b9,_0x222023){const _0x28b253=a0_0x3d18fe;try{let _0x2123eb=this[_0x28b253(0x3ee)](_0x222023),_0x5885bd=A(_0x5076b9[_0x28b253(0x295)]);return{'deletedCount':(await _0x2123eb[_0x28b253(0x4ac)](_0x5885bd))['deletedCount']};}catch(_0x54f5dd){return{'error':_0x54f5dd?.['toString']()};}}async[a0_0x3d18fe(0x200)](_0x2946a7,_0x2826a2){const _0x40b9d9=a0_0x3d18fe;try{if(_0x2946a7[_0x40b9d9(0x802)]===0x0)return;let _0x3e5902=this[_0x40b9d9(0x3ee)](_0x2826a2),_0x201e6a=_0x2946a7[_0x40b9d9(0x82a)](_0x4d2b91=>({'updateOne':{'filter':{'name':_0x4d2b91[_0x40b9d9(0x2f6)],'owner':_0x2826a2},'update':{..._0x4d2b91}}})),{modifiedCount:_0x1e1562}=await _0x3e5902['bulkWrite'](_0x201e6a);return{'insertCount':_0x1e1562};}catch{return;}}async['updateMany'](_0x5f02c6,_0xcc09c7,_0x172853){const _0xd01f89=a0_0x3d18fe;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x172853)[_0xd01f89(0x772)](_0x5f02c6,{'$set':_0xcc09c7})[_0xd01f89(0x583)]())[_0xd01f89(0x809)]};}catch(_0x17c88e){return console[_0xd01f89(0x4e8)](_0xd01f89(0x5a6),_0x17c88e),{'error':_0x17c88e};}}async[a0_0x3d18fe(0x442)](_0x7ebc2,_0x3c1f6d,_0x2a9cef){const _0x48aa59=a0_0x3d18fe;try{return await this[_0x48aa59(0x3ee)](_0x2a9cef)[_0x48aa59(0x456)]({'_id':_0x7ebc2},{'$set':_0x3c1f6d},{'new':!0x0,'upsert':!0x0})[_0x48aa59(0x66e)]();}catch(_0x1c1e58){return console['error'](_0x1c1e58),null;}}async[a0_0x3d18fe(0x80c)](_0x4bf252,_0x49b2bf){const _0x1323c9=a0_0x3d18fe;try{return await this[_0x1323c9(0x3ee)](_0x49b2bf)['find'](_0x4bf252)[_0x1323c9(0x366)]({'lastInteraction':-0x1})[_0x1323c9(0x66e)]();}catch{return[];}}async['findOne'](_0x3b06be,_0x21ccd0){const _0x10f276=a0_0x3d18fe;try{return await this[_0x10f276(0x3ee)](_0x21ccd0)[_0x10f276(0x648)]({..._0x3b06be['where']})[_0x10f276(0x66e)]();}catch{return null;}}async[a0_0x3d18fe(0x22a)](_0x1870b8){const _0x1ec319=a0_0x3d18fe;try{return await this['getConversationModelForOwner'](_0x1870b8)[_0x1ec319(0x74d)]['drop'](),{'success':!0x0};}catch(_0x2f6710){return console[_0x1ec319(0x4e8)](_0x2f6710),{'success':!0x1,'error':_0x2f6710};}}},is=class extends _{[a0_0x3d18fe(0x47e)](_0x5580dc){return Ma(_0x5580dc);}async['bulkWrite'](_0x2bd69d,_0xb41d9a){const _0x301a26=a0_0x3d18fe;try{return await this[_0x301a26(0x47e)](_0xb41d9a)[_0x301a26(0x5d9)](_0x2bd69d);}catch(_0x5259bc){return console[_0x301a26(0x4e8)](_0x301a26(0x281),_0x5259bc),null;}}async[a0_0x3d18fe(0x33a)](_0x5a0fff,_0x55b6fb){const _0x5c5546=a0_0x3d18fe;try{let _0x55f71c=this['getScheduleMessageModelForOwner'](_0x55b6fb);return await new _0x55f71c(_0x5a0fff)[_0x5c5546(0x68e)]();}catch(_0x1632a9){return console[_0x5c5546(0x4e8)](_0x5c5546(0x309),_0x1632a9),null;}}async[a0_0x3d18fe(0x4ac)](_0x2f4104,_0x12ca52){const _0x3715e2=a0_0x3d18fe;try{return await this[_0x3715e2(0x47e)](_0x12ca52)[_0x3715e2(0x659)](_0x2f4104),{};}catch(_0xd65742){return{'error':_0xd65742?.[_0x3715e2(0x444)]()};}}async[a0_0x3d18fe(0x442)](_0x4f5b91,_0x167d1b,_0x589112,_0x34de9e={}){const _0xb736f6=a0_0x3d18fe;try{return await this[_0xb736f6(0x47e)](_0x589112)['findOneAndUpdate'](_0x4f5b91,_0x167d1b,{..._0x34de9e,'new':!0x0})[_0xb736f6(0x66e)]();}catch(_0x3b6c28){return console[_0xb736f6(0x4e8)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3b6c28),null;}}async[a0_0x3d18fe(0x64a)](_0x2a2193,_0xf5f15b,_0x5e055f){const _0x51591b=a0_0x3d18fe;try{return await this[_0x51591b(0x47e)](_0x5e055f)[_0x51591b(0x87f)](_0x2a2193,_0xf5f15b,{'new':!0x0})['lean']();}catch(_0x244116){return console['error'](_0x51591b(0x2a8),_0x244116),null;}}async['find'](_0x4fbe4c,_0x48ccd1){const _0x4c88b9=a0_0x3d18fe;try{return await this['getScheduleMessageModelForOwner'](_0x48ccd1)[_0x4c88b9(0x80c)](_0x4fbe4c[_0x4c88b9(0x295)])[_0x4c88b9(0x177)](_0x4fbe4c?.[_0x4c88b9(0x177)]??0x0)[_0x4c88b9(0x366)]({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x7e9ddd,_0xd10c0){const _0x741944=a0_0x3d18fe;try{return await this['getScheduleMessageModelForOwner'](_0xd10c0)[_0x741944(0x648)](_0x7e9ddd[_0x741944(0x295)])[_0x741944(0x366)]({'when':0x1})[_0x741944(0x66e)]();}catch{return null;}}async['findById'](_0x34e5e1,_0xd5a4fe){const _0x5f5742=a0_0x3d18fe;try{return await this[_0x5f5742(0x47e)](_0xd5a4fe)['findById'](_0x34e5e1)[_0x5f5742(0x66e)]();}catch{return null;}}async[a0_0x3d18fe(0x628)](_0x1f44ba,_0x13b10a){const _0x33b990=a0_0x3d18fe;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x13b10a)[_0x33b990(0x628)](_0x1f44ba))[_0x33b990(0x6b8)]};}catch(_0x25f14e){return console[_0x33b990(0x4e8)](_0x33b990(0x4b2),_0x25f14e),{'error':_0x25f14e};}}async['deleteAll'](_0x49494b){const _0x2dd363=a0_0x3d18fe;try{return await this[_0x2dd363(0x47e)](_0x49494b)[_0x2dd363(0x74d)][_0x2dd363(0x83a)](),{'success':!0x0};}catch(_0x277e8d){return console['error'](_0x277e8d),{'success':!0x1,'error':_0x277e8d};}}},os=class extends _{async[a0_0x3d18fe(0x200)](_0x2d92de,_0x104099){const _0xa3e71a=a0_0x3d18fe;try{if(this[_0xa3e71a(0x3fa)]['ENABLED'])return await Ie[_0xa3e71a(0x456)]({'_id':_0x104099},{'$set':_0x2d92de},{'new':!0x0});}catch(_0x2453b4){throw console[_0xa3e71a(0x4e8)](_0xa3e71a(0x751),_0x2453b4),_0x2453b4;}}async[a0_0x3d18fe(0x34d)](_0x473d4b){const _0x2a9643=a0_0x3d18fe;try{let _0x4e621d=await Ie[_0x2a9643(0x681)](_0x473d4b);return _0x4e621d?_0x4e621d['autoCompleteMessages']||(_0x4e621d[_0x2a9643(0x20b)]=[],await _0x4e621d[_0x2a9643(0x68e)]()):(_0x4e621d=new Ie({'_id':_0x473d4b,'autoCompleteMessages':[]}),await _0x4e621d['save']()),_0x4e621d;}catch(_0x43a19c){return _0x43a19c[_0x2a9643(0x2fa)]===0x2af8&&_0x43a19c[_0x2a9643(0x24b)]&&_0x43a19c[_0x2a9643(0x24b)][_0x2a9643(0x7e2)]?(console[_0x2a9643(0x4e8)](_0x2a9643(0x829)),await Ie[_0x2a9643(0x74d)][_0x2a9643(0x2be)](_0x2a9643(0x7e8)),null):(console[_0x2a9643(0x4e8)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x43a19c),null);}}},jo=new $(a0_0x3d18fe(0x2ce)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.['getClient']()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo['info'](a0_0x3d18fe(0x70e));var Ng=require('express-async-errors'),js=require('fs'),Di=T(require('https')),ki=T(require(a0_0x3d18fe(0x1b9))),Ue=class u{static #e;static set[a0_0x3d18fe(0x639)](_0x384dd3){this.#e=_0x384dd3;}static get[a0_0x3d18fe(0x4b3)](){const _0x5b6fe3=a0_0x3d18fe;let {FULLCHAIN:_0xf58e93,PRIVKEY:_0x152774}=S[_0x5b6fe3(0x5d8)](_0x5b6fe3(0x76b));return Di[_0x5b6fe3(0x5c4)]({'cert':(0x0,js[_0x5b6fe3(0x889)])(_0xf58e93),'key':(0x0,js[_0x5b6fe3(0x889)])(_0x152774)},u.#e);}static get[a0_0x3d18fe(0x1b9)](){const _0x59903c=a0_0x3d18fe;return ki[_0x59903c(0x5c4)](u.#e);}},je=T(require('fs')),qi=T(require(a0_0x3d18fe(0x532))),Je=T(require('axios')),ns=T(require(a0_0x3d18fe(0x5e3))),rs=require(a0_0x3d18fe(0x255));function sr(){const _0x5dd699=a0_0x3d18fe;G[_0x5dd699(0x3b1)]();let _0x5a31f8=ns['default'][_0x5dd699(0x6eb)](__dirname,'downloads');Ji(_0x5a31f8);}var Ji=_0x33a901=>{const _0x17a9b4=a0_0x3d18fe;let _0x3ba2b4=je[_0x17a9b4(0x62f)][_0x17a9b4(0x5f7)](_0x33a901),_0x452074=0xc*0x3c*0x3c*0x3e8,_0x2cba36=0x2*0x3c*0x3c*0x3e8,_0xa5d59f=new Date()[_0x17a9b4(0x899)]();_0x3ba2b4[_0x17a9b4(0x358)](_0x3582c8=>{const _0x4918e0=_0x17a9b4;let _0x4bea25=ns[_0x4918e0(0x62f)][_0x4918e0(0x6eb)](_0x33a901,_0x3582c8),_0xf0fc18=je['default'][_0x4918e0(0x390)](_0x4bea25)[_0x4918e0(0x440)]['getTime']();_0xa5d59f-_0xf0fc18>_0x452074&&(je['default'][_0x4918e0(0x459)](_0x4bea25),console[_0x4918e0(0x4e7)]('Deleted\x20'+_0x3582c8));}),setTimeout(()=>Ji(_0x33a901),_0x2cba36);};function ar(){const _0x5d79a6=a0_0x3d18fe;let _0x4f0c15=new $(_0x5d79a6(0x2d0)),_0x489900=(0x0,ye[_0x5d79a6(0x62f)])();_0x489900['use']((0x0,ji['default'])({'origin'(_0x5ea8b3,_0x42e743){const _0x3bd0f2=_0x5d79a6;let {ORIGIN:_0x5448bf}=S[_0x3bd0f2(0x5d8)](_0x3bd0f2(0x788));return _0x5ea8b3||(_0x5ea8b3='*'),_0x5448bf[_0x3bd0f2(0x18e)]('*')!==-0x1||_0x5448bf['indexOf'](_0x5ea8b3)!==-0x1?_0x42e743(null,!0x0):_0x42e743(new Error(_0x3bd0f2(0x8ae)));},'methods':[...S[_0x5d79a6(0x5d8)](_0x5d79a6(0x788))[_0x5d79a6(0x461)]],'credentials':S[_0x5d79a6(0x5d8)](_0x5d79a6(0x788))[_0x5d79a6(0x335)]}),(0x0,ye['urlencoded'])({'extended':!0x0,'limit':_0x5d79a6(0x356)}),(0x0,ye[_0x5d79a6(0x4e6)])({'limit':_0x5d79a6(0x356)})),_0x489900['use']((_0x15b040,_0x3ae01c,_0x3eefcd)=>{const _0xb9b84d=_0x5d79a6;_0x15b040[_0xb9b84d(0x5e3)][_0xb9b84d(0x313)](_0xb9b84d(0x4a9))?_0x3eefcd():(0x0,Ui['default'])()(_0x15b040,_0x3ae01c,_0x3eefcd);}),_0x489900[_0x5d79a6(0x3d8)](_0x5d79a6(0x55c),_0x5d79a6(0x420)),_0x489900[_0x5d79a6(0x3d8)]('views',(0x0,qs[_0x5d79a6(0x6eb)])(le,'views')),_0x489900[_0x5d79a6(0x2b7)](ye[_0x5d79a6(0x62f)][_0x5d79a6(0x27f)]((0x0,qs[_0x5d79a6(0x6eb)])(le,_0x5d79a6(0x432)))),_0x489900[_0x5d79a6(0x2b7)]((_0x36d09e,_0x5a482a,_0x145883)=>{const _0x101377=_0x5d79a6;let _0x3d6c75=_0x5a482a[_0x101377(0x473)];_0x5a482a['send']=function(_0x3a183c){const _0x2661fc=_0x101377;if(_0x36d09e[_0x2661fc(0x305)][_0x2661fc(0x2fc)]===_0x2661fc(0x2ab)||_0x36d09e[_0x2661fc(0x253)]['uazapi']===_0x2661fc(0x2ab)){let _0xc42006=JSON[_0x2661fc(0x78c)](_0x3a183c);_0x3a183c=JSON[_0x2661fc(0x6b1)](_0x214a4e(_0xc42006));}return _0x3d6c75[_0x2661fc(0x626)](_0x5a482a,[_0x3a183c]);},_0x145883();}),_0x489900['use']('/',ke),_0x489900[_0x5d79a6(0x2b7)]((_0x2b6c96,_0x2f79b7,_0x26b477,_0x12b83a)=>{const _0x3c9caa=_0x5d79a6;if(_0x2b6c96)return _0x26b477[_0x3c9caa(0x1b2)](_0x2b6c96[_0x3c9caa(0x1b2)]||0x1f4)[_0x3c9caa(0x4e6)](_0x2b6c96);},(_0x3a1bb1,_0xb51270,_0x3856ae)=>{const _0x27ba2f=_0x5d79a6;let {method:_0x5f4033,url:_0x423ca7}=_0x3a1bb1;_0xb51270[_0x27ba2f(0x1b2)](0x194)[_0x27ba2f(0x4e6)]({'status':0x194,'message':_0x27ba2f(0x58b)+_0x5f4033[_0x27ba2f(0x299)]()+'\x20'+_0x423ca7,'error':_0x27ba2f(0x3cd)}),_0x3856ae();});let _0x214a4e=(_0x56e69b,_0x515857=_0x5d79a6(0x28d))=>{const _0x4ccb25=_0x5d79a6;let _0x32efe8=(_0x1c3e79,_0x82d818=null,_0x4fd241=!0x1)=>{const _0x527f36=a0_0x4a95;let _0xada31c={};return Object[_0x527f36(0x551)](_0x1c3e79)[_0x527f36(0x358)](_0x55a244=>{const _0x5cc34d=_0x527f36;let _0xad588b=_0x1c3e79[_0x55a244],_0x41099d=''+_0x515857+_0x55a244;_0x82d818&&!_0x4fd241&&(_0x41099d=_0x82d818+'.'+_0x55a244),!_0xad588b&&_0xad588b!==0x0&&_0xad588b!==!0x1||typeof _0xad588b>'u'?_0xada31c[_0x41099d]=null:typeof _0xad588b!='object'&&!Array[_0x5cc34d(0x27a)](_0xad588b)?_0xada31c[_0x41099d]=_0xad588b:typeof _0xad588b==_0x5cc34d(0x85e)&&!Array[_0x5cc34d(0x27a)](_0xad588b)?_0xada31c=Object[_0x5cc34d(0x640)](_0xada31c,_0x32efe8(_0xad588b,_0x41099d)):Array[_0x5cc34d(0x27a)](_0xad588b)&&(typeof _0xad588b[0x0]==_0x5cc34d(0x85e)?(_0xada31c[_0x41099d]=[],_0xad588b[_0x5cc34d(0x358)](_0x4a4962=>{const _0x288a2f=_0x5cc34d;_0xada31c[_0x41099d][_0x288a2f(0x1a4)](_0x32efe8(_0x4a4962,_0x41099d,!0x0));})):_0xada31c[_0x41099d]=_0xad588b);}),_0xada31c;};return Array[_0x4ccb25(0x27a)](_0x56e69b)?_0x56e69b[_0x4ccb25(0x82a)](_0x421556=>_0x32efe8(_0x421556)):typeof _0x56e69b==_0x4ccb25(0x85e)&&_0x56e69b!==null?_0x32efe8(_0x56e69b):{};},_0x303b03=S['get'](_0x5d79a6(0x2d0));Ue[_0x5d79a6(0x639)]=_0x489900;let _0x7fb0c5=Ue[_0x303b03['TYPE']],_0x37135b=_0x5d79a6(0x730);_0x7fb0c5[_0x5d79a6(0x6e8)](_0x303b03[_0x5d79a6(0x2a1)],()=>{const _0x308c15=_0x5d79a6;_0x4f0c15[_0x308c15(0x4e7)](_0x37135b),_0x4f0c15[_0x308c15(0x4e7)](_0x303b03['TYPE'][_0x308c15(0x299)]()+'\x20-\x20ON:\x20'+_0x303b03[_0x308c15(0x2a1)]);}),sr(),Zs();}var ir=a0_0x3d18fe(0x873),or=ns[a0_0x3d18fe(0x62f)]['join'](__dirname,'./.git/config'),Re=null;function rr(){return new Promise((_0x15b53e,_0x962ea)=>{const _0x3aac73=a0_0x4a95;je[_0x3aac73(0x62f)][_0x3aac73(0x63a)](or,_0x3aac73(0x6e2),(_0x1381a5,_0x25d5a0)=>{const _0x199ee9=_0x3aac73;if(_0x1381a5){Re=_0x1381a5,_0x15b53e();return;}qi[_0x199ee9(0x62f)][_0x199ee9(0x78c)](_0x25d5a0)[_0x199ee9(0x7dd)][_0x199ee9(0x3f9)]===ir?(Re=null,_0x15b53e()):(Re=new Error(_0x199ee9(0x68a)),_0x15b53e());});});}async function nr(){const _0x203a63=a0_0x3d18fe;try{await rr(),await Vs();}catch(_0x3d5d84){console['error'](_0x203a63(0x4b6)+_0x3d5d84),process[_0x203a63(0x6c8)](0x1);}}nr();async function Vi(){const _0x134547=a0_0x3d18fe;let _0x501f26;try{_0x501f26=(await Je[_0x134547(0x62f)][_0x134547(0x5d8)](_0x134547(0x73b)))[_0x134547(0x2ff)]['ip'];}catch(_0x328e89){console['error'](_0x328e89);try{_0x501f26=(await Je['default'][_0x134547(0x5d8)](_0x134547(0x7ce)))[_0x134547(0x2ff)]['ip'];}catch(_0x16c623){console['error'](_0x16c623);try{_0x501f26=(await Je[_0x134547(0x62f)][_0x134547(0x5d8)](_0x134547(0x141)))[_0x134547(0x2ff)][_0x134547(0x750)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xf6a0a6){return console[_0x134547(0x4e8)](_0xf6a0a6),!0x1;}}}return _0x501f26;}var Li=0x0;async function cr(){const _0x8ee405=a0_0x3d18fe;let _0x115865=await new pe(S[_0x8ee405(0x5d8)](_0x8ee405(0x6e9)))['instanceKeys']();return console['log'](_0x8ee405(0x831),_0x115865[_0x8ee405(0x802)]),_0x115865[_0x8ee405(0x802)];}function lr(_0x24c133){const _0xe5e50=a0_0x3d18fe;let _0x46791f=_0x24c133[_0xe5e50(0x5d8)](_0xe5e50(0x2d0))[_0xe5e50(0x6fe)],_0x4b59e0=_0x24c133[_0xe5e50(0x5d8)](_0xe5e50(0x76b));console[_0xe5e50(0x4e7)]('Valor\x20da\x20URL\x20recuperada:',_0x46791f),console[_0xe5e50(0x4e7)]('Configurao\x20SSL\x20recuperada:',_0x4b59e0);let _0x41339d='',_0x453445=_0x46791f||'';if(_0x46791f){let _0x345d6f=_0x46791f[_0xe5e50(0x750)](/\/\/(.*?)\./);console[_0xe5e50(0x4e7)](_0xe5e50(0x3b9),_0x345d6f),_0x345d6f&&_0x345d6f[0x1]&&(_0x41339d=_0x345d6f[0x1],console[_0xe5e50(0x4e7)](_0xe5e50(0x2f2),_0x41339d));}if(!_0x41339d&&_0x4b59e0&&_0x4b59e0[_0xe5e50(0x854)]){let _0x466880=_0x4b59e0['FULLCHAIN'][_0xe5e50(0x74f)]('/');console[_0xe5e50(0x4e7)](_0xe5e50(0x46e),_0x466880);let _0x35f4ed=_0x466880[_0x466880[_0xe5e50(0x802)]-0x2];if(console[_0xe5e50(0x4e7)](_0xe5e50(0x5ae),_0x35f4ed),_0x35f4ed){let _0x589a2c=_0x35f4ed[_0xe5e50(0x74f)]('.');console[_0xe5e50(0x4e7)](_0xe5e50(0x5a7),_0x589a2c),_0x589a2c[_0xe5e50(0x802)]>0x2&&(_0x41339d=_0x589a2c[0x0],console[_0xe5e50(0x4e7)](_0xe5e50(0x615),_0x41339d),_0x453445=''+_0x35f4ed);}}return{'subdomain':_0x41339d||_0xe5e50(0x753),'fullURL':_0x453445||_0xe5e50(0x4ca)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x3d18fe(0x4e7)](a0_0x3d18fe(0x58f),B),console[a0_0x3d18fe(0x4e7)](a0_0x3d18fe(0x77d),Gs);async function ur(){const _0x1dbf95=a0_0x3d18fe;let _0x2d9366=S[_0x1dbf95(0x5d8)]('REDIS'),_0x31e6ea=S['get'](_0x1dbf95(0x138))[_0x1dbf95(0x660)][_0x1dbf95(0x418)],_0x27212f=S[_0x1dbf95(0x5d8)](_0x1dbf95(0x76b)),_0x504136=await Vi(),_0x5b4f94=S[_0x1dbf95(0x5d8)](_0x1dbf95(0x2d0))[_0x1dbf95(0x2a1)],_0x1c5ebb=Gs;try{let _0x419296={'ip':_0x504136||null,'redis_enable':_0x2d9366?.[_0x1dbf95(0x724)]||null,'apikey':_0x31e6ea||null,'ssl':_0x27212f?.[_0x1dbf95(0x293)]||null,'lastupdate':Gi||null,'port':_0x5b4f94||null,'gitInstallError':Re?.[_0x1dbf95(0x867)]||null,'url':_0x1c5ebb||null,'subdomain':B};if(console[_0x1dbf95(0x4e7)]('ip:\x20',_0x419296['ip']),_0x2d9366&&_0x2d9366[_0x1dbf95(0x724)]){let _0x12d535=await cr();_0x419296[_0x1dbf95(0x876)]=_0x12d535||null;}for(let _0x4c1085 in _0x419296)_0x419296[_0x1dbf95(0x5ec)](_0x4c1085)&&_0x4c1085!=='ip'&&(_0x419296[_0x4c1085]=JSON[_0x1dbf95(0x6b1)](_0x419296[_0x4c1085]));return(await Je[_0x1dbf95(0x62f)][_0x1dbf95(0x2c2)](_0x1dbf95(0x7f5),_0x419296))[_0x1dbf95(0x2ff)];}catch(_0x125096){return console[_0x1dbf95(0x4e8)](_0x125096),!0x1;}}var Js=!0x1,Gi=0x271,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x35f808=a0_0x3d18fe;let _0x99d26d=_0x35f808(0x6de);Re===null&&(_0x99d26d=await Vi());let _0x108c7f=await ur();if(_0x108c7f){if(_0x108c7f[_0x35f808(0x408)]['licenca']===!0x0){Re===null&&_0x108c7f['response'][_0x35f808(0x475)]-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x24ada5=0x24*0x3c*0x3c,_0x3356eb=_0x108c7f[_0x35f808(0x408)][_0x35f808(0x77f)]>_0x24ada5?_0x24ada5:_0x108c7f[_0x35f808(0x408)]['segundos'],_0x4e0bbf=Number(_0x3356eb);if(isNaN(_0x4e0bbf)){console[_0x35f808(0x4e8)](_0x35f808(0x66f));return;}let _0x244874=Math['floor'](_0x4e0bbf/0xe10),_0x3c4789=Math['floor'](_0x4e0bbf%0xe10/0x3c),_0x21eeb4=new Date(Date[_0x35f808(0x7f3)]()+_0x4e0bbf*0x3e8);setTimeout(Vs,_0x4e0bbf*0x3e8);let _0xe3cb55=_0x37f41f=>_0x37f41f[_0x35f808(0x444)]()[_0x35f808(0x62a)](0x2,'0'),_0x9f3a4d=_0x35f808(0x1e8)+_0xe3cb55(_0x244874)+_0x35f808(0x2a6)+_0xe3cb55(_0x3c4789)+_0x35f808(0x5bc)+_0xe3cb55(_0x21eeb4['getHours']())+':'+_0xe3cb55(_0x21eeb4['getMinutes']())+'.';console['log'](_0x9f3a4d);}else return console[_0x35f808(0x4e7)](_0x35f808(0x7d7)),Js&&(console['log']('A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.'),process[_0x35f808(0x6c8)]()),_0x35f808(0x55e);}else{if(Li++,Li<dr)console[_0x35f808(0x4e7)]('Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20'+Fi/0xea60+_0x35f808(0x62b)),setTimeout(Vs,Fi);else return console[_0x35f808(0x4e8)]('No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.'),_0x35f808(0x767);}}async function pr(){const _0x14038f=a0_0x3d18fe;console[_0x14038f(0x4e7)](_0x14038f(0x1d9)),console[_0x14038f(0x4e7)](_0x14038f(0x264)),(0x0,rs['spawn'])(_0x14038f(0x7ea),{'shell':!0x0})['on'](_0x14038f(0x349),_0x4d0d7f=>{const _0x3ebf1d=_0x14038f;_0x4d0d7f!==0x0?console[_0x3ebf1d(0x4e8)](_0x3ebf1d(0x307)):(console['log'](_0x3ebf1d(0x289)),console['log'](_0x3ebf1d(0x496)),(0x0,rs['spawn'])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x3ebf1d(0x349),_0x1de7a6=>{const _0x36e552=_0x3ebf1d;if(_0x1de7a6!==0x0)console[_0x36e552(0x4e8)](_0x36e552(0x87c));else{console[_0x36e552(0x4e7)](_0x36e552(0x44c));let _0x237577=(0x0,rs[_0x36e552(0x77b)])(_0x36e552(0x1fc),{'shell':!0x0});_0x237577[_0x36e552(0x467)]['on'](_0x36e552(0x2ff),_0x2f4ce8=>{const _0x1552ed=_0x36e552;console['log'](_0x1552ed(0x7fd)+_0x2f4ce8);}),_0x237577[_0x36e552(0x675)]['on'](_0x36e552(0x2ff),_0x1ab7eb=>{const _0x15b7f2=_0x36e552;console[_0x15b7f2(0x4e8)](_0x15b7f2(0x47a)+_0x1ab7eb);}),_0x237577['on'](_0x36e552(0x6c8),_0x22b135=>{const _0x49c498=_0x36e552;_0x22b135!==0x0?console[_0x49c498(0x4e8)](_0x49c498(0x181)+_0x22b135):console['log'](_0x49c498(0x5b4)),console[_0x49c498(0x4e7)](_0x49c498(0x573)),setTimeout(()=>process[_0x49c498(0x6c8)](),0x2710);});}}));});}0x0&&(module[a0_0x3d18fe(0x4e0)]={'fullURL':fullURL,'subdomain':subdomain});