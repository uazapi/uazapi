const a0_0x29cdb8=a0_0x7e50;(function(_0x5c80fb,_0x268e9d){const _0x56f89c=a0_0x7e50,_0x183139=_0x5c80fb();while(!![]){try{const _0x1adbdd=parseInt(_0x56f89c(0x282))/0x1+parseInt(_0x56f89c(0x246))/0x2+-parseInt(_0x56f89c(0x16f))/0x3*(parseInt(_0x56f89c(0x320))/0x4)+-parseInt(_0x56f89c(0x6a6))/0x5+-parseInt(_0x56f89c(0x64d))/0x6*(-parseInt(_0x56f89c(0x437))/0x7)+-parseInt(_0x56f89c(0x27a))/0x8+parseInt(_0x56f89c(0x4a0))/0x9;if(_0x1adbdd===_0x268e9d)break;else _0x183139['push'](_0x183139['shift']());}catch(_0x3bbed3){_0x183139['push'](_0x183139['shift']());}}}(a0_0x1796,0xa7a57));var wo=Object[a0_0x29cdb8(0x15b)],Ns=Object[a0_0x29cdb8(0x1ee)],yo=Object['getOwnPropertyDescriptor'],bo=Object['getOwnPropertyNames'],So=Object[a0_0x29cdb8(0x281)],Eo=Object[a0_0x29cdb8(0x272)][a0_0x29cdb8(0x3ce)],vo=(_0x33e1a2,_0x3b2713,_0x28111d,_0x33b2c7)=>{const _0x33690f=a0_0x29cdb8;if(_0x3b2713&&typeof _0x3b2713==_0x33690f(0x130)||typeof _0x3b2713=='function'){for(let _0x239099 of bo(_0x3b2713))!Eo[_0x33690f(0x42e)](_0x33e1a2,_0x239099)&&_0x239099!==_0x28111d&&Ns(_0x33e1a2,_0x239099,{'get':()=>_0x3b2713[_0x239099],'enumerable':!(_0x33b2c7=yo(_0x3b2713,_0x239099))||_0x33b2c7[_0x33690f(0x546)]});}return _0x33e1a2;},T=(_0x5d429f,_0x288ee9,_0x68ac)=>(_0x68ac=_0x5d429f!=null?wo(So(_0x5d429f)):{},vo(_0x288ee9||!_0x5d429f||!_0x5d429f[a0_0x29cdb8(0xfb)]?Ns(_0x68ac,'default',{'value':_0x5d429f,'enumerable':!0x0}):_0x68ac,_0x5d429f)),lo=T(require(a0_0x29cdb8(0x5da))),Ts=require('fs'),Rs=require(a0_0x29cdb8(0x3c3)),Ms=require(a0_0x29cdb8(0x2b9)),De=require(a0_0x29cdb8(0x2b9)),Q=process[a0_0x29cdb8(0x69e)](),V=(0x0,De[a0_0x29cdb8(0x327)])(Q,a0_0x29cdb8(0x20f)),Cs=(0x0,De[a0_0x29cdb8(0x327)])(Q,a0_0x29cdb8(0x3af)),Gt=(0x0,De[a0_0x29cdb8(0x327)])(Q,'store',a0_0x29cdb8(0x515)),As=require(a0_0x29cdb8(0x443)),Wt=class{constructor(){const _0x304871=a0_0x29cdb8;this[_0x304871(0x37b)]();}[a0_0x29cdb8(0x2ba)](_0x4e71b6){const _0x1ac888=a0_0x29cdb8;return this[_0x1ac888(0x5ac)][_0x4e71b6];}[a0_0x29cdb8(0x37b)](){const _0x545d0b=a0_0x29cdb8;this[_0x545d0b(0x5ac)]=process[_0x545d0b(0x5ac)]?.['DOCKER_ENV']!==_0x545d0b(0x2d5)?this['envYaml']():this['envProcess'](),this[_0x545d0b(0x5ac)][_0x545d0b(0xe5)]=process[_0x545d0b(0x5ac)]?.[_0x545d0b(0x1ba)]===_0x545d0b(0x10a),process['env']?.[_0x545d0b(0x518)]===_0x545d0b(0x2d5)&&(this[_0x545d0b(0x5ac)][_0x545d0b(0x43f)][_0x545d0b(0x37e)]='http',this[_0x545d0b(0x5ac)][_0x545d0b(0x43f)][_0x545d0b(0x212)]=Number['parseInt'](process['env']?.[_0x545d0b(0x2f4)]??'8080'));}['envYaml'](){const _0x4db576=a0_0x29cdb8;return(0x0,Rs['load'])((0x0,Ts[_0x4db576(0x49b)])((0x0,Ms[_0x4db576(0x327)])(Cs,'../env.yml'),{'encoding':_0x4db576(0x237)}));}[a0_0x29cdb8(0x68b)](){const _0x200785=a0_0x29cdb8;return{'SERVER':{'TYPE':process['env'][_0x200785(0x624)],'PORT':Number['parseInt'](process['env'][_0x200785(0x2f4)])},'CORS':{'ORIGIN':process[_0x200785(0x5ac)][_0x200785(0x40b)][_0x200785(0x6a9)](','),'METHODS':process[_0x200785(0x5ac)][_0x200785(0x496)][_0x200785(0x6a9)](','),'CREDENTIALS':process[_0x200785(0x5ac)]?.[_0x200785(0x486)]===_0x200785(0x2d5)},'SSL_CONF':{'PRIVKEY':process[_0x200785(0x5ac)]?.[_0x200785(0x560)],'FULLCHAIN':process[_0x200785(0x5ac)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x200785(0x22a)](process[_0x200785(0x5ac)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x200785(0x6aa)](process[_0x200785(0x5ac)][_0x200785(0x2e0)]):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x200785(0x2d5),'CONTACTS':process[_0x200785(0x5ac)]?.['STORE_CONTACTS']===_0x200785(0x2d5),'CHATS':process[_0x200785(0x5ac)]?.[_0x200785(0x3a1)]===_0x200785(0x2d5)},'DATABASE':{'CONNECTION':{'HOST':process[_0x200785(0x5ac)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x200785(0x6aa)](process[_0x200785(0x5ac)]?.[_0x200785(0x4ab)]),'USER':process[_0x200785(0x5ac)][_0x200785(0x352)],'PASSWORD':process[_0x200785(0x5ac)][_0x200785(0x3f4)],'URI':process[_0x200785(0x5ac)][_0x200785(0x682)],'DB_PREFIX_NAME':process['env'][_0x200785(0x19b)]},'ENABLED':process[_0x200785(0x5ac)]?.[_0x200785(0x296)]===_0x200785(0x2d5)},'REDIS':{'ENABLED':process['env']?.[_0x200785(0x3a4)]===_0x200785(0x2d5),'URI':process[_0x200785(0x5ac)][_0x200785(0x688)],'PREFIX_KEY':process['env'][_0x200785(0x396)]},'LOG':{'LEVEL':process[_0x200785(0x5ac)]?.[_0x200785(0x1b1)][_0x200785(0x6a9)](','),'COLOR':process[_0x200785(0x5ac)]?.[_0x200785(0x3e9)]===_0x200785(0x2d5)},'DEL_INSTANCE':(0x0,As[_0x200785(0x22e)])(process['env']?.[_0x200785(0x5e8)])?process[_0x200785(0x5ac)][_0x200785(0x5e8)]===_0x200785(0x2d5):Number['parseInt'](process['env'][_0x200785(0x5e8)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x200785(0x5ac)][_0x200785(0x382)]?process['env']['WEBHOOK_MAP']===_0x200785(0x2d5):!0x1,'GLOBAL':{'URL':process[_0x200785(0x5ac)]?.[_0x200785(0x1c9)],'ENABLED':process['env']?.[_0x200785(0x562)]===_0x200785(0x2d5)},'EVENTS':{'STATUS_INSTANCE':process[_0x200785(0x5ac)]?.[_0x200785(0x699)]===_0x200785(0x2d5),'QRCODE_UPDATED':process['env']?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0x200785(0x2d5),'MESSAGES_SET':process['env']?.[_0x200785(0x338)]===_0x200785(0x2d5),'MESSAGES_UPSERT':process[_0x200785(0x5ac)]?.[_0x200785(0x608)]===_0x200785(0x2d5),'MESSAGES_UPDATE':process['env']?.[_0x200785(0x2ae)]==='true','SEND_MESSAGE':process[_0x200785(0x5ac)]?.[_0x200785(0x69a)]===_0x200785(0x2d5),'CONTACTS_SET':process[_0x200785(0x5ac)]?.[_0x200785(0x4c8)]===_0x200785(0x2d5),'CONTACTS_UPDATE':process[_0x200785(0x5ac)]?.[_0x200785(0x226)]===_0x200785(0x2d5),'CONTACTS_UPSERT':process[_0x200785(0x5ac)]?.[_0x200785(0x1bb)]===_0x200785(0x2d5),'PRESENCE_UPDATE':process[_0x200785(0x5ac)]?.[_0x200785(0x452)]===_0x200785(0x2d5),'CHATS_SET':process['env']?.['WEBHOOK_EVENTS_CHATS_SET']===_0x200785(0x2d5),'CHATS_UPDATE':process[_0x200785(0x5ac)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x200785(0x2d5),'CHATS_UPSERT':process[_0x200785(0x5ac)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x200785(0x2d5),'CHATS_DELETE':process[_0x200785(0x5ac)]?.[_0x200785(0x62f)]===_0x200785(0x2d5),'CONNECTION_UPDATE':process[_0x200785(0x5ac)]?.[_0x200785(0x4d7)]===_0x200785(0x2d5),'GROUPS_UPSERT':process[_0x200785(0x5ac)]?.[_0x200785(0x2b3)]===_0x200785(0x2d5),'GROUP_UPDATE':process['env']?.[_0x200785(0x197)]===_0x200785(0x2d5),'GROUP_PARTICIPANTS_UPDATE':process[_0x200785(0x5ac)]?.['WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE']==='true','NEW_JWT_TOKEN':process[_0x200785(0x5ac)]?.[_0x200785(0x4f4)]===_0x200785(0x2d5)}},'CONFIG_SESSION_PHONE':{'CLIENT':process['env']?.[_0x200785(0x53c)]||_0x200785(0x355),'NAME':process[_0x200785(0x5ac)]?.[_0x200785(0x347)]||_0x200785(0x664)},'QRCODE':{'LIMIT':Number[_0x200785(0x6aa)](process[_0x200785(0x5ac)][_0x200785(0x279)])||0x5},'TRIAL_AD':process[_0x200785(0x5ac)]?.[_0x200785(0x383)],'TRIAL_INSTANCE_NAME':process[_0x200785(0x5ac)]?.[_0x200785(0x446)],'AUTHENTICATION':{'TYPE':process[_0x200785(0x5ac)][_0x200785(0x46d)],'API_KEY':{'KEY':process[_0x200785(0x5ac)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x200785(0x5ac)]?.[_0x200785(0x3e5)])?Number[_0x200785(0x6aa)](process[_0x200785(0x5ac)][_0x200785(0x3e5)]):0xe10,'SECRET':process['env'][_0x200785(0x545)]}}};}},S=new Wt(),uo=T(require('cors')),me=T(require('express')),Ss=require('path'),Ht=T(require(a0_0x29cdb8(0x138))),Kt=(_0x482a23=>(_0x482a23['LOG']='\x1b[32m',_0x482a23['INFO']='\x1b[34m',_0x482a23[a0_0x29cdb8(0x150)]=a0_0x29cdb8(0x59f),_0x482a23['ERROR']=a0_0x29cdb8(0x441),_0x482a23[a0_0x29cdb8(0x241)]='\x1b[36m',_0x482a23[a0_0x29cdb8(0x54a)]=a0_0x29cdb8(0x520),_0x482a23[a0_0x29cdb8(0x610)]='\x1b[30m',_0x482a23))(Kt||{}),Is=(_0x3bbdde=>(_0x3bbdde[a0_0x29cdb8(0x5e9)]='\x1b[32m%s\x1b[0m',_0x3bbdde[a0_0x29cdb8(0x610)]=a0_0x29cdb8(0x4b5),_0x3bbdde[a0_0x29cdb8(0x109)]=a0_0x29cdb8(0x2e4),_0x3bbdde[a0_0x29cdb8(0x150)]='\x1b[33m%s\x1b[0m',_0x3bbdde[a0_0x29cdb8(0x180)]=a0_0x29cdb8(0x543),_0x3bbdde[a0_0x29cdb8(0x241)]=a0_0x29cdb8(0x2f7),_0x3bbdde[a0_0x29cdb8(0x54a)]=a0_0x29cdb8(0x415),_0x3bbdde))(Is||{}),Os=(_0x1086e0=>(_0x1086e0[a0_0x29cdb8(0x5e9)]=a0_0x29cdb8(0x5e9),_0x1086e0[a0_0x29cdb8(0x150)]=a0_0x29cdb8(0x150),_0x1086e0[a0_0x29cdb8(0x109)]='INFO',_0x1086e0['DARK']=a0_0x29cdb8(0x610),_0x1086e0['ERROR']=a0_0x29cdb8(0x180),_0x1086e0[a0_0x29cdb8(0x241)]=a0_0x29cdb8(0x241),_0x1086e0['VERBOSE']='VERBOSE',_0x1086e0))(Os||{}),Ds=(_0x427251=>(_0x427251['LOG']=a0_0x29cdb8(0x469),_0x427251[a0_0x29cdb8(0x109)]=a0_0x29cdb8(0x416),_0x427251[a0_0x29cdb8(0x150)]=a0_0x29cdb8(0x521),_0x427251['DARK']=a0_0x29cdb8(0x276),_0x427251[a0_0x29cdb8(0x180)]=a0_0x29cdb8(0x527),_0x427251[a0_0x29cdb8(0x241)]=a0_0x29cdb8(0x3c2),_0x427251[a0_0x29cdb8(0x54a)]='\x1b[47m',_0x427251))(Ds||{}),C=class{constructor(_0x130906=a0_0x29cdb8(0x686)){const _0x26b5ee=a0_0x29cdb8;this[_0x26b5ee(0x3ff)]=_0x130906,this['configService']=S;}['setContext'](_0x5159e2){this['context']=_0x5159e2;}[a0_0x29cdb8(0x4b6)](_0x24ac5e,_0x53841e){const _0x107ba8=a0_0x29cdb8;let _0x27e1ee=[];this['configService'][_0x107ba8(0x2ba)](_0x107ba8(0x5e9))[_0x107ba8(0x349)][_0x107ba8(0x534)](_0x42a4ab=>_0x27e1ee[_0x107ba8(0x20a)](Os[_0x42a4ab]));let _0x5bb334=typeof _0x24ac5e;_0x27e1ee[_0x107ba8(0x386)](_0x53841e)&&(S[_0x107ba8(0x2ba)](_0x107ba8(0x5e9))[_0x107ba8(0x5d1)]?(console[_0x107ba8(0x5aa)](_0x107ba8(0x588)+Is[_0x53841e],_0x107ba8(0x55a),(0x0,Ht['default'])()[_0x107ba8(0x67c)](_0x107ba8(0x323)),_0x107ba8(0x357),Kt[_0x53841e]+Ds[_0x53841e]+'\x1b[1m',_0x53841e+_0x107ba8(0x244),_0x107ba8(0x488),this[_0x107ba8(0x3ff)]+_0x107ba8(0x357),Kt[_0x53841e],_0x5bb334!==_0x107ba8(0x130)?_0x24ac5e:'',_0x107ba8(0x357)),_0x5bb334===_0x107ba8(0x130)&&console[_0x107ba8(0x5aa)](_0x24ac5e,'\x0a')):console[_0x107ba8(0x5aa)]((0x0,Ht[_0x107ba8(0x3ec)])()['format'](_0x107ba8(0x321)),_0x53841e+'\x20',''+this[_0x107ba8(0x3ff)],_0x24ac5e));}[a0_0x29cdb8(0x5aa)](_0x471d7f){const _0x149e63=a0_0x29cdb8;this[_0x149e63(0x4b6)](_0x471d7f,_0x149e63(0x5e9));}[a0_0x29cdb8(0x4f7)](_0x485a91){const _0xee2cd5=a0_0x29cdb8;this[_0xee2cd5(0x4b6)](_0x485a91,_0xee2cd5(0x109));}['warn'](_0x2cbcd0){this['console'](_0x2cbcd0,'WARN');}[a0_0x29cdb8(0x269)](_0x42beb4){const _0x1ecade=a0_0x29cdb8;this[_0x1ecade(0x4b6)](_0x42beb4,'ERROR');}[a0_0x29cdb8(0x362)](_0x8791d6){const _0x1db65f=a0_0x29cdb8;this[_0x1db65f(0x4b6)](_0x8791d6,_0x1db65f(0x54a));}[a0_0x29cdb8(0x2a8)](_0x50b5e6){const _0x5473fb=a0_0x29cdb8;this['console'](_0x50b5e6,_0x5473fb(0x241));}[a0_0x29cdb8(0x30e)](_0xa1aeac){const _0x1bd59b=a0_0x29cdb8;this[_0x1bd59b(0x4b6)](_0xa1aeac,'DARK');}};function _s(){const _0x3298ab=a0_0x29cdb8;process['on'](_0x3298ab(0x5d0),(_0x479ab1,_0x4deb1b)=>{const _0x3b31fd=_0x3298ab;new C(_0x3b31fd(0x5d0))[_0x3b31fd(0x269)]({'origin':_0x4deb1b,'stderr':process[_0x3b31fd(0x56d)]['fd'],'error':_0x479ab1});}),process['on'](_0x3298ab(0x400),(_0x1271a5,_0x21bdb7)=>{const _0x1ca532=_0x3298ab;new C(_0x1ca532(0x400))[_0x1ca532(0x269)]({'origin':_0x21bdb7,'stderr':process['stderr']['fd'],'error':_0x1271a5});});}var Ps=T(require(a0_0x29cdb8(0x4eb))),zt=new Ps['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require('mongoose'),Qt=T(require('mongoose')),No=new C(a0_0x29cdb8(0x578)),q=S['get'](a0_0x29cdb8(0x30a)),M=q['ENABLED']?q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x6d3)]?Qt[a0_0x29cdb8(0x3ec)][a0_0x29cdb8(0x6be)](q[a0_0x29cdb8(0x4bf)]['URI'],{'dbName':q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x23b)]+a0_0x29cdb8(0x404)}):Qt[a0_0x29cdb8(0x3ec)][a0_0x29cdb8(0x6be)](a0_0x29cdb8(0x316)+q['CONNECTION']['HOST']+':'+q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x212)]+a0_0x29cdb8(0x482),{'user':q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x188)],'pass':q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x4a3)],'dbName':q[a0_0x29cdb8(0x4bf)][a0_0x29cdb8(0x23b)]+a0_0x29cdb8(0x404)}):null;q[a0_0x29cdb8(0x522)]&&No[a0_0x29cdb8(0x4f7)](a0_0x29cdb8(0x4d1)+M[a0_0x29cdb8(0x5f5)]);var Co=new _e[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new _e[(a0_0x29cdb8(0x43c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new _e[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x77a82c=>{const _0x724859=a0_0x29cdb8;let _0x54b24c='z_'+_0x77a82c+_0x724859(0x142);return M?.[_0x724859(0x615)](_0x724859(0x662),Ro,_0x54b24c);},$s=require(a0_0x29cdb8(0x2a5)),Mo=new $s[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0x463da3=>{const _0x3d917f=a0_0x29cdb8;let _0xab84c9='z_'+_0x463da3+_0x3d917f(0x2e2);return M?.[_0x3d917f(0x615)]('ContactModel',Mo,_0xab84c9);},Ls=require(a0_0x29cdb8(0x2a5)),Ao=new Ls[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android','web','ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x538dec=>{const _0x5c5301=a0_0x29cdb8;let _0x18d387='z_'+_0x538dec+_0x5c5301(0x397);return M?.[_0x5c5301(0x615)](_0x5c5301(0x3cf),Ao,_0x18d387);},Vs=require(a0_0x29cdb8(0x2a5)),Yt=class{},Io=new Vs[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Js=M?.[a0_0x29cdb8(0x615)](Yt[a0_0x29cdb8(0x208)],Io,a0_0x29cdb8(0x2d7)),js=require('mongoose'),Xt=class{},Fs=new js[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0x29cdb8(0x1f2)](a0_0x29cdb8(0x14a),function(_0x2f1c3b){const _0x3fe43d=a0_0x29cdb8;delete this[_0x3fe43d(0x2fa)],delete this[_0x3fe43d(0x5b1)],delete this[_0x3fe43d(0x28d)],delete this['flowStopConversation'],delete this[_0x3fe43d(0x507)],_0x2f1c3b();});var Bs=M?.[a0_0x29cdb8(0x615)](Xt[a0_0x29cdb8(0x208)],Fs,'webhook'),O=require(a0_0x29cdb8(0x2a5)),Pe=class{},qs=new O[(a0_0x29cdb8(0x43c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Zt=new O['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Oo=new O[(a0_0x29cdb8(0x43c))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x29cdb8(0x37d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new O[(a0_0x29cdb8(0x43c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new O[(a0_0x29cdb8(0x43c))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new O[(a0_0x29cdb8(0x43c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Oo},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),os=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new O[(a0_0x29cdb8(0x43c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),es=class{},Ks=new O[(a0_0x29cdb8(0x43c))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1c5d56=a0_0x29cdb8;return'!cmd_'+Math['random']()['toString'](0x24)[_0x1c5d56(0x480)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[os],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]}});Ks['pre'](a0_0x29cdb8(0x14a),function(_0x24980b){const _0x36a561=a0_0x29cdb8;let _0x167809=new Set(),_0x37b15b=new Set(this['variables']?.[_0x36a561(0x667)](_0x21a8c5=>_0x21a8c5[_0x36a561(0x208)])),_0x151c7f=JSON[_0x36a561(0x199)](this),_0x23546e=/{{(?!_)([^}]*)}}/g,_0x5ba7fd;for(;(_0x5ba7fd=_0x23546e['exec'](_0x151c7f))!==null;)_0x37b15b['has'](_0x5ba7fd[0x1])||_0x167809['add'](_0x5ba7fd[0x1]);_0x167809[_0x36a561(0x33b)]>0x0?(console['warn'](_0x36a561(0x16d),Array[_0x36a561(0x1ae)](_0x167809)),this['variablesNotFound']=Array['from'](_0x167809)):this[_0x36a561(0x392)]=[],_0x24980b();});var I=M?.[a0_0x29cdb8(0x615)](es[a0_0x29cdb8(0x208)],Ks,'flow'),Po=new O[(a0_0x29cdb8(0x43c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[os],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),ts=class{},xo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[os],'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x29cdb8(0x29b)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Zt],'default':[]}}),J=M?.[a0_0x29cdb8(0x615)](ts['name'],xo,a0_0x29cdb8(0x51f)),ss=class{},$o=new O[(a0_0x29cdb8(0x43c))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ko=new O[(a0_0x29cdb8(0x43c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Lo=new O[(a0_0x29cdb8(0x43c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x29cdb8(0x2ce)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ko,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[$o],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.['model'](ss[a0_0x29cdb8(0x208)],Lo,'scheduleMessages'),as=class{},Uo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vo=new O[(a0_0x29cdb8(0x43c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x29cdb8(0x10d)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Jo=new O[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),jo=new O[(a0_0x29cdb8(0x43c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Jo]},'customFields':{'type':[Uo]},'flowConfig':{'type':Vo,'default':{}}}),ae=M?.[a0_0x29cdb8(0x615)](as[a0_0x29cdb8(0x208)],jo,a0_0x29cdb8(0x253)),he=require('fs'),is=require(a0_0x29cdb8(0x2b9)),W=class{constructor(_0x13e9d7){const _0x5a4c14=a0_0x29cdb8;this['storePath']=(0x0,is[_0x5a4c14(0x327)])(Q,_0x5a4c14(0x2e3)),this[_0x5a4c14(0x46a)]=_0x2efa40=>{const _0x3558e1=_0x5a4c14;(0x0,he[_0x3558e1(0x464)])(_0x2efa40['path'])||(0x0,he[_0x3558e1(0x4f3)])(_0x2efa40[_0x3558e1(0x2b9)],{'recursive':!0x0});try{return(0x0,he[_0x3558e1(0x6b5)])((0x0,is[_0x3558e1(0x327)])(_0x2efa40[_0x3558e1(0x2b9)],_0x2efa40[_0x3558e1(0x31d)]+_0x3558e1(0x6a0)),JSON[_0x3558e1(0x199)]({..._0x2efa40[_0x3558e1(0x106)]}),{'encoding':_0x3558e1(0x237)}),{'message':_0x3558e1(0x4a2)};}finally{_0x2efa40[_0x3558e1(0x106)]=void 0x0;}},this['dbSettings']=_0x13e9d7[_0x5a4c14(0x2ba)](_0x5a4c14(0x30a));}[a0_0x29cdb8(0x5b3)](_0x502fb6,_0x4c89d4=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0x29cdb8(0x35f)](_0x11b908){const _0xd61bc6=a0_0x29cdb8;throw new Error(_0xd61bc6(0x573));}[a0_0x29cdb8(0x1de)](_0x414b35,_0x3bc3e0){const _0x341feb=a0_0x29cdb8;throw new Error(_0x341feb(0x573));}},xe=class{},$e=class extends W{constructor(_0x40bef6){super(_0x40bef6),this['configService']=_0x40bef6;}['getMessageModelForOwner'](_0x46dd45){return Us(_0x46dd45);}async[a0_0x29cdb8(0x5b3)](_0x479b56){const _0x3c0f9c=a0_0x29cdb8;if(_0x479b56[_0x3c0f9c(0x206)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x479b56[0x0][_0x3c0f9c(0x270)])[_0x3c0f9c(0x18c)]([..._0x479b56]))[_0x3c0f9c(0x206)]};}catch(_0x1852b1){return console[_0x3c0f9c(0x5aa)]('ERROR:\x20',_0x1852b1),_0x1852b1;}}async[a0_0x29cdb8(0x35f)](_0x437733){const _0x40d940=a0_0x29cdb8;try{let _0x5ef1c4=this[_0x40d940(0x297)](_0x437733['where'][_0x40d940(0x270)]);if(_0x437733?.[_0x40d940(0x287)]?.['key']){for(let [_0x4bb4fb,_0x20d971]of Object[_0x40d940(0x340)](_0x437733[_0x40d940(0x287)][_0x40d940(0x4db)]))_0x437733[_0x40d940(0x287)][_0x40d940(0x1e4)+_0x4bb4fb]=_0x20d971;delete _0x437733?.['where']?.[_0x40d940(0x4db)];}return await _0x5ef1c4['find']({..._0x437733[_0x40d940(0x287)]})['sort']({'messageTimestamp':-0x1})[_0x40d940(0x22d)](_0x437733?.['limit']??0x0)[_0x40d940(0x412)]();}catch{return[];}}async[a0_0x29cdb8(0x1de)](_0x5ef949){const _0x1321f9=a0_0x29cdb8;try{await this[_0x1321f9(0x297)](_0x5ef949['where'][_0x1321f9(0x270)])[_0x1321f9(0x673)]({..._0x5ef949[_0x1321f9(0x287)]});}catch(_0x3ccedb){console[_0x1321f9(0x269)](_0x3ccedb);}}async['update'](_0x48842d,_0x39a545){const _0x3551f5=a0_0x29cdb8;try{return await this['getMessageModelForOwner'](_0x48842d['where'][_0x3551f5(0x270)])[_0x3551f5(0x2b8)]({..._0x48842d[_0x3551f5(0x287)]},{'$set':_0x39a545},{'new':!0x0});}catch(_0xbfdff1){throw console[_0x3551f5(0x269)](_0xbfdff1),_0xbfdff1;}}async[a0_0x29cdb8(0x18c)](_0xd813a6){const _0x3b3842=a0_0x29cdb8;if(_0xd813a6[_0x3b3842(0x206)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0xd813a6[0x0][_0x3b3842(0x270)])['insertMany']([..._0xd813a6]))['length']};}catch(_0x329129){return console[_0x3b3842(0x5aa)](_0x3b3842(0x2ee),_0x329129),_0x329129;}}async[a0_0x29cdb8(0x22c)](_0x48152f){const _0x276034=a0_0x29cdb8;try{return await this[_0x276034(0x297)](_0x48152f)[_0x276034(0x348)][_0x276034(0x48c)](),{'success':!0x0};}catch(_0x590526){return console['error'](_0x590526),{'success':!0x1,'error':_0x590526};}}},te=require('fs'),Xa=T(require(a0_0x29cdb8(0x4ff))),w=T(require('@whiskeysockets/baileys')),Te=require('fs'),$=T(require(a0_0x29cdb8(0x2b9))),ce=T(require(a0_0x29cdb8(0x50c))),Za=require('uuid'),eo=T(require(a0_0x29cdb8(0x2ef))),to=T(require(a0_0x29cdb8(0x40e))),zs=[a0_0x29cdb8(0x39b),a0_0x29cdb8(0x4af),'audioMessage',a0_0x29cdb8(0x6b7),a0_0x29cdb8(0x59a)],Qs=[a0_0x29cdb8(0x580),a0_0x29cdb8(0x5ab),'viewOnceMessage',a0_0x29cdb8(0x6b3)],so=require('os'),Mt=T(require(a0_0x29cdb8(0x193))),Dt=require(a0_0x29cdb8(0x1bc)),At=require(a0_0x29cdb8(0x107)),pe=T(require(a0_0x29cdb8(0x2a5))),_=require('class-validator'),fe=class{constructor(_0x48f627,_0x4442ec,_0x4be589){const _0x5bb35e=a0_0x29cdb8;this[_0x5bb35e(0x50f)]=_0x48f627,this[_0x5bb35e(0x542)]=_0x4442ec,this[_0x5bb35e(0x208)]=_0x4be589;}},ke=class{},Le=class{},Se=class{},Ue=class{},Ve=class{},we=class{},Je=class{},je=class{},Fe=class{},Be=class{},vt=T(require(a0_0x29cdb8(0x139))),Ys=require('fs'),Xs=require(a0_0x29cdb8(0x2b9));async function qe(_0x18286b){const _0x1ab470=a0_0x29cdb8;let _0x3cde7f=j[_0x1ab470(0x1da)][_0x18286b];if(q[_0x1ab470(0x522)]){let _0x545807=M[_0x1ab470(0x395)]()['db'](q[_0x1ab470(0x4bf)][_0x1ab470(0x23b)]+'-instances')['collection'](_0x18286b);return _0x3cde7f||(await _0x545807[_0x1ab470(0x35f)]({})[_0x1ab470(0x2b1)]())['length']>0x0;}return _0x3cde7f||(0x0,Ys['existsSync'])((0x0,Xs[_0x1ab470(0x327)])(V,_0x18286b));}async function rs(_0xc2ec25,_0x1681af,_0x3efce5){const _0xb82f5b=a0_0x29cdb8;if(_0xc2ec25['originalUrl']['includes']('/instance/create')||_0xc2ec25['originalUrl'][_0xb82f5b(0x386)](_0xb82f5b(0x60d))||_0xc2ec25[_0xb82f5b(0x5a7)][_0xb82f5b(0x386)](_0xb82f5b(0x44f)))return _0x3efce5();let _0x22aa29=_0xc2ec25[_0xb82f5b(0x2fd)];if(!_0x22aa29?.[_0xb82f5b(0x63f)])throw new g(_0xb82f5b(0x61e));if(!await qe(_0x22aa29['instanceName']))throw new x('The\x20'+_0x22aa29['instanceName']+_0xb82f5b(0x619));_0x3efce5();}async function Zs(_0x566038,_0x2cb9ed,_0x2c836c){const _0x2b3ceb=a0_0x29cdb8;if(_0x566038[_0x2b3ceb(0x5a7)][_0x2b3ceb(0x386)](_0x2b3ceb(0xf6))){let _0x129714=_0x566038[_0x2b3ceb(0x370)];if(await qe(_0x129714[_0x2b3ceb(0x63f)]))throw new oe(_0x2b3ceb(0x3d3)+_0x129714['instanceName']+'\x20is\x20already\x20in\x20use.');j[_0x2b3ceb(0x1da)][_0x129714['instanceName']]&&delete j[_0x2b3ceb(0x1da)][_0x129714[_0x2b3ceb(0x63f)]];}_0x2c836c();}var ea=require(a0_0x29cdb8(0x443)),ta=T(require(a0_0x29cdb8(0x3a0))),Ge=a0_0x29cdb8(0x355),Bo=new C(a0_0x29cdb8(0x30c));async function qo(_0x105cd7,_0x4e96cc,_0x3fde42){const _0x2198aa=a0_0x29cdb8;let _0x5e1987=_0x105cd7['get'](_0x2198aa(0x5bc));if(_0x5e1987&&S[_0x2198aa(0x2ba)](_0x2198aa(0x3f8))[_0x2198aa(0x50e)]['KEY']!==_0x5e1987)throw new ie();if(S[_0x2198aa(0x2ba)](_0x2198aa(0x3f8))[_0x2198aa(0x50e)][_0x2198aa(0x66d)]===_0x5e1987)return _0x3fde42();if((_0x105cd7['originalUrl']['includes'](_0x2198aa(0xf6))||_0x105cd7[_0x2198aa(0x5a7)][_0x2198aa(0x386)](_0x2198aa(0x60d)))&&!_0x5e1987)throw new oe(_0x2198aa(0x4ad),_0x2198aa(0x3eb));let _0x50e8b6=S[_0x2198aa(0x2ba)](_0x2198aa(0x3f8))[_0x2198aa(0x4ea)];try{let [_0x2ff801,_0x1d5d79]=_0x105cd7[_0x2198aa(0x2ba)](_0x2198aa(0x440))[_0x2198aa(0x6a9)]('\x20');if(_0x2ff801[_0x2198aa(0x3d1)]()!==_0x2198aa(0x252))throw new ie();if(!(0x0,ea[_0x2198aa(0x625)])(_0x1d5d79))throw new ie();let _0xcc5824=_0x105cd7[_0x2198aa(0x2fd)],_0x1ac43a=ta[_0x2198aa(0x3ec)][_0x2198aa(0x27d)](_0x1d5d79,_0x50e8b6[_0x2198aa(0x318)],{'ignoreExpiration':_0x50e8b6[_0x2198aa(0x661)]===0x0});if(_0xcc5824[_0x2198aa(0x63f)]!==_0x1ac43a[_0x2198aa(0x63f)]||Ge!==_0x1ac43a[_0x2198aa(0x285)])throw new ie();return _0x3fde42();}catch(_0x437b0a){throw Bo[_0x2198aa(0x269)](_0x437b0a),new ie();}}async function Go(_0x306b75,_0x152165,_0x5e0acd){const _0x4013b2=a0_0x29cdb8;let _0x4eb051=S[_0x4013b2(0x2ba)]('AUTHENTICATION')[_0x4013b2(0x50e)],_0x2e04f8=_0x306b75[_0x4013b2(0x2ba)]('apikey');if(_0x4eb051['KEY']===_0x2e04f8)return _0x5e0acd();if(_0x306b75[_0x4013b2(0x5a7)][_0x4013b2(0x386)](_0x4013b2(0xf6))){let _0x3c6835=S[_0x4013b2(0x2ba)](_0x4013b2(0x446)),_0x359427=_0x306b75[_0x4013b2(0x370)][_0x4013b2(0x63f)];if(_0x3c6835&&_0x359427[_0x4013b2(0x3d1)]()['startsWith'](_0x3c6835[_0x4013b2(0x3d1)]()))return _0x5e0acd();if(!_0x2e04f8)throw new oe(_0x4013b2(0x4ad),_0x4013b2(0x3eb));}if(_0x306b75[_0x4013b2(0x5a7)][_0x4013b2(0x386)](_0x4013b2(0x60d))&&!_0x2e04f8)throw new oe('Missing\x20global\x20api\x20key',_0x4013b2(0x3eb));if(_0x306b75['originalUrl']['includes'](_0x4013b2(0x44f))&&!_0x2e04f8)throw new oe(_0x4013b2(0x4ad),_0x4013b2(0x3eb));try{let _0x5942cb=_0x306b75[_0x4013b2(0x2fd)];if((await le[_0x4013b2(0x515)][_0x4013b2(0x35f)](_0x5942cb[_0x4013b2(0x63f)]))[_0x4013b2(0x5bc)]===_0x2e04f8)return _0x5e0acd();}catch{}throw new ie();}var sa={'jwt':qo,'apikey':Go},ka=require(a0_0x29cdb8(0x139)),v=require(a0_0x29cdb8(0x34d)),E=(..._0x5d2c34)=>{const _0xe8225a=a0_0x29cdb8;let _0x499bfc={};return _0x5d2c34['forEach'](_0x12f121=>_0x499bfc[_0x12f121]={'minLength':0x1,'description':'The\x20\x22'+_0x12f121+_0xe8225a(0x122)}),{'if':{'propertyNames':{'enum':[..._0x5d2c34]}},'then':{'properties':_0x499bfc}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'instanceName':{'type':a0_0x29cdb8(0x540)}},...E(a0_0x29cdb8(0x63f))},aa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'oldToken':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x5e2)],...E(a0_0x29cdb8(0x5e2))},gn={'properties':{'key':{'type':a0_0x29cdb8(0x130),'properties':{'id':{'type':a0_0x29cdb8(0x540)},'remoteJid':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29cdb8(0x157),a0_0x29cdb8(0x56f)],...E('id','remoteJid')},'message':{'type':a0_0x29cdb8(0x130)}}},Y={'properties':{'delay':{'type':a0_0x29cdb8(0x6a1),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x555),a0_0x29cdb8(0x3f0),a0_0x29cdb8(0x569),a0_0x29cdb8(0x293),a0_0x29cdb8(0x33c)]}}},X={'type':a0_0x29cdb8(0x540),'pattern':a0_0x29cdb8(0x606),'description':'Invalid\x20format'},oa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x29cdb8(0x130),'properties':{'text':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0xf5)],...E('text')}},'required':['textMessage',a0_0x29cdb8(0x1a8)]},ia={'type':a0_0x29cdb8(0x540),'pattern':a0_0x29cdb8(0x5a1),'description':'Invalid\x20format'},mn={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...ia},'options':{...Y},'textMessage':{'type':a0_0x29cdb8(0x130),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x29cdb8(0xf5))}},'required':[a0_0x29cdb8(0x3a3),a0_0x29cdb8(0x1a8)]},hn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...ia},'options':{...Y},'mediaMessage':{'type':a0_0x29cdb8(0x130),'properties':{'mediatype':{'type':'string','enum':[a0_0x29cdb8(0x3a9),a0_0x29cdb8(0x3e8),a0_0x29cdb8(0x13c),'audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x49d),a0_0x29cdb8(0x201)],...E(a0_0x29cdb8(0x31d),a0_0x29cdb8(0x630),'media')}},'required':[a0_0x29cdb8(0x364),a0_0x29cdb8(0x1a8)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x29cdb8(0x130),'properties':{'image':{'type':a0_0x29cdb8(0x540)}},'required':['image'],...E(a0_0x29cdb8(0x3a9))}},'required':[a0_0x29cdb8(0x59a),a0_0x29cdb8(0x1a8)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'statusMessage':{'type':a0_0x29cdb8(0x130),'properties':{'type':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0xf5),'image',a0_0x29cdb8(0xfc),'video']},'content':{'type':a0_0x29cdb8(0x540)},'caption':{'type':a0_0x29cdb8(0x540)},'backgroundColor':{'type':a0_0x29cdb8(0x540)},'font':{'type':a0_0x29cdb8(0x6a1),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x29cdb8(0x10b),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':[a0_0x29cdb8(0x607),a0_0x29cdb8(0x1d9)],...E(a0_0x29cdb8(0x607),a0_0x29cdb8(0x1d9))}},'required':[a0_0x29cdb8(0x1dc)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x29cdb8(0x130),'properties':{'mediatype':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x3a9),'document',a0_0x29cdb8(0x13c),'audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x29cdb8(0x540)}},'required':['mediatype',a0_0x29cdb8(0x201)],...E(a0_0x29cdb8(0x31d),a0_0x29cdb8(0x630),a0_0x29cdb8(0x201))}},'required':[a0_0x29cdb8(0x364),a0_0x29cdb8(0x1a8)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x29cdb8(0x130),'properties':{'audio':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0xfc)],...E(a0_0x29cdb8(0xfc))}},'required':['audioMessage',a0_0x29cdb8(0x1a8)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'pollMessage':{'type':a0_0x29cdb8(0x130),'properties':{'name':{'type':a0_0x29cdb8(0x540)},'selectableCount':{'type':a0_0x29cdb8(0x1a8)},'values':{'type':a0_0x29cdb8(0x559),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x29cdb8(0x208),'selectableCount','values'],...E('name',a0_0x29cdb8(0x526),a0_0x29cdb8(0x5ca))}},'required':[a0_0x29cdb8(0x1a8),a0_0x29cdb8(0x487)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x29cdb8(0x130),'properties':{'title':{'type':a0_0x29cdb8(0x540)},'description':{'type':'string'},'footerText':{'type':a0_0x29cdb8(0x540)},'buttons':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x130),'properties':{'buttonText':{'type':a0_0x29cdb8(0x540)},'buttonId':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x103),'buttonId'],...E(a0_0x29cdb8(0x103),a0_0x29cdb8(0x514))}},'mediaMessage':{'type':a0_0x29cdb8(0x130),'properties':{'media':{'type':a0_0x29cdb8(0x540)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x3a9),a0_0x29cdb8(0x3e8),a0_0x29cdb8(0x13c)]}},'required':['media',a0_0x29cdb8(0x49d)],...E(a0_0x29cdb8(0x201),a0_0x29cdb8(0x31d))}},'required':[a0_0x29cdb8(0x4dd),'buttons'],...E(a0_0x29cdb8(0x4dd),a0_0x29cdb8(0x145))}},'required':[a0_0x29cdb8(0x1a8),a0_0x29cdb8(0x2db)]},pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x29cdb8(0x130),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x29cdb8(0x1a8)},'name':{'type':a0_0x29cdb8(0x540)},'address':{'type':a0_0x29cdb8(0x540)}},'required':['latitude',a0_0x29cdb8(0x48e)],...E('name',a0_0x29cdb8(0x4f5))}},'required':['number',a0_0x29cdb8(0x1c2)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0x29cdb8(0x130),'properties':{'title':{'type':a0_0x29cdb8(0x540)},'description':{'type':a0_0x29cdb8(0x540)},'footerText':{'type':a0_0x29cdb8(0x540)},'buttonText':{'type':a0_0x29cdb8(0x540)},'sections':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x130),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x130),'properties':{'title':{'type':a0_0x29cdb8(0x540)},'description':{'type':'string'},'rowId':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x4dd),a0_0x29cdb8(0x145),a0_0x29cdb8(0x17a)],...E(a0_0x29cdb8(0x4dd),a0_0x29cdb8(0x145),a0_0x29cdb8(0x17a))}}},'required':[a0_0x29cdb8(0x4dd),'rows'],...E('title')}}},'required':['title',a0_0x29cdb8(0x145),a0_0x29cdb8(0x103),'sections'],...E('title',a0_0x29cdb8(0x145),a0_0x29cdb8(0x103),a0_0x29cdb8(0x3c4))}},'required':['number',a0_0x29cdb8(0x30f)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x29cdb8(0x130),'properties':{'fullName':{'type':a0_0x29cdb8(0x540)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x29cdb8(0x137),'phoneNumber'],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x29cdb8(0x3e0)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'reactionMessage':{'type':a0_0x29cdb8(0x130),'properties':{'key':{'type':a0_0x29cdb8(0x130),'properties':{'id':{'type':a0_0x29cdb8(0x540)},'remoteJid':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29cdb8(0x157),a0_0x29cdb8(0x56f)],...E('id',a0_0x29cdb8(0x157))},'reaction':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x4db),'reaction'],...E(a0_0x29cdb8(0x156))}},'required':[a0_0x29cdb8(0x423)]},fa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x540),'pattern':'^\x5cd+','description':a0_0x29cdb8(0x39a)}}}},wa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'readMessages':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29cdb8(0x540)}},'required':['id','fromMe',a0_0x29cdb8(0x157)],...E('id',a0_0x29cdb8(0x157))}}},'required':[a0_0x29cdb8(0x4c6)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'privacySettings':{'type':a0_0x29cdb8(0x130),'properties':{'readreceipts':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x19d),a0_0x29cdb8(0x27f)]},'profile':{'type':a0_0x29cdb8(0x540),'enum':['all',a0_0x29cdb8(0x119),a0_0x29cdb8(0x501),'none']},'status':{'type':'string','enum':[a0_0x29cdb8(0x19d),a0_0x29cdb8(0x119),a0_0x29cdb8(0x501),a0_0x29cdb8(0x27f)]},'online':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x19d),'match_last_seen']},'last':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x19d),a0_0x29cdb8(0x119),'contact_blacklist',a0_0x29cdb8(0x27f)]},'groupadd':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x19d),a0_0x29cdb8(0x119),'contact_blacklist',a0_0x29cdb8(0x27f)]}},'required':['readreceipts',a0_0x29cdb8(0x3cc),a0_0x29cdb8(0x46b),'online',a0_0x29cdb8(0x2e8),'groupadd'],...E('readreceipts',a0_0x29cdb8(0x3cc),'status','online',a0_0x29cdb8(0x2e8),'groupadd')}},'required':[a0_0x29cdb8(0x427)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x29cdb8(0x130),'properties':{'id':{'type':a0_0x29cdb8(0x540)},'remoteJid':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29cdb8(0x56f),a0_0x29cdb8(0x157)],...E('id',a0_0x29cdb8(0x157))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x29cdb8(0x4db)],...E(a0_0x29cdb8(0x366))},'archive':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x29cdb8(0x3bd)]},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29cdb8(0x540)},'participant':{'type':a0_0x29cdb8(0x540)}},'required':['id',a0_0x29cdb8(0x56f),a0_0x29cdb8(0x157)],...E('id','remoteJid',a0_0x29cdb8(0x147))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x29cdb8(0x540),'minLength':0x1},'id':{'type':a0_0x29cdb8(0x540),'minLength':0x1}},...E(a0_0x29cdb8(0xe6),'id',a0_0x29cdb8(0x351))}}},va={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'name':{'type':a0_0x29cdb8(0x540)}},...E(a0_0x29cdb8(0x208))},Na={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'status':{'type':a0_0x29cdb8(0x540)}},...E(a0_0x29cdb8(0x46b))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{'type':a0_0x29cdb8(0x540)},'picture':{'type':a0_0x29cdb8(0x540)}}},Ca={'type':a0_0x29cdb8(0x130),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':a0_0x29cdb8(0x540)},'status':{'type':'string'},'isBusiness':{'type':a0_0x29cdb8(0x3a2)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'where':{'type':a0_0x29cdb8(0x130),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x29cdb8(0x56f),a0_0x29cdb8(0x157),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x29cdb8(0x540),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x29cdb8(0x540),'minLength':0x1,'description':a0_0x29cdb8(0x25d)},'fromMe':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x29cdb8(0x130)}},...E(a0_0x29cdb8(0xe6))},'limit':{'type':'integer'}}},fn={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'where':{'type':a0_0x29cdb8(0x130),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x29cdb8(0x540)},'id':{'type':a0_0x29cdb8(0x540)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x29cdb8(0x540)},'status':{'type':a0_0x29cdb8(0x540),'enum':['ERROR',a0_0x29cdb8(0x4e6),a0_0x29cdb8(0x59d),'DELIVERY_ACK',a0_0x29cdb8(0x62d),'PLAYED']}},...E(a0_0x29cdb8(0xe6),a0_0x29cdb8(0x157),'id',a0_0x29cdb8(0x46b))},'limit':{'type':a0_0x29cdb8(0x6a1)}}},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'number':{...X},'presence':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x555),'available',a0_0x29cdb8(0x569),'recording','paused']}},'required':['presence',a0_0x29cdb8(0x1a8)]},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'subject':{'type':a0_0x29cdb8(0x540)},'description':{'type':a0_0x29cdb8(0x540)},'profilePicture':{'type':a0_0x29cdb8(0x540)},'participants':{'type':a0_0x29cdb8(0x559),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x540),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x29cdb8(0x21d)}}},'required':[a0_0x29cdb8(0x35e),a0_0x29cdb8(0x403)],...E(a0_0x29cdb8(0x35e),a0_0x29cdb8(0x145),a0_0x29cdb8(0x593))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540),'pattern':a0_0x29cdb8(0x250)}},'required':['groupJid'],...E(a0_0x29cdb8(0x3ae))},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540)},'action':{'type':a0_0x29cdb8(0x540),'enum':[a0_0x29cdb8(0x471),a0_0x29cdb8(0x4d2),a0_0x29cdb8(0x220),a0_0x29cdb8(0x524)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29cdb8(0x540),'minLength':0xa,'pattern':a0_0x29cdb8(0x108),'description':a0_0x29cdb8(0x21d)}}},'required':[a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x19a),a0_0x29cdb8(0x403)],...E('groupJid',a0_0x29cdb8(0x19a))},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x418)],...E(a0_0x29cdb8(0x3ae),'expiration')},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540)},'image':{'type':a0_0x29cdb8(0x540)}},'required':['groupJid','image'],...E(a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x3a9))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540)},'description':{'type':'string'}},'required':[a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x145)],...E(a0_0x29cdb8(0x3ae),'description')},_a={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540)},'name':{'type':a0_0x29cdb8(0x540)}},'required':[a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x208)],...E(a0_0x29cdb8(0x3ae),a0_0x29cdb8(0x208))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'groupJid':{'type':a0_0x29cdb8(0x540)},'setting':{'type':a0_0x29cdb8(0x540),'enum':['announcement',a0_0x29cdb8(0x273),a0_0x29cdb8(0x485),a0_0x29cdb8(0x628)]}},'required':[a0_0x29cdb8(0x3ae),'setting'],...E(a0_0x29cdb8(0x3ae),a0_0x29cdb8(0xf9))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'inviteCode':{'type':a0_0x29cdb8(0x540)}},'required':['inviteCode'],...E(a0_0x29cdb8(0x3dc))},$a={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]}},'required':[a0_0x29cdb8(0x300),a0_0x29cdb8(0x408)]},wn={'$id':(0x0,v['v4'])(),'type':a0_0x29cdb8(0x130),'properties':{'local_map':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x29cdb8(0x3a2),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x29cdb8(0x306),a0_0x29cdb8(0x15f),a0_0x29cdb8(0x4d9),a0_0x29cdb8(0x55d),a0_0x29cdb8(0x548),a0_0x29cdb8(0x572),a0_0x29cdb8(0x639),a0_0x29cdb8(0x54e),a0_0x29cdb8(0x2d3),a0_0x29cdb8(0x30b),a0_0x29cdb8(0x460),a0_0x29cdb8(0x3f3),a0_0x29cdb8(0x620),a0_0x29cdb8(0x230),'CHATS_DELETE',a0_0x29cdb8(0x2ed),a0_0x29cdb8(0x584),a0_0x29cdb8(0x5df),a0_0x29cdb8(0x181)],...E(a0_0x29cdb8(0x306),a0_0x29cdb8(0x15f),a0_0x29cdb8(0x4d9),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x29cdb8(0x572),a0_0x29cdb8(0x639),a0_0x29cdb8(0x54e),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x29cdb8(0x460),a0_0x29cdb8(0x3f3),'CHATS_UPSERT',a0_0x29cdb8(0x230),a0_0x29cdb8(0x2f3),a0_0x29cdb8(0x2ed),a0_0x29cdb8(0x584),'GROUPS_UPDATE',a0_0x29cdb8(0x181))},We=class{},He=class extends W{constructor(_0x226fbf){const _0x193f33=a0_0x29cdb8;super(_0x226fbf),this[_0x193f33(0x4c2)]=_0x226fbf;}[a0_0x29cdb8(0x4ed)](_0x5183e6){return ks(_0x5183e6);}async['insert'](_0x1d949b){const _0x5d5b32=a0_0x29cdb8;if(_0x1d949b[_0x5d5b32(0x206)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x1d949b[0x0][_0x5d5b32(0x270)])['insertMany']([..._0x1d949b]))[_0x5d5b32(0x206)]};}catch(_0xd21fa5){return _0xd21fa5;}}async[a0_0x29cdb8(0x1de)](_0x450f6d){const _0x25bbab=a0_0x29cdb8;try{return{'deletedCount':(await this[_0x25bbab(0x4ed)](_0x450f6d['where'][_0x25bbab(0x270)])['deleteMany']({..._0x450f6d[_0x25bbab(0x287)]}))['deletedCount']};}catch(_0x1dbcd0){return{'error':_0x1dbcd0?.[_0x25bbab(0x47a)]()};}}async[a0_0x29cdb8(0x656)](_0x4a2fc4,_0x2bcefb){const _0x5977ee=a0_0x29cdb8;try{if(_0x4a2fc4[_0x5977ee(0x206)]===0x0)return;let _0x3798c3=this['getContactModelForOwner'](_0x2bcefb),_0x5b72fd=_0x4a2fc4[_0x5977ee(0x667)](_0x41708e=>({'updateOne':{'filter':{'_id':_0x41708e[_0x5977ee(0xe6)],'owner':_0x2bcefb},'update':{..._0x41708e}}})),{modifiedCount:_0x90e017}=await _0x3798c3[_0x5977ee(0x504)](_0x5b72fd);return{'insertCount':_0x90e017};}catch{return;}}async[a0_0x29cdb8(0x35f)](_0x1974f9){const _0x18c161=a0_0x29cdb8;try{return await this['getContactModelForOwner'](_0x1974f9[_0x18c161(0x287)][_0x18c161(0x270)])[_0x18c161(0x35f)]({..._0x1974f9[_0x18c161(0x287)]})[_0x18c161(0x22d)](_0x1974f9?.[_0x18c161(0x22d)]??0x0)[_0x18c161(0x412)]();}catch{return[];}}async['findOne'](_0x16c767){const _0x59ff30=a0_0x29cdb8;try{return await this[_0x59ff30(0x4ed)](_0x16c767[_0x59ff30(0x287)]['owner'])[_0x59ff30(0x4be)]({..._0x16c767['where']})[_0x59ff30(0x412)]();}catch{return null;}}async[a0_0x29cdb8(0x22c)](_0x1d7501){const _0x4f660e=a0_0x29cdb8;try{return await this[_0x4f660e(0x4ed)](_0x1d7501)[_0x4f660e(0x348)]['drop'](),{'success':!0x0};}catch(_0x1c0a73){return console['error'](_0x1c0a73),{'success':!0x1,'error':_0x1c0a73};}}},Ke=require(a0_0x29cdb8(0x26c)),Tn=require(a0_0x29cdb8(0x2b0)),ns=new C('Validate'),k=class{constructor(){}['routerPath'](_0x2f7759,_0x57c6fe=!0x0){const _0x25984e=a0_0x29cdb8;let _0x20cbd0='/'+_0x2f7759;return _0x57c6fe&&(_0x20cbd0+=_0x25984e(0x39c)),_0x20cbd0;}async['dataValidate'](_0x57f2a1){const _0x1ef872=a0_0x29cdb8;let {request:_0x4b1606,schema:_0x118639,ClassRef:_0x31c1a0,execute:_0x54f3e5}=_0x57f2a1,_0x2860f9=new _0x31c1a0(),_0x1e2c00=_0x4b1606['body'],_0x26aeae=_0x4b1606[_0x1ef872(0x2fd)];_0x4b1606?.[_0x1ef872(0x234)]&&Object[_0x1ef872(0x613)](_0x4b1606['query'])[_0x1ef872(0x206)]>0x0&&Object[_0x1ef872(0x3a6)](_0x26aeae,_0x4b1606['query']),_0x4b1606[_0x1ef872(0x5a7)]['includes'](_0x1ef872(0xf6))&&Object['assign'](_0x26aeae,_0x1e2c00),Object[_0x1ef872(0x3a6)](_0x2860f9,_0x1e2c00);let _0x2d4012=_0x118639?(0x0,Ke[_0x1ef872(0x3c6)])(_0x2860f9,_0x118639):{'valid':!0x0,'errors':[]};if(!_0x2d4012['valid']){let _0x40e054=_0x2d4012['errors'][_0x1ef872(0x667)](({property:_0xca2f2a,stack:_0x51788d,schema:_0x16a616})=>{const _0x2bc362=_0x1ef872;let _0x693ad6;return _0x16a616[_0x2bc362(0x145)]?_0x693ad6=_0x16a616[_0x2bc362(0x145)]:_0x693ad6=_0x51788d[_0x2bc362(0x6bd)](_0x2bc362(0x406),''),{'property':_0xca2f2a[_0x2bc362(0x6bd)]('instance.',''),'message':_0x693ad6};});throw ns[_0x1ef872(0x269)]([..._0x40e054]),new g(..._0x40e054);}return await _0x54f3e5(_0x26aeae,_0x2860f9);}async[a0_0x29cdb8(0x377)](_0x359c29){const _0x3ba8d8=a0_0x29cdb8;let {request:_0x6d3adc,ClassRef:_0x8012af,schema:_0x4f0c40,execute:_0x534316}=_0x359c29,_0x547481=_0x6d3adc[_0x3ba8d8(0x234)];if(!_0x547481?.[_0x3ba8d8(0x3ae)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x3ba8d8(0x4f2));let _0x4f7734=_0x6d3adc[_0x3ba8d8(0x2fd)],_0x30740a=_0x6d3adc[_0x3ba8d8(0x370)],_0x4d5c3d=new _0x8012af();Object[_0x3ba8d8(0x3a6)](_0x30740a,_0x547481),Object['assign'](_0x4d5c3d,_0x30740a);let _0x4672b2=(0x0,Ke['validate'])(_0x4d5c3d,_0x4f0c40);if(!_0x4672b2[_0x3ba8d8(0x63d)]){let _0x472cde=_0x4672b2[_0x3ba8d8(0x379)][_0x3ba8d8(0x667)](({property:_0x29620e,stack:_0x3ed8d,schema:_0x3285a4})=>{const _0x688e2a=_0x3ba8d8;let _0x2b7636;return _0x3285a4['description']?_0x2b7636=_0x3285a4[_0x688e2a(0x145)]:_0x2b7636=_0x3ed8d[_0x688e2a(0x6bd)](_0x688e2a(0x406),''),{'property':_0x29620e['replace'](_0x688e2a(0x406),''),'message':_0x2b7636};});throw ns[_0x3ba8d8(0x269)]([..._0x472cde]),new g(..._0x472cde);}return await _0x534316(_0x4f7734,_0x4d5c3d);}async[a0_0x29cdb8(0x5f4)](_0x264004){const _0xc75c6d=a0_0x29cdb8;let {request:_0x321ce2,ClassRef:_0x3f7a51,schema:_0x23a879,execute:_0x3d80f4}=_0x264004,_0x210442=_0x321ce2[_0xc75c6d(0x370)];if(!_0x210442?.[_0xc75c6d(0x3dc)])throw new g(_0xc75c6d(0x215),_0xc75c6d(0x470));let _0x4260f7=_0x321ce2['params'],_0x943ec2=_0x321ce2[_0xc75c6d(0x370)],_0x4e3b55=new _0x3f7a51();Object[_0xc75c6d(0x3a6)](_0x943ec2,_0x210442),Object[_0xc75c6d(0x3a6)](_0x4e3b55,_0x943ec2);let _0x186517=(0x0,Ke['validate'])(_0x4e3b55,_0x23a879);if(!_0x186517[_0xc75c6d(0x63d)]){let _0x4aebaf=_0x186517[_0xc75c6d(0x379)][_0xc75c6d(0x667)](({property:_0x224d83,stack:_0xb041dd,schema:_0x344ad6})=>{const _0x3f1a3f=_0xc75c6d;let _0x33b3be;return _0x344ad6[_0x3f1a3f(0x145)]?_0x33b3be=_0x344ad6[_0x3f1a3f(0x145)]:_0x33b3be=_0xb041dd[_0x3f1a3f(0x6bd)]('instance.',''),{'property':_0x224d83['replace']('instance.',''),'message':_0x33b3be};});throw ns[_0xc75c6d(0x269)]([..._0x4aebaf]),new g(..._0x4aebaf);}return await _0x3d80f4(_0x4260f7,_0x4e3b55);}},b=class{},ze=class extends k{constructor(..._0xcd4307){const _0x3c8171=a0_0x29cdb8;super(),this['router']=(0x0,ka['Router'])(),this[_0x3c8171(0x385)][_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x5d5)),..._0xcd4307,async(_0x2b9c7a,_0x3181aa)=>{const _0x184830=_0x3c8171;let _0x313831=await this['dataValidate']({'request':_0x2b9c7a,'schema':Ra,'ClassRef':ke,'execute':(_0xbbf565,_0x1156f4)=>D[_0x184830(0x5d5)](_0xbbf565,_0x1156f4)});return _0x3181aa['status'](0xc9)[_0x184830(0x4cf)](_0x313831);})[_0x3c8171(0x461)](this['routerPath'](_0x3c8171(0x475)),..._0xcd4307,async(_0x2f500d,_0x4b47c6)=>{const _0x4b4873=_0x3c8171;let _0x53d55f=await this[_0x4b4873(0x305)]({'request':_0x2f500d,'schema':fa,'ClassRef':Le,'execute':(_0xece8e7,_0x56d086)=>D[_0x4b4873(0x3dd)](_0xece8e7,_0x56d086)});return _0x4b47c6['status'](0xc9)[_0x4b4873(0x4cf)](_0x53d55f);})[_0x3c8171(0x461)](this['routerPath'](_0x3c8171(0x5b7)),..._0xcd4307,async(_0x4e7568,_0x1b0230)=>{const _0x513254=_0x3c8171;let _0x5a99ea=await this['dataValidate']({'request':_0x4e7568,'schema':N,'ClassRef':b,'execute':(_0x435cc1,_0x5d2bec)=>D[_0x513254(0x5b7)](_0x435cc1,_0x5d2bec)});return _0x1b0230[_0x513254(0x46b)](0xc9)[_0x513254(0x4cf)](_0x5a99ea);})[_0x3c8171(0x371)](this[_0x3c8171(0x18a)](_0x3c8171(0x13e)),..._0xcd4307,async(_0x46a509,_0xdde9b6)=>{const _0x5064d3=_0x3c8171;let _0x2ad585=await this[_0x5064d3(0x305)]({'request':_0x46a509,'schema':wa,'ClassRef':Je,'execute':(_0xc0d379,_0x147fc1)=>D[_0x5064d3(0x243)](_0xc0d379,_0x147fc1)});return _0xdde9b6[_0x5064d3(0x46b)](0xc9)[_0x5064d3(0x4cf)](_0x2ad585);})[_0x3c8171(0x371)](this[_0x3c8171(0x18a)]('archiveChat'),..._0xcd4307,async(_0x346b9d,_0x3af5c0)=>{const _0x22438c=_0x3c8171;let _0x158d83=await this['dataValidate']({'request':_0x346b9d,'schema':ba,'ClassRef':je,'execute':(_0x2e9b2f,_0x1b2639)=>D[_0x22438c(0x698)](_0x2e9b2f,_0x1b2639)});return _0x3af5c0[_0x22438c(0x46b)](0xc9)['json'](_0x158d83);})[_0x3c8171(0x1de)](this[_0x3c8171(0x18a)](_0x3c8171(0x4a7)),..._0xcd4307,async(_0x115778,_0x17e7ab)=>{const _0x2b2e43=_0x3c8171;let _0x369ef2=await this['dataValidate']({'request':_0x115778,'schema':Sa,'ClassRef':Be,'execute':(_0x22bf1d,_0x585b23)=>D['deleteMessage'](_0x22bf1d,_0x585b23)});return _0x17e7ab[_0x2b2e43(0x46b)](0xc9)['json'](_0x369ef2);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x2d6)),..._0xcd4307,async(_0x175c13,_0x47674e)=>{const _0x33d04f=_0x3c8171;let _0x3f5650=await this[_0x33d04f(0x305)]({'request':_0x175c13,'schema':Ee,'ClassRef':Se,'execute':(_0xd96ed0,_0x4ec220)=>D[_0x33d04f(0x267)](_0xd96ed0,_0x4ec220)});return _0x47674e[_0x33d04f(0x46b)](0xc8)[_0x33d04f(0x4cf)](_0x3f5650);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x456)),..._0xcd4307,async(_0x365222,_0x2a7060)=>{const _0x9fe605=_0x3c8171;let _0x32dee5=await this['dataValidate']({'request':_0x365222,'schema':Ca,'ClassRef':Se,'execute':(_0x33a128,_0xba8beb)=>D['fetchProfile'](_0x33a128,_0xba8beb)});return _0x2a7060[_0x9fe605(0x46b)](0xc8)[_0x9fe605(0x4cf)](_0x32dee5);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)]('findContacts'),..._0xcd4307,async(_0xd9cd90,_0x278613)=>{const _0x41dfb5=_0x3c8171;let _0x551fa8=await this['dataValidate']({'request':_0xd9cd90,'schema':Ea,'ClassRef':We,'execute':(_0x402b28,_0x37d0f5)=>D[_0x41dfb5(0x5a6)](_0x402b28,_0x37d0f5)});return _0x278613[_0x41dfb5(0x46b)](0xc8)[_0x41dfb5(0x4cf)](_0x551fa8);})['post'](this['routerPath'](_0x3c8171(0x53f)),..._0xcd4307,async(_0x5c6fde,_0x2b2e52)=>{const _0x351e49=_0x3c8171;let _0x48ffb7=await this['dataValidate']({'request':_0x5c6fde,'schema':null,'ClassRef':Object,'execute':(_0x2ca615,_0x35b466)=>D[_0x351e49(0x53f)](_0x2ca615,_0x35b466)});return _0x2b2e52[_0x351e49(0x46b)](0xc9)['json'](_0x48ffb7);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x594)),..._0xcd4307,async(_0x5bed6d,_0x272afe)=>{const _0x29c0a8=_0x3c8171;let _0x529339=await this[_0x29c0a8(0x305)]({'request':_0x5bed6d,'schema':Ta,'ClassRef':xe,'execute':(_0x5f5b13,_0x14be2f)=>D[_0x29c0a8(0x5bb)](_0x5f5b13,_0x14be2f)});return _0x272afe[_0x29c0a8(0x46b)](0xc8)[_0x29c0a8(0x4cf)](_0x529339);})['get'](this[_0x3c8171(0x18a)]('findChats'),..._0xcd4307,async(_0x19243f,_0x1abf98)=>{const _0x8664a4=_0x3c8171;let _0xf0c405=await this[_0x8664a4(0x305)]({'request':_0x19243f,'schema':null,'ClassRef':b,'execute':_0x93c665=>D[_0x8664a4(0x312)](_0x93c665)});return _0x1abf98[_0x8664a4(0x46b)](0xc8)[_0x8664a4(0x4cf)](_0xf0c405);})[_0x3c8171(0x2ba)](this[_0x3c8171(0x18a)](_0x3c8171(0x5f0)),..._0xcd4307,async(_0x10752f,_0x222f55)=>{const _0x5b9ece=_0x3c8171;let _0x3a8cd1=await this[_0x5b9ece(0x305)]({'request':_0x10752f,'schema':null,'ClassRef':b,'execute':_0x3f634e=>D['fetchPrivacySettings'](_0x3f634e)});return _0x222f55[_0x5b9ece(0x46b)](0xc8)[_0x5b9ece(0x4cf)](_0x3a8cd1);})['put'](this[_0x3c8171(0x18a)](_0x3c8171(0x299)),..._0xcd4307,async(_0x1c11c9,_0x2ac501)=>{const _0x548de9=_0x3c8171;let _0x32e1f0=await this[_0x548de9(0x305)]({'request':_0x1c11c9,'schema':ya,'ClassRef':Fe,'execute':(_0x23ce94,_0x21d46f)=>D[_0x548de9(0x299)](_0x23ce94,_0x21d46f)});return _0x2ac501[_0x548de9(0x46b)](0xc9)[_0x548de9(0x4cf)](_0x32e1f0);})['post'](this[_0x3c8171(0x18a)]('fetchBusinessProfile'),..._0xcd4307,async(_0x3ac562,_0x56354c)=>{const _0x44ff14=_0x3c8171;let _0x32abef=await this[_0x44ff14(0x305)]({'request':_0x3ac562,'schema':Ee,'ClassRef':we,'execute':(_0x18fdfc,_0x3b16da)=>D[_0x44ff14(0x205)](_0x18fdfc,_0x3b16da)});return _0x56354c['status'](0xc8)[_0x44ff14(0x4cf)](_0x32abef);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x25c)),..._0xcd4307,async(_0x3d9d53,_0x1f66ae)=>{const _0x5ec304=_0x3c8171;let _0x44207d=await this[_0x5ec304(0x305)]({'request':_0x3d9d53,'schema':va,'ClassRef':Ue,'execute':(_0x4887c5,_0x523891)=>D[_0x5ec304(0x25c)](_0x4887c5,_0x523891)});return _0x1f66ae[_0x5ec304(0x46b)](0xc8)['json'](_0x44207d);})[_0x3c8171(0x461)](this[_0x3c8171(0x18a)](_0x3c8171(0x3d5)),..._0xcd4307,async(_0x23903d,_0x310509)=>{const _0x4d5558=_0x3c8171;let _0x21b6f7=await this[_0x4d5558(0x305)]({'request':_0x23903d,'schema':Na,'ClassRef':Ve,'execute':(_0x552389,_0x28d503)=>D['updateProfileStatus'](_0x552389,_0x28d503)});return _0x310509[_0x4d5558(0x46b)](0xc8)[_0x4d5558(0x4cf)](_0x21b6f7);})['put'](this[_0x3c8171(0x18a)](_0x3c8171(0x6b9)),..._0xcd4307,async(_0x1d4bc5,_0x511ba0)=>{const _0x34cfb3=_0x3c8171;let _0x3d7a6e=await this[_0x34cfb3(0x305)]({'request':_0x1d4bc5,'schema':Ee,'ClassRef':we,'execute':(_0x4713a0,_0x133c20)=>D[_0x34cfb3(0x6b9)](_0x4713a0,_0x133c20)});return _0x511ba0[_0x34cfb3(0x46b)](0xc8)[_0x34cfb3(0x4cf)](_0x3d7a6e);})[_0x3c8171(0x1de)](this['routerPath']('removeProfilePicture'),..._0xcd4307,async(_0x339e03,_0x21f592)=>{const _0x59b764=_0x3c8171;let _0x19f0df=await this['dataValidate']({'request':_0x339e03,'schema':Ee,'ClassRef':we,'execute':(_0x5f0c61,_0x214780)=>D[_0x59b764(0x265)](_0x5f0c61,_0x214780)});return _0x21f592['status'](0xc8)['json'](_0x19f0df);});}},La=require('express'),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends k{constructor(..._0x291db1){const _0x2c1059=a0_0x29cdb8;super(),this[_0x2c1059(0x385)]=(0x0,La[_0x2c1059(0x1d0)])(),this['router'][_0x2c1059(0x461)](this[_0x2c1059(0x18a)](_0x2c1059(0x15b)),..._0x291db1,async(_0x23398f,_0x4885ca)=>{const _0x5e97dd=_0x2c1059;let _0x658a1d=await this[_0x5e97dd(0x305)]({'request':_0x23398f,'schema':Ma,'ClassRef':Qe,'execute':(_0x43bbe2,_0x244c9f)=>U[_0x5e97dd(0x290)](_0x43bbe2,_0x244c9f)});_0x4885ca[_0x5e97dd(0x46b)](0xc9)[_0x5e97dd(0x4cf)](_0x658a1d);})[_0x2c1059(0x371)](this[_0x2c1059(0x18a)]('updateGroupPicture'),..._0x291db1,async(_0x443e98,_0x9d7872)=>{const _0x1a2d31=_0x2c1059;let _0x4206ff=await this[_0x1a2d31(0x377)]({'request':_0x443e98,'schema':Oa,'ClassRef':Ye,'execute':(_0x315f04,_0x503531)=>U[_0x1a2d31(0x434)](_0x315f04,_0x503531)});_0x9d7872['status'](0xc9)['json'](_0x4206ff);})[_0x2c1059(0x371)](this[_0x2c1059(0x18a)](_0x2c1059(0x224)),..._0x291db1,async(_0x5c24be,_0x1b25ef)=>{const _0x5b8444=_0x2c1059;let _0x44c508=await this[_0x5b8444(0x377)]({'request':_0x5c24be,'schema':Da,'ClassRef':Xe,'execute':(_0x45a053,_0x5d6dd3)=>U[_0x5b8444(0x224)](_0x45a053,_0x5d6dd3)});_0x1b25ef[_0x5b8444(0x46b)](0xc9)['json'](_0x44c508);})['put'](this['routerPath'](_0x2c1059(0x144)),..._0x291db1,async(_0x2e1231,_0x66c534)=>{const _0x1c6f04=_0x2c1059;let _0x43528d=await this['groupValidate']({'request':_0x2e1231,'schema':_a,'ClassRef':Ze,'execute':(_0x1688a0,_0x46c901)=>U['groupName'](_0x1688a0,_0x46c901)});_0x66c534[_0x1c6f04(0x46b)](0xc9)[_0x1c6f04(0x4cf)](_0x43528d);})[_0x2c1059(0x371)](this['routerPath'](_0x2c1059(0x1a1)),..._0x291db1,async(_0x606e41,_0x487cae)=>{const _0x39acc0=_0x2c1059;let _0x1eb49e=await this[_0x39acc0(0x377)]({'request':_0x606e41,'schema':Pa,'ClassRef':et,'execute':(_0x51aa71,_0x2c129c)=>U[_0x39acc0(0x1a1)](_0x51aa71,_0x2c129c)});_0x487cae['status'](0xc9)['json'](_0x1eb49e);})['put'](this[_0x2c1059(0x18a)](_0x2c1059(0x238)),..._0x291db1,async(_0x53f564,_0x1363f7)=>{const _0x5660dd=_0x2c1059;let _0x4676b9=await this[_0x5660dd(0x377)]({'request':_0x53f564,'schema':Ia,'ClassRef':at,'execute':(_0x345b24,_0x26e190)=>U[_0x5660dd(0x238)](_0x345b24,_0x26e190)});_0x1363f7[_0x5660dd(0x46b)](0xc9)['json'](_0x4676b9);})[_0x2c1059(0x2ba)](this[_0x2c1059(0x18a)](_0x2c1059(0x449)),..._0x291db1,async(_0x280c60,_0x49508e)=>{const _0x333d6a=_0x2c1059;let _0x5b9818=await this[_0x333d6a(0x377)]({'request':_0x280c60,'schema':ve,'ClassRef':Z,'execute':(_0x1ba0fb,_0x571ec6)=>U[_0x333d6a(0x1fc)](_0x1ba0fb,_0x571ec6)});_0x49508e['status'](0xc8)[_0x333d6a(0x4cf)](_0x5b9818);})['get'](this[_0x2c1059(0x18a)](_0x2c1059(0x455)),..._0x291db1,async(_0x1424ff,_0x570e5e)=>{let _0x76afb4=await this['dataValidate']({'request':_0x1424ff,'schema':N,'ClassRef':b,'execute':_0x5a3a6c=>U['findGroups'](_0x5a3a6c)});_0x570e5e['status'](0xc8)['json'](_0x76afb4);})['get'](this[_0x2c1059(0x18a)](_0x2c1059(0x403)),..._0x291db1,async(_0x39af3e,_0x457ff7)=>{const _0x2568c7=_0x2c1059;let _0x4c256b=await this[_0x2568c7(0x377)]({'request':_0x39af3e,'schema':ve,'ClassRef':Z,'execute':(_0x2f7c8d,_0x33f35e)=>U[_0x2568c7(0x68e)](_0x2f7c8d,_0x33f35e)});_0x457ff7['status'](0xc8)['json'](_0x4c256b);})['get'](this['routerPath'](_0x2c1059(0x3dc)),..._0x291db1,async(_0xe314b0,_0xcda02a)=>{const _0x42794=_0x2c1059;let _0x5eb607=await this[_0x42794(0x377)]({'request':_0xe314b0,'schema':ve,'ClassRef':Z,'execute':(_0x2ff262,_0x5d056e)=>U['inviteCode'](_0x2ff262,_0x5d056e)});_0xcda02a['status'](0xc8)['json'](_0x5eb607);})['put'](this[_0x2c1059(0x18a)](_0x2c1059(0x4c5)),..._0x291db1,async(_0x1a74f9,_0x270673)=>{const _0x574ce5=_0x2c1059;let _0x9630a4=await this['joinGroupValidate']({'request':_0x1a74f9,'schema':xa,'ClassRef':tt,'execute':(_0xce6291,_0x49a817)=>U[_0x574ce5(0x4c5)](_0xce6291,_0x49a817)});_0x270673['status'](0xc9)[_0x574ce5(0x4cf)](_0x9630a4);})[_0x2c1059(0x371)](this[_0x2c1059(0x18a)](_0x2c1059(0x173)),..._0x291db1,async(_0x55fecf,_0x242138)=>{const _0x31d345=_0x2c1059;let _0x1a288e=await this[_0x31d345(0x377)]({'request':_0x55fecf,'schema':ve,'ClassRef':Z,'execute':(_0x295024,_0x3d122b)=>U['revokeInviteCode'](_0x295024,_0x3d122b)});_0x242138['status'](0xc9)[_0x31d345(0x4cf)](_0x1a288e);})[_0x2c1059(0x371)](this[_0x2c1059(0x18a)](_0x2c1059(0x31e)),..._0x291db1,async(_0x58a3d1,_0x1ae8ad)=>{const _0x39f387=_0x2c1059;let _0x470877=await this['groupValidate']({'request':_0x58a3d1,'schema':Aa,'ClassRef':st,'execute':(_0x36020e,_0x26687a)=>U[_0x39f387(0x2b6)](_0x36020e,_0x26687a)});_0x1ae8ad[_0x39f387(0x46b)](0xc9)[_0x39f387(0x4cf)](_0x470877);})['delete'](this[_0x2c1059(0x18a)](_0x2c1059(0x30d)),..._0x291db1,async(_0x5ed28c,_0x55227a)=>{const _0x46554e=_0x2c1059;let _0x3159e1=await this['groupValidate']({'request':_0x5ed28c,'schema':{},'ClassRef':Z,'execute':(_0x217fae,_0x2073d7)=>U[_0x46554e(0x30d)](_0x217fae,_0x2073d7)});_0x55227a[_0x46554e(0x46b)](0xc8)['json'](_0x3159e1);});}},Ja=require(a0_0x29cdb8(0x139)),Ne=require(a0_0x29cdb8(0x3a0)),cs=require(a0_0x29cdb8(0x34d)),Ua=require(a0_0x29cdb8(0x443)),Va=T(require(a0_0x29cdb8(0x50c))),it=class{},rt=class c{constructor(_0xcc9b33,_0x489053,_0x4fb8e5){const _0x3da37d=a0_0x29cdb8;this[_0x3da37d(0x4c2)]=_0xcc9b33,this[_0x3da37d(0x10e)]=_0x489053,this[_0x3da37d(0x29f)]=_0x4fb8e5,this[_0x3da37d(0x596)]=new C(c[_0x3da37d(0x208)]);}async[a0_0x29cdb8(0x2c7)](_0x421f4f){const _0x3dedac=a0_0x29cdb8;let _0x5b8d20=this['configService'][_0x3dedac(0x2ba)]('AUTHENTICATION')[_0x3dedac(0x4ea)],_0x4939b3=(0x0,Ne[_0x3dedac(0x583)])({'instanceName':_0x421f4f[_0x3dedac(0x63f)],'apiName':Ge,'tokenId':(0x0,cs['v4'])()},_0x5b8d20[_0x3dedac(0x318)],{'expiresIn':_0x5b8d20[_0x3dedac(0x661)],'encoding':_0x3dedac(0x2dc),'subject':_0x3dedac(0x6af)}),_0x29bbef=await this[_0x3dedac(0x29f)][_0x3dedac(0x515)]['create']({'jwt':_0x4939b3},_0x421f4f[_0x3dedac(0x63f)]);if(_0x29bbef[_0x3dedac(0x269)])throw this[_0x3dedac(0x596)][_0x3dedac(0x269)]({'localError':c['name']+_0x3dedac(0x301),'error':_0x29bbef['error']}),new g(_0x3dedac(0x3c0),_0x29bbef['error']?.['toString']());return{'jwt':_0x4939b3};}async['apikey'](_0x6685ea){const _0x56620f=a0_0x29cdb8;let _0x3b7b70=(0x0,cs['v4'])()[_0x56620f(0x2f0)](),_0x217583=await this[_0x56620f(0x29f)][_0x56620f(0x515)][_0x56620f(0x15b)]({'apikey':_0x3b7b70},_0x6685ea[_0x56620f(0x63f)]);if(_0x217583[_0x56620f(0x269)])throw this['logger'][_0x56620f(0x269)]({'localError':c['name']+'.jwt','error':_0x217583[_0x56620f(0x269)]}),new g(_0x56620f(0x3c0),_0x217583[_0x56620f(0x269)]?.[_0x56620f(0x47a)]());return{'apikey':_0x3b7b70};}async[a0_0x29cdb8(0x5c4)](_0x47f111){const _0x2a3b88=a0_0x29cdb8;let _0x7ee2a5=this['configService'][_0x2a3b88(0x2ba)]('AUTHENTICATION');return await this[_0x7ee2a5['TYPE']](_0x47f111);}async[a0_0x29cdb8(0x112)]({oldToken:_0x26f90d}){const _0x46161b=a0_0x29cdb8;if(!(0x0,Ua[_0x46161b(0x625)])(_0x26f90d))throw new g(_0x46161b(0x1e6));try{let _0x3b8502=this[_0x46161b(0x4c2)]['get']('AUTHENTICATION')[_0x46161b(0x4ea)],_0x35cf20=(0x0,Ne[_0x46161b(0x27d)])(_0x26f90d,_0x3b8502[_0x46161b(0x318)],{'ignoreExpiration':!0x0}),_0x346f31=await this[_0x46161b(0x29f)]['auth'][_0x46161b(0x35f)](_0x35cf20[_0x46161b(0x63f)]),_0x161f18=(0x0,Ne[_0x46161b(0x27d)])(_0x346f31[_0x46161b(0x2c7)],_0x3b8502[_0x46161b(0x318)],{'ignoreExpiration':!0x0});if(_0x35cf20['tokenId']!==_0x161f18[_0x46161b(0x46c)])throw new g(_0x46161b(0x1e6));let _0x208128={'jwt':(await this[_0x46161b(0x2c7)]({'instanceName':_0x35cf20[_0x46161b(0x63f)]}))[_0x46161b(0x2c7)],'instanceName':_0x35cf20[_0x46161b(0x63f)]};try{let _0x4e0b93=await this['repository']['webhook'][_0x46161b(0x35f)](_0x35cf20[_0x46161b(0x63f)]);_0x4e0b93?.['enabled']&&this[_0x46161b(0x4c2)]['get']('WEBHOOK')[_0x46161b(0x525)]['NEW_JWT_TOKEN']&&await Va[_0x46161b(0x3ec)][_0x46161b(0x15b)]({'baseURL':_0x4e0b93[_0x46161b(0x300)]})['post']('',{'event':_0x46161b(0x4a5),'instance':_0x35cf20[_0x46161b(0x63f)],'data':_0x208128},{'params':{'owner':this[_0x46161b(0x10e)][_0x46161b(0x1da)][_0x35cf20['instanceName']][_0x46161b(0x242)]}});}catch(_0x55fcbc){this['logger'][_0x46161b(0x269)](_0x55fcbc);}return _0x208128;}catch(_0x34a692){throw this['logger'][_0x46161b(0x269)]({'localError':c[_0x46161b(0x208)]+_0x46161b(0x1f7),'error':_0x34a692}),new g('Invalid\x20\x22oldToken\x22');}}},nt=class extends k{constructor(_0xe4e92e,..._0x3fbebe){const _0x1a58e8=a0_0x29cdb8;super(),this[_0x1a58e8(0x4c2)]=_0xe4e92e,this['router']=(0x0,Ja[_0x1a58e8(0x1d0)])();let _0x1836bc=_0xe4e92e[_0x1a58e8(0x2ba)](_0x1a58e8(0x3f8));this[_0x1a58e8(0x385)][_0x1a58e8(0x461)](_0x1a58e8(0x6cd),..._0x3fbebe,async(_0x21f017,_0x35c4ca)=>{const _0x37d105=_0x1a58e8;let {instanceName:_0x404e5e,apikey:_0x489142}=_0x21f017[_0x37d105(0x370)],_0x26d56a=await re[_0x37d105(0x3aa)]({'instanceName':_0x404e5e,'apikey':_0x489142});return _0x35c4ca[_0x37d105(0x46b)](0xc9)[_0x37d105(0x4cf)](_0x26d56a);})[_0x1a58e8(0x371)](this[_0x1a58e8(0x18a)](_0x1a58e8(0x1fa)),..._0x3fbebe,async(_0x400a8a,_0x536449)=>{const _0x1baec5=_0x1a58e8;let _0x575f8f=await this[_0x1baec5(0x305)]({'request':_0x400a8a,'schema':N,'ClassRef':b,'execute':_0xf7320b=>re[_0x1baec5(0x1ac)](_0xf7320b)});return _0x536449[_0x1baec5(0x46b)](0xc8)[_0x1baec5(0x4cf)](_0x575f8f);})[_0x1a58e8(0x2ba)](this[_0x1a58e8(0x18a)](_0x1a58e8(0x247)),..._0x3fbebe,async(_0x49410d,_0x25627f)=>{const _0x426f1d=_0x1a58e8;let _0x42c11b=await this[_0x426f1d(0x305)]({'request':_0x49410d,'schema':N,'ClassRef':b,'execute':_0x3fa9ef=>re[_0x426f1d(0x3be)](_0x3fa9ef)});return _0x25627f[_0x426f1d(0x46b)](0xc8)['json'](_0x42c11b);})[_0x1a58e8(0x2ba)](this['routerPath']('connectionState'),..._0x3fbebe,async(_0x4a1d59,_0xf0c732)=>{const _0x3cc009=_0x1a58e8;let _0x1e5961=await this[_0x3cc009(0x305)]({'request':_0x4a1d59,'schema':N,'ClassRef':b,'execute':_0x53619f=>re['connectionState'](_0x53619f)});return _0xf0c732[_0x3cc009(0x46b)](0xc8)[_0x3cc009(0x4cf)](_0x1e5961);})[_0x1a58e8(0x2ba)](this[_0x1a58e8(0x18a)](_0x1a58e8(0x3ba),!0x1),..._0x3fbebe,async(_0x52ae3c,_0x4da569)=>{const _0x282ec4=_0x1a58e8;let _0xeacc8c=await this['dataValidate']({'request':_0x52ae3c,'schema':null,'ClassRef':b,'execute':_0x770e7f=>re[_0x282ec4(0x3ba)](_0x770e7f)});return _0x4da569[_0x282ec4(0x46b)](0xc8)['json'](_0xeacc8c);})[_0x1a58e8(0x1de)](this[_0x1a58e8(0x18a)]('logout'),..._0x3fbebe,async(_0x2d26fd,_0xd435c1)=>{const _0x2c7b5c=_0x1a58e8;let _0x1a93dc=await this[_0x2c7b5c(0x305)]({'request':_0x2d26fd,'schema':N,'ClassRef':b,'execute':_0x4f5ee6=>re[_0x2c7b5c(0x154)](_0x4f5ee6)});return _0xd435c1[_0x2c7b5c(0x46b)](0xc8)[_0x2c7b5c(0x4cf)](_0x1a93dc);})[_0x1a58e8(0x1de)](this[_0x1a58e8(0x18a)](_0x1a58e8(0x1de)),..._0x3fbebe,async(_0x26ee29,_0x18f79c)=>{const _0x34e653=_0x1a58e8;let _0x12bdc6=await this[_0x34e653(0x305)]({'request':_0x26ee29,'schema':N,'ClassRef':b,'execute':_0x5b3812=>re[_0x34e653(0x646)](_0x5b3812)});return _0x18f79c[_0x34e653(0x46b)](0xc8)[_0x34e653(0x4cf)](_0x12bdc6);}),_0x1836bc[_0x1a58e8(0x37e)]==='jwt'&&this[_0x1a58e8(0x385)][_0x1a58e8(0x371)](_0x1a58e8(0x1dd),async(_0x2ccad1,_0x3cc1ef)=>{const _0x64702a=_0x1a58e8;let _0x391ec4=await this['dataValidate']({'request':_0x2ccad1,'schema':aa,'ClassRef':it,'execute':(_0x40c25c,_0x2fef1a)=>re[_0x64702a(0x112)](_0x40c25c,_0x2fef1a)});return _0x3cc1ef[_0x64702a(0x46b)](0xc9)[_0x64702a(0x4cf)](_0x391ec4);});}},ja=require('express'),ls=class{},z=class extends ls{},ct=class extends z{},lt=class extends z{},ut=class extends z{},Ce=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class extends z{},ft=class{},wt=class extends k{constructor(..._0x5132cb){const _0x498868=a0_0x29cdb8;super(),this[_0x498868(0x385)]=(0x0,ja['Router'])(),this[_0x498868(0x385)][_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x257)),..._0x5132cb,async(_0x58744e,_0x1b711a)=>{const _0x5429a6=_0x498868;let _0x4a2e35=await this['dataValidate']({'request':_0x58744e,'schema':oa,'ClassRef':ct,'execute':(_0x49bfaa,_0x5e5c68)=>K[_0x5429a6(0x257)](_0x49bfaa,_0x5e5c68)});return _0x1b711a[_0x5429a6(0x46b)](0xc9)['json'](_0x4a2e35);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x1b2)),..._0x5132cb,async(_0x487068,_0x1c22c3)=>{const _0x94da49=_0x498868;let _0x4fe54b=await this['dataValidate']({'request':_0x487068,'schema':ca,'ClassRef':Ce,'execute':(_0x477c55,_0x1c0ff4)=>K[_0x94da49(0x1b2)](_0x477c55,_0x1c0ff4)});return _0x1c22c3[_0x94da49(0x46b)](0xc9)[_0x94da49(0x4cf)](_0x4fe54b);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x47b)),..._0x5132cb,async(_0x2ce51f,_0x1d72be)=>{const _0x4a86c2=_0x498868;let _0x4b7b3f=await this[_0x4a86c2(0x305)]({'request':_0x2ce51f,'schema':la,'ClassRef':Ce,'execute':(_0xf39c96,_0x278de3)=>K[_0x4a86c2(0x47b)](_0xf39c96,_0x278de3)});return _0x1d72be[_0x4a86c2(0x46b)](0xc9)['json'](_0x4b7b3f);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x334)),..._0x5132cb,async(_0x3a64ee,_0x363d02)=>{const _0x4bf6c1=_0x498868;let _0x531479=await this[_0x4bf6c1(0x305)]({'request':_0x3a64ee,'schema':da,'ClassRef':pt,'execute':(_0x5914dd,_0x2c9a7f)=>K['sendButtons'](_0x5914dd,_0x2c9a7f)});return _0x363d02['status'](0xc9)[_0x4bf6c1(0x4cf)](_0x531479);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x57a)),..._0x5132cb,async(_0x3ec0d0,_0x3e26ee)=>{const _0x129195=_0x498868;let _0x1a25a8=await this['dataValidate']({'request':_0x3ec0d0,'schema':pa,'ClassRef':gt,'execute':(_0x48fc54,_0x230ac6)=>K[_0x129195(0x57a)](_0x48fc54,_0x230ac6)});return _0x3e26ee[_0x129195(0x46b)](0xc9)[_0x129195(0x4cf)](_0x1a25a8);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x221)),..._0x5132cb,async(_0x1b75b5,_0x2ea159)=>{const _0x1f31fe=_0x498868;let _0x48984d=await this[_0x1f31fe(0x305)]({'request':_0x1b75b5,'schema':ga,'ClassRef':mt,'execute':(_0x4e1be7,_0x653dd7)=>K[_0x1f31fe(0x221)](_0x4e1be7,_0x653dd7)});return _0x2ea159[_0x1f31fe(0x46b)](0xc9)[_0x1f31fe(0x4cf)](_0x48984d);})['post'](this[_0x498868(0x18a)](_0x498868(0x172)),..._0x5132cb,async(_0x42d182,_0x5bb97b)=>{const _0x1b517b=_0x498868;let _0x4ca754=await this[_0x1b517b(0x305)]({'request':_0x42d182,'schema':ma,'ClassRef':ht,'execute':(_0x376d24,_0x172ef8)=>K['sendContact'](_0x376d24,_0x172ef8)});return _0x5bb97b[_0x1b517b(0x46b)](0xc9)['json'](_0x4ca754);})[_0x498868(0x461)](this[_0x498868(0x18a)](_0x498868(0x2e1)),..._0x5132cb,async(_0x2397ea,_0x2d13ea)=>{const _0x56c87c=_0x498868;let _0x4e9a0e=await this[_0x56c87c(0x305)]({'request':_0x2397ea,'schema':ha,'ClassRef':ft,'execute':(_0x431978,_0x459942)=>K['sendReaction'](_0x431978,_0x459942)});return _0x2d13ea[_0x56c87c(0x46b)](0xc9)[_0x56c87c(0x4cf)](_0x4e9a0e);})[_0x498868(0x461)](this['routerPath'](_0x498868(0x5a4)),..._0x5132cb,async(_0x3af92a,_0x3d0498)=>{const _0x1b2373=_0x498868;let _0x1a584a=await this[_0x1b2373(0x305)]({'request':_0x3af92a,'schema':ua,'ClassRef':ut,'execute':(_0x1ff3a4,_0x1d9fc7)=>K[_0x1b2373(0x5a4)](_0x1ff3a4,_0x1d9fc7)});return _0x3d0498['status'](0xc9)[_0x1b2373(0x4cf)](_0x1a584a);})[_0x498868(0x461)](this[_0x498868(0x18a)]('sendStatus'),..._0x5132cb,async(_0x46c824,_0x141541)=>{const _0x24370b=_0x498868;let _0x17c9e3=await this[_0x24370b(0x305)]({'request':_0x46c824,'schema':na,'ClassRef':lt,'execute':(_0x1eb042,_0x4003de)=>K['sendStatus'](_0x1eb042,_0x4003de)});return _0x141541[_0x24370b(0x46b)](0xc9)[_0x24370b(0x4cf)](_0x17c9e3);})['post'](this['routerPath']('sendSticker'),..._0x5132cb,async(_0x50296e,_0x33a5c5)=>{const _0x23c738=_0x498868;let _0x13a2ab=await this[_0x23c738(0x305)]({'request':_0x50296e,'schema':ra,'ClassRef':dt,'execute':(_0x33866b,_0x2d43c3)=>K['sendSticker'](_0x33866b,_0x2d43c3)});return _0x33a5c5[_0x23c738(0x46b)](0xc9)[_0x23c738(0x4cf)](_0x13a2ab);});}},Fa=require(a0_0x29cdb8(0x139)),yt=class extends k{constructor(..._0x3ba3c4){const _0xc2ce26=a0_0x29cdb8;super(),this[_0xc2ce26(0x385)]=(0x0,Fa[_0xc2ce26(0x1d0)])(),this['router'][_0xc2ce26(0x2ba)](this[_0xc2ce26(0x18a)](_0xc2ce26(0x2ef)),..._0x3ba3c4,(_0x3ceb90,_0x458570)=>Ba[_0xc2ce26(0x2ef)](_0x3ceb90,_0x458570));}},qa=require(a0_0x29cdb8(0x139)),bt=class{},St=class extends k{constructor(..._0x516825){const _0x295a51=a0_0x29cdb8;super(),this[_0x295a51(0x385)]=(0x0,qa['Router'])(),this[_0x295a51(0x385)][_0x295a51(0x461)](this['routerPath'](_0x295a51(0x39f)),..._0x516825,async(_0x136a19,_0x2391fb)=>{const _0x59692e=_0x295a51;let _0x1ee867=await this[_0x59692e(0x305)]({'request':_0x136a19,'schema':$a,'ClassRef':bt,'execute':(_0x14f7bc,_0x443c89)=>us['createWebhook'](_0x14f7bc,_0x443c89)});_0x2391fb[_0x59692e(0x46b)](0xc9)[_0x59692e(0x4cf)](_0x1ee867);})['get'](this[_0x295a51(0x18a)](_0x295a51(0x35f)),..._0x516825,async(_0x5dc1ba,_0xb5ad29)=>{const _0x4dfbc6=_0x295a51;let _0x4003e0=await this[_0x4dfbc6(0x305)]({'request':_0x5dc1ba,'schema':N,'ClassRef':b,'execute':_0x562541=>us['findWebhook'](_0x562541)});_0xb5ad29['status'](0xc8)[_0x4dfbc6(0x4cf)](_0x4003e0);});}},Ga=require(a0_0x29cdb8(0x139)),h=new C(a0_0x29cdb8(0x481)),Et=class extends k{constructor(..._0x14af1b){const _0x386b0b=a0_0x29cdb8;super(),this[_0x386b0b(0x385)]=(0x0,Ga[_0x386b0b(0x1d0)])(),this['router']['post'](this['routerPath'](_0x386b0b(0x3d7)),..._0x14af1b,async(_0x3def28,_0x5c160a)=>{const _0x2869c8=_0x386b0b;let _0x22332f=_0x3def28[_0x2869c8(0x370)];h[_0x2869c8(0x362)](_0x2869c8(0x368)),h[_0x2869c8(0x362)](_0x2869c8(0x2d2)),h[_0x2869c8(0x362)](_0x3def28['body']);let _0x5317cc=await this[_0x2869c8(0x305)]({'request':_0x3def28,'schema':N,'ClassRef':b,'execute':_0x58c8a2=>R[_0x2869c8(0x2b5)](_0x58c8a2,_0x22332f)});_0x5c160a[_0x2869c8(0x46b)](0xc8)['json'](_0x5317cc);})['get'](this[_0x386b0b(0x18a)](_0x386b0b(0x3d7)),..._0x14af1b,async(_0x5ef748,_0x3077f1)=>{const _0x5d8759=_0x386b0b;let _0x3cf296=await this['dataValidate']({'request':_0x5ef748,'schema':N,'ClassRef':b,'execute':_0x30878c=>R['getScheduleMessage'](_0x30878c)});_0x3077f1[_0x5d8759(0x46b)](0xc8)[_0x5d8759(0x4cf)](_0x3cf296);})[_0x386b0b(0x1de)](this[_0x386b0b(0x18a)](_0x386b0b(0x28e)),..._0x14af1b,async(_0x25c697,_0x2a4105)=>{const _0x20ba31=_0x386b0b;h[_0x20ba31(0x362)]('request\x20received\x20in\x20deleteDoneMessages');let _0x4f616b=await this[_0x20ba31(0x305)]({'request':_0x25c697,'schema':N,'ClassRef':b,'execute':_0x5c7090=>R[_0x20ba31(0x28e)](_0x5c7090)});_0x2a4105['status'](0xc8)[_0x20ba31(0x4cf)](_0x4f616b);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x203)),..._0x14af1b,async(_0x42b312,_0x31a8cd)=>{const _0x337cc3=_0x386b0b;let _0x1ba345=_0x42b312[_0x337cc3(0x370)];h[_0x337cc3(0x362)]('request\x20received\x20in\x20starFlow'),h[_0x337cc3(0x362)](_0x337cc3(0x2d2)),h[_0x337cc3(0x362)](_0x42b312[_0x337cc3(0x370)]);let _0x45098a=await this[_0x337cc3(0x305)]({'request':_0x42b312,'schema':N,'ClassRef':b,'execute':_0x1047ba=>R['startFlow'](_0x1047ba,_0x1ba345)});_0x31a8cd['status'](0xc8)['json'](_0x45098a);})[_0x386b0b(0x2ba)](this[_0x386b0b(0x18a)](_0x386b0b(0x3b3)),..._0x14af1b,async(_0x5c7ec8,_0x1c7876)=>{const _0x101f13=_0x386b0b;h[_0x101f13(0x362)](_0x101f13(0x143));let _0x2a0630=await this[_0x101f13(0x305)]({'request':_0x5c7ec8,'schema':N,'ClassRef':b,'execute':_0x415c66=>R[_0x101f13(0x3b3)](_0x415c66)});_0x1c7876[_0x101f13(0x46b)](0xc8)[_0x101f13(0x4cf)](_0x2a0630);})[_0x386b0b(0x2ba)](this[_0x386b0b(0x18a)](_0x386b0b(0x231)),..._0x14af1b,async(_0x517bcc,_0x22223e)=>{const _0x42fb86=_0x386b0b;h[_0x42fb86(0x362)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x5abf7a=await this[_0x42fb86(0x305)]({'request':_0x517bcc,'schema':N,'ClassRef':b,'execute':_0x2cdbe6=>R[_0x42fb86(0x3b3)](_0x2cdbe6)});_0x22223e[_0x42fb86(0x46b)](0xc8)[_0x42fb86(0x4cf)](_0x5abf7a);})['post'](this[_0x386b0b(0x18a)](_0x386b0b(0x2c9)),..._0x14af1b,async(_0x16d5c2,_0x192643)=>{const _0x1113a1=_0x386b0b;let _0x37029c=_0x16d5c2['body'];h[_0x1113a1(0x362)]('request\x20received\x20in\x20updateAgent'),h[_0x1113a1(0x362)](_0x1113a1(0x2d2)),h['verbose'](_0x16d5c2[_0x1113a1(0x370)]);let _0x4c71a7=await this[_0x1113a1(0x305)]({'request':_0x16d5c2,'schema':N,'ClassRef':b,'execute':_0x58d8fe=>R[_0x1113a1(0x2c9)](_0x58d8fe,_0x37029c)});_0x192643[_0x1113a1(0x46b)](0xc8)[_0x1113a1(0x4cf)](_0x4c71a7);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)]('updateCustomFields'),..._0x14af1b,async(_0x114cf0,_0x38290d)=>{const _0xa7169f=_0x386b0b;let _0x2d0559=_0x114cf0[_0xa7169f(0x370)];h[_0xa7169f(0x362)](_0xa7169f(0x1ce)),h[_0xa7169f(0x362)](_0xa7169f(0x2d2)),h[_0xa7169f(0x362)](_0x114cf0[_0xa7169f(0x370)]);let _0xd0ca31=await this['dataValidate']({'request':_0x114cf0,'schema':N,'ClassRef':b,'execute':_0x792ee8=>R[_0xa7169f(0x61f)](_0x792ee8,_0x2d0559)});_0x38290d[_0xa7169f(0x46b)](0xc8)[_0xa7169f(0x4cf)](_0xd0ca31);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)]('updateFlowConfig'),..._0x14af1b,async(_0x51a183,_0x1c6de0)=>{const _0x8e2c62=_0x386b0b;let _0x25cf6b=_0x51a183[_0x8e2c62(0x370)];h[_0x8e2c62(0x362)](_0x8e2c62(0x3f1)),h[_0x8e2c62(0x362)](_0x8e2c62(0x2d2)),h[_0x8e2c62(0x362)](_0x51a183['body']);let _0x3ae029=await this[_0x8e2c62(0x305)]({'request':_0x51a183,'schema':N,'ClassRef':b,'execute':_0x3f58d5=>R[_0x8e2c62(0x6b8)](_0x3f58d5,_0x25cf6b)});_0x1c6de0[_0x8e2c62(0x46b)](0xc8)[_0x8e2c62(0x4cf)](_0x3ae029);})[_0x386b0b(0x461)](this['routerPath'](_0x386b0b(0x33d)),..._0x14af1b,async(_0x1ebedb,_0x221061)=>{const _0x3f1667=_0x386b0b;let _0x28ec47=_0x1ebedb['body'];h[_0x3f1667(0x362)](_0x3f1667(0x52c)),h[_0x3f1667(0x362)]('request\x20body:\x20'),h[_0x3f1667(0x362)](_0x1ebedb[_0x3f1667(0x370)]);let _0x74f151=await this[_0x3f1667(0x305)]({'request':_0x1ebedb,'schema':N,'ClassRef':b,'execute':_0x2e3962=>R[_0x3f1667(0x33d)](_0x2e3962,_0x28ec47)});_0x221061[_0x3f1667(0x46b)](0xc8)[_0x3f1667(0x4cf)](_0x74f151);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x435)),..._0x14af1b,async(_0x59444a,_0x53703d)=>{const _0x2c52da=_0x386b0b;let _0x22d0a9=_0x59444a['body'];h['verbose'](_0x2c52da(0x1b6)),h['verbose'](_0x2c52da(0x2d2)),h['verbose'](_0x59444a['body']);let _0x39c7ee=await this['dataValidate']({'request':_0x59444a,'schema':N,'ClassRef':b,'execute':_0x27a53c=>R[_0x2c52da(0x435)](_0x27a53c,_0x22d0a9)});_0x53703d[_0x2c52da(0x46b)](0xc8)[_0x2c52da(0x4cf)](_0x39c7ee);})['post'](this[_0x386b0b(0x18a)]('editConversation'),..._0x14af1b,async(_0x260397,_0x22cfc5)=>{const _0x37452c=_0x386b0b;let _0x15202c=_0x260397[_0x37452c(0x370)];h[_0x37452c(0x362)](_0x37452c(0x196)),h[_0x37452c(0x362)](_0x37452c(0x2d2)),h['verbose'](_0x260397['body']);let _0x1d786a=await this[_0x37452c(0x305)]({'request':_0x260397,'schema':N,'ClassRef':b,'execute':_0x2fef51=>R[_0x37452c(0x1a3)](_0x2fef51,_0x15202c)});_0x22cfc5['status'](0xc8)[_0x37452c(0x4cf)](_0x1d786a);})[_0x386b0b(0x1de)](this[_0x386b0b(0x18a)](_0x386b0b(0x268)),..._0x14af1b,async(_0x3fefe6,_0x502aaf)=>{const _0x4d0a24=_0x386b0b;let _0x1ad3f9=_0x3fefe6[_0x4d0a24(0x370)];h[_0x4d0a24(0x362)](_0x4d0a24(0x1bd)),h[_0x4d0a24(0x362)](_0x4d0a24(0x2d2)),h['verbose'](_0x3fefe6[_0x4d0a24(0x370)]);let _0x5c2abe=await this[_0x4d0a24(0x305)]({'request':_0x3fefe6,'schema':N,'ClassRef':b,'execute':_0x274813=>R[_0x4d0a24(0x268)](_0x274813,_0x1ad3f9)});_0x502aaf[_0x4d0a24(0x46b)](0xc8)[_0x4d0a24(0x4cf)](_0x5c2abe);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x314)),..._0x14af1b,async(_0x378f36,_0x124b8d)=>{const _0x397b91=_0x386b0b;let _0x978e3f=_0x378f36[_0x397b91(0x370)];h['verbose'](_0x397b91(0x2f6)),h[_0x397b91(0x362)](_0x397b91(0x2d2)),h[_0x397b91(0x362)](_0x378f36[_0x397b91(0x370)]);let _0x4801fa=await this[_0x397b91(0x305)]({'request':_0x378f36,'schema':N,'ClassRef':b,'execute':_0x4d4c04=>R[_0x397b91(0x3ca)](_0x4d4c04,_0x978e3f)});_0x124b8d['status'](0xc8)[_0x397b91(0x4cf)](_0x4801fa);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x326)),..._0x14af1b,async(_0x62d628,_0x24f041)=>{const _0x1c362a=_0x386b0b;let _0x216064=_0x62d628[_0x1c362a(0x370)];h['verbose'](_0x1c362a(0x6a8)),h['verbose'](_0x1c362a(0x2d2)),h[_0x1c362a(0x362)](_0x62d628[_0x1c362a(0x370)]),delete _0x216064['blocks'],delete _0x216064['variables'],delete _0x216064[_0x1c362a(0x59e)],delete _0x216064['conditions'];let _0x436634=await this['dataValidate']({'request':_0x62d628,'schema':N,'ClassRef':b,'execute':_0x56c849=>R[_0x1c362a(0x648)](_0x56c849,_0x216064)});_0x24f041[_0x1c362a(0x46b)](0xc8)['json'](_0x436634);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x586)),..._0x14af1b,async(_0x31434f,_0x132d65)=>{const _0x265ebb=_0x386b0b;let _0x4ad8b6=_0x31434f['body'];h['verbose'](_0x265ebb(0x6a8)),h[_0x265ebb(0x362)](_0x265ebb(0x2d2)),h['verbose'](_0x31434f['body']);let _0x3c4cc9=await this[_0x265ebb(0x305)]({'request':_0x31434f,'schema':N,'ClassRef':b,'execute':_0x2a83a3=>R[_0x265ebb(0x17b)](_0x2a83a3,_0x4ad8b6)});_0x132d65[_0x265ebb(0x46b)](0xc8)[_0x265ebb(0x4cf)](_0x3c4cc9);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)]('editflowreply'),..._0x14af1b,async(_0x5c72ab,_0x59e6d2)=>{const _0x269cc1=_0x386b0b;let _0x259828=_0x5c72ab[_0x269cc1(0x370)];h['verbose'](_0x269cc1(0x6a8)),h[_0x269cc1(0x362)]('request\x20body:\x20'),h['verbose'](_0x5c72ab['body']);let _0x11de89=await this['dataValidate']({'request':_0x5c72ab,'schema':N,'ClassRef':b,'execute':_0x1742ce=>R[_0x269cc1(0x295)](_0x1742ce,_0x259828)});_0x59e6d2[_0x269cc1(0x46b)](0xc8)[_0x269cc1(0x4cf)](_0x11de89);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)]('editflowvaredit'),..._0x14af1b,async(_0x4b37ba,_0x561a51)=>{const _0x24e311=_0x386b0b;let _0x4579e3=_0x4b37ba[_0x24e311(0x370)];h[_0x24e311(0x362)](_0x24e311(0x6a8)),h[_0x24e311(0x362)](_0x24e311(0x2d2)),h[_0x24e311(0x362)](_0x4b37ba['body']);let _0xf6564a=await this[_0x24e311(0x305)]({'request':_0x4b37ba,'schema':N,'ClassRef':b,'execute':_0x411484=>R[_0x24e311(0x64f)](_0x411484,_0x4579e3)});_0x561a51['status'](0xc8)['json'](_0xf6564a);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x67f)),..._0x14af1b,async(_0x22b1f2,_0x13cc3c)=>{const _0x49af20=_0x386b0b;let _0x202bcd=_0x22b1f2[_0x49af20(0x370)];h[_0x49af20(0x362)](_0x49af20(0x618)),h[_0x49af20(0x362)](_0x49af20(0x2d2)),h[_0x49af20(0x362)](_0x22b1f2[_0x49af20(0x370)]);let _0x26db7c=await this[_0x49af20(0x305)]({'request':_0x22b1f2,'schema':N,'ClassRef':b,'execute':_0x3a6797=>R[_0x49af20(0x32c)](_0x3a6797,_0x202bcd)});_0x13cc3c['status'](0xc8)['json'](_0x26db7c);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)]('editflowcondition'),..._0x14af1b,async(_0x56d6a6,_0x169acb)=>{const _0x568057=_0x386b0b;let _0x532a5d=_0x56d6a6[_0x568057(0x370)];h[_0x568057(0x362)](_0x568057(0x36c)),h['verbose'](_0x568057(0x2d2)),h[_0x568057(0x362)](_0x56d6a6['body']);let _0x1cb7a3=await this['dataValidate']({'request':_0x56d6a6,'schema':N,'ClassRef':b,'execute':_0x25b65c=>R[_0x568057(0x28b)](_0x25b65c,_0x532a5d)});_0x169acb['status'](0xc8)['json'](_0x1cb7a3);})[_0x386b0b(0x461)](this[_0x386b0b(0x18a)](_0x386b0b(0x365)),..._0x14af1b,async(_0x2bc971,_0x368f6f)=>{const _0x1110e5=_0x386b0b;let _0x18d214=_0x2bc971[_0x1110e5(0x370)];h[_0x1110e5(0x362)](_0x1110e5(0x189)),h[_0x1110e5(0x362)](_0x1110e5(0x2d2)),h[_0x1110e5(0x362)](_0x2bc971[_0x1110e5(0x370)]);let _0x49464f=await this[_0x1110e5(0x305)]({'request':_0x2bc971,'schema':N,'ClassRef':b,'execute':_0x294c6b=>R[_0x1110e5(0x333)](_0x294c6b,_0x18d214)});_0x368f6f[_0x1110e5(0x46b)](0xc8)[_0x1110e5(0x4cf)](_0x49464f);})['post'](this[_0x386b0b(0x18a)](_0x386b0b(0x213)),..._0x14af1b,async(_0x983219,_0x193fdd)=>{const _0x4df6e9=_0x386b0b;let _0x255ad1=_0x983219['body'];h[_0x4df6e9(0x362)](_0x4df6e9(0x2a6)),h[_0x4df6e9(0x362)](_0x4df6e9(0x2d2)),h[_0x4df6e9(0x362)](_0x983219[_0x4df6e9(0x370)]);let _0x1f311c=await this[_0x4df6e9(0x305)]({'request':_0x983219,'schema':N,'ClassRef':b,'execute':_0x4aa788=>R[_0x4df6e9(0x159)](_0x4aa788,_0x255ad1)});_0x193fdd[_0x4df6e9(0x46b)](0xc8)[_0x4df6e9(0x4cf)](_0x1f311c);})['delete'](this[_0x386b0b(0x18a)]('deleteflow'),..._0x14af1b,async(_0x56978c,_0x462b33)=>{const _0x51f65d=_0x386b0b;let _0x4d10a0=_0x56978c['body'];h[_0x51f65d(0x362)](_0x51f65d(0x2f6)),h[_0x51f65d(0x362)](_0x51f65d(0x2d2)),h[_0x51f65d(0x362)](_0x56978c[_0x51f65d(0x370)]);let _0x6a07f7=await this[_0x51f65d(0x305)]({'request':_0x56978c,'schema':N,'ClassRef':b,'execute':_0x38d5ed=>R[_0x51f65d(0x57b)](_0x38d5ed,_0x4d10a0)});_0x462b33[_0x51f65d(0x46b)](0xc8)['json'](_0x6a07f7);})[_0x386b0b(0x2ba)](this[_0x386b0b(0x18a)](_0x386b0b(0x57e)),..._0x14af1b,async(_0x47d27c,_0x400a6b)=>{const _0x4ec615=_0x386b0b;h[_0x4ec615(0x362)](_0x4ec615(0x51e));let _0x44880e=await this['dataValidate']({'request':_0x47d27c,'schema':N,'ClassRef':b,'execute':_0x5c0553=>R[_0x4ec615(0x4a4)](_0x5c0553)});_0x400a6b[_0x4ec615(0x46b)](0xc8)[_0x4ec615(0x4cf)](_0x44880e);});}},za=T(require('path')),ee={};function Wa(_0x30a658,_0x38f56c,_0x3b75ce,_0x158189){ee[_0x30a658]||(ee[_0x30a658]={}),ee[_0x30a658][_0x38f56c]={'id':_0x38f56c,'response':_0x3b75ce,'events':_0x158189};}function Ha(_0x3a37f6,_0x2e1477){!ee[_0x3a37f6]||!ee[_0x3a37f6][_0x2e1477]||delete ee[_0x3a37f6][_0x2e1477];}function F(_0x23a97c,_0x50d7d8,_0x4a2154){const _0x2d2716=a0_0x29cdb8;if(!ee[_0x23a97c])return;let _0x2f6de8='data:\x20'+JSON[_0x2d2716(0x199)](_0x4a2154)+'\x0a\x0a';Object[_0x2d2716(0x5ca)](ee[_0x23a97c])[_0x2d2716(0x534)](_0x16d413=>{const _0x5b4b01=_0x2d2716;_0x16d413['events']['includes'](_0x50d7d8)&&_0x16d413[_0x5b4b01(0x622)]['write'](_0x2f6de8);});}function Ka(){const _0x7fd8b9=a0_0x29cdb8;let _0x385531={};for(let _0x256891 in ee)_0x385531[_0x256891]=Object[_0x7fd8b9(0x5ca)](ee[_0x256891])[_0x7fd8b9(0x667)](_0x4bf5c1=>({'id':_0x4bf5c1['id'],'events':_0x4bf5c1['events']}));return _0x385531;}var Qa=require(a0_0x29cdb8(0x34d)),Wo=za['default']['join'](__dirname,a0_0x29cdb8(0x1d5)),Nt=(0x0,vt['Router'])(),Ho=S[a0_0x29cdb8(0x2ba)](a0_0x29cdb8(0x3f8))['TYPE'],ue=[rs,Zs,sa[Ho]];Nt[a0_0x29cdb8(0x2da)](a0_0x29cdb8(0x6c8),vt[a0_0x29cdb8(0x3ec)][a0_0x29cdb8(0x17e)](Wo))[a0_0x29cdb8(0x2ba)](a0_0x29cdb8(0x313),async(_0x1e4960,_0x44b99b)=>{const _0x4bf77f=a0_0x29cdb8;console[_0x4bf77f(0x5aa)](_0x4bf77f(0x3d9));let _0x56c5a5=_0x1e4960[_0x4bf77f(0x2fd)][_0x4bf77f(0x164)],_0x49fffd=(_0x1e4960[_0x4bf77f(0x234)]['events']||'')['split'](','),_0x1bf6c0=(0x0,Qa['v4'])();console[_0x4bf77f(0x5aa)](_0x4bf77f(0x1be),_0x56c5a5),console[_0x4bf77f(0x5aa)](_0x4bf77f(0x57f),_0x49fffd);let _0x498743=S[_0x4bf77f(0x2ba)](_0x4bf77f(0x3f8))[_0x4bf77f(0x50e)],_0x3cc0b5=_0x1e4960['query'][_0x4bf77f(0x5bc)];if(console[_0x4bf77f(0x5aa)]('API\x20Key\x20from\x20Request:',_0x3cc0b5),_0x498743[_0x4bf77f(0x66d)]!==_0x3cc0b5){console[_0x4bf77f(0x5aa)](_0x4bf77f(0x66a));try{let _0x3111b8=await le['auth'][_0x4bf77f(0x35f)](_0x56c5a5);if(console[_0x4bf77f(0x5aa)](_0x4bf77f(0x236),_0x3111b8),!_0x3111b8||_0x3111b8['apikey']!==_0x3cc0b5)return console[_0x4bf77f(0x5aa)](_0x4bf77f(0x317)),_0x44b99b['status'](0x191)['send'](_0x4bf77f(0x2a9));}catch(_0x312a10){return console[_0x4bf77f(0x269)](_0x4bf77f(0x5d2),_0x312a10),_0x44b99b[_0x4bf77f(0x46b)](0x191)['send']('API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.');}}if(!await qe(_0x56c5a5))return _0x44b99b[_0x4bf77f(0x46b)](0x194)[_0x4bf77f(0x17f)](_0x4bf77f(0x1e0));_0x44b99b[_0x4bf77f(0x5fa)](_0x4bf77f(0x2de),'text/event-stream'),_0x44b99b[_0x4bf77f(0x5fa)]('Cache-Control',_0x4bf77f(0x37f)),_0x44b99b[_0x4bf77f(0x5fa)](_0x4bf77f(0x5d9),_0x4bf77f(0x1d2)),_0x44b99b[_0x4bf77f(0x6c7)]();let _0x52f6d2=_0x4bf77f(0x131)+JSON[_0x4bf77f(0x199)]({'info':_0x4bf77f(0x50d)})+'\x0a\x0a';_0x44b99b[_0x4bf77f(0x187)](_0x52f6d2),Wa(_0x56c5a5,_0x1bf6c0,_0x44b99b,_0x49fffd),_0x1e4960['on'](_0x4bf77f(0x36f),()=>{const _0x17a369=_0x4bf77f;console[_0x17a369(0x5aa)]('Connection\x20closed\x20for\x20instance:\x20'+_0x56c5a5),Ha(_0x56c5a5,_0x1bf6c0);});}),Nt[a0_0x29cdb8(0x2ba)](a0_0x29cdb8(0x1fe),(_0x34bf93,_0x23bb9b)=>{const _0x1152fb=a0_0x29cdb8;let _0x199e91=Ka();_0x23bb9b[_0x1152fb(0x4cf)](_0x199e91);})['get']('/',(_0x15f751,_0x23773d)=>{const _0x5064a0=a0_0x29cdb8;let _0x20a7f1=S[_0x5064a0(0x2ba)](_0x5064a0(0x5cd)),_0x1a8a6b=_0x20a7f1&&_0x20a7f1[_0x5064a0(0x2c2)][_0x5064a0(0x6a9)]('/')[0x4];if(_0x1a8a6b){let _0x3035fa=encodeURIComponent('https://'+_0x1a8a6b);_0x23773d[_0x5064a0(0x289)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x3035fa);}else _0x23773d[_0x5064a0(0x289)](_0x5064a0(0x2cb));})[a0_0x29cdb8(0x371)](a0_0x29cdb8(0x44f),...ue,async(_0xd62164,_0x5dd987)=>{const _0x3a33a2=a0_0x29cdb8;try{console[_0x3a33a2(0x5aa)]('Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit'),_0x5dd987[_0x3a33a2(0x46b)](0xc8)['json']({'message':_0x3a33a2(0x310)}),_0x5dd987['on'](_0x3a33a2(0x621),()=>process[_0x3a33a2(0x3c9)](0x0));}catch(_0x592796){console[_0x3a33a2(0x269)](_0x3a33a2(0x429),_0x592796),_0x5dd987[_0x3a33a2(0x46b)](0x1f4)[_0x3a33a2(0x4cf)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x29cdb8(0x2da)](a0_0x29cdb8(0x38a),new nt(S,...ue)[a0_0x29cdb8(0x385)],new yt(rs)['router'])['use'](a0_0x29cdb8(0x3b7),new wt(...ue)['router'])[a0_0x29cdb8(0x2da)](a0_0x29cdb8(0x2b4),new ze(...ue)[a0_0x29cdb8(0x385)])[a0_0x29cdb8(0x2da)](a0_0x29cdb8(0x3bc),new ot(...ue)['router'])[a0_0x29cdb8(0x2da)](a0_0x29cdb8(0x4f1),new St(...ue)[a0_0x29cdb8(0x385)])['use'](a0_0x29cdb8(0x105),new Et(...ue)[a0_0x29cdb8(0x385)]);var g=class{constructor(..._0x4062b7){const _0xc71fd4=a0_0x29cdb8;throw{'status':0x190,'error':_0xc71fd4(0x1c4),'message':_0x4062b7[_0xc71fd4(0x206)]>0x0?_0x4062b7:void 0x0};}},ie=class{constructor(..._0x3d128e){const _0x5534a5=a0_0x29cdb8;throw{'status':0x191,'error':_0x5534a5(0x5ae),'message':_0x3d128e[_0x5534a5(0x206)]>0x0?_0x3d128e:void 0x0};}},oe=class{constructor(..._0xdc25c3){const _0x652afe=a0_0x29cdb8;throw{'status':0x193,'error':_0x652afe(0x155),'message':_0xdc25c3['length']>0x0?_0xdc25c3:void 0x0};}},x=class{constructor(..._0x950fde){const _0x157d7e=a0_0x29cdb8;throw{'status':0x194,'error':_0x157d7e(0x239),'message':_0x950fde[_0x157d7e(0x206)]>0x0?_0x950fde:void 0x0};}},A=class{constructor(..._0x420735){const _0x49e925=a0_0x29cdb8;throw{'status':0x1f4,'error':_0x49e925(0x6bc),'message':_0x420735[_0x49e925(0x206)]>0x0?_0x420735:void 0x0};}},de=require(a0_0x29cdb8(0x6a2));async function ds(_0x1acf0c){const _0x495d26=a0_0x29cdb8;let _0x7a157b=new C(ds['name']),_0x2fe79a=M[_0x495d26(0x395)](),_0x5624a6=_0x2fe79a['db'](S[_0x495d26(0x2ba)](_0x495d26(0x30a))[_0x495d26(0x4bf)]['DB_PREFIX_NAME']+'-instances')[_0x495d26(0x348)](_0x1acf0c),_0x190021=async(_0x499884,_0x4b2ba6)=>{const _0xb98152=_0x495d26;try{return await _0x2fe79a[_0xb98152(0x247)](),await _0x5624a6[_0xb98152(0x665)]({'_id':_0x4b2ba6},JSON[_0xb98152(0x453)](JSON['stringify'](_0x499884,de[_0xb98152(0x2a1)][_0xb98152(0x4e8)])),{'upsert':!0x0});}catch{}},_0x3ce0cb=async _0xd41f9d=>{const _0x4f3786=_0x495d26;try{await _0x2fe79a['connect']();let _0x549dd9=await _0x5624a6[_0x4f3786(0x4be)]({'_id':_0xd41f9d}),_0x43fd3a=JSON[_0x4f3786(0x199)](_0x549dd9);return JSON[_0x4f3786(0x453)](_0x43fd3a,de[_0x4f3786(0x2a1)]['reviver']);}catch{}},_0x478ae7=async _0x35ce57=>{const _0x4748ed=_0x495d26;try{return await _0x2fe79a[_0x4748ed(0x247)](),await _0x5624a6[_0x4748ed(0x23e)]({'_id':_0x35ce57});}catch{}},_0x22edaa=await _0x3ce0cb(_0x495d26(0x336))||(0x0,de[_0x495d26(0x54d)])();return{'state':{'creds':_0x22edaa,'keys':{'get':async(_0x3bb832,_0x942602)=>{const _0x3c2076=_0x495d26;let _0x98978b={};return await Promise[_0x3c2076(0x19d)](_0x942602[_0x3c2076(0x667)](async _0x43a6c5=>{const _0x1c451c=_0x3c2076;let _0x31c40c=await _0x3ce0cb(_0x3bb832+'-'+_0x43a6c5);_0x3bb832===_0x1c451c(0x41b)&&_0x31c40c&&(_0x31c40c=de['proto'][_0x1c451c(0x3ed)][_0x1c451c(0x40d)][_0x1c451c(0x62c)](_0x31c40c)),_0x98978b[_0x43a6c5]=_0x31c40c;})),_0x98978b;},'set':async _0x511d2a=>{const _0x2ad508=_0x495d26;let _0x4900a3=[];for(let _0x546343 in _0x511d2a)for(let _0x4492d2 in _0x511d2a[_0x546343]){let _0x16ae13=_0x511d2a[_0x546343][_0x4492d2],_0x431667=_0x546343+'-'+_0x4492d2;_0x4900a3[_0x2ad508(0x20a)](_0x16ae13?_0x190021(_0x16ae13,_0x431667):_0x478ae7(_0x431667));}await Promise[_0x2ad508(0x19d)](_0x4900a3);}}},'saveCreds':async()=>_0x190021(_0x22edaa,_0x495d26(0x336))};}var gs=T(require(a0_0x29cdb8(0x574))),ms=T(require(a0_0x29cdb8(0x697))),Rt=require('@whiskeysockets/baileys'),Ya=require(a0_0x29cdb8(0x263)),Tt=require(a0_0x29cdb8(0x6a2)),Ct;function Ko(_0x3621ad){const _0x6276c3=a0_0x29cdb8;return Ct||(Ct=(0x0,Ya['createClient'])({'url':_0x3621ad[_0x6276c3(0x6d3)]}),Ct[_0x6276c3(0x247)]()),Ct;}var ne=class c{constructor(_0x117e19,_0x2f16b7){const _0x12de2e=a0_0x29cdb8;this['redisEnv']=_0x117e19,this['instanceName']=_0x2f16b7,this[_0x12de2e(0x596)]=new C(c[_0x12de2e(0x208)]),this[_0x12de2e(0x16a)]=Ko(_0x117e19);}set[a0_0x29cdb8(0x17c)](_0x726e6){const _0x464f63=a0_0x29cdb8;this[_0x464f63(0x63f)]=_0x726e6;}async[a0_0x29cdb8(0x5a9)](){const _0x1432d5=a0_0x29cdb8;try{return await this[_0x1432d5(0x16a)][_0x1432d5(0x4fc)](['keys',this[_0x1432d5(0x685)][_0x1432d5(0x660)]+':*']);}catch(_0x4b2673){this['logger']['error'](_0x4b2673);}}async[a0_0x29cdb8(0x410)](_0x577f49,_0x12adf0){const _0x30ca12=a0_0x29cdb8;try{let _0x5e26df=JSON[_0x30ca12(0x199)](_0x12adf0,Tt[_0x30ca12(0x2a1)]['replacer']);return await this['client']['hSet'](this[_0x30ca12(0x685)]['PREFIX_KEY']+':'+this['instanceName'],_0x577f49,_0x5e26df);}catch(_0x12542f){this[_0x30ca12(0x596)]['error'](_0x12542f);}}async['getAllData'](){const _0x139f80=a0_0x29cdb8;try{let _0x114a14=await this[_0x139f80(0x16a)]['hGetAll'](this[_0x139f80(0x685)][_0x139f80(0x660)]+':'+this[_0x139f80(0x63f)]);if(_0x114a14){for(let _0x2bcf86 in _0x114a14)Object[_0x139f80(0x272)][_0x139f80(0x3ce)]['call'](_0x114a14,_0x2bcf86)&&(_0x114a14[_0x2bcf86]=JSON[_0x139f80(0x453)](_0x114a14[_0x2bcf86],Tt[_0x139f80(0x2a1)][_0x139f80(0x335)]));return _0x114a14;}}catch(_0x4142fc){this[_0x139f80(0x596)][_0x139f80(0x269)](_0x4142fc);}}async[a0_0x29cdb8(0x683)](_0x1951da){const _0x42a78f=a0_0x29cdb8;try{let _0x466900=await this['client'][_0x42a78f(0x46e)](this[_0x42a78f(0x685)][_0x42a78f(0x660)]+':'+this[_0x42a78f(0x63f)],_0x1951da);if(_0x466900)return JSON[_0x42a78f(0x453)](_0x466900,Tt[_0x42a78f(0x2a1)][_0x42a78f(0x335)]);}catch(_0x13dc40){this[_0x42a78f(0x596)][_0x42a78f(0x269)](_0x13dc40);}}async[a0_0x29cdb8(0x604)](_0x55182f){const _0x497c62=a0_0x29cdb8;try{return await this[_0x497c62(0x16a)][_0x497c62(0x5f3)](this[_0x497c62(0x685)]['PREFIX_KEY']+':'+this['instanceName'],_0x55182f);}catch(_0x30c7fb){this['logger'][_0x497c62(0x269)](_0x30c7fb);}}async[a0_0x29cdb8(0x4c0)](_0x454392){const _0x27ac2e=a0_0x29cdb8;try{return await this[_0x27ac2e(0x16a)][_0x27ac2e(0x6ae)](_0x454392||this[_0x27ac2e(0x685)]['PREFIX_KEY']+':'+this[_0x27ac2e(0x63f)]);}catch(_0x3de9ec){this['logger'][_0x27ac2e(0x269)](_0x3de9ec);}}};async function ps(_0xb74905,_0x21780b){const _0x5c38d5=a0_0x29cdb8;let _0x512d56=new C(ps[_0x5c38d5(0x208)]),_0x180f86=new ne(_0xb74905,_0x21780b),_0x4bfa85=async(_0x2fd686,_0x321158)=>{const _0x5eceeb=_0x5c38d5;try{return await _0x180f86[_0x5eceeb(0x410)](_0x321158,_0x2fd686);}catch(_0x519b01){return _0x512d56[_0x5eceeb(0x269)]({'localError':'writeData','error':_0x519b01});}},_0x29fe26=async _0x10cf2f=>{const _0x102814=_0x5c38d5;try{return await _0x180f86[_0x102814(0x683)](_0x10cf2f);}catch(_0x5e8157){_0x512d56['error']({'readData':_0x102814(0x410),'error':_0x5e8157});return;}},_0x5f1d15=async _0x36dcd9=>{const _0x18fe63=_0x5c38d5;try{return await _0x180f86[_0x18fe63(0x604)](_0x36dcd9);}catch(_0x333bb3){_0x512d56[_0x18fe63(0x269)]({'readData':_0x18fe63(0x604),'error':_0x333bb3});}},_0x34e6bd=await _0x29fe26(_0x5c38d5(0x336))||(0x0,Rt[_0x5c38d5(0x54d)])();return{'state':{'creds':_0x34e6bd,'keys':{'get':async(_0x2b1914,_0x42d7bf)=>{const _0x1f629f=_0x5c38d5;let _0x25d164={};return await Promise[_0x1f629f(0x19d)](_0x42d7bf['map'](async _0x2590b2=>{const _0x247d43=_0x1f629f;let _0x57054b=await _0x29fe26(_0x2b1914+'-'+_0x2590b2);_0x2b1914===_0x247d43(0x41b)&&_0x57054b&&(_0x57054b=Rt[_0x247d43(0x649)][_0x247d43(0x3ed)][_0x247d43(0x40d)]['fromObject'](_0x57054b)),_0x25d164[_0x2590b2]=_0x57054b;})),_0x25d164;},'set':async _0x3174f4=>{const _0x5dc394=_0x5c38d5;let _0x3101f7=[];for(let _0x41380e in _0x3174f4)for(let _0x3f3bf3 in _0x3174f4[_0x41380e]){let _0xa0a70d=_0x3174f4[_0x41380e][_0x3f3bf3],_0x3a45a8=_0x41380e+'-'+_0x3f3bf3;_0x3101f7[_0x5dc394(0x20a)](_0xa0a70d?await _0x4bfa85(_0xa0a70d,_0x3a45a8):await _0x5f1d15(_0x3a45a8));}await Promise[_0x5dc394(0x19d)](_0x3101f7);}}},'saveCreds':async()=>await _0x4bfa85(_0x34e6bd,_0x5c38d5(0x336))};}var P=T(require('fs')),It=require('uuid'),Ot=T(require(a0_0x29cdb8(0x245)));function G(_0x3078da){const _0x3dc169=a0_0x29cdb8;if(_0x3078da[_0x3dc169(0x4d3)]||_0x3078da[_0x3dc169(0x6b3)]){let _0x53d2bb=_0x3078da['viewOnceMessage']?_0x3078da[_0x3dc169(0x4d3)][_0x3dc169(0x68d)]:_0x3078da[_0x3dc169(0x6b3)][_0x3dc169(0x68d)];return(0x0,w['getContentType'])(_0x53d2bb);}return _0x3078da[_0x3dc169(0x1e8)]?_0x3dc169(0x1e8):_0x3078da[_0x3dc169(0x657)]?_0x3dc169(0x657):(0x0,w[_0x3dc169(0x4c7)])(_0x3078da);}var ye=class c{constructor(_0x54f528,_0x47148e,_0xbc073e){const _0x120a3e=a0_0x29cdb8;this['configService']=_0x54f528,this[_0x120a3e(0x151)]=_0x47148e,this[_0x120a3e(0x29f)]=_0xbc073e,this['AutomateSystem']=null,this['logger']=new C(c[_0x120a3e(0x208)]),this['instance']={},this[_0x120a3e(0x381)]={},this[_0x120a3e(0x11b)]={'state':_0x120a3e(0x36f)},this['storePath']=(0x0,$['join'])(Q,'downloads'),this[_0x120a3e(0x401)]=new ms['default'](),this[_0x120a3e(0x523)]=new ms[(_0x120a3e(0x3ec))](),this[_0x120a3e(0x535)]=!0x1,this[_0x120a3e(0x177)]={'status.instance':_0x120a3e(0x1a7),'qrcode.updated':_0x120a3e(0x1b5),'messages.upsert':'/wa-message','messages.update':_0x120a3e(0x104),'send.message':_0x120a3e(0x4ca),'group.upsert':_0x120a3e(0x4ce),'group.update':_0x120a3e(0x4ce),'group-participants.update':_0x120a3e(0x4ce),'connection.update':'/wa-connection-update','messages.set':'/wa-message','contacts.set':_0x120a3e(0x679),'contacts.upsert':_0x120a3e(0x679),'contacts.update':_0x120a3e(0x679),'presence.update':_0x120a3e(0x26a),'chats.set':'/wa-chats','chats.update':_0x120a3e(0x45c),'chats.upsert':_0x120a3e(0x45c),'chats.delete':'/wa-chats'},this[_0x120a3e(0x445)]=0x0,this['reconnectTimestamps']=[],this[_0x120a3e(0x28c)]=0xf,this[_0x120a3e(0x5ad)]=0x7530,this[_0x120a3e(0x681)]=!0x1,this[_0x120a3e(0x528)]={'chats.upsert':async(_0x5990ab,_0x3e7ba0)=>{const _0x2b9582=_0x120a3e;let _0x4df907=[];for await(let _0x164ec2 of _0x5990ab)_0x4df907[_0x2b9582(0x20a)]({'_id':_0x164ec2['id'],'owner':this[_0x2b9582(0x164)][_0x2b9582(0x242)],'group':_0x164ec2['id'][_0x2b9582(0x341)](_0x2b9582(0x5b6)),'name':_0x164ec2['name']||_0x164ec2[_0x2b9582(0x69b)]||null,'contactname':null,'lastmsg':_0x164ec2['conversationTimestamp']&&_0x164ec2[_0x2b9582(0x48d)]['toString']()[_0x2b9582(0x206)]<0xd?_0x164ec2[_0x2b9582(0x48d)]*0x3e8:_0x164ec2['conversationTimestamp']||null,'archived':_0x164ec2[_0x2b9582(0x1c1)]||!0x1,'unreadcount':_0x164ec2[_0x2b9582(0x211)]||0x0});this[_0x2b9582(0x2bf)](_0x2b9582(0x2a4),_0x4df907);},'chats.update':async(_0x2ea268,_0x7b73b7)=>{const _0x189002=_0x120a3e;for(let _0x3e3110 of _0x2ea268){let _0x2f1d96={'_id':_0x3e3110['id'],'owner':this[_0x189002(0x164)][_0x189002(0x242)],'group':_0x3e3110['id'][_0x189002(0x341)](_0x189002(0x5b6)),'name':_0x3e3110[_0x189002(0x208)]||_0x3e3110[_0x189002(0x69b)],'archived':_0x3e3110[_0x189002(0x1c1)]},_0x2618ab=!0x1,_0x340a98={};_0x2f1d96[_0x189002(0x1c1)]!=null&&(this[_0x189002(0x596)][_0x189002(0x362)](this[_0x189002(0x63f)]+'\x20('+this['instance'][_0x189002(0x242)]+_0x189002(0x149)+_0x3e3110[_0x189002(0x1c1)]),_0x2618ab=!0x0,_0x340a98[_0x189002(0x1c1)]=_0x3e3110[_0x189002(0x1c1)]),_0x3e3110['name']!=null&&(this[_0x189002(0x596)][_0x189002(0x362)](this[_0x189002(0x63f)]+'\x20('+this[_0x189002(0x164)][_0x189002(0x242)]+_0x189002(0x589)+_0x3e3110[_0x189002(0x208)]),_0x2618ab=!0x0,_0x340a98[_0x189002(0x208)]=_0x3e3110[_0x189002(0x208)]),_0x3e3110[_0x189002(0x69b)]!=null&&(this[_0x189002(0x596)][_0x189002(0x362)](this[_0x189002(0x63f)]+'\x20('+this[_0x189002(0x164)][_0x189002(0x242)]+_0x189002(0x2f8)+_0x3e3110[_0x189002(0x69b)]),_0x2618ab=!0x0,_0x340a98[_0x189002(0x208)]=_0x3e3110['displayName']);let _0x3a1ed3;_0x2618ab&&(_0x3a1ed3=await this[_0x189002(0x29f)]['chat'][_0x189002(0x50b)]({'where':{'_id':_0x3e3110['id'],'owner':this['instance']['wuid']}},_0x340a98)),_0x3a1ed3&&F(this['instanceName'],_0x189002(0x6c3),{'chat':_0x3a1ed3});}},'chats.delete':async _0x562e0d=>{const _0x250798=_0x120a3e;this[_0x250798(0x2bf)]('chats.delete',[..._0x562e0d]);}},this['contactHandle']={'contacts.upsert':async(_0x1ffdd3,_0x39f9db)=>{const _0x5cd2b6=_0x120a3e;let _0xbea8d6=await this['repository']['contact']['find']({'where':{'owner':this[_0x5cd2b6(0x164)][_0x5cd2b6(0x242)]}}),_0x341c2d=[];for await(let _0x49ae70 of _0x1ffdd3)_0xbea8d6[_0x5cd2b6(0x35f)](_0x534f5d=>_0x534f5d['_id']===_0x49ae70['id'])||_0x341c2d[_0x5cd2b6(0x20a)]({'_id':_0x49ae70['id'],'pushName':_0x49ae70?.[_0x5cd2b6(0x208)]||_0x49ae70?.['verifiedName'],'owner':this[_0x5cd2b6(0x164)][_0x5cd2b6(0x242)]});this[_0x5cd2b6(0x2bf)]('contacts.upsert',_0x341c2d),await this[_0x5cd2b6(0x29f)][_0x5cd2b6(0x384)][_0x5cd2b6(0x5b3)](_0x341c2d);},'contacts.update':async(_0x2eae52,_0x3e2a5d)=>{const _0x26ccb3=_0x120a3e;let _0x5667f8=[];for await(let _0xbd4745 of _0x2eae52)_0x5667f8[_0x26ccb3(0x20a)]({'_id':_0xbd4745['id'],'pushName':_0xbd4745?.[_0x26ccb3(0x208)]??_0xbd4745?.[_0x26ccb3(0x57c)],'owner':this[_0x26ccb3(0x164)][_0x26ccb3(0x242)]});this[_0x26ccb3(0x2bf)](_0x26ccb3(0x32b),_0x5667f8);}},this[_0x120a3e(0x1e2)]={'messaging-history.set':async({messages:_0x30f14d,chats:_0x106593,isLatest:_0x1d5e10},_0x49a746)=>{const _0x105979=_0x120a3e;if(_0x1d5e10){let _0x32e76e=await Promise[_0x105979(0x19d)](_0x106593[_0x105979(0x667)](async _0xba019c=>({'_id':_0xba019c['id'],'owner':this[_0x105979(0x164)]['wuid'],'group':_0xba019c['id'][_0x105979(0x341)](_0x105979(0x5b6)),'name':_0xba019c[_0x105979(0x208)]||_0xba019c[_0x105979(0x69b)]||null,'contactname':null,'lastmsg':_0xba019c[_0x105979(0x48d)]&&_0xba019c[_0x105979(0x48d)]['toString']()[_0x105979(0x206)]<0xd?_0xba019c[_0x105979(0x48d)]*0x3e8:_0xba019c['conversationTimestamp']||null,'archived':_0xba019c[_0x105979(0x1c1)]||!0x1,'unreadcount':_0xba019c['unreadCount']||0x0})));this[_0x105979(0x2bf)](_0x105979(0x41f),_0x32e76e),await this['upsertChats'](_0x32e76e,_0x49a746);}let _0x95950b=[],_0x338c81=Date[_0x105979(0x271)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x6f0221]of Object[_0x105979(0x340)](_0x30f14d)){if(_0x6f0221['message']?.[_0x105979(0x4aa)]||_0x6f0221['message']?.[_0x105979(0x1ca)]||!_0x6f0221[_0x105979(0x68d)]||_0x6f0221[_0x105979(0x4db)][_0x105979(0x157)]===_0x105979(0x1f0)||(gs[_0x105979(0x3ec)]['isLong'](_0x6f0221?.['messageTimestamp'])&&(_0x6f0221['messageTimestamp']=_0x6f0221[_0x105979(0x366)]?.['toNumber']()),_0x6f0221[_0x105979(0x366)]&&_0x6f0221['messageTimestamp'][_0x105979(0x47a)]()[_0x105979(0x206)]<0xd&&(_0x6f0221['messageTimestamp']=_0x6f0221['messageTimestamp']*0x3e8),_0x6f0221[_0x105979(0x366)]<_0x338c81))continue;let {message_normalized:_0x5f38ff}=this[_0x105979(0x2b7)](_0x6f0221[_0x105979(0x68d)],G(_0x6f0221[_0x105979(0x68d)]),null);Object[_0x105979(0x613)](_0x5f38ff)[_0x105979(0x206)]>0x0&&_0x95950b['push']({'_id':_0x6f0221['key']['id'],'key':_0x6f0221['key'],'pushName':_0x6f0221[_0x105979(0x351)],'participant':_0x6f0221['participant'],'message':{..._0x6f0221[_0x105979(0x68d)]},'messageType':G(_0x6f0221['message']),'message_normalized':{'key':_0x6f0221[_0x105979(0x4db)],'pushName':_0x6f0221[_0x105979(0x351)],'messageTimestamp':_0x6f0221[_0x105979(0x366)],..._0x5f38ff},'messageTimestamp':_0x6f0221[_0x105979(0x366)],'owner':this[_0x105979(0x164)][_0x105979(0x242)]});}_0x49a746[_0x105979(0x522)]&&_0x95950b['length']>0x0&&(this['logger'][_0x105979(0x362)](this[_0x105979(0x63f)]+'\x20('+this[_0x105979(0x164)]['wuid']+_0x105979(0x2f1)+_0x95950b['length']+_0x105979(0x53e)+this[_0x105979(0x164)][_0x105979(0x242)]+_0x105979(0x393)),await this[_0x105979(0x29f)][_0x105979(0x68d)][_0x105979(0x5b3)]([..._0x95950b])),this['sendDataWebhook'](_0x105979(0x472),[..._0x95950b]),_0x30f14d=void 0x0;},'messages.upsert':async({messages:_0x504b9f,type:_0x61db43},_0x583613)=>{const _0x134538=_0x120a3e;let _0x2fac64=_0x504b9f[0x0];if(_0x61db43!==_0x134538(0x510)||!_0x2fac64?.['message']||_0x2fac64[_0x134538(0x68d)]?.[_0x134538(0x4aa)]||_0x2fac64[_0x134538(0x68d)][_0x134538(0x1ca)]||_0x2fac64[_0x134538(0x4db)]['remoteJid']==='status@broadcast')return;let _0x473c29=null,_0x44ab86=null;try{_0x473c29=await this[_0x134538(0x44b)](_0x2fac64),_0x44ab86=_0x473c29?_0x473c29[_0x134538(0x327)](','):null;}catch(_0x10a08f){this[_0x134538(0x596)][_0x134538(0x362)](this[_0x134538(0x63f)]+'\x20('+this['instance'][_0x134538(0x242)]+'):\x20'+JSON[_0x134538(0x199)](_0x10a08f,null,0x2)),_0x44ab86=_0x134538(0x175);}if(this[_0x134538(0x16a)][_0x134538(0x431)]('unavailable'),gs[_0x134538(0x3ec)][_0x134538(0x506)](_0x2fac64[_0x134538(0x366)])&&(_0x2fac64['messageTimestamp']=_0x2fac64[_0x134538(0x366)]?.[_0x134538(0x3f2)]()),this[_0x134538(0x381)]?.[_0x134538(0x494)]&&_0x2fac64[_0x134538(0x4db)][_0x134538(0x157)][_0x134538(0x386)](_0x134538(0x5b6))){this[_0x134538(0x596)][_0x134538(0x362)]('group\x20ignored');return;}_0x2fac64[_0x134538(0x366)]&&_0x2fac64[_0x134538(0x366)][_0x134538(0x47a)]()[_0x134538(0x206)]<0xd&&(_0x2fac64[_0x134538(0x366)]=_0x2fac64['messageTimestamp']*0x3e8);let _0x39235a=_0x2fac64[_0x134538(0x68d)],{messageContent:_0x3d49ca,message_normalized:_0x3bc039}=this[_0x134538(0x2b7)](_0x39235a,G(_0x2fac64[_0x134538(0x68d)]),_0x44ab86);_0x3d49ca||console[_0x134538(0x269)](_0x134538(0x58c));let _0x5d4070={'_id':_0x2fac64[_0x134538(0x4db)]['id'],'key':_0x2fac64[_0x134538(0x4db)],'pushName':_0x2fac64[_0x134538(0x351)],'message':{..._0x2fac64['message']},'messageType':G(_0x2fac64[_0x134538(0x68d)]),'message_normalized':{'key':_0x2fac64[_0x134538(0x4db)],'pushName':_0x2fac64[_0x134538(0x351)],'messageTimestamp':_0x2fac64['messageTimestamp'],'source':(0x0,w[_0x134538(0x407)])(_0x2fac64['key']['id']),..._0x3bc039},'messageTimestamp':_0x2fac64[_0x134538(0x366)],'owner':this[_0x134538(0x164)]['wuid']};this['logger'][_0x134538(0x5aa)](_0x5d4070),await this[_0x134538(0x29f)][_0x134538(0x68d)][_0x134538(0x5b3)]([_0x5d4070]),this[_0x134538(0x2bf)](_0x134538(0x2a2),_0x5d4070),F(this[_0x134538(0x63f)],_0x134538(0x1f8),{'message':_0x5d4070}),_0x2fac64[_0x134538(0x4db)][_0x134538(0x157)]!=='status@broadcast'&&await this[_0x134538(0x33f)](_0x583613,_0x5d4070,_0x134538(0x572));},'messages.update':async(_0x147584,_0x40e9b5)=>{const _0x3caf10=_0x120a3e;let _0x3ec43b={0x0:_0x3caf10(0x180),0x1:_0x3caf10(0x4e6),0x2:'SERVER_ACK',0x3:_0x3caf10(0x503),0x4:_0x3caf10(0x62d),0x5:_0x3caf10(0x2fb)};for await(let {key:_0x5bc4d1,update:_0x886c98}of _0x147584){if(this[_0x3caf10(0x381)]?.[_0x3caf10(0x494)]&&_0x5bc4d1[_0x3caf10(0x157)]['includes'](_0x3caf10(0x5b6))){this[_0x3caf10(0x596)][_0x3caf10(0x362)](_0x3caf10(0x590));return;}if(_0x5bc4d1[_0x3caf10(0x157)]!=='status@broadcast'){let _0x2ef912=Date[_0x3caf10(0x271)](),_0x14592a;_0x886c98[_0x3caf10(0x68d)]===null&&_0x886c98[_0x3caf10(0x46b)]===void 0x0?_0x14592a=_0x3caf10(0x2ca):_0x14592a=_0x3ec43b[_0x886c98[_0x3caf10(0x46b)]];let _0x25c61f=_0x5bc4d1[_0x3caf10(0x157)][_0x3caf10(0x6bd)](/:\d{1,2}@/g,'@'),_0x4cf430={..._0x5bc4d1,'remoteJid':_0x25c61f,'status':_0x14592a,'datetime':_0x2ef912,'owner':this[_0x3caf10(0x164)][_0x3caf10(0x242)]};this[_0x3caf10(0x2bf)](_0x3caf10(0x422),_0x4cf430),await this[_0x3caf10(0x579)](_0x5bc4d1,_0x25c61f,_0x4cf430);}}}},this[_0x120a3e(0x56b)]={'groups.upsert':_0x56d08a=>{const _0x33dab5=_0x120a3e;this[_0x33dab5(0x2bf)](_0x33dab5(0x43e),_0x56d08a);},'groups.update':_0x3a7093=>{const _0x3bd13e=_0x120a3e;this[_0x3bd13e(0x2bf)](_0x3bd13e(0x537),_0x3a7093);},'group-participants.update':_0x332a59=>{const _0x22f81d=_0x120a3e;this[_0x22f81d(0x2bf)](_0x22f81d(0x52b),_0x332a59);}},this[_0x120a3e(0x44b)]=async _0x1b903f=>{const _0x3be7cc=_0x120a3e;if(_0x1b903f['message']?.[_0x3be7cc(0x1fb)]){let _0x56b8d1=await this[_0x3be7cc(0x60e)](_0x1b903f[_0x3be7cc(0x68d)][_0x3be7cc(0x1fb)]['pollCreationMessageKey'],!0x0);if(_0x56b8d1){let _0x1dea67=_0x56b8d1['key'][_0x3be7cc(0x56f)]?this[_0x3be7cc(0x164)][_0x3be7cc(0x242)]+'@s.whatsapp.net':_0x56b8d1[_0x3be7cc(0x4db)][_0x3be7cc(0x147)]||_0x56b8d1['key'][_0x3be7cc(0x157)],_0x158fc8=_0x56b8d1[_0x3be7cc(0x4db)]['id'],_0x50429a=_0x56b8d1['message'],_0x7bb38b=Buffer[_0x3be7cc(0x1ae)](_0x50429a['messageContextInfo'][_0x3be7cc(0x21c)][_0x3be7cc(0x47a)](_0x3be7cc(0x115)),'hex'),_0x38bba0=(0x0,w[_0x3be7cc(0x6d0)])(_0x1b903f[_0x3be7cc(0x68d)]['pollUpdateMessage'][_0x3be7cc(0x202)],{'pollCreatorJid':_0x1dea67,'pollMsgId':_0x158fc8,'pollEncKey':_0x7bb38b,'voterJid':_0x1b903f[_0x3be7cc(0x4db)][_0x3be7cc(0x56f)]?this['instance'][_0x3be7cc(0x242)]+_0x3be7cc(0x1c6):_0x1b903f['key'][_0x3be7cc(0x157)][_0x3be7cc(0x341)]('g.us')?_0x1b903f[_0x3be7cc(0x4db)]['participant']:_0x1b903f[_0x3be7cc(0x4db)]['remoteJid']}),_0xb5268a=[],_0x42a530=_0x38bba0[_0x3be7cc(0x6cc)][_0x3be7cc(0x667)](_0x4b5ce7=>Buffer[_0x3be7cc(0x1ae)](_0x4b5ce7)[_0x3be7cc(0x47a)](_0x3be7cc(0x115)));for(let {optionName:_0x2f57eb}of _0x50429a['pollCreationMessage']?.[_0x3be7cc(0xec)]||_0x50429a[_0x3be7cc(0x1e8)]?.[_0x3be7cc(0xec)]||_0x50429a[_0x3be7cc(0x657)]?.['options'])_0x42a530['indexOf']((0x0,w['sha256'])(Buffer['from'](_0x2f57eb))[_0x3be7cc(0x47a)](_0x3be7cc(0x115)))>-0x1&&_0xb5268a['push'](_0x2f57eb);return _0xb5268a;}}return null;},this[_0x120a3e(0x2b7)]=(_0x4e9523,_0x296fcf,_0x4c9d2f)=>{const _0x4cd633=_0x120a3e;let _0x2e4713=_0x296fcf?_0x4e9523[_0x296fcf]:void 0x0,_0x283954={},_0x46ad54=null,_0x4187ae=null,_0x4a91f1=null;if(_0x4e9523[_0x4cd633(0x6b3)]?_0x2e4713=_0x4e9523[_0x4cd633(0x6b3)][_0x4cd633(0x68d)][_0x296fcf]:_0x4e9523[_0x4cd633(0x4d3)]?_0x2e4713=_0x4e9523[_0x4cd633(0x4d3)][_0x4cd633(0x68d)][_0x296fcf]:_0x4e9523[_0x4cd633(0x580)]?_0x2e4713=_0x4e9523['ephemeralMessage'][_0x4cd633(0x68d)][_0x296fcf]:_0x4e9523[_0x4cd633(0x3f7)]?.[_0x4cd633(0x68d)]?.[_0x4cd633(0x4aa)]?.[_0x4cd633(0x3f7)]?(_0x46ad54=_0x4e9523[_0x4cd633(0x3f7)][_0x4cd633(0x68d)][_0x4cd633(0x4aa)][_0x4cd633(0x4db)]['id'],_0x4e9523[_0x4cd633(0x3f7)][_0x4cd633(0x68d)][_0x4cd633(0x4aa)]['editedMessage'][_0x4cd633(0x4bb)]?_0x2e4713=_0x4e9523[_0x4cd633(0x3f7)]['message'][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)]['conversation']:_0x4e9523[_0x4cd633(0x3f7)]['message'][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)][_0x4cd633(0x39b)]?_0x2e4713=_0x4e9523['editedMessage']['message'][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)][_0x4cd633(0x39b)][_0x4cd633(0x630)]:_0x4e9523[_0x4cd633(0x3f7)][_0x4cd633(0x68d)][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)]['videoMessage']?_0x2e4713=_0x4e9523[_0x4cd633(0x3f7)][_0x4cd633(0x68d)][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)][_0x4cd633(0x6b7)][_0x4cd633(0x630)]:_0x4e9523[_0x4cd633(0x3f7)][_0x4cd633(0x68d)][_0x4cd633(0x4aa)]['editedMessage'][_0x4cd633(0x5ab)]?_0x2e4713=_0x4e9523[_0x4cd633(0x3f7)]['message'][_0x4cd633(0x4aa)][_0x4cd633(0x3f7)][_0x4cd633(0x5ab)][_0x4cd633(0x68d)][_0x4cd633(0x4af)]['caption']:_0x2e4713=_0x4e9523[_0x4cd633(0x3f7)]['message'][_0x4cd633(0x4aa)]['editedMessage']):_0x2e4713=_0x4e9523[_0x296fcf],!_0x296fcf||!_0x2e4713)return console[_0x4cd633(0x269)](_0x4cd633(0x4ee),_0x4e9523),{'messageType':_0x296fcf,'messageContent':_0x2e4713,'message_normalized':{}};_0x4e9523[_0x296fcf]?.[_0x4cd633(0x58a)]?.[_0x4cd633(0x5fd)]&&_0x4e9523[_0x296fcf]?.[_0x4cd633(0x58a)]?.[_0x4cd633(0x2d0)]&&(_0x4187ae=_0x4e9523[_0x296fcf][_0x4cd633(0x58a)][_0x4cd633(0x5fd)]),_0x4e9523['reactionMessage']&&(_0x4a91f1=_0x4e9523[_0x4cd633(0x423)][_0x4cd633(0x4db)]['id']);let _0x23206c;if(_0x2e4713&&typeof _0x2e4713==_0x4cd633(0x130)&&'pollCreationMessageKey'in _0x2e4713&&({pollCreationMessageKey:_0x23206c}=_0x2e4713),_0x296fcf===_0x4cd633(0x5ab)){let _0x5d590c=_0x2e4713?.[_0x4cd633(0x68d)]?.['documentMessage'];_0x5d590c&&(_0x2e4713=_0x5d590c);}if(_0x296fcf===_0x4cd633(0x5b4)||_0x296fcf==='pollCreationMessageV2'||_0x296fcf===_0x4cd633(0x1e8)){let _0x5df84a=_0x2e4713['options'][_0x4cd633(0x667)](_0x3ec0f2=>_0x3ec0f2[_0x4cd633(0x6cb)])[_0x4cd633(0x327)]('|');_0x283954[_0x4cd633(0x5c9)]=_0x5df84a;}let _0x42748f=_0x2e4713[_0x4cd633(0x208)]||_0x2e4713[_0x4cd633(0x630)]||_0x2e4713['conversation']||_0x2e4713[_0x4cd633(0x69b)];if(_0x2e4713[_0x4cd633(0x25e)]){let _0x57c69e=this[_0x4cd633(0x3df)](JSON[_0x4cd633(0x199)](_0x2e4713[_0x4cd633(0x25e)],null,0x2));_0x42748f=_0x42748f+'\x0a'+_0x57c69e;}if(_0x2e4713){let {displayName:_0x52e59e,vcard:_0x5ea1e5,contactVcard:_0x2da77f,name:_0x54e7f4,caption:_0x523e6c,conversation:_0x2cb074,pollCreationMessageKey:_0x32dbda,footerText:_0xd5c7a6,contentText:_0x2ef329,pageCount:_0x4600ec,headerType:_0x85be90,isAvatar:_0x12e6ec,isAnimated:_0x239976,fallbackLc:_0x3e5001,fallbackLg:_0x1f46de,namespace:_0x37e255,elementName:_0x4eff4d,localizableParams:_0x510f7c,viewOnce:_0x14727e,height:_0x2d1df2,width:_0xb42d93,key:_0x38da83,firstScanLength:_0x31402d,firstScanSidecar:_0x3f346b,gifPlayback:_0x3cf28f,gifAttribution:_0x545c3c,midQualityFileSha256:_0x4ceb32,scansSidecar:_0x4dad03,streamingSidecar:_0x46f77f,thumbnailHeight:_0x68e732,thumbnailWidth:_0x11a0a7,thumbnailEncSha256:_0x42d27a,thumbnailDirectPath:_0x29cfc3,canonicalUrl:_0x5ed058,matchedText:_0x59e01c,previewType:_0x362966,thumbnailSha256:_0x737e59,deviceListMetadataVersion:_0x15e481,inviteLinkGroupTypeV2:_0x3efd8b,interactiveAnnotations:_0x2ba3d2,scanLengths:_0xb97138,jpegThumbnail:_0x54b1a6,url:_0xcd283d,mediaKeyTimestamp:_0xf3d913,waveform:_0x56fb3a,stickerSentTs:_0x2159c5,firstFrameLength:_0x154155,fileEncSha256:_0x57ce0c,contextInfo:_0x28feca,firstFrameSidecar:_0x4cb10d,directPath:_0x1ea22d,fileSha256:_0x5920be,mediaKey:_0x54bdaf,senderTimestampMs:_0x5bc270,..._0x37d4b9}=_0x2e4713;typeof _0x2e4713=='string'?_0x283954={'text':_0x2e4713,'type':_0x296fcf||'conversation',..._0x46ad54&&{'edited':_0x46ad54},..._0x4187ae&&{'quoted':_0x4187ae},..._0x4a91f1&&{'reaction':_0x4a91f1}}:_0x283954={'text':_0x42748f,..._0x37d4b9,..._0x296fcf==='pollUpdateMessage'?{'poll_id':_0x2e4713[_0x4cd633(0x38b)]['id'],'vote':_0x4c9d2f}:{},'type':_0x296fcf,..._0x46ad54&&{'edited':_0x46ad54},..._0x4187ae&&{'quoted':_0x4187ae},..._0x4a91f1&&{'reaction':_0x4a91f1},...(_0x296fcf===_0x4cd633(0x5b4)||_0x296fcf==='pollCreationMessageV2'||_0x296fcf==='pollCreationMessageV3')&&{'convertedOptions':_0x283954[_0x4cd633(0x5c9)]}};}return{'messageType':_0x296fcf,'messageContent':_0x2e4713,'message_normalized':_0x283954};},this[_0x120a3e(0x288)]=null,this['lastSend']=0x0,this[_0x120a3e(0x640)]=null,(this[_0x120a3e(0x530)](),this[_0x120a3e(0x164)][_0x120a3e(0x2ef)]={'count':0x0});}set[a0_0x29cdb8(0x63f)](_0x15f9c9){const _0x49dfeb=a0_0x29cdb8;if(!_0x15f9c9){this['instance'][_0x49dfeb(0x208)]=(0x0,Za['v4'])();return;}this[_0x49dfeb(0x164)][_0x49dfeb(0x208)]=_0x15f9c9,this[_0x49dfeb(0x2bf)](_0x49dfeb(0x3fb),{'instance':this[_0x49dfeb(0x164)][_0x49dfeb(0x208)],'status':_0x49dfeb(0x166)});}get['instanceName'](){const _0x47383a=a0_0x29cdb8;return this['instance'][_0x47383a(0x208)];}get[a0_0x29cdb8(0x242)](){const _0x570570=a0_0x29cdb8;return this['instance'][_0x570570(0x242)];}async[a0_0x29cdb8(0x48a)](){const _0x373091=a0_0x29cdb8;let _0xf049ab=this[_0x373091(0x16a)][_0x373091(0x65a)]?.[_0x373091(0x208)]??this['client']['user']?.[_0x373091(0x57c)];if(!_0xf049ab){if(this[_0x373091(0x4c2)][_0x373091(0x2ba)](_0x373091(0x30a))['ENABLED']){let _0x57c082=await M[_0x373091(0x395)]()['db'](this['configService']['get'](_0x373091(0x30a))[_0x373091(0x4bf)][_0x373091(0x23b)]+_0x373091(0x1eb))[_0x373091(0x348)](this[_0x373091(0x63f)])[_0x373091(0x4be)]({'_id':_0x373091(0x336)});if(_0x57c082){let _0x30228c=JSON['parse'](JSON['stringify'](_0x57c082),w[_0x373091(0x2a1)][_0x373091(0x335)]);_0xf049ab=_0x30228c['me']?.[_0x373091(0x208)]||_0x30228c['me']?.[_0x373091(0x57c)];}}else{if((0x0,Te[_0x373091(0x464)])((0x0,$[_0x373091(0x327)])(V,this[_0x373091(0x63f)],_0x373091(0x11d)))){let _0x59f364=JSON[_0x373091(0x453)]((0x0,Te['readFileSync'])((0x0,$[_0x373091(0x327)])(V,this[_0x373091(0x63f)],'creds.json'),{'encoding':_0x373091(0x237)}));_0xf049ab=_0x59f364['me']?.[_0x373091(0x208)]||_0x59f364['me']?.[_0x373091(0x57c)];}}}return _0xf049ab;}get[a0_0x29cdb8(0x178)](){const _0x1ddacf=a0_0x29cdb8;return this[_0x1ddacf(0x164)][_0x1ddacf(0x178)];}get['qrCode'](){const _0x311a32=a0_0x29cdb8;return{'code':this[_0x311a32(0x164)][_0x311a32(0x2ef)]?.[_0x311a32(0x5c7)],'base64':this[_0x311a32(0x164)][_0x311a32(0x2ef)]?.[_0x311a32(0x655)]};}async[a0_0x29cdb8(0x2a3)](){const _0x3e338f=a0_0x29cdb8;let _0x384a3d=await this[_0x3e338f(0x29f)]['webhook'][_0x3e338f(0x35f)](this['instanceName']);this['localWebhook'][_0x3e338f(0x300)]=_0x384a3d?.['url'],this[_0x3e338f(0x381)][_0x3e338f(0x408)]=_0x384a3d?.[_0x3e338f(0x408)],this['localWebhook'][_0x3e338f(0x306)]=_0x384a3d?.[_0x3e338f(0x306)],this['localWebhook'][_0x3e338f(0x15f)]=_0x384a3d?.['STATUS_INSTANCE'],this['localWebhook'][_0x3e338f(0x4d9)]=_0x384a3d?.[_0x3e338f(0x4d9)],this[_0x3e338f(0x381)][_0x3e338f(0x639)]=_0x384a3d?.['SEND_MESSAGE'],this[_0x3e338f(0x381)][_0x3e338f(0x572)]=_0x384a3d?.[_0x3e338f(0x572)],this[_0x3e338f(0x381)]['MESSAGES_UPDATE']=_0x384a3d?.[_0x3e338f(0x548)],this[_0x3e338f(0x381)][_0x3e338f(0x584)]=_0x384a3d?.[_0x3e338f(0x584)],this['localWebhook'][_0x3e338f(0x5df)]=_0x384a3d?.[_0x3e338f(0x5df)],this['localWebhook'][_0x3e338f(0x181)]=_0x384a3d?.[_0x3e338f(0x181)],this[_0x3e338f(0x381)][_0x3e338f(0x3f3)]=_0x384a3d?.[_0x3e338f(0x3f3)],this['localWebhook'][_0x3e338f(0x620)]=_0x384a3d?.[_0x3e338f(0x620)],this[_0x3e338f(0x381)]['CHATS_UPDATE']=_0x384a3d?.['CHATS_UPDATE'],this[_0x3e338f(0x381)][_0x3e338f(0x2f3)]=_0x384a3d?.[_0x3e338f(0x2f3)],this[_0x3e338f(0x381)][_0x3e338f(0x54e)]=_0x384a3d?.['CONTACTS_SET'],this['localWebhook'][_0x3e338f(0x2d3)]=_0x384a3d?.['CONTACTS_UPSERT'],this[_0x3e338f(0x381)]['CONTACTS_UPDATE']=_0x384a3d?.[_0x3e338f(0x30b)],this[_0x3e338f(0x381)][_0x3e338f(0x460)]=_0x384a3d?.[_0x3e338f(0x460)],this[_0x3e338f(0x381)][_0x3e338f(0x55d)]=_0x384a3d?.[_0x3e338f(0x55d)],this[_0x3e338f(0x381)]['CONNECTION_UPDATE']=_0x384a3d?.[_0x3e338f(0x2ed)],this[_0x3e338f(0x381)]['groups_ignore']=_0x384a3d?.[_0x3e338f(0x494)];}async['setWebhook'](_0x27c397){const _0xae3fca=a0_0x29cdb8;let _0x44a2f2=[_0xae3fca(0xe6),_0xae3fca(0x300),_0xae3fca(0x408),_0xae3fca(0x306),_0xae3fca(0x15f),'QRCODE_UPDATED',_0xae3fca(0x548),'MESSAGES_UPSERT','SEND_MESSAGE','GROUPS_UPSERT','GROUPS_UPDATE',_0xae3fca(0x181),'CHATS_SET',_0xae3fca(0x620),_0xae3fca(0x230),'CHATS_DELETE',_0xae3fca(0x54e),'CONTACTS_UPSERT',_0xae3fca(0x30b),'PRESENCE_UPDATE',_0xae3fca(0x55d),'CONNECTION_UPDATE','groups_ignore'],_0x26a942={};return _0x44a2f2[_0xae3fca(0x534)](_0x5b5268=>{_0x27c397[_0x5b5268]!==void 0x0&&(_0x26a942[_0x5b5268]=_0x27c397[_0x5b5268]);}),await this[_0xae3fca(0x29f)]['webhook'][_0xae3fca(0x15b)](_0x26a942,this[_0xae3fca(0x63f)]),Object[_0xae3fca(0x3a6)](this[_0xae3fca(0x381)],_0x26a942),await this[_0xae3fca(0x29f)][_0xae3fca(0x5ea)][_0xae3fca(0x35f)](this[_0xae3fca(0x63f)]);}async[a0_0x29cdb8(0x678)](){const _0xb31e17=a0_0x29cdb8;return await this[_0xb31e17(0x29f)][_0xb31e17(0x5ea)][_0xb31e17(0x35f)](this['instanceName']);}async[a0_0x29cdb8(0x2bf)](_0xbc03f7,_0x4f37f9){const _0xd3a479=a0_0x29cdb8;let _0x30fab4=this[_0xd3a479(0x4c2)][_0xd3a479(0x2ba)](_0xd3a479(0x10c)),_0x1bc9d5=_0xbc03f7[_0xd3a479(0x6bd)](/[\.-]/gm,'_')['toUpperCase'](),_0x2954a7=this['localWebhook'][_0xd3a479(0x408)]&&(0x0,_['isURL'])(this[_0xd3a479(0x381)][_0xd3a479(0x300)])?this[_0xd3a479(0x381)][_0xd3a479(0x300)]+(this[_0xd3a479(0x381)][_0xd3a479(0x306)]?this[_0xd3a479(0x177)][_0xbc03f7]:''):null,_0x3f6095=_0x30fab4?.[_0xd3a479(0xf7)],_0xee97ea=_0x3f6095&&_0x3f6095?.['ENABLED']&&(0x0,_['isURL'])(_0x3f6095['URL'])?_0x3f6095[_0xd3a479(0x148)]+(_0x30fab4['WEBHOOK_MAP']?this['webhookMap'][_0xbc03f7]:''):null,_0x3d5f0f=this[_0xd3a479(0x381)][_0x1bc9d5],_0xb592d2=_0x30fab4?.[_0xd3a479(0x525)]?.[_0x1bc9d5];if(_0x3d5f0f&&_0x2954a7)try{await ce['default'][_0xd3a479(0x15b)]({'baseURL':_0x2954a7})[_0xd3a479(0x461)]('',{'event':_0xbc03f7,'instance':this[_0xd3a479(0x164)][_0xd3a479(0x208)],'data':_0x4f37f9}),this[_0xd3a479(0x596)][_0xd3a479(0x5aa)](_0xd3a479(0x182)+_0xbc03f7+':\x20'+_0x2954a7);}catch(_0x2dc96a){this[_0xd3a479(0x596)][_0xd3a479(0x269)](this[_0xd3a479(0x63f)]+'\x20('+this[_0xd3a479(0x164)]['wuid']+'):\x20'+{'local':c[_0xd3a479(0x208)]+_0xd3a479(0x65b),'message':_0x2dc96a?.[_0xd3a479(0x68d)],'hostName':_0x2dc96a?.['hostname'],'syscall':_0x2dc96a?.['syscall'],'code':_0x2dc96a?.[_0xd3a479(0x5c7)],'error':_0x2dc96a?.['errno'],'stack':_0x2dc96a?.[_0xd3a479(0x26d)],'name':_0x2dc96a?.[_0xd3a479(0x208)]});}if(_0xb592d2&&_0xee97ea)try{await ce[_0xd3a479(0x3ec)]['create']({'baseURL':_0xee97ea})[_0xd3a479(0x461)]('',{'event':_0xbc03f7,'instance':this[_0xd3a479(0x164)][_0xd3a479(0x208)],'data':_0x4f37f9}),this['logger'][_0xd3a479(0x5aa)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0xbc03f7+':\x20'+_0xee97ea);}catch(_0x5e7776){this['logger']['error'](this[_0xd3a479(0x63f)]+'\x20('+this[_0xd3a479(0x164)]['wuid']+_0xd3a479(0x2f1)+{'local':c['name']+'.sendDataWebhook-global','message':_0x5e7776?.[_0xd3a479(0x68d)],'hostName':_0x5e7776?.[_0xd3a479(0x1c0)],'syscall':_0x5e7776?.[_0xd3a479(0x563)],'code':_0x5e7776?.[_0xd3a479(0x5c7)],'error':_0x5e7776?.[_0xd3a479(0x102)],'stack':_0x5e7776?.['stack'],'name':_0x5e7776?.[_0xd3a479(0x208)]});}}async[a0_0x29cdb8(0x2cf)]({qr:_0x4432ea,connection:_0x40814b,lastDisconnect:_0x33c0a4}){const _0x570368=a0_0x29cdb8;if(_0x4432ea){if(this['instance']['qrcode']['count']===this[_0x570368(0x4c2)][_0x570368(0x2ba)](_0x570368(0x331))[_0x570368(0x1d7)])return this[_0x570368(0x2bf)]('qrcode.updated',{'message':_0x570368(0x3d6),'statusCode':w[_0x570368(0x2e9)][_0x570368(0x52d)]}),this[_0x570368(0x2bf)](_0x570368(0x531),{'instance':this['instance'][_0x570368(0x208)],'state':_0x570368(0x672),'statusReason':w['DisconnectReason']['connectionClosed']}),this['sendDataWebhook'](_0x570368(0x3fb),{'instance':this[_0x570368(0x164)]['name'],'status':_0x570368(0x330)}),this[_0x570368(0x535)]=!0x0,this[_0x570368(0x151)][_0x570368(0x26e)](_0x570368(0x63c),this['instance'][_0x570368(0x208)]);this[_0x570368(0x164)][_0x570368(0x2ef)][_0x570368(0x637)]++;let _0x1b924d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x570368(0x24a),'dark':_0x570368(0x40c)}};eo[_0x570368(0x3ec)][_0x570368(0x631)](_0x4432ea,_0x1b924d,(_0x440ed2,_0x21266a)=>{const _0xd05672=_0x570368;if(_0x440ed2){this[_0xd05672(0x596)]['error'](this[_0xd05672(0x63f)]+'\x20('+this['instance'][_0xd05672(0x242)]+_0xd05672(0x497)+JSON[_0xd05672(0x199)](_0x440ed2,null,0x2));return;}this['instance'][_0xd05672(0x2ef)]['base64']=_0x21266a,this['instance'][_0xd05672(0x2ef)][_0xd05672(0x5c7)]=_0x4432ea,this[_0xd05672(0x2bf)]('qrcode.updated',{'qrcode':{'instance':this[_0xd05672(0x164)][_0xd05672(0x208)],'code':_0x4432ea,'base64':_0x21266a}});}),to[_0x570368(0x3ec)][_0x570368(0x332)](_0x4432ea,{'small':!0x0},_0x10bcaf=>this['logger'][_0x570368(0x5aa)](_0x570368(0x684)+this[_0x570368(0x164)][_0x570368(0x208)]+_0x570368(0x6a5)+this[_0x570368(0x164)]['qrcode'][_0x570368(0x637)]+_0x570368(0xea)+_0x10bcaf));}if(_0x40814b&&(this[_0x570368(0x11b)]={'state':_0x40814b,'statusReason':_0x33c0a4?.['error']?.[_0x570368(0x34c)]?.['statusCode']??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x570368(0x164)][_0x570368(0x208)],...this[_0x570368(0x11b)]})),_0x40814b===_0x570368(0x36f)){if(this[_0x570368(0x445)]++,this[_0x570368(0x677)][_0x570368(0x20a)](Date[_0x570368(0x271)]()),this[_0x570368(0x677)]=this[_0x570368(0x677)][_0x570368(0x339)](_0x31e0fb=>Date['now']()-_0x31e0fb<this[_0x570368(0x5ad)]),_0x33c0a4['error']?.[_0x570368(0x34c)]?.[_0x570368(0x6c4)]!==w['DisconnectReason'][_0x570368(0x3d0)]&&this['reconnectTimestamps'][_0x570368(0x206)]<=this[_0x570368(0x28c)])await this['connectToWhatsapp']();else{this[_0x570368(0x2bf)](_0x570368(0x3fb),{'instance':this[_0x570368(0x164)]['name'],'status':_0x570368(0x330)}),this[_0x570368(0x450)]=!0x1;try{this['logger']['verbose'](this[_0x570368(0x63f)]+'\x20('+this[_0x570368(0x164)]['wuid']+_0x570368(0x50a));let _0x185ce9=await this['repository'][_0x570368(0x68d)][_0x570368(0x22c)](this['instance']['wuid']);_0x185ce9[_0x570368(0x576)]?this[_0x570368(0x596)][_0x570368(0x362)](this[_0x570368(0x63f)]+'\x20('+this['instance'][_0x570368(0x242)]+_0x570368(0x671)):console[_0x570368(0x269)](_0x570368(0x3b0),_0x185ce9[_0x570368(0x269)]);}catch(_0x440467){console[_0x570368(0x269)](_0x570368(0x186),_0x440467);}this[_0x570368(0x20d)]!==null&&(this['logger'][_0x570368(0x362)](this[_0x570368(0x63f)]+'\x20('+this[_0x570368(0x164)][_0x570368(0x242)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x570368(0x20d)]),this['delayMessage']=null),this[_0x570368(0x596)][_0x570368(0x362)](this[_0x570368(0x63f)]+'\x20('+this[_0x570368(0x164)]['wuid']+_0x570368(0x4b9)),this['AutomateSystem']=null,this[_0x570368(0x151)]['emit'](_0x570368(0x23a),this['instance'][_0x570368(0x208)],_0x570368(0x36d)),this[_0x570368(0x16a)]?.['ws']?.['close'](),this['client']['end'](new Error('Close\x20connection'));}}if(_0x40814b===_0x570368(0x29b)){this['resetReconnectionVariables'],this['instance'][_0x570368(0x242)]=this[_0x570368(0x16a)][_0x570368(0x65a)]['id'][_0x570368(0x6bd)](/:\d+/,'')[_0x570368(0x6bd)](_0x570368(0x1c6),''),this[_0x570368(0x164)][_0x570368(0x178)]=(await this[_0x570368(0x593)](this[_0x570368(0x164)]['wuid']+_0x570368(0x1c6)))['profilePictureUrl'];let _0x5c4285=_0x570368(0x55b)+this[_0x570368(0x164)][_0x570368(0x242)],_0x21a17e=0x28,_0x2147b9=Math[_0x570368(0x498)]((_0x21a17e-_0x5c4285[_0x570368(0x206)])/0x2),_0x5c7635='\x20'['repeat'](_0x2147b9),_0xac5e01='CONECTADO\x20\x20UAZAPI',_0x1c1b9c=_0x570368(0x399)+this['instance'][_0x570368(0x208)],_0x5be9f6=(''+_0x5c7635+_0x5c4285+_0x5c7635)[_0x570368(0x2e7)](_0x21a17e,'\x20'),_0x5e3600=(''+_0x5c7635+_0xac5e01+_0x5c7635)[_0x570368(0x2e7)](_0x21a17e,'\x20'),_0x455319=(''+_0x5c7635+_0x1c1b9c+_0x5c7635)[_0x570368(0x2e7)](_0x21a17e,'\x20'),_0x184c19=Math[_0x570368(0x463)](_0x5be9f6['length'],_0x5e3600[_0x570368(0x206)],_0x455319[_0x570368(0x206)]),_0x5a82b0=_0x5be9f6[_0x570368(0x2e7)](_0x184c19,'\x20'),_0x24d886=_0x5e3600[_0x570368(0x2e7)](_0x184c19,'\x20'),_0x17e341=_0x455319[_0x570368(0x2e7)](_0x184c19,'\x20');this[_0x570368(0x596)][_0x570368(0x4f7)]((_0x570368(0x18b)+''[_0x570368(0x2d1)](_0x184c19)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24d886+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17e341+_0x570368(0x433)+_0x5a82b0+_0x570368(0x4e4)+''['repeat'](_0x184c19)+'')[_0x570368(0x6bd)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x570368(0x450)]=!0x0;}}[a0_0x29cdb8(0x27e)](){const _0x3ff6e9=a0_0x29cdb8;this['reconnectAttempts']=0x0,this[_0x3ff6e9(0x677)]=[];}async['getMessage'](_0x39eb7b,_0x1f8478=!0x1){const _0x2a2e9d=a0_0x29cdb8;try{let _0x5076ce=await this[_0x2a2e9d(0x29f)]['message'][_0x2a2e9d(0x35f)]({'where':{'owner':this['instance'][_0x2a2e9d(0x242)],'_id':_0x39eb7b['id']}});return _0x1f8478?_0x5076ce[0x0]:_0x5076ce[0x0][_0x2a2e9d(0x68d)];}catch{return{'conversation':''};}}[a0_0x29cdb8(0x530)](){const _0x5b6827=a0_0x29cdb8;let _0x3d11c7=this['configService'][_0x5b6827(0x2ba)](_0x5b6827(0x3ef)),_0x169fdf=this['configService'][_0x5b6827(0x2ba)](_0x5b6827(0x30a));_0x3d11c7?.['CLEANING_INTERVAL']&&!_0x169fdf[_0x5b6827(0x522)]&&setInterval(()=>{const _0x38c137=_0x5b6827;try{for(let [_0x14a501,_0x4e0262]of Object['entries'](_0x3d11c7))_0x4e0262===!0x0&&(0x0,Dt['execSync'])(_0x38c137(0x110)+(0x0,$['join'])(this['storePath'],_0x14a501[_0x38c137(0x3d1)](),this[_0x38c137(0x164)]['wuid'])+_0x38c137(0x369));}catch{}},(_0x3d11c7?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x29cdb8(0x66e)](){const _0x44ddb1=a0_0x29cdb8;let _0xae9992=this[_0x44ddb1(0x4c2)][_0x44ddb1(0x2ba)](_0x44ddb1(0x30a)),_0x332796=this['configService']['get'](_0x44ddb1(0x16b));return _0x332796?.['ENABLED']?await ps(_0x332796,this[_0x44ddb1(0x164)][_0x44ddb1(0x208)]):_0xae9992[_0x44ddb1(0x522)]?await ds(this[_0x44ddb1(0x164)][_0x44ddb1(0x208)]):await(0x0,w[_0x44ddb1(0x69c)])((0x0,$['join'])(V,this['instance'][_0x44ddb1(0x208)]));}async[a0_0x29cdb8(0x5f6)](){const _0x578072=a0_0x29cdb8;let _0x5411b5=()=>Math[_0x578072(0x498)](Math[_0x578072(0x558)]()*0x2711)+0x7d0,_0x33bf94=async()=>{const _0x2b392b=_0x578072;if(!this[_0x2b392b(0x450)]){this[_0x2b392b(0x596)][_0x2b392b(0x362)](_0x2b392b(0x42c)),this[_0x2b392b(0x681)]=!0x1;return;}if(this[_0x2b392b(0x164)][_0x2b392b(0x242)]&&this[_0x2b392b(0x253)]&&this[_0x2b392b(0x20d)]!==null&&this[_0x2b392b(0x20d)]!==void 0x0){let _0x3bca68=Math[_0x2b392b(0x2c1)](this[_0x2b392b(0x20d)]/0xea60);this[_0x2b392b(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x2b392b(0x164)][_0x2b392b(0x242)]+_0x2b392b(0x3e2)+_0x3bca68+'\x20minutos\x20verificar\x20novas\x20mensagens'),this[_0x2b392b(0x681)]=!0x1;return;}else this[_0x2b392b(0x164)][_0x2b392b(0x242)]&&(this['logger'][_0x2b392b(0x362)](this[_0x2b392b(0x63f)]+'\x20('+this[_0x2b392b(0x164)][_0x2b392b(0x242)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x2b392b(0x253)]||await this[_0x2b392b(0x3b3)](),(this[_0x2b392b(0x20d)]===null||this['delayMessage']===void 0x0)&&await this[_0x2b392b(0x204)]());if(this[_0x2b392b(0x681)]){let _0x3fe947=_0x5411b5();this['logger'][_0x2b392b(0x362)](this['instanceName']+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3fe947/0x3e8+_0x2b392b(0x5d3)),setTimeout(_0x33bf94,_0x3fe947);}};if(this[_0x578072(0x681)])return;this[_0x578072(0x681)]=!0x0;let _0x346201=_0x5411b5();setTimeout(_0x33bf94,_0x346201);}async['connectToWhatsapp'](){const _0x52b778=a0_0x29cdb8;try{this[_0x52b778(0x2a3)](),this[_0x52b778(0x164)][_0x52b778(0x564)]=await this[_0x52b778(0x66e)]();let {version:_0x2000eb}=await(0x0,w[_0x52b778(0x603)])(),_0x421a6f=this[_0x52b778(0x4c2)]['get'](_0x52b778(0x59c)),_0x4d9ef6=[_0x421a6f['CLIENT'],_0x421a6f['NAME'],(0x0,so[_0x52b778(0x1f9)])()],_0x369f5f={'auth':{'creds':this[_0x52b778(0x164)]['authState'][_0x52b778(0x4ae)][_0x52b778(0x336)],'keys':(0x0,w[_0x52b778(0x54f)])(this[_0x52b778(0x164)][_0x52b778(0x564)][_0x52b778(0x4ae)][_0x52b778(0x613)],(0x0,Mt[_0x52b778(0x3ec)])({'level':_0x52b778(0x269)}))},'logger':(0x0,Mt[_0x52b778(0x3ec)])({'level':_0x52b778(0x269)}),'printQRInTerminal':!0x1,'browser':_0x4d9ef6,'version':_0x2000eb,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x38b0ce=>await this[_0x52b778(0x60e)](_0x38b0ce),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x52b778(0x523)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x20c039=>(!!(_0x20c039[_0x52b778(0x26b)]||_0x20c039[_0x52b778(0x30f)])&&(_0x20c039={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x20c039}}}),_0x20c039)};return this[_0x52b778(0x535)]=!0x1,this[_0x52b778(0x16a)]=(0x0,w['default'])(_0x369f5f),this[_0x52b778(0x419)](),this['client'];}catch(_0x541b52){throw this[_0x52b778(0x596)][_0x52b778(0x269)](this[_0x52b778(0x63f)]+'\x20('+this[_0x52b778(0x164)][_0x52b778(0x242)]+_0x52b778(0x2f1)+JSON['stringify'](_0x541b52,null,0x2)),new A(_0x541b52?.['toString']());}}[a0_0x29cdb8(0x419)](){const _0x104b77=a0_0x29cdb8;this[_0x104b77(0x16a)]['ev'][_0x104b77(0x612)](_0x3d3dd3=>{const _0x5e39d9=_0x104b77;if(!this[_0x5e39d9(0x535)]){let _0x225c78=this[_0x5e39d9(0x4c2)][_0x5e39d9(0x2ba)]('DATABASE');if(_0x3d3dd3[_0x5e39d9(0x531)]&&this['connectionUpdate'](_0x3d3dd3[_0x5e39d9(0x531)]),_0x3d3dd3[_0x5e39d9(0x367)]&&this[_0x5e39d9(0x164)][_0x5e39d9(0x564)][_0x5e39d9(0x26f)](),_0x3d3dd3[_0x5e39d9(0x632)]){let _0xd0bdb1=_0x3d3dd3[_0x5e39d9(0x632)];this['messageHandle'][_0x5e39d9(0x632)](_0xd0bdb1,_0x225c78);}if(_0x3d3dd3[_0x5e39d9(0x2a2)]){let _0x2cdb38=_0x3d3dd3['messages.upsert'];this[_0x5e39d9(0x1e2)][_0x5e39d9(0x2a2)](_0x2cdb38,_0x225c78);}if(_0x3d3dd3[_0x5e39d9(0x422)]){let _0x3b2e65=_0x3d3dd3['messages.update'];this[_0x5e39d9(0x1e2)]['messages.update'](_0x3b2e65,_0x225c78);}if(_0x3d3dd3[_0x5e39d9(0x64b)]){let _0x18c9e7=_0x3d3dd3[_0x5e39d9(0x64b)];if(this[_0x5e39d9(0x381)]?.[_0x5e39d9(0x494)]&&_0x18c9e7['id']['includes']('@g.us'))return;this[_0x5e39d9(0x2bf)](_0x5e39d9(0x64b),_0x18c9e7);}if(!this[_0x5e39d9(0x381)]?.[_0x5e39d9(0x494)]){if(_0x3d3dd3[_0x5e39d9(0x43e)]){let _0x3dbe1a=_0x3d3dd3['groups.upsert'];this[_0x5e39d9(0x56b)][_0x5e39d9(0x43e)](_0x3dbe1a);}if(_0x3d3dd3[_0x5e39d9(0x537)]){let _0x2d2a90=_0x3d3dd3[_0x5e39d9(0x537)];this[_0x5e39d9(0x56b)][_0x5e39d9(0x537)](_0x2d2a90);}if(_0x3d3dd3[_0x5e39d9(0x52b)]){let _0x5517d8=_0x3d3dd3[_0x5e39d9(0x52b)];this[_0x5e39d9(0x56b)][_0x5e39d9(0x52b)](_0x5517d8);}}if(_0x3d3dd3[_0x5e39d9(0x2a4)]){let _0x2e6574=_0x3d3dd3['chats.upsert'];this['chatHandle'][_0x5e39d9(0x2a4)](_0x2e6574,_0x225c78);}if(_0x3d3dd3['chats.update']){let _0xd4343f=_0x3d3dd3['chats.update'];this[_0x5e39d9(0x528)][_0x5e39d9(0x2fe)](_0xd4343f,_0x225c78);}if(_0x3d3dd3[_0x5e39d9(0x47f)]){let _0x44fece=_0x3d3dd3[_0x5e39d9(0x47f)];this[_0x5e39d9(0x528)][_0x5e39d9(0x47f)](_0x44fece);}if(_0x3d3dd3[_0x5e39d9(0x4e2)]){let _0x474e21=_0x3d3dd3['contacts.upsert'];this[_0x5e39d9(0x24e)]['contacts.upsert'](_0x474e21,_0x225c78);}if(_0x3d3dd3[_0x5e39d9(0x32b)]){let _0x9d012e=_0x3d3dd3[_0x5e39d9(0x32b)];this['contactHandle'][_0x5e39d9(0x32b)](_0x9d012e,_0x225c78);}}});}[a0_0x29cdb8(0xe8)](_0x3af1fb){const _0x4df595=a0_0x29cdb8;let _0x268828=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4df595(0x345)](_0x3af1fb);if(_0x268828&&_0x268828[0x1]==='55'){let _0x1ddcbe=_0x268828[0x2],_0x5721f6=_0x268828[0x3],_0x47e925=_0x268828[0x4];if(_0x1ddcbe>='31'&&_0x5721f6==='9')return _0x268828[0x1]+_0x1ddcbe+_0x47e925;}return _0x3af1fb;}[a0_0x29cdb8(0x25a)](_0x2cf699){const _0x515c99=a0_0x29cdb8;return _0x2cf699[_0x515c99(0x386)](_0x515c99(0x5b6))||_0x2cf699[_0x515c99(0x386)](_0x515c99(0x1c6))||_0x2cf699[_0x515c99(0x386)]('@broadcast')?_0x2cf699:(_0x2cf699=_0x2cf699?.['replace'](/\s/g,'')[_0x515c99(0x6bd)](/\+/g,'')[_0x515c99(0x6bd)](/\(/g,'')['replace'](/\)/g,'')[_0x515c99(0x6a9)](/\:/)[0x0][_0x515c99(0x6a9)]('@')[0x0],_0x2cf699[_0x515c99(0x206)]>=0x12?(_0x2cf699=_0x2cf699['replace'](/[^\d-]/g,''),_0x2cf699+_0x515c99(0x5b6)):(_0x2cf699=_0x2cf699[_0x515c99(0x6bd)](/\D/g,''),this[_0x515c99(0xe8)](_0x2cf699)+'@s.whatsapp.net'));}async[a0_0x29cdb8(0x5d5)](_0x147882){const _0xef58aa=a0_0x29cdb8;let _0x33b80a=this[_0xef58aa(0x25a)](_0x147882[_0xef58aa(0x1a8)]),_0x12796f=(await this[_0xef58aa(0x3dd)]({'numbers':[_0x33b80a]}))[0x0];if(!_0x12796f[_0xef58aa(0x542)]&&!(0x0,w[_0xef58aa(0x6ad)])(_0x12796f['jid']))throw new g(_0x12796f);let _0x11edf4=(0x0,w[_0xef58aa(0x6ad)])(_0x33b80a)?_0x33b80a:_0x12796f['jid'];if((0x0,w[_0xef58aa(0x6ad)])(_0x11edf4))try{await this[_0xef58aa(0x16a)]['groupMetadata'](_0x11edf4);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0xef58aa(0x16a)][_0xef58aa(0x5e6)](_0x11edf4),await this['client'][_0xef58aa(0x431)](_0x147882[_0xef58aa(0x24c)],_0x33b80a),{'status':0xc8,'presence':_0x147882[_0xef58aa(0x24c)]};}catch(_0x3ee667){throw new g(_0x3ee667[_0xef58aa(0x47a)]());}}async[a0_0x29cdb8(0x593)](_0xa72f2){const _0x47c52a=a0_0x29cdb8;let _0x45bf1a=this[_0x47c52a(0x25a)](_0xa72f2);try{return{'wuid':_0x45bf1a,'profilePictureUrl':await this['client'][_0x47c52a(0x178)](_0x45bf1a,'image')};}catch{return{'wuid':_0x45bf1a,'profilePictureUrl':null};}}async[a0_0x29cdb8(0x479)](_0x6d15c1,_0x75e1be,_0x117c1f){const _0x11306b=a0_0x29cdb8;let _0x409f8d=(await this[_0x11306b(0x3dd)]({'numbers':[_0x6d15c1]}))[0x0];if(!_0x409f8d[_0x11306b(0x542)]&&!(0x0,w['isJidGroup'])(_0x409f8d['jid'])&&!_0x409f8d[_0x11306b(0x50f)][_0x11306b(0x386)](_0x11306b(0x123)))throw new g(_0x409f8d);let _0x2172f7=_0x409f8d[_0x11306b(0x50f)];try{_0x117c1f?.[_0x11306b(0x1cf)]&&(await this[_0x11306b(0x16a)][_0x11306b(0x5e6)](_0x2172f7),await this['client'][_0x11306b(0x431)](_0x117c1f?.[_0x11306b(0x24c)]??_0x11306b(0x569),_0x2172f7),await(0x0,w['delay'])(_0x117c1f[_0x11306b(0x1cf)]),await this[_0x11306b(0x16a)]['sendPresenceUpdate'](_0x11306b(0x33c),_0x2172f7));let _0x25a272=_0x117c1f?.[_0x11306b(0x63e)]!=!0x1?void 0x0:!0x1,_0x2205cd;if(_0x117c1f?.['quoted']){let _0x304d25=_0x117c1f?.[_0x11306b(0x4ac)],_0x3d2926=_0x304d25?.[_0x11306b(0x68d)]?_0x304d25:await this[_0x11306b(0x60e)](_0x304d25[_0x11306b(0x4db)],!0x0);if(!_0x3d2926)throw _0x11306b(0x3e1);_0x2205cd=_0x3d2926;}let _0x3a1d80;if((0x0,w[_0x11306b(0x6ad)])(_0x2172f7))try{let _0x3a9bb2=await this['client'][_0x11306b(0x235)](_0x2172f7);if(!_0x3a9bb2)throw new x('Group\x20not\x20found');_0x117c1f?.[_0x11306b(0x467)]&&(_0x117c1f[_0x11306b(0x467)]?.[_0x11306b(0x25b)]?_0x3a1d80=_0x3a9bb2[_0x11306b(0x403)][_0x11306b(0x667)](_0x4dcc86=>_0x4dcc86['id']):_0x117c1f[_0x11306b(0x467)]?.['mentioned']?.[_0x11306b(0x206)]&&(_0x3a1d80=_0x117c1f[_0x11306b(0x467)][_0x11306b(0x442)][_0x11306b(0x667)](_0x220f3a=>{const _0x4581d5=_0x11306b;let _0x2c8a5c=this[_0x4581d5(0x25a)](_0x220f3a);return(0x0,w[_0x4581d5(0x6ad)])(_0x2c8a5c)?null:_0x2c8a5c;})));}catch{throw new x(_0x11306b(0x447));}let _0x52b989=await((async()=>{const _0x203614=_0x11306b;let _0x9296a={'quoted':_0x2205cd};if(!_0x75e1be[_0x203614(0xfc)]&&!_0x75e1be[_0x203614(0x4d8)]&&!_0x75e1be[_0x203614(0x2c4)]&&!_0x75e1be['conversation']&&_0x2172f7!=='status@broadcast'&&!_0x75e1be[_0x203614(0xfc)])return await this[_0x203614(0x16a)]['sendMessage'](_0x2172f7,{'forward':{'key':{'remoteJid':this[_0x203614(0x164)][_0x203614(0x242)],'fromMe':!0x0},'message':_0x75e1be},'mentions':_0x3a1d80},_0x9296a);if(_0x75e1be[_0x203614(0x4bb)]){let _0x113bc0=_0x75e1be[_0x203614(0x4bb)];return _0x117c1f?.[_0x203614(0x3bb)]&&(_0x113bc0=await this[_0x203614(0x259)](_0x113bc0,_0x2172f7)),await this[_0x203614(0x16a)]['sendMessage'](_0x2172f7,{'text':_0x113bc0,'mentions':_0x3a1d80,'linkPreview':_0x25a272},_0x9296a);}return _0x2172f7===_0x203614(0x1f0)?await this[_0x203614(0x16a)][_0x203614(0x390)](_0x2172f7,_0x75e1be[_0x203614(0x46b)]['content'],{'backgroundColor':_0x75e1be['status'][_0x203614(0x676)][_0x203614(0x3b2)],'font':_0x75e1be[_0x203614(0x46b)][_0x203614(0x676)][_0x203614(0x425)],'statusJidList':_0x75e1be['status']['option']['statusJidList']}):await this[_0x203614(0x16a)][_0x203614(0x390)](_0x2172f7,_0x75e1be,_0x9296a);})()),{message_normalized:_0xdc9c0}=this[_0x11306b(0x2b7)](_0x52b989[_0x11306b(0x68d)],G(_0x52b989[_0x11306b(0x68d)]),null),_0x54b629={'_id':_0x52b989[_0x11306b(0x4db)]['id'],'key':_0x52b989[_0x11306b(0x4db)],'pushName':_0x52b989['pushName'],'message':{..._0x52b989['message']},'messageType':G(_0x52b989[_0x11306b(0x68d)]),'message_normalized':{'key':_0x52b989[_0x11306b(0x4db)],'pushName':_0x52b989['pushName'],'messageTimestamp':_0x52b989[_0x11306b(0x366)]&&_0x52b989[_0x11306b(0x366)][_0x11306b(0x47a)]()[_0x11306b(0x206)]<0xd?_0x52b989['messageTimestamp']*0x3e8:_0x52b989[_0x11306b(0x366)]||null,'source':(0x0,w[_0x11306b(0x407)])(_0x52b989[_0x11306b(0x4db)]['id']),..._0xdc9c0},'messageTimestamp':_0x52b989[_0x11306b(0x366)]&&_0x52b989[_0x11306b(0x366)]['toString']()[_0x11306b(0x206)]<0xd?_0x52b989[_0x11306b(0x366)]*0x3e8:_0x52b989[_0x11306b(0x366)]||null,'owner':this[_0x11306b(0x164)]['wuid'],'source':(0x0,w['getDevice'])(_0x52b989[_0x11306b(0x4db)]['id'])};return this['logger'][_0x11306b(0x5aa)](_0x54b629),this[_0x11306b(0x2bf)](_0x11306b(0xe4),_0x54b629),F(this[_0x11306b(0x63f)],'messages',{'message':_0x54b629}),this[_0x11306b(0x33f)](this[_0x11306b(0x4c2)][_0x11306b(0x2ba)](_0x11306b(0x30a)),_0x54b629,'SEND_MESSAGE'),await this[_0x11306b(0x29f)][_0x11306b(0x68d)]['insert']([_0x54b629]),_0x52b989;}catch(_0xddc2ad){throw this[_0x11306b(0x596)][_0x11306b(0x269)](this['instanceName']+'\x20('+this[_0x11306b(0x164)][_0x11306b(0x242)]+_0x11306b(0x2f1)+_0xddc2ad[_0x11306b(0x47a)]()),new g(_0xddc2ad[_0x11306b(0x47a)]());}}get[a0_0x29cdb8(0x6a4)](){return this['stateConnection'];}async['textMessage'](_0x66794d){const _0xc634d8=a0_0x29cdb8;let _0x1b94b7=this[_0xc634d8(0x4c2)][_0xc634d8(0x2ba)](_0xc634d8(0x383)),_0x4aa2b6=this[_0xc634d8(0x4c2)][_0xc634d8(0x2ba)](_0xc634d8(0x446));return _0x4aa2b6&&this['instanceName'][_0xc634d8(0x3d1)]()[_0xc634d8(0x386)](_0x4aa2b6['toLowerCase']())&&(_0x66794d['textMessage'][_0xc634d8(0xf5)]+='\x0a\x0a'+_0x1b94b7),await this['sendMessageWithTyping'](_0x66794d[_0xc634d8(0x1a8)],{'conversation':_0x66794d['textMessage'][_0xc634d8(0xf5)]},_0x66794d?.[_0xc634d8(0xec)]);}async[a0_0x29cdb8(0x64e)](_0x409234){const _0x11e28d=a0_0x29cdb8;if(!_0x409234[_0x11e28d(0x607)])throw new g(_0x11e28d(0x3b1));if(!_0x409234[_0x11e28d(0x1d9)])throw new g(_0x11e28d(0x4e1));if(_0x409234[_0x11e28d(0x4d5)]){let _0xf0c267=await this[_0x11e28d(0x29f)][_0x11e28d(0x384)][_0x11e28d(0x35f)]({'where':{'owner':this[_0x11e28d(0x164)][_0x11e28d(0x242)]}});if(!_0xf0c267[_0x11e28d(0x206)])throw new g('Contacts\x20not\x20found');_0x409234[_0x11e28d(0x565)]=_0xf0c267[_0x11e28d(0x339)](_0x16dbc6=>_0x16dbc6[_0x11e28d(0x351)])[_0x11e28d(0x667)](_0xb69a3d=>_0xb69a3d[_0x11e28d(0xe6)]);}if(!_0x409234[_0x11e28d(0x565)]?.[_0x11e28d(0x206)]&&!_0x409234[_0x11e28d(0x4d5)])throw new g('StatusJidList\x20is\x20required');if(_0x409234[_0x11e28d(0x607)]===_0x11e28d(0xf5)){if(!_0x409234[_0x11e28d(0x3b2)])throw new g('Background\x20color\x20is\x20required');if(!_0x409234[_0x11e28d(0x425)])throw new g('Font\x20is\x20required');return{'content':{'text':_0x409234[_0x11e28d(0x1d9)]},'option':{'backgroundColor':_0x409234['backgroundColor'],'font':_0x409234[_0x11e28d(0x425)],'statusJidList':_0x409234[_0x11e28d(0x565)]}};}if(_0x409234[_0x11e28d(0x607)]===_0x11e28d(0x3a9))return{'content':{'image':{'url':_0x409234[_0x11e28d(0x1d9)]},'caption':_0x409234['caption']},'option':{'statusJidList':_0x409234['statusJidList']}};if(_0x409234[_0x11e28d(0x607)]==='video')return{'content':{'video':{'url':_0x409234[_0x11e28d(0x1d9)]},'caption':_0x409234[_0x11e28d(0x630)]},'option':{'statusJidList':_0x409234[_0x11e28d(0x565)]}};if(_0x409234[_0x11e28d(0x607)]===_0x11e28d(0xfc)){this[_0x11e28d(0x596)][_0x11e28d(0x362)]('Type\x20defined\x20as\x20audio'),this[_0x11e28d(0x596)]['verbose'](_0x11e28d(0x691));let _0x114bc5=await this[_0x11e28d(0x57d)](_0x409234[_0x11e28d(0x1d9)]);if(typeof _0x114bc5==_0x11e28d(0x540)){this[_0x11e28d(0x596)][_0x11e28d(0x362)]('Audio\x20processed');let _0x47df51=P[_0x11e28d(0x49b)](_0x114bc5)['toString'](_0x11e28d(0x655)),_0xd409e7={'content':{'audio':Buffer[_0x11e28d(0x1ae)](_0x47df51,'base64'),'ptt':!0x0,'mimetype':_0x11e28d(0x1ed)},'option':{'statusJidList':_0x409234[_0x11e28d(0x565)]}};return P['unlinkSync'](_0x114bc5),_0xd409e7;}else throw new A(_0x114bc5);}throw new g(_0x11e28d(0x1aa));}async[a0_0x29cdb8(0x1dc)](_0x18fa31){const _0x865e93=a0_0x29cdb8;return await this[_0x865e93(0x479)](_0x865e93(0x1f0),{'status':await this[_0x865e93(0x64e)](_0x18fa31[_0x865e93(0x1dc)])});}async[a0_0x29cdb8(0x457)](_0x27661d){const _0x540428=a0_0x29cdb8;try{let _0x3326c9=await(0x0,w[_0x540428(0x363)])({[_0x27661d['mediatype']]:(0x0,_[_0x540428(0x60f)])(_0x27661d[_0x540428(0x201)])?{'url':_0x27661d[_0x540428(0x201)]}:Buffer[_0x540428(0x1ae)](_0x27661d[_0x540428(0x201)],_0x540428(0x655))},{'upload':this[_0x540428(0x16a)][_0x540428(0x2ad)]}),_0xd61a16=_0x27661d[_0x540428(0x49d)]+_0x540428(0x3ed);if(_0x27661d[_0x540428(0x49d)]===_0x540428(0x3e8)&&!_0x27661d[_0x540428(0x31d)]){let _0x530acd=new RegExp(/.*\/(.+?)\./)[_0x540428(0x345)](_0x27661d[_0x540428(0x201)]);_0x27661d[_0x540428(0x31d)]=_0x530acd?_0x530acd[0x1]:null;}let _0x4be250=(0x0,_[_0x540428(0x60f)])(_0x27661d[_0x540428(0x201)])?_0x27661d[_0x540428(0x201)][_0x540428(0x6a9)]('?')[0x0]:_0x27661d['media'];this[_0x540428(0x596)][_0x540428(0x362)](_0x540428(0x190)+_0x4be250);let _0x5f2c98;_0x27661d['fileName']?_0x5f2c98=(0x0,At['getMIMEType'])(_0x27661d['fileName']):(0x0,_[_0x540428(0x60f)])(_0x27661d[_0x540428(0x201)])?_0x5f2c98=(0x0,At[_0x540428(0x617)])(_0x4be250):_0x5f2c98=(0x0,At['getMIMEType'])(_0x27661d[_0x540428(0x201)]);let _0x42a2b7=this['configService'][_0x540428(0x2ba)](_0x540428(0x383)),_0x2a464d=this[_0x540428(0x4c2)][_0x540428(0x2ba)]('TRIAL_INSTANCE_NAME');return _0x2a464d&&this[_0x540428(0x63f)][_0x540428(0x3d1)]()[_0x540428(0x386)](_0x2a464d[_0x540428(0x3d1)]())&&(_0x27661d['caption']+='\x0a\x0a'+_0x42a2b7),_0x3326c9[_0xd61a16][_0x540428(0x630)]=_0x27661d?.[_0x540428(0x630)],_0x3326c9[_0xd61a16]['mimetype']=_0x5f2c98,_0x3326c9[_0xd61a16][_0x540428(0x31d)]=_0x27661d['fileName'],_0x27661d['mediatype']==='video'&&(_0x3326c9[_0xd61a16][_0x540428(0x346)]=Uint8Array[_0x540428(0x1ae)]((0x0,Te[_0x540428(0x49b)])((0x0,$['join'])(process['cwd'](),_0x540428(0x4fb)))),_0x3326c9[_0xd61a16][_0x540428(0x376)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0xd61a16]:{..._0x3326c9[_0xd61a16]}},{'userJid':this['instance']['wuid']});}catch(_0x223097){throw this[_0x540428(0x596)][_0x540428(0x269)](this[_0x540428(0x63f)]+'\x20('+this['instance'][_0x540428(0x242)]+'):\x20'+JSON['stringify'](_0x223097,null,0x2)),new A(_0x223097?.[_0x540428(0x47a)]()||_0x223097);}}async['mediaMessage'](_0x3c1623){const _0x279a90=a0_0x29cdb8;let _0x256cbd=await this[_0x279a90(0x457)](_0x3c1623[_0x279a90(0x364)]);return await this[_0x279a90(0x479)](_0x3c1623['number'],{..._0x256cbd[_0x279a90(0x68d)]},_0x3c1623?.[_0x279a90(0xec)]);}async[a0_0x29cdb8(0x2ec)](_0x56e6b0,_0x56a8b7){const _0x453543=a0_0x29cdb8;try{this['logger']['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x15a003,_0x3ef2a1=_0x56a8b7+'-'+new Date()[_0x453543(0x29a)]();this[_0x453543(0x596)][_0x453543(0x362)](_0x453543(0x5d4)+_0x3ef2a1);let _0x173d9f=''+(0x0,$['join'])(this[_0x453543(0x125)],_0x3ef2a1+_0x453543(0x4fe));if(this[_0x453543(0x596)]['verbose'](_0x453543(0x44e)+_0x173d9f),(0x0,_[_0x453543(0x4fa)])(_0x56e6b0)){this[_0x453543(0x596)][_0x453543(0x362)](_0x453543(0x56a));let _0x5287e2=_0x56e6b0[_0x453543(0x6bd)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x48537a=Buffer[_0x453543(0x1ae)](_0x5287e2,_0x453543(0x655));_0x15a003=''+(0x0,$[_0x453543(0x327)])(this['storePath'],_0x453543(0x4b7)+_0x3ef2a1+_0x453543(0x168)),this['logger'][_0x453543(0x362)](_0x453543(0x4da)+_0x15a003),await(0x0,Ot['default'])(_0x48537a)[_0x453543(0x113)](_0x15a003),this['logger'][_0x453543(0x362)](_0x453543(0x6d8));}else{this['logger'][_0x453543(0x362)](_0x453543(0x2c6));let _0x937cab=new Date()[_0x453543(0x29a)](),_0x427261=_0x56e6b0+_0x453543(0x5ec)+_0x937cab;this[_0x453543(0x596)][_0x453543(0x362)](_0x453543(0x623)+_0x427261);let _0x371b1b=await ce[_0x453543(0x3ec)][_0x453543(0x2ba)](_0x427261,{'responseType':'arraybuffer'});this['logger'][_0x453543(0x362)](_0x453543(0x248));let _0x48e406=Buffer['from'](_0x371b1b[_0x453543(0x106)],'binary');_0x15a003=''+(0x0,$[_0x453543(0x327)])(this[_0x453543(0x125)],_0x453543(0x4b7)+_0x3ef2a1+_0x453543(0x168)),this[_0x453543(0x596)][_0x453543(0x362)](_0x453543(0x4da)+_0x15a003),await(0x0,Ot['default'])(_0x48e406)[_0x453543(0x113)](_0x15a003),this['logger'][_0x453543(0x362)](_0x453543(0x6d8));}return await(0x0,Ot[_0x453543(0x3ec)])(_0x15a003)['webp']()[_0x453543(0x113)](_0x173d9f),this[_0x453543(0x596)][_0x453543(0x362)]('Image\x20converted\x20to\x20WebP'),P[_0x453543(0x598)](_0x15a003),this[_0x453543(0x596)][_0x453543(0x362)](_0x453543(0x6ab)),_0x173d9f;}catch(_0x4d52d6){console[_0x453543(0x269)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',JSON[_0x453543(0x199)](_0x4d52d6,null,0x2));}}async['mediaSticker'](_0x288b36){const _0x511ddb=a0_0x29cdb8;let _0xa02ce3=await this[_0x511ddb(0x2ec)](_0x288b36['stickerMessage'][_0x511ddb(0x3a9)],_0x288b36[_0x511ddb(0x1a8)]),_0xf92ccd=await this['sendMessageWithTyping'](_0x288b36[_0x511ddb(0x1a8)],{'sticker':{'url':_0xa02ce3}},_0x288b36?.['options']);return P[_0x511ddb(0x598)](_0xa02ce3),this[_0x511ddb(0x596)][_0x511ddb(0x362)](_0x511ddb(0x1f4)),_0xf92ccd;}async[a0_0x29cdb8(0x358)](_0x252555){const _0x1140a0=a0_0x29cdb8;if(this['logger'][_0x1140a0(0x362)]('Sending\x20audio\x20whatsapp'),!_0x252555[_0x1140a0(0xec)]?.[_0x1140a0(0x4e0)]&&_0x252555[_0x1140a0(0xec)]?.[_0x1140a0(0x4e0)]!==!0x1&&(_0x252555['options'][_0x1140a0(0x4e0)]=!0x0),_0x252555[_0x1140a0(0xec)]?.[_0x1140a0(0x4e0)]){let _0x5bc5d0=await this[_0x1140a0(0x57d)](_0x252555[_0x1140a0(0x114)]['audio']);if(typeof _0x5bc5d0==_0x1140a0(0x540)){let _0x1cf0d8=P[_0x1140a0(0x49b)](_0x5bc5d0)[_0x1140a0(0x47a)](_0x1140a0(0x655)),_0x47a8ac=this[_0x1140a0(0x479)](_0x252555[_0x1140a0(0x1a8)],{'audio':Buffer[_0x1140a0(0x1ae)](_0x1cf0d8,_0x1140a0(0x655)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x252555?.[_0x1140a0(0xec)]?.[_0x1140a0(0x1cf)]});return P[_0x1140a0(0x598)](_0x5bc5d0),this[_0x1140a0(0x596)][_0x1140a0(0x362)](_0x1140a0(0x5fe)),_0x47a8ac;}else throw new A(_0x5bc5d0);}return await this[_0x1140a0(0x479)](_0x252555['number'],{'audio':(0x0,_[_0x1140a0(0x60f)])(_0x252555['audioMessage'][_0x1140a0(0xfc)])?{'url':_0x252555[_0x1140a0(0x114)][_0x1140a0(0xfc)]}:Buffer[_0x1140a0(0x1ae)](_0x252555['audioMessage'][_0x1140a0(0xfc)],_0x1140a0(0x655)),'ptt':!0x0,'mimetype':_0x1140a0(0x41d)},{'presence':'recording','delay':_0x252555?.['options']?.['delay']});}async['convertaudio'](_0x2302e3){const _0x5f2fdd=a0_0x29cdb8;this[_0x5f2fdd(0x596)]['verbose'](_0x5f2fdd(0x691));let _0x5310ba,_0x34507f,_0x5c9268=(0x0,It['v4'])();if(this['logger'][_0x5f2fdd(0x362)](_0x5f2fdd(0x21e)+_0x5c9268),(0x0,_[_0x5f2fdd(0x60f)])(_0x2302e3)){this['logger'][_0x5f2fdd(0x362)](_0x5f2fdd(0x1ab)),_0x34507f=''+(0x0,$[_0x5f2fdd(0x327)])(this[_0x5f2fdd(0x125)],_0x5c9268+'.mp4'),_0x5310ba=''+(0x0,$[_0x5f2fdd(0x327)])(this[_0x5f2fdd(0x125)],_0x5f2fdd(0x4b7)+_0x5c9268+_0x5f2fdd(0x40f)),this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)](_0x5f2fdd(0x2ab)+_0x34507f),this['logger'][_0x5f2fdd(0x362)]('Temp\x20audio\x20path:\x20'+_0x5310ba);let _0x35eba0=new Date()[_0x5f2fdd(0x29a)](),_0xfa05c7=_0x2302e3+_0x5f2fdd(0x5ec)+_0x35eba0;this['logger'][_0x5f2fdd(0x362)](_0x5f2fdd(0x375)+_0xfa05c7);let _0xaf0b82=await ce[_0x5f2fdd(0x3ec)][_0x5f2fdd(0x2ba)](_0xfa05c7,{'responseType':'arraybuffer'});this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)](_0x5f2fdd(0x387)),P[_0x5f2fdd(0x6b5)](_0x5310ba,_0xaf0b82[_0x5f2fdd(0x106)]);}else{this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)](_0x5f2fdd(0x426)),_0x34507f=''+(0x0,$[_0x5f2fdd(0x327)])(this[_0x5f2fdd(0x125)],_0x5c9268+_0x5f2fdd(0x254)),_0x5310ba=''+(0x0,$[_0x5f2fdd(0x327)])(this[_0x5f2fdd(0x125)],'temp-'+_0x5c9268+_0x5f2fdd(0x40f)),this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)]('Output\x20audio\x20path:\x20'+_0x34507f),this[_0x5f2fdd(0x596)]['verbose'](_0x5f2fdd(0x5dc)+_0x5310ba);let _0x58ab5c=Buffer[_0x5f2fdd(0x1ae)](_0x2302e3,_0x5f2fdd(0x655));P[_0x5f2fdd(0x6b5)](_0x5310ba,_0x58ab5c),this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)]('Temp\x20audio\x20created');}return this[_0x5f2fdd(0x596)][_0x5f2fdd(0x362)](_0x5f2fdd(0x1e7)),new Promise((_0x498bb2,_0x550d77)=>{const _0x4dfef8=_0x5f2fdd;(0x0,Dt[_0x4dfef8(0x345)])(Xa[_0x4dfef8(0x3ec)][_0x4dfef8(0x2b9)]+_0x4dfef8(0x674)+_0x5310ba+_0x4dfef8(0x14e)+_0x34507f+_0x4dfef8(0x13a),_0x441154=>{const _0x3a26ff=_0x4dfef8;P['unlinkSync'](_0x5310ba),this[_0x3a26ff(0x596)][_0x3a26ff(0x362)](_0x3a26ff(0x602)),_0x441154&&_0x550d77(_0x441154),this[_0x3a26ff(0x596)][_0x3a26ff(0x362)](_0x3a26ff(0x4f0)),_0x498bb2(_0x34507f);});});}async[a0_0x29cdb8(0x2db)](_0x2faf4a){const _0x32b2b4=a0_0x29cdb8;let _0x5e3ecc={},_0x29513f=_0x32b2b4(0x1a9);if(_0x2faf4a[_0x32b2b4(0x2db)]?.['mediaMessage']){_0x29513f=_0x2faf4a[_0x32b2b4(0x2db)]['mediaMessage']?.[_0x32b2b4(0x49d)][_0x32b2b4(0x2f0)]()??_0x32b2b4(0x1a9),_0x5e3ecc[_0x32b2b4(0x29e)]=_0x29513f['toLowerCase']()+_0x32b2b4(0x3ed);let _0x3635c7=await this[_0x32b2b4(0x457)](_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x364)]);_0x5e3ecc[_0x32b2b4(0x68d)]=_0x3635c7[_0x32b2b4(0x68d)][_0x5e3ecc[_0x32b2b4(0x29e)]],_0x5e3ecc[_0x32b2b4(0x4df)]='*'+_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x4dd)]+_0x32b2b4(0x680)+_0x2faf4a['buttonMessage'][_0x32b2b4(0x145)];}let _0x3418ce={'text':_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x1f3)]['map'](_0x351464=>_0x351464[_0x32b2b4(0x103)]),'ids':_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x1f3)][_0x32b2b4(0x667)](_0x2b05ed=>_0x2b05ed[_0x32b2b4(0x514)])};if(!(0x0,_[_0x32b2b4(0x66c)])(_0x3418ce['text'])||!(0x0,_[_0x32b2b4(0x66c)])(_0x3418ce[_0x32b2b4(0x4e7)]))throw new g(_0x32b2b4(0x210),_0x32b2b4(0x42f));return await this[_0x32b2b4(0x479)](_0x2faf4a[_0x32b2b4(0x1a8)],{'buttonsMessage':{'text':_0x5e3ecc?.[_0x32b2b4(0x29e)]?void 0x0:_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x4dd)],'contentText':_0x5e3ecc?.[_0x32b2b4(0x4df)]??_0x2faf4a[_0x32b2b4(0x2db)]['description'],'footerText':_0x2faf4a[_0x32b2b4(0x2db)]?.[_0x32b2b4(0x3c4)],'buttons':_0x2faf4a[_0x32b2b4(0x2db)][_0x32b2b4(0x1f3)][_0x32b2b4(0x667)](_0x1894e3=>({'buttonText':{'displayText':_0x1894e3[_0x32b2b4(0x103)]},'buttonId':_0x1894e3[_0x32b2b4(0x514)],'type':0x1})),'headerType':w[_0x32b2b4(0x649)][_0x32b2b4(0x3ed)][_0x32b2b4(0x687)][_0x32b2b4(0x473)][_0x29513f],[_0x5e3ecc?.['mediaKey']]:_0x5e3ecc?.[_0x32b2b4(0x68d)]}},_0x2faf4a?.[_0x32b2b4(0xec)]);}async['locationMessage'](_0x13100a){const _0x16fdd1=a0_0x29cdb8;return await this['sendMessageWithTyping'](_0x13100a[_0x16fdd1(0x1a8)],{'locationMessage':{'degreesLatitude':_0x13100a[_0x16fdd1(0x1c2)][_0x16fdd1(0x2be)],'degreesLongitude':_0x13100a[_0x16fdd1(0x1c2)][_0x16fdd1(0x48e)],'name':_0x13100a[_0x16fdd1(0x1c2)]?.[_0x16fdd1(0x208)],'address':_0x13100a['locationMessage']?.[_0x16fdd1(0x413)]}},_0x13100a?.[_0x16fdd1(0xec)]);}async[a0_0x29cdb8(0x30f)](_0x2fb38d){const _0x4245a7=a0_0x29cdb8;return await this['sendMessageWithTyping'](_0x2fb38d[_0x4245a7(0x1a8)],{'listMessage':{'title':_0x2fb38d[_0x4245a7(0x30f)][_0x4245a7(0x4dd)],'description':_0x2fb38d['listMessage']['description'],'buttonText':_0x2fb38d[_0x4245a7(0x30f)]?.[_0x4245a7(0x103)],'footerText':_0x2fb38d[_0x4245a7(0x30f)]?.[_0x4245a7(0x3c4)],'sections':_0x2fb38d[_0x4245a7(0x30f)][_0x4245a7(0x484)],'listType':0x1}},_0x2fb38d?.[_0x4245a7(0xec)]);}async[a0_0x29cdb8(0x3e0)](_0x1c6478){const _0x4834ba=a0_0x29cdb8;let _0x8a353e={},_0x327743=_0x1adad9=>{const _0xe11733=a0_0x7e50;let _0x50e1f2=_0xe11733(0x31c)+_0x1adad9[_0xe11733(0x137)]+_0xe11733(0x666)+_0x1adad9[_0xe11733(0x137)]+'\x0a';_0x1adad9[_0xe11733(0x337)]&&(_0x50e1f2+=_0xe11733(0x284)+_0x1adad9[_0xe11733(0x337)]+';\x0a'),_0x1adad9['email']&&(_0x50e1f2+=_0xe11733(0xff)+_0x1adad9[_0xe11733(0x4de)]+'\x0a'),_0x1adad9[_0xe11733(0x300)]&&(_0x50e1f2+=_0xe11733(0x62e)+_0x1adad9[_0xe11733(0x300)]+'\x0a');let _0x38db20='';return _0x1adad9[_0xe11733(0x3b4)]&&_0x1adad9[_0xe11733(0x3b4)][_0xe11733(0x6a9)]('|')[_0xe11733(0x534)]((_0x4600ed,_0x403ff7)=>{const _0x435e2b=_0xe11733;let _0x1bcabf=this[_0x435e2b(0x25a)](_0x4600ed)[_0x435e2b(0x6bd)](_0x435e2b(0x1c6),'');_0x38db20+=_0x435e2b(0x3e4)+(_0x403ff7+0x1)+_0x435e2b(0x4c9)+_0x1bcabf+':'+_0x4600ed+_0x435e2b(0x308)+(_0x403ff7+0x1)+'.X-ABLabel:Celular\x0a';}),_0x50e1f2+=_0x38db20+_0xe11733(0x626),_0x50e1f2;};return _0x1c6478['contactMessage'][_0x4834ba(0x206)]===0x1?_0x8a353e[_0x4834ba(0x3e0)]={'displayName':_0x1c6478['contactMessage'][0x0][_0x4834ba(0x137)],'vcard':_0x327743(_0x1c6478[_0x4834ba(0x3e0)][0x0])}:_0x8a353e[_0x4834ba(0x47e)]={'displayName':_0x1c6478[_0x4834ba(0x3e0)][_0x4834ba(0x206)]+_0x4834ba(0x476),'contacts':_0x1c6478['contactMessage'][_0x4834ba(0x667)](_0x345cdd=>({'displayName':_0x345cdd[_0x4834ba(0x137)],'vcard':_0x327743(_0x345cdd)}))},await this[_0x4834ba(0x479)](_0x1c6478['number'],{..._0x8a353e},_0x1c6478?.[_0x4834ba(0xec)]);}async[a0_0x29cdb8(0x423)](_0x3d7abc){const _0x5b3da9=a0_0x29cdb8;return await this['sendMessageWithTyping'](_0x3d7abc[_0x5b3da9(0x423)][_0x5b3da9(0x4db)][_0x5b3da9(0x157)],{'reactionMessage':{'key':_0x3d7abc[_0x5b3da9(0x423)][_0x5b3da9(0x4db)],'text':_0x3d7abc['reactionMessage'][_0x5b3da9(0x156)]}});}async[a0_0x29cdb8(0x3dd)](_0x3e9de9){const _0x2b9dae=a0_0x29cdb8;let _0x3db35c=[];for await(let _0x168e9e of _0x3e9de9[_0x2b9dae(0x3fc)]){let _0x8719bd=this[_0x2b9dae(0x25a)](_0x168e9e);if((0x0,w[_0x2b9dae(0x6ad)])(_0x8719bd)){let _0x44df8f=await this[_0x2b9dae(0x280)]({'groupJid':_0x8719bd},_0x2b9dae(0x36d));_0x3db35c['push'](new fe(_0x44df8f[_0x2b9dae(0x232)]['id'],!!_0x44df8f?.[_0x2b9dae(0x232)]['id'],_0x44df8f?.['metadata'][_0x2b9dae(0x35e)]));}else try{let _0x18bd81=(await this[_0x2b9dae(0x16a)][_0x2b9dae(0x519)](_0x8719bd))[0x0];_0x3db35c[_0x2b9dae(0x20a)](new fe(_0x18bd81[_0x2b9dae(0x50f)],_0x18bd81[_0x2b9dae(0x542)]));}catch{_0x3db35c[_0x2b9dae(0x20a)](new fe(_0x168e9e,!0x1));}}return _0x3db35c;}async['markMessageAsRead'](_0x44920b){const _0x2d38d1=a0_0x29cdb8;try{let _0xd9383=_0x44920b[_0x2d38d1(0x4c6)]['filter'](_0x5bd325=>(0x0,w[_0x2d38d1(0x6ad)])(_0x5bd325[_0x2d38d1(0x157)])||(0x0,w[_0x2d38d1(0x654)])(_0x5bd325['remoteJid']))[_0x2d38d1(0x667)](_0x3347e9=>({'remoteJid':_0x3347e9[_0x2d38d1(0x157)],'fromMe':_0x3347e9[_0x2d38d1(0x56f)],'id':_0x3347e9['id']}));await this[_0x2d38d1(0x16a)][_0x2d38d1(0x4c6)](_0xd9383);let _0x39a544=_0xd9383[_0x2d38d1(0x667)](_0x4ea49c=>this[_0x2d38d1(0x579)](_0x4ea49c,_0x4ea49c[_0x2d38d1(0x157)],{'status':'READ','owner':this[_0x2d38d1(0x164)][_0x2d38d1(0x242)]})),_0x7a64f2=_0xd9383[_0x2d38d1(0x667)](_0x1b81f0=>this[_0x2d38d1(0x29f)][_0x2d38d1(0x136)]['updateOne']({'where':{'_id':_0x1b81f0[_0x2d38d1(0x157)],'owner':this['instance'][_0x2d38d1(0x242)]}},{'unreadcount':0x0})),[_0x24d970,_0x3988f5]=await Promise[_0x2d38d1(0x19d)]([Promise[_0x2d38d1(0x19d)](_0x39a544),Promise[_0x2d38d1(0x19d)](_0x7a64f2)]);return _0x3988f5[_0x2d38d1(0x339)](_0x59da7a=>_0x59da7a!==null)[_0x2d38d1(0x534)](_0x26c5d6=>{const _0x5e5eaf=_0x2d38d1;F(this['instanceName'],_0x5e5eaf(0x6c3),{'chat':_0x26c5d6});}),{'message':_0x2d38d1(0x64a),'read':_0x2d38d1(0x576)};}catch(_0x1e1434){throw console[_0x2d38d1(0x269)]('Error\x20in\x20markMessageAsRead:',_0x1e1434),new A(_0x2d38d1(0x169),_0x1e1434[_0x2d38d1(0x47a)]());}}async[a0_0x29cdb8(0x128)](_0x8f6f79){const _0x360dae=a0_0x29cdb8;let _0x225c5b=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x8f6f79},'owner':this[_0x360dae(0x164)]['name']}}),_0x193203=_0x225c5b[_0x360dae(0xeb)]();for(let _0x169e75 of _0x225c5b)_0x169e75['messageTimestamp']>=_0x193203[_0x360dae(0x366)]&&(_0x193203=_0x169e75);return _0x193203;}async['archiveChat'](_0x4a4075){const _0x5055c6=a0_0x29cdb8;this['logger'][_0x5055c6(0x362)]('Archiving\x20chat');try{let _0x54b616=_0x4a4075[_0x5055c6(0x601)],_0x27ff60=_0x4a4075[_0x5055c6(0x136)];if(!_0x54b616&&_0x27ff60?_0x54b616=await this[_0x5055c6(0x128)](_0x27ff60):(_0x54b616=_0x4a4075[_0x5055c6(0x601)],_0x54b616[_0x5055c6(0x366)]=_0x54b616?.['messageTimestamp']??Date[_0x5055c6(0x271)](),_0x27ff60=_0x54b616?.[_0x5055c6(0x4db)]?.[_0x5055c6(0x157)]),!_0x54b616||Object['keys'](_0x54b616)[_0x5055c6(0x206)]===0x0)throw new x(_0x5055c6(0x644));await this[_0x5055c6(0x16a)][_0x5055c6(0x20e)]({'archive':_0x4a4075[_0x5055c6(0x3bd)],'lastMessages':[_0x54b616]},this[_0x5055c6(0x25a)](_0x27ff60));let _0x3fabd3=await this['repository']['chat'][_0x5055c6(0x50b)]({'where':{'_id':_0x54b616?.[_0x5055c6(0x4db)]?.[_0x5055c6(0x157)],'owner':this[_0x5055c6(0x164)][_0x5055c6(0x242)]}},{'archived':_0x4a4075[_0x5055c6(0x3bd)]});return _0x3fabd3&&F(this[_0x5055c6(0x63f)],_0x5055c6(0x6c3),{'chat':_0x3fabd3}),{'chatId':_0x27ff60,'archived':_0x4a4075['archive']};}catch(_0x1371aa){throw new A({'archived':!0x1,'message':[_0x5055c6(0x2ff),_0x1371aa[_0x5055c6(0x47a)]()]});}}async[a0_0x29cdb8(0x49f)](_0x1bc0b5){const _0x5daf05=a0_0x29cdb8;try{let _0x3b5b95=await this['client']['sendMessage'](_0x1bc0b5[_0x5daf05(0x157)],{'delete':_0x1bc0b5});try{let _0x388f8f=await this[_0x5daf05(0x579)](_0x1bc0b5,_0x1bc0b5[_0x5daf05(0x157)],{'status':'DELETED','owner':this[_0x5daf05(0x164)]['wuid']});this[_0x5daf05(0x596)]['verbose'](this[_0x5daf05(0x63f)]+'\x20('+this[_0x5daf05(0x164)][_0x5daf05(0x242)]+'):\x20updateResult:'+_0x388f8f);}catch(_0x422659){console[_0x5daf05(0x269)](_0x5daf05(0x350),_0x422659);}return _0x3b5b95;}catch(_0x51c134){throw new A(_0x5daf05(0x62b),_0x51c134?.[_0x5daf05(0x47a)]());}}async[a0_0x29cdb8(0x53f)](_0x57118d){const _0x4b4fa3=a0_0x29cdb8;try{let _0x1b3f2e=_0x57118d?.[_0x4b4fa3(0x68d)]?_0x57118d:await this[_0x4b4fa3(0x60e)](_0x57118d['key'],!0x0);for(let _0x155a4e of Qs)_0x1b3f2e[_0x4b4fa3(0x68d)][_0x155a4e]&&(_0x1b3f2e['message']=_0x1b3f2e[_0x4b4fa3(0x68d)][_0x155a4e]['message']);let _0x3db8f2,_0x422c37;for(let _0x5e5177 of zs)if(_0x3db8f2=_0x1b3f2e['message'][_0x5e5177],_0x3db8f2){_0x422c37=_0x5e5177;break;}if(!_0x3db8f2)throw _0x4b4fa3(0x690);typeof _0x3db8f2[_0x4b4fa3(0x29e)]==_0x4b4fa3(0x130)&&(_0x1b3f2e[_0x4b4fa3(0x68d)]=JSON[_0x4b4fa3(0x453)](JSON['stringify'](_0x1b3f2e['message'])));let _0x25a977=await(0x0,w['downloadMediaMessage'])({'key':_0x1b3f2e?.['key'],'message':_0x1b3f2e?.[_0x4b4fa3(0x68d)]},_0x4b4fa3(0x638),{},{'logger':(0x0,Mt['default'])({'level':_0x4b4fa3(0x269)}),'reuploadRequest':this[_0x4b4fa3(0x16a)][_0x4b4fa3(0x4f9)]});if(!(_0x25a977 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x4a3d44=this[_0x4b4fa3(0x4c2)][_0x4b4fa3(0x2ba)](_0x4b4fa3(0x30a)),_0x375acc,_0x100d87;if(_0x3db8f2[_0x4b4fa3(0x31d)])_0x375acc=_0x3db8f2[_0x4b4fa3(0x31d)];else{let _0x3bd0af=_0x3db8f2[_0x4b4fa3(0x6c9)]?.[_0x4b4fa3(0x343)](/\/(\w+)/),_0x48c122=_0x3bd0af?_0x3bd0af[0x1]:null;if(!_0x48c122)throw new Error(_0x4b4fa3(0x4b2));_0x375acc=(0x0,It['v4'])()+'.'+_0x48c122;}_0x422c37===_0x4b4fa3(0x114)&&_0x3db8f2['mimetype']===_0x4b4fa3(0x658)?(_0x375acc=(0x0,It['v4'])()+_0x4b4fa3(0x240),_0x100d87=_0x4b4fa3(0x27b)+await this['convertaudio'](_0x25a977[_0x4b4fa3(0x47a)]('base64'))):(await this['saveMediaToFile'](_0x25a977,_0x375acc),_0x100d87=_0x4b4fa3(0x27b)+_0x375acc);let _0x153a69=this[_0x4b4fa3(0x4c2)]['get'](_0x4b4fa3(0x5cd)),_0x35e41d=this[_0x4b4fa3(0x4c2)][_0x4b4fa3(0x2ba)](_0x4b4fa3(0x43f))[_0x4b4fa3(0x212)],_0x29c75b=_0x153a69&&_0x153a69[_0x4b4fa3(0x2c2)][_0x4b4fa3(0x6a9)]('/')[0x4];_0x35e41d===0x1bb&&(_0x100d87=''+(_0x4b4fa3(0x45a)+_0x29c75b)+_0x100d87);let _0x226aa6=0xc*0x3c*0x3c*0x3e8,_0x2c930d={'where':{'_id':_0x1b3f2e[_0x4b4fa3(0x4db)]['id'],'owner':this[_0x4b4fa3(0x164)][_0x4b4fa3(0x242)]}};_0x1b3f2e[_0x4b4fa3(0x4db)][_0x4b4fa3(0x157)][_0x4b4fa3(0x341)](_0x4b4fa3(0x5b6))&&(_0x2c930d[_0x4b4fa3(0x287)][_0x4b4fa3(0x4db)][_0x4b4fa3(0x147)]=_0x1b3f2e[_0x4b4fa3(0x4db)]['participant']);let _0x4717a9={'message_normalized.fileUrl':_0x100d87,'message_normalized.expires_fileUrl':Date['now']()+_0x226aa6};try{let _0x59fada=await this['repository'][_0x4b4fa3(0x68d)][_0x4b4fa3(0x656)](_0x2c930d,_0x4717a9);_0x59fada&&F(this[_0x4b4fa3(0x63f)],_0x4b4fa3(0x1f8),{'message':_0x59fada});}catch{}return{'mediaType':_0x422c37,'fileName':_0x3db8f2[_0x4b4fa3(0x31d)],'caption':_0x3db8f2[_0x4b4fa3(0x630)],'size':{'fileLength':_0x3db8f2['fileLength'],'height':_0x3db8f2['height'],'width':_0x3db8f2[_0x4b4fa3(0x5e4)]},'mimetype':_0x3db8f2[_0x4b4fa3(0x6c9)],'base64':_0x25a977[_0x4b4fa3(0x47a)]('base64'),'fileUrl':_0x100d87,'expires_fileUrl':Date['now']()+_0x226aa6};}catch(_0x5b5d23){throw this['logger'][_0x4b4fa3(0x269)](this[_0x4b4fa3(0x63f)]+'\x20('+this[_0x4b4fa3(0x164)][_0x4b4fa3(0x242)]+_0x4b4fa3(0x2f1)+JSON['stringify'](_0x5b5d23,null,0x2)),new g(_0x5b5d23['toString']());}}async[a0_0x29cdb8(0x3da)](_0x54e66a,_0xa2679d){const _0x439e30=a0_0x29cdb8;console[_0x439e30(0x5aa)](_0x439e30(0x31b),__dirname),console[_0x439e30(0x5aa)](_0x439e30(0x185),_0xa2679d);let _0x444952=$[_0x439e30(0x3ec)][_0x439e30(0x327)](__dirname,'downloads');console[_0x439e30(0x5aa)](_0x439e30(0x1a2),_0x444952),P[_0x439e30(0x464)](_0x444952)||(this[_0x439e30(0x596)][_0x439e30(0x5aa)](_0x439e30(0x60c)),P[_0x439e30(0x4f3)](_0x444952,{'recursive':!0x0}));let _0x395da8=$[_0x439e30(0x3ec)][_0x439e30(0x327)](_0x444952,_0xa2679d);return console[_0x439e30(0x5aa)](_0x439e30(0x1ff),_0x395da8),new Promise((_0x479ce4,_0x5ab05a)=>{P['writeFile'](_0x395da8,_0x54e66a,_0x2041eb=>{const _0x51eecb=a0_0x7e50;_0x2041eb?(this[_0x51eecb(0x596)][_0x51eecb(0x269)](_0x51eecb(0x309)+JSON[_0x51eecb(0x199)](_0x2041eb,null,0x2)),_0x5ab05a(_0x2041eb)):(this[_0x51eecb(0x596)][_0x51eecb(0x5aa)](_0x51eecb(0x5ed)+_0x395da8),_0x479ce4(_0x395da8));});});}async[a0_0x29cdb8(0x5a6)](_0x71c80){const _0x57f082=a0_0x29cdb8;return _0x71c80?.[_0x57f082(0x287)]?_0x71c80[_0x57f082(0x287)]['owner']=this['instance'][_0x57f082(0x242)]:_0x71c80={'where':{'owner':this[_0x57f082(0x164)]['wuid']}},await this[_0x57f082(0x29f)][_0x57f082(0x384)]['find'](_0x71c80);}async[a0_0x29cdb8(0x5bb)](_0x3a5807){const _0x277cb9=a0_0x29cdb8;return _0x3a5807?.[_0x277cb9(0x287)]?_0x3a5807[_0x277cb9(0x287)][_0x277cb9(0x270)]=this[_0x277cb9(0x164)]['wuid']:_0x3a5807={'where':{'owner':this[_0x277cb9(0x164)][_0x277cb9(0x242)]},'limit':_0x3a5807?.[_0x277cb9(0x22d)]},await this['repository'][_0x277cb9(0x68d)]['find'](_0x3a5807);}async[a0_0x29cdb8(0x312)](){const _0x17026d=a0_0x29cdb8;let _0x59c96f=[{'query':{'where':{'owner':this[_0x17026d(0x164)]['wuid'],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x17026d(0x164)][_0x17026d(0x242)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x17026d(0x29f)][_0x17026d(0x136)][_0x17026d(0x3fd)](_0x59c96f),await this['repository'][_0x17026d(0x136)][_0x17026d(0x35f)]({'where':{'owner':this[_0x17026d(0x164)]['wuid']}});}async[a0_0x29cdb8(0x5f0)](){const _0x2e4ff8=a0_0x29cdb8;return await this[_0x2e4ff8(0x16a)]['fetchPrivacySettings']();}async[a0_0x29cdb8(0x299)](_0x6b8800){const _0x52dd24=a0_0x29cdb8;try{return await this[_0x52dd24(0x16a)][_0x52dd24(0x141)](_0x6b8800[_0x52dd24(0x427)][_0x52dd24(0x1bf)]),await this[_0x52dd24(0x16a)][_0x52dd24(0x2f9)](_0x6b8800[_0x52dd24(0x427)]['profile']),await this['client'][_0x52dd24(0x5eb)](_0x6b8800[_0x52dd24(0x427)][_0x52dd24(0x46b)]),await this[_0x52dd24(0x16a)][_0x52dd24(0x55f)](_0x6b8800['privacySettings'][_0x52dd24(0x120)]),await this[_0x52dd24(0x16a)][_0x52dd24(0x2bb)](_0x6b8800[_0x52dd24(0x427)]['last']),await this[_0x52dd24(0x16a)][_0x52dd24(0x4b1)](_0x6b8800['privacySettings'][_0x52dd24(0x4cc)]),this['client']?.['ws']?.[_0x52dd24(0x36f)](),{'update':_0x52dd24(0x576),'data':{'readreceipts':_0x6b8800[_0x52dd24(0x427)]['readreceipts'],'profile':_0x6b8800[_0x52dd24(0x427)][_0x52dd24(0x3cc)],'status':_0x6b8800['privacySettings'][_0x52dd24(0x46b)],'online':_0x6b8800[_0x52dd24(0x427)][_0x52dd24(0x120)],'last':_0x6b8800['privacySettings'][_0x52dd24(0x2e8)],'groupadd':_0x6b8800[_0x52dd24(0x427)][_0x52dd24(0x4cc)]}};}catch(_0x3cbad0){throw new A(_0x52dd24(0x124),_0x3cbad0[_0x52dd24(0x47a)]());}}async['fetchProfile2'](_0x51a97a){const _0x8e3c5b=a0_0x29cdb8;let _0x66db4b=_0x51a97a?this[_0x8e3c5b(0x25a)](_0x51a97a):this[_0x8e3c5b(0x16a)]?.[_0x8e3c5b(0x65a)]?.['id'];this[_0x8e3c5b(0x596)][_0x8e3c5b(0x362)](_0x8e3c5b(0x34b)+_0x66db4b);try{if(this['logger'][_0x8e3c5b(0x362)](_0x8e3c5b(0x585)),_0x51a97a){let _0x267573=(await this['whatsappNumber']({'numbers':[_0x66db4b]}))?.[_0x8e3c5b(0x219)](),_0x126057=await this[_0x8e3c5b(0x593)](_0x267573?.[_0x8e3c5b(0x50f)]),_0x201f6e=await this[_0x8e3c5b(0x2a7)](_0x267573?.['jid']),_0x5f59e5=await this[_0x8e3c5b(0x205)](_0x267573?.[_0x8e3c5b(0x50f)]);return{'wuid':_0x267573?.[_0x8e3c5b(0x50f)]||_0x66db4b,'name':_0x267573?.[_0x8e3c5b(0x208)],'numberExists':_0x267573?.[_0x8e3c5b(0x542)],'picture':_0x126057?.[_0x8e3c5b(0x178)],'status':_0x201f6e?.[_0x8e3c5b(0x46b)],'isBusiness':_0x5f59e5['isBusiness'],'email':_0x5f59e5?.[_0x8e3c5b(0x4de)],'description':_0x5f59e5?.[_0x8e3c5b(0x145)],'website':_0x5f59e5?.[_0x8e3c5b(0x12e)]?.['shift']()};}}catch{return this[_0x8e3c5b(0x596)]['verbose'](_0x8e3c5b(0x6d1)),{'wuid':_0x66db4b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x29cdb8(0x456)](_0xc0e5e9){const _0x19af8e=a0_0x29cdb8;let _0x1b9bde=(_0xc0e5e9?this['createJid'](_0xc0e5e9):this[_0x19af8e(0x16a)]?.[_0x19af8e(0x65a)]?.['id'])[_0x19af8e(0x6bd)](/:\d{1,2}@/g,'@');this[_0x19af8e(0x596)]['verbose'](_0x19af8e(0x41e)+_0x1b9bde);let _0x422985=await this[_0x19af8e(0x29f)][_0x19af8e(0x384)][_0x19af8e(0x4be)]({'where':{'_id':_0x1b9bde,'owner':this[_0x19af8e(0x164)][_0x19af8e(0x242)]}}),_0x2cd0bc=_0x422985?_0x422985[_0x19af8e(0x351)]:null;try{let _0x12331a=(await this[_0x19af8e(0x3dd)]({'numbers':[_0x1b9bde]}))?.[_0x19af8e(0x219)](),_0x30fd89=await this[_0x19af8e(0x593)](_0x12331a?.[_0x19af8e(0x50f)]),_0x3857ae=await this[_0x19af8e(0x2a7)](_0x12331a?.[_0x19af8e(0x50f)]),_0x5ab30c=await this['fetchBusinessProfile'](_0x12331a?.[_0x19af8e(0x50f)]),_0x4327dd={'imagechat':_0x30fd89?.[_0x19af8e(0x178)],'contactname':_0x2cd0bc||null,'status':_0x3857ae?.['status'],'isBusiness':_0x5ab30c[_0x19af8e(0x274)],'email':_0x5ab30c?.['email'],'description':_0x5ab30c?.[_0x19af8e(0x145)],'website':_0x5ab30c?.['website']?.[_0x19af8e(0x219)](),'lastcache':Date[_0x19af8e(0x271)]()},_0x96570a=await this['repository'][_0x19af8e(0x136)][_0x19af8e(0x50b)]({'where':{'_id':_0x1b9bde,'owner':this['instance'][_0x19af8e(0x242)]}},_0x4327dd),_0x1dbbe4={'owner':this[_0x19af8e(0x164)][_0x19af8e(0x242)],'_id':_0x1b9bde,'profilePictureUrl':_0x30fd89?.[_0x19af8e(0x178)],'status':_0x3857ae?.[_0x19af8e(0x46b)]};return this[_0x19af8e(0x29f)][_0x19af8e(0x384)]['update']([_0x1dbbe4],this['instance'][_0x19af8e(0x242)]),_0x96570a&&F(this[_0x19af8e(0x63f)],_0x19af8e(0x6c3),{'chat':_0x96570a}),{'wuid':_0x12331a?.[_0x19af8e(0x50f)]||_0x1b9bde,'name':_0x12331a?.[_0x19af8e(0x208)],'numberExists':_0x12331a?.['exists'],'picture':_0x30fd89?.[_0x19af8e(0x178)],'status':_0x3857ae?.[_0x19af8e(0x46b)],'isBusiness':_0x5ab30c[_0x19af8e(0x274)],'email':_0x5ab30c?.[_0x19af8e(0x4de)],'description':_0x5ab30c?.[_0x19af8e(0x145)],'website':_0x5ab30c?.['website']?.['shift']()};}catch(_0x182a4b){return this[_0x19af8e(0x596)]['error'](_0x19af8e(0x5c1)+JSON[_0x19af8e(0x199)](_0x182a4b,null,0x2)),{};}}async[a0_0x29cdb8(0x205)](_0x34596c){const _0x3af856=a0_0x29cdb8;this[_0x3af856(0x596)][_0x3af856(0x362)](_0x3af856(0x4a8));try{let _0x4d697f=_0x34596c?this[_0x3af856(0x25a)](_0x34596c):this['instance'][_0x3af856(0x242)],_0x4ded92=await this[_0x3af856(0x16a)][_0x3af856(0x11e)](_0x4d697f);return this[_0x3af856(0x596)]['verbose'](_0x3af856(0x15c)),_0x4ded92?(this[_0x3af856(0x596)][_0x3af856(0x362)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x4ded92}):{'isBusiness':!0x1,'message':_0x3af856(0x354),...(await this[_0x3af856(0x3dd)]({'numbers':[_0x4d697f]}))?.[_0x3af856(0x219)]()};}catch(_0xd94dcd){throw new A('Error\x20updating\x20profile\x20name',_0xd94dcd[_0x3af856(0x47a)]());}}async['getStatus'](_0x6b796d){const _0x30fced=a0_0x29cdb8;let _0x39af74=this[_0x30fced(0x25a)](_0x6b796d);try{return{'wuid':_0x39af74,'status':(await this[_0x30fced(0x16a)][_0x30fced(0x11a)](_0x39af74))?.[_0x30fced(0x46b)]};}catch{return{'wuid':_0x39af74,'status':null};}}async[a0_0x29cdb8(0x25c)](_0x26ddf6){const _0x2f631f=a0_0x29cdb8;try{return await this[_0x2f631f(0x16a)][_0x2f631f(0x25c)](_0x26ddf6),{'update':_0x2f631f(0x576)};}catch(_0x380b58){throw new A('Error\x20updating\x20profile\x20name',_0x380b58[_0x2f631f(0x47a)]());}}async[a0_0x29cdb8(0x3d5)](_0x313468){const _0x3de277=a0_0x29cdb8;try{return await this[_0x3de277(0x16a)][_0x3de277(0x3d5)](_0x313468),{'update':'success'};}catch(_0x5a35af){throw new A(_0x3de277(0x556),_0x5a35af[_0x3de277(0x47a)]());}}async[a0_0x29cdb8(0x6b9)](_0xa94a0){const _0x12b9e5=a0_0x29cdb8;try{let _0x3805a5;if((0x0,_['isURL'])(_0xa94a0)){let _0x14e6af=new Date()['getTime'](),_0x2a0bef=_0xa94a0+'?timestamp='+_0x14e6af;_0x3805a5=(await ce[_0x12b9e5(0x3ec)][_0x12b9e5(0x2ba)](_0x2a0bef,{'responseType':_0x12b9e5(0x3b8)}))['data'];}else{if((0x0,_[_0x12b9e5(0x4fa)])(_0xa94a0))_0x3805a5=Buffer[_0x12b9e5(0x1ae)](_0xa94a0,_0x12b9e5(0x655));else throw new g(_0x12b9e5(0x2cd));}return await this[_0x12b9e5(0x16a)][_0x12b9e5(0x6b9)](this[_0x12b9e5(0x164)][_0x12b9e5(0x242)],_0x3805a5),{'update':_0x12b9e5(0x576)};}catch(_0x3c306e){throw new A('Error\x20updating\x20profile\x20picture',_0x3c306e['toString']());}}async[a0_0x29cdb8(0x265)](){const _0x16f5bc=a0_0x29cdb8;try{return await this[_0x16f5bc(0x16a)]['removeProfilePicture'](this[_0x16f5bc(0x164)][_0x16f5bc(0x242)]),{'update':_0x16f5bc(0x576)};}catch(_0x1b5717){throw new A(_0x16f5bc(0x3f5),_0x1b5717[_0x16f5bc(0x47a)]());}}async[a0_0x29cdb8(0x290)](_0x526abb){const _0x22a4dd=a0_0x29cdb8;try{let _0x5590ff=_0x526abb[_0x22a4dd(0x403)][_0x22a4dd(0x667)](_0x322cc1=>this['createJid'](_0x322cc1)),{id:_0x1b7047}=await this[_0x22a4dd(0x16a)][_0x22a4dd(0x22f)](_0x526abb['subject'],_0x5590ff);return _0x526abb?.[_0x22a4dd(0x145)]&&await this['client'][_0x22a4dd(0x58d)](_0x1b7047,_0x526abb[_0x22a4dd(0x145)]),{'metadata':await this['client'][_0x22a4dd(0x235)](_0x1b7047)};}catch(_0x3d7499){throw this['logger'][_0x22a4dd(0x269)](this[_0x22a4dd(0x63f)]+'\x20('+this[_0x22a4dd(0x164)][_0x22a4dd(0x242)]+_0x22a4dd(0x2f1)+JSON[_0x22a4dd(0x199)](_0x3d7499,null,0x2)),new A(_0x22a4dd(0x5b0),_0x3d7499[_0x22a4dd(0x47a)]());}}async[a0_0x29cdb8(0x434)](_0x50bc06){const _0x2c1ef5=a0_0x29cdb8;try{let _0xca0523;if((0x0,_[_0x2c1ef5(0x60f)])(_0x50bc06[_0x2c1ef5(0x3a9)])){let _0x358fb6=new Date()[_0x2c1ef5(0x29a)](),_0x45b401=_0x50bc06[_0x2c1ef5(0x3a9)]+_0x2c1ef5(0x5ec)+_0x358fb6;_0xca0523=(await ce[_0x2c1ef5(0x3ec)]['get'](_0x45b401,{'responseType':_0x2c1ef5(0x3b8)}))['data'];}else{if((0x0,_[_0x2c1ef5(0x4fa)])(_0x50bc06[_0x2c1ef5(0x3a9)]))_0xca0523=Buffer[_0x2c1ef5(0x1ae)](_0x50bc06[_0x2c1ef5(0x3a9)],'base64');else throw new g(_0x2c1ef5(0x2cd));}return await this[_0x2c1ef5(0x16a)][_0x2c1ef5(0x6b9)](_0x50bc06[_0x2c1ef5(0x3ae)],_0xca0523),{'update':_0x2c1ef5(0x576)};}catch(_0x415c36){throw new A('Error\x20update\x20group\x20picture',_0x415c36['toString']());}}async[a0_0x29cdb8(0x280)](_0x4c3c6a,_0x186f9d=a0_0x29cdb8(0x4e5)){const _0x24f927=a0_0x29cdb8;try{let _0x147ec9=await this[_0x24f927(0x16a)][_0x24f927(0x235)](_0x4c3c6a[_0x24f927(0x3ae)]),_0x3d7ac9=null;try{_0x3d7ac9=(await this[_0x24f927(0x593)](_0x4c3c6a['groupJid']))['profilePictureUrl'];}catch(_0xd491d2){this[_0x24f927(0x596)][_0x24f927(0x362)](this[_0x24f927(0x63f)]+'\x20('+this[_0x24f927(0x164)][_0x24f927(0x242)]+_0x24f927(0x23c)+_0x4c3c6a[_0x24f927(0x3ae)]+':\x20'+JSON[_0x24f927(0x199)](_0xd491d2,null,0x2));}let _0xbba06f=await this['repository'][_0x24f927(0x136)][_0x24f927(0x50b)]({'where':{'_id':_0x4c3c6a[_0x24f927(0x3ae)],'owner':this['instance'][_0x24f927(0x242)]}},{'imagechat':_0x3d7ac9,'name':_0x147ec9[_0x24f927(0x35e)],'group_size':_0x147ec9[_0x24f927(0x33b)],'group_announce':_0x147ec9[_0x24f927(0x233)],'lastcache':Date[_0x24f927(0x271)]()});return _0xbba06f&&F(this[_0x24f927(0x63f)],_0x24f927(0x6c3),{'chat':_0xbba06f}),{'metadata':_0x147ec9,'image':_0x3d7ac9};}catch(_0xfbbf98){if(_0x186f9d===_0x24f927(0x36d))return;throw new x(_0x24f927(0x14f),_0xfbbf98[_0x24f927(0x47a)]());}}async['groupDesc'](_0x29b352){const _0x43c3bd=a0_0x29cdb8;try{return await this[_0x43c3bd(0x16a)]['groupUpdateDescription'](_0x29b352[_0x43c3bd(0x3ae)],_0x29b352[_0x43c3bd(0x145)]),{'update':_0x43c3bd(0x576)};}catch(_0x51d214){throw new A(_0x43c3bd(0x483),_0x51d214[_0x43c3bd(0x47a)]());}}async[a0_0x29cdb8(0x144)](_0xe4a5d2){const _0x1f0bde=a0_0x29cdb8;try{return await this[_0x1f0bde(0x16a)][_0x1f0bde(0x152)](_0xe4a5d2['groupJid'],_0xe4a5d2[_0x1f0bde(0x208)]),{'update':_0x1f0bde(0x576)};}catch(_0x128290){throw new A('Error\x20change\x20group\x20name',_0x128290[_0x1f0bde(0x47a)]());}}async[a0_0x29cdb8(0x1a1)](_0x4ef98f){const _0xf60d39=a0_0x29cdb8;try{return await this[_0xf60d39(0x16a)][_0xf60d39(0x191)](_0x4ef98f[_0xf60d39(0x3ae)],_0x4ef98f[_0xf60d39(0xf9)]),{'update':'success'};}catch(_0x44034f){throw new A(_0xf60d39(0x4bd),_0x44034f[_0xf60d39(0x47a)]());}}async['findGroups'](){const _0x462955=a0_0x29cdb8;try{let _0x3bb596=[],_0xa45cda=await this[_0x462955(0x16a)][_0x462955(0x448)](),_0x3c50b2=Object['values'](_0xa45cda),_0x91bbd5=_0x3c50b2[_0x462955(0x339)](_0x1184be=>(0x0,w[_0x462955(0x6ad)])(_0x1184be?.['id']))['map'](async _0xfb1613=>{const _0x464c37=_0x462955;try{return await this[_0x464c37(0x16a)][_0x464c37(0x178)](_0xfb1613['id'],'preview');}catch(_0x12c9ab){return this[_0x464c37(0x596)][_0x464c37(0x362)](this[_0x464c37(0x63f)]+'\x20('+this[_0x464c37(0x164)][_0x464c37(0x242)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xfb1613['id']+':\x20'+JSON[_0x464c37(0x199)](_0x12c9ab,null,0x2)),null;}}),_0x40a8a8=await Promise['all'](_0x91bbd5);for(let _0x5cb58c=0x0;_0x5cb58c<_0x3c50b2['length'];_0x5cb58c++){let _0x211a4e=_0x3c50b2[_0x5cb58c];(0x0,w[_0x462955(0x6ad)])(_0x211a4e?.['id'])&&_0x3bb596[_0x462955(0x20a)]({'groupJid':_0x211a4e?.['id'],'subject':_0x211a4e?.[_0x462955(0x35e)],'subjectOwner':_0x211a4e?.[_0x462955(0x609)]?.[_0x462955(0x6a9)]('@')[0x0],'subjectTime':_0x211a4e?.['subjectTime'],'size':_0x211a4e?.['participants']?.[_0x462955(0x206)],'owner':_0x211a4e?.[_0x462955(0x270)]?.[_0x462955(0x6a9)]('@')[0x0],'creation':_0x211a4e?.['creation'],'desc':_0x211a4e?.[_0x462955(0x286)],'restrict':_0x211a4e?.[_0x462955(0x6a3)],'announce':_0x211a4e?.[_0x462955(0x233)],'image':_0x40a8a8[_0x5cb58c]});}return _0x3bb596;}catch(_0x1b4f9e){throw new x('Error\x20fetching\x20group',_0x1b4f9e[_0x462955(0x47a)]());}}async['inviteCode'](_0x43562d){const _0x4cc105=a0_0x29cdb8;try{let _0x3b32e4=await this[_0x4cc105(0x16a)][_0x4cc105(0x174)](_0x43562d[_0x4cc105(0x3ae)]);return{'inviteUrl':_0x4cc105(0x577)+_0x3b32e4,'inviteCode':_0x3b32e4};}catch(_0x4fc1ea){throw new x(_0x4cc105(0x223),_0x4fc1ea['toString']());}}async[a0_0x29cdb8(0x173)](_0x4a1a3d){const _0x76aad5=a0_0x29cdb8;try{let _0x25da98=await this[_0x76aad5(0x16a)][_0x76aad5(0x373)](_0x4a1a3d[_0x76aad5(0x3ae)]);return{'revoked':!0x0,'inviteUrl':_0x76aad5(0x577)+_0x25da98,'inviteCode':_0x25da98};}catch(_0xd92aba){throw new x(_0x76aad5(0x650),_0xd92aba[_0x76aad5(0x47a)]());}}async[a0_0x29cdb8(0x4c5)](_0x2d6d67){const _0x20ccf6=a0_0x29cdb8;try{if((0x0,_[_0x20ccf6(0x60f)])(_0x2d6d67[_0x20ccf6(0x3dc)]))var _0x32eb78=_0x2d6d67['inviteCode'][_0x20ccf6(0x6a9)]('/')[0x3];else var _0x32eb78=_0x2d6d67[_0x20ccf6(0x3dc)];let _0x182b0e=await this[_0x20ccf6(0x16a)][_0x20ccf6(0x1c8)](_0x32eb78);return this[_0x20ccf6(0x596)][_0x20ccf6(0x362)](this[_0x20ccf6(0x63f)]+'\x20('+this[_0x20ccf6(0x164)][_0x20ccf6(0x242)]+_0x20ccf6(0x2f1)+_0x182b0e),{'join':!0x0,'inviteCode':_0x32eb78,'groupJid':_0x182b0e};}catch(_0x37f733){throw new x('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x37f733['toString']());}}async['findParticipants'](_0x4f912d){const _0x35ecd9=a0_0x29cdb8;try{return{'participants':(await this['client'][_0x35ecd9(0x235)](_0x4f912d[_0x35ecd9(0x3ae)]))[_0x35ecd9(0x403)]};}catch(_0x5e07c0){throw new x('No\x20participants',_0x5e07c0[_0x35ecd9(0x47a)]());}}async[a0_0x29cdb8(0x465)](_0x4ce39f){const _0x18006b=a0_0x29cdb8;try{let _0x13b26e=_0x4ce39f[_0x18006b(0x403)][_0x18006b(0x667)](_0x148005=>this[_0x18006b(0x25a)](_0x148005));return{'updateParticipants':await this[_0x18006b(0x16a)]['groupParticipantsUpdate'](_0x4ce39f[_0x18006b(0x3ae)],_0x13b26e,_0x4ce39f[_0x18006b(0x19a)])};}catch(_0x840592){throw new g(_0x18006b(0x689),_0x840592[_0x18006b(0x47a)]());}}async[a0_0x29cdb8(0x238)](_0x415376){const _0x4cdccb=a0_0x29cdb8;try{let _0x2c3fa5=await this[_0x4cdccb(0x16a)][_0x4cdccb(0x45b)](_0x415376[_0x4cdccb(0x3ae)],_0x415376[_0x4cdccb(0x418)]);return{'success':!0x0};}catch(_0x22f107){throw new g(_0x4cdccb(0x6d5),_0x22f107['toString']());}}async[a0_0x29cdb8(0x30d)](_0x32f7e0){const _0x31f0f0=a0_0x29cdb8;try{return await this[_0x31f0f0(0x16a)][_0x31f0f0(0x24d)](_0x32f7e0[_0x31f0f0(0x3ae)]),{'groupJid':_0x32f7e0[_0x31f0f0(0x3ae)],'leave':!0x0};}catch(_0x338508){throw new g('Unable\x20to\x20leave\x20the\x20group',_0x338508[_0x31f0f0(0x47a)]());}}async[a0_0x29cdb8(0x487)](_0x2c8cf1){const _0x576b22=a0_0x29cdb8;return await this[_0x576b22(0x479)](_0x2c8cf1[_0x576b22(0x1a8)],{'poll':{'name':_0x2c8cf1['pollMessage']?.['name'],'selectableCount':_0x2c8cf1[_0x576b22(0x487)][_0x576b22(0x526)],'values':_0x2c8cf1[_0x576b22(0x487)][_0x576b22(0x5ca)]}},_0x2c8cf1?.[_0x576b22(0xec)]);}async[a0_0x29cdb8(0x579)](_0x239426,_0x5211e5,_0x3807b8){const _0x452fed=a0_0x29cdb8;if(await this[_0x452fed(0x60e)](_0x239426,!0x0)){let _0x3e569d={'where':{'_id':_0x239426['id'],'owner':this[_0x452fed(0x164)][_0x452fed(0x242)]}},_0x365411={'status':[_0x3807b8[_0x452fed(0x46b)]][0x0]};try{let _0x466634=await this[_0x452fed(0x29f)][_0x452fed(0x68d)][_0x452fed(0x656)](_0x3e569d,_0x365411);_0x466634&&F(this[_0x452fed(0x63f)],_0x452fed(0x1f8),{'message':_0x466634});}catch{}}}[a0_0x29cdb8(0x3df)](_0x8fcd43){const _0x4763fc=a0_0x29cdb8;let _0x9e6623=_0x8fcd43[_0x4763fc(0x6bd)](/\\n/g,'\x0a')[_0x4763fc(0x6a9)]('\x0a')['filter'](_0x1654c6=>_0x1654c6[_0x4763fc(0x386)](_0x4763fc(0x67e))||_0x1654c6[_0x4763fc(0x386)](_0x4763fc(0x3e6))),_0x2f909b='';return _0x9e6623[_0x4763fc(0x534)](_0x4fc106=>{const _0x4f6e45=_0x4763fc;let _0x3fb991=/TEL(?:.*):(.+)/,_0x585c50=/EMAIL(?:.*):(.+)/,_0x53a6ca=_0x4fc106[_0x4f6e45(0x343)](_0x3fb991),_0x2bcc0f=_0x4fc106[_0x4f6e45(0x343)](_0x585c50);if(_0x53a6ca){let _0x128f81=_0x53a6ca[0x1][_0x4f6e45(0x6bd)](/-| |\+|\(|\)/g,'')[_0x4f6e45(0x192)]();_0x2f909b+='Telefone:\x20'+_0x128f81+'\x0a';}else{if(_0x2bcc0f){let _0x42ec86=_0x2bcc0f[0x1]['trim']();_0x2f909b+='E-mail:\x20'+_0x42ec86+'\x0a';}}}),_0x2f909b[_0x4763fc(0x192)]();}async['updateChatWithMessage'](_0x147302,_0x44f92a,_0x119ea4){const _0x373d3a=a0_0x29cdb8;let _0x2d5ec9=_0x44f92a[_0x373d3a(0x4db)]['remoteJid'][_0x373d3a(0x6bd)](/:\d{1,2}@/g,'@'),_0x4334ab=_0x44f92a['key'][_0x373d3a(0x56f)],_0x4bb91d=_0x2d5ec9['endsWith']('@g.us');if(!_0x147302[_0x373d3a(0x522)])return;let _0x38b065={'lastmsg':_0x44f92a['messageTimestamp']||Date[_0x373d3a(0x271)](),'unreadcount':_0x4334ab?0x0:0x1,..._0x4334ab||_0x4bb91d?{}:{'name':_0x44f92a['pushName']},..._0x4bb91d?{'group':_0x4bb91d}:{}},_0x5422cd=await this[_0x373d3a(0x29f)][_0x373d3a(0x136)][_0x373d3a(0x50b)]({'where':{'_id':_0x2d5ec9,'owner':this['instance'][_0x373d3a(0x242)]}},_0x38b065,{'new':!0x0,'upsert':!0x0});if(!_0x4bb91d&&(!_0x5422cd?.[_0x373d3a(0x2bc)]||!_0x5422cd[_0x373d3a(0x2bc)][_0x373d3a(0x16e)])&&_0x44f92a['pushName']&&!_0x4334ab&&await this['repository'][_0x373d3a(0x136)][_0x373d3a(0x50b)]({'where':{'_id':_0x2d5ec9,'owner':this[_0x373d3a(0x164)][_0x373d3a(0x242)]}},{'leadInfo.nome':_0x44f92a[_0x373d3a(0x351)]},{'new':!0x0,'upsert':!0x1}),_0x5422cd)F(this['instanceName'],_0x373d3a(0x6c3),{'chat':_0x5422cd});else{this[_0x373d3a(0x596)][_0x373d3a(0x269)](this[_0x373d3a(0x63f)]+'\x20('+this[_0x373d3a(0x164)][_0x373d3a(0x242)]+_0x373d3a(0x5f9));return;}if(!this[_0x373d3a(0x253)]?.[_0x373d3a(0x4b3)][_0x373d3a(0x408)])return this['logger'][_0x373d3a(0x362)](this[_0x373d3a(0x63f)]+'\x20('+this[_0x373d3a(0x164)][_0x373d3a(0x242)]+_0x373d3a(0x642)),null;if(_0x5422cd[_0x373d3a(0xe6)][_0x373d3a(0x386)](_0x373d3a(0x5b6))&&this['AutomateSystem']?.[_0x373d3a(0x4b3)][_0x373d3a(0x302)]===!0x0)return this[_0x373d3a(0x596)][_0x373d3a(0x362)](this['instanceName']+'\x20('+this[_0x373d3a(0x164)][_0x373d3a(0x242)]+_0x373d3a(0x3fa)),null;if(_0x5422cd[_0x373d3a(0x2bc)]){if(_0x5422cd[_0x373d3a(0x2bc)][_0x373d3a(0x342)]===0x0||_0x5422cd['leadInfo'][_0x373d3a(0x256)])return this['logger']['verbose'](this[_0x373d3a(0x63f)]+'\x20('+this[_0x373d3a(0x164)][_0x373d3a(0x242)]+'):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20'+_0x2d5ec9+_0x373d3a(0x17d)),null;if(_0x5422cd['leadInfo'][_0x373d3a(0x342)]>Date[_0x373d3a(0x271)]())return this[_0x373d3a(0x596)][_0x373d3a(0x362)](this[_0x373d3a(0x63f)]+'\x20('+this[_0x373d3a(0x164)]['wuid']+_0x373d3a(0xf2)+new Date(_0x5422cd[_0x373d3a(0x2bc)][_0x373d3a(0x342)])[_0x373d3a(0x35d)]()+_0x373d3a(0x17d)),null;}this[_0x373d3a(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x373d3a(0x164)][_0x373d3a(0x242)]+_0x373d3a(0x49e)),this[_0x373d3a(0x4b8)](_0x119ea4,_0x44f92a,this[_0x373d3a(0x164)][_0x373d3a(0x242)]);}async[a0_0x29cdb8(0x600)](_0x35baf5,_0x2c54a6){const _0x16bf52=a0_0x29cdb8;if(_0x2c54a6['ENABLED']){let _0x364203=_0x35baf5['map'](async _0x421e9b=>{const _0x11d14d=a0_0x7e50;try{let _0x55a0ee={'_id':_0x421e9b[_0x11d14d(0xe6)],'owner':_0x421e9b['owner'],'lastcache':0x0};if(_0x421e9b['group']!==null&&(_0x55a0ee['group']=_0x421e9b['group']),_0x421e9b['name']!==null&&(_0x55a0ee['name']=_0x421e9b[_0x11d14d(0x208)]),_0x421e9b[_0x11d14d(0x536)]!==null&&(_0x55a0ee[_0x11d14d(0x536)]=_0x421e9b[_0x11d14d(0x536)]),_0x421e9b[_0x11d14d(0x38f)]!==null&&(_0x55a0ee['imagechat']=_0x421e9b[_0x11d14d(0x38f)]),_0x421e9b[_0x11d14d(0x38f)]===null&&(_0x55a0ee[_0x11d14d(0x38f)]='Imagem\x20no\x20encontrada'),_0x421e9b[_0x11d14d(0x2cc)]!==null&&(_0x55a0ee['lastmsg']=_0x421e9b['lastmsg']),_0x421e9b[_0x11d14d(0x1c1)]!==null&&(_0x55a0ee['archived']=_0x421e9b[_0x11d14d(0x1c1)]),_0x421e9b[_0x11d14d(0x67d)]!==null&&(_0x55a0ee[_0x11d14d(0x67d)]=_0x421e9b[_0x11d14d(0x67d)]),Object[_0x11d14d(0x613)](_0x55a0ee)[_0x11d14d(0x206)]>0x0)return await this[_0x11d14d(0x29f)][_0x11d14d(0x136)][_0x11d14d(0x50b)]({'where':{'_id':_0x421e9b[_0x11d14d(0xe6)],'owner':_0x421e9b[_0x11d14d(0x270)]}},_0x55a0ee);}catch(_0x1dd019){return console[_0x11d14d(0x269)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x421e9b[_0x11d14d(0xe6)]+':',_0x1dd019),null;}}),_0x425bf4=(await Promise[_0x16bf52(0x19d)](_0x364203))['filter'](_0x31ade9=>_0x31ade9!==null)[_0x16bf52(0x206)];this[_0x16bf52(0x596)][_0x16bf52(0x362)](this[_0x16bf52(0x63f)]+'\x20('+this[_0x16bf52(0x164)]['wuid']+_0x16bf52(0x2f1)+_0x425bf4+'\x20chats\x20de\x20'+this['instance'][_0x16bf52(0x242)]+_0x16bf52(0x491));}}async[a0_0x29cdb8(0x1a5)](_0x25ba50){const _0x1e75e6=a0_0x29cdb8;this[_0x1e75e6(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x1e75e6(0x164)]['wuid']+'):\x20Ler\x20mensagem');let _0x4bca39={'readMessages':[{'remoteJid':_0x25ba50[_0x1e75e6(0x511)]['lastReceivedMessage'][_0x1e75e6(0x4db)]['remoteJid'],'fromMe':_0x25ba50[_0x1e75e6(0x511)][_0x1e75e6(0x1d3)][_0x1e75e6(0x4db)]['fromMe'],'id':_0x25ba50['chatLog'][_0x1e75e6(0x1d3)][_0x1e75e6(0x4db)]['id']}]};await this['markMessageAsRead'](_0x4bca39);}async[a0_0x29cdb8(0x4b8)](_0x12f00c,_0x24a78c,_0x30f531){const _0x417f03=a0_0x29cdb8;try{let {key:_0x515f00,message_normalized:_0xa1942e}=_0x24a78c,_0x10e86d=_0xa1942e,_0x34cb6b=_0xa1942e[_0x417f03(0xf5)]||_0xa1942e[_0x417f03(0x630)]||_0xa1942e[_0x417f03(0x202)]||_0xa1942e[_0x417f03(0x208)],_0x5cfdef=_0x515f00[_0x417f03(0x157)],_0x16c94d;if(_0x10e86d['key'][_0x417f03(0x56f)]&&_0x34cb6b[_0x417f03(0x192)]()!==this[_0x417f03(0x253)]?.[_0x417f03(0x4b3)]['stopConversation'][_0x417f03(0x192)]())return this[_0x417f03(0x596)][_0x417f03(0x362)](this[_0x417f03(0x63f)]+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0x424)),null;if(_0x10e86d[_0x417f03(0x4db)][_0x417f03(0x56f)]&&_0x34cb6b[_0x417f03(0x192)]()===this[_0x417f03(0x253)]?.['flowConfig'][_0x417f03(0x4a9)][_0x417f03(0x192)]()){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0xef));let _0x57e096=await J[_0x417f03(0x35f)]({'owner':_0x30f531,'remoteJid':_0x5cfdef,'status':'open'});this[_0x417f03(0x596)][_0x417f03(0x362)](this[_0x417f03(0x63f)]+'\x20('+this['instance'][_0x417f03(0x242)]+_0x417f03(0x165)+_0x57e096);let _0x3e9f6a=Date['now'](),_0x2ced20;return this[_0x417f03(0x253)]?.['flowConfig'][_0x417f03(0x6ca)]===0x0?_0x2ced20={'stoppedUntil':_0x3e9f6a+0x7591f6200}:_0x2ced20={'stoppedUntil':_0x3e9f6a+this['AutomateSystem']?.[_0x417f03(0x4b3)][_0x417f03(0x6ca)]*0x3c*0x3e8},this[_0x417f03(0x596)]['verbose'](this[_0x417f03(0x63f)]+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0x32f)+_0x2ced20),this['updateStopChat'](_0x16c94d,_0x2ced20[_0x417f03(0x260)]),null;}if(_0x34cb6b&&_0x34cb6b['startsWith'](this[_0x417f03(0x253)]?.[_0x417f03(0x4b3)][_0x417f03(0x5bf)])&&_0x34cb6b[_0x417f03(0x206)]>0x4){let _0x641c80=await I[_0x417f03(0x4be)]({'owner':_0x30f531,'startCommandWord':_0x34cb6b});if(this[_0x417f03(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0x653)),_0x641c80)_0x16c94d=await this[_0x417f03(0x492)](_0x641c80,_0x10e86d['key'],_0x10e86d);else return this[_0x417f03(0x596)]['verbose'](this[_0x417f03(0x63f)]+'\x20('+this[_0x417f03(0x164)]['wuid']+_0x417f03(0x398)),null;}else _0x16c94d=await this['findConversation'](_0x30f531,_0x5cfdef,_0x10e86d);if(_0x16c94d){this[_0x417f03(0x596)]['verbose'](this[_0x417f03(0x63f)]+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0x101)),!_0x515f00[_0x417f03(0x56f)]&&_0x16c94d[_0x417f03(0x4c6)]&&this[_0x417f03(0x1a5)](_0x16c94d);let _0x2011a9=await this[_0x417f03(0x34f)](_0x16c94d);_0x2011a9&&await this[_0x417f03(0x21a)](_0x16c94d,_0x2011a9,_0x16c94d[_0x417f03(0x157)]);}}catch(_0x3e9dff){this[_0x417f03(0x596)][_0x417f03(0x269)](this[_0x417f03(0x63f)]+'\x20('+this[_0x417f03(0x164)][_0x417f03(0x242)]+_0x417f03(0x132)+JSON[_0x417f03(0x199)](_0x3e9dff,null,0x2));}}['flattenObject'](_0xd0d5db,_0x33458d='',_0x56f9ae={},_0x58088d=!0x0){for(let _0x42a9e5 in _0xd0d5db){let _0x32225f=_0x58088d?'_'+_0x42a9e5:''+_0x33458d+_0x42a9e5;typeof _0xd0d5db[_0x42a9e5]=='object'&&_0xd0d5db[_0x42a9e5]!==null?this['flattenObject'](_0xd0d5db[_0x42a9e5],_0x32225f+'.',_0x56f9ae,!0x1):_0x56f9ae[_0x32225f]=String(_0xd0d5db[_0x42a9e5]);}return _0x56f9ae;}[a0_0x29cdb8(0x508)](_0x354e12){const _0x345253=a0_0x29cdb8;let _0xc68506={};for(let _0x1c1a2b of _0x354e12)typeof _0x1c1a2b[_0x345253(0x208)]==_0x345253(0x540)&&typeof _0x1c1a2b['value']==_0x345253(0x540)&&(_0xc68506[_0x1c1a2b[_0x345253(0x208)]]=_0x1c1a2b[_0x345253(0x5c8)]);return _0xc68506;}async[a0_0x29cdb8(0x34f)](_0x227a2c){const _0x1e8881=a0_0x29cdb8;if(!this['AutomateSystem']?.[_0x1e8881(0x4b3)][_0x1e8881(0x408)]||_0x227a2c[_0x1e8881(0x46b)]!=='open'&&_0x227a2c[_0x1e8881(0x51a)]==='')return null;let _0x304817=_0x227a2c[_0x1e8881(0x511)][_0x1e8881(0x675)]||'start';typeof _0x227a2c[_0x1e8881(0x511)]['lastCondition']>'u'&&(_0x227a2c[_0x1e8881(0x511)][_0x1e8881(0x58e)]=!0x0);let _0x7bcf85=_0x227a2c[_0x1e8881(0x511)]['lastCondition'];this[_0x1e8881(0x596)][_0x1e8881(0x362)](this['instanceName']+'\x20('+this[_0x1e8881(0x164)][_0x1e8881(0x242)]+_0x1e8881(0x20c)+_0x304817+_0x1e8881(0x12b)+_0x7bcf85);let _0x35d7ef=_0x304817===_0x1e8881(0x56c)?_0x227a2c[_0x1e8881(0x37c)]['find'](_0x512248=>_0x512248['type']===_0x1e8881(0x56c)):_0x227a2c['blocks']['find'](_0x15148b=>_0x15148b[_0x1e8881(0xe6)]['toString']()===_0x304817[_0x1e8881(0x47a)]());if(!_0x35d7ef)return this[_0x1e8881(0x596)][_0x1e8881(0x269)](this[_0x1e8881(0x63f)]+'\x20('+this[_0x1e8881(0x164)][_0x1e8881(0x242)]+'):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x304817),null;let _0x4498dd={'_pushName':_0x227a2c['chatLog'][_0x1e8881(0x1d3)]['pushName'],..._0x227a2c['chatLog']['realVariables']},_0x40ad48=null;if(_0x227a2c[_0x1e8881(0x51a)]){let _0x264016=_0x227a2c['chatLog']['lastReceivedMessage']['vote'],_0x8f2463=_0x227a2c[_0x1e8881(0x5f1)][_0x1e8881(0x35f)](_0x58003e=>_0x58003e[_0x1e8881(0x676)]===_0x264016);if(_0x8f2463){let _0x49cc6f=_0x8f2463['next_groupId'];if(_0x40ad48=_0x227a2c['blocks'][_0x1e8881(0x35f)](_0x3df73a=>_0x3df73a['groupId']===_0x49cc6f&&_0x3df73a[_0x1e8881(0x5db)]===0x1),_0x35d7ef[_0x1e8881(0x355)][_0x1e8881(0x48f)]){let _0x1d2f46={'id':_0x227a2c[_0x1e8881(0x51a)],'remoteJid':_0x227a2c[_0x1e8881(0x157)],'fromMe':!0x0};await this[_0x1e8881(0x49f)](_0x1d2f46);}if(_0x35d7ef[_0x1e8881(0x355)]['pollOnReplyDelete']&&_0x35d7ef[_0x1e8881(0x355)][_0x1e8881(0x133)]){let _0x2e13ba={'number':_0x227a2c[_0x1e8881(0x157)],'options':{'delay':0x0},'textMessage':{'text':_0x1e8881(0x66b)+_0x227a2c[_0x1e8881(0x3c5)]+_0x1e8881(0x69d)+_0x264016}};await this[_0x1e8881(0x3a3)](_0x2e13ba);}_0x227a2c[_0x1e8881(0x46b)]=_0x1e8881(0x29b),_0x227a2c[_0x1e8881(0x51a)]='',_0x227a2c[_0x1e8881(0x3c5)]='',_0x227a2c['waitingPoll_replyOptions']=[];}else{this[_0x1e8881(0x596)][_0x1e8881(0x362)](this['instanceName']+'\x20('+this[_0x1e8881(0x164)][_0x1e8881(0x242)]+_0x1e8881(0x5fb));let _0x2e5d4b={'activatedCount':_0x227a2c['chatLog']['blockLogs']['filter'](_0x4ad112=>String(_0x4ad112['blockId'])===String(_0x304817))[_0x1e8881(0x206)],'moreLogs':[_0x1e8881(0x1c5)]};if(_0x35d7ef[_0x1e8881(0x355)][_0x1e8881(0x597)]){let _0x112d8a={'number':_0x227a2c[_0x1e8881(0x157)],'options':{'delay':0x0},'textMessage':{'text':_0x35d7ef['uazapi'][_0x1e8881(0x597)]}};await this[_0x1e8881(0x3a3)](_0x112d8a);}if(_0x35d7ef[_0x1e8881(0x694)]!==void 0x0&&_0x2e5d4b[_0x1e8881(0x29d)]>=_0x35d7ef['maxActives']){let _0x92699f=Date['now'](),_0x46092e=_0x35d7ef[_0x1e8881(0x432)]??0xa;isNaN(_0x46092e)&&(_0x46092e=0xa);let _0x17beb0=_0x92699f+_0x46092e*0x3c*0x3e8;_0x2e5d4b[_0x1e8881(0x261)]=_0x17beb0,_0x2e5d4b[_0x1e8881(0x509)][_0x1e8881(0x20a)](_0x1e8881(0x5b9)),this[_0x1e8881(0x5e5)](_0x227a2c,_0x17beb0),_0x227a2c['waitingPoll_id']='',_0x227a2c['waitingPoll_name']='',_0x227a2c[_0x1e8881(0x5f1)]=[];}return this['updateConversation'](_0x227a2c,_0x35d7ef,_0x2e5d4b,!0x0),null;}}if(_0x7bcf85&&_0x35d7ef[_0x1e8881(0x495)]&&!_0x227a2c[_0x1e8881(0x51a)]){let _0x426882=_0x227a2c[_0x1e8881(0x37c)][_0x1e8881(0x339)](_0x448edb=>_0x448edb[_0x1e8881(0x1e5)][_0x1e8881(0x47a)]()===_0x35d7ef[_0x1e8881(0x495)][_0x1e8881(0x47a)]())[_0x1e8881(0x3de)]((_0x2a5053,_0x1f5998)=>_0x2a5053['order']-_0x1f5998['order']);_0x426882[_0x1e8881(0x206)]>0x0&&(_0x40ad48=_0x426882[0x0]);}if(!_0x40ad48){let _0x3e5f2c=_0x35d7ef[_0x1e8881(0x1e5)],_0x2f1b7d=_0x227a2c[_0x1e8881(0x37c)][_0x1e8881(0x339)](_0x37a325=>_0x37a325[_0x1e8881(0x1e5)]===_0x3e5f2c&&_0x37a325[_0x1e8881(0x5db)]>_0x35d7ef['order'])['sort']((_0x18780e,_0x4a771b)=>_0x18780e[_0x1e8881(0x5db)]-_0x4a771b['order']);_0x2f1b7d[_0x1e8881(0x206)]>0x0&&(_0x40ad48=_0x2f1b7d[0x0]);}if(!_0x40ad48)return _0x227a2c[_0x1e8881(0x46b)]=_0x1e8881(0x2d9),null;_0x227a2c['chatLog']['realVariables']=_0x4498dd;let _0x5323dc=JSON[_0x1e8881(0x453)](JSON[_0x1e8881(0x199)](_0x40ad48));return this[_0x1e8881(0x1ec)](_0x5323dc,_0x227a2c[_0x1e8881(0x511)][_0x1e8881(0x4bc)]),_0x227a2c[_0x1e8881(0x511)][_0x1e8881(0x675)]=_0x5323dc['_id'],_0x227a2c[_0x1e8881(0x511)][_0x1e8881(0x58e)]=!0x0,_0x5323dc;}[a0_0x29cdb8(0x614)](_0x30c8eb,_0x14350f){return _0x30c8eb['replace'](/\{\{([^}]+)\}\}/g,(_0x2a712b,_0x1018a0)=>_0x14350f[_0x1018a0]||'');}[a0_0x29cdb8(0x1ec)](_0x39bb9f,_0x38b616){const _0x5780a4=a0_0x29cdb8;for(let _0x88a551 in _0x39bb9f)typeof _0x39bb9f[_0x88a551]==_0x5780a4(0x540)?_0x39bb9f[_0x88a551]=this['replaceVariables'](_0x39bb9f[_0x88a551],_0x38b616):typeof _0x39bb9f[_0x88a551]=='object'&&this[_0x5780a4(0x1ec)](_0x39bb9f[_0x88a551],_0x38b616);}async[a0_0x29cdb8(0x1b4)](_0x2ab291,_0x19e27c){const _0x5b2e38=a0_0x29cdb8;let _0x17d0d6=_0x19e27c[_0x5b2e38(0xe6)];if(_0x2ab291[_0x5b2e38(0x511)]&&_0x2ab291[_0x5b2e38(0x511)][_0x5b2e38(0x4c1)]){let _0x1bdb10=_0x2ab291[_0x5b2e38(0x511)][_0x5b2e38(0x4c1)][_0x5b2e38(0x339)](_0x2b17bb=>String(_0x2b17bb[_0x5b2e38(0x21f)])===String(_0x17d0d6))[_0x5b2e38(0xeb)]();if(_0x1bdb10&&_0x1bdb10[_0x5b2e38(0x269)]&&_0x19e27c[_0x5b2e38(0x3db)])return _0x2ab291[_0x5b2e38(0x46b)]=_0x5b2e38(0x2d9),await this['saveConversationToDatabase'](_0x2ab291),null;}if(_0x19e27c[_0x5b2e38(0x607)]==='uazapi'&&_0x19e27c[_0x5b2e38(0x355)][_0x5b2e38(0x171)]===_0x5b2e38(0x5a4)&&_0x2ab291[_0x5b2e38(0x51a)])return _0x2ab291[_0x5b2e38(0x511)]['lastBlockId']=_0x17d0d6,await this[_0x5b2e38(0x176)](_0x2ab291),null;let _0x19c435=await this[_0x5b2e38(0x34f)](_0x2ab291);if(_0x2ab291[_0x5b2e38(0x511)]&&_0x2ab291[_0x5b2e38(0x511)]['blockLogs']){let _0x134c66=_0x2ab291[_0x5b2e38(0x511)][_0x5b2e38(0x4c1)][_0x5b2e38(0x339)](_0x5b0eb8=>String(_0x5b0eb8['blockId'])===String(_0x17d0d6))[_0x5b2e38(0x206)];if(_0x19e27c[_0x5b2e38(0x694)]!==void 0x0&&_0x134c66>=_0x19e27c[_0x5b2e38(0x694)]){let _0x3ef1f5=Date[_0x5b2e38(0x271)](),_0x3abe29=_0x19e27c[_0x5b2e38(0x432)]??0xa;isNaN(_0x3abe29)&&(_0x3abe29=0xa);let _0x13b25d=_0x3ef1f5+_0x3abe29*0x3c*0x3e8,_0x48b200={'newStoppedUntil':_0x13b25d};return this['updateStopChat'](_0x2ab291,_0x13b25d),this[_0x5b2e38(0x4e9)](_0x2ab291,_0x19e27c,_0x48b200,!0x0),null;}}_0x19c435&&_0x19c435[_0x5b2e38(0x607)]!==_0x5b2e38(0x14a)&&await this['processblock'](_0x2ab291,_0x19c435,_0x2ab291[_0x5b2e38(0x157)]),_0x19c435||await this['saveConversationToDatabase'](_0x2ab291),_0x19c435&&_0x19c435['type']===_0x5b2e38(0x14a)&&(_0x2ab291[_0x5b2e38(0x511)]['lastBlockId']=_0x17d0d6,await this[_0x5b2e38(0x176)](_0x2ab291));}async[a0_0x29cdb8(0x21a)](_0x5ca37d,_0x881bde,_0x2f0851){const _0x59f008=a0_0x29cdb8;try{let _0x567235=_0x881bde[_0x59f008(0x607)];this['logger'][_0x59f008(0x362)](this[_0x59f008(0x63f)]+'\x20('+this[_0x59f008(0x164)]['wuid']+_0x59f008(0x411)+_0x567235);let _0x138263={'uazapi':()=>this[_0x59f008(0x420)](_0x5ca37d,_0x881bde,_0x2f0851),'save':()=>this[_0x59f008(0x251)](_0x5ca37d,_0x881bde),'stop':()=>this['stopConversation'](_0x5ca37d,_0x881bde),'condition':()=>this[_0x59f008(0x5ef)](_0x5ca37d,_0x881bde),'varedit':()=>this[_0x59f008(0x1cc)](_0x5ca37d,_0x881bde),'apirequest':()=>this[_0x59f008(0x65f)](_0x5ca37d,_0x881bde),'goToFlow':()=>this[_0x59f008(0x1ef)](_0x5ca37d,_0x881bde)}[_0x567235];_0x138263&&await _0x138263();}catch(_0x2ea0a7){this[_0x59f008(0x596)][_0x59f008(0x269)](this['instanceName']+'\x20('+this[_0x59f008(0x164)][_0x59f008(0x242)]+'):\x20Error\x20processing\x20the\x20block:\x20'+JSON[_0x59f008(0x199)](_0x2ea0a7,null,0x2));}}async['processgoToFlow'](_0x69f753,_0x3e27fb){const _0x25b30e=a0_0x29cdb8;if(this['logger'][_0x25b30e(0x362)](this[_0x25b30e(0x63f)]+'\x20('+this[_0x25b30e(0x164)]['wuid']+_0x25b30e(0x12a)),!_0x69f753||!_0x3e27fb)return this[_0x25b30e(0x596)][_0x25b30e(0x269)](this[_0x25b30e(0x63f)]+'\x20('+this['instance'][_0x25b30e(0x242)]+_0x25b30e(0x3f9)),null;await this[_0x25b30e(0x4e9)](_0x69f753,_0x3e27fb,{},!0x0,!0x0),console[_0x25b30e(0x5aa)]('nextBlock:'),console['log'](_0x3e27fb);let _0x57636e=_0x3e27fb[_0x25b30e(0x23d)];console[_0x25b30e(0x5aa)](_0x25b30e(0x32e),_0x57636e),_0x69f753=await this['createConversationforgoToFlow'](_0x57636e,_0x69f753[_0x25b30e(0x157)],_0x69f753[_0x25b30e(0x511)]['realVariables']),this[_0x25b30e(0x596)][_0x25b30e(0x362)](this[_0x25b30e(0x63f)]+'\x20('+this[_0x25b30e(0x164)][_0x25b30e(0x242)]+_0x25b30e(0x5ff));let _0x44a4e0=await this[_0x25b30e(0x34f)](_0x69f753);_0x44a4e0&&await this[_0x25b30e(0x21a)](_0x69f753,_0x44a4e0,_0x69f753['remoteJid']);}async[a0_0x29cdb8(0x140)](_0x162e43,_0x137878,_0x29da11){const _0xd2fb14=a0_0x29cdb8;this[_0xd2fb14(0x596)][_0xd2fb14(0x362)](this['instanceName']+'\x20('+this['instance'][_0xd2fb14(0x242)]+_0xd2fb14(0x1f5));try{if(_0x162e43=await I[_0xd2fb14(0x4be)]({'owner':this[_0xd2fb14(0x164)][_0xd2fb14(0x242)],'name':_0x162e43}),!_0x162e43)return this[_0xd2fb14(0x596)][_0xd2fb14(0x269)](this[_0xd2fb14(0x63f)]+'\x20('+this[_0xd2fb14(0x164)][_0xd2fb14(0x242)]+_0xd2fb14(0x53a)),null;let _0x1a46c6=require('mongodb')[_0xd2fb14(0x4ec)],_0x4d9f67=Date[_0xd2fb14(0x271)](),_0x4ff2b8='start',_0x139a0a={},_0xd416cc={},_0x237200={..._0x162e43['_doc'],'chatLog':null},_0x579d9a={'lastReceivedMessage':_0x139a0a,'lastSendMessage':_0xd416cc,'lastBlockId':_0x4ff2b8,'lastCondition':!0x0,'realVariables':_0x29da11};_0x237200[_0xd2fb14(0x511)]=_0x579d9a,_0x237200[_0xd2fb14(0x511)]['realVariables']={..._0x29da11},delete _0x237200['_id'],_0x237200['_id']=new _0x1a46c6(),_0x237200[_0xd2fb14(0x1e3)]=_0x4d9f67,_0x237200[_0xd2fb14(0x46b)]='open',_0x237200['remoteJid']=_0x137878;let _0xe59d64=await J[_0xd2fb14(0x15b)](_0x237200);return this[_0xd2fb14(0x596)]['verbose'](this[_0xd2fb14(0x63f)]+'\x20('+this[_0xd2fb14(0x164)][_0xd2fb14(0x242)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xe59d64?_0x237200:null;}catch(_0x34d32b){throw this[_0xd2fb14(0x596)]['error'](this[_0xd2fb14(0x63f)]+'\x20('+this[_0xd2fb14(0x164)]['wuid']+_0xd2fb14(0x575)+JSON[_0xd2fb14(0x199)](_0x34d32b,null,0x2)),new g(_0x34d32b[_0xd2fb14(0x68d)]);}}async[a0_0x29cdb8(0x65f)](_0x2687ac,_0x2518a7){const _0xbddb92=a0_0x29cdb8;let _0x453f09,_0x34e922;try{let _0xcec57d=_0x2518a7[_0xbddb92(0x283)];if(!_0xcec57d||!_0xcec57d[_0xbddb92(0x300)]||!_0xcec57d[_0xbddb92(0x1cd)])throw new Error('Falta\x20informao\x20para\x20a\x20chamada\x20API');let _0x3858ff={'method':_0xcec57d[_0xbddb92(0x1cd)],'url':_0xcec57d[_0xbddb92(0x300)],'headers':_0xcec57d[_0xbddb92(0x1d4)]||{},'data':_0xcec57d[_0xbddb92(0x370)]||{}};_0x453f09=(await(0x0,ce[_0xbddb92(0x3ec)])(_0x3858ff))['data'];let _0x165e4d=_0x2687ac[_0xbddb92(0x511)][_0xbddb92(0x4bc)],_0x5c2482=this[_0xbddb92(0x439)](_0x453f09);return Object[_0xbddb92(0x3a6)](_0x165e4d,_0x5c2482),_0x2687ac[_0xbddb92(0x511)][_0xbddb92(0x4bc)]=_0x165e4d,_0x34e922={'error':!0x1,'apiResponse':_0x453f09},this[_0xbddb92(0x4e9)](_0x2687ac,_0x2518a7,_0x34e922),_0x453f09;}catch(_0x2651b4){console[_0xbddb92(0x269)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x2651b4),_0x2651b4[_0xbddb92(0x622)]&&(_0x453f09=_0x2651b4[_0xbddb92(0x622)][_0xbddb92(0x106)]);let _0x12d41a=_0x2687ac[_0xbddb92(0x511)][_0xbddb92(0x4bc)],_0x529581=this[_0xbddb92(0x439)](_0x453f09);return Object[_0xbddb92(0x3a6)](_0x12d41a,_0x529581),_0x2687ac[_0xbddb92(0x511)][_0xbddb92(0x4bc)]=_0x12d41a,_0x34e922={'error':!0x0,'errorLog':_0x2651b4[_0xbddb92(0x47a)](),'apiResponse':_0x453f09},this[_0xbddb92(0x4e9)](_0x2687ac,_0x2518a7,_0x34e922),{'success':!0x1};}}[a0_0x29cdb8(0x5ee)](_0x144597,_0x23981b){const _0x47ea67=a0_0x29cdb8;let _0x49d559=_0x36bad9=>{const _0x34f833=a0_0x7e50;let _0x582adf=_0x36bad9[_0x34f833(0x6bd)](/[^0-9.,-]/g,'')['replace'](',','.'),_0xff7e7=parseFloat(_0x582adf);return isNaN(_0xff7e7)?null:_0xff7e7;},_0x3a3512=_0x23981b[_0x47ea67(0x118)],_0x45a74d=_0x23981b[_0x47ea67(0x5cf)];typeof _0x3a3512==_0x47ea67(0x540)&&(_0x3a3512=this[_0x47ea67(0x614)](_0x3a3512,_0x144597[_0x47ea67(0x511)][_0x47ea67(0x4bc)])??''),typeof _0x45a74d=='string'&&(_0x45a74d=this[_0x47ea67(0x614)](_0x45a74d,_0x144597[_0x47ea67(0x511)]['realVariables'])??'');let _0x19604a=null;if(!_0x23981b[_0x47ea67(0x23f)])return null;switch(this['logger'][_0x47ea67(0x362)](this['instanceName']+'\x20('+this[_0x47ea67(0x164)][_0x47ea67(0x242)]+_0x47ea67(0x31f)+_0x3a3512),this['logger'][_0x47ea67(0x362)](this[_0x47ea67(0x63f)]+'\x20('+this[_0x47ea67(0x164)][_0x47ea67(0x242)]+_0x47ea67(0x477)+_0x45a74d),_0x23981b[_0x47ea67(0x23f)]){case'+':case'-':case'*':case'/':let _0x43399f=_0x49d559(_0x3a3512),_0x350a2e=_0x49d559(_0x45a74d||'0');if(_0x43399f===null)return null;switch(_0x23981b[_0x47ea67(0x23f)]){case'+':_0x19604a=_0x43399f+(_0x350a2e??0x0);break;case'-':_0x19604a=_0x43399f-(_0x350a2e??0x0);break;case'*':_0x19604a=_0x43399f*(_0x350a2e??0x1);break;case'/':_0x350a2e!==0x0&&(_0x19604a=_0x43399f/(_0x350a2e??0x1));break;}break;case'findAndReplace':case _0x47ea67(0x158):let _0x4b174a=_0x45a74d,_0x5c72ce=_0x23981b[_0x47ea67(0x394)];if(typeof _0x5c72ce==_0x47ea67(0x540)&&(_0x5c72ce=this[_0x47ea67(0x614)](_0x5c72ce,_0x144597[_0x47ea67(0x511)][_0x47ea67(0x4bc)])??''),_0x4b174a&&_0x5c72ce!==void 0x0){let _0x5460c9=_0x23981b['editOperator']===_0x47ea67(0x6ac)?new RegExp(_0x4b174a[_0x47ea67(0x6bd)](/[-\/\\^$*+?.()|[\]{}]/g,_0x47ea67(0x18d)),'g'):new RegExp(_0x4b174a,'g');_0x19604a=_0x3a3512[_0x47ea67(0x6bd)](_0x5460c9,_0x5c72ce);}else console[_0x47ea67(0x1db)](_0x47ea67(0x184));break;case _0x47ea67(0x5dd):_0x19604a=_0x45a74d;break;case _0x47ea67(0x5fc):let _0x194ca0=_0x3a3512[_0x47ea67(0x343)](new RegExp(_0x45a74d||''));_0x19604a=_0x194ca0?_0x194ca0[0x0]:'';break;case _0x47ea67(0x4c3):_0x19604a=_0x3a3512[_0x47ea67(0x480)](0x0,parseInt(_0x45a74d||'0'));break;case _0x47ea67(0x421):let _0x254caa=parseInt(_0x45a74d||'0');_0x19604a=_0x3a3512[_0x47ea67(0x480)](_0x3a3512[_0x47ea67(0x206)]-_0x254caa);break;case _0x47ea67(0x49c):let _0x200f0a=_0x49d559(_0x3a3512),_0x5ec805=parseInt(_0x45a74d||'0');_0x5ec805=Math[_0x47ea67(0x5ba)](_0x5ec805),_0x200f0a!==null?_0x19604a=_0x200f0a[_0x47ea67(0x35d)]('pt-BR',{'minimumFractionDigits':_0x5ec805,'maximumFractionDigits':_0x5ec805}):(console[_0x47ea67(0x1db)]('Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20'+_0x3a3512),_0x19604a=null);break;case _0x47ea67(0x4b0):let _0x1c3511=_0x49d559(_0x3a3512);_0x1c3511!==null?_0x19604a=_0x1c3511[_0x47ea67(0x35d)](_0x47ea67(0x388),{'style':_0x47ea67(0x1d1),'currency':_0x47ea67(0xf0)}):(console[_0x47ea67(0x1db)](_0x47ea67(0x51d)+_0x3a3512),_0x19604a=null);break;case _0x47ea67(0xfa):_0x19604a=_0x3a3512['toUpperCase']();break;case _0x47ea67(0x66f):_0x19604a=_0x3a3512['toLowerCase']();break;case _0x47ea67(0x3ac):_0x19604a=_0x3a3512[_0x47ea67(0x6a9)]('\x20')[_0x47ea67(0x667)](_0x3e9a0c=>_0x3e9a0c[_0x47ea67(0x19f)](0x0)[_0x47ea67(0x2f0)]()+_0x3e9a0c[_0x47ea67(0x480)](0x1)[_0x47ea67(0x3d1)]())[_0x47ea67(0x327)]('\x20');break;case _0x47ea67(0x659):_0x19604a=_0x3a3512[_0x47ea67(0x192)]();break;default:_0x19604a=_0x3a3512;}return _0x19604a!==null?_0x19604a[_0x47ea67(0x47a)]():null;}async[a0_0x29cdb8(0x1cc)](_0x3925d4,_0x1d15ae){const _0x10fc9b=a0_0x29cdb8;try{let _0x548dd1=_0x3925d4[_0x10fc9b(0x39e)]?.[_0x10fc9b(0x339)](_0x11478c=>_0x11478c[_0x10fc9b(0x21f)]===_0x1d15ae[_0x10fc9b(0xe6)]?.[_0x10fc9b(0x47a)]())||[],_0x3a4d41=_0x1d15ae[_0x10fc9b(0x462)],_0x4d69fa=null,_0x5b889c=[],_0x365491=_0x3925d4[_0x10fc9b(0x511)][_0x10fc9b(0x4bc)][_0x3a4d41];_0x5b889c[_0x10fc9b(0x20a)](_0x10fc9b(0x15d)+_0x365491+'\x22');for(let _0x545d62 of _0x548dd1){_0x545d62[_0x10fc9b(0x118)]=_0x365491,_0x4d69fa=_0x545d62['firstValue'];let _0x590c44;try{_0x590c44=this[_0x10fc9b(0x5ee)](_0x3925d4,_0x545d62);}catch(_0x1466f7){console[_0x10fc9b(0x269)](_0x10fc9b(0x571)+_0x1466f7['message']);continue;}if(_0x590c44!==null){let _0x1a478d=_0x10fc9b(0x2c8)+_0x545d62[_0x10fc9b(0x23f)]+'\x22',_0x1da94f=['toBRL',_0x10fc9b(0xfa),'lowerCase',_0x10fc9b(0x3ac),_0x10fc9b(0x659)];_0x545d62[_0x10fc9b(0x23f)]==='findAndReplace'||_0x545d62[_0x10fc9b(0x23f)]===_0x10fc9b(0x158)?_0x1a478d+=_0x10fc9b(0x5a3)+_0x545d62[_0x10fc9b(0x5cf)]+_0x10fc9b(0x65e)+_0x545d62['replaceValue']+'\x22':!_0x1da94f['includes'](_0x545d62[_0x10fc9b(0x23f)])&&_0x545d62[_0x10fc9b(0x5cf)]!==null&&_0x545d62[_0x10fc9b(0x5cf)]!==void 0x0&&(_0x1a478d+=_0x10fc9b(0x162)+_0x545d62[_0x10fc9b(0x5cf)]+'\x22'),_0x1a478d+=',\x20resultado:\x20'+_0x590c44+'.',_0x5b889c[_0x10fc9b(0x20a)](_0x1a478d);}_0x590c44!==null&&(_0x365491=_0x590c44);}if(_0x3925d4[_0x10fc9b(0x511)][_0x10fc9b(0x4bc)]&&_0x1d15ae['saveVariable']){_0x3925d4[_0x10fc9b(0x511)][_0x10fc9b(0x4bc)][_0x1d15ae[_0x10fc9b(0x462)]]=_0x365491;let _0x21d284={'variable':_0x1d15ae[_0x10fc9b(0x462)],'oldValue':_0x4d69fa,'newValue':_0x365491,'moreLogs':_0x5b889c};try{this['updateConversation'](_0x3925d4,_0x1d15ae,_0x21d284);}catch(_0x2bf969){console[_0x10fc9b(0x269)](_0x10fc9b(0x161)+_0x2bf969['message']);}}return _0x3a4d41;}catch(_0x3379f1){return console[_0x10fc9b(0x269)](_0x10fc9b(0x380)+_0x3379f1[_0x10fc9b(0x68d)]),null;}}async['processConditions'](_0x2019e7,_0x3136c3){const _0x442f5b=a0_0x29cdb8;try{let _0x5f47e7=[],_0x4dfc2f=_0x2019e7[_0x442f5b(0x35a)][_0x442f5b(0x339)](_0x725582=>_0x725582['blockId']===_0x3136c3[_0x442f5b(0xe6)][_0x442f5b(0x47a)]()),_0x219f21=null,_0x4bcc39=!0x1;for(let _0x613acc of _0x4dfc2f){let _0x56c9a7=this[_0x442f5b(0x372)](_0x2019e7,_0x613acc);_0x5f47e7[_0x442f5b(0x20a)]('Primeiro\x20Valor:\x20'+_0x613acc[_0x442f5b(0x118)]+_0x442f5b(0x444)+_0x613acc['expression']+_0x442f5b(0x228)+_0x613acc[_0x442f5b(0x5cf)]+_0x442f5b(0x2c0)+_0x56c9a7),_0x219f21===null?_0x219f21=_0x56c9a7:_0x613acc[_0x442f5b(0xf3)]===_0x442f5b(0x454)?(_0x219f21=_0x219f21&&_0x56c9a7,_0x56c9a7||(_0x4bcc39=!0x0)):_0x613acc[_0x442f5b(0xf3)]==='or'&&(_0x4bcc39||(_0x219f21=_0x219f21||_0x56c9a7));}_0x219f21===null&&(_0x219f21=!0x0);let _0x10c381={'moreLogs':_0x5f47e7};_0x2019e7[_0x442f5b(0x511)]['lastCondition']=_0x219f21,await this[_0x442f5b(0x4e9)](_0x2019e7,_0x3136c3,_0x10c381);}catch(_0x940526){this['logger'][_0x442f5b(0x269)](this[_0x442f5b(0x63f)]+'\x20('+this[_0x442f5b(0x164)]['wuid']+_0x442f5b(0x5e0)+JSON['stringify'](_0x940526,null,0x2));}}[a0_0x29cdb8(0x372)](_0x401c06,_0x4abf45){const _0xb48ae7=a0_0x29cdb8;let _0x2c9204=_0x4abf45[_0xb48ae7(0x118)],_0x196650=_0x4abf45['secondValue'];typeof _0x2c9204=='string'&&(_0x2c9204=this['replaceVariables'](_0x2c9204,_0x401c06[_0xb48ae7(0x511)][_0xb48ae7(0x4bc)])??''),typeof _0x196650==_0xb48ae7(0x540)&&(_0x196650=this[_0xb48ae7(0x614)](_0x196650,_0x401c06[_0xb48ae7(0x511)][_0xb48ae7(0x4bc)])??'');try{switch(_0x4abf45['expression']){case _0xb48ae7(0x195):return _0x2c9204===_0x196650;case _0xb48ae7(0x47c):return _0x2c9204!==_0x196650;case _0xb48ae7(0x12d):return _0x2c9204[_0xb48ae7(0x386)](_0x196650);case'notContains':return!_0x2c9204[_0xb48ae7(0x386)](_0x196650);case _0xb48ae7(0x361):return parseFloat(_0x2c9204)>parseFloat(_0x196650);case _0xb48ae7(0x1b0):return parseFloat(_0x2c9204)<parseFloat(_0x196650);case _0xb48ae7(0x5cb):return _0x2c9204!=='';case _0xb48ae7(0x3ea):return _0x2c9204==='';case _0xb48ae7(0x3c1):return new RegExp(_0x196650)[_0xb48ae7(0x36b)](_0x2c9204);case _0xb48ae7(0x692):return!new RegExp(_0x196650)[_0xb48ae7(0x36b)](_0x2c9204);default:return!0x1;}}catch(_0x477d62){return console[_0xb48ae7(0x269)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x477d62),!0x1;}}['processConditionsTest'](_0x11f4b5){const _0x4bfe07=a0_0x29cdb8;let _0x89de97=!0x0,_0x4cceb1=null;for(let _0x37b02f of _0x11f4b5){let _0x59dc2e=this[_0x4bfe07(0x28a)](_0x37b02f);if(_0x4cceb1==='or'&&_0x59dc2e){_0x89de97=!0x0;break;}if(_0x4cceb1===_0x4bfe07(0x454)&&!_0x59dc2e){_0x89de97=!0x1;break;}_0x4cceb1=_0x37b02f[_0x4bfe07(0xf3)];}return _0x89de97;}[a0_0x29cdb8(0x28a)](_0x4949a5){const _0x753b8f=a0_0x29cdb8;let _0x21bec4=_0x4949a5[_0x753b8f(0x118)],_0x103a2a=_0x4949a5[_0x753b8f(0x5cf)];try{switch(_0x4949a5[_0x753b8f(0x262)]){case _0x753b8f(0x195):return String(_0x21bec4)===String(_0x103a2a);case _0x753b8f(0x47c):return String(_0x21bec4)!==String(_0x103a2a);case _0x753b8f(0x12d):return String(_0x21bec4)[_0x753b8f(0x386)](String(_0x103a2a));case'notContains':return!String(_0x21bec4)[_0x753b8f(0x386)](String(_0x103a2a));case _0x753b8f(0x361):return parseFloat(String(_0x21bec4))>parseFloat(String(_0x103a2a));case'less':return parseFloat(String(_0x21bec4))<parseFloat(String(_0x103a2a));case _0x753b8f(0x5cb):return String(_0x21bec4)!=='';case _0x753b8f(0x3ea):return String(_0x21bec4)==='';case _0x753b8f(0x3c1):return new RegExp(String(_0x103a2a))[_0x753b8f(0x36b)](String(_0x21bec4));case _0x753b8f(0x692):return!new RegExp(String(_0x103a2a))[_0x753b8f(0x36b)](String(_0x21bec4));default:return!0x1;}}catch(_0x5ec90e){return console[_0x753b8f(0x269)](_0x753b8f(0x5be)+_0x5ec90e),!0x1;}}async[a0_0x29cdb8(0x251)](_0x2c53d6,_0x4de691){const _0x344a93=a0_0x29cdb8;if(this[_0x344a93(0x596)][_0x344a93(0x362)](this['instanceName']+'\x20('+this[_0x344a93(0x164)][_0x344a93(0x242)]+'):\x20Entrou\x20na\x20funo\x20saveReply'),!_0x2c53d6||!_0x4de691)return this[_0x344a93(0x596)][_0x344a93(0x269)](this[_0x344a93(0x63f)]+'\x20('+this[_0x344a93(0x164)][_0x344a93(0x242)]+_0x344a93(0x3f9)),null;let _0x445b24=_0x4de691['saveVariable'],_0x24e48f=_0x2c53d6[_0x344a93(0x511)][_0x344a93(0x1d3)][_0x344a93(0xf5)]||_0x2c53d6[_0x344a93(0x511)][_0x344a93(0x1d3)][_0x344a93(0x630)]||_0x2c53d6[_0x344a93(0x511)][_0x344a93(0x1d3)]['vote'];try{_0x2c53d6['chatLog'][_0x344a93(0x4bc)]||(_0x2c53d6[_0x344a93(0x511)]['realVariables']={});let _0x1da099=_0x2c53d6[_0x344a93(0x511)][_0x344a93(0x4bc)][_0x445b24];_0x2c53d6[_0x344a93(0x511)]['realVariables'][_0x445b24]=_0x24e48f;let _0x55a9a2={'variable':_0x445b24,'oldValue':_0x1da099,'newValue':_0x24e48f};this[_0x344a93(0x4e9)](_0x2c53d6,_0x4de691,_0x55a9a2),this[_0x344a93(0x596)]['verbose'](this[_0x344a93(0x63f)]+'\x20('+this[_0x344a93(0x164)]['wuid']+_0x344a93(0x1ea));}catch(_0x3dded0){let _0xb89861={'error':!0x0,'errorLog':_0x3dded0[_0x344a93(0x47a)]()};return this[_0x344a93(0x4e9)](_0x2c53d6,_0x4de691,_0xb89861),this['logger'][_0x344a93(0x269)](this[_0x344a93(0x63f)]+'\x20('+this[_0x344a93(0x164)][_0x344a93(0x242)]+_0x344a93(0x592)+JSON[_0x344a93(0x199)](_0x3dded0,null,0x2)),null;}}async[a0_0x29cdb8(0x4a9)](_0x4cf6f8,_0x5528d3){const _0x4f58ac=a0_0x29cdb8;if(this['logger'][_0x4f58ac(0x362)](this[_0x4f58ac(0x63f)]+'\x20('+this['instance'][_0x4f58ac(0x242)]+_0x4f58ac(0x468)),!_0x4cf6f8||!_0x5528d3)return this[_0x4f58ac(0x596)][_0x4f58ac(0x269)](this[_0x4f58ac(0x63f)]+'\x20('+this[_0x4f58ac(0x164)][_0x4f58ac(0x242)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x2eba9e=Date['now'](),_0x2ac13c=parseInt(_0x5528d3['stopMinutes'],0xa);if(isNaN(_0x2ac13c))return this['logger'][_0x4f58ac(0x269)](this[_0x4f58ac(0x63f)]+'\x20('+this['instance'][_0x4f58ac(0x242)]+_0x4f58ac(0x669)),null;let _0x5b587f={'newStoppedUntil':_0x2eba9e+_0x2ac13c*0x3c*0x3e8};return await this[_0x4f58ac(0x4e9)](_0x4cf6f8,_0x5528d3,_0x5b587f,!0x0),null;}async[a0_0x29cdb8(0x420)](_0x18c833,_0x29e7fb,_0x5914e4){const _0x3e0f8d=a0_0x29cdb8;try{switch(_0x29e7fb[_0x3e0f8d(0x355)][_0x3e0f8d(0x171)]){case _0x3e0f8d(0x257):await this[_0x3e0f8d(0x15e)](_0x18c833,_0x29e7fb,_0x5914e4);break;case'sendMedia':await this['uazapiSendMedia'](_0x18c833,_0x29e7fb,_0x5914e4);break;case _0x3e0f8d(0x57a):await this[_0x3e0f8d(0x2c3)](_0x18c833,_0x29e7fb,_0x5914e4);break;case _0x3e0f8d(0x129):await this[_0x3e0f8d(0x266)](_0x18c833,_0x29e7fb,_0x5914e4);break;case'sendContact':await this[_0x3e0f8d(0x643)](_0x18c833,_0x29e7fb,_0x5914e4);break;case _0x3e0f8d(0x5a4):await this['uazapiSendPoll'](_0x18c833,_0x29e7fb,_0x5914e4);break;case _0x3e0f8d(0x49f):await this['uazapiDeleteMessage'](_0x18c833,_0x29e7fb,_0x5914e4);break;default:this['logger'][_0x3e0f8d(0x269)](this[_0x3e0f8d(0x63f)]+'\x20('+this['instance'][_0x3e0f8d(0x242)]+'):\x20Comando\x20desconhecido:\x20'+_0x29e7fb['uazapi'][_0x3e0f8d(0x171)]);}}catch(_0x37b2db){this[_0x3e0f8d(0x596)][_0x3e0f8d(0x269)](this['instanceName']+'\x20('+this[_0x3e0f8d(0x164)][_0x3e0f8d(0x242)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+JSON[_0x3e0f8d(0x199)](_0x37b2db,null,0x2));}}async[a0_0x29cdb8(0x4e9)](_0x3eeeca,_0x1f9e6a,_0x23b3b8,_0x206bc8=!0x1,_0x26a44c=!0x1){const _0xf689=a0_0x29cdb8;_0x3eeeca[_0xf689(0x511)][_0xf689(0x4c1)]||(_0x3eeeca['chatLog']['blockLogs']=[]);let _0x17484c=(_0x3eeeca[_0xf689(0x511)][_0xf689(0x4c1)]?.[_0xf689(0x206)]??0x0)+0x1,_0x4efdaa=_0x3eeeca[_0xf689(0x511)][_0xf689(0x4c1)][_0xf689(0x339)](_0x332ffc=>String(_0x332ffc[_0xf689(0x21f)])===String(_0x1f9e6a[_0xf689(0xe6)]))['length']+0x1,_0x59225e=_0x23b3b8?.[_0xf689(0x512)]??Date[_0xf689(0x271)](),_0x3b0d98=_0x23b3b8?.['error']?_0x23b3b8[_0xf689(0x1c3)]??_0x23b3b8['error'][_0xf689(0x47a)]():void 0x0,_0x4defc5={'onTime':_0x59225e,'blockId':_0x1f9e6a[_0xf689(0xe6)],'order':_0x17484c,'activatedCount':_0x4efdaa,'error':_0x23b3b8?.[_0xf689(0x269)]??!0x1,'messageId':_0x23b3b8?.[_0xf689(0x478)],'apiResponse':_0x23b3b8?.[_0xf689(0x54b)],'apiResponseString':_0x23b3b8?.[_0xf689(0x54b)]?JSON[_0xf689(0x199)](_0x23b3b8?.[_0xf689(0x54b)]):void 0x0,'variable':_0x23b3b8?.[_0xf689(0x13d)],'oldValue':_0x23b3b8?.['oldValue'],'newValue':_0x23b3b8?.[_0xf689(0x553)],'newStoppedUntil':_0x23b3b8?.[_0xf689(0x261)],'moreLogs':_0x23b3b8?.[_0xf689(0x509)],'errorLog':_0x3b0d98};if(_0x23b3b8[_0xf689(0x509)]&&_0x23b3b8['moreLogs']['length']>0x0){let _0x53d548=_0x23b3b8[_0xf689(0x509)][_0xf689(0x667)](_0x4fc52e=>this[_0xf689(0x249)](_0x4fc52e,_0x3eeeca['chatLog']['realVariables']));_0x4defc5[_0xf689(0x509)]=_0x53d548;}_0x3eeeca[_0xf689(0x511)][_0xf689(0x4bc)]||(_0x3eeeca[_0xf689(0x511)][_0xf689(0x4bc)]={}),_0x3eeeca[_0xf689(0x511)][_0xf689(0x4bc)][_0xf689(0x315)]=String(_0x4efdaa),_0x3eeeca[_0xf689(0x511)]['realVariables'][_0xf689(0x127)]=String(_0x23b3b8['error']??!0x1),_0x3eeeca[_0xf689(0x511)][_0xf689(0x4c1)]['push'](_0x4defc5),_0x3eeeca[_0xf689(0x511)][_0xf689(0x675)]=_0x1f9e6a[_0xf689(0xe6)][_0xf689(0x47a)](),_0x3eeeca[_0xf689(0x511)]['lastSendMessage']&&(_0x3eeeca[_0xf689(0x511)][_0xf689(0x303)]=_0x3eeeca[_0xf689(0x511)][_0xf689(0x303)]),_0x3eeeca[_0xf689(0x511)][_0xf689(0x1d3)]&&(_0x3eeeca[_0xf689(0x511)][_0xf689(0x1d3)]=_0x3eeeca[_0xf689(0x511)]['lastReceivedMessage']),_0x3eeeca[_0xf689(0x511)][_0xf689(0x58e)]&&(_0x3eeeca[_0xf689(0x511)][_0xf689(0x58e)]=_0x3eeeca[_0xf689(0x511)][_0xf689(0x58e)]),_0x26a44c&&(_0x3eeeca['status']='closed'),_0x206bc8?this['saveConversationToDatabase'](_0x3eeeca):this['goNextblock'](_0x3eeeca,_0x1f9e6a);}[a0_0x29cdb8(0x249)](_0x3f9cb3,_0xba780a){const _0x251b51=a0_0x29cdb8;return _0x3f9cb3[_0x251b51(0x6bd)](/\{\{([^}]+)\}\}/g,(_0x206c34,_0x4615a7)=>_0xba780a[_0x4615a7]?'{{'+_0x4615a7+_0x251b51(0x62a)+_0xba780a[_0x4615a7]+'\x22':'{{'+_0x4615a7+_0x251b51(0x500));}async['saveConversationToDatabase'](_0x3d3669){const _0x46ac80=a0_0x29cdb8;try{let _0x55541d=Object[_0x46ac80(0x340)](_0x3d3669['chatLog'][_0x46ac80(0x4bc)])['map'](([_0x5b5703,_0x49ba42])=>({'name':_0x5b5703,'value':_0x49ba42})),_0x38d6bf=await J[_0x46ac80(0x2b8)]({'_id':_0x3d3669['_id']},{'$set':{'chatLog.lastBlockId':_0x3d3669[_0x46ac80(0x511)]['lastBlockId'],'blocks':_0x3d3669[_0x46ac80(0x37c)],'chatLog.lastSendMessage':_0x3d3669['chatLog'][_0x46ac80(0x303)],'chatLog.lastReceivedMessage':_0x3d3669[_0x46ac80(0x511)]['lastReceivedMessage'],'chatLog.lastCondition':_0x3d3669[_0x46ac80(0x511)][_0x46ac80(0x58e)],'chatLog.chatVariables':_0x55541d,'chatLog.realVariables':_0x3d3669[_0x46ac80(0x511)][_0x46ac80(0x4bc)],'status':_0x3d3669[_0x46ac80(0x46b)],'chatLog.blockLogs':_0x3d3669[_0x46ac80(0x511)][_0x46ac80(0x4c1)],'waitingPoll_id':_0x3d3669[_0x46ac80(0x51a)],'waitingPoll_name':_0x3d3669[_0x46ac80(0x3c5)],'waitingPoll_replyOptions':_0x3d3669[_0x46ac80(0x5f1)]}},{'new':!0x0});if(_0x38d6bf){this[_0x46ac80(0x596)]['verbose'](this[_0x46ac80(0x63f)]+'\x20('+this[_0x46ac80(0x164)][_0x46ac80(0x242)]+_0x46ac80(0x2d8)+_0x38d6bf[_0x46ac80(0xe6)]);try{let _0x101819=['nome',_0x46ac80(0x532),_0x46ac80(0x4de),_0x46ac80(0x328),'status','notas',_0x46ac80(0x474),_0x46ac80(0x1a4)];if(!this['AutomateSystem']&&(await this[_0x46ac80(0x3b3)](),!this['AutomateSystem']))throw new Error(_0x46ac80(0x1cb));let _0x468d49=this['AutomateSystem']?.[_0x46ac80(0x227)][_0x46ac80(0x667)](_0x2ac96d=>_0x2ac96d[_0x46ac80(0x208)]),_0x5d7715={};Object[_0x46ac80(0x340)](_0x3d3669[_0x46ac80(0x511)]['realVariables'])['forEach'](([_0x513e44,_0x39c95d])=>{const _0x4b75f3=_0x46ac80;_0x101819[_0x4b75f3(0x386)](_0x513e44)&&(_0x513e44===_0x4b75f3(0x1a4)&&typeof _0x39c95d==_0x4b75f3(0x540)?_0x5d7715[_0x513e44]=_0x39c95d[_0x4b75f3(0x6a9)](',')[_0x4b75f3(0x667)](_0x5a355a=>_0x5a355a['trim']())[_0x4b75f3(0x339)](_0x4fbb8c=>_0x4fbb8c!==''):_0x5d7715[_0x513e44]=_0x39c95d);});let _0x298ef6=_0x3d3669[_0x46ac80(0x511)][_0x46ac80(0x4c1)][_0x3d3669[_0x46ac80(0x511)]['blockLogs'][_0x46ac80(0x206)]-0x1];if(_0x298ef6){let _0x512aab=_0x298ef6[_0x46ac80(0x261)];_0x512aab!==void 0x0&&(_0x5d7715[_0x46ac80(0x342)]=_0x512aab[_0x46ac80(0x47a)]());}let _0x57f6a0=_0x55541d[_0x46ac80(0x339)](_0x1fce4d=>_0x468d49['includes'](_0x1fce4d[_0x46ac80(0x208)]));this[_0x46ac80(0x596)][_0x46ac80(0x362)](this[_0x46ac80(0x63f)]+'\x20('+this[_0x46ac80(0x164)][_0x46ac80(0x242)]+'):\x20leadInfoVariables'),this[_0x46ac80(0x596)][_0x46ac80(0x362)](_0x5d7715),this[_0x46ac80(0x596)][_0x46ac80(0x362)](this[_0x46ac80(0x63f)]+'\x20('+this[_0x46ac80(0x164)][_0x46ac80(0x242)]+_0x46ac80(0x417)),this['logger']['verbose'](_0x57f6a0);let _0x255766=_0x57f6a0['map'](_0x2eba95=>{const _0x390b35=_0x46ac80;let _0x738de9=this[_0x390b35(0x253)]?.[_0x390b35(0x227)][_0x390b35(0x35f)](_0x408ee6=>_0x408ee6[_0x390b35(0x208)]===_0x2eba95['name']);if(!_0x738de9)throw new Error(_0x390b35(0x2e5)+_0x2eba95[_0x390b35(0x208)]);return{'_id':_0x738de9['_id'],'value':_0x2eba95[_0x390b35(0x5c8)]};});this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x46ac80(0x164)][_0x46ac80(0x242)]+_0x46ac80(0x21b)),this[_0x46ac80(0x596)][_0x46ac80(0x362)](_0x255766),await this[_0x46ac80(0x43d)](_0x3d3669[_0x46ac80(0x157)],_0x5d7715,_0x255766);}catch(_0x306173){this[_0x46ac80(0x596)][_0x46ac80(0x269)](this[_0x46ac80(0x63f)]+'\x20('+this['instance'][_0x46ac80(0x242)]+_0x46ac80(0x43a)+JSON[_0x46ac80(0x199)](_0x306173));}}else this[_0x46ac80(0x596)]['error'](this[_0x46ac80(0x63f)]+'\x20('+this['instance'][_0x46ac80(0x242)]+_0x46ac80(0x616));}catch(_0x506218){this[_0x46ac80(0x596)][_0x46ac80(0x269)](this[_0x46ac80(0x63f)]+'\x20('+this[_0x46ac80(0x164)][_0x46ac80(0x242)]+_0x46ac80(0x2aa)+JSON[_0x46ac80(0x199)](_0x506218));}}async[a0_0x29cdb8(0x43d)](_0x2635eb,_0x3427a8,_0x532d20){const _0x178e4c=a0_0x29cdb8;try{let _0x596a55={'leadInfo.leadnome':_0x3427a8[_0x178e4c(0x16e)],'leadInfo.nomecompleto':_0x3427a8[_0x178e4c(0x532)],'leadInfo.email':_0x3427a8[_0x178e4c(0x4de)],'leadInfo.cpf':_0x3427a8[_0x178e4c(0x328)],'leadInfo.status':_0x3427a8[_0x178e4c(0x46b)],'leadInfo.notas':_0x3427a8['notas'],'leadInfo.responsavelid':_0x3427a8[_0x178e4c(0x474)],'leadInfo.tags':_0x3427a8[_0x178e4c(0x1a4)],'leadInfo.customFields':_0x532d20};if('desativadoFluxoAte'in _0x3427a8){let _0xc22cc8=_0x3427a8[_0x178e4c(0x342)];_0x596a55['leadInfo.desativadoFluxoAte']=_0xc22cc8?Number(_0xc22cc8):null;}let _0x28971c=await this['repository'][_0x178e4c(0x136)][_0x178e4c(0x50b)]({'where':{'_id':_0x2635eb,'owner':this[_0x178e4c(0x164)][_0x178e4c(0x242)]}},_0x596a55);_0x28971c?(this[_0x178e4c(0x596)][_0x178e4c(0x362)](this[_0x178e4c(0x63f)]+'\x20('+this['instance']['wuid']+_0x178e4c(0x547)+_0x28971c[_0x178e4c(0xe6)]),F(this['instanceName'],'chats',{'chat':_0x28971c})):this[_0x178e4c(0x596)][_0x178e4c(0x269)](this['instanceName']+'\x20('+this['instance'][_0x178e4c(0x242)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD');}catch(_0x4c68a8){this['logger'][_0x178e4c(0x269)](this['instanceName']+'\x20('+this[_0x178e4c(0x164)][_0x178e4c(0x242)]+_0x178e4c(0x5f7)+JSON[_0x178e4c(0x199)](_0x4c68a8,null,0x2));}}async['updateStopChat'](_0x2cb50a,_0x5bd0cd){const _0x300aa2=a0_0x29cdb8;this['logger'][_0x300aa2(0x362)](this[_0x300aa2(0x63f)]+'\x20('+this[_0x300aa2(0x164)][_0x300aa2(0x242)]+_0x300aa2(0x513)+_0x5bd0cd);try{let _0x32cb22=await this['repository'][_0x300aa2(0x136)][_0x300aa2(0x50b)]({'where':{'_id':_0x2cb50a['remoteJid'],'owner':_0x2cb50a[_0x300aa2(0x270)]}},{'leadInfo.desativadoFluxoAte':_0x5bd0cd});this[_0x300aa2(0x596)][_0x300aa2(0x362)](this[_0x300aa2(0x63f)]+'\x20('+this['instance'][_0x300aa2(0x242)]+_0x300aa2(0x5c2)+_0x2cb50a[_0x300aa2(0xe6)]),this[_0x300aa2(0x596)][_0x300aa2(0x362)](this[_0x300aa2(0x63f)]+'\x20('+this[_0x300aa2(0x164)][_0x300aa2(0x242)]+_0x300aa2(0x513)+JSON['stringify'](_0x32cb22,null,0x2)),_0x32cb22&&F(this['instanceName'],_0x300aa2(0x6c3),{'chat':_0x32cb22});}catch(_0x2434a7){this[_0x300aa2(0x596)][_0x300aa2(0x269)](this['instanceName']+'\x20('+this[_0x300aa2(0x164)][_0x300aa2(0x242)]+_0x300aa2(0x505)+JSON[_0x300aa2(0x199)](_0x2434a7));}}async['findFlow'](_0x5dfa91,_0x453089){const _0x3242a0=a0_0x29cdb8;try{this[_0x3242a0(0x596)][_0x3242a0(0x362)](this[_0x3242a0(0x63f)]+'\x20('+this[_0x3242a0(0x164)]['wuid']+_0x3242a0(0x5b5));let _0x4fe508=_0x453089[_0x3242a0(0x6bd)](/\D/g,''),_0x6b6b6a=await I[_0x3242a0(0x4be)]({'owner':_0x5dfa91,'testingWith':_0x4fe508});return _0x6b6b6a||(this[_0x3242a0(0x596)][_0x3242a0(0x362)](this[_0x3242a0(0x63f)]+'\x20('+this[_0x3242a0(0x164)][_0x3242a0(0x242)]+'):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...'),_0x6b6b6a=await I['findOne']({'owner':_0x5dfa91,'default':!0x0})),_0x6b6b6a||(this[_0x3242a0(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x3242a0(0x164)]['wuid']+_0x3242a0(0x4e3)),null);}catch(_0xf942a1){return this[_0x3242a0(0x596)][_0x3242a0(0x269)](this['instanceName']+'\x20('+this[_0x3242a0(0x164)][_0x3242a0(0x242)]+_0x3242a0(0x63b)+JSON[_0x3242a0(0x199)](_0xf942a1,null,0x2)),null;}}async[a0_0x29cdb8(0x552)](_0x5bb1e1,_0x5bac19,_0x5ddf45){const _0x1219ef=a0_0x29cdb8;try{let _0x3bbf03=!!_0x5ddf45[_0x1219ef(0x202)],_0x61d36a=_0x5ddf45[_0x1219ef(0x582)],_0x4a707f=null;if(this[_0x1219ef(0x596)][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+_0x1219ef(0x37a)+_0x3bbf03+'poll_id'+_0x61d36a),_0x3bbf03)return this[_0x1219ef(0x596)][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+_0x1219ef(0x4d6)),_0x4a707f=await J[_0x1219ef(0x4be)]({'owner':_0x5bb1e1,'remoteJid':_0x5bac19,'waitingPoll_id':_0x61d36a}),_0x4a707f?(_0x4a707f[_0x1219ef(0x1e3)]=Date[_0x1219ef(0x271)](),_0x4a707f[_0x1219ef(0x511)][_0x1219ef(0x1d3)]=_0x5ddf45,_0x4a707f):(this['logger'][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)][_0x1219ef(0x242)]+_0x1219ef(0x2b2)),null);{if(this[_0x1219ef(0x596)][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+_0x1219ef(0x2f1)+this[_0x1219ef(0x164)][_0x1219ef(0x242)]+_0x1219ef(0xed)),this['logger'][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)][_0x1219ef(0x242)]+_0x1219ef(0x3fe)),_0x4a707f=await J[_0x1219ef(0x4be)]({'owner':_0x5bb1e1,'remoteJid':_0x5bac19,'status':'open'}),!_0x4a707f){let _0x4cfa21=await this[_0x1219ef(0x52e)](_0x5bb1e1,_0x5bac19);if(_0x4cfa21&&(_0x4a707f=await this[_0x1219ef(0x492)](_0x4cfa21,_0x5ddf45[_0x1219ef(0x4db)],_0x5ddf45)),!_0x4a707f)return null;}let _0x51c8a8=Date[_0x1219ef(0x271)](),_0x117bea=_0x4a707f?.['minutesToClose']||0x0,_0x326b6f=_0x51c8a8-_0x117bea*0x3c*0x3e8;if(this['logger'][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+_0x1219ef(0x38d)+_0x51c8a8+_0x1219ef(0x6c6)+_0x117bea+_0x1219ef(0x183)+_0x326b6f),this[_0x1219ef(0x596)][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this['instance'][_0x1219ef(0x242)]+_0x1219ef(0xfd)),this[_0x1219ef(0x596)][_0x1219ef(0x362)](this['instanceName']+'\x20('+this[_0x1219ef(0x164)][_0x1219ef(0x242)]+_0x1219ef(0x2e6)+_0x4a707f['lastInteraction']),this[_0x1219ef(0x596)][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+_0x1219ef(0x198)+_0x326b6f),_0x4a707f['lastInteraction']<_0x326b6f){this['logger'][_0x1219ef(0x362)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)]['wuid']+'):\x20Conversa\x20est\x20expirada');let _0x3c8a10=await this[_0x1219ef(0x52e)](_0x5bb1e1,_0x5bac19);if(_0x3c8a10===null)return null;_0x4a707f&&await J[_0x1219ef(0x50b)]({'_id':_0x4a707f[_0x1219ef(0xe6)]},{'status':'closed'}),_0x4a707f=await this[_0x1219ef(0x492)](_0x3c8a10,_0x5ddf45[_0x1219ef(0x4db)],_0x5ddf45);}return _0x4a707f['lastInteraction']=_0x51c8a8,_0x4a707f[_0x1219ef(0x511)][_0x1219ef(0x1d3)]=_0x5ddf45,_0x4a707f;}}catch(_0x440193){return this[_0x1219ef(0x596)][_0x1219ef(0x269)](this[_0x1219ef(0x63f)]+'\x20('+this[_0x1219ef(0x164)][_0x1219ef(0x242)]+_0x1219ef(0x391)+JSON[_0x1219ef(0x199)](_0x440193,null,0x2)),null;}}async[a0_0x29cdb8(0x492)](_0x1add1c,_0x3b47f2,_0x5ac407){const _0x30aa52=a0_0x29cdb8;this[_0x30aa52(0x596)][_0x30aa52(0x362)](this[_0x30aa52(0x63f)]+'\x20('+this[_0x30aa52(0x164)][_0x30aa52(0x242)]+'):\x20Criando\x20nova\x20conversa');try{let _0x980dee=require(_0x30aa52(0x25f))[_0x30aa52(0x4ec)],_0x2b7322=Date[_0x30aa52(0x271)](),_0x28f7f6=_0x30aa52(0x56c),_0x132346=_0x3b47f2[_0x30aa52(0x56f)]?null:_0x5ac407,_0x53a15c=_0x3b47f2[_0x30aa52(0x56f)]?_0x5ac407:null,_0x42aa6c=_0x3b47f2[_0x30aa52(0x157)];await this[_0x30aa52(0x6bb)](_0x42aa6c);let _0x156f2f={..._0x1add1c['_doc'],'chatLog':null},_0x353a0e=await this[_0x30aa52(0x508)](_0x156f2f[_0x30aa52(0x116)]),_0x5c1bf7=await this[_0x30aa52(0x45f)](_0x42aa6c),_0x2c7aee={..._0x353a0e,..._0x5c1bf7,'_remoteJid':_0x42aa6c},_0x3a8f86={'lastReceivedMessage':_0x132346,'lastSendMessage':_0x53a15c,'lastBlockId':_0x28f7f6,'lastCondition':!0x0,'realVariables':_0x2c7aee};_0x156f2f[_0x30aa52(0x511)]=_0x3a8f86,delete _0x156f2f['_id'],_0x156f2f['_id']=new _0x980dee(),_0x156f2f['lastInteraction']=_0x2b7322,_0x156f2f[_0x30aa52(0x46b)]='open',_0x156f2f[_0x30aa52(0x157)]=_0x42aa6c;let _0x4fbb84=await J['create'](_0x156f2f);return this[_0x30aa52(0x596)][_0x30aa52(0x362)](this['instanceName']+'\x20('+this[_0x30aa52(0x164)][_0x30aa52(0x242)]+_0x30aa52(0x278)),_0x4fbb84?_0x156f2f:null;}catch(_0x29a7cf){return this['logger'][_0x30aa52(0x269)](this[_0x30aa52(0x63f)]+'\x20('+this[_0x30aa52(0x164)][_0x30aa52(0x242)]+_0x30aa52(0x575)+JSON['stringify'](_0x29a7cf,null,0x2)),_0x29a7cf;}}async[a0_0x29cdb8(0x15e)](_0x31ab8d,_0x34f6e4,_0x10db04){const _0x4b206b=a0_0x29cdb8;this[_0x4b206b(0x596)][_0x4b206b(0x362)](this[_0x4b206b(0x63f)]+'\x20('+this[_0x4b206b(0x164)]['wuid']+_0x4b206b(0x170));let _0x2e974e={'number':_0x10db04,'options':{'delay':_0x34f6e4[_0x4b206b(0x355)][_0x4b206b(0x1cf)]},'textMessage':{'text':_0x34f6e4[_0x4b206b(0x355)][_0x4b206b(0xf5)]}};try{let _0x24b6e1=await this['textMessage'](_0x2e974e);if(_0x24b6e1){let _0xa6dc7={'_id':_0x24b6e1[_0x4b206b(0x4db)]['id'],'_fromMe':_0x24b6e1['key'][_0x4b206b(0x56f)],'_remoteJid':_0x24b6e1[_0x4b206b(0x4db)][_0x4b206b(0x157)]};_0x31ab8d['chatLog'][_0x4b206b(0x675)]=_0x34f6e4['_id'][_0x4b206b(0x47a)]();let {message_normalized:_0x5255a4}=this[_0x4b206b(0x2b7)](_0x24b6e1[_0x4b206b(0x68d)],G(_0x24b6e1[_0x4b206b(0x68d)]),null);_0x31ab8d[_0x4b206b(0x511)][_0x4b206b(0x303)]=await _0x5255a4;let _0x40c8a0={'messageId':_0x24b6e1[_0x4b206b(0x4db)]['id']},_0x49688a=_0x31ab8d[_0x4b206b(0x511)][_0x4b206b(0x4bc)];Object[_0x4b206b(0x3a6)](_0x49688a,_0xa6dc7),_0x31ab8d[_0x4b206b(0x511)][_0x4b206b(0x4bc)]=_0x49688a,this[_0x4b206b(0x4e9)](_0x31ab8d,_0x34f6e4,_0x40c8a0);}else{let _0x4c031f={'error':!0x0};this[_0x4b206b(0x4e9)](_0x31ab8d,_0x34f6e4,_0x4c031f),this[_0x4b206b(0x596)][_0x4b206b(0x269)](this[_0x4b206b(0x63f)]+'\x20('+this[_0x4b206b(0x164)][_0x4b206b(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x323ae8){let _0x19b357={'error':!0x0,'errorLog':_0x323ae8[_0x4b206b(0x47a)]()};this[_0x4b206b(0x4e9)](_0x31ab8d,_0x34f6e4,_0x19b357),this[_0x4b206b(0x596)][_0x4b206b(0x269)](this[_0x4b206b(0x63f)]+'\x20('+this[_0x4b206b(0x164)][_0x4b206b(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+JSON['stringify'](_0x323ae8,null,0x2));}}async[a0_0x29cdb8(0x44c)](_0x252634,_0x1b97f7,_0x2a1990){const _0x2160b5=a0_0x29cdb8;this[_0x2160b5(0x596)][_0x2160b5(0x362)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2160b5(0x58b));let _0x654eeb={'number':_0x2a1990,'options':{'delay':_0x1b97f7[_0x2160b5(0x355)][_0x2160b5(0x1cf)]},'mediaMessage':{'mediatype':_0x1b97f7['uazapi'][_0x2160b5(0x49d)],'caption':_0x1b97f7[_0x2160b5(0x355)]['caption'],'media':_0x1b97f7[_0x2160b5(0x355)][_0x2160b5(0x201)],'fileName':_0x1b97f7[_0x2160b5(0x355)]['fileName']}};try{let _0x232f0f=await this['mediaMessage'](_0x654eeb);if(_0x232f0f){let _0x240633={'_id':_0x232f0f[_0x2160b5(0x4db)]['id'],'_fromMe':_0x232f0f['key']['fromMe'],'_remoteJid':_0x232f0f[_0x2160b5(0x4db)]['remoteJid']};_0x252634[_0x2160b5(0x511)]['lastBlockId']=_0x1b97f7[_0x2160b5(0xe6)]['toString']();let {message_normalized:_0x2e804d}=this[_0x2160b5(0x2b7)](_0x232f0f[_0x2160b5(0x68d)],G(_0x232f0f[_0x2160b5(0x68d)]),null);_0x252634[_0x2160b5(0x511)][_0x2160b5(0x303)]=await _0x2e804d;let _0x478db7={'messageId':_0x232f0f[_0x2160b5(0x4db)]['id']},_0x30c4c8=_0x252634['chatLog'][_0x2160b5(0x4bc)];Object[_0x2160b5(0x3a6)](_0x30c4c8,_0x240633),_0x252634[_0x2160b5(0x511)][_0x2160b5(0x4bc)]=_0x30c4c8,this['updateConversation'](_0x252634,_0x1b97f7,_0x478db7);}else{let _0x5908e1={'error':!0x0};this['updateConversation'](_0x252634,_0x1b97f7,_0x5908e1),this['logger'][_0x2160b5(0x269)](this['instanceName']+'\x20('+this[_0x2160b5(0x164)][_0x2160b5(0x242)]+_0x2160b5(0x2c5));}}catch(_0x3ac5a0){let _0x36b14b={'error':!0x0,'errorLog':_0x3ac5a0[_0x2160b5(0x47a)]()};this[_0x2160b5(0x4e9)](_0x252634,_0x1b97f7,_0x36b14b),this['logger'][_0x2160b5(0x269)](this[_0x2160b5(0x63f)]+'\x20('+this[_0x2160b5(0x164)][_0x2160b5(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+JSON[_0x2160b5(0x199)](_0x3ac5a0,null,0x2));}}async[a0_0x29cdb8(0x2c3)](_0x21c40f,_0x55fa01,_0x55d5b8){const _0x23bc05=a0_0x29cdb8;this[_0x23bc05(0x596)][_0x23bc05(0x362)](this[_0x23bc05(0x63f)]+'\x20('+this[_0x23bc05(0x164)][_0x23bc05(0x242)]+'):\x20Enviando\x20localizao');let _0x30f8d2={'number':_0x55d5b8,'options':{'delay':_0x55fa01[_0x23bc05(0x355)]['delay']},'locationMessage':{'name':_0x55fa01[_0x23bc05(0x355)][_0x23bc05(0x208)],'address':_0x55fa01[_0x23bc05(0x355)][_0x23bc05(0x413)],'latitude':_0x55fa01[_0x23bc05(0x355)][_0x23bc05(0x2be)],'longitude':_0x55fa01[_0x23bc05(0x355)][_0x23bc05(0x48e)]}};try{let _0x14e330=await this[_0x23bc05(0x1c2)](_0x30f8d2);if(_0x14e330){let _0x3d78ec={'_id':_0x14e330[_0x23bc05(0x4db)]['id'],'_fromMe':_0x14e330[_0x23bc05(0x4db)][_0x23bc05(0x56f)],'_remoteJid':_0x14e330[_0x23bc05(0x4db)][_0x23bc05(0x157)]};_0x21c40f[_0x23bc05(0x511)][_0x23bc05(0x675)]=_0x55fa01[_0x23bc05(0xe6)]['toString']();let {message_normalized:_0x2b90b9}=this['normalizeMessage'](_0x14e330[_0x23bc05(0x68d)],G(_0x14e330[_0x23bc05(0x68d)]),null);_0x21c40f[_0x23bc05(0x511)]['lastSendMessage']=await _0x2b90b9;let _0x5bc18d={'messageId':_0x14e330[_0x23bc05(0x4db)]['id']},_0x30437d=_0x21c40f[_0x23bc05(0x511)][_0x23bc05(0x4bc)];Object[_0x23bc05(0x3a6)](_0x30437d,_0x3d78ec),_0x21c40f[_0x23bc05(0x511)]['realVariables']=_0x30437d,this[_0x23bc05(0x4e9)](_0x21c40f,_0x55fa01,_0x5bc18d);}else{let _0x579b0c={'error':!0x0};this[_0x23bc05(0x4e9)](_0x21c40f,_0x55fa01,_0x579b0c),this[_0x23bc05(0x596)][_0x23bc05(0x269)](this[_0x23bc05(0x63f)]+'\x20('+this[_0x23bc05(0x164)][_0x23bc05(0x242)]+_0x23bc05(0x430));}}catch(_0x4c77b1){let _0x431ad3={'error':!0x0,'errorLog':_0x4c77b1[_0x23bc05(0x47a)]()};this['updateConversation'](_0x21c40f,_0x55fa01,_0x431ad3),this[_0x23bc05(0x596)][_0x23bc05(0x269)](this['instanceName']+'\x20('+this[_0x23bc05(0x164)][_0x23bc05(0x242)]+_0x23bc05(0x1d8)+JSON[_0x23bc05(0x199)](_0x4c77b1,null,0x2));}}async[a0_0x29cdb8(0x266)](_0x3d7d14,_0x4afdd6,_0x5505a4){const _0x4d5d32=a0_0x29cdb8;this[_0x4d5d32(0x596)][_0x4d5d32(0x362)](this[_0x4d5d32(0x63f)]+'\x20('+this[_0x4d5d32(0x164)][_0x4d5d32(0x242)]+_0x4d5d32(0x4ba));let _0x5ea487={'number':_0x5505a4,'options':{'delay':_0x4afdd6['uazapi'][_0x4d5d32(0x1cf)]},'audioMessage':{'audio':_0x4afdd6[_0x4d5d32(0x355)][_0x4d5d32(0xfc)]}};try{let _0x5bb9c3=await this[_0x4d5d32(0x358)](_0x5ea487);if(_0x5bb9c3){let _0x178bec={'_id':_0x5bb9c3['key']['id'],'_fromMe':_0x5bb9c3[_0x4d5d32(0x4db)][_0x4d5d32(0x56f)],'_remoteJid':_0x5bb9c3[_0x4d5d32(0x4db)][_0x4d5d32(0x157)]};_0x3d7d14[_0x4d5d32(0x511)][_0x4d5d32(0x675)]=_0x4afdd6[_0x4d5d32(0xe6)][_0x4d5d32(0x47a)]();let {message_normalized:_0x5f0268}=this['normalizeMessage'](_0x5bb9c3[_0x4d5d32(0x68d)],G(_0x5bb9c3[_0x4d5d32(0x68d)]),null);_0x3d7d14[_0x4d5d32(0x511)][_0x4d5d32(0x303)]=await _0x5f0268;let _0x135b16={'messageId':_0x5bb9c3[_0x4d5d32(0x4db)]['id']},_0x22308c=_0x3d7d14[_0x4d5d32(0x511)][_0x4d5d32(0x4bc)];Object[_0x4d5d32(0x3a6)](_0x22308c,_0x178bec),_0x3d7d14[_0x4d5d32(0x511)][_0x4d5d32(0x4bc)]=_0x22308c,this[_0x4d5d32(0x4e9)](_0x3d7d14,_0x4afdd6,_0x135b16);}else{let _0x2cdb32={'error':!0x0};this[_0x4d5d32(0x4e9)](_0x3d7d14,_0x4afdd6,_0x2cdb32),this[_0x4d5d32(0x596)][_0x4d5d32(0x269)](this[_0x4d5d32(0x63f)]+'\x20('+this[_0x4d5d32(0x164)][_0x4d5d32(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0x373241){let _0x3a6883={'error':!0x0,'errorLog':_0x373241['toString']()};this[_0x4d5d32(0x4e9)](_0x3d7d14,_0x4afdd6,_0x3a6883),this['logger']['error'](this['instanceName']+'\x20('+this[_0x4d5d32(0x164)][_0x4d5d32(0x242)]+_0x4d5d32(0x216)+JSON[_0x4d5d32(0x199)](_0x373241,null,0x2));}}async[a0_0x29cdb8(0x643)](_0x3307ab,_0x42a760,_0xe527ea){const _0x3ff3a7=a0_0x29cdb8;this[_0x3ff3a7(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x3ff3a7(0x164)][_0x3ff3a7(0x242)]+_0x3ff3a7(0x61c));let _0x3f4d98={'number':_0xe527ea,'options':{'delay':_0x42a760['uazapi']['delay']},'contactMessage':[{'fullName':_0x42a760[_0x3ff3a7(0x355)][_0x3ff3a7(0x137)],'phoneNumber':_0x42a760[_0x3ff3a7(0x355)][_0x3ff3a7(0x3b4)]}]};try{let _0x288bac=await this[_0x3ff3a7(0x3e0)](_0x3f4d98);if(_0x288bac){let _0x287403={'_id':_0x288bac[_0x3ff3a7(0x4db)]['id'],'_fromMe':_0x288bac[_0x3ff3a7(0x4db)]['fromMe'],'_remoteJid':_0x288bac[_0x3ff3a7(0x4db)]['remoteJid']};_0x3307ab['chatLog']['lastBlockId']=_0x42a760[_0x3ff3a7(0xe6)][_0x3ff3a7(0x47a)]();let {message_normalized:_0x121862}=this['normalizeMessage'](_0x288bac[_0x3ff3a7(0x68d)],G(_0x288bac[_0x3ff3a7(0x68d)]),null);_0x3307ab[_0x3ff3a7(0x511)][_0x3ff3a7(0x303)]=await _0x121862;let _0x90cc7={'messageId':_0x288bac[_0x3ff3a7(0x4db)]['id']},_0x309406=_0x3307ab[_0x3ff3a7(0x511)][_0x3ff3a7(0x4bc)];Object[_0x3ff3a7(0x3a6)](_0x309406,_0x287403),_0x3307ab['chatLog']['realVariables']=_0x309406,this['updateConversation'](_0x3307ab,_0x42a760,_0x90cc7);}else{let _0x147c49={'error':!0x0};this[_0x3ff3a7(0x4e9)](_0x3307ab,_0x42a760,_0x147c49),this[_0x3ff3a7(0x596)][_0x3ff3a7(0x269)](this[_0x3ff3a7(0x63f)]+'\x20('+this[_0x3ff3a7(0x164)][_0x3ff3a7(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x4e7db6){let _0x5019f0={'error':!0x0,'errorLog':_0x4e7db6[_0x3ff3a7(0x47a)]()};this['updateConversation'](_0x3307ab,_0x42a760,_0x5019f0),this[_0x3ff3a7(0x596)][_0x3ff3a7(0x269)](this[_0x3ff3a7(0x63f)]+'\x20('+this['instance'][_0x3ff3a7(0x242)]+_0x3ff3a7(0x4ef)+JSON[_0x3ff3a7(0x199)](_0x4e7db6,null,0x2));}}['replaceVariablesInReplyOptions'](_0x48ece4,_0x5afcf2){const _0x49f8a7=a0_0x29cdb8;for(let _0x4ef898 of _0x48ece4)_0x4ef898[_0x49f8a7(0x676)]&&(_0x4ef898[_0x49f8a7(0x676)]=this[_0x49f8a7(0x614)](_0x4ef898[_0x49f8a7(0x676)],_0x5afcf2)),_0x4ef898[_0x49f8a7(0x15a)]&&(_0x4ef898[_0x49f8a7(0x15a)]=this['replaceVariables'](_0x4ef898[_0x49f8a7(0x15a)],_0x5afcf2));}async[a0_0x29cdb8(0x100)](_0x628c91,_0x315ed9,_0x10a7bc){const _0x2381d7=a0_0x29cdb8;this[_0x2381d7(0x596)][_0x2381d7(0x362)](this[_0x2381d7(0x63f)]+'\x20('+this[_0x2381d7(0x164)]['wuid']+_0x2381d7(0x217));let _0xbafe0f=_0x628c91[_0x2381d7(0x225)][_0x2381d7(0x339)](_0x823c83=>_0x823c83[_0x2381d7(0x21f)]===_0x315ed9[_0x2381d7(0xe6)]);this['replaceVariablesInReplyOptions'](_0xbafe0f,_0x628c91[_0x2381d7(0x511)][_0x2381d7(0x4bc)]);let _0x5c0a4a=_0xbafe0f['map'](_0x3064d3=>_0x3064d3[_0x2381d7(0x676)]),_0x456570={'number':_0x10a7bc,'options':{'delay':_0x315ed9[_0x2381d7(0x355)][_0x2381d7(0x1cf)]},'pollMessage':{'name':_0x315ed9['uazapi'][_0x2381d7(0x208)],'selectableCount':0x1,'values':_0x5c0a4a}};try{let _0x252898=await this['pollMessage'](_0x456570);if(_0x252898){let _0x2a7bcb={'_id':_0x252898[_0x2381d7(0x4db)]['id'],'_fromMe':_0x252898[_0x2381d7(0x4db)][_0x2381d7(0x56f)],'_remoteJid':_0x252898[_0x2381d7(0x4db)][_0x2381d7(0x157)]};this[_0x2381d7(0x596)][_0x2381d7(0x362)](this[_0x2381d7(0x63f)]+'\x20('+this[_0x2381d7(0x164)][_0x2381d7(0x242)]+_0x2381d7(0x6b2)+_0x315ed9['uazapi']['name']),_0x628c91[_0x2381d7(0x51a)]=_0x252898['key']['id'],_0x628c91['waitingPoll_name']=_0x315ed9[_0x2381d7(0x355)][_0x2381d7(0x208)],_0x628c91[_0x2381d7(0x5f1)]=_0xbafe0f,this[_0x2381d7(0x596)][_0x2381d7(0x362)](this['instanceName']+'\x20('+this[_0x2381d7(0x164)][_0x2381d7(0x242)]+_0x2381d7(0x31a)+_0x628c91[_0x2381d7(0x3c5)]),_0x628c91['chatLog'][_0x2381d7(0x675)]=_0x315ed9['_id'][_0x2381d7(0x47a)]();let {message_normalized:_0x31384b}=this[_0x2381d7(0x2b7)](_0x252898[_0x2381d7(0x68d)],G(_0x252898[_0x2381d7(0x68d)]),null);_0x628c91[_0x2381d7(0x511)][_0x2381d7(0x303)]=await _0x31384b;let _0x1b7241={'messageId':_0x252898['key']['id']},_0x4ab631=_0x628c91[_0x2381d7(0x511)][_0x2381d7(0x4bc)];Object[_0x2381d7(0x3a6)](_0x4ab631,_0x2a7bcb),_0x628c91['chatLog'][_0x2381d7(0x4bc)]=_0x4ab631,this[_0x2381d7(0x4e9)](_0x628c91,_0x315ed9,_0x1b7241);}else{let _0x2573a2={'error':!0x0};this['updateConversation'](_0x628c91,_0x315ed9,_0x2573a2),this[_0x2381d7(0x596)][_0x2381d7(0x269)](this[_0x2381d7(0x63f)]+'\x20('+this['instance'][_0x2381d7(0x242)]+_0x2381d7(0x2fc));}}catch(_0x488bc3){let _0x30b77b={'error':!0x0,'errorLog':JSON[_0x2381d7(0x199)](_0x488bc3,null,0x2)};this[_0x2381d7(0x4e9)](_0x628c91,_0x315ed9,_0x30b77b),this['logger'][_0x2381d7(0x269)](this[_0x2381d7(0x63f)]+'\x20('+this[_0x2381d7(0x164)][_0x2381d7(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+JSON[_0x2381d7(0x199)](_0x488bc3,null,0x2));}}async[a0_0x29cdb8(0x5d7)](_0x244fec,_0x4a2c89,_0x1a4791){const _0x2fd0cf=a0_0x29cdb8;this[_0x2fd0cf(0x596)][_0x2fd0cf(0x362)](this[_0x2fd0cf(0x63f)]+'\x20('+this[_0x2fd0cf(0x164)][_0x2fd0cf(0x242)]+_0x2fd0cf(0x551));let _0x22ffe7=_0x244fec[_0x2fd0cf(0x511)]['blockLogs'][_0x2fd0cf(0x35f)](_0x265bd9=>_0x265bd9[_0x2fd0cf(0x21f)]['toString']()===_0x4a2c89[_0x2fd0cf(0x355)]['blockId'][_0x2fd0cf(0x47a)]()),_0x22b05c={'id':_0x22ffe7[_0x2fd0cf(0x478)],'remoteJid':_0x22ffe7[_0x2fd0cf(0x157)],'fromMe':_0x22ffe7[_0x2fd0cf(0x56f)]};try{let _0x5c540c=await this[_0x2fd0cf(0x49f)](_0x22b05c);if(_0x5c540c){_0x244fec[_0x2fd0cf(0x511)][_0x2fd0cf(0x675)]=_0x4a2c89[_0x2fd0cf(0xe6)]['toString']();let {message_normalized:_0x4454f8}=this[_0x2fd0cf(0x2b7)](_0x5c540c['message'],G(_0x5c540c[_0x2fd0cf(0x68d)]),null);_0x244fec[_0x2fd0cf(0x511)][_0x2fd0cf(0x303)]=await _0x4454f8;let _0x84d03b={};this[_0x2fd0cf(0x4e9)](_0x244fec,_0x4a2c89,_0x84d03b);}else{let _0x2726e1={'error':!0x0};this[_0x2fd0cf(0x4e9)](_0x244fec,_0x4a2c89,_0x2726e1),this[_0x2fd0cf(0x596)][_0x2fd0cf(0x269)](this[_0x2fd0cf(0x63f)]+'\x20('+this[_0x2fd0cf(0x164)][_0x2fd0cf(0x242)]+_0x2fd0cf(0xfe));}}catch(_0x4dc397){let _0x2706f9={'error':!0x0,'errorLog':JSON[_0x2fd0cf(0x199)](_0x4dc397,null,0x2)};this[_0x2fd0cf(0x4e9)](_0x244fec,_0x4a2c89,_0x2706f9),this['logger'][_0x2fd0cf(0x269)](this[_0x2fd0cf(0x63f)]+'\x20('+this[_0x2fd0cf(0x164)][_0x2fd0cf(0x242)]+_0x2fd0cf(0x4d4)+JSON[_0x2fd0cf(0x199)](_0x4dc397,null,0x2));}}async[a0_0x29cdb8(0x3ca)](_0x3dbb44){const _0x5aae8a=a0_0x29cdb8;try{if(this[_0x5aae8a(0x596)][_0x5aae8a(0x362)](this[_0x5aae8a(0x63f)]+'\x20('+this[_0x5aae8a(0x164)][_0x5aae8a(0x242)]+'):\x20Criando\x20fluxo...'),await I['findOne']({'owner':this[_0x5aae8a(0x164)][_0x5aae8a(0x242)],'name':_0x3dbb44[_0x5aae8a(0x208)]}))return{'message':_0x5aae8a(0x5a2)};_0x3dbb44[_0x5aae8a(0x3ec)]===!0x0&&await I[_0x5aae8a(0x3fd)]({'owner':this['instance']['wuid']},{'default':!0x1});let _0x439aff=new pe[(_0x5aae8a(0x4dc))][(_0x5aae8a(0x4ec))](),_0x3a55fa={'_id':_0x439aff,'default':!0x0,'title':_0x5aae8a(0x6d4),'x':0x0,'y':0x0},_0xf7fae4={'_id':new pe[(_0x5aae8a(0x4dc))]['ObjectId'](),'order':0x1,'groupId':_0x439aff[_0x5aae8a(0x47a)](),'type':_0x5aae8a(0x56c)};return await I[_0x5aae8a(0x15b)]({'owner':this[_0x5aae8a(0x164)][_0x5aae8a(0x242)],'name':_0x3dbb44[_0x5aae8a(0x208)],'groups':[_0x3a55fa],'blocks':[_0xf7fae4],..._0x3dbb44});}catch(_0x474b66){throw this[_0x5aae8a(0x596)][_0x5aae8a(0x269)](this[_0x5aae8a(0x63f)]+'\x20('+this[_0x5aae8a(0x164)][_0x5aae8a(0x242)]+_0x5aae8a(0x353)+JSON[_0x5aae8a(0x199)](_0x474b66,null,0x2)),new g(_0x5aae8a(0x1af)+_0x474b66);}}async['deleteFlow'](_0x2a9780){const _0x2e35d4=a0_0x29cdb8;try{return this[_0x2e35d4(0x596)][_0x2e35d4(0x362)](this[_0x2e35d4(0x63f)]+'\x20('+this[_0x2e35d4(0x164)][_0x2e35d4(0x242)]+'):\x20Deletando\x20fluxo...'),await I[_0x2e35d4(0x23e)]({'owner':this[_0x2e35d4(0x164)][_0x2e35d4(0x242)],'name':_0x2a9780});}catch(_0x151a58){return this[_0x2e35d4(0x596)][_0x2e35d4(0x269)](this[_0x2e35d4(0x63f)]+'\x20('+this['instance']['wuid']+_0x2e35d4(0x117)+JSON[_0x2e35d4(0x199)](_0x151a58,null,0x2)),{'message':_0x2e35d4(0x42a)+_0x151a58};}}async[a0_0x29cdb8(0x159)](_0x4dc7df){const _0x1417ad=a0_0x29cdb8;try{this[_0x1417ad(0x596)][_0x1417ad(0x362)](this['instanceName']+'\x20('+this[_0x1417ad(0x164)][_0x1417ad(0x242)]+'):\x20Buscando\x20flow...');let _0x356a15=await I[_0x1417ad(0x4be)]({'owner':this['instance']['wuid'],'name':_0x4dc7df});if(!_0x356a15)throw new Error(_0x1417ad(0x2af));if(!this[_0x1417ad(0x253)]&&(await this[_0x1417ad(0x3b3)](),!this['AutomateSystem']))return null;let _0x1ffcdf=this[_0x1417ad(0x253)]?.[_0x1417ad(0x227)]['map'](_0x2d1ff9=>_0x2d1ff9['name']),_0xf3a1a0=['nome',_0x1417ad(0x532),'email','cpf','status',_0x1417ad(0x3bf),_0x1417ad(0x474),_0x1417ad(0x1a4)];return _0x356a15[_0x1417ad(0x116)]=_0x356a15[_0x1417ad(0x116)][_0x1417ad(0x339)](_0x49f119=>!(_0x49f119[_0x1417ad(0x3b6)]===_0x1417ad(0x2bc)||_0x49f119[_0x1417ad(0x2bc)])),_0xf3a1a0['forEach'](_0x2a7b63=>{const _0x3eea67=_0x1417ad;_0x356a15['variables'][_0x3eea67(0x20a)]({'folder':_0x3eea67(0x2bc),'name':_0x2a7b63,'value':'','doc':'','leadInfo':!0x0});}),_0x1ffcdf[_0x1417ad(0x534)](_0x1bcd62=>{const _0x1bfcad=_0x1417ad;let _0x21448d=_0x356a15[_0x1bfcad(0x116)]['findIndex'](_0x509c81=>_0x509c81[_0x1bfcad(0x208)]===_0x1bcd62);_0x21448d===-0x1?_0x356a15[_0x1bfcad(0x116)][_0x1bfcad(0x20a)]({'folder':'leadInfo','name':_0x1bcd62,'value':'','doc':'','leadInfo':!0x0}):(_0x356a15[_0x1bfcad(0x116)][_0x21448d][_0x1bfcad(0x3b6)]=_0x1bfcad(0x2bc),_0x356a15[_0x1bfcad(0x116)][_0x21448d][_0x1bfcad(0x2bc)]=!0x0);}),_0x356a15[_0x1417ad(0x37c)]&&_0x356a15[_0x1417ad(0x37c)][_0x1417ad(0x206)]>0x0&&_0x356a15[_0x1417ad(0x37c)][_0x1417ad(0x534)](_0x3c5d6c=>{const _0x362d04=_0x1417ad;_0x3c5d6c[_0x362d04(0x1e5)]&&_0x3c5d6c[_0x362d04(0x495)]&&_0x3c5d6c[_0x362d04(0x1e5)]===_0x3c5d6c[_0x362d04(0x495)]&&(_0x3c5d6c[_0x362d04(0x495)]=null);}),await _0x356a15[_0x1417ad(0x14a)](),_0x356a15;}catch(_0x32a915){throw this[_0x1417ad(0x596)]['error'](this[_0x1417ad(0x63f)]+'\x20('+this[_0x1417ad(0x164)][_0x1417ad(0x242)]+_0x1417ad(0x2df)+JSON[_0x1417ad(0x199)](_0x32a915,null,0x2)),new g(_0x1417ad(0x5b2)+_0x32a915);}}async[a0_0x29cdb8(0x4a4)](){const _0x492e4e=a0_0x29cdb8;try{return this[_0x492e4e(0x596)][_0x492e4e(0x362)](this[_0x492e4e(0x63f)]+'\x20('+this[_0x492e4e(0x164)][_0x492e4e(0x242)]+_0x492e4e(0x179)),await I[_0x492e4e(0x35f)]({'owner':this[_0x492e4e(0x164)][_0x492e4e(0x242)]});}catch(_0xce9d8a){return this[_0x492e4e(0x596)][_0x492e4e(0x269)](this[_0x492e4e(0x63f)]+'\x20('+this[_0x492e4e(0x164)]['wuid']+_0x492e4e(0x325)+JSON[_0x492e4e(0x199)](_0xce9d8a,null,0x2)),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0xce9d8a};}}async[a0_0x29cdb8(0x648)](_0x50e16b){const _0x1d7837=a0_0x29cdb8;try{this['logger']['verbose'](this[_0x1d7837(0x63f)]+'\x20('+this[_0x1d7837(0x164)]['wuid']+_0x1d7837(0xe9));let _0x1bd810=await I[_0x1d7837(0x4be)]({'owner':this[_0x1d7837(0x164)][_0x1d7837(0x242)],'name':_0x50e16b[_0x1d7837(0x208)]});if(!_0x1bd810)return{'message':_0x1d7837(0x222)};if(_0x50e16b[_0x1d7837(0x3ec)]===!0x0&&await I[_0x1d7837(0x3fd)]({'owner':this['instance'][_0x1d7837(0x242)]},{'default':!0x1}),_0x50e16b[_0x1d7837(0x2ac)]){if(await I[_0x1d7837(0x4be)]({'owner':this[_0x1d7837(0x164)]['wuid'],'name':_0x50e16b['newName']}))return{'message':'J\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x50e16b[_0x1d7837(0x208)]=_0x50e16b[_0x1d7837(0x2ac)],delete _0x50e16b['newName'];}return await I[_0x1d7837(0x5af)](_0x1bd810[_0x1d7837(0xe6)],{'$set':_0x50e16b},{'new':!0x0});}catch(_0x477fd7){throw this[_0x1d7837(0x596)][_0x1d7837(0x269)](this[_0x1d7837(0x63f)]+'\x20('+this[_0x1d7837(0x164)][_0x1d7837(0x242)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+JSON[_0x1d7837(0x199)](_0x477fd7,null,0x2)),new g(_0x1d7837(0x438)+JSON['stringify'](_0x477fd7,null,0x2));}}async[a0_0x29cdb8(0x17b)](_0xfcaca4){const _0x4249d8=a0_0x29cdb8;try{this[_0x4249d8(0x596)][_0x4249d8(0x362)](this[_0x4249d8(0x63f)]+'\x20('+this[_0x4249d8(0x164)]['wuid']+_0x4249d8(0x4cb));let _0x55a3f8={'owner':this[_0x4249d8(0x164)][_0x4249d8(0x242)],'name':_0xfcaca4[_0x4249d8(0x208)]},_0x57f81b=await I[_0x4249d8(0x4be)](_0x55a3f8);_0x57f81b||this[_0x4249d8(0x451)](_0x4249d8(0x2af));let {block:_0x44ad20}=_0xfcaca4;return _0x44ad20?.['copy']?this[_0x4249d8(0x414)](_0x57f81b,_0xfcaca4):_0x44ad20?.['delete']?this['deleteBlock'](_0x57f81b,_0xfcaca4):_0x44ad20[_0x4249d8(0xe6)]?await this['updateBlock'](_0x57f81b,_0xfcaca4):this[_0x4249d8(0x3b5)](_0x57f81b,_0xfcaca4),await _0x57f81b[_0x4249d8(0x14a)](),_0x57f81b;}catch(_0x49830a){this['throwAndLogError'](_0x4249d8(0x5a0)+_0x49830a);}}async[a0_0x29cdb8(0x414)](_0x57727b,_0x30e129){const _0x224084=a0_0x29cdb8;let _0x1c74a4=_0x30e129[_0x224084(0x517)]['_id'],_0x1e222c=_0x57727b[_0x224084(0x37c)][_0x224084(0x35f)](_0x141915=>_0x141915[_0x224084(0xe6)][_0x224084(0x47a)]()===_0x1c74a4);if(!_0x1e222c){this['logger']['error'](this[_0x224084(0x63f)]+'\x20('+this['instance'][_0x224084(0x242)]+_0x224084(0x53d)+_0x1c74a4+_0x224084(0x516));return;}this['logger'][_0x224084(0x362)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON[_0x224084(0x199)](_0x1e222c));let _0x5c27af=JSON[_0x224084(0x453)](JSON[_0x224084(0x199)](_0x1e222c));_0x5c27af['_id']=new pe[(_0x224084(0x3ec))][(_0x224084(0x4dc))][(_0x224084(0x4ec))](),this['logger'][_0x224084(0x362)](this[_0x224084(0x63f)]+'\x20('+this['instance'][_0x224084(0x242)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x224084(0x199)](_0x5c27af)),_0x57727b['blocks'][_0x224084(0x20a)](_0x5c27af),this['reorderBlocks'](_0x57727b[_0x224084(0x37c)],_0x5c27af[_0x224084(0x1e5)]);}[a0_0x29cdb8(0x451)](_0x20daba){const _0x197ee4=a0_0x29cdb8;throw this[_0x197ee4(0x596)][_0x197ee4(0x269)](this[_0x197ee4(0x63f)]+'\x20('+this[_0x197ee4(0x164)]['wuid']+_0x197ee4(0x2f1)+_0x20daba),new g(_0x20daba);}['deleteBlock'](_0xa9fd0d,_0x4db7b9){const _0x210b9a=a0_0x29cdb8;let {block:_0x1f3d7d}=_0x4db7b9;if(_0x1f3d7d[_0x210b9a(0x607)]===_0x210b9a(0x56c)){this[_0x210b9a(0x451)](_0x210b9a(0x5c0));return;}if(!_0x1f3d7d['_id']){this['throwAndLogError'](_0x210b9a(0x6a7));return;}let _0x104388=_0xa9fd0d[_0x210b9a(0x37c)]['find'](_0x554fc7=>_0x554fc7[_0x210b9a(0xe6)][_0x210b9a(0x47a)]()===_0x4db7b9[_0x210b9a(0x517)][_0x210b9a(0xe6)][_0x210b9a(0x47a)]());if(!_0x104388){this['throwAndLogError'](_0x210b9a(0x11c)+_0x1f3d7d[_0x210b9a(0xe6)]+_0x210b9a(0x627));return;}_0xa9fd0d[_0x210b9a(0x37c)]=_0xa9fd0d['blocks'][_0x210b9a(0x339)](_0x2b9f42=>_0x2b9f42[_0x210b9a(0xe6)][_0x210b9a(0x47a)]()!==_0x4db7b9[_0x210b9a(0x517)][_0x210b9a(0xe6)][_0x210b9a(0x47a)]()),_0xa9fd0d[_0x210b9a(0x35a)]=_0xa9fd0d[_0x210b9a(0x35a)][_0x210b9a(0x339)](_0x619c04=>_0x619c04['blockId']!==_0x1f3d7d[_0x210b9a(0xe6)][_0x210b9a(0x47a)]()),_0xa9fd0d['varedits']=_0xa9fd0d[_0x210b9a(0x39e)][_0x210b9a(0x339)](_0x2003e5=>_0x2003e5[_0x210b9a(0x21f)]!==_0x1f3d7d[_0x210b9a(0xe6)]['toString']()),_0xa9fd0d[_0x210b9a(0x225)]=_0xa9fd0d[_0x210b9a(0x225)]['filter'](_0x1b0829=>_0x1b0829['blockId']!==_0x1f3d7d['_id']['toString']()),this[_0x210b9a(0x264)](_0xa9fd0d['blocks'],_0x104388[_0x210b9a(0x1e5)]);}async[a0_0x29cdb8(0x218)](_0x4e3451,_0x389edb){const _0x1f591a=a0_0x29cdb8;let _0x39a212=_0x4e3451[_0x1f591a(0x37c)][_0x1f591a(0x6b1)](_0x524ef2=>_0x524ef2[_0x1f591a(0xe6)][_0x1f591a(0x47a)]()===_0x389edb[_0x1f591a(0x517)][_0x1f591a(0xe6)][_0x1f591a(0x47a)]());if(this['logger'][_0x1f591a(0x362)](this['instanceName']+'\x20('+this['instance'][_0x1f591a(0x242)]+_0x1f591a(0x663)+_0x39a212),_0x39a212===-0x1){this[_0x1f591a(0x596)][_0x1f591a(0x362)](_0x1f591a(0x11c)+_0x389edb[_0x1f591a(0x517)][_0x1f591a(0xe6)]+_0x1f591a(0x307));return;}if(_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x607)]===_0x1f591a(0x56c)){let _0x17459f=Object[_0x1f591a(0x613)](_0x389edb[_0x1f591a(0x517)]);if(_0x17459f[_0x1f591a(0x206)]>0x2||_0x17459f[_0x1f591a(0x206)]===0x2&&!_0x17459f[_0x1f591a(0x386)](_0x1f591a(0x495))){this['throwAndLogError']('Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro');return;}}let _0x290431=_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x1e5)];for(let _0xf20856 in _0x389edb[_0x1f591a(0x517)])_0x389edb[_0x1f591a(0x517)][_0x1f591a(0x3ce)](_0xf20856)&&(_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0xf20856]=_0x389edb['block'][_0xf20856]);if(this[_0x1f591a(0x596)][_0x1f591a(0x362)](this[_0x1f591a(0x63f)]+'\x20('+this['instance'][_0x1f591a(0x242)]+_0x1f591a(0x67a)+JSON[_0x1f591a(0x199)](_0x4e3451[_0x1f591a(0x37c)][_0x39a212])),_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)]&&_0x1f591a(0x1d4)in _0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)]){this['logger'][_0x1f591a(0x362)](this[_0x1f591a(0x63f)]+'\x20('+this[_0x1f591a(0x164)][_0x1f591a(0x242)]+_0x1f591a(0x4a1));let _0x59d1c6=JSON['stringify'](_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)][_0x1f591a(0x1d4)],null,0x1);_0x59d1c6[_0x1f591a(0x206)]>0x2&&(_0x59d1c6=_0x59d1c6[_0x1f591a(0x22b)](0x1,_0x59d1c6['length']-0x1)[_0x1f591a(0x192)]()),_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)][_0x1f591a(0x405)]=_0x59d1c6;}if(_0x4e3451[_0x1f591a(0x37c)][_0x39a212]['apirequest']&&_0x1f591a(0x370)in _0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)]){this[_0x1f591a(0x596)][_0x1f591a(0x362)](this[_0x1f591a(0x63f)]+'\x20('+this[_0x1f591a(0x164)][_0x1f591a(0x242)]+_0x1f591a(0x43b));let _0x3a8187=JSON['stringify'](_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)][_0x1f591a(0x370)],null,0x1);_0x3a8187['length']>0x2&&(_0x3a8187=_0x3a8187[_0x1f591a(0x22b)](0x1,_0x3a8187[_0x1f591a(0x206)]-0x1)[_0x1f591a(0x192)]()),_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x283)][_0x1f591a(0x1a6)]=_0x3a8187;}let _0x108f1d=_0x4e3451[_0x1f591a(0x37c)][_0x39a212][_0x1f591a(0x1e5)];_0x290431!==_0x108f1d?(this['reorderBlocks'](_0x4e3451[_0x1f591a(0x37c)],_0x290431),this['reorderBlocks'](_0x4e3451[_0x1f591a(0x37c)],_0x108f1d)):this[_0x1f591a(0x264)](_0x4e3451[_0x1f591a(0x37c)],_0x290431);}['addBlock'](_0x3f92fa,_0x532fb4){const _0x2baf75=a0_0x29cdb8;if(_0x532fb4[_0x2baf75(0x517)][_0x2baf75(0x607)]===_0x2baf75(0x56c)){this['throwAndLogError'](_0x2baf75(0x277));return;}if(_0x532fb4[_0x2baf75(0x517)]['apirequest']&&_0x2baf75(0x1d4)in _0x532fb4[_0x2baf75(0x517)]['apirequest']){this[_0x2baf75(0x596)]['verbose'](this[_0x2baf75(0x63f)]+'\x20('+this['instance'][_0x2baf75(0x242)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3c6012=JSON[_0x2baf75(0x199)](_0x532fb4['block'][_0x2baf75(0x283)][_0x2baf75(0x1d4)],null,0x1);_0x3c6012[_0x2baf75(0x206)]>0x2&&(_0x3c6012=_0x3c6012[_0x2baf75(0x22b)](0x1,_0x3c6012[_0x2baf75(0x206)]-0x1)[_0x2baf75(0x192)]()),_0x532fb4['block'][_0x2baf75(0x283)]['headerString']=_0x3c6012;}_0x532fb4[_0x2baf75(0x517)][_0x2baf75(0x283)]&&_0x2baf75(0x370)in _0x532fb4[_0x2baf75(0x517)][_0x2baf75(0x283)]&&(this[_0x2baf75(0x596)][_0x2baf75(0x362)](this[_0x2baf75(0x63f)]+'\x20('+this[_0x2baf75(0x164)]['wuid']+_0x2baf75(0x43b)),_0x532fb4['block'][_0x2baf75(0x283)][_0x2baf75(0x1a6)]=JSON[_0x2baf75(0x199)](_0x532fb4[_0x2baf75(0x517)][_0x2baf75(0x283)][_0x2baf75(0x370)],null,0x1)['trim']()),_0x3f92fa['blocks'][_0x2baf75(0x20a)](_0x532fb4['block']),this[_0x2baf75(0x264)](_0x3f92fa[_0x2baf75(0x37c)],_0x532fb4['block'][_0x2baf75(0x1e5)]);}['reorderBlocks'](_0x238985,_0x16a530){const _0x51b51c=a0_0x29cdb8;let _0x182201=_0x238985[_0x51b51c(0x339)](_0x4ae4ff=>_0x4ae4ff['groupId']===_0x16a530);_0x182201[_0x51b51c(0x3de)]((_0x5b7e69,_0x22ffa2)=>_0x5b7e69[_0x51b51c(0x5db)]-_0x22ffa2['order']),_0x182201[_0x51b51c(0x534)]((_0x4230c8,_0x2871d1)=>_0x4230c8[_0x51b51c(0x5db)]=_0x2871d1+0x1);}async[a0_0x29cdb8(0x295)](_0x4786f4){const _0x108a64=a0_0x29cdb8;try{if(this[_0x108a64(0x596)][_0x108a64(0x362)](this[_0x108a64(0x63f)]+'\x20('+this['instance'][_0x108a64(0x242)]+'):\x20Editando\x20replyOption...'),!_0x4786f4||!_0x4786f4[_0x108a64(0x5ce)]){this['throwAndLogError']('Data\x20invlida\x20fornecida');return;}let _0x1e4072={'owner':this[_0x108a64(0x164)][_0x108a64(0x242)],'name':_0x4786f4[_0x108a64(0x208)]},_0x25e306=await I[_0x108a64(0x4be)](_0x1e4072);_0x25e306||this['throwAndLogError'](_0x108a64(0x2af));let {replyOption:_0x2888b5}=_0x4786f4;return _0x2888b5?.[_0x108a64(0x1de)]?this['deleteReplyOption'](_0x25e306,_0x4786f4):_0x2888b5[_0x108a64(0xe6)]?await this[_0x108a64(0x5a8)](_0x25e306,_0x4786f4):this[_0x108a64(0x3e3)](_0x25e306,_0x4786f4),await _0x25e306['save'](),_0x25e306;}catch(_0x4fc5cc){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x4fc5cc);}}['deleteReplyOption'](_0x35ee91,_0x2625c5){const _0x422b08=a0_0x29cdb8;let {replyOption:_0x953fd7}=_0x2625c5;if(!_0x953fd7[_0x422b08(0xe6)]){this[_0x422b08(0x451)](_0x422b08(0x255));return;}if(!_0x35ee91[_0x422b08(0x225)][_0x422b08(0x35f)](_0x7da48f=>_0x7da48f[_0x422b08(0xe6)][_0x422b08(0x47a)]()===_0x2625c5[_0x422b08(0x5ce)]['_id']['toString']())){this[_0x422b08(0x451)]('ReplyOption\x20com\x20ID\x20'+_0x953fd7[_0x422b08(0xe6)]+_0x422b08(0x627));return;}_0x35ee91['replyOptions']=_0x35ee91[_0x422b08(0x225)]['filter'](_0x5db6d3=>_0x5db6d3[_0x422b08(0xe6)]['toString']()!==_0x2625c5[_0x422b08(0x5ce)][_0x422b08(0xe6)][_0x422b08(0x47a)]());}async['updateReplyOption'](_0x5ee2ac,_0xb79eeb){const _0x1986cf=a0_0x29cdb8;let _0x28975b=_0x5ee2ac[_0x1986cf(0x225)][_0x1986cf(0x6b1)](_0x19ecb5=>_0x19ecb5['_id'][_0x1986cf(0x47a)]()===_0xb79eeb[_0x1986cf(0x5ce)]['_id']['toString']());if(_0x28975b===-0x1){this[_0x1986cf(0x451)](_0x1986cf(0x693)+_0xb79eeb[_0x1986cf(0x5ce)][_0x1986cf(0xe6)]+_0x1986cf(0x307));return;}for(let _0x3bdd6f in _0xb79eeb['replyOption'])_0xb79eeb[_0x1986cf(0x5ce)][_0x1986cf(0x3ce)](_0x3bdd6f)&&(_0x5ee2ac[_0x1986cf(0x225)][_0x28975b][_0x3bdd6f]=_0xb79eeb['replyOption'][_0x3bdd6f]);}[a0_0x29cdb8(0x3e3)](_0x5740e5,_0x4a76a7){const _0x423786=a0_0x29cdb8;_0x5740e5[_0x423786(0x225)]['push'](_0x4a76a7[_0x423786(0x5ce)]);}async['editFlowGroup'](_0x1af07a){const _0x2abcaa=a0_0x29cdb8;this[_0x2abcaa(0x596)][_0x2abcaa(0x362)](this['instanceName']+'\x20('+this[_0x2abcaa(0x164)][_0x2abcaa(0x242)]+_0x2abcaa(0x1f1)+_0x1af07a);try{this['logger'][_0x2abcaa(0x362)](this[_0x2abcaa(0x63f)]+'\x20('+this['instance']['wuid']+_0x2abcaa(0x34a));let _0x5718f2={'owner':this[_0x2abcaa(0x164)][_0x2abcaa(0x242)],'name':_0x1af07a['name']},_0x40695f=await I[_0x2abcaa(0x4be)](_0x5718f2);if(!_0x40695f)throw new Error(_0x2abcaa(0x2af));if(_0x1af07a[_0x2abcaa(0x59b)]&&_0x1af07a['group']?.['delete']===!0x0){if(this[_0x2abcaa(0x596)][_0x2abcaa(0x362)](this[_0x2abcaa(0x63f)]+'\x20('+this['instance'][_0x2abcaa(0x242)]+_0x2abcaa(0x304)),_0x1af07a[_0x2abcaa(0x59b)][_0x2abcaa(0x3ec)]===!0x0)return{'message':_0x2abcaa(0xf8)};if(_0x40695f[_0x2abcaa(0x37c)][_0x2abcaa(0x194)](_0x596b12=>_0x596b12[_0x2abcaa(0x1e5)][_0x2abcaa(0x47a)]()===_0x1af07a[_0x2abcaa(0x59b)]['_id']))return this['logger'][_0x2abcaa(0x362)](this[_0x2abcaa(0x63f)]+'\x20('+this[_0x2abcaa(0x164)][_0x2abcaa(0x242)]+_0x2abcaa(0x12f)),{'message':'No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x40695f[_0x2abcaa(0x59e)]=_0x40695f[_0x2abcaa(0x59e)][_0x2abcaa(0x339)](_0x3b66a6=>_0x3b66a6[_0x2abcaa(0xe6)][_0x2abcaa(0x47a)]()!==_0x1af07a[_0x2abcaa(0x59b)][_0x2abcaa(0xe6)]);}else{if(_0x1af07a[_0x2abcaa(0x59b)]){if(_0x1af07a['group'][_0x2abcaa(0x3ec)]===!0x0)return{'message':_0x2abcaa(0x605)};if(_0x1af07a[_0x2abcaa(0x59b)][_0x2abcaa(0xe6)]){let _0x5e1700=_0x40695f[_0x2abcaa(0x59e)]['find'](_0x43210e=>_0x43210e[_0x2abcaa(0xe6)][_0x2abcaa(0x47a)]()===_0x1af07a[_0x2abcaa(0x59b)]['_id']);_0x5e1700&&(_0x1af07a[_0x2abcaa(0x59b)]['x']<0x0&&(_0x1af07a[_0x2abcaa(0x59b)]['x']=0x0),_0x1af07a[_0x2abcaa(0x59b)]['y']<0x0&&(_0x1af07a[_0x2abcaa(0x59b)]['y']=0x0),Object[_0x2abcaa(0x3a6)](_0x5e1700,_0x1af07a[_0x2abcaa(0x59b)]));}else _0x40695f[_0x2abcaa(0x59e)][_0x2abcaa(0x20a)](_0x1af07a['group']);}}return await _0x40695f[_0x2abcaa(0x14a)](),_0x40695f;}catch(_0x9268c4){throw this['logger'][_0x2abcaa(0x269)](this[_0x2abcaa(0x63f)]+'\x20('+this[_0x2abcaa(0x164)][_0x2abcaa(0x242)]+_0x2abcaa(0x47d)+JSON[_0x2abcaa(0x199)](_0x9268c4,null,0x2)),new g(_0x2abcaa(0x68a)+JSON['stringify'](_0x9268c4,null,0x2));}}async[a0_0x29cdb8(0x28b)](_0xab126d){const _0x5e6d93=a0_0x29cdb8;try{this[_0x5e6d93(0x596)]['verbose'](this[_0x5e6d93(0x63f)]+'\x20('+this[_0x5e6d93(0x164)][_0x5e6d93(0x242)]+_0x5e6d93(0x20b));let _0x3036ab={'owner':this['instance']['wuid'],'name':_0xab126d[_0x5e6d93(0x208)]},_0x5b810e=await I['findOne'](_0x3036ab);if(!_0x5b810e)throw new Error(_0x5e6d93(0x2af));let _0x229b99=!0x1;if(_0xab126d[_0x5e6d93(0x459)]?.[_0x5e6d93(0x1de)]===!0x0)_0x5b810e[_0x5e6d93(0x35a)]=_0x5b810e[_0x5e6d93(0x35a)][_0x5e6d93(0x339)](_0x2f564a=>_0x2f564a&&_0xab126d[_0x5e6d93(0x459)]&&_0x2f564a[_0x5e6d93(0xe6)]&&_0xab126d[_0x5e6d93(0x459)][_0x5e6d93(0xe6)]&&_0x2f564a[_0x5e6d93(0xe6)][_0x5e6d93(0x47a)]()!==_0xab126d['condition'][_0x5e6d93(0xe6)][_0x5e6d93(0x47a)]()),_0x229b99=!0x0;else{let _0x535f0d=_0x5b810e[_0x5e6d93(0x35a)][_0x5e6d93(0x35f)](_0x535f65=>_0x535f65&&_0xab126d['condition']&&_0x535f65[_0x5e6d93(0xe6)]&&_0xab126d['condition'][_0x5e6d93(0xe6)]&&_0x535f65['_id'][_0x5e6d93(0x47a)]()===_0xab126d[_0x5e6d93(0x459)][_0x5e6d93(0xe6)][_0x5e6d93(0x47a)]());_0x535f0d?(_0x229b99=_0x535f0d['order']!==_0xab126d[_0x5e6d93(0x459)][_0x5e6d93(0x5db)],Object[_0x5e6d93(0x3a6)](_0x535f0d,_0xab126d[_0x5e6d93(0x459)])):(_0x5b810e[_0x5e6d93(0x35a)][_0x5e6d93(0x20a)](_0xab126d[_0x5e6d93(0x459)]),_0x229b99=!0x0);}if(_0x229b99){_0x5b810e[_0x5e6d93(0x35a)]['sort']((_0x227fdb,_0x482cbe)=>_0x227fdb[_0x5e6d93(0x5db)]>_0x482cbe[_0x5e6d93(0x5db)]?0x1:_0x482cbe[_0x5e6d93(0x5db)]>_0x227fdb[_0x5e6d93(0x5db)]?-0x1:0x0);for(let _0x1b6b37=0x0;_0x1b6b37<_0x5b810e['conditions']['length'];_0x1b6b37++)_0x5b810e['conditions'][_0x1b6b37][_0x5e6d93(0x5db)]=_0x1b6b37+0x1;_0x5b810e[_0x5e6d93(0x35a)][_0x5e6d93(0x206)]>0x0&&(_0x5b810e[_0x5e6d93(0x35a)][0x0]['OrAnd']=_0x5e6d93(0x454));}return await _0x5b810e['save'](),_0x5b810e;}catch(_0x5bcbd7){throw this[_0x5e6d93(0x596)]['error'](this[_0x5e6d93(0x63f)]+'\x20('+this[_0x5e6d93(0x164)]['wuid']+_0x5e6d93(0x45d)+JSON[_0x5e6d93(0x199)](_0x5bcbd7,null,0x2)),new Error(_0x5e6d93(0x6c0)+_0x5bcbd7);}}async[a0_0x29cdb8(0x64f)](_0x13057a){const _0x48f86f=a0_0x29cdb8;try{this[_0x48f86f(0x596)][_0x48f86f(0x362)](this[_0x48f86f(0x63f)]+'\x20('+this[_0x48f86f(0x164)][_0x48f86f(0x242)]+_0x48f86f(0x24f));let _0x4f9d45={'owner':this[_0x48f86f(0x164)]['wuid'],'name':_0x13057a[_0x48f86f(0x208)]},_0xf18604=await I[_0x48f86f(0x4be)](_0x4f9d45);if(!_0xf18604)throw new Error('Flow\x20no\x20encontrado');let _0x4a775b=!0x1;if(_0x13057a['varedit']?.[_0x48f86f(0x1de)]===!0x0)_0xf18604['varedits']=_0xf18604[_0x48f86f(0x39e)][_0x48f86f(0x339)](_0x3e697b=>_0x3e697b&&_0x13057a[_0x48f86f(0x5e7)]&&_0x3e697b[_0x48f86f(0xe6)]&&_0x13057a['varedit'][_0x48f86f(0xe6)]&&_0x3e697b[_0x48f86f(0xe6)][_0x48f86f(0x47a)]()!==_0x13057a[_0x48f86f(0x5e7)][_0x48f86f(0xe6)][_0x48f86f(0x47a)]()),_0x4a775b=!0x0;else{let _0x5772a7=_0xf18604[_0x48f86f(0x39e)][_0x48f86f(0x35f)](_0x16581b=>_0x16581b&&_0x13057a['varedit']&&_0x16581b[_0x48f86f(0xe6)]&&_0x13057a[_0x48f86f(0x5e7)][_0x48f86f(0xe6)]&&_0x16581b['_id'][_0x48f86f(0x47a)]()===_0x13057a['varedit'][_0x48f86f(0xe6)][_0x48f86f(0x47a)]());_0x5772a7?(_0x4a775b=_0x5772a7[_0x48f86f(0x5db)]!==_0x13057a['varedit'][_0x48f86f(0x5db)],Object['assign'](_0x5772a7,_0x13057a[_0x48f86f(0x5e7)])):(_0xf18604[_0x48f86f(0x39e)][_0x48f86f(0x20a)](_0x13057a['varedit']),_0x4a775b=!0x0);}if(_0x4a775b){_0xf18604[_0x48f86f(0x39e)][_0x48f86f(0x3de)]((_0x2ff240,_0x3a634a)=>_0x2ff240['order']>_0x3a634a[_0x48f86f(0x5db)]?0x1:_0x3a634a['order']>_0x2ff240[_0x48f86f(0x5db)]?-0x1:0x0);for(let _0xe9b3d=0x0;_0xe9b3d<_0xf18604[_0x48f86f(0x39e)][_0x48f86f(0x206)];_0xe9b3d++)_0xf18604[_0x48f86f(0x39e)][_0xe9b3d][_0x48f86f(0x5db)]=_0xe9b3d+0x1;}return await _0xf18604[_0x48f86f(0x14a)](),_0xf18604;}catch(_0xfef9f3){throw this[_0x48f86f(0x596)]['error'](this[_0x48f86f(0x63f)]+'\x20('+this[_0x48f86f(0x164)][_0x48f86f(0x242)]+_0x48f86f(0x45d)+JSON[_0x48f86f(0x199)](_0xfef9f3,null,0x2)),new g(_0x48f86f(0x6c0)+_0xfef9f3);}}async[a0_0x29cdb8(0x333)](_0x56a165){const _0x5aab1e=a0_0x29cdb8;try{this['logger'][_0x5aab1e(0x362)](this['instanceName']+'\x20('+this['instance'][_0x5aab1e(0x242)]+_0x5aab1e(0x38c));let _0x7182c4={'owner':this[_0x5aab1e(0x164)]['wuid'],'name':_0x56a165['name']},_0x80f4fc=await I[_0x5aab1e(0x4be)](_0x7182c4);if(!_0x80f4fc)throw new Error('Flow\x20no\x20encontrado');_0x56a165[_0x5aab1e(0x13d)]['name']=_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)]['trim'](),_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)]['startsWith']('_')&&(_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)]=_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)][_0x5aab1e(0x22b)](0x1)),_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)]=_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)][_0x5aab1e(0x192)]();let _0x4ccce7=_0x80f4fc[_0x5aab1e(0x116)]['find'](_0x2fa9fe=>_0x2fa9fe[_0x5aab1e(0x208)]===_0x56a165[_0x5aab1e(0x13d)]['name']);if(_0x4ccce7?.[_0x5aab1e(0x2bc)]===!0x0)throw new Error(_0x5aab1e(0x54c));if(_0x56a165[_0x5aab1e(0x13d)]?.[_0x5aab1e(0x1de)]===!0x0){if(!_0x4ccce7)return{'message':_0x5aab1e(0x1b7)};_0x80f4fc[_0x5aab1e(0x116)]=_0x80f4fc[_0x5aab1e(0x116)][_0x5aab1e(0x339)](_0xbc761=>_0xbc761[_0x5aab1e(0x208)]!==_0x56a165[_0x5aab1e(0x13d)][_0x5aab1e(0x208)]);}else _0x4ccce7?Object[_0x5aab1e(0x3a6)](_0x4ccce7,_0x56a165['variable']):_0x80f4fc[_0x5aab1e(0x116)][_0x5aab1e(0x20a)](_0x56a165[_0x5aab1e(0x13d)]);return await _0x80f4fc[_0x5aab1e(0x14a)](),_0x80f4fc;}catch(_0x1dac9f){throw this['logger'][_0x5aab1e(0x269)](this[_0x5aab1e(0x63f)]+'\x20('+this[_0x5aab1e(0x164)][_0x5aab1e(0x242)]+_0x5aab1e(0x1e1)+JSON['stringify'](_0x1dac9f,null,0x2)),new g(_0x5aab1e(0x1a0)+JSON[_0x5aab1e(0x199)](_0x1dac9f,null,0x2));}}async[a0_0x29cdb8(0x203)](_0x53cc60){const _0x3ad64d=a0_0x29cdb8;let _0x310920=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x3ad64d(0x408)])throw new g(_0x3ad64d(0x311));this[_0x3ad64d(0x596)]['verbose'](this[_0x3ad64d(0x63f)]+'\x20('+this[_0x3ad64d(0x164)]['wuid']+_0x3ad64d(0x214));let _0x4db1e1=(await this[_0x3ad64d(0x3dd)]({'numbers':[_0x53cc60[_0x3ad64d(0x157)]]}))[0x0];if(!_0x4db1e1[_0x3ad64d(0x542)]&&!(0x0,w[_0x3ad64d(0x6ad)])(_0x4db1e1['jid'])&&!_0x4db1e1[_0x3ad64d(0x50f)][_0x3ad64d(0x386)](_0x3ad64d(0x123)))throw _0x310920=JSON['stringify'](_0x4db1e1,null,0x2),new g(_0x4db1e1);let _0x2ee8f7=await I[_0x3ad64d(0x4be)]({'owner':this[_0x3ad64d(0x164)][_0x3ad64d(0x242)],'name':_0x53cc60['name']});if(!_0x2ee8f7)return this[_0x3ad64d(0x596)]['error'](this[_0x3ad64d(0x63f)]+'\x20('+this[_0x3ad64d(0x164)][_0x3ad64d(0x242)]+_0x3ad64d(0x53a)),{'message':_0x3ad64d(0x2af)};let _0x4abdc8=await this[_0x3ad64d(0x146)](_0x2ee8f7,_0x4db1e1[_0x3ad64d(0x50f)],_0x53cc60[_0x3ad64d(0x3bb)]);if(_0x4abdc8){this[_0x3ad64d(0x596)]['verbose'](this[_0x3ad64d(0x63f)]+'\x20('+this[_0x3ad64d(0x164)][_0x3ad64d(0x242)]+_0x3ad64d(0x5a5));let _0x5c8171=await this[_0x3ad64d(0x34f)](_0x4abdc8);return _0x5c8171&&await this[_0x3ad64d(0x21a)](_0x4abdc8,_0x5c8171,_0x4abdc8['remoteJid']),{'message':_0x3ad64d(0x121)+_0x53cc60[_0x3ad64d(0x157)]};}}catch(_0x16752c){if(this['logger'][_0x3ad64d(0x269)](this[_0x3ad64d(0x63f)]+'\x20('+this[_0x3ad64d(0x164)]['wuid']+_0x3ad64d(0x53b)+JSON[_0x3ad64d(0x199)](_0x16752c,null,0x2)),_0x310920=JSON['stringify'](_0x16752c,null,0x2),_0x310920)throw new g(_0x3ad64d(0x402)+_0x310920);}}async[a0_0x29cdb8(0x6bb)](_0x248e74){const _0x27c784=a0_0x29cdb8;let _0x1fa5b6=await J[_0x27c784(0x3fd)]({'owner':this[_0x27c784(0x164)]['wuid'],'remoteJid':_0x248e74,'status':'open'},{'$set':{'status':_0x27c784(0x2d9)}});return this['logger'][_0x27c784(0x362)](this['instanceName']+'\x20('+this[_0x27c784(0x164)][_0x27c784(0x242)]+_0x27c784(0x566)),_0x1fa5b6;}async['createConversationforStartFlow'](_0x2fbad9,_0xcf2b68,_0x1e26ce){const _0xad07e0=a0_0x29cdb8;this['logger'][_0xad07e0(0x362)](this[_0xad07e0(0x63f)]+'\x20('+this[_0xad07e0(0x164)]['wuid']+_0xad07e0(0x1f5)),await this[_0xad07e0(0x6bb)](_0xcf2b68);try{let _0x414c48=require(_0xad07e0(0x25f))[_0xad07e0(0x4ec)],_0x30db4c=Date[_0xad07e0(0x271)](),_0x35a2ed=_0xad07e0(0x56c),_0xc4acde={},_0x61ec0b={},_0x101719={..._0x2fbad9['_doc'],'chatLog':null},_0x57eddb=await this['variablesToObject'](_0x101719['variables']),_0x4281e2=await this['getVariablesChat'](_0xcf2b68),_0x5b1612={..._0x57eddb,..._0x4281e2,'_remoteJid':_0xcf2b68},_0x268e77={'lastReceivedMessage':_0xc4acde,'lastSendMessage':_0x61ec0b,'lastBlockId':_0x35a2ed,'lastCondition':!0x0,'realVariables':_0x5b1612};_0x101719[_0xad07e0(0x511)]=_0x268e77,_0x101719[_0xad07e0(0x511)][_0xad07e0(0x4bc)]={..._0x5b1612,..._0x1e26ce},delete _0x101719['_id'],_0x101719['_id']=new _0x414c48(),_0x101719['lastInteraction']=_0x30db4c,_0x101719['status']=_0xad07e0(0x29b),_0x101719['remoteJid']=_0xcf2b68;let _0x258d37=await J[_0xad07e0(0x15b)](_0x101719);return this[_0xad07e0(0x596)][_0xad07e0(0x362)](this['instanceName']+'\x20('+this[_0xad07e0(0x164)][_0xad07e0(0x242)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x258d37?_0x101719:null;}catch(_0x11b926){throw this[_0xad07e0(0x596)][_0xad07e0(0x269)](this[_0xad07e0(0x63f)]+'\x20('+this[_0xad07e0(0x164)]['wuid']+_0xad07e0(0x575)+JSON[_0xad07e0(0x199)](_0x11b926,null,0x2)),new g(_0x11b926[_0xad07e0(0x68d)]);}}async[a0_0x29cdb8(0x33d)](_0x358606){const _0x4dc20e=a0_0x29cdb8;try{return this[_0x4dc20e(0x596)]['verbose'](this[_0x4dc20e(0x63f)]+'\x20('+this['instance'][_0x4dc20e(0x242)]+_0x4dc20e(0x258)),this[_0x4dc20e(0x596)][_0x4dc20e(0x362)](this['instanceName']+'\x20('+this[_0x4dc20e(0x164)][_0x4dc20e(0x242)]+_0x4dc20e(0x3c8)+{'owner':this[_0x4dc20e(0x164)]['wuid'],'_id':_0x358606}),await J[_0x4dc20e(0x4be)]({'owner':this['instance'][_0x4dc20e(0x242)],'_id':_0x358606});}catch(_0x4f0faf){throw this[_0x4dc20e(0x596)][_0x4dc20e(0x269)](this[_0x4dc20e(0x63f)]+'\x20('+this[_0x4dc20e(0x164)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+JSON[_0x4dc20e(0x199)](_0x4f0faf,null,0x2)),new g(_0x4dc20e(0x160)+_0x4f0faf[_0x4dc20e(0x68d)]);}}async[a0_0x29cdb8(0x435)](_0x105cf9,_0x495c99=0x64){const _0x184e0e=a0_0x29cdb8;try{this[_0x184e0e(0x596)][_0x184e0e(0x362)](this['instanceName']+'\x20('+this['instance'][_0x184e0e(0x242)]+'):\x20Buscando\x20conversas...');let _0x426478={..._0x105cf9,'owner':this[_0x184e0e(0x164)][_0x184e0e(0x242)]};return this[_0x184e0e(0x596)][_0x184e0e(0x362)](_0x426478),await J['find'](_0x426478)[_0x184e0e(0x22d)](_0x495c99)['sort']({'lastInteraction':-0x1});}catch(_0x193671){throw this[_0x184e0e(0x596)]['error'](this[_0x184e0e(0x63f)]+'\x20('+this['instance'][_0x184e0e(0x242)]+_0x184e0e(0x6ce)+JSON[_0x184e0e(0x199)](_0x193671,null,0x2)),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x193671[_0x184e0e(0x68d)]);}}async[a0_0x29cdb8(0x268)](_0x557963){const _0x57403b=a0_0x29cdb8;try{return this[_0x57403b(0x596)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x57403b(0x242)]+'):\x20Deletando\x20conversa...'),this[_0x57403b(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x57403b(0x164)][_0x57403b(0x242)]+_0x57403b(0x3c8)+{'owner':this[_0x57403b(0x164)]['wuid'],'_id':_0x557963}),(await J[_0x57403b(0x23e)]({'owner':this[_0x57403b(0x164)][_0x57403b(0x242)],'_id':_0x557963}))[_0x57403b(0x5f2)]===0x0?{'message':_0x57403b(0xf4)}:{'message':_0x57403b(0x5c6)};}catch(_0x81ef19){throw this['logger'][_0x57403b(0x269)](this[_0x57403b(0x63f)]+'\x20('+this[_0x57403b(0x164)][_0x57403b(0x242)]+_0x57403b(0x60b)+JSON[_0x57403b(0x199)](_0x81ef19,null,0x2)),new g(_0x57403b(0x1f6)+_0x81ef19[_0x57403b(0x68d)]);}}async[a0_0x29cdb8(0x1a3)](_0x25a9e5){const _0x2b5bac=a0_0x29cdb8;try{let {_id:_0x5b12fc,chatLog:_0x43e428,status:_0x47dded}=_0x25a9e5;if(!_0x5b12fc)return{'message':_0x2b5bac(0x1e9)};let _0xcd6637={};if(_0x47dded!==void 0x0&&(_0xcd6637['status']=_0x47dded),Object[_0x2b5bac(0x613)](_0xcd6637)[_0x2b5bac(0x206)]===0x0)return{'message':_0x2b5bac(0x39d)};let _0x107d30=this[_0x2b5bac(0x164)]['wuid'],_0x2b0767=await J[_0x2b5bac(0x2b8)]({'_id':_0x5b12fc,'owner':_0x107d30},{'$set':_0xcd6637},{'new':!0x0});return _0x2b0767||{'message':_0x2b5bac(0x55c)};}catch(_0x2b5f1a){throw this[_0x2b5bac(0x596)][_0x2b5bac(0x269)](this['instanceName']+'\x20('+this[_0x2b5bac(0x164)][_0x2b5bac(0x242)]+_0x2b5bac(0x374)+JSON[_0x2b5bac(0x199)](_0x2b5f1a,null,0x2)),new g(_0x2b5bac(0x6c5)+_0x2b5f1a['message']);}}async[a0_0x29cdb8(0x5b7)](_0x655a0e){const _0x611fd2=a0_0x29cdb8;try{_0x655a0e[_0x611fd2(0xe6)]=this[_0x611fd2(0x25a)](_0x655a0e[_0x611fd2(0xe6)]);let {_id:_0x46b50c,leadInfo:_0x41021a}=_0x655a0e;if(!_0x46b50c)throw new Error('O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.');let _0x426f37=(_0x378bd6,_0x2637ed,_0x987e5b)=>{_0x987e5b['forEach'](_0x3f9a77=>{const _0x5753ae=a0_0x7e50;_0x378bd6[_0x3f9a77]!==void 0x0&&(_0x2637ed[_0x5753ae(0x16c)+_0x3f9a77]=_0x378bd6[_0x3f9a77]);});},_0x8181d5={};if(_0x426f37(_0x41021a,_0x8181d5,[_0x611fd2(0x16e),_0x611fd2(0x532),_0x611fd2(0x4de),_0x611fd2(0x328),'status','notas',_0x611fd2(0x1a4),_0x611fd2(0x256),_0x611fd2(0x474)]),Array[_0x611fd2(0x51c)](_0x41021a[_0x611fd2(0x227)])&&(_0x8181d5[_0x611fd2(0x1fd)]=_0x41021a['customFields'][_0x611fd2(0x667)](_0x455992=>({'_id':_0x455992['_id'],'value':_0x455992[_0x611fd2(0x5c8)]}))),_0x655a0e[_0x611fd2(0x2bc)][_0x611fd2(0x342)]!==void 0x0&&(_0x8181d5[_0x611fd2(0x356)]=Number(_0x655a0e['leadInfo'][_0x611fd2(0x342)])),_0x655a0e[_0x611fd2(0x67d)]!==void 0x0&&(_0x8181d5[_0x611fd2(0x67d)]=Number(_0x655a0e['unreadcount'])),Object[_0x611fd2(0x613)](_0x8181d5)[_0x611fd2(0x206)]===0x0)throw new Error(_0x611fd2(0x39d));let _0x597eb4=this[_0x611fd2(0x164)][_0x611fd2(0x242)];if(!_0x597eb4)throw new Error(_0x611fd2(0x634));if(!await this['repository']['chat'][_0x611fd2(0x4be)]({'where':{'_id':_0x655a0e[_0x611fd2(0xe6)],'owner':_0x597eb4}})){let _0x113a0c=(await this[_0x611fd2(0x3dd)]({'numbers':[_0x655a0e[_0x611fd2(0xe6)]]}))[0x0];if(!_0x113a0c[_0x611fd2(0x542)]&&!(0x0,w[_0x611fd2(0x6ad)])(_0x113a0c['jid'])&&!_0x113a0c[_0x611fd2(0x50f)][_0x611fd2(0x386)]('@broadcast'))throw new g(_0x113a0c);_0x655a0e[_0x611fd2(0xe6)]=_0x113a0c[_0x611fd2(0x50f)];}let _0x19e6cb=await this['repository'][_0x611fd2(0x136)]['updateOne']({'where':{'_id':_0x655a0e[_0x611fd2(0xe6)],'owner':_0x597eb4}},_0x8181d5);return _0x19e6cb&&F(this[_0x611fd2(0x63f)],_0x611fd2(0x6c3),{'chat':_0x19e6cb}),_0x19e6cb?(this[_0x611fd2(0x596)][_0x611fd2(0x362)](this['instanceName']+'\x20('+this[_0x611fd2(0x164)][_0x611fd2(0x242)]+'):\x20'+_0x19e6cb),_0x19e6cb):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x37e9c6){throw this[_0x611fd2(0x596)][_0x611fd2(0x269)](this[_0x611fd2(0x63f)]+'\x20('+this[_0x611fd2(0x164)][_0x611fd2(0x242)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+JSON[_0x611fd2(0x199)](_0x37e9c6,null,0x2)),new g(_0x611fd2(0x549)+_0x37e9c6[_0x611fd2(0x68d)]);}}async[a0_0x29cdb8(0x2c9)](_0xd2c543){const _0x2bcb9c=a0_0x29cdb8;let _0x262589=this[_0x2bcb9c(0x164)][_0x2bcb9c(0x242)];try{let _0x5cb891=await ae[_0x2bcb9c(0xee)](_0x262589);_0x5cb891||(_0x5cb891=new ae({'_id':_0x262589}),await _0x5cb891[_0x2bcb9c(0x14a)]());let _0x1de251=_0xd2c543['_id']?_0x5cb891[_0x2bcb9c(0x44d)][_0x2bcb9c(0x6b1)](_0x221d2a=>_0x221d2a[_0x2bcb9c(0xe6)]===_0xd2c543[_0x2bcb9c(0xe6)]):-0x1;if(_0xd2c543[_0x2bcb9c(0x1de)]&&_0x1de251>-0x1)_0x5cb891[_0x2bcb9c(0x44d)][_0x2bcb9c(0xe7)](_0x1de251,0x1);else{if(_0x1de251>-0x1){let _0x4d8a1f=_0x5cb891[_0x2bcb9c(0x44d)][_0x1de251];_0xd2c543[_0x2bcb9c(0x6d2)]&&(_0x4d8a1f[_0x2bcb9c(0x6d2)]=_0xd2c543['fone']),_0xd2c543[_0x2bcb9c(0x208)]&&(_0x4d8a1f[_0x2bcb9c(0x208)]=_0xd2c543[_0x2bcb9c(0x208)]),_0xd2c543['email']&&(_0x4d8a1f[_0x2bcb9c(0x4de)]=_0xd2c543['email']),_0xd2c543[_0x2bcb9c(0x436)]&&(_0x4d8a1f[_0x2bcb9c(0x436)]=_0xd2c543['role']);}else _0x5cb891[_0x2bcb9c(0x44d)]['push']({'_id':_0xd2c543[_0x2bcb9c(0xe6)]||new pe[(_0x2bcb9c(0x3ec))][(_0x2bcb9c(0x4dc))][(_0x2bcb9c(0x4ec))]()[_0x2bcb9c(0x47a)](),'fone':_0xd2c543[_0x2bcb9c(0x6d2)],'name':_0xd2c543[_0x2bcb9c(0x208)],'email':_0xd2c543[_0x2bcb9c(0x4de)],'role':_0xd2c543[_0x2bcb9c(0x436)]});}let _0x722eb8=await _0x5cb891['save']();return this[_0x2bcb9c(0x253)]=_0x722eb8,this[_0x2bcb9c(0x596)][_0x2bcb9c(0x362)](this['instanceName']+'\x20('+this[_0x2bcb9c(0x164)][_0x2bcb9c(0x242)]+_0x2bcb9c(0x52a)),this['logger'][_0x2bcb9c(0x362)](this[_0x2bcb9c(0x63f)]+'\x20('+this[_0x2bcb9c(0x164)][_0x2bcb9c(0x242)]+'):\x20'+this[_0x2bcb9c(0x253)]),_0x722eb8;}catch(_0x150ad7){throw this[_0x2bcb9c(0x596)]['error'](this[_0x2bcb9c(0x63f)]+'\x20('+this[_0x2bcb9c(0x164)][_0x2bcb9c(0x242)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+JSON[_0x2bcb9c(0x199)](_0x150ad7,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x150ad7[_0x2bcb9c(0x68d)]);}}async['updateCustomFields'](_0x195b23){const _0x5e913b=a0_0x29cdb8;let _0x4ec97c=this['instance'][_0x5e913b(0x242)];try{let _0x42b09e=await ae[_0x5e913b(0xee)](_0x4ec97c);_0x42b09e||(_0x42b09e=new ae({'_id':_0x4ec97c}),await _0x42b09e['save']());let _0x1ab2d5=_0x195b23[_0x5e913b(0xe6)]?_0x42b09e[_0x5e913b(0x227)][_0x5e913b(0x6b1)](_0x4f39e2=>_0x4f39e2[_0x5e913b(0xe6)]===_0x195b23[_0x5e913b(0xe6)]):-0x1,_0x441a80=!0x1,_0x40badd=_0x42b09e[_0x5e913b(0x227)][_0x5e913b(0x194)](_0x38efab=>_0x38efab[_0x5e913b(0x5db)]===_0x195b23[_0x5e913b(0x5db)]);if(_0x195b23[_0x5e913b(0x1de)]&&_0x1ab2d5>-0x1)_0x42b09e['customFields'][_0x5e913b(0xe7)](_0x1ab2d5,0x1),_0x441a80=!0x0;else{if(_0x1ab2d5>-0x1){if(_0x42b09e[_0x5e913b(0x227)][_0x5e913b(0x194)](_0xe15f00=>_0xe15f00[_0x5e913b(0x208)]===_0x195b23['name']&&_0xe15f00[_0x5e913b(0xe6)]!==_0x195b23[_0x5e913b(0xe6)]))throw new Error(_0x5e913b(0x19e));let _0x3c2244=_0x42b09e[_0x5e913b(0x227)][_0x1ab2d5];_0x195b23['order']&&(_0x40badd||!Number[_0x5e913b(0x22a)](_0x195b23[_0x5e913b(0x5db)]))&&(_0x3c2244[_0x5e913b(0x5db)]=_0x195b23[_0x5e913b(0x5db)],_0x441a80=!0x0),_0x195b23[_0x5e913b(0x208)]&&(_0x3c2244[_0x5e913b(0x208)]=_0x195b23[_0x5e913b(0x208)]);}else{if(_0x42b09e[_0x5e913b(0x227)]['some'](_0x58b89e=>_0x58b89e[_0x5e913b(0x208)]===_0x195b23[_0x5e913b(0x208)]&&_0x58b89e['_id']!==_0x195b23[_0x5e913b(0xe6)]))throw new Error(_0x5e913b(0x19e));_0x42b09e[_0x5e913b(0x227)][_0x5e913b(0x20a)]({'_id':_0x195b23['_id']||new pe[(_0x5e913b(0x3ec))][(_0x5e913b(0x4dc))][(_0x5e913b(0x4ec))]()[_0x5e913b(0x47a)](),'order':_0x195b23[_0x5e913b(0x5db)],'name':_0x195b23['name']}),_0x441a80=!0x0;}}if(_0x441a80){_0x42b09e['customFields']['sort']((_0x126d04,_0x5ceebc)=>_0x126d04[_0x5e913b(0x5db)]>_0x5ceebc[_0x5e913b(0x5db)]?0x1:_0x5ceebc[_0x5e913b(0x5db)]>_0x126d04[_0x5e913b(0x5db)]?-0x1:0x0);for(let _0x4bb0bb=0x0;_0x4bb0bb<_0x42b09e[_0x5e913b(0x227)][_0x5e913b(0x206)];_0x4bb0bb++)_0x42b09e[_0x5e913b(0x227)][_0x4bb0bb][_0x5e913b(0x5db)]=_0x4bb0bb+0x1;}let _0x2cbea8=await _0x42b09e[_0x5e913b(0x14a)]();return this[_0x5e913b(0x253)]=_0x2cbea8,this[_0x5e913b(0x596)][_0x5e913b(0x362)](this[_0x5e913b(0x63f)]+'\x20('+this[_0x5e913b(0x164)][_0x5e913b(0x242)]+_0x5e913b(0x167)),this[_0x5e913b(0x596)][_0x5e913b(0x362)](this[_0x5e913b(0x63f)]+'\x20('+this['instance']['wuid']+'):\x20'+this[_0x5e913b(0x253)]),_0x2cbea8;}catch(_0x137c70){throw this[_0x5e913b(0x596)][_0x5e913b(0x269)](this['instanceName']+'\x20('+this[_0x5e913b(0x164)][_0x5e913b(0x242)]+_0x5e913b(0x360)+JSON[_0x5e913b(0x199)](_0x137c70,null,0x2)),new g(_0x5e913b(0x134)+_0x137c70[_0x5e913b(0x68d)]);}}async[a0_0x29cdb8(0x6b8)](_0x4b4a19){const _0x362977=a0_0x29cdb8;let _0x4fcf8f=this['instance'][_0x362977(0x242)];try{let _0x32017f=await ae['findById'](_0x4fcf8f);_0x32017f||(_0x32017f=new ae({'_id':_0x4fcf8f}),await _0x32017f['save']()),_0x32017f[_0x362977(0x4b3)]['enabled']=_0x4b4a19?.['enabled']!==void 0x0?_0x4b4a19?.['enabled']:_0x32017f[_0x362977(0x4b3)][_0x362977(0x408)],_0x32017f[_0x362977(0x4b3)][_0x362977(0x302)]=_0x4b4a19?.[_0x362977(0x302)]!==void 0x0?_0x4b4a19?.[_0x362977(0x302)]:_0x32017f['flowConfig'][_0x362977(0x302)],_0x32017f['flowConfig'][_0x362977(0x5bf)]=_0x4b4a19?.['prefixCommand']??_0x32017f[_0x362977(0x4b3)][_0x362977(0x5bf)],_0x32017f[_0x362977(0x4b3)][_0x362977(0x4a9)]=_0x4b4a19?.[_0x362977(0x4a9)]??_0x32017f[_0x362977(0x4b3)]['stopConversation'],_0x32017f['flowConfig'][_0x362977(0x6ca)]=_0x4b4a19?.['stopMinutes']??_0x32017f[_0x362977(0x4b3)][_0x362977(0x6ca)];let _0x22473c=await _0x32017f[_0x362977(0x14a)]();return this['AutomateSystem']=_0x22473c,this[_0x362977(0x596)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x362977(0x242)]+_0x362977(0x52a)),this[_0x362977(0x596)][_0x362977(0x362)](this[_0x362977(0x63f)]+'\x20('+this[_0x362977(0x164)]['wuid']+_0x362977(0x2f1)+this[_0x362977(0x253)]),setTimeout(()=>this[_0x362977(0x204)](),0x7d0),_0x22473c;}catch(_0x2cf35c){throw this[_0x362977(0x596)][_0x362977(0x269)](this[_0x362977(0x63f)]+'\x20('+this['instance']['wuid']+_0x362977(0x5bd)+JSON[_0x362977(0x199)](_0x2cf35c,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x2cf35c['message']);}}async['getAutomateSystem'](){const _0x2af328=a0_0x29cdb8;let _0x40fd56=this[_0x2af328(0x164)]['wuid'];try{let _0x5d100=await ae[_0x2af328(0xee)](_0x40fd56);return _0x5d100||(_0x5d100=new ae({'_id':_0x40fd56})),_0x5d100[_0x2af328(0x4b3)]=_0x5d100[_0x2af328(0x4b3)]||{},_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x408)]===void 0x0&&(_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x408)]=!0x1),_0x5d100['flowConfig']['ignoreGroups']===void 0x0&&(_0x5d100[_0x2af328(0x4b3)]['ignoreGroups']=!0x0),_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x5bf)]===void 0x0&&(_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x5bf)]='!'),_0x5d100['flowConfig']['stopConversation']===void 0x0&&(_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x4a9)]=_0x2af328(0x10d)),_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x6ca)]===void 0x0&&(_0x5d100[_0x2af328(0x4b3)][_0x2af328(0x6ca)]=0x14),await _0x5d100['save'](),this[_0x2af328(0x253)]=_0x5d100,this[_0x2af328(0x596)][_0x2af328(0x362)](this[_0x2af328(0x63f)]+'\x20('+this[_0x2af328(0x164)][_0x2af328(0x242)]+_0x2af328(0x35c)),this[_0x2af328(0x596)][_0x2af328(0x362)](this['AutomateSystem']),_0x5d100;}catch(_0x2fedcb){throw this[_0x2af328(0x596)][_0x2af328(0x269)](this[_0x2af328(0x63f)]+'\x20('+this[_0x2af328(0x164)][_0x2af328(0x242)]+_0x2af328(0x60a)+JSON[_0x2af328(0x199)](_0x2fedcb,null,0x2)),new g(_0x2af328(0x587)+_0x2fedcb[_0x2af328(0x68d)]);}}async[a0_0x29cdb8(0x6c1)](){const _0x5a622f=a0_0x29cdb8;this[_0x5a622f(0x640)]&&clearTimeout(this[_0x5a622f(0x640)]),this['timerId']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x29cdb8(0x319)](){const _0x1486da=a0_0x29cdb8;Date['now']()-this[_0x1486da(0x4d0)]>=0x1d4c0&&(this[_0x1486da(0x596)][_0x1486da(0x362)](this[_0x1486da(0x63f)]+'\x20('+this['instance']['wuid']+_0x1486da(0x5b8)),this[_0x1486da(0x288)]=null,this[_0x1486da(0x4d0)]=0x0,this[_0x1486da(0x20d)]=0x0,await this['scheduleNextCheck']());}async['scheduleNextCheck'](){const _0x2ee795=a0_0x29cdb8;let _0x20c125=()=>{const _0x28cd74=a0_0x7e50;this[_0x28cd74(0x596)][_0x28cd74(0x362)](this['instanceName']+'\x20('+this[_0x28cd74(0x164)][_0x28cd74(0x242)]+_0x28cd74(0x4f8)+this['processingScheduleMessageId']+'\x20saindo\x20da\x20funo');},_0x2242d9=async()=>{const _0x469a72=a0_0x7e50;this['logger'][_0x469a72(0x362)](this[_0x469a72(0x63f)]+'\x20('+this['instance'][_0x469a72(0x242)]+_0x469a72(0x3d2));let _0x47ac8e=Date[_0x469a72(0x271)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x469a72(0x35f)]({'owner':this[_0x469a72(0x164)][_0x469a72(0x242)],'status':{'$in':[_0x469a72(0x2ce),_0x469a72(0x18e)]},'$or':[{'when':{'$lte':Date[_0x469a72(0x271)](),'$gte':_0x47ac8e}},{'when':0x0}]});},_0x25bbd5=async _0x5ec84b=>{const _0x5bb9c8=a0_0x7e50;for(let _0x103f53 of _0x5ec84b){if(!await L[_0x5bb9c8(0x2b8)]({'_id':_0x103f53[_0x5bb9c8(0xe6)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5bb9c8(0x271)]()-0x1770}}]},{'$set':{'startSend':Date[_0x5bb9c8(0x271)]()}}))return;if(!this[_0x5bb9c8(0x450)]){this[_0x5bb9c8(0x596)][_0x5bb9c8(0x362)](this[_0x5bb9c8(0x63f)]+'\x20('+this[_0x5bb9c8(0x164)][_0x5bb9c8(0x242)]+_0x5bb9c8(0x533));break;}if(_0x103f53[_0x5bb9c8(0x607)]===_0x5bb9c8(0x68c)&&!this[_0x5bb9c8(0x253)]?.[_0x5bb9c8(0x4b3)][_0x5bb9c8(0x408)]){this[_0x5bb9c8(0x596)][_0x5bb9c8(0x269)](this[_0x5bb9c8(0x63f)]+'\x20('+this['instance'][_0x5bb9c8(0x242)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x103f53['remoteJidsRemaining']||_0x103f53[_0x5bb9c8(0x4f6)][_0x5bb9c8(0x206)]===0x0)&&(_0x103f53=await L[_0x5bb9c8(0x5af)](_0x103f53[_0x5bb9c8(0xe6)],{'$set':{'status':_0x5bb9c8(0x18e),'remoteJidsRemaining':[..._0x103f53['remoteJids']]}},{'new':!0x0}));for(let _0x27c20e of _0x103f53[_0x5bb9c8(0x4f6)]){if(await this[_0x5bb9c8(0x6c1)](),this[_0x5bb9c8(0x4d0)]=Date[_0x5bb9c8(0x271)](),_0x103f53[_0x5bb9c8(0x3a8)][_0x5bb9c8(0x194)](_0x5c6da3=>_0x5c6da3['remoteJid']===_0x27c20e)){this[_0x5bb9c8(0x596)][_0x5bb9c8(0x362)](this[_0x5bb9c8(0x63f)]+'\x20('+this['instance'][_0x5bb9c8(0x242)]+_0x5bb9c8(0x3ad)+_0x27c20e+_0x5bb9c8(0x668));continue;}if(!this['isConnected']){this[_0x5bb9c8(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x5bb9c8(0x164)]['wuid']+_0x5bb9c8(0x6b6));break;}if(!this[_0x5bb9c8(0x288)]){this['logger'][_0x5bb9c8(0x362)](this[_0x5bb9c8(0x63f)]+'\x20('+this[_0x5bb9c8(0x164)][_0x5bb9c8(0x242)]+_0x5bb9c8(0x24b)+_0x103f53[_0x5bb9c8(0xe6)]+_0x5bb9c8(0x34e));break;}if(_0x103f53[_0x5bb9c8(0x607)]==='flow'&&!this[_0x5bb9c8(0x253)]?.[_0x5bb9c8(0x4b3)][_0x5bb9c8(0x408)]){this[_0x5bb9c8(0x596)][_0x5bb9c8(0x269)](this[_0x5bb9c8(0x63f)]+'\x20('+this[_0x5bb9c8(0x164)][_0x5bb9c8(0x242)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');break;}try{let _0x3c4fe5=await this[_0x5bb9c8(0x1ad)](_0x27c20e,_0x103f53),_0x4471da=_0x3c4fe5[_0x5bb9c8(0x269)]===!0x0,_0x2c68c7={'remoteJid':_0x27c20e,'error':_0x4471da,'id':_0x4471da?null:_0x3c4fe5['id'],'error_log':_0x4471da?_0x3c4fe5['detail']?_0x3c4fe5[_0x5bb9c8(0x64c)][_0x5bb9c8(0x47a)]():'':null,'log_timestamp':Date['now']()};if((await L[_0x5bb9c8(0x5af)](_0x103f53[_0x5bb9c8(0xe6)],{'$push':{'messagesSend':_0x2c68c7},'$pull':{'remoteJidsRemaining':_0x27c20e}},{'new':!0x0}))[_0x5bb9c8(0x46b)]===_0x5bb9c8(0x38e)){this[_0x5bb9c8(0x596)]['verbose'](this[_0x5bb9c8(0x63f)]+'\x20('+this[_0x5bb9c8(0x164)][_0x5bb9c8(0x242)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x103f53['_id']+_0x5bb9c8(0x12c));break;}if(_0x4471da)continue;let _0x183f5b=this[_0x5bb9c8(0xf1)](_0x103f53[_0x5bb9c8(0x3a7)],_0x103f53[_0x5bb9c8(0x3c7)]);await this[_0x5bb9c8(0x378)](_0x183f5b);}catch(_0x1e5a91){this['logger'][_0x5bb9c8(0x269)](this[_0x5bb9c8(0x63f)]+'\x20('+this[_0x5bb9c8(0x164)][_0x5bb9c8(0x242)]+_0x5bb9c8(0x529)+_0x27c20e+':\x20'+JSON[_0x5bb9c8(0x199)](_0x1e5a91,null,0x2));let _0x392a3e={'remoteJid':_0x27c20e,'error':!0x0,'id':null,'error_log':_0x1e5a91[_0x5bb9c8(0x68d)],'log_timestamp':Date['now']()};await L['findByIdAndUpdate'](_0x103f53[_0x5bb9c8(0xe6)],{'$push':{'messagesSend':_0x392a3e},'$pull':{'remoteJidsRemaining':_0x27c20e}},{'new':!0x0});}}let _0x1cf44c=await L[_0x5bb9c8(0xee)](_0x103f53[_0x5bb9c8(0xe6)]);_0x1cf44c[_0x5bb9c8(0x4f6)][_0x5bb9c8(0x206)]===0x0&&_0x1cf44c[_0x5bb9c8(0x46b)]!=='stopped'&&await L['findByIdAndUpdate'](_0x103f53[_0x5bb9c8(0xe6)],{'$set':{'status':_0x5bb9c8(0x568)}},{'new':!0x0}),await new Promise(_0x549dae=>setTimeout(_0x549dae,0x1388));}},_0x36f968=async()=>{const _0x4bde17=a0_0x7e50;let _0x4970b6=await L[_0x4bde17(0x4be)]({'owner':this[_0x4bde17(0x164)][_0x4bde17(0x242)],'status':_0x4bde17(0x2ce),'when':{'$gt':Date[_0x4bde17(0x271)]()}})[_0x4bde17(0x3de)]({'when':0x1});_0x4970b6&&_0x4970b6['when']-Date['now']()<=0x5265c00?this[_0x4bde17(0x20d)]=_0x4970b6['when']-Date['now']():this[_0x4bde17(0x20d)]=(0x3c+Math['floor'](Math[_0x4bde17(0x558)]()*0x3c))*0x3c*0x3e8,this[_0x4bde17(0x20d)]=Math[_0x4bde17(0x463)](this[_0x4bde17(0x20d)],0x7d0);let _0x4d4ca3=Math[_0x4bde17(0x2c1)](this[_0x4bde17(0x20d)]/0xea60);if(_0x4970b6){let _0x4a8e80=new Date(_0x4970b6[_0x4bde17(0x633)])['toLocaleString']();this[_0x4bde17(0x596)][_0x4bde17(0x362)](this[_0x4bde17(0x63f)]+'\x20('+this[_0x4bde17(0x164)][_0x4bde17(0x242)]+_0x4bde17(0x2ea)+_0x4a8e80+',\x20far\x20nova\x20verificao\x20em\x20'+_0x4d4ca3+_0x4bde17(0x6b0));}else this[_0x4bde17(0x596)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4bde17(0x242)]+_0x4bde17(0x6d7)+_0x4d4ca3+_0x4bde17(0x6b0));setTimeout(()=>this[_0x4bde17(0x204)](),this[_0x4bde17(0x20d)]);};if(this[_0x2ee795(0x288)]){await this[_0x2ee795(0x6c1)](),_0x20c125();return;}if(!this[_0x2ee795(0x450)]){this[_0x2ee795(0x596)][_0x2ee795(0x362)](this[_0x2ee795(0x63f)]+'\x20('+this[_0x2ee795(0x164)][_0x2ee795(0x242)]+'):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado'),this[_0x2ee795(0x288)]=null,this[_0x2ee795(0x4d0)]=0x0,this[_0x2ee795(0x20d)]=0x0;return;}try{let _0x3d6479=await _0x2242d9();_0x3d6479[_0x2ee795(0x206)]===0x0?this[_0x2ee795(0x596)]['verbose'](this['instanceName']+'\x20('+this[_0x2ee795(0x164)][_0x2ee795(0x242)]+_0x2ee795(0x13b)):(this['processingScheduleMessageId']=_0x3d6479[0x0][_0x2ee795(0xe6)],await _0x25bbd5(_0x3d6479)),await _0x36f968(),this[_0x2ee795(0x288)]=null;}catch(_0xba3142){this[_0x2ee795(0x596)][_0x2ee795(0x269)]('Error\x20in\x20scheduleNextCheck:\x20'+JSON[_0x2ee795(0x199)](_0xba3142,null,0x2));}}[a0_0x29cdb8(0xf1)](_0x4e2830,_0x50ffba){const _0x10e3dc=a0_0x29cdb8;return _0x4e2830=Math[_0x10e3dc(0x463)](0.5,_0x4e2830),_0x50ffba=Math[_0x10e3dc(0x463)](0x3,_0x50ffba),Math[_0x10e3dc(0x498)](Math[_0x10e3dc(0x558)]()*(_0x50ffba-_0x4e2830+0x1)+_0x4e2830)*0x3e8;}['sleep'](_0x44771d){return new Promise(_0xa6d84b=>setTimeout(_0xa6d84b,_0x44771d));}async[a0_0x29cdb8(0x45f)](_0x20b387){const _0x433901=a0_0x29cdb8;if(!this[_0x433901(0x253)]&&(await this[_0x433901(0x3b3)](),!this['AutomateSystem']))return null;_0x20b387=this[_0x433901(0x25a)](_0x20b387);let _0x37a91e=await this[_0x433901(0x29f)][_0x433901(0x136)][_0x433901(0x4be)]({'where':{'_id':_0x20b387,'owner':this['instance']['wuid']}}),_0x514ecf={};if(_0x37a91e&&_0x37a91e[_0x433901(0x2bc)]){let _0x359ac7=_0x37a91e[_0x433901(0x2bc)];typeof _0x359ac7['nome']==_0x433901(0x540)&&(_0x514ecf[_0x433901(0x16e)]=_0x359ac7[_0x433901(0x16e)]),typeof _0x359ac7[_0x433901(0x532)]==_0x433901(0x540)&&(_0x514ecf['nomecompleto']=_0x359ac7[_0x433901(0x532)]),typeof _0x359ac7['email']==_0x433901(0x540)&&(_0x514ecf['email']=_0x359ac7[_0x433901(0x4de)]),typeof _0x359ac7[_0x433901(0x328)]==_0x433901(0x540)&&(_0x514ecf[_0x433901(0x328)]=_0x359ac7[_0x433901(0x328)]),typeof _0x359ac7[_0x433901(0x46b)]==_0x433901(0x540)&&(_0x514ecf['status']=_0x359ac7[_0x433901(0x46b)]),typeof _0x359ac7[_0x433901(0x3bf)]==_0x433901(0x540)&&(_0x514ecf[_0x433901(0x3bf)]=_0x359ac7[_0x433901(0x3bf)]),typeof _0x359ac7['responsavelid']==_0x433901(0x540)&&(_0x514ecf[_0x433901(0x474)]=_0x359ac7[_0x433901(0x474)]),Array[_0x433901(0x51c)](_0x359ac7[_0x433901(0x1a4)])&&(_0x514ecf[_0x433901(0x1a4)]=_0x359ac7[_0x433901(0x1a4)][_0x433901(0x327)](',\x20'));}return _0x37a91e&&_0x37a91e[_0x433901(0x2bc)]&&_0x37a91e[_0x433901(0x2bc)][_0x433901(0x227)]&&_0x37a91e[_0x433901(0x2bc)][_0x433901(0x227)][_0x433901(0x534)](_0x3534c1=>{const _0x1e635b=_0x433901;let _0x1c8334=this[_0x1e635b(0x253)]?.[_0x1e635b(0x227)][_0x1e635b(0x35f)](_0x30a72a=>_0x30a72a[_0x1e635b(0xe6)]===_0x3534c1['_id']);_0x1c8334&&(_0x514ecf[_0x1c8334['name']]=_0x3534c1[_0x1e635b(0x5c8)]);}),_0x514ecf;}async[a0_0x29cdb8(0x259)](_0x1e1ac0,_0x13e0b2){const _0x59c3de=a0_0x29cdb8;let _0x2ca5f3=await this['getVariablesChat'](_0x13e0b2);return this[_0x59c3de(0x614)](_0x1e1ac0,_0x2ca5f3);}async[a0_0x29cdb8(0x2b5)](_0x58abfd){const _0x2231ca=a0_0x29cdb8;try{if(this[_0x2231ca(0x596)][_0x2231ca(0x362)](this[_0x2231ca(0x63f)]+'\x20('+this[_0x2231ca(0x164)][_0x2231ca(0x242)]+_0x2231ca(0x5d6)),_0x58abfd['delete']&&_0x58abfd[_0x2231ca(0xe6)]){if(this['processingScheduleMessageId']===_0x58abfd['_id'][_0x2231ca(0x47a)]())throw new Error(_0x2231ca(0x41a));let _0x153d40=await L[_0x2231ca(0x409)](_0x58abfd['_id']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x153d40;}let _0x58fe7c;if(_0x58abfd[_0x2231ca(0xe6)]&&(_0x58fe7c=await L[_0x2231ca(0x4be)]({'owner':this[_0x2231ca(0x164)][_0x2231ca(0x242)],'_id':_0x58abfd[_0x2231ca(0xe6)]})),_0x58fe7c){let _0x22af8b=_0x58abfd;this['processingScheduleMessageId']===_0x58fe7c[_0x2231ca(0xe6)]['toString']()&&(_0x22af8b={'status':_0x58abfd[_0x2231ca(0x46b)],'_id':_0x58abfd[_0x2231ca(0xe6)]});let _0xa0df5b=await L[_0x2231ca(0x5af)](_0x58fe7c[_0x2231ca(0xe6)],{'$set':_0x22af8b},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xa0df5b;}else{_0x58abfd[_0x2231ca(0x270)]=this[_0x2231ca(0x164)]['wuid'];let _0x2eacc1=await new L(_0x58abfd)[_0x2231ca(0x14a)]();return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2eacc1;}}catch(_0x5a9a39){throw this[_0x2231ca(0x596)][_0x2231ca(0x269)](this['instanceName']+'\x20('+this[_0x2231ca(0x164)]['wuid']+_0x2231ca(0x6c2)+JSON['stringify'](_0x5a9a39,null,0x2)),new g('Erro:'+_0x5a9a39[_0x2231ca(0x68d)]);}}async[a0_0x29cdb8(0x42d)](){const _0x1f14e2=a0_0x29cdb8;try{return await L[_0x1f14e2(0x35f)]({'owner':this[_0x1f14e2(0x164)]['wuid']})['sort']({'when':0x1});}catch(_0xa98d0){throw this[_0x1f14e2(0x596)][_0x1f14e2(0x269)](this[_0x1f14e2(0x63f)]+'\x20('+this[_0x1f14e2(0x164)][_0x1f14e2(0x242)]+_0x1f14e2(0x1b9)+JSON[_0x1f14e2(0x199)](_0xa98d0,null,0x2)),new g(_0x1f14e2(0x36e)+_0xa98d0[_0x1f14e2(0x68d)]);}}async['deleteDoneMessages'](){const _0x1adfac=a0_0x29cdb8;try{return await L['deleteMany']({'owner':this['instance'][_0x1adfac(0x242)],'status':'done'}),this[_0x1adfac(0x596)][_0x1adfac(0x362)](this[_0x1adfac(0x63f)]+'\x20('+this[_0x1adfac(0x164)][_0x1adfac(0x242)]+_0x1adfac(0x2f5)),this['getScheduleMessage']();}catch(_0x16c677){throw this[_0x1adfac(0x596)][_0x1adfac(0x269)](this[_0x1adfac(0x63f)]+'\x20('+this[_0x1adfac(0x164)]['wuid']+_0x1adfac(0x5cc)+JSON[_0x1adfac(0x199)](_0x16c677,null,0x2)),new g('Erro:'+_0x16c677['message']);}}async[a0_0x29cdb8(0x1ad)](_0x482923,_0x161e60){const _0x24e2fd=a0_0x29cdb8;try{if(_0x161e60[_0x24e2fd(0x607)]===_0x24e2fd(0x68c)&&!this[_0x24e2fd(0x253)]?.['flowConfig'][_0x24e2fd(0x408)])return this[_0x24e2fd(0x596)][_0x24e2fd(0x269)](this[_0x24e2fd(0x63f)]+'\x20('+this[_0x24e2fd(0x164)][_0x24e2fd(0x242)]+_0x24e2fd(0x2d4)),{'error':!0x0,'detail':_0x24e2fd(0x311)};switch(_0x161e60[_0x24e2fd(0x607)]){case'text':return await this[_0x24e2fd(0x229)](_0x161e60,_0x482923);case'media':return await this[_0x24e2fd(0x40a)](_0x161e60,_0x482923);case _0x24e2fd(0xfc):return await this[_0x24e2fd(0x6b4)](_0x161e60,_0x482923);case _0x24e2fd(0x68c):let _0x28ae64=new Pe();return _0x28ae64[_0x24e2fd(0x208)]=_0x161e60[_0x24e2fd(0x1d6)],_0x28ae64[_0x24e2fd(0x157)]=_0x482923,await this[_0x24e2fd(0x203)](_0x28ae64);break;default:return this['logger'][_0x24e2fd(0x269)](this[_0x24e2fd(0x63f)]+'\x20('+this[_0x24e2fd(0x164)][_0x24e2fd(0x242)]+_0x24e2fd(0x18f)+_0x161e60[_0x24e2fd(0x607)]),{'error':!0x0,'detail':_0x24e2fd(0x538)};}}catch(_0xee6ba7){return this[_0x24e2fd(0x596)][_0x24e2fd(0x269)](this['instanceName']+'\x20('+this[_0x24e2fd(0x164)]['wuid']+_0x24e2fd(0x1c7)+JSON[_0x24e2fd(0x199)](_0xee6ba7,null,0x2)),{'error':!0x0,'detail':_0xee6ba7[_0x24e2fd(0x68d)]};}}['getRandomText'](_0x2dc193){const _0x2d06f7=a0_0x29cdb8;let _0x5c32f0=_0x2dc193['split']('|'),_0x526239=Math[_0x2d06f7(0x498)](Math[_0x2d06f7(0x558)]()*_0x5c32f0[_0x2d06f7(0x206)]);return _0x5c32f0[_0x526239][_0x2d06f7(0x192)]();}async['scheduleSendText'](_0x2cf12e,_0x49d4b7){const _0xe17d1e=a0_0x29cdb8;if(this[_0xe17d1e(0x596)][_0xe17d1e(0x362)](this[_0xe17d1e(0x63f)]+'\x20('+this[_0xe17d1e(0x164)]['wuid']+_0xe17d1e(0x170)),!_0x2cf12e[_0xe17d1e(0x68d)][_0xe17d1e(0xf5)]||_0x2cf12e[_0xe17d1e(0x68d)]['text'][_0xe17d1e(0x206)]===0x0)return{'error':!0x0,'detail':_0xe17d1e(0x61a)};let _0x5a2472=this['getRandomText'](_0x2cf12e['message'][_0xe17d1e(0xf5)]),_0x422464=await this['replaceVariablesChat'](_0x5a2472,_0x49d4b7),_0x537ad0={'number':_0x49d4b7,'options':{'delay':_0x2cf12e[_0xe17d1e(0x68d)]['delay']},'textMessage':{'text':_0x422464}},_0x3ebe7a=null;try{let _0x4845bd=await this[_0xe17d1e(0x3a3)](_0x537ad0);if(_0x4845bd&&_0x4845bd['status'])return{'error':!0x1,'id':_0x4845bd[_0xe17d1e(0x4db)]['id']};_0x3ebe7a=JSON['stringify'](_0x4845bd),this['logger']['verbose'](this[_0xe17d1e(0x63f)]+'\x20('+this[_0xe17d1e(0x164)]['wuid']+_0xe17d1e(0x2f1)+_0x3ebe7a);}catch(_0x5710f5){this[_0xe17d1e(0x596)]['error'](this[_0xe17d1e(0x63f)]+'\x20('+this[_0xe17d1e(0x164)]['wuid']+_0xe17d1e(0x35b)+JSON[_0xe17d1e(0x199)](_0x5710f5,null,0x2)),_0x3ebe7a=_0x5710f5[_0xe17d1e(0x68d)];}if(_0x3ebe7a)return{'error':!0x0,'detail':(typeof _0x3ebe7a=='object'?JSON[_0xe17d1e(0x199)](_0x3ebe7a,null,0x2):_0x3ebe7a)[_0xe17d1e(0x6bd)](/[\[\]{}\n]/g,'\x20')[_0xe17d1e(0x6bd)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x1d5fa1,_0x393aa8){const _0x27c2b5=a0_0x29cdb8;this[_0x27c2b5(0x596)]['verbose'](this[_0x27c2b5(0x63f)]+'\x20('+this[_0x27c2b5(0x164)]['wuid']+_0x27c2b5(0x58b));let _0x5c460c;if(_0x1d5fa1['message'][_0x27c2b5(0xf5)]&&_0x1d5fa1[_0x27c2b5(0x68d)][_0x27c2b5(0xf5)][_0x27c2b5(0x206)]>0x0){let _0x2b58e5=this[_0x27c2b5(0x51b)](_0x1d5fa1['message']['text']);_0x5c460c=await this[_0x27c2b5(0x259)](_0x2b58e5,_0x393aa8);}let _0x5e69b={'number':_0x393aa8,'options':{'delay':_0x1d5fa1['message']['delay']},'mediaMessage':{'mediatype':_0x1d5fa1['message'][_0x27c2b5(0x49d)],'caption':_0x5c460c,'media':_0x1d5fa1[_0x27c2b5(0x68d)][_0x27c2b5(0x48b)]}},_0x4ef1ed=null;try{let _0xbb46d=await this[_0x27c2b5(0x364)](_0x5e69b);if(_0xbb46d&&_0xbb46d['status'])return{'error':!0x1,'id':_0xbb46d['key']['id']};_0x4ef1ed=JSON['stringify'](_0xbb46d),this['logger']['verbose'](this[_0x27c2b5(0x63f)]+'\x20('+this['instance']['wuid']+_0x27c2b5(0x2f1)+_0x4ef1ed);}catch(_0x3aae2d){this[_0x27c2b5(0x596)][_0x27c2b5(0x269)](this[_0x27c2b5(0x63f)]+'\x20('+this[_0x27c2b5(0x164)]['wuid']+_0x27c2b5(0x635)+JSON[_0x27c2b5(0x199)](_0x3aae2d,null,0x2)),_0x4ef1ed=_0x3aae2d[_0x27c2b5(0x68d)];}if(_0x4ef1ed)return{'error':!0x0,'detail':(typeof _0x4ef1ed=='object'?JSON[_0x27c2b5(0x199)](_0x4ef1ed,null,0x2):_0x4ef1ed)[_0x27c2b5(0x6bd)](/[\[\]{}\n]/g,'\x20')[_0x27c2b5(0x6bd)](/  +/g,'\x20')};}async[a0_0x29cdb8(0x6b4)](_0x182900,_0x3527ad){const _0x42b9aa=a0_0x29cdb8;this[_0x42b9aa(0x596)]['verbose'](this[_0x42b9aa(0x63f)]+'\x20('+this[_0x42b9aa(0x164)][_0x42b9aa(0x242)]+'):\x20Enviando\x20udio');let _0x14b1ac={'number':_0x3527ad,'options':{'delay':_0x182900[_0x42b9aa(0x68d)][_0x42b9aa(0x1cf)]},'audioMessage':{'audio':_0x182900[_0x42b9aa(0x68d)][_0x42b9aa(0x48b)]}},_0x4e0b18=null;try{let _0x4ee8b8=await this[_0x42b9aa(0x358)](_0x14b1ac);if(_0x4ee8b8&&_0x4ee8b8[_0x42b9aa(0x46b)])return{'error':!0x1,'id':_0x4ee8b8[_0x42b9aa(0x4db)]['id']};_0x4e0b18=JSON[_0x42b9aa(0x199)](_0x4ee8b8),this[_0x42b9aa(0x596)][_0x42b9aa(0x362)](this[_0x42b9aa(0x63f)]+'\x20('+this[_0x42b9aa(0x164)][_0x42b9aa(0x242)]+_0x42b9aa(0x2f1)+_0x4e0b18);}catch(_0x27e6f6){this['logger']['error'](this[_0x42b9aa(0x63f)]+'\x20('+this['instance'][_0x42b9aa(0x242)]+_0x42b9aa(0x69f)+JSON[_0x42b9aa(0x199)](_0x27e6f6,null,0x2)),_0x4e0b18=_0x27e6f6['message'];}if(_0x4e0b18)return{'error':!0x0,'detail':(typeof _0x4e0b18=='object'?JSON[_0x42b9aa(0x199)](_0x4e0b18,null,0x2):_0x4e0b18)[_0x42b9aa(0x6bd)](/[\[\]{}\n]/g,'\x20')[_0x42b9aa(0x6bd)](/  +/g,'\x20')};}},be=require(a0_0x29cdb8(0x2b9)),_t=class c{constructor(_0x4d398b,_0x31d3df,_0x2811b6){const _0xbc7c61=a0_0x29cdb8;this['eventEmitter']=_0x4d398b,this[_0xbc7c61(0x4c2)]=_0x31d3df,this['repository']=_0x2811b6,this['db']={},this[_0xbc7c61(0x4cd)]={},this[_0xbc7c61(0x596)]=new C(c[_0xbc7c61(0x208)]),this[_0xbc7c61(0x1da)]={},(this['removeInstance'](),this['noConnection'](),this['delInstanceFiles'](),Object[_0xbc7c61(0x3a6)](this['db'],_0x31d3df[_0xbc7c61(0x2ba)](_0xbc7c61(0x30a))),Object[_0xbc7c61(0x3a6)](this[_0xbc7c61(0x4cd)],_0x31d3df[_0xbc7c61(0x2ba)]('REDIS')),this[_0xbc7c61(0x493)]=this['db'][_0xbc7c61(0x522)]?this[_0xbc7c61(0x29f)][_0xbc7c61(0x550)]?.['db'](this['db']['CONNECTION'][_0xbc7c61(0x23b)]+_0xbc7c61(0x1eb)):void 0x0,this['redisCache']=this[_0xbc7c61(0x4cd)]['ENABLED']?new ne(this['redis']):void 0x0);}[a0_0x29cdb8(0x294)](_0x5c4d32){const _0xb24fdc=a0_0x29cdb8;let _0x268083=this['configService'][_0xb24fdc(0x2ba)]('DEL_INSTANCE');typeof _0x268083==_0xb24fdc(0x1a8)&&_0x268083>0x0&&setTimeout(()=>{const _0x247a5e=_0xb24fdc;this[_0x247a5e(0x1da)][_0x5c4d32]?.['connectionStatus']?.[_0x247a5e(0x4ae)]!=='open'&&delete this[_0x247a5e(0x1da)][_0x5c4d32];},0x3e8*0x3c*_0x268083);}async[a0_0x29cdb8(0x2dd)](_0xe15ef1){const _0x59fe32=a0_0x29cdb8;if(_0xe15ef1&&!this['waInstances'][_0xe15ef1])throw new x(_0x59fe32(0x126)+_0xe15ef1+_0x59fe32(0x3cd));let _0x25541b=[];for await(let [_0x34957d,_0x5ee0a8]of Object[_0x59fe32(0x340)](this[_0x59fe32(0x1da)]))if(_0x5ee0a8&&_0x5ee0a8['connectionStatus']['state']===_0x59fe32(0x29b)){let _0xa0c0a8=await this['repository'][_0x59fe32(0x515)][_0x59fe32(0x35f)](_0x34957d);_0x25541b[_0x59fe32(0x20a)]({'instance':{'instanceName':_0x34957d,'apikey':_0xa0c0a8[_0x59fe32(0x5bc)],'owner':_0x5ee0a8[_0x59fe32(0x242)],'profileName':await _0x5ee0a8['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x5ee0a8['profilePictureUrl']}});}return _0x25541b[_0x59fe32(0x35f)](_0x229b8a=>_0x229b8a[_0x59fe32(0x164)][_0x59fe32(0x63f)]===_0xe15ef1)??_0x25541b;}[a0_0x29cdb8(0x541)](){setInterval(async()=>{const _0x12eeab=a0_0x7e50;if(this['db'][_0x12eeab(0x522)])(await this[_0x12eeab(0x493)][_0x12eeab(0x55e)]())[_0x12eeab(0x534)](async _0x229fde=>{const _0x384ed1=_0x12eeab;let _0xf81357=_0x229fde[_0x384ed1(0x561)][_0x384ed1(0x6bd)](/^[\w-]+./,'');await this[_0x384ed1(0x493)][_0x384ed1(0x348)](_0xf81357)[_0x384ed1(0x673)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x3c6bfc=(0x0,te[_0x12eeab(0x14b)])(V,{'encoding':_0x12eeab(0x237)});for await(let _0x1e78ac of _0x3c6bfc)_0x1e78ac[_0x12eeab(0x52f)]()&&(0x0,te['readdirSync'])((0x0,be[_0x12eeab(0x327)])(V,_0x1e78ac[_0x12eeab(0x208)]),{'encoding':'utf-8'})[_0x12eeab(0x534)](async _0x2f54b0=>{const _0x2273fc=_0x12eeab;(_0x2f54b0[_0x2273fc(0x343)](/^app.state.*/)||_0x2f54b0['match'](/^session-.*/))&&(0x0,te[_0x2273fc(0x647)])((0x0,be[_0x2273fc(0x327)])(V,_0x1e78ac[_0x2273fc(0x208)],_0x2f54b0),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x29cdb8(0x5de)](_0x98b597){const _0x7a9abe=a0_0x29cdb8;this['db'][_0x7a9abe(0x522)]&&(await this['repository'][_0x7a9abe(0x550)][_0x7a9abe(0x247)](),(await this['dbInstance']['collections']())[_0x7a9abe(0x206)]>0x0&&await this[_0x7a9abe(0x493)][_0x7a9abe(0x428)](_0x98b597)),this[_0x7a9abe(0x4cd)][_0x7a9abe(0x522)]&&(this[_0x7a9abe(0x10f)]['reference']=_0x98b597,await this[_0x7a9abe(0x10f)][_0x7a9abe(0x4c0)]()),!this['db'][_0x7a9abe(0x522)]&&!this['redis'][_0x7a9abe(0x522)]&&(0x0,te[_0x7a9abe(0x647)])((0x0,be[_0x7a9abe(0x327)])(V,_0x98b597),{'recursive':!0x0,'force':!0x0});}async[a0_0x29cdb8(0x32d)](){const _0x1ab020=a0_0x29cdb8;let _0x20fd82=async _0x1149e6=>{const _0x3ce4ff=a0_0x7e50;let _0x443f90=new ye(this[_0x3ce4ff(0x4c2)],this['eventEmitter'],this['repository']);_0x443f90[_0x3ce4ff(0x63f)]=_0x1149e6,await _0x443f90['connectToWhatsapp'](),this['waInstances'][_0x1149e6]=_0x443f90;};try{if(this[_0x1ab020(0x4cd)][_0x1ab020(0x522)]){let _0x49c349=await this['redisCache'][_0x1ab020(0x5a9)]();_0x49c349?.[_0x1ab020(0x206)]>0x0&&_0x49c349['forEach'](async _0xf1d37a=>await _0x20fd82(_0xf1d37a[_0x1ab020(0x6a9)](':')[0x1]));}if(this['db'][_0x1ab020(0x522)]){await this[_0x1ab020(0x29f)][_0x1ab020(0x550)][_0x1ab020(0x247)]();let _0x1b4fc9=await this[_0x1ab020(0x493)][_0x1ab020(0x55e)]();_0x1b4fc9[_0x1ab020(0x206)]>0x0&&_0x1b4fc9[_0x1ab020(0x534)](async _0x4f84d3=>await _0x20fd82(_0x4f84d3[_0x1ab020(0x561)][_0x1ab020(0x6bd)](/^[\w-]+\./,'')));return;}let _0x11a8d3=(0x0,te[_0x1ab020(0x14b)])(V,{'encoding':_0x1ab020(0x237)});for await(let _0x25c29b of _0x11a8d3)if(_0x25c29b[_0x1ab020(0x52f)]()){if((0x0,te['readdirSync'])((0x0,be[_0x1ab020(0x327)])(V,_0x25c29b[_0x1ab020(0x208)]),{'encoding':_0x1ab020(0x237)})['length']===0x0){(0x0,te[_0x1ab020(0x647)])((0x0,be[_0x1ab020(0x327)])(V,_0x25c29b[_0x1ab020(0x208)]),{'recursive':!0x0,'force':!0x0});break;}await _0x20fd82(_0x25c29b[_0x1ab020(0x208)]);}}catch(_0x4c1640){this[_0x1ab020(0x596)]['error'](_0x4c1640);}}['removeInstance'](){const _0x1cc650=a0_0x29cdb8;this[_0x1cc650(0x151)]['on'](_0x1cc650(0x23a),async _0x3d199b=>{const _0x1591b2=_0x1cc650;try{this[_0x1591b2(0x1da)][_0x3d199b]=void 0x0;}catch{}try{this[_0x1591b2(0x5de)](_0x3d199b);}finally{this[_0x1591b2(0x596)][_0x1591b2(0x1db)](_0x1591b2(0x126)+_0x3d199b+_0x1591b2(0x5d8));}});}['noConnection'](){const _0x4bddff=a0_0x29cdb8;this[_0x4bddff(0x151)]['on'](_0x4bddff(0x63c),async _0x35c5e2=>{const _0x4d906c=_0x4bddff;try{this[_0x4d906c(0x1da)][_0x35c5e2]=void 0x0,this[_0x4d906c(0x5de)](_0x35c5e2);}catch(_0x27ffd1){this[_0x4d906c(0x596)]['error']({'localError':'noConnection','warn':_0x4d906c(0x3d4),'error':_0x27ffd1});}finally{this[_0x4d906c(0x596)][_0x4d906c(0x1db)](_0x4d906c(0x126)+_0x35c5e2+_0x4d906c(0x636));}});}},Pt=class extends W{constructor(_0xdd0574){const _0x198d23=a0_0x29cdb8;super(_0xdd0574),this[_0x198d23(0x4c2)]=_0xdd0574;}[a0_0x29cdb8(0x291)](_0xe72813){return xs(_0xe72813);}async[a0_0x29cdb8(0x5b3)](_0x4c930a){const _0x5a7ed6=a0_0x29cdb8;if(_0x4c930a['length']!==0x0)try{return{'insertCount':(await this[_0x5a7ed6(0x291)](_0x4c930a[0x0][_0x5a7ed6(0x270)])[_0x5a7ed6(0x18c)]([..._0x4c930a]))[_0x5a7ed6(0x206)]};}catch(_0x7c7290){return _0x7c7290;}}async[a0_0x29cdb8(0x35f)](_0xb79845){const _0x154760=a0_0x29cdb8;try{return await this[_0x154760(0x291)](_0xb79845[_0x154760(0x287)][_0x154760(0x270)])[_0x154760(0x35f)]({..._0xb79845['where']})[_0x154760(0x3de)]({'lastmsg':-0x1})[_0x154760(0x22d)](_0xb79845?.['limit']??0x0)[_0x154760(0x412)]();}catch{return[];}}async[a0_0x29cdb8(0x1de)](_0x5eaeb6){const _0x4a922b=a0_0x29cdb8;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x5eaeb6[_0x4a922b(0x287)]['owner'])[_0x4a922b(0x673)]({..._0x5eaeb6['where']}))['deletedCount']};}catch(_0x1ff74a){return{'error':_0x1ff74a?.[_0x4a922b(0x47a)]()};}}async[a0_0x29cdb8(0x22c)](_0x3128eb){const _0x476b9d=a0_0x29cdb8;try{return await this[_0x476b9d(0x291)](_0x3128eb[_0x476b9d(0x287)]['owner'])['deleteMany']({..._0x3128eb[_0x476b9d(0x287)]}),[];}catch(_0x45b725){return{'error':_0x45b725?.[_0x476b9d(0x47a)]()};}}async[a0_0x29cdb8(0x4be)](_0x28ff93){const _0x36a16c=a0_0x29cdb8;try{return await this[_0x36a16c(0x291)](_0x28ff93[_0x36a16c(0x287)]['owner'])[_0x36a16c(0x4be)]({..._0x28ff93[_0x36a16c(0x287)]})['lean']();}catch{return null;}}async[a0_0x29cdb8(0x50b)](_0x10a036,_0x2b3941,_0x2bcff2){const _0x23e9f=a0_0x29cdb8;try{let _0x2b3394={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2bcff2};return await this[_0x23e9f(0x291)](_0x10a036[_0x23e9f(0x287)]['owner'])[_0x23e9f(0x2b8)]({..._0x10a036[_0x23e9f(0x287)]},{'$set':_0x2b3941},_0x2b3394);}catch(_0x5925bc){return console[_0x23e9f(0x269)](_0x5925bc),null;}}async['updateMany'](_0x1ba25e){const _0x5e0827=a0_0x29cdb8;try{let _0x2a98da=this[_0x5e0827(0x291)](_0x1ba25e[0x0][_0x5e0827(0x234)][_0x5e0827(0x287)][_0x5e0827(0x270)]),_0x3a96a9=_0x1ba25e[_0x5e0827(0x667)](_0x3f3cc5=>({'updateOne':{'filter':{..._0x3f3cc5[_0x5e0827(0x234)]['where']},'update':{'$set':_0x3f3cc5[_0x5e0827(0x656)]}}}));return(await _0x2a98da[_0x5e0827(0x504)](_0x3a96a9))[_0x5e0827(0x490)];}catch(_0x41ccd8){return console[_0x5e0827(0x269)](_0x41ccd8),0x0;}}},xt=class{constructor(_0x150d1f){const _0x150c10=a0_0x29cdb8;this[_0x150c10(0x10e)]=_0x150d1f;}async['editChat']({instanceName:_0x18b923},_0x5b66cf){const _0xbe185e=a0_0x29cdb8;return await this[_0xbe185e(0x10e)]['waInstances'][_0x18b923][_0xbe185e(0x5b7)](_0x5b66cf);}async[a0_0x29cdb8(0x3dd)]({instanceName:_0x5bcbf4},_0x1ddb28){return await this['waMonitor']['waInstances'][_0x5bcbf4]['whatsappNumber'](_0x1ddb28);}async[a0_0x29cdb8(0x243)]({instanceName:_0x587d0b},_0xe7a7ef){const _0x56ad87=a0_0x29cdb8;return await this['waMonitor'][_0x56ad87(0x1da)][_0x587d0b][_0x56ad87(0x13e)](_0xe7a7ef);}async[a0_0x29cdb8(0x698)]({instanceName:_0x3e18ca},_0xd5cdc8){const _0x4973d9=a0_0x29cdb8;return await this[_0x4973d9(0x10e)][_0x4973d9(0x1da)][_0x3e18ca]['archiveChat'](_0xd5cdc8);}async['deleteMessage']({instanceName:_0x195cc0},_0x1ec388){const _0x22f6f9=a0_0x29cdb8;return await this[_0x22f6f9(0x10e)][_0x22f6f9(0x1da)][_0x195cc0][_0x22f6f9(0x49f)](_0x1ec388);}async[a0_0x29cdb8(0x267)]({instanceName:_0x270e39},_0x5cb2ad){const _0x565498=a0_0x29cdb8;return await this[_0x565498(0x10e)]['waInstances'][_0x270e39]['profilePicture'](_0x5cb2ad[_0x565498(0x1a8)]);}async[a0_0x29cdb8(0x456)]({instanceName:_0x4b3595},_0x550c92){const _0x543fd9=a0_0x29cdb8;return await this['waMonitor'][_0x543fd9(0x1da)][_0x4b3595][_0x543fd9(0x456)](_0x550c92['number']);}async[a0_0x29cdb8(0x5d5)]({instanceName:_0x3d7bb7},_0x37527c){const _0x3ca647=a0_0x29cdb8;return await this[_0x3ca647(0x10e)]['waInstances'][_0x3d7bb7][_0x3ca647(0x5d5)](_0x37527c);}async[a0_0x29cdb8(0x5a6)]({instanceName:_0x372f9d},_0x32efa4){const _0x1c29e8=a0_0x29cdb8;return await this[_0x1c29e8(0x10e)][_0x1c29e8(0x1da)][_0x372f9d]['fetchContacts'](_0x32efa4);}async[a0_0x29cdb8(0x53f)]({instanceName:_0x19b689},_0x3fe05c){const _0x4dbfa4=a0_0x29cdb8;return await this['waMonitor'][_0x4dbfa4(0x1da)][_0x19b689][_0x4dbfa4(0x53f)](_0x3fe05c);}async[a0_0x29cdb8(0x5bb)]({instanceName:_0x2ce070},_0x1bda6a){const _0x18269b=a0_0x29cdb8;return await this[_0x18269b(0x10e)]['waInstances'][_0x2ce070][_0x18269b(0x5bb)](_0x1bda6a);}async[a0_0x29cdb8(0x312)]({instanceName:_0x5412c7}){const _0x5b0ae8=a0_0x29cdb8;return await this['waMonitor'][_0x5b0ae8(0x1da)][_0x5412c7]['fetchChats']();}async[a0_0x29cdb8(0x5f0)]({instanceName:_0xf36100}){const _0x5d9736=a0_0x29cdb8;return await this[_0x5d9736(0x10e)][_0x5d9736(0x1da)][_0xf36100][_0x5d9736(0x5f0)]();}async[a0_0x29cdb8(0x299)]({instanceName:_0x4872fc},_0xa20eef){const _0x30ff2c=a0_0x29cdb8;return await this['waMonitor'][_0x30ff2c(0x1da)][_0x4872fc][_0x30ff2c(0x299)](_0xa20eef);}async[a0_0x29cdb8(0x205)]({instanceName:_0x5ce380},_0x38a1f9){const _0x1bde7d=a0_0x29cdb8;return await this['waMonitor'][_0x1bde7d(0x1da)][_0x5ce380][_0x1bde7d(0x205)](_0x38a1f9['number']);}async[a0_0x29cdb8(0x25c)]({instanceName:_0x161890},_0x21fdef){const _0x41ab4c=a0_0x29cdb8;return await this['waMonitor'][_0x41ab4c(0x1da)][_0x161890][_0x41ab4c(0x25c)](_0x21fdef[_0x41ab4c(0x208)]);}async['updateProfileStatus']({instanceName:_0x55dd3a},_0x2fde9f){const _0xef687b=a0_0x29cdb8;return await this[_0xef687b(0x10e)][_0xef687b(0x1da)][_0x55dd3a][_0xef687b(0x3d5)](_0x2fde9f['status']);}async[a0_0x29cdb8(0x6b9)]({instanceName:_0x1eb36b},_0x3b8219){const _0x263f3c=a0_0x29cdb8;return await this[_0x263f3c(0x10e)][_0x263f3c(0x1da)][_0x1eb36b]['updateProfilePicture'](_0x3b8219[_0x263f3c(0x557)]);}async[a0_0x29cdb8(0x265)]({instanceName:_0x110ca6},_0x13dae8){const _0x273ae0=a0_0x29cdb8;return await this['waMonitor'][_0x273ae0(0x1da)][_0x110ca6][_0x273ae0(0x265)]();}},hs=require(a0_0x29cdb8(0x6a2)),$t=class c{constructor(_0x28b842,_0x268409,_0x29f8f3,_0x597b62,_0x16ee8b){const _0x1909e3=a0_0x29cdb8;this[_0x1909e3(0x10e)]=_0x28b842,this['configService']=_0x268409,this[_0x1909e3(0x29f)]=_0x29f8f3,this[_0x1909e3(0x151)]=_0x597b62,this[_0x1909e3(0x209)]=_0x16ee8b,this['logger']=new C(c[_0x1909e3(0x208)]);}async[a0_0x29cdb8(0x3aa)]({instanceName:_0x5933cc,apikey:_0x88d237}){const _0x57b0e7=a0_0x29cdb8;let _0x5f10a2=new ye(this['configService'],this[_0x57b0e7(0x151)],this['repository']);_0x5f10a2[_0x57b0e7(0x63f)]=_0x5933cc,this[_0x57b0e7(0x10e)][_0x57b0e7(0x1da)][_0x5f10a2[_0x57b0e7(0x63f)]]=_0x5f10a2,this['waMonitor'][_0x57b0e7(0x294)](_0x5f10a2['instanceName']);let _0x52a335={};_0x88d237?(await this[_0x57b0e7(0x29f)][_0x57b0e7(0x515)][_0x57b0e7(0x15b)]({'apikey':_0x88d237},_0x5933cc),_0x52a335[_0x57b0e7(0x5bc)]=_0x88d237):_0x52a335=await this[_0x57b0e7(0x209)][_0x57b0e7(0x5c4)]({'instanceName':_0x5f10a2[_0x57b0e7(0x63f)]});let _0x3662b3;return await _0x5f10a2['connectToWhatsapp'](),await(0x0,hs[_0x57b0e7(0x1cf)])(0x7d0),_0x3662b3=_0x5f10a2[_0x57b0e7(0x19c)],{'instance':{'instanceName':_0x5f10a2[_0x57b0e7(0x63f)],'status':_0x57b0e7(0x166)},'hash':_0x52a335,'qrcode':_0x3662b3};}async['connectToWhatsapp']({instanceName:_0x38a64d}){const _0x5e4696=a0_0x29cdb8;try{let _0x4b1a9c=this[_0x5e4696(0x10e)][_0x5e4696(0x1da)][_0x38a64d];switch(_0x4b1a9c[_0x5e4696(0x6a4)]?.[_0x5e4696(0x4ae)]){case _0x5e4696(0x36f):return await _0x4b1a9c[_0x5e4696(0x3be)](),await(0x0,hs[_0x5e4696(0x1cf)])(0x7d0),_0x4b1a9c[_0x5e4696(0x19c)];case'connecting':return _0x4b1a9c['qrCode'];default:return await this[_0x5e4696(0x45e)]({'instanceName':_0x38a64d});}}catch(_0xa42174){this[_0x5e4696(0x596)][_0x5e4696(0x5aa)](_0xa42174);}}async['connectionState']({instanceName:_0x3e5478}){const _0x4b91a9=a0_0x29cdb8;let _0x25cece=this[_0x4b91a9(0x10e)][_0x4b91a9(0x1da)][_0x3e5478]['connectionStatus'],_0x1d6e52=null;_0x25cece[_0x4b91a9(0x4ae)]===_0x4b91a9(0x29b)&&_0x3e5478&&(_0x1d6e52=await this[_0x4b91a9(0x10e)][_0x4b91a9(0x2dd)](_0x3e5478));let _0x30ae15=null;return _0x25cece['state']===_0x4b91a9(0x591)&&_0x3e5478&&(_0x30ae15=this[_0x4b91a9(0x10e)]['waInstances'][_0x3e5478][_0x4b91a9(0x19c)]),{'instance':_0x3e5478,'connectionStatus':_0x25cece,'instanceInfo':_0x1d6e52,'qrcode':_0x30ae15};}async[a0_0x29cdb8(0x1ac)]({instanceName:_0xeebc42}){const _0x2ca42f=a0_0x29cdb8;try{return this['waMonitor'][_0x2ca42f(0x1da)][_0xeebc42]?.[_0x2ca42f(0x16a)]?.['ws']?.[_0x2ca42f(0x36f)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x2ca42f(0x5f8)}};}catch(_0x1ce659){this['logger'][_0x2ca42f(0x269)](_0x1ce659);}}async[a0_0x29cdb8(0x3ba)]({instanceName:_0x5a30dd}){const _0x5d3ea0=a0_0x29cdb8;return _0x5a30dd?this['waMonitor']['instanceInfo'](_0x5a30dd):this[_0x5d3ea0(0x10e)][_0x5d3ea0(0x2dd)]();}async['logout']({instanceName:_0x4395b2}){const _0xde56ef=a0_0x29cdb8;try{return await this[_0xde56ef(0x10e)][_0xde56ef(0x1da)][_0x4395b2]?.[_0xde56ef(0x16a)]?.[_0xde56ef(0x154)](_0xde56ef(0x611)+_0x4395b2),{'error':!0x1,'message':_0xde56ef(0x2f2)};}catch(_0x247504){throw new A(_0x247504[_0xde56ef(0x47a)]());}}async[a0_0x29cdb8(0x646)]({instanceName:_0x2c1eb4}){const _0x361d1d=a0_0x29cdb8;if((await this[_0x361d1d(0x45e)]({'instanceName':_0x2c1eb4}))[_0x361d1d(0x6a4)][_0x361d1d(0x4ae)]===_0x361d1d(0x29b))throw new g([_0x361d1d(0x65c),_0x361d1d(0x389)]);try{return delete this['waMonitor'][_0x361d1d(0x1da)][_0x2c1eb4],{'error':!0x1,'message':_0x361d1d(0x44a)};}catch(_0x40ae57){throw new g(_0x40ae57[_0x361d1d(0x47a)]());}}async[a0_0x29cdb8(0x112)](_0x203a7c,_0x433d0b){const _0x40355a=a0_0x29cdb8;return await this['authService'][_0x40355a(0x112)](_0x433d0b);}},se=require(a0_0x29cdb8(0x443)),kt=class{constructor(_0x2ed63d){this['waMonitor']=_0x2ed63d;}async[a0_0x29cdb8(0x257)]({instanceName:_0x3951f2},_0x29c515){const _0x324416=a0_0x29cdb8;return await this[_0x324416(0x10e)][_0x324416(0x1da)][_0x3951f2][_0x324416(0x3a3)](_0x29c515);}async[a0_0x29cdb8(0x1b2)]({instanceName:_0x4384f3},_0x39d415){const _0x444fbd=a0_0x29cdb8;if((0x0,se['isBase64'])(_0x39d415?.[_0x444fbd(0x364)]?.[_0x444fbd(0x201)])&&!_0x39d415?.[_0x444fbd(0x364)]?.[_0x444fbd(0x31d)])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se[_0x444fbd(0x60f)])(_0x39d415?.[_0x444fbd(0x364)]?.[_0x444fbd(0x201)])||(0x0,se[_0x444fbd(0x4fa)])(_0x39d415?.['mediaMessage']?.['media']))return await this[_0x444fbd(0x10e)]['waInstances'][_0x4384f3]['mediaMessage'](_0x39d415);throw new g(_0x444fbd(0x14d));}async[a0_0x29cdb8(0x344)]({instanceName:_0x3fe761},_0xd4be00){const _0xfa28a4=a0_0x29cdb8;if((0x0,se[_0xfa28a4(0x60f)])(_0xd4be00[_0xfa28a4(0x59a)][_0xfa28a4(0x3a9)])||(0x0,se[_0xfa28a4(0x4fa)])(_0xd4be00[_0xfa28a4(0x59a)][_0xfa28a4(0x3a9)]))return await this['waMonitor'][_0xfa28a4(0x1da)][_0x3fe761][_0xfa28a4(0x61d)](_0xd4be00);throw new g(_0xfa28a4(0x14d));}async[a0_0x29cdb8(0x47b)]({instanceName:_0x3debe},_0x6c800){const _0x3b0bee=a0_0x29cdb8;if((0x0,se['isURL'])(_0x6c800[_0x3b0bee(0x114)][_0x3b0bee(0xfc)])||(0x0,se[_0x3b0bee(0x4fa)])(_0x6c800[_0x3b0bee(0x114)][_0x3b0bee(0xfc)]))return await this[_0x3b0bee(0x10e)][_0x3b0bee(0x1da)][_0x3debe]['audioWhatsapp'](_0x6c800);throw new g(_0x3b0bee(0x14d));}async['sendButtons']({instanceName:_0x94e542},_0x5a1654){const _0x5419b5=a0_0x29cdb8;if((0x0,se[_0x5419b5(0x4fa)])(_0x5a1654[_0x5419b5(0x2db)][_0x5419b5(0x364)]?.[_0x5419b5(0x201)])&&!_0x5a1654['buttonMessage']['mediaMessage']?.[_0x5419b5(0x31d)])throw new g(_0x5419b5(0x324));return await this['waMonitor'][_0x5419b5(0x1da)][_0x94e542]['buttonMessage'](_0x5a1654);}async[a0_0x29cdb8(0x57a)]({instanceName:_0x472d89},_0x3a8952){const _0x3c5f75=a0_0x29cdb8;return await this[_0x3c5f75(0x10e)][_0x3c5f75(0x1da)][_0x472d89][_0x3c5f75(0x1c2)](_0x3a8952);}async['sendPoll']({instanceName:_0x2917dd},_0x514a89){const _0x3ea34a=a0_0x29cdb8;return await this[_0x3ea34a(0x10e)][_0x3ea34a(0x1da)][_0x2917dd][_0x3ea34a(0x487)](_0x514a89);}async[a0_0x29cdb8(0x221)]({instanceName:_0x16b170},_0x2165ea){return await this['waMonitor']['waInstances'][_0x16b170]['listMessage'](_0x2165ea);}async[a0_0x29cdb8(0x172)]({instanceName:_0x3a7a71},_0xec949b){const _0x47c418=a0_0x29cdb8;return await this[_0x47c418(0x10e)][_0x47c418(0x1da)][_0x3a7a71][_0x47c418(0x3e0)](_0xec949b);}async['sendReaction']({instanceName:_0x3dac88},_0x378dc4){const _0x425d1f=a0_0x29cdb8;if(!_0x378dc4[_0x425d1f(0x423)][_0x425d1f(0x156)]['match'](/[^\(\)\w\s-"-\+]+/))throw new g('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x425d1f(0x10e)]['waInstances'][_0x3dac88][_0x425d1f(0x423)](_0x378dc4);}async[a0_0x29cdb8(0x33a)]({instanceName:_0x48c3b1},_0x3c68a6){const _0x1e257f=a0_0x29cdb8;return await this[_0x1e257f(0x10e)][_0x1e257f(0x1da)][_0x48c3b1][_0x1e257f(0x1dc)](_0x3c68a6);}},Lt=class{constructor(_0x2b05af){const _0x4db186=a0_0x29cdb8;this[_0x4db186(0x10e)]=_0x2b05af;}async['createGroup'](_0x330397,_0x272d7d){const _0x434131=a0_0x29cdb8;return await this[_0x434131(0x10e)][_0x434131(0x1da)][_0x330397[_0x434131(0x63f)]][_0x434131(0x290)](_0x272d7d);}async[a0_0x29cdb8(0x434)](_0x1b8e19,_0x119126){const _0x38f57a=a0_0x29cdb8;return await this['waMonitor'][_0x38f57a(0x1da)][_0x1b8e19['instanceName']][_0x38f57a(0x434)](_0x119126);}async['groupDesc'](_0x149779,_0x21b2fd){const _0x33d016=a0_0x29cdb8;return await this[_0x33d016(0x10e)][_0x33d016(0x1da)][_0x149779[_0x33d016(0x63f)]][_0x33d016(0x224)](_0x21b2fd);}async['groupName'](_0x3a6d29,_0x19b8e7){const _0x1a1f91=a0_0x29cdb8;return await this[_0x1a1f91(0x10e)]['waInstances'][_0x3a6d29['instanceName']][_0x1a1f91(0x144)](_0x19b8e7);}async[a0_0x29cdb8(0x1a1)](_0xeaea99,_0x38c032){const _0x5ddce5=a0_0x29cdb8;return await this['waMonitor'][_0x5ddce5(0x1da)][_0xeaea99['instanceName']][_0x5ddce5(0x1a1)](_0x38c032);}async['findGroupInfo'](_0xe0cbc2,_0x22b0a3){const _0x1ec0c4=a0_0x29cdb8;return await this['waMonitor']['waInstances'][_0xe0cbc2['instanceName']][_0x1ec0c4(0x280)](_0x22b0a3);}async[a0_0x29cdb8(0x455)](_0x42279f){const _0x1a4101=a0_0x29cdb8;return await this[_0x1a4101(0x10e)][_0x1a4101(0x1da)][_0x42279f['instanceName']][_0x1a4101(0x455)]();}async['inviteCode'](_0x2ddeb6,_0x50ffb3){const _0x432875=a0_0x29cdb8;return await this[_0x432875(0x10e)]['waInstances'][_0x2ddeb6[_0x432875(0x63f)]][_0x432875(0x3dc)](_0x50ffb3);}async['joinGroup'](_0x21b166,_0x5ef247){const _0x5774b0=a0_0x29cdb8;return await this[_0x5774b0(0x10e)]['waInstances'][_0x21b166[_0x5774b0(0x63f)]][_0x5774b0(0x4c5)](_0x5ef247);}async[a0_0x29cdb8(0x173)](_0x1ba87d,_0x4122f9){const _0x9b8351=a0_0x29cdb8;return await this[_0x9b8351(0x10e)]['waInstances'][_0x1ba87d[_0x9b8351(0x63f)]]['revokeInviteCode'](_0x4122f9);}async[a0_0x29cdb8(0x68e)](_0x1bb1f9,_0xb31d69){const _0x129e2b=a0_0x29cdb8;return await this[_0x129e2b(0x10e)]['waInstances'][_0x1bb1f9[_0x129e2b(0x63f)]]['findParticipants'](_0xb31d69);}async['updateGParticipate'](_0x26133c,_0x3b3140){const _0x4ae413=a0_0x29cdb8;return await this[_0x4ae413(0x10e)]['waInstances'][_0x26133c['instanceName']][_0x4ae413(0x465)](_0x3b3140);}async[a0_0x29cdb8(0x238)](_0x25dcb6,_0x7a3f8e){const _0x3f31b1=a0_0x29cdb8;return await this[_0x3f31b1(0x10e)]['waInstances'][_0x25dcb6[_0x3f31b1(0x63f)]]['toggleEphemeral'](_0x7a3f8e);}async[a0_0x29cdb8(0x30d)](_0x5ee746,_0x4e7db9){const _0x2003e2=a0_0x29cdb8;return await this[_0x2003e2(0x10e)]['waInstances'][_0x5ee746[_0x2003e2(0x63f)]][_0x2003e2(0x30d)](_0x4e7db9);}},Ut=class{constructor(_0x2e775a,_0x5627ab){const _0xf1065c=a0_0x29cdb8;this[_0xf1065c(0x599)]=_0x2e775a,this[_0xf1065c(0x4c2)]=_0x5627ab;}async[a0_0x29cdb8(0x2ef)](_0x596787,_0x5e21d5){const _0xd1295=a0_0x29cdb8;try{let _0x1a02fa=_0x596787[_0xd1295(0x2fd)];if(this[_0xd1295(0x599)][_0xd1295(0x1da)][_0x1a02fa[_0xd1295(0x63f)]]['connectionStatus'][_0xd1295(0x4ae)]===_0xd1295(0x29b))throw new g(_0xd1295(0x153));let _0x21fc0e=this[_0xd1295(0x4c2)][_0xd1295(0x2ba)](_0xd1295(0x3f8))[_0xd1295(0x37e)];return _0x5e21d5[_0xd1295(0x46b)](0xc8)[_0xd1295(0x1b8)]('qrcode',{'type':_0x21fc0e,..._0x1a02fa});}catch(_0x18ecf8){console[_0xd1295(0x5aa)](_0xd1295(0x2ee),_0x18ecf8);}}},Vt=class{constructor(_0x130295){this['waMonitor']=_0x130295;}[a0_0x29cdb8(0x15b)](_0x1ecfad,_0x1bc89f){const _0xcffcc5=a0_0x29cdb8;return this[_0xcffcc5(0x10e)][_0xcffcc5(0x1da)][_0x1ecfad[_0xcffcc5(0x63f)]][_0xcffcc5(0x14c)](_0x1bc89f);}async[a0_0x29cdb8(0x35f)](_0x245c72){const _0x4bad79=a0_0x29cdb8;try{return await this['waMonitor'][_0x4bad79(0x1da)][_0x245c72[_0x4bad79(0x63f)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},id=new C(a0_0x29cdb8(0x36a)),Jt=class{constructor(_0x2d7158){const _0x507cfa=a0_0x29cdb8;this[_0x507cfa(0x10e)]=_0x2d7158;}async[a0_0x29cdb8(0x2b5)](_0x10861f,_0x3d6d8d){const _0x2401d4=a0_0x29cdb8;return await this['waMonitor'][_0x2401d4(0x1da)][_0x10861f['instanceName']]['editScheduleMessage'](_0x3d6d8d);}async[a0_0x29cdb8(0x42d)](_0x1d20df){const _0x4fe461=a0_0x29cdb8;return await this['waMonitor'][_0x4fe461(0x1da)][_0x1d20df[_0x4fe461(0x63f)]][_0x4fe461(0x42d)]();}async[a0_0x29cdb8(0x28e)](_0x4712bf){const _0x4b4f14=a0_0x29cdb8;return await this[_0x4b4f14(0x10e)][_0x4b4f14(0x1da)][_0x4712bf['instanceName']][_0x4b4f14(0x28e)]();}async[a0_0x29cdb8(0x3b3)](_0x2a42ed){const _0x36b746=a0_0x29cdb8;return await this[_0x36b746(0x10e)][_0x36b746(0x1da)][_0x2a42ed['instanceName']][_0x36b746(0x3b3)]();}async[a0_0x29cdb8(0x2c9)](_0x348d48,_0x315cb5){const _0x3d7fb6=a0_0x29cdb8;return await this['waMonitor'][_0x3d7fb6(0x1da)][_0x348d48[_0x3d7fb6(0x63f)]][_0x3d7fb6(0x2c9)](_0x315cb5);}async[a0_0x29cdb8(0x61f)](_0x197b5e,_0x194183){const _0x48a665=a0_0x29cdb8;return await this[_0x48a665(0x10e)]['waInstances'][_0x197b5e[_0x48a665(0x63f)]][_0x48a665(0x61f)](_0x194183);}async[a0_0x29cdb8(0x6b8)](_0x2c17a8,_0x38a68b){const _0x1d89f6=a0_0x29cdb8;return await this[_0x1d89f6(0x10e)][_0x1d89f6(0x1da)][_0x2c17a8[_0x1d89f6(0x63f)]][_0x1d89f6(0x6b8)](_0x38a68b);}async['startFlow'](_0x2c0c4f,_0x21e925){const _0x364332=a0_0x29cdb8;return await this[_0x364332(0x10e)][_0x364332(0x1da)][_0x2c0c4f['instanceName']]['startFlow'](_0x21e925);}async[a0_0x29cdb8(0x33d)](_0x54e434,_0x4cd0ae){const _0xce377c=a0_0x29cdb8;return await this[_0xce377c(0x10e)]['waInstances'][_0x54e434['instanceName']][_0xce377c(0x33d)](_0x4cd0ae);}async[a0_0x29cdb8(0x435)](_0x53a057,_0x4f5e05){const _0x4deae7=a0_0x29cdb8;return await this[_0x4deae7(0x10e)][_0x4deae7(0x1da)][_0x53a057[_0x4deae7(0x63f)]][_0x4deae7(0x435)](_0x4f5e05);}async[a0_0x29cdb8(0x1a3)](_0x5a64f9,_0x37b412){const _0x232c95=a0_0x29cdb8;return await this[_0x232c95(0x10e)][_0x232c95(0x1da)][_0x5a64f9[_0x232c95(0x63f)]]['editConversation'](_0x37b412);}async[a0_0x29cdb8(0x268)](_0x2184c0,_0x2ebc5f){const _0x4f43fe=a0_0x29cdb8;return await this['waMonitor'][_0x4f43fe(0x1da)][_0x2184c0['instanceName']][_0x4f43fe(0x268)](_0x2ebc5f);}async[a0_0x29cdb8(0x159)](_0x52dc2e,_0x142dff){const _0x2e8db8=a0_0x29cdb8;return await this[_0x2e8db8(0x10e)][_0x2e8db8(0x1da)][_0x52dc2e['instanceName']][_0x2e8db8(0x159)](_0x142dff['name']);}async[a0_0x29cdb8(0x3ca)](_0x34bdf7,_0x588fa5){const _0x1bd8d6=a0_0x29cdb8;return await this['waMonitor']['waInstances'][_0x34bdf7[_0x1bd8d6(0x63f)]][_0x1bd8d6(0x3ca)](_0x588fa5);}async[a0_0x29cdb8(0x648)](_0x2f2f69,_0x33c4e2){const _0x42495d=a0_0x29cdb8;return await this[_0x42495d(0x10e)][_0x42495d(0x1da)][_0x2f2f69[_0x42495d(0x63f)]][_0x42495d(0x648)](_0x33c4e2);}async['editFlowBlock'](_0x355213,_0x6e4650){const _0x587019=a0_0x29cdb8;return await this[_0x587019(0x10e)][_0x587019(0x1da)][_0x355213[_0x587019(0x63f)]]['editFlowBlock'](_0x6e4650);}async['editFlowReply'](_0x1b7414,_0x4fd7f1){const _0x2ba1c4=a0_0x29cdb8;return await this[_0x2ba1c4(0x10e)][_0x2ba1c4(0x1da)][_0x1b7414['instanceName']][_0x2ba1c4(0x295)](_0x4fd7f1);}async[a0_0x29cdb8(0x32c)](_0x1828f4,_0x54e1b6){const _0x545ba2=a0_0x29cdb8;return await this[_0x545ba2(0x10e)][_0x545ba2(0x1da)][_0x1828f4[_0x545ba2(0x63f)]][_0x545ba2(0x32c)](_0x54e1b6);}async[a0_0x29cdb8(0x28b)](_0x1a53b7,_0x3d6816){const _0x707228=a0_0x29cdb8;return await this[_0x707228(0x10e)]['waInstances'][_0x1a53b7[_0x707228(0x63f)]][_0x707228(0x28b)](_0x3d6816);}async[a0_0x29cdb8(0x64f)](_0x1db5b6,_0x51bab1){const _0x56d3e0=a0_0x29cdb8;return await this[_0x56d3e0(0x10e)]['waInstances'][_0x1db5b6[_0x56d3e0(0x63f)]][_0x56d3e0(0x64f)](_0x51bab1);}async[a0_0x29cdb8(0x333)](_0x283f1d,_0x5eabd8){const _0x2042df=a0_0x29cdb8;return await this[_0x2042df(0x10e)][_0x2042df(0x1da)][_0x283f1d['instanceName']][_0x2042df(0x333)](_0x5eabd8);}async[a0_0x29cdb8(0x57b)](_0x2350d4,_0x38469a){const _0x2ff70b=a0_0x29cdb8;return await this[_0x2ff70b(0x10e)][_0x2ff70b(0x1da)][_0x2350d4['instanceName']][_0x2ff70b(0x57b)](_0x38469a[_0x2ff70b(0x208)]);}async[a0_0x29cdb8(0x4a4)](_0x347b26){const _0x2e6935=a0_0x29cdb8;return await this['waMonitor']['waInstances'][_0x347b26[_0x2e6935(0x63f)]][_0x2e6935(0x4a4)]();}},jt=class{constructor(_0xa0d1ab){const _0x4a93af=a0_0x29cdb8;this[_0x4a93af(0x111)]=_0xa0d1ab;}async[a0_0x29cdb8(0x5e1)](_0x3c314c,_0xec604d){const _0x3e936e=a0_0x29cdb8;return this[_0x3e936e(0x111)][_0x3e936e(0x15b)](_0x3c314c,_0xec604d);}async[a0_0x29cdb8(0x678)](_0x263c45){const _0x339702=a0_0x29cdb8;return this['webhookService'][_0x339702(0x35f)](_0x263c45);}},Ft=class{constructor(_0x7b313e,_0x5f06dc,_0x43ffd5,_0x47397f,_0x1d7a78,_0x328660){const _0x5b887c=a0_0x29cdb8;this[_0x5b887c(0x68d)]=_0x7b313e,this[_0x5b887c(0x136)]=_0x5f06dc,this[_0x5b887c(0x384)]=_0x43ffd5,this[_0x5b887c(0x5ea)]=_0x47397f,this[_0x5b887c(0x515)]=_0x1d7a78,this[_0x5b887c(0x6cf)]=_0x328660;}get[a0_0x29cdb8(0x550)](){const _0x225cac=a0_0x29cdb8;return this[_0x225cac(0x6cf)];}},fs=require(a0_0x29cdb8(0x2b9)),ao=require('fs'),Bt=class extends W{constructor(_0xa03ac0,_0x5759b7){const _0x4c1ca2=a0_0x29cdb8;super(_0x5759b7),this[_0x4c1ca2(0x3a5)]=_0xa03ac0,this[_0x4c1ca2(0x4c2)]=_0x5759b7;}async['create'](_0x2a91be,_0x5ecd10){const _0x1474f8=a0_0x29cdb8;try{return this['dbSettings'][_0x1474f8(0x522)]?{'insertCount':(await this[_0x1474f8(0x3a5)][_0x1474f8(0x665)]({'_id':_0x5ecd10},{..._0x2a91be},{'upsert':!0x0}))[_0x1474f8(0x490)]}:(this[_0x1474f8(0x46a)]({'path':(0x0,fs[_0x1474f8(0x327)])(this[_0x1474f8(0x125)],_0x1474f8(0x5ea)),'fileName':_0x5ecd10,'data':_0x2a91be}),{'insertCount':0x1});}catch(_0x5acd2e){return _0x5acd2e;}}async[a0_0x29cdb8(0x35f)](_0x1f5d1f){const _0x18cac6=a0_0x29cdb8;try{return this[_0x18cac6(0x670)][_0x18cac6(0x522)]?await this[_0x18cac6(0x3a5)][_0x18cac6(0x4be)]({'_id':_0x1f5d1f}):JSON[_0x18cac6(0x453)]((0x0,ao[_0x18cac6(0x49b)])((0x0,fs['join'])(this[_0x18cac6(0x125)],_0x18cac6(0x5ea),_0x1f5d1f+_0x18cac6(0x6a0)),{'encoding':'utf-8'}));}catch{return{};}}},ws=require(a0_0x29cdb8(0x2b9)),oo=require('fs'),qt=class extends W{constructor(_0x354b2d,_0x3d2fb7){const _0x2ab044=a0_0x29cdb8;super(_0x3d2fb7),this[_0x2ab044(0x3ee)]=_0x354b2d,this['configService']=_0x3d2fb7,this[_0x2ab044(0x515)]=_0x3d2fb7[_0x2ab044(0x2ba)](_0x2ab044(0x3f8));}async[a0_0x29cdb8(0x15b)](_0x398d97,_0x54f72c){const _0xc0acd7=a0_0x29cdb8;try{return this[_0xc0acd7(0x670)]['ENABLED']?{'insertCount':(await this['authModel'][_0xc0acd7(0x665)]({'_id':_0x54f72c},{..._0x398d97},{'upsert':!0x0}))[_0xc0acd7(0x490)]}:(this[_0xc0acd7(0x46a)]({'path':(0x0,ws[_0xc0acd7(0x327)])(Gt,this[_0xc0acd7(0x515)]['TYPE']),'fileName':_0x54f72c,'data':_0x398d97}),{'insertCount':0x1});}catch(_0xb854f8){return{'error':_0xb854f8};}}async[a0_0x29cdb8(0x35f)](_0x32b6f8){const _0xcf8a69=a0_0x29cdb8;try{return this[_0xcf8a69(0x670)]['ENABLED']?await this['authModel']['findOne']({'_id':_0x32b6f8}):JSON[_0xcf8a69(0x453)]((0x0,oo[_0xcf8a69(0x49b)])((0x0,ws[_0xcf8a69(0x327)])(Gt,this['auth'][_0xcf8a69(0x37e)],_0x32b6f8+'.json'),{'encoding':_0xcf8a69(0x237)}));}catch{return{};}}},zo=new C('WA\x20MODULE'),Qo=new $e(S),Yo=new Pt(S),Xo=new He(S),Zo=new Bt(Bs,S),ei=new qt(Js,S),le=new Ft(Qo,Yo,Xo,Zo,ei,M?.['getClient']()),j=new _t(zt,S,le),ti=new rt(S,j,le),si=new Vt(j),us=new jt(si),R=new Jt(j),re=new $t(j,S,le,zt,ti),Ba=new Ut(j,S),K=new kt(j),D=new xt(j),U=new Lt(j);zo[a0_0x29cdb8(0x4f7)]('Module\x20-\x20ON');var ep=require('express-async-errors'),ys=require('fs'),io=T(require(a0_0x29cdb8(0x2eb))),ro=T(require(a0_0x29cdb8(0x3f6))),Re=class c{static #e;static set[a0_0x29cdb8(0x6ba)](_0x4cb306){this.#e=_0x4cb306;}static get['https'](){const _0x211715=a0_0x29cdb8;let {FULLCHAIN:_0x3eb5e5,PRIVKEY:_0x25ba41}=S[_0x211715(0x2ba)](_0x211715(0x5cd));return io[_0x211715(0x595)]({'cert':(0x0,ys[_0x211715(0x49b)])(_0x3eb5e5),'key':(0x0,ys[_0x211715(0x49b)])(_0x25ba41)},c.#e);}static get[a0_0x29cdb8(0x3f6)](){return ro['createServer'](c.#e);}},ge=T(require('fs')),go=T(require('ini')),Me=T(require(a0_0x29cdb8(0x50c))),Ie=T(require(a0_0x29cdb8(0x2b9))),Oe=require(a0_0x29cdb8(0x1bc));function ai(){const _0x575851=a0_0x29cdb8;j[_0x575851(0x32d)]();let _0x1e7473=Ie[_0x575851(0x3ec)]['join'](__dirname,_0x575851(0x1d5));po(_0x1e7473);}var po=_0x22def6=>{const _0x21b24c=a0_0x29cdb8;let _0xbbcce4=ge[_0x21b24c(0x3ec)][_0x21b24c(0x3e7)](_0x22def6),_0x13187f=0xc*0x3c*0x3c*0x3e8,_0x4f72f5=0x2*0x3c*0x3c*0x3e8,_0x520463=new Date()[_0x21b24c(0x29a)]();_0xbbcce4[_0x21b24c(0x534)](_0x440766=>{const _0x586e4d=_0x21b24c;let _0xf1317=Ie[_0x586e4d(0x3ec)]['join'](_0x22def6,_0x440766),_0x3cd49f=ge[_0x586e4d(0x3ec)][_0x586e4d(0x68f)](_0xf1317)[_0x586e4d(0x200)][_0x586e4d(0x29a)]();_0x520463-_0x3cd49f>_0x13187f&&(ge[_0x586e4d(0x3ec)][_0x586e4d(0x598)](_0xf1317),console[_0x586e4d(0x5aa)]('Deleted\x20'+_0x440766));}),setTimeout(()=>po(_0x22def6),_0x4f72f5);};function oi(){const _0x277972=a0_0x29cdb8;let _0x3f0eb7=new C(_0x277972(0x43f)),_0x2bbe11=(0x0,me[_0x277972(0x3ec)])();_0x2bbe11[_0x277972(0x2da)]((0x0,uo[_0x277972(0x3ec)])({'origin'(_0x1c00f6,_0x2060ed){const _0x48036d=_0x277972;let {ORIGIN:_0x1ddb3e}=S[_0x48036d(0x2ba)](_0x48036d(0x641));return _0x1c00f6||(_0x1c00f6='*'),_0x1ddb3e[_0x48036d(0x6d6)]('*')!==-0x1||_0x1ddb3e['indexOf'](_0x1c00f6)!==-0x1?_0x2060ed(null,!0x0):_0x2060ed(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get'](_0x277972(0x641))[_0x277972(0x6bf)]],'credentials':S[_0x277972(0x2ba)]('CORS')['CREDENTIALS']}),(0x0,me[_0x277972(0x13f)])({'extended':!0x0,'limit':_0x277972(0x359)}),(0x0,me[_0x277972(0x4cf)])({'limit':_0x277972(0x359)})),_0x2bbe11['use']((_0x4036dd,_0x595fed,_0x350da9)=>{const _0x13833d=_0x277972;_0x4036dd[_0x13833d(0x2b9)][_0x13833d(0x5c5)](_0x13833d(0x63a))?_0x350da9():(0x0,lo[_0x13833d(0x3ec)])()(_0x4036dd,_0x595fed,_0x350da9);}),_0x2bbe11[_0x277972(0x39f)](_0x277972(0x3ab),_0x277972(0x629)),_0x2bbe11[_0x277972(0x39f)]('views',(0x0,Ss[_0x277972(0x327)])(Q,'views')),_0x2bbe11[_0x277972(0x2da)](me[_0x277972(0x3ec)][_0x277972(0x17e)]((0x0,Ss[_0x277972(0x327)])(Q,_0x277972(0x322)))),_0x2bbe11[_0x277972(0x2da)]((_0x36aa64,_0x24423e,_0x39b730)=>{const _0x499497=_0x277972;let _0x77b499=_0x24423e[_0x499497(0x17f)];_0x24423e['send']=function(_0x4122f5){const _0x7fe539=_0x499497;if(_0x36aa64[_0x7fe539(0x234)][_0x7fe539(0x581)]===_0x7fe539(0x2d5)||_0x36aa64['headers']['uazapi']===_0x7fe539(0x2d5)){let _0x46c4b4=JSON[_0x7fe539(0x453)](_0x4122f5);_0x4122f5=JSON[_0x7fe539(0x199)](_0xe8997c(_0x46c4b4));}return _0x77b499['apply'](_0x24423e,[_0x4122f5]);},_0x39b730();}),_0x2bbe11[_0x277972(0x2da)]('/',Nt),_0x2bbe11[_0x277972(0x2da)]((_0x279f5a,_0x3cee38,_0x1efb14,_0x426814)=>{const _0x288a0c=_0x277972;if(_0x279f5a)return _0x1efb14['status'](_0x279f5a[_0x288a0c(0x46b)]||0x1f4)['json'](_0x279f5a);},(_0x59453d,_0x28b07,_0x1f43f3)=>{const _0x2983b4=_0x277972;let {method:_0x72be2c,url:_0x2e8636}=_0x59453d;_0x28b07[_0x2983b4(0x46b)](0x194)[_0x2983b4(0x4cf)]({'status':0x194,'message':_0x2983b4(0x1df)+_0x72be2c['toUpperCase']()+'\x20'+_0x2e8636,'error':_0x2983b4(0x239)}),_0x1f43f3();});let _0xe8997c=(_0x43d4c9,_0x2f9c3d=_0x277972(0x5c3))=>{const _0x4d997c=_0x277972;let _0x5051f4=(_0x236411,_0x5300c9=null,_0x16ac44=!0x1)=>{const _0x35c82a=a0_0x7e50;let _0x1ae0e5={};return Object[_0x35c82a(0x613)](_0x236411)[_0x35c82a(0x534)](_0xa2b3f6=>{const _0x983070=_0x35c82a;let _0x4f4157=_0x236411[_0xa2b3f6],_0x457f9a=''+_0x2f9c3d+_0xa2b3f6;_0x5300c9&&!_0x16ac44&&(_0x457f9a=_0x5300c9+'.'+_0xa2b3f6),!_0x4f4157&&_0x4f4157!==0x0&&_0x4f4157!==!0x1||typeof _0x4f4157>'u'?_0x1ae0e5[_0x457f9a]=null:typeof _0x4f4157!='object'&&!Array['isArray'](_0x4f4157)?_0x1ae0e5[_0x457f9a]=_0x4f4157:typeof _0x4f4157==_0x983070(0x130)&&!Array[_0x983070(0x51c)](_0x4f4157)?_0x1ae0e5=Object['assign'](_0x1ae0e5,_0x5051f4(_0x4f4157,_0x457f9a)):Array[_0x983070(0x51c)](_0x4f4157)&&(typeof _0x4f4157[0x0]==_0x983070(0x130)?(_0x1ae0e5[_0x457f9a]=[],_0x4f4157[_0x983070(0x534)](_0x5d8ab5=>{const _0x10ec3a=_0x983070;_0x1ae0e5[_0x457f9a][_0x10ec3a(0x20a)](_0x5051f4(_0x5d8ab5,_0x457f9a,!0x0));})):_0x1ae0e5[_0x457f9a]=_0x4f4157);}),_0x1ae0e5;};return Array[_0x4d997c(0x51c)](_0x43d4c9)?_0x43d4c9[_0x4d997c(0x667)](_0x3890c0=>_0x5051f4(_0x3890c0)):typeof _0x43d4c9=='object'&&_0x43d4c9!==null?_0x5051f4(_0x43d4c9):{};},_0x2238b5=S['get'](_0x277972(0x43f));Re['app']=_0x2bbe11;let _0x233f92=Re[_0x2238b5[_0x277972(0x37e)]],_0x41ac79=_0x277972(0x29c);_0x233f92['listen'](_0x2238b5[_0x277972(0x212)],()=>{const _0x4cb3a0=_0x277972;_0x3f0eb7[_0x4cb3a0(0x5aa)](_0x41ac79),_0x3f0eb7['log'](_0x2238b5[_0x4cb3a0(0x37e)][_0x4cb3a0(0x2f0)]()+_0x4cb3a0(0x28f)+_0x2238b5[_0x4cb3a0(0x212)]);}),ai(),_s();}var ii=a0_0x29cdb8(0x489),ri=Ie['default'][a0_0x29cdb8(0x327)](__dirname,a0_0x29cdb8(0x163)),Ae=null;function ni(){return new Promise((_0x28d77e,_0x18c784)=>{const _0x463f53=a0_0x7e50;ge['default'][_0x463f53(0x4b4)](ri,_0x463f53(0x237),(_0x54bc31,_0x1a87a4)=>{const _0x11e8e1=_0x463f53;if(_0x54bc31){Ae=_0x54bc31,_0x28d77e();return;}go[_0x11e8e1(0x3ec)][_0x11e8e1(0x453)](_0x1a87a4)[_0x11e8e1(0x554)][_0x11e8e1(0x300)]===ii?(Ae=null,_0x28d77e()):(Ae=new Error(_0x11e8e1(0x5e3)),_0x28d77e());});});}async function ci(){const _0x3abab4=a0_0x29cdb8;try{await ni(),await Es();}catch(_0x363294){console[_0x3abab4(0x269)]('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x363294),process[_0x3abab4(0x3c9)](0x1);}}ci();async function mo(){const _0x3548a3=a0_0x29cdb8;let _0x1c434c;try{_0x1c434c=(await Me[_0x3548a3(0x3ec)]['get']('https://jsonip.com'))['data']['ip'];}catch(_0x2178de){console[_0x3548a3(0x269)](_0x2178de);try{_0x1c434c=(await Me[_0x3548a3(0x3ec)]['get'](_0x3548a3(0x61b)))[_0x3548a3(0x106)]['ip'];}catch(_0x262e91){console[_0x3548a3(0x269)](_0x262e91);try{_0x1c434c=(await Me[_0x3548a3(0x3ec)][_0x3548a3(0x2ba)](_0x3548a3(0x696)))[_0x3548a3(0x106)][_0x3548a3(0x343)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xad21d8){return console[_0x3548a3(0x269)](_0xad21d8),!0x1;}}}return _0x1c434c;}var no=0x0;async function li(){const _0x267161=a0_0x29cdb8;let _0x354e72=await new ne(S['get']('REDIS'))['instanceKeys']();return console[_0x267161(0x5aa)](_0x267161(0x135),_0x354e72[_0x267161(0x206)]),_0x354e72[_0x267161(0x206)];}async function ui(){const _0x3a62a7=a0_0x29cdb8;let _0x3a52b5=S['get']('REDIS'),_0x4167db=S[_0x3a62a7(0x2ba)](_0x3a62a7(0x3f8))[_0x3a62a7(0x50e)]['KEY'],_0x209d23=S[_0x3a62a7(0x2ba)](_0x3a62a7(0x5cd)),_0x17a3ba=await mo(),_0x41b346=S[_0x3a62a7(0x2ba)](_0x3a62a7(0x43f))[_0x3a62a7(0x212)];try{let _0x32e415={'ip':_0x17a3ba||null,'redis_enable':_0x3a52b5?.[_0x3a62a7(0x522)]||null,'apikey':_0x4167db||null,'ssl':_0x209d23?.[_0x3a62a7(0x499)]||null,'lastupdate':ho||null,'port':_0x41b346||null,'gitInstallError':Ae?.[_0x3a62a7(0x68d)]||null};if(console[_0x3a62a7(0x5aa)]('ip:\x20',_0x32e415['ip']),_0x3a52b5&&_0x3a52b5[_0x3a62a7(0x522)]){let _0x35033c=await li();_0x32e415[_0x3a62a7(0x207)]=_0x35033c||null;}for(let _0xfb6b7e in _0x32e415)_0x32e415[_0x3a62a7(0x3ce)](_0xfb6b7e)&&_0xfb6b7e!=='ip'&&(_0x32e415[_0xfb6b7e]=JSON[_0x3a62a7(0x199)](_0x32e415[_0xfb6b7e]));return(await Me['default'][_0x3a62a7(0x461)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x32e415))['data'];}catch(_0x5d2aed){return console[_0x3a62a7(0x269)](_0x5d2aed),!0x1;}}var bs=!0x1,ho=0x214,di=0x3,co=0x1b7740;async function Es(){const _0x59b2e4=a0_0x29cdb8;if(!await mo())return console['error']('No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.'),_0x59b2e4(0x275);let _0x48e413=await ui();if(_0x48e413){if(_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x4a6)]===!0x0){S[_0x59b2e4(0x2ba)](_0x59b2e4(0x5cd))[_0x59b2e4(0x499)][_0x59b2e4(0x386)](_0x59b2e4(0x67b))&&_0x48e413[_0x59b2e4(0x622)]['subdomain']&&(await mi(_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x2bd)],gi),await hi(_0x59b2e4(0x11f),_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x2bd)]),console['log'](_0x59b2e4(0x466)),setTimeout(()=>wi(),0x2710)),Ae===null&&_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x27c)]-ho>0x0&&await pi(),bs||(bs=!0x0,oi());let _0x5f3322=0x24*0x3c*0x3c,_0x26a113=_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x695)]>_0x5f3322?_0x5f3322:_0x48e413[_0x59b2e4(0x622)][_0x59b2e4(0x695)],_0x3c6a06=Number(_0x26a113);if(isNaN(_0x3c6a06)){console[_0x59b2e4(0x269)](_0x59b2e4(0x458));return;}let _0x4f3321=Math[_0x59b2e4(0x498)](_0x3c6a06/0xe10),_0x5f174a=Math[_0x59b2e4(0x498)](_0x3c6a06%0xe10/0x3c),_0x39608d=new Date(Date[_0x59b2e4(0x271)]()+_0x3c6a06*0x3e8);setTimeout(Es,_0x3c6a06*0x3e8);let _0x3398c6=_0xd9c2bd=>_0xd9c2bd[_0x59b2e4(0x47a)]()[_0x59b2e4(0x651)](0x2,'0'),_0x2aec20=_0x59b2e4(0x544)+_0x3398c6(_0x4f3321)+_0x59b2e4(0x58f)+_0x3398c6(_0x5f174a)+'\x20minutos.\x20Ser\x20s\x20'+_0x3398c6(_0x39608d[_0x59b2e4(0x292)]())+':'+_0x3398c6(_0x39608d['getMinutes']())+'.';console[_0x59b2e4(0x5aa)](_0x2aec20);}else return console[_0x59b2e4(0x5aa)](_0x59b2e4(0x33e)),bs&&(console[_0x59b2e4(0x5aa)]('A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.'),process[_0x59b2e4(0x3c9)]()),_0x59b2e4(0x3b9);}else{if(no++,no<di)console[_0x59b2e4(0x5aa)](_0x59b2e4(0x652)+co/0xea60+_0x59b2e4(0x4fd)),setTimeout(Es,co);else return console[_0x59b2e4(0x269)](_0x59b2e4(0x567)),'SERVER_OFFLINE';}}async function pi(){const _0x1214df=a0_0x29cdb8;console[_0x1214df(0x5aa)]('Parando\x20aplicao,\x20atualizao\x20recebida');let _0x4d02b7=(0x0,Oe[_0x1214df(0x46f)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x4d02b7['stdout']['on'](_0x1214df(0x106),_0x33a6ec=>{const _0x27ce25=_0x1214df;console[_0x27ce25(0x5aa)]('Atualizao:\x20'+_0x33a6ec);}),_0x4d02b7[_0x1214df(0x56d)]['on'](_0x1214df(0x106),_0xcd724c=>{const _0x4fbf21=_0x1214df;console[_0x4fbf21(0x269)]('Erro\x20de\x20atualizao:\x20'+_0xcd724c);}),_0x4d02b7['on'](_0x1214df(0x3c9),_0x11251d=>{const _0x105add=_0x1214df;_0x11251d!==0x0?console['error'](_0x105add(0x56e)+_0x11251d):console[_0x105add(0x5aa)](_0x105add(0x3d8)),console[_0x105add(0x5aa)](_0x105add(0x49a)),setTimeout(()=>process[_0x105add(0x3c9)](),0x2710);});}var gi=Ie[a0_0x29cdb8(0x3ec)][a0_0x29cdb8(0x327)](__dirname,a0_0x29cdb8(0x2a0));async function mi(_0x21b02e,_0x41e9e2){const _0x1ba16e=a0_0x29cdb8;let _0x76e001=fi();_0x21b02e=_0x21b02e[_0x1ba16e(0x6bd)](_0x1ba16e(0x32a),'');try{let _0x45e1d0=ge[_0x1ba16e(0x3ec)]['readFileSync'](_0x41e9e2,_0x1ba16e(0x2dc));_0x45e1d0=_0x45e1d0['replace'](/<apikey>/,_0x76e001),_0x45e1d0=_0x45e1d0[_0x1ba16e(0x6bd)](/<subdomain>/g,_0x21b02e),ge[_0x1ba16e(0x3ec)][_0x1ba16e(0x6b5)](_0x41e9e2,_0x45e1d0,_0x1ba16e(0x2dc)),console[_0x1ba16e(0x5aa)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x24b9b9){console[_0x1ba16e(0x269)](_0x1ba16e(0x502),_0x24b9b9);}}function a0_0x1796(){const _0x3d9a1c=['enumerable','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','MESSAGES_UPDATE','Erro\x20ao\x20editar\x20o\x20chat:\x20','VERBOSE','apiResponse','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','initAuthCreds','CONTACTS_SET','makeCacheableSignalKeyStore','dbServer','):\x20Deletando\x20mensagem','findConversation','newValue','remote\x20\x22origin\x22','unavailable','Error\x20updating\x20profile\x20status','picture','random','array','\x1b[1m\x1b[37m','Nmero:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','MESSAGES_SET','collections','updateOnlinePrivacy','SSL_CONF_PRIVKEY','namespace','WEBHOOK_GLOBAL_ENABLED','syscall','authState','statusJidList','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','done','composing','Image\x20is\x20base64','groupHandler','start','stderr','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','fromMe','certonly','Erro\x20ao\x20aplicar\x20varedit:\x20','MESSAGES_UPSERT','Method\x20not\x20implemented.','long','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','success','https://chat.whatsapp.com/','Db\x20Connection','updateMessage','sendLocation','deleteFlow','verifiedName','convertaudio','allflows','Subscribed\x20Events:','ephemeralMessage','convert','poll_id','sign','GROUPS_UPSERT','Getting\x20profile\x20info','editflowblock','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','\x1b[1m','):\x20teve\x20mudanas\x20chat.name:\x20','contextInfo','):\x20Enviando\x20mdia','Mensagem\x20no\x20suportada','groupUpdateDescription','lastCondition','\x20horas\x20e\x20','group\x20ignored','connecting','):\x20Erro\x20durante\x20a\x20atualizao:\x20','profilePicture','findMessages','createServer','logger','pollErrorMessage','unlinkSync','waMonit','stickerMessage','group','CONFIG_SESSION_PHONE','SERVER_ACK','groups','\x1b[33m','Erro\x20ao\x20editar\x20o\x20bloco:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Flow\x20already\x20exists',',\x20valor\x20a\x20encontrar:\x20\x22','sendPoll','):\x20Criou\x20conversa\x20no\x20startFlow:','fetchContacts','originalUrl','updateReplyOption','instanceKeys','log','documentWithCaptionMessage','env','RECONNECT_TIME_FRAME','Unauthorized','findByIdAndUpdate','Error\x20creating\x20group','flowIgnoreGroups','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','insert','pollCreationMessage','):\x20Buscando\x20flow...','@g.us','editChat','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','abs','fetchMessages','apikey','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','prefixCommand','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','_p_','generateHash','startsWith','Conversa\x20deletada\x20com\x20sucesso.','code','value','convertedOptions','values','notEmpty','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','SSL_CONF','replyOption','secondValue','uncaughtException','COLOR','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','\x20segundos','Hash\x20to\x20image\x20name:\x20','updatePresence','):\x20Edit\x20schedule\x20message...','uazapiDeleteMessage','\x22\x20-\x20REMOVED','Connection','compression','order','Temp\x20audio\x20path:\x20','setNewValue','cleaningUp','GROUPS_UPDATE','):\x20Error\x20processing\x20conditions:\x20','createWebhook','oldToken','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','width','updateStopChat','presenceSubscribe','varedit','DEL_INSTANCE','LOG','webhook','updateStatusPrivacy','?timestamp=','File\x20written\x20to\x20path:\x20','applyvaredit','processConditions','fetchPrivacySettings','waitingPoll_replyOptions','deletedCount','hDel','joinGroupValidate','$dbName','AutomateFunctions','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','Instance\x20restarted','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','setHeader','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','extractRegex','stanzaId','Converted\x20audio\x20deleted','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','upsertChats','lastMessage','Temp\x20audio\x20deleted','fetchLatestBaileysVersion','removeData','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','^\x5cd+[\x5c.@\x5cw-]+','type','WEBHOOK_EVENTS_MESSAGES_UPSERT','subjectOwner','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','/instance/fetchInstances','getMessage','isURL','DARK','Log\x20out\x20instance:\x20','process','keys','replaceVariables','model','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','getMIMEType','request\x20received\x20in\x20editFlowgroup','\x20instance\x20does\x20not\x20exist','sem\x20texto\x20na\x20mensagem','https://api.ipify.org?format=json','):\x20Enviando\x20contato','mediaSticker','instanceName\x20not\x20provided.','updateCustomFields','CHATS_UPSERT','finish','response','including\x20timestamp\x20in\x20url:\x20','SERVER_TYPE','isJWT','END:VCARD','\x20no\x20encontrado','locked','hbs','}}\x20->\x20\x22','Error\x20while\x20deleting\x20message\x20for\x20everyone','fromObject','READ','URL:','WEBHOOK_EVENTS_CHATS_DELETE','caption','toDataURL','messaging-history.set','when','Tanto\x20id\x20quanto\x20owner\x20so\x20necessrios\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','\x22\x20-\x20NOT\x20CONNECTION','count','buffer','SEND_MESSAGE','/events','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','no.connection','valid','linkPreview','instanceName','timerId','CORS','):\x20Flow\x20desativado','uazapiSendContact','Last\x20message\x20not\x20found','Reinicializao\x20iniciada:\x20','deleteInstance','rmSync','editFlow','proto','Read\x20messages','presence.update','detail','233514FIiUmk','formatStatusMessage','editFlowVaredit','Revoke\x20error','padStart','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','isJidUser','base64','update','pollCreationMessageV2','audio/ogg','trimmed','user','.sendDataWebhook-local','Deletion\x20failed','certbot','\x22,\x20valor\x20a\x20substituir:\x20\x22','processApiRequest','PREFIX_KEY','EXPIRIN_IN','ChatModel','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','chrome','replaceOne','\x0aFN:','map','.\x20Pulando.','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','env.KEY\x20!==\x20key','*Pergunta*:\x20\x0a','arrayUnique','KEY','defineAuthState','lowerCase','dbSettings','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','refused','deleteMany','\x20-i\x20','lastBlockId','option','reconnectTimestamps','findWebhook','/wa-contacts','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','<subdomain>','format','unreadcount','TEL','editflowgroup','*\x0a\x0a','isRunning','DATABASE_CONNECTION_URI','readData','\x0a{\x20instance:\x20','redisEnv','Logger','ButtonsMessage','REDIS_URI','Error\x20updating\x20participants','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','envProcess','flow','message','findParticipants','statSync','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Processing\x20audio','notMatchRegex','ReplyOption\x20com\x20ID\x20','maxActives','segundos','http://checkip.dyndns.org','node-cache','archiveChat','WEBHOOK_EVENTS_STATUS_INSTANCE','WEBHOOK_EVENTS_SEND_MESSAGE','displayName','useMultiFileAuthState','\x0a*Voc\x20respondeu*:\x0a','cwd','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','.json','integer','@whiskeysockets/baileys','restrict','connectionStatus',',\x20qrcodeCount:\x20','5554020bugMCl','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','request\x20received\x20in\x20editFlow','split','parseInt','Temp\x20image\x20deleted','findAndReplace','isJidGroup','del','g-t','\x20minutos','findIndex','):\x20nextBlock.uazapi.name','viewOnceMessageV2','scheduleSendAudio','writeFileSync','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','videoMessage','updateFlowConfig','updateProfilePicture','app','closeExistingConversations','Internal\x20Server\x20Error','replace','createConnection','METHODS','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','setRestartTimer','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','chats','statusCode','Erro\x20ao\x20editar\x20a\x20conversa:\x20',',\x20Minutes\x20to\x20Close:\x20','flushHeaders','/media','mimetype','stopMinutes','optionName','selectedOptions','/create','):\x20Erro\x20ao\x20buscar\x20conversas\x20','dbClient','decryptPollVote','Profile\x20not\x20found','fone','URI','Incio','Error\x20updating\x20setting','indexOf','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','Image\x20created','send.message','PRODUCTION','_id','splice','formatBRNumber','):\x20Alterando\x20fluxo...','\x20}\x0a','pop','options','no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','findById','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','BRL','getDelay','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','OrAnd','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','text','/instance/create','GLOBAL','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','setting','upperCase','__esModule','audio','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20Falha\x20ao\x20deletar\x20mensagem.','EMAIL:','uazapiSendPoll','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','errno','buttonText','/wa-message-update','/automate','data','node-mime-types','\x5cd+','INFO','PROD','^\x5cd+','WEBHOOK','!stop','waMonitor','redisCache','rm\x20-rf\x20','webhookService','refreshToken','toFile','audioMessage','hex','variables','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','firstValue','contacts','fetchStatus','stateConnection','Bloco\x20com\x20ID\x20','creds.json','getBusinessProfile','augusto.fcs@gmail.com','online','Flow\x20iniciado\x20com\x20','\x22\x20cannot\x20be\x20empty','@broadcast','Error\x20updating\x20privacy\x20settings','storePath','Instance\x20\x22','_error','getLastMessage','sendAudio','):\x20Entrou\x20na\x20funo\x20goToFlow',',\x20lastCondition:\x20','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','contains','website','):\x20tem\x20blocks','object','data:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','pollMessageOnDelete','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','instancias:\x20','chat','fullName','dayjs','express','\x20-y','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','video','variable','markMessageAsRead','urlencoded','createConversationforgoToFlow','updateReadReceiptsPrivacy','_Chats','request\x20received\x20in\x20getAutomateSystem','groupName','description','createConversationforStartFlow','participant','URL','):\x20teve\x20mudanas\x20chat.archived:\x20','save','opendirSync','setWebhook','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Error\x20fetching\x20group','WARN','eventEmitter','groupUpdateSubject','The\x20instance\x20is\x20already\x20connected','logout','Forbidden','reaction','remoteJid','findAndReplaceRegex','getFlow','optionDescription','create','Trying\x20to\x20get\x20business\x20profile','Valor\x20inicial:\x20\x22','uazapiSendText','STATUS_INSTANCE','Erro\x20ao\x20buscar\x20conversa:\x20','Erro\x20ao\x20atualizar\x20conversa:\x20',',\x20valor\x20passado:\x20\x22','./.git/config','instance','):\x20Conversas\x20encontradas:','created','):\x20debug\x20alterando\x20this.AutomateSystem','.png','Read\x20messages\x20fail','client','REDIS','leadInfo.','Variveis\x20no\x20encontradas:','nome','536967DtSroi','):\x20Enviando\x20texto','command','sendContact','revokeInviteCode','groupInviteCode','error\x20get\x20vote','saveConversationToDatabase','webhookMap','profilePictureUrl','):\x20Buscando\x20todos\x20os\x20fluxos...','rowId','editFlowBlock','reference',',\x20saindo.','static','send','ERROR','GROUP_PARTICIPANTS_UPDATE','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20',',\x20Expiration\x20Time:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Original\x20filename:','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','write','USER','request\x20received\x20in\x20editFlowvariable','routerPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','insertMany','\x5c$&','sending','):\x20Comando\x20desconhecido:\x20','URL\x20limpa:\x20','groupSettingUpdate','trim','pino','some','equal','request\x20received\x20in\x20editConversation','WEBHOOK_EVENTS_GROUPS_UPDATE','):\x20expirationTime:\x20','stringify','action','DATABASE_CONNECTION_DB_PREFIX_NAME','qrCode','all','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','charAt','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','groupSetting','Media\x20folder\x20path:','editConversation','tags','readMessageBot','bodyString','/wa-connection-update','number','TEXT','Type\x20not\x20found','Audio\x20is\x20url','restartInstance','SendScheduleMessage','from','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','less','LOG_LEVEL','sendMedia','Certbot:\x20','goNextblock','/wa-qrcode','request\x20received\x20in\x20fetchConversation','Varivel\x20no\x20encontrada!','render','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','NODE_ENV','WEBHOOK_EVENTS_CONTACTS_UPSERT','child_process','request\x20received\x20in\x20deleteConversation','Instance\x20ID:','readreceipts','hostname','archived','locationMessage','errorLog','Bad\x20Request','No\x20respondeu\x20com\x20a\x20enquete.','@s.whatsapp.net','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','groupAcceptInvite','WEBHOOK_GLOBAL_URL','senderKeyDistributionMessage','AutomateSystem\x20no\x20foi\x20inicializado','processvaredits','method','request\x20received\x20in\x20updateCustomFields','delay','Router','currency','keep-alive','lastReceivedMessage','header','downloads','flowName','LIMIT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','content','waInstances','warn','statusMessage','/refreshToken','delete','Cannot\x20','Instncia\x20no\x20encontrada.','):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','messageHandle','lastInteraction','key.','groupId','Invalid\x20\x22oldToken\x22','Converting\x20audio\x20to\x20mp4','pollCreationMessageV3','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','):\x20Conversa\x20atualizada\x20em\x20memria','-instances','replaceVariablesInObject','audio/mp4','defineProperty','processgoToFlow','status@broadcast','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','pre','buttons','Converted\x20image\x20deleted','):\x20Criando\x20nova\x20conversa','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','.refreshToken','messages','release','restart','pollUpdateMessage','findGroupInfo','leadInfo.customFields','/clients-info','Full\x20file\x20path:','birthtime','media','vote','startFlow','scheduleNextCheck','fetchBusinessProfile','length','instanceCount','name','authService','push','):\x20Editando\x20condio\x20do\x20fluxo...','):\x20lastBlockId:\x20','delayMessage','chatModify','instances','Button\x20texts\x20cannot\x20be\x20repeated','unreadCount','PORT','getflow','):\x20Iniciando\x20bot...','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','):\x20Enviando\x20enquete','updateBlock','shift','processblock','):\x20transformedCustomFieldVariables','messageSecret','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Hash\x20to\x20audio\x20name:\x20','blockId','promote','sendList','Fluxo\x20no\x20encontrado','No\x20invite\x20code','groupDesc','replyOptions','WEBHOOK_EVENTS_CONTACTS_UPDATE','customFields',',\x20Segundo\x20Valor:\x20','scheduleSendText','isInteger','substring','deleteAll','limit','isBooleanString','groupCreate','CHATS_UPDATE','getTicketSystem','metadata','announce','query','groupMetadata','Instance\x20Key\x20from\x20DB:','utf-8','toggleEphemeral','Not\x20Found','remove.instance','DB_PREFIX_NAME','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','goToFlow','deleteOne','editOperator','.ogg','DEBUG','wuid','readMessage','\x20\x1b[0m','sharp','2292924DExMwj','connect','Getting\x20image\x20from\x20url','replaceVariablesLogs','#ffffff','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','presence','groupLeave','contactHandle','):\x20Editando\x20edio\x20do\x20fluxo...','^\x5cd+([-]\x5cd+)*@g.us$','saveTextReply','bearer','AutomateSystem','.mp4','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','atendimentoAberto','sendText','):\x20Buscando\x20conversa...','replaceVariablesChat','createJid','everyOne','updateProfileName','The\x20property\x20cannot\x20be\x20empty','vcard','mongodb','stoppedUntil','newStoppedUntil','expression','@redis/client','reorderBlocks','removeProfilePicture','uazapiSendAudio','fetchProfilePicture','deleteConversation','error','/wa-presence','buttonsMessage','jsonschema','stack','emit','saveCreds','owner','now','prototype','not_announcement','isBusiness','NO_IP','\x1b[40m','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','):\x20Conversa\x20inserida\x20com\x20sucesso.','QRCODE_LIMIT','1160480gcViIG','/media/','last_update','verify','resetReconnectionVariables','none','findGroup','getPrototypeOf','894495ITpGei','apirequest','ORG:','apiName','desc','where','processingScheduleMessageId','redirect','evaluateConditionTest','editFlowCondition','MAX_RECONNECT_ATTEMPTS','flowPrefixCommand','deleteDoneMessages','\x20-\x20ON:\x20','createGroup','getChatModelForOwner','getHours','recording','delInstanceTime','editFlowReply','DATABASE_ENABLED','getMessageModelForOwner','Erro\x20do\x20Certbot:\x20','updatePrivacySettings','getTime','open','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','activatedCount','mediaKey','repository','env.yml','BufferJSON','messages.upsert','loadWebhook','chats.upsert','mongoose','request\x20received\x20in\x20getFlow','getStatus','debug','API\x20Key\x20invlida.','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','Output\x20audio\x20path:\x20','newName','waUploadToServer','WEBHOOK_EVENTS_MESSAGES_UPDATE','Flow\x20no\x20encontrado','express-async-errors','toArray','):\x20no\x20encontrou','WEBHOOK_EVENTS_GROUPS_UPSERT','/chat','editScheduleMessage','updateGParticipate','normalizeMessage','findOneAndUpdate','path','get','updateLastSeenPrivacy','leadInfo','subdomain','latitude','sendDataWebhook',',\x20Resultado:\x20','round','FULLCHAIN','uazapiSendLocation','sticker','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','Image\x20is\x20url','jwt','Operador:\x20\x22','updateAgent','DELETED','https://uazapi-plugin.bubbleapps.io/','lastmsg','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','scheduled','connectionUpdate','quotedMessage','repeat','request\x20body:\x20','CONTACTS_UPSERT','):\x20Fluxos\x20no\x20esto\x20ativados','true','fetchProfilePictureUrl','authentication','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','closed','use','buttonMessage','utf8','instanceInfo','Content-Type','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','STORE_CLEANING_TERMINAL','sendReaction','_Contacts','store','\x1b[34m%s\x1b[0m','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','):\x20conversation.lastInteraction:\x20','padEnd','last','DisconnectReason','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','https','convertToWebP','CONNECTION_UPDATE','ERROR:\x20','qrcode','toUpperCase','):\x20','Instance\x20logged\x20out','CHATS_DELETE','SERVER_PORT','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','request\x20received\x20in\x20createFlow','\x1b[36m%s\x1b[0m','):\x20teve\x20mudanas\x20chat.displayName:\x20','updateProfilePicturePrivacy','flowActive','PLAYED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','params','chats.update','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','url','.jwt','ignoreGroups','lastSendMessage','):\x20delete\x20=\x20true','dataValidate','local_map','\x20no\x20encontrado\x20para\x20atualizao.','\x0aitem','Error\x20writing\x20file:\x20','DATABASE','CONTACTS_UPDATE','GUARD','leaveGroup','dark','listMessage','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Fluxos\x20no\x20esto\x20ativados','fetchChats','/events/:instance','createflow','_activatedCount','mongodb://','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','SECRET','checkAndRestartProcess','):\x20conversation.waitingPollname','Initial\x20__dirname:','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','fileName','updateParticipant','):\x20newFirstValue\x20aps\x20replaceVariables:','20VdQjOt','HH:mm:ss','public','DD/MM\x20HH:mm:ss','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','editflow','join','cpf','--standalone','.uazapi.dev','contacts.update','editFlowGroup','loadInstance','flowname:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','removed','QRCODE','generate','editFlowVariable','sendButtons','reviver','creds','organization','WEBHOOK_EVENTS_MESSAGES_SET','filter','sendStatus','size','paused','getConversation','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','updateChatWithMessage','entries','endsWith','desativadoFluxoAte','match','sendSticker','exec','jpegThumbnail','CONFIG_SESSION_PHONE_NAME','collection','LEVEL','):\x20Editando\x20grupo\x20do\x20fluxo...','Getting\x20profile\x20with\x20jid:\x20','output','uuid','\x20foi\x20interrompido\x20pelo\x20usurio.','NextBlock','Error\x20updating\x20message\x20status:','pushName','DATABASE_CONNECTION_USER','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Not\x20is\x20business\x20profile','uazapi','leadInfo.desativadoFluxoAte','\x1b[0m','audioWhatsapp','50mb','conditions','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Visualizando\x20AutomateSystem','toLocaleString','subject','find','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','greater','verbose','prepareWAMessageMedia','mediaMessage','editflowvariable','messageTimestamp','creds.update','request\x20received\x20in\x20scheduleMessage','/*.json','FlowController','test','request\x20received\x20in\x20editFlowcondition','inner','Erro:','close','body','put','evaluateCondition','groupRevokeInvite','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Including\x20timestamp\x20in\x20url:\x20','gifPlayback','groupValidate','sleep','errors','):\x20isVote','loadEnv','blocks','Por\x20favor,\x20responda\x20\x20ltima\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','TYPE','no-cache','Erro\x20inesperado\x20em\x20processvaredits:\x20','localWebhook','WEBHOOK_MAP','TRIAL_AD','contact','router','includes','Getting\x20audio\x20from\x20url','pt-BR','The\x20instance\x20needs\x20to\x20be\x20disconnected','/instance','pollCreationMessageKey','):\x20Editando\x20varivel\x20do\x20fluxo...','):\x20Current\x20Time:\x20','stopped','imagechat','sendMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','variablesNotFound','\x20inseridas\x20no\x20banco\x20de\x20dados...','replaceValue','getClient','REDIS_PREFIX_KEY','_Messages','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Instncia:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','imageMessage','/:instanceName','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','varedits','set','jsonwebtoken','STORE_CHATS','boolean','textMessage','REDIS_ENABLED','webhookModel','assign','delaySecMin','messagesSend','image','createInstance','view\x20engine','capitalizedWords','):\x20Mensagem\x20j\x20enviada\x20para\x20','groupJid','src','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','Type\x20is\x20required','backgroundColor','getAutomateSystem','phoneNumber','addBlock','folder','/message','arraybuffer','LICENSE_INVALID','fetchInstances','changeVariables','/group','archive','connectToWhatsapp','notas','Authentication\x20error','matchRegex','\x1b[46m','js-yaml','footerText','waitingPoll_name','validate','delaySecMax','):\x20Query\x20params:','exit','createFlow','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','profile','\x22\x20not\x20found','hasOwnProperty','MessageModel','loggedOut','toLowerCase','):\x20Procurando\x20mensagens\x20para\x20envio','This\x20name\x20','Error\x20deleting\x20instance\x20from\x20memory.','updateProfileStatus','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','scheduleMessage','Sistema\x20atualizado\x20com\x20sucesso!','bateu\x20events','saveMediaToFile','stopIfLastReturnedError','inviteCode','whatsappNumber','sort','formatVCard','contactMessage','Message\x20not\x20found','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','addReplyOption','item','AUTHENTICATION_JWT_EXPIRIN_IN','EMAIL','readdirSync','document','LOG_COLOR','empty','The\x20global\x20api\x20key\x20must\x20be\x20set','default','Message','authModel','STORE','available','request\x20received\x20in\x20updateFlowConfig','toNumber','CHATS_SET','DATABASE_CONNECTION_PASSWORD','Error\x20removing\x20profile\x20picture','http','editedMessage','AUTHENTICATION','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20Ignoring\x20group\x20messages.','status.instance','numbers','updateMany','):\x20Procurando\x20conversa','context','unhandledRejection','msgRetryCounterCache','Erro\x20ao\x20iniciar\x20fluxo:\x20','participants','-whatsapp-api','headerString','instance.','getDevice','enabled','findByIdAndDelete','scheduleSendMedia','CORS_ORIGIN','#000000','AppStateSyncKeyData','qrcode-terminal','.mp3','writeData','):\x20Going\x20to\x20','lean','address','copyBlock','\x1b[37m%s\x1b[0m','\x1b[44m','):\x20customFieldVariables','expiration','eventHandler','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','app-state-sync-key','Erro\x20de\x20reinicializao:\x20','audio/ogg;\x20codecs=opus','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','chats.set','processUazapi','truncatedtoEnd','messages.update','reactionMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','font','Audio\x20is\x20base64','privacySettings','dropCollection','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','shutdown\x20-r\x20now','Desconectado,\x20parando\x20execuo.','getScheduleMessage','call','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','sendPresenceUpdate','stopMinutesMaxActives','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','updateGroupPicture','fetchConversation','role','21DPLDbF','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','flattenObject','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Schema','saveChatVariables','groups.upsert','SERVER','authorization','\x1b[31m','mentioned','class-validator',',\x20Comparador:\x20','reconnectAttempts','TRIAL_INSTANCE_NAME','Group\x20not\x20found','groupFetchAllParticipating','findGroupInfos','Instance\x20deleted','processPollUpdateMessage','uazapiSendMedia','agents','Output\x20path:\x20','/exit','isConnected','throwAndLogError','WEBHOOK_EVENTS_PRESENCE_UPDATE','parse','and','findGroups','fetchProfile','prepareMediaMessage','interval\x20no\x20\x20um\x20nmero','condition','https://','groupToggleEphemeral','/wa-chats','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','connectionState','getVariablesChat','PRESENCE_UPDATE','post','saveVariable','max','existsSync','updateGParticipant','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','mentions','):\x20Entrou\x20na\x20funo\x20stop','\x1b[42m','writeStore','status','tokenId','AUTHENTICATION_TYPE','hGet','spawn','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','add','messages.set','HeaderType','responsavelid','whatsappNumbers','\x20contacts','):\x20newSecondValue\x20aps\x20replaceVariables:','messageId','sendMessageWithTyping','toString','sendWhatsAppAudio','notEqual','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','contactsArrayMessage','chats.delete','slice','FlowRouter','?authSource=admin&readPreference=primary&directConnection=true','Error\x20change\x20group\x20description','sections','unlocked','CORS_CREDENTIALS','pollMessage','\x1b[33m\x1b[1m','https://github.com/uazapi/uazapi.git','getProfileName','urlOrBase64','drop','conversationTimestamp','longitude','pollOnReplyDelete','modifiedCount','\x20inseridos\x20no\x20banco\x20de\x20dados...','createNewConversation','dbInstance','groups_ignore','next_groupId','CORS_METHODS','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','floor','PRIVKEY','Parando\x20aplicao...','readFileSync','toBrazilianNumberFormat','mediatype','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','deleteMessage','6117966MGwxQc','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','create\x20-\x20success','PASSWORD','allFlows','new.jwt','licenca','deleteMessageForEveryone','Fetching\x20business\x20profile','stopConversation','protocolMessage','DATABASE_CONNECTION_HOST','quoted','Missing\x20global\x20api\x20key','state','documentMessage','toBRL','updateGroupsAddPrivacy','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','flowConfig','readFile','\x1b[30m%s\x1b[0m','console','temp-','StartBot','):\x20Limpando\x20AutomateSystem','):\x20Enviando\x20udio','conversation','realVariables','Error\x20change\x20group\x20setting','findOne','CONNECTION','delAll','blockLogs','configService','truncatedto','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','joinGroup','readMessages','getContentType','WEBHOOK_EVENTS_CONTACTS_SET','.TEL;waid=','/wa-message','):\x20Editando\x20bloco...','groupadd','redis','/wa-groups','json','lastSend','ON\x20-\x20dbName:\x20','remove','viewOnceMessage','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','allContacts','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','WEBHOOK_EVENTS_CONNECTION_UPDATE','poll','QRCODE_UPDATED','Image\x20path:\x20','key','Types','title','email','contentText','encoding','Content\x20is\x20required','contacts.upsert','):\x20No\x20achou\x20nenhum\x20flow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','out','PENDING','ids','replacer','updateConversation','JWT','eventemitter2','ObjectId','getContactModelForOwner','Unknown\x20message\x20type\x20or\x20empty\x20message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Audio\x20converted\x20to\x20mp4','/webhook','ex:\x20\x22groupJid=120362@g.us\x22','mkdirSync','WEBHOOK_EVENTS_NEW_JWT_TOKEN','addresss','remoteJidsRemaining','info','):\x20this.processingScheduleMessageId:\x20','updateMediaMessage','isBase64','video-cover.png','sendCommand','\x20minutos...','.webp','@ffmpeg-installer/ffmpeg','}}\x20->\x20valor\x20no\x20encontrado','contact_blacklist','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','DELIVERY_ACK','bulkWrite','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','isLong','flowStopMinutes','variablesToObject','moreLogs','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','updateOne','axios','Conexo\x20estabelecida','API_KEY','jid','notify','chatLog','onTime','):\x20atualizao\x20chat:\x20','buttonId','auth','\x20no\x20encontrado\x20para\x20cpia','block','DOCKER_ENV','onWhatsApp','waitingPoll_id','getRandomText','isArray','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','request\x20received\x20in\x20allFlows','flowConversation','\x1b[37m','\x1b[43m','ENABLED','userDevicesCache','demote','EVENTS','selectableCount','\x1b[41m','chatHandle','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20alterando\x20this.AutomateSystem','group-participants.update','request\x20received\x20in\x20getConversation','badSession','findFlow','isDirectory','cleanStore','connection.update','nomecompleto','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','forEach','endSession','contactname','groups.update','Comando\x20desconhecido','--agree-tos','):\x20Flow\x20no\x20encontrado','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','CONFIG_SESSION_PHONE_CLIENT','):\x20Bloco\x20com\x20ID\x20','\x20mensagens\x20de\x20','getBase64FromMediaMessage','string','delInstanceFiles','exists','\x1b[31m%s\x1b[0m','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','AUTHENTICATION_JWT_SECRET'];a0_0x1796=function(){return _0x3d9a1c;};return a0_0x1796();}function hi(_0x508995,_0x2666d7){return new Promise((_0x3cb397,_0x4440e7)=>{const _0x5db0b4=a0_0x7e50;let _0x34d741=(0x0,Oe[_0x5db0b4(0x46f)])(_0x5db0b4(0x65d),[_0x5db0b4(0x570),_0x5db0b4(0x329),'-m',_0x508995,_0x5db0b4(0x539),'-d',_0x2666d7]);_0x34d741['stdout']['on'](_0x5db0b4(0x106),_0xd0044f=>{const _0x59316a=_0x5db0b4;console[_0x59316a(0x5aa)](_0x59316a(0x1b3)+_0xd0044f[_0x59316a(0x47a)]());}),_0x34d741[_0x5db0b4(0x56d)]['on']('data',_0x543a0d=>{const _0x24ce80=_0x5db0b4;console[_0x24ce80(0x269)](_0x24ce80(0x298)+_0x543a0d[_0x24ce80(0x47a)]());}),_0x34d741['on'](_0x5db0b4(0x36f),_0x34d299=>{const _0x4751ae=_0x5db0b4;_0x34d299!==0x0?(console[_0x4751ae(0x269)](_0x4751ae(0x3cb)+_0x34d299),_0x4440e7('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0x34d299)):(console[_0x4751ae(0x5aa)]('Certbot\x20executado\x20com\x20sucesso.'),_0x3cb397());});});}function a0_0x7e50(_0x12fc10,_0x2333f4){const _0x1796f9=a0_0x1796();return a0_0x7e50=function(_0x7e50b3,_0x230958){_0x7e50b3=_0x7e50b3-0xe4;let _0x3e4671=_0x1796f9[_0x7e50b3];return _0x3e4671;},a0_0x7e50(_0x12fc10,_0x2333f4);}function fi(_0x3c7e02=0x32){const _0x4f795b=a0_0x29cdb8;let _0x1b6f6b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x516b2f='';for(let _0x536c03=0x0;_0x536c03<_0x3c7e02;_0x536c03++)_0x516b2f+=_0x1b6f6b[_0x4f795b(0x19f)](Math[_0x4f795b(0x498)](Math['random']()*_0x1b6f6b[_0x4f795b(0x206)]));return _0x516b2f;}function wi(){const _0x6dc6e3=a0_0x29cdb8;(0x0,Oe[_0x6dc6e3(0x345)])(_0x6dc6e3(0x42b),(_0x47f016,_0x152322,_0x5a9f88)=>{const _0xa714e2=_0x6dc6e3;if(_0x47f016){console[_0xa714e2(0x269)](_0xa714e2(0x4c4)+_0x47f016);return;}if(_0x5a9f88){console['error'](_0xa714e2(0x41c)+_0x5a9f88);return;}console[_0xa714e2(0x5aa)](_0xa714e2(0x645)+_0x152322);});}