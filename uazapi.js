const a0_0x5a7632=a0_0xc371;(function(_0x147aac,_0x132b4a){const _0x44d9ef=a0_0xc371,_0x1682fe=_0x147aac();while(!![]){try{const _0x8ae6de=-parseInt(_0x44d9ef(0x2ac))/0x1+-parseInt(_0x44d9ef(0x506))/0x2*(parseInt(_0x44d9ef(0x39c))/0x3)+parseInt(_0x44d9ef(0x287))/0x4*(-parseInt(_0x44d9ef(0x56b))/0x5)+-parseInt(_0x44d9ef(0x729))/0x6*(parseInt(_0x44d9ef(0x53a))/0x7)+parseInt(_0x44d9ef(0x2d5))/0x8+parseInt(_0x44d9ef(0x6bd))/0x9+parseInt(_0x44d9ef(0x435))/0xa;if(_0x8ae6de===_0x132b4a)break;else _0x1682fe['push'](_0x1682fe['shift']());}catch(_0x463cef){_0x1682fe['push'](_0x1682fe['shift']());}}}(a0_0x5a17,0x211f1));var Jr=Object[a0_0x5a7632(0x6f5)],_e=Object['defineProperty'],Vr=Object['getOwnPropertyDescriptor'],Br=Object[a0_0x5a7632(0x560)],Gr=Object[a0_0x5a7632(0x36a)],Wr=Object[a0_0x5a7632(0x27d)][a0_0x5a7632(0x370)],zr=(_0x4d438f,_0x434a33)=>{for(var _0x2da063 in _0x434a33)_e(_0x4d438f,_0x2da063,{'get':_0x434a33[_0x2da063],'enumerable':!0x0});},Fs=(_0xc1011f,_0x3ac436,_0x47ae6d,_0x36ca2)=>{const _0x5ebe8d=a0_0x5a7632;if(_0x3ac436&&typeof _0x3ac436=='object'||typeof _0x3ac436=='function'){for(let _0x3525a3 of Br(_0x3ac436))!Wr[_0x5ebe8d(0x622)](_0xc1011f,_0x3525a3)&&_0x3525a3!==_0x47ae6d&&_e(_0xc1011f,_0x3525a3,{'get':()=>_0x3ac436[_0x3525a3],'enumerable':!(_0x36ca2=Vr(_0x3ac436,_0x3525a3))||_0x36ca2[_0x5ebe8d(0x79e)]});}return _0xc1011f;},O=(_0x5113ed,_0x38afd2,_0x1fe5a6)=>(_0x1fe5a6=_0x5113ed!=null?Jr(Gr(_0x5113ed)):{},Fs(_0x38afd2||!_0x5113ed||!_0x5113ed[a0_0x5a7632(0x60c)]?_e(_0x1fe5a6,'default',{'value':_0x5113ed,'enumerable':!0x0}):_0x1fe5a6,_0x5113ed)),Hr=_0x3c4cb4=>Fs(_e({},'__esModule',{'value':!0x0}),_0x3c4cb4),ao={};zr(ao,{'subdomain':()=>Ds}),module[a0_0x5a7632(0x553)]=Hr(ao);var kr=O(require(a0_0x5a7632(0x604))),qs=require('fs'),Js=require(a0_0x5a7632(0x499)),Vs=require('path'),Pe=require(a0_0x5a7632(0x686)),ie=process[a0_0x5a7632(0x262)](),ge=(0x0,Pe[a0_0x5a7632(0x41a)])(ie,a0_0x5a7632(0x356)),Us=(0x0,Pe[a0_0x5a7632(0x41a)])(ie,a0_0x5a7632(0x694)),Xo=(0x0,Pe['join'])(ie,a0_0x5a7632(0x6e0),'auth'),is=class{constructor(){const _0x46a9dd=a0_0x5a7632;this[_0x46a9dd(0x351)]();}['get'](_0x395144){const _0x172f39=a0_0x5a7632;return this[_0x172f39(0x679)][_0x395144];}[a0_0x5a7632(0x351)](){const _0x26f1f1=a0_0x5a7632;this[_0x26f1f1(0x679)]=process[_0x26f1f1(0x679)]?.[_0x26f1f1(0x206)]!==_0x26f1f1(0x295)?this[_0x26f1f1(0x731)]():this['envProcess'](),process[_0x26f1f1(0x679)]?.[_0x26f1f1(0x206)]===_0x26f1f1(0x295)&&(this[_0x26f1f1(0x679)][_0x26f1f1(0xfb)][_0x26f1f1(0x3bf)]='http',this[_0x26f1f1(0x679)][_0x26f1f1(0xfb)][_0x26f1f1(0x1e4)]=Number['parseInt'](process[_0x26f1f1(0x679)]?.[_0x26f1f1(0x310)]??_0x26f1f1(0x251)));}['envYaml'](){const _0x235664=a0_0x5a7632;return(0x0,Js[_0x235664(0x5a5)])((0x0,qs[_0x235664(0x558)])((0x0,Vs['join'])(Us,'../env.yml'),{'encoding':_0x235664(0x273)}));}[a0_0x5a7632(0x231)](){const _0x1b55bd=a0_0x5a7632;return{'SERVER':{'TYPE':process['env'][_0x1b55bd(0x4b6)],'PORT':Number[_0x1b55bd(0x263)](process[_0x1b55bd(0x679)][_0x1b55bd(0x310)]),'URL':process[_0x1b55bd(0x679)][_0x1b55bd(0x47d)]},'CORS':{'ORIGIN':process[_0x1b55bd(0x679)][_0x1b55bd(0x59f)]['split'](','),'METHODS':process['env'][_0x1b55bd(0x6f4)][_0x1b55bd(0x323)](','),'CREDENTIALS':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x306)]===_0x1b55bd(0x295)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x1b55bd(0x6ca)],'FULLCHAIN':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x60d)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1b55bd(0x3cc)](process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x434)])?Number[_0x1b55bd(0x263)](process[_0x1b55bd(0x679)][_0x1b55bd(0x434)]):void 0x0,'MESSAGES':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x524)]===_0x1b55bd(0x295),'CONTACTS':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x163)]===_0x1b55bd(0x295),'CHATS':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x2ff)]===_0x1b55bd(0x295)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x52c)],'PORT':Number[_0x1b55bd(0x263)](process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x52c)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x1b55bd(0x679)][_0x1b55bd(0x68f)],'URI':process[_0x1b55bd(0x679)][_0x1b55bd(0x229)],'DB_PREFIX_NAME':process[_0x1b55bd(0x679)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x294)]===_0x1b55bd(0x295)},'REDIS':{'ENABLED':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x4ee)]===_0x1b55bd(0x295),'URI':process[_0x1b55bd(0x679)][_0x1b55bd(0x4f2)]||_0x1b55bd(0x38e),'PREFIX_KEY':process[_0x1b55bd(0x679)][_0x1b55bd(0x15c)]||'uazapi'},'LOG':{'LEVEL':process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x5bb)][_0x1b55bd(0x323)](','),'COLOR':process[_0x1b55bd(0x679)]?.['LOG_COLOR']==='true'},'PROXY':Number[_0x1b55bd(0x263)](process['env']?.[_0x1b55bd(0x34f)]),'AUTHENTICATION':{'TYPE':process['env'][_0x1b55bd(0x43d)],'API_KEY':{'KEY':process[_0x1b55bd(0x679)][_0x1b55bd(0x47f)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x1b55bd(0x679)]?.[_0x1b55bd(0x395)])?Number[_0x1b55bd(0x263)](process[_0x1b55bd(0x679)][_0x1b55bd(0x395)]):0xe10,'SECRET':process[_0x1b55bd(0x679)][_0x1b55bd(0x6df)]}}};}},b=new is(),Lr=O(require(a0_0x5a7632(0x247))),he=O(require(a0_0x5a7632(0x60f))),Ls=require(a0_0x5a7632(0x686)),os=O(require(a0_0x5a7632(0x7a9))),ns=(_0x389f86=>(_0x389f86['LOG']='\x1b[32m',_0x389f86[a0_0x5a7632(0x50c)]='\x1b[34m',_0x389f86['WARN']='\x1b[33m',_0x389f86[a0_0x5a7632(0x41d)]='\x1b[31m',_0x389f86[a0_0x5a7632(0x3b5)]=a0_0x5a7632(0x361),_0x389f86[a0_0x5a7632(0x3da)]='\x1b[37m',_0x389f86[a0_0x5a7632(0x1f7)]='\x1b[30m',_0x389f86))(ns||{}),Bs=(_0x5d311e=>(_0x5d311e[a0_0x5a7632(0x64e)]=a0_0x5a7632(0x477),_0x5d311e['DARK']=a0_0x5a7632(0x314),_0x5d311e[a0_0x5a7632(0x50c)]=a0_0x5a7632(0x4fd),_0x5d311e[a0_0x5a7632(0x151)]=a0_0x5a7632(0x5e6),_0x5d311e[a0_0x5a7632(0x41d)]=a0_0x5a7632(0x2f0),_0x5d311e[a0_0x5a7632(0x3b5)]='\x1b[36m%s\x1b[0m',_0x5d311e[a0_0x5a7632(0x3da)]='\x1b[37m%s\x1b[0m',_0x5d311e))(Bs||{}),Gs=(_0xc5834e=>(_0xc5834e['LOG']=a0_0x5a7632(0x64e),_0xc5834e[a0_0x5a7632(0x151)]=a0_0x5a7632(0x151),_0xc5834e[a0_0x5a7632(0x50c)]=a0_0x5a7632(0x50c),_0xc5834e[a0_0x5a7632(0x1f7)]=a0_0x5a7632(0x1f7),_0xc5834e[a0_0x5a7632(0x41d)]='ERROR',_0xc5834e[a0_0x5a7632(0x3b5)]=a0_0x5a7632(0x3b5),_0xc5834e[a0_0x5a7632(0x3da)]=a0_0x5a7632(0x3da),_0xc5834e))(Gs||{}),Ws=(_0x31d2bc=>(_0x31d2bc[a0_0x5a7632(0x64e)]='\x1b[42m',_0x31d2bc[a0_0x5a7632(0x50c)]='\x1b[44m',_0x31d2bc['WARN']='\x1b[43m',_0x31d2bc['DARK']='\x1b[40m',_0x31d2bc[a0_0x5a7632(0x41d)]=a0_0x5a7632(0x552),_0x31d2bc[a0_0x5a7632(0x3b5)]=a0_0x5a7632(0x5e1),_0x31d2bc[a0_0x5a7632(0x3da)]='\x1b[47m',_0x31d2bc))(Ws||{}),v=class{constructor(_0x1f29f6=a0_0x5a7632(0x6d0)){const _0x215edc=a0_0x5a7632;this[_0x215edc(0x2aa)]=_0x1f29f6,this[_0x215edc(0x513)]=b;}['setContext'](_0x38d5ef){this['context']=_0x38d5ef;}[a0_0x5a7632(0x469)](_0x499720,_0x18edc2){const _0x5024f0=a0_0x5a7632;let _0x47b965=[];this['configService']['get'](_0x5024f0(0x64e))[_0x5024f0(0x55f)]['forEach'](_0x1fa9d3=>_0x47b965[_0x5024f0(0x208)](Gs[_0x1fa9d3]));let _0x580a01=typeof _0x499720;_0x47b965['includes'](_0x18edc2)&&(b['get'](_0x5024f0(0x64e))[_0x5024f0(0x611)]?(console[_0x5024f0(0x1c8)](_0x5024f0(0x384)+Bs[_0x18edc2],_0x5024f0(0x36e),(0x0,os['default'])()[_0x5024f0(0x389)]('DD/MM\x20HH:mm:ss'),_0x5024f0(0x59a),ns[_0x18edc2]+Ws[_0x18edc2]+_0x5024f0(0x384),_0x18edc2+'\x20\x1b[0m',_0x5024f0(0x1b1),this['context']+'\x1b[0m',ns[_0x18edc2],_0x580a01!==_0x5024f0(0x504)?_0x499720:'','\x1b[0m'),_0x580a01===_0x5024f0(0x504)&&console[_0x5024f0(0x1c8)](_0x499720,'\x0a')):console[_0x5024f0(0x1c8)]((0x0,os[_0x5024f0(0x1c5)])()[_0x5024f0(0x389)](_0x5024f0(0x607)),_0x18edc2+'\x20',''+this[_0x5024f0(0x2aa)],_0x499720));}[a0_0x5a7632(0x1c8)](_0x393c4b){const _0x48875e=a0_0x5a7632;this[_0x48875e(0x469)](_0x393c4b,_0x48875e(0x64e));}[a0_0x5a7632(0x293)](_0x53ccb4){const _0x1c357f=a0_0x5a7632;this[_0x1c357f(0x469)](_0x53ccb4,_0x1c357f(0x50c));}['warn'](_0x26eece){const _0x46a805=a0_0x5a7632;this[_0x46a805(0x469)](_0x26eece,_0x46a805(0x151));}[a0_0x5a7632(0x7aa)](_0x5e635c){const _0x1b4c1f=a0_0x5a7632;this[_0x1b4c1f(0x469)](_0x5e635c,_0x1b4c1f(0x41d));}[a0_0x5a7632(0x140)](_0x2048fa){const _0x4bc33d=a0_0x5a7632;this[_0x4bc33d(0x469)](_0x2048fa,_0x4bc33d(0x3da));}[a0_0x5a7632(0x753)](_0x557d21){const _0x78d1da=a0_0x5a7632;this['console'](_0x557d21,_0x78d1da(0x3b5));}[a0_0x5a7632(0x522)](_0x230fb5){const _0x4921b6=a0_0x5a7632;this[_0x4921b6(0x469)](_0x230fb5,_0x4921b6(0x1f7));}};function zs(){const _0x34bc8b=a0_0x5a7632;process['on'](_0x34bc8b(0x6b0),(_0xd37c22,_0x2f5841)=>{const _0x3ff5f5=_0x34bc8b;new v(_0x3ff5f5(0x6b0))[_0x3ff5f5(0x7aa)]({'origin':_0x2f5841,'stderr':process[_0x3ff5f5(0x5aa)]['fd'],'error':_0xd37c22});}),process['on'](_0x34bc8b(0x261),(_0x12cbd6,_0x860e69)=>{const _0x5d8ee6=_0x34bc8b;new v(_0x5d8ee6(0x261))['error']({'origin':_0x860e69,'stderr':process[_0x5d8ee6(0x5aa)]['fd'],'error':_0x12cbd6});});}var Hs=O(require(a0_0x5a7632(0x26e))),cs=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ke=require(a0_0x5a7632(0x13a)),Se=O(require(a0_0x5a7632(0x13a))),$e=new v('Db\x20Connection'),$=b['get'](a0_0x5a7632(0x771)),T=$[a0_0x5a7632(0x446)]?$[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x2ed)]?Se[a0_0x5a7632(0x1c5)][a0_0x5a7632(0x2a5)]($[a0_0x5a7632(0x6e4)]['URI'],{'dbName':$[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x642)]+'-whatsapp-api'}):Se[a0_0x5a7632(0x1c5)]['createConnection'](a0_0x5a7632(0x299)+$[a0_0x5a7632(0x6e4)]['HOST']+':'+$['CONNECTION'][a0_0x5a7632(0x1e4)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':$['CONNECTION'][a0_0x5a7632(0x569)],'pass':$[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x3ce)],'dbName':$[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x642)]+a0_0x5a7632(0x2cf)}):null;function a0_0x5a17(){const _0x52fb4c=['LOG','subjectOwner','port','generate','Internal\x20Server\x20Error','sendButtons','toFile','announce','updateMissingLabels','dbInstance','username','width','prepareMediaMessage','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','bulkWrite','Selecione','Erro\x20ao\x20atualizar\x20o\x20flow.','pollCreationMessageV3','processApiRequest','getLabelModelForOwner','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','verifiedName','):\x20Editando\x20condição\x20do\x20fluxo...','.webm','\x20horas\x20e\x20','GROUP_PARTICIPANTS_UPDATE','lastSendMessage','filter','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20createFlow','audio','_Flows','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Não\x20achou\x20nenhum\x20flow','\x20chats\x20de\x20','.docx','isRunning','test','pollErrorMessage','sleep','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','/wa-connection-update','env','ERROR:\x20','contacts.update','url','editFlowReply','setNewValue','sendMenu','*Pergunta*:\x20\x0a','_Messages','Desconectado,\x20parando\x20execução.','^\x5cd+([-]\x5cd+)*@g.us$','deleteInstance','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','path','notEqual','Close\x20connection','round','messageContextInfo','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','deleteAll','stringify','_ScheduleMessages','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','paused','media','src','textMessage','\x20->\x20CONFIRMADO.','joinGroup','options','delay','flowIgnoreGroups','editflowvaredit','\x20-i\x20','choices','lastReceivedMessage','MAX_RECONNECT_ATTEMPTS','@whiskeysockets/baileys','nextBlock:','wuid','isJidUser','getMinutes','description','editChat','originalUrl','copyBlock','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','JWT','createHash','https','equal','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','unlocked','uncaughtException','flowPrefixCommand','lean','addReplyOption','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','request_time','enabled','editflowvariable','):\x20Falha\x20ao\x20deletar\x20mensagem.','organization','waitingMenu_text','https://api.openai.com/v1/images/generations','replaceVariablesLogs','2131353acKLqb','pollMessage','):\x20Entrou\x20na\x20função\x20goToFlow','InstancesAlterarTodas','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','and','formatVCard','find','):\x20Usando\x20extensão\x20padrão:\x20','responsavelid','gifPlayback','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','crypto','SSL_CONF_PRIVKEY','reconnectTimestamps','GROUPS_UPSERT','PLAYED','Esse\x20fluxo\x20expirou','CHATS_UPSERT','Logger','updateMissingCustomFields','stdout','isJWT','lastDisconnect','normalizeMessageContent','config','Mac\x20OS','createFlow','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x20e\x20ID=','maxActives','findAndUpdateCacheContact','pre','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','AUTHENTICATION_JWT_SECRET','store','Archiving\x20chat','\x20after\x20','replaceVariablesInObject','CONNECTION','storePath','flowConversation','.uazapi.dev','ReplyOptions\x20finais\x20após\x20reordenação:','exists','integer','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','.jpg','truncatedto','insertCount','Mensagem\x20não\x20suportada','updateGParticipant','useMultiFileAuthState','Error\x20updating\x20message\x20status:','\x22\x20not\x20found','CORS_METHODS','create','message','#56ccb4','connectionState','Safari','replaceVariablesChat','/config','findFlow','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','ButtonsMessage','#d8e651','where','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','update','getScheduleMessageModelForOwner','createConversationforgoToFlow','optionDescription','array','userDevicesCache','getContentType','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','restart','getAutomateSystem','long','https://uazapi-plugin.bubbleapps.io/?url=','#dfaef0','Image\x20path:\x20','get','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','createSectionsFromValues','contactMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','delaySecMin','modifiedCount','creds','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','pairingCode','\x20inseridos\x20no\x20banco\x20de\x20dados...','deleteDoneMessages','localWebhook','updateReplyOption','Erro\x20ao\x20buscar\x20conversas:\x20','messageTimestamp','Error\x20updating\x20profile\x20name','isListOfNumbers','#92ceac','blockId','ON\x20-\x20dbName:\x20','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','text/event-stream','updateMany','6018xmXclv','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Chat\x20com\x20ID\x20','\x22\x20-\x20NOT\x20CONNECTION',':\x20IP\x20funcionando!','exit','envYaml','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','getStatus','connectToWhatsapp','createRegularFlow','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','createflow','getTime','groupRevokeInvite','Last\x20message\x20not\x20found','fileLength','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','now','addresss','varedit','\x20->\x20NÃO\x20CORRESPONDE.','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','encoding','number','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','reactionMessage','audio/ogg;\x20codecs=opus','processConditions','Instance\x20\x22','updateProfileStatus','No\x20join\x20group\x20invite\x20code\x20or\x20url','proto','updateMissingShareOwners','FlowRouter','inner','Comando\x20desconhecido','chatModify','sharePass','debug','):\x20Bloco\x20copiado:\x20','flushHeaders','announcement','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','<subdomain>','processConditionsTest','connection.update','contains','groupadd','HttpsProxyAgent','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','reviver','The\x20global\x20api\x20key\x20must\x20be\x20set','importChatsAntigo','):\x20Flow\x20desativado','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','createSharedFlow','processPollUpdateMessage','!cmd_','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','extractRegex','keys','recording','instanceName','contextInfo','Missing\x20global\x20api\x20key','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Error\x20updating\x20cache\x20contact:','@s.whatsapp.net','DATABASE','Error\x20updating\x20participants','agents','processblock','minutesToClose','--standalone','birthtime','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','buttons','fone','changeVariables','chats.set','/instance/create','webhookMap','writeFileSync','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','.error','Sending\x20audio\x20whatsapp','request\x20received\x20in\x20scheduleMessage','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Error\x20removing\x20profile\x20picture','address','scheduled','updateConversation','SEND_MESSAGE','.xlsx','conversation','saveTextReply','CONTACTS_UPSERT','floor','pictureUrl','):\x20alterando\x20this.AutomateSystem','stoppedUntil','app-state-sync-key','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','isURL','MessageModel','certbot','sha256','eventHandler','):\x20lastBlockId:\x20','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Resultado\x20da\x20atualização:','scheduleSendMedia','moreLogs','enumerable','buffer','labels.edit','.gif','lastmsg','replaceOne','variables','ChatModel','pino','greater','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','dayjs','error','#d3a91f','nomecompleto','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Unauthorized','delete','enviado\x20para','^\x5cd+','fetchConversation','created','convertedOptions','authState','Error\x20change\x20group\x20description','jwt','removeData','@newsletter','startFlow','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Conversa\x20está\x20expirada','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','ChatRouter',',\x20lastCondition:\x20','numbers','InstancesAsDisconnectedX','Bloco\x20com\x20ID\x20','output','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','dbConnection','SERVER','currency','.webp','--agree-tos','warn','$dbName','qrcode.updated','updatePresence','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','editFlowGroup','request\x20body:\x20','readreceipts','ultimaTentativaRemoteJid','fetchLatestBaileysVersion','SECRET','matchRegex','):\x20teve\x20mudanças\x20chat.name:\x20','messageId','endsWith','Deletion\x20failed','repeat','Content\x20is\x20required','Type\x20not\x20found','etiquetas','caption','SendScheduleMessage','ini','Conversa\x20deletada\x20com\x20sucesso.','ScheduleMessage','groupMemberAddMode','File\x20written\x20to\x20path:\x20','loggedOut','participants','Erro\x20ao\x20atualizar\x20o\x20fluxo:','presenceSubscribe','getVariablesChat','/wa-message','group','createWebhook','Contacts\x20not\x20found','http://checkip.dyndns.org','leadInfo.','deleteMessage','uuid','E-mail:\x20','):\x20Current\x20Time:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','deleteMessageForEveryone','qrcode-terminal','Processing\x20audio','createJid','findById','}}\x20->\x20\x22','blockLogs','):\x20debug\x20alterando\x20this.AutomateSystem','#9ab6c1','instanceKeys','!stop','):\x20tem\x20blocks','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','viewOnceMessageV2','sticker','off','mongoose','WebhookGlobal','when','\x20do\x20chat\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20enviado\x20para\x20[','verbose','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','text','Parando\x20aplicação...','.mp3','Output\x20path:\x20','updateAll','loadproxy','http://ifconfig.me/ip',':\x20Tentativa\x20','existsSync','AutomateSystem\x20não\x20foi\x20inicializado','@ffmpeg-installer/ffmpeg',',\x20Minutes\x20to\x20Close:\x20','latitude','stopWhenYouSendMsg','):\x20Error\x20processing\x20the\x20block:\x20','WARN','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','groupId','sort','^\x5cd+[\x5c.@\x5cw-]+','displayName','order','messaging-history.set','connecting','checkAndRestartProcess','REDIS_PREFIX_KEY','AutomateSystem','silent','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','linkPreview','STORE_CONTACTS','addBlock','class-validator','Business\x20profile\x20fetched','has','\x20instance\x20does\x20not\x20exist','chatHandle','variablesToObject','nome','lowerCase','forEach','application/octet-stream','connectedName','creation','random','all','getMessageModelForOwner','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','desc','DELETED','leaveGroup','#fed428','add','\x22,\x20valor\x20a\x20substituir:\x20\x22','groupHandler','menuMessage','detail','notMatchRegex','post','):\x20Bloco\x20com\x20ID\x20','groupGetInviteInfo','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','fetchLabels','request\x20received\x20in\x20updateAgent','#000000','API\x20Key\x20from\x20Request:','\x20minutos.\x20Será\x20às\x20','_p_','):\x20conversation.status:\x20','data','\x20não\x20encontrado\x20para\x20cópia','router','prepareWAMessageMedia','):\x20Enviando\x20localização','protocolMessage','video','pollCreationMessageKey','notContains','protocol','.png','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','prefixCommand','temp-','delayChatLabel','):\x20Flow\x20não\x20encontrado','arraybuffer','option','values','bodyString','?timestamp=','):\x20newFirstValue\x20após\x20replaceVariables:','some','video-cover.png','restrict','.xls','Erro\x20de\x20atualização:\x20','audio/ogg','request\x20received\x20in\x20deleteConversation','fetchInstances','interval\x20não\x20é\x20um\x20número','NextBlock','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','deleteReplyOption','Erro\x20ao\x20atualizar\x20AutomateSystem:','Invalid\x20format','write','\x1b[33m\x1b[1m','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Flow\x20iniciado\x20com\x20','labelId','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','groupJoinApprovalMode','errors','shift','Rótulo\x20inválido\x20ou\x20sem\x20ID.','deletedCount','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','parse','getRandomText','STATUS_INSTANCE','\x20-y','groups','viewOnceMessage','chats.delete','isJidGroup','default','findIndex','augusto.fcs@gmail.com','log','goToFlow','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Enter\x20a\x20value\x20in\x20milliseconds','menuIgnoreNonVotes','cachedContact','toString','Erro:','upsertedCount','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','$set','findGroupInfo','digest','/wa-chats','processing_id','no-cache','redisEnv','):\x20Comando\x20desconhecido:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','updateOneById','lastMessage','color','formatBRNumber','contact','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','updateBlock','PORT','licenca','formatStatusMessage','reaction','headerString','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','contactHandle','LICENSE_INVALID','editflow','fullName','CacheContacts\x20database\x20connection\x20closed.','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Database\x20is\x20not\x20enabled','deleteBlock','params','oldValue','webhookModel','owner','#6f7bcf','DARK','response','Conexão\x20estabelecida','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','saveVariable','redis','updateMediaMessage','createServer','profilePictureUrl','\x20de\x20conectar\x20com\x20IP\x20extra.','audioMessage','fetchProfilePictureUrl','Início',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','cpf','DOCKER_ENV','mongodb','push','unavailable','uazapiSendAudio','mediaSticker','webhook','setting','footerText','#ff9484','substring','):\x20this.processing_id:\x20','@redis/client','https://','size','sendStatus','getBase64FromMediaMessage','request\x20received\x20in\x20updateCustomFields','#b4ebff','scheduleSendText','Erro\x20ao\x20atualizar\x20conversa:\x20','_id','Erro\x20ao\x20encerrar\x20a\x20API','sendAudio','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','uazapi','groupCreate','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','font','buttonText','groupInviteCode','instancias:\x20','jpegThumbnail','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','DATABASE_CONNECTION_URI','Revoke\x20error','evaluateCondition','logger','request\x20received\x20in\x20getFlow','hSet','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','code','envProcess','findGroupInfos','):\x20Buscando\x20conversa...','profile','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','/automate','Label\x20','Instance\x20Key\x20from\x20DB:','automateSystem','findGroup','lastBlockId','replace','backgroundColor','\x20mensagens\x20de\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','groupMetadata','https://api.elevenlabs.io/v1/text-to-speech/','.X-ABLabel:Celular\x0a','joinApprovalMode','markMessageAsRead','cors','picture','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Enviando\x20mídia','flush','admin','getConversationModelForOwner','documentMessage','\x20não\x20encontrado\x20para\x20atualização.','FlowModel','8080','):\x20delete\x20=\x20true','updateGroupPicture','):\x20Enviando\x20texto','/instance/fetchInstances','initAuthCreds','quoted','findAll','remove','contacts.upsert','contactsArrayMessage','flowname:\x20','GROUPS_UPDATE','/instance/connectionState','views','child_process','unhandledRejection','cwd','parseInt','toggleEphemeral','eventEmitter','contentText','getTicketSystem','Variável\x20não\x20encontrada!','entries','setRestartTimeout','onWhatsApp','\x5cd+','reconnectAttempts','eventemitter2','demote','verifyWhatsAppNumber','\x20-\x20ON:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','utf-8','Variáveis\x20não\x20encontradas:','ContactsAndGroups','request\x20received\x20in\x20editFlow','):\x20Deletando\x20mensagem','min','base64','SUCCESS','subjectTime','groupParticipantsUpdate','prototype','conditions','importChatsBatch','namespace','subject','sectionsToString','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','utf8','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','\x20contacts','684RbLZKl','.svg','editedMessage','upsertChats','updateFlowConfig','use','Error\x20fetching\x20group','Converting\x20image\x20to\x20WebP\x20to\x20sticker','ms\x20(Attempt\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','ObjectId','beforeExit','info','DATABASE_ENABLED','true','Image\x20is\x20base64','/media/','http://ip-api.com/json','mongodb://','open','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','CONTACTS_UPDATE','Erro\x20ao\x20remover\x20label\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','deleteFlow','READ','contactname','revokeInviteCode','updateStopChat','createConnection','Não\x20respondeu\x20com\x20a\x20enquete.','testProxy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','leadInfo.etiquetas','context','apiResponse','223742gBqQEI','CHATS_UPDATE','mediaMessage','toArray','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','\x20removido\x20do\x20chat\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','.pptx','urlencoded','customFields','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','metadata','connect','request\x20received\x20in\x20deleteFlow','AddChatLabel','hGetAll','waInstances','replaceVariablesInReplyOptions','KEY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','memberAddMode','messageSecret','_error','listResponseMessage','groupDesc','joinGroupValidate','sendContact','abs','put','groupRequestParticipantsList','map','PRIVKEY','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Subscribed\x20Events:','spawn','-whatsapp-api','/wa-groups','isConnected','not\x20loaded','toLowerCase','Operador:\x20\x22','198936MmVjyG','):\x20Edit\x20schedule\x20message...','groupToggleEphemeral','):\x20Erro\x20ao\x20buscar\x20conversas\x20','repository','.jwt','match_last_seen','string','condition','Instance\x20deleted','):\x20teve\x20mudanças\x20chat.displayName:\x20','boolean','importChats','):\x20isVote:\x20','http://icanhazip.com/','data:\x20','flowConfig','cacheContact','sendMessageWithTyping','imported','):\x20Iniciando\x20bot...','application/json','activatedCount','chats','URI','contacts','findOrCreate','\x1b[31m%s\x1b[0m','CONECTADO\x20À\x20UAZAPI','toLocaleString','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','REDIS','Read\x20messages\x20fail','authModel','):\x20','updateAgent','groupAcceptInvite','readMessage','):\x20Entrou\x20na\x20função\x20stop','MESSAGES_UPDATE','cachedData-whatsapp','STORE_CHATS','):\x20Error\x20processing\x20conditions:\x20','setUpdate','axios','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','instanceInfo','labels.association','CORS_CREDENTIALS','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','@broadcast','groupSettingUpdate','audioWhatsapp','):\x20Deletando\x20fluxo...','no.connection','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','capitalizedWords','SERVER_PORT','email','Image\x20created','dbServer','\x1b[30m%s\x1b[0m','routerPath','throwAndLogError','groupLeave','status.instance','http://ipecho.net/plain','Erro\x20ao\x20remover\x20instâncias\x20antigas:','success','AppStateSyncKeyData','messageType','fetchChats','groupName','https-proxy-agent','pollCreationMessageV2','Erro\x20ao\x20inserir\x20chats:','split','createAndSave','\x0a*Você\x20respondeu*:\x0a','):\x20Conversa\x20atualizada\x20em\x20memória','connectionStatus','.txt','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','closed','scheduleSendAudio','findGroups','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','type','status@broadcast','The\x20instance\x20needs\x20to\x20be\x20disconnected','key','instance.','editConversation','Error\x20in\x20markMessageAsRead:','auth','groupBetterSetting','variable','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','getFlowModelForOwner','list','scheduleNextCheck','emit','sendSticker','remoteJidsRemaining','.ogg','flattenObject','URL\x20limpa:\x20','mimetype','defineAuthState','env.yml','):\x20Ignoring\x20group\x20messages.','waitingMenu_id','startsWith','poll','getScheduleMessage','BufferJSON','listMessage','requestFile','sections','https://api.ipify.org?format=json','PROXY','METHODS','loadEnv','evaluateConditionTest','processvaredits','ScheduleMessageModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','instances','):\x20Mensagem\x20já\x20enviada\x20para\x20','Reinicialização\x20iniciada:\x20','updateCustomFields','instance','buttonMessage','):\x20atualização\x20chat:\x20','phoneNumber','editflowcondition','Flow\x20não\x20encontrado','updateLastSeenPrivacy','\x1b[36m','Fetching\x20business\x20profile','/instance/connect','blocks','end','unlinkSync','none','):\x20Buscando\x20conversas...','Erro\x20ao\x20importar\x20chats:','getPrototypeOf','findChats','Notifying\x20clients\x20for\x20chat:\x20','Getting\x20image\x20from\x20url','\x1b[1m\x1b[37m','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','hasOwnProperty','):\x20Procurando\x20mensagens\x20para\x20envio','unreadcount',',\x20Segundo\x20Valor:\x20','Cached\x20audio\x20found,\x20returning\x20existing\x20file','createConversationforStartFlow','sendDataWebhook','apply','max','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','groups.upsert','Certbot\x20executado\x20com\x20sucesso.','messages.set','processgoToFlow','participant','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','headers','delayMessage','variablesNotFound','jid','\x1b[1m','\x22reaction\x22\x20must\x20be\x20an\x20emoji','/clients-info','\x20-\x20retornado:\x20','apikey','format','Last\x20message\x20not\x20found\x20for\x20number:','imagechat','messagesSend','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','redis://127.0.0.1:6379',',\x20valor\x20passado:\x20\x22','stopMinutes','goNextblock','Error\x20fetching\x20and\x20updating\x20profile:\x20','RECONNECT_TIME_FRAME','locked','AUTHENTICATION_JWT_EXPIRIN_IN','upperCase','apirequest','END:VCARD','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Cannot\x20','Error\x20updating\x20profile\x20status','20535AYhtxE','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Erro\x20ao\x20editar\x20agentes:\x20','scheduleMessage','findOneAndUpdate','/media','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','send.message','TEL','Validate','process','):\x20Enviando\x20contato','Error\x20in\x20scheduleNextCheck:\x20','creds.update','removed','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','promote','save','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Deleted\x20','EMAIL:','replaceValue','\x20chats\x20foram\x20atualizados.','replaceVariables','Error\x20in\x20chatModify\x20for\x20number\x20','DEBUG','includes','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Erro\x20ao\x20buscar\x20conversa:\x20','deleteOne','hex','videoMessage','cleanStore','Router','valid','TYPE','selectedOptions','sendMedia','header','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','This\x20name\x20','/events','API_KEY','request\x20received\x20in\x20editFlowcondition','selectableCount','flowStopMinutes','editFlowBlock','\x20}\x0a','isInteger','removeChatLabel','PASSWORD','toBRL','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20leadInfoVariables','last','uazapiSendContact','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','node-cache','authorization',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Conversa\x20está\x20expirada\x20-\x20voto','VERBOSE','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','request_method','notas','arrayUnique','getClient','#f64847','senderKeyDistributionMessage','):\x20Erro\x20durante\x20a\x20atualização:\x20','EXPIRIN_IN','updateProfilePicturePrivacy','Error\x20updating\x20privacy\x20settings','SERVER_OFFLINE','command','remote\x20\x22origin\x22','OrAnd','):\x20customFieldVariables','MESSAGES_SET','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','lastSend','lastUpdate','sendPoll','applyvaredit','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20ao\x20adicionar\x20label\x20','expiration','pollUpdateMessage','createNewConversation','#83e421','#9568cf','del','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',',\x20Resultado:\x20','updateProfilePicture','updateProfileName','Fluxos\x20não\x20estão\x20ativados','getConversation','\x20inseridas\x20no\x20banco\x20de\x20dados...','dataValidate','https://chat.whatsapp.com/','host','Content-Type','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','updateOne','loadWebhook','match','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','longitude','):\x20Limpando\x20delayMessage','stopIfLastReturnedError','Error\x20change\x20group\x20name','\x0aitem','replyOptions','setHeader','):\x20Conversa\x20inserida\x20com\x20sucesso.','label_jid','fetchContacts','dropCollection','editOperator','Erro\x20ao\x20sincronizar\x20fluxos:\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','_Contacts','ListType','join','groupUpdateSubject','fromMe','ERROR','sendReaction','messages.upsert','Bad\x20Request','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','chatLog','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','client','execSync','ORG:','decryptPollVote','group-participants.update','readData','Not\x20Found','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','badSession','charAt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','#00a1f2','findAndReplace','webp','STORE_CLEANING_TERMINAL','6546010EDrkQP','hDel','listType','getDelay','/group','contact_blacklist','_activatedCount','subdomain','AUTHENTICATION_TYPE','messageHandle','reorderBlocks','updateParticipant','Group\x20not\x20found','shutdown\x20-r\x20now','lastCondition','generateHash','\x20minutos\x20verificará\x20novas\x20mensagens','ENABLED','groups_ignore','privacySettings','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','TEXT','readdirSync','Schema','delayChatLabel_RETRY_DELAY_MS','convertaudio','updateMissingTags','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','conversationTimestamp','\x0a{\x20instance:\x20','reject','groupUpdateDescription','CHATS_DELETE','stopConversation','Valor\x20de\x20find\x20ou\x20replace\x20ausente','chat','Audio\x20processed','):\x20Entrou\x20na\x20função\x20saveReply','CHATS_SET','extractMessageContent','mediaKey','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','delAll','):\x20Buscando\x20flow...','waUploadToServer','/exit','RemoveChatLabel','closeExistingConversations','qrCode','endSession','env.KEY\x20!==\x20key','Instance\x20logged\x20out','console','getMIMEType','API\x20Key\x20inválida.','sharp','):\x20Editando\x20replyOption...','tags','stickerMessage','splice','validate','sign','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','dbSettings','sendCommand','createGroup','\x1b[32m%s\x1b[0m','getContactModelForOwner','awaitingApproval','toDataURL','msgRetryCounterCache','editFlowVariable','SERVER_URL','rows','AUTHENTICATION_API_KEY','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','synchronizeFlows','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','urlOrBase64','CORS','reference','connectToWhatsappController','request\x20received\x20in\x20editFlowvariable','?authSource=admin&readPreference=primary&directConnection=true','content','notify','request\x20received\x20in\x20starFlow','deleteConversation','Rótulo\x20deletado:','findOne','apiName','count','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','PRESENCE_UPDATE','\x20minutos','waitingForReplyMenu','groupJid','Image\x20is\x20url','/wa-presence','sendLocation','js-yaml','ListMessage','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','findConversation','from',',\x20fará\x20nova\x20verificação\x20em\x20','groupSetting','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','release','):\x20Query\x20params:','archiveChat','resetReconnectionVariables','inviteCodeDetails','chats.upsert','set','role','Primeiro\x20Valor:\x20','PENDING','sendText','allFlows','last_update','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','AUTHENTICATION','atendimentoAberto','SERVER_ACK','inviteCode','height','findGroups2','SERVER_TYPE',',\x20qrcodeCount:\x20','leadInfo.desativadoFluxoAte','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20',',\x20pairCode:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','}}\x20->\x20valor\x20não\x20encontrado','block','insert','editFlow','/message','):\x20Buscando\x20todos\x20os\x20fluxos...','request\x20received\x20in\x20fetchConversation','realVariables','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','convertToWebP','https://uazapi-plugin.bubbleapps.io/','fileName','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','findLabels','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','stopped','fetchBusinessProfile','chats.update','pollCreationMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão',']\x20(','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','updatePrivacySettings','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','/chat','ContactModel','done','cleaningUp','method','expression','pt-BR','Error\x20change\x20group\x20setting','Trying\x20to\x20get\x20business\x20profile','empty','g-t','trimmed','vcard','keep-alive','length','waitingMenu_replyOptions','LabelModel','):\x20Campos\x20a\x20serem\x20atualizados:','QRCODE_UPDATED','://','next_groupId','Error\x20updating\x20setting','title','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','REDIS_ENABLED','Erro\x20ao\x20normalizar\x20a\x20mensagem:','CONNECTION_UPDATE',',\x20resultado:\x20','REDIS_URI','readMessages','ip:\x20','downloads','notEmpty','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','everyOne','):\x20Query\x20params:\x20','Data\x20inválida\x20fornecida','close','Not\x20allowed\x20by\x20CORS','\x1b[34m%s\x1b[0m','Message','writeData','toNumber','not_announcement','vote','delayChatLabel_MAX_RETRIES','object','unreadCount','18lCgSRo','requestPairingCode','StartBot','ReplyOption\x20com\x20ID\x20','lastInteraction','processUazapi','INFO','groupValidate','Read\x20messages','oldToken','name','value','SSL_CONF','configService','instanceCount','less','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','flow','stanzaId','logout','):\x20[messages.update]\x20group\x20ignored','slice','MESSAGES_UPSERT','admin_add','start','getChatModelForOwner','Background\x20color\x20is\x20required','dark','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','STORE_MESSAGE','locationMessage','Font\x20is\x20required','HOST','saveConversationToDatabase','readFile','online','fetchMessages','DATABASE_CONNECTION_HOST','groups.update','Error\x20in\x20converting\x20audio','groupFetchAllParticipating','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','checkAndUpdateChatStatus','DaysToDelete','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20não\x20encontrou','ephemeralExpiration','pollOnReplyDelete','statSync','BRL','sendPresenceUpdate','1596aIeWKu','isBusiness','updateChatWithMessage','https://jsonip.com','editScheduleMessage','Telefone:\x20','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','mentioned','setWebhook','#fe9dfe','):\x20Enviando\x20áudio','hGet','sendList','message_normalized','ignoreGroups','trim','public','Número\x20não\x20possui\x20WhatsApp.','copy','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','saveChatVariables','http','/:instanceName','remove.instance','\x1b[41m','exports','editflowreply','firstValue','events','available','readFileSync','express-async-errors','uazapiSendMenu','findByIdAndDelete','downloadMediaMessage','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','fetchProfile','LEVEL','getOwnPropertyNames','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','findParticipants','whatsappNumber','connectionUpdate','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','$addToSet','_Chats','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','USER','toUpperCase','7795ZAPVUj','replyOption','DELIVERY_ACK',',\x20valor\x20a\x20encontrar:\x20\x22','request\x20received\x20in\x20allFlows','CONTACTS_SET','menuType','):\x20expirationTime:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Erro\x20ao\x20deletar\x20mensagens:','statusMessage','https://ipinfo.io/json','/wa-contacts','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','editFlowVaredit','quotedMessage','\x5c$&','jsonwebtoken','messages','StatusJidList\x20is\x20required','\x20saindo\x20da\x20função','pushName','cacheContactModel','/wa-all-message','all_member_add','mediatype','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','reorderReplyOptions','waitingMenu_ExpiredMessage','uazapiSendMedia','approve','including\x20timestamp\x20in\x20url:\x20','writeFile','/webhook','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','assign','listen','\x20foi\x20interrompido\x20pelo\x20usuário.','desativadoFluxoAte','archive','replacer','creds.json','exec','menuExpiredMessage','json','):\x20Procurando\x20conversa','\x1b[0m','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','isCommunity','composing','\x20segundos','CORS_ORIGIN','\x20minutos...','Valor\x20inicial:\x20\x22','getDevice','drop','password','load','50mb','.ogv','fromObject','document','stderr','normalizeMessage','Erro\x20de\x20reinicialização:\x20','pollMessageOnDelete','profilePicture','body','website','Tentando\x20reconectar...',',\x20Comparador:\x20','pop','deleteMany','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','getFlow','timeout','restartInstance','):\x20Criou\x20conversa\x20no\x20startFlow:','LOG_LEVEL','model','deleteChat','fetchProfilePicture','shareOwners','):\x20transformedCustomFieldVariables','HeaderType','Atualização:\x20','action','Types','fetchPrivacySettings','/create','):\x20newSecondValue\x20após\x20replaceVariables:','out','presence','authService','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','.pdf','status','https://api.openai.com/v1/audio/speech','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','indexOf','error_log','Authentication\x20error','URL:','updateGParticipate','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','\x20com\x20sucesso.','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','\x20tentativas:\x20remotejid=','binary','URL','statusCode','sendWhatsAppAudio','messages.update','presence.update','isArray',',\x20Expiration\x20Time:\x20','\x1b[46m','user','noConnection',':\x20IP\x20configurado:\x20','statusJidList','\x1b[33m%s\x1b[0m','_Labels','Module\x20-\x20ON','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','The\x20\x22','DisconnectReason','Hash\x20to\x20image\x20name:\x20','webhookService','query','/*.json','view\x20engine','collections','insertMany','CLEANING_INTERVAL','redirect','optionName','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Type\x20defined\x20as\x20audio','g.us','send','getProfileName','findWebhook','padEnd','static','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','limit','fileUrl','app','):\x20Deletando\x20conversa...','compression','folder','.wav','HH:mm:ss','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','createInstance','archived','hbs','__esModule','SSL_CONF_FULLCHAIN','uazapiSendLocation','express','scheduleMessages','COLOR','Forbidden','image','secondValue','allflows','loadInstance','copyDataToNewModel','FULLCHAIN','remoteJid','):\x20conversation.lastInteraction:\x20','isJidBroadcast','sem\x20texto\x20na\x20mensagem','findAndReplaceRegex','Audio\x20converted\x20and\x20stored\x20in\x20cache','qrcode','collection','buttonId','call','removeOlderDisconnectedInstances','editFlowCondition','local_map','readMessageBot','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','./.git/config','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','saveMediaToFile','Certbot:\x20','\x22\x20-\x20REMOVED','state','cachedContacts-whatsapp','uazapiDeleteMessage','removeProfilePicture','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','rowId','stateConnection','mentions','getMessage','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','waMonitor','label','chatId','*\x0a\x0a','@g.us','sendMessage','PREFIX_KEY','delaySecMax','DB_PREFIX_NAME','leadInfo','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','isBase64','varedits','removeInstance','finish','cache','flowStopConversation','):\x20Ler\x20mensagem','findByIdAndUpdate','-instances'];a0_0x5a17=function(){return _0x52fb4c;};return a0_0x5a17();}$['ENABLED']&&$e[a0_0x5a7632(0x293)](a0_0x5a7632(0x725)+T[a0_0x5a7632(0x100)]);var me=$[a0_0x5a7632(0x446)]?$['CONNECTION'][a0_0x5a7632(0x2ed)]?Se[a0_0x5a7632(0x1c5)][a0_0x5a7632(0x2a5)]($[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x2ed)],{'dbName':a0_0x5a7632(0x2fe)}):Se[a0_0x5a7632(0x1c5)][a0_0x5a7632(0x2a5)](a0_0x5a7632(0x299)+$['CONNECTION'][a0_0x5a7632(0x527)]+':'+$[a0_0x5a7632(0x6e4)]['PORT']+a0_0x5a7632(0x488),{'user':$[a0_0x5a7632(0x6e4)]['USER'],'pass':$[a0_0x5a7632(0x6e4)][a0_0x5a7632(0x3ce)],'dbName':a0_0x5a7632(0x630)}):null;me&&$e[a0_0x5a7632(0x293)]('ON\x20-\x20dbName:\x20'+me[a0_0x5a7632(0x100)]),process['on'](a0_0x5a7632(0x292),()=>{const _0x1fd651=a0_0x5a7632;T&&T[_0x1fd651(0x4fb)](()=>{const _0x33fdb9=_0x1fd651;$e[_0x33fdb9(0x293)]('Database\x20connection\x20closed.');}),me&&me['close'](()=>{const _0x1c384a=_0x1fd651;$e[_0x1c384a(0x293)](_0x1c384a(0x1ee));});});var Kr=new ke['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qr=new ke[(a0_0x5a7632(0x44c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Kr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Yr=new ke[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Ks=_0x59eab1=>{const _0x129d4e=a0_0x5a7632;let _0x5349e7='z_'+_0x59eab1+_0x129d4e(0x567);return T?.[_0x129d4e(0x5bc)](_0x129d4e(0x7a5),Yr,_0x5349e7);},Qs=require(a0_0x5a7632(0x13a)),Xr=new Qs[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x351154=>{const _0x1e5f7b=a0_0x5a7632;let _0x652168='z_'+_0x351154+_0x1e5f7b(0x418);return T?.[_0x1e5f7b(0x5bc)](_0x1e5f7b(0x4d7),Xr,_0x652168);},Xs=require(a0_0x5a7632(0x13a)),ls=class{},Zr=new Xs[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=me?.[a0_0x5a7632(0x5bc)](ls[a0_0x5a7632(0x510)],Zr,a0_0x5a7632(0x275)),ea=require(a0_0x5a7632(0x13a)),ei=new ea[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ta=_0x4615e7=>{const _0x358057=a0_0x5a7632;let _0x3cd454='z_'+_0x4615e7+_0x358057(0x681);return T?.[_0x358057(0x5bc)](_0x358057(0x795),ei,_0x3cd454);},sa=require(a0_0x5a7632(0x13a)),us=class{},ti=new sa[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=T?.[a0_0x5a7632(0x5bc)](us['name'],ti,'authentication'),ra=require(a0_0x5a7632(0x13a)),ds=class{},ia=new ra[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x5a7632(0x6dd)](a0_0x5a7632(0x3ad),function(_0x161791){const _0x1e62f7=a0_0x5a7632;delete this['flowActive'],delete this[_0x1e62f7(0x69a)],delete this[_0x1e62f7(0x6b1)],delete this[_0x1e62f7(0x64a)],delete this[_0x1e62f7(0x3c9)],_0x161791();});var oa=T?.[a0_0x5a7632(0x5bc)](ds[a0_0x5a7632(0x510)],ia,'webhook'),k=require(a0_0x5a7632(0x13a)),na=require(a0_0x5a7632(0x126)),Le=class{},ca=new k[(a0_0x5a7632(0x44c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ps=new k[(a0_0x5a7632(0x44c))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new k[(a0_0x5a7632(0x44c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5a7632(0x33a)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5a7632(0x65d)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5a7632(0x6ce)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x5a7632(0x44c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new k[(a0_0x5a7632(0x44c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),ri=new k['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ua=new k['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ws=new k[(a0_0x5a7632(0x44c))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new k['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),hs=class{},je=new k[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x7cc086=a0_0x5a7632;return _0x7cc086(0x766)+Math[_0x7cc086(0x171)]()[_0x7cc086(0x1ce)](0x24)[_0x7cc086(0x51c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]}});je['pre'](a0_0x5a7632(0x3ad),function(_0x48082e){const _0x19ae2e=a0_0x5a7632;let _0x9e0ff5=new Set(),_0x1af9e8=new Set(this[_0x19ae2e(0x7a4)]?.[_0x19ae2e(0x2ca)](_0x2ddc4d=>_0x2ddc4d[_0x19ae2e(0x510)])),_0x2be73a=JSON[_0x19ae2e(0x68d)](this),_0x1ff33c=/{{(?!_)([^}]*)}}/g,_0x4f398f;for(;(_0x4f398f=_0x1ff33c[_0x19ae2e(0x596)](_0x2be73a))!==null;)_0x1af9e8[_0x19ae2e(0x167)](_0x4f398f[0x1])||_0x9e0ff5[_0x19ae2e(0x17b)](_0x4f398f[0x1]);_0x9e0ff5[_0x19ae2e(0x214)]>0x0?(console['warn'](_0x19ae2e(0x274),Array[_0x19ae2e(0x49e)](_0x9e0ff5)),this[_0x19ae2e(0x382)]=Array['from'](_0x9e0ff5)):this[_0x19ae2e(0x382)]=[],_0x48082e();}),je[a0_0x5a7632(0x6dd)](a0_0x5a7632(0x3a0),function(_0x5dcbef){const _0x269769=a0_0x5a7632;let _0x549b8e=this['getUpdate']();if(_0x549b8e&&typeof _0x549b8e==_0x269769(0x504)&&_0x269769(0x1d3)in _0x549b8e){let _0x3412ab=_0x549b8e[_0x269769(0x1d3)];if(_0x3412ab){let _0x5773e2=new Set(),_0x193227=new Set(_0x3412ab[_0x269769(0x7a4)]?.[_0x269769(0x2ca)](_0x10843d=>_0x10843d[_0x269769(0x510)])),_0xfe4938=JSON[_0x269769(0x68d)](_0x3412ab),_0x4a061a=/{{(?!_)([^}]*)}}/g,_0x21fc46;for(;(_0x21fc46=_0x4a061a[_0x269769(0x596)](_0xfe4938))!==null;)_0x193227['has'](_0x21fc46[0x1])||_0x5773e2[_0x269769(0x17b)](_0x21fc46[0x1]);_0x5773e2['size']>0x0?(console[_0x269769(0xff)](_0x269769(0x274),Array[_0x269769(0x49e)](_0x5773e2)),_0x3412ab[_0x269769(0x382)]=Array['from'](_0x5773e2)):_0x3412ab[_0x269769(0x382)]=[],this[_0x269769(0x301)]({'$set':_0x3412ab});}}_0x5dcbef();});var pa=_0x4423a2=>{const _0x39338c=a0_0x5a7632;let _0x3ce91d='z_'+_0x4423a2+_0x39338c(0x66e);return T?.[_0x39338c(0x5bc)](_0x39338c(0x250),je,_0x3ce91d);},ha=T?.[a0_0x5a7632(0x5bc)](hs[a0_0x5a7632(0x510)],je,'flow'),ii=new k[(a0_0x5a7632(0x44c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ri]},{'_id':!0x1}),gs=class{},ga=new k[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]},'chatLog':ii,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5a7632(0x29a)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5a7632(0x6ce)},'waitingMenu_replyOptions':{'type':[ps],'default':[]}}),ma=_0x69be3=>{const _0x237b61=a0_0x5a7632;let _0x3d81d6='z_'+_0x69be3+'_FlowHistorico';return T?.[_0x237b61(0x5bc)]('ConversationModel',ga,_0x3d81d6);},fa=T?.[a0_0x5a7632(0x5bc)](gs['name'],ga,a0_0x5a7632(0x6e6)),ms=class{},oi=new k[(a0_0x5a7632(0x44c))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new k[(a0_0x5a7632(0x44c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),wa=new k[(a0_0x5a7632(0x44c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x5a7632(0x787)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[oi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x5a0647=>{const _0x1afbfa=a0_0x5a7632;let _0x58a6c7='z_'+_0x5a0647+_0x1afbfa(0x68e);return T?.[_0x1afbfa(0x5bc)](_0x1afbfa(0x354),wa,_0x58a6c7);},ba=T?.['model'](ms[a0_0x5a7632(0x510)],wa,a0_0x5a7632(0x610)),fs=class{},ci=new k['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),li=new k[(a0_0x5a7632(0x44c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5a7632(0x134)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ui=new k['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),di=new k[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ui]},'customFields':{'type':[ci]},'flowConfig':{'type':li,'default':{}}}),Fe=T?.[a0_0x5a7632(0x5bc)](fs[a0_0x5a7632(0x510)],di,a0_0x5a7632(0x15d)),Sa=require(a0_0x5a7632(0x13a)),pi=new Sa[(a0_0x5a7632(0x44c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x39af29=>{const _0x4a2704=a0_0x5a7632;let _0x38021='z_'+_0x39af29+_0x4a2704(0x5e7);return T?.[_0x4a2704(0x5bc)](_0x4a2704(0x4e6),pi,_0x38021);},D=class{constructor(_0x498570){const _0x8e85bd=a0_0x5a7632;this[_0x8e85bd(0x474)]=_0x498570[_0x8e85bd(0x711)](_0x8e85bd(0x771));}};function A(_0x26c580){const _0xca5a76=a0_0x5a7632;let _0x4eace9={};for(let [_0x172b71,_0xfcef03]of Object[_0xca5a76(0x269)](_0x26c580))if(typeof _0xfcef03=='object'&&!Array['isArray'](_0xfcef03)){for(let [_0x2bea63,_0x122544]of Object[_0xca5a76(0x269)](_0xfcef03))_0x4eace9[_0x172b71+'.'+_0x2bea63]=_0x122544;}else _0x4eace9[_0x172b71]=_0xfcef03;return _0x4eace9;}var Ue=class{constructor(_0x58dde0,_0x2e05a9,_0x1f5028,_0x240dab,_0x518fc3,_0x2b75af,_0x2885eb,_0x5417fc,_0x254be7,_0x3e3324,_0x1a3b2f,_0x4c5e6f){const _0x54a99a=a0_0x5a7632;this[_0x54a99a(0x6f6)]=_0x58dde0,this[_0x54a99a(0x458)]=_0x2e05a9,this['contact']=_0x1f5028,this[_0x54a99a(0x2e6)]=_0x240dab,this['webhook']=_0x518fc3,this['auth']=_0x2b75af,this[_0x54a99a(0x518)]=_0x2885eb,this[_0x54a99a(0x6e6)]=_0x5417fc,this[_0x54a99a(0x63b)]=_0x254be7,this[_0x54a99a(0x39f)]=_0x3e3324,this[_0x54a99a(0x23a)]=_0x1a3b2f,this['dbClient']=_0x4c5e6f;}get['dbServer'](){return this['dbClient'];}},qe=class{},Je=class extends D{[a0_0x5a7632(0x173)](_0x1af5bc){return ta(_0x1af5bc);}async[a0_0x5a7632(0x4bf)](_0x662bc1,_0x5b4a9a){const _0xae3e12=a0_0x5a7632;if(_0x662bc1[_0xae3e12(0x4e4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xae3e12(0x173)](_0x5b4a9a)[_0xae3e12(0x5f2)]([..._0x662bc1]))[_0xae3e12(0x4e4)]};}catch(_0xd8601a){return _0xd8601a;}}async[a0_0x5a7632(0x6c4)](_0x5b0fef,_0x5d505b){const _0x1f3eb1=a0_0x5a7632;try{let _0x48d54c=this[_0x1f3eb1(0x173)](_0x5d505b),_0x285e26=A(_0x5b0fef[_0x1f3eb1(0x701)]);return await _0x48d54c[_0x1f3eb1(0x6c4)](_0x285e26)[_0x1f3eb1(0x155)]({'messageTimestamp':-0x1})[_0x1f3eb1(0x600)](_0x5b0fef?.[_0x1f3eb1(0x600)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x485484,_0x56242c){const _0x316a8c=a0_0x5a7632;try{let _0xd0c913=this[_0x316a8c(0x173)](_0x56242c),_0x295ce2=A(_0x485484[_0x316a8c(0x701)]);await _0xd0c913['deleteMany'](_0x295ce2);}catch(_0x612a2c){console[_0x316a8c(0x7aa)](_0x612a2c);}}async[a0_0x5a7632(0x703)](_0x591e6e,_0xeaf182,_0x7e612){const _0x155c42=a0_0x5a7632;try{let _0xb7e7e7=this[_0x155c42(0x173)](_0x7e612),_0x4e04bc=A(_0x591e6e[_0x155c42(0x701)]);return await _0xb7e7e7['findOneAndUpdate'](_0x4e04bc,{'$set':_0xeaf182},{'new':!0x0});}catch(_0x1d8c52){throw console[_0x155c42(0x7aa)](_0x1d8c52),_0x1d8c52;}}async[a0_0x5a7632(0x5f2)](_0x5f3d1c,_0x1e257f){const _0x213385=a0_0x5a7632;if(_0x5f3d1c[_0x213385(0x4e4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x213385(0x173)](_0x1e257f)['insertMany']([..._0x5f3d1c]))[_0x213385(0x4e4)]};}catch(_0x5a70eb){return console[_0x213385(0x1c8)](_0x213385(0x67a),_0x5a70eb),_0x5a70eb;}}async['deleteAll'](_0x46729d){const _0x2a0184=a0_0x5a7632;try{return await this['getMessageModelForOwner'](_0x46729d)[_0x2a0184(0x620)][_0x2a0184(0x5a3)](),{'success':!0x0};}catch(_0xe212d5){return console[_0x2a0184(0x7aa)](_0xe212d5),{'success':!0x1,'error':_0xe212d5};}}},Rr=O(require(a0_0x5a7632(0x14c))),m=O(require(a0_0x5a7632(0x6a0))),Te=require('fs'),J=O(require(a0_0x5a7632(0x686))),Z=O(require(a0_0x5a7632(0x302))),Tr=require('uuid'),Or=O(require(a0_0x5a7632(0x61f))),Ar=O(require(a0_0x5a7632(0x12b))),Ea=['imageMessage',a0_0x5a7632(0x24e),a0_0x5a7632(0x201),a0_0x5a7632(0x3bb),a0_0x5a7632(0x46f)],Ma=['ephemeralMessage','documentWithCaptionMessage',a0_0x5a7632(0x1c2),a0_0x5a7632(0x137)],Ts=require('os'),Pt=O(require(a0_0x5a7632(0x7a6))),jt=require(a0_0x5a7632(0x260)),$t=require('node-mime-types'),le=O(require(a0_0x5a7632(0x13a))),P=require(a0_0x5a7632(0x165)),fe=class{constructor(_0x4c161f,_0x101eb8,_0x1926a0){const _0x388849=a0_0x5a7632;this[_0x388849(0x383)]=_0x4c161f,this[_0x388849(0x6e9)]=_0x101eb8,this['name']=_0x1926a0;}},Ve=class{},Be=class{},Ce=class{},Ge=class{},We=class{},we=class{},ze=class{},He=class{},Ke=class{},Qe=class{},Ot=O(require(a0_0x5a7632(0x60f))),va=require('fs'),Na=require(a0_0x5a7632(0x686));async function Ye(_0x428bad){const _0x50593c=a0_0x5a7632;let _0x51c70f=B[_0x50593c(0x2bc)][_0x428bad];if($[_0x50593c(0x446)]){let _0x4e5781=T[_0x50593c(0x3df)]()['db']($['CONNECTION']['DB_PREFIX_NAME']+_0x50593c(0x64d))[_0x50593c(0x620)](_0x428bad);return _0x51c70f||(await _0x4e5781[_0x50593c(0x6c4)]({})[_0x50593c(0x2af)]())[_0x50593c(0x4e4)]>0x0;}return _0x51c70f||(0x0,va['existsSync'])((0x0,Na[_0x50593c(0x41a)])(ge,_0x428bad));}async function Ra(_0x592b09,_0x8e025e,_0x15b58c){const _0x392934=a0_0x5a7632;if(_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)]('/instance/create')||_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)](_0x392934(0x255))||_0x592b09[_0x392934(0x6a7)]['includes']('/exit')||_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)](_0x392934(0x6fb))||_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)](_0x392934(0x363))||_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)](_0x392934(0x25e))||_0x592b09[_0x392934(0x6a7)][_0x392934(0x3b6)]('/instance/delete'))return _0x15b58c();let _0x3b704b=_0x592b09[_0x392934(0x1f2)];if(!_0x3b704b?.[_0x392934(0x76b)])throw new w('instanceName\x20not\x20provided.');if(!await Ye(_0x3b704b[_0x392934(0x76b)]))throw new L('The\x20'+_0x3b704b[_0x392934(0x76b)]+_0x392934(0x168));_0x15b58c();}async function Ta(_0x5c3912,_0x542c82,_0x5441e0){const _0x115fc2=a0_0x5a7632;if(_0x5c3912['originalUrl']['includes'](_0x115fc2(0x77d))){let _0x2bd1a1=_0x5c3912[_0x115fc2(0x5af)];if(await Ye(_0x2bd1a1['instanceName']))throw new K(_0x115fc2(0x3c4)+_0x2bd1a1[_0x115fc2(0x76b)]+'\x20is\x20already\x20in\x20use.');B[_0x115fc2(0x2bc)][_0x2bd1a1[_0x115fc2(0x76b)]]&&delete B['waInstances'][_0x2bd1a1[_0x115fc2(0x76b)]];}_0x5441e0();}var Oa=require(a0_0x5a7632(0x165)),Aa=O(require(a0_0x5a7632(0x57d))),Xe=a0_0x5a7632(0x21f),gi=new v('GUARD');async function mi(_0x2a20a7,_0x4c958c,_0x4f05f7){const _0x57af11=a0_0x5a7632;let _0x326c09=_0x2a20a7[_0x57af11(0x711)](_0x57af11(0x388));if(_0x326c09&&b[_0x57af11(0x711)](_0x57af11(0x4b0))['API_KEY'][_0x57af11(0x2be)]!==_0x326c09)throw new te();if(b['get'](_0x57af11(0x4b0))[_0x57af11(0x3c6)][_0x57af11(0x2be)]===_0x326c09)return _0x4f05f7();if((_0x2a20a7['originalUrl'][_0x57af11(0x3b6)](_0x57af11(0x77d))||_0x2a20a7['originalUrl'][_0x57af11(0x3b6)](_0x57af11(0x255)))&&!_0x326c09)throw new K(_0x57af11(0x76d),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x493ae6=b['get'](_0x57af11(0x4b0))['JWT'];try{let [_0x397da2,_0x3082b5]=_0x2a20a7['get'](_0x57af11(0x3d6))[_0x57af11(0x323)]('\x20');if(_0x397da2['toLowerCase']()!=='bearer')throw new te();if(!(0x0,Oa[_0x57af11(0x6d3)])(_0x3082b5))throw new te();let _0x3774e0=_0x2a20a7[_0x57af11(0x1f2)],_0x16f7a5=Aa[_0x57af11(0x1c5)]['verify'](_0x3082b5,_0x493ae6[_0x57af11(0x109)],{'ignoreExpiration':_0x493ae6[_0x57af11(0x3e3)]===0x0});if(_0x3774e0[_0x57af11(0x76b)]!==_0x16f7a5[_0x57af11(0x76b)]||Xe!==_0x16f7a5[_0x57af11(0x48f)])throw new te();return _0x4f05f7();}catch(_0x16f7d9){throw gi[_0x57af11(0x7aa)](_0x16f7d9),new te();}}async function fi(_0xe83a81,_0x462322,_0x2d0161){const _0x28d33e=a0_0x5a7632;let _0x287e78=b['get']('AUTHENTICATION')['API_KEY'],_0x245dab=_0xe83a81[_0x28d33e(0x711)](_0x28d33e(0x388));if(_0x287e78[_0x28d33e(0x2be)]===_0x245dab)return _0x2d0161();if(_0xe83a81[_0x28d33e(0x6a7)][_0x28d33e(0x3b6)](_0x28d33e(0x77d))){let _0x15c957=Ze,_0x1e107a=_0xe83a81['body'][_0x28d33e(0x76b)];if(_0x15c957&&_0x1e107a[_0x28d33e(0x2d3)]()[_0x28d33e(0x347)](_0x15c957[_0x28d33e(0x2d3)]()))return _0x2d0161();if(!_0x245dab)throw new K(_0x28d33e(0x76d),_0x28d33e(0x760));}if(_0xe83a81['originalUrl'][_0x28d33e(0x3b6)](_0x28d33e(0x255))&&!_0x245dab)throw new K(_0x28d33e(0x76d),_0x28d33e(0x760));if(_0xe83a81[_0x28d33e(0x6a7)]['includes'](_0x28d33e(0x462))&&!_0x245dab)throw new K(_0x28d33e(0x76d),_0x28d33e(0x760));if(_0xe83a81[_0x28d33e(0x6a7)][_0x28d33e(0x3b6)](_0x28d33e(0x6fb))&&!_0x245dab)throw new K('Missing\x20global\x20api\x20key',_0x28d33e(0x760));try{let _0x2fb6e7=_0xe83a81['params'],_0x2920c7=await ue[_0x28d33e(0x335)][_0x28d33e(0x6c4)](_0x2fb6e7[_0x28d33e(0x76b)]);if(_0x2920c7&&_0x2920c7[_0x28d33e(0x388)]===_0x245dab)return _0x2d0161();}catch{}throw new te();}var Ia={'jwt':mi,'apikey':fi},ur=require('express'),E=require(a0_0x5a7632(0x126)),C=(..._0xecd41f)=>{const _0x34c5e1=a0_0x5a7632;let _0x347a16={};return _0xecd41f[_0x34c5e1(0x16d)](_0x3c872f=>_0x347a16[_0x3c872f]={'minLength':0x1,'description':_0x34c5e1(0x5ea)+_0x3c872f+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0xecd41f]}},'then':{'properties':_0x347a16}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'instanceName':{'type':a0_0x5a7632(0x2dc)}},...C('instanceName')},cc={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'oldToken':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x50f)],...C(a0_0x5a7632(0x50f))},lc={'properties':{'key':{'type':a0_0x5a7632(0x504),'properties':{'id':{'type':a0_0x5a7632(0x2dc)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5a7632(0x619),a0_0x5a7632(0x41c)],...C('id','remoteJid')},'message':{'type':a0_0x5a7632(0x504)}}},Q={'properties':{'delay':{'type':a0_0x5a7632(0x6ea),'description':a0_0x5a7632(0x1cb)},'presence':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x209),a0_0x5a7632(0x557),a0_0x5a7632(0x59d),a0_0x5a7632(0x76a),a0_0x5a7632(0x692)]}}},z={'type':a0_0x5a7632(0x2dc),'pattern':a0_0x5a7632(0x156),'description':a0_0x5a7632(0x1af)},xa={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x5a7632(0x504),'properties':{'text':{'type':'string'}},'required':[a0_0x5a7632(0x142)],...C(a0_0x5a7632(0x142))}},'required':['textMessage',a0_0x5a7632(0x744)]},Da={'type':'string','pattern':a0_0x5a7632(0x272),'description':a0_0x5a7632(0x1af)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...Da},'options':{...Q},'textMessage':{'type':a0_0x5a7632(0x504),'properties':{'text':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x142)],...C(a0_0x5a7632(0x142))}},'required':[a0_0x5a7632(0x695),a0_0x5a7632(0x744)]},dc={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...Da},'options':{...Q},'mediaMessage':{'type':a0_0x5a7632(0x504),'properties':{'mediatype':{'type':a0_0x5a7632(0x2dc),'enum':['image','document',a0_0x5a7632(0x192),a0_0x5a7632(0x66d)]},'media':{'type':a0_0x5a7632(0x2dc)},'fileName':{'type':a0_0x5a7632(0x2dc)},'caption':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x585),a0_0x5a7632(0x693)],...C(a0_0x5a7632(0x4c8),a0_0x5a7632(0x113),a0_0x5a7632(0x693))}},'required':[a0_0x5a7632(0x2ae),a0_0x5a7632(0x744)]},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x5a7632(0x504),'properties':{'image':{'type':a0_0x5a7632(0x2dc)}},'required':['image'],...C(a0_0x5a7632(0x613))}},'required':[a0_0x5a7632(0x46f),a0_0x5a7632(0x744)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'statusMessage':{'type':a0_0x5a7632(0x504),'properties':{'type':{'type':a0_0x5a7632(0x2dc),'enum':['text',a0_0x5a7632(0x613),a0_0x5a7632(0x66d),'video']},'content':{'type':'string'},'caption':{'type':a0_0x5a7632(0x2dc)},'backgroundColor':{'type':a0_0x5a7632(0x2dc)},'font':{'type':a0_0x5a7632(0x6ea),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x2dc),'pattern':a0_0x5a7632(0x7b1),'description':a0_0x5a7632(0x66b)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x5a7632(0x32e),a0_0x5a7632(0x489)],...C(a0_0x5a7632(0x32e),'content')}},'required':['statusMessage']},$a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x5a7632(0x504),'properties':{'mediatype':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x613),'document',a0_0x5a7632(0x192),a0_0x5a7632(0x66d)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x5a7632(0x585),a0_0x5a7632(0x693)],...C(a0_0x5a7632(0x4c8),a0_0x5a7632(0x113),a0_0x5a7632(0x693))}},'required':[a0_0x5a7632(0x2ae),a0_0x5a7632(0x744)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x5a7632(0x504),'properties':{'audio':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x66d)],...C(a0_0x5a7632(0x66d))}},'required':[a0_0x5a7632(0x201),a0_0x5a7632(0x744)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'pollMessage':{'type':a0_0x5a7632(0x504),'properties':{'name':{'type':a0_0x5a7632(0x2dc)},'selectableCount':{'type':a0_0x5a7632(0x744)},'values':{'type':a0_0x5a7632(0x707),'minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount',a0_0x5a7632(0x19e)],...C(a0_0x5a7632(0x510),a0_0x5a7632(0x3c8),'values')}},'required':[a0_0x5a7632(0x744),a0_0x5a7632(0x6be)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'menuMessage':{'type':a0_0x5a7632(0x504),'properties':{'text':{'type':a0_0x5a7632(0x2dc)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5a7632(0x142),'choices'],...C(a0_0x5a7632(0x142),'choices')}},'required':[a0_0x5a7632(0x744),'menuMessage']},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x5a7632(0x504),'properties':{'title':{'type':a0_0x5a7632(0x2dc)},'description':{'type':a0_0x5a7632(0x2dc)},'footerText':{'type':a0_0x5a7632(0x2dc)},'buttons':{'type':a0_0x5a7632(0x707),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x504),'properties':{'buttonText':{'type':a0_0x5a7632(0x2dc)},'buttonId':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x224),a0_0x5a7632(0x621)],...C(a0_0x5a7632(0x224),a0_0x5a7632(0x621))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x5a7632(0x2dc)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x613),a0_0x5a7632(0x5a9),'video']}},'required':[a0_0x5a7632(0x693),a0_0x5a7632(0x585)],...C(a0_0x5a7632(0x693),a0_0x5a7632(0x4c8))}},'required':[a0_0x5a7632(0x4ec),a0_0x5a7632(0x779)],...C(a0_0x5a7632(0x4ec),a0_0x5a7632(0x6a5))}},'required':[a0_0x5a7632(0x744),a0_0x5a7632(0x35b)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x5a7632(0x504),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x5a7632(0x744)},'name':{'type':a0_0x5a7632(0x2dc)},'address':{'type':a0_0x5a7632(0x2dc)}},'required':['latitude',a0_0x5a7632(0x40a)],...C(a0_0x5a7632(0x510),a0_0x5a7632(0x73e))}},'required':[a0_0x5a7632(0x744),a0_0x5a7632(0x525)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x5a7632(0x504),'properties':{'title':{'type':a0_0x5a7632(0x2dc)},'description':{'type':a0_0x5a7632(0x2dc)},'footerText':{'type':a0_0x5a7632(0x2dc)},'buttonText':{'type':a0_0x5a7632(0x2dc)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x504),'properties':{'title':{'type':a0_0x5a7632(0x2dc)},'rows':{'type':a0_0x5a7632(0x707),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x504),'properties':{'title':{'type':a0_0x5a7632(0x2dc)},'description':{'type':a0_0x5a7632(0x2dc)},'rowId':{'type':'string'}},'required':['title',a0_0x5a7632(0x635)],...C(a0_0x5a7632(0x4ec),a0_0x5a7632(0x635))}}},'required':[a0_0x5a7632(0x4ec),a0_0x5a7632(0x47e)],...C('title')}}},'required':[a0_0x5a7632(0x4ec),a0_0x5a7632(0x6a5),a0_0x5a7632(0x224),a0_0x5a7632(0x34d)],...C(a0_0x5a7632(0x4ec),a0_0x5a7632(0x6a5),a0_0x5a7632(0x224),a0_0x5a7632(0x20e))}},'required':['number',a0_0x5a7632(0x34b)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x5a7632(0x707),'items':{'type':a0_0x5a7632(0x504),'properties':{'fullName':{'type':a0_0x5a7632(0x2dc)},'phoneNumber':{'type':a0_0x5a7632(0x2dc),'minLength':0xa}},'required':[a0_0x5a7632(0x1ed),a0_0x5a7632(0x35d)],...C(a0_0x5a7632(0x1ed))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x5a7632(0x504),'properties':{'key':{'type':a0_0x5a7632(0x504),'properties':{'id':{'type':a0_0x5a7632(0x2dc)},'remoteJid':{'type':a0_0x5a7632(0x2dc)},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x5a7632(0x41c)],...C('id',a0_0x5a7632(0x619))},'reaction':{'type':'string'}},'required':[a0_0x5a7632(0x331),a0_0x5a7632(0x1e7)],...C(a0_0x5a7632(0x1e7))}},'required':[a0_0x5a7632(0x746)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x2dc),'pattern':a0_0x5a7632(0x7b1),'description':a0_0x5a7632(0x75e)}}}},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x5a7632(0x707),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5a7632(0x2dc)},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x5a7632(0x41c),'remoteJid'],...C('id',a0_0x5a7632(0x619))}}},'required':[a0_0x5a7632(0x4f3)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'privacySettings':{'type':a0_0x5a7632(0x504),'properties':{'readreceipts':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x172),a0_0x5a7632(0x367)]},'profile':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x172),a0_0x5a7632(0x2ee),a0_0x5a7632(0x43a),a0_0x5a7632(0x367)]},'status':{'type':'string','enum':['all','contacts',a0_0x5a7632(0x43a),'none']},'online':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x172),a0_0x5a7632(0x2db)]},'last':{'type':'string','enum':[a0_0x5a7632(0x172),a0_0x5a7632(0x2ee),'contact_blacklist',a0_0x5a7632(0x367)]},'groupadd':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x172),a0_0x5a7632(0x2ee),a0_0x5a7632(0x43a),a0_0x5a7632(0x367)]}},'required':[a0_0x5a7632(0x106),a0_0x5a7632(0x234),'status','online',a0_0x5a7632(0x3d2),a0_0x5a7632(0x75c)],...C(a0_0x5a7632(0x106),a0_0x5a7632(0x234),a0_0x5a7632(0x5cd),a0_0x5a7632(0x52a),'last',a0_0x5a7632(0x75c))}},'required':[a0_0x5a7632(0x448)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x5a7632(0x504),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5a7632(0x2dc)},'remoteJid':{'type':a0_0x5a7632(0x2dc)},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5a7632(0x41c),a0_0x5a7632(0x619)],...C('id',a0_0x5a7632(0x619))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x5a7632(0x331)],...C(a0_0x5a7632(0x720))},'archive':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':[a0_0x5a7632(0x1de),a0_0x5a7632(0x593)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'id':{'type':a0_0x5a7632(0x2dc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5a7632(0x2dc)},'participant':{'type':a0_0x5a7632(0x2dc)}},'required':['id','fromMe',a0_0x5a7632(0x619)],...C('id','remoteJid','participant')},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5a7632(0x2dc),'minLength':0x1},'pushName':{'type':a0_0x5a7632(0x2dc),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x5a7632(0x21b),'id',a0_0x5a7632(0x581))}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'name':{'type':a0_0x5a7632(0x2dc)}},...C('name')},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x5a7632(0x2dc)}},...C('status')},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{'type':a0_0x5a7632(0x2dc)},'picture':{'type':a0_0x5a7632(0x2dc)}}},Xa={'type':a0_0x5a7632(0x504),'properties':{'wuid':{'type':a0_0x5a7632(0x2dc)},'name':{'type':a0_0x5a7632(0x2dc)},'picture':{'type':a0_0x5a7632(0x2dc)},'status':{'type':a0_0x5a7632(0x2dc)},'isBusiness':{'type':a0_0x5a7632(0x2e0)}}},Za={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5a7632(0x2dc),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x5a7632(0x41c),a0_0x5a7632(0x619),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5a7632(0x2dc),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5a7632(0x504)}},...C(a0_0x5a7632(0x21b))},'limit':{'type':a0_0x5a7632(0x6ea)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5a7632(0x2dc)},'remoteJid':{'type':a0_0x5a7632(0x2dc)},'id':{'type':a0_0x5a7632(0x2dc)},'fromMe':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5a7632(0x2dc)},'status':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x41d),a0_0x5a7632(0x4ab),a0_0x5a7632(0x4b2),a0_0x5a7632(0x56d),'READ',a0_0x5a7632(0x6cd)]}},...C('_id',a0_0x5a7632(0x619),'id',a0_0x5a7632(0x5cd))},'limit':{'type':a0_0x5a7632(0x6ea)}}},er={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x5a7632(0x209),a0_0x5a7632(0x557),a0_0x5a7632(0x59d),a0_0x5a7632(0x76a),'paused']}},'required':[a0_0x5a7632(0x5c9),'number']},tr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x5a7632(0x2dc)},'description':{'type':a0_0x5a7632(0x2dc)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x5a7632(0x707),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x2dc),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x5a7632(0x4ed)}}},'required':[a0_0x5a7632(0x281),a0_0x5a7632(0x11b)],...C(a0_0x5a7632(0x281),a0_0x5a7632(0x6a5),a0_0x5a7632(0x5ae))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'groupJid':{'type':a0_0x5a7632(0x2dc),'pattern':a0_0x5a7632(0x683)}},'required':['groupJid'],...C(a0_0x5a7632(0x495))},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x5a7632(0x2dc),'enum':[a0_0x5a7632(0x17b),a0_0x5a7632(0x259),a0_0x5a7632(0x3ac),a0_0x5a7632(0x26f),a0_0x5a7632(0x453),a0_0x5a7632(0x58a)]},'participants':{'type':a0_0x5a7632(0x707),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a7632(0x2dc),'minLength':0xa,'pattern':a0_0x5a7632(0x26c),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['groupJid',a0_0x5a7632(0x5c3),a0_0x5a7632(0x11b)],...C(a0_0x5a7632(0x495),a0_0x5a7632(0x5c3))},ar={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'groupJid':{'type':a0_0x5a7632(0x2dc)},'expiration':{'type':a0_0x5a7632(0x744),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5a7632(0x495),a0_0x5a7632(0x3f3)],...C(a0_0x5a7632(0x495),'expiration')},rr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5a7632(0x2dc)},'image':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x495),a0_0x5a7632(0x613)],...C(a0_0x5a7632(0x495),a0_0x5a7632(0x613))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'groupJid':{'type':a0_0x5a7632(0x2dc)},'description':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x495),a0_0x5a7632(0x6a5)],...C('groupJid',a0_0x5a7632(0x6a5))},or={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x495),a0_0x5a7632(0x510)],...C(a0_0x5a7632(0x495),a0_0x5a7632(0x510))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x5a7632(0x2dc),'enum':['announcement',a0_0x5a7632(0x501),a0_0x5a7632(0x6af),'locked']}},'required':[a0_0x5a7632(0x495),a0_0x5a7632(0x20d)],...C(a0_0x5a7632(0x495),'setting')},cr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x5a7632(0x2e0)},'announce':{'type':a0_0x5a7632(0x2e0)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x5a7632(0x2e0)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x5a7632(0x2dc)},'description':{'type':'string'},'image':{'type':a0_0x5a7632(0x2dc)}}},ys={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x5a7632(0x2dc)}},'required':[a0_0x5a7632(0x4b3)],...C('inviteCode')},lr={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'url':{'type':a0_0x5a7632(0x2dc)},'enabled':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':[a0_0x5a7632(0x67c),a0_0x5a7632(0x6b6)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x5a7632(0x504),'properties':{'local_map':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5a7632(0x2e0),'enum':[!0x0,!0x1]}},'required':[a0_0x5a7632(0x625),'STATUS_INSTANCE',a0_0x5a7632(0x4e8),a0_0x5a7632(0x3eb),a0_0x5a7632(0x2fd),a0_0x5a7632(0x51d),a0_0x5a7632(0x789),a0_0x5a7632(0x570),a0_0x5a7632(0x78d),'CONTACTS_UPDATE',a0_0x5a7632(0x492),'CHATS_SET',a0_0x5a7632(0x6cf),'CHATS_UPDATE',a0_0x5a7632(0x455),'CONNECTION_UPDATE',a0_0x5a7632(0x6cc),a0_0x5a7632(0x25d),a0_0x5a7632(0x667)],...C(a0_0x5a7632(0x625),a0_0x5a7632(0x1bf),a0_0x5a7632(0x4e8),a0_0x5a7632(0x3eb),a0_0x5a7632(0x2fd),a0_0x5a7632(0x51d),a0_0x5a7632(0x789),a0_0x5a7632(0x570),a0_0x5a7632(0x78d),a0_0x5a7632(0x29d),a0_0x5a7632(0x492),a0_0x5a7632(0x45b),a0_0x5a7632(0x6cf),'CHATS_UPDATE',a0_0x5a7632(0x455),'CONNECTION_UPDATE',a0_0x5a7632(0x6cc),a0_0x5a7632(0x25d),a0_0x5a7632(0x667))},et=class{},tt=class extends D{[a0_0x5a7632(0x478)](_0x2b2c0b){return Ys(_0x2b2c0b);}async['insert'](_0x41845d){const _0x2109e0=a0_0x5a7632;if(_0x41845d[_0x2109e0(0x4e4)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x41845d[0x0][_0x2109e0(0x1f5)])['insertMany']([..._0x41845d]))[_0x2109e0(0x4e4)]};}catch(_0x1abf2a){return _0x1abf2a;}}async[a0_0x5a7632(0x7af)](_0x1c5a7c,_0x8c87d4){const _0x514c59=a0_0x5a7632;try{return{'deletedCount':(await this[_0x514c59(0x478)](_0x8c87d4)[_0x514c59(0x5b4)]({..._0x1c5a7c[_0x514c59(0x701)]}))['deletedCount']};}catch(_0x3ccfce){return{'error':_0x3ccfce?.[_0x514c59(0x1ce)]()};}}async[a0_0x5a7632(0x703)](_0x1b72e4,_0xf0de36){const _0x540a40=a0_0x5a7632;try{if(_0x1b72e4[_0x540a40(0x4e4)]===0x0)return;let _0x26b183=this[_0x540a40(0x478)](_0xf0de36),_0x253223=_0x1b72e4[_0x540a40(0x2ca)](_0x3cf367=>({'updateOne':{'filter':{'_id':_0x3cf367['_id'],'owner':_0xf0de36},'update':{..._0x3cf367}}})),{modifiedCount:_0x58d08b}=await _0x26b183[_0x540a40(0x65c)](_0x253223);return{'insertCount':_0x58d08b};}catch{return;}}async[a0_0x5a7632(0x6c4)](_0x3adea4,_0x5dbf8f){const _0x32b35b=a0_0x5a7632;try{let _0x103a4c=this[_0x32b35b(0x478)](_0x5dbf8f),_0x42b068=A(_0x3adea4['where']);return await _0x103a4c[_0x32b35b(0x6c4)](_0x42b068)[_0x32b35b(0x600)](_0x3adea4?.[_0x32b35b(0x600)]??0x0)['lean']();}catch{return[];}}async[a0_0x5a7632(0x48e)](_0xeb3ab9,_0x4c50eb){const _0x5c8593=a0_0x5a7632;try{let _0x51f18e=this['getContactModelForOwner'](_0x4c50eb),_0xfa8cd4=A(_0xeb3ab9[_0x5c8593(0x701)]);return await _0x51f18e['findOne'](_0xfa8cd4)[_0x5c8593(0x6b2)]();}catch{return null;}}async[a0_0x5a7632(0x68c)](_0x6ad77e){const _0x5cbae7=a0_0x5a7632;try{return await this[_0x5cbae7(0x478)](_0x6ad77e)[_0x5cbae7(0x620)][_0x5cbae7(0x5a3)](),{'success':!0x0};}catch(_0x2fa614){return console[_0x5cbae7(0x7aa)](_0x2fa614),{'success':!0x1,'error':_0x2fa614};}}},st=require('jsonschema'),Ec=require(a0_0x5a7632(0x559)),bs=new v(a0_0x5a7632(0x3a5)),V=class{[a0_0x5a7632(0x315)](_0x416a7e,_0x5a613b=!0x0){const _0x58e6e4=a0_0x5a7632;let _0x599b69='/'+_0x416a7e;return _0x5a613b&&(_0x599b69+=_0x58e6e4(0x550)),_0x599b69;}async[a0_0x5a7632(0x400)](_0x539cd4){const _0x55c6f1=a0_0x5a7632;let {request:_0x420bdb,schema:_0xa6e9bd,ClassRef:_0x5de535,execute:_0x39eca0}=_0x539cd4,_0x469479=new _0x5de535(),_0x2e6d0c=_0x420bdb[_0x55c6f1(0x5af)],_0x17dbf8=_0x420bdb[_0x55c6f1(0x1f2)];_0x420bdb?.[_0x55c6f1(0x5ee)]&&Object[_0x55c6f1(0x769)](_0x420bdb['query'])['length']>0x0&&Object[_0x55c6f1(0x58f)](_0x17dbf8,_0x420bdb[_0x55c6f1(0x5ee)]),_0x420bdb['originalUrl']['includes'](_0x55c6f1(0x77d))&&Object[_0x55c6f1(0x58f)](_0x17dbf8,_0x2e6d0c),Object[_0x55c6f1(0x58f)](_0x469479,_0x2e6d0c);let _0x216174=_0xa6e9bd?(0x0,st['validate'])(_0x469479,_0xa6e9bd):{'valid':!0x0,'errors':[]};if(!_0x216174[_0x55c6f1(0x3be)]){let _0x201cef=_0x216174[_0x55c6f1(0x1b8)][_0x55c6f1(0x2ca)](({property:_0x1a26a5,stack:_0x55ac4e,schema:_0x3f0db7})=>{const _0x120620=_0x55c6f1;let _0x290190;return _0x3f0db7[_0x120620(0x6a5)]?_0x290190=_0x3f0db7[_0x120620(0x6a5)]:_0x290190=_0x55ac4e[_0x120620(0x23d)](_0x120620(0x332),''),{'property':_0x1a26a5[_0x120620(0x23d)](_0x120620(0x332),''),'message':_0x290190};});throw bs['error']([..._0x201cef]),new w(..._0x201cef);}return await _0x39eca0(_0x17dbf8,_0x469479);}async[a0_0x5a7632(0x50d)](_0x26fff5){const _0x24eda4=a0_0x5a7632;let {request:_0x131613,ClassRef:_0x5b3115,schema:_0x4b630f,execute:_0x4ba542}=_0x26fff5,_0x13b2c2=_0x131613[_0x24eda4(0x5ee)];if(!_0x13b2c2?.[_0x24eda4(0x495)])throw new w(_0x24eda4(0x240),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x1d14eb=_0x131613['params'],_0x1a6802=_0x131613[_0x24eda4(0x5af)],_0x295fd6=new _0x5b3115();Object[_0x24eda4(0x58f)](_0x1a6802,_0x13b2c2),Object[_0x24eda4(0x58f)](_0x295fd6,_0x1a6802);let _0x146309=(0x0,st['validate'])(_0x295fd6,_0x4b630f);if(!_0x146309[_0x24eda4(0x3be)]){let _0x4f0fd1=_0x146309[_0x24eda4(0x1b8)][_0x24eda4(0x2ca)](({property:_0x362ad6,stack:_0x10fc18,schema:_0x56973d})=>{const _0x3e25a5=_0x24eda4;let _0x3ee5b1;return _0x56973d[_0x3e25a5(0x6a5)]?_0x3ee5b1=_0x56973d[_0x3e25a5(0x6a5)]:_0x3ee5b1=_0x10fc18[_0x3e25a5(0x23d)](_0x3e25a5(0x332),''),{'property':_0x362ad6[_0x3e25a5(0x23d)](_0x3e25a5(0x332),''),'message':_0x3ee5b1};});throw bs[_0x24eda4(0x7aa)]([..._0x4f0fd1]),new w(..._0x4f0fd1);}return await _0x4ba542(_0x1d14eb,_0x295fd6);}async[a0_0x5a7632(0x2c5)](_0x248606){const _0x3a50d2=a0_0x5a7632;let {request:_0x3aa0ee,ClassRef:_0x5ef469,schema:_0x258537,execute:_0x17aac8}=_0x248606,_0x509ee4=_0x3aa0ee[_0x3a50d2(0x5af)];if(!_0x509ee4?.['inviteCode'])throw new w('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x3a50d2(0xf0));let _0x90a7a6=_0x3aa0ee[_0x3a50d2(0x1f2)],_0x49d625=_0x3aa0ee[_0x3a50d2(0x5af)],_0x261371=new _0x5ef469();Object[_0x3a50d2(0x58f)](_0x49d625,_0x509ee4),Object['assign'](_0x261371,_0x49d625);let _0x3e46b5=(0x0,st[_0x3a50d2(0x471)])(_0x261371,_0x258537);if(!_0x3e46b5[_0x3a50d2(0x3be)]){let _0x225b9a=_0x3e46b5[_0x3a50d2(0x1b8)]['map'](({property:_0x5aec45,stack:_0x543e7f,schema:_0x563bd4})=>{const _0x2c9efa=_0x3a50d2;let _0x1d9e7b;return _0x563bd4[_0x2c9efa(0x6a5)]?_0x1d9e7b=_0x563bd4[_0x2c9efa(0x6a5)]:_0x1d9e7b=_0x543e7f[_0x2c9efa(0x23d)]('instance.',''),{'property':_0x5aec45[_0x2c9efa(0x23d)](_0x2c9efa(0x332),''),'message':_0x1d9e7b};});throw bs[_0x3a50d2(0x7aa)]([..._0x225b9a]),new w(..._0x225b9a);}return await _0x17aac8(_0x90a7a6,_0x261371);}},S=class{},Lc=new v(a0_0x5a7632(0xf3)),at=class extends V{constructor(..._0x39b44e){const _0x3b42d5=a0_0x5a7632;super(),this['router']=(0x0,ur['Router'])(),this[_0x3b42d5(0x18e)][_0x3b42d5(0x181)](this['routerPath']('updatePresence'),..._0x39b44e,async(_0x4ef1c8,_0x12f5e4)=>{const _0x4f8ce3=_0x3b42d5;let _0x1eb389=await this[_0x4f8ce3(0x400)]({'request':_0x4ef1c8,'schema':er,'ClassRef':Ve,'execute':(_0x536e42,_0x4b248b)=>_[_0x4f8ce3(0x102)](_0x536e42,_0x4b248b)});return _0x12f5e4[_0x4f8ce3(0x5cd)](0xc9)[_0x4f8ce3(0x598)](_0x1eb389);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)]('whatsappNumbers'),..._0x39b44e,async(_0x41a72b,_0x334e47)=>{const _0xfb8ba6=_0x3b42d5;let _0x4e6b6c=await this[_0xfb8ba6(0x400)]({'request':_0x41a72b,'schema':Ba,'ClassRef':Be,'execute':(_0x553427,_0x135bdc)=>_['whatsappNumber'](_0x553427,_0x135bdc)});return _0x334e47[_0xfb8ba6(0x5cd)](0xc9)['json'](_0x4e6b6c);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)](_0x3b42d5(0x6a6)),..._0x39b44e,async(_0x116411,_0x58dbac)=>{const _0x2f5e03=_0x3b42d5;let _0x316819=await this[_0x2f5e03(0x400)]({'request':_0x116411,'schema':M,'ClassRef':S,'execute':(_0x5936e5,_0x403cb9)=>_[_0x2f5e03(0x6a6)](_0x5936e5,_0x403cb9)});return _0x58dbac[_0x2f5e03(0x5cd)](0xc9)[_0x2f5e03(0x598)](_0x316819);})[_0x3b42d5(0x2c8)](this[_0x3b42d5(0x315)](_0x3b42d5(0x246)),..._0x39b44e,async(_0x1ddfeb,_0x849a51)=>{const _0x37b8f2=_0x3b42d5;let _0x1ab2f3=await this[_0x37b8f2(0x400)]({'request':_0x1ddfeb,'schema':Ga,'ClassRef':ze,'execute':(_0x257d14,_0x178304)=>_[_0x37b8f2(0x2fb)](_0x257d14,_0x178304)});return _0x849a51['status'](0xc9)['json'](_0x1ab2f3);})[_0x3b42d5(0x2c8)](this[_0x3b42d5(0x315)](_0x3b42d5(0x4a4)),..._0x39b44e,async(_0x23a357,_0x36e273)=>{const _0xd74a5c=_0x3b42d5;let _0x4a944f=await this[_0xd74a5c(0x400)]({'request':_0x23a357,'schema':za,'ClassRef':He,'execute':(_0x41d951,_0x262e2c)=>_[_0xd74a5c(0x4a4)](_0x41d951,_0x262e2c)});return _0x36e273[_0xd74a5c(0x5cd)](0xc9)['json'](_0x4a944f);})['delete'](this[_0x3b42d5(0x315)](_0x3b42d5(0x12a)),..._0x39b44e,async(_0x237f53,_0x40ceed)=>{const _0x69647=_0x3b42d5;let _0x4867a3=await this[_0x69647(0x400)]({'request':_0x237f53,'schema':Ha,'ClassRef':Qe,'execute':(_0x2225d1,_0x5bf44f)=>_[_0x69647(0x125)](_0x2225d1,_0x5bf44f)});return _0x40ceed[_0x69647(0x5cd)](0xc9)[_0x69647(0x598)](_0x4867a3);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)](_0x3b42d5(0x202)),..._0x39b44e,async(_0x44bf34,_0x150bcb)=>{const _0x5a5d05=_0x3b42d5;let _0x39905e=await this[_0x5a5d05(0x400)]({'request':_0x44bf34,'schema':Ee,'ClassRef':Ce,'execute':(_0x47048c,_0x12113d)=>_['fetchProfilePicture'](_0x47048c,_0x12113d)});return _0x150bcb[_0x5a5d05(0x5cd)](0xc8)[_0x5a5d05(0x598)](_0x39905e);})['post'](this[_0x3b42d5(0x315)]('fetchProfile'),..._0x39b44e,async(_0x510f98,_0x4903b1)=>{const _0x3caa44=_0x3b42d5;let _0x3c835b=await this['dataValidate']({'request':_0x510f98,'schema':Xa,'ClassRef':Ce,'execute':(_0xa2c65,_0x238119)=>_[_0x3caa44(0x55e)](_0xa2c65,_0x238119)});return _0x4903b1[_0x3caa44(0x5cd)](0xc8)[_0x3caa44(0x598)](_0x3c835b);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)]('findContacts'),..._0x39b44e,async(_0x22f622,_0x19e4a0)=>{const _0x4544f8=_0x3b42d5;let _0x133545=await this['dataValidate']({'request':_0x22f622,'schema':Ka,'ClassRef':et,'execute':(_0x1f3b80,_0x48dd34)=>_[_0x4544f8(0x413)](_0x1f3b80,_0x48dd34)});return _0x19e4a0[_0x4544f8(0x5cd)](0xc8)[_0x4544f8(0x598)](_0x133545);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)](_0x3b42d5(0x216)),..._0x39b44e,async(_0x327b35,_0x2ec5e6)=>{const _0x294062=_0x3b42d5;let _0x3f3b30=await this[_0x294062(0x400)]({'request':_0x327b35,'schema':null,'ClassRef':Object,'execute':(_0x45b686,_0x232e66)=>_[_0x294062(0x216)](_0x45b686,_0x232e66)});return _0x2ec5e6[_0x294062(0x5cd)](0xc9)['json'](_0x3f3b30);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)]('findMessages'),..._0x39b44e,async(_0x3431e0,_0x271309)=>{const _0x1d253b=_0x3b42d5;let _0x368b47=await this[_0x1d253b(0x400)]({'request':_0x3431e0,'schema':Za,'ClassRef':qe,'execute':(_0x1a0103,_0x96d5a6)=>_['fetchMessages'](_0x1a0103,_0x96d5a6)});return _0x271309[_0x1d253b(0x5cd)](0xc8)[_0x1d253b(0x598)](_0x368b47);})[_0x3b42d5(0x711)](this[_0x3b42d5(0x315)](_0x3b42d5(0x36b)),..._0x39b44e,async(_0x126908,_0x2826b0)=>{const _0x12347a=_0x3b42d5;let _0x157868=await this['dataValidate']({'request':_0x126908,'schema':null,'ClassRef':S,'execute':_0x1c9952=>_[_0x12347a(0x31e)](_0x1c9952)});return _0x2826b0[_0x12347a(0x5cd)](0xc8)[_0x12347a(0x598)](_0x157868);})[_0x3b42d5(0x711)](this['routerPath'](_0x3b42d5(0x4cb)),..._0x39b44e,async(_0x3b3c64,_0x58f5ca)=>{const _0x1ccea1=_0x3b42d5;let _0x5d4b61=await this[_0x1ccea1(0x400)]({'request':_0x3b3c64,'schema':null,'ClassRef':S,'execute':_0x26cb85=>_[_0x1ccea1(0x185)](_0x26cb85)});return _0x58f5ca['status'](0xc8)[_0x1ccea1(0x598)](_0x5d4b61);})['put'](this[_0x3b42d5(0x315)](_0x3b42d5(0x2e1)),..._0x39b44e,async(_0x25d177,_0x3bd08b)=>{const _0x5d12d6=_0x3b42d5;let _0x2cac10=await this[_0x5d12d6(0x400)]({'request':_0x25d177,'schema':null,'ClassRef':Array,'execute':(_0x35ebe9,_0x551806)=>_[_0x5d12d6(0x2e1)](_0x35ebe9,_0x551806)});return _0x3bd08b['status'](0xc8)[_0x5d12d6(0x598)](_0x2cac10);})[_0x3b42d5(0x711)](this[_0x3b42d5(0x315)](_0x3b42d5(0x5c5)),..._0x39b44e,async(_0x32c6e2,_0x5147a4)=>{const _0xb5bfef=_0x3b42d5;let _0x198274=await this[_0xb5bfef(0x400)]({'request':_0x32c6e2,'schema':null,'ClassRef':S,'execute':_0x6a5550=>_[_0xb5bfef(0x5c5)](_0x6a5550)});return _0x5147a4[_0xb5bfef(0x5cd)](0xc8)['json'](_0x198274);})[_0x3b42d5(0x2c8)](this[_0x3b42d5(0x315)](_0x3b42d5(0x4d4)),..._0x39b44e,async(_0x10b5db,_0x119619)=>{const _0x21198b=_0x3b42d5;let _0x1bc9d9=await this[_0x21198b(0x400)]({'request':_0x10b5db,'schema':Wa,'ClassRef':Ke,'execute':(_0x34c297,_0x429b87)=>_[_0x21198b(0x4d4)](_0x34c297,_0x429b87)});return _0x119619[_0x21198b(0x5cd)](0xc9)[_0x21198b(0x598)](_0x1bc9d9);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)]('fetchBusinessProfile'),..._0x39b44e,async(_0x1c96cb,_0x5bf1e4)=>{const _0x496e41=_0x3b42d5;let _0x31f538=await this['dataValidate']({'request':_0x1c96cb,'schema':Ee,'ClassRef':we,'execute':(_0x43bf43,_0x5797ba)=>_['fetchBusinessProfile'](_0x43bf43,_0x5797ba)});return _0x5bf1e4[_0x496e41(0x5cd)](0xc8)['json'](_0x31f538);})[_0x3b42d5(0x181)](this[_0x3b42d5(0x315)]('updateProfileName'),..._0x39b44e,async(_0x3b84f7,_0x1dbe02)=>{const _0x1adf74=_0x3b42d5;let _0x516a68=await this[_0x1adf74(0x400)]({'request':_0x3b84f7,'schema':Qa,'ClassRef':Ge,'execute':(_0x5cddb0,_0x3dcce0)=>_['updateProfileName'](_0x5cddb0,_0x3dcce0)});return _0x1dbe02['status'](0xc8)[_0x1adf74(0x598)](_0x516a68);})['post'](this['routerPath'](_0x3b42d5(0x74a)),..._0x39b44e,async(_0x3297f2,_0x4cf7bd)=>{const _0x5bc4d1=_0x3b42d5;let _0x523a9e=await this['dataValidate']({'request':_0x3297f2,'schema':Ya,'ClassRef':We,'execute':(_0x278f88,_0x32ec43)=>_[_0x5bc4d1(0x74a)](_0x278f88,_0x32ec43)});return _0x4cf7bd['status'](0xc8)[_0x5bc4d1(0x598)](_0x523a9e);})[_0x3b42d5(0x2c8)](this['routerPath'](_0x3b42d5(0x3fb)),..._0x39b44e,async(_0x1e5507,_0x299105)=>{const _0x3c031e=_0x3b42d5;let _0x30fe8f=await this[_0x3c031e(0x400)]({'request':_0x1e5507,'schema':Ee,'ClassRef':we,'execute':(_0x59ac52,_0x21c3f9)=>_['updateProfilePicture'](_0x59ac52,_0x21c3f9)});return _0x299105[_0x3c031e(0x5cd)](0xc8)['json'](_0x30fe8f);})[_0x3b42d5(0x7af)](this[_0x3b42d5(0x315)](_0x3b42d5(0x632)),..._0x39b44e,async(_0x33730e,_0x10bf4e)=>{const _0x37773d=_0x3b42d5;let _0x55cacf=await this[_0x37773d(0x400)]({'request':_0x33730e,'schema':Ee,'ClassRef':we,'execute':(_0x57c3cd,_0x1dc56b)=>_[_0x37773d(0x632)](_0x57c3cd,_0x1dc56b)});return _0x10bf4e[_0x37773d(0x5cd)](0xc8)['json'](_0x55cacf);});}},dr=require(a0_0x5a7632(0x60f)),rt=class{},it=class{},ot=class{},nt=class{},ct=class{},lt=class{},Y=class{},ve=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends V{constructor(..._0x24fdce){const _0x5b01b2=a0_0x5a7632;super(),this[_0x5b01b2(0x18e)]=(0x0,dr['Router'])(),this[_0x5b01b2(0x18e)]['post'](this[_0x5b01b2(0x315)](_0x5b01b2(0x6f5)),..._0x24fdce,async(_0x2c8726,_0x12cf81)=>{const _0x368e91=_0x5b01b2;let _0x37a222=await this[_0x368e91(0x400)]({'request':_0x2c8726,'schema':tr,'ClassRef':rt,'execute':(_0x33f8f5,_0xc23377)=>j[_0x368e91(0x476)](_0x33f8f5,_0xc23377)});_0x12cf81[_0x368e91(0x5cd)](0xc9)[_0x368e91(0x598)](_0x37a222);})[_0x5b01b2(0x2c8)](this[_0x5b01b2(0x315)]('updateGroupPicture'),..._0x24fdce,async(_0x5ce740,_0x4a476f)=>{const _0x48ab1d=_0x5b01b2;let _0xd86821=await this[_0x48ab1d(0x50d)]({'request':_0x5ce740,'schema':rr,'ClassRef':it,'execute':(_0x1c8946,_0x30d1c6)=>j['updateGroupPicture'](_0x1c8946,_0x30d1c6)});_0x4a476f['status'](0xc9)[_0x48ab1d(0x598)](_0xd86821);})['put'](this[_0x5b01b2(0x315)](_0x5b01b2(0x2c4)),..._0x24fdce,async(_0x308f6b,_0x1790ae)=>{const _0x4708c6=_0x5b01b2;let _0x4e1418=await this[_0x4708c6(0x50d)]({'request':_0x308f6b,'schema':ir,'ClassRef':ot,'execute':(_0x52d8de,_0x38ad83)=>j[_0x4708c6(0x2c4)](_0x52d8de,_0x38ad83)});_0x1790ae['status'](0xc9)[_0x4708c6(0x598)](_0x4e1418);})[_0x5b01b2(0x2c8)](this[_0x5b01b2(0x315)](_0x5b01b2(0x31f)),..._0x24fdce,async(_0x2d0578,_0x82fa7d)=>{const _0x144fd8=_0x5b01b2;let _0x3ec827=await this['groupValidate']({'request':_0x2d0578,'schema':or,'ClassRef':nt,'execute':(_0x2d043d,_0x57fd49)=>j[_0x144fd8(0x31f)](_0x2d043d,_0x57fd49)});_0x82fa7d[_0x144fd8(0x5cd)](0xc9)[_0x144fd8(0x598)](_0x3ec827);})[_0x5b01b2(0x2c8)](this[_0x5b01b2(0x315)](_0x5b01b2(0x336)),..._0x24fdce,async(_0x4b1744,_0x44fe53)=>{const _0x4e33a2=_0x5b01b2;let _0x43ac37=await this['groupValidate']({'request':_0x4b1744,'schema':cr,'ClassRef':lt,'execute':(_0x27b90a,_0x26feda)=>j[_0x4e33a2(0x336)](_0x27b90a,_0x26feda)});_0x44fe53[_0x4e33a2(0x5cd)](0xc9)[_0x4e33a2(0x598)](_0x43ac37);})[_0x5b01b2(0x2c8)](this['routerPath'](_0x5b01b2(0x4a0)),..._0x24fdce,async(_0x1fe267,_0x336516)=>{const _0x4087fc=_0x5b01b2;let _0x9c8c8c=await this[_0x4087fc(0x50d)]({'request':_0x1fe267,'schema':nr,'ClassRef':ct,'execute':(_0x529435,_0x18d3c0)=>j[_0x4087fc(0x4a0)](_0x529435,_0x18d3c0)});_0x336516[_0x4087fc(0x5cd)](0xc9)[_0x4087fc(0x598)](_0x9c8c8c);})['put'](this[_0x5b01b2(0x315)](_0x5b01b2(0x264)),..._0x24fdce,async(_0x3f5187,_0x1437ef)=>{const _0x173a6d=_0x5b01b2;let _0x4a678f=await this[_0x173a6d(0x50d)]({'request':_0x3f5187,'schema':ar,'ClassRef':dt,'execute':(_0x181de2,_0x1f4ca0)=>j[_0x173a6d(0x264)](_0x181de2,_0x1f4ca0)});_0x1437ef[_0x173a6d(0x5cd)](0xc9)[_0x173a6d(0x598)](_0x4a678f);})[_0x5b01b2(0x711)](this[_0x5b01b2(0x315)](_0x5b01b2(0x232)),..._0x24fdce,async(_0x338da1,_0x16dd4b)=>{const _0x1a1132=_0x5b01b2;let _0x17f340=await this[_0x1a1132(0x50d)]({'request':_0x338da1,'schema':Me,'ClassRef':Y,'execute':(_0x5c3e81,_0x229cbf)=>j[_0x1a1132(0x1d4)](_0x5c3e81,_0x229cbf)});_0x16dd4b[_0x1a1132(0x5cd)](0xc8)[_0x1a1132(0x598)](_0x17f340);})[_0x5b01b2(0x711)](this[_0x5b01b2(0x315)](_0x5b01b2(0x32c)),..._0x24fdce,async(_0x8fea81,_0x1575a8)=>{const _0x2aea38=_0x5b01b2;let _0x2f7fb8=await this[_0x2aea38(0x400)]({'request':_0x8fea81,'schema':M,'ClassRef':S,'execute':_0x18ba6e=>j['findGroups'](_0x18ba6e)});_0x1575a8['status'](0xc8)[_0x2aea38(0x598)](_0x2f7fb8);})['get'](this[_0x5b01b2(0x315)]('participants'),..._0x24fdce,async(_0x186901,_0x92acdd)=>{const _0x23f4b9=_0x5b01b2;let _0x560da7=await this['groupValidate']({'request':_0x186901,'schema':Me,'ClassRef':Y,'execute':(_0x4db7e8,_0x59d56d)=>j[_0x23f4b9(0x562)](_0x4db7e8,_0x59d56d)});_0x92acdd[_0x23f4b9(0x5cd)](0xc8)['json'](_0x560da7);})[_0x5b01b2(0x711)](this[_0x5b01b2(0x315)](_0x5b01b2(0x4b3)),..._0x24fdce,async(_0x55b29e,_0x3322c7)=>{const _0x3cd991=_0x5b01b2;let _0x43dcf3=await this['groupValidate']({'request':_0x55b29e,'schema':Me,'ClassRef':Y,'execute':(_0x34b3c6,_0x44183d)=>j[_0x3cd991(0x4b3)](_0x34b3c6,_0x44183d)});_0x3322c7[_0x3cd991(0x5cd)](0xc8)[_0x3cd991(0x598)](_0x43dcf3);})[_0x5b01b2(0x181)](this['routerPath'](_0x5b01b2(0x4a6)),..._0x24fdce,async(_0x19bcf2,_0x389954)=>{const _0x3a4667=_0x5b01b2;let _0xbaf419=await this[_0x3a4667(0x2c5)]({'request':_0x19bcf2,'schema':ys,'ClassRef':ve,'execute':(_0x3158f3,_0x2b2591)=>j[_0x3a4667(0x183)](_0x3158f3,_0x2b2591)});_0x389954[_0x3a4667(0x5cd)](0xc9)['json'](_0xbaf419);})[_0x5b01b2(0x2c8)](this[_0x5b01b2(0x315)](_0x5b01b2(0x697)),..._0x24fdce,async(_0x44e396,_0x4b1b33)=>{const _0x5990d9=_0x5b01b2;let _0x2a231f=await this[_0x5990d9(0x2c5)]({'request':_0x44e396,'schema':ys,'ClassRef':ve,'execute':(_0x466837,_0x59d803)=>j[_0x5990d9(0x697)](_0x466837,_0x59d803)});_0x4b1b33[_0x5990d9(0x5cd)](0xc9)['json'](_0x2a231f);})[_0x5b01b2(0x2c8)](this[_0x5b01b2(0x315)](_0x5b01b2(0x2a3)),..._0x24fdce,async(_0x2202e7,_0x54307d)=>{const _0x32aef8=_0x5b01b2;let _0x2fd924=await this['groupValidate']({'request':_0x2202e7,'schema':Me,'ClassRef':Y,'execute':(_0x4189e8,_0x27a7c6)=>j[_0x32aef8(0x2a3)](_0x4189e8,_0x27a7c6)});_0x54307d[_0x32aef8(0x5cd)](0xc9)[_0x32aef8(0x598)](_0x2fd924);})[_0x5b01b2(0x2c8)](this['routerPath'](_0x5b01b2(0x440)),..._0x24fdce,async(_0x560ede,_0x1fd691)=>{const _0x287f61=_0x5b01b2;let _0x2681f7=await this[_0x287f61(0x50d)]({'request':_0x560ede,'schema':sr,'ClassRef':ut,'execute':(_0x45d6db,_0x87aaa0)=>j[_0x287f61(0x5d4)](_0x45d6db,_0x87aaa0)});_0x1fd691[_0x287f61(0x5cd)](0xc9)[_0x287f61(0x598)](_0x2681f7);})[_0x5b01b2(0x7af)](this[_0x5b01b2(0x315)](_0x5b01b2(0x179)),..._0x24fdce,async(_0x72f5d6,_0x1460c0)=>{const _0x4eb19d=_0x5b01b2;let _0x7c4df8=await this[_0x4eb19d(0x50d)]({'request':_0x72f5d6,'schema':{},'ClassRef':Y,'execute':(_0x247eb6,_0x35b765)=>j['leaveGroup'](_0x247eb6,_0x35b765)});_0x1460c0[_0x4eb19d(0x5cd)](0xc8)[_0x4eb19d(0x598)](_0x7c4df8);});}},pr=require('express'),ht=class extends V{constructor(_0x483662,..._0xfacb50){const _0x3cbd7a=a0_0x5a7632;super(),this[_0x3cbd7a(0x513)]=_0x483662,this['router']=(0x0,pr[_0x3cbd7a(0x3bd)])();let _0x23ea55=_0x483662['get'](_0x3cbd7a(0x4b0));this[_0x3cbd7a(0x18e)][_0x3cbd7a(0x181)](_0x3cbd7a(0x5c6),..._0xfacb50,async(_0x3d84ee,_0x33da92)=>{const _0x161972=_0x3cbd7a;let {instanceName:_0x210798,apikey:_0x1d7c13,number:_0x1242d5}=_0x3d84ee[_0x161972(0x5af)],_0x1c9dde=await oe[_0x161972(0x609)]({'instanceName':_0x210798,'apikey':_0x1d7c13,'number':_0x1242d5});return _0x33da92[_0x161972(0x5cd)](0xc9)[_0x161972(0x598)](_0x1c9dde);})[_0x3cbd7a(0x2c8)](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x70b)),..._0xfacb50,async(_0xca2e10,_0x462e31)=>{const _0x50162a=_0x3cbd7a;let _0x41cc94=await this[_0x50162a(0x400)]({'request':_0xca2e10,'schema':M,'ClassRef':S,'execute':_0x3826bd=>oe[_0x50162a(0x5b9)](_0x3826bd)});return _0x462e31[_0x50162a(0x5cd)](0xc8)[_0x50162a(0x598)](_0x41cc94);})[_0x3cbd7a(0x711)](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x2b8)),..._0xfacb50,async(_0x27dfe9,_0x108864)=>{const _0x187e02=_0x3cbd7a;let _0x1abca7=await this['dataValidate']({'request':_0x27dfe9,'schema':M,'ClassRef':S,'execute':_0x2084fa=>oe[_0x187e02(0x486)](_0x2084fa)});return _0x108864['status'](0xc8)['json'](_0x1abca7);})[_0x3cbd7a(0x711)](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x6f8)),..._0xfacb50,async(_0x17b147,_0x7a03)=>{const _0x92deac=_0x3cbd7a;let _0x50c3cd=await this[_0x92deac(0x400)]({'request':_0x17b147,'schema':M,'ClassRef':S,'execute':_0x30f888=>oe[_0x92deac(0x6f8)](_0x30f888)});return _0x7a03['status'](0xc8)[_0x92deac(0x598)](_0x50c3cd);})['get'](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x1a9),!0x1),..._0xfacb50,async(_0x1025af,_0x30a1fd)=>{const _0x4e6b42=_0x3cbd7a;let _0x542b58=await this[_0x4e6b42(0x400)]({'request':_0x1025af,'schema':null,'ClassRef':S,'execute':_0xd903c6=>oe[_0x4e6b42(0x1a9)](_0xd903c6)});return _0x30a1fd[_0x4e6b42(0x5cd)](0xc8)[_0x4e6b42(0x598)](_0x542b58);})['delete'](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x51a)),..._0xfacb50,async(_0x1c6324,_0x3556d6)=>{const _0x70d0e=_0x3cbd7a;let _0x4b000a=await this[_0x70d0e(0x400)]({'request':_0x1c6324,'schema':M,'ClassRef':S,'execute':_0x3a585b=>oe['logout'](_0x3a585b)});return _0x3556d6[_0x70d0e(0x5cd)](0xc8)['json'](_0x4b000a);})[_0x3cbd7a(0x7af)](this[_0x3cbd7a(0x315)](_0x3cbd7a(0x7af)),..._0xfacb50,async(_0x281b86,_0x54f317)=>{const _0x5e6309=_0x3cbd7a;let _0xb2a9b5=await this[_0x5e6309(0x400)]({'request':_0x281b86,'schema':M,'ClassRef':S,'execute':_0x1ec27e=>oe[_0x5e6309(0x684)](_0x1ec27e)});return _0x54f317[_0x5e6309(0x5cd)](0xc8)[_0x5e6309(0x598)](_0xb2a9b5);});}},hr=require(a0_0x5a7632(0x60f)),Ss=class{},W=class extends Ss{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},Ne=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class{},vt=class extends V{constructor(..._0x3088a2){const _0x1c0999=a0_0x5a7632;super(),this[_0x1c0999(0x18e)]=(0x0,hr[_0x1c0999(0x3bd)])(),this['router'][_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x4ac)),..._0x3088a2,async(_0x512ffc,_0x47cc71)=>{const _0x5d4b09=_0x1c0999;let _0x4f0d22=await this[_0x5d4b09(0x400)]({'request':_0x512ffc,'schema':xa,'ClassRef':gt,'execute':(_0x5eb1a8,_0x34fc4b)=>G[_0x5d4b09(0x4ac)](_0x5eb1a8,_0x34fc4b)});return _0x47cc71[_0x5d4b09(0x5cd)](0xc9)[_0x5d4b09(0x598)](_0x4f0d22);})[_0x1c0999(0x181)](this['routerPath'](_0x1c0999(0x3c1)),..._0x3088a2,async(_0x3fb936,_0x1c8523)=>{const _0x17c6f4=_0x1c0999;let _0x2cd363=await this['dataValidate']({'request':_0x3fb936,'schema':$a,'ClassRef':Ne,'execute':(_0x5efb9e,_0x4963b2)=>G['sendMedia'](_0x5efb9e,_0x4963b2)});return _0x1c8523['status'](0xc9)[_0x17c6f4(0x598)](_0x2cd363);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x67f)),..._0x3088a2,async(_0x254b7d,_0x1fe952)=>{const _0x171bf6=_0x1c0999;let _0x8de20e=await this[_0x171bf6(0x400)]({'request':_0x254b7d,'schema':ja,'ClassRef':wt,'execute':(_0xc4f512,_0x518da4)=>G[_0x171bf6(0x67f)](_0xc4f512,_0x518da4)});return _0x1fe952[_0x171bf6(0x5cd)](0xc9)[_0x171bf6(0x598)](_0x8de20e);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)]('sendWhatsAppAudio'),..._0x3088a2,async(_0x56ba6c,_0x2b2342)=>{const _0x50f44d=_0x1c0999;let _0x65821e=await this['dataValidate']({'request':_0x56ba6c,'schema':ka,'ClassRef':Ne,'execute':(_0x4e6ee7,_0x48a679)=>G['sendWhatsAppAudio'](_0x4e6ee7,_0x48a679)});return _0x2b2342[_0x50f44d(0x5cd)](0xc9)['json'](_0x65821e);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x653)),..._0x3088a2,async(_0x103440,_0x412567)=>{const _0x26b404=_0x1c0999;let _0x154127=await this[_0x26b404(0x400)]({'request':_0x103440,'schema':Fa,'ClassRef':bt,'execute':(_0x746562,_0x500a99)=>G[_0x26b404(0x653)](_0x746562,_0x500a99)});return _0x412567['status'](0xc9)[_0x26b404(0x598)](_0x154127);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x498)),..._0x3088a2,async(_0x494c50,_0x512407)=>{const _0x1fed34=_0x1c0999;let _0x1d6cc9=await this[_0x1fed34(0x400)]({'request':_0x494c50,'schema':Ua,'ClassRef':St,'execute':(_0x38452f,_0x533b7f)=>G[_0x1fed34(0x498)](_0x38452f,_0x533b7f)});return _0x512407[_0x1fed34(0x5cd)](0xc9)[_0x1fed34(0x598)](_0x1d6cc9);})['post'](this[_0x1c0999(0x315)](_0x1c0999(0x546)),..._0x3088a2,async(_0x4771aa,_0x3f3847)=>{const _0x1502e2=_0x1c0999;let _0x53d007=await this[_0x1502e2(0x400)]({'request':_0x4771aa,'schema':qa,'ClassRef':Ct,'execute':(_0x400ed9,_0xe5896f)=>G[_0x1502e2(0x546)](_0x400ed9,_0xe5896f)});return _0x3f3847[_0x1502e2(0x5cd)](0xc9)[_0x1502e2(0x598)](_0x53d007);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x2c6)),..._0x3088a2,async(_0x22a3f5,_0x1de23a)=>{const _0x4db0a3=_0x1c0999;let _0x86610a=await this[_0x4db0a3(0x400)]({'request':_0x22a3f5,'schema':Ja,'ClassRef':Et,'execute':(_0x12d3b8,_0x568a58)=>G[_0x4db0a3(0x2c6)](_0x12d3b8,_0x568a58)});return _0x1de23a[_0x4db0a3(0x5cd)](0xc9)[_0x4db0a3(0x598)](_0x86610a);})['post'](this[_0x1c0999(0x315)](_0x1c0999(0x41e)),..._0x3088a2,async(_0x11c9d2,_0x5ccaf3)=>{const _0x1f5181=_0x1c0999;let _0x1d7f77=await this['dataValidate']({'request':_0x11c9d2,'schema':Va,'ClassRef':Mt,'execute':(_0x5081f5,_0x526c91)=>G[_0x1f5181(0x41e)](_0x5081f5,_0x526c91)});return _0x5ccaf3['status'](0xc9)['json'](_0x1d7f77);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x3ef)),..._0x3088a2,async(_0x53acf3,_0x883441)=>{const _0x3632d4=_0x1c0999;let _0xa9ed0e=await this[_0x3632d4(0x400)]({'request':_0x53acf3,'schema':La,'ClassRef':ft,'execute':(_0x538ee3,_0x432e3c)=>G[_0x3632d4(0x3ef)](_0x538ee3,_0x432e3c)});return _0x883441['status'](0xc9)[_0x3632d4(0x598)](_0xa9ed0e);})['post'](this[_0x1c0999(0x315)](_0x1c0999(0x215)),..._0x3088a2,async(_0x1f725b,_0x212fe8)=>{const _0x59158c=_0x1c0999;let _0x4ca847=await this[_0x59158c(0x400)]({'request':_0x1f725b,'schema':Pa,'ClassRef':mt,'execute':(_0x3427a5,_0x4d17fd)=>G[_0x59158c(0x215)](_0x3427a5,_0x4d17fd)});return _0x212fe8[_0x59158c(0x5cd)](0xc9)[_0x59158c(0x598)](_0x4ca847);})[_0x1c0999(0x181)](this[_0x1c0999(0x315)](_0x1c0999(0x33d)),..._0x3088a2,async(_0xf61fe7,_0x572dc1)=>{const _0xd55f89=_0x1c0999;let _0x45ae86=await this['dataValidate']({'request':_0xf61fe7,'schema':_a,'ClassRef':yt,'execute':(_0x176341,_0x3e9f9b)=>G[_0xd55f89(0x33d)](_0x176341,_0x3e9f9b)});return _0x572dc1['status'](0xc9)[_0xd55f89(0x598)](_0x45ae86);});}},gr=require(a0_0x5a7632(0x60f)),Nt=class{},Rt=class extends V{constructor(..._0x5843d2){const _0xdbf06a=a0_0x5a7632;super(),this['router']=(0x0,gr[_0xdbf06a(0x3bd)])(),this[_0xdbf06a(0x18e)][_0xdbf06a(0x181)](this[_0xdbf06a(0x315)](_0xdbf06a(0x4a8)),..._0x5843d2,async(_0x547926,_0x625e90)=>{const _0x37aaae=_0xdbf06a;let _0x32cfc2=await this['dataValidate']({'request':_0x547926,'schema':lr,'ClassRef':Nt,'execute':(_0x4fa8a7,_0x4dba3c)=>Cs[_0x37aaae(0x121)](_0x4fa8a7,_0x4dba3c)});_0x625e90['status'](0xc9)[_0x37aaae(0x598)](_0x32cfc2);})[_0xdbf06a(0x711)](this[_0xdbf06a(0x315)](_0xdbf06a(0x6c4)),..._0x5843d2,async(_0x1fe41c,_0x1ee509)=>{const _0x134518=_0xdbf06a;let _0x16de59=await this[_0x134518(0x400)]({'request':_0x1fe41c,'schema':M,'ClassRef':S,'execute':_0x3ee170=>Cs[_0x134518(0x5fc)](_0x3ee170)});_0x1ee509[_0x134518(0x5cd)](0xc8)[_0x134518(0x598)](_0x16de59);});}},mr=require(a0_0x5a7632(0x60f)),y=new v(a0_0x5a7632(0x74e)),Tt=class extends V{constructor(..._0x3246b1){const _0x50686b=a0_0x5a7632;super(),this[_0x50686b(0x18e)]=(0x0,mr[_0x50686b(0x3bd)])(),this['router'][_0x50686b(0x181)](this[_0x50686b(0x315)]('scheduleMessage'),..._0x3246b1,async(_0x392f1c,_0x5e0e90)=>{const _0x15481e=_0x50686b;let _0x1dcdd8=_0x392f1c[_0x15481e(0x5af)];y['verbose'](_0x15481e(0x783)),y['verbose'](_0x15481e(0x105)),y['verbose'](_0x392f1c[_0x15481e(0x5af)]);let _0x46a368=await this['dataValidate']({'request':_0x392f1c,'schema':M,'ClassRef':S,'execute':_0x125c6e=>x[_0x15481e(0x53e)](_0x125c6e,_0x1dcdd8)});_0x5e0e90[_0x15481e(0x5cd)](0xc8)[_0x15481e(0x598)](_0x46a368);})[_0x50686b(0x711)](this['routerPath'](_0x50686b(0x39f)),..._0x3246b1,async(_0x22bac0,_0x7fdd9a)=>{const _0x48c8c1=_0x50686b;let _0x10bf31=await this['dataValidate']({'request':_0x22bac0,'schema':M,'ClassRef':S,'execute':_0x2b4244=>x[_0x48c8c1(0x349)](_0x2b4244)});_0x7fdd9a[_0x48c8c1(0x5cd)](0xc8)[_0x48c8c1(0x598)](_0x10bf31);})[_0x50686b(0x7af)](this[_0x50686b(0x315)](_0x50686b(0x71c)),..._0x3246b1,async(_0x21e9f9,_0x4336d9)=>{const _0x3e4f7c=_0x50686b;y['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x54ade6=await this['dataValidate']({'request':_0x21e9f9,'schema':M,'ClassRef':S,'execute':_0x4be733=>x['deleteDoneMessages'](_0x4be733)});_0x4336d9[_0x3e4f7c(0x5cd)](0xc8)[_0x3e4f7c(0x598)](_0x54ade6);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0xef)),..._0x3246b1,async(_0x2264b2,_0x287141)=>{const _0x5af27b=_0x50686b;let _0x423e48=_0x2264b2[_0x5af27b(0x5af)];y[_0x5af27b(0x140)](_0x5af27b(0x48b)),y[_0x5af27b(0x140)](_0x5af27b(0x105)),y[_0x5af27b(0x140)](_0x2264b2[_0x5af27b(0x5af)]);let _0x4e7dd5=await this[_0x5af27b(0x400)]({'request':_0x2264b2,'schema':M,'ClassRef':S,'execute':_0x4f4ec3=>x[_0x5af27b(0xef)](_0x4f4ec3,_0x423e48)});_0x287141[_0x5af27b(0x5cd)](0xc8)[_0x5af27b(0x598)](_0x4e7dd5);})[_0x50686b(0x711)](this[_0x50686b(0x315)](_0x50686b(0x70c)),..._0x3246b1,async(_0x1ff8ca,_0x57a32f)=>{const _0x44513c=_0x50686b;y[_0x44513c(0x140)]('request\x20received\x20in\x20getAutomateSystem');let _0x2b688b=await this['dataValidate']({'request':_0x1ff8ca,'schema':M,'ClassRef':S,'execute':_0x5505a0=>x['getAutomateSystem'](_0x5505a0)});_0x57a32f['status'](0xc8)[_0x44513c(0x598)](_0x2b688b);})['get'](this[_0x50686b(0x315)](_0x50686b(0x267)),..._0x3246b1,async(_0x221f1b,_0x4cba6a)=>{const _0x3d1695=_0x50686b;y[_0x3d1695(0x140)](_0x3d1695(0x15f));let _0x4d460e=await this[_0x3d1695(0x400)]({'request':_0x221f1b,'schema':M,'ClassRef':S,'execute':_0xd7b1ea=>x['getAutomateSystem'](_0xd7b1ea)});_0x4cba6a[_0x3d1695(0x5cd)](0xc8)[_0x3d1695(0x598)](_0x4d460e);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x2f9)),..._0x3246b1,async(_0x178665,_0x549ad2)=>{const _0x3a3035=_0x50686b;let _0x4be3d0=_0x178665['body'];y['verbose'](_0x3a3035(0x186)),y['verbose']('request\x20body:\x20'),y[_0x3a3035(0x140)](_0x178665[_0x3a3035(0x5af)]);let _0x533383=await this['dataValidate']({'request':_0x178665,'schema':M,'ClassRef':S,'execute':_0x1e758e=>x[_0x3a3035(0x2f9)](_0x1e758e,_0x4be3d0)});_0x549ad2[_0x3a3035(0x5cd)](0xc8)[_0x3a3035(0x598)](_0x533383);})['post'](this[_0x50686b(0x315)](_0x50686b(0x359)),..._0x3246b1,async(_0xcfb1cf,_0x359f67)=>{const _0x538d6f=_0x50686b;let _0x4e6113=_0xcfb1cf[_0x538d6f(0x5af)];y['verbose'](_0x538d6f(0x217)),y[_0x538d6f(0x140)](_0x538d6f(0x105)),y[_0x538d6f(0x140)](_0xcfb1cf[_0x538d6f(0x5af)]);let _0x563e4f=await this[_0x538d6f(0x400)]({'request':_0xcfb1cf,'schema':M,'ClassRef':S,'execute':_0x2e35c3=>x[_0x538d6f(0x359)](_0x2e35c3,_0x4e6113)});_0x359f67[_0x538d6f(0x5cd)](0xc8)[_0x538d6f(0x598)](_0x563e4f);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x28b)),..._0x3246b1,async(_0x26f0ff,_0x13d4fc)=>{const _0x55cc9d=_0x50686b;let _0x5c90a6=_0x26f0ff[_0x55cc9d(0x5af)];y[_0x55cc9d(0x140)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x55cc9d(0x140)]('request\x20body:\x20'),y[_0x55cc9d(0x140)](_0x26f0ff[_0x55cc9d(0x5af)]);let _0x247e74=await this['dataValidate']({'request':_0x26f0ff,'schema':M,'ClassRef':S,'execute':_0x119ca9=>x['updateFlowConfig'](_0x119ca9,_0x5c90a6)});_0x13d4fc[_0x55cc9d(0x5cd)](0xc8)[_0x55cc9d(0x598)](_0x247e74);})['post'](this[_0x50686b(0x315)](_0x50686b(0x3fe)),..._0x3246b1,async(_0x4d2537,_0x3af70f)=>{const _0xa73947=_0x50686b;let _0x2e5e3c=_0x4d2537[_0xa73947(0x5af)];y[_0xa73947(0x140)]('request\x20received\x20in\x20getConversation'),y['verbose']('request\x20body:\x20'),y[_0xa73947(0x140)](_0x4d2537['body']);let _0x188a50=await this[_0xa73947(0x400)]({'request':_0x4d2537,'schema':M,'ClassRef':S,'execute':_0x15dac4=>x[_0xa73947(0x3fe)](_0x15dac4,_0x2e5e3c)});_0x3af70f[_0xa73947(0x5cd)](0xc8)[_0xa73947(0x598)](_0x188a50);})[_0x50686b(0x181)](this[_0x50686b(0x315)]('fetchConversation'),..._0x3246b1,async(_0xa5a374,_0x83a0de)=>{const _0x2e25a4=_0x50686b;let _0x6e3c58=_0xa5a374['body'];y[_0x2e25a4(0x140)](_0x2e25a4(0x4c3)),y[_0x2e25a4(0x140)](_0x2e25a4(0x105)),y[_0x2e25a4(0x140)](_0xa5a374[_0x2e25a4(0x5af)]);let _0x1913c0=await this['dataValidate']({'request':_0xa5a374,'schema':M,'ClassRef':S,'execute':_0x3f0494=>x[_0x2e25a4(0x7b2)](_0x3f0494,_0x6e3c58)});_0x83a0de[_0x2e25a4(0x5cd)](0xc8)[_0x2e25a4(0x598)](_0x1913c0);})[_0x50686b(0x181)](this[_0x50686b(0x315)]('editConversation'),..._0x3246b1,async(_0x39e316,_0x4a511f)=>{const _0x3d7970=_0x50686b;let _0x3c64b7=_0x39e316[_0x3d7970(0x5af)];y[_0x3d7970(0x140)]('request\x20received\x20in\x20editConversation'),y[_0x3d7970(0x140)](_0x3d7970(0x105)),y['verbose'](_0x39e316[_0x3d7970(0x5af)]);let _0x4f3417=await this[_0x3d7970(0x400)]({'request':_0x39e316,'schema':M,'ClassRef':S,'execute':_0x5cef2a=>x[_0x3d7970(0x333)](_0x5cef2a,_0x3c64b7)});_0x4a511f[_0x3d7970(0x5cd)](0xc8)[_0x3d7970(0x598)](_0x4f3417);})[_0x50686b(0x7af)](this['routerPath'](_0x50686b(0x48c)),..._0x3246b1,async(_0x550a41,_0x444256)=>{const _0x36903d=_0x50686b;let _0x7d5e6f=_0x550a41[_0x36903d(0x5af)];y[_0x36903d(0x140)](_0x36903d(0x1a8)),y['verbose'](_0x36903d(0x105)),y['verbose'](_0x550a41['body']);let _0x362520=await this['dataValidate']({'request':_0x550a41,'schema':M,'ClassRef':S,'execute':_0x32a21c=>x['deleteConversation'](_0x32a21c,_0x7d5e6f)});_0x444256['status'](0xc8)[_0x36903d(0x598)](_0x362520);})[_0x50686b(0x181)](this['routerPath'](_0x50686b(0x737)),..._0x3246b1,async(_0x4cbc4e,_0x13faa3)=>{const _0x424d99=_0x50686b;let _0x2f3b44=_0x4cbc4e[_0x424d99(0x5af)];y[_0x424d99(0x140)](_0x424d99(0x66c)),y[_0x424d99(0x140)](_0x424d99(0x105)),y[_0x424d99(0x140)](_0x4cbc4e[_0x424d99(0x5af)]);let _0x4c4ab9=await this[_0x424d99(0x400)]({'request':_0x4cbc4e,'schema':M,'ClassRef':S,'execute':_0x457aa6=>x[_0x424d99(0x6d8)](_0x457aa6,_0x2f3b44)});_0x13faa3[_0x424d99(0x5cd)](0xc8)[_0x424d99(0x598)](_0x4c4ab9);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x1ec)),..._0x3246b1,async(_0x5a93ac,_0x437b51)=>{const _0x35dacb=_0x50686b;let _0x1f8e8f=_0x5a93ac[_0x35dacb(0x5af)];y[_0x35dacb(0x140)](_0x35dacb(0x276)),y[_0x35dacb(0x140)]('request\x20body:\x20'),y[_0x35dacb(0x140)](_0x5a93ac[_0x35dacb(0x5af)]),delete _0x1f8e8f[_0x35dacb(0x364)],delete _0x1f8e8f[_0x35dacb(0x7a4)],delete _0x1f8e8f[_0x35dacb(0x1c1)],delete _0x1f8e8f['conditions'];let _0x521050=await this[_0x35dacb(0x400)]({'request':_0x5a93ac,'schema':M,'ClassRef':S,'execute':_0x14c8a1=>x[_0x35dacb(0x4c0)](_0x14c8a1,_0x1f8e8f)});_0x437b51['status'](0xc8)[_0x35dacb(0x598)](_0x521050);})[_0x50686b(0x181)](this[_0x50686b(0x315)]('editflowblock'),..._0x3246b1,async(_0x2aa31a,_0x37319f)=>{const _0x502407=_0x50686b;let _0x37003a=_0x2aa31a[_0x502407(0x5af)];y[_0x502407(0x140)]('request\x20received\x20in\x20editFlow'),y[_0x502407(0x140)](_0x502407(0x105)),y[_0x502407(0x140)](_0x2aa31a[_0x502407(0x5af)]);let _0x413a60=await this[_0x502407(0x400)]({'request':_0x2aa31a,'schema':M,'ClassRef':S,'execute':_0x5d213b=>x[_0x502407(0x3ca)](_0x5d213b,_0x37003a)});_0x37319f[_0x502407(0x5cd)](0xc8)[_0x502407(0x598)](_0x413a60);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x554)),..._0x3246b1,async(_0x32be67,_0xd3abc2)=>{const _0x2e72bf=_0x50686b;let _0x46b53c=_0x32be67['body'];y['verbose'](_0x2e72bf(0x276)),y[_0x2e72bf(0x140)](_0x2e72bf(0x105)),y[_0x2e72bf(0x140)](_0x32be67[_0x2e72bf(0x5af)]);let _0x1d329c=await this[_0x2e72bf(0x400)]({'request':_0x32be67,'schema':M,'ClassRef':S,'execute':_0x2e314c=>x[_0x2e72bf(0x67d)](_0x2e314c,_0x46b53c)});_0xd3abc2['status'](0xc8)['json'](_0x1d329c);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x69b)),..._0x3246b1,async(_0x5e537d,_0x2e28b6)=>{const _0xd4a848=_0x50686b;let _0xbb684b=_0x5e537d[_0xd4a848(0x5af)];y['verbose'](_0xd4a848(0x276)),y['verbose'](_0xd4a848(0x105)),y[_0xd4a848(0x140)](_0x5e537d['body']);let _0x5e328e=await this[_0xd4a848(0x400)]({'request':_0x5e537d,'schema':M,'ClassRef':S,'execute':_0xab679=>x[_0xd4a848(0x57a)](_0xab679,_0xbb684b)});_0x2e28b6['status'](0xc8)[_0xd4a848(0x598)](_0x5e328e);})[_0x50686b(0x181)](this[_0x50686b(0x315)]('editflowgroup'),..._0x3246b1,async(_0x463d50,_0x5a67a3)=>{const _0x24a62a=_0x50686b;let _0x50be1f=_0x463d50[_0x24a62a(0x5af)];y[_0x24a62a(0x140)]('request\x20received\x20in\x20editFlowgroup'),y[_0x24a62a(0x140)](_0x24a62a(0x105)),y[_0x24a62a(0x140)](_0x463d50['body']);let _0x2af295=await this[_0x24a62a(0x400)]({'request':_0x463d50,'schema':M,'ClassRef':S,'execute':_0x298dc7=>x[_0x24a62a(0x104)](_0x298dc7,_0x50be1f)});_0x5a67a3[_0x24a62a(0x5cd)](0xc8)[_0x24a62a(0x598)](_0x2af295);})[_0x50686b(0x181)](this['routerPath'](_0x50686b(0x35e)),..._0x3246b1,async(_0x57595b,_0x3e262f)=>{const _0x45f55c=_0x50686b;let _0x15c94d=_0x57595b[_0x45f55c(0x5af)];y['verbose'](_0x45f55c(0x3c7)),y[_0x45f55c(0x140)]('request\x20body:\x20'),y[_0x45f55c(0x140)](_0x57595b['body']);let _0x480ec1=await this[_0x45f55c(0x400)]({'request':_0x57595b,'schema':M,'ClassRef':S,'execute':_0x3fb458=>x['editFlowCondition'](_0x3fb458,_0x15c94d)});_0x3e262f[_0x45f55c(0x5cd)](0xc8)[_0x45f55c(0x598)](_0x480ec1);})[_0x50686b(0x181)](this[_0x50686b(0x315)](_0x50686b(0x6b7)),..._0x3246b1,async(_0x29abb2,_0x3cec1f)=>{const _0x277028=_0x50686b;let _0x17e35c=_0x29abb2[_0x277028(0x5af)];y[_0x277028(0x140)](_0x277028(0x487)),y[_0x277028(0x140)](_0x277028(0x105)),y['verbose'](_0x29abb2[_0x277028(0x5af)]);let _0x2177e3=await this['dataValidate']({'request':_0x29abb2,'schema':M,'ClassRef':S,'execute':_0x462a5e=>x['editFlowVariable'](_0x462a5e,_0x17e35c)});_0x3cec1f[_0x277028(0x5cd)](0xc8)['json'](_0x2177e3);})[_0x50686b(0x181)](this[_0x50686b(0x315)]('getflow'),..._0x3246b1,async(_0x3f0dc2,_0x4048ac)=>{const _0x521a3b=_0x50686b;let _0x29a94f=_0x3f0dc2[_0x521a3b(0x5af)];y[_0x521a3b(0x140)](_0x521a3b(0x22d)),y[_0x521a3b(0x140)]('request\x20body:\x20'),y[_0x521a3b(0x140)](_0x3f0dc2[_0x521a3b(0x5af)]);let _0x11c6f6=await this[_0x521a3b(0x400)]({'request':_0x3f0dc2,'schema':M,'ClassRef':S,'execute':_0x15f93b=>x['getFlow'](_0x15f93b,_0x29a94f)});_0x4048ac['status'](0xc8)[_0x521a3b(0x598)](_0x11c6f6);})[_0x50686b(0x7af)](this[_0x50686b(0x315)]('deleteflow'),..._0x3246b1,async(_0x3c5a16,_0x519d60)=>{const _0x46d81f=_0x50686b;let _0x2d6fbc=_0x3c5a16[_0x46d81f(0x5af)];y[_0x46d81f(0x140)](_0x46d81f(0x2b9)),y[_0x46d81f(0x140)](_0x46d81f(0x105)),y[_0x46d81f(0x140)](_0x3c5a16[_0x46d81f(0x5af)]);let _0x5947d7=await this[_0x46d81f(0x400)]({'request':_0x3c5a16,'schema':M,'ClassRef':S,'execute':_0x12a198=>x[_0x46d81f(0x2a0)](_0x12a198,_0x2d6fbc)});_0x519d60[_0x46d81f(0x5cd)](0xc8)['json'](_0x5947d7);})['get'](this[_0x50686b(0x315)](_0x50686b(0x615)),..._0x3246b1,async(_0xa6b3d6,_0x2095f4)=>{const _0x614999=_0x50686b;y[_0x614999(0x140)](_0x614999(0x56f));let _0x1e14cd=await this['dataValidate']({'request':_0xa6b3d6,'schema':M,'ClassRef':S,'execute':_0x533b1e=>x[_0x614999(0x4ad)](_0x533b1e)});_0x2095f4['status'](0xc8)[_0x614999(0x598)](_0x1e14cd);});}},br=O(require('path')),X={};function fr(_0x3f482f,_0x1cd0ab,_0x3ea122,_0x35a8aa){X[_0x3f482f]||(X[_0x3f482f]={}),X[_0x3f482f][_0x1cd0ab]={'id':_0x1cd0ab,'response':_0x3ea122,'events':_0x35a8aa};}function wr(_0x343169,_0x274aee){!X[_0x343169]||!X[_0x343169][_0x274aee]||delete X[_0x343169][_0x274aee];}function q(_0x2af06f,_0x3d7a30,_0x4110f5){const _0x32e089=a0_0x5a7632;if(!X[_0x2af06f])return;let _0x34b6d0=_0x32e089(0x2e4)+JSON[_0x32e089(0x68d)](_0x4110f5)+'\x0a\x0a';Object[_0x32e089(0x19e)](X[_0x2af06f])['forEach'](_0x51fee3=>{const _0x1b96bd=_0x32e089;_0x51fee3[_0x1b96bd(0x556)]['includes'](_0x3d7a30)&&_0x51fee3['response'][_0x1b96bd(0x1b0)](_0x34b6d0);});}function yr(){const _0x3118db=a0_0x5a7632;let _0x124ef8={};for(let _0x2dc232 in X)_0x124ef8[_0x2dc232]=Object[_0x3118db(0x19e)](X[_0x2dc232])[_0x3118db(0x2ca)](_0x116f55=>({'id':_0x116f55['id'],'events':_0x116f55[_0x3118db(0x556)]}));return _0x124ef8;}var Sr=require(a0_0x5a7632(0x126)),Ms=require(a0_0x5a7632(0x13a)),Es=class{},wi=new Ms[(a0_0x5a7632(0x44c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yi=new Ms[(a0_0x5a7632(0x44c))]({'_id':{'type':String,'default':a0_0x5a7632(0x6d6)},'WebhookGlobal':{'type':wi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=T?.[a0_0x5a7632(0x5bc)](Es[a0_0x5a7632(0x510)],yi,'All_Instances_Config'),bi=br['default']['join'](__dirname,'downloads'),At=(0x0,Ot[a0_0x5a7632(0x3bd)])(),Si=b[a0_0x5a7632(0x711)](a0_0x5a7632(0x4b0))[a0_0x5a7632(0x3bf)],se=[Ra,Ta,Ia[Si]];At[a0_0x5a7632(0x28c)](a0_0x5a7632(0x3a1),Ot[a0_0x5a7632(0x1c5)][a0_0x5a7632(0x5fe)](bi))[a0_0x5a7632(0x711)]('/events/:instance',async(_0x301562,_0x5e5aef)=>{const _0x2e69e2=a0_0x5a7632;console[_0x2e69e2(0x1c8)]('bateu\x20events');let _0x5b6d39=_0x301562[_0x2e69e2(0x1f2)][_0x2e69e2(0x35a)],_0x3a60d2=(_0x301562['query'][_0x2e69e2(0x556)]||'')[_0x2e69e2(0x323)](','),_0x30ea6e=(0x0,Sr['v4'])();console[_0x2e69e2(0x1c8)]('Instance\x20ID:',_0x5b6d39),console['log'](_0x2e69e2(0x2cd),_0x3a60d2);let _0x5e3931=b[_0x2e69e2(0x711)](_0x2e69e2(0x4b0))[_0x2e69e2(0x3c6)],_0x3923db=_0x301562['query'][_0x2e69e2(0x388)];if(console[_0x2e69e2(0x1c8)](_0x2e69e2(0x188),_0x3923db),_0x5e3931['KEY']!==_0x3923db){console[_0x2e69e2(0x1c8)](_0x2e69e2(0x467));try{let _0x9f13a6=await ue[_0x2e69e2(0x335)]['find'](_0x5b6d39);if(console[_0x2e69e2(0x1c8)](_0x2e69e2(0x239),_0x9f13a6),!_0x9f13a6||_0x9f13a6['apikey']!==_0x3923db)return console[_0x2e69e2(0x1c8)](_0x2e69e2(0x13e)),_0x5e5aef[_0x2e69e2(0x5cd)](0x191)[_0x2e69e2(0x5fa)](_0x2e69e2(0x46b));}catch(_0x213657){return console[_0x2e69e2(0x7aa)](_0x2e69e2(0x4d5),_0x213657),_0x5e5aef[_0x2e69e2(0x5cd)](0x191)[_0x2e69e2(0x5fa)](_0x2e69e2(0x3db));}}if(!await Ye(_0x5b6d39))return _0x5e5aef[_0x2e69e2(0x5cd)](0x194)['send']('Instância\x20não\x20encontrada.');_0x5e5aef[_0x2e69e2(0x410)](_0x2e69e2(0x403),_0x2e69e2(0x727)),_0x5e5aef[_0x2e69e2(0x410)]('Cache-Control',_0x2e69e2(0x1d8)),_0x5e5aef['setHeader']('Connection',_0x2e69e2(0x4e3)),_0x5e5aef[_0x2e69e2(0x755)]();let _0x31b640='data:\x20'+JSON[_0x2e69e2(0x68d)]({'info':_0x2e69e2(0x1f9)})+'\x0a\x0a';_0x5e5aef[_0x2e69e2(0x1b0)](_0x31b640),fr(_0x5b6d39,_0x30ea6e,_0x5e5aef,_0x3a60d2),_0x301562['on'](_0x2e69e2(0x4fb),()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x5b6d39),wr(_0x5b6d39,_0x30ea6e);});}),At['get'](a0_0x5a7632(0x386),(_0x4b4204,_0x3b6a61)=>{const _0x30a39c=a0_0x5a7632;let _0x5ba5a0=yr();_0x3b6a61[_0x30a39c(0x598)](_0x5ba5a0);})[a0_0x5a7632(0x711)]('/',(_0x534d75,_0x424afb)=>{const _0x21f673=a0_0x5a7632;let _0x1872fc=b['get']('SERVER')[_0x21f673(0x5da)];if(_0x1872fc){let _0x149107=encodeURIComponent(''+_0x1872fc);_0x424afb['redirect'](_0x21f673(0x70e)+_0x149107);return;}let _0x5087ca=b[_0x21f673(0x711)](_0x21f673(0x512)),_0x23e508=_0x5087ca&&_0x5087ca['FULLCHAIN'][_0x21f673(0x323)]('/')[0x4];if(_0x23e508){let _0x106eb4=encodeURIComponent(_0x21f673(0x213)+_0x23e508);_0x424afb[_0x21f673(0x5f4)](_0x21f673(0x70e)+_0x106eb4);}else _0x424afb[_0x21f673(0x5f4)](_0x21f673(0x4c7));})['put'](a0_0x5a7632(0x462),...se,async(_0x1c8dba,_0x317cfa)=>{const _0x3619b2=a0_0x5a7632;try{console[_0x3619b2(0x1c8)](_0x3619b2(0x6fd)),_0x317cfa['status'](0xc8)[_0x3619b2(0x598)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x317cfa['on'](_0x3619b2(0x648),()=>process[_0x3619b2(0x730)](0x0));}catch(_0x29b631){console[_0x3619b2(0x7aa)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x29b631),_0x317cfa[_0x3619b2(0x5cd)](0x1f4)[_0x3619b2(0x598)]({'message':_0x3619b2(0x21c)});}})[a0_0x5a7632(0x2c8)](a0_0x5a7632(0x6fb),...se,async(_0x30a411,_0x158d52)=>{const _0x46984a=a0_0x5a7632;try{let _0x2639f3=_0x30a411[_0x46984a(0x5af)];await ye[_0x46984a(0x406)]({},{'$set':_0x2639f3},{'upsert':!0x0});let _0x3e30a0=await ye[_0x46984a(0x48e)]();_0x158d52[_0x46984a(0x598)](_0x3e30a0);}catch(_0x113b01){_0x158d52[_0x46984a(0x5cd)](0x190)[_0x46984a(0x5fa)](_0x113b01[_0x46984a(0x6f6)]);}})[a0_0x5a7632(0x711)](a0_0x5a7632(0x6fb),...se,async(_0x29bd80,_0x2a0c26)=>{const _0x2494d0=a0_0x5a7632;try{let _0x3b1b4e=await ye['findOne']();if(!_0x3b1b4e)return _0x2a0c26[_0x2494d0(0x598)]({});_0x2a0c26[_0x2494d0(0x598)](_0x3b1b4e);}catch(_0x1a282e){_0x2a0c26[_0x2494d0(0x5cd)](0x1f4)[_0x2494d0(0x5fa)](_0x1a282e[_0x2494d0(0x6f6)]);}})['use']('/instance',new ht(b,...se)['router'])[a0_0x5a7632(0x28c)](a0_0x5a7632(0x4c1),new vt(...se)[a0_0x5a7632(0x18e)])['use'](a0_0x5a7632(0x4d6),new at(...se)[a0_0x5a7632(0x18e)])[a0_0x5a7632(0x28c)](a0_0x5a7632(0x439),new pt(...se)[a0_0x5a7632(0x18e)])['use'](a0_0x5a7632(0x58d),new Rt(...se)[a0_0x5a7632(0x18e)])['use'](a0_0x5a7632(0x237),new Tt(...se)[a0_0x5a7632(0x18e)]);var w=class{constructor(..._0x278278){const _0x5dfc0a=a0_0x5a7632;throw{'status':0x190,'error':_0x5dfc0a(0x420),'message':_0x278278[_0x5dfc0a(0x4e4)]>0x0?_0x278278:void 0x0};}},te=class{constructor(..._0x3d790a){const _0xae44a3=a0_0x5a7632;throw{'status':0x191,'error':_0xae44a3(0x7ae),'message':_0x3d790a[_0xae44a3(0x4e4)]>0x0?_0x3d790a:void 0x0};}},K=class{constructor(..._0x1c11c4){const _0x173733=a0_0x5a7632;throw{'status':0x193,'error':_0x173733(0x612),'message':_0x1c11c4[_0x173733(0x4e4)]>0x0?_0x1c11c4:void 0x0};}},L=class{constructor(..._0x265d76){const _0x4c99fa=a0_0x5a7632;throw{'status':0x194,'error':_0x4c99fa(0x42b),'message':_0x265d76['length']>0x0?_0x265d76:void 0x0};}},I=class{constructor(..._0x1955e2){const _0x18026b=a0_0x5a7632;throw{'status':0x1f4,'error':_0x18026b(0x652),'message':_0x1955e2[_0x18026b(0x4e4)]>0x0?_0x1955e2:void 0x0};}},de=require('@whiskeysockets/baileys');async function vs(_0x3c36d5){const _0x3a56c4=a0_0x5a7632;let _0x128f03=new v(vs[_0x3a56c4(0x510)]),_0x5e7903=T[_0x3a56c4(0x3df)](),_0x497fab=_0x5e7903['db'](b['get'](_0x3a56c4(0x771))[_0x3a56c4(0x6e4)][_0x3a56c4(0x642)]+'-instances')[_0x3a56c4(0x620)](_0x3c36d5),_0x354fb7=async(_0x5f32ca,_0x152459)=>{const _0x429c20=_0x3a56c4;try{return await _0x5e7903[_0x429c20(0x2b8)](),await _0x497fab[_0x429c20(0x7a3)]({'_id':_0x152459},JSON['parse'](JSON['stringify'](_0x5f32ca,de[_0x429c20(0x34a)][_0x429c20(0x594)])),{'upsert':!0x0});}catch{}},_0xbd4cc9=async _0x1b4b65=>{const _0x7531f=_0x3a56c4;try{await _0x5e7903[_0x7531f(0x2b8)]();let _0x401e7b=await _0x497fab[_0x7531f(0x48e)]({'_id':_0x1b4b65}),_0x3cf32b=JSON[_0x7531f(0x68d)](_0x401e7b);return JSON[_0x7531f(0x1bd)](_0x3cf32b,de[_0x7531f(0x34a)][_0x7531f(0x75f)]);}catch{}},_0x11378f=async _0x4579ed=>{const _0x148692=_0x3a56c4;try{return await _0x5e7903[_0x148692(0x2b8)](),await _0x497fab[_0x148692(0x3b9)]({'_id':_0x4579ed});}catch{}},_0x36a30b=await _0xbd4cc9(_0x3a56c4(0x718))||(0x0,de[_0x3a56c4(0x256)])();return{'state':{'creds':_0x36a30b,'keys':{'get':async(_0x448f80,_0x5b08f1)=>{const _0x2e2f00=_0x3a56c4;let _0x492457={};return await Promise[_0x2e2f00(0x172)](_0x5b08f1[_0x2e2f00(0x2ca)](async _0x45f986=>{const _0x3297b7=_0x2e2f00;let _0x4b4a6e=await _0xbd4cc9(_0x448f80+'-'+_0x45f986);_0x448f80===_0x3297b7(0x792)&&_0x4b4a6e&&(_0x4b4a6e=de[_0x3297b7(0x74c)][_0x3297b7(0x4fe)][_0x3297b7(0x31c)][_0x3297b7(0x5a8)](_0x4b4a6e)),_0x492457[_0x45f986]=_0x4b4a6e;})),_0x492457;},'set':async _0xe57b57=>{const _0x122e34=_0x3a56c4;let _0x481b30=[];for(let _0x2a91b1 in _0xe57b57)for(let _0x19cb0c in _0xe57b57[_0x2a91b1]){let _0x36c659=_0xe57b57[_0x2a91b1][_0x19cb0c],_0x522da0=_0x2a91b1+'-'+_0x19cb0c;_0x481b30[_0x122e34(0x208)](_0x36c659?_0x354fb7(_0x36c659,_0x522da0):_0x11378f(_0x522da0));}await Promise[_0x122e34(0x172)](_0x481b30);}}},'saveCreds':async()=>_0x354fb7(_0x36a30b,'creds')};}var Os=O(require(a0_0x5a7632(0x70d))),As=O(require(a0_0x5a7632(0x3d5))),Dt=require('@whiskeysockets/baileys'),Cr=require(a0_0x5a7632(0x212)),xt=require(a0_0x5a7632(0x6a0)),It;function Ci(_0x355160){const _0x3f7928=a0_0x5a7632;return It||(It=(0x0,Cr['createClient'])({'url':_0x355160[_0x3f7928(0x2ed)]}),It[_0x3f7928(0x2b8)]()),It;}var ne=class c{constructor(_0x589ae0,_0x1d85c4){const _0x3cfed4=a0_0x5a7632;this[_0x3cfed4(0x1d9)]=_0x589ae0,this[_0x3cfed4(0x76b)]=_0x1d85c4,this[_0x3cfed4(0x22c)]=new v(c[_0x3cfed4(0x510)]),this['client']=Ci(_0x589ae0);}set[a0_0x5a7632(0x485)](_0x566d06){const _0x498224=a0_0x5a7632;this[_0x498224(0x76b)]=_0x566d06;}async['instanceKeys'](){const _0x5a2d86=a0_0x5a7632;try{return await this[_0x5a2d86(0x425)][_0x5a2d86(0x475)](['keys',this[_0x5a2d86(0x1d9)][_0x5a2d86(0x640)]+':*']);}catch(_0x42b2b3){this[_0x5a2d86(0x22c)]['error'](_0x42b2b3);}}async['writeData'](_0x1a20f3,_0x320b47){const _0x3e4070=a0_0x5a7632;try{let _0x29c31b=JSON[_0x3e4070(0x68d)](_0x320b47,xt['BufferJSON'][_0x3e4070(0x594)]);return await this[_0x3e4070(0x425)][_0x3e4070(0x22e)](this['redisEnv'][_0x3e4070(0x640)]+':'+this[_0x3e4070(0x76b)],_0x1a20f3,_0x29c31b);}catch(_0x7f8551){this[_0x3e4070(0x22c)][_0x3e4070(0x7aa)](_0x7f8551);}}async['getAllData'](){const _0x386648=a0_0x5a7632;try{let _0xe8b8c7=await this[_0x386648(0x425)][_0x386648(0x2bb)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x386648(0x76b)]);if(_0xe8b8c7){for(let _0x3a938d in _0xe8b8c7)Object[_0x386648(0x27d)][_0x386648(0x370)][_0x386648(0x622)](_0xe8b8c7,_0x3a938d)&&(_0xe8b8c7[_0x3a938d]=JSON[_0x386648(0x1bd)](_0xe8b8c7[_0x3a938d],xt['BufferJSON'][_0x386648(0x75f)]));return _0xe8b8c7;}}catch(_0x83b582){this[_0x386648(0x22c)][_0x386648(0x7aa)](_0x83b582);}}async['readData'](_0x284db8){const _0x5af86f=a0_0x5a7632;try{let _0x1554f5=await this[_0x5af86f(0x425)][_0x5af86f(0x545)](this[_0x5af86f(0x1d9)][_0x5af86f(0x640)]+':'+this[_0x5af86f(0x76b)],_0x284db8);if(_0x1554f5)return JSON[_0x5af86f(0x1bd)](_0x1554f5,xt[_0x5af86f(0x34a)][_0x5af86f(0x75f)]);}catch(_0x125a48){this[_0x5af86f(0x22c)]['error'](_0x125a48);}}async[a0_0x5a7632(0xed)](_0x4d883c){const _0x279bc3=a0_0x5a7632;try{return await this[_0x279bc3(0x425)][_0x279bc3(0x436)](this[_0x279bc3(0x1d9)][_0x279bc3(0x640)]+':'+this[_0x279bc3(0x76b)],_0x4d883c);}catch(_0x416142){this[_0x279bc3(0x22c)][_0x279bc3(0x7aa)](_0x416142);}}async[a0_0x5a7632(0x45f)](_0x55c21e){const _0x1e595c=a0_0x5a7632;try{return await this[_0x1e595c(0x425)][_0x1e595c(0x3f8)](_0x55c21e||this[_0x1e595c(0x1d9)][_0x1e595c(0x640)]+':'+this['instanceName']);}catch(_0x49fa0a){this['logger'][_0x1e595c(0x7aa)](_0x49fa0a);}}};async function Ns(_0x2c4fe8,_0xf9edc3){const _0x482987=a0_0x5a7632;let _0x2a9363=new v(Ns['name']),_0xa7aab2=new ne(_0x2c4fe8,_0xf9edc3),_0x11c5b4=async(_0x39a6dc,_0x57a8ae)=>{const _0x5158e6=a0_0xc371;try{return await _0xa7aab2[_0x5158e6(0x4ff)](_0x57a8ae,_0x39a6dc);}catch(_0x4030f9){return _0x2a9363[_0x5158e6(0x7aa)]({'localError':'writeData','error':_0x4030f9});}},_0x3482c7=async _0x54ae59=>{const _0x10dd72=a0_0xc371;try{return await _0xa7aab2[_0x10dd72(0x42a)](_0x54ae59);}catch(_0x439a){_0x2a9363['error']({'readData':'writeData','error':_0x439a});return;}},_0x39c313=async _0x139ee7=>{const _0x129347=a0_0xc371;try{return await _0xa7aab2['removeData'](_0x139ee7);}catch(_0x1b28e2){_0x2a9363[_0x129347(0x7aa)]({'readData':'removeData','error':_0x1b28e2});}},_0x2258bc=await _0x3482c7(_0x482987(0x718))||(0x0,Dt[_0x482987(0x256)])();return{'state':{'creds':_0x2258bc,'keys':{'get':async(_0x487cf1,_0x12a444)=>{const _0x269049=_0x482987;let _0x4e06a3={};return await Promise[_0x269049(0x172)](_0x12a444[_0x269049(0x2ca)](async _0x564169=>{const _0x5b84b1=_0x269049;let _0x727a63=await _0x3482c7(_0x487cf1+'-'+_0x564169);_0x487cf1===_0x5b84b1(0x792)&&_0x727a63&&(_0x727a63=Dt['proto']['Message']['AppStateSyncKeyData'][_0x5b84b1(0x5a8)](_0x727a63)),_0x4e06a3[_0x564169]=_0x727a63;})),_0x4e06a3;},'set':async _0xa0b88=>{const _0x1f676f=_0x482987;let _0x8740d4=[];for(let _0x4efc87 in _0xa0b88)for(let _0x57814c in _0xa0b88[_0x4efc87]){let _0x45a41a=_0xa0b88[_0x4efc87][_0x57814c],_0x5165f7=_0x4efc87+'-'+_0x57814c;_0x8740d4[_0x1f676f(0x208)](_0x45a41a?await _0x11c5b4(_0x45a41a,_0x5165f7):await _0x39c313(_0x5165f7));}await Promise[_0x1f676f(0x172)](_0x8740d4);}}},'saveCreds':async()=>await _0x11c5b4(_0x2258bc,_0x482987(0x718))};}var F=O(require('fs')),Re=require(a0_0x5a7632(0x126)),kt=O(require(a0_0x5a7632(0x46c))),Lt=require(a0_0x5a7632(0x320)),Ei=a0_0x5a7632(0x677)[a0_0x5a7632(0x549)](),_t=Ei[a0_0x5a7632(0x323)]('\x0a')[a0_0x5a7632(0x2ca)](_0x3a80e2=>{const _0x5d632a=a0_0x5a7632;let _0x11a711=_0x3a80e2[_0x5d632a(0x323)](':'),_0x547063={'host':_0x11a711[0x0],'port':_0x11a711[0x1],'protocol':_0x5d632a(0x54f)};return _0x11a711[_0x5d632a(0x4e4)]===0x4&&(_0x547063[_0x5d632a(0x658)]=_0x11a711[0x2],_0x547063[_0x5d632a(0x5a4)]=_0x11a711[0x3]),_0x547063;});function Er(_0x29d410){return _t['find'](_0x426191=>_0x426191['host']===_0x29d410)||null;}function Mr(){const _0x3f3ac5=a0_0x5a7632;if(_t[_0x3f3ac5(0x4e4)]===0x0)return null;let _0x536511=Math['floor'](Math[_0x3f3ac5(0x171)]()*_t[_0x3f3ac5(0x4e4)]);return _t[_0x536511];}function Rs(_0x2f8abb){const _0x1be042=a0_0x5a7632;let _0x532693=_0x1e6be3=>typeof _0x1e6be3==_0x1be042(0x2dc)&&_0x1e6be3[_0x1be042(0x4e4)]>0x0,_0x2d2299=_0x40dee5=>{let _0x175fe4=parseInt(_0x40dee5,0xa);return!isNaN(_0x175fe4)&&_0x175fe4>0x0&&_0x175fe4<=0xffff;},_0x1a1cf2=_0x5c18d7=>typeof _0x5c18d7=='string'&&_0x5c18d7[_0x1be042(0x4e4)]>0x0;return _0x2f8abb&&_0x532693(_0x2f8abb[_0x1be042(0x402)])&&_0x2d2299(_0x2f8abb['port'])&&(!_0x2f8abb[_0x1be042(0x658)]||_0x1a1cf2(_0x2f8abb[_0x1be042(0x658)]))&&(!_0x2f8abb[_0x1be042(0x5a4)]||_0x1a1cf2(_0x2f8abb['password']))&&(_0x2f8abb[_0x1be042(0x195)]===_0x1be042(0x54f)||_0x2f8abb['protocol']===_0x1be042(0x6ac));}var Is=require(a0_0x5a7632(0x6c9)),xs=a0_0x5a7632(0x6f9),Ir,ce=null,vr=null,Ze=null,Mi=0x3,vi=null;async function Ni(){const _0x45eea1=a0_0x5a7632;let _0x267bc2=await ye['findOne']();ce=_0x267bc2?.[_0x45eea1(0x13b)]??null,vi=_0x267bc2?.[_0x45eea1(0x532)]??null,xs=_0x267bc2?.['connectedClient']??_0x45eea1(0x6f9),Ir=_0x267bc2?.[_0x45eea1(0x16f)]??Ds??_0x45eea1(0x21f),console[_0x45eea1(0x1c8)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x45eea1(0x1c8)](_0x267bc2);}async function Ri(){await Ni();}Ri();var Nr={},ae={},be=class c{constructor(_0x3adb75,_0x6071a1,_0xc4f89d){const _0x32586b=a0_0x5a7632;this[_0x32586b(0x513)]=_0x3adb75,this['eventEmitter']=_0x6071a1,this[_0x32586b(0x2d9)]=_0xc4f89d,this[_0x32586b(0x15d)]=null,this[_0x32586b(0x22c)]=new v(c[_0x32586b(0x510)]),this[_0x32586b(0x35a)]={},this[_0x32586b(0x71d)]={},this[_0x32586b(0x636)]={'state':_0x32586b(0x4fb)},this[_0x32586b(0x6e5)]=(0x0,J['join'])(ie,_0x32586b(0x4f5)),this[_0x32586b(0x47b)]=new As[(_0x32586b(0x1c5))](),this['userDevicesCache']=new As[(_0x32586b(0x1c5))](),this[_0x32586b(0x466)]=!0x1,this[_0x32586b(0x77e)]={'status.instance':_0x32586b(0x678),'connection.update':_0x32586b(0x678),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x32586b(0x11f),'send.message':_0x32586b(0x11f),'messages.update':'/wa-message-update','group.upsert':_0x32586b(0x2d0),'group.update':_0x32586b(0x2d0),'group-participants.update':'/wa-groups','messages.set':_0x32586b(0x583),'contacts.set':'/wa-contacts','contacts.upsert':_0x32586b(0x578),'contacts.update':_0x32586b(0x578),'presence.update':_0x32586b(0x497),'chats.set':'/wa-chats','chats.update':_0x32586b(0x1d6),'chats.upsert':_0x32586b(0x1d6),'chats.delete':'/wa-chats'},this[_0x32586b(0x26d)]=0x0,this[_0x32586b(0x6cb)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x32586b(0x169)]={'chats.upsert':async(_0x12c635,_0x22af0e)=>{const _0x237202=_0x32586b;let _0x3e57d0=[];for await(let _0x2f1efd of _0x12c635)_0x3e57d0['push']({'_id':_0x2f1efd['id'],'owner':this[_0x237202(0x35a)][_0x237202(0x6a2)],'group':_0x2f1efd['id']['endsWith'](_0x237202(0x63e)),'name':_0x2f1efd[_0x237202(0x510)]||_0x2f1efd[_0x237202(0x157)]||null,'contactname':null,'lastmsg':_0x2f1efd['conversationTimestamp']&&_0x2f1efd['conversationTimestamp'][_0x237202(0x1ce)]()[_0x237202(0x4e4)]<0xd?_0x2f1efd[_0x237202(0x451)]*0x3e8:_0x2f1efd[_0x237202(0x451)]||null,'archived':_0x2f1efd[_0x237202(0x60a)]||!0x1,'unreadcount':_0x2f1efd[_0x237202(0x505)]||0x0});this[_0x237202(0x376)]('chats.upsert',_0x3e57d0);},'chats.update':async(_0x179bf6,_0x3e8699)=>{const _0xe8856=_0x32586b;for(let _0x59f33e of _0x179bf6){let _0x24f1d4={'_id':_0x59f33e['id'],'owner':this['instance'][_0xe8856(0x6a2)],'group':_0x59f33e['id']['endsWith'](_0xe8856(0x63e)),'name':_0x59f33e['name']||_0x59f33e[_0xe8856(0x157)],'archived':_0x59f33e[_0xe8856(0x60a)],'ephemeralExpiration':_0x59f33e[_0xe8856(0x535)]},_0x1c9ed7=!0x1,_0xac03ab={};_0x24f1d4[_0xe8856(0x60a)]!=null&&(this['logger']['verbose'](this[_0xe8856(0x76b)]+'\x20('+this[_0xe8856(0x35a)][_0xe8856(0x6a2)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x59f33e[_0xe8856(0x60a)]),_0x1c9ed7=!0x0,_0xac03ab[_0xe8856(0x60a)]=_0x59f33e[_0xe8856(0x60a)]),_0x59f33e[_0xe8856(0x510)]!=null&&(this[_0xe8856(0x22c)][_0xe8856(0x140)](this[_0xe8856(0x76b)]+'\x20('+this['instance'][_0xe8856(0x6a2)]+_0xe8856(0x10b)+_0x59f33e[_0xe8856(0x510)]),_0x1c9ed7=!0x0,_0xac03ab[_0xe8856(0x510)]=_0x59f33e[_0xe8856(0x510)]),_0x59f33e[_0xe8856(0x157)]!=null&&(this[_0xe8856(0x22c)][_0xe8856(0x140)](this[_0xe8856(0x76b)]+'\x20('+this[_0xe8856(0x35a)]['wuid']+_0xe8856(0x2df)+_0x59f33e['displayName']),_0x1c9ed7=!0x0,_0xac03ab[_0xe8856(0x510)]=_0x59f33e['displayName']);let _0xb39cbe;_0x1c9ed7&&(_0xb39cbe=await this[_0xe8856(0x2d9)][_0xe8856(0x458)][_0xe8856(0x406)]({'where':{'_id':_0x59f33e['id']}},_0xac03ab,this[_0xe8856(0x35a)]['wuid'])),_0xb39cbe&&q(this['instanceName'],_0xe8856(0x2ec),{'chat':_0xb39cbe});}},'chats.delete':async _0x182a8b=>{const _0x1e5cdb=_0x32586b;this[_0x1e5cdb(0x376)]('chats.delete',[..._0x182a8b]);}},this[_0x32586b(0x1ea)]={'contacts.upsert':async(_0x579067,_0x27bfdf)=>{const _0x5b7042=_0x32586b;let _0x501c84=await this[_0x5b7042(0x2d9)][_0x5b7042(0x1e1)][_0x5b7042(0x6c4)]({'where':{}},this[_0x5b7042(0x35a)]['wuid']),_0x4ab943=[];for await(let _0x2a38c4 of _0x579067)_0x501c84[_0x5b7042(0x6c4)](_0xac12d8=>_0xac12d8[_0x5b7042(0x21b)]===_0x2a38c4['id'])||_0x4ab943['push']({'_id':_0x2a38c4['id'],'pushName':_0x2a38c4?.[_0x5b7042(0x510)]||_0x2a38c4?.['verifiedName'],'owner':this[_0x5b7042(0x35a)][_0x5b7042(0x6a2)]});this[_0x5b7042(0x376)](_0x5b7042(0x25a),_0x4ab943),await this[_0x5b7042(0x2d9)][_0x5b7042(0x1e1)][_0x5b7042(0x4bf)](_0x4ab943);},'contacts.update':async(_0x462cef,_0x1cc089)=>{const _0x13d5b0=_0x32586b;let _0x4f8db6=[];for await(let _0x463390 of _0x462cef)_0x4f8db6[_0x13d5b0(0x208)]({'_id':_0x463390['id'],'pushName':_0x463390?.[_0x13d5b0(0x510)]??_0x463390?.[_0x13d5b0(0x663)],'owner':this[_0x13d5b0(0x35a)][_0x13d5b0(0x6a2)]});this['sendDataWebhook']('contacts.update',_0x4f8db6);}},this['messageHandle']={'messaging-history.set':async({messages:_0x368ef6,chats:_0x5a2270,isLatest:_0x454735},_0x43a839)=>{const _0x3a2be7=_0x32586b;if(_0x454735){let _0x34ad6b=await Promise[_0x3a2be7(0x172)](_0x5a2270[_0x3a2be7(0x2ca)](async _0x329171=>({'_id':_0x329171['id'],'owner':this[_0x3a2be7(0x35a)][_0x3a2be7(0x6a2)],'group':_0x329171['id']['endsWith']('@g.us'),'name':_0x329171[_0x3a2be7(0x510)]||_0x329171[_0x3a2be7(0x157)]||null,'contactname':null,'lastmsg':_0x329171[_0x3a2be7(0x451)]&&_0x329171[_0x3a2be7(0x451)][_0x3a2be7(0x1ce)]()[_0x3a2be7(0x4e4)]<0xd?_0x329171[_0x3a2be7(0x451)]*0x3e8:_0x329171[_0x3a2be7(0x451)]||null,'archived':_0x329171[_0x3a2be7(0x60a)]||!0x1,'unreadcount':_0x329171[_0x3a2be7(0x505)]||0x0})));this[_0x3a2be7(0x376)](_0x3a2be7(0x77c),_0x34ad6b),await this[_0x3a2be7(0x28a)](_0x34ad6b,_0x43a839);}let _0x172fac=[],_0xf4a50e=Date[_0x3a2be7(0x73d)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1e4901]of Object[_0x3a2be7(0x269)](_0x368ef6)){if(_0x1e4901[_0x3a2be7(0x6f6)]?.[_0x3a2be7(0x191)]||_0x1e4901[_0x3a2be7(0x6f6)]?.[_0x3a2be7(0x3e1)]||!_0x1e4901[_0x3a2be7(0x6f6)]||_0x1e4901[_0x3a2be7(0x331)][_0x3a2be7(0x619)]===_0x3a2be7(0x32f)||(Os['default']['isLong'](_0x1e4901?.[_0x3a2be7(0x720)])&&(_0x1e4901[_0x3a2be7(0x720)]=_0x1e4901['messageTimestamp']?.[_0x3a2be7(0x500)]()),_0x1e4901[_0x3a2be7(0x720)]&&_0x1e4901['messageTimestamp'][_0x3a2be7(0x1ce)]()['length']<0xd&&(_0x1e4901[_0x3a2be7(0x720)]=_0x1e4901['messageTimestamp']*0x3e8),_0x1e4901[_0x3a2be7(0x720)]<_0xf4a50e))continue;let _0x5cf9b3=(0x0,m[_0x3a2be7(0x6d5)])(_0x1e4901['message']),_0xd2454e=(0x0,m['getContentType'])(_0x5cf9b3),{message_normalized:_0x4c8cec}=this['normalizeMessage'](_0x5cf9b3,_0xd2454e,null);Object[_0x3a2be7(0x769)](_0x4c8cec)[_0x3a2be7(0x4e4)]>0x0&&_0x172fac[_0x3a2be7(0x208)]({'_id':_0x1e4901[_0x3a2be7(0x331)]['id'],'key':_0x1e4901[_0x3a2be7(0x331)],'pushName':_0x1e4901['pushName'],'participant':_0x1e4901[_0x3a2be7(0x37e)],'message':_0x5cf9b3,'messageType':_0xd2454e,'message_normalized':{'key':_0x1e4901[_0x3a2be7(0x331)],'pushName':_0x1e4901['pushName'],'messageTimestamp':_0x1e4901['messageTimestamp'],..._0x4c8cec},'messageTimestamp':_0x1e4901[_0x3a2be7(0x720)],'owner':this[_0x3a2be7(0x35a)][_0x3a2be7(0x6a2)]});}_0x43a839['ENABLED']&&_0x172fac[_0x3a2be7(0x4e4)]>0x0&&(this[_0x3a2be7(0x22c)][_0x3a2be7(0x140)](this[_0x3a2be7(0x76b)]+'\x20('+this[_0x3a2be7(0x35a)][_0x3a2be7(0x6a2)]+_0x3a2be7(0x2f8)+_0x172fac['length']+_0x3a2be7(0x23f)+this[_0x3a2be7(0x35a)][_0x3a2be7(0x6a2)]+_0x3a2be7(0x3ff)),await this['repository']['message']['insert']([..._0x172fac],this[_0x3a2be7(0x35a)][_0x3a2be7(0x6a2)])),this[_0x3a2be7(0x376)](_0x3a2be7(0x37c),[..._0x172fac]),_0x368ef6=void 0x0;},'messages.upsert':async({messages:_0x217c3a,type:_0x444e2c},_0x36a368)=>{const _0x275bfc=_0x32586b;let _0x4d847e=_0x217c3a[0x0],_0x5479cf=_0x4d847e['key']['id'],_0x1c301c=_0x4d847e['messageStubType']===0x2,_0x4a2a22=0x6;if(this[_0x275bfc(0x71d)]?.[_0x275bfc(0x447)]&&_0x4d847e[_0x275bfc(0x331)]['remoteJid'][_0x275bfc(0x3b6)]('@g.us')){this[_0x275bfc(0x22c)][_0x275bfc(0x140)](this[_0x275bfc(0x76b)]+'\x20('+this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x1c301c){if(ae[_0x5479cf]||(ae[_0x5479cf]=0x0),ae[_0x5479cf]++,this[_0x275bfc(0x22c)]['error'](this[_0x275bfc(0x76b)]+'\x20('+this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]+_0x275bfc(0x103)+_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x619)]+'\x20e\x20ID='+_0x5479cf+':\x20'+ae[_0x5479cf]+'/'+_0x4a2a22),ae[_0x5479cf]>=_0x4a2a22){this[_0x275bfc(0x22c)]['error'](this['instanceName']+'\x20('+this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]+_0x275bfc(0x780)+_0x4d847e['key'][_0x275bfc(0x619)]+_0x275bfc(0x6da)+_0x5479cf+'.');let _0x5ecb3a={'key':{..._0x4d847e[_0x275bfc(0x331)]},'message':{'conversation':_0x275bfc(0x404)+_0x5479cf+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x619)][_0x275bfc(0x3b6)](_0x275bfc(0x770))&&this[_0x275bfc(0x425)]['ev'][_0x275bfc(0x33c)]('messages.upsert',{'messages':[_0x5ecb3a],'type':_0x275bfc(0x48a)}),delete ae[_0x5479cf];}}else ae[_0x5479cf]&&(this[_0x275bfc(0x22c)][_0x275bfc(0xff)](_0x275bfc(0x241)+ae[_0x5479cf]+_0x275bfc(0x5d8)+_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x619)]+_0x275bfc(0x6da)+_0x5479cf),delete ae[_0x5479cf]);if(_0x444e2c!==_0x275bfc(0x48a)||!_0x4d847e?.[_0x275bfc(0x6f6)]||_0x4d847e[_0x275bfc(0x6f6)]?.[_0x275bfc(0x191)]||_0x4d847e[_0x275bfc(0x6f6)][_0x275bfc(0x3e1)]||_0x4d847e[_0x275bfc(0x331)]['remoteJid']===_0x275bfc(0x32f))return;let _0x33e85b=null,_0xb21bfd=null;try{_0x33e85b=await this[_0x275bfc(0x765)](_0x4d847e),_0xb21bfd=_0x33e85b?_0x33e85b['join'](','):null;}catch(_0x42c452){this['logger'][_0x275bfc(0x140)](this[_0x275bfc(0x76b)]+'\x20('+this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]+_0x275bfc(0x2f8)+(_0x42c452 instanceof Error?_0x42c452[_0x275bfc(0x6f6)]:JSON[_0x275bfc(0x68d)](_0x42c452,null,0x2))),_0xb21bfd='error\x20get\x20vote';}this[_0x275bfc(0x425)]['sendPresenceUpdate']('unavailable'),Os[_0x275bfc(0x1c5)]['isLong'](_0x4d847e[_0x275bfc(0x720)])&&(_0x4d847e[_0x275bfc(0x720)]=_0x4d847e[_0x275bfc(0x720)]?.[_0x275bfc(0x500)]()),_0x4d847e[_0x275bfc(0x720)]&&_0x4d847e['messageTimestamp'][_0x275bfc(0x1ce)]()[_0x275bfc(0x4e4)]<0xd&&(_0x4d847e['messageTimestamp']=_0x4d847e[_0x275bfc(0x720)]*0x3e8);let _0x749021=_0x4d847e[_0x275bfc(0x6f6)],_0x33572d=(0x0,m['normalizeMessageContent'])(_0x749021),_0x8e27f3=(0x0,m[_0x275bfc(0x709)])(_0x33572d),{messageContent:_0x5d85e8,message_normalized:_0x1a0478}=this[_0x275bfc(0x5ab)](_0x33572d,_0x8e27f3,_0xb21bfd);_0x8e27f3==='protocolMessage'&&_0x5d85e8?.['editedMessage']&&(_0x8e27f3=_0x275bfc(0x289));let _0xb9c4b,_0x2446e7=_0x4d847e['key']['remoteJid'][_0x275bfc(0x10d)](_0x275bfc(0x63e));if(_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x41c)])_0xb9c4b=this[_0x275bfc(0x35a)][_0x275bfc(0x1ff)];else{let _0x410986=_0x2446e7?_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x37e)]:_0x4d847e[_0x275bfc(0x331)][_0x275bfc(0x619)];_0xb9c4b=(await this[_0x275bfc(0x6dc)](_0x410986,_0x4d847e[_0x275bfc(0x581)],!0x1))[_0x275bfc(0x1cd)][_0x275bfc(0x78f)];}let _0x15d653={'_id':_0x4d847e[_0x275bfc(0x331)]['id'],'key':_0x4d847e[_0x275bfc(0x331)],'isGroup':_0x2446e7,'profilePictureUrl':_0xb9c4b,'pushName':_0x4d847e[_0x275bfc(0x581)],'message':_0x33572d,'messageType':_0x8e27f3,'message_normalized':{'key':_0x4d847e[_0x275bfc(0x331)],'pushName':_0x4d847e[_0x275bfc(0x581)],'messageTimestamp':_0x4d847e['messageTimestamp'],'source':(0x0,m['getDevice'])(_0x4d847e['key']['id']),..._0x1a0478},'messageTimestamp':_0x4d847e[_0x275bfc(0x720)],'owner':this[_0x275bfc(0x35a)]['wuid'],'source':(0x0,m[_0x275bfc(0x5a2)])(_0x4d847e[_0x275bfc(0x331)]['id'])};_0x5d85e8||(console['error'](_0x275bfc(0x6ef)),this[_0x275bfc(0x22c)]['error'](_0x15d653)),this[_0x275bfc(0x22c)]['log'](this['instanceName']+'\x20('+this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]+_0x275bfc(0x2f8)+(_0x15d653['key']?.['fromMe']?_0x275bfc(0x7b0):'recebido\x20de')+'\x20['+_0x15d653['key']?.[_0x275bfc(0x619)][_0x275bfc(0x23d)](_0x275bfc(0x770),'')+_0x275bfc(0x4d2)+_0x15d653['messageType']+')'),_0x15d653['message_normalized']?.[_0x275bfc(0x142)]&&this[_0x275bfc(0x22c)]['log'](_0x5479cf+':\x20'+_0x15d653['message_normalized']?.[_0x275bfc(0x142)]),await this[_0x275bfc(0x2d9)]['message'][_0x275bfc(0x4bf)]([_0x15d653],this[_0x275bfc(0x35a)][_0x275bfc(0x6a2)]),this['sendDataWebhook'](_0x275bfc(0x41f),_0x15d653),q(this[_0x275bfc(0x76b)],_0x275bfc(0x57e),{'message':_0x15d653}),_0x4d847e['key']['remoteJid']!==_0x275bfc(0x32f)&&await this[_0x275bfc(0x53c)](_0x36a368,_0x15d653,_0x275bfc(0x51d));},'messages.update':async(_0x2dbf3f,_0x2d20cc)=>{const _0x25cdfc=_0x32586b;let _0x396421={0x0:_0x25cdfc(0x41d),0x1:_0x25cdfc(0x4ab),0x2:_0x25cdfc(0x4b2),0x3:_0x25cdfc(0x56d),0x4:'READ',0x5:_0x25cdfc(0x6cd)};for await(let {key:_0x4c78b0,update:_0x28bf6a}of _0x2dbf3f){if(this[_0x25cdfc(0x71d)]?.[_0x25cdfc(0x447)]&&_0x4c78b0['remoteJid'][_0x25cdfc(0x3b6)](_0x25cdfc(0x63e))){this[_0x25cdfc(0x22c)]['verbose'](this[_0x25cdfc(0x76b)]+'\x20('+this[_0x25cdfc(0x35a)][_0x25cdfc(0x6a2)]+_0x25cdfc(0x51b));return;}if(_0x4c78b0['remoteJid']!==_0x25cdfc(0x32f)){let _0x64c7a4=Date[_0x25cdfc(0x73d)](),_0x1615bb;_0x28bf6a[_0x25cdfc(0x6f6)]===null&&_0x28bf6a['status']===void 0x0?_0x1615bb=_0x25cdfc(0x178):_0x1615bb=_0x396421[_0x28bf6a[_0x25cdfc(0x5cd)]];let _0x50a3af=_0x4c78b0[_0x25cdfc(0x619)][_0x25cdfc(0x23d)](/:\d{1,2}@/g,'@'),_0x58fbce={..._0x4c78b0,'remoteJid':_0x50a3af,'status':_0x1615bb,'datetime':_0x64c7a4,'owner':this[_0x25cdfc(0x35a)][_0x25cdfc(0x6a2)]};this[_0x25cdfc(0x376)](_0x25cdfc(0x5dd),_0x58fbce),await this['updateMessage'](_0x4c78b0,_0x58fbce);}}},'labels.association':async({type:_0x34bad1,association:_0x1a7740})=>{const _0x13361c=_0x32586b;if(_0x1a7740['type']===_0x13361c(0x412)){let _0x4c7eaa,_0xd813e2=0x0;for(;!_0x4c7eaa&&_0xd813e2<this[_0x13361c(0x503)];)_0x4c7eaa=await this[_0x13361c(0x2d9)][_0x13361c(0x458)]['findOne']({'where':{'_id':_0x1a7740[_0x13361c(0x63c)]}},this['instance'][_0x13361c(0x6a2)]),_0x4c7eaa||(_0xd813e2++,console[_0x13361c(0x1c8)]('Chat\x20'+_0x1a7740[_0x13361c(0x63c)]+'\x20not\x20found,\x20retrying\x20in\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x13361c(0x28f)+_0xd813e2+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this[_0x13361c(0x44d)]));if(!_0x4c7eaa){console[_0x13361c(0x7aa)]('Failed\x20to\x20find\x20chat\x20'+_0x1a7740['chatId']+_0x13361c(0x6e2)+this[_0x13361c(0x503)]+'\x20attempts.');return;}switch(_0x34bad1){case'add':console[_0x13361c(0x1c8)](_0x1a7740),await this[_0x13361c(0x2d9)][_0x13361c(0x458)][_0x13361c(0x406)]({'where':{'_id':_0x1a7740[_0x13361c(0x63c)]}},{'leadInfo.etiquetas':_0x1a7740[_0x13361c(0x1b5)]},this[_0x13361c(0x35a)]['wuid'],void 0x0,_0x13361c(0x566));break;case _0x13361c(0x259):console[_0x13361c(0x1c8)](_0x1a7740),await this[_0x13361c(0x2d9)][_0x13361c(0x458)][_0x13361c(0x406)]({'where':{'_id':_0x1a7740[_0x13361c(0x63c)]}},{'leadInfo.etiquetas':_0x1a7740['labelId']},this[_0x13361c(0x35a)][_0x13361c(0x6a2)],void 0x0,'$pull');break;default:console[_0x13361c(0x7aa)]('unknown\x20operation\x20type\x20['+_0x34bad1+']');}}},'labels.edit':async _0x583307=>{const _0x50c344=_0x32586b;if(!_0x583307||!_0x583307['id']){console['error'](_0x50c344(0x1ba));return;}if(!_0x583307['deleted']){let _0x4c04e4=[_0x50c344(0x20f),'#64c4ff',_0x50c344(0x17a),_0x50c344(0x70f),_0x50c344(0x132),_0x50c344(0x6f7),_0x50c344(0x543),_0x50c344(0x7ab),_0x50c344(0x1f6),_0x50c344(0x700),'#01d0e2','#ffc5c7',_0x50c344(0x723),_0x50c344(0x3e0),_0x50c344(0x431),_0x50c344(0x3f6),'#ffae04',_0x50c344(0x218),'#9ba6ff',_0x50c344(0x3f7)],_0x17569d;typeof _0x583307[_0x50c344(0x1df)]==_0x50c344(0x744)&&_0x583307[_0x50c344(0x1df)]>=0x0&&_0x583307[_0x50c344(0x1df)]<_0x4c04e4[_0x50c344(0x4e4)]?_0x17569d=_0x4c04e4[_0x583307['color']]:(console[_0x50c344(0x7aa)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x583307[_0x50c344(0x1df)]),_0x17569d=_0x50c344(0x187));let _0x217c70={'_id':_0x583307['id'],'colorHex':_0x17569d,'color':_0x583307?.[_0x50c344(0x1df)],'name':_0x583307?.[_0x50c344(0x510)],'owner':this[_0x50c344(0x35a)]['wuid']};await this[_0x50c344(0x2d9)][_0x50c344(0x63b)]['updateOne']({'where':{'_id':_0x583307['id']}},_0x217c70,this[_0x50c344(0x35a)]['wuid']),console[_0x50c344(0x1c8)]('Rótulo\x20atualizado:',_0x583307);}_0x583307['deleted']&&(await this['repository']['label'][_0x50c344(0x7af)]({'where':{'_id':_0x583307['id']}},this[_0x50c344(0x35a)][_0x50c344(0x6a2)]),console[_0x50c344(0x1c8)](_0x50c344(0x48d),_0x583307['id']));}},this['groupHandler']={'groups.upsert':_0xa487f2=>{this['sendDataWebhook']('groups.upsert',_0xa487f2);},'groups.update':_0x26b1b2=>{const _0x4272ad=_0x32586b;this[_0x4272ad(0x376)](_0x4272ad(0x52d),_0x26b1b2);},'group-participants.update':_0x15d9bf=>{const _0x570426=_0x32586b;this[_0x570426(0x376)](_0x570426(0x429),_0x15d9bf);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x32586b(0x44d)]=0x1388,this[_0x32586b(0x765)]=async _0x1812e1=>{const _0x3a02f5=_0x32586b;if(_0x1812e1[_0x3a02f5(0x6f6)]?.[_0x3a02f5(0x3f4)]){let _0x2901fc=await this['getMessage'](_0x1812e1[_0x3a02f5(0x6f6)][_0x3a02f5(0x3f4)][_0x3a02f5(0x193)],!0x0);if(_0x2901fc){let _0x5a4a44=_0x2901fc[_0x3a02f5(0x331)][_0x3a02f5(0x41c)]?this['instance']['wuid']+_0x3a02f5(0x770):_0x2901fc[_0x3a02f5(0x331)]['participant']||_0x2901fc['key'][_0x3a02f5(0x619)],_0x6e63d2=_0x2901fc[_0x3a02f5(0x331)]['id'],_0x296f87=_0x2901fc[_0x3a02f5(0x6f6)],_0x1db6fb=Buffer[_0x3a02f5(0x49e)](_0x296f87[_0x3a02f5(0x68a)][_0x3a02f5(0x2c1)][_0x3a02f5(0x1ce)](_0x3a02f5(0x3ba)),_0x3a02f5(0x3ba)),_0x2b50f5=(0x0,m[_0x3a02f5(0x428)])(_0x1812e1[_0x3a02f5(0x6f6)][_0x3a02f5(0x3f4)]['vote'],{'pollCreatorJid':_0x5a4a44,'pollMsgId':_0x6e63d2,'pollEncKey':_0x1db6fb,'voterJid':_0x1812e1[_0x3a02f5(0x331)][_0x3a02f5(0x41c)]?this[_0x3a02f5(0x35a)][_0x3a02f5(0x6a2)]+_0x3a02f5(0x770):_0x1812e1[_0x3a02f5(0x331)][_0x3a02f5(0x619)][_0x3a02f5(0x10d)](_0x3a02f5(0x5f9))?_0x1812e1[_0x3a02f5(0x331)][_0x3a02f5(0x37e)]:_0x1812e1['key'][_0x3a02f5(0x619)]}),_0x1b83fd=[],_0x398131=_0x2b50f5[_0x3a02f5(0x3c0)]['map'](_0x9bbba0=>Buffer[_0x3a02f5(0x49e)](_0x9bbba0)[_0x3a02f5(0x1ce)](_0x3a02f5(0x3ba)));for(let {optionName:_0x3dd688}of _0x296f87[_0x3a02f5(0x4d0)]?.['options']||_0x296f87[_0x3a02f5(0x65f)]?.['options']||_0x296f87['pollCreationMessageV2']?.[_0x3a02f5(0x698)])_0x398131['indexOf']((0x0,m[_0x3a02f5(0x797)])(Buffer[_0x3a02f5(0x49e)](_0x3dd688))[_0x3a02f5(0x1ce)](_0x3a02f5(0x3ba)))>-0x1&&_0x1b83fd[_0x3a02f5(0x208)](_0x3dd688);return _0x1b83fd;}}return null;},this[_0x32586b(0x5ab)]=(_0x56c521,_0x103273,_0x3a9a22)=>{const _0x15c1c7=_0x32586b;try{let _0x25c6f6=_0x56c521?(0x0,m[_0x15c1c7(0x45c)])(_0x56c521)[_0x103273]:void 0x0,_0x211e70={},_0x50afaf=null,_0x17a381=null,_0x159141=null;_0x103273===_0x15c1c7(0x191)&&_0x25c6f6?.[_0x15c1c7(0x289)]&&(_0x103273=(0x0,m[_0x15c1c7(0x709)])(_0x25c6f6[_0x15c1c7(0x289)]),_0x50afaf=_0x56c521[_0x15c1c7(0x191)][_0x15c1c7(0x331)]['id'],_0x25c6f6=_0x56c521[_0x15c1c7(0x191)]['editedMessage'][_0x103273]),_0x56c521[_0x103273]?.[_0x15c1c7(0x76c)]?.[_0x15c1c7(0x519)]&&_0x56c521[_0x103273]?.[_0x15c1c7(0x76c)]?.[_0x15c1c7(0x57b)]&&(_0x17a381=_0x56c521[_0x103273][_0x15c1c7(0x76c)][_0x15c1c7(0x519)]),_0x56c521[_0x15c1c7(0x746)]&&(_0x159141=_0x56c521[_0x15c1c7(0x746)]['key']['id']);let _0x51a1c6;if(_0x25c6f6&&typeof _0x25c6f6==_0x15c1c7(0x504)&&_0x15c1c7(0x193)in _0x25c6f6&&({pollCreationMessageKey:_0x51a1c6}=_0x25c6f6),_0x103273==='pollCreationMessage'||_0x103273===_0x15c1c7(0x321)||_0x103273===_0x15c1c7(0x65f)){let _0x461693=_0x25c6f6['options']['map'](_0x553fea=>_0x553fea[_0x15c1c7(0x5f5)])['join']('|');_0x211e70['convertedOptions']=_0x461693;}let _0x235358='';if(_0x25c6f6&&(_0x235358+=_0x25c6f6[_0x15c1c7(0x510)]?_0x25c6f6[_0x15c1c7(0x510)]:'',_0x235358+=_0x25c6f6['caption']?'\x20'+_0x25c6f6[_0x15c1c7(0x113)]:'',_0x235358+=_0x25c6f6['conversation']?'\x20'+_0x25c6f6[_0x15c1c7(0x78b)]:'',_0x235358+=_0x25c6f6[_0x15c1c7(0x157)]?'\x20'+_0x25c6f6[_0x15c1c7(0x157)]:''),_0x103273===_0x15c1c7(0x34b)){_0x235358=(_0x25c6f6[_0x15c1c7(0x4ec)]||'')+'\x0a'+(_0x25c6f6[_0x15c1c7(0x6a5)]||'')+'\x0a'+(_0x25c6f6['footerText']||'');let _0x508230=this[_0x15c1c7(0x282)](_0x25c6f6[_0x15c1c7(0x34d)]);_0x211e70['convertedOptions']=_0x508230;}if(_0x103273===_0x15c1c7(0x2c3)&&(_0x3a9a22=_0x25c6f6[_0x15c1c7(0x4ec)]),_0x25c6f6&&_0x25c6f6[_0x15c1c7(0x4e2)]){let _0x1f19b1=this[_0x15c1c7(0x6c3)](JSON[_0x15c1c7(0x68d)](_0x25c6f6[_0x15c1c7(0x4e2)],null,0x2));_0x235358=_0x235358+'\x0a'+_0x1f19b1;}if(_0x25c6f6){let {sections:_0xbd35ea,listType:_0x270c69,displayName:_0x177f7e,vcard:_0x140cd7,contactVcard:_0x3b3474,name:_0x49ba3a,caption:_0x60c0f6,conversation:_0x1bf13c,pollCreationMessageKey:_0x16f783,footerText:_0x551b84,contentText:_0x2912a1,pageCount:_0x343409,headerType:_0x2bec41,isAvatar:_0x4fc624,isAnimated:_0xabd7a9,fallbackLc:_0x47a7ae,fallbackLg:_0x5187a6,namespace:_0x5ecfa0,elementName:_0x33bd9b,localizableParams:_0x5378bb,viewOnce:_0x274b26,height:_0x1a843d,width:_0x33a2ef,key:_0x36df25,firstScanLength:_0x45fa75,firstScanSidecar:_0x25bd48,gifPlayback:_0x5b14b8,gifAttribution:_0x218274,midQualityFileSha256:_0x4bc370,scansSidecar:_0x222d4e,streamingSidecar:_0xdb4e56,thumbnailHeight:_0x34069f,thumbnailWidth:_0x28fdf7,thumbnailEncSha256:_0x262ff1,thumbnailDirectPath:_0xaaa57,canonicalUrl:_0x234e13,matchedText:_0x2c7496,previewType:_0x43a733,thumbnailSha256:_0x3bee87,deviceListMetadataVersion:_0x24f815,inviteLinkGroupTypeV2:_0x53b1ad,interactiveAnnotations:_0x3a1a8d,scanLengths:_0x23d1e1,jpegThumbnail:_0x4a9e6b,url:_0x210d9a,mediaKeyTimestamp:_0x3c95a4,waveform:_0x2ca8c2,stickerSentTs:_0x372dda,firstFrameLength:_0x3e725e,fileEncSha256:_0x296389,contextInfo:_0x22387e,firstFrameSidecar:_0x2f2075,directPath:_0x2c68c7,fileSha256:_0x96f943,mediaKey:_0x5e6686,senderTimestampMs:_0x168ef7,..._0x3057fb}=_0x25c6f6;(_0x103273===_0x15c1c7(0x34b)||_0x103273===_0x15c1c7(0x2c3))&&(delete _0x3057fb['title'],delete _0x3057fb['description']),typeof _0x25c6f6==_0x15c1c7(0x2dc)?_0x211e70={'text':_0x25c6f6,'type':_0x103273||_0x15c1c7(0x78b),..._0x50afaf&&{'edited':_0x50afaf},..._0x17a381&&{'quoted':_0x17a381},..._0x159141&&{'reaction':_0x159141}}:_0x211e70={'text':_0x235358,..._0x3057fb,..._0x103273===_0x15c1c7(0x3f4)?{'poll_id':_0x25c6f6['pollCreationMessageKey']['id'],'quoted':_0x25c6f6[_0x15c1c7(0x193)]['id'],'vote':_0x3a9a22}:{},..._0x103273===_0x15c1c7(0x2c3)?{'vote':_0x3a9a22}:{},'type':_0x103273,..._0x50afaf&&{'edited':_0x50afaf},..._0x17a381&&{'quoted':_0x17a381},..._0x159141&&{'reaction':_0x159141},...(_0x103273===_0x15c1c7(0x4d0)||_0x103273===_0x15c1c7(0x321)||_0x103273===_0x15c1c7(0x65f)||_0x103273===_0x15c1c7(0x34b))&&{'convertedOptions':_0x211e70[_0x15c1c7(0xe9)]}};}return{'messageType':_0x103273,'messageContent':_0x25c6f6,'message_normalized':_0x211e70};}catch(_0x2de3f8){return console[_0x15c1c7(0x7aa)](_0x15c1c7(0x4ef),_0x2de3f8),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x32586b(0x35a)][_0x32586b(0x61f)]={'count':0x0},this[_0x32586b(0x35a)][_0x32586b(0x117)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x5a7632(0x76b)](_0x40ec73){const _0x34c86d=a0_0x5a7632;if(!_0x40ec73){this[_0x34c86d(0x35a)][_0x34c86d(0x510)]=(0x0,Tr['v4'])();return;}this['instance'][_0x34c86d(0x510)]=_0x40ec73,this[_0x34c86d(0x376)](_0x34c86d(0x318),{'instance':this[_0x34c86d(0x35a)]['name'],'status':_0x34c86d(0x7b3)});}get[a0_0x5a7632(0x76b)](){const _0x8d7313=a0_0x5a7632;return this[_0x8d7313(0x35a)][_0x8d7313(0x510)];}get[a0_0x5a7632(0x6a2)](){const _0x33ca39=a0_0x5a7632;return this[_0x33ca39(0x35a)][_0x33ca39(0x6a2)];}async[a0_0x5a7632(0x5fb)](){const _0xe05afb=a0_0x5a7632;let _0x491f35=this['client'][_0xe05afb(0x5e2)]?.[_0xe05afb(0x510)]??this[_0xe05afb(0x425)][_0xe05afb(0x5e2)]?.[_0xe05afb(0x663)];if(!_0x491f35){if(this[_0xe05afb(0x513)][_0xe05afb(0x711)](_0xe05afb(0x771))[_0xe05afb(0x446)]){let _0x21c373=await T[_0xe05afb(0x3df)]()['db'](this[_0xe05afb(0x513)]['get'](_0xe05afb(0x771))[_0xe05afb(0x6e4)]['DB_PREFIX_NAME']+_0xe05afb(0x64d))[_0xe05afb(0x620)](this[_0xe05afb(0x76b)])[_0xe05afb(0x48e)]({'_id':_0xe05afb(0x718)});if(_0x21c373){let _0x179da2=JSON[_0xe05afb(0x1bd)](JSON[_0xe05afb(0x68d)](_0x21c373),m['BufferJSON']['reviver']);_0x491f35=_0x179da2['me']?.['name']||_0x179da2['me']?.[_0xe05afb(0x663)];}}else{if((0x0,Te[_0xe05afb(0x14a)])((0x0,J[_0xe05afb(0x41a)])(ge,this[_0xe05afb(0x76b)],_0xe05afb(0x595)))){let _0x48f06e=JSON[_0xe05afb(0x1bd)]((0x0,Te['readFileSync'])((0x0,J[_0xe05afb(0x41a)])(ge,this[_0xe05afb(0x76b)],'creds.json'),{'encoding':_0xe05afb(0x273)}));_0x491f35=_0x48f06e['me']?.[_0xe05afb(0x510)]||_0x48f06e['me']?.['verifiedName'];}}}return _0x491f35;}get[a0_0x5a7632(0x1ff)](){const _0x33402c=a0_0x5a7632;return this['instance'][_0x33402c(0x1ff)];}get[a0_0x5a7632(0x465)](){const _0x1979e7=a0_0x5a7632;return this[_0x1979e7(0x35a)]['qrcode']?.['pairingCode']?{'pairingCode':this[_0x1979e7(0x35a)][_0x1979e7(0x61f)]?.['pairingCode']}:{'code':this[_0x1979e7(0x35a)][_0x1979e7(0x61f)]?.[_0x1979e7(0x230)],'base64':this['instance'][_0x1979e7(0x61f)]?.[_0x1979e7(0x279)]};}async[a0_0x5a7632(0x407)](){const _0x21c9ea=a0_0x5a7632;let _0x336b0f=await this['repository'][_0x21c9ea(0x20c)][_0x21c9ea(0x6c4)](this[_0x21c9ea(0x76b)]);this[_0x21c9ea(0x71d)][_0x21c9ea(0x67c)]=_0x336b0f?.[_0x21c9ea(0x67c)],this[_0x21c9ea(0x71d)]['enabled']=_0x336b0f?.[_0x21c9ea(0x6b6)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x625)]=_0x336b0f?.['local_map'],this[_0x21c9ea(0x71d)][_0x21c9ea(0x1bf)]=_0x336b0f?.[_0x21c9ea(0x1bf)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x4e8)]=_0x336b0f?.[_0x21c9ea(0x4e8)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x789)]=_0x336b0f?.[_0x21c9ea(0x789)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x51d)]=_0x336b0f?.[_0x21c9ea(0x51d)],this[_0x21c9ea(0x71d)]['MESSAGES_UPDATE']=_0x336b0f?.[_0x21c9ea(0x2fd)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x6cc)]=_0x336b0f?.['GROUPS_UPSERT'],this[_0x21c9ea(0x71d)][_0x21c9ea(0x25d)]=_0x336b0f?.[_0x21c9ea(0x25d)],this['localWebhook'][_0x21c9ea(0x667)]=_0x336b0f?.[_0x21c9ea(0x667)],this['localWebhook'][_0x21c9ea(0x45b)]=_0x336b0f?.[_0x21c9ea(0x45b)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x6cf)]=_0x336b0f?.['CHATS_UPSERT'],this[_0x21c9ea(0x71d)]['CHATS_UPDATE']=_0x336b0f?.[_0x21c9ea(0x2ad)],this[_0x21c9ea(0x71d)]['CHATS_DELETE']=_0x336b0f?.[_0x21c9ea(0x455)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x570)]=_0x336b0f?.[_0x21c9ea(0x570)],this[_0x21c9ea(0x71d)]['CONTACTS_UPSERT']=_0x336b0f?.[_0x21c9ea(0x78d)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x29d)]=_0x336b0f?.[_0x21c9ea(0x29d)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x492)]=_0x336b0f?.[_0x21c9ea(0x492)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x3eb)]=_0x336b0f?.[_0x21c9ea(0x3eb)],this[_0x21c9ea(0x71d)][_0x21c9ea(0x4f0)]=_0x336b0f?.['CONNECTION_UPDATE'],this['localWebhook'][_0x21c9ea(0x447)]=_0x336b0f?.[_0x21c9ea(0x447)];}async[a0_0x5a7632(0x542)](_0x208a16){const _0xb2b0a5=a0_0x5a7632;let _0x548d73=[_0xb2b0a5(0x21b),'url',_0xb2b0a5(0x6b6),_0xb2b0a5(0x625),'STATUS_INSTANCE',_0xb2b0a5(0x4e8),'MESSAGES_UPDATE','MESSAGES_UPSERT',_0xb2b0a5(0x789),_0xb2b0a5(0x6cc),'GROUPS_UPDATE',_0xb2b0a5(0x667),_0xb2b0a5(0x45b),'CHATS_UPSERT',_0xb2b0a5(0x2ad),'CHATS_DELETE',_0xb2b0a5(0x570),_0xb2b0a5(0x78d),_0xb2b0a5(0x29d),_0xb2b0a5(0x492),_0xb2b0a5(0x3eb),_0xb2b0a5(0x4f0),'groups_ignore'],_0x410745={};return _0x548d73['forEach'](_0x5071c7=>{_0x208a16[_0x5071c7]!==void 0x0&&(_0x410745[_0x5071c7]=_0x208a16[_0x5071c7]);}),_0x410745[_0xb2b0a5(0x67c)]&&(_0x410745[_0xb2b0a5(0x67c)]=_0x410745['url'][_0xb2b0a5(0x549)]()),await this[_0xb2b0a5(0x2d9)][_0xb2b0a5(0x20c)]['create'](_0x410745,this[_0xb2b0a5(0x76b)]),Object[_0xb2b0a5(0x58f)](this[_0xb2b0a5(0x71d)],_0x410745),await this[_0xb2b0a5(0x2d9)][_0xb2b0a5(0x20c)]['find'](this[_0xb2b0a5(0x76b)]);}async[a0_0x5a7632(0x5fc)](){const _0x42db92=a0_0x5a7632;return await this[_0x42db92(0x2d9)]['webhook'][_0x42db92(0x6c4)](this[_0x42db92(0x76b)]);}async[a0_0x5a7632(0x376)](_0x2f9ca8,_0x182386){const _0x591865=a0_0x5a7632;let _0x2940b4=_0x2f9ca8['replace'](/[\.-]/gm,'_')[_0x591865(0x56a)](),_0x5bd01a=this[_0x591865(0x71d)]['enabled']&&(0x0,P[_0x591865(0x794)])(this[_0x591865(0x71d)][_0x591865(0x67c)])?this['localWebhook'][_0x591865(0x67c)]+(this[_0x591865(0x71d)][_0x591865(0x625)]?this[_0x591865(0x77e)][_0x2f9ca8]:''):null,_0x56033c=this[_0x591865(0x71d)][_0x2940b4],_0x567f25=ce&&ce[_0x591865(0x6b6)]&&(0x0,P[_0x591865(0x794)])(ce[_0x591865(0x67c)])?ce['url']+(ce[_0x591865(0x625)]?this[_0x591865(0x77e)][_0x2f9ca8]:''):null,_0xa38863=ce?ce[_0x2940b4]:null;if(_0x56033c&&_0x5bd01a)try{await Z['default'][_0x591865(0x6f5)]({'baseURL':_0x5bd01a})[_0x591865(0x181)]('',{'event':_0x2f9ca8,'instance':this[_0x591865(0x35a)][_0x591865(0x510)],'apikey':this[_0x591865(0x35a)][_0x591865(0x388)],'data':_0x182386}),this[_0x591865(0x22c)][_0x591865(0x1c8)](this['instanceName']+'\x20('+this[_0x591865(0x35a)][_0x591865(0x6a2)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2f9ca8+':\x20'+_0x5bd01a);}catch{this[_0x591865(0x22c)][_0x591865(0x7aa)](this[_0x591865(0x76b)]+'\x20('+this[_0x591865(0x35a)][_0x591865(0x6a2)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2f9ca8+':\x20'+_0x5bd01a);}if(_0xa38863&&_0x567f25)try{await Z[_0x591865(0x1c5)][_0x591865(0x6f5)]({'baseURL':_0x567f25})[_0x591865(0x181)]('',{'event':_0x2f9ca8,'instance':this[_0x591865(0x35a)]['name'],'apikey':this[_0x591865(0x35a)][_0x591865(0x388)],'data':_0x182386}),this[_0x591865(0x22c)][_0x591865(0x1c8)](this[_0x591865(0x76b)]+'\x20('+this['instance'][_0x591865(0x6a2)]+_0x591865(0x42d)+_0x2f9ca8+':\x20'+_0x567f25);}catch{this['logger'][_0x591865(0x7aa)](this[_0x591865(0x76b)]+'\x20('+this['instance'][_0x591865(0x6a2)]+_0x591865(0x6de)+_0x2f9ca8+':\x20'+_0x567f25);}}async[a0_0x5a7632(0x564)]({qr:_0x441e71,connection:_0x1c545e,lastDisconnect:_0x8e81a6}){const _0x2bd1f7=a0_0x5a7632;if(_0x441e71){if(this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x61f)][_0x2bd1f7(0x490)]===Mi)return this['sendDataWebhook']('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':m[_0x2bd1f7(0x5eb)][_0x2bd1f7(0x42e)]}),this['stateConnection']={'state':'refused','statusReason':m[_0x2bd1f7(0x5eb)]['connectionClosed']},this['sendDataWebhook'](_0x2bd1f7(0x75a),{'instance':this['instance'][_0x2bd1f7(0x510)],...this[_0x2bd1f7(0x636)]}),this[_0x2bd1f7(0x376)](_0x2bd1f7(0x318),{'instance':this['instance'][_0x2bd1f7(0x510)],'status':_0x2bd1f7(0x3aa)}),this[_0x2bd1f7(0x2d9)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2bd1f7(0x73d)]()},this['instance'][_0x2bd1f7(0x510)]),this['endSession']=!0x0,this[_0x2bd1f7(0x265)][_0x2bd1f7(0x33c)](_0x2bd1f7(0x30d),this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x510)]);this[_0x2bd1f7(0x35a)]['qrcode'][_0x2bd1f7(0x490)]++;let _0x5ab941={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x2bd1f7(0x187)}};Or[_0x2bd1f7(0x1c5)][_0x2bd1f7(0x47a)](_0x441e71,_0x5ab941,(_0x72616d,_0x4669f5)=>{const _0x1770b2=_0x2bd1f7;if(_0x72616d){this[_0x1770b2(0x22c)]['error'](this[_0x1770b2(0x76b)]+'\x20('+this[_0x1770b2(0x35a)]['wuid']+_0x1770b2(0x49c)+(_0x72616d instanceof Error?_0x72616d[_0x1770b2(0x6f6)]:JSON['stringify'](_0x72616d,null,0x2)));return;}this[_0x1770b2(0x35a)][_0x1770b2(0x61f)][_0x1770b2(0x279)]=_0x4669f5,this[_0x1770b2(0x35a)][_0x1770b2(0x61f)][_0x1770b2(0x230)]=_0x441e71,!this[_0x1770b2(0x35d)]&&this['sendDataWebhook'](_0x1770b2(0x101),{'qrcode':{'instance':this[_0x1770b2(0x35a)][_0x1770b2(0x510)],'pairingCode':this['instance'][_0x1770b2(0x61f)]['pairingCode'],'code':_0x441e71,'base64':_0x4669f5}});}),this['phoneNumber']?this[_0x2bd1f7(0x35a)]['qrcode']['pairingCode']||(await(0x0,m['delay'])(0x7d0),this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x61f)][_0x2bd1f7(0x71a)]=await this[_0x2bd1f7(0x425)][_0x2bd1f7(0x507)](this['phoneNumber'])):this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x61f)][_0x2bd1f7(0x71a)]=null,Ar[_0x2bd1f7(0x1c5)][_0x2bd1f7(0x651)](_0x441e71,{'small':!0x0},_0x362798=>this[_0x2bd1f7(0x22c)][_0x2bd1f7(0x1c8)](_0x2bd1f7(0x452)+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x510)]+_0x2bd1f7(0x4b7)+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x61f)]['count']+_0x2bd1f7(0x4ba)+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x61f)][_0x2bd1f7(0x71a)]+_0x2bd1f7(0x3cb)+_0x362798));}if(_0x1c545e&&(this[_0x2bd1f7(0x636)]={'state':_0x1c545e,'statusReason':_0x8e81a6?.[_0x2bd1f7(0x7aa)]?.[_0x2bd1f7(0xf8)]?.[_0x2bd1f7(0x5db)]??0xc8},this[_0x2bd1f7(0x376)]('connection.update',{'instance':this['instance'][_0x2bd1f7(0x510)],...this['stateConnection']})),_0x1c545e==='close'){if(this[_0x2bd1f7(0x26d)]++,this['reconnectTimestamps'][_0x2bd1f7(0x208)](Date['now']()),this[_0x2bd1f7(0x6cb)]=this[_0x2bd1f7(0x6cb)][_0x2bd1f7(0x669)](_0x37f4bb=>Date[_0x2bd1f7(0x73d)]()-_0x37f4bb<this[_0x2bd1f7(0x393)]),_0x8e81a6['error']?.[_0x2bd1f7(0xf8)]?.['statusCode']!==m['DisconnectReason'][_0x2bd1f7(0x11a)]&&this[_0x2bd1f7(0x6cb)][_0x2bd1f7(0x4e4)]<=this[_0x2bd1f7(0x69f)])console[_0x2bd1f7(0x1c8)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this[_0x2bd1f7(0x69f)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x2bd1f7(0x1c8)](_0x2bd1f7(0x5b1)),await this[_0x2bd1f7(0x734)]();else{this[_0x2bd1f7(0x376)](_0x2bd1f7(0x318),{'instance':this[_0x2bd1f7(0x35a)]['name'],'status':_0x2bd1f7(0x3aa)}),this['instance'][_0x2bd1f7(0x117)]['isConnected']=!0x1,this['repository'][_0x2bd1f7(0x20c)]['delete'](this[_0x2bd1f7(0x76b)]),this[_0x2bd1f7(0x2d9)][_0x2bd1f7(0x335)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x510)]);try{this[_0x2bd1f7(0x22c)]['verbose'](this[_0x2bd1f7(0x76b)]+'\x20('+this['instance'][_0x2bd1f7(0x6a2)]+_0x2bd1f7(0x6eb));let _0x1bd2ad=await this[_0x2bd1f7(0x2d9)][_0x2bd1f7(0x6f6)][_0x2bd1f7(0x68c)](this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)]);_0x1bd2ad['success']?this['logger'][_0x2bd1f7(0x140)](this[_0x2bd1f7(0x76b)]+'\x20('+this[_0x2bd1f7(0x35a)]['wuid']+_0x2bd1f7(0x2f4)):console[_0x2bd1f7(0x7aa)](_0x2bd1f7(0x3ec),_0x1bd2ad[_0x2bd1f7(0x7aa)]);}catch(_0x13c1a4){console['error'](_0x2bd1f7(0x1ef),_0x13c1a4);}this[_0x2bd1f7(0x35a)]['ScheduleMessage'][_0x2bd1f7(0x381)]!==null&&(this[_0x2bd1f7(0x22c)]['verbose'](this[_0x2bd1f7(0x76b)]+'\x20('+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)]+_0x2bd1f7(0x40b)),clearInterval(this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x117)]['delayMessage']),this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x117)][_0x2bd1f7(0x381)]=null),this[_0x2bd1f7(0x22c)][_0x2bd1f7(0x140)](this[_0x2bd1f7(0x76b)]+'\x20('+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)]+'):\x20Limpando\x20AutomateSystem'),this[_0x2bd1f7(0x15d)]=null,this['eventEmitter']['emit'](_0x2bd1f7(0x551),this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x510)],_0x2bd1f7(0x74f)),this[_0x2bd1f7(0x425)]?.['ws']?.[_0x2bd1f7(0x4fb)](),this['client'][_0x2bd1f7(0x365)](new Error(_0x2bd1f7(0x688)));}}if(_0x1c545e===_0x2bd1f7(0x29a)){this[_0x2bd1f7(0x425)]['ev'][_0x2bd1f7(0x24b)](),this[_0x2bd1f7(0x4a5)],this['instance'][_0x2bd1f7(0x6a2)]=this[_0x2bd1f7(0x425)][_0x2bd1f7(0x5e2)]['id'][_0x2bd1f7(0x23d)](/:\d+/,'')[_0x2bd1f7(0x23d)]('@s.whatsapp.net',''),this[_0x2bd1f7(0x35a)]['profilePictureUrl']=(await this['profilePicture'](this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)]+_0x2bd1f7(0x770)))[_0x2bd1f7(0x1ff)],this[_0x2bd1f7(0x2d9)]['auth'][_0x2bd1f7(0x6f5)]({'online':!0x0,'owner':this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)],'lastDisconnect':null},this[_0x2bd1f7(0x35a)]['name']);let _0x3643b6='Número:\x20'+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x6a2)],_0x494939=0x28,_0x53c5b5=Math[_0x2bd1f7(0x78e)]((_0x494939-_0x3643b6['length'])/0x2),_0x10efd7='\x20'[_0x2bd1f7(0x10f)](_0x53c5b5),_0x587dff=_0x2bd1f7(0x2f1),_0x36495a='Instância:\x20'+this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x510)],_0x49c243=(''+_0x10efd7+_0x3643b6+_0x10efd7)[_0x2bd1f7(0x5fd)](_0x494939,'\x20'),_0x3c9798=(''+_0x10efd7+_0x587dff+_0x10efd7)[_0x2bd1f7(0x5fd)](_0x494939,'\x20'),_0x21e132=(''+_0x10efd7+_0x36495a+_0x10efd7)[_0x2bd1f7(0x5fd)](_0x494939,'\x20'),_0x3c4573=Math[_0x2bd1f7(0x378)](_0x49c243[_0x2bd1f7(0x4e4)],_0x3c9798[_0x2bd1f7(0x4e4)],_0x21e132[_0x2bd1f7(0x4e4)]),_0x4ba66a=_0x49c243[_0x2bd1f7(0x5fd)](_0x3c4573,'\x20'),_0x7ede09=_0x3c9798['padEnd'](_0x3c4573,'\x20'),_0x1ee22b=_0x21e132[_0x2bd1f7(0x5fd)](_0x3c4573,'\x20');this[_0x2bd1f7(0x22c)]['info']((_0x2bd1f7(0x2bf)+'─'[_0x2bd1f7(0x10f)](_0x3c4573)+_0x2bd1f7(0x767)+_0x7ede09+_0x2bd1f7(0x424)+_0x1ee22b+_0x2bd1f7(0x424)+_0x4ba66a+_0x2bd1f7(0x633)+'─'[_0x2bd1f7(0x10f)](_0x3c4573)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x2bd1f7(0x35a)][_0x2bd1f7(0x117)]['isConnected']=!0x0;}}[a0_0x5a7632(0x4a5)](){const _0x36daf2=a0_0x5a7632;this[_0x36daf2(0x26d)]=0x0,this[_0x36daf2(0x6cb)]=[];}async[a0_0x5a7632(0x638)](_0x2f784,_0x1b7fc5=!0x1){const _0x3803ca=a0_0x5a7632;try{let _0x4eca3a=await this[_0x3803ca(0x2d9)][_0x3803ca(0x6f6)]['find']({'where':{'_id':_0x2f784['id']}},this[_0x3803ca(0x35a)][_0x3803ca(0x6a2)]);return _0x1b7fc5?_0x4eca3a[0x0]:_0x4eca3a[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x5a7632(0x3bc)](){const _0xd78a5f=a0_0x5a7632;let _0x1dcbb3=this['configService'][_0xd78a5f(0x711)]('STORE'),_0x162d0b=this[_0xd78a5f(0x513)][_0xd78a5f(0x711)](_0xd78a5f(0x771));_0x1dcbb3?.['CLEANING_INTERVAL']&&!_0x162d0b[_0xd78a5f(0x446)]&&setInterval(()=>{const _0x53d3a3=_0xd78a5f;try{for(let [_0x30fabd,_0x399b7c]of Object[_0x53d3a3(0x269)](_0x1dcbb3))_0x399b7c===!0x0&&(0x0,jt[_0x53d3a3(0x426)])('rm\x20-rf\x20'+(0x0,J[_0x53d3a3(0x41a)])(this['storePath'],_0x30fabd['toLowerCase'](),this[_0x53d3a3(0x35a)]['wuid'])+_0x53d3a3(0x5ef));}catch{}},(_0x1dcbb3?.[_0xd78a5f(0x5f3)]??0xe10)*0x3e8);}async[a0_0x5a7632(0x343)](){const _0x38670e=a0_0x5a7632;let _0x4ccebd=this[_0x38670e(0x513)][_0x38670e(0x711)](_0x38670e(0x771)),_0x1465ac=this[_0x38670e(0x513)][_0x38670e(0x711)](_0x38670e(0x2f5));return _0x1465ac?.['ENABLED']?await Ns(_0x1465ac,this['instance'][_0x38670e(0x510)]):_0x4ccebd[_0x38670e(0x446)]?await vs(this[_0x38670e(0x35a)]['name']):await(0x0,m[_0x38670e(0x6f1)])((0x0,J['join'])(ge,this['instance'][_0x38670e(0x510)]));}async['AutomateFunctions'](){const _0x572494=a0_0x5a7632;let _0x498857=()=>Math['floor'](Math[_0x572494(0x171)]()*0x2711)+0x7d0,_0x5dfe50=async()=>{const _0x20eff5=_0x572494;if(!this[_0x20eff5(0x35a)][_0x20eff5(0x117)][_0x20eff5(0x2d1)]){this[_0x20eff5(0x22c)][_0x20eff5(0x140)](_0x20eff5(0x682)),this[_0x20eff5(0x673)]=!0x1;return;}if(this[_0x20eff5(0x35a)][_0x20eff5(0x6a2)]&&this[_0x20eff5(0x15d)]&&this[_0x20eff5(0x35a)][_0x20eff5(0x117)]['delayMessage']!==null&&this[_0x20eff5(0x35a)]['ScheduleMessage'][_0x20eff5(0x381)]!==void 0x0){let _0x338ebc=Math[_0x20eff5(0x689)](this['instance']['ScheduleMessage']['delayMessage']/0xea60);this['logger'][_0x20eff5(0x140)](this[_0x20eff5(0x76b)]+'\x20('+this[_0x20eff5(0x35a)][_0x20eff5(0x6a2)]+_0x20eff5(0x55d)+_0x338ebc+_0x20eff5(0x445)),this[_0x20eff5(0x673)]=!0x1;return;}else this[_0x20eff5(0x35a)][_0x20eff5(0x6a2)]&&(this[_0x20eff5(0x22c)]['verbose'](this[_0x20eff5(0x76b)]+'\x20('+this['instance'][_0x20eff5(0x6a2)]+_0x20eff5(0x3ab)),this[_0x20eff5(0x15d)]||await this[_0x20eff5(0x70c)](),(this[_0x20eff5(0x35a)][_0x20eff5(0x117)][_0x20eff5(0x381)]===null||this[_0x20eff5(0x35a)][_0x20eff5(0x117)][_0x20eff5(0x381)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0xc84f93=_0x498857();this[_0x20eff5(0x22c)][_0x20eff5(0x140)](this[_0x20eff5(0x76b)]+_0x20eff5(0x204)+_0xc84f93/0x3e8+_0x20eff5(0x59e)),setTimeout(_0x5dfe50,_0xc84f93);}};if(this[_0x572494(0x673)])return;this[_0x572494(0x673)]=!0x0;let _0x50ca75=_0x498857();setTimeout(_0x5dfe50,_0x50ca75);}async['loadproxy'](_0x32fa45=0x0,_0xbd4148=!0x1){const _0x45e615=a0_0x5a7632;try{let _0x4eae84=this['configService']['get'](_0x45e615(0x34f));if(_0x4eae84!==0x1||typeof _0x4eae84>'u'||_0x32fa45>=0x5)return this[_0x45e615(0x22c)]['warn'](_0x45e615(0x702)),this[_0x45e615(0x2d9)][_0x45e615(0x335)][_0x45e615(0x6f5)]({'ip':null},this[_0x45e615(0x35a)]['name']),{};this[_0x45e615(0x22c)][_0x45e615(0x140)](this[_0x45e615(0x76b)]+_0x45e615(0x149)+(_0x32fa45+0x1)+_0x45e615(0x200));let _0x8c1364;if(!_0xbd4148){let _0x5bb3a5=await this[_0x45e615(0x2d9)][_0x45e615(0x335)][_0x45e615(0x6c4)](this['instanceName']);_0x5bb3a5&&_0x5bb3a5['ip']&&(_0x8c1364=Er(_0x5bb3a5['ip']));}if((!_0x8c1364||!Rs(_0x8c1364))&&(this['logger']['warn'](this[_0x45e615(0x76b)]+_0x45e615(0x691)),_0x8c1364=Mr()),_0x8c1364&&Rs(_0x8c1364)){let _0x19050e=_0x8c1364[_0x45e615(0x658)]&&_0x8c1364[_0x45e615(0x5a4)]?_0x8c1364[_0x45e615(0x195)]+'://'+_0x8c1364['username']+':'+_0x8c1364['password']+'@'+_0x8c1364['host']+':'+_0x8c1364[_0x45e615(0x650)]:_0x8c1364[_0x45e615(0x195)]+_0x45e615(0x4e9)+_0x8c1364[_0x45e615(0x402)]+':'+_0x8c1364[_0x45e615(0x650)];return await this[_0x45e615(0x2a7)](_0x19050e,_0x8c1364['host'])?(this[_0x45e615(0x22c)][_0x45e615(0x140)](this[_0x45e615(0x76b)]+_0x45e615(0x72f)),this[_0x45e615(0x2d9)][_0x45e615(0x335)]['create']({'ip':_0x8c1364[_0x45e615(0x402)]},this[_0x45e615(0x35a)][_0x45e615(0x510)]),{'agent':new Lt[(_0x45e615(0x75d))](_0x19050e),'fetchAgent':new Lt[(_0x45e615(0x75d))](_0x19050e)}):(this['logger'][_0x45e615(0xff)](this[_0x45e615(0x76b)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,m['delay'])(0xc8),this[_0x45e615(0x147)](_0x32fa45+0x1,!0x0));}else return this['logger'][_0x45e615(0xff)](this[_0x45e615(0x76b)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x45e615(0x699)])(0xc8),this[_0x45e615(0x147)](_0x32fa45+0x1,!0x0);}catch(_0x10da5f){return this[_0x45e615(0x22c)][_0x45e615(0x7aa)](this[_0x45e615(0x76b)]+_0x45e615(0x3d7)+_0x10da5f[_0x45e615(0x6f6)]),{};}}async['testProxy'](_0x252b0b,_0x3bf5d5){const _0x1e6236=a0_0x5a7632;let _0xe19b2e=new Lt[(_0x1e6236(0x75d))](_0x252b0b),_0x4dbc44=0x1388,_0x1fb55e=[{'url':'https://jsonip.com','parse':_0x3c88e2=>_0x3c88e2['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x116ef8=>_0x116ef8['ip']},{'url':_0x1e6236(0x123),'parse':_0x3138e5=>_0x3138e5['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1e6236(0x577),'parse':_0x23618e=>_0x23618e['ip']},{'url':_0x1e6236(0x148),'parse':_0x3ad0e5=>_0x3ad0e5['trim']()},{'url':_0x1e6236(0x319),'parse':_0x57df6c=>_0x57df6c['trim']()},{'url':_0x1e6236(0x298),'parse':_0x25aef9=>_0x25aef9[_0x1e6236(0x5ee)]},{'url':'http://myexternalip.com/raw','parse':_0xe0112a=>_0xe0112a[_0x1e6236(0x549)]()},{'url':_0x1e6236(0x2e3),'parse':_0x2e13e8=>_0x2e13e8[_0x1e6236(0x549)]()}],_0x38abd6=_0x1fb55e[Math[_0x1e6236(0x78e)](Math[_0x1e6236(0x171)]()*_0x1fb55e[_0x1e6236(0x4e4)])];try{let _0x401096=await Z[_0x1e6236(0x1c5)][_0x1e6236(0x711)](_0x38abd6[_0x1e6236(0x67c)],{'httpsAgent':_0xe19b2e,'timeout':_0x4dbc44}),_0x5e90fd=_0x38abd6[_0x1e6236(0x1bd)](_0x401096['data']);return _0x5e90fd===_0x3bf5d5?(this[_0x1e6236(0x22c)][_0x1e6236(0x140)](this[_0x1e6236(0x76b)]+_0x1e6236(0x5e4)+_0x3bf5d5+_0x1e6236(0x387)+_0x5e90fd+_0x1e6236(0x696)),!0x0):(this['logger'][_0x1e6236(0x7aa)](this['instanceName']+_0x1e6236(0x5e4)+_0x3bf5d5+_0x1e6236(0x387)+_0x5e90fd+_0x1e6236(0x740)),!0x1);}catch(_0x753dd0){return this[_0x1e6236(0x22c)][_0x1e6236(0x7aa)](this[_0x1e6236(0x76b)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x38abd6[_0x1e6236(0x67c)]+':\x20'+_0x753dd0[_0x1e6236(0x6f6)]),!0x1;}}async['connectToWhatsapp'](_0x4d1ca8){const _0x508d2c=a0_0x5a7632;try{let _0x1e3e0c=await this['loadproxy']();this['loadWebhook'](),this[_0x508d2c(0x35a)][_0x508d2c(0x388)]=(await this[_0x508d2c(0x2d9)]['auth'][_0x508d2c(0x6c4)](this[_0x508d2c(0x35a)][_0x508d2c(0x510)]))[_0x508d2c(0x388)],this[_0x508d2c(0x35a)][_0x508d2c(0xea)]=await this[_0x508d2c(0x343)]();let {version:_0x5257a2}=await(0x0,m[_0x508d2c(0x108)])(),_0x4b7582=[Ir,xs,(0x0,Ts[_0x508d2c(0x4a2)])()],_0x53f357={..._0x1e3e0c,'auth':{'creds':this[_0x508d2c(0x35a)][_0x508d2c(0xea)][_0x508d2c(0x62f)][_0x508d2c(0x718)],'keys':(0x0,m['makeCacheableSignalKeyStore'])(this['instance'][_0x508d2c(0xea)][_0x508d2c(0x62f)][_0x508d2c(0x769)],(0x0,Pt[_0x508d2c(0x1c5)])({'level':'error'}))},'logger':(0x0,Pt['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x4d1ca8?[_0x508d2c(0x6d7),xs,(0x0,Ts[_0x508d2c(0x4a2)])()]:_0x4b7582,'version':_0x5257a2,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x43c579=>{const _0x1c003=_0x508d2c;let _0xe96a48=_0x43c579['endsWith'](_0x1c003(0xee)),_0x3f0db2=this['localWebhook']?.[_0x1c003(0x447)]&&_0x43c579['endsWith'](_0x1c003(0x63e));return _0xe96a48||(0x0,m[_0x1c003(0x61b)])(_0x43c579)||_0x3f0db2;},'msgRetryCounterCache':this[_0x508d2c(0x47b)],'getMessage':async _0x28ad92=>await this[_0x508d2c(0x638)](_0x28ad92),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x508d2c(0x708)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xcf8369=>(_0xcf8369[_0x508d2c(0x34b)]?.[_0x508d2c(0x437)]==m[_0x508d2c(0x74c)][_0x508d2c(0x4fe)]['ListMessage'][_0x508d2c(0x419)]['PRODUCT_LIST']&&(_0xcf8369=JSON[_0x508d2c(0x1bd)](JSON['stringify'](_0xcf8369)),_0xcf8369['listMessage']['listType']=m[_0x508d2c(0x74c)][_0x508d2c(0x4fe)][_0x508d2c(0x49a)]['ListType']['SINGLE_SELECT']),_0xcf8369)};return this[_0x508d2c(0x466)]=!0x1,this[_0x508d2c(0x425)]=(0x0,m[_0x508d2c(0x1c5)])(_0x53f357),this[_0x508d2c(0x798)](),this[_0x508d2c(0x35d)]=_0x4d1ca8,this[_0x508d2c(0x425)];}catch(_0x37df63){throw this['logger'][_0x508d2c(0x7aa)](this[_0x508d2c(0x76b)]+'\x20('+this[_0x508d2c(0x35a)][_0x508d2c(0x6a2)]+_0x508d2c(0x2f8)+(_0x37df63 instanceof Error?_0x37df63[_0x508d2c(0x6f6)]:JSON[_0x508d2c(0x68d)](_0x37df63,null,0x2))),new I(_0x37df63?.['toString']());}}[a0_0x5a7632(0x798)](){const _0x4aec6f=a0_0x5a7632;this[_0x4aec6f(0x425)]['ev'][_0x4aec6f(0x3a6)](_0x35f09b=>{const _0xe94cad=_0x4aec6f;if(!this[_0xe94cad(0x466)]){let _0x595408=this[_0xe94cad(0x513)][_0xe94cad(0x711)](_0xe94cad(0x771));if(_0x35f09b[_0xe94cad(0x7a0)]){let _0x332f9b=_0x35f09b[_0xe94cad(0x7a0)];this[_0xe94cad(0x43e)][_0xe94cad(0x7a0)](_0x332f9b);}if(_0x35f09b[_0xe94cad(0x305)]){let _0x253397=_0x35f09b[_0xe94cad(0x305)];this[_0xe94cad(0x43e)][_0xe94cad(0x305)](_0x253397);}if(_0x35f09b[_0xe94cad(0x75a)]&&this[_0xe94cad(0x564)](_0x35f09b[_0xe94cad(0x75a)]),_0x35f09b[_0xe94cad(0x3a9)]&&this['instance'][_0xe94cad(0xea)]['saveCreds'](),_0x35f09b['messaging-history.set']){let _0x105282=_0x35f09b[_0xe94cad(0x159)];this[_0xe94cad(0x43e)]['messaging-history.set'](_0x105282,_0x595408);}if(_0x35f09b[_0xe94cad(0x41f)]){let _0x2bf700=_0x35f09b['messages.upsert'];this[_0xe94cad(0x43e)][_0xe94cad(0x41f)](_0x2bf700,_0x595408);}if(_0x35f09b[_0xe94cad(0x5dd)]){let _0x2b8c46=_0x35f09b[_0xe94cad(0x5dd)];_0x2b8c46[_0xe94cad(0x16d)](_0x394531=>{const _0x5811ab=_0xe94cad;if(Nr[_0x394531[_0x5811ab(0x331)]['id']]){this[_0x5811ab(0x425)]['ev'][_0x5811ab(0x33c)](_0x5811ab(0x41f),{'messages':[_0x394531],'type':_0x5811ab(0x48a)}),delete Nr[_0x394531[_0x5811ab(0x331)]['id']];return;}}),this[_0xe94cad(0x43e)][_0xe94cad(0x5dd)](_0x2b8c46,_0x595408);}if(_0x35f09b[_0xe94cad(0x5de)]){let _0x5241fe=_0x35f09b[_0xe94cad(0x5de)];if(this[_0xe94cad(0x71d)]?.[_0xe94cad(0x447)]&&_0x5241fe['id'][_0xe94cad(0x3b6)](_0xe94cad(0x63e)))return;this[_0xe94cad(0x376)]('presence.update',_0x5241fe);}if(!this[_0xe94cad(0x71d)]?.[_0xe94cad(0x447)]){if(_0x35f09b[_0xe94cad(0x37a)]){let _0x5e176c=_0x35f09b[_0xe94cad(0x37a)];this[_0xe94cad(0x17d)][_0xe94cad(0x37a)](_0x5e176c);}if(_0x35f09b[_0xe94cad(0x52d)]){let _0x1c63d3=_0x35f09b['groups.update'];this['groupHandler'][_0xe94cad(0x52d)](_0x1c63d3);}if(_0x35f09b[_0xe94cad(0x429)]){let _0x51c763=_0x35f09b['group-participants.update'];this['groupHandler'][_0xe94cad(0x429)](_0x51c763);}}if(_0x35f09b[_0xe94cad(0x4a7)]){let _0x4b7436=_0x35f09b[_0xe94cad(0x4a7)];this[_0xe94cad(0x169)][_0xe94cad(0x4a7)](_0x4b7436,_0x595408);}if(_0x35f09b[_0xe94cad(0x4cf)]){let _0x400903=_0x35f09b[_0xe94cad(0x4cf)];this[_0xe94cad(0x169)][_0xe94cad(0x4cf)](_0x400903,_0x595408);}if(_0x35f09b[_0xe94cad(0x1c3)]){let _0x43a414=_0x35f09b[_0xe94cad(0x1c3)];this[_0xe94cad(0x169)][_0xe94cad(0x1c3)](_0x43a414);}if(_0x35f09b[_0xe94cad(0x25a)]){let _0x5bbb2f=_0x35f09b[_0xe94cad(0x25a)];this[_0xe94cad(0x1ea)][_0xe94cad(0x25a)](_0x5bbb2f,_0x595408);}if(_0x35f09b[_0xe94cad(0x67b)]){let _0x413656=_0x35f09b[_0xe94cad(0x67b)];this[_0xe94cad(0x1ea)][_0xe94cad(0x67b)](_0x413656,_0x595408);}}});}[a0_0x5a7632(0x19a)](_0x44faaa){return new Promise(_0x34959e=>setTimeout(_0x34959e,_0x44faaa));}[a0_0x5a7632(0x1e0)](_0xa4cfd4){const _0x2f4037=a0_0x5a7632;_0xa4cfd4=_0xa4cfd4[_0x2f4037(0x23d)](/\D/g,'');let _0x2a6e67=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xa4cfd4);if(_0x2a6e67&&_0x2a6e67[0x1]==='55'){let _0x36aae5=_0x2a6e67[0x2],_0xde14c4=_0x2a6e67[0x3],_0x2d2daa=_0x2a6e67[0x4];if(parseInt(_0x36aae5)>=0x1f&&_0xde14c4==='9')return _0x2a6e67[0x1]+_0x36aae5+_0x2d2daa;}return _0xa4cfd4;}['createJid'](_0x5d31a7){const _0x560109=a0_0x5a7632;return _0x5d31a7[_0x560109(0x3b6)](_0x560109(0x63e))||_0x5d31a7[_0x560109(0x3b6)](_0x560109(0x770))||_0x5d31a7[_0x560109(0x3b6)](_0x560109(0x309))?_0x5d31a7:(_0x5d31a7=_0x5d31a7?.[_0x560109(0x23d)](/\s/g,'')[_0x560109(0x23d)](/\+/g,'')[_0x560109(0x23d)](/\(/g,'')['replace'](/\)/g,'')[_0x560109(0x323)](/\:/)[0x0][_0x560109(0x323)]('@')[0x0],_0x5d31a7[_0x560109(0x4e4)]>=0x12?(_0x5d31a7=_0x5d31a7[_0x560109(0x23d)](/[^\d-]/g,''),_0x5d31a7+'@g.us'):(_0x5d31a7=_0x5d31a7['replace'](/\D/g,''),_0x5d31a7+'@s.whatsapp.net'));}async[a0_0x5a7632(0x102)](_0x4b8bd2){const _0x4664ad=a0_0x5a7632;let _0x26a872=this[_0x4664ad(0x12d)](_0x4b8bd2['number']),_0x1e6750=(await this['whatsappNumber']({'numbers':[_0x26a872]}))[0x0];if(!_0x1e6750[_0x4664ad(0x6e9)]&&!(0x0,m[_0x4664ad(0x1c4)])(_0x1e6750[_0x4664ad(0x383)]))throw new w(_0x1e6750);let _0x3041b4=(0x0,m['isJidGroup'])(_0x26a872)?_0x26a872:_0x1e6750['jid'];if((0x0,m[_0x4664ad(0x1c4)])(_0x3041b4))try{await this[_0x4664ad(0x425)][_0x4664ad(0x242)](_0x3041b4);}catch{throw new L(_0x4664ad(0x441));}try{return await this['client'][_0x4664ad(0x11d)](_0x3041b4),await this[_0x4664ad(0x425)][_0x4664ad(0x539)](_0x4b8bd2[_0x4664ad(0x5c9)],_0x26a872),{'status':0xc8,'presence':_0x4b8bd2['presence']};}catch(_0x1a6a52){throw new w(_0x1a6a52[_0x4664ad(0x1ce)]());}}async[a0_0x5a7632(0x6dc)](_0x4ebe5f,_0x7c26f1,_0x48b725){const _0x2adfda=a0_0x5a7632;let _0x458d06=await this[_0x2adfda(0x2d9)]['cacheContact'][_0x2adfda(0x48e)]({'where':{'_id':_0x4ebe5f}}),_0x156417={'lastUpdate':Date[_0x2adfda(0x73d)]()};if(_0x48b725||!_0x458d06?.[_0x2adfda(0x3ee)]||Date[_0x2adfda(0x73d)]()-_0x458d06[_0x2adfda(0x3ee)]>0x18*0x3c*0x3c*0x3e8)try{let _0x3265cf=(await this[_0x2adfda(0x5ae)](_0x4ebe5f))[_0x2adfda(0x1ff)];_0x156417[_0x2adfda(0x78f)]=_0x3265cf;}catch(_0x2a79c7){console[_0x2adfda(0x7aa)]('Failed\x20to\x20update\x20contact\x20profile\x20picture',_0x2a79c7);}return _0x7c26f1&&_0x458d06?.[_0x2adfda(0x510)]!==_0x7c26f1&&(_0x156417[_0x2adfda(0x510)]=_0x7c26f1),Object[_0x2adfda(0x769)](_0x156417)[_0x2adfda(0x4e4)]>0x1&&(_0x458d06?await this[_0x2adfda(0x2d9)][_0x2adfda(0x2e6)]['update']({'where':{'_id':_0x4ebe5f}},_0x156417):await this[_0x2adfda(0x2d9)]['cacheContact'][_0x2adfda(0x4bf)]([{'_id':_0x4ebe5f,..._0x156417}]),_0x458d06={..._0x458d06,..._0x156417}),{'cachedContact':_0x458d06};}async['profilePicture'](_0x3e7424){const _0x3cb2eb=a0_0x5a7632;let _0x5c68a4=this[_0x3cb2eb(0x12d)](_0x3e7424);try{return{'wuid':_0x5c68a4,'profilePictureUrl':await this[_0x3cb2eb(0x425)][_0x3cb2eb(0x1ff)](_0x5c68a4,_0x3cb2eb(0x613))};}catch{return{'wuid':_0x5c68a4,'profilePictureUrl':null};}}async[a0_0x5a7632(0x2e7)](_0x192bf3,_0x15e84a,_0x217509){const _0x18d288=a0_0x5a7632;_0x217509||(_0x217509={});let _0x554fac=(await this[_0x18d288(0x563)]({'numbers':[_0x192bf3]}))[0x0];if(!_0x554fac['exists']&&!(0x0,m[_0x18d288(0x1c4)])(_0x554fac[_0x18d288(0x383)])&&!_0x554fac['jid'][_0x18d288(0x3b6)](_0x18d288(0x309)))throw new w(_0x554fac);let _0xc0a6a1=_0x554fac['jid'];try{if(_0x217509?.[_0x18d288(0x699)]){await this[_0x18d288(0x425)][_0x18d288(0x11d)](_0xc0a6a1),await this[_0x18d288(0x425)][_0x18d288(0x539)](_0x217509?.[_0x18d288(0x5c9)]??_0x18d288(0x59d),_0xc0a6a1);let _0x4e015a=Math['min'](_0x217509['delay'],0x2710);await(0x0,m[_0x18d288(0x699)])(_0x4e015a),await this[_0x18d288(0x425)][_0x18d288(0x539)](_0x18d288(0x692),_0xc0a6a1);}let _0x4ff6c1=_0x217509?.[_0x18d288(0x162)]!=!0x1?void 0x0:!0x1,_0x438fa6;if(_0x217509?.[_0x18d288(0x257)]){let _0xaf6bf=_0x217509?.[_0x18d288(0x257)],_0x125381=_0xaf6bf?.[_0x18d288(0x6f6)]?_0xaf6bf:await this[_0x18d288(0x638)](_0xaf6bf[_0x18d288(0x331)],!0x0);if(!_0x125381)throw'Message\x20not\x20found';_0x438fa6=_0x125381;}let _0x471e41;if((0x0,m[_0x18d288(0x1c4)])(_0xc0a6a1))try{let _0x1b5da7=await this['client'][_0x18d288(0x242)](_0xc0a6a1);if(!_0x1b5da7)throw new L(_0x18d288(0x441));_0x217509?.['mentions']&&(_0x217509[_0x18d288(0x637)]?.[_0x18d288(0x4f8)]?_0x471e41=_0x1b5da7[_0x18d288(0x11b)][_0x18d288(0x2ca)](_0x3ffb9f=>_0x3ffb9f['id']):_0x217509[_0x18d288(0x637)]?.[_0x18d288(0x541)]?.[_0x18d288(0x4e4)]&&(_0x471e41=_0x217509['mentions'][_0x18d288(0x541)][_0x18d288(0x2ca)](_0x406b3e=>{const _0x54a0b9=_0x18d288;let _0xb6cc8f=this['createJid'](_0x406b3e);return(0x0,m[_0x54a0b9(0x1c4)])(_0xb6cc8f)?null:_0xb6cc8f;})));}catch{throw new L(_0x18d288(0x441));}let _0x51ac97=await((async()=>{const _0x2bba2a=_0x18d288;let _0x254f1b={'quoted':_0x438fa6};if(!_0x15e84a[_0x2bba2a(0x66d)]&&!_0x15e84a[_0x2bba2a(0x348)]&&!_0x15e84a[_0x2bba2a(0x138)]&&!_0x15e84a['conversation']&&_0xc0a6a1!==_0x2bba2a(0x32f)&&!_0x15e84a[_0x2bba2a(0x66d)])return await this[_0x2bba2a(0x425)][_0x2bba2a(0x63f)](_0xc0a6a1,{'forward':{'key':{'remoteJid':this['instance'][_0x2bba2a(0x6a2)],'fromMe':!0x0},'message':_0x15e84a},'mentions':_0x471e41},_0x254f1b);if(_0x15e84a['reactionMessage'])return await this['client'][_0x2bba2a(0x63f)](_0xc0a6a1,{'react':{'text':_0x15e84a['reactionMessage'][_0x2bba2a(0x142)],'key':_0x15e84a[_0x2bba2a(0x746)]['key']}},_0x254f1b);if(_0x15e84a['conversation']){let _0x487ec2=_0x15e84a[_0x2bba2a(0x78b)];return _0x217509?.[_0x2bba2a(0x77b)]&&(_0x487ec2=await this['replaceVariablesChat'](_0x487ec2,_0xc0a6a1)),await this[_0x2bba2a(0x425)][_0x2bba2a(0x63f)](_0xc0a6a1,{'text':_0x487ec2,'mentions':_0x471e41,'linkPreview':_0x4ff6c1},_0x254f1b);}return _0xc0a6a1===_0x2bba2a(0x32f)?await this[_0x2bba2a(0x425)][_0x2bba2a(0x63f)](_0xc0a6a1,_0x15e84a[_0x2bba2a(0x5cd)][_0x2bba2a(0x489)],{'backgroundColor':_0x15e84a['status'][_0x2bba2a(0x19d)]['backgroundColor'],'font':_0x15e84a[_0x2bba2a(0x5cd)][_0x2bba2a(0x19d)][_0x2bba2a(0x223)],'statusJidList':_0x15e84a[_0x2bba2a(0x5cd)][_0x2bba2a(0x19d)][_0x2bba2a(0x5e5)]}):await this['client'][_0x2bba2a(0x63f)](_0xc0a6a1,_0x15e84a,_0x254f1b);})()),_0x1b2435=(0x0,m['normalizeMessageContent'])(_0x51ac97[_0x18d288(0x6f6)]),_0x19b871=(0x0,m[_0x18d288(0x709)])(_0x1b2435),{message_normalized:_0x398ed5}=this[_0x18d288(0x5ab)](_0x1b2435,_0x19b871,null),_0x39fe11={'_id':_0x51ac97[_0x18d288(0x331)]['id'],'key':_0x51ac97['key'],'pushName':_0x51ac97[_0x18d288(0x581)],'isGroup':_0x51ac97[_0x18d288(0x331)]['remoteJid'][_0x18d288(0x10d)](_0x18d288(0x63e)),'profilePictureUrl':this[_0x18d288(0x35a)][_0x18d288(0x1ff)],'message':_0x1b2435,'messageType':_0x19b871,'message_normalized':{'key':_0x51ac97[_0x18d288(0x331)],'pushName':_0x51ac97[_0x18d288(0x581)],'messageTimestamp':_0x51ac97[_0x18d288(0x720)]&&_0x51ac97[_0x18d288(0x720)][_0x18d288(0x1ce)]()[_0x18d288(0x4e4)]<0xd?_0x51ac97[_0x18d288(0x720)]*0x3e8:_0x51ac97[_0x18d288(0x720)]||null,'source':(0x0,m[_0x18d288(0x5a2)])(_0x51ac97[_0x18d288(0x331)]['id']),..._0x398ed5},'messageTimestamp':_0x51ac97[_0x18d288(0x720)]&&_0x51ac97[_0x18d288(0x720)][_0x18d288(0x1ce)]()[_0x18d288(0x4e4)]<0xd?_0x51ac97[_0x18d288(0x720)]*0x3e8:_0x51ac97[_0x18d288(0x720)]||null,'owner':this[_0x18d288(0x35a)][_0x18d288(0x6a2)],'source':(0x0,m[_0x18d288(0x5a2)])(_0x51ac97['key']['id'])};return this[_0x18d288(0x22c)]['warn'](this[_0x18d288(0x76b)]+'\x20('+this[_0x18d288(0x35a)][_0x18d288(0x6a2)]+_0x18d288(0x13f)+_0x39fe11[_0x18d288(0x331)]?.['remoteJid']['replace'](_0x18d288(0x770),'')+']\x20('+_0x39fe11[_0x18d288(0x31d)]+')'),_0x39fe11['message_normalized']?.[_0x18d288(0x142)]&&this['logger']['warn'](_0x39fe11[_0x18d288(0x547)]?.['text']),this[_0x18d288(0x376)](_0x18d288(0x3a3),_0x39fe11),q(this[_0x18d288(0x76b)],_0x18d288(0x57e),{'message':_0x39fe11}),this[_0x18d288(0x53c)](this['configService'][_0x18d288(0x711)](_0x18d288(0x771)),_0x39fe11,_0x18d288(0x789)),await this[_0x18d288(0x2d9)]['message'][_0x18d288(0x4bf)]([_0x39fe11],this[_0x18d288(0x35a)][_0x18d288(0x6a2)]),_0x51ac97;}catch(_0x4595f2){throw this[_0x18d288(0x22c)][_0x18d288(0x7aa)](this['instanceName']+'\x20('+this[_0x18d288(0x35a)][_0x18d288(0x6a2)]+_0x18d288(0x2f8)+_0x4595f2['toString']()),new w(_0x4595f2['toString']());}}get[a0_0x5a7632(0x327)](){const _0x3256e4=a0_0x5a7632;return this[_0x3256e4(0x636)];}async[a0_0x5a7632(0x695)](_0x32c4cb){const _0x2fb51e=a0_0x5a7632;let _0x13689d=vr,_0x37a625=Ze;return _0x37a625&&this[_0x2fb51e(0x76b)]['toLowerCase']()[_0x2fb51e(0x3b6)](_0x37a625[_0x2fb51e(0x2d3)]())&&(_0x32c4cb[_0x2fb51e(0x695)][_0x2fb51e(0x142)]+='\x0a\x0a'+_0x13689d),await this['sendMessageWithTyping'](_0x32c4cb[_0x2fb51e(0x744)],{'conversation':_0x32c4cb['textMessage'][_0x2fb51e(0x142)]},_0x32c4cb?.[_0x2fb51e(0x698)]);}async[a0_0x5a7632(0x1e6)](_0x4ef823){const _0x3f5291=a0_0x5a7632;if(!_0x4ef823[_0x3f5291(0x32e)])throw new w('Type\x20is\x20required');if(!_0x4ef823[_0x3f5291(0x489)])throw new w(_0x3f5291(0x110));if(_0x4ef823['allContacts']){let _0x881e73=await this[_0x3f5291(0x2d9)][_0x3f5291(0x1e1)][_0x3f5291(0x6c4)]({'where':{}},this[_0x3f5291(0x35a)][_0x3f5291(0x6a2)]);if(!_0x881e73[_0x3f5291(0x4e4)])throw new w(_0x3f5291(0x122));_0x4ef823[_0x3f5291(0x5e5)]=_0x881e73[_0x3f5291(0x669)](_0x49dc84=>_0x49dc84['pushName'])[_0x3f5291(0x2ca)](_0x3a657a=>_0x3a657a['_id']);}if(!_0x4ef823['statusJidList']?.[_0x3f5291(0x4e4)]&&!_0x4ef823['allContacts'])throw new w(_0x3f5291(0x57f));if(_0x4ef823['type']===_0x3f5291(0x142)){if(!_0x4ef823[_0x3f5291(0x23e)])throw new w(_0x3f5291(0x521));if(!_0x4ef823['font'])throw new w(_0x3f5291(0x526));return{'content':{'text':_0x4ef823['content']},'option':{'backgroundColor':_0x4ef823['backgroundColor'],'font':_0x4ef823[_0x3f5291(0x223)],'statusJidList':_0x4ef823[_0x3f5291(0x5e5)]}};}if(_0x4ef823[_0x3f5291(0x32e)]==='image')return{'content':{'image':{'url':_0x4ef823[_0x3f5291(0x489)]},'caption':_0x4ef823[_0x3f5291(0x113)]},'option':{'statusJidList':_0x4ef823['statusJidList']}};if(_0x4ef823[_0x3f5291(0x32e)]===_0x3f5291(0x192))return{'content':{'video':{'url':_0x4ef823[_0x3f5291(0x489)]},'caption':_0x4ef823[_0x3f5291(0x113)]},'option':{'statusJidList':_0x4ef823['statusJidList']}};if(_0x4ef823[_0x3f5291(0x32e)]===_0x3f5291(0x66d)){this['logger'][_0x3f5291(0x140)](_0x3f5291(0x5f8)),this[_0x3f5291(0x22c)][_0x3f5291(0x140)](_0x3f5291(0x12c));let _0x54ed19=await this[_0x3f5291(0x44e)](_0x4ef823[_0x3f5291(0x489)]);if(typeof _0x54ed19==_0x3f5291(0x2dc)){this[_0x3f5291(0x22c)][_0x3f5291(0x140)](_0x3f5291(0x459));let _0xfda089=F[_0x3f5291(0x558)](_0x54ed19)[_0x3f5291(0x1ce)](_0x3f5291(0x279));return{'content':{'audio':Buffer[_0x3f5291(0x49e)](_0xfda089,'base64'),'ptt':!0x0,'mimetype':_0x3f5291(0x1a7)},'option':{'statusJidList':_0x4ef823[_0x3f5291(0x5e5)]}};}else throw new I(_0x54ed19);}throw new w(_0x3f5291(0x111));}async[a0_0x5a7632(0x576)](_0x57dfd1){const _0x2f6281=a0_0x5a7632;return await this[_0x2f6281(0x2e7)](_0x2f6281(0x32f),{'status':await this[_0x2f6281(0x1e6)](_0x57dfd1[_0x2f6281(0x576)])});}async['prepareMediaMessage'](_0x425b98){const _0x4e2325=a0_0x5a7632;try{let _0x340a04=await(0x0,m[_0x4e2325(0x18f)])({[_0x425b98['mediatype']]:(0x0,P[_0x4e2325(0x794)])(_0x425b98[_0x4e2325(0x693)])?{'url':_0x425b98[_0x4e2325(0x693)]}:Buffer[_0x4e2325(0x49e)](_0x425b98['media'],_0x4e2325(0x279))},{'upload':this['client'][_0x4e2325(0x461)]}),_0x371d2e=_0x425b98[_0x4e2325(0x585)]+_0x4e2325(0x4fe);if(_0x425b98[_0x4e2325(0x585)]==='document'&&!_0x425b98[_0x4e2325(0x4c8)]){let _0x13fb3c=new RegExp(/.*\/(.+?)\./)['exec'](_0x425b98['media']);_0x425b98[_0x4e2325(0x4c8)]=_0x13fb3c?_0x13fb3c[0x1]:null;}let _0x1b03bb=(0x0,P[_0x4e2325(0x794)])(_0x425b98[_0x4e2325(0x693)])?_0x425b98[_0x4e2325(0x693)][_0x4e2325(0x323)]('?')[0x0]:_0x425b98[_0x4e2325(0x693)];this[_0x4e2325(0x22c)][_0x4e2325(0x140)](_0x4e2325(0x341)+_0x1b03bb);let _0x524318;(0x0,P[_0x4e2325(0x794)])(_0x425b98[_0x4e2325(0x693)])?_0x524318=(0x0,$t[_0x4e2325(0x46a)])(_0x1b03bb):_0x425b98[_0x4e2325(0x4c8)]&&_0x425b98[_0x4e2325(0x4c8)][_0x4e2325(0x3b6)]('.')?_0x524318=(0x0,$t[_0x4e2325(0x46a)])(_0x425b98[_0x4e2325(0x4c8)]):_0x524318=(0x0,$t['getMIMEType'])(_0x425b98['media']);let _0x172a5f=vr,_0xb1eed0=Ze;return _0xb1eed0&&this['instanceName'][_0x4e2325(0x2d3)]()[_0x4e2325(0x3b6)](_0xb1eed0[_0x4e2325(0x2d3)]())&&(_0x425b98[_0x4e2325(0x113)]+='\x0a\x0a'+_0x172a5f),_0x340a04[_0x371d2e][_0x4e2325(0x113)]=_0x425b98?.[_0x4e2325(0x113)],_0x340a04[_0x371d2e]['mimetype']=_0x524318,_0x340a04[_0x371d2e][_0x4e2325(0x4c8)]=_0x425b98['fileName'],_0x425b98['mediatype']===_0x4e2325(0x192)&&(_0x340a04[_0x371d2e][_0x4e2325(0x227)]=Uint8Array[_0x4e2325(0x49e)]((0x0,Te[_0x4e2325(0x558)])((0x0,J['join'])(process[_0x4e2325(0x262)](),_0x4e2325(0x1a3)))),_0x340a04[_0x371d2e][_0x4e2325(0x6c7)]=!0x1),(0x0,m['generateWAMessageFromContent'])('',{[_0x371d2e]:{..._0x340a04[_0x371d2e]}},{'userJid':this['instance']['wuid']});}catch(_0x5a3d2c){throw this['logger']['error'](this[_0x4e2325(0x76b)]+'\x20('+this[_0x4e2325(0x35a)][_0x4e2325(0x6a2)]+_0x4e2325(0x2f8)+(_0x5a3d2c instanceof Error?_0x5a3d2c[_0x4e2325(0x6f6)]:JSON[_0x4e2325(0x68d)](_0x5a3d2c,null,0x2))),new I(_0x5a3d2c?.[_0x4e2325(0x1ce)]()||_0x5a3d2c);}}async[a0_0x5a7632(0x2ae)](_0x4af085){const _0x1eef90=a0_0x5a7632;let _0x5cb318=await this['prepareMediaMessage'](_0x4af085['mediaMessage']);return await this['sendMessageWithTyping'](_0x4af085[_0x1eef90(0x744)],{..._0x5cb318['message']},_0x4af085?.[_0x1eef90(0x698)]);}async[a0_0x5a7632(0x4c6)](_0x4f9b6a,_0x52b5d9){const _0x2f93e7=a0_0x5a7632;try{this[_0x2f93e7(0x22c)]['verbose'](_0x2f93e7(0x28e));let _0xa93269,_0x109eed=_0x52b5d9+'-'+new Date()[_0x2f93e7(0x738)]();this[_0x2f93e7(0x22c)]['verbose'](_0x2f93e7(0x5ec)+_0x109eed);let _0x417dad=''+(0x0,J[_0x2f93e7(0x41a)])(this[_0x2f93e7(0x6e5)],_0x109eed+'.webp');if(this['logger'][_0x2f93e7(0x140)](_0x2f93e7(0x145)+_0x417dad),(0x0,P['isBase64'])(_0x4f9b6a)){this[_0x2f93e7(0x22c)][_0x2f93e7(0x140)](_0x2f93e7(0x296));let _0x5c11ba=_0x4f9b6a[_0x2f93e7(0x23d)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4ffa90=Buffer[_0x2f93e7(0x49e)](_0x5c11ba,_0x2f93e7(0x279));_0xa93269=''+(0x0,J[_0x2f93e7(0x41a)])(this[_0x2f93e7(0x6e5)],_0x2f93e7(0x199)+_0x109eed+'.png'),this['logger'][_0x2f93e7(0x140)](_0x2f93e7(0x710)+_0xa93269),await(0x0,kt[_0x2f93e7(0x1c5)])(_0x4ffa90)[_0x2f93e7(0x654)](_0xa93269),this[_0x2f93e7(0x22c)][_0x2f93e7(0x140)](_0x2f93e7(0x312));}else{this[_0x2f93e7(0x22c)][_0x2f93e7(0x140)](_0x2f93e7(0x496));let _0xe4903a=new Date()['getTime'](),_0x50fab8=_0x4f9b6a+_0x2f93e7(0x1a0)+_0xe4903a;this[_0x2f93e7(0x22c)]['verbose'](_0x2f93e7(0x58b)+_0x50fab8);let _0x20dabb=await Z[_0x2f93e7(0x1c5)][_0x2f93e7(0x711)](_0x50fab8,{'responseType':_0x2f93e7(0x19c)});this[_0x2f93e7(0x22c)][_0x2f93e7(0x140)](_0x2f93e7(0x36d));let _0x188628=Buffer[_0x2f93e7(0x49e)](_0x20dabb[_0x2f93e7(0x18c)],_0x2f93e7(0x5d9));_0xa93269=''+(0x0,J[_0x2f93e7(0x41a)])(this[_0x2f93e7(0x6e5)],_0x2f93e7(0x199)+_0x109eed+_0x2f93e7(0x196)),this['logger'][_0x2f93e7(0x140)](_0x2f93e7(0x710)+_0xa93269),await(0x0,kt[_0x2f93e7(0x1c5)])(_0x188628)[_0x2f93e7(0x654)](_0xa93269),this[_0x2f93e7(0x22c)]['verbose'](_0x2f93e7(0x312));}return await(0x0,kt[_0x2f93e7(0x1c5)])(_0xa93269)[_0x2f93e7(0x433)]()[_0x2f93e7(0x654)](_0x417dad),this['logger']['verbose']('Image\x20converted\x20to\x20WebP'),F[_0x2f93e7(0x366)](_0xa93269),this[_0x2f93e7(0x22c)][_0x2f93e7(0x140)]('Temp\x20image\x20deleted'),_0x417dad;}catch(_0x478667){console[_0x2f93e7(0x7aa)](_0x2f93e7(0x662),_0x478667 instanceof Error?_0x478667[_0x2f93e7(0x6f6)]:JSON['stringify'](_0x478667,null,0x2));}}async[a0_0x5a7632(0x20b)](_0x3b6e6c){const _0x250be3=a0_0x5a7632;let _0x106b0c=await this[_0x250be3(0x4c6)](_0x3b6e6c[_0x250be3(0x46f)][_0x250be3(0x613)],_0x3b6e6c[_0x250be3(0x744)]),_0x1aaa00=await this[_0x250be3(0x2e7)](_0x3b6e6c[_0x250be3(0x744)],{'sticker':{'url':_0x106b0c}},_0x3b6e6c?.['options']);return F[_0x250be3(0x366)](_0x106b0c),this[_0x250be3(0x22c)][_0x250be3(0x140)]('Converted\x20image\x20deleted'),_0x1aaa00;}async[a0_0x5a7632(0x30b)](_0x3958b1){const _0x3868eb=a0_0x5a7632;if(this['logger']['verbose'](_0x3868eb(0x782)),!_0x3958b1[_0x3868eb(0x698)]?.[_0x3868eb(0x743)]&&_0x3958b1[_0x3868eb(0x698)]?.['encoding']!==!0x1&&(_0x3958b1[_0x3868eb(0x698)][_0x3868eb(0x743)]=!0x0),_0x3958b1['options']?.[_0x3868eb(0x743)]){let _0x913d47=await this['convertaudio'](_0x3958b1['audioMessage']['audio']);if(typeof _0x913d47==_0x3868eb(0x2dc)){let _0x248d49=F[_0x3868eb(0x558)](_0x913d47)[_0x3868eb(0x1ce)](_0x3868eb(0x279));return this[_0x3868eb(0x2e7)](_0x3958b1[_0x3868eb(0x744)],{'audio':Buffer[_0x3868eb(0x49e)](_0x248d49,_0x3868eb(0x279)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x3868eb(0x76a),'delay':_0x3958b1?.[_0x3868eb(0x698)]?.[_0x3868eb(0x699)]});}else throw new I(_0x913d47);}return await this[_0x3868eb(0x2e7)](_0x3958b1['number'],{'audio':(0x0,P[_0x3868eb(0x794)])(_0x3958b1[_0x3868eb(0x201)][_0x3868eb(0x66d)])?{'url':_0x3958b1[_0x3868eb(0x201)][_0x3868eb(0x66d)]}:Buffer[_0x3868eb(0x49e)](_0x3958b1[_0x3868eb(0x201)][_0x3868eb(0x66d)],_0x3868eb(0x279)),'ptt':!0x0,'mimetype':_0x3868eb(0x747)},{'presence':_0x3868eb(0x76a),'delay':_0x3958b1?.['options']?.[_0x3868eb(0x699)]});}async[a0_0x5a7632(0x44e)](_0x415bb){const _0x3e52c9=a0_0x5a7632;this[_0x3e52c9(0x22c)][_0x3e52c9(0x140)](_0x3e52c9(0x12c));let _0x3a1142=(0x0,P[_0x3e52c9(0x794)])(_0x415bb)?(0x0,Is[_0x3e52c9(0x6ab)])(_0x3e52c9(0x797))[_0x3e52c9(0x703)](_0x415bb)[_0x3e52c9(0x1d5)](_0x3e52c9(0x3ba)):(0x0,Is['createHash'])(_0x3e52c9(0x797))[_0x3e52c9(0x703)](_0x415bb)['digest'](_0x3e52c9(0x3ba)),_0x153b57=''+(0x0,J[_0x3e52c9(0x41a)])(this[_0x3e52c9(0x6e5)],_0x3a1142+'.ogg');if(F['existsSync'](_0x153b57))return this['logger'][_0x3e52c9(0x140)](_0x3e52c9(0x374)),_0x153b57;let _0x5cbfc8=''+(0x0,J['join'])(this[_0x3e52c9(0x6e5)],'temp-'+(0x0,Re['v4'])()+'.mp3');if((0x0,P[_0x3e52c9(0x794)])(_0x415bb)){let _0x4d3e31=new Date()[_0x3e52c9(0x738)](),_0x5ba5d=_0x415bb+_0x3e52c9(0x1a0)+_0x4d3e31,_0x4b78c9=await Z[_0x3e52c9(0x1c5)][_0x3e52c9(0x711)](_0x5ba5d,{'responseType':_0x3e52c9(0x19c)});F['writeFileSync'](_0x5cbfc8,_0x4b78c9[_0x3e52c9(0x18c)]);}else{let _0x1f77c5=Buffer['from'](_0x415bb,_0x3e52c9(0x279));F[_0x3e52c9(0x77f)](_0x5cbfc8,_0x1f77c5);}return new Promise((_0x1ba26a,_0x1bd22e)=>{const _0x112966=_0x3e52c9;(0x0,jt[_0x112966(0x596)])(Rr['default'][_0x112966(0x686)]+_0x112966(0x69c)+_0x5cbfc8+_0x112966(0x639)+_0x153b57+_0x112966(0x1c0),_0x46913d=>{const _0x16bda7=_0x112966;if(F[_0x16bda7(0x366)](_0x5cbfc8),_0x46913d){this['logger'][_0x16bda7(0x140)](_0x16bda7(0x52e)),_0x1bd22e(_0x46913d);return;}this[_0x16bda7(0x22c)][_0x16bda7(0x140)](_0x16bda7(0x61e)),_0x1ba26a(_0x153b57);});});}async[a0_0x5a7632(0x35b)](_0x5e2a98){const _0x38d5e4=a0_0x5a7632;let _0x27211f={},_0x2784ba='TEXT';if(_0x5e2a98[_0x38d5e4(0x35b)]?.['mediaMessage']){_0x2784ba=_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x2ae)]?.[_0x38d5e4(0x585)]['toUpperCase']()??_0x38d5e4(0x44a),_0x27211f['mediaKey']=_0x2784ba[_0x38d5e4(0x2d3)]()+_0x38d5e4(0x4fe);let _0x2131b4=await this[_0x38d5e4(0x65a)](_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x2ae)]);_0x27211f[_0x38d5e4(0x6f6)]=_0x2131b4[_0x38d5e4(0x6f6)][_0x27211f['mediaKey']],_0x27211f['contentText']='*'+_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x4ec)]+_0x38d5e4(0x63d)+_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x6a5)];}let _0x2cf0b5={'text':_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x779)][_0x38d5e4(0x2ca)](_0x57a193=>_0x57a193[_0x38d5e4(0x224)]),'ids':_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x779)][_0x38d5e4(0x2ca)](_0x4490f0=>_0x4490f0[_0x38d5e4(0x621)])};if(!(0x0,P[_0x38d5e4(0x3de)])(_0x2cf0b5['text'])||!(0x0,P['arrayUnique'])(_0x2cf0b5['ids']))throw new w('Button\x20texts\x20cannot\x20be\x20repeated',_0x38d5e4(0x174));return await this[_0x38d5e4(0x2e7)](_0x5e2a98['number'],{'buttonsMessage':{'text':_0x27211f?.[_0x38d5e4(0x45d)]?void 0x0:_0x5e2a98[_0x38d5e4(0x35b)][_0x38d5e4(0x4ec)],'contentText':_0x27211f?.[_0x38d5e4(0x266)]??_0x5e2a98['buttonMessage']['description'],'footerText':_0x5e2a98[_0x38d5e4(0x35b)]?.[_0x38d5e4(0x20e)],'buttons':_0x5e2a98['buttonMessage'][_0x38d5e4(0x779)][_0x38d5e4(0x2ca)](_0x1eadb1=>({'buttonText':{'displayText':_0x1eadb1[_0x38d5e4(0x224)]},'buttonId':_0x1eadb1['buttonId'],'type':0x1})),'headerType':m[_0x38d5e4(0x74c)][_0x38d5e4(0x4fe)][_0x38d5e4(0x6ff)][_0x38d5e4(0x5c1)][_0x2784ba],[_0x27211f?.[_0x38d5e4(0x45d)]]:_0x27211f?.['message']}},_0x5e2a98?.[_0x38d5e4(0x698)]);}async[a0_0x5a7632(0x525)](_0x451941){const _0x1b4d5a=a0_0x5a7632;return await this[_0x1b4d5a(0x2e7)](_0x451941[_0x1b4d5a(0x744)],{'locationMessage':{'degreesLatitude':_0x451941[_0x1b4d5a(0x525)]['latitude'],'degreesLongitude':_0x451941[_0x1b4d5a(0x525)]['longitude'],'name':_0x451941[_0x1b4d5a(0x525)]?.[_0x1b4d5a(0x510)],'address':_0x451941[_0x1b4d5a(0x525)]?.['address']}},_0x451941?.[_0x1b4d5a(0x698)]);}async[a0_0x5a7632(0x714)](_0x3b4065){const _0x41c996=a0_0x5a7632;let _0x438de3={},_0x2d4239=_0x8b39d1=>{const _0x5bf18e=a0_0xc371;let _0x124740=_0x5bf18e(0x303)+_0x8b39d1[_0x5bf18e(0x1ed)]+'\x0aFN:'+_0x8b39d1[_0x5bf18e(0x1ed)]+'\x0a';_0x8b39d1[_0x5bf18e(0x6b9)]&&(_0x124740+=_0x5bf18e(0x427)+_0x8b39d1[_0x5bf18e(0x6b9)]+';\x0a'),_0x8b39d1['email']&&(_0x124740+=_0x5bf18e(0x3b0)+_0x8b39d1[_0x5bf18e(0x311)]+'\x0a'),_0x8b39d1[_0x5bf18e(0x67c)]&&(_0x124740+=_0x5bf18e(0x5d3)+_0x8b39d1[_0x5bf18e(0x67c)]+'\x0a');let _0x221995='';return _0x8b39d1[_0x5bf18e(0x35d)]&&_0x8b39d1[_0x5bf18e(0x35d)][_0x5bf18e(0x323)]('|')[_0x5bf18e(0x16d)]((_0x100673,_0x4c3924)=>{const _0x569985=_0x5bf18e;let _0x19185b=this[_0x569985(0x12d)](_0x100673)[_0x569985(0x23d)](_0x569985(0x770),'');_0x221995+='item'+(_0x4c3924+0x1)+'.TEL;waid='+_0x19185b+':'+_0x100673+_0x569985(0x40e)+(_0x4c3924+0x1)+_0x569985(0x244);}),_0x124740+=_0x221995+_0x5bf18e(0x398),_0x124740;};return _0x3b4065[_0x41c996(0x714)][_0x41c996(0x4e4)]===0x1?_0x438de3[_0x41c996(0x714)]={'displayName':_0x3b4065[_0x41c996(0x714)][0x0]['fullName'],'vcard':_0x2d4239(_0x3b4065[_0x41c996(0x714)][0x0])}:_0x438de3[_0x41c996(0x25b)]={'displayName':_0x3b4065['contactMessage'][_0x41c996(0x4e4)]+_0x41c996(0x286),'contacts':_0x3b4065['contactMessage']['map'](_0x437541=>({'displayName':_0x437541['fullName'],'vcard':_0x2d4239(_0x437541)}))},await this[_0x41c996(0x2e7)](_0x3b4065[_0x41c996(0x744)],{..._0x438de3},_0x3b4065?.[_0x41c996(0x698)]);}async[a0_0x5a7632(0x746)](_0x50e6eb){const _0x476618=a0_0x5a7632;return await this['sendMessageWithTyping'](_0x50e6eb['reactionMessage']['key'][_0x476618(0x619)],{'reactionMessage':{'key':_0x50e6eb[_0x476618(0x746)][_0x476618(0x331)],'text':_0x50e6eb[_0x476618(0x746)][_0x476618(0x1e7)]}});}async[a0_0x5a7632(0x563)](_0x5329bb){const _0x14bb99=a0_0x5a7632;let _0x17f869=[];for await(let _0x1f130d of _0x5329bb[_0x14bb99(0xf5)]){let _0x776e38=this[_0x14bb99(0x12d)](_0x1f130d),_0xeb2699=!0x1;try{if((0x0,m[_0x14bb99(0x1c4)])(_0x776e38)){let _0x31f36c=await this['findGroup']({'groupJid':_0x776e38},_0x14bb99(0x74f));_0x17f869['push'](new fe(_0x31f36c['metadata']['id'],!!_0x31f36c?.[_0x14bb99(0x2b7)]['id'],_0x31f36c?.[_0x14bb99(0x2b7)][_0x14bb99(0x281)])),_0xeb2699=!!_0x31f36c?.[_0x14bb99(0x2b7)]['id'];}else{let _0x3169d4=(await this[_0x14bb99(0x425)][_0x14bb99(0x26b)](_0x776e38))[0x0];_0x17f869[_0x14bb99(0x208)](new fe(_0x3169d4['jid'],_0x3169d4['exists'])),_0xeb2699=_0x3169d4[_0x14bb99(0x6e9)];}}catch{await this[_0x14bb99(0x531)](_0x776e38,_0xeb2699),_0x17f869[_0x14bb99(0x208)](new fe(_0x1f130d,!0x1));}}return _0x17f869;}async[a0_0x5a7632(0x531)](_0x3bbe2a,_0x13ae3c){const _0x11b27b=a0_0x5a7632;try{await this[_0x11b27b(0x2d9)]['chat'][_0x11b27b(0x48e)]({'where':{'_id':_0x3bbe2a,'imported':!0x0}},this[_0x11b27b(0x35a)]['wuid'])&&(_0x13ae3c||(await this[_0x11b27b(0x2d9)][_0x11b27b(0x458)]['deleteChat'](_0x3bbe2a,this['instance']['wuid']),console['log'](_0x11b27b(0x72d)+_0x3bbe2a+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0xdf9fc8){console[_0x11b27b(0x7aa)](_0x11b27b(0x4c9),_0xdf9fc8);}}async[a0_0x5a7632(0x246)](_0x17fe72){const _0x18dc34=a0_0x5a7632;try{let _0x3db7bb=_0x17fe72[_0x18dc34(0x4f3)][_0x18dc34(0x669)](_0x1f5962=>(0x0,m[_0x18dc34(0x1c4)])(_0x1f5962[_0x18dc34(0x619)])||(0x0,m[_0x18dc34(0x6a3)])(_0x1f5962[_0x18dc34(0x619)]))[_0x18dc34(0x2ca)](_0x216a3e=>({'remoteJid':_0x216a3e['remoteJid'],'fromMe':_0x216a3e['fromMe'],'id':_0x216a3e['id']}));await this['client'][_0x18dc34(0x4f3)](_0x3db7bb);let _0x2ecb28=_0x3db7bb[_0x18dc34(0x2ca)](_0x2ffb69=>this['updateMessage'](_0x2ffb69,{'status':_0x18dc34(0x2a1),'owner':this[_0x18dc34(0x35a)][_0x18dc34(0x6a2)]})),_0x4a86d4=_0x3db7bb['map'](_0x2c11fb=>this[_0x18dc34(0x2d9)][_0x18dc34(0x458)][_0x18dc34(0x406)]({'where':{'_id':_0x2c11fb[_0x18dc34(0x619)]}},{'unreadcount':0x0},this[_0x18dc34(0x35a)][_0x18dc34(0x6a2)])),[_0x5596aa,_0x2a14fb]=await Promise[_0x18dc34(0x172)]([Promise[_0x18dc34(0x172)](_0x2ecb28),Promise['all'](_0x4a86d4)]);return _0x2a14fb[_0x18dc34(0x669)](_0x292016=>_0x292016!==null)['forEach'](_0x1e6690=>{const _0x360f58=_0x18dc34;q(this['instanceName'],_0x360f58(0x2ec),{'chat':_0x1e6690});}),{'message':_0x18dc34(0x50e),'read':'success'};}catch(_0x1de050){throw console[_0x18dc34(0x7aa)](_0x18dc34(0x334),_0x1de050),new I(_0x18dc34(0x2f6),_0x1de050[_0x18dc34(0x1ce)]());}}async['getLastMessage'](_0x4dd6fa){const _0x3ecdfb=a0_0x5a7632;let _0x53e9d5={'where':{'key':{'remoteJid':_0x4dd6fa}},'limit':0x1},_0x5c3603=await this[_0x3ecdfb(0x52b)](_0x53e9d5);return _0x5c3603||(console[_0x3ecdfb(0x7aa)](_0x3ecdfb(0x38a),_0x4dd6fa),null);}async[a0_0x5a7632(0x4a4)](_0x4336f9){const _0x1a8b93=a0_0x5a7632;this[_0x1a8b93(0x22c)][_0x1a8b93(0x140)](_0x1a8b93(0x6e1));try{let _0x1db6e6=_0x4336f9['lastMessage'],_0x33b676=_0x4336f9[_0x1a8b93(0x458)];if(!_0x1db6e6&&_0x33b676?_0x1db6e6=await this['getLastMessage'](_0x33b676):(_0x1db6e6=_0x4336f9[_0x1a8b93(0x1de)],_0x1db6e6[_0x1a8b93(0x720)]=_0x1db6e6?.[_0x1a8b93(0x720)]??Date[_0x1a8b93(0x73d)](),_0x33b676=_0x1db6e6?.[_0x1a8b93(0x331)]?.[_0x1a8b93(0x619)]),!_0x1db6e6||Object[_0x1a8b93(0x769)](_0x1db6e6)[_0x1a8b93(0x4e4)]===0x0)throw new L(_0x1a8b93(0x73a));this[_0x1a8b93(0x22c)][_0x1a8b93(0x140)](_0x1a8b93(0x1b3)+_0x33b676);try{await this['client'][_0x1a8b93(0x751)]({'archive':_0x4336f9['archive'],'lastMessages':[_0x1db6e6]},this[_0x1a8b93(0x12d)](_0x33b676));}catch(_0x4039d7){this[_0x1a8b93(0x22c)][_0x1a8b93(0x7aa)](_0x1a8b93(0x3b4)+_0x33b676+':\x20'+_0x4039d7[_0x1a8b93(0x1ce)]());}this['logger'][_0x1a8b93(0x140)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x33b676);let _0x368d7d=await this[_0x1a8b93(0x2d9)][_0x1a8b93(0x458)][_0x1a8b93(0x406)]({'where':{'_id':_0x1db6e6?.['key']?.['remoteJid']}},{'archived':_0x4336f9[_0x1a8b93(0x593)]},this[_0x1a8b93(0x35a)][_0x1a8b93(0x6a2)]);return _0x368d7d?(this[_0x1a8b93(0x22c)]['verbose'](_0x1a8b93(0x36c)+JSON[_0x1a8b93(0x68d)](_0x368d7d)),q(this[_0x1a8b93(0x76b)],'chats',{'chat':_0x368d7d})):this[_0x1a8b93(0x22c)]['error'](_0x1a8b93(0x793)+_0x33b676),{'chatId':_0x33b676,'archived':_0x4336f9['archive']};}catch(_0x3a388d){throw this[_0x1a8b93(0x22c)]['error'](_0x1a8b93(0x3f1)+_0x3a388d[_0x1a8b93(0x1ce)]()),new I({'archived':!0x1,'message':[_0x1a8b93(0x307),_0x3a388d[_0x1a8b93(0x1ce)]()]});}}async[a0_0x5a7632(0x125)](_0x339819){const _0x1a1eb0=a0_0x5a7632;try{let _0x42ff44=await this['client']['sendMessage'](_0x339819[_0x1a1eb0(0x619)],{'delete':_0x339819});try{let _0x15b88e=await this['updateMessage'](_0x339819,{'status':'DELETED','owner':this[_0x1a1eb0(0x35a)]['wuid']});this[_0x1a1eb0(0x22c)][_0x1a1eb0(0x140)](this['instanceName']+'\x20('+this[_0x1a1eb0(0x35a)][_0x1a1eb0(0x6a2)]+'):\x20updateResult:'+_0x15b88e);}catch(_0x3adbde){console[_0x1a1eb0(0x7aa)](_0x1a1eb0(0x6f2),_0x3adbde);}return _0x42ff44;}catch(_0x1f2b0a){throw new I(_0x1a1eb0(0x1dc),_0x1f2b0a?.[_0x1a1eb0(0x1ce)]());}}async['getBase64FromMediaMessage'](_0x5d4092){const _0x3ad88f=a0_0x5a7632;try{let _0x28d53c=_0x5d4092?.[_0x3ad88f(0x6f6)]?_0x5d4092:await this[_0x3ad88f(0x638)](_0x5d4092['key'],!0x0);for(let _0x3617d3 of Ma)_0x28d53c[_0x3ad88f(0x6f6)][_0x3617d3]&&(_0x28d53c[_0x3ad88f(0x6f6)]=_0x28d53c['message'][_0x3617d3][_0x3ad88f(0x6f6)]);let _0x46bf09,_0x2b947f;for(let _0x11ccf3 of Ea)if(_0x46bf09=_0x28d53c[_0x3ad88f(0x6f6)][_0x11ccf3],_0x46bf09){_0x2b947f=_0x11ccf3;break;}if(!_0x46bf09)throw _0x3ad88f(0x784);typeof _0x46bf09[_0x3ad88f(0x45d)]=='object'&&(_0x28d53c[_0x3ad88f(0x6f6)]=JSON[_0x3ad88f(0x1bd)](JSON['stringify'](_0x28d53c[_0x3ad88f(0x6f6)])));let _0x92ba5a=await(0x0,m[_0x3ad88f(0x55c)])({'key':_0x28d53c?.['key'],'message':_0x28d53c?.['message']},_0x3ad88f(0x79f),{},{'logger':(0x0,Pt['default'])({'level':_0x3ad88f(0x15e)}),'reuploadRequest':this[_0x3ad88f(0x425)][_0x3ad88f(0x1fd)]});if(!(_0x92ba5a instanceof Buffer))throw new Error(_0x3ad88f(0x4bb));let _0x3c509f=this['configService'][_0x3ad88f(0x711)](_0x3ad88f(0x771)),_0x564fd7,_0x1af6fe;if(_0x46bf09[_0x3ad88f(0x4c8)])_0x564fd7=_0x46bf09[_0x3ad88f(0x4c8)];else{let _0x5a4471=_0x46bf09['mimetype']?.[_0x3ad88f(0x408)](/\/(\w+)/),_0x4d72f9=_0x5a4471?_0x5a4471[0x1]:null;if(!_0x4d72f9)throw new Error(_0x3ad88f(0x6ae));_0x564fd7=(0x0,Re['v4'])()+'.'+_0x4d72f9;}_0x2b947f===_0x3ad88f(0x201)&&_0x46bf09[_0x3ad88f(0x342)]===_0x3ad88f(0x1a7)?(_0x564fd7=(0x0,Re['v4'])()+_0x3ad88f(0x33f),_0x1af6fe=_0x3ad88f(0x297)+await this[_0x3ad88f(0x44e)](_0x92ba5a[_0x3ad88f(0x1ce)](_0x3ad88f(0x279)))):(await this['saveMediaToFile'](_0x92ba5a,_0x564fd7),_0x1af6fe='/media/'+_0x564fd7);let _0x574e8b=this[_0x3ad88f(0x513)]['get'](_0x3ad88f(0xfb))[_0x3ad88f(0x5da)];if(!_0x574e8b){let _0x1893bf=this['configService'][_0x3ad88f(0x711)](_0x3ad88f(0x512));_0x574e8b='https://'+(_0x1893bf&&_0x1893bf[_0x3ad88f(0x618)][_0x3ad88f(0x323)]('/')[0x4]);}_0x1af6fe=''+_0x574e8b+_0x1af6fe;let _0x3fafda=0xc*0x3c*0x3c*0x3e8,_0x52f47e={'where':{'_id':_0x28d53c['key']['id']}},_0xeb168f={'message_normalized.fileUrl':_0x1af6fe,'message_normalized.expires_fileUrl':Date[_0x3ad88f(0x73d)]()+_0x3fafda};try{let _0x172f24=await this[_0x3ad88f(0x2d9)]['message']['update'](_0x52f47e,_0xeb168f,this[_0x3ad88f(0x35a)][_0x3ad88f(0x6a2)]);_0x172f24&&q(this[_0x3ad88f(0x76b)],_0x3ad88f(0x57e),{'message':_0x172f24});}catch(_0x731a4b){this[_0x3ad88f(0x22c)][_0x3ad88f(0x7aa)](this[_0x3ad88f(0x76b)]+'\x20('+this['instance'][_0x3ad88f(0x6a2)]+_0x3ad88f(0x2f8)+(_0x731a4b instanceof Error?_0x731a4b['message']:JSON[_0x3ad88f(0x68d)](_0x731a4b,null,0x2)));}return{'mediaType':_0x2b947f,'fileName':_0x46bf09[_0x3ad88f(0x4c8)],'caption':_0x46bf09[_0x3ad88f(0x113)],'size':{'fileLength':_0x46bf09[_0x3ad88f(0x73b)],'height':_0x46bf09[_0x3ad88f(0x4b4)],'width':_0x46bf09[_0x3ad88f(0x659)]},'mimetype':_0x46bf09['mimetype'],'base64':_0x92ba5a[_0x3ad88f(0x1ce)](_0x3ad88f(0x279)),'fileUrl':_0x1af6fe,'expires_fileUrl':Date['now']()+_0x3fafda};}catch(_0x1106af){throw this[_0x3ad88f(0x22c)][_0x3ad88f(0x7aa)](this['instanceName']+'\x20('+this[_0x3ad88f(0x35a)]['wuid']+_0x3ad88f(0x2f8)+(_0x1106af instanceof Error?_0x1106af[_0x3ad88f(0x6f6)]:JSON[_0x3ad88f(0x68d)](_0x1106af,null,0x2))),new w(_0x1106af[_0x3ad88f(0x1ce)]());}}async['saveMediaToFile'](_0x8bec9d,_0x4aa0cf){const _0x5d961b=a0_0x5a7632;let _0x278eec=J[_0x5d961b(0x1c5)]['join'](__dirname,'downloads');F[_0x5d961b(0x14a)](_0x278eec)||F['mkdirSync'](_0x278eec,{'recursive':!0x0});let _0x11dce3=J['default']['join'](_0x278eec,_0x4aa0cf);return new Promise((_0x98d0bc,_0xcc3901)=>{const _0x30a005=_0x5d961b;F[_0x30a005(0x58c)](_0x11dce3,_0x8bec9d,_0x234e6e=>{const _0x371297=_0x30a005;_0x234e6e?(this[_0x371297(0x22c)][_0x371297(0x7aa)]('Error\x20writing\x20file:\x20'+(_0x234e6e instanceof Error?_0x234e6e[_0x371297(0x6f6)]:JSON[_0x371297(0x68d)](_0x234e6e,null,0x2))),_0xcc3901(_0x234e6e)):(this[_0x371297(0x22c)][_0x371297(0x1c8)](_0x371297(0x119)+_0x11dce3),_0x98d0bc(_0x11dce3));});});}async[a0_0x5a7632(0x413)](_0x26f8c4){const _0x1842d3=a0_0x5a7632;return await this['repository'][_0x1842d3(0x1e1)][_0x1842d3(0x6c4)](_0x26f8c4,this['instance'][_0x1842d3(0x6a2)]);}async['fetchLabels'](){const _0x5e90f8=a0_0x5a7632;return await this[_0x5e90f8(0x2d9)]['label'][_0x5e90f8(0x6c4)]({'where':{}},this[_0x5e90f8(0x35a)][_0x5e90f8(0x6a2)]);}async[a0_0x5a7632(0x52b)](_0x568785){const _0x5c7c87=a0_0x5a7632;return await this[_0x5c7c87(0x2d9)][_0x5c7c87(0x6f6)][_0x5c7c87(0x6c4)](_0x568785,this[_0x5c7c87(0x35a)][_0x5c7c87(0x6a2)]);}async[a0_0x5a7632(0x31e)](){const _0x33db35=a0_0x5a7632;return this[_0x33db35(0x2d9)][_0x33db35(0x458)][_0x33db35(0x656)](this[_0x33db35(0x35a)][_0x33db35(0x6a2)]),this[_0x33db35(0x2d9)][_0x33db35(0x458)]['updateMissingEtiquetas'](this[_0x33db35(0x35a)][_0x33db35(0x6a2)]),this[_0x33db35(0x2d9)][_0x33db35(0x458)][_0x33db35(0x44f)](this[_0x33db35(0x35a)][_0x33db35(0x6a2)]),this['repository'][_0x33db35(0x458)]['updateMissingCustomFields'](this[_0x33db35(0x35a)]['wuid']),await this[_0x33db35(0x2d9)][_0x33db35(0x458)][_0x33db35(0x6c4)]({'where':{}},this['instance'][_0x33db35(0x6a2)]);}async[a0_0x5a7632(0x761)](_0x589080){const _0x39c7ae=a0_0x5a7632;try{if(!Array[_0x39c7ae(0x5df)](_0x589080)||_0x589080[_0x39c7ae(0x4e4)]===0x0)throw new Error(_0x39c7ae(0x39d));let _0x6da128=[],_0x272267=[];for(let _0x79f2ba of _0x589080){if(_0x79f2ba['_id'])_0x79f2ba[_0x39c7ae(0x21b)]=this[_0x39c7ae(0x12d)](_0x79f2ba[_0x39c7ae(0x21b)]);else continue;await this['repository']['chat'][_0x39c7ae(0x48e)]({'where':{'_id':_0x79f2ba[_0x39c7ae(0x21b)]}},this[_0x39c7ae(0x35a)][_0x39c7ae(0x6a2)])?_0x272267[_0x39c7ae(0x208)]({'_id':_0x79f2ba[_0x39c7ae(0x21b)],'leadInfo':_0x79f2ba[_0x39c7ae(0x643)],'owner':this[_0x39c7ae(0x35a)]['wuid']}):_0x6da128['push']({'_id':_0x79f2ba[_0x39c7ae(0x21b)],'owner':this[_0x39c7ae(0x35a)][_0x39c7ae(0x6a2)],'leadInfo':_0x79f2ba[_0x39c7ae(0x643)],'imported':!0x0});}return _0x272267[_0x39c7ae(0x4e4)]>0x0&&await this[_0x39c7ae(0x2d9)][_0x39c7ae(0x458)][_0x39c7ae(0x728)](_0x272267[_0x39c7ae(0x2ca)](_0x504c04=>({'query':{'where':{'_id':_0x504c04['_id'],'owner':this[_0x39c7ae(0x35a)]['wuid']}},'update':_0x504c04}))),_0x6da128[_0x39c7ae(0x4e4)]>0x0&&await this[_0x39c7ae(0x2d9)][_0x39c7ae(0x458)]['insertMany'](_0x6da128,this[_0x39c7ae(0x35a)][_0x39c7ae(0x6a2)]),{'updated':_0x272267[_0x39c7ae(0x4e4)],'inserted':_0x6da128['length']};}catch(_0x152d4e){throw console[_0x39c7ae(0x7aa)](_0x39c7ae(0x369),_0x152d4e),_0x152d4e;}}async['importChats'](_0x23b9eb){const _0x2c406a=a0_0x5a7632;try{if(!Array[_0x2c406a(0x5df)](_0x23b9eb)||_0x23b9eb[_0x2c406a(0x4e4)]===0x0)throw new Error(_0x2c406a(0x39d));let _0x4e12b1=0x64,_0x46d896=0x0;for(let _0x1c1dfc=0x0;_0x1c1dfc<_0x23b9eb[_0x2c406a(0x4e4)];_0x1c1dfc+=_0x4e12b1){let _0x88a83c=_0x23b9eb['slice'](_0x1c1dfc,_0x1c1dfc+_0x4e12b1),{updated:_0x456234}=await this[_0x2c406a(0x27f)](_0x88a83c);_0x46d896+=_0x456234;}return{'updated':_0x46d896};}catch(_0x3dc622){throw console[_0x2c406a(0x7aa)](_0x2c406a(0x369),_0x3dc622),_0x3dc622;}}async['importChatsBatch'](_0x487a8c){const _0x3b6cb6=a0_0x5a7632;try{let _0x116ad3=await this['repository'][_0x3b6cb6(0x63b)][_0x3b6cb6(0x6c4)]({'where':{}},this[_0x3b6cb6(0x35a)][_0x3b6cb6(0x6a2)]),_0x4eebf5=new Set(_0x116ad3['map'](_0xf8e368=>_0xf8e368[_0x3b6cb6(0x21b)])),_0x44360c=[],_0x4d210a=[];for(let _0x3472ac of _0x487a8c){if(!_0x3472ac['_id'])continue;_0x3472ac['_id']=this[_0x3b6cb6(0x12d)](_0x3472ac[_0x3b6cb6(0x21b)]);let _0xf3ef07=await this[_0x3b6cb6(0x2d9)][_0x3b6cb6(0x458)]['findOne']({'where':{'_id':_0x3472ac['_id']}},this[_0x3b6cb6(0x35a)][_0x3b6cb6(0x6a2)]),_0x371b2e={};if(Object[_0x3b6cb6(0x269)](_0x3472ac[_0x3b6cb6(0x643)])[_0x3b6cb6(0x16d)](([_0x5c8187,_0x119d7d])=>{const _0x2dfac5=_0x3b6cb6;_0x371b2e[_0x2dfac5(0x124)+_0x5c8187]=_0x119d7d;}),_0xf3ef07&&!_0xf3ef07[_0x3b6cb6(0x2e8)]){let _0x473b41=(_0x3472ac[_0x3b6cb6(0x643)][_0x3b6cb6(0x112)]||[])[_0x3b6cb6(0x669)](_0x12b7d1=>_0x4eebf5[_0x3b6cb6(0x167)](_0x12b7d1)),_0x1c09ca=new Set(_0xf3ef07[_0x3b6cb6(0x643)][_0x3b6cb6(0x112)]||[]),_0x2e6f18=_0x473b41['filter'](_0x225827=>!_0x1c09ca['has'](_0x225827)),_0x4b6bf0=[..._0x1c09ca]['filter'](_0x3c43f9=>!_0x473b41[_0x3b6cb6(0x3b6)](_0x3c43f9));_0x4d210a[_0x3b6cb6(0x208)](..._0x2e6f18['map'](_0x48c3a7=>this[_0x3b6cb6(0x2ba)](_0x48c3a7,_0x3472ac[_0x3b6cb6(0x21b)]))),_0x4d210a[_0x3b6cb6(0x208)](..._0x4b6bf0[_0x3b6cb6(0x2ca)](_0x206724=>this[_0x3b6cb6(0x463)](_0x206724,_0x3472ac['_id']))),_0x3472ac[_0x3b6cb6(0x643)]['etiquetas']=_0x473b41,_0x44360c[_0x3b6cb6(0x208)]({'query':{'where':{'_id':_0x3472ac[_0x3b6cb6(0x21b)],'owner':this[_0x3b6cb6(0x35a)][_0x3b6cb6(0x6a2)]}},'update':_0x371b2e});}else _0x371b2e['imported']=!0x0,_0x44360c[_0x3b6cb6(0x208)]({'query':{'where':{'_id':_0x3472ac[_0x3b6cb6(0x21b)],'owner':this[_0x3b6cb6(0x35a)]['wuid']}},'update':_0x371b2e});}let _0xb4db69=await this[_0x3b6cb6(0x2d9)][_0x3b6cb6(0x458)][_0x3b6cb6(0x728)](_0x44360c);return await Promise[_0x3b6cb6(0x172)](_0x4d210a),{'updated':_0xb4db69};}catch(_0x35a0da){throw console['error'](_0x3b6cb6(0x369),_0x35a0da),_0x35a0da;}}async[a0_0x5a7632(0x5c5)](){const _0x2fa37e=a0_0x5a7632;return await this[_0x2fa37e(0x425)][_0x2fa37e(0x5c5)]();}async[a0_0x5a7632(0x4d4)](_0x27b0ff){const _0x489297=a0_0x5a7632;try{return await this[_0x489297(0x425)]['updateReadReceiptsPrivacy'](_0x27b0ff[_0x489297(0x448)][_0x489297(0x106)]),await this[_0x489297(0x425)][_0x489297(0x3e4)](_0x27b0ff['privacySettings'][_0x489297(0x234)]),await this[_0x489297(0x425)]['updateStatusPrivacy'](_0x27b0ff[_0x489297(0x448)]['status']),await this[_0x489297(0x425)]['updateOnlinePrivacy'](_0x27b0ff[_0x489297(0x448)]['online']),await this[_0x489297(0x425)][_0x489297(0x360)](_0x27b0ff[_0x489297(0x448)]['last']),await this[_0x489297(0x425)]['updateGroupsAddPrivacy'](_0x27b0ff['privacySettings'][_0x489297(0x75c)]),this[_0x489297(0x425)]?.['ws']?.[_0x489297(0x4fb)](),{'update':_0x489297(0x31b),'data':{'readreceipts':_0x27b0ff[_0x489297(0x448)][_0x489297(0x106)],'profile':_0x27b0ff[_0x489297(0x448)][_0x489297(0x234)],'status':_0x27b0ff[_0x489297(0x448)]['status'],'online':_0x27b0ff['privacySettings'][_0x489297(0x52a)],'last':_0x27b0ff['privacySettings'][_0x489297(0x3d2)],'groupadd':_0x27b0ff[_0x489297(0x448)][_0x489297(0x75c)]}};}catch(_0x4df53d){throw new I(_0x489297(0x3e5),_0x4df53d[_0x489297(0x1ce)]());}}async[a0_0x5a7632(0x55e)](_0x400581){const _0x30e70d=a0_0x5a7632;let _0x3aaa5f=(_0x400581?this[_0x30e70d(0x12d)](_0x400581):this[_0x30e70d(0x425)]?.[_0x30e70d(0x5e2)]?.['id'])[_0x30e70d(0x23d)](/:\d{1,2}@/g,'@');this[_0x30e70d(0x22c)][_0x30e70d(0x140)](_0x30e70d(0x5cb)+_0x3aaa5f);let _0x17fe3a=await this[_0x30e70d(0x2d9)][_0x30e70d(0x1e1)][_0x30e70d(0x48e)]({'where':{'_id':_0x3aaa5f}},this[_0x30e70d(0x35a)][_0x30e70d(0x6a2)]),_0x329c55=_0x17fe3a?_0x17fe3a[_0x30e70d(0x581)]:null;try{let _0x1f6b3f=(await this[_0x30e70d(0x563)]({'numbers':[_0x3aaa5f]}))?.[_0x30e70d(0x1b9)](),_0x4e568d=(await this['findAndUpdateCacheContact'](_0x3aaa5f,null,!0x1))[_0x30e70d(0x1cd)][_0x30e70d(0x78f)],_0x42d1e4=await this[_0x30e70d(0x733)](_0x1f6b3f?.['jid']),_0x379a12=await this[_0x30e70d(0x4ce)](_0x1f6b3f?.[_0x30e70d(0x383)]),_0x49700e=(await this[_0x30e70d(0x6dc)](_0x3aaa5f,null,!0x1))[_0x30e70d(0x1cd)]['name'],_0x3d2731=await this[_0x30e70d(0x2d9)]['chat']['findOne']({'where':{'_id':_0x3aaa5f}},this['instance']['wuid']),_0x196d71={'imagechat':_0x4e568d,'contactname':_0x329c55||null,'pushName':_0x49700e,'status':_0x42d1e4?.['status'],'isBusiness':_0x379a12[_0x30e70d(0x53b)],'email':_0x379a12?.[_0x30e70d(0x311)],'description':_0x379a12?.[_0x30e70d(0x6a5)],'website':_0x379a12?.[_0x30e70d(0x5b0)]?.[_0x30e70d(0x1b9)](),'lastcache':Date[_0x30e70d(0x73d)](),'imported':!_0x3d2731},_0x4a1938=await this[_0x30e70d(0x2d9)][_0x30e70d(0x458)][_0x30e70d(0x406)]({'where':{'_id':_0x3aaa5f}},_0x196d71,this[_0x30e70d(0x35a)]['wuid']),_0x532033={'owner':this[_0x30e70d(0x35a)][_0x30e70d(0x6a2)],'_id':_0x3aaa5f,'profilePictureUrl':_0x4e568d,'status':_0x42d1e4?.[_0x30e70d(0x5cd)]};return this[_0x30e70d(0x2d9)]['contact'][_0x30e70d(0x703)]([_0x532033],this[_0x30e70d(0x35a)]['wuid']),_0x4a1938&&q(this[_0x30e70d(0x76b)],'chats',{'chat':_0x4a1938}),{'wuid':_0x1f6b3f?.[_0x30e70d(0x383)]||_0x3aaa5f,'name':_0x1f6b3f?.['name'],'pushName':_0x49700e,'numberExists':_0x1f6b3f?.[_0x30e70d(0x6e9)],'picture':_0x4e568d,'status':_0x42d1e4?.[_0x30e70d(0x5cd)],'isBusiness':_0x379a12[_0x30e70d(0x53b)],'email':_0x379a12?.[_0x30e70d(0x311)],'description':_0x379a12?.[_0x30e70d(0x6a5)],'website':_0x379a12?.['website']?.[_0x30e70d(0x1b9)]()};}catch(_0x536d5f){return this[_0x30e70d(0x22c)][_0x30e70d(0x7aa)](_0x30e70d(0x392)+(_0x536d5f instanceof Error?_0x536d5f[_0x30e70d(0x6f6)]:JSON[_0x30e70d(0x68d)](_0x536d5f,null,0x2))),{};}}async[a0_0x5a7632(0x4ce)](_0x52b3bf){const _0x14fb42=a0_0x5a7632;this[_0x14fb42(0x22c)][_0x14fb42(0x140)](_0x14fb42(0x362));try{let _0x39442d=_0x52b3bf?this[_0x14fb42(0x12d)](_0x52b3bf):this['instance'][_0x14fb42(0x6a2)],_0x587c3b=await this[_0x14fb42(0x425)]['getBusinessProfile'](_0x39442d);return this[_0x14fb42(0x22c)]['verbose'](_0x14fb42(0x4de)),_0x587c3b?(this[_0x14fb42(0x22c)][_0x14fb42(0x140)](_0x14fb42(0x166)),{'isBusiness':!0x0,..._0x587c3b}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x39442d]}))?.[_0x14fb42(0x1b9)]()};}catch(_0x5b703c){throw new I(_0x14fb42(0x721),_0x5b703c['toString']());}}async[a0_0x5a7632(0x733)](_0x545b4e){const _0x1db945=a0_0x5a7632;let _0x21b6c5=this[_0x1db945(0x12d)](_0x545b4e);try{return{'wuid':_0x21b6c5,'status':(await this['client']['fetchStatus'](_0x21b6c5))?.[_0x1db945(0x5cd)]};}catch{return{'wuid':_0x21b6c5,'status':null};}}async['updateProfileName'](_0x155e72){const _0x12476f=a0_0x5a7632;try{return await this[_0x12476f(0x425)][_0x12476f(0x3fc)](_0x155e72),{'update':_0x12476f(0x31b)};}catch(_0x27080c){throw new I(_0x12476f(0x721),_0x27080c[_0x12476f(0x1ce)]());}}async['updateProfileStatus'](_0x433c88){const _0x537462=a0_0x5a7632;try{return await this[_0x537462(0x425)]['updateProfileStatus'](_0x433c88),{'update':_0x537462(0x31b)};}catch(_0x524bfb){throw new I(_0x537462(0x39b),_0x524bfb[_0x537462(0x1ce)]());}}async[a0_0x5a7632(0x3fb)](_0x274319){const _0x404ad0=a0_0x5a7632;try{let _0x2b18f4;if((0x0,P[_0x404ad0(0x794)])(_0x274319)){let _0xee8810=new Date()['getTime'](),_0x583cf4=_0x274319+_0x404ad0(0x1a0)+_0xee8810;_0x2b18f4=(await Z[_0x404ad0(0x1c5)]['get'](_0x583cf4,{'responseType':_0x404ad0(0x19c)}))['data'];}else{if((0x0,P[_0x404ad0(0x645)])(_0x274319))_0x2b18f4=Buffer[_0x404ad0(0x49e)](_0x274319,_0x404ad0(0x279));else throw new w(_0x404ad0(0x37f));}return await this[_0x404ad0(0x425)]['updateProfilePicture'](this[_0x404ad0(0x35a)][_0x404ad0(0x6a2)],_0x2b18f4),{'update':_0x404ad0(0x31b)};}catch(_0x54002d){throw new I('Error\x20updating\x20profile\x20picture',_0x54002d[_0x404ad0(0x1ce)]());}}async['removeProfilePicture'](){const _0x504797=a0_0x5a7632;try{return await this[_0x504797(0x425)][_0x504797(0x632)](this[_0x504797(0x35a)][_0x504797(0x6a2)]),{'update':_0x504797(0x31b)};}catch(_0x2c2d3b){throw new I(_0x504797(0x785),_0x2c2d3b[_0x504797(0x1ce)]());}}async[a0_0x5a7632(0x476)](_0x12f38f){const _0x53f031=a0_0x5a7632;try{let _0x5c66a5=_0x12f38f[_0x53f031(0x11b)]['map'](_0x148884=>this[_0x53f031(0x12d)](_0x148884)),{id:_0x3c6e57}=await this[_0x53f031(0x425)][_0x53f031(0x220)](_0x12f38f[_0x53f031(0x281)],_0x5c66a5);return _0x12f38f?.[_0x53f031(0x6a5)]&&await this[_0x53f031(0x425)][_0x53f031(0x454)](_0x3c6e57,_0x12f38f[_0x53f031(0x6a5)]),{'metadata':await this[_0x53f031(0x425)][_0x53f031(0x242)](_0x3c6e57)};}catch(_0x52fc77){throw this['logger'][_0x53f031(0x7aa)](this[_0x53f031(0x76b)]+'\x20('+this[_0x53f031(0x35a)][_0x53f031(0x6a2)]+_0x53f031(0x2f8)+(_0x52fc77 instanceof Error?_0x52fc77['message']:JSON[_0x53f031(0x68d)](_0x52fc77,null,0x2))),new I('Error\x20creating\x20group',_0x52fc77['toString']());}}async['updateGroupPicture'](_0x516e90){const _0x330470=a0_0x5a7632;try{let _0x584813;if((0x0,P['isURL'])(_0x516e90[_0x330470(0x613)])){let _0x235c2c=new Date()[_0x330470(0x738)](),_0x3e352f=_0x516e90[_0x330470(0x613)]+'?timestamp='+_0x235c2c;_0x584813=(await Z[_0x330470(0x1c5)][_0x330470(0x711)](_0x3e352f,{'responseType':_0x330470(0x19c)}))[_0x330470(0x18c)];}else{if((0x0,P[_0x330470(0x645)])(_0x516e90[_0x330470(0x613)]))_0x584813=Buffer[_0x330470(0x49e)](_0x516e90['image'],_0x330470(0x279));else throw new w(_0x330470(0x37f));}return await this[_0x330470(0x425)][_0x330470(0x3fb)](_0x516e90[_0x330470(0x495)],_0x584813),{'update':_0x330470(0x31b)};}catch(_0x3639f7){throw new I('Error\x20update\x20group\x20picture',_0x3639f7[_0x330470(0x1ce)]());}}async[a0_0x5a7632(0x2c4)](_0x241bc8){const _0x137f87=a0_0x5a7632;try{return await this[_0x137f87(0x425)]['groupUpdateDescription'](_0x241bc8['groupJid'],_0x241bc8[_0x137f87(0x6a5)]),{'update':'success'};}catch(_0x146039){throw new I(_0x137f87(0xeb),_0x146039[_0x137f87(0x1ce)]());}}async['groupName'](_0x3afdec){const _0x55fe70=a0_0x5a7632;try{return await this[_0x55fe70(0x425)]['groupUpdateSubject'](_0x3afdec[_0x55fe70(0x495)],_0x3afdec[_0x55fe70(0x510)]),{'update':'success'};}catch(_0x1624a0){throw new I(_0x55fe70(0x40d),_0x1624a0[_0x55fe70(0x1ce)]());}}async[a0_0x5a7632(0x264)](_0x17e6e9){const _0x276674=a0_0x5a7632;try{let _0x2a3a9e=await this[_0x276674(0x425)][_0x276674(0x2d7)](_0x17e6e9[_0x276674(0x495)],_0x17e6e9[_0x276674(0x3f3)]);return{'success':!0x0};}catch(_0x8ab30a){throw new w(_0x276674(0x4eb),_0x8ab30a[_0x276674(0x1ce)]());}}async[a0_0x5a7632(0x4a0)](_0x18fdd0){const _0x265b56=a0_0x5a7632;try{return await this['client'][_0x265b56(0x30a)](_0x18fdd0[_0x265b56(0x495)],_0x18fdd0[_0x265b56(0x20d)]),{'update':_0x265b56(0x31b)};}catch(_0x30502e){throw new I('Error\x20change\x20group\x20setting',_0x30502e[_0x265b56(0x1ce)]());}}async[a0_0x5a7632(0x336)](_0x4006ac){const _0x1b33d9=a0_0x5a7632;try{if(_0x4006ac[_0x1b33d9(0x1a4)]===!0x0&&await this[_0x1b33d9(0x425)][_0x1b33d9(0x30a)](_0x4006ac['groupJid'],_0x1b33d9(0x394)),_0x4006ac[_0x1b33d9(0x1a4)]===!0x1&&await this['client'][_0x1b33d9(0x30a)](_0x4006ac[_0x1b33d9(0x495)],_0x1b33d9(0x6af)),_0x4006ac[_0x1b33d9(0x655)]===!0x0&&await this[_0x1b33d9(0x425)][_0x1b33d9(0x30a)](_0x4006ac['groupJid'],_0x1b33d9(0x756)),_0x4006ac['announce']===!0x1&&await this[_0x1b33d9(0x425)][_0x1b33d9(0x30a)](_0x4006ac[_0x1b33d9(0x495)],_0x1b33d9(0x501)),_0x4006ac[_0x1b33d9(0x2c0)]===!0x0&&await this[_0x1b33d9(0x425)]['groupMemberAddMode'](_0x4006ac[_0x1b33d9(0x495)],_0x1b33d9(0x584)),_0x4006ac[_0x1b33d9(0x2c0)]===!0x1&&await this[_0x1b33d9(0x425)][_0x1b33d9(0x118)](_0x4006ac[_0x1b33d9(0x495)],_0x1b33d9(0x51e)),_0x4006ac[_0x1b33d9(0x245)]===!0x0&&await this['client'][_0x1b33d9(0x1b7)](_0x4006ac[_0x1b33d9(0x495)],'on'),_0x4006ac['joinApprovalMode']===!0x1&&await this[_0x1b33d9(0x425)][_0x1b33d9(0x1b7)](_0x4006ac[_0x1b33d9(0x495)],_0x1b33d9(0x139)),typeof _0x4006ac[_0x1b33d9(0x3f3)]<'u'&&_0x4006ac[_0x1b33d9(0x3f3)]!==null&&await this[_0x1b33d9(0x425)]['groupToggleEphemeral'](_0x4006ac[_0x1b33d9(0x495)],_0x4006ac['expiration']),_0x4006ac['name']&&await this['client'][_0x1b33d9(0x41b)](_0x4006ac[_0x1b33d9(0x495)],_0x4006ac[_0x1b33d9(0x510)]),_0x4006ac['description']&&await this[_0x1b33d9(0x425)]['groupUpdateDescription'](_0x4006ac['groupJid'],_0x4006ac['description']),_0x4006ac[_0x1b33d9(0x613)]){let _0x2eec38;if((0x0,P[_0x1b33d9(0x794)])(_0x4006ac[_0x1b33d9(0x613)])){let _0x2301ae=new Date()[_0x1b33d9(0x738)](),_0x84daa6=_0x4006ac[_0x1b33d9(0x613)]+'?timestamp='+_0x2301ae;_0x2eec38=(await Z[_0x1b33d9(0x1c5)][_0x1b33d9(0x711)](_0x84daa6,{'responseType':_0x1b33d9(0x19c)}))[_0x1b33d9(0x18c)];}else{if((0x0,P[_0x1b33d9(0x645)])(_0x4006ac[_0x1b33d9(0x613)]))_0x2eec38=Buffer[_0x1b33d9(0x49e)](_0x4006ac[_0x1b33d9(0x613)],'base64');else throw new w(_0x1b33d9(0x37f));}await this[_0x1b33d9(0x425)][_0x1b33d9(0x3fb)](_0x4006ac[_0x1b33d9(0x495)],_0x2eec38);}return await this[_0x1b33d9(0x23b)]({'groupJid':_0x4006ac[_0x1b33d9(0x495)]},'inner');}catch(_0xa2f6bd){throw new I(_0x1b33d9(0x4dd),_0xa2f6bd[_0x1b33d9(0x1ce)]());}}async[a0_0x5a7632(0x6f0)](_0x4a8b22){const _0x28f96d=a0_0x5a7632;try{if(_0x4a8b22[_0x28f96d(0x5c3)]===_0x28f96d(0x58a)||_0x4a8b22[_0x28f96d(0x5c3)]===_0x28f96d(0x453)){let _0xd3e273=_0x4a8b22[_0x28f96d(0x11b)][_0x28f96d(0x2ca)](_0x492176=>this[_0x28f96d(0x12d)](_0x492176));await this['client']['groupRequestParticipantsUpdate'](_0x4a8b22[_0x28f96d(0x495)],_0xd3e273,_0x4a8b22['action']);}else{let _0x5f445c=_0x4a8b22[_0x28f96d(0x11b)][_0x28f96d(0x2ca)](_0x2fe111=>this[_0x28f96d(0x12d)](_0x2fe111));await this['client'][_0x28f96d(0x27c)](_0x4a8b22[_0x28f96d(0x495)],_0x5f445c,_0x4a8b22[_0x28f96d(0x5c3)]);}return await this['findGroup']({'groupJid':_0x4a8b22['groupJid']},_0x28f96d(0x74f));}catch(_0x58e5e9){throw new w(_0x28f96d(0x772),_0x58e5e9[_0x28f96d(0x1ce)]());}}async[a0_0x5a7632(0x183)](_0x2e8971){const _0x4bfee4=a0_0x5a7632;try{return await this[_0x4bfee4(0x425)][_0x4bfee4(0x183)](_0x2e8971[_0x4bfee4(0x4b3)]);}catch(_0x4bebba){throw new I('Error\x20getting\x20invite\x20code\x20info',_0x4bebba['toString']());}}async[a0_0x5a7632(0x23b)](_0x40d4bd,_0x28f409=a0_0x5a7632(0x5c8)){const _0x3fe843=a0_0x5a7632;try{let _0x1f14f6=await this[_0x3fe843(0x425)]['groupMetadata'](_0x40d4bd['groupJid']),_0x1c648a=[];try{_0x1c648a=await this[_0x3fe843(0x425)][_0x3fe843(0x2c9)](_0x40d4bd['groupJid']);}catch(_0x168536){this[_0x3fe843(0x22c)]['verbose'](this['instanceName']+'\x20('+this[_0x3fe843(0x35a)][_0x3fe843(0x6a2)]+_0x3fe843(0x6d9)+_0x40d4bd['groupJid']+':\x20'+(_0x168536 instanceof Error?_0x168536[_0x3fe843(0x6f6)]:JSON[_0x3fe843(0x68d)](_0x168536,null,0x2)));}let _0x9dee47=null;try{_0x9dee47=(await this[_0x3fe843(0x6dc)](_0x40d4bd[_0x3fe843(0x495)],null,!0x0))[_0x3fe843(0x1cd)]['pictureUrl'];}catch(_0x267b3f){this[_0x3fe843(0x22c)][_0x3fe843(0x140)](this['instanceName']+'\x20('+this[_0x3fe843(0x35a)][_0x3fe843(0x6a2)]+_0x3fe843(0x405)+_0x40d4bd['groupJid']+':\x20'+(_0x267b3f instanceof Error?_0x267b3f[_0x3fe843(0x6f6)]:JSON[_0x3fe843(0x68d)](_0x267b3f,null,0x2)));}let _0x5879d1=_0x1f14f6[_0x3fe843(0x11b)][_0x3fe843(0x2ca)](_0x5d678b=>_0x5d678b['id']),_0x7200ea=_0x1c648a[_0x3fe843(0x2ca)](_0x4e9296=>_0x4e9296[_0x3fe843(0x383)]),_0x4ac236=await this[_0x3fe843(0x2d9)][_0x3fe843(0x2e6)]['findManyByIds']([..._0x5879d1,..._0x7200ea]),_0x16c5cc=_0x1f14f6[_0x3fe843(0x11b)][_0x3fe843(0x2ca)](_0x2352bc=>{const _0x13d481=_0x3fe843;let _0x6a40c7=_0x4ac236[_0x13d481(0x6c4)](_0x5e9029=>_0x5e9029[_0x13d481(0x21b)]===_0x2352bc['id']);return{'id':_0x2352bc['id'],'status':_0x2352bc[_0x13d481(0x24c)]?_0x2352bc['admin']:'normal','pushName':_0x6a40c7?.[_0x13d481(0x510)],'profilePictureUrl':_0x6a40c7?.[_0x13d481(0x78f)]};}),_0x388869=_0x1c648a[_0x3fe843(0x2ca)](_0x24c6c4=>{const _0x305936=_0x3fe843;let _0x1c24fb=_0x4ac236[_0x305936(0x6c4)](_0x538b4a=>_0x538b4a['_id']===_0x24c6c4[_0x305936(0x383)]);return{'id':_0x24c6c4[_0x305936(0x383)],'status':_0x305936(0x479),'pushName':_0x1c24fb?.[_0x305936(0x510)],'profilePictureUrl':_0x1c24fb?.[_0x305936(0x78f)],'request_method':_0x24c6c4[_0x305936(0x3dc)],'request_time':_0x24c6c4[_0x305936(0x6b5)]};}),_0x424c76=[..._0x16c5cc,..._0x388869];_0x1f14f6['participants']=_0x424c76;let _0x32d2ea=await this[_0x3fe843(0x2d9)][_0x3fe843(0x458)][_0x3fe843(0x406)]({'where':{'_id':_0x40d4bd[_0x3fe843(0x495)]}},{'imagechat':_0x9dee47,'name':_0x1f14f6[_0x3fe843(0x281)],'group_size':_0x1f14f6[_0x3fe843(0x214)],'group_announce':_0x1f14f6['announce'],'group_isCommunity':_0x1f14f6[_0x3fe843(0x59c)],'lastcache':Date[_0x3fe843(0x73d)]()},this[_0x3fe843(0x35a)][_0x3fe843(0x6a2)]);return _0x32d2ea&&q(this[_0x3fe843(0x76b)],_0x3fe843(0x2ec),{'chat':_0x32d2ea}),{'metadata':_0x1f14f6,'image':_0x9dee47};}catch(_0x56dcb4){if(_0x28f409===_0x3fe843(0x74f))return;throw new L('Error\x20fetching\x20group',_0x56dcb4[_0x3fe843(0x1ce)]());}}async[a0_0x5a7632(0x4b5)](){const _0x37b6d7=a0_0x5a7632;try{let _0x5ca31c=await this[_0x37b6d7(0x425)][_0x37b6d7(0x52f)](),_0x257f87=Object[_0x37b6d7(0x19e)](_0x5ca31c)[_0x37b6d7(0x669)](_0x1d2eeb=>(0x0,m['isJidGroup'])(_0x1d2eeb?.['id']))[_0x37b6d7(0x2ca)](async _0x5bb396=>{const _0x4dbae2=_0x37b6d7;try{let _0x2bd4b5=await this[_0x4dbae2(0x425)][_0x4dbae2(0x1ff)](_0x5bb396['id'],'preview'),_0x21e10b=await this[_0x4dbae2(0x6dc)](_0x5bb396['id'],_0x5bb396['subject'],!0x1),_0x3f3944=_0x21e10b[_0x4dbae2(0x1cd)][_0x4dbae2(0x78f)],_0x445105={'groupJid':_0x5bb396?.['id'],'subject':_0x5bb396?.[_0x4dbae2(0x281)],'subjectOwner':_0x5bb396?.[_0x4dbae2(0x64f)]?.[_0x4dbae2(0x323)]('@')[0x0],'subjectTime':_0x5bb396?.[_0x4dbae2(0x27b)],'size':_0x5bb396?.[_0x4dbae2(0x11b)]?.[_0x4dbae2(0x4e4)],'owner':_0x5bb396?.['owner']?.['split']('@')[0x0],'creation':_0x5bb396?.['creation'],'desc':_0x5bb396?.[_0x4dbae2(0x177)],'restrict':_0x5bb396?.[_0x4dbae2(0x1a4)],'announce':_0x5bb396?.['announce'],'image':_0x3f3944,'isCommunity':_0x5bb396?.['isCommunity'],'joinApprovalMode':_0x5bb396?.['joinApprovalMode'],'memberCanAddParticipant':_0x5bb396?.['memberAddMode']},_0x3b6f15=await this[_0x4dbae2(0x2d9)]['chat'][_0x4dbae2(0x406)]({'where':{'_id':_0x5bb396?.['id']}},{'imagechat':_0x21e10b['cachedContact'][_0x4dbae2(0x78f)],'name':_0x5bb396?.[_0x4dbae2(0x281)],'group_size':_0x5bb396?.[_0x4dbae2(0x214)],'group_announce':_0x5bb396?.['announce'],'group_isCommunity':_0x5bb396?.[_0x4dbae2(0x59c)],'lastcache':Date[_0x4dbae2(0x73d)]()},this['instance'][_0x4dbae2(0x6a2)]);return _0x3b6f15&&q(this[_0x4dbae2(0x76b)],_0x4dbae2(0x2ec),{'chat':_0x3b6f15}),_0x445105;}catch(_0x32233c){return this[_0x4dbae2(0x22c)][_0x4dbae2(0x140)](this['instanceName']+'\x20('+this[_0x4dbae2(0x35a)][_0x4dbae2(0x6a2)]+_0x4dbae2(0x221)+_0x5bb396['id']+':\x20'+(_0x32233c instanceof Error?_0x32233c['message']:JSON[_0x4dbae2(0x68d)](_0x32233c,null,0x2))),null;}}),_0x44bf13=(await Promise[_0x37b6d7(0x172)](_0x257f87))[_0x37b6d7(0x669)](_0x416ed3=>_0x416ed3!==null);return console[_0x37b6d7(0x1c8)](_0x44bf13[_0x37b6d7(0x4e4)]+_0x37b6d7(0x3b2)),_0x44bf13;}catch(_0x3537bf){throw new L(_0x37b6d7(0x28d),_0x3537bf[_0x37b6d7(0x1ce)]());}}async[a0_0x5a7632(0x32c)](){const _0x52a8c7=a0_0x5a7632;try{let _0x13f192=[],_0x5b2a9e=await this[_0x52a8c7(0x425)]['groupFetchAllParticipating'](),_0x39cbfa=Object[_0x52a8c7(0x19e)](_0x5b2a9e),_0x327fe6=_0x39cbfa[_0x52a8c7(0x669)](_0x192b3f=>(0x0,m[_0x52a8c7(0x1c4)])(_0x192b3f?.['id']))[_0x52a8c7(0x2ca)](async _0x58321c=>{const _0x76a039=_0x52a8c7;try{return await this['client']['profilePictureUrl'](_0x58321c['id'],'preview');}catch(_0x9c624c){return this['logger'][_0x76a039(0x140)](this[_0x76a039(0x76b)]+'\x20('+this[_0x76a039(0x35a)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x58321c['id']+':\x20'+(_0x9c624c instanceof Error?_0x9c624c[_0x76a039(0x6f6)]:JSON['stringify'](_0x9c624c,null,0x2))),null;}}),_0x4bb4ee=await Promise[_0x52a8c7(0x172)](_0x327fe6);for(let _0xb17395=0x0;_0xb17395<_0x39cbfa[_0x52a8c7(0x4e4)];_0xb17395++){let _0x4d0d79=_0x39cbfa[_0xb17395];if((0x0,m['isJidGroup'])(_0x4d0d79?.['id'])){_0x13f192['push']({'groupJid':_0x4d0d79?.['id'],'subject':_0x4d0d79?.[_0x52a8c7(0x281)],'subjectOwner':_0x4d0d79?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x4d0d79?.['subjectTime'],'size':_0x4d0d79?.[_0x52a8c7(0x11b)]?.[_0x52a8c7(0x4e4)],'owner':_0x4d0d79?.[_0x52a8c7(0x1f5)]?.[_0x52a8c7(0x323)]('@')[0x0],'creation':_0x4d0d79?.[_0x52a8c7(0x170)],'desc':_0x4d0d79?.[_0x52a8c7(0x177)],'restrict':_0x4d0d79?.[_0x52a8c7(0x1a4)],'announce':_0x4d0d79?.[_0x52a8c7(0x655)],'image':_0x4bb4ee[_0xb17395],'isCommunity':_0x4d0d79?.[_0x52a8c7(0x59c)],'joinApprovalMode':_0x4d0d79?.[_0x52a8c7(0x245)],'memberCanAddParticipant':_0x4d0d79?.[_0x52a8c7(0x2c0)]});let _0x1464ab=await this['repository'][_0x52a8c7(0x458)][_0x52a8c7(0x406)]({'where':{'_id':_0x4d0d79?.['id']}},{'imagechat':_0x4bb4ee[_0xb17395],'name':_0x4d0d79?.[_0x52a8c7(0x281)],'group_size':_0x4d0d79?.['size'],'group_announce':_0x4d0d79?.[_0x52a8c7(0x655)],'group_isCommunity':_0x4d0d79?.['isCommunity'],'lastcache':Date[_0x52a8c7(0x73d)]()},this['instance'][_0x52a8c7(0x6a2)]);_0x1464ab&&q(this[_0x52a8c7(0x76b)],'chats',{'chat':_0x1464ab});}}return _0x13f192;}catch(_0x190b91){throw new L(_0x52a8c7(0x28d),_0x190b91['toString']());}}async[a0_0x5a7632(0x4b3)](_0x2bf605){const _0x13b85c=a0_0x5a7632;try{let _0xd1c348=await this[_0x13b85c(0x425)][_0x13b85c(0x225)](_0x2bf605[_0x13b85c(0x495)]);return{'inviteUrl':_0x13b85c(0x401)+_0xd1c348,'inviteCode':_0xd1c348};}catch(_0x204ff5){throw new L('No\x20invite\x20code',_0x204ff5[_0x13b85c(0x1ce)]());}}async['revokeInviteCode'](_0x12d773){const _0x36b20b=a0_0x5a7632;try{let _0x1d1315=await this[_0x36b20b(0x425)][_0x36b20b(0x739)](_0x12d773[_0x36b20b(0x495)]);return{'revoked':!0x0,'inviteUrl':_0x36b20b(0x401)+_0x1d1315,'inviteCode':_0x1d1315};}catch(_0x46e2f2){throw new L(_0x36b20b(0x22a),_0x46e2f2[_0x36b20b(0x1ce)]());}}async[a0_0x5a7632(0x697)](_0x46f3ea){const _0x3da5e8=a0_0x5a7632;try{if((0x0,P[_0x3da5e8(0x794)])(_0x46f3ea[_0x3da5e8(0x4b3)]))var _0x4e8aab=_0x46f3ea[_0x3da5e8(0x4b3)][_0x3da5e8(0x323)]('/')[0x3];else var _0x4e8aab=_0x46f3ea[_0x3da5e8(0x4b3)];let _0x24f2e2=await this['client'][_0x3da5e8(0x2fa)](_0x4e8aab);return this['logger'][_0x3da5e8(0x140)](this[_0x3da5e8(0x76b)]+'\x20('+this['instance'][_0x3da5e8(0x6a2)]+_0x3da5e8(0x2f8)+_0x24f2e2),{'join':!0x0,'inviteCode':_0x4e8aab,'groupJid':_0x24f2e2};}catch(_0x1d6433){throw new L(_0x3da5e8(0x74b),_0x1d6433[_0x3da5e8(0x1ce)]());}}async[a0_0x5a7632(0x562)](_0x3a71f9){const _0x3bdafb=a0_0x5a7632;try{return{'participants':(await this['client'][_0x3bdafb(0x242)](_0x3a71f9[_0x3bdafb(0x495)]))[_0x3bdafb(0x11b)]};}catch(_0x3ad0b0){throw new L('No\x20participants',_0x3ad0b0['toString']());}}async['leaveGroup'](_0xbba6d6){const _0x268c51=a0_0x5a7632;try{return await this[_0x268c51(0x425)][_0x268c51(0x317)](_0xbba6d6[_0x268c51(0x495)]),{'groupJid':_0xbba6d6[_0x268c51(0x495)],'leave':!0x0};}catch(_0xb43e41){throw new w('Unable\x20to\x20leave\x20the\x20group',_0xb43e41[_0x268c51(0x1ce)]());}}async[a0_0x5a7632(0x6be)](_0x1bc763){const _0x6f622=a0_0x5a7632;return await this[_0x6f622(0x2e7)](_0x1bc763[_0x6f622(0x744)],{'poll':{'name':_0x1bc763[_0x6f622(0x6be)]?.[_0x6f622(0x510)],'selectableCount':_0x1bc763['pollMessage'][_0x6f622(0x3c8)],'values':_0x1bc763[_0x6f622(0x6be)]['values']}},_0x1bc763?.[_0x6f622(0x698)]);}async['listMessage'](_0x58b52a){const _0x2795e3=a0_0x5a7632;return await this['sendMessageWithTyping'](_0x58b52a[_0x2795e3(0x744)],{'listMessage':{'title':_0x58b52a[_0x2795e3(0x34b)][_0x2795e3(0x4ec)],'description':_0x58b52a['listMessage'][_0x2795e3(0x6a5)],'buttonText':_0x58b52a[_0x2795e3(0x34b)]?.[_0x2795e3(0x224)],'footerText':_0x58b52a[_0x2795e3(0x34b)]?.[_0x2795e3(0x20e)],'sections':_0x58b52a[_0x2795e3(0x34b)][_0x2795e3(0x34d)],'listType':0x2}},_0x58b52a?.[_0x2795e3(0x698)]);}async['menuMessage'](_0x56083b){const _0x489327=a0_0x5a7632;let _0x2b301d;if(_0x56083b[_0x489327(0x17e)][_0x489327(0x32e)]===_0x489327(0x33a)){let _0x576dce=_0x56083b['menuMessage'][_0x489327(0x142)][_0x489327(0x5d0)]('\x0a'),_0x3916f4='',_0x484d70='';_0x576dce!==-0x1?(_0x3916f4=_0x56083b['menuMessage'][_0x489327(0x142)][_0x489327(0x210)](0x0,_0x576dce)[_0x489327(0x549)](),_0x484d70=_0x56083b[_0x489327(0x17e)][_0x489327(0x142)]['substring'](_0x576dce+0x1)):_0x484d70=_0x56083b[_0x489327(0x17e)][_0x489327(0x142)];let _0x363fe8=_0x56083b[_0x489327(0x17e)][_0x489327(0x69d)]['filter'](_0x5b5195=>_0x5b5195[_0x489327(0x549)]()!==''),_0x48473b=this[_0x489327(0x713)](_0x363fe8);_0x2b301d={'listMessage':{'title':_0x3916f4,'description':_0x484d70,'buttonText':_0x56083b[_0x489327(0x17e)]['buttonText']||_0x489327(0x65d),'footerText':_0x56083b[_0x489327(0x17e)][_0x489327(0x20e)],'sections':_0x48473b,'listType':0x2}};}else{if(_0x56083b[_0x489327(0x17e)][_0x489327(0x32e)]==='poll'){let _0x335348=_0x56083b['menuMessage'][_0x489327(0x69d)][_0x489327(0x669)](_0x1eec8c=>!(_0x1eec8c[_0x489327(0x347)]('[')&&_0x1eec8c[_0x489327(0x10d)](']'))&&_0x1eec8c[_0x489327(0x549)]()!=='')[_0x489327(0x2ca)](_0x331969=>_0x331969[_0x489327(0x323)]('\x0a')[0x0]);_0x2b301d={'poll':{'name':_0x56083b[_0x489327(0x17e)][_0x489327(0x142)],'selectableCount':_0x56083b['menuMessage'][_0x489327(0x3c8)]||0x1,'values':_0x335348}};}}return await this[_0x489327(0x2e7)](_0x56083b[_0x489327(0x744)],_0x2b301d,_0x56083b?.[_0x489327(0x698)]);}['createSectionsFromValues'](_0xa15f16){const _0x471371=a0_0x5a7632;let _0x337005=[],_0x5968ce={'rows':[]};return _0xa15f16['forEach'](_0x1faa6a=>{const _0x1b8d02=a0_0xc371;if(_0x1faa6a[_0x1b8d02(0x347)]('[')&&_0x1faa6a['endsWith'](']'))_0x5968ce[_0x1b8d02(0x47e)][_0x1b8d02(0x4e4)]>0x0&&_0x337005[_0x1b8d02(0x208)](_0x5968ce),_0x5968ce={'title':_0x1faa6a[_0x1b8d02(0x51c)](0x1,-0x1),'rows':[]};else{let _0x3dc841=_0x1faa6a[_0x1b8d02(0x323)]('\x0a')[_0x1b8d02(0x2ca)](_0x339902=>_0x339902[_0x1b8d02(0x549)]()),_0x9dab0=_0x3dc841[0x0],_0x587f2c=_0x3dc841[0x1]||null,_0x222bfb=_0x3dc841[0x2]||_0x9dab0;_0x5968ce[_0x1b8d02(0x47e)][_0x1b8d02(0x208)]({'title':_0x9dab0,'description':_0x587f2c,'rowId':_0x222bfb});}}),_0x5968ce[_0x471371(0x47e)][_0x471371(0x4e4)]>0x0&&_0x337005['push'](_0x5968ce),_0x337005;}async['updateMessage'](_0x45ed48,_0x3b41db){const _0x2bcdd3=a0_0x5a7632;if(await this[_0x2bcdd3(0x638)](_0x45ed48,!0x0)){let _0x808c12={'where':{'_id':_0x45ed48['id']}},_0x33d44a={'status':[_0x3b41db[_0x2bcdd3(0x5cd)]][0x0]};try{let _0x24adff=await this[_0x2bcdd3(0x2d9)][_0x2bcdd3(0x6f6)][_0x2bcdd3(0x703)](_0x808c12,_0x33d44a,this[_0x2bcdd3(0x35a)]['wuid']);_0x24adff&&q(this['instanceName'],'messages',{'message':_0x24adff});}catch{}}}[a0_0x5a7632(0x282)](_0x16e797){const _0x3f5daa=a0_0x5a7632;let _0x568429=[];return _0x16e797[_0x3f5daa(0x16d)](_0x940510=>{const _0x189543=_0x3f5daa;_0x940510['title']&&_0x568429[_0x189543(0x208)]('['+_0x940510[_0x189543(0x4ec)]+']'),_0x940510[_0x189543(0x47e)]['forEach'](_0x468ae2=>{const _0x126103=_0x189543;_0x568429[_0x126103(0x208)](_0x468ae2[_0x126103(0x4ec)]);});}),_0x568429[_0x3f5daa(0x41a)]('|');}[a0_0x5a7632(0x6c3)](_0x3cc850){const _0x457855=a0_0x5a7632;let _0x584718=_0x3cc850[_0x457855(0x23d)](/\\n/g,'\x0a')[_0x457855(0x323)]('\x0a')[_0x457855(0x669)](_0x59682f=>_0x59682f[_0x457855(0x3b6)](_0x457855(0x3a4))||_0x59682f[_0x457855(0x3b6)]('EMAIL')),_0x5a253f='';return _0x584718[_0x457855(0x16d)](_0x150bd6=>{const _0xccd8ab=_0x457855;let _0xf16eb0=/TEL(?:.*):(.+)/,_0x15c9de=/EMAIL(?:.*):(.+)/,_0x7b7469=_0x150bd6[_0xccd8ab(0x408)](_0xf16eb0),_0x223166=_0x150bd6[_0xccd8ab(0x408)](_0x15c9de);if(_0x7b7469){let _0x4abcc1=_0x7b7469[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0xccd8ab(0x549)]();_0x5a253f+=_0xccd8ab(0x53f)+_0x4abcc1+'\x0a';}else{if(_0x223166){let _0x48fe7e=_0x223166[0x1]['trim']();_0x5a253f+=_0xccd8ab(0x127)+_0x48fe7e+'\x0a';}}}),_0x5a253f[_0x457855(0x549)]();}async[a0_0x5a7632(0x53c)](_0x31f477,_0x69031a,_0xa45173){const _0x2981fd=a0_0x5a7632;if(!_0x31f477[_0x2981fd(0x446)])return;let _0x10641d=_0x69031a[_0x2981fd(0x331)][_0x2981fd(0x619)][_0x2981fd(0x23d)](/:\d{1,2}@/g,'@'),_0x225550=_0x69031a[_0x2981fd(0x331)][_0x2981fd(0x41c)],_0x3d2001=_0x10641d[_0x2981fd(0x10d)]('@g.us'),_0x58118c=_0x69031a['message_normalized']?.[_0x2981fd(0x142)]||_0x69031a[_0x2981fd(0x547)]?.['caption']||_0x69031a[_0x2981fd(0x547)]?.[_0x2981fd(0x502)]||_0x69031a[_0x2981fd(0x547)]?.[_0x2981fd(0x510)],_0x2e4ef3={'lastmsg':_0x69031a['messageTimestamp']||Date[_0x2981fd(0x73d)](),'unreadcount':_0x225550?0x0:0x1,..._0x225550||_0x3d2001?{}:{'name':_0x69031a[_0x2981fd(0x581)]},..._0x3d2001?{'group':_0x3d2001}:{},...!_0x225550&&!_0x3d2001&&_0x69031a[_0x2981fd(0x1ff)]?{'imagechat':_0x69031a['profilePictureUrl']}:{}},_0x3c0c3c=await this[_0x2981fd(0x2d9)][_0x2981fd(0x458)][_0x2981fd(0x406)]({'where':{'_id':_0x10641d}},_0x2e4ef3,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x3c0c3c[_0x2981fd(0x2e8)]){let _0x1bd718=await this[_0x2981fd(0x2d9)][_0x2981fd(0x63b)]['find']({'where':{}},this['instance'][_0x2981fd(0x6a2)]),_0x187ac7=new Set(_0x1bd718[_0x2981fd(0x2ca)](_0x15eb04=>_0x15eb04[_0x2981fd(0x21b)])),_0x70b985=(_0x3c0c3c[_0x2981fd(0x643)]?.['etiquetas']||[])['filter'](_0x57fda8=>_0x187ac7['has'](_0x57fda8)),_0xd9ac3f={'leadInfo.etiquetas':_0x70b985,'imported':!0x1};_0x3c0c3c=await this['repository'][_0x2981fd(0x458)][_0x2981fd(0x406)]({'where':{'_id':_0x10641d}},_0xd9ac3f,this[_0x2981fd(0x35a)]['wuid']);for(let _0x54a113 of _0x70b985)await this[_0x2981fd(0x2ba)](_0x54a113,_0x10641d);}if(!_0x3d2001&&(!_0x3c0c3c?.['leadInfo']||!_0x3c0c3c['leadInfo'][_0x2981fd(0x16b)])&&_0x69031a[_0x2981fd(0x581)]&&!_0x225550&&(_0x3c0c3c=await this['repository'][_0x2981fd(0x458)][_0x2981fd(0x406)]({'where':{'_id':_0x10641d}},{'leadInfo.nome':_0x69031a[_0x2981fd(0x581)]},this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)],{'new':!0x0,'upsert':!0x0})),_0xa45173===_0x2981fd(0x51d)&&_0x225550&&this['AutomateSystem']?.[_0x2981fd(0x2e5)][_0x2981fd(0x6b6)]&&!_0x58118c[_0x2981fd(0x347)](this[_0x2981fd(0x15d)]?.[_0x2981fd(0x2e5)][_0x2981fd(0x198)])){let _0x3d6c07=(this[_0x2981fd(0x15d)]?.[_0x2981fd(0x2e5)][_0x2981fd(0x14f)]||0x5)*0xea60,_0x532b67=Date[_0x2981fd(0x73d)]()+_0x3d6c07;_0x3c0c3c?.['leadInfo']?.[_0x2981fd(0x592)]===0x0||(await this[_0x2981fd(0x2d9)][_0x2981fd(0x458)]['updateOne']({'where':{'_id':_0x10641d}},{'leadInfo.desativadoFluxoAte':_0x532b67},this['instance'][_0x2981fd(0x6a2)],{'new':!0x0,'upsert':!0x1}),this[_0x2981fd(0x22c)][_0x2981fd(0x140)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2981fd(0x54d)+_0x532b67+'.'));}if(_0x3c0c3c)q(this[_0x2981fd(0x76b)],_0x2981fd(0x2ec),{'chat':_0x3c0c3c});else{this['logger']['error'](this[_0x2981fd(0x76b)]+'\x20('+this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)]+_0x2981fd(0x235));return;}if(!this[_0x2981fd(0x15d)]?.['flowConfig'][_0x2981fd(0x6b6)])return this[_0x2981fd(0x22c)][_0x2981fd(0x140)](this[_0x2981fd(0x76b)]+'\x20('+this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)]+_0x2981fd(0x762)),null;if(_0x3c0c3c['_id']['includes'](_0x2981fd(0x63e))&&this[_0x2981fd(0x15d)]?.[_0x2981fd(0x2e5)][_0x2981fd(0x548)]===!0x0)return this[_0x2981fd(0x22c)][_0x2981fd(0x140)](this[_0x2981fd(0x76b)]+'\x20('+this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)]+_0x2981fd(0x345)),null;if(_0x3c0c3c[_0x2981fd(0x643)]){if(_0x3c0c3c['leadInfo']['desativadoFluxoAte']===0x0||_0x3c0c3c[_0x2981fd(0x643)]['atendimentoAberto'])return this[_0x2981fd(0x22c)][_0x2981fd(0x140)](this[_0x2981fd(0x76b)]+'\x20('+this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)]+_0x2981fd(0x5b5)+_0x10641d+',\x20saindo.'),null;if(_0x3c0c3c[_0x2981fd(0x643)][_0x2981fd(0x592)]>Date[_0x2981fd(0x73d)]()&&!_0x69031a[_0x2981fd(0x547)]?.[_0x2981fd(0x502)])return this['logger'][_0x2981fd(0x140)](this[_0x2981fd(0x76b)]+'\x20('+this['instance']['wuid']+_0x2981fd(0x1fa)+new Date(_0x3c0c3c[_0x2981fd(0x643)]['desativadoFluxoAte'])[_0x2981fd(0x2f2)]()+',\x20saindo.'),null;}this[_0x2981fd(0x22c)][_0x2981fd(0x140)](this['instanceName']+'\x20('+this[_0x2981fd(0x35a)][_0x2981fd(0x6a2)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0xa45173,_0x69031a);}async[a0_0x5a7632(0x28a)](_0x10827c,_0x33b3fd){const _0x8e6570=a0_0x5a7632;if(_0x33b3fd[_0x8e6570(0x446)]){let _0x24e1bc=_0x10827c[_0x8e6570(0x2ca)](async _0x5a3812=>{const _0x12e104=_0x8e6570;try{let _0x49f993={'_id':_0x5a3812['_id'],'owner':_0x5a3812[_0x12e104(0x1f5)],'lastcache':0x0};if(_0x5a3812['group']!==null&&(_0x49f993[_0x12e104(0x120)]=_0x5a3812[_0x12e104(0x120)]),_0x5a3812[_0x12e104(0x510)]!==null&&(_0x49f993['name']=_0x5a3812[_0x12e104(0x510)]),_0x5a3812[_0x12e104(0x2a2)]!==null&&(_0x49f993[_0x12e104(0x2a2)]=_0x5a3812[_0x12e104(0x2a2)]),_0x5a3812[_0x12e104(0x38b)]!==null&&(_0x49f993['imagechat']=_0x5a3812['imagechat']),_0x5a3812[_0x12e104(0x38b)]===null&&(_0x49f993[_0x12e104(0x38b)]='Imagem\x20não\x20encontrada'),_0x5a3812[_0x12e104(0x7a2)]!==null&&(_0x49f993[_0x12e104(0x7a2)]=_0x5a3812[_0x12e104(0x7a2)]),_0x5a3812[_0x12e104(0x60a)]!==null&&(_0x49f993['archived']=_0x5a3812['archived']),_0x5a3812[_0x12e104(0x372)]!==null&&(_0x49f993[_0x12e104(0x372)]=_0x5a3812[_0x12e104(0x372)]),Object[_0x12e104(0x769)](_0x49f993)[_0x12e104(0x4e4)]>0x0)return await this[_0x12e104(0x2d9)][_0x12e104(0x458)][_0x12e104(0x406)]({'where':{'_id':_0x5a3812[_0x12e104(0x21b)]}},_0x49f993,this['instance'][_0x12e104(0x6a2)]);}catch(_0x1fb2fe){return console[_0x12e104(0x7aa)](_0x12e104(0x153)+_0x5a3812[_0x12e104(0x21b)]+':',_0x1fb2fe),null;}}),_0x5c1fcd=(await Promise['all'](_0x24e1bc))['filter'](_0xeae7b5=>_0xeae7b5!==null)[_0x8e6570(0x4e4)];this[_0x8e6570(0x22c)][_0x8e6570(0x140)](this[_0x8e6570(0x76b)]+'\x20('+this['instance'][_0x8e6570(0x6a2)]+_0x8e6570(0x2f8)+_0x5c1fcd+_0x8e6570(0x671)+this[_0x8e6570(0x35a)][_0x8e6570(0x6a2)]+_0x8e6570(0x71b));}}async[a0_0x5a7632(0x626)](_0x23118b){const _0x5ab0fb=a0_0x5a7632;this[_0x5ab0fb(0x22c)][_0x5ab0fb(0x140)](this[_0x5ab0fb(0x76b)]+'\x20('+this['instance'][_0x5ab0fb(0x6a2)]+_0x5ab0fb(0x64b));let _0x1889e4={'readMessages':[{'remoteJid':_0x23118b[_0x5ab0fb(0x423)][_0x5ab0fb(0x69e)]['key'][_0x5ab0fb(0x619)],'fromMe':_0x23118b[_0x5ab0fb(0x423)][_0x5ab0fb(0x69e)][_0x5ab0fb(0x331)][_0x5ab0fb(0x41c)],'id':_0x23118b[_0x5ab0fb(0x423)][_0x5ab0fb(0x69e)][_0x5ab0fb(0x331)]['id']}]};await this[_0x5ab0fb(0x246)](_0x1889e4);}async[a0_0x5a7632(0x508)](_0x355124,_0x3d6ed7){const _0x55b26e=a0_0x5a7632;try{let {key:_0x20d8bc,message_normalized:_0x384458}=_0x3d6ed7,_0x4a2920=_0x384458,_0x292a13=_0x384458['text']||_0x384458[_0x55b26e(0x113)]||_0x384458[_0x55b26e(0x502)]||_0x384458[_0x55b26e(0x510)],_0x192db6=_0x20d8bc['remoteJid'],_0x4d3d7c;if(_0x4a2920[_0x55b26e(0x331)][_0x55b26e(0x41c)]&&_0x292a13[_0x55b26e(0x549)]()!==this[_0x55b26e(0x15d)]?.['flowConfig'][_0x55b26e(0x456)][_0x55b26e(0x549)]())return this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this[_0x55b26e(0x76b)]+'\x20('+this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x4a2920[_0x55b26e(0x331)]['fromMe']&&_0x292a13[_0x55b26e(0x549)]()===this['AutomateSystem']?.['flowConfig'][_0x55b26e(0x456)][_0x55b26e(0x549)]()){this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this['instanceName']+'\x20('+this['instance'][_0x55b26e(0x6a2)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x129955=await this[_0x55b26e(0x2d9)][_0x55b26e(0x6e6)][_0x55b26e(0x6c4)]({'remoteJid':_0x192db6,'status':_0x55b26e(0x29a)},this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]);this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this[_0x55b26e(0x76b)]+'\x20('+this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]+'):\x20Conversas\x20encontradas:'+_0x129955);let _0xad2c68=Date[_0x55b26e(0x73d)](),_0x3850fd;return this[_0x55b26e(0x15d)]?.[_0x55b26e(0x2e5)]['stopMinutes']===0x0?_0x3850fd={'stoppedUntil':_0xad2c68+0x7591f6200}:_0x3850fd={'stoppedUntil':_0xad2c68+this['AutomateSystem']?.[_0x55b26e(0x2e5)][_0x55b26e(0x390)]*0x3c*0x3e8},this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this[_0x55b26e(0x76b)]+'\x20('+this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]+_0x55b26e(0x4e7)+_0x3850fd),this[_0x55b26e(0x2a4)](_0x4d3d7c,_0x3850fd[_0x55b26e(0x791)]),null;}if(_0x292a13&&_0x292a13[_0x55b26e(0x347)](this[_0x55b26e(0x15d)]?.[_0x55b26e(0x2e5)][_0x55b26e(0x198)])&&_0x292a13[_0x55b26e(0x4e4)]>0x4){let _0x21c86a=await this[_0x55b26e(0x2d9)][_0x55b26e(0x518)][_0x55b26e(0x48e)]({'where':{'startCommandWord':_0x292a13}},this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]);if(this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this[_0x55b26e(0x76b)]+'\x20('+this[_0x55b26e(0x35a)]['wuid']+_0x55b26e(0x5cf)),_0x21c86a)_0x4d3d7c=await this[_0x55b26e(0x3f5)](_0x21c86a,_0x4a2920[_0x55b26e(0x331)],_0x4a2920);else return this[_0x55b26e(0x22c)][_0x55b26e(0x140)](this[_0x55b26e(0x76b)]+'\x20('+this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]+_0x55b26e(0x517)),null;}else _0x4d3d7c=await this[_0x55b26e(0x49d)](_0x192db6,_0x4a2920);if(_0x4d3d7c){this['logger'][_0x55b26e(0x140)](this['instanceName']+'\x20('+this[_0x55b26e(0x35a)][_0x55b26e(0x6a2)]+_0x55b26e(0x5ff)),!_0x20d8bc[_0x55b26e(0x41c)]&&_0x4d3d7c[_0x55b26e(0x4f3)]&&this[_0x55b26e(0x626)](_0x4d3d7c);let _0x19672d=await this[_0x55b26e(0x1ab)](_0x4d3d7c);_0x19672d&&await this['processblock'](_0x4d3d7c,_0x19672d);}}catch(_0x1456a5){this['logger']['error'](this[_0x55b26e(0x76b)]+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x1456a5 instanceof Error?_0x1456a5[_0x55b26e(0x6f6)]:JSON[_0x55b26e(0x68d)](_0x1456a5,null,0x2)));}}[a0_0x5a7632(0x340)](_0x565bdd,_0x152b73='',_0x3a4ced={},_0x3acce2=!0x0){const _0x405921=a0_0x5a7632;for(let _0x40bafd in _0x565bdd){let _0xf239b3=_0x3acce2?'_'+_0x40bafd:''+_0x152b73+_0x40bafd;typeof _0x565bdd[_0x40bafd]=='object'&&_0x565bdd[_0x40bafd]!==null?this[_0x405921(0x340)](_0x565bdd[_0x40bafd],_0xf239b3+'.',_0x3a4ced,!0x1):_0x3a4ced[_0xf239b3]=String(_0x565bdd[_0x40bafd]);}return _0x3a4ced;}[a0_0x5a7632(0x16a)](_0x1c4079){const _0x459142=a0_0x5a7632;let _0x2fcded={};for(let _0x30a47f of _0x1c4079)typeof _0x30a47f[_0x459142(0x510)]==_0x459142(0x2dc)&&typeof _0x30a47f[_0x459142(0x511)]==_0x459142(0x2dc)&&(_0x2fcded[_0x30a47f[_0x459142(0x510)]]=_0x30a47f[_0x459142(0x511)]);return _0x2fcded;}async[a0_0x5a7632(0x1ab)](_0x449f3b){const _0x38b2bf=a0_0x5a7632;if(!this[_0x38b2bf(0x15d)]?.[_0x38b2bf(0x2e5)][_0x38b2bf(0x6b6)]||_0x449f3b[_0x38b2bf(0x5cd)]!==_0x38b2bf(0x29a)&&_0x449f3b[_0x38b2bf(0x346)]==='')return null;let _0x1a0107=_0x449f3b[_0x38b2bf(0x423)]['lastBlockId']||'start';typeof _0x449f3b['chatLog'][_0x38b2bf(0x443)]>'u'&&(_0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x443)]=!0x0);let _0x3d1a73=_0x449f3b['chatLog'][_0x38b2bf(0x443)];this[_0x38b2bf(0x22c)][_0x38b2bf(0x140)](this['instanceName']+'\x20('+this[_0x38b2bf(0x35a)][_0x38b2bf(0x6a2)]+_0x38b2bf(0x799)+_0x1a0107+_0x38b2bf(0xf4)+_0x3d1a73);let _0x501e43=_0x1a0107==='start'?_0x449f3b['blocks'][_0x38b2bf(0x6c4)](_0x251e58=>_0x251e58[_0x38b2bf(0x32e)]===_0x38b2bf(0x51f)):_0x449f3b[_0x38b2bf(0x364)][_0x38b2bf(0x6c4)](_0x19e7f7=>_0x19e7f7[_0x38b2bf(0x21b)][_0x38b2bf(0x1ce)]()===_0x1a0107[_0x38b2bf(0x1ce)]());if(!_0x501e43)return this[_0x38b2bf(0x22c)]['error'](this[_0x38b2bf(0x76b)]+'\x20('+this['instance'][_0x38b2bf(0x6a2)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x1a0107),null;let _0x1df0ad={'_pushName':_0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x69e)][_0x38b2bf(0x581)],..._0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x4c4)]},_0x49a8eb=null;if(_0x449f3b[_0x38b2bf(0x346)]){let _0x38513b=_0x449f3b[_0x38b2bf(0x423)]['lastReceivedMessage'][_0x38b2bf(0x502)],_0x326032=_0x449f3b[_0x38b2bf(0x4e5)][_0x38b2bf(0x6c4)](_0x40ef3a=>_0x40ef3a[_0x38b2bf(0x19d)]===_0x38513b);if(_0x326032){let _0x3147bc=_0x326032['next_groupId'];if(_0x49a8eb=_0x449f3b['blocks'][_0x38b2bf(0x6c4)](_0x5a7938=>_0x5a7938[_0x38b2bf(0x154)]===_0x3147bc&&_0x5a7938['order']===0x1),_0x501e43['uazapi']['pollOnReplyDelete']){let _0x1ab668={'id':_0x449f3b[_0x38b2bf(0x346)],'remoteJid':_0x449f3b[_0x38b2bf(0x619)],'fromMe':!0x0};await this[_0x38b2bf(0x125)](_0x1ab668);}if(_0x501e43['uazapi'][_0x38b2bf(0x536)]&&_0x501e43[_0x38b2bf(0x21f)][_0x38b2bf(0x5ad)]&&_0x501e43['uazapi'][_0x38b2bf(0x571)]===_0x38b2bf(0x348)){let _0x4edc40={'number':_0x449f3b[_0x38b2bf(0x619)],'options':{'delay':0x0},'textMessage':{'text':_0x38b2bf(0x680)+_0x449f3b[_0x38b2bf(0x6ba)]+_0x38b2bf(0x325)+_0x38513b}};await this[_0x38b2bf(0x695)](_0x4edc40);}_0x449f3b[_0x38b2bf(0x5cd)]=_0x38b2bf(0x29a),_0x449f3b[_0x38b2bf(0x346)]='',_0x449f3b[_0x38b2bf(0x6ba)]='',_0x449f3b[_0x38b2bf(0x4e5)]=[];}else{this[_0x38b2bf(0x22c)][_0x38b2bf(0x140)](this['instanceName']+'\x20('+this['instance'][_0x38b2bf(0x6a2)]+_0x38b2bf(0x29c));let _0x57116c={'activatedCount':_0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x130)]['filter'](_0x45d000=>String(_0x45d000[_0x38b2bf(0x724)])===String(_0x1a0107))[_0x38b2bf(0x4e4)],'moreLogs':[_0x38b2bf(0x2a6)]};if(_0x501e43[_0x38b2bf(0x21f)]['pollErrorMessage']){let _0x5c0f3a={'number':_0x449f3b[_0x38b2bf(0x619)],'options':{'delay':0x0},'textMessage':{'text':_0x501e43['uazapi'][_0x38b2bf(0x675)]}};await this[_0x38b2bf(0x695)](_0x5c0f3a);}if(_0x501e43[_0x38b2bf(0x6db)]!==void 0x0&&_0x57116c[_0x38b2bf(0x2eb)]>=_0x501e43[_0x38b2bf(0x6db)]){let _0x3e2ed4=Date[_0x38b2bf(0x73d)](),_0x57a624=_0x501e43['stopMinutesMaxActives']??0xa;isNaN(_0x57a624)&&(_0x57a624=0xa);let _0x5a5433=_0x3e2ed4+_0x57a624*0x3c*0x3e8;_0x57116c['newStoppedUntil']=_0x5a5433,_0x57116c[_0x38b2bf(0x79d)][_0x38b2bf(0x208)](_0x38b2bf(0x72b)),this['updateStopChat'](_0x449f3b,_0x5a5433),_0x449f3b['waitingMenu_id']='',_0x449f3b['waitingMenu_text']='',_0x449f3b[_0x38b2bf(0x4e5)]=[];}return this[_0x38b2bf(0x788)](_0x449f3b,_0x501e43,_0x57116c,!0x0),null;}}if(_0x3d1a73&&_0x501e43[_0x38b2bf(0x4ea)]&&!_0x449f3b[_0x38b2bf(0x346)]){let _0x46d224=_0x449f3b[_0x38b2bf(0x364)][_0x38b2bf(0x669)](_0xbd61b9=>_0xbd61b9[_0x38b2bf(0x154)][_0x38b2bf(0x1ce)]()===_0x501e43[_0x38b2bf(0x4ea)][_0x38b2bf(0x1ce)]())[_0x38b2bf(0x155)]((_0x323576,_0x4239ed)=>_0x323576['order']-_0x4239ed[_0x38b2bf(0x158)]);_0x46d224['length']>0x0&&(_0x49a8eb=_0x46d224[0x0]);}if(!_0x49a8eb){let _0x1b7b43=_0x501e43[_0x38b2bf(0x154)],_0x345997=_0x449f3b['blocks'][_0x38b2bf(0x669)](_0xa9ff12=>_0xa9ff12[_0x38b2bf(0x154)]===_0x1b7b43&&_0xa9ff12[_0x38b2bf(0x158)]>_0x501e43[_0x38b2bf(0x158)])[_0x38b2bf(0x155)]((_0x3b38fd,_0xe01620)=>_0x3b38fd['order']-_0xe01620[_0x38b2bf(0x158)]);_0x345997[_0x38b2bf(0x4e4)]>0x0&&(_0x49a8eb=_0x345997[0x0]);}if(!_0x49a8eb)return _0x449f3b['status']=_0x38b2bf(0x32a),null;_0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x4c4)]=_0x1df0ad;let _0x4490fb=JSON[_0x38b2bf(0x1bd)](JSON[_0x38b2bf(0x68d)](_0x49a8eb));return this[_0x38b2bf(0x6e3)](_0x4490fb,_0x449f3b[_0x38b2bf(0x423)][_0x38b2bf(0x4c4)]),_0x449f3b[_0x38b2bf(0x423)]['lastBlockId']=_0x4490fb[_0x38b2bf(0x21b)],_0x449f3b[_0x38b2bf(0x423)]['lastCondition']=!0x0,_0x4490fb;}[a0_0x5a7632(0x3b3)](_0x4fbdfb,_0x2da168){return _0x4fbdfb['replace'](/\{\{([^}]+)\}\}/g,(_0x3fec5c,_0x2dbbdb)=>_0x2da168[_0x2dbbdb]||'');}[a0_0x5a7632(0x6e3)](_0x5817a8,_0x37fc89){const _0x112e5c=a0_0x5a7632;for(let _0x4d5ed4 in _0x5817a8)typeof _0x5817a8[_0x4d5ed4]==_0x112e5c(0x2dc)?_0x5817a8[_0x4d5ed4]=this[_0x112e5c(0x3b3)](_0x5817a8[_0x4d5ed4],_0x37fc89):typeof _0x5817a8[_0x4d5ed4]==_0x112e5c(0x504)&&this['replaceVariablesInObject'](_0x5817a8[_0x4d5ed4],_0x37fc89);}async[a0_0x5a7632(0x391)](_0x319d19,_0x4a7cfd){const _0x11105c=a0_0x5a7632;let _0x33e894=_0x4a7cfd['_id'];if(_0x319d19[_0x11105c(0x423)]&&_0x319d19[_0x11105c(0x423)][_0x11105c(0x130)]){let _0x22c09c=_0x319d19[_0x11105c(0x423)][_0x11105c(0x130)][_0x11105c(0x669)](_0xd935be=>String(_0xd935be['blockId'])===String(_0x33e894))[_0x11105c(0x5b3)]();if(_0x22c09c&&_0x22c09c['error']&&_0x4a7cfd[_0x11105c(0x40c)])return _0x319d19[_0x11105c(0x5cd)]=_0x11105c(0x32a),await this[_0x11105c(0x528)](_0x319d19),null;}if(_0x4a7cfd[_0x11105c(0x32e)]==='uazapi'&&_0x4a7cfd[_0x11105c(0x21f)][_0x11105c(0x3e7)]===_0x11105c(0x3ef)&&_0x319d19[_0x11105c(0x346)])return _0x319d19[_0x11105c(0x423)]['lastBlockId']=_0x33e894,await this[_0x11105c(0x528)](_0x319d19),null;let _0xcd2c81=await this[_0x11105c(0x1ab)](_0x319d19);if(_0x319d19['chatLog']&&_0x319d19[_0x11105c(0x423)][_0x11105c(0x130)]){let _0x23400c=_0x319d19[_0x11105c(0x423)][_0x11105c(0x130)]['filter'](_0x156187=>String(_0x156187['blockId'])===String(_0x33e894))[_0x11105c(0x4e4)];if(_0x4a7cfd['maxActives']!==void 0x0&&_0x23400c>=_0x4a7cfd[_0x11105c(0x6db)]){let _0x1bfcc1=Date[_0x11105c(0x73d)](),_0x297504=_0x4a7cfd['stopMinutesMaxActives']??0xa;isNaN(_0x297504)&&(_0x297504=0xa);let _0x7e414a=_0x1bfcc1+_0x297504*0x3c*0x3e8,_0x3c1430={'newStoppedUntil':_0x7e414a};return this[_0x11105c(0x2a4)](_0x319d19,_0x7e414a),this['updateConversation'](_0x319d19,_0x4a7cfd,_0x3c1430,!0x0),null;}}_0xcd2c81&&_0xcd2c81['type']!==_0x11105c(0x3ad)&&await this[_0x11105c(0x774)](_0x319d19,_0xcd2c81),_0xcd2c81||await this['saveConversationToDatabase'](_0x319d19),_0xcd2c81&&_0xcd2c81[_0x11105c(0x32e)]===_0x11105c(0x3ad)&&(_0x319d19[_0x11105c(0x423)][_0x11105c(0x23c)]=_0x33e894,await this['saveConversationToDatabase'](_0x319d19));}async['processblock'](_0x3080b8,_0x2357b6){const _0x177c13=a0_0x5a7632;try{let _0x5a9037=_0x2357b6['type'];this[_0x177c13(0x22c)][_0x177c13(0x140)](this[_0x177c13(0x76b)]+'\x20('+this[_0x177c13(0x35a)][_0x177c13(0x6a2)]+'):\x20Going\x20to\x20'+_0x5a9037);let _0x28f75f={'uazapi':()=>this[_0x177c13(0x50b)](_0x3080b8,_0x2357b6),'save':()=>this[_0x177c13(0x78c)](_0x3080b8,_0x2357b6),'stop':()=>this[_0x177c13(0x456)](_0x3080b8,_0x2357b6),'condition':()=>this[_0x177c13(0x748)](_0x3080b8,_0x2357b6),'varedit':()=>this[_0x177c13(0x353)](_0x3080b8,_0x2357b6),'apirequest':()=>this[_0x177c13(0x660)](_0x3080b8,_0x2357b6),'goToFlow':()=>this[_0x177c13(0x37d)](_0x3080b8,_0x2357b6)}[_0x5a9037];_0x28f75f&&await _0x28f75f();}catch(_0x3b5925){this[_0x177c13(0x22c)][_0x177c13(0x7aa)](this['instanceName']+'\x20('+this['instance'][_0x177c13(0x6a2)]+_0x177c13(0x150)+(_0x3b5925 instanceof Error?_0x3b5925['message']:JSON[_0x177c13(0x68d)](_0x3b5925,null,0x2)));}}async[a0_0x5a7632(0x37d)](_0x584441,_0x1dc936){const _0x35d319=a0_0x5a7632;if(this[_0x35d319(0x22c)]['verbose'](this[_0x35d319(0x76b)]+'\x20('+this[_0x35d319(0x35a)][_0x35d319(0x6a2)]+_0x35d319(0x6bf)),!_0x584441||!_0x1dc936)return this['logger']['error'](this[_0x35d319(0x76b)]+'\x20('+this[_0x35d319(0x35a)][_0x35d319(0x6a2)]+_0x35d319(0x3b7)),null;await this[_0x35d319(0x788)](_0x584441,_0x1dc936,{},!0x0,!0x0),console[_0x35d319(0x1c8)](_0x35d319(0x6a1)),console[_0x35d319(0x1c8)](_0x1dc936);let _0x454e3a=_0x1dc936[_0x35d319(0x1c9)];console[_0x35d319(0x1c8)](_0x35d319(0x25c),_0x454e3a),_0x584441=await this[_0x35d319(0x705)](_0x454e3a,_0x584441['remoteJid'],_0x584441['chatLog'][_0x35d319(0x4c4)]),this['logger'][_0x35d319(0x140)](this[_0x35d319(0x76b)]+'\x20('+this[_0x35d319(0x35a)][_0x35d319(0x6a2)]+_0x35d319(0x579));let _0x25095b=await this[_0x35d319(0x1ab)](_0x584441);_0x25095b&&await this['processblock'](_0x584441,_0x25095b);}async[a0_0x5a7632(0x705)](_0x1c6f47,_0x56b92e,_0x1a12ba){const _0x4514e9=a0_0x5a7632;this[_0x4514e9(0x22c)][_0x4514e9(0x140)](this['instanceName']+'\x20('+this['instance'][_0x4514e9(0x6a2)]+_0x4514e9(0x6c1));try{if(_0x1c6f47=await this[_0x4514e9(0x2d9)]['flow'][_0x4514e9(0x48e)]({'where':{'name':_0x1c6f47}},this[_0x4514e9(0x35a)][_0x4514e9(0x6a2)]),!_0x1c6f47)return this[_0x4514e9(0x22c)][_0x4514e9(0x7aa)](this[_0x4514e9(0x76b)]+'\x20('+this[_0x4514e9(0x35a)][_0x4514e9(0x6a2)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x52880=require(_0x4514e9(0x207))[_0x4514e9(0x291)],_0x485439=Date['now'](),_0x490377=_0x4514e9(0x51f),_0x18883e={},_0x1e1acd={},_0x421a8c={..._0x1c6f47,'chatLog':null},_0x5f25ad={'lastReceivedMessage':_0x18883e,'lastSendMessage':_0x1e1acd,'lastBlockId':_0x490377,'lastCondition':!0x0,'realVariables':_0x1a12ba};_0x421a8c[_0x4514e9(0x423)]=_0x5f25ad,_0x421a8c[_0x4514e9(0x423)]['realVariables']={..._0x1a12ba},delete _0x421a8c[_0x4514e9(0x21b)],_0x421a8c[_0x4514e9(0x21b)]=new _0x52880(),_0x421a8c[_0x4514e9(0x50a)]=_0x485439,_0x421a8c['status']=_0x4514e9(0x29a),_0x421a8c[_0x4514e9(0x619)]=_0x56b92e;let _0x339ccf=await this[_0x4514e9(0x2d9)][_0x4514e9(0x6e6)][_0x4514e9(0x406)](_0x421a8c[_0x4514e9(0x21b)],_0x421a8c,this[_0x4514e9(0x35a)][_0x4514e9(0x6a2)]);return this[_0x4514e9(0x22c)]['verbose'](this[_0x4514e9(0x76b)]+'\x20('+this[_0x4514e9(0x35a)][_0x4514e9(0x6a2)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x339ccf?_0x421a8c:null;}catch(_0x99a80){throw this[_0x4514e9(0x22c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4514e9(0x6a2)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x99a80 instanceof Error?_0x99a80['message']:JSON[_0x4514e9(0x68d)](_0x99a80,null,0x2))),new w(_0x99a80['message']);}}async[a0_0x5a7632(0x660)](_0x318d63,_0x1aef2a){const _0x1d09be=a0_0x5a7632;let _0x37e0db,_0x4f7af2;try{let _0x454fb4=_0x1aef2a[_0x1d09be(0x397)];if(!_0x454fb4||!_0x454fb4[_0x1d09be(0x67c)]||!_0x454fb4[_0x1d09be(0x4da)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x2a930b;([_0x1d09be(0x5ce),_0x1d09be(0x6bb),_0x1d09be(0x243)][_0x1d09be(0x1a2)](_0x49bae6=>_0x454fb4[_0x1d09be(0x67c)]['includes'](_0x49bae6))||_0x454fb4[_0x1d09be(0x34c)])&&(_0x2a930b='arraybuffer');let _0x39e24e={'method':_0x454fb4['method'],'url':_0x454fb4['url'],'headers':_0x454fb4[_0x1d09be(0x3c2)]||{},'data':_0x454fb4[_0x1d09be(0x5af)]||{},..._0x2a930b&&{'responseType':_0x2a930b}},_0x428aa1=await(0x0,Z[_0x1d09be(0x1c5)])(_0x39e24e),_0xad978e=_0x428aa1[_0x1d09be(0x380)]['content-type'];if(_0xad978e&&_0xad978e[_0x1d09be(0x3b6)](_0x1d09be(0x2ea))){_0x37e0db=_0x428aa1[_0x1d09be(0x18c)];let _0x20d9ae=_0x318d63[_0x1d09be(0x423)]['realVariables'],_0x16b62b=this['flattenObject'](_0x37e0db);return Object['assign'](_0x20d9ae,_0x16b62b),_0x318d63[_0x1d09be(0x423)][_0x1d09be(0x4c4)]=_0x20d9ae,_0x4f7af2={'error':!0x1,'apiResponse':_0x37e0db},this[_0x1d09be(0x788)](_0x318d63,_0x1aef2a,_0x4f7af2),_0x37e0db;}if(_0xad978e&&(_0xad978e[_0x1d09be(0x3b6)](_0x1d09be(0x16e))||_0xad978e[_0x1d09be(0x3b6)](_0x1d09be(0x613))||_0xad978e[_0x1d09be(0x3b6)]('audio')||_0xad978e['includes'](_0x1d09be(0x192)))){this[_0x1d09be(0x22c)][_0x1d09be(0x140)](this[_0x1d09be(0x76b)]+'\x20('+this[_0x1d09be(0x35a)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0xad978e);let _0x5f0279=(0x0,Re['v4'])(),_0x538170='',_0x3a3b5d={'image/jpeg':_0x1d09be(0x6ec),'image/png':_0x1d09be(0x196),'image/gif':_0x1d09be(0x7a1),'image/webp':_0x1d09be(0xfd),'image/svg+xml':_0x1d09be(0x288),'audio/mpeg':_0x1d09be(0x144),'audio/ogg':_0x1d09be(0x33f),'audio/wav':_0x1d09be(0x606),'video/mp4':'.mp4','video/webm':_0x1d09be(0x665),'video/ogg':_0x1d09be(0x5a7),'text/plain':_0x1d09be(0x328),'application/pdf':_0x1d09be(0x5cc),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1d09be(0x672),'application/vnd.ms-excel':_0x1d09be(0x1a5),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1d09be(0x78a),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1d09be(0x2b3)};_0x3a3b5d[_0xad978e]?(_0x538170=_0x3a3b5d[_0xad978e],this[_0x1d09be(0x22c)][_0x1d09be(0x140)](this[_0x1d09be(0x76b)]+'\x20('+this[_0x1d09be(0x35a)][_0x1d09be(0x6a2)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x538170)):(_0x538170=_0x1d09be(0x781),this[_0x1d09be(0x22c)][_0x1d09be(0x140)](this[_0x1d09be(0x76b)]+'\x20('+this[_0x1d09be(0x35a)]['wuid']+_0x1d09be(0x6c5)+_0x538170)),_0x5f0279+=_0x538170,this[_0x1d09be(0x22c)]['verbose'](this['instanceName']+'\x20('+this[_0x1d09be(0x35a)][_0x1d09be(0x6a2)]+_0x1d09be(0x5e9)+_0x5f0279);let _0x511200=this[_0x1d09be(0x513)][_0x1d09be(0x711)](_0x1d09be(0xfb))['URL'];if(!_0x511200){let _0x463d41=this['configService'][_0x1d09be(0x711)](_0x1d09be(0x512));_0x511200=_0x1d09be(0x213)+(_0x463d41&&_0x463d41[_0x1d09be(0x618)][_0x1d09be(0x323)]('/')[0x4]);}let _0x5b43c1=Buffer[_0x1d09be(0x49e)](_0x428aa1[_0x1d09be(0x18c)]);await this[_0x1d09be(0x62c)](_0x5b43c1,_0x5f0279);let _0x7d7fda=_0x1d09be(0x297)+_0x5f0279;_0x7d7fda=''+_0x511200+_0x7d7fda,_0x37e0db={'fileUrl':_0x7d7fda},_0x318d63['chatLog'][_0x1d09be(0x4c4)][_0x1d09be(0x601)]=_0x7d7fda;let _0x1886e0=_0x318d63['chatLog'][_0x1d09be(0x4c4)],_0x3b74e7=this[_0x1d09be(0x340)](_0x37e0db);return Object['assign'](_0x1886e0,_0x3b74e7),_0x318d63[_0x1d09be(0x423)]['realVariables']=_0x1886e0,_0x4f7af2={'error':!0x1,'apiResponse':{'fileUrl':_0x7d7fda}},this[_0x1d09be(0x788)](_0x318d63,_0x1aef2a,_0x4f7af2),_0x37e0db;}}catch(_0x5cb23f){console[_0x1d09be(0x7aa)](_0x1d09be(0x329),_0x5cb23f),_0x5cb23f[_0x1d09be(0x1f8)]&&(_0x37e0db=_0x5cb23f[_0x1d09be(0x1f8)][_0x1d09be(0x18c)]);let _0x153c47=_0x318d63['chatLog'][_0x1d09be(0x4c4)],_0xb1d30f=this[_0x1d09be(0x340)](_0x37e0db);return Object['assign'](_0x153c47,_0xb1d30f),_0x318d63[_0x1d09be(0x423)][_0x1d09be(0x4c4)]=_0x153c47,_0x4f7af2={'error':!0x0,'errorLog':_0x5cb23f[_0x1d09be(0x1ce)](),'apiResponse':_0x37e0db},this[_0x1d09be(0x788)](_0x318d63,_0x1aef2a,_0x4f7af2),{'success':!0x1};}}['applyvaredit'](_0x119bfb,_0x4e8173){const _0x35ab3c=a0_0x5a7632;let _0x83dfca=_0x310231=>{const _0x1f5f5f=a0_0xc371;let _0x5baef1=_0x310231[_0x1f5f5f(0x23d)](/[^0-9.,-]/g,'')[_0x1f5f5f(0x23d)](',','.'),_0x1ada5c=parseFloat(_0x5baef1);return isNaN(_0x1ada5c)?null:_0x1ada5c;},_0x4de388=_0x4e8173['firstValue'],_0x387aef=_0x4e8173[_0x35ab3c(0x614)];typeof _0x4de388==_0x35ab3c(0x2dc)&&(_0x4de388=this[_0x35ab3c(0x3b3)](_0x4de388,_0x119bfb[_0x35ab3c(0x423)][_0x35ab3c(0x4c4)])??''),typeof _0x387aef==_0x35ab3c(0x2dc)&&(_0x387aef=this['replaceVariables'](_0x387aef,_0x119bfb[_0x35ab3c(0x423)][_0x35ab3c(0x4c4)])??'');let _0x53d1d8=null;if(!_0x4e8173[_0x35ab3c(0x415)])return null;switch(this[_0x35ab3c(0x22c)][_0x35ab3c(0x140)](this[_0x35ab3c(0x76b)]+'\x20('+this[_0x35ab3c(0x35a)][_0x35ab3c(0x6a2)]+_0x35ab3c(0x1a1)+_0x4de388),this[_0x35ab3c(0x22c)][_0x35ab3c(0x140)](this[_0x35ab3c(0x76b)]+'\x20('+this['instance'][_0x35ab3c(0x6a2)]+_0x35ab3c(0x5c7)+_0x387aef),_0x4e8173['editOperator']){case'+':case'-':case'*':case'/':let _0x4c3cc0=_0x83dfca(_0x4de388||'0'),_0x156f37=_0x83dfca(_0x387aef||'0');if(_0x4c3cc0===null)return null;switch(_0x4e8173[_0x35ab3c(0x415)]){case'+':_0x53d1d8=_0x4c3cc0+(_0x156f37??0x0);break;case'-':_0x53d1d8=_0x4c3cc0-(_0x156f37??0x0);break;case'*':_0x53d1d8=_0x4c3cc0*(_0x156f37??0x1);break;case'/':_0x156f37!==0x0&&(_0x53d1d8=_0x4c3cc0/(_0x156f37??0x1));break;}break;case _0x35ab3c(0x432):case _0x35ab3c(0x61d):let _0x854998=_0x387aef,_0x39c849=_0x4e8173[_0x35ab3c(0x3b1)];if(typeof _0x39c849==_0x35ab3c(0x2dc)&&(_0x39c849=this[_0x35ab3c(0x3b3)](_0x39c849,_0x119bfb[_0x35ab3c(0x423)][_0x35ab3c(0x4c4)])??''),_0x854998&&_0x39c849!==void 0x0){let _0x163179=_0x4e8173[_0x35ab3c(0x415)]===_0x35ab3c(0x432)?new RegExp(_0x854998['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x35ab3c(0x57c)),'g'):new RegExp(_0x854998,'g');_0x53d1d8=_0x4de388[_0x35ab3c(0x23d)](_0x163179,_0x39c849);}else console[_0x35ab3c(0xff)](_0x35ab3c(0x457));break;case _0x35ab3c(0x67e):_0x53d1d8=_0x387aef;break;case _0x35ab3c(0x768):let _0x49fdfb=_0x4de388[_0x35ab3c(0x408)](new RegExp(_0x387aef||''));_0x53d1d8=_0x49fdfb?_0x49fdfb[0x0]:'';break;case _0x35ab3c(0x6ed):_0x53d1d8=_0x4de388[_0x35ab3c(0x51c)](0x0,parseInt(_0x387aef||'0'));break;case'truncatedtoEnd':let _0x3c7d73=parseInt(_0x387aef||'0');_0x53d1d8=_0x4de388['slice'](_0x4de388['length']-_0x3c7d73);break;case'toBrazilianNumberFormat':let _0x182fbf=_0x83dfca(_0x4de388),_0x352cad=parseInt(_0x387aef||'0');_0x352cad=Math[_0x35ab3c(0x2c7)](_0x352cad),_0x182fbf!==null?_0x53d1d8=_0x182fbf['toLocaleString'](_0x35ab3c(0x4dc),{'minimumFractionDigits':_0x352cad,'maximumFractionDigits':_0x352cad}):(console[_0x35ab3c(0xff)](_0x35ab3c(0x533)+_0x4de388),_0x53d1d8=null);break;case _0x35ab3c(0x3cf):let _0x29e769=_0x83dfca(_0x4de388);_0x29e769!==null?_0x53d1d8=_0x29e769[_0x35ab3c(0x2f2)]('pt-BR',{'style':_0x35ab3c(0xfc),'currency':_0x35ab3c(0x538)}):(console[_0x35ab3c(0xff)](_0x35ab3c(0x68b)+_0x4de388),_0x53d1d8=null);break;case _0x35ab3c(0x396):_0x53d1d8=_0x4de388[_0x35ab3c(0x56a)]();break;case'lowerCase':_0x53d1d8=_0x4de388['toLowerCase']();break;case _0x35ab3c(0x30f):_0x53d1d8=_0x4de388['split']('\x20')['map'](_0x21863b=>_0x21863b[_0x35ab3c(0x42f)](0x0)[_0x35ab3c(0x56a)]()+_0x21863b['slice'](0x1)[_0x35ab3c(0x2d3)]())['join']('\x20');break;case _0x35ab3c(0x4e1):_0x53d1d8=_0x4de388[_0x35ab3c(0x549)]();break;default:_0x53d1d8=_0x4de388;}return _0x53d1d8!==null?_0x53d1d8[_0x35ab3c(0x1ce)]():null;}async[a0_0x5a7632(0x353)](_0x52b79d,_0x380d2d){const _0x5848b2=a0_0x5a7632;try{let _0x46acae=_0x52b79d['varedits']?.[_0x5848b2(0x669)](_0x37be72=>_0x37be72[_0x5848b2(0x724)]===_0x380d2d[_0x5848b2(0x21b)]?.[_0x5848b2(0x1ce)]())||[],_0x3e3aee=_0x380d2d[_0x5848b2(0x1fb)],_0x14e532=null,_0x4308d4=[],_0x3e0728=_0x52b79d[_0x5848b2(0x423)][_0x5848b2(0x4c4)][_0x3e3aee];_0x4308d4[_0x5848b2(0x208)](_0x5848b2(0x5a1)+_0x3e0728+'\x22');for(let _0x363461 of _0x46acae){_0x363461[_0x5848b2(0x555)]=_0x3e0728,_0x14e532=_0x363461[_0x5848b2(0x555)];let _0x2904ca;try{_0x2904ca=this[_0x5848b2(0x3f0)](_0x52b79d,_0x363461);}catch(_0x2b5ce0){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x2b5ce0[_0x5848b2(0x6f6)]);continue;}if(_0x2904ca!==null){let _0x1333d7=_0x5848b2(0x2d4)+_0x363461[_0x5848b2(0x415)]+'\x22',_0xc9246c=[_0x5848b2(0x3cf),_0x5848b2(0x396),_0x5848b2(0x16c),_0x5848b2(0x30f),_0x5848b2(0x4e1)];_0x363461[_0x5848b2(0x415)]===_0x5848b2(0x432)||_0x363461[_0x5848b2(0x415)]===_0x5848b2(0x61d)?_0x1333d7+=_0x5848b2(0x56e)+_0x363461[_0x5848b2(0x614)]+_0x5848b2(0x17c)+_0x363461['replaceValue']+'\x22':!_0xc9246c[_0x5848b2(0x3b6)](_0x363461[_0x5848b2(0x415)])&&_0x363461[_0x5848b2(0x614)]!==null&&_0x363461['secondValue']!==void 0x0&&(_0x1333d7+=_0x5848b2(0x38f)+_0x363461[_0x5848b2(0x614)]+'\x22'),_0x1333d7+=_0x5848b2(0x4f1)+_0x2904ca+'.',_0x4308d4[_0x5848b2(0x208)](_0x1333d7);}_0x2904ca!==null&&(_0x3e0728=_0x2904ca);}if(_0x52b79d['chatLog'][_0x5848b2(0x4c4)]&&_0x380d2d[_0x5848b2(0x1fb)]){_0x52b79d[_0x5848b2(0x423)][_0x5848b2(0x4c4)][_0x380d2d[_0x5848b2(0x1fb)]]=_0x3e0728;let _0x3acba5={'variable':_0x380d2d[_0x5848b2(0x1fb)],'oldValue':_0x14e532,'newValue':_0x3e0728,'moreLogs':_0x4308d4};try{this[_0x5848b2(0x788)](_0x52b79d,_0x380d2d,_0x3acba5);}catch(_0x5f0666){console['error'](_0x5848b2(0x21a)+_0x5f0666[_0x5848b2(0x6f6)]);}}return _0x3e3aee;}catch(_0x5f3d3d){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x5f3d3d[_0x5848b2(0x6f6)]),null;}}async[a0_0x5a7632(0x748)](_0xcbbf88,_0x2e3206){const _0x5868e5=a0_0x5a7632;try{let _0x270e07=[],_0x2e618d=_0xcbbf88[_0x5868e5(0x27e)]['filter'](_0x13fc6a=>_0x13fc6a['blockId']===_0x2e3206['_id'][_0x5868e5(0x1ce)]()),_0x1b598f=null,_0x4a4bd7=!0x1;for(let _0xfaea76 of _0x2e618d){let _0x2b62b2=this[_0x5868e5(0x22b)](_0xcbbf88,_0xfaea76);_0x270e07[_0x5868e5(0x208)](_0x5868e5(0x4aa)+_0xfaea76[_0x5868e5(0x555)]+_0x5868e5(0x5b2)+_0xfaea76[_0x5868e5(0x4db)]+_0x5868e5(0x373)+_0xfaea76[_0x5868e5(0x614)]+_0x5868e5(0x3fa)+_0x2b62b2),_0x1b598f===null?_0x1b598f=_0x2b62b2:_0xfaea76['OrAnd']===_0x5868e5(0x6c2)?(_0x1b598f=_0x1b598f&&_0x2b62b2,_0x2b62b2||(_0x4a4bd7=!0x0)):_0xfaea76[_0x5868e5(0x3e9)]==='or'&&(_0x4a4bd7||(_0x1b598f=_0x1b598f||_0x2b62b2));}_0x1b598f===null&&(_0x1b598f=!0x0);let _0x12387f={'moreLogs':_0x270e07};_0xcbbf88[_0x5868e5(0x423)][_0x5868e5(0x443)]=_0x1b598f,await this['updateConversation'](_0xcbbf88,_0x2e3206,_0x12387f);}catch(_0x1c6034){this[_0x5868e5(0x22c)][_0x5868e5(0x7aa)](this['instanceName']+'\x20('+this['instance'][_0x5868e5(0x6a2)]+_0x5868e5(0x300)+(_0x1c6034 instanceof Error?_0x1c6034[_0x5868e5(0x6f6)]:JSON[_0x5868e5(0x68d)](_0x1c6034,null,0x2)));}}[a0_0x5a7632(0x22b)](_0x4ba70e,_0x355691){const _0x435ed2=a0_0x5a7632;let _0x3c22f7=_0x355691[_0x435ed2(0x555)],_0x54d34d=_0x355691[_0x435ed2(0x614)];typeof _0x3c22f7=='string'&&(_0x3c22f7=this[_0x435ed2(0x3b3)](_0x3c22f7,_0x4ba70e[_0x435ed2(0x423)]['realVariables'])??''),typeof _0x54d34d=='string'&&(_0x54d34d=this[_0x435ed2(0x3b3)](_0x54d34d,_0x4ba70e[_0x435ed2(0x423)]['realVariables'])??'');try{switch(_0x355691[_0x435ed2(0x4db)]){case _0x435ed2(0x6ad):return _0x3c22f7===_0x54d34d;case _0x435ed2(0x687):return _0x3c22f7!==_0x54d34d;case _0x435ed2(0x75b):return this[_0x435ed2(0x75b)](_0x3c22f7,_0x54d34d);case _0x435ed2(0x194):return!this[_0x435ed2(0x75b)](_0x3c22f7,_0x54d34d);case _0x435ed2(0x7a7):return parseFloat(_0x3c22f7)>parseFloat(_0x54d34d);case _0x435ed2(0x515):return parseFloat(_0x3c22f7)<parseFloat(_0x54d34d);case _0x435ed2(0x4f6):return _0x3c22f7!=='';case _0x435ed2(0x4df):return _0x3c22f7==='';case _0x435ed2(0x10a):return new RegExp(_0x54d34d)[_0x435ed2(0x674)](_0x3c22f7);case _0x435ed2(0x180):return!new RegExp(_0x54d34d)[_0x435ed2(0x674)](_0x3c22f7);default:return!0x1;}}catch(_0x48ce2c){return console[_0x435ed2(0x7aa)](_0x435ed2(0x1ca)+_0x48ce2c),!0x1;}}[a0_0x5a7632(0x75b)](_0x5c4f0f,_0x4cc6b3){const _0x50c9bb=a0_0x5a7632;if(_0x5c4f0f===_0x4cc6b3&&/^\d+$/[_0x50c9bb(0x674)](_0x5c4f0f))return!0x0;if(this[_0x50c9bb(0x722)](_0x5c4f0f)&&/^\d+$/['test'](_0x4cc6b3)){let _0x403afd=_0x5c4f0f[_0x50c9bb(0x323)](',')[_0x50c9bb(0x2ca)](_0x2e6d93=>parseInt(_0x2e6d93[_0x50c9bb(0x549)]())),_0x350101=parseInt(_0x4cc6b3);return _0x403afd[_0x50c9bb(0x3b6)](_0x350101);}return _0x5c4f0f[_0x50c9bb(0x3b6)](_0x4cc6b3);}['isListOfNumbers'](_0x1f2c48){const _0x369f56=a0_0x5a7632;return/^\d+(,\d+)*$/[_0x369f56(0x674)](_0x1f2c48);}[a0_0x5a7632(0x759)](_0x14bb41){const _0x22e652=a0_0x5a7632;let _0x32308d=!0x0,_0x14cc5a=null;for(let _0x3f3063 of _0x14bb41){let _0x23caae=this[_0x22e652(0x352)](_0x3f3063);if(_0x14cc5a==='or'&&_0x23caae){_0x32308d=!0x0;break;}if(_0x14cc5a===_0x22e652(0x6c2)&&!_0x23caae){_0x32308d=!0x1;break;}_0x14cc5a=_0x3f3063[_0x22e652(0x3e9)];}return _0x32308d;}['evaluateConditionTest'](_0x1f1d5f){const _0x57f86c=a0_0x5a7632;let _0x277a38=_0x1f1d5f[_0x57f86c(0x555)],_0x363f88=_0x1f1d5f[_0x57f86c(0x614)];try{switch(_0x1f1d5f[_0x57f86c(0x4db)]){case _0x57f86c(0x6ad):return String(_0x277a38)===String(_0x363f88);case _0x57f86c(0x687):return String(_0x277a38)!==String(_0x363f88);case _0x57f86c(0x75b):return String(_0x277a38)[_0x57f86c(0x3b6)](String(_0x363f88));case _0x57f86c(0x194):return!String(_0x277a38)['includes'](String(_0x363f88));case'greater':return parseFloat(String(_0x277a38))>parseFloat(String(_0x363f88));case'less':return parseFloat(String(_0x277a38))<parseFloat(String(_0x363f88));case'notEmpty':return String(_0x277a38)!=='';case _0x57f86c(0x4df):return String(_0x277a38)==='';case'matchRegex':return new RegExp(String(_0x363f88))[_0x57f86c(0x674)](String(_0x277a38));case _0x57f86c(0x180):return!new RegExp(String(_0x363f88))[_0x57f86c(0x674)](String(_0x277a38));default:return!0x1;}}catch(_0x5b764c){return console[_0x57f86c(0x7aa)](_0x57f86c(0x1ca)+_0x5b764c),!0x1;}}async[a0_0x5a7632(0x78c)](_0xcbace7,_0x33db32){const _0x2c5144=a0_0x5a7632;if(this['logger'][_0x2c5144(0x140)](this[_0x2c5144(0x76b)]+'\x20('+this[_0x2c5144(0x35a)][_0x2c5144(0x6a2)]+_0x2c5144(0x45a)),!_0xcbace7||!_0x33db32)return this[_0x2c5144(0x22c)][_0x2c5144(0x7aa)](this[_0x2c5144(0x76b)]+'\x20('+this[_0x2c5144(0x35a)]['wuid']+_0x2c5144(0x3b7)),null;let _0x5cd036=_0x33db32[_0x2c5144(0x1fb)],_0x10e121=_0xcbace7[_0x2c5144(0x423)]['lastReceivedMessage'][_0x2c5144(0x142)]||_0xcbace7['chatLog'][_0x2c5144(0x69e)][_0x2c5144(0x113)]||_0xcbace7[_0x2c5144(0x423)]['lastReceivedMessage'][_0x2c5144(0x502)];try{_0xcbace7[_0x2c5144(0x423)][_0x2c5144(0x4c4)]||(_0xcbace7[_0x2c5144(0x423)][_0x2c5144(0x4c4)]={});let _0x1830e8=_0xcbace7[_0x2c5144(0x423)][_0x2c5144(0x4c4)][_0x5cd036];_0xcbace7['chatLog'][_0x2c5144(0x4c4)][_0x5cd036]=_0x10e121;let _0x185511={'variable':_0x5cd036,'oldValue':_0x1830e8,'newValue':_0x10e121};this[_0x2c5144(0x788)](_0xcbace7,_0x33db32,_0x185511),this[_0x2c5144(0x22c)]['verbose'](this[_0x2c5144(0x76b)]+'\x20('+this[_0x2c5144(0x35a)][_0x2c5144(0x6a2)]+_0x2c5144(0x326));}catch(_0xe2cbde){let _0x5493bb={'error':!0x0,'errorLog':_0xe2cbde['toString']()};return this[_0x2c5144(0x788)](_0xcbace7,_0x33db32,_0x5493bb),this['logger'][_0x2c5144(0x7aa)](this[_0x2c5144(0x76b)]+'\x20('+this[_0x2c5144(0x35a)]['wuid']+_0x2c5144(0x3e2)+(_0xe2cbde instanceof Error?_0xe2cbde[_0x2c5144(0x6f6)]:JSON[_0x2c5144(0x68d)](_0xe2cbde,null,0x2))),null;}}async[a0_0x5a7632(0x456)](_0x47c0e2,_0x46cda7){const _0x1025e7=a0_0x5a7632;if(this[_0x1025e7(0x22c)][_0x1025e7(0x140)](this[_0x1025e7(0x76b)]+'\x20('+this[_0x1025e7(0x35a)][_0x1025e7(0x6a2)]+_0x1025e7(0x2fc)),!_0x47c0e2||!_0x46cda7)return this[_0x1025e7(0x22c)]['error'](this[_0x1025e7(0x76b)]+'\x20('+this[_0x1025e7(0x35a)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x592a7e=Date[_0x1025e7(0x73d)](),_0x27b1a6=parseInt(_0x46cda7[_0x1025e7(0x390)],0xa);if(isNaN(_0x27b1a6))return this[_0x1025e7(0x22c)][_0x1025e7(0x7aa)](this[_0x1025e7(0x76b)]+'\x20('+this[_0x1025e7(0x35a)]['wuid']+_0x1025e7(0x1d1)),null;let _0x1d934b={'newStoppedUntil':_0x592a7e+_0x27b1a6*0x3c*0x3e8};return await this[_0x1025e7(0x788)](_0x47c0e2,_0x46cda7,_0x1d934b,!0x0),null;}async[a0_0x5a7632(0x50b)](_0x568016,_0x20c706){const _0x22c18d=a0_0x5a7632;try{switch(_0x20c706[_0x22c18d(0x21f)][_0x22c18d(0x3e7)]){case _0x22c18d(0x4ac):await this['uazapiSendText'](_0x568016,_0x20c706);break;case _0x22c18d(0x3c1):await this[_0x22c18d(0x589)](_0x568016,_0x20c706);break;case _0x22c18d(0x498):await this['uazapiSendLocation'](_0x568016,_0x20c706);break;case _0x22c18d(0x21d):await this[_0x22c18d(0x20a)](_0x568016,_0x20c706);break;case _0x22c18d(0x2c6):await this[_0x22c18d(0x3d3)](_0x568016,_0x20c706);break;case _0x22c18d(0x3ef):await this[_0x22c18d(0x55a)](_0x568016,_0x20c706);break;case _0x22c18d(0x67f):await this[_0x22c18d(0x55a)](_0x568016,_0x20c706);break;case _0x22c18d(0x125):await this[_0x22c18d(0x631)](_0x568016,_0x20c706);break;default:this[_0x22c18d(0x22c)]['error'](this[_0x22c18d(0x76b)]+'\x20('+this[_0x22c18d(0x35a)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x20c706[_0x22c18d(0x21f)][_0x22c18d(0x3e7)]);}}catch(_0x19ff11){this['logger'][_0x22c18d(0x7aa)](this['instanceName']+'\x20('+this[_0x22c18d(0x35a)][_0x22c18d(0x6a2)]+_0x22c18d(0x1db)+(_0x19ff11 instanceof Error?_0x19ff11[_0x22c18d(0x6f6)]:JSON[_0x22c18d(0x68d)](_0x19ff11,null,0x2)));}}async[a0_0x5a7632(0x788)](_0x2f80eb,_0x349da2,_0x5df248,_0xa47532=!0x1,_0x3e7355=!0x1){const _0x32792d=a0_0x5a7632;_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x130)]||(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x130)]=[]);let _0x4ae638=(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x130)]?.[_0x32792d(0x4e4)]??0x0)+0x1,_0x5e47f0=_0x2f80eb[_0x32792d(0x423)]['blockLogs'][_0x32792d(0x669)](_0x27fdaf=>String(_0x27fdaf[_0x32792d(0x724)])===String(_0x349da2[_0x32792d(0x21b)]))['length']+0x1,_0x288f4f=_0x5df248?.['onTime']??Date[_0x32792d(0x73d)](),_0x3976e4=_0x5df248?.[_0x32792d(0x7aa)]?_0x5df248['errorLog']??_0x5df248[_0x32792d(0x7aa)][_0x32792d(0x1ce)]():void 0x0,_0x52b7c3={'onTime':_0x288f4f,'blockId':_0x349da2[_0x32792d(0x21b)],'order':_0x4ae638,'activatedCount':_0x5e47f0,'error':_0x5df248?.[_0x32792d(0x7aa)]??!0x1,'messageId':_0x5df248?.[_0x32792d(0x10c)],'apiResponse':_0x5df248?.['apiResponse'],'apiResponseString':_0x5df248?.[_0x32792d(0x2ab)]?JSON[_0x32792d(0x68d)](_0x5df248?.[_0x32792d(0x2ab)]):void 0x0,'variable':_0x5df248?.[_0x32792d(0x337)],'oldValue':_0x5df248?.[_0x32792d(0x1f3)],'newValue':_0x5df248?.['newValue'],'newStoppedUntil':_0x5df248?.['newStoppedUntil'],'moreLogs':_0x5df248?.[_0x32792d(0x79d)],'errorLog':_0x3976e4};if(_0x5df248[_0x32792d(0x79d)]&&_0x5df248[_0x32792d(0x79d)]['length']>0x0){let _0x3c2927=_0x5df248[_0x32792d(0x79d)][_0x32792d(0x2ca)](_0x2e8289=>this['replaceVariablesLogs'](_0x2e8289,_0x2f80eb[_0x32792d(0x423)]['realVariables']));_0x52b7c3[_0x32792d(0x79d)]=_0x3c2927;}_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x4c4)]||(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x4c4)]={}),_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x4c4)][_0x32792d(0x43b)]=String(_0x5e47f0),_0x2f80eb['chatLog'][_0x32792d(0x4c4)][_0x32792d(0x2c2)]=String(_0x5df248[_0x32792d(0x7aa)]??!0x1),_0x2f80eb['chatLog']['blockLogs'][_0x32792d(0x208)](_0x52b7c3),_0x2f80eb['chatLog'][_0x32792d(0x23c)]=_0x349da2['_id'][_0x32792d(0x1ce)](),_0x2f80eb['chatLog'][_0x32792d(0x668)]&&(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x668)]=_0x2f80eb['chatLog'][_0x32792d(0x668)]),_0x2f80eb['chatLog'][_0x32792d(0x69e)]&&(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x69e)]=_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x69e)]),_0x2f80eb['chatLog'][_0x32792d(0x443)]&&(_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x443)]=_0x2f80eb[_0x32792d(0x423)][_0x32792d(0x443)]),_0x3e7355&&(_0x2f80eb[_0x32792d(0x5cd)]='closed'),_0xa47532?this[_0x32792d(0x528)](_0x2f80eb):this[_0x32792d(0x391)](_0x2f80eb,_0x349da2);}[a0_0x5a7632(0x6bc)](_0x2d29a7,_0x338bd3){const _0x15f8bb=a0_0x5a7632;return _0x2d29a7['replace'](/\{\{([^}]+)\}\}/g,(_0x572578,_0xce684f)=>_0x338bd3[_0xce684f]?'{{'+_0xce684f+_0x15f8bb(0x12f)+_0x338bd3[_0xce684f]+'\x22':'{{'+_0xce684f+_0x15f8bb(0x4bd));}async[a0_0x5a7632(0x528)](_0x1acf4a){const _0x401b2c=a0_0x5a7632;try{let _0x10762f=Object[_0x401b2c(0x269)](_0x1acf4a[_0x401b2c(0x423)]['realVariables'])['map'](([_0x18bd97,_0x4e77c2])=>({'name':_0x18bd97,'value':_0x4e77c2})),_0x164dfc={'status':_0x1acf4a['status'],'blocks':_0x1acf4a['blocks'],'waitingMenu_id':_0x1acf4a[_0x401b2c(0x346)],'waitingMenu_text':_0x1acf4a['waitingMenu_text'],'waitingMenu_replyOptions':_0x1acf4a[_0x401b2c(0x4e5)],'chatLog':{'lastBlockId':_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x23c)],'lastSendMessage':_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x668)],'lastReceivedMessage':_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x69e)],'lastCondition':_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x443)],'chatVariables':_0x10762f,'realVariables':_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x4c4)],'blockLogs':_0x1acf4a['chatLog'][_0x401b2c(0x130)]}},_0x5f0bc8=await this[_0x401b2c(0x2d9)]['flowConversation'][_0x401b2c(0x406)](_0x1acf4a[_0x401b2c(0x21b)],_0x164dfc,this['instance'][_0x401b2c(0x6a2)]);if(_0x5f0bc8){this[_0x401b2c(0x22c)][_0x401b2c(0x140)](this[_0x401b2c(0x76b)]+'\x20('+this[_0x401b2c(0x35a)][_0x401b2c(0x6a2)]+_0x401b2c(0x473)+_0x5f0bc8[_0x401b2c(0x21b)]);try{let _0x4ebbbf=[_0x401b2c(0x16b),_0x401b2c(0x7ac),_0x401b2c(0x311),_0x401b2c(0x205),_0x401b2c(0x5cd),_0x401b2c(0x3dd),'responsavelid','tags',_0x401b2c(0x112)];if(!this['AutomateSystem']&&(await this[_0x401b2c(0x70c)](),!this[_0x401b2c(0x15d)]))throw new Error(_0x401b2c(0x14b));let _0x2f73fa=this[_0x401b2c(0x15d)]?.[_0x401b2c(0x2b5)]['map'](_0x56f109=>_0x56f109[_0x401b2c(0x510)]),_0x5e3193={};Object[_0x401b2c(0x269)](_0x1acf4a['chatLog'][_0x401b2c(0x4c4)])[_0x401b2c(0x16d)](([_0x3c5490,_0x1a11ef])=>{const _0x5e14b7=_0x401b2c;_0x4ebbbf[_0x5e14b7(0x3b6)](_0x3c5490)&&(_0x3c5490===_0x5e14b7(0x46e)&&typeof _0x1a11ef==_0x5e14b7(0x2dc)?_0x5e3193[_0x3c5490]=_0x1a11ef['split'](',')[_0x5e14b7(0x2ca)](_0x3e9d6b=>_0x3e9d6b['trim']())['filter'](_0x1ffb64=>_0x1ffb64!==''):_0x3c5490===_0x5e14b7(0x112)&&typeof _0x1a11ef==_0x5e14b7(0x2dc)?_0x5e3193[_0x3c5490]=_0x1a11ef[_0x5e14b7(0x323)](',')[_0x5e14b7(0x2ca)](_0x2478c0=>_0x2478c0['trim']())['filter'](_0x310b5b=>_0x310b5b!==''):_0x5e3193[_0x3c5490]=_0x1a11ef);});let _0xcd10f1=_0x1acf4a[_0x401b2c(0x423)][_0x401b2c(0x130)][_0x1acf4a['chatLog'][_0x401b2c(0x130)][_0x401b2c(0x4e4)]-0x1];if(_0xcd10f1){let _0x1266ed=_0xcd10f1['newStoppedUntil'];_0x1266ed!==void 0x0&&(_0x5e3193['desativadoFluxoAte']=_0x1266ed['toString']());}let _0x506473=_0x10762f[_0x401b2c(0x669)](_0x800efc=>_0x2f73fa[_0x401b2c(0x3b6)](_0x800efc[_0x401b2c(0x510)]));this[_0x401b2c(0x22c)][_0x401b2c(0x140)](this['instanceName']+'\x20('+this[_0x401b2c(0x35a)]['wuid']+_0x401b2c(0x3d1)),this[_0x401b2c(0x22c)][_0x401b2c(0x140)](_0x5e3193),this[_0x401b2c(0x22c)][_0x401b2c(0x140)](this['instanceName']+'\x20('+this[_0x401b2c(0x35a)][_0x401b2c(0x6a2)]+_0x401b2c(0x3ea)),this[_0x401b2c(0x22c)][_0x401b2c(0x140)](_0x506473);let _0x2f8f90=_0x506473[_0x401b2c(0x2ca)](_0x4455e=>{const _0x348e48=_0x401b2c;let _0x404191=this[_0x348e48(0x15d)]?.['customFields'][_0x348e48(0x6c4)](_0xbd6aa3=>_0xbd6aa3[_0x348e48(0x510)]===_0x4455e[_0x348e48(0x510)]);if(!_0x404191)throw new Error(_0x348e48(0x4b9)+_0x4455e['name']);return{'_id':_0x404191[_0x348e48(0x21b)],'value':_0x4455e['value']};});this[_0x401b2c(0x22c)][_0x401b2c(0x140)](this[_0x401b2c(0x76b)]+'\x20('+this[_0x401b2c(0x35a)][_0x401b2c(0x6a2)]+_0x401b2c(0x5c0)),this['logger'][_0x401b2c(0x140)](_0x2f8f90),await this[_0x401b2c(0x54e)](_0x1acf4a[_0x401b2c(0x619)],_0x5e3193,_0x2f8f90);}catch(_0x1fa424){this[_0x401b2c(0x22c)]['error'](this[_0x401b2c(0x76b)]+'\x20('+this[_0x401b2c(0x35a)]['wuid']+_0x401b2c(0x685)+(_0x1fa424 instanceof Error?_0x1fa424[_0x401b2c(0x6f6)]:JSON['stringify'](_0x1fa424,null,0x2)));}}else this['logger'][_0x401b2c(0x7aa)](this['instanceName']+'\x20('+this['instance'][_0x401b2c(0x6a2)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x121dfb){this[_0x401b2c(0x22c)]['error'](this[_0x401b2c(0x76b)]+'\x20('+this[_0x401b2c(0x35a)][_0x401b2c(0x6a2)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x121dfb instanceof Error?_0x121dfb[_0x401b2c(0x6f6)]:JSON[_0x401b2c(0x68d)](_0x121dfb,null,0x2)));}}async[a0_0x5a7632(0x54e)](_0x5a6e52,_0x141743,_0x2763ad){const _0x2b393a=a0_0x5a7632;try{let _0x298700={'leadInfo.leadnome':_0x141743[_0x2b393a(0x16b)],'leadInfo.nomecompleto':_0x141743[_0x2b393a(0x7ac)],'leadInfo.email':_0x141743['email'],'leadInfo.cpf':_0x141743[_0x2b393a(0x205)],'leadInfo.status':_0x141743[_0x2b393a(0x5cd)],'leadInfo.notas':_0x141743['notas'],'leadInfo.responsavelid':_0x141743[_0x2b393a(0x6c6)],'leadInfo.tags':_0x141743[_0x2b393a(0x46e)],'leadInfo.etiquetas':_0x141743['etiquetas'],'leadInfo.customFields':_0x2763ad},_0x5efffe=await this[_0x2b393a(0x2d9)][_0x2b393a(0x458)][_0x2b393a(0x48e)]({'where':{'_id':_0x5a6e52}},this['instance'][_0x2b393a(0x6a2)]),_0x8c77cf=new Set(_0x5efffe[_0x2b393a(0x643)][_0x2b393a(0x112)]||[]),_0x3dce3a=new Set(_0x141743[_0x2b393a(0x112)]||[]),_0x67799c=await this['repository'][_0x2b393a(0x63b)]['find']({'where':{}},this[_0x2b393a(0x35a)][_0x2b393a(0x6a2)]),_0x1a3e35=new Set(_0x67799c[_0x2b393a(0x2ca)](_0x290da7=>_0x290da7[_0x2b393a(0x21b)])),_0x12c9e8=[..._0x3dce3a][_0x2b393a(0x669)](_0x1ef168=>!_0x8c77cf[_0x2b393a(0x167)](_0x1ef168)&&_0x1a3e35[_0x2b393a(0x167)](_0x1ef168)),_0x1576c5=[..._0x8c77cf][_0x2b393a(0x669)](_0x4dd85d=>!_0x3dce3a['has'](_0x4dd85d));for(let _0x4d777e of _0x12c9e8)await this[_0x2b393a(0x2ba)](_0x4d777e,_0x5efffe[_0x2b393a(0x21b)]),_0x8c77cf[_0x2b393a(0x17b)](_0x4d777e);for(let _0x10468a of _0x1576c5)await this['RemoveChatLabel'](_0x10468a,_0x5efffe[_0x2b393a(0x21b)]),_0x8c77cf[_0x2b393a(0x7af)](_0x10468a);if(_0x2b393a(0x592)in _0x141743){let _0x23572c=_0x141743[_0x2b393a(0x592)];_0x298700[_0x2b393a(0x4b8)]=_0x23572c?Number(_0x23572c):null;}let _0x4a3163=await this[_0x2b393a(0x2d9)][_0x2b393a(0x458)][_0x2b393a(0x406)]({'where':{'_id':_0x5a6e52}},_0x298700,this[_0x2b393a(0x35a)][_0x2b393a(0x6a2)]);_0x4a3163?(this[_0x2b393a(0x22c)]['verbose'](this['instanceName']+'\x20('+this[_0x2b393a(0x35a)][_0x2b393a(0x6a2)]+_0x2b393a(0x76e)+_0x4a3163[_0x2b393a(0x21b)]),q(this[_0x2b393a(0x76b)],'chats',{'chat':_0x4a3163})):this[_0x2b393a(0x22c)]['error'](this[_0x2b393a(0x76b)]+'\x20('+this[_0x2b393a(0x35a)][_0x2b393a(0x6a2)]+_0x2b393a(0x745));}catch(_0x5efa5a){this['logger'][_0x2b393a(0x7aa)](this[_0x2b393a(0x76b)]+'\x20('+this[_0x2b393a(0x35a)][_0x2b393a(0x6a2)]+_0x2b393a(0x491)+(_0x5efa5a instanceof Error?_0x5efa5a[_0x2b393a(0x6f6)]:JSON['stringify'](_0x5efa5a,null,0x2)));}}async[a0_0x5a7632(0x2a4)](_0x55130d,_0x5ef3e0){const _0x204a98=a0_0x5a7632;this[_0x204a98(0x22c)][_0x204a98(0x140)](this[_0x204a98(0x76b)]+'\x20('+this[_0x204a98(0x35a)][_0x204a98(0x6a2)]+_0x204a98(0x35c)+_0x5ef3e0);try{let _0x20a1b7=await this[_0x204a98(0x2d9)]['chat'][_0x204a98(0x406)]({'where':{'_id':_0x55130d['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x5ef3e0},this[_0x204a98(0x35a)][_0x204a98(0x6a2)]);this[_0x204a98(0x22c)]['verbose'](this[_0x204a98(0x76b)]+'\x20('+this['instance'][_0x204a98(0x6a2)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x55130d[_0x204a98(0x21b)]),this[_0x204a98(0x22c)][_0x204a98(0x140)](this[_0x204a98(0x76b)]+'\x20('+this['instance'][_0x204a98(0x6a2)]+'):\x20atualização\x20chat:\x20'+JSON[_0x204a98(0x68d)](_0x20a1b7,null,0x2)),_0x20a1b7&&q(this[_0x204a98(0x76b)],_0x204a98(0x2ec),{'chat':_0x20a1b7});}catch(_0x3a88da){this['logger'][_0x204a98(0x7aa)](this[_0x204a98(0x76b)]+'\x20('+this[_0x204a98(0x35a)][_0x204a98(0x6a2)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x3a88da instanceof Error?_0x3a88da['message']:JSON[_0x204a98(0x68d)](_0x3a88da,null,0x2)));}}async[a0_0x5a7632(0x6fc)](_0x724252){const _0x39438c=a0_0x5a7632;try{this['logger']['verbose'](this[_0x39438c(0x76b)]+'\x20('+this['instance'][_0x39438c(0x6a2)]+_0x39438c(0x460));let _0x30ae1c=_0x724252[_0x39438c(0x23d)](/\D/g,''),_0x37cc13=await this[_0x39438c(0x2d9)][_0x39438c(0x518)]['findOne']({'where':{'testingWith':_0x30ae1c}},this[_0x39438c(0x35a)][_0x39438c(0x6a2)]);return _0x37cc13||(this[_0x39438c(0x22c)][_0x39438c(0x140)](this[_0x39438c(0x76b)]+'\x20('+this[_0x39438c(0x35a)][_0x39438c(0x6a2)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x37cc13=await this[_0x39438c(0x2d9)]['flow'][_0x39438c(0x48e)]({'where':{'default':!0x0}},this[_0x39438c(0x35a)]['wuid'])),_0x37cc13||(this[_0x39438c(0x22c)][_0x39438c(0x140)](this['instanceName']+'\x20('+this[_0x39438c(0x35a)][_0x39438c(0x6a2)]+_0x39438c(0x670)),null);}catch(_0x228fcb){return this[_0x39438c(0x22c)]['error'](this[_0x39438c(0x76b)]+'\x20('+this[_0x39438c(0x35a)][_0x39438c(0x6a2)]+_0x39438c(0x516)+(_0x228fcb instanceof Error?_0x228fcb[_0x39438c(0x6f6)]:JSON[_0x39438c(0x68d)](_0x228fcb,null,0x2))),null;}}async[a0_0x5a7632(0x49d)](_0x1f4cd9,_0x28c3cf){const _0x3d6b88=a0_0x5a7632;try{let _0x4d1c81=!!_0x28c3cf['vote'],_0x2276fe=_0x28c3cf[_0x3d6b88(0x257)],_0xa35fcc=null;if(this[_0x3d6b88(0x22c)]['verbose'](this[_0x3d6b88(0x76b)]+'\x20('+this['instance']['wuid']+_0x3d6b88(0x2e2)+_0x4d1c81+'\x20quoted:\x20'+_0x2276fe),_0x4d1c81){this[_0x3d6b88(0x22c)][_0x3d6b88(0x140)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x2b6));let _0x164e53={'where':{'remoteJid':_0x1f4cd9,'waitingMenu_id':_0x2276fe}};if(_0xa35fcc=await this[_0x3d6b88(0x2d9)][_0x3d6b88(0x6e6)][_0x3d6b88(0x48e)](_0x164e53,this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]),!_0xa35fcc)return this['logger']['verbose'](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x534)),null;let _0x16b91f=Date[_0x3d6b88(0x73d)](),_0x3ddad3=_0xa35fcc?.[_0x3d6b88(0x775)]||0x0,_0x3bca1b=_0x16b91f-_0x3ddad3*0x3c*0x3e8;if(_0xa35fcc[_0x3d6b88(0x50a)]<_0x3bca1b){this[_0x3d6b88(0x22c)][_0x3d6b88(0x140)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x3d9));let _0x4c1577={'number':_0xa35fcc[_0x3d6b88(0x619)],'options':{'delay':0x0},'textMessage':{'text':_0xa35fcc['waitingMenu_ExpiredMessage']}};await this[_0x3d6b88(0x695)](_0x4c1577);let _0xfe7747={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3d6b88(0x2d9)][_0x3d6b88(0x6e6)][_0x3d6b88(0x406)](_0xa35fcc[_0x3d6b88(0x21b)],_0xfe7747,this['instance']['wuid']),null;}return _0xa35fcc[_0x3d6b88(0x50a)]=Date[_0x3d6b88(0x73d)](),_0xa35fcc[_0x3d6b88(0x423)][_0x3d6b88(0x69e)]=_0x28c3cf,_0xa35fcc;}else{this[_0x3d6b88(0x22c)]['verbose'](this['instanceName']+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x2f8)+this[_0x3d6b88(0x35a)]['wuid']+_0x3d6b88(0x4d3)),this[_0x3d6b88(0x22c)][_0x3d6b88(0x140)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x599));let _0x190b61={'where':{'remoteJid':_0x1f4cd9,'status':_0x3d6b88(0x29a)}};if(_0xa35fcc=await this[_0x3d6b88(0x2d9)][_0x3d6b88(0x6e6)]['findOne'](_0x190b61,this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]),!_0xa35fcc){let _0x345f1e=await this['findFlow'](_0x1f4cd9);if(_0x345f1e&&(_0xa35fcc=await this[_0x3d6b88(0x3f5)](_0x345f1e,_0x28c3cf['key'],_0x28c3cf)),!_0xa35fcc)return null;}let _0x3e2f46=Date[_0x3d6b88(0x73d)](),_0x43a2f6=_0xa35fcc?.[_0x3d6b88(0x775)]||0x0,_0x3b491d=_0x3e2f46-_0x43a2f6*0x3c*0x3e8;if(this[_0x3d6b88(0x22c)]['verbose'](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x128)+_0x3e2f46+_0x3d6b88(0x14d)+_0x43a2f6+_0x3d6b88(0x5e0)+_0x3b491d),this['logger']['verbose'](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x175)),this[_0x3d6b88(0x22c)]['verbose'](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)]['wuid']+_0x3d6b88(0x61a)+_0xa35fcc[_0x3d6b88(0x50a)]),this['logger'][_0x3d6b88(0x140)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x572)+_0x3b491d),_0xa35fcc[_0x3d6b88(0x50a)]<_0x3b491d){this['logger'][_0x3d6b88(0x140)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0xf1));let _0x1c5d67=await this[_0x3d6b88(0x6fc)](_0x1f4cd9);if(_0x1c5d67===null)return null;_0xa35fcc&&await this[_0x3d6b88(0x2d9)][_0x3d6b88(0x6e6)][_0x3d6b88(0x406)](_0xa35fcc[_0x3d6b88(0x21b)],{'status':_0x3d6b88(0x32a)},this[_0x3d6b88(0x35a)]['wuid']),_0xa35fcc=await this[_0x3d6b88(0x3f5)](_0x1c5d67,_0x28c3cf[_0x3d6b88(0x331)],_0x28c3cf);}return _0xa35fcc['lastInteraction']=_0x3e2f46,_0xa35fcc[_0x3d6b88(0x423)][_0x3d6b88(0x69e)]=_0x28c3cf,_0xa35fcc;}}catch(_0x3720bb){return this[_0x3d6b88(0x22c)][_0x3d6b88(0x7aa)](this[_0x3d6b88(0x76b)]+'\x20('+this[_0x3d6b88(0x35a)][_0x3d6b88(0x6a2)]+_0x3d6b88(0x627)+(_0x3720bb instanceof Error?_0x3720bb[_0x3d6b88(0x6f6)]:JSON['stringify'](_0x3720bb,null,0x2))),null;}}async['createNewConversation'](_0x4645b1,_0x3afbd1,_0x3e8d3d){const _0xf8475f=a0_0x5a7632;this[_0xf8475f(0x22c)][_0xf8475f(0x140)](this[_0xf8475f(0x76b)]+'\x20('+this['instance'][_0xf8475f(0x6a2)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x359102=require(_0xf8475f(0x207))[_0xf8475f(0x291)],_0x43aae8=Date[_0xf8475f(0x73d)](),_0x1cf614='start',_0x2a3543=_0x3afbd1[_0xf8475f(0x41c)]?null:_0x3e8d3d,_0x129a77=_0x3afbd1[_0xf8475f(0x41c)]?_0x3e8d3d:null,_0x5b1e2c=_0x3afbd1[_0xf8475f(0x619)];await this[_0xf8475f(0x464)](_0x5b1e2c);let _0x93e521={..._0x4645b1,'chatLog':null},_0x167ee4=await this[_0xf8475f(0x16a)](_0x93e521[_0xf8475f(0x7a4)]),_0x2ef6aa=await this[_0xf8475f(0x11e)](_0x5b1e2c),_0x39af44={..._0x167ee4,..._0x2ef6aa,'_remoteJid':_0x5b1e2c},_0x15d901={'lastReceivedMessage':_0x2a3543,'lastSendMessage':_0x129a77,'lastBlockId':_0x1cf614,'lastCondition':!0x0,'realVariables':_0x39af44};_0x93e521['chatLog']=_0x15d901,delete _0x93e521[_0xf8475f(0x21b)],_0x93e521[_0xf8475f(0x21b)]=new _0x359102(),_0x93e521[_0xf8475f(0x50a)]=_0x43aae8,_0x93e521[_0xf8475f(0x5cd)]=_0xf8475f(0x29a),_0x93e521[_0xf8475f(0x619)]=_0x5b1e2c;let _0x130587=await this[_0xf8475f(0x2d9)]['flowConversation']['updateOne'](_0x93e521[_0xf8475f(0x21b)],_0x93e521,this[_0xf8475f(0x35a)][_0xf8475f(0x6a2)]);return this[_0xf8475f(0x22c)]['verbose'](this[_0xf8475f(0x76b)]+'\x20('+this[_0xf8475f(0x35a)][_0xf8475f(0x6a2)]+_0xf8475f(0x411)),_0x130587?_0x93e521:null;}catch(_0x34b9f3){return this[_0xf8475f(0x22c)][_0xf8475f(0x7aa)](this[_0xf8475f(0x76b)]+'\x20('+this[_0xf8475f(0x35a)]['wuid']+_0xf8475f(0x482)+(_0x34b9f3 instanceof Error?_0x34b9f3[_0xf8475f(0x6f6)]:JSON[_0xf8475f(0x68d)](_0x34b9f3,null,0x2))),_0x34b9f3;}}async['uazapiSendText'](_0x38b42e,_0x101d93){const _0x52f1bc=a0_0x5a7632;let _0x2c68d7=_0x38b42e['remoteJid'];_0x101d93[_0x52f1bc(0x21f)][_0x52f1bc(0x619)]&&_0x101d93[_0x52f1bc(0x21f)][_0x52f1bc(0x619)][_0x52f1bc(0x549)]()!==''&&(_0x2c68d7=_0x101d93[_0x52f1bc(0x21f)][_0x52f1bc(0x619)][_0x52f1bc(0x549)]()),this[_0x52f1bc(0x22c)]['verbose'](this[_0x52f1bc(0x76b)]+'\x20('+this[_0x52f1bc(0x35a)][_0x52f1bc(0x6a2)]+_0x52f1bc(0x254));let _0x36f5b4={'number':_0x2c68d7,'options':{'delay':_0x101d93['uazapi'][_0x52f1bc(0x699)]},'textMessage':{'text':_0x101d93[_0x52f1bc(0x21f)]['text']}};try{let _0xed6224=await this[_0x52f1bc(0x695)](_0x36f5b4);if(_0xed6224){let _0x13f042={'_id':_0xed6224['key']['id'],'_fromMe':_0xed6224[_0x52f1bc(0x331)][_0x52f1bc(0x41c)],'_remoteJid':_0xed6224['key']['remoteJid']},_0x4cad80=(0x0,m[_0x52f1bc(0x6d5)])(_0xed6224[_0x52f1bc(0x6f6)]),_0x41f243=(0x0,m[_0x52f1bc(0x709)])(_0x4cad80);_0x38b42e[_0x52f1bc(0x423)][_0x52f1bc(0x23c)]=_0x101d93['_id'][_0x52f1bc(0x1ce)]();let {message_normalized:_0x2ff795}=this[_0x52f1bc(0x5ab)](_0x4cad80,_0x41f243,null);_0x38b42e['chatLog']['lastSendMessage']=await _0x2ff795;let _0x4c3b6b={'messageId':_0xed6224['key']['id']},_0x3a3e0f=_0x38b42e[_0x52f1bc(0x423)]['realVariables'];Object[_0x52f1bc(0x58f)](_0x3a3e0f,_0x13f042),_0x38b42e[_0x52f1bc(0x423)][_0x52f1bc(0x4c4)]=_0x3a3e0f,this['updateConversation'](_0x38b42e,_0x101d93,_0x4c3b6b);}else{let _0x5626f7={'error':!0x0};this[_0x52f1bc(0x788)](_0x38b42e,_0x101d93,_0x5626f7),this[_0x52f1bc(0x22c)][_0x52f1bc(0x7aa)](this[_0x52f1bc(0x76b)]+'\x20('+this[_0x52f1bc(0x35a)]['wuid']+_0x52f1bc(0x430));}}catch(_0x167809){let _0x4f0f64={'error':!0x0,'errorLog':_0x167809['toString']()};this[_0x52f1bc(0x788)](_0x38b42e,_0x101d93,_0x4f0f64),this[_0x52f1bc(0x22c)][_0x52f1bc(0x7aa)](this[_0x52f1bc(0x76b)]+'\x20('+this['instance'][_0x52f1bc(0x6a2)]+_0x52f1bc(0x197)+(_0x167809 instanceof Error?_0x167809[_0x52f1bc(0x6f6)]:JSON[_0x52f1bc(0x68d)](_0x167809,null,0x2)));}}async[a0_0x5a7632(0x589)](_0x416823,_0x1d6cec){const _0x38988f=a0_0x5a7632;let _0x121bc9=_0x416823[_0x38988f(0x619)];_0x1d6cec['uazapi'][_0x38988f(0x619)]&&_0x1d6cec['uazapi'][_0x38988f(0x619)][_0x38988f(0x549)]()!==''&&(_0x121bc9=_0x1d6cec['uazapi'][_0x38988f(0x619)]['trim']()),this['logger'][_0x38988f(0x140)](this[_0x38988f(0x76b)]+'\x20('+this[_0x38988f(0x35a)][_0x38988f(0x6a2)]+_0x38988f(0x24a));let _0x26af57={'number':_0x121bc9,'options':{'delay':_0x1d6cec[_0x38988f(0x21f)][_0x38988f(0x699)]},'mediaMessage':{'mediatype':_0x1d6cec[_0x38988f(0x21f)]['mediatype'],'caption':_0x1d6cec[_0x38988f(0x21f)]['caption'],'media':_0x1d6cec[_0x38988f(0x21f)][_0x38988f(0x693)],'fileName':_0x1d6cec[_0x38988f(0x21f)]['fileName']}};try{let _0x379d33=await this[_0x38988f(0x2ae)](_0x26af57);if(_0x379d33){let _0x264626={'_id':_0x379d33['key']['id'],'_fromMe':_0x379d33[_0x38988f(0x331)][_0x38988f(0x41c)],'_remoteJid':_0x379d33['key'][_0x38988f(0x619)]},_0x2a064c=(0x0,m[_0x38988f(0x6d5)])(_0x379d33[_0x38988f(0x6f6)]),_0x61a656=(0x0,m[_0x38988f(0x709)])(_0x2a064c);_0x416823['chatLog'][_0x38988f(0x23c)]=_0x1d6cec[_0x38988f(0x21b)][_0x38988f(0x1ce)]();let {message_normalized:_0x56218d}=this[_0x38988f(0x5ab)](_0x2a064c,_0x61a656,null);_0x416823[_0x38988f(0x423)]['lastSendMessage']=await _0x56218d;let _0x4c851d={'messageId':_0x379d33[_0x38988f(0x331)]['id']},_0x3edfa5=_0x416823[_0x38988f(0x423)][_0x38988f(0x4c4)];Object[_0x38988f(0x58f)](_0x3edfa5,_0x264626),_0x416823[_0x38988f(0x423)]['realVariables']=_0x3edfa5,this[_0x38988f(0x788)](_0x416823,_0x1d6cec,_0x4c851d);}else{let _0x212cf0={'error':!0x0};this[_0x38988f(0x788)](_0x416823,_0x1d6cec,_0x212cf0),this[_0x38988f(0x22c)][_0x38988f(0x7aa)](this[_0x38988f(0x76b)]+'\x20('+this[_0x38988f(0x35a)][_0x38988f(0x6a2)]+_0x38988f(0x2a8));}}catch(_0x12e281){let _0x44d605={'error':!0x0,'errorLog':_0x12e281['toString']()};this[_0x38988f(0x788)](_0x416823,_0x1d6cec,_0x44d605),this[_0x38988f(0x22c)][_0x38988f(0x7aa)](this[_0x38988f(0x76b)]+'\x20('+this[_0x38988f(0x35a)][_0x38988f(0x6a2)]+_0x38988f(0x161)+(_0x12e281 instanceof Error?_0x12e281[_0x38988f(0x6f6)]:JSON[_0x38988f(0x68d)](_0x12e281,null,0x2)));}}async[a0_0x5a7632(0x60e)](_0x593ddb,_0x5402e5){const _0x3dfa44=a0_0x5a7632;let _0x25403a=_0x593ddb[_0x3dfa44(0x619)];_0x5402e5[_0x3dfa44(0x21f)][_0x3dfa44(0x619)]&&_0x5402e5[_0x3dfa44(0x21f)]['remoteJid'][_0x3dfa44(0x549)]()!==''&&(_0x25403a=_0x5402e5[_0x3dfa44(0x21f)][_0x3dfa44(0x619)]['trim']()),this[_0x3dfa44(0x22c)][_0x3dfa44(0x140)](this[_0x3dfa44(0x76b)]+'\x20('+this['instance'][_0x3dfa44(0x6a2)]+_0x3dfa44(0x190));let _0x17b707={'number':_0x25403a,'options':{'delay':_0x5402e5['uazapi']['delay']},'locationMessage':{'name':_0x5402e5[_0x3dfa44(0x21f)]['name'],'address':_0x5402e5[_0x3dfa44(0x21f)][_0x3dfa44(0x786)],'latitude':_0x5402e5[_0x3dfa44(0x21f)][_0x3dfa44(0x14e)],'longitude':_0x5402e5[_0x3dfa44(0x21f)][_0x3dfa44(0x40a)]}};try{let _0x28cf1d=await this[_0x3dfa44(0x525)](_0x17b707);if(_0x28cf1d){let _0x5dd770={'_id':_0x28cf1d['key']['id'],'_fromMe':_0x28cf1d[_0x3dfa44(0x331)][_0x3dfa44(0x41c)],'_remoteJid':_0x28cf1d[_0x3dfa44(0x331)][_0x3dfa44(0x619)]},_0x270db5=(0x0,m[_0x3dfa44(0x6d5)])(_0x28cf1d[_0x3dfa44(0x6f6)]),_0x282447=(0x0,m[_0x3dfa44(0x709)])(_0x270db5);_0x593ddb['chatLog'][_0x3dfa44(0x23c)]=_0x5402e5['_id'][_0x3dfa44(0x1ce)]();let {message_normalized:_0x3808ef}=this[_0x3dfa44(0x5ab)](_0x270db5,_0x282447,null);_0x593ddb['chatLog']['lastSendMessage']=await _0x3808ef;let _0x385208={'messageId':_0x28cf1d[_0x3dfa44(0x331)]['id']},_0x5d2dd8=_0x593ddb[_0x3dfa44(0x423)][_0x3dfa44(0x4c4)];Object[_0x3dfa44(0x58f)](_0x5d2dd8,_0x5dd770),_0x593ddb['chatLog'][_0x3dfa44(0x4c4)]=_0x5d2dd8,this[_0x3dfa44(0x788)](_0x593ddb,_0x5402e5,_0x385208);}else{let _0x5219a7={'error':!0x0};this[_0x3dfa44(0x788)](_0x593ddb,_0x5402e5,_0x5219a7),this['logger'][_0x3dfa44(0x7aa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3dfa44(0x152));}}catch(_0x154152){let _0x339497={'error':!0x0,'errorLog':_0x154152[_0x3dfa44(0x1ce)]()};this[_0x3dfa44(0x788)](_0x593ddb,_0x5402e5,_0x339497),this['logger'][_0x3dfa44(0x7aa)](this['instanceName']+'\x20('+this[_0x3dfa44(0x35a)][_0x3dfa44(0x6a2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x154152 instanceof Error?_0x154152[_0x3dfa44(0x6f6)]:JSON[_0x3dfa44(0x68d)](_0x154152,null,0x2)));}}async[a0_0x5a7632(0x20a)](_0x1121f3,_0x1a3e33){const _0x38a87c=a0_0x5a7632;let _0x363c5c=_0x1121f3[_0x38a87c(0x619)];_0x1a3e33[_0x38a87c(0x21f)]['remoteJid']&&_0x1a3e33[_0x38a87c(0x21f)]['remoteJid'][_0x38a87c(0x549)]()!==''&&(_0x363c5c=_0x1a3e33['uazapi'][_0x38a87c(0x619)][_0x38a87c(0x549)]()),this[_0x38a87c(0x22c)][_0x38a87c(0x140)](this[_0x38a87c(0x76b)]+'\x20('+this[_0x38a87c(0x35a)][_0x38a87c(0x6a2)]+_0x38a87c(0x544));let _0x41bedc={'number':_0x363c5c,'options':{'delay':_0x1a3e33[_0x38a87c(0x21f)][_0x38a87c(0x699)]},'audioMessage':{'audio':_0x1a3e33[_0x38a87c(0x21f)]['audio']}};try{let _0x216960=await this[_0x38a87c(0x30b)](_0x41bedc);if(_0x216960){let _0x1427e8={'_id':_0x216960[_0x38a87c(0x331)]['id'],'_fromMe':_0x216960[_0x38a87c(0x331)][_0x38a87c(0x41c)],'_remoteJid':_0x216960[_0x38a87c(0x331)][_0x38a87c(0x619)]},_0x1fda96=(0x0,m[_0x38a87c(0x6d5)])(_0x216960['message']),_0x161557=(0x0,m[_0x38a87c(0x709)])(_0x1fda96);_0x1121f3[_0x38a87c(0x423)]['lastBlockId']=_0x1a3e33[_0x38a87c(0x21b)]['toString']();let {message_normalized:_0x4d8024}=this[_0x38a87c(0x5ab)](_0x1fda96,_0x161557,null);_0x1121f3[_0x38a87c(0x423)][_0x38a87c(0x668)]=await _0x4d8024;let _0x1f42c1={'messageId':_0x216960[_0x38a87c(0x331)]['id']},_0x34de4b=_0x1121f3[_0x38a87c(0x423)][_0x38a87c(0x4c4)];Object[_0x38a87c(0x58f)](_0x34de4b,_0x1427e8),_0x1121f3[_0x38a87c(0x423)]['realVariables']=_0x34de4b,this[_0x38a87c(0x788)](_0x1121f3,_0x1a3e33,_0x1f42c1);}else{let _0x18022c={'error':!0x0};this[_0x38a87c(0x788)](_0x1121f3,_0x1a3e33,_0x18022c),this['logger'][_0x38a87c(0x7aa)](this[_0x38a87c(0x76b)]+'\x20('+this[_0x38a87c(0x35a)][_0x38a87c(0x6a2)]+_0x38a87c(0x3a2));}}catch(_0x16a281){let _0x1a9599={'error':!0x0,'errorLog':_0x16a281[_0x38a87c(0x1ce)]()};this[_0x38a87c(0x788)](_0x1121f3,_0x1a3e33,_0x1a9599),this[_0x38a87c(0x22c)]['error'](this[_0x38a87c(0x76b)]+'\x20('+this[_0x38a87c(0x35a)]['wuid']+_0x38a87c(0x715)+(_0x16a281 instanceof Error?_0x16a281[_0x38a87c(0x6f6)]:JSON[_0x38a87c(0x68d)](_0x16a281,null,0x2)));}}async[a0_0x5a7632(0x3d3)](_0x16b37c,_0x295a86){const _0x3e4fab=a0_0x5a7632;let _0x53a292=_0x16b37c[_0x3e4fab(0x619)];_0x295a86[_0x3e4fab(0x21f)][_0x3e4fab(0x619)]&&_0x295a86['uazapi'][_0x3e4fab(0x619)][_0x3e4fab(0x549)]()!==''&&(_0x53a292=_0x295a86[_0x3e4fab(0x21f)][_0x3e4fab(0x619)]['trim']()),this['logger'][_0x3e4fab(0x140)](this['instanceName']+'\x20('+this[_0x3e4fab(0x35a)]['wuid']+_0x3e4fab(0x3a7));let _0xb1264a={'number':_0x53a292,'options':{'delay':_0x295a86[_0x3e4fab(0x21f)][_0x3e4fab(0x699)]},'contactMessage':[{'fullName':_0x295a86[_0x3e4fab(0x21f)][_0x3e4fab(0x1ed)],'phoneNumber':_0x295a86[_0x3e4fab(0x21f)][_0x3e4fab(0x35d)]}]};try{let _0x3650a3=await this[_0x3e4fab(0x714)](_0xb1264a);if(_0x3650a3){let _0x2cc6c1={'_id':_0x3650a3[_0x3e4fab(0x331)]['id'],'_fromMe':_0x3650a3[_0x3e4fab(0x331)]['fromMe'],'_remoteJid':_0x3650a3[_0x3e4fab(0x331)][_0x3e4fab(0x619)]},_0x57f47b=(0x0,m[_0x3e4fab(0x6d5)])(_0x3650a3['message']),_0x364be7=(0x0,m[_0x3e4fab(0x709)])(_0x57f47b);_0x16b37c[_0x3e4fab(0x423)][_0x3e4fab(0x23c)]=_0x295a86[_0x3e4fab(0x21b)][_0x3e4fab(0x1ce)]();let {message_normalized:_0x37f07f}=this[_0x3e4fab(0x5ab)](_0x57f47b,_0x364be7,null);_0x16b37c[_0x3e4fab(0x423)][_0x3e4fab(0x668)]=await _0x37f07f;let _0x53efa3={'messageId':_0x3650a3['key']['id']},_0x3383d0=_0x16b37c[_0x3e4fab(0x423)][_0x3e4fab(0x4c4)];Object['assign'](_0x3383d0,_0x2cc6c1),_0x16b37c['chatLog']['realVariables']=_0x3383d0,this[_0x3e4fab(0x788)](_0x16b37c,_0x295a86,_0x53efa3);}else{let _0x1b023f={'error':!0x0};this[_0x3e4fab(0x788)](_0x16b37c,_0x295a86,_0x1b023f),this[_0x3e4fab(0x22c)][_0x3e4fab(0x7aa)](this[_0x3e4fab(0x76b)]+'\x20('+this[_0x3e4fab(0x35a)][_0x3e4fab(0x6a2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x9331c4){let _0x1c9007={'error':!0x0,'errorLog':_0x9331c4['toString']()};this[_0x3e4fab(0x788)](_0x16b37c,_0x295a86,_0x1c9007),this['logger'][_0x3e4fab(0x7aa)](this[_0x3e4fab(0x76b)]+'\x20('+this[_0x3e4fab(0x35a)][_0x3e4fab(0x6a2)]+_0x3e4fab(0x608)+(_0x9331c4 instanceof Error?_0x9331c4[_0x3e4fab(0x6f6)]:JSON[_0x3e4fab(0x68d)](_0x9331c4,null,0x2)));}}[a0_0x5a7632(0x2bd)](_0x148917,_0x49393e){const _0x5be773=a0_0x5a7632;for(let _0x5b7b10 of _0x148917)_0x5b7b10[_0x5be773(0x19d)]&&(_0x5b7b10['option']=this[_0x5be773(0x3b3)](_0x5b7b10[_0x5be773(0x19d)],_0x49393e)),_0x5b7b10[_0x5be773(0x706)]&&(_0x5b7b10[_0x5be773(0x706)]=this[_0x5be773(0x3b3)](_0x5b7b10['optionDescription'],_0x49393e));}async[a0_0x5a7632(0x55a)](_0x5108a7,_0xab4291){const _0x336b81=a0_0x5a7632;let _0x105022=_0x5108a7[_0x336b81(0x619)];_0xab4291[_0x336b81(0x21f)][_0x336b81(0x619)]&&_0xab4291[_0x336b81(0x21f)]['remoteJid'][_0x336b81(0x549)]()!==''&&(_0x105022=_0xab4291[_0x336b81(0x21f)]['remoteJid'][_0x336b81(0x549)]()),this[_0x336b81(0x22c)][_0x336b81(0x140)](this['instanceName']+'\x20('+this[_0x336b81(0x35a)][_0x336b81(0x6a2)]+'):\x20Enviando\x20enquete');let _0x36e596=_0x5108a7['replyOptions'][_0x336b81(0x669)](_0x18b66f=>_0x18b66f['blockId']===_0xab4291[_0x336b81(0x21b)])[_0x336b81(0x155)]((_0x263244,_0x52d744)=>_0x263244[_0x336b81(0x158)]-_0x52d744['order']);this[_0x336b81(0x2bd)](_0x36e596,_0x5108a7[_0x336b81(0x423)][_0x336b81(0x4c4)]);let _0x40741c=_0x36e596[_0x336b81(0x2ca)](_0x126020=>_0x126020[_0x336b81(0x19d)]),_0x1cce8e={'number':_0x105022,'menuMessage':{'type':_0xab4291[_0x336b81(0x21f)][_0x336b81(0x571)]||_0x336b81(0x348),'text':_0xab4291['uazapi']['text']||_0xab4291[_0x336b81(0x21f)]['name'],'footerText':_0xab4291['uazapi'][_0x336b81(0x20e)],'buttonText':_0xab4291[_0x336b81(0x21f)][_0x336b81(0x224)],'selectableCount':0x1,'choices':_0x40741c},'options':{'delay':_0xab4291[_0x336b81(0x21f)][_0x336b81(0x699)]}};try{let _0x577ac3=await this[_0x336b81(0x17e)](_0x1cce8e);if(_0x577ac3){let _0x4caf6b={'_id':_0x577ac3[_0x336b81(0x331)]['id'],'_fromMe':_0x577ac3[_0x336b81(0x331)]['fromMe'],'_remoteJid':_0x577ac3[_0x336b81(0x331)][_0x336b81(0x619)]};_0xab4291['uazapi'][_0x336b81(0x1cc)]===!0x0&&(_0x5108a7['status']=_0x336b81(0x494),this['logger'][_0x336b81(0x140)](this[_0x336b81(0x76b)]+'\x20('+this[_0x336b81(0x35a)][_0x336b81(0x6a2)]+_0x336b81(0x18b)+_0x5108a7['status'])),this['logger'][_0x336b81(0x140)](this['instanceName']+'\x20('+this[_0x336b81(0x35a)][_0x336b81(0x6a2)]+'):\x20nextBlock.uazapi.name'+(_0xab4291['uazapi']['name']||_0xab4291[_0x336b81(0x21f)][_0x336b81(0x142)])),_0x5108a7['waitingMenu_id']=_0x577ac3[_0x336b81(0x331)]['id'],_0x5108a7[_0x336b81(0x6ba)]=_0xab4291[_0x336b81(0x21f)][_0x336b81(0x510)]||_0xab4291['uazapi']['text'],_0x5108a7[_0x336b81(0x4e5)]=_0x36e596,_0xab4291[_0x336b81(0x21f)]['menuExpiredMessage']&&(_0x5108a7[_0x336b81(0x588)]=_0xab4291['uazapi'][_0x336b81(0x597)]),this['logger']['verbose'](this[_0x336b81(0x76b)]+'\x20('+this[_0x336b81(0x35a)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x5108a7[_0x336b81(0x6ba)]);let _0x27c496=(0x0,m['normalizeMessageContent'])(_0x577ac3['message']),_0x380afd=(0x0,m[_0x336b81(0x709)])(_0x27c496);_0x5108a7[_0x336b81(0x423)][_0x336b81(0x23c)]=_0xab4291[_0x336b81(0x21b)][_0x336b81(0x1ce)]();let {message_normalized:_0xb2a931}=this[_0x336b81(0x5ab)](_0x27c496,_0x380afd,null);_0x5108a7[_0x336b81(0x423)][_0x336b81(0x668)]=await _0xb2a931;let _0xddd021={'messageId':_0x577ac3[_0x336b81(0x331)]['id']},_0x32d725=_0x5108a7[_0x336b81(0x423)][_0x336b81(0x4c4)];Object[_0x336b81(0x58f)](_0x32d725,_0x4caf6b),_0x5108a7['chatLog'][_0x336b81(0x4c4)]=_0x32d725,this[_0x336b81(0x788)](_0x5108a7,_0xab4291,_0xddd021);}else{let _0x4172c0={'error':!0x0};this[_0x336b81(0x788)](_0x5108a7,_0xab4291,_0x4172c0),this[_0x336b81(0x22c)]['error'](this[_0x336b81(0x76b)]+'\x20('+this[_0x336b81(0x35a)][_0x336b81(0x6a2)]+_0x336b81(0x355));}}catch(_0x213dc1){let _0x975326={'error':!0x0,'errorLog':_0x213dc1 instanceof Error?_0x213dc1[_0x336b81(0x6f6)]:JSON[_0x336b81(0x68d)](_0x213dc1,null,0x2)};this['updateConversation'](_0x5108a7,_0xab4291,_0x975326),this['logger'][_0x336b81(0x7aa)](this[_0x336b81(0x76b)]+'\x20('+this['instance']['wuid']+_0x336b81(0x3ae)+(_0x213dc1 instanceof Error?_0x213dc1[_0x336b81(0x6f6)]:JSON[_0x336b81(0x68d)](_0x213dc1,null,0x2)));}}async[a0_0x5a7632(0x631)](_0x54efb7,_0x39236f){const _0x33e743=a0_0x5a7632;this['logger'][_0x33e743(0x140)](this[_0x33e743(0x76b)]+'\x20('+this['instance']['wuid']+_0x33e743(0x277));let _0x1a860b=_0x54efb7[_0x33e743(0x423)][_0x33e743(0x130)][_0x33e743(0x6c4)](_0x39c0c0=>_0x39c0c0[_0x33e743(0x724)][_0x33e743(0x1ce)]()===_0x39236f[_0x33e743(0x21f)]['blockId']['toString']()),_0x4ae584={'id':_0x1a860b[_0x33e743(0x10c)],'remoteJid':_0x1a860b['remoteJid'],'fromMe':_0x1a860b[_0x33e743(0x41c)]};try{let _0xa3f5b3=await this[_0x33e743(0x125)](_0x4ae584);if(_0xa3f5b3){let _0x4b6bec=(0x0,m[_0x33e743(0x6d5)])(_0xa3f5b3[_0x33e743(0x6f6)]),_0x39d8bb=(0x0,m['getContentType'])(_0x4b6bec);_0x54efb7[_0x33e743(0x423)][_0x33e743(0x23c)]=_0x39236f[_0x33e743(0x21b)][_0x33e743(0x1ce)]();let {message_normalized:_0x30f172}=this[_0x33e743(0x5ab)](_0x4b6bec,_0x39d8bb,null);_0x54efb7[_0x33e743(0x423)]['lastSendMessage']=await _0x30f172;let _0x13e5e8={};this[_0x33e743(0x788)](_0x54efb7,_0x39236f,_0x13e5e8);}else{let _0x433d7c={'error':!0x0};this['updateConversation'](_0x54efb7,_0x39236f,_0x433d7c),this[_0x33e743(0x22c)][_0x33e743(0x7aa)](this[_0x33e743(0x76b)]+'\x20('+this[_0x33e743(0x35a)][_0x33e743(0x6a2)]+_0x33e743(0x6b8));}}catch(_0x2c63dd){let _0x590d80={'error':!0x0,'errorLog':_0x2c63dd instanceof Error?_0x2c63dd[_0x33e743(0x6f6)]:JSON[_0x33e743(0x68d)](_0x2c63dd,null,0x2)};this[_0x33e743(0x788)](_0x54efb7,_0x39236f,_0x590d80),this[_0x33e743(0x22c)][_0x33e743(0x7aa)](this[_0x33e743(0x76b)]+'\x20('+this['instance'][_0x33e743(0x6a2)]+_0x33e743(0x422)+(_0x2c63dd instanceof Error?_0x2c63dd[_0x33e743(0x6f6)]:JSON[_0x33e743(0x68d)](_0x2c63dd,null,0x2)));}}async[a0_0x5a7632(0x6d8)](_0x28227e){const _0x35e1d0=a0_0x5a7632;if(!_0x28227e['name'])throw new w(_0x35e1d0(0x5f6));if(await this[_0x35e1d0(0x2d9)][_0x35e1d0(0x518)][_0x35e1d0(0x48e)]({'where':{'name':_0x28227e['name']}},this[_0x35e1d0(0x35a)][_0x35e1d0(0x6a2)]))throw new w(_0x35e1d0(0x136));return _0x35e1d0(0x510)in _0x28227e&&_0x35e1d0(0x752)in _0x28227e&&_0x35e1d0(0x1f5)in _0x28227e&&Object[_0x35e1d0(0x769)](_0x28227e)[_0x35e1d0(0x4e4)]===0x3?this['createSharedFlow'](_0x28227e[_0x35e1d0(0x1f5)],_0x28227e['sharePass'],_0x28227e[_0x35e1d0(0x510)]):this['createRegularFlow'](_0x28227e);}async[a0_0x5a7632(0x764)](_0x13d60b,_0x55eeaa,_0x258f7b){const _0x2b1de1=a0_0x5a7632;try{this[_0x2b1de1(0x22c)][_0x2b1de1(0x140)](this[_0x2b1de1(0x76b)]+'\x20('+this[_0x2b1de1(0x35a)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x68741c=await this[_0x2b1de1(0x2d9)]['flow']['findOne']({'where':{'name':_0x258f7b,'sharePass':_0x55eeaa}},_0x13d60b);if(!_0x68741c)throw new w(_0x2b1de1(0x741));let _0x284c16={..._0x68741c};return _0x284c16[_0x2b1de1(0x1f5)]=this[_0x2b1de1(0x35a)]['wuid'],_0x284c16[_0x2b1de1(0x5bf)]=Array[_0x2b1de1(0x49e)](new Set([..._0x68741c['shareOwners']||[],_0x68741c['owner'],this[_0x2b1de1(0x35a)][_0x2b1de1(0x6a2)]])),_0x68741c[_0x2b1de1(0x5bf)]=_0x284c16['shareOwners'],await this[_0x2b1de1(0x2d9)][_0x2b1de1(0x518)][_0x2b1de1(0x406)](_0x68741c[_0x2b1de1(0x21b)],{'shareOwners':_0x68741c['shareOwners']},_0x68741c[_0x2b1de1(0x1f5)]),_0x68741c['default']===!0x0&&await this[_0x2b1de1(0x2d9)][_0x2b1de1(0x518)][_0x2b1de1(0x728)]({},{'default':!0x1},this['instance']['wuid']),await this[_0x2b1de1(0x2d9)][_0x2b1de1(0x518)][_0x2b1de1(0x324)](_0x284c16,this[_0x2b1de1(0x35a)][_0x2b1de1(0x6a2)]);}catch(_0x2f3fe9){throw this[_0x2b1de1(0x22c)]['error'](this[_0x2b1de1(0x76b)]+'\x20('+this['instance'][_0x2b1de1(0x6a2)]+_0x2b1de1(0x30e)+_0x2f3fe9),new w(_0x2b1de1(0x5b6)+_0x2f3fe9);}}async[a0_0x5a7632(0x735)](_0x164733){const _0x20eb60=a0_0x5a7632;try{this[_0x20eb60(0x22c)][_0x20eb60(0x140)](this[_0x20eb60(0x76b)]+'\x20('+this[_0x20eb60(0x35a)]['wuid']+'):\x20Criando\x20fluxo\x20regular...'),delete _0x164733[_0x20eb60(0x5bf)],delete _0x164733['sharePass'],delete _0x164733['owner'],_0x164733[_0x20eb60(0x1c5)]===!0x0&&await this[_0x20eb60(0x2d9)][_0x20eb60(0x518)][_0x20eb60(0x728)]({},{'default':!0x1},this['instance'][_0x20eb60(0x6a2)]);let _0x483776=new le[(_0x20eb60(0x5c4))][(_0x20eb60(0x291))](),_0x141d38={'_id':_0x483776,'default':!0x0,'title':_0x20eb60(0x203),'x':0x0,'y':0x0},_0x3c878={'_id':new le[(_0x20eb60(0x5c4))][(_0x20eb60(0x291))](),'order':0x1,'groupId':_0x483776['toString'](),'type':_0x20eb60(0x51f)},_0x3c7788={'_id':new le['Types'][(_0x20eb60(0x291))](),'owner':this[_0x20eb60(0x35a)][_0x20eb60(0x6a2)],'name':_0x164733[_0x20eb60(0x510)],'groups':[_0x141d38],'blocks':[_0x3c878],..._0x164733};return await this[_0x20eb60(0x2d9)][_0x20eb60(0x518)][_0x20eb60(0x324)](_0x3c7788,this[_0x20eb60(0x35a)]['wuid']);}catch(_0x2d6967){throw this[_0x20eb60(0x22c)]['error'](this['instanceName']+'\x20('+this[_0x20eb60(0x35a)][_0x20eb60(0x6a2)]+_0x20eb60(0x4af)+_0x2d6967),new w(_0x20eb60(0x690)+_0x2d6967);}}async[a0_0x5a7632(0x481)](_0xdaed72,_0x3441e8){const _0x2ee906=a0_0x5a7632;try{let _0x5b5f2c=await this[_0x2ee906(0x2d9)][_0x2ee906(0x518)]['findOne']({'where':{'_id':_0xdaed72}},_0x3441e8);if(_0x5b5f2c&&_0x5b5f2c[_0x2ee906(0x5bf)]){for(let _0x30fd3e of _0x5b5f2c[_0x2ee906(0x5bf)])if(_0x30fd3e!==_0x3441e8){let _0x2eb921={..._0x5b5f2c,'owner':_0x30fd3e};await this[_0x2ee906(0x2d9)][_0x2ee906(0x518)][_0x2ee906(0x7a3)](_0xdaed72,_0x2eb921,_0x30fd3e);}}}catch(_0x5118f2){this['logger'][_0x2ee906(0x7aa)](_0x2ee906(0x416)+_0x5118f2);}}async[a0_0x5a7632(0x2a0)](_0x2a804a){const _0x2a9150=a0_0x5a7632;try{this[_0x2a9150(0x22c)][_0x2a9150(0x140)](this['instanceName']+'\x20('+this[_0x2a9150(0x35a)][_0x2a9150(0x6a2)]+_0x2a9150(0x30c));let _0x4bb515=await this[_0x2a9150(0x2d9)][_0x2a9150(0x518)][_0x2a9150(0x48e)]({'where':{'name':_0x2a804a}},this[_0x2a9150(0x35a)][_0x2a9150(0x6a2)]);if(_0x4bb515&&_0x4bb515['shareOwners']&&_0x4bb515[_0x2a9150(0x5bf)][_0x2a9150(0x4e4)]>0x1){for(let _0x50a00b of _0x4bb515[_0x2a9150(0x5bf)])if(_0x50a00b!==this['instance'][_0x2a9150(0x6a2)]){let _0x3d922e=await this[_0x2a9150(0x2d9)]['flow'][_0x2a9150(0x48e)]({'where':{'sharePass':_0x4bb515['sharePass']}},_0x50a00b);_0x3d922e&&(_0x3d922e['shareOwners']=_0x3d922e['shareOwners'][_0x2a9150(0x669)](_0x3e7302=>_0x3e7302!==_0x4bb515[_0x2a9150(0x1f5)]),await this[_0x2a9150(0x2d9)][_0x2a9150(0x518)][_0x2a9150(0x406)](_0x3d922e[_0x2a9150(0x21b)],{'shareOwners':_0x3d922e['shareOwners']},_0x50a00b));}}return await this['repository'][_0x2a9150(0x518)][_0x2a9150(0x3b9)]({'where':{'name':_0x2a804a}},this[_0x2a9150(0x35a)]['wuid']);}catch(_0x5bd6cc){return this[_0x2a9150(0x22c)][_0x2a9150(0x7aa)](this[_0x2a9150(0x76b)]+'\x20('+this[_0x2a9150(0x35a)][_0x2a9150(0x6a2)]+_0x2a9150(0x1d2)+(_0x5bd6cc instanceof Error?_0x5bd6cc[_0x2a9150(0x6f6)]:JSON[_0x2a9150(0x68d)](_0x5bd6cc,null,0x2))),{'message':_0x2a9150(0x1e9)+_0x5bd6cc};}}async[a0_0x5a7632(0x5b7)](_0x837955){const _0x23212d=a0_0x5a7632;try{this[_0x23212d(0x22c)]['verbose'](this[_0x23212d(0x76b)]+'\x20('+this[_0x23212d(0x35a)][_0x23212d(0x6a2)]+_0x23212d(0x460));let _0x19479f=await this[_0x23212d(0x2d9)][_0x23212d(0x518)][_0x23212d(0x48e)]({'where':{'name':_0x837955}},this[_0x23212d(0x35a)][_0x23212d(0x6a2)]);if(!_0x19479f)throw new Error(_0x23212d(0x35f));if(!this[_0x23212d(0x15d)]&&(await this[_0x23212d(0x70c)](),!this['AutomateSystem']))return null;let _0x53c99f=this[_0x23212d(0x15d)]?.[_0x23212d(0x2b5)][_0x23212d(0x2ca)](_0x1b7699=>_0x1b7699[_0x23212d(0x510)]),_0x5e07a8=[_0x23212d(0x16b),_0x23212d(0x7ac),_0x23212d(0x311),_0x23212d(0x205),_0x23212d(0x5cd),_0x23212d(0x3dd),_0x23212d(0x6c6),_0x23212d(0x46e),_0x23212d(0x112)];_0x19479f[_0x23212d(0x7a4)]=_0x19479f[_0x23212d(0x7a4)][_0x23212d(0x669)](_0x52732d=>!(_0x52732d[_0x23212d(0x605)]===_0x23212d(0x643)||_0x52732d[_0x23212d(0x643)])),_0x5e07a8[_0x23212d(0x16d)](_0x4e3eb9=>{const _0x2cd55e=_0x23212d;_0x19479f['variables'][_0x2cd55e(0x208)]({'folder':_0x2cd55e(0x643),'name':_0x4e3eb9,'value':'','doc':'','leadInfo':!0x0});}),_0x53c99f[_0x23212d(0x16d)](_0x4e611c=>{const _0x2fdbc6=_0x23212d;let _0x11314f=_0x19479f[_0x2fdbc6(0x7a4)][_0x2fdbc6(0x1c6)](_0x139d65=>_0x139d65['name']===_0x4e611c);_0x11314f===-0x1?_0x19479f[_0x2fdbc6(0x7a4)][_0x2fdbc6(0x208)]({'folder':_0x2fdbc6(0x643),'name':_0x4e611c,'value':'','doc':'','leadInfo':!0x0}):(_0x19479f[_0x2fdbc6(0x7a4)][_0x11314f][_0x2fdbc6(0x605)]=_0x2fdbc6(0x643),_0x19479f['variables'][_0x11314f][_0x2fdbc6(0x643)]=!0x0);}),_0x19479f[_0x23212d(0x364)]&&_0x19479f['blocks']['length']>0x0&&_0x19479f[_0x23212d(0x364)][_0x23212d(0x16d)](_0x3a0729=>{const _0x1ffc27=_0x23212d;_0x3a0729[_0x1ffc27(0x154)]&&_0x3a0729['next_groupId']&&_0x3a0729['groupId']===_0x3a0729[_0x1ffc27(0x4ea)]&&(_0x3a0729['next_groupId']=null);});let _0x5f4f07=await this['repository']['flow'][_0x23212d(0x406)](_0x19479f['_id'],_0x19479f,this[_0x23212d(0x35a)][_0x23212d(0x6a2)]);if(!_0x5f4f07)throw new Error(_0x23212d(0x65e));return _0x5f4f07;}catch(_0x40c524){throw this[_0x23212d(0x22c)][_0x23212d(0x7aa)](this[_0x23212d(0x76b)]+'\x20('+this[_0x23212d(0x35a)][_0x23212d(0x6a2)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x40c524 instanceof Error?_0x40c524[_0x23212d(0x6f6)]:JSON[_0x23212d(0x68d)](_0x40c524,null,0x2))),new w(_0x23212d(0x38d)+_0x40c524);}}async[a0_0x5a7632(0x4ad)](){const _0x4a3438=a0_0x5a7632;try{return this[_0x4a3438(0x22c)][_0x4a3438(0x140)](this[_0x4a3438(0x76b)]+'\x20('+this[_0x4a3438(0x35a)]['wuid']+_0x4a3438(0x4c2)),await this[_0x4a3438(0x2d9)][_0x4a3438(0x518)][_0x4a3438(0x74d)](this[_0x4a3438(0x35a)]['wuid']),await this[_0x4a3438(0x2d9)][_0x4a3438(0x518)][_0x4a3438(0x258)]({'where':{}},this['instance'][_0x4a3438(0x6a2)]);}catch(_0x1b066d){return this['logger'][_0x4a3438(0x7aa)](this[_0x4a3438(0x76b)]+'\x20('+this[_0x4a3438(0x35a)]['wuid']+_0x4a3438(0x3d4)+(_0x1b066d instanceof Error?_0x1b066d['message']:JSON[_0x4a3438(0x68d)](_0x1b066d,null,0x2))),{'message':_0x4a3438(0xf9)+_0x1b066d};}}async[a0_0x5a7632(0x4c0)](_0x356a5a){const _0x1a55cd=a0_0x5a7632;try{this[_0x1a55cd(0x22c)][_0x1a55cd(0x140)](this['instanceName']+'\x20('+this[_0x1a55cd(0x35a)][_0x1a55cd(0x6a2)]+'):\x20Alterando\x20fluxo...');let _0xafb01b=await this[_0x1a55cd(0x2d9)][_0x1a55cd(0x518)][_0x1a55cd(0x48e)]({'where':{'name':_0x356a5a[_0x1a55cd(0x510)]}},this['instance'][_0x1a55cd(0x6a2)]);if(!_0xafb01b)return{'message':'Fluxo\x20não\x20encontrado'};_0x356a5a[_0x1a55cd(0x1c5)]===!0x0&&await this[_0x1a55cd(0x2d9)][_0x1a55cd(0x518)][_0x1a55cd(0x728)]({},{'default':!0x1},this[_0x1a55cd(0x35a)][_0x1a55cd(0x6a2)]),delete _0x356a5a[_0x1a55cd(0x5bf)],delete _0x356a5a['sharePass'];let _0x11bb91=await this[_0x1a55cd(0x2d9)][_0x1a55cd(0x518)]['updateOne'](_0xafb01b['_id'],_0x356a5a,this[_0x1a55cd(0x35a)][_0x1a55cd(0x6a2)]);return _0x11bb91&&_0x11bb91[_0x1a55cd(0x5bf)]&&_0x11bb91[_0x1a55cd(0x5bf)][_0x1a55cd(0x4e4)]>0x1&&this[_0x1a55cd(0x481)](_0x11bb91['_id'],this[_0x1a55cd(0x35a)][_0x1a55cd(0x6a2)]),_0x11bb91;}catch(_0x107e34){throw this[_0x1a55cd(0x22c)][_0x1a55cd(0x7aa)](this[_0x1a55cd(0x76b)]+'\x20('+this[_0x1a55cd(0x35a)][_0x1a55cd(0x6a2)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x107e34 instanceof Error?_0x107e34[_0x1a55cd(0x6f6)]:JSON[_0x1a55cd(0x68d)](_0x107e34,null,0x2))),new w(_0x1a55cd(0x6c8)+(_0x107e34 instanceof Error?_0x107e34['message']:JSON['stringify'](_0x107e34,null,0x2)));}}async['editFlowBlock'](_0x404d57){const _0x46a103=a0_0x5a7632;try{this['logger'][_0x46a103(0x140)](this[_0x46a103(0x76b)]+'\x20('+this[_0x46a103(0x35a)]['wuid']+'):\x20Editando\x20bloco...');let _0x4a00fe=await this[_0x46a103(0x2d9)][_0x46a103(0x518)][_0x46a103(0x48e)]({'where':{'name':_0x404d57[_0x46a103(0x510)]}},this[_0x46a103(0x35a)][_0x46a103(0x6a2)]);_0x4a00fe||this['throwAndLogError'](_0x46a103(0x35f));let {block:_0x3532f1}=_0x404d57;_0x3532f1?.[_0x46a103(0x54c)]?this[_0x46a103(0x6a8)](_0x4a00fe,_0x404d57):_0x3532f1?.[_0x46a103(0x7af)]?this[_0x46a103(0x1f1)](_0x4a00fe,_0x404d57):_0x3532f1[_0x46a103(0x21b)]?await this[_0x46a103(0x1e3)](_0x4a00fe,_0x404d57):this[_0x46a103(0x164)](_0x4a00fe,_0x404d57);let _0x2eadac=await this[_0x46a103(0x2d9)][_0x46a103(0x518)][_0x46a103(0x406)](_0x4a00fe[_0x46a103(0x21b)],_0x4a00fe,this[_0x46a103(0x35a)][_0x46a103(0x6a2)]);if(_0x2eadac&&_0x2eadac[_0x46a103(0x5bf)]&&_0x2eadac['shareOwners']['length']>0x1&&this[_0x46a103(0x481)](_0x2eadac[_0x46a103(0x21b)],this['instance'][_0x46a103(0x6a2)]),!_0x2eadac)throw new Error(_0x46a103(0x65e));return _0x2eadac;}catch(_0x4bd3d2){this[_0x46a103(0x316)](_0x46a103(0x249)+_0x4bd3d2);}}async['copyBlock'](_0x51c8c9,_0x328565){const _0x1960e5=a0_0x5a7632;let _0x164deb=_0x328565[_0x1960e5(0x4be)][_0x1960e5(0x21b)],_0x42db4d=_0x51c8c9[_0x1960e5(0x364)][_0x1960e5(0x6c4)](_0x145909=>_0x145909[_0x1960e5(0x21b)][_0x1960e5(0x1ce)]()===_0x164deb);if(!_0x42db4d){this['logger'][_0x1960e5(0x7aa)](this['instanceName']+'\x20('+this[_0x1960e5(0x35a)][_0x1960e5(0x6a2)]+_0x1960e5(0x182)+_0x164deb+_0x1960e5(0x18d));return;}this[_0x1960e5(0x22c)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1960e5(0x222)+JSON['stringify'](_0x42db4d));let _0xe95ca=JSON[_0x1960e5(0x1bd)](JSON[_0x1960e5(0x68d)](_0x42db4d));_0xe95ca[_0x1960e5(0x21b)]=new le[(_0x1960e5(0x1c5))]['Types'][(_0x1960e5(0x291))](),this['logger']['verbose'](this[_0x1960e5(0x76b)]+'\x20('+this[_0x1960e5(0x35a)]['wuid']+_0x1960e5(0x754)+JSON['stringify'](_0xe95ca)),_0x51c8c9[_0x1960e5(0x364)]['push'](_0xe95ca),this[_0x1960e5(0x43f)](_0x51c8c9[_0x1960e5(0x364)],_0xe95ca['groupId']);}[a0_0x5a7632(0x316)](_0x44b2da){const _0x4b5ad3=a0_0x5a7632;throw this[_0x4b5ad3(0x22c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4b5ad3(0x6a2)]+_0x4b5ad3(0x2f8)+_0x44b2da),new w(_0x44b2da);}[a0_0x5a7632(0x1f1)](_0x4854c6,_0xd841e1){const _0x3e8a55=a0_0x5a7632;let {block:_0x2cdc45}=_0xd841e1;if(_0x2cdc45['type']===_0x3e8a55(0x51f)){this['throwAndLogError'](_0x3e8a55(0x4d1));return;}if(!_0x2cdc45[_0x3e8a55(0x21b)]){this[_0x3e8a55(0x316)](_0x3e8a55(0x184));return;}let _0x56fc2b=_0x4854c6[_0x3e8a55(0x364)][_0x3e8a55(0x6c4)](_0x3c9b75=>_0x3c9b75[_0x3e8a55(0x21b)]['toString']()===_0xd841e1[_0x3e8a55(0x4be)]['_id'][_0x3e8a55(0x1ce)]());if(!_0x56fc2b){this['throwAndLogError'](_0x3e8a55(0xf7)+_0x2cdc45[_0x3e8a55(0x21b)]+'\x20não\x20encontrado');return;}_0x4854c6['blocks']=_0x4854c6[_0x3e8a55(0x364)]['filter'](_0x2e57b0=>_0x2e57b0[_0x3e8a55(0x21b)][_0x3e8a55(0x1ce)]()!==_0xd841e1[_0x3e8a55(0x4be)][_0x3e8a55(0x21b)][_0x3e8a55(0x1ce)]()),_0x4854c6['conditions']=_0x4854c6['conditions'][_0x3e8a55(0x669)](_0x296d92=>_0x296d92[_0x3e8a55(0x724)]!==_0x2cdc45['_id']['toString']()),_0x4854c6[_0x3e8a55(0x646)]=_0x4854c6['varedits'][_0x3e8a55(0x669)](_0x54dffa=>_0x54dffa[_0x3e8a55(0x724)]!==_0x2cdc45[_0x3e8a55(0x21b)][_0x3e8a55(0x1ce)]()),_0x4854c6[_0x3e8a55(0x40f)]=_0x4854c6[_0x3e8a55(0x40f)][_0x3e8a55(0x669)](_0x2397b7=>_0x2397b7['blockId']!==_0x2cdc45[_0x3e8a55(0x21b)][_0x3e8a55(0x1ce)]()),this[_0x3e8a55(0x43f)](_0x4854c6['blocks'],_0x56fc2b['groupId']);}async['updateBlock'](_0x4ec346,_0x454936){const _0x366f24=a0_0x5a7632;let _0x1fd9ff=_0x4ec346[_0x366f24(0x364)]['findIndex'](_0x4ffeb9=>_0x4ffeb9[_0x366f24(0x21b)][_0x366f24(0x1ce)]()===_0x454936[_0x366f24(0x4be)][_0x366f24(0x21b)]['toString']());if(this[_0x366f24(0x22c)][_0x366f24(0x140)](this[_0x366f24(0x76b)]+'\x20('+this[_0x366f24(0x35a)]['wuid']+_0x366f24(0x778)+_0x1fd9ff),_0x1fd9ff===-0x1){this[_0x366f24(0x22c)][_0x366f24(0x140)](_0x366f24(0xf7)+_0x454936[_0x366f24(0x4be)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x32e)]===_0x366f24(0x51f)){let _0x47cd6e=Object['keys'](_0x454936['block']);if(_0x47cd6e[_0x366f24(0x4e4)]>0x2||_0x47cd6e['length']===0x2&&!_0x47cd6e[_0x366f24(0x3b6)](_0x366f24(0x4ea))){this['throwAndLogError'](_0x366f24(0x4bc));return;}}let _0x591781=_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x154)];for(let _0x372407 in _0x454936[_0x366f24(0x4be)])_0x454936[_0x366f24(0x4be)][_0x366f24(0x370)](_0x372407)&&(_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x372407]=_0x454936[_0x366f24(0x4be)][_0x372407]);if(this[_0x366f24(0x22c)][_0x366f24(0x140)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x366f24(0x379)+JSON[_0x366f24(0x68d)](_0x4ec346[_0x366f24(0x364)][_0x1fd9ff])),_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)]&&_0x366f24(0x3c2)in _0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)]){this[_0x366f24(0x22c)][_0x366f24(0x140)](this[_0x366f24(0x76b)]+'\x20('+this[_0x366f24(0x35a)]['wuid']+_0x366f24(0x29b));let _0x138869=JSON[_0x366f24(0x68d)](_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)][_0x366f24(0x3c2)],null,0x1);_0x138869[_0x366f24(0x4e4)]>0x2&&(_0x138869=_0x138869['substring'](0x1,_0x138869[_0x366f24(0x4e4)]-0x1)[_0x366f24(0x549)]()),_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)][_0x366f24(0x1e8)]=_0x138869;}if(_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)]&&_0x366f24(0x5af)in _0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)]){this['logger'][_0x366f24(0x140)](this['instanceName']+'\x20('+this['instance'][_0x366f24(0x6a2)]+_0x366f24(0x1b2));let _0x480ab0=JSON[_0x366f24(0x68d)](_0x4ec346[_0x366f24(0x364)][_0x1fd9ff]['apirequest'][_0x366f24(0x5af)],null,0x1);_0x480ab0[_0x366f24(0x4e4)]>0x2&&(_0x480ab0=_0x480ab0[_0x366f24(0x210)](0x1,_0x480ab0[_0x366f24(0x4e4)]-0x1)['trim']()),_0x4ec346[_0x366f24(0x364)][_0x1fd9ff][_0x366f24(0x397)][_0x366f24(0x19f)]=_0x480ab0;}let _0x3267d9=_0x4ec346[_0x366f24(0x364)][_0x1fd9ff]['groupId'];_0x591781!==_0x3267d9?(this[_0x366f24(0x43f)](_0x4ec346['blocks'],_0x591781),this[_0x366f24(0x43f)](_0x4ec346[_0x366f24(0x364)],_0x3267d9)):this[_0x366f24(0x43f)](_0x4ec346[_0x366f24(0x364)],_0x591781);}[a0_0x5a7632(0x164)](_0x3db67b,_0x214bd1){const _0x7662c0=a0_0x5a7632;if(_0x214bd1[_0x7662c0(0x4be)][_0x7662c0(0x32e)]===_0x7662c0(0x51f)){this[_0x7662c0(0x316)](_0x7662c0(0x421));return;}if(_0x214bd1['block'][_0x7662c0(0x397)]&&_0x7662c0(0x3c2)in _0x214bd1[_0x7662c0(0x4be)]['apirequest']){this[_0x7662c0(0x22c)][_0x7662c0(0x140)](this[_0x7662c0(0x76b)]+'\x20('+this[_0x7662c0(0x35a)]['wuid']+_0x7662c0(0x29b));let _0x4dfd21=JSON[_0x7662c0(0x68d)](_0x214bd1[_0x7662c0(0x4be)][_0x7662c0(0x397)][_0x7662c0(0x3c2)],null,0x1);_0x4dfd21['length']>0x2&&(_0x4dfd21=_0x4dfd21[_0x7662c0(0x210)](0x1,_0x4dfd21['length']-0x1)['trim']()),_0x214bd1['block'][_0x7662c0(0x397)][_0x7662c0(0x1e8)]=_0x4dfd21;}_0x214bd1['block'][_0x7662c0(0x397)]&&'body'in _0x214bd1['block'][_0x7662c0(0x397)]&&(this[_0x7662c0(0x22c)]['verbose'](this[_0x7662c0(0x76b)]+'\x20('+this[_0x7662c0(0x35a)][_0x7662c0(0x6a2)]+_0x7662c0(0x1b2)),_0x214bd1[_0x7662c0(0x4be)][_0x7662c0(0x397)][_0x7662c0(0x19f)]=JSON['stringify'](_0x214bd1['block']['apirequest'][_0x7662c0(0x5af)],null,0x1)[_0x7662c0(0x549)]()),_0x3db67b['blocks'][_0x7662c0(0x208)](_0x214bd1[_0x7662c0(0x4be)]),this[_0x7662c0(0x43f)](_0x3db67b[_0x7662c0(0x364)],_0x214bd1[_0x7662c0(0x4be)]['groupId']);}[a0_0x5a7632(0x43f)](_0x185c9b,_0x5d08bb){const _0x5ef1f2=a0_0x5a7632;let _0x4a463b=_0x185c9b['filter'](_0x18ab49=>_0x18ab49[_0x5ef1f2(0x154)]===_0x5d08bb);_0x4a463b[_0x5ef1f2(0x155)]((_0x305a17,_0x5c676f)=>_0x305a17['order']-_0x5c676f[_0x5ef1f2(0x158)]),_0x4a463b[_0x5ef1f2(0x16d)]((_0x13f269,_0x2658f3)=>_0x13f269[_0x5ef1f2(0x158)]=_0x2658f3+0x1);}async[a0_0x5a7632(0x67d)](_0x2233ba){const _0x233579=a0_0x5a7632;try{if(this[_0x233579(0x22c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x233579(0x6a2)]+_0x233579(0x46d)),!_0x2233ba||!_0x2233ba['replyOption']){this[_0x233579(0x316)](_0x233579(0x4fa));return;}let _0xdd9064=await this[_0x233579(0x2d9)][_0x233579(0x518)][_0x233579(0x48e)]({'where':{'name':_0x2233ba[_0x233579(0x510)]}},this[_0x233579(0x35a)][_0x233579(0x6a2)]);_0xdd9064||this[_0x233579(0x316)](_0x233579(0x35f));let {replyOption:_0x555953}=_0x2233ba;_0x555953?.['delete']?(this[_0x233579(0x1ad)](_0xdd9064,_0x2233ba),this[_0x233579(0x587)](_0xdd9064[_0x233579(0x40f)],_0x2233ba[_0x233579(0x56c)][_0x233579(0x724)])):_0x555953[_0x233579(0x21b)]?(await this[_0x233579(0x71e)](_0xdd9064,_0x2233ba),this[_0x233579(0x587)](_0xdd9064[_0x233579(0x40f)],_0x2233ba[_0x233579(0x56c)][_0x233579(0x724)])):(this[_0x233579(0x6b3)](_0xdd9064,_0x2233ba),this[_0x233579(0x587)](_0xdd9064[_0x233579(0x40f)],_0x2233ba['replyOption'][_0x233579(0x724)]));let _0x4b5b5d=await this['repository']['flow']['updateOne'](_0xdd9064['_id'],_0xdd9064,this[_0x233579(0x35a)]['wuid']);if(_0x4b5b5d&&_0x4b5b5d[_0x233579(0x5bf)]&&_0x4b5b5d['shareOwners'][_0x233579(0x4e4)]>0x1&&this['synchronizeFlows'](_0x4b5b5d[_0x233579(0x21b)],this[_0x233579(0x35a)][_0x233579(0x6a2)]),!_0x4b5b5d)throw new Error(_0x233579(0x65e));return _0x4b5b5d;}catch(_0x40458e){this[_0x233579(0x316)](_0x233579(0x22f)+_0x40458e);}}[a0_0x5a7632(0x587)](_0x124931,_0x41cd10){const _0x50422b=a0_0x5a7632;console[_0x50422b(0x1c8)](_0x50422b(0x73c),_0x41cd10),_0x124931['forEach'](_0x285982=>{const _0x3314e2=_0x50422b;_0x285982['blockId']===_0x41cd10&&_0x285982[_0x3314e2(0x158)]===void 0x0&&(_0x285982[_0x3314e2(0x158)]=0x270f);});let _0xf613f=_0x124931[_0x50422b(0x669)](_0x1e7bcf=>_0x1e7bcf[_0x50422b(0x724)]===_0x41cd10);_0xf613f[_0x50422b(0x155)]((_0x21dbab,_0xcbf31a)=>_0x21dbab[_0x50422b(0x158)]-_0xcbf31a['order']),_0xf613f[_0x50422b(0x16d)]((_0x7e8013,_0xcebc93)=>{const _0x2f584e=_0x50422b;_0x7e8013[_0x2f584e(0x158)]=_0xcebc93+0x1;}),_0x124931[_0x50422b(0x16d)](_0x1ab88f=>{const _0x243ce8=_0x50422b;if(_0x1ab88f['blockId']===_0x41cd10){let _0x165619=_0xf613f[_0x243ce8(0x6c4)](_0x5b4c21=>_0x5b4c21[_0x243ce8(0x21b)]&&_0x1ab88f[_0x243ce8(0x21b)]&&_0x5b4c21['_id'][_0x243ce8(0x1ce)]()===_0x1ab88f[_0x243ce8(0x21b)][_0x243ce8(0x1ce)]());_0x165619&&(_0x1ab88f['order']=_0x165619[_0x243ce8(0x158)]);}}),console[_0x50422b(0x1c8)](_0x50422b(0x6e8),_0x124931);}['deleteReplyOption'](_0x204aca,_0x35b084){const _0x16e546=a0_0x5a7632;let {replyOption:_0x4efad4}=_0x35b084;if(!_0x4efad4[_0x16e546(0x21b)]){this[_0x16e546(0x316)](_0x16e546(0x4f7));return;}if(!_0x204aca[_0x16e546(0x40f)][_0x16e546(0x6c4)](_0x50555b=>_0x50555b[_0x16e546(0x21b)][_0x16e546(0x1ce)]()===_0x35b084['replyOption'][_0x16e546(0x21b)][_0x16e546(0x1ce)]())){this[_0x16e546(0x316)](_0x16e546(0x509)+_0x4efad4['_id']+'\x20não\x20encontrado');return;}_0x204aca[_0x16e546(0x40f)]=_0x204aca['replyOptions'][_0x16e546(0x669)](_0x2ce1d5=>_0x2ce1d5[_0x16e546(0x21b)]['toString']()!==_0x35b084[_0x16e546(0x56c)][_0x16e546(0x21b)][_0x16e546(0x1ce)]());}async[a0_0x5a7632(0x71e)](_0x5186c9,_0xa1b59e){const _0x3d6470=a0_0x5a7632;let _0x2968d1=_0x5186c9[_0x3d6470(0x40f)][_0x3d6470(0x1c6)](_0x7c6b07=>_0x7c6b07['_id'][_0x3d6470(0x1ce)]()===_0xa1b59e[_0x3d6470(0x56c)]['_id']['toString']());if(_0x2968d1===-0x1){this['throwAndLogError'](_0x3d6470(0x509)+_0xa1b59e[_0x3d6470(0x56c)][_0x3d6470(0x21b)]+_0x3d6470(0x24f));return;}for(let _0x27cda4 in _0xa1b59e['replyOption'])_0xa1b59e[_0x3d6470(0x56c)][_0x3d6470(0x370)](_0x27cda4)&&(_0x5186c9['replyOptions'][_0x2968d1][_0x27cda4]=_0xa1b59e[_0x3d6470(0x56c)][_0x27cda4]);}[a0_0x5a7632(0x6b3)](_0x4c0035,_0x3eb244){const _0x1a8a64=a0_0x5a7632;_0x4c0035[_0x1a8a64(0x40f)][_0x1a8a64(0x208)](_0x3eb244['replyOption']);}async[a0_0x5a7632(0x104)](_0x3e7ae4){const _0x562f0d=a0_0x5a7632;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x562f0d(0x35a)][_0x562f0d(0x6a2)]+_0x562f0d(0x3c3)+_0x3e7ae4);try{this[_0x562f0d(0x22c)][_0x562f0d(0x140)](this[_0x562f0d(0x76b)]+'\x20('+this[_0x562f0d(0x35a)]['wuid']+_0x562f0d(0x42c));let _0x234400=await this['repository'][_0x562f0d(0x518)]['findOne']({'where':{'name':_0x3e7ae4[_0x562f0d(0x510)]}},this[_0x562f0d(0x35a)][_0x562f0d(0x6a2)]);if(!_0x234400)throw new Error(_0x562f0d(0x35f));if(_0x3e7ae4['group']&&_0x3e7ae4[_0x562f0d(0x120)]?.[_0x562f0d(0x7af)]===!0x0){if(this[_0x562f0d(0x22c)][_0x562f0d(0x140)](this['instanceName']+'\x20('+this[_0x562f0d(0x35a)]['wuid']+_0x562f0d(0x252)),_0x3e7ae4[_0x562f0d(0x120)][_0x562f0d(0x1c5)]===!0x0)return{'message':_0x562f0d(0x141)};if(_0x234400[_0x562f0d(0x364)][_0x562f0d(0x1a2)](_0x45c416=>_0x45c416[_0x562f0d(0x154)]['toString']()===_0x3e7ae4[_0x562f0d(0x120)][_0x562f0d(0x21b)]))return this[_0x562f0d(0x22c)][_0x562f0d(0x140)](this[_0x562f0d(0x76b)]+'\x20('+this['instance']['wuid']+_0x562f0d(0x135)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x234400[_0x562f0d(0x1c1)]=_0x234400[_0x562f0d(0x1c1)]['filter'](_0x1a41d1=>_0x1a41d1[_0x562f0d(0x21b)][_0x562f0d(0x1ce)]()!==_0x3e7ae4[_0x562f0d(0x120)][_0x562f0d(0x21b)]);}else{if(_0x3e7ae4[_0x562f0d(0x120)]){if(_0x3e7ae4['group']['default']===!0x0)return{'message':_0x562f0d(0x283)};if(_0x3e7ae4['group'][_0x562f0d(0x21b)]){let _0x272b4c=_0x234400['groups'][_0x562f0d(0x6c4)](_0x1c1b66=>_0x1c1b66[_0x562f0d(0x21b)][_0x562f0d(0x1ce)]()===_0x3e7ae4[_0x562f0d(0x120)]['_id']);_0x272b4c&&(_0x3e7ae4['group']['x']<0x0&&(_0x3e7ae4[_0x562f0d(0x120)]['x']=0x0),_0x3e7ae4[_0x562f0d(0x120)]['y']<0x0&&(_0x3e7ae4['group']['y']=0x0),Object[_0x562f0d(0x58f)](_0x272b4c,_0x3e7ae4[_0x562f0d(0x120)]));}else _0x234400[_0x562f0d(0x1c1)][_0x562f0d(0x208)](_0x3e7ae4[_0x562f0d(0x120)]);}}let _0x4e656c=await this['repository'][_0x562f0d(0x518)][_0x562f0d(0x406)](_0x234400[_0x562f0d(0x21b)],_0x234400,this[_0x562f0d(0x35a)][_0x562f0d(0x6a2)]);if(_0x4e656c&&_0x4e656c['shareOwners']&&_0x4e656c[_0x562f0d(0x5bf)][_0x562f0d(0x4e4)]>0x1&&this[_0x562f0d(0x481)](_0x4e656c[_0x562f0d(0x21b)],this[_0x562f0d(0x35a)]['wuid']),!_0x4e656c)throw new Error(_0x562f0d(0x65e));return _0x4e656c;}catch(_0x4fac2f){throw this[_0x562f0d(0x22c)][_0x562f0d(0x7aa)](this[_0x562f0d(0x76b)]+'\x20('+this[_0x562f0d(0x35a)]['wuid']+_0x562f0d(0x66a)+(_0x4fac2f instanceof Error?_0x4fac2f[_0x562f0d(0x6f6)]:JSON[_0x562f0d(0x68d)](_0x4fac2f,null,0x2))),new w(_0x562f0d(0x160)+(_0x4fac2f instanceof Error?_0x4fac2f[_0x562f0d(0x6f6)]:JSON[_0x562f0d(0x68d)](_0x4fac2f,null,0x2)));}}async[a0_0x5a7632(0x624)](_0x4e9df0){const _0x4ca2fb=a0_0x5a7632;try{this[_0x4ca2fb(0x22c)][_0x4ca2fb(0x140)](this[_0x4ca2fb(0x76b)]+'\x20('+this[_0x4ca2fb(0x35a)]['wuid']+_0x4ca2fb(0x664));let _0x30fdaf=await this[_0x4ca2fb(0x2d9)][_0x4ca2fb(0x518)][_0x4ca2fb(0x48e)]({'where':{'name':_0x4e9df0['name']}},this[_0x4ca2fb(0x35a)][_0x4ca2fb(0x6a2)]);if(!_0x30fdaf)throw new Error(_0x4ca2fb(0x35f));let _0x3d8d88=!0x1;if(_0x4e9df0['condition']?.[_0x4ca2fb(0x7af)]===!0x0)_0x30fdaf[_0x4ca2fb(0x27e)]=_0x30fdaf[_0x4ca2fb(0x27e)][_0x4ca2fb(0x669)](_0x29f924=>_0x29f924&&_0x4e9df0['condition']&&_0x29f924['_id']&&_0x4e9df0[_0x4ca2fb(0x2dd)][_0x4ca2fb(0x21b)]&&_0x29f924['_id']['toString']()!==_0x4e9df0[_0x4ca2fb(0x2dd)][_0x4ca2fb(0x21b)][_0x4ca2fb(0x1ce)]()),_0x3d8d88=!0x0;else{let _0x26ef7e=_0x30fdaf[_0x4ca2fb(0x27e)][_0x4ca2fb(0x6c4)](_0x43c4b4=>_0x43c4b4&&_0x4e9df0[_0x4ca2fb(0x2dd)]&&_0x43c4b4[_0x4ca2fb(0x21b)]&&_0x4e9df0['condition'][_0x4ca2fb(0x21b)]&&_0x43c4b4[_0x4ca2fb(0x21b)][_0x4ca2fb(0x1ce)]()===_0x4e9df0[_0x4ca2fb(0x2dd)][_0x4ca2fb(0x21b)][_0x4ca2fb(0x1ce)]());_0x26ef7e?(_0x3d8d88=_0x26ef7e[_0x4ca2fb(0x158)]!==_0x4e9df0[_0x4ca2fb(0x2dd)]['order'],Object[_0x4ca2fb(0x58f)](_0x26ef7e,_0x4e9df0[_0x4ca2fb(0x2dd)])):(_0x30fdaf[_0x4ca2fb(0x27e)][_0x4ca2fb(0x208)](_0x4e9df0[_0x4ca2fb(0x2dd)]),_0x3d8d88=!0x0);}if(_0x3d8d88){_0x30fdaf[_0x4ca2fb(0x27e)][_0x4ca2fb(0x155)]((_0x2140b8,_0x3954b0)=>_0x2140b8['order']>_0x3954b0['order']?0x1:_0x3954b0['order']>_0x2140b8[_0x4ca2fb(0x158)]?-0x1:0x0);for(let _0x26ddc4=0x0;_0x26ddc4<_0x30fdaf[_0x4ca2fb(0x27e)][_0x4ca2fb(0x4e4)];_0x26ddc4++)_0x30fdaf[_0x4ca2fb(0x27e)][_0x26ddc4][_0x4ca2fb(0x158)]=_0x26ddc4+0x1;_0x30fdaf[_0x4ca2fb(0x27e)]['length']>0x0&&(_0x30fdaf[_0x4ca2fb(0x27e)][0x0]['OrAnd']=_0x4ca2fb(0x6c2));}let _0x29329d=await this['repository'][_0x4ca2fb(0x518)][_0x4ca2fb(0x406)](_0x30fdaf[_0x4ca2fb(0x21b)],_0x30fdaf,this['instance'][_0x4ca2fb(0x6a2)]);if(_0x29329d&&_0x29329d[_0x4ca2fb(0x5bf)]&&_0x29329d[_0x4ca2fb(0x5bf)]['length']>0x1&&this[_0x4ca2fb(0x481)](_0x29329d['_id'],this[_0x4ca2fb(0x35a)][_0x4ca2fb(0x6a2)]),!_0x29329d)throw new Error(_0x4ca2fb(0x65e));return _0x29329d;}catch(_0x352db3){throw this[_0x4ca2fb(0x22c)][_0x4ca2fb(0x7aa)](this[_0x4ca2fb(0x76b)]+'\x20('+this[_0x4ca2fb(0x35a)]['wuid']+_0x4ca2fb(0x4a1)+(_0x352db3 instanceof Error?_0x352db3[_0x4ca2fb(0x6f6)]:JSON[_0x4ca2fb(0x68d)](_0x352db3,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x352db3 instanceof Error?_0x352db3[_0x4ca2fb(0x6f6)]:JSON[_0x4ca2fb(0x68d)](_0x352db3,null,0x2)));}}async[a0_0x5a7632(0x57a)](_0x4cbc48){const _0x379828=a0_0x5a7632;try{this[_0x379828(0x22c)][_0x379828(0x140)](this[_0x379828(0x76b)]+'\x20('+this[_0x379828(0x35a)][_0x379828(0x6a2)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x4f431b=await this[_0x379828(0x2d9)][_0x379828(0x518)][_0x379828(0x48e)]({'where':{'name':_0x4cbc48[_0x379828(0x510)]}},this[_0x379828(0x35a)]['wuid']);if(!_0x4f431b)throw new Error('Flow\x20não\x20encontrado');let _0x2c2f0e=!0x1;if(_0x4cbc48[_0x379828(0x73f)]?.[_0x379828(0x7af)]===!0x0)_0x4f431b[_0x379828(0x646)]=_0x4f431b['varedits'][_0x379828(0x669)](_0x1b8f5c=>_0x1b8f5c&&_0x4cbc48[_0x379828(0x73f)]&&_0x1b8f5c[_0x379828(0x21b)]&&_0x4cbc48['varedit'][_0x379828(0x21b)]&&_0x1b8f5c['_id'][_0x379828(0x1ce)]()!==_0x4cbc48['varedit'][_0x379828(0x21b)][_0x379828(0x1ce)]()),_0x2c2f0e=!0x0;else{let _0x5185dd=_0x4f431b[_0x379828(0x646)][_0x379828(0x6c4)](_0x33f5b9=>_0x33f5b9&&_0x4cbc48[_0x379828(0x73f)]&&_0x33f5b9[_0x379828(0x21b)]&&_0x4cbc48[_0x379828(0x73f)][_0x379828(0x21b)]&&_0x33f5b9[_0x379828(0x21b)][_0x379828(0x1ce)]()===_0x4cbc48['varedit'][_0x379828(0x21b)][_0x379828(0x1ce)]());_0x5185dd?(_0x2c2f0e=_0x5185dd[_0x379828(0x158)]!==_0x4cbc48['varedit'][_0x379828(0x158)],Object['assign'](_0x5185dd,_0x4cbc48[_0x379828(0x73f)])):(_0x4f431b[_0x379828(0x646)][_0x379828(0x208)](_0x4cbc48['varedit']),_0x2c2f0e=!0x0);}if(_0x2c2f0e){_0x4f431b[_0x379828(0x646)]['sort']((_0x4b07e8,_0x295df8)=>_0x4b07e8[_0x379828(0x158)]>_0x295df8['order']?0x1:_0x295df8['order']>_0x4b07e8[_0x379828(0x158)]?-0x1:0x0);for(let _0x57fa0d=0x0;_0x57fa0d<_0x4f431b[_0x379828(0x646)][_0x379828(0x4e4)];_0x57fa0d++)_0x4f431b[_0x379828(0x646)][_0x57fa0d][_0x379828(0x158)]=_0x57fa0d+0x1;}let _0x42ad31=await this[_0x379828(0x2d9)][_0x379828(0x518)][_0x379828(0x406)](_0x4f431b[_0x379828(0x21b)],_0x4f431b,this[_0x379828(0x35a)][_0x379828(0x6a2)]);if(_0x42ad31&&_0x42ad31[_0x379828(0x5bf)]&&_0x42ad31[_0x379828(0x5bf)][_0x379828(0x4e4)]>0x1&&this[_0x379828(0x481)](_0x42ad31['_id'],this['instance']['wuid']),!_0x42ad31)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x42ad31;}catch(_0x38d9e8){throw this['logger'][_0x379828(0x7aa)](this[_0x379828(0x76b)]+'\x20('+this[_0x379828(0x35a)][_0x379828(0x6a2)]+_0x379828(0x4a1)+(_0x38d9e8 instanceof Error?_0x38d9e8[_0x379828(0x6f6)]:JSON[_0x379828(0x68d)](_0x38d9e8,null,0x2))),new w(_0x379828(0x228)+(_0x38d9e8 instanceof Error?_0x38d9e8[_0x379828(0x6f6)]:JSON[_0x379828(0x68d)](_0x38d9e8,null,0x2)));}}async[a0_0x5a7632(0x47c)](_0x395174){const _0x4d8d87=a0_0x5a7632;try{this[_0x4d8d87(0x22c)][_0x4d8d87(0x140)](this[_0x4d8d87(0x76b)]+'\x20('+this[_0x4d8d87(0x35a)][_0x4d8d87(0x6a2)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x58f64e=await this[_0x4d8d87(0x2d9)][_0x4d8d87(0x518)][_0x4d8d87(0x48e)]({'where':{'name':_0x395174[_0x4d8d87(0x510)]}},this[_0x4d8d87(0x35a)]['wuid']);if(!_0x58f64e)throw new Error(_0x4d8d87(0x35f));_0x395174[_0x4d8d87(0x337)][_0x4d8d87(0x510)]=_0x395174[_0x4d8d87(0x337)][_0x4d8d87(0x510)][_0x4d8d87(0x549)](),_0x395174[_0x4d8d87(0x337)][_0x4d8d87(0x510)][_0x4d8d87(0x347)]('_')&&(_0x395174['variable'][_0x4d8d87(0x510)]=_0x395174[_0x4d8d87(0x337)]['name'][_0x4d8d87(0x210)](0x1)),_0x395174[_0x4d8d87(0x337)][_0x4d8d87(0x510)]=_0x395174[_0x4d8d87(0x337)][_0x4d8d87(0x510)][_0x4d8d87(0x549)]();let _0x169277=_0x58f64e[_0x4d8d87(0x7a4)][_0x4d8d87(0x6c4)](_0x52541a=>_0x52541a[_0x4d8d87(0x510)]===_0x395174['variable']['name']);if(_0x169277?.[_0x4d8d87(0x643)]===!0x0)throw new Error(_0x4d8d87(0x176));if(_0x395174[_0x4d8d87(0x337)]?.[_0x4d8d87(0x7af)]===!0x0){if(!_0x169277)return{'message':_0x4d8d87(0x268)};_0x58f64e[_0x4d8d87(0x7a4)]=_0x58f64e[_0x4d8d87(0x7a4)]['filter'](_0xba4f81=>_0xba4f81[_0x4d8d87(0x510)]!==_0x395174['variable']['name']);}else _0x169277?Object['assign'](_0x169277,_0x395174[_0x4d8d87(0x337)]):_0x58f64e[_0x4d8d87(0x7a4)][_0x4d8d87(0x208)](_0x395174[_0x4d8d87(0x337)]);let _0x1b3bfb=await this[_0x4d8d87(0x2d9)]['flow']['updateOne'](_0x58f64e[_0x4d8d87(0x21b)],_0x58f64e,this[_0x4d8d87(0x35a)]['wuid']);if(_0x1b3bfb&&_0x1b3bfb[_0x4d8d87(0x5bf)]&&_0x1b3bfb[_0x4d8d87(0x5bf)]['length']>0x1&&this['synchronizeFlows'](_0x1b3bfb['_id'],this[_0x4d8d87(0x35a)][_0x4d8d87(0x6a2)]),!_0x1b3bfb)throw new Error(_0x4d8d87(0x65e));return _0x1b3bfb;}catch(_0x543eaa){throw this[_0x4d8d87(0x22c)][_0x4d8d87(0x7aa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4d8d87(0x530)+(_0x543eaa instanceof Error?_0x543eaa['message']:JSON['stringify'](_0x543eaa,null,0x2))),new w(_0x4d8d87(0x59b)+(_0x543eaa instanceof Error?_0x543eaa[_0x4d8d87(0x6f6)]:JSON[_0x4d8d87(0x68d)](_0x543eaa,null,0x2)));}}async[a0_0x5a7632(0xef)](_0x532e29){const _0x55ac16=a0_0x5a7632;let _0x3a50a1=null;try{if(!this[_0x55ac16(0x15d)]?.[_0x55ac16(0x2e5)][_0x55ac16(0x6b6)])throw new w(_0x55ac16(0x3fd));this[_0x55ac16(0x22c)][_0x55ac16(0x140)](this['instanceName']+'\x20('+this[_0x55ac16(0x35a)][_0x55ac16(0x6a2)]+_0x55ac16(0x2e9));let _0xb98994=(await this[_0x55ac16(0x563)]({'numbers':[_0x532e29[_0x55ac16(0x619)]]}))[0x0];if(!_0xb98994[_0x55ac16(0x6e9)]&&!(0x0,m[_0x55ac16(0x1c4)])(_0xb98994[_0x55ac16(0x383)])&&!_0xb98994[_0x55ac16(0x383)][_0x55ac16(0x3b6)](_0x55ac16(0x309)))throw _0x3a50a1=JSON[_0x55ac16(0x68d)](_0xb98994,null,0x2),new w(_0xb98994);let _0x15e777=await this[_0x55ac16(0x2d9)][_0x55ac16(0x518)]['findOne']({'where':{'name':_0x532e29['name']}},this[_0x55ac16(0x35a)][_0x55ac16(0x6a2)]);if(!_0x15e777)return this[_0x55ac16(0x22c)][_0x55ac16(0x7aa)](this[_0x55ac16(0x76b)]+'\x20('+this['instance'][_0x55ac16(0x6a2)]+_0x55ac16(0x19b)),{'message':_0x55ac16(0x35f)};let _0x5f3a0e=await this[_0x55ac16(0x375)](_0x15e777,_0xb98994[_0x55ac16(0x383)],_0x532e29[_0x55ac16(0x77b)]);if(_0x5f3a0e){this[_0x55ac16(0x22c)][_0x55ac16(0x140)](this['instanceName']+'\x20('+this['instance'][_0x55ac16(0x6a2)]+_0x55ac16(0x5ba));let _0x310361=await this[_0x55ac16(0x1ab)](_0x5f3a0e);return _0x310361&&await this[_0x55ac16(0x774)](_0x5f3a0e,_0x310361),{'message':_0x55ac16(0x1b4)+_0x532e29[_0x55ac16(0x619)]};}}catch(_0x2232a7){if(this[_0x55ac16(0x22c)][_0x55ac16(0x7aa)](this[_0x55ac16(0x76b)]+'\x20('+this[_0x55ac16(0x35a)]['wuid']+_0x55ac16(0x3d0)+(_0x2232a7 instanceof Error?_0x2232a7[_0x55ac16(0x6f6)]:JSON['stringify'](_0x2232a7,null,0x2))),_0x3a50a1=_0x2232a7 instanceof Error?_0x2232a7[_0x55ac16(0x6f6)]:JSON[_0x55ac16(0x68d)](_0x2232a7,null,0x2),_0x3a50a1)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x3a50a1);}}async['closeExistingConversations'](_0xc582c1){const _0x16801d=a0_0x5a7632;try{let _0x4acf15={'remoteJid':_0xc582c1,'status':_0x16801d(0x29a)},_0x412a92={'status':_0x16801d(0x32a)},_0x1b3764=await this[_0x16801d(0x2d9)][_0x16801d(0x6e6)][_0x16801d(0x728)](_0x4acf15,_0x412a92,this['instance']['wuid']);return this[_0x16801d(0x22c)][_0x16801d(0x140)](this[_0x16801d(0x76b)]+'\x20('+this[_0x16801d(0x35a)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x1b3764;}catch(_0x439600){throw this[_0x16801d(0x22c)][_0x16801d(0x7aa)](this[_0x16801d(0x76b)]+'\x20('+this[_0x16801d(0x35a)][_0x16801d(0x6a2)]+_0x16801d(0x72a)+_0x439600['message']),_0x439600;}}async[a0_0x5a7632(0x375)](_0x50a70f,_0x46e155,_0x1b1682){const _0x3dc364=a0_0x5a7632;this[_0x3dc364(0x22c)][_0x3dc364(0x140)](this[_0x3dc364(0x76b)]+'\x20('+this[_0x3dc364(0x35a)][_0x3dc364(0x6a2)]+_0x3dc364(0x338)),await this['closeExistingConversations'](_0x46e155);try{let _0x54e4d9=require(_0x3dc364(0x207))['ObjectId'],_0x10efde=Date['now'](),_0x5ab0b1=_0x3dc364(0x51f),_0x26635f={},_0x341de3={},_0x515a1e={..._0x50a70f,'chatLog':null},_0x1c6921=await this[_0x3dc364(0x16a)](_0x515a1e[_0x3dc364(0x7a4)]),_0x2d28e2=await this[_0x3dc364(0x11e)](_0x46e155),_0xe31760={..._0x1c6921,..._0x2d28e2,'_remoteJid':_0x46e155},_0x25378b={'lastReceivedMessage':_0x26635f,'lastSendMessage':_0x341de3,'lastBlockId':_0x5ab0b1,'lastCondition':!0x0,'realVariables':_0xe31760};_0x515a1e['chatLog']=_0x25378b,_0x515a1e[_0x3dc364(0x423)][_0x3dc364(0x4c4)]={..._0xe31760,..._0x1b1682},delete _0x515a1e[_0x3dc364(0x21b)],_0x515a1e[_0x3dc364(0x21b)]=new _0x54e4d9(),_0x515a1e[_0x3dc364(0x50a)]=_0x10efde,_0x515a1e['status']=_0x3dc364(0x29a),_0x515a1e[_0x3dc364(0x619)]=_0x46e155;let _0x1e769b=await this[_0x3dc364(0x2d9)][_0x3dc364(0x6e6)][_0x3dc364(0x406)](_0x515a1e[_0x3dc364(0x21b)],_0x515a1e,this[_0x3dc364(0x35a)][_0x3dc364(0x6a2)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3dc364(0x35a)]['wuid']+_0x3dc364(0x411)),_0x1e769b?_0x515a1e:null;}catch(_0x5ab9b8){throw this[_0x3dc364(0x22c)][_0x3dc364(0x7aa)](this[_0x3dc364(0x76b)]+'\x20('+this[_0x3dc364(0x35a)][_0x3dc364(0x6a2)]+_0x3dc364(0x482)+(_0x5ab9b8 instanceof Error?_0x5ab9b8[_0x3dc364(0x6f6)]:JSON[_0x3dc364(0x68d)](_0x5ab9b8,null,0x2))),new w(_0x5ab9b8[_0x3dc364(0x6f6)]);}}async[a0_0x5a7632(0x3fe)](_0xbd6979){const _0x1d024b=a0_0x5a7632;try{this[_0x1d024b(0x22c)]['verbose'](this[_0x1d024b(0x76b)]+'\x20('+this[_0x1d024b(0x35a)][_0x1d024b(0x6a2)]+_0x1d024b(0x233)),this[_0x1d024b(0x22c)]['verbose'](this[_0x1d024b(0x76b)]+'\x20('+this[_0x1d024b(0x35a)]['wuid']+_0x1d024b(0x4f9)+_0xbd6979);let _0x3bb1af={'where':{'_id':_0xbd6979}};return await this[_0x1d024b(0x2d9)]['flowConversation'][_0x1d024b(0x48e)](_0x3bb1af,this[_0x1d024b(0x35a)][_0x1d024b(0x6a2)]);}catch(_0x4a05dc){throw this[_0x1d024b(0x22c)][_0x1d024b(0x7aa)](this[_0x1d024b(0x76b)]+'\x20('+this[_0x1d024b(0x35a)][_0x1d024b(0x6a2)]+_0x1d024b(0x1ac)+(_0x4a05dc instanceof Error?_0x4a05dc[_0x1d024b(0x6f6)]:JSON[_0x1d024b(0x68d)](_0x4a05dc,null,0x2))),new w(_0x1d024b(0x3b8)+_0x4a05dc['message']);}}async[a0_0x5a7632(0x7b2)](_0x50cc8){const _0x2ef4fc=a0_0x5a7632;try{return this[_0x2ef4fc(0x22c)][_0x2ef4fc(0x140)](this[_0x2ef4fc(0x76b)]+'\x20('+this['instance']['wuid']+_0x2ef4fc(0x368)),await this['repository']['flowConversation'][_0x2ef4fc(0x6c4)](_0x50cc8,this[_0x2ef4fc(0x35a)][_0x2ef4fc(0x6a2)]);}catch(_0x28cbc5){throw this[_0x2ef4fc(0x22c)][_0x2ef4fc(0x7aa)](this[_0x2ef4fc(0x76b)]+'\x20('+this[_0x2ef4fc(0x35a)][_0x2ef4fc(0x6a2)]+_0x2ef4fc(0x2d8)+(_0x28cbc5 instanceof Error?_0x28cbc5[_0x2ef4fc(0x6f6)]:JSON[_0x2ef4fc(0x68d)](_0x28cbc5,null,0x2))),new w(_0x2ef4fc(0x71f)+_0x28cbc5[_0x2ef4fc(0x6f6)]);}}async[a0_0x5a7632(0x48c)](_0x20eb52){const _0x21f56d=a0_0x5a7632;try{return this['logger'][_0x21f56d(0x140)](this['instanceName']+'\x20('+this[_0x21f56d(0x35a)][_0x21f56d(0x6a2)]+_0x21f56d(0x603)),this[_0x21f56d(0x22c)][_0x21f56d(0x140)](this[_0x21f56d(0x76b)]+'\x20('+this[_0x21f56d(0x35a)]['wuid']+_0x21f56d(0x4a3)+_0x20eb52),(await this[_0x21f56d(0x2d9)][_0x21f56d(0x6e6)][_0x21f56d(0x3b9)]({'where':{'_id':_0x20eb52}},this[_0x21f56d(0x35a)][_0x21f56d(0x6a2)]))[_0x21f56d(0x1bb)]===0x0?{'message':_0x21f56d(0x644)}:{'message':_0x21f56d(0x116)};}catch(_0x28f21a){throw this[_0x21f56d(0x22c)][_0x21f56d(0x7aa)](this[_0x21f56d(0x76b)]+'\x20('+this['instance']['wuid']+_0x21f56d(0x6a9)+(_0x28f21a instanceof Error?_0x28f21a[_0x21f56d(0x6f6)]:JSON['stringify'](_0x28f21a,null,0x2))),new w(_0x21f56d(0x634)+_0x28f21a[_0x21f56d(0x6f6)]);}}async[a0_0x5a7632(0x333)](_0x2509ba){const _0x19f9a9=a0_0x5a7632;try{let {_id:_0x3ade2b,chatLog:_0x432158,status:_0x524893}=_0x2509ba;if(!_0x3ade2b)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x44d47c={};if(_0x524893!==void 0x0&&(_0x44d47c[_0x19f9a9(0x5cd)]=_0x524893),Object['keys'](_0x44d47c)[_0x19f9a9(0x4e4)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x5e59f6=await this[_0x19f9a9(0x2d9)]['flowConversation']['updateOne'](_0x3ade2b,_0x44d47c,this[_0x19f9a9(0x35a)]['wuid']);return _0x5e59f6||{'message':_0x19f9a9(0x757)};}catch(_0x312b26){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x19f9a9(0x6a2)]+_0x19f9a9(0x726)+(_0x312b26 instanceof Error?_0x312b26[_0x19f9a9(0x6f6)]:JSON[_0x19f9a9(0x68d)](_0x312b26,null,0x2))),new w(_0x19f9a9(0x79a)+_0x312b26['message']);}}async[a0_0x5a7632(0x6a6)](_0x1c5963){const _0x54c862=a0_0x5a7632;let _0x5d248f=await this['repository'][_0x54c862(0x458)][_0x54c862(0x48e)]({'where':{'_id':_0x1c5963[_0x54c862(0x21b)]}},this[_0x54c862(0x35a)]['wuid']);if(!_0x5d248f)throw new w(_0x54c862(0x5f7));console[_0x54c862(0x1c8)](_0x1c5963);try{_0x1c5963[_0x54c862(0x21b)]=this['createJid'](_0x1c5963[_0x54c862(0x21b)]);let {_id:_0x1895f3,leadInfo:_0x415fa8}=_0x1c5963;if(!_0x1895f3)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0xe91b76=(_0x59b290,_0x6fb3f,_0x463efd)=>{const _0xd322eb=_0x54c862;_0x59b290&&_0x463efd[_0xd322eb(0x16d)](_0x5d8c02=>{const _0x5bafab=_0xd322eb;_0x59b290[_0x5d8c02]!==void 0x0&&(_0x6fb3f[_0x5bafab(0x124)+_0x5d8c02]=_0x59b290[_0x5d8c02]);});},_0x2c492e={};if(_0x415fa8&&(_0xe91b76(_0x415fa8,_0x2c492e,['nome',_0x54c862(0x7ac),_0x54c862(0x311),_0x54c862(0x205),_0x54c862(0x5cd),_0x54c862(0x3dd),_0x54c862(0x46e),_0x54c862(0x4b1),'responsavelid','etiquetas']),Array[_0x54c862(0x5df)](_0x415fa8[_0x54c862(0x2b5)])&&(_0x2c492e['leadInfo.customFields']=_0x415fa8[_0x54c862(0x2b5)][_0x54c862(0x2ca)](_0x340b57=>({'_id':_0x340b57['_id'],'value':_0x340b57[_0x54c862(0x511)]}))),_0x1c5963['leadInfo'][_0x54c862(0x112)]!==void 0x0)){let _0x352d1d=await this[_0x54c862(0x2d9)][_0x54c862(0x63b)][_0x54c862(0x6c4)]({'where':{}},this[_0x54c862(0x35a)][_0x54c862(0x6a2)]),_0x692f96=new Set(_0x1c5963[_0x54c862(0x643)][_0x54c862(0x112)]||[]),_0x231364=new Set(_0x1c5963[_0x54c862(0x643)][_0x54c862(0x112)]),_0x4a05c9=new Set(_0x352d1d['map'](_0x17ab50=>_0x17ab50[_0x54c862(0x21b)])),_0x1a8769=[..._0x231364][_0x54c862(0x669)](_0x367faf=>!_0x692f96[_0x54c862(0x167)](_0x367faf)&&_0x4a05c9['has'](_0x367faf)),_0x4bf2d1=[..._0x692f96][_0x54c862(0x669)](_0x17cfe1=>!_0x231364[_0x54c862(0x167)](_0x17cfe1));if(_0x2c492e[_0x54c862(0x2a9)]=[..._0x692f96],_0x5d248f&&!_0x5d248f['imported']){for(let _0xb1011e of _0x1a8769)await this['AddChatLabel'](_0xb1011e,_0x1c5963[_0x54c862(0x21b)]),_0x692f96[_0x54c862(0x17b)](_0xb1011e);for(let _0xc93ac7 of _0x4bf2d1)await this[_0x54c862(0x463)](_0xc93ac7,_0x1c5963['_id']),_0x692f96[_0x54c862(0x7af)](_0xc93ac7);}}if(_0x1c5963['unreadcount']!==void 0x0&&(_0x2c492e[_0x54c862(0x372)]=Number(_0x1c5963[_0x54c862(0x372)])),Object['keys'](_0x2c492e)[_0x54c862(0x4e4)]===0x0)throw new Error(_0x54c862(0x4cc));let _0x1f4e9f=await this[_0x54c862(0x2d9)][_0x54c862(0x458)][_0x54c862(0x406)]({'where':{'_id':_0x1c5963[_0x54c862(0x21b)]}},_0x2c492e,this[_0x54c862(0x35a)][_0x54c862(0x6a2)]);return _0x1f4e9f&&q(this[_0x54c862(0x76b)],'chats',{'chat':_0x1f4e9f}),_0x1f4e9f?(this[_0x54c862(0x22c)][_0x54c862(0x140)](this[_0x54c862(0x76b)]+'\x20('+this['instance']['wuid']+_0x54c862(0x2f8)+JSON[_0x54c862(0x68d)](_0x1f4e9f,null,0x2)),_0x1f4e9f):{'message':_0x54c862(0x399)};}catch(_0x2f0137){throw this[_0x54c862(0x22c)][_0x54c862(0x7aa)](this[_0x54c862(0x76b)]+'\x20('+this['instance'][_0x54c862(0x6a2)]+_0x54c862(0x586)+(_0x2f0137 instanceof Error?_0x2f0137[_0x54c862(0x6f6)]:JSON['stringify'](_0x2f0137,null,0x2))),new w(_0x54c862(0x62a)+_0x2f0137[_0x54c862(0x6f6)]);}}async[a0_0x5a7632(0x2ba)](_0x3b7b34,_0x146189){const _0x46d735=a0_0x5a7632;try{await this['client']['addChatLabel'](_0x146189,_0x3b7b34),console['log'](_0x46d735(0x238)+_0x3b7b34+'\x20adicionado\x20ao\x20chat\x20'+_0x146189+_0x46d735(0x5d6));}catch(_0x458404){console[_0x46d735(0x7aa)](_0x46d735(0x3f2)+_0x3b7b34+'\x20ao\x20chat\x20'+_0x146189+':',_0x458404);}}async['RemoveChatLabel'](_0x3abcd0,_0x1f1aa9){const _0x5b265f=a0_0x5a7632;try{await this['client'][_0x5b265f(0x3cd)](_0x1f1aa9,_0x3abcd0),console[_0x5b265f(0x1c8)](_0x5b265f(0x238)+_0x3abcd0+_0x5b265f(0x2b1)+_0x1f1aa9+_0x5b265f(0x5d6));}catch(_0x5cde0c){console[_0x5b265f(0x7aa)](_0x5b265f(0x29e)+_0x3abcd0+_0x5b265f(0x13d)+_0x1f1aa9+':',_0x5cde0c);}}async[a0_0x5a7632(0x2f9)](_0x2c9f00){const _0x77198f=a0_0x5a7632;try{let _0x430853=await this[_0x77198f(0x2d9)][_0x77198f(0x23a)]['findOrCreate'](this[_0x77198f(0x35a)][_0x77198f(0x6a2)]),_0x592335=_0x2c9f00[_0x77198f(0x21b)]?_0x430853[_0x77198f(0x773)][_0x77198f(0x1c6)](_0x273606=>_0x273606[_0x77198f(0x21b)]===_0x2c9f00[_0x77198f(0x21b)]):-0x1;if(_0x2c9f00['delete']&&_0x592335>-0x1)_0x430853[_0x77198f(0x773)][_0x77198f(0x470)](_0x592335,0x1);else{if(_0x592335>-0x1){let _0x47351a=_0x430853['agents'][_0x592335];_0x2c9f00[_0x77198f(0x77a)]&&(_0x47351a['fone']=_0x2c9f00[_0x77198f(0x77a)]),_0x2c9f00[_0x77198f(0x510)]&&(_0x47351a[_0x77198f(0x510)]=_0x2c9f00[_0x77198f(0x510)]),_0x2c9f00[_0x77198f(0x311)]&&(_0x47351a[_0x77198f(0x311)]=_0x2c9f00[_0x77198f(0x311)]),_0x2c9f00[_0x77198f(0x4a9)]&&(_0x47351a[_0x77198f(0x4a9)]=_0x2c9f00['role']);}else _0x430853[_0x77198f(0x773)][_0x77198f(0x208)]({'_id':_0x2c9f00[_0x77198f(0x21b)]||new le[(_0x77198f(0x1c5))][(_0x77198f(0x5c4))][(_0x77198f(0x291))]()[_0x77198f(0x1ce)](),'fone':_0x2c9f00[_0x77198f(0x77a)],'name':_0x2c9f00['name'],'email':_0x2c9f00[_0x77198f(0x311)],'role':_0x2c9f00[_0x77198f(0x4a9)]});}let _0x358f93={'agents':_0x430853[_0x77198f(0x773)]},_0x34797e=await this[_0x77198f(0x2d9)][_0x77198f(0x23a)][_0x77198f(0x703)](_0x358f93,this[_0x77198f(0x35a)][_0x77198f(0x6a2)]);return this[_0x77198f(0x15d)]=_0x34797e,this[_0x77198f(0x22c)][_0x77198f(0x140)](this[_0x77198f(0x76b)]+'\x20('+this[_0x77198f(0x35a)][_0x77198f(0x6a2)]+_0x77198f(0x790)),this[_0x77198f(0x22c)][_0x77198f(0x140)](this[_0x77198f(0x76b)]+'\x20('+this['instance'][_0x77198f(0x6a2)]+_0x77198f(0x2f8)+this[_0x77198f(0x15d)]),_0x34797e;}catch(_0x31fbe1){throw this[_0x77198f(0x22c)][_0x77198f(0x7aa)](this['instanceName']+'\x20('+this[_0x77198f(0x35a)][_0x77198f(0x6a2)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x31fbe1 instanceof Error?_0x31fbe1['message']:JSON['stringify'](_0x31fbe1,null,0x2))),new w(_0x77198f(0x39e)+_0x31fbe1[_0x77198f(0x6f6)]);}}async[a0_0x5a7632(0x359)](_0x154aa6){const _0x153741=a0_0x5a7632;try{let _0x5d27e2=await this[_0x153741(0x2d9)]['automateSystem']['findOrCreate'](this[_0x153741(0x35a)][_0x153741(0x6a2)]),_0x5430e5=_0x154aa6[_0x153741(0x21b)]?_0x5d27e2['customFields']['findIndex'](_0xe0c57a=>_0xe0c57a['_id']===_0x154aa6[_0x153741(0x21b)]):-0x1,_0x219d18=!0x1,_0x1c3100=_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x1a2)](_0x156bce=>_0x156bce[_0x153741(0x158)]===_0x154aa6[_0x153741(0x158)]);if(_0x154aa6[_0x153741(0x7af)]&&_0x5430e5>-0x1)_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x470)](_0x5430e5,0x1),_0x219d18=!0x0;else{if(_0x5430e5>-0x1){if(_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x1a2)](_0x1b922c=>_0x1b922c[_0x153741(0x510)]===_0x154aa6['name']&&_0x1b922c['_id']!==_0x154aa6[_0x153741(0x21b)]))throw new Error(_0x153741(0x70a));let _0xf8bede=_0x5d27e2[_0x153741(0x2b5)][_0x5430e5];_0x154aa6[_0x153741(0x158)]&&(_0x1c3100||!Number['isInteger'](_0x154aa6[_0x153741(0x158)]))&&(_0xf8bede['order']=_0x154aa6[_0x153741(0x158)],_0x219d18=!0x0),_0x154aa6[_0x153741(0x510)]&&(_0xf8bede[_0x153741(0x510)]=_0x154aa6['name']);}else{if(_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x1a2)](_0x33ba76=>_0x33ba76[_0x153741(0x510)]===_0x154aa6['name']&&_0x33ba76[_0x153741(0x21b)]!==_0x154aa6[_0x153741(0x21b)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x208)]({'_id':_0x154aa6['_id']||new le[(_0x153741(0x1c5))][(_0x153741(0x5c4))][(_0x153741(0x291))]()[_0x153741(0x1ce)](),'order':_0x154aa6[_0x153741(0x158)],'name':_0x154aa6[_0x153741(0x510)]}),_0x219d18=!0x0;}}if(_0x219d18){_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x155)]((_0x118c18,_0x22ac57)=>_0x118c18[_0x153741(0x158)]>_0x22ac57['order']?0x1:_0x22ac57[_0x153741(0x158)]>_0x118c18['order']?-0x1:0x0);for(let _0x3a43d9=0x0;_0x3a43d9<_0x5d27e2[_0x153741(0x2b5)][_0x153741(0x4e4)];_0x3a43d9++)_0x5d27e2['customFields'][_0x3a43d9][_0x153741(0x158)]=_0x3a43d9+0x1;}let _0x3e097d=await this[_0x153741(0x2d9)][_0x153741(0x23a)]['update'](_0x5d27e2,this[_0x153741(0x35a)][_0x153741(0x6a2)]);return this[_0x153741(0x15d)]=_0x3e097d,this[_0x153741(0x22c)]['verbose'](this[_0x153741(0x76b)]+'\x20('+this[_0x153741(0x35a)][_0x153741(0x6a2)]+_0x153741(0x131)),this[_0x153741(0x22c)][_0x153741(0x140)](this[_0x153741(0x76b)]+'\x20('+this[_0x153741(0x35a)][_0x153741(0x6a2)]+_0x153741(0x2f8)+this[_0x153741(0x15d)]),_0x3e097d;}catch(_0x309480){throw this['logger'][_0x153741(0x7aa)](this[_0x153741(0x76b)]+'\x20('+this[_0x153741(0x35a)][_0x153741(0x6a2)]+_0x153741(0x6b4)+(_0x309480 instanceof Error?_0x309480['message']:JSON[_0x153741(0x68d)](_0x309480,null,0x2))),new w(_0x153741(0x285)+_0x309480[_0x153741(0x6f6)]);}}async[a0_0x5a7632(0x28b)](_0x1a2a6f){const _0x4f60d8=a0_0x5a7632;try{let _0x1dbb83=await this[_0x4f60d8(0x2d9)][_0x4f60d8(0x23a)][_0x4f60d8(0x2ef)](this[_0x4f60d8(0x35a)][_0x4f60d8(0x6a2)]);if(!_0x1dbb83)throw new Error(_0x4f60d8(0x565));let _0x6b2cfc={'_id':_0x1dbb83[_0x4f60d8(0x21b)],'flowConfig':{'enabled':_0x1a2a6f[_0x4f60d8(0x6b6)]??_0x1dbb83[_0x4f60d8(0x2e5)][_0x4f60d8(0x6b6)],'ignoreGroups':_0x1a2a6f[_0x4f60d8(0x548)]??_0x1dbb83['flowConfig']['ignoreGroups'],'prefixCommand':_0x1a2a6f[_0x4f60d8(0x198)]??_0x1dbb83[_0x4f60d8(0x2e5)][_0x4f60d8(0x198)],'stopConversation':_0x1a2a6f[_0x4f60d8(0x456)]??_0x1dbb83[_0x4f60d8(0x2e5)]['stopConversation'],'stopMinutes':_0x1a2a6f[_0x4f60d8(0x390)]??_0x1dbb83['flowConfig'][_0x4f60d8(0x390)],'stopWhenYouSendMsg':_0x1a2a6f['stopWhenYouSendMsg']??_0x1dbb83[_0x4f60d8(0x2e5)]['stopWhenYouSendMsg']}},_0x12d31c=await this[_0x4f60d8(0x2d9)][_0x4f60d8(0x23a)][_0x4f60d8(0x703)](_0x6b2cfc,this['instance'][_0x4f60d8(0x6a2)]);return this['AutomateSystem']=_0x12d31c,this[_0x4f60d8(0x22c)][_0x4f60d8(0x140)](this[_0x4f60d8(0x76b)]+'\x20('+this[_0x4f60d8(0x35a)][_0x4f60d8(0x6a2)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4f60d8(0x22c)][_0x4f60d8(0x140)](this[_0x4f60d8(0x76b)]+'\x20('+this['instance']['wuid']+_0x4f60d8(0x2f8)+this['AutomateSystem']),setTimeout(()=>this[_0x4f60d8(0x33b)](),0x7d0),_0x12d31c;}catch(_0x4dccc9){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4f60d8(0x6a2)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x4dccc9 instanceof Error?_0x4dccc9['message']:JSON[_0x4f60d8(0x68d)](_0x4dccc9,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x4dccc9[_0x4f60d8(0x6f6)]);}}async[a0_0x5a7632(0x70c)](){const _0x3a9d5f=a0_0x5a7632;try{let _0x2a0114=await this['repository'][_0x3a9d5f(0x23a)][_0x3a9d5f(0x2ef)](this['instance'][_0x3a9d5f(0x6a2)]);return this[_0x3a9d5f(0x15d)]=_0x2a0114,this['logger']['verbose'](this[_0x3a9d5f(0x76b)]+'\x20('+this[_0x3a9d5f(0x35a)][_0x3a9d5f(0x6a2)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x3a9d5f(0x22c)][_0x3a9d5f(0x140)](this['AutomateSystem']),_0x2a0114;}catch(_0x4cbe38){throw this['logger']['error'](this[_0x3a9d5f(0x76b)]+'\x20('+this[_0x3a9d5f(0x35a)]['wuid']+_0x3a9d5f(0x2b0)+(_0x4cbe38 instanceof Error?_0x4cbe38[_0x3a9d5f(0x6f6)]:JSON[_0x3a9d5f(0x68d)](_0x4cbe38,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4cbe38[_0x3a9d5f(0x6f6)]);}}async['setRestartTimeout'](){const _0x15f3bc=a0_0x5a7632;this[_0x15f3bc(0x35a)][_0x15f3bc(0x117)][_0x15f3bc(0x5b8)]&&clearTimeout(this['instance'][_0x15f3bc(0x117)][_0x15f3bc(0x5b8)]),this[_0x15f3bc(0x35a)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x299691=_0x15f3bc;this[_0x299691(0x15b)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5a7632(0x15b)](){const _0x3882da=a0_0x5a7632;Date['now']()-this['instance'][_0x3882da(0x117)][_0x3882da(0x3ed)]>=0x1d4c0&&(this[_0x3882da(0x22c)]['verbose'](this[_0x3882da(0x76b)]+'\x20('+this['instance'][_0x3882da(0x6a2)]+_0x3882da(0x763)),this['instance']['ScheduleMessage'][_0x3882da(0x1d7)]=null,this[_0x3882da(0x35a)][_0x3882da(0x117)][_0x3882da(0x3ed)]=0x0,this['instance'][_0x3882da(0x117)][_0x3882da(0x381)]=0x0,await this[_0x3882da(0x33b)]());}async['scheduleNextCheck'](){const _0x5916ca=a0_0x5a7632;let _0xda04f0=()=>{const _0xcf4828=a0_0xc371;this[_0xcf4828(0x22c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xcf4828(0x6a2)]+_0xcf4828(0x211)+this[_0xcf4828(0x35a)][_0xcf4828(0x117)][_0xcf4828(0x1d7)]+_0xcf4828(0x580));},_0xa14bd2=async()=>{const _0x9ab2f6=a0_0xc371;this[_0x9ab2f6(0x22c)][_0x9ab2f6(0x140)](this[_0x9ab2f6(0x76b)]+'\x20('+this['instance']['wuid']+_0x9ab2f6(0x371));let _0x3220a3=Date[_0x9ab2f6(0x73d)]()-0xc*0x3c*0x3c*0x3e8,_0x45fc63={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x9ab2f6(0x73d)](),'$gte':_0x3220a3}},{'when':0x0}]}};return await this[_0x9ab2f6(0x2d9)]['scheduleMessage'][_0x9ab2f6(0x6c4)](_0x45fc63,this[_0x9ab2f6(0x35a)][_0x9ab2f6(0x6a2)]);},_0x802ba=async _0xc421be=>{const _0x1ccb07=a0_0xc371;for(let _0x394216 of _0xc421be){let _0x3836f4={'_id':_0x394216[_0x1ccb07(0x21b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1ccb07(0x73d)]()-0x1770}}]},_0x230e39={'startSend':Date['now']()};if(!await this[_0x1ccb07(0x2d9)][_0x1ccb07(0x39f)][_0x1ccb07(0x406)](_0x3836f4,_0x230e39,this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]))return;if(!this[_0x1ccb07(0x35a)]['ScheduleMessage']['isConnected']){this[_0x1ccb07(0x22c)][_0x1ccb07(0x140)](this['instanceName']+'\x20('+this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]+_0x1ccb07(0x72c));break;}if(_0x394216[_0x1ccb07(0x32e)]===_0x1ccb07(0x518)&&!this['AutomateSystem']?.[_0x1ccb07(0x2e5)][_0x1ccb07(0x6b6)]){this['logger'][_0x1ccb07(0x7aa)](this[_0x1ccb07(0x76b)]+'\x20('+this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]+_0x1ccb07(0x561));continue;}(!_0x394216[_0x1ccb07(0x33e)]||_0x394216[_0x1ccb07(0x33e)][_0x1ccb07(0x4e4)]===0x0)&&(_0x394216=await this[_0x1ccb07(0x2d9)][_0x1ccb07(0x39f)][_0x1ccb07(0x1dd)](_0x394216['_id'],{'status':'sending','remoteJidsRemaining':[..._0x394216['remoteJids']]},this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]));for(let _0x3acbc3 of _0x394216[_0x1ccb07(0x33e)]){if(await this['setRestartTimeout'](),this['instance']['ScheduleMessage']['lastSend']=Date[_0x1ccb07(0x73d)](),this['instance'][_0x1ccb07(0x117)][_0x1ccb07(0x107)]===_0x3acbc3){this[_0x1ccb07(0x22c)][_0x1ccb07(0x7aa)](this[_0x1ccb07(0x76b)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x3acbc3+_0x1ccb07(0x7a8));let _0x5cccc5={'$push':{'messagesSend':{'remoteJid':_0x3acbc3,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x1ccb07(0x73d)]()}},'$pull':{'remoteJidsRemaining':_0x3acbc3}};await this['repository'][_0x1ccb07(0x39f)]['updateOneById'](_0x394216[_0x1ccb07(0x21b)],_0x5cccc5,this['instance'][_0x1ccb07(0x6a2)]);continue;}if(this[_0x1ccb07(0x35a)][_0x1ccb07(0x117)][_0x1ccb07(0x107)]=_0x3acbc3,_0x394216[_0x1ccb07(0x38c)][_0x1ccb07(0x1a2)](_0x456289=>_0x456289[_0x1ccb07(0x619)]===_0x3acbc3)){this[_0x1ccb07(0x22c)][_0x1ccb07(0x140)](this['instanceName']+'\x20('+this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]+_0x1ccb07(0x357)+_0x3acbc3+'.\x20Pulando.');continue;}if(!this[_0x1ccb07(0x35a)][_0x1ccb07(0x117)][_0x1ccb07(0x2d1)]){this[_0x1ccb07(0x22c)][_0x1ccb07(0x140)](this[_0x1ccb07(0x76b)]+'\x20('+this['instance']['wuid']+_0x1ccb07(0x2cc));break;}if(!this['instance']['ScheduleMessage'][_0x1ccb07(0x1d7)]){this['logger']['verbose'](this[_0x1ccb07(0x76b)]+'\x20('+this['instance'][_0x1ccb07(0x6a2)]+_0x1ccb07(0x129)+_0x394216[_0x1ccb07(0x21b)]+_0x1ccb07(0x591));break;}if(_0x394216[_0x1ccb07(0x32e)]==='flow'&&!this[_0x1ccb07(0x15d)]?.[_0x1ccb07(0x2e5)][_0x1ccb07(0x6b6)]){this[_0x1ccb07(0x22c)][_0x1ccb07(0x7aa)](this['instanceName']+'\x20('+this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]+_0x1ccb07(0x561));break;}let _0x2acbb9={'remoteJid':_0x3acbc3,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x464242=null;try{let _0x29500b=await this[_0x1ccb07(0x114)](_0x3acbc3,_0x394216);_0x2acbb9[_0x1ccb07(0x7aa)]=_0x29500b[_0x1ccb07(0x7aa)],_0x2acbb9['id']=_0x29500b['error']?null:_0x29500b['id'],_0x2acbb9['error_log']=_0x29500b['error']?_0x29500b[_0x1ccb07(0x17f)]?_0x29500b[_0x1ccb07(0x17f)]['toString']():'':null;let _0x568fea={'$push':{'messagesSend':_0x2acbb9},'$pull':{'remoteJidsRemaining':_0x3acbc3}},_0x319d6a=_0x394216[_0x1ccb07(0x21b)];if(_0x464242=await this[_0x1ccb07(0x2d9)]['scheduleMessage']['updateOneById'](_0x319d6a,_0x568fea,this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]),_0x29500b['error'])continue;let _0x6373ef=this[_0x1ccb07(0x438)](_0x394216[_0x1ccb07(0x716)],_0x394216[_0x1ccb07(0x641)]);await this[_0x1ccb07(0x676)](_0x6373ef);}catch(_0x56d0a0){this[_0x1ccb07(0x22c)]['error'](this[_0x1ccb07(0x76b)]+'\x20('+this[_0x1ccb07(0x35a)]['wuid']+_0x1ccb07(0x1b6)+_0x3acbc3+':\x20'+(_0x56d0a0 instanceof Error?_0x56d0a0[_0x1ccb07(0x6f6)]:JSON[_0x1ccb07(0x68d)](_0x56d0a0,null,0x2))),_0x2acbb9[_0x1ccb07(0x7aa)]=!0x0,_0x2acbb9[_0x1ccb07(0x5d1)]=_0x56d0a0[_0x1ccb07(0x6f6)];let _0x27b159={'$push':{'messagesSend':_0x2acbb9},'$pull':{'remoteJidsRemaining':_0x3acbc3}},_0x3540a1=_0x394216['_id'];_0x464242=await this[_0x1ccb07(0x2d9)][_0x1ccb07(0x39f)][_0x1ccb07(0x1dd)](_0x3540a1,_0x27b159,this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]);}finally{if(_0x464242&&_0x464242[_0x1ccb07(0x5cd)]==='stopped'){this['logger'][_0x1ccb07(0x140)](this[_0x1ccb07(0x76b)]+'\x20('+this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]+_0x1ccb07(0x129)+_0x394216[_0x1ccb07(0x21b)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0xd82d49=await this['repository'][_0x1ccb07(0x39f)][_0x1ccb07(0x12e)](_0x394216[_0x1ccb07(0x21b)],this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]);if(_0xd82d49[_0x1ccb07(0x33e)][_0x1ccb07(0x4e4)]===0x0&&_0xd82d49[_0x1ccb07(0x5cd)]!==_0x1ccb07(0x4cd)){let _0x26b420={'$set':{'status':'done'}},_0x2c8698=_0xd82d49[_0x1ccb07(0x21b)];await this[_0x1ccb07(0x2d9)][_0x1ccb07(0x39f)][_0x1ccb07(0x1dd)](_0x2c8698,_0x26b420,this[_0x1ccb07(0x35a)][_0x1ccb07(0x6a2)]);}await new Promise(_0x1a8f3b=>setTimeout(_0x1a8f3b,0x1388));}},_0x4b38e1=async()=>{const _0xab7d82=a0_0xc371;let _0x39c359={'where':{'status':_0xab7d82(0x787),'when':{'$gt':Date['now']()}}},_0x10db63=await this[_0xab7d82(0x2d9)][_0xab7d82(0x39f)][_0xab7d82(0x48e)](_0x39c359,this[_0xab7d82(0x35a)][_0xab7d82(0x6a2)]);_0x10db63&&_0x10db63[_0xab7d82(0x13c)]-Date[_0xab7d82(0x73d)]()<=0x5265c00?this[_0xab7d82(0x35a)][_0xab7d82(0x117)]['delayMessage']=_0x10db63[_0xab7d82(0x13c)]-Date[_0xab7d82(0x73d)]():this[_0xab7d82(0x35a)]['ScheduleMessage'][_0xab7d82(0x381)]=(0x3c+Math[_0xab7d82(0x78e)](Math[_0xab7d82(0x171)]()*0x3c))*0x3c*0x3e8,this['instance'][_0xab7d82(0x117)][_0xab7d82(0x381)]=Math[_0xab7d82(0x378)](this[_0xab7d82(0x35a)]['ScheduleMessage']['delayMessage'],0x7d0);let _0x52be93=Math[_0xab7d82(0x689)](this[_0xab7d82(0x35a)][_0xab7d82(0x117)][_0xab7d82(0x381)]/0xea60);if(_0x10db63){let _0x1fb4db=new Date(_0x10db63[_0xab7d82(0x13c)])[_0xab7d82(0x2f2)]();this[_0xab7d82(0x22c)]['verbose'](this['instanceName']+'\x20('+this[_0xab7d82(0x35a)][_0xab7d82(0x6a2)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x1fb4db+_0xab7d82(0x49f)+_0x52be93+_0xab7d82(0x493));}else this[_0xab7d82(0x22c)]['verbose'](this[_0xab7d82(0x76b)]+'\x20('+this[_0xab7d82(0x35a)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x52be93+_0xab7d82(0x493));setTimeout(()=>this[_0xab7d82(0x33b)](),this[_0xab7d82(0x35a)][_0xab7d82(0x117)][_0xab7d82(0x381)]);};if(this[_0x5916ca(0x35a)][_0x5916ca(0x117)][_0x5916ca(0x1d7)]){await this[_0x5916ca(0x26a)](),_0xda04f0();return;}if(!this[_0x5916ca(0x35a)]['ScheduleMessage'][_0x5916ca(0x2d1)]){this[_0x5916ca(0x22c)][_0x5916ca(0x140)](this[_0x5916ca(0x76b)]+'\x20('+this[_0x5916ca(0x35a)][_0x5916ca(0x6a2)]+_0x5916ca(0x1e2)),this[_0x5916ca(0x35a)][_0x5916ca(0x117)]['processing_id']=null,this[_0x5916ca(0x35a)][_0x5916ca(0x117)][_0x5916ca(0x3ed)]=0x0,this[_0x5916ca(0x35a)][_0x5916ca(0x117)][_0x5916ca(0x381)]=0x0,this['instance']['ScheduleMessage'][_0x5916ca(0x107)]=null;return;}try{let _0x4cde52=await _0xa14bd2();_0x4cde52[_0x5916ca(0x4e4)]===0x0?this[_0x5916ca(0x22c)][_0x5916ca(0x140)](this[_0x5916ca(0x76b)]+'\x20('+this[_0x5916ca(0x35a)]['wuid']+_0x5916ca(0x290)):(this['instance']['ScheduleMessage'][_0x5916ca(0x1d7)]=_0x4cde52[0x0][_0x5916ca(0x21b)],await _0x802ba(_0x4cde52)),await _0x4b38e1(),this['instance'][_0x5916ca(0x117)][_0x5916ca(0x1d7)]=null,this[_0x5916ca(0x35a)][_0x5916ca(0x117)][_0x5916ca(0x107)]=null;}catch(_0x479fce){this[_0x5916ca(0x22c)][_0x5916ca(0x7aa)](_0x5916ca(0x3a8)+(_0x479fce instanceof Error?_0x479fce['message']:JSON[_0x5916ca(0x68d)](_0x479fce,null,0x2)));}}[a0_0x5a7632(0x438)](_0x51886c,_0x16a05d){const _0x3f5509=a0_0x5a7632;return _0x51886c=Math[_0x3f5509(0x378)](0.5,_0x51886c),_0x16a05d=Math[_0x3f5509(0x278)](Math[_0x3f5509(0x378)](0x3,_0x16a05d),0x78),Math[_0x3f5509(0x78e)](Math['random']()*(_0x16a05d-_0x51886c+0x1)+_0x51886c)*0x3e8;}['sleep'](_0x208246){return new Promise(_0x28b8fe=>setTimeout(_0x28b8fe,_0x208246));}async[a0_0x5a7632(0x11e)](_0x2203dc){const _0x3e33d6=a0_0x5a7632;if(!this[_0x3e33d6(0x15d)]&&(await this[_0x3e33d6(0x70c)](),!this[_0x3e33d6(0x15d)]))return null;_0x2203dc=this[_0x3e33d6(0x12d)](_0x2203dc);let _0x103d31=await this[_0x3e33d6(0x2d9)][_0x3e33d6(0x458)][_0x3e33d6(0x48e)]({'where':{'_id':_0x2203dc}},this['instance'][_0x3e33d6(0x6a2)]),_0x495f12={};if(_0x103d31&&_0x103d31[_0x3e33d6(0x643)]){let _0x2b8b9f=_0x103d31[_0x3e33d6(0x643)];typeof _0x2b8b9f['nome']==_0x3e33d6(0x2dc)&&(_0x495f12[_0x3e33d6(0x16b)]=_0x2b8b9f[_0x3e33d6(0x16b)]),typeof _0x2b8b9f[_0x3e33d6(0x7ac)]==_0x3e33d6(0x2dc)&&(_0x495f12[_0x3e33d6(0x7ac)]=_0x2b8b9f['nomecompleto']),typeof _0x2b8b9f[_0x3e33d6(0x311)]=='string'&&(_0x495f12[_0x3e33d6(0x311)]=_0x2b8b9f[_0x3e33d6(0x311)]),typeof _0x2b8b9f['cpf']=='string'&&(_0x495f12[_0x3e33d6(0x205)]=_0x2b8b9f[_0x3e33d6(0x205)]),typeof _0x2b8b9f[_0x3e33d6(0x5cd)]==_0x3e33d6(0x2dc)&&(_0x495f12[_0x3e33d6(0x5cd)]=_0x2b8b9f[_0x3e33d6(0x5cd)]),typeof _0x2b8b9f['notas']==_0x3e33d6(0x2dc)&&(_0x495f12['notas']=_0x2b8b9f[_0x3e33d6(0x3dd)]),typeof _0x2b8b9f[_0x3e33d6(0x6c6)]==_0x3e33d6(0x2dc)&&(_0x495f12['responsavelid']=_0x2b8b9f['responsavelid']),Array[_0x3e33d6(0x5df)](_0x2b8b9f[_0x3e33d6(0x46e)])&&(_0x495f12[_0x3e33d6(0x46e)]=_0x2b8b9f[_0x3e33d6(0x46e)][_0x3e33d6(0x41a)](',\x20')),Array[_0x3e33d6(0x5df)](_0x2b8b9f['etiquetas'])&&(_0x495f12[_0x3e33d6(0x112)]=_0x2b8b9f[_0x3e33d6(0x112)]['join'](',\x20'));}return _0x103d31&&_0x103d31[_0x3e33d6(0x643)]&&_0x103d31[_0x3e33d6(0x643)][_0x3e33d6(0x2b5)]&&_0x103d31[_0x3e33d6(0x643)]['customFields'][_0x3e33d6(0x16d)](_0x698078=>{const _0xd107f9=_0x3e33d6;let _0x584500=this['AutomateSystem']?.['customFields'][_0xd107f9(0x6c4)](_0x15bf64=>_0x15bf64[_0xd107f9(0x21b)]===_0x698078[_0xd107f9(0x21b)]);_0x584500&&(_0x495f12[_0x584500['name']]=_0x698078['value']);}),_0x495f12;}async[a0_0x5a7632(0x6fa)](_0x24bb04,_0xe77dbd){const _0x275be9=a0_0x5a7632;let _0x3cd937=await this[_0x275be9(0x11e)](_0xe77dbd);return this[_0x275be9(0x3b3)](_0x24bb04,_0x3cd937);}async[a0_0x5a7632(0x53e)](_0x28e928){const _0x3a6aaf=a0_0x5a7632;try{if(this[_0x3a6aaf(0x22c)][_0x3a6aaf(0x140)](this['instanceName']+'\x20('+this[_0x3a6aaf(0x35a)][_0x3a6aaf(0x6a2)]+_0x3a6aaf(0x2d6)),_0x28e928['delete']&&_0x28e928[_0x3a6aaf(0x21b)]){if(this['instance']['ScheduleMessage'][_0x3a6aaf(0x1d7)]===_0x28e928[_0x3a6aaf(0x21b)][_0x3a6aaf(0x1ce)]())throw new Error(_0x3a6aaf(0x417));let _0x2fa922=await this[_0x3a6aaf(0x2d9)][_0x3a6aaf(0x39f)][_0x3a6aaf(0x3b9)](_0x28e928[_0x3a6aaf(0x21b)],this[_0x3a6aaf(0x35a)]['wuid']);return setTimeout(()=>this[_0x3a6aaf(0x33b)](),0x7d0),_0x2fa922;}let _0x1556e2;if(_0x28e928[_0x3a6aaf(0x21b)]&&(_0x1556e2=await this[_0x3a6aaf(0x2d9)][_0x3a6aaf(0x39f)][_0x3a6aaf(0x12e)](_0x28e928[_0x3a6aaf(0x21b)],this['instance'][_0x3a6aaf(0x6a2)])),_0x1556e2){let _0x3df8dc;if(this[_0x3a6aaf(0x35a)][_0x3a6aaf(0x117)]['processing_id']===_0x1556e2[_0x3a6aaf(0x21b)][_0x3a6aaf(0x1ce)]())_0x3df8dc={'$set':{'status':_0x28e928[_0x3a6aaf(0x5cd)]}};else{let {_id:_0x1986f9,..._0x16d463}=_0x28e928;_0x3df8dc={'$set':_0x16d463};}let _0x1d4929=await this[_0x3a6aaf(0x2d9)][_0x3a6aaf(0x39f)][_0x3a6aaf(0x1dd)](_0x28e928[_0x3a6aaf(0x21b)],_0x3df8dc,this[_0x3a6aaf(0x35a)][_0x3a6aaf(0x6a2)]);return setTimeout(()=>this[_0x3a6aaf(0x33b)](),0x7d0),_0x1d4929;}else{_0x28e928[_0x3a6aaf(0x1f5)]=this['instance'][_0x3a6aaf(0x6a2)];let _0x3d79d0=await this[_0x3a6aaf(0x2d9)][_0x3a6aaf(0x39f)]['createAndSave'](_0x28e928,this['instance'][_0x3a6aaf(0x6a2)]);return setTimeout(()=>this[_0x3a6aaf(0x33b)](),0x7d0),_0x3d79d0;}}catch(_0x4c2d16){throw this['logger'][_0x3a6aaf(0x7aa)](this[_0x3a6aaf(0x76b)]+'\x20('+this[_0x3a6aaf(0x35a)][_0x3a6aaf(0x6a2)]+_0x3a6aaf(0x32d)+(_0x4c2d16 instanceof Error?_0x4c2d16['message']:JSON['stringify'](_0x4c2d16,null,0x2))),new w('Erro:'+_0x4c2d16[_0x3a6aaf(0x6f6)]);}}async[a0_0x5a7632(0x349)](){const _0xa56f85=a0_0x5a7632;try{return await this[_0xa56f85(0x2d9)][_0xa56f85(0x39f)][_0xa56f85(0x6c4)]({'where':{}},this[_0xa56f85(0x35a)][_0xa56f85(0x6a2)]);}catch(_0x4a1b04){throw this[_0xa56f85(0x22c)][_0xa56f85(0x7aa)](this[_0xa56f85(0x76b)]+'\x20('+this[_0xa56f85(0x35a)][_0xa56f85(0x6a2)]+_0xa56f85(0x712)+(_0x4a1b04 instanceof Error?_0x4a1b04[_0xa56f85(0x6f6)]:JSON[_0xa56f85(0x68d)](_0x4a1b04,null,0x2))),new w(_0xa56f85(0x1cf)+_0x4a1b04[_0xa56f85(0x6f6)]);}}async[a0_0x5a7632(0x71c)](){const _0x517b2e=a0_0x5a7632;try{let _0x5e7e56={'status':_0x517b2e(0x4d8)},_0x5f198e=await this[_0x517b2e(0x2d9)][_0x517b2e(0x39f)][_0x517b2e(0x5b4)](_0x5e7e56,this['instance'][_0x517b2e(0x6a2)]);if(!_0x5f198e[_0x517b2e(0x7aa)])this[_0x517b2e(0x22c)][_0x517b2e(0x140)](this[_0x517b2e(0x76b)]+'\x20('+this[_0x517b2e(0x35a)][_0x517b2e(0x6a2)]+_0x517b2e(0xf2));else throw new Error(_0x5f198e[_0x517b2e(0x7aa)][_0x517b2e(0x6f6)]||_0x517b2e(0x3d8));return this['getScheduleMessage']();}catch(_0x5da979){throw this['logger']['error'](this[_0x517b2e(0x76b)]+'\x20('+this['instance'][_0x517b2e(0x6a2)]+_0x517b2e(0x480)+(_0x5da979 instanceof Error?_0x5da979[_0x517b2e(0x6f6)]:JSON[_0x517b2e(0x68d)](_0x5da979,null,0x2))),new w('Erro:'+_0x5da979['message']);}}async[a0_0x5a7632(0x114)](_0x16ae81,_0x3ca0a9){const _0x5a0fa1=a0_0x5a7632;try{if(_0x3ca0a9[_0x5a0fa1(0x32e)]==='flow'&&!this[_0x5a0fa1(0x15d)]?.[_0x5a0fa1(0x2e5)][_0x5a0fa1(0x6b6)])return this[_0x5a0fa1(0x22c)]['error'](this[_0x5a0fa1(0x76b)]+'\x20('+this[_0x5a0fa1(0x35a)]['wuid']+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x5a0fa1(0x3fd)};switch(_0x3ca0a9[_0x5a0fa1(0x32e)]){case'text':return await this['scheduleSendText'](_0x3ca0a9,_0x16ae81);case'media':return await this[_0x5a0fa1(0x79c)](_0x3ca0a9,_0x16ae81);case _0x5a0fa1(0x66d):return await this[_0x5a0fa1(0x32b)](_0x3ca0a9,_0x16ae81);case _0x5a0fa1(0x518):let _0x5e5481=new Le();return _0x5e5481[_0x5a0fa1(0x510)]=_0x3ca0a9['flowName'],_0x5e5481[_0x5a0fa1(0x619)]=_0x16ae81,await this[_0x5a0fa1(0xef)](_0x5e5481);break;default:return this[_0x5a0fa1(0x22c)][_0x5a0fa1(0x7aa)](this[_0x5a0fa1(0x76b)]+'\x20('+this[_0x5a0fa1(0x35a)][_0x5a0fa1(0x6a2)]+_0x5a0fa1(0x1da)+_0x3ca0a9[_0x5a0fa1(0x32e)]),{'error':!0x0,'detail':_0x5a0fa1(0x750)};}}catch(_0x3cc9fd){return this[_0x5a0fa1(0x22c)]['error'](this[_0x5a0fa1(0x76b)]+'\x20('+this['instance'][_0x5a0fa1(0x6a2)]+_0x5a0fa1(0x21e)+(_0x3cc9fd instanceof Error?_0x3cc9fd['message']:JSON[_0x5a0fa1(0x68d)](_0x3cc9fd,null,0x2))),{'error':!0x0,'detail':_0x3cc9fd[_0x5a0fa1(0x6f6)]};}}[a0_0x5a7632(0x1be)](_0x2393b4){const _0x489942=a0_0x5a7632;let _0x411ea6=_0x2393b4['split']('|'),_0x2c1b33=Math['floor'](Math[_0x489942(0x171)]()*_0x411ea6['length']);return _0x411ea6[_0x2c1b33]['trim']();}async[a0_0x5a7632(0x219)](_0x578493,_0xa8d65d){const _0x1273f5=a0_0x5a7632;if(this[_0x1273f5(0x22c)][_0x1273f5(0x140)](this[_0x1273f5(0x76b)]+'\x20('+this['instance'][_0x1273f5(0x6a2)]+_0x1273f5(0x254)),!_0x578493['message'][_0x1273f5(0x142)]||_0x578493[_0x1273f5(0x6f6)]['text']['length']===0x0)return{'error':!0x0,'detail':_0x1273f5(0x61c)};let _0x29f816=this[_0x1273f5(0x1be)](_0x578493[_0x1273f5(0x6f6)][_0x1273f5(0x142)]),_0x10b82d=await this['replaceVariablesChat'](_0x29f816,_0xa8d65d),_0x19b2fa={'number':_0xa8d65d,'options':{'delay':_0x578493[_0x1273f5(0x6f6)][_0x1273f5(0x699)]},'textMessage':{'text':_0x10b82d}},_0x20bba6=null;try{let _0x813bae=await this['textMessage'](_0x19b2fa);if(_0x813bae&&_0x813bae['status'])return{'error':!0x1,'id':_0x813bae['key']['id']};_0x20bba6=JSON[_0x1273f5(0x68d)](_0x813bae),this[_0x1273f5(0x22c)][_0x1273f5(0x140)](this[_0x1273f5(0x76b)]+'\x20('+this['instance']['wuid']+_0x1273f5(0x2f8)+_0x20bba6);}catch(_0x306d1c){this[_0x1273f5(0x22c)][_0x1273f5(0x7aa)](this[_0x1273f5(0x76b)]+'\x20('+this['instance'][_0x1273f5(0x6a2)]+_0x1273f5(0x308)+(_0x306d1c instanceof Error?_0x306d1c['message']:JSON[_0x1273f5(0x68d)](_0x306d1c,null,0x2))),_0x20bba6=_0x306d1c['message'];}if(_0x20bba6)return{'error':!0x0,'detail':(typeof _0x20bba6==_0x1273f5(0x504)?JSON[_0x1273f5(0x68d)](_0x20bba6,null,0x2):_0x20bba6)[_0x1273f5(0x23d)](/[\[\]{}\n]/g,'\x20')[_0x1273f5(0x23d)](/  +/g,'\x20')};}async[a0_0x5a7632(0x79c)](_0x13cc28,_0x2f2a36){const _0x2a52bc=a0_0x5a7632;this[_0x2a52bc(0x22c)][_0x2a52bc(0x140)](this['instanceName']+'\x20('+this['instance'][_0x2a52bc(0x6a2)]+_0x2a52bc(0x24a));let _0x3e5b36;if(_0x13cc28[_0x2a52bc(0x6f6)][_0x2a52bc(0x142)]&&_0x13cc28[_0x2a52bc(0x6f6)]['text'][_0x2a52bc(0x4e4)]>0x0){let _0x2d1d5c=this['getRandomText'](_0x13cc28['message'][_0x2a52bc(0x142)]);_0x3e5b36=await this[_0x2a52bc(0x6fa)](_0x2d1d5c,_0x2f2a36);}let _0x4f26f2={'number':_0x2f2a36,'options':{'delay':_0x13cc28[_0x2a52bc(0x6f6)][_0x2a52bc(0x699)]},'mediaMessage':{'mediatype':_0x13cc28[_0x2a52bc(0x6f6)][_0x2a52bc(0x585)],'caption':_0x3e5b36,'media':_0x13cc28['message'][_0x2a52bc(0x483)]}},_0x255299=null;try{let _0x8d67d7=await this[_0x2a52bc(0x2ae)](_0x4f26f2);if(_0x8d67d7&&_0x8d67d7[_0x2a52bc(0x5cd)])return{'error':!0x1,'id':_0x8d67d7[_0x2a52bc(0x331)]['id']};_0x255299=JSON[_0x2a52bc(0x68d)](_0x8d67d7),this['logger'][_0x2a52bc(0x140)](this[_0x2a52bc(0x76b)]+'\x20('+this[_0x2a52bc(0x35a)][_0x2a52bc(0x6a2)]+_0x2a52bc(0x2f8)+_0x255299);}catch(_0x5cc129){this['logger']['error'](this[_0x2a52bc(0x76b)]+'\x20('+this[_0x2a52bc(0x35a)][_0x2a52bc(0x6a2)]+_0x2a52bc(0x58e)+(_0x5cc129 instanceof Error?_0x5cc129['message']:JSON['stringify'](_0x5cc129,null,0x2))),_0x255299=_0x5cc129[_0x2a52bc(0x6f6)];}if(_0x255299)return{'error':!0x0,'detail':(typeof _0x255299=='object'?JSON[_0x2a52bc(0x68d)](_0x255299,null,0x2):_0x255299)[_0x2a52bc(0x23d)](/[\[\]{}\n]/g,'\x20')[_0x2a52bc(0x23d)](/  +/g,'\x20')};}async[a0_0x5a7632(0x32b)](_0x544b8b,_0x1a73cd){const _0x46ddfb=a0_0x5a7632;this[_0x46ddfb(0x22c)][_0x46ddfb(0x140)](this['instanceName']+'\x20('+this['instance'][_0x46ddfb(0x6a2)]+'):\x20Enviando\x20áudio');let _0x1bb89c={'number':_0x1a73cd,'options':{'delay':_0x544b8b['message']['delay']},'audioMessage':{'audio':_0x544b8b[_0x46ddfb(0x6f6)]['urlOrBase64']}},_0x3837c5=null;try{let _0xe6d620=await this[_0x46ddfb(0x30b)](_0x1bb89c);if(_0xe6d620&&_0xe6d620['status'])return{'error':!0x1,'id':_0xe6d620['key']['id']};_0x3837c5=JSON[_0x46ddfb(0x68d)](_0xe6d620),this[_0x46ddfb(0x22c)][_0x46ddfb(0x140)](this[_0x46ddfb(0x76b)]+'\x20('+this[_0x46ddfb(0x35a)][_0x46ddfb(0x6a2)]+'):\x20'+_0x3837c5);}catch(_0x11be4d){this['logger'][_0x46ddfb(0x7aa)](this[_0x46ddfb(0x76b)]+'\x20('+this[_0x46ddfb(0x35a)]['wuid']+_0x46ddfb(0x62b)+(_0x11be4d instanceof Error?_0x11be4d[_0x46ddfb(0x6f6)]:JSON['stringify'](_0x11be4d,null,0x2))),_0x3837c5=_0x11be4d['message'];}if(_0x3837c5)return{'error':!0x0,'detail':(typeof _0x3837c5=='object'?JSON[_0x46ddfb(0x68d)](_0x3837c5,null,0x2):_0x3837c5)[_0x46ddfb(0x23d)](/[\[\]{}\n]/g,'\x20')[_0x46ddfb(0x23d)](/  +/g,'\x20')};}},Ft=class c{constructor(_0x2c0ae0,_0x6c0df1,_0x543117){const _0x438c0d=a0_0x5a7632;this[_0x438c0d(0x265)]=_0x2c0ae0,this['configService']=_0x6c0df1,this[_0x438c0d(0x2d9)]=_0x543117,this['db']={},this[_0x438c0d(0x1fc)]={},this[_0x438c0d(0x22c)]=new v(c['name']),this[_0x438c0d(0x2bc)]={},(this['removeInstance'](),this[_0x438c0d(0x5e3)](),Object[_0x438c0d(0x58f)](this['db'],_0x6c0df1['get'](_0x438c0d(0x771))),Object[_0x438c0d(0x58f)](this[_0x438c0d(0x1fc)],_0x6c0df1[_0x438c0d(0x711)](_0x438c0d(0x2f5))),this['dbInstance']=this['db'][_0x438c0d(0x446)]?this[_0x438c0d(0x2d9)]['dbServer']?.['db'](this['db'][_0x438c0d(0x6e4)][_0x438c0d(0x642)]+_0x438c0d(0x64d)):void 0x0,this[_0x438c0d(0x649)]=this['redis'][_0x438c0d(0x446)]?new ne(this[_0x438c0d(0x1fc)]):void 0x0);}async[a0_0x5a7632(0x304)](_0x29b8e1){const _0x35a934=a0_0x5a7632;if(_0x29b8e1&&!this[_0x35a934(0x2bc)][_0x29b8e1])throw new L(_0x35a934(0x749)+_0x29b8e1+_0x35a934(0x6f3));let _0x5e7830=[];for await(let [_0x5376f8,_0x101f70]of Object['entries'](this[_0x35a934(0x2bc)]))if(_0x101f70&&_0x101f70[_0x35a934(0x327)][_0x35a934(0x62f)]===_0x35a934(0x29a)){let _0x9f7b25=await this[_0x35a934(0x2d9)][_0x35a934(0x335)][_0x35a934(0x6c4)](_0x5376f8);_0x5e7830['push']({'instance':{'instanceName':_0x5376f8,'apikey':_0x9f7b25[_0x35a934(0x388)],'owner':_0x101f70[_0x35a934(0x6a2)],'profileName':await _0x101f70[_0x35a934(0x5fb)]()||_0x35a934(0x2d2),'profilePictureUrl':_0x101f70['profilePictureUrl']}});}return _0x5e7830[_0x35a934(0x6c4)](_0x54a0d6=>_0x54a0d6[_0x35a934(0x35a)][_0x35a934(0x76b)]===_0x29b8e1)??_0x5e7830;}async[a0_0x5a7632(0x4d9)](_0xe3b537){const _0x4fcb5c=a0_0x5a7632;if(this['db'][_0x4fcb5c(0x446)]&&(await this[_0x4fcb5c(0x2d9)][_0x4fcb5c(0x313)][_0x4fcb5c(0x2b8)](),(await this['dbInstance'][_0x4fcb5c(0x5f1)]())[_0x4fcb5c(0x4e4)]>0x0&&await this[_0x4fcb5c(0x657)][_0x4fcb5c(0x414)](_0xe3b537)),this['redis'][_0x4fcb5c(0x446)]){this[_0x4fcb5c(0x649)]['reference']=_0xe3b537,await this[_0x4fcb5c(0x649)][_0x4fcb5c(0x45f)]();return;}}async['loadInstance'](){const _0x4af81a=a0_0x5a7632;await this['InstancesAlterarTodas']();let _0x5098cb=async _0x332041=>{const _0x224a87=a0_0xc371;let _0x25fbc8=new be(this[_0x224a87(0x513)],this[_0x224a87(0x265)],this[_0x224a87(0x2d9)]);_0x25fbc8[_0x224a87(0x76b)]=_0x332041,await _0x25fbc8['connectToWhatsapp'](),this[_0x224a87(0x2bc)][_0x332041]=_0x25fbc8;};try{if(this[_0x4af81a(0x1fc)][_0x4af81a(0x446)]){let _0x45eeb2=await this[_0x4af81a(0x649)][_0x4af81a(0x133)]();_0x45eeb2?.[_0x4af81a(0x4e4)]>0x0&&_0x45eeb2[_0x4af81a(0x16d)](async _0x28b0af=>await _0x5098cb(_0x28b0af[_0x4af81a(0x323)](':')[0x1]));return;}if(this['db'][_0x4af81a(0x446)]){await this[_0x4af81a(0x2d9)][_0x4af81a(0x313)]['connect']();let _0x4c7ffe=await this[_0x4af81a(0x657)][_0x4af81a(0x5f1)]();_0x4c7ffe[_0x4af81a(0x4e4)]>0x0&&_0x4c7ffe[_0x4af81a(0x16d)](async _0x9d946f=>await _0x5098cb(_0x9d946f[_0x4af81a(0x280)][_0x4af81a(0x23d)](/^[\w-]+\./,'')));return;}}catch(_0x504323){this[_0x4af81a(0x22c)][_0x4af81a(0x7aa)](_0x504323);}}async[a0_0x5a7632(0xf6)](){const _0x4a6cc0=a0_0x5a7632;let _0x1da79b=await this[_0x4a6cc0(0x2d9)][_0x4a6cc0(0x335)][_0x4a6cc0(0x258)](),_0x536e9c=_0x1da79b[_0x4a6cc0(0x669)](_0x462a70=>!this[_0x4a6cc0(0x2bc)][_0x462a70[_0x4a6cc0(0x21b)]]&&(_0x462a70[_0x4a6cc0(0x52a)]||typeof _0x462a70['online']>'u'));_0x536e9c[_0x4a6cc0(0x4e4)]>0x0&&await Promise['all'](_0x536e9c[_0x4a6cc0(0x2ca)](async _0x2db716=>{const _0x282cba=_0x4a6cc0;let _0x5c42d3={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x282cba(0x2d9)][_0x282cba(0x335)][_0x282cba(0x6f5)](_0x5c42d3,_0x2db716['_id']);}));let _0x355b9b=Date[_0x4a6cc0(0x73d)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1231fd=_0x1da79b['filter'](_0x17d0b0=>!this['waInstances'][_0x17d0b0[_0x4a6cc0(0x21b)]]&&typeof _0x17d0b0[_0x4a6cc0(0x6d4)]<'u'&&_0x17d0b0[_0x4a6cc0(0x6d4)]<_0x355b9b);_0x1231fd[_0x4a6cc0(0x4e4)]>0x0&&await Promise[_0x4a6cc0(0x172)](_0x1231fd[_0x4a6cc0(0x2ca)](async _0x3aee86=>{}));}async[a0_0x5a7632(0x6c0)](){const _0x3c37cc=a0_0x5a7632;try{let _0x1aae24={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x357df9={'online':!0x1,'lastDisconnect':Date['now']()},_0x4367e0=await this[_0x3c37cc(0x2d9)][_0x3c37cc(0x335)]['updateAll'](_0x1aae24,_0x357df9);console[_0x3c37cc(0x1c8)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x4367e0[_0x3c37cc(0x6ee)]),await this[_0x3c37cc(0x623)]();}catch(_0x1d049c){console[_0x3c37cc(0x7aa)](_0x3c37cc(0x66f),_0x1d049c);}}async[a0_0x5a7632(0x623)](){const _0xc44c95=a0_0x5a7632;try{let _0x399eee={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x28d2c1=await this[_0xc44c95(0x2d9)][_0xc44c95(0x335)]['deleteMany'](_0x399eee);console['log'](_0xc44c95(0x736)+_0x28d2c1[_0xc44c95(0x6ee)]);}catch(_0x17aa22){console[_0xc44c95(0x7aa)](_0xc44c95(0x31a),_0x17aa22);}}[a0_0x5a7632(0x647)](){const _0x2dc5b5=a0_0x5a7632;this[_0x2dc5b5(0x265)]['on'](_0x2dc5b5(0x551),async _0x47f9b8=>{const _0x89ce32=_0x2dc5b5;try{this[_0x89ce32(0x2bc)][_0x47f9b8]=void 0x0;}catch{}try{this[_0x89ce32(0x4d9)](_0x47f9b8);}finally{this[_0x89ce32(0x22c)][_0x89ce32(0xff)](_0x89ce32(0x749)+_0x47f9b8+_0x89ce32(0x62e));}});}[a0_0x5a7632(0x5e3)](){const _0x3504bf=a0_0x5a7632;this[_0x3504bf(0x265)]['on'](_0x3504bf(0x30d),async _0x5c3c7c=>{const _0x1d4b8b=_0x3504bf;try{this[_0x1d4b8b(0x2bc)][_0x5c3c7c]=void 0x0;}catch{}try{this['cleaningUp'](_0x5c3c7c);}finally{this['logger'][_0x1d4b8b(0xff)]('Instance\x20\x22'+_0x5c3c7c+_0x1d4b8b(0x72e));}});}},Ut=class extends D{['getChatModelForOwner'](_0xf891c){return Ks(_0xf891c);}async[a0_0x5a7632(0x4bf)](_0x1045e7){const _0xa8880c=a0_0x5a7632;if(_0x1045e7['length']!==0x0)try{return{'insertCount':(await this[_0xa8880c(0x520)](_0x1045e7[0x0]['owner'])[_0xa8880c(0x5f2)]([..._0x1045e7]))[_0xa8880c(0x4e4)]};}catch(_0x1fb07a){return _0x1fb07a;}}async[a0_0x5a7632(0x6c4)](_0x44e66c,_0x50e496){const _0x13e23e=a0_0x5a7632;try{let _0x2746cf=this[_0x13e23e(0x520)](_0x50e496),_0x290338=A(_0x44e66c['where']);return await _0x2746cf[_0x13e23e(0x6c4)](_0x290338)[_0x13e23e(0x155)]({'lastmsg':-0x1})[_0x13e23e(0x600)](_0x44e66c?.[_0x13e23e(0x600)]??0x0)[_0x13e23e(0x6b2)]();}catch{return[];}}async[a0_0x5a7632(0x68c)](_0x193d64,_0x4c643a){const _0x5c0187=a0_0x5a7632;try{return await this[_0x5c0187(0x520)](_0x4c643a)[_0x5c0187(0x5b4)]({..._0x193d64[_0x5c0187(0x701)]}),[];}catch(_0x16e6c7){return{'error':_0x16e6c7?.[_0x5c0187(0x1ce)]()};}}async[a0_0x5a7632(0x48e)](_0x1b8010,_0x7a15ad){const _0x24c5e7=a0_0x5a7632;try{let _0x3d26a2=this[_0x24c5e7(0x520)](_0x7a15ad),_0x2e0fa3=A(_0x1b8010[_0x24c5e7(0x701)]);return await _0x3d26a2[_0x24c5e7(0x48e)](_0x2e0fa3)['lean']();}catch{return null;}}async[a0_0x5a7632(0x406)](_0x52dd22,_0x4565e7,_0x156e22,_0x3d4d26,_0x201210=a0_0x5a7632(0x1d3)){const _0x5a3a5e=a0_0x5a7632;try{let _0x177144={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3d4d26},_0x14d193=this['getChatModelForOwner'](_0x156e22),_0x72b39a=A(_0x52dd22[_0x5a3a5e(0x701)]);Object[_0x5a3a5e(0x769)](_0x4565e7)[_0x5a3a5e(0x16d)](_0x1aba94=>{_0x4565e7[_0x1aba94]==null&&delete _0x4565e7[_0x1aba94];});let _0x1a3a6c={};return _0x1a3a6c[_0x201210]=_0x4565e7,await _0x14d193[_0x5a3a5e(0x3a0)](_0x72b39a,_0x1a3a6c,_0x177144);}catch(_0x395878){return console[_0x5a3a5e(0x7aa)](_0x395878),null;}}async[a0_0x5a7632(0x728)](_0x44e0e5){const _0x19c9f5=a0_0x5a7632;try{let _0x196608=this[_0x19c9f5(0x520)](_0x44e0e5[0x0][_0x19c9f5(0x5ee)][_0x19c9f5(0x701)]['owner']),_0x18f8a3=_0x44e0e5['map'](_0xcd601d=>({'updateOne':{'filter':{..._0xcd601d[_0x19c9f5(0x5ee)]['where']},'update':{'$set':_0xcd601d['update']},'upsert':!0x0}})),_0x242762=await _0x196608[_0x19c9f5(0x65c)](_0x18f8a3);return _0x242762['modifiedCount']+_0x242762[_0x19c9f5(0x1d0)];}catch(_0xec7c8b){return console[_0x19c9f5(0x7aa)](_0xec7c8b),0x0;}}async[a0_0x5a7632(0x656)](_0x3051c3){const _0x56e57a=a0_0x5a7632;try{let _0x257227=this[_0x56e57a(0x520)](_0x3051c3),_0xca64af={'labels':{'$exists':!0x0}},_0x5a5638={'$unset':{'labels':''}};return(await _0x257227[_0x56e57a(0x728)](_0xca64af,_0x5a5638))['modifiedCount'];}catch(_0xaf035b){return console['error'](_0xaf035b),0x0;}}async['updateMissingEtiquetas'](_0x53fcbe){const _0x2f5916=a0_0x5a7632;try{let _0x538657=this['getChatModelForOwner'](_0x53fcbe),_0x442abd={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5c228c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x538657['updateMany'](_0x442abd,_0x5c228c))[_0x2f5916(0x717)];}catch(_0x3dd68c){return console[_0x2f5916(0x7aa)](_0x3dd68c),0x0;}}async[a0_0x5a7632(0x44f)](_0x1648fb){const _0x10ad66=a0_0x5a7632;try{let _0x3d903c=this['getChatModelForOwner'](_0x1648fb),_0x58b8e2={'leadInfo.tags':{'$exists':!0x1}},_0x3ae376={'$set':{'leadInfo.tags':[]}};return(await _0x3d903c[_0x10ad66(0x728)](_0x58b8e2,_0x3ae376))[_0x10ad66(0x717)];}catch(_0x97982d){return console['error'](_0x97982d),0x0;}}async[a0_0x5a7632(0x6d1)](_0x3eff83){const _0x137807=a0_0x5a7632;try{let _0x306f6b=this[_0x137807(0x520)](_0x3eff83),_0x2fd26d={'leadInfo.customFields':{'$exists':!0x1}},_0x33935c={'$set':{'leadInfo.customFields':[]}};return(await _0x306f6b['updateMany'](_0x2fd26d,_0x33935c))[_0x137807(0x717)];}catch(_0x3696e5){return console[_0x137807(0x7aa)](_0x3696e5),0x0;}}async[a0_0x5a7632(0x5f2)](_0x27b142,_0x28d856){const _0x499e9e=a0_0x5a7632;if(!Array['isArray'](_0x27b142)||_0x27b142[_0x499e9e(0x4e4)]===0x0)throw new Error(_0x499e9e(0x742));try{return(await this[_0x499e9e(0x520)](_0x28d856)['insertMany'](_0x27b142))['length'];}catch(_0x30b447){throw console[_0x499e9e(0x7aa)](_0x499e9e(0x322),_0x30b447),_0x30b447;}}async[a0_0x5a7632(0x5bd)](_0x2e54ba,_0x120aa0){const _0x18e09e=a0_0x5a7632;try{await this[_0x18e09e(0x520)](_0x120aa0)[_0x18e09e(0x3b9)]({'_id':_0x2e54ba});}catch(_0x1ca687){throw console[_0x18e09e(0x7aa)]('Erro\x20ao\x20deletar\x20chat:',_0x1ca687),_0x1ca687;}}},qt=class extends D{constructor(_0xacc08c,_0xa235ce,_0x55cb1e){const _0xbe9fc6=a0_0x5a7632;super(_0xa235ce),this['cacheContactModel']=_0xacc08c,this[_0xbe9fc6(0x513)]=_0xa235ce,this[_0xbe9fc6(0xfa)]=_0x55cb1e;}async['insert'](_0x2f22f4){const _0x2bb456=a0_0x5a7632;if(_0x2f22f4[_0x2bb456(0x4e4)]!==0x0)try{return{'insertCount':(await this[_0x2bb456(0x582)][_0x2bb456(0x5f2)]([..._0x2f22f4]))[_0x2bb456(0x4e4)]};}catch(_0x486c9a){return _0x486c9a;}}async[a0_0x5a7632(0x703)](_0x5872d1,_0x25e802){const _0x5de35e=a0_0x5a7632;try{let _0x72a644=A(_0x5872d1[_0x5de35e(0x701)]);return{'updatedCount':(await this[_0x5de35e(0x582)]['updateMany'](_0x72a644,{'$set':_0x25e802}))[_0x5de35e(0x717)]};}catch(_0x3420ed){return console[_0x5de35e(0x7aa)](_0x5de35e(0x76f),_0x3420ed),{'error':_0x3420ed[_0x5de35e(0x1ce)]()};}}async['findManyByIds'](_0x2038b8){const _0x4dc956=a0_0x5a7632;try{let _0x3bd0ce={'_id':{'$in':_0x2038b8}};return await this[_0x4dc956(0x582)][_0x4dc956(0x6c4)](_0x3bd0ce)[_0x4dc956(0x6b2)]();}catch(_0x599af7){return console['error']('Error\x20finding\x20many\x20contacts:',_0x599af7),[];}}async[a0_0x5a7632(0x7af)](_0x1b6339){const _0xa275dd=a0_0x5a7632;try{return{'deletedCount':(await this[_0xa275dd(0x582)]['deleteMany']({..._0x1b6339['where']}))['deletedCount']};}catch(_0x2ad64e){return{'error':_0x2ad64e?.['toString']()};}}async[a0_0x5a7632(0x6c4)](_0x38acbf){const _0x1f74ff=a0_0x5a7632;try{let _0x30dac6=A(_0x38acbf['where']);return await this[_0x1f74ff(0x582)][_0x1f74ff(0x6c4)](_0x30dac6)[_0x1f74ff(0x600)](_0x38acbf?.[_0x1f74ff(0x600)]??0x0)[_0x1f74ff(0x6b2)]();}catch{return[];}}async[a0_0x5a7632(0x48e)](_0x3a6599){const _0x5995ea=a0_0x5a7632;try{let _0x8979a9=A(_0x3a6599[_0x5995ea(0x701)]);return await this[_0x5995ea(0x582)][_0x5995ea(0x48e)](_0x8979a9)[_0x5995ea(0x6b2)]();}catch{return null;}}},Jt=class extends D{['getLabelModelForOwner'](_0x5610c2){return Ca(_0x5610c2);}async[a0_0x5a7632(0x406)](_0x2f3eb0,_0x3c8215,_0x35c05b,_0x3a2c4f){const _0x3fd326=a0_0x5a7632;try{let _0x3805d0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3a2c4f},_0x2b2487=this['getLabelModelForOwner'](_0x35c05b),_0xbee8f7=A(_0x2f3eb0[_0x3fd326(0x701)]);return await _0x2b2487[_0x3fd326(0x3a0)](_0xbee8f7,{'$set':_0x3c8215},_0x3805d0);}catch(_0x48d37e){return console[_0x3fd326(0x7aa)](_0x48d37e),null;}}async[a0_0x5a7632(0x6c4)](_0x5a3c04,_0x1ea446){const _0x345821=a0_0x5a7632;try{let _0x125380=this[_0x345821(0x661)](_0x1ea446),_0x337414=A(_0x5a3c04[_0x345821(0x701)]);return await _0x125380[_0x345821(0x6c4)](_0x337414);}catch(_0x2b7b6d){console[_0x345821(0x7aa)](_0x2b7b6d);}}async[a0_0x5a7632(0x7af)](_0xd72750,_0x43e1fd){const _0x5af38c=a0_0x5a7632;try{let _0x562d1a=this[_0x5af38c(0x661)](_0x43e1fd),_0x490e0c=A(_0xd72750[_0x5af38c(0x701)]);await _0x562d1a['deleteMany'](_0x490e0c);}catch(_0xe2476c){console[_0x5af38c(0x7aa)](_0xe2476c);}}async[a0_0x5a7632(0x68c)](_0x1e7294){const _0x202e7b=a0_0x5a7632;try{return await this['getLabelModelForOwner'](_0x1e7294)['collection'][_0x202e7b(0x5a3)](),{'success':!0x0};}catch(_0x3e6dc0){return console['error'](_0x3e6dc0),{'success':!0x1,'error':_0x3e6dc0};}}},Vt=class{constructor(_0x2a3e60){const _0x363a94=a0_0x5a7632;this[_0x363a94(0x63a)]=_0x2a3e60;}async[a0_0x5a7632(0x6a6)]({instanceName:_0x20981e},_0x44f717){const _0x16fba6=a0_0x5a7632;return await this[_0x16fba6(0x63a)]['waInstances'][_0x20981e][_0x16fba6(0x6a6)](_0x44f717);}async['whatsappNumber']({instanceName:_0x2c3098},_0x166a6b){const _0x19289f=a0_0x5a7632;return await this['waMonitor'][_0x19289f(0x2bc)][_0x2c3098]['whatsappNumber'](_0x166a6b);}async[a0_0x5a7632(0x2e1)]({instanceName:_0x4adc1f},_0xa819d2){const _0x4be64f=a0_0x5a7632;return await this['waMonitor'][_0x4be64f(0x2bc)][_0x4adc1f][_0x4be64f(0x2e1)](_0xa819d2);}async[a0_0x5a7632(0x2fb)]({instanceName:_0x361de4},_0x17de62){const _0x55d539=a0_0x5a7632;return await this[_0x55d539(0x63a)]['waInstances'][_0x361de4]['markMessageAsRead'](_0x17de62);}async[a0_0x5a7632(0x4a4)]({instanceName:_0x5fae91},_0x245f76){const _0x1161be=a0_0x5a7632;return await this[_0x1161be(0x63a)][_0x1161be(0x2bc)][_0x5fae91][_0x1161be(0x4a4)](_0x245f76);}async['deleteMessage']({instanceName:_0x2ecf00},_0x46d198){const _0x448169=a0_0x5a7632;return await this[_0x448169(0x63a)]['waInstances'][_0x2ecf00][_0x448169(0x125)](_0x46d198);}async[a0_0x5a7632(0x5be)]({instanceName:_0x48980f},_0x4e2faa){const _0x87cd56=a0_0x5a7632;return await this[_0x87cd56(0x63a)]['waInstances'][_0x48980f][_0x87cd56(0x5ae)](_0x4e2faa[_0x87cd56(0x744)]);}async['fetchProfile']({instanceName:_0x35fd25},_0x42b6bd){const _0x2c3f20=a0_0x5a7632;return await this[_0x2c3f20(0x63a)]['waInstances'][_0x35fd25][_0x2c3f20(0x55e)](_0x42b6bd['number']);}async[a0_0x5a7632(0x102)]({instanceName:_0x281726},_0x46f073){const _0x5d8a4c=a0_0x5a7632;return await this[_0x5d8a4c(0x63a)]['waInstances'][_0x281726][_0x5d8a4c(0x102)](_0x46f073);}async[a0_0x5a7632(0x413)]({instanceName:_0x20b716},_0x226846){const _0x412b58=a0_0x5a7632;return await this[_0x412b58(0x63a)][_0x412b58(0x2bc)][_0x20b716][_0x412b58(0x413)](_0x226846);}async['getBase64FromMediaMessage']({instanceName:_0xb31944},_0x4134b3){const _0x9448f9=a0_0x5a7632;return await this[_0x9448f9(0x63a)][_0x9448f9(0x2bc)][_0xb31944][_0x9448f9(0x216)](_0x4134b3);}async['fetchMessages']({instanceName:_0xb8b689},_0x145ef8){const _0x44013e=a0_0x5a7632;return await this[_0x44013e(0x63a)]['waInstances'][_0xb8b689]['fetchMessages'](_0x145ef8);}async[a0_0x5a7632(0x185)]({instanceName:_0x33407f}){const _0x459058=a0_0x5a7632;return await this['waMonitor'][_0x459058(0x2bc)][_0x33407f]['fetchLabels']();}async[a0_0x5a7632(0x31e)]({instanceName:_0x376175}){const _0xdff562=a0_0x5a7632;return await this[_0xdff562(0x63a)][_0xdff562(0x2bc)][_0x376175][_0xdff562(0x31e)]();}async[a0_0x5a7632(0x5c5)]({instanceName:_0x38ddbf}){const _0x520490=a0_0x5a7632;return await this[_0x520490(0x63a)][_0x520490(0x2bc)][_0x38ddbf]['fetchPrivacySettings']();}async[a0_0x5a7632(0x4d4)]({instanceName:_0x6468a6},_0x288a28){const _0x38e7fd=a0_0x5a7632;return await this[_0x38e7fd(0x63a)]['waInstances'][_0x6468a6][_0x38e7fd(0x4d4)](_0x288a28);}async[a0_0x5a7632(0x4ce)]({instanceName:_0x1e0f08},_0x45c73c){const _0x54d825=a0_0x5a7632;return await this[_0x54d825(0x63a)][_0x54d825(0x2bc)][_0x1e0f08][_0x54d825(0x4ce)](_0x45c73c['number']);}async[a0_0x5a7632(0x3fc)]({instanceName:_0x3f90dc},_0x90172b){const _0x1f4a97=a0_0x5a7632;return await this['waMonitor'][_0x1f4a97(0x2bc)][_0x3f90dc][_0x1f4a97(0x3fc)](_0x90172b[_0x1f4a97(0x510)]);}async[a0_0x5a7632(0x74a)]({instanceName:_0x59e743},_0xc334d3){const _0x419c20=a0_0x5a7632;return await this[_0x419c20(0x63a)][_0x419c20(0x2bc)][_0x59e743]['updateProfileStatus'](_0xc334d3[_0x419c20(0x5cd)]);}async[a0_0x5a7632(0x3fb)]({instanceName:_0x41c746},_0x59173a){const _0x1722a6=a0_0x5a7632;return await this[_0x1722a6(0x63a)][_0x1722a6(0x2bc)][_0x41c746]['updateProfilePicture'](_0x59173a[_0x1722a6(0x248)]);}async[a0_0x5a7632(0x632)]({instanceName:_0x50f15f},_0x2db04b){const _0x5d80ac=a0_0x5a7632;return await this['waMonitor'][_0x5d80ac(0x2bc)][_0x50f15f]['removeProfilePicture']();}},_s=require('@whiskeysockets/baileys'),Bt=class c{constructor(_0x3389b9,_0x1db01a,_0x30edd4,_0x296154,_0xceee37){const _0x830963=a0_0x5a7632;this[_0x830963(0x63a)]=_0x3389b9,this[_0x830963(0x513)]=_0x1db01a,this[_0x830963(0x2d9)]=_0x30edd4,this['eventEmitter']=_0x296154,this[_0x830963(0x5ca)]=_0xceee37,this[_0x830963(0x22c)]=new v(c['name']);}async['createInstance']({instanceName:_0x52118a,apikey:_0x3c491c,number:_0x56dd8a,proxy:_0x4d3b67=!0x0}){const _0x52843e=a0_0x5a7632;try{let _0x920aab=new be(this[_0x52843e(0x513)],this[_0x52843e(0x265)],this[_0x52843e(0x2d9)]);_0x920aab[_0x52843e(0x76b)]=_0x52118a,this[_0x52843e(0x63a)][_0x52843e(0x2bc)][_0x920aab[_0x52843e(0x76b)]]=_0x920aab;let _0x221737={};_0x3c491c?(await this[_0x52843e(0x2d9)][_0x52843e(0x335)][_0x52843e(0x6f5)]({'apikey':_0x3c491c},_0x52118a),_0x221737['apikey']=_0x3c491c):_0x221737=await this[_0x52843e(0x5ca)][_0x52843e(0x444)]({'instanceName':_0x920aab[_0x52843e(0x76b)]});let _0x4b24e9;if(_0x56dd8a){if(_0x4b24e9=await this[_0x52843e(0x270)](_0x56dd8a),_0x4b24e9[_0x52843e(0x7aa)])throw new I(_0x4b24e9['error']['toString']());_0x56dd8a=_0x4b24e9['number'];}let _0x62c0bd;return await _0x920aab[_0x52843e(0x734)](_0x56dd8a),await(0x0,_s['delay'])(0x7d0),_0x62c0bd=_0x920aab[_0x52843e(0x465)],{'instance':{'instanceName':_0x920aab[_0x52843e(0x76b)],'status':_0x52843e(0x7b3)},'hash':_0x221737,'qrcode':_0x62c0bd};}catch(_0x15c0aa){throw this['logger'][_0x52843e(0x7aa)](_0x15c0aa),_0x15c0aa;}}async['connectToWhatsappController']({instanceName:_0x3c6faa,number:_0x437c5a=null}){const _0x121cd7=a0_0x5a7632;try{let _0x55361f=this[_0x121cd7(0x63a)][_0x121cd7(0x2bc)][_0x3c6faa];switch(_0x55361f?.['connectionStatus']?.['state']){case'close':return await _0x55361f[_0x121cd7(0x734)](_0x437c5a),await(0x0,_s[_0x121cd7(0x699)])(0x7d0),_0x55361f[_0x121cd7(0x465)];case'connecting':return _0x55361f[_0x121cd7(0x465)];default:return await this[_0x121cd7(0x6f8)]({'instanceName':_0x3c6faa});}}catch(_0x24df7d){this[_0x121cd7(0x22c)][_0x121cd7(0x1c8)](_0x24df7d);}}async[a0_0x5a7632(0x6f8)]({instanceName:_0x1378b8}){const _0x5f3cbd=a0_0x5a7632;let _0x55dace=this[_0x5f3cbd(0x63a)][_0x5f3cbd(0x2bc)][_0x1378b8][_0x5f3cbd(0x327)],_0x142411=null;_0x55dace[_0x5f3cbd(0x62f)]===_0x5f3cbd(0x29a)&&_0x1378b8&&(_0x142411=await this[_0x5f3cbd(0x63a)][_0x5f3cbd(0x304)](_0x1378b8));let _0x444a68=null;return _0x55dace['state']===_0x5f3cbd(0x15a)&&_0x1378b8&&(_0x444a68=this[_0x5f3cbd(0x63a)][_0x5f3cbd(0x2bc)][_0x1378b8][_0x5f3cbd(0x465)]),{'instance':_0x1378b8,'connectionStatus':_0x55dace,'instanceInfo':_0x142411,'qrcode':_0x444a68};}async[a0_0x5a7632(0x270)](_0x3d7eec){const _0x3fb6a7=a0_0x5a7632;_0x3d7eec=_0x3d7eec[_0x3fb6a7(0x23d)](/\D/g,'');let _0x59a45d=Object[_0x3fb6a7(0x769)](this['waMonitor'][_0x3fb6a7(0x2bc)])['filter'](_0x5e85fe=>{const _0x1c1e7e=_0x3fb6a7;let _0x11c1d4=this['waMonitor']['waInstances'][_0x5e85fe];return _0x11c1d4&&_0x11c1d4[_0x1c1e7e(0x327)]&&_0x11c1d4[_0x1c1e7e(0x327)][_0x1c1e7e(0x62f)]===_0x1c1e7e(0x29a);});if(_0x59a45d[_0x3fb6a7(0x4e4)]===0x0)return{'number':this[_0x3fb6a7(0x1e0)](_0x3d7eec)};let _0x5665ab=Math[_0x3fb6a7(0x78e)](Math[_0x3fb6a7(0x171)]()*_0x59a45d['length']),_0x2ac176=_0x59a45d[_0x5665ab];try{let _0x3d7886=(await this[_0x3fb6a7(0x63a)][_0x3fb6a7(0x2bc)][_0x2ac176][_0x3fb6a7(0x563)]({'numbers':[_0x3d7eec]}))[_0x3fb6a7(0x1b9)]();return _0x3d7886[_0x3fb6a7(0x6e9)]?{'number':_0x3d7886[_0x3fb6a7(0x383)]['replace'](_0x3fb6a7(0x770),'')}:{'number':_0x3d7eec,'error':_0x3fb6a7(0x54b)};}catch(_0x2f2434){return this[_0x3fb6a7(0x22c)]['error'](_0x3fb6a7(0x65b)+_0x2f2434),{'number':_0x3d7eec,'error':_0x3fb6a7(0x2b2)};}}[a0_0x5a7632(0x1e0)](_0x219376){const _0x440e6a=a0_0x5a7632;let _0x55c540=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x440e6a(0x596)](_0x219376);if(_0x55c540&&_0x55c540[0x1]==='55'){let _0x1b805a=_0x55c540[0x2],_0xf3d112=_0x55c540[0x3],_0x207104=_0x55c540[0x4];if(parseInt(_0x1b805a)>=0x1f&&_0xf3d112==='9')return _0x55c540[0x1]+_0x1b805a+_0x207104;}return _0x219376;}async[a0_0x5a7632(0x5b9)]({instanceName:_0x5ac39b}){const _0x292d22=a0_0x5a7632;try{return this[_0x292d22(0x63a)][_0x292d22(0x2bc)][_0x5ac39b]?.[_0x292d22(0x425)]?.['ws']?.[_0x292d22(0x4fb)](),{'status':_0x292d22(0x27a),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x221756){this[_0x292d22(0x22c)][_0x292d22(0x7aa)](_0x221756);}}async[a0_0x5a7632(0x1a9)]({instanceName:_0x22daa0}){const _0x384231=a0_0x5a7632;return _0x22daa0?this[_0x384231(0x63a)][_0x384231(0x304)](_0x22daa0):this[_0x384231(0x63a)][_0x384231(0x304)]();}async['logout']({instanceName:_0x17b303}){const _0x2b057b=a0_0x5a7632;try{return await this[_0x2b057b(0x63a)][_0x2b057b(0x2bc)][_0x17b303]?.[_0x2b057b(0x425)]?.[_0x2b057b(0x51a)]('Log\x20out\x20instance:\x20'+_0x17b303),{'error':!0x1,'message':_0x2b057b(0x468)};}catch(_0x470675){throw new I(_0x470675[_0x2b057b(0x1ce)]());}}async[a0_0x5a7632(0x684)]({instanceName:_0x3ccb1e}){const _0x3d04e3=a0_0x5a7632;if((await this[_0x3d04e3(0x6f8)]({'instanceName':_0x3ccb1e}))[_0x3d04e3(0x327)][_0x3d04e3(0x62f)]===_0x3d04e3(0x29a))throw new w([_0x3d04e3(0x10e),_0x3d04e3(0x330)]);try{return delete this['waMonitor'][_0x3d04e3(0x2bc)][_0x3ccb1e],{'error':!0x1,'message':_0x3d04e3(0x2de)};}catch(_0x2133b3){throw new w(_0x2133b3[_0x3d04e3(0x1ce)]());}}},ee=require(a0_0x5a7632(0x165)),Gt=class{constructor(_0x47dea8){const _0x53acd1=a0_0x5a7632;this[_0x53acd1(0x63a)]=_0x47dea8;}async['sendText']({instanceName:_0x2842aa},_0x508bac){const _0x433d77=a0_0x5a7632;return await this[_0x433d77(0x63a)][_0x433d77(0x2bc)][_0x2842aa]['textMessage'](_0x508bac);}async[a0_0x5a7632(0x67f)]({instanceName:_0x1e5e8d},_0x5b95c2){const _0x220862=a0_0x5a7632;return await this[_0x220862(0x63a)][_0x220862(0x2bc)][_0x1e5e8d][_0x220862(0x17e)](_0x5b95c2);}async[a0_0x5a7632(0x3c1)]({instanceName:_0x1e3374},_0xc079c1){const _0x2f4e9d=a0_0x5a7632;if((0x0,ee['isBase64'])(_0xc079c1?.[_0x2f4e9d(0x2ae)]?.[_0x2f4e9d(0x693)])&&!_0xc079c1?.[_0x2f4e9d(0x2ae)]?.['fileName'])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ee['isURL'])(_0xc079c1?.[_0x2f4e9d(0x2ae)]?.[_0x2f4e9d(0x693)])||(0x0,ee[_0x2f4e9d(0x645)])(_0xc079c1?.[_0x2f4e9d(0x2ae)]?.['media']))return await this['waMonitor'][_0x2f4e9d(0x2bc)][_0x1e3374][_0x2f4e9d(0x2ae)](_0xc079c1);throw new w(_0x2f4e9d(0x449));}async['sendSticker']({instanceName:_0x1993e9},_0x2ad575){const _0x1c5123=a0_0x5a7632;if((0x0,ee['isURL'])(_0x2ad575[_0x1c5123(0x46f)][_0x1c5123(0x613)])||(0x0,ee[_0x1c5123(0x645)])(_0x2ad575[_0x1c5123(0x46f)]['image']))return await this[_0x1c5123(0x63a)][_0x1c5123(0x2bc)][_0x1993e9]['mediaSticker'](_0x2ad575);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5a7632(0x5dc)]({instanceName:_0x234476},_0x2131f7){const _0x382c9a=a0_0x5a7632;if((0x0,ee[_0x382c9a(0x794)])(_0x2131f7['audioMessage'][_0x382c9a(0x66d)])||(0x0,ee[_0x382c9a(0x645)])(_0x2131f7['audioMessage'][_0x382c9a(0x66d)]))return await this['waMonitor']['waInstances'][_0x234476][_0x382c9a(0x30b)](_0x2131f7);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5a7632(0x653)]({instanceName:_0x5c286a},_0x2909a2){const _0x2e7e60=a0_0x5a7632;if((0x0,ee[_0x2e7e60(0x645)])(_0x2909a2['buttonMessage'][_0x2e7e60(0x2ae)]?.[_0x2e7e60(0x693)])&&!_0x2909a2['buttonMessage'][_0x2e7e60(0x2ae)]?.[_0x2e7e60(0x4c8)])throw new w(_0x2e7e60(0x4ca));return await this[_0x2e7e60(0x63a)][_0x2e7e60(0x2bc)][_0x5c286a]['buttonMessage'](_0x2909a2);}async[a0_0x5a7632(0x498)]({instanceName:_0x5bfdb7},_0x2f8096){const _0x2f3207=a0_0x5a7632;return await this[_0x2f3207(0x63a)]['waInstances'][_0x5bfdb7]['locationMessage'](_0x2f8096);}async['sendPoll']({instanceName:_0xbe4fc7},_0x34503d){const _0x2bf938=a0_0x5a7632;return await this[_0x2bf938(0x63a)][_0x2bf938(0x2bc)][_0xbe4fc7]['pollMessage'](_0x34503d);}async[a0_0x5a7632(0x546)]({instanceName:_0x5e9acb},_0x4d3f29){const _0x24d5f1=a0_0x5a7632;return await this[_0x24d5f1(0x63a)][_0x24d5f1(0x2bc)][_0x5e9acb]['listMessage'](_0x4d3f29);}async[a0_0x5a7632(0x2c6)]({instanceName:_0x52d948},_0x1de6c8){const _0xad486f=a0_0x5a7632;return await this[_0xad486f(0x63a)][_0xad486f(0x2bc)][_0x52d948]['contactMessage'](_0x1de6c8);}async[a0_0x5a7632(0x41e)]({instanceName:_0x4fdd32},_0x4dc56d){const _0x199dbd=a0_0x5a7632;if(!_0x4dc56d[_0x199dbd(0x746)][_0x199dbd(0x1e7)][_0x199dbd(0x408)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x199dbd(0x385));return await this['waMonitor'][_0x199dbd(0x2bc)][_0x4fdd32][_0x199dbd(0x746)](_0x4dc56d);}async[a0_0x5a7632(0x215)]({instanceName:_0x27ceff},_0x3de962){const _0x2bee2a=a0_0x5a7632;return await this[_0x2bee2a(0x63a)]['waInstances'][_0x27ceff]['statusMessage'](_0x3de962);}},xr=require(a0_0x5a7632(0x57d)),Ps=require(a0_0x5a7632(0x126)),Wt=class c{constructor(_0x687e35,_0x8b21a6,_0xd936d3){const _0x1ca23d=a0_0x5a7632;this['configService']=_0x687e35,this['waMonitor']=_0x8b21a6,this['repository']=_0xd936d3,this[_0x1ca23d(0x22c)]=new v(c[_0x1ca23d(0x510)]);}async[a0_0x5a7632(0xec)](_0x4876cf){const _0x193a3d=a0_0x5a7632;let _0x2891b6=this[_0x193a3d(0x513)][_0x193a3d(0x711)](_0x193a3d(0x4b0))[_0x193a3d(0x6aa)],_0x473d3d=(0x0,xr[_0x193a3d(0x472)])({'instanceName':_0x4876cf['instanceName'],'apiName':Xe,'tokenId':(0x0,Ps['v4'])()},_0x2891b6[_0x193a3d(0x109)],{'expiresIn':_0x2891b6[_0x193a3d(0x3e3)],'encoding':_0x193a3d(0x284),'subject':_0x193a3d(0x4e0)}),_0x123baa=await this[_0x193a3d(0x2d9)][_0x193a3d(0x335)][_0x193a3d(0x6f5)]({'jwt':_0x473d3d},_0x4876cf[_0x193a3d(0x76b)]);if(_0x123baa[_0x193a3d(0x7aa)])throw this[_0x193a3d(0x22c)][_0x193a3d(0x7aa)]({'localError':c[_0x193a3d(0x510)]+_0x193a3d(0x2da),'error':_0x123baa[_0x193a3d(0x7aa)]}),new w(_0x193a3d(0x5d2),_0x123baa[_0x193a3d(0x7aa)]?.[_0x193a3d(0x1ce)]());return{'jwt':_0x473d3d};}async[a0_0x5a7632(0x388)](_0x5a9d77){const _0x1f916f=a0_0x5a7632;let _0x11a4d1=(0x0,Ps['v4'])()['toUpperCase'](),_0xc79f70=await this[_0x1f916f(0x2d9)][_0x1f916f(0x335)][_0x1f916f(0x6f5)]({'apikey':_0x11a4d1},_0x5a9d77[_0x1f916f(0x76b)]);if(_0xc79f70['error'])throw this['logger'][_0x1f916f(0x7aa)]({'localError':c[_0x1f916f(0x510)]+_0x1f916f(0x2da),'error':_0xc79f70[_0x1f916f(0x7aa)]}),new w('Authentication\x20error',_0xc79f70['error']?.[_0x1f916f(0x1ce)]());return{'apikey':_0x11a4d1};}async[a0_0x5a7632(0x444)](_0x25c57c){const _0x2a7c70=a0_0x5a7632;let _0x2b7372=this[_0x2a7c70(0x513)][_0x2a7c70(0x711)](_0x2a7c70(0x4b0));return await this[_0x2b7372[_0x2a7c70(0x3bf)]](_0x25c57c);}},zt=class{constructor(_0xb1e1d4){const _0xddd691=a0_0x5a7632;this[_0xddd691(0x63a)]=_0xb1e1d4;}async[a0_0x5a7632(0x476)](_0x5aa99b,_0x457899){const _0x523a6e=a0_0x5a7632;return await this['waMonitor'][_0x523a6e(0x2bc)][_0x5aa99b[_0x523a6e(0x76b)]]['createGroup'](_0x457899);}async[a0_0x5a7632(0x253)](_0x1ed7e2,_0x1185a5){const _0x48674b=a0_0x5a7632;return await this[_0x48674b(0x63a)][_0x48674b(0x2bc)][_0x1ed7e2[_0x48674b(0x76b)]]['updateGroupPicture'](_0x1185a5);}async[a0_0x5a7632(0x2c4)](_0x44f8f9,_0x3f735d){const _0x5dc973=a0_0x5a7632;return await this[_0x5dc973(0x63a)][_0x5dc973(0x2bc)][_0x44f8f9['instanceName']][_0x5dc973(0x2c4)](_0x3f735d);}async['groupName'](_0x16ef0b,_0x4c52b4){const _0x3065da=a0_0x5a7632;return await this['waMonitor'][_0x3065da(0x2bc)][_0x16ef0b[_0x3065da(0x76b)]][_0x3065da(0x31f)](_0x4c52b4);}async['groupBetterSetting'](_0x1ad16e,_0x4f4ff6){const _0xc3ad2e=a0_0x5a7632;return await this[_0xc3ad2e(0x63a)][_0xc3ad2e(0x2bc)][_0x1ad16e[_0xc3ad2e(0x76b)]]['groupBetterSetting'](_0x4f4ff6);}async['groupSetting'](_0x21c9b8,_0x14932c){const _0x4b7349=a0_0x5a7632;return await this[_0x4b7349(0x63a)][_0x4b7349(0x2bc)][_0x21c9b8[_0x4b7349(0x76b)]][_0x4b7349(0x4a0)](_0x14932c);}async[a0_0x5a7632(0x1d4)](_0x1134ef,_0xab1921){const _0x2d7c94=a0_0x5a7632;return await this[_0x2d7c94(0x63a)][_0x2d7c94(0x2bc)][_0x1134ef['instanceName']][_0x2d7c94(0x23b)](_0xab1921);}async['findGroups'](_0x582f95){const _0x17d6e2=a0_0x5a7632;return await this['waMonitor'][_0x17d6e2(0x2bc)][_0x582f95[_0x17d6e2(0x76b)]][_0x17d6e2(0x32c)]();}async[a0_0x5a7632(0x4b3)](_0x88b1aa,_0x85607d){const _0xb42d8c=a0_0x5a7632;return await this[_0xb42d8c(0x63a)]['waInstances'][_0x88b1aa[_0xb42d8c(0x76b)]][_0xb42d8c(0x4b3)](_0x85607d);}async[a0_0x5a7632(0x697)](_0x78cec8,_0x54fca6){const _0x582958=a0_0x5a7632;return await this[_0x582958(0x63a)]['waInstances'][_0x78cec8[_0x582958(0x76b)]][_0x582958(0x697)](_0x54fca6);}async[a0_0x5a7632(0x183)](_0x290a3b,_0x2afd4b){const _0x25de42=a0_0x5a7632;return await this[_0x25de42(0x63a)][_0x25de42(0x2bc)][_0x290a3b['instanceName']][_0x25de42(0x183)](_0x2afd4b);}async[a0_0x5a7632(0x2a3)](_0x54a790,_0x204e5a){const _0x506841=a0_0x5a7632;return await this[_0x506841(0x63a)][_0x506841(0x2bc)][_0x54a790['instanceName']][_0x506841(0x2a3)](_0x204e5a);}async['findParticipants'](_0x4d7891,_0x42440e){const _0x4b8c52=a0_0x5a7632;return await this[_0x4b8c52(0x63a)][_0x4b8c52(0x2bc)][_0x4d7891[_0x4b8c52(0x76b)]][_0x4b8c52(0x562)](_0x42440e);}async[a0_0x5a7632(0x5d4)](_0x4b4061,_0x4d1a80){const _0x2403a8=a0_0x5a7632;return await this[_0x2403a8(0x63a)][_0x2403a8(0x2bc)][_0x4b4061['instanceName']][_0x2403a8(0x6f0)](_0x4d1a80);}async[a0_0x5a7632(0x264)](_0x2cf2b1,_0x3e9a8c){const _0x4c62ff=a0_0x5a7632;return await this[_0x4c62ff(0x63a)][_0x4c62ff(0x2bc)][_0x2cf2b1[_0x4c62ff(0x76b)]][_0x4c62ff(0x264)](_0x3e9a8c);}async[a0_0x5a7632(0x179)](_0x3fe17f,_0x7cfc3d){const _0x37aa13=a0_0x5a7632;return await this['waMonitor'][_0x37aa13(0x2bc)][_0x3fe17f[_0x37aa13(0x76b)]][_0x37aa13(0x179)](_0x7cfc3d);}},Ht=class{constructor(_0xeb8e33){const _0x408e5e=a0_0x5a7632;this[_0x408e5e(0x63a)]=_0xeb8e33;}[a0_0x5a7632(0x6f5)](_0x14dd31,_0x3f9491){const _0xa5bd47=a0_0x5a7632;return this['waMonitor'][_0xa5bd47(0x2bc)][_0x14dd31[_0xa5bd47(0x76b)]][_0xa5bd47(0x542)](_0x3f9491);}async['find'](_0x505599){const _0x402319=a0_0x5a7632;try{return await this['waMonitor'][_0x402319(0x2bc)][_0x505599[_0x402319(0x76b)]][_0x402319(0x5fc)]();}catch{return{'enabled':null,'url':''};}}},fp=new v('FlowController'),Kt=class{constructor(_0x100705){const _0x33fd0a=a0_0x5a7632;this[_0x33fd0a(0x63a)]=_0x100705;}async[a0_0x5a7632(0x53e)](_0xe0076f,_0x162ef0){const _0xdfa2e9=a0_0x5a7632;return await this['waMonitor']['waInstances'][_0xe0076f[_0xdfa2e9(0x76b)]][_0xdfa2e9(0x53e)](_0x162ef0);}async['getScheduleMessage'](_0x5f2255){const _0x22e073=a0_0x5a7632;return await this[_0x22e073(0x63a)]['waInstances'][_0x5f2255[_0x22e073(0x76b)]][_0x22e073(0x349)]();}async['deleteDoneMessages'](_0x3504ec){const _0xed6200=a0_0x5a7632;return await this[_0xed6200(0x63a)][_0xed6200(0x2bc)][_0x3504ec['instanceName']][_0xed6200(0x71c)]();}async['getAutomateSystem'](_0x58b772){const _0x38588b=a0_0x5a7632;return await this[_0x38588b(0x63a)][_0x38588b(0x2bc)][_0x58b772['instanceName']][_0x38588b(0x70c)]();}async['updateAgent'](_0x4c13ee,_0x45d0b2){const _0x31a807=a0_0x5a7632;return await this['waMonitor'][_0x31a807(0x2bc)][_0x4c13ee[_0x31a807(0x76b)]][_0x31a807(0x2f9)](_0x45d0b2);}async[a0_0x5a7632(0x359)](_0x59302e,_0x296487){const _0xe4d300=a0_0x5a7632;return await this[_0xe4d300(0x63a)][_0xe4d300(0x2bc)][_0x59302e[_0xe4d300(0x76b)]][_0xe4d300(0x359)](_0x296487);}async[a0_0x5a7632(0x28b)](_0x16ed2f,_0x4e361b){const _0x4141de=a0_0x5a7632;return await this['waMonitor'][_0x4141de(0x2bc)][_0x16ed2f['instanceName']][_0x4141de(0x28b)](_0x4e361b);}async[a0_0x5a7632(0xef)](_0x480271,_0x50c226){const _0x3bd34c=a0_0x5a7632;return await this['waMonitor'][_0x3bd34c(0x2bc)][_0x480271[_0x3bd34c(0x76b)]]['startFlow'](_0x50c226);}async[a0_0x5a7632(0x3fe)](_0x1d0db9,_0x51b5b9){const _0x4360e6=a0_0x5a7632;return await this[_0x4360e6(0x63a)][_0x4360e6(0x2bc)][_0x1d0db9['instanceName']][_0x4360e6(0x3fe)](_0x51b5b9);}async['fetchConversation'](_0x1b9565,_0x55106e){const _0x418792=a0_0x5a7632;return await this[_0x418792(0x63a)]['waInstances'][_0x1b9565[_0x418792(0x76b)]][_0x418792(0x7b2)](_0x55106e);}async['editConversation'](_0x5e21c1,_0x412fb3){const _0xe82871=a0_0x5a7632;return await this[_0xe82871(0x63a)][_0xe82871(0x2bc)][_0x5e21c1[_0xe82871(0x76b)]][_0xe82871(0x333)](_0x412fb3);}async[a0_0x5a7632(0x48c)](_0x19e96d,_0x14362b){const _0xfcffd4=a0_0x5a7632;return await this[_0xfcffd4(0x63a)]['waInstances'][_0x19e96d['instanceName']]['deleteConversation'](_0x14362b);}async[a0_0x5a7632(0x5b7)](_0x5ace9e,_0x4ded31){const _0x3125c6=a0_0x5a7632;return await this[_0x3125c6(0x63a)]['waInstances'][_0x5ace9e[_0x3125c6(0x76b)]][_0x3125c6(0x5b7)](_0x4ded31[_0x3125c6(0x510)]);}async[a0_0x5a7632(0x6d8)](_0x23cde5,_0x4447a9){const _0x191aba=a0_0x5a7632;return await this[_0x191aba(0x63a)]['waInstances'][_0x23cde5['instanceName']][_0x191aba(0x6d8)](_0x4447a9);}async[a0_0x5a7632(0x4c0)](_0x128cbd,_0x26023a){const _0x21ae52=a0_0x5a7632;return await this[_0x21ae52(0x63a)]['waInstances'][_0x128cbd['instanceName']]['editFlow'](_0x26023a);}async['editFlowBlock'](_0x20ac78,_0x5c6bb0){const _0x122a41=a0_0x5a7632;return await this[_0x122a41(0x63a)][_0x122a41(0x2bc)][_0x20ac78[_0x122a41(0x76b)]]['editFlowBlock'](_0x5c6bb0);}async[a0_0x5a7632(0x67d)](_0x139af1,_0x10d493){const _0x5b1dbb=a0_0x5a7632;return await this[_0x5b1dbb(0x63a)][_0x5b1dbb(0x2bc)][_0x139af1[_0x5b1dbb(0x76b)]][_0x5b1dbb(0x67d)](_0x10d493);}async[a0_0x5a7632(0x104)](_0x149adb,_0x81c204){const _0x29745e=a0_0x5a7632;return await this[_0x29745e(0x63a)][_0x29745e(0x2bc)][_0x149adb[_0x29745e(0x76b)]][_0x29745e(0x104)](_0x81c204);}async[a0_0x5a7632(0x624)](_0x3bcc3f,_0x294317){const _0xd97b39=a0_0x5a7632;return await this[_0xd97b39(0x63a)][_0xd97b39(0x2bc)][_0x3bcc3f[_0xd97b39(0x76b)]]['editFlowCondition'](_0x294317);}async[a0_0x5a7632(0x57a)](_0xc56227,_0x3e7a75){const _0x1f2852=a0_0x5a7632;return await this[_0x1f2852(0x63a)][_0x1f2852(0x2bc)][_0xc56227[_0x1f2852(0x76b)]][_0x1f2852(0x57a)](_0x3e7a75);}async[a0_0x5a7632(0x47c)](_0x2dcbca,_0x4c16a7){const _0x2bac97=a0_0x5a7632;return await this['waMonitor']['waInstances'][_0x2dcbca['instanceName']][_0x2bac97(0x47c)](_0x4c16a7);}async[a0_0x5a7632(0x2a0)](_0x1d829d,_0x462504){const _0x5f23ca=a0_0x5a7632;return await this[_0x5f23ca(0x63a)][_0x5f23ca(0x2bc)][_0x1d829d['instanceName']][_0x5f23ca(0x2a0)](_0x462504[_0x5f23ca(0x510)]);}async[a0_0x5a7632(0x4ad)](_0x5ad2c2){const _0x1eb0bc=a0_0x5a7632;return await this['waMonitor'][_0x1eb0bc(0x2bc)][_0x5ad2c2['instanceName']][_0x1eb0bc(0x4ad)]();}},Qt=class{constructor(_0x43fe6b){const _0x4d0e20=a0_0x5a7632;this[_0x4d0e20(0x5ed)]=_0x43fe6b;}async[a0_0x5a7632(0x121)](_0xfe098c,_0xdc3397){const _0x353240=a0_0x5a7632;return this[_0x353240(0x5ed)]['create'](_0xfe098c,_0xdc3397);}async[a0_0x5a7632(0x5fc)](_0x5253ae){const _0x13ebd3=a0_0x5a7632;return this[_0x13ebd3(0x5ed)][_0x13ebd3(0x6c4)](_0x5253ae);}},Yt=class extends D{constructor(_0x243568,_0x497177){const _0x55778a=a0_0x5a7632;super(_0x497177),this[_0x55778a(0x1f4)]=_0x243568,this[_0x55778a(0x513)]=_0x497177;}async['create'](_0x570512,_0x13f734){const _0x370355=a0_0x5a7632;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this['webhookModel'][_0x370355(0x7a3)]({'_id':_0x13f734},{..._0x570512},{'upsert':!0x0}))[_0x370355(0x717)]}:{'insertCount':0x1};}catch(_0x48a107){return _0x48a107;}}async[a0_0x5a7632(0x7af)](_0x1d9d2c){const _0x2c9ef9=a0_0x5a7632;try{if(this[_0x2c9ef9(0x474)][_0x2c9ef9(0x446)]){await this[_0x2c9ef9(0x1f4)][_0x2c9ef9(0x3b9)]({'_id':_0x1d9d2c});return;}}catch(_0x303468){return{'error':_0x303468};}}async[a0_0x5a7632(0x6c4)](_0x8a65fc){const _0x586695=a0_0x5a7632;try{if(this[_0x586695(0x474)][_0x586695(0x446)])return await this[_0x586695(0x1f4)][_0x586695(0x48e)]({'_id':_0x8a65fc});}catch{return{};}}},Xt=class extends D{constructor(_0x1272b2,_0x44511a){const _0x33d84f=a0_0x5a7632;super(_0x44511a),this[_0x33d84f(0x2f7)]=_0x1272b2,this[_0x33d84f(0x513)]=_0x44511a,this[_0x33d84f(0x335)]=_0x44511a[_0x33d84f(0x711)]('AUTHENTICATION');}async['create'](_0x208a5f,_0x33c6d0){const _0x3545ac=a0_0x5a7632;try{if(this[_0x3545ac(0x474)][_0x3545ac(0x446)])return{'insertCount':(await this[_0x3545ac(0x2f7)][_0x3545ac(0x406)]({'_id':_0x33c6d0},{'$set':{..._0x208a5f}},{'upsert':!0x0}))[_0x3545ac(0x717)]};}catch(_0xab04c){return{'error':_0xab04c};}}async[a0_0x5a7632(0x146)](_0x15af51,_0x25f2cb){const _0x35abb5=a0_0x5a7632;try{if(this['dbSettings'][_0x35abb5(0x446)])return{'insertCount':(await this['authModel'][_0x35abb5(0x728)](_0x15af51,{'$set':_0x25f2cb},{'upsert':!0x1}))[_0x35abb5(0x717)]};throw new Error(_0x35abb5(0x1f0));}catch(_0x33841d){return{'error':_0x33841d};}}async[a0_0x5a7632(0x5b4)](_0x575823){const _0x578722=a0_0x5a7632;try{if(this[_0x578722(0x474)]['ENABLED'])return{'insertCount':(await this[_0x578722(0x2f7)][_0x578722(0x5b4)](_0x575823))[_0x578722(0x1bb)]};throw new Error(_0x578722(0x1f0));}catch(_0x1631a3){return{'error':_0x1631a3};}}async['delete'](_0x345fec){const _0x12e5f6=a0_0x5a7632;try{if(this[_0x12e5f6(0x474)][_0x12e5f6(0x446)]){await this[_0x12e5f6(0x2f7)][_0x12e5f6(0x3b9)]({'_id':_0x345fec});return;}}catch(_0x40053a){return{'error':_0x40053a};}}async[a0_0x5a7632(0x6c4)](_0x134185){const _0x2ce562=a0_0x5a7632;try{if(this[_0x2ce562(0x474)][_0x2ce562(0x446)])return await this[_0x2ce562(0x2f7)][_0x2ce562(0x48e)]({'_id':_0x134185});}catch{return{};}}async[a0_0x5a7632(0x258)](){const _0x28c3ab=a0_0x5a7632;try{if(this[_0x28c3ab(0x474)]['ENABLED'])return await this[_0x28c3ab(0x2f7)]['find']();}catch{return[];}}},Zt=class extends D{[a0_0x5a7632(0x339)](_0x2824fb){return pa(_0x2824fb);}async[a0_0x5a7632(0x617)](_0x1e84ef){const _0x59e767=a0_0x5a7632;try{let _0x4d8596=ha,_0x22ab44=this[_0x59e767(0x339)](_0x1e84ef),_0x320ab0=await _0x4d8596[_0x59e767(0x6c4)]({'owner':_0x1e84ef})['lean'](),_0x269e3c=[],_0x5aabc6=[];for(let _0x1c12dc of _0x320ab0)await _0x22ab44[_0x59e767(0x12e)](_0x1c12dc[_0x59e767(0x21b)])[_0x59e767(0x6b2)]()||(_0x269e3c[_0x59e767(0x208)](_0x1c12dc),_0x5aabc6[_0x59e767(0x208)](_0x1c12dc[_0x59e767(0x21b)]));return _0x269e3c[_0x59e767(0x4e4)]>0x0&&await _0x22ab44[_0x59e767(0x5f2)](_0x269e3c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x19b904){return console[_0x59e767(0x7aa)]('Erro\x20ao\x20copiar\x20dados:',_0x19b904),{'success':!0x1,'error':_0x19b904};}}async[a0_0x5a7632(0x7af)](_0x4b4a40,_0x20cfad){const _0x4e8420=a0_0x5a7632;try{let _0x185314=this[_0x4e8420(0x339)](_0x20cfad),_0x1410b5=A(_0x4b4a40[_0x4e8420(0x701)]);return{'deletedCount':(await _0x185314['deleteMany'](_0x1410b5))[_0x4e8420(0x1bb)]};}catch(_0x59b4d0){return{'error':_0x59b4d0?.[_0x4e8420(0x1ce)]()};}}async[a0_0x5a7632(0x3b9)](_0x5253d8,_0x1c4335){const _0x445bb8=a0_0x5a7632;try{let _0x3b1d21=this[_0x445bb8(0x339)](_0x1c4335),_0x1bd723=A(_0x5253d8[_0x445bb8(0x701)]);return{'deletedCount':(await _0x3b1d21['deleteOne'](_0x1bd723))['deletedCount']};}catch(_0x2a3cab){return{'error':_0x2a3cab?.[_0x445bb8(0x1ce)]()};}}async['replaceOne'](_0x1b3c5f,_0x474714,_0x32d4b8){const _0x344862=a0_0x5a7632;try{let _0x34cfc6=await this['getFlowModelForOwner'](_0x32d4b8)[_0x344862(0x64c)](_0x1b3c5f,_0x474714,{'overwrite':!0x0,'new':!0x0});return _0x34cfc6||(console[_0x344862(0x7aa)](_0x344862(0x4c5),_0x1b3c5f),null);}catch(_0x1a1aea){return console['error'](_0x344862(0x11c),_0x1a1aea),null;}}async[a0_0x5a7632(0x406)](_0x50d44e,_0x29b616,_0x5cfac2){const _0xdda641=a0_0x5a7632;try{let _0x3c7642=await this[_0xdda641(0x339)](_0x5cfac2)[_0xdda641(0x12e)](_0x50d44e);return _0x3c7642?(Object['assign'](_0x3c7642,_0x29b616),await _0x3c7642[_0xdda641(0x3ad)]()):(console[_0xdda641(0x7aa)](_0xdda641(0x36f),_0x50d44e),null);}catch(_0x87bdb3){return console[_0xdda641(0x7aa)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x87bdb3),null;}}async['updateMissingShareOwners'](_0x28297e){const _0x304d67=a0_0x5a7632;try{let _0x1766c5=this[_0x304d67(0x339)](_0x28297e),_0x36dbec={'shareOwners':{'$exists':!0x1}},_0x304cc6={'$set':{'shareOwners':[]}};return(await _0x1766c5[_0x304d67(0x728)](_0x36dbec,_0x304cc6))[_0x304d67(0x717)];}catch(_0x1e3cb2){return console[_0x304d67(0x7aa)](_0x1e3cb2),0x0;}}async[a0_0x5a7632(0x324)](_0x22f6ba,_0x1900b0){const _0x4ab316=a0_0x5a7632;try{let _0x26e393=this['getFlowModelForOwner'](_0x1900b0);return await new _0x26e393(_0x22f6ba)[_0x4ab316(0x3ad)]();}catch(_0x4d3761){return console[_0x4ab316(0x7aa)](_0x4ab316(0x45e),_0x4d3761),null;}}async[a0_0x5a7632(0x728)](_0x136cf7,_0x4ca659,_0x47f854){const _0x5089fe=a0_0x5a7632;try{return{'modifiedCount':(await this[_0x5089fe(0x339)](_0x47f854)[_0x5089fe(0x728)](_0x136cf7,{'$set':_0x4ca659}))['modifiedCount']};}catch(_0x20e524){return console['error'](_0x5089fe(0x7ad),_0x20e524),{'error':_0x20e524};}}async[a0_0x5a7632(0x258)](_0x484796,_0x3bd639){const _0x3ea0b2=a0_0x5a7632;try{let _0x33d184=this[_0x3ea0b2(0x339)](_0x3bd639),_0x1f56a0=A(_0x484796[_0x3ea0b2(0x701)]);return await _0x33d184[_0x3ea0b2(0x6c4)](_0x1f56a0)[_0x3ea0b2(0x600)](_0x484796?.[_0x3ea0b2(0x600)]??0x0)[_0x3ea0b2(0x6b2)]();}catch{return[];}}async[a0_0x5a7632(0x48e)](_0x5ccffc,_0x2bb3a9){const _0x253471=a0_0x5a7632;try{let _0x5a3024=this[_0x253471(0x339)](_0x2bb3a9),_0x482abe=A(_0x5ccffc[_0x253471(0x701)]);return await _0x5a3024[_0x253471(0x48e)](_0x482abe)[_0x253471(0x6b2)]();}catch{return null;}}async[a0_0x5a7632(0x68c)](_0x2026ca){const _0x139a40=a0_0x5a7632;try{return await this['getFlowModelForOwner'](_0x2026ca)[_0x139a40(0x620)][_0x139a40(0x5a3)](),{'success':!0x0};}catch(_0x4b3063){return console['error'](_0x4b3063),{'success':!0x1,'error':_0x4b3063};}}},es=class extends D{[a0_0x5a7632(0x24d)](_0x864893){return ma(_0x864893);}async[a0_0x5a7632(0x617)](_0x146035){const _0x105dc9=a0_0x5a7632;try{let _0x3f7309=fa,_0x12b0f1=this[_0x105dc9(0x24d)](_0x146035),_0x569a3e=await _0x3f7309['find']({'owner':_0x146035})[_0x105dc9(0x6b2)](),_0x40bd75=[],_0xa5724a=[];for(let _0x4a0583 of _0x569a3e)await _0x12b0f1[_0x105dc9(0x12e)](_0x4a0583['_id'])[_0x105dc9(0x6b2)]()||(_0x40bd75['push'](_0x4a0583),_0xa5724a[_0x105dc9(0x208)](_0x4a0583[_0x105dc9(0x21b)]));return _0x40bd75[_0x105dc9(0x4e4)]>0x0&&await _0x12b0f1[_0x105dc9(0x5f2)](_0x40bd75,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4de820){return console[_0x105dc9(0x7aa)]('Erro\x20ao\x20copiar\x20dados:',_0x4de820),{'success':!0x1,'error':_0x4de820};}}async[a0_0x5a7632(0x4bf)](_0x3f13ae){const _0x53c319=a0_0x5a7632;if(_0x3f13ae['length']!==0x0)try{return{'insertCount':(await this[_0x53c319(0x24d)](_0x3f13ae[0x0][_0x53c319(0x1f5)])[_0x53c319(0x5f2)]([..._0x3f13ae]))['length']};}catch(_0x4b5cc9){return _0x4b5cc9;}}async[a0_0x5a7632(0x7af)](_0x4790e9,_0x4a77c9){const _0x5780f6=a0_0x5a7632;try{let _0x154ff5=this[_0x5780f6(0x24d)](_0x4a77c9),_0x156ef8=A(_0x4790e9[_0x5780f6(0x701)]);return{'deletedCount':(await _0x154ff5[_0x5780f6(0x5b4)](_0x156ef8))[_0x5780f6(0x1bb)]};}catch(_0x10f69f){return{'error':_0x10f69f?.['toString']()};}}async[a0_0x5a7632(0x3b9)](_0x1ac546,_0x36454c){const _0x6ac50e=a0_0x5a7632;try{let _0x14195d=this['getConversationModelForOwner'](_0x36454c),_0xc9447d=A(_0x1ac546['where']);return{'deletedCount':(await _0x14195d[_0x6ac50e(0x3b9)](_0xc9447d))[_0x6ac50e(0x1bb)]};}catch(_0x4f1afc){return{'error':_0x4f1afc?.[_0x6ac50e(0x1ce)]()};}}async[a0_0x5a7632(0x703)](_0x549bc6,_0x1f2780){const _0x2b3c2b=a0_0x5a7632;try{if(_0x549bc6[_0x2b3c2b(0x4e4)]===0x0)return;let _0x3edb0f=this[_0x2b3c2b(0x24d)](_0x1f2780),_0x2df0b2=_0x549bc6[_0x2b3c2b(0x2ca)](_0xa5d68f=>({'updateOne':{'filter':{'name':_0xa5d68f[_0x2b3c2b(0x510)],'owner':_0x1f2780},'update':{..._0xa5d68f}}})),{modifiedCount:_0x347600}=await _0x3edb0f['bulkWrite'](_0x2df0b2);return{'insertCount':_0x347600};}catch{return;}}async['updateMany'](_0x2d5b11,_0x215d5c,_0x4c27fe){const _0x4ce7b4=a0_0x5a7632;try{return{'modifiedCount':(await this[_0x4ce7b4(0x24d)](_0x4c27fe)[_0x4ce7b4(0x728)](_0x2d5b11,{'$set':_0x215d5c}))['modifiedCount']};}catch(_0x186114){return console['error'](_0x4ce7b4(0x3f9),_0x186114),{'error':_0x186114};}}async['updateOne'](_0x23959b,_0x21f270,_0x4f5108){const _0x2c57b3=a0_0x5a7632;try{return await this['getConversationModelForOwner'](_0x4f5108)['findOneAndUpdate']({'_id':_0x23959b},{'$set':_0x21f270},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x27ec05){return console[_0x2c57b3(0x7aa)](_0x27ec05),null;}}async[a0_0x5a7632(0x6c4)](_0x40504c,_0x1f5803){const _0x3c5ba9=a0_0x5a7632;try{return await this[_0x3c5ba9(0x24d)](_0x1f5803)[_0x3c5ba9(0x6c4)](_0x40504c)[_0x3c5ba9(0x155)]({'lastInteraction':-0x1})[_0x3c5ba9(0x6b2)]();}catch{return[];}}async[a0_0x5a7632(0x48e)](_0x3e5eea,_0x2f9e51){const _0x111246=a0_0x5a7632;try{return await this[_0x111246(0x24d)](_0x2f9e51)[_0x111246(0x48e)]({..._0x3e5eea[_0x111246(0x701)]})['lean']();}catch{return null;}}async['deleteAll'](_0x1ff201){const _0x518eb2=a0_0x5a7632;try{return await this[_0x518eb2(0x24d)](_0x1ff201)[_0x518eb2(0x620)]['drop'](),{'success':!0x0};}catch(_0x3b1510){return console[_0x518eb2(0x7aa)](_0x3b1510),{'success':!0x1,'error':_0x3b1510};}}},ts=class extends D{[a0_0x5a7632(0x704)](_0x3dea1f){return ya(_0x3dea1f);}async['copyDataToNewModel'](_0x35193a){const _0x1bd2a0=a0_0x5a7632;try{let _0x433db2=ba,_0x4520b2=this[_0x1bd2a0(0x704)](_0x35193a),_0x12f51c=await _0x433db2[_0x1bd2a0(0x6c4)]({'owner':_0x35193a})[_0x1bd2a0(0x6b2)](),_0x56297a=[],_0x3477ee=[];for(let _0x5eb4ce of _0x12f51c)await _0x4520b2[_0x1bd2a0(0x12e)](_0x5eb4ce[_0x1bd2a0(0x21b)])[_0x1bd2a0(0x6b2)]()||(_0x56297a[_0x1bd2a0(0x208)](_0x5eb4ce),_0x3477ee[_0x1bd2a0(0x208)](_0x5eb4ce[_0x1bd2a0(0x21b)]));return _0x56297a[_0x1bd2a0(0x4e4)]>0x0&&await _0x4520b2[_0x1bd2a0(0x5f2)](_0x56297a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x292a45){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x292a45),{'success':!0x1,'error':_0x292a45};}}async['createAndSave'](_0x5b86c1,_0x4fb5f9){const _0x51b258=a0_0x5a7632;try{let _0x1eb38d=this['getScheduleMessageModelForOwner'](_0x4fb5f9);return await new _0x1eb38d(_0x5b86c1)[_0x51b258(0x3ad)]();}catch(_0x1a7019){return console[_0x51b258(0x7aa)](_0x51b258(0x45e),_0x1a7019),null;}}async[a0_0x5a7632(0x3b9)](_0x2f9de8,_0x68881b){const _0x13aca7=a0_0x5a7632;try{return await this[_0x13aca7(0x704)](_0x68881b)[_0x13aca7(0x55b)](_0x2f9de8),{};}catch(_0x3bad00){return{'error':_0x3bad00?.[_0x13aca7(0x1ce)]()};}}async['updateOne'](_0x1ca465,_0x1ff141,_0x290f28){const _0x5f1f73=a0_0x5a7632;try{return await this[_0x5f1f73(0x704)](_0x290f28)[_0x5f1f73(0x3a0)](_0x1ca465,{'$set':_0x1ff141},{'new':!0x0})[_0x5f1f73(0x6b2)]();}catch(_0x3063ac){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3063ac),null;}}async[a0_0x5a7632(0x1dd)](_0x394ef5,_0xb41707,_0x77500a){const _0x56b9b7=a0_0x5a7632;try{return await this['getScheduleMessageModelForOwner'](_0x77500a)[_0x56b9b7(0x64c)](_0x394ef5,_0xb41707,{'new':!0x0})[_0x56b9b7(0x6b2)]();}catch(_0x4b39fc){return console[_0x56b9b7(0x7aa)](_0x56b9b7(0x523),_0x4b39fc),null;}}async[a0_0x5a7632(0x6c4)](_0x6466ab,_0x542381){const _0xdf1a0a=a0_0x5a7632;try{return await this[_0xdf1a0a(0x704)](_0x542381)[_0xdf1a0a(0x6c4)](_0x6466ab[_0xdf1a0a(0x701)])[_0xdf1a0a(0x600)](_0x6466ab?.[_0xdf1a0a(0x600)]??0x0)['sort']({'when':0x1})[_0xdf1a0a(0x6b2)]();}catch{return[];}}async[a0_0x5a7632(0x48e)](_0x1d02eb,_0x20a8c6){const _0x59d093=a0_0x5a7632;try{return await this[_0x59d093(0x704)](_0x20a8c6)[_0x59d093(0x48e)](_0x1d02eb[_0x59d093(0x701)])[_0x59d093(0x155)]({'when':0x1})[_0x59d093(0x6b2)]();}catch{return null;}}async[a0_0x5a7632(0x12e)](_0x2acf47,_0x58b39a){const _0x4ec814=a0_0x5a7632;try{return await this[_0x4ec814(0x704)](_0x58b39a)[_0x4ec814(0x12e)](_0x2acf47)[_0x4ec814(0x6b2)]();}catch{return null;}}async[a0_0x5a7632(0x5b4)](_0x438711,_0x5340ed){const _0x3e4f2e=a0_0x5a7632;try{return{'deletedCount':(await this[_0x3e4f2e(0x704)](_0x5340ed)[_0x3e4f2e(0x5b4)](_0x438711))[_0x3e4f2e(0x1bb)]};}catch(_0x4d6f42){return console['error'](_0x3e4f2e(0x575),_0x4d6f42),{'error':_0x4d6f42};}}async[a0_0x5a7632(0x68c)](_0x4fd882){const _0x1b154b=a0_0x5a7632;try{return await this[_0x1b154b(0x704)](_0x4fd882)[_0x1b154b(0x620)][_0x1b154b(0x5a3)](),{'success':!0x0};}catch(_0x1022be){return console[_0x1b154b(0x7aa)](_0x1022be),{'success':!0x1,'error':_0x1022be};}}},ss=class extends D{async[a0_0x5a7632(0x703)](_0x2e66c8,_0x43dc6b){const _0xec614b=a0_0x5a7632;try{if(this[_0xec614b(0x474)]['ENABLED']){let _0x349736=await Fe[_0xec614b(0x3a0)]({'_id':_0x43dc6b},{'$set':_0x2e66c8},{'new':!0x0});return console[_0xec614b(0x1c8)](_0xec614b(0x79b),_0x349736),_0x349736;}}catch(_0x174883){throw console['error'](_0xec614b(0x1ae),_0x174883),_0x174883;}}async['findOrCreate'](_0x32ecb4){const _0x3e0a18=a0_0x5a7632;try{let _0x1eeea3=await Fe[_0x3e0a18(0x12e)](_0x32ecb4);return _0x1eeea3||(_0x1eeea3=new Fe({'_id':_0x32ecb4}),await _0x1eeea3[_0x3e0a18(0x3ad)]()),_0x1eeea3;}catch(_0x36db2c){return console[_0x3e0a18(0x7aa)](_0x3e0a18(0x29f),_0x36db2c),null;}}},Ti=new v('WA\x20MODULE'),Oi=new Je(b),Ai=new Ut(b),Ii=new tt(b),xi=new qt(Zs,b),Di=new Yt(oa,b),_i=new Xt(aa,b),Pi=new Zt(b),$i=new Jt(b),ki=new es(b),Li=new ts(b),ji=new ss(b),ue=new Ue(Oi,Ai,Ii,xi,Di,_i,Pi,ki,$i,Li,ji,T?.['getClient']()),B=new Ft(cs,b,ue),Fi=new Wt(b,B,ue),Ui=new Ht(B),Cs=new Qt(Ui),x=new Kt(B),oe=new Bt(B,b,ue,cs,Fi),G=new Gt(B),_=new Vt(B),j=new zt(B);Ti[a0_0x5a7632(0x293)](a0_0x5a7632(0x5e8));var _h=require(a0_0x5a7632(0x559)),$s=require('fs'),Dr=O(require(a0_0x5a7632(0x6ac))),_r=O(require('http')),Oe=class c{static #e;static set['app'](_0x1506b7){this.#e=_0x1506b7;}static get[a0_0x5a7632(0x6ac)](){const _0xd208ab=a0_0x5a7632;let {FULLCHAIN:_0x384ba0,PRIVKEY:_0x26628b}=b['get']('SSL_CONF');return Dr[_0xd208ab(0x1fe)]({'cert':(0x0,$s[_0xd208ab(0x558)])(_0x384ba0),'key':(0x0,$s['readFileSync'])(_0x26628b)},c.#e);}static get[a0_0x5a7632(0x54f)](){const _0x497a4d=a0_0x5a7632;return _r[_0x497a4d(0x1fe)](c.#e);}},pe=O(require('fs')),Fr=O(require(a0_0x5a7632(0x115))),Ae=O(require(a0_0x5a7632(0x302))),xe=O(require(a0_0x5a7632(0x686))),De=require('child_process');function qi(){const _0x4239e2=a0_0x5a7632;B[_0x4239e2(0x616)]();let _0x11c07f=xe[_0x4239e2(0x1c5)][_0x4239e2(0x41a)](__dirname,_0x4239e2(0x4f5));jr(_0x11c07f);}var jr=_0x212f32=>{const _0x4d051e=a0_0x5a7632;let _0x39e60d=pe['default'][_0x4d051e(0x44b)](_0x212f32),_0x14c1f2=0xc*0x3c*0x3c*0x3e8,_0x4ebab3=0x2*0x3c*0x3c*0x3e8,_0x19c217=new Date()[_0x4d051e(0x738)]();_0x39e60d[_0x4d051e(0x16d)](_0x10fb67=>{const _0x3f2b66=_0x4d051e;let _0x1fdacd=xe[_0x3f2b66(0x1c5)][_0x3f2b66(0x41a)](_0x212f32,_0x10fb67),_0x27b04a=pe[_0x3f2b66(0x1c5)][_0x3f2b66(0x537)](_0x1fdacd)[_0x3f2b66(0x777)][_0x3f2b66(0x738)]();_0x19c217-_0x27b04a>_0x14c1f2&&(pe['default']['unlinkSync'](_0x1fdacd),console['log'](_0x3f2b66(0x3af)+_0x10fb67));}),setTimeout(()=>jr(_0x212f32),_0x4ebab3);};function Ji(){const _0x443ddf=a0_0x5a7632;let _0xba3723=new v(_0x443ddf(0xfb)),_0x1f63da=(0x0,he['default'])();_0x1f63da['use']((0x0,Lr[_0x443ddf(0x1c5)])({'origin'(_0x1c73f8,_0x2bd8d4){const _0x44727c=_0x443ddf;let {ORIGIN:_0x5c21fa}=b[_0x44727c(0x711)](_0x44727c(0x484));return _0x1c73f8||(_0x1c73f8='*'),_0x5c21fa['indexOf']('*')!==-0x1||_0x5c21fa['indexOf'](_0x1c73f8)!==-0x1?_0x2bd8d4(null,!0x0):_0x2bd8d4(new Error(_0x44727c(0x4fc)));},'methods':[...b[_0x443ddf(0x711)](_0x443ddf(0x484))[_0x443ddf(0x350)]],'credentials':b[_0x443ddf(0x711)]('CORS')['CREDENTIALS']}),(0x0,he[_0x443ddf(0x2b4)])({'extended':!0x0,'limit':_0x443ddf(0x5a6)}),(0x0,he[_0x443ddf(0x598)])({'limit':_0x443ddf(0x5a6)})),_0x1f63da['use']((_0x23a8ff,_0x5942bf,_0x3a4184)=>{const _0x203cd4=_0x443ddf;_0x23a8ff[_0x203cd4(0x686)][_0x203cd4(0x347)](_0x203cd4(0x3c5))?_0x3a4184():(0x0,kr[_0x203cd4(0x1c5)])()(_0x23a8ff,_0x5942bf,_0x3a4184);}),_0x1f63da[_0x443ddf(0x4a8)](_0x443ddf(0x5f0),_0x443ddf(0x60b)),_0x1f63da['set'](_0x443ddf(0x25f),(0x0,Ls[_0x443ddf(0x41a)])(ie,_0x443ddf(0x25f))),_0x1f63da[_0x443ddf(0x28c)](he[_0x443ddf(0x1c5)]['static']((0x0,Ls[_0x443ddf(0x41a)])(ie,_0x443ddf(0x54a)))),_0x1f63da['use']((_0x11890a,_0x2db592,_0x485470)=>{const _0x1eee57=_0x443ddf;let _0xd5cbb2=_0x2db592[_0x1eee57(0x5fa)];_0x2db592[_0x1eee57(0x5fa)]=function(_0xac3ac8){const _0x503921=_0x1eee57;if(_0x11890a[_0x503921(0x5ee)]['convert']===_0x503921(0x295)||_0x11890a['headers'][_0x503921(0x21f)]===_0x503921(0x295)){let _0x122af4=JSON['parse'](_0xac3ac8);_0xac3ac8=JSON[_0x503921(0x68d)](_0x3f3d73(_0x122af4));}return _0xd5cbb2[_0x503921(0x377)](_0x2db592,[_0xac3ac8]);},_0x485470();}),_0x1f63da[_0x443ddf(0x28c)]('/',At),_0x1f63da[_0x443ddf(0x28c)]((_0xc7748b,_0x519416,_0x4725d2,_0x4226b5)=>{const _0x2bbaec=_0x443ddf;if(_0xc7748b)return _0x4725d2[_0x2bbaec(0x5cd)](_0xc7748b['status']||0x1f4)[_0x2bbaec(0x598)](_0xc7748b);},(_0x4f005d,_0x49e335,_0x8243f9)=>{const _0x42ece9=_0x443ddf;let {method:_0x3a8c3d,url:_0xf7847a}=_0x4f005d;_0x49e335['status'](0x194)['json']({'status':0x194,'message':_0x42ece9(0x39a)+_0x3a8c3d[_0x42ece9(0x56a)]()+'\x20'+_0xf7847a,'error':_0x42ece9(0x42b)}),_0x8243f9();});let _0x3f3d73=(_0x342467,_0x430e9a=_0x443ddf(0x18a))=>{const _0x204f4a=_0x443ddf;let _0xd76699=(_0x32bc6b,_0x225b66=null,_0x33392e=!0x1)=>{const _0x34e756=a0_0xc371;let _0x27bacf={};return Object[_0x34e756(0x769)](_0x32bc6b)[_0x34e756(0x16d)](_0x11e464=>{const _0x153c49=_0x34e756;let _0x4529e1=_0x32bc6b[_0x11e464],_0x34dc00=''+_0x430e9a+_0x11e464;_0x225b66&&!_0x33392e&&(_0x34dc00=_0x225b66+'.'+_0x11e464),!_0x4529e1&&_0x4529e1!==0x0&&_0x4529e1!==!0x1||typeof _0x4529e1>'u'?_0x27bacf[_0x34dc00]=null:typeof _0x4529e1!=_0x153c49(0x504)&&!Array[_0x153c49(0x5df)](_0x4529e1)?_0x27bacf[_0x34dc00]=_0x4529e1:typeof _0x4529e1==_0x153c49(0x504)&&!Array[_0x153c49(0x5df)](_0x4529e1)?_0x27bacf=Object['assign'](_0x27bacf,_0xd76699(_0x4529e1,_0x34dc00)):Array[_0x153c49(0x5df)](_0x4529e1)&&(typeof _0x4529e1[0x0]==_0x153c49(0x504)?(_0x27bacf[_0x34dc00]=[],_0x4529e1[_0x153c49(0x16d)](_0xdeb004=>{const _0x13e829=_0x153c49;_0x27bacf[_0x34dc00][_0x13e829(0x208)](_0xd76699(_0xdeb004,_0x34dc00,!0x0));})):_0x27bacf[_0x34dc00]=_0x4529e1);}),_0x27bacf;};return Array[_0x204f4a(0x5df)](_0x342467)?_0x342467[_0x204f4a(0x2ca)](_0x254a60=>_0xd76699(_0x254a60)):typeof _0x342467==_0x204f4a(0x504)&&_0x342467!==null?_0xd76699(_0x342467):{};},_0x3cd655=b['get']('SERVER');Oe[_0x443ddf(0x602)]=_0x1f63da;let _0x42761f=Oe[_0x3cd655[_0x443ddf(0x3bf)]],_0x4dba7f=_0x443ddf(0x2f3);_0x42761f[_0x443ddf(0x590)](_0x3cd655[_0x443ddf(0x1e4)],()=>{const _0x26a8c8=_0x443ddf;_0xba3723[_0x26a8c8(0x1c8)](_0x4dba7f),_0xba3723[_0x26a8c8(0x1c8)](_0x3cd655[_0x26a8c8(0x3bf)][_0x26a8c8(0x56a)]()+_0x26a8c8(0x271)+_0x3cd655[_0x26a8c8(0x1e4)]);}),qi(),zs();}var Vi='https://github.com/uazapi/uazapi.git',Bi=xe[a0_0x5a7632(0x1c5)][a0_0x5a7632(0x41a)](__dirname,a0_0x5a7632(0x628)),Ie=null;function Gi(){return new Promise((_0x481829,_0x2623b1)=>{const _0x1f8c3c=a0_0xc371;pe[_0x1f8c3c(0x1c5)][_0x1f8c3c(0x529)](Bi,_0x1f8c3c(0x273),(_0x2361ec,_0x5e2d92)=>{const _0x1ca07e=_0x1f8c3c;if(_0x2361ec){Ie=_0x2361ec,_0x481829();return;}Fr[_0x1ca07e(0x1c5)][_0x1ca07e(0x1bd)](_0x5e2d92)[_0x1ca07e(0x3e8)][_0x1ca07e(0x67c)]===Vi?(Ie=null,_0x481829()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x481829());});});}async function Wi(){const _0x11dfdb=a0_0x5a7632;try{await Gi(),await js();}catch(_0x397e96){console['error'](_0x11dfdb(0x6fe)+_0x397e96),process[_0x11dfdb(0x730)](0x1);}}Wi();async function Ur(){const _0x42e0e2=a0_0x5a7632;let _0x10767b;try{_0x10767b=(await Ae[_0x42e0e2(0x1c5)][_0x42e0e2(0x711)](_0x42e0e2(0x53d)))[_0x42e0e2(0x18c)]['ip'];}catch(_0x2c7ead){console[_0x42e0e2(0x7aa)](_0x2c7ead);try{_0x10767b=(await Ae[_0x42e0e2(0x1c5)][_0x42e0e2(0x711)](_0x42e0e2(0x34e)))['data']['ip'];}catch(_0x1c0532){console['error'](_0x1c0532);try{_0x10767b=(await Ae[_0x42e0e2(0x1c5)][_0x42e0e2(0x711)]('http://checkip.dyndns.org'))[_0x42e0e2(0x18c)][_0x42e0e2(0x408)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2373d8){return console[_0x42e0e2(0x7aa)](_0x2373d8),!0x1;}}}return _0x10767b;}var Pr=0x0;async function zi(){const _0x39f8ea=a0_0x5a7632;let _0x351329=await new ne(b[_0x39f8ea(0x711)]('REDIS'))['instanceKeys']();return console[_0x39f8ea(0x1c8)](_0x39f8ea(0x226),_0x351329[_0x39f8ea(0x4e4)]),_0x351329[_0x39f8ea(0x4e4)];}function a0_0xc371(_0x555efa,_0x124dce){const _0x5a173f=a0_0x5a17();return a0_0xc371=function(_0xc37112,_0x99dba2){_0xc37112=_0xc37112-0xe9;let _0x5c6bee=_0x5a173f[_0xc37112];return _0x5c6bee;},a0_0xc371(_0x555efa,_0x124dce);}function Hi(_0x1f5f93){const _0x9d330a=a0_0x5a7632;let _0x31d224=_0x1f5f93[_0x9d330a(0x711)]('SERVER')[_0x9d330a(0x5da)],_0x566c8b=_0x1f5f93['get'](_0x9d330a(0x512)),_0x14f9db;if(_0x31d224){let _0x3ec7d6=_0x31d224[_0x9d330a(0x408)](/\/\/(.*?)\./);_0x3ec7d6&&_0x3ec7d6[0x1]&&(_0x14f9db=_0x3ec7d6[0x1]);}if(!_0x14f9db&&_0x566c8b&&_0x566c8b[_0x9d330a(0x618)]){let _0x3a611f=_0x566c8b['FULLCHAIN'][_0x9d330a(0x323)]('/'),_0x367302=_0x3a611f[_0x3a611f[_0x9d330a(0x4e4)]-0x2];if(_0x367302){let _0x1b8590=_0x367302['split']('.');_0x1b8590[_0x9d330a(0x4e4)]>0x2&&(_0x14f9db=_0x1b8590[0x0]);}}return _0x14f9db;}var Ds=Hi(b);async function Ki(){const _0x3f1b86=a0_0x5a7632;let _0x16ecab=b[_0x3f1b86(0x711)](_0x3f1b86(0x2f5)),_0x2bc0bf=b['get']('AUTHENTICATION')['API_KEY'][_0x3f1b86(0x2be)],_0x10a2e5=b[_0x3f1b86(0x711)](_0x3f1b86(0x512)),_0x1603c5=await Ur(),_0x37d52f=b[_0x3f1b86(0x711)](_0x3f1b86(0xfb))[_0x3f1b86(0x1e4)],_0x323292=b['get'](_0x3f1b86(0xfb))['URL'];try{let _0x365bd8={'ip':_0x1603c5||null,'redis_enable':_0x16ecab?.[_0x3f1b86(0x446)]||null,'apikey':_0x2bc0bf||null,'ssl':_0x10a2e5?.[_0x3f1b86(0x2cb)]||null,'lastupdate':qr||null,'port':_0x37d52f||null,'gitInstallError':Ie?.[_0x3f1b86(0x6f6)]||null,'url':_0x323292||null};if(console['log'](_0x3f1b86(0x4f4),_0x365bd8['ip']),_0x16ecab&&_0x16ecab[_0x3f1b86(0x446)]){let _0x73bf77=await zi();_0x365bd8[_0x3f1b86(0x514)]=_0x73bf77||null;}for(let _0x520dea in _0x365bd8)_0x365bd8['hasOwnProperty'](_0x520dea)&&_0x520dea!=='ip'&&(_0x365bd8[_0x520dea]=JSON[_0x3f1b86(0x68d)](_0x365bd8[_0x520dea]));return(await Ae['default'][_0x3f1b86(0x181)](_0x3f1b86(0x5d7),_0x365bd8))[_0x3f1b86(0x18c)];}catch(_0x4d2c6b){return console[_0x3f1b86(0x7aa)](_0x4d2c6b),!0x1;}}var ks=!0x1,qr=0x231,Qi=0x3,$r=0x1b7740;async function js(){const _0x3dc014=a0_0x5a7632;if(!await Ur())return console[_0x3dc014(0x7aa)](_0x3dc014(0x540)),'NO_IP';let _0xeafe5=await Ki();if(_0xeafe5){if(_0xeafe5[_0x3dc014(0x1f8)][_0x3dc014(0x1e5)]===!0x0){let _0x57119e=b[_0x3dc014(0x711)](_0x3dc014(0x512)),_0x49e0ec=b[_0x3dc014(0x711)]('SERVER')[_0x3dc014(0x5da)];_0x57119e&&_0x57119e?.['PRIVKEY']?.[_0x3dc014(0x3b6)](_0x3dc014(0x758))&&_0xeafe5[_0x3dc014(0x1f8)]['subdomain']&&!_0x49e0ec&&(await Zi(_0xeafe5[_0x3dc014(0x1f8)][_0x3dc014(0x43c)],Xi),await eo(_0x3dc014(0x1c7),_0xeafe5[_0x3dc014(0x1f8)][_0x3dc014(0x43c)]),console[_0x3dc014(0x1c8)](_0x3dc014(0x409)),setTimeout(()=>so(),0x2710)),Ie===null&&_0xeafe5[_0x3dc014(0x1f8)][_0x3dc014(0x4ae)]-qr>0x0&&await Yi(),ks||(ks=!0x0,Ji());let _0x447e28=0x24*0x3c*0x3c,_0x337554=_0xeafe5[_0x3dc014(0x1f8)]['segundos']>_0x447e28?_0x447e28:_0xeafe5[_0x3dc014(0x1f8)]['segundos'],_0x96aa4c=Number(_0x337554);if(isNaN(_0x96aa4c)){console[_0x3dc014(0x7aa)](_0x3dc014(0x1aa));return;}let _0x34d76c=Math['floor'](_0x96aa4c/0xe10),_0x2f4e31=Math[_0x3dc014(0x78e)](_0x96aa4c%0xe10/0x3c),_0x1a5a52=new Date(Date[_0x3dc014(0x73d)]()+_0x96aa4c*0x3e8);setTimeout(js,_0x96aa4c*0x3e8);let _0x52dd6e=_0x3f3ed8=>_0x3f3ed8[_0x3dc014(0x1ce)]()['padStart'](0x2,'0'),_0x57796e=_0x3dc014(0x573)+_0x52dd6e(_0x34d76c)+_0x3dc014(0x666)+_0x52dd6e(_0x2f4e31)+_0x3dc014(0x189)+_0x52dd6e(_0x1a5a52['getHours']())+':'+_0x52dd6e(_0x1a5a52[_0x3dc014(0x6a4)]())+'.';console[_0x3dc014(0x1c8)](_0x57796e);}else return console[_0x3dc014(0x1c8)](_0x3dc014(0x1bc)),ks&&(console[_0x3dc014(0x1c8)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x3dc014(0x730)]()),_0x3dc014(0x1eb);}else{if(Pr++,Pr<Qi)console[_0x3dc014(0x1c8)](_0x3dc014(0x5d5)+$r/0xea60+_0x3dc014(0x5a0)),setTimeout(js,$r);else return console['error'](_0x3dc014(0x732)),_0x3dc014(0x3e6);}}async function Yi(){const _0x2ebc69=a0_0x5a7632;console[_0x2ebc69(0x1c8)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x39b74c=(0x0,De[_0x2ebc69(0x2ce)])(_0x2ebc69(0x574),{'shell':!0x0});_0x39b74c[_0x2ebc69(0x6d2)]['on'](_0x2ebc69(0x18c),_0x4c908b=>{const _0x505515=_0x2ebc69;console[_0x505515(0x1c8)](_0x505515(0x5c2)+_0x4c908b);}),_0x39b74c[_0x2ebc69(0x5aa)]['on']('data',_0x4e8717=>{const _0x500bf2=_0x2ebc69;console[_0x500bf2(0x7aa)](_0x500bf2(0x1a6)+_0x4e8717);}),_0x39b74c['on']('exit',_0xdb71ed=>{const _0x36d205=_0x2ebc69;_0xdb71ed!==0x0?console[_0x36d205(0x7aa)](_0x36d205(0x629)+_0xdb71ed):console[_0x36d205(0x1c8)](_0x36d205(0x49b)),console[_0x36d205(0x1c8)](_0x36d205(0x143)),setTimeout(()=>process[_0x36d205(0x730)](),0x2710);});}var Xi=xe[a0_0x5a7632(0x1c5)]['join'](__dirname,a0_0x5a7632(0x344));async function Zi(_0x2f0093,_0x2fb565){const _0x580c01=a0_0x5a7632;let _0x1567cb=to();_0x2f0093=_0x2f0093[_0x580c01(0x23d)](_0x580c01(0x6e7),'');try{let _0x4ba47a=pe[_0x580c01(0x1c5)][_0x580c01(0x558)](_0x2fb565,_0x580c01(0x284));_0x4ba47a=_0x4ba47a[_0x580c01(0x23d)](/<apikey>/,_0x1567cb),_0x4ba47a=_0x4ba47a[_0x580c01(0x23d)](/<subdomain>/g,_0x2f0093),pe[_0x580c01(0x1c5)]['writeFileSync'](_0x2fb565,_0x4ba47a,_0x580c01(0x284)),console[_0x580c01(0x1c8)](_0x580c01(0x719));}catch(_0x29c860){console[_0x580c01(0x7aa)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x29c860);}}function eo(_0x3ca611,_0x4820f1){return new Promise((_0x310a4d,_0x38136f)=>{const _0x14ae88=a0_0xc371;let _0x39b289=(0x0,De[_0x14ae88(0x2ce)])(_0x14ae88(0x796),['certonly',_0x14ae88(0x776),'-m',_0x3ca611,_0x14ae88(0xfe),'-d',_0x4820f1]);_0x39b289[_0x14ae88(0x6d2)]['on'](_0x14ae88(0x18c),_0x4309f2=>{const _0x109f8a=_0x14ae88;console['log'](_0x109f8a(0x62d)+_0x4309f2[_0x109f8a(0x1ce)]());}),_0x39b289[_0x14ae88(0x5aa)]['on'](_0x14ae88(0x18c),_0x6c6b22=>{const _0x11c2d4=_0x14ae88;console[_0x11c2d4(0x7aa)]('Erro\x20do\x20Certbot:\x20'+_0x6c6b22['toString']());}),_0x39b289['on'](_0x14ae88(0x4fb),_0x35d5a6=>{const _0xf3c7e8=_0x14ae88;_0x35d5a6!==0x0?(console['error'](_0xf3c7e8(0x450)+_0x35d5a6),_0x38136f(_0xf3c7e8(0x450)+_0x35d5a6)):(console[_0xf3c7e8(0x1c8)](_0xf3c7e8(0x37b)),_0x310a4d());});});}function to(_0x58d65f=0x32){const _0x5abc69=a0_0x5a7632;let _0x185826=_0x5abc69(0x236),_0x450ead='';for(let _0xc9983b=0x0;_0xc9983b<_0x58d65f;_0xc9983b++)_0x450ead+=_0x185826[_0x5abc69(0x42f)](Math[_0x5abc69(0x78e)](Math[_0x5abc69(0x171)]()*_0x185826[_0x5abc69(0x4e4)]));return _0x450ead;}function so(){const _0x22e72d=a0_0x5a7632;(0x0,De[_0x22e72d(0x596)])(_0x22e72d(0x442),(_0x54b1c5,_0x2dd5bf,_0x39762b)=>{const _0x4bb3c0=_0x22e72d;if(_0x54b1c5){console[_0x4bb3c0(0x7aa)](_0x4bb3c0(0x568)+_0x54b1c5);return;}if(_0x39762b){console['error'](_0x4bb3c0(0x5ac)+_0x39762b);return;}console['log'](_0x4bb3c0(0x358)+_0x2dd5bf);});}0x0&&(module['exports']={'subdomain':subdomain});