const a0_0x32cdd8=a0_0x282e;(function(_0x5952c1,_0x2502ea){const _0x59cfab=a0_0x282e,_0xbd2bf4=_0x5952c1();while(!![]){try{const _0x4fc9be=parseInt(_0x59cfab(0x692))/0x1*(-parseInt(_0x59cfab(0x1c9))/0x2)+parseInt(_0x59cfab(0x624))/0x3+-parseInt(_0x59cfab(0x25d))/0x4+-parseInt(_0x59cfab(0x51d))/0x5+parseInt(_0x59cfab(0x517))/0x6*(parseInt(_0x59cfab(0x3b3))/0x7)+-parseInt(_0x59cfab(0x39a))/0x8+parseInt(_0x59cfab(0xf3))/0x9*(parseInt(_0x59cfab(0xc7))/0xa);if(_0x4fc9be===_0x2502ea)break;else _0xbd2bf4['push'](_0xbd2bf4['shift']());}catch(_0x44336e){_0xbd2bf4['push'](_0xbd2bf4['shift']());}}}(a0_0x1f98,0x3caee));var Uo=Object[a0_0x32cdd8(0x2c3)],Bs=Object['defineProperty'],Vo=Object['getOwnPropertyDescriptor'],jo=Object[a0_0x32cdd8(0x5bf)],Bo=Object[a0_0x32cdd8(0x589)],Fo=Object['prototype'][a0_0x32cdd8(0x283)],Go=(_0x2c84aa,_0x117328,_0x37867a,_0x1a78d0)=>{const _0x46c26b=a0_0x32cdd8;if(_0x117328&&typeof _0x117328=='object'||typeof _0x117328=='function'){for(let _0x5e8eb3 of jo(_0x117328))!Fo[_0x46c26b(0x534)](_0x2c84aa,_0x5e8eb3)&&_0x5e8eb3!==_0x37867a&&Bs(_0x2c84aa,_0x5e8eb3,{'get':()=>_0x117328[_0x5e8eb3],'enumerable':!(_0x1a78d0=Vo(_0x117328,_0x5e8eb3))||_0x1a78d0[_0x46c26b(0x32a)]});}return _0x2c84aa;},T=(_0x2f0b80,_0x2eb4e6,_0x47044e)=>(_0x47044e=_0x2f0b80!=null?Uo(Bo(_0x2f0b80)):{},Go(_0x2eb4e6||!_0x2f0b80||!_0x2f0b80['__esModule']?Bs(_0x47044e,a0_0x32cdd8(0x3eb),{'value':_0x2f0b80,'enumerable':!0x0}):_0x47044e,_0x2f0b80)),Do=T(require('compression')),Gs=require('fs'),Js=require(a0_0x32cdd8(0x4b1)),qs=require(a0_0x32cdd8(0x2f4)),Ue=require(a0_0x32cdd8(0x2f4)),Y=process[a0_0x32cdd8(0x45f)](),j=(0x0,Ue[a0_0x32cdd8(0x2d3)])(Y,a0_0x32cdd8(0x57f)),Fs=(0x0,Ue[a0_0x32cdd8(0x2d3)])(Y,a0_0x32cdd8(0x370)),es=(0x0,Ue[a0_0x32cdd8(0x2d3)])(Y,a0_0x32cdd8(0x632),'auth'),Ws=require(a0_0x32cdd8(0x4d5)),ts=class{constructor(){this['loadEnv']();}[a0_0x32cdd8(0x43a)](_0x18287c){const _0x40d8ae=a0_0x32cdd8;return this[_0x40d8ae(0x1ce)][_0x18287c];}[a0_0x32cdd8(0x57a)](){const _0x7f701=a0_0x32cdd8;this[_0x7f701(0x1ce)]=process['env']?.[_0x7f701(0x62a)]!==_0x7f701(0x1b4)?this[_0x7f701(0x195)]():this[_0x7f701(0x4b4)](),this[_0x7f701(0x1ce)][_0x7f701(0x284)]=process[_0x7f701(0x1ce)]?.[_0x7f701(0x587)]===_0x7f701(0x3b9),process[_0x7f701(0x1ce)]?.['DOCKER_ENV']==='true'&&(this[_0x7f701(0x1ce)][_0x7f701(0x387)][_0x7f701(0x611)]=_0x7f701(0x571),this[_0x7f701(0x1ce)][_0x7f701(0x387)][_0x7f701(0x20a)]=Number[_0x7f701(0x28e)](process[_0x7f701(0x1ce)]?.['SERVER_PORT']??_0x7f701(0x595)));}[a0_0x32cdd8(0x195)](){const _0x1ff442=a0_0x32cdd8;return(0x0,Js[_0x1ff442(0x130)])((0x0,Gs[_0x1ff442(0x1ad)])((0x0,qs['join'])(Fs,'../env.yml'),{'encoding':_0x1ff442(0x651)}));}['envProcess'](){const _0x58fcaf=a0_0x32cdd8;return{'SERVER':{'TYPE':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x24b)],'PORT':Number[_0x58fcaf(0x28e)](process[_0x58fcaf(0x1ce)]['SERVER_PORT'])},'CORS':{'ORIGIN':process['env'][_0x58fcaf(0x35c)][_0x58fcaf(0x5af)](','),'METHODS':process['env'][_0x58fcaf(0x510)][_0x58fcaf(0x5af)](','),'CREDENTIALS':process['env']?.[_0x58fcaf(0x5b5)]===_0x58fcaf(0x1b4)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x58fcaf(0x69f)],'FULLCHAIN':process[_0x58fcaf(0x1ce)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x58fcaf(0x152)](process['env']?.[_0x58fcaf(0x320)])?Number[_0x58fcaf(0x28e)](process[_0x58fcaf(0x1ce)][_0x58fcaf(0x320)]):void 0x0,'MESSAGES':process['env']?.[_0x58fcaf(0x503)]==='true','CONTACTS':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x1e7)]===_0x58fcaf(0x1b4),'CHATS':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x3de)]===_0x58fcaf(0x1b4)},'DATABASE':{'CONNECTION':{'HOST':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x580)],'PORT':Number[_0x58fcaf(0x28e)](process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x580)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x5ea)],'URI':process[_0x58fcaf(0x1ce)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x58fcaf(0x61e)]},'ENABLED':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x33f)]===_0x58fcaf(0x1b4)},'REDIS':{'ENABLED':process['env']?.[_0x58fcaf(0x199)]==='true','URI':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x4a1)],'PREFIX_KEY':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x400)]},'LOG':{'LEVEL':process['env']?.[_0x58fcaf(0x648)][_0x58fcaf(0x5af)](','),'COLOR':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x572)]===_0x58fcaf(0x1b4)},'DEL_INSTANCE':(0x0,Ws[_0x58fcaf(0x1ef)])(process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x59b)])?process['env'][_0x58fcaf(0x59b)]===_0x58fcaf(0x1b4):Number['parseInt'](process[_0x58fcaf(0x1ce)][_0x58fcaf(0x59b)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x297)]?process['env'][_0x58fcaf(0x297)]==='true':!0x1,'GLOBAL':{'URL':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x3be)],'ENABLED':process[_0x58fcaf(0x1ce)]?.['WEBHOOK_GLOBAL_ENABLED']===_0x58fcaf(0x1b4)},'EVENTS':{'STATUS_INSTANCE':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x42e)]===_0x58fcaf(0x1b4),'QRCODE_UPDATED':process['env']?.[_0x58fcaf(0x66d)]===_0x58fcaf(0x1b4),'MESSAGES_SET':process['env']?.[_0x58fcaf(0x2d1)]==='true','MESSAGES_UPSERT':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x524)]===_0x58fcaf(0x1b4),'MESSAGES_UPDATE':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x23a)]===_0x58fcaf(0x1b4),'SEND_MESSAGE':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x14d)]===_0x58fcaf(0x1b4),'CONTACTS_SET':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x5a6)]===_0x58fcaf(0x1b4),'CONTACTS_UPDATE':process['env']?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x58fcaf(0x1b4),'CONTACTS_UPSERT':process['env']?.[_0x58fcaf(0x59c)]===_0x58fcaf(0x1b4),'PRESENCE_UPDATE':process[_0x58fcaf(0x1ce)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x58fcaf(0x1b4),'CHATS_SET':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x2d8)]==='true','CHATS_UPDATE':process[_0x58fcaf(0x1ce)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x58fcaf(0x1b4),'CHATS_UPSERT':process['env']?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x58fcaf(0x1b4),'CHATS_DELETE':process['env']?.['WEBHOOK_EVENTS_CHATS_DELETE']==='true','CONNECTION_UPDATE':process['env']?.[_0x58fcaf(0x479)]===_0x58fcaf(0x1b4),'GROUPS_UPSERT':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x32f)]==='true','GROUP_UPDATE':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x3b8)]===_0x58fcaf(0x1b4),'GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x58fcaf(0x206)]===_0x58fcaf(0x1b4),'NEW_JWT_TOKEN':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x3b2)]==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x58fcaf(0x1ce)]?.[_0x58fcaf(0x5aa)]||_0x58fcaf(0x5b8),'NAME':process['env']?.[_0x58fcaf(0x672)]||_0x58fcaf(0x34e)},'QRCODE':{'LIMIT':Number[_0x58fcaf(0x28e)](process[_0x58fcaf(0x1ce)][_0x58fcaf(0x360)])||0x5},'TRIAL_AD':process[_0x58fcaf(0x1ce)]?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process['env']?.[_0x58fcaf(0x618)],'AUTOUPDATE':process['env']?.[_0x58fcaf(0x4f0)]==='true','PHONE':process[_0x58fcaf(0x1ce)]?.['PHONE'],'AUTHENTICATION':{'TYPE':process[_0x58fcaf(0x1ce)][_0x58fcaf(0x392)],'API_KEY':{'KEY':process[_0x58fcaf(0x1ce)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x58fcaf(0x1ce)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x58fcaf(0x28e)](process[_0x58fcaf(0x1ce)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x58fcaf(0x1af)]}}};}},y=new ts(),Po=T(require(a0_0x32cdd8(0x5e5))),me=T(require(a0_0x32cdd8(0x27d))),ks=require(a0_0x32cdd8(0x2f4)),ss=T(require(a0_0x32cdd8(0x643))),as=(_0x410fde=>(_0x410fde[a0_0x32cdd8(0x54d)]='\x1b[32m',_0x410fde['INFO']=a0_0x32cdd8(0x3b5),_0x410fde[a0_0x32cdd8(0x647)]=a0_0x32cdd8(0x2dd),_0x410fde['ERROR']=a0_0x32cdd8(0x533),_0x410fde[a0_0x32cdd8(0x5f4)]='\x1b[36m',_0x410fde['VERBOSE']=a0_0x32cdd8(0x3f3),_0x410fde[a0_0x32cdd8(0x1f7)]=a0_0x32cdd8(0x1a3),_0x410fde))(as||{}),Hs=(_0x3e726e=>(_0x3e726e[a0_0x32cdd8(0x54d)]='\x1b[32m%s\x1b[0m',_0x3e726e[a0_0x32cdd8(0x1f7)]=a0_0x32cdd8(0x433),_0x3e726e['INFO']=a0_0x32cdd8(0x1d7),_0x3e726e[a0_0x32cdd8(0x647)]='\x1b[33m%s\x1b[0m',_0x3e726e[a0_0x32cdd8(0x4ee)]=a0_0x32cdd8(0x564),_0x3e726e[a0_0x32cdd8(0x5f4)]=a0_0x32cdd8(0x21b),_0x3e726e['VERBOSE']=a0_0x32cdd8(0x40c),_0x3e726e))(Hs||{}),Ks=(_0x9efd0a=>(_0x9efd0a[a0_0x32cdd8(0x54d)]=a0_0x32cdd8(0x54d),_0x9efd0a[a0_0x32cdd8(0x647)]=a0_0x32cdd8(0x647),_0x9efd0a[a0_0x32cdd8(0x4c8)]=a0_0x32cdd8(0x4c8),_0x9efd0a[a0_0x32cdd8(0x1f7)]='DARK',_0x9efd0a[a0_0x32cdd8(0x4ee)]=a0_0x32cdd8(0x4ee),_0x9efd0a['DEBUG']=a0_0x32cdd8(0x5f4),_0x9efd0a[a0_0x32cdd8(0x218)]=a0_0x32cdd8(0x218),_0x9efd0a))(Ks||{}),zs=(_0x1b058b=>(_0x1b058b[a0_0x32cdd8(0x54d)]='\x1b[42m',_0x1b058b['INFO']='\x1b[44m',_0x1b058b[a0_0x32cdd8(0x647)]=a0_0x32cdd8(0x67d),_0x1b058b[a0_0x32cdd8(0x1f7)]=a0_0x32cdd8(0x627),_0x1b058b[a0_0x32cdd8(0x4ee)]='\x1b[41m',_0x1b058b['DEBUG']='\x1b[46m',_0x1b058b[a0_0x32cdd8(0x218)]=a0_0x32cdd8(0x666),_0x1b058b))(zs||{}),C=class{constructor(_0x264179=a0_0x32cdd8(0x1c0)){const _0x30c05e=a0_0x32cdd8;this['context']=_0x264179,this[_0x30c05e(0x3d0)]=y;}['setContext'](_0x13173a){const _0x596128=a0_0x32cdd8;this[_0x596128(0x37b)]=_0x13173a;}[a0_0x32cdd8(0x25b)](_0xba09df,_0x1f1d52){const _0x49acaf=a0_0x32cdd8;let _0x47d53c=[];this[_0x49acaf(0x3d0)][_0x49acaf(0x43a)]('LOG')[_0x49acaf(0x21c)]['forEach'](_0x1293bf=>_0x47d53c[_0x49acaf(0x58a)](Ks[_0x1293bf]));let _0x541f14=typeof _0xba09df;_0x47d53c[_0x49acaf(0x5d1)](_0x1f1d52)&&(y[_0x49acaf(0x43a)](_0x49acaf(0x54d))[_0x49acaf(0x634)]?(console[_0x49acaf(0x55a)](_0x49acaf(0x621)+Hs[_0x1f1d52],_0x49acaf(0x4bf),(0x0,ss['default'])()[_0x49acaf(0x460)](_0x49acaf(0x46d)),_0x49acaf(0x5e9),as[_0x1f1d52]+zs[_0x1f1d52]+_0x49acaf(0x621),_0x1f1d52+'\x20\x1b[0m',_0x49acaf(0x35b),this['context']+'\x1b[0m',as[_0x1f1d52],_0x541f14!==_0x49acaf(0x359)?_0xba09df:'',_0x49acaf(0x5e9)),_0x541f14===_0x49acaf(0x359)&&console[_0x49acaf(0x55a)](_0xba09df,'\x0a')):console[_0x49acaf(0x55a)]((0x0,ss[_0x49acaf(0x3eb)])()['format'](_0x49acaf(0x642)),_0x1f1d52+'\x20',''+this['context'],_0xba09df));}[a0_0x32cdd8(0x55a)](_0x531bdc){const _0x50a104=a0_0x32cdd8;this[_0x50a104(0x25b)](_0x531bdc,'LOG');}[a0_0x32cdd8(0x596)](_0x544305){const _0xfc727b=a0_0x32cdd8;this[_0xfc727b(0x25b)](_0x544305,'INFO');}[a0_0x32cdd8(0x2d5)](_0xb4ed12){const _0x11a075=a0_0x32cdd8;this[_0x11a075(0x25b)](_0xb4ed12,_0x11a075(0x647));}['error'](_0x55ef3c){const _0x515c81=a0_0x32cdd8;this[_0x515c81(0x25b)](_0x55ef3c,'ERROR');}[a0_0x32cdd8(0x2e8)](_0x39947c){const _0x37170c=a0_0x32cdd8;this[_0x37170c(0x25b)](_0x39947c,_0x37170c(0x218));}[a0_0x32cdd8(0x5d3)](_0x211d62){const _0xf43668=a0_0x32cdd8;this['console'](_0x211d62,_0xf43668(0x5f4));}[a0_0x32cdd8(0x180)](_0x18036b){const _0x20690d=a0_0x32cdd8;this[_0x20690d(0x25b)](_0x18036b,_0x20690d(0x1f7));}};function Qs(){const _0x36b864=a0_0x32cdd8;process['on']('uncaughtException',(_0x18765e,_0x5ec6a7)=>{const _0x5bcc09=a0_0x282e;new C('uncaughtException')[_0x5bcc09(0x334)]({'origin':_0x5ec6a7,'stderr':process[_0x5bcc09(0xd7)]['fd'],'error':_0x18765e});}),process['on'](_0x36b864(0x690),(_0x2bff61,_0x386c7d)=>{const _0x243583=_0x36b864;new C(_0x243583(0x690))[_0x243583(0x334)]({'origin':_0x386c7d,'stderr':process['stderr']['fd'],'error':_0x2bff61});});}var Ys=T(require('eventemitter2')),os=new Ys[(a0_0x32cdd8(0x3eb))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),le=require('path'),he=require('fs'),is=require(a0_0x32cdd8(0x2f4)),B=class{constructor(_0x5f5182){const _0x32b58a=a0_0x32cdd8;this[_0x32b58a(0x1b6)]=(0x0,is[_0x32b58a(0x2d3)])(Y,_0x32b58a(0x632)),this['writeStore']=_0x427bc9=>{const _0x549edf=_0x32b58a;(0x0,he['existsSync'])(_0x427bc9[_0x549edf(0x2f4)])||(0x0,he[_0x549edf(0x493)])(_0x427bc9[_0x549edf(0x2f4)],{'recursive':!0x0});try{return(0x0,he[_0x549edf(0x4c4)])((0x0,is[_0x549edf(0x2d3)])(_0x427bc9[_0x549edf(0x2f4)],_0x427bc9[_0x549edf(0x469)]+'.json'),JSON['stringify']({..._0x427bc9['data']}),{'encoding':'utf-8'}),{'message':'create\x20-\x20success'};}finally{_0x427bc9['data']=void 0x0;}},this[_0x32b58a(0x5b3)]=_0x5f5182[_0x32b58a(0x43a)](_0x32b58a(0x1d5));}[a0_0x32cdd8(0x694)](_0x3866ae,_0x22b135=!0x1){const _0xebe171=a0_0x32cdd8;throw new Error(_0xebe171(0x5fe));}['find'](_0x89d05d){const _0x232404=a0_0x32cdd8;throw new Error(_0x232404(0x5fe));}[a0_0x32cdd8(0x411)](_0x5f0625,_0x229b0f){throw new Error('Method\x20not\x20implemented.');}},oe=require('fs'),Ve=class{},je=class extends B{constructor(_0x360aea,_0xdae327){const _0x307220=a0_0x32cdd8;super(_0xdae327),this[_0x307220(0x2fb)]=_0x360aea,this['configService']=_0xdae327;}async['insert'](_0x3daf32,_0x76bb42=!0x1){const _0x1603f4=a0_0x32cdd8;if(_0x3daf32[_0x1603f4(0x4d2)]!==0x0)try{return this[_0x1603f4(0x5b3)][_0x1603f4(0x391)]&&_0x76bb42?{'insertCount':(await this[_0x1603f4(0x2fb)][_0x1603f4(0x5b9)]([..._0x3daf32]))[_0x1603f4(0x4d2)]}:_0x76bb42?(_0x3daf32['forEach'](_0x319dad=>this[_0x1603f4(0x158)]({'path':(0x0,le['join'])(this[_0x1603f4(0x1b6)],_0x1603f4(0x58b),_0x319dad[_0x1603f4(0x22b)]),'fileName':_0x319dad[_0x1603f4(0x3fb)]['id'],'data':_0x319dad})),{'insertCount':_0x3daf32[_0x1603f4(0x4d2)]}):{'insertCount':0x0};}catch(_0x508ff8){return console[_0x1603f4(0x55a)](_0x1603f4(0x5fa),_0x508ff8),_0x508ff8;}finally{_0x3daf32=void 0x0;}}async[a0_0x32cdd8(0x614)](_0x227b72){const _0x3ceb6f=a0_0x32cdd8;try{if(this[_0x3ceb6f(0x5b3)][_0x3ceb6f(0x391)]){if(_0x227b72?.[_0x3ceb6f(0x424)]?.[_0x3ceb6f(0x3fb)]){for(let [_0x412da4,_0x548cf2]of Object['entries'](_0x227b72[_0x3ceb6f(0x424)][_0x3ceb6f(0x3fb)]))_0x227b72[_0x3ceb6f(0x424)][_0x3ceb6f(0x481)+_0x412da4]=_0x548cf2;delete _0x227b72?.[_0x3ceb6f(0x424)]?.[_0x3ceb6f(0x3fb)];}return await this[_0x3ceb6f(0x2fb)][_0x3ceb6f(0x614)]({..._0x227b72[_0x3ceb6f(0x424)]})[_0x3ceb6f(0xf1)]({'messageTimestamp':-0x1})[_0x3ceb6f(0x4f7)](_0x227b72?.[_0x3ceb6f(0x4f7)]??0x0);}let _0x5f9f71=[];if(_0x227b72?.[_0x3ceb6f(0x424)]?.['key']?.['id'])_0x5f9f71['push'](JSON[_0x3ceb6f(0x49b)]((0x0,oe[_0x3ceb6f(0x1ad)])((0x0,le[_0x3ceb6f(0x2d3)])(this[_0x3ceb6f(0x1b6)],_0x3ceb6f(0x58b),_0x227b72[_0x3ceb6f(0x424)][_0x3ceb6f(0x22b)],_0x227b72[_0x3ceb6f(0x424)][_0x3ceb6f(0x3fb)]['id']+'.json'),{'encoding':_0x3ceb6f(0x651)})));else{let _0x37ff27=(0x0,oe['opendirSync'])((0x0,le['join'])(this[_0x3ceb6f(0x1b6)],_0x3ceb6f(0x58b),_0x227b72[_0x3ceb6f(0x424)]['owner']),{'encoding':_0x3ceb6f(0x651)});for await(let _0x9f960c of _0x37ff27)_0x9f960c['isFile']()&&_0x5f9f71[_0x3ceb6f(0x58a)](JSON['parse']((0x0,oe[_0x3ceb6f(0x1ad)])((0x0,le['join'])(this[_0x3ceb6f(0x1b6)],'messages',_0x227b72[_0x3ceb6f(0x424)][_0x3ceb6f(0x22b)],_0x9f960c[_0x3ceb6f(0x127)]),{'encoding':_0x3ceb6f(0x651)})));}return _0x5f9f71[_0x3ceb6f(0xf1)]((_0x46d003,_0x2186e5)=>_0x2186e5[_0x3ceb6f(0x5ca)]-_0x46d003[_0x3ceb6f(0x5ca)])[_0x3ceb6f(0x680)](0x0,_0x227b72?.[_0x3ceb6f(0x4f7)]??_0x5f9f71[_0x3ceb6f(0x4d2)]);}catch{return[];}}async[a0_0x32cdd8(0x411)](_0x47a2a5){const _0x2e5ef9=a0_0x32cdd8;try{if(this[_0x2e5ef9(0x5b3)][_0x2e5ef9(0x391)])await this[_0x2e5ef9(0x2fb)][_0x2e5ef9(0x37d)]({..._0x47a2a5[_0x2e5ef9(0x424)]});else{let {owner:_0xca08d7}=_0x47a2a5[_0x2e5ef9(0x424)];(0x0,oe[_0x2e5ef9(0x5f2)])((0x0,le[_0x2e5ef9(0x2d3)])(this[_0x2e5ef9(0x1b6)],_0x2e5ef9(0x58b),_0xca08d7))['forEach'](_0x159777=>{const _0x548992=_0x2e5ef9;let _0x3524cc=(0x0,le[_0x548992(0x2d3)])(this[_0x548992(0x1b6)],_0x548992(0x58b),_0xca08d7,_0x159777);(0x0,oe[_0x548992(0x477)])(_0x3524cc);});}}catch(_0x47b6e4){console[_0x2e5ef9(0x334)](_0x47b6e4);}}async[a0_0x32cdd8(0x608)](_0x2f2f1d,_0x20eb13){const _0xc94ca2=a0_0x32cdd8;try{let _0x3805aa=null;if(this['dbSettings']['ENABLED'])return _0x3805aa=await this['messageModel'][_0xc94ca2(0x31a)]({..._0x2f2f1d[_0xc94ca2(0x424)]},{'$set':_0x20eb13},{'new':!0x0}),_0x3805aa;}catch(_0x33933e){throw console[_0xc94ca2(0x334)](_0x33933e),_0x33933e;}}async[a0_0x32cdd8(0x5b9)](_0x182a96,_0x5b244f=!0x1){const _0x57c42c=a0_0x32cdd8;if(_0x182a96[_0x57c42c(0x4d2)]!==0x0)try{return this[_0x57c42c(0x5b3)][_0x57c42c(0x391)]&&_0x5b244f?{'insertCount':(await this[_0x57c42c(0x2fb)][_0x57c42c(0x5b9)]([..._0x182a96]))[_0x57c42c(0x4d2)]}:_0x5b244f?(_0x182a96[_0x57c42c(0x5dd)](_0x4fcbf0=>this[_0x57c42c(0x158)]({'path':(0x0,le[_0x57c42c(0x2d3)])(this[_0x57c42c(0x1b6)],'messages',_0x4fcbf0[_0x57c42c(0x22b)]),'fileName':_0x4fcbf0[_0x57c42c(0x3fb)]['id'],'data':_0x4fcbf0})),{'insertCount':_0x182a96['length']}):{'insertCount':0x0};}catch(_0x423ec0){return console[_0x57c42c(0x55a)]('ERROR:\x20',_0x423ec0),_0x423ec0;}finally{_0x182a96=void 0x0;}}},se=require('fs'),uo=T(require(a0_0x32cdd8(0x5f1))),w=T(require(a0_0x32cdd8(0x470))),_e=require('fs'),$=T(require(a0_0x32cdd8(0x2f4))),ue=T(require(a0_0x32cdd8(0x2b6))),po=require(a0_0x32cdd8(0x1c1)),go=T(require(a0_0x32cdd8(0x1c8))),mo=T(require(a0_0x32cdd8(0x2ec))),Xs=[a0_0x32cdd8(0x261),a0_0x32cdd8(0x4d9),a0_0x32cdd8(0x142),a0_0x32cdd8(0x454),a0_0x32cdd8(0x220)],Zs=[a0_0x32cdd8(0x38b),a0_0x32cdd8(0x2e1),'viewOnceMessage','viewOnceMessageV2'],ho=require('os'),kt=T(require('pino')),Vt=require(a0_0x32cdd8(0x390)),Ns=require(a0_0x32cdd8(0x362)),Be=require(a0_0x32cdd8(0x432)),rs=T(require(a0_0x32cdd8(0x432))),ea=new C(a0_0x32cdd8(0x272)),G=y[a0_0x32cdd8(0x43a)](a0_0x32cdd8(0x1d5)),M=G['ENABLED']?G[a0_0x32cdd8(0x63f)][a0_0x32cdd8(0x287)]?rs[a0_0x32cdd8(0x3eb)][a0_0x32cdd8(0x3f5)](G['CONNECTION'][a0_0x32cdd8(0x287)],{'dbName':G[a0_0x32cdd8(0x63f)][a0_0x32cdd8(0x21a)]+a0_0x32cdd8(0x273)}):rs[a0_0x32cdd8(0x3eb)][a0_0x32cdd8(0x3f5)](a0_0x32cdd8(0x26c)+G[a0_0x32cdd8(0x63f)]['HOST']+':'+G[a0_0x32cdd8(0x63f)][a0_0x32cdd8(0x20a)]+a0_0x32cdd8(0x151),{'user':G['CONNECTION']['USER'],'pass':G[a0_0x32cdd8(0x63f)]['PASSWORD'],'dbName':G[a0_0x32cdd8(0x63f)]['DB_PREFIX_NAME']+a0_0x32cdd8(0x273)}):null;G[a0_0x32cdd8(0x391)]&&ea[a0_0x32cdd8(0x596)]('ON\x20-\x20dbName:\x20'+M[a0_0x32cdd8(0x30d)]);async function Jo(){const _0x51ca25=a0_0x32cdd8;await D['updateMany']({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await D[_0x51ca25(0x422)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await D[_0x51ca25(0x422)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0x32cdd8(0x2f7),()=>{const _0xaeff31=a0_0x32cdd8;D&&Jo()['catch'](_0x3cc326=>ea[_0xaeff31(0x334)](_0xaeff31(0x3f0)+_0x3cc326));});var ns=class{},qo=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new Be[(a0_0x32cdd8(0x2a3))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ho=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),D=M?.['model'](ns['name'],Ho,a0_0x32cdd8(0x324)),ta=require(a0_0x32cdd8(0x432)),cs=class{},Ko=new ta[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x32cdd8(0x258)](cs[a0_0x32cdd8(0x127)],Ko,'contacts'),O=require('mongoose'),sa=new O[(a0_0x32cdd8(0x2a3))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ls=new O[(a0_0x32cdd8(0x2a3))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new O['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x32cdd8(0x658)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),aa=new O[(a0_0x32cdd8(0x2a3))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oa=new O[(a0_0x32cdd8(0x2a3))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Qo=new O[(a0_0x32cdd8(0x2a3))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ia=new O[(a0_0x32cdd8(0x2a3))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':oa,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),hs=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ra=new O[(a0_0x32cdd8(0x2a3))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),us=class{},na=new O['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5d7a29=a0_0x32cdd8;return _0x5d7a29(0x5e4)+Math[_0x5d7a29(0x22d)]()[_0x5d7a29(0x616)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[hs],'variablesNotFound':{'type':[String]},'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]}});na[a0_0x32cdd8(0x1dd)](a0_0x32cdd8(0x604),function(_0xccec19){const _0x2aa3ff=a0_0x32cdd8;let _0x11adda=new Set(),_0x5ba12c=new Set(this[_0x2aa3ff(0x3e8)]?.['map'](_0x285e68=>_0x285e68['name'])),_0x2d53e2=JSON[_0x2aa3ff(0x679)](this),_0x10b951=/{{(?!_)([^}]*)}}/g,_0x2e91aa;for(;(_0x2e91aa=_0x10b951[_0x2aa3ff(0x41d)](_0x2d53e2))!==null;)_0x5ba12c[_0x2aa3ff(0x474)](_0x2e91aa[0x1])||_0x11adda[_0x2aa3ff(0xe9)](_0x2e91aa[0x1]);_0x11adda[_0x2aa3ff(0x532)]>0x0?(console[_0x2aa3ff(0x2d5)](_0x2aa3ff(0x3c8),Array[_0x2aa3ff(0x1b8)](_0x11adda)),this['variablesNotFound']=Array[_0x2aa3ff(0x1b8)](_0x11adda)):this[_0x2aa3ff(0x338)]=[],_0xccec19();});var I=M?.['model'](us[a0_0x32cdd8(0x127)],na,a0_0x32cdd8(0x14b)),Yo=new O['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[hs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qo]},{'_id':!0x1}),ds=class{},Xo=new O[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[hs],'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]},'chatLog':Yo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x32cdd8(0x4e8)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[ls],'default':[]}}),J=M?.['model'](ds[a0_0x32cdd8(0x127)],Xo,'flowConversation'),ps=class{},Zo=new O[(a0_0x32cdd8(0x2a3))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ei=new O[(a0_0x32cdd8(0x2a3))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x32cdd8(0x1bc)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.['model'](ps['name'],ei,a0_0x32cdd8(0x2af)),gs=class{},ti=new O[(a0_0x32cdd8(0x2a3))]({'name':{'type':String},'requests':[oa],'owner':{'type':String}}),en=M?.[a0_0x32cdd8(0x258)](gs[a0_0x32cdd8(0x127)],ti,a0_0x32cdd8(0x5c0)),ms=class{},si=new O[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ai=new O[(a0_0x32cdd8(0x2a3))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x32cdd8(0x103)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),oi=new O[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ii=new O[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[oi]},'customFields':{'type':[si]},'flowConfig':{'type':ai,'default':{}}}),ie=M?.[a0_0x32cdd8(0x258)](ms['name'],ii,a0_0x32cdd8(0x18b)),be=T(require('mongoose')),k=require(a0_0x32cdd8(0x4d5)),fe=class{constructor(_0x4cd710,_0x1cfdb5,_0x70e644){const _0x125dc5=a0_0x32cdd8;this[_0x125dc5(0x5df)]=_0x4cd710,this[_0x125dc5(0x1fe)]=_0x1cfdb5,this[_0x125dc5(0x127)]=_0x70e644;}},Ge=class{},Je=class{},Ce=class{},qe=class{},We=class{},we=class{},He=class{},Ke=class{},ze=class{},Qe=class{},Pt=T(require('express')),ca=require('fs'),la=require(a0_0x32cdd8(0x2f4));async function Ye(_0x1881f0){const _0x2bd985=a0_0x32cdd8;let _0x116dc2=F[_0x2bd985(0x24e)][_0x1881f0];if(G[_0x2bd985(0x391)]){let _0x193a72=M[_0x2bd985(0x213)]()['db'](G[_0x2bd985(0x63f)][_0x2bd985(0x21a)]+_0x2bd985(0x5e0))[_0x2bd985(0x31e)](_0x1881f0);return _0x116dc2||(await _0x193a72[_0x2bd985(0x614)]({})[_0x2bd985(0x154)]())[_0x2bd985(0x4d2)]>0x0;}return _0x116dc2||(0x0,ca[_0x2bd985(0x4f4)])((0x0,la['join'])(j,_0x1881f0));}async function fs(_0x28dd86,_0x571370,_0x423a8a){const _0x4b58cb=a0_0x32cdd8;if(_0x28dd86[_0x4b58cb(0x2e9)][_0x4b58cb(0x5d1)](_0x4b58cb(0x18c))||_0x28dd86[_0x4b58cb(0x2e9)][_0x4b58cb(0x5d1)](_0x4b58cb(0x497))||_0x28dd86[_0x4b58cb(0x2e9)]['includes'](_0x4b58cb(0x2f3)))return _0x423a8a();let _0x1cc3ec=_0x28dd86[_0x4b58cb(0x179)];if(!_0x1cc3ec?.[_0x4b58cb(0x128)])throw new g(_0x4b58cb(0x521));if(!await Ye(_0x1cc3ec['instanceName']))throw new x(_0x4b58cb(0x307)+_0x1cc3ec[_0x4b58cb(0x128)]+_0x4b58cb(0x108));_0x423a8a();}async function ua(_0x120c33,_0x1ec278,_0x2ffbd8){const _0x47f810=a0_0x32cdd8;if(_0x120c33[_0x47f810(0x2e9)][_0x47f810(0x5d1)](_0x47f810(0x18c))){let _0x2ea0c4=_0x120c33[_0x47f810(0x106)];if(await Ye(_0x2ea0c4[_0x47f810(0x128)]))throw new re('This\x20name\x20'+_0x2ea0c4['instanceName']+_0x47f810(0x257));F[_0x47f810(0x24e)][_0x2ea0c4[_0x47f810(0x128)]]&&delete F['waInstances'][_0x2ea0c4[_0x47f810(0x128)]];}_0x2ffbd8();}var da=require('class-validator'),pa=T(require('jsonwebtoken')),Xe='uazapi',ni=new C('GUARD');async function ci(_0xa380b4,_0x46684f,_0x294158){const _0x5c83be=a0_0x32cdd8;let _0x257359=_0xa380b4['get'](_0x5c83be(0x363));if(_0x257359&&y['get'](_0x5c83be(0x4f2))['API_KEY'][_0x5c83be(0x1f3)]!==_0x257359)throw new ne();if(y[_0x5c83be(0x43a)]('AUTHENTICATION')[_0x5c83be(0x559)][_0x5c83be(0x1f3)]===_0x257359)return _0x294158();if((_0xa380b4[_0x5c83be(0x2e9)][_0x5c83be(0x5d1)]('/instance/create')||_0xa380b4[_0x5c83be(0x2e9)][_0x5c83be(0x5d1)]('/instance/fetchInstances'))&&!_0x257359)throw new re('Missing\x20global\x20api\x20key',_0x5c83be(0x3c5));let _0x385321=y[_0x5c83be(0x43a)](_0x5c83be(0x4f2))[_0x5c83be(0x375)];try{let [_0x52458a,_0x54749e]=_0xa380b4['get'](_0x5c83be(0xbf))[_0x5c83be(0x5af)]('\x20');if(_0x52458a[_0x5c83be(0x61d)]()!==_0x5c83be(0x115))throw new ne();if(!(0x0,da[_0x5c83be(0x540)])(_0x54749e))throw new ne();let _0x5cacec=_0xa380b4[_0x5c83be(0x179)],_0x5a4147=pa[_0x5c83be(0x3eb)][_0x5c83be(0x200)](_0x54749e,_0x385321['SECRET'],{'ignoreExpiration':_0x385321[_0x5c83be(0x696)]===0x0});if(_0x5cacec[_0x5c83be(0x128)]!==_0x5a4147[_0x5c83be(0x128)]||Xe!==_0x5a4147[_0x5c83be(0x56f)])throw new ne();return _0x294158();}catch(_0x1a5c10){throw ni[_0x5c83be(0x334)](_0x1a5c10),new ne();}}async function li(_0x2edebe,_0x4facec,_0x29f949){const _0x616969=a0_0x32cdd8;let _0x49df64=y[_0x616969(0x43a)](_0x616969(0x4f2))['API_KEY'],_0x3a4a6b=_0x2edebe[_0x616969(0x43a)](_0x616969(0x363));if(_0x49df64[_0x616969(0x1f3)]===_0x3a4a6b)return _0x29f949();if(_0x2edebe[_0x616969(0x2e9)]['includes'](_0x616969(0x18c))){let _0x477e8c=y['get']('TRIAL_INSTANCE_NAME'),_0x41947d=_0x2edebe['body'][_0x616969(0x128)];if(_0x477e8c&&_0x41947d[_0x616969(0x61d)]()[_0x616969(0x36b)](_0x477e8c['toLowerCase']()))return _0x29f949();if(!_0x3a4a6b)throw new re('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x2edebe[_0x616969(0x2e9)][_0x616969(0x5d1)]('/instance/fetchInstances')&&!_0x3a4a6b)throw new re(_0x616969(0x169),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2edebe[_0x616969(0x2e9)][_0x616969(0x5d1)](_0x616969(0x2f3))&&!_0x3a4a6b)throw new re(_0x616969(0x169),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x394efa=_0x2edebe['params'];if((await de[_0x616969(0x52c)][_0x616969(0x614)](_0x394efa['instanceName']))[_0x616969(0x363)]===_0x3a4a6b)return _0x29f949();}catch{}throw new ne();}var ga={'jwt':ci,'apikey':li},Ka=require(a0_0x32cdd8(0x27d)),E=require('uuid'),S=(..._0x5f02d3)=>{const _0xc6685c=a0_0x32cdd8;let _0x34e503={};return _0x5f02d3[_0xc6685c(0x5dd)](_0x5a2168=>_0x34e503[_0x5a2168]={'minLength':0x1,'description':_0xc6685c(0x584)+_0x5a2168+_0xc6685c(0x269)}),{'if':{'propertyNames':{'enum':[..._0x5f02d3]}},'then':{'properties':_0x34e503}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x32cdd8(0x4d6)}},...S('instanceName')},ma={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x32cdd8(0x670)],...S(a0_0x32cdd8(0x670))},wn={'properties':{'key':{'type':a0_0x32cdd8(0x359),'properties':{'id':{'type':a0_0x32cdd8(0x4d6)},'remoteJid':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}},'required':['id',a0_0x32cdd8(0x420),a0_0x32cdd8(0x4a9)],...S('id',a0_0x32cdd8(0x420))},'message':{'type':a0_0x32cdd8(0x359)}}},X={'properties':{'delay':{'type':a0_0x32cdd8(0xfb),'description':a0_0x32cdd8(0x3d9)},'presence':{'type':'string','enum':[a0_0x32cdd8(0x372),a0_0x32cdd8(0x45d),'composing',a0_0x32cdd8(0x38f),a0_0x32cdd8(0x1b5)]}}},Z={'type':a0_0x32cdd8(0x4d6),'pattern':a0_0x32cdd8(0x5d0),'description':a0_0x32cdd8(0x601)},ha={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'textMessage':{'type':a0_0x32cdd8(0x359),'properties':{'text':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x25e)],...S(a0_0x32cdd8(0x25e))}},'required':[a0_0x32cdd8(0x5ee),a0_0x32cdd8(0x1fa)]},fa={'type':'string','pattern':a0_0x32cdd8(0x113),'description':'Invalid\x20format'},yn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...fa},'options':{...X},'textMessage':{'type':a0_0x32cdd8(0x359),'properties':{'text':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x25e)],...S(a0_0x32cdd8(0x25e))}},'required':[a0_0x32cdd8(0x5ee),'number']},bn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...fa},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x32cdd8(0x4d6),'enum':[a0_0x32cdd8(0x131),a0_0x32cdd8(0x5e3),a0_0x32cdd8(0x39d),a0_0x32cdd8(0x322)]},'media':{'type':a0_0x32cdd8(0x4d6)},'fileName':{'type':a0_0x32cdd8(0x4d6)},'caption':{'type':a0_0x32cdd8(0x4d6)}},'required':['mediatype',a0_0x32cdd8(0x3d2)],...S('fileName',a0_0x32cdd8(0x484),a0_0x32cdd8(0x3d2))}},'required':[a0_0x32cdd8(0x4c7),a0_0x32cdd8(0x1fa)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x131)],...S('image')}},'required':[a0_0x32cdd8(0x220),a0_0x32cdd8(0x1fa)]},ya={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'statusMessage':{'type':a0_0x32cdd8(0x359),'properties':{'type':{'type':'string','enum':['text',a0_0x32cdd8(0x131),a0_0x32cdd8(0x322),a0_0x32cdd8(0x39d)]},'content':{'type':a0_0x32cdd8(0x4d6)},'caption':{'type':a0_0x32cdd8(0x4d6)},'backgroundColor':{'type':a0_0x32cdd8(0x4d6)},'font':{'type':a0_0x32cdd8(0xfb),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x4d6),'pattern':a0_0x32cdd8(0x407),'description':a0_0x32cdd8(0x687)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x32cdd8(0x2c9)],...S(a0_0x32cdd8(0x2a0),a0_0x32cdd8(0x2c9))}},'required':[a0_0x32cdd8(0x1cc)]},ba={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x32cdd8(0x4d6),'enum':['image','document','video',a0_0x32cdd8(0x322)]},'media':{'type':a0_0x32cdd8(0x4d6)},'fileName':{'type':a0_0x32cdd8(0x4d6)},'caption':{'type':'string'}},'required':['mediatype',a0_0x32cdd8(0x3d2)],...S(a0_0x32cdd8(0x469),a0_0x32cdd8(0x484),a0_0x32cdd8(0x3d2))}},'required':[a0_0x32cdd8(0x4c7),a0_0x32cdd8(0x1fa)]},Sa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'audioMessage':{'type':a0_0x32cdd8(0x359),'properties':{'audio':{'type':a0_0x32cdd8(0x4d6)}},'required':['audio'],...S(a0_0x32cdd8(0x322))}},'required':['audioMessage',a0_0x32cdd8(0x1fa)]},Ea={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x32cdd8(0x4d6)},'selectableCount':{'type':'number'},'values':{'type':a0_0x32cdd8(0x304),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x32cdd8(0x385),a0_0x32cdd8(0x5c7)],...S(a0_0x32cdd8(0x127),a0_0x32cdd8(0x385),a0_0x32cdd8(0x5c7))}},'required':['number',a0_0x32cdd8(0x30b)]},va={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'buttonMessage':{'type':a0_0x32cdd8(0x359),'properties':{'title':{'type':a0_0x32cdd8(0x4d6)},'description':{'type':a0_0x32cdd8(0x4d6)},'footerText':{'type':a0_0x32cdd8(0x4d6)},'buttons':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x359),'properties':{'buttonText':{'type':a0_0x32cdd8(0x4d6)},'buttonId':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x1ae),a0_0x32cdd8(0x5bc)],...S('buttonText',a0_0x32cdd8(0x5bc))}},'mediaMessage':{'type':a0_0x32cdd8(0x359),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x32cdd8(0x4d6),'enum':[a0_0x32cdd8(0x131),'document',a0_0x32cdd8(0x39d)]}},'required':[a0_0x32cdd8(0x3d2),a0_0x32cdd8(0x463)],...S('media',a0_0x32cdd8(0x469))}},'required':[a0_0x32cdd8(0x2b9),'buttons'],...S('title',a0_0x32cdd8(0x6a0))}},'required':['number',a0_0x32cdd8(0x65d)]},Na={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'locationMessage':{'type':a0_0x32cdd8(0x359),'properties':{'latitude':{'type':a0_0x32cdd8(0x1fa)},'longitude':{'type':a0_0x32cdd8(0x1fa)},'name':{'type':'string'},'address':{'type':a0_0x32cdd8(0x4d6)}},'required':['latitude',a0_0x32cdd8(0x495)],...S(a0_0x32cdd8(0x127),a0_0x32cdd8(0x2c2))}},'required':['number',a0_0x32cdd8(0x221)]},Ca={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'listMessage':{'type':a0_0x32cdd8(0x359),'properties':{'title':{'type':'string'},'description':{'type':a0_0x32cdd8(0x4d6)},'footerText':{'type':a0_0x32cdd8(0x4d6)},'buttonText':{'type':a0_0x32cdd8(0x4d6)},'sections':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x359),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x359),'properties':{'title':{'type':a0_0x32cdd8(0x4d6)},'description':{'type':a0_0x32cdd8(0x4d6)},'rowId':{'type':a0_0x32cdd8(0x4d6)}},'required':['title','description',a0_0x32cdd8(0x39e)],...S(a0_0x32cdd8(0x2b9),a0_0x32cdd8(0x6a0),'rowId')}}},'required':[a0_0x32cdd8(0x2b9),a0_0x32cdd8(0x4ae)],...S(a0_0x32cdd8(0x2b9))}}},'required':['title','description',a0_0x32cdd8(0x1ae),'sections'],...S(a0_0x32cdd8(0x2b9),a0_0x32cdd8(0x6a0),a0_0x32cdd8(0x1ae),a0_0x32cdd8(0x302))}},'required':[a0_0x32cdd8(0x1fa),'listMessage']},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'number':{...Z},'options':{...X},'contactMessage':{'type':a0_0x32cdd8(0x304),'items':{'type':a0_0x32cdd8(0x359),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x32cdd8(0x4d6),'minLength':0xa}},'required':['fullName',a0_0x32cdd8(0x2bd)],...S(a0_0x32cdd8(0x664))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x32cdd8(0x1fa),a0_0x32cdd8(0x5d8)]},Ma={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x32cdd8(0x359),'properties':{'id':{'type':a0_0x32cdd8(0x4d6)},'remoteJid':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}},'required':['id',a0_0x32cdd8(0x420),a0_0x32cdd8(0x4a9)],...S('id',a0_0x32cdd8(0x420))},'reaction':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x3fb),a0_0x32cdd8(0x673)],...S('reaction')}},'required':[a0_0x32cdd8(0x1a5)]},Ra={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x4d6),'pattern':a0_0x32cdd8(0x407),'description':a0_0x32cdd8(0x17a)}}}},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'readMessages':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x32cdd8(0x4a9),a0_0x32cdd8(0x420)],...S('id',a0_0x32cdd8(0x420))}}},'required':[a0_0x32cdd8(0x384)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'privacySettings':{'type':a0_0x32cdd8(0x359),'properties':{'readreceipts':{'type':'string','enum':[a0_0x32cdd8(0x12c),a0_0x32cdd8(0x43b)]},'profile':{'type':'string','enum':['all',a0_0x32cdd8(0x3cc),a0_0x32cdd8(0x640),a0_0x32cdd8(0x43b)]},'status':{'type':a0_0x32cdd8(0x4d6),'enum':['all',a0_0x32cdd8(0x3cc),a0_0x32cdd8(0x640),a0_0x32cdd8(0x43b)]},'online':{'type':a0_0x32cdd8(0x4d6),'enum':['all',a0_0x32cdd8(0x496)]},'last':{'type':a0_0x32cdd8(0x4d6),'enum':[a0_0x32cdd8(0x12c),'contacts',a0_0x32cdd8(0x640),a0_0x32cdd8(0x43b)]},'groupadd':{'type':'string','enum':[a0_0x32cdd8(0x12c),a0_0x32cdd8(0x3cc),a0_0x32cdd8(0x640),'none']}},'required':['readreceipts',a0_0x32cdd8(0x183),a0_0x32cdd8(0x440),a0_0x32cdd8(0x5ed),a0_0x32cdd8(0x62b),'groupadd'],...S(a0_0x32cdd8(0x68f),a0_0x32cdd8(0x183),a0_0x32cdd8(0x440),a0_0x32cdd8(0x5ed),a0_0x32cdd8(0x62b),'groupadd')}},'required':[a0_0x32cdd8(0x306)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'lastMessage':{'type':a0_0x32cdd8(0x359),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}},'required':['id',a0_0x32cdd8(0x4a9),a0_0x32cdd8(0x420)],...S('id',a0_0x32cdd8(0x420))},'messageTimestamp':{'type':a0_0x32cdd8(0xfb),'minLength':0x1}},'required':['key'],...S(a0_0x32cdd8(0x5ca))},'archive':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}},'required':[a0_0x32cdd8(0x585),a0_0x32cdd8(0x674)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'id':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x32cdd8(0x4d6)},'participant':{'type':a0_0x32cdd8(0x4d6)}},'required':['id','fromMe',a0_0x32cdd8(0x420)],...S('id','remoteJid','participant')},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'where':{'type':a0_0x32cdd8(0x359),'properties':{'_id':{'type':a0_0x32cdd8(0x4d6),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0x32cdd8(0x386),'id',a0_0x32cdd8(0x2ba))}}},_a={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'name':{'type':a0_0x32cdd8(0x4d6)}},...S('name')},xa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'status':{'type':a0_0x32cdd8(0x4d6)}},...S('status')},Te={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x32cdd8(0x4d6)},'picture':{'type':a0_0x32cdd8(0x4d6)}}},$a={'type':a0_0x32cdd8(0x359),'properties':{'wuid':{'type':a0_0x32cdd8(0x4d6)},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':'string'},'isBusiness':{'type':a0_0x32cdd8(0x1ee)}}},ka={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'where':{'type':a0_0x32cdd8(0x359),'properties':{'_id':{'type':a0_0x32cdd8(0x4d6),'minLength':0x1},'key':{'type':a0_0x32cdd8(0x359),'if':{'propertyNames':{'enum':[a0_0x32cdd8(0x4a9),a0_0x32cdd8(0x420),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x32cdd8(0x4d6),'minLength':0x1,'description':a0_0x32cdd8(0x177)},'id':{'type':a0_0x32cdd8(0x4d6),'minLength':0x1,'description':a0_0x32cdd8(0x177)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x32cdd8(0x359)}},...S(a0_0x32cdd8(0x386))},'limit':{'type':a0_0x32cdd8(0xfb)}}},La={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x32cdd8(0x4d6)},'remoteJid':{'type':'string'},'id':{'type':a0_0x32cdd8(0x4d6)},'fromMe':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x32cdd8(0x4d6)},'status':{'type':a0_0x32cdd8(0x4d6),'enum':['ERROR',a0_0x32cdd8(0xfd),a0_0x32cdd8(0x1b0),a0_0x32cdd8(0x202),a0_0x32cdd8(0x16a),a0_0x32cdd8(0x145)]}},...S(a0_0x32cdd8(0x386),a0_0x32cdd8(0x420),'id','status')},'limit':{'type':a0_0x32cdd8(0xfb)}}},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x32cdd8(0x4d6),'enum':[a0_0x32cdd8(0x372),'available',a0_0x32cdd8(0x48f),a0_0x32cdd8(0x38f),a0_0x32cdd8(0x1b5)]}},'required':['presence',a0_0x32cdd8(0x1fa)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'subject':{'type':a0_0x32cdd8(0x4d6)},'description':{'type':a0_0x32cdd8(0x4d6)},'profilePicture':{'type':a0_0x32cdd8(0x4d6)},'participants':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x32cdd8(0x171),'description':a0_0x32cdd8(0x268)}}},'required':[a0_0x32cdd8(0x406),a0_0x32cdd8(0x1f5)],...S(a0_0x32cdd8(0x406),a0_0x32cdd8(0x6a0),a0_0x32cdd8(0x5d2))},Me={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x32cdd8(0x4d6),'pattern':a0_0x32cdd8(0x1e0)}},'required':[a0_0x32cdd8(0x18a)],...S(a0_0x32cdd8(0x18a))},ja={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'groupJid':{'type':a0_0x32cdd8(0x4d6)},'action':{'type':a0_0x32cdd8(0x4d6),'enum':['add',a0_0x32cdd8(0x162),a0_0x32cdd8(0x466),a0_0x32cdd8(0x12f)]},'participants':{'type':a0_0x32cdd8(0x304),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32cdd8(0x4d6),'minLength':0xa,'pattern':a0_0x32cdd8(0x171),'description':a0_0x32cdd8(0x268)}}},'required':[a0_0x32cdd8(0x18a),a0_0x32cdd8(0x578),a0_0x32cdd8(0x1f5)],...S(a0_0x32cdd8(0x18a),a0_0x32cdd8(0x578))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'groupJid':{'type':a0_0x32cdd8(0x4d6)},'expiration':{'type':a0_0x32cdd8(0x1fa),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x32cdd8(0x18a),'expiration'],...S(a0_0x32cdd8(0x18a),'expiration')},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x32cdd8(0x4d6)},'image':{'type':a0_0x32cdd8(0x4d6)}},'required':['groupJid','image'],...S('groupJid',a0_0x32cdd8(0x131))},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x32cdd8(0x18a),a0_0x32cdd8(0x6a0)],...S(a0_0x32cdd8(0x18a),a0_0x32cdd8(0x6a0))},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':['groupJid',a0_0x32cdd8(0x127)],...S(a0_0x32cdd8(0x18a),a0_0x32cdd8(0x127))},qa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'groupJid':{'type':a0_0x32cdd8(0x4d6)},'setting':{'type':'string','enum':['announcement',a0_0x32cdd8(0x4eb),a0_0x32cdd8(0x2e4),a0_0x32cdd8(0x617)]}},'required':['groupJid',a0_0x32cdd8(0x56b)],...S(a0_0x32cdd8(0x18a),a0_0x32cdd8(0x56b))},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'inviteCode':{'type':a0_0x32cdd8(0x4d6)}},'required':[a0_0x32cdd8(0x369)],...S(a0_0x32cdd8(0x369))},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'url':{'type':a0_0x32cdd8(0x4d6)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0x32cdd8(0x63c)]},Sn={'$id':(0x0,E['v4'])(),'type':a0_0x32cdd8(0x359),'properties':{'local_map':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x32cdd8(0x1ee),'enum':[!0x0,!0x1]}},'required':[a0_0x32cdd8(0x505),a0_0x32cdd8(0x625),'QRCODE_UPDATED',a0_0x32cdd8(0x4c5),a0_0x32cdd8(0x4c2),'MESSAGES_UPSERT',a0_0x32cdd8(0x4ab),a0_0x32cdd8(0x654),a0_0x32cdd8(0xd2),a0_0x32cdd8(0x48c),a0_0x32cdd8(0x4b9),'CHATS_SET',a0_0x32cdd8(0x591),a0_0x32cdd8(0x1cd),'CHATS_DELETE',a0_0x32cdd8(0x1a1),a0_0x32cdd8(0x5ec),a0_0x32cdd8(0x29e),'GROUP_PARTICIPANTS_UPDATE'],...S(a0_0x32cdd8(0x505),a0_0x32cdd8(0x625),a0_0x32cdd8(0xf6),'MESSAGES_SET',a0_0x32cdd8(0x4c2),a0_0x32cdd8(0x132),a0_0x32cdd8(0x4ab),a0_0x32cdd8(0x654),a0_0x32cdd8(0xd2),a0_0x32cdd8(0x48c),a0_0x32cdd8(0x4b9),a0_0x32cdd8(0x2cb),a0_0x32cdd8(0x591),a0_0x32cdd8(0x1cd),a0_0x32cdd8(0x5ad),a0_0x32cdd8(0x1a1),a0_0x32cdd8(0x5ec),a0_0x32cdd8(0x29e),'GROUP_PARTICIPANTS_UPDATE')},Ae=require('fs'),Re=require(a0_0x32cdd8(0x2f4)),Ze=class{},et=class extends B{constructor(_0x48a7ae,_0x28126c){super(_0x28126c),this['contactModel']=_0x48a7ae,this['configService']=_0x28126c;}async[a0_0x32cdd8(0x694)](_0x1b881f,_0x41934c=!0x1){const _0x1befa9=a0_0x32cdd8;if(_0x1b881f[_0x1befa9(0x4d2)]!==0x0)try{return this[_0x1befa9(0x5b3)][_0x1befa9(0x391)]&&_0x41934c?{'insertCount':(await this[_0x1befa9(0x15a)][_0x1befa9(0x5b9)]([..._0x1b881f]))['length']}:(_0x1b881f['forEach'](_0xd4cd25=>{const _0x2b0bb1=_0x1befa9;this[_0x2b0bb1(0x158)]({'path':(0x0,Re[_0x2b0bb1(0x2d3)])(this[_0x2b0bb1(0x1b6)],_0x2b0bb1(0x3cc),_0xd4cd25[_0x2b0bb1(0x22b)]),'fileName':_0xd4cd25['id'],'data':_0xd4cd25});}),{'insertCount':_0x1b881f['length']});}catch(_0x122241){return _0x122241;}finally{_0x1b881f=void 0x0;}}async['delete'](_0x590ff6){const _0x34cfa5=a0_0x32cdd8;try{return this['dbSettings'][_0x34cfa5(0x391)]?await this[_0x34cfa5(0x15a)][_0x34cfa5(0x37d)]({..._0x590ff6[_0x34cfa5(0x424)]}):{'deleted':{'contact':_0x590ff6[_0x34cfa5(0x424)]['id']}};}catch(_0x226571){return{'error':_0x226571?.[_0x34cfa5(0x616)]()};}}async[a0_0x32cdd8(0x608)](_0x46db8d,_0x5add74=!0x1){const _0x532dfd=a0_0x32cdd8;try{if(_0x46db8d[_0x532dfd(0x4d2)]===0x0)return;if(this[_0x532dfd(0x5b3)][_0x532dfd(0x391)]&&_0x5add74){let _0x37446c=_0x46db8d[_0x532dfd(0x58e)](_0x3e8655=>({'updateOne':{'filter':{'id':_0x3e8655['id']},'update':{..._0x3e8655},'upsert':!0x0}})),{nModified:_0x47a96b}=await this[_0x532dfd(0x15a)][_0x532dfd(0x64c)](_0x37446c);return{'insertCount':_0x47a96b};}}catch{return;}}async[a0_0x32cdd8(0x614)](_0x28b991){const _0xf98f8d=a0_0x32cdd8;try{if(this['dbSettings'][_0xf98f8d(0x391)])return await this[_0xf98f8d(0x15a)]['find']({..._0x28b991['where']});let _0x165029=[];if(_0x28b991?.[_0xf98f8d(0x424)]?.['id'])_0x165029[_0xf98f8d(0x58a)](JSON['parse']((0x0,Ae[_0xf98f8d(0x1ad)])((0x0,Re[_0xf98f8d(0x2d3)])(this['storePath'],'contacts',_0x28b991['where'][_0xf98f8d(0x22b)],_0x28b991[_0xf98f8d(0x424)]['id']+_0xf98f8d(0x30a)),{'encoding':_0xf98f8d(0x651)})));else{let _0x5119fb=(0x0,Ae[_0xf98f8d(0x4ba)])((0x0,Re['join'])(this[_0xf98f8d(0x1b6)],_0xf98f8d(0x3cc),_0x28b991['where']['owner']),{'encoding':'utf-8'});for await(let _0x756f4c of _0x5119fb)_0x756f4c[_0xf98f8d(0x5d7)]()&&_0x165029[_0xf98f8d(0x58a)](JSON[_0xf98f8d(0x49b)]((0x0,Ae[_0xf98f8d(0x1ad)])((0x0,Re[_0xf98f8d(0x2d3)])(this[_0xf98f8d(0x1b6)],_0xf98f8d(0x3cc),_0x28b991['where']['owner'],_0x756f4c[_0xf98f8d(0x127)]),{'encoding':_0xf98f8d(0x651)})));}return _0x165029;}catch{return[];}}},tt=require(a0_0x32cdd8(0x415)),Mn=require(a0_0x32cdd8(0x577)),ws=new C(a0_0x32cdd8(0x381)),L=class{constructor(){}[a0_0x32cdd8(0x409)](_0x380039,_0x30cc53=!0x0){const _0x45d523=a0_0x32cdd8;let _0x417614='/'+_0x380039;return _0x30cc53&&(_0x417614+=_0x45d523(0x3ac)),_0x417614;}async[a0_0x32cdd8(0x602)](_0x2f8497){const _0x1a3aef=a0_0x32cdd8;let {request:_0x187a48,schema:_0xe2b1b8,ClassRef:_0x4e0c5d,execute:_0x12893d}=_0x2f8497,_0x2576de=new _0x4e0c5d(),_0x180bb9=_0x187a48[_0x1a3aef(0x106)],_0x30f46c=_0x187a48[_0x1a3aef(0x179)];_0x187a48?.[_0x1a3aef(0xc8)]&&Object['keys'](_0x187a48[_0x1a3aef(0xc8)])[_0x1a3aef(0x4d2)]>0x0&&Object['assign'](_0x30f46c,_0x187a48['query']),_0x187a48[_0x1a3aef(0x2e9)][_0x1a3aef(0x5d1)](_0x1a3aef(0x18c))&&Object['assign'](_0x30f46c,_0x180bb9),Object['assign'](_0x2576de,_0x180bb9);let _0x79a202=_0xe2b1b8?(0x0,tt[_0x1a3aef(0x3ab)])(_0x2576de,_0xe2b1b8):{'valid':!0x0,'errors':[]};if(!_0x79a202[_0x1a3aef(0x67e)]){let _0x4029cb=_0x79a202['errors'][_0x1a3aef(0x58e)](({property:_0x5a5d70,stack:_0x2ba69a,schema:_0x2bb8ed})=>{const _0x1934df=_0x1a3aef;let _0x3fd3f0;return _0x2bb8ed[_0x1934df(0x6a0)]?_0x3fd3f0=_0x2bb8ed[_0x1934df(0x6a0)]:_0x3fd3f0=_0x2ba69a[_0x1934df(0x61a)](_0x1934df(0x31b),''),{'property':_0x5a5d70[_0x1934df(0x61a)](_0x1934df(0x31b),''),'message':_0x3fd3f0};});throw ws['error']([..._0x4029cb]),new g(..._0x4029cb);}return await _0x12893d(_0x30f46c,_0x2576de);}async[a0_0x32cdd8(0x635)](_0xb15c1c){const _0x57603f=a0_0x32cdd8;let {request:_0x178ea3,ClassRef:_0x9a6d69,schema:_0x189831,execute:_0x2bd8d1}=_0xb15c1c,_0x32ba81=_0x178ea3['query'];if(!_0x32ba81?.[_0x57603f(0x18a)])throw new g(_0x57603f(0x266),_0x57603f(0x5be));let _0x23631a=_0x178ea3['params'],_0x184600=_0x178ea3[_0x57603f(0x106)],_0x27db67=new _0x9a6d69();Object[_0x57603f(0x468)](_0x184600,_0x32ba81),Object[_0x57603f(0x468)](_0x27db67,_0x184600);let _0x152ebc=(0x0,tt['validate'])(_0x27db67,_0x189831);if(!_0x152ebc[_0x57603f(0x67e)]){let _0x942663=_0x152ebc[_0x57603f(0x187)][_0x57603f(0x58e)](({property:_0x357e3b,stack:_0x55ad41,schema:_0x4fb4da})=>{const _0x192110=_0x57603f;let _0x33571d;return _0x4fb4da[_0x192110(0x6a0)]?_0x33571d=_0x4fb4da[_0x192110(0x6a0)]:_0x33571d=_0x55ad41['replace'](_0x192110(0x31b),''),{'property':_0x357e3b[_0x192110(0x61a)](_0x192110(0x31b),''),'message':_0x33571d};});throw ws['error']([..._0x942663]),new g(..._0x942663);}return await _0x2bd8d1(_0x23631a,_0x27db67);}async[a0_0x32cdd8(0x114)](_0x5cf283){const _0x18279a=a0_0x32cdd8;let {request:_0x598fe0,ClassRef:_0x52ce1d,schema:_0x43026f,execute:_0x10e649}=_0x5cf283,_0x581382=_0x598fe0[_0x18279a(0x106)];if(!_0x581382?.[_0x18279a(0x369)])throw new g(_0x18279a(0x4c1),_0x18279a(0x598));let _0x3bd1b7=_0x598fe0[_0x18279a(0x179)],_0x4bf8ee=_0x598fe0['body'],_0x5592bb=new _0x52ce1d();Object[_0x18279a(0x468)](_0x4bf8ee,_0x581382),Object[_0x18279a(0x468)](_0x5592bb,_0x4bf8ee);let _0x93d940=(0x0,tt[_0x18279a(0x3ab)])(_0x5592bb,_0x43026f);if(!_0x93d940[_0x18279a(0x67e)]){let _0x4ce7d6=_0x93d940[_0x18279a(0x187)][_0x18279a(0x58e)](({property:_0x40f509,stack:_0x2c0f1a,schema:_0x526026})=>{const _0x1be71b=_0x18279a;let _0x226ba8;return _0x526026[_0x1be71b(0x6a0)]?_0x226ba8=_0x526026[_0x1be71b(0x6a0)]:_0x226ba8=_0x2c0f1a['replace'](_0x1be71b(0x31b),''),{'property':_0x40f509[_0x1be71b(0x61a)](_0x1be71b(0x31b),''),'message':_0x226ba8};});throw ws[_0x18279a(0x334)]([..._0x4ce7d6]),new g(..._0x4ce7d6);}return await _0x10e649(_0x3bd1b7,_0x5592bb);}},Ie=require('path'),De=require('fs'),st=class{},at=class extends B{constructor(_0x516b64,_0x11bd42){const _0x2b61d3=a0_0x32cdd8;super(_0x11bd42),this[_0x2b61d3(0x155)]=_0x516b64,this[_0x2b61d3(0x3d0)]=_0x11bd42;}async[a0_0x32cdd8(0x694)](_0x574ac5,_0x1a57ab){const _0x2662df=a0_0x32cdd8;if(_0x574ac5[_0x2662df(0x4d2)]!==0x0)try{if(this[_0x2662df(0x5b3)][_0x2662df(0x391)]&&_0x1a57ab)return{'insertCount':(await this[_0x2662df(0x155)][_0x2662df(0x5b9)]([..._0x574ac5]))[_0x2662df(0x4d2)]};_0x574ac5[_0x2662df(0x5dd)](_0x5d1f9c=>{const _0x55b676=_0x2662df;this['writeStore']({'path':(0x0,Ie['join'])(this[_0x55b676(0x1b6)],_0x55b676(0x425),_0x5d1f9c[_0x55b676(0x22b)]),'fileName':_0x5d1f9c['id'],'data':_0x5d1f9c});});}catch(_0x43bd9c){return _0x43bd9c;}}async[a0_0x32cdd8(0x614)](_0x3f5ccc){const _0x445dc6=a0_0x32cdd8;try{if(this[_0x445dc6(0x5b3)][_0x445dc6(0x391)])return await this['messageUpModel'][_0x445dc6(0x614)]({..._0x3f5ccc[_0x445dc6(0x424)]})['sort']({'datetime':-0x1})[_0x445dc6(0x4f7)](_0x3f5ccc?.['limit']??0x0);let _0x3d371d=[];if(_0x3f5ccc?.[_0x445dc6(0x424)]?.['id'])_0x3d371d['push'](JSON[_0x445dc6(0x49b)]((0x0,De[_0x445dc6(0x1ad)])((0x0,Ie[_0x445dc6(0x2d3)])(this['storePath'],_0x445dc6(0x425),_0x3f5ccc[_0x445dc6(0x424)][_0x445dc6(0x22b)],_0x3f5ccc[_0x445dc6(0x424)]['id']+'.json'),{'encoding':_0x445dc6(0x651)})));else{let _0x5b9378=(0x0,De[_0x445dc6(0x4ba)])((0x0,Ie['join'])(this[_0x445dc6(0x1b6)],_0x445dc6(0x425),_0x3f5ccc['where'][_0x445dc6(0x22b)]),{'encoding':_0x445dc6(0x651)});for await(let _0x553854 of _0x5b9378)_0x553854[_0x445dc6(0x5d7)]()&&_0x3d371d[_0x445dc6(0x58a)](JSON[_0x445dc6(0x49b)]((0x0,De[_0x445dc6(0x1ad)])((0x0,Ie[_0x445dc6(0x2d3)])(this[_0x445dc6(0x1b6)],_0x445dc6(0x425),_0x3f5ccc[_0x445dc6(0x424)]['owner'],_0x553854[_0x445dc6(0x127)]),{'encoding':_0x445dc6(0x651)})));}return _0x3d371d[_0x445dc6(0xf1)]((_0x204b00,_0x41c8ad)=>_0x41c8ad[_0x445dc6(0x241)]-_0x204b00[_0x445dc6(0x241)])[_0x445dc6(0x680)](0x0,_0x3f5ccc?.[_0x445dc6(0x4f7)]??_0x3d371d[_0x445dc6(0x4d2)]);}catch{return[];}}async['delete'](_0x4f9d39){const _0x3e2206=a0_0x32cdd8;try{if(this['dbSettings']['ENABLED'])return await this[_0x3e2206(0x155)][_0x3e2206(0x37d)]({..._0x4f9d39[_0x3e2206(0x424)]});}catch(_0x153bf8){return console[_0x3e2206(0x334)](_0x3e2206(0x1d0),_0x153bf8),_0x153bf8;}}},b=class{},ot=class extends L{constructor(..._0x5d9e3a){const _0x2fe7b8=a0_0x32cdd8;super(),this[_0x2fe7b8(0x371)]=(0x0,Ka[_0x2fe7b8(0x4f1)])(),this[_0x2fe7b8(0x371)][_0x2fe7b8(0x325)](this['routerPath']('updatePresence'),..._0x5d9e3a,async(_0x1b8686,_0x326753)=>{const _0x4ce04e=_0x2fe7b8;let _0x51eeaa=await this[_0x4ce04e(0x602)]({'request':_0x1b8686,'schema':Ua,'ClassRef':Ge,'execute':(_0xaaaca7,_0x17ded8)=>P[_0x4ce04e(0x1ab)](_0xaaaca7,_0x17ded8)});return _0x326753[_0x4ce04e(0x440)](0xc9)[_0x4ce04e(0x3e5)](_0x51eeaa);})[_0x2fe7b8(0x325)](this['routerPath'](_0x2fe7b8(0x4f5)),..._0x5d9e3a,async(_0x40926d,_0x3c5a28)=>{const _0x934cc=_0x2fe7b8;let _0x339264=await this['dataValidate']({'request':_0x40926d,'schema':Ra,'ClassRef':Je,'execute':(_0x271380,_0x442127)=>P['whatsappNumber'](_0x271380,_0x442127)});return _0x3c5a28['status'](0xc9)[_0x934cc(0x3e5)](_0x339264);})[_0x2fe7b8(0x325)](this['routerPath'](_0x2fe7b8(0xec)),..._0x5d9e3a,async(_0x4894e3,_0xc51fe1)=>{const _0x3df89c=_0x2fe7b8;let _0x540c7f=await this[_0x3df89c(0x602)]({'request':_0x4894e3,'schema':v,'ClassRef':b,'execute':(_0x1fe10e,_0x196ec4)=>P[_0x3df89c(0xec)](_0x1fe10e,_0x196ec4)});return _0xc51fe1['status'](0xc9)[_0x3df89c(0x3e5)](_0x540c7f);})[_0x2fe7b8(0x4e5)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x546)),..._0x5d9e3a,async(_0x1dfe90,_0x4c9f17)=>{const _0x1fc862=_0x2fe7b8;let _0x505511=await this[_0x1fc862(0x602)]({'request':_0x1dfe90,'schema':Aa,'ClassRef':He,'execute':(_0x55dd62,_0x4615f3)=>P[_0x1fc862(0x65e)](_0x55dd62,_0x4615f3)});return _0x4c9f17[_0x1fc862(0x440)](0xc9)[_0x1fc862(0x3e5)](_0x505511);})['put'](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x502)),..._0x5d9e3a,async(_0x37a238,_0x1ccb37)=>{const _0x58c4f8=_0x2fe7b8;let _0x4b27ed=await this[_0x58c4f8(0x602)]({'request':_0x37a238,'schema':Da,'ClassRef':Ke,'execute':(_0x373026,_0x45abd4)=>P['archiveChat'](_0x373026,_0x45abd4)});return _0x1ccb37['status'](0xc9)[_0x58c4f8(0x3e5)](_0x4b27ed);})['delete'](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x583)),..._0x5d9e3a,async(_0x538019,_0x13b218)=>{const _0x1edb05=_0x2fe7b8;let _0x1c64a4=await this[_0x1edb05(0x602)]({'request':_0x538019,'schema':Pa,'ClassRef':Qe,'execute':(_0x5058ab,_0x53d043)=>P[_0x1edb05(0x2d9)](_0x5058ab,_0x53d043)});return _0x13b218['status'](0xc9)[_0x1edb05(0x3e5)](_0x1c64a4);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)]('fetchProfilePictureUrl'),..._0x5d9e3a,async(_0x1755b1,_0x3449bf)=>{const _0x7b2be7=_0x2fe7b8;let _0x425761=await this[_0x7b2be7(0x602)]({'request':_0x1755b1,'schema':Te,'ClassRef':Ce,'execute':(_0x3372d1,_0x3f021a)=>P[_0x7b2be7(0x631)](_0x3372d1,_0x3f021a)});return _0x3449bf[_0x7b2be7(0x440)](0xc8)[_0x7b2be7(0x3e5)](_0x425761);})[_0x2fe7b8(0x325)](this['routerPath']('fetchProfile'),..._0x5d9e3a,async(_0x2fde0d,_0xd82c38)=>{const _0x14e684=_0x2fe7b8;let _0x34cc1d=await this['dataValidate']({'request':_0x2fde0d,'schema':$a,'ClassRef':Ce,'execute':(_0x2b7b36,_0x317fb5)=>P[_0x14e684(0x35d)](_0x2b7b36,_0x317fb5)});return _0xd82c38[_0x14e684(0x440)](0xc8)[_0x14e684(0x3e5)](_0x34cc1d);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x630)),..._0x5d9e3a,async(_0x4bd068,_0x233187)=>{const _0x1c98f4=_0x2fe7b8;let _0x1282ce=await this['dataValidate']({'request':_0x4bd068,'schema':Oa,'ClassRef':Ze,'execute':(_0x5dacd0,_0x3ed548)=>P[_0x1c98f4(0x5db)](_0x5dacd0,_0x3ed548)});return _0x233187[_0x1c98f4(0x440)](0xc8)[_0x1c98f4(0x3e5)](_0x1282ce);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x3dd)),..._0x5d9e3a,async(_0x5ce94a,_0x5b44b4)=>{const _0x245c7d=_0x2fe7b8;let _0x1dac11=await this[_0x245c7d(0x602)]({'request':_0x5ce94a,'schema':null,'ClassRef':Object,'execute':(_0x287706,_0x3f1583)=>P['getBase64FromMediaMessage'](_0x287706,_0x3f1583)});return _0x5b44b4[_0x245c7d(0x440)](0xc9)[_0x245c7d(0x3e5)](_0x1dac11);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)]('findMessages'),..._0x5d9e3a,async(_0x17b350,_0x4d5efd)=>{const _0x503d57=_0x2fe7b8;let _0x25a2da=await this[_0x503d57(0x602)]({'request':_0x17b350,'schema':ka,'ClassRef':Ve,'execute':(_0x37873c,_0x386526)=>P['fetchMessages'](_0x37873c,_0x386526)});return _0x4d5efd[_0x503d57(0x440)](0xc8)[_0x503d57(0x3e5)](_0x25a2da);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)]('findStatusMessage'),..._0x5d9e3a,async(_0x49b2af,_0x5496e9)=>{const _0x23d4e1=_0x2fe7b8;let _0x5630ee=await this[_0x23d4e1(0x602)]({'request':_0x49b2af,'schema':La,'ClassRef':st,'execute':(_0x3284a2,_0x2c0fc6)=>P[_0x23d4e1(0x23e)](_0x3284a2,_0x2c0fc6)});return _0x5496e9['status'](0xc8)[_0x23d4e1(0x3e5)](_0x5630ee);})['get'](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x100)),..._0x5d9e3a,async(_0x41426a,_0x4f964f)=>{const _0xf56710=_0x2fe7b8;let _0x475c7e=await this[_0xf56710(0x602)]({'request':_0x41426a,'schema':null,'ClassRef':b,'execute':_0x10df62=>P[_0xf56710(0x205)](_0x10df62)});return _0x4f964f[_0xf56710(0x440)](0xc8)['json'](_0x475c7e);})[_0x2fe7b8(0x43a)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x1a2)),..._0x5d9e3a,async(_0x315cdb,_0x43cd0c)=>{const _0x3270bf=_0x2fe7b8;let _0x294c49=await this['dataValidate']({'request':_0x315cdb,'schema':null,'ClassRef':b,'execute':_0xe4d535=>P[_0x3270bf(0x1a2)](_0xe4d535)});return _0x43cd0c[_0x3270bf(0x440)](0xc8)[_0x3270bf(0x3e5)](_0x294c49);})[_0x2fe7b8(0x4e5)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x4c3)),..._0x5d9e3a,async(_0x43833c,_0x280ad8)=>{const _0x125469=_0x2fe7b8;let _0x45558d=await this['dataValidate']({'request':_0x43833c,'schema':Ia,'ClassRef':ze,'execute':(_0x56fd93,_0xd6683)=>P['updatePrivacySettings'](_0x56fd93,_0xd6683)});return _0x280ad8[_0x125469(0x440)](0xc9)[_0x125469(0x3e5)](_0x45558d);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)]('fetchBusinessProfile'),..._0x5d9e3a,async(_0x2e9217,_0x5ecdfb)=>{const _0x1138c9=_0x2fe7b8;let _0x40c194=await this[_0x1138c9(0x602)]({'request':_0x2e9217,'schema':Te,'ClassRef':we,'execute':(_0x41b62f,_0x4c2fc0)=>P['fetchBusinessProfile'](_0x41b62f,_0x4c2fc0)});return _0x5ecdfb[_0x1138c9(0x440)](0xc8)[_0x1138c9(0x3e5)](_0x40c194);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)]('updateProfileName'),..._0x5d9e3a,async(_0x2e0809,_0x458038)=>{const _0x103bd0=_0x2fe7b8;let _0xccd88f=await this['dataValidate']({'request':_0x2e0809,'schema':_a,'ClassRef':qe,'execute':(_0x92d215,_0x5af2d4)=>P[_0x103bd0(0x677)](_0x92d215,_0x5af2d4)});return _0x458038[_0x103bd0(0x440)](0xc8)[_0x103bd0(0x3e5)](_0xccd88f);})[_0x2fe7b8(0x325)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x51e)),..._0x5d9e3a,async(_0x51f205,_0x1207a1)=>{const _0x14df46=_0x2fe7b8;let _0x705047=await this[_0x14df46(0x602)]({'request':_0x51f205,'schema':xa,'ClassRef':We,'execute':(_0x29eb90,_0x41c239)=>P['updateProfileStatus'](_0x29eb90,_0x41c239)});return _0x1207a1[_0x14df46(0x440)](0xc8)[_0x14df46(0x3e5)](_0x705047);})[_0x2fe7b8(0x4e5)](this[_0x2fe7b8(0x409)](_0x2fe7b8(0x427)),..._0x5d9e3a,async(_0x5bdd37,_0x3f639e)=>{const _0x432c8d=_0x2fe7b8;let _0x580d67=await this[_0x432c8d(0x602)]({'request':_0x5bdd37,'schema':Te,'ClassRef':we,'execute':(_0x3c4f0c,_0x38839c)=>P[_0x432c8d(0x427)](_0x3c4f0c,_0x38839c)});return _0x3f639e[_0x432c8d(0x440)](0xc8)['json'](_0x580d67);})[_0x2fe7b8(0x411)](this['routerPath'](_0x2fe7b8(0x2ea)),..._0x5d9e3a,async(_0x43943c,_0x56a4c9)=>{const _0x4a34d8=_0x2fe7b8;let _0x2dd58f=await this[_0x4a34d8(0x602)]({'request':_0x43943c,'schema':Te,'ClassRef':we,'execute':(_0x46513b,_0x25a5ef)=>P[_0x4a34d8(0x2ea)](_0x46513b,_0x25a5ef)});return _0x56a4c9[_0x4a34d8(0x440)](0xc8)[_0x4a34d8(0x3e5)](_0x2dd58f);});}},za=require(a0_0x32cdd8(0x27d)),it=class{},rt=class{},nt=class{},ct=class{},lt=class{},ee=class{},ut=class{},dt=class extends ee{},pt=class extends ee{},gt=class extends L{constructor(..._0xbda9fa){const _0x4045ff=a0_0x32cdd8;super(),this['router']=(0x0,za[_0x4045ff(0x4f1)])(),this[_0x4045ff(0x371)][_0x4045ff(0x325)](this[_0x4045ff(0x409)](_0x4045ff(0x2c3)),..._0xbda9fa,async(_0x14d446,_0x4b8415)=>{const _0x5c8cc2=_0x4045ff;let _0x3736e2=await this[_0x5c8cc2(0x602)]({'request':_0x14d446,'schema':Va,'ClassRef':it,'execute':(_0x271484,_0x561de6)=>V['createGroup'](_0x271484,_0x561de6)});_0x4b8415[_0x5c8cc2(0x440)](0xc9)[_0x5c8cc2(0x3e5)](_0x3736e2);})['put'](this[_0x4045ff(0x409)](_0x4045ff(0x5ab)),..._0xbda9fa,async(_0x4c29a0,_0x367fd6)=>{const _0xd7dae8=_0x4045ff;let _0x7ce147=await this['groupValidate']({'request':_0x4c29a0,'schema':Fa,'ClassRef':rt,'execute':(_0x1b1916,_0x447db6)=>V[_0xd7dae8(0x5ab)](_0x1b1916,_0x447db6)});_0x367fd6['status'](0xc9)[_0xd7dae8(0x3e5)](_0x7ce147);})[_0x4045ff(0x4e5)](this[_0x4045ff(0x409)]('groupDesc'),..._0xbda9fa,async(_0x5358c2,_0xb010b4)=>{const _0x5bf8bd=_0x4045ff;let _0x11a6b9=await this[_0x5bf8bd(0x635)]({'request':_0x5358c2,'schema':Ga,'ClassRef':nt,'execute':(_0x4cd1b3,_0x2162b8)=>V['groupDesc'](_0x4cd1b3,_0x2162b8)});_0xb010b4[_0x5bf8bd(0x440)](0xc9)[_0x5bf8bd(0x3e5)](_0x11a6b9);})[_0x4045ff(0x4e5)](this[_0x4045ff(0x409)](_0x4045ff(0xcf)),..._0xbda9fa,async(_0x510c0f,_0x312268)=>{const _0x20e046=_0x4045ff;let _0x245b28=await this[_0x20e046(0x635)]({'request':_0x510c0f,'schema':Ja,'ClassRef':ct,'execute':(_0x4098cd,_0x3de40c)=>V[_0x20e046(0xcf)](_0x4098cd,_0x3de40c)});_0x312268[_0x20e046(0x440)](0xc9)[_0x20e046(0x3e5)](_0x245b28);})['put'](this[_0x4045ff(0x409)]('groupSetting'),..._0xbda9fa,async(_0x5d90b6,_0x332aa4)=>{const _0x29c460=_0x4045ff;let _0x4cee14=await this[_0x29c460(0x635)]({'request':_0x5d90b6,'schema':qa,'ClassRef':lt,'execute':(_0x5673a1,_0x26fe2c)=>V[_0x29c460(0x573)](_0x5673a1,_0x26fe2c)});_0x332aa4[_0x29c460(0x440)](0xc9)[_0x29c460(0x3e5)](_0x4cee14);})[_0x4045ff(0x4e5)](this[_0x4045ff(0x409)](_0x4045ff(0x547)),..._0xbda9fa,async(_0x4c1307,_0x215b39)=>{const _0x2d3e98=_0x4045ff;let _0x5605b0=await this['groupValidate']({'request':_0x4c1307,'schema':Ba,'ClassRef':pt,'execute':(_0x5ccaa8,_0xbf0e40)=>V[_0x2d3e98(0x547)](_0x5ccaa8,_0xbf0e40)});_0x215b39['status'](0xc9)[_0x2d3e98(0x3e5)](_0x5605b0);})[_0x4045ff(0x43a)](this[_0x4045ff(0x409)]('findGroupInfos'),..._0xbda9fa,async(_0xbb63e5,_0x1a7055)=>{const _0x4aa1c7=_0x4045ff;let _0x484cc9=await this[_0x4aa1c7(0x635)]({'request':_0xbb63e5,'schema':Me,'ClassRef':ee,'execute':(_0x22038a,_0xfeff8e)=>V['findGroupInfo'](_0x22038a,_0xfeff8e)});_0x1a7055['status'](0xc8)['json'](_0x484cc9);})[_0x4045ff(0x43a)](this['routerPath'](_0x4045ff(0x68a)),..._0xbda9fa,async(_0x245e1e,_0x434b33)=>{const _0x6a4c8b=_0x4045ff;let _0x28aea5=await this[_0x6a4c8b(0x602)]({'request':_0x245e1e,'schema':v,'ClassRef':b,'execute':_0x1ae1ae=>V[_0x6a4c8b(0x68a)](_0x1ae1ae)});_0x434b33[_0x6a4c8b(0x440)](0xc8)[_0x6a4c8b(0x3e5)](_0x28aea5);})[_0x4045ff(0x43a)](this[_0x4045ff(0x409)]('participants'),..._0xbda9fa,async(_0x3b8aec,_0x25e8fe)=>{const _0x3f6c7a=_0x4045ff;let _0x40f595=await this[_0x3f6c7a(0x635)]({'request':_0x3b8aec,'schema':Me,'ClassRef':ee,'execute':(_0xb6d9f7,_0x4e4009)=>V[_0x3f6c7a(0x43d)](_0xb6d9f7,_0x4e4009)});_0x25e8fe[_0x3f6c7a(0x440)](0xc8)[_0x3f6c7a(0x3e5)](_0x40f595);})[_0x4045ff(0x43a)](this['routerPath']('inviteCode'),..._0xbda9fa,async(_0x37b131,_0x3a046f)=>{const _0x3209f5=_0x4045ff;let _0x16a502=await this[_0x3209f5(0x635)]({'request':_0x37b131,'schema':Me,'ClassRef':ee,'execute':(_0x4dafde,_0x3ad4d8)=>V[_0x3209f5(0x369)](_0x4dafde,_0x3ad4d8)});_0x3a046f[_0x3209f5(0x440)](0xc8)[_0x3209f5(0x3e5)](_0x16a502);})[_0x4045ff(0x4e5)](this['routerPath']('joinGroup'),..._0xbda9fa,async(_0xcd275d,_0x2965da)=>{const _0x1e9ab1=_0x4045ff;let _0x1b9a8f=await this[_0x1e9ab1(0x114)]({'request':_0xcd275d,'schema':Wa,'ClassRef':ut,'execute':(_0x8b8ed5,_0x20a50c)=>V[_0x1e9ab1(0x1a4)](_0x8b8ed5,_0x20a50c)});_0x2965da[_0x1e9ab1(0x440)](0xc9)[_0x1e9ab1(0x3e5)](_0x1b9a8f);})[_0x4045ff(0x4e5)](this[_0x4045ff(0x409)](_0x4045ff(0x34f)),..._0xbda9fa,async(_0x314ee8,_0x14b943)=>{const _0x2f9f57=_0x4045ff;let _0x499d91=await this[_0x2f9f57(0x635)]({'request':_0x314ee8,'schema':Me,'ClassRef':ee,'execute':(_0x19fc0e,_0x5d2438)=>V[_0x2f9f57(0x34f)](_0x19fc0e,_0x5d2438)});_0x14b943[_0x2f9f57(0x440)](0xc9)['json'](_0x499d91);})['put'](this['routerPath']('updateParticipant'),..._0xbda9fa,async(_0x43f369,_0x37181b)=>{const _0x5d937a=_0x4045ff;let _0x27e065=await this[_0x5d937a(0x635)]({'request':_0x43f369,'schema':ja,'ClassRef':dt,'execute':(_0x96e0c3,_0x497765)=>V[_0x5d937a(0x4ac)](_0x96e0c3,_0x497765)});_0x37181b['status'](0xc9)[_0x5d937a(0x3e5)](_0x27e065);})[_0x4045ff(0x411)](this[_0x4045ff(0x409)]('leaveGroup'),..._0xbda9fa,async(_0x216ba5,_0x443371)=>{const _0x192ea6=_0x4045ff;let _0x3eb602=await this[_0x192ea6(0x635)]({'request':_0x216ba5,'schema':{},'ClassRef':ee,'execute':(_0x514134,_0x207368)=>V[_0x192ea6(0x57d)](_0x514134,_0x207368)});_0x443371[_0x192ea6(0x440)](0xc8)[_0x192ea6(0x3e5)](_0x3eb602);});}},Xa=require(a0_0x32cdd8(0x27d)),Pe=require(a0_0x32cdd8(0x536)),ys=require(a0_0x32cdd8(0x1c1)),Qa=require(a0_0x32cdd8(0x4d5)),Ya=T(require(a0_0x32cdd8(0x2b6))),mt=class{},ht=class c{constructor(_0x558c62,_0x12ec6b,_0xe97783){const _0x12d2b4=a0_0x32cdd8;this[_0x12d2b4(0x3d0)]=_0x558c62,this[_0x12d2b4(0x430)]=_0x12ec6b,this[_0x12d2b4(0x620)]=_0xe97783,this[_0x12d2b4(0x249)]=new C(c[_0x12d2b4(0x127)]);}async[a0_0x32cdd8(0x3ff)](_0x1009b5){const _0x23142e=a0_0x32cdd8;let _0x33dfc3=this[_0x23142e(0x3d0)][_0x23142e(0x43a)]('AUTHENTICATION')[_0x23142e(0x375)],_0x34d940=(0x0,Pe['sign'])({'instanceName':_0x1009b5['instanceName'],'apiName':Xe,'tokenId':(0x0,ys['v4'])()},_0x33dfc3['SECRET'],{'expiresIn':_0x33dfc3['EXPIRIN_IN'],'encoding':_0x23142e(0x699),'subject':_0x23142e(0x4fc)}),_0x5b65cc=await this[_0x23142e(0x620)][_0x23142e(0x52c)][_0x23142e(0x2c3)]({'jwt':_0x34d940},_0x1009b5[_0x23142e(0x128)]);if(_0x5b65cc[_0x23142e(0x334)])throw this[_0x23142e(0x249)][_0x23142e(0x334)]({'localError':c[_0x23142e(0x127)]+_0x23142e(0x28a),'error':_0x5b65cc[_0x23142e(0x334)]}),new g(_0x23142e(0x62e),_0x5b65cc[_0x23142e(0x334)]?.[_0x23142e(0x616)]());return{'jwt':_0x34d940};}async[a0_0x32cdd8(0x363)](_0x1b8891){const _0x2df77c=a0_0x32cdd8;let _0xe6b305=(0x0,ys['v4'])()[_0x2df77c(0x1cb)](),_0x1be0e2=await this[_0x2df77c(0x620)]['auth'][_0x2df77c(0x2c3)]({'apikey':_0xe6b305},_0x1b8891[_0x2df77c(0x128)]);if(_0x1be0e2['error'])throw this[_0x2df77c(0x249)][_0x2df77c(0x334)]({'localError':c[_0x2df77c(0x127)]+_0x2df77c(0x28a),'error':_0x1be0e2[_0x2df77c(0x334)]}),new g('Authentication\x20error',_0x1be0e2['error']?.['toString']());return{'apikey':_0xe6b305};}async[a0_0x32cdd8(0x579)](_0x4c5179){const _0x494196=a0_0x32cdd8;let _0x20c318=this[_0x494196(0x3d0)]['get']('AUTHENTICATION');return await this[_0x20c318[_0x494196(0x611)]](_0x4c5179);}async[a0_0x32cdd8(0x366)]({oldToken:_0x2b79c5}){const _0xe39db=a0_0x32cdd8;if(!(0x0,Qa['isJWT'])(_0x2b79c5))throw new g(_0xe39db(0x1b3));try{let _0x47ef98=this[_0xe39db(0x3d0)]['get'](_0xe39db(0x4f2))[_0xe39db(0x375)],_0x4092a1=(0x0,Pe['verify'])(_0x2b79c5,_0x47ef98['SECRET'],{'ignoreExpiration':!0x0}),_0x2d0ad7=await this['repository'][_0xe39db(0x52c)]['find'](_0x4092a1[_0xe39db(0x128)]),_0x8acb1a=(0x0,Pe[_0xe39db(0x200)])(_0x2d0ad7[_0xe39db(0x3ff)],_0x47ef98[_0xe39db(0x256)],{'ignoreExpiration':!0x0});if(_0x4092a1[_0xe39db(0x29d)]!==_0x8acb1a['tokenId'])throw new g(_0xe39db(0x1b3));let _0x3a5dbf={'jwt':(await this['jwt']({'instanceName':_0x4092a1[_0xe39db(0x128)]}))[_0xe39db(0x3ff)],'instanceName':_0x4092a1[_0xe39db(0x128)]};try{let _0x427fa8=await this['repository'][_0xe39db(0x60d)][_0xe39db(0x614)](_0x4092a1[_0xe39db(0x128)]);_0x427fa8?.[_0xe39db(0x63c)]&&this[_0xe39db(0x3d0)]['get'](_0xe39db(0x36c))[_0xe39db(0x399)][_0xe39db(0x2aa)]&&await Ya[_0xe39db(0x3eb)]['create']({'baseURL':_0x427fa8[_0xe39db(0x176)]})[_0xe39db(0x325)]('',{'event':_0xe39db(0x28c),'instance':_0x4092a1['instanceName'],'data':_0x3a5dbf},{'params':{'owner':this[_0xe39db(0x430)][_0xe39db(0x24e)][_0x4092a1[_0xe39db(0x128)]]['wuid']}});}catch(_0x242a9c){this[_0xe39db(0x249)][_0xe39db(0x334)](_0x242a9c);}return _0x3a5dbf;}catch(_0xf9003f){throw this[_0xe39db(0x249)][_0xe39db(0x334)]({'localError':c[_0xe39db(0x127)]+_0xe39db(0x4b6),'error':_0xf9003f}),new g(_0xe39db(0x1b3));}}},ft=class extends L{constructor(_0x4c188d,..._0x137943){const _0x3585d3=a0_0x32cdd8;super(),this[_0x3585d3(0x3d0)]=_0x4c188d,this['router']=(0x0,Xa[_0x3585d3(0x4f1)])();let _0x588ac0=_0x4c188d[_0x3585d3(0x43a)]('AUTHENTICATION');this[_0x3585d3(0x371)]['post']('/create',..._0x137943,async(_0x3277ab,_0xb7968)=>{const _0x5e9870=_0x3585d3;let {instanceName:_0x381be1,apikey:_0x4710c9}=_0x3277ab[_0x5e9870(0x106)],_0x561a26=await ce[_0x5e9870(0x13f)]({'instanceName':_0x381be1,'apikey':_0x4710c9});return _0xb7968['status'](0xc9)[_0x5e9870(0x3e5)](_0x561a26);})[_0x3585d3(0x4e5)](this[_0x3585d3(0x409)](_0x3585d3(0xe6)),..._0x137943,async(_0x183e27,_0x2c950c)=>{const _0x258698=_0x3585d3;let _0x356f25=await this[_0x258698(0x602)]({'request':_0x183e27,'schema':v,'ClassRef':b,'execute':_0x59f753=>ce['restartInstance'](_0x59f753)});return _0x2c950c[_0x258698(0x440)](0xc8)[_0x258698(0x3e5)](_0x356f25);})[_0x3585d3(0x43a)](this['routerPath'](_0x3585d3(0x5fc)),..._0x137943,async(_0x3c4cd6,_0x3bf20c)=>{const _0x5c81a1=_0x3585d3;let _0x302e5f=await this[_0x5c81a1(0x602)]({'request':_0x3c4cd6,'schema':v,'ClassRef':b,'execute':_0x160015=>ce['connectToWhatsapp'](_0x160015)});return _0x3bf20c['status'](0xc8)[_0x5c81a1(0x3e5)](_0x302e5f);})[_0x3585d3(0x43a)](this[_0x3585d3(0x409)](_0x3585d3(0x55b)),..._0x137943,async(_0x3d17f8,_0x182341)=>{const _0x4a0c10=_0x3585d3;let _0x1c25bf=await this[_0x4a0c10(0x602)]({'request':_0x3d17f8,'schema':v,'ClassRef':b,'execute':_0x11b0f5=>ce[_0x4a0c10(0x55b)](_0x11b0f5)});return _0x182341['status'](0xc8)[_0x4a0c10(0x3e5)](_0x1c25bf);})[_0x3585d3(0x43a)](this[_0x3585d3(0x409)](_0x3585d3(0x4dd),!0x1),..._0x137943,async(_0x2ac989,_0x487d7a)=>{const _0x3e0ec2=_0x3585d3;let _0x26ca9b=await this['dataValidate']({'request':_0x2ac989,'schema':null,'ClassRef':b,'execute':_0x26d67f=>ce[_0x3e0ec2(0x4dd)](_0x26d67f)});return _0x487d7a[_0x3e0ec2(0x440)](0xc8)['json'](_0x26ca9b);})[_0x3585d3(0x411)](this[_0x3585d3(0x409)](_0x3585d3(0x3c7)),..._0x137943,async(_0xf2813d,_0x50dc28)=>{const _0x2c971a=_0x3585d3;let _0x5d95cf=await this[_0x2c971a(0x602)]({'request':_0xf2813d,'schema':v,'ClassRef':b,'execute':_0x51e484=>ce[_0x2c971a(0x3c7)](_0x51e484)});return _0x50dc28[_0x2c971a(0x440)](0xc8)[_0x2c971a(0x3e5)](_0x5d95cf);})[_0x3585d3(0x411)](this['routerPath'](_0x3585d3(0x411)),..._0x137943,async(_0x1e7560,_0xcdefe5)=>{const _0x323c92=_0x3585d3;let _0x6fee1a=await this['dataValidate']({'request':_0x1e7560,'schema':v,'ClassRef':b,'execute':_0x54cc6f=>ce['deleteInstance'](_0x54cc6f)});return _0xcdefe5[_0x323c92(0x440)](0xc8)[_0x323c92(0x3e5)](_0x6fee1a);}),_0x588ac0['TYPE']===_0x3585d3(0x3ff)&&this[_0x3585d3(0x371)][_0x3585d3(0x4e5)]('/refreshToken',async(_0x13e1f2,_0x3a02c1)=>{const _0x496d71=_0x3585d3;let _0x2ec01d=await this['dataValidate']({'request':_0x13e1f2,'schema':ma,'ClassRef':mt,'execute':(_0x3e2cd0,_0x3299e8)=>ce['refreshToken'](_0x3e2cd0,_0x3299e8)});return _0x3a02c1[_0x496d71(0x440)](0xc9)[_0x496d71(0x3e5)](_0x2ec01d);});}},Za=require(a0_0x32cdd8(0x27d)),bs=class{},z=class extends bs{},wt=class extends z{},yt=class extends z{},bt=class extends z{},Oe=class extends z{},St=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Ct=class extends z{},Tt=class{},Mt=class extends L{constructor(..._0x3407e6){const _0x34dc99=a0_0x32cdd8;super(),this[_0x34dc99(0x371)]=(0x0,Za[_0x34dc99(0x4f1)])(),this[_0x34dc99(0x371)]['post'](this[_0x34dc99(0x409)](_0x34dc99(0x32c)),..._0x3407e6,async(_0x14b0ab,_0x1d0729)=>{const _0x5c6e6b=_0x34dc99;let _0x504dec=await this[_0x5c6e6b(0x602)]({'request':_0x14b0ab,'schema':ha,'ClassRef':wt,'execute':(_0x4866c0,_0x267ec3)=>K[_0x5c6e6b(0x32c)](_0x4866c0,_0x267ec3)});return _0x1d0729['status'](0xc9)[_0x5c6e6b(0x3e5)](_0x504dec);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)](_0x34dc99(0x122)),..._0x3407e6,async(_0x511996,_0x4d18b9)=>{const _0x3c3ffb=_0x34dc99;let _0x8b8dc=await this['dataValidate']({'request':_0x511996,'schema':ba,'ClassRef':Oe,'execute':(_0x1b91ab,_0x3640ec)=>K[_0x3c3ffb(0x122)](_0x1b91ab,_0x3640ec)});return _0x4d18b9['status'](0xc9)[_0x3c3ffb(0x3e5)](_0x8b8dc);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)]('sendWhatsAppAudio'),..._0x3407e6,async(_0x3aa7a3,_0x214814)=>{const _0x4de132=_0x34dc99;let _0x324f44=await this[_0x4de132(0x602)]({'request':_0x3aa7a3,'schema':Sa,'ClassRef':Oe,'execute':(_0x100318,_0x176c53)=>K[_0x4de132(0x198)](_0x100318,_0x176c53)});return _0x214814['status'](0xc9)['json'](_0x324f44);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)]('sendButtons'),..._0x3407e6,async(_0x312e01,_0x6d6b2d)=>{const _0x3624d4=_0x34dc99;let _0x203711=await this[_0x3624d4(0x602)]({'request':_0x312e01,'schema':va,'ClassRef':Et,'execute':(_0x167339,_0x1f91c8)=>K['sendButtons'](_0x167339,_0x1f91c8)});return _0x6d6b2d[_0x3624d4(0x440)](0xc9)[_0x3624d4(0x3e5)](_0x203711);})['post'](this['routerPath'](_0x34dc99(0x68c)),..._0x3407e6,async(_0x508302,_0xcf08be)=>{const _0x163eb0=_0x34dc99;let _0x58abbe=await this[_0x163eb0(0x602)]({'request':_0x508302,'schema':Na,'ClassRef':vt,'execute':(_0x3bd295,_0x2e0362)=>K['sendLocation'](_0x3bd295,_0x2e0362)});return _0xcf08be['status'](0xc9)[_0x163eb0(0x3e5)](_0x58abbe);})[_0x34dc99(0x325)](this['routerPath'](_0x34dc99(0x1c3)),..._0x3407e6,async(_0x1e3654,_0x58a18c)=>{const _0x49b6f4=_0x34dc99;let _0x587bf7=await this[_0x49b6f4(0x602)]({'request':_0x1e3654,'schema':Ca,'ClassRef':Nt,'execute':(_0x1231a7,_0x162aed)=>K[_0x49b6f4(0x1c3)](_0x1231a7,_0x162aed)});return _0x58a18c[_0x49b6f4(0x440)](0xc9)[_0x49b6f4(0x3e5)](_0x587bf7);})['post'](this[_0x34dc99(0x409)](_0x34dc99(0x61c)),..._0x3407e6,async(_0x31843a,_0x44d473)=>{const _0x3825a4=_0x34dc99;let _0x334a64=await this[_0x3825a4(0x602)]({'request':_0x31843a,'schema':Ta,'ClassRef':Ct,'execute':(_0x5638b0,_0x2d8b24)=>K[_0x3825a4(0x61c)](_0x5638b0,_0x2d8b24)});return _0x44d473['status'](0xc9)[_0x3825a4(0x3e5)](_0x334a64);})['post'](this['routerPath'](_0x34dc99(0x3ee)),..._0x3407e6,async(_0x24e654,_0x436323)=>{const _0x3ff276=_0x34dc99;let _0x5076b2=await this['dataValidate']({'request':_0x24e654,'schema':Ma,'ClassRef':Tt,'execute':(_0x4a4b48,_0x28ba40)=>K[_0x3ff276(0x3ee)](_0x4a4b48,_0x28ba40)});return _0x436323['status'](0xc9)[_0x3ff276(0x3e5)](_0x5076b2);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)](_0x34dc99(0x3fc)),..._0x3407e6,async(_0x25d18e,_0x5c9827)=>{const _0x320e9b=_0x34dc99;let _0x1e7a61=await this[_0x320e9b(0x602)]({'request':_0x25d18e,'schema':Ea,'ClassRef':bt,'execute':(_0x18d408,_0x594f4a)=>K[_0x320e9b(0x3fc)](_0x18d408,_0x594f4a)});return _0x5c9827['status'](0xc9)[_0x320e9b(0x3e5)](_0x1e7a61);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)](_0x34dc99(0x174)),..._0x3407e6,async(_0x2019a1,_0xaface)=>{const _0x12096d=_0x34dc99;let _0x3857d6=await this[_0x12096d(0x602)]({'request':_0x2019a1,'schema':ya,'ClassRef':yt,'execute':(_0x5caa2a,_0x573f77)=>K[_0x12096d(0x174)](_0x5caa2a,_0x573f77)});return _0xaface[_0x12096d(0x440)](0xc9)[_0x12096d(0x3e5)](_0x3857d6);})[_0x34dc99(0x325)](this[_0x34dc99(0x409)](_0x34dc99(0x2b5)),..._0x3407e6,async(_0x38afdb,_0x44826d)=>{const _0x217181=_0x34dc99;let _0x24d1e9=await this[_0x217181(0x602)]({'request':_0x38afdb,'schema':wa,'ClassRef':St,'execute':(_0x2d68fd,_0x4278e2)=>K[_0x217181(0x2b5)](_0x2d68fd,_0x4278e2)});return _0x44826d['status'](0xc9)[_0x217181(0x3e5)](_0x24d1e9);});}},eo=require(a0_0x32cdd8(0x27d)),Rt=class extends L{constructor(..._0x2b8ebf){const _0x55fe75=a0_0x32cdd8;super(),this[_0x55fe75(0x371)]=(0x0,eo['Router'])(),this['router'][_0x55fe75(0x43a)](this['routerPath'](_0x55fe75(0x1c8)),..._0x2b8ebf,(_0x1951a9,_0xe7e83c)=>to[_0x55fe75(0x1c8)](_0x1951a9,_0xe7e83c));}},so=require(a0_0x32cdd8(0x27d)),At=class{},It=class extends L{constructor(..._0x4eba4b){const _0x1fa363=a0_0x32cdd8;super(),this[_0x1fa363(0x371)]=(0x0,so[_0x1fa363(0x4f1)])(),this[_0x1fa363(0x371)][_0x1fa363(0x325)](this[_0x1fa363(0x409)](_0x1fa363(0x299)),..._0x4eba4b,async(_0xba119f,_0x2fab94)=>{const _0x163d07=_0x1fa363;let _0x308e90=await this['dataValidate']({'request':_0xba119f,'schema':Ha,'ClassRef':At,'execute':(_0x295e82,_0x1209b4)=>Ss[_0x163d07(0x5fb)](_0x295e82,_0x1209b4)});_0x2fab94[_0x163d07(0x440)](0xc9)[_0x163d07(0x3e5)](_0x308e90);})[_0x1fa363(0x43a)](this[_0x1fa363(0x409)](_0x1fa363(0x614)),..._0x4eba4b,async(_0x15b341,_0x514865)=>{const _0x3a207a=_0x1fa363;let _0x13665e=await this[_0x3a207a(0x602)]({'request':_0x15b341,'schema':v,'ClassRef':b,'execute':_0x1173e9=>Ss[_0x3a207a(0x3fd)](_0x1173e9)});_0x514865[_0x3a207a(0x440)](0xc8)[_0x3a207a(0x3e5)](_0x13665e);});}},ao=require('express'),f=new C(a0_0x32cdd8(0x19f)),Dt=class extends L{constructor(..._0x3af94a){const _0x394d17=a0_0x32cdd8;super(),this[_0x394d17(0x371)]=(0x0,ao[_0x394d17(0x4f1)])(),this['router']['post'](this[_0x394d17(0x409)](_0x394d17(0x3c1)),..._0x3af94a,async(_0x159059,_0x3e58d0)=>{const _0x3ee755=_0x394d17;let _0x33c721=_0x159059[_0x3ee755(0x106)];f[_0x3ee755(0x2e8)](_0x3ee755(0x56d)),f['verbose'](_0x3ee755(0x490)),f[_0x3ee755(0x2e8)](_0x159059[_0x3ee755(0x106)]);let _0x16033d=await this[_0x3ee755(0x602)]({'request':_0x159059,'schema':v,'ClassRef':b,'execute':_0x3dfe8a=>R[_0x3ee755(0x65c)](_0x3dfe8a,_0x33c721)});_0x3e58d0[_0x3ee755(0x440)](0xc8)['json'](_0x16033d);})[_0x394d17(0x43a)](this[_0x394d17(0x409)](_0x394d17(0x3c1)),..._0x3af94a,async(_0x52de9b,_0x26c8a4)=>{const _0x27a8b7=_0x394d17;let _0x395612=await this[_0x27a8b7(0x602)]({'request':_0x52de9b,'schema':v,'ClassRef':b,'execute':_0x3d55fa=>R['getScheduleMessage'](_0x3d55fa)});_0x26c8a4[_0x27a8b7(0x440)](0xc8)['json'](_0x395612);})['delete'](this['routerPath'](_0x394d17(0x2a7)),..._0x3af94a,async(_0x344908,_0x112970)=>{const _0x53a303=_0x394d17;f['verbose'](_0x53a303(0xda));let _0x44bee4=await this[_0x53a303(0x602)]({'request':_0x344908,'schema':v,'ClassRef':b,'execute':_0x27ab76=>R['deleteDoneMessages'](_0x27ab76)});_0x112970[_0x53a303(0x440)](0xc8)[_0x53a303(0x3e5)](_0x44bee4);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x166)),..._0x3af94a,async(_0x2a6254,_0x5e2696)=>{const _0x557181=_0x394d17;let _0x3cec0f=_0x2a6254[_0x557181(0x106)];f[_0x557181(0x2e8)](_0x557181(0x3c6)),f[_0x557181(0x2e8)]('request\x20body:\x20'),f[_0x557181(0x2e8)](_0x2a6254[_0x557181(0x106)]);let _0x317ce7=await this[_0x557181(0x602)]({'request':_0x2a6254,'schema':v,'ClassRef':b,'execute':_0x4d9f84=>R[_0x557181(0x166)](_0x4d9f84,_0x3cec0f)});_0x5e2696[_0x557181(0x440)](0xc8)['json'](_0x317ce7);})[_0x394d17(0x43a)](this[_0x394d17(0x409)](_0x394d17(0x2b7)),..._0x3af94a,async(_0x33a2fc,_0x1eee49)=>{const _0x518a91=_0x394d17;f[_0x518a91(0x2e8)](_0x518a91(0x35f));let _0x128a5f=await this[_0x518a91(0x602)]({'request':_0x33a2fc,'schema':v,'ClassRef':b,'execute':_0xe69d81=>R[_0x518a91(0x2b7)](_0xe69d81)});_0x1eee49['status'](0xc8)[_0x518a91(0x3e5)](_0x128a5f);})[_0x394d17(0x43a)](this[_0x394d17(0x409)](_0x394d17(0x56e)),..._0x3af94a,async(_0x53347f,_0x4f4ff8)=>{const _0x5f4fb0=_0x394d17;f['verbose'](_0x5f4fb0(0x3cd));let _0x201626=await this[_0x5f4fb0(0x602)]({'request':_0x53347f,'schema':v,'ClassRef':b,'execute':_0x52aea6=>R[_0x5f4fb0(0x2b7)](_0x52aea6)});_0x4f4ff8[_0x5f4fb0(0x440)](0xc8)['json'](_0x201626);})[_0x394d17(0x325)](this[_0x394d17(0x409)](_0x394d17(0x4de)),..._0x3af94a,async(_0x4972bd,_0x9f8108)=>{const _0x5cb057=_0x394d17;let _0x5535fc=_0x4972bd['body'];f[_0x5cb057(0x2e8)](_0x5cb057(0xcc)),f[_0x5cb057(0x2e8)]('request\x20body:\x20'),f[_0x5cb057(0x2e8)](_0x4972bd[_0x5cb057(0x106)]);let _0x13f4c3=await this['dataValidate']({'request':_0x4972bd,'schema':v,'ClassRef':b,'execute':_0x544647=>R['updateAgent'](_0x544647,_0x5535fc)});_0x9f8108[_0x5cb057(0x440)](0xc8)[_0x5cb057(0x3e5)](_0x13f4c3);})[_0x394d17(0x325)](this[_0x394d17(0x409)]('updateCustomFields'),..._0x3af94a,async(_0x48f25e,_0x38e587)=>{const _0x2211cf=_0x394d17;let _0x5e6c85=_0x48f25e['body'];f[_0x2211cf(0x2e8)]('request\x20received\x20in\x20updateCustomFields'),f['verbose'](_0x2211cf(0x490)),f[_0x2211cf(0x2e8)](_0x48f25e[_0x2211cf(0x106)]);let _0x1a12db=await this['dataValidate']({'request':_0x48f25e,'schema':v,'ClassRef':b,'execute':_0xe9ead=>R['updateCustomFields'](_0xe9ead,_0x5e6c85)});_0x38e587[_0x2211cf(0x440)](0xc8)[_0x2211cf(0x3e5)](_0x1a12db);})['post'](this[_0x394d17(0x409)](_0x394d17(0x5ce)),..._0x3af94a,async(_0xe92b08,_0x3536df)=>{const _0x54c13e=_0x394d17;let _0x504772=_0xe92b08[_0x54c13e(0x106)];f[_0x54c13e(0x2e8)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x54c13e(0x2e8)]('request\x20body:\x20'),f[_0x54c13e(0x2e8)](_0xe92b08[_0x54c13e(0x106)]);let _0x61184f=await this[_0x54c13e(0x602)]({'request':_0xe92b08,'schema':v,'ClassRef':b,'execute':_0x67ae53=>R[_0x54c13e(0x5ce)](_0x67ae53,_0x504772)});_0x3536df['status'](0xc8)['json'](_0x61184f);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x1ec)),..._0x3af94a,async(_0x55deae,_0x3aa6c8)=>{const _0x202787=_0x394d17;let _0x21e9c2=_0x55deae[_0x202787(0x106)];f[_0x202787(0x2e8)](_0x202787(0x3f9)),f[_0x202787(0x2e8)](_0x202787(0x490)),f[_0x202787(0x2e8)](_0x55deae[_0x202787(0x106)]);let _0x17837c=await this[_0x202787(0x602)]({'request':_0x55deae,'schema':v,'ClassRef':b,'execute':_0x48b3a5=>R['getConversation'](_0x48b3a5,_0x21e9c2)});_0x3aa6c8[_0x202787(0x440)](0xc8)[_0x202787(0x3e5)](_0x17837c);})[_0x394d17(0x325)](this[_0x394d17(0x409)]('fetchConversation'),..._0x3af94a,async(_0x3be3f3,_0x460365)=>{const _0x24b143=_0x394d17;let _0x25e475=_0x3be3f3[_0x24b143(0x106)];f[_0x24b143(0x2e8)](_0x24b143(0x541)),f[_0x24b143(0x2e8)](_0x24b143(0x490)),f['verbose'](_0x3be3f3[_0x24b143(0x106)]);let _0x1f409c=await this[_0x24b143(0x602)]({'request':_0x3be3f3,'schema':v,'ClassRef':b,'execute':_0x3e6749=>R[_0x24b143(0x3b4)](_0x3e6749,_0x25e475)});_0x460365[_0x24b143(0x440)](0xc8)[_0x24b143(0x3e5)](_0x1f409c);})[_0x394d17(0x325)](this[_0x394d17(0x409)](_0x394d17(0x553)),..._0x3af94a,async(_0x159cc0,_0x3940f2)=>{const _0x117ff2=_0x394d17;let _0x24a421=_0x159cc0[_0x117ff2(0x106)];f[_0x117ff2(0x2e8)](_0x117ff2(0x1a7)),f[_0x117ff2(0x2e8)](_0x117ff2(0x490)),f[_0x117ff2(0x2e8)](_0x159cc0['body']);let _0x5e6064=await this[_0x117ff2(0x602)]({'request':_0x159cc0,'schema':v,'ClassRef':b,'execute':_0x39f16c=>R[_0x117ff2(0x553)](_0x39f16c,_0x24a421)});_0x3940f2[_0x117ff2(0x440)](0xc8)[_0x117ff2(0x3e5)](_0x5e6064);})[_0x394d17(0x411)](this['routerPath'](_0x394d17(0x2e0)),..._0x3af94a,async(_0x221ed8,_0x4eac77)=>{const _0x139cb1=_0x394d17;let _0x5c8731=_0x221ed8[_0x139cb1(0x106)];f[_0x139cb1(0x2e8)](_0x139cb1(0x5a7)),f['verbose']('request\x20body:\x20'),f[_0x139cb1(0x2e8)](_0x221ed8['body']);let _0x2df2a5=await this[_0x139cb1(0x602)]({'request':_0x221ed8,'schema':v,'ClassRef':b,'execute':_0x1e2f39=>R[_0x139cb1(0x2e0)](_0x1e2f39,_0x5c8731)});_0x4eac77[_0x139cb1(0x440)](0xc8)['json'](_0x2df2a5);})['post'](this[_0x394d17(0x409)](_0x394d17(0x1b1)),..._0x3af94a,async(_0x3bc910,_0x538f23)=>{const _0x291cfa=_0x394d17;let _0x23f3c2=_0x3bc910[_0x291cfa(0x106)];f['verbose'](_0x291cfa(0x556)),f[_0x291cfa(0x2e8)](_0x291cfa(0x490)),f[_0x291cfa(0x2e8)](_0x3bc910[_0x291cfa(0x106)]);let _0x589eae=await this['dataValidate']({'request':_0x3bc910,'schema':v,'ClassRef':b,'execute':_0x509463=>R[_0x291cfa(0x4e0)](_0x509463,_0x23f3c2)});_0x538f23[_0x291cfa(0x440)](0xc8)[_0x291cfa(0x3e5)](_0x589eae);})[_0x394d17(0x325)](this[_0x394d17(0x409)]('editflow'),..._0x3af94a,async(_0x5bc346,_0x24ed0b)=>{const _0xd36bc9=_0x394d17;let _0x51cdfd=_0x5bc346[_0xd36bc9(0x106)];f[_0xd36bc9(0x2e8)]('request\x20received\x20in\x20editFlow'),f[_0xd36bc9(0x2e8)]('request\x20body:\x20'),f[_0xd36bc9(0x2e8)](_0x5bc346['body']),delete _0x51cdfd[_0xd36bc9(0x1fc)],delete _0x51cdfd['variables'],delete _0x51cdfd[_0xd36bc9(0x22a)],delete _0x51cdfd[_0xd36bc9(0x367)];let _0x3d99f3=await this[_0xd36bc9(0x602)]({'request':_0x5bc346,'schema':v,'ClassRef':b,'execute':_0x36def3=>R[_0xd36bc9(0x357)](_0x36def3,_0x51cdfd)});_0x24ed0b[_0xd36bc9(0x440)](0xc8)['json'](_0x3d99f3);})[_0x394d17(0x325)](this[_0x394d17(0x409)](_0x394d17(0x665)),..._0x3af94a,async(_0x36b1eb,_0x704ad3)=>{const _0x245f1a=_0x394d17;let _0x2566e9=_0x36b1eb[_0x245f1a(0x106)];f['verbose'](_0x245f1a(0x574)),f[_0x245f1a(0x2e8)](_0x245f1a(0x490)),f[_0x245f1a(0x2e8)](_0x36b1eb[_0x245f1a(0x106)]);let _0x17f1f8=await this[_0x245f1a(0x602)]({'request':_0x36b1eb,'schema':v,'ClassRef':b,'execute':_0x403d4c=>R[_0x245f1a(0x3df)](_0x403d4c,_0x2566e9)});_0x704ad3['status'](0xc8)[_0x245f1a(0x3e5)](_0x17f1f8);})[_0x394d17(0x325)](this[_0x394d17(0x409)](_0x394d17(0x4f3)),..._0x3af94a,async(_0x2065b8,_0x5b17d4)=>{const _0x3e12b5=_0x394d17;let _0x162f51=_0x2065b8['body'];f[_0x3e12b5(0x2e8)](_0x3e12b5(0x574)),f['verbose']('request\x20body:\x20'),f[_0x3e12b5(0x2e8)](_0x2065b8[_0x3e12b5(0x106)]);let _0x2d3d47=await this[_0x3e12b5(0x602)]({'request':_0x2065b8,'schema':v,'ClassRef':b,'execute':_0x4214bc=>R[_0x3e12b5(0x336)](_0x4214bc,_0x162f51)});_0x5b17d4[_0x3e12b5(0x440)](0xc8)[_0x3e12b5(0x3e5)](_0x2d3d47);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x2a6)),..._0x3af94a,async(_0x157d36,_0x5c9838)=>{const _0x2585df=_0x394d17;let _0x26bb78=_0x157d36[_0x2585df(0x106)];f[_0x2585df(0x2e8)](_0x2585df(0x574)),f[_0x2585df(0x2e8)](_0x2585df(0x490)),f[_0x2585df(0x2e8)](_0x157d36[_0x2585df(0x106)]);let _0x1d2341=await this['dataValidate']({'request':_0x157d36,'schema':v,'ClassRef':b,'execute':_0x2f4da1=>R[_0x2585df(0x19c)](_0x2f4da1,_0x26bb78)});_0x5c9838['status'](0xc8)[_0x2585df(0x3e5)](_0x1d2341);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x27c)),..._0x3af94a,async(_0x396b72,_0x5efca7)=>{const _0x4ecb4a=_0x394d17;let _0x33767d=_0x396b72['body'];f[_0x4ecb4a(0x2e8)](_0x4ecb4a(0x5f7)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x396b72[_0x4ecb4a(0x106)]);let _0x8d7d5a=await this['dataValidate']({'request':_0x396b72,'schema':v,'ClassRef':b,'execute':_0x1697bc=>R['editFlowGroup'](_0x1697bc,_0x33767d)});_0x5efca7[_0x4ecb4a(0x440)](0xc8)[_0x4ecb4a(0x3e5)](_0x8d7d5a);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x339)),..._0x3af94a,async(_0x200bfa,_0x2bcc9e)=>{const _0x13de9e=_0x394d17;let _0x1d1bfa=_0x200bfa['body'];f[_0x13de9e(0x2e8)](_0x13de9e(0x459)),f[_0x13de9e(0x2e8)]('request\x20body:\x20'),f['verbose'](_0x200bfa['body']);let _0x4a54f5=await this[_0x13de9e(0x602)]({'request':_0x200bfa,'schema':v,'ClassRef':b,'execute':_0x36c17a=>R[_0x13de9e(0xff)](_0x36c17a,_0x1d1bfa)});_0x2bcc9e[_0x13de9e(0x440)](0xc8)['json'](_0x4a54f5);})[_0x394d17(0x325)](this['routerPath'](_0x394d17(0x569)),..._0x3af94a,async(_0x119312,_0x11ea50)=>{const _0x3497d1=_0x394d17;let _0x250904=_0x119312[_0x3497d1(0x106)];f[_0x3497d1(0x2e8)](_0x3497d1(0xc2)),f[_0x3497d1(0x2e8)](_0x3497d1(0x490)),f[_0x3497d1(0x2e8)](_0x119312[_0x3497d1(0x106)]);let _0x52af50=await this[_0x3497d1(0x602)]({'request':_0x119312,'schema':v,'ClassRef':b,'execute':_0x3821a0=>R[_0x3497d1(0x352)](_0x3821a0,_0x250904)});_0x11ea50[_0x3497d1(0x440)](0xc8)[_0x3497d1(0x3e5)](_0x52af50);})[_0x394d17(0x325)](this[_0x394d17(0x409)](_0x394d17(0x5a1)),..._0x3af94a,async(_0x2c10fa,_0x29d918)=>{const _0x2f7fd8=_0x394d17;let _0x5dbbf5=_0x2c10fa[_0x2f7fd8(0x106)];f[_0x2f7fd8(0x2e8)](_0x2f7fd8(0xd1)),f[_0x2f7fd8(0x2e8)](_0x2f7fd8(0x490)),f['verbose'](_0x2c10fa[_0x2f7fd8(0x106)]);let _0x21ce16=await this['dataValidate']({'request':_0x2c10fa,'schema':v,'ClassRef':b,'execute':_0x393fe8=>R[_0x2f7fd8(0x50a)](_0x393fe8,_0x5dbbf5)});_0x29d918[_0x2f7fd8(0x440)](0xc8)['json'](_0x21ce16);})[_0x394d17(0x411)](this[_0x394d17(0x409)](_0x394d17(0x2dc)),..._0x3af94a,async(_0x18e455,_0x34e3ad)=>{const _0x1d1dc4=_0x394d17;let _0x38ce25=_0x18e455['body'];f['verbose'](_0x1d1dc4(0x556)),f[_0x1d1dc4(0x2e8)](_0x1d1dc4(0x490)),f[_0x1d1dc4(0x2e8)](_0x18e455[_0x1d1dc4(0x106)]);let _0x7e2323=await this[_0x1d1dc4(0x602)]({'request':_0x18e455,'schema':v,'ClassRef':b,'execute':_0x31d76d=>R['deleteFlow'](_0x31d76d,_0x38ce25)});_0x34e3ad['status'](0xc8)['json'](_0x7e2323);})['get'](this['routerPath'](_0x394d17(0x465)),..._0x3af94a,async(_0x23e6e3,_0x4d574c)=>{const _0x1c6eb4=_0x394d17;f[_0x1c6eb4(0x2e8)](_0x1c6eb4(0x53e));let _0x36384f=await this['dataValidate']({'request':_0x23e6e3,'schema':v,'ClassRef':b,'execute':_0xf7af9b=>R[_0x1c6eb4(0x550)](_0xf7af9b)});_0x4d574c[_0x1c6eb4(0x440)](0xc8)[_0x1c6eb4(0x3e5)](_0x36384f);});}},no=T(require(a0_0x32cdd8(0x2f4))),te={};function oo(_0x2a8b77,_0x520f6f,_0x295014,_0x48f576){te[_0x2a8b77]||(te[_0x2a8b77]={}),te[_0x2a8b77][_0x520f6f]={'id':_0x520f6f,'response':_0x295014,'events':_0x48f576};}function io(_0x86e79f,_0x262e85){!te[_0x86e79f]||!te[_0x86e79f][_0x262e85]||delete te[_0x86e79f][_0x262e85];}function q(_0x389869,_0x1ae39b,_0x1823db){const _0x11e812=a0_0x32cdd8;if(!te[_0x389869])return;let _0x59aea6='data:\x20'+JSON[_0x11e812(0x679)](_0x1823db)+'\x0a\x0a';Object[_0x11e812(0x5c7)](te[_0x389869])[_0x11e812(0x5dd)](_0x208b47=>{const _0x56455a=_0x11e812;_0x208b47[_0x56455a(0x3e9)][_0x56455a(0x5d1)](_0x1ae39b)&&_0x208b47[_0x56455a(0x28d)][_0x56455a(0x478)](_0x59aea6);});}function ro(){const _0x1d6b47=a0_0x32cdd8;let _0x4f22bc={};for(let _0x10fcd5 in te)_0x4f22bc[_0x10fcd5]=Object[_0x1d6b47(0x5c7)](te[_0x10fcd5])[_0x1d6b47(0x58e)](_0x42f127=>({'id':_0x42f127['id'],'events':_0x42f127[_0x1d6b47(0x3e9)]}));return _0x4f22bc;}var co=require(a0_0x32cdd8(0x1c1)),ui=no[a0_0x32cdd8(0x3eb)]['join'](__dirname,'downloads'),Ot=(0x0,Pt[a0_0x32cdd8(0x4f1)])(),di=y[a0_0x32cdd8(0x43a)](a0_0x32cdd8(0x4f2))[a0_0x32cdd8(0x611)],pe=[fs,ua,ga[di]];Ot[a0_0x32cdd8(0x1e1)](a0_0x32cdd8(0x609),Pt[a0_0x32cdd8(0x3eb)][a0_0x32cdd8(0x1ca)](ui))[a0_0x32cdd8(0x43a)](a0_0x32cdd8(0xf8),async(_0x54a297,_0x34673f)=>{const _0x18949b=a0_0x32cdd8;console[_0x18949b(0x55a)](_0x18949b(0x473));let _0x3491e4=_0x54a297[_0x18949b(0x179)][_0x18949b(0xc1)],_0x4bbf22=(_0x54a297['query'][_0x18949b(0x3e9)]||'')[_0x18949b(0x5af)](','),_0x10572f=(0x0,co['v4'])();console[_0x18949b(0x55a)](_0x18949b(0x61b),_0x3491e4),console[_0x18949b(0x55a)](_0x18949b(0x421),_0x4bbf22);let _0x5eec34=y['get'](_0x18949b(0x4f2))[_0x18949b(0x559)],_0x2aec39=_0x54a297[_0x18949b(0xc8)][_0x18949b(0x363)];if(console[_0x18949b(0x55a)](_0x18949b(0x582),_0x2aec39),_0x5eec34[_0x18949b(0x1f3)]!==_0x2aec39){console[_0x18949b(0x55a)](_0x18949b(0x667));try{let _0x41c686=await de['auth'][_0x18949b(0x614)](_0x3491e4);if(console[_0x18949b(0x55a)](_0x18949b(0x2f5),_0x41c686),!_0x41c686||_0x41c686[_0x18949b(0x363)]!==_0x2aec39)return console[_0x18949b(0x55a)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x34673f['status'](0x191)[_0x18949b(0x1e2)](_0x18949b(0x52e));}catch(_0x4e5c87){return console['error'](_0x18949b(0x105),_0x4e5c87),_0x34673f[_0x18949b(0x440)](0x191)[_0x18949b(0x1e2)]('API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.');}}if(!await Ye(_0x3491e4))return _0x34673f[_0x18949b(0x440)](0x194)[_0x18949b(0x1e2)]('Instncia\x20no\x20encontrada.');_0x34673f[_0x18949b(0x66c)](_0x18949b(0x67c),_0x18949b(0x41e)),_0x34673f[_0x18949b(0x66c)]('Cache-Control',_0x18949b(0x40e)),_0x34673f['setHeader'](_0x18949b(0x1c6),_0x18949b(0x252)),_0x34673f[_0x18949b(0x197)]();let _0x14dcb4=_0x18949b(0x374)+JSON[_0x18949b(0x679)]({'info':_0x18949b(0x349)})+'\x0a\x0a';_0x34673f[_0x18949b(0x478)](_0x14dcb4),oo(_0x3491e4,_0x10572f,_0x34673f,_0x4bbf22),_0x54a297['on'](_0x18949b(0x33c),()=>{const _0x47d8af=_0x18949b;console[_0x47d8af(0x55a)](_0x47d8af(0x329)+_0x3491e4),io(_0x3491e4,_0x10572f);});}),Ot['get'](a0_0x32cdd8(0x328),(_0x32f73a,_0xe82b12)=>{const _0x2c4b66=a0_0x32cdd8;let _0x208dbc=ro();_0xe82b12[_0x2c4b66(0x3e5)](_0x208dbc);})['get']('/',(_0x561dc5,_0x413a36)=>{const _0x2199b5=a0_0x32cdd8;let _0x31952c=y['get'](_0x2199b5(0x619)),_0x3ca483=_0x31952c&&_0x31952c['FULLCHAIN'][_0x2199b5(0x5af)]('/')[0x4];if(_0x3ca483){let _0x559565=encodeURIComponent('https://'+_0x3ca483);_0x413a36[_0x2199b5(0x41b)](_0x2199b5(0x68e)+_0x559565);}else _0x413a36[_0x2199b5(0x41b)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x32cdd8(0x4e5)]('/exit',...pe,async(_0x5c4c94,_0x50c53d)=>{const _0x2350e6=a0_0x32cdd8;try{console[_0x2350e6(0x55a)](_0x2350e6(0x590)),_0x50c53d[_0x2350e6(0x440)](0xc8)[_0x2350e6(0x3e5)]({'message':_0x2350e6(0x448)}),_0x50c53d['on'](_0x2350e6(0x2cc),()=>process[_0x2350e6(0x18e)](0x0));}catch(_0x4206af){console[_0x2350e6(0x334)](_0x2350e6(0x4a7),_0x4206af),_0x50c53d[_0x2350e6(0x440)](0x1f4)[_0x2350e6(0x3e5)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['use'](a0_0x32cdd8(0x592),new ft(y,...pe)[a0_0x32cdd8(0x371)],new Rt(fs)[a0_0x32cdd8(0x371)])[a0_0x32cdd8(0x1e1)](a0_0x32cdd8(0x69c),new Mt(...pe)[a0_0x32cdd8(0x371)])['use'](a0_0x32cdd8(0x190),new ot(...pe)['router'])[a0_0x32cdd8(0x1e1)](a0_0x32cdd8(0x17b),new gt(...pe)[a0_0x32cdd8(0x371)])[a0_0x32cdd8(0x1e1)](a0_0x32cdd8(0x354),new It(...pe)[a0_0x32cdd8(0x371)])[a0_0x32cdd8(0x1e1)](a0_0x32cdd8(0x2be),new Dt(...pe)[a0_0x32cdd8(0x371)]);var g=class{constructor(..._0x4ceb19){throw{'status':0x190,'error':'Bad\x20Request','message':_0x4ceb19['length']>0x0?_0x4ceb19:void 0x0};}},ne=class{constructor(..._0x3dd50f){const _0x2b35d0=a0_0x32cdd8;throw{'status':0x191,'error':_0x2b35d0(0x332),'message':_0x3dd50f[_0x2b35d0(0x4d2)]>0x0?_0x3dd50f:void 0x0};}},re=class{constructor(..._0x2a6571){const _0x493dc4=a0_0x32cdd8;throw{'status':0x193,'error':_0x493dc4(0x30e),'message':_0x2a6571[_0x493dc4(0x4d2)]>0x0?_0x2a6571:void 0x0};}},x=class{constructor(..._0x273b09){const _0xe80f77=a0_0x32cdd8;throw{'status':0x194,'error':_0xe80f77(0x59f),'message':_0x273b09[_0xe80f77(0x4d2)]>0x0?_0x273b09:void 0x0};}},A=class{constructor(..._0x3256b7){const _0x46f4e6=a0_0x32cdd8;throw{'status':0x1f4,'error':_0x46f4e6(0x467),'message':_0x3256b7[_0x46f4e6(0x4d2)]>0x0?_0x3256b7:void 0x0};}},ge=require(a0_0x32cdd8(0x470));async function Es(_0x904957){const _0x4a7c6a=a0_0x32cdd8;let _0x347101=new C(Es[_0x4a7c6a(0x127)]),_0x4d4e9d=M[_0x4a7c6a(0x213)](),_0x3d4da0=_0x4d4e9d['db'](y[_0x4a7c6a(0x43a)](_0x4a7c6a(0x1d5))[_0x4a7c6a(0x63f)][_0x4a7c6a(0x21a)]+_0x4a7c6a(0x5e0))[_0x4a7c6a(0x31e)](_0x904957),_0x205b89=async(_0x318eb6,_0x426e0a)=>{const _0xc43ff1=_0x4a7c6a;try{return await _0x4d4e9d[_0xc43ff1(0x5fc)](),await _0x3d4da0[_0xc43ff1(0x414)]({'_id':_0x426e0a},JSON['parse'](JSON['stringify'](_0x318eb6,ge[_0xc43ff1(0x5a3)][_0xc43ff1(0x3a1)])),{'upsert':!0x0});}catch{}},_0x296335=async _0x5aadb5=>{const _0x6d4657=_0x4a7c6a;try{await _0x4d4e9d[_0x6d4657(0x5fc)]();let _0x541259=await _0x3d4da0[_0x6d4657(0x506)]({'_id':_0x5aadb5}),_0x26c9cf=JSON[_0x6d4657(0x679)](_0x541259);return JSON[_0x6d4657(0x49b)](_0x26c9cf,ge[_0x6d4657(0x5a3)][_0x6d4657(0x1d4)]);}catch{}},_0x2545ce=async _0xda89f5=>{const _0x36ed15=_0x4a7c6a;try{return await _0x4d4e9d['connect'](),await _0x3d4da0[_0x36ed15(0x28f)]({'_id':_0xda89f5});}catch{}},_0x40cfc3=await _0x296335(_0x4a7c6a(0x523))||(0x0,ge[_0x4a7c6a(0x35e)])();return{'state':{'creds':_0x40cfc3,'keys':{'get':async(_0x35cdc9,_0x5d0665)=>{const _0x4ab076=_0x4a7c6a;let _0x362bac={};return await Promise[_0x4ab076(0x12c)](_0x5d0665[_0x4ab076(0x58e)](async _0x17c0bc=>{const _0x154511=_0x4ab076;let _0x2dcc65=await _0x296335(_0x35cdc9+'-'+_0x17c0bc);_0x35cdc9===_0x154511(0x32e)&&_0x2dcc65&&(_0x2dcc65=ge['proto'][_0x154511(0x274)][_0x154511(0x451)][_0x154511(0x342)](_0x2dcc65)),_0x362bac[_0x17c0bc]=_0x2dcc65;})),_0x362bac;},'set':async _0x4aa016=>{const _0x1fe19b=_0x4a7c6a;let _0x38dd3c=[];for(let _0x2e6ea1 in _0x4aa016)for(let _0x1d2a2e in _0x4aa016[_0x2e6ea1]){let _0xe9f02d=_0x4aa016[_0x2e6ea1][_0x1d2a2e],_0x53ac02=_0x2e6ea1+'-'+_0x1d2a2e;_0x38dd3c[_0x1fe19b(0x58a)](_0xe9f02d?_0x205b89(_0xe9f02d,_0x53ac02):_0x2545ce(_0x53ac02));}await Promise[_0x1fe19b(0x12c)](_0x38dd3c);}}},'saveCreds':async()=>_0x205b89(_0x40cfc3,_0x4a7c6a(0x523))};}var Cs=T(require(a0_0x32cdd8(0x23c))),Ts=T(require(a0_0x32cdd8(0x2d0))),$t=require('@whiskeysockets/baileys'),lo=require('@redis/client'),xt=require('@whiskeysockets/baileys'),_t;function pi(_0x241c61){const _0x4d7563=a0_0x32cdd8;return _t||(_t=(0x0,lo[_0x4d7563(0x45c)])({'url':_0x241c61['URI']}),_t[_0x4d7563(0x5fc)]()),_t;}var ye=class c{constructor(_0x245a55,_0x68afea){const _0x5a4729=a0_0x32cdd8;this[_0x5a4729(0x333)]=_0x245a55,this[_0x5a4729(0x128)]=_0x68afea,this[_0x5a4729(0x249)]=new C(c[_0x5a4729(0x127)]),this[_0x5a4729(0x63e)]=pi(_0x245a55);}set[a0_0x32cdd8(0x693)](_0x4fd5ae){const _0x14a96c=a0_0x32cdd8;this[_0x14a96c(0x128)]=_0x4fd5ae;}async[a0_0x32cdd8(0x27f)](){const _0x390fa2=a0_0x32cdd8;try{return await this['client'][_0x390fa2(0x246)]([_0x390fa2(0x3d7),this[_0x390fa2(0x333)][_0x390fa2(0x4cd)]+':*']);}catch(_0x1df02d){this[_0x390fa2(0x249)][_0x390fa2(0x334)](_0x1df02d);}}async['writeData'](_0x39be4c,_0x291284){const _0x2feb25=a0_0x32cdd8;try{let _0x37ff60=JSON[_0x2feb25(0x679)](_0x291284,xt['BufferJSON'][_0x2feb25(0x3a1)]);return await this[_0x2feb25(0x63e)]['hSet'](this[_0x2feb25(0x333)][_0x2feb25(0x4cd)]+':'+this[_0x2feb25(0x128)],_0x39be4c,_0x37ff60);}catch(_0x2e0963){this[_0x2feb25(0x249)]['error'](_0x2e0963);}}async[a0_0x32cdd8(0x695)](){const _0x104087=a0_0x32cdd8;try{let _0x4086ca=await this[_0x104087(0x63e)][_0x104087(0x22e)](this[_0x104087(0x333)][_0x104087(0x4cd)]+':'+this[_0x104087(0x128)]);if(_0x4086ca){for(let _0x55f03c in _0x4086ca)Object['prototype']['hasOwnProperty'][_0x104087(0x534)](_0x4086ca,_0x55f03c)&&(_0x4086ca[_0x55f03c]=JSON[_0x104087(0x49b)](_0x4086ca[_0x55f03c],xt[_0x104087(0x5a3)][_0x104087(0x1d4)]));return _0x4086ca;}}catch(_0x29cf99){this[_0x104087(0x249)][_0x104087(0x334)](_0x29cf99);}}async['readData'](_0x121812){const _0x14e96c=a0_0x32cdd8;try{let _0x7fc63f=await this['client'][_0x14e96c(0x21f)](this[_0x14e96c(0x333)][_0x14e96c(0x4cd)]+':'+this['instanceName'],_0x121812);if(_0x7fc63f)return JSON[_0x14e96c(0x49b)](_0x7fc63f,xt['BufferJSON'][_0x14e96c(0x1d4)]);}catch(_0x2d5f80){this[_0x14e96c(0x249)][_0x14e96c(0x334)](_0x2d5f80);}}async[a0_0x32cdd8(0x188)](_0x1a80d6){const _0x19786d=a0_0x32cdd8;try{return await this[_0x19786d(0x63e)][_0x19786d(0x3a3)](this[_0x19786d(0x333)]['PREFIX_KEY']+':'+this[_0x19786d(0x128)],_0x1a80d6);}catch(_0x2c9768){this['logger'][_0x19786d(0x334)](_0x2c9768);}}async[a0_0x32cdd8(0x509)](_0x4658f5){const _0x4db935=a0_0x32cdd8;try{return await this[_0x4db935(0x63e)][_0x4db935(0xed)](_0x4658f5||this[_0x4db935(0x333)][_0x4db935(0x4cd)]+':'+this['instanceName']);}catch(_0x5c44a2){this['logger'][_0x4db935(0x334)](_0x5c44a2);}}};async function vs(_0xa6384d,_0x34549d){const _0x4bcd2b=a0_0x32cdd8;let _0x7d8eb0=new C(vs['name']),_0x21f5dd=new ye(_0xa6384d,_0x34549d),_0x517783=async(_0x22703d,_0x3e81d8)=>{const _0x4ad9ba=a0_0x282e;try{return await _0x21f5dd[_0x4ad9ba(0x5de)](_0x3e81d8,_0x22703d);}catch(_0x35d700){return _0x7d8eb0['error']({'localError':_0x4ad9ba(0x5de),'error':_0x35d700});}},_0x54eaf1=async _0x10b198=>{const _0x1b1bdc=a0_0x282e;try{return await _0x21f5dd[_0x1b1bdc(0x3aa)](_0x10b198);}catch(_0x36178a){_0x7d8eb0['error']({'readData':_0x1b1bdc(0x5de),'error':_0x36178a});return;}},_0x5e549e=async _0x4441b0=>{const _0x4aad9a=a0_0x282e;try{return await _0x21f5dd[_0x4aad9a(0x188)](_0x4441b0);}catch(_0xda9452){_0x7d8eb0['error']({'readData':_0x4aad9a(0x188),'error':_0xda9452});}},_0x10be73=await _0x54eaf1(_0x4bcd2b(0x523))||(0x0,$t[_0x4bcd2b(0x35e)])();return{'state':{'creds':_0x10be73,'keys':{'get':async(_0x2689f7,_0x206e45)=>{const _0x21b522=_0x4bcd2b;let _0x3bd65a={};return await Promise[_0x21b522(0x12c)](_0x206e45['map'](async _0x3ec50f=>{const _0x4cbb5f=_0x21b522;let _0x403e32=await _0x54eaf1(_0x2689f7+'-'+_0x3ec50f);_0x2689f7===_0x4cbb5f(0x32e)&&_0x403e32&&(_0x403e32=$t['proto'][_0x4cbb5f(0x274)]['AppStateSyncKeyData']['fromObject'](_0x403e32)),_0x3bd65a[_0x3ec50f]=_0x403e32;})),_0x3bd65a;},'set':async _0x2843a4=>{const _0x81e1b1=_0x4bcd2b;let _0xe1c471=[];for(let _0x1b27e6 in _0x2843a4)for(let _0x166ae3 in _0x2843a4[_0x1b27e6]){let _0x327779=_0x2843a4[_0x1b27e6][_0x166ae3],_0x1777d3=_0x1b27e6+'-'+_0x166ae3;_0xe1c471[_0x81e1b1(0x58a)](_0x327779?await _0x517783(_0x327779,_0x1777d3):await _0x5e549e(_0x1777d3));}await Promise[_0x81e1b1(0x12c)](_0xe1c471);}}},'saveCreds':async()=>await _0x517783(_0x10be73,_0x4bcd2b(0x523))};}var _=T(require('fs')),Lt=require(a0_0x32cdd8(0x1c1)),Ut=T(require(a0_0x32cdd8(0x298)));function W(_0x352ba5){const _0x5e08e3=a0_0x32cdd8;if(_0x352ba5[_0x5e08e3(0x21d)]||_0x352ba5[_0x5e08e3(0x401)]){let _0x2586bd=_0x352ba5[_0x5e08e3(0x21d)]?_0x352ba5['viewOnceMessage']['message']:_0x352ba5[_0x5e08e3(0x401)][_0x5e08e3(0xd5)];return(0x0,w['getContentType'])(_0x2586bd);}return _0x352ba5[_0x5e08e3(0x4ea)]?'pollCreationMessageV3':_0x352ba5[_0x5e08e3(0x301)]?_0x5e08e3(0x301):(0x0,w['getContentType'])(_0x352ba5);}var Se=class c{constructor(_0x4a85fb,_0x292e3e,_0x14d32f){const _0x245269=a0_0x32cdd8;this[_0x245269(0x3d0)]=_0x4a85fb,this[_0x245269(0x308)]=_0x292e3e,this[_0x245269(0x620)]=_0x14d32f,this[_0x245269(0x18b)]=null,this[_0x245269(0x249)]=new C(c[_0x245269(0x127)]),this['instance']={},this[_0x245269(0x175)]={},this[_0x245269(0x500)]={'state':_0x245269(0x33c)},this[_0x245269(0x1b6)]=(0x0,$[_0x245269(0x2d3)])(Y,_0x245269(0x48e)),this[_0x245269(0x429)]=new Ts['default'](),this[_0x245269(0x1d2)]=new Ts[(_0x245269(0x3eb))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x245269(0x675),'qrcode.updated':_0x245269(0x30f),'messages.upsert':_0x245269(0x240),'messages.update':_0x245269(0x461),'send.message':_0x245269(0x240),'group.upsert':_0x245269(0x5b6),'group.update':'/wa-groups','group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':_0x245269(0x240),'contacts.set':_0x245269(0x139),'contacts.upsert':_0x245269(0x139),'contacts.update':_0x245269(0x139),'presence.update':_0x245269(0x4ce),'chats.set':_0x245269(0x3ce),'chats.update':_0x245269(0x3ce),'chats.upsert':_0x245269(0x3ce),'chats.delete':_0x245269(0x3ce)},this[_0x245269(0x143)]=0x0,this['reconnectTimestamps']=[],this[_0x245269(0x4e6)]=0xf,this[_0x245269(0x318)]=0x7530,this[_0x245269(0x1cf)]=!0x1,this[_0x245269(0x27e)]={'chats.upsert':async(_0x5a03d4,_0x2c6214)=>{const _0x3d6c5d=_0x245269;let _0x21b481=await this['repository'][_0x3d6c5d(0x612)][_0x3d6c5d(0x614)]({'where':{'owner':this[_0x3d6c5d(0xc1)]['wuid']}}),_0x1fccb4=[];for await(let _0x4a024b of _0x5a03d4)_0x21b481[_0x3d6c5d(0x614)](_0x272f77=>_0x272f77['id']===_0x4a024b['id'])||_0x1fccb4[_0x3d6c5d(0x58a)]({'id':_0x4a024b['id'],'owner':this['instance'][_0x3d6c5d(0x3e0)],'group':_0x4a024b['id'][_0x3d6c5d(0x3f2)](_0x3d6c5d(0x3e6)),'name':_0x4a024b[_0x3d6c5d(0x127)]||_0x4a024b[_0x3d6c5d(0x10f)]||null,'contactname':null,'lastmsg':_0x4a024b[_0x3d6c5d(0x121)]&&_0x4a024b['conversationTimestamp'][_0x3d6c5d(0x616)]()['length']<0xd?_0x4a024b['conversationTimestamp']*0x3e8:_0x4a024b['conversationTimestamp']||null,'archived':_0x4a024b['archived']||!0x1,'unreadcount':_0x4a024b['unreadCount']||0x0});await this[_0x3d6c5d(0x276)](_0x3d6c5d(0x2cf),_0x1fccb4);},'chats.update':async(_0x2b9d8b,_0x4552dc)=>{const _0x37ab06=_0x245269;for(let _0x312191 of _0x2b9d8b){let _0xa8eb1b={'id':_0x312191['id'],'owner':this['instance'][_0x37ab06(0x3e0)],'group':_0x312191['id']['endsWith'](_0x37ab06(0x3e6)),'name':_0x312191[_0x37ab06(0x127)]||_0x312191[_0x37ab06(0x10f)],'archived':_0x312191[_0x37ab06(0x2a5)]},_0x19595d=!0x1,_0x3e01d7={'id':_0x312191['id'],'owner':this[_0x37ab06(0xc1)][_0x37ab06(0x3e0)]},_0x24f531={};_0xa8eb1b['archived']!=null&&(this[_0x37ab06(0x249)][_0x37ab06(0x2e8)](this[_0x37ab06(0x128)]+'\x20('+this[_0x37ab06(0xc1)]['wuid']+_0x37ab06(0x418)+_0x312191[_0x37ab06(0x2a5)]),_0x19595d=!0x0,_0x24f531[_0x37ab06(0x2a5)]=_0x312191[_0x37ab06(0x2a5)]),_0x312191[_0x37ab06(0x127)]!=null&&(this['logger']['verbose'](this[_0x37ab06(0x128)]+'\x20('+this[_0x37ab06(0xc1)][_0x37ab06(0x3e0)]+'):\x20teve\x20mudanas\x20chat.name:\x20'+_0x312191['name']),_0x19595d=!0x0,_0x24f531[_0x37ab06(0x127)]=_0x312191['name']),_0x312191[_0x37ab06(0x10f)]!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x37ab06(0x253)+_0x312191[_0x37ab06(0x10f)]),_0x19595d=!0x0,_0x24f531[_0x37ab06(0x127)]=_0x312191[_0x37ab06(0x10f)]);let _0x3e375f;_0x19595d&&_0x4552dc['ENABLED']&&(_0x3e375f=await D['findOneAndUpdate'](_0x3e01d7,{'$set':_0x24f531},{'new':!0x0})),_0x3e375f&&q(this[_0x37ab06(0x128)],_0x37ab06(0x324),{'chat':_0x3e375f});}},'chats.delete':async _0x19745c=>{const _0x20d3a6=_0x245269;await this[_0x20d3a6(0x276)](_0x20d3a6(0x244),[..._0x19745c]);}},this[_0x245269(0xf4)]={'contacts.upsert':async(_0x3fcffa,_0x427d40)=>{const _0x334654=_0x245269;let _0x184a2c=await this[_0x334654(0x620)][_0x334654(0x170)][_0x334654(0x614)]({'where':{'owner':this['instance'][_0x334654(0x3e0)]}}),_0x1a010b=[];for await(let _0x1903d5 of _0x3fcffa)_0x184a2c[_0x334654(0x614)](_0x7f9738=>_0x7f9738['id']===_0x1903d5['id'])||_0x1a010b[_0x334654(0x58a)]({'id':_0x1903d5['id'],'pushName':_0x1903d5?.[_0x334654(0x127)]||_0x1903d5?.['verifiedName'],'owner':this[_0x334654(0xc1)][_0x334654(0x3e0)]});await this[_0x334654(0x276)](_0x334654(0x46f),_0x1a010b),await this[_0x334654(0x620)][_0x334654(0x170)][_0x334654(0x694)](_0x1a010b,_0x427d40[_0x334654(0x391)]);let _0x3a751f=[];for(let _0x392591 of _0x1a010b){let [_0x2841ee,_0x4eb9f8]=await Promise['all']([this['profilePicture'](_0x392591['id']),(await this[_0x334654(0x548)](_0x392591['id']))[_0x334654(0x440)]]);_0x3a751f[_0x334654(0x58a)]({..._0x392591,'profilePictureUrl':_0x2841ee[_0x334654(0x60b)],'status':_0x4eb9f8});}await this['repository']['contact'][_0x334654(0x608)](_0x3a751f,_0x427d40[_0x334654(0x391)]),await this[_0x334654(0x43c)]();},'contacts.update':async(_0x263b6c,_0x2eaa7a)=>{const _0x5e55bf=_0x245269;let _0x53cf8d=[];for await(let _0x127b43 of _0x263b6c)_0x53cf8d[_0x5e55bf(0x58a)]({'id':_0x127b43['id'],'pushName':_0x127b43?.[_0x5e55bf(0x127)]??_0x127b43?.[_0x5e55bf(0x11b)],'profilePictureUrl':(await this[_0x5e55bf(0x5d2)](_0x127b43['id']))[_0x5e55bf(0x60b)],'owner':this[_0x5e55bf(0xc1)][_0x5e55bf(0x3e0)]});await this[_0x5e55bf(0x276)](_0x5e55bf(0x607),_0x53cf8d);}},this[_0x245269(0x2c4)]={'messaging-history.set':async({messages:_0x91cb7e,chats:_0x856517,isLatest:_0x331847},_0x3f4a29)=>{const _0x5e7437=_0x245269;if(_0x331847){let _0x23b272=await Promise[_0x5e7437(0x12c)](_0x856517[_0x5e7437(0x58e)](async _0x25eb0c=>({'id':_0x25eb0c['id'],'owner':this['instance'][_0x5e7437(0x3e0)],'group':_0x25eb0c['id'][_0x5e7437(0x3f2)]('@g.us'),'name':_0x25eb0c[_0x5e7437(0x127)]||_0x25eb0c[_0x5e7437(0x10f)]||null,'contactname':null,'imagechat':(await this[_0x5e7437(0x5d2)](_0x25eb0c['id']))[_0x5e7437(0x60b)],'lastmsg':_0x25eb0c[_0x5e7437(0x121)]&&_0x25eb0c[_0x5e7437(0x121)]['toString']()[_0x5e7437(0x4d2)]<0xd?_0x25eb0c[_0x5e7437(0x121)]*0x3e8:_0x25eb0c[_0x5e7437(0x121)]||null,'archived':_0x25eb0c[_0x5e7437(0x2a5)]||!0x1,'unreadcount':_0x25eb0c['unreadCount']||0x0})));await this[_0x5e7437(0x276)](_0x5e7437(0x57b),_0x23b272),await this['upsertChats'](_0x23b272,_0x3f4a29),await this[_0x5e7437(0x43c)]();}let _0x2f5993=[],_0x27724f=Date[_0x5e7437(0xef)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2816e4]of Object[_0x5e7437(0x3cf)](_0x91cb7e)){if(_0x2816e4[_0x5e7437(0xd5)]?.[_0x5e7437(0x17d)]||_0x2816e4['message']?.[_0x5e7437(0x3b0)]||!_0x2816e4['message']||_0x2816e4[_0x5e7437(0x3fb)][_0x5e7437(0x420)]===_0x5e7437(0x507)||(Cs[_0x5e7437(0x3eb)][_0x5e7437(0x250)](_0x2816e4?.[_0x5e7437(0x5ca)])&&(_0x2816e4[_0x5e7437(0x5ca)]=_0x2816e4[_0x5e7437(0x5ca)]?.[_0x5e7437(0x45e)]()),_0x2816e4[_0x5e7437(0x5ca)]&&_0x2816e4[_0x5e7437(0x5ca)][_0x5e7437(0x616)]()[_0x5e7437(0x4d2)]<0xd&&(_0x2816e4[_0x5e7437(0x5ca)]=_0x2816e4[_0x5e7437(0x5ca)]*0x3e8),_0x2816e4[_0x5e7437(0x5ca)]<_0x27724f))continue;let {message_normalized:_0x1cf7bd}=this['normalizeMessage'](_0x2816e4[_0x5e7437(0xd5)],W(_0x2816e4[_0x5e7437(0xd5)]),null);_0x2f5993['push']({'key':_0x2816e4[_0x5e7437(0x3fb)],'pushName':_0x2816e4[_0x5e7437(0x2ba)],'participant':_0x2816e4[_0x5e7437(0x19b)],'message':{..._0x2816e4[_0x5e7437(0xd5)]},'messageType':W(_0x2816e4['message']),'message_normalized':{'key':_0x2816e4[_0x5e7437(0x3fb)],'pushName':_0x2816e4[_0x5e7437(0x2ba)],'messageTimestamp':_0x2816e4['messageTimestamp'],..._0x1cf7bd},'messageTimestamp':_0x2816e4['messageTimestamp'],'owner':this['instance']['wuid']});}_0x3f4a29[_0x5e7437(0x391)]&&_0x2f5993[_0x5e7437(0x4d2)]>0x0&&(this[_0x5e7437(0x249)][_0x5e7437(0x2e8)](this['instanceName']+'\x20('+this['instance'][_0x5e7437(0x3e0)]+_0x5e7437(0x135)+_0x2f5993['length']+_0x5e7437(0x437)+this[_0x5e7437(0xc1)][_0x5e7437(0x3e0)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5e7437(0x620)][_0x5e7437(0xd5)][_0x5e7437(0x694)]([..._0x2f5993],_0x3f4a29[_0x5e7437(0x391)])),this[_0x5e7437(0x276)](_0x5e7437(0x3ef),[..._0x2f5993]),_0x91cb7e=void 0x0;},'messages.upsert':async({messages:_0x142548,type:_0x5d7ef1},_0x34c9ea)=>{const _0x14c63f=_0x245269;let _0x4dc5cc=_0x142548[0x0];if(_0x5d7ef1!==_0x14c63f(0x66f)||!_0x4dc5cc?.[_0x14c63f(0xd5)]||_0x4dc5cc['message']?.['protocolMessage']||_0x4dc5cc[_0x14c63f(0xd5)][_0x14c63f(0x3b0)]||_0x4dc5cc[_0x14c63f(0x3fb)][_0x14c63f(0x420)]===_0x14c63f(0x507))return;let _0x3c6c8f=null,_0x44c389=null;try{_0x3c6c8f=await this[_0x14c63f(0x426)](_0x4dc5cc),_0x44c389=_0x3c6c8f?_0x3c6c8f['join'](','):null;}catch(_0x29fefb){this[_0x14c63f(0x249)][_0x14c63f(0x2e8)](this[_0x14c63f(0x128)]+'\x20('+this['instance'][_0x14c63f(0x3e0)]+'):\x20'+_0x29fefb[_0x14c63f(0xd5)]),_0x44c389=_0x14c63f(0x3e2);}if(this['client'][_0x14c63f(0x235)](_0x14c63f(0x372)),Cs['default'][_0x14c63f(0x250)](_0x4dc5cc[_0x14c63f(0x5ca)])&&(_0x4dc5cc[_0x14c63f(0x5ca)]=_0x4dc5cc[_0x14c63f(0x5ca)]?.[_0x14c63f(0x45e)]()),this[_0x14c63f(0x175)]?.[_0x14c63f(0x4d7)]&&_0x4dc5cc[_0x14c63f(0x3fb)][_0x14c63f(0x420)][_0x14c63f(0x5d1)]('@g.us')){this[_0x14c63f(0x249)][_0x14c63f(0x2e8)]('group\x20ignored');return;}_0x4dc5cc[_0x14c63f(0x5ca)]&&_0x4dc5cc[_0x14c63f(0x5ca)][_0x14c63f(0x616)]()['length']<0xd&&(_0x4dc5cc[_0x14c63f(0x5ca)]=_0x4dc5cc[_0x14c63f(0x5ca)]*0x3e8);let _0x5a0f0a=_0x4dc5cc[_0x14c63f(0xd5)],{messageContent:_0x43617d,message_normalized:_0x2d3dda}=this['normalizeMessage'](_0x5a0f0a,W(_0x4dc5cc[_0x14c63f(0xd5)]),_0x44c389);_0x43617d||console[_0x14c63f(0x334)](_0x14c63f(0x3e1));let _0x3c090b={'key':_0x4dc5cc[_0x14c63f(0x3fb)],'pushName':_0x4dc5cc[_0x14c63f(0x2ba)],'message':{..._0x4dc5cc['message']},'messageType':W(_0x4dc5cc[_0x14c63f(0xd5)]),'message_normalized':{'key':_0x4dc5cc[_0x14c63f(0x3fb)],'pushName':_0x4dc5cc[_0x14c63f(0x2ba)],'messageTimestamp':_0x4dc5cc[_0x14c63f(0x5ca)],'source':(0x0,w[_0x14c63f(0x3a4)])(_0x4dc5cc[_0x14c63f(0x3fb)]['id']),..._0x2d3dda},'messageTimestamp':_0x4dc5cc[_0x14c63f(0x5ca)],'owner':this[_0x14c63f(0xc1)][_0x14c63f(0x3e0)]};this[_0x14c63f(0x249)]['log'](_0x3c090b),await this[_0x14c63f(0x620)][_0x14c63f(0xd5)][_0x14c63f(0x694)]([_0x3c090b],_0x34c9ea[_0x14c63f(0x391)]),await this[_0x14c63f(0x276)]('messages.upsert',_0x3c090b),q(this['instanceName'],_0x14c63f(0x58b),{'message':_0x3c090b}),_0x4dc5cc[_0x14c63f(0x3fb)]['remoteJid']!==_0x14c63f(0x507)&&await this['updateChatWithMessage'](_0x34c9ea,_0x3c090b,_0x14c63f(0x132));},'messages.update':async(_0x15dac8,_0xf5eff5)=>{const _0x1ad5e4=_0x245269;let _0x134ed7={0x0:_0x1ad5e4(0x4ee),0x1:_0x1ad5e4(0xfd),0x2:_0x1ad5e4(0x1b0),0x3:_0x1ad5e4(0x202),0x4:_0x1ad5e4(0x16a),0x5:'PLAYED'};for await(let {key:_0x3d21cd,update:_0x3fdb19}of _0x15dac8){if(this[_0x1ad5e4(0x175)]?.['groups_ignore']&&_0x3d21cd[_0x1ad5e4(0x420)][_0x1ad5e4(0x5d1)](_0x1ad5e4(0x3e6))){this[_0x1ad5e4(0x249)][_0x1ad5e4(0x2e8)](_0x1ad5e4(0x4af));return;}if(_0x3d21cd[_0x1ad5e4(0x420)]!=='status@broadcast'){let _0x161871=Date[_0x1ad5e4(0xef)](),_0x1e08cd;_0x3fdb19[_0x1ad5e4(0xd5)]===null&&_0x3fdb19[_0x1ad5e4(0x440)]===void 0x0?_0x1e08cd=_0x1ad5e4(0x464):_0x1e08cd=_0x134ed7[_0x3fdb19[_0x1ad5e4(0x440)]];let _0x46fd12=_0x3d21cd[_0x1ad5e4(0x420)][_0x1ad5e4(0x61a)](/:\d{1,2}@/g,'@'),_0xf6254d={..._0x3d21cd,'remoteJid':_0x46fd12,'status':_0x1e08cd,'datetime':_0x161871,'owner':this['instance'][_0x1ad5e4(0x3e0)]};await this[_0x1ad5e4(0x276)]('messages.update',_0xf6254d),await this[_0x1ad5e4(0x620)][_0x1ad5e4(0x59d)][_0x1ad5e4(0x694)]([_0xf6254d],_0xf5eff5[_0x1ad5e4(0x391)]),await this[_0x1ad5e4(0x64b)](_0x3d21cd,_0x46fd12,_0xf6254d);}}}},this[_0x245269(0x46c)]={'groups.upsert':_0x40e799=>{const _0x214c57=_0x245269;this[_0x214c57(0x276)](_0x214c57(0xe0),_0x40e799);},'groups.update':_0x47224a=>{const _0x20ddbe=_0x245269;this[_0x20ddbe(0x276)]('groups.update',_0x47224a);},'group-participants.update':_0x34b74d=>{const _0x100677=_0x245269;this[_0x100677(0x276)](_0x100677(0x3a7),_0x34b74d);}},this[_0x245269(0x426)]=async _0x3bd1fa=>{const _0x3a5b43=_0x245269;if(_0x3bd1fa[_0x3a5b43(0xd5)]?.['pollUpdateMessage']){let _0x34fb4a=await this[_0x3a5b43(0x520)](_0x3bd1fa[_0x3a5b43(0xd5)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x34fb4a){let _0x4b5632=_0x34fb4a[_0x3a5b43(0x3fb)][_0x3a5b43(0x4a9)]?this[_0x3a5b43(0xc1)][_0x3a5b43(0x3e0)]+_0x3a5b43(0x37f):_0x34fb4a[_0x3a5b43(0x3fb)][_0x3a5b43(0x19b)]||_0x34fb4a[_0x3a5b43(0x3fb)][_0x3a5b43(0x420)],_0x3ad77e=_0x34fb4a[_0x3a5b43(0x3fb)]['id'],_0x299618=_0x34fb4a[_0x3a5b43(0xd5)],_0xb54514=Buffer['from'](_0x299618[_0x3a5b43(0x1d8)][_0x3a5b43(0x291)]['toString'](_0x3a5b43(0xfa)),'hex'),_0x58d792=(0x0,w['decryptPollVote'])(_0x3bd1fa[_0x3a5b43(0xd5)][_0x3a5b43(0x27b)][_0x3a5b43(0x11d)],{'pollCreatorJid':_0x4b5632,'pollMsgId':_0x3ad77e,'pollEncKey':_0xb54514,'voterJid':_0x3bd1fa[_0x3a5b43(0x3fb)][_0x3a5b43(0x4a9)]?this[_0x3a5b43(0xc1)][_0x3a5b43(0x3e0)]+_0x3a5b43(0x37f):_0x3bd1fa['key'][_0x3a5b43(0x420)]['endsWith'](_0x3a5b43(0x13b))?_0x3bd1fa[_0x3a5b43(0x3fb)][_0x3a5b43(0x19b)]:_0x3bd1fa[_0x3a5b43(0x3fb)][_0x3a5b43(0x420)]}),_0x35428f=[],_0x14846c=_0x58d792[_0x3a5b43(0x232)][_0x3a5b43(0x58e)](_0x41233e=>Buffer['from'](_0x41233e)[_0x3a5b43(0x616)](_0x3a5b43(0xfa)));for(let {optionName:_0x59f3ac}of _0x299618[_0x3a5b43(0x5a2)]?.['options']||_0x299618['pollCreationMessageV3']?.[_0x3a5b43(0x109)]||_0x299618[_0x3a5b43(0x301)]?.['options'])_0x14846c[_0x3a5b43(0x480)]((0x0,w[_0x3a5b43(0x1bd)])(Buffer[_0x3a5b43(0x1b8)](_0x59f3ac))[_0x3a5b43(0x616)]('hex'))>-0x1&&_0x35428f[_0x3a5b43(0x58a)](_0x59f3ac);return _0x35428f;}}return null;},this['normalizeMessage']=(_0x20f1c3,_0x2c59e9,_0x2f8a9f)=>{const _0x1992e8=_0x245269;let _0x3bf785=_0x2c59e9?_0x20f1c3[_0x2c59e9]:void 0x0,_0x409b11={},_0x3125fe=null,_0x163947=null,_0x5a4f35=null;if(_0x20f1c3[_0x1992e8(0x401)]?_0x3bf785=_0x20f1c3[_0x1992e8(0x401)][_0x1992e8(0xd5)][_0x2c59e9]:_0x20f1c3['viewOnceMessage']?_0x3bf785=_0x20f1c3[_0x1992e8(0x21d)]['message'][_0x2c59e9]:_0x20f1c3[_0x1992e8(0x38b)]?_0x3bf785=_0x20f1c3[_0x1992e8(0x38b)][_0x1992e8(0xd5)][_0x2c59e9]:_0x20f1c3['editedMessage']?.[_0x1992e8(0xd5)]?.[_0x1992e8(0x17d)]?.[_0x1992e8(0x2ac)]?(_0x3125fe=_0x20f1c3[_0x1992e8(0x2ac)][_0x1992e8(0xd5)][_0x1992e8(0x17d)]['key']['id'],_0x20f1c3[_0x1992e8(0x2ac)]['message'][_0x1992e8(0x17d)][_0x1992e8(0x2ac)][_0x1992e8(0x26b)]?_0x3bf785=_0x20f1c3[_0x1992e8(0x2ac)][_0x1992e8(0xd5)][_0x1992e8(0x17d)][_0x1992e8(0x2ac)]['conversation']:_0x20f1c3[_0x1992e8(0x2ac)][_0x1992e8(0xd5)][_0x1992e8(0x17d)][_0x1992e8(0x2ac)][_0x1992e8(0x261)]?_0x3bf785=_0x20f1c3[_0x1992e8(0x2ac)]['message']['protocolMessage']['editedMessage'][_0x1992e8(0x261)][_0x1992e8(0x484)]:_0x20f1c3[_0x1992e8(0x2ac)][_0x1992e8(0xd5)]['protocolMessage'][_0x1992e8(0x2ac)][_0x1992e8(0x454)]?_0x3bf785=_0x20f1c3['editedMessage'][_0x1992e8(0xd5)][_0x1992e8(0x17d)][_0x1992e8(0x2ac)]['videoMessage'][_0x1992e8(0x484)]:_0x20f1c3[_0x1992e8(0x2ac)]['message'][_0x1992e8(0x17d)]['editedMessage'][_0x1992e8(0x2e1)]?_0x3bf785=_0x20f1c3[_0x1992e8(0x2ac)][_0x1992e8(0xd5)]['protocolMessage'][_0x1992e8(0x2ac)]['documentWithCaptionMessage'][_0x1992e8(0xd5)][_0x1992e8(0x4d9)]['caption']:_0x3bf785=_0x20f1c3['editedMessage'][_0x1992e8(0xd5)]['protocolMessage'][_0x1992e8(0x2ac)]):_0x3bf785=_0x20f1c3[_0x2c59e9],!_0x2c59e9||!_0x3bf785){console[_0x1992e8(0x334)](_0x1992e8(0x3ae),_0x20f1c3);return;}_0x20f1c3[_0x2c59e9]?.['contextInfo']?.[_0x1992e8(0x398)]&&_0x20f1c3[_0x2c59e9]?.['contextInfo']?.['quotedMessage']&&(_0x163947=_0x20f1c3[_0x2c59e9]['contextInfo'][_0x1992e8(0x398)]),_0x20f1c3['reactionMessage']&&(_0x5a4f35=_0x20f1c3[_0x1992e8(0x1a5)][_0x1992e8(0x3fb)]['id']);let _0x338b25;if(_0x3bf785&&typeof _0x3bf785==_0x1992e8(0x359)&&_0x1992e8(0x233)in _0x3bf785&&({pollCreationMessageKey:_0x338b25}=_0x3bf785),_0x2c59e9==='documentWithCaptionMessage'){let _0x4ef1dc=_0x3bf785?.[_0x1992e8(0xd5)]?.[_0x1992e8(0x4d9)];_0x4ef1dc&&(_0x3bf785=_0x4ef1dc);}if(_0x2c59e9===_0x1992e8(0x5a2)||_0x2c59e9===_0x1992e8(0x301)||_0x2c59e9===_0x1992e8(0x4ea)){let _0x143ce4=_0x3bf785[_0x1992e8(0x109)][_0x1992e8(0x58e)](_0x32aef8=>_0x32aef8[_0x1992e8(0x51c)])[_0x1992e8(0x2d3)]('|');_0x409b11[_0x1992e8(0x2ab)]=_0x143ce4;}let _0x3e7792=_0x3bf785[_0x1992e8(0x127)]||_0x3bf785[_0x1992e8(0x484)]||_0x3bf785[_0x1992e8(0x26b)]||_0x3bf785[_0x1992e8(0x10f)];if(_0x3bf785['vcard']){let _0x53195a=this[_0x1992e8(0x4a8)](JSON[_0x1992e8(0x679)](_0x3bf785['vcard'],null,0x2));_0x3e7792=_0x3e7792+'\x0a'+_0x53195a;}if(_0x3bf785){let {displayName:_0x2c1060,vcard:_0x3a2d97,contactVcard:_0x41d9c3,name:_0x3cbead,caption:_0x3903a8,conversation:_0x4c417a,pollCreationMessageKey:_0x636cf8,footerText:_0x31b53d,contentText:_0x423794,pageCount:_0x4e2646,headerType:_0x11c5de,isAvatar:_0x2816bd,isAnimated:_0xfad7e1,fallbackLc:_0x4ed78c,fallbackLg:_0x388a0b,namespace:_0xf90ba0,elementName:_0x5e871c,localizableParams:_0x4d3069,viewOnce:_0x730796,height:_0x59b946,width:_0x7b9614,key:_0x4c7474,firstScanLength:_0x32d34c,firstScanSidecar:_0x1937b9,gifPlayback:_0x4fdf0a,gifAttribution:_0x30c92a,midQualityFileSha256:_0x129fc2,scansSidecar:_0x1d67d0,streamingSidecar:_0x23350f,thumbnailHeight:_0x243226,thumbnailWidth:_0x56bb21,thumbnailEncSha256:_0x25bcb1,thumbnailDirectPath:_0x5174e2,canonicalUrl:_0x4f3445,matchedText:_0x2e0325,previewType:_0x13b028,thumbnailSha256:_0x3071ac,deviceListMetadataVersion:_0x213a0c,inviteLinkGroupTypeV2:_0x23f994,interactiveAnnotations:_0x37cf55,scanLengths:_0x6259de,jpegThumbnail:_0x20f06f,url:_0x2b503d,mediaKeyTimestamp:_0x415f3c,waveform:_0xd7a9f6,stickerSentTs:_0x5d3f7e,firstFrameLength:_0x71db84,fileEncSha256:_0x54ac17,contextInfo:_0x137a02,firstFrameSidecar:_0x3623c9,directPath:_0x4cfac8,fileSha256:_0x3cb81d,mediaKey:_0x488de3,senderTimestampMs:_0x3d9ba2,..._0x3ed8e1}=_0x3bf785;typeof _0x3bf785==_0x1992e8(0x4d6)?_0x409b11={'text':_0x3bf785,'type':_0x2c59e9||_0x1992e8(0x26b),..._0x3125fe&&{'edited':_0x3125fe},..._0x163947&&{'quoted':_0x163947},..._0x5a4f35&&{'reaction':_0x5a4f35}}:_0x409b11={'text':_0x3e7792,..._0x3ed8e1,..._0x2c59e9===_0x1992e8(0x27b)?{'poll_id':_0x3bf785[_0x1992e8(0x233)]['id'],'vote':_0x2f8a9f}:{},'type':_0x2c59e9,..._0x3125fe&&{'edited':_0x3125fe},..._0x163947&&{'quoted':_0x163947},..._0x5a4f35&&{'reaction':_0x5a4f35},...(_0x2c59e9===_0x1992e8(0x5a2)||_0x2c59e9===_0x1992e8(0x301)||_0x2c59e9==='pollCreationMessageV3')&&{'convertedOptions':_0x409b11['convertedOptions']}};}return{'messageType':_0x2c59e9,'messageContent':_0x3bf785,'message_normalized':_0x409b11};},this[_0x245269(0x568)]=null,this[_0x245269(0x60a)]=0x0,(this['cleanStore'](),this[_0x245269(0xc1)][_0x245269(0x1c8)]={'count':0x0});}set[a0_0x32cdd8(0x128)](_0x475708){const _0x2f662c=a0_0x32cdd8;if(!_0x475708){this['instance']['name']=(0x0,po['v4'])();return;}this['instance'][_0x2f662c(0x127)]=_0x475708,this[_0x2f662c(0x276)]('status.instance',{'instance':this[_0x2f662c(0xc1)][_0x2f662c(0x127)],'status':'created'});}get['instanceName'](){const _0x6e9685=a0_0x32cdd8;return this[_0x6e9685(0xc1)][_0x6e9685(0x127)];}get[a0_0x32cdd8(0x3e0)](){const _0x3b4993=a0_0x32cdd8;return this[_0x3b4993(0xc1)][_0x3b4993(0x3e0)];}async[a0_0x32cdd8(0x3c0)](){const _0x29ba61=a0_0x32cdd8;let _0x4a7c21=this[_0x29ba61(0x63e)][_0x29ba61(0x312)]?.[_0x29ba61(0x127)]??this['client'][_0x29ba61(0x312)]?.['verifiedName'];if(!_0x4a7c21){if(this['configService'][_0x29ba61(0x43a)](_0x29ba61(0x1d5))['ENABLED']){let _0x8cbb9a=await M['getClient']()['db'](this['configService'][_0x29ba61(0x43a)](_0x29ba61(0x1d5))['CONNECTION'][_0x29ba61(0x21a)]+_0x29ba61(0x5e0))[_0x29ba61(0x31e)](this[_0x29ba61(0x128)])[_0x29ba61(0x506)]({'_id':'creds'});if(_0x8cbb9a){let _0x5ebd1e=JSON[_0x29ba61(0x49b)](JSON['stringify'](_0x8cbb9a),w['BufferJSON'][_0x29ba61(0x1d4)]);_0x4a7c21=_0x5ebd1e['me']?.['name']||_0x5ebd1e['me']?.[_0x29ba61(0x11b)];}}else{if((0x0,_e['existsSync'])((0x0,$[_0x29ba61(0x2d3)])(j,this[_0x29ba61(0x128)],_0x29ba61(0x397)))){let _0x84a079=JSON['parse']((0x0,_e[_0x29ba61(0x1ad)])((0x0,$['join'])(j,this[_0x29ba61(0x128)],_0x29ba61(0x397)),{'encoding':_0x29ba61(0x651)}));_0x4a7c21=_0x84a079['me']?.[_0x29ba61(0x127)]||_0x84a079['me']?.[_0x29ba61(0x11b)];}}}return _0x4a7c21;}get['profilePictureUrl'](){const _0x16fa94=a0_0x32cdd8;return this[_0x16fa94(0xc1)][_0x16fa94(0x60b)];}get[a0_0x32cdd8(0x255)](){const _0x6d3ecd=a0_0x32cdd8;return{'code':this['instance'][_0x6d3ecd(0x1c8)]?.['code'],'base64':this[_0x6d3ecd(0xc1)]['qrcode']?.['base64']};}async[a0_0x32cdd8(0x638)](){const _0x4f593b=a0_0x32cdd8;let _0x2b04b9=await this['repository']['webhook'][_0x4f593b(0x614)](this['instanceName']);this[_0x4f593b(0x175)][_0x4f593b(0x176)]=_0x2b04b9?.[_0x4f593b(0x176)],this[_0x4f593b(0x175)][_0x4f593b(0x63c)]=_0x2b04b9?.[_0x4f593b(0x63c)],this['localWebhook'][_0x4f593b(0x505)]=_0x2b04b9?.[_0x4f593b(0x505)],this['localWebhook'][_0x4f593b(0x625)]=_0x2b04b9?.[_0x4f593b(0x625)],this['localWebhook'][_0x4f593b(0xf6)]=_0x2b04b9?.[_0x4f593b(0xf6)],this[_0x4f593b(0x175)][_0x4f593b(0x4ab)]=_0x2b04b9?.[_0x4f593b(0x4ab)],this['localWebhook'][_0x4f593b(0x132)]=_0x2b04b9?.[_0x4f593b(0x132)],this[_0x4f593b(0x175)]['MESSAGES_UPDATE']=_0x2b04b9?.[_0x4f593b(0x4c2)],this['localWebhook']['GROUPS_UPSERT']=_0x2b04b9?.[_0x4f593b(0x5ec)],this[_0x4f593b(0x175)][_0x4f593b(0x29e)]=_0x2b04b9?.[_0x4f593b(0x29e)],this['localWebhook'][_0x4f593b(0x62f)]=_0x2b04b9?.[_0x4f593b(0x62f)],this[_0x4f593b(0x175)][_0x4f593b(0x2cb)]=_0x2b04b9?.[_0x4f593b(0x2cb)],this[_0x4f593b(0x175)][_0x4f593b(0x591)]=_0x2b04b9?.[_0x4f593b(0x591)],this[_0x4f593b(0x175)][_0x4f593b(0x1cd)]=_0x2b04b9?.[_0x4f593b(0x1cd)],this[_0x4f593b(0x175)][_0x4f593b(0x5ad)]=_0x2b04b9?.['CHATS_DELETE'],this[_0x4f593b(0x175)][_0x4f593b(0x654)]=_0x2b04b9?.[_0x4f593b(0x654)],this['localWebhook']['CONTACTS_UPSERT']=_0x2b04b9?.['CONTACTS_UPSERT'],this[_0x4f593b(0x175)]['CONTACTS_UPDATE']=_0x2b04b9?.[_0x4f593b(0x48c)],this[_0x4f593b(0x175)]['PRESENCE_UPDATE']=_0x2b04b9?.[_0x4f593b(0x4b9)],this['localWebhook'][_0x4f593b(0x4c5)]=_0x2b04b9?.[_0x4f593b(0x4c5)],this[_0x4f593b(0x175)][_0x4f593b(0x1a1)]=_0x2b04b9?.[_0x4f593b(0x1a1)],this[_0x4f593b(0x175)][_0x4f593b(0x4d7)]=_0x2b04b9?.[_0x4f593b(0x4d7)];}async[a0_0x32cdd8(0x659)](_0x3b5e31){const _0x4ba8d1=a0_0x32cdd8;let _0x521e6f=[_0x4ba8d1(0x386),'url',_0x4ba8d1(0x63c),_0x4ba8d1(0x505),_0x4ba8d1(0x625),_0x4ba8d1(0xf6),_0x4ba8d1(0x4c2),_0x4ba8d1(0x132),_0x4ba8d1(0x4ab),_0x4ba8d1(0x5ec),_0x4ba8d1(0x29e),_0x4ba8d1(0x62f),_0x4ba8d1(0x2cb),_0x4ba8d1(0x591),_0x4ba8d1(0x1cd),_0x4ba8d1(0x5ad),'CONTACTS_SET',_0x4ba8d1(0xd2),_0x4ba8d1(0x48c),'PRESENCE_UPDATE',_0x4ba8d1(0x4c5),'CONNECTION_UPDATE','groups_ignore'],_0x4c0420={};return _0x521e6f[_0x4ba8d1(0x5dd)](_0x5a15a7=>{_0x3b5e31[_0x5a15a7]!==void 0x0&&(_0x4c0420[_0x5a15a7]=_0x3b5e31[_0x5a15a7]);}),await this[_0x4ba8d1(0x620)][_0x4ba8d1(0x60d)][_0x4ba8d1(0x2c3)](_0x4c0420,this['instanceName']),Object[_0x4ba8d1(0x468)](this['localWebhook'],_0x4c0420),await this[_0x4ba8d1(0x620)]['webhook'][_0x4ba8d1(0x614)](this[_0x4ba8d1(0x128)]);}async[a0_0x32cdd8(0x3fd)](){const _0x2c1763=a0_0x32cdd8;return await this[_0x2c1763(0x620)]['webhook'][_0x2c1763(0x614)](this[_0x2c1763(0x128)]);}async['sendDataWebhook'](_0x19db55,_0x2112fd){const _0x5745d6=a0_0x32cdd8;let _0x3f359b=this[_0x5745d6(0x3d0)][_0x5745d6(0x43a)](_0x5745d6(0x36c)),_0x492a92=_0x19db55[_0x5745d6(0x61a)](/[\.-]/gm,'_')[_0x5745d6(0x1cb)](),_0x440bae=this[_0x5745d6(0x175)][_0x5745d6(0x63c)]&&(0x0,k[_0x5745d6(0x4f6)])(this[_0x5745d6(0x175)]['url'])?this[_0x5745d6(0x175)][_0x5745d6(0x176)]+(this[_0x5745d6(0x175)][_0x5745d6(0x505)]?this['webhookMap'][_0x19db55]:''):null,_0x5bfef4=_0x3f359b?.[_0x5745d6(0x24f)],_0x260d50=_0x5bfef4&&_0x5bfef4?.[_0x5745d6(0x391)]&&(0x0,k['isURL'])(_0x5bfef4[_0x5745d6(0x18d)])?_0x5bfef4[_0x5745d6(0x18d)]+(_0x3f359b[_0x5745d6(0x297)]?this[_0x5745d6(0x3dc)][_0x19db55]:''):null,_0x44ac26=this['localWebhook'][_0x492a92],_0x2e2a9e=_0x3f359b?.[_0x5745d6(0x399)]?.[_0x492a92];if(_0x44ac26&&_0x440bae)try{await ue[_0x5745d6(0x3eb)][_0x5745d6(0x2c3)]({'baseURL':_0x440bae})[_0x5745d6(0x325)]('',{'event':_0x19db55,'instance':this[_0x5745d6(0xc1)]['name'],'data':_0x2112fd}),this[_0x5745d6(0x249)][_0x5745d6(0x55a)](_0x5745d6(0x633)+_0x19db55+':\x20'+_0x440bae);}catch(_0x5e01f9){this[_0x5745d6(0x249)][_0x5745d6(0x334)](this[_0x5745d6(0x128)]+'\x20('+this[_0x5745d6(0xc1)][_0x5745d6(0x3e0)]+_0x5745d6(0x135)+{'local':c[_0x5745d6(0x127)]+_0x5745d6(0x668),'message':_0x5e01f9?.['message'],'hostName':_0x5e01f9?.[_0x5745d6(0x629)],'syscall':_0x5e01f9?.[_0x5745d6(0x1c7)],'code':_0x5e01f9?.[_0x5745d6(0x144)],'error':_0x5e01f9?.[_0x5745d6(0x2a8)],'stack':_0x5e01f9?.['stack'],'name':_0x5e01f9?.[_0x5745d6(0x127)]});}if(_0x2e2a9e&&_0x260d50)try{await ue[_0x5745d6(0x3eb)][_0x5745d6(0x2c3)]({'baseURL':_0x260d50})[_0x5745d6(0x325)]('',{'event':_0x19db55,'instance':this[_0x5745d6(0xc1)]['name'],'data':_0x2112fd}),this[_0x5745d6(0x249)][_0x5745d6(0x55a)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x19db55+':\x20'+_0x260d50);}catch(_0x3ea76e){this[_0x5745d6(0x249)][_0x5745d6(0x334)](this['instanceName']+'\x20('+this['instance'][_0x5745d6(0x3e0)]+'):\x20'+{'local':c[_0x5745d6(0x127)]+'.sendDataWebhook-global','message':_0x3ea76e?.[_0x5745d6(0xd5)],'hostName':_0x3ea76e?.[_0x5745d6(0x629)],'syscall':_0x3ea76e?.[_0x5745d6(0x1c7)],'code':_0x3ea76e?.['code'],'error':_0x3ea76e?.[_0x5745d6(0x2a8)],'stack':_0x3ea76e?.[_0x5745d6(0x52b)],'name':_0x3ea76e?.['name']});}}async[a0_0x32cdd8(0x49f)]({qr:_0x5a4a79,connection:_0x2589d8,lastDisconnect:_0x49d459}){const _0x2d6dcd=a0_0x32cdd8;if(_0x5a4a79){if(this[_0x2d6dcd(0xc1)]['qrcode']['count']===this[_0x2d6dcd(0x3d0)][_0x2d6dcd(0x43a)](_0x2d6dcd(0x222))[_0x2d6dcd(0x43e)])return this[_0x2d6dcd(0x276)](_0x2d6dcd(0x644),{'message':_0x2d6dcd(0x310),'statusCode':w[_0x2d6dcd(0x396)][_0x2d6dcd(0x439)]}),this['sendDataWebhook'](_0x2d6dcd(0x472),{'instance':this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x127)],'state':_0x2d6dcd(0x361),'statusReason':w[_0x2d6dcd(0x396)][_0x2d6dcd(0x23b)]}),this[_0x2d6dcd(0x276)](_0x2d6dcd(0x23d),{'instance':this['instance']['name'],'status':'removed'}),this['endSession']=!0x0,this[_0x2d6dcd(0x308)][_0x2d6dcd(0x63d)](_0x2d6dcd(0x3c3),this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x127)]);this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x1c8)][_0x2d6dcd(0xeb)]++;let _0x538b1c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2d6dcd(0x62c),'dark':_0x2d6dcd(0x337)}};go[_0x2d6dcd(0x3eb)]['toDataURL'](_0x5a4a79,_0x538b1c,(_0x1a257d,_0x50580b)=>{const _0x3e255c=_0x2d6dcd;if(_0x1a257d){this[_0x3e255c(0x249)][_0x3e255c(0x334)](this[_0x3e255c(0x128)]+'\x20('+this['instance'][_0x3e255c(0x3e0)]+_0x3e255c(0xdf)+_0x1a257d['toString']());return;}this[_0x3e255c(0xc1)][_0x3e255c(0x1c8)][_0x3e255c(0x2db)]=_0x50580b,this[_0x3e255c(0xc1)][_0x3e255c(0x1c8)][_0x3e255c(0x144)]=_0x5a4a79,this[_0x3e255c(0x276)](_0x3e255c(0x644),{'qrcode':{'instance':this['instance']['name'],'code':_0x5a4a79,'base64':_0x50580b}});}),mo[_0x2d6dcd(0x3eb)][_0x2d6dcd(0x455)](_0x5a4a79,{'small':!0x0},_0x24167d=>this[_0x2d6dcd(0x249)]['log'](_0x2d6dcd(0x277)+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x127)]+',\x20qrcodeCount:\x20'+this['instance']['qrcode'][_0x2d6dcd(0xeb)]+'\x20}\x0a'+_0x24167d));}if(_0x2589d8&&(this[_0x2d6dcd(0x500)]={'state':_0x2589d8,'statusReason':_0x49d459?.[_0x2d6dcd(0x334)]?.[_0x2d6dcd(0x419)]?.[_0x2d6dcd(0xdc)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x2d6dcd(0xc1)]['name'],...this['stateConnection']})),_0x2589d8===_0x2d6dcd(0x33c)){if(this[_0x2d6dcd(0x143)]++,this[_0x2d6dcd(0x34d)][_0x2d6dcd(0x58a)](Date[_0x2d6dcd(0xef)]()),this[_0x2d6dcd(0x34d)]=this[_0x2d6dcd(0x34d)][_0x2d6dcd(0x5bd)](_0x3f0f6a=>Date[_0x2d6dcd(0xef)]()-_0x3f0f6a<this['RECONNECT_TIME_FRAME']),_0x49d459['error']?.[_0x2d6dcd(0x419)]?.[_0x2d6dcd(0xdc)]!==w[_0x2d6dcd(0x396)][_0x2d6dcd(0x341)]&&this['reconnectTimestamps'][_0x2d6dcd(0x4d2)]<=this['MAX_RECONNECT_ATTEMPTS'])await this[_0x2d6dcd(0x340)]();else{this[_0x2d6dcd(0x276)]('status.instance',{'instance':this['instance'][_0x2d6dcd(0x127)],'status':_0x2d6dcd(0x5ff)}),this[_0x2d6dcd(0x489)]=!0x1;try{this[_0x2d6dcd(0x249)][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+'):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...');let _0x509139={'where':{'owner':this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]}},_0x2c0f76=(await this[_0x2d6dcd(0x620)][_0x2d6dcd(0x59d)][_0x2d6dcd(0x614)](_0x509139))[_0x2d6dcd(0x4d2)];await this[_0x2d6dcd(0x620)]['messageUpdate'][_0x2d6dcd(0x411)](_0x509139),this[_0x2d6dcd(0x249)][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+'):\x20Deletados\x20'+_0x2c0f76+_0x2d6dcd(0x3d5));}catch(_0xb9c982){console['error'](_0x2d6dcd(0x2ef),_0xb9c982);}try{this['logger'][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+_0x2d6dcd(0x18f));let _0x33b774={'where':{'owner':this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]}},_0x2307fa=(await this[_0x2d6dcd(0x620)][_0x2d6dcd(0xd5)][_0x2d6dcd(0x614)](_0x33b774))[_0x2d6dcd(0x4d2)];await this[_0x2d6dcd(0x620)]['message']['delete'](_0x33b774),this[_0x2d6dcd(0x249)][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+_0x2d6dcd(0x446)+_0x2307fa+_0x2d6dcd(0x54c));}catch(_0x3a987f){console[_0x2d6dcd(0x334)](_0x2d6dcd(0x60c),_0x3a987f);}this[_0x2d6dcd(0x5f9)]!==null&&(this[_0x2d6dcd(0x249)][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)]['wuid']+_0x2d6dcd(0x1e4)),clearInterval(this[_0x2d6dcd(0x5f9)]),this[_0x2d6dcd(0x5f9)]=null),this[_0x2d6dcd(0x249)][_0x2d6dcd(0x2e8)](this[_0x2d6dcd(0x128)]+'\x20('+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+'):\x20Limpando\x20AutomateSystem'),this[_0x2d6dcd(0x18b)]=null,this['eventEmitter'][_0x2d6dcd(0x63d)](_0x2d6dcd(0x404),this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x127)],_0x2d6dcd(0x11a)),this[_0x2d6dcd(0x63e)]?.['ws']?.[_0x2d6dcd(0x33c)](),this[_0x2d6dcd(0x63e)][_0x2d6dcd(0xc9)](new Error(_0x2d6dcd(0x5ae)));}}if(_0x2589d8===_0x2d6dcd(0x4e8)){this[_0x2d6dcd(0x47d)],this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]=this[_0x2d6dcd(0x63e)][_0x2d6dcd(0x312)]['id'][_0x2d6dcd(0x61a)](/:\d+/,'')[_0x2d6dcd(0x61a)]('@s.whatsapp.net',''),this['instance'][_0x2d6dcd(0x60b)]=(await this[_0x2d6dcd(0x5d2)](this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)]+_0x2d6dcd(0x37f)))[_0x2d6dcd(0x60b)];let _0xa3dbe7=_0x2d6dcd(0x4fe)+this[_0x2d6dcd(0xc1)][_0x2d6dcd(0x3e0)],_0x18fff6=0x28,_0x5b3107=Math['floor']((_0x18fff6-_0xa3dbe7[_0x2d6dcd(0x4d2)])/0x2),_0x91c2b3='\x20'['repeat'](_0x5b3107),_0x328400=_0x2d6dcd(0x313),_0x1e8dab=_0x2d6dcd(0x270)+this['instance'][_0x2d6dcd(0x127)],_0x1ed90e=(''+_0x91c2b3+_0xa3dbe7+_0x91c2b3)[_0x2d6dcd(0x315)](_0x18fff6,'\x20'),_0x1aeb1b=(''+_0x91c2b3+_0x328400+_0x91c2b3)[_0x2d6dcd(0x315)](_0x18fff6,'\x20'),_0x348bca=(''+_0x91c2b3+_0x1e8dab+_0x91c2b3)[_0x2d6dcd(0x315)](_0x18fff6,'\x20'),_0x3b088b=Math[_0x2d6dcd(0x5c5)](_0x1ed90e[_0x2d6dcd(0x4d2)],_0x1aeb1b['length'],_0x348bca[_0x2d6dcd(0x4d2)]),_0x16927e=_0x1ed90e[_0x2d6dcd(0x315)](_0x3b088b,'\x20'),_0x579dad=_0x1aeb1b[_0x2d6dcd(0x315)](_0x3b088b,'\x20'),_0x42ddbe=_0x348bca['padEnd'](_0x3b088b,'\x20');this['logger'][_0x2d6dcd(0x596)]((_0x2d6dcd(0x181)+''['repeat'](_0x3b088b)+_0x2d6dcd(0x511)+_0x579dad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42ddbe+_0x2d6dcd(0x676)+_0x16927e+_0x2d6dcd(0x280)+''[_0x2d6dcd(0x55f)](_0x3b088b)+'')[_0x2d6dcd(0x61a)](/^ +/gm,'\x20\x20')),this[_0x2d6dcd(0x32b)](),this[_0x2d6dcd(0x489)]=!0x0;}}['resetReconnectionVariables'](){const _0x410cca=a0_0x32cdd8;this['reconnectAttempts']=0x0,this[_0x410cca(0x34d)]=[];}async['getMessage'](_0x212abf,_0x323076=!0x1){const _0xd9d534=a0_0x32cdd8;try{let _0x293282=await this[_0xd9d534(0x620)][_0xd9d534(0xd5)][_0xd9d534(0x614)]({'where':{'owner':this['instance']['wuid'],'key':{'id':_0x212abf['id']}}});return _0x323076?_0x293282[0x0]:_0x293282[0x0][_0xd9d534(0xd5)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x3ab17a=a0_0x32cdd8;let _0x495248=this[_0x3ab17a(0x3d0)]['get'](_0x3ab17a(0x2d7)),_0x2b2af2=this[_0x3ab17a(0x3d0)][_0x3ab17a(0x43a)](_0x3ab17a(0x1d5));_0x495248?.[_0x3ab17a(0x54b)]&&!_0x2b2af2[_0x3ab17a(0x391)]&&setInterval(()=>{const _0x244115=_0x3ab17a;try{for(let [_0x46c117,_0x339284]of Object[_0x244115(0x3cf)](_0x495248))_0x339284===!0x0&&(0x0,Vt['execSync'])(_0x244115(0x13d)+(0x0,$[_0x244115(0x2d3)])(this[_0x244115(0x1b6)],_0x46c117[_0x244115(0x61d)](),this[_0x244115(0xc1)][_0x244115(0x3e0)])+_0x244115(0x588));}catch{}},(_0x495248?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x32cdd8(0x681)](){const _0x46f95b=a0_0x32cdd8;let _0x4bd498=this['configService']['get'](_0x46f95b(0x1d5)),_0x14b9b9=this['configService']['get']('REDIS');return _0x14b9b9?.[_0x46f95b(0x391)]?await vs(_0x14b9b9,this['instance'][_0x46f95b(0x127)]):_0x4bd498[_0x46f95b(0x391)]?await Es(this['instance'][_0x46f95b(0x127)]):await(0x0,w[_0x46f95b(0x33a)])((0x0,$[_0x46f95b(0x2d3)])(j,this['instance'][_0x46f95b(0x127)]));}async[a0_0x32cdd8(0x32b)](){const _0x5f27a1=a0_0x32cdd8;let _0x46f4eb=()=>Math[_0x5f27a1(0x2b1)](Math[_0x5f27a1(0x22d)]()*0x2711)+0x7d0,_0x1d93f1=async()=>{const _0x4cc3ff=_0x5f27a1;if(!this[_0x4cc3ff(0x489)]){this[_0x4cc3ff(0x249)][_0x4cc3ff(0x2e8)](_0x4cc3ff(0x2e5)),this[_0x4cc3ff(0x1cf)]=!0x1;return;}if(this[_0x4cc3ff(0xc1)][_0x4cc3ff(0x3e0)]&&this[_0x4cc3ff(0x18b)]&&this[_0x4cc3ff(0x5f9)]!==null&&this[_0x4cc3ff(0x5f9)]!==void 0x0){let _0xce989a=Math[_0x4cc3ff(0x44f)](this[_0x4cc3ff(0x5f9)]/0xea60);this[_0x4cc3ff(0x249)][_0x4cc3ff(0x2e8)](this[_0x4cc3ff(0x128)]+'\x20('+this['instance'][_0x4cc3ff(0x3e0)]+_0x4cc3ff(0x37e)+_0xce989a+_0x4cc3ff(0x516)),this[_0x4cc3ff(0x1cf)]=!0x1;return;}else this[_0x4cc3ff(0xc1)][_0x4cc3ff(0x3e0)]&&(this['logger'][_0x4cc3ff(0x2e8)](this[_0x4cc3ff(0x128)]+'\x20('+this[_0x4cc3ff(0xc1)][_0x4cc3ff(0x3e0)]+_0x4cc3ff(0x225)),this[_0x4cc3ff(0x18b)]||await this[_0x4cc3ff(0x2b7)](),(this[_0x4cc3ff(0x5f9)]===null||this[_0x4cc3ff(0x5f9)]===void 0x0)&&await this[_0x4cc3ff(0x1c2)]());if(this[_0x4cc3ff(0x1cf)]){let _0x46661d=_0x46f4eb();this[_0x4cc3ff(0x249)][_0x4cc3ff(0x2e8)](this[_0x4cc3ff(0x128)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x46661d/0x3e8+'\x20segundos'),setTimeout(_0x1d93f1,_0x46661d);}};if(this[_0x5f27a1(0x1cf)])return;this[_0x5f27a1(0x1cf)]=!0x0;let _0x1db24d=_0x46f4eb();setTimeout(_0x1d93f1,_0x1db24d);}async[a0_0x32cdd8(0x340)](){const _0x7fc6c3=a0_0x32cdd8;try{this['loadWebhook'](),this[_0x7fc6c3(0xc1)][_0x7fc6c3(0x126)]=await this[_0x7fc6c3(0x681)]();let {version:_0x3396f7}=await(0x0,w[_0x7fc6c3(0x49d)])(),_0x5895c1=this['configService'][_0x7fc6c3(0x43a)](_0x7fc6c3(0x186)),_0x5d86f9=[_0x5895c1[_0x7fc6c3(0x53f)],_0x5895c1[_0x7fc6c3(0x4dc)],(0x0,ho[_0x7fc6c3(0x2e2)])()],_0x2b6054={'auth':{'creds':this[_0x7fc6c3(0xc1)][_0x7fc6c3(0x126)][_0x7fc6c3(0x4ca)][_0x7fc6c3(0x523)],'keys':(0x0,w[_0x7fc6c3(0x22c)])(this['instance'][_0x7fc6c3(0x126)][_0x7fc6c3(0x4ca)][_0x7fc6c3(0x3d7)],(0x0,kt[_0x7fc6c3(0x3eb)])({'level':_0x7fc6c3(0x334)}))},'logger':(0x0,kt[_0x7fc6c3(0x3eb)])({'level':_0x7fc6c3(0x334)}),'printQRInTerminal':!0x1,'browser':_0x5d86f9,'version':_0x3396f7,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x7fc6c3(0x429)],'getMessage':async _0xc3d87a=>await this[_0x7fc6c3(0x520)](_0xc3d87a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x7fc6c3(0x1d2)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x21a177=>(!!(_0x21a177[_0x7fc6c3(0x15e)]||_0x21a177[_0x7fc6c3(0xde)])&&(_0x21a177={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x21a177}}}),_0x21a177)};return this[_0x7fc6c3(0x645)]=!0x1,this['client']=(0x0,w[_0x7fc6c3(0x3eb)])(_0x2b6054),this[_0x7fc6c3(0x1d6)](),this['client'];}catch(_0x5eb3b8){throw this[_0x7fc6c3(0x249)][_0x7fc6c3(0x334)](this[_0x7fc6c3(0x128)]+'\x20('+this['instance'][_0x7fc6c3(0x3e0)]+'):\x20'+_0x5eb3b8),new A(_0x5eb3b8?.[_0x7fc6c3(0x616)]());}}[a0_0x32cdd8(0x1d6)](){const _0x1c098b=a0_0x32cdd8;this[_0x1c098b(0x63e)]['ev']['process'](_0x2709e3=>{const _0x501073=_0x1c098b;if(!this['endSession']){let _0x3ed1e5=this[_0x501073(0x3d0)]['get']('DATABASE');if(_0x2709e3[_0x501073(0x472)]&&this[_0x501073(0x49f)](_0x2709e3[_0x501073(0x472)]),_0x2709e3['creds.update']&&this[_0x501073(0xc1)][_0x501073(0x126)][_0x501073(0x2c6)](),_0x2709e3[_0x501073(0x5dc)]){let _0x9573ee=_0x2709e3['messaging-history.set'];this[_0x501073(0x2c4)][_0x501073(0x5dc)](_0x9573ee,_0x3ed1e5);}if(_0x2709e3[_0x501073(0x227)]){let _0x197279=_0x2709e3['messages.upsert'];this[_0x501073(0x2c4)][_0x501073(0x227)](_0x197279,_0x3ed1e5);}if(_0x2709e3['messages.update']){let _0x4481c4=_0x2709e3[_0x501073(0x40a)];this[_0x501073(0x2c4)]['messages.update'](_0x4481c4,_0x3ed1e5);}if(_0x2709e3['presence.update']){let _0x3adeb3=_0x2709e3[_0x501073(0x67b)];if(this[_0x501073(0x175)]?.[_0x501073(0x4d7)]&&_0x3adeb3['id'][_0x501073(0x5d1)](_0x501073(0x3e6)))return;this[_0x501073(0x276)](_0x501073(0x67b),_0x3adeb3);}if(!this['localWebhook']?.[_0x501073(0x4d7)]){if(_0x2709e3[_0x501073(0xe0)]){let _0x306fae=_0x2709e3[_0x501073(0xe0)];this['groupHandler'][_0x501073(0xe0)](_0x306fae);}if(_0x2709e3[_0x501073(0x64a)]){let _0x25198f=_0x2709e3['groups.update'];this[_0x501073(0x46c)][_0x501073(0x64a)](_0x25198f);}if(_0x2709e3[_0x501073(0x3a7)]){let _0x41dbcf=_0x2709e3['group-participants.update'];this[_0x501073(0x46c)][_0x501073(0x3a7)](_0x41dbcf);}}if(_0x2709e3['chats.upsert']){let _0x5125ae=_0x2709e3[_0x501073(0x2cf)];this[_0x501073(0x27e)][_0x501073(0x2cf)](_0x5125ae,_0x3ed1e5);}if(_0x2709e3[_0x501073(0x60f)]){let _0x81524c=_0x2709e3[_0x501073(0x60f)];this[_0x501073(0x27e)][_0x501073(0x60f)](_0x81524c,_0x3ed1e5);}if(_0x2709e3[_0x501073(0x244)]){let _0x23c5b6=_0x2709e3[_0x501073(0x244)];this[_0x501073(0x27e)]['chats.delete'](_0x23c5b6);}if(_0x2709e3['contacts.upsert']){let _0x231c0c=_0x2709e3['contacts.upsert'];this[_0x501073(0xf4)]['contacts.upsert'](_0x231c0c,_0x3ed1e5);}if(_0x2709e3[_0x501073(0x607)]){let _0x39a8cb=_0x2709e3[_0x501073(0x607)];this['contactHandle'][_0x501073(0x607)](_0x39a8cb,_0x3ed1e5);}}});}['formatBRNumber'](_0x5aac04){const _0x2176b9=a0_0x32cdd8;let _0x314e8a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2176b9(0x41d)](_0x5aac04);if(_0x314e8a&&_0x314e8a[0x1]==='55'){let _0x396e4b=_0x314e8a[0x2],_0x267b1a=_0x314e8a[0x3],_0x3d4749=_0x314e8a[0x4];if(_0x396e4b>='31'&&_0x267b1a==='9')return _0x314e8a[0x1]+_0x396e4b+_0x3d4749;}return _0x5aac04;}[a0_0x32cdd8(0x12e)](_0x530ac5){const _0x3eaf06=a0_0x32cdd8;return _0x530ac5[_0x3eaf06(0x5d1)]('@g.us')||_0x530ac5['includes'](_0x3eaf06(0x37f))||_0x530ac5[_0x3eaf06(0x5d1)]('@broadcast')?_0x530ac5:(_0x530ac5=_0x530ac5?.[_0x3eaf06(0x61a)](/\s/g,'')[_0x3eaf06(0x61a)](/\+/g,'')[_0x3eaf06(0x61a)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x3eaf06(0x5af)]('@')[0x0],_0x530ac5[_0x3eaf06(0x4d2)]>=0x12?(_0x530ac5=_0x530ac5[_0x3eaf06(0x61a)](/[^\d-]/g,''),_0x530ac5+_0x3eaf06(0x3e6)):(_0x530ac5=_0x530ac5[_0x3eaf06(0x61a)](/\D/g,''),this['formatBRNumber'](_0x530ac5)+'@s.whatsapp.net'));}async[a0_0x32cdd8(0x1ab)](_0x2d3c57){const _0x191a70=a0_0x32cdd8;let _0x364f81=this[_0x191a70(0x12e)](_0x2d3c57[_0x191a70(0x1fa)]),_0x2eeebe=(await this[_0x191a70(0x264)]({'numbers':[_0x364f81]}))[0x0];if(!_0x2eeebe[_0x191a70(0x1fe)]&&!(0x0,w['isJidGroup'])(_0x2eeebe['jid']))throw new g(_0x2eeebe);let _0x4d6c4f=(0x0,w['isJidGroup'])(_0x364f81)?_0x364f81:_0x2eeebe[_0x191a70(0x5df)];if((0x0,w[_0x191a70(0x525)])(_0x4d6c4f))try{await this['client']['groupMetadata'](_0x4d6c4f);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0x191a70(0x63e)][_0x191a70(0x5b1)](_0x4d6c4f),await this[_0x191a70(0x63e)][_0x191a70(0x235)](_0x2d3c57[_0x191a70(0x16b)],_0x364f81),{'status':0xc8,'presence':_0x2d3c57[_0x191a70(0x16b)]};}catch(_0x5c6181){throw new g(_0x5c6181['toString']());}}async[a0_0x32cdd8(0x5d2)](_0x1dda15){const _0x4a5687=a0_0x32cdd8;let _0x5807d0=this[_0x4a5687(0x12e)](_0x1dda15);try{return{'wuid':_0x5807d0,'profilePictureUrl':await this['client'][_0x4a5687(0x60b)](_0x5807d0,_0x4a5687(0x131))};}catch{return{'wuid':_0x5807d0,'profilePictureUrl':null};}}async[a0_0x32cdd8(0x24d)](_0x379dc8,_0x2c29,_0x56d3fd){const _0x672d52=a0_0x32cdd8;let _0x30e0f6=(await this[_0x672d52(0x264)]({'numbers':[_0x379dc8]}))[0x0];if(!_0x30e0f6[_0x672d52(0x1fe)]&&!(0x0,w[_0x672d52(0x525)])(_0x30e0f6[_0x672d52(0x5df)])&&!_0x30e0f6[_0x672d52(0x5df)][_0x672d52(0x5d1)]('@broadcast'))throw new g(_0x30e0f6);let _0x1f56a7=_0x30e0f6[_0x672d52(0x5df)];try{_0x56d3fd?.[_0x672d52(0x3a6)]&&(await this['client'][_0x672d52(0x5b1)](_0x1f56a7),await this[_0x672d52(0x63e)][_0x672d52(0x235)](_0x56d3fd?.[_0x672d52(0x16b)]??'composing',_0x1f56a7),await(0x0,w[_0x672d52(0x3a6)])(_0x56d3fd['delay']),await this[_0x672d52(0x63e)]['sendPresenceUpdate'](_0x672d52(0x1b5),_0x1f56a7));let _0x302a95=_0x56d3fd?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x250917;if(_0x56d3fd?.[_0x672d52(0x4d1)]){let _0x27901d=_0x56d3fd?.[_0x672d52(0x4d1)],_0x1a9720=_0x27901d?.['message']?_0x27901d:await this[_0x672d52(0x520)](_0x27901d[_0x672d52(0x3fb)],!0x0);if(!_0x1a9720)throw _0x672d52(0x36f);_0x250917=_0x1a9720;}let _0x441237;if((0x0,w['isJidGroup'])(_0x1f56a7))try{let _0x361f56=await this['client'][_0x672d52(0x129)](_0x1f56a7);if(!_0x361f56)throw new x(_0x672d52(0xd9));_0x56d3fd?.[_0x672d52(0x46e)]&&(_0x56d3fd[_0x672d52(0x46e)]?.[_0x672d52(0x275)]?_0x441237=_0x361f56[_0x672d52(0x1f5)]['map'](_0x1f0448=>_0x1f0448['id']):_0x56d3fd[_0x672d52(0x46e)]?.['mentioned']?.[_0x672d52(0x4d2)]&&(_0x441237=_0x56d3fd['mentions']['mentioned'][_0x672d52(0x58e)](_0x8090d=>{const _0x5187b7=_0x672d52;let _0x39e4d0=this[_0x5187b7(0x12e)](_0x8090d);return(0x0,w[_0x5187b7(0x525)])(_0x39e4d0)?null:_0x39e4d0;})));}catch{throw new x('Group\x20not\x20found');}let _0x3a31a5=await((async()=>{const _0x38fbd7=_0x672d52;let _0x13d150={'quoted':_0x250917};if(!_0x2c29[_0x38fbd7(0x322)]&&!_0x2c29[_0x38fbd7(0x21e)]&&!_0x2c29['sticker']&&!_0x2c29[_0x38fbd7(0x26b)]&&_0x1f56a7!=='status@broadcast'&&!_0x2c29[_0x38fbd7(0x322)])return await this['client'][_0x38fbd7(0x3f4)](_0x1f56a7,{'forward':{'key':{'remoteJid':this[_0x38fbd7(0xc1)][_0x38fbd7(0x3e0)],'fromMe':!0x0},'message':_0x2c29},'mentions':_0x441237},_0x13d150);if(_0x2c29[_0x38fbd7(0x26b)]){let _0x318d99=_0x2c29['conversation'];return _0x56d3fd?.['changeVariables']&&(_0x318d99=await this[_0x38fbd7(0x16d)](_0x318d99,_0x1f56a7)),await this['client'][_0x38fbd7(0x3f4)](_0x1f56a7,{'text':_0x318d99,'mentions':_0x441237,'linkPreview':_0x302a95},_0x13d150);}return _0x1f56a7===_0x38fbd7(0x507)?await this[_0x38fbd7(0x63e)][_0x38fbd7(0x3f4)](_0x1f56a7,_0x2c29['status'][_0x38fbd7(0x2c9)],{'backgroundColor':_0x2c29['status']['option'][_0x38fbd7(0xe7)],'font':_0x2c29[_0x38fbd7(0x440)][_0x38fbd7(0x4ed)][_0x38fbd7(0x3af)],'statusJidList':_0x2c29[_0x38fbd7(0x440)][_0x38fbd7(0x4ed)]['statusJidList']}):await this[_0x38fbd7(0x63e)]['sendMessage'](_0x1f56a7,_0x2c29,_0x13d150);})()),{message_normalized:_0x2da53e}=this[_0x672d52(0x688)](_0x3a31a5[_0x672d52(0xd5)],W(_0x3a31a5[_0x672d52(0xd5)]),null),_0x3d88e3={'key':_0x3a31a5[_0x672d52(0x3fb)],'pushName':_0x3a31a5[_0x672d52(0x2ba)],'message':{..._0x3a31a5[_0x672d52(0xd5)]},'messageType':W(_0x3a31a5[_0x672d52(0xd5)]),'message_normalized':{'key':_0x3a31a5[_0x672d52(0x3fb)],'pushName':_0x3a31a5[_0x672d52(0x2ba)],'messageTimestamp':_0x3a31a5[_0x672d52(0x5ca)]&&_0x3a31a5[_0x672d52(0x5ca)][_0x672d52(0x616)]()[_0x672d52(0x4d2)]<0xd?_0x3a31a5[_0x672d52(0x5ca)]*0x3e8:_0x3a31a5[_0x672d52(0x5ca)]||null,'source':(0x0,w[_0x672d52(0x3a4)])(_0x3a31a5[_0x672d52(0x3fb)]['id']),..._0x2da53e},'messageTimestamp':_0x3a31a5[_0x672d52(0x5ca)]&&_0x3a31a5[_0x672d52(0x5ca)]['toString']()[_0x672d52(0x4d2)]<0xd?_0x3a31a5['messageTimestamp']*0x3e8:_0x3a31a5['messageTimestamp']||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x672d52(0x3a4)])(_0x3a31a5['key']['id'])};return this[_0x672d52(0x249)]['log'](_0x3d88e3),await this[_0x672d52(0x276)](_0x672d52(0x649),_0x3d88e3),q(this['instanceName'],_0x672d52(0x58b),{'message':_0x3d88e3}),this['updateChatWithMessage'](this[_0x672d52(0x3d0)][_0x672d52(0x43a)](_0x672d52(0x1d5)),_0x3d88e3,'SEND_MESSAGE'),await this[_0x672d52(0x620)][_0x672d52(0xd5)][_0x672d52(0x694)]([_0x3d88e3],this[_0x672d52(0x3d0)][_0x672d52(0x43a)](_0x672d52(0x1d5))[_0x672d52(0x391)]),_0x3a31a5;}catch(_0x36d446){throw this[_0x672d52(0x249)]['error'](this[_0x672d52(0x128)]+'\x20('+this[_0x672d52(0xc1)]['wuid']+'):\x20'+_0x36d446[_0x672d52(0x616)]()),new g(_0x36d446[_0x672d52(0x616)]());}}get['connectionStatus'](){const _0x4da857=a0_0x32cdd8;return this[_0x4da857(0x500)];}async['textMessage'](_0x663dea){const _0x523f5d=a0_0x32cdd8;let _0x1e1497=this[_0x523f5d(0x3d0)][_0x523f5d(0x43a)]('TRIAL_AD'),_0x5f0167=this[_0x523f5d(0x3d0)][_0x523f5d(0x43a)](_0x523f5d(0x618));return _0x5f0167&&this[_0x523f5d(0x128)]['toLowerCase']()[_0x523f5d(0x5d1)](_0x5f0167[_0x523f5d(0x61d)]())&&(_0x663dea['textMessage'][_0x523f5d(0x25e)]+='\x0a\x0a'+_0x1e1497),await this['sendMessageWithTyping'](_0x663dea['number'],{'conversation':_0x663dea[_0x523f5d(0x5ee)][_0x523f5d(0x25e)]},_0x663dea?.[_0x523f5d(0x109)]);}async[a0_0x32cdd8(0x377)](_0x3efdd3){const _0x59e6cd=a0_0x32cdd8;if(!_0x3efdd3[_0x59e6cd(0x2a0)])throw new g(_0x59e6cd(0x120));if(!_0x3efdd3[_0x59e6cd(0x2c9)])throw new g(_0x59e6cd(0x14c));if(_0x3efdd3[_0x59e6cd(0x1f0)]){let _0x43f59d=await this[_0x59e6cd(0x620)][_0x59e6cd(0x170)][_0x59e6cd(0x614)]({'where':{'owner':this[_0x59e6cd(0xc1)]['wuid']}});if(!_0x43f59d[_0x59e6cd(0x4d2)])throw new g('Contacts\x20not\x20found');_0x3efdd3[_0x59e6cd(0x593)]=_0x43f59d[_0x59e6cd(0x5bd)](_0x4a3537=>_0x4a3537['pushName'])[_0x59e6cd(0x58e)](_0x29b8a2=>_0x29b8a2['id']);}if(!_0x3efdd3[_0x59e6cd(0x593)]?.[_0x59e6cd(0x4d2)]&&!_0x3efdd3[_0x59e6cd(0x1f0)])throw new g(_0x59e6cd(0x167));if(_0x3efdd3['type']===_0x59e6cd(0x25e)){if(!_0x3efdd3[_0x59e6cd(0xe7)])throw new g(_0x59e6cd(0x271));if(!_0x3efdd3[_0x59e6cd(0x3af)])throw new g(_0x59e6cd(0x2f8));return{'content':{'text':_0x3efdd3[_0x59e6cd(0x2c9)]},'option':{'backgroundColor':_0x3efdd3[_0x59e6cd(0xe7)],'font':_0x3efdd3[_0x59e6cd(0x3af)],'statusJidList':_0x3efdd3[_0x59e6cd(0x593)]}};}if(_0x3efdd3['type']===_0x59e6cd(0x131))return{'content':{'image':{'url':_0x3efdd3[_0x59e6cd(0x2c9)]},'caption':_0x3efdd3[_0x59e6cd(0x484)]},'option':{'statusJidList':_0x3efdd3[_0x59e6cd(0x593)]}};if(_0x3efdd3[_0x59e6cd(0x2a0)]===_0x59e6cd(0x39d))return{'content':{'video':{'url':_0x3efdd3['content']},'caption':_0x3efdd3[_0x59e6cd(0x484)]},'option':{'statusJidList':_0x3efdd3['statusJidList']}};if(_0x3efdd3[_0x59e6cd(0x2a0)]==='audio'){this[_0x59e6cd(0x249)][_0x59e6cd(0x2e8)](_0x59e6cd(0x347)),this[_0x59e6cd(0x249)]['verbose'](_0x59e6cd(0x209));let _0x21d3aa=await this[_0x59e6cd(0x379)](_0x3efdd3[_0x59e6cd(0x2c9)]);if(typeof _0x21d3aa=='string'){this[_0x59e6cd(0x249)][_0x59e6cd(0x2e8)](_0x59e6cd(0x51b));let _0x5efcb0=_[_0x59e6cd(0x1ad)](_0x21d3aa)[_0x59e6cd(0x616)](_0x59e6cd(0x2db)),_0x313a0e={'content':{'audio':Buffer[_0x59e6cd(0x1b8)](_0x5efcb0,_0x59e6cd(0x2db)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x3efdd3['statusJidList']}};return _[_0x59e6cd(0x477)](_0x21d3aa),_0x313a0e;}else throw new A(_0x21d3aa);}throw new g(_0x59e6cd(0x504));}async[a0_0x32cdd8(0x1cc)](_0xcf2753){const _0x15c67a=a0_0x32cdd8;return await this[_0x15c67a(0x24d)](_0x15c67a(0x507),{'status':await this[_0x15c67a(0x377)](_0xcf2753[_0x15c67a(0x1cc)])});}async[a0_0x32cdd8(0x3d3)](_0x5e14e7){const _0x9520cd=a0_0x32cdd8;try{let _0x41bfe6=await(0x0,w[_0x9520cd(0x217)])({[_0x5e14e7[_0x9520cd(0x463)]]:(0x0,k[_0x9520cd(0x4f6)])(_0x5e14e7[_0x9520cd(0x3d2)])?{'url':_0x5e14e7[_0x9520cd(0x3d2)]}:Buffer[_0x9520cd(0x1b8)](_0x5e14e7[_0x9520cd(0x3d2)],_0x9520cd(0x2db))},{'upload':this['client'][_0x9520cd(0x1e3)]}),_0x41b264=_0x5e14e7[_0x9520cd(0x463)]+_0x9520cd(0x274);if(_0x5e14e7[_0x9520cd(0x463)]===_0x9520cd(0x5e3)&&!_0x5e14e7[_0x9520cd(0x469)]){let _0x1a402e=new RegExp(/.*\/(.+?)\./)[_0x9520cd(0x41d)](_0x5e14e7[_0x9520cd(0x3d2)]);_0x5e14e7[_0x9520cd(0x469)]=_0x1a402e[0x1];}let _0x138c94;(0x0,k['isURL'])(_0x5e14e7[_0x9520cd(0x3d2)])?_0x138c94=(0x0,Ns['getMIMEType'])(_0x5e14e7[_0x9520cd(0x3d2)]):_0x138c94=(0x0,Ns[_0x9520cd(0x231)])(_0x5e14e7[_0x9520cd(0x469)]);let _0x39f15b=this[_0x9520cd(0x3d0)][_0x9520cd(0x43a)](_0x9520cd(0x449)),_0x9952c5=this[_0x9520cd(0x3d0)][_0x9520cd(0x43a)](_0x9520cd(0x618));return _0x9952c5&&this['instanceName'][_0x9520cd(0x61d)]()[_0x9520cd(0x5d1)](_0x9952c5[_0x9520cd(0x61d)]())&&(_0x5e14e7[_0x9520cd(0x484)]+='\x0a\x0a'+_0x39f15b),_0x41bfe6[_0x41b264][_0x9520cd(0x484)]=_0x5e14e7?.[_0x9520cd(0x484)],_0x41bfe6[_0x41b264][_0x9520cd(0x1bb)]=_0x138c94,_0x41bfe6[_0x41b264][_0x9520cd(0x469)]=_0x5e14e7['fileName'],_0x5e14e7['mediatype']===_0x9520cd(0x39d)&&(_0x41bfe6[_0x41b264]['jpegThumbnail']=Uint8Array['from']((0x0,_e[_0x9520cd(0x1ad)])((0x0,$[_0x9520cd(0x2d3)])(process['cwd'](),_0x9520cd(0x567)))),_0x41bfe6[_0x41b264][_0x9520cd(0x2a1)]=!0x1),(0x0,w[_0x9520cd(0x443)])('',{[_0x41b264]:{..._0x41bfe6[_0x41b264]}},{'userJid':this[_0x9520cd(0xc1)][_0x9520cd(0x3e0)]});}catch(_0x2c3b24){throw this[_0x9520cd(0x249)]['error'](this[_0x9520cd(0x128)]+'\x20('+this[_0x9520cd(0xc1)][_0x9520cd(0x3e0)]+_0x9520cd(0x135)+_0x2c3b24),new A(_0x2c3b24?.[_0x9520cd(0x616)]()||_0x2c3b24);}}async['mediaMessage'](_0x12653d){const _0x52dcd5=a0_0x32cdd8;let _0x4df69a=await this[_0x52dcd5(0x3d3)](_0x12653d[_0x52dcd5(0x4c7)]);return await this[_0x52dcd5(0x24d)](_0x12653d['number'],{..._0x4df69a[_0x52dcd5(0xd5)]},_0x12653d?.[_0x52dcd5(0x109)]);}async[a0_0x32cdd8(0x32d)](_0x852e4c,_0x1c0f52){const _0x5f51b9=a0_0x32cdd8;try{this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x434));let _0x18bf75,_0x52731d=_0x1c0f52+'-'+new Date()[_0x5f51b9(0x2eb)]();this['logger'][_0x5f51b9(0x2e8)](_0x5f51b9(0x17f)+_0x52731d);let _0xc845cd=''+(0x0,$[_0x5f51b9(0x2d3)])(this[_0x5f51b9(0x1b6)],_0x52731d+_0x5f51b9(0x4e4));if(this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x1f2)+_0xc845cd),(0x0,k[_0x5f51b9(0xdd)])(_0x852e4c)){this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x2ad));let _0x4c10e7=_0x852e4c[_0x5f51b9(0x61a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4d37ad=Buffer[_0x5f51b9(0x1b8)](_0x4c10e7,_0x5f51b9(0x2db));_0x18bf75=''+(0x0,$[_0x5f51b9(0x2d3)])(this['storePath'],_0x5f51b9(0x3ed)+_0x52731d+_0x5f51b9(0x189)),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x594)+_0x18bf75),await(0x0,Ut[_0x5f51b9(0x3eb)])(_0x4d37ad)[_0x5f51b9(0x403)](_0x18bf75),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)]('Image\x20created');}else{this[_0x5f51b9(0x249)]['verbose']('Image\x20is\x20url');let _0x771bfd=new Date()[_0x5f51b9(0x2eb)](),_0x50aff9=_0x852e4c+_0x5f51b9(0x537)+_0x771bfd;this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x622)+_0x50aff9);let _0xa7196c=await ue[_0x5f51b9(0x3eb)][_0x5f51b9(0x43a)](_0x50aff9,{'responseType':_0x5f51b9(0x662)});this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x49c));let _0x382cd8=Buffer['from'](_0xa7196c[_0x5f51b9(0x212)],'binary');_0x18bf75=''+(0x0,$[_0x5f51b9(0x2d3)])(this['storePath'],_0x5f51b9(0x3ed)+_0x52731d+'.png'),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)]('Image\x20path:\x20'+_0x18bf75),await(0x0,Ut[_0x5f51b9(0x3eb)])(_0x382cd8)[_0x5f51b9(0x403)](_0x18bf75),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x4da));}return await(0x0,Ut[_0x5f51b9(0x3eb)])(_0x18bf75)[_0x5f51b9(0x242)]()[_0x5f51b9(0x403)](_0xc845cd),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0x64d)),_[_0x5f51b9(0x477)](_0x18bf75),this[_0x5f51b9(0x249)][_0x5f51b9(0x2e8)](_0x5f51b9(0xe5)),_0xc845cd;}catch(_0x10e3ec){console[_0x5f51b9(0x334)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x10e3ec);}}async['mediaSticker'](_0x3b26d5){const _0x263700=a0_0x32cdd8;let _0x392a88=await this['convertToWebP'](_0x3b26d5[_0x263700(0x220)][_0x263700(0x131)],_0x3b26d5['number']),_0x312b4e=await this['sendMessageWithTyping'](_0x3b26d5['number'],{'sticker':{'url':_0x392a88}},_0x3b26d5?.['options']);return _['unlinkSync'](_0x392a88),this[_0x263700(0x249)][_0x263700(0x2e8)](_0x263700(0x52f)),_0x312b4e;}async[a0_0x32cdd8(0x5e2)](_0x1e3389){const _0x1f99fb=a0_0x32cdd8;if(this[_0x1f99fb(0x249)][_0x1f99fb(0x2e8)](_0x1f99fb(0x2ce)),!_0x1e3389[_0x1f99fb(0x109)]?.[_0x1f99fb(0x161)]&&_0x1e3389[_0x1f99fb(0x109)]?.[_0x1f99fb(0x161)]!==!0x1&&(_0x1e3389['options'][_0x1f99fb(0x161)]=!0x0),_0x1e3389[_0x1f99fb(0x109)]?.[_0x1f99fb(0x161)]){let _0x373b66=await this[_0x1f99fb(0x379)](_0x1e3389[_0x1f99fb(0x142)][_0x1f99fb(0x322)]);if(typeof _0x373b66==_0x1f99fb(0x4d6)){let _0xd47112=_[_0x1f99fb(0x1ad)](_0x373b66)[_0x1f99fb(0x616)]('base64'),_0x5d5614=this['sendMessageWithTyping'](_0x1e3389['number'],{'audio':Buffer['from'](_0xd47112,_0x1f99fb(0x2db)),'ptt':!0x0,'mimetype':_0x1f99fb(0x531)},{'presence':_0x1f99fb(0x38f),'delay':_0x1e3389?.[_0x1f99fb(0x109)]?.[_0x1f99fb(0x3a6)]});return _[_0x1f99fb(0x477)](_0x373b66),this['logger'][_0x1f99fb(0x2e8)](_0x1f99fb(0x2d4)),_0x5d5614;}else throw new A(_0x373b66);}return await this[_0x1f99fb(0x24d)](_0x1e3389[_0x1f99fb(0x1fa)],{'audio':(0x0,k[_0x1f99fb(0x4f6)])(_0x1e3389[_0x1f99fb(0x142)]['audio'])?{'url':_0x1e3389[_0x1f99fb(0x142)][_0x1f99fb(0x322)]}:Buffer[_0x1f99fb(0x1b8)](_0x1e3389[_0x1f99fb(0x142)][_0x1f99fb(0x322)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x1f99fb(0x38f),'delay':_0x1e3389?.['options']?.[_0x1f99fb(0x3a6)]});}async[a0_0x32cdd8(0x379)](_0x58f2eb){const _0x1b0402=a0_0x32cdd8;this['logger']['verbose']('Processing\x20audio');let _0x3206e7,_0x53578,_0x2dea3e=(0x0,Lt['v4'])();if(this[_0x1b0402(0x249)]['verbose']('Hash\x20to\x20audio\x20name:\x20'+_0x2dea3e),(0x0,k['isURL'])(_0x58f2eb)){this['logger'][_0x1b0402(0x2e8)](_0x1b0402(0x23f)),_0x53578=''+(0x0,$[_0x1b0402(0x2d3)])(this[_0x1b0402(0x1b6)],_0x2dea3e+'.mp4'),_0x3206e7=''+(0x0,$[_0x1b0402(0x2d3)])(this['storePath'],_0x1b0402(0x3ed)+_0x2dea3e+_0x1b0402(0x405)),this[_0x1b0402(0x249)][_0x1b0402(0x2e8)](_0x1b0402(0x453)+_0x53578),this[_0x1b0402(0x249)][_0x1b0402(0x2e8)]('Temp\x20audio\x20path:\x20'+_0x3206e7);let _0x5948c1=new Date()[_0x1b0402(0x2eb)](),_0x37b44c=_0x58f2eb+'?timestamp='+_0x5948c1;this[_0x1b0402(0x249)][_0x1b0402(0x2e8)](_0x1b0402(0x51f)+_0x37b44c);let _0x570826=await ue[_0x1b0402(0x3eb)][_0x1b0402(0x43a)](_0x37b44c,{'responseType':'arraybuffer'});this['logger']['verbose'](_0x1b0402(0x47f)),_[_0x1b0402(0x4c4)](_0x3206e7,_0x570826[_0x1b0402(0x212)]);}else{this[_0x1b0402(0x249)][_0x1b0402(0x2e8)](_0x1b0402(0x31d)),_0x53578=''+(0x0,$[_0x1b0402(0x2d3)])(this[_0x1b0402(0x1b6)],_0x2dea3e+'.mp4'),_0x3206e7=''+(0x0,$[_0x1b0402(0x2d3)])(this['storePath'],_0x1b0402(0x3ed)+_0x2dea3e+_0x1b0402(0x405)),this['logger']['verbose'](_0x1b0402(0x453)+_0x53578),this['logger'][_0x1b0402(0x2e8)](_0x1b0402(0x1aa)+_0x3206e7);let _0x2985c4=Buffer[_0x1b0402(0x1b8)](_0x58f2eb,_0x1b0402(0x2db));_[_0x1b0402(0x4c4)](_0x3206e7,_0x2985c4),this['logger']['verbose'](_0x1b0402(0x355));}return this[_0x1b0402(0x249)][_0x1b0402(0x2e8)](_0x1b0402(0x5e6)),new Promise((_0x13f4fb,_0x391a5f)=>{const _0x3b620c=_0x1b0402;(0x0,Vt[_0x3b620c(0x41d)])(uo[_0x3b620c(0x3eb)][_0x3b620c(0x2f4)]+'\x20-i\x20'+_0x3206e7+_0x3b620c(0x4fd)+_0x53578+_0x3b620c(0x3f8),_0x5a75c9=>{const _0x5a3fee=_0x3b620c;_[_0x5a3fee(0x477)](_0x3206e7),this[_0x5a3fee(0x249)][_0x5a3fee(0x2e8)](_0x5a3fee(0x67f)),_0x5a75c9&&_0x391a5f(_0x5a75c9),this[_0x5a3fee(0x249)][_0x5a3fee(0x2e8)](_0x5a3fee(0x294)),_0x13f4fb(_0x53578);});});}async[a0_0x32cdd8(0x65d)](_0x5be90f){const _0x325593=a0_0x32cdd8;let _0xc2ba8d={},_0x5a7c32=_0x325593(0x382);if(_0x5be90f['buttonMessage']?.[_0x325593(0x4c7)]){_0x5a7c32=_0x5be90f[_0x325593(0x65d)][_0x325593(0x4c7)]?.[_0x325593(0x463)]['toUpperCase']()??'TEXT',_0xc2ba8d[_0x325593(0x40b)]=_0x5a7c32[_0x325593(0x61d)]()+'Message';let _0x6221cb=await this[_0x325593(0x3d3)](_0x5be90f['buttonMessage'][_0x325593(0x4c7)]);_0xc2ba8d[_0x325593(0xd5)]=_0x6221cb[_0x325593(0xd5)][_0xc2ba8d[_0x325593(0x40b)]],_0xc2ba8d[_0x325593(0x2ff)]='*'+_0x5be90f[_0x325593(0x65d)][_0x325593(0x2b9)]+_0x325593(0x335)+_0x5be90f[_0x325593(0x65d)]['description'];}let _0x4d7de0={'text':_0x5be90f[_0x325593(0x65d)]['buttons'][_0x325593(0x58e)](_0x2fec1a=>_0x2fec1a['buttonText']),'ids':_0x5be90f[_0x325593(0x65d)][_0x325593(0x4db)][_0x325593(0x58e)](_0x3fddba=>_0x3fddba[_0x325593(0x5bc)])};if(!(0x0,k[_0x325593(0x1b7)])(_0x4d7de0['text'])||!(0x0,k['arrayUnique'])(_0x4d7de0['ids']))throw new g(_0x325593(0x69b),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x325593(0x24d)](_0x5be90f[_0x325593(0x1fa)],{'buttonsMessage':{'text':_0xc2ba8d?.[_0x325593(0x40b)]?void 0x0:_0x5be90f[_0x325593(0x65d)][_0x325593(0x2b9)],'contentText':_0xc2ba8d?.[_0x325593(0x2ff)]??_0x5be90f[_0x325593(0x65d)][_0x325593(0x6a0)],'footerText':_0x5be90f[_0x325593(0x65d)]?.['footerText'],'buttons':_0x5be90f[_0x325593(0x65d)][_0x325593(0x4db)]['map'](_0x23a7bc=>({'buttonText':{'displayText':_0x23a7bc['buttonText']},'buttonId':_0x23a7bc[_0x325593(0x5bc)],'type':0x1})),'headerType':w[_0x325593(0x492)][_0x325593(0x274)]['ButtonsMessage'][_0x325593(0xcd)][_0x5a7c32],[_0xc2ba8d?.['mediaKey']]:_0xc2ba8d?.[_0x325593(0xd5)]}},_0x5be90f?.[_0x325593(0x109)]);}async[a0_0x32cdd8(0x221)](_0x25cb42){const _0x2afc68=a0_0x32cdd8;return await this[_0x2afc68(0x24d)](_0x25cb42[_0x2afc68(0x1fa)],{'locationMessage':{'degreesLatitude':_0x25cb42[_0x2afc68(0x221)][_0x2afc68(0x3bf)],'degreesLongitude':_0x25cb42['locationMessage'][_0x2afc68(0x495)],'name':_0x25cb42[_0x2afc68(0x221)]?.[_0x2afc68(0x127)],'address':_0x25cb42['locationMessage']?.[_0x2afc68(0x599)]}},_0x25cb42?.[_0x2afc68(0x109)]);}async['listMessage'](_0x5187f7){const _0x595f7e=a0_0x32cdd8;return await this[_0x595f7e(0x24d)](_0x5187f7[_0x595f7e(0x1fa)],{'listMessage':{'title':_0x5187f7[_0x595f7e(0xde)][_0x595f7e(0x2b9)],'description':_0x5187f7['listMessage'][_0x595f7e(0x6a0)],'buttonText':_0x5187f7[_0x595f7e(0xde)]?.['buttonText'],'footerText':_0x5187f7[_0x595f7e(0xde)]?.['footerText'],'sections':_0x5187f7[_0x595f7e(0xde)][_0x595f7e(0x581)],'listType':0x1}},_0x5187f7?.[_0x595f7e(0x109)]);}async[a0_0x32cdd8(0x5d8)](_0x2c669f){const _0x1286d6=a0_0x32cdd8;let _0x50f090={},_0x440396=_0x4e0cb2=>{const _0x2dba4d=a0_0x282e;let _0xecdb78=_0x2dba4d(0x512)+_0x4e0cb2['fullName']+_0x2dba4d(0x267)+_0x4e0cb2[_0x2dba4d(0x664)]+'\x0a';_0x4e0cb2[_0x2dba4d(0x444)]&&(_0xecdb78+='ORG:'+_0x4e0cb2[_0x2dba4d(0x444)]+';\x0a'),_0x4e0cb2['email']&&(_0xecdb78+=_0x2dba4d(0x63a)+_0x4e0cb2[_0x2dba4d(0x3b6)]+'\x0a'),_0x4e0cb2[_0x2dba4d(0x176)]&&(_0xecdb78+=_0x2dba4d(0x613)+_0x4e0cb2[_0x2dba4d(0x176)]+'\x0a');let _0x41fed2='';return _0x4e0cb2[_0x2dba4d(0x2bd)]&&_0x4e0cb2[_0x2dba4d(0x2bd)][_0x2dba4d(0x5af)]('|')[_0x2dba4d(0x5dd)]((_0x4dc56a,_0x17f12d)=>{const _0x50a385=_0x2dba4d;let _0x4a2c1f=this['createJid'](_0x4dc56a)[_0x50a385(0x61a)]('@s.whatsapp.net','');_0x41fed2+=_0x50a385(0xc4)+(_0x17f12d+0x1)+_0x50a385(0x545)+_0x4a2c1f+':'+_0x4dc56a+'\x0aitem'+(_0x17f12d+0x1)+'.X-ABLabel:Celular\x0a';}),_0xecdb78+=_0x41fed2+_0x2dba4d(0x50f),_0xecdb78;};return _0x2c669f['contactMessage']['length']===0x1?_0x50f090['contactMessage']={'displayName':_0x2c669f[_0x1286d6(0x5d8)][0x0][_0x1286d6(0x664)],'vcard':_0x440396(_0x2c669f[_0x1286d6(0x5d8)][0x0])}:_0x50f090[_0x1286d6(0x1fb)]={'displayName':_0x2c669f[_0x1286d6(0x5d8)][_0x1286d6(0x4d2)]+_0x1286d6(0x4c6),'contacts':_0x2c669f[_0x1286d6(0x5d8)][_0x1286d6(0x58e)](_0x227190=>({'displayName':_0x227190[_0x1286d6(0x664)],'vcard':_0x440396(_0x227190)}))},await this[_0x1286d6(0x24d)](_0x2c669f[_0x1286d6(0x1fa)],{..._0x50f090},_0x2c669f?.[_0x1286d6(0x109)]);}async[a0_0x32cdd8(0x1a5)](_0x46f5f6){const _0x339f50=a0_0x32cdd8;return await this['sendMessageWithTyping'](_0x46f5f6[_0x339f50(0x1a5)][_0x339f50(0x3fb)][_0x339f50(0x420)],{'reactionMessage':{'key':_0x46f5f6[_0x339f50(0x1a5)][_0x339f50(0x3fb)],'text':_0x46f5f6[_0x339f50(0x1a5)][_0x339f50(0x673)]}});}async['whatsappNumber'](_0x3e8bf3){const _0xdd74a6=a0_0x32cdd8;let _0x3b5c73=[];for await(let _0x4166ac of _0x3e8bf3[_0xdd74a6(0x2df)]){let _0x1ad076=this[_0xdd74a6(0x12e)](_0x4166ac);if((0x0,w[_0xdd74a6(0x525)])(_0x1ad076)){let _0x1fd1c3=await this[_0xdd74a6(0x60e)]({'groupJid':_0x1ad076},_0xdd74a6(0x11a));_0x3b5c73[_0xdd74a6(0x58a)](new fe(_0x1fd1c3['metadata']['id'],!!_0x1fd1c3?.['metadata']['id'],_0x1fd1c3?.[_0xdd74a6(0x351)][_0xdd74a6(0x406)]));}else try{let _0x47edfa=(await this[_0xdd74a6(0x63e)]['onWhatsApp'](_0x1ad076))[0x0];_0x3b5c73[_0xdd74a6(0x58a)](new fe(_0x47edfa[_0xdd74a6(0x5df)],_0x47edfa[_0xdd74a6(0x1fe)]));}catch{_0x3b5c73[_0xdd74a6(0x58a)](new fe(_0x4166ac,!0x1));}}return _0x3b5c73;}async[a0_0x32cdd8(0x546)](_0x169a8f){const _0x38d64f=a0_0x32cdd8;try{let _0x29721c=_0x169a8f[_0x38d64f(0x384)][_0x38d64f(0x5bd)](_0x442c96=>(0x0,w[_0x38d64f(0x525)])(_0x442c96[_0x38d64f(0x420)])||(0x0,w['isJidUser'])(_0x442c96['remoteJid']))[_0x38d64f(0x58e)](_0x349c93=>({'remoteJid':_0x349c93[_0x38d64f(0x420)],'fromMe':_0x349c93[_0x38d64f(0x4a9)],'id':_0x349c93['id']}));await this['client'][_0x38d64f(0x384)](_0x29721c);let _0xe00fcd=_0x29721c[_0x38d64f(0x58e)](_0x3122d9=>this[_0x38d64f(0x64b)](_0x3122d9,_0x3122d9[_0x38d64f(0x420)],{'status':_0x38d64f(0x16a),'owner':this[_0x38d64f(0xc1)][_0x38d64f(0x3e0)]})),_0xccaab=_0x29721c[_0x38d64f(0x58e)](_0x1b49a2=>D[_0x38d64f(0x31a)]({'id':_0x1b49a2[_0x38d64f(0x420)],'owner':this[_0x38d64f(0xc1)][_0x38d64f(0x3e0)]},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x39bfb3,_0x1a5074]=await Promise[_0x38d64f(0x12c)]([Promise['all'](_0xe00fcd),Promise[_0x38d64f(0x12c)](_0xccaab)]);return _0x1a5074[_0x38d64f(0x5bd)](_0x4a7c71=>_0x4a7c71!==null)[_0x38d64f(0x5dd)](_0xedcc27=>{const _0x533a36=_0x38d64f;q(this['instanceName'],_0x533a36(0x324),{'chat':_0xedcc27});}),{'message':_0x38d64f(0x134),'read':_0x38d64f(0x344)};}catch(_0x281873){throw console['error'](_0x38d64f(0x10d),_0x281873),new A(_0x38d64f(0x16e),_0x281873[_0x38d64f(0x616)]());}}async[a0_0x32cdd8(0xd4)](_0x511bc0){const _0x17bb35=a0_0x32cdd8;let _0x4cb4ad=await this[_0x17bb35(0x48d)]({'where':{'key':{'remoteJid':_0x511bc0},'owner':this[_0x17bb35(0xc1)][_0x17bb35(0x127)]}}),_0x529386=_0x4cb4ad[_0x17bb35(0x558)]();for(let _0x53bb9f of _0x4cb4ad)_0x53bb9f[_0x17bb35(0x5ca)]>=_0x529386['messageTimestamp']&&(_0x529386=_0x53bb9f);return _0x529386;}async['archiveChat'](_0x4c4ffc){const _0x402227=a0_0x32cdd8;this[_0x402227(0x249)][_0x402227(0x2e8)](_0x402227(0x13e));try{let _0x101bdf=_0x4c4ffc[_0x402227(0x585)],_0x1bafcc=_0x4c4ffc['chat'];if(!_0x101bdf&&_0x1bafcc?_0x101bdf=await this['getLastMessage'](_0x1bafcc):(_0x101bdf=_0x4c4ffc[_0x402227(0x585)],_0x101bdf['messageTimestamp']=_0x101bdf?.[_0x402227(0x5ca)]??Date[_0x402227(0xef)](),_0x1bafcc=_0x101bdf?.[_0x402227(0x3fb)]?.[_0x402227(0x420)]),!_0x101bdf||Object['keys'](_0x101bdf)[_0x402227(0x4d2)]===0x0)throw new x('Last\x20message\x20not\x20found');return await this[_0x402227(0x63e)][_0x402227(0x682)]({'archive':_0x4c4ffc[_0x402227(0x674)],'lastMessages':[_0x101bdf]},this[_0x402227(0x12e)](_0x1bafcc)),{'chatId':_0x1bafcc,'archived':!0x0};}catch(_0x84606e){throw new A({'archived':!0x1,'message':[_0x402227(0x300),_0x84606e['toString']()]});}}async['deleteMessage'](_0x78dd06){const _0x4a42e6=a0_0x32cdd8;try{let _0x47f334=await this[_0x4a42e6(0x63e)][_0x4a42e6(0x3f4)](_0x78dd06[_0x4a42e6(0x420)],{'delete':_0x78dd06});try{let _0x227192=await this[_0x4a42e6(0x64b)](_0x78dd06,_0x78dd06[_0x4a42e6(0x420)],{'status':_0x4a42e6(0x464),'owner':this[_0x4a42e6(0xc1)]['wuid']});this['logger'][_0x4a42e6(0x2e8)](this['instanceName']+'\x20('+this[_0x4a42e6(0xc1)][_0x4a42e6(0x3e0)]+_0x4a42e6(0x5f0)+_0x227192);}catch(_0x15cc13){console['error']('Error\x20updating\x20message\x20status:',_0x15cc13);}return _0x47f334;}catch(_0x2f4e76){throw new A(_0x4a42e6(0x193),_0x2f4e76?.[_0x4a42e6(0x616)]());}}async[a0_0x32cdd8(0x3dd)](_0x1c4e1b){const _0x105c7e=a0_0x32cdd8;try{let _0x150ae4=_0x1c4e1b?.[_0x105c7e(0xd5)]?_0x1c4e1b:await this['getMessage'](_0x1c4e1b['key'],!0x0);for(let _0x30a653 of Zs)_0x150ae4[_0x105c7e(0xd5)][_0x30a653]&&(_0x150ae4[_0x105c7e(0xd5)]=_0x150ae4[_0x105c7e(0xd5)][_0x30a653][_0x105c7e(0xd5)]);let _0x283ee6,_0x3916bd;for(let _0x1c5539 of Xs)if(_0x283ee6=_0x150ae4[_0x105c7e(0xd5)][_0x1c5539],_0x283ee6){_0x3916bd=_0x1c5539;break;}if(!_0x283ee6)throw _0x105c7e(0x44b);typeof _0x283ee6['mediaKey']==_0x105c7e(0x359)&&(_0x150ae4[_0x105c7e(0xd5)]=JSON[_0x105c7e(0x49b)](JSON[_0x105c7e(0x679)](_0x150ae4[_0x105c7e(0xd5)])));let _0x43c6b9=await(0x0,w[_0x105c7e(0x1f1)])({'key':_0x150ae4?.[_0x105c7e(0x3fb)],'message':_0x150ae4?.[_0x105c7e(0xd5)]},_0x105c7e(0x50d),{},{'logger':(0x0,kt[_0x105c7e(0x3eb)])({'level':_0x105c7e(0x334)}),'reuploadRequest':this['client'][_0x105c7e(0xbd)]});if(!(_0x43c6b9 instanceof Buffer))throw new Error(_0x105c7e(0x456));let _0x1b8b52=this[_0x105c7e(0x3d0)][_0x105c7e(0x43a)](_0x105c7e(0x1d5)),_0x538d0f,_0x354cfa;if(_0x283ee6[_0x105c7e(0x469)])_0x538d0f=_0x283ee6['fileName'];else{let _0x299475=_0x283ee6['mimetype']?.[_0x105c7e(0x1db)](/\/(\w+)/),_0xc1ac6=_0x299475?_0x299475[0x1]:null;if(!_0xc1ac6)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x538d0f=(0x0,Lt['v4'])()+'.'+_0xc1ac6;}_0x3916bd===_0x105c7e(0x142)&&_0x283ee6[_0x105c7e(0x1bb)]===_0x105c7e(0x247)?(_0x538d0f=(0x0,Lt['v4'])()+'.ogg',_0x354cfa=_0x105c7e(0x41f)+await this['convertaudio'](_0x43c6b9[_0x105c7e(0x616)](_0x105c7e(0x2db)))):(await this['saveMediaToFile'](_0x43c6b9,_0x538d0f),_0x354cfa=_0x105c7e(0x41f)+_0x538d0f);let _0x522c4f=this[_0x105c7e(0x3d0)][_0x105c7e(0x43a)]('SSL_CONF'),_0x18c92e=this[_0x105c7e(0x3d0)][_0x105c7e(0x43a)](_0x105c7e(0x387))[_0x105c7e(0x20a)],_0x57e364=_0x522c4f&&_0x522c4f[_0x105c7e(0x47b)][_0x105c7e(0x5af)]('/')[0x4];_0x18c92e===0x1bb&&(_0x354cfa=''+(_0x105c7e(0x4e9)+_0x57e364)+_0x354cfa);let _0x1c3ad9=0xc*0x3c*0x3c*0x3e8;if(_0x1b8b52[_0x105c7e(0x391)]){let _0x342d1b={'where':{'key':{'id':_0x150ae4['key']['id'],'remoteJid':_0x150ae4[_0x105c7e(0x3fb)]['remoteJid'],'fromMe':_0x150ae4['key']['fromMe']},'owner':this[_0x105c7e(0xc1)][_0x105c7e(0x3e0)]}};_0x150ae4[_0x105c7e(0x3fb)][_0x105c7e(0x420)][_0x105c7e(0x3f2)](_0x105c7e(0x3e6))&&(_0x342d1b[_0x105c7e(0x424)][_0x105c7e(0x3fb)][_0x105c7e(0x19b)]=_0x150ae4['key']['participant']);let _0x3f7411={'message_normalized.fileUrl':_0x354cfa,'message_normalized.expires_fileUrl':Date[_0x105c7e(0xef)]()+_0x1c3ad9};try{let _0x3571c1=await this['repository'][_0x105c7e(0xd5)][_0x105c7e(0x608)](_0x342d1b,_0x3f7411);_0x3571c1&&q(this[_0x105c7e(0x128)],_0x105c7e(0x58b),{'message':_0x3571c1});}catch{}}return{'mediaType':_0x3916bd,'fileName':_0x283ee6['fileName'],'caption':_0x283ee6[_0x105c7e(0x484)],'size':{'fileLength':_0x283ee6[_0x105c7e(0x157)],'height':_0x283ee6[_0x105c7e(0x551)],'width':_0x283ee6[_0x105c7e(0x254)]},'mimetype':_0x283ee6[_0x105c7e(0x1bb)],'base64':_0x43c6b9[_0x105c7e(0x616)](_0x105c7e(0x2db)),'fileUrl':_0x354cfa,'expires_fileUrl':Date[_0x105c7e(0xef)]()+_0x1c3ad9};}catch(_0x318202){throw this[_0x105c7e(0x249)][_0x105c7e(0x334)](this[_0x105c7e(0x128)]+'\x20('+this[_0x105c7e(0xc1)][_0x105c7e(0x3e0)]+_0x105c7e(0x135)+_0x318202),new g(_0x318202[_0x105c7e(0x616)]());}}async[a0_0x32cdd8(0x68d)](_0x50cb0a,_0x32ebd2){const _0x4ba639=a0_0x32cdd8;console[_0x4ba639(0x55a)]('Initial\x20__dirname:',__dirname),console['log'](_0x4ba639(0x660),_0x32ebd2);let _0x4108c3=$[_0x4ba639(0x3eb)]['join'](__dirname,_0x4ba639(0x48e));console[_0x4ba639(0x55a)](_0x4ba639(0x52d),_0x4108c3),_[_0x4ba639(0x4f4)](_0x4108c3)||(this[_0x4ba639(0x249)][_0x4ba639(0x55a)](_0x4ba639(0x53d)),_[_0x4ba639(0x493)](_0x4108c3,{'recursive':!0x0}));let _0x2eafbf=$['default']['join'](_0x4108c3,_0x32ebd2);return console['log']('Full\x20file\x20path:',_0x2eafbf),new Promise((_0x1b0e44,_0x42cb6a)=>{const _0x3338d0=_0x4ba639;_[_0x3338d0(0xe1)](_0x2eafbf,_0x50cb0a,_0x2c5f99=>{const _0x17f185=_0x3338d0;_0x2c5f99?(this[_0x17f185(0x249)]['error']('Error\x20writing\x20file:\x20'+_0x2c5f99[_0x17f185(0xd5)]),_0x42cb6a(_0x2c5f99)):(this[_0x17f185(0x249)][_0x17f185(0x55a)]('File\x20written\x20to\x20path:\x20'+_0x2eafbf),_0x1b0e44(_0x2eafbf));});});}async[a0_0x32cdd8(0x5db)](_0x425a96){const _0x4d3850=a0_0x32cdd8;return _0x425a96?.['where']?_0x425a96[_0x4d3850(0x424)][_0x4d3850(0x22b)]=this['instance'][_0x4d3850(0x3e0)]:_0x425a96={'where':{'owner':this[_0x4d3850(0xc1)][_0x4d3850(0x3e0)]}},await this['repository']['contact'][_0x4d3850(0x614)](_0x425a96);}async[a0_0x32cdd8(0x48d)](_0x25ac39){const _0x49c516=a0_0x32cdd8;return _0x25ac39?.['where']?_0x25ac39[_0x49c516(0x424)]['owner']=this[_0x49c516(0xc1)][_0x49c516(0x3e0)]:_0x25ac39={'where':{'owner':this[_0x49c516(0xc1)][_0x49c516(0x3e0)]},'limit':_0x25ac39?.[_0x49c516(0x4f7)]},await this['repository'][_0x49c516(0xd5)]['find'](_0x25ac39);}async['fetchStatusMessage'](_0x34ca35){const _0x44f515=a0_0x32cdd8;return _0x34ca35?.['where']?_0x34ca35['where'][_0x44f515(0x22b)]=this[_0x44f515(0xc1)][_0x44f515(0x3e0)]:_0x34ca35={'where':{'owner':this['instance'][_0x44f515(0x3e0)]},'limit':_0x34ca35?.[_0x44f515(0x4f7)]},await this[_0x44f515(0x620)][_0x44f515(0x59d)][_0x44f515(0x614)](_0x34ca35);}async[a0_0x32cdd8(0x205)](){const _0x54060d=a0_0x32cdd8;return await this[_0x54060d(0x620)][_0x54060d(0x612)][_0x54060d(0x614)]({'where':{'owner':this['instance'][_0x54060d(0x3e0)]}});}async['fetchPrivacySettings'](){const _0x53fd3c=a0_0x32cdd8;return await this[_0x53fd3c(0x63e)]['fetchPrivacySettings']();}async[a0_0x32cdd8(0x4c3)](_0x254b86){const _0x3fe8fe=a0_0x32cdd8;try{return await this[_0x3fe8fe(0x63e)]['updateReadReceiptsPrivacy'](_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x68f)]),await this['client'][_0x3fe8fe(0x245)](_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x183)]),await this[_0x3fe8fe(0x63e)][_0x3fe8fe(0x5a0)](_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x440)]),await this[_0x3fe8fe(0x63e)][_0x3fe8fe(0x555)](_0x254b86['privacySettings'][_0x3fe8fe(0x5ed)]),await this['client'][_0x3fe8fe(0x353)](_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x62b)]),await this['client'][_0x3fe8fe(0x3f1)](_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x50b)]),this['client']?.['ws']?.['close'](),{'update':_0x3fe8fe(0x344),'data':{'readreceipts':_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x68f)],'profile':_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x183)],'status':_0x254b86[_0x3fe8fe(0x306)][_0x3fe8fe(0x440)],'online':_0x254b86[_0x3fe8fe(0x306)]['online'],'last':_0x254b86['privacySettings'][_0x3fe8fe(0x62b)],'groupadd':_0x254b86[_0x3fe8fe(0x306)]['groupadd']}};}catch(_0x3ad42e){throw new A('Error\x20updating\x20privacy\x20settings',_0x3ad42e[_0x3fe8fe(0x616)]());}}async[a0_0x32cdd8(0x196)](_0xb18357){const _0x5a1cc6=a0_0x32cdd8;let _0x507871=_0xb18357?this['createJid'](_0xb18357):this[_0x5a1cc6(0x63e)]?.[_0x5a1cc6(0x312)]?.['id'];this[_0x5a1cc6(0x249)][_0x5a1cc6(0x2e8)]('Getting\x20profile\x20with\x20jid:\x20'+_0x507871);try{if(this[_0x5a1cc6(0x249)][_0x5a1cc6(0x2e8)](_0x5a1cc6(0x2c5)),_0xb18357){let _0x4d6bdb=(await this[_0x5a1cc6(0x264)]({'numbers':[_0x507871]}))?.[_0x5a1cc6(0x185)](),_0xbe1e1d=await this[_0x5a1cc6(0x5d2)](_0x4d6bdb?.[_0x5a1cc6(0x5df)]),_0x53fbe2=await this[_0x5a1cc6(0x548)](_0x4d6bdb?.['jid']),_0x114ac2=await this['fetchBusinessProfile'](_0x4d6bdb?.[_0x5a1cc6(0x5df)]);return{'wuid':_0x4d6bdb?.[_0x5a1cc6(0x5df)]||_0x507871,'name':_0x4d6bdb?.[_0x5a1cc6(0x127)],'numberExists':_0x4d6bdb?.[_0x5a1cc6(0x1fe)],'picture':_0xbe1e1d?.[_0x5a1cc6(0x60b)],'status':_0x53fbe2?.[_0x5a1cc6(0x440)],'isBusiness':_0x114ac2[_0x5a1cc6(0x26d)],'email':_0x114ac2?.[_0x5a1cc6(0x3b6)],'description':_0x114ac2?.['description'],'website':_0x114ac2?.[_0x5a1cc6(0x26f)]?.[_0x5a1cc6(0x185)]()};}}catch{return this[_0x5a1cc6(0x249)]['verbose']('Profile\x20not\x20found'),{'wuid':_0x507871,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x32cdd8(0x35d)](_0x2e9867){const _0x26302f=a0_0x32cdd8;let _0x4fde40=_0x2e9867?this['createJid'](_0x2e9867):this[_0x26302f(0x63e)]?.['user']?.['id'];this[_0x26302f(0x249)][_0x26302f(0x2e8)](_0x26302f(0x219)+_0x4fde40);let _0x1ffecc=await Fe[_0x26302f(0x506)]({'id':_0x4fde40}),_0x42e27c=_0x1ffecc?_0x1ffecc[_0x26302f(0x2ba)]:null;try{let _0x47e2db=(await this['whatsappNumber']({'numbers':[_0x4fde40]}))?.['shift'](),_0xf964c5=await this[_0x26302f(0x5d2)](_0x47e2db?.[_0x26302f(0x5df)]),_0x1b2bcc=await this['getStatus'](_0x47e2db?.[_0x26302f(0x5df)]),_0x3f345e=await this[_0x26302f(0x211)](_0x47e2db?.[_0x26302f(0x5df)]),_0x1f5985={'imagechat':_0xf964c5?.[_0x26302f(0x60b)],'contactname':_0x42e27c||null,'status':_0x1b2bcc?.['status'],'isBusiness':_0x3f345e['isBusiness'],'email':_0x3f345e?.[_0x26302f(0x3b6)],'description':_0x3f345e?.[_0x26302f(0x6a0)],'website':_0x3f345e?.[_0x26302f(0x26f)]?.[_0x26302f(0x185)](),'lastcache':Date['now']()},_0x9675ca=await D['findOneAndUpdate']({'id':_0x4fde40,'owner':this['instance'][_0x26302f(0x3e0)]},{'$set':_0x1f5985,'$setOnInsert':{'name':_0x47e2db?.[_0x26302f(0x127)]||null}},{'upsert':!0x0,'new':!0x0});return _0x9675ca&&q(this['instanceName'],'chats',{'chat':_0x9675ca}),_0x1f5985;}catch(_0x10a902){return this[_0x26302f(0x249)][_0x26302f(0x334)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+_0x10a902),{};}}async[a0_0x32cdd8(0x211)](_0x51431f){const _0x1d54c1=a0_0x32cdd8;this[_0x1d54c1(0x249)][_0x1d54c1(0x2e8)](_0x1d54c1(0x637));try{let _0x299d94=_0x51431f?this['createJid'](_0x51431f):this[_0x1d54c1(0xc1)]['wuid'],_0x30c478=await this['client'][_0x1d54c1(0x12d)](_0x299d94);return this[_0x1d54c1(0x249)][_0x1d54c1(0x2e8)]('Trying\x20to\x20get\x20business\x20profile'),_0x30c478?(this[_0x1d54c1(0x249)][_0x1d54c1(0x2e8)](_0x1d54c1(0x356)),{'isBusiness':!0x0,..._0x30c478}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x1d54c1(0x264)]({'numbers':[_0x299d94]}))?.[_0x1d54c1(0x185)]()};}catch(_0x250f42){throw new A(_0x1d54c1(0x1bf),_0x250f42[_0x1d54c1(0x616)]());}}async['getStatus'](_0x1e7e77){const _0x46ea05=a0_0x32cdd8;let _0x402eaf=this[_0x46ea05(0x12e)](_0x1e7e77);try{return{'wuid':_0x402eaf,'status':(await this[_0x46ea05(0x63e)][_0x46ea05(0x413)](_0x402eaf))?.['status']};}catch{return{'wuid':_0x402eaf,'status':null};}}async['updateProfileName'](_0x4abf5f){const _0x5f580f=a0_0x32cdd8;try{return await this['client']['updateProfileName'](_0x4abf5f),{'update':_0x5f580f(0x344)};}catch(_0x55ea5a){throw new A(_0x5f580f(0x1bf),_0x55ea5a['toString']());}}async['updateProfileStatus'](_0x6c72d0){const _0x1886dd=a0_0x32cdd8;try{return await this['client']['updateProfileStatus'](_0x6c72d0),{'update':'success'};}catch(_0x1ed4d8){throw new A(_0x1886dd(0x12a),_0x1ed4d8[_0x1886dd(0x616)]());}}async[a0_0x32cdd8(0x427)](_0x595ccb){const _0x3e691b=a0_0x32cdd8;try{let _0x5902d5;if((0x0,k[_0x3e691b(0x4f6)])(_0x595ccb)){let _0x3e9368=new Date()[_0x3e691b(0x2eb)](),_0x44a21d=_0x595ccb+'?timestamp='+_0x3e9368;_0x5902d5=(await ue[_0x3e691b(0x3eb)][_0x3e691b(0x43a)](_0x44a21d,{'responseType':_0x3e691b(0x662)}))[_0x3e691b(0x212)];}else{if((0x0,k[_0x3e691b(0xdd)])(_0x595ccb))_0x5902d5=Buffer[_0x3e691b(0x1b8)](_0x595ccb,_0x3e691b(0x2db));else throw new g(_0x3e691b(0x55c));}return await this[_0x3e691b(0x63e)][_0x3e691b(0x427)](this[_0x3e691b(0xc1)][_0x3e691b(0x3e0)],_0x5902d5),{'update':_0x3e691b(0x344)};}catch(_0x5d4544){throw new A(_0x3e691b(0xe3),_0x5d4544[_0x3e691b(0x616)]());}}async['removeProfilePicture'](){const _0x3e01e0=a0_0x32cdd8;try{return await this[_0x3e01e0(0x63e)][_0x3e01e0(0x2ea)](this[_0x3e01e0(0xc1)][_0x3e01e0(0x3e0)]),{'update':_0x3e01e0(0x344)};}catch(_0x12cf61){throw new A(_0x3e01e0(0x5a8),_0x12cf61[_0x3e01e0(0x616)]());}}async[a0_0x32cdd8(0x697)](_0x5725dd){const _0x30bb6d=a0_0x32cdd8;try{let _0x2c3c0b=_0x5725dd[_0x30bb6d(0x1f5)]['map'](_0xd722a9=>this[_0x30bb6d(0x12e)](_0xd722a9)),{id:_0x1cb5b0}=await this[_0x30bb6d(0x63e)][_0x30bb6d(0x3ba)](_0x5725dd[_0x30bb6d(0x406)],_0x2c3c0b);return _0x5725dd?.[_0x30bb6d(0x6a0)]&&await this['client']['groupUpdateDescription'](_0x1cb5b0,_0x5725dd[_0x30bb6d(0x6a0)]),{'metadata':await this['client'][_0x30bb6d(0x129)](_0x1cb5b0)};}catch(_0x3dda24){throw this[_0x30bb6d(0x249)][_0x30bb6d(0x334)](this['instanceName']+'\x20('+this[_0x30bb6d(0xc1)][_0x30bb6d(0x3e0)]+_0x30bb6d(0x135)+_0x3dda24),new A(_0x30bb6d(0x25f),_0x3dda24[_0x30bb6d(0x616)]());}}async[a0_0x32cdd8(0x5ab)](_0x24ac2c){const _0x34b7df=a0_0x32cdd8;try{let _0x15b697;if((0x0,k[_0x34b7df(0x4f6)])(_0x24ac2c['image'])){let _0x2cdcab=new Date()[_0x34b7df(0x2eb)](),_0xbc8e35=_0x24ac2c[_0x34b7df(0x131)]+_0x34b7df(0x537)+_0x2cdcab;_0x15b697=(await ue['default'][_0x34b7df(0x43a)](_0xbc8e35,{'responseType':_0x34b7df(0x662)}))['data'];}else{if((0x0,k[_0x34b7df(0xdd)])(_0x24ac2c['image']))_0x15b697=Buffer[_0x34b7df(0x1b8)](_0x24ac2c[_0x34b7df(0x131)],'base64');else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x34b7df(0x63e)][_0x34b7df(0x427)](_0x24ac2c[_0x34b7df(0x18a)],_0x15b697),{'update':_0x34b7df(0x344)};}catch(_0x9ed933){throw new A('Error\x20update\x20group\x20picture',_0x9ed933[_0x34b7df(0x616)]());}}async['findGroup'](_0x5918f3,_0x5ac112=a0_0x32cdd8(0x3bd)){const _0x3aab11=a0_0x32cdd8;try{let _0x174c61=await this[_0x3aab11(0x63e)][_0x3aab11(0x129)](_0x5918f3[_0x3aab11(0x18a)]),_0x1a2083=null;try{_0x1a2083=await this[_0x3aab11(0x63e)][_0x3aab11(0x60b)](_0x5918f3[_0x3aab11(0x18a)],_0x3aab11(0x131));}catch(_0xc51eb){this[_0x3aab11(0x249)][_0x3aab11(0x2e8)](this[_0x3aab11(0x128)]+'\x20('+this['instance'][_0x3aab11(0x3e0)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5918f3[_0x3aab11(0x18a)]+':\x20'+_0xc51eb[_0x3aab11(0x616)]());}let _0x3fac85=await D[_0x3aab11(0x31a)]({'id':_0x5918f3[_0x3aab11(0x18a)],'owner':this[_0x3aab11(0xc1)][_0x3aab11(0x3e0)]},{'$set':{'imagechat':_0x1a2083,'name':_0x174c61[_0x3aab11(0x406)],'group_size':_0x174c61[_0x3aab11(0x532)],'group_announce':_0x174c61[_0x3aab11(0x4e7)],'lastcache':Date[_0x3aab11(0xef)]()}},{'new':!0x0,'upsert':!0x0});return _0x3fac85&&q(this[_0x3aab11(0x128)],'chats',{'chat':_0x3fac85}),{'metadata':_0x174c61,'image':_0x1a2083};}catch(_0x404c69){if(_0x5ac112===_0x3aab11(0x11a))return;throw new x(_0x3aab11(0x623),_0x404c69[_0x3aab11(0x616)]());}}async[a0_0x32cdd8(0x104)](_0x18d11e){const _0x683bff=a0_0x32cdd8;try{return await this[_0x683bff(0x63e)][_0x683bff(0x57e)](_0x18d11e[_0x683bff(0x18a)],_0x18d11e['description']),{'update':'success'};}catch(_0x4cbdc8){throw new A(_0x683bff(0x4a0),_0x4cbdc8[_0x683bff(0x616)]());}}async[a0_0x32cdd8(0xcf)](_0x268b95){const _0xeb5d9d=a0_0x32cdd8;try{return await this[_0xeb5d9d(0x63e)][_0xeb5d9d(0x40f)](_0x268b95[_0xeb5d9d(0x18a)],_0x268b95[_0xeb5d9d(0x127)]),{'update':_0xeb5d9d(0x344)};}catch(_0x1fb618){throw new A(_0xeb5d9d(0x350),_0x1fb618[_0xeb5d9d(0x616)]());}}async[a0_0x32cdd8(0x573)](_0x195d87){const _0x4c686a=a0_0x32cdd8;try{return await this[_0x4c686a(0x63e)]['groupSettingUpdate'](_0x195d87[_0x4c686a(0x18a)],_0x195d87['setting']),{'update':_0x4c686a(0x344)};}catch(_0x3b6c2b){throw new A(_0x4c686a(0x3f7),_0x3b6c2b[_0x4c686a(0x616)]());}}async[a0_0x32cdd8(0x68a)](){const _0xae71=a0_0x32cdd8;try{let _0x472c44=[],_0x5d3459=await this[_0xae71(0x63e)][_0xae71(0x5da)](),_0x270019=Object[_0xae71(0x5c7)](_0x5d3459),_0x3e936a=_0x270019[_0xae71(0x5bd)](_0x4f46c1=>(0x0,w[_0xae71(0x525)])(_0x4f46c1?.['id']))['map'](async _0x360a47=>{const _0x293d34=_0xae71;try{return await this[_0x293d34(0x63e)][_0x293d34(0x60b)](_0x360a47['id'],_0x293d34(0x131));}catch(_0x49153d){return this['logger']['verbose'](this[_0x293d34(0x128)]+'\x20('+this[_0x293d34(0xc1)][_0x293d34(0x3e0)]+_0x293d34(0x331)+_0x360a47['id']+':\x20'+_0x49153d['toString']()),null;}}),_0x3b545f=await Promise['all'](_0x3e936a);for(let _0x3cf9c7=0x0;_0x3cf9c7<_0x270019['length'];_0x3cf9c7++){let _0x114f82=_0x270019[_0x3cf9c7];(0x0,w['isJidGroup'])(_0x114f82?.['id'])&&_0x472c44['push']({'groupJid':_0x114f82?.['id'],'subject':_0x114f82?.[_0xae71(0x406)],'subjectOwner':_0x114f82?.[_0xae71(0x38c)]?.[_0xae71(0x5af)]('@')[0x0],'subjectTime':_0x114f82?.[_0xae71(0x431)],'size':_0x114f82?.['participants']?.[_0xae71(0x4d2)],'owner':_0x114f82?.[_0xae71(0x22b)]?.[_0xae71(0x5af)]('@')[0x0],'creation':_0x114f82?.[_0xae71(0x4a3)],'desc':_0x114f82?.[_0xae71(0x527)],'restrict':_0x114f82?.[_0xae71(0x36a)],'announce':_0x114f82?.['announce'],'image':_0x3b545f[_0x3cf9c7]});}return _0x472c44;}catch(_0x4dbd59){throw new x(_0xae71(0x623),_0x4dbd59[_0xae71(0x616)]());}}async[a0_0x32cdd8(0x369)](_0x4ef72b){const _0x4be9d1=a0_0x32cdd8;try{let _0x18ca1c=await this[_0x4be9d1(0x63e)]['groupInviteCode'](_0x4ef72b[_0x4be9d1(0x18a)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x18ca1c,'inviteCode':_0x18ca1c};}catch(_0x93c4e9){throw new x(_0x4be9d1(0x214),_0x93c4e9[_0x4be9d1(0x616)]());}}async[a0_0x32cdd8(0x34f)](_0x6efce0){const _0x11e123=a0_0x32cdd8;try{let _0x5d67fd=await this[_0x11e123(0x63e)]['groupRevokeInvite'](_0x6efce0[_0x11e123(0x18a)]);return{'revoked':!0x0,'inviteUrl':_0x11e123(0x45a)+_0x5d67fd,'inviteCode':_0x5d67fd};}catch(_0x1d0032){throw new x(_0x11e123(0x59e),_0x1d0032['toString']());}}async['joinGroup'](_0x22ea30){const _0x2f9f5c=a0_0x32cdd8;try{if((0x0,k['isURL'])(_0x22ea30[_0x2f9f5c(0x369)]))var _0x39ff7d=_0x22ea30['inviteCode']['split']('/')[0x3];else var _0x39ff7d=_0x22ea30[_0x2f9f5c(0x369)];let _0x22305c=await this[_0x2f9f5c(0x63e)][_0x2f9f5c(0x639)](_0x39ff7d);return this[_0x2f9f5c(0x249)][_0x2f9f5c(0x2e8)](this['instanceName']+'\x20('+this[_0x2f9f5c(0xc1)][_0x2f9f5c(0x3e0)]+'):\x20'+_0x22305c),{'join':!0x0,'inviteCode':_0x39ff7d,'groupJid':_0x22305c};}catch(_0xf1dea5){throw new x('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0xf1dea5['toString']());}}async[a0_0x32cdd8(0x43d)](_0x208f9c){const _0x290182=a0_0x32cdd8;try{return{'participants':(await this[_0x290182(0x63e)][_0x290182(0x129)](_0x208f9c[_0x290182(0x18a)]))[_0x290182(0x1f5)]};}catch(_0x1035a1){throw new x(_0x290182(0x486),_0x1035a1[_0x290182(0x616)]());}}async[a0_0x32cdd8(0x149)](_0x4706ad){const _0x294e53=a0_0x32cdd8;try{let _0x436307=_0x4706ad[_0x294e53(0x1f5)][_0x294e53(0x58e)](_0x595185=>this[_0x294e53(0x12e)](_0x595185));return{'updateParticipants':await this['client'][_0x294e53(0x5a5)](_0x4706ad['groupJid'],_0x436307,_0x4706ad[_0x294e53(0x578)])};}catch(_0x233af8){throw new g(_0x294e53(0x3ad),_0x233af8['toString']());}}async[a0_0x32cdd8(0x547)](_0xef1fb2){const _0x335bb3=a0_0x32cdd8;try{let _0x52ad45=await this[_0x335bb3(0x63e)][_0x335bb3(0x35a)](_0xef1fb2[_0x335bb3(0x18a)],_0xef1fb2[_0x335bb3(0x37c)]);return{'success':!0x0};}catch(_0x42ee6e){throw new g(_0x335bb3(0x2f6),_0x42ee6e[_0x335bb3(0x616)]());}}async['leaveGroup'](_0x2c351b){const _0x38c9db=a0_0x32cdd8;try{return await this[_0x38c9db(0x63e)][_0x38c9db(0x4d8)](_0x2c351b['groupJid']),{'groupJid':_0x2c351b[_0x38c9db(0x18a)],'leave':!0x0};}catch(_0x17f806){throw new g(_0x38c9db(0x2bc),_0x17f806[_0x38c9db(0x616)]());}}async[a0_0x32cdd8(0x30b)](_0x2e82c2){const _0x24449c=a0_0x32cdd8;return await this[_0x24449c(0x24d)](_0x2e82c2['number'],{'poll':{'name':_0x2e82c2[_0x24449c(0x30b)]?.[_0x24449c(0x127)],'selectableCount':_0x2e82c2[_0x24449c(0x30b)][_0x24449c(0x385)],'values':_0x2e82c2['pollMessage'][_0x24449c(0x5c7)]}},_0x2e82c2?.[_0x24449c(0x109)]);}async['updateMessage'](_0x464029,_0x15bbcd,_0x5501c0){const _0x361696=a0_0x32cdd8;if(await this[_0x361696(0x520)](_0x464029,!0x0)){let _0x1840ac={'where':{'key':{'id':_0x464029['id'],'remoteJid':_0x15bbcd,'fromMe':_0x464029[_0x361696(0x4a9)]},'owner':this['instance']['wuid']}},_0x246f8c={'status':[_0x5501c0['status']][0x0]};try{let _0x1adf60=await this[_0x361696(0x620)][_0x361696(0xd5)][_0x361696(0x608)](_0x1840ac,_0x246f8c);_0x1adf60&&q(this[_0x361696(0x128)],_0x361696(0x58b),{'message':_0x1adf60});}catch{}}}[a0_0x32cdd8(0x4a8)](_0xf16c81){const _0x34781c=a0_0x32cdd8;let _0x28fdc8=_0xf16c81[_0x34781c(0x61a)](/\\n/g,'\x0a')[_0x34781c(0x5af)]('\x0a')['filter'](_0x555d8f=>_0x555d8f[_0x34781c(0x5d1)]('TEL')||_0x555d8f[_0x34781c(0x5d1)](_0x34781c(0x17e))),_0xd52ee6='';return _0x28fdc8[_0x34781c(0x5dd)](_0x2df061=>{const _0x1815a5=_0x34781c;let _0x375b4b=/TEL(?:.*):(.+)/,_0x2cebf4=/EMAIL(?:.*):(.+)/,_0x223cf0=_0x2df061[_0x1815a5(0x1db)](_0x375b4b),_0x19c9a5=_0x2df061['match'](_0x2cebf4);if(_0x223cf0){let _0x193014=_0x223cf0[0x1][_0x1815a5(0x61a)](/-| |\+|\(|\)/g,'')[_0x1815a5(0x610)]();_0xd52ee6+=_0x1815a5(0x1dc)+_0x193014+'\x0a';}else{if(_0x19c9a5){let _0x49092b=_0x19c9a5[0x1]['trim']();_0xd52ee6+=_0x1815a5(0x251)+_0x49092b+'\x0a';}}}),_0xd52ee6['trim']();}async[a0_0x32cdd8(0x148)](_0x14db88,_0x6679a2,_0x2c23ce){const _0x5d91ce=a0_0x32cdd8;let _0x12d271=_0x6679a2[_0x5d91ce(0x3fb)][_0x5d91ce(0x420)],_0x34315d=_0x6679a2[_0x5d91ce(0x3fb)][_0x5d91ce(0x4a9)],_0x115038=_0x12d271['endsWith'](_0x5d91ce(0x3e6));if(!_0x14db88[_0x5d91ce(0x391)])return;let _0x422af4={'$set':{..._0x34315d?{'unreadcount':0x0,'lastmsg':_0x6679a2[_0x5d91ce(0x5ca)]||Date[_0x5d91ce(0xef)]()}:{'lastmsg':_0x6679a2[_0x5d91ce(0x5ca)]||Date[_0x5d91ce(0xef)]()},..._0x34315d||_0x115038?{}:{'name':_0x6679a2[_0x5d91ce(0x2ba)]}},'$setOnInsert':{'group':_0x115038,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x34315d&&!_0x115038?{'leadInfo.nome':_0x6679a2[_0x5d91ce(0x2ba)]}:{}},..._0x34315d?{}:{'$inc':{'unreadcount':0x1}}},_0x48efef={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x5567d3=await D[_0x5d91ce(0x31a)]({'id':_0x12d271,'owner':this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]},_0x422af4,_0x48efef);if(_0x5567d3?(!_0x115038&&(!_0x5567d3[_0x5d91ce(0x575)]||!_0x5567d3[_0x5d91ce(0x575)]['nome'])&&_0x6679a2[_0x5d91ce(0x2ba)]&&!_0x34315d&&(_0x422af4={'$set':{'leadInfo.nome':_0x6679a2[_0x5d91ce(0x2ba)]}},_0x5567d3=await D[_0x5d91ce(0x31a)]({'id':_0x12d271,'owner':this[_0x5d91ce(0xc1)]['wuid']},_0x422af4,_0x48efef)),q(this[_0x5d91ce(0x128)],_0x5d91ce(0x324),{'chat':_0x5567d3})):this[_0x5d91ce(0x249)]['error'](this['instanceName']+'\x20('+this[_0x5d91ce(0xc1)]['wuid']+_0x5d91ce(0x4e3)),!this[_0x5d91ce(0x18b)]?.['flowConfig']['enabled'])return this[_0x5d91ce(0x249)][_0x5d91ce(0x2e8)](this[_0x5d91ce(0x128)]+'\x20('+this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]+_0x5d91ce(0x2fa)),null;if(_0x5567d3['id']['includes'](_0x5d91ce(0x3e6))&&this[_0x5d91ce(0x18b)]?.['flowConfig'][_0x5d91ce(0x5b0)]===!0x0)return this[_0x5d91ce(0x249)]['verbose'](this[_0x5d91ce(0x128)]+'\x20('+this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]+_0x5d91ce(0x58d)),null;if(_0x5567d3[_0x5d91ce(0x575)]){if(_0x5567d3['leadInfo'][_0x5d91ce(0x488)]===0x0||_0x5567d3['leadInfo'][_0x5d91ce(0x182)])return this[_0x5d91ce(0x249)][_0x5d91ce(0x2e8)](this['instanceName']+'\x20('+this[_0x5d91ce(0xc1)]['wuid']+_0x5d91ce(0x1eb)+_0x12d271+_0x5d91ce(0x376)),null;if(_0x5567d3['leadInfo'][_0x5d91ce(0x488)]>Date[_0x5d91ce(0xef)]())return this[_0x5d91ce(0x249)][_0x5d91ce(0x2e8)](this[_0x5d91ce(0x128)]+'\x20('+this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]+_0x5d91ce(0xf9)+new Date(_0x5567d3[_0x5d91ce(0x575)][_0x5d91ce(0x488)])[_0x5d91ce(0x373)]()+_0x5d91ce(0x376)),null;}this[_0x5d91ce(0x249)][_0x5d91ce(0x2e8)](this['instanceName']+'\x20('+this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]+_0x5d91ce(0x14f)),this['StartBot'](_0x2c23ce,_0x6679a2,this[_0x5d91ce(0xc1)][_0x5d91ce(0x3e0)]);}async[a0_0x32cdd8(0x43c)](){const _0x39d864=a0_0x32cdd8;let _0x292032=await this['repository'][_0x39d864(0x170)]['find']({'where':{'owner':this[_0x39d864(0xc1)][_0x39d864(0x3e0)]}}),_0x59fd88=0x0,_0x3bfe2d=[];for(let _0x46770d of _0x292032)_0x3bfe2d[_0x39d864(0x58a)]({'updateOne':{'filter':{'id':_0x46770d['id'],'owner':this[_0x39d864(0xc1)][_0x39d864(0x3e0)]},'update':{'$set':{'contactname':_0x46770d[_0x39d864(0x2ba)]}}}}),_0x3bfe2d[_0x39d864(0x4d2)]===0x1f4&&(_0x59fd88+=await this[_0x39d864(0x5cb)](_0x3bfe2d),_0x3bfe2d=[]);_0x3bfe2d[_0x39d864(0x4d2)]>0x0&&(_0x59fd88+=await this[_0x39d864(0x5cb)](_0x3bfe2d)),this[_0x39d864(0x249)][_0x39d864(0x2e8)](this[_0x39d864(0x128)]+'\x20('+this[_0x39d864(0xc1)][_0x39d864(0x3e0)]+_0x39d864(0x135)+_0x59fd88+_0x39d864(0x20e)+this[_0x39d864(0xc1)][_0x39d864(0x3e0)]+_0x39d864(0x4c9));}async['performBulkUpdate'](_0x21f5c0){const _0x1888c8=a0_0x32cdd8;return(await D[_0x1888c8(0x64c)](_0x21f5c0))[_0x1888c8(0x69e)];}async[a0_0x32cdd8(0x2fe)](_0x3a9182,_0x35b7cf){const _0x1ed846=a0_0x32cdd8;if(_0x35b7cf['ENABLED']){let _0x15275e=_0x3a9182[_0x1ed846(0x58e)](async _0x377358=>{const _0x6d3a13=_0x1ed846;try{let _0x198e4e={'$set':{'id':_0x377358['id'],'owner':_0x377358[_0x6d3a13(0x22b)],'lastcache':0x0}};if(_0x377358[_0x6d3a13(0x204)]!==null&&(_0x198e4e[_0x6d3a13(0x358)][_0x6d3a13(0x204)]=_0x377358['group']),_0x377358[_0x6d3a13(0x127)]!==null&&(_0x198e4e[_0x6d3a13(0x358)][_0x6d3a13(0x127)]=_0x377358[_0x6d3a13(0x127)]),_0x377358['contactname']!==null&&(_0x198e4e['$set'][_0x6d3a13(0x53b)]=_0x377358[_0x6d3a13(0x53b)]),_0x377358[_0x6d3a13(0x42c)]!==null&&(_0x198e4e['$set'][_0x6d3a13(0x42c)]=_0x377358[_0x6d3a13(0x42c)]),_0x377358[_0x6d3a13(0x42c)]===null&&(_0x198e4e[_0x6d3a13(0x358)]['imagechat']=_0x6d3a13(0x1be)),_0x377358[_0x6d3a13(0x452)]!==null&&(_0x198e4e[_0x6d3a13(0x358)][_0x6d3a13(0x452)]=_0x377358[_0x6d3a13(0x452)]),_0x377358['archived']!==null&&(_0x198e4e[_0x6d3a13(0x358)][_0x6d3a13(0x2a5)]=_0x377358['archived']),_0x377358[_0x6d3a13(0x458)]!==null&&(_0x198e4e[_0x6d3a13(0x358)]['unreadcount']=_0x377358[_0x6d3a13(0x458)]),Object[_0x6d3a13(0x3d7)](_0x198e4e[_0x6d3a13(0x358)])['length']>0x0)return await D[_0x6d3a13(0x31a)]({'id':_0x377358['id'],'owner':_0x377358[_0x6d3a13(0x22b)]},_0x198e4e,{'new':!0x0,'upsert':!0x0});}catch(_0xa059b6){return console[_0x6d3a13(0x334)](_0x6d3a13(0x31f)+_0x377358['id']+':',_0xa059b6),null;}}),_0x471e28=(await Promise[_0x1ed846(0x12c)](_0x15275e))[_0x1ed846(0x5bd)](_0x6183c7=>_0x6183c7!==null)['length'];this['logger']['verbose'](this[_0x1ed846(0x128)]+'\x20('+this['instance'][_0x1ed846(0x3e0)]+_0x1ed846(0x135)+_0x471e28+_0x1ed846(0x20e)+this[_0x1ed846(0xc1)][_0x1ed846(0x3e0)]+_0x1ed846(0x447));}}async['readMessageBot'](_0x5a8a1d){const _0x3d6379=a0_0x32cdd8;this[_0x3d6379(0x249)][_0x3d6379(0x2e8)](this[_0x3d6379(0x128)]+'\x20('+this[_0x3d6379(0xc1)]['wuid']+_0x3d6379(0x441));let _0x108769={'readMessages':[{'remoteJid':_0x5a8a1d[_0x3d6379(0x2e7)][_0x3d6379(0x50e)][_0x3d6379(0x3fb)][_0x3d6379(0x420)],'fromMe':_0x5a8a1d[_0x3d6379(0x2e7)][_0x3d6379(0x50e)][_0x3d6379(0x3fb)][_0x3d6379(0x4a9)],'id':_0x5a8a1d[_0x3d6379(0x2e7)][_0x3d6379(0x50e)][_0x3d6379(0x3fb)]['id']}]};await this[_0x3d6379(0x546)](_0x108769);}async[a0_0x32cdd8(0x4cf)](_0x367435,_0x382e36,_0x4f2bfd){const _0x16863b=a0_0x32cdd8;try{let {key:_0x1d14f1,message_normalized:_0x21e1c3}=_0x382e36,_0x2cb9de=_0x21e1c3,_0x2a1ff=_0x21e1c3['text']||_0x21e1c3[_0x16863b(0x484)]||_0x21e1c3[_0x16863b(0x11d)]||_0x21e1c3[_0x16863b(0x127)],_0x4d5e22=_0x1d14f1[_0x16863b(0x420)],_0x37ac93;if(_0x2cb9de[_0x16863b(0x3fb)][_0x16863b(0x4a9)]&&_0x2a1ff[_0x16863b(0x610)]()!==this[_0x16863b(0x18b)]?.[_0x16863b(0x4fb)]['stopConversation'][_0x16863b(0x610)]())return this[_0x16863b(0x249)][_0x16863b(0x2e8)](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)]['wuid']+_0x16863b(0x230)),null;if(_0x2cb9de[_0x16863b(0x3fb)][_0x16863b(0x4a9)]&&_0x2a1ff[_0x16863b(0x610)]()===this['AutomateSystem']?.['flowConfig']['stopConversation'][_0x16863b(0x610)]()){this[_0x16863b(0x249)][_0x16863b(0x2e8)](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0xf75506=await J[_0x16863b(0x614)]({'owner':_0x4f2bfd,'remoteJid':_0x4d5e22,'status':'open'});this[_0x16863b(0x249)][_0x16863b(0x2e8)](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+_0x16863b(0x168)+_0xf75506);let _0x1d71a2=Date[_0x16863b(0xef)](),_0x424973;return this[_0x16863b(0x18b)]?.['flowConfig'][_0x16863b(0x159)]===0x0?_0x424973={'stoppedUntil':_0x1d71a2+0x7591f6200}:_0x424973={'stoppedUntil':_0x1d71a2+this['AutomateSystem']?.[_0x16863b(0x4fb)][_0x16863b(0x159)]*0x3c*0x3e8},this[_0x16863b(0x249)][_0x16863b(0x2e8)](this['instanceName']+'\x20('+this[_0x16863b(0xc1)]['wuid']+_0x16863b(0x5a4)+_0x424973),this[_0x16863b(0x4d3)](_0x37ac93,_0x424973[_0x16863b(0x652)]),null;}if(_0x2a1ff&&_0x2a1ff[_0x16863b(0x36b)](this[_0x16863b(0x18b)]?.['flowConfig'][_0x16863b(0x412)])&&_0x2a1ff['length']>0x4){let _0x26851f=await I['findOne']({'owner':_0x4f2bfd,'startCommandWord':_0x2a1ff});if(this[_0x16863b(0x249)]['verbose'](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+_0x16863b(0x110)),_0x26851f)_0x37ac93=await this[_0x16863b(0x5a9)](_0x26851f,_0x2cb9de[_0x16863b(0x3fb)],_0x2cb9de);else return this[_0x16863b(0x249)][_0x16863b(0x2e8)](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+_0x16863b(0x1c5)),null;}else _0x37ac93=await this[_0x16863b(0x4bd)](_0x4f2bfd,_0x4d5e22,_0x2cb9de);if(_0x37ac93){this['logger'][_0x16863b(0x2e8)](this['instanceName']+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+_0x16863b(0x43f)),!_0x1d14f1[_0x16863b(0x4a9)]&&_0x37ac93[_0x16863b(0x384)]&&this[_0x16863b(0x5eb)](_0x37ac93);let _0x48bcce=await this[_0x16863b(0x2f1)](_0x37ac93);_0x48bcce&&await this['processblock'](_0x37ac93,_0x48bcce,_0x37ac93['remoteJid']);}}catch(_0x23a28c){this[_0x16863b(0x249)]['error'](this[_0x16863b(0x128)]+'\x20('+this[_0x16863b(0xc1)][_0x16863b(0x3e0)]+_0x16863b(0x156)+_0x23a28c);}}[a0_0x32cdd8(0x243)](_0x497c87,_0x26c3d1='',_0x4475d9={},_0x3bb632=!0x0){const _0xfb8c52=a0_0x32cdd8;for(let _0x599628 in _0x497c87){let _0x22be58=_0x3bb632?'_'+_0x599628:''+_0x26c3d1+_0x599628;typeof _0x497c87[_0x599628]==_0xfb8c52(0x359)&&_0x497c87[_0x599628]!==null?this[_0xfb8c52(0x243)](_0x497c87[_0x599628],_0x22be58+'.',_0x4475d9,!0x1):_0x4475d9[_0x22be58]=_0x497c87[_0x599628];}return _0x4475d9;}[a0_0x32cdd8(0x311)](_0x31c59b){const _0x495ee7=a0_0x32cdd8;let _0x22facd={};for(let _0x4b6863 of _0x31c59b)typeof _0x4b6863[_0x495ee7(0x127)]=='string'&&typeof _0x4b6863[_0x495ee7(0x17c)]==_0x495ee7(0x4d6)&&(_0x22facd[_0x4b6863['name']]=_0x4b6863[_0x495ee7(0x17c)]);return _0x22facd;}async[a0_0x32cdd8(0x2f1)](_0x10b8ee){const _0xd9a719=a0_0x32cdd8;if(!this[_0xd9a719(0x18b)]?.[_0xd9a719(0x4fb)][_0xd9a719(0x63c)]||_0x10b8ee['status']!==_0xd9a719(0x4e8)&&_0x10b8ee[_0xd9a719(0x153)]==='')return null;let _0x4f92fc=_0x10b8ee['chatLog'][_0xd9a719(0x410)]||_0xd9a719(0x2ed);typeof _0x10b8ee['chatLog']['lastCondition']>'u'&&(_0x10b8ee['chatLog'][_0xd9a719(0x1d3)]=!0x0);let _0x40ba15=_0x10b8ee[_0xd9a719(0x2e7)]['lastCondition'];this[_0xd9a719(0x249)][_0xd9a719(0x2e8)](this['instanceName']+'\x20('+this[_0xd9a719(0xc1)][_0xd9a719(0x3e0)]+_0xd9a719(0x136)+_0x4f92fc+_0xd9a719(0x112)+_0x40ba15);let _0x1e969d=_0x4f92fc===_0xd9a719(0x2ed)?_0x10b8ee['blocks'][_0xd9a719(0x614)](_0x12d5be=>_0x12d5be[_0xd9a719(0x2a0)]==='start'):_0x10b8ee[_0xd9a719(0x1fc)][_0xd9a719(0x614)](_0x4482a1=>_0x4482a1[_0xd9a719(0x386)]['toString']()===_0x4f92fc[_0xd9a719(0x616)]());if(!_0x1e969d)return this[_0xd9a719(0x249)][_0xd9a719(0x334)](this[_0xd9a719(0x128)]+'\x20('+this[_0xd9a719(0xc1)][_0xd9a719(0x3e0)]+_0xd9a719(0x557)+_0x4f92fc),null;let _0x4142ce={'_pushName':_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x50e)][_0xd9a719(0x2ba)],..._0x10b8ee[_0xd9a719(0x2e7)]['realVariables']},_0x68074a=null;if(_0x10b8ee[_0xd9a719(0x153)]){let _0x10c144=_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x50e)][_0xd9a719(0x11d)],_0x256c3f=_0x10b8ee[_0xd9a719(0x5d5)][_0xd9a719(0x614)](_0x54dbd4=>_0x54dbd4[_0xd9a719(0x4ed)]===_0x10c144);if(_0x256c3f){let _0x446586=_0x256c3f[_0xd9a719(0x319)];if(_0x68074a=_0x10b8ee['blocks'][_0xd9a719(0x614)](_0x5cfd1b=>_0x5cfd1b[_0xd9a719(0x49a)]===_0x446586&&_0x5cfd1b[_0xd9a719(0x3a9)]===0x1),_0x1e969d['uazapi'][_0xd9a719(0x656)]){let _0x1756ab={'id':_0x10b8ee[_0xd9a719(0x153)],'remoteJid':_0x10b8ee[_0xd9a719(0x420)],'fromMe':!0x0};await this[_0xd9a719(0x2d9)](_0x1756ab);}if(_0x1e969d[_0xd9a719(0x5b8)][_0xd9a719(0x656)]&&_0x1e969d['uazapi'][_0xd9a719(0x123)]){let _0x3cb98d={'number':_0x10b8ee[_0xd9a719(0x420)],'options':{'delay':0x0},'textMessage':{'text':_0xd9a719(0x40d)+_0x10b8ee[_0xd9a719(0x2fd)]+'\x0a*Voc\x20respondeu*:\x0a'+_0x10c144}};await this['textMessage'](_0x3cb98d);}_0x10b8ee['status']='open',_0x10b8ee[_0xd9a719(0x153)]='',_0x10b8ee[_0xd9a719(0x2fd)]='',_0x10b8ee[_0xd9a719(0x5d5)]=[];}else{this['logger'][_0xd9a719(0x2e8)](this[_0xd9a719(0x128)]+'\x20('+this['instance']['wuid']+_0xd9a719(0x173));let _0x2bfe8e={'activatedCount':_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x33b)][_0xd9a719(0x5bd)](_0x7f3ad6=>String(_0x7f3ad6['blockId'])===String(_0x4f92fc))[_0xd9a719(0x4d2)],'moreLogs':[_0xd9a719(0x317)]};if(_0x1e969d[_0xd9a719(0x5b8)][_0xd9a719(0x669)]){let _0xd162e1={'number':_0x10b8ee[_0xd9a719(0x420)],'options':{'delay':0x0},'textMessage':{'text':_0x1e969d[_0xd9a719(0x5b8)][_0xd9a719(0x669)]}};await this[_0xd9a719(0x5ee)](_0xd162e1);}if(_0x1e969d['maxActives']!==void 0x0&&_0x2bfe8e[_0xd9a719(0x248)]>=_0x1e969d[_0xd9a719(0x5c4)]){let _0x1cda64=Date[_0xd9a719(0xef)](),_0x4c77ed=_0x1e969d[_0xd9a719(0x223)]??0xa;isNaN(_0x4c77ed)&&(_0x4c77ed=0xa);let _0x197b25=_0x1cda64+_0x4c77ed*0x3c*0x3e8;_0x2bfe8e[_0xd9a719(0x4cb)]=_0x197b25,_0x2bfe8e[_0xd9a719(0x5e7)][_0xd9a719(0x58a)]('Atingido\x20interaes\x20mximas,\x20parando\x20fluxo'),this[_0xd9a719(0x4d3)](_0x10b8ee,_0x197b25),_0x10b8ee['waitingPoll_id']='',_0x10b8ee[_0xd9a719(0x2fd)]='',_0x10b8ee['waitingPoll_replyOptions']=[];}return this['updateConversation'](_0x10b8ee,_0x1e969d,_0x2bfe8e,!0x0),null;}}if(_0x40ba15&&_0x1e969d['next_groupId']&&!_0x10b8ee[_0xd9a719(0x153)]){let _0x4b258d=_0x10b8ee[_0xd9a719(0x1fc)][_0xd9a719(0x5bd)](_0x5be34b=>_0x5be34b['groupId']['toString']()===_0x1e969d['next_groupId']['toString']())[_0xd9a719(0xf1)]((_0x3c4ad2,_0x3b5309)=>_0x3c4ad2[_0xd9a719(0x3a9)]-_0x3b5309['order']);_0x4b258d[_0xd9a719(0x4d2)]>0x0&&(_0x68074a=_0x4b258d[0x0]);}if(!_0x68074a){let _0x4f48da=_0x1e969d[_0xd9a719(0x49a)],_0x5d16f3=_0x10b8ee['blocks'][_0xd9a719(0x5bd)](_0x581f1f=>_0x581f1f['groupId']===_0x4f48da&&_0x581f1f['order']>_0x1e969d[_0xd9a719(0x3a9)])[_0xd9a719(0xf1)]((_0x30e81c,_0x329af9)=>_0x30e81c[_0xd9a719(0x3a9)]-_0x329af9['order']);_0x5d16f3[_0xd9a719(0x4d2)]>0x0&&(_0x68074a=_0x5d16f3[0x0]);}if(!_0x68074a)return _0x10b8ee['status']=_0xd9a719(0x101),null;_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x698)]=_0x4142ce;let _0x2583d9=JSON[_0xd9a719(0x49b)](JSON[_0xd9a719(0x679)](_0x68074a));return this['replaceVariablesInObject'](_0x2583d9,_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x698)]),_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x410)]=_0x2583d9[_0xd9a719(0x386)],_0x10b8ee[_0xd9a719(0x2e7)][_0xd9a719(0x1d3)]=!0x0,_0x2583d9;}[a0_0x32cdd8(0x615)](_0xdc52c5,_0x4beccc){const _0xc3881c=a0_0x32cdd8;return _0xdc52c5[_0xc3881c(0x61a)](/\{\{([^}]+)\}\}/g,(_0x37820c,_0x387819)=>_0x4beccc[_0x387819]||'');}[a0_0x32cdd8(0x36d)](_0x3301ee,_0x198705){const _0x2f8515=a0_0x32cdd8;for(let _0x244bf9 in _0x3301ee)typeof _0x3301ee[_0x244bf9]==_0x2f8515(0x4d6)?_0x3301ee[_0x244bf9]=this['replaceVariables'](_0x3301ee[_0x244bf9],_0x198705):typeof _0x3301ee[_0x244bf9]==_0x2f8515(0x359)&&this['replaceVariablesInObject'](_0x3301ee[_0x244bf9],_0x198705);}async['goNextblock'](_0x535742,_0x11b297){const _0x2667da=a0_0x32cdd8;let _0x39f94d=_0x11b297['_id'];if(_0x535742[_0x2667da(0x2e7)]&&_0x535742[_0x2667da(0x2e7)][_0x2667da(0x33b)]){let _0x455dba=_0x535742['chatLog'][_0x2667da(0x33b)][_0x2667da(0x5bd)](_0x314fc6=>String(_0x314fc6['blockId'])===String(_0x39f94d))[_0x2667da(0x558)]();if(_0x455dba&&_0x455dba[_0x2667da(0x334)]&&_0x11b297[_0x2667da(0x36e)])return _0x535742[_0x2667da(0x440)]=_0x2667da(0x101),await this[_0x2667da(0x34b)](_0x535742),null;}if(_0x11b297[_0x2667da(0x2a0)]===_0x2667da(0x5b8)&&_0x11b297[_0x2667da(0x5b8)][_0x2667da(0x172)]==='sendPoll'&&_0x535742['waitingPoll_id'])return _0x535742[_0x2667da(0x2e7)]['lastBlockId']=_0x39f94d,await this[_0x2667da(0x34b)](_0x535742),null;let _0x1747ff=await this[_0x2667da(0x2f1)](_0x535742);if(_0x535742['chatLog']&&_0x535742[_0x2667da(0x2e7)][_0x2667da(0x33b)]){let _0x4949e8=_0x535742[_0x2667da(0x2e7)]['blockLogs'][_0x2667da(0x5bd)](_0x36a2a6=>String(_0x36a2a6['blockId'])===String(_0x39f94d))[_0x2667da(0x4d2)];if(_0x11b297[_0x2667da(0x5c4)]!==void 0x0&&_0x4949e8>=_0x11b297['maxActives']){let _0x3af9cc=Date[_0x2667da(0xef)](),_0x3ce7bd=_0x11b297['stopMinutesMaxActives']??0xa;isNaN(_0x3ce7bd)&&(_0x3ce7bd=0xa);let _0x19850a=_0x3af9cc+_0x3ce7bd*0x3c*0x3e8,_0x379d8c={'newStoppedUntil':_0x19850a};return this['updateStopChat'](_0x535742,_0x19850a),this[_0x2667da(0x2ee)](_0x535742,_0x11b297,_0x379d8c,!0x0),null;}}_0x1747ff&&_0x1747ff[_0x2667da(0x2a0)]!==_0x2667da(0x604)&&await this[_0x2667da(0x102)](_0x535742,_0x1747ff,_0x535742[_0x2667da(0x420)]),_0x1747ff||await this[_0x2667da(0x34b)](_0x535742),_0x1747ff&&_0x1747ff[_0x2667da(0x2a0)]===_0x2667da(0x604)&&(_0x535742['chatLog'][_0x2667da(0x410)]=_0x39f94d,await this[_0x2667da(0x34b)](_0x535742));}async[a0_0x32cdd8(0x102)](_0x8fdb27,_0x54b476,_0x107c85){const _0x48601e=a0_0x32cdd8;try{let _0x2d86b5=_0x54b476[_0x48601e(0x2a0)];this[_0x48601e(0x249)][_0x48601e(0x2e8)](this[_0x48601e(0x128)]+'\x20('+this[_0x48601e(0xc1)][_0x48601e(0x3e0)]+_0x48601e(0x46a)+_0x2d86b5);let _0x44682a={'uazapi':()=>this[_0x48601e(0xd6)](_0x8fdb27,_0x54b476,_0x107c85),'save':()=>this[_0x48601e(0x683)](_0x8fdb27,_0x54b476),'stop':()=>this[_0x48601e(0x31c)](_0x8fdb27,_0x54b476),'condition':()=>this[_0x48601e(0x10e)](_0x8fdb27,_0x54b476),'varedit':()=>this[_0x48601e(0x63b)](_0x8fdb27,_0x54b476),'apirequest':()=>this[_0x48601e(0x462)](_0x8fdb27,_0x54b476),'goToFlow':()=>this[_0x48601e(0x5f3)](_0x8fdb27,_0x54b476)}[_0x2d86b5];_0x44682a&&await _0x44682a();}catch(_0x79ab59){this['logger'][_0x48601e(0x334)](this[_0x48601e(0x128)]+'\x20('+this[_0x48601e(0xc1)][_0x48601e(0x3e0)]+_0x48601e(0x1de)+_0x79ab59);}}async[a0_0x32cdd8(0x5f3)](_0x1a00a5,_0x3cd3b1){const _0x215d63=a0_0x32cdd8;if(this[_0x215d63(0x249)][_0x215d63(0x2e8)](this['instanceName']+'\x20('+this[_0x215d63(0xc1)][_0x215d63(0x3e0)]+_0x215d63(0x44c)),!_0x1a00a5||!_0x3cd3b1)return this[_0x215d63(0x249)]['error'](this['instanceName']+'\x20('+this[_0x215d63(0xc1)]['wuid']+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x215d63(0x2ee)](_0x1a00a5,_0x3cd3b1,{},!0x0,!0x0),console[_0x215d63(0x55a)](_0x215d63(0x141)),console[_0x215d63(0x55a)](_0x3cd3b1);let _0x4befc1=_0x3cd3b1[_0x215d63(0x263)];console[_0x215d63(0x55a)]('flowname:\x20',_0x4befc1),_0x1a00a5=await this['createConversationforgoToFlow'](_0x4befc1,_0x1a00a5[_0x215d63(0x420)],_0x1a00a5[_0x215d63(0x2e7)][_0x215d63(0x698)]),this[_0x215d63(0x249)][_0x215d63(0x2e8)](this[_0x215d63(0x128)]+'\x20('+this[_0x215d63(0xc1)][_0x215d63(0x3e0)]+_0x215d63(0x56a));let _0x6fc9eb=await this[_0x215d63(0x2f1)](_0x1a00a5);_0x6fc9eb&&await this['processblock'](_0x1a00a5,_0x6fc9eb,_0x1a00a5[_0x215d63(0x420)]);}async[a0_0x32cdd8(0x2c8)](_0x50cd8a,_0xac03df,_0x405664){const _0x16b7bb=a0_0x32cdd8;this[_0x16b7bb(0x249)][_0x16b7bb(0x2e8)](this[_0x16b7bb(0x128)]+'\x20('+this[_0x16b7bb(0xc1)][_0x16b7bb(0x3e0)]+_0x16b7bb(0x1f9));try{if(_0x50cd8a=await I[_0x16b7bb(0x506)]({'owner':this[_0x16b7bb(0xc1)][_0x16b7bb(0x3e0)],'name':_0x50cd8a}),!_0x50cd8a)return this[_0x16b7bb(0x249)][_0x16b7bb(0x334)](this[_0x16b7bb(0x128)]+'\x20('+this[_0x16b7bb(0xc1)][_0x16b7bb(0x3e0)]+_0x16b7bb(0x20b)),null;let _0x4045c2=require('mongodb')[_0x16b7bb(0x201)],_0x1fb3e6=Date[_0x16b7bb(0xef)](),_0x4367df=_0x16b7bb(0x2ed),_0x3f5bfc={},_0x2dfe1f={},_0x50d2f7={..._0x50cd8a[_0x16b7bb(0x4a2)],'chatLog':null},_0x5b2102={'lastReceivedMessage':_0x3f5bfc,'lastSendMessage':_0x2dfe1f,'lastBlockId':_0x4367df,'lastCondition':!0x0,'realVariables':_0x405664};_0x50d2f7[_0x16b7bb(0x2e7)]=_0x5b2102,_0x50d2f7['chatLog'][_0x16b7bb(0x698)]={..._0x405664},delete _0x50d2f7[_0x16b7bb(0x386)],_0x50d2f7['_id']=new _0x4045c2(),_0x50d2f7[_0x16b7bb(0x38d)]=_0x1fb3e6,_0x50d2f7[_0x16b7bb(0x440)]='open',_0x50d2f7[_0x16b7bb(0x420)]=_0xac03df;let _0x242940=await J[_0x16b7bb(0x2c3)](_0x50d2f7);return this[_0x16b7bb(0x249)]['verbose'](this[_0x16b7bb(0x128)]+'\x20('+this['instance'][_0x16b7bb(0x3e0)]+_0x16b7bb(0x535)),_0x242940?_0x50d2f7:null;}catch(_0x2375f){throw this['logger'][_0x16b7bb(0x334)](this[_0x16b7bb(0x128)]+'\x20('+this[_0x16b7bb(0xc1)]['wuid']+_0x16b7bb(0x278)+_0x2375f),new g(_0x2375f[_0x16b7bb(0xd5)]);}}async['processApiRequest'](_0x436349,_0x4c83f0){const _0x2d4405=a0_0x32cdd8;let _0xf640af,_0x2afe32;try{let _0x12ff32=_0x4c83f0[_0x2d4405(0x289)];if(!_0x12ff32||!_0x12ff32[_0x2d4405(0x176)]||!_0x12ff32[_0x2d4405(0x5fd)])throw new Error(_0x2d4405(0x62d));let _0x51427d={'method':_0x12ff32[_0x2d4405(0x5fd)],'url':_0x12ff32[_0x2d4405(0x176)],'headers':_0x12ff32[_0x2d4405(0x259)]||{},'data':_0x12ff32[_0x2d4405(0x106)]||{}};_0xf640af=(await(0x0,ue['default'])(_0x51427d))['data'];let _0x53e4b5=_0x436349[_0x2d4405(0x2e7)][_0x2d4405(0x698)],_0x5097dd=this[_0x2d4405(0x243)](_0xf640af);return Object['assign'](_0x53e4b5,_0x5097dd),_0x436349['chatLog']['realVariables']=_0x53e4b5,_0x2afe32={'error':!0x1,'apiResponse':_0xf640af},this[_0x2d4405(0x2ee)](_0x436349,_0x4c83f0,_0x2afe32),_0xf640af;}catch(_0x26a3a5){console[_0x2d4405(0x334)](_0x2d4405(0x296),_0x26a3a5),_0x26a3a5[_0x2d4405(0x28d)]&&(_0xf640af=_0x26a3a5['response'][_0x2d4405(0x212)]);let _0x565ebe=_0x436349[_0x2d4405(0x2e7)]['realVariables'],_0x4bcf9a=this['flattenObject'](_0xf640af);return Object[_0x2d4405(0x468)](_0x565ebe,_0x4bcf9a),_0x436349[_0x2d4405(0x2e7)][_0x2d4405(0x698)]=_0x565ebe,_0x2afe32={'error':!0x0,'errorLog':_0x26a3a5[_0x2d4405(0x616)](),'apiResponse':_0xf640af},this['updateConversation'](_0x436349,_0x4c83f0,_0x2afe32),{'success':!0x1};}}[a0_0x32cdd8(0x1da)](_0x325c98,_0x464f84){const _0x2bd603=a0_0x32cdd8;let _0xa6edb7=_0x486046=>{const _0x42f80d=a0_0x282e;let _0x48972f=_0x486046[_0x42f80d(0x61a)](/[^0-9.,-]/g,'')[_0x42f80d(0x61a)](',','.'),_0x448ac0=parseFloat(_0x48972f);return isNaN(_0x448ac0)?null:_0x448ac0;},_0xb9c560=_0x464f84[_0x2bd603(0xd8)],_0x453e28=_0x464f84[_0x2bd603(0x42b)];typeof _0xb9c560==_0x2bd603(0x4d6)&&(_0xb9c560=this[_0x2bd603(0x615)](_0xb9c560,_0x325c98[_0x2bd603(0x2e7)][_0x2bd603(0x698)])??''),typeof _0x453e28=='string'&&(_0x453e28=this[_0x2bd603(0x615)](_0x453e28,_0x325c98['chatLog'][_0x2bd603(0x698)])??'');let _0x2eb39a=null;if(!_0xb9c560||!_0x464f84[_0x2bd603(0x528)])return null;switch(this[_0x2bd603(0x249)]['verbose'](this[_0x2bd603(0x128)]+'\x20('+this[_0x2bd603(0xc1)][_0x2bd603(0x3e0)]+_0x2bd603(0x107)+_0xb9c560),this['logger'][_0x2bd603(0x2e8)](this[_0x2bd603(0x128)]+'\x20('+this[_0x2bd603(0xc1)][_0x2bd603(0x3e0)]+_0x2bd603(0x330)+_0x453e28),_0x464f84['editOperator']){case'+':case'-':case'*':case'/':let _0x32c478=_0xa6edb7(_0xb9c560),_0x44db8f=_0xa6edb7(_0x453e28||'0');if(_0x32c478===null)return null;switch(_0x464f84[_0x2bd603(0x528)]){case'+':_0x2eb39a=_0x32c478+(_0x44db8f??0x0);break;case'-':_0x2eb39a=_0x32c478-(_0x44db8f??0x0);break;case'*':_0x2eb39a=_0x32c478*(_0x44db8f??0x1);break;case'/':_0x44db8f!==0x0&&(_0x2eb39a=_0x32c478/(_0x44db8f??0x1));break;}break;case _0x2bd603(0x24c):case _0x2bd603(0x5cc):let _0x556f4f=_0x453e28,_0x1b151d=_0x464f84[_0x2bd603(0x487)];if(typeof _0x1b151d==_0x2bd603(0x4d6)&&(_0x1b151d=this['replaceVariables'](_0x1b151d,_0x325c98[_0x2bd603(0x2e7)][_0x2bd603(0x698)])??''),_0x556f4f&&_0x1b151d!==void 0x0){let _0x100e71=_0x464f84[_0x2bd603(0x528)]===_0x2bd603(0x24c)?new RegExp(_0x556f4f[_0x2bd603(0x61a)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2bd603(0x19d)),'g'):new RegExp(_0x556f4f,'g');_0x2eb39a=_0xb9c560[_0x2bd603(0x61a)](_0x100e71,_0x1b151d);}else console[_0x2bd603(0x2d5)](_0x2bd603(0x684));break;case _0x2bd603(0x61f):_0x2eb39a=_0x453e28;break;case _0x2bd603(0x671):let _0x485606=_0xb9c560[_0x2bd603(0x1db)](new RegExp(_0x453e28||''));_0x2eb39a=_0x485606?_0x485606[0x0]:'';break;case'truncatedto':_0x2eb39a=_0xb9c560[_0x2bd603(0x5b2)](0x0,parseInt(_0x453e28||'0'));break;case _0x2bd603(0x3ca):let _0x11e74b=parseInt(_0x453e28||'0');_0x2eb39a=_0xb9c560[_0x2bd603(0x5b2)](_0xb9c560['length']-_0x11e74b);break;case _0x2bd603(0x2b0):let _0x7f2fb6=_0xa6edb7(_0xb9c560),_0x40702c=parseInt(_0x453e28||'0');_0x40702c=Math['abs'](_0x40702c),_0x7f2fb6!==null?_0x2eb39a=_0x7f2fb6['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x40702c,'maximumFractionDigits':_0x40702c}):(console[_0x2bd603(0x2d5)]('Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20'+_0xb9c560),_0x2eb39a=null);break;case _0x2bd603(0x678):let _0x562099=_0xa6edb7(_0xb9c560);_0x562099!==null?_0x2eb39a=_0x562099[_0x2bd603(0x373)](_0x2bd603(0x513),{'style':_0x2bd603(0x380),'currency':_0x2bd603(0x15d)}):(console[_0x2bd603(0x2d5)](_0x2bd603(0x140)+_0xb9c560),_0x2eb39a=null);break;case _0x2bd603(0x4ec):_0x2eb39a=_0xb9c560[_0x2bd603(0x1cb)]();break;case _0x2bd603(0x118):_0x2eb39a=_0xb9c560[_0x2bd603(0x61d)]();break;case _0x2bd603(0x12b):_0x2eb39a=_0xb9c560[_0x2bd603(0x5af)]('\x20')[_0x2bd603(0x58e)](_0x4238b0=>_0x4238b0['charAt'](0x0)[_0x2bd603(0x1cb)]()+_0x4238b0['slice'](0x1)[_0x2bd603(0x61d)]())[_0x2bd603(0x2d3)]('\x20');break;case'trimmed':_0x2eb39a=_0xb9c560[_0x2bd603(0x610)]();break;default:_0x2eb39a=_0xb9c560;}return _0x2eb39a!==null?_0x2eb39a[_0x2bd603(0x616)]():null;}async[a0_0x32cdd8(0x63b)](_0x559441,_0x135477){const _0x3eab06=a0_0x32cdd8;try{let _0x10a41f=_0x559441[_0x3eab06(0xbe)]?.[_0x3eab06(0x5bd)](_0x3717d0=>_0x3717d0['blockId']===_0x135477[_0x3eab06(0x386)]?.['toString']())||[],_0x4f163a=_0x135477[_0x3eab06(0x476)],_0xb3e06b=null,_0x27e95a=[],_0x37b522=_0x559441[_0x3eab06(0x2e7)][_0x3eab06(0x698)][_0x4f163a];_0x27e95a['push']('Valor\x20inicial:\x20\x22'+_0x37b522+'\x22');for(let _0x4048d1 of _0x10a41f){_0x4048d1[_0x3eab06(0xd8)]=_0x37b522,_0xb3e06b=_0x4048d1[_0x3eab06(0xd8)];let _0x53d21e;try{_0x53d21e=this[_0x3eab06(0x1da)](_0x559441,_0x4048d1);}catch(_0x126381){console['error'](_0x3eab06(0x483)+_0x126381[_0x3eab06(0xd5)]);continue;}if(_0x53d21e!==null){let _0x15aeeb=_0x3eab06(0x1e5)+_0x4048d1[_0x3eab06(0x528)]+'\x22',_0x4ff7a0=[_0x3eab06(0x678),_0x3eab06(0x4ec),_0x3eab06(0x118),_0x3eab06(0x12b),_0x3eab06(0x515)];_0x4048d1[_0x3eab06(0x528)]===_0x3eab06(0x24c)||_0x4048d1[_0x3eab06(0x528)]==='findAndReplaceRegex'?_0x15aeeb+=_0x3eab06(0x1fd)+_0x4048d1[_0x3eab06(0x42b)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4048d1[_0x3eab06(0x487)]+'\x22':!_0x4ff7a0[_0x3eab06(0x5d1)](_0x4048d1[_0x3eab06(0x528)])&&_0x4048d1['secondValue']!==null&&_0x4048d1[_0x3eab06(0x42b)]!==void 0x0&&(_0x15aeeb+=_0x3eab06(0x11e)+_0x4048d1[_0x3eab06(0x42b)]+'\x22'),_0x15aeeb+=',\x20resultado:\x20'+_0x53d21e+'.',_0x27e95a['push'](_0x15aeeb);}_0x53d21e!==null&&(_0x37b522=_0x53d21e);}if(_0x559441[_0x3eab06(0x2e7)]['realVariables']&&_0x135477[_0x3eab06(0x476)]){_0x559441[_0x3eab06(0x2e7)][_0x3eab06(0x698)][_0x135477['saveVariable']]=_0x37b522;let _0x406ead={'variable':_0x135477[_0x3eab06(0x476)],'oldValue':_0xb3e06b,'newValue':_0x37b522,'moreLogs':_0x27e95a};try{this[_0x3eab06(0x2ee)](_0x559441,_0x135477,_0x406ead);}catch(_0x2e9080){console[_0x3eab06(0x334)](_0x3eab06(0x54e)+_0x2e9080['message']);}}return _0x4f163a;}catch(_0x271731){return console['error'](_0x3eab06(0xf7)+_0x271731['message']),null;}}async['processConditions'](_0x4d710b,_0x22226c){const _0x58bfda=a0_0x32cdd8;try{let _0x2ddd8d=[],_0x3e804e=_0x4d710b[_0x58bfda(0x367)][_0x58bfda(0x5bd)](_0x3892a6=>_0x3892a6['blockId']===_0x22226c[_0x58bfda(0x386)]['toString']()),_0x5caacd=null,_0x67f7c1=!0x1;for(let _0x131d42 of _0x3e804e){let _0x56ba9c=this[_0x58bfda(0x560)](_0x4d710b,_0x131d42);_0x2ddd8d[_0x58bfda(0x58a)](_0x58bfda(0x2c0)+_0x131d42[_0x58bfda(0xd8)]+_0x58bfda(0xe4)+_0x131d42[_0x58bfda(0x5ba)]+_0x58bfda(0x4be)+_0x131d42[_0x58bfda(0x42b)]+_0x58bfda(0x119)+_0x56ba9c),_0x5caacd===null?_0x5caacd=_0x56ba9c:_0x131d42[_0x58bfda(0x3db)]===_0x58bfda(0x526)?(_0x5caacd=_0x5caacd&&_0x56ba9c,_0x56ba9c||(_0x67f7c1=!0x0)):_0x131d42[_0x58bfda(0x3db)]==='or'&&(_0x67f7c1||(_0x5caacd=_0x5caacd||_0x56ba9c));}_0x5caacd===null&&(_0x5caacd=!0x0);let _0x93450d={'moreLogs':_0x2ddd8d};_0x5caacd?(_0x4d710b[_0x58bfda(0x2e7)][_0x58bfda(0x1d3)]=!0x0,this[_0x58bfda(0x2ee)](_0x4d710b,_0x22226c,_0x93450d)):(_0x4d710b['chatLog'][_0x58bfda(0x1d3)]=!0x1,this[_0x58bfda(0x2ee)](_0x4d710b,_0x22226c,_0x93450d));}catch(_0x2a1e1){this[_0x58bfda(0x249)][_0x58bfda(0x334)](this[_0x58bfda(0x128)]+'\x20('+this[_0x58bfda(0xc1)][_0x58bfda(0x3e0)]+_0x58bfda(0x69a)+_0x2a1e1);}}[a0_0x32cdd8(0x560)](_0x42abf9,_0x2748b7){const _0x18d980=a0_0x32cdd8;let _0x50ac6f=_0x2748b7[_0x18d980(0xd8)],_0x483696=_0x2748b7[_0x18d980(0x42b)];typeof _0x50ac6f==_0x18d980(0x4d6)&&(_0x50ac6f=this[_0x18d980(0x615)](_0x50ac6f,_0x42abf9[_0x18d980(0x2e7)][_0x18d980(0x698)])??''),typeof _0x483696==_0x18d980(0x4d6)&&(_0x483696=this[_0x18d980(0x615)](_0x483696,_0x42abf9[_0x18d980(0x2e7)][_0x18d980(0x698)])??'');try{switch(_0x2748b7[_0x18d980(0x5ba)]){case _0x18d980(0x34a):return _0x50ac6f===_0x483696;case'notEqual':return _0x50ac6f!==_0x483696;case'contains':return _0x50ac6f[_0x18d980(0x5d1)](_0x483696);case'notContains':return!_0x50ac6f['includes'](_0x483696);case _0x18d980(0x191):return parseFloat(_0x50ac6f)>parseFloat(_0x483696);case _0x18d980(0x423):return parseFloat(_0x50ac6f)<parseFloat(_0x483696);case _0x18d980(0x64f):return _0x50ac6f!=='';case _0x18d980(0x53c):return _0x50ac6f==='';case _0x18d980(0x215):return new RegExp(_0x483696)[_0x18d980(0x606)](_0x50ac6f);case'notMatchRegex':return!new RegExp(_0x483696)[_0x18d980(0x606)](_0x50ac6f);default:return!0x1;}}catch(_0x1e92d9){return console[_0x18d980(0x334)](_0x18d980(0x327)+_0x1e92d9),!0x1;}}[a0_0x32cdd8(0x229)](_0x40d99b){const _0x5df6be=a0_0x32cdd8;let _0x4eccbc=!0x0,_0x4e745f=null;for(let _0x333959 of _0x40d99b){let _0x22b5b0=this['evaluateConditionTest'](_0x333959);if(_0x4e745f==='or'&&_0x22b5b0){_0x4eccbc=!0x0;break;}if(_0x4e745f==='and'&&!_0x22b5b0){_0x4eccbc=!0x1;break;}_0x4e745f=_0x333959[_0x5df6be(0x3db)];}return _0x4eccbc;}['evaluateConditionTest'](_0x252f8d){const _0x8cf7d3=a0_0x32cdd8;let _0x3d1585=_0x252f8d[_0x8cf7d3(0xd8)],_0x4db20f=_0x252f8d['secondValue'];try{switch(_0x252f8d['expression']){case _0x8cf7d3(0x34a):return String(_0x3d1585)===String(_0x4db20f);case'notEqual':return String(_0x3d1585)!==String(_0x4db20f);case _0x8cf7d3(0x2f0):return String(_0x3d1585)[_0x8cf7d3(0x5d1)](String(_0x4db20f));case _0x8cf7d3(0x262):return!String(_0x3d1585)[_0x8cf7d3(0x5d1)](String(_0x4db20f));case'greater':return parseFloat(String(_0x3d1585))>parseFloat(String(_0x4db20f));case _0x8cf7d3(0x423):return parseFloat(String(_0x3d1585))<parseFloat(String(_0x4db20f));case _0x8cf7d3(0x64f):return String(_0x3d1585)!=='';case _0x8cf7d3(0x53c):return String(_0x3d1585)==='';case _0x8cf7d3(0x215):return new RegExp(String(_0x4db20f))[_0x8cf7d3(0x606)](String(_0x3d1585));case _0x8cf7d3(0x1ea):return!new RegExp(String(_0x4db20f))[_0x8cf7d3(0x606)](String(_0x3d1585));default:return!0x1;}}catch(_0x50cf7b){return console['error'](_0x8cf7d3(0x327)+_0x50cf7b),!0x1;}}async[a0_0x32cdd8(0x683)](_0x5a03db,_0x37507e){const _0x240f47=a0_0x32cdd8;if(this['logger'][_0x240f47(0x2e8)](this[_0x240f47(0x128)]+'\x20('+this['instance'][_0x240f47(0x3e0)]+_0x240f47(0x661)),!_0x5a03db||!_0x37507e)return this[_0x240f47(0x249)]['error'](this[_0x240f47(0x128)]+'\x20('+this[_0x240f47(0xc1)]['wuid']+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x3c78e9=_0x37507e[_0x240f47(0x476)],_0x2762a0=_0x5a03db['chatLog'][_0x240f47(0x50e)][_0x240f47(0x25e)]||_0x5a03db[_0x240f47(0x2e7)][_0x240f47(0x50e)][_0x240f47(0x484)]||_0x5a03db['chatLog']['lastReceivedMessage'][_0x240f47(0x11d)];try{_0x5a03db[_0x240f47(0x2e7)][_0x240f47(0x698)]||(_0x5a03db[_0x240f47(0x2e7)][_0x240f47(0x698)]={});let _0xda0ed0=_0x5a03db[_0x240f47(0x2e7)][_0x240f47(0x698)][_0x3c78e9];_0x5a03db[_0x240f47(0x2e7)][_0x240f47(0x698)][_0x3c78e9]=_0x2762a0;let _0x44d1e7={'variable':_0x3c78e9,'oldValue':_0xda0ed0,'newValue':_0x2762a0};this[_0x240f47(0x2ee)](_0x5a03db,_0x37507e,_0x44d1e7),this[_0x240f47(0x249)][_0x240f47(0x2e8)](this[_0x240f47(0x128)]+'\x20('+this[_0x240f47(0xc1)][_0x240f47(0x3e0)]+'):\x20Conversa\x20atualizada\x20em\x20memria');}catch(_0x2b7ea0){let _0x4c1ad3={'error':!0x0,'errorLog':_0x2b7ea0[_0x240f47(0x616)]()};return this[_0x240f47(0x2ee)](_0x5a03db,_0x37507e,_0x4c1ad3),this[_0x240f47(0x249)]['error'](this[_0x240f47(0x128)]+'\x20('+this[_0x240f47(0xc1)][_0x240f47(0x3e0)]+_0x240f47(0x321)+_0x2b7ea0['message']),null;}}async['stopConversation'](_0x4ff6ef,_0x265843){const _0x369d17=a0_0x32cdd8;if(this[_0x369d17(0x249)][_0x369d17(0x2e8)](this[_0x369d17(0x128)]+'\x20('+this['instance'][_0x369d17(0x3e0)]+_0x369d17(0x66e)),!_0x4ff6ef||!_0x265843)return this[_0x369d17(0x249)][_0x369d17(0x334)](this[_0x369d17(0x128)]+'\x20('+this[_0x369d17(0xc1)][_0x369d17(0x3e0)]+_0x369d17(0x1c4)),null;let _0xa7badb=Date[_0x369d17(0xef)](),_0xe0d2de=parseInt(_0x265843[_0x369d17(0x159)],0xa);if(isNaN(_0xe0d2de))return this[_0x369d17(0x249)]['error'](this[_0x369d17(0x128)]+'\x20('+this[_0x369d17(0xc1)][_0x369d17(0x3e0)]+_0x369d17(0x11c)),null;let _0x142ab1={'newStoppedUntil':_0xa7badb+_0xe0d2de*0x3c*0x3e8};return await this[_0x369d17(0x2ee)](_0x4ff6ef,_0x265843,_0x142ab1,!0x0),null;}async['processUazapi'](_0x1e8df2,_0x2d102f,_0x1a68bc){const _0x3bffbc=a0_0x32cdd8;try{switch(_0x2d102f[_0x3bffbc(0x5b8)][_0x3bffbc(0x172)]){case _0x3bffbc(0x32c):await this[_0x3bffbc(0x5ef)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x122):await this[_0x3bffbc(0x47a)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x68c):await this[_0x3bffbc(0x24a)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x207):await this[_0x3bffbc(0x326)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x61c):await this[_0x3bffbc(0x3d6)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x3fc):await this[_0x3bffbc(0x25a)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;case _0x3bffbc(0x2d9):await this[_0x3bffbc(0x13a)](_0x1e8df2,_0x2d102f,_0x1a68bc);break;default:this['logger']['error'](this[_0x3bffbc(0x128)]+'\x20('+this[_0x3bffbc(0xc1)][_0x3bffbc(0x3e0)]+'):\x20Comando\x20desconhecido:\x20'+_0x2d102f['uazapi'][_0x3bffbc(0x172)]);}}catch(_0x30794e){this[_0x3bffbc(0x249)][_0x3bffbc(0x334)](this['instanceName']+'\x20('+this['instance'][_0x3bffbc(0x3e0)]+_0x3bffbc(0x226)+_0x30794e);}}async[a0_0x32cdd8(0x2ee)](_0x46b127,_0x2ae09a,_0x503cf8,_0x31b8b8=!0x1,_0x31a8bc=!0x1){const _0x27815a=a0_0x32cdd8;_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x33b)]||(_0x46b127[_0x27815a(0x2e7)]['blockLogs']=[]);let _0x251547=(_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x33b)]?.[_0x27815a(0x4d2)]??0x0)+0x1,_0x371ea1=_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x33b)][_0x27815a(0x5bd)](_0x7c2414=>String(_0x7c2414[_0x27815a(0x1d9)])===String(_0x2ae09a[_0x27815a(0x386)]))[_0x27815a(0x4d2)]+0x1,_0x505c59=_0x503cf8?.[_0x27815a(0x3fe)]??Date[_0x27815a(0xef)](),_0x15039e=_0x503cf8?.[_0x27815a(0x334)]?_0x503cf8['errorLog']??_0x503cf8[_0x27815a(0x334)]['toString']():void 0x0,_0xff3a7f={'onTime':_0x505c59,'blockId':_0x2ae09a[_0x27815a(0x386)],'order':_0x251547,'activatedCount':_0x371ea1,'error':_0x503cf8?.[_0x27815a(0x334)]??!0x1,'messageId':_0x503cf8?.[_0x27815a(0x2b3)],'apiResponse':_0x503cf8?.[_0x27815a(0x4e2)],'apiResponseString':_0x503cf8?.[_0x27815a(0x4e2)]?JSON[_0x27815a(0x679)](_0x503cf8?.['apiResponse']):void 0x0,'variable':_0x503cf8?.['variable'],'oldValue':_0x503cf8?.['oldValue'],'newValue':_0x503cf8?.['newValue'],'newStoppedUntil':_0x503cf8?.[_0x27815a(0x4cb)],'moreLogs':_0x503cf8?.[_0x27815a(0x5e7)],'errorLog':_0x15039e};if(_0x503cf8[_0x27815a(0x5e7)]&&_0x503cf8[_0x27815a(0x5e7)]['length']>0x0){let _0x327e5e=_0x503cf8[_0x27815a(0x5e7)][_0x27815a(0x58e)](_0x3588b7=>this[_0x27815a(0x3da)](_0x3588b7,_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x698)]));_0xff3a7f[_0x27815a(0x5e7)]=_0x327e5e;}_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x698)]||(_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x698)]={}),_0x46b127['chatLog'][_0x27815a(0x698)][_0x27815a(0x147)]=String(_0x371ea1),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x698)][_0x27815a(0x457)]=String(_0x503cf8[_0x27815a(0x334)]??!0x1),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x33b)][_0x27815a(0x58a)](_0xff3a7f),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x410)]=_0x2ae09a[_0x27815a(0x386)][_0x27815a(0x616)](),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x68b)]&&(_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x68b)]=_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x68b)]),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x50e)]&&(_0x46b127['chatLog'][_0x27815a(0x50e)]=_0x46b127['chatLog']['lastReceivedMessage']),_0x46b127[_0x27815a(0x2e7)][_0x27815a(0x1d3)]&&(_0x46b127['chatLog'][_0x27815a(0x1d3)]=_0x46b127['chatLog'][_0x27815a(0x1d3)]),_0x31a8bc&&(_0x46b127[_0x27815a(0x440)]=_0x27815a(0x101)),_0x31b8b8?this['saveConversationToDatabase'](_0x46b127):this[_0x27815a(0x2de)](_0x46b127,_0x2ae09a);}[a0_0x32cdd8(0x3da)](_0x7754cd,_0x49e4e6){const _0x1f00c1=a0_0x32cdd8;return _0x7754cd[_0x1f00c1(0x61a)](/\{\{([^}]+)\}\}/g,(_0x2be684,_0x2e22d1)=>_0x49e4e6[_0x2e22d1]?'{{'+_0x2e22d1+_0x1f00c1(0x10c)+_0x49e4e6[_0x2e22d1]+'\x22':'{{'+_0x2e22d1+_0x1f00c1(0x29c));}async['saveConversationToDatabase'](_0x1fb192){const _0x47dc7c=a0_0x32cdd8;try{let _0x1ced73=Object[_0x47dc7c(0x3cf)](_0x1fb192[_0x47dc7c(0x2e7)]['realVariables'])[_0x47dc7c(0x58e)](([_0x3b9d22,_0xf28bc5])=>({'name':_0x3b9d22,'value':_0xf28bc5})),_0x374564=await J[_0x47dc7c(0x31a)]({'_id':_0x1fb192[_0x47dc7c(0x386)]},{'$set':{'chatLog.lastBlockId':_0x1fb192[_0x47dc7c(0x2e7)]['lastBlockId'],'blocks':_0x1fb192[_0x47dc7c(0x1fc)],'chatLog.lastSendMessage':_0x1fb192[_0x47dc7c(0x2e7)][_0x47dc7c(0x68b)],'chatLog.lastReceivedMessage':_0x1fb192[_0x47dc7c(0x2e7)][_0x47dc7c(0x50e)],'chatLog.lastCondition':_0x1fb192[_0x47dc7c(0x2e7)][_0x47dc7c(0x1d3)],'chatLog.chatVariables':_0x1ced73,'chatLog.realVariables':_0x1fb192[_0x47dc7c(0x2e7)][_0x47dc7c(0x698)],'status':_0x1fb192[_0x47dc7c(0x440)],'chatLog.blockLogs':_0x1fb192[_0x47dc7c(0x2e7)]['blockLogs'],'waitingPoll_id':_0x1fb192[_0x47dc7c(0x153)],'waitingPoll_name':_0x1fb192['waitingPoll_name'],'waitingPoll_replyOptions':_0x1fb192[_0x47dc7c(0x5d5)]}},{'new':!0x0});if(_0x374564){this['logger'][_0x47dc7c(0x2e8)](this[_0x47dc7c(0x128)]+'\x20('+this[_0x47dc7c(0xc1)][_0x47dc7c(0x3e0)]+_0x47dc7c(0x435)+_0x374564[_0x47dc7c(0x386)]);try{let _0x5849f9=[_0x47dc7c(0x48b),_0x47dc7c(0xe2),_0x47dc7c(0x3b6),_0x47dc7c(0x292),'status',_0x47dc7c(0x394),_0x47dc7c(0x26a),_0x47dc7c(0x475)];if(!this[_0x47dc7c(0x18b)]&&(await this[_0x47dc7c(0x2b7)](),!this[_0x47dc7c(0x18b)]))throw new Error(_0x47dc7c(0x408));let _0x20d9c1=this[_0x47dc7c(0x18b)]?.[_0x47dc7c(0x2f9)]['map'](_0x36cff7=>_0x36cff7[_0x47dc7c(0x127)]),_0x5166cc={};Object[_0x47dc7c(0x3cf)](_0x1fb192['chatLog'][_0x47dc7c(0x698)])[_0x47dc7c(0x5dd)](([_0x472240,_0x54bc7e])=>{const _0x1d4fbb=_0x47dc7c;_0x5849f9[_0x1d4fbb(0x5d1)](_0x472240)&&(_0x472240==='tags'&&typeof _0x54bc7e==_0x1d4fbb(0x4d6)?_0x5166cc[_0x472240]=_0x54bc7e[_0x1d4fbb(0x5af)](',')[_0x1d4fbb(0x58e)](_0x5088b6=>_0x5088b6['trim']())[_0x1d4fbb(0x5bd)](_0x445dcb=>_0x445dcb!==''):_0x5166cc[_0x472240]=_0x54bc7e);});let _0x1a965a=_0x1fb192[_0x47dc7c(0x2e7)][_0x47dc7c(0x33b)][_0x1fb192['chatLog'][_0x47dc7c(0x33b)][_0x47dc7c(0x4d2)]-0x1];if(_0x1a965a){let _0x144bed=_0x1a965a['newStoppedUntil'];_0x144bed!==void 0x0&&(_0x5166cc[_0x47dc7c(0x488)]=_0x144bed[_0x47dc7c(0x616)]());}let _0x2c71ae=_0x1ced73[_0x47dc7c(0x5bd)](_0x18f8b3=>_0x20d9c1[_0x47dc7c(0x5d1)](_0x18f8b3[_0x47dc7c(0x127)]));this['logger'][_0x47dc7c(0x2e8)](this['instanceName']+'\x20('+this[_0x47dc7c(0xc1)]['wuid']+_0x47dc7c(0x685)),this['logger'][_0x47dc7c(0x2e8)](_0x5166cc),this['logger'][_0x47dc7c(0x2e8)](this[_0x47dc7c(0x128)]+'\x20('+this[_0x47dc7c(0xc1)][_0x47dc7c(0x3e0)]+_0x47dc7c(0x491)),this['logger'][_0x47dc7c(0x2e8)](_0x2c71ae);let _0x3eae09=_0x2c71ae[_0x47dc7c(0x58e)](_0x2c3e28=>{const _0x3726fa=_0x47dc7c;let _0x308e22=this[_0x3726fa(0x18b)]?.['customFields']['find'](_0x585bb1=>_0x585bb1[_0x3726fa(0x127)]===_0x2c3e28['name']);if(!_0x308e22)throw new Error(_0x3726fa(0x20c)+_0x2c3e28[_0x3726fa(0x127)]);return{'_id':_0x308e22[_0x3726fa(0x386)],'value':_0x2c3e28[_0x3726fa(0x17c)]};});this[_0x47dc7c(0x249)][_0x47dc7c(0x2e8)](this[_0x47dc7c(0x128)]+'\x20('+this[_0x47dc7c(0xc1)]['wuid']+_0x47dc7c(0x4b2)),this[_0x47dc7c(0x249)][_0x47dc7c(0x2e8)](_0x3eae09),await this[_0x47dc7c(0x653)](_0x1fb192[_0x47dc7c(0x420)],_0x5166cc,_0x3eae09);}catch(_0x1974aa){this[_0x47dc7c(0x249)][_0x47dc7c(0x334)](this['instanceName']+'\x20('+this[_0x47dc7c(0xc1)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+JSON[_0x47dc7c(0x679)](_0x1974aa));}}else this['logger'][_0x47dc7c(0x334)](this[_0x47dc7c(0x128)]+'\x20('+this['instance']['wuid']+_0x47dc7c(0x44a));}catch(_0x33a34){this[_0x47dc7c(0x249)]['error'](this[_0x47dc7c(0x128)]+'\x20('+this[_0x47dc7c(0xc1)][_0x47dc7c(0x3e0)]+'):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20'+JSON[_0x47dc7c(0x679)](_0x33a34));}}async[a0_0x32cdd8(0x653)](_0x581c87,_0x49b1f4,_0x3f4ade){const _0x5208df=a0_0x32cdd8;try{let _0x47cffe={'leadInfo.leadnome':_0x49b1f4['nome'],'leadInfo.nomecompleto':_0x49b1f4[_0x5208df(0xe2)],'leadInfo.email':_0x49b1f4[_0x5208df(0x3b6)],'leadInfo.cpf':_0x49b1f4['cpf'],'leadInfo.status':_0x49b1f4['status'],'leadInfo.notas':_0x49b1f4[_0x5208df(0x394)],'leadInfo.responsavelid':_0x49b1f4[_0x5208df(0x26a)],'leadInfo.tags':_0x49b1f4['tags'],'leadInfo.customFields':_0x3f4ade};if('desativadoFluxoAte'in _0x49b1f4){let _0x246eaa=_0x49b1f4[_0x5208df(0x488)];_0x47cffe[_0x5208df(0x116)]=_0x246eaa?Number(_0x246eaa):null;}let _0x19afcf=await D[_0x5208df(0x31a)]({'id':_0x581c87,'owner':this[_0x5208df(0xc1)][_0x5208df(0x3e0)]},{'$set':_0x47cffe},{'new':!0x0,'upsert':!0x0});_0x19afcf?(this[_0x5208df(0x249)][_0x5208df(0x2e8)](this[_0x5208df(0x128)]+'\x20('+this[_0x5208df(0xc1)][_0x5208df(0x3e0)]+_0x5208df(0x345)+_0x19afcf[_0x5208df(0x386)]),q(this[_0x5208df(0x128)],_0x5208df(0x324),{'chat':_0x19afcf})):this[_0x5208df(0x249)]['error'](this[_0x5208df(0x128)]+'\x20('+this[_0x5208df(0xc1)][_0x5208df(0x3e0)]+_0x5208df(0x28b));}catch(_0x33ecf0){this['logger'][_0x5208df(0x334)](this[_0x5208df(0x128)]+'\x20('+this['instance'][_0x5208df(0x3e0)]+_0x5208df(0x5f6)+_0x33ecf0);}}async['updateStopChat'](_0x3bb59f,_0x2a4e29){const _0x31473c=a0_0x32cdd8;this[_0x31473c(0x249)][_0x31473c(0x2e8)](this[_0x31473c(0x128)]+'\x20('+this[_0x31473c(0xc1)][_0x31473c(0x3e0)]+_0x31473c(0x600)+_0x2a4e29);try{let _0x2d9da3=await D[_0x31473c(0x31a)]({'id':_0x3bb59f[_0x31473c(0x420)],'owner':_0x3bb59f[_0x31473c(0x22b)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x2a4e29}},{'new':!0x0});this['logger'][_0x31473c(0x2e8)](this[_0x31473c(0x128)]+'\x20('+this['instance']['wuid']+_0x31473c(0x686)+_0x3bb59f[_0x31473c(0x386)]),this[_0x31473c(0x249)][_0x31473c(0x2e8)](this['instanceName']+'\x20('+this[_0x31473c(0xc1)][_0x31473c(0x3e0)]+_0x31473c(0x600)+JSON[_0x31473c(0x679)](_0x2d9da3,null,0x2)),_0x2d9da3&&q(this['instanceName'],_0x31473c(0x324),{'chat':_0x2d9da3});}catch(_0x4b0b08){this['logger']['error'](this[_0x31473c(0x128)]+'\x20('+this[_0x31473c(0xc1)][_0x31473c(0x3e0)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x31473c(0x679)](_0x4b0b08));}}async['findFlow'](_0x3967a3,_0x34b851){const _0x57d6dd=a0_0x32cdd8;try{this[_0x57d6dd(0x249)]['verbose'](this[_0x57d6dd(0x128)]+'\x20('+this[_0x57d6dd(0xc1)][_0x57d6dd(0x3e0)]+_0x57d6dd(0x383));let _0x194c40=_0x34b851['replace'](/\D/g,''),_0x336575=await I[_0x57d6dd(0x506)]({'owner':_0x3967a3,'testingWith':_0x194c40});return _0x336575||(this[_0x57d6dd(0x249)][_0x57d6dd(0x2e8)](this[_0x57d6dd(0x128)]+'\x20('+this[_0x57d6dd(0xc1)][_0x57d6dd(0x3e0)]+_0x57d6dd(0x597)),_0x336575=await I[_0x57d6dd(0x506)]({'owner':_0x3967a3,'default':!0x0})),_0x336575||(this['logger'][_0x57d6dd(0x2e8)](this[_0x57d6dd(0x128)]+'\x20('+this[_0x57d6dd(0xc1)][_0x57d6dd(0x3e0)]+_0x57d6dd(0x20d)),null);}catch(_0x12fd9f){return this[_0x57d6dd(0x249)]['error'](this['instanceName']+'\x20('+this[_0x57d6dd(0xc1)][_0x57d6dd(0x3e0)]+_0x57d6dd(0x67a)+_0x12fd9f),null;}}async[a0_0x32cdd8(0x4bd)](_0x1a59c3,_0x108bb0,_0x56b542){const _0x23b7c9=a0_0x32cdd8;try{let _0x5edbbf=!!_0x56b542[_0x23b7c9(0x11d)],_0x17b29e=_0x56b542[_0x23b7c9(0x343)],_0x16aba0=null;if(this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this['instanceName']+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0xca)+_0x5edbbf+'poll_id'+_0x17b29e),_0x5edbbf)return this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0xf0)),_0x16aba0=await J[_0x23b7c9(0x506)]({'owner':_0x1a59c3,'remoteJid':_0x108bb0,'waitingPoll_id':_0x17b29e}),_0x16aba0?(_0x16aba0[_0x23b7c9(0x38d)]=Date[_0x23b7c9(0xef)](),_0x16aba0[_0x23b7c9(0x2e7)]['lastReceivedMessage']=_0x56b542,_0x16aba0):(this['logger'][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x5cd)),null);{if(this['logger'][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x135)+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x368)),this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x69d)),_0x16aba0=await J[_0x23b7c9(0x506)]({'owner':_0x1a59c3,'remoteJid':_0x108bb0,'status':_0x23b7c9(0x4e8)}),!_0x16aba0){let _0x463ae0=await this[_0x23b7c9(0x4a5)](_0x1a59c3,_0x108bb0);if(_0x463ae0&&(_0x16aba0=await this['createNewConversation'](_0x463ae0,_0x56b542['key'],_0x56b542)),!_0x16aba0)return null;}let _0x4a6113=Date[_0x23b7c9(0xef)](),_0x4558a1=_0x16aba0?.[_0x23b7c9(0x2fc)]||0x0,_0x231929=_0x4a6113-_0x4558a1*0x3c*0x3e8;if(this['logger'][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x450)+_0x4a6113+',\x20Minutes\x20to\x20Close:\x20'+_0x4558a1+_0x23b7c9(0x305)+_0x231929),this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x224)),this['logger'][_0x23b7c9(0x2e8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x23b7c9(0xdb)+_0x16aba0[_0x23b7c9(0x38d)]),this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x23b7c9(0x5e8)+_0x231929),_0x16aba0[_0x23b7c9(0x38d)]<_0x231929){this[_0x23b7c9(0x249)][_0x23b7c9(0x2e8)](this[_0x23b7c9(0x128)]+'\x20('+this[_0x23b7c9(0xc1)][_0x23b7c9(0x3e0)]+_0x23b7c9(0x3a5));let _0x47b4b5=await this[_0x23b7c9(0x4a5)](_0x1a59c3,_0x108bb0);if(_0x47b4b5===null)return null;_0x16aba0&&await J[_0x23b7c9(0x3ec)]({'_id':_0x16aba0[_0x23b7c9(0x386)]},{'status':_0x23b7c9(0x101)}),_0x16aba0=await this[_0x23b7c9(0x5a9)](_0x47b4b5,_0x56b542[_0x23b7c9(0x3fb)],_0x56b542);}return _0x16aba0[_0x23b7c9(0x38d)]=_0x4a6113,_0x16aba0[_0x23b7c9(0x2e7)]['lastReceivedMessage']=_0x56b542,_0x16aba0;}}catch(_0x2aa54b){return this[_0x23b7c9(0x249)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x23b7c9(0x323)+_0x2aa54b),null;}}async[a0_0x32cdd8(0x5a9)](_0xc8143f,_0x216fef,_0x6992da){const _0xcbafe4=a0_0x32cdd8;this[_0xcbafe4(0x249)][_0xcbafe4(0x2e8)](this[_0xcbafe4(0x128)]+'\x20('+this[_0xcbafe4(0xc1)][_0xcbafe4(0x3e0)]+_0xcbafe4(0x1f9));try{let _0x13f5e5=require(_0xcbafe4(0x3c9))[_0xcbafe4(0x201)],_0x314296=Date['now'](),_0x400987=_0xcbafe4(0x2ed),_0x135e1a=_0x216fef['fromMe']?null:_0x6992da,_0x28e33c=_0x216fef[_0xcbafe4(0x4a9)]?_0x6992da:null,_0x3462e5=_0x216fef[_0xcbafe4(0x420)],_0x1dc062={..._0xc8143f[_0xcbafe4(0x4a2)],'chatLog':null},_0x1fbba3=await this[_0xcbafe4(0x311)](_0x1dc062[_0xcbafe4(0x3e8)]),_0x5b9807=await this['getVariablesChat'](_0x3462e5),_0x588eb2={..._0x1fbba3,..._0x5b9807},_0x424efd={'lastReceivedMessage':_0x135e1a,'lastSendMessage':_0x28e33c,'lastBlockId':_0x400987,'lastCondition':!0x0,'realVariables':_0x588eb2};_0x1dc062[_0xcbafe4(0x2e7)]=_0x424efd,delete _0x1dc062[_0xcbafe4(0x386)],_0x1dc062[_0xcbafe4(0x386)]=new _0x13f5e5(),_0x1dc062['lastInteraction']=_0x314296,_0x1dc062[_0xcbafe4(0x440)]=_0xcbafe4(0x4e8),_0x1dc062[_0xcbafe4(0x420)]=_0x3462e5;let _0x830ed3=await J['create'](_0x1dc062);return this[_0xcbafe4(0x249)][_0xcbafe4(0x2e8)](this[_0xcbafe4(0x128)]+'\x20('+this[_0xcbafe4(0xc1)][_0xcbafe4(0x3e0)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x830ed3?_0x1dc062:null;}catch(_0x4381c4){return this[_0xcbafe4(0x249)]['error'](this[_0xcbafe4(0x128)]+'\x20('+this['instance'][_0xcbafe4(0x3e0)]+_0xcbafe4(0x278)+_0x4381c4),_0x4381c4;}}async[a0_0x32cdd8(0x5ef)](_0x178104,_0x5d35c8,_0x5f5bda){const _0x58eb7f=a0_0x32cdd8;this[_0x58eb7f(0x249)][_0x58eb7f(0x2e8)](this['instanceName']+'\x20('+this[_0x58eb7f(0xc1)][_0x58eb7f(0x3e0)]+_0x58eb7f(0x3ea));let _0x34bebd={'number':_0x5f5bda,'options':{'delay':_0x5d35c8[_0x58eb7f(0x5b8)][_0x58eb7f(0x3a6)]},'textMessage':{'text':_0x5d35c8[_0x58eb7f(0x5b8)][_0x58eb7f(0x25e)]}};try{let _0x335a97=await this[_0x58eb7f(0x5ee)](_0x34bebd);if(_0x335a97){let _0x1c193e={'_id':_0x335a97['key']['id'],'_fromMe':_0x335a97[_0x58eb7f(0x3fb)][_0x58eb7f(0x4a9)],'_remoteJid':_0x335a97[_0x58eb7f(0x3fb)][_0x58eb7f(0x420)]};_0x178104[_0x58eb7f(0x2e7)][_0x58eb7f(0x410)]=_0x5d35c8['_id'][_0x58eb7f(0x616)]();let {message_normalized:_0x46d70f}=this['normalizeMessage'](_0x335a97[_0x58eb7f(0xd5)],W(_0x335a97[_0x58eb7f(0xd5)]),null);_0x178104[_0x58eb7f(0x2e7)][_0x58eb7f(0x68b)]=await _0x46d70f;let _0x388991={'messageId':_0x335a97[_0x58eb7f(0x3fb)]['id']},_0x559367=_0x178104['chatLog']['realVariables'];Object[_0x58eb7f(0x468)](_0x559367,_0x1c193e),_0x178104[_0x58eb7f(0x2e7)][_0x58eb7f(0x698)]=_0x559367,this[_0x58eb7f(0x2ee)](_0x178104,_0x5d35c8,_0x388991);}else{let _0x48591c={'error':!0x0};this[_0x58eb7f(0x2ee)](_0x178104,_0x5d35c8,_0x48591c),this[_0x58eb7f(0x249)]['error'](this[_0x58eb7f(0x128)]+'\x20('+this['instance'][_0x58eb7f(0x3e0)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x468b12){let _0x2a8b0b={'error':!0x0,'errorLog':_0x468b12[_0x58eb7f(0x616)]()};this['updateConversation'](_0x178104,_0x5d35c8,_0x2a8b0b),this[_0x58eb7f(0x249)][_0x58eb7f(0x334)](this['instanceName']+'\x20('+this[_0x58eb7f(0xc1)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x468b12[_0x58eb7f(0x616)]());}}async[a0_0x32cdd8(0x47a)](_0x335df9,_0x5cdc09,_0x35bc27){const _0x1a0065=a0_0x32cdd8;this[_0x1a0065(0x249)]['verbose'](this['instanceName']+'\x20('+this[_0x1a0065(0xc1)][_0x1a0065(0x3e0)]+_0x1a0065(0xf5));let _0x2bcd1c={'number':_0x35bc27,'options':{'delay':_0x5cdc09[_0x1a0065(0x5b8)]['delay']},'mediaMessage':{'mediatype':_0x5cdc09[_0x1a0065(0x5b8)]['mediatype'],'caption':_0x5cdc09[_0x1a0065(0x5b8)]['caption'],'media':_0x5cdc09[_0x1a0065(0x5b8)]['media']}};try{let _0x5d4f11=await this[_0x1a0065(0x4c7)](_0x2bcd1c);if(_0x5d4f11){let _0x2d7162={'_id':_0x5d4f11['key']['id'],'_fromMe':_0x5d4f11[_0x1a0065(0x3fb)][_0x1a0065(0x4a9)],'_remoteJid':_0x5d4f11[_0x1a0065(0x3fb)][_0x1a0065(0x420)]};_0x335df9['chatLog']['lastBlockId']=_0x5cdc09['_id'][_0x1a0065(0x616)]();let {message_normalized:_0x31f2a3}=this[_0x1a0065(0x688)](_0x5d4f11[_0x1a0065(0xd5)],W(_0x5d4f11['message']),null);_0x335df9[_0x1a0065(0x2e7)][_0x1a0065(0x68b)]=await _0x31f2a3;let _0x13e2cb={'messageId':_0x5d4f11['key']['id']},_0x2ed1fd=_0x335df9[_0x1a0065(0x2e7)][_0x1a0065(0x698)];Object[_0x1a0065(0x468)](_0x2ed1fd,_0x2d7162),_0x335df9[_0x1a0065(0x2e7)]['realVariables']=_0x2ed1fd,this[_0x1a0065(0x2ee)](_0x335df9,_0x5cdc09,_0x13e2cb);}else{let _0x25f3eb={'error':!0x0};this[_0x1a0065(0x2ee)](_0x335df9,_0x5cdc09,_0x25f3eb),this[_0x1a0065(0x249)][_0x1a0065(0x334)](this[_0x1a0065(0x128)]+'\x20('+this['instance'][_0x1a0065(0x3e0)]+_0x1a0065(0x576));}}catch(_0x18d48c){let _0x460bdf={'error':!0x0,'errorLog':_0x18d48c[_0x1a0065(0x616)]()};this[_0x1a0065(0x2ee)](_0x335df9,_0x5cdc09,_0x460bdf),this['logger']['error'](this[_0x1a0065(0x128)]+'\x20('+this['instance'][_0x1a0065(0x3e0)]+_0x1a0065(0x279)+_0x18d48c[_0x1a0065(0x616)]());}}async[a0_0x32cdd8(0x24a)](_0x20386b,_0x5b28c5,_0x350286){const _0x481ff0=a0_0x32cdd8;this[_0x481ff0(0x249)][_0x481ff0(0x2e8)](this[_0x481ff0(0x128)]+'\x20('+this[_0x481ff0(0xc1)][_0x481ff0(0x3e0)]+_0x481ff0(0x2a4));let _0x533f00={'number':_0x350286,'options':{'delay':_0x5b28c5['uazapi'][_0x481ff0(0x3a6)]},'locationMessage':{'name':_0x5b28c5['uazapi'][_0x481ff0(0x127)],'address':_0x5b28c5[_0x481ff0(0x5b8)]['address'],'latitude':_0x5b28c5[_0x481ff0(0x5b8)][_0x481ff0(0x3bf)],'longitude':_0x5b28c5[_0x481ff0(0x5b8)][_0x481ff0(0x495)]}};try{let _0x29606d=await this[_0x481ff0(0x221)](_0x533f00);if(_0x29606d){let _0x2cfeb8={'_id':_0x29606d[_0x481ff0(0x3fb)]['id'],'_fromMe':_0x29606d['key'][_0x481ff0(0x4a9)],'_remoteJid':_0x29606d[_0x481ff0(0x3fb)]['remoteJid']};_0x20386b[_0x481ff0(0x2e7)][_0x481ff0(0x410)]=_0x5b28c5['_id'][_0x481ff0(0x616)]();let {message_normalized:_0x143429}=this[_0x481ff0(0x688)](_0x29606d[_0x481ff0(0xd5)],W(_0x29606d[_0x481ff0(0xd5)]),null);_0x20386b['chatLog'][_0x481ff0(0x68b)]=await _0x143429;let _0x211f5a={'messageId':_0x29606d['key']['id']},_0x4b4881=_0x20386b[_0x481ff0(0x2e7)]['realVariables'];Object[_0x481ff0(0x468)](_0x4b4881,_0x2cfeb8),_0x20386b[_0x481ff0(0x2e7)]['realVariables']=_0x4b4881,this[_0x481ff0(0x2ee)](_0x20386b,_0x5b28c5,_0x211f5a);}else{let _0xd098d7={'error':!0x0};this[_0x481ff0(0x2ee)](_0x20386b,_0x5b28c5,_0xd098d7),this[_0x481ff0(0x249)][_0x481ff0(0x334)](this['instanceName']+'\x20('+this[_0x481ff0(0xc1)][_0x481ff0(0x3e0)]+_0x481ff0(0x20f));}}catch(_0x46cd09){let _0x4f214e={'error':!0x0,'errorLog':_0x46cd09[_0x481ff0(0x616)]()};this[_0x481ff0(0x2ee)](_0x20386b,_0x5b28c5,_0x4f214e),this[_0x481ff0(0x249)][_0x481ff0(0x334)](this[_0x481ff0(0x128)]+'\x20('+this[_0x481ff0(0xc1)][_0x481ff0(0x3e0)]+_0x481ff0(0x442)+_0x46cd09[_0x481ff0(0x616)]());}}async[a0_0x32cdd8(0x326)](_0x2f7a69,_0x4215ec,_0x4bdd2a){const _0x2f80d2=a0_0x32cdd8;this[_0x2f80d2(0x249)][_0x2f80d2(0x2e8)](this[_0x2f80d2(0x128)]+'\x20('+this[_0x2f80d2(0xc1)][_0x2f80d2(0x3e0)]+_0x2f80d2(0x636));let _0xfc1344={'number':_0x4bdd2a,'options':{'delay':_0x4215ec[_0x2f80d2(0x5b8)][_0x2f80d2(0x3a6)]},'audioMessage':{'audio':_0x4215ec[_0x2f80d2(0x5b8)][_0x2f80d2(0x322)]}};try{let _0x3fbb3d=await this[_0x2f80d2(0x5e2)](_0xfc1344);if(_0x3fbb3d){let _0x140c7c={'_id':_0x3fbb3d[_0x2f80d2(0x3fb)]['id'],'_fromMe':_0x3fbb3d['key'][_0x2f80d2(0x4a9)],'_remoteJid':_0x3fbb3d[_0x2f80d2(0x3fb)]['remoteJid']};_0x2f7a69[_0x2f80d2(0x2e7)][_0x2f80d2(0x410)]=_0x4215ec[_0x2f80d2(0x386)][_0x2f80d2(0x616)]();let {message_normalized:_0x3e388d}=this[_0x2f80d2(0x688)](_0x3fbb3d['message'],W(_0x3fbb3d['message']),null);_0x2f7a69[_0x2f80d2(0x2e7)][_0x2f80d2(0x68b)]=await _0x3e388d;let _0x230a62={'messageId':_0x3fbb3d['key']['id']},_0x347967=_0x2f7a69['chatLog'][_0x2f80d2(0x698)];Object[_0x2f80d2(0x468)](_0x347967,_0x140c7c),_0x2f7a69[_0x2f80d2(0x2e7)][_0x2f80d2(0x698)]=_0x347967,this[_0x2f80d2(0x2ee)](_0x2f7a69,_0x4215ec,_0x230a62);}else{let _0x4bd15a={'error':!0x0};this['updateConversation'](_0x2f7a69,_0x4215ec,_0x4bd15a),this[_0x2f80d2(0x249)]['error'](this[_0x2f80d2(0x128)]+'\x20('+this['instance'][_0x2f80d2(0x3e0)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0x2c7ee1){let _0x5bc920={'error':!0x0,'errorLog':_0x2c7ee1[_0x2f80d2(0x616)]()};this[_0x2f80d2(0x2ee)](_0x2f7a69,_0x4215ec,_0x5bc920),this[_0x2f80d2(0x249)][_0x2f80d2(0x334)](this[_0x2f80d2(0x128)]+'\x20('+this['instance']['wuid']+_0x2f80d2(0x237)+_0x2c7ee1[_0x2f80d2(0x616)]());}}async[a0_0x32cdd8(0x3d6)](_0xb8a869,_0x492cad,_0x47b21a){const _0x2f16a7=a0_0x32cdd8;this[_0x2f16a7(0x249)][_0x2f16a7(0x2e8)](this[_0x2f16a7(0x128)]+'\x20('+this[_0x2f16a7(0xc1)]['wuid']+_0x2f16a7(0x657));let _0xd69b3a={'number':_0x47b21a,'options':{'delay':_0x492cad['uazapi'][_0x2f16a7(0x3a6)]},'contactMessage':[{'fullName':_0x492cad[_0x2f16a7(0x5b8)][_0x2f16a7(0x664)],'phoneNumber':_0x492cad[_0x2f16a7(0x5b8)][_0x2f16a7(0x2bd)]}]};try{let _0x4ed7dc=await this[_0x2f16a7(0x5d8)](_0xd69b3a);if(_0x4ed7dc){let _0x329797={'_id':_0x4ed7dc[_0x2f16a7(0x3fb)]['id'],'_fromMe':_0x4ed7dc[_0x2f16a7(0x3fb)][_0x2f16a7(0x4a9)],'_remoteJid':_0x4ed7dc['key'][_0x2f16a7(0x420)]};_0xb8a869[_0x2f16a7(0x2e7)][_0x2f16a7(0x410)]=_0x492cad[_0x2f16a7(0x386)][_0x2f16a7(0x616)]();let {message_normalized:_0x231395}=this[_0x2f16a7(0x688)](_0x4ed7dc[_0x2f16a7(0xd5)],W(_0x4ed7dc['message']),null);_0xb8a869[_0x2f16a7(0x2e7)][_0x2f16a7(0x68b)]=await _0x231395;let _0x2bfb9c={'messageId':_0x4ed7dc[_0x2f16a7(0x3fb)]['id']},_0x78a47d=_0xb8a869[_0x2f16a7(0x2e7)][_0x2f16a7(0x698)];Object[_0x2f16a7(0x468)](_0x78a47d,_0x329797),_0xb8a869[_0x2f16a7(0x2e7)][_0x2f16a7(0x698)]=_0x78a47d,this['updateConversation'](_0xb8a869,_0x492cad,_0x2bfb9c);}else{let _0x592764={'error':!0x0};this[_0x2f16a7(0x2ee)](_0xb8a869,_0x492cad,_0x592764),this[_0x2f16a7(0x249)][_0x2f16a7(0x334)](this[_0x2f16a7(0x128)]+'\x20('+this['instance']['wuid']+_0x2f16a7(0x508));}}catch(_0xe6a72a){let _0xbc2274={'error':!0x0,'errorLog':_0xe6a72a[_0x2f16a7(0x616)]()};this[_0x2f16a7(0x2ee)](_0xb8a869,_0x492cad,_0xbc2274),this['logger'][_0x2f16a7(0x334)](this[_0x2f16a7(0x128)]+'\x20('+this['instance'][_0x2f16a7(0x3e0)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0xe6a72a[_0x2f16a7(0x616)]());}}[a0_0x32cdd8(0x3a8)](_0x4b2cc8,_0xb3189c){const _0x5a87f4=a0_0x32cdd8;for(let _0x3c026e of _0x4b2cc8)_0x3c026e['option']&&(_0x3c026e[_0x5a87f4(0x4ed)]=this['replaceVariables'](_0x3c026e[_0x5a87f4(0x4ed)],_0xb3189c)),_0x3c026e[_0x5a87f4(0x562)]&&(_0x3c026e[_0x5a87f4(0x562)]=this[_0x5a87f4(0x615)](_0x3c026e['optionDescription'],_0xb3189c));}async['uazapiSendPoll'](_0x4fc919,_0x375346,_0x290d2f){const _0x541261=a0_0x32cdd8;this['logger'][_0x541261(0x2e8)](this[_0x541261(0x128)]+'\x20('+this['instance'][_0x541261(0x3e0)]+_0x541261(0x514));let _0x3528b1=_0x4fc919[_0x541261(0x55e)][_0x541261(0x5bd)](_0x4b880b=>_0x4b880b[_0x541261(0x1d9)]===_0x375346[_0x541261(0x386)]);this['replaceVariablesInReplyOptions'](_0x3528b1,_0x4fc919[_0x541261(0x2e7)][_0x541261(0x698)]);let _0x19a283=_0x3528b1[_0x541261(0x58e)](_0x4d2388=>_0x4d2388['option']),_0x121b2b={'number':_0x290d2f,'options':{'delay':_0x375346[_0x541261(0x5b8)][_0x541261(0x3a6)]},'pollMessage':{'name':_0x375346[_0x541261(0x5b8)][_0x541261(0x127)],'selectableCount':0x1,'values':_0x19a283}};try{let _0x2aa9ad=await this[_0x541261(0x30b)](_0x121b2b);if(_0x2aa9ad){let _0x59d577={'_id':_0x2aa9ad[_0x541261(0x3fb)]['id'],'_fromMe':_0x2aa9ad[_0x541261(0x3fb)][_0x541261(0x4a9)],'_remoteJid':_0x2aa9ad[_0x541261(0x3fb)][_0x541261(0x420)]};this['logger'][_0x541261(0x2e8)](this[_0x541261(0x128)]+'\x20('+this['instance'][_0x541261(0x3e0)]+'):\x20nextBlock.uazapi.name'+_0x375346['uazapi'][_0x541261(0x127)]),_0x4fc919['waitingPoll_id']=_0x2aa9ad[_0x541261(0x3fb)]['id'],_0x4fc919['waitingPoll_name']=_0x375346[_0x541261(0x5b8)][_0x541261(0x127)],_0x4fc919[_0x541261(0x5d5)]=_0x3528b1,this[_0x541261(0x249)][_0x541261(0x2e8)](this['instanceName']+'\x20('+this['instance'][_0x541261(0x3e0)]+_0x541261(0x1a0)+_0x4fc919[_0x541261(0x2fd)]),_0x4fc919[_0x541261(0x2e7)][_0x541261(0x410)]=_0x375346[_0x541261(0x386)]['toString']();let {message_normalized:_0x258c23}=this['normalizeMessage'](_0x2aa9ad['message'],W(_0x2aa9ad['message']),null);_0x4fc919[_0x541261(0x2e7)]['lastSendMessage']=await _0x258c23;let _0x316cd7={'messageId':_0x2aa9ad[_0x541261(0x3fb)]['id']},_0x1bb59d=_0x4fc919[_0x541261(0x2e7)][_0x541261(0x698)];Object[_0x541261(0x468)](_0x1bb59d,_0x59d577),_0x4fc919[_0x541261(0x2e7)]['realVariables']=_0x1bb59d,this[_0x541261(0x2ee)](_0x4fc919,_0x375346,_0x316cd7);}else{let _0x18304e={'error':!0x0};this[_0x541261(0x2ee)](_0x4fc919,_0x375346,_0x18304e),this['logger']['error'](this[_0x541261(0x128)]+'\x20('+this[_0x541261(0xc1)][_0x541261(0x3e0)]+_0x541261(0x285));}}catch(_0x3bbc12){let _0x1b04bf={'error':!0x0,'errorLog':_0x3bbc12['toString']()};this['updateConversation'](_0x4fc919,_0x375346,_0x1b04bf),this[_0x541261(0x249)]['error'](this[_0x541261(0x128)]+'\x20('+this['instance'][_0x541261(0x3e0)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0x3bbc12[_0x541261(0x616)]());}}async[a0_0x32cdd8(0x13a)](_0x848527,_0x4942b9,_0x3d04ba){const _0x2cb5dd=a0_0x32cdd8;this[_0x2cb5dd(0x249)][_0x2cb5dd(0x2e8)](this[_0x2cb5dd(0x128)]+'\x20('+this[_0x2cb5dd(0xc1)]['wuid']+_0x2cb5dd(0x42f));let _0x502191=_0x848527[_0x2cb5dd(0x2e7)][_0x2cb5dd(0x33b)]['find'](_0x91d5f2=>_0x91d5f2[_0x2cb5dd(0x1d9)][_0x2cb5dd(0x616)]()===_0x4942b9['uazapi'][_0x2cb5dd(0x1d9)][_0x2cb5dd(0x616)]()),_0xc5ff6c={'id':_0x502191[_0x2cb5dd(0x2b3)],'remoteJid':_0x502191[_0x2cb5dd(0x420)],'fromMe':_0x502191[_0x2cb5dd(0x4a9)]};try{let _0x2260c5=await this['deleteMessage'](_0xc5ff6c);if(_0x2260c5){_0x848527[_0x2cb5dd(0x2e7)][_0x2cb5dd(0x410)]=_0x4942b9[_0x2cb5dd(0x386)][_0x2cb5dd(0x616)]();let {message_normalized:_0x33d4ec}=this['normalizeMessage'](_0x2260c5['message'],W(_0x2260c5[_0x2cb5dd(0xd5)]),null);_0x848527[_0x2cb5dd(0x2e7)][_0x2cb5dd(0x68b)]=await _0x33d4ec;let _0x4dba49={};this[_0x2cb5dd(0x2ee)](_0x848527,_0x4942b9,_0x4dba49);}else{let _0x66e3f1={'error':!0x0};this['updateConversation'](_0x848527,_0x4942b9,_0x66e3f1),this['logger'][_0x2cb5dd(0x334)](this[_0x2cb5dd(0x128)]+'\x20('+this[_0x2cb5dd(0xc1)][_0x2cb5dd(0x3e0)]+_0x2cb5dd(0xd0));}}catch(_0x2bc116){let _0x566154={'error':!0x0,'errorLog':_0x2bc116[_0x2cb5dd(0x616)]()};this['updateConversation'](_0x848527,_0x4942b9,_0x566154),this['logger'][_0x2cb5dd(0x334)](this['instanceName']+'\x20('+this[_0x2cb5dd(0xc1)][_0x2cb5dd(0x3e0)]+_0x2cb5dd(0x45b)+_0x2bc116[_0x2cb5dd(0x616)]());}}async['createFlow'](_0x106232){const _0x55bde5=a0_0x32cdd8;try{if(this[_0x55bde5(0x249)]['verbose'](this[_0x55bde5(0x128)]+'\x20('+this[_0x55bde5(0xc1)]['wuid']+_0x55bde5(0xd3)),await I[_0x55bde5(0x506)]({'owner':this[_0x55bde5(0xc1)][_0x55bde5(0x3e0)],'name':_0x106232[_0x55bde5(0x127)]}))return{'message':_0x55bde5(0x11f)};_0x106232[_0x55bde5(0x3eb)]===!0x0&&await I[_0x55bde5(0x422)]({'owner':this[_0x55bde5(0xc1)][_0x55bde5(0x3e0)]},{'default':!0x1});let _0x26baad=new be[(_0x55bde5(0xee))][(_0x55bde5(0x201))](),_0x271962={'_id':_0x26baad,'default':!0x0,'title':_0x55bde5(0x22f),'x':0x0,'y':0x0},_0x1f0f6f={'_id':new be[(_0x55bde5(0xee))][(_0x55bde5(0x201))](),'order':0x1,'groupId':_0x26baad[_0x55bde5(0x616)](),'type':_0x55bde5(0x2ed)};return await I[_0x55bde5(0x2c3)]({'owner':this['instance'][_0x55bde5(0x3e0)],'name':_0x106232[_0x55bde5(0x127)],'groups':[_0x271962],'blocks':[_0x1f0f6f],..._0x106232});}catch(_0x112c33){throw this[_0x55bde5(0x249)][_0x55bde5(0x334)](this[_0x55bde5(0x128)]+'\x20('+this['instance'][_0x55bde5(0x3e0)]+_0x55bde5(0x4fa)+_0x112c33),new g('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x112c33);}}async['deleteFlow'](_0x382767){const _0x209c1d=a0_0x32cdd8;try{return this[_0x209c1d(0x249)][_0x209c1d(0x2e8)](this[_0x209c1d(0x128)]+'\x20('+this[_0x209c1d(0xc1)][_0x209c1d(0x3e0)]+'):\x20Deletando\x20fluxo...'),await I[_0x209c1d(0x28f)]({'owner':this[_0x209c1d(0xc1)][_0x209c1d(0x3e0)],'name':_0x382767});}catch(_0x3a1d5d){return this['logger']['error'](this[_0x209c1d(0x128)]+'\x20('+this['instance'][_0x209c1d(0x3e0)]+_0x209c1d(0x52a)+_0x3a1d5d),{'message':_0x209c1d(0x133)+_0x3a1d5d};}}async[a0_0x32cdd8(0x50a)](_0x274d76){const _0x5efc95=a0_0x32cdd8;try{this[_0x5efc95(0x249)][_0x5efc95(0x2e8)](this['instanceName']+'\x20('+this[_0x5efc95(0xc1)][_0x5efc95(0x3e0)]+_0x5efc95(0x383));let _0x5a0b86=await I[_0x5efc95(0x506)]({'owner':this[_0x5efc95(0xc1)][_0x5efc95(0x3e0)],'name':_0x274d76});if(!_0x5a0b86)throw new Error(_0x5efc95(0x498));if(!this[_0x5efc95(0x18b)]&&(await this['getAutomateSystem'](),!this[_0x5efc95(0x18b)]))return null;let _0x4bf8b4=this[_0x5efc95(0x18b)]?.[_0x5efc95(0x2f9)][_0x5efc95(0x58e)](_0x94c443=>_0x94c443[_0x5efc95(0x127)]),_0x341fb2=['nome',_0x5efc95(0xe2),'email',_0x5efc95(0x292),_0x5efc95(0x440),_0x5efc95(0x394),_0x5efc95(0x26a),_0x5efc95(0x475)];return _0x5a0b86['variables']=_0x5a0b86[_0x5efc95(0x3e8)][_0x5efc95(0x5bd)](_0xe32cfc=>!_0x341fb2[_0x5efc95(0x5d1)](_0xe32cfc[_0x5efc95(0x127)])),_0x341fb2[_0x5efc95(0x5dd)](_0x453d7f=>{const _0xa9f716=_0x5efc95;_0x5a0b86[_0xa9f716(0x3e8)]['push']({'folder':_0xa9f716(0x575),'name':_0x453d7f,'value':'','doc':'','leadInfo':!0x0});}),_0x5a0b86['variables']=_0x5a0b86['variables']['filter'](_0x1ad016=>!_0x4bf8b4[_0x5efc95(0x5d1)](_0x1ad016[_0x5efc95(0x127)])),_0x4bf8b4[_0x5efc95(0x5dd)](_0x100eb4=>{const _0x42559a=_0x5efc95;_0x5a0b86[_0x42559a(0x3e8)][_0x42559a(0x138)](_0x566483=>_0x566483[_0x42559a(0x127)]===_0x100eb4&&_0x566483[_0x42559a(0x575)]===!0x0)||_0x5a0b86[_0x42559a(0x3e8)][_0x42559a(0x58a)]({'folder':'leadInfo','name':_0x100eb4,'value':'','doc':'','leadInfo':!0x0});}),await _0x5a0b86[_0x5efc95(0x604)](),_0x5a0b86;}catch(_0x3d2101){throw this[_0x5efc95(0x249)][_0x5efc95(0x334)](this[_0x5efc95(0x128)]+'\x20('+this['instance'][_0x5efc95(0x3e0)]+_0x5efc95(0x393)+_0x3d2101),new g(_0x5efc95(0x554)+_0x3d2101);}}async['allFlows'](){const _0x25551b=a0_0x32cdd8;try{return this[_0x25551b(0x249)][_0x25551b(0x2e8)](this[_0x25551b(0x128)]+'\x20('+this['instance'][_0x25551b(0x3e0)]+_0x25551b(0x628)),await I[_0x25551b(0x614)]({'owner':this[_0x25551b(0xc1)][_0x25551b(0x3e0)]});}catch(_0x34f2d6){return this['logger'][_0x25551b(0x334)](this['instanceName']+'\x20('+this[_0x25551b(0xc1)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+_0x34f2d6),{'message':_0x25551b(0x290)+_0x34f2d6};}}async[a0_0x32cdd8(0x357)](_0x4e0eaf){const _0x28f9c5=a0_0x32cdd8;try{this[_0x28f9c5(0x249)][_0x28f9c5(0x2e8)](this['instanceName']+'\x20('+this[_0x28f9c5(0xc1)][_0x28f9c5(0x3e0)]+_0x28f9c5(0x163));let _0x55658f=await I[_0x28f9c5(0x506)]({'owner':this['instance'][_0x28f9c5(0x3e0)],'name':_0x4e0eaf['name']});if(!_0x55658f)return{'message':_0x28f9c5(0x538)};if(_0x4e0eaf[_0x28f9c5(0x3eb)]===!0x0&&await I['updateMany']({'owner':this[_0x28f9c5(0xc1)][_0x28f9c5(0x3e0)]},{'default':!0x1}),_0x4e0eaf[_0x28f9c5(0xba)]){if(await I[_0x28f9c5(0x506)]({'owner':this[_0x28f9c5(0xc1)][_0x28f9c5(0x3e0)],'name':_0x4e0eaf[_0x28f9c5(0xba)]}))return{'message':'J\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x4e0eaf['name']=_0x4e0eaf[_0x28f9c5(0xba)],delete _0x4e0eaf[_0x28f9c5(0xba)];}return await I['findByIdAndUpdate'](_0x55658f[_0x28f9c5(0x386)],{'$set':_0x4e0eaf},{'new':!0x0});}catch(_0x12e256){throw this['logger']['error'](this[_0x28f9c5(0x128)]+'\x20('+this[_0x28f9c5(0xc1)]['wuid']+_0x28f9c5(0x3a0)+_0x12e256),new g('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+_0x12e256);}}async[a0_0x32cdd8(0x3df)](_0x3c53f5){const _0x108bc7=a0_0x32cdd8;try{this[_0x108bc7(0x249)][_0x108bc7(0x2e8)](this[_0x108bc7(0x128)]+'\x20('+this['instance'][_0x108bc7(0x3e0)]+_0x108bc7(0x4bc));let _0x1dc2c4={'owner':this['instance'][_0x108bc7(0x3e0)],'name':_0x3c53f5[_0x108bc7(0x127)]},_0xdd951e=await I[_0x108bc7(0x506)](_0x1dc2c4);_0xdd951e||this['throwAndLogError'](_0x108bc7(0x498));let {block:_0xab27e7}=_0x3c53f5;return _0xab27e7?.[_0x108bc7(0x411)]?this[_0x108bc7(0x4b5)](_0xdd951e,_0x3c53f5):_0xab27e7['_id']?await this[_0x108bc7(0x1f8)](_0xdd951e,_0x3c53f5):this['addBlock'](_0xdd951e,_0x3c53f5),await _0xdd951e[_0x108bc7(0x604)](),_0xdd951e;}catch(_0x45c776){this[_0x108bc7(0x2c7)](_0x108bc7(0x228)+_0x45c776);}}[a0_0x32cdd8(0x2c7)](_0x463e83){const _0x5658eb=a0_0x32cdd8;throw this[_0x5658eb(0x249)]['error'](this[_0x5658eb(0x128)]+'\x20('+this[_0x5658eb(0xc1)]['wuid']+'):\x20'+_0x463e83),new g(_0x463e83);}['deleteBlock'](_0x16a332,_0x251efa){const _0x2fa09f=a0_0x32cdd8;let {block:_0x200436}=_0x251efa;if(_0x200436[_0x2fa09f(0x2a0)]===_0x2fa09f(0x2ed)){this[_0x2fa09f(0x2c7)]('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x200436[_0x2fa09f(0x386)]){this[_0x2fa09f(0x2c7)](_0x2fa09f(0x2a9));return;}let _0x529435=_0x16a332['blocks']['find'](_0x20ff51=>_0x20ff51[_0x2fa09f(0x386)][_0x2fa09f(0x616)]()===_0x251efa[_0x2fa09f(0x57c)]['_id'][_0x2fa09f(0x616)]());if(!_0x529435){this['throwAndLogError'](_0x2fa09f(0x689)+_0x200436[_0x2fa09f(0x386)]+_0x2fa09f(0x16f));return;}_0x16a332[_0x2fa09f(0x1fc)]=_0x16a332[_0x2fa09f(0x1fc)][_0x2fa09f(0x5bd)](_0x1b15ad=>_0x1b15ad['_id'][_0x2fa09f(0x616)]()!==_0x251efa[_0x2fa09f(0x57c)]['_id'][_0x2fa09f(0x616)]()),_0x16a332[_0x2fa09f(0x367)]=_0x16a332['conditions'][_0x2fa09f(0x5bd)](_0x24839d=>_0x24839d[_0x2fa09f(0x1d9)]!==_0x200436[_0x2fa09f(0x386)][_0x2fa09f(0x616)]()),_0x16a332['varedits']=_0x16a332['varedits'][_0x2fa09f(0x5bd)](_0x37e52d=>_0x37e52d[_0x2fa09f(0x1d9)]!==_0x200436[_0x2fa09f(0x386)][_0x2fa09f(0x616)]()),_0x16a332[_0x2fa09f(0x55e)]=_0x16a332[_0x2fa09f(0x55e)][_0x2fa09f(0x5bd)](_0x5970eb=>_0x5970eb[_0x2fa09f(0x1d9)]!==_0x200436[_0x2fa09f(0x386)][_0x2fa09f(0x616)]()),this['reorderBlocks'](_0x16a332[_0x2fa09f(0x1fc)],_0x529435['groupId']);}async[a0_0x32cdd8(0x1f8)](_0x53ffb5,_0x2c6f46){const _0x4bc584=a0_0x32cdd8;let _0x5ce04f=_0x53ffb5[_0x4bc584(0x1fc)][_0x4bc584(0x27a)](_0x529e3a=>_0x529e3a[_0x4bc584(0x386)][_0x4bc584(0x616)]()===_0x2c6f46[_0x4bc584(0x57c)]['_id'][_0x4bc584(0x616)]());if(this[_0x4bc584(0x249)][_0x4bc584(0x2e8)](this[_0x4bc584(0x128)]+'\x20('+this[_0x4bc584(0xc1)][_0x4bc584(0x3e0)]+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x5ce04f),_0x5ce04f===-0x1){this[_0x4bc584(0x249)][_0x4bc584(0x2e8)](_0x4bc584(0x689)+_0x2c6f46[_0x4bc584(0x57c)][_0x4bc584(0x386)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}if(_0x53ffb5['blocks'][_0x5ce04f][_0x4bc584(0x2a0)]===_0x4bc584(0x2ed)){let _0x573b17=Object[_0x4bc584(0x3d7)](_0x2c6f46[_0x4bc584(0x57c)]);if(_0x573b17[_0x4bc584(0x4d2)]>0x2||_0x573b17[_0x4bc584(0x4d2)]===0x2&&!_0x573b17['includes'](_0x4bc584(0x319))){this[_0x4bc584(0x2c7)](_0x4bc584(0x3a2));return;}}let _0x172344=_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f]['groupId'];for(let _0x31e92e in _0x2c6f46['block'])_0x2c6f46[_0x4bc584(0x57c)][_0x4bc584(0x283)](_0x31e92e)&&(_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x31e92e]=_0x2c6f46[_0x4bc584(0x57c)][_0x31e92e]);if(this[_0x4bc584(0x249)][_0x4bc584(0x2e8)](this[_0x4bc584(0x128)]+'\x20('+this[_0x4bc584(0xc1)][_0x4bc584(0x3e0)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x4bc584(0x679)](_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f])),_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)]&&'header'in _0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)]){this['logger'][_0x4bc584(0x2e8)](this['instanceName']+'\x20('+this['instance'][_0x4bc584(0x3e0)]+_0x4bc584(0x265));let _0x468bbe=JSON[_0x4bc584(0x679)](_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)]['header'],null,0x1);_0x468bbe[_0x4bc584(0x4d2)]>0x2&&(_0x468bbe=_0x468bbe[_0x4bc584(0x3fa)](0x1,_0x468bbe['length']-0x1)[_0x4bc584(0x610)]()),_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f]['apirequest'][_0x4bc584(0x4aa)]=_0x468bbe;}if(_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)]&&'body'in _0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)]){this[_0x4bc584(0x249)][_0x4bc584(0x2e8)](this[_0x4bc584(0x128)]+'\x20('+this[_0x4bc584(0xc1)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x4f7a2e=JSON[_0x4bc584(0x679)](_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x289)][_0x4bc584(0x106)],null,0x1);_0x4f7a2e[_0x4bc584(0x4d2)]>0x2&&(_0x4f7a2e=_0x4f7a2e[_0x4bc584(0x3fa)](0x1,_0x4f7a2e['length']-0x1)['trim']()),_0x53ffb5['blocks'][_0x5ce04f][_0x4bc584(0x289)][_0x4bc584(0x3d1)]=_0x4f7a2e;}let _0x32c8d0=_0x53ffb5[_0x4bc584(0x1fc)][_0x5ce04f][_0x4bc584(0x49a)];_0x172344!==_0x32c8d0?(this[_0x4bc584(0x38a)](_0x53ffb5[_0x4bc584(0x1fc)],_0x172344),this['reorderBlocks'](_0x53ffb5['blocks'],_0x32c8d0)):this[_0x4bc584(0x38a)](_0x53ffb5[_0x4bc584(0x1fc)],_0x172344);}['addBlock'](_0x31d24b,_0x260eba){const _0xb8b01f=a0_0x32cdd8;if(_0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x2a0)]===_0xb8b01f(0x2ed)){this['throwAndLogError'](_0xb8b01f(0x314));return;}if(_0x260eba['block'][_0xb8b01f(0x289)]&&'header'in _0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x289)]){this[_0xb8b01f(0x249)]['verbose'](this[_0xb8b01f(0x128)]+'\x20('+this[_0xb8b01f(0xc1)][_0xb8b01f(0x3e0)]+_0xb8b01f(0x265));let _0xb05343=JSON[_0xb8b01f(0x679)](_0x260eba['block'][_0xb8b01f(0x289)][_0xb8b01f(0x259)],null,0x1);_0xb05343[_0xb8b01f(0x4d2)]>0x2&&(_0xb05343=_0xb05343[_0xb8b01f(0x3fa)](0x1,_0xb05343[_0xb8b01f(0x4d2)]-0x1)['trim']()),_0x260eba['block']['apirequest'][_0xb8b01f(0x4aa)]=_0xb05343;}_0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x289)]&&_0xb8b01f(0x106)in _0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x289)]&&(this[_0xb8b01f(0x249)][_0xb8b01f(0x2e8)](this[_0xb8b01f(0x128)]+'\x20('+this[_0xb8b01f(0xc1)][_0xb8b01f(0x3e0)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x289)][_0xb8b01f(0x3d1)]=JSON[_0xb8b01f(0x679)](_0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x289)]['body'],null,0x1)[_0xb8b01f(0x610)]()),_0x31d24b['blocks'][_0xb8b01f(0x58a)](_0x260eba[_0xb8b01f(0x57c)]),this[_0xb8b01f(0x38a)](_0x31d24b[_0xb8b01f(0x1fc)],_0x260eba[_0xb8b01f(0x57c)][_0xb8b01f(0x49a)]);}[a0_0x32cdd8(0x38a)](_0xa6c2b8,_0x369935){const _0x428254=a0_0x32cdd8;let _0x15dfe1=_0xa6c2b8[_0x428254(0x5bd)](_0x90a415=>_0x90a415['groupId']===_0x369935);_0x15dfe1[_0x428254(0xf1)]((_0x2b3866,_0x700ff0)=>_0x2b3866['order']-_0x700ff0['order']),_0x15dfe1[_0x428254(0x5dd)]((_0x179b01,_0x3d9849)=>_0x179b01['order']=_0x3d9849+0x1);}async[a0_0x32cdd8(0x336)](_0x2a3077){const _0x188a9d=a0_0x32cdd8;try{if(this[_0x188a9d(0x249)]['verbose'](this[_0x188a9d(0x128)]+'\x20('+this[_0x188a9d(0xc1)]['wuid']+_0x188a9d(0x4b8)),!_0x2a3077||!_0x2a3077[_0x188a9d(0x641)]){this['throwAndLogError'](_0x188a9d(0x1ac));return;}let _0x5d0359={'owner':this[_0x188a9d(0xc1)][_0x188a9d(0x3e0)],'name':_0x2a3077['name']},_0x3b43ef=await I[_0x188a9d(0x506)](_0x5d0359);_0x3b43ef||this[_0x188a9d(0x2c7)]('Flow\x20no\x20encontrado');let {replyOption:_0x47425d}=_0x2a3077;return _0x47425d?.[_0x188a9d(0x411)]?this[_0x188a9d(0x4d4)](_0x3b43ef,_0x2a3077):_0x47425d[_0x188a9d(0x386)]?await this['updateReplyOption'](_0x3b43ef,_0x2a3077):this[_0x188a9d(0x5c1)](_0x3b43ef,_0x2a3077),await _0x3b43ef[_0x188a9d(0x604)](),_0x3b43ef;}catch(_0x3bd86c){this[_0x188a9d(0x2c7)](_0x188a9d(0x5b7)+_0x3bd86c);}}[a0_0x32cdd8(0x4d4)](_0x46b975,_0x361473){const _0xbe0770=a0_0x32cdd8;let {replyOption:_0x4ecc2d}=_0x361473;if(!_0x4ecc2d['_id']){this['throwAndLogError'](_0xbe0770(0x605));return;}if(!_0x46b975[_0xbe0770(0x55e)][_0xbe0770(0x614)](_0x578b9a=>_0x578b9a[_0xbe0770(0x386)][_0xbe0770(0x616)]()===_0x361473[_0xbe0770(0x641)][_0xbe0770(0x386)]['toString']())){this[_0xbe0770(0x2c7)](_0xbe0770(0x482)+_0x4ecc2d[_0xbe0770(0x386)]+_0xbe0770(0x16f));return;}_0x46b975[_0xbe0770(0x55e)]=_0x46b975['replyOptions'][_0xbe0770(0x5bd)](_0x3c4de9=>_0x3c4de9[_0xbe0770(0x386)][_0xbe0770(0x616)]()!==_0x361473[_0xbe0770(0x641)][_0xbe0770(0x386)][_0xbe0770(0x616)]());}async[a0_0x32cdd8(0x3e3)](_0x2973ca,_0x39bd19){const _0x3da129=a0_0x32cdd8;let _0x268d08=_0x2973ca[_0x3da129(0x55e)][_0x3da129(0x27a)](_0x12a3f5=>_0x12a3f5[_0x3da129(0x386)][_0x3da129(0x616)]()===_0x39bd19[_0x3da129(0x641)][_0x3da129(0x386)][_0x3da129(0x616)]());if(_0x268d08===-0x1){this[_0x3da129(0x2c7)]('ReplyOption\x20com\x20ID\x20'+_0x39bd19[_0x3da129(0x641)][_0x3da129(0x386)]+_0x3da129(0xe8));return;}for(let _0x171fc9 in _0x39bd19[_0x3da129(0x641)])_0x39bd19[_0x3da129(0x641)]['hasOwnProperty'](_0x171fc9)&&(_0x2973ca[_0x3da129(0x55e)][_0x268d08][_0x171fc9]=_0x39bd19['replyOption'][_0x171fc9]);}[a0_0x32cdd8(0x5c1)](_0x3fd7d5,_0x3c686c){const _0x5abc12=a0_0x32cdd8;_0x3fd7d5[_0x5abc12(0x55e)][_0x5abc12(0x58a)](_0x3c686c[_0x5abc12(0x641)]);}async[a0_0x32cdd8(0x54a)](_0x453a4e){const _0x4ff2e1=a0_0x32cdd8;this[_0x4ff2e1(0x249)][_0x4ff2e1(0x2e8)](this[_0x4ff2e1(0x128)]+'\x20('+this[_0x4ff2e1(0xc1)][_0x4ff2e1(0x3e0)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x453a4e);try{this[_0x4ff2e1(0x249)][_0x4ff2e1(0x2e8)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x447e11={'owner':this['instance'][_0x4ff2e1(0x3e0)],'name':_0x453a4e[_0x4ff2e1(0x127)]},_0x166acb=await I[_0x4ff2e1(0x506)](_0x447e11);if(!_0x166acb)throw new Error(_0x4ff2e1(0x498));if(_0x453a4e['group']&&_0x453a4e['group']?.['delete']===!0x0){if(this[_0x4ff2e1(0x249)][_0x4ff2e1(0x2e8)](this[_0x4ff2e1(0x128)]+'\x20('+this['instance'][_0x4ff2e1(0x3e0)]+_0x4ff2e1(0x184)),_0x453a4e[_0x4ff2e1(0x204)][_0x4ff2e1(0x3eb)]===!0x0)return{'message':_0x4ff2e1(0x239)};if(_0x166acb['blocks'][_0x4ff2e1(0x138)](_0x47774e=>_0x47774e[_0x4ff2e1(0x49a)][_0x4ff2e1(0x616)]()===_0x453a4e[_0x4ff2e1(0x204)][_0x4ff2e1(0x386)]))return this['logger']['verbose'](this[_0x4ff2e1(0x128)]+'\x20('+this[_0x4ff2e1(0xc1)][_0x4ff2e1(0x3e0)]+_0x4ff2e1(0x47c)),{'message':_0x4ff2e1(0x1e9)};_0x166acb[_0x4ff2e1(0x22a)]=_0x166acb['groups']['filter'](_0x15058c=>_0x15058c[_0x4ff2e1(0x386)]['toString']()!==_0x453a4e[_0x4ff2e1(0x204)][_0x4ff2e1(0x386)]);}else{if(_0x453a4e[_0x4ff2e1(0x204)]){if(_0x453a4e[_0x4ff2e1(0x204)][_0x4ff2e1(0x3eb)]===!0x0)return{'message':_0x4ff2e1(0x3cb)};if(_0x453a4e['group'][_0x4ff2e1(0x386)]){let _0x251ce5=_0x166acb[_0x4ff2e1(0x22a)][_0x4ff2e1(0x614)](_0x557a1b=>_0x557a1b[_0x4ff2e1(0x386)]['toString']()===_0x453a4e[_0x4ff2e1(0x204)][_0x4ff2e1(0x386)]);_0x251ce5&&(_0x453a4e[_0x4ff2e1(0x204)]['x']<0x0&&(_0x453a4e[_0x4ff2e1(0x204)]['x']=0x0),_0x453a4e[_0x4ff2e1(0x204)]['y']<0x0&&(_0x453a4e[_0x4ff2e1(0x204)]['y']=0x0),Object[_0x4ff2e1(0x468)](_0x251ce5,_0x453a4e[_0x4ff2e1(0x204)]));}else _0x166acb[_0x4ff2e1(0x22a)]['push'](_0x453a4e[_0x4ff2e1(0x204)]);}}return await _0x166acb[_0x4ff2e1(0x604)](),_0x166acb;}catch(_0x2139ee){throw this[_0x4ff2e1(0x249)]['error'](this[_0x4ff2e1(0x128)]+'\x20('+this[_0x4ff2e1(0xc1)]['wuid']+_0x4ff2e1(0x124)+_0x2139ee),new g(_0x4ff2e1(0x2b4)+_0x2139ee);}}async[a0_0x32cdd8(0xff)](_0x33af2f){const _0xe09772=a0_0x32cdd8;try{this[_0xe09772(0x249)][_0xe09772(0x2e8)](this[_0xe09772(0x128)]+'\x20('+this[_0xe09772(0xc1)]['wuid']+_0xe09772(0x42d));let _0x11d9ea={'owner':this[_0xe09772(0xc1)][_0xe09772(0x3e0)],'name':_0x33af2f[_0xe09772(0x127)]},_0x357ee7=await I['findOne'](_0x11d9ea);if(!_0x357ee7)throw new Error(_0xe09772(0x498));let _0x54b999=!0x1;if(_0x33af2f[_0xe09772(0x38e)]?.['delete']===!0x0)_0x357ee7['conditions']=_0x357ee7[_0xe09772(0x367)]['filter'](_0x3367d6=>_0x3367d6&&_0x33af2f[_0xe09772(0x38e)]&&_0x3367d6[_0xe09772(0x386)]&&_0x33af2f[_0xe09772(0x38e)][_0xe09772(0x386)]&&_0x3367d6[_0xe09772(0x386)][_0xe09772(0x616)]()!==_0x33af2f[_0xe09772(0x38e)][_0xe09772(0x386)]['toString']()),_0x54b999=!0x0;else{let _0x21f982=_0x357ee7[_0xe09772(0x367)][_0xe09772(0x614)](_0x49c56d=>_0x49c56d&&_0x33af2f[_0xe09772(0x38e)]&&_0x49c56d[_0xe09772(0x386)]&&_0x33af2f[_0xe09772(0x38e)][_0xe09772(0x386)]&&_0x49c56d['_id'][_0xe09772(0x616)]()===_0x33af2f[_0xe09772(0x38e)][_0xe09772(0x386)][_0xe09772(0x616)]());_0x21f982?(_0x54b999=_0x21f982[_0xe09772(0x3a9)]!==_0x33af2f['condition'][_0xe09772(0x3a9)],Object['assign'](_0x21f982,_0x33af2f['condition'])):(_0x357ee7[_0xe09772(0x367)][_0xe09772(0x58a)](_0x33af2f[_0xe09772(0x38e)]),_0x54b999=!0x0);}if(_0x54b999){_0x357ee7[_0xe09772(0x367)][_0xe09772(0xf1)]((_0x5d443b,_0x3753a5)=>_0x5d443b[_0xe09772(0x3a9)]>_0x3753a5[_0xe09772(0x3a9)]?0x1:_0x3753a5[_0xe09772(0x3a9)]>_0x5d443b[_0xe09772(0x3a9)]?-0x1:0x0);for(let _0x5b4e06=0x0;_0x5b4e06<_0x357ee7['conditions'][_0xe09772(0x4d2)];_0x5b4e06++)_0x357ee7['conditions'][_0x5b4e06][_0xe09772(0x3a9)]=_0x5b4e06+0x1;_0x357ee7[_0xe09772(0x367)][_0xe09772(0x4d2)]>0x0&&(_0x357ee7[_0xe09772(0x367)][0x0][_0xe09772(0x3db)]=_0xe09772(0x526));}return await _0x357ee7[_0xe09772(0x604)](),_0x357ee7;}catch(_0x285f74){throw this['logger'][_0xe09772(0x334)](this['instanceName']+'\x20('+this[_0xe09772(0xc1)][_0xe09772(0x3e0)]+_0xe09772(0x4b7)+_0x285f74),new Error('Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+_0x285f74);}}async['editFlowVaredit'](_0x24986e){const _0x522f3c=a0_0x32cdd8;try{this[_0x522f3c(0x249)][_0x522f3c(0x2e8)](this[_0x522f3c(0x128)]+'\x20('+this[_0x522f3c(0xc1)][_0x522f3c(0x3e0)]+'):\x20Editando\x20edio\x20do\x20fluxo...');let _0x3ba9ea={'owner':this[_0x522f3c(0xc1)][_0x522f3c(0x3e0)],'name':_0x24986e[_0x522f3c(0x127)]},_0x191a35=await I[_0x522f3c(0x506)](_0x3ba9ea);if(!_0x191a35)throw new Error(_0x522f3c(0x498));let _0x25207c=!0x1;if(_0x24986e[_0x522f3c(0x2ca)]?.[_0x522f3c(0x411)]===!0x0)_0x191a35[_0x522f3c(0xbe)]=_0x191a35[_0x522f3c(0xbe)][_0x522f3c(0x5bd)](_0x51414a=>_0x51414a&&_0x24986e['varedit']&&_0x51414a['_id']&&_0x24986e[_0x522f3c(0x2ca)][_0x522f3c(0x386)]&&_0x51414a[_0x522f3c(0x386)][_0x522f3c(0x616)]()!==_0x24986e[_0x522f3c(0x2ca)][_0x522f3c(0x386)]['toString']()),_0x25207c=!0x0;else{let _0x731733=_0x191a35[_0x522f3c(0xbe)][_0x522f3c(0x614)](_0x2dacef=>_0x2dacef&&_0x24986e[_0x522f3c(0x2ca)]&&_0x2dacef['_id']&&_0x24986e['varedit'][_0x522f3c(0x386)]&&_0x2dacef[_0x522f3c(0x386)][_0x522f3c(0x616)]()===_0x24986e['varedit'][_0x522f3c(0x386)][_0x522f3c(0x616)]());_0x731733?(_0x25207c=_0x731733[_0x522f3c(0x3a9)]!==_0x24986e[_0x522f3c(0x2ca)]['order'],Object['assign'](_0x731733,_0x24986e['varedit'])):(_0x191a35[_0x522f3c(0xbe)]['push'](_0x24986e['varedit']),_0x25207c=!0x0);}if(_0x25207c){_0x191a35[_0x522f3c(0xbe)]['sort']((_0x1c822c,_0x15a458)=>_0x1c822c[_0x522f3c(0x3a9)]>_0x15a458[_0x522f3c(0x3a9)]?0x1:_0x15a458[_0x522f3c(0x3a9)]>_0x1c822c[_0x522f3c(0x3a9)]?-0x1:0x0);for(let _0x2960b8=0x0;_0x2960b8<_0x191a35[_0x522f3c(0xbe)]['length'];_0x2960b8++)_0x191a35['varedits'][_0x2960b8]['order']=_0x2960b8+0x1;}return await _0x191a35[_0x522f3c(0x604)](),_0x191a35;}catch(_0x5f5a18){throw this[_0x522f3c(0x249)][_0x522f3c(0x334)](this[_0x522f3c(0x128)]+'\x20('+this['instance'][_0x522f3c(0x3e0)]+_0x522f3c(0x4b7)+_0x5f5a18),new g('Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+_0x5f5a18);}}async['editFlowVariable'](_0x3c0bea){const _0x4f02ad=a0_0x32cdd8;try{this[_0x4f02ad(0x249)]['verbose'](this[_0x4f02ad(0x128)]+'\x20('+this['instance'][_0x4f02ad(0x3e0)]+_0x4f02ad(0x563));let _0x5e19e9={'owner':this['instance']['wuid'],'name':_0x3c0bea[_0x4f02ad(0x127)]},_0x4b55dc=await I[_0x4f02ad(0x506)](_0x5e19e9);if(!_0x4b55dc)throw new Error(_0x4f02ad(0x498));_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)]=_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)][_0x4f02ad(0x610)](),_0x3c0bea[_0x4f02ad(0x286)]['name']['startsWith']('_')&&(_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)]=_0x3c0bea['variable'][_0x4f02ad(0x127)][_0x4f02ad(0x3fa)](0x1)),_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)]=_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)]['trim']();let _0x4e391b=_0x4b55dc[_0x4f02ad(0x3e8)]['find'](_0x13dd8a=>_0x13dd8a[_0x4f02ad(0x127)]===_0x3c0bea['variable']['name']);if(_0x4e391b?.[_0x4f02ad(0x575)]===!0x0)throw new Error(_0x4f02ad(0x4c0));if(_0x3c0bea[_0x4f02ad(0x286)]?.[_0x4f02ad(0x411)]===!0x0){if(!_0x4e391b)return{'message':_0x4f02ad(0x16c)};_0x4b55dc[_0x4f02ad(0x3e8)]=_0x4b55dc[_0x4f02ad(0x3e8)]['filter'](_0x5f3197=>_0x5f3197[_0x4f02ad(0x127)]!==_0x3c0bea[_0x4f02ad(0x286)][_0x4f02ad(0x127)]);}else _0x4e391b?Object[_0x4f02ad(0x468)](_0x4e391b,_0x3c0bea[_0x4f02ad(0x286)]):_0x4b55dc[_0x4f02ad(0x3e8)]['push'](_0x3c0bea['variable']);return await _0x4b55dc[_0x4f02ad(0x604)](),_0x4b55dc;}catch(_0x5d9a0c){throw this[_0x4f02ad(0x249)][_0x4f02ad(0x334)](this[_0x4f02ad(0x128)]+'\x20('+this[_0x4f02ad(0xc1)][_0x4f02ad(0x3e0)]+_0x4f02ad(0x1e6)+_0x5d9a0c),new g(_0x4f02ad(0x529)+_0x5d9a0c);}}async[a0_0x32cdd8(0x166)](_0x44d7eb){const _0x379807=a0_0x32cdd8;try{if(!this[_0x379807(0x18b)]?.[_0x379807(0x4fb)][_0x379807(0x63c)])throw new g(_0x379807(0x2bb));this[_0x379807(0x249)][_0x379807(0x2e8)](this[_0x379807(0x128)]+'\x20('+this[_0x379807(0xc1)][_0x379807(0x3e0)]+'):\x20Iniciando\x20bot...');let _0x2dedf5=(await this[_0x379807(0x264)]({'numbers':[_0x44d7eb[_0x379807(0x420)]]}))[0x0];if(!_0x2dedf5[_0x379807(0x1fe)]&&!(0x0,w[_0x379807(0x525)])(_0x2dedf5[_0x379807(0x5df)])&&!_0x2dedf5[_0x379807(0x5df)][_0x379807(0x5d1)]('@broadcast'))throw new g(_0x2dedf5);let _0x87944e=await I['findOne']({'owner':this[_0x379807(0xc1)][_0x379807(0x3e0)],'name':_0x44d7eb[_0x379807(0x127)]});if(!_0x87944e)return this[_0x379807(0x249)][_0x379807(0x334)](this[_0x379807(0x128)]+'\x20('+this[_0x379807(0xc1)][_0x379807(0x3e0)]+_0x379807(0x20b)),{'message':_0x379807(0x498)};let _0x50a578=await this[_0x379807(0x364)](_0x87944e,_0x2dedf5['jid'],_0x44d7eb[_0x379807(0x3d4)]);if(_0x50a578){this['logger'][_0x379807(0x2e8)](this[_0x379807(0x128)]+'\x20('+this[_0x379807(0xc1)]['wuid']+_0x379807(0x518));let _0x4c83f5=await this[_0x379807(0x2f1)](_0x50a578);return _0x4c83f5&&await this[_0x379807(0x102)](_0x50a578,_0x4c83f5,_0x50a578[_0x379807(0x420)]),{'message':_0x379807(0x346)+_0x44d7eb[_0x379807(0x420)]};}}catch(_0x52071d){if(this[_0x379807(0x249)][_0x379807(0x334)](this[_0x379807(0x128)]+'\x20('+this[_0x379807(0xc1)][_0x379807(0x3e0)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo\x20'+_0x52071d),_0x52071d&&_0x52071d['message']&&Array['isArray'](_0x52071d[_0x379807(0xd5)])&&_0x52071d[_0x379807(0xd5)][0x0]){let {jid:_0x35bdb5,exists:_0x478dc5}=_0x52071d[_0x379807(0xd5)][0x0];}throw new g('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x52071d['message']);}}async[a0_0x32cdd8(0x364)](_0x87956f,_0x262e2e,_0x3b16e0){const _0x427da1=a0_0x32cdd8;this[_0x427da1(0x249)][_0x427da1(0x2e8)](this[_0x427da1(0x128)]+'\x20('+this['instance'][_0x427da1(0x3e0)]+_0x427da1(0x1f9));try{let _0x5d3ed0=require(_0x427da1(0x3c9))[_0x427da1(0x201)],_0x34960d=Date[_0x427da1(0xef)](),_0x8958fe='start',_0x5c19c1={},_0x7f8a95={},_0x283e52={..._0x87956f[_0x427da1(0x4a2)],'chatLog':null},_0x53dd78=await this[_0x427da1(0x311)](_0x283e52['variables']),_0x106fea=await this[_0x427da1(0x58c)](_0x262e2e),_0x412540={..._0x53dd78,..._0x106fea},_0x2d4e7f={'lastReceivedMessage':_0x5c19c1,'lastSendMessage':_0x7f8a95,'lastBlockId':_0x8958fe,'lastCondition':!0x0,'realVariables':_0x412540};_0x283e52['chatLog']=_0x2d4e7f,_0x283e52['chatLog']['realVariables']={..._0x412540,..._0x3b16e0},delete _0x283e52[_0x427da1(0x386)],_0x283e52[_0x427da1(0x386)]=new _0x5d3ed0(),_0x283e52['lastInteraction']=_0x34960d,_0x283e52[_0x427da1(0x440)]=_0x427da1(0x4e8),_0x283e52[_0x427da1(0x420)]=_0x262e2e;let _0x29410b=await J[_0x427da1(0x2c3)](_0x283e52);return this['logger'][_0x427da1(0x2e8)](this['instanceName']+'\x20('+this[_0x427da1(0xc1)][_0x427da1(0x3e0)]+_0x427da1(0x535)),_0x29410b?_0x283e52:null;}catch(_0x830038){throw this[_0x427da1(0x249)]['error'](this[_0x427da1(0x128)]+'\x20('+this[_0x427da1(0xc1)][_0x427da1(0x3e0)]+_0x427da1(0x278)+_0x830038),new g(_0x830038[_0x427da1(0xd5)]);}}async[a0_0x32cdd8(0x1ec)](_0x49adab){const _0x1b664c=a0_0x32cdd8;try{return this['logger']['verbose'](this[_0x1b664c(0x128)]+'\x20('+this['instance'][_0x1b664c(0x3e0)]+_0x1b664c(0x2e6)),this['logger'][_0x1b664c(0x2e8)](this[_0x1b664c(0x128)]+'\x20('+this[_0x1b664c(0xc1)][_0x1b664c(0x3e0)]+_0x1b664c(0x125)+{'owner':this[_0x1b664c(0xc1)]['wuid'],'_id':_0x49adab}),await J[_0x1b664c(0x506)]({'owner':this['instance'][_0x1b664c(0x3e0)],'_id':_0x49adab});}catch(_0x521800){throw this[_0x1b664c(0x249)]['error'](this['instanceName']+'\x20('+this[_0x1b664c(0xc1)][_0x1b664c(0x3e0)]+_0x1b664c(0x25c)+_0x521800),new g(_0x1b664c(0x46b)+_0x521800['message']);}}async[a0_0x32cdd8(0x3b4)](_0x41b523,_0x3ee7d6=0x64){const _0x12d7a1=a0_0x32cdd8;try{this[_0x12d7a1(0x249)]['verbose'](this[_0x12d7a1(0x128)]+'\x20('+this['instance'][_0x12d7a1(0x3e0)]+_0x12d7a1(0x309));let _0x28dc15={..._0x41b523,'owner':this[_0x12d7a1(0xc1)][_0x12d7a1(0x3e0)]};return this[_0x12d7a1(0x249)][_0x12d7a1(0x2e8)](this[_0x12d7a1(0x128)]+'\x20('+this[_0x12d7a1(0xc1)][_0x12d7a1(0x3e0)]+_0x12d7a1(0x5c2)+_0x28dc15),await J[_0x12d7a1(0x614)](_0x28dc15)[_0x12d7a1(0x4f7)](_0x3ee7d6)[_0x12d7a1(0xf1)]({'lastInteraction':-0x1});}catch(_0x48a303){throw this[_0x12d7a1(0x249)][_0x12d7a1(0x334)](this['instanceName']+'\x20('+this[_0x12d7a1(0xc1)][_0x12d7a1(0x3e0)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x48a303),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x48a303['message']);}}async[a0_0x32cdd8(0x2e0)](_0x1b56d0){const _0x3a2fb5=a0_0x32cdd8;try{return this[_0x3a2fb5(0x249)][_0x3a2fb5(0x2e8)](this[_0x3a2fb5(0x128)]+'\x20('+this[_0x3a2fb5(0xc1)][_0x3a2fb5(0x3e0)]+_0x3a2fb5(0x5d4)),this[_0x3a2fb5(0x249)]['verbose'](this[_0x3a2fb5(0x128)]+'\x20('+this[_0x3a2fb5(0xc1)]['wuid']+_0x3a2fb5(0x125)+{'owner':this[_0x3a2fb5(0xc1)][_0x3a2fb5(0x3e0)],'_id':_0x1b56d0}),(await J[_0x3a2fb5(0x28f)]({'owner':this[_0x3a2fb5(0xc1)]['wuid'],'_id':_0x1b56d0}))['deletedCount']===0x0?{'message':_0x3a2fb5(0xc0)}:{'message':_0x3a2fb5(0x494)};}catch(_0x35a243){throw this[_0x3a2fb5(0x249)]['error'](this[_0x3a2fb5(0x128)]+'\x20('+this[_0x3a2fb5(0xc1)][_0x3a2fb5(0x3e0)]+_0x3a2fb5(0x438)+_0x35a243),new g(_0x3a2fb5(0x1e8)+_0x35a243[_0x3a2fb5(0xd5)]);}}async[a0_0x32cdd8(0x553)](_0x4a4cb1){const _0x5b4045=a0_0x32cdd8;try{let {_id:_0x4885cb,chatLog:_0x52a5e0,status:_0x3a3d67}=_0x4a4cb1;if(!_0x4885cb)return{'message':_0x5b4045(0x19e)};let _0x2dc8a0={};if(_0x3a3d67!==void 0x0&&(_0x2dc8a0[_0x5b4045(0x440)]=_0x3a3d67),Object['keys'](_0x2dc8a0)[_0x5b4045(0x4d2)]===0x0)return{'message':_0x5b4045(0x281)};let _0x5652f8=this['instance']['wuid'],_0x3291a9=await J[_0x5b4045(0x31a)]({'_id':_0x4885cb,'owner':_0x5652f8},{'$set':_0x2dc8a0},{'new':!0x0});return _0x3291a9||{'message':_0x5b4045(0x146)};}catch(_0x5dce5b){throw this[_0x5b4045(0x249)]['error'](this[_0x5b4045(0x128)]+'\x20('+this[_0x5b4045(0xc1)][_0x5b4045(0x3e0)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x5dce5b),new g(_0x5b4045(0x3d8)+_0x5dce5b['message']);}}async[a0_0x32cdd8(0xec)](_0x1a2163){const _0x243b19=a0_0x32cdd8;try{_0x1a2163['id']=this[_0x243b19(0x12e)](_0x1a2163['id']);let {id:_0x2fe115,leadInfo:_0x16d257}=_0x1a2163;if(!_0x2fe115)throw new Error(_0x243b19(0x4b0));let _0x236c5a=(_0x597798,_0x2fcb71,_0x2e08a3)=>{const _0x59ae1e=_0x243b19;_0x2e08a3[_0x59ae1e(0x5dd)](_0x25d411=>{_0x597798[_0x25d411]!==void 0x0&&(_0x2fcb71['leadInfo.'+_0x25d411]=_0x597798[_0x25d411]);});},_0x3b15fa={};if(_0x236c5a(_0x16d257,_0x3b15fa,[_0x243b19(0x48b),_0x243b19(0xe2),_0x243b19(0x3b6),_0x243b19(0x292),_0x243b19(0x440),_0x243b19(0x394),'tags',_0x243b19(0x182),'responsavelid']),Array[_0x243b19(0xfc)](_0x16d257['customFields'])&&(_0x3b15fa[_0x243b19(0x316)]=_0x16d257[_0x243b19(0x2f9)]['map'](_0x3ffbd2=>({'_id':_0x3ffbd2[_0x243b19(0x386)],'value':_0x3ffbd2[_0x243b19(0x17c)]}))),_0x1a2163[_0x243b19(0x575)][_0x243b19(0x488)]!==void 0x0&&(_0x3b15fa[_0x243b19(0x116)]=Number(_0x1a2163[_0x243b19(0x575)][_0x243b19(0x488)])),_0x1a2163[_0x243b19(0x458)]!==void 0x0&&(_0x3b15fa[_0x243b19(0x458)]=Number(_0x1a2163[_0x243b19(0x458)])),Object[_0x243b19(0x3d7)](_0x3b15fa)['length']===0x0)throw new Error(_0x243b19(0x281));let _0x2330cc=this[_0x243b19(0xc1)][_0x243b19(0x3e0)];if(!_0x2330cc)throw new Error(_0x243b19(0x3c4));if(!await D[_0x243b19(0x506)]({'id':_0x1a2163['id'],'owner':_0x2330cc})){let _0xa4c32c=(await this['whatsappNumber']({'numbers':[_0x1a2163['id']]}))[0x0];if(!_0xa4c32c[_0x243b19(0x1fe)]&&!(0x0,w[_0x243b19(0x525)])(_0xa4c32c['jid'])&&!_0xa4c32c[_0x243b19(0x5df)][_0x243b19(0x5d1)](_0x243b19(0x65a)))throw new g(_0xa4c32c);_0x1a2163['id']=_0xa4c32c['jid'];}let _0x4dd4ef=await D[_0x243b19(0x31a)]({'id':_0x1a2163['id'],'owner':_0x2330cc},{'$set':_0x3b15fa},{'new':!0x0,'upsert':!0x0});return _0x4dd4ef&&q(this['instanceName'],_0x243b19(0x324),{'chat':_0x4dd4ef}),_0x4dd4ef?(this['logger']['verbose'](this[_0x243b19(0x128)]+'\x20('+this[_0x243b19(0xc1)][_0x243b19(0x3e0)]+_0x243b19(0x135)+_0x4dd4ef),_0x4dd4ef):{'message':_0x243b19(0x565)};}catch(_0x541749){throw this[_0x243b19(0x249)][_0x243b19(0x334)](this[_0x243b19(0x128)]+'\x20('+this[_0x243b19(0xc1)][_0x243b19(0x3e0)]+_0x243b19(0x650)+_0x541749),new g('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x541749[_0x243b19(0xd5)]);}}async[a0_0x32cdd8(0x4de)](_0x4b1069){const _0x1d6b88=a0_0x32cdd8;let _0x555f28=this['instance'][_0x1d6b88(0x3e0)];try{let _0x2f13ec=await ie[_0x1d6b88(0x178)](_0x555f28);_0x2f13ec||(_0x2f13ec=new ie({'_id':_0x555f28}),await _0x2f13ec[_0x1d6b88(0x604)]());let _0x207f8d=_0x4b1069[_0x1d6b88(0x386)]?_0x2f13ec[_0x1d6b88(0x603)][_0x1d6b88(0x27a)](_0x1cc736=>_0x1cc736['_id']===_0x4b1069['_id']):-0x1;if(_0x4b1069[_0x1d6b88(0x411)]&&_0x207f8d>-0x1)_0x2f13ec[_0x1d6b88(0x603)]['splice'](_0x207f8d,0x1);else{if(_0x207f8d>-0x1){let _0x3e5c21=_0x2f13ec[_0x1d6b88(0x603)][_0x207f8d];_0x4b1069[_0x1d6b88(0x19a)]&&(_0x3e5c21['fone']=_0x4b1069[_0x1d6b88(0x19a)]),_0x4b1069[_0x1d6b88(0x127)]&&(_0x3e5c21[_0x1d6b88(0x127)]=_0x4b1069['name']),_0x4b1069[_0x1d6b88(0x3b6)]&&(_0x3e5c21[_0x1d6b88(0x3b6)]=_0x4b1069['email']),_0x4b1069[_0x1d6b88(0x39f)]&&(_0x3e5c21[_0x1d6b88(0x39f)]=_0x4b1069[_0x1d6b88(0x39f)]);}else _0x2f13ec[_0x1d6b88(0x603)][_0x1d6b88(0x58a)]({'_id':_0x4b1069['_id']||new be['default'][(_0x1d6b88(0xee))][(_0x1d6b88(0x201))]()[_0x1d6b88(0x616)](),'fone':_0x4b1069[_0x1d6b88(0x19a)],'name':_0x4b1069['name'],'email':_0x4b1069[_0x1d6b88(0x3b6)],'role':_0x4b1069['role']});}let _0x1ee399=await _0x2f13ec[_0x1d6b88(0x604)]();return this[_0x1d6b88(0x18b)]=_0x1ee399,this[_0x1d6b88(0x249)][_0x1d6b88(0x2e8)](this[_0x1d6b88(0x128)]+'\x20('+this['instance']['wuid']+_0x1d6b88(0x566)),this[_0x1d6b88(0x249)][_0x1d6b88(0x2e8)](this[_0x1d6b88(0x128)]+'\x20('+this[_0x1d6b88(0xc1)][_0x1d6b88(0x3e0)]+_0x1d6b88(0x135)+this[_0x1d6b88(0x18b)]),_0x1ee399;}catch(_0x2bfd22){throw this[_0x1d6b88(0x249)][_0x1d6b88(0x334)](this[_0x1d6b88(0x128)]+'\x20('+this[_0x1d6b88(0xc1)][_0x1d6b88(0x3e0)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x2bfd22),new g(_0x1d6b88(0xbc)+_0x2bfd22[_0x1d6b88(0xd5)]);}}async[a0_0x32cdd8(0x48a)](_0x33a6cf){const _0x2c8b1b=a0_0x32cdd8;let _0x73a92a=this[_0x2c8b1b(0xc1)]['wuid'];try{let _0x128063=await ie[_0x2c8b1b(0x178)](_0x73a92a);_0x128063||(_0x128063=new ie({'_id':_0x73a92a}),await _0x128063[_0x2c8b1b(0x604)]());let _0x58b68a=_0x33a6cf[_0x2c8b1b(0x386)]?_0x128063[_0x2c8b1b(0x2f9)][_0x2c8b1b(0x27a)](_0x3c2e6f=>_0x3c2e6f[_0x2c8b1b(0x386)]===_0x33a6cf[_0x2c8b1b(0x386)]):-0x1,_0x1206ee=!0x1,_0xe8063b=_0x128063['customFields']['some'](_0x21c6db=>_0x21c6db['order']===_0x33a6cf[_0x2c8b1b(0x3a9)]);if(_0x33a6cf[_0x2c8b1b(0x411)]&&_0x58b68a>-0x1)_0x128063['customFields'][_0x2c8b1b(0x680)](_0x58b68a,0x1),_0x1206ee=!0x0;else{if(_0x58b68a>-0x1){if(_0x128063[_0x2c8b1b(0x2f9)][_0x2c8b1b(0x138)](_0xb43412=>_0xb43412[_0x2c8b1b(0x127)]===_0x33a6cf[_0x2c8b1b(0x127)]&&_0xb43412[_0x2c8b1b(0x386)]!==_0x33a6cf[_0x2c8b1b(0x386)]))throw new Error(_0x2c8b1b(0x150));let _0x1a2451=_0x128063[_0x2c8b1b(0x2f9)][_0x58b68a];_0x33a6cf[_0x2c8b1b(0x3a9)]&&(_0xe8063b||!Number[_0x2c8b1b(0x152)](_0x33a6cf[_0x2c8b1b(0x3a9)]))&&(_0x1a2451[_0x2c8b1b(0x3a9)]=_0x33a6cf['order'],_0x1206ee=!0x0),_0x33a6cf[_0x2c8b1b(0x127)]&&(_0x1a2451['name']=_0x33a6cf[_0x2c8b1b(0x127)]);}else{if(_0x128063['customFields'][_0x2c8b1b(0x138)](_0x5815a9=>_0x5815a9[_0x2c8b1b(0x127)]===_0x33a6cf[_0x2c8b1b(0x127)]&&_0x5815a9[_0x2c8b1b(0x386)]!==_0x33a6cf[_0x2c8b1b(0x386)]))throw new Error(_0x2c8b1b(0x150));_0x128063[_0x2c8b1b(0x2f9)]['push']({'_id':_0x33a6cf[_0x2c8b1b(0x386)]||new be[(_0x2c8b1b(0x3eb))][(_0x2c8b1b(0xee))][(_0x2c8b1b(0x201))]()[_0x2c8b1b(0x616)](),'order':_0x33a6cf[_0x2c8b1b(0x3a9)],'name':_0x33a6cf[_0x2c8b1b(0x127)]}),_0x1206ee=!0x0;}}if(_0x1206ee){_0x128063[_0x2c8b1b(0x2f9)][_0x2c8b1b(0xf1)]((_0x556444,_0x48c342)=>_0x556444[_0x2c8b1b(0x3a9)]>_0x48c342['order']?0x1:_0x48c342['order']>_0x556444[_0x2c8b1b(0x3a9)]?-0x1:0x0);for(let _0x5e5a07=0x0;_0x5e5a07<_0x128063[_0x2c8b1b(0x2f9)][_0x2c8b1b(0x4d2)];_0x5e5a07++)_0x128063['customFields'][_0x5e5a07][_0x2c8b1b(0x3a9)]=_0x5e5a07+0x1;}let _0x2d4a59=await _0x128063[_0x2c8b1b(0x604)]();return this[_0x2c8b1b(0x18b)]=_0x2d4a59,this[_0x2c8b1b(0x249)]['verbose'](this[_0x2c8b1b(0x128)]+'\x20('+this[_0x2c8b1b(0xc1)][_0x2c8b1b(0x3e0)]+_0x2c8b1b(0x519)),this[_0x2c8b1b(0x249)][_0x2c8b1b(0x2e8)](this[_0x2c8b1b(0x128)]+'\x20('+this[_0x2c8b1b(0xc1)]['wuid']+'):\x20'+this['AutomateSystem']),_0x2d4a59;}catch(_0x4bef70){throw this[_0x2c8b1b(0x249)][_0x2c8b1b(0x334)](this[_0x2c8b1b(0x128)]+'\x20('+this[_0x2c8b1b(0xc1)][_0x2c8b1b(0x3e0)]+_0x2c8b1b(0x501)+_0x4bef70),new g(_0x2c8b1b(0x4ff)+_0x4bef70[_0x2c8b1b(0xd5)]);}}async[a0_0x32cdd8(0x5ce)](_0x1fe6ad){const _0x55dc2b=a0_0x32cdd8;let _0x5d5b2f=this[_0x55dc2b(0xc1)]['wuid'];try{let _0x5029ea=await ie[_0x55dc2b(0x178)](_0x5d5b2f);_0x5029ea||(_0x5029ea=new ie({'_id':_0x5d5b2f}),await _0x5029ea[_0x55dc2b(0x604)]()),_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x63c)]=_0x1fe6ad?.[_0x55dc2b(0x63c)]!==void 0x0?_0x1fe6ad?.[_0x55dc2b(0x63c)]:_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x63c)],_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x5b0)]=_0x1fe6ad?.[_0x55dc2b(0x5b0)]!==void 0x0?_0x1fe6ad?.['ignoreGroups']:_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x5b0)],_0x5029ea[_0x55dc2b(0x4fb)]['prefixCommand']=_0x1fe6ad?.[_0x55dc2b(0x412)]??_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x412)],_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x31c)]=_0x1fe6ad?.[_0x55dc2b(0x31c)]??_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x31c)],_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x159)]=_0x1fe6ad?.[_0x55dc2b(0x159)]??_0x5029ea[_0x55dc2b(0x4fb)][_0x55dc2b(0x159)];let _0xd89308=await _0x5029ea[_0x55dc2b(0x604)]();return this[_0x55dc2b(0x18b)]=_0xd89308,this[_0x55dc2b(0x249)]['verbose'](this[_0x55dc2b(0x128)]+'\x20('+this[_0x55dc2b(0xc1)][_0x55dc2b(0x3e0)]+_0x55dc2b(0x566)),this[_0x55dc2b(0x249)][_0x55dc2b(0x2e8)](this[_0x55dc2b(0x128)]+'\x20('+this[_0x55dc2b(0xc1)][_0x55dc2b(0x3e0)]+_0x55dc2b(0x135)+this['AutomateSystem']),_0xd89308;}catch(_0x1b3412){throw this['logger'][_0x55dc2b(0x334)](this[_0x55dc2b(0x128)]+'\x20('+this[_0x55dc2b(0xc1)][_0x55dc2b(0x3e0)]+_0x55dc2b(0x4e1)+_0x1b3412),new g(_0x55dc2b(0xbc)+_0x1b3412['message']);}}async[a0_0x32cdd8(0x2b7)](){const _0x4a0833=a0_0x32cdd8;let _0x2d4335=this[_0x4a0833(0xc1)][_0x4a0833(0x3e0)];try{let _0xa83e1d=await ie['findById'](_0x2d4335);return _0xa83e1d||(_0xa83e1d=new ie({'_id':_0x2d4335})),_0xa83e1d[_0x4a0833(0x4fb)]=_0xa83e1d[_0x4a0833(0x4fb)]||{},_0xa83e1d['flowConfig'][_0x4a0833(0x63c)]===void 0x0&&(_0xa83e1d[_0x4a0833(0x4fb)][_0x4a0833(0x63c)]=!0x1),_0xa83e1d[_0x4a0833(0x4fb)]['ignoreGroups']===void 0x0&&(_0xa83e1d[_0x4a0833(0x4fb)][_0x4a0833(0x5b0)]=!0x0),_0xa83e1d[_0x4a0833(0x4fb)][_0x4a0833(0x412)]===void 0x0&&(_0xa83e1d['flowConfig'][_0x4a0833(0x412)]='!'),_0xa83e1d[_0x4a0833(0x4fb)]['stopConversation']===void 0x0&&(_0xa83e1d['flowConfig']['stopConversation']=_0x4a0833(0x103)),_0xa83e1d[_0x4a0833(0x4fb)]['stopMinutes']===void 0x0&&(_0xa83e1d[_0x4a0833(0x4fb)][_0x4a0833(0x159)]=0x14),await _0xa83e1d['save'](),this['AutomateSystem']=_0xa83e1d,this['logger'][_0x4a0833(0x2e8)](this[_0x4a0833(0x128)]+'\x20('+this['instance'][_0x4a0833(0x3e0)]+_0x4a0833(0x15f)),this[_0x4a0833(0x249)]['verbose'](this['AutomateSystem']),_0xa83e1d;}catch(_0xf8b499){throw this[_0x4a0833(0x249)][_0x4a0833(0x334)](this[_0x4a0833(0x128)]+'\x20('+this['instance'][_0x4a0833(0x3e0)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0xf8b499[_0x4a0833(0xd5)]),new g(_0x4a0833(0x51a)+_0xf8b499[_0x4a0833(0xd5)]);}}async['scheduleNextCheck'](){const _0xe8cf40=a0_0x32cdd8;let _0x34cd37=()=>{const _0x368b6d=a0_0x282e;this[_0x368b6d(0x249)][_0x368b6d(0x2e8)](this[_0x368b6d(0x128)]+'\x20('+this[_0x368b6d(0xc1)][_0x368b6d(0x3e0)]+'):\x20this.processingScheduleMessageId:\x20'+this['processingScheduleMessageId']+'\x20saindo\x20da\x20funo');},_0x430757=async()=>{const _0x3dc0da=a0_0x282e;this[_0x3dc0da(0x249)][_0x3dc0da(0x2e8)](this[_0x3dc0da(0x128)]+'\x20('+this['instance']['wuid']+_0x3dc0da(0x26e));let _0x2cf6eb=Date[_0x3dc0da(0xef)]()-0xc*0x3c*0x3c*0x3e8;return await U[_0x3dc0da(0x614)]({'owner':this[_0x3dc0da(0xc1)][_0x3dc0da(0x3e0)],'status':{'$in':[_0x3dc0da(0x1bc),_0x3dc0da(0x54f)]},'$or':[{'when':{'$lte':Date[_0x3dc0da(0xef)](),'$gte':_0x2cf6eb}},{'when':0x0}]});},_0x3aaab3=async _0x24f0bd=>{const _0x3066d9=a0_0x282e;for(let _0x2c33de of _0x24f0bd){if(!await U[_0x3066d9(0x31a)]({'_id':_0x2c33de[_0x3066d9(0x386)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3066d9(0xef)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x3066d9(0x489)]){this[_0x3066d9(0x249)][_0x3066d9(0x2e8)](this[_0x3066d9(0x128)]+'\x20('+this[_0x3066d9(0xc1)][_0x3066d9(0x3e0)]+_0x3066d9(0x5d6));break;}(!_0x2c33de['remoteJidsRemaining']||_0x2c33de[_0x3066d9(0x2bf)]['length']===0x0)&&(_0x2c33de=await U[_0x3066d9(0x14e)](_0x2c33de[_0x3066d9(0x386)],{'$set':{'status':_0x3066d9(0x54f),'remoteJidsRemaining':[..._0x2c33de[_0x3066d9(0x485)]]}},{'new':!0x0}));for(let _0x59f6b5 of _0x2c33de[_0x3066d9(0x2bf)]){if(this['lastSend']=Date[_0x3066d9(0xef)](),_0x2c33de[_0x3066d9(0x5c3)][_0x3066d9(0x138)](_0x456c94=>_0x456c94[_0x3066d9(0x420)]===_0x59f6b5)){this[_0x3066d9(0x249)]['verbose'](this['instanceName']+'\x20('+this[_0x3066d9(0xc1)]['wuid']+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x59f6b5+_0x3066d9(0x15c));continue;}try{let _0x37bcfc=await this[_0x3066d9(0x5d9)](_0x59f6b5,_0x2c33de),_0x35f2d8={'remoteJid':_0x59f6b5,'error':_0x37bcfc['error'],'id':_0x37bcfc['id']||null,'error_log':_0x37bcfc[_0x3066d9(0x499)]||null,'log_timestamp':Date[_0x3066d9(0xef)]()};if((await U['findByIdAndUpdate'](_0x2c33de['_id'],{'$push':{'messagesSend':_0x35f2d8},'$pull':{'remoteJidsRemaining':_0x59f6b5}},{'new':!0x0}))[_0x3066d9(0x440)]===_0x3066d9(0x282)){this[_0x3066d9(0x249)][_0x3066d9(0x2e8)](this['instanceName']+'\x20('+this[_0x3066d9(0xc1)]['wuid']+_0x3066d9(0x416)+_0x2c33de[_0x3066d9(0x386)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this[_0x3066d9(0x489)]){this['logger'][_0x3066d9(0x2e8)](this[_0x3066d9(0x128)]+'\x20('+this['instance']['wuid']+_0x3066d9(0x47e));break;}if(!this[_0x3066d9(0x568)]){this[_0x3066d9(0x249)][_0x3066d9(0x2e8)](this['instanceName']+'\x20('+this[_0x3066d9(0xc1)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2c33de[_0x3066d9(0x386)]+_0x3066d9(0x1a9));break;}let _0x43a70d=this[_0x3066d9(0x56c)](_0x2c33de[_0x3066d9(0x33d)],_0x2c33de['delaySecMax']);await this[_0x3066d9(0x1f6)](_0x43a70d);}catch(_0x12bd6b){this[_0x3066d9(0x249)]['error'](this[_0x3066d9(0x128)]+'\x20('+this[_0x3066d9(0xc1)][_0x3066d9(0x3e0)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x59f6b5+':\x20'+_0x12bd6b[_0x3066d9(0xd5)]);let _0x57bd5b={'remoteJid':_0x59f6b5,'status':_0x3066d9(0x334),'timestamp':Date[_0x3066d9(0xef)](),'error':_0x12bd6b[_0x3066d9(0xd5)]};await U['findByIdAndUpdate'](_0x2c33de[_0x3066d9(0x386)],{'$push':{'messagesSend':_0x57bd5b},'$pull':{'remoteJidsRemaining':_0x59f6b5}},{'new':!0x0});}}let _0x151afa=await U[_0x3066d9(0x178)](_0x2c33de[_0x3066d9(0x386)]);_0x151afa[_0x3066d9(0x2bf)][_0x3066d9(0x4d2)]===0x0&&_0x151afa[_0x3066d9(0x440)]!==_0x3066d9(0x282)&&await U[_0x3066d9(0x14e)](_0x2c33de[_0x3066d9(0x386)],{'$set':{'status':_0x3066d9(0xc5)}},{'new':!0x0}),await new Promise(_0x483b2f=>setTimeout(_0x483b2f,0x1388));}},_0x2795cc=async()=>{const _0x4aa877=a0_0x282e;let _0x5d9f1c=await U[_0x4aa877(0x506)]({'owner':this[_0x4aa877(0xc1)][_0x4aa877(0x3e0)],'status':_0x4aa877(0x1bc),'when':{'$gt':Date[_0x4aa877(0xef)]()}})['sort']({'when':0x1});_0x5d9f1c&&_0x5d9f1c[_0x4aa877(0x44e)]-Date['now']()<=0x5265c00?this[_0x4aa877(0x5f9)]=_0x5d9f1c[_0x4aa877(0x44e)]-Date[_0x4aa877(0xef)]():this[_0x4aa877(0x5f9)]=(0x3c+Math[_0x4aa877(0x2b1)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x4aa877(0x5f9)]=Math['max'](this[_0x4aa877(0x5f9)],0x7d0);let _0x1b36b1=Math[_0x4aa877(0x44f)](this[_0x4aa877(0x5f9)]/0xea60);if(_0x5d9f1c){let _0x2a4423=new Date(_0x5d9f1c[_0x4aa877(0x44e)])[_0x4aa877(0x373)]();this['logger'][_0x4aa877(0x2e8)](this['instanceName']+'\x20('+this[_0x4aa877(0xc1)]['wuid']+'):\x20encontrado\x20prxima\x20mensagem\x20para\x20'+_0x2a4423+_0x4aa877(0x2f2)+_0x1b36b1+_0x4aa877(0x5e1));}else this[_0x4aa877(0x249)]['verbose'](this['instanceName']+'\x20('+this[_0x4aa877(0xc1)][_0x4aa877(0x3e0)]+_0x4aa877(0x2d2)+_0x1b36b1+_0x4aa877(0x5e1));setTimeout(()=>this[_0x4aa877(0x1c2)](),this[_0x4aa877(0x5f9)]);};if(this[_0xe8cf40(0x568)]&&Date[_0xe8cf40(0xef)]()-this[_0xe8cf40(0x60a)]<0x1d4c0){_0x34cd37();return;}try{let _0xf94cf7=await _0x430757();_0xf94cf7['length']===0x0?this[_0xe8cf40(0x249)][_0xe8cf40(0x2e8)](this[_0xe8cf40(0x128)]+'\x20('+this['instance'][_0xe8cf40(0x3e0)]+_0xe8cf40(0x436)):(this[_0xe8cf40(0x568)]=_0xf94cf7[0x0][_0xe8cf40(0x386)],await _0x3aaab3(_0xf94cf7)),await _0x2795cc(),this[_0xe8cf40(0x568)]=null;}catch(_0x153fa5){this['logger'][_0xe8cf40(0x334)](_0xe8cf40(0x445)+_0x153fa5['message']);}}[a0_0x32cdd8(0x56c)](_0x575e15,_0x33bd95){const _0x371c05=a0_0x32cdd8;return _0x575e15=Math[_0x371c05(0x5c5)](0.5,_0x575e15),_0x33bd95=Math['max'](0x3,_0x33bd95),Math[_0x371c05(0x2b1)](Math[_0x371c05(0x22d)]()*(_0x33bd95-_0x575e15+0x1)+_0x575e15)*0x3e8;}[a0_0x32cdd8(0x1f6)](_0x18d98c){return new Promise(_0x381a6b=>setTimeout(_0x381a6b,_0x18d98c));}async['getVariablesChat'](_0x121810){const _0x5720b4=a0_0x32cdd8;if(!this[_0x5720b4(0x18b)]&&(await this[_0x5720b4(0x2b7)](),!this[_0x5720b4(0x18b)]))return null;_0x121810=this[_0x5720b4(0x12e)](_0x121810);let _0xdf7fae=await D[_0x5720b4(0x506)]({'id':_0x121810,'owner':this[_0x5720b4(0xc1)][_0x5720b4(0x3e0)]}),_0x16bd56={};if(_0xdf7fae&&_0xdf7fae[_0x5720b4(0x575)]){let _0x40c95f=_0xdf7fae['leadInfo'];typeof _0x40c95f[_0x5720b4(0x48b)]==_0x5720b4(0x4d6)&&(_0x16bd56['nome']=_0x40c95f[_0x5720b4(0x48b)]),typeof _0x40c95f[_0x5720b4(0xe2)]=='string'&&(_0x16bd56[_0x5720b4(0xe2)]=_0x40c95f[_0x5720b4(0xe2)]),typeof _0x40c95f[_0x5720b4(0x3b6)]==_0x5720b4(0x4d6)&&(_0x16bd56[_0x5720b4(0x3b6)]=_0x40c95f[_0x5720b4(0x3b6)]),typeof _0x40c95f[_0x5720b4(0x292)]==_0x5720b4(0x4d6)&&(_0x16bd56[_0x5720b4(0x292)]=_0x40c95f[_0x5720b4(0x292)]),typeof _0x40c95f[_0x5720b4(0x440)]==_0x5720b4(0x4d6)&&(_0x16bd56[_0x5720b4(0x440)]=_0x40c95f[_0x5720b4(0x440)]),typeof _0x40c95f[_0x5720b4(0x394)]=='string'&&(_0x16bd56['notas']=_0x40c95f['notas']),typeof _0x40c95f[_0x5720b4(0x26a)]==_0x5720b4(0x4d6)&&(_0x16bd56[_0x5720b4(0x26a)]=_0x40c95f[_0x5720b4(0x26a)]),Array[_0x5720b4(0xfc)](_0x40c95f['tags'])&&(_0x16bd56[_0x5720b4(0x475)]=_0x40c95f[_0x5720b4(0x475)][_0x5720b4(0x2d3)](',\x20'));}return _0xdf7fae&&_0xdf7fae[_0x5720b4(0x575)]&&_0xdf7fae[_0x5720b4(0x575)][_0x5720b4(0x2f9)]&&_0xdf7fae['leadInfo'][_0x5720b4(0x2f9)][_0x5720b4(0x5dd)](_0x5a07c7=>{const _0x41e7a6=_0x5720b4;let _0x4055e7=this[_0x41e7a6(0x18b)]?.['customFields'][_0x41e7a6(0x614)](_0x3ba27=>_0x3ba27['_id']===_0x5a07c7[_0x41e7a6(0x386)]);_0x4055e7&&(_0x16bd56[_0x4055e7[_0x41e7a6(0x127)]]=_0x5a07c7[_0x41e7a6(0x17c)]);}),_0x16bd56;}async[a0_0x32cdd8(0x16d)](_0x3e3bef,_0x42af05){const _0x12a1bb=a0_0x32cdd8;let _0x1fcf81=await this[_0x12a1bb(0x58c)](_0x42af05);return this['replaceVariables'](_0x3e3bef,_0x1fcf81);}async[a0_0x32cdd8(0x65c)](_0x3cdafb){const _0x2026dc=a0_0x32cdd8;try{if(this[_0x2026dc(0x249)][_0x2026dc(0x2e8)](this[_0x2026dc(0x128)]+'\x20('+this[_0x2026dc(0xc1)]['wuid']+_0x2026dc(0x29f)),_0x3cdafb[_0x2026dc(0x411)]&&_0x3cdafb[_0x2026dc(0x386)]){if(this['processingScheduleMessageId']===_0x3cdafb[_0x2026dc(0x386)]['toString']())throw new Error(_0x2026dc(0x50c));let _0x21b88c=await U[_0x2026dc(0x208)](_0x3cdafb[_0x2026dc(0x386)]);return setTimeout(()=>this[_0x2026dc(0x1c2)](),0x7d0),_0x21b88c;}let _0x1f9e7e;if(_0x3cdafb[_0x2026dc(0x386)]&&(_0x1f9e7e=await U[_0x2026dc(0x506)]({'owner':this['instance'][_0x2026dc(0x3e0)],'_id':_0x3cdafb[_0x2026dc(0x386)]})),_0x1f9e7e){let _0x3618c7=_0x3cdafb;this[_0x2026dc(0x568)]===_0x1f9e7e['_id'][_0x2026dc(0x616)]()&&(_0x3618c7={'status':_0x3cdafb[_0x2026dc(0x440)],'_id':_0x3cdafb[_0x2026dc(0x386)]});let _0x1fe6e1=await U[_0x2026dc(0x14e)](_0x1f9e7e[_0x2026dc(0x386)],{'$set':_0x3618c7},{'new':!0x0});return setTimeout(()=>this[_0x2026dc(0x1c2)](),0x7d0),_0x1fe6e1;}else{_0x3cdafb[_0x2026dc(0x22b)]=this[_0x2026dc(0xc1)][_0x2026dc(0x3e0)];let _0x55e508=await new U(_0x3cdafb)[_0x2026dc(0x604)]();return setTimeout(()=>this[_0x2026dc(0x1c2)](),0x7d0),_0x55e508;}}catch(_0x1f5b92){throw this['logger']['error'](this[_0x2026dc(0x128)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+_0x1f5b92),new g(_0x2026dc(0x552)+_0x1f5b92[_0x2026dc(0xd5)]);}}async[a0_0x32cdd8(0x428)](){const _0x396277=a0_0x32cdd8;try{return await U['find']({'owner':this[_0x396277(0xc1)]['wuid']})['sort']({'when':0x1});}catch(_0x504d42){throw this[_0x396277(0x249)][_0x396277(0x334)](this[_0x396277(0x128)]+'\x20('+this[_0x396277(0xc1)][_0x396277(0x3e0)]+_0x396277(0x210)+_0x504d42),new g('Erro:'+_0x504d42['message']);}}async['deleteDoneMessages'](){const _0x4d65a6=a0_0x32cdd8;try{return await U[_0x4d65a6(0x37d)]({'owner':this[_0x4d65a6(0xc1)][_0x4d65a6(0x3e0)],'status':_0x4d65a6(0xc5)}),this['logger']['verbose'](this[_0x4d65a6(0x128)]+'\x20('+this[_0x4d65a6(0xc1)]['wuid']+_0x4d65a6(0x1a6)),this['getScheduleMessage']();}catch(_0x118334){throw this['logger'][_0x4d65a6(0x334)](this[_0x4d65a6(0x128)]+'\x20('+this['instance'][_0x4d65a6(0x3e0)]+_0x4d65a6(0x33e)+_0x118334),new g(_0x4d65a6(0x552)+_0x118334[_0x4d65a6(0xd5)]);}}async[a0_0x32cdd8(0x5d9)](_0x1e4d3c,_0x42313e){const _0xaa18b7=a0_0x32cdd8;try{switch(_0x42313e['type']){case _0xaa18b7(0x25e):return await this['scheduleSendText'](_0x42313e,_0x1e4d3c);case _0xaa18b7(0x3d2):return await this[_0xaa18b7(0x238)](_0x42313e,_0x1e4d3c);case'audio':return await this[_0xaa18b7(0x2b2)](_0x42313e,_0x1e4d3c);default:return this[_0xaa18b7(0x249)]['error'](this[_0xaa18b7(0x128)]+'\x20('+this['instance']['wuid']+_0xaa18b7(0x522)+_0x42313e[_0xaa18b7(0x2a0)]),{'status':_0xaa18b7(0x334),'detail':_0xaa18b7(0x4ad)};}}catch(_0x3f5f5d){return this[_0xaa18b7(0x249)]['error'](this[_0xaa18b7(0x128)]+'\x20('+this['instance'][_0xaa18b7(0x3e0)]+_0xaa18b7(0x293)+_0x3f5f5d),{'status':_0xaa18b7(0x334),'detail':_0x3f5f5d[_0xaa18b7(0xd5)]};}}[a0_0x32cdd8(0x4cc)](_0x2f8129){const _0x21bf59=a0_0x32cdd8;let _0x3fbea9=_0x2f8129[_0x21bf59(0x5af)]('|'),_0x2b6032=Math[_0x21bf59(0x2b1)](Math[_0x21bf59(0x22d)]()*_0x3fbea9[_0x21bf59(0x4d2)]);return _0x3fbea9[_0x2b6032][_0x21bf59(0x610)]();}async[a0_0x32cdd8(0x160)](_0x1f776e,_0x5e7df5){const _0x67c0b8=a0_0x32cdd8;if(this['logger'][_0x67c0b8(0x2e8)](this[_0x67c0b8(0x128)]+'\x20('+this['instance'][_0x67c0b8(0x3e0)]+_0x67c0b8(0x3ea)),!_0x1f776e[_0x67c0b8(0xd5)][_0x67c0b8(0x25e)]||_0x1f776e[_0x67c0b8(0xd5)][_0x67c0b8(0x25e)]['length']===0x0)return{'error':!0x0,'error_log':'sem\x20texto\x20na\x20mensagem'};let _0x549623=this['getRandomText'](_0x1f776e[_0x67c0b8(0xd5)][_0x67c0b8(0x25e)]),_0x56e5b0=await this[_0x67c0b8(0x16d)](_0x549623,_0x5e7df5),_0x41dfc9={'number':_0x5e7df5,'options':{'delay':_0x1f776e['message'][_0x67c0b8(0x3a6)]},'textMessage':{'text':_0x56e5b0}},_0x560a4b=null;try{let _0xf243b9=await this['textMessage'](_0x41dfc9);if(_0xf243b9&&_0xf243b9[_0x67c0b8(0x440)])return{'error':!0x1,'id':_0xf243b9[_0x67c0b8(0x3fb)]['id']};_0x560a4b=JSON[_0x67c0b8(0x679)](_0xf243b9),this[_0x67c0b8(0x249)][_0x67c0b8(0x2e8)](this[_0x67c0b8(0x128)]+'\x20('+this[_0x67c0b8(0xc1)][_0x67c0b8(0x3e0)]+_0x67c0b8(0x135)+_0x560a4b);}catch(_0x5cfd51){this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x67c0b8(0x1ff)+_0x5cfd51),_0x560a4b=_0x5cfd51[_0x67c0b8(0xd5)];}if(_0x560a4b)return{'error':!0x0,'error_log':(typeof _0x560a4b==_0x67c0b8(0x359)?JSON[_0x67c0b8(0x679)](_0x560a4b,null,0x2):_0x560a4b)[_0x67c0b8(0x61a)](/[\[\]{}\n]/g,'\x20')[_0x67c0b8(0x61a)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x4cb5c8,_0x51762a){const _0x3e1063=a0_0x32cdd8;this[_0x3e1063(0x249)][_0x3e1063(0x2e8)](this[_0x3e1063(0x128)]+'\x20('+this[_0x3e1063(0xc1)][_0x3e1063(0x3e0)]+_0x3e1063(0xf5));let _0x211e6b;if(_0x4cb5c8['message'][_0x3e1063(0x25e)]&&_0x4cb5c8[_0x3e1063(0xd5)][_0x3e1063(0x25e)][_0x3e1063(0x4d2)]>0x0){let _0x3d2e37=this[_0x3e1063(0x4cc)](_0x4cb5c8[_0x3e1063(0xd5)][_0x3e1063(0x25e)]);_0x211e6b=await this['replaceVariablesChat'](_0x3d2e37,_0x51762a);}let _0x24a8bd={'number':_0x51762a,'options':{'delay':_0x4cb5c8[_0x3e1063(0xd5)]['delay']},'mediaMessage':{'mediatype':_0x4cb5c8['message']['mediatype'],'caption':_0x211e6b,'media':_0x4cb5c8['message'][_0x3e1063(0x39b)]}},_0x7a9bae=null;try{let _0x2aa025=await this[_0x3e1063(0x4c7)](_0x24a8bd);if(_0x2aa025&&_0x2aa025[_0x3e1063(0x440)])return{'error':!0x1,'id':_0x2aa025['key']['id']};_0x7a9bae=JSON['stringify'](_0x2aa025),this['logger'][_0x3e1063(0x2e8)](this['instanceName']+'\x20('+this[_0x3e1063(0xc1)][_0x3e1063(0x3e0)]+'):\x20'+_0x7a9bae);}catch(_0x2ac146){this[_0x3e1063(0x249)][_0x3e1063(0x334)](this[_0x3e1063(0x128)]+'\x20('+this[_0x3e1063(0xc1)][_0x3e1063(0x3e0)]+_0x3e1063(0x41a)+_0x2ac146[_0x3e1063(0xd5)]),_0x7a9bae=_0x2ac146[_0x3e1063(0xd5)];}if(_0x7a9bae)return{'error':!0x0,'error_log':(typeof _0x7a9bae==_0x3e1063(0x359)?JSON[_0x3e1063(0x679)](_0x7a9bae,null,0x2):_0x7a9bae)[_0x3e1063(0x61a)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x32cdd8(0x2b2)](_0x223168,_0x2a8ff0){const _0x4db461=a0_0x32cdd8;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4db461(0xc1)][_0x4db461(0x3e0)]+_0x4db461(0x636));let _0x2eb890={'number':_0x2a8ff0,'options':{'delay':_0x223168[_0x4db461(0xd5)]['delay']},'audioMessage':{'audio':_0x223168[_0x4db461(0xd5)][_0x4db461(0x39b)]}},_0x25c185=null;try{let _0x39a86b=await this[_0x4db461(0x5e2)](_0x2eb890);if(_0x39a86b&&_0x39a86b[_0x4db461(0x440)])return{'error':!0x1,'id':_0x39a86b[_0x4db461(0x3fb)]['id']};_0x25c185=JSON[_0x4db461(0x679)](_0x39a86b),this['logger'][_0x4db461(0x2e8)](this['instanceName']+'\x20('+this[_0x4db461(0xc1)][_0x4db461(0x3e0)]+'):\x20'+_0x25c185);}catch(_0x349e2b){this[_0x4db461(0x249)][_0x4db461(0x334)](this['instanceName']+'\x20('+this[_0x4db461(0xc1)][_0x4db461(0x3e0)]+_0x4db461(0x402)+_0x349e2b),_0x25c185=_0x349e2b[_0x4db461(0xd5)];}if(_0x25c185)return{'error':!0x0,'error_log':(typeof _0x25c185==_0x4db461(0x359)?JSON[_0x4db461(0x679)](_0x25c185,null,0x2):_0x25c185)[_0x4db461(0x61a)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ee=require(a0_0x32cdd8(0x2f4)),jt=class c{constructor(_0x26597,_0x14bbc3,_0x244af8){const _0x57c896=a0_0x32cdd8;this['eventEmitter']=_0x26597,this[_0x57c896(0x3d0)]=_0x14bbc3,this[_0x57c896(0x620)]=_0x244af8,this['db']={},this[_0x57c896(0x544)]={},this['logger']=new C(c[_0x57c896(0x127)]),this[_0x57c896(0x24e)]={},(this[_0x57c896(0x1ed)](),this[_0x57c896(0x5bb)](),this[_0x57c896(0x49e)](),Object['assign'](this['db'],_0x14bbc3[_0x57c896(0x43a)](_0x57c896(0x1d5))),Object[_0x57c896(0x468)](this[_0x57c896(0x544)],_0x14bbc3[_0x57c896(0x43a)](_0x57c896(0x3b1))),this[_0x57c896(0x64e)]=this['db'][_0x57c896(0x391)]?this[_0x57c896(0x620)][_0x57c896(0x260)]?.['db'](this['db'][_0x57c896(0x63f)][_0x57c896(0x21a)]+_0x57c896(0x5e0)):void 0x0,this[_0x57c896(0x3bb)]=this[_0x57c896(0x544)][_0x57c896(0x391)]?new ye(this[_0x57c896(0x544)]):void 0x0);}['delInstanceTime'](_0x5345c4){const _0x387c8b=a0_0x32cdd8;let _0x3cc580=this[_0x387c8b(0x3d0)]['get'](_0x387c8b(0x59b));typeof _0x3cc580==_0x387c8b(0x1fa)&&_0x3cc580>0x0&&setTimeout(()=>{const _0x34d639=_0x387c8b;this[_0x34d639(0x24e)][_0x5345c4]?.['connectionStatus']?.[_0x34d639(0x4ca)]!==_0x34d639(0x4e8)&&delete this[_0x34d639(0x24e)][_0x5345c4];},0x3e8*0x3c*_0x3cc580);}async[a0_0x32cdd8(0x389)](_0x4ed741){const _0x317d59=a0_0x32cdd8;if(_0x4ed741&&!this[_0x317d59(0x24e)][_0x4ed741])throw new x(_0x317d59(0x4b3)+_0x4ed741+_0x317d59(0x5c9));let _0x268c64=[];for await(let [_0x3f09cd,_0x31898b]of Object[_0x317d59(0x3cf)](this[_0x317d59(0x24e)]))if(_0x31898b&&_0x31898b[_0x317d59(0x626)][_0x317d59(0x4ca)]==='open'){let _0x15cc9e=await this['repository'][_0x317d59(0x52c)][_0x317d59(0x614)](_0x3f09cd);_0x268c64[_0x317d59(0x58a)]({'instance':{'instanceName':_0x3f09cd,'apikey':_0x15cc9e[_0x317d59(0x363)],'owner':_0x31898b['wuid'],'profileName':await _0x31898b['getProfileName']()||_0x317d59(0x365),'profilePictureUrl':_0x31898b[_0x317d59(0x60b)]}});}return _0x268c64[_0x317d59(0x614)](_0x52157c=>_0x52157c[_0x317d59(0xc1)][_0x317d59(0x128)]===_0x4ed741)??_0x268c64;}[a0_0x32cdd8(0x49e)](){setInterval(async()=>{const _0x54b2aa=a0_0x282e;if(this['db']['ENABLED'])(await this[_0x54b2aa(0x64e)][_0x54b2aa(0x549)]())[_0x54b2aa(0x5dd)](async _0x39e51c=>{const _0x527bbb=_0x54b2aa;let _0xf13d0b=_0x39e51c[_0x527bbb(0x5b4)]['replace'](/^[\w-]+./,'');await this[_0x527bbb(0x64e)][_0x527bbb(0x31e)](_0xf13d0b)[_0x527bbb(0x37d)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x490300=(0x0,se[_0x54b2aa(0x4ba)])(j,{'encoding':_0x54b2aa(0x651)});for await(let _0x451f68 of _0x490300)_0x451f68[_0x54b2aa(0x2cd)]()&&(0x0,se[_0x54b2aa(0x5f2)])((0x0,Ee[_0x54b2aa(0x2d3)])(j,_0x451f68['name']),{'encoding':'utf-8'})[_0x54b2aa(0x5dd)](async _0x1900b3=>{const _0x2c3313=_0x54b2aa;(_0x1900b3[_0x2c3313(0x1db)](/^app.state.*/)||_0x1900b3[_0x2c3313(0x1db)](/^session-.*/))&&(0x0,se['rmSync'])((0x0,Ee['join'])(j,_0x451f68[_0x2c3313(0x127)],_0x1900b3),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x1570f9){const _0x4cad0a=a0_0x32cdd8;this['db'][_0x4cad0a(0x391)]&&(await this['repository'][_0x4cad0a(0x260)]['connect'](),(await this[_0x4cad0a(0x64e)][_0x4cad0a(0x549)]())[_0x4cad0a(0x4d2)]>0x0&&await this[_0x4cad0a(0x64e)][_0x4cad0a(0x395)](_0x1570f9)),this[_0x4cad0a(0x544)][_0x4cad0a(0x391)]&&(this[_0x4cad0a(0x3bb)][_0x4cad0a(0x693)]=_0x1570f9,await this[_0x4cad0a(0x3bb)][_0x4cad0a(0x509)]()),!this['db'][_0x4cad0a(0x391)]&&!this['redis'][_0x4cad0a(0x391)]&&(0x0,se[_0x4cad0a(0x15b)])((0x0,Ee['join'])(j,_0x1570f9),{'recursive':!0x0,'force':!0x0});}async['loadInstance'](){const _0x2fff5a=a0_0x32cdd8;let _0x5bc57f=async _0x1f5566=>{const _0x61633=a0_0x282e;let _0x1dab95=new Se(this[_0x61633(0x3d0)],this['eventEmitter'],this['repository']);_0x1dab95[_0x61633(0x128)]=_0x1f5566,await _0x1dab95[_0x61633(0x340)](),this['waInstances'][_0x1f5566]=_0x1dab95;};try{if(this[_0x2fff5a(0x544)][_0x2fff5a(0x391)]){let _0x47ece1=await this[_0x2fff5a(0x3bb)][_0x2fff5a(0x27f)]();_0x47ece1?.[_0x2fff5a(0x4d2)]>0x0&&_0x47ece1[_0x2fff5a(0x5dd)](async _0x154451=>await _0x5bc57f(_0x154451[_0x2fff5a(0x5af)](':')[0x1]));}if(this['db'][_0x2fff5a(0x391)]){await this['repository']['dbServer'][_0x2fff5a(0x5fc)]();let _0x3eab50=await this[_0x2fff5a(0x64e)]['collections']();_0x3eab50[_0x2fff5a(0x4d2)]>0x0&&_0x3eab50[_0x2fff5a(0x5dd)](async _0xcc36d4=>await _0x5bc57f(_0xcc36d4[_0x2fff5a(0x5b4)]['replace'](/^[\w-]+\./,'')));return;}let _0x9e91a=(0x0,se[_0x2fff5a(0x4ba)])(j,{'encoding':_0x2fff5a(0x651)});for await(let _0x3621ac of _0x9e91a)if(_0x3621ac[_0x2fff5a(0x2cd)]()){if((0x0,se['readdirSync'])((0x0,Ee[_0x2fff5a(0x2d3)])(j,_0x3621ac[_0x2fff5a(0x127)]),{'encoding':_0x2fff5a(0x651)})['length']===0x0){(0x0,se[_0x2fff5a(0x15b)])((0x0,Ee[_0x2fff5a(0x2d3)])(j,_0x3621ac[_0x2fff5a(0x127)]),{'recursive':!0x0,'force':!0x0});break;}await _0x5bc57f(_0x3621ac[_0x2fff5a(0x127)]);}}catch(_0xd54cad){this[_0x2fff5a(0x249)][_0x2fff5a(0x334)](_0xd54cad);}}[a0_0x32cdd8(0x1ed)](){const _0x312a0e=a0_0x32cdd8;this[_0x312a0e(0x308)]['on'](_0x312a0e(0x404),async _0x46e564=>{const _0x2ec466=_0x312a0e;try{this['waInstances'][_0x46e564]=void 0x0;}catch{}try{this[_0x2ec466(0x471)](_0x46e564);}finally{this[_0x2ec466(0x249)][_0x2ec466(0x2d5)](_0x2ec466(0x4b3)+_0x46e564+'\x22\x20-\x20REMOVED');}});}[a0_0x32cdd8(0x5bb)](){const _0x39d15c=a0_0x32cdd8;this['eventEmitter']['on'](_0x39d15c(0x3c3),async _0x3ed61a=>{const _0x53d090=_0x39d15c;try{this[_0x53d090(0x24e)][_0x3ed61a]=void 0x0,this[_0x53d090(0x471)](_0x3ed61a);}catch(_0x3998c0){this['logger']['error']({'localError':_0x53d090(0x5bb),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x3998c0});}finally{this['logger'][_0x53d090(0x2d5)](_0x53d090(0x4b3)+_0x3ed61a+_0x53d090(0x4d0));}});}},xe=require(a0_0x32cdd8(0x2f4)),ve=require('fs'),Bt=class extends B{constructor(_0x383175,_0x161416){const _0x3df6a4=a0_0x32cdd8;super(_0x161416),this[_0x3df6a4(0x137)]=_0x383175,this[_0x3df6a4(0x3d0)]=_0x161416;}async['insert'](_0xf6958a,_0x38a9b5=!0x1){const _0x4dfd14=a0_0x32cdd8;if(_0xf6958a[_0x4dfd14(0x4d2)]!==0x0)try{return this[_0x4dfd14(0x5b3)][_0x4dfd14(0x391)]&&_0x38a9b5?{'insertCount':(await this[_0x4dfd14(0x137)]['insertMany']([..._0xf6958a]))[_0x4dfd14(0x4d2)]}:(_0xf6958a[_0x4dfd14(0x5dd)](_0x24a383=>{const _0x5acfe0=_0x4dfd14;this[_0x5acfe0(0x158)]({'path':(0x0,xe['join'])(this[_0x5acfe0(0x1b6)],_0x5acfe0(0x324),_0x24a383[_0x5acfe0(0x22b)]),'fileName':_0x24a383['id'],'data':_0x24a383});}),{'insertCount':_0xf6958a[_0x4dfd14(0x4d2)]});}catch(_0x34b53a){return _0x34b53a;}finally{_0xf6958a=void 0x0;}}async[a0_0x32cdd8(0x614)](_0x491ebb){const _0x309edb=a0_0x32cdd8;try{if(this[_0x309edb(0x5b3)]['ENABLED'])return await this[_0x309edb(0x137)][_0x309edb(0x614)]({'owner':_0x491ebb['where']['owner']})['sort']({'lastmsg':-0x1})[_0x309edb(0x4f7)](_0x491ebb?.[_0x309edb(0x4f7)]??0x0)['lean']();let _0x46fe16=[],_0x398643=(0x0,ve[_0x309edb(0x4ba)])((0x0,xe['join'])(this[_0x309edb(0x1b6)],_0x309edb(0x324),_0x491ebb[_0x309edb(0x424)][_0x309edb(0x22b)]));for await(let _0x4a464c of _0x398643)_0x4a464c[_0x309edb(0x5d7)]()&&_0x46fe16['push'](JSON['parse']((0x0,ve[_0x309edb(0x1ad)])((0x0,xe['join'])(this['storePath'],'chats',_0x491ebb[_0x309edb(0x424)][_0x309edb(0x22b)],_0x4a464c['name']),{'encoding':_0x309edb(0x651)})));return _0x46fe16;}catch{return[];}}async[a0_0x32cdd8(0x411)](_0x2140e9){const _0x18c3eb=a0_0x32cdd8;try{return this[_0x18c3eb(0x5b3)][_0x18c3eb(0x391)]?await this[_0x18c3eb(0x137)]['deleteMany']({..._0x2140e9['where']}):((0x0,ve[_0x18c3eb(0x15b)])((0x0,xe['join'])(this['storePath'],_0x18c3eb(0x324),_0x2140e9['where'][_0x18c3eb(0x22b)],_0x2140e9[_0x18c3eb(0x424)]['id']+_0x18c3eb(0xc6)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x2140e9[_0x18c3eb(0x424)]['id']}});}catch(_0x2d05eb){return{'error':_0x2d05eb?.['toString']()};}}async[a0_0x32cdd8(0x506)](_0x4e3707){const _0x432172=a0_0x32cdd8;try{if(this['dbSettings']['ENABLED'])return await this[_0x432172(0x137)][_0x432172(0x506)]({'owner':_0x4e3707['where'][_0x432172(0x22b)]})[_0x432172(0x543)]();}catch{return null;}}async[a0_0x32cdd8(0x608)](_0x35d95c,_0x3a5002){const _0x3d38bb=a0_0x32cdd8;try{this[_0x3d38bb(0x5b3)][_0x3d38bb(0x391)]&&await this[_0x3d38bb(0x137)][_0x3d38bb(0x3ec)]({..._0x35d95c[_0x3d38bb(0x424)]},{'$set':_0x3a5002});}catch(_0x375b7d){console[_0x3d38bb(0x334)](_0x375b7d);}}async[a0_0x32cdd8(0x422)](_0x40ac75,_0x117166){const _0x4583ef=a0_0x32cdd8;try{if(this['dbSettings'][_0x4583ef(0x391)]){let _0x877d28=_0x40ac75[_0x4583ef(0x58e)]((_0x5637d7,_0x2e1dc3)=>({'updateOne':{'filter':{..._0x5637d7[_0x4583ef(0x424)]},'update':{'$set':_0x117166[_0x2e1dc3]}}}));await this[_0x4583ef(0x137)][_0x4583ef(0x64c)](_0x877d28);}}catch(_0x57413e){console[_0x4583ef(0x334)](_0x57413e);}}},Ft=class{constructor(_0xbbccbd){this['waMonitor']=_0xbbccbd;}async[a0_0x32cdd8(0xec)]({instanceName:_0xa69822},_0x3ce418){const _0x191d9f=a0_0x32cdd8;return await this[_0x191d9f(0x430)][_0x191d9f(0x24e)][_0xa69822]['editChat'](_0x3ce418);}async[a0_0x32cdd8(0x264)]({instanceName:_0x5c655f},_0x2c1cd4){const _0x5e4755=a0_0x32cdd8;return await this[_0x5e4755(0x430)][_0x5e4755(0x24e)][_0x5c655f][_0x5e4755(0x264)](_0x2c1cd4);}async[a0_0x32cdd8(0x65e)]({instanceName:_0x4f2e81},_0x2d21ac){const _0x201c09=a0_0x32cdd8;return await this[_0x201c09(0x430)][_0x201c09(0x24e)][_0x4f2e81]['markMessageAsRead'](_0x2d21ac);}async['archiveChat']({instanceName:_0x221647},_0x347f19){const _0x303680=a0_0x32cdd8;return await this[_0x303680(0x430)]['waInstances'][_0x221647][_0x303680(0x502)](_0x347f19);}async['deleteMessage']({instanceName:_0x301a55},_0xd2d879){const _0x5299e0=a0_0x32cdd8;return await this[_0x5299e0(0x430)]['waInstances'][_0x301a55][_0x5299e0(0x2d9)](_0xd2d879);}async[a0_0x32cdd8(0x631)]({instanceName:_0xe5f5d9},_0x72f19a){const _0x37d40e=a0_0x32cdd8;return await this['waMonitor'][_0x37d40e(0x24e)][_0xe5f5d9][_0x37d40e(0x5d2)](_0x72f19a[_0x37d40e(0x1fa)]);}async[a0_0x32cdd8(0x35d)]({instanceName:_0x13456d},_0x2525e2){const _0x45ed0a=a0_0x32cdd8;return await this[_0x45ed0a(0x430)][_0x45ed0a(0x24e)][_0x13456d][_0x45ed0a(0x35d)](_0x2525e2[_0x45ed0a(0x1fa)]);}async[a0_0x32cdd8(0x1ab)]({instanceName:_0x1a8108},_0x4d96a9){const _0xcb1d9f=a0_0x32cdd8;return await this[_0xcb1d9f(0x430)]['waInstances'][_0x1a8108][_0xcb1d9f(0x1ab)](_0x4d96a9);}async[a0_0x32cdd8(0x5db)]({instanceName:_0x2513fb},_0x540076){const _0x537e44=a0_0x32cdd8;return await this[_0x537e44(0x430)][_0x537e44(0x24e)][_0x2513fb][_0x537e44(0x5db)](_0x540076);}async[a0_0x32cdd8(0x3dd)]({instanceName:_0xea9514},_0x50ed){const _0x1f9839=a0_0x32cdd8;return await this[_0x1f9839(0x430)][_0x1f9839(0x24e)][_0xea9514]['getBase64FromMediaMessage'](_0x50ed);}async[a0_0x32cdd8(0x48d)]({instanceName:_0x3a3236},_0x4152d){const _0x7701ce=a0_0x32cdd8;return await this[_0x7701ce(0x430)][_0x7701ce(0x24e)][_0x3a3236][_0x7701ce(0x48d)](_0x4152d);}async[a0_0x32cdd8(0x23e)]({instanceName:_0x519ffc},_0x20491d){const _0x250d19=a0_0x32cdd8;return await this[_0x250d19(0x430)][_0x250d19(0x24e)][_0x519ffc]['fetchStatusMessage'](_0x20491d);}async[a0_0x32cdd8(0x205)]({instanceName:_0x2d6b98}){const _0x130736=a0_0x32cdd8;return await this['waMonitor'][_0x130736(0x24e)][_0x2d6b98]['fetchChats']();}async[a0_0x32cdd8(0x1a2)]({instanceName:_0x6cf82e}){const _0xf11360=a0_0x32cdd8;return await this[_0xf11360(0x430)][_0xf11360(0x24e)][_0x6cf82e][_0xf11360(0x1a2)]();}async[a0_0x32cdd8(0x4c3)]({instanceName:_0x265c64},_0x4c5e5c){const _0x3c7a78=a0_0x32cdd8;return await this[_0x3c7a78(0x430)][_0x3c7a78(0x24e)][_0x265c64][_0x3c7a78(0x4c3)](_0x4c5e5c);}async[a0_0x32cdd8(0x211)]({instanceName:_0x5621a4},_0x212c4d){const _0x707063=a0_0x32cdd8;return await this[_0x707063(0x430)][_0x707063(0x24e)][_0x5621a4][_0x707063(0x211)](_0x212c4d[_0x707063(0x1fa)]);}async[a0_0x32cdd8(0x677)]({instanceName:_0x17a565},_0x157d10){const _0x22aa05=a0_0x32cdd8;return await this[_0x22aa05(0x430)]['waInstances'][_0x17a565][_0x22aa05(0x677)](_0x157d10['name']);}async[a0_0x32cdd8(0x51e)]({instanceName:_0x11a83c},_0x44669c){const _0x449471=a0_0x32cdd8;return await this[_0x449471(0x430)]['waInstances'][_0x11a83c][_0x449471(0x51e)](_0x44669c[_0x449471(0x440)]);}async[a0_0x32cdd8(0x427)]({instanceName:_0xa00d80},_0x533362){const _0x1c6112=a0_0x32cdd8;return await this[_0x1c6112(0x430)][_0x1c6112(0x24e)][_0xa00d80][_0x1c6112(0x427)](_0x533362[_0x1c6112(0x65f)]);}async[a0_0x32cdd8(0x2ea)]({instanceName:_0x1ed765},_0x6f8568){const _0x5845e9=a0_0x32cdd8;return await this[_0x5845e9(0x430)][_0x5845e9(0x24e)][_0x1ed765][_0x5845e9(0x2ea)]();}},Ms=require(a0_0x32cdd8(0x470)),Gt=class c{constructor(_0x3c8ce4,_0x3ddbcf,_0x3e8a68,_0xa2c9df,_0x43fe71){const _0x2935cb=a0_0x32cdd8;this['waMonitor']=_0x3c8ce4,this[_0x2935cb(0x3d0)]=_0x3ddbcf,this[_0x2935cb(0x620)]=_0x3e8a68,this[_0x2935cb(0x308)]=_0xa2c9df,this[_0x2935cb(0x2ae)]=_0x43fe71,this['logger']=new C(c[_0x2935cb(0x127)]);}async[a0_0x32cdd8(0x13f)]({instanceName:_0x2f97d9,apikey:_0x4252a0}){const _0x5249e1=a0_0x32cdd8;let _0x20bd86=new Se(this[_0x5249e1(0x3d0)],this['eventEmitter'],this[_0x5249e1(0x620)]);_0x20bd86[_0x5249e1(0x128)]=_0x2f97d9,this[_0x5249e1(0x430)]['waInstances'][_0x20bd86['instanceName']]=_0x20bd86,this[_0x5249e1(0x430)][_0x5249e1(0x13c)](_0x20bd86['instanceName']);let _0x2adc03={};_0x4252a0?(await this[_0x5249e1(0x620)]['auth'][_0x5249e1(0x2c3)]({'apikey':_0x4252a0},_0x2f97d9),_0x2adc03[_0x5249e1(0x363)]=_0x4252a0):_0x2adc03=await this['authService'][_0x5249e1(0x579)]({'instanceName':_0x20bd86['instanceName']});let _0x25c86e;return await _0x20bd86['connectToWhatsapp'](),await(0x0,Ms['delay'])(0x7d0),_0x25c86e=_0x20bd86['qrCode'],{'instance':{'instanceName':_0x20bd86['instanceName'],'status':_0x5249e1(0x4a6)},'hash':_0x2adc03,'qrcode':_0x25c86e};}async[a0_0x32cdd8(0x340)]({instanceName:_0x41de2a}){const _0x3679fa=a0_0x32cdd8;try{let _0x32dfd3=this[_0x3679fa(0x430)][_0x3679fa(0x24e)][_0x41de2a];switch(_0x32dfd3['connectionStatus']?.['state']){case _0x3679fa(0x33c):return await _0x32dfd3[_0x3679fa(0x340)](),await(0x0,Ms[_0x3679fa(0x3a6)])(0x7d0),_0x32dfd3[_0x3679fa(0x255)];case _0x3679fa(0x117):return _0x32dfd3[_0x3679fa(0x255)];default:return await this[_0x3679fa(0x55b)]({'instanceName':_0x41de2a});}}catch(_0x41f85a){this[_0x3679fa(0x249)][_0x3679fa(0x55a)](_0x41f85a);}}async[a0_0x32cdd8(0x55b)]({instanceName:_0x375056}){const _0x4ca495=a0_0x32cdd8;let _0x24fdd9=this[_0x4ca495(0x430)]['waInstances'][_0x375056][_0x4ca495(0x626)],_0x5a43e5=null;_0x24fdd9['state']===_0x4ca495(0x4e8)&&_0x375056&&(_0x5a43e5=await this[_0x4ca495(0x430)][_0x4ca495(0x389)](_0x375056));let _0x53894f=null;return _0x24fdd9[_0x4ca495(0x4ca)]===_0x4ca495(0x117)&&_0x375056&&(_0x53894f=this[_0x4ca495(0x430)]['waInstances'][_0x375056][_0x4ca495(0x255)]),{'instance':_0x375056,'connectionStatus':_0x24fdd9,'instanceInfo':_0x5a43e5,'qrcode':_0x53894f};}async[a0_0x32cdd8(0x4f8)]({instanceName:_0x349183}){const _0x47e601=a0_0x32cdd8;try{return this[_0x47e601(0x430)][_0x47e601(0x24e)][_0x349183]?.[_0x47e601(0x63e)]?.['ws']?.[_0x47e601(0x33c)](),{'status':_0x47e601(0x5f5),'error':!0x1,'response':{'message':_0x47e601(0x55d)}};}catch(_0x47b02b){this[_0x47e601(0x249)][_0x47e601(0x334)](_0x47b02b);}}async['fetchInstances']({instanceName:_0xbad536}){const _0xd9c0f6=a0_0x32cdd8;return _0xbad536?this[_0xd9c0f6(0x430)]['instanceInfo'](_0xbad536):this['waMonitor']['instanceInfo']();}async['logout']({instanceName:_0x45ca9e}){const _0x390bd3=a0_0x32cdd8;try{return await this[_0x390bd3(0x430)][_0x390bd3(0x24e)][_0x45ca9e]?.[_0x390bd3(0x63e)]?.[_0x390bd3(0x3c7)](_0x390bd3(0x2a2)+_0x45ca9e),{'error':!0x1,'message':_0x390bd3(0x530)};}catch(_0x59c77f){throw new A(_0x59c77f[_0x390bd3(0x616)]());}}async[a0_0x32cdd8(0x58f)]({instanceName:_0x20c937}){const _0x36890e=a0_0x32cdd8;if((await this[_0x36890e(0x55b)]({'instanceName':_0x20c937}))[_0x36890e(0x626)][_0x36890e(0x4ca)]==='open')throw new g(['Deletion\x20failed',_0x36890e(0x5f8)]);try{return delete this[_0x36890e(0x430)][_0x36890e(0x24e)][_0x20c937],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2e0333){throw new g(_0x2e0333[_0x36890e(0x616)]());}}async[a0_0x32cdd8(0x366)](_0x1a1c98,_0x3a68bf){const _0x5c30a9=a0_0x32cdd8;return await this[_0x5c30a9(0x2ae)]['refreshToken'](_0x3a68bf);}},ae=require(a0_0x32cdd8(0x4d5)),Jt=class{constructor(_0x58b665){const _0x479b4d=a0_0x32cdd8;this[_0x479b4d(0x430)]=_0x58b665;}async[a0_0x32cdd8(0x32c)]({instanceName:_0x17775d},_0x2e846f){const _0xc822f=a0_0x32cdd8;return await this[_0xc822f(0x430)][_0xc822f(0x24e)][_0x17775d][_0xc822f(0x5ee)](_0x2e846f);}async[a0_0x32cdd8(0x122)]({instanceName:_0x23302b},_0xc0cbec){const _0xc129c4=a0_0x32cdd8;if((0x0,ae[_0xc129c4(0xdd)])(_0xc0cbec?.['mediaMessage']?.[_0xc129c4(0x3d2)])&&!_0xc0cbec?.['mediaMessage']?.['fileName'])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ae[_0xc129c4(0x4f6)])(_0xc0cbec?.['mediaMessage']?.[_0xc129c4(0x3d2)])||(0x0,ae[_0xc129c4(0xdd)])(_0xc0cbec?.[_0xc129c4(0x4c7)]?.[_0xc129c4(0x3d2)]))return await this[_0xc129c4(0x430)]['waInstances'][_0x23302b][_0xc129c4(0x4c7)](_0xc0cbec);throw new g(_0xc129c4(0x111));}async[a0_0x32cdd8(0x2b5)]({instanceName:_0x41d89a},_0x533935){const _0x2e9e30=a0_0x32cdd8;if((0x0,ae[_0x2e9e30(0x4f6)])(_0x533935[_0x2e9e30(0x220)]['image'])||(0x0,ae[_0x2e9e30(0xdd)])(_0x533935[_0x2e9e30(0x220)][_0x2e9e30(0x131)]))return await this['waMonitor'][_0x2e9e30(0x24e)][_0x41d89a][_0x2e9e30(0x295)](_0x533935);throw new g(_0x2e9e30(0x111));}async[a0_0x32cdd8(0x198)]({instanceName:_0x4b2116},_0x31268f){const _0x4e65c2=a0_0x32cdd8;if((0x0,ae['isURL'])(_0x31268f[_0x4e65c2(0x142)]['audio'])||(0x0,ae['isBase64'])(_0x31268f[_0x4e65c2(0x142)]['audio']))return await this[_0x4e65c2(0x430)][_0x4e65c2(0x24e)][_0x4b2116][_0x4e65c2(0x5e2)](_0x31268f);throw new g(_0x4e65c2(0x111));}async[a0_0x32cdd8(0x66a)]({instanceName:_0x5acb6a},_0x46670e){const _0x131586=a0_0x32cdd8;if((0x0,ae['isBase64'])(_0x46670e[_0x131586(0x65d)][_0x131586(0x4c7)]?.[_0x131586(0x3d2)])&&!_0x46670e['buttonMessage'][_0x131586(0x4c7)]?.[_0x131586(0x469)])throw new g(_0x131586(0x29a));return await this['waMonitor'][_0x131586(0x24e)][_0x5acb6a][_0x131586(0x65d)](_0x46670e);}async[a0_0x32cdd8(0x68c)]({instanceName:_0xee3044},_0x319342){const _0x21ed26=a0_0x32cdd8;return await this[_0x21ed26(0x430)][_0x21ed26(0x24e)][_0xee3044][_0x21ed26(0x221)](_0x319342);}async[a0_0x32cdd8(0x3fc)]({instanceName:_0x4ecf3d},_0x3b14e1){const _0x5edca1=a0_0x32cdd8;return await this[_0x5edca1(0x430)][_0x5edca1(0x24e)][_0x4ecf3d]['pollMessage'](_0x3b14e1);}async['sendList']({instanceName:_0x252f4b},_0x5a20ef){const _0x297515=a0_0x32cdd8;return await this[_0x297515(0x430)][_0x297515(0x24e)][_0x252f4b][_0x297515(0xde)](_0x5a20ef);}async[a0_0x32cdd8(0x61c)]({instanceName:_0x185c27},_0x1d729d){const _0x2768e8=a0_0x32cdd8;return await this[_0x2768e8(0x430)][_0x2768e8(0x24e)][_0x185c27][_0x2768e8(0x5d8)](_0x1d729d);}async[a0_0x32cdd8(0x3ee)]({instanceName:_0x2621ab},_0x3b9a04){const _0x45d3a7=a0_0x32cdd8;if(!_0x3b9a04[_0x45d3a7(0x1a5)][_0x45d3a7(0x673)][_0x45d3a7(0x1db)](/[^\(\)\w\s-"-\+]+/))throw new g('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor']['waInstances'][_0x2621ab][_0x45d3a7(0x1a5)](_0x3b9a04);}async[a0_0x32cdd8(0x174)]({instanceName:_0x2ab1f4},_0x156a89){const _0x2b317f=a0_0x32cdd8;return await this[_0x2b317f(0x430)]['waInstances'][_0x2ab1f4][_0x2b317f(0x1cc)](_0x156a89);}},qt=class{constructor(_0x1a6529){this['waMonitor']=_0x1a6529;}async[a0_0x32cdd8(0x697)](_0x22a016,_0xb01923){const _0x1be8e7=a0_0x32cdd8;return await this[_0x1be8e7(0x430)]['waInstances'][_0x22a016[_0x1be8e7(0x128)]][_0x1be8e7(0x697)](_0xb01923);}async[a0_0x32cdd8(0x5ab)](_0x493bb5,_0x3f2d72){const _0x19f3ed=a0_0x32cdd8;return await this['waMonitor'][_0x19f3ed(0x24e)][_0x493bb5[_0x19f3ed(0x128)]][_0x19f3ed(0x5ab)](_0x3f2d72);}async[a0_0x32cdd8(0x104)](_0x41ad35,_0x48d0bf){const _0x5b2353=a0_0x32cdd8;return await this[_0x5b2353(0x430)]['waInstances'][_0x41ad35[_0x5b2353(0x128)]][_0x5b2353(0x104)](_0x48d0bf);}async['groupName'](_0x2e52f1,_0x228d9c){const _0x1cf0f8=a0_0x32cdd8;return await this[_0x1cf0f8(0x430)]['waInstances'][_0x2e52f1[_0x1cf0f8(0x128)]][_0x1cf0f8(0xcf)](_0x228d9c);}async[a0_0x32cdd8(0x573)](_0x50f69b,_0x142132){const _0x3a7267=a0_0x32cdd8;return await this['waMonitor']['waInstances'][_0x50f69b[_0x3a7267(0x128)]]['groupSetting'](_0x142132);}async[a0_0x32cdd8(0x6a1)](_0x4db39b,_0xc056b8){const _0x1050b0=a0_0x32cdd8;return await this[_0x1050b0(0x430)]['waInstances'][_0x4db39b[_0x1050b0(0x128)]][_0x1050b0(0x60e)](_0xc056b8);}async['findGroups'](_0x4485ad){const _0x2526ca=a0_0x32cdd8;return await this['waMonitor'][_0x2526ca(0x24e)][_0x4485ad[_0x2526ca(0x128)]]['findGroups']();}async[a0_0x32cdd8(0x369)](_0x37aefe,_0x5efd42){const _0x5f23a8=a0_0x32cdd8;return await this[_0x5f23a8(0x430)][_0x5f23a8(0x24e)][_0x37aefe[_0x5f23a8(0x128)]]['inviteCode'](_0x5efd42);}async[a0_0x32cdd8(0x1a4)](_0x58663f,_0x45a6ef){const _0x4ab6fa=a0_0x32cdd8;return await this['waMonitor'][_0x4ab6fa(0x24e)][_0x58663f[_0x4ab6fa(0x128)]][_0x4ab6fa(0x1a4)](_0x45a6ef);}async[a0_0x32cdd8(0x34f)](_0x274a3a,_0x1172c0){const _0x3dace2=a0_0x32cdd8;return await this[_0x3dace2(0x430)][_0x3dace2(0x24e)][_0x274a3a[_0x3dace2(0x128)]][_0x3dace2(0x34f)](_0x1172c0);}async['findParticipants'](_0x3d7f0c,_0x1f56c8){const _0x46dd99=a0_0x32cdd8;return await this[_0x46dd99(0x430)][_0x46dd99(0x24e)][_0x3d7f0c['instanceName']][_0x46dd99(0x43d)](_0x1f56c8);}async[a0_0x32cdd8(0x4ac)](_0x234fe2,_0xa21cbe){const _0x11a353=a0_0x32cdd8;return await this[_0x11a353(0x430)][_0x11a353(0x24e)][_0x234fe2[_0x11a353(0x128)]]['updateGParticipant'](_0xa21cbe);}async[a0_0x32cdd8(0x547)](_0x54fb8a,_0x4e5c43){const _0x18b1bc=a0_0x32cdd8;return await this[_0x18b1bc(0x430)][_0x18b1bc(0x24e)][_0x54fb8a['instanceName']][_0x18b1bc(0x547)](_0x4e5c43);}async['leaveGroup'](_0x2bbec4,_0x2f625c){const _0x35ee8f=a0_0x32cdd8;return await this[_0x35ee8f(0x430)][_0x35ee8f(0x24e)][_0x2bbec4[_0x35ee8f(0x128)]][_0x35ee8f(0x57d)](_0x2f625c);}},Wt=class{constructor(_0x3dc931,_0x48c7be){const _0x3fad69=a0_0x32cdd8;this[_0x3fad69(0x192)]=_0x3dc931,this[_0x3fad69(0x3d0)]=_0x48c7be;}async[a0_0x32cdd8(0x1c8)](_0x4897b8,_0x10242f){const _0x421a5c=a0_0x32cdd8;try{let _0x294c4f=_0x4897b8['params'];if(this[_0x421a5c(0x192)]['waInstances'][_0x294c4f[_0x421a5c(0x128)]]['connectionStatus'][_0x421a5c(0x4ca)]==='open')throw new g('The\x20instance\x20is\x20already\x20connected');let _0x3dc2db=this[_0x421a5c(0x3d0)][_0x421a5c(0x43a)](_0x421a5c(0x4f2))[_0x421a5c(0x611)];return _0x10242f[_0x421a5c(0x440)](0xc8)[_0x421a5c(0x236)](_0x421a5c(0x1c8),{'type':_0x3dc2db,..._0x294c4f});}catch(_0x47d211){console[_0x421a5c(0x55a)](_0x421a5c(0x5fa),_0x47d211);}}},Ht=class{constructor(_0x1160f0){this['waMonitor']=_0x1160f0;}[a0_0x32cdd8(0x2c3)](_0x1b63d3,_0x154694){const _0x3d9202=a0_0x32cdd8;return this[_0x3d9202(0x430)][_0x3d9202(0x24e)][_0x1b63d3['instanceName']][_0x3d9202(0x659)](_0x154694);}async[a0_0x32cdd8(0x614)](_0x1d83ea){const _0x58eb64=a0_0x32cdd8;try{return await this[_0x58eb64(0x430)][_0x58eb64(0x24e)][_0x1d83ea[_0x58eb64(0x128)]][_0x58eb64(0x3fd)]();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x32cdd8(0x42a)),Kt=class{constructor(_0x36c29a){const _0x3122e1=a0_0x32cdd8;this[_0x3122e1(0x430)]=_0x36c29a;}async[a0_0x32cdd8(0x65c)](_0x36e437,_0x4bcbb8){const _0x285cdf=a0_0x32cdd8;return await this['waMonitor'][_0x285cdf(0x24e)][_0x36e437[_0x285cdf(0x128)]][_0x285cdf(0x65c)](_0x4bcbb8);}async[a0_0x32cdd8(0x428)](_0x10daa6){const _0x8282ec=a0_0x32cdd8;return await this['waMonitor'][_0x8282ec(0x24e)][_0x10daa6['instanceName']][_0x8282ec(0x428)]();}async[a0_0x32cdd8(0x2a7)](_0x4b320c){const _0x12b711=a0_0x32cdd8;return await this[_0x12b711(0x430)][_0x12b711(0x24e)][_0x4b320c[_0x12b711(0x128)]]['deleteDoneMessages']();}async[a0_0x32cdd8(0x2b7)](_0x356d0b){const _0x18d9cd=a0_0x32cdd8;return await this[_0x18d9cd(0x430)][_0x18d9cd(0x24e)][_0x356d0b[_0x18d9cd(0x128)]][_0x18d9cd(0x2b7)]();}async[a0_0x32cdd8(0x4de)](_0x40c307,_0x149583){const _0x27783f=a0_0x32cdd8;return await this[_0x27783f(0x430)][_0x27783f(0x24e)][_0x40c307[_0x27783f(0x128)]][_0x27783f(0x4de)](_0x149583);}async[a0_0x32cdd8(0x48a)](_0xad7873,_0x3b1f87){const _0x18d1dd=a0_0x32cdd8;return await this[_0x18d1dd(0x430)][_0x18d1dd(0x24e)][_0xad7873['instanceName']][_0x18d1dd(0x48a)](_0x3b1f87);}async[a0_0x32cdd8(0x5ce)](_0x7b18e9,_0xca5a57){const _0x372480=a0_0x32cdd8;return await this['waMonitor']['waInstances'][_0x7b18e9[_0x372480(0x128)]]['updateFlowConfig'](_0xca5a57);}async['startFlow'](_0xdedaa6,_0x20fa6b){const _0x27aaec=a0_0x32cdd8;return await this[_0x27aaec(0x430)]['waInstances'][_0xdedaa6[_0x27aaec(0x128)]][_0x27aaec(0x166)](_0x20fa6b);}async[a0_0x32cdd8(0x1ec)](_0x512e02,_0x3c8964){const _0x40bb46=a0_0x32cdd8;return await this[_0x40bb46(0x430)][_0x40bb46(0x24e)][_0x512e02[_0x40bb46(0x128)]][_0x40bb46(0x1ec)](_0x3c8964);}async['fetchConversation'](_0x55d53a,_0x22a256){const _0x1868cf=a0_0x32cdd8;return await this['waMonitor'][_0x1868cf(0x24e)][_0x55d53a['instanceName']][_0x1868cf(0x3b4)](_0x22a256);}async['editConversation'](_0x1300e4,_0x594323){const _0x4f2912=a0_0x32cdd8;return await this[_0x4f2912(0x430)][_0x4f2912(0x24e)][_0x1300e4[_0x4f2912(0x128)]][_0x4f2912(0x553)](_0x594323);}async[a0_0x32cdd8(0x2e0)](_0x485265,_0x4c3702){const _0x13b2f2=a0_0x32cdd8;return await this[_0x13b2f2(0x430)]['waInstances'][_0x485265[_0x13b2f2(0x128)]][_0x13b2f2(0x2e0)](_0x4c3702);}async[a0_0x32cdd8(0x50a)](_0x28240b,_0x5166f2){const _0x12c750=a0_0x32cdd8;return await this['waMonitor'][_0x12c750(0x24e)][_0x28240b[_0x12c750(0x128)]][_0x12c750(0x50a)](_0x5166f2['name']);}async[a0_0x32cdd8(0x4e0)](_0x3e1843,_0x5b3af2){const _0x23fb94=a0_0x32cdd8;return await this[_0x23fb94(0x430)]['waInstances'][_0x3e1843['instanceName']][_0x23fb94(0x4e0)](_0x5b3af2);}async[a0_0x32cdd8(0x357)](_0x50f15d,_0x1b213f){const _0x41de23=a0_0x32cdd8;return await this[_0x41de23(0x430)][_0x41de23(0x24e)][_0x50f15d[_0x41de23(0x128)]]['editFlow'](_0x1b213f);}async[a0_0x32cdd8(0x3df)](_0x47bb85,_0x3cc676){const _0x19fb4e=a0_0x32cdd8;return await this[_0x19fb4e(0x430)][_0x19fb4e(0x24e)][_0x47bb85['instanceName']][_0x19fb4e(0x3df)](_0x3cc676);}async[a0_0x32cdd8(0x336)](_0x7c6830,_0xc1b906){const _0x5b9072=a0_0x32cdd8;return await this[_0x5b9072(0x430)]['waInstances'][_0x7c6830['instanceName']]['editFlowReply'](_0xc1b906);}async[a0_0x32cdd8(0x54a)](_0x28469c,_0x481f36){const _0x44bc99=a0_0x32cdd8;return await this['waMonitor']['waInstances'][_0x28469c[_0x44bc99(0x128)]]['editFlowGroup'](_0x481f36);}async[a0_0x32cdd8(0xff)](_0xab2a36,_0x40afad){const _0x4d748c=a0_0x32cdd8;return await this[_0x4d748c(0x430)][_0x4d748c(0x24e)][_0xab2a36[_0x4d748c(0x128)]][_0x4d748c(0xff)](_0x40afad);}async['editFlowVaredit'](_0x52e499,_0x1620f9){return await this['waMonitor']['waInstances'][_0x52e499['instanceName']]['editFlowVaredit'](_0x1620f9);}async['editFlowVariable'](_0x34055a,_0x5e4b64){const _0x33bc3f=a0_0x32cdd8;return await this[_0x33bc3f(0x430)][_0x33bc3f(0x24e)][_0x34055a[_0x33bc3f(0x128)]][_0x33bc3f(0x352)](_0x5e4b64);}async['deleteFlow'](_0x1e4bd7,_0x237860){const _0x2e7514=a0_0x32cdd8;return await this[_0x2e7514(0x430)][_0x2e7514(0x24e)][_0x1e4bd7[_0x2e7514(0x128)]][_0x2e7514(0xfe)](_0x237860['name']);}async[a0_0x32cdd8(0x550)](_0x2152b1){const _0x38d386=a0_0x32cdd8;return await this[_0x38d386(0x430)][_0x38d386(0x24e)][_0x2152b1[_0x38d386(0x128)]][_0x38d386(0x550)]();}},zt=class{constructor(_0xf8d922){const _0x594e13=a0_0x32cdd8;this[_0x594e13(0x2c1)]=_0xf8d922;}async['createWebhook'](_0x18388e,_0x557492){const _0x467990=a0_0x32cdd8;return this[_0x467990(0x2c1)][_0x467990(0x2c3)](_0x18388e,_0x557492);}async[a0_0x32cdd8(0x3fd)](_0x30d908){const _0x28e607=a0_0x32cdd8;return this[_0x28e607(0x2c1)][_0x28e607(0x614)](_0x30d908);}},Qt=class{constructor(_0x531c0,_0x5594d5,_0xf8cfc7,_0x56fd39,_0xf6e55a,_0x385afe,_0x24236f){const _0x1b4585=a0_0x32cdd8;this[_0x1b4585(0xd5)]=_0x531c0,this['chat']=_0x5594d5,this['contact']=_0xf8cfc7,this[_0x1b4585(0x59d)]=_0x56fd39,this[_0x1b4585(0x60d)]=_0xf6e55a,this[_0x1b4585(0x52c)]=_0x385afe,this[_0x1b4585(0x30c)]=_0x24236f;}get[a0_0x32cdd8(0x260)](){const _0x1926be=a0_0x32cdd8;return this[_0x1926be(0x30c)];}},Is=require(a0_0x32cdd8(0x432)),Rs=class{},gi=new Is['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x32cdd8(0x663),a0_0x32cdd8(0x586),a0_0x32cdd8(0x388)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),fo=M?.[a0_0x32cdd8(0x258)](Rs[a0_0x32cdd8(0x127)],gi,'messages'),As=class{},mi=new Is['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),wo=M?.['model'](As[a0_0x32cdd8(0x127)],mi,'messageUpdate'),yo=require(a0_0x32cdd8(0x432)),Ds=class{},hi=new yo[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),bo=M?.[a0_0x32cdd8(0x258)](Ds[a0_0x32cdd8(0x127)],hi,a0_0x32cdd8(0x4ef)),So=require(a0_0x32cdd8(0x432)),Ps=class{},Eo=new So[(a0_0x32cdd8(0x2a3))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Eo[a0_0x32cdd8(0x1dd)](a0_0x32cdd8(0x604),function(_0x47af9e){const _0x57ae9a=a0_0x32cdd8;delete this[_0x57ae9a(0x234)],delete this[_0x57ae9a(0x417)],delete this[_0x57ae9a(0x29b)],delete this[_0x57ae9a(0x14a)],delete this['flowStopMinutes'],_0x47af9e();});var vo=M?.['model'](Ps['name'],Eo,'webhook'),Os=require(a0_0x32cdd8(0x2f4)),No=require('fs'),Yt=class extends B{constructor(_0x2bcad0,_0x803a45){const _0x3ca3fd=a0_0x32cdd8;super(_0x803a45),this[_0x3ca3fd(0x4bb)]=_0x2bcad0,this[_0x3ca3fd(0x3d0)]=_0x803a45;}async[a0_0x32cdd8(0x2c3)](_0x3ef2d1,_0x3a88ae){const _0x31c79e=a0_0x32cdd8;try{return this[_0x31c79e(0x5b3)][_0x31c79e(0x391)]?{'insertCount':(await this['webhookModel'][_0x31c79e(0x414)]({'_id':_0x3a88ae},{..._0x3ef2d1},{'upsert':!0x0}))[_0x31c79e(0x69e)]}:(this[_0x31c79e(0x158)]({'path':(0x0,Os[_0x31c79e(0x2d3)])(this[_0x31c79e(0x1b6)],_0x31c79e(0x60d)),'fileName':_0x3a88ae,'data':_0x3ef2d1}),{'insertCount':0x1});}catch(_0x168cf5){return _0x168cf5;}}async[a0_0x32cdd8(0x614)](_0xd98793){const _0x39f952=a0_0x32cdd8;try{return this[_0x39f952(0x5b3)][_0x39f952(0x391)]?await this[_0x39f952(0x4bb)][_0x39f952(0x506)]({'_id':_0xd98793}):JSON[_0x39f952(0x49b)]((0x0,No['readFileSync'])((0x0,Os[_0x39f952(0x2d3)])(this[_0x39f952(0x1b6)],_0x39f952(0x60d),_0xd98793+'.json'),{'encoding':_0x39f952(0x651)}));}catch{return{};}}},_s=require(a0_0x32cdd8(0x2f4)),Co=require('fs'),Xt=class extends B{constructor(_0xc649e7,_0x5a86c4){const _0x5731df=a0_0x32cdd8;super(_0x5a86c4),this[_0x5731df(0x10a)]=_0xc649e7,this[_0x5731df(0x3d0)]=_0x5a86c4,this['auth']=_0x5a86c4[_0x5731df(0x43a)](_0x5731df(0x4f2));}async['create'](_0x126af2,_0x33200f){const _0x4b3319=a0_0x32cdd8;try{return this['dbSettings'][_0x4b3319(0x391)]?{'insertCount':(await this[_0x4b3319(0x10a)][_0x4b3319(0x414)]({'_id':_0x33200f},{..._0x126af2},{'upsert':!0x0}))[_0x4b3319(0x69e)]}:(this[_0x4b3319(0x158)]({'path':(0x0,_s['join'])(es,this[_0x4b3319(0x52c)][_0x4b3319(0x611)]),'fileName':_0x33200f,'data':_0x126af2}),{'insertCount':0x1});}catch(_0x23a820){return{'error':_0x23a820};}}async[a0_0x32cdd8(0x614)](_0x5c82e6){const _0x21a81b=a0_0x32cdd8;try{return this['dbSettings'][_0x21a81b(0x391)]?await this[_0x21a81b(0x10a)]['findOne']({'_id':_0x5c82e6}):JSON[_0x21a81b(0x49b)]((0x0,Co[_0x21a81b(0x1ad)])((0x0,_s['join'])(es,this[_0x21a81b(0x52c)]['TYPE'],_0x5c82e6+_0x21a81b(0x30a)),{'encoding':_0x21a81b(0x651)}));}catch{return{};}}},fi=new C(a0_0x32cdd8(0x303)),wi=new je(fo,y),yi=new Bt(D,y),bi=new et(Fe,y),Si=new at(wo,y),Ei=new Yt(vo,y),vi=new Xt(bo,y),de=new Qt(wi,yi,bi,Si,Ei,vi,M?.[a0_0x32cdd8(0x213)]()),F=new jt(os,y,de),Ni=new ht(y,F,de),Ci=new Ht(F),Ss=new zt(Ci),R=new Kt(F),ce=new Gt(F,y,de,os,Ni),to=new Wt(F,y),K=new Jt(F),P=new Ft(F),V=new qt(F);fi[a0_0x32cdd8(0x596)]('Module\x20-\x20ON');var Sp=require('express-async-errors'),xs=require('fs'),To=T(require(a0_0x32cdd8(0x655))),Mo=T(require(a0_0x32cdd8(0x571))),$e=class c{static #e;static set[a0_0x32cdd8(0x41c)](_0x5d62bf){this.#e=_0x5d62bf;}static get['https'](){const _0x3c379a=a0_0x32cdd8;let {FULLCHAIN:_0x41e0a3,PRIVKEY:_0x18b462}=y['get'](_0x3c379a(0x619));return To[_0x3c379a(0x37a)]({'cert':(0x0,xs[_0x3c379a(0x1ad)])(_0x41e0a3),'key':(0x0,xs[_0x3c379a(0x1ad)])(_0x18b462)},c.#e);}static get['http'](){const _0x41ff15=a0_0x32cdd8;return Mo[_0x41ff15(0x37a)](c.#e);}},ke=T(require('fs')),_o=T(require('ini')),Le=T(require('axios')),Zt=T(require(a0_0x32cdd8(0x2f4))),xo=require(a0_0x32cdd8(0x390)),Vs=require(a0_0x32cdd8(0x390));function Ti(){const _0x2a24cd=a0_0x32cdd8;F[_0x2a24cd(0xce)]();let _0x5d079e=Zt[_0x2a24cd(0x3eb)][_0x2a24cd(0x2d3)](__dirname,'downloads');Oo(_0x5d079e);}var Oo=_0x3ea533=>{const _0x3bb142=a0_0x32cdd8;let _0x38e784=ke[_0x3bb142(0x3eb)][_0x3bb142(0x5f2)](_0x3ea533),_0x1934aa=0xc*0x3c*0x3c*0x3e8,_0x22ec2e=0x2*0x3c*0x3c*0x3e8,_0x41bc9c=new Date()[_0x3bb142(0x2eb)]();_0x38e784[_0x3bb142(0x5dd)](_0x231a36=>{const _0x593b30=_0x3bb142;let _0x4691a7=Zt['default'][_0x593b30(0x2d3)](_0x3ea533,_0x231a36),_0x5b3c2a=ke[_0x593b30(0x3eb)][_0x593b30(0x5cf)](_0x4691a7)[_0x593b30(0x4a4)][_0x593b30(0x2eb)]();_0x41bc9c-_0x5b3c2a>_0x1934aa&&(ke['default'][_0x593b30(0x477)](_0x4691a7),console[_0x593b30(0x55a)](_0x593b30(0x1d1)+_0x231a36));}),setTimeout(()=>Oo(_0x3ea533),_0x22ec2e);};function Mi(){const _0x423f45=a0_0x32cdd8;let _0x1cbad6=new C(_0x423f45(0x387)),_0x1b7122=(0x0,me[_0x423f45(0x3eb)])();_0x1b7122[_0x423f45(0x1e1)]((0x0,Po[_0x423f45(0x3eb)])({'origin'(_0x28d865,_0x27ccbe){const _0x53a676=_0x423f45;let {ORIGIN:_0x505134}=y[_0x53a676(0x43a)]('CORS');return _0x28d865||(_0x28d865='*'),_0x505134[_0x53a676(0x480)]('*')!==-0x1||_0x505134[_0x53a676(0x480)](_0x28d865)!==-0x1?_0x27ccbe(null,!0x0):_0x27ccbe(new Error(_0x53a676(0x39c)));},'methods':[...y[_0x423f45(0x43a)](_0x423f45(0x539))[_0x423f45(0x216)]],'credentials':y['get'](_0x423f45(0x539))[_0x423f45(0x3bc)]}),(0x0,me[_0x423f45(0x203)])({'extended':!0x0,'limit':_0x423f45(0x1b2)}),(0x0,me[_0x423f45(0x3e5)])({'limit':_0x423f45(0x1b2)})),_0x1b7122[_0x423f45(0x1e1)]((_0x17ad79,_0x354777,_0x223fd0)=>{const _0x50ad75=_0x423f45;_0x17ad79[_0x50ad75(0x2f4)]['startsWith']('/events')?_0x223fd0():(0x0,Do['default'])()(_0x17ad79,_0x354777,_0x223fd0);}),_0x1b7122[_0x423f45(0x299)](_0x423f45(0x2d6),_0x423f45(0x691)),_0x1b7122['set'](_0x423f45(0x44d),(0x0,ks[_0x423f45(0x2d3)])(Y,_0x423f45(0x44d))),_0x1b7122[_0x423f45(0x1e1)](me[_0x423f45(0x3eb)][_0x423f45(0x1ca)]((0x0,ks[_0x423f45(0x2d3)])(Y,'public'))),_0x1b7122['use']((_0x1bd8c6,_0x3bd985,_0x3b6f46)=>{const _0x35403d=_0x423f45;let _0x392699=_0x3bd985[_0x35403d(0x1e2)];_0x3bd985['send']=function(_0x14d2af){const _0x487d79=_0x35403d;if(_0x1bd8c6[_0x487d79(0xc8)][_0x487d79(0x4df)]===_0x487d79(0x1b4)||_0x1bd8c6[_0x487d79(0x2b8)][_0x487d79(0x5b8)]===_0x487d79(0x1b4)){let _0x27c46a=JSON[_0x487d79(0x49b)](_0x14d2af);_0x14d2af=JSON[_0x487d79(0x679)](_0x33dff0(_0x27c46a));}return _0x392699[_0x487d79(0x164)](_0x3bd985,[_0x14d2af]);},_0x3b6f46();}),_0x1b7122[_0x423f45(0x1e1)]('/',Ot),_0x1b7122['use']((_0x568d76,_0x56d1ea,_0x130ee8,_0x5715ea)=>{const _0x4b835c=_0x423f45;if(_0x568d76)return _0x130ee8['status'](_0x568d76[_0x4b835c(0x440)]||0x1f4)[_0x4b835c(0x3e5)](_0x568d76);},(_0xca9e7c,_0x2c7f4d,_0x105fd7)=>{const _0x4392b6=_0x423f45;let {method:_0x4f688b,url:_0x5975f6}=_0xca9e7c;_0x2c7f4d[_0x4392b6(0x440)](0x194)[_0x4392b6(0x3e5)]({'status':0x194,'message':'Cannot\x20'+_0x4f688b['toUpperCase']()+'\x20'+_0x5975f6,'error':_0x4392b6(0x59f)}),_0x105fd7();});let _0x33dff0=(_0x460cbf,_0x59735c=_0x423f45(0x3e4))=>{const _0x4534c7=_0x423f45;let _0x45aa77=(_0x50641a,_0x185d2c=null,_0x1138fe=!0x1)=>{const _0x391415=a0_0x282e;let _0x520640={};return Object[_0x391415(0x3d7)](_0x50641a)[_0x391415(0x5dd)](_0x13b46a=>{const _0x38f832=_0x391415;let _0x45c2ce=_0x50641a[_0x13b46a],_0x478c25=''+_0x59735c+_0x13b46a;_0x185d2c&&!_0x1138fe&&(_0x478c25=_0x185d2c+'.'+_0x13b46a),!_0x45c2ce&&_0x45c2ce!==0x0&&_0x45c2ce!==!0x1||typeof _0x45c2ce>'u'?_0x520640[_0x478c25]=null:typeof _0x45c2ce!='object'&&!Array[_0x38f832(0xfc)](_0x45c2ce)?_0x520640[_0x478c25]=_0x45c2ce:typeof _0x45c2ce=='object'&&!Array['isArray'](_0x45c2ce)?_0x520640=Object['assign'](_0x520640,_0x45aa77(_0x45c2ce,_0x478c25)):Array['isArray'](_0x45c2ce)&&(typeof _0x45c2ce[0x0]==_0x38f832(0x359)?(_0x520640[_0x478c25]=[],_0x45c2ce['forEach'](_0x1faf42=>{const _0xc176de=_0x38f832;_0x520640[_0x478c25][_0xc176de(0x58a)](_0x45aa77(_0x1faf42,_0x478c25,!0x0));})):_0x520640[_0x478c25]=_0x45c2ce);}),_0x520640;};return Array[_0x4534c7(0xfc)](_0x460cbf)?_0x460cbf[_0x4534c7(0x58e)](_0x371837=>_0x45aa77(_0x371837)):typeof _0x460cbf==_0x4534c7(0x359)&&_0x460cbf!==null?_0x45aa77(_0x460cbf):{};},_0x1ff560=y[_0x423f45(0x43a)]('SERVER');$e[_0x423f45(0x41c)]=_0x1b7122;let _0x577341=$e[_0x1ff560[_0x423f45(0x611)]],_0xb2911=_0x423f45(0x561);_0x577341['listen'](_0x1ff560[_0x423f45(0x20a)],()=>{const _0x5a958d=_0x423f45;_0x1cbad6[_0x5a958d(0x55a)](_0xb2911),_0x1cbad6[_0x5a958d(0x55a)](_0x1ff560[_0x5a958d(0x611)][_0x5a958d(0x1cb)]()+_0x5a958d(0x378)+_0x1ff560[_0x5a958d(0x20a)]);}),Ti(),Qs();}function Ls(_0x13763f,_0x506c00){return new Promise(_0x31e581=>{const _0x222571=a0_0x282e;(0x0,xo[_0x222571(0x41d)])(_0x13763f+'\x20'+_0x506c00,_0x515f8b=>{_0x31e581(!_0x515f8b);});});}function Ro(_0x2da182,_0x4834c8,_0x352d04){return new Promise(_0x4cac9a=>{Ls(_0x2da182,_0x352d04)['then'](_0x37fb11=>{const _0x542f75=a0_0x282e;if(_0x37fb11)_0x4cac9a(!0x0);else{let [_0x52fe6d,..._0x50a854]=_0x4834c8[_0x542f75(0x5af)]('\x20'),_0x439775=(0x0,Vs[_0x542f75(0x3c2)])(_0x52fe6d,_0x50a854,{'shell':!0x0});_0x439775[_0x542f75(0x34c)]['on']('data',_0x1126ab=>{const _0x4242db=_0x542f75;console[_0x4242db(0x55a)](_0x2da182+'\x20install\x20output:\x20'+_0x1126ab);}),_0x439775[_0x542f75(0xd7)]['on'](_0x542f75(0x212),_0x27573c=>{const _0x5ab0ba=_0x542f75;console[_0x5ab0ba(0x334)](_0x2da182+'\x20install\x20error:\x20'+_0x27573c);}),_0x439775['on'](_0x542f75(0x18e),_0x52188b=>{const _0x563479=_0x542f75;_0x52188b!==0x0?(console['error'](_0x563479(0x288)+_0x2da182+_0x563479(0x5c8)+_0x52188b),_0x4cac9a(!0x1)):_0x4cac9a(!0x0);});}});});}var Ri=a0_0x32cdd8(0x2e3),Ai=Zt[a0_0x32cdd8(0x3eb)]['join'](__dirname,'./.git/config'),Ne=null;function Ii(){return new Promise((_0x43abb2,_0x2bd269)=>{const _0x5d4725=a0_0x282e;ke[_0x5d4725(0x3eb)][_0x5d4725(0xbb)](Ai,_0x5d4725(0x651),(_0x3562da,_0x5285e1)=>{const _0x3b8bf8=_0x5d4725;if(_0x3562da){Ne=_0x3562da,_0x43abb2();return;}_o[_0x3b8bf8(0x3eb)][_0x3b8bf8(0x49b)](_0x5285e1)[_0x3b8bf8(0x570)]['url']===Ri?(Ne=null,_0x43abb2()):(Ne=new Error(_0x3b8bf8(0x3e7)),_0x43abb2());});});}function a0_0x282e(_0x377cec,_0x5aeb88){const _0x1f987a=a0_0x1f98();return a0_0x282e=function(_0x282eb5,_0x19c2af){_0x282eb5=_0x282eb5-0xba;let _0x291778=_0x1f987a[_0x282eb5];return _0x291778;},a0_0x282e(_0x377cec,_0x5aeb88);}async function Di(){const _0x1fc966=a0_0x32cdd8;try{await Ii(),await Us();}catch(_0x3ea976){console[_0x1fc966(0x334)]('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x3ea976),process[_0x1fc966(0x18e)](0x1);}}Di();async function $o(){const _0x576300=a0_0x32cdd8;let _0x5a2bef;try{_0x5a2bef=(await Le[_0x576300(0x3eb)][_0x576300(0x43a)](_0x576300(0xf2)))[_0x576300(0x212)]['ip'];}catch(_0x56f3f2){console[_0x576300(0x334)](_0x56f3f2);try{_0x5a2bef=(await Le[_0x576300(0x3eb)][_0x576300(0x43a)](_0x576300(0x4f9)))[_0x576300(0x212)]['ip'];}catch(_0x3f5b17){console[_0x576300(0x334)](_0x3f5b17);try{_0x5a2bef=(await Le[_0x576300(0x3eb)][_0x576300(0x43a)](_0x576300(0x5ac)))['data'][_0x576300(0x1db)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x508da7){return console[_0x576300(0x334)](_0x508da7),!0x1;}}}return _0x5a2bef;}async function Pi(){const _0x2f61fd=a0_0x32cdd8;Ne||(await Ro('redis-server','sudo\x20apt\x20install\x20-y\x20redis-server','--version'),await Ro(_0x2f61fd(0x3b7),'sudo\x20apt\x20install\x20-y\x20ffmpeg',_0x2f61fd(0xcb)));}var Ao=0x0;async function Oi(){const _0x40c392=a0_0x32cdd8;Pi();let _0x285781=await Ls(_0x40c392(0x194),_0x40c392(0x1a8)),_0x4f4eea=await Ls(_0x40c392(0x3b7),_0x40c392(0xcb)),_0x44152b=y[_0x40c392(0x43a)](_0x40c392(0x3b1)),_0x509b50=y['get']('AUTOUPDATE'),_0x33f215=y[_0x40c392(0x43a)](_0x40c392(0x4f2))[_0x40c392(0x559)][_0x40c392(0x1f3)],_0x4e0ada=y['get'](_0x40c392(0x619)),_0x3d91e4=await $o(),_0x1355c2=y[_0x40c392(0x43a)]('SERVER')[_0x40c392(0x20a)],_0x5825a7=y[_0x40c392(0x43a)](_0x40c392(0x53a));try{let _0x274b5a={'ip':_0x3d91e4||null,'redis_instalado':_0x285781||null,'ffmpeg_instalado':_0x4f4eea||null,'redis_enable':_0x44152b?.[_0x40c392(0x391)]||null,'autoupdate':_0x509b50||null,'apikey':_0x33f215||null,'ssl':_0x4e0ada?.[_0x40c392(0x646)]||null,'lastupdate':ko||null,'port':_0x1355c2||null,'phone':_0x5825a7||null,'gitInstallError':Ne?.[_0x40c392(0xd5)]||null};console[_0x40c392(0x55a)]('ip:\x20',_0x274b5a['ip']);for(let _0x31fd39 in _0x274b5a)_0x274b5a[_0x40c392(0x283)](_0x31fd39)&&_0x31fd39!=='ip'&&(_0x274b5a[_0x31fd39]=JSON[_0x40c392(0x679)](_0x274b5a[_0x31fd39]));return(await Le[_0x40c392(0x3eb)][_0x40c392(0x325)](_0x40c392(0x2da),_0x274b5a))[_0x40c392(0x212)];}catch(_0x1a0083){return console['error'](_0x1a0083),!0x1;}finally{}}var $s=!0x1,ko=0x209,_i=0x3,Io=0x1b7740;async function Us(){const _0x32a38c=a0_0x32cdd8;if(!await $o())return console[_0x32a38c(0x334)](_0x32a38c(0x1df)),'NO_IP';let _0xbc80c7=await Oi();if(_0xbc80c7){if(_0xbc80c7[_0x32a38c(0x28d)][_0x32a38c(0x65b)]===!0x0){let _0x1bdb5e=y['get'](_0x32a38c(0x4f0));Ne===null&&_0x1bdb5e!==_0x32a38c(0x348)&&_0xbc80c7['response']['last_update']-ko>0x0&&await xi(),$s||($s=!0x0,Mi());}else return console[_0x32a38c(0x55a)]('Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/'),$s&&(console[_0x32a38c(0x55a)]('A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.'),process[_0x32a38c(0x18e)]()),_0x32a38c(0x3f6);let _0x231e0f=0x24*0x3c*0x3c,_0xdc78a2=_0xbc80c7['response']['segundos']>_0x231e0f?_0x231e0f:_0xbc80c7[_0x32a38c(0x28d)]['segundos'],_0x174dbe=Number(_0xdc78a2);if(isNaN(_0x174dbe)){console[_0x32a38c(0x334)]('interval\x20no\x20\x20um\x20nmero');return;}let _0x4eae7c=Math[_0x32a38c(0x2b1)](_0x174dbe/0xe10),_0x3fca61=Math[_0x32a38c(0x2b1)](_0x174dbe%0xe10/0x3c),_0x2b2115=new Date(Date[_0x32a38c(0xef)]()+_0x174dbe*0x3e8);setTimeout(Us,_0x174dbe*0x3e8);let _0x3adf59=_0x474811=>_0x474811['toString']()[_0x32a38c(0x10b)](0x2,'0'),_0x39888f=_0x32a38c(0x1f4)+_0x3adf59(_0x4eae7c)+'\x20horas\x20e\x20'+_0x3adf59(_0x3fca61)+'\x20minutos.\x20Ser\x20s\x20'+_0x3adf59(_0x2b2115[_0x32a38c(0xc3)]())+':'+_0x3adf59(_0x2b2115['getMinutes']());console[_0x32a38c(0x55a)](_0x39888f);}else{if(Ao++,Ao<_i)console['log'](_0x32a38c(0x542)+Io/0xea60+_0x32a38c(0x1b9)),setTimeout(Us,Io);else return console['error']('No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.'),'SERVER_OFFLINE';}}function a0_0x1f98(){const _0x2af31c=['API\x20Key\x20invlida.','Converted\x20image\x20deleted','Instance\x20logged\x20out','audio/mp4','size','\x1b[31m','call','):\x20Conversa\x20inserida\x20com\x20sucesso.','jsonwebtoken','?timestamp=','Fluxo\x20no\x20encontrado','CORS','PHONE','contactname','empty','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','request\x20received\x20in\x20allFlows','CLIENT','isJWT','request\x20received\x20in\x20fetchConversation','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','lean','redis','.TEL;waid=','markMessageAsRead','toggleEphemeral','getStatus','collections','editFlowGroup','CLEANING_INTERVAL','\x20messages.','LOG','Erro\x20ao\x20atualizar\x20conversa:\x20','sending','allFlows','height','Erro:','editConversation','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','updateOnlinePrivacy','request\x20received\x20in\x20createFlow','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','pop','API_KEY','log','connectionState','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Instance\x20restarted','replyOptions','repeat','evaluateCondition','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','optionDescription','):\x20Editando\x20varivel\x20do\x20fluxo...','\x1b[31m%s\x1b[0m','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20alterando\x20this.AutomateSystem','video-cover.png','processingScheduleMessageId','editflowvariable','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','setting','getDelay','request\x20received\x20in\x20scheduleMessage','getTicketSystem','apiName','remote\x20\x22origin\x22','http','LOG_COLOR','groupSetting','request\x20received\x20in\x20editFlow','leadInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','express-async-errors','action','generateHash','loadEnv','chats.set','block','leaveGroup','groupUpdateDescription','instances','DATABASE_CONNECTION_HOST','sections','API\x20Key\x20from\x20Request:','deleteMessageForEveryone','The\x20\x22','lastMessage','web','NODE_ENV','/*.json','getPrototypeOf','push','messages','getVariablesChat','):\x20Ignoring\x20group\x20messages.','map','deleteInstance','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','CHATS_UPSERT','/instance','statusJidList','Image\x20path:\x20','8080','info','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','address','Erro\x20de\x20atualizao:\x20','DEL_INSTANCE','WEBHOOK_EVENTS_CONTACTS_UPSERT','messageUpdate','Revoke\x20error','Not\x20Found','updateStatusPrivacy','getflow','pollCreationMessage','BufferJSON','):\x20Campos\x20a\x20serem\x20atualizados:','groupParticipantsUpdate','WEBHOOK_EVENTS_CONTACTS_SET','request\x20received\x20in\x20deleteConversation','Error\x20removing\x20profile\x20picture','createNewConversation','CONFIG_SESSION_PHONE_CLIENT','updateGroupPicture','http://checkip.dyndns.org','CHATS_DELETE','Close\x20connection','split','ignoreGroups','presenceSubscribe','slice','dbSettings','namespace','CORS_CREDENTIALS','/wa-groups','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','uazapi','insertMany','expression','noConnection','buttonId','filter','ex:\x20\x22groupJid=120362@g.us\x22','getOwnPropertyNames','saveAPI','addReplyOption','):\x20Modified\x20Query:','messagesSend','maxActives','max','Parando\x20aplicao...','values','.\x20Cdigo\x20de\x20sada\x20','\x22\x20not\x20found','messageTimestamp','performBulkUpdate','findAndReplaceRegex','):\x20no\x20encontrou','updateFlowConfig','statSync','^\x5cd+[\x5c.@\x5cw-]+','includes','profilePicture','debug','):\x20Deletando\x20conversa...','waitingPoll_replyOptions','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','isFile','contactMessage','SendScheduleMessage','groupFetchAllParticipating','fetchContacts','messaging-history.set','forEach','writeData','jid','-instances','\x20minutos','audioWhatsapp','document','!cmd_','cors','Converting\x20audio\x20to\x20mp4','moreLogs','):\x20expirationTime:\x20','\x1b[0m','DATABASE_CONNECTION_PASSWORD','readMessageBot','GROUPS_UPSERT','online','textMessage','uazapiSendText','):\x20updateResult:','@ffmpeg-installer/ffmpeg','readdirSync','processgoToFlow','DEBUG','SUCCESS','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','request\x20received\x20in\x20editFlowgroup','The\x20instance\x20needs\x20to\x20be\x20disconnected','delayMessage','ERROR:\x20','createWebhook','connect','method','Method\x20not\x20implemented.','removed','):\x20atualizao\x20chat:\x20','Invalid\x20format','dataValidate','agents','save','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','test','contacts.update','update','/media','lastSend','profilePictureUrl','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','webhook','findGroup','chats.update','trim','TYPE','chat','URL:','find','replaceVariables','toString','locked','TRIAL_INSTANCE_NAME','SSL_CONF','replace','Instance\x20ID:','sendContact','toLowerCase','DATABASE_CONNECTION_DB_PREFIX_NAME','setNewValue','repository','\x1b[1m','including\x20timestamp\x20in\x20url:\x20','Error\x20fetching\x20group','724587CumzUe','STATUS_INSTANCE','connectionStatus','\x1b[40m','):\x20Buscando\x20todos\x20os\x20fluxos...','hostname','DOCKER_ENV','last','#ffffff','Falta\x20informao\x20para\x20a\x20chamada\x20API','Authentication\x20error','GROUP_PARTICIPANTS_UPDATE','findContacts','fetchProfilePicture','store','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','COLOR','groupValidate','):\x20Enviando\x20udio','Fetching\x20business\x20profile','loadWebhook','groupAcceptInvite','EMAIL:','processvaredits','enabled','emit','client','CONNECTION','contact_blacklist','replyOption','HH:mm:ss','dayjs','qrcode.updated','endSession','PRIVKEY','WARN','LOG_LEVEL','send.message','groups.update','updateMessage','bulkWrite','Image\x20converted\x20to\x20WebP','dbInstance','notEmpty','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','utf-8','stoppedUntil','saveChatVariables','CONTACTS_SET','https','pollOnReplyDelete','):\x20Enviando\x20contato','Por\x20favor,\x20responda\x20\x20ltima\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','setWebhook','@broadcast','licenca','editScheduleMessage','buttonMessage','readMessage','picture','Original\x20filename:','):\x20Entrou\x20na\x20funo\x20saveReply','arraybuffer','android','fullName','editflowblock','\x1b[47m','env.KEY\x20!==\x20key','.sendDataWebhook-local','pollErrorMessage','sendButtons','Atualizao:\x20','setHeader','WEBHOOK_EVENTS_QRCODE_UPDATED','):\x20Entrou\x20na\x20funo\x20stop','notify','oldToken','extractRegex','CONFIG_SESSION_PHONE_NAME','reaction','archive','/wa-connection-update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','updateProfileName','toBRL','stringify','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','presence.update','Content-Type','\x1b[43m','valid','Temp\x20audio\x20deleted','splice','defineAuthState','chatModify','saveTextReply','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20leadInfoVariables','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','normalizeMessage','Bloco\x20com\x20ID\x20','findGroups','lastSendMessage','sendLocation','saveMediaToFile','https://uazapi-plugin.bubbleapps.io/?url=','readreceipts','unhandledRejection','hbs','1gKDXbZ','reference','insert','getAllData','EXPIRIN_IN','createGroup','realVariables','utf8','):\x20Error\x20processing\x20conditions:\x20','Button\x20texts\x20cannot\x20be\x20repeated','/message','):\x20Procurando\x20conversa','modifiedCount','SSL_CONF_PRIVKEY','description','findGroupInfo','newName','readFile','Erro\x20ao\x20editar\x20agentes:\x20','updateMediaMessage','varedits','authorization','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','instance','request\x20received\x20in\x20editFlowvariable','getHours','item','done','.josn','30FRECoA','query','end','):\x20isVote','-version','request\x20received\x20in\x20updateAgent','HeaderType','loadInstance','groupName','):\x20Falha\x20ao\x20deletar\x20mensagem.','request\x20received\x20in\x20getFlow','CONTACTS_UPSERT','):\x20Criando\x20fluxo...','getLastMessage','message','processUazapi','stderr','firstValue','Group\x20not\x20found','request\x20received\x20in\x20deleteDoneMessages','):\x20conversation.lastInteraction:\x20','statusCode','isBase64','listMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','groups.upsert','writeFile','nomecompleto','Error\x20updating\x20profile\x20picture',',\x20Comparador:\x20','Temp\x20image\x20deleted','restart','backgroundColor','\x20no\x20encontrado\x20para\x20atualizao.','add','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','count','editChat','del','Types','now','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','sort','https://jsonip.com','849978yZjloC','contactHandle','):\x20Enviando\x20mdia','QRCODE_UPDATED','Erro\x20inesperado\x20em\x20processvaredits:\x20','/events/:instance','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','hex','integer','isArray','PENDING','deleteFlow','editFlowCondition','findChats','closed','processblock','!stop','groupDesc','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','body','):\x20newFirstValue\x20aps\x20replaceVariables:','\x20instance\x20does\x20not\x20exist','options','authModel','padStart','}}\x20->\x20\x22','Error\x20in\x20markMessageAsRead:','processConditions','displayName','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64',',\x20lastCondition:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','joinGroupValidate','bearer','leadInfo.desativadoFluxoAte','connecting','lowerCase',',\x20Resultado:\x20','inner','verifiedName','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','vote',',\x20valor\x20passado:\x20\x22','Flow\x20already\x20exists','Type\x20is\x20required','conversationTimestamp','sendMedia','pollMessageOnDelete','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Query\x20params:','authState','name','instanceName','groupMetadata','Error\x20updating\x20profile\x20status','capitalizedWords','all','getBusinessProfile','createJid','demote','load','image','MESSAGES_UPSERT','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Read\x20messages','):\x20','):\x20lastBlockId:\x20','chatModel','some','/wa-contacts','uazapiDeleteMessage','g.us','delInstanceTime','rm\x20-rf\x20','Archiving\x20chat','createInstance','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','nextBlock:','audioMessage','reconnectAttempts','code','PLAYED','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','_activatedCount','updateChatWithMessage','updateGParticipant','flowStopConversation','flow','Content\x20is\x20required','WEBHOOK_EVENTS_SEND_MESSAGE','findByIdAndUpdate','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','?authSource=admin&readPreference=primary&directConnection=true','isInteger','waitingPoll_id','toArray','messageUpModel','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','fileLength','writeStore','stopMinutes','contactModel','rmSync','.\x20Pulando.','BRL','buttonsMessage','):\x20Visualizando\x20AutomateSystem','scheduleSendText','encoding','remove','):\x20Alterando\x20fluxo...','apply','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','startFlow','StatusJidList\x20is\x20required','):\x20Conversas\x20encontradas:','Missing\x20global\x20api\x20key','READ','presence','Varivel\x20no\x20encontrada!','replaceVariablesChat','Read\x20messages\x20fail','\x20no\x20encontrado','contact','\x5cd+','command','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','sendStatus','localWebhook','url','The\x20property\x20cannot\x20be\x20empty','findById','params','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','/group','value','protocolMessage','EMAIL','Hash\x20to\x20image\x20name:\x20','dark','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','atendimentoAberto','profile','):\x20delete\x20=\x20true','shift','CONFIG_SESSION_PHONE','errors','removeData','.png','groupJid','AutomateSystem','/instance/create','URL','exit','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','/chat','greater','waMonit','Error\x20while\x20deleting\x20message\x20for\x20everyone','redis-server','envYaml','fetchProfile2','flushHeaders','sendWhatsAppAudio','REDIS_ENABLED','fone','participant','editFlowVaredit','\x5c$&','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','FlowRouter','):\x20conversation.waitingPollname','CONNECTION_UPDATE','fetchPrivacySettings','\x1b[30m','joinGroup','reactionMessage','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','request\x20received\x20in\x20editConversation','--version','\x20foi\x20interrompido\x20pelo\x20usurio.','Temp\x20audio\x20path:\x20','updatePresence','Data\x20invlida\x20fornecida','readFileSync','buttonText','AUTHENTICATION_JWT_SECRET','SERVER_ACK','createflow','50mb','Invalid\x20\x22oldToken\x22','true','paused','storePath','arrayUnique','from','\x20minutos...','Sistema\x20atualizado\x20com\x20sucesso!','mimetype','scheduled','sha256','Imagem\x20no\x20encontrada','Error\x20updating\x20profile\x20name','Logger','uuid','scheduleNextCheck','sendList','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Connection','syscall','qrcode','106946aMphQA','static','toUpperCase','statusMessage','CHATS_UPDATE','env','isRunning','Falha\x20ao\x20deletar\x20mensagens:','Deleted\x20','userDevicesCache','lastCondition','reviver','DATABASE','eventHandler','\x1b[34m%s\x1b[0m','messageContextInfo','blockId','applyvaredit','match','Telefone:\x20','pre','):\x20Error\x20processing\x20the\x20block:\x20','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','^\x5cd+([-]\x5cd+)*@g.us$','use','send','waUploadToServer','):\x20Limpando\x20delayMessage','Operador:\x20\x22','):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','STORE_CONTACTS','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','notMatchRegex','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','getConversation','removeInstance','boolean','isBooleanString','allContacts','downloadMediaMessage','Output\x20path:\x20','KEY','Prxima\x20verificao\x20em\x20','participants','sleep','DARK','updateBlock','):\x20Criando\x20nova\x20conversa','number','contactsArrayMessage','blocks',',\x20valor\x20a\x20encontrar:\x20\x22','exists','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','verify','ObjectId','DELIVERY_ACK','urlencoded','group','fetchChats','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','sendAudio','findByIdAndDelete','Processing\x20audio','PORT','):\x20Flow\x20no\x20encontrado','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','):\x20No\x20achou\x20nenhum\x20flow','\x20chats\x20de\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','fetchBusinessProfile','data','getClient','No\x20invite\x20code','matchRegex','METHODS','prepareWAMessageMedia','VERBOSE','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','DB_PREFIX_NAME','\x1b[36m%s\x1b[0m','LEVEL','viewOnceMessage','poll','hGet','stickerMessage','locationMessage','QRCODE','stopMinutesMaxActives','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','messages.upsert','Erro\x20ao\x20editar\x20o\x20bloco:\x20','processConditionsTest','groups','owner','makeCacheableSignalKeyStore','random','hGetAll','Incio','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','getMIMEType','selectedOptions','pollCreationMessageKey','flowActive','sendPresenceUpdate','render','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','scheduleSendMedia','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','WEBHOOK_EVENTS_MESSAGES_UPDATE','connectionClosed','long','status.instance','fetchStatusMessage','Audio\x20is\x20url','/wa-message','datetime','webp','flattenObject','chats.delete','updateProfilePicturePrivacy','sendCommand','audio/ogg','activatedCount','logger','uazapiSendLocation','SERVER_TYPE','findAndReplace','sendMessageWithTyping','waInstances','GLOBAL','isLong','E-mail:\x20','keep-alive','):\x20teve\x20mudanas\x20chat.displayName:\x20','width','qrCode','SECRET','\x20is\x20already\x20in\x20use.','model','header','uazapiSendPoll','console','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','56908wKGHFz','text','Error\x20creating\x20group','dbServer','imageMessage','notContains','goToFlow','whatsappNumber','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','\x0aFN:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x22\x20cannot\x20be\x20empty','responsavelid','conversation','mongodb://','isBusiness','):\x20Procurando\x20mensagens\x20para\x20envio','website','Instncia:\x20','Background\x20color\x20is\x20required','Db\x20Connection','-whatsapp-api','Message','everyOne','sendDataWebhook','\x0a{\x20instance:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','findIndex','pollUpdateMessage','editflowgroup','express','chatHandle','instanceKeys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','stopped','hasOwnProperty','PRODUCTION','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','variable','URI','Erro\x20ao\x20instalar\x20','apirequest','.jwt','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','new.jwt','response','parseInt','deleteOne','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','messageSecret','cpf','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Audio\x20converted\x20to\x20mp4','mediaSticker','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','WEBHOOK_MAP','sharp','set','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','flowPrefixCommand','}}\x20->\x20valor\x20no\x20encontrado','tokenId','GROUPS_UPDATE','):\x20Edit\x20schedule\x20message...','type','gifPlayback','Log\x20out\x20instance:\x20','Schema','):\x20Enviando\x20localizao','archived','editflowvaredit','deleteDoneMessages','errno','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','NEW_JWT_TOKEN','convertedOptions','editedMessage','Image\x20is\x20base64','authService','scheduleMessages','toBrazilianNumberFormat','floor','scheduleSendAudio','messageId','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','sendSticker','axios','getAutomateSystem','headers','title','pushName','Fluxos\x20no\x20esto\x20ativados','Unable\x20to\x20leave\x20the\x20group','phoneNumber','/automate','remoteJidsRemaining','Primeiro\x20Valor:\x20','webhookService','addresss','create','messageHandle','Getting\x20profile\x20info','saveCreds','throwAndLogError','createConversationforgoToFlow','content','varedit','CHATS_SET','finish','isDirectory','Sending\x20audio\x20whatsapp','chats.upsert','node-cache','WEBHOOK_EVENTS_MESSAGES_SET','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','join','Converted\x20audio\x20deleted','warn','view\x20engine','STORE','WEBHOOK_EVENTS_CHATS_SET','deleteMessage','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','base64','deleteflow','\x1b[33m','goNextblock','numbers','deleteConversation','documentWithCaptionMessage','release','https://github.com/uazapi/uazapi.git','unlocked','Desconectado,\x20parando\x20execuo.','):\x20Buscando\x20conversa...','chatLog','verbose','originalUrl','removeProfilePicture','getTime','qrcode-terminal','start','updateConversation','Falha\x20ao\x20deletar\x20mensagens\x20updates:','contains','NextBlock',',\x20far\x20nova\x20verificao\x20em\x20','/exit','path','Instance\x20Key\x20from\x20DB:','Error\x20updating\x20setting','connected','Font\x20is\x20required','customFields','):\x20Flow\x20desativado','messageModel','minutesToClose','waitingPoll_name','upsertChats','contentText','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','pollCreationMessageV2','footerText','WA\x20MODULE','array',',\x20Expiration\x20Time:\x20','privacySettings','The\x20','eventEmitter','):\x20Buscando\x20conversas...','.json','pollMessage','dbClient','$dbName','Forbidden','/wa-qrcode','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','variablesToObject','user','CONECTADO\x20\x20UAZAPI','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','padEnd','leadInfo.customFields','No\x20respondeu\x20com\x20a\x20enquete.','RECONNECT_TIME_FRAME','next_groupId','findOneAndUpdate','instance.','stopConversation','Audio\x20is\x20base64','collection','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','STORE_CLEANING_TERMINAL','):\x20Erro\x20durante\x20a\x20atualizao:\x20','audio','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','chats','post','uazapiSendAudio','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','/clients-info','Connection\x20closed\x20for\x20instance:\x20','enumerable','AutomateFunctions','sendText','convertToWebP','app-state-sync-key','WEBHOOK_EVENTS_GROUPS_UPSERT','):\x20newSecondValue\x20aps\x20replaceVariables:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Unauthorized','redisEnv','error','*\x0a\x0a','editFlowReply','#000000','variablesNotFound','editflowcondition','useMultiFileAuthState','blockLogs','close','delaySecMin','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','DATABASE_ENABLED','connectToWhatsapp','loggedOut','fromObject','poll_id','success','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Flow\x20iniciado\x20com\x20','Type\x20defined\x20as\x20audio','false','Conexo\x20estabelecida','equal','saveConversationToDatabase','stdout','reconnectTimestamps','chrome','revokeInviteCode','Error\x20change\x20group\x20name','metadata','editFlowVariable','updateLastSeenPrivacy','/webhook','Temp\x20audio\x20created','Business\x20profile\x20fetched','editFlow','$set','object','groupToggleEphemeral','\x1b[33m\x1b[1m','CORS_ORIGIN','fetchProfile','initAuthCreds','request\x20received\x20in\x20getAutomateSystem','QRCODE_LIMIT','refused','node-mime-types','apikey','createConversationforStartFlow','not\x20loaded','refreshToken','conditions','no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','inviteCode','restrict','startsWith','WEBHOOK','replaceVariablesInObject','stopIfLastReturnedError','Message\x20not\x20found','src','router','unavailable','toLocaleString','data:\x20','JWT',',\x20saindo.','formatStatusMessage','\x20-\x20ON:\x20','convertaudio','createServer','context','expiration','deleteMany','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','@s.whatsapp.net','currency','Validate','TEXT','):\x20Buscando\x20flow...','readMessages','selectableCount','_id','SERVER','ios','instanceInfo','reorderBlocks','ephemeralMessage','subjectOwner','lastInteraction','condition','recording','child_process','ENABLED','AUTHENTICATION_TYPE','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','notas','dropCollection','DisconnectReason','creds.json','stanzaId','EVENTS','1719176TRHJba','urlOrBase64','Not\x20allowed\x20by\x20CORS','video','rowId','role','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','replacer','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','hDel','getDevice','):\x20Conversa\x20est\x20expirada','delay','group-participants.update','replaceVariablesInReplyOptions','order','readData','validate','/:instanceName','Error\x20updating\x20participants','Unknown\x20message\x20type\x20encountered','font','senderKeyDistributionMessage','REDIS','WEBHOOK_EVENTS_NEW_JWT_TOKEN','7wGJssg','fetchConversation','\x1b[34m','email','ffmpeg','WEBHOOK_EVENTS_GROUPS_UPDATE','PROD','groupCreate','redisCache','CREDENTIALS','out','WEBHOOK_GLOBAL_URL','latitude','getProfileName','scheduleMessage','spawn','no.connection','Tanto\x20id\x20quanto\x20owner\x20so\x20necessrios\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','The\x20global\x20api\x20key\x20must\x20be\x20set','request\x20received\x20in\x20starFlow','logout','Variveis\x20no\x20encontradas:','mongodb','truncatedtoEnd','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','contacts','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','/wa-chats','entries','configService','bodyString','media','prepareMediaMessage','changeVariables','\x20messages.update.','uazapiSendContact','keys','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Enter\x20a\x20value\x20in\x20milliseconds','replaceVariablesLogs','OrAnd','webhookMap','getBase64FromMediaMessage','STORE_CHATS','editFlowBlock','wuid','Mensagem\x20no\x20suportada','error\x20get\x20vote','updateReplyOption','_p_','json','@g.us','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','variables','events','):\x20Enviando\x20texto','default','updateOne','temp-','sendReaction','messages.set','Erro\x20na\x20migrao:','updateGroupsAddPrivacy','endsWith','\x1b[37m','sendMessage','createConnection','LICENSE_INVALID','Error\x20change\x20group\x20setting','\x20-y','request\x20received\x20in\x20getConversation','substring','key','sendPoll','findWebhook','onTime','jwt','REDIS_PREFIX_KEY','viewOnceMessageV2','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20udio:','toFile','remove.instance','.mp3','subject','^\x5cd+','AutomateSystem\x20no\x20foi\x20inicializado','routerPath','messages.update','mediaKey','\x1b[37m%s\x1b[0m','*Pergunta*:\x20\x0a','no-cache','groupUpdateSubject','lastBlockId','delete','prefixCommand','fetchStatus','replaceOne','jsonschema','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','flowIgnoreGroups','):\x20teve\x20mudanas\x20chat.archived:\x20','output','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:','redirect','app','exec','text/event-stream','/media/','remoteJid','Subscribed\x20Events:','updateMany','less','where','message-up','processPollUpdateMessage','updateProfilePicture','getScheduleMessage','msgRetryCounterCache','FlowController','secondValue','imagechat','):\x20Editando\x20condio\x20do\x20fluxo...','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Deletando\x20mensagem','waMonitor','subjectTime','mongoose','\x1b[30m%s\x1b[0m','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','\x20mensagens\x20de\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','badSession','get','none','checkAndUpdateChats','findParticipants','LIMIT','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','status','):\x20Ler\x20mensagem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','generateWAMessageFromContent','organization','Error\x20in\x20scheduleNextCheck:\x20','):\x20Deletados\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','TRIAL_AD','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Entrou\x20na\x20funo\x20goToFlow','views','when','round','):\x20Current\x20Time:\x20','AppStateSyncKeyData','lastmsg','Output\x20audio\x20path:\x20','videoMessage','generate','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','_error','unreadcount','request\x20received\x20in\x20editFlowcondition','https://chat.whatsapp.com/','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','createClient','available','toNumber','cwd','format','/wa-message-update','processApiRequest','mediatype','DELETED','allflows','promote','Internal\x20Server\x20Error','assign','fileName','):\x20Going\x20to\x20','Erro\x20ao\x20buscar\x20conversa:\x20','groupHandler','DD/MM\x20HH:mm:ss','mentions','contacts.upsert','@whiskeysockets/baileys','cleaningUp','connection.update','bateu\x20events','has','tags','saveVariable','unlinkSync','write','WEBHOOK_EVENTS_CONNECTION_UPDATE','uazapiSendMedia','FULLCHAIN','):\x20tem\x20blocks','resetReconnectionVariables','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','Getting\x20audio\x20from\x20url','indexOf','key.','ReplyOption\x20com\x20ID\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','caption','remoteJids','No\x20participants','replaceValue','desativadoFluxoAte','isConnected','updateCustomFields','nome','CONTACTS_UPDATE','fetchMessages','downloads','composing','request\x20body:\x20','):\x20customFieldVariables','proto','mkdirSync','Conversa\x20deletada\x20com\x20sucesso.','longitude','match_last_seen','/instance/fetchInstances','Flow\x20no\x20encontrado','error_log','groupId','parse','Getting\x20image\x20from\x20url','fetchLatestBaileysVersion','delInstanceFiles','connectionUpdate','Error\x20change\x20group\x20description','REDIS_URI','_doc','creation','birthtime','findFlow','created','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','formatVCard','fromMe','headerString','SEND_MESSAGE','updateGParticipate','Comando\x20desconhecido','rows','group\x20ignored','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','js-yaml','):\x20transformedCustomFieldVariables','Instance\x20\x22','envProcess','deleteBlock','.refreshToken','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','):\x20Editando\x20replyOption...','PRESENCE_UPDATE','opendirSync','webhookModel','):\x20Editando\x20bloco...','findConversation',',\x20Segundo\x20Valor:\x20','\x1b[1m\x1b[37m','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','MESSAGES_UPDATE','updatePrivacySettings','writeFileSync','MESSAGES_SET','\x20contacts','mediaMessage','INFO','\x20foram\x20adicionados\x20\x22contactname\x22\x20','state','newStoppedUntil','getRandomText','PREFIX_KEY','/wa-presence','StartBot','\x22\x20-\x20NOT\x20CONNECTION','quoted','length','updateStopChat','deleteReplyOption','class-validator','string','groups_ignore','groupLeave','documentMessage','Image\x20created','buttons','NAME','fetchInstances','updateAgent','convert','createFlow','):\x20Erro\x20ao\x20editar\x20agentes:\x20','apiResponse','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','.webp','put','MAX_RECONNECT_ATTEMPTS','announce','open','https://','pollCreationMessageV3','not_announcement','upperCase','option','ERROR','authentication','AUTOUPDATE','Router','AUTHENTICATION','editflowreply','existsSync','whatsappNumbers','isURL','limit','restartInstance','https://api.ipify.org?format=json','):\x20Erro\x20ao\x20criar\x20fluxo\x20','flowConfig','g-t','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Nmero:\x20','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','stateConnection','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','archiveChat','STORE_MESSAGE','Type\x20not\x20found','local_map','findOne','status@broadcast','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','delAll','getFlow','groupadd','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','buffer','lastReceivedMessage','END:VCARD','CORS_METHODS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','pt-BR','):\x20Enviando\x20enquete','trimmed','\x20minutos\x20verificar\x20novas\x20mensagens','1931352ANhfWN','):\x20Criou\x20conversa\x20no\x20startFlow:','):\x20debug\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Audio\x20processed','optionName','1577960DeIfWV','updateProfileStatus','Including\x20timestamp\x20in\x20url:\x20','getMessage','instanceName\x20not\x20provided.','):\x20Comando\x20desconhecido:\x20','creds','WEBHOOK_EVENTS_MESSAGES_UPSERT','isJidGroup','and','desc','editOperator','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','stack','auth','Media\x20folder\x20path:'];a0_0x1f98=function(){return _0x2af31c;};return a0_0x1f98();}async function xi(){const _0x40539e=a0_0x32cdd8;console[_0x40539e(0x55a)]('Parando\x20aplicao,\x20atualizao\x20recebida');let _0x734ed=(0x0,Vs['spawn'])(_0x40539e(0xea),{'shell':!0x0});_0x734ed[_0x40539e(0x34c)]['on'](_0x40539e(0x212),_0x53ac7e=>{const _0xfdf10e=_0x40539e;console[_0xfdf10e(0x55a)](_0xfdf10e(0x66b)+_0x53ac7e);}),_0x734ed[_0x40539e(0xd7)]['on'](_0x40539e(0x212),_0x4fd18a=>{const _0x2a5d2c=_0x40539e;console[_0x2a5d2c(0x334)](_0x2a5d2c(0x59a)+_0x4fd18a);}),_0x734ed['on'](_0x40539e(0x18e),_0x4ef026=>{const _0x26c5a7=_0x40539e;_0x4ef026!==0x0?console[_0x26c5a7(0x334)](_0x26c5a7(0x165)+_0x4ef026):console['log'](_0x26c5a7(0x1ba)),console['log'](_0x26c5a7(0x5c6)),setTimeout(()=>process[_0x26c5a7(0x18e)](),0x2710);});}