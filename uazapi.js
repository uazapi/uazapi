const a0_0x525ac=a0_0x59e4;(function(_0xd502c1,_0x5d7e49){const _0x12f5f6=a0_0x59e4,_0x4a9dbb=_0xd502c1();while(!![]){try{const _0x2b85e5=-parseInt(_0x12f5f6(0x3e2))/0x1*(-parseInt(_0x12f5f6(0x2e7))/0x2)+parseInt(_0x12f5f6(0x466))/0x3*(parseInt(_0x12f5f6(0x480))/0x4)+-parseInt(_0x12f5f6(0x325))/0x5+-parseInt(_0x12f5f6(0x6d3))/0x6+parseInt(_0x12f5f6(0x683))/0x7*(parseInt(_0x12f5f6(0x56b))/0x8)+-parseInt(_0x12f5f6(0x3fa))/0x9*(-parseInt(_0x12f5f6(0x204))/0xa)+parseInt(_0x12f5f6(0x1c0))/0xb*(-parseInt(_0x12f5f6(0x22b))/0xc);if(_0x2b85e5===_0x5d7e49)break;else _0x4a9dbb['push'](_0x4a9dbb['shift']());}catch(_0x34150e){_0x4a9dbb['push'](_0x4a9dbb['shift']());}}}(a0_0x47c4,0x18852));var Uo=Object[a0_0x525ac(0x58a)],Bs=Object[a0_0x525ac(0x421)],Vo=Object['getOwnPropertyDescriptor'],jo=Object['getOwnPropertyNames'],Bo=Object[a0_0x525ac(0x5c7)],Fo=Object[a0_0x525ac(0x42e)][a0_0x525ac(0x54d)],Jo=(_0x4fb1ee,_0x110180,_0x432281,_0x383738)=>{const _0x3c5be6=a0_0x525ac;if(_0x110180&&typeof _0x110180==_0x3c5be6(0x600)||typeof _0x110180=='function'){for(let _0x227971 of jo(_0x110180))!Fo[_0x3c5be6(0x48a)](_0x4fb1ee,_0x227971)&&_0x227971!==_0x432281&&Bs(_0x4fb1ee,_0x227971,{'get':()=>_0x110180[_0x227971],'enumerable':!(_0x383738=Vo(_0x110180,_0x227971))||_0x383738[_0x3c5be6(0x6c3)]});}return _0x4fb1ee;},T=(_0x9a6579,_0x2e8dec,_0x4d030d)=>(_0x4d030d=_0x9a6579!=null?Uo(Bo(_0x9a6579)):{},Jo(_0x2e8dec||!_0x9a6579||!_0x9a6579[a0_0x525ac(0x2ef)]?Bs(_0x4d030d,a0_0x525ac(0x6de),{'value':_0x9a6579,'enumerable':!0x0}):_0x4d030d,_0x9a6579)),Do=T(require(a0_0x525ac(0x2b7))),Js=require('fs'),Gs=require(a0_0x525ac(0x1b8)),qs=require('path'),Ue=require('path'),Y=process[a0_0x525ac(0x714)](),j=(0x0,Ue['join'])(Y,'instances'),Fs=(0x0,Ue[a0_0x525ac(0x5c2)])(Y,a0_0x525ac(0x6fc)),es=(0x0,Ue[a0_0x525ac(0x5c2)])(Y,'store','auth'),Ws=require(a0_0x525ac(0x4e6)),ts=class{constructor(){const _0x576513=a0_0x525ac;this[_0x576513(0x3ce)]();}['get'](_0x3aecab){return this['env'][_0x3aecab];}[a0_0x525ac(0x3ce)](){const _0x36f151=a0_0x525ac;this[_0x36f151(0x2aa)]=process['env']?.[_0x36f151(0x1f0)]!==_0x36f151(0x61d)?this['envYaml']():this[_0x36f151(0x32d)](),this[_0x36f151(0x2aa)][_0x36f151(0x441)]=process[_0x36f151(0x2aa)]?.[_0x36f151(0x4ac)]==='PROD',process[_0x36f151(0x2aa)]?.[_0x36f151(0x1f0)]==='true'&&(this[_0x36f151(0x2aa)][_0x36f151(0x156)][_0x36f151(0x5ae)]='http',this['env']['SERVER'][_0x36f151(0x18a)]=Number[_0x36f151(0x20e)](process[_0x36f151(0x2aa)]?.['SERVER_PORT']??_0x36f151(0x184)));}[a0_0x525ac(0x324)](){const _0x54258e=a0_0x525ac;return(0x0,Gs[_0x54258e(0x28e)])((0x0,Js[_0x54258e(0x46a)])((0x0,qs[_0x54258e(0x5c2)])(Fs,_0x54258e(0x39e)),{'encoding':_0x54258e(0x601)}));}[a0_0x525ac(0x32d)](){const _0x15b099=a0_0x525ac;return{'SERVER':{'TYPE':process[_0x15b099(0x2aa)][_0x15b099(0x454)],'PORT':Number[_0x15b099(0x20e)](process[_0x15b099(0x2aa)][_0x15b099(0x472)])},'CORS':{'ORIGIN':process[_0x15b099(0x2aa)][_0x15b099(0x6d6)][_0x15b099(0x266)](','),'METHODS':process[_0x15b099(0x2aa)]['CORS_METHODS'][_0x15b099(0x266)](','),'CREDENTIALS':process[_0x15b099(0x2aa)]?.[_0x15b099(0x5cc)]===_0x15b099(0x61d)},'SSL_CONF':{'PRIVKEY':process[_0x15b099(0x2aa)]?.[_0x15b099(0x299)],'FULLCHAIN':process[_0x15b099(0x2aa)]?.[_0x15b099(0x26b)]},'STORE':{'CLEANING_INTERVAL':Number[_0x15b099(0x345)](process[_0x15b099(0x2aa)]?.[_0x15b099(0x1f1)])?Number[_0x15b099(0x20e)](process['env'][_0x15b099(0x1f1)]):void 0x0,'MESSAGES':process[_0x15b099(0x2aa)]?.[_0x15b099(0x4ce)]===_0x15b099(0x61d),'CONTACTS':process['env']?.[_0x15b099(0x38b)]===_0x15b099(0x61d),'CHATS':process[_0x15b099(0x2aa)]?.[_0x15b099(0x624)]===_0x15b099(0x61d)},'DATABASE':{'CONNECTION':{'HOST':process[_0x15b099(0x2aa)]?.[_0x15b099(0x1e4)],'PORT':Number[_0x15b099(0x20e)](process[_0x15b099(0x2aa)]?.[_0x15b099(0x1e4)]),'USER':process[_0x15b099(0x2aa)][_0x15b099(0x398)],'PASSWORD':process[_0x15b099(0x2aa)][_0x15b099(0x21c)],'URI':process[_0x15b099(0x2aa)][_0x15b099(0x2ab)],'DB_PREFIX_NAME':process[_0x15b099(0x2aa)][_0x15b099(0x5df)]},'ENABLED':process['env']?.[_0x15b099(0x61b)]===_0x15b099(0x61d)},'REDIS':{'ENABLED':process[_0x15b099(0x2aa)]?.[_0x15b099(0x42b)]==='true','URI':process['env'][_0x15b099(0x1ef)],'PREFIX_KEY':process[_0x15b099(0x2aa)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x15b099(0x2aa)]?.['LOG_LEVEL'][_0x15b099(0x266)](','),'COLOR':process['env']?.[_0x15b099(0x659)]===_0x15b099(0x61d)},'DEL_INSTANCE':(0x0,Ws[_0x15b099(0x231)])(process[_0x15b099(0x2aa)]?.[_0x15b099(0x2f6)])?process[_0x15b099(0x2aa)][_0x15b099(0x2f6)]===_0x15b099(0x61d):Number[_0x15b099(0x20e)](process[_0x15b099(0x2aa)][_0x15b099(0x2f6)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x15b099(0x2aa)]['WEBHOOK_MAP']?process['env'][_0x15b099(0x1fe)]===_0x15b099(0x61d):!0x1,'GLOBAL':{'URL':process[_0x15b099(0x2aa)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process['env']?.[_0x15b099(0x211)]===_0x15b099(0x61d)},'EVENTS':{'STATUS_INSTANCE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x515)]===_0x15b099(0x61d),'QRCODE_UPDATED':process[_0x15b099(0x2aa)]?.[_0x15b099(0x2c4)]==='true','MESSAGES_SET':process[_0x15b099(0x2aa)]?.['WEBHOOK_EVENTS_MESSAGES_SET']===_0x15b099(0x61d),'MESSAGES_UPSERT':process[_0x15b099(0x2aa)]?.[_0x15b099(0x2a6)]==='true','MESSAGES_UPDATE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x416)]===_0x15b099(0x61d),'SEND_MESSAGE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x2d4)]===_0x15b099(0x61d),'CONTACTS_SET':process[_0x15b099(0x2aa)]?.[_0x15b099(0x718)]===_0x15b099(0x61d),'CONTACTS_UPDATE':process['env']?.[_0x15b099(0x711)]===_0x15b099(0x61d),'CONTACTS_UPSERT':process[_0x15b099(0x2aa)]?.[_0x15b099(0x442)]===_0x15b099(0x61d),'PRESENCE_UPDATE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x2cb)]===_0x15b099(0x61d),'CHATS_SET':process[_0x15b099(0x2aa)]?.['WEBHOOK_EVENTS_CHATS_SET']===_0x15b099(0x61d),'CHATS_UPDATE':process['env']?.[_0x15b099(0x63d)]==='true','CHATS_UPSERT':process[_0x15b099(0x2aa)]?.[_0x15b099(0x227)]===_0x15b099(0x61d),'CHATS_DELETE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x5c0)]===_0x15b099(0x61d),'CONNECTION_UPDATE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x5eb)]==='true','GROUPS_UPSERT':process[_0x15b099(0x2aa)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x15b099(0x61d),'GROUP_UPDATE':process['env']?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x15b099(0x61d),'GROUP_PARTICIPANTS_UPDATE':process[_0x15b099(0x2aa)]?.[_0x15b099(0x39b)]===_0x15b099(0x61d),'NEW_JWT_TOKEN':process[_0x15b099(0x2aa)]?.[_0x15b099(0x67b)]===_0x15b099(0x61d)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x15b099(0x2aa)]?.[_0x15b099(0x445)]||_0x15b099(0x490),'NAME':process[_0x15b099(0x2aa)]?.[_0x15b099(0x443)]||_0x15b099(0x1fc)},'QRCODE':{'LIMIT':Number[_0x15b099(0x20e)](process[_0x15b099(0x2aa)]['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x15b099(0x2aa)]?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process[_0x15b099(0x2aa)]?.[_0x15b099(0x482)],'AUTOUPDATE':process['env']?.[_0x15b099(0x286)]===_0x15b099(0x61d),'PHONE':process[_0x15b099(0x2aa)]?.['PHONE'],'AUTHENTICATION':{'TYPE':process[_0x15b099(0x2aa)][_0x15b099(0x593)],'API_KEY':{'KEY':process[_0x15b099(0x2aa)][_0x15b099(0x5b4)]},'JWT':{'EXPIRIN_IN':Number[_0x15b099(0x345)](process[_0x15b099(0x2aa)]?.[_0x15b099(0x662)])?Number[_0x15b099(0x20e)](process[_0x15b099(0x2aa)][_0x15b099(0x662)]):0xe10,'SECRET':process[_0x15b099(0x2aa)]['AUTHENTICATION_JWT_SECRET']}}};}},y=new ts(),Po=T(require(a0_0x525ac(0x4a1))),me=T(require(a0_0x525ac(0x446))),ks=require(a0_0x525ac(0x18d)),ss=T(require(a0_0x525ac(0x413))),as=(_0x3383bf=>(_0x3383bf['LOG']=a0_0x525ac(0x61f),_0x3383bf['INFO']=a0_0x525ac(0x592),_0x3383bf[a0_0x525ac(0x64c)]=a0_0x525ac(0x3e8),_0x3383bf[a0_0x525ac(0x670)]='\x1b[31m',_0x3383bf[a0_0x525ac(0x447)]='\x1b[36m',_0x3383bf[a0_0x525ac(0x6f3)]=a0_0x525ac(0x3d2),_0x3383bf[a0_0x525ac(0x361)]=a0_0x525ac(0x17d),_0x3383bf))(as||{}),Hs=(_0x2bd88d=>(_0x2bd88d['LOG']=a0_0x525ac(0x4c2),_0x2bd88d[a0_0x525ac(0x361)]=a0_0x525ac(0x565),_0x2bd88d[a0_0x525ac(0x6ab)]='\x1b[34m%s\x1b[0m',_0x2bd88d[a0_0x525ac(0x64c)]=a0_0x525ac(0x464),_0x2bd88d[a0_0x525ac(0x670)]=a0_0x525ac(0x4e1),_0x2bd88d[a0_0x525ac(0x447)]=a0_0x525ac(0x29e),_0x2bd88d[a0_0x525ac(0x6f3)]=a0_0x525ac(0x39f),_0x2bd88d))(Hs||{}),Ks=(_0x1a902f=>(_0x1a902f[a0_0x525ac(0x394)]=a0_0x525ac(0x394),_0x1a902f['WARN']=a0_0x525ac(0x64c),_0x1a902f[a0_0x525ac(0x6ab)]='INFO',_0x1a902f[a0_0x525ac(0x361)]=a0_0x525ac(0x361),_0x1a902f['ERROR']='ERROR',_0x1a902f[a0_0x525ac(0x447)]=a0_0x525ac(0x447),_0x1a902f[a0_0x525ac(0x6f3)]=a0_0x525ac(0x6f3),_0x1a902f))(Ks||{}),zs=(_0x581510=>(_0x581510[a0_0x525ac(0x394)]=a0_0x525ac(0x1ca),_0x581510[a0_0x525ac(0x6ab)]='\x1b[44m',_0x581510['WARN']=a0_0x525ac(0x6cb),_0x581510[a0_0x525ac(0x361)]='\x1b[40m',_0x581510[a0_0x525ac(0x670)]=a0_0x525ac(0x307),_0x581510[a0_0x525ac(0x447)]=a0_0x525ac(0x657),_0x581510['VERBOSE']=a0_0x525ac(0x558),_0x581510))(zs||{}),C=class{constructor(_0x47a3d6=a0_0x525ac(0x341)){const _0xa81a2c=a0_0x525ac;this[_0xa81a2c(0x6a3)]=_0x47a3d6,this[_0xa81a2c(0x181)]=y;}['setContext'](_0x3db9a9){const _0x1c82b4=a0_0x525ac;this[_0x1c82b4(0x6a3)]=_0x3db9a9;}[a0_0x525ac(0x6d0)](_0x467c18,_0x527973){const _0x48c829=a0_0x525ac;let _0x13dd6b=[];this[_0x48c829(0x181)][_0x48c829(0x60a)](_0x48c829(0x394))[_0x48c829(0x57c)]['forEach'](_0x19cf86=>_0x13dd6b[_0x48c829(0x6a1)](Ks[_0x19cf86]));let _0x421d31=typeof _0x467c18;_0x13dd6b['includes'](_0x527973)&&(y[_0x48c829(0x60a)]('LOG')[_0x48c829(0x64e)]?(console['log'](_0x48c829(0x350)+Hs[_0x527973],'\x1b[1m\x1b[37m',(0x0,ss[_0x48c829(0x6de)])()['format'](_0x48c829(0x44d)),_0x48c829(0x698),as[_0x527973]+zs[_0x527973]+_0x48c829(0x350),_0x527973+_0x48c829(0x157),_0x48c829(0x36c),this[_0x48c829(0x6a3)]+_0x48c829(0x698),as[_0x527973],_0x421d31!==_0x48c829(0x600)?_0x467c18:'',_0x48c829(0x698)),_0x421d31===_0x48c829(0x600)&&console[_0x48c829(0x571)](_0x467c18,'\x0a')):console[_0x48c829(0x571)]((0x0,ss['default'])()[_0x48c829(0x311)](_0x48c829(0x44e)),_0x527973+'\x20',''+this[_0x48c829(0x6a3)],_0x467c18));}['log'](_0x2c7563){const _0x242a43=a0_0x525ac;this[_0x242a43(0x6d0)](_0x2c7563,_0x242a43(0x394));}[a0_0x525ac(0x38d)](_0x527c6f){const _0x308c0d=a0_0x525ac;this[_0x308c0d(0x6d0)](_0x527c6f,_0x308c0d(0x6ab));}['warn'](_0x5051c2){const _0x2885e=a0_0x525ac;this['console'](_0x5051c2,_0x2885e(0x64c));}['error'](_0x3123ae){const _0x2e25de=a0_0x525ac;this[_0x2e25de(0x6d0)](_0x3123ae,'ERROR');}[a0_0x525ac(0x6bd)](_0x5e0e30){const _0x5ebed5=a0_0x525ac;this['console'](_0x5e0e30,_0x5ebed5(0x6f3));}[a0_0x525ac(0x516)](_0x247628){const _0x5decc5=a0_0x525ac;this[_0x5decc5(0x6d0)](_0x247628,_0x5decc5(0x447));}[a0_0x525ac(0x3e5)](_0x2fb333){const _0x3959d2=a0_0x525ac;this[_0x3959d2(0x6d0)](_0x2fb333,_0x3959d2(0x361));}};function Qs(){const _0x5d2337=a0_0x525ac;process['on']('uncaughtException',(_0x49f81b,_0x192e02)=>{const _0x5ccbca=a0_0x59e4;new C('uncaughtException')[_0x5ccbca(0x3cc)]({'origin':_0x192e02,'stderr':process[_0x5ccbca(0x61c)]['fd'],'error':_0x49f81b});}),process['on'](_0x5d2337(0x2c1),(_0x36c1de,_0x376e57)=>{const _0x512a37=_0x5d2337;new C(_0x512a37(0x2c1))[_0x512a37(0x3cc)]({'origin':_0x376e57,'stderr':process[_0x512a37(0x61c)]['fd'],'error':_0x36c1de});});}var Ys=T(require(a0_0x525ac(0x17e))),os=new Ys['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),le=require('path'),he=require('fs'),is=require('path'),B=class{constructor(_0x2a6968){const _0x59d728=a0_0x525ac;this['storePath']=(0x0,is[_0x59d728(0x5c2)])(Y,_0x59d728(0x59d)),this[_0x59d728(0x5b1)]=_0x2e1e1f=>{const _0x55e0f5=_0x59d728;(0x0,he['existsSync'])(_0x2e1e1f[_0x55e0f5(0x18d)])||(0x0,he[_0x55e0f5(0x176)])(_0x2e1e1f[_0x55e0f5(0x18d)],{'recursive':!0x0});try{return(0x0,he[_0x55e0f5(0x37d)])((0x0,is['join'])(_0x2e1e1f[_0x55e0f5(0x18d)],_0x2e1e1f[_0x55e0f5(0x67a)]+'.json'),JSON[_0x55e0f5(0x56f)]({..._0x2e1e1f[_0x55e0f5(0x16e)]}),{'encoding':_0x55e0f5(0x601)}),{'message':'create\x20-\x20success'};}finally{_0x2e1e1f[_0x55e0f5(0x16e)]=void 0x0;}},this[_0x59d728(0x294)]=_0x2a6968[_0x59d728(0x60a)](_0x59d728(0x690));}['insert'](_0x4f847e,_0x4086a6=!0x1){const _0x22a422=a0_0x525ac;throw new Error(_0x22a422(0x6be));}['find'](_0xd60760){const _0x19302d=a0_0x525ac;throw new Error(_0x19302d(0x6be));}[a0_0x525ac(0x2c2)](_0x1465e3,_0x223950){throw new Error('Method\x20not\x20implemented.');}},oe=require('fs'),Ve=class{},je=class extends B{constructor(_0x1183ba,_0xef2688){const _0x5c99f3=a0_0x525ac;super(_0xef2688),this['messageModel']=_0x1183ba,this[_0x5c99f3(0x181)]=_0xef2688;}async[a0_0x525ac(0x5ac)](_0x13302,_0x4da285=!0x1){const _0x5da51d=a0_0x525ac;if(_0x13302[_0x5da51d(0x261)]!==0x0)try{return this[_0x5da51d(0x294)][_0x5da51d(0x517)]&&_0x4da285?{'insertCount':(await this['messageModel'][_0x5da51d(0x525)]([..._0x13302]))[_0x5da51d(0x261)]}:_0x4da285?(_0x13302[_0x5da51d(0x319)](_0x517806=>this[_0x5da51d(0x5b1)]({'path':(0x0,le['join'])(this[_0x5da51d(0x418)],_0x5da51d(0x728),_0x517806[_0x5da51d(0x3f3)]),'fileName':_0x517806['key']['id'],'data':_0x517806})),{'insertCount':_0x13302['length']}):{'insertCount':0x0};}catch(_0x6b414a){return console['log'](_0x5da51d(0x15c),_0x6b414a),_0x6b414a;}finally{_0x13302=void 0x0;}}async[a0_0x525ac(0x252)](_0x3be96f){const _0x344f88=a0_0x525ac;try{if(this[_0x344f88(0x294)][_0x344f88(0x517)]){if(_0x3be96f?.[_0x344f88(0x17c)]?.[_0x344f88(0x4ba)]){for(let [_0x337d8c,_0x17bad3]of Object[_0x344f88(0x46f)](_0x3be96f[_0x344f88(0x17c)]['key']))_0x3be96f[_0x344f88(0x17c)]['key.'+_0x337d8c]=_0x17bad3;delete _0x3be96f?.[_0x344f88(0x17c)]?.[_0x344f88(0x4ba)];}return await this['messageModel'][_0x344f88(0x252)]({..._0x3be96f[_0x344f88(0x17c)]})[_0x344f88(0x179)]({'messageTimestamp':-0x1})['limit'](_0x3be96f?.[_0x344f88(0x292)]??0x0);}let _0x14cb54=[];if(_0x3be96f?.['where']?.[_0x344f88(0x4ba)]?.['id'])_0x14cb54[_0x344f88(0x6a1)](JSON[_0x344f88(0x20b)]((0x0,oe[_0x344f88(0x46a)])((0x0,le[_0x344f88(0x5c2)])(this[_0x344f88(0x418)],_0x344f88(0x728),_0x3be96f[_0x344f88(0x17c)][_0x344f88(0x3f3)],_0x3be96f[_0x344f88(0x17c)][_0x344f88(0x4ba)]['id']+_0x344f88(0x2ce)),{'encoding':_0x344f88(0x601)})));else{let _0x487554=(0x0,oe[_0x344f88(0x530)])((0x0,le[_0x344f88(0x5c2)])(this['storePath'],_0x344f88(0x728),_0x3be96f['where'][_0x344f88(0x3f3)]),{'encoding':_0x344f88(0x601)});for await(let _0x4e9a0d of _0x487554)_0x4e9a0d[_0x344f88(0x302)]()&&_0x14cb54[_0x344f88(0x6a1)](JSON['parse']((0x0,oe[_0x344f88(0x46a)])((0x0,le[_0x344f88(0x5c2)])(this[_0x344f88(0x418)],'messages',_0x3be96f[_0x344f88(0x17c)][_0x344f88(0x3f3)],_0x4e9a0d[_0x344f88(0x524)]),{'encoding':_0x344f88(0x601)})));}return _0x14cb54['sort']((_0x4e916d,_0x8b4809)=>_0x8b4809[_0x344f88(0x4fa)]-_0x4e916d[_0x344f88(0x4fa)])[_0x344f88(0x5b8)](0x0,_0x3be96f?.[_0x344f88(0x292)]??_0x14cb54['length']);}catch{return[];}}async['delete'](_0x5aad58){const _0x560f86=a0_0x525ac;try{if(this[_0x560f86(0x294)][_0x560f86(0x517)])await this['messageModel']['deleteMany']({..._0x5aad58[_0x560f86(0x17c)]});else{let {owner:_0x4f3f7e}=_0x5aad58['where'];(0x0,oe['readdirSync'])((0x0,le[_0x560f86(0x5c2)])(this[_0x560f86(0x418)],_0x560f86(0x728),_0x4f3f7e))[_0x560f86(0x319)](_0x51cf64=>{const _0x4b6b3c=_0x560f86;let _0x1c248c=(0x0,le['join'])(this[_0x4b6b3c(0x418)],_0x4b6b3c(0x728),_0x4f3f7e,_0x51cf64);(0x0,oe['unlinkSync'])(_0x1c248c);});}}catch(_0x17b088){console['error'](_0x17b088);}}async[a0_0x525ac(0x71f)](_0x146595,_0x3cf137){const _0x4a1140=a0_0x525ac;try{let _0x3de805=null;if(this[_0x4a1140(0x294)]['ENABLED'])return _0x3de805=await this[_0x4a1140(0x5bd)][_0x4a1140(0x2bf)]({..._0x146595[_0x4a1140(0x17c)]},{'$set':_0x3cf137},{'new':!0x0}),_0x3de805;}catch(_0x311edf){throw console[_0x4a1140(0x3cc)](_0x311edf),_0x311edf;}}async[a0_0x525ac(0x525)](_0x3437b8,_0x5dd32a=!0x1){const _0x4ad908=a0_0x525ac;if(_0x3437b8[_0x4ad908(0x261)]!==0x0)try{return this['dbSettings'][_0x4ad908(0x517)]&&_0x5dd32a?{'insertCount':(await this[_0x4ad908(0x5bd)][_0x4ad908(0x525)]([..._0x3437b8]))[_0x4ad908(0x261)]}:_0x5dd32a?(_0x3437b8['forEach'](_0x4214c3=>this[_0x4ad908(0x5b1)]({'path':(0x0,le['join'])(this[_0x4ad908(0x418)],_0x4ad908(0x728),_0x4214c3['owner']),'fileName':_0x4214c3[_0x4ad908(0x4ba)]['id'],'data':_0x4214c3})),{'insertCount':_0x3437b8['length']}):{'insertCount':0x0};}catch(_0x207048){return console[_0x4ad908(0x571)](_0x4ad908(0x15c),_0x207048),_0x207048;}finally{_0x3437b8=void 0x0;}}},se=require('fs'),uo=T(require(a0_0x525ac(0x69a))),w=T(require(a0_0x525ac(0x3d3))),_e=require('fs'),$=T(require(a0_0x525ac(0x18d))),ue=T(require('axios')),po=require(a0_0x525ac(0x2df)),go=T(require(a0_0x525ac(0x669))),mo=T(require(a0_0x525ac(0x267))),Xs=['imageMessage',a0_0x525ac(0x43e),a0_0x525ac(0x1a2),a0_0x525ac(0x5f3),a0_0x525ac(0x40e)],Zs=[a0_0x525ac(0x668),a0_0x525ac(0x653),'viewOnceMessage',a0_0x525ac(0x666)],ho=require('os'),kt=T(require('pino')),Vt=require('child_process'),Ns=require(a0_0x525ac(0x50f)),Be=require(a0_0x525ac(0x2d0)),rs=T(require(a0_0x525ac(0x2d0))),ea=new C(a0_0x525ac(0x1d8)),G=y['get']('DATABASE'),M=G[a0_0x525ac(0x517)]?G[a0_0x525ac(0x33d)][a0_0x525ac(0x5ab)]?rs[a0_0x525ac(0x6de)][a0_0x525ac(0x3d6)](G[a0_0x525ac(0x33d)][a0_0x525ac(0x5ab)],{'dbName':G[a0_0x525ac(0x33d)][a0_0x525ac(0x37e)]+'-whatsapp-api'}):rs[a0_0x525ac(0x6de)][a0_0x525ac(0x3d6)](a0_0x525ac(0x367)+G[a0_0x525ac(0x33d)][a0_0x525ac(0x43b)]+':'+G['CONNECTION'][a0_0x525ac(0x18a)]+a0_0x525ac(0x493),{'user':G['CONNECTION'][a0_0x525ac(0x6bb)],'pass':G[a0_0x525ac(0x33d)][a0_0x525ac(0x56a)],'dbName':G['CONNECTION'][a0_0x525ac(0x37e)]+a0_0x525ac(0x2a0)}):null;G['ENABLED']&&ea['info']('ON\x20-\x20dbName:\x20'+M[a0_0x525ac(0x29d)]);async function Go(){const _0x2a9a8b=a0_0x525ac;await D[_0x2a9a8b(0x5b9)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await D[_0x2a9a8b(0x5b9)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await D[_0x2a9a8b(0x5b9)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0x525ac(0x649),()=>{const _0x5a5f11=a0_0x525ac;D&&Go()['catch'](_0x25efd1=>ea[_0x5a5f11(0x3cc)](_0x5a5f11(0x66b)+_0x25efd1));});var ns=class{},qo=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new Be[(a0_0x525ac(0x5d4))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ho=new Be[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),D=M?.['model'](ns[a0_0x525ac(0x524)],Ho,a0_0x525ac(0x2e8)),ta=require(a0_0x525ac(0x2d0)),cs=class{},Ko=new ta[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x525ac(0x45c)](cs[a0_0x525ac(0x524)],Ko,a0_0x525ac(0x521)),O=require('mongoose'),sa=new O[(a0_0x525ac(0x5d4))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ls=new O[(a0_0x525ac(0x5d4))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new O['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x525ac(0x703)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),aa=new O[(a0_0x525ac(0x5d4))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oa=new O[(a0_0x525ac(0x5d4))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Qo=new O[(a0_0x525ac(0x5d4))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ia=new O[(a0_0x525ac(0x5d4))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':oa,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),hs=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ra=new O[(a0_0x525ac(0x5d4))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),us=class{},na=new O[(a0_0x525ac(0x5d4))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1aa24c=a0_0x525ac;return _0x1aa24c(0x1d4)+Math[_0x1aa24c(0x671)]()[_0x1aa24c(0x679)](0x24)[_0x1aa24c(0x550)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[hs],'variablesNotFound':{'type':[String]},'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]}});na[a0_0x525ac(0x2ca)]('save',function(_0x40ea2c){const _0x53bd86=a0_0x525ac;let _0x74369b=new Set(),_0x67e2f3=new Set(this['variables']?.[_0x53bd86(0x595)](_0x588968=>_0x588968[_0x53bd86(0x524)])),_0x26a422=JSON['stringify'](this),_0xb2b49=/{{(?!_)([^}]*)}}/g,_0x19c612;for(;(_0x19c612=_0xb2b49['exec'](_0x26a422))!==null;)_0x67e2f3[_0x53bd86(0x18c)](_0x19c612[0x1])||_0x74369b['add'](_0x19c612[0x1]);_0x74369b['size']>0x0?(console['warn'](_0x53bd86(0x276),Array[_0x53bd86(0x248)](_0x74369b)),this['variablesNotFound']=Array[_0x53bd86(0x248)](_0x74369b)):this[_0x53bd86(0x363)]=[],_0x40ea2c();});var I=M?.[a0_0x525ac(0x45c)](us[a0_0x525ac(0x524)],na,a0_0x525ac(0x71d)),Yo=new O[(a0_0x525ac(0x5d4))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[hs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qo]},{'_id':!0x1}),ds=class{},Xo=new O[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[hs],'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]},'chatLog':Yo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x525ac(0x182)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[ls],'default':[]}}),F=M?.['model'](ds[a0_0x525ac(0x524)],Xo,'flowConversation'),ps=class{},Zo=new O['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ei=new O[(a0_0x525ac(0x5d4))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x525ac(0x6e7)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.[a0_0x525ac(0x45c)](ps[a0_0x525ac(0x524)],ei,a0_0x525ac(0x607)),gs=class{},ti=new O[(a0_0x525ac(0x5d4))]({'name':{'type':String},'requests':[oa],'owner':{'type':String}}),en=M?.['model'](gs[a0_0x525ac(0x524)],ti,a0_0x525ac(0x24d)),ms=class{},si=new O[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ai=new O[(a0_0x525ac(0x5d4))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x525ac(0x5f0)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),oi=new O[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ii=new O[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[oi]},'customFields':{'type':[si]},'flowConfig':{'type':ai,'default':{}}}),ie=M?.['model'](ms['name'],ii,'AutomateSystem'),be=T(require(a0_0x525ac(0x2d0))),k=require(a0_0x525ac(0x4e6)),fe=class{constructor(_0x53c2f7,_0xfee4ce,_0x2575ee){const _0x4be480=a0_0x525ac;this[_0x4be480(0x2c9)]=_0x53c2f7,this[_0x4be480(0x42c)]=_0xfee4ce,this[_0x4be480(0x524)]=_0x2575ee;}},Je=class{},Ge=class{},Ce=class{},qe=class{},We=class{},we=class{},He=class{},Ke=class{},ze=class{},Qe=class{},Pt=T(require(a0_0x525ac(0x446))),ca=require('fs'),la=require(a0_0x525ac(0x18d));async function Ye(_0x211525){const _0x281ae3=a0_0x525ac;let _0x29459c=J[_0x281ae3(0x6e3)][_0x211525];if(G[_0x281ae3(0x517)]){let _0x5a2197=M[_0x281ae3(0x272)]()['db'](G['CONNECTION'][_0x281ae3(0x37e)]+_0x281ae3(0x3c6))[_0x281ae3(0x4d1)](_0x211525);return _0x29459c||(await _0x5a2197[_0x281ae3(0x252)]({})[_0x281ae3(0x598)]())[_0x281ae3(0x261)]>0x0;}return _0x29459c||(0x0,ca['existsSync'])((0x0,la['join'])(j,_0x211525));}async function fs(_0x411cfa,_0x4265af,_0x495a2e){const _0x21ab12=a0_0x525ac;if(_0x411cfa[_0x21ab12(0x506)]['includes'](_0x21ab12(0x646))||_0x411cfa[_0x21ab12(0x506)]['includes'](_0x21ab12(0x4e4))||_0x411cfa[_0x21ab12(0x506)]['includes']('/exit'))return _0x495a2e();let _0x1de298=_0x411cfa[_0x21ab12(0x605)];if(!_0x1de298?.[_0x21ab12(0x2b3)])throw new g(_0x21ab12(0x57d));if(!await Ye(_0x1de298[_0x21ab12(0x2b3)]))throw new x(_0x21ab12(0x338)+_0x1de298[_0x21ab12(0x2b3)]+_0x21ab12(0x28b));_0x495a2e();}async function ua(_0x590fa9,_0x1bc381,_0x36a204){const _0x2fda21=a0_0x525ac;if(_0x590fa9[_0x2fda21(0x506)][_0x2fda21(0x672)](_0x2fda21(0x646))){let _0x13e3e0=_0x590fa9[_0x2fda21(0x6a7)];if(await Ye(_0x13e3e0[_0x2fda21(0x2b3)]))throw new re(_0x2fda21(0x5d6)+_0x13e3e0[_0x2fda21(0x2b3)]+'\x20is\x20already\x20in\x20use.');J[_0x2fda21(0x6e3)][_0x13e3e0[_0x2fda21(0x2b3)]]&&delete J['waInstances'][_0x13e3e0[_0x2fda21(0x2b3)]];}_0x36a204();}var da=require(a0_0x525ac(0x4e6)),pa=T(require('jsonwebtoken')),Xe=a0_0x525ac(0x490),ni=new C(a0_0x525ac(0x310));async function ci(_0x132fa8,_0x359c27,_0x1584fd){const _0x4c30b1=a0_0x525ac;let _0x2fda36=_0x132fa8[_0x4c30b1(0x60a)]('apikey');if(_0x2fda36&&y[_0x4c30b1(0x60a)](_0x4c30b1(0x3c0))[_0x4c30b1(0x251)][_0x4c30b1(0x66e)]!==_0x2fda36)throw new ne();if(y[_0x4c30b1(0x60a)](_0x4c30b1(0x3c0))[_0x4c30b1(0x251)][_0x4c30b1(0x66e)]===_0x2fda36)return _0x1584fd();if((_0x132fa8[_0x4c30b1(0x506)]['includes']('/instance/create')||_0x132fa8['originalUrl']['includes'](_0x4c30b1(0x4e4)))&&!_0x2fda36)throw new re(_0x4c30b1(0x374),_0x4c30b1(0x257));let _0x829784=y[_0x4c30b1(0x60a)]('AUTHENTICATION')[_0x4c30b1(0x38c)];try{let [_0x3bd4ba,_0x347b82]=_0x132fa8[_0x4c30b1(0x60a)](_0x4c30b1(0x486))['split']('\x20');if(_0x3bd4ba['toLowerCase']()!==_0x4c30b1(0x6c8))throw new ne();if(!(0x0,da[_0x4c30b1(0x17b)])(_0x347b82))throw new ne();let _0xd256dd=_0x132fa8[_0x4c30b1(0x605)],_0x13be6e=pa[_0x4c30b1(0x6de)][_0x4c30b1(0x16c)](_0x347b82,_0x829784[_0x4c30b1(0x5ce)],{'ignoreExpiration':_0x829784['EXPIRIN_IN']===0x0});if(_0xd256dd[_0x4c30b1(0x2b3)]!==_0x13be6e[_0x4c30b1(0x2b3)]||Xe!==_0x13be6e['apiName'])throw new ne();return _0x1584fd();}catch(_0x15496c){throw ni[_0x4c30b1(0x3cc)](_0x15496c),new ne();}}async function li(_0x1aa96a,_0x39e597,_0x22669a){const _0x5aa895=a0_0x525ac;let _0x4e4878=y[_0x5aa895(0x60a)](_0x5aa895(0x3c0))['API_KEY'],_0x1d8dbc=_0x1aa96a[_0x5aa895(0x60a)]('apikey');if(_0x4e4878['KEY']===_0x1d8dbc)return _0x22669a();if(_0x1aa96a[_0x5aa895(0x506)][_0x5aa895(0x672)](_0x5aa895(0x646))){let _0x10dbec=y[_0x5aa895(0x60a)](_0x5aa895(0x482)),_0x63495f=_0x1aa96a['body'][_0x5aa895(0x2b3)];if(_0x10dbec&&_0x63495f['toLowerCase']()['startsWith'](_0x10dbec[_0x5aa895(0x5b5)]()))return _0x22669a();if(!_0x1d8dbc)throw new re(_0x5aa895(0x374),_0x5aa895(0x257));}if(_0x1aa96a['originalUrl'][_0x5aa895(0x672)]('/instance/fetchInstances')&&!_0x1d8dbc)throw new re(_0x5aa895(0x374),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1aa96a['originalUrl'][_0x5aa895(0x672)](_0x5aa895(0x2a8))&&!_0x1d8dbc)throw new re(_0x5aa895(0x374),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2b609a=_0x1aa96a[_0x5aa895(0x605)];if((await de[_0x5aa895(0x50b)][_0x5aa895(0x252)](_0x2b609a[_0x5aa895(0x2b3)]))[_0x5aa895(0x4da)]===_0x1d8dbc)return _0x22669a();}catch{}throw new ne();}var ga={'jwt':ci,'apikey':li},Ka=require(a0_0x525ac(0x446)),E=require('uuid'),S=(..._0x2377a3)=>{const _0x13de93=a0_0x525ac;let _0x3b4a69={};return _0x2377a3[_0x13de93(0x319)](_0x17a21c=>_0x3b4a69[_0x17a21c]={'minLength':0x1,'description':_0x13de93(0x2b1)+_0x17a21c+_0x13de93(0x240)}),{'if':{'propertyNames':{'enum':[..._0x2377a3]}},'then':{'properties':_0x3b4a69}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'instanceName':{'type':a0_0x525ac(0x5fb)}},...S('instanceName')},ma={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'oldToken':{'type':a0_0x525ac(0x5fb)}},'required':['oldToken'],...S('oldToken')},wn={'properties':{'key':{'type':a0_0x525ac(0x600),'properties':{'id':{'type':a0_0x525ac(0x5fb)},'remoteJid':{'type':a0_0x525ac(0x5fb)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x525ac(0x6ff),a0_0x525ac(0x4bd)],...S('id',a0_0x525ac(0x6ff))},'message':{'type':a0_0x525ac(0x600)}}},X={'properties':{'delay':{'type':'integer','description':a0_0x525ac(0x371)},'presence':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x705),a0_0x525ac(0x25b),a0_0x525ac(0x1e6),a0_0x525ac(0x4a6),a0_0x525ac(0x32a)]}}},Z={'type':a0_0x525ac(0x5fb),'pattern':a0_0x525ac(0x1f9),'description':a0_0x525ac(0x47d)},ha={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'textMessage':{'type':a0_0x525ac(0x600),'properties':{'text':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x342)],...S(a0_0x525ac(0x342))}},'required':[a0_0x525ac(0x25d),a0_0x525ac(0x496)]},fa={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x525ac(0x47d)},yn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...fa},'options':{...X},'textMessage':{'type':a0_0x525ac(0x600),'properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0x525ac(0x342))}},'required':[a0_0x525ac(0x25d),a0_0x525ac(0x496)]},bn={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...fa},'options':{...X},'mediaMessage':{'type':a0_0x525ac(0x600),'properties':{'mediatype':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x3a2),'document',a0_0x525ac(0x1e2),'audio']},'media':{'type':a0_0x525ac(0x5fb)},'fileName':{'type':a0_0x525ac(0x5fb)},'caption':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x60e),a0_0x525ac(0x19d)],...S(a0_0x525ac(0x67a),'caption',a0_0x525ac(0x19d))}},'required':[a0_0x525ac(0x1dd),a0_0x525ac(0x496)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'stickerMessage':{'type':a0_0x525ac(0x600),'properties':{'image':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x3a2)],...S(a0_0x525ac(0x3a2))}},'required':[a0_0x525ac(0x40e),'number']},ya={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'statusMessage':{'type':a0_0x525ac(0x600),'properties':{'type':{'type':'string','enum':[a0_0x525ac(0x342),'image','audio',a0_0x525ac(0x1e2)]},'content':{'type':a0_0x525ac(0x5fb)},'caption':{'type':a0_0x525ac(0x5fb)},'backgroundColor':{'type':a0_0x525ac(0x5fb)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x525ac(0x5fb),'pattern':a0_0x525ac(0x3e1),'description':a0_0x525ac(0x16a)}},'allContacts':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]}},'required':[a0_0x525ac(0x594),a0_0x525ac(0x717)],...S(a0_0x525ac(0x594),a0_0x525ac(0x717))}},'required':['statusMessage']},ba={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x525ac(0x3a2),'document',a0_0x525ac(0x1e2),a0_0x525ac(0x1d5)]},'media':{'type':'string'},'fileName':{'type':a0_0x525ac(0x5fb)},'caption':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x60e),a0_0x525ac(0x19d)],...S('fileName',a0_0x525ac(0x586),a0_0x525ac(0x19d))}},'required':['mediaMessage',a0_0x525ac(0x496)]},Sa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'audioMessage':{'type':a0_0x525ac(0x600),'properties':{'audio':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x1d5)],...S(a0_0x525ac(0x1d5))}},'required':[a0_0x525ac(0x1a2),a0_0x525ac(0x496)]},Ea={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x525ac(0x600),'properties':{'name':{'type':a0_0x525ac(0x5fb)},'selectableCount':{'type':a0_0x525ac(0x496)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount',a0_0x525ac(0x1d1)],...S(a0_0x525ac(0x524),a0_0x525ac(0x3f5),a0_0x525ac(0x1d1))}},'required':[a0_0x525ac(0x496),'pollMessage']},va={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x525ac(0x5fb)},'description':{'type':a0_0x525ac(0x5fb)},'footerText':{'type':a0_0x525ac(0x5fb)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x525ac(0x600),'properties':{'buttonText':{'type':a0_0x525ac(0x5fb)},'buttonId':{'type':'string'}},'required':[a0_0x525ac(0x27f),'buttonId'],...S(a0_0x525ac(0x27f),a0_0x525ac(0x53e))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x525ac(0x5fb)},'mediatype':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x3a2),a0_0x525ac(0x1c3),a0_0x525ac(0x1e2)]}},'required':[a0_0x525ac(0x19d),a0_0x525ac(0x60e)],...S(a0_0x525ac(0x19d),a0_0x525ac(0x67a))}},'required':[a0_0x525ac(0x199),a0_0x525ac(0x548)],...S('title',a0_0x525ac(0x2a2))}},'required':[a0_0x525ac(0x496),a0_0x525ac(0x3ea)]},Na={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'locationMessage':{'type':a0_0x525ac(0x600),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x525ac(0x496)},'name':{'type':a0_0x525ac(0x5fb)},'address':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x4d2),'longitude'],...S('name',a0_0x525ac(0x5d0))}},'required':[a0_0x525ac(0x496),'locationMessage']},Ca={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'listMessage':{'type':a0_0x525ac(0x600),'properties':{'title':{'type':a0_0x525ac(0x5fb)},'description':{'type':a0_0x525ac(0x5fb)},'footerText':{'type':a0_0x525ac(0x5fb)},'buttonText':{'type':a0_0x525ac(0x5fb)},'sections':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x525ac(0x600),'properties':{'title':{'type':a0_0x525ac(0x5fb)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x525ac(0x5fb)},'description':{'type':a0_0x525ac(0x5fb)},'rowId':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x199),'description',a0_0x525ac(0x713)],...S(a0_0x525ac(0x199),a0_0x525ac(0x2a2),'rowId')}}},'required':[a0_0x525ac(0x199),'rows'],...S(a0_0x525ac(0x199))}}},'required':['title',a0_0x525ac(0x2a2),a0_0x525ac(0x27f),a0_0x525ac(0x20c)],...S(a0_0x525ac(0x199),a0_0x525ac(0x2a2),'buttonText','footerText')}},'required':['number',a0_0x525ac(0x49b)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{...Z},'options':{...X},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x525ac(0x5fb)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x525ac(0x26d)],...S(a0_0x525ac(0x3c3))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x525ac(0x1ed)]},Ma={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'reactionMessage':{'type':a0_0x525ac(0x600),'properties':{'key':{'type':a0_0x525ac(0x600),'properties':{'id':{'type':a0_0x525ac(0x5fb)},'remoteJid':{'type':a0_0x525ac(0x5fb)},'fromMe':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x525ac(0x6ff),a0_0x525ac(0x4bd)],...S('id',a0_0x525ac(0x6ff))},'reaction':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x4ba),'reaction'],...S(a0_0x525ac(0x62a))}},'required':['reactionMessage']},Ra={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'numbers':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x525ac(0x3e1),'description':a0_0x525ac(0x626)}}}},Aa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x525ac(0x5fb)}},'required':['id',a0_0x525ac(0x4bd),a0_0x525ac(0x6ff)],...S('id','remoteJid')}}},'required':['readMessages']},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x525ac(0x264),a0_0x525ac(0x4fd)]},'profile':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x264),a0_0x525ac(0x521),a0_0x525ac(0x528),a0_0x525ac(0x4fd)]},'status':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x264),a0_0x525ac(0x521),a0_0x525ac(0x528),a0_0x525ac(0x4fd)]},'online':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x264),a0_0x525ac(0x4ea)]},'last':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x264),a0_0x525ac(0x521),a0_0x525ac(0x528),a0_0x525ac(0x4fd)]},'groupadd':{'type':a0_0x525ac(0x5fb),'enum':['all',a0_0x525ac(0x521),a0_0x525ac(0x528),a0_0x525ac(0x4fd)]}},'required':[a0_0x525ac(0x729),a0_0x525ac(0x5da),a0_0x525ac(0x504),a0_0x525ac(0x2ad),a0_0x525ac(0x439),a0_0x525ac(0x3b9)],...S(a0_0x525ac(0x729),a0_0x525ac(0x5da),a0_0x525ac(0x504),a0_0x525ac(0x2ad),a0_0x525ac(0x439),a0_0x525ac(0x3b9))}},'required':[a0_0x525ac(0x207)]},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x525ac(0x600),'properties':{'key':{'type':a0_0x525ac(0x600),'properties':{'id':{'type':a0_0x525ac(0x5fb)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x525ac(0x4bd),a0_0x525ac(0x6ff)],...S('id',a0_0x525ac(0x6ff))},'messageTimestamp':{'type':a0_0x525ac(0x3bd),'minLength':0x1}},'required':[a0_0x525ac(0x4ba)],...S(a0_0x525ac(0x4fa))},'archive':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]}},'required':[a0_0x525ac(0x2bb),a0_0x525ac(0x2f8)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'id':{'type':a0_0x525ac(0x5fb)},'fromMe':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x525ac(0x5fb)}},'required':['id',a0_0x525ac(0x4bd),a0_0x525ac(0x6ff)],...S('id',a0_0x525ac(0x6ff),a0_0x525ac(0x203))},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x525ac(0x5fb),'minLength':0x1},'pushName':{'type':a0_0x525ac(0x5fb),'minLength':0x1},'id':{'type':a0_0x525ac(0x5fb),'minLength':0x1}},...S(a0_0x525ac(0x635),'id',a0_0x525ac(0x3d5))}}},_a={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'name':{'type':a0_0x525ac(0x5fb)}},...S(a0_0x525ac(0x524))},xa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'status':{'type':a0_0x525ac(0x5fb)}},...S(a0_0x525ac(0x504))},Te={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'number':{'type':a0_0x525ac(0x5fb)},'picture':{'type':'string'}}},$a={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x525ac(0x5fb)},'picture':{'type':'string'},'status':{'type':a0_0x525ac(0x5fb)},'isBusiness':{'type':a0_0x525ac(0x47b)}}},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x525ac(0x5fb),'minLength':0x1},'key':{'type':a0_0x525ac(0x600),'if':{'propertyNames':{'enum':[a0_0x525ac(0x4bd),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x525ac(0x5fb),'minLength':0x1,'description':a0_0x525ac(0x195)},'id':{'type':a0_0x525ac(0x5fb),'minLength':0x1,'description':a0_0x525ac(0x195)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x525ac(0x600)}},...S(a0_0x525ac(0x635))},'limit':{'type':a0_0x525ac(0x3bd)}}},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x525ac(0x600),'properties':{'_id':{'type':a0_0x525ac(0x5fb)},'remoteJid':{'type':'string'},'id':{'type':a0_0x525ac(0x5fb)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x525ac(0x5fb)},'status':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x670),'PENDING',a0_0x525ac(0x313),'DELIVERY_ACK',a0_0x525ac(0x72d),a0_0x525ac(0x6b2)]}},...S(a0_0x525ac(0x635),a0_0x525ac(0x6ff),'id',a0_0x525ac(0x504))},'limit':{'type':a0_0x525ac(0x3bd)}}},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x525ac(0x5fb),'enum':[a0_0x525ac(0x705),a0_0x525ac(0x25b),a0_0x525ac(0x1e6),a0_0x525ac(0x4a6),a0_0x525ac(0x32a)]}},'required':[a0_0x525ac(0x4c7),a0_0x525ac(0x496)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'subject':{'type':a0_0x525ac(0x5fb)},'description':{'type':a0_0x525ac(0x5fb)},'profilePicture':{'type':a0_0x525ac(0x5fb)},'participants':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x525ac(0x5fb),'minLength':0xa,'pattern':a0_0x525ac(0x533),'description':a0_0x525ac(0x35f)}}},'required':[a0_0x525ac(0x619),a0_0x525ac(0x32b)],...S('subject',a0_0x525ac(0x2a2),a0_0x525ac(0x6b5))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb),'pattern':a0_0x525ac(0x1fb)}},'required':[a0_0x525ac(0x27a)],...S('groupJid')},ja={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'action':{'type':'string','enum':[a0_0x525ac(0x5d5),a0_0x525ac(0x4d6),a0_0x525ac(0x5f7),a0_0x525ac(0x426)]},'participants':{'type':a0_0x525ac(0x6b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x525ac(0x5fb),'minLength':0xa,'pattern':a0_0x525ac(0x533),'description':a0_0x525ac(0x35f)}}},'required':[a0_0x525ac(0x27a),'action',a0_0x525ac(0x32b)],...S('groupJid',a0_0x525ac(0x5b0))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'expiration':{'type':a0_0x525ac(0x496),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x525ac(0x27a),'expiration'],...S('groupJid',a0_0x525ac(0x4b7))},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'image':{'type':'string'}},'required':[a0_0x525ac(0x27a),'image'],...S(a0_0x525ac(0x27a),a0_0x525ac(0x3a2))},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'description':{'type':'string'}},'required':['groupJid',a0_0x525ac(0x2a2)],...S('groupJid',a0_0x525ac(0x2a2))},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'name':{'type':'string'}},'required':[a0_0x525ac(0x27a),a0_0x525ac(0x524)],...S(a0_0x525ac(0x27a),'name')},qa={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'groupJid':{'type':a0_0x525ac(0x5fb)},'setting':{'type':'string','enum':[a0_0x525ac(0x461),a0_0x525ac(0x479),'unlocked','locked']}},'required':['groupJid',a0_0x525ac(0x602)],...S(a0_0x525ac(0x27a),a0_0x525ac(0x602))},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x525ac(0x5fb)}},'required':[a0_0x525ac(0x591)],...S(a0_0x525ac(0x591))},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'url':{'type':a0_0x525ac(0x5fb)},'enabled':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]}},'required':['url',a0_0x525ac(0x2bc)]},Sn={'$id':(0x0,E['v4'])(),'type':a0_0x525ac(0x600),'properties':{'local_map':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x525ac(0x47b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x525ac(0x1b5),a0_0x525ac(0x72b),a0_0x525ac(0x5f4),a0_0x525ac(0x46c),a0_0x525ac(0x24c),a0_0x525ac(0x4a0),'CONTACTS_SET',a0_0x525ac(0x218),a0_0x525ac(0x2f0),'PRESENCE_UPDATE',a0_0x525ac(0x2fb),a0_0x525ac(0x265),a0_0x525ac(0x6e2),a0_0x525ac(0x43c),a0_0x525ac(0x234),a0_0x525ac(0x465),a0_0x525ac(0x19c),a0_0x525ac(0x67e)],...S(a0_0x525ac(0x460),'STATUS_INSTANCE',a0_0x525ac(0x72b),'MESSAGES_SET',a0_0x525ac(0x46c),a0_0x525ac(0x24c),a0_0x525ac(0x4a0),a0_0x525ac(0x28c),'CONTACTS_UPSERT',a0_0x525ac(0x2f0),a0_0x525ac(0x2c6),a0_0x525ac(0x2fb),a0_0x525ac(0x265),a0_0x525ac(0x6e2),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x525ac(0x465),a0_0x525ac(0x19c),a0_0x525ac(0x67e))},Ae=require('fs'),Re=require(a0_0x525ac(0x18d)),Ze=class{},et=class extends B{constructor(_0x3bbd77,_0x20519b){const _0xd97b97=a0_0x525ac;super(_0x20519b),this[_0xd97b97(0x312)]=_0x3bbd77,this[_0xd97b97(0x181)]=_0x20519b;}async[a0_0x525ac(0x5ac)](_0x59208c,_0x255486=!0x1){const _0xba8977=a0_0x525ac;if(_0x59208c[_0xba8977(0x261)]!==0x0)try{return this[_0xba8977(0x294)][_0xba8977(0x517)]&&_0x255486?{'insertCount':(await this[_0xba8977(0x312)][_0xba8977(0x525)]([..._0x59208c]))[_0xba8977(0x261)]}:(_0x59208c[_0xba8977(0x319)](_0x1085cc=>{const _0x506baf=_0xba8977;this[_0x506baf(0x5b1)]({'path':(0x0,Re[_0x506baf(0x5c2)])(this[_0x506baf(0x418)],'contacts',_0x1085cc['owner']),'fileName':_0x1085cc['id'],'data':_0x1085cc});}),{'insertCount':_0x59208c[_0xba8977(0x261)]});}catch(_0x183618){return _0x183618;}finally{_0x59208c=void 0x0;}}async[a0_0x525ac(0x2c2)](_0x2e1748){const _0x551368=a0_0x525ac;try{return this[_0x551368(0x294)]['ENABLED']?await this['contactModel'][_0x551368(0x279)]({..._0x2e1748['where']}):{'deleted':{'contact':_0x2e1748[_0x551368(0x17c)]['id']}};}catch(_0x5437d9){return{'error':_0x5437d9?.[_0x551368(0x679)]()};}}async['update'](_0x1dc1ed,_0x108da0=!0x1){const _0x2fdb26=a0_0x525ac;try{if(_0x1dc1ed[_0x2fdb26(0x261)]===0x0)return;if(this['dbSettings'][_0x2fdb26(0x517)]&&_0x108da0){let _0x654085=_0x1dc1ed[_0x2fdb26(0x595)](_0xe8d47a=>({'updateOne':{'filter':{'id':_0xe8d47a['id']},'update':{..._0xe8d47a},'upsert':!0x0}})),{nModified:_0x4dbfdb}=await this[_0x2fdb26(0x312)]['bulkWrite'](_0x654085);return{'insertCount':_0x4dbfdb};}}catch{return;}}async[a0_0x525ac(0x252)](_0x45e4c1){const _0x508c8d=a0_0x525ac;try{if(this[_0x508c8d(0x294)][_0x508c8d(0x517)])return await this[_0x508c8d(0x312)][_0x508c8d(0x252)]({..._0x45e4c1['where']});let _0x1ac9c0=[];if(_0x45e4c1?.[_0x508c8d(0x17c)]?.['id'])_0x1ac9c0[_0x508c8d(0x6a1)](JSON['parse']((0x0,Ae['readFileSync'])((0x0,Re['join'])(this[_0x508c8d(0x418)],'contacts',_0x45e4c1[_0x508c8d(0x17c)][_0x508c8d(0x3f3)],_0x45e4c1[_0x508c8d(0x17c)]['id']+_0x508c8d(0x2ce)),{'encoding':_0x508c8d(0x601)})));else{let _0x5cb8cc=(0x0,Ae[_0x508c8d(0x530)])((0x0,Re[_0x508c8d(0x5c2)])(this['storePath'],_0x508c8d(0x521),_0x45e4c1[_0x508c8d(0x17c)][_0x508c8d(0x3f3)]),{'encoding':'utf-8'});for await(let _0x2436c6 of _0x5cb8cc)_0x2436c6[_0x508c8d(0x302)]()&&_0x1ac9c0['push'](JSON[_0x508c8d(0x20b)]((0x0,Ae[_0x508c8d(0x46a)])((0x0,Re[_0x508c8d(0x5c2)])(this[_0x508c8d(0x418)],_0x508c8d(0x521),_0x45e4c1[_0x508c8d(0x17c)][_0x508c8d(0x3f3)],_0x2436c6[_0x508c8d(0x524)]),{'encoding':_0x508c8d(0x601)})));}return _0x1ac9c0;}catch{return[];}}},tt=require('jsonschema'),Mn=require(a0_0x525ac(0x1ad)),ws=new C('Validate'),L=class{constructor(){}[a0_0x525ac(0x191)](_0x3f85f4,_0x2c3ade=!0x0){const _0x537556=a0_0x525ac;let _0x13af78='/'+_0x3f85f4;return _0x2c3ade&&(_0x13af78+=_0x537556(0x259)),_0x13af78;}async['dataValidate'](_0x268c27){const _0x5e73fe=a0_0x525ac;let {request:_0x198602,schema:_0x2a8a71,ClassRef:_0x3a8bf6,execute:_0x5d4e2d}=_0x268c27,_0x2eeb87=new _0x3a8bf6(),_0x2dc9fa=_0x198602['body'],_0x4ff1f1=_0x198602['params'];_0x198602?.[_0x5e73fe(0x4dc)]&&Object[_0x5e73fe(0x697)](_0x198602[_0x5e73fe(0x4dc)])[_0x5e73fe(0x261)]>0x0&&Object[_0x5e73fe(0x2da)](_0x4ff1f1,_0x198602[_0x5e73fe(0x4dc)]),_0x198602[_0x5e73fe(0x506)][_0x5e73fe(0x672)]('/instance/create')&&Object[_0x5e73fe(0x2da)](_0x4ff1f1,_0x2dc9fa),Object[_0x5e73fe(0x2da)](_0x2eeb87,_0x2dc9fa);let _0x24dd93=_0x2a8a71?(0x0,tt[_0x5e73fe(0x260)])(_0x2eeb87,_0x2a8a71):{'valid':!0x0,'errors':[]};if(!_0x24dd93['valid']){let _0x11f4e2=_0x24dd93[_0x5e73fe(0x258)][_0x5e73fe(0x595)](({property:_0x2c189b,stack:_0x5ad2dc,schema:_0x593165})=>{const _0x1072c8=_0x5e73fe;let _0x15cce0;return _0x593165['description']?_0x15cce0=_0x593165[_0x1072c8(0x2a2)]:_0x15cce0=_0x5ad2dc[_0x1072c8(0x1db)](_0x1072c8(0x402),''),{'property':_0x2c189b['replace'](_0x1072c8(0x402),''),'message':_0x15cce0};});throw ws[_0x5e73fe(0x3cc)]([..._0x11f4e2]),new g(..._0x11f4e2);}return await _0x5d4e2d(_0x4ff1f1,_0x2eeb87);}async[a0_0x525ac(0x2b9)](_0x5836f8){const _0x3df83e=a0_0x525ac;let {request:_0x29dc53,ClassRef:_0x19de55,schema:_0x3c8283,execute:_0x341191}=_0x5836f8,_0x31d74e=_0x29dc53['query'];if(!_0x31d74e?.['groupJid'])throw new g(_0x3df83e(0x553),_0x3df83e(0x4cd));let _0x3e0f0b=_0x29dc53['params'],_0x480fa5=_0x29dc53[_0x3df83e(0x6a7)],_0xab0ef9=new _0x19de55();Object[_0x3df83e(0x2da)](_0x480fa5,_0x31d74e),Object[_0x3df83e(0x2da)](_0xab0ef9,_0x480fa5);let _0x3dd843=(0x0,tt[_0x3df83e(0x260)])(_0xab0ef9,_0x3c8283);if(!_0x3dd843[_0x3df83e(0x5f2)]){let _0x54bea3=_0x3dd843[_0x3df83e(0x258)][_0x3df83e(0x595)](({property:_0x1c5a33,stack:_0x23ca37,schema:_0x31d494})=>{const _0x4e9362=_0x3df83e;let _0x40e22e;return _0x31d494[_0x4e9362(0x2a2)]?_0x40e22e=_0x31d494['description']:_0x40e22e=_0x23ca37[_0x4e9362(0x1db)]('instance.',''),{'property':_0x1c5a33['replace'](_0x4e9362(0x402),''),'message':_0x40e22e};});throw ws['error']([..._0x54bea3]),new g(..._0x54bea3);}return await _0x341191(_0x3e0f0b,_0xab0ef9);}async[a0_0x525ac(0x49e)](_0x4f6a72){const _0x4868f5=a0_0x525ac;let {request:_0x11a12b,ClassRef:_0x121f40,schema:_0x50a94a,execute:_0x419da9}=_0x4f6a72,_0x3d7f60=_0x11a12b[_0x4868f5(0x6a7)];if(!_0x3d7f60?.[_0x4868f5(0x591)])throw new g(_0x4868f5(0x163),_0x4868f5(0x2f9));let _0x13d7f3=_0x11a12b['params'],_0x4397e2=_0x11a12b[_0x4868f5(0x6a7)],_0x39abdb=new _0x121f40();Object[_0x4868f5(0x2da)](_0x4397e2,_0x3d7f60),Object[_0x4868f5(0x2da)](_0x39abdb,_0x4397e2);let _0x2e739a=(0x0,tt[_0x4868f5(0x260)])(_0x39abdb,_0x50a94a);if(!_0x2e739a[_0x4868f5(0x5f2)]){let _0x3f34bb=_0x2e739a[_0x4868f5(0x258)]['map'](({property:_0x2b5cd3,stack:_0x4691a7,schema:_0x4af0b5})=>{const _0x510f89=_0x4868f5;let _0x68f482;return _0x4af0b5['description']?_0x68f482=_0x4af0b5[_0x510f89(0x2a2)]:_0x68f482=_0x4691a7[_0x510f89(0x1db)](_0x510f89(0x402),''),{'property':_0x2b5cd3['replace'](_0x510f89(0x402),''),'message':_0x68f482};});throw ws[_0x4868f5(0x3cc)]([..._0x3f34bb]),new g(..._0x3f34bb);}return await _0x419da9(_0x13d7f3,_0x39abdb);}},Ie=require(a0_0x525ac(0x18d)),De=require('fs'),st=class{},at=class extends B{constructor(_0x1db1f3,_0x3f7ff0){const _0x1947c4=a0_0x525ac;super(_0x3f7ff0),this[_0x1947c4(0x682)]=_0x1db1f3,this[_0x1947c4(0x181)]=_0x3f7ff0;}async['insert'](_0x48a28b,_0x1c2ee7){const _0xd0399e=a0_0x525ac;if(_0x48a28b[_0xd0399e(0x261)]!==0x0)try{if(this[_0xd0399e(0x294)]['ENABLED']&&_0x1c2ee7)return{'insertCount':(await this[_0xd0399e(0x682)]['insertMany']([..._0x48a28b]))[_0xd0399e(0x261)]};_0x48a28b[_0xd0399e(0x319)](_0x368ec0=>{const _0x465434=_0xd0399e;this[_0x465434(0x5b1)]({'path':(0x0,Ie['join'])(this[_0x465434(0x418)],_0x465434(0x386),_0x368ec0['owner']),'fileName':_0x368ec0['id'],'data':_0x368ec0});});}catch(_0x5cdae1){return _0x5cdae1;}}async['find'](_0x590492){const _0x307c3f=a0_0x525ac;try{if(this['dbSettings'][_0x307c3f(0x517)])return await this[_0x307c3f(0x682)]['find']({..._0x590492[_0x307c3f(0x17c)]})['sort']({'datetime':-0x1})[_0x307c3f(0x292)](_0x590492?.[_0x307c3f(0x292)]??0x0);let _0xc97e6=[];if(_0x590492?.[_0x307c3f(0x17c)]?.['id'])_0xc97e6['push'](JSON['parse']((0x0,De['readFileSync'])((0x0,Ie['join'])(this[_0x307c3f(0x418)],_0x307c3f(0x386),_0x590492[_0x307c3f(0x17c)][_0x307c3f(0x3f3)],_0x590492[_0x307c3f(0x17c)]['id']+_0x307c3f(0x2ce)),{'encoding':_0x307c3f(0x601)})));else{let _0x413ae7=(0x0,De[_0x307c3f(0x530)])((0x0,Ie['join'])(this['storePath'],'message-up',_0x590492[_0x307c3f(0x17c)][_0x307c3f(0x3f3)]),{'encoding':_0x307c3f(0x601)});for await(let _0xf3ccef of _0x413ae7)_0xf3ccef[_0x307c3f(0x302)]()&&_0xc97e6[_0x307c3f(0x6a1)](JSON[_0x307c3f(0x20b)]((0x0,De[_0x307c3f(0x46a)])((0x0,Ie[_0x307c3f(0x5c2)])(this[_0x307c3f(0x418)],'message-up',_0x590492[_0x307c3f(0x17c)][_0x307c3f(0x3f3)],_0xf3ccef[_0x307c3f(0x524)]),{'encoding':'utf-8'})));}return _0xc97e6[_0x307c3f(0x179)]((_0x1d0870,_0x13ad75)=>_0x13ad75[_0x307c3f(0x335)]-_0x1d0870[_0x307c3f(0x335)])[_0x307c3f(0x5b8)](0x0,_0x590492?.[_0x307c3f(0x292)]??_0xc97e6[_0x307c3f(0x261)]);}catch{return[];}}async[a0_0x525ac(0x2c2)](_0x4fd8da){const _0x16f26a=a0_0x525ac;try{if(this[_0x16f26a(0x294)][_0x16f26a(0x517)])return await this[_0x16f26a(0x682)][_0x16f26a(0x279)]({..._0x4fd8da[_0x16f26a(0x17c)]});}catch(_0x270462){return console[_0x16f26a(0x3cc)](_0x16f26a(0x160),_0x270462),_0x270462;}}},b=class{},ot=class extends L{constructor(..._0x5355f3){const _0x5b0a1d=a0_0x525ac;super(),this[_0x5b0a1d(0x628)]=(0x0,Ka[_0x5b0a1d(0x4c6)])(),this[_0x5b0a1d(0x628)]['post'](this['routerPath']('updatePresence'),..._0x5355f3,async(_0x3fd44e,_0x2a519f)=>{const _0x3e53a9=_0x5b0a1d;let _0x3a4e5a=await this[_0x3e53a9(0x221)]({'request':_0x3fd44e,'schema':Ua,'ClassRef':Je,'execute':(_0x3d4d5b,_0x416531)=>P[_0x3e53a9(0x420)](_0x3d4d5b,_0x416531)});return _0x2a519f[_0x3e53a9(0x504)](0xc9)[_0x3e53a9(0x64d)](_0x3a4e5a);})[_0x5b0a1d(0x37a)](this['routerPath'](_0x5b0a1d(0x236)),..._0x5355f3,async(_0x42ce0c,_0x578279)=>{const _0x54d880=_0x5b0a1d;let _0x1d16af=await this['dataValidate']({'request':_0x42ce0c,'schema':Ra,'ClassRef':Ge,'execute':(_0x57bf2e,_0x40cf59)=>P[_0x54d880(0x3cd)](_0x57bf2e,_0x40cf59)});return _0x578279['status'](0xc9)[_0x54d880(0x64d)](_0x1d16af);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x4fe)),..._0x5355f3,async(_0x298ca8,_0x130c5a)=>{const _0x51a7fd=_0x5b0a1d;let _0x5bb3cb=await this[_0x51a7fd(0x221)]({'request':_0x298ca8,'schema':v,'ClassRef':b,'execute':(_0x34d6c1,_0x56f0b8)=>P[_0x51a7fd(0x4fe)](_0x34d6c1,_0x56f0b8)});return _0x130c5a['status'](0xc9)[_0x51a7fd(0x64d)](_0x5bb3cb);})[_0x5b0a1d(0x459)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x3c9)),..._0x5355f3,async(_0x12ae92,_0x4f928a)=>{const _0x17c54b=_0x5b0a1d;let _0x1c6272=await this[_0x17c54b(0x221)]({'request':_0x12ae92,'schema':Aa,'ClassRef':He,'execute':(_0x2965c4,_0x26a3c7)=>P[_0x17c54b(0x36b)](_0x2965c4,_0x26a3c7)});return _0x4f928a['status'](0xc9)['json'](_0x1c6272);})[_0x5b0a1d(0x459)](this[_0x5b0a1d(0x191)]('archiveChat'),..._0x5355f3,async(_0xcdf8f9,_0x7b4caa)=>{const _0x53372d=_0x5b0a1d;let _0x3b3b25=await this[_0x53372d(0x221)]({'request':_0xcdf8f9,'schema':Da,'ClassRef':Ke,'execute':(_0x2339d4,_0x27758e)=>P[_0x53372d(0x549)](_0x2339d4,_0x27758e)});return _0x7b4caa[_0x53372d(0x504)](0xc9)['json'](_0x3b3b25);})[_0x5b0a1d(0x2c2)](this['routerPath']('deleteMessageForEveryone'),..._0x5355f3,async(_0x10a050,_0x191648)=>{const _0x28f938=_0x5b0a1d;let _0x5a539e=await this[_0x28f938(0x221)]({'request':_0x10a050,'schema':Pa,'ClassRef':Qe,'execute':(_0x59c7dc,_0x3284a8)=>P['deleteMessage'](_0x59c7dc,_0x3284a8)});return _0x191648[_0x28f938(0x504)](0xc9)['json'](_0x5a539e);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x5355f3,async(_0x1f0faf,_0xb66547)=>{const _0x4f2c29=_0x5b0a1d;let _0x4a9e01=await this[_0x4f2c29(0x221)]({'request':_0x1f0faf,'schema':Te,'ClassRef':Ce,'execute':(_0x8afc9f,_0x5d7884)=>P[_0x4f2c29(0x44f)](_0x8afc9f,_0x5d7884)});return _0xb66547['status'](0xc8)[_0x4f2c29(0x64d)](_0x4a9e01);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x4e7)),..._0x5355f3,async(_0x27971e,_0x67df9f)=>{const _0x31cdd5=_0x5b0a1d;let _0xe9df75=await this[_0x31cdd5(0x221)]({'request':_0x27971e,'schema':$a,'ClassRef':Ce,'execute':(_0x23663a,_0x429dd6)=>P['fetchProfile'](_0x23663a,_0x429dd6)});return _0x67df9f[_0x31cdd5(0x504)](0xc8)['json'](_0xe9df75);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x566)),..._0x5355f3,async(_0x15d9f5,_0x3b447a)=>{const _0x4f7f30=_0x5b0a1d;let _0x34935f=await this['dataValidate']({'request':_0x15d9f5,'schema':Oa,'ClassRef':Ze,'execute':(_0xadd724,_0x59cae4)=>P[_0x4f7f30(0x2a3)](_0xadd724,_0x59cae4)});return _0x3b447a[_0x4f7f30(0x504)](0xc8)[_0x4f7f30(0x64d)](_0x34935f);})[_0x5b0a1d(0x37a)](this['routerPath'](_0x5b0a1d(0x575)),..._0x5355f3,async(_0x3f6a47,_0x3fa662)=>{const _0x5cc43e=_0x5b0a1d;let _0x5bb6b7=await this['dataValidate']({'request':_0x3f6a47,'schema':null,'ClassRef':Object,'execute':(_0x36d385,_0x4bee55)=>P[_0x5cc43e(0x575)](_0x36d385,_0x4bee55)});return _0x3fa662['status'](0xc9)['json'](_0x5bb6b7);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x1f8)),..._0x5355f3,async(_0x1ea751,_0x86b2ae)=>{const _0x5bca62=_0x5b0a1d;let _0x13c651=await this['dataValidate']({'request':_0x1ea751,'schema':ka,'ClassRef':Ve,'execute':(_0xacd5f8,_0x4e4f1d)=>P[_0x5bca62(0x6cf)](_0xacd5f8,_0x4e4f1d)});return _0x86b2ae[_0x5bca62(0x504)](0xc8)[_0x5bca62(0x64d)](_0x13c651);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x5cf)),..._0x5355f3,async(_0x4d3519,_0x1517b5)=>{const _0x2c45e6=_0x5b0a1d;let _0x57b318=await this['dataValidate']({'request':_0x4d3519,'schema':La,'ClassRef':st,'execute':(_0x5769ee,_0x59a1e6)=>P[_0x2c45e6(0x33c)](_0x5769ee,_0x59a1e6)});return _0x1517b5[_0x2c45e6(0x504)](0xc8)['json'](_0x57b318);})[_0x5b0a1d(0x60a)](this['routerPath'](_0x5b0a1d(0x587)),..._0x5355f3,async(_0xc60bf,_0x1bd8d2)=>{const _0x2843c6=_0x5b0a1d;let _0x1412b8=await this[_0x2843c6(0x221)]({'request':_0xc60bf,'schema':null,'ClassRef':b,'execute':_0x3f74df=>P[_0x2843c6(0x1e7)](_0x3f74df)});return _0x1bd8d2['status'](0xc8)[_0x2843c6(0x64d)](_0x1412b8);})[_0x5b0a1d(0x60a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x61e)),..._0x5355f3,async(_0x2a458a,_0x1820f1)=>{const _0x28a1e8=_0x5b0a1d;let _0x4b09f5=await this['dataValidate']({'request':_0x2a458a,'schema':null,'ClassRef':b,'execute':_0x4691c1=>P[_0x28a1e8(0x61e)](_0x4691c1)});return _0x1820f1[_0x28a1e8(0x504)](0xc8)[_0x28a1e8(0x64d)](_0x4b09f5);})[_0x5b0a1d(0x459)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x4aa)),..._0x5355f3,async(_0x24b285,_0x53279a)=>{const _0x277779=_0x5b0a1d;let _0x27e0d0=await this[_0x277779(0x221)]({'request':_0x24b285,'schema':Ia,'ClassRef':ze,'execute':(_0x4d9dea,_0x4a70fd)=>P[_0x277779(0x4aa)](_0x4d9dea,_0x4a70fd)});return _0x53279a['status'](0xc9)['json'](_0x27e0d0);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)]('fetchBusinessProfile'),..._0x5355f3,async(_0x27b060,_0x501eea)=>{const _0x3ac31c=_0x5b0a1d;let _0x111b28=await this[_0x3ac31c(0x221)]({'request':_0x27b060,'schema':Te,'ClassRef':we,'execute':(_0x241c6d,_0x240a81)=>P[_0x3ac31c(0x4f1)](_0x241c6d,_0x240a81)});return _0x501eea[_0x3ac31c(0x504)](0xc8)[_0x3ac31c(0x64d)](_0x111b28);})['post'](this[_0x5b0a1d(0x191)]('updateProfileName'),..._0x5355f3,async(_0x196707,_0x3907b6)=>{const _0x3ff67a=_0x5b0a1d;let _0x4b92ca=await this[_0x3ff67a(0x221)]({'request':_0x196707,'schema':_a,'ClassRef':qe,'execute':(_0x386f40,_0x214c1f)=>P[_0x3ff67a(0x71b)](_0x386f40,_0x214c1f)});return _0x3907b6[_0x3ff67a(0x504)](0xc8)[_0x3ff67a(0x64d)](_0x4b92ca);})[_0x5b0a1d(0x37a)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x192)),..._0x5355f3,async(_0xd0d4e1,_0x4c189e)=>{const _0x1d400c=_0x5b0a1d;let _0x5da1d5=await this['dataValidate']({'request':_0xd0d4e1,'schema':xa,'ClassRef':We,'execute':(_0x581a35,_0x180276)=>P[_0x1d400c(0x192)](_0x581a35,_0x180276)});return _0x4c189e[_0x1d400c(0x504)](0xc8)[_0x1d400c(0x64d)](_0x5da1d5);})['put'](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x25a)),..._0x5355f3,async(_0x1081fc,_0x182502)=>{const _0x45e452=_0x5b0a1d;let _0x151642=await this[_0x45e452(0x221)]({'request':_0x1081fc,'schema':Te,'ClassRef':we,'execute':(_0x13ca3a,_0x2bc6de)=>P['updateProfilePicture'](_0x13ca3a,_0x2bc6de)});return _0x182502[_0x45e452(0x504)](0xc8)[_0x45e452(0x64d)](_0x151642);})[_0x5b0a1d(0x2c2)](this[_0x5b0a1d(0x191)](_0x5b0a1d(0x23e)),..._0x5355f3,async(_0x67c1c9,_0x2ab3ce)=>{const _0x2f0631=_0x5b0a1d;let _0x4e15a6=await this[_0x2f0631(0x221)]({'request':_0x67c1c9,'schema':Te,'ClassRef':we,'execute':(_0x3ed76e,_0x5659be)=>P[_0x2f0631(0x23e)](_0x3ed76e,_0x5659be)});return _0x2ab3ce[_0x2f0631(0x504)](0xc8)[_0x2f0631(0x64d)](_0x4e15a6);});}},za=require('express'),it=class{},rt=class{},nt=class{},ct=class{},lt=class{},ee=class{},ut=class{},dt=class extends ee{},pt=class extends ee{},gt=class extends L{constructor(..._0x2508f1){const _0x2b73f1=a0_0x525ac;super(),this[_0x2b73f1(0x628)]=(0x0,za[_0x2b73f1(0x4c6)])(),this[_0x2b73f1(0x628)][_0x2b73f1(0x37a)](this[_0x2b73f1(0x191)](_0x2b73f1(0x58a)),..._0x2508f1,async(_0x1a690f,_0x476877)=>{const _0x1b80b1=_0x2b73f1;let _0x52858b=await this[_0x1b80b1(0x221)]({'request':_0x1a690f,'schema':Va,'ClassRef':it,'execute':(_0x20c0b9,_0x17bce0)=>V[_0x1b80b1(0x6df)](_0x20c0b9,_0x17bce0)});_0x476877[_0x1b80b1(0x504)](0xc9)[_0x1b80b1(0x64d)](_0x52858b);})[_0x2b73f1(0x459)](this[_0x2b73f1(0x191)]('updateGroupPicture'),..._0x2508f1,async(_0x226c1c,_0x36efed)=>{const _0x849528=_0x2b73f1;let _0x2e99d9=await this[_0x849528(0x2b9)]({'request':_0x226c1c,'schema':Fa,'ClassRef':rt,'execute':(_0x48253c,_0x2e7778)=>V[_0x849528(0x505)](_0x48253c,_0x2e7778)});_0x36efed['status'](0xc9)['json'](_0x2e99d9);})['put'](this[_0x2b73f1(0x191)](_0x2b73f1(0x309)),..._0x2508f1,async(_0xd11c28,_0x19392e)=>{const _0x460e5c=_0x2b73f1;let _0x262127=await this[_0x460e5c(0x2b9)]({'request':_0xd11c28,'schema':Ja,'ClassRef':nt,'execute':(_0x1d89a4,_0x226029)=>V[_0x460e5c(0x309)](_0x1d89a4,_0x226029)});_0x19392e[_0x460e5c(0x504)](0xc9)[_0x460e5c(0x64d)](_0x262127);})[_0x2b73f1(0x459)](this[_0x2b73f1(0x191)](_0x2b73f1(0x681)),..._0x2508f1,async(_0x675e2c,_0x22b564)=>{const _0x50aef7=_0x2b73f1;let _0x211410=await this['groupValidate']({'request':_0x675e2c,'schema':Ga,'ClassRef':ct,'execute':(_0x1410db,_0x2994a9)=>V[_0x50aef7(0x681)](_0x1410db,_0x2994a9)});_0x22b564[_0x50aef7(0x504)](0xc9)[_0x50aef7(0x64d)](_0x211410);})['put'](this[_0x2b73f1(0x191)]('groupSetting'),..._0x2508f1,async(_0x4e20d5,_0x5440ad)=>{const _0x33953a=_0x2b73f1;let _0x44644e=await this[_0x33953a(0x2b9)]({'request':_0x4e20d5,'schema':qa,'ClassRef':lt,'execute':(_0x189a45,_0xf55c5a)=>V[_0x33953a(0x641)](_0x189a45,_0xf55c5a)});_0x5440ad[_0x33953a(0x504)](0xc9)[_0x33953a(0x64d)](_0x44644e);})[_0x2b73f1(0x459)](this[_0x2b73f1(0x191)]('toggleEphemeral'),..._0x2508f1,async(_0x15d4d2,_0x1a16c8)=>{const _0x42e376=_0x2b73f1;let _0x1a0e25=await this[_0x42e376(0x2b9)]({'request':_0x15d4d2,'schema':Ba,'ClassRef':pt,'execute':(_0x4a8dfb,_0x1677c1)=>V[_0x42e376(0x5e9)](_0x4a8dfb,_0x1677c1)});_0x1a16c8[_0x42e376(0x504)](0xc9)[_0x42e376(0x64d)](_0x1a0e25);})[_0x2b73f1(0x60a)](this[_0x2b73f1(0x191)](_0x2b73f1(0x6c4)),..._0x2508f1,async(_0x4c735a,_0xe5bef6)=>{const _0x28b5d5=_0x2b73f1;let _0x2f5009=await this['groupValidate']({'request':_0x4c735a,'schema':Me,'ClassRef':ee,'execute':(_0xf19e68,_0x4675f5)=>V['findGroupInfo'](_0xf19e68,_0x4675f5)});_0xe5bef6['status'](0xc8)[_0x28b5d5(0x64d)](_0x2f5009);})['get'](this[_0x2b73f1(0x191)]('findGroups'),..._0x2508f1,async(_0x589f79,_0x2d16bf)=>{const _0x19a7d3=_0x2b73f1;let _0x4d88ae=await this[_0x19a7d3(0x221)]({'request':_0x589f79,'schema':v,'ClassRef':b,'execute':_0x943429=>V[_0x19a7d3(0x661)](_0x943429)});_0x2d16bf[_0x19a7d3(0x504)](0xc8)[_0x19a7d3(0x64d)](_0x4d88ae);})[_0x2b73f1(0x60a)](this[_0x2b73f1(0x191)](_0x2b73f1(0x32b)),..._0x2508f1,async(_0x5664e1,_0x24c20c)=>{const _0x30eddc=_0x2b73f1;let _0x56bf64=await this[_0x30eddc(0x2b9)]({'request':_0x5664e1,'schema':Me,'ClassRef':ee,'execute':(_0x44b067,_0x2ded4e)=>V[_0x30eddc(0x48d)](_0x44b067,_0x2ded4e)});_0x24c20c[_0x30eddc(0x504)](0xc8)[_0x30eddc(0x64d)](_0x56bf64);})[_0x2b73f1(0x60a)](this[_0x2b73f1(0x191)](_0x2b73f1(0x591)),..._0x2508f1,async(_0x4e3728,_0x54f111)=>{const _0x85cad6=_0x2b73f1;let _0x12d886=await this[_0x85cad6(0x2b9)]({'request':_0x4e3728,'schema':Me,'ClassRef':ee,'execute':(_0x3a75b0,_0x509a04)=>V[_0x85cad6(0x591)](_0x3a75b0,_0x509a04)});_0x54f111[_0x85cad6(0x504)](0xc8)[_0x85cad6(0x64d)](_0x12d886);})['put'](this[_0x2b73f1(0x191)]('joinGroup'),..._0x2508f1,async(_0x21f540,_0x1d1fa6)=>{const _0x10dd27=_0x2b73f1;let _0x496487=await this['joinGroupValidate']({'request':_0x21f540,'schema':Wa,'ClassRef':ut,'execute':(_0x2e5b4a,_0x2eea5e)=>V[_0x10dd27(0x425)](_0x2e5b4a,_0x2eea5e)});_0x1d1fa6[_0x10dd27(0x504)](0xc9)[_0x10dd27(0x64d)](_0x496487);})['put'](this[_0x2b73f1(0x191)]('revokeInviteCode'),..._0x2508f1,async(_0x404ab8,_0x52eea)=>{const _0xd55e43=_0x2b73f1;let _0x2ad3ad=await this[_0xd55e43(0x2b9)]({'request':_0x404ab8,'schema':Me,'ClassRef':ee,'execute':(_0x797504,_0x1d2fd9)=>V[_0xd55e43(0x578)](_0x797504,_0x1d2fd9)});_0x52eea[_0xd55e43(0x504)](0xc9)[_0xd55e43(0x64d)](_0x2ad3ad);})[_0x2b73f1(0x459)](this['routerPath'](_0x2b73f1(0x576)),..._0x2508f1,async(_0xbe18ce,_0xa7e153)=>{const _0x5ceae0=_0x2b73f1;let _0x388806=await this['groupValidate']({'request':_0xbe18ce,'schema':ja,'ClassRef':dt,'execute':(_0x4311f1,_0x365446)=>V['updateGParticipate'](_0x4311f1,_0x365446)});_0xa7e153['status'](0xc9)[_0x5ceae0(0x64d)](_0x388806);})[_0x2b73f1(0x2c2)](this[_0x2b73f1(0x191)](_0x2b73f1(0x1ee)),..._0x2508f1,async(_0x5d1f89,_0xdbb8e6)=>{const _0x2c335b=_0x2b73f1;let _0x29d117=await this[_0x2c335b(0x2b9)]({'request':_0x5d1f89,'schema':{},'ClassRef':ee,'execute':(_0x56f5e9,_0x3a4f42)=>V[_0x2c335b(0x1ee)](_0x56f5e9,_0x3a4f42)});_0xdbb8e6['status'](0xc8)[_0x2c335b(0x64d)](_0x29d117);});}},Xa=require(a0_0x525ac(0x446)),Pe=require(a0_0x525ac(0x440)),ys=require(a0_0x525ac(0x2df)),Qa=require('class-validator'),Ya=T(require(a0_0x525ac(0x2ff))),mt=class{},ht=class c{constructor(_0x12d8d0,_0x23b5a6,_0x291aec){const _0x58f677=a0_0x525ac;this[_0x58f677(0x181)]=_0x12d8d0,this[_0x58f677(0x3e3)]=_0x23b5a6,this['repository']=_0x291aec,this[_0x58f677(0x1de)]=new C(c['name']);}async[a0_0x525ac(0x25f)](_0x167b97){const _0x24918f=a0_0x525ac;let _0x101b62=this[_0x24918f(0x181)][_0x24918f(0x60a)](_0x24918f(0x3c0))['JWT'],_0x59ec6a=(0x0,Pe[_0x24918f(0x6b0)])({'instanceName':_0x167b97[_0x24918f(0x2b3)],'apiName':Xe,'tokenId':(0x0,ys['v4'])()},_0x101b62[_0x24918f(0x5ce)],{'expiresIn':_0x101b62['EXPIRIN_IN'],'encoding':_0x24918f(0x689),'subject':_0x24918f(0x1dc)}),_0x13664f=await this[_0x24918f(0x5fe)][_0x24918f(0x50b)][_0x24918f(0x58a)]({'jwt':_0x59ec6a},_0x167b97[_0x24918f(0x2b3)]);if(_0x13664f[_0x24918f(0x3cc)])throw this['logger'][_0x24918f(0x3cc)]({'localError':c['name']+'.jwt','error':_0x13664f[_0x24918f(0x3cc)]}),new g(_0x24918f(0x379),_0x13664f[_0x24918f(0x3cc)]?.['toString']());return{'jwt':_0x59ec6a};}async[a0_0x525ac(0x4da)](_0x1f0032){const _0x13fc0e=a0_0x525ac;let _0x1ea110=(0x0,ys['v4'])()[_0x13fc0e(0x518)](),_0x4506be=await this[_0x13fc0e(0x5fe)][_0x13fc0e(0x50b)][_0x13fc0e(0x58a)]({'apikey':_0x1ea110},_0x1f0032['instanceName']);if(_0x4506be[_0x13fc0e(0x3cc)])throw this['logger'][_0x13fc0e(0x3cc)]({'localError':c['name']+'.jwt','error':_0x4506be[_0x13fc0e(0x3cc)]}),new g(_0x13fc0e(0x379),_0x4506be[_0x13fc0e(0x3cc)]?.[_0x13fc0e(0x679)]());return{'apikey':_0x1ea110};}async[a0_0x525ac(0x5f5)](_0xc12e02){const _0x537aaa=a0_0x525ac;let _0x48d830=this['configService']['get'](_0x537aaa(0x3c0));return await this[_0x48d830['TYPE']](_0xc12e02);}async[a0_0x525ac(0x28d)]({oldToken:_0x1d42eb}){const _0x327857=a0_0x525ac;if(!(0x0,Qa[_0x327857(0x17b)])(_0x1d42eb))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x3db24c=this[_0x327857(0x181)][_0x327857(0x60a)]('AUTHENTICATION')[_0x327857(0x38c)],_0x1b4253=(0x0,Pe[_0x327857(0x16c)])(_0x1d42eb,_0x3db24c[_0x327857(0x5ce)],{'ignoreExpiration':!0x0}),_0x4b414c=await this['repository'][_0x327857(0x50b)][_0x327857(0x252)](_0x1b4253[_0x327857(0x2b3)]),_0x49a5c0=(0x0,Pe[_0x327857(0x16c)])(_0x4b414c[_0x327857(0x25f)],_0x3db24c[_0x327857(0x5ce)],{'ignoreExpiration':!0x0});if(_0x1b4253[_0x327857(0x633)]!==_0x49a5c0[_0x327857(0x633)])throw new g(_0x327857(0x55e));let _0x58e230={'jwt':(await this[_0x327857(0x25f)]({'instanceName':_0x1b4253[_0x327857(0x2b3)]}))[_0x327857(0x25f)],'instanceName':_0x1b4253[_0x327857(0x2b3)]};try{let _0x94bcb2=await this[_0x327857(0x5fe)][_0x327857(0x46b)]['find'](_0x1b4253[_0x327857(0x2b3)]);_0x94bcb2?.[_0x327857(0x2bc)]&&this['configService'][_0x327857(0x60a)](_0x327857(0x730))['EVENTS'][_0x327857(0x59c)]&&await Ya[_0x327857(0x6de)][_0x327857(0x58a)]({'baseURL':_0x94bcb2[_0x327857(0x6f1)]})[_0x327857(0x37a)]('',{'event':_0x327857(0x54f),'instance':_0x1b4253[_0x327857(0x2b3)],'data':_0x58e230},{'params':{'owner':this['waMonitor'][_0x327857(0x6e3)][_0x1b4253['instanceName']]['wuid']}});}catch(_0x19b99c){this[_0x327857(0x1de)][_0x327857(0x3cc)](_0x19b99c);}return _0x58e230;}catch(_0x9e1f43){throw this[_0x327857(0x1de)][_0x327857(0x3cc)]({'localError':c[_0x327857(0x524)]+'.refreshToken','error':_0x9e1f43}),new g(_0x327857(0x55e));}}},ft=class extends L{constructor(_0x2b6203,..._0x9776e1){const _0x4b46b9=a0_0x525ac;super(),this[_0x4b46b9(0x181)]=_0x2b6203,this[_0x4b46b9(0x628)]=(0x0,Xa[_0x4b46b9(0x4c6)])();let _0x4e41dd=_0x2b6203['get']('AUTHENTICATION');this[_0x4b46b9(0x628)][_0x4b46b9(0x37a)](_0x4b46b9(0x507),..._0x9776e1,async(_0xc91aa2,_0x15f700)=>{const _0x1f06ad=_0x4b46b9;let {instanceName:_0x370264,apikey:_0x497fd6}=_0xc91aa2[_0x1f06ad(0x6a7)],_0x279f60=await ce[_0x1f06ad(0x685)]({'instanceName':_0x370264,'apikey':_0x497fd6});return _0x15f700['status'](0xc9)['json'](_0x279f60);})[_0x4b46b9(0x459)](this['routerPath']('restart'),..._0x9776e1,async(_0x254fae,_0x1a7c1b)=>{const _0x265617=_0x4b46b9;let _0x3e40f8=await this['dataValidate']({'request':_0x254fae,'schema':v,'ClassRef':b,'execute':_0x1e394=>ce[_0x265617(0x1e5)](_0x1e394)});return _0x1a7c1b[_0x265617(0x504)](0xc8)[_0x265617(0x64d)](_0x3e40f8);})[_0x4b46b9(0x60a)](this[_0x4b46b9(0x191)](_0x4b46b9(0x41b)),..._0x9776e1,async(_0x5e34fe,_0x311640)=>{const _0x5e43ec=_0x4b46b9;let _0x109e7d=await this[_0x5e43ec(0x221)]({'request':_0x5e34fe,'schema':v,'ClassRef':b,'execute':_0x3fa595=>ce[_0x5e43ec(0x31f)](_0x3fa595)});return _0x311640[_0x5e43ec(0x504)](0xc8)[_0x5e43ec(0x64d)](_0x109e7d);})[_0x4b46b9(0x60a)](this[_0x4b46b9(0x191)]('connectionState'),..._0x9776e1,async(_0x20a93b,_0x55d9db)=>{const _0x3e5765=_0x4b46b9;let _0x16897a=await this['dataValidate']({'request':_0x20a93b,'schema':v,'ClassRef':b,'execute':_0xa5561d=>ce['connectionState'](_0xa5561d)});return _0x55d9db[_0x3e5765(0x504)](0xc8)[_0x3e5765(0x64d)](_0x16897a);})[_0x4b46b9(0x60a)](this[_0x4b46b9(0x191)](_0x4b46b9(0x597),!0x1),..._0x9776e1,async(_0x47d1a7,_0x1e3dee)=>{const _0x5c8d07=_0x4b46b9;let _0x53a136=await this[_0x5c8d07(0x221)]({'request':_0x47d1a7,'schema':null,'ClassRef':b,'execute':_0x2fdbfb=>ce['fetchInstances'](_0x2fdbfb)});return _0x1e3dee[_0x5c8d07(0x504)](0xc8)[_0x5c8d07(0x64d)](_0x53a136);})['delete'](this['routerPath']('logout'),..._0x9776e1,async(_0x1a63fb,_0xbcd773)=>{const _0x28c7a8=_0x4b46b9;let _0xe22e3e=await this[_0x28c7a8(0x221)]({'request':_0x1a63fb,'schema':v,'ClassRef':b,'execute':_0x47105d=>ce['logout'](_0x47105d)});return _0xbcd773['status'](0xc8)[_0x28c7a8(0x64d)](_0xe22e3e);})['delete'](this[_0x4b46b9(0x191)](_0x4b46b9(0x2c2)),..._0x9776e1,async(_0xeb31c6,_0x32a119)=>{const _0x52968e=_0x4b46b9;let _0x2d20c7=await this[_0x52968e(0x221)]({'request':_0xeb31c6,'schema':v,'ClassRef':b,'execute':_0x37b16c=>ce[_0x52968e(0x55c)](_0x37b16c)});return _0x32a119[_0x52968e(0x504)](0xc8)[_0x52968e(0x64d)](_0x2d20c7);}),_0x4e41dd[_0x4b46b9(0x5ae)]===_0x4b46b9(0x25f)&&this[_0x4b46b9(0x628)][_0x4b46b9(0x459)]('/refreshToken',async(_0x52da36,_0x5eae58)=>{const _0x273af5=_0x4b46b9;let _0x23a5cf=await this['dataValidate']({'request':_0x52da36,'schema':ma,'ClassRef':mt,'execute':(_0x413ba1,_0x3aa481)=>ce[_0x273af5(0x28d)](_0x413ba1,_0x3aa481)});return _0x5eae58['status'](0xc9)['json'](_0x23a5cf);});}},Za=require(a0_0x525ac(0x446)),bs=class{},z=class extends bs{},wt=class extends z{},yt=class extends z{},bt=class extends z{},Oe=class extends z{},St=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Ct=class extends z{},Tt=class{},Mt=class extends L{constructor(..._0x2f00eb){const _0x51abb1=a0_0x525ac;super(),this['router']=(0x0,Za[_0x51abb1(0x4c6)])(),this[_0x51abb1(0x628)][_0x51abb1(0x37a)](this['routerPath'](_0x51abb1(0x5ca)),..._0x2f00eb,async(_0x42be70,_0x3b436c)=>{const _0xff143=_0x51abb1;let _0x14aff0=await this[_0xff143(0x221)]({'request':_0x42be70,'schema':ha,'ClassRef':wt,'execute':(_0x433707,_0x3e69ee)=>K[_0xff143(0x5ca)](_0x433707,_0x3e69ee)});return _0x3b436c[_0xff143(0x504)](0xc9)['json'](_0x14aff0);})['post'](this[_0x51abb1(0x191)](_0x51abb1(0x5f1)),..._0x2f00eb,async(_0x2c3819,_0x27eb8d)=>{const _0x498fa5=_0x51abb1;let _0x2dc784=await this[_0x498fa5(0x221)]({'request':_0x2c3819,'schema':ba,'ClassRef':Oe,'execute':(_0x20f330,_0x4c1035)=>K[_0x498fa5(0x5f1)](_0x20f330,_0x4c1035)});return _0x27eb8d[_0x498fa5(0x504)](0xc9)['json'](_0x2dc784);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x53d)),..._0x2f00eb,async(_0x16fd29,_0x441eab)=>{const _0x5e2a96=_0x51abb1;let _0x5147e3=await this[_0x5e2a96(0x221)]({'request':_0x16fd29,'schema':Sa,'ClassRef':Oe,'execute':(_0x365881,_0xea037)=>K['sendWhatsAppAudio'](_0x365881,_0xea037)});return _0x441eab['status'](0xc9)[_0x5e2a96(0x64d)](_0x5147e3);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x510)),..._0x2f00eb,async(_0x40f707,_0x295671)=>{const _0x3eda4b=_0x51abb1;let _0xb8e25e=await this[_0x3eda4b(0x221)]({'request':_0x40f707,'schema':va,'ClassRef':Et,'execute':(_0x203efa,_0x5bb9df)=>K['sendButtons'](_0x203efa,_0x5bb9df)});return _0x295671[_0x3eda4b(0x504)](0xc9)['json'](_0xb8e25e);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x4c1)),..._0x2f00eb,async(_0x32a7aa,_0x1ed290)=>{const _0x5edc4d=_0x51abb1;let _0x567e95=await this[_0x5edc4d(0x221)]({'request':_0x32a7aa,'schema':Na,'ClassRef':vt,'execute':(_0x5c4a0a,_0x1d2ef1)=>K['sendLocation'](_0x5c4a0a,_0x1d2ef1)});return _0x1ed290[_0x5edc4d(0x504)](0xc9)[_0x5edc4d(0x64d)](_0x567e95);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x3a3)),..._0x2f00eb,async(_0x2bc3e9,_0x2cb855)=>{const _0x36a2f6=_0x51abb1;let _0x2be2cb=await this['dataValidate']({'request':_0x2bc3e9,'schema':Ca,'ClassRef':Nt,'execute':(_0x2047d0,_0x40b9eb)=>K[_0x36a2f6(0x3a3)](_0x2047d0,_0x40b9eb)});return _0x2cb855[_0x36a2f6(0x504)](0xc9)['json'](_0x2be2cb);})['post'](this[_0x51abb1(0x191)](_0x51abb1(0x41a)),..._0x2f00eb,async(_0x463f12,_0x2899de)=>{const _0x10743a=_0x51abb1;let _0x2f19ac=await this[_0x10743a(0x221)]({'request':_0x463f12,'schema':Ta,'ClassRef':Ct,'execute':(_0x4f30a8,_0x269046)=>K[_0x10743a(0x41a)](_0x4f30a8,_0x269046)});return _0x2899de[_0x10743a(0x504)](0xc9)[_0x10743a(0x64d)](_0x2f19ac);})[_0x51abb1(0x37a)](this['routerPath'](_0x51abb1(0x194)),..._0x2f00eb,async(_0x119752,_0x3621dc)=>{const _0x108cb7=_0x51abb1;let _0x281526=await this[_0x108cb7(0x221)]({'request':_0x119752,'schema':Ma,'ClassRef':Tt,'execute':(_0x27b277,_0x3b2f3b)=>K[_0x108cb7(0x194)](_0x27b277,_0x3b2f3b)});return _0x3621dc['status'](0xc9)[_0x108cb7(0x64d)](_0x281526);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x423)),..._0x2f00eb,async(_0x4a50e9,_0x1a00cd)=>{const _0x2dee84=_0x51abb1;let _0x4502ee=await this[_0x2dee84(0x221)]({'request':_0x4a50e9,'schema':Ea,'ClassRef':bt,'execute':(_0x2d059e,_0x1e8eab)=>K['sendPoll'](_0x2d059e,_0x1e8eab)});return _0x1a00cd[_0x2dee84(0x504)](0xc9)[_0x2dee84(0x64d)](_0x4502ee);})[_0x51abb1(0x37a)](this[_0x51abb1(0x191)](_0x51abb1(0x3be)),..._0x2f00eb,async(_0x38abf1,_0x4908c8)=>{const _0x378037=_0x51abb1;let _0x537d78=await this[_0x378037(0x221)]({'request':_0x38abf1,'schema':ya,'ClassRef':yt,'execute':(_0x590116,_0x477c68)=>K[_0x378037(0x3be)](_0x590116,_0x477c68)});return _0x4908c8[_0x378037(0x504)](0xc9)[_0x378037(0x64d)](_0x537d78);})['post'](this[_0x51abb1(0x191)]('sendSticker'),..._0x2f00eb,async(_0x49c9ad,_0x3c39de)=>{const _0x515fe4=_0x51abb1;let _0x50a676=await this['dataValidate']({'request':_0x49c9ad,'schema':wa,'ClassRef':St,'execute':(_0x3538fe,_0x4e4772)=>K[_0x515fe4(0x383)](_0x3538fe,_0x4e4772)});return _0x3c39de[_0x515fe4(0x504)](0xc9)[_0x515fe4(0x64d)](_0x50a676);});}},eo=require(a0_0x525ac(0x446)),Rt=class extends L{constructor(..._0x10ed91){const _0x5220e3=a0_0x525ac;super(),this[_0x5220e3(0x628)]=(0x0,eo[_0x5220e3(0x4c6)])(),this[_0x5220e3(0x628)][_0x5220e3(0x60a)](this[_0x5220e3(0x191)](_0x5220e3(0x669)),..._0x10ed91,(_0x29a551,_0x4252ec)=>to[_0x5220e3(0x669)](_0x29a551,_0x4252ec));}},so=require('express'),At=class{},It=class extends L{constructor(..._0x2622df){const _0x32fb3a=a0_0x525ac;super(),this[_0x32fb3a(0x628)]=(0x0,so[_0x32fb3a(0x4c6)])(),this[_0x32fb3a(0x628)][_0x32fb3a(0x37a)](this[_0x32fb3a(0x191)](_0x32fb3a(0x3aa)),..._0x2622df,async(_0x3f11dd,_0x24580a)=>{const _0xd9bf27=_0x32fb3a;let _0x1d8fd6=await this['dataValidate']({'request':_0x3f11dd,'schema':Ha,'ClassRef':At,'execute':(_0x11b8a1,_0x31b536)=>Ss[_0xd9bf27(0x3bc)](_0x11b8a1,_0x31b536)});_0x24580a['status'](0xc9)[_0xd9bf27(0x64d)](_0x1d8fd6);})[_0x32fb3a(0x60a)](this[_0x32fb3a(0x191)](_0x32fb3a(0x252)),..._0x2622df,async(_0x2eb4ac,_0x48eaf8)=>{const _0x1e516f=_0x32fb3a;let _0x253786=await this[_0x1e516f(0x221)]({'request':_0x2eb4ac,'schema':v,'ClassRef':b,'execute':_0x5bc22e=>Ss[_0x1e516f(0x166)](_0x5bc22e)});_0x48eaf8[_0x1e516f(0x504)](0xc8)[_0x1e516f(0x64d)](_0x253786);});}},ao=require(a0_0x525ac(0x446)),f=new C('FlowRouter'),Dt=class extends L{constructor(..._0x2ad500){const _0x9bacd=a0_0x525ac;super(),this[_0x9bacd(0x628)]=(0x0,ao['Router'])(),this[_0x9bacd(0x628)][_0x9bacd(0x37a)](this['routerPath'](_0x9bacd(0x18f)),..._0x2ad500,async(_0x35152e,_0x24972a)=>{const _0x3af253=_0x9bacd;let _0x5a496d=_0x35152e[_0x3af253(0x6a7)];f[_0x3af253(0x6bd)](_0x3af253(0x4f0)),f['verbose'](_0x3af253(0x540)),f[_0x3af253(0x6bd)](_0x35152e['body']);let _0x5296e7=await this[_0x3af253(0x221)]({'request':_0x35152e,'schema':v,'ClassRef':b,'execute':_0x3681fc=>R[_0x3af253(0x675)](_0x3681fc,_0x5a496d)});_0x24972a['status'](0xc8)[_0x3af253(0x64d)](_0x5296e7);})[_0x9bacd(0x60a)](this[_0x9bacd(0x191)](_0x9bacd(0x18f)),..._0x2ad500,async(_0x283977,_0x349dc8)=>{const _0x146795=_0x9bacd;let _0x4aa604=await this[_0x146795(0x221)]({'request':_0x283977,'schema':v,'ClassRef':b,'execute':_0x267186=>R['getScheduleMessage'](_0x267186)});_0x349dc8[_0x146795(0x504)](0xc8)[_0x146795(0x64d)](_0x4aa604);})[_0x9bacd(0x2c2)](this[_0x9bacd(0x191)](_0x9bacd(0x24a)),..._0x2ad500,async(_0x190cf1,_0xc1dc93)=>{const _0x371704=_0x9bacd;f['verbose'](_0x371704(0x1e3));let _0x5a46de=await this[_0x371704(0x221)]({'request':_0x190cf1,'schema':v,'ClassRef':b,'execute':_0x38344c=>R[_0x371704(0x24a)](_0x38344c)});_0xc1dc93[_0x371704(0x504)](0xc8)[_0x371704(0x64d)](_0x5a46de);})['post'](this[_0x9bacd(0x191)](_0x9bacd(0x6d1)),..._0x2ad500,async(_0x50d99c,_0x4509a7)=>{const _0x43850c=_0x9bacd;let _0x5a6727=_0x50d99c[_0x43850c(0x6a7)];f[_0x43850c(0x6bd)]('request\x20received\x20in\x20starFlow'),f[_0x43850c(0x6bd)](_0x43850c(0x540)),f[_0x43850c(0x6bd)](_0x50d99c[_0x43850c(0x6a7)]);let _0x2fec5d=await this[_0x43850c(0x221)]({'request':_0x50d99c,'schema':v,'ClassRef':b,'execute':_0x26f26d=>R[_0x43850c(0x6d1)](_0x26f26d,_0x5a6727)});_0x4509a7[_0x43850c(0x504)](0xc8)['json'](_0x2fec5d);})['get'](this[_0x9bacd(0x191)]('getAutomateSystem'),..._0x2ad500,async(_0x373288,_0x52aed7)=>{const _0x26a735=_0x9bacd;f[_0x26a735(0x6bd)](_0x26a735(0x340));let _0x4133b7=await this['dataValidate']({'request':_0x373288,'schema':v,'ClassRef':b,'execute':_0x5d0078=>R[_0x26a735(0x45f)](_0x5d0078)});_0x52aed7[_0x26a735(0x504)](0xc8)['json'](_0x4133b7);})[_0x9bacd(0x60a)](this[_0x9bacd(0x191)](_0x9bacd(0x545)),..._0x2ad500,async(_0x4733c8,_0xcae142)=>{const _0x416eb5=_0x9bacd;f[_0x416eb5(0x6bd)](_0x416eb5(0x473));let _0x4897a9=await this['dataValidate']({'request':_0x4733c8,'schema':v,'ClassRef':b,'execute':_0x59a38b=>R[_0x416eb5(0x45f)](_0x59a38b)});_0xcae142[_0x416eb5(0x504)](0xc8)[_0x416eb5(0x64d)](_0x4897a9);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)]('updateAgent'),..._0x2ad500,async(_0x2d3fa3,_0x50a275)=>{const _0x5120a7=_0x9bacd;let _0x5b038e=_0x2d3fa3[_0x5120a7(0x6a7)];f['verbose'](_0x5120a7(0x6e0)),f[_0x5120a7(0x6bd)](_0x5120a7(0x540)),f[_0x5120a7(0x6bd)](_0x2d3fa3[_0x5120a7(0x6a7)]);let _0x3dab51=await this[_0x5120a7(0x221)]({'request':_0x2d3fa3,'schema':v,'ClassRef':b,'execute':_0x440c60=>R[_0x5120a7(0x186)](_0x440c60,_0x5b038e)});_0x50a275[_0x5120a7(0x504)](0xc8)[_0x5120a7(0x64d)](_0x3dab51);})[_0x9bacd(0x37a)](this['routerPath'](_0x9bacd(0x349)),..._0x2ad500,async(_0x252903,_0x3b5daf)=>{const _0x19834f=_0x9bacd;let _0x1c8dd1=_0x252903[_0x19834f(0x6a7)];f[_0x19834f(0x6bd)]('request\x20received\x20in\x20updateCustomFields'),f['verbose'](_0x19834f(0x540)),f['verbose'](_0x252903[_0x19834f(0x6a7)]);let _0x5f24cd=await this[_0x19834f(0x221)]({'request':_0x252903,'schema':v,'ClassRef':b,'execute':_0x1ef2cc=>R[_0x19834f(0x349)](_0x1ef2cc,_0x1c8dd1)});_0x3b5daf['status'](0xc8)[_0x19834f(0x64d)](_0x5f24cd);})['post'](this[_0x9bacd(0x191)](_0x9bacd(0x5a6)),..._0x2ad500,async(_0x510d97,_0x537e88)=>{const _0x42999c=_0x9bacd;let _0x1dac4c=_0x510d97[_0x42999c(0x6a7)];f[_0x42999c(0x6bd)](_0x42999c(0x631)),f[_0x42999c(0x6bd)]('request\x20body:\x20'),f[_0x42999c(0x6bd)](_0x510d97[_0x42999c(0x6a7)]);let _0x35c61d=await this[_0x42999c(0x221)]({'request':_0x510d97,'schema':v,'ClassRef':b,'execute':_0xdeb55=>R[_0x42999c(0x5a6)](_0xdeb55,_0x1dac4c)});_0x537e88[_0x42999c(0x504)](0xc8)[_0x42999c(0x64d)](_0x35c61d);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x1da)),..._0x2ad500,async(_0x12e76b,_0x5bc97d)=>{const _0xd975ba=_0x9bacd;let _0x2a3d19=_0x12e76b['body'];f[_0xd975ba(0x6bd)](_0xd975ba(0x5be)),f['verbose'](_0xd975ba(0x540)),f[_0xd975ba(0x6bd)](_0x12e76b[_0xd975ba(0x6a7)]);let _0x31ac3c=await this[_0xd975ba(0x221)]({'request':_0x12e76b,'schema':v,'ClassRef':b,'execute':_0x39f527=>R[_0xd975ba(0x1da)](_0x39f527,_0x2a3d19)});_0x5bc97d[_0xd975ba(0x504)](0xc8)['json'](_0x31ac3c);})[_0x9bacd(0x37a)](this['routerPath']('fetchConversation'),..._0x2ad500,async(_0x567f45,_0x1cf0a9)=>{const _0x31d4f8=_0x9bacd;let _0x280bc9=_0x567f45[_0x31d4f8(0x6a7)];f['verbose'](_0x31d4f8(0x280)),f[_0x31d4f8(0x6bd)](_0x31d4f8(0x540)),f[_0x31d4f8(0x6bd)](_0x567f45[_0x31d4f8(0x6a7)]);let _0x3e192d=await this[_0x31d4f8(0x221)]({'request':_0x567f45,'schema':v,'ClassRef':b,'execute':_0x333d9c=>R[_0x31d4f8(0x63c)](_0x333d9c,_0x280bc9)});_0x1cf0a9[_0x31d4f8(0x504)](0xc8)[_0x31d4f8(0x64d)](_0x3e192d);})[_0x9bacd(0x37a)](this['routerPath'](_0x9bacd(0x365)),..._0x2ad500,async(_0x37cb6f,_0xf7b12b)=>{const _0xc47b45=_0x9bacd;let _0x30cd6a=_0x37cb6f[_0xc47b45(0x6a7)];f[_0xc47b45(0x6bd)]('request\x20received\x20in\x20editConversation'),f['verbose'](_0xc47b45(0x540)),f[_0xc47b45(0x6bd)](_0x37cb6f[_0xc47b45(0x6a7)]);let _0x1725de=await this['dataValidate']({'request':_0x37cb6f,'schema':v,'ClassRef':b,'execute':_0x170490=>R['editConversation'](_0x170490,_0x30cd6a)});_0xf7b12b['status'](0xc8)[_0xc47b45(0x64d)](_0x1725de);})[_0x9bacd(0x2c2)](this[_0x9bacd(0x191)]('deleteConversation'),..._0x2ad500,async(_0x141010,_0x5cbb35)=>{const _0x179301=_0x9bacd;let _0x51a5b4=_0x141010['body'];f[_0x179301(0x6bd)](_0x179301(0x6f7)),f[_0x179301(0x6bd)]('request\x20body:\x20'),f[_0x179301(0x6bd)](_0x141010['body']);let _0x54b8d4=await this['dataValidate']({'request':_0x141010,'schema':v,'ClassRef':b,'execute':_0x1e97f8=>R[_0x179301(0x433)](_0x1e97f8,_0x51a5b4)});_0x5cbb35[_0x179301(0x504)](0xc8)[_0x179301(0x64d)](_0x54b8d4);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x532)),..._0x2ad500,async(_0x37a478,_0x35ba56)=>{const _0x23e2d2=_0x9bacd;let _0x1d3313=_0x37a478['body'];f['verbose'](_0x23e2d2(0x233)),f[_0x23e2d2(0x6bd)](_0x23e2d2(0x540)),f[_0x23e2d2(0x6bd)](_0x37a478['body']);let _0x256516=await this['dataValidate']({'request':_0x37a478,'schema':v,'ClassRef':b,'execute':_0x2acbaa=>R[_0x23e2d2(0x262)](_0x2acbaa,_0x1d3313)});_0x35ba56[_0x23e2d2(0x504)](0xc8)[_0x23e2d2(0x64d)](_0x256516);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x474)),..._0x2ad500,async(_0x3bf268,_0x235515)=>{const _0x3eac7b=_0x9bacd;let _0xdede31=_0x3bf268[_0x3eac7b(0x6a7)];f[_0x3eac7b(0x6bd)](_0x3eac7b(0x39c)),f[_0x3eac7b(0x6bd)](_0x3eac7b(0x540)),f[_0x3eac7b(0x6bd)](_0x3bf268[_0x3eac7b(0x6a7)]),delete _0xdede31['blocks'],delete _0xdede31[_0x3eac7b(0x2b6)],delete _0xdede31[_0x3eac7b(0x5ed)],delete _0xdede31['conditions'];let _0x49e424=await this[_0x3eac7b(0x221)]({'request':_0x3bf268,'schema':v,'ClassRef':b,'execute':_0x294bd2=>R['editFlow'](_0x294bd2,_0xdede31)});_0x235515[_0x3eac7b(0x504)](0xc8)[_0x3eac7b(0x64d)](_0x49e424);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x1b3)),..._0x2ad500,async(_0x285f94,_0x27ce8a)=>{const _0xa85acb=_0x9bacd;let _0x58ef1f=_0x285f94[_0xa85acb(0x6a7)];f[_0xa85acb(0x6bd)]('request\x20received\x20in\x20editFlow'),f['verbose'](_0xa85acb(0x540)),f[_0xa85acb(0x6bd)](_0x285f94[_0xa85acb(0x6a7)]);let _0x417217=await this['dataValidate']({'request':_0x285f94,'schema':v,'ClassRef':b,'execute':_0xc951bf=>R[_0xa85acb(0x328)](_0xc951bf,_0x58ef1f)});_0x27ce8a[_0xa85acb(0x504)](0xc8)[_0xa85acb(0x64d)](_0x417217);})['post'](this[_0x9bacd(0x191)](_0x9bacd(0x178)),..._0x2ad500,async(_0x5e2ac5,_0x1a9a10)=>{const _0x263a6b=_0x9bacd;let _0x312b48=_0x5e2ac5[_0x263a6b(0x6a7)];f['verbose'](_0x263a6b(0x39c)),f[_0x263a6b(0x6bd)](_0x263a6b(0x540)),f[_0x263a6b(0x6bd)](_0x5e2ac5[_0x263a6b(0x6a7)]);let _0x21734c=await this[_0x263a6b(0x221)]({'request':_0x5e2ac5,'schema':v,'ClassRef':b,'execute':_0x53af29=>R['editFlowReply'](_0x53af29,_0x312b48)});_0x1a9a10[_0x263a6b(0x504)](0xc8)[_0x263a6b(0x64d)](_0x21734c);})['post'](this[_0x9bacd(0x191)]('editflowvaredit'),..._0x2ad500,async(_0x4c6c6c,_0x5c11ab)=>{const _0x464fa4=_0x9bacd;let _0x310fdd=_0x4c6c6c[_0x464fa4(0x6a7)];f[_0x464fa4(0x6bd)]('request\x20received\x20in\x20editFlow'),f[_0x464fa4(0x6bd)]('request\x20body:\x20'),f[_0x464fa4(0x6bd)](_0x4c6c6c[_0x464fa4(0x6a7)]);let _0x2a57b4=await this['dataValidate']({'request':_0x4c6c6c,'schema':v,'ClassRef':b,'execute':_0xe8b231=>R[_0x464fa4(0x50e)](_0xe8b231,_0x310fdd)});_0x5c11ab[_0x464fa4(0x504)](0xc8)[_0x464fa4(0x64d)](_0x2a57b4);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x6ef)),..._0x2ad500,async(_0x466fef,_0x22b965)=>{const _0x528ceb=_0x9bacd;let _0x5aefb6=_0x466fef['body'];f['verbose']('request\x20received\x20in\x20editFlowgroup'),f[_0x528ceb(0x6bd)](_0x528ceb(0x540)),f[_0x528ceb(0x6bd)](_0x466fef['body']);let _0x434d2d=await this['dataValidate']({'request':_0x466fef,'schema':v,'ClassRef':b,'execute':_0x214a33=>R['editFlowGroup'](_0x214a33,_0x5aefb6)});_0x22b965[_0x528ceb(0x504)](0xc8)[_0x528ceb(0x64d)](_0x434d2d);})['post'](this[_0x9bacd(0x191)](_0x9bacd(0x4f3)),..._0x2ad500,async(_0x8d1fb3,_0x26705d)=>{const _0x4b65e5=_0x9bacd;let _0x49130a=_0x8d1fb3[_0x4b65e5(0x6a7)];f[_0x4b65e5(0x6bd)](_0x4b65e5(0x604)),f[_0x4b65e5(0x6bd)]('request\x20body:\x20'),f[_0x4b65e5(0x6bd)](_0x8d1fb3[_0x4b65e5(0x6a7)]);let _0x109809=await this[_0x4b65e5(0x221)]({'request':_0x8d1fb3,'schema':v,'ClassRef':b,'execute':_0x36f20d=>R['editFlowCondition'](_0x36f20d,_0x49130a)});_0x26705d[_0x4b65e5(0x504)](0xc8)['json'](_0x109809);})[_0x9bacd(0x37a)](this['routerPath']('editflowvariable'),..._0x2ad500,async(_0x1ba7c2,_0x128507)=>{const _0x14d768=_0x9bacd;let _0x5d4838=_0x1ba7c2['body'];f[_0x14d768(0x6bd)](_0x14d768(0x3b2)),f[_0x14d768(0x6bd)](_0x14d768(0x540)),f[_0x14d768(0x6bd)](_0x1ba7c2['body']);let _0xf72119=await this[_0x14d768(0x221)]({'request':_0x1ba7c2,'schema':v,'ClassRef':b,'execute':_0x44bb44=>R[_0x14d768(0x271)](_0x44bb44,_0x5d4838)});_0x128507[_0x14d768(0x504)](0xc8)[_0x14d768(0x64d)](_0xf72119);})[_0x9bacd(0x37a)](this[_0x9bacd(0x191)](_0x9bacd(0x43d)),..._0x2ad500,async(_0x4a82bd,_0x1aac05)=>{const _0x377b77=_0x9bacd;let _0x3ab8f4=_0x4a82bd[_0x377b77(0x6a7)];f[_0x377b77(0x6bd)](_0x377b77(0x391)),f[_0x377b77(0x6bd)]('request\x20body:\x20'),f[_0x377b77(0x6bd)](_0x4a82bd[_0x377b77(0x6a7)]);let _0x135d2b=await this[_0x377b77(0x221)]({'request':_0x4a82bd,'schema':v,'ClassRef':b,'execute':_0x97ad41=>R[_0x377b77(0x223)](_0x97ad41,_0x3ab8f4)});_0x1aac05[_0x377b77(0x504)](0xc8)['json'](_0x135d2b);})[_0x9bacd(0x2c2)](this[_0x9bacd(0x191)](_0x9bacd(0x3a4)),..._0x2ad500,async(_0x358799,_0xca576f)=>{const _0x60b4c4=_0x9bacd;let _0x3d933c=_0x358799[_0x60b4c4(0x6a7)];f[_0x60b4c4(0x6bd)](_0x60b4c4(0x233)),f[_0x60b4c4(0x6bd)]('request\x20body:\x20'),f[_0x60b4c4(0x6bd)](_0x358799[_0x60b4c4(0x6a7)]);let _0x241671=await this[_0x60b4c4(0x221)]({'request':_0x358799,'schema':v,'ClassRef':b,'execute':_0x267172=>R[_0x60b4c4(0x1b7)](_0x267172,_0x3d933c)});_0xca576f[_0x60b4c4(0x504)](0xc8)[_0x60b4c4(0x64d)](_0x241671);})[_0x9bacd(0x60a)](this[_0x9bacd(0x191)](_0x9bacd(0x43a)),..._0x2ad500,async(_0x53dc0a,_0x562aa3)=>{const _0x5c076c=_0x9bacd;f[_0x5c076c(0x6bd)](_0x5c076c(0x620));let _0x1fdcba=await this['dataValidate']({'request':_0x53dc0a,'schema':v,'ClassRef':b,'execute':_0x89de44=>R['allFlows'](_0x89de44)});_0x562aa3['status'](0xc8)[_0x5c076c(0x64d)](_0x1fdcba);});}},no=T(require(a0_0x525ac(0x18d))),te={};function oo(_0x450386,_0x161973,_0x697068,_0x279a22){te[_0x450386]||(te[_0x450386]={}),te[_0x450386][_0x161973]={'id':_0x161973,'response':_0x697068,'events':_0x279a22};}function io(_0x5b67b7,_0x1abf0f){!te[_0x5b67b7]||!te[_0x5b67b7][_0x1abf0f]||delete te[_0x5b67b7][_0x1abf0f];}function q(_0x105c16,_0x350d59,_0x4ac4b8){const _0x99b825=a0_0x525ac;if(!te[_0x105c16])return;let _0x398554=_0x99b825(0x2c8)+JSON['stringify'](_0x4ac4b8)+'\x0a\x0a';Object[_0x99b825(0x1d1)](te[_0x105c16])[_0x99b825(0x319)](_0x2d48ce=>{const _0x15d8f7=_0x99b825;_0x2d48ce[_0x15d8f7(0x4d9)]['includes'](_0x350d59)&&_0x2d48ce[_0x15d8f7(0x3db)][_0x15d8f7(0x5c5)](_0x398554);});}function ro(){const _0x140bae=a0_0x525ac;let _0xaaa7f0={};for(let _0xb5b7c1 in te)_0xaaa7f0[_0xb5b7c1]=Object[_0x140bae(0x1d1)](te[_0xb5b7c1])['map'](_0x30bc6c=>({'id':_0x30bc6c['id'],'events':_0x30bc6c['events']}));return _0xaaa7f0;}var co=require(a0_0x525ac(0x2df)),ui=no[a0_0x525ac(0x6de)]['join'](__dirname,a0_0x525ac(0x1be)),Ot=(0x0,Pt[a0_0x525ac(0x4c6)])(),di=y[a0_0x525ac(0x60a)]('AUTHENTICATION')['TYPE'],pe=[fs,ua,ga[di]];Ot[a0_0x525ac(0x348)](a0_0x525ac(0x53a),Pt[a0_0x525ac(0x6de)][a0_0x525ac(0x208)](ui))['get'](a0_0x525ac(0x66d),async(_0x67e916,_0x5dbbdb)=>{const _0x24cf59=a0_0x525ac;console[_0x24cf59(0x571)](_0x24cf59(0x6dc));let _0x151d43=_0x67e916[_0x24cf59(0x605)]['instance'],_0x152175=(_0x67e916[_0x24cf59(0x4dc)][_0x24cf59(0x4d9)]||'')['split'](','),_0x55db2a=(0x0,co['v4'])();console[_0x24cf59(0x571)](_0x24cf59(0x4e2),_0x151d43),console[_0x24cf59(0x571)]('Subscribed\x20Events:',_0x152175);let _0x329c1e=y[_0x24cf59(0x60a)]('AUTHENTICATION')[_0x24cf59(0x251)],_0x45a5f5=_0x67e916[_0x24cf59(0x4dc)]['apikey'];if(console[_0x24cf59(0x571)](_0x24cf59(0x2de),_0x45a5f5),_0x329c1e[_0x24cf59(0x66e)]!==_0x45a5f5){console[_0x24cf59(0x571)]('env.KEY\x20!==\x20key');try{let _0x90d1bf=await de[_0x24cf59(0x50b)]['find'](_0x151d43);if(console[_0x24cf59(0x571)](_0x24cf59(0x71e),_0x90d1bf),!_0x90d1bf||_0x90d1bf['apikey']!==_0x45a5f5)return console[_0x24cf59(0x571)](_0x24cf59(0x390)),_0x5dbbdb[_0x24cf59(0x504)](0x191)[_0x24cf59(0x3e4)](_0x24cf59(0x5e3));}catch(_0x64bddc){return console[_0x24cf59(0x3cc)](_0x24cf59(0x410),_0x64bddc),_0x5dbbdb[_0x24cf59(0x504)](0x191)[_0x24cf59(0x3e4)](_0x24cf59(0x503));}}if(!await Ye(_0x151d43))return _0x5dbbdb['status'](0x194)[_0x24cf59(0x3e4)]('Instncia\x20no\x20encontrada.');_0x5dbbdb[_0x24cf59(0x332)](_0x24cf59(0x26a),_0x24cf59(0x4f9)),_0x5dbbdb[_0x24cf59(0x332)](_0x24cf59(0x38a),_0x24cf59(0x19e)),_0x5dbbdb[_0x24cf59(0x332)](_0x24cf59(0x5de),_0x24cf59(0x4cb)),_0x5dbbdb['flushHeaders']();let _0x9bd4aa='data:\x20'+JSON['stringify']({'info':'Conexo\x20estabelecida'})+'\x0a\x0a';_0x5dbbdb[_0x24cf59(0x5c5)](_0x9bd4aa),oo(_0x151d43,_0x55db2a,_0x5dbbdb,_0x152175),_0x67e916['on']('close',()=>{const _0xc83a92=_0x24cf59;console[_0xc83a92(0x571)](_0xc83a92(0x498)+_0x151d43),io(_0x151d43,_0x55db2a);});}),Ot[a0_0x525ac(0x60a)]('/clients-info',(_0x1ef9a5,_0x242f82)=>{const _0x3f8af9=a0_0x525ac;let _0x205cbd=ro();_0x242f82[_0x3f8af9(0x64d)](_0x205cbd);})[a0_0x525ac(0x60a)]('/',(_0x35a89f,_0x2373b6)=>{const _0x3f295c=a0_0x525ac;let _0x270cd7=y[_0x3f295c(0x60a)](_0x3f295c(0x639)),_0x27d02f=_0x270cd7&&_0x270cd7[_0x3f295c(0x585)][_0x3f295c(0x266)]('/')[0x4];if(_0x27d02f){let _0x2501f0=encodeURIComponent('https://'+_0x27d02f);_0x2373b6[_0x3f295c(0x5c9)](_0x3f295c(0x531)+_0x2501f0);}else _0x2373b6[_0x3f295c(0x5c9)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x525ac(0x2a8),...pe,async(_0x599430,_0x4e865b)=>{const _0x2c1d9b=a0_0x525ac;try{console[_0x2c1d9b(0x571)]('Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit'),_0x4e865b['status'](0xc8)['json']({'message':_0x2c1d9b(0x206)}),_0x4e865b['on']('finish',()=>process[_0x2c1d9b(0x428)](0x0));}catch(_0x4ab923){console[_0x2c1d9b(0x3cc)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x4ab923),_0x4e865b[_0x2c1d9b(0x504)](0x1f4)[_0x2c1d9b(0x64d)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x525ac(0x348)](a0_0x525ac(0x6d9),new ft(y,...pe)[a0_0x525ac(0x628)],new Rt(fs)[a0_0x525ac(0x628)])['use'](a0_0x525ac(0x69e),new Mt(...pe)[a0_0x525ac(0x628)])[a0_0x525ac(0x348)](a0_0x525ac(0x6a9),new ot(...pe)[a0_0x525ac(0x628)])[a0_0x525ac(0x348)](a0_0x525ac(0x3d8),new gt(...pe)['router'])['use'](a0_0x525ac(0x2ee),new It(...pe)[a0_0x525ac(0x628)])[a0_0x525ac(0x348)](a0_0x525ac(0x58e),new Dt(...pe)['router']);var g=class{constructor(..._0x2debf3){const _0x1b73ce=a0_0x525ac;throw{'status':0x190,'error':_0x1b73ce(0x389),'message':_0x2debf3[_0x1b73ce(0x261)]>0x0?_0x2debf3:void 0x0};}},ne=class{constructor(..._0x1bd695){const _0x5d8935=a0_0x525ac;throw{'status':0x191,'error':_0x5d8935(0x5bc),'message':_0x1bd695[_0x5d8935(0x261)]>0x0?_0x1bd695:void 0x0};}},re=class{constructor(..._0x4f5161){const _0x46d319=a0_0x525ac;throw{'status':0x193,'error':_0x46d319(0x384),'message':_0x4f5161[_0x46d319(0x261)]>0x0?_0x4f5161:void 0x0};}},x=class{constructor(..._0x5e6a3b){const _0x3c98b0=a0_0x525ac;throw{'status':0x194,'error':_0x3c98b0(0x4b4),'message':_0x5e6a3b[_0x3c98b0(0x261)]>0x0?_0x5e6a3b:void 0x0};}},A=class{constructor(..._0x231a41){const _0x42c4e0=a0_0x525ac;throw{'status':0x1f4,'error':_0x42c4e0(0x334),'message':_0x231a41[_0x42c4e0(0x261)]>0x0?_0x231a41:void 0x0};}},ge=require(a0_0x525ac(0x3d3));async function Es(_0x394152){const _0x473c40=a0_0x525ac;let _0x562ed0=new C(Es[_0x473c40(0x524)]),_0xbdf57b=M[_0x473c40(0x272)](),_0x3847bd=_0xbdf57b['db'](y[_0x473c40(0x60a)](_0x473c40(0x690))[_0x473c40(0x33d)][_0x473c40(0x37e)]+'-instances')[_0x473c40(0x4d1)](_0x394152),_0x3dde71=async(_0x2d48c7,_0x500991)=>{const _0x175f77=_0x473c40;try{return await _0xbdf57b[_0x175f77(0x41b)](),await _0x3847bd[_0x175f77(0x202)]({'_id':_0x500991},JSON['parse'](JSON[_0x175f77(0x56f)](_0x2d48c7,ge[_0x175f77(0x49f)][_0x175f77(0x193)])),{'upsert':!0x0});}catch{}},_0x3dde4d=async _0x5585e2=>{const _0x1d7db2=_0x473c40;try{await _0xbdf57b[_0x1d7db2(0x41b)]();let _0x3f430a=await _0x3847bd[_0x1d7db2(0x555)]({'_id':_0x5585e2}),_0x149dc1=JSON[_0x1d7db2(0x56f)](_0x3f430a);return JSON[_0x1d7db2(0x20b)](_0x149dc1,ge[_0x1d7db2(0x49f)][_0x1d7db2(0x2f1)]);}catch{}},_0x5e6a1a=async _0x5bb0e1=>{const _0x4ac21c=_0x473c40;try{return await _0xbdf57b[_0x4ac21c(0x41b)](),await _0x3847bd[_0x4ac21c(0x485)]({'_id':_0x5bb0e1});}catch{}},_0x4fd6a7=await _0x3dde4d(_0x473c40(0x64a))||(0x0,ge[_0x473c40(0x6a8)])();return{'state':{'creds':_0x4fd6a7,'keys':{'get':async(_0x423500,_0x48a731)=>{const _0x86479e=_0x473c40;let _0x2ae1e1={};return await Promise[_0x86479e(0x264)](_0x48a731['map'](async _0x4bb938=>{const _0x3687d3=_0x86479e;let _0x34d4ec=await _0x3dde4d(_0x423500+'-'+_0x4bb938);_0x423500===_0x3687d3(0x354)&&_0x34d4ec&&(_0x34d4ec=ge[_0x3687d3(0x6ed)][_0x3687d3(0x551)][_0x3687d3(0x3a9)][_0x3687d3(0x5b6)](_0x34d4ec)),_0x2ae1e1[_0x4bb938]=_0x34d4ec;})),_0x2ae1e1;},'set':async _0x3c26bb=>{const _0x370960=_0x473c40;let _0x4e2613=[];for(let _0x32c25e in _0x3c26bb)for(let _0xf22c28 in _0x3c26bb[_0x32c25e]){let _0xf27f1=_0x3c26bb[_0x32c25e][_0xf22c28],_0x5df0dd=_0x32c25e+'-'+_0xf22c28;_0x4e2613['push'](_0xf27f1?_0x3dde71(_0xf27f1,_0x5df0dd):_0x5e6a1a(_0x5df0dd));}await Promise[_0x370960(0x264)](_0x4e2613);}}},'saveCreds':async()=>_0x3dde71(_0x4fd6a7,_0x473c40(0x64a))};}var Cs=T(require(a0_0x525ac(0x219))),Ts=T(require(a0_0x525ac(0x5a9))),$t=require('@whiskeysockets/baileys'),lo=require(a0_0x525ac(0x673)),xt=require('@whiskeysockets/baileys'),_t;function pi(_0x21a373){const _0x3afc56=a0_0x525ac;return _t||(_t=(0x0,lo['createClient'])({'url':_0x21a373['URI']}),_t[_0x3afc56(0x41b)]()),_t;}var ye=class c{constructor(_0x5c1f6c,_0x319149){const _0x1583b7=a0_0x525ac;this[_0x1583b7(0x409)]=_0x5c1f6c,this['instanceName']=_0x319149,this['logger']=new C(c['name']),this[_0x1583b7(0x3c2)]=pi(_0x5c1f6c);}set[a0_0x525ac(0x1ff)](_0x1c9383){const _0x2cc623=a0_0x525ac;this[_0x2cc623(0x2b3)]=_0x1c9383;}async[a0_0x525ac(0x678)](){const _0x54d703=a0_0x525ac;try{return await this['client']['sendCommand']([_0x54d703(0x697),this[_0x54d703(0x409)][_0x54d703(0x5c4)]+':*']);}catch(_0x513f5d){this['logger'][_0x54d703(0x3cc)](_0x513f5d);}}async[a0_0x525ac(0x396)](_0x2e8b33,_0x5a49c0){const _0x48d25b=a0_0x525ac;try{let _0x2cf531=JSON['stringify'](_0x5a49c0,xt[_0x48d25b(0x49f)][_0x48d25b(0x193)]);return await this[_0x48d25b(0x3c2)]['hSet'](this[_0x48d25b(0x409)][_0x48d25b(0x5c4)]+':'+this[_0x48d25b(0x2b3)],_0x2e8b33,_0x2cf531);}catch(_0x4ae105){this[_0x48d25b(0x1de)]['error'](_0x4ae105);}}async[a0_0x525ac(0x499)](){const _0x3b6667=a0_0x525ac;try{let _0x32fe1d=await this[_0x3b6667(0x3c2)]['hGetAll'](this[_0x3b6667(0x409)][_0x3b6667(0x5c4)]+':'+this[_0x3b6667(0x2b3)]);if(_0x32fe1d){for(let _0x4ee4fe in _0x32fe1d)Object['prototype'][_0x3b6667(0x54d)][_0x3b6667(0x48a)](_0x32fe1d,_0x4ee4fe)&&(_0x32fe1d[_0x4ee4fe]=JSON['parse'](_0x32fe1d[_0x4ee4fe],xt[_0x3b6667(0x49f)]['reviver']));return _0x32fe1d;}}catch(_0x4c3068){this['logger'][_0x3b6667(0x3cc)](_0x4c3068);}}async[a0_0x525ac(0x6ca)](_0x47ca3c){const _0x9191b6=a0_0x525ac;try{let _0x4b44c2=await this[_0x9191b6(0x3c2)][_0x9191b6(0x462)](this[_0x9191b6(0x409)][_0x9191b6(0x5c4)]+':'+this[_0x9191b6(0x2b3)],_0x47ca3c);if(_0x4b44c2)return JSON['parse'](_0x4b44c2,xt[_0x9191b6(0x49f)][_0x9191b6(0x2f1)]);}catch(_0x3329ab){this['logger']['error'](_0x3329ab);}}async[a0_0x525ac(0x444)](_0x48cd8b){const _0x40a530=a0_0x525ac;try{return await this[_0x40a530(0x3c2)][_0x40a530(0x5c6)](this[_0x40a530(0x409)]['PREFIX_KEY']+':'+this['instanceName'],_0x48cd8b);}catch(_0x364cad){this[_0x40a530(0x1de)][_0x40a530(0x3cc)](_0x364cad);}}async[a0_0x525ac(0x3b6)](_0x5dc71e){const _0x4c8445=a0_0x525ac;try{return await this['client'][_0x4c8445(0x415)](_0x5dc71e||this[_0x4c8445(0x409)][_0x4c8445(0x5c4)]+':'+this[_0x4c8445(0x2b3)]);}catch(_0x2324fc){this['logger'][_0x4c8445(0x3cc)](_0x2324fc);}}};async function vs(_0x53cc75,_0x12159c){const _0x5519a5=a0_0x525ac;let _0x58be4c=new C(vs['name']),_0x2f929e=new ye(_0x53cc75,_0x12159c),_0x2eff0d=async(_0x5ea7ca,_0x51c161)=>{const _0x1f7dc2=a0_0x59e4;try{return await _0x2f929e['writeData'](_0x51c161,_0x5ea7ca);}catch(_0x45b257){return _0x58be4c[_0x1f7dc2(0x3cc)]({'localError':_0x1f7dc2(0x396),'error':_0x45b257});}},_0x26faac=async _0x5b266c=>{const _0xe21311=a0_0x59e4;try{return await _0x2f929e[_0xe21311(0x6ca)](_0x5b266c);}catch(_0x10cfc9){_0x58be4c['error']({'readData':_0xe21311(0x396),'error':_0x10cfc9});return;}},_0x378002=async _0x10609c=>{const _0x23b7d5=a0_0x59e4;try{return await _0x2f929e[_0x23b7d5(0x444)](_0x10609c);}catch(_0x46dfa7){_0x58be4c['error']({'readData':_0x23b7d5(0x444),'error':_0x46dfa7});}},_0x30742c=await _0x26faac(_0x5519a5(0x64a))||(0x0,$t[_0x5519a5(0x6a8)])();return{'state':{'creds':_0x30742c,'keys':{'get':async(_0x6efad,_0x282f79)=>{const _0x1a6573=_0x5519a5;let _0x2774b7={};return await Promise[_0x1a6573(0x264)](_0x282f79[_0x1a6573(0x595)](async _0x4187da=>{const _0x28080d=_0x1a6573;let _0x78cfc6=await _0x26faac(_0x6efad+'-'+_0x4187da);_0x6efad==='app-state-sync-key'&&_0x78cfc6&&(_0x78cfc6=$t[_0x28080d(0x6ed)][_0x28080d(0x551)]['AppStateSyncKeyData'][_0x28080d(0x5b6)](_0x78cfc6)),_0x2774b7[_0x4187da]=_0x78cfc6;})),_0x2774b7;},'set':async _0x34da6e=>{const _0x5273ce=_0x5519a5;let _0x2ee0e6=[];for(let _0x1c9c7f in _0x34da6e)for(let _0x382be6 in _0x34da6e[_0x1c9c7f]){let _0x1a3561=_0x34da6e[_0x1c9c7f][_0x382be6],_0x16ca30=_0x1c9c7f+'-'+_0x382be6;_0x2ee0e6[_0x5273ce(0x6a1)](_0x1a3561?await _0x2eff0d(_0x1a3561,_0x16ca30):await _0x378002(_0x16ca30));}await Promise[_0x5273ce(0x264)](_0x2ee0e6);}}},'saveCreds':async()=>await _0x2eff0d(_0x30742c,_0x5519a5(0x64a))};}var _=T(require('fs')),Lt=require(a0_0x525ac(0x2df)),Ut=T(require(a0_0x525ac(0x630)));function W(_0x13ebec){const _0x15677e=a0_0x525ac;if(_0x13ebec[_0x15677e(0x25c)]||_0x13ebec[_0x15677e(0x666)]){let _0x513b77=_0x13ebec[_0x15677e(0x25c)]?_0x13ebec[_0x15677e(0x25c)][_0x15677e(0x197)]:_0x13ebec[_0x15677e(0x666)][_0x15677e(0x197)];return(0x0,w['getContentType'])(_0x513b77);}return _0x13ebec[_0x15677e(0x2cc)]?_0x15677e(0x2cc):_0x13ebec[_0x15677e(0x212)]?_0x15677e(0x212):(0x0,w[_0x15677e(0x537)])(_0x13ebec);}var Se=class c{constructor(_0x2b7daf,_0x4d7056,_0x265b41){const _0xf25c1a=a0_0x525ac;this['configService']=_0x2b7daf,this[_0xf25c1a(0x2e5)]=_0x4d7056,this[_0xf25c1a(0x5fe)]=_0x265b41,this[_0xf25c1a(0x42a)]=null,this[_0xf25c1a(0x1de)]=new C(c['name']),this[_0xf25c1a(0x5d1)]={},this[_0xf25c1a(0x284)]={},this[_0xf25c1a(0x52f)]={'state':_0xf25c1a(0x34f)},this['storePath']=(0x0,$[_0xf25c1a(0x5c2)])(Y,_0xf25c1a(0x1be)),this[_0xf25c1a(0x1ba)]=new Ts[(_0xf25c1a(0x6de))](),this[_0xf25c1a(0x68e)]=new Ts[(_0xf25c1a(0x6de))](),this[_0xf25c1a(0x579)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','qrcode.updated':_0xf25c1a(0x6a2),'messages.upsert':_0xf25c1a(0x581),'messages.update':_0xf25c1a(0x53b),'send.message':_0xf25c1a(0x581),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0xf25c1a(0x6c9),'connection.update':'/wa-connection-update','messages.set':'/wa-message','contacts.set':'/wa-contacts','contacts.upsert':_0xf25c1a(0x3ed),'contacts.update':_0xf25c1a(0x3ed),'presence.update':_0xf25c1a(0x2d9),'chats.set':'/wa-chats','chats.update':_0xf25c1a(0x69f),'chats.upsert':'/wa-chats','chats.delete':_0xf25c1a(0x69f)},this[_0xf25c1a(0x5e0)]=0x0,this[_0xf25c1a(0x2be)]=[],this[_0xf25c1a(0x34b)]=0xf,this[_0xf25c1a(0x5aa)]=0x7530,this[_0xf25c1a(0x583)]=!0x1,this[_0xf25c1a(0x1eb)]={'chats.upsert':async(_0x2b2864,_0x5988fc)=>{const _0x2dae9c=_0xf25c1a;let _0x47d1e3=await this['repository'][_0x2dae9c(0x3f7)]['find']({'where':{'owner':this[_0x2dae9c(0x5d1)]['wuid']}}),_0x44101e=[];for await(let _0x506447 of _0x2b2864)_0x47d1e3[_0x2dae9c(0x252)](_0x418d41=>_0x418d41['id']===_0x506447['id'])||_0x44101e[_0x2dae9c(0x6a1)]({'id':_0x506447['id'],'owner':this['instance'][_0x2dae9c(0x4f4)],'group':_0x506447['id'][_0x2dae9c(0x1fa)]('@g.us'),'name':_0x506447['name']||_0x506447['displayName']||null,'contactname':null,'lastmsg':_0x506447['conversationTimestamp']&&_0x506447[_0x2dae9c(0x1b0)]['toString']()[_0x2dae9c(0x261)]<0xd?_0x506447[_0x2dae9c(0x1b0)]*0x3e8:_0x506447['conversationTimestamp']||null,'archived':_0x506447['archived']||!0x1,'unreadcount':_0x506447[_0x2dae9c(0x308)]||0x0});await this[_0x2dae9c(0x281)]('chats.upsert',_0x44101e);},'chats.update':async(_0x394d4a,_0x2e44e2)=>{const _0x2dc90a=_0xf25c1a;for(let _0xa16feb of _0x394d4a){let _0x92ee38={'id':_0xa16feb['id'],'owner':this['instance'][_0x2dc90a(0x4f4)],'group':_0xa16feb['id'][_0x2dc90a(0x1fa)](_0x2dc90a(0x6db)),'name':_0xa16feb[_0x2dc90a(0x524)]||_0xa16feb[_0x2dc90a(0x3ac)],'archived':_0xa16feb[_0x2dc90a(0x655)]},_0x3438a4=!0x1,_0x5a8fc9={'id':_0xa16feb['id'],'owner':this[_0x2dc90a(0x5d1)][_0x2dc90a(0x4f4)]},_0x4c0ffe={};_0x92ee38['archived']!=null&&(this[_0x2dc90a(0x1de)]['verbose'](this[_0x2dc90a(0x2b3)]+'\x20('+this['instance']['wuid']+_0x2dc90a(0x722)+_0xa16feb[_0x2dc90a(0x655)]),_0x3438a4=!0x0,_0x4c0ffe['archived']=_0xa16feb[_0x2dc90a(0x655)]),_0xa16feb[_0x2dc90a(0x524)]!=null&&(this[_0x2dc90a(0x1de)]['verbose'](this[_0x2dc90a(0x2b3)]+'\x20('+this['instance']['wuid']+_0x2dc90a(0x686)+_0xa16feb[_0x2dc90a(0x524)]),_0x3438a4=!0x0,_0x4c0ffe['name']=_0xa16feb['name']),_0xa16feb[_0x2dc90a(0x3ac)]!=null&&(this[_0x2dc90a(0x1de)][_0x2dc90a(0x6bd)](this[_0x2dc90a(0x2b3)]+'\x20('+this[_0x2dc90a(0x5d1)]['wuid']+_0x2dc90a(0x68c)+_0xa16feb['displayName']),_0x3438a4=!0x0,_0x4c0ffe[_0x2dc90a(0x524)]=_0xa16feb['displayName']);let _0x56200b;_0x3438a4&&_0x2e44e2[_0x2dc90a(0x517)]&&(_0x56200b=await D[_0x2dc90a(0x2bf)](_0x5a8fc9,{'$set':_0x4c0ffe},{'new':!0x0})),_0x56200b&&q(this[_0x2dc90a(0x2b3)],_0x2dc90a(0x2e8),{'chat':_0x56200b});}},'chats.delete':async _0x2e9e1f=>{await this['sendDataWebhook']('chats.delete',[..._0x2e9e1f]);}},this[_0xf25c1a(0x41f)]={'contacts.upsert':async(_0x22a699,_0x2a6a1a)=>{const _0x4249ff=_0xf25c1a;let _0x8a106a=await this['repository'][_0x4249ff(0x55a)][_0x4249ff(0x252)]({'where':{'owner':this['instance'][_0x4249ff(0x4f4)]}}),_0x316e5b=[];for await(let _0x3569bf of _0x22a699)_0x8a106a[_0x4249ff(0x252)](_0x1767d2=>_0x1767d2['id']===_0x3569bf['id'])||_0x316e5b[_0x4249ff(0x6a1)]({'id':_0x3569bf['id'],'pushName':_0x3569bf?.[_0x4249ff(0x524)]||_0x3569bf?.[_0x4249ff(0x424)],'owner':this[_0x4249ff(0x5d1)][_0x4249ff(0x4f4)]});await this[_0x4249ff(0x281)](_0x4249ff(0x224),_0x316e5b),await this[_0x4249ff(0x5fe)][_0x4249ff(0x55a)][_0x4249ff(0x5ac)](_0x316e5b,_0x2a6a1a[_0x4249ff(0x517)]);let _0xc09870=[];for(let _0x32dd68 of _0x316e5b){let [_0x1de117,_0x36aae6]=await Promise[_0x4249ff(0x264)]([this['profilePicture'](_0x32dd68['id']),(await this[_0x4249ff(0x5e7)](_0x32dd68['id']))[_0x4249ff(0x504)]]);_0xc09870['push']({..._0x32dd68,'profilePictureUrl':_0x1de117['profilePictureUrl'],'status':_0x36aae6});}await this[_0x4249ff(0x5fe)]['contact'][_0x4249ff(0x71f)](_0xc09870,_0x2a6a1a['ENABLED']),await this[_0x4249ff(0x54a)]();},'contacts.update':async(_0x5aac45,_0x208e04)=>{const _0x7a8dac=_0xf25c1a;let _0x12db21=[];for await(let _0x8b904c of _0x5aac45)_0x12db21[_0x7a8dac(0x6a1)]({'id':_0x8b904c['id'],'pushName':_0x8b904c?.['name']??_0x8b904c?.[_0x7a8dac(0x424)],'profilePictureUrl':(await this[_0x7a8dac(0x6b5)](_0x8b904c['id']))[_0x7a8dac(0x154)],'owner':this[_0x7a8dac(0x5d1)][_0x7a8dac(0x4f4)]});await this[_0x7a8dac(0x281)](_0x7a8dac(0x5c3),_0x12db21);}},this['messageHandle']={'messaging-history.set':async({messages:_0x1bfa13,chats:_0x267ef8,isLatest:_0x2b22c9},_0x1b7f40)=>{const _0x5603a6=_0xf25c1a;if(_0x2b22c9){let _0x52ab1b=await Promise[_0x5603a6(0x264)](_0x267ef8[_0x5603a6(0x595)](async _0xaee29f=>({'id':_0xaee29f['id'],'owner':this[_0x5603a6(0x5d1)][_0x5603a6(0x4f4)],'group':_0xaee29f['id'][_0x5603a6(0x1fa)](_0x5603a6(0x6db)),'name':_0xaee29f[_0x5603a6(0x524)]||_0xaee29f[_0x5603a6(0x3ac)]||null,'contactname':null,'imagechat':(await this[_0x5603a6(0x6b5)](_0xaee29f['id']))[_0x5603a6(0x154)],'lastmsg':_0xaee29f[_0x5603a6(0x1b0)]&&_0xaee29f[_0x5603a6(0x1b0)][_0x5603a6(0x679)]()[_0x5603a6(0x261)]<0xd?_0xaee29f[_0x5603a6(0x1b0)]*0x3e8:_0xaee29f['conversationTimestamp']||null,'archived':_0xaee29f[_0x5603a6(0x655)]||!0x1,'unreadcount':_0xaee29f['unreadCount']||0x0})));await this[_0x5603a6(0x281)]('chats.set',_0x52ab1b),await this['upsertChats'](_0x52ab1b,_0x1b7f40),await this['checkAndUpdateChats']();}let _0x3e3fcb=[],_0x518bc0=Date[_0x5603a6(0x50c)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x29d3d5]of Object['entries'](_0x1bfa13)){if(_0x29d3d5[_0x5603a6(0x197)]?.[_0x5603a6(0x2af)]||_0x29d3d5[_0x5603a6(0x197)]?.[_0x5603a6(0x285)]||!_0x29d3d5[_0x5603a6(0x197)]||_0x29d3d5[_0x5603a6(0x4ba)][_0x5603a6(0x6ff)]===_0x5603a6(0x55b)||(Cs['default'][_0x5603a6(0x5c1)](_0x29d3d5?.[_0x5603a6(0x4fa)])&&(_0x29d3d5[_0x5603a6(0x4fa)]=_0x29d3d5['messageTimestamp']?.[_0x5603a6(0x4c4)]()),_0x29d3d5[_0x5603a6(0x4fa)]&&_0x29d3d5[_0x5603a6(0x4fa)][_0x5603a6(0x679)]()[_0x5603a6(0x261)]<0xd&&(_0x29d3d5[_0x5603a6(0x4fa)]=_0x29d3d5[_0x5603a6(0x4fa)]*0x3e8),_0x29d3d5[_0x5603a6(0x4fa)]<_0x518bc0))continue;let {message_normalized:_0x4a8c59}=this['normalizeMessage'](_0x29d3d5[_0x5603a6(0x197)],W(_0x29d3d5[_0x5603a6(0x197)]),null);_0x3e3fcb['push']({'key':_0x29d3d5['key'],'pushName':_0x29d3d5['pushName'],'participant':_0x29d3d5[_0x5603a6(0x203)],'message':{..._0x29d3d5['message']},'messageType':W(_0x29d3d5[_0x5603a6(0x197)]),'message_normalized':{'key':_0x29d3d5[_0x5603a6(0x4ba)],'pushName':_0x29d3d5[_0x5603a6(0x3d5)],'messageTimestamp':_0x29d3d5['messageTimestamp'],..._0x4a8c59},'messageTimestamp':_0x29d3d5[_0x5603a6(0x4fa)],'owner':this[_0x5603a6(0x5d1)]['wuid']});}_0x1b7f40[_0x5603a6(0x517)]&&_0x3e3fcb[_0x5603a6(0x261)]>0x0&&(this[_0x5603a6(0x1de)][_0x5603a6(0x6bd)](this[_0x5603a6(0x2b3)]+'\x20('+this['instance'][_0x5603a6(0x4f4)]+_0x5603a6(0x6a4)+_0x3e3fcb[_0x5603a6(0x261)]+_0x5603a6(0x5b7)+this[_0x5603a6(0x5d1)][_0x5603a6(0x4f4)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5603a6(0x5fe)][_0x5603a6(0x197)][_0x5603a6(0x5ac)]([..._0x3e3fcb],_0x1b7f40[_0x5603a6(0x517)])),this[_0x5603a6(0x281)]('messages.set',[..._0x3e3fcb]),_0x1bfa13=void 0x0;},'messages.upsert':async({messages:_0xef50be,type:_0x3b30af},_0x3df9e1)=>{const _0x1cb47f=_0xf25c1a;let _0x350a24=_0xef50be[0x0];if(_0x3b30af!==_0x1cb47f(0x2ed)||!_0x350a24?.[_0x1cb47f(0x197)]||_0x350a24[_0x1cb47f(0x197)]?.[_0x1cb47f(0x2af)]||_0x350a24['message'][_0x1cb47f(0x285)]||_0x350a24[_0x1cb47f(0x4ba)][_0x1cb47f(0x6ff)]===_0x1cb47f(0x55b))return;let _0x43a9cd=null,_0x3b54e5=null;try{_0x43a9cd=await this[_0x1cb47f(0x538)](_0x350a24),_0x3b54e5=_0x43a9cd?_0x43a9cd[_0x1cb47f(0x5c2)](','):null;}catch(_0x4a3866){this[_0x1cb47f(0x1de)][_0x1cb47f(0x6bd)](this[_0x1cb47f(0x2b3)]+'\x20('+this[_0x1cb47f(0x5d1)]['wuid']+_0x1cb47f(0x6a4)+_0x4a3866[_0x1cb47f(0x197)]),_0x3b54e5=_0x1cb47f(0x16b);}if(this[_0x1cb47f(0x3c2)][_0x1cb47f(0x430)](_0x1cb47f(0x705)),Cs[_0x1cb47f(0x6de)][_0x1cb47f(0x5c1)](_0x350a24[_0x1cb47f(0x4fa)])&&(_0x350a24[_0x1cb47f(0x4fa)]=_0x350a24[_0x1cb47f(0x4fa)]?.['toNumber']()),this[_0x1cb47f(0x284)]?.[_0x1cb47f(0x288)]&&_0x350a24['key'][_0x1cb47f(0x6ff)]['includes'](_0x1cb47f(0x6db))){this[_0x1cb47f(0x1de)][_0x1cb47f(0x6bd)](_0x1cb47f(0x3f2));return;}_0x350a24[_0x1cb47f(0x4fa)]&&_0x350a24[_0x1cb47f(0x4fa)][_0x1cb47f(0x679)]()[_0x1cb47f(0x261)]<0xd&&(_0x350a24[_0x1cb47f(0x4fa)]=_0x350a24['messageTimestamp']*0x3e8);let _0x2d332f=_0x350a24[_0x1cb47f(0x197)],{messageContent:_0x70c0f1,message_normalized:_0x140888}=this[_0x1cb47f(0x658)](_0x2d332f,W(_0x350a24[_0x1cb47f(0x197)]),_0x3b54e5);_0x70c0f1||console[_0x1cb47f(0x3cc)](_0x1cb47f(0x6d5));let _0x50ed6b={'key':_0x350a24[_0x1cb47f(0x4ba)],'pushName':_0x350a24[_0x1cb47f(0x3d5)],'message':{..._0x350a24[_0x1cb47f(0x197)]},'messageType':W(_0x350a24[_0x1cb47f(0x197)]),'message_normalized':{'key':_0x350a24[_0x1cb47f(0x4ba)],'pushName':_0x350a24[_0x1cb47f(0x3d5)],'messageTimestamp':_0x350a24[_0x1cb47f(0x4fa)],'source':(0x0,w['getDevice'])(_0x350a24[_0x1cb47f(0x4ba)]['id']),..._0x140888},'messageTimestamp':_0x350a24[_0x1cb47f(0x4fa)],'owner':this[_0x1cb47f(0x5d1)][_0x1cb47f(0x4f4)]};this[_0x1cb47f(0x1de)]['log'](_0x50ed6b),await this['repository']['message'][_0x1cb47f(0x5ac)]([_0x50ed6b],_0x3df9e1[_0x1cb47f(0x517)]),await this[_0x1cb47f(0x281)](_0x1cb47f(0x62b),_0x50ed6b),q(this[_0x1cb47f(0x2b3)],_0x1cb47f(0x728),{'message':_0x50ed6b}),_0x350a24[_0x1cb47f(0x4ba)][_0x1cb47f(0x6ff)]!==_0x1cb47f(0x55b)&&await this[_0x1cb47f(0x315)](_0x3df9e1,_0x50ed6b,_0x1cb47f(0x24c));},'messages.update':async(_0x26f507,_0x4a91f)=>{const _0x595fda=_0xf25c1a;let _0x21294f={0x0:'ERROR',0x1:_0x595fda(0x651),0x2:'SERVER_ACK',0x3:_0x595fda(0x4e3),0x4:_0x595fda(0x72d),0x5:_0x595fda(0x6b2)};for await(let {key:_0x200bd9,update:_0x28e9d9}of _0x26f507){if(this[_0x595fda(0x284)]?.[_0x595fda(0x288)]&&_0x200bd9[_0x595fda(0x6ff)][_0x595fda(0x672)]('@g.us')){this['logger']['verbose'](_0x595fda(0x3f2));return;}if(_0x200bd9[_0x595fda(0x6ff)]!==_0x595fda(0x55b)){let _0x470a74=Date['now'](),_0x5a75bf;_0x28e9d9['message']===null&&_0x28e9d9[_0x595fda(0x504)]===void 0x0?_0x5a75bf=_0x595fda(0x5a3):_0x5a75bf=_0x21294f[_0x28e9d9['status']];let _0x544ef9=_0x200bd9[_0x595fda(0x6ff)][_0x595fda(0x1db)](/:\d{1,2}@/g,'@'),_0x5e2f72={..._0x200bd9,'remoteJid':_0x544ef9,'status':_0x5a75bf,'datetime':_0x470a74,'owner':this[_0x595fda(0x5d1)]['wuid']};await this[_0x595fda(0x281)](_0x595fda(0x180),_0x5e2f72),await this[_0x595fda(0x5fe)][_0x595fda(0x2dd)][_0x595fda(0x5ac)]([_0x5e2f72],_0x4a91f[_0x595fda(0x517)]),await this[_0x595fda(0x70b)](_0x200bd9,_0x544ef9,_0x5e2f72);}}}},this[_0xf25c1a(0x469)]={'groups.upsert':_0x559d53=>{const _0x472772=_0xf25c1a;this[_0x472772(0x281)]('groups.upsert',_0x559d53);},'groups.update':_0x3cbf46=>{const _0x21bebc=_0xf25c1a;this[_0x21bebc(0x281)](_0x21bebc(0x5a2),_0x3cbf46);},'group-participants.update':_0x3804eb=>{const _0x48ccaa=_0xf25c1a;this[_0x48ccaa(0x281)](_0x48ccaa(0x18b),_0x3804eb);}},this['processPollUpdateMessage']=async _0x53528f=>{const _0x11d017=_0xf25c1a;if(_0x53528f[_0x11d017(0x197)]?.[_0x11d017(0x20a)]){let _0x39643d=await this[_0x11d017(0x497)](_0x53528f['message'][_0x11d017(0x20a)][_0x11d017(0x6c1)],!0x0);if(_0x39643d){let _0x596f92=_0x39643d['key'][_0x11d017(0x4bd)]?this[_0x11d017(0x5d1)]['wuid']+'@s.whatsapp.net':_0x39643d[_0x11d017(0x4ba)][_0x11d017(0x203)]||_0x39643d[_0x11d017(0x4ba)]['remoteJid'],_0x5b0752=_0x39643d[_0x11d017(0x4ba)]['id'],_0x54518f=_0x39643d['message'],_0x404099=Buffer[_0x11d017(0x248)](_0x54518f['messageContextInfo']['messageSecret']['toString'](_0x11d017(0x171)),'hex'),_0x206ca6=(0x0,w[_0x11d017(0x239)])(_0x53528f[_0x11d017(0x197)][_0x11d017(0x20a)][_0x11d017(0x33a)],{'pollCreatorJid':_0x596f92,'pollMsgId':_0x5b0752,'pollEncKey':_0x404099,'voterJid':_0x53528f[_0x11d017(0x4ba)][_0x11d017(0x4bd)]?this[_0x11d017(0x5d1)][_0x11d017(0x4f4)]+'@s.whatsapp.net':_0x53528f[_0x11d017(0x4ba)]['remoteJid'][_0x11d017(0x1fa)](_0x11d017(0x3c8))?_0x53528f[_0x11d017(0x4ba)][_0x11d017(0x203)]:_0x53528f[_0x11d017(0x4ba)][_0x11d017(0x6ff)]}),_0x45e48d=[],_0x3714e5=_0x206ca6[_0x11d017(0x455)]['map'](_0x7f69ef=>Buffer[_0x11d017(0x248)](_0x7f69ef)[_0x11d017(0x679)](_0x11d017(0x171)));for(let {optionName:_0xff9bbf}of _0x54518f[_0x11d017(0x3a1)]?.[_0x11d017(0x1c6)]||_0x54518f['pollCreationMessageV3']?.[_0x11d017(0x1c6)]||_0x54518f['pollCreationMessageV2']?.[_0x11d017(0x1c6)])_0x3714e5[_0x11d017(0x62f)]((0x0,w[_0x11d017(0x6fa)])(Buffer[_0x11d017(0x248)](_0xff9bbf))[_0x11d017(0x679)](_0x11d017(0x171)))>-0x1&&_0x45e48d['push'](_0xff9bbf);return _0x45e48d;}}return null;},this['normalizeMessage']=(_0x29d447,_0xdd0cc0,_0x168901)=>{const _0x599688=_0xf25c1a;let _0xcf4a3c=_0xdd0cc0?_0x29d447[_0xdd0cc0]:void 0x0,_0x4291f5={},_0x1b0030=null,_0x187c88=null,_0x1b5fee=null;if(_0x29d447[_0x599688(0x666)]?_0xcf4a3c=_0x29d447['viewOnceMessageV2'][_0x599688(0x197)][_0xdd0cc0]:_0x29d447['viewOnceMessage']?_0xcf4a3c=_0x29d447[_0x599688(0x25c)][_0x599688(0x197)][_0xdd0cc0]:_0x29d447[_0x599688(0x668)]?_0xcf4a3c=_0x29d447['ephemeralMessage'][_0x599688(0x197)][_0xdd0cc0]:_0x29d447['editedMessage']?.[_0x599688(0x197)]?.[_0x599688(0x2af)]?.[_0x599688(0x731)]?(_0x1b0030=_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x4ba)]['id'],_0x29d447[_0x599688(0x731)]['message'][_0x599688(0x2af)][_0x599688(0x731)]['conversation']?_0xcf4a3c=_0x29d447['editedMessage'][_0x599688(0x197)]['protocolMessage'][_0x599688(0x731)][_0x599688(0x2a5)]:_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)][_0x599688(0x56c)]?_0xcf4a3c=_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)][_0x599688(0x56c)][_0x599688(0x586)]:_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)][_0x599688(0x5f3)]?_0xcf4a3c=_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)]['videoMessage'][_0x599688(0x586)]:_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)][_0x599688(0x653)]?_0xcf4a3c=_0x29d447[_0x599688(0x731)]['message'][_0x599688(0x2af)][_0x599688(0x731)][_0x599688(0x653)]['message'][_0x599688(0x43e)][_0x599688(0x586)]:_0xcf4a3c=_0x29d447[_0x599688(0x731)][_0x599688(0x197)][_0x599688(0x2af)][_0x599688(0x731)]):_0xcf4a3c=_0x29d447[_0xdd0cc0],!_0xdd0cc0||!_0xcf4a3c){console[_0x599688(0x3cc)](_0x599688(0x254),_0x29d447);return;}_0x29d447[_0xdd0cc0]?.[_0x599688(0x3c7)]?.[_0x599688(0x2cd)]&&_0x29d447[_0xdd0cc0]?.[_0x599688(0x3c7)]?.[_0x599688(0x2d6)]&&(_0x187c88=_0x29d447[_0xdd0cc0][_0x599688(0x3c7)]['stanzaId']),_0x29d447[_0x599688(0x29f)]&&(_0x1b5fee=_0x29d447[_0x599688(0x29f)][_0x599688(0x4ba)]['id']);let _0x20e9b9;if(_0xcf4a3c&&typeof _0xcf4a3c==_0x599688(0x600)&&'pollCreationMessageKey'in _0xcf4a3c&&({pollCreationMessageKey:_0x20e9b9}=_0xcf4a3c),_0xdd0cc0==='documentWithCaptionMessage'){let _0x350200=_0xcf4a3c?.[_0x599688(0x197)]?.[_0x599688(0x43e)];_0x350200&&(_0xcf4a3c=_0x350200);}if(_0xdd0cc0===_0x599688(0x3a1)||_0xdd0cc0===_0x599688(0x212)||_0xdd0cc0==='pollCreationMessageV3'){let _0x25fc62=_0xcf4a3c[_0x599688(0x1c6)]['map'](_0x2584f0=>_0x2584f0[_0x599688(0x457)])[_0x599688(0x5c2)]('|');_0x4291f5[_0x599688(0x3fb)]=_0x25fc62;}let _0x44258b=_0xcf4a3c[_0x599688(0x524)]||_0xcf4a3c[_0x599688(0x586)]||_0xcf4a3c[_0x599688(0x2a5)]||_0xcf4a3c[_0x599688(0x3ac)];if(_0xcf4a3c[_0x599688(0x412)]){let _0x6d1542=this[_0x599688(0x6c5)](JSON[_0x599688(0x56f)](_0xcf4a3c['vcard'],null,0x2));_0x44258b=_0x44258b+'\x0a'+_0x6d1542;}if(_0xcf4a3c){let {displayName:_0x5675c6,vcard:_0xdab8ce,contactVcard:_0x1665d0,name:_0x343e37,caption:_0x4434f6,conversation:_0x10dbdf,pollCreationMessageKey:_0x3311a5,footerText:_0x4c1a0e,contentText:_0x75f6dc,pageCount:_0x8eb0a5,headerType:_0x402366,isAvatar:_0x1ef601,isAnimated:_0x47b1fe,fallbackLc:_0x1b6717,fallbackLg:_0x39c97c,namespace:_0x494084,elementName:_0x346058,localizableParams:_0x41dee7,viewOnce:_0x13cee7,height:_0x4c077e,width:_0x14dd14,key:_0x479a0b,firstScanLength:_0x304319,firstScanSidecar:_0x2cc023,gifPlayback:_0x4f8e9b,gifAttribution:_0x4f8d49,midQualityFileSha256:_0x33e00e,scansSidecar:_0x29a59b,streamingSidecar:_0x2af513,thumbnailHeight:_0x193207,thumbnailWidth:_0x475a82,thumbnailEncSha256:_0x152495,thumbnailDirectPath:_0x4665ed,canonicalUrl:_0x2bd9e9,matchedText:_0x3fe58b,previewType:_0x4b8bda,thumbnailSha256:_0x3f57f0,deviceListMetadataVersion:_0x3a1335,inviteLinkGroupTypeV2:_0x211719,interactiveAnnotations:_0x45a62e,scanLengths:_0x211cd8,jpegThumbnail:_0x326008,url:_0x3bb8c8,mediaKeyTimestamp:_0x48e690,waveform:_0x35fa80,stickerSentTs:_0x1f2b57,firstFrameLength:_0x5c7d4f,fileEncSha256:_0x549217,contextInfo:_0x1b5f4c,firstFrameSidecar:_0x37b707,directPath:_0x3e3a60,fileSha256:_0x3fea3c,mediaKey:_0x3fa067,senderTimestampMs:_0x78cee8,..._0xd8df86}=_0xcf4a3c;typeof _0xcf4a3c==_0x599688(0x5fb)?_0x4291f5={'text':_0xcf4a3c,'type':_0xdd0cc0||'conversation',..._0x1b0030&&{'edited':_0x1b0030},..._0x187c88&&{'quoted':_0x187c88},..._0x1b5fee&&{'reaction':_0x1b5fee}}:_0x4291f5={'text':_0x44258b,..._0xd8df86,..._0xdd0cc0===_0x599688(0x20a)?{'poll_id':_0xcf4a3c[_0x599688(0x6c1)]['id'],'vote':_0x168901}:{},'type':_0xdd0cc0,..._0x1b0030&&{'edited':_0x1b0030},..._0x187c88&&{'quoted':_0x187c88},..._0x1b5fee&&{'reaction':_0x1b5fee},...(_0xdd0cc0===_0x599688(0x3a1)||_0xdd0cc0===_0x599688(0x212)||_0xdd0cc0===_0x599688(0x2cc))&&{'convertedOptions':_0x4291f5[_0x599688(0x3fb)]}};}return{'messageType':_0xdd0cc0,'messageContent':_0xcf4a3c,'message_normalized':_0x4291f5};},this['processingScheduleMessageId']=null,this[_0xf25c1a(0x569)]=0x0,(this[_0xf25c1a(0x4eb)](),this[_0xf25c1a(0x5d1)][_0xf25c1a(0x669)]={'count':0x0});}set['instanceName'](_0x5a6c8a){const _0x4c6a93=a0_0x525ac;if(!_0x5a6c8a){this['instance']['name']=(0x0,po['v4'])();return;}this[_0x4c6a93(0x5d1)][_0x4c6a93(0x524)]=_0x5a6c8a,this[_0x4c6a93(0x281)](_0x4c6a93(0x31e),{'instance':this[_0x4c6a93(0x5d1)][_0x4c6a93(0x524)],'status':_0x4c6a93(0x536)});}get[a0_0x525ac(0x2b3)](){const _0x5ba551=a0_0x525ac;return this[_0x5ba551(0x5d1)][_0x5ba551(0x524)];}get[a0_0x525ac(0x4f4)](){const _0x4cd0ad=a0_0x525ac;return this[_0x4cd0ad(0x5d1)][_0x4cd0ad(0x4f4)];}async[a0_0x525ac(0x72c)](){const _0x1de0cd=a0_0x525ac;let _0x2655f1=this[_0x1de0cd(0x3c2)][_0x1de0cd(0x4d8)]?.['name']??this[_0x1de0cd(0x3c2)][_0x1de0cd(0x4d8)]?.[_0x1de0cd(0x424)];if(!_0x2655f1){if(this['configService']['get'](_0x1de0cd(0x690))['ENABLED']){let _0x114c96=await M[_0x1de0cd(0x272)]()['db'](this[_0x1de0cd(0x181)]['get'](_0x1de0cd(0x690))['CONNECTION'][_0x1de0cd(0x37e)]+_0x1de0cd(0x3c6))[_0x1de0cd(0x4d1)](this[_0x1de0cd(0x2b3)])[_0x1de0cd(0x555)]({'_id':_0x1de0cd(0x64a)});if(_0x114c96){let _0xee3cfd=JSON[_0x1de0cd(0x20b)](JSON[_0x1de0cd(0x56f)](_0x114c96),w[_0x1de0cd(0x49f)][_0x1de0cd(0x2f1)]);_0x2655f1=_0xee3cfd['me']?.[_0x1de0cd(0x524)]||_0xee3cfd['me']?.[_0x1de0cd(0x424)];}}else{if((0x0,_e[_0x1de0cd(0x57f)])((0x0,$[_0x1de0cd(0x5c2)])(j,this[_0x1de0cd(0x2b3)],'creds.json'))){let _0x2eb142=JSON[_0x1de0cd(0x20b)]((0x0,_e[_0x1de0cd(0x46a)])((0x0,$[_0x1de0cd(0x5c2)])(j,this['instanceName'],_0x1de0cd(0x1c7)),{'encoding':_0x1de0cd(0x601)}));_0x2655f1=_0x2eb142['me']?.[_0x1de0cd(0x524)]||_0x2eb142['me']?.[_0x1de0cd(0x424)];}}}return _0x2655f1;}get['profilePictureUrl'](){const _0x325ea2=a0_0x525ac;return this[_0x325ea2(0x5d1)]['profilePictureUrl'];}get['qrCode'](){const _0x42bbff=a0_0x525ac;return{'code':this[_0x42bbff(0x5d1)]['qrcode']?.[_0x42bbff(0x2b8)],'base64':this[_0x42bbff(0x5d1)][_0x42bbff(0x669)]?.[_0x42bbff(0x5e6)]};}async[a0_0x525ac(0x377)](){const _0x3ccc60=a0_0x525ac;let _0x4d157a=await this[_0x3ccc60(0x5fe)][_0x3ccc60(0x46b)]['find'](this[_0x3ccc60(0x2b3)]);this[_0x3ccc60(0x284)]['url']=_0x4d157a?.[_0x3ccc60(0x6f1)],this[_0x3ccc60(0x284)][_0x3ccc60(0x2bc)]=_0x4d157a?.[_0x3ccc60(0x2bc)],this[_0x3ccc60(0x284)][_0x3ccc60(0x460)]=_0x4d157a?.[_0x3ccc60(0x460)],this['localWebhook'][_0x3ccc60(0x1b5)]=_0x4d157a?.[_0x3ccc60(0x1b5)],this[_0x3ccc60(0x284)][_0x3ccc60(0x72b)]=_0x4d157a?.['QRCODE_UPDATED'],this['localWebhook'][_0x3ccc60(0x4a0)]=_0x4d157a?.[_0x3ccc60(0x4a0)],this[_0x3ccc60(0x284)][_0x3ccc60(0x24c)]=_0x4d157a?.['MESSAGES_UPSERT'],this[_0x3ccc60(0x284)]['MESSAGES_UPDATE']=_0x4d157a?.[_0x3ccc60(0x46c)],this[_0x3ccc60(0x284)][_0x3ccc60(0x465)]=_0x4d157a?.[_0x3ccc60(0x465)],this[_0x3ccc60(0x284)][_0x3ccc60(0x19c)]=_0x4d157a?.['GROUPS_UPDATE'],this[_0x3ccc60(0x284)][_0x3ccc60(0x67e)]=_0x4d157a?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x3ccc60(0x2fb)]=_0x4d157a?.[_0x3ccc60(0x2fb)],this[_0x3ccc60(0x284)][_0x3ccc60(0x265)]=_0x4d157a?.['CHATS_UPSERT'],this[_0x3ccc60(0x284)][_0x3ccc60(0x6e2)]=_0x4d157a?.[_0x3ccc60(0x6e2)],this[_0x3ccc60(0x284)]['CHATS_DELETE']=_0x4d157a?.['CHATS_DELETE'],this['localWebhook'][_0x3ccc60(0x28c)]=_0x4d157a?.[_0x3ccc60(0x28c)],this[_0x3ccc60(0x284)][_0x3ccc60(0x218)]=_0x4d157a?.['CONTACTS_UPSERT'],this[_0x3ccc60(0x284)]['CONTACTS_UPDATE']=_0x4d157a?.[_0x3ccc60(0x2f0)],this[_0x3ccc60(0x284)][_0x3ccc60(0x2c6)]=_0x4d157a?.[_0x3ccc60(0x2c6)],this[_0x3ccc60(0x284)]['MESSAGES_SET']=_0x4d157a?.[_0x3ccc60(0x5f4)],this[_0x3ccc60(0x284)]['CONNECTION_UPDATE']=_0x4d157a?.[_0x3ccc60(0x234)],this[_0x3ccc60(0x284)]['groups_ignore']=_0x4d157a?.[_0x3ccc60(0x288)];}async[a0_0x525ac(0x373)](_0xd86a49){const _0x28f026=a0_0x525ac;let _0x22d53d=[_0x28f026(0x635),'url',_0x28f026(0x2bc),'local_map',_0x28f026(0x1b5),'QRCODE_UPDATED',_0x28f026(0x46c),_0x28f026(0x24c),_0x28f026(0x4a0),'GROUPS_UPSERT',_0x28f026(0x19c),_0x28f026(0x67e),_0x28f026(0x2fb),_0x28f026(0x265),_0x28f026(0x6e2),_0x28f026(0x43c),_0x28f026(0x28c),'CONTACTS_UPSERT','CONTACTS_UPDATE',_0x28f026(0x2c6),_0x28f026(0x5f4),'CONNECTION_UPDATE',_0x28f026(0x288)],_0x25da4f={};return _0x22d53d[_0x28f026(0x319)](_0x4b78eb=>{_0xd86a49[_0x4b78eb]!==void 0x0&&(_0x25da4f[_0x4b78eb]=_0xd86a49[_0x4b78eb]);}),await this[_0x28f026(0x5fe)][_0x28f026(0x46b)][_0x28f026(0x58a)](_0x25da4f,this[_0x28f026(0x2b3)]),Object[_0x28f026(0x2da)](this[_0x28f026(0x284)],_0x25da4f),await this[_0x28f026(0x5fe)][_0x28f026(0x46b)][_0x28f026(0x252)](this[_0x28f026(0x2b3)]);}async[a0_0x525ac(0x166)](){const _0xb1249c=a0_0x525ac;return await this[_0xb1249c(0x5fe)][_0xb1249c(0x46b)][_0xb1249c(0x252)](this[_0xb1249c(0x2b3)]);}async[a0_0x525ac(0x281)](_0x295914,_0x4c53ec){const _0x33b9dd=a0_0x525ac;let _0x169dc4=this[_0x33b9dd(0x181)][_0x33b9dd(0x60a)]('WEBHOOK'),_0x125070=_0x295914[_0x33b9dd(0x1db)](/[\.-]/gm,'_')['toUpperCase'](),_0x2972b2=this[_0x33b9dd(0x284)][_0x33b9dd(0x2bc)]&&(0x0,k[_0x33b9dd(0x5e2)])(this['localWebhook'][_0x33b9dd(0x6f1)])?this[_0x33b9dd(0x284)][_0x33b9dd(0x6f1)]+(this[_0x33b9dd(0x284)]['local_map']?this[_0x33b9dd(0x638)][_0x295914]:''):null,_0x42da45=_0x169dc4?.[_0x33b9dd(0x5a7)],_0x41db01=_0x42da45&&_0x42da45?.[_0x33b9dd(0x517)]&&(0x0,k[_0x33b9dd(0x5e2)])(_0x42da45[_0x33b9dd(0x330)])?_0x42da45[_0x33b9dd(0x330)]+(_0x169dc4[_0x33b9dd(0x1fe)]?this[_0x33b9dd(0x638)][_0x295914]:''):null,_0x536b74=this[_0x33b9dd(0x284)][_0x125070],_0x143a56=_0x169dc4?.[_0x33b9dd(0x52d)]?.[_0x125070];if(_0x536b74&&_0x2972b2)try{await ue[_0x33b9dd(0x6de)]['create']({'baseURL':_0x2972b2})[_0x33b9dd(0x37a)]('',{'event':_0x295914,'instance':this['instance'][_0x33b9dd(0x524)],'data':_0x4c53ec}),this[_0x33b9dd(0x1de)][_0x33b9dd(0x571)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x295914+':\x20'+_0x2972b2);}catch(_0x520175){this[_0x33b9dd(0x1de)]['error'](this['instanceName']+'\x20('+this[_0x33b9dd(0x5d1)]['wuid']+_0x33b9dd(0x6a4)+{'local':c[_0x33b9dd(0x524)]+_0x33b9dd(0x1cd),'message':_0x520175?.['message'],'hostName':_0x520175?.[_0x33b9dd(0x318)],'syscall':_0x520175?.[_0x33b9dd(0x213)],'code':_0x520175?.[_0x33b9dd(0x2b8)],'error':_0x520175?.['errno'],'stack':_0x520175?.['stack'],'name':_0x520175?.[_0x33b9dd(0x524)]});}if(_0x143a56&&_0x41db01)try{await ue[_0x33b9dd(0x6de)][_0x33b9dd(0x58a)]({'baseURL':_0x41db01})[_0x33b9dd(0x37a)]('',{'event':_0x295914,'instance':this[_0x33b9dd(0x5d1)][_0x33b9dd(0x524)],'data':_0x4c53ec}),this[_0x33b9dd(0x1de)][_0x33b9dd(0x571)](_0x33b9dd(0x643)+_0x295914+':\x20'+_0x41db01);}catch(_0x978fc3){this[_0x33b9dd(0x1de)][_0x33b9dd(0x3cc)](this[_0x33b9dd(0x2b3)]+'\x20('+this[_0x33b9dd(0x5d1)][_0x33b9dd(0x4f4)]+_0x33b9dd(0x6a4)+{'local':c[_0x33b9dd(0x524)]+_0x33b9dd(0x1a3),'message':_0x978fc3?.[_0x33b9dd(0x197)],'hostName':_0x978fc3?.[_0x33b9dd(0x318)],'syscall':_0x978fc3?.[_0x33b9dd(0x213)],'code':_0x978fc3?.[_0x33b9dd(0x2b8)],'error':_0x978fc3?.[_0x33b9dd(0x168)],'stack':_0x978fc3?.[_0x33b9dd(0x2b5)],'name':_0x978fc3?.[_0x33b9dd(0x524)]});}}async[a0_0x525ac(0x52b)]({qr:_0x104ad3,connection:_0x40fb07,lastDisconnect:_0x53945f}){const _0x689f06=a0_0x525ac;if(_0x104ad3){if(this[_0x689f06(0x5d1)]['qrcode'][_0x689f06(0x42d)]===this[_0x689f06(0x181)]['get'](_0x689f06(0x17f))[_0x689f06(0x5ee)])return this[_0x689f06(0x281)](_0x689f06(0x317),{'message':_0x689f06(0x48b),'statusCode':w[_0x689f06(0x5c8)]['badSession']}),this[_0x689f06(0x281)](_0x689f06(0x650),{'instance':this[_0x689f06(0x5d1)][_0x689f06(0x524)],'state':_0x689f06(0x615),'statusReason':w[_0x689f06(0x5c8)][_0x689f06(0x427)]}),this[_0x689f06(0x281)](_0x689f06(0x31e),{'instance':this[_0x689f06(0x5d1)][_0x689f06(0x524)],'status':_0x689f06(0x4b8)}),this['endSession']=!0x0,this['eventEmitter']['emit'](_0x689f06(0x52e),this[_0x689f06(0x5d1)]['name']);this[_0x689f06(0x5d1)][_0x689f06(0x669)][_0x689f06(0x42d)]++;let _0x1de089={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x689f06(0x351),'dark':'#000000'}};go[_0x689f06(0x6de)][_0x689f06(0x712)](_0x104ad3,_0x1de089,(_0x1e2828,_0x5a4409)=>{const _0x51a1fb=_0x689f06;if(_0x1e2828){this[_0x51a1fb(0x1de)][_0x51a1fb(0x3cc)](this[_0x51a1fb(0x2b3)]+'\x20('+this['instance']['wuid']+_0x51a1fb(0x235)+_0x1e2828[_0x51a1fb(0x679)]());return;}this[_0x51a1fb(0x5d1)]['qrcode']['base64']=_0x5a4409,this[_0x51a1fb(0x5d1)][_0x51a1fb(0x669)][_0x51a1fb(0x2b8)]=_0x104ad3,this['sendDataWebhook'](_0x51a1fb(0x317),{'qrcode':{'instance':this[_0x51a1fb(0x5d1)][_0x51a1fb(0x524)],'code':_0x104ad3,'base64':_0x5a4409}});}),mo[_0x689f06(0x6de)][_0x689f06(0x3f4)](_0x104ad3,{'small':!0x0},_0x43abfd=>this[_0x689f06(0x1de)]['log']('\x0a{\x20instance:\x20'+this[_0x689f06(0x5d1)]['name']+_0x689f06(0x70a)+this[_0x689f06(0x5d1)][_0x689f06(0x669)][_0x689f06(0x42d)]+_0x689f06(0x6e8)+_0x43abfd));}if(_0x40fb07&&(this[_0x689f06(0x52f)]={'state':_0x40fb07,'statusReason':_0x53945f?.[_0x689f06(0x3cc)]?.[_0x689f06(0x49c)]?.[_0x689f06(0x3a5)]??0xc8},this[_0x689f06(0x281)](_0x689f06(0x650),{'instance':this[_0x689f06(0x5d1)][_0x689f06(0x524)],...this[_0x689f06(0x52f)]})),_0x40fb07==='close'){if(this[_0x689f06(0x5e0)]++,this[_0x689f06(0x2be)]['push'](Date['now']()),this[_0x689f06(0x2be)]=this[_0x689f06(0x2be)]['filter'](_0x41acec=>Date['now']()-_0x41acec<this[_0x689f06(0x5aa)]),_0x53945f[_0x689f06(0x3cc)]?.['output']?.[_0x689f06(0x3a5)]!==w[_0x689f06(0x5c8)][_0x689f06(0x278)]&&this[_0x689f06(0x2be)][_0x689f06(0x261)]<=this[_0x689f06(0x34b)])await this[_0x689f06(0x31f)]();else{this[_0x689f06(0x281)]('status.instance',{'instance':this[_0x689f06(0x5d1)][_0x689f06(0x524)],'status':_0x689f06(0x4b8)}),this['isConnected']=!0x1;try{this['logger'][_0x689f06(0x6bd)](this[_0x689f06(0x2b3)]+'\x20('+this[_0x689f06(0x5d1)]['wuid']+_0x689f06(0x32e));let _0x268b36={'where':{'owner':this[_0x689f06(0x5d1)][_0x689f06(0x4f4)]}},_0x23e30d=(await this['repository']['messageUpdate'][_0x689f06(0x252)](_0x268b36))[_0x689f06(0x261)];await this[_0x689f06(0x5fe)][_0x689f06(0x2dd)][_0x689f06(0x2c2)](_0x268b36),this['logger'][_0x689f06(0x6bd)](this[_0x689f06(0x2b3)]+'\x20('+this[_0x689f06(0x5d1)][_0x689f06(0x4f4)]+'):\x20Deletados\x20'+_0x23e30d+_0x689f06(0x48e));}catch(_0x4760b4){console[_0x689f06(0x3cc)](_0x689f06(0x4c8),_0x4760b4);}try{this['logger'][_0x689f06(0x6bd)](this['instanceName']+'\x20('+this[_0x689f06(0x5d1)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x134453={'where':{'owner':this['instance'][_0x689f06(0x4f4)]}},_0x2c12d1=(await this[_0x689f06(0x5fe)][_0x689f06(0x197)]['find'](_0x134453))[_0x689f06(0x261)];await this[_0x689f06(0x5fe)][_0x689f06(0x197)][_0x689f06(0x2c2)](_0x134453),this[_0x689f06(0x1de)]['verbose'](this[_0x689f06(0x2b3)]+'\x20('+this[_0x689f06(0x5d1)]['wuid']+_0x689f06(0x34a)+_0x2c12d1+_0x689f06(0x49d));}catch(_0x3fa5a0){console[_0x689f06(0x3cc)](_0x689f06(0x40b),_0x3fa5a0);}this['delayMessage']!==null&&(this['logger'][_0x689f06(0x6bd)](this['instanceName']+'\x20('+this[_0x689f06(0x5d1)]['wuid']+_0x689f06(0x419)),clearInterval(this[_0x689f06(0x610)]),this[_0x689f06(0x610)]=null),this[_0x689f06(0x1de)][_0x689f06(0x6bd)](this[_0x689f06(0x2b3)]+'\x20('+this[_0x689f06(0x5d1)][_0x689f06(0x4f4)]+'):\x20Limpando\x20AutomateSystem'),this[_0x689f06(0x42a)]=null,this[_0x689f06(0x2e5)][_0x689f06(0x5f8)](_0x689f06(0x378),this[_0x689f06(0x5d1)][_0x689f06(0x524)],_0x689f06(0x543)),this[_0x689f06(0x3c2)]?.['ws']?.['close'](),this[_0x689f06(0x3c2)][_0x689f06(0x375)](new Error('Close\x20connection'));}}if(_0x40fb07===_0x689f06(0x182)){this[_0x689f06(0x4b3)],this[_0x689f06(0x5d1)]['wuid']=this[_0x689f06(0x3c2)][_0x689f06(0x4d8)]['id'][_0x689f06(0x1db)](/:\d+/,'')['replace'](_0x689f06(0x45a),''),this['instance'][_0x689f06(0x154)]=(await this[_0x689f06(0x6b5)](this['instance'][_0x689f06(0x4f4)]+_0x689f06(0x45a)))['profilePictureUrl'];let _0x124354=_0x689f06(0x5e1)+this[_0x689f06(0x5d1)]['wuid'],_0x3d2594=0x28,_0x471d22=Math[_0x689f06(0x305)]((_0x3d2594-_0x124354[_0x689f06(0x261)])/0x2),_0xc2ee25='\x20'[_0x689f06(0x2fe)](_0x471d22),_0x3c8047=_0x689f06(0x6a5),_0x15db9d=_0x689f06(0x366)+this[_0x689f06(0x5d1)][_0x689f06(0x524)],_0xc74a10=(''+_0xc2ee25+_0x124354+_0xc2ee25)[_0x689f06(0x715)](_0x3d2594,'\x20'),_0x2e17e0=(''+_0xc2ee25+_0x3c8047+_0xc2ee25)[_0x689f06(0x715)](_0x3d2594,'\x20'),_0x2c46b3=(''+_0xc2ee25+_0x15db9d+_0xc2ee25)[_0x689f06(0x715)](_0x3d2594,'\x20'),_0x1516ae=Math[_0x689f06(0x2eb)](_0xc74a10['length'],_0x2e17e0[_0x689f06(0x261)],_0x2c46b3[_0x689f06(0x261)]),_0x3df175=_0xc74a10[_0x689f06(0x715)](_0x1516ae,'\x20'),_0xaa77e9=_0x2e17e0[_0x689f06(0x715)](_0x1516ae,'\x20'),_0x42a395=_0x2c46b3['padEnd'](_0x1516ae,'\x20');this[_0x689f06(0x1de)]['info']((_0x689f06(0x6bc)+''[_0x689f06(0x2fe)](_0x1516ae)+_0x689f06(0x15d)+_0xaa77e9+_0x689f06(0x1ac)+_0x42a395+_0x689f06(0x1ac)+_0x3df175+_0x689f06(0x1ce)+''['repeat'](_0x1516ae)+'')[_0x689f06(0x1db)](/^ +/gm,'\x20\x20')),this[_0x689f06(0x47c)](),this[_0x689f06(0x68f)]=!0x0;}}[a0_0x525ac(0x4b3)](){const _0x238f2c=a0_0x525ac;this[_0x238f2c(0x5e0)]=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x24e225,_0x39bed5=!0x1){const _0x5f0e23=a0_0x525ac;try{let _0x1b8631=await this[_0x5f0e23(0x5fe)][_0x5f0e23(0x197)]['find']({'where':{'owner':this[_0x5f0e23(0x5d1)]['wuid'],'key':{'id':_0x24e225['id']}}});return _0x39bed5?_0x1b8631[0x0]:_0x1b8631[0x0][_0x5f0e23(0x197)];}catch{return{'conversation':''};}}[a0_0x525ac(0x4eb)](){const _0x28a8e2=a0_0x525ac;let _0x16f8ae=this[_0x28a8e2(0x181)][_0x28a8e2(0x60a)]('STORE'),_0x1f5a8b=this[_0x28a8e2(0x181)][_0x28a8e2(0x60a)](_0x28a8e2(0x690));_0x16f8ae?.['CLEANING_INTERVAL']&&!_0x1f5a8b[_0x28a8e2(0x517)]&&setInterval(()=>{const _0x5dc229=_0x28a8e2;try{for(let [_0x16472a,_0x51161b]of Object[_0x5dc229(0x46f)](_0x16f8ae))_0x51161b===!0x0&&(0x0,Vt[_0x5dc229(0x3e7)])(_0x5dc229(0x478)+(0x0,$[_0x5dc229(0x5c2)])(this[_0x5dc229(0x418)],_0x16472a[_0x5dc229(0x5b5)](),this['instance'][_0x5dc229(0x4f4)])+_0x5dc229(0x5dd));}catch{}},(_0x16f8ae?.[_0x28a8e2(0x277)]??0xe10)*0x3e8);}async[a0_0x525ac(0x2f7)](){const _0x38e5ab=a0_0x525ac;let _0x24d3b9=this['configService']['get'](_0x38e5ab(0x690)),_0x28f672=this[_0x38e5ab(0x181)]['get'](_0x38e5ab(0x621));return _0x28f672?.['ENABLED']?await vs(_0x28f672,this[_0x38e5ab(0x5d1)][_0x38e5ab(0x524)]):_0x24d3b9[_0x38e5ab(0x517)]?await Es(this[_0x38e5ab(0x5d1)][_0x38e5ab(0x524)]):await(0x0,w[_0x38e5ab(0x368)])((0x0,$[_0x38e5ab(0x5c2)])(j,this[_0x38e5ab(0x5d1)]['name']));}async['AutomateFunctions'](){const _0x3205e8=a0_0x525ac;let _0x3b4b69=()=>Math[_0x3205e8(0x305)](Math[_0x3205e8(0x671)]()*0x2711)+0x7d0,_0x1342d9=async()=>{const _0x49ff37=_0x3205e8;if(!this[_0x49ff37(0x68f)]){this['logger'][_0x49ff37(0x6bd)](_0x49ff37(0x293)),this[_0x49ff37(0x583)]=!0x1;return;}if(this['instance'][_0x49ff37(0x4f4)]&&this[_0x49ff37(0x42a)]&&this['delayMessage']!==null&&this[_0x49ff37(0x610)]!==void 0x0){let _0x3d20a2=Math['round'](this[_0x49ff37(0x610)]/0xea60);this[_0x49ff37(0x1de)]['verbose'](this[_0x49ff37(0x2b3)]+'\x20('+this['instance'][_0x49ff37(0x4f4)]+_0x49ff37(0x343)+_0x3d20a2+_0x49ff37(0x519)),this['isRunning']=!0x1;return;}else this[_0x49ff37(0x5d1)][_0x49ff37(0x4f4)]&&(this['logger'][_0x49ff37(0x6bd)](this['instanceName']+'\x20('+this['instance'][_0x49ff37(0x4f4)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x49ff37(0x42a)]||await this[_0x49ff37(0x45f)](),(this['delayMessage']===null||this[_0x49ff37(0x610)]===void 0x0)&&await this[_0x49ff37(0x584)]());if(this['isRunning']){let _0x1b42fd=_0x3b4b69();this[_0x49ff37(0x1de)][_0x49ff37(0x6bd)](this[_0x49ff37(0x2b3)]+_0x49ff37(0x70c)+_0x1b42fd/0x3e8+_0x49ff37(0x40c)),setTimeout(_0x1342d9,_0x1b42fd);}};if(this[_0x3205e8(0x583)])return;this[_0x3205e8(0x583)]=!0x0;let _0x2f14b0=_0x3b4b69();setTimeout(_0x1342d9,_0x2f14b0);}async[a0_0x525ac(0x31f)](){const _0x342894=a0_0x525ac;try{this[_0x342894(0x377)](),this[_0x342894(0x5d1)][_0x342894(0x3b4)]=await this[_0x342894(0x2f7)]();let {version:_0x236ec5}=await(0x0,w[_0x342894(0x6c7)])(),_0x354476=this[_0x342894(0x181)][_0x342894(0x60a)](_0x342894(0x30d)),_0x55d9d7=[_0x354476[_0x342894(0x451)],_0x354476[_0x342894(0x55d)],(0x0,ho['release'])()],_0x2eab58={'auth':{'creds':this[_0x342894(0x5d1)]['authState'][_0x342894(0x65f)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x342894(0x5d1)][_0x342894(0x3b4)][_0x342894(0x65f)]['keys'],(0x0,kt['default'])({'level':_0x342894(0x3cc)}))},'logger':(0x0,kt['default'])({'level':_0x342894(0x3cc)}),'printQRInTerminal':!0x1,'browser':_0x55d9d7,'version':_0x236ec5,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x342894(0x1ba)],'getMessage':async _0x20cf1b=>await this[_0x342894(0x497)](_0x20cf1b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x342894(0x68e)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x300f5c=>(!!(_0x300f5c[_0x342894(0x270)]||_0x300f5c[_0x342894(0x49b)])&&(_0x300f5c={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x300f5c}}}),_0x300f5c)};return this[_0x342894(0x579)]=!0x1,this[_0x342894(0x3c2)]=(0x0,w[_0x342894(0x6de)])(_0x2eab58),this[_0x342894(0x3c4)](),this[_0x342894(0x3c2)];}catch(_0x5302e4){throw this[_0x342894(0x1de)]['error'](this[_0x342894(0x2b3)]+'\x20('+this[_0x342894(0x5d1)][_0x342894(0x4f4)]+_0x342894(0x6a4)+_0x5302e4),new A(_0x5302e4?.['toString']());}}[a0_0x525ac(0x3c4)](){const _0x1c61b2=a0_0x525ac;this[_0x1c61b2(0x3c2)]['ev']['process'](_0x2d1154=>{const _0x215d09=_0x1c61b2;if(!this[_0x215d09(0x579)]){let _0x3a25ba=this[_0x215d09(0x181)][_0x215d09(0x60a)](_0x215d09(0x690));if(_0x2d1154[_0x215d09(0x650)]&&this['connectionUpdate'](_0x2d1154[_0x215d09(0x650)]),_0x2d1154[_0x215d09(0x3cf)]&&this[_0x215d09(0x5d1)]['authState'][_0x215d09(0x326)](),_0x2d1154['messaging-history.set']){let _0x55e9c9=_0x2d1154[_0x215d09(0x6e1)];this[_0x215d09(0x39d)]['messaging-history.set'](_0x55e9c9,_0x3a25ba);}if(_0x2d1154['messages.upsert']){let _0x3e8729=_0x2d1154[_0x215d09(0x62b)];this['messageHandle'][_0x215d09(0x62b)](_0x3e8729,_0x3a25ba);}if(_0x2d1154[_0x215d09(0x180)]){let _0x5806c2=_0x2d1154[_0x215d09(0x180)];this[_0x215d09(0x39d)][_0x215d09(0x180)](_0x5806c2,_0x3a25ba);}if(_0x2d1154[_0x215d09(0x51c)]){let _0x2292b5=_0x2d1154[_0x215d09(0x51c)];if(this['localWebhook']?.['groups_ignore']&&_0x2292b5['id']['includes']('@g.us'))return;this[_0x215d09(0x281)](_0x215d09(0x51c),_0x2292b5);}if(!this[_0x215d09(0x284)]?.[_0x215d09(0x288)]){if(_0x2d1154[_0x215d09(0x3fc)]){let _0x3610ad=_0x2d1154[_0x215d09(0x3fc)];this[_0x215d09(0x469)][_0x215d09(0x3fc)](_0x3610ad);}if(_0x2d1154[_0x215d09(0x5a2)]){let _0x42a2ee=_0x2d1154[_0x215d09(0x5a2)];this[_0x215d09(0x469)][_0x215d09(0x5a2)](_0x42a2ee);}if(_0x2d1154['group-participants.update']){let _0x18391d=_0x2d1154[_0x215d09(0x18b)];this[_0x215d09(0x469)][_0x215d09(0x18b)](_0x18391d);}}if(_0x2d1154[_0x215d09(0x162)]){let _0x20c0f3=_0x2d1154[_0x215d09(0x162)];this[_0x215d09(0x1eb)][_0x215d09(0x162)](_0x20c0f3,_0x3a25ba);}if(_0x2d1154[_0x215d09(0x4e9)]){let _0x31f018=_0x2d1154[_0x215d09(0x4e9)];this['chatHandle'][_0x215d09(0x4e9)](_0x31f018,_0x3a25ba);}if(_0x2d1154[_0x215d09(0x3dd)]){let _0x5944fd=_0x2d1154[_0x215d09(0x3dd)];this[_0x215d09(0x1eb)][_0x215d09(0x3dd)](_0x5944fd);}if(_0x2d1154[_0x215d09(0x224)]){let _0x48ba50=_0x2d1154['contacts.upsert'];this[_0x215d09(0x41f)]['contacts.upsert'](_0x48ba50,_0x3a25ba);}if(_0x2d1154[_0x215d09(0x5c3)]){let _0x34c0fb=_0x2d1154[_0x215d09(0x5c3)];this['contactHandle'][_0x215d09(0x5c3)](_0x34c0fb,_0x3a25ba);}}});}[a0_0x525ac(0x344)](_0x12d72f){const _0x365357=a0_0x525ac;let _0x174288=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x365357(0x609)](_0x12d72f);if(_0x174288&&_0x174288[0x1]==='55'){let _0x1bce64=_0x174288[0x2],_0xcdf815=_0x174288[0x3],_0xef73c=_0x174288[0x4];if(_0x1bce64>='31'&&_0xcdf815==='9')return _0x174288[0x1]+_0x1bce64+_0xef73c;}return _0x12d72f;}['createJid'](_0x30acf3){const _0x1596ee=a0_0x525ac;return _0x30acf3[_0x1596ee(0x672)](_0x1596ee(0x6db))||_0x30acf3[_0x1596ee(0x672)](_0x1596ee(0x45a))||_0x30acf3['includes'](_0x1596ee(0x47f))?_0x30acf3:(_0x30acf3=_0x30acf3?.['replace'](/\s/g,'')[_0x1596ee(0x1db)](/\+/g,'')[_0x1596ee(0x1db)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x1596ee(0x266)]('@')[0x0],_0x30acf3[_0x1596ee(0x261)]>=0x12?(_0x30acf3=_0x30acf3[_0x1596ee(0x1db)](/[^\d-]/g,''),_0x30acf3+'@g.us'):(_0x30acf3=_0x30acf3[_0x1596ee(0x1db)](/\D/g,''),this[_0x1596ee(0x344)](_0x30acf3)+_0x1596ee(0x45a)));}async[a0_0x525ac(0x420)](_0x342e58){const _0x5463ca=a0_0x525ac;let _0x228c07=this[_0x5463ca(0x2ae)](_0x342e58[_0x5463ca(0x496)]),_0x584490=(await this['whatsappNumber']({'numbers':[_0x228c07]}))[0x0];if(!_0x584490[_0x5463ca(0x42c)]&&!(0x0,w['isJidGroup'])(_0x584490[_0x5463ca(0x2c9)]))throw new g(_0x584490);let _0x7e7386=(0x0,w[_0x5463ca(0x70d)])(_0x228c07)?_0x228c07:_0x584490[_0x5463ca(0x2c9)];if((0x0,w[_0x5463ca(0x70d)])(_0x7e7386))try{await this[_0x5463ca(0x3c2)][_0x5463ca(0x387)](_0x7e7386);}catch{throw new x(_0x5463ca(0x320));}try{return await this[_0x5463ca(0x3c2)][_0x5463ca(0x5a1)](_0x7e7386),await this[_0x5463ca(0x3c2)][_0x5463ca(0x430)](_0x342e58[_0x5463ca(0x4c7)],_0x228c07),{'status':0xc8,'presence':_0x342e58['presence']};}catch(_0x4a5ae6){throw new g(_0x4a5ae6[_0x5463ca(0x679)]());}}async[a0_0x525ac(0x6b5)](_0x347b84){const _0x399cdf=a0_0x525ac;let _0x264cde=this[_0x399cdf(0x2ae)](_0x347b84);try{return{'wuid':_0x264cde,'profilePictureUrl':await this[_0x399cdf(0x3c2)][_0x399cdf(0x154)](_0x264cde,_0x399cdf(0x3a2))};}catch{return{'wuid':_0x264cde,'profilePictureUrl':null};}}async[a0_0x525ac(0x298)](_0x205acb,_0x39b039,_0x2e0251){const _0x5da358=a0_0x525ac;let _0x960237=(await this['whatsappNumber']({'numbers':[_0x205acb]}))[0x0];if(!_0x960237[_0x5da358(0x42c)]&&!(0x0,w[_0x5da358(0x70d)])(_0x960237[_0x5da358(0x2c9)])&&!_0x960237[_0x5da358(0x2c9)][_0x5da358(0x672)](_0x5da358(0x47f)))throw new g(_0x960237);let _0x3c08c8=_0x960237['jid'];try{_0x2e0251?.[_0x5da358(0x337)]&&(await this[_0x5da358(0x3c2)][_0x5da358(0x5a1)](_0x3c08c8),await this[_0x5da358(0x3c2)][_0x5da358(0x430)](_0x2e0251?.['presence']??'composing',_0x3c08c8),await(0x0,w[_0x5da358(0x337)])(_0x2e0251[_0x5da358(0x337)]),await this[_0x5da358(0x3c2)][_0x5da358(0x430)]('paused',_0x3c08c8));let _0x49c4ef=_0x2e0251?.[_0x5da358(0x32c)]!=!0x1?void 0x0:!0x1,_0x482c3f;if(_0x2e0251?.[_0x5da358(0x393)]){let _0x11584a=_0x2e0251?.[_0x5da358(0x393)],_0x4dae77=_0x11584a?.['message']?_0x11584a:await this[_0x5da358(0x497)](_0x11584a['key'],!0x0);if(!_0x4dae77)throw _0x5da358(0x3ff);_0x482c3f=_0x4dae77;}let _0x4e56a5;if((0x0,w[_0x5da358(0x70d)])(_0x3c08c8))try{let _0x4cf153=await this['client']['groupMetadata'](_0x3c08c8);if(!_0x4cf153)throw new x(_0x5da358(0x320));_0x2e0251?.[_0x5da358(0x54c)]&&(_0x2e0251[_0x5da358(0x54c)]?.[_0x5da358(0x435)]?_0x4e56a5=_0x4cf153[_0x5da358(0x32b)][_0x5da358(0x595)](_0x4efbad=>_0x4efbad['id']):_0x2e0251['mentions']?.[_0x5da358(0x467)]?.[_0x5da358(0x261)]&&(_0x4e56a5=_0x2e0251[_0x5da358(0x54c)]['mentioned'][_0x5da358(0x595)](_0x4a4a14=>{const _0x40498a=_0x5da358;let _0xe7c8b3=this[_0x40498a(0x2ae)](_0x4a4a14);return(0x0,w['isJidGroup'])(_0xe7c8b3)?null:_0xe7c8b3;})));}catch{throw new x('Group\x20not\x20found');}let _0x302c86=await((async()=>{const _0x8d88af=_0x5da358;let _0x3485ea={'quoted':_0x482c3f};if(!_0x39b039[_0x8d88af(0x1d5)]&&!_0x39b039[_0x8d88af(0x642)]&&!_0x39b039[_0x8d88af(0x4c0)]&&!_0x39b039['conversation']&&_0x3c08c8!==_0x8d88af(0x55b)&&!_0x39b039[_0x8d88af(0x1d5)])return await this['client']['sendMessage'](_0x3c08c8,{'forward':{'key':{'remoteJid':this[_0x8d88af(0x5d1)][_0x8d88af(0x4f4)],'fromMe':!0x0},'message':_0x39b039},'mentions':_0x4e56a5},_0x3485ea);if(_0x39b039[_0x8d88af(0x2a5)]){let _0x5c013e=_0x39b039[_0x8d88af(0x2a5)];return _0x2e0251?.[_0x8d88af(0x196)]&&(_0x5c013e=await this[_0x8d88af(0x1aa)](_0x5c013e,_0x3c08c8)),await this[_0x8d88af(0x3c2)][_0x8d88af(0x44b)](_0x3c08c8,{'text':_0x5c013e,'mentions':_0x4e56a5,'linkPreview':_0x49c4ef},_0x3485ea);}return _0x3c08c8===_0x8d88af(0x55b)?await this[_0x8d88af(0x3c2)][_0x8d88af(0x44b)](_0x3c08c8,_0x39b039['status']['content'],{'backgroundColor':_0x39b039['status']['option'][_0x8d88af(0x45e)],'font':_0x39b039[_0x8d88af(0x504)][_0x8d88af(0x238)]['font'],'statusJidList':_0x39b039[_0x8d88af(0x504)][_0x8d88af(0x238)][_0x8d88af(0x306)]}):await this[_0x8d88af(0x3c2)][_0x8d88af(0x44b)](_0x3c08c8,_0x39b039,_0x3485ea);})()),{message_normalized:_0x2f0550}=this[_0x5da358(0x658)](_0x302c86['message'],W(_0x302c86['message']),null),_0x3ddf90={'key':_0x302c86[_0x5da358(0x4ba)],'pushName':_0x302c86['pushName'],'message':{..._0x302c86[_0x5da358(0x197)]},'messageType':W(_0x302c86[_0x5da358(0x197)]),'message_normalized':{'key':_0x302c86[_0x5da358(0x4ba)],'pushName':_0x302c86[_0x5da358(0x3d5)],'messageTimestamp':_0x302c86[_0x5da358(0x4fa)]&&_0x302c86['messageTimestamp'][_0x5da358(0x679)]()[_0x5da358(0x261)]<0xd?_0x302c86[_0x5da358(0x4fa)]*0x3e8:_0x302c86['messageTimestamp']||null,'source':(0x0,w[_0x5da358(0x3b0)])(_0x302c86[_0x5da358(0x4ba)]['id']),..._0x2f0550},'messageTimestamp':_0x302c86['messageTimestamp']&&_0x302c86[_0x5da358(0x4fa)][_0x5da358(0x679)]()[_0x5da358(0x261)]<0xd?_0x302c86[_0x5da358(0x4fa)]*0x3e8:_0x302c86[_0x5da358(0x4fa)]||null,'owner':this[_0x5da358(0x5d1)]['wuid'],'source':(0x0,w['getDevice'])(_0x302c86['key']['id'])};return this[_0x5da358(0x1de)][_0x5da358(0x571)](_0x3ddf90),await this[_0x5da358(0x281)](_0x5da358(0x3f8),_0x3ddf90),q(this[_0x5da358(0x2b3)],_0x5da358(0x728),{'message':_0x3ddf90}),this[_0x5da358(0x315)](this[_0x5da358(0x181)]['get'](_0x5da358(0x690)),_0x3ddf90,'SEND_MESSAGE'),await this['repository'][_0x5da358(0x197)]['insert']([_0x3ddf90],this[_0x5da358(0x181)][_0x5da358(0x60a)](_0x5da358(0x690))[_0x5da358(0x517)]),_0x302c86;}catch(_0x183772){throw this[_0x5da358(0x1de)][_0x5da358(0x3cc)](this[_0x5da358(0x2b3)]+'\x20('+this[_0x5da358(0x5d1)]['wuid']+'):\x20'+_0x183772[_0x5da358(0x679)]()),new g(_0x183772[_0x5da358(0x679)]());}}get['connectionStatus'](){const _0x40aa09=a0_0x525ac;return this[_0x40aa09(0x52f)];}async[a0_0x525ac(0x25d)](_0x316c5e){const _0x4510ad=a0_0x525ac;let _0xf75a6d=this['configService'][_0x4510ad(0x60a)](_0x4510ad(0x167)),_0x2b09a7=this[_0x4510ad(0x181)][_0x4510ad(0x60a)](_0x4510ad(0x482));return _0x2b09a7&&this[_0x4510ad(0x2b3)]['toLowerCase']()[_0x4510ad(0x672)](_0x2b09a7[_0x4510ad(0x5b5)]())&&(_0x316c5e['textMessage']['text']+='\x0a\x0a'+_0xf75a6d),await this[_0x4510ad(0x298)](_0x316c5e[_0x4510ad(0x496)],{'conversation':_0x316c5e[_0x4510ad(0x25d)][_0x4510ad(0x342)]},_0x316c5e?.[_0x4510ad(0x1c6)]);}async[a0_0x525ac(0x1a1)](_0x4e0909){const _0x45e407=a0_0x525ac;if(!_0x4e0909[_0x45e407(0x594)])throw new g('Type\x20is\x20required');if(!_0x4e0909[_0x45e407(0x717)])throw new g('Content\x20is\x20required');if(_0x4e0909[_0x45e407(0x2d1)]){let _0x55f7c5=await this['repository']['contact'][_0x45e407(0x252)]({'where':{'owner':this['instance'][_0x45e407(0x4f4)]}});if(!_0x55f7c5[_0x45e407(0x261)])throw new g(_0x45e407(0x4fb));_0x4e0909[_0x45e407(0x306)]=_0x55f7c5['filter'](_0x43d2e7=>_0x43d2e7[_0x45e407(0x3d5)])['map'](_0x33b707=>_0x33b707['id']);}if(!_0x4e0909[_0x45e407(0x306)]?.[_0x45e407(0x261)]&&!_0x4e0909[_0x45e407(0x2d1)])throw new g(_0x45e407(0x36a));if(_0x4e0909[_0x45e407(0x594)]===_0x45e407(0x342)){if(!_0x4e0909[_0x45e407(0x45e)])throw new g(_0x45e407(0x577));if(!_0x4e0909[_0x45e407(0x526)])throw new g(_0x45e407(0x6ad));return{'content':{'text':_0x4e0909[_0x45e407(0x717)]},'option':{'backgroundColor':_0x4e0909[_0x45e407(0x45e)],'font':_0x4e0909[_0x45e407(0x526)],'statusJidList':_0x4e0909[_0x45e407(0x306)]}};}if(_0x4e0909[_0x45e407(0x594)]===_0x45e407(0x3a2))return{'content':{'image':{'url':_0x4e0909[_0x45e407(0x717)]},'caption':_0x4e0909[_0x45e407(0x586)]},'option':{'statusJidList':_0x4e0909[_0x45e407(0x306)]}};if(_0x4e0909['type']==='video')return{'content':{'video':{'url':_0x4e0909[_0x45e407(0x717)]},'caption':_0x4e0909[_0x45e407(0x586)]},'option':{'statusJidList':_0x4e0909['statusJidList']}};if(_0x4e0909['type']===_0x45e407(0x1d5)){this[_0x45e407(0x1de)][_0x45e407(0x6bd)](_0x45e407(0x58c)),this['logger'][_0x45e407(0x6bd)](_0x45e407(0x364));let _0x27cf22=await this[_0x45e407(0x6f4)](_0x4e0909[_0x45e407(0x717)]);if(typeof _0x27cf22=='string'){this['logger'][_0x45e407(0x6bd)]('Audio\x20processed');let _0xe8c13c=_['readFileSync'](_0x27cf22)[_0x45e407(0x679)](_0x45e407(0x5e6)),_0x440866={'content':{'audio':Buffer[_0x45e407(0x248)](_0xe8c13c,'base64'),'ptt':!0x0,'mimetype':_0x45e407(0x716)},'option':{'statusJidList':_0x4e0909['statusJidList']}};return _['unlinkSync'](_0x27cf22),_0x440866;}else throw new A(_0x27cf22);}throw new g('Type\x20not\x20found');}async[a0_0x525ac(0x1bb)](_0x3b1c5b){const _0x4a0a94=a0_0x525ac;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this[_0x4a0a94(0x1a1)](_0x3b1c5b[_0x4a0a94(0x1bb)])});}async[a0_0x525ac(0x3fd)](_0x31b1ff){const _0x1fcbb8=a0_0x525ac;try{let _0x544a68=await(0x0,w[_0x1fcbb8(0x5cb)])({[_0x31b1ff[_0x1fcbb8(0x60e)]]:(0x0,k['isURL'])(_0x31b1ff[_0x1fcbb8(0x19d)])?{'url':_0x31b1ff[_0x1fcbb8(0x19d)]}:Buffer[_0x1fcbb8(0x248)](_0x31b1ff[_0x1fcbb8(0x19d)],_0x1fcbb8(0x5e6))},{'upload':this[_0x1fcbb8(0x3c2)][_0x1fcbb8(0x6ec)]}),_0x45897e=_0x31b1ff[_0x1fcbb8(0x60e)]+_0x1fcbb8(0x551);if(_0x31b1ff[_0x1fcbb8(0x60e)]===_0x1fcbb8(0x1c3)&&!_0x31b1ff[_0x1fcbb8(0x67a)]){let _0x43e5fd=new RegExp(/.*\/(.+?)\./)[_0x1fcbb8(0x609)](_0x31b1ff[_0x1fcbb8(0x19d)]);_0x31b1ff['fileName']=_0x43e5fd[0x1];}let _0x1f8a8c;(0x0,k[_0x1fcbb8(0x5e2)])(_0x31b1ff[_0x1fcbb8(0x19d)])?_0x1f8a8c=(0x0,Ns[_0x1fcbb8(0x4ee)])(_0x31b1ff['media']):_0x1f8a8c=(0x0,Ns[_0x1fcbb8(0x4ee)])(_0x31b1ff[_0x1fcbb8(0x67a)]);let _0x2010d4=this[_0x1fcbb8(0x181)][_0x1fcbb8(0x60a)](_0x1fcbb8(0x167)),_0x3d5185=this[_0x1fcbb8(0x181)]['get'](_0x1fcbb8(0x482));return _0x3d5185&&this[_0x1fcbb8(0x2b3)]['toLowerCase']()[_0x1fcbb8(0x672)](_0x3d5185['toLowerCase']())&&(_0x31b1ff['caption']+='\x0a\x0a'+_0x2010d4),_0x544a68[_0x45897e][_0x1fcbb8(0x586)]=_0x31b1ff?.['caption'],_0x544a68[_0x45897e][_0x1fcbb8(0x606)]=_0x1f8a8c,_0x544a68[_0x45897e][_0x1fcbb8(0x67a)]=_0x31b1ff[_0x1fcbb8(0x67a)],_0x31b1ff[_0x1fcbb8(0x60e)]==='video'&&(_0x544a68[_0x45897e][_0x1fcbb8(0x2d7)]=Uint8Array[_0x1fcbb8(0x248)]((0x0,_e['readFileSync'])((0x0,$['join'])(process[_0x1fcbb8(0x714)](),_0x1fcbb8(0x475)))),_0x544a68[_0x45897e][_0x1fcbb8(0x665)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x45897e]:{..._0x544a68[_0x45897e]}},{'userJid':this['instance'][_0x1fcbb8(0x4f4)]});}catch(_0x2be541){throw this[_0x1fcbb8(0x1de)]['error'](this[_0x1fcbb8(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2be541),new A(_0x2be541?.[_0x1fcbb8(0x679)]()||_0x2be541);}}async[a0_0x525ac(0x1dd)](_0x1fa94a){const _0x4aca27=a0_0x525ac;let _0x469fa3=await this[_0x4aca27(0x3fd)](_0x1fa94a[_0x4aca27(0x1dd)]);return await this[_0x4aca27(0x298)](_0x1fa94a[_0x4aca27(0x496)],{..._0x469fa3['message']},_0x1fa94a?.['options']);}async['convertToWebP'](_0xb9ff8f,_0x3a2f11){const _0x136f27=a0_0x525ac;try{this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x314));let _0x422ec3,_0x22b543=_0x3a2f11+'-'+new Date()['getTime']();this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x5dc)+_0x22b543);let _0x287f5d=''+(0x0,$['join'])(this[_0x136f27(0x418)],_0x22b543+_0x136f27(0x47a));if(this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x1d6)+_0x287f5d),(0x0,k[_0x136f27(0x4d3)])(_0xb9ff8f)){this[_0x136f27(0x1de)][_0x136f27(0x6bd)]('Image\x20is\x20base64');let _0x1ab72e=_0xb9ff8f[_0x136f27(0x1db)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3ad786=Buffer[_0x136f27(0x248)](_0x1ab72e,_0x136f27(0x5e6));_0x422ec3=''+(0x0,$[_0x136f27(0x5c2)])(this[_0x136f27(0x418)],_0x136f27(0x1f6)+_0x22b543+_0x136f27(0x4c5)),this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x3ba)+_0x422ec3),await(0x0,Ut[_0x136f27(0x6de)])(_0x3ad786)[_0x136f27(0x1bd)](_0x422ec3),this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x23d));}else{this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x31a));let _0x57acf5=new Date()[_0x136f27(0x4ff)](),_0x1cde89=_0xb9ff8f+_0x136f27(0x1a4)+_0x57acf5;this['logger']['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x1cde89);let _0x3dc5e0=await ue[_0x136f27(0x6de)][_0x136f27(0x60a)](_0x1cde89,{'responseType':'arraybuffer'});this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x644));let _0x5dc422=Buffer[_0x136f27(0x248)](_0x3dc5e0[_0x136f27(0x16e)],'binary');_0x422ec3=''+(0x0,$[_0x136f27(0x5c2)])(this[_0x136f27(0x418)],_0x136f27(0x1f6)+_0x22b543+_0x136f27(0x4c5)),this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x3ba)+_0x422ec3),await(0x0,Ut[_0x136f27(0x6de)])(_0x5dc422)[_0x136f27(0x1bd)](_0x422ec3),this[_0x136f27(0x1de)]['verbose']('Image\x20created');}return await(0x0,Ut[_0x136f27(0x6de)])(_0x422ec3)[_0x136f27(0x2ec)]()['toFile'](_0x287f5d),this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x3ab)),_['unlinkSync'](_0x422ec3),this[_0x136f27(0x1de)][_0x136f27(0x6bd)](_0x136f27(0x23a)),_0x287f5d;}catch(_0x47199a){console[_0x136f27(0x3cc)](_0x136f27(0x370),_0x47199a);}}async[a0_0x525ac(0x529)](_0x14c8aa){const _0x3efbb0=a0_0x525ac;let _0x32fa72=await this['convertToWebP'](_0x14c8aa['stickerMessage'][_0x3efbb0(0x3a2)],_0x14c8aa[_0x3efbb0(0x496)]),_0x36eac5=await this[_0x3efbb0(0x298)](_0x14c8aa['number'],{'sticker':{'url':_0x32fa72}},_0x14c8aa?.['options']);return _[_0x3efbb0(0x357)](_0x32fa72),this[_0x3efbb0(0x1de)]['verbose']('Converted\x20image\x20deleted'),_0x36eac5;}async[a0_0x525ac(0x4b1)](_0x37f1a7){const _0x5a8bcc=a0_0x525ac;if(this[_0x5a8bcc(0x1de)][_0x5a8bcc(0x6bd)](_0x5a8bcc(0x57e)),!_0x37f1a7[_0x5a8bcc(0x1c6)]?.[_0x5a8bcc(0x4ec)]&&_0x37f1a7[_0x5a8bcc(0x1c6)]?.[_0x5a8bcc(0x4ec)]!==!0x1&&(_0x37f1a7['options']['encoding']=!0x0),_0x37f1a7[_0x5a8bcc(0x1c6)]?.[_0x5a8bcc(0x4ec)]){let _0x53eafc=await this['convertaudio'](_0x37f1a7[_0x5a8bcc(0x1a2)][_0x5a8bcc(0x1d5)]);if(typeof _0x53eafc==_0x5a8bcc(0x5fb)){let _0x672a0b=_[_0x5a8bcc(0x46a)](_0x53eafc)[_0x5a8bcc(0x679)]('base64'),_0x49bb6a=this['sendMessageWithTyping'](_0x37f1a7['number'],{'audio':Buffer[_0x5a8bcc(0x248)](_0x672a0b,_0x5a8bcc(0x5e6)),'ptt':!0x0,'mimetype':_0x5a8bcc(0x716)},{'presence':_0x5a8bcc(0x4a6),'delay':_0x37f1a7?.['options']?.[_0x5a8bcc(0x337)]});return _[_0x5a8bcc(0x357)](_0x53eafc),this[_0x5a8bcc(0x1de)]['verbose'](_0x5a8bcc(0x359)),_0x49bb6a;}else throw new A(_0x53eafc);}return await this[_0x5a8bcc(0x298)](_0x37f1a7['number'],{'audio':(0x0,k[_0x5a8bcc(0x5e2)])(_0x37f1a7['audioMessage'][_0x5a8bcc(0x1d5)])?{'url':_0x37f1a7[_0x5a8bcc(0x1a2)][_0x5a8bcc(0x1d5)]}:Buffer['from'](_0x37f1a7[_0x5a8bcc(0x1a2)]['audio'],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x5a8bcc(0x4a6),'delay':_0x37f1a7?.[_0x5a8bcc(0x1c6)]?.[_0x5a8bcc(0x337)]});}async[a0_0x525ac(0x6f4)](_0x100ddc){const _0x3267d6=a0_0x525ac;this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)]('Processing\x20audio');let _0x226b31,_0x6f8bee,_0x5ca6d0=(0x0,Lt['v4'])();if(this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)]('Hash\x20to\x20audio\x20name:\x20'+_0x5ca6d0),(0x0,k[_0x3267d6(0x5e2)])(_0x100ddc)){this['logger'][_0x3267d6(0x6bd)](_0x3267d6(0x18e)),_0x6f8bee=''+(0x0,$['join'])(this[_0x3267d6(0x418)],_0x5ca6d0+'.mp4'),_0x226b31=''+(0x0,$[_0x3267d6(0x5c2)])(this[_0x3267d6(0x418)],_0x3267d6(0x1f6)+_0x5ca6d0+'.mp3'),this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)](_0x3267d6(0x1b6)+_0x6f8bee),this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)](_0x3267d6(0x222)+_0x226b31);let _0x5cc576=new Date()['getTime'](),_0x26692b=_0x100ddc+_0x3267d6(0x1a4)+_0x5cc576;this['logger'][_0x3267d6(0x6bd)]('Including\x20timestamp\x20in\x20url:\x20'+_0x26692b);let _0x2a4794=await ue[_0x3267d6(0x6de)]['get'](_0x26692b,{'responseType':_0x3267d6(0x546)});this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)]('Getting\x20audio\x20from\x20url'),_[_0x3267d6(0x37d)](_0x226b31,_0x2a4794['data']);}else{this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)](_0x3267d6(0x65d)),_0x6f8bee=''+(0x0,$[_0x3267d6(0x5c2)])(this[_0x3267d6(0x418)],_0x5ca6d0+_0x3267d6(0x295)),_0x226b31=''+(0x0,$[_0x3267d6(0x5c2)])(this['storePath'],_0x3267d6(0x1f6)+_0x5ca6d0+_0x3267d6(0x448)),this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)]('Output\x20audio\x20path:\x20'+_0x6f8bee),this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)](_0x3267d6(0x222)+_0x226b31);let _0x2195e2=Buffer[_0x3267d6(0x248)](_0x100ddc,_0x3267d6(0x5e6));_['writeFileSync'](_0x226b31,_0x2195e2),this[_0x3267d6(0x1de)][_0x3267d6(0x6bd)](_0x3267d6(0x452));}return this['logger']['verbose'](_0x3267d6(0x376)),new Promise((_0x32644f,_0x1aae1f)=>{const _0x449e82=_0x3267d6;(0x0,Vt[_0x449e82(0x609)])(uo[_0x449e82(0x6de)][_0x449e82(0x18d)]+_0x449e82(0x560)+_0x226b31+_0x449e82(0x28f)+_0x6f8bee+'\x20-y',_0xfcad20=>{const _0x438995=_0x449e82;_[_0x438995(0x357)](_0x226b31),this[_0x438995(0x1de)][_0x438995(0x6bd)](_0x438995(0x5db)),_0xfcad20&&_0x1aae1f(_0xfcad20),this[_0x438995(0x1de)]['verbose'](_0x438995(0x177)),_0x32644f(_0x6f8bee);});});}async[a0_0x525ac(0x3ea)](_0xbe00be){const _0x1424d7=a0_0x525ac;let _0x3f38da={},_0x37df49='TEXT';if(_0xbe00be[_0x1424d7(0x3ea)]?.[_0x1424d7(0x1dd)]){_0x37df49=_0xbe00be[_0x1424d7(0x3ea)]['mediaMessage']?.['mediatype']['toUpperCase']()??_0x1424d7(0x216),_0x3f38da[_0x1424d7(0x26e)]=_0x37df49[_0x1424d7(0x5b5)]()+'Message';let _0x1dc60c=await this[_0x1424d7(0x3fd)](_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x1dd)]);_0x3f38da[_0x1424d7(0x197)]=_0x1dc60c[_0x1424d7(0x197)][_0x3f38da[_0x1424d7(0x26e)]],_0x3f38da[_0x1424d7(0x190)]='*'+_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x199)]+_0x1424d7(0x702)+_0xbe00be['buttonMessage'][_0x1424d7(0x2a2)];}let _0x4744be={'text':_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x548)]['map'](_0x581bc3=>_0x581bc3[_0x1424d7(0x27f)]),'ids':_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x548)][_0x1424d7(0x595)](_0x675907=>_0x675907[_0x1424d7(0x53e)])};if(!(0x0,k['arrayUnique'])(_0x4744be['text'])||!(0x0,k[_0x1424d7(0x57a)])(_0x4744be['ids']))throw new g(_0x1424d7(0x64f),_0x1424d7(0x64b));return await this[_0x1424d7(0x298)](_0xbe00be[_0x1424d7(0x496)],{'buttonsMessage':{'text':_0x3f38da?.['mediaKey']?void 0x0:_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x199)],'contentText':_0x3f38da?.[_0x1424d7(0x190)]??_0xbe00be[_0x1424d7(0x3ea)][_0x1424d7(0x2a2)],'footerText':_0xbe00be[_0x1424d7(0x3ea)]?.[_0x1424d7(0x17a)],'buttons':_0xbe00be['buttonMessage'][_0x1424d7(0x548)][_0x1424d7(0x595)](_0x25f65f=>({'buttonText':{'displayText':_0x25f65f[_0x1424d7(0x27f)]},'buttonId':_0x25f65f[_0x1424d7(0x53e)],'type':0x1})),'headerType':w[_0x1424d7(0x6ed)]['Message'][_0x1424d7(0x568)]['HeaderType'][_0x37df49],[_0x3f38da?.[_0x1424d7(0x26e)]]:_0x3f38da?.[_0x1424d7(0x197)]}},_0xbe00be?.[_0x1424d7(0x1c6)]);}async[a0_0x525ac(0x35b)](_0x434b2d){const _0x86e136=a0_0x525ac;return await this[_0x86e136(0x298)](_0x434b2d[_0x86e136(0x496)],{'locationMessage':{'degreesLatitude':_0x434b2d[_0x86e136(0x35b)]['latitude'],'degreesLongitude':_0x434b2d['locationMessage'][_0x86e136(0x5d2)],'name':_0x434b2d['locationMessage']?.[_0x86e136(0x524)],'address':_0x434b2d[_0x86e136(0x35b)]?.[_0x86e136(0x15a)]}},_0x434b2d?.[_0x86e136(0x1c6)]);}async['listMessage'](_0x10bd96){const _0xdcd938=a0_0x525ac;return await this['sendMessageWithTyping'](_0x10bd96[_0xdcd938(0x496)],{'listMessage':{'title':_0x10bd96[_0xdcd938(0x49b)]['title'],'description':_0x10bd96[_0xdcd938(0x49b)]['description'],'buttonText':_0x10bd96[_0xdcd938(0x49b)]?.['buttonText'],'footerText':_0x10bd96[_0xdcd938(0x49b)]?.[_0xdcd938(0x17a)],'sections':_0x10bd96[_0xdcd938(0x49b)][_0xdcd938(0x20c)],'listType':0x1}},_0x10bd96?.['options']);}async[a0_0x525ac(0x1ed)](_0x2f9543){const _0x2c55b3=a0_0x525ac;let _0x210848={},_0x4ef96b=_0x150fe8=>{const _0x1682ee=a0_0x59e4;let _0x4acedf=_0x1682ee(0x2f2)+_0x150fe8[_0x1682ee(0x3c3)]+'\x0aFN:'+_0x150fe8['fullName']+'\x0a';_0x150fe8[_0x1682ee(0x52a)]&&(_0x4acedf+='ORG:'+_0x150fe8[_0x1682ee(0x52a)]+';\x0a'),_0x150fe8[_0x1682ee(0x51b)]&&(_0x4acedf+='EMAIL:'+_0x150fe8['email']+'\x0a'),_0x150fe8[_0x1682ee(0x6f1)]&&(_0x4acedf+=_0x1682ee(0x40a)+_0x150fe8[_0x1682ee(0x6f1)]+'\x0a');let _0x2b9809='';return _0x150fe8[_0x1682ee(0x26d)]&&_0x150fe8[_0x1682ee(0x26d)][_0x1682ee(0x266)]('|')[_0x1682ee(0x319)]((_0x1721bd,_0x2fa34f)=>{const _0x310541=_0x1682ee;let _0x4971f2=this['createJid'](_0x1721bd)[_0x310541(0x1db)](_0x310541(0x45a),'');_0x2b9809+='item'+(_0x2fa34f+0x1)+_0x310541(0x704)+_0x4971f2+':'+_0x1721bd+_0x310541(0x392)+(_0x2fa34f+0x1)+_0x310541(0x481);}),_0x4acedf+=_0x2b9809+_0x1682ee(0x6f8),_0x4acedf;};return _0x2f9543[_0x2c55b3(0x1ed)][_0x2c55b3(0x261)]===0x1?_0x210848[_0x2c55b3(0x1ed)]={'displayName':_0x2f9543[_0x2c55b3(0x1ed)][0x0]['fullName'],'vcard':_0x4ef96b(_0x2f9543[_0x2c55b3(0x1ed)][0x0])}:_0x210848[_0x2c55b3(0x4ae)]={'displayName':_0x2f9543[_0x2c55b3(0x1ed)][_0x2c55b3(0x261)]+_0x2c55b3(0x3bf),'contacts':_0x2f9543['contactMessage'][_0x2c55b3(0x595)](_0x4e362a=>({'displayName':_0x4e362a[_0x2c55b3(0x3c3)],'vcard':_0x4ef96b(_0x4e362a)}))},await this[_0x2c55b3(0x298)](_0x2f9543[_0x2c55b3(0x496)],{..._0x210848},_0x2f9543?.[_0x2c55b3(0x1c6)]);}async['reactionMessage'](_0xcb8c41){const _0x5857fb=a0_0x525ac;return await this['sendMessageWithTyping'](_0xcb8c41[_0x5857fb(0x29f)][_0x5857fb(0x4ba)]['remoteJid'],{'reactionMessage':{'key':_0xcb8c41[_0x5857fb(0x29f)]['key'],'text':_0xcb8c41[_0x5857fb(0x29f)][_0x5857fb(0x62a)]}});}async[a0_0x525ac(0x3cd)](_0x52a9bc){const _0x8730cb=a0_0x525ac;let _0x205718=[];for await(let _0x2ee241 of _0x52a9bc[_0x8730cb(0x232)]){let _0x4cdab2=this[_0x8730cb(0x2ae)](_0x2ee241);if((0x0,w['isJidGroup'])(_0x4cdab2)){let _0x417bce=await this['findGroup']({'groupJid':_0x4cdab2},'inner');_0x205718['push'](new fe(_0x417bce['metadata']['id'],!!_0x417bce?.[_0x8730cb(0x4f2)]['id'],_0x417bce?.[_0x8730cb(0x4f2)][_0x8730cb(0x619)]));}else try{let _0x5d676c=(await this[_0x8730cb(0x3c2)][_0x8730cb(0x567)](_0x4cdab2))[0x0];_0x205718['push'](new fe(_0x5d676c[_0x8730cb(0x2c9)],_0x5d676c[_0x8730cb(0x42c)]));}catch{_0x205718['push'](new fe(_0x2ee241,!0x1));}}return _0x205718;}async[a0_0x525ac(0x3c9)](_0x30b7bb){const _0x8f3d18=a0_0x525ac;try{let _0x7aff26=_0x30b7bb[_0x8f3d18(0x706)][_0x8f3d18(0x4c9)](_0x3fb3ae=>(0x0,w[_0x8f3d18(0x70d)])(_0x3fb3ae[_0x8f3d18(0x6ff)])||(0x0,w['isJidUser'])(_0x3fb3ae[_0x8f3d18(0x6ff)]))['map'](_0x36c02f=>({'remoteJid':_0x36c02f[_0x8f3d18(0x6ff)],'fromMe':_0x36c02f[_0x8f3d18(0x4bd)],'id':_0x36c02f['id']}));await this[_0x8f3d18(0x3c2)][_0x8f3d18(0x706)](_0x7aff26);let _0x3098d6=_0x7aff26[_0x8f3d18(0x595)](_0x1596a0=>this[_0x8f3d18(0x70b)](_0x1596a0,_0x1596a0['remoteJid'],{'status':_0x8f3d18(0x72d),'owner':this[_0x8f3d18(0x5d1)]['wuid']})),_0x3f8ac8=_0x7aff26[_0x8f3d18(0x595)](_0x544c05=>D[_0x8f3d18(0x2bf)]({'id':_0x544c05[_0x8f3d18(0x6ff)],'owner':this[_0x8f3d18(0x5d1)][_0x8f3d18(0x4f4)]},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x549b41,_0x5e5575]=await Promise[_0x8f3d18(0x264)]([Promise[_0x8f3d18(0x264)](_0x3098d6),Promise[_0x8f3d18(0x264)](_0x3f8ac8)]);return _0x5e5575[_0x8f3d18(0x4c9)](_0x87fbba=>_0x87fbba!==null)[_0x8f3d18(0x319)](_0x3ed232=>{const _0x52c9a4=_0x8f3d18;q(this[_0x52c9a4(0x2b3)],_0x52c9a4(0x2e8),{'chat':_0x3ed232});}),{'message':_0x8f3d18(0x291),'read':_0x8f3d18(0x1f2)};}catch(_0x2ba4c7){throw console['error'](_0x8f3d18(0x51f),_0x2ba4c7),new A(_0x8f3d18(0x347),_0x2ba4c7['toString']());}}async[a0_0x525ac(0x727)](_0x3ec898){const _0x42c88a=a0_0x525ac;let _0x1703c0=await this[_0x42c88a(0x6cf)]({'where':{'key':{'remoteJid':_0x3ec898},'owner':this[_0x42c88a(0x5d1)][_0x42c88a(0x524)]}}),_0x3d4ab1=_0x1703c0[_0x42c88a(0x36f)]();for(let _0x27190d of _0x1703c0)_0x27190d[_0x42c88a(0x4fa)]>=_0x3d4ab1[_0x42c88a(0x4fa)]&&(_0x3d4ab1=_0x27190d);return _0x3d4ab1;}async[a0_0x525ac(0x549)](_0x4c8247){const _0x50a666=a0_0x525ac;this['logger'][_0x50a666(0x6bd)](_0x50a666(0x68b));try{let _0x2bc8cb=_0x4c8247[_0x50a666(0x2bb)],_0x35c9fa=_0x4c8247[_0x50a666(0x3f7)];if(!_0x2bc8cb&&_0x35c9fa?_0x2bc8cb=await this[_0x50a666(0x727)](_0x35c9fa):(_0x2bc8cb=_0x4c8247['lastMessage'],_0x2bc8cb[_0x50a666(0x4fa)]=_0x2bc8cb?.[_0x50a666(0x4fa)]??Date[_0x50a666(0x50c)](),_0x35c9fa=_0x2bc8cb?.[_0x50a666(0x4ba)]?.['remoteJid']),!_0x2bc8cb||Object[_0x50a666(0x697)](_0x2bc8cb)[_0x50a666(0x261)]===0x0)throw new x(_0x50a666(0x1b1));return await this[_0x50a666(0x3c2)][_0x50a666(0x726)]({'archive':_0x4c8247[_0x50a666(0x2f8)],'lastMessages':[_0x2bc8cb]},this[_0x50a666(0x2ae)](_0x35c9fa)),{'chatId':_0x35c9fa,'archived':!0x0};}catch(_0x42d582){throw new A({'archived':!0x1,'message':[_0x50a666(0x2fd),_0x42d582[_0x50a666(0x679)]()]});}}async[a0_0x525ac(0x492)](_0x2ee223){const _0x553d70=a0_0x525ac;try{let _0x54017d=await this[_0x553d70(0x3c2)][_0x553d70(0x44b)](_0x2ee223['remoteJid'],{'delete':_0x2ee223});try{let _0x34266f=await this[_0x553d70(0x70b)](_0x2ee223,_0x2ee223['remoteJid'],{'status':_0x553d70(0x5a3),'owner':this[_0x553d70(0x5d1)][_0x553d70(0x4f4)]});this[_0x553d70(0x1de)][_0x553d70(0x6bd)](this[_0x553d70(0x2b3)]+'\x20('+this[_0x553d70(0x5d1)][_0x553d70(0x4f4)]+_0x553d70(0x562)+_0x34266f);}catch(_0x2e3bbb){console['error'](_0x553d70(0x405),_0x2e3bbb);}return _0x54017d;}catch(_0x263dfd){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x263dfd?.['toString']());}}async[a0_0x525ac(0x575)](_0x345271){const _0x8c4e1e=a0_0x525ac;try{let _0xb46e59=_0x345271?.['message']?_0x345271:await this[_0x8c4e1e(0x497)](_0x345271[_0x8c4e1e(0x4ba)],!0x0);for(let _0x13d384 of Zs)_0xb46e59[_0x8c4e1e(0x197)][_0x13d384]&&(_0xb46e59['message']=_0xb46e59[_0x8c4e1e(0x197)][_0x13d384]['message']);let _0x3a25a1,_0x94b767;for(let _0x346032 of Xs)if(_0x3a25a1=_0xb46e59['message'][_0x346032],_0x3a25a1){_0x94b767=_0x346032;break;}if(!_0x3a25a1)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3a25a1[_0x8c4e1e(0x26e)]==_0x8c4e1e(0x600)&&(_0xb46e59[_0x8c4e1e(0x197)]=JSON[_0x8c4e1e(0x20b)](JSON['stringify'](_0xb46e59[_0x8c4e1e(0x197)])));let _0x1b4514=await(0x0,w[_0x8c4e1e(0x599)])({'key':_0xb46e59?.[_0x8c4e1e(0x4ba)],'message':_0xb46e59?.['message']},'buffer',{},{'logger':(0x0,kt[_0x8c4e1e(0x6de)])({'level':_0x8c4e1e(0x3cc)}),'reuploadRequest':this['client'][_0x8c4e1e(0x611)]});if(!(_0x1b4514 instanceof Buffer))throw new Error(_0x8c4e1e(0x3c1));let _0x37e6ea=this[_0x8c4e1e(0x181)][_0x8c4e1e(0x60a)](_0x8c4e1e(0x690)),_0x60d836,_0x5c47c1;if(_0x3a25a1['fileName'])_0x60d836=_0x3a25a1['fileName'];else{let _0x148a16=_0x3a25a1['mimetype']?.[_0x8c4e1e(0x62c)](/\/(\w+)/),_0x4d4d26=_0x148a16?_0x148a16[0x1]:null;if(!_0x4d4d26)throw new Error(_0x8c4e1e(0x613));_0x60d836=(0x0,Lt['v4'])()+'.'+_0x4d4d26;}_0x94b767===_0x8c4e1e(0x1a2)&&_0x3a25a1[_0x8c4e1e(0x606)]===_0x8c4e1e(0x54e)?(_0x60d836=(0x0,Lt['v4'])()+_0x8c4e1e(0x322),_0x5c47c1='/media/'+await this['convertaudio'](_0x1b4514['toString']('base64'))):(await this['saveMediaToFile'](_0x1b4514,_0x60d836),_0x5c47c1=_0x8c4e1e(0x5fa)+_0x60d836);let _0x52ec2e=this[_0x8c4e1e(0x181)]['get'](_0x8c4e1e(0x639)),_0x277391=this[_0x8c4e1e(0x181)][_0x8c4e1e(0x60a)](_0x8c4e1e(0x156))[_0x8c4e1e(0x18a)],_0x2669cd=_0x52ec2e&&_0x52ec2e[_0x8c4e1e(0x585)]['split']('/')[0x4];_0x277391===0x1bb&&(_0x5c47c1=''+(_0x8c4e1e(0x69c)+_0x2669cd)+_0x5c47c1);let _0x310c96=0xc*0x3c*0x3c*0x3e8;if(_0x37e6ea[_0x8c4e1e(0x517)]){let _0x3ab580={'where':{'key':{'id':_0xb46e59[_0x8c4e1e(0x4ba)]['id'],'remoteJid':_0xb46e59[_0x8c4e1e(0x4ba)][_0x8c4e1e(0x6ff)],'fromMe':_0xb46e59[_0x8c4e1e(0x4ba)][_0x8c4e1e(0x4bd)]},'owner':this[_0x8c4e1e(0x5d1)][_0x8c4e1e(0x4f4)]}};_0xb46e59[_0x8c4e1e(0x4ba)][_0x8c4e1e(0x6ff)][_0x8c4e1e(0x1fa)]('@g.us')&&(_0x3ab580[_0x8c4e1e(0x17c)][_0x8c4e1e(0x4ba)]['participant']=_0xb46e59[_0x8c4e1e(0x4ba)][_0x8c4e1e(0x203)]);let _0x517131={'message_normalized.fileUrl':_0x5c47c1,'message_normalized.expires_fileUrl':Date['now']()+_0x310c96};try{let _0x3ee438=await this['repository'][_0x8c4e1e(0x197)][_0x8c4e1e(0x71f)](_0x3ab580,_0x517131);_0x3ee438&&q(this['instanceName'],_0x8c4e1e(0x728),{'message':_0x3ee438});}catch{}}return{'mediaType':_0x94b767,'fileName':_0x3a25a1[_0x8c4e1e(0x67a)],'caption':_0x3a25a1[_0x8c4e1e(0x586)],'size':{'fileLength':_0x3a25a1[_0x8c4e1e(0x4b0)],'height':_0x3a25a1[_0x8c4e1e(0x46d)],'width':_0x3a25a1[_0x8c4e1e(0x4ab)]},'mimetype':_0x3a25a1[_0x8c4e1e(0x606)],'base64':_0x1b4514['toString'](_0x8c4e1e(0x5e6)),'fileUrl':_0x5c47c1,'expires_fileUrl':Date[_0x8c4e1e(0x50c)]()+_0x310c96};}catch(_0x30cdc6){throw this[_0x8c4e1e(0x1de)][_0x8c4e1e(0x3cc)](this[_0x8c4e1e(0x2b3)]+'\x20('+this[_0x8c4e1e(0x5d1)][_0x8c4e1e(0x4f4)]+_0x8c4e1e(0x6a4)+_0x30cdc6),new g(_0x30cdc6[_0x8c4e1e(0x679)]());}}async[a0_0x525ac(0x520)](_0x2cc169,_0x15b2b1){const _0xd8324=a0_0x525ac;console[_0xd8324(0x571)](_0xd8324(0x4a7),__dirname),console[_0xd8324(0x571)](_0xd8324(0x6ae),_0x15b2b1);let _0x8bd231=$['default']['join'](__dirname,_0xd8324(0x1be));console[_0xd8324(0x571)](_0xd8324(0x58f),_0x8bd231),_[_0xd8324(0x57f)](_0x8bd231)||(this[_0xd8324(0x1de)][_0xd8324(0x571)](_0xd8324(0x695)),_[_0xd8324(0x176)](_0x8bd231,{'recursive':!0x0}));let _0x68a6fe=$[_0xd8324(0x6de)]['join'](_0x8bd231,_0x15b2b1);return console[_0xd8324(0x571)](_0xd8324(0x1d9),_0x68a6fe),new Promise((_0xa9ac57,_0x4bc728)=>{_['writeFile'](_0x68a6fe,_0x2cc169,_0x3f09bf=>{const _0x4cd6a2=a0_0x59e4;_0x3f09bf?(this['logger'][_0x4cd6a2(0x3cc)](_0x4cd6a2(0x54b)+_0x3f09bf[_0x4cd6a2(0x197)]),_0x4bc728(_0x3f09bf)):(this[_0x4cd6a2(0x1de)][_0x4cd6a2(0x571)](_0x4cd6a2(0x6f0)+_0x68a6fe),_0xa9ac57(_0x68a6fe));});});}async[a0_0x525ac(0x2a3)](_0x437c03){const _0x2eb76d=a0_0x525ac;return _0x437c03?.[_0x2eb76d(0x17c)]?_0x437c03[_0x2eb76d(0x17c)][_0x2eb76d(0x3f3)]=this[_0x2eb76d(0x5d1)]['wuid']:_0x437c03={'where':{'owner':this[_0x2eb76d(0x5d1)]['wuid']}},await this['repository'][_0x2eb76d(0x55a)][_0x2eb76d(0x252)](_0x437c03);}async[a0_0x525ac(0x6cf)](_0x58a3cb){const _0x1c8870=a0_0x525ac;return _0x58a3cb?.[_0x1c8870(0x17c)]?_0x58a3cb[_0x1c8870(0x17c)]['owner']=this[_0x1c8870(0x5d1)][_0x1c8870(0x4f4)]:_0x58a3cb={'where':{'owner':this[_0x1c8870(0x5d1)][_0x1c8870(0x4f4)]},'limit':_0x58a3cb?.['limit']},await this[_0x1c8870(0x5fe)]['message'][_0x1c8870(0x252)](_0x58a3cb);}async[a0_0x525ac(0x33c)](_0x523056){const _0x3c9b82=a0_0x525ac;return _0x523056?.[_0x3c9b82(0x17c)]?_0x523056['where'][_0x3c9b82(0x3f3)]=this[_0x3c9b82(0x5d1)]['wuid']:_0x523056={'where':{'owner':this[_0x3c9b82(0x5d1)]['wuid']},'limit':_0x523056?.[_0x3c9b82(0x292)]},await this['repository'][_0x3c9b82(0x2dd)][_0x3c9b82(0x252)](_0x523056);}async[a0_0x525ac(0x1e7)](){const _0x2aa22d=a0_0x525ac;return await this[_0x2aa22d(0x5fe)]['chat'][_0x2aa22d(0x252)]({'where':{'owner':this[_0x2aa22d(0x5d1)]['wuid']}});}async[a0_0x525ac(0x61e)](){const _0x5206c5=a0_0x525ac;return await this[_0x5206c5(0x3c2)]['fetchPrivacySettings']();}async[a0_0x525ac(0x4aa)](_0x8b2f99){const _0x85c6be=a0_0x525ac;try{return await this['client'][_0x85c6be(0x5a0)](_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x729)]),await this[_0x85c6be(0x3c2)]['updateProfilePicturePrivacy'](_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x5da)]),await this['client'][_0x85c6be(0x707)](_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x504)]),await this['client']['updateOnlinePrivacy'](_0x8b2f99['privacySettings'][_0x85c6be(0x2ad)]),await this['client']['updateLastSeenPrivacy'](_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x439)]),await this[_0x85c6be(0x3c2)]['updateGroupsAddPrivacy'](_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x3b9)]),this[_0x85c6be(0x3c2)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x8b2f99[_0x85c6be(0x207)]['readreceipts'],'profile':_0x8b2f99[_0x85c6be(0x207)]['profile'],'status':_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x504)],'online':_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x2ad)],'last':_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x439)],'groupadd':_0x8b2f99[_0x85c6be(0x207)][_0x85c6be(0x3b9)]}};}catch(_0x3b3028){throw new A(_0x85c6be(0x6c2),_0x3b3028[_0x85c6be(0x679)]());}}async[a0_0x525ac(0x1e9)](_0x7e70c7){const _0x1f2f54=a0_0x525ac;let _0x29a1f9=_0x7e70c7?this[_0x1f2f54(0x2ae)](_0x7e70c7):this[_0x1f2f54(0x3c2)]?.['user']?.['id'];this[_0x1f2f54(0x1de)][_0x1f2f54(0x6bd)](_0x1f2f54(0x6f9)+_0x29a1f9);try{if(this[_0x1f2f54(0x1de)][_0x1f2f54(0x6bd)](_0x1f2f54(0x32f)),_0x7e70c7){let _0x393ce9=(await this['whatsappNumber']({'numbers':[_0x29a1f9]}))?.[_0x1f2f54(0x339)](),_0x182ade=await this[_0x1f2f54(0x6b5)](_0x393ce9?.[_0x1f2f54(0x2c9)]),_0x536d39=await this[_0x1f2f54(0x5e7)](_0x393ce9?.[_0x1f2f54(0x2c9)]),_0x5d427c=await this[_0x1f2f54(0x4f1)](_0x393ce9?.['jid']);return{'wuid':_0x393ce9?.[_0x1f2f54(0x2c9)]||_0x29a1f9,'name':_0x393ce9?.['name'],'numberExists':_0x393ce9?.[_0x1f2f54(0x42c)],'picture':_0x182ade?.['profilePictureUrl'],'status':_0x536d39?.[_0x1f2f54(0x504)],'isBusiness':_0x5d427c[_0x1f2f54(0x527)],'email':_0x5d427c?.[_0x1f2f54(0x51b)],'description':_0x5d427c?.[_0x1f2f54(0x2a2)],'website':_0x5d427c?.['website']?.['shift']()};}}catch{return this[_0x1f2f54(0x1de)][_0x1f2f54(0x6bd)](_0x1f2f54(0x1d0)),{'wuid':_0x29a1f9,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x525ac(0x4e7)](_0x3906e9){const _0x48a0bf=a0_0x525ac;let _0x2b0d04=_0x3906e9?this[_0x48a0bf(0x2ae)](_0x3906e9):this[_0x48a0bf(0x3c2)]?.[_0x48a0bf(0x4d8)]?.['id'];this['logger']['verbose'](_0x48a0bf(0x1b2)+_0x2b0d04);let _0x128eaa=await Fe[_0x48a0bf(0x555)]({'id':_0x2b0d04}),_0x34f8db=_0x128eaa?_0x128eaa[_0x48a0bf(0x3d5)]:null;try{let _0x231ecf=(await this[_0x48a0bf(0x3cd)]({'numbers':[_0x2b0d04]}))?.[_0x48a0bf(0x339)](),_0x1a7674=await this[_0x48a0bf(0x6b5)](_0x231ecf?.[_0x48a0bf(0x2c9)]),_0xdd2deb=await this[_0x48a0bf(0x5e7)](_0x231ecf?.[_0x48a0bf(0x2c9)]),_0x54440a=await this[_0x48a0bf(0x4f1)](_0x231ecf?.[_0x48a0bf(0x2c9)]),_0x5d6d56={'imagechat':_0x1a7674?.['profilePictureUrl'],'contactname':_0x34f8db||null,'status':_0xdd2deb?.[_0x48a0bf(0x504)],'isBusiness':_0x54440a[_0x48a0bf(0x527)],'email':_0x54440a?.[_0x48a0bf(0x51b)],'description':_0x54440a?.[_0x48a0bf(0x2a2)],'website':_0x54440a?.[_0x48a0bf(0x220)]?.[_0x48a0bf(0x339)](),'lastcache':Date[_0x48a0bf(0x50c)]()},_0x1b884c=await D[_0x48a0bf(0x2bf)]({'id':_0x2b0d04,'owner':this[_0x48a0bf(0x5d1)]['wuid']},{'$set':_0x5d6d56,'$setOnInsert':{'name':_0x231ecf?.[_0x48a0bf(0x524)]||null}},{'upsert':!0x0,'new':!0x0});return _0x1b884c&&q(this[_0x48a0bf(0x2b3)],'chats',{'chat':_0x1b884c}),{'wuid':_0x231ecf?.[_0x48a0bf(0x2c9)]||_0x2b0d04,'name':_0x231ecf?.['name'],'numberExists':_0x231ecf?.[_0x48a0bf(0x42c)],'picture':_0x1a7674?.['profilePictureUrl'],'status':_0xdd2deb?.['status'],'isBusiness':_0x54440a['isBusiness'],'email':_0x54440a?.['email'],'description':_0x54440a?.[_0x48a0bf(0x2a2)],'website':_0x54440a?.['website']?.[_0x48a0bf(0x339)]()};}catch(_0x5ef9a0){return this[_0x48a0bf(0x1de)][_0x48a0bf(0x3cc)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+_0x5ef9a0),{};}}async[a0_0x525ac(0x4f1)](_0x1af74c){const _0x4f9cc5=a0_0x525ac;this[_0x4f9cc5(0x1de)][_0x4f9cc5(0x6bd)]('Fetching\x20business\x20profile');try{let _0x447c99=_0x1af74c?this[_0x4f9cc5(0x2ae)](_0x1af74c):this[_0x4f9cc5(0x5d1)]['wuid'],_0x1a01c8=await this[_0x4f9cc5(0x3c2)]['getBusinessProfile'](_0x447c99);return this[_0x4f9cc5(0x1de)][_0x4f9cc5(0x6bd)](_0x4f9cc5(0x2e2)),_0x1a01c8?(this[_0x4f9cc5(0x1de)][_0x4f9cc5(0x6bd)](_0x4f9cc5(0x200)),{'isBusiness':!0x0,..._0x1a01c8}):{'isBusiness':!0x1,'message':_0x4f9cc5(0x300),...(await this['whatsappNumber']({'numbers':[_0x447c99]}))?.[_0x4f9cc5(0x339)]()};}catch(_0x2491a9){throw new A(_0x4f9cc5(0x256),_0x2491a9[_0x4f9cc5(0x679)]());}}async[a0_0x525ac(0x5e7)](_0x3c5384){const _0x4ffda1=a0_0x525ac;let _0x17fa98=this[_0x4ffda1(0x2ae)](_0x3c5384);try{return{'wuid':_0x17fa98,'status':(await this[_0x4ffda1(0x3c2)][_0x4ffda1(0x4db)](_0x17fa98))?.[_0x4ffda1(0x504)]};}catch{return{'wuid':_0x17fa98,'status':null};}}async['updateProfileName'](_0x316af2){const _0x3d2b4c=a0_0x525ac;try{return await this[_0x3d2b4c(0x3c2)][_0x3d2b4c(0x71b)](_0x316af2),{'update':_0x3d2b4c(0x1f2)};}catch(_0x5b86cb){throw new A(_0x3d2b4c(0x256),_0x5b86cb[_0x3d2b4c(0x679)]());}}async[a0_0x525ac(0x192)](_0x34e8fc){const _0x5425ed=a0_0x525ac;try{return await this['client'][_0x5425ed(0x192)](_0x34e8fc),{'update':'success'};}catch(_0x4dd507){throw new A(_0x5425ed(0x58b),_0x4dd507[_0x5425ed(0x679)]());}}async['updateProfilePicture'](_0x5e6776){const _0x29c113=a0_0x525ac;try{let _0x45eb1c;if((0x0,k[_0x29c113(0x5e2)])(_0x5e6776)){let _0x59e2bf=new Date()[_0x29c113(0x4ff)](),_0x9a3e97=_0x5e6776+_0x29c113(0x1a4)+_0x59e2bf;_0x45eb1c=(await ue[_0x29c113(0x6de)][_0x29c113(0x60a)](_0x9a3e97,{'responseType':_0x29c113(0x546)}))[_0x29c113(0x16e)];}else{if((0x0,k['isBase64'])(_0x5e6776))_0x45eb1c=Buffer[_0x29c113(0x248)](_0x5e6776,'base64');else throw new g(_0x29c113(0x4ef));}return await this[_0x29c113(0x3c2)][_0x29c113(0x25a)](this[_0x29c113(0x5d1)]['wuid'],_0x45eb1c),{'update':'success'};}catch(_0x194f2c){throw new A(_0x29c113(0x677),_0x194f2c[_0x29c113(0x679)]());}}async[a0_0x525ac(0x23e)](){const _0x2b6395=a0_0x525ac;try{return await this['client'][_0x2b6395(0x23e)](this[_0x2b6395(0x5d1)][_0x2b6395(0x4f4)]),{'update':_0x2b6395(0x1f2)};}catch(_0x3438df){throw new A('Error\x20removing\x20profile\x20picture',_0x3438df['toString']());}}async['createGroup'](_0x67aa88){const _0x5cea2b=a0_0x525ac;try{let _0x4b7507=_0x67aa88[_0x5cea2b(0x32b)][_0x5cea2b(0x595)](_0x90314d=>this['createJid'](_0x90314d)),{id:_0x32dd47}=await this[_0x5cea2b(0x3c2)][_0x5cea2b(0x4bb)](_0x67aa88[_0x5cea2b(0x619)],_0x4b7507);return _0x67aa88?.[_0x5cea2b(0x2a2)]&&await this[_0x5cea2b(0x3c2)][_0x5cea2b(0x29c)](_0x32dd47,_0x67aa88[_0x5cea2b(0x2a2)]),{'metadata':await this[_0x5cea2b(0x3c2)]['groupMetadata'](_0x32dd47)};}catch(_0x1aedeb){throw this['logger']['error'](this[_0x5cea2b(0x2b3)]+'\x20('+this['instance']['wuid']+_0x5cea2b(0x6a4)+_0x1aedeb),new A(_0x5cea2b(0x25e),_0x1aedeb[_0x5cea2b(0x679)]());}}async['updateGroupPicture'](_0x277e5e){const _0x3d0ba5=a0_0x525ac;try{let _0x1cd7ca;if((0x0,k['isURL'])(_0x277e5e['image'])){let _0x83a68c=new Date()[_0x3d0ba5(0x4ff)](),_0x3b7675=_0x277e5e[_0x3d0ba5(0x3a2)]+_0x3d0ba5(0x1a4)+_0x83a68c;_0x1cd7ca=(await ue[_0x3d0ba5(0x6de)][_0x3d0ba5(0x60a)](_0x3b7675,{'responseType':'arraybuffer'}))[_0x3d0ba5(0x16e)];}else{if((0x0,k[_0x3d0ba5(0x4d3)])(_0x277e5e[_0x3d0ba5(0x3a2)]))_0x1cd7ca=Buffer[_0x3d0ba5(0x248)](_0x277e5e[_0x3d0ba5(0x3a2)],_0x3d0ba5(0x5e6));else throw new g(_0x3d0ba5(0x4ef));}return await this[_0x3d0ba5(0x3c2)][_0x3d0ba5(0x25a)](_0x277e5e[_0x3d0ba5(0x27a)],_0x1cd7ca),{'update':_0x3d0ba5(0x1f2)};}catch(_0x30ebac){throw new A(_0x3d0ba5(0x352),_0x30ebac[_0x3d0ba5(0x679)]());}}async[a0_0x525ac(0x63a)](_0xf3bb47,_0x4a6fbf=a0_0x525ac(0x23f)){const _0x274ea9=a0_0x525ac;try{let _0xbd2e68=await this[_0x274ea9(0x3c2)]['groupMetadata'](_0xf3bb47[_0x274ea9(0x27a)]),_0x29306d=null;try{_0x29306d=await this[_0x274ea9(0x3c2)][_0x274ea9(0x154)](_0xf3bb47[_0x274ea9(0x27a)],_0x274ea9(0x3a2));}catch(_0x5d692d){this[_0x274ea9(0x1de)]['verbose'](this[_0x274ea9(0x2b3)]+'\x20('+this[_0x274ea9(0x5d1)][_0x274ea9(0x4f4)]+_0x274ea9(0x404)+_0xf3bb47['groupJid']+':\x20'+_0x5d692d[_0x274ea9(0x679)]());}let _0x54fecc=await D[_0x274ea9(0x2bf)]({'id':_0xf3bb47[_0x274ea9(0x27a)],'owner':this[_0x274ea9(0x5d1)][_0x274ea9(0x4f4)]},{'$set':{'imagechat':_0x29306d,'name':_0xbd2e68['subject'],'group_size':_0xbd2e68['size'],'group_announce':_0xbd2e68[_0x274ea9(0x5f6)],'lastcache':Date[_0x274ea9(0x50c)]()}},{'new':!0x0,'upsert':!0x0});return _0x54fecc&&q(this[_0x274ea9(0x2b3)],_0x274ea9(0x2e8),{'chat':_0x54fecc}),{'metadata':_0xbd2e68,'image':_0x29306d};}catch(_0x28581f){if(_0x4a6fbf===_0x274ea9(0x543))return;throw new x(_0x274ea9(0x632),_0x28581f[_0x274ea9(0x679)]());}}async[a0_0x525ac(0x309)](_0x4bb184){const _0x122deb=a0_0x525ac;try{return await this[_0x122deb(0x3c2)]['groupUpdateDescription'](_0x4bb184['groupJid'],_0x4bb184[_0x122deb(0x2a2)]),{'update':_0x122deb(0x1f2)};}catch(_0x134dec){throw new A('Error\x20change\x20group\x20description',_0x134dec[_0x122deb(0x679)]());}}async[a0_0x525ac(0x681)](_0x4ea441){const _0x1dcd6a=a0_0x525ac;try{return await this[_0x1dcd6a(0x3c2)][_0x1dcd6a(0x691)](_0x4ea441[_0x1dcd6a(0x27a)],_0x4ea441[_0x1dcd6a(0x524)]),{'update':_0x1dcd6a(0x1f2)};}catch(_0xb7021d){throw new A(_0x1dcd6a(0x484),_0xb7021d[_0x1dcd6a(0x679)]());}}async['groupSetting'](_0x47ca64){const _0x19fe30=a0_0x525ac;try{return await this[_0x19fe30(0x3c2)][_0x19fe30(0x6b1)](_0x47ca64[_0x19fe30(0x27a)],_0x47ca64[_0x19fe30(0x602)]),{'update':_0x19fe30(0x1f2)};}catch(_0x564e5e){throw new A(_0x19fe30(0x6dd),_0x564e5e['toString']());}}async['findGroups'](){const _0x5943d3=a0_0x525ac;try{let _0x3840dc=[],_0x1ab4f0=await this[_0x5943d3(0x3c2)][_0x5943d3(0x608)](),_0x5d848d=Object[_0x5943d3(0x1d1)](_0x1ab4f0),_0x1509ce=_0x5d848d[_0x5943d3(0x4c9)](_0x315d38=>(0x0,w['isJidGroup'])(_0x315d38?.['id']))[_0x5943d3(0x595)](async _0x362178=>{const _0x13201f=_0x5943d3;try{return await this[_0x13201f(0x3c2)][_0x13201f(0x154)](_0x362178['id'],_0x13201f(0x3a2));}catch(_0x2ba350){return this[_0x13201f(0x1de)]['verbose'](this[_0x13201f(0x2b3)]+'\x20('+this['instance'][_0x13201f(0x4f4)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x362178['id']+':\x20'+_0x2ba350[_0x13201f(0x679)]()),null;}}),_0x34e9e4=await Promise['all'](_0x1509ce);for(let _0x33e675=0x0;_0x33e675<_0x5d848d[_0x5943d3(0x261)];_0x33e675++){let _0x215b36=_0x5d848d[_0x33e675];(0x0,w[_0x5943d3(0x70d)])(_0x215b36?.['id'])&&_0x3840dc[_0x5943d3(0x6a1)]({'groupJid':_0x215b36?.['id'],'subject':_0x215b36?.['subject'],'subjectOwner':_0x215b36?.[_0x5943d3(0x1d3)]?.[_0x5943d3(0x266)]('@')[0x0],'subjectTime':_0x215b36?.['subjectTime'],'size':_0x215b36?.[_0x5943d3(0x32b)]?.[_0x5943d3(0x261)],'owner':_0x215b36?.[_0x5943d3(0x3f3)]?.['split']('@')[0x0],'creation':_0x215b36?.[_0x5943d3(0x362)],'desc':_0x215b36?.['desc'],'restrict':_0x215b36?.[_0x5943d3(0x188)],'announce':_0x215b36?.[_0x5943d3(0x5f6)],'image':_0x34e9e4[_0x33e675]});}return _0x3840dc;}catch(_0x179f5f){throw new x(_0x5943d3(0x632),_0x179f5f[_0x5943d3(0x679)]());}}async['inviteCode'](_0x5e0ee1){const _0x5b4a75=a0_0x525ac;try{let _0x519a56=await this[_0x5b4a75(0x3c2)][_0x5b4a75(0x2db)](_0x5e0ee1['groupJid']);return{'inviteUrl':_0x5b4a75(0x1d7)+_0x519a56,'inviteCode':_0x519a56};}catch(_0x26d52c){throw new x(_0x5b4a75(0x369),_0x26d52c[_0x5b4a75(0x679)]());}}async[a0_0x525ac(0x578)](_0x1e82d7){const _0x16189c=a0_0x525ac;try{let _0x1fff47=await this['client'][_0x16189c(0x1bf)](_0x1e82d7['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x16189c(0x1d7)+_0x1fff47,'inviteCode':_0x1fff47};}catch(_0x877d2a){throw new x(_0x16189c(0x725),_0x877d2a[_0x16189c(0x679)]());}}async['joinGroup'](_0x4a11e2){const _0x9196ce=a0_0x525ac;try{if((0x0,k[_0x9196ce(0x5e2)])(_0x4a11e2['inviteCode']))var _0x57a4aa=_0x4a11e2[_0x9196ce(0x591)][_0x9196ce(0x266)]('/')[0x3];else var _0x57a4aa=_0x4a11e2[_0x9196ce(0x591)];let _0x5c8190=await this[_0x9196ce(0x3c2)]['groupAcceptInvite'](_0x57a4aa);return this[_0x9196ce(0x1de)][_0x9196ce(0x6bd)](this[_0x9196ce(0x2b3)]+'\x20('+this[_0x9196ce(0x5d1)][_0x9196ce(0x4f4)]+_0x9196ce(0x6a4)+_0x5c8190),{'join':!0x0,'inviteCode':_0x57a4aa,'groupJid':_0x5c8190};}catch(_0x259ccd){throw new x(_0x9196ce(0x2e1),_0x259ccd[_0x9196ce(0x679)]());}}async['findParticipants'](_0xbbf24e){const _0x5daaba=a0_0x525ac;try{return{'participants':(await this['client']['groupMetadata'](_0xbbf24e['groupJid']))[_0x5daaba(0x32b)]};}catch(_0x1efdc4){throw new x(_0x5daaba(0x5f9),_0x1efdc4[_0x5daaba(0x679)]());}}async[a0_0x525ac(0x6eb)](_0x5e357a){const _0x240033=a0_0x525ac;try{let _0xb05fc1=_0x5e357a[_0x240033(0x32b)][_0x240033(0x595)](_0x58ee42=>this[_0x240033(0x2ae)](_0x58ee42));return{'updateParticipants':await this['client'][_0x240033(0x1a0)](_0x5e357a[_0x240033(0x27a)],_0xb05fc1,_0x5e357a[_0x240033(0x5b0)])};}catch(_0x5211c9){throw new g(_0x240033(0x637),_0x5211c9[_0x240033(0x679)]());}}async[a0_0x525ac(0x5e9)](_0x57eefe){const _0x1eae7f=a0_0x525ac;try{let _0xcca364=await this[_0x1eae7f(0x3c2)][_0x1eae7f(0x4f8)](_0x57eefe[_0x1eae7f(0x27a)],_0x57eefe[_0x1eae7f(0x4b7)]);return{'success':!0x0};}catch(_0x1ccaba){throw new g('Error\x20updating\x20setting',_0x1ccaba[_0x1eae7f(0x679)]());}}async[a0_0x525ac(0x1ee)](_0x297ffb){const _0x378ef1=a0_0x525ac;try{return await this[_0x378ef1(0x3c2)][_0x378ef1(0x209)](_0x297ffb['groupJid']),{'groupJid':_0x297ffb[_0x378ef1(0x27a)],'leave':!0x0};}catch(_0x48862b){throw new g(_0x378ef1(0x4f6),_0x48862b[_0x378ef1(0x679)]());}}async[a0_0x525ac(0x513)](_0x679da8){const _0x21871f=a0_0x525ac;return await this[_0x21871f(0x298)](_0x679da8[_0x21871f(0x496)],{'poll':{'name':_0x679da8[_0x21871f(0x513)]?.[_0x21871f(0x524)],'selectableCount':_0x679da8[_0x21871f(0x513)][_0x21871f(0x3f5)],'values':_0x679da8[_0x21871f(0x513)][_0x21871f(0x1d1)]}},_0x679da8?.[_0x21871f(0x1c6)]);}async[a0_0x525ac(0x70b)](_0x5259cf,_0x737a3f,_0x1041ac){const _0x290a17=a0_0x525ac;if(await this[_0x290a17(0x497)](_0x5259cf,!0x0)){let _0x37937d={'where':{'key':{'id':_0x5259cf['id'],'remoteJid':_0x737a3f,'fromMe':_0x5259cf['fromMe']},'owner':this[_0x290a17(0x5d1)][_0x290a17(0x4f4)]}},_0x37c31={'status':[_0x1041ac[_0x290a17(0x504)]][0x0]};try{let _0xc3b709=await this[_0x290a17(0x5fe)]['message'][_0x290a17(0x71f)](_0x37937d,_0x37c31);_0xc3b709&&q(this['instanceName'],'messages',{'message':_0xc3b709});}catch{}}}[a0_0x525ac(0x6c5)](_0x3acefe){const _0x19b198=a0_0x525ac;let _0x303194=_0x3acefe['replace'](/\\n/g,'\x0a')[_0x19b198(0x266)]('\x0a')[_0x19b198(0x4c9)](_0x2b8289=>_0x2b8289[_0x19b198(0x672)]('TEL')||_0x2b8289[_0x19b198(0x672)](_0x19b198(0x3af))),_0x249094='';return _0x303194[_0x19b198(0x319)](_0xcabd0d=>{const _0x1d3a2e=_0x19b198;let _0x1a94c5=/TEL(?:.*):(.+)/,_0x3d245f=/EMAIL(?:.*):(.+)/,_0x2528a8=_0xcabd0d[_0x1d3a2e(0x62c)](_0x1a94c5),_0x27aa00=_0xcabd0d[_0x1d3a2e(0x62c)](_0x3d245f);if(_0x2528a8){let _0x31034c=_0x2528a8[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x1d3a2e(0x3ca)]();_0x249094+=_0x1d3a2e(0x6bf)+_0x31034c+'\x0a';}else{if(_0x27aa00){let _0x3eac92=_0x27aa00[0x1][_0x1d3a2e(0x3ca)]();_0x249094+=_0x1d3a2e(0x6aa)+_0x3eac92+'\x0a';}}}),_0x249094[_0x19b198(0x3ca)]();}async['updateChatWithMessage'](_0xb34516,_0x37f6c7,_0x2192f3){const _0x8858b2=a0_0x525ac;let _0x107b0b=_0x37f6c7[_0x8858b2(0x4ba)][_0x8858b2(0x6ff)],_0x39b1de=_0x37f6c7[_0x8858b2(0x4ba)]['fromMe'],_0x8aa8af=_0x107b0b[_0x8858b2(0x1fa)](_0x8858b2(0x6db));if(!_0xb34516[_0x8858b2(0x517)])return;let _0x369eae={'$set':{..._0x39b1de?{'unreadcount':0x0,'lastmsg':_0x37f6c7['messageTimestamp']||Date['now']()}:{'lastmsg':_0x37f6c7[_0x8858b2(0x4fa)]||Date[_0x8858b2(0x50c)]()},..._0x39b1de||_0x8aa8af?{}:{'name':_0x37f6c7[_0x8858b2(0x3d5)]}},'$setOnInsert':{'group':_0x8aa8af,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x39b1de&&!_0x8aa8af?{'leadInfo.nome':_0x37f6c7['pushName']}:{}},..._0x39b1de?{}:{'$inc':{'unreadcount':0x1}}},_0x4fb1a5={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x59687d=await D[_0x8858b2(0x2bf)]({'id':_0x107b0b,'owner':this['instance'][_0x8858b2(0x4f4)]},_0x369eae,_0x4fb1a5);if(_0x59687d?(!_0x8aa8af&&(!_0x59687d['leadInfo']||!_0x59687d['leadInfo'][_0x8858b2(0x2e4)])&&_0x37f6c7[_0x8858b2(0x3d5)]&&!_0x39b1de&&(_0x369eae={'$set':{'leadInfo.nome':_0x37f6c7[_0x8858b2(0x3d5)]}},_0x59687d=await D[_0x8858b2(0x2bf)]({'id':_0x107b0b,'owner':this[_0x8858b2(0x5d1)][_0x8858b2(0x4f4)]},_0x369eae,_0x4fb1a5)),q(this['instanceName'],_0x8858b2(0x2e8),{'chat':_0x59687d})):this[_0x8858b2(0x1de)]['error'](this[_0x8858b2(0x2b3)]+'\x20('+this[_0x8858b2(0x5d1)][_0x8858b2(0x4f4)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat'),!this['AutomateSystem']?.[_0x8858b2(0x2b4)][_0x8858b2(0x2bc)])return this[_0x8858b2(0x1de)][_0x8858b2(0x6bd)](this[_0x8858b2(0x2b3)]+'\x20('+this[_0x8858b2(0x5d1)][_0x8858b2(0x4f4)]+_0x8858b2(0x68a)),null;if(_0x59687d['id'][_0x8858b2(0x672)]('@g.us')&&this[_0x8858b2(0x42a)]?.['flowConfig'][_0x8858b2(0x710)]===!0x0)return this[_0x8858b2(0x1de)][_0x8858b2(0x6bd)](this['instanceName']+'\x20('+this[_0x8858b2(0x5d1)]['wuid']+_0x8858b2(0x6cd)),null;if(_0x59687d['leadInfo']){if(_0x59687d[_0x8858b2(0x2c0)]['desativadoFluxoAte']===0x0||_0x59687d[_0x8858b2(0x2c0)]['atendimentoAberto'])return this[_0x8858b2(0x1de)][_0x8858b2(0x6bd)](this[_0x8858b2(0x2b3)]+'\x20('+this[_0x8858b2(0x5d1)][_0x8858b2(0x4f4)]+_0x8858b2(0x59a)+_0x107b0b+_0x8858b2(0x382)),null;if(_0x59687d[_0x8858b2(0x2c0)]['desativadoFluxoAte']>Date[_0x8858b2(0x50c)]())return this[_0x8858b2(0x1de)][_0x8858b2(0x6bd)](this[_0x8858b2(0x2b3)]+'\x20('+this[_0x8858b2(0x5d1)]['wuid']+'):\x20Est\x20configurado\x20para\x20parar\x20at\x20'+new Date(_0x59687d[_0x8858b2(0x2c0)][_0x8858b2(0x29b)])[_0x8858b2(0x491)]()+_0x8858b2(0x382)),null;}this[_0x8858b2(0x1de)][_0x8858b2(0x6bd)](this[_0x8858b2(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes'),this[_0x8858b2(0x242)](_0x2192f3,_0x37f6c7,this[_0x8858b2(0x5d1)]['wuid']);}async['checkAndUpdateChats'](){const _0x1fe798=a0_0x525ac;let _0x46fdd2=await this[_0x1fe798(0x5fe)][_0x1fe798(0x55a)][_0x1fe798(0x252)]({'where':{'owner':this[_0x1fe798(0x5d1)][_0x1fe798(0x4f4)]}}),_0x1148c3=0x0,_0x27d167=[];for(let _0x52f928 of _0x46fdd2)_0x27d167[_0x1fe798(0x6a1)]({'updateOne':{'filter':{'id':_0x52f928['id'],'owner':this['instance'][_0x1fe798(0x4f4)]},'update':{'$set':{'contactname':_0x52f928[_0x1fe798(0x3d5)]}}}}),_0x27d167[_0x1fe798(0x261)]===0x1f4&&(_0x1148c3+=await this[_0x1fe798(0x4ad)](_0x27d167),_0x27d167=[]);_0x27d167[_0x1fe798(0x261)]>0x0&&(_0x1148c3+=await this[_0x1fe798(0x4ad)](_0x27d167)),this['logger'][_0x1fe798(0x6bd)](this['instanceName']+'\x20('+this[_0x1fe798(0x5d1)][_0x1fe798(0x4f4)]+_0x1fe798(0x6a4)+_0x1148c3+_0x1fe798(0x21e)+this[_0x1fe798(0x5d1)][_0x1fe798(0x4f4)]+'\x20foram\x20adicionados\x20\x22contactname\x22\x20');}async['performBulkUpdate'](_0x521b92){const _0x52f564=a0_0x525ac;return(await D[_0x52f564(0x245)](_0x521b92))[_0x52f564(0x21a)];}async[a0_0x525ac(0x422)](_0x2fe6cf,_0x41a089){const _0x1f16b3=a0_0x525ac;if(_0x41a089[_0x1f16b3(0x517)]){let _0x2e0249=_0x2fe6cf['map'](async _0x25b09a=>{const _0x3f72f1=_0x1f16b3;try{let _0x2d88b8={'$set':{'id':_0x25b09a['id'],'owner':_0x25b09a['owner'],'lastcache':0x0}};if(_0x25b09a[_0x3f72f1(0x22c)]!==null&&(_0x2d88b8[_0x3f72f1(0x589)][_0x3f72f1(0x22c)]=_0x25b09a[_0x3f72f1(0x22c)]),_0x25b09a[_0x3f72f1(0x524)]!==null&&(_0x2d88b8[_0x3f72f1(0x589)][_0x3f72f1(0x524)]=_0x25b09a['name']),_0x25b09a[_0x3f72f1(0x15e)]!==null&&(_0x2d88b8['$set'][_0x3f72f1(0x15e)]=_0x25b09a[_0x3f72f1(0x15e)]),_0x25b09a[_0x3f72f1(0x572)]!==null&&(_0x2d88b8[_0x3f72f1(0x589)]['imagechat']=_0x25b09a[_0x3f72f1(0x572)]),_0x25b09a['imagechat']===null&&(_0x2d88b8[_0x3f72f1(0x589)][_0x3f72f1(0x572)]=_0x3f72f1(0x6ea)),_0x25b09a[_0x3f72f1(0x2f5)]!==null&&(_0x2d88b8[_0x3f72f1(0x589)][_0x3f72f1(0x2f5)]=_0x25b09a[_0x3f72f1(0x2f5)]),_0x25b09a[_0x3f72f1(0x655)]!==null&&(_0x2d88b8['$set'][_0x3f72f1(0x655)]=_0x25b09a[_0x3f72f1(0x655)]),_0x25b09a[_0x3f72f1(0x30a)]!==null&&(_0x2d88b8[_0x3f72f1(0x589)][_0x3f72f1(0x30a)]=_0x25b09a[_0x3f72f1(0x30a)]),Object[_0x3f72f1(0x697)](_0x2d88b8['$set'])[_0x3f72f1(0x261)]>0x0)return await D[_0x3f72f1(0x2bf)]({'id':_0x25b09a['id'],'owner':_0x25b09a[_0x3f72f1(0x3f3)]},_0x2d88b8,{'new':!0x0,'upsert':!0x0});}catch(_0x3b4374){return console[_0x3f72f1(0x3cc)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x25b09a['id']+':',_0x3b4374),null;}}),_0xa77627=(await Promise['all'](_0x2e0249))[_0x1f16b3(0x4c9)](_0x49e8dc=>_0x49e8dc!==null)[_0x1f16b3(0x261)];this['logger'][_0x1f16b3(0x6bd)](this[_0x1f16b3(0x2b3)]+'\x20('+this[_0x1f16b3(0x5d1)][_0x1f16b3(0x4f4)]+_0x1f16b3(0x6a4)+_0xa77627+_0x1f16b3(0x21e)+this[_0x1f16b3(0x5d1)][_0x1f16b3(0x4f4)]+_0x1f16b3(0x6f5));}}async['readMessageBot'](_0x28786b){const _0x11c8cc=a0_0x525ac;this[_0x11c8cc(0x1de)][_0x11c8cc(0x6bd)](this[_0x11c8cc(0x2b3)]+'\x20('+this[_0x11c8cc(0x5d1)][_0x11c8cc(0x4f4)]+_0x11c8cc(0x5ba));let _0x2db6f3={'readMessages':[{'remoteJid':_0x28786b['chatLog'][_0x11c8cc(0x33b)][_0x11c8cc(0x4ba)]['remoteJid'],'fromMe':_0x28786b[_0x11c8cc(0x1e0)]['lastReceivedMessage'][_0x11c8cc(0x4ba)][_0x11c8cc(0x4bd)],'id':_0x28786b['chatLog'][_0x11c8cc(0x33b)][_0x11c8cc(0x4ba)]['id']}]};await this['markMessageAsRead'](_0x2db6f3);}async['StartBot'](_0x59a25d,_0x50e414,_0x17e4a6){const _0x3cd77a=a0_0x525ac;try{let {key:_0x31f6ae,message_normalized:_0x7e7acf}=_0x50e414,_0x287a12=_0x7e7acf,_0x3740e6=_0x7e7acf[_0x3cd77a(0x342)]||_0x7e7acf[_0x3cd77a(0x586)]||_0x7e7acf[_0x3cd77a(0x33a)]||_0x7e7acf['name'],_0x45c944=_0x31f6ae[_0x3cd77a(0x6ff)],_0x22f14e;if(_0x287a12[_0x3cd77a(0x4ba)]['fromMe']&&_0x3740e6[_0x3cd77a(0x3ca)]()!==this[_0x3cd77a(0x42a)]?.['flowConfig'][_0x3cd77a(0x4b5)][_0x3cd77a(0x3ca)]())return this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this[_0x3cd77a(0x5d1)][_0x3cd77a(0x4f4)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.'),null;if(_0x287a12['key'][_0x3cd77a(0x4bd)]&&_0x3740e6[_0x3cd77a(0x3ca)]()===this[_0x3cd77a(0x42a)]?.[_0x3cd77a(0x2b4)][_0x3cd77a(0x4b5)][_0x3cd77a(0x3ca)]()){this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this[_0x3cd77a(0x5d1)][_0x3cd77a(0x4f4)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0xcce77e=await F[_0x3cd77a(0x252)]({'owner':_0x17e4a6,'remoteJid':_0x45c944,'status':_0x3cd77a(0x182)});this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this['instance'][_0x3cd77a(0x4f4)]+_0x3cd77a(0x4ed)+_0xcce77e);let _0x2d01ee=Date[_0x3cd77a(0x50c)](),_0x3332ea;return this[_0x3cd77a(0x42a)]?.[_0x3cd77a(0x2b4)][_0x3cd77a(0x1c8)]===0x0?_0x3332ea={'stoppedUntil':_0x2d01ee+0x7591f6200}:_0x3332ea={'stoppedUntil':_0x2d01ee+this[_0x3cd77a(0x42a)]?.[_0x3cd77a(0x2b4)][_0x3cd77a(0x1c8)]*0x3c*0x3e8},this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this[_0x3cd77a(0x5d1)][_0x3cd77a(0x4f4)]+_0x3cd77a(0x4be)+_0x3332ea),this['updateStopChat'](_0x22f14e,_0x3332ea[_0x3cd77a(0x67c)]),null;}if(_0x3740e6&&_0x3740e6[_0x3cd77a(0x407)](this[_0x3cd77a(0x42a)]?.[_0x3cd77a(0x2b4)][_0x3cd77a(0x453)])&&_0x3740e6[_0x3cd77a(0x261)]>0x4){let _0x4671cc=await I[_0x3cd77a(0x555)]({'owner':_0x17e4a6,'startCommandWord':_0x3740e6});if(this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this['instance'][_0x3cd77a(0x4f4)]+'):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x4671cc)_0x22f14e=await this[_0x3cd77a(0x2b0)](_0x4671cc,_0x287a12[_0x3cd77a(0x4ba)],_0x287a12);else return this[_0x3cd77a(0x1de)][_0x3cd77a(0x6bd)](this[_0x3cd77a(0x2b3)]+'\x20('+this[_0x3cd77a(0x5d1)]['wuid']+_0x3cd77a(0x269)),null;}else _0x22f14e=await this[_0x3cd77a(0x187)](_0x17e4a6,_0x45c944,_0x287a12);if(_0x22f14e){this[_0x3cd77a(0x1de)]['verbose'](this[_0x3cd77a(0x2b3)]+'\x20('+this[_0x3cd77a(0x5d1)][_0x3cd77a(0x4f4)]+_0x3cd77a(0x255)),!_0x31f6ae[_0x3cd77a(0x4bd)]&&_0x22f14e[_0x3cd77a(0x706)]&&this[_0x3cd77a(0x273)](_0x22f14e);let _0x30b121=await this[_0x3cd77a(0x2dc)](_0x22f14e);_0x30b121&&await this[_0x3cd77a(0x30c)](_0x22f14e,_0x30b121,_0x22f14e['remoteJid']);}}catch(_0x2e1c1c){this[_0x3cd77a(0x1de)][_0x3cd77a(0x3cc)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+_0x2e1c1c);}}['flattenObject'](_0x2e5d87,_0x1a8f36='',_0x3f51ee={},_0x4c69dc=!0x0){const _0x2d15b9=a0_0x525ac;for(let _0x4c0da8 in _0x2e5d87){let _0x3ef3de=_0x4c69dc?'_'+_0x4c0da8:''+_0x1a8f36+_0x4c0da8;typeof _0x2e5d87[_0x4c0da8]==_0x2d15b9(0x600)&&_0x2e5d87[_0x4c0da8]!==null?this['flattenObject'](_0x2e5d87[_0x4c0da8],_0x3ef3de+'.',_0x3f51ee,!0x1):_0x3f51ee[_0x3ef3de]=_0x2e5d87[_0x4c0da8];}return _0x3f51ee;}[a0_0x525ac(0x509)](_0x1dc054){const _0x1032b2=a0_0x525ac;let _0x540e39={};for(let _0x26bdb6 of _0x1dc054)typeof _0x26bdb6['name']==_0x1032b2(0x5fb)&&typeof _0x26bdb6['value']=='string'&&(_0x540e39[_0x26bdb6['name']]=_0x26bdb6[_0x1032b2(0x3a7)]);return _0x540e39;}async[a0_0x525ac(0x2dc)](_0x270e1a){const _0x22234b=a0_0x525ac;if(!this[_0x22234b(0x42a)]?.['flowConfig'][_0x22234b(0x2bc)]||_0x270e1a[_0x22234b(0x504)]!==_0x22234b(0x182)&&_0x270e1a['waitingPoll_id']==='')return null;let _0x1f41df=_0x270e1a[_0x22234b(0x1e0)][_0x22234b(0x26c)]||_0x22234b(0x5a8);typeof _0x270e1a[_0x22234b(0x1e0)][_0x22234b(0x198)]>'u'&&(_0x270e1a['chatLog'][_0x22234b(0x198)]=!0x0);let _0xcaab7e=_0x270e1a['chatLog']['lastCondition'];this[_0x22234b(0x1de)]['verbose'](this[_0x22234b(0x2b3)]+'\x20('+this[_0x22234b(0x5d1)][_0x22234b(0x4f4)]+_0x22234b(0x30b)+_0x1f41df+_0x22234b(0x40d)+_0xcaab7e);let _0x5545f0=_0x1f41df===_0x22234b(0x5a8)?_0x270e1a[_0x22234b(0x19b)][_0x22234b(0x252)](_0x382256=>_0x382256['type']===_0x22234b(0x5a8)):_0x270e1a[_0x22234b(0x19b)][_0x22234b(0x252)](_0x481c6f=>_0x481c6f[_0x22234b(0x635)][_0x22234b(0x679)]()===_0x1f41df[_0x22234b(0x679)]());if(!_0x5545f0)return this['logger']['error'](this[_0x22234b(0x2b3)]+'\x20('+this[_0x22234b(0x5d1)][_0x22234b(0x4f4)]+_0x22234b(0x230)+_0x1f41df),null;let _0xf3124d={'_pushName':_0x270e1a[_0x22234b(0x1e0)][_0x22234b(0x33b)][_0x22234b(0x3d5)],..._0x270e1a[_0x22234b(0x1e0)]['realVariables']},_0x413b82=null;if(_0x270e1a['waitingPoll_id']){let _0x4a70d3=_0x270e1a['chatLog']['lastReceivedMessage'][_0x22234b(0x33a)],_0x2fdec9=_0x270e1a[_0x22234b(0x5ff)][_0x22234b(0x252)](_0x33f324=>_0x33f324['option']===_0x4a70d3);if(_0x2fdec9){let _0x2d1b5d=_0x2fdec9[_0x22234b(0x2fc)];if(_0x413b82=_0x270e1a['blocks']['find'](_0x4c8885=>_0x4c8885[_0x22234b(0x289)]===_0x2d1b5d&&_0x4c8885[_0x22234b(0x3da)]===0x1),_0x5545f0[_0x22234b(0x490)]['pollOnReplyDelete']){let _0x2b6e5f={'id':_0x270e1a['waitingPoll_id'],'remoteJid':_0x270e1a[_0x22234b(0x6ff)],'fromMe':!0x0};await this[_0x22234b(0x492)](_0x2b6e5f);}if(_0x5545f0[_0x22234b(0x490)][_0x22234b(0x5b3)]&&_0x5545f0['uazapi'][_0x22234b(0x541)]){let _0x294eab={'number':_0x270e1a[_0x22234b(0x6ff)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x270e1a[_0x22234b(0x4fc)]+'\x0a*Voc\x20respondeu*:\x0a'+_0x4a70d3}};await this[_0x22234b(0x25d)](_0x294eab);}_0x270e1a['status']=_0x22234b(0x182),_0x270e1a[_0x22234b(0x50a)]='',_0x270e1a['waitingPoll_name']='',_0x270e1a[_0x22234b(0x5ff)]=[];}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x22234b(0x5d1)]['wuid']+_0x22234b(0x654));let _0x584df6={'activatedCount':_0x270e1a[_0x22234b(0x1e0)]['blockLogs'][_0x22234b(0x4c9)](_0x2ca7c7=>String(_0x2ca7c7[_0x22234b(0x290)])===String(_0x1f41df))['length'],'moreLogs':[_0x22234b(0x408)]};if(_0x5545f0[_0x22234b(0x490)][_0x22234b(0x59f)]){let _0x1223fe={'number':_0x270e1a[_0x22234b(0x6ff)],'options':{'delay':0x0},'textMessage':{'text':_0x5545f0[_0x22234b(0x490)][_0x22234b(0x59f)]}};await this[_0x22234b(0x25d)](_0x1223fe);}if(_0x5545f0[_0x22234b(0x561)]!==void 0x0&&_0x584df6[_0x22234b(0x268)]>=_0x5545f0[_0x22234b(0x561)]){let _0x1e7e62=Date[_0x22234b(0x50c)](),_0x36d043=_0x5545f0[_0x22234b(0x4de)]??0xa;isNaN(_0x36d043)&&(_0x36d043=0xa);let _0x1beabb=_0x1e7e62+_0x36d043*0x3c*0x3e8;_0x584df6[_0x22234b(0x372)]=_0x1beabb,_0x584df6[_0x22234b(0x37c)][_0x22234b(0x6a1)]('Atingido\x20interaes\x20mximas,\x20parando\x20fluxo'),this[_0x22234b(0x436)](_0x270e1a,_0x1beabb),_0x270e1a[_0x22234b(0x50a)]='',_0x270e1a[_0x22234b(0x4fc)]='',_0x270e1a[_0x22234b(0x5ff)]=[];}return this['updateConversation'](_0x270e1a,_0x5545f0,_0x584df6,!0x0),null;}}if(_0xcaab7e&&_0x5545f0[_0x22234b(0x2fc)]&&!_0x270e1a[_0x22234b(0x50a)]){let _0xfc1ec8=_0x270e1a[_0x22234b(0x19b)]['filter'](_0x506645=>_0x506645[_0x22234b(0x289)]['toString']()===_0x5545f0['next_groupId']['toString']())[_0x22234b(0x179)]((_0x3f1b10,_0x16a5d6)=>_0x3f1b10[_0x22234b(0x3da)]-_0x16a5d6[_0x22234b(0x3da)]);_0xfc1ec8[_0x22234b(0x261)]>0x0&&(_0x413b82=_0xfc1ec8[0x0]);}if(!_0x413b82){let _0x6fcf03=_0x5545f0[_0x22234b(0x289)],_0x4834d9=_0x270e1a[_0x22234b(0x19b)][_0x22234b(0x4c9)](_0x202bd1=>_0x202bd1['groupId']===_0x6fcf03&&_0x202bd1['order']>_0x5545f0[_0x22234b(0x3da)])[_0x22234b(0x179)]((_0x14e4de,_0x55f87a)=>_0x14e4de[_0x22234b(0x3da)]-_0x55f87a[_0x22234b(0x3da)]);_0x4834d9[_0x22234b(0x261)]>0x0&&(_0x413b82=_0x4834d9[0x0]);}if(!_0x413b82)return _0x270e1a[_0x22234b(0x504)]=_0x22234b(0x1c1),null;_0x270e1a['chatLog'][_0x22234b(0x52c)]=_0xf3124d;let _0x57d382=JSON['parse'](JSON[_0x22234b(0x56f)](_0x413b82));return this[_0x22234b(0x4af)](_0x57d382,_0x270e1a['chatLog'][_0x22234b(0x52c)]),_0x270e1a[_0x22234b(0x1e0)][_0x22234b(0x26c)]=_0x57d382[_0x22234b(0x635)],_0x270e1a[_0x22234b(0x1e0)][_0x22234b(0x198)]=!0x0,_0x57d382;}[a0_0x525ac(0x22a)](_0x3708bd,_0x540a0e){return _0x3708bd['replace'](/\{\{([^}]+)\}\}/g,(_0x505cf1,_0x4d42de)=>_0x540a0e[_0x4d42de]||'');}[a0_0x525ac(0x4af)](_0x130f8d,_0x35a57d){const _0x312846=a0_0x525ac;for(let _0x284b34 in _0x130f8d)typeof _0x130f8d[_0x284b34]=='string'?_0x130f8d[_0x284b34]=this['replaceVariables'](_0x130f8d[_0x284b34],_0x35a57d):typeof _0x130f8d[_0x284b34]==_0x312846(0x600)&&this[_0x312846(0x4af)](_0x130f8d[_0x284b34],_0x35a57d);}async['goNextblock'](_0x3b96d7,_0x41e044){const _0x721cd5=a0_0x525ac;let _0xa6a9d1=_0x41e044[_0x721cd5(0x635)];if(_0x3b96d7['chatLog']&&_0x3b96d7['chatLog'][_0x721cd5(0x44a)]){let _0x265d4d=_0x3b96d7[_0x721cd5(0x1e0)][_0x721cd5(0x44a)][_0x721cd5(0x4c9)](_0x3cb4c5=>String(_0x3cb4c5[_0x721cd5(0x290)])===String(_0xa6a9d1))[_0x721cd5(0x36f)]();if(_0x265d4d&&_0x265d4d['error']&&_0x41e044['stopIfLastReturnedError'])return _0x3b96d7['status']=_0x721cd5(0x1c1),await this['saveConversationToDatabase'](_0x3b96d7),null;}if(_0x41e044[_0x721cd5(0x594)]===_0x721cd5(0x490)&&_0x41e044[_0x721cd5(0x490)][_0x721cd5(0x660)]===_0x721cd5(0x423)&&_0x3b96d7['waitingPoll_id'])return _0x3b96d7['chatLog']['lastBlockId']=_0xa6a9d1,await this[_0x721cd5(0x625)](_0x3b96d7),null;let _0x5191ce=await this[_0x721cd5(0x2dc)](_0x3b96d7);if(_0x3b96d7['chatLog']&&_0x3b96d7['chatLog']['blockLogs']){let _0x5bb157=_0x3b96d7['chatLog'][_0x721cd5(0x44a)][_0x721cd5(0x4c9)](_0x49f03f=>String(_0x49f03f[_0x721cd5(0x290)])===String(_0xa6a9d1))[_0x721cd5(0x261)];if(_0x41e044[_0x721cd5(0x561)]!==void 0x0&&_0x5bb157>=_0x41e044[_0x721cd5(0x561)]){let _0x4abf4a=Date['now'](),_0x3841b4=_0x41e044['stopMinutesMaxActives']??0xa;isNaN(_0x3841b4)&&(_0x3841b4=0xa);let _0x293655=_0x4abf4a+_0x3841b4*0x3c*0x3e8,_0x26ad48={'newStoppedUntil':_0x293655};return this['updateStopChat'](_0x3b96d7,_0x293655),this[_0x721cd5(0x66a)](_0x3b96d7,_0x41e044,_0x26ad48,!0x0),null;}}_0x5191ce&&_0x5191ce[_0x721cd5(0x594)]!==_0x721cd5(0x2cf)&&await this['processblock'](_0x3b96d7,_0x5191ce,_0x3b96d7[_0x721cd5(0x6ff)]),_0x5191ce||await this[_0x721cd5(0x625)](_0x3b96d7),_0x5191ce&&_0x5191ce[_0x721cd5(0x594)]===_0x721cd5(0x2cf)&&(_0x3b96d7[_0x721cd5(0x1e0)][_0x721cd5(0x26c)]=_0xa6a9d1,await this[_0x721cd5(0x625)](_0x3b96d7));}async[a0_0x525ac(0x30c)](_0x264970,_0x3371b5,_0x135b13){const _0xcaec74=a0_0x525ac;try{let _0xa2bc96=_0x3371b5[_0xcaec74(0x594)];this['logger'][_0xcaec74(0x6bd)](this[_0xcaec74(0x2b3)]+'\x20('+this[_0xcaec74(0x5d1)][_0xcaec74(0x4f4)]+'):\x20Going\x20to\x20'+_0xa2bc96);let _0x261f58={'uazapi':()=>this[_0xcaec74(0x6b8)](_0x264970,_0x3371b5,_0x135b13),'save':()=>this[_0xcaec74(0x514)](_0x264970,_0x3371b5),'stop':()=>this[_0xcaec74(0x4b5)](_0x264970,_0x3371b5),'condition':()=>this['processConditions'](_0x264970,_0x3371b5),'varedit':()=>this[_0xcaec74(0x557)](_0x264970,_0x3371b5),'apirequest':()=>this[_0xcaec74(0x4b6)](_0x264970,_0x3371b5),'goToFlow':()=>this[_0xcaec74(0x4c3)](_0x264970,_0x3371b5)}[_0xa2bc96];_0x261f58&&await _0x261f58();}catch(_0x46cebd){this[_0xcaec74(0x1de)][_0xcaec74(0x3cc)](this[_0xcaec74(0x2b3)]+'\x20('+this[_0xcaec74(0x5d1)][_0xcaec74(0x4f4)]+'):\x20Error\x20processing\x20the\x20block:\x20'+_0x46cebd);}}async[a0_0x525ac(0x4c3)](_0xff11b7,_0x2973c0){const _0x53965a=a0_0x525ac;if(this[_0x53965a(0x1de)][_0x53965a(0x6bd)](this['instanceName']+'\x20('+this['instance'][_0x53965a(0x4f4)]+_0x53965a(0x60c)),!_0xff11b7||!_0x2973c0)return this[_0x53965a(0x1de)][_0x53965a(0x3cc)](this[_0x53965a(0x2b3)]+'\x20('+this['instance'][_0x53965a(0x4f4)]+_0x53965a(0x41c)),null;await this['updateConversation'](_0xff11b7,_0x2973c0,{},!0x0,!0x0),console[_0x53965a(0x571)](_0x53965a(0x3b3)),console['log'](_0x2973c0);let _0xad2fd9=_0x2973c0[_0x53965a(0x414)];console[_0x53965a(0x571)](_0x53965a(0x5ea),_0xad2fd9),_0xff11b7=await this[_0x53965a(0x71a)](_0xad2fd9,_0xff11b7[_0x53965a(0x6ff)],_0xff11b7['chatLog'][_0x53965a(0x52c)]),this[_0x53965a(0x1de)]['verbose'](this[_0x53965a(0x2b3)]+'\x20('+this[_0x53965a(0x5d1)][_0x53965a(0x4f4)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x10c051=await this[_0x53965a(0x2dc)](_0xff11b7);_0x10c051&&await this[_0x53965a(0x30c)](_0xff11b7,_0x10c051,_0xff11b7[_0x53965a(0x6ff)]);}async[a0_0x525ac(0x71a)](_0x467659,_0x3a9bfb,_0x22cb92){const _0x55c6c6=a0_0x525ac;this[_0x55c6c6(0x1de)][_0x55c6c6(0x6bd)](this[_0x55c6c6(0x2b3)]+'\x20('+this[_0x55c6c6(0x5d1)][_0x55c6c6(0x4f4)]+_0x55c6c6(0x3eb));try{if(_0x467659=await I[_0x55c6c6(0x555)]({'owner':this[_0x55c6c6(0x5d1)][_0x55c6c6(0x4f4)],'name':_0x467659}),!_0x467659)return this[_0x55c6c6(0x1de)][_0x55c6c6(0x3cc)](this[_0x55c6c6(0x2b3)]+'\x20('+this[_0x55c6c6(0x5d1)][_0x55c6c6(0x4f4)]+_0x55c6c6(0x45b)),null;let _0x566685=require(_0x55c6c6(0x721))['ObjectId'],_0x590a7c=Date['now'](),_0x5ab656=_0x55c6c6(0x5a8),_0x54a1a4={},_0x1998d2={},_0x19c5c6={..._0x467659['_doc'],'chatLog':null},_0xd61ec6={'lastReceivedMessage':_0x54a1a4,'lastSendMessage':_0x1998d2,'lastBlockId':_0x5ab656,'lastCondition':!0x0,'realVariables':_0x22cb92};_0x19c5c6[_0x55c6c6(0x1e0)]=_0xd61ec6,_0x19c5c6[_0x55c6c6(0x1e0)][_0x55c6c6(0x52c)]={..._0x22cb92},delete _0x19c5c6['_id'],_0x19c5c6[_0x55c6c6(0x635)]=new _0x566685(),_0x19c5c6[_0x55c6c6(0x296)]=_0x590a7c,_0x19c5c6[_0x55c6c6(0x504)]=_0x55c6c6(0x182),_0x19c5c6['remoteJid']=_0x3a9bfb;let _0x37596b=await F['create'](_0x19c5c6);return this['logger'][_0x55c6c6(0x6bd)](this[_0x55c6c6(0x2b3)]+'\x20('+this['instance'][_0x55c6c6(0x4f4)]+_0x55c6c6(0x2bd)),_0x37596b?_0x19c5c6:null;}catch(_0x365825){throw this['logger']['error'](this[_0x55c6c6(0x2b3)]+'\x20('+this[_0x55c6c6(0x5d1)][_0x55c6c6(0x4f4)]+_0x55c6c6(0x42f)+_0x365825),new g(_0x365825[_0x55c6c6(0x197)]);}}async[a0_0x525ac(0x4b6)](_0x248352,_0x50e129){const _0x5efb39=a0_0x525ac;let _0x5b6307,_0x5a59ac;try{let _0x388a1a=_0x50e129[_0x5efb39(0x327)];if(!_0x388a1a||!_0x388a1a['url']||!_0x388a1a[_0x5efb39(0x648)])throw new Error(_0x5efb39(0x50d));let _0xbdee2c={'method':_0x388a1a[_0x5efb39(0x648)],'url':_0x388a1a[_0x5efb39(0x6f1)],'headers':_0x388a1a[_0x5efb39(0x458)]||{},'data':_0x388a1a[_0x5efb39(0x6a7)]||{}};_0x5b6307=(await(0x0,ue[_0x5efb39(0x6de)])(_0xbdee2c))['data'];let _0x320d2d=_0x248352[_0x5efb39(0x1e0)]['realVariables'],_0x30191f=this['flattenObject'](_0x5b6307);return Object[_0x5efb39(0x2da)](_0x320d2d,_0x30191f),_0x248352[_0x5efb39(0x1e0)][_0x5efb39(0x52c)]=_0x320d2d,_0x5a59ac={'error':!0x1,'apiResponse':_0x5b6307},this[_0x5efb39(0x66a)](_0x248352,_0x50e129,_0x5a59ac),_0x5b6307;}catch(_0x29e248){console[_0x5efb39(0x3cc)](_0x5efb39(0x27d),_0x29e248),_0x29e248[_0x5efb39(0x3db)]&&(_0x5b6307=_0x29e248[_0x5efb39(0x3db)][_0x5efb39(0x16e)]);let _0x2e5af7=_0x248352['chatLog'][_0x5efb39(0x52c)],_0x204a19=this[_0x5efb39(0x46e)](_0x5b6307);return Object['assign'](_0x2e5af7,_0x204a19),_0x248352[_0x5efb39(0x1e0)][_0x5efb39(0x52c)]=_0x2e5af7,_0x5a59ac={'error':!0x0,'errorLog':_0x29e248[_0x5efb39(0x679)](),'apiResponse':_0x5b6307},this['updateConversation'](_0x248352,_0x50e129,_0x5a59ac),{'success':!0x1};}}['applyvaredit'](_0xa3213d,_0x2f3608){const _0x1b6def=a0_0x525ac;let _0x15ff16=_0x37dd90=>{const _0x5b92a5=a0_0x59e4;let _0x54925a=_0x37dd90[_0x5b92a5(0x1db)](/[^0-9.,-]/g,'')[_0x5b92a5(0x1db)](',','.'),_0x478aef=parseFloat(_0x54925a);return isNaN(_0x478aef)?null:_0x478aef;},_0x510ad1=_0x2f3608[_0x1b6def(0x5bb)],_0x2fe84d=_0x2f3608[_0x1b6def(0x3ef)];typeof _0x510ad1=='string'&&(_0x510ad1=this[_0x1b6def(0x22a)](_0x510ad1,_0xa3213d[_0x1b6def(0x1e0)][_0x1b6def(0x52c)])??''),typeof _0x2fe84d==_0x1b6def(0x5fb)&&(_0x2fe84d=this['replaceVariables'](_0x2fe84d,_0xa3213d[_0x1b6def(0x1e0)][_0x1b6def(0x52c)])??'');let _0x2d9c74=null;if(!_0x510ad1||!_0x2f3608[_0x1b6def(0x500)])return null;switch(this[_0x1b6def(0x1de)][_0x1b6def(0x6bd)](this[_0x1b6def(0x2b3)]+'\x20('+this[_0x1b6def(0x5d1)]['wuid']+_0x1b6def(0x3ec)+_0x510ad1),this[_0x1b6def(0x1de)][_0x1b6def(0x6bd)](this[_0x1b6def(0x2b3)]+'\x20('+this[_0x1b6def(0x5d1)][_0x1b6def(0x4f4)]+_0x1b6def(0x316)+_0x2fe84d),_0x2f3608[_0x1b6def(0x500)]){case'+':case'-':case'*':case'/':let _0x472fff=_0x15ff16(_0x510ad1),_0x1a0c28=_0x15ff16(_0x2fe84d||'0');if(_0x472fff===null)return null;switch(_0x2f3608[_0x1b6def(0x500)]){case'+':_0x2d9c74=_0x472fff+(_0x1a0c28??0x0);break;case'-':_0x2d9c74=_0x472fff-(_0x1a0c28??0x0);break;case'*':_0x2d9c74=_0x472fff*(_0x1a0c28??0x1);break;case'/':_0x1a0c28!==0x0&&(_0x2d9c74=_0x472fff/(_0x1a0c28??0x1));break;}break;case _0x1b6def(0x31c):case'findAndReplaceRegex':let _0x175628=_0x2fe84d,_0x3659e3=_0x2f3608[_0x1b6def(0x2e0)];if(typeof _0x3659e3=='string'&&(_0x3659e3=this[_0x1b6def(0x22a)](_0x3659e3,_0xa3213d[_0x1b6def(0x1e0)]['realVariables'])??''),_0x175628&&_0x3659e3!==void 0x0){let _0x1a446c=_0x2f3608[_0x1b6def(0x500)]===_0x1b6def(0x31c)?new RegExp(_0x175628[_0x1b6def(0x1db)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1b6def(0x570)),'g'):new RegExp(_0x175628,'g');_0x2d9c74=_0x510ad1[_0x1b6def(0x1db)](_0x1a446c,_0x3659e3);}else console[_0x1b6def(0x664)](_0x1b6def(0x60d));break;case'setNewValue':_0x2d9c74=_0x2fe84d;break;case _0x1b6def(0x164):let _0x50c6da=_0x510ad1[_0x1b6def(0x62c)](new RegExp(_0x2fe84d||''));_0x2d9c74=_0x50c6da?_0x50c6da[0x0]:'';break;case _0x1b6def(0x43f):_0x2d9c74=_0x510ad1[_0x1b6def(0x550)](0x0,parseInt(_0x2fe84d||'0'));break;case _0x1b6def(0x155):let _0x19b32a=parseInt(_0x2fe84d||'0');_0x2d9c74=_0x510ad1[_0x1b6def(0x550)](_0x510ad1[_0x1b6def(0x261)]-_0x19b32a);break;case'toBrazilianNumberFormat':let _0x107c68=_0x15ff16(_0x510ad1),_0x34f0f9=parseInt(_0x2fe84d||'0');_0x34f0f9=Math[_0x1b6def(0x27b)](_0x34f0f9),_0x107c68!==null?_0x2d9c74=_0x107c68['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x34f0f9,'maximumFractionDigits':_0x34f0f9}):(console[_0x1b6def(0x664)]('Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20'+_0x510ad1),_0x2d9c74=null);break;case _0x1b6def(0x4a5):let _0xc9e057=_0x15ff16(_0x510ad1);_0xc9e057!==null?_0x2d9c74=_0xc9e057['toLocaleString']('pt-BR',{'style':_0x1b6def(0x4a4),'currency':_0x1b6def(0x1e8)}):(console[_0x1b6def(0x664)]('Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20'+_0x510ad1),_0x2d9c74=null);break;case _0x1b6def(0x173):_0x2d9c74=_0x510ad1[_0x1b6def(0x518)]();break;case _0x1b6def(0x4e0):_0x2d9c74=_0x510ad1['toLowerCase']();break;case _0x1b6def(0x3a0):_0x2d9c74=_0x510ad1[_0x1b6def(0x266)]('\x20')[_0x1b6def(0x595)](_0x4670c1=>_0x4670c1[_0x1b6def(0x36e)](0x0)[_0x1b6def(0x518)]()+_0x4670c1[_0x1b6def(0x550)](0x1)['toLowerCase']())[_0x1b6def(0x5c2)]('\x20');break;case _0x1b6def(0x6fe):_0x2d9c74=_0x510ad1[_0x1b6def(0x3ca)]();break;default:_0x2d9c74=_0x510ad1;}return _0x2d9c74!==null?_0x2d9c74['toString']():null;}async[a0_0x525ac(0x557)](_0x52426b,_0x67446f){const _0x57c30a=a0_0x525ac;try{let _0x2ddd11=_0x52426b[_0x57c30a(0x31b)]?.['filter'](_0x5889fe=>_0x5889fe[_0x57c30a(0x290)]===_0x67446f[_0x57c30a(0x635)]?.[_0x57c30a(0x679)]())||[],_0x46fae4=_0x67446f[_0x57c30a(0x1a7)],_0x169e37=null,_0x5515c2=[],_0x4f468e=_0x52426b[_0x57c30a(0x1e0)][_0x57c30a(0x52c)][_0x46fae4];_0x5515c2[_0x57c30a(0x6a1)](_0x57c30a(0x69d)+_0x4f468e+'\x22');for(let _0x15ee55 of _0x2ddd11){_0x15ee55[_0x57c30a(0x5bb)]=_0x4f468e,_0x169e37=_0x15ee55[_0x57c30a(0x5bb)];let _0x315576;try{_0x315576=this[_0x57c30a(0x27c)](_0x52426b,_0x15ee55);}catch(_0x871072){console[_0x57c30a(0x3cc)](_0x57c30a(0x63e)+_0x871072[_0x57c30a(0x197)]);continue;}if(_0x315576!==null){let _0x7106ab=_0x57c30a(0x2ac)+_0x15ee55[_0x57c30a(0x500)]+'\x22',_0x2b9062=[_0x57c30a(0x4a5),_0x57c30a(0x173),_0x57c30a(0x4e0),_0x57c30a(0x3a0),_0x57c30a(0x6fe)];_0x15ee55[_0x57c30a(0x500)]===_0x57c30a(0x31c)||_0x15ee55[_0x57c30a(0x500)]==='findAndReplaceRegex'?_0x7106ab+=_0x57c30a(0x34e)+_0x15ee55[_0x57c30a(0x3ef)]+_0x57c30a(0x6d2)+_0x15ee55[_0x57c30a(0x2e0)]+'\x22':!_0x2b9062[_0x57c30a(0x672)](_0x15ee55[_0x57c30a(0x500)])&&_0x15ee55[_0x57c30a(0x3ef)]!==null&&_0x15ee55['secondValue']!==void 0x0&&(_0x7106ab+=_0x57c30a(0x3ee)+_0x15ee55[_0x57c30a(0x3ef)]+'\x22'),_0x7106ab+=_0x57c30a(0x6da)+_0x315576+'.',_0x5515c2[_0x57c30a(0x6a1)](_0x7106ab);}_0x315576!==null&&(_0x4f468e=_0x315576);}if(_0x52426b[_0x57c30a(0x1e0)][_0x57c30a(0x52c)]&&_0x67446f[_0x57c30a(0x1a7)]){_0x52426b[_0x57c30a(0x1e0)]['realVariables'][_0x67446f[_0x57c30a(0x1a7)]]=_0x4f468e;let _0x4c6722={'variable':_0x67446f[_0x57c30a(0x1a7)],'oldValue':_0x169e37,'newValue':_0x4f468e,'moreLogs':_0x5515c2};try{this[_0x57c30a(0x66a)](_0x52426b,_0x67446f,_0x4c6722);}catch(_0x5ad465){console[_0x57c30a(0x3cc)](_0x57c30a(0x71c)+_0x5ad465[_0x57c30a(0x197)]);}}return _0x46fae4;}catch(_0x11e62a){return console[_0x57c30a(0x3cc)](_0x57c30a(0x2e3)+_0x11e62a[_0x57c30a(0x197)]),null;}}async['processConditions'](_0x703c94,_0x222fb2){const _0x21b14d=a0_0x525ac;try{let _0x17db23=[],_0x1e8302=_0x703c94[_0x21b14d(0x225)]['filter'](_0x1f0091=>_0x1f0091[_0x21b14d(0x290)]===_0x222fb2[_0x21b14d(0x635)][_0x21b14d(0x679)]()),_0x510c2e=null,_0x4b1c6e=!0x1;for(let _0x430c23 of _0x1e8302){let _0x133f75=this[_0x21b14d(0x1c4)](_0x703c94,_0x430c23);_0x17db23[_0x21b14d(0x6a1)](_0x21b14d(0x401)+_0x430c23['firstValue']+_0x21b14d(0x5fd)+_0x430c23[_0x21b14d(0x618)]+',\x20Segundo\x20Valor:\x20'+_0x430c23[_0x21b14d(0x3ef)]+_0x21b14d(0x3ad)+_0x133f75),_0x510c2e===null?_0x510c2e=_0x133f75:_0x430c23[_0x21b14d(0x63f)]===_0x21b14d(0x189)?(_0x510c2e=_0x510c2e&&_0x133f75,_0x133f75||(_0x4b1c6e=!0x0)):_0x430c23[_0x21b14d(0x63f)]==='or'&&(_0x4b1c6e||(_0x510c2e=_0x510c2e||_0x133f75));}_0x510c2e===null&&(_0x510c2e=!0x0);let _0x8391f={'moreLogs':_0x17db23};_0x510c2e?(_0x703c94[_0x21b14d(0x1e0)][_0x21b14d(0x198)]=!0x0,this[_0x21b14d(0x66a)](_0x703c94,_0x222fb2,_0x8391f)):(_0x703c94[_0x21b14d(0x1e0)][_0x21b14d(0x198)]=!0x1,this['updateConversation'](_0x703c94,_0x222fb2,_0x8391f));}catch(_0x149229){this[_0x21b14d(0x1de)]['error'](this[_0x21b14d(0x2b3)]+'\x20('+this[_0x21b14d(0x5d1)]['wuid']+_0x21b14d(0x65e)+_0x149229);}}['evaluateCondition'](_0x6d57c8,_0xa9d804){const _0x500478=a0_0x525ac;let _0x2ef385=_0xa9d804[_0x500478(0x5bb)],_0x421328=_0xa9d804['secondValue'];typeof _0x2ef385==_0x500478(0x5fb)&&(_0x2ef385=this[_0x500478(0x22a)](_0x2ef385,_0x6d57c8[_0x500478(0x1e0)][_0x500478(0x52c)])??''),typeof _0x421328==_0x500478(0x5fb)&&(_0x421328=this[_0x500478(0x22a)](_0x421328,_0x6d57c8[_0x500478(0x1e0)][_0x500478(0x52c)])??'');try{switch(_0xa9d804[_0x500478(0x618)]){case'equal':return _0x2ef385===_0x421328;case _0x500478(0x53c):return _0x2ef385!==_0x421328;case'contains':return _0x2ef385[_0x500478(0x672)](_0x421328);case _0x500478(0x21f):return!_0x2ef385[_0x500478(0x672)](_0x421328);case _0x500478(0x645):return parseFloat(_0x2ef385)>parseFloat(_0x421328);case _0x500478(0x470):return parseFloat(_0x2ef385)<parseFloat(_0x421328);case _0x500478(0x2d2):return _0x2ef385!=='';case'empty':return _0x2ef385==='';case _0x500478(0x6fb):return new RegExp(_0x421328)[_0x500478(0x1c5)](_0x2ef385);case'notMatchRegex':return!new RegExp(_0x421328)[_0x500478(0x1c5)](_0x2ef385);default:return!0x1;}}catch(_0x351ffc){return console[_0x500478(0x3cc)](_0x500478(0x51d)+_0x351ffc),!0x1;}}[a0_0x525ac(0x656)](_0x5ed20f){const _0x41626c=a0_0x525ac;let _0x2437b8=!0x0,_0x109677=null;for(let _0x3c4306 of _0x5ed20f){let _0x5a692c=this[_0x41626c(0x3b7)](_0x3c4306);if(_0x109677==='or'&&_0x5a692c){_0x2437b8=!0x0;break;}if(_0x109677===_0x41626c(0x189)&&!_0x5a692c){_0x2437b8=!0x1;break;}_0x109677=_0x3c4306[_0x41626c(0x63f)];}return _0x2437b8;}[a0_0x525ac(0x3b7)](_0x1291b6){const _0x5ad0a2=a0_0x525ac;let _0x21c092=_0x1291b6[_0x5ad0a2(0x5bb)],_0x21db7d=_0x1291b6[_0x5ad0a2(0x3ef)];try{switch(_0x1291b6[_0x5ad0a2(0x618)]){case _0x5ad0a2(0x4dd):return String(_0x21c092)===String(_0x21db7d);case _0x5ad0a2(0x53c):return String(_0x21c092)!==String(_0x21db7d);case _0x5ad0a2(0x6c0):return String(_0x21c092)['includes'](String(_0x21db7d));case'notContains':return!String(_0x21c092)[_0x5ad0a2(0x672)](String(_0x21db7d));case _0x5ad0a2(0x645):return parseFloat(String(_0x21c092))>parseFloat(String(_0x21db7d));case _0x5ad0a2(0x470):return parseFloat(String(_0x21c092))<parseFloat(String(_0x21db7d));case _0x5ad0a2(0x2d2):return String(_0x21c092)!=='';case _0x5ad0a2(0x1a6):return String(_0x21c092)==='';case _0x5ad0a2(0x6fb):return new RegExp(String(_0x21db7d))['test'](String(_0x21c092));case _0x5ad0a2(0x616):return!new RegExp(String(_0x21db7d))[_0x5ad0a2(0x1c5)](String(_0x21c092));default:return!0x1;}}catch(_0x433084){return console[_0x5ad0a2(0x3cc)](_0x5ad0a2(0x51d)+_0x433084),!0x1;}}async[a0_0x525ac(0x514)](_0x35b362,_0x40dcb7){const _0x1b6c0d=a0_0x525ac;if(this[_0x1b6c0d(0x1de)][_0x1b6c0d(0x6bd)](this[_0x1b6c0d(0x2b3)]+'\x20('+this[_0x1b6c0d(0x5d1)]['wuid']+_0x1b6c0d(0x1b4)),!_0x35b362||!_0x40dcb7)return this[_0x1b6c0d(0x1de)]['error'](this[_0x1b6c0d(0x2b3)]+'\x20('+this[_0x1b6c0d(0x5d1)][_0x1b6c0d(0x4f4)]+_0x1b6c0d(0x41c)),null;let _0x22d721=_0x40dcb7[_0x1b6c0d(0x1a7)],_0x38bc23=_0x35b362[_0x1b6c0d(0x1e0)][_0x1b6c0d(0x33b)][_0x1b6c0d(0x342)]||_0x35b362[_0x1b6c0d(0x1e0)][_0x1b6c0d(0x33b)][_0x1b6c0d(0x586)]||_0x35b362['chatLog']['lastReceivedMessage'][_0x1b6c0d(0x33a)];try{_0x35b362[_0x1b6c0d(0x1e0)][_0x1b6c0d(0x52c)]||(_0x35b362[_0x1b6c0d(0x1e0)][_0x1b6c0d(0x52c)]={});let _0x4984be=_0x35b362[_0x1b6c0d(0x1e0)]['realVariables'][_0x22d721];_0x35b362['chatLog']['realVariables'][_0x22d721]=_0x38bc23;let _0x4b70bc={'variable':_0x22d721,'oldValue':_0x4984be,'newValue':_0x38bc23};this[_0x1b6c0d(0x66a)](_0x35b362,_0x40dcb7,_0x4b70bc),this[_0x1b6c0d(0x1de)][_0x1b6c0d(0x6bd)](this[_0x1b6c0d(0x2b3)]+'\x20('+this[_0x1b6c0d(0x5d1)]['wuid']+_0x1b6c0d(0x3d0));}catch(_0x1ba1ff){let _0xa462fb={'error':!0x0,'errorLog':_0x1ba1ff[_0x1b6c0d(0x679)]()};return this[_0x1b6c0d(0x66a)](_0x35b362,_0x40dcb7,_0xa462fb),this['logger'][_0x1b6c0d(0x3cc)](this['instanceName']+'\x20('+this[_0x1b6c0d(0x5d1)][_0x1b6c0d(0x4f4)]+_0x1b6c0d(0x2d5)+_0x1ba1ff[_0x1b6c0d(0x197)]),null;}}async[a0_0x525ac(0x4b5)](_0x280c54,_0x3049ee){const _0x1c320a=a0_0x525ac;if(this[_0x1c320a(0x1de)][_0x1c320a(0x6bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1c320a(0x2f4)),!_0x280c54||!_0x3049ee)return this[_0x1c320a(0x1de)][_0x1c320a(0x3cc)](this[_0x1c320a(0x2b3)]+'\x20('+this[_0x1c320a(0x5d1)][_0x1c320a(0x4f4)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x219bfe=Date[_0x1c320a(0x50c)](),_0x5aa455=parseInt(_0x3049ee['stopMinutes'],0xa);if(isNaN(_0x5aa455))return this[_0x1c320a(0x1de)][_0x1c320a(0x3cc)](this[_0x1c320a(0x2b3)]+'\x20('+this[_0x1c320a(0x5d1)]['wuid']+_0x1c320a(0x4bf)),null;let _0x5456a9={'newStoppedUntil':_0x219bfe+_0x5aa455*0x3c*0x3e8};return await this['updateConversation'](_0x280c54,_0x3049ee,_0x5456a9,!0x0),null;}async[a0_0x525ac(0x6b8)](_0x6b29b6,_0x306c19,_0x6ea818){const _0x422703=a0_0x525ac;try{switch(_0x306c19[_0x422703(0x490)]['command']){case'sendText':await this[_0x422703(0x411)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x5f1):await this[_0x422703(0x15f)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x4c1):await this[_0x422703(0x53f)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x623):await this[_0x422703(0x2a1)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x41a):await this[_0x422703(0x554)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x423):await this[_0x422703(0x512)](_0x6b29b6,_0x306c19,_0x6ea818);break;case _0x422703(0x492):await this[_0x422703(0x22f)](_0x6b29b6,_0x306c19,_0x6ea818);break;default:this[_0x422703(0x1de)][_0x422703(0x3cc)](this[_0x422703(0x2b3)]+'\x20('+this[_0x422703(0x5d1)][_0x422703(0x4f4)]+_0x422703(0x3f9)+_0x306c19['uazapi']['command']);}}catch(_0x1bb013){this[_0x422703(0x1de)]['error'](this[_0x422703(0x2b3)]+'\x20('+this[_0x422703(0x5d1)][_0x422703(0x4f4)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x1bb013);}}async[a0_0x525ac(0x66a)](_0x23c926,_0x15756a,_0x58847c,_0x1d678c=!0x1,_0x52550e=!0x1){const _0x4723fb=a0_0x525ac;_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x44a)]||(_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x44a)]=[]);let _0x45ddd3=(_0x23c926['chatLog']['blockLogs']?.[_0x4723fb(0x261)]??0x0)+0x1,_0x3df68c=_0x23c926['chatLog'][_0x4723fb(0x44a)][_0x4723fb(0x4c9)](_0x473291=>String(_0x473291[_0x4723fb(0x290)])===String(_0x15756a[_0x4723fb(0x635)]))[_0x4723fb(0x261)]+0x1,_0x589739=_0x58847c?.[_0x4723fb(0x5e5)]??Date[_0x4723fb(0x50c)](),_0x4a0468=_0x58847c?.['error']?_0x58847c[_0x4723fb(0x468)]??_0x58847c[_0x4723fb(0x3cc)][_0x4723fb(0x679)]():void 0x0,_0x22472a={'onTime':_0x589739,'blockId':_0x15756a[_0x4723fb(0x635)],'order':_0x45ddd3,'activatedCount':_0x3df68c,'error':_0x58847c?.[_0x4723fb(0x3cc)]??!0x1,'messageId':_0x58847c?.[_0x4723fb(0x183)],'apiResponse':_0x58847c?.[_0x4723fb(0x2c5)],'apiResponseString':_0x58847c?.[_0x4723fb(0x2c5)]?JSON[_0x4723fb(0x56f)](_0x58847c?.[_0x4723fb(0x2c5)]):void 0x0,'variable':_0x58847c?.[_0x4723fb(0x24b)],'oldValue':_0x58847c?.[_0x4723fb(0x21b)],'newValue':_0x58847c?.[_0x4723fb(0x3d4)],'newStoppedUntil':_0x58847c?.['newStoppedUntil'],'moreLogs':_0x58847c?.[_0x4723fb(0x37c)],'errorLog':_0x4a0468};if(_0x58847c[_0x4723fb(0x37c)]&&_0x58847c[_0x4723fb(0x37c)]['length']>0x0){let _0x20bcf4=_0x58847c[_0x4723fb(0x37c)]['map'](_0x5daf97=>this[_0x4723fb(0x3cb)](_0x5daf97,_0x23c926['chatLog'][_0x4723fb(0x52c)]));_0x22472a[_0x4723fb(0x37c)]=_0x20bcf4;}_0x23c926['chatLog'][_0x4723fb(0x52c)]||(_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x52c)]={}),_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x52c)]['_activatedCount']=String(_0x3df68c),_0x23c926['chatLog'][_0x4723fb(0x52c)][_0x4723fb(0x1fd)]=String(_0x58847c['error']??!0x1),_0x23c926['chatLog'][_0x4723fb(0x44a)][_0x4723fb(0x6a1)](_0x22472a),_0x23c926['chatLog'][_0x4723fb(0x26c)]=_0x15756a['_id'][_0x4723fb(0x679)](),_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x477)]&&(_0x23c926[_0x4723fb(0x1e0)]['lastSendMessage']=_0x23c926['chatLog'][_0x4723fb(0x477)]),_0x23c926[_0x4723fb(0x1e0)]['lastReceivedMessage']&&(_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x33b)]=_0x23c926[_0x4723fb(0x1e0)]['lastReceivedMessage']),_0x23c926['chatLog'][_0x4723fb(0x198)]&&(_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x198)]=_0x23c926[_0x4723fb(0x1e0)][_0x4723fb(0x198)]),_0x52550e&&(_0x23c926[_0x4723fb(0x504)]=_0x4723fb(0x1c1)),_0x1d678c?this[_0x4723fb(0x625)](_0x23c926):this[_0x4723fb(0x1df)](_0x23c926,_0x15756a);}['replaceVariablesLogs'](_0x360052,_0x14e38e){return _0x360052['replace'](/\{\{([^}]+)\}\}/g,(_0x2f4624,_0x4238a1)=>_0x14e38e[_0x4238a1]?'{{'+_0x4238a1+'}}\x20->\x20\x22'+_0x14e38e[_0x4238a1]+'\x22':'{{'+_0x4238a1+'}}\x20->\x20valor\x20no\x20encontrado');}async[a0_0x525ac(0x625)](_0x1be244){const _0x240632=a0_0x525ac;try{let _0x30f5a0=Object['entries'](_0x1be244['chatLog']['realVariables'])[_0x240632(0x595)](([_0x86de33,_0x287669])=>({'name':_0x86de33,'value':_0x287669})),_0x57c3c1=await F[_0x240632(0x2bf)]({'_id':_0x1be244[_0x240632(0x635)]},{'$set':{'chatLog.lastBlockId':_0x1be244['chatLog'][_0x240632(0x26c)],'blocks':_0x1be244[_0x240632(0x19b)],'chatLog.lastSendMessage':_0x1be244[_0x240632(0x1e0)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x1be244[_0x240632(0x1e0)][_0x240632(0x33b)],'chatLog.lastCondition':_0x1be244['chatLog']['lastCondition'],'chatLog.chatVariables':_0x30f5a0,'chatLog.realVariables':_0x1be244['chatLog'][_0x240632(0x52c)],'status':_0x1be244[_0x240632(0x504)],'chatLog.blockLogs':_0x1be244['chatLog'][_0x240632(0x44a)],'waitingPoll_id':_0x1be244[_0x240632(0x50a)],'waitingPoll_name':_0x1be244[_0x240632(0x4fc)],'waitingPoll_replyOptions':_0x1be244['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x57c3c1){this['logger']['verbose'](this[_0x240632(0x2b3)]+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+_0x240632(0x2c7)+_0x57c3c1['_id']);try{let _0x4fa6e6=[_0x240632(0x2e4),_0x240632(0x564),'email',_0x240632(0x263),_0x240632(0x504),_0x240632(0x3d7),'responsavelid',_0x240632(0x723)];if(!this[_0x240632(0x42a)]&&(await this['getAutomateSystem'](),!this[_0x240632(0x42a)]))throw new Error(_0x240632(0x5b2));let _0xe31b34=this[_0x240632(0x42a)]?.[_0x240632(0x1ae)][_0x240632(0x595)](_0x1f3517=>_0x1f3517[_0x240632(0x524)]),_0x2f0d97={};Object[_0x240632(0x46f)](_0x1be244[_0x240632(0x1e0)]['realVariables'])['forEach'](([_0x31481e,_0x4aa6ee])=>{const _0x565f8c=_0x240632;_0x4fa6e6[_0x565f8c(0x672)](_0x31481e)&&(_0x31481e==='tags'&&typeof _0x4aa6ee==_0x565f8c(0x5fb)?_0x2f0d97[_0x31481e]=_0x4aa6ee[_0x565f8c(0x266)](',')[_0x565f8c(0x595)](_0x529475=>_0x529475[_0x565f8c(0x3ca)]())[_0x565f8c(0x4c9)](_0x162680=>_0x162680!==''):_0x2f0d97[_0x31481e]=_0x4aa6ee);});let _0x50fea8=_0x1be244[_0x240632(0x1e0)]['blockLogs'][_0x1be244[_0x240632(0x1e0)][_0x240632(0x44a)][_0x240632(0x261)]-0x1];if(_0x50fea8){let _0x130209=_0x50fea8['newStoppedUntil'];_0x130209!==void 0x0&&(_0x2f0d97[_0x240632(0x29b)]=_0x130209[_0x240632(0x679)]());}let _0x319838=_0x30f5a0[_0x240632(0x4c9)](_0x341c60=>_0xe31b34[_0x240632(0x672)](_0x341c60[_0x240632(0x524)]));this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+_0x240632(0x1ea)),this[_0x240632(0x1de)][_0x240632(0x6bd)](_0x2f0d97),this['logger'][_0x240632(0x6bd)](this['instanceName']+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+'):\x20customFieldVariables'),this[_0x240632(0x1de)]['verbose'](_0x319838);let _0x564c6f=_0x319838[_0x240632(0x595)](_0x50b80f=>{const _0x213557=_0x240632;let _0x3b855c=this[_0x213557(0x42a)]?.[_0x213557(0x1ae)][_0x213557(0x252)](_0x746ed8=>_0x746ed8[_0x213557(0x524)]===_0x50b80f[_0x213557(0x524)]);if(!_0x3b855c)throw new Error('Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20'+_0x50b80f[_0x213557(0x524)]);return{'_id':_0x3b855c[_0x213557(0x635)],'value':_0x50b80f['value']};});this[_0x240632(0x1de)][_0x240632(0x6bd)](this[_0x240632(0x2b3)]+'\x20('+this['instance']['wuid']+_0x240632(0x542)),this[_0x240632(0x1de)][_0x240632(0x6bd)](_0x564c6f),await this[_0x240632(0x2ba)](_0x1be244[_0x240632(0x6ff)],_0x2f0d97,_0x564c6f);}catch(_0x53cee8){this[_0x240632(0x1de)][_0x240632(0x3cc)](this['instanceName']+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+_0x240632(0x70f)+JSON[_0x240632(0x56f)](_0x53cee8));}}else this[_0x240632(0x1de)]['error'](this[_0x240632(0x2b3)]+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+'):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida');}catch(_0x3d943d){this[_0x240632(0x1de)]['error'](this[_0x240632(0x2b3)]+'\x20('+this[_0x240632(0x5d1)][_0x240632(0x4f4)]+_0x240632(0x699)+JSON[_0x240632(0x56f)](_0x3d943d));}}async['saveChatVariables'](_0x9eba42,_0x27a1ec,_0x37d78d){const _0x57e945=a0_0x525ac;try{let _0x4e5f84={'leadInfo.leadnome':_0x27a1ec[_0x57e945(0x2e4)],'leadInfo.nomecompleto':_0x27a1ec[_0x57e945(0x564)],'leadInfo.email':_0x27a1ec[_0x57e945(0x51b)],'leadInfo.cpf':_0x27a1ec[_0x57e945(0x263)],'leadInfo.status':_0x27a1ec[_0x57e945(0x504)],'leadInfo.notas':_0x27a1ec[_0x57e945(0x3d7)],'leadInfo.responsavelid':_0x27a1ec['responsavelid'],'leadInfo.tags':_0x27a1ec[_0x57e945(0x723)],'leadInfo.customFields':_0x37d78d};if(_0x57e945(0x29b)in _0x27a1ec){let _0x2361a2=_0x27a1ec['desativadoFluxoAte'];_0x4e5f84['leadInfo.desativadoFluxoAte']=_0x2361a2?Number(_0x2361a2):null;}let _0xcbed1f=await D['findOneAndUpdate']({'id':_0x9eba42,'owner':this[_0x57e945(0x5d1)][_0x57e945(0x4f4)]},{'$set':_0x4e5f84},{'new':!0x0,'upsert':!0x0});_0xcbed1f?(this[_0x57e945(0x1de)]['verbose'](this['instanceName']+'\x20('+this[_0x57e945(0x5d1)]['wuid']+_0x57e945(0x250)+_0xcbed1f[_0x57e945(0x635)]),q(this[_0x57e945(0x2b3)],_0x57e945(0x2e8),{'chat':_0xcbed1f})):this[_0x57e945(0x1de)]['error'](this[_0x57e945(0x2b3)]+'\x20('+this[_0x57e945(0x5d1)][_0x57e945(0x4f4)]+_0x57e945(0x158));}catch(_0x2bc4d1){this['logger']['error'](this[_0x57e945(0x2b3)]+'\x20('+this[_0x57e945(0x5d1)][_0x57e945(0x4f4)]+'):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20'+_0x2bc4d1);}}async['updateStopChat'](_0x1f3cf3,_0x1a780f){const _0x4b7d4b=a0_0x525ac;this[_0x4b7d4b(0x1de)][_0x4b7d4b(0x6bd)](this['instanceName']+'\x20('+this['instance'][_0x4b7d4b(0x4f4)]+_0x4b7d4b(0x2a4)+_0x1a780f);try{let _0x2146b0=await D[_0x4b7d4b(0x2bf)]({'id':_0x1f3cf3[_0x4b7d4b(0x6ff)],'owner':_0x1f3cf3[_0x4b7d4b(0x3f3)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x1a780f}},{'new':!0x0});this[_0x4b7d4b(0x1de)][_0x4b7d4b(0x6bd)](this['instanceName']+'\x20('+this[_0x4b7d4b(0x5d1)][_0x4b7d4b(0x4f4)]+_0x4b7d4b(0x1e1)+_0x1f3cf3[_0x4b7d4b(0x635)]),this['logger'][_0x4b7d4b(0x6bd)](this[_0x4b7d4b(0x2b3)]+'\x20('+this[_0x4b7d4b(0x5d1)]['wuid']+_0x4b7d4b(0x2a4)+JSON[_0x4b7d4b(0x56f)](_0x2146b0,null,0x2)),_0x2146b0&&q(this['instanceName'],_0x4b7d4b(0x2e8),{'chat':_0x2146b0});}catch(_0x497f2c){this[_0x4b7d4b(0x1de)][_0x4b7d4b(0x3cc)](this['instanceName']+'\x20('+this[_0x4b7d4b(0x5d1)][_0x4b7d4b(0x4f4)]+_0x4b7d4b(0x3b5)+JSON[_0x4b7d4b(0x56f)](_0x497f2c));}}async[a0_0x525ac(0x170)](_0x58355f,_0x21ea61){const _0x27eab1=a0_0x525ac;try{this['logger'][_0x27eab1(0x6bd)](this[_0x27eab1(0x2b3)]+'\x20('+this['instance'][_0x27eab1(0x4f4)]+_0x27eab1(0x1a5));let _0x4ec1ac=_0x21ea61[_0x27eab1(0x1db)](/\D/g,''),_0x4efe5c=await I[_0x27eab1(0x555)]({'owner':_0x58355f,'testingWith':_0x4ec1ac});return _0x4efe5c||(this[_0x27eab1(0x1de)]['verbose'](this[_0x27eab1(0x2b3)]+'\x20('+this[_0x27eab1(0x5d1)][_0x27eab1(0x4f4)]+_0x27eab1(0x4a3)),_0x4efe5c=await I[_0x27eab1(0x555)]({'owner':_0x58355f,'default':!0x0})),_0x4efe5c||(this['logger'][_0x27eab1(0x6bd)](this[_0x27eab1(0x2b3)]+'\x20('+this[_0x27eab1(0x5d1)][_0x27eab1(0x4f4)]+'):\x20No\x20achou\x20nenhum\x20flow'),null);}catch(_0xcfeb97){return this[_0x27eab1(0x1de)][_0x27eab1(0x3cc)](this[_0x27eab1(0x2b3)]+'\x20('+this[_0x27eab1(0x5d1)][_0x27eab1(0x4f4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0xcfeb97),null;}}async['findConversation'](_0x54c315,_0x10dab7,_0x2e9a8c){const _0x3d60af=a0_0x525ac;try{let _0x141eea=!!_0x2e9a8c[_0x3d60af(0x33a)],_0x3b4c17=_0x2e9a8c[_0x3d60af(0x65c)],_0x142658=null;if(this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+_0x3d60af(0x356)+_0x141eea+_0x3d60af(0x65c)+_0x3b4c17),_0x141eea)return this[_0x3d60af(0x1de)]['verbose'](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+_0x3d60af(0x1bc)),_0x142658=await F[_0x3d60af(0x555)]({'owner':_0x54c315,'remoteJid':_0x10dab7,'waitingPoll_id':_0x3b4c17}),_0x142658?(_0x142658[_0x3d60af(0x296)]=Date[_0x3d60af(0x50c)](),_0x142658[_0x3d60af(0x1e0)][_0x3d60af(0x33b)]=_0x2e9a8c,_0x142658):(this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+'):\x20no\x20encontrou'),null);{if(this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this['instanceName']+'\x20('+this[_0x3d60af(0x5d1)]['wuid']+_0x3d60af(0x6a4)+this['instance']['wuid']+_0x3d60af(0x49a)),this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this[_0x3d60af(0x2b3)]+'\x20('+this['instance'][_0x3d60af(0x4f4)]+'):\x20Procurando\x20conversa'),_0x142658=await F[_0x3d60af(0x555)]({'owner':_0x54c315,'remoteJid':_0x10dab7,'status':_0x3d60af(0x182)}),!_0x142658){let _0x5de26c=await this[_0x3d60af(0x170)](_0x54c315,_0x10dab7);if(_0x5de26c&&(_0x142658=await this[_0x3d60af(0x2b0)](_0x5de26c,_0x2e9a8c[_0x3d60af(0x4ba)],_0x2e9a8c)),!_0x142658)return null;}let _0x3ba174=Date[_0x3d60af(0x50c)](),_0x274155=_0x142658?.['minutesToClose']||0x0,_0x4ef008=_0x3ba174-_0x274155*0x3c*0x3e8;if(this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+_0x3d60af(0x165)+_0x3ba174+',\x20Minutes\x20to\x20Close:\x20'+_0x274155+_0x3d60af(0x694)+_0x4ef008),this['logger'][_0x3d60af(0x6bd)](this['instanceName']+'\x20('+this[_0x3d60af(0x5d1)]['wuid']+_0x3d60af(0x693)),this['logger'][_0x3d60af(0x6bd)](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+_0x3d60af(0x66c)+_0x142658['lastInteraction']),this[_0x3d60af(0x1de)][_0x3d60af(0x6bd)](this['instanceName']+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+_0x3d60af(0x41e)+_0x4ef008),_0x142658[_0x3d60af(0x296)]<_0x4ef008){this[_0x3d60af(0x1de)]['verbose'](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+'):\x20Conversa\x20est\x20expirada');let _0x3c658a=await this['findFlow'](_0x54c315,_0x10dab7);if(_0x3c658a===null)return null;_0x142658&&await F[_0x3d60af(0x23b)]({'_id':_0x142658[_0x3d60af(0x635)]},{'status':_0x3d60af(0x1c1)}),_0x142658=await this[_0x3d60af(0x2b0)](_0x3c658a,_0x2e9a8c[_0x3d60af(0x4ba)],_0x2e9a8c);}return _0x142658[_0x3d60af(0x296)]=_0x3ba174,_0x142658[_0x3d60af(0x1e0)][_0x3d60af(0x33b)]=_0x2e9a8c,_0x142658;}}catch(_0x354166){return this[_0x3d60af(0x1de)]['error'](this[_0x3d60af(0x2b3)]+'\x20('+this[_0x3d60af(0x5d1)][_0x3d60af(0x4f4)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+_0x354166),null;}}async[a0_0x525ac(0x2b0)](_0x3b4561,_0x2783cf,_0x1889a5){const _0x42c09d=a0_0x525ac;this[_0x42c09d(0x1de)]['verbose'](this[_0x42c09d(0x2b3)]+'\x20('+this['instance'][_0x42c09d(0x4f4)]+'):\x20Criando\x20nova\x20conversa');try{let _0xefb655=require(_0x42c09d(0x721))[_0x42c09d(0x3d9)],_0x5406d6=Date[_0x42c09d(0x50c)](),_0x19cffc=_0x42c09d(0x5a8),_0x213552=_0x2783cf[_0x42c09d(0x4bd)]?null:_0x1889a5,_0x25ade4=_0x2783cf[_0x42c09d(0x4bd)]?_0x1889a5:null,_0x1fe161=_0x2783cf[_0x42c09d(0x6ff)];await this[_0x42c09d(0x353)](_0x1fe161);let _0x23ec79={..._0x3b4561['_doc'],'chatLog':null},_0x16d2b9=await this[_0x42c09d(0x509)](_0x23ec79['variables']),_0x4881d1=await this['getVariablesChat'](_0x1fe161),_0x46ae9a={..._0x16d2b9,..._0x4881d1,'_remoteJid':_0x1fe161},_0x45ba3c={'lastReceivedMessage':_0x213552,'lastSendMessage':_0x25ade4,'lastBlockId':_0x19cffc,'lastCondition':!0x0,'realVariables':_0x46ae9a};_0x23ec79['chatLog']=_0x45ba3c,delete _0x23ec79[_0x42c09d(0x635)],_0x23ec79[_0x42c09d(0x635)]=new _0xefb655(),_0x23ec79[_0x42c09d(0x296)]=_0x5406d6,_0x23ec79[_0x42c09d(0x504)]=_0x42c09d(0x182),_0x23ec79[_0x42c09d(0x6ff)]=_0x1fe161;let _0x257bfb=await F['create'](_0x23ec79);return this[_0x42c09d(0x1de)][_0x42c09d(0x6bd)](this['instanceName']+'\x20('+this[_0x42c09d(0x5d1)][_0x42c09d(0x4f4)]+_0x42c09d(0x2bd)),_0x257bfb?_0x23ec79:null;}catch(_0x463974){return this[_0x42c09d(0x1de)][_0x42c09d(0x3cc)](this[_0x42c09d(0x2b3)]+'\x20('+this['instance'][_0x42c09d(0x4f4)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x463974),_0x463974;}}async[a0_0x525ac(0x411)](_0x533eca,_0x5718da,_0x519b68){const _0x31744b=a0_0x525ac;this[_0x31744b(0x1de)][_0x31744b(0x6bd)](this[_0x31744b(0x2b3)]+'\x20('+this[_0x31744b(0x5d1)][_0x31744b(0x4f4)]+_0x31744b(0x4f7));let _0x1d679d={'number':_0x519b68,'options':{'delay':_0x5718da[_0x31744b(0x490)]['delay']},'textMessage':{'text':_0x5718da[_0x31744b(0x490)][_0x31744b(0x342)]}};try{let _0x7ce9a3=await this[_0x31744b(0x25d)](_0x1d679d);if(_0x7ce9a3){let _0x56bc92={'_id':_0x7ce9a3['key']['id'],'_fromMe':_0x7ce9a3[_0x31744b(0x4ba)][_0x31744b(0x4bd)],'_remoteJid':_0x7ce9a3['key'][_0x31744b(0x6ff)]};_0x533eca[_0x31744b(0x1e0)][_0x31744b(0x26c)]=_0x5718da[_0x31744b(0x635)][_0x31744b(0x679)]();let {message_normalized:_0x36374d}=this[_0x31744b(0x658)](_0x7ce9a3[_0x31744b(0x197)],W(_0x7ce9a3['message']),null);_0x533eca[_0x31744b(0x1e0)]['lastSendMessage']=await _0x36374d;let _0xcef82={'messageId':_0x7ce9a3['key']['id']},_0x479bb3=_0x533eca[_0x31744b(0x1e0)][_0x31744b(0x52c)];Object[_0x31744b(0x2da)](_0x479bb3,_0x56bc92),_0x533eca[_0x31744b(0x1e0)][_0x31744b(0x52c)]=_0x479bb3,this[_0x31744b(0x66a)](_0x533eca,_0x5718da,_0xcef82);}else{let _0x2a62eb={'error':!0x0};this[_0x31744b(0x66a)](_0x533eca,_0x5718da,_0x2a62eb),this[_0x31744b(0x1de)]['error'](this[_0x31744b(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x1cd2ec){let _0x338fa6={'error':!0x0,'errorLog':_0x1cd2ec['toString']()};this['updateConversation'](_0x533eca,_0x5718da,_0x338fa6),this[_0x31744b(0x1de)][_0x31744b(0x3cc)](this[_0x31744b(0x2b3)]+'\x20('+this[_0x31744b(0x5d1)][_0x31744b(0x4f4)]+_0x31744b(0x3e9)+_0x1cd2ec[_0x31744b(0x679)]());}}async[a0_0x525ac(0x15f)](_0x12f4e9,_0x47ffbd,_0x48cd0e){const _0x23a4f8=a0_0x525ac;this[_0x23a4f8(0x1de)][_0x23a4f8(0x6bd)](this['instanceName']+'\x20('+this['instance'][_0x23a4f8(0x4f4)]+_0x23a4f8(0x388));let _0x3cc4c6={'number':_0x48cd0e,'options':{'delay':_0x47ffbd['uazapi'][_0x23a4f8(0x337)]},'mediaMessage':{'mediatype':_0x47ffbd['uazapi']['mediatype'],'caption':_0x47ffbd[_0x23a4f8(0x490)][_0x23a4f8(0x586)],'media':_0x47ffbd[_0x23a4f8(0x490)][_0x23a4f8(0x19d)]}};try{let _0x5f5902=await this[_0x23a4f8(0x1dd)](_0x3cc4c6);if(_0x5f5902){let _0x46a37a={'_id':_0x5f5902['key']['id'],'_fromMe':_0x5f5902[_0x23a4f8(0x4ba)][_0x23a4f8(0x4bd)],'_remoteJid':_0x5f5902['key'][_0x23a4f8(0x6ff)]};_0x12f4e9['chatLog'][_0x23a4f8(0x26c)]=_0x47ffbd[_0x23a4f8(0x635)][_0x23a4f8(0x679)]();let {message_normalized:_0xc2f4fa}=this[_0x23a4f8(0x658)](_0x5f5902[_0x23a4f8(0x197)],W(_0x5f5902[_0x23a4f8(0x197)]),null);_0x12f4e9['chatLog'][_0x23a4f8(0x477)]=await _0xc2f4fa;let _0x2baf5c={'messageId':_0x5f5902[_0x23a4f8(0x4ba)]['id']},_0x51fcd0=_0x12f4e9[_0x23a4f8(0x1e0)][_0x23a4f8(0x52c)];Object[_0x23a4f8(0x2da)](_0x51fcd0,_0x46a37a),_0x12f4e9[_0x23a4f8(0x1e0)][_0x23a4f8(0x52c)]=_0x51fcd0,this['updateConversation'](_0x12f4e9,_0x47ffbd,_0x2baf5c);}else{let _0x55079f={'error':!0x0};this[_0x23a4f8(0x66a)](_0x12f4e9,_0x47ffbd,_0x55079f),this[_0x23a4f8(0x1de)][_0x23a4f8(0x3cc)](this[_0x23a4f8(0x2b3)]+'\x20('+this[_0x23a4f8(0x5d1)][_0x23a4f8(0x4f4)]+_0x23a4f8(0x33e));}}catch(_0x1b79c5){let _0x3fe5c7={'error':!0x0,'errorLog':_0x1b79c5[_0x23a4f8(0x679)]()};this['updateConversation'](_0x12f4e9,_0x47ffbd,_0x3fe5c7),this[_0x23a4f8(0x1de)][_0x23a4f8(0x3cc)](this['instanceName']+'\x20('+this[_0x23a4f8(0x5d1)][_0x23a4f8(0x4f4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+_0x1b79c5[_0x23a4f8(0x679)]());}}async[a0_0x525ac(0x53f)](_0x395584,_0x4f1aa1,_0x2eafa7){const _0x55bfd5=a0_0x525ac;this[_0x55bfd5(0x1de)][_0x55bfd5(0x6bd)](this[_0x55bfd5(0x2b3)]+'\x20('+this[_0x55bfd5(0x5d1)][_0x55bfd5(0x4f4)]+_0x55bfd5(0x6e5));let _0x49a122={'number':_0x2eafa7,'options':{'delay':_0x4f1aa1[_0x55bfd5(0x490)]['delay']},'locationMessage':{'name':_0x4f1aa1['uazapi'][_0x55bfd5(0x524)],'address':_0x4f1aa1[_0x55bfd5(0x490)][_0x55bfd5(0x15a)],'latitude':_0x4f1aa1[_0x55bfd5(0x490)][_0x55bfd5(0x4d2)],'longitude':_0x4f1aa1[_0x55bfd5(0x490)][_0x55bfd5(0x5d2)]}};try{let _0x1475d7=await this[_0x55bfd5(0x35b)](_0x49a122);if(_0x1475d7){let _0x3b9307={'_id':_0x1475d7[_0x55bfd5(0x4ba)]['id'],'_fromMe':_0x1475d7['key'][_0x55bfd5(0x4bd)],'_remoteJid':_0x1475d7[_0x55bfd5(0x4ba)][_0x55bfd5(0x6ff)]};_0x395584[_0x55bfd5(0x1e0)][_0x55bfd5(0x26c)]=_0x4f1aa1[_0x55bfd5(0x635)]['toString']();let {message_normalized:_0x306b41}=this['normalizeMessage'](_0x1475d7[_0x55bfd5(0x197)],W(_0x1475d7['message']),null);_0x395584[_0x55bfd5(0x1e0)][_0x55bfd5(0x477)]=await _0x306b41;let _0x19f5dd={'messageId':_0x1475d7['key']['id']},_0x137767=_0x395584[_0x55bfd5(0x1e0)][_0x55bfd5(0x52c)];Object[_0x55bfd5(0x2da)](_0x137767,_0x3b9307),_0x395584[_0x55bfd5(0x1e0)][_0x55bfd5(0x52c)]=_0x137767,this[_0x55bfd5(0x66a)](_0x395584,_0x4f1aa1,_0x19f5dd);}else{let _0x283c3e={'error':!0x0};this['updateConversation'](_0x395584,_0x4f1aa1,_0x283c3e),this['logger'][_0x55bfd5(0x3cc)](this[_0x55bfd5(0x2b3)]+'\x20('+this['instance']['wuid']+_0x55bfd5(0x358));}}catch(_0x1b3b21){let _0x30ad11={'error':!0x0,'errorLog':_0x1b3b21['toString']()};this[_0x55bfd5(0x66a)](_0x395584,_0x4f1aa1,_0x30ad11),this[_0x55bfd5(0x1de)][_0x55bfd5(0x3cc)](this['instanceName']+'\x20('+this[_0x55bfd5(0x5d1)][_0x55bfd5(0x4f4)]+_0x55bfd5(0x2e9)+_0x1b3b21[_0x55bfd5(0x679)]());}}async[a0_0x525ac(0x2a1)](_0x4dd9c0,_0x577648,_0x24529b){const _0x3d2873=a0_0x525ac;this[_0x3d2873(0x1de)][_0x3d2873(0x6bd)](this[_0x3d2873(0x2b3)]+'\x20('+this['instance']['wuid']+_0x3d2873(0x1cf));let _0x16e92c={'number':_0x24529b,'options':{'delay':_0x577648[_0x3d2873(0x490)][_0x3d2873(0x337)]},'audioMessage':{'audio':_0x577648[_0x3d2873(0x490)][_0x3d2873(0x1d5)]}};try{let _0x959d52=await this[_0x3d2873(0x4b1)](_0x16e92c);if(_0x959d52){let _0x9a0ad5={'_id':_0x959d52[_0x3d2873(0x4ba)]['id'],'_fromMe':_0x959d52[_0x3d2873(0x4ba)][_0x3d2873(0x4bd)],'_remoteJid':_0x959d52['key'][_0x3d2873(0x6ff)]};_0x4dd9c0[_0x3d2873(0x1e0)][_0x3d2873(0x26c)]=_0x577648[_0x3d2873(0x635)][_0x3d2873(0x679)]();let {message_normalized:_0x16e3bf}=this[_0x3d2873(0x658)](_0x959d52[_0x3d2873(0x197)],W(_0x959d52['message']),null);_0x4dd9c0[_0x3d2873(0x1e0)]['lastSendMessage']=await _0x16e3bf;let _0x2fde46={'messageId':_0x959d52[_0x3d2873(0x4ba)]['id']},_0x470566=_0x4dd9c0['chatLog'][_0x3d2873(0x52c)];Object['assign'](_0x470566,_0x9a0ad5),_0x4dd9c0[_0x3d2873(0x1e0)][_0x3d2873(0x52c)]=_0x470566,this[_0x3d2873(0x66a)](_0x4dd9c0,_0x577648,_0x2fde46);}else{let _0x1b082d={'error':!0x0};this[_0x3d2873(0x66a)](_0x4dd9c0,_0x577648,_0x1b082d),this[_0x3d2873(0x1de)][_0x3d2873(0x3cc)](this[_0x3d2873(0x2b3)]+'\x20('+this[_0x3d2873(0x5d1)]['wuid']+_0x3d2873(0x51a));}}catch(_0x2c85dc){let _0x35ac78={'error':!0x0,'errorLog':_0x2c85dc[_0x3d2873(0x679)]()};this[_0x3d2873(0x66a)](_0x4dd9c0,_0x577648,_0x35ac78),this[_0x3d2873(0x1de)][_0x3d2873(0x3cc)](this[_0x3d2873(0x2b3)]+'\x20('+this[_0x3d2873(0x5d1)]['wuid']+_0x3d2873(0x6e4)+_0x2c85dc[_0x3d2873(0x679)]());}}async['uazapiSendContact'](_0xf8b652,_0x2fd7f5,_0x298073){const _0x241dac=a0_0x525ac;this[_0x241dac(0x1de)][_0x241dac(0x6bd)](this['instanceName']+'\x20('+this[_0x241dac(0x5d1)][_0x241dac(0x4f4)]+_0x241dac(0x304));let _0x330b87={'number':_0x298073,'options':{'delay':_0x2fd7f5[_0x241dac(0x490)][_0x241dac(0x337)]},'contactMessage':[{'fullName':_0x2fd7f5[_0x241dac(0x490)][_0x241dac(0x3c3)],'phoneNumber':_0x2fd7f5['uazapi'][_0x241dac(0x26d)]}]};try{let _0x55cb47=await this[_0x241dac(0x1ed)](_0x330b87);if(_0x55cb47){let _0x2fd310={'_id':_0x55cb47[_0x241dac(0x4ba)]['id'],'_fromMe':_0x55cb47[_0x241dac(0x4ba)][_0x241dac(0x4bd)],'_remoteJid':_0x55cb47[_0x241dac(0x4ba)][_0x241dac(0x6ff)]};_0xf8b652[_0x241dac(0x1e0)][_0x241dac(0x26c)]=_0x2fd7f5[_0x241dac(0x635)][_0x241dac(0x679)]();let {message_normalized:_0x49515c}=this[_0x241dac(0x658)](_0x55cb47[_0x241dac(0x197)],W(_0x55cb47[_0x241dac(0x197)]),null);_0xf8b652[_0x241dac(0x1e0)][_0x241dac(0x477)]=await _0x49515c;let _0x158d8b={'messageId':_0x55cb47[_0x241dac(0x4ba)]['id']},_0x517b9d=_0xf8b652[_0x241dac(0x1e0)][_0x241dac(0x52c)];Object[_0x241dac(0x2da)](_0x517b9d,_0x2fd310),_0xf8b652[_0x241dac(0x1e0)][_0x241dac(0x52c)]=_0x517b9d,this['updateConversation'](_0xf8b652,_0x2fd7f5,_0x158d8b);}else{let _0x5bf065={'error':!0x0};this['updateConversation'](_0xf8b652,_0x2fd7f5,_0x5bf065),this[_0x241dac(0x1de)][_0x241dac(0x3cc)](this[_0x241dac(0x2b3)]+'\x20('+this[_0x241dac(0x5d1)][_0x241dac(0x4f4)]+_0x241dac(0x588));}}catch(_0x4d612d){let _0x378124={'error':!0x0,'errorLog':_0x4d612d[_0x241dac(0x679)]()};this['updateConversation'](_0xf8b652,_0x2fd7f5,_0x378124),this['logger'][_0x241dac(0x3cc)](this[_0x241dac(0x2b3)]+'\x20('+this[_0x241dac(0x5d1)][_0x241dac(0x4f4)]+_0x241dac(0x1d2)+_0x4d612d['toString']());}}['replaceVariablesInReplyOptions'](_0x4a8946,_0x1fed08){const _0x4c3bab=a0_0x525ac;for(let _0x39ac0d of _0x4a8946)_0x39ac0d[_0x4c3bab(0x238)]&&(_0x39ac0d['option']=this[_0x4c3bab(0x22a)](_0x39ac0d[_0x4c3bab(0x238)],_0x1fed08)),_0x39ac0d[_0x4c3bab(0x2fa)]&&(_0x39ac0d[_0x4c3bab(0x2fa)]=this[_0x4c3bab(0x22a)](_0x39ac0d['optionDescription'],_0x1fed08));}async[a0_0x525ac(0x512)](_0xaf9bfd,_0x1974b5,_0x2d9416){const _0x2cbd9f=a0_0x525ac;this[_0x2cbd9f(0x1de)][_0x2cbd9f(0x6bd)](this[_0x2cbd9f(0x2b3)]+'\x20('+this['instance'][_0x2cbd9f(0x4f4)]+'):\x20Enviando\x20enquete');let _0x314573=_0xaf9bfd[_0x2cbd9f(0x72a)][_0x2cbd9f(0x4c9)](_0x46a0c1=>_0x46a0c1[_0x2cbd9f(0x290)]===_0x1974b5[_0x2cbd9f(0x635)]);this[_0x2cbd9f(0x1ab)](_0x314573,_0xaf9bfd[_0x2cbd9f(0x1e0)][_0x2cbd9f(0x52c)]);let _0x20d5b2=_0x314573[_0x2cbd9f(0x595)](_0x4f28e8=>_0x4f28e8[_0x2cbd9f(0x238)]),_0x424f75={'number':_0x2d9416,'options':{'delay':_0x1974b5[_0x2cbd9f(0x490)][_0x2cbd9f(0x337)]},'pollMessage':{'name':_0x1974b5['uazapi'][_0x2cbd9f(0x524)],'selectableCount':0x1,'values':_0x20d5b2}};try{let _0x591bd4=await this[_0x2cbd9f(0x513)](_0x424f75);if(_0x591bd4){let _0x5bb933={'_id':_0x591bd4[_0x2cbd9f(0x4ba)]['id'],'_fromMe':_0x591bd4[_0x2cbd9f(0x4ba)][_0x2cbd9f(0x4bd)],'_remoteJid':_0x591bd4[_0x2cbd9f(0x4ba)][_0x2cbd9f(0x6ff)]};this[_0x2cbd9f(0x1de)]['verbose'](this[_0x2cbd9f(0x2b3)]+'\x20('+this[_0x2cbd9f(0x5d1)][_0x2cbd9f(0x4f4)]+'):\x20nextBlock.uazapi.name'+_0x1974b5['uazapi'][_0x2cbd9f(0x524)]),_0xaf9bfd[_0x2cbd9f(0x50a)]=_0x591bd4[_0x2cbd9f(0x4ba)]['id'],_0xaf9bfd[_0x2cbd9f(0x4fc)]=_0x1974b5[_0x2cbd9f(0x490)][_0x2cbd9f(0x524)],_0xaf9bfd[_0x2cbd9f(0x5ff)]=_0x314573,this[_0x2cbd9f(0x1de)][_0x2cbd9f(0x6bd)](this[_0x2cbd9f(0x2b3)]+'\x20('+this[_0x2cbd9f(0x5d1)][_0x2cbd9f(0x4f4)]+_0x2cbd9f(0x58d)+_0xaf9bfd[_0x2cbd9f(0x4fc)]),_0xaf9bfd[_0x2cbd9f(0x1e0)][_0x2cbd9f(0x26c)]=_0x1974b5[_0x2cbd9f(0x635)][_0x2cbd9f(0x679)]();let {message_normalized:_0x40a4b3}=this['normalizeMessage'](_0x591bd4[_0x2cbd9f(0x197)],W(_0x591bd4[_0x2cbd9f(0x197)]),null);_0xaf9bfd['chatLog'][_0x2cbd9f(0x477)]=await _0x40a4b3;let _0x4f5246={'messageId':_0x591bd4[_0x2cbd9f(0x4ba)]['id']},_0x53df0f=_0xaf9bfd[_0x2cbd9f(0x1e0)][_0x2cbd9f(0x52c)];Object[_0x2cbd9f(0x2da)](_0x53df0f,_0x5bb933),_0xaf9bfd[_0x2cbd9f(0x1e0)][_0x2cbd9f(0x52c)]=_0x53df0f,this[_0x2cbd9f(0x66a)](_0xaf9bfd,_0x1974b5,_0x4f5246);}else{let _0x1453c2={'error':!0x0};this[_0x2cbd9f(0x66a)](_0xaf9bfd,_0x1974b5,_0x1453c2),this[_0x2cbd9f(0x1de)][_0x2cbd9f(0x3cc)](this[_0x2cbd9f(0x2b3)]+'\x20('+this['instance'][_0x2cbd9f(0x4f4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x803044){let _0x5e29be={'error':!0x0,'errorLog':_0x803044[_0x2cbd9f(0x679)]()};this[_0x2cbd9f(0x66a)](_0xaf9bfd,_0x1974b5,_0x5e29be),this[_0x2cbd9f(0x1de)][_0x2cbd9f(0x3cc)](this[_0x2cbd9f(0x2b3)]+'\x20('+this[_0x2cbd9f(0x5d1)]['wuid']+_0x2cbd9f(0x40f)+_0x803044[_0x2cbd9f(0x679)]());}}async['uazapiDeleteMessage'](_0x4ad09d,_0xcd5afe,_0x1f50e8){const _0x9f4486=a0_0x525ac;this['logger'][_0x9f4486(0x6bd)](this['instanceName']+'\x20('+this[_0x9f4486(0x5d1)][_0x9f4486(0x4f4)]+'):\x20Deletando\x20mensagem');let _0x3cc68a=_0x4ad09d[_0x9f4486(0x1e0)]['blockLogs']['find'](_0x1cc5a4=>_0x1cc5a4['blockId'][_0x9f4486(0x679)]()===_0xcd5afe[_0x9f4486(0x490)][_0x9f4486(0x290)]['toString']()),_0x2cc3bd={'id':_0x3cc68a[_0x9f4486(0x183)],'remoteJid':_0x3cc68a[_0x9f4486(0x6ff)],'fromMe':_0x3cc68a[_0x9f4486(0x4bd)]};try{let _0x2d8923=await this[_0x9f4486(0x492)](_0x2cc3bd);if(_0x2d8923){_0x4ad09d[_0x9f4486(0x1e0)][_0x9f4486(0x26c)]=_0xcd5afe[_0x9f4486(0x635)][_0x9f4486(0x679)]();let {message_normalized:_0x32cec8}=this['normalizeMessage'](_0x2d8923[_0x9f4486(0x197)],W(_0x2d8923[_0x9f4486(0x197)]),null);_0x4ad09d['chatLog']['lastSendMessage']=await _0x32cec8;let _0x13faa4={};this[_0x9f4486(0x66a)](_0x4ad09d,_0xcd5afe,_0x13faa4);}else{let _0xb73c24={'error':!0x0};this[_0x9f4486(0x66a)](_0x4ad09d,_0xcd5afe,_0xb73c24),this[_0x9f4486(0x1de)][_0x9f4486(0x3cc)](this[_0x9f4486(0x2b3)]+'\x20('+this[_0x9f4486(0x5d1)][_0x9f4486(0x4f4)]+_0x9f4486(0x6a0));}}catch(_0x2a8f03){let _0x46a6c4={'error':!0x0,'errorLog':_0x2a8f03[_0x9f4486(0x679)]()};this['updateConversation'](_0x4ad09d,_0xcd5afe,_0x46a6c4),this[_0x9f4486(0x1de)]['error'](this[_0x9f4486(0x2b3)]+'\x20('+this[_0x9f4486(0x5d1)]['wuid']+_0x9f4486(0x60b)+_0x2a8f03['toString']());}}async[a0_0x525ac(0x262)](_0x5c7a28){const _0x14b6e7=a0_0x525ac;try{if(this[_0x14b6e7(0x1de)][_0x14b6e7(0x6bd)](this[_0x14b6e7(0x2b3)]+'\x20('+this[_0x14b6e7(0x5d1)][_0x14b6e7(0x4f4)]+_0x14b6e7(0x237)),await I[_0x14b6e7(0x555)]({'owner':this[_0x14b6e7(0x5d1)][_0x14b6e7(0x4f4)],'name':_0x5c7a28[_0x14b6e7(0x524)]}))return{'message':_0x14b6e7(0x5ef)};_0x5c7a28[_0x14b6e7(0x6de)]===!0x0&&await I[_0x14b6e7(0x5b9)]({'owner':this[_0x14b6e7(0x5d1)]['wuid']},{'default':!0x1});let _0x4a0e8e=new be[(_0x14b6e7(0x333))][(_0x14b6e7(0x3d9))](),_0x56f202={'_id':_0x4a0e8e,'default':!0x0,'title':_0x14b6e7(0x724),'x':0x0,'y':0x0},_0xb82c7b={'_id':new be['Types'][(_0x14b6e7(0x3d9))](),'order':0x1,'groupId':_0x4a0e8e[_0x14b6e7(0x679)](),'type':_0x14b6e7(0x5a8)};return await I[_0x14b6e7(0x58a)]({'owner':this['instance'][_0x14b6e7(0x4f4)],'name':_0x5c7a28['name'],'groups':[_0x56f202],'blocks':[_0xb82c7b],..._0x5c7a28});}catch(_0xe41e9d){throw this['logger']['error'](this[_0x14b6e7(0x2b3)]+'\x20('+this[_0x14b6e7(0x5d1)][_0x14b6e7(0x4f4)]+_0x14b6e7(0x501)+_0xe41e9d),new g(_0x14b6e7(0x21d)+_0xe41e9d);}}async[a0_0x525ac(0x1b7)](_0x54cf77){const _0x1f36c8=a0_0x525ac;try{return this[_0x1f36c8(0x1de)][_0x1f36c8(0x6bd)](this[_0x1f36c8(0x2b3)]+'\x20('+this['instance'][_0x1f36c8(0x4f4)]+_0x1f36c8(0x6ac)),await I[_0x1f36c8(0x485)]({'owner':this[_0x1f36c8(0x5d1)][_0x1f36c8(0x4f4)],'name':_0x54cf77});}catch(_0x5c798f){return this['logger'][_0x1f36c8(0x3cc)](this[_0x1f36c8(0x2b3)]+'\x20('+this[_0x1f36c8(0x5d1)][_0x1f36c8(0x4f4)]+_0x1f36c8(0x692)+_0x5c798f),{'message':_0x1f36c8(0x573)+_0x5c798f};}}async[a0_0x525ac(0x223)](_0x2c5e7d){const _0x9bd2ad=a0_0x525ac;try{this['logger'][_0x9bd2ad(0x6bd)](this[_0x9bd2ad(0x2b3)]+'\x20('+this['instance'][_0x9bd2ad(0x4f4)]+_0x9bd2ad(0x1a5));let _0x3e1cb8=await I[_0x9bd2ad(0x555)]({'owner':this[_0x9bd2ad(0x5d1)][_0x9bd2ad(0x4f4)],'name':_0x2c5e7d});if(!_0x3e1cb8)throw new Error(_0x9bd2ad(0x3ae));if(!this[_0x9bd2ad(0x42a)]&&(await this[_0x9bd2ad(0x45f)](),!this['AutomateSystem']))return null;let _0x46e3ef=this[_0x9bd2ad(0x42a)]?.[_0x9bd2ad(0x1ae)][_0x9bd2ad(0x595)](_0x413d48=>_0x413d48['name']),_0x3b7ebc=[_0x9bd2ad(0x2e4),_0x9bd2ad(0x564),_0x9bd2ad(0x51b),'cpf',_0x9bd2ad(0x504),_0x9bd2ad(0x3d7),_0x9bd2ad(0x275),_0x9bd2ad(0x723)];return _0x3e1cb8[_0x9bd2ad(0x2b6)]=_0x3e1cb8[_0x9bd2ad(0x2b6)]['filter'](_0x5818ac=>!_0x3b7ebc[_0x9bd2ad(0x672)](_0x5818ac[_0x9bd2ad(0x524)])),_0x3b7ebc['forEach'](_0x2787ab=>{const _0x496bc2=_0x9bd2ad;_0x3e1cb8['variables']['push']({'folder':_0x496bc2(0x2c0),'name':_0x2787ab,'value':'','doc':'','leadInfo':!0x0});}),_0x3e1cb8[_0x9bd2ad(0x2b6)]=_0x3e1cb8[_0x9bd2ad(0x2b6)][_0x9bd2ad(0x4c9)](_0x5a0784=>!_0x46e3ef['includes'](_0x5a0784['name'])),_0x46e3ef[_0x9bd2ad(0x319)](_0xcd1881=>{const _0x316008=_0x9bd2ad;_0x3e1cb8['variables'][_0x316008(0x16d)](_0x100bbc=>_0x100bbc[_0x316008(0x524)]===_0xcd1881&&_0x100bbc['leadInfo']===!0x0)||_0x3e1cb8[_0x316008(0x2b6)]['push']({'folder':'leadInfo','name':_0xcd1881,'value':'','doc':'','leadInfo':!0x0});}),await _0x3e1cb8[_0x9bd2ad(0x2cf)](),_0x3e1cb8;}catch(_0x2902ac){throw this[_0x9bd2ad(0x1de)][_0x9bd2ad(0x3cc)](this[_0x9bd2ad(0x2b3)]+'\x20('+this[_0x9bd2ad(0x5d1)][_0x9bd2ad(0x4f4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+_0x2902ac),new g(_0x9bd2ad(0x3f0)+_0x2902ac);}}async['allFlows'](){const _0x43585e=a0_0x525ac;try{return this['logger'][_0x43585e(0x6bd)](this[_0x43585e(0x2b3)]+'\x20('+this['instance'][_0x43585e(0x4f4)]+_0x43585e(0x434)),await I[_0x43585e(0x252)]({'owner':this['instance'][_0x43585e(0x4f4)]});}catch(_0x2ed10a){return this[_0x43585e(0x1de)]['error'](this[_0x43585e(0x2b3)]+'\x20('+this[_0x43585e(0x5d1)][_0x43585e(0x4f4)]+_0x43585e(0x329)+_0x2ed10a),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x2ed10a};}}async[a0_0x525ac(0x215)](_0x573e5b){const _0x15d6e7=a0_0x525ac;try{this[_0x15d6e7(0x1de)][_0x15d6e7(0x6bd)](this[_0x15d6e7(0x2b3)]+'\x20('+this[_0x15d6e7(0x5d1)][_0x15d6e7(0x4f4)]+'):\x20Alterando\x20fluxo...');let _0x162294=await I[_0x15d6e7(0x555)]({'owner':this[_0x15d6e7(0x5d1)][_0x15d6e7(0x4f4)],'name':_0x573e5b[_0x15d6e7(0x524)]});if(!_0x162294)return{'message':'Fluxo\x20no\x20encontrado'};if(_0x573e5b[_0x15d6e7(0x6de)]===!0x0&&await I[_0x15d6e7(0x5b9)]({'owner':this[_0x15d6e7(0x5d1)][_0x15d6e7(0x4f4)]},{'default':!0x1}),_0x573e5b[_0x15d6e7(0x590)]){if(await I[_0x15d6e7(0x555)]({'owner':this['instance'][_0x15d6e7(0x4f4)],'name':_0x573e5b[_0x15d6e7(0x590)]}))return{'message':'J\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x573e5b[_0x15d6e7(0x524)]=_0x573e5b[_0x15d6e7(0x590)],delete _0x573e5b[_0x15d6e7(0x590)];}return await I[_0x15d6e7(0x3a8)](_0x162294['_id'],{'$set':_0x573e5b},{'new':!0x0});}catch(_0x592ee2){throw this[_0x15d6e7(0x1de)][_0x15d6e7(0x3cc)](this['instanceName']+'\x20('+this[_0x15d6e7(0x5d1)][_0x15d6e7(0x4f4)]+_0x15d6e7(0x48f)+_0x592ee2),new g(_0x15d6e7(0x534)+_0x592ee2);}}async[a0_0x525ac(0x328)](_0x35ed72){const _0x473386=a0_0x525ac;try{this[_0x473386(0x1de)]['verbose'](this[_0x473386(0x2b3)]+'\x20('+this[_0x473386(0x5d1)][_0x473386(0x4f4)]+_0x473386(0x38e));let _0x220a66={'owner':this[_0x473386(0x5d1)][_0x473386(0x4f4)],'name':_0x35ed72['name']},_0x517247=await I[_0x473386(0x555)](_0x220a66);_0x517247||this[_0x473386(0x44c)](_0x473386(0x3ae));let {block:_0x512522}=_0x35ed72;return _0x512522?.[_0x473386(0x2c2)]?this['deleteBlock'](_0x517247,_0x35ed72):_0x512522[_0x473386(0x635)]?await this[_0x473386(0x684)](_0x517247,_0x35ed72):this['addBlock'](_0x517247,_0x35ed72),await _0x517247[_0x473386(0x2cf)](),_0x517247;}catch(_0x58b4b6){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x58b4b6);}}['throwAndLogError'](_0x422cbd){const _0x347320=a0_0x525ac;throw this[_0x347320(0x1de)][_0x347320(0x3cc)](this['instanceName']+'\x20('+this[_0x347320(0x5d1)][_0x347320(0x4f4)]+_0x347320(0x6a4)+_0x422cbd),new g(_0x422cbd);}[a0_0x525ac(0x4d5)](_0x317a15,_0x516399){const _0x524466=a0_0x525ac;let {block:_0x31710f}=_0x516399;if(_0x31710f[_0x524466(0x594)]===_0x524466(0x5a8)){this['throwAndLogError']('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x31710f[_0x524466(0x635)]){this['throwAndLogError']('blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco');return;}let _0xc8b885=_0x317a15['blocks'][_0x524466(0x252)](_0x2c3fed=>_0x2c3fed[_0x524466(0x635)][_0x524466(0x679)]()===_0x516399[_0x524466(0x5cd)]['_id'][_0x524466(0x679)]());if(!_0xc8b885){this[_0x524466(0x44c)](_0x524466(0x210)+_0x31710f[_0x524466(0x635)]+_0x524466(0x34d));return;}_0x317a15[_0x524466(0x19b)]=_0x317a15['blocks'][_0x524466(0x4c9)](_0x1e1135=>_0x1e1135[_0x524466(0x635)]['toString']()!==_0x516399[_0x524466(0x5cd)][_0x524466(0x635)]['toString']()),_0x317a15[_0x524466(0x225)]=_0x317a15[_0x524466(0x225)]['filter'](_0x1a77bd=>_0x1a77bd['blockId']!==_0x31710f[_0x524466(0x635)]['toString']()),_0x317a15[_0x524466(0x31b)]=_0x317a15[_0x524466(0x31b)][_0x524466(0x4c9)](_0x3baab5=>_0x3baab5[_0x524466(0x290)]!==_0x31710f['_id'][_0x524466(0x679)]()),_0x317a15[_0x524466(0x72a)]=_0x317a15[_0x524466(0x72a)]['filter'](_0x1d07cd=>_0x1d07cd['blockId']!==_0x31710f['_id'][_0x524466(0x679)]()),this[_0x524466(0x3e6)](_0x317a15[_0x524466(0x19b)],_0xc8b885[_0x524466(0x289)]);}async[a0_0x525ac(0x684)](_0x4f5aee,_0x38df50){const _0x327da1=a0_0x525ac;let _0x5473dc=_0x4f5aee[_0x327da1(0x19b)]['findIndex'](_0xde219a=>_0xde219a[_0x327da1(0x635)][_0x327da1(0x679)]()===_0x38df50[_0x327da1(0x5cd)][_0x327da1(0x635)][_0x327da1(0x679)]());if(this['logger']['verbose'](this[_0x327da1(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x5473dc),_0x5473dc===-0x1){this[_0x327da1(0x1de)][_0x327da1(0x6bd)](_0x327da1(0x210)+_0x38df50[_0x327da1(0x5cd)]['_id']+_0x327da1(0x5fc));return;}if(_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x594)]==='start'){let _0x11538a=Object[_0x327da1(0x697)](_0x38df50['block']);if(_0x11538a[_0x327da1(0x261)]>0x2||_0x11538a['length']===0x2&&!_0x11538a['includes'](_0x327da1(0x2fc))){this[_0x327da1(0x44c)](_0x327da1(0x5ec));return;}}let _0x5055a5=_0x4f5aee[_0x327da1(0x19b)][_0x5473dc]['groupId'];for(let _0x37e6fd in _0x38df50[_0x327da1(0x5cd)])_0x38df50[_0x327da1(0x5cd)][_0x327da1(0x54d)](_0x37e6fd)&&(_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x37e6fd]=_0x38df50[_0x327da1(0x5cd)][_0x37e6fd]);if(this['logger']['verbose'](this[_0x327da1(0x2b3)]+'\x20('+this[_0x327da1(0x5d1)][_0x327da1(0x4f4)]+_0x327da1(0x3b1)+JSON[_0x327da1(0x56f)](_0x4f5aee[_0x327da1(0x19b)][_0x5473dc])),_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x327)]&&_0x327da1(0x458)in _0x4f5aee['blocks'][_0x5473dc][_0x327da1(0x327)]){this[_0x327da1(0x1de)][_0x327da1(0x6bd)](this[_0x327da1(0x2b3)]+'\x20('+this['instance']['wuid']+_0x327da1(0x282));let _0x3c840d=JSON['stringify'](_0x4f5aee['blocks'][_0x5473dc]['apirequest'][_0x327da1(0x458)],null,0x1);_0x3c840d[_0x327da1(0x261)]>0x2&&(_0x3c840d=_0x3c840d[_0x327da1(0x629)](0x1,_0x3c840d[_0x327da1(0x261)]-0x1)[_0x327da1(0x3ca)]()),_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x327)][_0x327da1(0x4d0)]=_0x3c840d;}if(_0x4f5aee[_0x327da1(0x19b)][_0x5473dc]['apirequest']&&_0x327da1(0x6a7)in _0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x327)]){this['logger'][_0x327da1(0x6bd)](this[_0x327da1(0x2b3)]+'\x20('+this['instance']['wuid']+_0x327da1(0x59b));let _0x345c38=JSON['stringify'](_0x4f5aee[_0x327da1(0x19b)][_0x5473dc]['apirequest'][_0x327da1(0x6a7)],null,0x1);_0x345c38['length']>0x2&&(_0x345c38=_0x345c38[_0x327da1(0x629)](0x1,_0x345c38[_0x327da1(0x261)]-0x1)[_0x327da1(0x3ca)]()),_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x327)][_0x327da1(0x31d)]=_0x345c38;}let _0x441fe7=_0x4f5aee[_0x327da1(0x19b)][_0x5473dc][_0x327da1(0x289)];_0x5055a5!==_0x441fe7?(this[_0x327da1(0x3e6)](_0x4f5aee['blocks'],_0x5055a5),this[_0x327da1(0x3e6)](_0x4f5aee[_0x327da1(0x19b)],_0x441fe7)):this['reorderBlocks'](_0x4f5aee[_0x327da1(0x19b)],_0x5055a5);}[a0_0x525ac(0x494)](_0x1cdd87,_0x155c73){const _0x237ea0=a0_0x525ac;if(_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x594)]===_0x237ea0(0x5a8)){this[_0x237ea0(0x44c)]('No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro');return;}if(_0x155c73['block'][_0x237ea0(0x327)]&&_0x237ea0(0x458)in _0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x327)]){this[_0x237ea0(0x1de)][_0x237ea0(0x6bd)](this[_0x237ea0(0x2b3)]+'\x20('+this[_0x237ea0(0x5d1)][_0x237ea0(0x4f4)]+_0x237ea0(0x282));let _0x12c9ed=JSON['stringify'](_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x327)]['header'],null,0x1);_0x12c9ed['length']>0x2&&(_0x12c9ed=_0x12c9ed[_0x237ea0(0x629)](0x1,_0x12c9ed[_0x237ea0(0x261)]-0x1)[_0x237ea0(0x3ca)]()),_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x327)][_0x237ea0(0x4d0)]=_0x12c9ed;}_0x155c73['block'][_0x237ea0(0x327)]&&_0x237ea0(0x6a7)in _0x155c73[_0x237ea0(0x5cd)]['apirequest']&&(this['logger'][_0x237ea0(0x6bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x237ea0(0x59b)),_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x327)][_0x237ea0(0x31d)]=JSON[_0x237ea0(0x56f)](_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x327)][_0x237ea0(0x6a7)],null,0x1)[_0x237ea0(0x3ca)]()),_0x1cdd87[_0x237ea0(0x19b)]['push'](_0x155c73['block']),this[_0x237ea0(0x3e6)](_0x1cdd87['blocks'],_0x155c73[_0x237ea0(0x5cd)][_0x237ea0(0x289)]);}[a0_0x525ac(0x3e6)](_0x31eaeb,_0x452bb8){const _0x46a070=a0_0x525ac;let _0x567376=_0x31eaeb[_0x46a070(0x4c9)](_0x5df5c7=>_0x5df5c7[_0x46a070(0x289)]===_0x452bb8);_0x567376[_0x46a070(0x179)]((_0x222810,_0x1ffa2c)=>_0x222810[_0x46a070(0x3da)]-_0x1ffa2c[_0x46a070(0x3da)]),_0x567376[_0x46a070(0x319)]((_0xd4ce75,_0x32d660)=>_0xd4ce75['order']=_0x32d660+0x1);}async[a0_0x525ac(0x647)](_0x703b55){const _0x3c4241=a0_0x525ac;try{if(this['logger'][_0x3c4241(0x6bd)](this['instanceName']+'\x20('+this[_0x3c4241(0x5d1)][_0x3c4241(0x4f4)]+_0x3c4241(0x596)),!_0x703b55||!_0x703b55[_0x3c4241(0x380)]){this[_0x3c4241(0x44c)](_0x3c4241(0x37f));return;}let _0x49359c={'owner':this[_0x3c4241(0x5d1)][_0x3c4241(0x4f4)],'name':_0x703b55[_0x3c4241(0x524)]},_0x96a068=await I[_0x3c4241(0x555)](_0x49359c);_0x96a068||this[_0x3c4241(0x44c)](_0x3c4241(0x3ae));let {replyOption:_0x47d45a}=_0x703b55;return _0x47d45a?.[_0x3c4241(0x2c2)]?this[_0x3c4241(0x3f6)](_0x96a068,_0x703b55):_0x47d45a[_0x3c4241(0x635)]?await this[_0x3c4241(0x2b2)](_0x96a068,_0x703b55):this[_0x3c4241(0x346)](_0x96a068,_0x703b55),await _0x96a068[_0x3c4241(0x2cf)](),_0x96a068;}catch(_0x444dbe){this['throwAndLogError'](_0x3c4241(0x456)+_0x444dbe);}}[a0_0x525ac(0x3f6)](_0x419f30,_0x1cb40b){const _0x1cf837=a0_0x525ac;let {replyOption:_0x621a5f}=_0x1cb40b;if(!_0x621a5f[_0x1cf837(0x635)]){this[_0x1cf837(0x44c)](_0x1cf837(0x3f1));return;}if(!_0x419f30['replyOptions'][_0x1cf837(0x252)](_0x5ec0af=>_0x5ec0af[_0x1cf837(0x635)][_0x1cf837(0x679)]()===_0x1cb40b[_0x1cf837(0x380)]['_id'][_0x1cf837(0x679)]())){this['throwAndLogError'](_0x1cf837(0x1ec)+_0x621a5f[_0x1cf837(0x635)]+'\x20no\x20encontrado');return;}_0x419f30['replyOptions']=_0x419f30[_0x1cf837(0x72a)][_0x1cf837(0x4c9)](_0xa2a9f4=>_0xa2a9f4[_0x1cf837(0x635)][_0x1cf837(0x679)]()!==_0x1cb40b['replyOption']['_id'][_0x1cf837(0x679)]());}async[a0_0x525ac(0x2b2)](_0x43bdb1,_0xb6ebf0){const _0x191373=a0_0x525ac;let _0x5d294c=_0x43bdb1[_0x191373(0x72a)][_0x191373(0x1f7)](_0x47ef1b=>_0x47ef1b[_0x191373(0x635)][_0x191373(0x679)]()===_0xb6ebf0[_0x191373(0x380)][_0x191373(0x635)]['toString']());if(_0x5d294c===-0x1){this[_0x191373(0x44c)](_0x191373(0x1ec)+_0xb6ebf0['replyOption']['_id']+_0x191373(0x5fc));return;}for(let _0x2fd6aa in _0xb6ebf0[_0x191373(0x380)])_0xb6ebf0['replyOption'][_0x191373(0x54d)](_0x2fd6aa)&&(_0x43bdb1['replyOptions'][_0x5d294c][_0x2fd6aa]=_0xb6ebf0[_0x191373(0x380)][_0x2fd6aa]);}[a0_0x525ac(0x346)](_0x33fd4b,_0x32175c){const _0x137bbe=a0_0x525ac;_0x33fd4b['replyOptions'][_0x137bbe(0x6a1)](_0x32175c[_0x137bbe(0x380)]);}async['editFlowGroup'](_0x500a0a){const _0x30bb17=a0_0x525ac;this[_0x30bb17(0x1de)][_0x30bb17(0x6bd)](this['instanceName']+'\x20('+this[_0x30bb17(0x5d1)]['wuid']+_0x30bb17(0x161)+_0x500a0a);try{this[_0x30bb17(0x1de)][_0x30bb17(0x6bd)](this['instanceName']+'\x20('+this[_0x30bb17(0x5d1)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x238e26={'owner':this[_0x30bb17(0x5d1)][_0x30bb17(0x4f4)],'name':_0x500a0a['name']},_0x57ae02=await I[_0x30bb17(0x555)](_0x238e26);if(!_0x57ae02)throw new Error(_0x30bb17(0x3ae));if(_0x500a0a['group']&&_0x500a0a[_0x30bb17(0x22c)]?.[_0x30bb17(0x2c2)]===!0x0){if(this['logger'][_0x30bb17(0x6bd)](this['instanceName']+'\x20('+this[_0x30bb17(0x5d1)][_0x30bb17(0x4f4)]+'):\x20delete\x20=\x20true'),_0x500a0a['group'][_0x30bb17(0x6de)]===!0x0)return{'message':_0x30bb17(0x417)};if(_0x57ae02[_0x30bb17(0x19b)][_0x30bb17(0x16d)](_0xe50d95=>_0xe50d95['groupId'][_0x30bb17(0x679)]()===_0x500a0a['group'][_0x30bb17(0x635)]))return this[_0x30bb17(0x1de)]['verbose'](this[_0x30bb17(0x2b3)]+'\x20('+this['instance'][_0x30bb17(0x4f4)]+_0x30bb17(0x244)),{'message':_0x30bb17(0x563)};_0x57ae02['groups']=_0x57ae02[_0x30bb17(0x5ed)][_0x30bb17(0x4c9)](_0x4f76d6=>_0x4f76d6['_id'][_0x30bb17(0x679)]()!==_0x500a0a['group']['_id']);}else{if(_0x500a0a[_0x30bb17(0x22c)]){if(_0x500a0a[_0x30bb17(0x22c)][_0x30bb17(0x6de)]===!0x0)return{'message':_0x30bb17(0x640)};if(_0x500a0a[_0x30bb17(0x22c)][_0x30bb17(0x635)]){let _0x282747=_0x57ae02[_0x30bb17(0x5ed)][_0x30bb17(0x252)](_0x3f5e4a=>_0x3f5e4a[_0x30bb17(0x635)][_0x30bb17(0x679)]()===_0x500a0a['group'][_0x30bb17(0x635)]);_0x282747&&(_0x500a0a[_0x30bb17(0x22c)]['x']<0x0&&(_0x500a0a[_0x30bb17(0x22c)]['x']=0x0),_0x500a0a[_0x30bb17(0x22c)]['y']<0x0&&(_0x500a0a[_0x30bb17(0x22c)]['y']=0x0),Object['assign'](_0x282747,_0x500a0a[_0x30bb17(0x22c)]));}else _0x57ae02['groups'][_0x30bb17(0x6a1)](_0x500a0a[_0x30bb17(0x22c)]);}}return await _0x57ae02['save'](),_0x57ae02;}catch(_0x322e1b){throw this[_0x30bb17(0x1de)][_0x30bb17(0x3cc)](this['instanceName']+'\x20('+this[_0x30bb17(0x5d1)][_0x30bb17(0x4f4)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x322e1b),new g(_0x30bb17(0x38f)+_0x322e1b);}}async[a0_0x525ac(0x23c)](_0x55c48a){const _0x315f68=a0_0x525ac;try{this[_0x315f68(0x1de)][_0x315f68(0x6bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x315f68(0x399));let _0x525e2c={'owner':this['instance']['wuid'],'name':_0x55c48a['name']},_0x1b9735=await I[_0x315f68(0x555)](_0x525e2c);if(!_0x1b9735)throw new Error(_0x315f68(0x3ae));let _0x4f6c9c=!0x1;if(_0x55c48a[_0x315f68(0x241)]?.[_0x315f68(0x2c2)]===!0x0)_0x1b9735['conditions']=_0x1b9735[_0x315f68(0x225)]['filter'](_0x651522=>_0x651522&&_0x55c48a[_0x315f68(0x241)]&&_0x651522['_id']&&_0x55c48a[_0x315f68(0x241)][_0x315f68(0x635)]&&_0x651522['_id']['toString']()!==_0x55c48a[_0x315f68(0x241)][_0x315f68(0x635)]['toString']()),_0x4f6c9c=!0x0;else{let _0x2d3dc7=_0x1b9735['conditions'][_0x315f68(0x252)](_0xf9bd48=>_0xf9bd48&&_0x55c48a[_0x315f68(0x241)]&&_0xf9bd48[_0x315f68(0x635)]&&_0x55c48a['condition'][_0x315f68(0x635)]&&_0xf9bd48[_0x315f68(0x635)]['toString']()===_0x55c48a[_0x315f68(0x241)][_0x315f68(0x635)][_0x315f68(0x679)]());_0x2d3dc7?(_0x4f6c9c=_0x2d3dc7[_0x315f68(0x3da)]!==_0x55c48a['condition'][_0x315f68(0x3da)],Object[_0x315f68(0x2da)](_0x2d3dc7,_0x55c48a[_0x315f68(0x241)])):(_0x1b9735[_0x315f68(0x225)]['push'](_0x55c48a[_0x315f68(0x241)]),_0x4f6c9c=!0x0);}if(_0x4f6c9c){_0x1b9735['conditions'][_0x315f68(0x179)]((_0x2613db,_0x453ca4)=>_0x2613db[_0x315f68(0x3da)]>_0x453ca4[_0x315f68(0x3da)]?0x1:_0x453ca4[_0x315f68(0x3da)]>_0x2613db[_0x315f68(0x3da)]?-0x1:0x0);for(let _0x84b13e=0x0;_0x84b13e<_0x1b9735[_0x315f68(0x225)][_0x315f68(0x261)];_0x84b13e++)_0x1b9735[_0x315f68(0x225)][_0x84b13e][_0x315f68(0x3da)]=_0x84b13e+0x1;_0x1b9735[_0x315f68(0x225)][_0x315f68(0x261)]>0x0&&(_0x1b9735['conditions'][0x0]['OrAnd']=_0x315f68(0x189));}return await _0x1b9735['save'](),_0x1b9735;}catch(_0x4a2a5c){throw this[_0x315f68(0x1de)][_0x315f68(0x3cc)](this[_0x315f68(0x2b3)]+'\x20('+this[_0x315f68(0x5d1)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+_0x4a2a5c),new Error('Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+_0x4a2a5c);}}async[a0_0x525ac(0x50e)](_0x5a95b9){const _0xbd9496=a0_0x525ac;try{this[_0xbd9496(0x1de)]['verbose'](this[_0xbd9496(0x2b3)]+'\x20('+this[_0xbd9496(0x5d1)][_0xbd9496(0x4f4)]+'):\x20Editando\x20edio\x20do\x20fluxo...');let _0xf5e7e3={'owner':this[_0xbd9496(0x5d1)][_0xbd9496(0x4f4)],'name':_0x5a95b9[_0xbd9496(0x524)]},_0x5220bf=await I['findOne'](_0xf5e7e3);if(!_0x5220bf)throw new Error(_0xbd9496(0x3ae));let _0x204a4c=!0x1;if(_0x5a95b9[_0xbd9496(0x4d4)]?.[_0xbd9496(0x2c2)]===!0x0)_0x5220bf[_0xbd9496(0x31b)]=_0x5220bf[_0xbd9496(0x31b)][_0xbd9496(0x4c9)](_0x4a6e3f=>_0x4a6e3f&&_0x5a95b9['varedit']&&_0x4a6e3f[_0xbd9496(0x635)]&&_0x5a95b9[_0xbd9496(0x4d4)][_0xbd9496(0x635)]&&_0x4a6e3f[_0xbd9496(0x635)][_0xbd9496(0x679)]()!==_0x5a95b9[_0xbd9496(0x4d4)][_0xbd9496(0x635)][_0xbd9496(0x679)]()),_0x204a4c=!0x0;else{let _0x5d8deb=_0x5220bf[_0xbd9496(0x31b)][_0xbd9496(0x252)](_0x3ddf96=>_0x3ddf96&&_0x5a95b9[_0xbd9496(0x4d4)]&&_0x3ddf96[_0xbd9496(0x635)]&&_0x5a95b9[_0xbd9496(0x4d4)][_0xbd9496(0x635)]&&_0x3ddf96[_0xbd9496(0x635)][_0xbd9496(0x679)]()===_0x5a95b9[_0xbd9496(0x4d4)][_0xbd9496(0x635)][_0xbd9496(0x679)]());_0x5d8deb?(_0x204a4c=_0x5d8deb[_0xbd9496(0x3da)]!==_0x5a95b9[_0xbd9496(0x4d4)]['order'],Object[_0xbd9496(0x2da)](_0x5d8deb,_0x5a95b9[_0xbd9496(0x4d4)])):(_0x5220bf[_0xbd9496(0x31b)][_0xbd9496(0x6a1)](_0x5a95b9[_0xbd9496(0x4d4)]),_0x204a4c=!0x0);}if(_0x204a4c){_0x5220bf[_0xbd9496(0x31b)][_0xbd9496(0x179)]((_0x4b1fae,_0x275b35)=>_0x4b1fae[_0xbd9496(0x3da)]>_0x275b35[_0xbd9496(0x3da)]?0x1:_0x275b35['order']>_0x4b1fae[_0xbd9496(0x3da)]?-0x1:0x0);for(let _0xd8d4dd=0x0;_0xd8d4dd<_0x5220bf[_0xbd9496(0x31b)]['length'];_0xd8d4dd++)_0x5220bf[_0xbd9496(0x31b)][_0xd8d4dd][_0xbd9496(0x3da)]=_0xd8d4dd+0x1;}return await _0x5220bf[_0xbd9496(0x2cf)](),_0x5220bf;}catch(_0x52c0d6){throw this[_0xbd9496(0x1de)][_0xbd9496(0x3cc)](this[_0xbd9496(0x2b3)]+'\x20('+this[_0xbd9496(0x5d1)][_0xbd9496(0x4f4)]+_0xbd9496(0x487)+_0x52c0d6),new g(_0xbd9496(0x627)+_0x52c0d6);}}async[a0_0x525ac(0x271)](_0x5b4ab5){const _0x1fd31a=a0_0x525ac;try{this['logger']['verbose'](this[_0x1fd31a(0x2b3)]+'\x20('+this[_0x1fd31a(0x5d1)][_0x1fd31a(0x4f4)]+_0x1fd31a(0x614));let _0x216966={'owner':this['instance'][_0x1fd31a(0x4f4)],'name':_0x5b4ab5['name']},_0x5e8be3=await I['findOne'](_0x216966);if(!_0x5e8be3)throw new Error(_0x1fd31a(0x3ae));_0x5b4ab5[_0x1fd31a(0x24b)][_0x1fd31a(0x524)]=_0x5b4ab5['variable'][_0x1fd31a(0x524)][_0x1fd31a(0x3ca)](),_0x5b4ab5[_0x1fd31a(0x24b)][_0x1fd31a(0x524)][_0x1fd31a(0x407)]('_')&&(_0x5b4ab5['variable'][_0x1fd31a(0x524)]=_0x5b4ab5[_0x1fd31a(0x24b)]['name']['substring'](0x1)),_0x5b4ab5[_0x1fd31a(0x24b)][_0x1fd31a(0x524)]=_0x5b4ab5['variable'][_0x1fd31a(0x524)]['trim']();let _0x3ad324=_0x5e8be3[_0x1fd31a(0x2b6)][_0x1fd31a(0x252)](_0x628635=>_0x628635[_0x1fd31a(0x524)]===_0x5b4ab5[_0x1fd31a(0x24b)][_0x1fd31a(0x524)]);if(_0x3ad324?.['leadInfo']===!0x0)throw new Error(_0x1fd31a(0x70e));if(_0x5b4ab5[_0x1fd31a(0x24b)]?.[_0x1fd31a(0x2c2)]===!0x0){if(!_0x3ad324)return{'message':_0x1fd31a(0x6d7)};_0x5e8be3[_0x1fd31a(0x2b6)]=_0x5e8be3[_0x1fd31a(0x2b6)][_0x1fd31a(0x4c9)](_0x152945=>_0x152945[_0x1fd31a(0x524)]!==_0x5b4ab5[_0x1fd31a(0x24b)][_0x1fd31a(0x524)]);}else _0x3ad324?Object[_0x1fd31a(0x2da)](_0x3ad324,_0x5b4ab5[_0x1fd31a(0x24b)]):_0x5e8be3[_0x1fd31a(0x2b6)][_0x1fd31a(0x6a1)](_0x5b4ab5[_0x1fd31a(0x24b)]);return await _0x5e8be3[_0x1fd31a(0x2cf)](),_0x5e8be3;}catch(_0x529153){throw this[_0x1fd31a(0x1de)][_0x1fd31a(0x3cc)](this[_0x1fd31a(0x2b3)]+'\x20('+this[_0x1fd31a(0x5d1)][_0x1fd31a(0x4f4)]+_0x1fd31a(0x65a)+_0x529153),new g(_0x1fd31a(0x22d)+_0x529153);}}async[a0_0x525ac(0x6d1)](_0x31e8d8){const _0x587169=a0_0x525ac;try{if(!this[_0x587169(0x42a)]?.['flowConfig']['enabled'])throw new g(_0x587169(0x66f));this[_0x587169(0x1de)][_0x587169(0x6bd)](this[_0x587169(0x2b3)]+'\x20('+this[_0x587169(0x5d1)][_0x587169(0x4f4)]+_0x587169(0x437));let _0x421324=(await this[_0x587169(0x3cd)]({'numbers':[_0x31e8d8['remoteJid']]}))[0x0];if(!_0x421324[_0x587169(0x42c)]&&!(0x0,w[_0x587169(0x70d)])(_0x421324['jid'])&&!_0x421324[_0x587169(0x2c9)][_0x587169(0x672)]('@broadcast'))throw new g(_0x421324);let _0x25410e=await I[_0x587169(0x555)]({'owner':this[_0x587169(0x5d1)][_0x587169(0x4f4)],'name':_0x31e8d8[_0x587169(0x524)]});if(!_0x25410e)return this[_0x587169(0x1de)][_0x587169(0x3cc)](this[_0x587169(0x2b3)]+'\x20('+this[_0x587169(0x5d1)][_0x587169(0x4f4)]+'):\x20Flow\x20no\x20encontrado'),{'message':_0x587169(0x3ae)};let _0x36a154=await this['createConversationforStartFlow'](_0x25410e,_0x421324[_0x587169(0x2c9)],_0x31e8d8[_0x587169(0x196)]);if(_0x36a154){this[_0x587169(0x1de)][_0x587169(0x6bd)](this[_0x587169(0x2b3)]+'\x20('+this[_0x587169(0x5d1)][_0x587169(0x4f4)]+_0x587169(0x580));let _0x36824e=await this[_0x587169(0x2dc)](_0x36a154);return _0x36824e&&await this[_0x587169(0x30c)](_0x36a154,_0x36824e,_0x36a154[_0x587169(0x6ff)]),{'message':_0x587169(0x4e5)+_0x31e8d8[_0x587169(0x6ff)]};}}catch(_0x10a537){if(this[_0x587169(0x1de)]['error'](this[_0x587169(0x2b3)]+'\x20('+this['instance'][_0x587169(0x4f4)]+_0x587169(0x69b)+_0x10a537),_0x10a537&&_0x10a537[_0x587169(0x197)]&&Array[_0x587169(0x19a)](_0x10a537[_0x587169(0x197)])&&_0x10a537[_0x587169(0x197)][0x0]){let {jid:_0x51af34,exists:_0x116361}=_0x10a537[_0x587169(0x197)][0x0];}throw new g('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x10a537[_0x587169(0x197)]);}}async['closeExistingConversations'](_0x345572){const _0x55f5b8=a0_0x525ac;let _0x1a1359=await F[_0x55f5b8(0x5b9)]({'owner':this[_0x55f5b8(0x5d1)]['wuid'],'remoteJid':_0x345572,'status':'open'},{'$set':{'status':_0x55f5b8(0x1c1)}});return this[_0x55f5b8(0x1de)][_0x55f5b8(0x6bd)](this['instanceName']+'\x20('+this[_0x55f5b8(0x5d1)][_0x55f5b8(0x4f4)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x1a1359;}async['createConversationforStartFlow'](_0x3a3360,_0x157151,_0x2471a7){const _0x5962e1=a0_0x525ac;this[_0x5962e1(0x1de)][_0x5962e1(0x6bd)](this['instanceName']+'\x20('+this[_0x5962e1(0x5d1)][_0x5962e1(0x4f4)]+'):\x20Criando\x20nova\x20conversa'),await this[_0x5962e1(0x353)](_0x157151);try{let _0x103c48=require(_0x5962e1(0x721))[_0x5962e1(0x3d9)],_0x218d6b=Date[_0x5962e1(0x50c)](),_0x367dd4=_0x5962e1(0x5a8),_0x44fb77={},_0x36a02e={},_0x429f96={..._0x3a3360['_doc'],'chatLog':null},_0x5a3f2a=await this[_0x5962e1(0x509)](_0x429f96[_0x5962e1(0x2b6)]),_0xec787=await this[_0x5962e1(0x450)](_0x157151),_0x1f0086={..._0x5a3f2a,..._0xec787,'_remoteJid':_0x157151},_0x3c40ca={'lastReceivedMessage':_0x44fb77,'lastSendMessage':_0x36a02e,'lastBlockId':_0x367dd4,'lastCondition':!0x0,'realVariables':_0x1f0086};_0x429f96[_0x5962e1(0x1e0)]=_0x3c40ca,_0x429f96[_0x5962e1(0x1e0)][_0x5962e1(0x52c)]={..._0x1f0086,..._0x2471a7},delete _0x429f96[_0x5962e1(0x635)],_0x429f96[_0x5962e1(0x635)]=new _0x103c48(),_0x429f96[_0x5962e1(0x296)]=_0x218d6b,_0x429f96[_0x5962e1(0x504)]=_0x5962e1(0x182),_0x429f96[_0x5962e1(0x6ff)]=_0x157151;let _0x2c84f2=await F[_0x5962e1(0x58a)](_0x429f96);return this[_0x5962e1(0x1de)][_0x5962e1(0x6bd)](this['instanceName']+'\x20('+this[_0x5962e1(0x5d1)][_0x5962e1(0x4f4)]+_0x5962e1(0x2bd)),_0x2c84f2?_0x429f96:null;}catch(_0x3119dc){throw this[_0x5962e1(0x1de)]['error'](this[_0x5962e1(0x2b3)]+'\x20('+this[_0x5962e1(0x5d1)][_0x5962e1(0x4f4)]+_0x5962e1(0x42f)+_0x3119dc),new g(_0x3119dc[_0x5962e1(0x197)]);}}async[a0_0x525ac(0x1da)](_0x56e2a1){const _0x4c574b=a0_0x525ac;try{return this['logger'][_0x4c574b(0x6bd)](this[_0x4c574b(0x2b3)]+'\x20('+this[_0x4c574b(0x5d1)]['wuid']+'):\x20Buscando\x20conversa...'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c574b(0x5d1)][_0x4c574b(0x4f4)]+_0x4c574b(0x489)+{'owner':this[_0x4c574b(0x5d1)][_0x4c574b(0x4f4)],'_id':_0x56e2a1}),await F[_0x4c574b(0x555)]({'owner':this[_0x4c574b(0x5d1)]['wuid'],'_id':_0x56e2a1});}catch(_0x120a03){throw this[_0x4c574b(0x1de)]['error'](this[_0x4c574b(0x2b3)]+'\x20('+this[_0x4c574b(0x5d1)][_0x4c574b(0x4f4)]+_0x4c574b(0x228)+_0x120a03),new g(_0x4c574b(0x283)+_0x120a03[_0x4c574b(0x197)]);}}async['fetchConversation'](_0x412755,_0x1f94e6=0x64){const _0x4ea5ad=a0_0x525ac;try{this[_0x4ea5ad(0x1de)][_0x4ea5ad(0x6bd)](this[_0x4ea5ad(0x2b3)]+'\x20('+this['instance'][_0x4ea5ad(0x4f4)]+'):\x20Buscando\x20conversas...');let _0x32ac4f={..._0x412755,'owner':this['instance'][_0x4ea5ad(0x4f4)]};return this[_0x4ea5ad(0x1de)]['verbose'](_0x32ac4f),await F[_0x4ea5ad(0x252)](_0x32ac4f)[_0x4ea5ad(0x292)](_0x1f94e6)[_0x4ea5ad(0x179)]({'lastInteraction':-0x1});}catch(_0x30344d){throw this[_0x4ea5ad(0x1de)][_0x4ea5ad(0x3cc)](this[_0x4ea5ad(0x2b3)]+'\x20('+this[_0x4ea5ad(0x5d1)]['wuid']+_0x4ea5ad(0x67f)+_0x30344d),new g(_0x4ea5ad(0x547)+_0x30344d['message']);}}async['deleteConversation'](_0x512f27){const _0x15f9f2=a0_0x525ac;try{return this['logger'][_0x15f9f2(0x6bd)](this[_0x15f9f2(0x2b3)]+'\x20('+this['instance'][_0x15f9f2(0x4f4)]+_0x15f9f2(0x214)),this[_0x15f9f2(0x1de)][_0x15f9f2(0x6bd)](this[_0x15f9f2(0x2b3)]+'\x20('+this['instance'][_0x15f9f2(0x4f4)]+_0x15f9f2(0x489)+{'owner':this[_0x15f9f2(0x5d1)][_0x15f9f2(0x4f4)],'_id':_0x512f27}),(await F['deleteOne']({'owner':this[_0x15f9f2(0x5d1)]['wuid'],'_id':_0x512f27}))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x15f9f2(0x5d3)};}catch(_0x245294){throw this[_0x15f9f2(0x1de)][_0x15f9f2(0x3cc)](this['instanceName']+'\x20('+this[_0x15f9f2(0x5d1)][_0x15f9f2(0x4f4)]+_0x15f9f2(0x24f)+_0x245294),new g(_0x15f9f2(0x701)+_0x245294[_0x15f9f2(0x197)]);}}async['editConversation'](_0x2642a3){const _0x142da4=a0_0x525ac;try{let {_id:_0xd0f945,chatLog:_0x50c2eb,status:_0x146b27}=_0x2642a3;if(!_0xd0f945)return{'message':_0x142da4(0x603)};let _0x5cc212={};if(_0x146b27!==void 0x0&&(_0x5cc212['status']=_0x146b27),Object['keys'](_0x5cc212)['length']===0x0)return{'message':_0x142da4(0x574)};let _0x1fd7d5=this['instance'][_0x142da4(0x4f4)],_0xfaf985=await F[_0x142da4(0x2bf)]({'_id':_0xd0f945,'owner':_0x1fd7d5},{'$set':_0x5cc212},{'new':!0x0});return _0xfaf985||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.'};}catch(_0x541dc5){throw this[_0x142da4(0x1de)][_0x142da4(0x3cc)](this[_0x142da4(0x2b3)]+'\x20('+this['instance'][_0x142da4(0x4f4)]+_0x142da4(0x680)+_0x541dc5),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x541dc5['message']);}}async[a0_0x525ac(0x4fe)](_0x302393){const _0x211883=a0_0x525ac;try{_0x302393['id']=this['createJid'](_0x302393['id']);let {id:_0x3f2637,leadInfo:_0x4eabc5}=_0x302393;if(!_0x3f2637)throw new Error('O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.');let _0x41b57c=(_0x571faf,_0x214b11,_0x5e7310)=>{const _0x14ade2=a0_0x59e4;_0x5e7310[_0x14ade2(0x319)](_0x5cb4ec=>{const _0x1590fa=_0x14ade2;_0x571faf[_0x5cb4ec]!==void 0x0&&(_0x214b11[_0x1590fa(0x336)+_0x5cb4ec]=_0x571faf[_0x5cb4ec]);});},_0x539518={};if(_0x41b57c(_0x4eabc5,_0x539518,[_0x211883(0x2e4),_0x211883(0x564),_0x211883(0x51b),_0x211883(0x263),_0x211883(0x504),_0x211883(0x3d7),_0x211883(0x723),_0x211883(0x395),'responsavelid']),Array[_0x211883(0x19a)](_0x4eabc5[_0x211883(0x1ae)])&&(_0x539518['leadInfo.customFields']=_0x4eabc5[_0x211883(0x1ae)]['map'](_0x1bec50=>({'_id':_0x1bec50[_0x211883(0x635)],'value':_0x1bec50[_0x211883(0x3a7)]}))),_0x302393[_0x211883(0x2c0)][_0x211883(0x29b)]!==void 0x0&&(_0x539518['leadInfo.desativadoFluxoAte']=Number(_0x302393[_0x211883(0x2c0)][_0x211883(0x29b)])),_0x302393[_0x211883(0x30a)]!==void 0x0&&(_0x539518[_0x211883(0x30a)]=Number(_0x302393[_0x211883(0x30a)])),Object['keys'](_0x539518)[_0x211883(0x261)]===0x0)throw new Error('Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.');let _0x3ad47d=this[_0x211883(0x5d1)][_0x211883(0x4f4)];if(!_0x3ad47d)throw new Error(_0x211883(0x4bc));if(!await D[_0x211883(0x555)]({'id':_0x302393['id'],'owner':_0x3ad47d})){let _0x560335=(await this[_0x211883(0x3cd)]({'numbers':[_0x302393['id']]}))[0x0];if(!_0x560335[_0x211883(0x42c)]&&!(0x0,w[_0x211883(0x70d)])(_0x560335[_0x211883(0x2c9)])&&!_0x560335[_0x211883(0x2c9)][_0x211883(0x672)](_0x211883(0x47f)))throw new g(_0x560335);_0x302393['id']=_0x560335[_0x211883(0x2c9)];}let _0x1cb696=await D[_0x211883(0x2bf)]({'id':_0x302393['id'],'owner':_0x3ad47d},{'$set':_0x539518},{'new':!0x0,'upsert':!0x0});return _0x1cb696&&q(this['instanceName'],_0x211883(0x2e8),{'chat':_0x1cb696}),_0x1cb696?(this[_0x211883(0x1de)][_0x211883(0x6bd)](this[_0x211883(0x2b3)]+'\x20('+this[_0x211883(0x5d1)][_0x211883(0x4f4)]+_0x211883(0x6a4)+_0x1cb696),_0x1cb696):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x7367cb){throw this[_0x211883(0x1de)][_0x211883(0x3cc)](this[_0x211883(0x2b3)]+'\x20('+this['instance'][_0x211883(0x4f4)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x7367cb),new g(_0x211883(0x4b9)+_0x7367cb['message']);}}async[a0_0x525ac(0x186)](_0x5e240d){const _0x2f2a6b=a0_0x525ac;let _0x367671=this[_0x2f2a6b(0x5d1)]['wuid'];try{let _0x169a54=await ie[_0x2f2a6b(0x159)](_0x367671);_0x169a54||(_0x169a54=new ie({'_id':_0x367671}),await _0x169a54['save']());let _0x48e265=_0x5e240d[_0x2f2a6b(0x635)]?_0x169a54[_0x2f2a6b(0x360)][_0x2f2a6b(0x1f7)](_0x51c95e=>_0x51c95e[_0x2f2a6b(0x635)]===_0x5e240d[_0x2f2a6b(0x635)]):-0x1;if(_0x5e240d[_0x2f2a6b(0x2c2)]&&_0x48e265>-0x1)_0x169a54[_0x2f2a6b(0x360)]['splice'](_0x48e265,0x1);else{if(_0x48e265>-0x1){let _0x3421b8=_0x169a54[_0x2f2a6b(0x360)][_0x48e265];_0x5e240d[_0x2f2a6b(0x63b)]&&(_0x3421b8[_0x2f2a6b(0x63b)]=_0x5e240d[_0x2f2a6b(0x63b)]),_0x5e240d[_0x2f2a6b(0x524)]&&(_0x3421b8[_0x2f2a6b(0x524)]=_0x5e240d['name']),_0x5e240d[_0x2f2a6b(0x51b)]&&(_0x3421b8['email']=_0x5e240d[_0x2f2a6b(0x51b)]),_0x5e240d[_0x2f2a6b(0x488)]&&(_0x3421b8[_0x2f2a6b(0x488)]=_0x5e240d['role']);}else _0x169a54[_0x2f2a6b(0x360)]['push']({'_id':_0x5e240d['_id']||new be['default'][(_0x2f2a6b(0x333))][(_0x2f2a6b(0x3d9))]()['toString'](),'fone':_0x5e240d[_0x2f2a6b(0x63b)],'name':_0x5e240d[_0x2f2a6b(0x524)],'email':_0x5e240d['email'],'role':_0x5e240d[_0x2f2a6b(0x488)]});}let _0x3deacb=await _0x169a54[_0x2f2a6b(0x2cf)]();return this[_0x2f2a6b(0x42a)]=_0x3deacb,this['logger'][_0x2f2a6b(0x6bd)](this[_0x2f2a6b(0x2b3)]+'\x20('+this[_0x2f2a6b(0x5d1)][_0x2f2a6b(0x4f4)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x2f2a6b(0x1de)][_0x2f2a6b(0x6bd)](this['instanceName']+'\x20('+this[_0x2f2a6b(0x5d1)][_0x2f2a6b(0x4f4)]+_0x2f2a6b(0x6a4)+this['AutomateSystem']),_0x3deacb;}catch(_0x16f4e1){throw this[_0x2f2a6b(0x1de)][_0x2f2a6b(0x3cc)](this[_0x2f2a6b(0x2b3)]+'\x20('+this[_0x2f2a6b(0x5d1)][_0x2f2a6b(0x4f4)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x16f4e1),new g(_0x2f2a6b(0x471)+_0x16f4e1[_0x2f2a6b(0x197)]);}}async['updateCustomFields'](_0x561e7){const _0x445455=a0_0x525ac;let _0x344306=this[_0x445455(0x5d1)][_0x445455(0x4f4)];try{let _0x3430fc=await ie[_0x445455(0x159)](_0x344306);_0x3430fc||(_0x3430fc=new ie({'_id':_0x344306}),await _0x3430fc['save']());let _0x2625e0=_0x561e7[_0x445455(0x635)]?_0x3430fc[_0x445455(0x1ae)]['findIndex'](_0x144af6=>_0x144af6[_0x445455(0x635)]===_0x561e7[_0x445455(0x635)]):-0x1,_0x5ad241=!0x1,_0x58d8e4=_0x3430fc[_0x445455(0x1ae)][_0x445455(0x16d)](_0x27cd88=>_0x27cd88['order']===_0x561e7[_0x445455(0x3da)]);if(_0x561e7[_0x445455(0x2c2)]&&_0x2625e0>-0x1)_0x3430fc['customFields'][_0x445455(0x5b8)](_0x2625e0,0x1),_0x5ad241=!0x0;else{if(_0x2625e0>-0x1){if(_0x3430fc[_0x445455(0x1ae)][_0x445455(0x16d)](_0x421c7b=>_0x421c7b[_0x445455(0x524)]===_0x561e7[_0x445455(0x524)]&&_0x421c7b[_0x445455(0x635)]!==_0x561e7[_0x445455(0x635)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');let _0x1df1e7=_0x3430fc[_0x445455(0x1ae)][_0x2625e0];_0x561e7[_0x445455(0x3da)]&&(_0x58d8e4||!Number[_0x445455(0x345)](_0x561e7['order']))&&(_0x1df1e7[_0x445455(0x3da)]=_0x561e7['order'],_0x5ad241=!0x0),_0x561e7[_0x445455(0x524)]&&(_0x1df1e7['name']=_0x561e7[_0x445455(0x524)]);}else{if(_0x3430fc['customFields']['some'](_0xb272af=>_0xb272af['name']===_0x561e7[_0x445455(0x524)]&&_0xb272af[_0x445455(0x635)]!==_0x561e7['_id']))throw new Error(_0x445455(0x20d));_0x3430fc[_0x445455(0x1ae)][_0x445455(0x6a1)]({'_id':_0x561e7[_0x445455(0x635)]||new be['default'][(_0x445455(0x333))]['ObjectId']()[_0x445455(0x679)](),'order':_0x561e7[_0x445455(0x3da)],'name':_0x561e7[_0x445455(0x524)]}),_0x5ad241=!0x0;}}if(_0x5ad241){_0x3430fc[_0x445455(0x1ae)]['sort']((_0x208c18,_0x54621a)=>_0x208c18[_0x445455(0x3da)]>_0x54621a[_0x445455(0x3da)]?0x1:_0x54621a[_0x445455(0x3da)]>_0x208c18[_0x445455(0x3da)]?-0x1:0x0);for(let _0x3c1676=0x0;_0x3c1676<_0x3430fc[_0x445455(0x1ae)]['length'];_0x3c1676++)_0x3430fc[_0x445455(0x1ae)][_0x3c1676][_0x445455(0x3da)]=_0x3c1676+0x1;}let _0x39cfc7=await _0x3430fc[_0x445455(0x2cf)]();return this[_0x445455(0x42a)]=_0x39cfc7,this[_0x445455(0x1de)][_0x445455(0x6bd)](this[_0x445455(0x2b3)]+'\x20('+this['instance'][_0x445455(0x4f4)]+_0x445455(0x6f2)),this[_0x445455(0x1de)][_0x445455(0x6bd)](this[_0x445455(0x2b3)]+'\x20('+this[_0x445455(0x5d1)]['wuid']+'):\x20'+this['AutomateSystem']),_0x39cfc7;}catch(_0x4090de){throw this[_0x445455(0x1de)][_0x445455(0x3cc)](this[_0x445455(0x2b3)]+'\x20('+this['instance'][_0x445455(0x4f4)]+_0x445455(0x708)+_0x4090de),new g(_0x445455(0x39a)+_0x4090de[_0x445455(0x197)]);}}async[a0_0x525ac(0x5a6)](_0x3aae70){const _0x3e5e3a=a0_0x525ac;let _0x44ef1b=this[_0x3e5e3a(0x5d1)][_0x3e5e3a(0x4f4)];try{let _0x5ec2e9=await ie['findById'](_0x44ef1b);_0x5ec2e9||(_0x5ec2e9=new ie({'_id':_0x44ef1b}),await _0x5ec2e9[_0x3e5e3a(0x2cf)]()),_0x5ec2e9[_0x3e5e3a(0x2b4)]['enabled']=_0x3aae70?.[_0x3e5e3a(0x2bc)]!==void 0x0?_0x3aae70?.[_0x3e5e3a(0x2bc)]:_0x5ec2e9[_0x3e5e3a(0x2b4)][_0x3e5e3a(0x2bc)],_0x5ec2e9[_0x3e5e3a(0x2b4)]['ignoreGroups']=_0x3aae70?.[_0x3e5e3a(0x710)]!==void 0x0?_0x3aae70?.[_0x3e5e3a(0x710)]:_0x5ec2e9['flowConfig'][_0x3e5e3a(0x710)],_0x5ec2e9['flowConfig'][_0x3e5e3a(0x453)]=_0x3aae70?.[_0x3e5e3a(0x453)]??_0x5ec2e9['flowConfig'][_0x3e5e3a(0x453)],_0x5ec2e9[_0x3e5e3a(0x2b4)][_0x3e5e3a(0x4b5)]=_0x3aae70?.[_0x3e5e3a(0x4b5)]??_0x5ec2e9['flowConfig'][_0x3e5e3a(0x4b5)],_0x5ec2e9[_0x3e5e3a(0x2b4)][_0x3e5e3a(0x1c8)]=_0x3aae70?.[_0x3e5e3a(0x1c8)]??_0x5ec2e9[_0x3e5e3a(0x2b4)][_0x3e5e3a(0x1c8)];let _0x431ad3=await _0x5ec2e9[_0x3e5e3a(0x2cf)]();return this['AutomateSystem']=_0x431ad3,this[_0x3e5e3a(0x1de)]['verbose'](this[_0x3e5e3a(0x2b3)]+'\x20('+this[_0x3e5e3a(0x5d1)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x3e5e3a(0x6bd)](this['instanceName']+'\x20('+this[_0x3e5e3a(0x5d1)]['wuid']+_0x3e5e3a(0x6a4)+this[_0x3e5e3a(0x42a)]),_0x431ad3;}catch(_0x4e6c82){throw this['logger'][_0x3e5e3a(0x3cc)](this['instanceName']+'\x20('+this[_0x3e5e3a(0x5d1)][_0x3e5e3a(0x4f4)]+_0x3e5e3a(0x719)+_0x4e6c82),new g(_0x3e5e3a(0x471)+_0x4e6c82[_0x3e5e3a(0x197)]);}}async['getAutomateSystem'](){const _0x34ac8a=a0_0x525ac;let _0x1c4d38=this[_0x34ac8a(0x5d1)][_0x34ac8a(0x4f4)];try{let _0x524f84=await ie[_0x34ac8a(0x159)](_0x1c4d38);return _0x524f84||(_0x524f84=new ie({'_id':_0x1c4d38})),_0x524f84[_0x34ac8a(0x2b4)]=_0x524f84['flowConfig']||{},_0x524f84['flowConfig'][_0x34ac8a(0x2bc)]===void 0x0&&(_0x524f84[_0x34ac8a(0x2b4)]['enabled']=!0x1),_0x524f84[_0x34ac8a(0x2b4)][_0x34ac8a(0x710)]===void 0x0&&(_0x524f84['flowConfig'][_0x34ac8a(0x710)]=!0x0),_0x524f84[_0x34ac8a(0x2b4)]['prefixCommand']===void 0x0&&(_0x524f84[_0x34ac8a(0x2b4)]['prefixCommand']='!'),_0x524f84[_0x34ac8a(0x2b4)][_0x34ac8a(0x4b5)]===void 0x0&&(_0x524f84['flowConfig']['stopConversation']=_0x34ac8a(0x5f0)),_0x524f84['flowConfig'][_0x34ac8a(0x1c8)]===void 0x0&&(_0x524f84[_0x34ac8a(0x2b4)][_0x34ac8a(0x1c8)]=0x14),await _0x524f84['save'](),this['AutomateSystem']=_0x524f84,this[_0x34ac8a(0x1de)]['verbose'](this[_0x34ac8a(0x2b3)]+'\x20('+this['instance'][_0x34ac8a(0x4f4)]+_0x34ac8a(0x6ce)),this['logger'][_0x34ac8a(0x6bd)](this[_0x34ac8a(0x42a)]),_0x524f84;}catch(_0x354bb5){throw this[_0x34ac8a(0x1de)][_0x34ac8a(0x3cc)](this[_0x34ac8a(0x2b3)]+'\x20('+this[_0x34ac8a(0x5d1)][_0x34ac8a(0x4f4)]+_0x34ac8a(0x5a5)+_0x354bb5['message']),new g('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x354bb5['message']);}}async[a0_0x525ac(0x584)](){const _0x59b508=a0_0x525ac;let _0x50d0a9=()=>{const _0x4bceb2=a0_0x59e4;this[_0x4bceb2(0x1de)]['verbose'](this[_0x4bceb2(0x2b3)]+'\x20('+this['instance'][_0x4bceb2(0x4f4)]+_0x4bceb2(0x3a6)+this[_0x4bceb2(0x35a)]+_0x4bceb2(0x667));},_0x1e370f=async()=>{const _0x59c1ab=a0_0x59e4;this[_0x59c1ab(0x1de)][_0x59c1ab(0x6bd)](this[_0x59c1ab(0x2b3)]+'\x20('+this[_0x59c1ab(0x5d1)][_0x59c1ab(0x4f4)]+_0x59c1ab(0x6e9));let _0x2b2169=Date[_0x59c1ab(0x50c)]()-0xc*0x3c*0x3c*0x3e8;return await U['find']({'owner':this[_0x59c1ab(0x5d1)][_0x59c1ab(0x4f4)],'status':{'$in':[_0x59c1ab(0x6e7),_0x59c1ab(0x6d8)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x2b2169}},{'when':0x0}]});},_0x3f54ce=async _0x3051cf=>{const _0x565578=a0_0x59e4;for(let _0x158ba8 of _0x3051cf){if(!await U[_0x565578(0x2bf)]({'_id':_0x158ba8[_0x565578(0x635)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x565578(0x50c)]()-0x1770}}]},{'$set':{'startSend':Date[_0x565578(0x50c)]()}}))return;if(!this[_0x565578(0x68f)]){this['logger'][_0x565578(0x6bd)](this[_0x565578(0x2b3)]+'\x20('+this[_0x565578(0x5d1)]['wuid']+'):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected');break;}(!_0x158ba8[_0x565578(0x62e)]||_0x158ba8[_0x565578(0x62e)][_0x565578(0x261)]===0x0)&&(_0x158ba8=await U[_0x565578(0x3a8)](_0x158ba8[_0x565578(0x635)],{'$set':{'status':_0x565578(0x6d8),'remoteJidsRemaining':[..._0x158ba8[_0x565578(0x47e)]]}},{'new':!0x0}));for(let _0xa9d41a of _0x158ba8[_0x565578(0x62e)]){if(this['lastSend']=Date[_0x565578(0x50c)](),_0x158ba8[_0x565578(0x61a)]['some'](_0x1a138a=>_0x1a138a[_0x565578(0x6ff)]===_0xa9d41a)){this['logger'][_0x565578(0x6bd)](this[_0x565578(0x2b3)]+'\x20('+this[_0x565578(0x5d1)][_0x565578(0x4f4)]+_0x565578(0x169)+_0xa9d41a+_0x565578(0x2e6));continue;}try{let _0x161e4d=await this[_0x565578(0x4df)](_0xa9d41a,_0x158ba8),_0x5a5804={'remoteJid':_0xa9d41a,'error':_0x161e4d[_0x565578(0x3cc)],'id':_0x161e4d['id']||null,'error_log':_0x161e4d[_0x565578(0x27e)]||null,'log_timestamp':Date[_0x565578(0x50c)]()};if((await U[_0x565578(0x3a8)](_0x158ba8[_0x565578(0x635)],{'$push':{'messagesSend':_0x5a5804},'$pull':{'remoteJidsRemaining':_0xa9d41a}},{'new':!0x0}))['status']===_0x565578(0x1f5)){this[_0x565578(0x1de)][_0x565578(0x6bd)](this[_0x565578(0x2b3)]+'\x20('+this[_0x565578(0x5d1)][_0x565578(0x4f4)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x158ba8[_0x565578(0x635)]+_0x565578(0x30f));break;}if(!this[_0x565578(0x68f)]){this[_0x565578(0x1de)][_0x565578(0x6bd)](this[_0x565578(0x2b3)]+'\x20('+this[_0x565578(0x5d1)][_0x565578(0x4f4)]+_0x565578(0x385));break;}if(!this['processingScheduleMessageId']){this[_0x565578(0x1de)][_0x565578(0x6bd)](this['instanceName']+'\x20('+this[_0x565578(0x5d1)][_0x565578(0x4f4)]+_0x565578(0x552)+_0x158ba8[_0x565578(0x635)]+_0x565578(0x3dc));break;}let _0x228c05=this[_0x565578(0x582)](_0x158ba8[_0x565578(0x5e4)],_0x158ba8[_0x565578(0x622)]);await this['sleep'](_0x228c05);}catch(_0x22b32c){this[_0x565578(0x1de)][_0x565578(0x3cc)](this['instanceName']+'\x20('+this['instance'][_0x565578(0x4f4)]+_0x565578(0x5d8)+_0xa9d41a+':\x20'+_0x22b32c[_0x565578(0x197)]);let _0x1b79ab={'remoteJid':_0xa9d41a,'status':_0x565578(0x3cc),'timestamp':Date[_0x565578(0x50c)](),'error':_0x22b32c[_0x565578(0x197)]};await U['findByIdAndUpdate'](_0x158ba8[_0x565578(0x635)],{'$push':{'messagesSend':_0x1b79ab},'$pull':{'remoteJidsRemaining':_0xa9d41a}},{'new':!0x0});}}let _0x11d4e4=await U[_0x565578(0x159)](_0x158ba8[_0x565578(0x635)]);_0x11d4e4[_0x565578(0x62e)]['length']===0x0&&_0x11d4e4[_0x565578(0x504)]!=='stopped'&&await U[_0x565578(0x3a8)](_0x158ba8[_0x565578(0x635)],{'$set':{'status':_0x565578(0x33f)}},{'new':!0x0}),await new Promise(_0x30783e=>setTimeout(_0x30783e,0x1388));}},_0x3a6bbd=async()=>{const _0x59966a=a0_0x59e4;let _0x405df7=await U['findOne']({'owner':this[_0x59966a(0x5d1)]['wuid'],'status':_0x59966a(0x6e7),'when':{'$gt':Date['now']()}})['sort']({'when':0x1});_0x405df7&&_0x405df7[_0x59966a(0x3bb)]-Date[_0x59966a(0x50c)]()<=0x5265c00?this[_0x59966a(0x610)]=_0x405df7[_0x59966a(0x3bb)]-Date[_0x59966a(0x50c)]():this['delayMessage']=(0x3c+Math[_0x59966a(0x305)](Math[_0x59966a(0x671)]()*0x3c))*0x3c*0x3e8,this[_0x59966a(0x610)]=Math[_0x59966a(0x2eb)](this['delayMessage'],0x7d0);let _0x2676f8=Math[_0x59966a(0x1c2)](this['delayMessage']/0xea60);if(_0x405df7){let _0x33c0cc=new Date(_0x405df7[_0x59966a(0x3bb)])['toLocaleString']();this['logger'][_0x59966a(0x6bd)](this[_0x59966a(0x2b3)]+'\x20('+this[_0x59966a(0x5d1)]['wuid']+'):\x20encontrado\x20prxima\x20mensagem\x20para\x20'+_0x33c0cc+_0x59966a(0x217)+_0x2676f8+_0x59966a(0x720));}else this['logger'][_0x59966a(0x6bd)](this[_0x59966a(0x2b3)]+'\x20('+this[_0x59966a(0x5d1)][_0x59966a(0x4f4)]+_0x59966a(0x612)+_0x2676f8+_0x59966a(0x720));setTimeout(()=>this[_0x59966a(0x584)](),this['delayMessage']);};if(this[_0x59b508(0x35a)]&&Date[_0x59b508(0x50c)]()-this[_0x59b508(0x569)]<0x1d4c0){_0x50d0a9();return;}try{let _0xd27149=await _0x1e370f();_0xd27149[_0x59b508(0x261)]===0x0?this[_0x59b508(0x1de)]['verbose'](this[_0x59b508(0x2b3)]+'\x20('+this[_0x59b508(0x5d1)]['wuid']+_0x59b508(0x511)):(this[_0x59b508(0x35a)]=_0xd27149[0x0][_0x59b508(0x635)],await _0x3f54ce(_0xd27149)),await _0x3a6bbd(),this[_0x59b508(0x35a)]=null;}catch(_0xf6f1c8){this[_0x59b508(0x1de)][_0x59b508(0x3cc)](_0x59b508(0x56e)+_0xf6f1c8[_0x59b508(0x197)]);}}[a0_0x525ac(0x582)](_0x191679,_0x3ee8a5){const _0x212b2d=a0_0x525ac;return _0x191679=Math['max'](0.5,_0x191679),_0x3ee8a5=Math['max'](0x3,_0x3ee8a5),Math[_0x212b2d(0x305)](Math['random']()*(_0x3ee8a5-_0x191679+0x1)+_0x191679)*0x3e8;}[a0_0x525ac(0x463)](_0x134cb4){return new Promise(_0x1b3af5=>setTimeout(_0x1b3af5,_0x134cb4));}async[a0_0x525ac(0x450)](_0x4f96f2){const _0x10c0c0=a0_0x525ac;if(!this[_0x10c0c0(0x42a)]&&(await this[_0x10c0c0(0x45f)](),!this['AutomateSystem']))return null;_0x4f96f2=this['createJid'](_0x4f96f2);let _0x2f367d=await D[_0x10c0c0(0x555)]({'id':_0x4f96f2,'owner':this['instance']['wuid']}),_0x36b536={};if(_0x2f367d&&_0x2f367d[_0x10c0c0(0x2c0)]){let _0x31bd9b=_0x2f367d[_0x10c0c0(0x2c0)];typeof _0x31bd9b[_0x10c0c0(0x2e4)]==_0x10c0c0(0x5fb)&&(_0x36b536[_0x10c0c0(0x2e4)]=_0x31bd9b[_0x10c0c0(0x2e4)]),typeof _0x31bd9b[_0x10c0c0(0x564)]=='string'&&(_0x36b536[_0x10c0c0(0x564)]=_0x31bd9b[_0x10c0c0(0x564)]),typeof _0x31bd9b[_0x10c0c0(0x51b)]==_0x10c0c0(0x5fb)&&(_0x36b536['email']=_0x31bd9b['email']),typeof _0x31bd9b[_0x10c0c0(0x263)]==_0x10c0c0(0x5fb)&&(_0x36b536[_0x10c0c0(0x263)]=_0x31bd9b[_0x10c0c0(0x263)]),typeof _0x31bd9b[_0x10c0c0(0x504)]==_0x10c0c0(0x5fb)&&(_0x36b536[_0x10c0c0(0x504)]=_0x31bd9b['status']),typeof _0x31bd9b[_0x10c0c0(0x3d7)]==_0x10c0c0(0x5fb)&&(_0x36b536[_0x10c0c0(0x3d7)]=_0x31bd9b[_0x10c0c0(0x3d7)]),typeof _0x31bd9b[_0x10c0c0(0x275)]==_0x10c0c0(0x5fb)&&(_0x36b536[_0x10c0c0(0x275)]=_0x31bd9b[_0x10c0c0(0x275)]),Array[_0x10c0c0(0x19a)](_0x31bd9b[_0x10c0c0(0x723)])&&(_0x36b536['tags']=_0x31bd9b['tags'][_0x10c0c0(0x5c2)](',\x20'));}return _0x2f367d&&_0x2f367d[_0x10c0c0(0x2c0)]&&_0x2f367d[_0x10c0c0(0x2c0)][_0x10c0c0(0x1ae)]&&_0x2f367d[_0x10c0c0(0x2c0)][_0x10c0c0(0x1ae)]['forEach'](_0x4347a3=>{const _0x986624=_0x10c0c0;let _0x3c2a8c=this[_0x986624(0x42a)]?.[_0x986624(0x1ae)]['find'](_0x1c1a53=>_0x1c1a53[_0x986624(0x635)]===_0x4347a3[_0x986624(0x635)]);_0x3c2a8c&&(_0x36b536[_0x3c2a8c[_0x986624(0x524)]]=_0x4347a3[_0x986624(0x3a7)]);}),_0x36b536;}async[a0_0x525ac(0x1aa)](_0x1c7925,_0x597fe9){const _0x1813d4=a0_0x525ac;let _0x643b34=await this[_0x1813d4(0x450)](_0x597fe9);return this['replaceVariables'](_0x1c7925,_0x643b34);}async[a0_0x525ac(0x675)](_0x2ef048){const _0x25ddaa=a0_0x525ac;try{if(this[_0x25ddaa(0x1de)]['verbose'](this[_0x25ddaa(0x2b3)]+'\x20('+this[_0x25ddaa(0x5d1)][_0x25ddaa(0x4f4)]+_0x25ddaa(0x1cb)),_0x2ef048[_0x25ddaa(0x2c2)]&&_0x2ef048[_0x25ddaa(0x635)]){if(this[_0x25ddaa(0x35a)]===_0x2ef048[_0x25ddaa(0x635)][_0x25ddaa(0x679)]())throw new Error(_0x25ddaa(0x676));let _0x3e77d9=await U[_0x25ddaa(0x2d8)](_0x2ef048[_0x25ddaa(0x635)]);return setTimeout(()=>this[_0x25ddaa(0x584)](),0x7d0),_0x3e77d9;}let _0x252602;if(_0x2ef048[_0x25ddaa(0x635)]&&(_0x252602=await U[_0x25ddaa(0x555)]({'owner':this[_0x25ddaa(0x5d1)]['wuid'],'_id':_0x2ef048[_0x25ddaa(0x635)]})),_0x252602){let _0x2fadbe=_0x2ef048;this[_0x25ddaa(0x35a)]===_0x252602[_0x25ddaa(0x635)]['toString']()&&(_0x2fadbe={'status':_0x2ef048[_0x25ddaa(0x504)],'_id':_0x2ef048['_id']});let _0x20418c=await U['findByIdAndUpdate'](_0x252602['_id'],{'$set':_0x2fadbe},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x20418c;}else{_0x2ef048['owner']=this[_0x25ddaa(0x5d1)][_0x25ddaa(0x4f4)];let _0x43c838=await new U(_0x2ef048)[_0x25ddaa(0x2cf)]();return setTimeout(()=>this[_0x25ddaa(0x584)](),0x7d0),_0x43c838;}}catch(_0x5bbb82){throw this[_0x25ddaa(0x1de)][_0x25ddaa(0x3cc)](this[_0x25ddaa(0x2b3)]+'\x20('+this[_0x25ddaa(0x5d1)][_0x25ddaa(0x4f4)]+_0x25ddaa(0x20f)+_0x5bbb82),new g(_0x25ddaa(0x523)+_0x5bbb82[_0x25ddaa(0x197)]);}}async['getScheduleMessage'](){const _0x1a1e66=a0_0x525ac;try{return await U[_0x1a1e66(0x252)]({'owner':this[_0x1a1e66(0x5d1)][_0x1a1e66(0x4f4)]})[_0x1a1e66(0x179)]({'when':0x1});}catch(_0x3ecade){throw this[_0x1a1e66(0x1de)][_0x1a1e66(0x3cc)](this[_0x1a1e66(0x2b3)]+'\x20('+this[_0x1a1e66(0x5d1)][_0x1a1e66(0x4f4)]+_0x1a1e66(0x26f)+_0x3ecade),new g(_0x1a1e66(0x523)+_0x3ecade[_0x1a1e66(0x197)]);}}async[a0_0x525ac(0x24a)](){const _0x4b4353=a0_0x525ac;try{return await U[_0x4b4353(0x279)]({'owner':this[_0x4b4353(0x5d1)][_0x4b4353(0x4f4)],'status':_0x4b4353(0x33f)}),this[_0x4b4353(0x1de)][_0x4b4353(0x6bd)](this[_0x4b4353(0x2b3)]+'\x20('+this[_0x4b4353(0x5d1)]['wuid']+_0x4b4353(0x5ad)),this['getScheduleMessage']();}catch(_0x3a7541){throw this['logger'][_0x4b4353(0x3cc)](this[_0x4b4353(0x2b3)]+'\x20('+this[_0x4b4353(0x5d1)][_0x4b4353(0x4f4)]+_0x4b4353(0x5d9)+_0x3a7541),new g(_0x4b4353(0x523)+_0x3a7541['message']);}}async[a0_0x525ac(0x4df)](_0x22f590,_0x13b3ad){const _0xb71de9=a0_0x525ac;try{switch(_0x13b3ad['type']){case _0xb71de9(0x342):return await this[_0xb71de9(0x19f)](_0x13b3ad,_0x22f590);case'media':return await this[_0xb71de9(0x6c6)](_0x13b3ad,_0x22f590);case _0xb71de9(0x1d5):return await this[_0xb71de9(0x303)](_0x13b3ad,_0x22f590);default:return this[_0xb71de9(0x1de)]['error'](this[_0xb71de9(0x2b3)]+'\x20('+this['instance'][_0xb71de9(0x4f4)]+'):\x20Comando\x20desconhecido:\x20'+_0x13b3ad['type']),{'status':_0xb71de9(0x3cc),'detail':_0xb71de9(0x2d3)};}}catch(_0xe1bbb0){return this[_0xb71de9(0x1de)][_0xb71de9(0x3cc)](this[_0xb71de9(0x2b3)]+'\x20('+this[_0xb71de9(0x5d1)][_0xb71de9(0x4f4)]+_0xb71de9(0x1a9)+_0xe1bbb0),{'status':_0xb71de9(0x3cc),'detail':_0xe1bbb0['message']};}}[a0_0x525ac(0x45d)](_0x3d7c4b){const _0x3b8fa2=a0_0x525ac;let _0x11836e=_0x3d7c4b['split']('|'),_0x3a0ead=Math[_0x3b8fa2(0x305)](Math[_0x3b8fa2(0x671)]()*_0x11836e[_0x3b8fa2(0x261)]);return _0x11836e[_0x3a0ead][_0x3b8fa2(0x3ca)]();}async[a0_0x525ac(0x19f)](_0x155fca,_0xc20a37){const _0x27adfe=a0_0x525ac;if(this[_0x27adfe(0x1de)][_0x27adfe(0x6bd)](this['instanceName']+'\x20('+this[_0x27adfe(0x5d1)]['wuid']+_0x27adfe(0x4f7)),!_0x155fca['message']['text']||_0x155fca[_0x27adfe(0x197)][_0x27adfe(0x342)][_0x27adfe(0x261)]===0x0)return{'error':!0x0,'error_log':'sem\x20texto\x20na\x20mensagem'};let _0x505411=this['getRandomText'](_0x155fca[_0x27adfe(0x197)][_0x27adfe(0x342)]),_0x14ff3f=await this[_0x27adfe(0x1aa)](_0x505411,_0xc20a37),_0x412d8e={'number':_0xc20a37,'options':{'delay':_0x155fca[_0x27adfe(0x197)][_0x27adfe(0x337)]},'textMessage':{'text':_0x14ff3f}},_0x1f9f63=null;try{let _0x3cfc3b=await this['textMessage'](_0x412d8e);if(_0x3cfc3b&&_0x3cfc3b[_0x27adfe(0x504)])return{'error':!0x1,'id':_0x3cfc3b[_0x27adfe(0x4ba)]['id']};_0x1f9f63=JSON[_0x27adfe(0x56f)](_0x3cfc3b),this['logger'][_0x27adfe(0x6bd)](this[_0x27adfe(0x2b3)]+'\x20('+this[_0x27adfe(0x5d1)][_0x27adfe(0x4f4)]+_0x27adfe(0x6a4)+_0x1f9f63);}catch(_0x98c975){this[_0x27adfe(0x1de)][_0x27adfe(0x3cc)](this[_0x27adfe(0x2b3)]+'\x20('+this[_0x27adfe(0x5d1)]['wuid']+_0x27adfe(0x5bf)+_0x98c975),_0x1f9f63=_0x98c975[_0x27adfe(0x197)];}if(_0x1f9f63)return{'error':!0x0,'error_log':(typeof _0x1f9f63==_0x27adfe(0x600)?JSON[_0x27adfe(0x56f)](_0x1f9f63,null,0x2):_0x1f9f63)[_0x27adfe(0x1db)](/[\[\]{}\n]/g,'\x20')[_0x27adfe(0x1db)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x1b0d93,_0x3c1155){const _0x3d164d=a0_0x525ac;this[_0x3d164d(0x1de)][_0x3d164d(0x6bd)](this[_0x3d164d(0x2b3)]+'\x20('+this[_0x3d164d(0x5d1)]['wuid']+_0x3d164d(0x388));let _0x185bf8;if(_0x1b0d93['message'][_0x3d164d(0x342)]&&_0x1b0d93[_0x3d164d(0x197)][_0x3d164d(0x342)][_0x3d164d(0x261)]>0x0){let _0x23cae5=this[_0x3d164d(0x45d)](_0x1b0d93[_0x3d164d(0x197)][_0x3d164d(0x342)]);_0x185bf8=await this[_0x3d164d(0x1aa)](_0x23cae5,_0x3c1155);}let _0x2631a6={'number':_0x3c1155,'options':{'delay':_0x1b0d93[_0x3d164d(0x197)][_0x3d164d(0x337)]},'mediaMessage':{'mediatype':_0x1b0d93[_0x3d164d(0x197)][_0x3d164d(0x60e)],'caption':_0x185bf8,'media':_0x1b0d93[_0x3d164d(0x197)]['urlOrBase64']}},_0x28727e=null;try{let _0x5a1673=await this[_0x3d164d(0x1dd)](_0x2631a6);if(_0x5a1673&&_0x5a1673['status'])return{'error':!0x1,'id':_0x5a1673[_0x3d164d(0x4ba)]['id']};_0x28727e=JSON[_0x3d164d(0x56f)](_0x5a1673),this[_0x3d164d(0x1de)][_0x3d164d(0x6bd)](this[_0x3d164d(0x2b3)]+'\x20('+this[_0x3d164d(0x5d1)][_0x3d164d(0x4f4)]+_0x3d164d(0x6a4)+_0x28727e);}catch(_0x4a6f5f){this['logger'][_0x3d164d(0x3cc)](this[_0x3d164d(0x2b3)]+'\x20('+this[_0x3d164d(0x5d1)][_0x3d164d(0x4f4)]+_0x3d164d(0x556)+_0x4a6f5f[_0x3d164d(0x197)]),_0x28727e=_0x4a6f5f[_0x3d164d(0x197)];}if(_0x28727e)return{'error':!0x0,'error_log':(typeof _0x28727e=='object'?JSON[_0x3d164d(0x56f)](_0x28727e,null,0x2):_0x28727e)[_0x3d164d(0x1db)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x525ac(0x303)](_0xa64b5e,_0x3440d6){const _0x3c7e26=a0_0x525ac;this[_0x3c7e26(0x1de)]['verbose'](this['instanceName']+'\x20('+this[_0x3c7e26(0x5d1)][_0x3c7e26(0x4f4)]+_0x3c7e26(0x1cf));let _0x2878c4={'number':_0x3440d6,'options':{'delay':_0xa64b5e[_0x3c7e26(0x197)][_0x3c7e26(0x337)]},'audioMessage':{'audio':_0xa64b5e[_0x3c7e26(0x197)]['urlOrBase64']}},_0x197a3d=null;try{let _0x2528a6=await this[_0x3c7e26(0x4b1)](_0x2878c4);if(_0x2528a6&&_0x2528a6[_0x3c7e26(0x504)])return{'error':!0x1,'id':_0x2528a6[_0x3c7e26(0x4ba)]['id']};_0x197a3d=JSON[_0x3c7e26(0x56f)](_0x2528a6),this[_0x3c7e26(0x1de)][_0x3c7e26(0x6bd)](this[_0x3c7e26(0x2b3)]+'\x20('+this[_0x3c7e26(0x5d1)][_0x3c7e26(0x4f4)]+_0x3c7e26(0x6a4)+_0x197a3d);}catch(_0x1e7aa7){this['logger']['error'](this[_0x3c7e26(0x2b3)]+'\x20('+this[_0x3c7e26(0x5d1)][_0x3c7e26(0x4f4)]+_0x3c7e26(0x438)+_0x1e7aa7),_0x197a3d=_0x1e7aa7[_0x3c7e26(0x197)];}if(_0x197a3d)return{'error':!0x0,'error_log':(typeof _0x197a3d==_0x3c7e26(0x600)?JSON[_0x3c7e26(0x56f)](_0x197a3d,null,0x2):_0x197a3d)[_0x3c7e26(0x1db)](/[\[\]{}\n]/g,'\x20')[_0x3c7e26(0x1db)](/  +/g,'\x20')};}},Ee=require(a0_0x525ac(0x18d)),jt=class c{constructor(_0x1008e5,_0xddedb8,_0x2e882a){const _0x97d8ce=a0_0x525ac;this[_0x97d8ce(0x2e5)]=_0x1008e5,this[_0x97d8ce(0x181)]=_0xddedb8,this['repository']=_0x2e882a,this['db']={},this[_0x97d8ce(0x59e)]={},this[_0x97d8ce(0x1de)]=new C(c['name']),this[_0x97d8ce(0x6e3)]={},(this[_0x97d8ce(0x297)](),this['noConnection'](),this[_0x97d8ce(0x6fd)](),Object[_0x97d8ce(0x2da)](this['db'],_0xddedb8[_0x97d8ce(0x60a)](_0x97d8ce(0x690))),Object['assign'](this['redis'],_0xddedb8['get'](_0x97d8ce(0x621))),this[_0x97d8ce(0x174)]=this['db'][_0x97d8ce(0x517)]?this[_0x97d8ce(0x5fe)][_0x97d8ce(0x34c)]?.['db'](this['db'][_0x97d8ce(0x33d)][_0x97d8ce(0x37e)]+'-instances'):void 0x0,this[_0x97d8ce(0x1a8)]=this[_0x97d8ce(0x59e)][_0x97d8ce(0x517)]?new ye(this['redis']):void 0x0);}[a0_0x525ac(0x652)](_0x35165c){const _0x4137e5=a0_0x525ac;let _0x135c97=this[_0x4137e5(0x181)]['get'](_0x4137e5(0x2f6));typeof _0x135c97==_0x4137e5(0x496)&&_0x135c97>0x0&&setTimeout(()=>{const _0x425d65=_0x4137e5;this['waInstances'][_0x35165c]?.['connectionStatus']?.[_0x425d65(0x65f)]!=='open'&&delete this[_0x425d65(0x6e3)][_0x35165c];},0x3e8*0x3c*_0x135c97);}async[a0_0x525ac(0x3b8)](_0x3d3d74){const _0x2360b7=a0_0x525ac;if(_0x3d3d74&&!this[_0x2360b7(0x6e3)][_0x3d3d74])throw new x(_0x2360b7(0x6e6)+_0x3d3d74+_0x2360b7(0x16f));let _0x4836e6=[];for await(let [_0xc8ada2,_0x7c83e1]of Object[_0x2360b7(0x46f)](this[_0x2360b7(0x6e3)]))if(_0x7c83e1&&_0x7c83e1['connectionStatus'][_0x2360b7(0x65f)]===_0x2360b7(0x182)){let _0x3e6c6e=await this[_0x2360b7(0x5fe)][_0x2360b7(0x50b)]['find'](_0xc8ada2);_0x4836e6[_0x2360b7(0x6a1)]({'instance':{'instanceName':_0xc8ada2,'apikey':_0x3e6c6e[_0x2360b7(0x4da)],'owner':_0x7c83e1[_0x2360b7(0x4f4)],'profileName':await _0x7c83e1['getProfileName']()||_0x2360b7(0x201),'profilePictureUrl':_0x7c83e1['profilePictureUrl']}});}return _0x4836e6['find'](_0x4b6e5c=>_0x4b6e5c[_0x2360b7(0x5d1)][_0x2360b7(0x2b3)]===_0x3d3d74)??_0x4836e6;}['delInstanceFiles'](){setInterval(async()=>{const _0x179e75=a0_0x59e4;if(this['db']['ENABLED'])(await this['dbInstance'][_0x179e75(0x5e8)]())[_0x179e75(0x319)](async _0x27ec03=>{const _0x1580b5=_0x179e75;let _0x2bf10a=_0x27ec03[_0x1580b5(0x1b9)][_0x1580b5(0x1db)](/^[\w-]+./,'');await this['dbInstance'][_0x1580b5(0x4d1)](_0x2bf10a)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x357785=(0x0,se[_0x179e75(0x530)])(j,{'encoding':_0x179e75(0x601)});for await(let _0x9eb7e7 of _0x357785)_0x9eb7e7['isDirectory']()&&(0x0,se[_0x179e75(0x4e8)])((0x0,Ee[_0x179e75(0x5c2)])(j,_0x9eb7e7[_0x179e75(0x524)]),{'encoding':_0x179e75(0x601)})[_0x179e75(0x319)](async _0x272345=>{const _0x1c0671=_0x179e75;(_0x272345[_0x1c0671(0x62c)](/^app.state.*/)||_0x272345[_0x1c0671(0x62c)](/^session-.*/))&&(0x0,se[_0x1c0671(0x1c9)])((0x0,Ee['join'])(j,_0x9eb7e7['name'],_0x272345),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x525ac(0x4d7)](_0x54f5d5){const _0x48ea3a=a0_0x525ac;this['db']['ENABLED']&&(await this[_0x48ea3a(0x5fe)][_0x48ea3a(0x34c)]['connect'](),(await this[_0x48ea3a(0x174)][_0x48ea3a(0x5e8)]())['length']>0x0&&await this['dbInstance'][_0x48ea3a(0x1f3)](_0x54f5d5)),this['redis']['ENABLED']&&(this[_0x48ea3a(0x1a8)][_0x48ea3a(0x1ff)]=_0x54f5d5,await this['redisCache']['delAll']()),!this['db'][_0x48ea3a(0x517)]&&!this['redis'][_0x48ea3a(0x517)]&&(0x0,se['rmSync'])((0x0,Ee[_0x48ea3a(0x5c2)])(j,_0x54f5d5),{'recursive':!0x0,'force':!0x0});}async['loadInstance'](){const _0x500914=a0_0x525ac;let _0x1413b0=async _0x23dfc5=>{const _0x1dd66b=a0_0x59e4;let _0x473fcd=new Se(this[_0x1dd66b(0x181)],this['eventEmitter'],this[_0x1dd66b(0x5fe)]);_0x473fcd[_0x1dd66b(0x2b3)]=_0x23dfc5,await _0x473fcd['connectToWhatsapp'](),this[_0x1dd66b(0x6e3)][_0x23dfc5]=_0x473fcd;};try{if(this[_0x500914(0x59e)][_0x500914(0x517)]){let _0x791b75=await this[_0x500914(0x1a8)][_0x500914(0x678)]();_0x791b75?.['length']>0x0&&_0x791b75[_0x500914(0x319)](async _0x286bf1=>await _0x1413b0(_0x286bf1[_0x500914(0x266)](':')[0x1]));}if(this['db'][_0x500914(0x517)]){await this['repository']['dbServer'][_0x500914(0x41b)]();let _0x4b1d6b=await this[_0x500914(0x174)]['collections']();_0x4b1d6b['length']>0x0&&_0x4b1d6b[_0x500914(0x319)](async _0x9ce119=>await _0x1413b0(_0x9ce119[_0x500914(0x1b9)][_0x500914(0x1db)](/^[\w-]+\./,'')));return;}let _0x1a50c2=(0x0,se['opendirSync'])(j,{'encoding':_0x500914(0x601)});for await(let _0x1e6149 of _0x1a50c2)if(_0x1e6149[_0x500914(0x4a2)]()){if((0x0,se['readdirSync'])((0x0,Ee[_0x500914(0x5c2)])(j,_0x1e6149[_0x500914(0x524)]),{'encoding':'utf-8'})[_0x500914(0x261)]===0x0){(0x0,se[_0x500914(0x1c9)])((0x0,Ee['join'])(j,_0x1e6149[_0x500914(0x524)]),{'recursive':!0x0,'force':!0x0});break;}await _0x1413b0(_0x1e6149[_0x500914(0x524)]);}}catch(_0x3746cc){this[_0x500914(0x1de)][_0x500914(0x3cc)](_0x3746cc);}}['removeInstance'](){const _0x3883fe=a0_0x525ac;this[_0x3883fe(0x2e5)]['on'](_0x3883fe(0x378),async _0x3128a5=>{const _0x3c6d46=_0x3883fe;try{this['waInstances'][_0x3128a5]=void 0x0;}catch{}try{this[_0x3c6d46(0x4d7)](_0x3128a5);}finally{this[_0x3c6d46(0x1de)][_0x3c6d46(0x664)](_0x3c6d46(0x6e6)+_0x3128a5+_0x3c6d46(0x57b));}});}[a0_0x525ac(0x323)](){const _0x55dd62=a0_0x525ac;this['eventEmitter']['on'](_0x55dd62(0x52e),async _0x4ff53e=>{const _0x55416d=_0x55dd62;try{this['waInstances'][_0x4ff53e]=void 0x0,this['cleaningUp'](_0x4ff53e);}catch(_0x4c6b74){this[_0x55416d(0x1de)]['error']({'localError':_0x55416d(0x323),'warn':_0x55416d(0x502),'error':_0x4c6b74});}finally{this[_0x55416d(0x1de)][_0x55416d(0x664)]('Instance\x20\x22'+_0x4ff53e+_0x55416d(0x397));}});}},xe=require(a0_0x525ac(0x18d)),ve=require('fs'),Bt=class extends B{constructor(_0x212d42,_0xb0e3db){const _0x45f4d9=a0_0x525ac;super(_0xb0e3db),this[_0x45f4d9(0x41d)]=_0x212d42,this[_0x45f4d9(0x181)]=_0xb0e3db;}async[a0_0x525ac(0x5ac)](_0x3df133,_0x4a6051=!0x1){const _0x2bce9b=a0_0x525ac;if(_0x3df133['length']!==0x0)try{return this[_0x2bce9b(0x294)][_0x2bce9b(0x517)]&&_0x4a6051?{'insertCount':(await this[_0x2bce9b(0x41d)]['insertMany']([..._0x3df133]))[_0x2bce9b(0x261)]}:(_0x3df133[_0x2bce9b(0x319)](_0x328fd1=>{const _0x59eec0=_0x2bce9b;this[_0x59eec0(0x5b1)]({'path':(0x0,xe[_0x59eec0(0x5c2)])(this['storePath'],'chats',_0x328fd1['owner']),'fileName':_0x328fd1['id'],'data':_0x328fd1});}),{'insertCount':_0x3df133[_0x2bce9b(0x261)]});}catch(_0x312d3a){return _0x312d3a;}finally{_0x3df133=void 0x0;}}async['find'](_0x50a3d6){const _0x4995f5=a0_0x525ac;try{if(this[_0x4995f5(0x294)]['ENABLED'])return await this[_0x4995f5(0x41d)][_0x4995f5(0x252)]({'owner':_0x50a3d6[_0x4995f5(0x17c)]['owner']})[_0x4995f5(0x179)]({'lastmsg':-0x1})['limit'](_0x50a3d6?.[_0x4995f5(0x292)]??0x0)[_0x4995f5(0x449)]();let _0x3d70ef=[],_0x1d90c6=(0x0,ve[_0x4995f5(0x530)])((0x0,xe['join'])(this[_0x4995f5(0x418)],_0x4995f5(0x2e8),_0x50a3d6[_0x4995f5(0x17c)][_0x4995f5(0x3f3)]));for await(let _0x5902e0 of _0x1d90c6)_0x5902e0[_0x4995f5(0x302)]()&&_0x3d70ef[_0x4995f5(0x6a1)](JSON['parse']((0x0,ve[_0x4995f5(0x46a)])((0x0,xe[_0x4995f5(0x5c2)])(this[_0x4995f5(0x418)],'chats',_0x50a3d6[_0x4995f5(0x17c)][_0x4995f5(0x3f3)],_0x5902e0['name']),{'encoding':_0x4995f5(0x601)})));return _0x3d70ef;}catch{return[];}}async[a0_0x525ac(0x2c2)](_0x656466){const _0x3dc19f=a0_0x525ac;try{return this['dbSettings'][_0x3dc19f(0x517)]?await this[_0x3dc19f(0x41d)][_0x3dc19f(0x279)]({..._0x656466['where']}):((0x0,ve[_0x3dc19f(0x1c9)])((0x0,xe['join'])(this['storePath'],_0x3dc19f(0x2e8),_0x656466[_0x3dc19f(0x17c)][_0x3dc19f(0x3f3)],_0x656466[_0x3dc19f(0x17c)]['id']+_0x3dc19f(0x56d)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x656466[_0x3dc19f(0x17c)]['id']}});}catch(_0x228093){return{'error':_0x228093?.[_0x3dc19f(0x679)]()};}}async['findOne'](_0x2ff828){const _0x5b1d6e=a0_0x525ac;try{if(this[_0x5b1d6e(0x294)][_0x5b1d6e(0x517)])return await this[_0x5b1d6e(0x41d)][_0x5b1d6e(0x555)]({'owner':_0x2ff828[_0x5b1d6e(0x17c)][_0x5b1d6e(0x3f3)]})[_0x5b1d6e(0x449)]();}catch{return null;}}async[a0_0x525ac(0x71f)](_0x2a497c,_0x4c0c2f){const _0x19cc0a=a0_0x525ac;try{this[_0x19cc0a(0x294)][_0x19cc0a(0x517)]&&await this[_0x19cc0a(0x41d)]['updateOne']({..._0x2a497c[_0x19cc0a(0x17c)]},{'$set':_0x4c0c2f});}catch(_0x10598b){console[_0x19cc0a(0x3cc)](_0x10598b);}}async[a0_0x525ac(0x5b9)](_0x2f4379,_0xfeef03){const _0x4781c8=a0_0x525ac;try{if(this[_0x4781c8(0x294)][_0x4781c8(0x517)]){let _0x10204d=_0x2f4379[_0x4781c8(0x595)]((_0x510e45,_0x37c8db)=>({'updateOne':{'filter':{..._0x510e45[_0x4781c8(0x17c)]},'update':{'$set':_0xfeef03[_0x37c8db]}}}));await this[_0x4781c8(0x41d)][_0x4781c8(0x245)](_0x10204d);}}catch(_0x2364ad){console[_0x4781c8(0x3cc)](_0x2364ad);}}},Ft=class{constructor(_0x390cc6){const _0x41e2d6=a0_0x525ac;this[_0x41e2d6(0x3e3)]=_0x390cc6;}async[a0_0x525ac(0x4fe)]({instanceName:_0x34824f},_0x5c0077){const _0x2d40bb=a0_0x525ac;return await this[_0x2d40bb(0x3e3)]['waInstances'][_0x34824f][_0x2d40bb(0x4fe)](_0x5c0077);}async[a0_0x525ac(0x3cd)]({instanceName:_0x3b1e57},_0x169712){const _0x6e70bd=a0_0x525ac;return await this['waMonitor'][_0x6e70bd(0x6e3)][_0x3b1e57][_0x6e70bd(0x3cd)](_0x169712);}async['readMessage']({instanceName:_0x14fb61},_0x2f26a7){const _0x28b25e=a0_0x525ac;return await this[_0x28b25e(0x3e3)][_0x28b25e(0x6e3)][_0x14fb61][_0x28b25e(0x3c9)](_0x2f26a7);}async[a0_0x525ac(0x549)]({instanceName:_0x1488cb},_0x9af13c){const _0x13f6f3=a0_0x525ac;return await this[_0x13f6f3(0x3e3)]['waInstances'][_0x1488cb][_0x13f6f3(0x549)](_0x9af13c);}async['deleteMessage']({instanceName:_0x2f3c82},_0x4ed537){const _0x363960=a0_0x525ac;return await this[_0x363960(0x3e3)][_0x363960(0x6e3)][_0x2f3c82][_0x363960(0x492)](_0x4ed537);}async['fetchProfilePicture']({instanceName:_0xb1fb04},_0x10df17){const _0x2684da=a0_0x525ac;return await this[_0x2684da(0x3e3)][_0x2684da(0x6e3)][_0xb1fb04][_0x2684da(0x6b5)](_0x10df17[_0x2684da(0x496)]);}async[a0_0x525ac(0x4e7)]({instanceName:_0x5572d8},_0x3a01a9){const _0x159dc3=a0_0x525ac;return await this['waMonitor'][_0x159dc3(0x6e3)][_0x5572d8][_0x159dc3(0x4e7)](_0x3a01a9[_0x159dc3(0x496)]);}async[a0_0x525ac(0x420)]({instanceName:_0x3415c9},_0x338044){const _0x1e0939=a0_0x525ac;return await this[_0x1e0939(0x3e3)][_0x1e0939(0x6e3)][_0x3415c9][_0x1e0939(0x420)](_0x338044);}async['fetchContacts']({instanceName:_0x4534d6},_0x50f07b){const _0x3866ba=a0_0x525ac;return await this[_0x3866ba(0x3e3)]['waInstances'][_0x4534d6]['fetchContacts'](_0x50f07b);}async[a0_0x525ac(0x575)]({instanceName:_0x5bb7f4},_0x2c9871){const _0x123d8d=a0_0x525ac;return await this['waMonitor'][_0x123d8d(0x6e3)][_0x5bb7f4]['getBase64FromMediaMessage'](_0x2c9871);}async['fetchMessages']({instanceName:_0x5a0605},_0x7ede8b){const _0x4d5c90=a0_0x525ac;return await this[_0x4d5c90(0x3e3)]['waInstances'][_0x5a0605][_0x4d5c90(0x6cf)](_0x7ede8b);}async[a0_0x525ac(0x33c)]({instanceName:_0x547c5f},_0x3a80bc){const _0x2ecf80=a0_0x525ac;return await this[_0x2ecf80(0x3e3)][_0x2ecf80(0x6e3)][_0x547c5f][_0x2ecf80(0x33c)](_0x3a80bc);}async[a0_0x525ac(0x1e7)]({instanceName:_0x3673de}){const _0x5732fc=a0_0x525ac;return await this[_0x5732fc(0x3e3)][_0x5732fc(0x6e3)][_0x3673de][_0x5732fc(0x1e7)]();}async['fetchPrivacySettings']({instanceName:_0x5795e7}){const _0x57d7e3=a0_0x525ac;return await this[_0x57d7e3(0x3e3)]['waInstances'][_0x5795e7][_0x57d7e3(0x61e)]();}async[a0_0x525ac(0x4aa)]({instanceName:_0x563528},_0x38fc4b){const _0x25db19=a0_0x525ac;return await this[_0x25db19(0x3e3)]['waInstances'][_0x563528]['updatePrivacySettings'](_0x38fc4b);}async[a0_0x525ac(0x4f1)]({instanceName:_0x4cd6c9},_0x3a6ac2){const _0x578930=a0_0x525ac;return await this['waMonitor'][_0x578930(0x6e3)][_0x4cd6c9][_0x578930(0x4f1)](_0x3a6ac2[_0x578930(0x496)]);}async['updateProfileName']({instanceName:_0x45be11},_0x53580b){const _0x25fede=a0_0x525ac;return await this[_0x25fede(0x3e3)][_0x25fede(0x6e3)][_0x45be11][_0x25fede(0x71b)](_0x53580b[_0x25fede(0x524)]);}async[a0_0x525ac(0x192)]({instanceName:_0x3c0d08},_0x3b7cdb){const _0x41aef1=a0_0x525ac;return await this[_0x41aef1(0x3e3)]['waInstances'][_0x3c0d08]['updateProfileStatus'](_0x3b7cdb['status']);}async['updateProfilePicture']({instanceName:_0x668f93},_0x1c0222){const _0x1cb15e=a0_0x525ac;return await this[_0x1cb15e(0x3e3)][_0x1cb15e(0x6e3)][_0x668f93][_0x1cb15e(0x25a)](_0x1c0222[_0x1cb15e(0x24e)]);}async[a0_0x525ac(0x23e)]({instanceName:_0x54eac3},_0x34606a){const _0x5c13af=a0_0x525ac;return await this['waMonitor'][_0x5c13af(0x6e3)][_0x54eac3][_0x5c13af(0x23e)]();}},Ms=require(a0_0x525ac(0x3d3)),Jt=class c{constructor(_0x2f63d5,_0x217dc1,_0xf60112,_0x2e3946,_0x49e1a9){const _0x410396=a0_0x525ac;this[_0x410396(0x3e3)]=_0x2f63d5,this[_0x410396(0x181)]=_0x217dc1,this[_0x410396(0x5fe)]=_0xf60112,this['eventEmitter']=_0x2e3946,this[_0x410396(0x6ba)]=_0x49e1a9,this[_0x410396(0x1de)]=new C(c[_0x410396(0x524)]);}async['createInstance']({instanceName:_0x55d346,apikey:_0x5e6803}){const _0x3c6b22=a0_0x525ac;let _0x2b32da=new Se(this[_0x3c6b22(0x181)],this[_0x3c6b22(0x2e5)],this['repository']);_0x2b32da[_0x3c6b22(0x2b3)]=_0x55d346,this[_0x3c6b22(0x3e3)][_0x3c6b22(0x6e3)][_0x2b32da['instanceName']]=_0x2b32da,this[_0x3c6b22(0x3e3)]['delInstanceTime'](_0x2b32da[_0x3c6b22(0x2b3)]);let _0x5ce555={};_0x5e6803?(await this[_0x3c6b22(0x5fe)]['auth']['create']({'apikey':_0x5e6803},_0x55d346),_0x5ce555[_0x3c6b22(0x4da)]=_0x5e6803):_0x5ce555=await this[_0x3c6b22(0x6ba)][_0x3c6b22(0x5f5)]({'instanceName':_0x2b32da['instanceName']});let _0x229f6a;return await _0x2b32da[_0x3c6b22(0x31f)](),await(0x0,Ms[_0x3c6b22(0x337)])(0x7d0),_0x229f6a=_0x2b32da[_0x3c6b22(0x559)],{'instance':{'instanceName':_0x2b32da[_0x3c6b22(0x2b3)],'status':_0x3c6b22(0x536)},'hash':_0x5ce555,'qrcode':_0x229f6a};}async['connectToWhatsapp']({instanceName:_0x561aa6}){const _0xf4515d=a0_0x525ac;try{let _0x479b82=this[_0xf4515d(0x3e3)]['waInstances'][_0x561aa6];switch(_0x479b82[_0xf4515d(0x674)]?.['state']){case _0xf4515d(0x34f):return await _0x479b82[_0xf4515d(0x31f)](),await(0x0,Ms[_0xf4515d(0x337)])(0x7d0),_0x479b82[_0xf4515d(0x559)];case'connecting':return _0x479b82[_0xf4515d(0x559)];default:return await this[_0xf4515d(0x321)]({'instanceName':_0x561aa6});}}catch(_0x3927a1){this['logger'][_0xf4515d(0x571)](_0x3927a1);}}async[a0_0x525ac(0x321)]({instanceName:_0x84ebfb}){const _0x4e8e30=a0_0x525ac;let _0x411e82=this[_0x4e8e30(0x3e3)]['waInstances'][_0x84ebfb][_0x4e8e30(0x674)],_0x5a1ffb=null;_0x411e82[_0x4e8e30(0x65f)]===_0x4e8e30(0x182)&&_0x84ebfb&&(_0x5a1ffb=await this[_0x4e8e30(0x3e3)][_0x4e8e30(0x3b8)](_0x84ebfb));let _0x52bad3=null;return _0x411e82[_0x4e8e30(0x65f)]===_0x4e8e30(0x30e)&&_0x84ebfb&&(_0x52bad3=this[_0x4e8e30(0x3e3)][_0x4e8e30(0x6e3)][_0x84ebfb][_0x4e8e30(0x559)]),{'instance':_0x84ebfb,'connectionStatus':_0x411e82,'instanceInfo':_0x5a1ffb,'qrcode':_0x52bad3};}async[a0_0x525ac(0x1e5)]({instanceName:_0x5e6d12}){const _0x20db8c=a0_0x525ac;try{return this[_0x20db8c(0x3e3)][_0x20db8c(0x6e3)][_0x5e6d12]?.[_0x20db8c(0x3c2)]?.['ws']?.[_0x20db8c(0x34f)](),{'status':_0x20db8c(0x4f5),'error':!0x1,'response':{'message':_0x20db8c(0x247)}};}catch(_0x1416f2){this[_0x20db8c(0x1de)][_0x20db8c(0x3cc)](_0x1416f2);}}async[a0_0x525ac(0x597)]({instanceName:_0x2a5c21}){const _0x4df1e4=a0_0x525ac;return _0x2a5c21?this[_0x4df1e4(0x3e3)]['instanceInfo'](_0x2a5c21):this['waMonitor'][_0x4df1e4(0x3b8)]();}async[a0_0x525ac(0x6f6)]({instanceName:_0x76282b}){const _0x5abd88=a0_0x525ac;try{return await this['waMonitor'][_0x5abd88(0x6e3)][_0x76282b]?.[_0x5abd88(0x3c2)]?.[_0x5abd88(0x6f6)](_0x5abd88(0x429)+_0x76282b),{'error':!0x1,'message':_0x5abd88(0x48c)};}catch(_0x9b74c3){throw new A(_0x9b74c3[_0x5abd88(0x679)]());}}async[a0_0x525ac(0x55c)]({instanceName:_0x440471}){const _0x7afdd3=a0_0x525ac;if((await this[_0x7afdd3(0x321)]({'instanceName':_0x440471}))['connectionStatus'][_0x7afdd3(0x65f)]===_0x7afdd3(0x182))throw new g(['Deletion\x20failed',_0x7afdd3(0x226)]);try{return delete this[_0x7afdd3(0x3e3)][_0x7afdd3(0x6e3)][_0x440471],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x4e6362){throw new g(_0x4e6362[_0x7afdd3(0x679)]());}}async[a0_0x525ac(0x28d)](_0x22275a,_0x4ce264){const _0x156331=a0_0x525ac;return await this[_0x156331(0x6ba)]['refreshToken'](_0x4ce264);}},ae=require(a0_0x525ac(0x4e6)),Gt=class{constructor(_0x4ffcac){const _0x459388=a0_0x525ac;this[_0x459388(0x3e3)]=_0x4ffcac;}async[a0_0x525ac(0x5ca)]({instanceName:_0x30f2d5},_0x420282){const _0x57ea57=a0_0x525ac;return await this['waMonitor'][_0x57ea57(0x6e3)][_0x30f2d5]['textMessage'](_0x420282);}async[a0_0x525ac(0x5f1)]({instanceName:_0x365a98},_0x4058c9){const _0x8ddec2=a0_0x525ac;if((0x0,ae['isBase64'])(_0x4058c9?.[_0x8ddec2(0x1dd)]?.[_0x8ddec2(0x19d)])&&!_0x4058c9?.[_0x8ddec2(0x1dd)]?.[_0x8ddec2(0x67a)])throw new g(_0x8ddec2(0x6a6));if((0x0,ae[_0x8ddec2(0x5e2)])(_0x4058c9?.[_0x8ddec2(0x1dd)]?.[_0x8ddec2(0x19d)])||(0x0,ae[_0x8ddec2(0x4d3)])(_0x4058c9?.[_0x8ddec2(0x1dd)]?.[_0x8ddec2(0x19d)]))return await this[_0x8ddec2(0x3e3)][_0x8ddec2(0x6e3)][_0x365a98][_0x8ddec2(0x1dd)](_0x4058c9);throw new g(_0x8ddec2(0x68d));}async[a0_0x525ac(0x383)]({instanceName:_0x510165},_0x4d6138){const _0x44dbeb=a0_0x525ac;if((0x0,ae[_0x44dbeb(0x5e2)])(_0x4d6138[_0x44dbeb(0x40e)][_0x44dbeb(0x3a2)])||(0x0,ae[_0x44dbeb(0x4d3)])(_0x4d6138[_0x44dbeb(0x40e)][_0x44dbeb(0x3a2)]))return await this[_0x44dbeb(0x3e3)][_0x44dbeb(0x6e3)][_0x510165][_0x44dbeb(0x529)](_0x4d6138);throw new g(_0x44dbeb(0x68d));}async[a0_0x525ac(0x53d)]({instanceName:_0x4d732c},_0x546f67){const _0xb02437=a0_0x525ac;if((0x0,ae[_0xb02437(0x5e2)])(_0x546f67[_0xb02437(0x1a2)][_0xb02437(0x1d5)])||(0x0,ae[_0xb02437(0x4d3)])(_0x546f67['audioMessage'][_0xb02437(0x1d5)]))return await this['waMonitor']['waInstances'][_0x4d732c][_0xb02437(0x4b1)](_0x546f67);throw new g(_0xb02437(0x68d));}async[a0_0x525ac(0x510)]({instanceName:_0x524eea},_0x196f1f){const _0x5ee83d=a0_0x525ac;if((0x0,ae[_0x5ee83d(0x4d3)])(_0x196f1f[_0x5ee83d(0x3ea)][_0x5ee83d(0x1dd)]?.[_0x5ee83d(0x19d)])&&!_0x196f1f['buttonMessage'][_0x5ee83d(0x1dd)]?.['fileName'])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x5ee83d(0x3e3)]['waInstances'][_0x524eea][_0x5ee83d(0x3ea)](_0x196f1f);}async[a0_0x525ac(0x4c1)]({instanceName:_0x4e900f},_0xe1899e){const _0x2d8616=a0_0x525ac;return await this[_0x2d8616(0x3e3)]['waInstances'][_0x4e900f][_0x2d8616(0x35b)](_0xe1899e);}async[a0_0x525ac(0x423)]({instanceName:_0x2f4b81},_0x3d552f){const _0x1c4b03=a0_0x525ac;return await this[_0x1c4b03(0x3e3)][_0x1c4b03(0x6e3)][_0x2f4b81][_0x1c4b03(0x513)](_0x3d552f);}async['sendList']({instanceName:_0xad3b5c},_0x56ff84){const _0xd1847f=a0_0x525ac;return await this[_0xd1847f(0x3e3)][_0xd1847f(0x6e3)][_0xad3b5c][_0xd1847f(0x49b)](_0x56ff84);}async['sendContact']({instanceName:_0x3d4038},_0x3ef61f){const _0x32902c=a0_0x525ac;return await this['waMonitor'][_0x32902c(0x6e3)][_0x3d4038][_0x32902c(0x1ed)](_0x3ef61f);}async[a0_0x525ac(0x194)]({instanceName:_0x5098a9},_0x315a88){const _0x277e62=a0_0x525ac;if(!_0x315a88[_0x277e62(0x29f)][_0x277e62(0x62a)][_0x277e62(0x62c)](/[^\(\)\w\s-"-\+]+/))throw new g(_0x277e62(0x29a));return await this[_0x277e62(0x3e3)][_0x277e62(0x6e3)][_0x5098a9][_0x277e62(0x29f)](_0x315a88);}async[a0_0x525ac(0x3be)]({instanceName:_0x1bd2eb},_0x4b8d48){const _0x3f2437=a0_0x525ac;return await this['waMonitor'][_0x3f2437(0x6e3)][_0x1bd2eb]['statusMessage'](_0x4b8d48);}},qt=class{constructor(_0x3dccd7){this['waMonitor']=_0x3dccd7;}async['createGroup'](_0x1fcf0b,_0x14ac02){const _0x1b237f=a0_0x525ac;return await this[_0x1b237f(0x3e3)][_0x1b237f(0x6e3)][_0x1fcf0b['instanceName']]['createGroup'](_0x14ac02);}async[a0_0x525ac(0x505)](_0x15c468,_0x2ddc13){const _0xa7cc6=a0_0x525ac;return await this[_0xa7cc6(0x3e3)]['waInstances'][_0x15c468[_0xa7cc6(0x2b3)]][_0xa7cc6(0x505)](_0x2ddc13);}async[a0_0x525ac(0x309)](_0xaf0c1b,_0x21a493){const _0x390d37=a0_0x525ac;return await this[_0x390d37(0x3e3)][_0x390d37(0x6e3)][_0xaf0c1b['instanceName']][_0x390d37(0x309)](_0x21a493);}async[a0_0x525ac(0x681)](_0x59263b,_0x4fe35b){const _0x381329=a0_0x525ac;return await this[_0x381329(0x3e3)][_0x381329(0x6e3)][_0x59263b['instanceName']][_0x381329(0x681)](_0x4fe35b);}async['groupSetting'](_0x4073ba,_0x3286ec){const _0x3f009a=a0_0x525ac;return await this[_0x3f009a(0x3e3)][_0x3f009a(0x6e3)][_0x4073ba['instanceName']][_0x3f009a(0x641)](_0x3286ec);}async[a0_0x525ac(0x3df)](_0x179c40,_0x33de21){const _0x5e87ee=a0_0x525ac;return await this[_0x5e87ee(0x3e3)][_0x5e87ee(0x6e3)][_0x179c40[_0x5e87ee(0x2b3)]][_0x5e87ee(0x63a)](_0x33de21);}async['findGroups'](_0x24d4cd){const _0x547e9d=a0_0x525ac;return await this[_0x547e9d(0x3e3)][_0x547e9d(0x6e3)][_0x24d4cd[_0x547e9d(0x2b3)]][_0x547e9d(0x661)]();}async[a0_0x525ac(0x591)](_0x576914,_0x3436f7){const _0x5c4ac9=a0_0x525ac;return await this['waMonitor']['waInstances'][_0x576914[_0x5c4ac9(0x2b3)]]['inviteCode'](_0x3436f7);}async[a0_0x525ac(0x425)](_0x5118b6,_0x42aa6a){const _0x54733c=a0_0x525ac;return await this['waMonitor'][_0x54733c(0x6e3)][_0x5118b6['instanceName']][_0x54733c(0x425)](_0x42aa6a);}async[a0_0x525ac(0x578)](_0x6dadd7,_0xd35209){const _0x24e94c=a0_0x525ac;return await this[_0x24e94c(0x3e3)]['waInstances'][_0x6dadd7[_0x24e94c(0x2b3)]][_0x24e94c(0x578)](_0xd35209);}async['findParticipants'](_0x3b94f3,_0x502621){const _0x37c800=a0_0x525ac;return await this['waMonitor'][_0x37c800(0x6e3)][_0x3b94f3[_0x37c800(0x2b3)]][_0x37c800(0x48d)](_0x502621);}async[a0_0x525ac(0x508)](_0x1caabd,_0xefe0e8){const _0xdd6990=a0_0x525ac;return await this[_0xdd6990(0x3e3)]['waInstances'][_0x1caabd[_0xdd6990(0x2b3)]][_0xdd6990(0x6eb)](_0xefe0e8);}async[a0_0x525ac(0x5e9)](_0x412288,_0x4b54ce){const _0x4de51a=a0_0x525ac;return await this[_0x4de51a(0x3e3)][_0x4de51a(0x6e3)][_0x412288[_0x4de51a(0x2b3)]][_0x4de51a(0x5e9)](_0x4b54ce);}async[a0_0x525ac(0x1ee)](_0x5d3d57,_0x3dbfd1){const _0x2951f4=a0_0x525ac;return await this[_0x2951f4(0x3e3)][_0x2951f4(0x6e3)][_0x5d3d57[_0x2951f4(0x2b3)]][_0x2951f4(0x1ee)](_0x3dbfd1);}},Wt=class{constructor(_0x49aa30,_0xbf7a65){const _0x581f71=a0_0x525ac;this[_0x581f71(0x35e)]=_0x49aa30,this[_0x581f71(0x181)]=_0xbf7a65;}async[a0_0x525ac(0x669)](_0x57508a,_0x3a919f){const _0x2e4684=a0_0x525ac;try{let _0x11e0ac=_0x57508a['params'];if(this[_0x2e4684(0x35e)]['waInstances'][_0x11e0ac[_0x2e4684(0x2b3)]][_0x2e4684(0x674)][_0x2e4684(0x65f)]===_0x2e4684(0x182))throw new g(_0x2e4684(0x3c5));let _0x5ee798=this[_0x2e4684(0x181)]['get'](_0x2e4684(0x3c0))[_0x2e4684(0x5ae)];return _0x3a919f[_0x2e4684(0x504)](0xc8)['render'](_0x2e4684(0x669),{'type':_0x5ee798,..._0x11e0ac});}catch(_0x183c18){console['log']('ERROR:\x20',_0x183c18);}}},Ht=class{constructor(_0x4480b1){const _0x48addc=a0_0x525ac;this[_0x48addc(0x3e3)]=_0x4480b1;}[a0_0x525ac(0x58a)](_0x254ac8,_0x22f96b){const _0x58987a=a0_0x525ac;return this['waMonitor'][_0x58987a(0x6e3)][_0x254ac8['instanceName']][_0x58987a(0x373)](_0x22f96b);}async[a0_0x525ac(0x252)](_0x41c9cc){const _0x342b1e=a0_0x525ac;try{return await this[_0x342b1e(0x3e3)][_0x342b1e(0x6e3)][_0x41c9cc[_0x342b1e(0x2b3)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x525ac(0x2a7)),Kt=class{constructor(_0x2fe37f){const _0x7a33d7=a0_0x525ac;this[_0x7a33d7(0x3e3)]=_0x2fe37f;}async['editScheduleMessage'](_0x5d0cb4,_0x29841d){const _0x2ef2b6=a0_0x525ac;return await this[_0x2ef2b6(0x3e3)][_0x2ef2b6(0x6e3)][_0x5d0cb4[_0x2ef2b6(0x2b3)]][_0x2ef2b6(0x675)](_0x29841d);}async[a0_0x525ac(0x51e)](_0x3a990f){const _0x5ba29e=a0_0x525ac;return await this[_0x5ba29e(0x3e3)][_0x5ba29e(0x6e3)][_0x3a990f['instanceName']]['getScheduleMessage']();}async[a0_0x525ac(0x24a)](_0x51a7cc){const _0x2eb92a=a0_0x525ac;return await this[_0x2eb92a(0x3e3)][_0x2eb92a(0x6e3)][_0x51a7cc[_0x2eb92a(0x2b3)]][_0x2eb92a(0x24a)]();}async[a0_0x525ac(0x45f)](_0x14b12d){const _0x4d1d3c=a0_0x525ac;return await this[_0x4d1d3c(0x3e3)][_0x4d1d3c(0x6e3)][_0x14b12d[_0x4d1d3c(0x2b3)]][_0x4d1d3c(0x45f)]();}async[a0_0x525ac(0x186)](_0x22b4c8,_0x48297e){const _0xfeca63=a0_0x525ac;return await this[_0xfeca63(0x3e3)][_0xfeca63(0x6e3)][_0x22b4c8[_0xfeca63(0x2b3)]]['updateAgent'](_0x48297e);}async[a0_0x525ac(0x349)](_0x45f0c8,_0x1d7fe4){const _0x529567=a0_0x525ac;return await this[_0x529567(0x3e3)][_0x529567(0x6e3)][_0x45f0c8[_0x529567(0x2b3)]][_0x529567(0x349)](_0x1d7fe4);}async[a0_0x525ac(0x5a6)](_0x46d397,_0x4a91e1){const _0x119f2f=a0_0x525ac;return await this[_0x119f2f(0x3e3)][_0x119f2f(0x6e3)][_0x46d397['instanceName']][_0x119f2f(0x5a6)](_0x4a91e1);}async['startFlow'](_0x4e6a35,_0x3ba2e7){const _0x1929d0=a0_0x525ac;return await this[_0x1929d0(0x3e3)][_0x1929d0(0x6e3)][_0x4e6a35[_0x1929d0(0x2b3)]][_0x1929d0(0x6d1)](_0x3ba2e7);}async[a0_0x525ac(0x1da)](_0x3b2d32,_0x1fbaf9){const _0x28e079=a0_0x525ac;return await this[_0x28e079(0x3e3)]['waInstances'][_0x3b2d32[_0x28e079(0x2b3)]][_0x28e079(0x1da)](_0x1fbaf9);}async[a0_0x525ac(0x63c)](_0x436953,_0x20b164){const _0x368403=a0_0x525ac;return await this[_0x368403(0x3e3)]['waInstances'][_0x436953[_0x368403(0x2b3)]][_0x368403(0x63c)](_0x20b164);}async[a0_0x525ac(0x365)](_0x21251f,_0x5b7ae9){return await this['waMonitor']['waInstances'][_0x21251f['instanceName']]['editConversation'](_0x5b7ae9);}async[a0_0x525ac(0x433)](_0x4811b2,_0x921bc6){const _0x47acc9=a0_0x525ac;return await this['waMonitor'][_0x47acc9(0x6e3)][_0x4811b2['instanceName']][_0x47acc9(0x433)](_0x921bc6);}async['getFlow'](_0x5a3558,_0x8bd003){const _0x48c713=a0_0x525ac;return await this[_0x48c713(0x3e3)][_0x48c713(0x6e3)][_0x5a3558['instanceName']][_0x48c713(0x223)](_0x8bd003[_0x48c713(0x524)]);}async[a0_0x525ac(0x262)](_0xc90d9,_0x5bdd4f){const _0x5c5581=a0_0x525ac;return await this['waMonitor'][_0x5c5581(0x6e3)][_0xc90d9[_0x5c5581(0x2b3)]]['createFlow'](_0x5bdd4f);}async[a0_0x525ac(0x215)](_0x54108b,_0x50a7b3){const _0x5a20c2=a0_0x525ac;return await this['waMonitor'][_0x5a20c2(0x6e3)][_0x54108b[_0x5a20c2(0x2b3)]][_0x5a20c2(0x215)](_0x50a7b3);}async[a0_0x525ac(0x328)](_0x38908b,_0x20e051){const _0x5107a3=a0_0x525ac;return await this[_0x5107a3(0x3e3)][_0x5107a3(0x6e3)][_0x38908b['instanceName']][_0x5107a3(0x328)](_0x20e051);}async[a0_0x525ac(0x647)](_0x499cad,_0x1cb3f0){const _0x5eb00a=a0_0x525ac;return await this[_0x5eb00a(0x3e3)][_0x5eb00a(0x6e3)][_0x499cad[_0x5eb00a(0x2b3)]][_0x5eb00a(0x647)](_0x1cb3f0);}async[a0_0x525ac(0x253)](_0x4f9bde,_0x4a3724){const _0x5b162a=a0_0x525ac;return await this[_0x5b162a(0x3e3)][_0x5b162a(0x6e3)][_0x4f9bde[_0x5b162a(0x2b3)]][_0x5b162a(0x253)](_0x4a3724);}async['editFlowCondition'](_0x166b56,_0x144dd9){const _0x29b35f=a0_0x525ac;return await this[_0x29b35f(0x3e3)][_0x29b35f(0x6e3)][_0x166b56['instanceName']][_0x29b35f(0x23c)](_0x144dd9);}async['editFlowVaredit'](_0x28a840,_0x187409){const _0x4381e3=a0_0x525ac;return await this['waMonitor'][_0x4381e3(0x6e3)][_0x28a840['instanceName']][_0x4381e3(0x50e)](_0x187409);}async[a0_0x525ac(0x271)](_0x4c3045,_0x28174a){const _0x1b8366=a0_0x525ac;return await this[_0x1b8366(0x3e3)][_0x1b8366(0x6e3)][_0x4c3045[_0x1b8366(0x2b3)]][_0x1b8366(0x271)](_0x28174a);}async['deleteFlow'](_0x32ec6c,_0x26c02a){const _0xdfb7fd=a0_0x525ac;return await this['waMonitor']['waInstances'][_0x32ec6c[_0xdfb7fd(0x2b3)]][_0xdfb7fd(0x1b7)](_0x26c02a[_0xdfb7fd(0x524)]);}async[a0_0x525ac(0x6cc)](_0x4f25c8){const _0x3766e4=a0_0x525ac;return await this[_0x3766e4(0x3e3)][_0x3766e4(0x6e3)][_0x4f25c8['instanceName']][_0x3766e4(0x6cc)]();}},zt=class{constructor(_0x4a2c96){const _0x5aa172=a0_0x525ac;this[_0x5aa172(0x62d)]=_0x4a2c96;}async['createWebhook'](_0x103f99,_0x431ae2){const _0x5151d2=a0_0x525ac;return this[_0x5151d2(0x62d)][_0x5151d2(0x58a)](_0x103f99,_0x431ae2);}async[a0_0x525ac(0x166)](_0x3fbcf5){const _0x2cf9b7=a0_0x525ac;return this['webhookService'][_0x2cf9b7(0x252)](_0x3fbcf5);}},Qt=class{constructor(_0x228a7c,_0x141ee4,_0x125473,_0x33f27b,_0x3a3463,_0x3d8c1d,_0x3bce13){const _0x7fc632=a0_0x525ac;this[_0x7fc632(0x197)]=_0x228a7c,this[_0x7fc632(0x3f7)]=_0x141ee4,this['contact']=_0x125473,this['messageUpdate']=_0x33f27b,this['webhook']=_0x3a3463,this['auth']=_0x3d8c1d,this[_0x7fc632(0x6b7)]=_0x3bce13;}get[a0_0x525ac(0x34c)](){const _0x32d7b2=a0_0x525ac;return this[_0x32d7b2(0x6b7)];}},Is=require(a0_0x525ac(0x2d0)),Rs=class{},gi=new Is[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x525ac(0x617),a0_0x525ac(0x6b6),a0_0x525ac(0x406)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),fo=M?.[a0_0x525ac(0x45c)](Rs[a0_0x525ac(0x524)],gi,a0_0x525ac(0x728)),As=class{},mi=new Is[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),wo=M?.[a0_0x525ac(0x45c)](As[a0_0x525ac(0x524)],mi,a0_0x525ac(0x2dd)),yo=require(a0_0x525ac(0x2d0)),Ds=class{},hi=new yo['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),bo=M?.[a0_0x525ac(0x45c)](Ds[a0_0x525ac(0x524)],hi,a0_0x525ac(0x72f)),So=require(a0_0x525ac(0x2d0)),Ps=class{},Eo=new So[(a0_0x525ac(0x5d4))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x47c4(){const _0x11fdb2=['):\x20Deletando\x20fluxo...','Font\x20is\x20required','Original\x20filename:','Erro\x20ao\x20instalar\x20','sign','groupSettingUpdate','PLAYED','interval\x20no\x20\x20um\x20nmero','flowIgnoreGroups','profilePicture','web','dbClient','processUazapi','array','authService','USER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','verbose','Method\x20not\x20implemented.','Telefone:\x20','contains','pollCreationMessageKey','Error\x20updating\x20privacy\x20settings','enumerable','findGroupInfos','formatVCard','scheduleSendMedia','fetchLatestBaileysVersion','bearer','/wa-groups','readData','\x1b[43m','allFlows','):\x20Ignoring\x20group\x20messages.','):\x20Visualizando\x20AutomateSystem','fetchMessages','console','startFlow','\x22,\x20valor\x20a\x20substituir:\x20\x22','67998BdeUNt','webhookModel','Mensagem\x20no\x20suportada','CORS_ORIGIN','Varivel\x20no\x20encontrada!','sending','/instance',',\x20resultado:\x20','@g.us','bateu\x20events','Error\x20change\x20group\x20setting','default','createGroup','request\x20received\x20in\x20updateAgent','messaging-history.set','CHATS_UPDATE','waInstances','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','):\x20Enviando\x20localizao','Instance\x20\x22','scheduled','\x20}\x0a','):\x20Procurando\x20mensagens\x20para\x20envio','Imagem\x20no\x20encontrada','updateGParticipant','waUploadToServer','proto','PHONE','editflowgroup','File\x20written\x20to\x20path:\x20','url','):\x20debug\x20alterando\x20this.AutomateSystem','VERBOSE','convertaudio','\x20inseridos\x20no\x20banco\x20de\x20dados...','logout','request\x20received\x20in\x20deleteConversation','END:VCARD','Getting\x20profile\x20with\x20jid:\x20','sha256','matchRegex','src','delInstanceFiles','trimmed','remoteJid','licenca','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','*\x0a\x0a','Por\x20favor,\x20responda\x20\x20ltima\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','.TEL;waid=','unavailable','readMessages','updateStatusPrivacy','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','http://checkip.dyndns.org',',\x20qrcodeCount:\x20','updateMessage',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','isJidGroup','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','ignoreGroups','WEBHOOK_EVENTS_CONTACTS_UPDATE','toDataURL','rowId','cwd','padEnd','audio/mp4','content','WEBHOOK_EVENTS_CONTACTS_SET','):\x20Erro\x20ao\x20editar\x20agentes:\x20','createConversationforgoToFlow','updateProfileName','Erro\x20ao\x20atualizar\x20conversa:\x20','flow','Instance\x20Key\x20from\x20DB:','update','\x20minutos','mongodb','):\x20teve\x20mudanas\x20chat.archived:\x20','tags','Incio','Revoke\x20error','chatModify','getLastMessage','messages','readreceipts','replyOptions','QRCODE_UPDATED','getProfileName','READ','last_update','authentication','WEBHOOK','editedMessage','profilePictureUrl','truncatedtoEnd','SERVER','\x20\x1b[0m','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','findById','address','Module\x20-\x20ON','ERROR:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','contactname','uazapiSendMedia','Falha\x20ao\x20deletar\x20mensagens:','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','chats.upsert','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','extractRegex','):\x20Current\x20Time:\x20','findWebhook','TRIAL_AD','errno','):\x20Mensagem\x20j\x20enviada\x20para\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','error\x20get\x20vote','verify','some','data','\x22\x20not\x20found','findFlow','hex','\x20-\x20ON:\x20','upperCase','dbInstance','authModel','mkdirSync','Audio\x20converted\x20to\x20mp4','editflowreply','sort','footerText','isJWT','where','\x1b[30m','eventemitter2','QRCODE','messages.update','configService','open','messageId','8080','SERVER_OFFLINE','updateAgent','findConversation','restrict','and','PORT','group-participants.update','has','path','Audio\x20is\x20url','scheduleMessage','contentText','routerPath','updateProfileStatus','replacer','sendReaction','The\x20property\x20cannot\x20be\x20empty','changeVariables','message','lastCondition','title','isArray','blocks','GROUPS_UPDATE','media','no-cache','scheduleSendText','groupParticipantsUpdate','formatStatusMessage','audioMessage','.sendDataWebhook-global','?timestamp=','):\x20Buscando\x20flow...','empty','saveVariable','redisCache','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','replaceVariablesChat','replaceVariablesInReplyOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','express-async-errors','customFields','headers','conversationTimestamp','Last\x20message\x20not\x20found','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','editflowblock','):\x20Entrou\x20na\x20funo\x20saveReply','STATUS_INSTANCE','Output\x20audio\x20path:\x20','deleteFlow','js-yaml','namespace','msgRetryCounterCache','statusMessage','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','toFile','downloads','groupRevokeInvite','66obTCcp','closed','round','document','evaluateCondition','test','options','creds.json','stopMinutes','rmSync','\x1b[42m','):\x20Edit\x20schedule\x20message...','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','.sendDataWebhook-local','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','):\x20Enviando\x20udio','Profile\x20not\x20found','values','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','subjectOwner','!cmd_','audio','Output\x20path:\x20','https://chat.whatsapp.com/','Db\x20Connection','Full\x20file\x20path:','getConversation','replace','g-t','mediaMessage','logger','goNextblock','chatLog','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','video','request\x20received\x20in\x20deleteDoneMessages','DATABASE_CONNECTION_HOST','restartInstance','composing','fetchChats','BRL','fetchProfile2','):\x20leadInfoVariables','chatHandle','ReplyOption\x20com\x20ID\x20','contactMessage','leaveGroup','REDIS_URI','DOCKER_ENV','STORE_CLEANING_TERMINAL','success','dropCollection','Erro\x20de\x20atualizao:\x20','stopped','temp-','findIndex','findMessages','^\x5cd+[\x5c.@\x5cw-]+','endsWith','^\x5cd+([-]\x5cd+)*@g.us$','chrome','_error','WEBHOOK_MAP','reference','Business\x20profile\x20fetched','not\x20loaded','replaceOne','participant','190QXXHqD','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','privacySettings','static','groupLeave','pollUpdateMessage','parse','sections','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','parseInt','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Bloco\x20com\x20ID\x20','WEBHOOK_GLOBAL_ENABLED','pollCreationMessageV2','syscall','):\x20Deletando\x20conversa...','editFlow','TEXT',',\x20far\x20nova\x20verificao\x20em\x20','CONTACTS_UPSERT','long','modifiedCount','oldValue','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','\x20chats\x20de\x20','notContains','website','dataValidate','Temp\x20audio\x20path:\x20','getFlow','contacts.upsert','conditions','The\x20instance\x20needs\x20to\x20be\x20disconnected','WEBHOOK_EVENTS_CHATS_UPSERT','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','getHours','replaceVariables','547956JhzclY','group','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','https','uazapiDeleteMessage','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','isBooleanString','numbers','request\x20received\x20in\x20createFlow','CONNECTION_UPDATE','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','whatsappNumbers','):\x20Criando\x20fluxo...','option','decryptPollVote','Temp\x20image\x20deleted','updateOne','editFlowCondition','Image\x20created','removeProfilePicture','out','\x22\x20cannot\x20be\x20empty','condition','StartBot','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20tem\x20blocks','bulkWrite','--version','Instance\x20restarted','from','remote\x20\x22origin\x22','deleteDoneMessages','variable','MESSAGES_UPSERT','saveAPI','picture','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','API_KEY','find','editFlowGroup','Unknown\x20message\x20type\x20encountered','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Error\x20updating\x20profile\x20name','The\x20global\x20api\x20key\x20must\x20be\x20set','errors','/:instanceName','updateProfilePicture','available','viewOnceMessage','textMessage','Error\x20creating\x20group','jwt','validate','length','createFlow','cpf','all','CHATS_UPSERT','split','qrcode-terminal','activatedCount','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Content-Type','SSL_CONF_FULLCHAIN','lastBlockId','phoneNumber','mediaKey','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','buttonsMessage','editFlowVariable','getClient','readMessageBot','redis-server','responsavelid','Variveis\x20no\x20encontradas:','CLEANING_INTERVAL','loggedOut','deleteMany','groupJid','abs','applyvaredit','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','error_log','buttonText','request\x20received\x20in\x20fetchConversation','sendDataWebhook','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20ao\x20buscar\x20conversa:\x20','localWebhook','senderKeyDistributionMessage','AUTOUPDATE','apply','groups_ignore','groupId','view\x20engine','\x20instance\x20does\x20not\x20exist','CONTACTS_SET','refreshToken','load','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','blockId','Read\x20messages','limit','Desconectado,\x20parando\x20execuo.','dbSettings','.mp4','lastInteraction','removeInstance','sendMessageWithTyping','SSL_CONF_PRIVKEY','\x22reaction\x22\x20must\x20be\x20an\x20emoji','desativadoFluxoAte','groupUpdateDescription','$dbName','\x1b[36m%s\x1b[0m','reactionMessage','-whatsapp-api','uazapiSendAudio','description','fetchContacts','):\x20atualizao\x20chat:\x20','conversation','WEBHOOK_EVENTS_MESSAGES_UPSERT','FlowController','/exit','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','env','DATABASE_CONNECTION_URI','Operador:\x20\x22','online','createJid','protocolMessage','createNewConversation','The\x20\x22','updateReplyOption','instanceName','flowConfig','stack','variables','compression','code','groupValidate','saveChatVariables','lastMessage','enabled','):\x20Conversa\x20inserida\x20com\x20sucesso.','reconnectTimestamps','findOneAndUpdate','leadInfo','unhandledRejection','delete','convert','WEBHOOK_EVENTS_QRCODE_UPDATED','apiResponse','PRESENCE_UPDATE','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','data:\x20','jid','pre','WEBHOOK_EVENTS_PRESENCE_UPDATE','pollCreationMessageV3','stanzaId','.json','save','mongoose','allContacts','notEmpty','Comando\x20desconhecido','WEBHOOK_EVENTS_SEND_MESSAGE','):\x20Erro\x20durante\x20a\x20atualizao:\x20','quotedMessage','jpegThumbnail','findByIdAndDelete','/wa-presence','assign','groupInviteCode','NextBlock','messageUpdate','API\x20Key\x20from\x20Request:','uuid','replaceValue','No\x20join\x20group\x20invite\x20code\x20or\x20url','Trying\x20to\x20get\x20business\x20profile','Erro\x20inesperado\x20em\x20processvaredits:\x20','nome','eventEmitter','.\x20Pulando.','10CMIcmM','chats','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','spawn','max','webp','notify','/webhook','__esModule','CONTACTS_UPDATE','reviver','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','sudo\x20apt\x20install\x20-y\x20redis-server','):\x20Entrou\x20na\x20funo\x20stop','lastmsg','DEL_INSTANCE','defineAuthState','archive','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','optionDescription','CHATS_SET','next_groupId','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','repeat','axios','Not\x20is\x20business\x20profile','METHODS','isFile','scheduleSendAudio','):\x20Enviando\x20contato','floor','statusJidList','\x1b[41m','unreadCount','groupDesc','unreadcount','):\x20lastBlockId:\x20','processblock','CONFIG_SESSION_PHONE','connecting','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','GUARD','format','contactModel','SERVER_ACK','Converting\x20image\x20to\x20WebP\x20to\x20sticker','updateChatWithMessage','):\x20newSecondValue\x20aps\x20replaceVariables:','qrcode.updated','hostname','forEach','Image\x20is\x20url','varedits','findAndReplace','bodyString','status.instance','connectToWhatsapp','Group\x20not\x20found','connectionState','.ogg','noConnection','envYaml','273500RIHXLL','saveCreds','apirequest','editFlowBlock','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','paused','participants','linkPreview','envProcess','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','Getting\x20profile\x20info','URL','ini','setHeader','Types','Internal\x20Server\x20Error','datetime','leadInfo.','delay','The\x20','shift','vote','lastReceivedMessage','fetchStatusMessage','CONNECTION','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','done','request\x20received\x20in\x20getAutomateSystem','Logger','text','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','formatBRNumber','isInteger','addReplyOption','Read\x20messages\x20fail','use','updateCustomFields','):\x20Deletados\x20','MAX_RECONNECT_ATTEMPTS','dbServer','\x20no\x20encontrado',',\x20valor\x20a\x20encontrar:\x20\x22','close','\x1b[1m','#ffffff','Error\x20update\x20group\x20picture','closeExistingConversations','app-state-sync-key','\x20horas\x20e\x20','):\x20isVote','unlinkSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','Converted\x20audio\x20deleted','processingScheduleMessageId','locationMessage','statSync','\x20install\x20output:\x20','waMonit','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','agents','DARK','creation','variablesNotFound','Processing\x20audio','editConversation','Instncia:\x20','mongodb://','useMultiFileAuthState','No\x20invite\x20code','StatusJidList\x20is\x20required','readMessage','\x1b[33m\x1b[1m','NO_IP','charAt','pop','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Enter\x20a\x20value\x20in\x20milliseconds','newStoppedUntil','setWebhook','Missing\x20global\x20api\x20key','end','Converting\x20audio\x20to\x20mp4','loadWebhook','remove.instance','Authentication\x20error','post','CORS','moreLogs','writeFileSync','DB_PREFIX_NAME','Data\x20invlida\x20fornecida','replyOption','stdout',',\x20saindo.','sendSticker','Forbidden','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','message-up','groupMetadata','):\x20Enviando\x20mdia','Bad\x20Request','Cache-Control','STORE_CONTACTS','JWT','info','):\x20Editando\x20bloco...','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','request\x20received\x20in\x20getFlow','\x0aitem','quoted','LOG','atendimentoAberto','writeData','\x22\x20-\x20NOT\x20CONNECTION','DATABASE_CONNECTION_USER','):\x20Editando\x20condio\x20do\x20fluxo...','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','request\x20received\x20in\x20editFlow','messageHandle','../env.yml','\x1b[37m%s\x1b[0m','capitalizedWords','pollCreationMessage','image','sendList','deleteflow','statusCode','):\x20this.processingScheduleMessageId:\x20','value','findByIdAndUpdate','AppStateSyncKeyData','set','Image\x20converted\x20to\x20WebP','displayName',',\x20Resultado:\x20','Flow\x20no\x20encontrado','EMAIL','getDevice','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','request\x20received\x20in\x20editFlowvariable','nextBlock:','authState','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','delAll','evaluateConditionTest','instanceInfo','groupadd','Image\x20path:\x20','when','createWebhook','integer','sendStatus','\x20contacts','AUTHENTICATION','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','client','fullName','eventHandler','The\x20instance\x20is\x20already\x20connected','-instances','contextInfo','g.us','markMessageAsRead','trim','replaceVariablesLogs','error','whatsappNumber','loadEnv','creds.update','):\x20Conversa\x20atualizada\x20em\x20memria','50mb','\x1b[37m','@whiskeysockets/baileys','newValue','pushName','createConnection','notas','/group','ObjectId','order','response','\x20foi\x20interrompido\x20pelo\x20usurio.','chats.delete','urlencoded','findGroupInfo','LICENSE_INVALID','^\x5cd+','40072RuLKEI','waMonitor','send','dark','reorderBlocks','execSync','\x1b[33m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','buttonMessage','):\x20Criando\x20nova\x20conversa','):\x20newFirstValue\x20aps\x20replaceVariables:','/wa-contacts',',\x20valor\x20passado:\x20\x22','secondValue','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','group\x20ignored','owner','generate','selectableCount','deleteReplyOption','chat','send.message','):\x20Comando\x20desconhecido:\x20','37629vLkXKU','convertedOptions','groups.upsert','prepareMediaMessage','app','Message\x20not\x20found','Atualizao:\x20','Primeiro\x20Valor:\x20','instance.','Not\x20allowed\x20by\x20CORS','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Error\x20updating\x20message\x20status:','ios','startsWith','No\x20respondeu\x20com\x20a\x20enquete.','redisEnv','URL:','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','\x20segundos',',\x20lastCondition:\x20','stickerMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','uazapiSendText','vcard','dayjs','goToFlow','del','WEBHOOK_EVENTS_MESSAGES_UPDATE','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','storePath','):\x20Limpando\x20delayMessage','sendContact','connect','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','chatModel','):\x20expirationTime:\x20','contactHandle','updatePresence','defineProperty','upsertChats','sendPoll','verifiedName','joinGroup','demote','connectionClosed','exit','Log\x20out\x20instance:\x20','AutomateSystem','REDIS_ENABLED','exists','count','prototype','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','sendPresenceUpdate','sudo\x20apt\x20install\x20-y\x20ffmpeg','ffmpeg','deleteConversation','):\x20Buscando\x20todos\x20os\x20fluxos...','everyOne','updateStopChat','):\x20Iniciando\x20bot...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20udio:','last','allflows','HOST','CHATS_DELETE','getflow','documentMessage','truncatedto','jsonwebtoken','PRODUCTION','WEBHOOK_EVENTS_CONTACTS_UPSERT','CONFIG_SESSION_PHONE_NAME','removeData','CONFIG_SESSION_PHONE_CLIENT','express','DEBUG','.mp3','lean','blockLogs','sendMessage','throwAndLogError','DD/MM\x20HH:mm:ss','HH:mm:ss','fetchProfilePicture','getVariablesChat','CLIENT','Temp\x20audio\x20created','prefixCommand','SERVER_TYPE','selectedOptions','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','optionName','header','put','@s.whatsapp.net','):\x20Flow\x20no\x20encontrado','model','getRandomText','backgroundColor','getAutomateSystem','local_map','announcement','hGet','sleep','\x1b[33m%s\x1b[0m','GROUPS_UPSERT','3KsNebo','mentioned','errorLog','groupHandler','readFileSync','webhook','MESSAGES_UPDATE','height','flattenObject','entries','less','Erro\x20ao\x20editar\x20agentes:\x20','SERVER_PORT','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','editflow','video-cover.png','-version','lastSendMessage','rm\x20-rf\x20','not_announcement','.webp','boolean','AutomateFunctions','Invalid\x20format','remoteJids','@broadcast','403108rhOSjY','.X-ABLabel:Celular\x0a','TRIAL_INSTANCE_NAME','hbs','Error\x20change\x20group\x20name','deleteOne','authorization','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','role','):\x20Query\x20params:','call','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','Instance\x20logged\x20out','findParticipants','\x20messages.update.','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','uazapi','toLocaleString','deleteMessage','?authSource=admin&readPreference=primary&directConnection=true','addBlock','.\x20Cdigo\x20de\x20sada\x20','number','getMessage','Connection\x20closed\x20for\x20instance:\x20','getAllData','no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','listMessage','output','\x20messages.','joinGroupValidate','BufferJSON','SEND_MESSAGE','cors','isDirectory','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','currency','toBRL','recording','Initial\x20__dirname:','Sistema\x20atualizado\x20com\x20sucesso!','http','updatePrivacySettings','width','NODE_ENV','performBulkUpdate','contactsArrayMessage','replaceVariablesInObject','fileLength','audioWhatsapp','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','resetReconnectionVariables','Not\x20Found','stopConversation','processApiRequest','expiration','removed','Erro\x20ao\x20editar\x20o\x20chat:\x20','key','groupCreate','Tanto\x20id\x20quanto\x20owner\x20so\x20necessrios\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','fromMe','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','sticker','sendLocation','\x1b[32m%s\x1b[0m','processgoToFlow','toNumber','.png','Router','presence','Falha\x20ao\x20deletar\x20mensagens\x20updates:','filter','segundos','keep-alive','readFile','ex:\x20\x22groupJid=120362@g.us\x22','STORE_MESSAGE','_p_','headerString','collection','latitude','isBase64','varedit','deleteBlock','remove','cleaningUp','user','events','apikey','fetchStatus','query','equal','stopMinutesMaxActives','SendScheduleMessage','lowerCase','\x1b[31m%s\x1b[0m','Instance\x20ID:','DELIVERY_ACK','/instance/fetchInstances','Flow\x20iniciado\x20com\x20','class-validator','fetchProfile','readdirSync','chats.update','match_last_seen','cleanStore','encoding','):\x20Conversas\x20encontradas:','getMIMEType','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','request\x20received\x20in\x20scheduleMessage','fetchBusinessProfile','metadata','editflowcondition','wuid','SUCCESS','Unable\x20to\x20leave\x20the\x20group','):\x20Enviando\x20texto','groupToggleEphemeral','text/event-stream','messageTimestamp','Contacts\x20not\x20found','waitingPoll_name','none','editChat','getTime','editOperator','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Error\x20deleting\x20instance\x20from\x20memory.','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','status','updateGroupPicture','originalUrl','/create','updateGParticipate','variablesToObject','waitingPoll_id','auth','now','Falta\x20informao\x20para\x20a\x20chamada\x20API','editFlowVaredit','node-mime-types','sendButtons','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','uazapiSendPoll','pollMessage','saveTextReply','WEBHOOK_EVENTS_STATUS_INSTANCE','debug','ENABLED','toUpperCase','\x20minutos\x20verificar\x20novas\x20mensagens','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','email','presence.update','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','getScheduleMessage','Error\x20in\x20markMessageAsRead:','saveMediaToFile','contacts','/events','Erro:','name','insertMany','font','isBusiness','contact_blacklist','mediaSticker','organization','connectionUpdate','realVariables','EVENTS','no.connection','stateConnection','opendirSync','https://uazapi-plugin.bubbleapps.io/?url=','createflow','\x5cd+','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','created','getContentType','processPollUpdateMessage','loadInstance','/media','/wa-message-update','notEqual','sendWhatsAppAudio','buttonId','uazapiSendLocation','request\x20body:\x20','pollMessageOnDelete','):\x20transformedCustomFieldVariables','inner','flowPrefixCommand','getTicketSystem','arraybuffer','Erro\x20ao\x20buscar\x20conversas:\x20','buttons','archiveChat','checkAndUpdateChats','Error\x20writing\x20file:\x20','mentions','hasOwnProperty','audio/ogg','new.jwt','slice','Message','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','uazapiSendContact','findOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:','processvaredits','\x1b[47m','qrCode','contact','status@broadcast','deleteInstance','NAME','Invalid\x20\x22oldToken\x22','Prxima\x20verificao\x20em\x20','\x20-i\x20','maxActives','):\x20updateResult:','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','nomecompleto','\x1b[30m%s\x1b[0m','findContacts','onWhatsApp','ButtonsMessage','lastSend','PASSWORD','1096aajgeh','imageMessage','.josn','Error\x20in\x20scheduleNextCheck:\x20','stringify','\x5c$&','log','imagechat','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','getBase64FromMediaMessage','updateParticipant','Background\x20color\x20is\x20required','revokeInviteCode','endSession','arrayUnique','\x22\x20-\x20REMOVED','LEVEL','instanceName\x20not\x20provided.','Sending\x20audio\x20whatsapp','existsSync','):\x20Criou\x20conversa\x20no\x20startFlow:','/wa-message','getDelay','isRunning','scheduleNextCheck','FULLCHAIN','caption','findChats','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','$set','create','Error\x20updating\x20profile\x20status','Type\x20defined\x20as\x20audio','):\x20conversation.waitingPollname','/automate','Media\x20folder\x20path:','newName','inviteCode','\x1b[34m','AUTHENTICATION_TYPE','type','map','):\x20Editando\x20replyOption...','fetchInstances','toArray','downloadMediaMessage','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','NEW_JWT_TOKEN','store','redis','pollErrorMessage','updateReadReceiptsPrivacy','presenceSubscribe','groups.update','DELETED','https://jsonip.com','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','updateFlowConfig','GLOBAL','start','node-cache','RECONNECT_TIME_FRAME','URI','insert','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','TYPE','flowActive','action','writeStore','AutomateSystem\x20no\x20foi\x20inicializado','pollOnReplyDelete','AUTHENTICATION_API_KEY','toLowerCase','fromObject','\x20mensagens\x20de\x20','splice','updateMany','):\x20Ler\x20mensagem','firstValue','Unauthorized','messageModel','request\x20received\x20in\x20getConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','WEBHOOK_EVENTS_CHATS_DELETE','isLong','join','contacts.update','PREFIX_KEY','write','hDel','getPrototypeOf','DisconnectReason','redirect','sendText','prepareWAMessageMedia','CORS_CREDENTIALS','block','SECRET','findStatusMessage','addresss','instance','longitude','Conversa\x20deletada\x20com\x20sucesso.','Schema','add','This\x20name\x20','child_process','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','profile','Temp\x20audio\x20deleted','Hash\x20to\x20image\x20name:\x20','/*.json','Connection','DATABASE_CONNECTION_DB_PREFIX_NAME','reconnectAttempts','Nmero:\x20','isURL','API\x20Key\x20invlida.','delaySecMin','onTime','base64','getStatus','collections','toggleEphemeral','flowname:\x20','WEBHOOK_EVENTS_CONNECTION_UPDATE','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','groups','LIMIT','Flow\x20already\x20exists','!stop','sendMedia','valid','videoMessage','MESSAGES_SET','generateHash','announce','promote','emit','No\x20participants','/media/','string','\x20no\x20encontrado\x20para\x20atualizao.',',\x20Comparador:\x20','repository','waitingPoll_replyOptions','object','utf-8','setting','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','request\x20received\x20in\x20editFlowcondition','params','mimetype','scheduleMessages','groupFetchAllParticipating','exec','get','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Entrou\x20na\x20funo\x20goToFlow','Valor\x20de\x20find\x20ou\x20replace\x20ausente','mediatype','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','delayMessage','updateMediaMessage','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Editando\x20varivel\x20do\x20fluxo...','refused','notMatchRegex','android','expression','subject','messagesSend','DATABASE_ENABLED','stderr','true','fetchPrivacySettings','\x1b[32m','request\x20received\x20in\x20allFlows','REDIS','delaySecMax','sendAudio','STORE_CHATS','saveConversationToDatabase','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','router','substring','reaction','messages.upsert','match','webhookService','remoteJidsRemaining','indexOf','sharp','request\x20received\x20in\x20updateFlowConfig','Error\x20fetching\x20group','tokenId','public','_id','createServer','Error\x20updating\x20participants','webhookMap','SSL_CONF','findGroup','fone','fetchConversation','WEBHOOK_EVENTS_CHATS_UPDATE','Erro\x20ao\x20aplicar\x20varedit:\x20','OrAnd','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','groupSetting','poll','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Getting\x20image\x20from\x20url','greater','/instance/create','editFlowReply','method','connected','creds','Button\x20IDs\x20cannot\x20be\x20repeated.','WARN','json','COLOR','Button\x20texts\x20cannot\x20be\x20repeated','connection.update','PENDING','delInstanceTime','documentWithCaptionMessage','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','archived','processConditionsTest','\x1b[46m','normalizeMessage','LOG_COLOR','):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20','Parando\x20aplicao,\x20atualizao\x20recebida','poll_id','Audio\x20is\x20base64','):\x20Error\x20processing\x20conditions:\x20','state','command','findGroups','AUTHENTICATION_JWT_EXPIRIN_IN','padStart','warn','gifPlayback','viewOnceMessageV2','\x20saindo\x20da\x20funo','ephemeralMessage','qrcode','updateConversation','Erro\x20na\x20migrao:','):\x20conversation.lastInteraction:\x20','/events/:instance','KEY','Fluxos\x20no\x20esto\x20ativados','ERROR','random','includes','@redis/client','connectionStatus','editScheduleMessage','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Error\x20updating\x20profile\x20picture','instanceKeys','toString','fileName','WEBHOOK_EVENTS_NEW_JWT_TOKEN','stoppedUntil','PRIVKEY','GROUP_PARTICIPANTS_UPDATE','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','groupName','messageUpModel','3059bMncYE','updateBlock','createInstance','):\x20teve\x20mudanas\x20chat.name:\x20','views','ip:\x20','utf8','):\x20Flow\x20desativado','Archiving\x20chat','):\x20teve\x20mudanas\x20chat.displayName:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','userDevicesCache','isConnected','DATABASE','groupUpdateSubject','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot',',\x20Expiration\x20Time:\x20','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','\x20minutos...','keys','\x1b[0m','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','@ffmpeg-installer/ffmpeg','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','https://','Valor\x20inicial:\x20\x22','/message','/wa-chats','):\x20Falha\x20ao\x20deletar\x20mensagem.','push','/wa-qrcode','context','):\x20','CONECTADO\x20\x20UAZAPI','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','body','initAuthCreds','/chat','E-mail:\x20','INFO'];a0_0x47c4=function(){return _0x11fdb2;};return a0_0x47c4();}Eo[a0_0x525ac(0x2ca)]('save',function(_0x219b6a){const _0x4243f3=a0_0x525ac;delete this[_0x4243f3(0x5af)],delete this[_0x4243f3(0x6b4)],delete this[_0x4243f3(0x544)],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x219b6a();});var vo=M?.[a0_0x525ac(0x45c)](Ps[a0_0x525ac(0x524)],Eo,a0_0x525ac(0x46b)),Os=require(a0_0x525ac(0x18d)),No=require('fs'),Yt=class extends B{constructor(_0x21978d,_0x384055){const _0x146c2e=a0_0x525ac;super(_0x384055),this[_0x146c2e(0x6d4)]=_0x21978d,this[_0x146c2e(0x181)]=_0x384055;}async[a0_0x525ac(0x58a)](_0x5327da,_0xc03614){const _0x14f979=a0_0x525ac;try{return this[_0x14f979(0x294)][_0x14f979(0x517)]?{'insertCount':(await this[_0x14f979(0x6d4)][_0x14f979(0x202)]({'_id':_0xc03614},{..._0x5327da},{'upsert':!0x0}))[_0x14f979(0x21a)]}:(this[_0x14f979(0x5b1)]({'path':(0x0,Os['join'])(this['storePath'],_0x14f979(0x46b)),'fileName':_0xc03614,'data':_0x5327da}),{'insertCount':0x1});}catch(_0x4a9c2c){return _0x4a9c2c;}}async[a0_0x525ac(0x252)](_0x17be80){const _0x1d8c13=a0_0x525ac;try{return this[_0x1d8c13(0x294)][_0x1d8c13(0x517)]?await this[_0x1d8c13(0x6d4)][_0x1d8c13(0x555)]({'_id':_0x17be80}):JSON[_0x1d8c13(0x20b)]((0x0,No[_0x1d8c13(0x46a)])((0x0,Os[_0x1d8c13(0x5c2)])(this[_0x1d8c13(0x418)],_0x1d8c13(0x46b),_0x17be80+_0x1d8c13(0x2ce)),{'encoding':_0x1d8c13(0x601)}));}catch{return{};}}},_s=require('path'),Co=require('fs'),Xt=class extends B{constructor(_0x4b3ab1,_0x3dad60){const _0x144536=a0_0x525ac;super(_0x3dad60),this[_0x144536(0x175)]=_0x4b3ab1,this[_0x144536(0x181)]=_0x3dad60,this[_0x144536(0x50b)]=_0x3dad60[_0x144536(0x60a)](_0x144536(0x3c0));}async[a0_0x525ac(0x58a)](_0x15c2fe,_0x5f4e2b){const _0x188226=a0_0x525ac;try{return this[_0x188226(0x294)]['ENABLED']?{'insertCount':(await this[_0x188226(0x175)][_0x188226(0x202)]({'_id':_0x5f4e2b},{..._0x15c2fe},{'upsert':!0x0}))[_0x188226(0x21a)]}:(this[_0x188226(0x5b1)]({'path':(0x0,_s[_0x188226(0x5c2)])(es,this[_0x188226(0x50b)][_0x188226(0x5ae)]),'fileName':_0x5f4e2b,'data':_0x15c2fe}),{'insertCount':0x1});}catch(_0x5304c5){return{'error':_0x5304c5};}}async[a0_0x525ac(0x252)](_0x4f268b){const _0x3b6b9d=a0_0x525ac;try{return this['dbSettings'][_0x3b6b9d(0x517)]?await this[_0x3b6b9d(0x175)][_0x3b6b9d(0x555)]({'_id':_0x4f268b}):JSON[_0x3b6b9d(0x20b)]((0x0,Co[_0x3b6b9d(0x46a)])((0x0,_s[_0x3b6b9d(0x5c2)])(es,this[_0x3b6b9d(0x50b)][_0x3b6b9d(0x5ae)],_0x4f268b+_0x3b6b9d(0x2ce)),{'encoding':_0x3b6b9d(0x601)}));}catch{return{};}}},fi=new C('WA\x20MODULE'),wi=new je(fo,y),yi=new Bt(D,y),bi=new et(Fe,y),Si=new at(wo,y),Ei=new Yt(vo,y),vi=new Xt(bo,y),de=new Qt(wi,yi,bi,Si,Ei,vi,M?.[a0_0x525ac(0x272)]()),J=new jt(os,y,de),Ni=new ht(y,J,de),Ci=new Ht(J),Ss=new zt(Ci),R=new Kt(J),ce=new Jt(J,y,de,os,Ni),to=new Wt(J,y),K=new Gt(J),P=new Ft(J),V=new qt(J);fi['info'](a0_0x525ac(0x15b));var Sp=require(a0_0x525ac(0x1ad)),xs=require('fs'),To=T(require(a0_0x525ac(0x22e))),Mo=T(require('http')),$e=class c{static #e;static set[a0_0x525ac(0x3fe)](_0x5ee15f){this.#e=_0x5ee15f;}static get[a0_0x525ac(0x22e)](){const _0x4b32a1=a0_0x525ac;let {FULLCHAIN:_0x59c6f8,PRIVKEY:_0x3c4bad}=y[_0x4b32a1(0x60a)](_0x4b32a1(0x639));return To[_0x4b32a1(0x636)]({'cert':(0x0,xs[_0x4b32a1(0x46a)])(_0x59c6f8),'key':(0x0,xs['readFileSync'])(_0x3c4bad)},c.#e);}static get[a0_0x525ac(0x4a9)](){const _0x539a01=a0_0x525ac;return Mo[_0x539a01(0x636)](c.#e);}},ke=T(require('fs')),_o=T(require(a0_0x525ac(0x331))),Le=T(require(a0_0x525ac(0x2ff))),Zt=T(require(a0_0x525ac(0x18d))),xo=require(a0_0x525ac(0x5d7)),Vs=require(a0_0x525ac(0x5d7));function Ti(){const _0x51d4a7=a0_0x525ac;J[_0x51d4a7(0x539)]();let _0x512334=Zt[_0x51d4a7(0x6de)][_0x51d4a7(0x5c2)](__dirname,_0x51d4a7(0x1be));Oo(_0x512334);}var Oo=_0x292627=>{const _0x417034=a0_0x525ac;let _0x207e0e=ke[_0x417034(0x6de)][_0x417034(0x4e8)](_0x292627),_0x322854=0xc*0x3c*0x3c*0x3e8,_0x7eecae=0x2*0x3c*0x3c*0x3e8,_0x193dc2=new Date()[_0x417034(0x4ff)]();_0x207e0e[_0x417034(0x319)](_0x2185d6=>{const _0x287975=_0x417034;let _0x50f3c3=Zt[_0x287975(0x6de)][_0x287975(0x5c2)](_0x292627,_0x2185d6),_0x2b9726=ke['default'][_0x287975(0x35c)](_0x50f3c3)['birthtime']['getTime']();_0x193dc2-_0x2b9726>_0x322854&&(ke[_0x287975(0x6de)]['unlinkSync'](_0x50f3c3),console['log']('Deleted\x20'+_0x2185d6));}),setTimeout(()=>Oo(_0x292627),_0x7eecae);};function Mi(){const _0x26147f=a0_0x525ac;let _0x1104da=new C(_0x26147f(0x156)),_0x5438e=(0x0,me[_0x26147f(0x6de)])();_0x5438e[_0x26147f(0x348)]((0x0,Po[_0x26147f(0x6de)])({'origin'(_0x151b7f,_0x190857){const _0x10ff75=_0x26147f;let {ORIGIN:_0x1d2422}=y['get'](_0x10ff75(0x37b));return _0x151b7f||(_0x151b7f='*'),_0x1d2422[_0x10ff75(0x62f)]('*')!==-0x1||_0x1d2422[_0x10ff75(0x62f)](_0x151b7f)!==-0x1?_0x190857(null,!0x0):_0x190857(new Error(_0x10ff75(0x403)));},'methods':[...y[_0x26147f(0x60a)](_0x26147f(0x37b))[_0x26147f(0x301)]],'credentials':y[_0x26147f(0x60a)](_0x26147f(0x37b))['CREDENTIALS']}),(0x0,me[_0x26147f(0x3de)])({'extended':!0x0,'limit':_0x26147f(0x3d1)}),(0x0,me['json'])({'limit':_0x26147f(0x3d1)})),_0x5438e['use']((_0x3c5db4,_0x347b9f,_0x64b25c)=>{const _0x1e52a4=_0x26147f;_0x3c5db4[_0x1e52a4(0x18d)]['startsWith'](_0x1e52a4(0x522))?_0x64b25c():(0x0,Do[_0x1e52a4(0x6de)])()(_0x3c5db4,_0x347b9f,_0x64b25c);}),_0x5438e[_0x26147f(0x3aa)](_0x26147f(0x28a),_0x26147f(0x483)),_0x5438e[_0x26147f(0x3aa)](_0x26147f(0x687),(0x0,ks['join'])(Y,'views')),_0x5438e[_0x26147f(0x348)](me[_0x26147f(0x6de)]['static']((0x0,ks[_0x26147f(0x5c2)])(Y,_0x26147f(0x634)))),_0x5438e[_0x26147f(0x348)]((_0x591bcb,_0x19ab86,_0x29cbee)=>{const _0x5b2942=_0x26147f;let _0x31ff9=_0x19ab86[_0x5b2942(0x3e4)];_0x19ab86[_0x5b2942(0x3e4)]=function(_0x483a28){const _0x272a36=_0x5b2942;if(_0x591bcb[_0x272a36(0x4dc)][_0x272a36(0x2c3)]===_0x272a36(0x61d)||_0x591bcb[_0x272a36(0x1af)]['uazapi']===_0x272a36(0x61d)){let _0x15b59b=JSON[_0x272a36(0x20b)](_0x483a28);_0x483a28=JSON[_0x272a36(0x56f)](_0x10ea00(_0x15b59b));}return _0x31ff9[_0x272a36(0x287)](_0x19ab86,[_0x483a28]);},_0x29cbee();}),_0x5438e[_0x26147f(0x348)]('/',Ot),_0x5438e[_0x26147f(0x348)]((_0x2645e0,_0x53a11e,_0xc04edf,_0x580ee3)=>{const _0x3c3dd9=_0x26147f;if(_0x2645e0)return _0xc04edf['status'](_0x2645e0[_0x3c3dd9(0x504)]||0x1f4)[_0x3c3dd9(0x64d)](_0x2645e0);},(_0x6a9b36,_0x51a4e8,_0x3b0232)=>{const _0x403d6d=_0x26147f;let {method:_0x36f29f,url:_0x1b5d8b}=_0x6a9b36;_0x51a4e8[_0x403d6d(0x504)](0x194)[_0x403d6d(0x64d)]({'status':0x194,'message':'Cannot\x20'+_0x36f29f[_0x403d6d(0x518)]()+'\x20'+_0x1b5d8b,'error':'Not\x20Found'}),_0x3b0232();});let _0x10ea00=(_0x5e1c27,_0x5c1b37=_0x26147f(0x4cf))=>{const _0x1a16fd=_0x26147f;let _0x3f7ec2=(_0x55eb22,_0x387bcc=null,_0x15ca1d=!0x1)=>{const _0x14cf8c=a0_0x59e4;let _0x4fa938={};return Object[_0x14cf8c(0x697)](_0x55eb22)['forEach'](_0x1d2eb7=>{const _0x2f02b2=_0x14cf8c;let _0x21138b=_0x55eb22[_0x1d2eb7],_0x2eb865=''+_0x5c1b37+_0x1d2eb7;_0x387bcc&&!_0x15ca1d&&(_0x2eb865=_0x387bcc+'.'+_0x1d2eb7),!_0x21138b&&_0x21138b!==0x0&&_0x21138b!==!0x1||typeof _0x21138b>'u'?_0x4fa938[_0x2eb865]=null:typeof _0x21138b!=_0x2f02b2(0x600)&&!Array[_0x2f02b2(0x19a)](_0x21138b)?_0x4fa938[_0x2eb865]=_0x21138b:typeof _0x21138b=='object'&&!Array[_0x2f02b2(0x19a)](_0x21138b)?_0x4fa938=Object[_0x2f02b2(0x2da)](_0x4fa938,_0x3f7ec2(_0x21138b,_0x2eb865)):Array[_0x2f02b2(0x19a)](_0x21138b)&&(typeof _0x21138b[0x0]==_0x2f02b2(0x600)?(_0x4fa938[_0x2eb865]=[],_0x21138b[_0x2f02b2(0x319)](_0x1b71af=>{_0x4fa938[_0x2eb865]['push'](_0x3f7ec2(_0x1b71af,_0x2eb865,!0x0));})):_0x4fa938[_0x2eb865]=_0x21138b);}),_0x4fa938;};return Array[_0x1a16fd(0x19a)](_0x5e1c27)?_0x5e1c27[_0x1a16fd(0x595)](_0x4e05af=>_0x3f7ec2(_0x4e05af)):typeof _0x5e1c27==_0x1a16fd(0x600)&&_0x5e1c27!==null?_0x3f7ec2(_0x5e1c27):{};},_0x1de4f1=y[_0x26147f(0x60a)](_0x26147f(0x156));$e['app']=_0x5438e;let _0x482d64=$e[_0x1de4f1[_0x26147f(0x5ae)]],_0x1c4db2=_0x26147f(0x243);_0x482d64['listen'](_0x1de4f1[_0x26147f(0x18a)],()=>{const _0x308752=_0x26147f;_0x1104da[_0x308752(0x571)](_0x1c4db2),_0x1104da[_0x308752(0x571)](_0x1de4f1['TYPE'][_0x308752(0x518)]()+_0x308752(0x172)+_0x1de4f1[_0x308752(0x18a)]);}),Ti(),Qs();}function Ls(_0x374f42,_0x37b30a){return new Promise(_0x2d3c06=>{(0x0,xo['exec'])(_0x374f42+'\x20'+_0x37b30a,_0x1d45d2=>{_0x2d3c06(!_0x1d45d2);});});}function Ro(_0x547e92,_0x5bb112,_0x365ccf){return new Promise(_0x432ddf=>{Ls(_0x547e92,_0x365ccf)['then'](_0x30f48d=>{const _0xc75e95=a0_0x59e4;if(_0x30f48d)_0x432ddf(!0x0);else{let [_0x3eaf0e,..._0x284e2f]=_0x5bb112[_0xc75e95(0x266)]('\x20'),_0x3a1891=(0x0,Vs['spawn'])(_0x3eaf0e,_0x284e2f,{'shell':!0x0});_0x3a1891[_0xc75e95(0x381)]['on'](_0xc75e95(0x16e),_0x1ed834=>{const _0x5acb17=_0xc75e95;console[_0x5acb17(0x571)](_0x547e92+_0x5acb17(0x35d)+_0x1ed834);}),_0x3a1891[_0xc75e95(0x61c)]['on'](_0xc75e95(0x16e),_0x497742=>{const _0xb0c726=_0xc75e95;console[_0xb0c726(0x3cc)](_0x547e92+'\x20install\x20error:\x20'+_0x497742);}),_0x3a1891['on'](_0xc75e95(0x428),_0x22ab49=>{const _0x272648=_0xc75e95;_0x22ab49!==0x0?(console['error'](_0x272648(0x6af)+_0x547e92+_0x272648(0x495)+_0x22ab49),_0x432ddf(!0x1)):_0x432ddf(!0x0);});}});});}var Ri='https://github.com/uazapi/uazapi.git',Ai=Zt[a0_0x525ac(0x6de)][a0_0x525ac(0x5c2)](__dirname,'./.git/config'),Ne=null;function Ii(){return new Promise((_0x301df5,_0x1f4682)=>{const _0x40b807=a0_0x59e4;ke[_0x40b807(0x6de)][_0x40b807(0x4cc)](Ai,_0x40b807(0x601),(_0x2dbe0d,_0xf6a137)=>{const _0x14c411=_0x40b807;if(_0x2dbe0d){Ne=_0x2dbe0d,_0x301df5();return;}_o['default'][_0x14c411(0x20b)](_0xf6a137)[_0x14c411(0x249)][_0x14c411(0x6f1)]===Ri?(Ne=null,_0x301df5()):(Ne=new Error('uazapi\x20no\x20est\x20instalado\x20pelo\x20git'),_0x301df5());});});}async function Di(){const _0x1a9ac1=a0_0x525ac;try{await Ii(),await Us();}catch(_0x93c860){console[_0x1a9ac1(0x3cc)](_0x1a9ac1(0x2a9)+_0x93c860),process[_0x1a9ac1(0x428)](0x1);}}Di();async function $o(){const _0x33e726=a0_0x525ac;let _0x37d585;try{_0x37d585=(await Le[_0x33e726(0x6de)]['get'](_0x33e726(0x5a4)))[_0x33e726(0x16e)]['ip'];}catch(_0x3fc351){console['error'](_0x3fc351);try{_0x37d585=(await Le[_0x33e726(0x6de)][_0x33e726(0x60a)]('https://api.ipify.org?format=json'))[_0x33e726(0x16e)]['ip'];}catch(_0x54cdfd){console['error'](_0x54cdfd);try{_0x37d585=(await Le[_0x33e726(0x6de)][_0x33e726(0x60a)](_0x33e726(0x709)))['data'][_0x33e726(0x62c)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4d6f15){return console[_0x33e726(0x3cc)](_0x4d6f15),!0x1;}}}return _0x37d585;}async function Pi(){const _0x5c81a6=a0_0x525ac;Ne||(await Ro('redis-server',_0x5c81a6(0x2f3),_0x5c81a6(0x246)),await Ro(_0x5c81a6(0x432),_0x5c81a6(0x431),_0x5c81a6(0x476)));}var Ao=0x0;function a0_0x59e4(_0x22caa3,_0x4bc0e5){const _0x47c4ef=a0_0x47c4();return a0_0x59e4=function(_0x59e418,_0x25fabd){_0x59e418=_0x59e418-0x154;let _0x26edd7=_0x47c4ef[_0x59e418];return _0x26edd7;},a0_0x59e4(_0x22caa3,_0x4bc0e5);}async function Oi(){const _0x215b8c=a0_0x525ac;Pi();let _0x519b88=await Ls(_0x215b8c(0x274),_0x215b8c(0x246)),_0x227696=await Ls(_0x215b8c(0x432),_0x215b8c(0x476)),_0x2f71dc=y[_0x215b8c(0x60a)](_0x215b8c(0x621)),_0x4db002=y[_0x215b8c(0x60a)]('AUTOUPDATE'),_0x3cdb9a=y[_0x215b8c(0x60a)](_0x215b8c(0x3c0))[_0x215b8c(0x251)][_0x215b8c(0x66e)],_0x2fb746=y['get'](_0x215b8c(0x639)),_0xe4fe6c=await $o(),_0x49e824=y['get'](_0x215b8c(0x156))[_0x215b8c(0x18a)],_0xa139f9=y[_0x215b8c(0x60a)](_0x215b8c(0x6ee));try{let _0x3ee27d={'ip':_0xe4fe6c||null,'redis_instalado':_0x519b88||null,'ffmpeg_instalado':_0x227696||null,'redis_enable':_0x2f71dc?.[_0x215b8c(0x517)]||null,'autoupdate':_0x4db002||null,'apikey':_0x3cdb9a||null,'ssl':_0x2fb746?.[_0x215b8c(0x67d)]||null,'lastupdate':ko||null,'port':_0x49e824||null,'phone':_0xa139f9||null,'gitInstallError':Ne?.[_0x215b8c(0x197)]||null};console[_0x215b8c(0x571)](_0x215b8c(0x688),_0x3ee27d['ip']);for(let _0x8d27f6 in _0x3ee27d)_0x3ee27d[_0x215b8c(0x54d)](_0x8d27f6)&&_0x8d27f6!=='ip'&&(_0x3ee27d[_0x8d27f6]=JSON[_0x215b8c(0x56f)](_0x3ee27d[_0x8d27f6]));return(await Le[_0x215b8c(0x6de)][_0x215b8c(0x37a)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3ee27d))['data'];}catch(_0x5e6aa3){return console[_0x215b8c(0x3cc)](_0x5e6aa3),!0x1;}finally{}}var $s=!0x1,ko=0x20a,_i=0x3,Io=0x1b7740;async function Us(){const _0xf0bd37=a0_0x525ac;if(!await $o())return console['error'](_0xf0bd37(0x4b2)),_0xf0bd37(0x36d);let _0x5bd77d=await Oi();if(_0x5bd77d){if(_0x5bd77d['response'][_0xf0bd37(0x700)]===!0x0){let _0x52184b=y[_0xf0bd37(0x60a)](_0xf0bd37(0x286));Ne===null&&_0x52184b!=='false'&&_0x5bd77d[_0xf0bd37(0x3db)][_0xf0bd37(0x72e)]-ko>0x0&&await xi(),$s||($s=!0x0,Mi());}else return console['log'](_0xf0bd37(0x60f)),$s&&(console[_0xf0bd37(0x571)](_0xf0bd37(0x205)),process[_0xf0bd37(0x428)]()),_0xf0bd37(0x3e0);let _0x516cb1=0x24*0x3c*0x3c,_0xaf70c1=_0x5bd77d[_0xf0bd37(0x3db)][_0xf0bd37(0x4ca)]>_0x516cb1?_0x516cb1:_0x5bd77d[_0xf0bd37(0x3db)]['segundos'],_0x39e6de=Number(_0xaf70c1);if(isNaN(_0x39e6de)){console['error'](_0xf0bd37(0x6b3));return;}let _0x4b6a5a=Math[_0xf0bd37(0x305)](_0x39e6de/0xe10),_0x5c261b=Math['floor'](_0x39e6de%0xe10/0x3c),_0x35c255=new Date(Date[_0xf0bd37(0x50c)]()+_0x39e6de*0x3e8);setTimeout(Us,_0x39e6de*0x3e8);let _0x1c85b9=_0x5dabb8=>_0x5dabb8[_0xf0bd37(0x679)]()[_0xf0bd37(0x663)](0x2,'0'),_0x25fe70=_0xf0bd37(0x55f)+_0x1c85b9(_0x4b6a5a)+_0xf0bd37(0x355)+_0x1c85b9(_0x5c261b)+'\x20minutos.\x20Ser\x20s\x20'+_0x1c85b9(_0x35c255[_0xf0bd37(0x229)]())+':'+_0x1c85b9(_0x35c255['getMinutes']());console['log'](_0x25fe70);}else{if(Ao++,Ao<_i)console[_0xf0bd37(0x571)]('Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20'+Io/0xea60+_0xf0bd37(0x696)),setTimeout(Us,Io);else return console[_0xf0bd37(0x3cc)](_0xf0bd37(0x1cc)),_0xf0bd37(0x185);}}async function xi(){const _0x35aacb=a0_0x525ac;console['log'](_0x35aacb(0x65b));let _0x5f295b=(0x0,Vs[_0x35aacb(0x2ea)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x5f295b[_0x35aacb(0x381)]['on']('data',_0x2c85df=>{const _0x3c7fa8=_0x35aacb;console['log'](_0x3c7fa8(0x400)+_0x2c85df);}),_0x5f295b[_0x35aacb(0x61c)]['on'](_0x35aacb(0x16e),_0x2a0444=>{const _0x25be92=_0x35aacb;console['error'](_0x25be92(0x1f4)+_0x2a0444);}),_0x5f295b['on']('exit',_0x3e83b5=>{const _0x217a47=_0x35aacb;_0x3e83b5!==0x0?console[_0x217a47(0x3cc)](_0x217a47(0x535)+_0x3e83b5):console[_0x217a47(0x571)](_0x217a47(0x4a8)),console[_0x217a47(0x571)]('Parando\x20aplicao...'),setTimeout(()=>process[_0x217a47(0x428)](),0x2710);});}