const a0_0x299ca5=a0_0x49f7;(function(_0x264af0,_0x562f14){const _0x393849=a0_0x49f7,_0x3c4ad5=_0x264af0();while(!![]){try{const _0x3314f5=-parseInt(_0x393849(0x6b0))/0x1*(-parseInt(_0x393849(0x7ef))/0x2)+-parseInt(_0x393849(0x743))/0x3+parseInt(_0x393849(0x445))/0x4*(-parseInt(_0x393849(0x6de))/0x5)+parseInt(_0x393849(0x6f5))/0x6*(parseInt(_0x393849(0x1d5))/0x7)+-parseInt(_0x393849(0x653))/0x8+-parseInt(_0x393849(0x663))/0x9+parseInt(_0x393849(0x321))/0xa;if(_0x3314f5===_0x562f14)break;else _0x3c4ad5['push'](_0x3c4ad5['shift']());}catch(_0x6f5079){_0x3c4ad5['push'](_0x3c4ad5['shift']());}}}(a0_0x253a,0x557a6));var Ki=Object['create'],We=Object[a0_0x299ca5(0x1ad)],Qi=Object[a0_0x299ca5(0x592)],Yi=Object['getOwnPropertyNames'],Xi=Object['getPrototypeOf'],Zi=Object['prototype'][a0_0x299ca5(0x712)],eo=(_0x2d3e9a,_0x55dbf3)=>{for(var _0xb4477 in _0x55dbf3)We(_0x2d3e9a,_0xb4477,{'get':_0x55dbf3[_0xb4477],'enumerable':!0x0});},Qs=(_0x34ecb4,_0x210e71,_0x3d3ae9,_0x7b2a02)=>{const _0x340a56=a0_0x299ca5;if(_0x210e71&&typeof _0x210e71==_0x340a56(0x6dc)||typeof _0x210e71==_0x340a56(0x2d9)){for(let _0x1d4ea6 of Yi(_0x210e71))!Zi['call'](_0x34ecb4,_0x1d4ea6)&&_0x1d4ea6!==_0x3d3ae9&&We(_0x34ecb4,_0x1d4ea6,{'get':()=>_0x210e71[_0x1d4ea6],'enumerable':!(_0x7b2a02=Qi(_0x210e71,_0x1d4ea6))||_0x7b2a02[_0x340a56(0x633)]});}return _0x34ecb4;},I=(_0x4e5ddc,_0x540318,_0x387390)=>(_0x387390=_0x4e5ddc!=null?Ki(Xi(_0x4e5ddc)):{},Qs(_0x540318||!_0x4e5ddc||!_0x4e5ddc[a0_0x299ca5(0x79d)]?We(_0x387390,a0_0x299ca5(0x222),{'value':_0x4e5ddc,'enumerable':!0x0}):_0x387390,_0x4e5ddc)),to=_0x28938e=>Qs(We({},a0_0x299ca5(0x79d),{'value':!0x0}),_0x28938e),Sr={};eo(Sr,{'fullURL':()=>Ks,'subdomain':()=>ge}),module[a0_0x299ca5(0x355)]=to(Sr);var Vi=I(require(a0_0x299ca5(0x65a))),Xs=require('fs'),Zs=require(a0_0x299ca5(0x41c)),ea=require(a0_0x299ca5(0x36d)),ze=require(a0_0x299ca5(0x36d)),ce=process[a0_0x299ca5(0x4cf)](),Me=(0x0,ze[a0_0x299ca5(0x35d)])(ce,a0_0x299ca5(0x8db)),Ys=(0x0,ze[a0_0x299ca5(0x35d)])(ce,a0_0x299ca5(0x80f)),Cn=(0x0,ze['join'])(ce,a0_0x299ca5(0x6f1),a0_0x299ca5(0x4c1)),gs=class{constructor(){const _0x39ca73=a0_0x299ca5;this[_0x39ca73(0x545)]();}['get'](_0x82b8db){return this['env'][_0x82b8db];}['loadEnv'](){const _0x2748f1=a0_0x299ca5;this[_0x2748f1(0x41b)]=process[_0x2748f1(0x41b)]?.[_0x2748f1(0x806)]!=='true'?this[_0x2748f1(0x8b3)]():this[_0x2748f1(0x413)](),process[_0x2748f1(0x41b)]?.['DOCKER_ENV']===_0x2748f1(0x75d)&&(this[_0x2748f1(0x41b)][_0x2748f1(0x2a3)]['TYPE']=_0x2748f1(0x26c),this[_0x2748f1(0x41b)][_0x2748f1(0x2a3)][_0x2748f1(0x498)]=Number['parseInt'](process[_0x2748f1(0x41b)]?.['SERVER_PORT']??'8080'));}['envYaml'](){const _0x3b2abd=a0_0x299ca5;return(0x0,Zs[_0x3b2abd(0x51a)])((0x0,Xs[_0x3b2abd(0x5db)])((0x0,ea[_0x3b2abd(0x35d)])(Ys,'../env.yml'),{'encoding':_0x3b2abd(0x8aa)}));}[a0_0x299ca5(0x413)](){const _0x28da55=a0_0x299ca5;return{'SERVER':{'TYPE':process[_0x28da55(0x41b)][_0x28da55(0x3eb)],'PORT':Number[_0x28da55(0x252)](process[_0x28da55(0x41b)]['SERVER_PORT']),'URL':process[_0x28da55(0x41b)][_0x28da55(0x637)]},'CORS':{'ORIGIN':process[_0x28da55(0x41b)][_0x28da55(0x70b)][_0x28da55(0x5ca)](','),'METHODS':process[_0x28da55(0x41b)]['CORS_METHODS'][_0x28da55(0x5ca)](','),'CREDENTIALS':process[_0x28da55(0x41b)]?.[_0x28da55(0x6fe)]===_0x28da55(0x75d)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x28da55(0x55d)],'FULLCHAIN':process['env']?.[_0x28da55(0x487)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x28da55(0x41b)]?.[_0x28da55(0x159)])?Number['parseInt'](process[_0x28da55(0x41b)][_0x28da55(0x159)]):void 0x0,'MESSAGES':process[_0x28da55(0x41b)]?.['STORE_MESSAGE']===_0x28da55(0x75d),'CONTACTS':process[_0x28da55(0x41b)]?.[_0x28da55(0x71f)]===_0x28da55(0x75d),'CHATS':process[_0x28da55(0x41b)]?.[_0x28da55(0x8b9)]===_0x28da55(0x75d)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x28da55(0x162)],'PORT':Number[_0x28da55(0x252)](process[_0x28da55(0x41b)]?.[_0x28da55(0x162)]),'USER':process[_0x28da55(0x41b)][_0x28da55(0x2f0)],'PASSWORD':process[_0x28da55(0x41b)][_0x28da55(0x1a1)],'URI':process[_0x28da55(0x41b)][_0x28da55(0x29b)],'DB_PREFIX_NAME':process[_0x28da55(0x41b)][_0x28da55(0x525)]},'ENABLED':process[_0x28da55(0x41b)]?.[_0x28da55(0x2f7)]===_0x28da55(0x75d)},'REDIS':{'ENABLED':process[_0x28da55(0x41b)]?.['REDIS_ENABLED']===_0x28da55(0x75d),'URI':process[_0x28da55(0x41b)][_0x28da55(0x7ee)]||_0x28da55(0x327),'PREFIX_KEY':process[_0x28da55(0x41b)][_0x28da55(0x353)]||_0x28da55(0x194)},'LOG':{'LEVEL':process[_0x28da55(0x41b)]?.[_0x28da55(0x297)][_0x28da55(0x5ca)](','),'COLOR':process[_0x28da55(0x41b)]?.['LOG_COLOR']===_0x28da55(0x75d)},'PROXY':process[_0x28da55(0x41b)]?.['PROXY']===_0x28da55(0x75d),'AUTHENTICATION':{'TYPE':process[_0x28da55(0x41b)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x28da55(0x41b)][_0x28da55(0x137)]},'JWT':{'EXPIRIN_IN':Number[_0x28da55(0x1f6)](process['env']?.[_0x28da55(0x286)])?Number['parseInt'](process[_0x28da55(0x41b)][_0x28da55(0x286)]):0xe10,'SECRET':process[_0x28da55(0x41b)][_0x28da55(0x54c)]}}};}},S=new gs(),Gi=I(require(a0_0x299ca5(0x85b))),be=I(require(a0_0x299ca5(0x56e))),zs=require(a0_0x299ca5(0x36d)),ms=I(require(a0_0x299ca5(0x3e8))),fs=(_0x4c4e7a=>(_0x4c4e7a[a0_0x299ca5(0x465)]='\x1b[32m',_0x4c4e7a[a0_0x299ca5(0x48f)]=a0_0x299ca5(0x757),_0x4c4e7a[a0_0x299ca5(0x8eb)]=a0_0x299ca5(0x51d),_0x4c4e7a[a0_0x299ca5(0x33b)]=a0_0x299ca5(0x772),_0x4c4e7a['DEBUG']=a0_0x299ca5(0x177),_0x4c4e7a[a0_0x299ca5(0x18f)]=a0_0x299ca5(0x317),_0x4c4e7a['DARK']=a0_0x299ca5(0x8b6),_0x4c4e7a))(fs||{}),ta=(_0x420adb=>(_0x420adb[a0_0x299ca5(0x465)]=a0_0x299ca5(0x4dc),_0x420adb[a0_0x299ca5(0x890)]=a0_0x299ca5(0x531),_0x420adb[a0_0x299ca5(0x48f)]=a0_0x299ca5(0x3ad),_0x420adb[a0_0x299ca5(0x8eb)]='\x1b[33m%s\x1b[0m',_0x420adb[a0_0x299ca5(0x33b)]=a0_0x299ca5(0x8a0),_0x420adb['DEBUG']=a0_0x299ca5(0x718),_0x420adb[a0_0x299ca5(0x18f)]=a0_0x299ca5(0x298),_0x420adb))(ta||{}),sa=(_0x5ce096=>(_0x5ce096[a0_0x299ca5(0x465)]='LOG',_0x5ce096[a0_0x299ca5(0x8eb)]=a0_0x299ca5(0x8eb),_0x5ce096[a0_0x299ca5(0x48f)]=a0_0x299ca5(0x48f),_0x5ce096['DARK']=a0_0x299ca5(0x890),_0x5ce096[a0_0x299ca5(0x33b)]=a0_0x299ca5(0x33b),_0x5ce096[a0_0x299ca5(0x4e2)]=a0_0x299ca5(0x4e2),_0x5ce096[a0_0x299ca5(0x18f)]=a0_0x299ca5(0x18f),_0x5ce096))(sa||{}),aa=(_0x35878e=>(_0x35878e['LOG']=a0_0x299ca5(0x837),_0x35878e[a0_0x299ca5(0x48f)]=a0_0x299ca5(0x490),_0x35878e[a0_0x299ca5(0x8eb)]=a0_0x299ca5(0x18d),_0x35878e['DARK']='\x1b[40m',_0x35878e['ERROR']=a0_0x299ca5(0x5dd),_0x35878e['DEBUG']=a0_0x299ca5(0x2f6),_0x35878e[a0_0x299ca5(0x18f)]='\x1b[47m',_0x35878e))(aa||{}),R=class{constructor(_0x19b9f5=a0_0x299ca5(0x4ed)){const _0x3d6d36=a0_0x299ca5;this['context']=_0x19b9f5,this[_0x3d6d36(0x1d9)]=S;}[a0_0x299ca5(0x6a5)](_0x25a4a6){this['context']=_0x25a4a6;}[a0_0x299ca5(0x563)](_0x1581f7,_0x4b45aa){const _0x5eab72=a0_0x299ca5;let _0x1f05ce=[];this[_0x5eab72(0x1d9)][_0x5eab72(0x2ed)](_0x5eab72(0x465))[_0x5eab72(0x262)][_0x5eab72(0x613)](_0x295209=>_0x1f05ce['push'](sa[_0x295209]));let _0x4e2bb7=typeof _0x1581f7;_0x1f05ce[_0x5eab72(0x457)](_0x4b45aa)&&(S[_0x5eab72(0x2ed)]('LOG')[_0x5eab72(0x69a)]?(console['log'](_0x5eab72(0x158)+ta[_0x4b45aa],_0x5eab72(0x476),(0x0,ms[_0x5eab72(0x222)])()[_0x5eab72(0x8c6)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',fs[_0x4b45aa]+aa[_0x4b45aa]+_0x5eab72(0x158),_0x4b45aa+'\x20\x1b[0m',_0x5eab72(0x52d),this[_0x5eab72(0x140)]+_0x5eab72(0x2ad),fs[_0x4b45aa],_0x4e2bb7!==_0x5eab72(0x6dc)?_0x1581f7:'',_0x5eab72(0x2ad)),_0x4e2bb7==='object'&&console['log'](_0x1581f7,'\x0a')):console[_0x5eab72(0x666)]((0x0,ms[_0x5eab72(0x222)])()['format'](_0x5eab72(0x182)),_0x4b45aa+'\x20',''+this[_0x5eab72(0x140)],_0x1581f7));}[a0_0x299ca5(0x666)](_0x11e84e){const _0x2f25bc=a0_0x299ca5;this[_0x2f25bc(0x563)](_0x11e84e,_0x2f25bc(0x465));}[a0_0x299ca5(0x74c)](_0x535c03){const _0x5e41ae=a0_0x299ca5;this[_0x5e41ae(0x563)](_0x535c03,'INFO');}[a0_0x299ca5(0x727)](_0xf11203){const _0x5a82b0=a0_0x299ca5;this['console'](_0xf11203,_0x5a82b0(0x8eb));}['error'](_0x481e63){const _0x25cb02=a0_0x299ca5;this['console'](_0x481e63,_0x25cb02(0x33b));}['verbose'](_0x52a555){const _0x16ad9c=a0_0x299ca5;this[_0x16ad9c(0x563)](_0x52a555,'VERBOSE');}[a0_0x299ca5(0x3b7)](_0x1c3404){const _0x35ad9c=a0_0x299ca5;this[_0x35ad9c(0x563)](_0x1c3404,'DEBUG');}['dark'](_0x5247aa){const _0x8cb350=a0_0x299ca5;this[_0x8cb350(0x563)](_0x5247aa,_0x8cb350(0x890));}};function ia(){const _0x5963a3=a0_0x299ca5;process['on'](_0x5963a3(0x395),(_0x1e24a1,_0x3d134b)=>{const _0x22b4ad=_0x5963a3;new R(_0x22b4ad(0x395))[_0x22b4ad(0x77f)]({'origin':_0x3d134b,'stderr':process[_0x22b4ad(0x649)]['fd'],'error':_0x1e24a1});}),process['on']('unhandledRejection',(_0x587839,_0x56451b)=>{const _0x53cd32=_0x5963a3;new R('unhandledRejection')[_0x53cd32(0x77f)]({'origin':_0x56451b,'stderr':process[_0x53cd32(0x649)]['fd'],'error':_0x587839});});}var oa=I(require(a0_0x299ca5(0x1af))),ws=new oa['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x299ca5(0x2b5)),_e=I(require(a0_0x299ca5(0x2b5))),He=new R(a0_0x299ca5(0x599)),L=S[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x65d)),T=L['ENABLED']?L['CONNECTION'][a0_0x299ca5(0x8dc)]?_e['default'][a0_0x299ca5(0x724)](L[a0_0x299ca5(0x595)][a0_0x299ca5(0x8dc)],{'dbName':L[a0_0x299ca5(0x595)][a0_0x299ca5(0x68a)]+a0_0x299ca5(0x3fc)}):_e[a0_0x299ca5(0x222)][a0_0x299ca5(0x724)](a0_0x299ca5(0x87d)+L[a0_0x299ca5(0x595)][a0_0x299ca5(0x725)]+':'+L[a0_0x299ca5(0x595)][a0_0x299ca5(0x498)]+a0_0x299ca5(0x779),{'user':L['CONNECTION'][a0_0x299ca5(0x85d)],'pass':L[a0_0x299ca5(0x595)]['PASSWORD'],'dbName':L[a0_0x299ca5(0x595)][a0_0x299ca5(0x68a)]+'-whatsapp-api'}):null;L['ENABLED']&&He['info'](a0_0x299ca5(0x5fa)+T[a0_0x299ca5(0x574)]);var Y=L[a0_0x299ca5(0x5d5)]?L[a0_0x299ca5(0x595)]['URI']?_e[a0_0x299ca5(0x222)][a0_0x299ca5(0x724)](L[a0_0x299ca5(0x595)][a0_0x299ca5(0x8dc)],{'dbName':a0_0x299ca5(0x271)}):_e[a0_0x299ca5(0x222)][a0_0x299ca5(0x724)]('mongodb://'+L[a0_0x299ca5(0x595)]['HOST']+':'+L['CONNECTION'][a0_0x299ca5(0x498)]+a0_0x299ca5(0x779),{'user':L['CONNECTION'][a0_0x299ca5(0x85d)],'pass':L[a0_0x299ca5(0x595)]['PASSWORD'],'dbName':a0_0x299ca5(0x168)}):null;Y&&He['info'](a0_0x299ca5(0x5fa)+Y[a0_0x299ca5(0x574)]),process['on'](a0_0x299ca5(0x81d),()=>{const _0x5a260b=a0_0x299ca5;T&&T[_0x5a260b(0x7f7)](()=>{const _0x271e33=_0x5a260b;He['info'](_0x271e33(0x5de));}),Y&&Y[_0x5a260b(0x7f7)](()=>{const _0x3404b6=_0x5a260b;He[_0x3404b6(0x74c)](_0x3404b6(0x6f6));});});var so=new Ce[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),ao=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),io=new Ce['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),oo=new Ce[(a0_0x299ca5(0x294))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[so],'default':[]}},{'_id':!0x1}),ro=new Ce[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':oo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':ao},'groupdata':{'type':io,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ra=_0x3004c3=>{const _0x3f4779=a0_0x299ca5;let _0x2929b8='z_'+_0x3004c3+_0x3f4779(0x62f);return T?.[_0x3f4779(0x7da)]('ChatModel',ro,_0x2929b8);},na=require('mongoose'),no=new na['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=_0x55fd37=>{const _0x3ce4ef=a0_0x299ca5;let _0x273577='z_'+_0x55fd37+_0x3ce4ef(0x1a4);return T?.[_0x3ce4ef(0x7da)]('ContactModel',no,_0x273577);},la=require('mongoose'),ys=class{},co=new la[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ua=Y?.[a0_0x299ca5(0x7da)](ys[a0_0x299ca5(0x5d0)],co,a0_0x299ca5(0x660)),da=require(a0_0x299ca5(0x2b5)),bs=class{},lo=new da['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=Y?.[a0_0x299ca5(0x7da)](bs[a0_0x299ca5(0x5d0)],lo,a0_0x299ca5(0x8db)),Ms=require(a0_0x299ca5(0x2b5)),Ss=class{},uo=new Ms[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),po=new Ms[(a0_0x299ca5(0x294))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),pa=Y?.[a0_0x299ca5(0x7da)](Ss[a0_0x299ca5(0x5d0)],po,a0_0x299ca5(0x89f)),ha=_0xb77c94=>{const _0x3ca6ed=a0_0x299ca5;let _0xae683c='z_'+_0xb77c94+_0x3ca6ed(0x799);return T?.[_0x3ca6ed(0x7da)]('MessageModel',uo,_0xae683c);},ga=require(a0_0x299ca5(0x2b5)),Cs=class{},ho=new ga['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ma=T?.['model'](Cs[a0_0x299ca5(0x5d0)],ho,a0_0x299ca5(0x42b)),fa=require(a0_0x299ca5(0x2b5)),vs=class{},wa=new fa[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});wa[a0_0x299ca5(0x428)](a0_0x299ca5(0x189),function(_0x4a01b5){const _0x52f7b9=a0_0x299ca5;delete this[_0x52f7b9(0x63f)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x52f7b9(0x5bb)],delete this[_0x52f7b9(0x3f8)],_0x4a01b5();});var ya=T?.[a0_0x299ca5(0x7da)](vs['name'],wa,a0_0x299ca5(0x693)),P=require(a0_0x299ca5(0x2b5)),Es=require(a0_0x299ca5(0x43c)),Qe=class{},Ns=class{},Sa=new P[(a0_0x299ca5(0x294))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),$s=new P[(a0_0x299ca5(0x294))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),go=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Ma=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),mo=new P[(a0_0x299ca5(0x294))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),fo=new P[(a0_0x299ca5(0x294))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),As=new P[(a0_0x299ca5(0x294))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),wo=new P[(a0_0x299ca5(0x294))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Ca=new P[(a0_0x299ca5(0x294))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':go},'apirequest':mo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':wo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),va=new P[(a0_0x299ca5(0x294))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ea=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x323aa1=a0_0x299ca5;return _0x323aa1(0x185)+Math['random']()[_0x323aa1(0x5a7)](0x24)[_0x323aa1(0x82e)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x299ca5(0x345)},'startID':{'type':String,'default':()=>(0x0,Es['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Es['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ea[a0_0x299ca5(0x428)]('findOneAndUpdate',function(_0x353cab){const _0x50429c=a0_0x299ca5;let _0xd46180=this[_0x50429c(0x8e9)]();if(_0xd46180&&typeof _0xd46180==_0x50429c(0x6dc)&&'$set'in _0xd46180){let _0x487b1a=_0xd46180[_0x50429c(0x173)];if(_0x487b1a){let _0x4fc801=new Set(),_0x30fe5b=new Set(_0x487b1a[_0x50429c(0x2c0)]?.[_0x50429c(0x3ae)](_0x13ae27=>_0x13ae27['name'])),_0x54abc7=JSON[_0x50429c(0x6ed)](_0x487b1a),_0x2598cf=/{{(?!_)([^}]*)}}/g,_0x596233;for(;(_0x596233=_0x2598cf[_0x50429c(0x590)](_0x54abc7))!==null;)_0x30fe5b['has'](_0x596233[0x1])||_0x4fc801['add'](_0x596233[0x1]);_0x4fc801[_0x50429c(0x52a)]>0x0?(console[_0x50429c(0x727)](_0x50429c(0x66f),Array[_0x50429c(0x374)](_0x4fc801)),_0x487b1a['variablesNotFound']=Array[_0x50429c(0x374)](_0x4fc801)):_0x487b1a[_0x50429c(0x153)]=[],this['setUpdate']({'$set':_0x487b1a});}}_0x353cab();});var ve=T?.[a0_0x299ca5(0x7da)](Ns[a0_0x299ca5(0x5d0)],Ea,a0_0x299ca5(0x6ef)),yo=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[As],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[fo]},{'_id':!0x1}),bo=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'chatLog':yo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x299ca5(0x405)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x299ca5(0x1cd)},'waitingMenu_replyOptions':{'type':[$s],'default':[]}}),Na=_0x187a64=>{const _0x173f56=a0_0x299ca5;let _0x9c8487='z_'+_0x187a64+_0x173f56(0x60b);return T?.['model']('ConversationModel',bo,_0x9c8487);},So=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ba=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),Mo=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ba],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x299ca5(0x3e4)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[So],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ba,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),$a=_0x5ecac3=>{const _0xfd5b0c=a0_0x299ca5;let _0xd6d043='z_'+_0x5ecac3+'_ScheduleMessages';return T?.[_0xfd5b0c(0x7da)](_0xfd5b0c(0x519),Mo,_0xd6d043);},Rs=class{},Co=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),vo=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Eo=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),No=new P[(a0_0x299ca5(0x294))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),$o=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Ro=new P[(a0_0x299ca5(0x294))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[$o]},'customFields':{'type':[Eo]},'flowConfig':{'type':No,'default':{}},'flows':{'type':[vo],'default':[]},'autoCompleteMessages':{'type':[Co],'default':[]}}),Oe=T?.[a0_0x299ca5(0x7da)](Rs['name'],Ro,a0_0x299ca5(0x42c)),Ra=require(a0_0x299ca5(0x2b5)),Ao=new Ra['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Aa=_0x4d39de=>{const _0x598c72=a0_0x299ca5;let _0x144ca8='z_'+_0x4d39de+'_Labels';return T?.[_0x598c72(0x7da)](_0x598c72(0x76e),Ao,_0x144ca8);},O=class{constructor(_0x58f7b6){const _0x3dad97=a0_0x299ca5;this[_0x3dad97(0x136)]=_0x58f7b6[_0x3dad97(0x2ed)](_0x3dad97(0x65d));}};function A(_0x53ef87){const _0x5b171a=a0_0x299ca5;let _0x5e84a8={};for(let [_0xe78d36,_0x1c034f]of Object[_0x5b171a(0x491)](_0x53ef87))if(typeof _0x1c034f==_0x5b171a(0x6dc)&&!Array[_0x5b171a(0x21d)](_0x1c034f)){for(let [_0x12663f,_0x166ff4]of Object['entries'](_0x1c034f))_0x5e84a8[_0xe78d36+'.'+_0x12663f]=_0x166ff4;}else _0x5e84a8[_0xe78d36]=_0x1c034f;return _0x5e84a8;}var Ye=class{constructor(_0x2cfe5e,_0x33241e,_0x2309f1,_0x328193,_0x1d6dd4,_0x3c7cf4,_0x436929,_0x2040fc,_0xffa102,_0x5b4c5d,_0x2df68f,_0x1eb0be,_0x3a6609,_0x2cd6d0){const _0x971c62=a0_0x299ca5;this[_0x971c62(0x503)]=_0x2cfe5e,this[_0x971c62(0x76d)]=_0x33241e,this[_0x971c62(0x7a4)]=_0x2309f1,this[_0x971c62(0x497)]=_0x328193,this[_0x971c62(0x4f1)]=_0x1d6dd4,this['webhook']=_0x3c7cf4,this[_0x971c62(0x4c1)]=_0x436929,this['instance']=_0x2040fc,this['flow']=_0xffa102,this['flowConversation']=_0x5b4c5d,this[_0x971c62(0x1a5)]=_0x2df68f,this[_0x971c62(0x192)]=_0x1eb0be,this[_0x971c62(0x453)]=_0x3a6609,this['dbClient']=_0x2cd6d0;}get['dbServer'](){return this['dbClient'];}},Xe=class{},Ze=class extends O{[a0_0x299ca5(0x344)](_0x3f29b5){return ha(_0x3f29b5);}async[a0_0x299ca5(0x5d1)](_0x220230,_0xc0b3f6){const _0x542168=a0_0x299ca5;if(_0x220230[_0x542168(0x84b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x542168(0x344)](_0xc0b3f6)[_0x542168(0x686)]([..._0x220230]))[_0x542168(0x84b)]};}catch(_0x2b4390){return _0x2b4390;}}async[a0_0x299ca5(0x2b7)](_0x1354f2,_0xde2dc1){const _0x5d8773=a0_0x299ca5;try{let _0x1e09f8=this[_0x5d8773(0x344)](_0xde2dc1),_0x23e4a9=A(_0x1354f2[_0x5d8773(0x23b)]);return await _0x1e09f8[_0x5d8773(0x2b7)](_0x23e4a9)[_0x5d8773(0x277)]({'messageTimestamp':-0x1})[_0x5d8773(0x5a9)](_0x1354f2?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x299ca5(0x3be)](_0x5bc0d9,_0x19fe94){const _0x25d57e=a0_0x299ca5;try{let _0xf8b49e=this[_0x25d57e(0x344)](_0x19fe94),_0x466100=A(_0x5bc0d9[_0x25d57e(0x23b)]);await _0xf8b49e[_0x25d57e(0x66e)](_0x466100);}catch(_0x20dfb5){console[_0x25d57e(0x77f)](_0x20dfb5);}}async['update'](_0x89e7ad,_0x2fd4bf,_0xf39025){const _0x743030=a0_0x299ca5;try{let _0x3903b2=this[_0x743030(0x344)](_0xf39025),_0x40e99f=A(_0x89e7ad[_0x743030(0x23b)]);return await _0x3903b2[_0x743030(0x318)](_0x40e99f,{'$set':_0x2fd4bf},{'new':!0x0});}catch(_0x459d29){throw console[_0x743030(0x77f)](_0x459d29),_0x459d29;}}async[a0_0x299ca5(0x686)](_0x5a9dbe,_0x5a0ebc){const _0x180281=a0_0x299ca5;if(_0x5a9dbe['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x5a0ebc)[_0x180281(0x686)]([..._0x5a9dbe]))[_0x180281(0x84b)]};}catch(_0x3eff3c){return console[_0x180281(0x666)]('ERROR:\x20',_0x3eff3c),_0x3eff3c;}}async[a0_0x299ca5(0x52e)](_0x1e9a7f){const _0x456cb1=a0_0x299ca5;try{return await this['getMessageModelForOwner'](_0x1e9a7f)[_0x456cb1(0x6e6)][_0x456cb1(0x1dc)](),{'success':!0x0};}catch(_0x579418){return console[_0x456cb1(0x77f)](_0x579418),{'success':!0x1,'error':_0x579418};}}},Us=I(require(a0_0x299ca5(0x217))),w=I(require('@whiskeysockets/baileys')),Je=require('fs'),j=I(require('path')),K=I(require('axios')),Di=require(a0_0x299ca5(0x43c)),ki=I(require(a0_0x299ca5(0x427))),Li=I(require('qrcode-terminal')),Ta=['imageMessage','documentMessage',a0_0x299ca5(0x4bb),a0_0x299ca5(0x36a),'stickerMessage'],Ia=['ephemeralMessage',a0_0x299ca5(0x7f1),a0_0x299ca5(0x7ff),a0_0x299ca5(0x7f6)],js=require('os'),Jt=I(require(a0_0x299ca5(0x4e3))),qe=require('child_process'),Fi=require(a0_0x299ca5(0x77d)),he=I(require('mongoose')),J=require(a0_0x299ca5(0x199)),le=class{constructor(_0x21e4ff,_0x2047f9,_0x165aa3){const _0x3cd16b=a0_0x299ca5;this[_0x3cd16b(0x4d8)]=_0x21e4ff,this[_0x3cd16b(0x358)]=_0x2047f9,this[_0x3cd16b(0x5d0)]=_0x165aa3;}},et=class{},tt=class{},xe=class{},st=class{},at=class{},Ee=class{},it=class{},ot=class{},rt=class{},nt=class{},kt=I(require(a0_0x299ca5(0x56e))),_a=require('fs'),Oa=require('path');async function Pe(_0x5d2b5c){const _0x3e9670=a0_0x299ca5;let _0x4cea4e=B[_0x3e9670(0x622)][_0x5d2b5c];if(L[_0x3e9670(0x5d5)]){let _0x444265=T['getClient']()['db'](L[_0x3e9670(0x595)][_0x3e9670(0x68a)]+'-instances')['collection'](_0x5d2b5c);return _0x4cea4e||(await _0x444265[_0x3e9670(0x2b7)]({})[_0x3e9670(0x36b)]())['length']>0x0;}return _0x4cea4e||(0x0,_a['existsSync'])((0x0,Oa[_0x3e9670(0x35d)])(Me,_0x5d2b5c));}async function xa(_0x4ab38b,_0x239753,_0xdab912){const _0x439418=a0_0x299ca5;if(_0x4ab38b['originalUrl'][_0x439418(0x457)](_0x439418(0x46c))||_0x4ab38b[_0x439418(0x785)][_0x439418(0x457)]('/instance/fetchInstances')||_0x4ab38b[_0x439418(0x785)][_0x439418(0x457)](_0x439418(0x50b))||_0x4ab38b[_0x439418(0x785)][_0x439418(0x457)](_0x439418(0x63c))||_0x4ab38b[_0x439418(0x785)][_0x439418(0x457)](_0x439418(0x3bd))||_0x4ab38b[_0x439418(0x785)][_0x439418(0x457)](_0x439418(0x1f2))||_0x4ab38b['originalUrl']['includes'](_0x439418(0x8ec)))return _0xdab912();let _0xbe7652=_0x4ab38b[_0x439418(0x4fb)];if(!_0xbe7652?.[_0x439418(0x8b7)])throw new m(_0x439418(0x86e));if(!await Pe(_0xbe7652[_0x439418(0x8b7)]))throw new U(_0x439418(0x434)+_0xbe7652[_0x439418(0x8b7)]+_0x439418(0x57a));_0xdab912();}async function Pa(_0x1d0dd3,_0xf66a48,_0x4ac615){const _0x358b69=a0_0x299ca5;if(_0x1d0dd3['originalUrl'][_0x358b69(0x457)](_0x358b69(0x46c))){let _0x399aaa=_0x1d0dd3[_0x358b69(0x3e6)];if(await Pe(_0x399aaa['instanceName']))throw new X(_0x358b69(0x249)+_0x399aaa['instanceName']+_0x358b69(0x2e4));B[_0x358b69(0x622)][_0x399aaa[_0x358b69(0x8b7)]]&&delete B[_0x358b69(0x622)][_0x399aaa[_0x358b69(0x8b7)]];}_0x4ac615();}var Da=require(a0_0x299ca5(0x199)),ka=I(require(a0_0x299ca5(0x828))),ct=a0_0x299ca5(0x194),Io=new R('GUARD');async function _o(_0x4c955c,_0x5b5def,_0x16e3b9){const _0x47aaff=a0_0x299ca5;let _0x1ab37a=_0x4c955c['get'](_0x47aaff(0x78e));if(_0x1ab37a&&S[_0x47aaff(0x2ed)]('AUTHENTICATION')[_0x47aaff(0x6d7)][_0x47aaff(0x8e6)]!==_0x1ab37a)throw new ae();if(S[_0x47aaff(0x2ed)](_0x47aaff(0x6ea))['API_KEY']['KEY']===_0x1ab37a)return _0x16e3b9();if((_0x4c955c['originalUrl'][_0x47aaff(0x457)](_0x47aaff(0x46c))||_0x4c955c[_0x47aaff(0x785)][_0x47aaff(0x457)](_0x47aaff(0x7b0)))&&!_0x1ab37a)throw new X(_0x47aaff(0x8c2),_0x47aaff(0x3e3));let _0x18c36f=S[_0x47aaff(0x2ed)]('AUTHENTICATION')['JWT'];try{let [_0x53f792,_0x2a8fad]=_0x4c955c[_0x47aaff(0x2ed)](_0x47aaff(0x614))[_0x47aaff(0x5ca)]('\x20');if(_0x53f792[_0x47aaff(0x484)]()!=='bearer')throw new ae();if(!(0x0,Da[_0x47aaff(0x76c)])(_0x2a8fad))throw new ae();let _0x10e704=_0x4c955c[_0x47aaff(0x4fb)],_0x445cb1=ka[_0x47aaff(0x222)]['verify'](_0x2a8fad,_0x18c36f[_0x47aaff(0x734)],{'ignoreExpiration':_0x18c36f[_0x47aaff(0x124)]===0x0});if(_0x10e704[_0x47aaff(0x8b7)]!==_0x445cb1[_0x47aaff(0x8b7)]||ct!==_0x445cb1[_0x47aaff(0x4c3)])throw new ae();return _0x16e3b9();}catch(_0x29380b){throw Io[_0x47aaff(0x77f)](_0x29380b),new ae();}}async function Oo(_0x535f04,_0x8466af,_0x1db1c6){const _0x4f46f2=a0_0x299ca5;let _0x399cb0=S[_0x4f46f2(0x2ed)]('AUTHENTICATION')[_0x4f46f2(0x6d7)],_0x390167=_0x535f04['get']('apikey');if(_0x399cb0[_0x4f46f2(0x8e6)]===_0x390167)return _0x1db1c6();if(_0x535f04['originalUrl'][_0x4f46f2(0x457)](_0x4f46f2(0x46c))){let _0x23667e=Fa,_0x3630b7=_0x535f04[_0x4f46f2(0x3e6)]['instanceName'];if(_0x23667e&&_0x3630b7[_0x4f46f2(0x484)]()[_0x4f46f2(0x664)](_0x23667e[_0x4f46f2(0x484)]()))return _0x1db1c6();if(!_0x390167)throw new X('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x535f04[_0x4f46f2(0x785)][_0x4f46f2(0x457)](_0x4f46f2(0x7b0))&&!_0x390167)throw new X('Missing\x20global\x20api\x20key',_0x4f46f2(0x3e3));if(_0x535f04['originalUrl']['includes'](_0x4f46f2(0x50b))&&!_0x390167)throw new X(_0x4f46f2(0x8c2),_0x4f46f2(0x3e3));if(_0x535f04[_0x4f46f2(0x785)]['includes'](_0x4f46f2(0x63c))&&!_0x390167)throw new X(_0x4f46f2(0x8c2),_0x4f46f2(0x3e3));try{let _0x57ee19=_0x535f04[_0x4f46f2(0x4fb)],_0x2a87f4=await we[_0x4f46f2(0x4c1)]['find'](_0x57ee19['instanceName']);if(_0x2a87f4&&_0x2a87f4[_0x4f46f2(0x78e)]===_0x390167)return _0x1db1c6();}catch{}throw new ae();}var La={'jwt':_o,'apikey':Oo},wi=require(a0_0x299ca5(0x56e)),v=require(a0_0x299ca5(0x43c)),E=(..._0x633270)=>{const _0x455a22=a0_0x299ca5;let _0xcc9803={};return _0x633270[_0x455a22(0x613)](_0x1fdb60=>_0xcc9803[_0x1fdb60]={'minLength':0x1,'description':_0x455a22(0x6a4)+_0x1fdb60+_0x455a22(0x634)}),{'if':{'propertyNames':{'enum':[..._0x633270]}},'then':{'properties':_0xcc9803}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'instanceName':{'type':a0_0x299ca5(0x7a5)}},...E(a0_0x299ca5(0x8b7))},Dc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x24a)],...E(a0_0x299ca5(0x24a))},kc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x299ca5(0x7a5)},'remoteJid':{'type':a0_0x299ca5(0x7a5)},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x299ca5(0x530),a0_0x299ca5(0x8c9)],...E('id',a0_0x299ca5(0x530))},'message':{'type':a0_0x299ca5(0x6dc)}}},ie={'properties':{'delay':{'type':a0_0x299ca5(0x7d1),'description':a0_0x299ca5(0x7b7)},'presence':{'type':'string','enum':[a0_0x299ca5(0x4b9),'available',a0_0x299ca5(0x858),a0_0x299ca5(0x1d2),a0_0x299ca5(0x473)]}}},Z={'type':a0_0x299ca5(0x7a5),'description':a0_0x299ca5(0x73c)},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x69c)],...E(a0_0x299ca5(0x69c))}},'required':[a0_0x299ca5(0x1a2),a0_0x299ca5(0x485)]},ja={'type':a0_0x299ca5(0x7a5),'pattern':a0_0x299ca5(0x32d),'description':a0_0x299ca5(0x73c)},Lc={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...ja},'options':{...ie},'textMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'text':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x69c)],...E('text')}},'required':['textMessage',a0_0x299ca5(0x485)]},Fc={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...ja},'options':{...ie},'mediaMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'mediatype':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x835),a0_0x299ca5(0x61a),a0_0x299ca5(0x2b4),'audio']},'media':{'type':a0_0x299ca5(0x7a5)},'fileName':{'type':a0_0x299ca5(0x7a5)},'caption':{'type':a0_0x299ca5(0x7a5)}},'required':['mediatype',a0_0x299ca5(0x451)],...E(a0_0x299ca5(0x225),a0_0x299ca5(0x2e3),a0_0x299ca5(0x451))}},'required':[a0_0x299ca5(0x59c),'number']},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'image':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x835)],...E(a0_0x299ca5(0x835))}},'required':[a0_0x299ca5(0x17e),a0_0x299ca5(0x485)]},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x69c),a0_0x299ca5(0x835),'audio',a0_0x299ca5(0x2b4)]},'content':{'type':a0_0x299ca5(0x7a5)},'caption':{'type':a0_0x299ca5(0x7a5)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x299ca5(0x7d1),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x299ca5(0x4b1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x7a5),'pattern':'^\x5cd+','description':a0_0x299ca5(0x7d8)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x299ca5(0x82f),a0_0x299ca5(0x65c)],...E(a0_0x299ca5(0x82f),a0_0x299ca5(0x65c))}},'required':['statusMessage']},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'mediatype':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x835),a0_0x299ca5(0x61a),'video',a0_0x299ca5(0x402)]},'media':{'type':a0_0x299ca5(0x7a5)},'fileName':{'type':a0_0x299ca5(0x7a5)},'caption':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x624),a0_0x299ca5(0x451)],...E(a0_0x299ca5(0x225),'caption',a0_0x299ca5(0x451))}},'required':[a0_0x299ca5(0x59c),a0_0x299ca5(0x485)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'audio':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x402)],...E('audio')}},'required':[a0_0x299ca5(0x4bb),a0_0x299ca5(0x485)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'name':{'type':a0_0x299ca5(0x7a5)},'selectableCount':{'type':a0_0x299ca5(0x485)},'values':{'type':a0_0x299ca5(0x4b1),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x299ca5(0x4f6),a0_0x299ca5(0x86d)],...E(a0_0x299ca5(0x5d0),a0_0x299ca5(0x4f6),a0_0x299ca5(0x86d))}},'required':['number',a0_0x299ca5(0x2c3)]},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x299ca5(0x7a5)},'choices':{'type':'array','uniqueItems':!0x0}},'required':[a0_0x299ca5(0x69c),a0_0x299ca5(0x419)],...E(a0_0x299ca5(0x69c),a0_0x299ca5(0x419))}},'required':[a0_0x299ca5(0x485),a0_0x299ca5(0x2cc)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'latitude':{'type':a0_0x299ca5(0x485)},'longitude':{'type':a0_0x299ca5(0x485)},'name':{'type':a0_0x299ca5(0x7a5)},'address':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x612),a0_0x299ca5(0x501)],...E('name','addresss')}},'required':[a0_0x299ca5(0x485),a0_0x299ca5(0x38e)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'title':{'type':a0_0x299ca5(0x7a5)},'description':{'type':a0_0x299ca5(0x7a5)},'footerText':{'type':a0_0x299ca5(0x7a5)},'buttonText':{'type':a0_0x299ca5(0x7a5)},'sections':{'type':a0_0x299ca5(0x4b1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x6dc),'properties':{'title':{'type':a0_0x299ca5(0x7a5)},'rows':{'type':a0_0x299ca5(0x4b1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x6dc),'properties':{'title':{'type':a0_0x299ca5(0x7a5)},'description':{'type':'string'},'rowId':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x20f),'rowId'],...E(a0_0x299ca5(0x20f),a0_0x299ca5(0x46a))}}},'required':['title',a0_0x299ca5(0x1b4)],...E(a0_0x299ca5(0x20f))}}},'required':[a0_0x299ca5(0x20f),a0_0x299ca5(0x5f4),a0_0x299ca5(0x4c5),a0_0x299ca5(0x36e)],...E(a0_0x299ca5(0x20f),a0_0x299ca5(0x5f4),a0_0x299ca5(0x4c5),a0_0x299ca5(0x61f))}},'required':[a0_0x299ca5(0x485),a0_0x299ca5(0x15a)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0x299ca5(0x4b1),'items':{'type':a0_0x299ca5(0x6dc),'properties':{'fullName':{'type':a0_0x299ca5(0x7a5)},'phoneNumber':{'type':a0_0x299ca5(0x7a5),'minLength':0xa}},'required':[a0_0x299ca5(0x1a8),'phoneNumber'],...E(a0_0x299ca5(0x1a8))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x299ca5(0x485),a0_0x299ca5(0x777)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'reactionMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'key':{'type':a0_0x299ca5(0x6dc),'properties':{'id':{'type':a0_0x299ca5(0x7a5)},'remoteJid':{'type':a0_0x299ca5(0x7a5)},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x299ca5(0x8c9)],...E('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x299ca5(0x143),a0_0x299ca5(0x482)],...E('reaction')}},'required':['reactionMessage']},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x7a5),'pattern':a0_0x299ca5(0x499),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x299ca5(0x7a5)}},'required':['id',a0_0x299ca5(0x8c9),'remoteJid'],...E('id',a0_0x299ca5(0x530))}}},'required':[a0_0x299ca5(0x66d)]},Za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x299ca5(0x6dc),'properties':{'readreceipts':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x7e8),a0_0x299ca5(0x3c0)]},'profile':{'type':a0_0x299ca5(0x7a5),'enum':['all',a0_0x299ca5(0x12d),a0_0x299ca5(0x585),a0_0x299ca5(0x3c0)]},'status':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x7e8),a0_0x299ca5(0x12d),a0_0x299ca5(0x585),'none']},'online':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x7e8),'match_last_seen']},'last':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x7e8),a0_0x299ca5(0x12d),'contact_blacklist',a0_0x299ca5(0x3c0)]},'groupadd':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x7e8),a0_0x299ca5(0x12d),a0_0x299ca5(0x585),a0_0x299ca5(0x3c0)]}},'required':[a0_0x299ca5(0x58b),a0_0x299ca5(0x500),a0_0x299ca5(0x5d8),a0_0x299ca5(0x59b),'last',a0_0x299ca5(0x688)],...E(a0_0x299ca5(0x58b),'profile',a0_0x299ca5(0x5d8),a0_0x299ca5(0x59b),a0_0x299ca5(0x2be),a0_0x299ca5(0x688))}},'required':[a0_0x299ca5(0x5f0)]},ei={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'lastMessage':{'type':a0_0x299ca5(0x6dc),'properties':{'key':{'type':a0_0x299ca5(0x6dc),'properties':{'id':{'type':a0_0x299ca5(0x7a5)},'remoteJid':{'type':a0_0x299ca5(0x7a5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x299ca5(0x8c9),a0_0x299ca5(0x530)],...E('id',a0_0x299ca5(0x530))},'messageTimestamp':{'type':a0_0x299ca5(0x7d1),'minLength':0x1}},'required':[a0_0x299ca5(0x143)],...E('messageTimestamp')},'archive':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}},'required':[a0_0x299ca5(0x5bc),a0_0x299ca5(0x180)]},ti={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x299ca5(0x7a5)},'participant':{'type':'string'}},'required':['id',a0_0x299ca5(0x8c9),a0_0x299ca5(0x530)],...E('id',a0_0x299ca5(0x530),a0_0x299ca5(0x2e9))},si={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x299ca5(0x7a5),'minLength':0x1},'id':{'type':a0_0x299ca5(0x7a5),'minLength':0x1}},...E(a0_0x299ca5(0x898),'id',a0_0x299ca5(0x1fe))}}},ai={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x299ca5(0x7a5)}},...E(a0_0x299ca5(0x5d0))},ii={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'status':{'type':a0_0x299ca5(0x7a5)}},...E(a0_0x299ca5(0x5d8))},De={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'number':{'type':a0_0x299ca5(0x7a5)},'picture':{'type':a0_0x299ca5(0x7a5)}}},oi={'type':a0_0x299ca5(0x6dc),'properties':{'wuid':{'type':a0_0x299ca5(0x7a5)},'name':{'type':a0_0x299ca5(0x7a5)},'picture':{'type':a0_0x299ca5(0x7a5)},'status':{'type':a0_0x299ca5(0x7a5)},'isBusiness':{'type':'boolean'}}},ri={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'where':{'type':a0_0x299ca5(0x6dc),'properties':{'_id':{'type':a0_0x299ca5(0x7a5),'minLength':0x1},'key':{'type':a0_0x299ca5(0x6dc),'if':{'propertyNames':{'enum':[a0_0x299ca5(0x8c9),a0_0x299ca5(0x530),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x299ca5(0x7a5),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x299ca5(0x7a5),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x299ca5(0x6dc)}},...E(a0_0x299ca5(0x898))},'limit':{'type':a0_0x299ca5(0x7d1)}}},Uc={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'where':{'type':a0_0x299ca5(0x6dc),'properties':{'_id':{'type':a0_0x299ca5(0x7a5)},'remoteJid':{'type':a0_0x299ca5(0x7a5)},'id':{'type':'string'},'fromMe':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x299ca5(0x7a5)},'status':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x33b),a0_0x299ca5(0x756),a0_0x299ca5(0x606),'DELIVERY_ACK',a0_0x299ca5(0x812),a0_0x299ca5(0x133)]}},...E(a0_0x299ca5(0x898),a0_0x299ca5(0x530),'id',a0_0x299ca5(0x5d8))},'limit':{'type':a0_0x299ca5(0x7d1)}}},ni={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x4b9),a0_0x299ca5(0x6b7),'composing','recording',a0_0x299ca5(0x473)]}},'required':['presence',a0_0x299ca5(0x485)]},ci={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'subject':{'type':a0_0x299ca5(0x7a5)},'description':{'type':a0_0x299ca5(0x7a5)},'profilePicture':{'type':a0_0x299ca5(0x7a5)},'participants':{'type':a0_0x299ca5(0x4b1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x7a5),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x299ca5(0x49f)}}},'required':[a0_0x299ca5(0x304),a0_0x299ca5(0x2c7)],...E(a0_0x299ca5(0x304),a0_0x299ca5(0x5f4),a0_0x299ca5(0x71e))},ke={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':'string','pattern':a0_0x299ca5(0x70d)}},'required':[a0_0x299ca5(0x661)],...E(a0_0x299ca5(0x661))},li={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':a0_0x299ca5(0x7a5)},'action':{'type':'string','enum':[a0_0x299ca5(0x728),a0_0x299ca5(0x1a3),a0_0x299ca5(0x1ef),a0_0x299ca5(0x1d3),a0_0x299ca5(0x67d),a0_0x299ca5(0x86f)]},'participants':{'type':a0_0x299ca5(0x4b1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x299ca5(0x7a5),'minLength':0xa,'pattern':a0_0x299ca5(0x72a),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x1b0),a0_0x299ca5(0x2c7)],...E('groupJid',a0_0x299ca5(0x1b0))},ui={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x299ca5(0x485),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x425)],...E(a0_0x299ca5(0x661),a0_0x299ca5(0x425))},di={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':a0_0x299ca5(0x7a5)},'image':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x835)],...E(a0_0x299ca5(0x661),a0_0x299ca5(0x835))},pi={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x299ca5(0x7a5)},'description':{'type':a0_0x299ca5(0x7a5)}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x5f4)],...E(a0_0x299ca5(0x661),a0_0x299ca5(0x5f4))},hi={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':a0_0x299ca5(0x7a5)},'name':{'type':'string'}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x5d0)],...E(a0_0x299ca5(0x661),'name')},gi={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x299ca5(0x7a5),'enum':[a0_0x299ca5(0x438),'not_announcement','unlocked','locked']}},'required':[a0_0x299ca5(0x661),a0_0x299ca5(0x560)],...E(a0_0x299ca5(0x661),'setting')},mi={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x299ca5(0x3a4)},'announce':{'type':a0_0x299ca5(0x3a4)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x299ca5(0x3a4)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x299ca5(0x7a5)},'image':{'type':a0_0x299ca5(0x7a5)}}},Ts={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x299ca5(0x3d1)],...E('inviteCode')},fi={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}},'required':[a0_0x299ca5(0x4bc),a0_0x299ca5(0x86b)]},jc={'$id':(0x0,v['v4'])(),'type':a0_0x299ca5(0x6dc),'properties':{'local_map':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x299ca5(0x3a4),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x299ca5(0x3e9),a0_0x299ca5(0x178),a0_0x299ca5(0x1e3),'MESSAGES_UPSERT',a0_0x299ca5(0x6a7),a0_0x299ca5(0x316),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x299ca5(0x1fb),a0_0x299ca5(0x33e),a0_0x299ca5(0x5e2),'CHATS_UPDATE','CHATS_DELETE',a0_0x299ca5(0x6ee),a0_0x299ca5(0x443),a0_0x299ca5(0x3d2),a0_0x299ca5(0x15e)],...E(a0_0x299ca5(0x532),a0_0x299ca5(0x44e),a0_0x299ca5(0x3e9),a0_0x299ca5(0x178),a0_0x299ca5(0x1e3),'MESSAGES_UPSERT',a0_0x299ca5(0x6a7),'CONTACTS_SET',a0_0x299ca5(0x171),a0_0x299ca5(0x1d4),a0_0x299ca5(0x1fb),a0_0x299ca5(0x33e),a0_0x299ca5(0x5e2),'CHATS_UPDATE',a0_0x299ca5(0x12f),a0_0x299ca5(0x6ee),a0_0x299ca5(0x443),a0_0x299ca5(0x3d2),a0_0x299ca5(0x15e))},lt=class{},ut=class extends O{[a0_0x299ca5(0x875)](_0x2e2722){return ca(_0x2e2722);}async[a0_0x299ca5(0x5d1)](_0x25f660){const _0x2e768d=a0_0x299ca5;if(_0x25f660['length']!==0x0)try{return{'insertCount':(await this[_0x2e768d(0x875)](_0x25f660[0x0][_0x2e768d(0x19b)])[_0x2e768d(0x686)]([..._0x25f660]))[_0x2e768d(0x84b)]};}catch(_0x5cc688){return _0x5cc688;}}async[a0_0x299ca5(0x3be)](_0x583bff,_0x4101c1){const _0x4677f6=a0_0x299ca5;try{return{'deletedCount':(await this[_0x4677f6(0x875)](_0x4101c1)[_0x4677f6(0x66e)]({..._0x583bff['where']}))['deletedCount']};}catch(_0x5e78d5){return{'error':_0x5e78d5?.[_0x4677f6(0x5a7)]()};}}async[a0_0x299ca5(0x130)](_0x5ccbb6,_0x27bc1b){const _0x5d7962=a0_0x299ca5;try{if(_0x5ccbb6[_0x5d7962(0x84b)]===0x0)return;let _0x186800=this[_0x5d7962(0x875)](_0x27bc1b),_0x1d1d58=_0x5ccbb6['map'](_0x44a4fc=>({'updateOne':{'filter':{'_id':_0x44a4fc['_id'],'owner':_0x27bc1b},'update':{..._0x44a4fc}}})),{modifiedCount:_0x4d04a8}=await _0x186800['bulkWrite'](_0x1d1d58);return{'insertCount':_0x4d04a8};}catch{return;}}async[a0_0x299ca5(0x2b7)](_0x35b68a,_0x1e52b7){const _0x114b69=a0_0x299ca5;try{let _0x387910=this['getContactModelForOwner'](_0x1e52b7),_0x624e57=A(_0x35b68a[_0x114b69(0x23b)]);return await _0x387910[_0x114b69(0x2b7)](_0x624e57)[_0x114b69(0x5a9)](_0x35b68a?.[_0x114b69(0x5a9)]??0x0)[_0x114b69(0x7a3)]();}catch{return[];}}async[a0_0x299ca5(0x151)](_0x34873a,_0x31eab9){const _0x357763=a0_0x299ca5;try{let _0x48921b=this[_0x357763(0x875)](_0x31eab9),_0x518df9=A(_0x34873a['where']);return await _0x48921b['findOne'](_0x518df9)[_0x357763(0x7a3)]();}catch{return null;}}async[a0_0x299ca5(0x52e)](_0x2a0aba){const _0x529f83=a0_0x299ca5;try{return await this[_0x529f83(0x875)](_0x2a0aba)[_0x529f83(0x6e6)][_0x529f83(0x1dc)](),{'success':!0x0};}catch(_0x44fe89){return console['error'](_0x44fe89),{'success':!0x1,'error':_0x44fe89};}}},dt=require('jsonschema'),Kc=require(a0_0x299ca5(0x415)),Is=new R(a0_0x299ca5(0x340)),G=class{[a0_0x299ca5(0x7e1)](_0x2cda08,_0x3e4dda=!0x0){const _0x39e2e8=a0_0x299ca5;let _0x4bfab4='/'+_0x2cda08;return _0x3e4dda&&(_0x4bfab4+=_0x39e2e8(0x541)),_0x4bfab4;}async['dataValidate'](_0x2d0e0c){const _0x48c800=a0_0x299ca5;let {request:_0x4af60e,schema:_0x35dd1a,ClassRef:_0x1e1946,execute:_0x6a8486}=_0x2d0e0c,_0x392823=new _0x1e1946(),_0x34e854=_0x4af60e[_0x48c800(0x3e6)],_0x37c6df=_0x4af60e[_0x48c800(0x4fb)];_0x4af60e?.[_0x48c800(0x167)]&&Object[_0x48c800(0x791)](_0x4af60e[_0x48c800(0x167)])[_0x48c800(0x84b)]>0x0&&Object[_0x48c800(0x243)](_0x37c6df,_0x4af60e[_0x48c800(0x167)]),_0x4af60e['originalUrl']['includes']('/instance/create')&&Object[_0x48c800(0x243)](_0x37c6df,_0x34e854),Object[_0x48c800(0x243)](_0x392823,_0x34e854);let _0xe80c66=_0x35dd1a?(0x0,dt[_0x48c800(0x5f8)])(_0x392823,_0x35dd1a):{'valid':!0x0,'errors':[]};if(!_0xe80c66['valid']){let _0x2fda3d=_0xe80c66[_0x48c800(0x230)][_0x48c800(0x3ae)](({property:_0x578ed1,stack:_0x33ef10,schema:_0x5ca04b})=>{const _0x43609f=_0x48c800;let _0xb4734;return _0x5ca04b[_0x43609f(0x5f4)]?_0xb4734=_0x5ca04b[_0x43609f(0x5f4)]:_0xb4734=_0x33ef10[_0x43609f(0x35f)]('instance.',''),{'property':_0x578ed1[_0x43609f(0x35f)](_0x43609f(0x552),''),'message':_0xb4734};});throw Is[_0x48c800(0x77f)]([..._0x2fda3d]),new m(..._0x2fda3d);}return await _0x6a8486(_0x37c6df,_0x392823);}async[a0_0x299ca5(0x8cf)](_0x2aa16a){const _0x50cf29=a0_0x299ca5;let {request:_0x9ee9c4,ClassRef:_0x1e13c7,schema:_0xc99dba,execute:_0x25375f}=_0x2aa16a,_0x50c137=_0x9ee9c4[_0x50cf29(0x167)];if(!_0x50c137?.[_0x50cf29(0x661)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x50cf29(0x471));let _0x1f01a5=_0x9ee9c4[_0x50cf29(0x4fb)],_0x5959f7=_0x9ee9c4[_0x50cf29(0x3e6)],_0x1f74a2=new _0x1e13c7();Object[_0x50cf29(0x243)](_0x5959f7,_0x50c137),Object['assign'](_0x1f74a2,_0x5959f7);let _0x4346eb=(0x0,dt[_0x50cf29(0x5f8)])(_0x1f74a2,_0xc99dba);if(!_0x4346eb[_0x50cf29(0x85f)]){let _0x53835d=_0x4346eb['errors']['map'](({property:_0x511897,stack:_0x261b12,schema:_0x11a91f})=>{const _0x40d7b4=_0x50cf29;let _0x3f0567;return _0x11a91f[_0x40d7b4(0x5f4)]?_0x3f0567=_0x11a91f[_0x40d7b4(0x5f4)]:_0x3f0567=_0x261b12['replace'](_0x40d7b4(0x552),''),{'property':_0x511897['replace'](_0x40d7b4(0x552),''),'message':_0x3f0567};});throw Is['error']([..._0x53835d]),new m(..._0x53835d);}return await _0x25375f(_0x1f01a5,_0x1f74a2);}async[a0_0x299ca5(0x3a0)](_0x1bbe0d){const _0x394ffb=a0_0x299ca5;let {request:_0x41d77a,ClassRef:_0x12a956,schema:_0x5a0f1c,execute:_0x27017c}=_0x1bbe0d,_0x36552=_0x41d77a[_0x394ffb(0x3e6)];if(!_0x36552?.[_0x394ffb(0x3d1)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x394ffb(0x8cc));let _0x59d820=_0x41d77a['params'],_0x5d5fec=_0x41d77a[_0x394ffb(0x3e6)],_0x1539af=new _0x12a956();Object[_0x394ffb(0x243)](_0x5d5fec,_0x36552),Object['assign'](_0x1539af,_0x5d5fec);let _0x2cce5b=(0x0,dt[_0x394ffb(0x5f8)])(_0x1539af,_0x5a0f1c);if(!_0x2cce5b[_0x394ffb(0x85f)]){let _0x666e44=_0x2cce5b[_0x394ffb(0x230)]['map'](({property:_0x22d0ca,stack:_0x72debb,schema:_0x5781ca})=>{const _0x5d2c4b=_0x394ffb;let _0x583401;return _0x5781ca[_0x5d2c4b(0x5f4)]?_0x583401=_0x5781ca[_0x5d2c4b(0x5f4)]:_0x583401=_0x72debb[_0x5d2c4b(0x35f)](_0x5d2c4b(0x552),''),{'property':_0x22d0ca['replace']('instance.',''),'message':_0x583401};});throw Is[_0x394ffb(0x77f)]([..._0x666e44]),new m(..._0x666e44);}return await _0x27017c(_0x59d820,_0x1539af);}},C=class{},ul=new R('ChatRouter'),pt=class extends G{constructor(..._0x4d06e1){const _0x393b47=a0_0x299ca5;super(),this[_0x393b47(0x682)]=(0x0,wi['Router'])(),this[_0x393b47(0x682)][_0x393b47(0x58d)](this[_0x393b47(0x7e1)]('updatePresence'),..._0x4d06e1,async(_0x30e06d,_0x175abe)=>{const _0x4380f7=_0x393b47;let _0x52a7db=await this[_0x4380f7(0x761)]({'request':_0x30e06d,'schema':ni,'ClassRef':et,'execute':(_0x210018,_0x37e942)=>D[_0x4380f7(0x665)](_0x210018,_0x37e942)});return _0x175abe[_0x4380f7(0x5d8)](0xc9)[_0x4380f7(0x56a)](_0x52a7db);})['post'](this[_0x393b47(0x7e1)](_0x393b47(0x336)),..._0x4d06e1,async(_0x251291,_0x4d2d9b)=>{const _0x592d9e=_0x393b47;let _0x1c9975=await this[_0x592d9e(0x761)]({'request':_0x251291,'schema':Ya,'ClassRef':tt,'execute':(_0x3b04e1,_0x18dbc1)=>D[_0x592d9e(0x53b)](_0x3b04e1,_0x18dbc1)});return _0x4d2d9b[_0x592d9e(0x5d8)](0xc9)[_0x592d9e(0x56a)](_0x1c9975);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x3d5)),..._0x4d06e1,async(_0x5bcaf3,_0x2305db)=>{const _0x5ee84a=_0x393b47;let _0xb51ce7=await this[_0x5ee84a(0x761)]({'request':_0x5bcaf3,'schema':N,'ClassRef':C,'execute':(_0x93cd07,_0x323869)=>D[_0x5ee84a(0x3d5)](_0x93cd07,_0x323869)});return _0x2305db[_0x5ee84a(0x5d8)](0xc9)[_0x5ee84a(0x56a)](_0xb51ce7);})[_0x393b47(0x6b4)](this[_0x393b47(0x7e1)](_0x393b47(0x678)),..._0x4d06e1,async(_0x5e5d58,_0x3b4179)=>{const _0x324f97=_0x393b47;let _0x4109d5=await this[_0x324f97(0x761)]({'request':_0x5e5d58,'schema':Xa,'ClassRef':it,'execute':(_0x2f1308,_0x1aa556)=>D['readMessage'](_0x2f1308,_0x1aa556)});return _0x3b4179[_0x324f97(0x5d8)](0xc9)[_0x324f97(0x56a)](_0x4109d5);})[_0x393b47(0x6b4)](this[_0x393b47(0x7e1)](_0x393b47(0x78d)),..._0x4d06e1,async(_0x6a49c4,_0x37229c)=>{const _0xbe8326=_0x393b47;let _0x2b1af1=await this['dataValidate']({'request':_0x6a49c4,'schema':ei,'ClassRef':ot,'execute':(_0x497d59,_0x1c022a)=>D[_0xbe8326(0x78d)](_0x497d59,_0x1c022a)});return _0x37229c['status'](0xc9)['json'](_0x2b1af1);})[_0x393b47(0x3be)](this[_0x393b47(0x7e1)](_0x393b47(0x1dd)),..._0x4d06e1,async(_0x3c98b4,_0x2ff71f)=>{const _0x1799c6=_0x393b47;let _0x571c9e=await this[_0x1799c6(0x761)]({'request':_0x3c98b4,'schema':ti,'ClassRef':nt,'execute':(_0x37e385,_0x33d016)=>D[_0x1799c6(0x2c5)](_0x37e385,_0x33d016)});return _0x2ff71f['status'](0xc9)['json'](_0x571c9e);})['post'](this[_0x393b47(0x7e1)](_0x393b47(0x19f)),..._0x4d06e1,async(_0x1028b2,_0x4187e7)=>{const _0x246ffe=_0x393b47;let _0x7dfdc8=await this[_0x246ffe(0x761)]({'request':_0x1028b2,'schema':De,'ClassRef':xe,'execute':(_0x36d295,_0x1547d8)=>D[_0x246ffe(0x391)](_0x36d295,_0x1547d8)});return _0x4187e7[_0x246ffe(0x5d8)](0xc8)['json'](_0x7dfdc8);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x576)),..._0x4d06e1,async(_0x44db15,_0x4ac9c1)=>{const _0x466cf7=_0x393b47;let _0x1f254b=await this[_0x466cf7(0x761)]({'request':_0x44db15,'schema':oi,'ClassRef':xe,'execute':(_0x226eae,_0x1eb829)=>D[_0x466cf7(0x576)](_0x226eae,_0x1eb829)});return _0x4ac9c1[_0x466cf7(0x5d8)](0xc8)[_0x466cf7(0x56a)](_0x1f254b);})['post'](this[_0x393b47(0x7e1)](_0x393b47(0x77b)),..._0x4d06e1,async(_0x4582e7,_0x1573fb)=>{const _0x3b8d18=_0x393b47;let _0x2c3db3=await this['dataValidate']({'request':_0x4582e7,'schema':si,'ClassRef':lt,'execute':(_0x423c02,_0x68a463)=>D[_0x3b8d18(0x518)](_0x423c02,_0x68a463)});return _0x1573fb[_0x3b8d18(0x5d8)](0xc8)[_0x3b8d18(0x56a)](_0x2c3db3);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x200)),..._0x4d06e1,async(_0x3e8d44,_0x283fe3)=>{const _0x38df5a=_0x393b47;let _0x43f3e3=await this[_0x38df5a(0x761)]({'request':_0x3e8d44,'schema':null,'ClassRef':Object,'execute':(_0x29997a,_0x4a7c84)=>D['getBase64FromMediaMessage'](_0x29997a,_0x4a7c84)});return _0x283fe3[_0x38df5a(0x5d8)](0xc9)[_0x38df5a(0x56a)](_0x43f3e3);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x66a)),..._0x4d06e1,async(_0x1c4230,_0x13047a)=>{const _0x5e3998=_0x393b47;let _0x1dedb1=await this[_0x5e3998(0x761)]({'request':_0x1c4230,'schema':ri,'ClassRef':Xe,'execute':(_0x59bf4e,_0x3ee691)=>D['fetchMessages'](_0x59bf4e,_0x3ee691)});return _0x13047a[_0x5e3998(0x5d8)](0xc8)[_0x5e3998(0x56a)](_0x1dedb1);})[_0x393b47(0x2ed)](this['routerPath'](_0x393b47(0x631)),..._0x4d06e1,async(_0x2e4373,_0x3f2a99)=>{const _0x79d847=_0x393b47;let _0x594a5f=await this[_0x79d847(0x761)]({'request':_0x2e4373,'schema':null,'ClassRef':C,'execute':_0x499343=>D[_0x79d847(0x6a3)](_0x499343)});return _0x3f2a99['status'](0xc8)[_0x79d847(0x56a)](_0x594a5f);})['get'](this[_0x393b47(0x7e1)](_0x393b47(0x3b4)),..._0x4d06e1,async(_0x5dcc20,_0x21ade5)=>{const _0x5c48c0=_0x393b47;let _0xb878cc=await this[_0x5c48c0(0x761)]({'request':_0x5dcc20,'schema':null,'ClassRef':C,'execute':_0x376b0d=>D[_0x5c48c0(0x276)](_0x376b0d)});return _0x21ade5[_0x5c48c0(0x5d8)](0xc8)[_0x5c48c0(0x56a)](_0xb878cc);})[_0x393b47(0x6b4)](this['routerPath'](_0x393b47(0x57e)),..._0x4d06e1,async(_0x42e1a5,_0x35f822)=>{const _0x568c08=_0x393b47;let _0x3895d6=await this[_0x568c08(0x761)]({'request':_0x42e1a5,'schema':null,'ClassRef':Array,'execute':(_0x494c9d,_0x291ec9)=>D[_0x568c08(0x57e)](_0x494c9d,_0x291ec9)});return _0x35f822['status'](0xc8)[_0x568c08(0x56a)](_0x3895d6);})[_0x393b47(0x2ed)](this[_0x393b47(0x7e1)]('fetchPrivacySettings'),..._0x4d06e1,async(_0x53e12b,_0x3f815b)=>{const _0x390ac0=_0x393b47;let _0x741ffc=await this['dataValidate']({'request':_0x53e12b,'schema':null,'ClassRef':C,'execute':_0x32ac35=>D[_0x390ac0(0x834)](_0x32ac35)});return _0x3f815b[_0x390ac0(0x5d8)](0xc8)[_0x390ac0(0x56a)](_0x741ffc);})['put'](this['routerPath'](_0x393b47(0x17d)),..._0x4d06e1,async(_0xcf0d84,_0x54ea02)=>{const _0x5ef463=_0x393b47;let _0x242477=await this[_0x5ef463(0x761)]({'request':_0xcf0d84,'schema':Za,'ClassRef':rt,'execute':(_0x308f5a,_0x3d41ad)=>D[_0x5ef463(0x17d)](_0x308f5a,_0x3d41ad)});return _0x54ea02['status'](0xc9)[_0x5ef463(0x56a)](_0x242477);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x8c5)),..._0x4d06e1,async(_0x26abaa,_0x1d1984)=>{const _0x4a113b=_0x393b47;let _0x5e8e45=await this[_0x4a113b(0x761)]({'request':_0x26abaa,'schema':De,'ClassRef':Ee,'execute':(_0x2dbcdb,_0x427ec7)=>D[_0x4a113b(0x8c5)](_0x2dbcdb,_0x427ec7)});return _0x1d1984[_0x4a113b(0x5d8)](0xc8)['json'](_0x5e8e45);})[_0x393b47(0x58d)](this[_0x393b47(0x7e1)](_0x393b47(0x3a2)),..._0x4d06e1,async(_0x54e7b2,_0x465e85)=>{const _0x5e78d7=_0x393b47;let _0x4f1c51=await this['dataValidate']({'request':_0x54e7b2,'schema':ai,'ClassRef':st,'execute':(_0x9e265d,_0x389a0f)=>D[_0x5e78d7(0x3a2)](_0x9e265d,_0x389a0f)});return _0x465e85[_0x5e78d7(0x5d8)](0xc8)['json'](_0x4f1c51);})['post'](this[_0x393b47(0x7e1)](_0x393b47(0x2d5)),..._0x4d06e1,async(_0x8c7e8b,_0x11715b)=>{const _0x42fa92=_0x393b47;let _0x4f8895=await this['dataValidate']({'request':_0x8c7e8b,'schema':ii,'ClassRef':at,'execute':(_0x1c2ac9,_0x27c747)=>D['updateProfileStatus'](_0x1c2ac9,_0x27c747)});return _0x11715b[_0x42fa92(0x5d8)](0xc8)[_0x42fa92(0x56a)](_0x4f8895);})[_0x393b47(0x6b4)](this['routerPath'](_0x393b47(0x81e)),..._0x4d06e1,async(_0x1e2876,_0x2a0911)=>{const _0x25e45f=_0x393b47;let _0x3edd81=await this[_0x25e45f(0x761)]({'request':_0x1e2876,'schema':De,'ClassRef':Ee,'execute':(_0xdb2a3a,_0x5c0581)=>D[_0x25e45f(0x81e)](_0xdb2a3a,_0x5c0581)});return _0x2a0911[_0x25e45f(0x5d8)](0xc8)[_0x25e45f(0x56a)](_0x3edd81);})['delete'](this[_0x393b47(0x7e1)]('removeProfilePicture'),..._0x4d06e1,async(_0x39c8bf,_0x4aeaa0)=>{const _0x23acea=_0x393b47;let _0x3bf101=await this[_0x23acea(0x761)]({'request':_0x39c8bf,'schema':De,'ClassRef':Ee,'execute':(_0x477db0,_0x54ae4c)=>D[_0x23acea(0x67a)](_0x477db0,_0x54ae4c)});return _0x4aeaa0['status'](0xc8)[_0x23acea(0x56a)](_0x3bf101);});}},yi=require(a0_0x299ca5(0x56e)),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ee=class{},Le=class{},bt=class extends ee{},St=class extends ee{},Mt=class extends G{constructor(..._0x459b02){const _0x2bc22c=a0_0x299ca5;super(),this[_0x2bc22c(0x682)]=(0x0,yi[_0x2bc22c(0x856)])(),this[_0x2bc22c(0x682)][_0x2bc22c(0x58d)](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x37f)),..._0x459b02,async(_0x30f846,_0x2d10d2)=>{const _0x12b1fa=_0x2bc22c;let _0x415d98=await this[_0x12b1fa(0x761)]({'request':_0x30f846,'schema':ci,'ClassRef':ht,'execute':(_0x48ad50,_0x571074)=>q[_0x12b1fa(0x275)](_0x48ad50,_0x571074)});_0x2d10d2[_0x12b1fa(0x5d8)](0xc9)['json'](_0x415d98);})['put'](this['routerPath'](_0x2bc22c(0x8d2)),..._0x459b02,async(_0x146301,_0xb4a86f)=>{const _0x37f925=_0x2bc22c;let _0xb2d817=await this[_0x37f925(0x8cf)]({'request':_0x146301,'schema':di,'ClassRef':gt,'execute':(_0x50afd9,_0x4348ec)=>q[_0x37f925(0x8d2)](_0x50afd9,_0x4348ec)});_0xb4a86f['status'](0xc9)[_0x37f925(0x56a)](_0xb2d817);})['put'](this['routerPath'](_0x2bc22c(0x726)),..._0x459b02,async(_0x54adfa,_0x333287)=>{const _0x1f7f94=_0x2bc22c;let _0x56395e=await this['groupValidate']({'request':_0x54adfa,'schema':pi,'ClassRef':mt,'execute':(_0x19b054,_0x5c1bd7)=>q['groupDesc'](_0x19b054,_0x5c1bd7)});_0x333287[_0x1f7f94(0x5d8)](0xc9)['json'](_0x56395e);})[_0x2bc22c(0x6b4)](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x381)),..._0x459b02,async(_0x367ce2,_0x677c3a)=>{const _0xd24b90=_0x2bc22c;let _0x485fcc=await this[_0xd24b90(0x8cf)]({'request':_0x367ce2,'schema':hi,'ClassRef':ft,'execute':(_0x3e26e6,_0x32e86a)=>q['groupName'](_0x3e26e6,_0x32e86a)});_0x677c3a['status'](0xc9)[_0xd24b90(0x56a)](_0x485fcc);})['put'](this[_0x2bc22c(0x7e1)]('groupBetterSetting'),..._0x459b02,async(_0x434aee,_0x4affaf)=>{const _0x4ac78f=_0x2bc22c;let _0x5c1ad3=await this['groupValidate']({'request':_0x434aee,'schema':mi,'ClassRef':yt,'execute':(_0x37e82a,_0x2d324a)=>q[_0x4ac78f(0x61b)](_0x37e82a,_0x2d324a)});_0x4affaf[_0x4ac78f(0x5d8)](0xc9)[_0x4ac78f(0x56a)](_0x5c1ad3);})['put'](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x332)),..._0x459b02,async(_0x24d7b5,_0x483142)=>{const _0x23ba8c=_0x2bc22c;let _0x2b67ab=await this[_0x23ba8c(0x8cf)]({'request':_0x24d7b5,'schema':gi,'ClassRef':wt,'execute':(_0x46681c,_0x23d390)=>q[_0x23ba8c(0x332)](_0x46681c,_0x23d390)});_0x483142[_0x23ba8c(0x5d8)](0xc9)[_0x23ba8c(0x56a)](_0x2b67ab);})[_0x2bc22c(0x6b4)](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x778)),..._0x459b02,async(_0x2134e3,_0x3afd08)=>{const _0x313fda=_0x2bc22c;let _0x35f890=await this[_0x313fda(0x8cf)]({'request':_0x2134e3,'schema':ui,'ClassRef':St,'execute':(_0x3304b4,_0x5932d9)=>q['toggleEphemeral'](_0x3304b4,_0x5932d9)});_0x3afd08['status'](0xc9)[_0x313fda(0x56a)](_0x35f890);})['get'](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x161)),..._0x459b02,async(_0x2336c8,_0x28611e)=>{const _0x35a1fd=_0x2bc22c;let _0x264b11=await this[_0x35a1fd(0x8cf)]({'request':_0x2336c8,'schema':ke,'ClassRef':ee,'execute':(_0x5059ce,_0x5e3292)=>q[_0x35a1fd(0x2a1)](_0x5059ce,_0x5e3292)});_0x28611e['status'](0xc8)[_0x35a1fd(0x56a)](_0x264b11);})[_0x2bc22c(0x2ed)](this['routerPath'](_0x2bc22c(0x37d)),..._0x459b02,async(_0x22f7c6,_0x6299b)=>{const _0x56baa1=_0x2bc22c;let _0x4f5da2=await this['dataValidate']({'request':_0x22f7c6,'schema':N,'ClassRef':C,'execute':_0x5bb01f=>q[_0x56baa1(0x37d)](_0x5bb01f)});_0x6299b[_0x56baa1(0x5d8)](0xc8)[_0x56baa1(0x56a)](_0x4f5da2);})['get'](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x2c7)),..._0x459b02,async(_0x2c896e,_0x2109d9)=>{const _0x79b209=_0x2bc22c;let _0x341220=await this['groupValidate']({'request':_0x2c896e,'schema':ke,'ClassRef':ee,'execute':(_0x3bfada,_0x2232eb)=>q[_0x79b209(0x231)](_0x3bfada,_0x2232eb)});_0x2109d9[_0x79b209(0x5d8)](0xc8)['json'](_0x341220);})['get'](this['routerPath'](_0x2bc22c(0x3d1)),..._0x459b02,async(_0x37d151,_0xe4bbb)=>{const _0x5a51ee=_0x2bc22c;let _0x2fae62=await this['groupValidate']({'request':_0x37d151,'schema':ke,'ClassRef':ee,'execute':(_0x5e3e72,_0x3f32fe)=>q[_0x5a51ee(0x3d1)](_0x5e3e72,_0x3f32fe)});_0xe4bbb[_0x5a51ee(0x5d8)](0xc8)[_0x5a51ee(0x56a)](_0x2fae62);})[_0x2bc22c(0x58d)](this[_0x2bc22c(0x7e1)]('inviteCodeDetails'),..._0x459b02,async(_0x576fe2,_0xdb6633)=>{const _0xcab29a=_0x2bc22c;let _0x310417=await this[_0xcab29a(0x3a0)]({'request':_0x576fe2,'schema':Ts,'ClassRef':Le,'execute':(_0x1f1515,_0x29c79f)=>q['groupGetInviteInfo'](_0x1f1515,_0x29c79f)});_0xdb6633[_0xcab29a(0x5d8)](0xc9)[_0xcab29a(0x56a)](_0x310417);})[_0x2bc22c(0x6b4)](this[_0x2bc22c(0x7e1)]('joinGroup'),..._0x459b02,async(_0x4065e5,_0x240e99)=>{const _0x3b007e=_0x2bc22c;let _0x5a8d9b=await this[_0x3b007e(0x3a0)]({'request':_0x4065e5,'schema':Ts,'ClassRef':Le,'execute':(_0x14bfc6,_0x277bf2)=>q[_0x3b007e(0x43a)](_0x14bfc6,_0x277bf2)});_0x240e99['status'](0xc9)[_0x3b007e(0x56a)](_0x5a8d9b);})['put'](this['routerPath']('revokeInviteCode'),..._0x459b02,async(_0x2b1988,_0x41e464)=>{const _0x59ca15=_0x2bc22c;let _0x99a845=await this['groupValidate']({'request':_0x2b1988,'schema':ke,'ClassRef':ee,'execute':(_0x25713c,_0x1f74ad)=>q[_0x59ca15(0x191)](_0x25713c,_0x1f74ad)});_0x41e464[_0x59ca15(0x5d8)](0xc9)[_0x59ca15(0x56a)](_0x99a845);})[_0x2bc22c(0x6b4)](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x3fd)),..._0x459b02,async(_0x410831,_0x30e3cb)=>{const _0x169c9b=_0x2bc22c;let _0x3deca5=await this[_0x169c9b(0x8cf)]({'request':_0x410831,'schema':li,'ClassRef':bt,'execute':(_0x7c36b2,_0x2a24af)=>q[_0x169c9b(0x880)](_0x7c36b2,_0x2a24af)});_0x30e3cb['status'](0xc9)[_0x169c9b(0x56a)](_0x3deca5);})[_0x2bc22c(0x3be)](this[_0x2bc22c(0x7e1)](_0x2bc22c(0x362)),..._0x459b02,async(_0x2845b1,_0x467681)=>{const _0xc47b9=_0x2bc22c;let _0x29734e=await this['groupValidate']({'request':_0x2845b1,'schema':{},'ClassRef':ee,'execute':(_0x545696,_0x25d136)=>q[_0xc47b9(0x362)](_0x545696,_0x25d136)});_0x467681[_0xc47b9(0x5d8)](0xc8)['json'](_0x29734e);});}},bi=require(a0_0x299ca5(0x56e)),Ct=class extends G{constructor(_0x4bd62e,..._0x237d62){const _0x134c12=a0_0x299ca5;super(),this[_0x134c12(0x1d9)]=_0x4bd62e,this[_0x134c12(0x682)]=(0x0,bi[_0x134c12(0x856)])();let _0x4c00c5=_0x4bd62e[_0x134c12(0x2ed)](_0x134c12(0x6ea));this['router'][_0x134c12(0x58d)](_0x134c12(0x8b1),..._0x237d62,async(_0x58db7c,_0x4538b0)=>{const _0x580070=_0x134c12;let {instanceName:_0x347396,apikey:_0x3994bb,number:_0x3f23ed}=_0x58db7c['body'],_0x28fffb=await ue[_0x580070(0x553)]({'instanceName':_0x347396,'apikey':_0x3994bb,'number':_0x3f23ed});return _0x4538b0['status'](0xc9)['json'](_0x28fffb);})[_0x134c12(0x6b4)](this['routerPath'](_0x134c12(0x667)),..._0x237d62,async(_0x2b962f,_0x323065)=>{const _0x448610=_0x134c12;let _0x28fb2f=await this[_0x448610(0x761)]({'request':_0x2b962f,'schema':N,'ClassRef':C,'execute':_0x50d2e7=>ue[_0x448610(0x857)](_0x50d2e7)});return _0x323065[_0x448610(0x5d8)](0xc8)[_0x448610(0x56a)](_0x28fb2f);})[_0x134c12(0x2ed)](this[_0x134c12(0x7e1)](_0x134c12(0x1a9)),..._0x237d62,async(_0x36c02b,_0x5afd2f)=>{const _0x3a022e=_0x134c12;let _0x14cfc5=await this[_0x3a022e(0x761)]({'request':_0x36c02b,'schema':N,'ClassRef':C,'execute':_0x1f5b17=>ue['connectToWhatsappController'](_0x1f5b17)});return _0x5afd2f[_0x3a022e(0x5d8)](0xc8)[_0x3a022e(0x56a)](_0x14cfc5);})[_0x134c12(0x2ed)](this['routerPath'](_0x134c12(0x66b)),..._0x237d62,async(_0x27c5c2,_0x3373df)=>{const _0x49cd7e=_0x134c12;let _0x16704d=await this[_0x49cd7e(0x761)]({'request':_0x27c5c2,'schema':N,'ClassRef':C,'execute':_0xe4da1a=>ue[_0x49cd7e(0x66b)](_0xe4da1a)});return _0x3373df[_0x49cd7e(0x5d8)](0xc8)[_0x49cd7e(0x56a)](_0x16704d);})['get'](this[_0x134c12(0x7e1)]('fetchInstances',!0x1),..._0x237d62,async(_0x3cc607,_0x26b394)=>{const _0x10aac7=_0x134c12;let _0x304e1e=await this[_0x10aac7(0x761)]({'request':_0x3cc607,'schema':null,'ClassRef':C,'execute':_0xee81a=>ue[_0x10aac7(0x621)](_0xee81a)});return _0x26b394[_0x10aac7(0x5d8)](0xc8)[_0x10aac7(0x56a)](_0x304e1e);})[_0x134c12(0x3be)](this['routerPath'](_0x134c12(0x36f)),..._0x237d62,async(_0xd13c17,_0x33768f)=>{const _0x2a91d9=_0x134c12;let _0x2605cc=await this[_0x2a91d9(0x761)]({'request':_0xd13c17,'schema':N,'ClassRef':C,'execute':_0x242ce4=>ue[_0x2a91d9(0x36f)](_0x242ce4)});return _0x33768f[_0x2a91d9(0x5d8)](0xc8)['json'](_0x2605cc);})[_0x134c12(0x3be)](this[_0x134c12(0x7e1)](_0x134c12(0x3be)),..._0x237d62,async(_0x1a3798,_0x9a3c91)=>{const _0x5782dd=_0x134c12;let _0x15de4a=await this[_0x5782dd(0x761)]({'request':_0x1a3798,'schema':N,'ClassRef':C,'execute':_0x32a9be=>ue[_0x5782dd(0x360)](_0x32a9be)});return _0x9a3c91[_0x5782dd(0x5d8)](0xc8)['json'](_0x15de4a);});}},Si=require('express'),_s=class{},H=class extends _s{},vt=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Fe=class extends H{},Rt=class extends H{},At=class extends H{},Tt=class extends H{},It=class extends H{},_t=class{},Ot=class extends G{constructor(..._0x55c5d5){const _0x58f98e=a0_0x299ca5;super(),this[_0x58f98e(0x682)]=(0x0,Si[_0x58f98e(0x856)])(),this[_0x58f98e(0x682)][_0x58f98e(0x58d)](this[_0x58f98e(0x7e1)]('sendText'),..._0x55c5d5,async(_0x30474b,_0x28816d)=>{const _0x3aba91=_0x58f98e;let _0x5b0706=await this['dataValidate']({'request':_0x30474b,'schema':Ua,'ClassRef':vt,'execute':(_0x381577,_0x3747d2)=>W[_0x3aba91(0x745)](_0x381577,_0x3747d2)});return _0x28816d[_0x3aba91(0x5d8)](0xc9)[_0x3aba91(0x56a)](_0x5b0706);})[_0x58f98e(0x58d)](this[_0x58f98e(0x7e1)](_0x58f98e(0x69d)),..._0x55c5d5,async(_0x221585,_0x36b1a2)=>{const _0x3e4661=_0x58f98e;let _0x509235=await this['dataValidate']({'request':_0x221585,'schema':Va,'ClassRef':Fe,'execute':(_0x2a2add,_0x420f2f)=>W[_0x3e4661(0x69d)](_0x2a2add,_0x420f2f)});return _0x36b1a2[_0x3e4661(0x5d8)](0xc9)[_0x3e4661(0x56a)](_0x509235);})[_0x58f98e(0x58d)](this[_0x58f98e(0x7e1)](_0x58f98e(0x759)),..._0x55c5d5,async(_0xb123c2,_0x3cb30d)=>{const _0x3a6b8e=_0x58f98e;let _0x44ba2e=await this[_0x3a6b8e(0x761)]({'request':_0xb123c2,'schema':Wa,'ClassRef':$t,'execute':(_0x31167c,_0x568b88)=>W['sendMenu'](_0x31167c,_0x568b88)});return _0x3cb30d[_0x3a6b8e(0x5d8)](0xc9)['json'](_0x44ba2e);})[_0x58f98e(0x58d)](this['routerPath'](_0x58f98e(0x49d)),..._0x55c5d5,async(_0x4701c5,_0x323f0d)=>{const _0x33f9d5=_0x58f98e;let _0x5bda30=await this['dataValidate']({'request':_0x4701c5,'schema':Ga,'ClassRef':Fe,'execute':(_0xf1cbee,_0x2d6213)=>W['sendWhatsAppAudio'](_0xf1cbee,_0x2d6213)});return _0x323f0d[_0x33f9d5(0x5d8)](0xc9)[_0x33f9d5(0x56a)](_0x5bda30);})['post'](this['routerPath'](_0x58f98e(0x2af)),..._0x55c5d5,async(_0x5a4177,_0x1b8467)=>{const _0xe0654d=_0x58f98e;let _0x1e45b9=await this[_0xe0654d(0x761)]({'request':_0x5a4177,'schema':za,'ClassRef':At,'execute':(_0x350471,_0x829f8e)=>W['sendLocation'](_0x350471,_0x829f8e)});return _0x1b8467['status'](0xc9)[_0xe0654d(0x56a)](_0x1e45b9);})[_0x58f98e(0x58d)](this[_0x58f98e(0x7e1)](_0x58f98e(0x883)),..._0x55c5d5,async(_0x1ca63c,_0x378ef5)=>{const _0x44653d=_0x58f98e;let _0x4f3769=await this['dataValidate']({'request':_0x1ca63c,'schema':Ha,'ClassRef':Tt,'execute':(_0x1084cf,_0x168610)=>W['sendList'](_0x1084cf,_0x168610)});return _0x378ef5[_0x44653d(0x5d8)](0xc9)[_0x44653d(0x56a)](_0x4f3769);})[_0x58f98e(0x58d)](this['routerPath'](_0x58f98e(0x16b)),..._0x55c5d5,async(_0x28d2b2,_0x1c5821)=>{const _0x2e6d11=_0x58f98e;let _0x2ca15d=await this[_0x2e6d11(0x761)]({'request':_0x28d2b2,'schema':Ka,'ClassRef':It,'execute':(_0x444f53,_0x2ca2f2)=>W['sendContact'](_0x444f53,_0x2ca2f2)});return _0x1c5821[_0x2e6d11(0x5d8)](0xc9)[_0x2e6d11(0x56a)](_0x2ca15d);})['post'](this['routerPath'](_0x58f98e(0x2ef)),..._0x55c5d5,async(_0x6854a0,_0x35965a)=>{const _0x3c62ca=_0x58f98e;let _0x5de837=await this[_0x3c62ca(0x761)]({'request':_0x6854a0,'schema':Qa,'ClassRef':_t,'execute':(_0xe8a4b9,_0x30a150)=>W[_0x3c62ca(0x2ef)](_0xe8a4b9,_0x30a150)});return _0x35965a[_0x3c62ca(0x5d8)](0xc9)['json'](_0x5de837);})[_0x58f98e(0x58d)](this[_0x58f98e(0x7e1)]('sendPoll'),..._0x55c5d5,async(_0x4d77e6,_0x1e75bd)=>{const _0x2b22a7=_0x58f98e;let _0xc58f35=await this['dataValidate']({'request':_0x4d77e6,'schema':Ba,'ClassRef':Nt,'execute':(_0xa1fc3,_0x2668e8)=>W[_0x2b22a7(0x5f1)](_0xa1fc3,_0x2668e8)});return _0x1e75bd[_0x2b22a7(0x5d8)](0xc9)[_0x2b22a7(0x56a)](_0xc58f35);})['post'](this['routerPath'](_0x58f98e(0x3a3)),..._0x55c5d5,async(_0x5198af,_0x5ec144)=>{const _0x2fa299=_0x58f98e;let _0x94d3eb=await this[_0x2fa299(0x761)]({'request':_0x5198af,'schema':qa,'ClassRef':Et,'execute':(_0x2f3ecd,_0x40d20a)=>W['sendStatus'](_0x2f3ecd,_0x40d20a)});return _0x5ec144[_0x2fa299(0x5d8)](0xc9)['json'](_0x94d3eb);})['post'](this[_0x58f98e(0x7e1)](_0x58f98e(0x27d)),..._0x55c5d5,async(_0x339de0,_0x5bf2cc)=>{const _0x1518ae=_0x58f98e;let _0x27b227=await this[_0x1518ae(0x761)]({'request':_0x339de0,'schema':Ja,'ClassRef':Rt,'execute':(_0xa3a5e9,_0x3caefd)=>W[_0x1518ae(0x27d)](_0xa3a5e9,_0x3caefd)});return _0x5bf2cc[_0x1518ae(0x5d8)](0xc9)[_0x1518ae(0x56a)](_0x27b227);});}},Mi=require(a0_0x299ca5(0x56e)),xt=class{},Pt=class extends G{constructor(..._0x3ec17f){const _0x318ffd=a0_0x299ca5;super(),this[_0x318ffd(0x682)]=(0x0,Mi[_0x318ffd(0x856)])(),this['router'][_0x318ffd(0x58d)](this[_0x318ffd(0x7e1)](_0x318ffd(0x7ae)),..._0x3ec17f,async(_0x105a8e,_0x4fa841)=>{const _0x637710=_0x318ffd;let _0x1642e6=await this[_0x637710(0x761)]({'request':_0x105a8e,'schema':fi,'ClassRef':xt,'execute':(_0x12acb9,_0x4c5a2f)=>Os[_0x637710(0x58f)](_0x12acb9,_0x4c5a2f)});_0x4fa841['status'](0xc9)[_0x637710(0x56a)](_0x1642e6);})['get'](this[_0x318ffd(0x7e1)]('find'),..._0x3ec17f,async(_0x3c2580,_0x34468b)=>{const _0x10ad5c=_0x318ffd;let _0x3bed0f=await this[_0x10ad5c(0x761)]({'request':_0x3c2580,'schema':N,'ClassRef':C,'execute':_0x49e421=>Os[_0x10ad5c(0x5f6)](_0x49e421)});_0x34468b[_0x10ad5c(0x5d8)](0xc8)[_0x10ad5c(0x56a)](_0x3bed0f);});}},Ci=require('express'),y=new R(a0_0x299ca5(0x811)),Dt=class extends G{constructor(..._0x5d717c){const _0x2b2d31=a0_0x299ca5;super(),this[_0x2b2d31(0x682)]=(0x0,Ci[_0x2b2d31(0x856)])(),this[_0x2b2d31(0x682)]['post'](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x192)),..._0x5d717c,async(_0x4f3d92,_0x464daf)=>{const _0x16953f=_0x2b2d31;let _0x28f400=_0x4f3d92[_0x16953f(0x3e6)];y[_0x16953f(0x8bd)]('request\x20received\x20in\x20scheduleMessage'),y[_0x16953f(0x8bd)](_0x16953f(0x7a1)),y[_0x16953f(0x8bd)](_0x4f3d92[_0x16953f(0x3e6)]);let _0x217065=await this[_0x16953f(0x761)]({'request':_0x4f3d92,'schema':N,'ClassRef':C,'execute':_0x1ce0f3=>_[_0x16953f(0x172)](_0x1ce0f3,_0x28f400)});_0x464daf[_0x16953f(0x5d8)](0xc8)[_0x16953f(0x56a)](_0x217065);})['get'](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x192)),..._0x5d717c,async(_0x56175a,_0x4a9de0)=>{const _0x440208=_0x2b2d31;let _0x341965=await this[_0x440208(0x761)]({'request':_0x56175a,'schema':N,'ClassRef':C,'execute':_0x5ec41c=>_['getScheduleMessage'](_0x5ec41c)});_0x4a9de0[_0x440208(0x5d8)](0xc8)[_0x440208(0x56a)](_0x341965);})[_0x2b2d31(0x3be)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x89c)),..._0x5d717c,async(_0x563e83,_0x5198fc)=>{const _0x28b912=_0x2b2d31;y[_0x28b912(0x8bd)](_0x28b912(0x8af));let _0x10f2e4=await this['dataValidate']({'request':_0x563e83,'schema':N,'ClassRef':C,'execute':_0xbe9e35=>_[_0x28b912(0x89c)](_0xbe9e35)});_0x5198fc[_0x28b912(0x5d8)](0xc8)[_0x28b912(0x56a)](_0x10f2e4);})[_0x2b2d31(0x3be)](this[_0x2b2d31(0x7e1)]('deleteAllMessages'),..._0x5d717c,async(_0x4d04a0,_0x203e3c)=>{const _0x373ba2=_0x2b2d31;y[_0x373ba2(0x8bd)](_0x373ba2(0x65e));let _0x2febca=await this[_0x373ba2(0x761)]({'request':_0x4d04a0,'schema':N,'ClassRef':C,'execute':_0x44c6b6=>_['deleteAllMessages'](_0x44c6b6)});_0x203e3c[_0x373ba2(0x5d8)](0xc8)[_0x373ba2(0x56a)](_0x2febca);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x813)),..._0x5d717c,async(_0x5970ce,_0x2e5a4c)=>{const _0x33cad7=_0x2b2d31;let _0x203bdc=_0x5970ce[_0x33cad7(0x3e6)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x33cad7(0x8bd)](_0x33cad7(0x7a1)),y[_0x33cad7(0x8bd)](_0x5970ce[_0x33cad7(0x3e6)]);let _0x2242d4=await this[_0x33cad7(0x761)]({'request':_0x5970ce,'schema':N,'ClassRef':C,'execute':_0x2f0431=>_[_0x33cad7(0x813)](_0x2f0431,_0x203bdc)});_0x2e5a4c[_0x33cad7(0x5d8)](0xc8)[_0x33cad7(0x56a)](_0x2242d4);})[_0x2b2d31(0x2ed)](this['routerPath'](_0x2b2d31(0x7c3)),..._0x5d717c,async(_0x12d8ea,_0x105788)=>{const _0x110c6a=_0x2b2d31;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x52eb04=await this[_0x110c6a(0x761)]({'request':_0x12d8ea,'schema':N,'ClassRef':C,'execute':_0x47f67c=>_['getAutomateSystem'](_0x47f67c)});_0x105788[_0x110c6a(0x5d8)](0xc8)[_0x110c6a(0x56a)](_0x52eb04);})[_0x2b2d31(0x2ed)](this[_0x2b2d31(0x7e1)]('getTicketSystem'),..._0x5d717c,async(_0x382cca,_0x3053cb)=>{const _0x4ced41=_0x2b2d31;y[_0x4ced41(0x8bd)](_0x4ced41(0x1f4));let _0x12217d=await this[_0x4ced41(0x761)]({'request':_0x382cca,'schema':N,'ClassRef':C,'execute':_0xeaa53=>_[_0x4ced41(0x7c3)](_0xeaa53)});_0x3053cb[_0x4ced41(0x5d8)](0xc8)[_0x4ced41(0x56a)](_0x12217d);})['post'](this['routerPath'](_0x2b2d31(0x423)),..._0x5d717c,async(_0x19b6a5,_0x2cac13)=>{const _0x4c0cd7=_0x2b2d31;let _0x173597=_0x19b6a5[_0x4c0cd7(0x3e6)];y[_0x4c0cd7(0x8bd)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x4c0cd7(0x7a1)),y['verbose'](_0x19b6a5[_0x4c0cd7(0x3e6)]);let _0x254998=await this[_0x4c0cd7(0x761)]({'request':_0x19b6a5,'schema':N,'ClassRef':C,'execute':_0x29e8a5=>_[_0x4c0cd7(0x423)](_0x29e8a5,_0x173597)});_0x2cac13['status'](0xc8)[_0x4c0cd7(0x56a)](_0x254998);})['post'](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x371)),..._0x5d717c,async(_0x11a91c,_0x1f940d)=>{const _0x28744a=_0x2b2d31;let _0x5c423e=_0x11a91c[_0x28744a(0x3e6)];y['verbose'](_0x28744a(0x20c)),y['verbose'](_0x28744a(0x7a1)),y[_0x28744a(0x8bd)](_0x11a91c[_0x28744a(0x3e6)]);let _0x432d4d=await this[_0x28744a(0x761)]({'request':_0x11a91c,'schema':N,'ClassRef':C,'execute':_0x31cb14=>_[_0x28744a(0x371)](_0x31cb14,_0x5c423e)});_0x1f940d['status'](0xc8)[_0x28744a(0x56a)](_0x432d4d);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x72f)),..._0x5d717c,async(_0x48a850,_0x279b89)=>{const _0x433379=_0x2b2d31;let _0x365af7=_0x48a850['body'];y[_0x433379(0x8bd)](_0x433379(0x2c1)),y[_0x433379(0x8bd)](_0x433379(0x7a1)),y[_0x433379(0x8bd)](_0x48a850[_0x433379(0x3e6)]);let _0x35bc53=await this[_0x433379(0x761)]({'request':_0x48a850,'schema':N,'ClassRef':C,'execute':_0x54887a=>_[_0x433379(0x72f)](_0x54887a,_0x365af7)});_0x279b89['status'](0xc8)[_0x433379(0x56a)](_0x35bc53);})['post'](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x537)),..._0x5d717c,async(_0x55d753,_0x350e40)=>{const _0xf4cd39=_0x2b2d31;let _0x182b16=_0x55d753[_0xf4cd39(0x3e6)];y['verbose']('request\x20received\x20in\x20updateFlowConfig'),y[_0xf4cd39(0x8bd)](_0xf4cd39(0x7a1)),y['verbose'](_0x55d753[_0xf4cd39(0x3e6)]);let _0x566c75=await this[_0xf4cd39(0x761)]({'request':_0x55d753,'schema':N,'ClassRef':C,'execute':_0x3ebe09=>_[_0xf4cd39(0x537)](_0x3ebe09,_0x182b16)});_0x350e40[_0xf4cd39(0x5d8)](0xc8)[_0xf4cd39(0x56a)](_0x566c75);})[_0x2b2d31(0x58d)](this['routerPath'](_0x2b2d31(0x528)),..._0x5d717c,async(_0x577d53,_0x1d4de6)=>{const _0x5f5aaa=_0x2b2d31;let _0x478be4=_0x577d53['body'];y['verbose']('request\x20received\x20in\x20getConversation'),y[_0x5f5aaa(0x8bd)](_0x5f5aaa(0x7a1)),y['verbose'](_0x577d53[_0x5f5aaa(0x3e6)]);let _0x169ece=await this[_0x5f5aaa(0x761)]({'request':_0x577d53,'schema':N,'ClassRef':C,'execute':_0x34eb07=>_['getConversation'](_0x34eb07,_0x478be4)});_0x1d4de6[_0x5f5aaa(0x5d8)](0xc8)[_0x5f5aaa(0x56a)](_0x169ece);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x8d7)),..._0x5d717c,async(_0x3267a0,_0x2111b2)=>{const _0xb95372=_0x2b2d31;let _0xbe57d5=_0x3267a0[_0xb95372(0x3e6)];y[_0xb95372(0x8bd)](_0xb95372(0x41a)),y['verbose']('request\x20body:\x20'),y[_0xb95372(0x8bd)](_0x3267a0[_0xb95372(0x3e6)]);let _0xf690fb=await this[_0xb95372(0x761)]({'request':_0x3267a0,'schema':N,'ClassRef':C,'execute':_0x5ab6a0=>_[_0xb95372(0x8d7)](_0x5ab6a0,_0xbe57d5)});_0x2111b2[_0xb95372(0x5d8)](0xc8)[_0xb95372(0x56a)](_0xf690fb);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x21c)),..._0x5d717c,async(_0x47eca6,_0x31c1da)=>{const _0x546c17=_0x2b2d31;let _0x45e537=_0x47eca6[_0x546c17(0x3e6)];y[_0x546c17(0x8bd)](_0x546c17(0x60f)),y[_0x546c17(0x8bd)](_0x546c17(0x7a1)),y['verbose'](_0x47eca6[_0x546c17(0x3e6)]);let _0xa3b795=await this[_0x546c17(0x761)]({'request':_0x47eca6,'schema':N,'ClassRef':C,'execute':_0x32f41d=>_['editConversation'](_0x32f41d,_0x45e537)});_0x31c1da[_0x546c17(0x5d8)](0xc8)['json'](_0xa3b795);})[_0x2b2d31(0x3be)](this['routerPath']('deleteConversation'),..._0x5d717c,async(_0x1b0efb,_0x38b1c9)=>{const _0x18645b=_0x2b2d31;let _0x16cc93=_0x1b0efb[_0x18645b(0x3e6)];y['verbose'](_0x18645b(0x635)),y['verbose'](_0x18645b(0x7a1)),y[_0x18645b(0x8bd)](_0x1b0efb[_0x18645b(0x3e6)]);let _0x3dd0c1=await this['dataValidate']({'request':_0x1b0efb,'schema':N,'ClassRef':C,'execute':_0x50773b=>_[_0x18645b(0x4af)](_0x50773b,_0x16cc93)});_0x38b1c9[_0x18645b(0x5d8)](0xc8)[_0x18645b(0x56a)](_0x3dd0c1);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x797)),..._0x5d717c,async(_0x2bf3ec,_0xb3075b)=>{const _0x4b8486=_0x2b2d31;let _0x4ec9a7=_0x2bf3ec[_0x4b8486(0x3e6)],_0x4115aa=_0x2bf3ec['headers'][_0x4b8486(0x78e)];y[_0x4b8486(0x8bd)](_0x4b8486(0x429)),y[_0x4b8486(0x8bd)](_0x4b8486(0x7a1)),y[_0x4b8486(0x8bd)](_0x2bf3ec[_0x4b8486(0x3e6)]);let _0xb13fa9=await this[_0x4b8486(0x761)]({'request':_0x2bf3ec,'schema':N,'ClassRef':C,'execute':_0x525734=>_['createFlow'](_0x525734,_0x4ec9a7,_0x4115aa)});_0xb3075b[_0x4b8486(0x5d8)](0xc8)[_0x4b8486(0x56a)](_0xb13fa9);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)]('editflow'),..._0x5d717c,async(_0x291bc4,_0x1fe8b1)=>{const _0x56e3e3=_0x2b2d31;let _0x103d44=_0x291bc4[_0x56e3e3(0x3e6)],_0x2a650b=_0x291bc4[_0x56e3e3(0x74a)][_0x56e3e3(0x78e)];y['verbose'](_0x56e3e3(0x716)),y[_0x56e3e3(0x8bd)](_0x56e3e3(0x7a1)),y['verbose'](_0x291bc4[_0x56e3e3(0x3e6)]),delete _0x103d44[_0x56e3e3(0x3b2)],delete _0x103d44[_0x56e3e3(0x2c0)],delete _0x103d44['groups'],delete _0x103d44[_0x56e3e3(0x28b)];let _0x3c4915=await this[_0x56e3e3(0x761)]({'request':_0x291bc4,'schema':N,'ClassRef':C,'execute':_0x4ca3d3=>_['editFlow'](_0x4ca3d3,_0x103d44,_0x2a650b)});_0x1fe8b1[_0x56e3e3(0x5d8)](0xc8)[_0x56e3e3(0x56a)](_0x3c4915);})[_0x2b2d31(0x58d)](this['routerPath'](_0x2b2d31(0x884)),..._0x5d717c,async(_0x1b244b,_0x2a0209)=>{const _0xe19840=_0x2b2d31;let _0x3358b4=_0x1b244b[_0xe19840(0x3e6)];y['verbose'](_0xe19840(0x716)),y[_0xe19840(0x8bd)](_0xe19840(0x7a1)),y['verbose'](_0x1b244b[_0xe19840(0x3e6)]);let _0x32d18d=await this[_0xe19840(0x761)]({'request':_0x1b244b,'schema':N,'ClassRef':C,'execute':_0x388d85=>_['editFlowBlock'](_0x388d85,_0x3358b4)});_0x2a0209[_0xe19840(0x5d8)](0xc8)[_0xe19840(0x56a)](_0x32d18d);})[_0x2b2d31(0x58d)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x558)),..._0x5d717c,async(_0x5130ee,_0x251af4)=>{const _0x25944d=_0x2b2d31;let _0x588848=_0x5130ee[_0x25944d(0x3e6)];y[_0x25944d(0x8bd)](_0x25944d(0x716)),y[_0x25944d(0x8bd)]('request\x20body:\x20'),y[_0x25944d(0x8bd)](_0x5130ee[_0x25944d(0x3e6)]);let _0x57683c=await this[_0x25944d(0x761)]({'request':_0x5130ee,'schema':N,'ClassRef':C,'execute':_0x18b0c7=>_[_0x25944d(0x3ba)](_0x18b0c7,_0x588848)});_0x251af4['status'](0xc8)[_0x25944d(0x56a)](_0x57683c);})['post'](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x854)),..._0x5d717c,async(_0x41e723,_0x5cc4b5)=>{const _0x66a738=_0x2b2d31;let _0xc65edd=_0x41e723[_0x66a738(0x3e6)];y[_0x66a738(0x8bd)](_0x66a738(0x716)),y[_0x66a738(0x8bd)](_0x66a738(0x7a1)),y[_0x66a738(0x8bd)](_0x41e723[_0x66a738(0x3e6)]);let _0x327d9d=await this[_0x66a738(0x761)]({'request':_0x41e723,'schema':N,'ClassRef':C,'execute':_0xbbc0c8=>_['editFlowVaredit'](_0xbbc0c8,_0xc65edd)});_0x5cc4b5[_0x66a738(0x5d8)](0xc8)[_0x66a738(0x56a)](_0x327d9d);})[_0x2b2d31(0x58d)](this['routerPath'](_0x2b2d31(0x4ba)),..._0x5d717c,async(_0x198598,_0x31ebb8)=>{const _0x149df2=_0x2b2d31;let _0x3f8451=_0x198598['body'];y[_0x149df2(0x8bd)]('request\x20received\x20in\x20editFlowgroup'),y[_0x149df2(0x8bd)](_0x149df2(0x7a1)),y[_0x149df2(0x8bd)](_0x198598[_0x149df2(0x3e6)]);let _0x3a88dc=await this[_0x149df2(0x761)]({'request':_0x198598,'schema':N,'ClassRef':C,'execute':_0x246f47=>_[_0x149df2(0x49b)](_0x246f47,_0x3f8451)});_0x31ebb8['status'](0xc8)['json'](_0x3a88dc);})[_0x2b2d31(0x58d)](this['routerPath'](_0x2b2d31(0x872)),..._0x5d717c,async(_0x53fc6e,_0x28d252)=>{const _0x70245f=_0x2b2d31;let _0x524421=_0x53fc6e[_0x70245f(0x3e6)];y['verbose'](_0x70245f(0x377)),y[_0x70245f(0x8bd)](_0x70245f(0x7a1)),y[_0x70245f(0x8bd)](_0x53fc6e[_0x70245f(0x3e6)]);let _0x912324=await this[_0x70245f(0x761)]({'request':_0x53fc6e,'schema':N,'ClassRef':C,'execute':_0x86836d=>_['editFlowCondition'](_0x86836d,_0x524421)});_0x28d252[_0x70245f(0x5d8)](0xc8)[_0x70245f(0x56a)](_0x912324);})['post'](this['routerPath']('editflowvariable'),..._0x5d717c,async(_0x43f7a0,_0x2c6226)=>{const _0x8e3f5e=_0x2b2d31;let _0x252d33=_0x43f7a0[_0x8e3f5e(0x3e6)];y['verbose'](_0x8e3f5e(0x877)),y[_0x8e3f5e(0x8bd)]('request\x20body:\x20'),y[_0x8e3f5e(0x8bd)](_0x43f7a0[_0x8e3f5e(0x3e6)]);let _0x402dd9=await this[_0x8e3f5e(0x761)]({'request':_0x43f7a0,'schema':N,'ClassRef':C,'execute':_0x213e4c=>_[_0x8e3f5e(0x2dc)](_0x213e4c,_0x252d33)});_0x2c6226[_0x8e3f5e(0x5d8)](0xc8)['json'](_0x402dd9);})[_0x2b2d31(0x58d)](this['routerPath'](_0x2b2d31(0x681)),..._0x5d717c,async(_0x371ba7,_0x5e0c7d)=>{const _0x5d8999=_0x2b2d31;let _0x70a6eb=_0x371ba7[_0x5d8999(0x3e6)];y[_0x5d8999(0x8bd)]('request\x20received\x20in\x20getFlow'),y[_0x5d8999(0x8bd)](_0x5d8999(0x7a1)),y[_0x5d8999(0x8bd)](_0x371ba7['body']);let _0x3e95c1=await this[_0x5d8999(0x761)]({'request':_0x371ba7,'schema':N,'ClassRef':C,'execute':_0x10d4e7=>_[_0x5d8999(0x285)](_0x10d4e7,_0x70a6eb)});_0x5e0c7d[_0x5d8999(0x5d8)](0xc8)[_0x5d8999(0x56a)](_0x3e95c1);})[_0x2b2d31(0x3be)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x810)),..._0x5d717c,async(_0x53abc5,_0xeed0e7)=>{const _0x6cc35b=_0x2b2d31;let _0x541273=_0x53abc5[_0x6cc35b(0x3e6)];y[_0x6cc35b(0x8bd)](_0x6cc35b(0x301)),y[_0x6cc35b(0x8bd)](_0x6cc35b(0x7a1)),y[_0x6cc35b(0x8bd)](_0x53abc5[_0x6cc35b(0x3e6)]);let _0x191982=await this[_0x6cc35b(0x761)]({'request':_0x53abc5,'schema':N,'ClassRef':C,'execute':_0x254358=>_[_0x6cc35b(0x894)](_0x254358,_0x541273)});_0xeed0e7[_0x6cc35b(0x5d8)](0xc8)[_0x6cc35b(0x56a)](_0x191982);})[_0x2b2d31(0x2ed)](this[_0x2b2d31(0x7e1)](_0x2b2d31(0x3bc)),..._0x5d717c,async(_0x144b06,_0x4fbb0b)=>{const _0x571108=_0x2b2d31;y['verbose'](_0x571108(0x68d));let _0x247e3e=await this[_0x571108(0x761)]({'request':_0x144b06,'schema':N,'ClassRef':C,'execute':_0x11c2d0=>_[_0x571108(0x6ef)](_0x11c2d0)});_0x4fbb0b[_0x571108(0x5d8)](0xc8)[_0x571108(0x56a)](_0x247e3e);});}},$i=I(require(a0_0x299ca5(0x36d))),te={};function vi(_0x12ad56,_0x21e40f,_0x4316d3,_0x1301b8){te[_0x12ad56]||(te[_0x12ad56]={}),te[_0x12ad56][_0x21e40f]={'id':_0x21e40f,'response':_0x4316d3,'events':_0x1301b8};}function Ei(_0x5a5a6f,_0x156a8b){!te[_0x5a5a6f]||!te[_0x5a5a6f][_0x156a8b]||delete te[_0x5a5a6f][_0x156a8b];}function F(_0x4c428e,_0x1a67d8,_0x56befd){const _0x73aa25=a0_0x299ca5;if(!te[_0x4c428e])return;let _0x45d771=_0x73aa25(0x776)+JSON['stringify'](_0x56befd)+'\x0a\x0a';Object[_0x73aa25(0x86d)](te[_0x4c428e])['forEach'](_0x252cb8=>{const _0x3ac5bd=_0x73aa25;_0x252cb8[_0x3ac5bd(0x131)]['includes'](_0x1a67d8)&&_0x252cb8[_0x3ac5bd(0x75b)][_0x3ac5bd(0x364)](_0x45d771);});}function Ni(){const _0x7a9f85=a0_0x299ca5;let _0x5add8a={};for(let _0x466061 in te)_0x5add8a[_0x466061]=Object[_0x7a9f85(0x86d)](te[_0x466061])['map'](_0x4584a6=>({'id':_0x4584a6['id'],'events':_0x4584a6[_0x7a9f85(0x131)]}));return _0x5add8a;}var Ri=require(a0_0x299ca5(0x43c)),Ps=require(a0_0x299ca5(0x2b5)),xs=class{},xo=new Ps[(a0_0x299ca5(0x294))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Po=new Ps[(a0_0x299ca5(0x294))]({'_id':{'type':String,'default':a0_0x299ca5(0x7b1)},'WebhookGlobal':{'type':xo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=T?.[a0_0x299ca5(0x7da)](xs[a0_0x299ca5(0x5d0)],Po,a0_0x299ca5(0x4a4)),Do=$i[a0_0x299ca5(0x222)][a0_0x299ca5(0x35d)](__dirname,a0_0x299ca5(0x1d1)),Ue=(0x0,kt[a0_0x299ca5(0x856)])(),ko=S[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x6ea))['TYPE'],oe=[xa,Pa,La[ko]];Ue[a0_0x299ca5(0x74b)](a0_0x299ca5(0x272),kt[a0_0x299ca5(0x222)][a0_0x299ca5(0x706)](Do))[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x292),async(_0x3d138a,_0x5afea3)=>{const _0x2cc25a=a0_0x299ca5;console[_0x2cc25a(0x666)](_0x2cc25a(0x6df));let _0x42ba81=_0x3d138a[_0x2cc25a(0x4fb)][_0x2cc25a(0x4dd)],_0x8efed0=(_0x3d138a[_0x2cc25a(0x167)][_0x2cc25a(0x131)]||'')[_0x2cc25a(0x5ca)](','),_0x48e0b8=(0x0,Ri['v4'])();console[_0x2cc25a(0x666)](_0x2cc25a(0x5a2),_0x42ba81),console[_0x2cc25a(0x666)](_0x2cc25a(0x270),_0x8efed0);let _0x1cd2a5=S[_0x2cc25a(0x2ed)](_0x2cc25a(0x6ea))[_0x2cc25a(0x6d7)],_0x32ee9f=_0x3d138a[_0x2cc25a(0x167)]['apikey'];if(console[_0x2cc25a(0x666)](_0x2cc25a(0x658),_0x32ee9f),_0x1cd2a5['KEY']!==_0x32ee9f){console[_0x2cc25a(0x666)](_0x2cc25a(0x2d8));try{let _0x4cc670=await we[_0x2cc25a(0x4c1)][_0x2cc25a(0x2b7)](_0x42ba81);if(console['log'](_0x2cc25a(0x8b2),_0x4cc670),!_0x4cc670||_0x4cc670['apikey']!==_0x32ee9f)return console[_0x2cc25a(0x666)](_0x2cc25a(0x575)),_0x5afea3['status'](0x191)[_0x2cc25a(0x80a)]('API\x20Key\x20inválida.');}catch(_0x522c9e){return console[_0x2cc25a(0x77f)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x522c9e),_0x5afea3[_0x2cc25a(0x5d8)](0x191)[_0x2cc25a(0x80a)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Pe(_0x42ba81))return _0x5afea3[_0x2cc25a(0x5d8)](0x194)[_0x2cc25a(0x80a)](_0x2cc25a(0x8d3));_0x5afea3[_0x2cc25a(0x29a)](_0x2cc25a(0x247),_0x2cc25a(0x265)),_0x5afea3['setHeader']('Cache-Control','no-cache'),_0x5afea3[_0x2cc25a(0x29a)]('Connection',_0x2cc25a(0x14a)),_0x5afea3[_0x2cc25a(0x598)]();let _0x7a3ad4=_0x2cc25a(0x776)+JSON[_0x2cc25a(0x6ed)]({'info':_0x2cc25a(0x2bf)})+'\x0a\x0a';_0x5afea3[_0x2cc25a(0x364)](_0x7a3ad4),vi(_0x42ba81,_0x48e0b8,_0x5afea3,_0x8efed0),_0x3d138a['on'](_0x2cc25a(0x7f7),()=>{const _0x45ed00=_0x2cc25a;console['log'](_0x45ed00(0x87c)+_0x42ba81),Ei(_0x42ba81,_0x48e0b8);});}),Ue[a0_0x299ca5(0x58d)](a0_0x299ca5(0x240),async(_0x5a3077,_0x19777c)=>{const _0x587cee=a0_0x299ca5;console[_0x587cee(0x666)](_0x587cee(0x720));let _0x2e8a66=_0x5a3077[_0x587cee(0x4fb)][_0x587cee(0x4dd)],_0x1606da=_0x5a3077[_0x587cee(0x4fb)][_0x587cee(0x329)],_0x1d0976=_0x5a3077['query'][_0x587cee(0x530)]||'',_0x3f51df=_0x5a3077[_0x587cee(0x3e6)];console[_0x587cee(0x666)](_0x587cee(0x817),_0x2e8a66),console['log']('StartID:',_0x1606da),console['log']('RemoteJid:',_0x1d0976),console[_0x587cee(0x666)](_0x587cee(0x54f),_0x3f51df);try{if(!await Pe(_0x2e8a66))return _0x19777c[_0x587cee(0x5d8)](0x194)[_0x587cee(0x80a)](_0x587cee(0x8d3));let _0xbca99d=await _[_0x587cee(0x44a)](_0x2e8a66,_0x1606da,_0x1d0976,_0x3f51df);_0x19777c[_0x587cee(0x80a)](_0xbca99d);}catch(_0x316c30){console[_0x587cee(0x77f)](_0x316c30),_0x19777c[_0x587cee(0x5d8)](0x1f4)[_0x587cee(0x80a)](_0x587cee(0x887));}}),Ue[a0_0x299ca5(0x2ed)]('/clients-info',(_0x1f5928,_0x67e93b)=>{const _0x50badc=a0_0x299ca5;let _0xf6d92=Ni();_0x67e93b[_0x50badc(0x56a)](_0xf6d92);})[a0_0x299ca5(0x2ed)]('/',(_0x1c5760,_0x155256)=>{const _0x3d91cd=a0_0x299ca5;let _0x4eade5=S[_0x3d91cd(0x2ed)]('SERVER')[_0x3d91cd(0x559)];if(_0x4eade5){let _0xbe0490=encodeURIComponent(''+_0x4eade5);_0x155256[_0x3d91cd(0x7fc)](_0x3d91cd(0x826)+_0xbe0490);return;}let _0x28ca17=S['get'](_0x3d91cd(0x3ca)),_0x573c9a=_0x28ca17&&_0x28ca17['FULLCHAIN'][_0x3d91cd(0x5ca)]('/')[0x4];if(_0x573c9a){let _0x2d4ef3=encodeURIComponent(_0x3d91cd(0x183)+_0x573c9a);_0x155256[_0x3d91cd(0x7fc)](_0x3d91cd(0x826)+_0x2d4ef3);}else _0x155256['redirect'](_0x3d91cd(0x587));})['put'](a0_0x299ca5(0x50b),...oe,async(_0x3f51f6,_0x3dcde1)=>{const _0x11905f=a0_0x299ca5;try{console[_0x11905f(0x666)](_0x11905f(0x4b3)),_0x3dcde1[_0x11905f(0x5d8)](0xc8)[_0x11905f(0x56a)]({'message':_0x11905f(0x6f0)}),_0x3dcde1['on']('finish',()=>process[_0x11905f(0x8ca)](0x0));}catch(_0x2cdf82){console[_0x11905f(0x77f)](_0x11905f(0x5cd),_0x2cdf82),_0x3dcde1['status'](0x1f4)[_0x11905f(0x56a)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x299ca5(0x6b4)](a0_0x299ca5(0x63c),...oe,async(_0x2a9e98,_0x4cd58c)=>{const _0x5a731c=a0_0x299ca5;try{let _0x86031c=_0x2a9e98[_0x5a731c(0x3e6)];await Ne[_0x5a731c(0x3ff)]({},{'$set':_0x86031c},{'upsert':!0x0});let _0x562143=await Ne['findOne']();_0x4cd58c['json'](_0x562143);}catch(_0xe04462){_0x4cd58c[_0x5a731c(0x5d8)](0x190)['send'](_0xe04462['message']);}})[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x63c),...oe,async(_0x33673d,_0x138b58)=>{const _0x4333a1=a0_0x299ca5;try{let _0x21f845=await Ne['findOne']();if(!_0x21f845)return _0x138b58['json']({});_0x138b58[_0x4333a1(0x56a)](_0x21f845);}catch(_0x1d0a69){_0x138b58[_0x4333a1(0x5d8)](0x1f4)[_0x4333a1(0x80a)](_0x1d0a69['message']);}})[a0_0x299ca5(0x74b)](a0_0x299ca5(0x89d),new Ct(S,...oe)[a0_0x299ca5(0x682)])[a0_0x299ca5(0x74b)]('/message',new Ot(...oe)['router'])[a0_0x299ca5(0x74b)](a0_0x299ca5(0x676),new pt(...oe)[a0_0x299ca5(0x682)])[a0_0x299ca5(0x74b)]('/group',new Mt(...oe)[a0_0x299ca5(0x682)])[a0_0x299ca5(0x74b)](a0_0x299ca5(0x816),new Pt(...oe)['router'])['use'](a0_0x299ca5(0x5f2),new Dt(...oe)[a0_0x299ca5(0x682)]);var m=class{constructor(..._0x5d6805){const _0x21cf24=a0_0x299ca5;throw{'status':0x190,'error':_0x21cf24(0x56f),'message':_0x5d6805[_0x21cf24(0x84b)]>0x0?_0x5d6805:void 0x0};}},ae=class{constructor(..._0x4dd435){const _0xe0ac6=a0_0x299ca5;throw{'status':0x191,'error':'Unauthorized','message':_0x4dd435[_0xe0ac6(0x84b)]>0x0?_0x4dd435:void 0x0};}},X=class{constructor(..._0x124d84){const _0x43a7ba=a0_0x299ca5;throw{'status':0x193,'error':_0x43a7ba(0x34a),'message':_0x124d84[_0x43a7ba(0x84b)]>0x0?_0x124d84:void 0x0};}},U=class{constructor(..._0x4e0583){const _0x39a8bb=a0_0x299ca5;throw{'status':0x194,'error':_0x39a8bb(0x4cc),'message':_0x4e0583[_0x39a8bb(0x84b)]>0x0?_0x4e0583:void 0x0};}},x=class{constructor(..._0x2a4980){const _0x5d3178=a0_0x299ca5;throw{'status':0x1f4,'error':_0x5d3178(0x64a),'message':_0x2a4980['length']>0x0?_0x2a4980:void 0x0};}},ye=require(a0_0x299ca5(0x380));async function Ds(_0x456202){const _0xd10b50=a0_0x299ca5;let _0x22708a=new R(Ds['name']),_0x21d52f=T[_0xd10b50(0x446)](),_0x40329a=_0x21d52f['db'](S['get']('DATABASE')[_0xd10b50(0x595)]['DB_PREFIX_NAME']+_0xd10b50(0x347))[_0xd10b50(0x6e6)](_0x456202),_0x313231=async(_0x5a275b,_0x5cc43b)=>{const _0x328d63=_0xd10b50;try{return await _0x21d52f['connect'](),await _0x40329a[_0x328d63(0x256)]({'_id':_0x5cc43b},JSON['parse'](JSON[_0x328d63(0x6ed)](_0x5a275b,ye[_0x328d63(0x36c)][_0x328d63(0x899)])),{'upsert':!0x0});}catch{}},_0xdc81f3=async _0x2981dd=>{const _0x599f88=_0xd10b50;try{await _0x21d52f['connect']();let _0x5d266e=await _0x40329a[_0x599f88(0x151)]({'_id':_0x2981dd}),_0x5c010a=JSON['stringify'](_0x5d266e);return JSON[_0x599f88(0x24f)](_0x5c010a,ye['BufferJSON'][_0x599f88(0x524)]);}catch{}},_0x939d12=async _0x4b6d04=>{const _0x5eeaab=_0xd10b50;try{return await _0x21d52f[_0x5eeaab(0x1a9)](),await _0x40329a[_0x5eeaab(0x441)]({'_id':_0x4b6d04});}catch{}},_0x857967=await _0xdc81f3(_0xd10b50(0x6b8))||(0x0,ye['initAuthCreds'])();return{'state':{'creds':_0x857967,'keys':{'get':async(_0x59234f,_0x50dd02)=>{const _0x2f860c=_0xd10b50;let _0x15f0c0={};return await Promise['all'](_0x50dd02[_0x2f860c(0x3ae)](async _0x31444d=>{const _0x293d21=_0x2f860c;let _0xd34e1b=await _0xdc81f3(_0x59234f+'-'+_0x31444d);_0x59234f===_0x293d21(0x78f)&&_0xd34e1b&&(_0xd34e1b=ye[_0x293d21(0x80d)][_0x293d21(0x7c0)][_0x293d21(0x87f)][_0x293d21(0x2f5)](_0xd34e1b)),_0x15f0c0[_0x31444d]=_0xd34e1b;})),_0x15f0c0;},'set':async _0x267697=>{const _0x9361f2=_0xd10b50;let _0x20783f=[];for(let _0x25596a in _0x267697)for(let _0x57e4df in _0x267697[_0x25596a]){let _0x1ba771=_0x267697[_0x25596a][_0x57e4df],_0x35a8f0=_0x25596a+'-'+_0x57e4df;_0x20783f[_0x9361f2(0x2b6)](_0x1ba771?_0x313231(_0x1ba771,_0x35a8f0):_0x939d12(_0x35a8f0));}await Promise[_0x9361f2(0x7e8)](_0x20783f);}}},'saveCreds':async()=>_0x313231(_0x857967,_0xd10b50(0x6b8))};}var Js=I(require(a0_0x299ca5(0x597))),qs=I(require(a0_0x299ca5(0x5b2))),Ut=require(a0_0x299ca5(0x380)),Ai=require(a0_0x299ca5(0x201)),Ft=require(a0_0x299ca5(0x380)),Lt;function a0_0x49f7(_0x4d4538,_0xeaeac9){const _0x253a19=a0_0x253a();return a0_0x49f7=function(_0x49f77c,_0xaeb48a){_0x49f77c=_0x49f77c-0x122;let _0x1d01f6=_0x253a19[_0x49f77c];return _0x1d01f6;},a0_0x49f7(_0x4d4538,_0xeaeac9);}function Lo(_0x1394bb){const _0x49947a=a0_0x299ca5;return Lt||(Lt=(0x0,Ai[_0x49947a(0x827)])({'url':_0x1394bb[_0x49947a(0x8dc)]}),Lt[_0x49947a(0x1a9)]()),Lt;}var de=class l{constructor(_0x528417,_0x4a053f){const _0x3c3475=a0_0x299ca5;this[_0x3c3475(0x511)]=_0x528417,this['instanceName']=_0x4a053f,this[_0x3c3475(0x31f)]=new R(l[_0x3c3475(0x5d0)]),this['client']=Lo(_0x528417);}set[a0_0x299ca5(0x891)](_0x434bde){this['instanceName']=_0x434bde;}async[a0_0x299ca5(0x23f)](){const _0x3117cb=a0_0x299ca5;try{return await this[_0x3117cb(0x6a1)][_0x3117cb(0x695)]([_0x3117cb(0x791),this[_0x3117cb(0x511)][_0x3117cb(0x6ba)]+':*']);}catch(_0x162cbe){this[_0x3117cb(0x31f)]['error'](_0x162cbe);}}async[a0_0x299ca5(0x3ac)](_0x10c6ac,_0x1cbe65){const _0x2188cf=a0_0x299ca5;try{let _0x3a7d71=JSON['stringify'](_0x1cbe65,Ft[_0x2188cf(0x36c)][_0x2188cf(0x899)]);return await this[_0x2188cf(0x6a1)][_0x2188cf(0x4a8)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x2188cf(0x8b7)],_0x10c6ac,_0x3a7d71);}catch(_0x524144){this[_0x2188cf(0x31f)][_0x2188cf(0x77f)](_0x524144);}}async['getAllData'](){const _0x3b5d73=a0_0x299ca5;try{let _0x5899d1=await this[_0x3b5d73(0x6a1)][_0x3b5d73(0x1ed)](this[_0x3b5d73(0x511)][_0x3b5d73(0x6ba)]+':'+this[_0x3b5d73(0x8b7)]);if(_0x5899d1){for(let _0x3ed64a in _0x5899d1)Object[_0x3b5d73(0x818)]['hasOwnProperty'][_0x3b5d73(0x79f)](_0x5899d1,_0x3ed64a)&&(_0x5899d1[_0x3ed64a]=JSON[_0x3b5d73(0x24f)](_0x5899d1[_0x3ed64a],Ft['BufferJSON'][_0x3b5d73(0x524)]));return _0x5899d1;}}catch(_0x185dd1){this['logger'][_0x3b5d73(0x77f)](_0x185dd1);}}async['readData'](_0x443a1c){const _0x10513c=a0_0x299ca5;try{let _0x4e0852=await this[_0x10513c(0x6a1)][_0x10513c(0x7f4)](this['redisEnv'][_0x10513c(0x6ba)]+':'+this['instanceName'],_0x443a1c);if(_0x4e0852)return JSON[_0x10513c(0x24f)](_0x4e0852,Ft['BufferJSON']['reviver']);}catch(_0x59f4b9){this['logger']['error'](_0x59f4b9);}}async[a0_0x299ca5(0x1eb)](_0x520975){const _0x2ca56a=a0_0x299ca5;try{return await this['client'][_0x2ca56a(0x5ad)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x2ca56a(0x8b7)],_0x520975);}catch(_0x990905){this[_0x2ca56a(0x31f)]['error'](_0x990905);}}async['delAll'](_0x18bc33){const _0x4821f4=a0_0x299ca5;try{return await this['client'][_0x4821f4(0x2a7)](_0x18bc33||this[_0x4821f4(0x511)][_0x4821f4(0x6ba)]+':'+this[_0x4821f4(0x8b7)]);}catch(_0x29c37e){this[_0x4821f4(0x31f)][_0x4821f4(0x77f)](_0x29c37e);}}};async function ks(_0x534c47,_0x4b78fb){const _0x51ae47=a0_0x299ca5;let _0x12bf8a=new R(ks[_0x51ae47(0x5d0)]),_0x2c85eb=new de(_0x534c47,_0x4b78fb),_0xeae164=async(_0x29f247,_0x92dc9)=>{const _0x1c94ec=_0x51ae47;try{return await _0x2c85eb[_0x1c94ec(0x3ac)](_0x92dc9,_0x29f247);}catch(_0x13a3fb){return _0x12bf8a[_0x1c94ec(0x77f)]({'localError':_0x1c94ec(0x3ac),'error':_0x13a3fb});}},_0x2eca19=async _0x1ee6f9=>{const _0x3631e4=_0x51ae47;try{return await _0x2c85eb[_0x3631e4(0x46f)](_0x1ee6f9);}catch(_0x18dc8d){_0x12bf8a['error']({'readData':_0x3631e4(0x3ac),'error':_0x18dc8d});return;}},_0x4c50b0=async _0x3be8e2=>{const _0x523d24=_0x51ae47;try{return await _0x2c85eb[_0x523d24(0x1eb)](_0x3be8e2);}catch(_0x49a499){_0x12bf8a[_0x523d24(0x77f)]({'readData':_0x523d24(0x1eb),'error':_0x49a499});}},_0x5ab839=await _0x2eca19('creds')||(0x0,Ut[_0x51ae47(0x449)])();return{'state':{'creds':_0x5ab839,'keys':{'get':async(_0x2f5ece,_0x27c76a)=>{const _0x22aaa4=_0x51ae47;let _0x2c30a2={};return await Promise[_0x22aaa4(0x7e8)](_0x27c76a[_0x22aaa4(0x3ae)](async _0x21284b=>{const _0x42a239=_0x22aaa4;let _0x53d3d0=await _0x2eca19(_0x2f5ece+'-'+_0x21284b);_0x2f5ece===_0x42a239(0x78f)&&_0x53d3d0&&(_0x53d3d0=Ut[_0x42a239(0x80d)][_0x42a239(0x7c0)][_0x42a239(0x87f)]['fromObject'](_0x53d3d0)),_0x2c30a2[_0x21284b]=_0x53d3d0;})),_0x2c30a2;},'set':async _0x4efedb=>{const _0x108ac3=_0x51ae47;let _0x37c1b0=[];for(let _0x24e6c6 in _0x4efedb)for(let _0x42062e in _0x4efedb[_0x24e6c6]){let _0x113537=_0x4efedb[_0x24e6c6][_0x42062e],_0x57330a=_0x24e6c6+'-'+_0x42062e;_0x37c1b0[_0x108ac3(0x2b6)](_0x113537?await _0xeae164(_0x113537,_0x57330a):await _0x4c50b0(_0x57330a));}await Promise['all'](_0x37c1b0);}}},'saveCreds':async()=>await _0xeae164(_0x5ab839,_0x51ae47(0x6b8))};}var k=I(require('fs')),Q=require(a0_0x299ca5(0x43c)),qt=I(require(a0_0x299ca5(0x59d))),re=require(a0_0x299ca5(0x25e)),Ti=require(a0_0x299ca5(0x475)),Ii=require(a0_0x299ca5(0x224)),_i=I(require('axios')),$e=class extends O{constructor(_0xa7a635,_0x36435b,_0x4523e6){const _0x2e1378=a0_0x299ca5;super(_0x36435b),this[_0x2e1378(0x6d2)]=_0xa7a635,this['configService']=_0x36435b,this[_0x2e1378(0x5cb)]=_0x4523e6;}async[a0_0x299ca5(0x2e7)](_0x4e3497,_0x41d9bf){const _0xd754d4=a0_0x299ca5;try{if(this[_0xd754d4(0x136)][_0xd754d4(0x5d5)]){console[_0xd754d4(0x666)](_0xd754d4(0x320)+_0x41d9bf+_0xd754d4(0x89b),_0x4e3497);let _0x2afa04=await this[_0xd754d4(0x6d2)][_0xd754d4(0x318)]({'_id':_0x41d9bf},{'$set':_0x4e3497},{'new':!0x0,'upsert':!0x0});return console['log']('Database\x20update\x20result:',_0x2afa04),_0x2afa04;}}catch(_0x17c604){throw console[_0xd754d4(0x77f)](_0xd754d4(0x646),_0x17c604),_0x17c604;}return null;}async[a0_0x299ca5(0x441)](_0x2a9285){const _0x2ae59c=a0_0x299ca5;try{let _0x5c8d78=A(_0x2a9285[_0x2ae59c(0x23b)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x2ae59c(0x441)](_0x5c8d78))['deletedCount']};}catch(_0x30da5e){return{'error':_0x30da5e?.['toString']()};}}async[a0_0x299ca5(0x151)](_0x3ec91d){const _0x375330=a0_0x299ca5;try{let _0x204293=A(_0x3ec91d[_0x375330(0x23b)]);return await this[_0x375330(0x6d2)][_0x375330(0x151)](_0x204293)[_0x375330(0x7a3)]();}catch{return null;}}},Re=(0x0,Ii[a0_0x299ca5(0x125)])(Ti[a0_0x299ca5(0x590)]),Ls=0x1f4,Fo=S[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x769)),Fs=class{constructor(){const _0x35f1e6=a0_0x299ca5;this[_0x35f1e6(0x2ce)]=new $e(Ke,S),(!this[_0x35f1e6(0x46e)]||!this[_0x35f1e6(0x4ac)])&&Fo&&this[_0x35f1e6(0x431)]()[_0x35f1e6(0x85e)](async()=>{const _0x35d837=_0x35f1e6;console['log'](_0x35d837(0x4ef)+this['ipv6Prefix']),console[_0x35d837(0x666)](_0x35d837(0x57f)+this[_0x35d837(0x4ac)]),await this[_0x35d837(0x1f8)]();let _0x1eefee=await this[_0x35d837(0x64b)]();console[_0x35d837(0x666)](_0x35d837(0x241)+_0x1eefee);})[_0x35f1e6(0x77c)](_0x23713c=>{const _0x4a2510=_0x35f1e6;console[_0x4a2510(0x77f)](_0x4a2510(0x7bd)+_0x23713c[_0x4a2510(0x503)]);});}async['cleanupExcessiveIPs'](){const _0x646afb=a0_0x299ca5;let _0x572d8f=await this[_0x646afb(0x5e4)]();if(console[_0x646afb(0x666)](_0x646afb(0x56c)+_0x572d8f[_0x646afb(0x84b)]),_0x572d8f[_0x646afb(0x84b)]>Ls){let _0x2d0a8d=_0x572d8f['slice'](Ls);for(let _0xa3452f of _0x2d0a8d)console[_0x646afb(0x666)](_0x646afb(0x2df)+_0xa3452f),await this[_0x646afb(0x4b5)](_0xa3452f);console[_0x646afb(0x666)](_0x646afb(0x6ac)+_0x2d0a8d[_0x646afb(0x84b)]+_0x646afb(0x28d));}else console['log']('No\x20excess\x20IPv6\x20addresses\x20to\x20remove.');}async['listIPv6Addresses'](){const _0x17b60b=a0_0x299ca5;try{let {stdout:_0x272cf0}=await Re(_0x17b60b(0x4f5));return _0x272cf0[_0x17b60b(0x5ca)]('\x0a')[_0x17b60b(0x67c)](_0x274f99=>_0x274f99['includes'](_0x17b60b(0x80b))&&_0x274f99[_0x17b60b(0x457)](_0x17b60b(0x82c)))[_0x17b60b(0x3ae)](_0x4c4f14=>_0x4c4f14['match'](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x17b60b(0x67c)](Boolean);}catch(_0x45c59d){return console[_0x17b60b(0x77f)]('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x45c59d[_0x17b60b(0x503)]),[];}}async[a0_0x299ca5(0x64b)](){const _0x2685a3=a0_0x299ca5;try{let {stdout:_0x134e00}=await Re(_0x2685a3(0x5b9)),_0x54a9fd=parseInt(_0x134e00[_0x2685a3(0x3a7)](),0xa);return console[_0x2685a3(0x666)](_0x2685a3(0x280)+_0x54a9fd),_0x54a9fd;}catch(_0x4b1ebc){return console['error']('Error\x20fetching\x20IPv6\x20count:\x20'+_0x4b1ebc[_0x2685a3(0x503)]),0x0;}}async[a0_0x299ca5(0x4b5)](_0x42852f){const _0x183f69=a0_0x299ca5;try{await Re(_0x183f69(0x2f4)+_0x42852f+_0x183f69(0x4ca)+this['networkInterface']),console[_0x183f69(0x666)]('IPv6\x20address\x20removed:\x20'+_0x42852f);}catch(_0xb551a8){console[_0x183f69(0x77f)](_0x183f69(0x6f2)+_0xb551a8[_0x183f69(0x503)]);}}async[a0_0x299ca5(0x431)](){const _0x5d93b3=a0_0x299ca5;try{let {stdout:_0x585ef4}=await Re(_0x5d93b3(0x221));console['log'](_0x5d93b3(0x266)+_0x585ef4);let _0x424885=_0x585ef4[_0x5d93b3(0x5ca)]('\x0a')[_0x5d93b3(0x3ae)](_0x5a8e62=>_0x5a8e62[_0x5d93b3(0x5ca)]('\x20')[0x0])['filter'](_0x493981=>!_0x493981['includes']('lo')&&!_0x493981[_0x5d93b3(0x457)](_0x5d93b3(0x483))&&!_0x493981['includes']('vir')&&!_0x493981[_0x5d93b3(0x457)]('wl')&&!_0x493981[_0x5d93b3(0x457)]('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0x424885),_0x424885['length']===0x0)throw new Error(_0x5d93b3(0x1e0));this['networkInterface']=_0x424885[0x0];let {stdout:_0x2d7ccd}=await Re('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x5d93b3(0x4ac)]);console[_0x5d93b3(0x666)](_0x5d93b3(0x5ff)+_0x2d7ccd);let _0x58de44=_0x2d7ccd[_0x5d93b3(0x5ca)]('\x0a')[_0x5d93b3(0x2b7)](_0x3cf86b=>_0x3cf86b[_0x5d93b3(0x457)]('inet6')&&_0x3cf86b[_0x5d93b3(0x457)](_0x5d93b3(0x82c)));if(!_0x58de44)throw new Error(_0x5d93b3(0x8ea));let _0x38c031=_0x58de44[_0x5d93b3(0x5ba)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x38c031)throw new Error(_0x5d93b3(0x1e5));let [_0x390d7a,_0x3e0976,_0xbf0797]=_0x38c031,_0x1487da=Math['floor'](Number(_0xbf0797)/0x10),_0x19c7a8=Number(_0xbf0797)%0x10,_0x1553f5=_0x3e0976[_0x5d93b3(0x5ca)](':')[_0x5d93b3(0x82e)](0x0,_0x1487da)[_0x5d93b3(0x35d)](':');if(_0x19c7a8>0x0){let _0x1be4fe=_0x3e0976[_0x5d93b3(0x5ca)](':')[_0x1487da],_0x3f28a3=0xffff<<0x10-_0x19c7a8&0xffff,_0x1392f8=(parseInt(_0x1be4fe,0x10)&_0x3f28a3)['toString'](0x10)[_0x5d93b3(0x1a0)](0x4,'0');_0x1553f5+=':'+_0x1392f8;}this[_0x5d93b3(0x46e)]=_0x1553f5+':';}catch(_0x3558d9){console[_0x5d93b3(0x77f)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x3558d9);}}async[a0_0x299ca5(0x122)](_0x52aa78){const _0x5bc23b=a0_0x299ca5;let _0x4764aa=_0x5bc23b(0x535)+_0x52aa78+_0x5bc23b(0x4ca)+this[_0x5bc23b(0x4ac)];try{await Re(_0x4764aa),console[_0x5bc23b(0x666)](_0x5bc23b(0x7b3)+_0x52aa78);}catch(_0x303772){console['error'](_0x5bc23b(0x603)+_0x303772);}}[a0_0x299ca5(0x8e2)](){const _0x3852c4=a0_0x299ca5;return _0x3852c4(0x699)[_0x3852c4(0x35f)](/X/g,()=>_0x3852c4(0x3af)[_0x3852c4(0x25d)](Math[_0x3852c4(0x71d)](Math['random']()*0x10)));}[a0_0x299ca5(0x40c)](_0xc88dc7,_0x4ec5b3){const _0x91f83b=a0_0x299ca5;let _0x44a434=_0x4ec5b3[_0x91f83b(0x5ca)](':');return _0x44a434[0x0]=(parseInt(_0x44a434[0x0],0x10)^0x2)[_0x91f83b(0x5a7)](0x10)[_0x91f83b(0x1a0)](0x2,'0'),''+_0xc88dc7+_0x44a434[0x0]+_0x44a434[0x1]+':'+_0x44a434[0x2]+_0x91f83b(0x3bf)+_0x44a434[0x3]+':'+_0x44a434[0x4]+_0x44a434[0x5];}[a0_0x299ca5(0x7ce)](){const _0x52b7cd=a0_0x299ca5;let _0x174bf4=this[_0x52b7cd(0x46e)];_0x174bf4[_0x52b7cd(0x4d5)](':')||(_0x174bf4+=':');let _0x3f1464=this[_0x52b7cd(0x8e2)]();return this[_0x52b7cd(0x40c)](_0x174bf4,_0x3f1464);}[a0_0x299ca5(0x1b5)](_0x37fdac){return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')['test'](_0x37fdac);}async[a0_0x299ca5(0x34d)](_0x3b5ff0){const _0x6df1eb=a0_0x299ca5;let _0x56d600=[{'url':_0x6df1eb(0x3b8),'parse':_0x394523=>_0x394523['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x39842a=>_0x39842a['ip']},{'url':_0x6df1eb(0x7c1),'parse':_0x1a2bd7=>_0x1a2bd7[_0x6df1eb(0x3a7)]()},{'url':_0x6df1eb(0x671),'parse':_0x50fd4c=>_0x50fd4c[_0x6df1eb(0x3a7)]()}],_0xf1242a=_0x56d600[Math[_0x6df1eb(0x71d)](Math[_0x6df1eb(0x6e2)]()*_0x56d600[_0x6df1eb(0x84b)])];try{let _0x4b7c02=await _i[_0x6df1eb(0x222)][_0x6df1eb(0x2ed)](_0xf1242a[_0x6df1eb(0x4bc)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x3b5ff0}}),_0x5025fc=_0xf1242a['parse'](_0x4b7c02[_0x6df1eb(0x2fb)]);return _0x5025fc[_0x6df1eb(0x484)]()===_0x3b5ff0[_0x6df1eb(0x484)]()?(console[_0x6df1eb(0x666)](_0x6df1eb(0x71b)+_0x3b5ff0),!0x0):(console[_0x6df1eb(0x77f)](_0x6df1eb(0x513)+_0x3b5ff0+_0x6df1eb(0x406)+_0x5025fc),!0x1);}catch(_0x3ab7d7){return console['error'](_0x6df1eb(0x626)+_0xf1242a[_0x6df1eb(0x4bc)]+':\x20'+_0x3ab7d7[_0x6df1eb(0x503)]),!0x1;}}async[a0_0x299ca5(0x866)](_0x2c8562,_0x3bed74){const _0x1256a4=a0_0x299ca5;if(!this[_0x1256a4(0x46e)]||!this[_0x1256a4(0x4ac)])return console['error']('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x19f4c8=await this['listIPv6Addresses']();if(_0x19f4c8[_0x1256a4(0x84b)]>=Ls){let _0x422258=_0x19f4c8[Math[_0x1256a4(0x71d)](Math[_0x1256a4(0x6e2)]()*_0x19f4c8['length'])];return console['log']('Reusing\x20existing\x20IPv6:\x20'+_0x422258),_0x422258;}let _0x43466b;do _0x43466b=this[_0x1256a4(0x7ce)](),console[_0x1256a4(0x666)]('Generated\x20IPv6:\x20'+_0x43466b);while(!this['isValidIPv6Config'](_0x43466b));await this[_0x1256a4(0x122)](_0x43466b),console[_0x1256a4(0x666)]('Configured\x20new\x20IPv6:\x20'+_0x43466b);let _0x26b079={'_id':_0x2c8562+'-'+_0x3bed74,'ip':_0x43466b},_0x4a4917=await this['cacheInstanceRepository'][_0x1256a4(0x2e7)](_0x26b079,_0x26b079[_0x1256a4(0x898)]);return console['log'](_0x1256a4(0x5b1)+_0x4a4917),_0x43466b;}},Uo=new Fs(),je=Uo,Oi=_0x58006f=>{const _0x5437f9=a0_0x299ca5;if(!_0x58006f)return!0x1;let _0x3999c0=(0x0,w['jidDecode'])(_0x58006f)?.[_0x5437f9(0x5f3)]??_0x58006f[_0x5437f9(0x5ca)]('@')[0x1];return _0x3999c0?new Set([_0x5437f9(0x6ad),_0x5437f9(0x148),_0x5437f9(0x2fa),_0x5437f9(0x250),'hosted.lid'])[_0x5437f9(0x594)](_0x3999c0):!0x1;},Vs=a0_0x299ca5(0x23e),Ui,pe=null,Fa=null,jo=0x3,Jo=null,xi=S[a0_0x299ca5(0x2ed)](a0_0x299ca5(0x6ea))[a0_0x299ca5(0x6d7)][a0_0x299ca5(0x8e6)],Pi=S['get'](a0_0x299ca5(0x769));async function qo(){const _0x176694=a0_0x299ca5;let _0x22049e=await Ne[_0x176694(0x151)]();pe=_0x22049e?.[_0x176694(0x8d5)]??null,Jo=_0x22049e?.[_0x176694(0x2fc)]??null,Vs=_0x22049e?.[_0x176694(0x77e)]??_0x176694(0x23e),Ui=_0x22049e?.['connectedName']??ge??_0x176694(0x194);}async function Vo(){await qo();}Vo();var jt={},Ae=class l{constructor(_0x18e7f2,_0x28753c,_0xacd8a3){const _0x3b1bfd=a0_0x299ca5;this['configService']=_0x18e7f2,this['eventEmitter']=_0x28753c,this[_0x3b1bfd(0x7d6)]=_0xacd8a3,this['processedMessagesCache']={},this[_0x3b1bfd(0x42c)]=null,this['logger']=new R(l[_0x3b1bfd(0x5d0)]),this[_0x3b1bfd(0x4dd)]={},this['localWebhook']={},this[_0x3b1bfd(0x444)]={'state':_0x3b1bfd(0x7f7)},this[_0x3b1bfd(0x480)]=(0x0,j[_0x3b1bfd(0x35d)])(ce,'downloads'),this[_0x3b1bfd(0x5fc)]=new qs['default'](),this['userDevicesCache']=new qs[(_0x3b1bfd(0x222))](),this[_0x3b1bfd(0x780)]=!0x1,this[_0x3b1bfd(0x322)]={'status.instance':'/wa-connection-update','connection.update':_0x3b1bfd(0x601),'qrcode.updated':_0x3b1bfd(0x5af),'messages.upsert':'/wa-message','send.message':_0x3b1bfd(0x59e),'messages.update':_0x3b1bfd(0x1ce),'group.upsert':_0x3b1bfd(0x146),'group.update':_0x3b1bfd(0x146),'group-participants.update':_0x3b1bfd(0x146),'messages.set':_0x3b1bfd(0x6f7),'contacts.set':_0x3b1bfd(0x50c),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x3b1bfd(0x4de),'chats.set':_0x3b1bfd(0x690),'chats.update':'/wa-chats','chats.upsert':_0x3b1bfd(0x690),'chats.delete':_0x3b1bfd(0x690)},this[_0x3b1bfd(0x3d7)]=0x0,this[_0x3b1bfd(0x527)]=[],this[_0x3b1bfd(0x2e6)]=0xea60,this[_0x3b1bfd(0x740)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x33608d,_0x2056d1)=>{const _0x5e9095=_0x3b1bfd;let _0x818024=[];for await(let _0x455d15 of _0x33608d)_0x818024[_0x5e9095(0x2b6)]({'_id':_0x455d15['id'],'owner':this['instance'][_0x5e9095(0x851)],'group':_0x455d15['id'][_0x5e9095(0x4d5)](_0x5e9095(0x1ba)),'name':_0x455d15['name']||_0x455d15['displayName']||null,'contactname':null,'lastmsg':_0x455d15[_0x5e9095(0x38a)]&&_0x455d15['conversationTimestamp'][_0x5e9095(0x5a7)]()['length']<0xd?_0x455d15[_0x5e9095(0x38a)]*0x3e8:_0x455d15['conversationTimestamp']||null,'archived':_0x455d15[_0x5e9095(0x4a2)]||!0x1,'unreadcount':_0x455d15[_0x5e9095(0x54b)]||0x0,'ephemeralExpiration':_0x455d15[_0x5e9095(0x1a7)]||0x0});this[_0x5e9095(0x7f3)]('chats.upsert',_0x818024);},'chats.update':async(_0x4357e3,_0x2d8b2d)=>{const _0x4a8e2b=_0x3b1bfd;for(let _0x468b3f of _0x4357e3){let _0x4b510c={'_id':_0x468b3f['id'],'owner':this[_0x4a8e2b(0x4dd)]['wuid'],'archived':_0x468b3f[_0x4a8e2b(0x4a2)],'muteEndTime':_0x468b3f[_0x4a8e2b(0x555)],'ephemeralExpiration':_0x468b3f[_0x4a8e2b(0x1a7)]},_0x550708=!0x1,_0x11f613={};_0x4b510c['archived']!=null&&(this[_0x4a8e2b(0x31f)][_0x4a8e2b(0x8bd)](this[_0x4a8e2b(0x8b7)]+'\x20('+this[_0x4a8e2b(0x4dd)][_0x4a8e2b(0x851)]+_0x4a8e2b(0x30e)+_0x468b3f['id']+_0x4a8e2b(0x853)+_0x468b3f['archived']),_0x550708=!0x0,_0x11f613[_0x4a8e2b(0x4a2)]=_0x468b3f['archived']),'muteEndTime'in _0x468b3f&&(this['logger'][_0x4a8e2b(0x8bd)](this[_0x4a8e2b(0x8b7)]+'\x20('+this[_0x4a8e2b(0x4dd)][_0x4a8e2b(0x851)]+_0x4a8e2b(0x13d)+_0x468b3f['id']+'\x20:\x20'+(_0x468b3f[_0x4a8e2b(0x555)]??'0')),_0x550708=!0x0,_0x11f613['muteEndTime']=_0x468b3f[_0x4a8e2b(0x555)]??0x0),_0x4a8e2b(0x1a7)in _0x468b3f&&(this['logger'][_0x4a8e2b(0x8bd)](this[_0x4a8e2b(0x8b7)]+'\x20('+this['instance']['wuid']+_0x4a8e2b(0x581)+_0x468b3f['id']+_0x4a8e2b(0x853)+(_0x468b3f[_0x4a8e2b(0x1a7)]!==void 0x0?_0x468b3f[_0x4a8e2b(0x1a7)]:'undefined')),_0x11f613[_0x4a8e2b(0x1a7)]=_0x468b3f[_0x4a8e2b(0x1a7)]===null?0x0:_0x468b3f[_0x4a8e2b(0x1a7)],_0x550708=!0x0);let _0x452919;_0x550708&&(_0x452919=await this['repository']['chat']['updateOne']({'where':{'_id':_0x468b3f['id']}},_0x11f613,this['instance'][_0x4a8e2b(0x851)])),_0x452919&&F(this['instanceName'],_0x4a8e2b(0x4aa),{'chat':_0x452919});}},'chats.delete':async _0x4d5121=>{const _0x575873=_0x3b1bfd;for(let _0x210437 of _0x4d5121)if(_0x210437['endsWith']('@g.us')){await this[_0x575873(0x7d6)][_0x575873(0x76d)][_0x575873(0x3be)]({'where':{'_id':_0x210437}},this[_0x575873(0x4dd)]['wuid']);let _0x330234={'where':{'key':{'remoteJid':_0x210437}}};await this[_0x575873(0x7d6)]['message']['delete'](_0x330234,this['instance'][_0x575873(0x851)]);}else{await this[_0x575873(0x7d6)][_0x575873(0x76d)][_0x575873(0x3ff)]({'where':{'_id':_0x210437}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x575873(0x4dd)][_0x575873(0x851)]);let _0x4c34de={'where':{'key':{'remoteJid':_0x210437}}};await this[_0x575873(0x7d6)][_0x575873(0x503)][_0x575873(0x3be)](_0x4c34de,this[_0x575873(0x4dd)][_0x575873(0x851)]);}this[_0x575873(0x7f3)](_0x575873(0x55e),[..._0x4d5121]);}},this[_0x3b1bfd(0x1fc)]={'contacts.upsert':async(_0x5d14ba,_0x1b762f)=>{const _0x482018=_0x3b1bfd;let _0x1dcbc9=await this[_0x482018(0x7d6)][_0x482018(0x7a4)][_0x482018(0x2b7)]({'where':{}},this[_0x482018(0x4dd)][_0x482018(0x851)]),_0xd41240=[];for await(let _0x502618 of _0x5d14ba)_0x1dcbc9[_0x482018(0x2b7)](_0x2673b9=>_0x2673b9[_0x482018(0x898)]===_0x502618['id'])||_0xd41240['push']({'_id':_0x502618['id'],'pushName':_0x502618?.[_0x482018(0x5d0)]||_0x502618?.[_0x482018(0x2cf)],'owner':this['instance'][_0x482018(0x851)]});this[_0x482018(0x7f3)](_0x482018(0x128),_0xd41240),await this['repository']['contact'][_0x482018(0x5d1)](_0xd41240);},'contacts.update':async(_0x5a0947,_0x241567)=>{const _0x1b5c1e=_0x3b1bfd;let _0xf3e4b3=[];for await(let _0x1f9389 of _0x5a0947)_0xf3e4b3[_0x1b5c1e(0x2b6)]({'_id':_0x1f9389['id'],'pushName':_0x1f9389?.[_0x1b5c1e(0x5d0)]??_0x1f9389?.[_0x1b5c1e(0x2cf)],'owner':this['instance'][_0x1b5c1e(0x851)]});this[_0x1b5c1e(0x7f3)](_0x1b5c1e(0x6d4),_0xf3e4b3);}},this[_0x3b1bfd(0x22d)]={'messaging-history.set':async({messages:_0x1e66fc,chats:_0x58bdc4,isLatest:_0x4eaaab},_0x31dfa2)=>{const _0x7f077f=_0x3b1bfd;if(_0x4eaaab){setTimeout(()=>{const _0x290daf=a0_0x49f7;this[_0x290daf(0x4dd)][_0x290daf(0x6c7)]=!0x0,console['log'](_0x290daf(0x435));},0x1d4c0);let _0x54163b=await Promise[_0x7f077f(0x7e8)](_0x58bdc4[_0x7f077f(0x3ae)](async _0x78d108=>({'_id':_0x78d108['id'],'owner':this['instance'][_0x7f077f(0x851)],'group':_0x78d108['id']['endsWith'](_0x7f077f(0x1ba)),'name':_0x78d108[_0x7f077f(0x5d0)]||_0x78d108['displayName']||_0x78d108['username']||null,'contactname':null,'lastmsg':_0x78d108['conversationTimestamp']&&_0x78d108[_0x7f077f(0x38a)][_0x7f077f(0x5a7)]()['length']<0xd?_0x78d108[_0x7f077f(0x38a)]*0x3e8:_0x78d108[_0x7f077f(0x38a)]||null,'archived':_0x78d108[_0x7f077f(0x4a2)]||!0x1,'unreadcount':_0x78d108[_0x7f077f(0x54b)]||0x0,'ephemeralExpiration':_0x78d108['ephemeralExpiration']||0x0,'muteEndTime':_0x78d108[_0x7f077f(0x555)]||0x0})));this['sendDataWebhook'](_0x7f077f(0x602),_0x54163b),await this['upsertChats'](_0x54163b,_0x31dfa2);}let _0x10b300=[],_0x1e13f6=Date[_0x7f077f(0x1f1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x8636f2]of Object['entries'](_0x1e66fc)){if(_0x8636f2[_0x7f077f(0x503)]?.[_0x7f077f(0x56b)]||_0x8636f2['message']?.[_0x7f077f(0x2c8)]||!_0x8636f2[_0x7f077f(0x503)]||_0x8636f2[_0x7f077f(0x143)][_0x7f077f(0x530)]===_0x7f077f(0x641)||(Js['default'][_0x7f077f(0x267)](_0x8636f2?.['messageTimestamp'])&&(_0x8636f2['messageTimestamp']=_0x8636f2[_0x7f077f(0x5c7)]?.[_0x7f077f(0x502)]()),_0x8636f2[_0x7f077f(0x5c7)]&&_0x8636f2[_0x7f077f(0x5c7)][_0x7f077f(0x5a7)]()['length']<0xd&&(_0x8636f2['messageTimestamp']=_0x8636f2[_0x7f077f(0x5c7)]*0x3e8),_0x8636f2[_0x7f077f(0x5c7)]<_0x1e13f6))continue;let _0x2baede=(0x0,w[_0x7f077f(0x847)])(_0x8636f2[_0x7f077f(0x503)]),_0x1c9ad1=(0x0,w['getContentType'])(_0x2baede),{message_normalized:_0x1a5190}=this[_0x7f077f(0x47b)](_0x2baede,_0x1c9ad1,null);Object['keys'](_0x1a5190)[_0x7f077f(0x84b)]>0x0&&_0x10b300[_0x7f077f(0x2b6)]({'_id':_0x8636f2[_0x7f077f(0x143)]['id'],'key':_0x8636f2[_0x7f077f(0x143)],'pushName':_0x8636f2[_0x7f077f(0x1fe)],'participant':_0x8636f2[_0x7f077f(0x2e9)],'message':_0x2baede,'messageType':_0x1c9ad1,'message_normalized':{'key':_0x8636f2[_0x7f077f(0x143)],'pushName':_0x8636f2[_0x7f077f(0x1fe)],'messageTimestamp':_0x8636f2[_0x7f077f(0x5c7)],..._0x1a5190},'messageTimestamp':_0x8636f2[_0x7f077f(0x5c7)],'owner':this[_0x7f077f(0x4dd)][_0x7f077f(0x851)]});}_0x31dfa2['ENABLED']&&_0x10b300[_0x7f077f(0x84b)]>0x0&&(this[_0x7f077f(0x31f)]['verbose'](this[_0x7f077f(0x8b7)]+'\x20('+this['instance'][_0x7f077f(0x851)]+_0x7f077f(0x215)+_0x10b300[_0x7f077f(0x84b)]+_0x7f077f(0x3b3)+this[_0x7f077f(0x4dd)][_0x7f077f(0x851)]+_0x7f077f(0x49a)),await this[_0x7f077f(0x7d6)][_0x7f077f(0x503)]['insert']([..._0x10b300],this[_0x7f077f(0x4dd)][_0x7f077f(0x851)]));let _0x2436f7=Date[_0x7f077f(0x1f1)]()-0xa*0x3c*0x3e8;for(let _0x38b8e2 of _0x10b300)if(this[_0x7f077f(0x4dd)][_0x7f077f(0x6c7)]&&_0x38b8e2['messageTimestamp']>=_0x2436f7){if(this[_0x7f077f(0x838)](this[_0x7f077f(0x4dd)][_0x7f077f(0x851)],_0x38b8e2[_0x7f077f(0x898)])){this[_0x7f077f(0x31f)][_0x7f077f(0x8bd)](this[_0x7f077f(0x8b7)]+'\x20('+this[_0x7f077f(0x4dd)][_0x7f077f(0x851)]+_0x7f077f(0x166)+_0x38b8e2[_0x7f077f(0x898)]+')');continue;}this[_0x7f077f(0x79c)](this[_0x7f077f(0x4dd)][_0x7f077f(0x851)],_0x38b8e2[_0x7f077f(0x898)]),this['sendDataWebhook'](_0x7f077f(0x184),_0x38b8e2);}else this[_0x7f077f(0x7f3)](_0x7f077f(0x4c6),_0x38b8e2);_0x1e66fc=void 0x0;},'messages.upsert':async({messages:_0x40da3f,type:_0x5d5020},_0x54d20e)=>{const _0x1f0754=_0x3b1bfd;for(let _0x49b94d of _0x40da3f){if(this[_0x1f0754(0x1b7)]?.[_0x1f0754(0x3c6)]&&_0x49b94d[_0x1f0754(0x143)][_0x1f0754(0x530)][_0x1f0754(0x457)]('@g.us')){this[_0x1f0754(0x31f)][_0x1f0754(0x8bd)](this[_0x1f0754(0x8b7)]+'\x20('+this[_0x1f0754(0x4dd)][_0x1f0754(0x851)]+_0x1f0754(0x22b));continue;}if(_0x49b94d['key'][_0x1f0754(0x530)][_0x1f0754(0x457)]('@newsletter')||_0x49b94d['key'][_0x1f0754(0x530)]==='status@broadcast')continue;if(_0x49b94d[_0x1f0754(0x1c9)]&&_0x49b94d[_0x1f0754(0x1c9)][0x0]===_0x1f0754(0x6b3)){console[_0x1f0754(0x77f)](_0x1f0754(0x6d0)),await this[_0x1f0754(0x2bc)](_0x49b94d),jt[_0x49b94d[_0x1f0754(0x143)]['id']]=_0x49b94d,this[_0x1f0754(0x38b)](_0x49b94d,0x0);continue;}if(_0x5d5020!==_0x1f0754(0x5c3)||!_0x49b94d?.[_0x1f0754(0x503)]||_0x49b94d[_0x1f0754(0x503)]?.[_0x1f0754(0x56b)]||_0x49b94d[_0x1f0754(0x503)]?.[_0x1f0754(0x2c8)])continue;let _0x1043e1=null,_0xf11ce2=null;if(jt[_0x49b94d[_0x1f0754(0x143)]['id']]&&(console['error']('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),await this['repository']['messageLogs']['delete']({'where':{'_id':_0x49b94d[_0x1f0754(0x143)]['id']}}),delete jt[_0x49b94d[_0x1f0754(0x143)]['id']]),this['isMessageProcessed'](this[_0x1f0754(0x4dd)][_0x1f0754(0x851)],_0x49b94d[_0x1f0754(0x143)]['id'])){this[_0x1f0754(0x31f)][_0x1f0754(0x8bd)](this[_0x1f0754(0x8b7)]+'\x20('+this['instance'][_0x1f0754(0x851)]+'):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada');continue;}this[_0x1f0754(0x79c)](this[_0x1f0754(0x4dd)][_0x1f0754(0x851)],_0x49b94d[_0x1f0754(0x143)]['id']);try{_0x1043e1=await this[_0x1f0754(0x5ef)](_0x49b94d),_0xf11ce2=_0x1043e1?_0x1043e1[_0x1f0754(0x35d)](','):null;}catch(_0xf4904e){this[_0x1f0754(0x31f)]['verbose'](this[_0x1f0754(0x8b7)]+'\x20('+this[_0x1f0754(0x4dd)][_0x1f0754(0x851)]+_0x1f0754(0x215)+(_0xf4904e instanceof Error?_0xf4904e[_0x1f0754(0x503)]:JSON['stringify'](_0xf4904e,null,0x2))),_0xf11ce2=_0x1f0754(0x142);}this['client'][_0x1f0754(0x4f7)](_0x1f0754(0x4b9)),Js['default'][_0x1f0754(0x267)](_0x49b94d['messageTimestamp'])&&(_0x49b94d['messageTimestamp']=_0x49b94d['messageTimestamp']?.[_0x1f0754(0x502)]()),_0x49b94d[_0x1f0754(0x5c7)]&&_0x49b94d[_0x1f0754(0x5c7)][_0x1f0754(0x5a7)]()[_0x1f0754(0x84b)]<0xd&&(_0x49b94d[_0x1f0754(0x5c7)]=_0x49b94d[_0x1f0754(0x5c7)]*0x3e8);let _0x31c5e7=_0x49b94d['message'],_0x5dbe63=(0x0,w[_0x1f0754(0x847)])(_0x31c5e7),_0x2b8132=(0x0,w[_0x1f0754(0x1da)])(_0x5dbe63),{messageContent:_0x4093cf,message_normalized:_0x1594da}=this[_0x1f0754(0x47b)](_0x5dbe63,_0x2b8132,_0xf11ce2);if(_0x2b8132===_0x1f0754(0x56b)&&_0x4093cf?.[_0x1f0754(0x20e)]&&(_0x2b8132=_0x1f0754(0x20e)),_0x2b8132===_0x1f0754(0x495)&&_0x49b94d[_0x1f0754(0x143)][_0x1f0754(0x8c9)])continue;let _0x227755,_0x469ba5=_0x49b94d[_0x1f0754(0x143)]['remoteJid']['endsWith']('@g.us');if(_0x49b94d[_0x1f0754(0x143)][_0x1f0754(0x8c9)])_0x227755=this[_0x1f0754(0x4dd)][_0x1f0754(0x28e)];else{let _0x527570=_0x469ba5?_0x49b94d[_0x1f0754(0x143)][_0x1f0754(0x2e9)]:_0x49b94d['key'][_0x1f0754(0x530)];_0x227755=(await this['findAndUpdateCacheContact'](_0x527570,_0x49b94d['pushName'],!0x1))[_0x1f0754(0x7e7)][_0x1f0754(0x2ea)];}let _0x242172={'_id':_0x49b94d[_0x1f0754(0x143)]['id'],'key':_0x49b94d[_0x1f0754(0x143)],'isGroup':_0x469ba5,'profilePictureUrl':_0x227755,'pushName':_0x49b94d[_0x1f0754(0x1fe)],'message':_0x5dbe63,'messageType':_0x2b8132,'message_normalized':{'key':_0x49b94d[_0x1f0754(0x143)],'pushName':_0x49b94d[_0x1f0754(0x1fe)],'messageTimestamp':_0x49b94d['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x49b94d[_0x1f0754(0x143)]['id']),..._0x1594da},'messageTimestamp':_0x49b94d[_0x1f0754(0x5c7)],'owner':this[_0x1f0754(0x4dd)]['wuid'],'source':(0x0,w['getDevice'])(_0x49b94d['key']['id']),'expiration':_0x4093cf?.[_0x1f0754(0x3e0)]?.[_0x1f0754(0x425)]||0x0};if(!_0x4093cf){if(_0x2b8132==='conversation')return;this['logger'][_0x1f0754(0x77f)](_0x1f0754(0x204)),this[_0x1f0754(0x31f)][_0x1f0754(0x77f)](_0x242172);}if(_0x1594da[_0x1f0754(0x69c)]==='${Message\x20absent\x20from\x20node}'){console['error'](_0x1f0754(0x58e)),await this['fakeReceived'](_0x49b94d);continue;}this[_0x1f0754(0x31f)][_0x1f0754(0x666)](this[_0x1f0754(0x8b7)]+'\x20('+this[_0x1f0754(0x4dd)][_0x1f0754(0x851)]+'):\x20'+(_0x242172[_0x1f0754(0x143)]?.['fromMe']?'enviado\x20para':'recebido\x20de')+'\x20['+_0x242172['key']?.[_0x1f0754(0x530)][_0x1f0754(0x35f)]('@s.whatsapp.net','')+_0x1f0754(0x4bd)+_0x242172[_0x1f0754(0x237)]+')'),_0x242172[_0x1f0754(0x417)]?.[_0x1f0754(0x69c)]&&this['logger'][_0x1f0754(0x666)](_0x49b94d[_0x1f0754(0x143)]['id']+':\x20'+_0x242172[_0x1f0754(0x417)]?.[_0x1f0754(0x69c)]),await this['repository']['message'][_0x1f0754(0x5d1)]([_0x242172],this[_0x1f0754(0x4dd)][_0x1f0754(0x851)]),this[_0x1f0754(0x7f3)](_0x1f0754(0x184),_0x242172),F(this[_0x1f0754(0x8b7)],_0x1f0754(0x703),{'message':_0x242172}),_0x49b94d[_0x1f0754(0x143)][_0x1f0754(0x530)]!==_0x1f0754(0x641)&&await this[_0x1f0754(0x6b5)](_0x54d20e,_0x242172,_0x1f0754(0x6db));}},'messages.update':async(_0x4832d7,_0x35f020)=>{const _0xda6e2b=_0x3b1bfd;let _0x27c1fb={0x0:_0xda6e2b(0x33b),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0xda6e2b(0x255),0x4:_0xda6e2b(0x812),0x5:_0xda6e2b(0x133)};for await(let {key:_0x2b6383,update:_0x104e85}of _0x4832d7){if(this['localWebhook']?.[_0xda6e2b(0x3c6)]&&_0x2b6383[_0xda6e2b(0x530)][_0xda6e2b(0x457)](_0xda6e2b(0x1ba))){this[_0xda6e2b(0x31f)][_0xda6e2b(0x8bd)](this[_0xda6e2b(0x8b7)]+'\x20('+this[_0xda6e2b(0x4dd)][_0xda6e2b(0x851)]+_0xda6e2b(0x5d6));return;}if(_0x2b6383['remoteJid']!==_0xda6e2b(0x641)){let _0x5300c9=Date['now'](),_0x5b89af;_0x104e85[_0xda6e2b(0x503)]===null&&_0x104e85[_0xda6e2b(0x5d8)]===void 0x0?_0x5b89af=_0xda6e2b(0x3aa):_0x5b89af=_0x27c1fb[_0x104e85['status']];let _0x48ce45=_0x2b6383[_0xda6e2b(0x530)]['replace'](/:\d{1,2}@/g,'@'),_0x3087b0={..._0x2b6383,'remoteJid':_0x48ce45,'status':_0x5b89af,'datetime':_0x5300c9,'owner':this['instance'][_0xda6e2b(0x851)]};this[_0xda6e2b(0x7f3)](_0xda6e2b(0x88b),_0x3087b0),await this[_0xda6e2b(0x7df)](_0x2b6383,_0x3087b0);}}},'labels.association':async({type:_0x462fe4,association:_0x45a23b})=>{const _0x1bf943=_0x3b1bfd;if(_0x45a23b[_0x1bf943(0x82f)]===_0x1bf943(0x786)){let _0x427b4e,_0x17a4be=0x0;for(;!_0x427b4e&&_0x17a4be<this[_0x1bf943(0x214)];)_0x427b4e=await this['repository'][_0x1bf943(0x76d)][_0x1bf943(0x151)]({'where':{'_id':_0x45a23b[_0x1bf943(0x729)]}},this[_0x1bf943(0x4dd)][_0x1bf943(0x851)]),_0x427b4e||(_0x17a4be++,this['logger'][_0x1bf943(0x74c)](this['instanceName']+'\x20('+this[_0x1bf943(0x4dd)][_0x1bf943(0x851)]+_0x1bf943(0x7b5)+_0x45a23b['chatId']+_0x1bf943(0x273)+this[_0x1bf943(0x1bf)]+_0x1bf943(0x3b5)+_0x17a4be+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this[_0x1bf943(0x1bf)]));if(!_0x427b4e){this[_0x1bf943(0x31f)][_0x1bf943(0x77f)](_0x1bf943(0x70e)+_0x45a23b[_0x1bf943(0x729)]+_0x1bf943(0x479)+this[_0x1bf943(0x214)]+_0x1bf943(0x824));return;}switch(_0x462fe4){case _0x1bf943(0x728):console['log'](_0x45a23b),await this[_0x1bf943(0x7d6)][_0x1bf943(0x76d)][_0x1bf943(0x3ff)]({'where':{'_id':_0x45a23b[_0x1bf943(0x729)]}},{'leadInfo.etiquetas':_0x45a23b['labelId']},this[_0x1bf943(0x4dd)][_0x1bf943(0x851)],void 0x0,'$addToSet');break;case _0x1bf943(0x1a3):console[_0x1bf943(0x666)](_0x45a23b),await this[_0x1bf943(0x7d6)][_0x1bf943(0x76d)][_0x1bf943(0x3ff)]({'where':{'_id':_0x45a23b[_0x1bf943(0x729)]}},{'leadInfo.etiquetas':_0x45a23b[_0x1bf943(0x55b)]},this[_0x1bf943(0x4dd)][_0x1bf943(0x851)],void 0x0,_0x1bf943(0x5a0));break;default:this[_0x1bf943(0x31f)][_0x1bf943(0x77f)](_0x1bf943(0x5cc)+_0x462fe4+']');}}},'labels.edit':async _0x3febb8=>{const _0x5a0d1c=_0x3b1bfd;if(!_0x3febb8||!_0x3febb8['id']){this[_0x5a0d1c(0x31f)][_0x5a0d1c(0x77f)](_0x5a0d1c(0x390));return;}if(!_0x3febb8['deleted']){let _0x1d8aa9=[_0x5a0d1c(0x293),_0x5a0d1c(0x5a5),_0x5a0d1c(0x534),_0x5a0d1c(0x29f),_0x5a0d1c(0x640),_0x5a0d1c(0x2e0),_0x5a0d1c(0x3e5),_0x5a0d1c(0x1b9),_0x5a0d1c(0x19e),'#d8e651',_0x5a0d1c(0x753),_0x5a0d1c(0x697),'#92ceac','#f64847',_0x5a0d1c(0x88a),_0x5a0d1c(0x5a3),_0x5a0d1c(0x4bf),_0x5a0d1c(0x289),_0x5a0d1c(0x2dd),'#9568cf'],_0x32cb39;typeof _0x3febb8[_0x5a0d1c(0x60a)]==_0x5a0d1c(0x485)&&_0x3febb8[_0x5a0d1c(0x60a)]>=0x0&&_0x3febb8['color']<_0x1d8aa9['length']?_0x32cb39=_0x1d8aa9[_0x3febb8[_0x5a0d1c(0x60a)]]:(this['logger'][_0x5a0d1c(0x77f)](_0x5a0d1c(0x1f0)+_0x3febb8[_0x5a0d1c(0x60a)]),_0x32cb39=_0x5a0d1c(0x68b));let _0x505961={'_id':_0x3febb8['id'],'colorHex':_0x32cb39,'color':_0x3febb8?.[_0x5a0d1c(0x60a)],'name':_0x3febb8?.[_0x5a0d1c(0x5d0)],'owner':this[_0x5a0d1c(0x4dd)]['wuid']};await this[_0x5a0d1c(0x7d6)][_0x5a0d1c(0x1a5)][_0x5a0d1c(0x3ff)]({'where':{'_id':_0x3febb8['id']}},_0x505961,this[_0x5a0d1c(0x4dd)]['wuid']),this[_0x5a0d1c(0x31f)]['info'](this[_0x5a0d1c(0x8b7)]+'\x20('+this[_0x5a0d1c(0x4dd)][_0x5a0d1c(0x851)]+'):\x20Rótulo\x20atualizado:\x20'+_0x3febb8);}_0x3febb8[_0x5a0d1c(0x2c9)]&&(await this[_0x5a0d1c(0x7d6)][_0x5a0d1c(0x1a5)][_0x5a0d1c(0x3be)]({'where':{'_id':_0x3febb8['id']}},this[_0x5a0d1c(0x4dd)][_0x5a0d1c(0x851)]),this[_0x5a0d1c(0x31f)]['info'](_0x5a0d1c(0x722)+_0x3febb8['id']));}},this[_0x3b1bfd(0x62d)]={'groups.upsert':async _0x53c50d=>{const _0x1106ae=_0x3b1bfd;this['localWebhook']?.[_0x1106ae(0x3c6)]||this[_0x1106ae(0x7f3)](_0x1106ae(0x5bd),_0x53c50d);for(let _0x1e6857 of _0x53c50d)await this['updateGroupWebhook'](_0x1e6857);},'groups.update':async _0x36c818=>{const _0x11c06a=_0x3b1bfd;this['localWebhook']?.['groups_ignore']||this[_0x11c06a(0x7f3)]('groups.update',_0x36c818);for(let _0xcf91b9 of _0x36c818)await this[_0x11c06a(0x2b8)](_0xcf91b9);},'group-participants.update':async _0x400df7=>{const _0x44ad56=_0x3b1bfd;this[_0x44ad56(0x1b7)]?.[_0x44ad56(0x3c6)]||this[_0x44ad56(0x7f3)](_0x44ad56(0x15d),_0x400df7),await this[_0x44ad56(0x3b6)](_0x400df7);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x3b1bfd(0x878)]=0x0,this[_0x3b1bfd(0x5ef)]=async _0x343323=>{const _0x2ed801=_0x3b1bfd;if(_0x343323[_0x2ed801(0x503)]?.[_0x2ed801(0x7db)]){let _0x4d085a=await this[_0x2ed801(0x8e5)](_0x343323[_0x2ed801(0x503)][_0x2ed801(0x7db)][_0x2ed801(0x714)],!0x0);if(_0x4d085a){let _0x3f87d3=_0x4d085a[_0x2ed801(0x143)][_0x2ed801(0x8c9)]?this[_0x2ed801(0x4dd)][_0x2ed801(0x851)]+'@s.whatsapp.net':_0x4d085a[_0x2ed801(0x143)][_0x2ed801(0x2e9)]||_0x4d085a[_0x2ed801(0x143)][_0x2ed801(0x530)],_0x35a243=_0x4d085a[_0x2ed801(0x143)]['id'],_0x2cb555=_0x4d085a[_0x2ed801(0x503)],_0x308f91=Buffer[_0x2ed801(0x374)](_0x2cb555['messageContextInfo'][_0x2ed801(0x710)][_0x2ed801(0x5a7)]('hex'),_0x2ed801(0x523)),_0x20ecb5=(0x0,w['decryptPollVote'])(_0x343323[_0x2ed801(0x503)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x3f87d3,'pollMsgId':_0x35a243,'pollEncKey':_0x308f91,'voterJid':_0x343323[_0x2ed801(0x143)][_0x2ed801(0x8c9)]?this[_0x2ed801(0x4dd)][_0x2ed801(0x851)]+_0x2ed801(0x5e0):_0x343323[_0x2ed801(0x143)][_0x2ed801(0x530)]['endsWith'](_0x2ed801(0x458))?_0x343323['key']['participant']:_0x343323[_0x2ed801(0x143)][_0x2ed801(0x530)]}),_0x25d11=[],_0x2c0eb4=_0x20ecb5['selectedOptions'][_0x2ed801(0x3ae)](_0xf395d5=>Buffer[_0x2ed801(0x374)](_0xf395d5)[_0x2ed801(0x5a7)]('hex'));for(let {optionName:_0x37fb11}of _0x2cb555[_0x2ed801(0x6f4)]?.[_0x2ed801(0x630)]||_0x2cb555[_0x2ed801(0x387)]?.['options']||_0x2cb555['pollCreationMessageV2']?.['options'])_0x2c0eb4[_0x2ed801(0x730)]((0x0,w[_0x2ed801(0x29e)])(Buffer['from'](_0x37fb11))['toString'](_0x2ed801(0x523)))>-0x1&&_0x25d11[_0x2ed801(0x2b6)](_0x37fb11);return _0x25d11;}}return null;},this[_0x3b1bfd(0x47b)]=(_0x4be399,_0x59f500,_0x13f4c3)=>{const _0x18159e=_0x3b1bfd;try{let _0x4fbf2a=_0x4be399?(0x0,w[_0x18159e(0x6bf)])(_0x4be399)[_0x59f500]:void 0x0,_0x3b8b92={},_0x21b9fd=null,_0x1a128a=null,_0x4e2521=null,_0x324101=null;_0x59f500===_0x18159e(0x56b)&&_0x4fbf2a?.[_0x18159e(0x20e)]&&(_0x59f500=(0x0,w['getContentType'])(_0x4fbf2a['editedMessage']),_0x21b9fd=_0x4be399['protocolMessage']['key']['id'],_0x4fbf2a=_0x4be399['protocolMessage'][_0x18159e(0x20e)][_0x59f500]),_0x4be399[_0x59f500]?.[_0x18159e(0x3e0)]?.[_0x18159e(0x4b0)]&&_0x4be399[_0x59f500]?.[_0x18159e(0x3e0)]?.[_0x18159e(0x787)]&&(_0x1a128a=_0x4be399[_0x59f500]['contextInfo']['stanzaId']),_0x4be399['reactionMessage']&&(_0x4e2521=_0x4be399['reactionMessage'][_0x18159e(0x143)]['id']);let _0x161195;if(_0x4fbf2a&&typeof _0x4fbf2a==_0x18159e(0x6dc)&&_0x18159e(0x714)in _0x4fbf2a&&({pollCreationMessageKey:_0x161195}=_0x4fbf2a),_0x59f500===_0x18159e(0x6f4)||_0x59f500===_0x18159e(0x6ae)||_0x59f500==='pollCreationMessageV3'){let _0x63500f=_0x4fbf2a['options']['map'](_0x4b3f11=>_0x4b3f11['optionName'])[_0x18159e(0x35d)]('|');_0x3b8b92[_0x18159e(0x618)]=_0x63500f;}if(_0x59f500==='interactiveMessage'){let _0x321eb0=_0x4fbf2a[_0x18159e(0x639)][_0x18159e(0x1c4)]['map'](_0x5a02ca=>JSON['parse'](_0x5a02ca[_0x18159e(0x888)])[_0x18159e(0x378)])[_0x18159e(0x35d)]('|');_0x3b8b92[_0x18159e(0x618)]=_0x321eb0;}_0x59f500===_0x18159e(0x6ff)&&(_0x3b8b92['buttonOrList_id']=_0x4fbf2a?.[_0x18159e(0x4d6)]?.[_0x18159e(0x70a)]);let _0x56d0ac='';if(_0x4fbf2a&&(_0x56d0ac+=_0x4fbf2a[_0x18159e(0x5d0)]?_0x4fbf2a['name']:'',_0x56d0ac+=_0x4fbf2a[_0x18159e(0x2e3)]?'\x20'+_0x4fbf2a[_0x18159e(0x2e3)]:'',_0x56d0ac+=_0x4fbf2a[_0x18159e(0x312)]?'\x20'+_0x4fbf2a[_0x18159e(0x312)]:'',_0x56d0ac+=_0x4fbf2a[_0x18159e(0x685)]?'\x20'+_0x4fbf2a[_0x18159e(0x685)]:'',_0x59f500!==_0x18159e(0x7aa)&&(_0x56d0ac+=_0x4fbf2a[_0x18159e(0x3e6)]?.[_0x18159e(0x69c)]?'\x20'+_0x4fbf2a[_0x18159e(0x3e6)][_0x18159e(0x69c)]:''),_0x56d0ac+=_0x4fbf2a?.[_0x18159e(0x416)]?.[_0x18159e(0x69c)]?'\x20'+_0x4fbf2a?.[_0x18159e(0x416)]?.['text']:''),_0x59f500==='listMessage'){_0x56d0ac=(_0x4fbf2a[_0x18159e(0x20f)]||'')+'\x0a'+(_0x4fbf2a[_0x18159e(0x5f4)]||'')+'\x0a'+(_0x4fbf2a[_0x18159e(0x61f)]||'');let _0x1a1b53=this['sectionsToString'](_0x4fbf2a[_0x18159e(0x36e)]);_0x3b8b92[_0x18159e(0x618)]=_0x1a1b53;}if(_0x59f500===_0x18159e(0x6ff)&&(_0x13f4c3=_0x4fbf2a[_0x18159e(0x20f)],_0x324101=_0x4fbf2a?.[_0x18159e(0x4d6)]?.['selectedRowId']),_0x59f500===_0x18159e(0x7aa)){let _0x10a303=_0x4fbf2a?.[_0x18159e(0x78c)];_0x10a303&&_0x10a303[_0x18159e(0x5d0)]===_0x18159e(0x323)&&(_0x324101=JSON[_0x18159e(0x24f)](_0x10a303[_0x18159e(0x4be)])['id']),_0x13f4c3=_0x4fbf2a?.[_0x18159e(0x3e6)]?.[_0x18159e(0x69c)];}if(_0x59f500===_0x18159e(0x61d)&&(_0x13f4c3=_0x4fbf2a?.[_0x18159e(0x5c5)],_0x324101=_0x4fbf2a?.[_0x18159e(0x8d8)]),_0x59f500==='buttonsResponseMessage'&&(_0x13f4c3=_0x4fbf2a?.[_0x18159e(0x5c5)],_0x324101=_0x4fbf2a?.['selectedButtonId']),_0x4fbf2a&&_0x4fbf2a[_0x18159e(0x7cd)]){let _0x4f9094=this[_0x18159e(0x20d)](JSON['stringify'](_0x4fbf2a[_0x18159e(0x7cd)],null,0x2));_0x56d0ac=_0x56d0ac+'\x0a'+_0x4f9094;}if(_0x4fbf2a){let {selectedButtonId:_0x42ce06,nativeFlowResponseMessage:_0x2a55f5,selectedId:_0x2f920e,selectedDisplayText:_0x2dac22,selectedIndex:_0x2c45a9,body:_0x490a81,nativeFlowMessage:_0x21881b,singleSelectReply:_0x5d256a,sections:_0x344125,listType:_0x454abe,displayName:_0x58a35a,vcard:_0x20375c,contactVcard:_0x50c16d,name:_0x20e274,caption:_0x5fe464,conversation:_0x37984c,pollCreationMessageKey:_0xd5b431,footerText:_0x41e76d,contentText:_0x5a58b6,pageCount:_0x116830,headerType:_0xb81bd9,isAvatar:_0x3193e4,isAnimated:_0x3d41eb,fallbackLc:_0x2dfc7b,fallbackLg:_0x299524,namespace:_0x4e4242,elementName:_0x290dd4,localizableParams:_0x590e12,viewOnce:_0x3ed1fd,height:_0x349399,width:_0x3d0a49,key:_0x1b4ba1,firstScanLength:_0x173b83,firstScanSidecar:_0x3813bb,gifPlayback:_0x3da5c0,gifAttribution:_0x186c18,midQualityFileSha256:_0x5443fd,scansSidecar:_0x46d064,streamingSidecar:_0x16d5e0,thumbnailHeight:_0x5bf206,thumbnailWidth:_0x3f4b2b,thumbnailEncSha256:_0x55329e,thumbnailDirectPath:_0x79e6bd,canonicalUrl:_0x415c7e,matchedText:_0x46db62,previewType:_0x542d2e,thumbnailSha256:_0x9532e9,deviceListMetadataVersion:_0x5d4a04,inviteLinkGroupTypeV2:_0x180aeb,interactiveAnnotations:_0x1bc37c,scanLengths:_0x59e7b4,jpegThumbnail:_0x103f4a,url:_0x2c7786,mediaKeyTimestamp:_0x4baae0,waveform:_0x1295f1,stickerSentTs:_0xfa911c,firstFrameLength:_0x14b6db,fileEncSha256:_0x57a021,contextInfo:_0x3eaf73,firstFrameSidecar:_0x86c4ee,directPath:_0x429ed7,fileSha256:_0x27a6ba,mediaKey:_0x267204,senderTimestampMs:_0x31c639,..._0x5d1da1}=_0x4fbf2a;(_0x59f500===_0x18159e(0x15a)||_0x59f500===_0x18159e(0x6ff))&&(delete _0x5d1da1[_0x18159e(0x20f)],delete _0x5d1da1['description']),typeof _0x4fbf2a==_0x18159e(0x7a5)?_0x3b8b92={'text':_0x4fbf2a,'type':_0x59f500||'conversation',..._0x21b9fd&&{'edited':_0x21b9fd},..._0x1a128a&&{'quoted':_0x1a128a},..._0x4e2521&&{'reaction':_0x4e2521}}:_0x3b8b92={'text':_0x56d0ac,..._0x5d1da1,..._0x59f500==='pollUpdateMessage'?{'poll_id':_0x4fbf2a['pollCreationMessageKey']['id'],'quoted':_0x4fbf2a[_0x18159e(0x714)]['id'],'vote':_0x13f4c3}:{},..._0x59f500===_0x18159e(0x6ff)?{'buttonOrList_id':_0x324101,'vote':_0x13f4c3}:{},..._0x59f500===_0x18159e(0x7aa)?{'buttonOrList_id':_0x324101,'vote':_0x13f4c3}:{},..._0x59f500==='templateButtonReplyMessage'?{'buttonOrList_id':_0x324101,'vote':_0x13f4c3}:{},..._0x59f500===_0x18159e(0x5aa)?{'buttonOrList_id':_0x324101,'vote':_0x13f4c3}:{},'type':_0x59f500,..._0x21b9fd&&{'edited':_0x21b9fd},..._0x1a128a&&{'quoted':_0x1a128a},..._0x4e2521&&{'reaction':_0x4e2521},...(_0x59f500===_0x18159e(0x6f4)||_0x59f500===_0x18159e(0x6ae)||_0x59f500===_0x18159e(0x387)||_0x59f500==='listMessage'||_0x59f500===_0x18159e(0x495))&&{'convertedOptions':_0x3b8b92[_0x18159e(0x618)]}};}return{'messageType':_0x59f500,'messageContent':_0x4fbf2a,'message_normalized':_0x3b8b92};}catch(_0xc1a5e0){return this[_0x18159e(0x31f)]['error'](_0x18159e(0x460)+_0xc1a5e0),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x3b1bfd(0x474)]=[],(this['cleanStore'](),this[_0x3b1bfd(0x1be)](),this['instance']['HistoryProcessed']=!0x0,this['instance']['qrcode']={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x299ca5(0x79c)](_0x44bfe3,_0x2ca721){const _0x4030c6=a0_0x299ca5;this['processedMessagesCache'][_0x44bfe3]||(this[_0x4030c6(0x7e2)][_0x44bfe3]=new Set()),this[_0x4030c6(0x7e2)][_0x44bfe3][_0x4030c6(0x728)](_0x2ca721),setTimeout(()=>this[_0x4030c6(0x7e2)][_0x44bfe3][_0x4030c6(0x3be)](_0x2ca721),0x2710);}[a0_0x299ca5(0x838)](_0x85d3e7,_0x59d2bd){const _0x5614b8=a0_0x299ca5;return this[_0x5614b8(0x7e2)][_0x85d3e7]?.[_0x5614b8(0x594)](_0x59d2bd)??!0x1;}set[a0_0x299ca5(0x8b7)](_0x2b94d7){const _0x231ac5=a0_0x299ca5;if(!_0x2b94d7){this[_0x231ac5(0x4dd)][_0x231ac5(0x5d0)]=(0x0,Di['v4'])();return;}this[_0x231ac5(0x4dd)]['name']=_0x2b94d7,this[_0x231ac5(0x7f3)](_0x231ac5(0x570),{'instance':this[_0x231ac5(0x4dd)][_0x231ac5(0x5d0)],'status':_0x231ac5(0x1c0)});}get[a0_0x299ca5(0x8b7)](){const _0xfb4a7c=a0_0x299ca5;return this[_0xfb4a7c(0x4dd)][_0xfb4a7c(0x5d0)];}get[a0_0x299ca5(0x851)](){return this['instance']['wuid'];}async[a0_0x299ca5(0x5ed)](){const _0x52d5b5=a0_0x299ca5;let _0x1bc2a1=this[_0x52d5b5(0x6a1)][_0x52d5b5(0x27e)]?.[_0x52d5b5(0x5d0)]??this[_0x52d5b5(0x6a1)]['user']?.[_0x52d5b5(0x2cf)];if(!_0x1bc2a1){if(this[_0x52d5b5(0x1d9)][_0x52d5b5(0x2ed)](_0x52d5b5(0x65d))[_0x52d5b5(0x5d5)]){let _0x543c14=await T[_0x52d5b5(0x446)]()['db'](this[_0x52d5b5(0x1d9)]['get']('DATABASE')[_0x52d5b5(0x595)]['DB_PREFIX_NAME']+_0x52d5b5(0x347))[_0x52d5b5(0x6e6)](this['instanceName'])[_0x52d5b5(0x151)]({'_id':'creds'});if(_0x543c14){let _0x33310=JSON[_0x52d5b5(0x24f)](JSON[_0x52d5b5(0x6ed)](_0x543c14),w[_0x52d5b5(0x36c)]['reviver']);_0x1bc2a1=_0x33310['me']?.['name']||_0x33310['me']?.['verifiedName'];}}else{if((0x0,Je['existsSync'])((0x0,j[_0x52d5b5(0x35d)])(Me,this[_0x52d5b5(0x8b7)],'creds.json'))){let _0x29e156=JSON['parse']((0x0,Je[_0x52d5b5(0x5db)])((0x0,j['join'])(Me,this[_0x52d5b5(0x8b7)],'creds.json'),{'encoding':'utf-8'}));_0x1bc2a1=_0x29e156['me']?.[_0x52d5b5(0x5d0)]||_0x29e156['me']?.[_0x52d5b5(0x2cf)];}}}return _0x1bc2a1;}get[a0_0x299ca5(0x28e)](){const _0x45c052=a0_0x299ca5;return this[_0x45c052(0x4dd)][_0x45c052(0x28e)];}async[a0_0x299ca5(0x349)](){const _0x971d47=a0_0x299ca5;let _0x2cc8dd=this[_0x971d47(0x4dd)][_0x971d47(0x851)]+_0x971d47(0x5e0);try{await this[_0x971d47(0x6a1)][_0x971d47(0x844)](_0x2cc8dd)?this[_0x971d47(0x4dd)][_0x971d47(0x43e)]=!0x0:this[_0x971d47(0x4dd)]['isBusiness']=!0x1;}catch{this[_0x971d47(0x4dd)][_0x971d47(0x43e)]=!0x1;}return this[_0x971d47(0x31f)][_0x971d47(0x74c)](this[_0x971d47(0x8b7)]+'\x20('+this[_0x971d47(0x4dd)][_0x971d47(0x851)]+_0x971d47(0x72e)+this[_0x971d47(0x4dd)]['isBusiness']),this[_0x971d47(0x4dd)][_0x971d47(0x43e)];}get[a0_0x299ca5(0x803)](){const _0x39550c=a0_0x299ca5;return this[_0x39550c(0x4dd)][_0x39550c(0x6c7)]=!0x1,this['instance']['qrcode']?.['pairingCode']?{'pairingCode':this['instance'][_0x39550c(0x427)]?.[_0x39550c(0x689)]}:{'code':this['instance'][_0x39550c(0x427)]?.['code'],'base64':this[_0x39550c(0x4dd)][_0x39550c(0x427)]?.[_0x39550c(0x566)]};}async[a0_0x299ca5(0x459)](){const _0x29bf1e=a0_0x299ca5;let _0x5860e3=await this[_0x29bf1e(0x7d6)][_0x29bf1e(0x693)][_0x29bf1e(0x2b7)](this['instanceName']);this['localWebhook']['url']=_0x5860e3?.[_0x29bf1e(0x4bc)],this[_0x29bf1e(0x1b7)]['enabled']=_0x5860e3?.[_0x29bf1e(0x86b)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x532)]=_0x5860e3?.[_0x29bf1e(0x532)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x44e)]=_0x5860e3?.['STATUS_INSTANCE'],this['localWebhook'][_0x29bf1e(0x3e9)]=_0x5860e3?.[_0x29bf1e(0x3e9)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x6a7)]=_0x5860e3?.[_0x29bf1e(0x6a7)],this[_0x29bf1e(0x1b7)]['MESSAGES_UPSERT']=_0x5860e3?.['MESSAGES_UPSERT'],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x1e3)]=_0x5860e3?.['MESSAGES_UPDATE'],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x443)]=_0x5860e3?.[_0x29bf1e(0x443)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x3d2)]=_0x5860e3?.[_0x29bf1e(0x3d2)],this['localWebhook'][_0x29bf1e(0x15e)]=_0x5860e3?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x33e)]=_0x5860e3?.[_0x29bf1e(0x33e)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x5e2)]=_0x5860e3?.[_0x29bf1e(0x5e2)],this['localWebhook'][_0x29bf1e(0x46b)]=_0x5860e3?.[_0x29bf1e(0x46b)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x12f)]=_0x5860e3?.[_0x29bf1e(0x12f)],this[_0x29bf1e(0x1b7)]['CONTACTS_SET']=_0x5860e3?.[_0x29bf1e(0x316)],this['localWebhook'][_0x29bf1e(0x171)]=_0x5860e3?.['CONTACTS_UPSERT'],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x1d4)]=_0x5860e3?.[_0x29bf1e(0x1d4)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x1fb)]=_0x5860e3?.[_0x29bf1e(0x1fb)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x178)]=_0x5860e3?.[_0x29bf1e(0x178)],this[_0x29bf1e(0x1b7)]['CONNECTION_UPDATE']=_0x5860e3?.[_0x29bf1e(0x6ee)],this[_0x29bf1e(0x1b7)][_0x29bf1e(0x3c6)]=_0x5860e3?.['groups_ignore'];}async[a0_0x299ca5(0x259)](_0x46eb14){const _0x4ccb54=a0_0x299ca5;let _0x7b0fc3=[_0x4ccb54(0x898),_0x4ccb54(0x4bc),_0x4ccb54(0x86b),_0x4ccb54(0x532),_0x4ccb54(0x44e),_0x4ccb54(0x3e9),'MESSAGES_UPDATE',_0x4ccb54(0x6db),'SEND_MESSAGE','GROUPS_UPSERT',_0x4ccb54(0x3d2),_0x4ccb54(0x15e),_0x4ccb54(0x33e),_0x4ccb54(0x5e2),_0x4ccb54(0x46b),_0x4ccb54(0x12f),'CONTACTS_SET',_0x4ccb54(0x171),_0x4ccb54(0x1d4),_0x4ccb54(0x1fb),'MESSAGES_SET',_0x4ccb54(0x6ee),'groups_ignore'],_0x3a39a0={};return _0x7b0fc3[_0x4ccb54(0x613)](_0x28befd=>{_0x46eb14[_0x28befd]!==void 0x0&&(_0x3a39a0[_0x28befd]=_0x46eb14[_0x28befd]);}),_0x3a39a0['url']&&(_0x3a39a0[_0x4ccb54(0x4bc)]=_0x3a39a0[_0x4ccb54(0x4bc)][_0x4ccb54(0x3a7)]()),await this[_0x4ccb54(0x7d6)]['webhook'][_0x4ccb54(0x37f)](_0x3a39a0,this[_0x4ccb54(0x8b7)]),Object[_0x4ccb54(0x243)](this['localWebhook'],_0x3a39a0),await this[_0x4ccb54(0x7d6)][_0x4ccb54(0x693)][_0x4ccb54(0x2b7)](this['instanceName']);}async['findWebhook'](){const _0x29c667=a0_0x299ca5;return await this[_0x29c667(0x7d6)][_0x29c667(0x693)]['find'](this[_0x29c667(0x8b7)]);}async['sendDataWebhook'](_0x1ca91c,_0x15fb3d){const _0x4638f9=a0_0x299ca5;let _0x8b12ef=_0x1ca91c[_0x4638f9(0x35f)](/[\.-]/gm,'_')['toUpperCase'](),_0x2c3331=this[_0x4638f9(0x1b7)][_0x4638f9(0x86b)]&&(0x0,J[_0x4638f9(0x6e5)])(this[_0x4638f9(0x1b7)][_0x4638f9(0x4bc)])?this['localWebhook'][_0x4638f9(0x4bc)]+(this[_0x4638f9(0x1b7)][_0x4638f9(0x532)]?this[_0x4638f9(0x322)][_0x1ca91c]:''):null,_0x21b962=this[_0x4638f9(0x1b7)][_0x8b12ef],_0x281d9e=pe&&pe[_0x4638f9(0x86b)]&&(0x0,J[_0x4638f9(0x6e5)])(pe[_0x4638f9(0x4bc)])?pe[_0x4638f9(0x4bc)]+(pe[_0x4638f9(0x532)]?this[_0x4638f9(0x322)][_0x1ca91c]:''):null,_0x19f555=pe?pe[_0x8b12ef]:null;if(_0x21b962&&_0x2c3331)try{await K[_0x4638f9(0x222)][_0x4638f9(0x37f)]({'baseURL':_0x2c3331})[_0x4638f9(0x58d)]('',{'event':_0x1ca91c,'instance':this['instance']['name'],'apikey':this['instance']['apikey'],'data':_0x15fb3d}),this[_0x4638f9(0x31f)]['log'](this[_0x4638f9(0x8b7)]+'\x20('+this[_0x4638f9(0x4dd)][_0x4638f9(0x851)]+_0x4638f9(0x68c)+_0x1ca91c+':\x20'+_0x2c3331);}catch{this['logger'][_0x4638f9(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x4638f9(0x851)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x1ca91c+':\x20'+_0x2c3331);}if(_0x19f555&&_0x281d9e)try{await K[_0x4638f9(0x222)][_0x4638f9(0x37f)]({'baseURL':_0x281d9e})[_0x4638f9(0x58d)]('',{'event':_0x1ca91c,'instance':this[_0x4638f9(0x4dd)]['name'],'apikey':this[_0x4638f9(0x4dd)]['apikey'],'data':_0x15fb3d}),this[_0x4638f9(0x31f)][_0x4638f9(0x666)](this[_0x4638f9(0x8b7)]+'\x20('+this[_0x4638f9(0x4dd)][_0x4638f9(0x851)]+_0x4638f9(0x4fa)+_0x1ca91c+':\x20'+_0x281d9e);}catch{this[_0x4638f9(0x31f)][_0x4638f9(0x77f)](this[_0x4638f9(0x8b7)]+'\x20('+this['instance'][_0x4638f9(0x851)]+_0x4638f9(0x82d)+_0x1ca91c+':\x20'+_0x281d9e);}}async[a0_0x299ca5(0x3b0)]({qr:_0xff32a9,connection:_0x12564a,lastDisconnect:_0x239e77}){const _0xeb007f=a0_0x299ca5;if(_0xff32a9){if(this[_0xeb007f(0x4dd)][_0xeb007f(0x427)]['count']===jo)return this[_0xeb007f(0x7f3)](_0xeb007f(0x20a),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason'][_0xeb007f(0x4d9)]}),this['stateConnection']={'state':_0xeb007f(0x7d0),'statusReason':w[_0xeb007f(0x492)][_0xeb007f(0x42e)]},this['sendDataWebhook'](_0xeb007f(0x308),{'instance':this['instance']['name'],...this[_0xeb007f(0x444)]}),this[_0xeb007f(0x7f3)](_0xeb007f(0x570),{'instance':this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)],'status':_0xeb007f(0x396)}),this[_0xeb007f(0x7d6)][_0xeb007f(0x4c1)]['delete'](this['instance']['name']),this[_0xeb007f(0x780)]=!0x0,this['eventEmitter'][_0xeb007f(0x529)]('no.connection',this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)]);this['instance'][_0xeb007f(0x427)][_0xeb007f(0x70f)]++;let _0x3f0ef0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xeb007f(0x1ee),'dark':_0xeb007f(0x68b)}};ki[_0xeb007f(0x222)][_0xeb007f(0x64d)](_0xff32a9,_0x3f0ef0,(_0x1be09e,_0x3c3942)=>{const _0x43b8ae=_0xeb007f;if(_0x1be09e){this[_0x43b8ae(0x31f)][_0x43b8ae(0x77f)](this['instanceName']+'\x20('+this[_0x43b8ae(0x4dd)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x1be09e instanceof Error?_0x1be09e[_0x43b8ae(0x503)]:JSON[_0x43b8ae(0x6ed)](_0x1be09e,null,0x2)));return;}this[_0x43b8ae(0x4dd)][_0x43b8ae(0x427)]['base64']=_0x3c3942,this[_0x43b8ae(0x4dd)][_0x43b8ae(0x427)][_0x43b8ae(0x5d2)]=_0xff32a9,!this[_0x43b8ae(0x306)]&&this[_0x43b8ae(0x7f3)](_0x43b8ae(0x20a),{'qrcode':{'instance':this[_0x43b8ae(0x4dd)][_0x43b8ae(0x5d0)],'pairingCode':this[_0x43b8ae(0x4dd)]['qrcode']['pairingCode'],'code':_0xff32a9,'base64':_0x3c3942}});}),this[_0xeb007f(0x306)]?this[_0xeb007f(0x4dd)]['qrcode'][_0xeb007f(0x689)]||(await(0x0,w[_0xeb007f(0x5bf)])(0x7d0),this[_0xeb007f(0x4dd)][_0xeb007f(0x427)][_0xeb007f(0x689)]=await this[_0xeb007f(0x6a1)]['requestPairingCode'](this['phoneNumber'])):this['instance'][_0xeb007f(0x427)][_0xeb007f(0x689)]=null,Li['default'][_0xeb007f(0x7ad)](_0xff32a9,{'small':!0x0},_0xf9a0ff=>this[_0xeb007f(0x31f)]['log']('\x0a{\x20instance:\x20'+this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)]+_0xeb007f(0x311)+this[_0xeb007f(0x4dd)]['qrcode'][_0xeb007f(0x70f)]+_0xeb007f(0x439)+this[_0xeb007f(0x4dd)][_0xeb007f(0x427)]['pairingCode']+_0xeb007f(0x1f7)+_0xf9a0ff));}if(_0x12564a&&(this[_0xeb007f(0x444)]={'state':_0x12564a,'statusReason':_0x239e77?.['error']?.[_0xeb007f(0x4f4)]?.[_0xeb007f(0x773)]??0xc8},this[_0xeb007f(0x7f3)](_0xeb007f(0x308),{'instance':this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)],...this[_0xeb007f(0x444)]})),_0x12564a==='close'){if(_0x239e77[_0xeb007f(0x77f)]?.[_0xeb007f(0x4f4)]?.[_0xeb007f(0x773)]!==w[_0xeb007f(0x492)][_0xeb007f(0x4ae)]&&(this['reconnectAttempts']<0x21||this['instance'][_0xeb007f(0x21a)][_0xeb007f(0x609)])){this[_0xeb007f(0x3d7)]++,this[_0xeb007f(0x527)][_0xeb007f(0x2b6)](Date[_0xeb007f(0x1f1)]()),this[_0xeb007f(0x527)]=this[_0xeb007f(0x527)]['filter'](_0x3dfb44=>Date[_0xeb007f(0x1f1)]()-_0x3dfb44<this['RECONNECT_TIME_FRAME']);let _0x2ad56a=this['reconnectAttempts']<=0x1?0x0:Math[_0xeb007f(0x493)](Math['pow'](0x2,this[_0xeb007f(0x3d7)]-0x1)*0x3e8,0x493e0);console[_0xeb007f(0x666)](this[_0xeb007f(0x8b7)]+_0xeb007f(0x7b2)+this[_0xeb007f(0x3d7)]+'.\x20Aguardando\x20'+_0x2ad56a/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x378657=>setTimeout(_0x378657,_0x2ad56a)),console['log'](_0xeb007f(0x7e5)),await this[_0xeb007f(0x26a)]();}else{this[_0xeb007f(0x7f3)](_0xeb007f(0x570),{'instance':this[_0xeb007f(0x4dd)]['name'],'status':_0xeb007f(0x396)}),this[_0xeb007f(0x4dd)][_0xeb007f(0x21a)][_0xeb007f(0x609)]=!0x1,this[_0xeb007f(0x7d6)]['webhook'][_0xeb007f(0x3be)](this[_0xeb007f(0x8b7)]),this['repository'][_0xeb007f(0x4c1)][_0xeb007f(0x37f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xeb007f(0x1f1)]()},this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)]);try{this[_0xeb007f(0x31f)][_0xeb007f(0x8bd)](this['instanceName']+'\x20('+this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x1c6dd3=await this[_0xeb007f(0x7d6)][_0xeb007f(0x503)][_0xeb007f(0x52e)](this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]);_0x1c6dd3[_0xeb007f(0x242)]?this[_0xeb007f(0x31f)][_0xeb007f(0x8bd)](this[_0xeb007f(0x8b7)]+'\x20('+this[_0xeb007f(0x4dd)]['wuid']+_0xeb007f(0x418)):this[_0xeb007f(0x31f)][_0xeb007f(0x77f)](_0xeb007f(0x6c0)+_0x1c6dd3[_0xeb007f(0x77f)]);}catch(_0x228927){this[_0xeb007f(0x31f)]['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x228927[_0xeb007f(0x503)]);}this[_0xeb007f(0x4dd)][_0xeb007f(0x21a)]['delayMessage']!==null&&(this[_0xeb007f(0x31f)][_0xeb007f(0x8bd)](this['instanceName']+'\x20('+this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]+_0xeb007f(0x7e6)),clearInterval(this['instance'][_0xeb007f(0x21a)]['delayMessage']),this[_0xeb007f(0x4dd)]['ScheduleMessage'][_0xeb007f(0x4e1)]=null),this[_0xeb007f(0x31f)]['verbose'](this[_0xeb007f(0x8b7)]+'\x20('+this[_0xeb007f(0x4dd)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0xeb007f(0x42c)]=null,this[_0xeb007f(0x6e3)][_0xeb007f(0x529)](_0xeb007f(0x1ac),this['instance'][_0xeb007f(0x5d0)],_0xeb007f(0x35b)),this[_0xeb007f(0x6a1)]?.['ws']?.[_0xeb007f(0x7f7)](),this['client'][_0xeb007f(0x3ed)](new Error(_0xeb007f(0x49c)));}}if(_0x12564a===_0xeb007f(0x405)){this[_0xeb007f(0x31f)][_0xeb007f(0x727)](this['instanceName']+'\x20('+this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this['client'][_0xeb007f(0x8a6)]['creds']?.[_0xeb007f(0x2a5)]),this[_0xeb007f(0x6a1)]['authState'][_0xeb007f(0x6b8)]?.['myAppStateKeyId']||(this[_0xeb007f(0x31f)]['warn'](this[_0xeb007f(0x8b7)]+'\x20('+this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]+_0xeb007f(0x48b)),this[_0xeb007f(0x6a1)]['ev']['flush']()),this[_0xeb007f(0x220)],this['instance'][_0xeb007f(0x851)]=this[_0xeb007f(0x6a1)][_0xeb007f(0x27e)]['id']['replace'](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0xeb007f(0x4dd)][_0xeb007f(0x28e)]=(await this['profilePicture'](this[_0xeb007f(0x4dd)][_0xeb007f(0x851)]+_0xeb007f(0x5e0)))['profilePictureUrl'],this[_0xeb007f(0x7d6)][_0xeb007f(0x4c1)][_0xeb007f(0x37f)]({'online':!0x0,'owner':this[_0xeb007f(0x4dd)][_0xeb007f(0x851)],'lastDisconnect':null},this[_0xeb007f(0x4dd)]['name']);let _0x180c66=_0xeb007f(0x2cb)+this[_0xeb007f(0x4dd)]['wuid'],_0x58ca0d=0x28,_0x274469=Math[_0xeb007f(0x71d)]((_0x58ca0d-_0x180c66['length'])/0x2),_0x5b70ed='\x20'[_0xeb007f(0x16e)](_0x274469),_0x2c000e=_0xeb007f(0x343),_0x5225eb=_0xeb007f(0x154)+this[_0xeb007f(0x4dd)][_0xeb007f(0x5d0)],_0x383e50=(''+_0x5b70ed+_0x180c66+_0x5b70ed)[_0xeb007f(0x536)](_0x58ca0d,'\x20'),_0x50864c=(''+_0x5b70ed+_0x2c000e+_0x5b70ed)[_0xeb007f(0x536)](_0x58ca0d,'\x20'),_0x599d3d=(''+_0x5b70ed+_0x5225eb+_0x5b70ed)[_0xeb007f(0x536)](_0x58ca0d,'\x20'),_0x256e33=Math['max'](_0x383e50['length'],_0x50864c['length'],_0x599d3d['length']),_0x10f248=_0x383e50[_0xeb007f(0x536)](_0x256e33,'\x20'),_0x37b2af=_0x50864c[_0xeb007f(0x536)](_0x256e33,'\x20'),_0x32015c=_0x599d3d['padEnd'](_0x256e33,'\x20');this[_0xeb007f(0x31f)]['info']((_0xeb007f(0x233)+'─'['repeat'](_0x256e33)+_0xeb007f(0x313)+_0x37b2af+_0xeb007f(0x342)+_0x32015c+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x10f248+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0xeb007f(0x16e)](_0x256e33)+'┘')[_0xeb007f(0x35f)](/^ +/gm,'\x20\x20')),this[_0xeb007f(0x2c6)](),this[_0xeb007f(0x4dd)][_0xeb007f(0x21a)][_0xeb007f(0x609)]=!0x0;}}[a0_0x299ca5(0x220)](){const _0x32f925=a0_0x299ca5;this[_0x32f925(0x3d7)]=0x0,this[_0x32f925(0x527)]=[];}async[a0_0x299ca5(0x8e5)](_0x353a01,_0x27da71=!0x1){const _0x2de69f=a0_0x299ca5;try{let _0x54b8d2=await this[_0x2de69f(0x7d6)]['message'][_0x2de69f(0x2b7)]({'where':{'_id':_0x353a01['id']}},this[_0x2de69f(0x4dd)]['wuid']);return _0x27da71?_0x54b8d2[0x0]:_0x54b8d2[0x0][_0x2de69f(0x503)];}catch{return{'conversation':''};}}[a0_0x299ca5(0x6dd)](){const _0x15a8ef=a0_0x299ca5;let _0x18e87d=this[_0x15a8ef(0x1d9)][_0x15a8ef(0x2ed)]('STORE'),_0x12054f=this['configService']['get'](_0x15a8ef(0x65d));_0x18e87d?.[_0x15a8ef(0x788)]&&!_0x12054f[_0x15a8ef(0x5d5)]&&setInterval(()=>{const _0x5788af=_0x15a8ef;try{for(let [_0x1cc06e,_0x18f719]of Object[_0x5788af(0x491)](_0x18e87d))_0x18f719===!0x0&&(0x0,qe['execSync'])('rm\x20-rf\x20'+(0x0,j[_0x5788af(0x35d)])(this[_0x5788af(0x480)],_0x1cc06e[_0x5788af(0x484)](),this[_0x5788af(0x4dd)][_0x5788af(0x851)])+'/*.json');}catch{}},(_0x18e87d?.[_0x15a8ef(0x788)]??0xe10)*0x3e8);}async[a0_0x299ca5(0x85a)](){const _0x3a5e94=a0_0x299ca5;let _0x3d54a0=this['configService'][_0x3a5e94(0x2ed)](_0x3a5e94(0x65d)),_0x3140f9=this[_0x3a5e94(0x1d9)]['get'](_0x3a5e94(0x2b9));return _0x3140f9?.[_0x3a5e94(0x5d5)]?await ks(_0x3140f9,this[_0x3a5e94(0x4dd)][_0x3a5e94(0x5d0)]):_0x3d54a0['ENABLED']?await Ds(this[_0x3a5e94(0x4dd)][_0x3a5e94(0x5d0)]):await(0x0,w[_0x3a5e94(0x701)])((0x0,j[_0x3a5e94(0x35d)])(Me,this['instance'][_0x3a5e94(0x5d0)]));}async[a0_0x299ca5(0x2c6)](){const _0x2b29f8=a0_0x299ca5;let _0x9175a0=()=>Math['floor'](Math[_0x2b29f8(0x6e2)]()*0x4e21)+0x7d0,_0x1f88ce=async()=>{const _0x4aafa4=_0x2b29f8;if(!this['instance'][_0x4aafa4(0x21a)][_0x4aafa4(0x609)]){this['logger']['verbose'](this[_0x4aafa4(0x8b7)]+'\x20('+this[_0x4aafa4(0x4dd)][_0x4aafa4(0x851)]+_0x4aafa4(0x7eb)),this[_0x4aafa4(0x740)]=!0x1;return;}if(this[_0x4aafa4(0x4dd)][_0x4aafa4(0x851)]&&this[_0x4aafa4(0x42c)]&&this[_0x4aafa4(0x4dd)][_0x4aafa4(0x21a)][_0x4aafa4(0x4e1)]!==null&&this['instance'][_0x4aafa4(0x21a)]['delayMessage']!==void 0x0){let _0x453ed2=Math['round'](this[_0x4aafa4(0x4dd)][_0x4aafa4(0x21a)][_0x4aafa4(0x4e1)]/0xea60);this[_0x4aafa4(0x31f)][_0x4aafa4(0x8bd)](this[_0x4aafa4(0x8b7)]+'\x20('+this[_0x4aafa4(0x4dd)]['wuid']+_0x4aafa4(0x19c)+_0x453ed2+_0x4aafa4(0x83f)),this[_0x4aafa4(0x740)]=!0x1;return;}else this[_0x4aafa4(0x4dd)][_0x4aafa4(0x851)]&&(this['logger'][_0x4aafa4(0x8bd)](this[_0x4aafa4(0x8b7)]+'\x20('+this[_0x4aafa4(0x4dd)]['wuid']+_0x4aafa4(0x789)),this[_0x4aafa4(0x42c)]||(await this[_0x4aafa4(0x7c3)](),this['findRealGroups'](),this[_0x4aafa4(0x3f5)]()),(this[_0x4aafa4(0x4dd)][_0x4aafa4(0x21a)][_0x4aafa4(0x4e1)]===null||this[_0x4aafa4(0x4dd)][_0x4aafa4(0x21a)][_0x4aafa4(0x4e1)]===void 0x0)&&await this[_0x4aafa4(0x24c)]());if(this[_0x4aafa4(0x740)]){let _0x248eb8=_0x9175a0();this[_0x4aafa4(0x31f)][_0x4aafa4(0x8bd)](this[_0x4aafa4(0x8b7)]+_0x4aafa4(0x656)+_0x248eb8/0x3e8+_0x4aafa4(0x843)),setTimeout(_0x1f88ce,_0x248eb8);}};if(this['isRunning'])return;this[_0x2b29f8(0x740)]=!0x0;let _0x7e0f17=_0x9175a0();setTimeout(_0x1f88ce,_0x7e0f17);}async['synchronizeAndMapFlows'](){const _0x5be783=a0_0x299ca5;let _0x265d10=this[_0x5be783(0x4dd)][_0x5be783(0x851)];try{let _0x385abe=await this[_0x5be783(0x7d6)][_0x5be783(0x65f)][_0x5be783(0x163)]({'where':{'$or':[{'owner':_0x265d10},{'whoCanUse':{'$in':[_0x265d10]}},{'shareOwners':{'$in':[_0x265d10]}}]}}),_0x608684=new Map(this[_0x5be783(0x42c)]['flows']['map'](_0x4da907=>[_0x4da907['_id'],_0x4da907])),_0x141747=_0x385abe['map'](_0x3f4d46=>{const _0x2cf35a=_0x5be783;let _0x35bb48=_0x608684[_0x2cf35a(0x2ed)](_0x3f4d46['_id']?.['toString']());return{'_id':_0x3f4d46[_0x2cf35a(0x898)]?.[_0x2cf35a(0x5a7)](),'name':_0x35bb48?.['name']??_0x3f4d46[_0x2cf35a(0x5d0)],'default':_0x35bb48?.[_0x2cf35a(0x222)]??_0x3f4d46[_0x2cf35a(0x222)]??!0x1,'startCommand':_0x35bb48?.[_0x2cf35a(0x662)]??_0x3f4d46[_0x2cf35a(0x287)],'minutesToClose':_0x35bb48?.[_0x2cf35a(0x29c)]??_0x3f4d46[_0x2cf35a(0x29c)]??0xa,'readMessages':_0x35bb48?.[_0x2cf35a(0x66d)]??_0x3f4d46[_0x2cf35a(0x66d)]??!0x1,'testingWith':_0x35bb48?.[_0x2cf35a(0x608)]??_0x3f4d46[_0x2cf35a(0x608)],'canEdit':_0x3f4d46[_0x2cf35a(0x19b)]===_0x265d10||(_0x3f4d46[_0x2cf35a(0x454)]??[])[_0x2cf35a(0x457)](_0x265d10),'usersCount':(_0x3f4d46[_0x2cf35a(0x507)]??[])[_0x2cf35a(0x84b)]??0x0};}),_0x1f11f7=!0x1;_0x141747[_0x5be783(0x613)](_0x10c3d8=>{const _0x1ede83=_0x5be783;_0x10c3d8[_0x1ede83(0x222)]&&(_0x1f11f7?_0x10c3d8[_0x1ede83(0x222)]=!0x1:_0x1f11f7=!0x0);}),this[_0x5be783(0x42c)][_0x5be783(0x264)]=_0x141747;let _0x3fefb8={'flows':_0x141747};return await this[_0x5be783(0x7d6)]['automateSystem'][_0x5be783(0x130)](_0x3fefb8,_0x265d10),this[_0x5be783(0x31f)]['verbose'](this['instanceName']+'\x20('+_0x265d10+_0x5be783(0x540)),_0x141747['length'];}catch(_0x11d4a7){return this['logger'][_0x5be783(0x77f)](this['instanceName']+'\x20('+_0x265d10+_0x5be783(0x882)+(_0x11d4a7 instanceof Error?_0x11d4a7['message']:JSON[_0x5be783(0x6ed)](_0x11d4a7,null,0x2))),{'message':_0x5be783(0x3a6)+(_0x11d4a7 instanceof Error?_0x11d4a7[_0x5be783(0x503)]:JSON[_0x5be783(0x6ed)](_0x11d4a7,null,0x2))};}}async[a0_0x299ca5(0x26a)](_0x506cb1){const _0x5d39c5=a0_0x299ca5;try{let _0x222b88=await this[_0x5d39c5(0x7d6)]['instance']['findOne']({'where':{'_id':ge+'-'+this['instanceName']}}),_0x42faf3,_0xd0358d=!je['ipv6Prefix']||!je[_0x5d39c5(0x4ac)];console[_0x5d39c5(0x666)](_0x5d39c5(0x366)),console[_0x5d39c5(0x666)](_0x5d39c5(0x57d),Pi),console[_0x5d39c5(0x666)](_0x5d39c5(0x654),this[_0x5d39c5(0x3d7)]),console[_0x5d39c5(0x666)](_0x5d39c5(0x366)),Pi&&!_0xd0358d&&(this[_0x5d39c5(0x3d7)]<0x4||!this['reconnectAttempts']?_0x222b88&&_0x222b88['ip']?(_0x42faf3=_0x222b88['ip'],console['log'](_0x5d39c5(0x49e)+_0x42faf3)):(_0x42faf3=await je[_0x5d39c5(0x866)](ge,this[_0x5d39c5(0x4dd)]['name']),_0x42faf3?(console[_0x5d39c5(0x666)](_0x5d39c5(0x489)+_0x42faf3),await(0x0,w['delay'])(0x7d0)):console[_0x5d39c5(0x77f)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x5d39c5(0x3d7)]<0x6&&(console[_0x5d39c5(0x666)](_0x5d39c5(0x508)),_0x42faf3=await je['createIPv6'](ge,this[_0x5d39c5(0x4dd)][_0x5d39c5(0x5d0)]),_0x42faf3?(console[_0x5d39c5(0x666)](_0x5d39c5(0x489)+_0x42faf3),await(0x0,w['delay'])(0x7d0)):console[_0x5d39c5(0x77f)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x5d39c5(0x459)](),this['instance'][_0x5d39c5(0x78e)]=(await this[_0x5d39c5(0x7d6)][_0x5d39c5(0x4c1)][_0x5d39c5(0x2b7)](this[_0x5d39c5(0x4dd)][_0x5d39c5(0x5d0)]))[_0x5d39c5(0x78e)],this[_0x5d39c5(0x4dd)][_0x5d39c5(0x8a6)]=await this[_0x5d39c5(0x85a)]();let _0x47cdb2=[Ui,Vs,(0x0,js[_0x5d39c5(0x6fa)])()],_0x52944c={'localAddress':_0x42faf3,'auth':{'creds':this['instance'][_0x5d39c5(0x8a6)][_0x5d39c5(0x187)][_0x5d39c5(0x6b8)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x5d39c5(0x8a6)][_0x5d39c5(0x187)][_0x5d39c5(0x791)],(0x0,Jt[_0x5d39c5(0x222)])({'level':_0x5d39c5(0x77f)}))},'logger':(0x0,Jt[_0x5d39c5(0x222)])({'level':_0x5d39c5(0x77f)}),'printQRInTerminal':!0x1,'browser':_0x506cb1?[_0x5d39c5(0x556),Vs,(0x0,js[_0x5d39c5(0x6fa)])()]:_0x47cdb2,'version':[0x2,0xbb8,0x3d4dd679],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x517949=>{const _0x154827=_0x5d39c5;let _0x5f1c4a=this[_0x154827(0x1b7)]?.[_0x154827(0x3c6)]&&(0x0,w[_0x154827(0x27b)])(_0x517949);return(0x0,w[_0x154827(0x281)])(_0x517949)||_0x5f1c4a;},'msgRetryCounterCache':this[_0x5d39c5(0x5fc)],'getMessage':async _0x3a948d=>await this[_0x5d39c5(0x8e5)](_0x3a948d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5d39c5(0x1bd)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x485350){const _0x2bc1cb=_0x5d39c5;return _0x485350['deviceSentMessage']?.[_0x2bc1cb(0x503)]?.['listMessage']?.[_0x2bc1cb(0x333)]===w['proto']['Message']['ListMessage'][_0x2bc1cb(0x5ee)]['PRODUCT_LIST']&&(_0x485350=JSON[_0x2bc1cb(0x24f)](JSON[_0x2bc1cb(0x6ed)](_0x485350)),_0x485350[_0x2bc1cb(0x7d2)]['message']['listMessage'][_0x2bc1cb(0x333)]=w[_0x2bc1cb(0x80d)][_0x2bc1cb(0x7c0)]['ListMessage']['ListType'][_0x2bc1cb(0x6a0)]),_0x485350[_0x2bc1cb(0x15a)]?.[_0x2bc1cb(0x333)]==w[_0x2bc1cb(0x80d)][_0x2bc1cb(0x7c0)]['ListMessage'][_0x2bc1cb(0x5ee)][_0x2bc1cb(0x6e9)]&&(_0x485350=JSON['parse'](JSON[_0x2bc1cb(0x6ed)](_0x485350)),_0x485350[_0x2bc1cb(0x15a)][_0x2bc1cb(0x333)]=w[_0x2bc1cb(0x80d)][_0x2bc1cb(0x7c0)][_0x2bc1cb(0x505)]['ListType'][_0x2bc1cb(0x6a0)]),_0x485350;}};return this[_0x5d39c5(0x780)]=!0x1,this[_0x5d39c5(0x6a1)]=(0x0,w[_0x5d39c5(0x222)])(_0x52944c),this[_0x5d39c5(0x4cd)](),this[_0x5d39c5(0x306)]=_0x506cb1,this[_0x5d39c5(0x6a1)];}catch(_0x3e1579){let _0x5f3122='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x302cf5=_0x3e1579 instanceof Error?_0x3e1579[_0x5d39c5(0x503)]:typeof _0x3e1579==_0x5d39c5(0x6dc)?JSON['stringify'](_0x3e1579):_0x3e1579,_0x40713d=_0x5f3122+':\x20'+_0x302cf5;throw this[_0x5d39c5(0x31f)][_0x5d39c5(0x77f)](this[_0x5d39c5(0x8b7)]+'\x20('+this[_0x5d39c5(0x4dd)]['wuid']+'):\x20'+_0x40713d),console['error']('Detalhes\x20do\x20erro:',_0x3e1579),_0x3e1579 instanceof Error&&console[_0x5d39c5(0x77f)](_0x5d39c5(0x892),_0x3e1579[_0x5d39c5(0x4fd)]),new x(_0x40713d);}}['eventHandler'](){const _0x28a10c=a0_0x299ca5;this['client']['ev'][_0x28a10c(0x469)](_0x37ca9c=>{const _0x3c794d=_0x28a10c;if(!this[_0x3c794d(0x780)]){let _0xfd0920=this[_0x3c794d(0x1d9)][_0x3c794d(0x2ed)](_0x3c794d(0x65d));if(_0x37ca9c[_0x3c794d(0x27c)]){let _0x20467c=_0x37ca9c[_0x3c794d(0x27c)];this[_0x3c794d(0x22d)]['labels.edit'](_0x20467c);}if(_0x37ca9c[_0x3c794d(0x426)]){let _0x395021=_0x37ca9c[_0x3c794d(0x426)];this[_0x3c794d(0x22d)]['labels.association'](_0x395021);}if(_0x37ca9c[_0x3c794d(0x308)]&&this[_0x3c794d(0x3b0)](_0x37ca9c[_0x3c794d(0x308)]),_0x37ca9c['creds.update']&&this['instance'][_0x3c794d(0x8a6)]['saveCreds'](),_0x37ca9c[_0x3c794d(0x310)]){let _0xa3c1f7=_0x37ca9c[_0x3c794d(0x310)];this[_0x3c794d(0x22d)][_0x3c794d(0x310)](_0xa3c1f7,_0xfd0920);}if(_0x37ca9c[_0x3c794d(0x184)]){let _0x2d5729=_0x37ca9c['messages.upsert'];this[_0x3c794d(0x22d)][_0x3c794d(0x184)](_0x2d5729,_0xfd0920);}if(_0x37ca9c[_0x3c794d(0x88b)]){let _0x14a505=_0x37ca9c[_0x3c794d(0x88b)];this['messageHandle']['messages.update'](_0x14a505,_0xfd0920);}if(_0x37ca9c[_0x3c794d(0x2d2)]){let _0x309aa3=_0x37ca9c[_0x3c794d(0x2d2)];if(this[_0x3c794d(0x1b7)]?.[_0x3c794d(0x3c6)]&&_0x309aa3['id'][_0x3c794d(0x457)]('@g.us'))return;this[_0x3c794d(0x7f3)]('presence.update',_0x309aa3);}if(_0x37ca9c[_0x3c794d(0x5bd)]){let _0x28c159=_0x37ca9c[_0x3c794d(0x5bd)];this[_0x3c794d(0x62d)][_0x3c794d(0x5bd)](_0x28c159);}if(_0x37ca9c['groups.update']){let _0x53e2a3=_0x37ca9c[_0x3c794d(0x41d)];this[_0x3c794d(0x62d)][_0x3c794d(0x41d)](_0x53e2a3);}if(_0x37ca9c['group-participants.update']){let _0xe8a011=_0x37ca9c[_0x3c794d(0x15d)];this['groupHandler'][_0x3c794d(0x15d)](_0xe8a011);}if(_0x37ca9c['chats.upsert']){let _0x447530=_0x37ca9c[_0x3c794d(0x830)];this[_0x3c794d(0x5b0)][_0x3c794d(0x830)](_0x447530,_0xfd0920);}if(_0x37ca9c[_0x3c794d(0x22f)]){let _0x2751c1=_0x37ca9c[_0x3c794d(0x22f)];this['chatHandle'][_0x3c794d(0x22f)](_0x2751c1,_0xfd0920);}if(_0x37ca9c['chats.delete']){let _0xb778c8=_0x37ca9c[_0x3c794d(0x55e)];this[_0x3c794d(0x5b0)]['chats.delete'](_0xb778c8);}if(_0x37ca9c[_0x3c794d(0x128)]){let _0x32da35=_0x37ca9c[_0x3c794d(0x128)];this[_0x3c794d(0x1fc)][_0x3c794d(0x128)](_0x32da35,_0xfd0920);}if(_0x37ca9c[_0x3c794d(0x6d4)]){let _0x138650=_0x37ca9c['contacts.update'];this[_0x3c794d(0x1fc)][_0x3c794d(0x6d4)](_0x138650,_0xfd0920);}}});}async[a0_0x299ca5(0x38b)](_0x10dc8b,_0x339a3f){const _0x8f00b0=a0_0x299ca5;if(_0x339a3f>=0xa){console['error'](this[_0x8f00b0(0x8b7)]+'\x20('+this['instance'][_0x8f00b0(0x851)]+_0x8f00b0(0x24b)),delete jt[_0x10dc8b[_0x8f00b0(0x143)]['id']];return;}try{console['error'](this[_0x8f00b0(0x8b7)]+'\x20('+this[_0x8f00b0(0x4dd)]['wuid']+_0x8f00b0(0x4ea)+(_0x339a3f+0x1)),await this[_0x8f00b0(0x6a1)][_0x8f00b0(0x3ce)](JSON[_0x8f00b0(0x24f)](_0x10dc8b[_0x8f00b0(0x1c9)][0x1],w[_0x8f00b0(0x36c)][_0x8f00b0(0x524)])),console[_0x8f00b0(0x77f)](_0x8f00b0(0x831));}catch(_0x23d914){console[_0x8f00b0(0x77f)](this['instanceName']+'\x20('+this[_0x8f00b0(0x4dd)][_0x8f00b0(0x851)]+_0x8f00b0(0x2c4)+_0x23d914),setTimeout(()=>this['retrySendMessage'](_0x10dc8b,_0x339a3f+0x1),Math[_0x8f00b0(0x80e)](0x2,_0x339a3f)*0x3e8);}}async[a0_0x299ca5(0x2bc)](_0x423a77){const _0x51cd78=a0_0x299ca5;let _0x3bdfd7=_0x423a77[_0x51cd78(0x143)]['remoteJid'][_0x51cd78(0x4d5)]('@g.us'),_0x4bf5fa;if(_0x423a77[_0x51cd78(0x143)]['fromMe'])_0x4bf5fa=this[_0x51cd78(0x4dd)][_0x51cd78(0x28e)];else{let _0x272570=_0x3bdfd7?_0x423a77['key']['participant']:_0x423a77['key']['remoteJid'];_0x4bf5fa=(await this['findAndUpdateCacheContact'](_0x272570,_0x423a77[_0x51cd78(0x1fe)],!0x1))[_0x51cd78(0x7e7)][_0x51cd78(0x2ea)];}_0x423a77[_0x51cd78(0x5c7)]&&_0x423a77['messageTimestamp'][_0x51cd78(0x5a7)]()[_0x51cd78(0x84b)]<0xd&&(_0x423a77[_0x51cd78(0x5c7)]=_0x423a77[_0x51cd78(0x5c7)]*0x3e8);let _0x3e160d={'_id':_0x423a77[_0x51cd78(0x143)]['id'],'key':_0x423a77['key'],'isGroup':_0x3bdfd7,'profilePictureUrl':_0x4bf5fa,'pushName':_0x423a77[_0x51cd78(0x1fe)],'message':{'text':_0x51cd78(0x4fe)},'messageType':'error','message_normalized':{'key':_0x423a77[_0x51cd78(0x143)],'pushName':_0x423a77['pushName'],'messageTimestamp':_0x423a77[_0x51cd78(0x5c7)],'source':(0x0,w[_0x51cd78(0x84a)])(_0x423a77[_0x51cd78(0x143)]['id']),'text':_0x51cd78(0x4fe)},'messageTimestamp':_0x423a77['messageTimestamp'],'owner':this[_0x51cd78(0x4dd)]['wuid'],'source':(0x0,w[_0x51cd78(0x84a)])(_0x423a77[_0x51cd78(0x143)]['id'])};this[_0x51cd78(0x31f)][_0x51cd78(0x77f)](this[_0x51cd78(0x8b7)]+'\x20('+this[_0x51cd78(0x4dd)][_0x51cd78(0x851)]+_0x51cd78(0x215)+(_0x3e160d['key']?.['fromMe']?_0x51cd78(0x7d4):_0x51cd78(0x2f9))+'\x20['+_0x3e160d[_0x51cd78(0x143)]?.['remoteJid'][_0x51cd78(0x35f)](_0x51cd78(0x5e0),'')+_0x51cd78(0x4bd)+_0x3e160d[_0x51cd78(0x237)]+')'),_0x3e160d[_0x51cd78(0x417)]?.[_0x51cd78(0x69c)]&&this['logger']['error'](_0x423a77[_0x51cd78(0x143)]['id']+':\x20'+_0x3e160d[_0x51cd78(0x417)]?.[_0x51cd78(0x69c)]),await this['repository'][_0x51cd78(0x503)][_0x51cd78(0x5d1)]([_0x3e160d],this[_0x51cd78(0x4dd)][_0x51cd78(0x851)]),await this[_0x51cd78(0x7d6)]['messageLogs'][_0x51cd78(0x5d1)]([_0x3e160d]),this[_0x51cd78(0x7f3)](_0x51cd78(0x184),_0x3e160d),F(this['instanceName'],_0x51cd78(0x703),{'message':_0x3e160d});}[a0_0x299ca5(0x150)](_0x3740ae){return new Promise(_0xfb1df8=>setTimeout(_0xfb1df8,_0x3740ae));}[a0_0x299ca5(0x4f8)](_0x29e472){const _0x372d40=a0_0x299ca5;_0x29e472=_0x29e472[_0x372d40(0x35f)](/\D/g,'');let _0x37c421=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x372d40(0x590)](_0x29e472);if(_0x37c421&&_0x37c421[0x1]==='55'){let _0x177c29=_0x37c421[0x2],_0xf89d7f=_0x37c421[0x3],_0x1fd628=_0x37c421[0x4];if(parseInt(_0x177c29)>=0x1f&&_0xf89d7f==='9')return _0x37c421[0x1]+_0x177c29+_0x1fd628;}return _0x29e472;}[a0_0x299ca5(0x156)](_0x5949f5){const _0x13b31f=a0_0x299ca5;return _0x5949f5['includes'](_0x13b31f(0x1ba))||_0x5949f5[_0x13b31f(0x457)](_0x13b31f(0x5e0))||_0x5949f5[_0x13b31f(0x457)]('@broadcast')?_0x5949f5:(_0x5949f5=_0x5949f5?.[_0x13b31f(0x35f)](/\s/g,'')[_0x13b31f(0x35f)](/\+/g,'')[_0x13b31f(0x35f)](/\(/g,'')['replace'](/\)/g,'')[_0x13b31f(0x5ca)](/\:/)[0x0][_0x13b31f(0x5ca)]('@')[0x0],_0x5949f5['length']>=0x12?(_0x5949f5=_0x5949f5['replace'](/[^\d-]/g,''),_0x5949f5+_0x13b31f(0x1ba)):(_0x5949f5=_0x5949f5[_0x13b31f(0x35f)](/\D/g,''),_0x5949f5+_0x13b31f(0x5e0)));}async[a0_0x299ca5(0x665)](_0x532654){const _0x2763b6=a0_0x299ca5;let _0x4790aa=(await this[_0x2763b6(0x53b)]({'numbers':[_0x532654[_0x2763b6(0x485)]]}))[0x0];if(!_0x4790aa[_0x2763b6(0x358)]&&!(0x0,w[_0x2763b6(0x27b)])(_0x4790aa['jid'])&&!_0x4790aa[_0x2763b6(0x4d8)][_0x2763b6(0x457)](_0x2763b6(0x4b8)))throw new m(_0x4790aa);let _0x3dea01=_0x4790aa[_0x2763b6(0x4d8)];try{return await this['client'][_0x2763b6(0x38c)](_0x3dea01),await this['client'][_0x2763b6(0x4f7)](_0x532654[_0x2763b6(0x1e8)],_0x3dea01),{'status':0xc8,'presence':_0x532654[_0x2763b6(0x1e8)]};}catch(_0x2281b5){let _0x3279b4=_0x2763b6(0x66c),_0x31dac9=_0x2281b5 instanceof Error?_0x2281b5[_0x2763b6(0x503)]:typeof _0x2281b5=='object'?JSON['stringify'](_0x2281b5):_0x2281b5,_0x4f324c=_0x3279b4+':\x20'+_0x31dac9;throw this[_0x2763b6(0x31f)][_0x2763b6(0x77f)](this[_0x2763b6(0x8b7)]+'\x20('+this['instance'][_0x2763b6(0x851)]+_0x2763b6(0x215)+_0x4f324c),new m(_0x4f324c);}}async[a0_0x299ca5(0x848)](_0x1b94fb,_0x31d2ab,_0x482907,_0x345880=!0x0){const _0x5dc949=a0_0x299ca5;let _0xb37591=await this[_0x5dc949(0x7d6)][_0x5dc949(0x497)][_0x5dc949(0x151)]({'where':{'_id':_0x1b94fb}});if(!_0xb37591&&!_0x345880)return;let _0x14d6fc={'lastUpdate':Date[_0x5dc949(0x1f1)]()};if(_0x482907||!_0xb37591?.[_0x5dc949(0x3c2)]||Date[_0x5dc949(0x1f1)]()-_0xb37591[_0x5dc949(0x3c2)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2c56ca=(await this[_0x5dc949(0x71e)](_0x1b94fb))[_0x5dc949(0x28e)];_0x14d6fc[_0x5dc949(0x2ea)]=_0x2c56ca;}catch(_0x4648f0){let _0x19f091=_0x5dc949(0x4c0),_0x1094ca=_0x4648f0 instanceof Error?_0x4648f0[_0x5dc949(0x503)]:typeof _0x4648f0==_0x5dc949(0x6dc)?JSON['stringify'](_0x4648f0):_0x4648f0,_0x288eb5=_0x19f091+':\x20'+_0x1094ca;throw this[_0x5dc949(0x31f)]['error'](this[_0x5dc949(0x8b7)]+'\x20('+this[_0x5dc949(0x4dd)][_0x5dc949(0x851)]+_0x5dc949(0x215)+_0x288eb5),new m(_0x288eb5);}return _0x31d2ab&&_0xb37591?.[_0x5dc949(0x5d0)]!==_0x31d2ab&&(_0x14d6fc['name']=_0x31d2ab),Object[_0x5dc949(0x791)](_0x14d6fc)['length']>0x1&&(_0xb37591?await this[_0x5dc949(0x7d6)][_0x5dc949(0x497)][_0x5dc949(0x130)]({'where':{'_id':_0x1b94fb}},_0x14d6fc):await this[_0x5dc949(0x7d6)][_0x5dc949(0x497)]['insert']([{'_id':_0x1b94fb,..._0x14d6fc}]),_0xb37591={..._0xb37591,..._0x14d6fc}),{'cachedContact':_0xb37591};}async['profilePicture'](_0x32cbfd){const _0x17e996=a0_0x299ca5;let _0x5920a1=this[_0x17e996(0x156)](_0x32cbfd);try{return{'wuid':_0x5920a1,'profilePictureUrl':await this[_0x17e996(0x6a1)]['profilePictureUrl'](_0x5920a1,_0x17e996(0x835))};}catch{return{'wuid':_0x5920a1,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x398827,_0x3cda9f,_0x3f47bb){const _0x490afa=a0_0x299ca5;let _0x351eb4=0x0;for(;_0x351eb4<0x5;)try{return await this[_0x490afa(0x5da)](_0x398827,_0x3cda9f,_0x3f47bb);}catch(_0x6271c9){if(_0x351eb4++,_0x6271c9 instanceof Error&&_0x6271c9[_0x490afa(0x503)]===_0x490afa(0x55f)){if(_0x351eb4>=0x5)throw new m(_0x490afa(0x784)+_0x6271c9['message']);this['logger'][_0x490afa(0x727)](_0x490afa(0x235)+_0x351eb4+_0x490afa(0x3f1)+_0x6271c9[_0x490afa(0x503)]+_0x490afa(0x687)+0x1388/0x3e8+_0x490afa(0x6af)),await new Promise(_0x2b33b9=>setTimeout(_0x2b33b9,0x1388));}else throw new m(_0x6271c9[_0x490afa(0x503)]);}}async[a0_0x299ca5(0x5da)](_0x4c9851,_0x169464,_0x86c8cc){const _0x27bb09=a0_0x299ca5;let _0x47e274;try{let _0x4d650d=(await this[_0x27bb09(0x53b)]({'numbers':[_0x4c9851]}))?.[_0x27bb09(0x1cc)]();if(!_0x4d650d[_0x27bb09(0x358)]&&!(0x0,w[_0x27bb09(0x27b)])(_0x4d650d['jid'])&&!_0x4d650d['jid'][_0x27bb09(0x457)](_0x27bb09(0x4b8)))throw new m(_0x4d650d);_0x47e274=_0x4d650d[_0x27bb09(0x4d8)];}catch(_0x1d07d8){_0x47e274=_0x4c9851,this[_0x27bb09(0x31f)][_0x27bb09(0x727)](this['instanceName']+'\x20('+this[_0x27bb09(0x4dd)]['wuid']+_0x27bb09(0x742)+_0x1d07d8[_0x27bb09(0x503)]),this[_0x27bb09(0x31f)][_0x27bb09(0x727)](this[_0x27bb09(0x8b7)]+'\x20('+this[_0x27bb09(0x4dd)][_0x27bb09(0x851)]+'):\x20sender\x20=\x20number:\x20'+_0x47e274);}try{if(_0x47e274||(_0x47e274=_0x4c9851,this[_0x27bb09(0x31f)][_0x27bb09(0x727)](this['instanceName']+'\x20('+this['instance'][_0x27bb09(0x851)]+_0x27bb09(0x3c7)+_0x47e274)),_0x86c8cc||(_0x86c8cc={}),_0x86c8cc?.[_0x27bb09(0x5bf)]){await this['client'][_0x27bb09(0x38c)](_0x47e274),await this[_0x27bb09(0x6a1)]['sendPresenceUpdate'](_0x86c8cc?.['presence']??'composing',_0x47e274);let _0x4dae5a=Math[_0x27bb09(0x493)](_0x86c8cc[_0x27bb09(0x5bf)],0x2710);await(0x0,w[_0x27bb09(0x5bf)])(_0x4dae5a),await this[_0x27bb09(0x6a1)][_0x27bb09(0x4f7)]('paused',_0x47e274);}let _0x5ab3e0=_0x86c8cc?.[_0x27bb09(0x23a)]!=!0x1?void 0x0:!0x1,_0x1ae8f9;if(_0x86c8cc?.['quoted']){let {key:_0x214674,message:_0x56ca38}=_0x86c8cc[_0x27bb09(0x21f)];if(_0x56ca38)_0x1ae8f9={'key':_0x214674,'message':_0x56ca38};else{let _0x44b66a=await this[_0x27bb09(0x8e5)](_0x214674,!0x0);_0x44b66a?.[_0x27bb09(0x143)]&&(_0x1ae8f9=_0x44b66a);}}let _0x4051c3=await this['repository'][_0x27bb09(0x76d)]['findOne']({'where':{'_id':_0x47e274}},this[_0x27bb09(0x4dd)][_0x27bb09(0x851)]),_0x449af8,_0x3de751=null;if((0x0,w['isJidGroup'])(_0x47e274))try{if(_0x3de751=_0x4051c3['groupdata'],!_0x3de751)throw new U(_0x27bb09(0x3d8));if(!_0x3de751[_0x27bb09(0x4f3)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x86c8cc?.[_0x27bb09(0x53d)]&&(_0x86c8cc['mentions']?.[_0x27bb09(0x468)]?_0x449af8=_0x3de751[_0x27bb09(0x2c7)][_0x27bb09(0x3ae)](_0x2d2e8d=>_0x2d2e8d['id']):_0x86c8cc[_0x27bb09(0x53d)]?.[_0x27bb09(0x53e)]?.['length']&&(_0x449af8=_0x86c8cc[_0x27bb09(0x53d)]['mentioned'][_0x27bb09(0x3ae)](_0x581cff=>{const _0x10264b=_0x27bb09;let _0x4a75bb=this[_0x10264b(0x156)](_0x581cff);return(0x0,w[_0x10264b(0x27b)])(_0x4a75bb)?null:_0x4a75bb;})));}catch(_0x891085){throw _0x891085 instanceof U?new U(_0x27bb09(0x3d8)):_0x891085 instanceof m?new m(_0x27bb09(0x2a6)):new Error(_0x27bb09(0x2d1));}let _0x485256=await((async()=>{const _0x576515=_0x27bb09;let _0x5d1104={'quoted':_0x1ae8f9,'ephemeralExpiration':_0x4051c3?.['ephemeralExpiration']??0x0};if(!_0x169464[_0x576515(0x402)]&&!_0x169464[_0x576515(0x4eb)]&&!_0x169464['sticker']&&!_0x169464[_0x576515(0x312)]&&_0x47e274!=='status@broadcast'&&_0x169464[_0x576515(0x440)])return await this['client'][_0x576515(0x75e)](_0x47e274,{'react':{'text':_0x169464['reactionMessage']['text'],'key':_0x169464[_0x576515(0x440)][_0x576515(0x143)]}},_0x5d1104);if(_0x169464[_0x576515(0x312)]){let _0x24f375=_0x169464[_0x576515(0x312)];return _0x86c8cc?.['changeVariables']&&(_0x24f375=await this[_0x576515(0x42a)](_0x24f375,_0x47e274)),await this[_0x576515(0x6a1)][_0x576515(0x75e)](_0x47e274,{'text':_0x24f375,'mentions':_0x449af8,'linkPreview':_0x5ab3e0},_0x5d1104);}return!_0x169464[_0x576515(0x402)]&&!_0x169464[_0x576515(0x4eb)]&&_0x47e274!=_0x576515(0x641)?await this['client'][_0x576515(0x75e)](_0x47e274,{'forward':{'key':{'remoteJid':this[_0x576515(0x4dd)][_0x576515(0x851)],'fromMe':!0x0},'message':_0x169464},'mentions':_0x449af8},_0x5d1104):_0x47e274===_0x576515(0x641)?await this['client'][_0x576515(0x75e)](_0x47e274,_0x169464[_0x576515(0x5d8)][_0x576515(0x65c)],{'backgroundColor':_0x169464[_0x576515(0x5d8)][_0x576515(0x50f)]['backgroundColor'],'font':_0x169464[_0x576515(0x5d8)]['option'][_0x576515(0x807)],'statusJidList':_0x169464['status']['option'][_0x576515(0x169)]}):await this['client'][_0x576515(0x75e)](_0x47e274,_0x169464,_0x5d1104);})()),_0x41997b=(0x0,w[_0x27bb09(0x847)])(_0x485256[_0x27bb09(0x503)]),_0x20fd83=(0x0,w['getContentType'])(_0x41997b),{message_normalized:_0x3d9775}=this['normalizeMessage'](_0x41997b,_0x20fd83,null),_0x17d016={'_id':_0x485256[_0x27bb09(0x143)]['id'],'key':_0x485256[_0x27bb09(0x143)],'pushName':_0x485256[_0x27bb09(0x1fe)],'isGroup':_0x485256[_0x27bb09(0x143)]['remoteJid'][_0x27bb09(0x4d5)]('@g.us'),'profilePictureUrl':this[_0x27bb09(0x4dd)][_0x27bb09(0x28e)],'message':_0x41997b,'messageType':_0x20fd83,'message_normalized':{'key':_0x485256[_0x27bb09(0x143)],'pushName':_0x485256['pushName'],'messageTimestamp':_0x485256[_0x27bb09(0x5c7)]&&_0x485256[_0x27bb09(0x5c7)][_0x27bb09(0x5a7)]()[_0x27bb09(0x84b)]<0xd?_0x485256['messageTimestamp']*0x3e8:_0x485256[_0x27bb09(0x5c7)]||null,'source':(0x0,w[_0x27bb09(0x84a)])(_0x485256['key']['id']),..._0x3d9775},'messageTimestamp':_0x485256[_0x27bb09(0x5c7)]&&_0x485256[_0x27bb09(0x5c7)]['toString']()[_0x27bb09(0x84b)]<0xd?_0x485256[_0x27bb09(0x5c7)]*0x3e8:_0x485256[_0x27bb09(0x5c7)]||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x27bb09(0x84a)])(_0x485256[_0x27bb09(0x143)]['id'])};return this['logger'][_0x27bb09(0x727)](this[_0x27bb09(0x8b7)]+'\x20('+this[_0x27bb09(0x4dd)]['wuid']+_0x27bb09(0x5d7)+_0x17d016[_0x27bb09(0x143)]?.[_0x27bb09(0x530)]['replace']('@s.whatsapp.net','')+']\x20('+_0x17d016[_0x27bb09(0x237)]+')'),_0x17d016[_0x27bb09(0x417)]?.[_0x27bb09(0x69c)]&&this[_0x27bb09(0x31f)]['warn'](_0x17d016[_0x27bb09(0x417)]?.[_0x27bb09(0x69c)]),this['sendDataWebhook'](_0x27bb09(0x72d),_0x17d016),F(this[_0x27bb09(0x8b7)],_0x27bb09(0x703),{'message':_0x17d016}),this[_0x27bb09(0x6b5)](this[_0x27bb09(0x1d9)][_0x27bb09(0x2ed)](_0x27bb09(0x65d)),_0x17d016,_0x27bb09(0x6a7),_0x4051c3),await this[_0x27bb09(0x7d6)][_0x27bb09(0x503)]['insert']([_0x17d016],this[_0x27bb09(0x4dd)]['wuid']),_0x485256;}catch(_0x14089d){let _0x2dfb4b=_0x27bb09(0x299)+_0x47e274,_0x877136=_0x14089d instanceof Error?_0x14089d['message']:typeof _0x14089d==_0x27bb09(0x6dc)?JSON['stringify'](_0x14089d):_0x14089d,_0x38bc78=_0x2dfb4b+':\x20'+_0x877136;throw this[_0x27bb09(0x31f)][_0x27bb09(0x77f)](this[_0x27bb09(0x8b7)]+'\x20('+this[_0x27bb09(0x4dd)]['wuid']+_0x27bb09(0x215)+_0x38bc78),new m(_0x38bc78);}}async['sendMessageWithTypingButtons'](_0x20bdfd,_0x155db0,_0x57b559){const _0x2b4e64=a0_0x299ca5;let _0x956eb3=this[_0x2b4e64(0x156)](_0x20bdfd),_0x5a3946=(await this['whatsappNumber']({'numbers':[_0x956eb3]}))[0x0];if(!_0x5a3946[_0x2b4e64(0x358)]&&!(0x0,w[_0x2b4e64(0x27b)])(_0x5a3946[_0x2b4e64(0x4d8)]))throw new m(_0x5a3946);let _0x5031a0=(0x0,w[_0x2b4e64(0x27b)])(_0x956eb3)?_0x956eb3:_0x5a3946['jid'];if((0x0,w[_0x2b4e64(0x27b)])(_0x5031a0))try{await this[_0x2b4e64(0x6a1)]['groupMetadata'](_0x5031a0);}catch{throw new m(_0x2b4e64(0x874));}try{_0x57b559?.['delay']&&(await this['client'][_0x2b4e64(0x38c)](_0x5031a0),await this[_0x2b4e64(0x6a1)][_0x2b4e64(0x4f7)](_0x57b559?.[_0x2b4e64(0x1e8)]??_0x2b4e64(0x858),_0x956eb3),await(0x0,w['delay'])(_0x57b559[_0x2b4e64(0x5bf)]),await this[_0x2b4e64(0x6a1)][_0x2b4e64(0x4f7)](_0x2b4e64(0x473),_0x5031a0));let _0x44053e=await((async()=>{const _0x59f55b=_0x2b4e64;let _0x32379f;if(_0x57b559?.[_0x59f55b(0x21f)]){let {key:_0x25b52c,message:_0x220390}=_0x57b559[_0x59f55b(0x21f)];if(_0x220390)_0x32379f={'key':_0x25b52c,'message':_0x220390};else{let _0x2ca276=await this[_0x59f55b(0x8e5)](_0x25b52c,!0x0);_0x2ca276?.[_0x59f55b(0x143)]&&(_0x32379f=_0x2ca276);}}let _0x59686f=_0x59f55b(0x206)+(0x0,re[_0x59f55b(0x12e)])(0x12)[_0x59f55b(0x5a7)]('hex')[_0x59f55b(0x6cd)](),_0x33039d=(0x0,w['generateWAMessageFromContent'])(_0x5031a0,_0x155db0,{'timestamp':new Date(),'userJid':this['instance']['wuid'],'messageId':_0x59686f,'quoted':_0x32379f}),_0x5604a5=await this[_0x59f55b(0x6a1)]['relayMessage'](_0x5031a0,_0x33039d['message'],{'messageId':_0x59686f});_0x33039d[_0x59f55b(0x143)]={'id':_0x5604a5,'remoteJid':_0x956eb3,'participant':Oi(_0x956eb3)?void 0x0:_0x956eb3,'fromMe':!0x0};for(let [_0x51c63a,_0x1c70e8]of Object['entries'](_0x33039d))(!_0x1c70e8||Array[_0x59f55b(0x21d)](_0x1c70e8)&&_0x1c70e8[_0x59f55b(0x84b)]===0x0)&&delete _0x33039d[_0x51c63a];return this[_0x59f55b(0x6a1)]['ev']['emit'](_0x59f55b(0x184),{'messages':[_0x33039d],'type':_0x59f55b(0x5c3)}),_0x33039d;})()),_0x59e57e=await this['repository'][_0x2b4e64(0x76d)]['findOne']({'where':{'_id':_0x5031a0}},this['instance'][_0x2b4e64(0x851)]),_0x4bf59a=(0x0,w[_0x2b4e64(0x847)])(_0x44053e[_0x2b4e64(0x503)]),_0x334434=(0x0,w[_0x2b4e64(0x1da)])(_0x4bf59a),{message_normalized:_0x5766ff}=this[_0x2b4e64(0x47b)](_0x4bf59a,_0x334434,null),_0x3278cd={'_id':_0x44053e[_0x2b4e64(0x143)]['id'],'key':_0x44053e['key'],'pushName':_0x44053e[_0x2b4e64(0x1fe)],'isGroup':_0x44053e['key'][_0x2b4e64(0x530)][_0x2b4e64(0x4d5)](_0x2b4e64(0x1ba)),'profilePictureUrl':this[_0x2b4e64(0x4dd)]['profilePictureUrl'],'message':_0x4bf59a,'messageType':_0x334434,'message_normalized':{'key':_0x44053e[_0x2b4e64(0x143)],'pushName':_0x44053e[_0x2b4e64(0x1fe)],'messageTimestamp':_0x44053e['messageTimestamp']&&_0x44053e[_0x2b4e64(0x5c7)]['toString']()[_0x2b4e64(0x84b)]<0xd?_0x44053e[_0x2b4e64(0x5c7)]*0x3e8:_0x44053e['messageTimestamp']||null,'source':(0x0,w[_0x2b4e64(0x84a)])(_0x44053e[_0x2b4e64(0x143)]['id']),..._0x5766ff},'messageTimestamp':_0x44053e[_0x2b4e64(0x5c7)]&&_0x44053e[_0x2b4e64(0x5c7)][_0x2b4e64(0x5a7)]()[_0x2b4e64(0x84b)]<0xd?_0x44053e[_0x2b4e64(0x5c7)]*0x3e8:_0x44053e[_0x2b4e64(0x5c7)]||null,'owner':this[_0x2b4e64(0x4dd)][_0x2b4e64(0x851)],'source':(0x0,w[_0x2b4e64(0x84a)])(_0x44053e[_0x2b4e64(0x143)]['id'])};return this['logger'][_0x2b4e64(0x727)](this[_0x2b4e64(0x8b7)]+'\x20('+this[_0x2b4e64(0x4dd)][_0x2b4e64(0x851)]+'):\x20enviado\x20para\x20['+_0x3278cd['key']?.[_0x2b4e64(0x530)]['replace'](_0x2b4e64(0x5e0),'')+']\x20('+_0x3278cd[_0x2b4e64(0x237)]+')'),_0x3278cd[_0x2b4e64(0x417)]?.[_0x2b4e64(0x69c)]&&this[_0x2b4e64(0x31f)][_0x2b4e64(0x727)](_0x3278cd['message_normalized']?.[_0x2b4e64(0x69c)]),this[_0x2b4e64(0x7f3)](_0x2b4e64(0x72d),_0x3278cd),F(this['instanceName'],'messages',{'message':_0x3278cd}),this[_0x2b4e64(0x6b5)](this['configService'][_0x2b4e64(0x2ed)](_0x2b4e64(0x65d)),_0x3278cd,_0x2b4e64(0x6a7),_0x59e57e),await this[_0x2b4e64(0x7d6)][_0x2b4e64(0x503)][_0x2b4e64(0x5d1)]([_0x3278cd],this[_0x2b4e64(0x4dd)][_0x2b4e64(0x851)]),_0x44053e;}catch(_0x34d1db){throw this['logger']['error'](_0x34d1db),new m(_0x34d1db[_0x2b4e64(0x5a7)]());}}get['connectionStatus'](){const _0xdfb4ca=a0_0x299ca5;return this[_0xdfb4ca(0x444)];}async[a0_0x299ca5(0x1a2)](_0x241c0b){const _0x501b67=a0_0x299ca5;return await this['sendMessageWithRetry'](_0x241c0b[_0x501b67(0x485)],{'conversation':_0x241c0b[_0x501b67(0x1a2)][_0x501b67(0x69c)]},_0x241c0b?.[_0x501b67(0x630)]);}async[a0_0x299ca5(0x424)](_0xb59370){const _0x211518=a0_0x299ca5;if(!_0xb59370[_0x211518(0x82f)])throw new m(_0x211518(0x2de));if(!_0xb59370['content'])throw new m(_0x211518(0x6f9));if(_0xb59370[_0x211518(0x2f1)]){let _0x574847=await this[_0x211518(0x7d6)][_0x211518(0x7a4)]['find']({'where':{}},this['instance'][_0x211518(0x851)]);if(!_0x574847['length'])throw new m(_0x211518(0x7c4));_0xb59370[_0x211518(0x169)]=_0x574847[_0x211518(0x67c)](_0x47b9a9=>_0x47b9a9[_0x211518(0x1fe)])[_0x211518(0x3ae)](_0xc5a2c4=>_0xc5a2c4[_0x211518(0x898)]);}if(!_0xb59370[_0x211518(0x169)]?.[_0x211518(0x84b)]&&!_0xb59370[_0x211518(0x2f1)])throw new m(_0x211518(0x584));if(_0xb59370[_0x211518(0x82f)]===_0x211518(0x69c)){if(!_0xb59370[_0x211518(0x24d)])throw new m(_0x211518(0x19a));if(!_0xb59370[_0x211518(0x807)])throw new m(_0x211518(0x46d));return{'content':{'text':_0xb59370[_0x211518(0x65c)]},'option':{'backgroundColor':_0xb59370['backgroundColor'],'font':_0xb59370[_0x211518(0x807)],'statusJidList':_0xb59370['statusJidList']}};}if(_0xb59370[_0x211518(0x82f)]===_0x211518(0x835))return{'content':{'image':{'url':_0xb59370[_0x211518(0x65c)]},'caption':_0xb59370[_0x211518(0x2e3)]},'option':{'statusJidList':_0xb59370[_0x211518(0x169)]}};if(_0xb59370[_0x211518(0x82f)]==='video')return{'content':{'video':{'url':_0xb59370[_0x211518(0x65c)]},'caption':_0xb59370[_0x211518(0x2e3)]},'option':{'statusJidList':_0xb59370[_0x211518(0x169)]}};if(_0xb59370['type']===_0x211518(0x402)){this[_0x211518(0x31f)][_0x211518(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x211518(0x851)]+_0x211518(0x577)),this[_0x211518(0x31f)][_0x211518(0x8bd)](this[_0x211518(0x8b7)]+'\x20('+this[_0x211518(0x4dd)][_0x211518(0x851)]+_0x211518(0x57c));let _0x26a56f=await this[_0x211518(0x762)](_0xb59370[_0x211518(0x65c)]);if(typeof _0x26a56f=='string'){this['logger']['verbose'](this[_0x211518(0x8b7)]+'\x20('+this['instance']['wuid']+_0x211518(0x195));let _0x30dd3d=k[_0x211518(0x5db)](_0x26a56f)[_0x211518(0x5a7)](_0x211518(0x566));return{'content':{'audio':Buffer[_0x211518(0x374)](_0x30dd3d,_0x211518(0x566)),'ptt':!0x0,'mimetype':_0x211518(0x58a)},'option':{'statusJidList':_0xb59370[_0x211518(0x169)]}};}else throw new x(_0x26a56f);}throw new m(_0x211518(0x1c3));}async[a0_0x299ca5(0x748)](_0x1253a9){const _0x4810a9=a0_0x299ca5;return await this[_0x4810a9(0x64c)](_0x4810a9(0x641),{'status':await this['formatStatusMessage'](_0x1253a9[_0x4810a9(0x748)])});}async[a0_0x299ca5(0x6ab)](_0x4995ed){const _0x965e09=a0_0x299ca5;try{let _0xb98da8=await(0x0,w['prepareWAMessageMedia'])({[_0x4995ed[_0x965e09(0x624)]]:(0x0,J['isURL'])(_0x4995ed['media'])?{'url':_0x4995ed['media']}:Buffer[_0x965e09(0x374)](_0x4995ed['media'],_0x965e09(0x566))},{'upload':this['client']['waUploadToServer']}),_0x3979e0=_0x4995ed[_0x965e09(0x624)]+'Message';if(_0x4995ed[_0x965e09(0x624)]==='document'&&!_0x4995ed['fileName']){let _0x5cf4dd=new RegExp(/.*\/(.+?)\./)[_0x965e09(0x590)](_0x4995ed[_0x965e09(0x451)]);_0x4995ed['fileName']=_0x5cf4dd?_0x5cf4dd[0x1]:null;}let _0x25a4a9;return(0x0,J['isURL'])(_0x4995ed[_0x965e09(0x451)])?_0x25a4a9=(await K[_0x965e09(0x222)]['get'](_0x4995ed['media'],{'responseType':_0x965e09(0x768)}))[_0x965e09(0x74a)][_0x965e09(0x760)]:_0x25a4a9=(0x0,Fi['getMIMEType'])(_0x4995ed[_0x965e09(0x225)]),_0xb98da8[_0x3979e0][_0x965e09(0x2e3)]=_0x4995ed?.['caption'],_0xb98da8[_0x3979e0][_0x965e09(0x7ca)]=_0x25a4a9,_0xb98da8[_0x3979e0]['fileName']=_0x4995ed['fileName'],_0x4995ed['mediatype']===_0x965e09(0x2b4)&&(_0xb98da8[_0x3979e0][_0x965e09(0x620)]=Uint8Array['from']((0x0,Je['readFileSync'])((0x0,j['join'])(process[_0x965e09(0x4cf)](),_0x965e09(0x40d)))),_0xb98da8[_0x3979e0][_0x965e09(0x35c)]=!0x1),(0x0,w[_0x965e09(0x2db)])('',{[_0x3979e0]:{..._0xb98da8[_0x3979e0]}},{'userJid':this[_0x965e09(0x4dd)][_0x965e09(0x851)]});}catch(_0x1e909d){let _0x2f7704=_0x965e09(0x8d0),_0x23a57e=_0x1e909d instanceof Error?_0x1e909d[_0x965e09(0x503)]:typeof _0x1e909d==_0x965e09(0x6dc)?JSON[_0x965e09(0x6ed)](_0x1e909d):_0x1e909d,_0x23069e=_0x2f7704+':\x20'+_0x23a57e;throw this[_0x965e09(0x31f)][_0x965e09(0x77f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x965e09(0x215)+_0x23069e),new x(_0x23069e);}}async['mediaMessage'](_0x3dafbc){const _0x7370bc=a0_0x299ca5;let _0x30b942=0x0;for(;_0x30b942<0x5;)try{let _0x161620=await this['prepareMediaMessage'](_0x3dafbc['mediaMessage']);return await this['sendMessageWithRetry'](_0x3dafbc['number'],{..._0x161620[_0x7370bc(0x503)]},_0x3dafbc?.[_0x7370bc(0x630)]);}catch(_0x6a71c1){if(_0x30b942++,_0x6a71c1 instanceof Error&&_0x6a71c1[_0x7370bc(0x503)]===_0x7370bc(0x55f)){if(_0x30b942>=0x5)throw new m(_0x7370bc(0x48a)+_0x6a71c1[_0x7370bc(0x503)]);this[_0x7370bc(0x31f)][_0x7370bc(0x727)](_0x7370bc(0x235)+_0x30b942+_0x7370bc(0x588)+_0x6a71c1[_0x7370bc(0x503)]+_0x7370bc(0x687)+0x1388/0x3e8+'\x20segundos...'),await new Promise(_0x1eb0b9=>setTimeout(_0x1eb0b9,0x1388));}else throw new m(_0x6a71c1[_0x7370bc(0x503)]);}}async[a0_0x299ca5(0x7a8)](_0x42a3e9,_0x7eebf2){const _0x595f9f=a0_0x299ca5;try{this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)]['wuid']+_0x595f9f(0x3cf));let _0x3a496d,_0x224d28=_0x7eebf2+'-'+new Date()[_0x595f9f(0x765)]();this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+'):Hash\x20to\x20image\x20name:\x20'+_0x224d28);let _0x7c3720=''+(0x0,j[_0x595f9f(0x35d)])(this[_0x595f9f(0x480)],_0x224d28+_0x595f9f(0x152));if(this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this['instance'][_0x595f9f(0x851)]+_0x595f9f(0x679)+_0x7c3720),(0x0,J['isBase64'])(_0x42a3e9)){this[_0x595f9f(0x31f)]['verbose'](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)]['wuid']+_0x595f9f(0x149));let _0x35852c=_0x42a3e9['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3efddb=Buffer[_0x595f9f(0x374)](_0x35852c,_0x595f9f(0x566));_0x3a496d=''+(0x0,j[_0x595f9f(0x35d)])(this['storePath'],'temp-'+_0x224d28+'.png'),this[_0x595f9f(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x595f9f(0x4dd)]['wuid']+_0x595f9f(0x7d3)+_0x3a496d),await(0x0,qt[_0x595f9f(0x222)])(_0x3efddb)['toFile'](_0x3a496d),this[_0x595f9f(0x31f)]['verbose'](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x268));}else{this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)]['wuid']+_0x595f9f(0x80c));let _0x5bc821=new Date()[_0x595f9f(0x765)](),_0x161787=_0x42a3e9+_0x595f9f(0x881)+_0x5bc821;this['logger'][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x161787);let _0x402247=await K[_0x595f9f(0x222)][_0x595f9f(0x2ed)](_0x161787,{'responseType':'arraybuffer'});this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x82a));let _0x30352b=Buffer[_0x595f9f(0x374)](_0x402247[_0x595f9f(0x2fb)],_0x595f9f(0x8d1));_0x3a496d=''+(0x0,j[_0x595f9f(0x35d)])(this['storePath'],_0x595f9f(0x73a)+_0x224d28+_0x595f9f(0x589)),this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x7d3)+_0x3a496d),await(0x0,qt[_0x595f9f(0x222)])(_0x30352b)[_0x595f9f(0x565)](_0x3a496d),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x595f9f(0x4dd)]['wuid']+_0x595f9f(0x268));}return await(0x0,qt[_0x595f9f(0x222)])(_0x3a496d)['webp']()[_0x595f9f(0x565)](_0x7c3720),this[_0x595f9f(0x31f)][_0x595f9f(0x8bd)](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x1b1)),k['unlinkSync'](_0x3a496d),this[_0x595f9f(0x31f)]['verbose'](this[_0x595f9f(0x8b7)]+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x741)),_0x7c3720;}catch(_0x209827){let _0x3f01d9=_0x595f9f(0x2a8),_0x546850=_0x209827 instanceof Error?_0x209827[_0x595f9f(0x503)]:typeof _0x209827==_0x595f9f(0x6dc)?JSON[_0x595f9f(0x6ed)](_0x209827):_0x209827,_0x57a083=_0x3f01d9+':\x20'+_0x546850;this['logger'][_0x595f9f(0x77f)](this['instanceName']+'\x20('+this[_0x595f9f(0x4dd)][_0x595f9f(0x851)]+_0x595f9f(0x215)+_0x57a083);}}async[a0_0x299ca5(0x1e6)](_0x22e2c4){const _0x55b0a6=a0_0x299ca5;let _0x51697c=await this[_0x55b0a6(0x7a8)](_0x22e2c4['stickerMessage'][_0x55b0a6(0x835)],_0x22e2c4[_0x55b0a6(0x485)]),_0x7234e7=await this[_0x55b0a6(0x64c)](_0x22e2c4[_0x55b0a6(0x485)],{'sticker':{'url':_0x51697c}},_0x22e2c4?.[_0x55b0a6(0x630)]);return k[_0x55b0a6(0x29d)](_0x51697c),this['logger']['verbose'](this[_0x55b0a6(0x8b7)]+'\x20('+this[_0x55b0a6(0x4dd)][_0x55b0a6(0x851)]+'):Converted\x20image\x20deleted'),_0x7234e7;}async[a0_0x299ca5(0x75c)](_0x74a95d){const _0x15be53=a0_0x299ca5;if(this[_0x15be53(0x31f)]['verbose'](this[_0x15be53(0x8b7)]+'\x20('+this[_0x15be53(0x4dd)][_0x15be53(0x851)]+'):Sending\x20audio\x20whatsapp'),!_0x74a95d[_0x15be53(0x630)]?.[_0x15be53(0x57b)]&&_0x74a95d[_0x15be53(0x630)]?.[_0x15be53(0x57b)]!==!0x1&&(_0x74a95d[_0x15be53(0x630)][_0x15be53(0x57b)]=!0x0),_0x74a95d[_0x15be53(0x630)]?.[_0x15be53(0x57b)]){let _0x2c9aea=await this['convertaudio'](_0x74a95d[_0x15be53(0x4bb)][_0x15be53(0x402)]);if(typeof _0x2c9aea==_0x15be53(0x7a5)){let _0x1c5c06=k[_0x15be53(0x5db)](_0x2c9aea)[_0x15be53(0x5a7)](_0x15be53(0x566));return this[_0x15be53(0x64c)](_0x74a95d[_0x15be53(0x485)],{'audio':Buffer[_0x15be53(0x374)](_0x1c5c06,_0x15be53(0x566)),'ptt':!0x0,'mimetype':_0x15be53(0x3d6)},{'presence':_0x15be53(0x1d2),'delay':_0x74a95d?.[_0x15be53(0x630)]?.[_0x15be53(0x5bf)]});}else throw new x(_0x2c9aea);}return await this[_0x15be53(0x64c)](_0x74a95d[_0x15be53(0x485)],{'audio':(0x0,J['isURL'])(_0x74a95d[_0x15be53(0x4bb)][_0x15be53(0x402)])?{'url':_0x74a95d[_0x15be53(0x4bb)][_0x15be53(0x402)]}:Buffer['from'](_0x74a95d[_0x15be53(0x4bb)][_0x15be53(0x402)],_0x15be53(0x566)),'ptt':!0x0,'mimetype':_0x15be53(0x3d6)},{'presence':_0x15be53(0x1d2),'delay':_0x74a95d?.[_0x15be53(0x630)]?.[_0x15be53(0x5bf)]});}async[a0_0x299ca5(0x762)](_0x3ca143){const _0x8354c2=a0_0x299ca5;this[_0x8354c2(0x31f)][_0x8354c2(0x8bd)](this[_0x8354c2(0x8b7)]+'\x20('+this[_0x8354c2(0x4dd)][_0x8354c2(0x851)]+_0x8354c2(0x57c));let _0x3e7cf5=(0x0,J['isURL'])(_0x3ca143)?(0x0,re[_0x8354c2(0x801)])(_0x8354c2(0x29e))[_0x8354c2(0x130)](_0x3ca143)['digest'](_0x8354c2(0x523)):(0x0,re[_0x8354c2(0x801)])('sha256')[_0x8354c2(0x130)](_0x3ca143)[_0x8354c2(0x886)](_0x8354c2(0x523)),_0x5efe67=''+(0x0,j['join'])(this[_0x8354c2(0x480)],_0x3e7cf5+'.ogg');if(k[_0x8354c2(0x5d4)](_0x5efe67))return this[_0x8354c2(0x31f)][_0x8354c2(0x8bd)](this[_0x8354c2(0x8b7)]+'\x20('+this[_0x8354c2(0x4dd)][_0x8354c2(0x851)]+_0x8354c2(0x5c1)),_0x5efe67;let _0x5e82e5=''+(0x0,j['join'])(this[_0x8354c2(0x480)],'temp-'+(0x0,Q['v4'])()+_0x8354c2(0x4ab));if((0x0,J['isURL'])(_0x3ca143)){let _0x43a8ea=new Date()['getTime'](),_0xe01ca2=_0x3ca143+_0x8354c2(0x881)+_0x43a8ea,_0x4cfbf4=await K[_0x8354c2(0x222)][_0x8354c2(0x2ed)](_0xe01ca2,{'responseType':_0x8354c2(0x768)});k[_0x8354c2(0x5b4)](_0x5e82e5,_0x4cfbf4[_0x8354c2(0x2fb)]);}else{let _0x6ffe93=Buffer[_0x8354c2(0x374)](_0x3ca143,'base64');k[_0x8354c2(0x5b4)](_0x5e82e5,_0x6ffe93);}return new Promise((_0x4f5761,_0xc51461)=>{const _0x4edc2b=_0x8354c2;(0x0,qe[_0x4edc2b(0x590)])(Us[_0x4edc2b(0x222)][_0x4edc2b(0x36d)]+'\x20-i\x20'+_0x5e82e5+_0x4edc2b(0x5dc)+_0x5efe67+_0x4edc2b(0x747),_0xcc35fa=>{const _0x2dd7e9=_0x4edc2b;if(k[_0x2dd7e9(0x29d)](_0x5e82e5),_0xcc35fa){this[_0x2dd7e9(0x31f)][_0x2dd7e9(0x8bd)](this[_0x2dd7e9(0x8b7)]+'\x20('+this[_0x2dd7e9(0x4dd)][_0x2dd7e9(0x851)]+_0x2dd7e9(0x6d3)),_0xc51461(_0xcc35fa);return;}this[_0x2dd7e9(0x31f)][_0x2dd7e9(0x8bd)](this[_0x2dd7e9(0x8b7)]+'\x20('+this[_0x2dd7e9(0x4dd)][_0x2dd7e9(0x851)]+_0x2dd7e9(0x47e)),_0x4f5761(_0x5efe67);});});}async[a0_0x299ca5(0x763)](_0x192489){const _0x327549=a0_0x299ca5;this[_0x327549(0x31f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x327549(0x57c));let _0x14b49b=(0x0,re[_0x327549(0x801)])('sha256')[_0x327549(0x130)](_0x192489)[_0x327549(0x886)](_0x327549(0x523)),_0x47a97d=''+(0x0,j[_0x327549(0x35d)])(this[_0x327549(0x480)],_0x14b49b+'.mp3');if(k[_0x327549(0x5d4)](_0x47a97d))return this[_0x327549(0x31f)][_0x327549(0x8bd)](this[_0x327549(0x8b7)]+'\x20('+this[_0x327549(0x4dd)]['wuid']+_0x327549(0x5c1)),j['default']['basename'](_0x47a97d);let _0x44ec45=''+(0x0,j['join'])(this[_0x327549(0x480)],_0x327549(0x73a)+_0x14b49b+_0x327549(0x17c));if((0x0,J['isURL'])(_0x192489)){let _0x2461c6=new Date()['getTime'](),_0x10fb17=_0x192489+_0x327549(0x881)+_0x2461c6,_0x2e675c=await K[_0x327549(0x222)]['get'](_0x10fb17,{'responseType':'arraybuffer'});k['writeFileSync'](_0x44ec45,_0x2e675c['data']);}else{let _0x3d1b10=Buffer[_0x327549(0x374)](_0x192489,_0x327549(0x566));k[_0x327549(0x5b4)](_0x44ec45,_0x3d1b10);}return new Promise((_0x59e6d4,_0x3c23bf)=>{const _0x2b856c=_0x327549;(0x0,qe['exec'])(Us['default'][_0x2b856c(0x36d)]+_0x2b856c(0x33a)+_0x44ec45+_0x2b856c(0x6d9)+_0x47a97d+_0x2b856c(0x747),_0x36e0ba=>{const _0x32c76b=_0x2b856c;if(k[_0x32c76b(0x29d)](_0x44ec45),_0x36e0ba){this[_0x32c76b(0x31f)][_0x32c76b(0x8bd)](this[_0x32c76b(0x8b7)]+'\x20('+this[_0x32c76b(0x4dd)][_0x32c76b(0x851)]+_0x32c76b(0x6d3)),_0x3c23bf(_0x36e0ba);return;}this[_0x32c76b(0x31f)][_0x32c76b(0x8bd)](this['instanceName']+'\x20('+this[_0x32c76b(0x4dd)][_0x32c76b(0x851)]+_0x32c76b(0x47e)),_0x59e6d4(j[_0x32c76b(0x222)][_0x32c76b(0x3e1)](_0x47a97d));});});}async[a0_0x299ca5(0x59f)](_0x1e2ba7){const _0x4aef03=a0_0x299ca5;console[_0x4aef03(0x666)](_0x4aef03(0x4e6),_0x1e2ba7);let _0x4e4440;try{_0x1e2ba7['buttonMessage']?.['thumbnailUrl']&&(_0x4e4440=await this[_0x4aef03(0x6ab)]({'mediatype':_0x4aef03(0x835),'media':_0x1e2ba7['buttonMessage'][_0x4aef03(0x7c2)]}));}catch(_0x1e8883){throw console[_0x4aef03(0x77f)](_0x4aef03(0x547),_0x1e8883),new Error(_0x4aef03(0x3d4));}try{let _0x5ea969={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4aef03(0x401)},'footer':{'text':_0x4aef03(0x873)},'header':((()=>{const _0x20e6c7=_0x4aef03;if(_0x4e4440?.[_0x20e6c7(0x503)]?.[_0x20e6c7(0x573)])return{'hasMediaAttachment':!!_0x4e4440[_0x20e6c7(0x503)][_0x20e6c7(0x573)],'imageMessage':_0x4e4440[_0x20e6c7(0x503)][_0x20e6c7(0x573)]};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON['stringify']({'display_text':_0x4aef03(0x31d),'id':'1'})},{'name':_0x4aef03(0x5b7),'buttonParamsJson':JSON['stringify']({'display_text':_0x4aef03(0x5ec),'id':'2'})}],'messageParamsJson':JSON[_0x4aef03(0x6ed)]({'from':_0x4aef03(0x81a),'templateId':_0x4aef03(0x206)+(0x0,re[_0x4aef03(0x12e)])(0x12)['toString']('hex')[_0x4aef03(0x6cd)]()})}}}}};return await this[_0x4aef03(0x580)](_0x1e2ba7[_0x4aef03(0x485)],_0x5ea969,_0x1e2ba7?.[_0x4aef03(0x630)]);}catch(_0x3e421d){throw console[_0x4aef03(0x77f)](_0x4aef03(0x6da),_0x3e421d),new Error(_0x4aef03(0x546));}}async[a0_0x299ca5(0x38e)](_0xca1d55){const _0x25598b=a0_0x299ca5;return await this[_0x25598b(0x64c)](_0xca1d55['number'],{'locationMessage':{'degreesLatitude':_0xca1d55[_0x25598b(0x38e)]['latitude'],'degreesLongitude':_0xca1d55['locationMessage'][_0x25598b(0x501)],'name':_0xca1d55['locationMessage']?.['name'],'address':_0xca1d55[_0x25598b(0x38e)]?.[_0x25598b(0x514)]}},_0xca1d55?.[_0x25598b(0x630)]);}async[a0_0x299ca5(0x777)](_0x59c65f){const _0x39d81d=a0_0x299ca5;let _0x46e323={},_0x1fdb87=async _0x5c0d25=>{const _0x32033e=a0_0x49f7;let _0x547fc6=_0x32033e(0x348)+_0x5c0d25[_0x32033e(0x1a8)]+_0x32033e(0x1d7)+_0x5c0d25['fullName']+'\x0a';_0x5c0d25[_0x32033e(0x12b)]&&(_0x547fc6+=_0x32033e(0x17f)+_0x5c0d25[_0x32033e(0x12b)]+';\x0a'),_0x5c0d25['email']&&(_0x547fc6+=_0x32033e(0x359)+_0x5c0d25[_0x32033e(0x85c)]+'\x0a'),_0x5c0d25[_0x32033e(0x4bc)]&&(_0x547fc6+=_0x32033e(0x307)+_0x5c0d25[_0x32033e(0x4bc)]+'\x0a');let _0x5c1141='',_0x2cc5c5=0x1;if(_0x5c0d25[_0x32033e(0x306)]){let _0x46a74f=_0x5c0d25[_0x32033e(0x306)][_0x32033e(0x5ca)]('|');for(let _0x23f97c of _0x46a74f){let _0xe01fac=await this[_0x32033e(0x53b)]({'numbers':[_0x23f97c]}),_0x2bbd75=(_0xe01fac['length']>0x0?_0xe01fac[0x0][_0x32033e(0x4d8)]:this[_0x32033e(0x156)](_0x23f97c))[_0x32033e(0x35f)](_0x32033e(0x5e0),'');_0x5c1141+='item'+_0x2cc5c5+_0x32033e(0x7ba)+_0x2bbd75+':'+_0x23f97c+_0x32033e(0x296)+_0x2cc5c5+_0x32033e(0x562),_0x2cc5c5++;}}return _0x547fc6+=_0x5c1141+'END:VCARD',_0x547fc6;};return _0x59c65f['contactMessage'][_0x39d81d(0x84b)]===0x1?_0x46e323['contactMessage']={'displayName':_0x59c65f['contactMessage'][0x0][_0x39d81d(0x1a8)],'vcard':await _0x1fdb87(_0x59c65f['contactMessage'][0x0])}:_0x46e323[_0x39d81d(0x370)]={'displayName':_0x59c65f[_0x39d81d(0x777)][_0x39d81d(0x84b)]+_0x39d81d(0x18c),'contacts':await Promise[_0x39d81d(0x7e8)](_0x59c65f[_0x39d81d(0x777)][_0x39d81d(0x3ae)](async _0x503a8f=>({'displayName':_0x503a8f[_0x39d81d(0x1a8)],'vcard':await _0x1fdb87(_0x503a8f)})))},await this[_0x39d81d(0x64c)](_0x59c65f['number'],{..._0x46e323},_0x59c65f?.[_0x39d81d(0x630)]);}async[a0_0x299ca5(0x440)](_0xabe609){const _0x185062=a0_0x299ca5;return await this[_0x185062(0x64c)](_0xabe609[_0x185062(0x440)]['key']['remoteJid'],{'reactionMessage':{'key':_0xabe609[_0x185062(0x440)][_0x185062(0x143)],'text':_0xabe609[_0x185062(0x440)][_0x185062(0x482)]}});}async[a0_0x299ca5(0x53b)](_0x3a9318){const _0x3d7eba=a0_0x299ca5;let _0x35e70e=[];for await(let _0x193c4b of _0x3a9318[_0x3d7eba(0x39e)]){let _0x195a06=this[_0x3d7eba(0x156)](_0x193c4b),_0x2bf62e=!0x1;try{if((0x0,w['isJidGroup'])(_0x195a06)){let _0x74958=(await this[_0x3d7eba(0x7d6)][_0x3d7eba(0x76d)][_0x3d7eba(0x151)]({'where':{'_id':_0x195a06}},this[_0x3d7eba(0x4dd)][_0x3d7eba(0x851)]))[_0x3d7eba(0x422)];_0x74958?(_0x2bf62e=!0x0,_0x35e70e[_0x3d7eba(0x2b6)](new le(_0x74958['id'],_0x2bf62e,_0x74958?.[_0x3d7eba(0x304)]))):(_0x74958=await this[_0x3d7eba(0x770)]({'groupJid':_0x195a06},_0x3d7eba(0x35b)),_0x35e70e[_0x3d7eba(0x2b6)](new le(_0x74958['id'],!!_0x74958?.['id'],_0x74958?.[_0x3d7eba(0x304)])));}else{if(_0x195a06[_0x3d7eba(0x457)]('@broadcast'))_0x35e70e[_0x3d7eba(0x2b6)](new le(_0x195a06,!0x0));else{let _0xc3e4f3=(await this[_0x3d7eba(0x6a1)][_0x3d7eba(0x5c0)](_0x195a06))[0x0];_0x35e70e[_0x3d7eba(0x2b6)](new le(_0xc3e4f3[_0x3d7eba(0x4d8)],_0xc3e4f3[_0x3d7eba(0x358)]));}}}catch{(0x0,w[_0x3d7eba(0x27b)])(_0x195a06)||await this['deleteImportedChat'](_0x195a06),_0x35e70e['push'](new le(_0x193c4b,!0x1));}}return _0x35e70e;}async[a0_0x299ca5(0x227)](_0x4ef6a6){const _0xd2df4c=a0_0x299ca5;try{await this[_0xd2df4c(0x7d6)][_0xd2df4c(0x76d)][_0xd2df4c(0x151)]({'where':{'_id':_0x4ef6a6,'imported':!0x0}},this['instance']['wuid'])&&(await this[_0xd2df4c(0x7d6)][_0xd2df4c(0x76d)]['deleteChat'](_0x4ef6a6,this['instance'][_0xd2df4c(0x851)]),this[_0xd2df4c(0x31f)][_0xd2df4c(0x74c)](_0xd2df4c(0x5b3)+_0x4ef6a6+_0xd2df4c(0x78b)));}catch(_0x4eb4ab){let _0x53bad1=_0xd2df4c(0x258),_0x535a52=_0x4eb4ab instanceof Error?_0x4eb4ab[_0xd2df4c(0x503)]:typeof _0x4eb4ab==_0xd2df4c(0x6dc)?JSON[_0xd2df4c(0x6ed)](_0x4eb4ab):_0x4eb4ab,_0x15bcec=_0x53bad1+':\x20'+_0x535a52;this[_0xd2df4c(0x31f)][_0xd2df4c(0x77f)](this[_0xd2df4c(0x8b7)]+'\x20('+this[_0xd2df4c(0x4dd)][_0xd2df4c(0x851)]+_0xd2df4c(0x215)+_0x15bcec);}}async[a0_0x299ca5(0x678)](_0x21222c){const _0x1fb998=a0_0x299ca5;try{let _0x522f5=_0x21222c[_0x1fb998(0x66d)][_0x1fb998(0x67c)](_0x5db090=>(0x0,w[_0x1fb998(0x27b)])(_0x5db090[_0x1fb998(0x530)])||Oi(_0x5db090[_0x1fb998(0x530)]))[_0x1fb998(0x3ae)](_0x57ea80=>({'remoteJid':_0x57ea80[_0x1fb998(0x530)],'fromMe':_0x57ea80['fromMe'],'id':_0x57ea80['id']}));await this[_0x1fb998(0x6a1)]['readMessages'](_0x522f5);let _0x5852e7=_0x522f5[_0x1fb998(0x3ae)](_0x1de364=>this['updateMessage'](_0x1de364,{'status':'READ','owner':this[_0x1fb998(0x4dd)][_0x1fb998(0x851)]})),_0x41868a=_0x522f5[_0x1fb998(0x3ae)](_0x5c93bd=>this[_0x1fb998(0x7d6)][_0x1fb998(0x76d)][_0x1fb998(0x3ff)]({'where':{'_id':_0x5c93bd[_0x1fb998(0x530)]}},{'unreadcount':0x0},this['instance'][_0x1fb998(0x851)])),[_0x5599da,_0x53667b]=await Promise['all']([Promise[_0x1fb998(0x7e8)](_0x5852e7),Promise[_0x1fb998(0x7e8)](_0x41868a)]);return _0x53667b[_0x1fb998(0x67c)](_0x39a311=>_0x39a311!==null)[_0x1fb998(0x613)](_0x1f1c66=>{const _0x487565=_0x1fb998;F(this[_0x487565(0x8b7)],_0x487565(0x4aa),{'chat':_0x1f1c66});}),{'message':'Read\x20messages','read':_0x1fb998(0x242)};}catch(_0x495e63){let _0x1d9ffb=_0x1fb998(0x33d),_0x114702=_0x495e63 instanceof Error?_0x495e63[_0x1fb998(0x503)]:typeof _0x495e63==_0x1fb998(0x6dc)?JSON[_0x1fb998(0x6ed)](_0x495e63):_0x495e63,_0x2eb59e=_0x1d9ffb+':\x20'+_0x114702;throw this[_0x1fb998(0x31f)][_0x1fb998(0x77f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1fb998(0x215)+_0x2eb59e),new x(_0x2eb59e);}}async[a0_0x299ca5(0x1e4)](_0x57b948){const _0x3142b4=a0_0x299ca5;let _0x4f31d6={'where':{'key':{'remoteJid':_0x57b948}},'limit':0x1},_0x13b8ec=await this['fetchMessages'](_0x4f31d6);return _0x13b8ec||(this[_0x3142b4(0x31f)]['error'](_0x3142b4(0x447)+_0x57b948),null);}async[a0_0x299ca5(0x78d)](_0x24a755){const _0x3618e9=a0_0x299ca5;this['logger']['verbose'](this[_0x3618e9(0x8b7)]+'\x20('+this['instance'][_0x3618e9(0x851)]+_0x3618e9(0x50e));try{let _0x4a60c6=_0x24a755['lastMessage'],_0x31fb72=_0x24a755[_0x3618e9(0x76d)];if(!_0x4a60c6&&_0x31fb72?_0x4a60c6=await this[_0x3618e9(0x1e4)](_0x31fb72):(_0x4a60c6=_0x24a755[_0x3618e9(0x5bc)],_0x4a60c6['messageTimestamp']=_0x4a60c6?.[_0x3618e9(0x5c7)]??Date[_0x3618e9(0x1f1)](),_0x31fb72=_0x4a60c6?.[_0x3618e9(0x143)]?.[_0x3618e9(0x530)]),!_0x4a60c6||Object[_0x3618e9(0x791)](_0x4a60c6)['length']===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x3618e9(0x31f)]['verbose'](this[_0x3618e9(0x8b7)]+'\x20('+this[_0x3618e9(0x4dd)][_0x3618e9(0x851)]+_0x3618e9(0x13f)+_0x31fb72);try{await this['client']['chatModify']({'archive':_0x24a755[_0x3618e9(0x180)],'lastMessages':[_0x4a60c6]},this[_0x3618e9(0x156)](_0x31fb72));}catch(_0x5d42aa){let _0x49abd3=_0x3618e9(0x4e7)+_0x31fb72,_0x257f9d=_0x5d42aa instanceof Error?_0x5d42aa[_0x3618e9(0x503)]:typeof _0x5d42aa=='object'?JSON[_0x3618e9(0x6ed)](_0x5d42aa):_0x5d42aa,_0x29b35d=_0x49abd3+':\x20'+_0x257f9d;this[_0x3618e9(0x31f)][_0x3618e9(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x3618e9(0x851)]+_0x3618e9(0x215)+_0x29b35d);}this[_0x3618e9(0x31f)][_0x3618e9(0x8bd)](this[_0x3618e9(0x8b7)]+'\x20('+this['instance'][_0x3618e9(0x851)]+_0x3618e9(0x39f)+_0x31fb72);let _0x121148=await this[_0x3618e9(0x7d6)]['chat']['updateOne']({'where':{'_id':_0x4a60c6?.['key']?.[_0x3618e9(0x530)]}},{'archived':_0x24a755[_0x3618e9(0x180)]},this['instance']['wuid']);return _0x121148?(this[_0x3618e9(0x31f)][_0x3618e9(0x8bd)](this[_0x3618e9(0x8b7)]+'\x20('+this[_0x3618e9(0x4dd)][_0x3618e9(0x851)]+_0x3618e9(0x5a6)+JSON[_0x3618e9(0x6ed)](_0x121148)),F(this[_0x3618e9(0x8b7)],_0x3618e9(0x4aa),{'chat':_0x121148})):this[_0x3618e9(0x31f)][_0x3618e9(0x77f)](this[_0x3618e9(0x8b7)]+'\x20('+this[_0x3618e9(0x4dd)][_0x3618e9(0x851)]+_0x3618e9(0x4ec)+_0x31fb72),{'chatId':_0x31fb72,'archived':_0x24a755[_0x3618e9(0x180)]};}catch(_0x59f88b){let _0x891dd0=_0x3618e9(0x8a4),_0x1521c5=_0x59f88b instanceof Error?_0x59f88b[_0x3618e9(0x503)]:typeof _0x59f88b==_0x3618e9(0x6dc)?JSON[_0x3618e9(0x6ed)](_0x59f88b):_0x59f88b,_0x2e9eaf=_0x891dd0+':\x20'+_0x1521c5;throw this[_0x3618e9(0x31f)][_0x3618e9(0x77f)](this[_0x3618e9(0x8b7)]+'\x20('+this[_0x3618e9(0x4dd)][_0x3618e9(0x851)]+_0x3618e9(0x215)+_0x2e9eaf),new x(_0x2e9eaf);}}async[a0_0x299ca5(0x33c)](_0x2f24be){const _0x2fde0c=a0_0x299ca5;this[_0x2fde0c(0x31f)][_0x2fde0c(0x8bd)](this['instanceName']+'\x20('+this[_0x2fde0c(0x4dd)][_0x2fde0c(0x851)]+_0x2fde0c(0x4db));try{let _0x397877=await this[_0x2fde0c(0x1e4)](_0x2f24be);if(!_0x397877||Object[_0x2fde0c(0x791)](_0x397877)[_0x2fde0c(0x84b)]===0x0)throw new U(_0x2fde0c(0x335));let _0x4c509e=_0x397877[0x0];this[_0x2fde0c(0x31f)][_0x2fde0c(0x8bd)](this[_0x2fde0c(0x8b7)]+'\x20('+this[_0x2fde0c(0x4dd)][_0x2fde0c(0x851)]+_0x2fde0c(0x6fb)+_0x2f24be);try{await this[_0x2fde0c(0x6a1)][_0x2fde0c(0x767)]({'delete':!0x0,'lastMessages':[{'key':_0x4c509e[_0x2fde0c(0x143)],'messageTimestamp':_0x4c509e['messageTimestamp']}]},this[_0x2fde0c(0x156)](_0x2f24be));}catch(_0x23b8c7){this[_0x2fde0c(0x31f)]['error'](_0x2fde0c(0x4e7)+_0x2f24be+':\x20'+_0x23b8c7['toString']());}this['logger'][_0x2fde0c(0x8bd)](this[_0x2fde0c(0x8b7)]+'\x20('+this[_0x2fde0c(0x4dd)]['wuid']+_0x2fde0c(0x39f)+_0x2f24be);return;}catch(_0x7fde11){throw this[_0x2fde0c(0x31f)]['error'](this[_0x2fde0c(0x8b7)]+'\x20('+this[_0x2fde0c(0x4dd)]['wuid']+_0x2fde0c(0x694)+_0x7fde11[_0x2fde0c(0x5a7)]()),new x({'archived':!0x1,'message':[_0x2fde0c(0x871),_0x7fde11[_0x2fde0c(0x5a7)]()]});}}async[a0_0x299ca5(0x2c5)](_0x1e8d42){const _0x4703eb=a0_0x299ca5;try{let _0x4778d9=await this['client']['sendMessage'](_0x1e8d42[_0x4703eb(0x530)],{'delete':_0x1e8d42});try{let _0x35638c=await this[_0x4703eb(0x7df)](_0x1e8d42,{'status':'DELETED','owner':this[_0x4703eb(0x4dd)][_0x4703eb(0x851)]});this['logger'][_0x4703eb(0x8bd)](this[_0x4703eb(0x8b7)]+'\x20('+this[_0x4703eb(0x4dd)][_0x4703eb(0x851)]+'):\x20updateResult:'+_0x35638c);}catch(_0x4826a1){this[_0x4703eb(0x31f)]['error'](_0x4703eb(0x88f)+_0x4826a1);}return _0x4778d9;}catch(_0x125a45){throw new x(_0x4703eb(0x8cb),_0x125a45?.[_0x4703eb(0x5a7)]());}}async[a0_0x299ca5(0x200)](_0x34f16f){const _0x5337a2=a0_0x299ca5;try{let _0x334232=_0x34f16f?.[_0x5337a2(0x503)]?_0x34f16f:await this[_0x5337a2(0x8e5)](_0x34f16f[_0x5337a2(0x143)],!0x0);for(let _0x3a93a8 of Ia)_0x334232[_0x5337a2(0x503)][_0x3a93a8]&&(_0x334232[_0x5337a2(0x503)]=_0x334232['message'][_0x3a93a8][_0x5337a2(0x503)]);let _0x3fa33e,_0x5a398d;for(let _0x2aad0c of Ta)if(_0x3fa33e=_0x334232[_0x5337a2(0x503)][_0x2aad0c],_0x3fa33e){_0x5a398d=_0x2aad0c;break;}if(!_0x3fa33e)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3fa33e['mediaKey']==_0x5337a2(0x6dc)&&(_0x334232[_0x5337a2(0x503)]=JSON[_0x5337a2(0x24f)](JSON[_0x5337a2(0x6ed)](_0x334232[_0x5337a2(0x503)])));let _0x5ac2ea=await(0x0,w[_0x5337a2(0x7c6)])({'key':_0x334232?.[_0x5337a2(0x143)],'message':_0x334232?.['message']},_0x5337a2(0x7af),{},{'logger':(0x0,Jt['default'])({'level':_0x5337a2(0x8e4)}),'reuploadRequest':this['client'][_0x5337a2(0x26d)]});if(!(_0x5ac2ea instanceof Buffer))throw new Error(_0x5337a2(0x77a));let _0x4a740c=this[_0x5337a2(0x1d9)][_0x5337a2(0x2ed)](_0x5337a2(0x65d)),_0x3bb06c,_0xecbc4a;if(_0x3fa33e[_0x5337a2(0x225)])_0x3bb06c=_0x3fa33e[_0x5337a2(0x225)];else{let _0x2c5e00=_0x3fa33e[_0x5337a2(0x7ca)]?.[_0x5337a2(0x5ba)](/\/(\w+)/),_0x17cc84=_0x2c5e00?_0x2c5e00[0x1]:null;if(!_0x17cc84)throw new Error(_0x5337a2(0x86c));_0x3bb06c=(0x0,Q['v4'])()+'.'+_0x17cc84;}_0x5a398d===_0x5337a2(0x4bb)?_0xecbc4a=_0x5337a2(0x3a9)+await this[_0x5337a2(0x763)](_0x5ac2ea[_0x5337a2(0x5a7)](_0x5337a2(0x566))):(await this['saveMediaToFile'](_0x5ac2ea,_0x3bb06c),_0xecbc4a=_0x5337a2(0x3a9)+_0x3bb06c);let _0x2c63fb=this['configService'][_0x5337a2(0x2ed)](_0x5337a2(0x2a3))[_0x5337a2(0x559)];if(!_0x2c63fb){let _0x168392=this[_0x5337a2(0x1d9)][_0x5337a2(0x2ed)](_0x5337a2(0x3ca));_0x2c63fb='https://'+(_0x168392&&_0x168392['FULLCHAIN'][_0x5337a2(0x5ca)]('/')[0x4]);}_0xecbc4a=''+_0x2c63fb+_0xecbc4a;let _0x33c37a=0xc*0x3c*0x3c*0x3e8,_0x333ebd={'where':{'_id':_0x334232[_0x5337a2(0x143)]['id']}},_0x5c367c={'message_normalized.fileUrl':_0xecbc4a,'message_normalized.expires_fileUrl':Date[_0x5337a2(0x1f1)]()+_0x33c37a};try{let _0x7a4617=await this['repository'][_0x5337a2(0x503)]['update'](_0x333ebd,_0x5c367c,this[_0x5337a2(0x4dd)]['wuid']);_0x7a4617&&F(this[_0x5337a2(0x8b7)],_0x5337a2(0x703),{'message':_0x7a4617});}catch(_0x387dc1){let _0x22ac03=_0x5337a2(0x69f),_0x3db515=_0x387dc1 instanceof Error?_0x387dc1[_0x5337a2(0x503)]:typeof _0x387dc1=='object'?JSON[_0x5337a2(0x6ed)](_0x387dc1):_0x387dc1,_0x258ab1=_0x22ac03+':\x20'+_0x3db515;this[_0x5337a2(0x31f)][_0x5337a2(0x77f)](this[_0x5337a2(0x8b7)]+'\x20('+this[_0x5337a2(0x4dd)]['wuid']+_0x5337a2(0x215)+_0x258ab1);}return{'mediaType':_0x5a398d,'fileName':_0x3fa33e[_0x5337a2(0x225)],'caption':_0x3fa33e[_0x5337a2(0x2e3)],'size':{'fileLength':_0x3fa33e[_0x5337a2(0x3df)],'height':_0x3fa33e[_0x5337a2(0x8ed)],'width':_0x3fa33e[_0x5337a2(0x8ad)]},'mimetype':_0x3fa33e['mimetype'],'base64':_0x5ac2ea[_0x5337a2(0x5a7)]('base64'),'fileUrl':_0xecbc4a,'expires_fileUrl':Date[_0x5337a2(0x1f1)]()+_0x33c37a};}catch(_0x2b5a64){let _0x1b77df=_0x5337a2(0x4df),_0x58358a=_0x2b5a64 instanceof Error?_0x2b5a64[_0x5337a2(0x503)]:typeof _0x2b5a64==_0x5337a2(0x6dc)?JSON[_0x5337a2(0x6ed)](_0x2b5a64):_0x2b5a64,_0x4f4650=_0x1b77df+':\x20'+_0x58358a;throw this['logger'][_0x5337a2(0x77f)](this[_0x5337a2(0x8b7)]+'\x20('+this[_0x5337a2(0x4dd)][_0x5337a2(0x851)]+'):\x20'+_0x4f4650),new m(_0x4f4650);}}async['saveMediaToFile'](_0x5676f8,_0x3111c6){const _0x4fbc68=a0_0x299ca5;let _0x10e310=j[_0x4fbc68(0x222)][_0x4fbc68(0x35d)](__dirname,_0x4fbc68(0x1d1));k[_0x4fbc68(0x5d4)](_0x10e310)||k[_0x4fbc68(0x407)](_0x10e310,{'recursive':!0x0});let _0x4bb315=j[_0x4fbc68(0x222)][_0x4fbc68(0x35d)](_0x10e310,_0x3111c6);return new Promise((_0x36d1a5,_0x3d232d)=>{const _0x1872ff=_0x4fbc68;k[_0x1872ff(0x67f)](_0x4bb315,_0x5676f8,_0x480f62=>{const _0x1bcaa7=_0x1872ff;_0x480f62?(this[_0x1bcaa7(0x31f)]['error'](_0x1bcaa7(0x8a9)+(_0x480f62 instanceof Error?_0x480f62['message']:JSON[_0x1bcaa7(0x6ed)](_0x480f62,null,0x2))),_0x3d232d(_0x480f62)):(this[_0x1bcaa7(0x31f)][_0x1bcaa7(0x666)](_0x1bcaa7(0x1d0)+_0x4bb315),_0x36d1a5(_0x4bb315));});});}async['fetchContacts'](_0x3fa5fa){const _0x1927a1=a0_0x299ca5;return await this['repository'][_0x1927a1(0x7a4)][_0x1927a1(0x2b7)](_0x3fa5fa,this[_0x1927a1(0x4dd)][_0x1927a1(0x851)]);}async[a0_0x299ca5(0x276)](){const _0xdddd12=a0_0x299ca5;return await this[_0xdddd12(0x7d6)][_0xdddd12(0x1a5)][_0xdddd12(0x2b7)]({'where':{}},this[_0xdddd12(0x4dd)]['wuid']);}async[a0_0x299ca5(0x63e)](_0x1ff3cf){const _0xdb20a4=a0_0x299ca5;return await this[_0xdb20a4(0x7d6)][_0xdb20a4(0x503)][_0xdb20a4(0x2b7)](_0x1ff3cf,this[_0xdb20a4(0x4dd)][_0xdb20a4(0x851)]);}async[a0_0x299ca5(0x6a3)](){const _0x1c245e=a0_0x299ca5;return this['repository']['chat'][_0x1c245e(0x47a)](this['instance'][_0x1c245e(0x851)]),this[_0x1c245e(0x7d6)][_0x1c245e(0x76d)][_0x1c245e(0x32a)](this[_0x1c245e(0x4dd)][_0x1c245e(0x851)]),this['repository'][_0x1c245e(0x76d)][_0x1c245e(0x179)](this[_0x1c245e(0x4dd)][_0x1c245e(0x851)]),this[_0x1c245e(0x7d6)][_0x1c245e(0x76d)][_0x1c245e(0x808)](this['instance'][_0x1c245e(0x851)]),await this[_0x1c245e(0x7d6)]['chat']['find']({'where':{}},this[_0x1c245e(0x4dd)][_0x1c245e(0x851)]);}async['importChatsAntigo'](_0x50d267){const _0xc5f515=a0_0x299ca5;try{if(!Array['isArray'](_0x50d267)||_0x50d267[_0xc5f515(0x84b)]===0x0)throw new Error(_0xc5f515(0x305));let _0x3a34c7=[],_0x5c8af9=[];for(let _0x1e8223 of _0x50d267){if(_0x1e8223[_0xc5f515(0x898)])_0x1e8223['_id']=this[_0xc5f515(0x156)](_0x1e8223[_0xc5f515(0x898)]);else continue;await this[_0xc5f515(0x7d6)][_0xc5f515(0x76d)][_0xc5f515(0x151)]({'where':{'_id':_0x1e8223['_id']}},this[_0xc5f515(0x4dd)][_0xc5f515(0x851)])?_0x5c8af9[_0xc5f515(0x2b6)]({'_id':_0x1e8223[_0xc5f515(0x898)],'leadInfo':_0x1e8223[_0xc5f515(0x59a)],'owner':this['instance']['wuid']}):_0x3a34c7[_0xc5f515(0x2b6)]({'_id':_0x1e8223['_id'],'owner':this[_0xc5f515(0x4dd)][_0xc5f515(0x851)],'leadInfo':_0x1e8223[_0xc5f515(0x59a)],'imported':!0x0});}return _0x5c8af9[_0xc5f515(0x84b)]>0x0&&await this[_0xc5f515(0x7d6)][_0xc5f515(0x76d)]['updateMany'](_0x5c8af9['map'](_0xbd0c0b=>({'query':{'where':{'_id':_0xbd0c0b[_0xc5f515(0x898)],'owner':this[_0xc5f515(0x4dd)][_0xc5f515(0x851)]}},'update':_0xbd0c0b}))),_0x3a34c7['length']>0x0&&await this[_0xc5f515(0x7d6)][_0xc5f515(0x76d)][_0xc5f515(0x686)](_0x3a34c7,this[_0xc5f515(0x4dd)]['wuid']),{'updated':_0x5c8af9[_0xc5f515(0x84b)],'inserted':_0x3a34c7[_0xc5f515(0x84b)]};}catch(_0x3c7982){let _0x368532=_0xc5f515(0x774),_0x3269d0=_0x3c7982 instanceof Error?_0x3c7982[_0xc5f515(0x503)]:typeof _0x3c7982==_0xc5f515(0x6dc)?JSON[_0xc5f515(0x6ed)](_0x3c7982):_0x3c7982,_0x1c4523=_0x368532+':\x20'+_0x3269d0;throw this['logger'][_0xc5f515(0x77f)](this[_0xc5f515(0x8b7)]+'\x20('+this[_0xc5f515(0x4dd)][_0xc5f515(0x851)]+'):\x20'+_0x1c4523),new m(_0x1c4523);}}async[a0_0x299ca5(0x57e)](_0x2f6b30){const _0x3a3b79=a0_0x299ca5;try{if(!Array[_0x3a3b79(0x21d)](_0x2f6b30)||_0x2f6b30[_0x3a3b79(0x84b)]===0x0)throw new Error(_0x3a3b79(0x305));let _0x1e45e4=0x64,_0x307fdc=0x0;for(let _0x32f12a=0x0;_0x32f12a<_0x2f6b30['length'];_0x32f12a+=_0x1e45e4){let _0x4abd9a=_0x2f6b30[_0x3a3b79(0x82e)](_0x32f12a,_0x32f12a+_0x1e45e4),{updated:_0x719087}=await this[_0x3a3b79(0x394)](_0x4abd9a);_0x307fdc+=_0x719087;}return{'updated':_0x307fdc};}catch(_0x8363f1){let _0x400a25=_0x3a3b79(0x774),_0x541c68=_0x8363f1 instanceof Error?_0x8363f1[_0x3a3b79(0x503)]:typeof _0x8363f1==_0x3a3b79(0x6dc)?JSON['stringify'](_0x8363f1):_0x8363f1,_0x4c0792=_0x400a25+':\x20'+_0x541c68;throw this[_0x3a3b79(0x31f)]['error'](this[_0x3a3b79(0x8b7)]+'\x20('+this[_0x3a3b79(0x4dd)][_0x3a3b79(0x851)]+_0x3a3b79(0x215)+_0x4c0792),new m(_0x4c0792);}}async[a0_0x299ca5(0x394)](_0x35c3b3){const _0x24f212=a0_0x299ca5;try{let _0xc33f7b=await this[_0x24f212(0x7d6)][_0x24f212(0x1a5)][_0x24f212(0x2b7)]({'where':{}},this[_0x24f212(0x4dd)][_0x24f212(0x851)]),_0x652f15=new Set(_0xc33f7b[_0x24f212(0x3ae)](_0x51b153=>_0x51b153[_0x24f212(0x898)])),_0x52e4ac=[],_0x39cb5d=[];for(let _0x18e853 of _0x35c3b3){if(!_0x18e853[_0x24f212(0x898)])continue;_0x18e853[_0x24f212(0x898)]=this[_0x24f212(0x156)](_0x18e853[_0x24f212(0x898)]);let _0x1339d5=await this[_0x24f212(0x7d6)][_0x24f212(0x76d)][_0x24f212(0x151)]({'where':{'_id':_0x18e853['_id']}},this['instance'][_0x24f212(0x851)]),_0x305cf3={};if(Object['entries'](_0x18e853[_0x24f212(0x59a)])[_0x24f212(0x613)](([_0x5baf9f,_0x33cfc0])=>{const _0x4e6344=_0x24f212;_0x305cf3[_0x4e6344(0x261)+_0x5baf9f]=_0x33cfc0;}),_0x1339d5&&!_0x1339d5[_0x24f212(0x795)]){let _0x444424=(_0x18e853[_0x24f212(0x59a)]['etiquetas']||[])[_0x24f212(0x67c)](_0x5886e3=>_0x652f15[_0x24f212(0x594)](_0x5886e3)),_0x43eb9e=new Set(_0x1339d5[_0x24f212(0x59a)]['etiquetas']||[]),_0x578312=_0x444424[_0x24f212(0x67c)](_0x29097c=>!_0x43eb9e[_0x24f212(0x594)](_0x29097c)),_0x545781=[..._0x43eb9e][_0x24f212(0x67c)](_0xaa9ea9=>!_0x444424[_0x24f212(0x457)](_0xaa9ea9));_0x39cb5d['push'](..._0x578312[_0x24f212(0x3ae)](_0x96694a=>this[_0x24f212(0x5d9)](_0x96694a,_0x18e853[_0x24f212(0x898)]))),_0x39cb5d[_0x24f212(0x2b6)](..._0x545781[_0x24f212(0x3ae)](_0x33f34b=>this[_0x24f212(0x32e)](_0x33f34b,_0x18e853['_id']))),_0x18e853['leadInfo'][_0x24f212(0x67b)]=_0x444424,_0x52e4ac[_0x24f212(0x2b6)]({'query':{'where':{'_id':_0x18e853[_0x24f212(0x898)],'owner':this[_0x24f212(0x4dd)]['wuid']}},'update':_0x305cf3});}else _0x305cf3[_0x24f212(0x795)]=!0x0,_0x52e4ac['push']({'query':{'where':{'_id':_0x18e853[_0x24f212(0x898)],'owner':this[_0x24f212(0x4dd)][_0x24f212(0x851)]}},'update':_0x305cf3});}let _0x3df344=await this[_0x24f212(0x7d6)][_0x24f212(0x76d)]['updateMany'](_0x52e4ac);return await Promise[_0x24f212(0x7e8)](_0x39cb5d),{'updated':_0x3df344};}catch(_0x4dd2fc){let _0xe352cb='Erro\x20ao\x20importar\x20chats',_0x2363a3=_0x4dd2fc instanceof Error?_0x4dd2fc['message']:typeof _0x4dd2fc==_0x24f212(0x6dc)?JSON[_0x24f212(0x6ed)](_0x4dd2fc):_0x4dd2fc,_0x5633a4=_0xe352cb+':\x20'+_0x2363a3;throw this[_0x24f212(0x31f)]['error'](this[_0x24f212(0x8b7)]+'\x20('+this[_0x24f212(0x4dd)][_0x24f212(0x851)]+_0x24f212(0x215)+_0x5633a4),new m(_0x5633a4);}}async['fetchPrivacySettings'](){const _0x37f7bb=a0_0x299ca5;return await this[_0x37f7bb(0x6a1)][_0x37f7bb(0x834)]();}async[a0_0x299ca5(0x17d)](_0x220dd9){const _0x495f17=a0_0x299ca5;try{return await this['client'][_0x495f17(0x393)](_0x220dd9[_0x495f17(0x5f0)]['readreceipts']),await this[_0x495f17(0x6a1)][_0x495f17(0x87a)](_0x220dd9[_0x495f17(0x5f0)]['profile']),await this[_0x495f17(0x6a1)][_0x495f17(0x7f8)](_0x220dd9[_0x495f17(0x5f0)][_0x495f17(0x5d8)]),await this['client'][_0x495f17(0x8df)](_0x220dd9['privacySettings'][_0x495f17(0x59b)]),await this[_0x495f17(0x6a1)][_0x495f17(0x7dd)](_0x220dd9[_0x495f17(0x5f0)][_0x495f17(0x2be)]),await this[_0x495f17(0x6a1)][_0x495f17(0x6cc)](_0x220dd9[_0x495f17(0x5f0)][_0x495f17(0x688)]),this[_0x495f17(0x6a1)]?.['ws']?.[_0x495f17(0x7f7)](),{'update':_0x495f17(0x242),'data':{'readreceipts':_0x220dd9['privacySettings']['readreceipts'],'profile':_0x220dd9[_0x495f17(0x5f0)][_0x495f17(0x500)],'status':_0x220dd9['privacySettings'][_0x495f17(0x5d8)],'online':_0x220dd9['privacySettings'][_0x495f17(0x59b)],'last':_0x220dd9['privacySettings'][_0x495f17(0x2be)],'groupadd':_0x220dd9[_0x495f17(0x5f0)][_0x495f17(0x688)]}};}catch(_0x2bc4bb){let _0x327977=_0x495f17(0x412),_0x4680fe=_0x2bc4bb instanceof Error?_0x2bc4bb[_0x495f17(0x503)]:typeof _0x2bc4bb==_0x495f17(0x6dc)?JSON[_0x495f17(0x6ed)](_0x2bc4bb):_0x2bc4bb,_0x53b6d1=_0x327977+':\x20'+_0x4680fe;throw this[_0x495f17(0x31f)][_0x495f17(0x77f)](this[_0x495f17(0x8b7)]+'\x20('+this[_0x495f17(0x4dd)][_0x495f17(0x851)]+_0x495f17(0x215)+_0x53b6d1),new m(_0x53b6d1);}}async['fetchProfile'](_0xcf93c3){const _0xd367c=a0_0x299ca5;let _0x572578=(_0xcf93c3?this['createJid'](_0xcf93c3):this[_0xd367c(0x6a1)]?.[_0xd367c(0x27e)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xd367c(0x31f)][_0xd367c(0x8bd)](this[_0xd367c(0x8b7)]+'\x20('+this['instance'][_0xd367c(0x851)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x572578);let _0x452810=await this['repository'][_0xd367c(0x7a4)][_0xd367c(0x151)]({'where':{'_id':_0x572578}},this[_0xd367c(0x4dd)][_0xd367c(0x851)]),_0xc8be3d=_0x452810?_0x452810['pushName']:null;try{let _0x495815=(await this[_0xd367c(0x53b)]({'numbers':[_0x572578]}))?.['shift'](),_0x5cc34d=(await this[_0xd367c(0x848)](_0x572578,null,!0x1))[_0xd367c(0x7e7)][_0xd367c(0x2ea)],_0x4c6583=await this['getStatus'](_0x495815?.['jid']),_0x4f059c=await this['fetchBusinessProfile'](_0x495815?.[_0xd367c(0x4d8)]),_0x51cfd5=(await this[_0xd367c(0x848)](_0x572578,null,!0x1))[_0xd367c(0x7e7)][_0xd367c(0x5d0)],_0x4f36a7=await this[_0xd367c(0x7d6)][_0xd367c(0x76d)]['findOne']({'where':{'_id':_0x572578}},this[_0xd367c(0x4dd)][_0xd367c(0x851)]),_0x51f8e8=typeof _0x4c6583?.[_0xd367c(0x5d8)]==_0xd367c(0x7a5)?_0x4c6583[_0xd367c(0x5d8)]:'',_0x3f8365={'imagechat':_0x5cc34d,'contactname':_0xc8be3d||null,'pushName':_0x51cfd5,'status':_0x51f8e8,'isBusiness':_0x4f059c['isBusiness'],'email':_0x4f059c?.['email'],'description':_0x4f059c?.['description'],'website':_0x4f059c?.['website']?.['shift'](),'lastcache':Date[_0xd367c(0x1f1)](),'imported':!_0x4f36a7},_0x2fbae4=await this['repository']['chat'][_0xd367c(0x3ff)]({'where':{'_id':_0x572578}},_0x3f8365,this[_0xd367c(0x4dd)][_0xd367c(0x851)]),_0xc78ccb={'owner':this['instance']['wuid'],'_id':_0x572578,'profilePictureUrl':_0x5cc34d,'status':_0x51f8e8};return this[_0xd367c(0x7d6)][_0xd367c(0x7a4)]['update']([_0xc78ccb],this[_0xd367c(0x4dd)][_0xd367c(0x851)]),_0x2fbae4&&F(this[_0xd367c(0x8b7)],_0xd367c(0x4aa),{'chat':_0x2fbae4}),{'wuid':_0x495815?.[_0xd367c(0x4d8)]||_0x572578,'name':_0x495815?.['name'],'pushName':_0x51cfd5,'numberExists':_0x495815?.[_0xd367c(0x358)],'picture':_0x5cc34d,'status':_0x4c6583?.[_0xd367c(0x5d8)],'isBusiness':_0x4f059c[_0xd367c(0x43e)],'email':_0x4f059c?.[_0xd367c(0x85c)],'description':_0x4f059c?.[_0xd367c(0x5f4)],'website':_0x4f059c?.[_0xd367c(0x7c7)]?.['shift']()};}catch(_0x161278){return this[_0xd367c(0x31f)][_0xd367c(0x77f)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x161278 instanceof Error?_0x161278[_0xd367c(0x503)]:JSON['stringify'](_0x161278,null,0x2))),{};}}async[a0_0x299ca5(0x8c5)](_0x500f48){const _0x444c21=a0_0x299ca5;this[_0x444c21(0x31f)][_0x444c21(0x8bd)](this[_0x444c21(0x8b7)]+'\x20('+this['instance'][_0x444c21(0x851)]+_0x444c21(0x651));try{let _0x111f6b=_0x500f48?this[_0x444c21(0x156)](_0x500f48):this['instance'][_0x444c21(0x851)],_0x4abd3e=await this[_0x444c21(0x6a1)][_0x444c21(0x844)](_0x111f6b);return this[_0x444c21(0x31f)][_0x444c21(0x8bd)](this['instanceName']+'\x20('+this[_0x444c21(0x4dd)][_0x444c21(0x851)]+_0x444c21(0x386)),_0x4abd3e?(this['logger']['verbose'](this[_0x444c21(0x8b7)]+'\x20('+this[_0x444c21(0x4dd)]['wuid']+_0x444c21(0x7dc)),{'isBusiness':!0x0,..._0x4abd3e}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x111f6b]}))?.[_0x444c21(0x1cc)]()};}catch(_0x5ca130){let _0x38fd78=_0x444c21(0x63b),_0x4e6833=_0x5ca130 instanceof Error?_0x5ca130[_0x444c21(0x503)]:typeof _0x5ca130==_0x444c21(0x6dc)?JSON['stringify'](_0x5ca130):_0x5ca130,_0x199986=_0x38fd78+':\x20'+_0x4e6833;throw this[_0x444c21(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x444c21(0x4dd)]['wuid']+_0x444c21(0x215)+_0x199986),new x(_0x199986);}}async[a0_0x299ca5(0x709)](_0xfa6edd){const _0x730d7=a0_0x299ca5;let _0x1e610a=this[_0x730d7(0x156)](_0xfa6edd);try{return{'wuid':_0x1e610a,'status':(await this['client'][_0x730d7(0x6b9)](_0x1e610a))[0x0]?.['status']};}catch{return{'wuid':_0x1e610a,'status':null};}}async[a0_0x299ca5(0x3a2)](_0x3ffa85){const _0x2923fb=a0_0x299ca5;try{return await this[_0x2923fb(0x6a1)][_0x2923fb(0x3a2)](_0x3ffa85),{'update':_0x2923fb(0x242)};}catch(_0x239bb8){let _0x16ddb5=_0x2923fb(0x4cb),_0x14ff87=_0x239bb8 instanceof Error?_0x239bb8[_0x2923fb(0x503)]:typeof _0x239bb8==_0x2923fb(0x6dc)?JSON[_0x2923fb(0x6ed)](_0x239bb8):_0x239bb8,_0x3c782d=_0x16ddb5+':\x20'+_0x14ff87;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2923fb(0x4dd)][_0x2923fb(0x851)]+_0x2923fb(0x215)+_0x3c782d),new x(_0x3c782d);}}async[a0_0x299ca5(0x2d5)](_0x2aad74){const _0x151551=a0_0x299ca5;try{return await this[_0x151551(0x6a1)][_0x151551(0x2d5)](_0x2aad74),{'update':_0x151551(0x242)};}catch(_0x4efd66){let _0x2ff99b=_0x151551(0x190),_0x333719=_0x4efd66 instanceof Error?_0x4efd66[_0x151551(0x503)]:typeof _0x4efd66==_0x151551(0x6dc)?JSON[_0x151551(0x6ed)](_0x4efd66):_0x4efd66,_0x2dc2cc=_0x2ff99b+':\x20'+_0x333719;throw this[_0x151551(0x31f)][_0x151551(0x77f)](this[_0x151551(0x8b7)]+'\x20('+this[_0x151551(0x4dd)][_0x151551(0x851)]+_0x151551(0x215)+_0x2dc2cc),new x(_0x2dc2cc);}}async[a0_0x299ca5(0x81e)](_0x59f098){const _0x52aef2=a0_0x299ca5;try{let _0x193bde;if((0x0,J[_0x52aef2(0x6e5)])(_0x59f098)){let _0x585504=new Date()['getTime'](),_0x3221f9=_0x59f098+'?timestamp='+_0x585504;_0x193bde=(await K[_0x52aef2(0x222)][_0x52aef2(0x2ed)](_0x3221f9,{'responseType':_0x52aef2(0x768)}))['data'];}else{if((0x0,J[_0x52aef2(0x674)])(_0x59f098))_0x193bde=Buffer[_0x52aef2(0x374)](_0x59f098,_0x52aef2(0x566));else throw new m(_0x52aef2(0x466));}return await this[_0x52aef2(0x6a1)][_0x52aef2(0x81e)](this[_0x52aef2(0x4dd)][_0x52aef2(0x851)],_0x193bde),{'update':_0x52aef2(0x242)};}catch(_0x541867){let _0x65d0f1=_0x52aef2(0x295),_0x6b339e=_0x541867 instanceof Error?_0x541867[_0x52aef2(0x503)]:typeof _0x541867=='object'?JSON[_0x52aef2(0x6ed)](_0x541867):_0x541867,_0x428129=_0x65d0f1+':\x20'+_0x6b339e;throw this[_0x52aef2(0x31f)][_0x52aef2(0x77f)](this[_0x52aef2(0x8b7)]+'\x20('+this[_0x52aef2(0x4dd)][_0x52aef2(0x851)]+_0x52aef2(0x215)+_0x428129),new x(_0x428129);}}async[a0_0x299ca5(0x67a)](){const _0x2c1583=a0_0x299ca5;try{return await this[_0x2c1583(0x6a1)][_0x2c1583(0x67a)](this[_0x2c1583(0x4dd)][_0x2c1583(0x851)]),{'update':'success'};}catch(_0x4f35fd){let _0x4ea235='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0xbbd4f7=_0x4f35fd instanceof Error?_0x4f35fd[_0x2c1583(0x503)]:typeof _0x4f35fd==_0x2c1583(0x6dc)?JSON[_0x2c1583(0x6ed)](_0x4f35fd):_0x4f35fd,_0x317e0a=_0x4ea235+':\x20'+_0xbbd4f7;throw this[_0x2c1583(0x31f)][_0x2c1583(0x77f)](this['instanceName']+'\x20('+this[_0x2c1583(0x4dd)][_0x2c1583(0x851)]+_0x2c1583(0x215)+_0x317e0a),new x(_0x317e0a);}}async['createGroup'](_0x16ff4c){const _0x58fc90=a0_0x299ca5;try{let _0x23a9bd=(await this[_0x58fc90(0x53b)]({'numbers':_0x16ff4c[_0x58fc90(0x2c7)]}))[_0x58fc90(0x67c)](_0x1a33f3=>_0x1a33f3[_0x58fc90(0x358)])[_0x58fc90(0x3ae)](_0x57cec3=>_0x57cec3[_0x58fc90(0x4d8)]),{id:_0x2c414d}=await this[_0x58fc90(0x6a1)][_0x58fc90(0x5f7)](_0x16ff4c[_0x58fc90(0x304)],_0x23a9bd);_0x16ff4c?.['description']&&await this['client'][_0x58fc90(0x213)](_0x2c414d,_0x16ff4c['description']);let _0x3a4b5c=await this[_0x58fc90(0x6a1)][_0x58fc90(0x5f9)](_0x2c414d);return _0x3a4b5c[_0x58fc90(0x616)]=[],await this['updateChatGroupData'](_0x3a4b5c),{'metadata':_0x3a4b5c};}catch(_0x1134f4){let _0xf20e7=_0x58fc90(0x4a7),_0x3045be=_0x1134f4 instanceof Error?_0x1134f4[_0x58fc90(0x503)]:typeof _0x1134f4==_0x58fc90(0x6dc)?JSON[_0x58fc90(0x6ed)](_0x1134f4):_0x1134f4,_0x3e3b3c=_0xf20e7+':\x20'+_0x3045be;throw this['logger']['error'](this[_0x58fc90(0x8b7)]+'\x20('+this[_0x58fc90(0x4dd)][_0x58fc90(0x851)]+'):\x20'+_0x3e3b3c),new x(_0x3e3b3c);}}async['groupBetterSetting'](_0x37125f){const _0x3be0b1=a0_0x299ca5;try{if(_0x37125f[_0x3be0b1(0x39d)]===!0x0&&await this['client'][_0x3be0b1(0x83c)](_0x37125f[_0x3be0b1(0x661)],_0x3be0b1(0x6d5)),_0x37125f[_0x3be0b1(0x39d)]===!0x1&&await this['client']['groupSettingUpdate'](_0x37125f['groupJid'],_0x3be0b1(0x723)),_0x37125f[_0x3be0b1(0x2ac)]===!0x0&&await this[_0x3be0b1(0x6a1)]['groupSettingUpdate'](_0x37125f[_0x3be0b1(0x661)],_0x3be0b1(0x438)),_0x37125f[_0x3be0b1(0x2ac)]===!0x1&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x83c)](_0x37125f[_0x3be0b1(0x661)],_0x3be0b1(0x683)),_0x37125f[_0x3be0b1(0x53a)]===!0x0&&await this[_0x3be0b1(0x6a1)]['groupMemberAddMode'](_0x37125f[_0x3be0b1(0x661)],'all_member_add'),_0x37125f['memberAddMode']===!0x1&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x82b)](_0x37125f[_0x3be0b1(0x661)],_0x3be0b1(0x32c)),_0x37125f[_0x3be0b1(0x2fe)]===!0x0&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x138)](_0x37125f['groupJid'],'on'),_0x37125f['joinApprovalMode']===!0x1&&await this['client'][_0x3be0b1(0x138)](_0x37125f[_0x3be0b1(0x661)],_0x3be0b1(0x3f2)),typeof _0x37125f[_0x3be0b1(0x425)]<'u'&&_0x37125f['expiration']!==null&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x1ec)](_0x37125f[_0x3be0b1(0x661)],_0x37125f[_0x3be0b1(0x425)]),_0x37125f[_0x3be0b1(0x5d0)]&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x6eb)](_0x37125f[_0x3be0b1(0x661)],_0x37125f[_0x3be0b1(0x5d0)]),_0x37125f[_0x3be0b1(0x5f4)]&&await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x213)](_0x37125f['groupJid'],_0x37125f['description']),_0x37125f[_0x3be0b1(0x835)]){let _0x98e143;if((0x0,J[_0x3be0b1(0x6e5)])(_0x37125f[_0x3be0b1(0x835)])){let _0x2ebd2f=new Date()[_0x3be0b1(0x765)](),_0x193f70=_0x37125f[_0x3be0b1(0x835)]+_0x3be0b1(0x881)+_0x2ebd2f;_0x98e143=(await K[_0x3be0b1(0x222)][_0x3be0b1(0x2ed)](_0x193f70,{'responseType':_0x3be0b1(0x768)}))[_0x3be0b1(0x2fb)];}else{if((0x0,J[_0x3be0b1(0x674)])(_0x37125f[_0x3be0b1(0x835)]))_0x98e143=Buffer[_0x3be0b1(0x374)](_0x37125f[_0x3be0b1(0x835)],_0x3be0b1(0x566));else throw new m(_0x3be0b1(0x466));}await this[_0x3be0b1(0x6a1)][_0x3be0b1(0x81e)](_0x37125f[_0x3be0b1(0x661)],_0x98e143);}return await this[_0x3be0b1(0x770)]({'groupJid':_0x37125f[_0x3be0b1(0x661)]});}catch(_0x3e11f7){let _0x3d33bc=_0x3be0b1(0x330),_0x579545=_0x3e11f7 instanceof Error?_0x3e11f7[_0x3be0b1(0x503)]:typeof _0x3e11f7=='object'?JSON[_0x3be0b1(0x6ed)](_0x3e11f7):_0x3e11f7,_0x415db5=_0x3d33bc+':\x20'+_0x579545;throw this[_0x3be0b1(0x31f)]['error'](this[_0x3be0b1(0x8b7)]+'\x20('+this[_0x3be0b1(0x4dd)][_0x3be0b1(0x851)]+_0x3be0b1(0x215)+_0x415db5),new x(_0x415db5);}}async[a0_0x299ca5(0x7b4)](_0x61cebd){const _0x22f811=a0_0x299ca5;try{let _0x4e5572=_0x61cebd['participants'][_0x22f811(0x3ae)](_0x46f4e3=>this[_0x22f811(0x156)](_0x46f4e3));if(_0x61cebd['action']===_0x22f811(0x86f)||_0x61cebd[_0x22f811(0x1b0)]===_0x22f811(0x67d))await this['client'][_0x22f811(0x5d3)](_0x61cebd['groupJid'],_0x4e5572,_0x61cebd['action']);else{if(_0x61cebd[_0x22f811(0x1b0)]===_0x22f811(0x728)){let _0x2c1887=(await this['whatsappNumber']({'numbers':_0x61cebd[_0x22f811(0x2c7)]}))[_0x22f811(0x67c)](_0x10571f=>_0x10571f['exists'])[_0x22f811(0x3ae)](_0x51119a=>this[_0x22f811(0x156)](_0x51119a['jid']));if(_0x2c1887[_0x22f811(0x84b)]===0x0)throw new m(_0x22f811(0x512));await this[_0x22f811(0x6a1)][_0x22f811(0x398)](_0x61cebd[_0x22f811(0x661)],_0x2c1887,_0x22f811(0x728));}else await this[_0x22f811(0x6a1)][_0x22f811(0x398)](_0x61cebd[_0x22f811(0x661)],_0x4e5572,_0x61cebd[_0x22f811(0x1b0)]);}return await this[_0x22f811(0x770)]({'groupJid':_0x61cebd[_0x22f811(0x661)]});}catch(_0x31c8aa){let _0x35bd71='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0xef392b=_0x31c8aa instanceof Error?_0x31c8aa[_0x22f811(0x503)]:typeof _0x31c8aa==_0x22f811(0x6dc)?JSON['stringify'](_0x31c8aa):_0x31c8aa,_0x50f427=_0x35bd71+':\x20'+_0xef392b;throw this[_0x22f811(0x31f)]['error'](this[_0x22f811(0x8b7)]+'\x20('+this[_0x22f811(0x4dd)][_0x22f811(0x851)]+_0x22f811(0x215)+_0x50f427),new m(_0x50f427);}}async[a0_0x299ca5(0x6c6)](_0x580d57){const _0x4fb3e9=a0_0x299ca5;try{return await this[_0x4fb3e9(0x6a1)][_0x4fb3e9(0x6c6)](_0x580d57[_0x4fb3e9(0x3d1)]);}catch(_0x4701f0){let _0x561ec1=_0x4fb3e9(0x1db),_0x17aaff=_0x4701f0 instanceof Error?_0x4701f0[_0x4fb3e9(0x503)]:typeof _0x4701f0==_0x4fb3e9(0x6dc)?JSON['stringify'](_0x4701f0):_0x4701f0,_0x1056c0=_0x561ec1+':\x20'+_0x17aaff;throw this[_0x4fb3e9(0x31f)][_0x4fb3e9(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x4fb3e9(0x851)]+_0x4fb3e9(0x215)+_0x1056c0),new m(_0x1056c0);}}async['findGroup'](_0x17ad52,_0x5be93a=a0_0x299ca5(0x8a7)){const _0x5d954c=a0_0x299ca5;try{let _0x2bb054=await this[_0x5d954c(0x7d6)][_0x5d954c(0x76d)][_0x5d954c(0x151)]({'where':{'_id':_0x17ad52[_0x5d954c(0x661)]}},this[_0x5d954c(0x4dd)][_0x5d954c(0x851)]),_0x32e2ba=_0x2bb054?_0x2bb054['groupdata']:null,_0x790bf1=0x18*0x3c*0x3c*0x3e8;if(!_0x32e2ba||_0x32e2ba[_0x5d954c(0x3c2)]&&Date['now']()-_0x32e2ba[_0x5d954c(0x3c2)]>_0x790bf1){let _0x8d2ca0=await this[_0x5d954c(0x6a1)]['groupMetadata'](_0x17ad52[_0x5d954c(0x661)]);if(_0x8d2ca0[_0x5d954c(0x60c)]=_0x8d2ca0?.['subjectTime']&&_0x8d2ca0[_0x5d954c(0x60c)][_0x5d954c(0x5a7)]()['length']<0xd?_0x8d2ca0?.[_0x5d954c(0x60c)]*0x3e8:_0x8d2ca0?.['subjectTime']||null,_0x8d2ca0[_0x5d954c(0x354)]=_0x8d2ca0?.[_0x5d954c(0x354)]&&_0x8d2ca0[_0x5d954c(0x354)]['toString']()[_0x5d954c(0x84b)]<0xd?_0x8d2ca0?.['creation']*0x3e8:_0x8d2ca0?.['creation']||null,_0x32e2ba={..._0x8d2ca0,'lastUpdate':Date[_0x5d954c(0x1f1)]()},!_0x8d2ca0)return;}let _0x3fc370=_0x32e2ba[_0x5d954c(0x2c7)]?.[_0x5d954c(0x3b1)](_0xc82620=>_0xc82620['id']===this[_0x5d954c(0x4dd)][_0x5d954c(0x851)]+_0x5d954c(0x5e0)&&_0xc82620['admin']!=null)||!0x1;!_0x32e2ba[_0x5d954c(0x3d1)]&&_0x3fc370&&(_0x32e2ba['inviteCode']=(await this[_0x5d954c(0x3d1)](_0x17ad52,!0x1))[_0x5d954c(0x16f)]);let _0x85122e=(!_0x32e2ba[_0x5d954c(0x2ac)]||_0x3fc370)&&(!_0x32e2ba['isCommunity']||_0x3fc370);_0x32e2ba['isAdmin']=_0x3fc370,_0x32e2ba[_0x5d954c(0x4f3)]=_0x85122e;let _0x12c5b6=[];if(_0x3fc370&&_0x32e2ba[_0x5d954c(0x2fe)])try{_0x12c5b6=await this[_0x5d954c(0x6a1)]['groupRequestParticipantsList'](_0x17ad52[_0x5d954c(0x661)]),_0x32e2ba[_0x5d954c(0x89e)]=Date[_0x5d954c(0x1f1)]();}catch(_0x1348c2){this[_0x5d954c(0x31f)][_0x5d954c(0x8bd)](this[_0x5d954c(0x8b7)]+'\x20('+this[_0x5d954c(0x4dd)][_0x5d954c(0x851)]+_0x5d954c(0x67e)+_0x17ad52['groupJid']+':\x20'+(_0x1348c2 instanceof Error?_0x1348c2[_0x5d954c(0x503)]:JSON[_0x5d954c(0x6ed)](_0x1348c2,null,0x2)));}try{_0x32e2ba[_0x5d954c(0x835)]=(await this['findAndUpdateCacheContact'](_0x17ad52[_0x5d954c(0x661)],null,!0x0))['cachedContact'][_0x5d954c(0x2ea)];}catch(_0x5b5f8e){this['logger'][_0x5d954c(0x8bd)](this[_0x5d954c(0x8b7)]+'\x20('+this[_0x5d954c(0x4dd)][_0x5d954c(0x851)]+_0x5d954c(0x326)+_0x17ad52['groupJid']+':\x20'+(_0x5b5f8e instanceof Error?_0x5b5f8e[_0x5d954c(0x503)]:JSON[_0x5d954c(0x6ed)](_0x5b5f8e,null,0x2)));}let _0x5163fe=_0x32e2ba['participants'][_0x5d954c(0x3ae)](_0x56bab3=>_0x56bab3['id']),_0x3e65cd=_0x12c5b6[_0x5d954c(0x3ae)](_0x8715ea=>_0x8715ea[_0x5d954c(0x4d8)]),_0x34b5be=await this[_0x5d954c(0x7d6)][_0x5d954c(0x497)][_0x5d954c(0x373)]([..._0x5163fe,..._0x3e65cd]);_0x32e2ba[_0x5d954c(0x2c7)]=_0x32e2ba[_0x5d954c(0x2c7)][_0x5d954c(0x3ae)](_0x34f13=>{const _0x4a6091=_0x5d954c;let _0x260685=_0x34b5be[_0x4a6091(0x2b7)](_0x1ba5cc=>_0x1ba5cc[_0x4a6091(0x898)]===_0x34f13['id']);return{'id':_0x34f13['id'],'isAdmin':[_0x4a6091(0x5c4),_0x4a6091(0x375)][_0x4a6091(0x457)](_0x34f13[_0x4a6091(0x5c4)]),'admin':_0x34f13[_0x4a6091(0x5c4)],'pushName':_0x260685?.[_0x4a6091(0x5d0)],'profilePictureUrl':_0x260685?.[_0x4a6091(0x2ea)]};}),_0x32e2ba['awaitingApproval']=_0x12c5b6[_0x5d954c(0x3ae)](_0x1e930f=>{const _0x56a352=_0x5d954c;let _0x32ae6c=_0x34b5be['find'](_0xac0f6f=>_0xac0f6f[_0x56a352(0x898)]===_0x1e930f['jid']);return{'id':_0x1e930f[_0x56a352(0x4d8)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x32ae6c?.[_0x56a352(0x5d0)],'profilePictureUrl':_0x32ae6c?.[_0x56a352(0x2ea)],'request_method':_0x1e930f[_0x56a352(0x73f)],'request_time':_0x1e930f[_0x56a352(0x239)]};});let _0x39a193=await this[_0x5d954c(0x7d6)]['chat'][_0x5d954c(0x3ff)]({'where':{'_id':_0x17ad52[_0x5d954c(0x661)]}},{'imagechat':_0x32e2ba['image'],'name':_0x32e2ba[_0x5d954c(0x304)],'lastcache':Date[_0x5d954c(0x1f1)](),'groupdata':_0x32e2ba},this['instance'][_0x5d954c(0x851)]);return F(this[_0x5d954c(0x8b7)],_0x5d954c(0x4aa),{'chat':_0x39a193}),{'metadata':_0x32e2ba};}catch(_0x360e16){if(_0x5be93a==='inner')return;throw new U(_0x5d954c(0x238),_0x360e16[_0x5d954c(0x503)][_0x5d954c(0x5a7)]());}}async['findGroups'](){const _0x4fe11e=a0_0x299ca5;try{this[_0x4fe11e(0x31f)][_0x4fe11e(0x74c)]('Retornando\x20grupos\x20COM\x20cache');let _0x153eca=Date[_0x4fe11e(0x1f1)](),_0x1a676d=0x3*0x3c*0x3c*0x3e8;return _0x153eca-this['lastRealGroupsFetch']>_0x1a676d&&(this[_0x4fe11e(0x704)](),this[_0x4fe11e(0x878)]=_0x153eca),(await this['repository'][_0x4fe11e(0x76d)][_0x4fe11e(0x14b)]({'where':{'group':!0x0}},this[_0x4fe11e(0x4dd)]['wuid']))[_0x4fe11e(0x3ae)](_0x26165f=>({..._0x26165f[_0x4fe11e(0x422)],'groupJid':_0x26165f?.[_0x4fe11e(0x898)],'participants':_0x26165f?.['groupdata']?.[_0x4fe11e(0x2c7)]||[],'awaitingApproval':_0x26165f?.[_0x4fe11e(0x422)]?.[_0x4fe11e(0x616)]||[],'image':_0x26165f?.[_0x4fe11e(0x8b8)]}));}catch(_0x13a84c){let _0x1c95f3='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x39ee0f=_0x13a84c instanceof Error?_0x13a84c[_0x4fe11e(0x503)]:typeof _0x13a84c==_0x4fe11e(0x6dc)?JSON[_0x4fe11e(0x6ed)](_0x13a84c):_0x13a84c,_0x598217=_0x1c95f3+':\x20'+_0x39ee0f;throw this['logger'][_0x4fe11e(0x77f)](this[_0x4fe11e(0x8b7)]+'\x20('+this[_0x4fe11e(0x4dd)][_0x4fe11e(0x851)]+_0x4fe11e(0x215)+_0x598217),new U(_0x598217);}}async['findRealGroups'](){const _0xf19ff5=a0_0x299ca5;try{this[_0xf19ff5(0x31f)]['info'](_0xf19ff5(0x338));let _0x17373d=[],_0xd69839=await this['client'][_0xf19ff5(0x28a)](),_0x1be1e8=Object[_0xf19ff5(0x86d)](_0xd69839);for(let _0x5364e2=0x0;_0x5364e2<_0x1be1e8[_0xf19ff5(0x84b)];_0x5364e2++){let _0x172ebc=_0x1be1e8[_0x5364e2];(0x0,w['isJidGroup'])(_0x172ebc?.['id'])&&(_0x17373d['push']({'groupJid':_0x172ebc?.['id'],'subject':_0x172ebc?.[_0xf19ff5(0x304)],'subjectOwner':_0x172ebc?.['subjectOwner']?.[_0xf19ff5(0x5ca)]('@')[0x0],'subjectTime':_0x172ebc?.[_0xf19ff5(0x60c)],'creation':_0x172ebc?.[_0xf19ff5(0x354)],'size':_0x172ebc?.[_0xf19ff5(0x2c7)]?.[_0xf19ff5(0x84b)],'owner':_0x172ebc?.[_0xf19ff5(0x19b)]?.['split']('@')[0x0],'desc':_0x172ebc?.[_0xf19ff5(0x677)],'restrict':_0x172ebc?.['restrict'],'announce':_0x172ebc?.[_0xf19ff5(0x2ac)],'image':null,'isCommunity':_0x172ebc?.[_0xf19ff5(0x17a)],'joinApprovalMode':_0x172ebc?.['joinApprovalMode'],'memberCanAddParticipant':_0x172ebc?.['memberAddMode'],'participants':_0x172ebc?.[_0xf19ff5(0x2c7)],'descOwner':_0x172ebc?.[_0xf19ff5(0x5fd)],'descId':_0x172ebc?.[_0xf19ff5(0x164)],'memberAddMode':_0x172ebc?.[_0xf19ff5(0x53a)],'isCommunityAnnounce':_0x172ebc?.['isCommunityAnnounce'],'ephemeralDuration':_0x172ebc?.['ephemeralDuration']||0x0,'author':_0x172ebc?.[_0xf19ff5(0x855)]}),this[_0xf19ff5(0x45b)](_0x1be1e8[_0x5364e2]));}return _0x17373d;}catch(_0x148c7b){let _0x4c1d26=_0xf19ff5(0x735),_0x57243a=_0x148c7b instanceof Error?_0x148c7b[_0xf19ff5(0x503)]:typeof _0x148c7b==_0xf19ff5(0x6dc)?JSON[_0xf19ff5(0x6ed)](_0x148c7b):_0x148c7b,_0x5cfde3=_0x4c1d26+':\x20'+_0x57243a;throw this['logger'][_0xf19ff5(0x77f)](this[_0xf19ff5(0x8b7)]+'\x20('+this[_0xf19ff5(0x4dd)][_0xf19ff5(0x851)]+'):\x20'+_0x5cfde3),new U(_0x5cfde3);}}async[a0_0x299ca5(0x45b)](_0x97100f){const _0x949404=a0_0x299ca5;let _0x233929=await this[_0x949404(0x7d6)][_0x949404(0x76d)][_0x949404(0x151)]({'where':{'_id':_0x97100f['id']}},this['instance']['wuid']);if(_0x97100f[_0x949404(0x60c)]=_0x97100f?.[_0x949404(0x60c)]&&_0x97100f[_0x949404(0x60c)]['toString']()[_0x949404(0x84b)]<0xd?_0x97100f?.['subjectTime']*0x3e8:_0x97100f?.[_0x949404(0x60c)]||null,_0x97100f[_0x949404(0x354)]=_0x97100f?.[_0x949404(0x354)]&&_0x97100f[_0x949404(0x354)][_0x949404(0x5a7)]()['length']<0xd?_0x97100f?.[_0x949404(0x354)]*0x3e8:_0x97100f?.[_0x949404(0x354)]||null,!_0x97100f[_0x949404(0x835)])try{_0x97100f[_0x949404(0x835)]=await this[_0x949404(0x6a1)]['profilePictureUrl'](_0x97100f['id'],_0x949404(0x16c));}catch(_0x14c12f){this['logger'][_0x949404(0x8bd)](this[_0x949404(0x8b7)]+'\x20('+this[_0x949404(0x4dd)][_0x949404(0x851)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x97100f['id']+':\x20'+(_0x14c12f instanceof Error?_0x14c12f['message']:JSON[_0x949404(0x6ed)](_0x14c12f,null,0x2)));}let _0x200d75=_0x97100f[_0x949404(0x2c7)][_0x949404(0x3ae)](_0x59e713=>{const _0x27014e=_0x949404;let _0x424862=_0x233929?.['groupdata']?.['participants'][_0x27014e(0x2b7)](_0x3d1045=>_0x3d1045['id']===_0x59e713['id']);return{..._0x59e713,'isAdmin':[_0x27014e(0x5c4),_0x27014e(0x375)][_0x27014e(0x457)](_0x59e713[_0x27014e(0x5c4)]),'admin':_0x59e713[_0x27014e(0x5c4)],'name':_0x424862?.[_0x27014e(0x5d0)]||_0x59e713['name'],'imgUrl':_0x424862?.[_0x27014e(0x53f)]||_0x59e713[_0x27014e(0x53f)]};}),_0x3d3a52=_0x200d75[_0x949404(0x3b1)](_0x4a661d=>_0x4a661d['id']===this[_0x949404(0x4dd)][_0x949404(0x851)]+_0x949404(0x5e0)&&_0x4a661d[_0x949404(0x5c4)]!=null)||!0x1,_0x1be396=(!_0x97100f[_0x949404(0x2ac)]||_0x3d3a52)&&(!_0x97100f[_0x949404(0x17a)]||_0x3d3a52),_0x178c13={..._0x97100f,'participants':_0x200d75,'awaitingApproval':_0x233929?.[_0x949404(0x422)]?.['awaitingApproval']||[],'lastFetchAwaitingApproval':_0x233929?.[_0x949404(0x422)]?.[_0x949404(0x89e)],'isAdmin':_0x3d3a52,'canSendMessage':_0x1be396,'lastUpdate':Date[_0x949404(0x1f1)]()};await this[_0x949404(0x7d6)][_0x949404(0x76d)][_0x949404(0x3ff)]({'where':{'_id':_0x97100f['id']}},{'imagechat':_0x97100f[_0x949404(0x835)],'name':_0x97100f['subject'],'group':!0x0,'groupdata':_0x178c13,'lastcache':Date[_0x949404(0x1f1)]()},this[_0x949404(0x4dd)][_0x949404(0x851)]),F(this['instanceName'],_0x949404(0x4aa),{'chat':_0x97100f});}async[a0_0x299ca5(0x2b8)](_0x22d860){const _0x37a87c=a0_0x299ca5;let _0x15132a=await this[_0x37a87c(0x7d6)][_0x37a87c(0x76d)]['findOne']({'where':{'_id':_0x22d860['id']}},this[_0x37a87c(0x4dd)][_0x37a87c(0x851)]);_0x22d860[_0x37a87c(0x60c)]=_0x22d860?.[_0x37a87c(0x60c)]&&_0x22d860[_0x37a87c(0x60c)][_0x37a87c(0x5a7)]()[_0x37a87c(0x84b)]<0xd?_0x22d860?.[_0x37a87c(0x60c)]*0x3e8:_0x22d860?.['subjectTime']||null,_0x22d860['creation']=_0x22d860?.[_0x37a87c(0x354)]&&_0x22d860[_0x37a87c(0x354)][_0x37a87c(0x5a7)]()[_0x37a87c(0x84b)]<0xd?_0x22d860?.['creation']*0x3e8:_0x22d860?.['creation']||null,_0x22d860[_0x37a87c(0x3d1)]&&(_0x22d860[_0x37a87c(0x3d1)]=_0x37a87c(0x7bf)+_0x22d860[_0x37a87c(0x3d1)]);let _0x4fa258=_0x15132a?.[_0x37a87c(0x422)]?{..._0x15132a[_0x37a87c(0x422)]}:{};Object[_0x37a87c(0x791)](_0x22d860)[_0x37a87c(0x613)](_0x568880=>{_0x568880!=='id'&&(_0x4fa258[_0x568880]=_0x22d860[_0x568880]);});let _0x163525=_0x4fa258[_0x37a87c(0x2c7)]?.[_0x37a87c(0x3b1)](_0x548fef=>_0x548fef['id']===this['instance'][_0x37a87c(0x851)]+_0x37a87c(0x5e0)&&_0x548fef['admin']!=null)||!0x1;_0x4fa258[_0x37a87c(0x3c8)]=_0x163525;let _0xafc462=(!_0x4fa258[_0x37a87c(0x2ac)]||_0x163525)&&(!_0x4fa258['isCommunity']||_0x163525);_0x4fa258[_0x37a87c(0x4f3)]=_0xafc462;let _0x248264={'group':!0x0,'groupdata':_0x4fa258};_0x22d860['subject']&&(_0x248264[_0x37a87c(0x5d0)]=_0x22d860[_0x37a87c(0x304)]),await this[_0x37a87c(0x7d6)][_0x37a87c(0x76d)][_0x37a87c(0x3ff)]({'where':{'_id':_0x22d860['id']}},_0x248264,this[_0x37a87c(0x4dd)][_0x37a87c(0x851)],{'upsert':!0x0}),F(this[_0x37a87c(0x8b7)],'chats',{'chat':_0x248264});}async[a0_0x299ca5(0x3b6)](_0x16d431){const _0x47b708=a0_0x299ca5;let _0x269dca=await this['repository']['chat'][_0x47b708(0x151)]({'where':{'_id':_0x16d431['id']}},this[_0x47b708(0x4dd)][_0x47b708(0x851)]);if(!_0x269dca||!_0x269dca[_0x47b708(0x422)]){this[_0x47b708(0x31f)][_0x47b708(0x74c)](this[_0x47b708(0x8b7)]+'\x20('+this[_0x47b708(0x4dd)][_0x47b708(0x851)]+_0x47b708(0x331)+_0x16d431['id']);return;}let _0x456371=_0x16d431[_0x47b708(0x2c7)]['map'](_0x38ac0d=>_0x38ac0d['id']),_0x2c71cb=_0x456371[_0x47b708(0x84b)]?await this[_0x47b708(0x7d6)][_0x47b708(0x497)][_0x47b708(0x373)](_0x456371):[],_0x129802=new Map(_0x2c71cb[_0x47b708(0x3ae)](_0x4d8a80=>[_0x4d8a80[_0x47b708(0x898)],_0x4d8a80])),_0x2ca355=_0x46761d=>{const _0x34a71e=_0x47b708;let _0x5d2619=_0x129802[_0x34a71e(0x2ed)](_0x46761d['id']),_0x22dbb9=_0x46761d['admin']??(_0x46761d['isSuperAdmin']?_0x34a71e(0x375):_0x46761d[_0x34a71e(0x3c8)]?_0x34a71e(0x5c4):null),_0x237887=_0x5d2619?.['name']??_0x46761d[_0x34a71e(0x5d0)]??_0x46761d[_0x34a71e(0x5c3)]??_0x46761d[_0x34a71e(0x2cf)]??_0x46761d['id'],_0x1bd925=_0x5d2619?.[_0x34a71e(0x2ea)]??_0x46761d['imgUrl']??null,_0x36a59f=_0x46761d[_0x34a71e(0x3c8)]??_0x22dbb9!==null;return{..._0x46761d,'id':_0x46761d['id'],'name':_0x237887,'notify':_0x46761d[_0x34a71e(0x5c3)]??_0x5d2619?.[_0x34a71e(0x5d0)],'imgUrl':_0x1bd925,'isAdmin':_0x36a59f,'isSuperAdmin':_0x46761d[_0x34a71e(0x600)]??_0x22dbb9===_0x34a71e(0x375),'admin':_0x22dbb9};},_0x5e2a23=[..._0x269dca[_0x47b708(0x422)]?.[_0x47b708(0x2c7)]??[]];switch(_0x16d431[_0x47b708(0x1b0)]){case _0x47b708(0x728):_0x16d431['participants'][_0x47b708(0x613)](_0x418d24=>{const _0x58eee1=_0x47b708;if(!_0x5e2a23['some'](_0x3dd097=>_0x3dd097['id']===_0x418d24['id'])){let _0x4ab266=_0x2ca355(_0x418d24);_0x5e2a23[_0x58eee1(0x2b6)](_0x4ab266),this[_0x58eee1(0x31f)]['info'](_0x58eee1(0x6b1)+JSON[_0x58eee1(0x6ed)](_0x4ab266));}});break;case _0x47b708(0x1a3):_0x5e2a23=_0x5e2a23[_0x47b708(0x67c)](_0x825b78=>!_0x456371[_0x47b708(0x457)](_0x825b78['id']));break;case _0x47b708(0x1ef):_0x5e2a23=_0x5e2a23[_0x47b708(0x3ae)](_0xd82660=>_0x456371[_0x47b708(0x457)](_0xd82660['id'])?{..._0xd82660,'isAdmin':!0x0,'isSuperAdmin':_0xd82660[_0x47b708(0x600)]??!0x1,'admin':_0x47b708(0x5c4)}:_0xd82660);break;case _0x47b708(0x1d3):_0x5e2a23=_0x5e2a23[_0x47b708(0x3ae)](_0x2570f1=>_0x456371['includes'](_0x2570f1['id'])?{..._0x2570f1,'isAdmin':!0x1,'isSuperAdmin':!0x1,'admin':null}:_0x2570f1);break;case _0x47b708(0x8da):_0x5e2a23=_0x5e2a23['map'](_0x18c2d2=>{const _0x37f1a0=_0x47b708;if(!_0x456371['includes'](_0x18c2d2['id']))return _0x18c2d2;let _0x94e394=_0x16d431[_0x37f1a0(0x2c7)][_0x37f1a0(0x2b7)](_0x21b244=>_0x21b244['id']===_0x18c2d2['id']);if(!_0x94e394)return _0x18c2d2;let _0x2afd6a=_0x2ca355(_0x94e394);return{..._0x18c2d2,'name':_0x2afd6a[_0x37f1a0(0x5d0)]??_0x18c2d2['name'],'imgUrl':_0x2afd6a[_0x37f1a0(0x53f)]??_0x18c2d2['imgUrl'],'isAdmin':_0x2afd6a['isAdmin'],'admin':_0x2afd6a[_0x37f1a0(0x5c4)]};});break;default:break;}let _0x32cf3e=_0x5e2a23[_0x47b708(0x84b)],_0x370062=_0x5e2a23['some'](_0x569c4e=>_0x569c4e['id']===this[_0x47b708(0x4dd)][_0x47b708(0x851)]+_0x47b708(0x5e0)),_0x3110e9=_0x370062&&_0x5e2a23[_0x47b708(0x3b1)](_0x2c73c9=>_0x2c73c9['id']===this[_0x47b708(0x4dd)][_0x47b708(0x851)]+_0x47b708(0x5e0)&&_0x2c73c9['admin']!=null)||!0x1,_0x266caf=_0x370062&&(!_0x269dca[_0x47b708(0x422)][_0x47b708(0x2ac)]||_0x3110e9)&&(!_0x269dca[_0x47b708(0x422)]['isCommunity']||_0x3110e9);await this['repository'][_0x47b708(0x76d)][_0x47b708(0x3ff)]({'where':{'_id':_0x16d431['id']}},{'groupdata':{..._0x269dca['groupdata'],'participants':_0x5e2a23,'size':_0x32cf3e,'isAdmin':_0x3110e9,'canSendMessage':_0x266caf}},this['instance'][_0x47b708(0x851)]),this[_0x47b708(0x31f)]['info'](this['instanceName']+'\x20('+this['instance'][_0x47b708(0x851)]+'):\x20Grupo\x20'+_0x16d431['id']+_0x47b708(0x79a)+_0x16d431[_0x47b708(0x1b0)]+_0x47b708(0x3b9)+_0x32cf3e+',\x20isAdmin:\x20'+_0x3110e9+_0x47b708(0x636)+_0x266caf);}async[a0_0x299ca5(0x3d1)](_0x557e4b,_0x2d9da4=!0x0){const _0x2b66e0=a0_0x299ca5;try{let _0x4165ef=await this['client']['groupInviteCode'](_0x557e4b[_0x2b66e0(0x661)]),_0x1578b8={'groupdata.inviteCode':_0x2b66e0(0x7bf)+_0x4165ef};if(_0x2d9da4){let _0x3a6270=await this[_0x2b66e0(0x7d6)][_0x2b66e0(0x76d)][_0x2b66e0(0x3ff)]({'where':{'_id':_0x557e4b['groupJid']}},_0x1578b8,this['instance'][_0x2b66e0(0x851)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x4165ef,'inviteCode':_0x4165ef};}catch(_0x4c68bf){let _0x3c2d79=_0x2b66e0(0x48d),_0x42bf9=_0x4c68bf instanceof Error?_0x4c68bf[_0x2b66e0(0x503)]:typeof _0x4c68bf=='object'?JSON['stringify'](_0x4c68bf):_0x4c68bf,_0xa32c56=_0x3c2d79+':\x20'+_0x42bf9;throw this['logger'][_0x2b66e0(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x2b66e0(0x851)]+_0x2b66e0(0x215)+_0xa32c56),new U(_0xa32c56);}}async[a0_0x299ca5(0x191)](_0x2d8df2){const _0x46cfe0=a0_0x299ca5;try{let _0x1f7776=await this['client']['groupRevokeInvite'](_0x2d8df2[_0x46cfe0(0x661)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x1f7776,'inviteCode':_0x1f7776};}catch(_0x4f48fb){let _0x1b16f0='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x45bd0e=_0x4f48fb instanceof Error?_0x4f48fb['message']:typeof _0x4f48fb==_0x46cfe0(0x6dc)?JSON['stringify'](_0x4f48fb):_0x4f48fb,_0x52af24=_0x1b16f0+':\x20'+_0x45bd0e;throw this['logger'][_0x46cfe0(0x77f)](this[_0x46cfe0(0x8b7)]+'\x20('+this[_0x46cfe0(0x4dd)]['wuid']+_0x46cfe0(0x215)+_0x52af24),new U(_0x52af24);}}async[a0_0x299ca5(0x43a)](_0x384f4e){const _0x50ae86=a0_0x299ca5;try{if((0x0,J[_0x50ae86(0x6e5)])(_0x384f4e[_0x50ae86(0x3d1)]))var _0x515616=_0x384f4e[_0x50ae86(0x3d1)][_0x50ae86(0x5ca)]('/')[0x3];else var _0x515616=_0x384f4e[_0x50ae86(0x3d1)];let _0xeed712=await this[_0x50ae86(0x6a1)][_0x50ae86(0x6cb)](_0x515616);return this[_0x50ae86(0x31f)][_0x50ae86(0x8bd)](this[_0x50ae86(0x8b7)]+'\x20('+this['instance'][_0x50ae86(0x851)]+_0x50ae86(0x215)+_0xeed712),{'join':!0x0,'inviteCode':_0x515616,'groupJid':_0xeed712};}catch(_0x15c8f6){let _0x177bc2=_0x50ae86(0x337),_0x24f47c=_0x15c8f6 instanceof Error?_0x15c8f6[_0x50ae86(0x503)]:typeof _0x15c8f6==_0x50ae86(0x6dc)?JSON['stringify'](_0x15c8f6):_0x15c8f6,_0x5b874c=_0x177bc2+':\x20'+_0x24f47c;throw this[_0x50ae86(0x31f)][_0x50ae86(0x77f)](this[_0x50ae86(0x8b7)]+'\x20('+this[_0x50ae86(0x4dd)][_0x50ae86(0x851)]+_0x50ae86(0x215)+_0x5b874c),new U(_0x5b874c);}}async[a0_0x299ca5(0x231)](_0x563ec0){const _0x1abf14=a0_0x299ca5;try{return{'participants':(await this['repository'][_0x1abf14(0x76d)][_0x1abf14(0x151)]({'where':{'_id':_0x563ec0[_0x1abf14(0x661)]}},this[_0x1abf14(0x4dd)][_0x1abf14(0x851)]))[_0x1abf14(0x422)][_0x1abf14(0x2c7)]};}catch(_0x31158a){let _0x5149d7=_0x1abf14(0x569),_0x4e96c3=_0x31158a instanceof Error?_0x31158a[_0x1abf14(0x503)]:typeof _0x31158a==_0x1abf14(0x6dc)?JSON[_0x1abf14(0x6ed)](_0x31158a):_0x31158a,_0x539ca8=_0x5149d7+':\x20'+_0x4e96c3;throw this[_0x1abf14(0x31f)][_0x1abf14(0x77f)](this[_0x1abf14(0x8b7)]+'\x20('+this[_0x1abf14(0x4dd)][_0x1abf14(0x851)]+_0x1abf14(0x215)+_0x539ca8),new U(_0x539ca8);}}async[a0_0x299ca5(0x362)](_0x23fc9b){const _0x2678e7=a0_0x299ca5;try{return await this[_0x2678e7(0x6a1)][_0x2678e7(0x7b8)](_0x23fc9b[_0x2678e7(0x661)]),{'groupJid':_0x23fc9b['groupJid'],'leave':!0x0};}catch(_0x5849d7){let _0x45281d=_0x2678e7(0x40b),_0x1f4c73=_0x5849d7 instanceof Error?_0x5849d7['message']:typeof _0x5849d7==_0x2678e7(0x6dc)?JSON[_0x2678e7(0x6ed)](_0x5849d7):_0x5849d7,_0x2440fb=_0x45281d+':\x20'+_0x1f4c73;throw this[_0x2678e7(0x31f)]['error'](this[_0x2678e7(0x8b7)]+'\x20('+this[_0x2678e7(0x4dd)][_0x2678e7(0x851)]+_0x2678e7(0x215)+_0x2440fb),new m(_0x2440fb);}}async['pollMessage'](_0x1c5884){const _0x5815ae=a0_0x299ca5;return await this['sendMessageWithTyping'](_0x1c5884[_0x5815ae(0x485)],{'poll':{'name':_0x1c5884[_0x5815ae(0x2c3)]?.[_0x5815ae(0x5d0)],'selectableCount':_0x1c5884[_0x5815ae(0x2c3)][_0x5815ae(0x4f6)],'values':_0x1c5884[_0x5815ae(0x2c3)][_0x5815ae(0x86d)]}},_0x1c5884?.[_0x5815ae(0x630)]);}async['listMessage'](_0x1dba48){const _0x410871=a0_0x299ca5;return await this[_0x410871(0x5da)](_0x1dba48['number'],{'listMessage':{'title':_0x1dba48['listMessage'][_0x410871(0x20f)],'description':_0x1dba48[_0x410871(0x15a)]['description'],'buttonText':_0x1dba48[_0x410871(0x15a)]?.[_0x410871(0x4c5)],'footerText':_0x1dba48['listMessage']?.[_0x410871(0x61f)],'sections':_0x1dba48['listMessage'][_0x410871(0x36e)],'listType':0x2}},_0x1dba48?.[_0x410871(0x630)]);}async[a0_0x299ca5(0x2cc)](_0x3fcf92){const _0x4af619=a0_0x299ca5;this[_0x4af619(0x4dd)][_0x4af619(0x43e)]===void 0x0&&await this[_0x4af619(0x349)]();let _0x14432e;if(_0x3fcf92['menuMessage'][_0x4af619(0x82f)]===_0x4af619(0x1e9)||_0x3fcf92[_0x4af619(0x2cc)]['type']==='list2'){let _0x4263bc=_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)][_0x4af619(0x730)]('\x0a'),_0x3892bf='',_0xd4946f='';_0x4263bc!==-0x1?(_0x3892bf=_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)][_0x4af619(0x436)](0x0,_0x4263bc)[_0x4af619(0x3a7)](),_0xd4946f=_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)][_0x4af619(0x436)](_0x4263bc+0x1)):_0xd4946f=_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)];let _0x145cc9=_0x3fcf92[_0x4af619(0x2cc)]['choices'][_0x4af619(0x67c)](_0x312346=>_0x312346[_0x4af619(0x3a7)]()!==''),_0x7771f0=this['createSectionsFromValues'](_0x145cc9);_0x14432e={'listMessage':{'title':_0x3892bf,'description':_0xd4946f,'buttonText':_0x3fcf92['menuMessage'][_0x4af619(0x4c5)]||_0x4af619(0x141),'footerText':_0x3fcf92[_0x4af619(0x2cc)]['footerText'],'sections':_0x7771f0,'listType':0x2}};}else{if(_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x82f)]==='poll'){let _0x588ac9=_0x3fcf92[_0x4af619(0x2cc)]['choices']['filter'](_0x1d5fdb=>!(_0x1d5fdb[_0x4af619(0x664)]('[')&&_0x1d5fdb[_0x4af619(0x4d5)](']'))&&_0x1d5fdb['trim']()!=='')['map'](_0x161760=>_0x161760[_0x4af619(0x5ca)]('\x0a')[0x0]);for(;_0x588ac9['length']<0x2;)_0x588ac9['push']('Opção\x20Falsa\x20'+(_0x588ac9[_0x4af619(0x84b)]+0x1));_0x14432e={'poll':{'name':_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)],'selectableCount':_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x4f6)]||0x1,'values':_0x588ac9}};}else{if(_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x82f)]===_0x4af619(0x533)){let _0xca18a=this[_0x4af619(0x619)](_0x3fcf92[_0x4af619(0x2cc)]['choices'][_0x4af619(0x67c)](_0x3f66ca=>!(_0x3f66ca[_0x4af619(0x664)]('[')&&_0x3f66ca[_0x4af619(0x4d5)](']'))));return _0x14432e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3fcf92['menuMessage'][_0x4af619(0x69c)]},'footer':_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x61f)]?{'text':_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x61f)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xca18a,'messageParamsJson':JSON[_0x4af619(0x6ed)]({'from':_0x4af619(0x81a),'templateId':_0x4af619(0x206)+(0x0,re[_0x4af619(0x12e)])(0x12)[_0x4af619(0x5a7)]('hex')[_0x4af619(0x6cd)]()})}}}}},await this[_0x4af619(0x580)](_0x3fcf92[_0x4af619(0x485)],_0x14432e,_0x3fcf92?.[_0x4af619(0x630)]);}else{if(_0x3fcf92[_0x4af619(0x2cc)]['type']===_0x4af619(0x8be)){let _0x207f40=this[_0x4af619(0x144)](_0x3fcf92['menuMessage'][_0x4af619(0x419)]);return _0x14432e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3fcf92[_0x4af619(0x2cc)][_0x4af619(0x69c)]},'footer':_0x3fcf92['menuMessage'][_0x4af619(0x61f)]?{'text':_0x3fcf92['menuMessage'][_0x4af619(0x61f)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x207f40,'messageParamsJson':JSON[_0x4af619(0x6ed)]({'from':_0x4af619(0x81a),'templateId':'3EB0'+(0x0,re[_0x4af619(0x12e)])(0x12)[_0x4af619(0x5a7)](_0x4af619(0x523))[_0x4af619(0x6cd)]()})}}}}},await this[_0x4af619(0x580)](_0x3fcf92[_0x4af619(0x485)],_0x14432e,_0x3fcf92?.['options']);}}}}return await this[_0x4af619(0x5da)](_0x3fcf92[_0x4af619(0x485)],_0x14432e,_0x3fcf92?.[_0x4af619(0x630)]);}[a0_0x299ca5(0x619)](_0x37e7f4){const _0x4e04c6=a0_0x299ca5;return _0x37e7f4[_0x4e04c6(0x3ae)](_0x5bdb4e=>{const _0x6193e7=_0x4e04c6;let _0x36f7a7=_0x5bdb4e[_0x6193e7(0x5ca)]('\x0a')[_0x6193e7(0x3ae)](_0xcf4004=>_0xcf4004['trim']()),_0x42dd1e=_0x36f7a7[0x0],_0x495939=_0x36f7a7[0x1]||_0x42dd1e,_0x2bc60e=_0x495939[_0x6193e7(0x664)](_0x6193e7(0x26c))?_0x6193e7(0x55a):'quick_reply';return{'name':_0x2bc60e,'buttonParamsJson':JSON[_0x6193e7(0x6ed)]({'display_text':_0x42dd1e,'id':_0x2bc60e==='quick_reply'?_0x495939:void 0x0,'url':_0x2bc60e===_0x6193e7(0x55a)?_0x495939:void 0x0})};});}['createButtonSectionsFromValues'](_0x39d23d){const _0x2dfa1f=a0_0x299ca5;let _0x55754f=[],_0x296cb8={'title':'','rows':[]};return _0x39d23d[_0x2dfa1f(0x613)](_0x20d820=>{const _0xe490f7=_0x2dfa1f;if(_0x20d820['startsWith']('[')&&_0x20d820['endsWith'](']'))_0x296cb8[_0xe490f7(0x1b4)][_0xe490f7(0x84b)]>0x0&&_0x55754f[_0xe490f7(0x2b6)](_0x296cb8),_0x296cb8={'title':_0x20d820[_0xe490f7(0x82e)](0x1,-0x1),'rows':[]};else{let _0x1d72b5=_0x20d820[_0xe490f7(0x5ca)]('\x0a')[_0xe490f7(0x3ae)](_0x35eaf8=>_0x35eaf8['trim']()),_0x5a4365=_0x1d72b5[0x0],_0x31fa36=_0x1d72b5[0x1]?_0x1d72b5[0x1]:void 0x0,_0x4dcca7=_0x1d72b5[0x2]||_0x5a4365;_0x296cb8[_0xe490f7(0x1b4)][_0xe490f7(0x2b6)]({'title':_0x5a4365,'description':_0x31fa36,'id':_0x4dcca7});}}),_0x296cb8[_0x2dfa1f(0x1b4)][_0x2dfa1f(0x84b)]>0x0&&_0x55754f['push'](_0x296cb8),[{'name':_0x2dfa1f(0x822),'buttonParamsJson':JSON[_0x2dfa1f(0x6ed)]({'title':'Selecione\x20uma\x20opção','sections':_0x55754f})}];}[a0_0x299ca5(0x5c2)](_0x1376c8){const _0x52b307=a0_0x299ca5;let _0x52bab5=[],_0x11cf3={'rows':[]};return _0x1376c8['forEach'](_0x22fba6=>{const _0x50514c=a0_0x49f7;if(_0x22fba6[_0x50514c(0x664)]('[')&&_0x22fba6['endsWith'](']'))_0x11cf3['rows']['length']>0x0&&_0x52bab5['push'](_0x11cf3),_0x11cf3={'title':_0x22fba6['slice'](0x1,-0x1),'rows':[]};else{let _0x3766e0=_0x22fba6['split']('\x0a')['map'](_0x24614f=>_0x24614f[_0x50514c(0x3a7)]()),_0x5f0741=_0x3766e0[0x0],_0x2fc597=_0x3766e0[0x1]||null,_0x19e629=_0x3766e0[0x2]||_0x5f0741;_0x11cf3[_0x50514c(0x1b4)][_0x50514c(0x2b6)]({'title':_0x5f0741,'description':_0x2fc597,'rowId':_0x19e629});}}),_0x11cf3[_0x52b307(0x1b4)][_0x52b307(0x84b)]>0x0&&_0x52bab5[_0x52b307(0x2b6)](_0x11cf3),_0x52bab5;}async[a0_0x299ca5(0x7df)](_0x3d6182,_0x2a3f12){const _0x25a07d=a0_0x299ca5;if(await this[_0x25a07d(0x8e5)](_0x3d6182,!0x0)){let _0x30e81a={'where':{'_id':_0x3d6182['id']}},_0x4931af={'status':[_0x2a3f12['status']][0x0]};try{let _0x32738c=await this[_0x25a07d(0x7d6)][_0x25a07d(0x503)][_0x25a07d(0x130)](_0x30e81a,_0x4931af,this[_0x25a07d(0x4dd)][_0x25a07d(0x851)]);_0x32738c&&F(this[_0x25a07d(0x8b7)],'messages',{'message':_0x32738c});}catch{}}}[a0_0x299ca5(0x607)](_0x3d7dc9){let _0x363c2a=[];return _0x3d7dc9['forEach'](_0x5ecf17=>{const _0x5d671a=a0_0x49f7;_0x5ecf17[_0x5d671a(0x20f)]&&_0x363c2a[_0x5d671a(0x2b6)]('['+_0x5ecf17['title']+']'),_0x5ecf17[_0x5d671a(0x1b4)][_0x5d671a(0x613)](_0x421e8e=>{const _0x3169d9=_0x5d671a;_0x363c2a[_0x3169d9(0x2b6)](_0x421e8e[_0x3169d9(0x20f)]);});}),_0x363c2a['join']('|');}['formatVCard'](_0x1cd744){const _0x3280b0=a0_0x299ca5;let _0x2cfe1f=_0x1cd744[_0x3280b0(0x35f)](/\\n/g,'\x0a')['split']('\x0a')[_0x3280b0(0x67c)](_0x4b3849=>_0x4b3849['includes']('TEL')||_0x4b3849['includes']('EMAIL')),_0x7d495c='';return _0x2cfe1f['forEach'](_0x33dec4=>{const _0x214558=_0x3280b0;let _0x4963bd=/TEL(?:.*):(.+)/,_0x562444=/EMAIL(?:.*):(.+)/,_0x29f0a4=_0x33dec4['match'](_0x4963bd),_0x4b88c6=_0x33dec4['match'](_0x562444);if(_0x29f0a4){let _0x1e7261=_0x29f0a4[0x1][_0x214558(0x35f)](/-| |\+|\(|\)/g,'')['trim']();_0x7d495c+=_0x214558(0x62a)+_0x1e7261+'\x0a';}else{if(_0x4b88c6){let _0x514005=_0x4b88c6[0x1]['trim']();_0x7d495c+=_0x214558(0x8bb)+_0x514005+'\x0a';}}}),_0x7d495c['trim']();}async['updateChatWithMessage'](_0x1457f3,_0x21f732,_0xb81182,_0xe63c1a=null){const _0x43b8ca=a0_0x299ca5;if(_0x1457f3['ENABLED'])try{let _0x903c80=_0x21f732[_0x43b8ca(0x143)][_0x43b8ca(0x530)][_0x43b8ca(0x35f)](/:\d{1,2}@/g,'@'),_0x4132d4=_0x21f732[_0x43b8ca(0x143)][_0x43b8ca(0x8c9)],_0x465d99=_0x903c80[_0x43b8ca(0x4d5)](_0x43b8ca(0x1ba)),_0x3a3756=_0x21f732['participant']?.[_0x43b8ca(0x35f)](/:\d{1,2}@/g,'@')||'',_0x46dfd5=_0x21f732['message_normalized']?.['text']||_0x21f732['message_normalized']?.['caption']||_0x21f732[_0x43b8ca(0x417)]?.[_0x43b8ca(0x84d)]||_0x21f732[_0x43b8ca(0x417)]?.['name']||'',_0x2e5647={'_id':_0x21f732[_0x43b8ca(0x898)],'remoteJid':_0x4132d4?this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]:_0x465d99?_0x3a3756:_0x903c80,'pushName':_0x4132d4?this[_0x43b8ca(0x4dd)][_0x43b8ca(0x6ec)]||'Eu':_0x21f732[_0x43b8ca(0x1fe)],'text':_0x46dfd5,'type':_0x21f732[_0x43b8ca(0x237)],'when':_0x21f732[_0x43b8ca(0x5c7)]||Date['now']()};_0xe63c1a||(_0xe63c1a=await this['repository'][_0x43b8ca(0x76d)][_0x43b8ca(0x151)]({'where':{'_id':_0x903c80}},this['instance'][_0x43b8ca(0x851)]));let _0x3358d1=_0x4132d4?0x0:_0xe63c1a?(_0xe63c1a[_0x43b8ca(0x54a)]||0x0)+0x1:0x1,_0x14d60d={'lastmsg':_0x21f732[_0x43b8ca(0x5c7)]||Date['now'](),'ephemeralExpiration':_0x21f732[_0x43b8ca(0x425)],'lastMessage':_0x2e5647,'unreadcount':_0x3358d1,..._0x4132d4||_0x465d99?{}:{'name':_0x21f732['pushName']},..._0x465d99?{'group':_0x465d99}:{},...!_0x4132d4&&!_0x465d99&&_0x21f732[_0x43b8ca(0x28e)]?{'imagechat':_0x21f732['profilePictureUrl']}:{}};if(!_0x465d99&&(!_0xe63c1a?.[_0x43b8ca(0x59a)]||!_0xe63c1a[_0x43b8ca(0x59a)][_0x43b8ca(0x41f)])&&_0x21f732[_0x43b8ca(0x1fe)]&&!_0x4132d4&&(_0x14d60d={..._0x14d60d,'leadInfo.nome':_0x21f732[_0x43b8ca(0x1fe)]}),_0xe63c1a?.['leadInfo'][_0x43b8ca(0x67b)]||(_0x14d60d={..._0x14d60d,'leadInfo.etiquetas':[]}),_0xe63c1a?.[_0x43b8ca(0x59a)][_0x43b8ca(0x6bb)]||(_0x14d60d={..._0x14d60d,'leadInfo.customFields':[]}),_0xe63c1a?.['leadInfo'][_0x43b8ca(0x4a1)]||(_0x14d60d={..._0x14d60d,'leadInfo.tags':[]}),_0xe63c1a&&_0xe63c1a?.[_0x43b8ca(0x795)]){let _0x1e67a1=await this[_0x43b8ca(0x7d6)][_0x43b8ca(0x1a5)][_0x43b8ca(0x2b7)]({'where':{}},this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]),_0x503754=new Set(_0x1e67a1['map'](_0x30e01f=>_0x30e01f[_0x43b8ca(0x898)])),_0x246fb1=(_0xe63c1a['leadInfo']?.[_0x43b8ca(0x67b)]||[])[_0x43b8ca(0x67c)](_0x1a2d1e=>_0x503754[_0x43b8ca(0x594)](_0x1a2d1e));_0x14d60d={..._0x14d60d,'imported':!0x1,'leadInfo.etiquetas':_0x246fb1};for(let _0x38aa09 of _0x246fb1)await this[_0x43b8ca(0x5d9)](_0x38aa09,_0x903c80);}if(!this[_0x43b8ca(0x42c)][_0x43b8ca(0x264)][_0x43b8ca(0x2b7)](_0x2831b6=>_0x2831b6[_0x43b8ca(0x662)]&&_0x46dfd5['includes'](_0x2831b6[_0x43b8ca(0x662)]))&&_0xb81182===_0x43b8ca(0x6db)&&_0x4132d4&&this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)][_0x43b8ca(0x86b)]&&_0x46dfd5['trim']()!==this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)][_0x43b8ca(0x160)][_0x43b8ca(0x3a7)]()){let _0x2f3300=(this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x28376a=Date[_0x43b8ca(0x1f1)]()+_0x2f3300;_0xe63c1a?.[_0x43b8ca(0x59a)]?.[_0x43b8ca(0x462)]===0x0||(_0x14d60d={..._0x14d60d,'leadInfo.desativadoFluxoAte':_0x28376a},this[_0x43b8ca(0x31f)][_0x43b8ca(0x8bd)](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x28376a+'.'));}if(_0x46dfd5['trim']()===this['AutomateSystem']?.['flowConfig']['stopConversation'][_0x43b8ca(0x3a7)]()){this[_0x43b8ca(0x31f)]['verbose'](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]+_0x43b8ca(0x76b)+_0x46dfd5);let _0x2f32cb=Date['now']();this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)][_0x43b8ca(0x5fb)]===0x0?_0x14d60d={..._0x14d60d,'leadInfo.desativadoFluxoAte':_0x2f32cb+0x7591f6200}:_0x14d60d={..._0x14d60d,'leadInfo.desativadoFluxoAte':_0x2f32cb+this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)][_0x43b8ca(0x5fb)]*0x3c*0x3e8};}if(_0xe63c1a=await this[_0x43b8ca(0x7d6)][_0x43b8ca(0x76d)]['updateOne']({'where':{'_id':_0x903c80}},_0x14d60d,this['instance'][_0x43b8ca(0x851)],{'new':!0x0,'upsert':!0x0}),_0xe63c1a)F(this['instanceName'],'chats',{'chat':_0xe63c1a});else{this[_0x43b8ca(0x31f)][_0x43b8ca(0x77f)](this[_0x43b8ca(0x8b7)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x4132d4)return this['logger'][_0x43b8ca(0x8bd)](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]+_0x43b8ca(0x260)),null;if(!this[_0x43b8ca(0x42c)]?.['flowConfig'][_0x43b8ca(0x86b)])return this[_0x43b8ca(0x31f)][_0x43b8ca(0x8bd)](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]+_0x43b8ca(0x833)),null;if(_0xe63c1a[_0x43b8ca(0x898)][_0x43b8ca(0x457)](_0x43b8ca(0x1ba))&&this[_0x43b8ca(0x42c)]?.[_0x43b8ca(0x32b)][_0x43b8ca(0x384)]===!0x0)return this[_0x43b8ca(0x31f)]['verbose'](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]+_0x43b8ca(0x5f5)),null;if(_0xe63c1a[_0x43b8ca(0x59a)]){if(_0xe63c1a[_0x43b8ca(0x59a)][_0x43b8ca(0x462)]===0x0||_0xe63c1a[_0x43b8ca(0x59a)][_0x43b8ca(0x26e)])return this['logger'][_0x43b8ca(0x8bd)](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)]['wuid']+_0x43b8ca(0x410)+_0x903c80+',\x20saindo.'),null;if(_0xe63c1a[_0x43b8ca(0x59a)]['desativadoFluxoAte']>Date[_0x43b8ca(0x1f1)]()&&!_0x21f732[_0x43b8ca(0x417)]?.[_0x43b8ca(0x84d)])return this[_0x43b8ca(0x31f)][_0x43b8ca(0x8bd)](this[_0x43b8ca(0x8b7)]+'\x20('+this[_0x43b8ca(0x4dd)][_0x43b8ca(0x851)]+_0x43b8ca(0x6a9)+new Date(_0xe63c1a[_0x43b8ca(0x59a)][_0x43b8ca(0x462)])[_0x43b8ca(0x3f7)]()+_0x43b8ca(0x79b)),null;}this['logger']['verbose'](this[_0x43b8ca(0x8b7)]+'\x20('+this['instance'][_0x43b8ca(0x851)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x43b8ca(0x53c)](_0x21f732,_0xb81182);}catch(_0x1a551e){let _0x10ee1e=_0x43b8ca(0x2a9),_0x46236a=_0x1a551e instanceof Error?_0x1a551e[_0x43b8ca(0x503)]:typeof _0x1a551e=='object'?JSON['stringify'](_0x1a551e):_0x1a551e,_0x802f7c=_0x10ee1e+':\x20'+_0x46236a;return this['logger']['error'](this[_0x43b8ca(0x8b7)]+'\x20('+this['instance'][_0x43b8ca(0x851)]+_0x43b8ca(0x215)+_0x802f7c),null;}}async[a0_0x299ca5(0x7a7)](_0x5d1032,_0x4fd140){const _0x713618=a0_0x299ca5;if(_0x4fd140['ENABLED']){let _0x5ae880=_0x5d1032[_0x713618(0x3ae)](async _0x109cb0=>{const _0x4e420d=_0x713618;try{let _0x15cdaa={'_id':_0x109cb0[_0x4e420d(0x898)],'owner':_0x109cb0[_0x4e420d(0x19b)],'lastcache':0x0};if(Object[_0x4e420d(0x791)](_0x109cb0)[_0x4e420d(0x613)](_0x4c003e=>{_0x109cb0[_0x4c003e]!==null&&(_0x15cdaa[_0x4c003e]=_0x109cb0[_0x4c003e]);}),_0x15cdaa[_0x4e420d(0x8b8)]===null&&(_0x15cdaa[_0x4e420d(0x8b8)]=_0x4e420d(0x4c7)),Object[_0x4e420d(0x791)](_0x15cdaa)[_0x4e420d(0x84b)]>0x0)return await this[_0x4e420d(0x7d6)]['chat'][_0x4e420d(0x3ff)]({'where':{'_id':_0x109cb0[_0x4e420d(0x898)]}},_0x15cdaa,this[_0x4e420d(0x4dd)][_0x4e420d(0x851)]);}catch(_0xbd169d){let _0x22f153=_0x4e420d(0x610)+_0x109cb0['_id'],_0x5deb03=_0xbd169d instanceof Error?_0xbd169d[_0x4e420d(0x503)]:typeof _0xbd169d==_0x4e420d(0x6dc)?JSON[_0x4e420d(0x6ed)](_0xbd169d):_0xbd169d,_0x5863de=_0x22f153+':\x20'+_0x5deb03;return this[_0x4e420d(0x31f)]['error'](this[_0x4e420d(0x8b7)]+'\x20('+this[_0x4e420d(0x4dd)][_0x4e420d(0x851)]+'):\x20'+_0x5863de),null;}}),_0x3aaafb=(await Promise[_0x713618(0x7e8)](_0x5ae880))[_0x713618(0x67c)](_0x221bff=>_0x221bff!==null)[_0x713618(0x84b)];this[_0x713618(0x31f)][_0x713618(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x713618(0x851)]+'):\x20'+_0x3aaafb+_0x713618(0x4e5)+this[_0x713618(0x4dd)][_0x713618(0x851)]+_0x713618(0x17b));}}async[a0_0x299ca5(0x8de)](_0x73cdf4){const _0x40be5d=a0_0x299ca5;this[_0x40be5d(0x31f)][_0x40be5d(0x8bd)](this[_0x40be5d(0x8b7)]+'\x20('+this['instance'][_0x40be5d(0x851)]+_0x40be5d(0x1ca));let _0x298938={'readMessages':[{'remoteJid':_0x73cdf4[_0x40be5d(0x16d)]['lastReceivedMessage'][_0x40be5d(0x143)][_0x40be5d(0x530)],'fromMe':_0x73cdf4['chatLog'][_0x40be5d(0x32f)][_0x40be5d(0x143)][_0x40be5d(0x8c9)],'id':_0x73cdf4[_0x40be5d(0x16d)][_0x40be5d(0x32f)]['key']['id']}]};await this[_0x40be5d(0x678)](_0x298938);}async[a0_0x299ca5(0x53c)](_0x3cc710,_0x3b8549){const _0x4e1f6b=a0_0x299ca5;try{let {key:_0x3f026f,message_normalized:_0x35cbce}=_0x3cc710,_0x4a65b3=_0x35cbce,_0x38d73b=_0x35cbce[_0x4e1f6b(0x69c)]||_0x35cbce['caption']||_0x35cbce['vote']||_0x35cbce[_0x4e1f6b(0x5d0)]||'',_0x1fa741=_0x3f026f['remoteJid'],_0x4fe56d=null,_0x25c96a=this[_0x4e1f6b(0x42c)][_0x4e1f6b(0x264)][_0x4e1f6b(0x2b7)](_0x2eeb62=>_0x2eeb62[_0x4e1f6b(0x662)]&&_0x38d73b[_0x4e1f6b(0x457)](_0x2eeb62[_0x4e1f6b(0x662)]));if(_0x25c96a&&_0x3b8549===_0x4e1f6b(0x6db)){let _0x126ede=await this[_0x4e1f6b(0x7d6)][_0x4e1f6b(0x65f)][_0x4e1f6b(0x151)]({'where':{'_id':_0x25c96a[_0x4e1f6b(0x898)]}});if(this['logger'][_0x4e1f6b(0x8bd)](this[_0x4e1f6b(0x8b7)]+'\x20('+this[_0x4e1f6b(0x4dd)][_0x4e1f6b(0x851)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x126ede&&_0x126ede[_0x4e1f6b(0x135)]?.[_0x4e1f6b(0x457)](this[_0x4e1f6b(0x4dd)][_0x4e1f6b(0x851)]))_0x4fe56d=await this[_0x4e1f6b(0x4ff)](_0x126ede,_0x3f026f,_0x4a65b3);else return this[_0x4e1f6b(0x31f)][_0x4e1f6b(0x8bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4e1f6b(0x1df)),null;}else this[_0x4e1f6b(0x31f)][_0x4e1f6b(0x8bd)](this['instanceName']+'\x20('+this[_0x4e1f6b(0x4dd)]['wuid']+_0x4e1f6b(0x4ad));if(_0x4fe56d=await this['findConversation'](_0x1fa741,_0x4a65b3),_0x4fe56d){this[_0x4e1f6b(0x31f)][_0x4e1f6b(0x8bd)](this[_0x4e1f6b(0x8b7)]+'\x20('+this[_0x4e1f6b(0x4dd)][_0x4e1f6b(0x851)]+_0x4e1f6b(0x755)),!_0x3f026f[_0x4e1f6b(0x8c9)]&&_0x4fe56d[_0x4e1f6b(0x66d)]&&this['readMessageBot'](_0x4fe56d);let _0x18375b=await this['NextBlock'](_0x4fe56d);_0x18375b&&await this[_0x4e1f6b(0x896)](_0x4fe56d,_0x18375b);}}catch(_0x45b2b5){this['logger']['error'](this[_0x4e1f6b(0x8b7)]+'\x20('+this['instance'][_0x4e1f6b(0x851)]+_0x4e1f6b(0x564)+(_0x45b2b5 instanceof Error?_0x45b2b5['message']:JSON[_0x4e1f6b(0x6ed)](_0x45b2b5,null,0x2)));}}['flattenObject'](_0x5d5df1,_0x42ca84='',_0x19c627={}){const _0x37f8e1=a0_0x299ca5;return typeof _0x5d5df1!=_0x37f8e1(0x6dc)||_0x5d5df1===null?(_0x42ca84&&(_0x19c627[_0x42ca84]=_0x5d5df1),_0x19c627):(Object[_0x37f8e1(0x491)](_0x5d5df1)[_0x37f8e1(0x613)](([_0x27f680,_0x4c2d14])=>{const _0x491a3a=_0x37f8e1;let _0x293da6=_0x42ca84?_0x42ca84+'.'+_0x27f680:'_'+_0x27f680;Array[_0x491a3a(0x21d)](_0x4c2d14)?_0x4c2d14[_0x491a3a(0x613)]((_0x56019d,_0x4d70cb)=>{const _0x151c5e=_0x491a3a;this[_0x151c5e(0x867)](_0x56019d,_0x293da6+'['+_0x4d70cb+']',_0x19c627);}):typeof _0x4c2d14=='object'&&_0x4c2d14!==null?this[_0x491a3a(0x867)](_0x4c2d14,_0x293da6,_0x19c627):_0x19c627[_0x293da6]=String(_0x4c2d14);}),_0x19c627);}[a0_0x299ca5(0x4e8)](_0x5644f3){const _0x436770=a0_0x299ca5;let _0x339b45={};for(let _0x82cf57 of _0x5644f3)typeof _0x82cf57[_0x436770(0x5d0)]==_0x436770(0x7a5)&&typeof _0x82cf57['value']=='string'&&(_0x339b45[_0x82cf57[_0x436770(0x5d0)]]=_0x82cf57[_0x436770(0x893)]);return _0x339b45;}async[a0_0x299ca5(0x72c)](_0x47cd4d){const _0x119764=a0_0x299ca5;if(!this[_0x119764(0x42c)]?.[_0x119764(0x32b)][_0x119764(0x86b)]||_0x47cd4d[_0x119764(0x5d8)]!==_0x119764(0x405)&&_0x47cd4d[_0x119764(0x7e4)]==='')return null;let _0x896166=_0x47cd4d[_0x119764(0x16d)][_0x119764(0x226)]||'start';typeof _0x47cd4d[_0x119764(0x16d)][_0x119764(0x284)]>'u'&&(_0x47cd4d[_0x119764(0x16d)]['lastCondition']=!0x0);let _0x81f0c=_0x47cd4d[_0x119764(0x16d)][_0x119764(0x284)];this['logger']['verbose'](this[_0x119764(0x8b7)]+'\x20('+this[_0x119764(0x4dd)][_0x119764(0x851)]+_0x119764(0x8c3)+_0x896166+_0x119764(0x1ea)+_0x81f0c);let _0x4d8312=_0x896166===_0x119764(0x365)?_0x47cd4d['blocks'][_0x119764(0x2b7)](_0x2be8dc=>_0x2be8dc[_0x119764(0x82f)]==='start'):_0x47cd4d[_0x119764(0x3b2)]['find'](_0x512ad0=>_0x512ad0['_id'][_0x119764(0x5a7)]()===_0x896166[_0x119764(0x5a7)]());if(!_0x4d8312)return this[_0x119764(0x31f)][_0x119764(0x77f)](this[_0x119764(0x8b7)]+'\x20('+this[_0x119764(0x4dd)][_0x119764(0x851)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x896166),null;let _0x3ff18c={'_pushName':_0x47cd4d?.[_0x119764(0x16d)]?.[_0x119764(0x32f)]?.[_0x119764(0x1fe)]||'','_sender':this[_0x119764(0x4dd)][_0x119764(0x851)]||'',..._0x47cd4d['chatLog'][_0x119764(0x30f)]},_0x45c619=new Date();_0x3ff18c[_0x119764(0x165)]=_0x45c619['getDate'](),_0x3ff18c[_0x119764(0x520)]=_0x45c619['getMonth']()+0x1,_0x3ff18c[_0x119764(0x754)]=_0x45c619[_0x119764(0x155)](),_0x3ff18c['_hour']=_0x45c619[_0x119764(0x3f6)](),_0x3ff18c[_0x119764(0x61c)]=_0x45c619[_0x119764(0x7ac)](),_0x3ff18c['_second']=_0x45c619[_0x119764(0x6e1)]();let _0x368d47=null;if(_0x47cd4d[_0x119764(0x7e4)]){let _0x445e08=_0x47cd4d[_0x119764(0x16d)][_0x119764(0x32f)]['vote'],_0x58b948=_0x47cd4d[_0x119764(0x860)][_0x119764(0x2b7)](_0x577ec0=>_0x577ec0[_0x119764(0x50f)]===_0x445e08);if(_0x58b948){let _0x1954d0=_0x58b948[_0x119764(0x452)];if(_0x368d47=_0x47cd4d['blocks'][_0x119764(0x2b7)](_0x40b37f=>_0x40b37f[_0x119764(0x60d)]===_0x1954d0&&_0x40b37f['order']===0x1),_0x4d8312[_0x119764(0x194)][_0x119764(0x126)]){let _0x3a9e9f={'id':_0x47cd4d[_0x119764(0x7e4)],'remoteJid':_0x47cd4d[_0x119764(0x530)],'fromMe':!0x0};await this[_0x119764(0x2c5)](_0x3a9e9f);}if(_0x4d8312[_0x119764(0x194)][_0x119764(0x126)]&&_0x4d8312[_0x119764(0x194)][_0x119764(0x7bb)]&&_0x4d8312['uazapi']['menuType']===_0x119764(0x4eb)){let _0x3381c7={'number':_0x47cd4d[_0x119764(0x530)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x47cd4d[_0x119764(0x7f5)]+'\x0a*Você\x20respondeu*:\x0a'+_0x445e08}};await this[_0x119764(0x1a2)](_0x3381c7);}_0x3ff18c[_0x119764(0x643)]=_0x445e08,_0x47cd4d[_0x119764(0x5d8)]=_0x119764(0x405),_0x47cd4d['waitingMenu_id']='',_0x47cd4d['waitingMenu_text']='',_0x47cd4d[_0x119764(0x860)]=[];}else{this[_0x119764(0x31f)][_0x119764(0x8bd)](this[_0x119764(0x8b7)]+'\x20('+this[_0x119764(0x4dd)][_0x119764(0x851)]+_0x119764(0x282));let _0x469bd4={'activatedCount':_0x47cd4d[_0x119764(0x16d)][_0x119764(0x2e5)][_0x119764(0x67c)](_0x453c2f=>String(_0x453c2f[_0x119764(0x659)])===String(_0x896166))['length'],'moreLogs':[_0x119764(0x549)]};if(_0x4d8312['uazapi'][_0x119764(0x37b)]){let _0x4c3d9d={'number':_0x47cd4d[_0x119764(0x530)],'options':{'delay':0x0},'textMessage':{'text':_0x4d8312[_0x119764(0x194)][_0x119764(0x37b)]}};await this[_0x119764(0x1a2)](_0x4c3d9d);}if(_0x4d8312[_0x119764(0x181)]!==void 0x0&&_0x469bd4[_0x119764(0x8dd)]>=_0x4d8312[_0x119764(0x181)]){let _0x524d02=Date[_0x119764(0x1f1)](),_0x391d4d=_0x4d8312[_0x119764(0x432)]??0xa;isNaN(_0x391d4d)&&(_0x391d4d=0xa);let _0x55f5b5=_0x524d02+_0x391d4d*0x3c*0x3e8;_0x469bd4[_0x119764(0x752)]=_0x55f5b5,_0x469bd4[_0x119764(0x571)][_0x119764(0x2b6)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x47cd4d,_0x55f5b5),_0x47cd4d['waitingMenu_id']='',_0x47cd4d[_0x119764(0x7f5)]='',_0x47cd4d[_0x119764(0x860)]=[];}return this[_0x119764(0x376)](_0x47cd4d,_0x4d8312,_0x469bd4,!0x0),null;}}if(_0x81f0c&&_0x4d8312['next_groupId']&&!_0x47cd4d['waitingMenu_id']){let _0x44834c=_0x47cd4d[_0x119764(0x3b2)][_0x119764(0x67c)](_0x134f71=>_0x134f71[_0x119764(0x60d)][_0x119764(0x5a7)]()===_0x4d8312[_0x119764(0x452)][_0x119764(0x5a7)]())['sort']((_0x536d44,_0x30577d)=>_0x536d44[_0x119764(0x4b4)]-_0x30577d[_0x119764(0x4b4)]);_0x44834c[_0x119764(0x84b)]>0x0&&(_0x368d47=_0x44834c[0x0]);}if(!_0x368d47){let _0x55878=_0x4d8312[_0x119764(0x60d)],_0x5ed3a3=_0x47cd4d[_0x119764(0x3b2)][_0x119764(0x67c)](_0x46c664=>_0x46c664[_0x119764(0x60d)]===_0x55878&&_0x46c664[_0x119764(0x4b4)]>_0x4d8312['order'])['sort']((_0x3a3364,_0x2180b4)=>_0x3a3364[_0x119764(0x4b4)]-_0x2180b4['order']);_0x5ed3a3['length']>0x0&&(_0x368d47=_0x5ed3a3[0x0]);}if(!_0x368d47)return _0x47cd4d[_0x119764(0x5d8)]=_0x119764(0x758),null;_0x47cd4d['chatLog']['realVariables']=_0x3ff18c;let _0x516998=JSON[_0x119764(0x24f)](JSON[_0x119764(0x6ed)](_0x368d47));return this[_0x119764(0x897)](_0x516998,_0x47cd4d[_0x119764(0x16d)]['realVariables']),_0x47cd4d[_0x119764(0x16d)][_0x119764(0x226)]=_0x516998['_id'],_0x47cd4d['chatLog'][_0x119764(0x284)]=!0x0,_0x516998;}[a0_0x299ca5(0x44f)](_0x40a1df,_0x252329){const _0x2185ca=a0_0x299ca5;return _0x40a1df[_0x2185ca(0x35f)](/\{\{([^}]+)\}\}/g,(_0x5987d0,_0x3aa799)=>_0x252329[_0x3aa799]||'');}['replaceVariablesInObject'](_0x55909b,_0x3832e5){const _0x2767cd=a0_0x299ca5;for(let _0x22a81c in _0x55909b)typeof _0x55909b[_0x22a81c]=='string'?_0x55909b[_0x22a81c]=this['replaceVariables'](_0x55909b[_0x22a81c],_0x3832e5):typeof _0x55909b[_0x22a81c]==_0x2767cd(0x6dc)&&this[_0x2767cd(0x897)](_0x55909b[_0x22a81c],_0x3832e5);}async[a0_0x299ca5(0x876)](_0xd938c1,_0x47c02b){const _0x43c251=a0_0x299ca5;let _0x11679e=_0x47c02b[_0x43c251(0x898)];if(_0xd938c1['chatLog']&&_0xd938c1[_0x43c251(0x16d)]['blockLogs']){let _0x306a4a=_0xd938c1[_0x43c251(0x16d)][_0x43c251(0x2e5)][_0x43c251(0x67c)](_0x345f5c=>String(_0x345f5c[_0x43c251(0x659)])===String(_0x11679e))[_0x43c251(0x845)]();if(_0x306a4a&&_0x306a4a[_0x43c251(0x77f)]&&_0x47c02b[_0x43c251(0x5c8)])return _0xd938c1[_0x43c251(0x5d8)]=_0x43c251(0x758),await this[_0x43c251(0x188)](_0xd938c1),null;}if(_0x47c02b[_0x43c251(0x82f)]==='uazapi'&&_0x47c02b['uazapi'][_0x43c251(0x309)]===_0x43c251(0x5f1)&&_0xd938c1[_0x43c251(0x7e4)])return _0xd938c1[_0x43c251(0x16d)][_0x43c251(0x226)]=_0x11679e,await this[_0x43c251(0x188)](_0xd938c1),null;let _0x1ffd6f=await this[_0x43c251(0x72c)](_0xd938c1);if(_0xd938c1[_0x43c251(0x16d)]&&_0xd938c1[_0x43c251(0x16d)][_0x43c251(0x2e5)]){let _0x2f44d0=_0xd938c1[_0x43c251(0x16d)][_0x43c251(0x2e5)][_0x43c251(0x67c)](_0x58ddf2=>String(_0x58ddf2[_0x43c251(0x659)])===String(_0x11679e))[_0x43c251(0x84b)];if(_0x47c02b[_0x43c251(0x181)]!==void 0x0&&_0x2f44d0>=_0x47c02b[_0x43c251(0x181)]){let _0x4b1221=Date['now'](),_0x1cff00=_0x47c02b[_0x43c251(0x432)]??0xa;isNaN(_0x1cff00)&&(_0x1cff00=0xa);let _0x404c35=_0x4b1221+_0x1cff00*0x3c*0x3e8,_0x540000={'newStoppedUntil':_0x404c35};return this[_0x43c251(0x7a6)](_0xd938c1,_0x404c35),this[_0x43c251(0x376)](_0xd938c1,_0x47c02b,_0x540000,!0x0),null;}}_0x1ffd6f&&_0x1ffd6f['type']!==_0x43c251(0x189)&&await this[_0x43c251(0x896)](_0xd938c1,_0x1ffd6f),_0x1ffd6f||await this[_0x43c251(0x188)](_0xd938c1),_0x1ffd6f&&_0x1ffd6f[_0x43c251(0x82f)]==='save'&&(_0xd938c1[_0x43c251(0x16d)]['lastBlockId']=_0x11679e,await this[_0x43c251(0x188)](_0xd938c1));}async[a0_0x299ca5(0x896)](_0x246e6a,_0x3f620a){const _0x44e2ca=a0_0x299ca5;try{let _0x29c655=_0x3f620a[_0x44e2ca(0x82f)];this[_0x44e2ca(0x31f)][_0x44e2ca(0x8bd)](this[_0x44e2ca(0x8b7)]+'\x20('+this[_0x44e2ca(0x4dd)][_0x44e2ca(0x851)]+_0x44e2ca(0x5b5)+_0x29c655);let _0x455d64={'uazapi':()=>this[_0x44e2ca(0x3db)](_0x246e6a,_0x3f620a),'save':()=>this['saveTextReply'](_0x246e6a,_0x3f620a),'stop':()=>this['stopConversation'](_0x246e6a,_0x3f620a),'condition':()=>this[_0x44e2ca(0x696)](_0x246e6a,_0x3f620a),'varedit':()=>this[_0x44e2ca(0x593)](_0x246e6a,_0x3f620a),'apirequest':()=>this['processApiRequest'](_0x246e6a,_0x3f620a),'goToFlow':()=>this[_0x44e2ca(0x456)](_0x246e6a,_0x3f620a),'scheduleFlow':()=>this[_0x44e2ca(0x196)](_0x246e6a,_0x3f620a),'awaitSeconds':()=>this[_0x44e2ca(0x1fd)](_0x246e6a,_0x3f620a),'clearVariables':()=>this[_0x44e2ca(0x823)](_0x246e6a,_0x3f620a)}[_0x29c655];_0x455d64&&await _0x455d64();}catch(_0x4cdfa2){this[_0x44e2ca(0x31f)][_0x44e2ca(0x77f)](this[_0x44e2ca(0x8b7)]+'\x20('+this[_0x44e2ca(0x4dd)][_0x44e2ca(0x851)]+_0x44e2ca(0x202)+(_0x4cdfa2 instanceof Error?_0x4cdfa2[_0x44e2ca(0x503)]:JSON[_0x44e2ca(0x6ed)](_0x4cdfa2,null,0x2)));}}async[a0_0x299ca5(0x1fd)](_0x4dd11e,_0x3d920b){const _0x444449=a0_0x299ca5;if(this[_0x444449(0x31f)]['verbose'](this[_0x444449(0x8b7)]+'\x20('+this[_0x444449(0x4dd)][_0x444449(0x851)]+_0x444449(0x62b)),!_0x4dd11e||!_0x3d920b)return this[_0x444449(0x31f)][_0x444449(0x77f)](this[_0x444449(0x8b7)]+'\x20('+this[_0x444449(0x4dd)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x12dba6=+_0x3d920b['awaitSeconds'];isNaN(_0x12dba6)&&(_0x12dba6=0x0),_0x12dba6=Math[_0x444449(0x493)](_0x12dba6,0x3c),await(0x0,w[_0x444449(0x5bf)])(_0x12dba6*0x3e8);let _0x44d84b={'moreLogs':['Pausado\x20por\x20'+_0x12dba6+_0x444449(0x843)]};return await this[_0x444449(0x376)](_0x4dd11e,_0x3d920b,_0x44d84b),_0x12dba6;}async[a0_0x299ca5(0x823)](_0x34d0ed,_0x221753){const _0x286de7=a0_0x299ca5;if(this[_0x286de7(0x31f)][_0x286de7(0x8bd)](this[_0x286de7(0x8b7)]+'\x20('+this[_0x286de7(0x4dd)][_0x286de7(0x851)]+_0x286de7(0x2f3)),!_0x34d0ed||!_0x221753)return this[_0x286de7(0x31f)][_0x286de7(0x77f)](this[_0x286de7(0x8b7)]+'\x20('+this[_0x286de7(0x4dd)][_0x286de7(0x851)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x487c0b=[];if(_0x221753[_0x286de7(0x3de)][_0x286de7(0x3a7)]()===_0x286de7(0x20b)){let _0x4a39f8=[_0x286de7(0x3dc),_0x286de7(0x3f4),_0x286de7(0x670),_0x286de7(0x832),_0x286de7(0x437),_0x286de7(0x898),_0x286de7(0x5e7)];_0x487c0b=Object[_0x286de7(0x791)](_0x34d0ed[_0x286de7(0x16d)][_0x286de7(0x30f)])['filter'](_0x4186a2=>_0x4186a2[_0x286de7(0x664)]('_')&&!_0x4a39f8[_0x286de7(0x457)](_0x4186a2));}else _0x487c0b=_0x221753[_0x286de7(0x3de)][_0x286de7(0x5ca)]('|')[_0x286de7(0x3ae)](_0x5ae7b1=>(_0x5ae7b1=_0x5ae7b1[_0x286de7(0x35f)](/[{}]/g,'')[_0x286de7(0x3a7)](),_0x5ae7b1[_0x286de7(0x664)]('_')?_0x5ae7b1:'_'+_0x5ae7b1));let _0x97c593=[];_0x487c0b[_0x286de7(0x613)](_0x382a63=>{const _0x34de3a=_0x286de7;_0x382a63 in _0x34d0ed['chatLog'][_0x34de3a(0x30f)]&&(delete _0x34d0ed[_0x34de3a(0x16d)][_0x34de3a(0x30f)][_0x382a63],_0x97c593['push'](_0x382a63));}),_0x97c593[_0x286de7(0x84b)]>0x0?this[_0x286de7(0x31f)][_0x286de7(0x8bd)](this['instanceName']+'\x20('+this[_0x286de7(0x4dd)][_0x286de7(0x851)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x97c593[_0x286de7(0x35d)](',\x20')):this[_0x286de7(0x31f)][_0x286de7(0x8bd)](this[_0x286de7(0x8b7)]+'\x20('+this[_0x286de7(0x4dd)][_0x286de7(0x851)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x2e0976={'moreLogs':[_0x286de7(0x6c2)+_0x97c593['join'](',\x20')]};return await this[_0x286de7(0x376)](_0x34d0ed,_0x221753,_0x2e0976),null;}async[a0_0x299ca5(0x196)](_0x2cc357,_0x3b6b7f){const _0x1c98b0=a0_0x299ca5;if(this[_0x1c98b0(0x31f)][_0x1c98b0(0x8bd)](this['instanceName']+'\x20('+this[_0x1c98b0(0x4dd)][_0x1c98b0(0x851)]+_0x1c98b0(0x820)),!_0x2cc357||!_0x3b6b7f)return this['logger'][_0x1c98b0(0x77f)](this[_0x1c98b0(0x8b7)]+'\x20('+this[_0x1c98b0(0x4dd)][_0x1c98b0(0x851)]+_0x1c98b0(0x40f)),null;let _0x53373c=_0x2cc357['remoteJid'];_0x3b6b7f[_0x1c98b0(0x37a)][_0x1c98b0(0x530)]&&_0x3b6b7f[_0x1c98b0(0x37a)][_0x1c98b0(0x530)][_0x1c98b0(0x3a7)]()!==''&&(_0x53373c=_0x3b6b7f[_0x1c98b0(0x194)][_0x1c98b0(0x530)][_0x1c98b0(0x3a7)]());let _0x25645f=_0x3b6b7f[_0x1c98b0(0x37a)][_0x1c98b0(0x5df)]*0xea60,_0x341ba4=Date[_0x1c98b0(0x1f1)]()+_0x25645f,_0x1160fc={'status':_0x1c98b0(0x3e4),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x2cc357[_0x1c98b0(0x5d0)],'remoteJids':[_0x53373c],'when':_0x341ba4,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1c98b0(0x65f),'flowName':_0x3b6b7f[_0x1c98b0(0x37a)]['flowName']};this[_0x1c98b0(0x172)](_0x1160fc);let _0x57ed86=await this[_0x1c98b0(0x72c)](_0x2cc357);_0x57ed86&&await this[_0x1c98b0(0x896)](_0x2cc357,_0x57ed86);}async[a0_0x299ca5(0x456)](_0x20a946,_0x4022ec){const _0x54ec72=a0_0x299ca5;if(this[_0x54ec72(0x31f)][_0x54ec72(0x8bd)](this[_0x54ec72(0x8b7)]+'\x20('+this[_0x54ec72(0x4dd)][_0x54ec72(0x851)]+_0x54ec72(0x31a)),!_0x20a946||!_0x4022ec)return this[_0x54ec72(0x31f)][_0x54ec72(0x77f)](this['instanceName']+'\x20('+this[_0x54ec72(0x4dd)][_0x54ec72(0x851)]+_0x54ec72(0x40f)),null;await this[_0x54ec72(0x376)](_0x20a946,_0x4022ec,{},!0x0,!0x0);let _0x758861=_0x4022ec['goToFlow'];_0x20a946=await this[_0x54ec72(0x22a)](_0x758861,_0x20a946[_0x54ec72(0x530)],_0x20a946[_0x54ec72(0x16d)]['realVariables']);let _0x114e46=await this[_0x54ec72(0x72c)](_0x20a946);_0x114e46&&await this[_0x54ec72(0x896)](_0x20a946,_0x114e46);}async[a0_0x299ca5(0x22a)](_0x54de64,_0x4bccd0,_0x120207){const _0x2ced3f=a0_0x299ca5;this[_0x2ced3f(0x31f)][_0x2ced3f(0x8bd)](this[_0x2ced3f(0x8b7)]+'\x20('+this['instance']['wuid']+_0x2ced3f(0x216));try{let _0xa5bce5=this['AutomateSystem'][_0x2ced3f(0x264)][_0x2ced3f(0x2b7)](_0x145e41=>_0x145e41[_0x2ced3f(0x898)]===_0x54de64);_0xa5bce5||this[_0x2ced3f(0x31f)][_0x2ced3f(0x77f)](this[_0x2ced3f(0x8b7)]+'\x20('+this[_0x2ced3f(0x4dd)][_0x2ced3f(0x851)]+_0x2ced3f(0x2aa)+_0x54de64+_0x2ced3f(0x3ea));let _0x189e35=await this[_0x2ced3f(0x7d6)]['flow'][_0x2ced3f(0x151)]({'where':{'_id':_0xa5bce5['_id']}});if(!_0x189e35||!_0x189e35['whoCanUse']?.['includes'](this[_0x2ced3f(0x4dd)]['wuid']))throw this[_0x2ced3f(0x31f)][_0x2ced3f(0x77f)](this['instanceName']+'\x20('+this[_0x2ced3f(0x4dd)][_0x2ced3f(0x851)]+_0x2ced3f(0x2aa)+_0x54de64+_0x2ced3f(0x583)),new m(_0x2ced3f(0x8a8)+_0x54de64+_0x2ced3f(0x583));let _0x127e38=require('mongodb')[_0x2ced3f(0x71a)],_0x531bd5=Date[_0x2ced3f(0x1f1)](),_0x3bd087='start',_0x2e6121={},_0x2bdbf1={},_0x3fe955=this['AutomateSystem'][_0x2ced3f(0x264)][_0x2ced3f(0x2b7)](_0x572a2e=>_0x572a2e[_0x2ced3f(0x898)]===_0x189e35['_id']?.['toString']()),_0x1a90a4=_0x3fe955?.[_0x2ced3f(0x29c)]??_0x189e35['minutesToClose']??0x0,_0x478f56=_0x3fe955?.[_0x2ced3f(0x66d)]??_0x189e35[_0x2ced3f(0x66d)]??!0x1,_0x434559={'flowId':_0xa5bce5[_0x2ced3f(0x898)],'readMessages':_0xa5bce5[_0x2ced3f(0x66d)],..._0x189e35,'chatLog':null},_0x830053={'lastReceivedMessage':_0x2e6121,'lastSendMessage':_0x2bdbf1,'lastBlockId':_0x3bd087,'lastCondition':!0x0,'realVariables':_0x120207};_0x434559['chatLog']=_0x830053,_0x434559[_0x2ced3f(0x16d)][_0x2ced3f(0x30f)]={..._0x120207},delete _0x434559[_0x2ced3f(0x898)],_0x434559['_id']=new _0x127e38(),_0x434559[_0x2ced3f(0x13a)]=_0x531bd5,_0x434559[_0x2ced3f(0x5d8)]=_0x2ced3f(0x405),_0x434559[_0x2ced3f(0x530)]=_0x4bccd0,_0x434559[_0x2ced3f(0x29c)]=_0x1a90a4,_0x434559[_0x2ced3f(0x66d)]=_0x478f56;let _0x3c2412=await this[_0x2ced3f(0x7d6)][_0x2ced3f(0x14d)]['updateOne'](_0x434559[_0x2ced3f(0x898)],_0x434559,this[_0x2ced3f(0x4dd)]['wuid']);return this[_0x2ced3f(0x31f)]['verbose'](this[_0x2ced3f(0x8b7)]+'\x20('+this[_0x2ced3f(0x4dd)][_0x2ced3f(0x851)]+_0x2ced3f(0x869)),_0x3c2412?_0x434559:null;}catch(_0xf39e97){let _0x3b579a=_0x2ced3f(0x72b),_0x4d9a6a=_0xf39e97 instanceof Error?_0xf39e97[_0x2ced3f(0x503)]:typeof _0xf39e97=='object'?JSON[_0x2ced3f(0x6ed)](_0xf39e97):_0xf39e97,_0x3a4be6=_0x3b579a+':\x20'+_0x4d9a6a;throw this[_0x2ced3f(0x31f)]['error'](this[_0x2ced3f(0x8b7)]+'\x20('+this[_0x2ced3f(0x4dd)][_0x2ced3f(0x851)]+_0x2ced3f(0x215)+_0x3a4be6),new m(_0x3a4be6);}}async[a0_0x299ca5(0x8a1)](_0x1102c0,_0x1a9871){const _0x582c20=a0_0x299ca5;let _0x284a3e,_0x2fcfd3;try{let _0x57d6a1=_0x1a9871['apirequest'];if(!_0x57d6a1||!_0x57d6a1[_0x582c20(0x4bc)]||!_0x57d6a1['method'])throw new Error(_0x582c20(0x713));let _0x2fe5cf;([_0x582c20(0x279),_0x582c20(0x5ac),_0x582c20(0x385)][_0x582c20(0x3b1)](_0x3e7218=>_0x57d6a1['url']['includes'](_0x3e7218))||_0x57d6a1[_0x582c20(0x448)])&&(_0x2fe5cf=_0x582c20(0x768));let _0x1b9f3b='\u205f',_0x5b603e;try{_0x5b603e=JSON[_0x582c20(0x24f)](_0x57d6a1[_0x582c20(0x41e)][_0x582c20(0x35f)](new RegExp(_0x1b9f3b,'g'),''));}catch(_0x4cd3bf){throw _0x4cd3bf;}let _0x4df12b={'method':_0x57d6a1[_0x582c20(0x604)],'url':_0x57d6a1[_0x582c20(0x4bc)],'headers':_0x57d6a1[_0x582c20(0x7ed)]||{},..._0x57d6a1['method']['toUpperCase']()!=='GET'&&_0x57d6a1[_0x582c20(0x41e)]?{'data':JSON[_0x582c20(0x24f)](_0x57d6a1['bodyString'][_0x582c20(0x35f)](new RegExp(_0x1b9f3b,'g'),''))}:{},..._0x2fe5cf&&{'responseType':_0x2fe5cf}},_0xf939b8=await(0x0,K[_0x582c20(0x222)])(_0x4df12b),_0x4ad33b=_0xf939b8['headers'][_0x582c20(0x760)];if(_0x4ad33b&&_0x4ad33b[_0x582c20(0x457)](_0x582c20(0x389))||typeof _0xf939b8[_0x582c20(0x2fb)]==_0x582c20(0x7a5)){if(typeof _0xf939b8[_0x582c20(0x2fb)]=='string'){let _0x46a8ae=_0xf939b8['data'][_0x582c20(0x35f)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x284a3e=JSON['parse'](_0x46a8ae);}catch(_0x4218a9){this[_0x582c20(0x31f)][_0x582c20(0x77f)](_0x582c20(0x5a4)+_0x4218a9[_0x582c20(0x503)]),_0x284a3e={'_apiResponse':_0xf939b8[_0x582c20(0x2fb)]};}}else _0x284a3e=_0xf939b8[_0x582c20(0x2fb)];let _0x64a5be=_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)],_0x28cd3c=this['flattenObject'](_0x284a3e);return Object[_0x582c20(0x243)](_0x64a5be,_0x28cd3c),_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)]=_0x64a5be,_0x2fcfd3={'error':!0x1,'apiResponse':_0x284a3e},this[_0x582c20(0x376)](_0x1102c0,_0x1a9871,_0x2fcfd3),_0x284a3e;}if(_0x4ad33b&&(_0x4ad33b['includes'](_0x582c20(0x515))||_0x4ad33b[_0x582c20(0x457)](_0x582c20(0x835))||_0x4ad33b[_0x582c20(0x457)]('audio')||_0x4ad33b[_0x582c20(0x457)](_0x582c20(0x2b4)))){this[_0x582c20(0x31f)]['verbose'](this[_0x582c20(0x8b7)]+'\x20('+this[_0x582c20(0x4dd)]['wuid']+_0x582c20(0x47c)+_0x4ad33b);let _0x4e086e=(0x0,Q['v4'])(),_0x3ea293='',_0x543af6={'image/jpeg':_0x582c20(0x1b8),'image/png':_0x582c20(0x589),'image/gif':_0x582c20(0x548),'image/webp':_0x582c20(0x152),'image/svg+xml':_0x582c20(0x819),'audio/mpeg':_0x582c20(0x4ab),'audio/ogg':_0x582c20(0x17c),'audio/wav':_0x582c20(0x400),'video/mp4':'.mp4','video/webm':_0x582c20(0x2fd),'video/ogg':_0x582c20(0x792),'text/plain':_0x582c20(0x3c1),'application/pdf':_0x582c20(0x2ba),'application/msword':_0x582c20(0x721),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x582c20(0x1f5),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x582c20(0x8a2),'application/vnd.ms-powerpoint':_0x582c20(0x7cf),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x543af6[_0x4ad33b]?(_0x3ea293=_0x543af6[_0x4ad33b],this[_0x582c20(0x31f)][_0x582c20(0x8bd)](this[_0x582c20(0x8b7)]+'\x20('+this[_0x582c20(0x4dd)][_0x582c20(0x851)]+_0x582c20(0x7a9)+_0x3ea293)):(_0x3ea293=_0x582c20(0x45d),this['logger'][_0x582c20(0x8bd)](this['instanceName']+'\x20('+this[_0x582c20(0x4dd)]['wuid']+_0x582c20(0x551)+_0x3ea293)),_0x4e086e+=_0x3ea293,this[_0x582c20(0x31f)][_0x582c20(0x8bd)](this[_0x582c20(0x8b7)]+'\x20('+this['instance'][_0x582c20(0x851)]+_0x582c20(0x8b4)+_0x4e086e);let _0x1461bc=this[_0x582c20(0x1d9)][_0x582c20(0x2ed)](_0x582c20(0x2a3))[_0x582c20(0x559)];if(!_0x1461bc){let _0x25ab6f=this[_0x582c20(0x1d9)][_0x582c20(0x2ed)](_0x582c20(0x3ca));_0x1461bc=_0x582c20(0x183)+(_0x25ab6f&&_0x25ab6f[_0x582c20(0x8c1)][_0x582c20(0x5ca)]('/')[0x4]);}let _0x44cdef=Buffer['from'](_0xf939b8['data']);await this[_0x582c20(0x356)](_0x44cdef,_0x4e086e);let _0x5b935b='/media/'+_0x4e086e;_0x5b935b=''+_0x1461bc+_0x5b935b,_0x284a3e={'fileUrl':_0x5b935b},_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)][_0x582c20(0x680)]=_0x5b935b;let _0x476d1b=_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)],_0x240b58=this[_0x582c20(0x867)](_0x284a3e);return Object[_0x582c20(0x243)](_0x476d1b,_0x240b58),_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)]=_0x476d1b,_0x2fcfd3={'error':!0x1,'apiResponse':{'fileUrl':_0x5b935b}},this[_0x582c20(0x376)](_0x1102c0,_0x1a9871,_0x2fcfd3),_0x284a3e;}}catch(_0x310e05){this[_0x582c20(0x31f)][_0x582c20(0x77f)](_0x582c20(0x8bc)+_0x310e05[_0x582c20(0x503)]),_0x310e05[_0x582c20(0x75b)]&&(_0x284a3e=_0x310e05[_0x582c20(0x75b)][_0x582c20(0x2fb)]);let _0x40264a=_0x1102c0['chatLog'][_0x582c20(0x30f)],_0x31dd2a=this[_0x582c20(0x867)](_0x284a3e);return Object['assign'](_0x40264a,_0x31dd2a),_0x1102c0[_0x582c20(0x16d)][_0x582c20(0x30f)]=_0x40264a,_0x2fcfd3={'error':!0x0,'errorLog':_0x310e05['toString'](),'apiResponse':_0x284a3e},this['updateConversation'](_0x1102c0,_0x1a9871,_0x2fcfd3),{'success':!0x1};}}[a0_0x299ca5(0x52f)](_0x53a3a7,_0x5b65ca){const _0x9838f=a0_0x299ca5;let _0xcd0418=_0x29c057=>{const _0x5b8be5=a0_0x49f7;let _0x26c426=_0x29c057['replace'](/[^0-9.,-]/g,'')[_0x5b8be5(0x35f)](',','.'),_0x126a17=parseFloat(_0x26c426);return isNaN(_0x126a17)?null:_0x126a17;},_0x4dfff6=_0x5b65ca[_0x9838f(0x129)],_0x2be781=_0x5b65ca[_0x9838f(0x805)];typeof _0x4dfff6==_0x9838f(0x7a5)&&(_0x4dfff6=this[_0x9838f(0x44f)](_0x4dfff6,_0x53a3a7[_0x9838f(0x16d)][_0x9838f(0x30f)])??''),typeof _0x2be781==_0x9838f(0x7a5)&&(_0x2be781=this[_0x9838f(0x44f)](_0x2be781,_0x53a3a7['chatLog'][_0x9838f(0x30f)])??'');let _0xbd9346=null;if(!_0x5b65ca[_0x9838f(0x430)])return null;switch(this['logger'][_0x9838f(0x8bd)](this[_0x9838f(0x8b7)]+'\x20('+this['instance'][_0x9838f(0x851)]+_0x9838f(0x7d7)+_0x4dfff6),this['logger']['verbose'](this[_0x9838f(0x8b7)]+'\x20('+this[_0x9838f(0x4dd)]['wuid']+_0x9838f(0x455)+_0x2be781),_0x5b65ca[_0x9838f(0x430)]){case'+':case'-':case'*':case'/':let _0x43fd88=_0xcd0418(_0x4dfff6||'0'),_0x580fb8=_0xcd0418(_0x2be781||'0');if(_0x43fd88===null)return null;switch(_0x5b65ca[_0x9838f(0x430)]){case'+':_0xbd9346=_0x43fd88+(_0x580fb8??0x0);break;case'-':_0xbd9346=_0x43fd88-(_0x580fb8??0x0);break;case'*':_0xbd9346=_0x43fd88*(_0x580fb8??0x1);break;case'/':_0x580fb8!==0x0&&(_0xbd9346=_0x43fd88/(_0x580fb8??0x1));break;}break;case _0x9838f(0x62c):case _0x9838f(0x705):let _0xc1de33=_0x2be781,_0x357efa=_0x5b65ca[_0x9838f(0x7fb)];if(typeof _0x357efa==_0x9838f(0x7a5)&&(_0x357efa=this[_0x9838f(0x44f)](_0x357efa,_0x53a3a7['chatLog'][_0x9838f(0x30f)])??''),_0xc1de33&&_0x357efa!==void 0x0){let _0x29b061=_0x5b65ca[_0x9838f(0x430)]===_0x9838f(0x62c)?new RegExp(_0xc1de33[_0x9838f(0x35f)](/[-\/\\^$*+?.()|[\]{}]/g,_0x9838f(0x5a1)),'g'):new RegExp(_0xc1de33,'g');_0xbd9346=_0x4dfff6[_0x9838f(0x35f)](_0x29b061,_0x357efa);}else console[_0x9838f(0x727)](_0x9838f(0x673));break;case'setNewValue':_0xbd9346=_0x2be781;break;case'extractRegex':let _0x3898b6=_0x4dfff6[_0x9838f(0x5ba)](new RegExp(_0x2be781||''));_0xbd9346=_0x3898b6?_0x3898b6[0x0]:'';break;case'truncatedto':_0xbd9346=_0x4dfff6[_0x9838f(0x82e)](0x0,parseInt(_0x2be781||'0'));break;case _0x9838f(0x392):let _0x41b3b2=parseInt(_0x2be781||'0');_0xbd9346=_0x4dfff6[_0x9838f(0x82e)](_0x4dfff6[_0x9838f(0x84b)]-_0x41b3b2);break;case _0x9838f(0x42f):let _0x464db4=_0xcd0418(_0x4dfff6),_0x4842f9=parseInt(_0x2be781||'0');_0x4842f9=Math[_0x9838f(0x2d6)](_0x4842f9),_0x464db4!==null?_0xbd9346=_0x464db4[_0x9838f(0x3f7)](_0x9838f(0x197),{'minimumFractionDigits':_0x4842f9,'maximumFractionDigits':_0x4842f9}):(console[_0x9838f(0x727)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x4dfff6),_0xbd9346=null);break;case _0x9838f(0x7c5):let _0x244705=_0xcd0418(_0x4dfff6);_0x244705!==null?_0xbd9346=_0x244705[_0x9838f(0x3f7)](_0x9838f(0x197),{'style':_0x9838f(0x314),'currency':_0x9838f(0x557)}):(console['warn'](_0x9838f(0x4b7)+_0x4dfff6),_0xbd9346=null);break;case'upperCase':_0xbd9346=_0x4dfff6['toUpperCase']();break;case _0x9838f(0x3c9):_0xbd9346=_0x4dfff6[_0x9838f(0x484)]();break;case _0x9838f(0x800):_0xbd9346=_0x4dfff6['split']('\x20')[_0x9838f(0x3ae)](_0x5dc848=>_0x5dc848[_0x9838f(0x25d)](0x0)[_0x9838f(0x6cd)]()+_0x5dc848[_0x9838f(0x82e)](0x1)['toLowerCase']())[_0x9838f(0x35d)]('\x20');break;case _0x9838f(0x7f9):_0xbd9346=JSON[_0x9838f(0x6ed)](_0x4dfff6);break;case _0x9838f(0x796):_0xbd9346=_0x4dfff6['trim']();break;default:_0xbd9346=_0x4dfff6;}return _0xbd9346!==null?_0xbd9346[_0x9838f(0x5a7)]():null;}async['processvaredits'](_0x5a38f8,_0x3f3ebd){const _0x26629c=a0_0x299ca5;try{let _0xa254e5=_0x5a38f8[_0x26629c(0x889)]?.['filter'](_0x281745=>_0x281745[_0x26629c(0x659)]===_0x3f3ebd[_0x26629c(0x898)]?.['toString']())||[],_0x59af61=_0x3f3ebd[_0x26629c(0x1c6)],_0x346b96=null,_0x2d6efe=[],_0x46c31a=_0x5a38f8[_0x26629c(0x16d)]['realVariables'][_0x59af61];_0x2d6efe[_0x26629c(0x2b6)]('Valor\x20inicial:\x20\x22'+_0x46c31a+'\x22');for(let _0x59b101 of _0xa254e5){_0x59b101[_0x26629c(0x129)]=_0x46c31a,_0x346b96=_0x59b101[_0x26629c(0x129)];let _0x34fecb;try{_0x34fecb=this[_0x26629c(0x52f)](_0x5a38f8,_0x59b101);}catch(_0x8e47e9){this[_0x26629c(0x31f)][_0x26629c(0x77f)](_0x26629c(0x397)+_0x8e47e9[_0x26629c(0x503)]);continue;}if(_0x34fecb!==null){let _0x4f901a=_0x26629c(0x648)+_0x59b101[_0x26629c(0x430)]+'\x22',_0x1ec3b4=[_0x26629c(0x7c5),_0x26629c(0x2a0),_0x26629c(0x3c9),_0x26629c(0x800),_0x26629c(0x796)];_0x59b101[_0x26629c(0x430)]===_0x26629c(0x62c)||_0x59b101[_0x26629c(0x430)]===_0x26629c(0x705)?_0x4f901a+=_0x26629c(0x1f3)+_0x59b101[_0x26629c(0x805)]+_0x26629c(0x885)+_0x59b101[_0x26629c(0x7fb)]+'\x22':!_0x1ec3b4['includes'](_0x59b101[_0x26629c(0x430)])&&_0x59b101['secondValue']!==null&&_0x59b101[_0x26629c(0x805)]!==void 0x0&&(_0x4f901a+=_0x26629c(0x34c)+_0x59b101[_0x26629c(0x805)]+'\x22'),_0x4f901a+=_0x26629c(0x7d9)+_0x34fecb+'.',_0x2d6efe['push'](_0x4f901a);}_0x34fecb!==null&&(_0x46c31a=_0x34fecb);}if(_0x5a38f8[_0x26629c(0x16d)][_0x26629c(0x30f)]&&_0x3f3ebd[_0x26629c(0x1c6)]){_0x5a38f8['chatLog'][_0x26629c(0x30f)][_0x3f3ebd['saveVariable']]=_0x46c31a;let _0x2c9987={'variable':_0x3f3ebd['saveVariable'],'oldValue':_0x346b96,'newValue':_0x46c31a,'moreLogs':_0x2d6efe};try{this[_0x26629c(0x376)](_0x5a38f8,_0x3f3ebd,_0x2c9987);}catch(_0x418a48){this[_0x26629c(0x31f)][_0x26629c(0x77f)](_0x26629c(0x8ce)+_0x418a48['message']);}}return _0x59af61;}catch(_0x1bb9c7){return this[_0x26629c(0x31f)][_0x26629c(0x77f)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x1bb9c7[_0x26629c(0x503)]),null;}}async[a0_0x299ca5(0x696)](_0x21f317,_0x26ce73){const _0x4b7c09=a0_0x299ca5;try{let _0x5076d0=[],_0x5de7f7=_0x21f317['conditions']['filter'](_0x22f108=>_0x22f108[_0x4b7c09(0x659)]===_0x26ce73[_0x4b7c09(0x898)][_0x4b7c09(0x5a7)]()),_0x3c72e9=null,_0x33e56b=!0x1;for(let _0x3d27a4 of _0x5de7f7){let _0x256c83=this[_0x4b7c09(0x339)](_0x21f317,_0x3d27a4);_0x5076d0[_0x4b7c09(0x2b6)](_0x4b7c09(0x300)+_0x3d27a4['firstValue']+',\x20Comparador:\x20'+_0x3d27a4[_0x4b7c09(0x38d)]+',\x20Segundo\x20Valor:\x20'+_0x3d27a4[_0x4b7c09(0x805)]+_0x4b7c09(0x382)+_0x256c83),_0x3c72e9===null?_0x3c72e9=_0x256c83:_0x3d27a4['OrAnd']===_0x4b7c09(0x203)?(_0x3c72e9=_0x3c72e9&&_0x256c83,_0x256c83||(_0x33e56b=!0x0)):_0x3d27a4[_0x4b7c09(0x3f0)]==='or'&&(_0x33e56b||(_0x3c72e9=_0x3c72e9||_0x256c83));}_0x3c72e9===null&&(_0x3c72e9=!0x0);let _0x29006b={'moreLogs':_0x5076d0};_0x21f317['chatLog'][_0x4b7c09(0x284)]=_0x3c72e9,await this['updateConversation'](_0x21f317,_0x26ce73,_0x29006b);}catch(_0x5dce4d){this[_0x4b7c09(0x31f)]['error'](this[_0x4b7c09(0x8b7)]+'\x20('+this[_0x4b7c09(0x4dd)]['wuid']+_0x4b7c09(0x509)+(_0x5dce4d instanceof Error?_0x5dce4d[_0x4b7c09(0x503)]:JSON[_0x4b7c09(0x6ed)](_0x5dce4d,null,0x2)));}}[a0_0x299ca5(0x339)](_0xbdebee,_0x4553d7){const _0x4b6ba3=a0_0x299ca5;let _0xb0684e=_0x4553d7[_0x4b6ba3(0x129)],_0x4f6b39=_0x4553d7[_0x4b6ba3(0x805)];typeof _0xb0684e==_0x4b6ba3(0x7a5)&&(_0xb0684e=this[_0x4b6ba3(0x44f)](_0xb0684e,_0xbdebee[_0x4b6ba3(0x16d)][_0x4b6ba3(0x30f)])??''),typeof _0x4f6b39==_0x4b6ba3(0x7a5)&&(_0x4f6b39=this[_0x4b6ba3(0x44f)](_0x4f6b39,_0xbdebee[_0x4b6ba3(0x16d)][_0x4b6ba3(0x30f)])??'');try{switch(_0x4553d7[_0x4b6ba3(0x38d)]){case _0x4b6ba3(0x18b):return _0xb0684e===_0x4f6b39;case _0x4b6ba3(0x383):return _0xb0684e!==_0x4f6b39;case _0x4b6ba3(0x652):return this[_0x4b6ba3(0x652)](_0xb0684e,_0x4f6b39);case'notContains':return!this['contains'](_0xb0684e,_0x4f6b39);case _0x4b6ba3(0x83b):return parseFloat(_0xb0684e)>parseFloat(_0x4f6b39);case _0x4b6ba3(0x2ca):return parseFloat(_0xb0684e)<parseFloat(_0x4f6b39);case _0x4b6ba3(0x1d6):return _0xb0684e!=='';case'empty':return _0xb0684e==='';case _0x4b6ba3(0x2da):return new RegExp(_0x4f6b39)[_0x4b6ba3(0x4ce)](_0xb0684e);case _0x4b6ba3(0x12a):return!new RegExp(_0x4f6b39)[_0x4b6ba3(0x4ce)](_0xb0684e);default:return!0x1;}}catch(_0x4f3bde){return this[_0x4b6ba3(0x31f)][_0x4b6ba3(0x77f)](_0x4b6ba3(0x4d0)+_0x4f3bde),!0x1;}}['contains'](_0x3f169c,_0x316204){const _0x52ed8f=a0_0x299ca5;if(_0x3f169c===_0x316204&&/^\d+$/[_0x52ed8f(0x4ce)](_0x3f169c))return!0x0;if(this[_0x52ed8f(0x350)](_0x3f169c)&&/^\d+$/[_0x52ed8f(0x4ce)](_0x316204)){let _0x9f7fa5=_0x3f169c['split'](',')[_0x52ed8f(0x3ae)](_0x116a5e=>parseInt(_0x116a5e[_0x52ed8f(0x3a7)]())),_0x382c95=parseInt(_0x316204);return _0x9f7fa5['includes'](_0x382c95);}return _0x3f169c[_0x52ed8f(0x457)](_0x316204);}[a0_0x299ca5(0x350)](_0x30c73d){return/^\d+(,\d+)*$/['test'](_0x30c73d);}[a0_0x299ca5(0x2d3)](_0x5c9587){const _0x3b00db=a0_0x299ca5;let _0x28fa8b=!0x0,_0x420bc0=null;for(let _0x47b472 of _0x5c9587){let _0x39f2fa=this['evaluateConditionTest'](_0x47b472);if(_0x420bc0==='or'&&_0x39f2fa){_0x28fa8b=!0x0;break;}if(_0x420bc0===_0x3b00db(0x203)&&!_0x39f2fa){_0x28fa8b=!0x1;break;}_0x420bc0=_0x47b472[_0x3b00db(0x3f0)];}return _0x28fa8b;}[a0_0x299ca5(0x13b)](_0x23b13a){const _0x901a6e=a0_0x299ca5;let _0x1a24a6=_0x23b13a['firstValue'],_0x324603=_0x23b13a['secondValue'];try{switch(_0x23b13a[_0x901a6e(0x38d)]){case _0x901a6e(0x18b):return String(_0x1a24a6)===String(_0x324603);case _0x901a6e(0x383):return String(_0x1a24a6)!==String(_0x324603);case _0x901a6e(0x652):return String(_0x1a24a6)[_0x901a6e(0x457)](String(_0x324603));case _0x901a6e(0x5b6):return!String(_0x1a24a6)[_0x901a6e(0x457)](String(_0x324603));case _0x901a6e(0x83b):return parseFloat(String(_0x1a24a6))>parseFloat(String(_0x324603));case _0x901a6e(0x2ca):return parseFloat(String(_0x1a24a6))<parseFloat(String(_0x324603));case _0x901a6e(0x1d6):return String(_0x1a24a6)!=='';case _0x901a6e(0x212):return String(_0x1a24a6)==='';case'matchRegex':return new RegExp(String(_0x324603))[_0x901a6e(0x4ce)](String(_0x1a24a6));case _0x901a6e(0x12a):return!new RegExp(String(_0x324603))[_0x901a6e(0x4ce)](String(_0x1a24a6));default:return!0x1;}}catch(_0x2ae49c){return this[_0x901a6e(0x31f)][_0x901a6e(0x77f)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x2ae49c),!0x1;}}async[a0_0x299ca5(0x324)](_0x49215f,_0x1a5eaa){const _0x2e30fc=a0_0x299ca5;if(this['logger'][_0x2e30fc(0x8bd)](this[_0x2e30fc(0x8b7)]+'\x20('+this[_0x2e30fc(0x4dd)]['wuid']+_0x2e30fc(0x4d7)),!_0x49215f||!_0x1a5eaa)return this['logger'][_0x2e30fc(0x77f)](this[_0x2e30fc(0x8b7)]+'\x20('+this[_0x2e30fc(0x4dd)]['wuid']+_0x2e30fc(0x40f)),null;let _0x4e4aab=_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x32f)]['key']['id'];this[_0x2e30fc(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x2e30fc(0x4dd)]['wuid']+_0x2e30fc(0x859)+_0x4e4aab);let _0x1ef2a2={'key':{'id':_0x4e4aab}},_0x4156bc=_0x1a5eaa[_0x2e30fc(0x1c6)];_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)]['_'+_0x4156bc+'.fileUrl']=null,_0x49215f['chatLog']['realVariables']['_'+_0x4156bc+_0x2e30fc(0x42d)]=null,_0x49215f[_0x2e30fc(0x16d)]['realVariables']['_'+_0x4156bc+'.extension']=null,_0x49215f['chatLog'][_0x2e30fc(0x30f)]['_'+_0x4156bc+_0x2e30fc(0x15f)]=_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x32f)]['type'];try{let _0x55b94f=await this['getBase64FromMediaMessage'](_0x1ef2a2);this[_0x2e30fc(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x2e30fc(0x4dd)][_0x2e30fc(0x851)]+_0x2e30fc(0x4a6)),_0x49215f['chatLog'][_0x2e30fc(0x30f)]['_'+_0x4156bc+'.url']=_0x55b94f[_0x2e30fc(0x680)],_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)]['_'+_0x4156bc+_0x2e30fc(0x42d)]=_0x55b94f[_0x2e30fc(0x7ca)];let _0x4cfcba=_0x55b94f[_0x2e30fc(0x7ca)][_0x2e30fc(0x5ba)](/\/(\w+)$/),_0x18a80a=_0x4cfcba?_0x4cfcba[0x1]:null;_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)]['_'+_0x4156bc+_0x2e30fc(0x4c4)]=_0x18a80a,this['logger'][_0x2e30fc(0x8bd)](this[_0x2e30fc(0x8b7)]+'\x20('+this[_0x2e30fc(0x4dd)][_0x2e30fc(0x851)]+_0x2e30fc(0x6bd)+_0x4156bc+'\x27.');}catch(_0x49fab6){this[_0x2e30fc(0x31f)][_0x2e30fc(0x77f)](this['instanceName']+'\x20('+this[_0x2e30fc(0x4dd)][_0x2e30fc(0x851)]+_0x2e30fc(0x3e2)+_0x49fab6[_0x2e30fc(0x503)]);}let _0x4cae4c=_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x32f)][_0x2e30fc(0x69c)]||_0x49215f['chatLog'][_0x2e30fc(0x32f)][_0x2e30fc(0x2e3)]||_0x49215f['chatLog'][_0x2e30fc(0x32f)]['vote'];try{_0x49215f['chatLog'][_0x2e30fc(0x30f)]||(_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)]={});let _0x56bc1d=_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)][_0x4156bc];_0x49215f[_0x2e30fc(0x16d)][_0x2e30fc(0x30f)][_0x4156bc]=_0x4cae4c;let _0x370950={'variable':_0x4156bc,'oldValue':_0x56bc1d,'newValue':_0x4cae4c};this[_0x2e30fc(0x376)](_0x49215f,_0x1a5eaa,_0x370950),this[_0x2e30fc(0x31f)][_0x2e30fc(0x8bd)](this[_0x2e30fc(0x8b7)]+'\x20('+this[_0x2e30fc(0x4dd)][_0x2e30fc(0x851)]+_0x2e30fc(0x6c3));}catch(_0x4ff52d){let _0x232072={'error':!0x0,'errorLog':_0x4ff52d['toString']()};return this['updateConversation'](_0x49215f,_0x1a5eaa,_0x232072),this[_0x2e30fc(0x31f)]['error'](this[_0x2e30fc(0x8b7)]+'\x20('+this[_0x2e30fc(0x4dd)][_0x2e30fc(0x851)]+_0x2e30fc(0x2ab)+(_0x4ff52d instanceof Error?_0x4ff52d['message']:JSON[_0x2e30fc(0x6ed)](_0x4ff52d,null,0x2))),null;}}async[a0_0x299ca5(0x160)](_0x3cd054,_0x4f466b){const _0x5d9ab6=a0_0x299ca5;if(this[_0x5d9ab6(0x31f)][_0x5d9ab6(0x8bd)](this[_0x5d9ab6(0x8b7)]+'\x20('+this[_0x5d9ab6(0x4dd)][_0x5d9ab6(0x851)]+_0x5d9ab6(0x711)),!_0x3cd054||!_0x4f466b)return this['logger'][_0x5d9ab6(0x77f)](this[_0x5d9ab6(0x8b7)]+'\x20('+this['instance'][_0x5d9ab6(0x851)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0xccd0a6=Date[_0x5d9ab6(0x1f1)](),_0x290923=parseInt(_0x4f466b[_0x5d9ab6(0x5fb)],0xa);if(isNaN(_0x290923))return this['logger'][_0x5d9ab6(0x77f)](this[_0x5d9ab6(0x8b7)]+'\x20('+this[_0x5d9ab6(0x4dd)][_0x5d9ab6(0x851)]+_0x5d9ab6(0x51f)),null;let _0x5ebdd2={'newStoppedUntil':_0xccd0a6+_0x290923*0x3c*0x3e8};return await this[_0x5d9ab6(0x376)](_0x3cd054,_0x4f466b,_0x5ebdd2,!0x0),null;}async[a0_0x299ca5(0x3db)](_0x1af355,_0x3252b3){const _0x3fe04c=a0_0x299ca5;try{switch(_0x3252b3['uazapi']['command']){case'sendText':await this['uazapiSendText'](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x69d):await this['uazapiSendMedia'](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x2af):await this[_0x3fe04c(0x14e)](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x8c8):await this[_0x3fe04c(0x411)](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x16b):await this[_0x3fe04c(0x731)](_0x1af355,_0x3252b3);break;case'sendPoll':await this['uazapiSendMenu'](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x759):await this[_0x3fe04c(0x6aa)](_0x1af355,_0x3252b3);break;case _0x3fe04c(0x2c5):await this[_0x3fe04c(0x409)](_0x1af355,_0x3252b3);break;default:this[_0x3fe04c(0x31f)][_0x3fe04c(0x77f)](this[_0x3fe04c(0x8b7)]+'\x20('+this[_0x3fe04c(0x4dd)][_0x3fe04c(0x851)]+_0x3fe04c(0x775)+_0x3252b3[_0x3fe04c(0x194)][_0x3fe04c(0x309)]);}}catch(_0x190c8b){this[_0x3fe04c(0x31f)][_0x3fe04c(0x77f)](this['instanceName']+'\x20('+this[_0x3fe04c(0x4dd)][_0x3fe04c(0x851)]+_0x3fe04c(0x579)+(_0x190c8b instanceof Error?_0x190c8b[_0x3fe04c(0x503)]:JSON[_0x3fe04c(0x6ed)](_0x190c8b,null,0x2)));}}async[a0_0x299ca5(0x376)](_0x5ce846,_0x2870b4,_0x1cd531,_0x24eafe=!0x1,_0x55388a=!0x1){const _0x567b55=a0_0x299ca5;_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x2e5)]||(_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x2e5)]=[]);let _0x32fc4a=(_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x2e5)]?.[_0x567b55(0x84b)]??0x0)+0x1,_0x4a76dd=_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x2e5)]['filter'](_0x185253=>String(_0x185253[_0x567b55(0x659)])===String(_0x2870b4[_0x567b55(0x898)]))[_0x567b55(0x84b)]+0x1,_0x1c845d=_0x1cd531?.[_0x567b55(0x170)]??Date[_0x567b55(0x1f1)](),_0x50aaec=_0x1cd531?.[_0x567b55(0x77f)]?_0x1cd531[_0x567b55(0x30c)]??_0x1cd531[_0x567b55(0x77f)][_0x567b55(0x5a7)]():void 0x0,_0x9589a2={'onTime':_0x1c845d,'blockId':_0x2870b4[_0x567b55(0x898)],'order':_0x32fc4a,'activatedCount':_0x4a76dd,'error':_0x1cd531?.[_0x567b55(0x77f)]??!0x1,'messageId':_0x1cd531?.[_0x567b55(0x4b2)],'apiResponse':_0x1cd531?.[_0x567b55(0x4c2)],'apiResponseString':_0x1cd531?.[_0x567b55(0x4c2)]?JSON[_0x567b55(0x6ed)](_0x1cd531?.[_0x567b55(0x4c2)]):void 0x0,'variable':_0x1cd531?.[_0x567b55(0x3a5)],'oldValue':_0x1cd531?.[_0x567b55(0x1de)],'newValue':_0x1cd531?.[_0x567b55(0x5c9)],'newStoppedUntil':_0x1cd531?.[_0x567b55(0x752)],'moreLogs':_0x1cd531?.[_0x567b55(0x571)],'errorLog':_0x50aaec};if(_0x1cd531[_0x567b55(0x571)]&&_0x1cd531[_0x567b55(0x571)][_0x567b55(0x84b)]>0x0){let _0x4fed69=_0x1cd531['moreLogs'][_0x567b55(0x3ae)](_0x3b82b3=>this[_0x567b55(0x209)](_0x3b82b3,_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x30f)]));_0x9589a2['moreLogs']=_0x4fed69;}if(_0x5ce846['chatLog'][_0x567b55(0x30f)]||(_0x5ce846['chatLog'][_0x567b55(0x30f)]={}),_0x5ce846[_0x567b55(0x16d)]['realVariables']['_activatedCount']=String(_0x4a76dd),_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x30f)][_0x567b55(0x670)]=String(_0x1cd531[_0x567b55(0x77f)]??!0x1),_0x5ce846['chatLog']['blockLogs'][_0x567b55(0x2b6)](_0x9589a2),_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x30f)][_0x567b55(0x895)]&&_0x5ce846['chatLog']['realVariables'][_0x567b55(0x895)]!==_0x5ce846[_0x567b55(0x530)]){let _0x26abbf=(await this[_0x567b55(0x53b)]({'numbers':[_0x5ce846[_0x567b55(0x16d)]['realVariables'][_0x567b55(0x895)]]}))[0x0][_0x567b55(0x4d8)];_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x30f)][_0x567b55(0x895)]=_0x26abbf,_0x5ce846[_0x567b55(0x530)]=_0x26abbf;try{let _0x6f1636={'_id':{'$ne':_0x5ce846[_0x567b55(0x898)]},'remoteJid':_0x26abbf,'status':_0x567b55(0x405)},_0x47d525={'status':_0x567b55(0x758)};await this[_0x567b55(0x7d6)][_0x567b55(0x14d)][_0x567b55(0x5be)](_0x6f1636,_0x47d525,this[_0x567b55(0x4dd)][_0x567b55(0x851)]),this[_0x567b55(0x31f)][_0x567b55(0x8bd)](this['instanceName']+'\x20('+this[_0x567b55(0x4dd)][_0x567b55(0x851)]+_0x567b55(0x30d));}catch(_0x4de71c){this[_0x567b55(0x31f)][_0x567b55(0x77f)](this[_0x567b55(0x8b7)]+'\x20('+this[_0x567b55(0x4dd)][_0x567b55(0x851)]+_0x567b55(0x8e1)+_0x4de71c[_0x567b55(0x503)]);}try{let _0x5e5482=_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x30f)],_0x418485=await this[_0x567b55(0x76f)](_0x26abbf),_0x3d5048={..._0x5e5482,..._0x418485,'_remoteJid':_0x26abbf};_0x5ce846['chatLog'][_0x567b55(0x30f)]=_0x3d5048;}catch(_0x3dffa2){this['logger'][_0x567b55(0x77f)](this['instanceName']+'\x20('+this[_0x567b55(0x4dd)][_0x567b55(0x851)]+_0x567b55(0x39a)+_0x3dffa2[_0x567b55(0x503)]);}}_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x226)]=_0x2870b4['_id']['toString'](),_0x5ce846['chatLog']['lastSendMessage']&&(_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x73e)]=_0x5ce846['chatLog'][_0x567b55(0x73e)]),_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x32f)]&&(_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x32f)]=_0x5ce846['chatLog']['lastReceivedMessage']),_0x5ce846['chatLog'][_0x567b55(0x284)]&&(_0x5ce846[_0x567b55(0x16d)][_0x567b55(0x284)]=_0x5ce846[_0x567b55(0x16d)]['lastCondition']),_0x55388a&&(_0x5ce846['status']=_0x567b55(0x758)),_0x24eafe?this[_0x567b55(0x188)](_0x5ce846):this[_0x567b55(0x876)](_0x5ce846,_0x2870b4);}[a0_0x299ca5(0x209)](_0x1c2a4d,_0x1fc76f){const _0xe8afd9=a0_0x299ca5;return _0x1c2a4d[_0xe8afd9(0x35f)](/\{\{([^}]+)\}\}/g,(_0x478943,_0x4e6bd5)=>_0x1fc76f[_0x4e6bd5]?'{{'+_0x4e6bd5+_0xe8afd9(0x244)+_0x1fc76f[_0x4e6bd5]+'\x22':'{{'+_0x4e6bd5+_0xe8afd9(0x578));}async['saveConversationToDatabase'](_0x297dc4){const _0x4117ef=a0_0x299ca5;try{let _0x2e3a13=Object[_0x4117ef(0x491)](_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x30f)])[_0x4117ef(0x3ae)](([_0x235e8d,_0xdba08a])=>({'name':_0x235e8d,'value':_0xdba08a})),_0x1e290b={'status':_0x297dc4[_0x4117ef(0x5d8)],'remoteJid':_0x297dc4[_0x4117ef(0x530)],'blocks':_0x297dc4[_0x4117ef(0x3b2)],'waitingMenu_id':_0x297dc4[_0x4117ef(0x7e4)],'waitingMenu_text':_0x297dc4[_0x4117ef(0x7f5)],'waitingMenu_replyOptions':_0x297dc4['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x226)],'lastSendMessage':_0x297dc4[_0x4117ef(0x16d)]['lastSendMessage'],'lastReceivedMessage':_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x32f)],'lastCondition':_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x284)],'chatVariables':_0x2e3a13,'realVariables':_0x297dc4[_0x4117ef(0x16d)]['realVariables'],'blockLogs':_0x297dc4['chatLog']['blockLogs']}},_0x181b29=await this[_0x4117ef(0x7d6)]['flowConversation'][_0x4117ef(0x3ff)](_0x297dc4[_0x4117ef(0x898)],_0x1e290b,this[_0x4117ef(0x4dd)][_0x4117ef(0x851)]);if(_0x181b29){this[_0x4117ef(0x31f)][_0x4117ef(0x8bd)](this[_0x4117ef(0x8b7)]+'\x20('+this[_0x4117ef(0x4dd)][_0x4117ef(0x851)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x181b29[_0x4117ef(0x898)]);try{let _0x20160e=[_0x4117ef(0x41f),_0x4117ef(0x715),'email','cpf','status',_0x4117ef(0x736),_0x4117ef(0x28c),'tags',_0x4117ef(0x67b),_0x4117ef(0x26e)];if(!this['AutomateSystem']&&(await this[_0x4117ef(0x7c3)](),!this['AutomateSystem']))throw new Error(_0x4117ef(0x7ab));let _0x38c5c0=this[_0x4117ef(0x42c)]?.[_0x4117ef(0x6bb)][_0x4117ef(0x3ae)](_0x522a1d=>_0x522a1d[_0x4117ef(0x5d0)]),_0x384260={};Object[_0x4117ef(0x491)](_0x297dc4[_0x4117ef(0x16d)]['realVariables'])[_0x4117ef(0x613)](([_0x447e3e,_0x36ec70])=>{const _0xd887d3=_0x4117ef;_0x20160e[_0xd887d3(0x457)](_0x447e3e)&&(_0x447e3e===_0xd887d3(0x4a1)&&typeof _0x36ec70==_0xd887d3(0x7a5)?_0x384260[_0x447e3e]=_0x36ec70[_0xd887d3(0x5ca)](',')[_0xd887d3(0x3ae)](_0x5a2dca=>_0x5a2dca[_0xd887d3(0x3a7)]())['filter'](_0x86afec=>_0x86afec!==''):_0x447e3e===_0xd887d3(0x67b)&&typeof _0x36ec70==_0xd887d3(0x7a5)?_0x384260[_0x447e3e]=_0x36ec70[_0xd887d3(0x5ca)](',')[_0xd887d3(0x3ae)](_0x1646a0=>_0x1646a0[_0xd887d3(0x3a7)]())[_0xd887d3(0x67c)](_0x405e3d=>_0x405e3d!==''):_0x384260[_0x447e3e]=_0x36ec70);});let _0x2ef3d1=_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x2e5)][_0x297dc4[_0x4117ef(0x16d)][_0x4117ef(0x2e5)][_0x4117ef(0x84b)]-0x1];if(_0x2ef3d1){let _0x1e78ac=_0x2ef3d1['newStoppedUntil'];_0x1e78ac!==void 0x0&&(_0x384260[_0x4117ef(0x462)]=_0x1e78ac[_0x4117ef(0x5a7)]());}let _0x5980c3=_0x2e3a13[_0x4117ef(0x67c)](_0x45c668=>_0x38c5c0[_0x4117ef(0x457)](_0x45c668[_0x4117ef(0x5d0)]));this['logger']['verbose'](this[_0x4117ef(0x8b7)]+'\x20('+this[_0x4117ef(0x4dd)][_0x4117ef(0x851)]+_0x4117ef(0x62e)),this[_0x4117ef(0x31f)][_0x4117ef(0x8bd)](_0x384260),this[_0x4117ef(0x31f)][_0x4117ef(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x4117ef(0x851)]+_0x4117ef(0x50d)),this[_0x4117ef(0x31f)][_0x4117ef(0x8bd)](_0x5980c3);let _0x1c635d=_0x5980c3['map'](_0x49e641=>{const _0x5d4987=_0x4117ef;let _0x5c4db0=this[_0x5d4987(0x42c)]?.[_0x5d4987(0x6bb)][_0x5d4987(0x2b7)](_0x346d84=>_0x346d84[_0x5d4987(0x5d0)]===_0x49e641[_0x5d4987(0x5d0)]);if(!_0x5c4db0)throw new Error(_0x5d4987(0x253)+_0x49e641[_0x5d4987(0x5d0)]);return{'_id':_0x5c4db0['_id'],'value':_0x49e641[_0x5d4987(0x893)]};});this['logger'][_0x4117ef(0x8bd)](this[_0x4117ef(0x8b7)]+'\x20('+this['instance'][_0x4117ef(0x851)]+_0x4117ef(0x379)),this[_0x4117ef(0x31f)][_0x4117ef(0x8bd)](_0x1c635d),await this['saveChatVariables'](_0x297dc4[_0x4117ef(0x530)],_0x384260,_0x1c635d);}catch(_0x51162d){this[_0x4117ef(0x31f)][_0x4117ef(0x77f)](this[_0x4117ef(0x8b7)]+'\x20('+this[_0x4117ef(0x4dd)]['wuid']+_0x4117ef(0x64e)+(_0x51162d instanceof Error?_0x51162d['message']:JSON[_0x4117ef(0x6ed)](_0x51162d,null,0x2)));}}else this[_0x4117ef(0x31f)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4117ef(0x51b));}catch(_0x4e11a4){this[_0x4117ef(0x31f)]['error'](this[_0x4117ef(0x8b7)]+'\x20('+this[_0x4117ef(0x4dd)][_0x4117ef(0x851)]+_0x4117ef(0x3bb)+(_0x4e11a4 instanceof Error?_0x4e11a4['message']:JSON['stringify'](_0x4e11a4,null,0x2)));}}async['saveChatVariables'](_0x167423,_0x4e9c94,_0x5baf7c){const _0x55f642=a0_0x299ca5;try{let _0x2af801={'leadInfo.leadnome':_0x4e9c94[_0x55f642(0x41f)],'leadInfo.nomecompleto':_0x4e9c94['nomecompleto'],'leadInfo.email':_0x4e9c94[_0x55f642(0x85c)],'leadInfo.cpf':_0x4e9c94[_0x55f642(0x4da)],'leadInfo.status':_0x4e9c94[_0x55f642(0x5d8)],'leadInfo.notas':_0x4e9c94['notas'],'leadInfo.responsavelid':_0x4e9c94[_0x55f642(0x28c)],'leadInfo.tags':_0x4e9c94['tags'],'leadInfo.etiquetas':_0x4e9c94['etiquetas'],'leadInfo.customFields':_0x5baf7c,'leadInfo.atendimentoAberto':_0x4e9c94[_0x55f642(0x26e)]},_0x4945a9=await this[_0x55f642(0x7d6)][_0x55f642(0x76d)]['findOne']({'where':{'_id':_0x167423}},this['instance'][_0x55f642(0x851)]);if(!_0x4945a9)return _0x55f642(0x2e8);let _0x265cb4=new Set(_0x4945a9['leadInfo'][_0x55f642(0x67b)]||[]),_0x53a5ce=new Set(_0x4e9c94[_0x55f642(0x67b)]||[]),_0x16b0fe=await this['repository'][_0x55f642(0x1a5)][_0x55f642(0x2b7)]({'where':{}},this['instance']['wuid']),_0x284d8b=new Set(_0x16b0fe['map'](_0x57fa28=>_0x57fa28[_0x55f642(0x898)])),_0x31ee2f=[..._0x53a5ce][_0x55f642(0x67c)](_0x172586=>!_0x265cb4[_0x55f642(0x594)](_0x172586)&&_0x284d8b[_0x55f642(0x594)](_0x172586)),_0x426c0f=[..._0x265cb4][_0x55f642(0x67c)](_0x249be7=>!_0x53a5ce['has'](_0x249be7));for(let _0x37a677 of _0x31ee2f)await this[_0x55f642(0x5d9)](_0x37a677,_0x4945a9[_0x55f642(0x898)]),_0x265cb4['add'](_0x37a677);for(let _0x483e8d of _0x426c0f)await this[_0x55f642(0x32e)](_0x483e8d,_0x4945a9[_0x55f642(0x898)]),_0x265cb4[_0x55f642(0x3be)](_0x483e8d);if(_0x55f642(0x462)in _0x4e9c94){let _0x1b0e56=_0x4e9c94[_0x55f642(0x462)];_0x2af801[_0x55f642(0x269)]=_0x1b0e56?Number(_0x1b0e56):null;}if('atendimentoAberto'in _0x4e9c94){let _0xf2782a=_0x4e9c94['atendimentoAberto'][_0x55f642(0x484)]();_0x2af801[_0x55f642(0x521)]=_0xf2782a===_0x55f642(0x75d)||_0xf2782a==='1'||_0xf2782a==='yes'||_0xf2782a===_0x55f642(0x1aa);}let _0x408096=await this['repository'][_0x55f642(0x76d)][_0x55f642(0x3ff)]({'where':{'_id':_0x167423}},_0x2af801,this[_0x55f642(0x4dd)][_0x55f642(0x851)]);_0x408096?(this[_0x55f642(0x31f)][_0x55f642(0x8bd)](this[_0x55f642(0x8b7)]+'\x20('+this[_0x55f642(0x4dd)]['wuid']+_0x55f642(0x3ec)+_0x408096['_id']),F(this[_0x55f642(0x8b7)],_0x55f642(0x4aa),{'chat':_0x408096})):this['logger'][_0x55f642(0x77f)](this[_0x55f642(0x8b7)]+'\x20('+this['instance'][_0x55f642(0x851)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x57abb3){this['logger'][_0x55f642(0x77f)](this['instanceName']+'\x20('+this[_0x55f642(0x4dd)]['wuid']+_0x55f642(0x2d7)+(_0x57abb3 instanceof Error?_0x57abb3[_0x55f642(0x503)]:JSON[_0x55f642(0x6ed)](_0x57abb3,null,0x2)));}}async[a0_0x299ca5(0x7a6)](_0x510617,_0x29d601){const _0x493195=a0_0x299ca5;this[_0x493195(0x31f)]['verbose'](this[_0x493195(0x8b7)]+'\x20('+this['instance'][_0x493195(0x851)]+_0x493195(0x13c)+_0x29d601);try{let _0x169cd6=await this[_0x493195(0x7d6)][_0x493195(0x76d)][_0x493195(0x3ff)]({'where':{'_id':_0x510617[_0x493195(0x530)]}},{'leadInfo.desativadoFluxoAte':_0x29d601},this[_0x493195(0x4dd)]['wuid']);this[_0x493195(0x31f)][_0x493195(0x8bd)](this[_0x493195(0x8b7)]+'\x20('+this['instance'][_0x493195(0x851)]+_0x493195(0x4d4)+_0x510617['_id']),this[_0x493195(0x31f)]['verbose'](this[_0x493195(0x8b7)]+'\x20('+this[_0x493195(0x4dd)][_0x493195(0x851)]+_0x493195(0x13c)+JSON[_0x493195(0x6ed)](_0x169cd6,null,0x2)),_0x169cd6&&F(this[_0x493195(0x8b7)],_0x493195(0x4aa),{'chat':_0x169cd6});}catch(_0x14df21){this['logger'][_0x493195(0x77f)](this[_0x493195(0x8b7)]+'\x20('+this[_0x493195(0x4dd)]['wuid']+_0x493195(0x54e)+(_0x14df21 instanceof Error?_0x14df21[_0x493195(0x503)]:JSON['stringify'](_0x14df21,null,0x2)));}}async[a0_0x299ca5(0x708)](_0x562ccd){const _0x3049b7=a0_0x299ca5;try{this[_0x3049b7(0x31f)][_0x3049b7(0x8bd)](this[_0x3049b7(0x8b7)]+'\x20('+this['instance'][_0x3049b7(0x851)]+_0x3049b7(0x698));let _0x901297=_0x562ccd[_0x3049b7(0x35f)](/\D/g,''),_0x19bddb=this['AutomateSystem'][_0x3049b7(0x264)]['find'](_0x840bc3=>_0x840bc3[_0x3049b7(0x608)]===_0x901297);if(_0x19bddb||(this[_0x3049b7(0x31f)][_0x3049b7(0x8bd)](this[_0x3049b7(0x8b7)]+'\x20('+this[_0x3049b7(0x4dd)]['wuid']+_0x3049b7(0x7fa)),_0x19bddb=this[_0x3049b7(0x42c)][_0x3049b7(0x264)]['find'](_0x20d141=>_0x20d141['default']===!0x0)),!_0x19bddb)return this[_0x3049b7(0x31f)]['verbose'](this[_0x3049b7(0x8b7)]+'\x20('+this[_0x3049b7(0x4dd)][_0x3049b7(0x851)]+_0x3049b7(0x669)),null;let _0x486fd1=await this[_0x3049b7(0x7d6)][_0x3049b7(0x65f)]['findOne']({'where':{'_id':_0x19bddb['_id']}});if(!_0x486fd1||!_0x486fd1[_0x3049b7(0x135)]?.[_0x3049b7(0x457)](this[_0x3049b7(0x4dd)][_0x3049b7(0x851)]))throw this[_0x3049b7(0x31f)][_0x3049b7(0x77f)](this[_0x3049b7(0x8b7)]+'\x20('+this[_0x3049b7(0x4dd)][_0x3049b7(0x851)]+_0x3049b7(0x2aa)+_0x486fd1[_0x3049b7(0x898)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3049b7(0x8a8)+_0x486fd1[_0x3049b7(0x898)]+_0x3049b7(0x583));return _0x486fd1;}catch(_0x51863d){return this['logger'][_0x3049b7(0x77f)](this['instanceName']+'\x20('+this[_0x3049b7(0x4dd)][_0x3049b7(0x851)]+_0x3049b7(0x3d0)+(_0x51863d instanceof Error?_0x51863d[_0x3049b7(0x503)]:JSON[_0x3049b7(0x6ed)](_0x51863d,null,0x2))),null;}}async['findConversation'](_0x54035a,_0x1051af){const _0x2b4a1c=a0_0x299ca5;try{let _0x19fc50=!!_0x1051af[_0x2b4a1c(0x84d)],_0x402031=_0x1051af[_0x2b4a1c(0x21f)],_0x4596c6=null;if(this['logger']['verbose'](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)]['wuid']+'):\x20isVote:\x20'+_0x19fc50+_0x2b4a1c(0x5a8)+_0x402031),_0x19fc50){this['logger'][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+_0x2b4a1c(0x605));let _0x5de239={'where':{'remoteJid':_0x54035a,'waitingMenu_id':_0x402031}};if(_0x4596c6=await this[_0x2b4a1c(0x7d6)][_0x2b4a1c(0x14d)][_0x2b4a1c(0x151)](_0x5de239,this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]),!_0x4596c6)return this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this['instanceName']+'\x20('+this[_0x2b4a1c(0x4dd)]['wuid']+'):\x20não\x20encontrou'),null;let _0x1a5530=Date[_0x2b4a1c(0x1f1)](),_0x4c5f65=_0x4596c6?.[_0x2b4a1c(0x29c)]||0x0,_0x3f4645=_0x1a5530-_0x4c5f65*0x3c*0x3e8;if(_0x4596c6[_0x2b4a1c(0x13a)]<_0x3f4645){this[_0x2b4a1c(0x31f)]['verbose'](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)]['wuid']+_0x2b4a1c(0x334));let _0x20332d={'number':_0x4596c6['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4596c6['waitingMenu_ExpiredMessage']}};await this[_0x2b4a1c(0x1a2)](_0x20332d);let _0x58c443={'status':_0x2b4a1c(0x758),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2b4a1c(0x7d6)][_0x2b4a1c(0x14d)][_0x2b4a1c(0x3ff)](_0x4596c6['_id'],_0x58c443,this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]),null;}return _0x4596c6[_0x2b4a1c(0x13a)]=Date[_0x2b4a1c(0x1f1)](),_0x4596c6[_0x2b4a1c(0x16d)][_0x2b4a1c(0x32f)]=_0x1051af,_0x4596c6;}else{this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+'):\x20'+this[_0x2b4a1c(0x4dd)]['wuid']+_0x2b4a1c(0x862)),this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+_0x2b4a1c(0x44c));let _0x17b3e8={'where':{'remoteJid':_0x54035a,'status':_0x2b4a1c(0x405)}};if(_0x4596c6=await this[_0x2b4a1c(0x7d6)][_0x2b4a1c(0x14d)]['findOne'](_0x17b3e8,this[_0x2b4a1c(0x4dd)]['wuid']),!_0x4596c6){let _0x2b0583=await this[_0x2b4a1c(0x708)](_0x54035a);if(_0x2b0583&&(_0x4596c6=await this[_0x2b4a1c(0x4ff)](_0x2b0583,_0x1051af[_0x2b4a1c(0x143)],_0x1051af)),!_0x4596c6)return null;}let _0x5da784=Date[_0x2b4a1c(0x1f1)](),_0x1de9a7=_0x4596c6?.[_0x2b4a1c(0x29c)]||0x0,_0x59397a=_0x5da784-_0x1de9a7*0x3c*0x3e8;if(this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+_0x2b4a1c(0x615)+_0x5da784+',\x20Minutes\x20to\x20Close:\x20'+_0x1de9a7+_0x2b4a1c(0x283)+_0x59397a),this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)]['wuid']+_0x2b4a1c(0x346)),this[_0x2b4a1c(0x31f)]['verbose'](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+_0x2b4a1c(0x814)+_0x4596c6[_0x2b4a1c(0x13a)]),this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x8bd)](this[_0x2b4a1c(0x8b7)]+'\x20('+this['instance'][_0x2b4a1c(0x851)]+_0x2b4a1c(0x3fa)+_0x59397a),_0x4596c6[_0x2b4a1c(0x13a)]<_0x59397a){this[_0x2b4a1c(0x31f)]['verbose'](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+'):\x20Conversa\x20está\x20expirada');let _0x14c764=await this[_0x2b4a1c(0x708)](_0x54035a);if(_0x14c764===null)return null;_0x4596c6&&await this[_0x2b4a1c(0x7d6)][_0x2b4a1c(0x14d)][_0x2b4a1c(0x3ff)](_0x4596c6[_0x2b4a1c(0x898)],{'status':_0x2b4a1c(0x758)},this[_0x2b4a1c(0x4dd)]['wuid']),_0x4596c6=await this[_0x2b4a1c(0x4ff)](_0x14c764,_0x1051af[_0x2b4a1c(0x143)],_0x1051af);}return _0x4596c6[_0x2b4a1c(0x13a)]=_0x5da784,_0x4596c6[_0x2b4a1c(0x16d)][_0x2b4a1c(0x32f)]=_0x1051af,_0x4596c6;}}catch(_0x1cf6a6){return this[_0x2b4a1c(0x31f)][_0x2b4a1c(0x77f)](this[_0x2b4a1c(0x8b7)]+'\x20('+this[_0x2b4a1c(0x4dd)][_0x2b4a1c(0x851)]+_0x2b4a1c(0x7d5)+(_0x1cf6a6 instanceof Error?_0x1cf6a6[_0x2b4a1c(0x503)]:JSON[_0x2b4a1c(0x6ed)](_0x1cf6a6,null,0x2))),null;}}async[a0_0x299ca5(0x4ff)](_0x242431,_0x5d5de6,_0x5050cf){const _0x457e86=a0_0x299ca5;this[_0x457e86(0x31f)][_0x457e86(0x8bd)](this['instanceName']+'\x20('+this[_0x457e86(0x4dd)][_0x457e86(0x851)]+_0x457e86(0x61e));try{let _0x3d0607=require('mongodb')[_0x457e86(0x71a)],_0x8dbd74=Date[_0x457e86(0x1f1)](),_0x16af2b=_0x457e86(0x365),_0x454f1b=_0x5d5de6[_0x457e86(0x8c9)]?null:_0x5050cf,_0x47f932=_0x5d5de6['fromMe']?_0x5050cf:null,_0x5abf94=_0x5d5de6[_0x457e86(0x530)],_0x529999=this[_0x457e86(0x42c)][_0x457e86(0x264)][_0x457e86(0x2b7)](_0x5b6319=>_0x5b6319[_0x457e86(0x898)]===_0x242431[_0x457e86(0x898)]?.[_0x457e86(0x5a7)]()),_0x59bb06=_0x529999?.[_0x457e86(0x29c)]??_0x242431[_0x457e86(0x29c)]??0x0,_0xa684e6=_0x529999?.['readMessages']??_0x242431[_0x457e86(0x66d)]??!0x1;await this[_0x457e86(0x632)](_0x5abf94);let _0x41a41d={'flowId':_0x242431[_0x457e86(0x898)],..._0x242431,'chatLog':null},_0x40f2e5=await this[_0x457e86(0x4e8)](_0x41a41d[_0x457e86(0x2c0)]),_0x4efca4=await this[_0x457e86(0x76f)](_0x5abf94),_0x5f3d22={..._0x40f2e5,..._0x4efca4,'_remoteJid':_0x5abf94},_0x3ce547={'lastReceivedMessage':_0x454f1b,'lastSendMessage':_0x47f932,'lastBlockId':_0x16af2b,'lastCondition':!0x0,'realVariables':_0x5f3d22};_0x41a41d[_0x457e86(0x16d)]=_0x3ce547,delete _0x41a41d[_0x457e86(0x898)],_0x41a41d[_0x457e86(0x898)]=new _0x3d0607(),_0x41a41d[_0x457e86(0x13a)]=_0x8dbd74,_0x41a41d[_0x457e86(0x5d8)]=_0x457e86(0x405),_0x41a41d[_0x457e86(0x530)]=_0x5abf94,_0x41a41d['minutesToClose']=_0x59bb06,_0x41a41d[_0x457e86(0x66d)]=_0xa684e6;let _0x30422e=await this[_0x457e86(0x7d6)][_0x457e86(0x14d)]['updateOne'](_0x41a41d['_id'],_0x41a41d,this['instance'][_0x457e86(0x851)]);return this['logger'][_0x457e86(0x8bd)](this[_0x457e86(0x8b7)]+'\x20('+this['instance'][_0x457e86(0x851)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x30422e?_0x41a41d:null;}catch(_0x2d4f7d){return this[_0x457e86(0x31f)][_0x457e86(0x77f)](this[_0x457e86(0x8b7)]+'\x20('+this[_0x457e86(0x4dd)][_0x457e86(0x851)]+_0x457e86(0x18e)+(_0x2d4f7d instanceof Error?_0x2d4f7d[_0x457e86(0x503)]:JSON['stringify'](_0x2d4f7d,null,0x2))),_0x2d4f7d;}}async[a0_0x299ca5(0x3cb)](_0x498f6d,_0x1e993b){const _0x20ac77=a0_0x299ca5;let _0x361b10=_0x498f6d['remoteJid'];_0x1e993b[_0x20ac77(0x194)]['remoteJid']&&_0x1e993b['uazapi'][_0x20ac77(0x530)][_0x20ac77(0x3a7)]()!==''&&(_0x361b10=_0x1e993b[_0x20ac77(0x194)][_0x20ac77(0x530)][_0x20ac77(0x3a7)]()),this['logger'][_0x20ac77(0x8bd)](this[_0x20ac77(0x8b7)]+'\x20('+this['instance'][_0x20ac77(0x851)]+_0x20ac77(0x147));let _0x1f9c65={'number':_0x361b10,'options':{'delay':_0x1e993b[_0x20ac77(0x194)]['delay'],'linkPreview':_0x1e993b[_0x20ac77(0x194)]['linkPreview']},'textMessage':{'text':_0x1e993b['uazapi'][_0x20ac77(0x69c)]}};try{let _0x57b0ea=await this[_0x20ac77(0x1a2)](_0x1f9c65);if(_0x57b0ea){let _0x3df8db={'_id':_0x57b0ea['key']['id'],'_fromMe':_0x57b0ea['key'][_0x20ac77(0x8c9)],'_remoteJid':_0x57b0ea[_0x20ac77(0x143)][_0x20ac77(0x530)]},_0x43a42e=(0x0,w[_0x20ac77(0x847)])(_0x57b0ea[_0x20ac77(0x503)]),_0x4c6a2f=(0x0,w[_0x20ac77(0x1da)])(_0x43a42e);_0x498f6d[_0x20ac77(0x16d)]['lastBlockId']=_0x1e993b[_0x20ac77(0x898)][_0x20ac77(0x5a7)]();let {message_normalized:_0x29881f}=this[_0x20ac77(0x47b)](_0x43a42e,_0x4c6a2f,null);_0x498f6d[_0x20ac77(0x16d)]['lastSendMessage']=await _0x29881f;let _0xcbc287={'messageId':_0x57b0ea['key']['id']},_0x23d3f9=_0x498f6d['chatLog'][_0x20ac77(0x30f)];Object[_0x20ac77(0x243)](_0x23d3f9,_0x3df8db),_0x498f6d['chatLog'][_0x20ac77(0x30f)]=_0x23d3f9,this[_0x20ac77(0x376)](_0x498f6d,_0x1e993b,_0xcbc287);}else{let _0x2ddd1a={'error':!0x0};this['updateConversation'](_0x498f6d,_0x1e993b,_0x2ddd1a),this[_0x20ac77(0x31f)][_0x20ac77(0x77f)](this[_0x20ac77(0x8b7)]+'\x20('+this[_0x20ac77(0x4dd)][_0x20ac77(0x851)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x31a007){let _0x43d769={'error':!0x0,'errorLog':_0x31a007['toString']()};this[_0x20ac77(0x376)](_0x498f6d,_0x1e993b,_0x43d769),this[_0x20ac77(0x31f)][_0x20ac77(0x77f)](this[_0x20ac77(0x8b7)]+'\x20('+this[_0x20ac77(0x4dd)][_0x20ac77(0x851)]+_0x20ac77(0x31e)+(_0x31a007 instanceof Error?_0x31a007[_0x20ac77(0x503)]:JSON[_0x20ac77(0x6ed)](_0x31a007,null,0x2)));}}async[a0_0x299ca5(0x3cc)](_0x48ffde,_0x3a17aa){const _0x27f74f=a0_0x299ca5;let _0x3c17d0=_0x48ffde[_0x27f74f(0x530)];_0x3a17aa['uazapi'][_0x27f74f(0x530)]&&_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x530)]['trim']()!==''&&(_0x3c17d0=_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x530)][_0x27f74f(0x3a7)]()),this[_0x27f74f(0x31f)][_0x27f74f(0x8bd)](this[_0x27f74f(0x8b7)]+'\x20('+this[_0x27f74f(0x4dd)]['wuid']+_0x27f74f(0x35a));let _0x965ffb={'number':_0x3c17d0,'options':{'delay':_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x5bf)],'linkPreview':_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x23a)]},'mediaMessage':{'mediatype':_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x624)],'caption':_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x2e3)],'media':_0x3a17aa[_0x27f74f(0x194)][_0x27f74f(0x451)],'fileName':_0x3a17aa[_0x27f74f(0x194)]['fileName']}};try{let _0x8df245=await this[_0x27f74f(0x59c)](_0x965ffb);if(_0x8df245){let _0x371d3c={'_id':_0x8df245[_0x27f74f(0x143)]['id'],'_fromMe':_0x8df245[_0x27f74f(0x143)]['fromMe'],'_remoteJid':_0x8df245[_0x27f74f(0x143)]['remoteJid']},_0x3b2993=(0x0,w[_0x27f74f(0x847)])(_0x8df245[_0x27f74f(0x503)]),_0x52e0a4=(0x0,w[_0x27f74f(0x1da)])(_0x3b2993);_0x48ffde[_0x27f74f(0x16d)]['lastBlockId']=_0x3a17aa[_0x27f74f(0x898)][_0x27f74f(0x5a7)]();let {message_normalized:_0x545c1a}=this[_0x27f74f(0x47b)](_0x3b2993,_0x52e0a4,null);_0x48ffde[_0x27f74f(0x16d)][_0x27f74f(0x73e)]=await _0x545c1a;let _0x35a4c6={'messageId':_0x8df245[_0x27f74f(0x143)]['id']},_0x19826f=_0x48ffde[_0x27f74f(0x16d)][_0x27f74f(0x30f)];Object[_0x27f74f(0x243)](_0x19826f,_0x371d3c),_0x48ffde['chatLog']['realVariables']=_0x19826f,this[_0x27f74f(0x376)](_0x48ffde,_0x3a17aa,_0x35a4c6);}else{let _0x382d7b={'error':!0x0};this[_0x27f74f(0x376)](_0x48ffde,_0x3a17aa,_0x382d7b),this[_0x27f74f(0x31f)][_0x27f74f(0x77f)](this[_0x27f74f(0x8b7)]+'\x20('+this[_0x27f74f(0x4dd)][_0x27f74f(0x851)]+_0x27f74f(0x2bb));}}catch(_0x4bd8df){let _0x199215={'error':!0x0,'errorLog':_0x4bd8df['toString']()};this['updateConversation'](_0x48ffde,_0x3a17aa,_0x199215),this[_0x27f74f(0x31f)][_0x27f74f(0x77f)](this[_0x27f74f(0x8b7)]+'\x20('+this[_0x27f74f(0x4dd)][_0x27f74f(0x851)]+_0x27f74f(0x868)+(_0x4bd8df instanceof Error?_0x4bd8df['message']:JSON['stringify'](_0x4bd8df,null,0x2)));}}async['uazapiSendLocation'](_0x27d63a,_0x2095db){const _0x196f38=a0_0x299ca5;let _0x4c1071=_0x27d63a['remoteJid'];_0x2095db[_0x196f38(0x194)][_0x196f38(0x530)]&&_0x2095db[_0x196f38(0x194)][_0x196f38(0x530)][_0x196f38(0x3a7)]()!==''&&(_0x4c1071=_0x2095db[_0x196f38(0x194)][_0x196f38(0x530)][_0x196f38(0x3a7)]()),this['logger'][_0x196f38(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x196f38(0x851)]+'):\x20Enviando\x20localização');let _0xdec608={'number':_0x4c1071,'options':{'delay':_0x2095db[_0x196f38(0x194)][_0x196f38(0x5bf)]},'locationMessage':{'name':_0x2095db['uazapi']['name'],'address':_0x2095db[_0x196f38(0x194)][_0x196f38(0x514)],'latitude':_0x2095db[_0x196f38(0x194)][_0x196f38(0x612)],'longitude':_0x2095db[_0x196f38(0x194)][_0x196f38(0x501)]}};try{let _0x51275d=await this[_0x196f38(0x38e)](_0xdec608);if(_0x51275d){let _0x5b98ba={'_id':_0x51275d[_0x196f38(0x143)]['id'],'_fromMe':_0x51275d[_0x196f38(0x143)][_0x196f38(0x8c9)],'_remoteJid':_0x51275d['key'][_0x196f38(0x530)]},_0x1b1292=(0x0,w[_0x196f38(0x847)])(_0x51275d[_0x196f38(0x503)]),_0x26e2a7=(0x0,w[_0x196f38(0x1da)])(_0x1b1292);_0x27d63a[_0x196f38(0x16d)][_0x196f38(0x226)]=_0x2095db[_0x196f38(0x898)]['toString']();let {message_normalized:_0x52a6c2}=this[_0x196f38(0x47b)](_0x1b1292,_0x26e2a7,null);_0x27d63a[_0x196f38(0x16d)][_0x196f38(0x73e)]=await _0x52a6c2;let _0x4fa3d0={'messageId':_0x51275d[_0x196f38(0x143)]['id']},_0x58d3e9=_0x27d63a['chatLog'][_0x196f38(0x30f)];Object[_0x196f38(0x243)](_0x58d3e9,_0x5b98ba),_0x27d63a[_0x196f38(0x16d)][_0x196f38(0x30f)]=_0x58d3e9,this[_0x196f38(0x376)](_0x27d63a,_0x2095db,_0x4fa3d0);}else{let _0x26499a={'error':!0x0};this['updateConversation'](_0x27d63a,_0x2095db,_0x26499a),this['logger'][_0x196f38(0x77f)](this[_0x196f38(0x8b7)]+'\x20('+this[_0x196f38(0x4dd)][_0x196f38(0x851)]+_0x196f38(0x64f));}}catch(_0x5d9061){let _0x2c8682={'error':!0x0,'errorLog':_0x5d9061['toString']()};this[_0x196f38(0x376)](_0x27d63a,_0x2095db,_0x2c8682),this[_0x196f38(0x31f)][_0x196f38(0x77f)](this['instanceName']+'\x20('+this[_0x196f38(0x4dd)]['wuid']+_0x196f38(0x2b2)+(_0x5d9061 instanceof Error?_0x5d9061['message']:JSON[_0x196f38(0x6ed)](_0x5d9061,null,0x2)));}}async[a0_0x299ca5(0x411)](_0x301aad,_0x40eafc){const _0x1c183f=a0_0x299ca5;let _0x1cc181=_0x301aad[_0x1c183f(0x530)];_0x40eafc[_0x1c183f(0x194)][_0x1c183f(0x530)]&&_0x40eafc[_0x1c183f(0x194)]['remoteJid']['trim']()!==''&&(_0x1cc181=_0x40eafc[_0x1c183f(0x194)]['remoteJid']['trim']()),this[_0x1c183f(0x31f)][_0x1c183f(0x8bd)](this[_0x1c183f(0x8b7)]+'\x20('+this[_0x1c183f(0x4dd)]['wuid']+'):\x20Enviando\x20áudio');let _0x2e887d={'number':_0x1cc181,'options':{'delay':_0x40eafc[_0x1c183f(0x194)][_0x1c183f(0x5bf)]},'audioMessage':{'audio':_0x40eafc[_0x1c183f(0x194)][_0x1c183f(0x402)]}};try{let _0xb6104e=await this[_0x1c183f(0x75c)](_0x2e887d);if(_0xb6104e){let _0x3db7d0={'_id':_0xb6104e['key']['id'],'_fromMe':_0xb6104e['key'][_0x1c183f(0x8c9)],'_remoteJid':_0xb6104e[_0x1c183f(0x143)][_0x1c183f(0x530)]},_0x3d0a53=(0x0,w[_0x1c183f(0x847)])(_0xb6104e[_0x1c183f(0x503)]),_0x32db6c=(0x0,w[_0x1c183f(0x1da)])(_0x3d0a53);_0x301aad['chatLog'][_0x1c183f(0x226)]=_0x40eafc[_0x1c183f(0x898)][_0x1c183f(0x5a7)]();let {message_normalized:_0x1a1735}=this[_0x1c183f(0x47b)](_0x3d0a53,_0x32db6c,null);_0x301aad[_0x1c183f(0x16d)][_0x1c183f(0x73e)]=await _0x1a1735;let _0x20d12a={'messageId':_0xb6104e[_0x1c183f(0x143)]['id']},_0x5151aa=_0x301aad[_0x1c183f(0x16d)][_0x1c183f(0x30f)];Object[_0x1c183f(0x243)](_0x5151aa,_0x3db7d0),_0x301aad[_0x1c183f(0x16d)]['realVariables']=_0x5151aa,this[_0x1c183f(0x376)](_0x301aad,_0x40eafc,_0x20d12a);}else{let _0x1d0396={'error':!0x0};this[_0x1c183f(0x376)](_0x301aad,_0x40eafc,_0x1d0396),this[_0x1c183f(0x31f)]['error'](this[_0x1c183f(0x8b7)]+'\x20('+this[_0x1c183f(0x4dd)][_0x1c183f(0x851)]+_0x1c183f(0x367));}}catch(_0x218b0d){let _0x3df4a7={'error':!0x0,'errorLog':_0x218b0d[_0x1c183f(0x5a7)]()};this[_0x1c183f(0x376)](_0x301aad,_0x40eafc,_0x3df4a7),this['logger']['error'](this[_0x1c183f(0x8b7)]+'\x20('+this[_0x1c183f(0x4dd)][_0x1c183f(0x851)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x218b0d instanceof Error?_0x218b0d[_0x1c183f(0x503)]:JSON[_0x1c183f(0x6ed)](_0x218b0d,null,0x2)));}}async[a0_0x299ca5(0x731)](_0x323757,_0xf9ba69){const _0x57ecf5=a0_0x299ca5;let _0x23edd7=_0x323757[_0x57ecf5(0x530)];_0xf9ba69[_0x57ecf5(0x194)][_0x57ecf5(0x530)]&&_0xf9ba69[_0x57ecf5(0x194)][_0x57ecf5(0x530)][_0x57ecf5(0x3a7)]()!==''&&(_0x23edd7=_0xf9ba69[_0x57ecf5(0x194)][_0x57ecf5(0x530)][_0x57ecf5(0x3a7)]()),this[_0x57ecf5(0x31f)][_0x57ecf5(0x8bd)](this[_0x57ecf5(0x8b7)]+'\x20('+this['instance'][_0x57ecf5(0x851)]+_0x57ecf5(0x6c9));let _0x24041b={'number':_0x23edd7,'options':{'delay':_0xf9ba69[_0x57ecf5(0x194)][_0x57ecf5(0x5bf)]},'contactMessage':[{'fullName':_0xf9ba69[_0x57ecf5(0x194)][_0x57ecf5(0x1a8)],'phoneNumber':_0xf9ba69[_0x57ecf5(0x194)]['phoneNumber']}]};try{let _0x4832a6=await this[_0x57ecf5(0x777)](_0x24041b);if(_0x4832a6){let _0x20abf8={'_id':_0x4832a6[_0x57ecf5(0x143)]['id'],'_fromMe':_0x4832a6[_0x57ecf5(0x143)][_0x57ecf5(0x8c9)],'_remoteJid':_0x4832a6[_0x57ecf5(0x143)][_0x57ecf5(0x530)]},_0x166ab3=(0x0,w[_0x57ecf5(0x847)])(_0x4832a6[_0x57ecf5(0x503)]),_0x560624=(0x0,w[_0x57ecf5(0x1da)])(_0x166ab3);_0x323757[_0x57ecf5(0x16d)][_0x57ecf5(0x226)]=_0xf9ba69[_0x57ecf5(0x898)][_0x57ecf5(0x5a7)]();let {message_normalized:_0x3bd2f5}=this[_0x57ecf5(0x47b)](_0x166ab3,_0x560624,null);_0x323757['chatLog'][_0x57ecf5(0x73e)]=await _0x3bd2f5;let _0x22e1ca={'messageId':_0x4832a6[_0x57ecf5(0x143)]['id']},_0xf8165e=_0x323757['chatLog'][_0x57ecf5(0x30f)];Object[_0x57ecf5(0x243)](_0xf8165e,_0x20abf8),_0x323757[_0x57ecf5(0x16d)][_0x57ecf5(0x30f)]=_0xf8165e,this[_0x57ecf5(0x376)](_0x323757,_0xf9ba69,_0x22e1ca);}else{let _0x2511cb={'error':!0x0};this[_0x57ecf5(0x376)](_0x323757,_0xf9ba69,_0x2511cb),this[_0x57ecf5(0x31f)][_0x57ecf5(0x77f)](this[_0x57ecf5(0x8b7)]+'\x20('+this[_0x57ecf5(0x4dd)]['wuid']+_0x57ecf5(0x229));}}catch(_0x635139){let _0x5bd8fa={'error':!0x0,'errorLog':_0x635139[_0x57ecf5(0x5a7)]()};this['updateConversation'](_0x323757,_0xf9ba69,_0x5bd8fa),this[_0x57ecf5(0x31f)][_0x57ecf5(0x77f)](this[_0x57ecf5(0x8b7)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x635139 instanceof Error?_0x635139[_0x57ecf5(0x503)]:JSON[_0x57ecf5(0x6ed)](_0x635139,null,0x2)));}}[a0_0x299ca5(0x628)](_0x4e0190,_0x21be73){const _0x326cec=a0_0x299ca5;for(let _0x523ed7 of _0x4e0190)_0x523ed7[_0x326cec(0x50f)]&&(_0x523ed7['option']=this[_0x326cec(0x44f)](_0x523ed7['option'],_0x21be73)),_0x523ed7[_0x326cec(0x815)]&&(_0x523ed7['optionDescription']=this[_0x326cec(0x44f)](_0x523ed7[_0x326cec(0x815)],_0x21be73));}async[a0_0x299ca5(0x6aa)](_0x5e87f9,_0x1d6d86){const _0x46fff5=a0_0x299ca5;let _0x2ab008=_0x5e87f9[_0x46fff5(0x530)];_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x530)]&&_0x1d6d86['uazapi'][_0x46fff5(0x530)][_0x46fff5(0x3a7)]()!==''&&(_0x2ab008=_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x530)][_0x46fff5(0x3a7)]()),this['logger'][_0x46fff5(0x8bd)](this[_0x46fff5(0x8b7)]+'\x20('+this['instance'][_0x46fff5(0x851)]+'):\x20Enviando\x20enquete');let _0x334f74=_0x5e87f9[_0x46fff5(0x771)][_0x46fff5(0x67c)](_0x3fa1d7=>_0x3fa1d7[_0x46fff5(0x659)]===_0x1d6d86['_id'])[_0x46fff5(0x277)]((_0x2b91ae,_0xf4aaed)=>_0x2b91ae[_0x46fff5(0x4b4)]-_0xf4aaed[_0x46fff5(0x4b4)]);this[_0x46fff5(0x628)](_0x334f74,_0x5e87f9[_0x46fff5(0x16d)][_0x46fff5(0x30f)]);let _0x427718=_0x334f74[_0x46fff5(0x3ae)](_0x59d798=>_0x59d798['option']),_0x545001={'number':_0x2ab008,'menuMessage':{'type':_0x1d6d86['uazapi'][_0x46fff5(0x650)]||'poll','text':_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x69c)]||_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x5d0)],'footerText':_0x1d6d86[_0x46fff5(0x194)]['footerText'],'buttonText':_0x1d6d86[_0x46fff5(0x194)]['buttonText'],'selectableCount':0x1,'choices':_0x427718},'options':{'delay':_0x1d6d86[_0x46fff5(0x194)]['delay']}};try{let _0x21a5a8=await this[_0x46fff5(0x2cc)](_0x545001);if(_0x21a5a8){let _0x354e6a={'_id':_0x21a5a8[_0x46fff5(0x143)]['id'],'_fromMe':_0x21a5a8[_0x46fff5(0x143)][_0x46fff5(0x8c9)],'_remoteJid':_0x21a5a8[_0x46fff5(0x143)][_0x46fff5(0x530)]};_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x782)]===!0x0&&(_0x5e87f9[_0x46fff5(0x5d8)]=_0x46fff5(0x692),this[_0x46fff5(0x31f)][_0x46fff5(0x8bd)](this[_0x46fff5(0x8b7)]+'\x20('+this[_0x46fff5(0x4dd)][_0x46fff5(0x851)]+_0x46fff5(0x467)+_0x5e87f9[_0x46fff5(0x5d8)])),this['logger'][_0x46fff5(0x8bd)](this[_0x46fff5(0x8b7)]+'\x20('+this[_0x46fff5(0x4dd)][_0x46fff5(0x851)]+_0x46fff5(0x205)+(_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x5d0)]||_0x1d6d86['uazapi'][_0x46fff5(0x69c)])),_0x5e87f9[_0x46fff5(0x7e4)]=_0x21a5a8[_0x46fff5(0x143)]['id'],_0x5e87f9[_0x46fff5(0x7f5)]=_0x1d6d86['uazapi'][_0x46fff5(0x5d0)]||_0x1d6d86[_0x46fff5(0x194)]['text'],_0x5e87f9[_0x46fff5(0x860)]=_0x334f74,_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x78a)]&&(_0x5e87f9[_0x46fff5(0x1ab)]=_0x1d6d86[_0x46fff5(0x194)][_0x46fff5(0x78a)]),this['logger'][_0x46fff5(0x8bd)](this[_0x46fff5(0x8b7)]+'\x20('+this['instance'][_0x46fff5(0x851)]+_0x46fff5(0x319)+_0x5e87f9[_0x46fff5(0x7f5)]);let _0x1353be=(0x0,w[_0x46fff5(0x847)])(_0x21a5a8[_0x46fff5(0x503)]),_0x419bb=(0x0,w[_0x46fff5(0x1da)])(_0x1353be);_0x5e87f9[_0x46fff5(0x16d)]['lastBlockId']=_0x1d6d86[_0x46fff5(0x898)][_0x46fff5(0x5a7)]();let {message_normalized:_0x540d7d}=this[_0x46fff5(0x47b)](_0x1353be,_0x419bb,null);_0x5e87f9[_0x46fff5(0x16d)]['lastSendMessage']=await _0x540d7d;let _0x18841c={'messageId':_0x21a5a8[_0x46fff5(0x143)]['id']},_0x19935e=_0x5e87f9[_0x46fff5(0x16d)][_0x46fff5(0x30f)];Object[_0x46fff5(0x243)](_0x19935e,_0x354e6a),_0x5e87f9[_0x46fff5(0x16d)]['realVariables']=_0x19935e,this[_0x46fff5(0x376)](_0x5e87f9,_0x1d6d86,_0x18841c);}else{let _0x37d648={'error':!0x0};this[_0x46fff5(0x376)](_0x5e87f9,_0x1d6d86,_0x37d648),this[_0x46fff5(0x31f)][_0x46fff5(0x77f)](this['instanceName']+'\x20('+this[_0x46fff5(0x4dd)][_0x46fff5(0x851)]+_0x46fff5(0x8e7));}}catch(_0x3050de){let _0x19e6ab={'error':!0x0,'errorLog':_0x3050de instanceof Error?_0x3050de[_0x46fff5(0x503)]:JSON[_0x46fff5(0x6ed)](_0x3050de,null,0x2)};this['updateConversation'](_0x5e87f9,_0x1d6d86,_0x19e6ab),this[_0x46fff5(0x31f)][_0x46fff5(0x77f)](this[_0x46fff5(0x8b7)]+'\x20('+this[_0x46fff5(0x4dd)][_0x46fff5(0x851)]+_0x46fff5(0x442)+(_0x3050de instanceof Error?_0x3050de[_0x46fff5(0x503)]:JSON[_0x46fff5(0x6ed)](_0x3050de,null,0x2)));}}async[a0_0x299ca5(0x409)](_0x320616,_0x19f644){const _0x12eba2=a0_0x299ca5;this[_0x12eba2(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x12eba2(0x4dd)][_0x12eba2(0x851)]+_0x12eba2(0x43f));let _0x3b23ff=_0x320616[_0x12eba2(0x16d)]['blockLogs'][_0x12eba2(0x2b7)](_0x122536=>_0x122536[_0x12eba2(0x659)][_0x12eba2(0x5a7)]()===_0x19f644[_0x12eba2(0x194)][_0x12eba2(0x659)]['toString']()),_0x587842={'id':_0x3b23ff[_0x12eba2(0x4b2)],'remoteJid':_0x3b23ff[_0x12eba2(0x530)],'fromMe':_0x3b23ff[_0x12eba2(0x8c9)]};try{let _0x4849a2=await this[_0x12eba2(0x2c5)](_0x587842);if(_0x4849a2){let _0x47a04c=(0x0,w['normalizeMessageContent'])(_0x4849a2['message']),_0x1b8bde=(0x0,w[_0x12eba2(0x1da)])(_0x47a04c);_0x320616[_0x12eba2(0x16d)][_0x12eba2(0x226)]=_0x19f644[_0x12eba2(0x898)][_0x12eba2(0x5a7)]();let {message_normalized:_0xcee7d}=this[_0x12eba2(0x47b)](_0x47a04c,_0x1b8bde,null);_0x320616[_0x12eba2(0x16d)][_0x12eba2(0x73e)]=await _0xcee7d;let _0x1f8dbb={};this[_0x12eba2(0x376)](_0x320616,_0x19f644,_0x1f8dbb);}else{let _0x40361d={'error':!0x0};this[_0x12eba2(0x376)](_0x320616,_0x19f644,_0x40361d),this[_0x12eba2(0x31f)][_0x12eba2(0x77f)](this[_0x12eba2(0x8b7)]+'\x20('+this[_0x12eba2(0x4dd)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x156539){let _0x283357={'error':!0x0,'errorLog':_0x156539 instanceof Error?_0x156539[_0x12eba2(0x503)]:JSON[_0x12eba2(0x6ed)](_0x156539,null,0x2)};this[_0x12eba2(0x376)](_0x320616,_0x19f644,_0x283357),this[_0x12eba2(0x31f)][_0x12eba2(0x77f)](this[_0x12eba2(0x8b7)]+'\x20('+this[_0x12eba2(0x4dd)]['wuid']+_0x12eba2(0x6e8)+(_0x156539 instanceof Error?_0x156539['message']:JSON['stringify'](_0x156539,null,0x2)));}}async[a0_0x299ca5(0x4e0)](_0x5059c4,_0xc2d934){const _0x331429=a0_0x299ca5;if(_0x5059c4[_0x331429(0x5d0)]||(_0x5059c4['name']=(0x0,Q['v4'])()),_0xc2d934!==xi&&_0x5059c4?.['globalShow'])throw new m(_0x331429(0x644));if(_0x331429(0x898)in _0x5059c4&&'owner'in _0x5059c4)return this[_0x331429(0x34f)](_0x5059c4['owner'],_0x5059c4['_id']);this[_0x331429(0x31f)][_0x331429(0x8bd)](this[_0x331429(0x8b7)]+'\x20('+this[_0x331429(0x4dd)][_0x331429(0x851)]+'):\x20Criando\x20fluxo...');let _0x5e7d4e=this[_0x331429(0x8a3)](_0x5059c4[_0x331429(0x5d0)]),_0x50bb4a=new he[(_0x331429(0x278))][(_0x331429(0x71a))](),_0x40f7f3={'_id':_0x50bb4a,'default':!0x0,'title':_0x331429(0x8ab),'x':0x0,'y':0x0},_0x3bfe11={'_id':new he[(_0x331429(0x278))][(_0x331429(0x71a))](),'order':0x1,'groupId':_0x50bb4a[_0x331429(0x5a7)](),'type':_0x331429(0x365)},_0x2c6bcc=this['instance']['wuid'],_0x1d336c={'_id':(0x0,Q['v4'])(),'owner':_0x2c6bcc,'name':_0x5e7d4e,'whoCanEdit':[_0x2c6bcc],'whoCanUse':[_0x2c6bcc],'groups':[_0x40f7f3],'blocks':[_0x3bfe11],..._0x5059c4};try{let _0x30e51d=await this[_0x331429(0x7d6)]['flow'][_0x331429(0x539)](_0x1d336c);return await this[_0x331429(0x3f5)](),_0x30e51d;}catch(_0x33b724){let _0x30498d='Erro\x20ao\x20criar\x20fluxo',_0x51f24d=_0x33b724 instanceof Error?_0x33b724['message']:typeof _0x33b724==_0x331429(0x6dc)?JSON['stringify'](_0x33b724):_0x33b724,_0xbe7f83=_0x30498d+':\x20'+_0x51f24d;throw this[_0x331429(0x31f)][_0x331429(0x77f)](this[_0x331429(0x8b7)]+'\x20('+this['instance']['wuid']+_0x331429(0x215)+_0xbe7f83),new m(_0xbe7f83);}}async[a0_0x299ca5(0x34f)](_0x2194ec,_0xffd302){const _0x2a7df9=a0_0x299ca5;try{this['logger'][_0x2a7df9(0x8bd)](this[_0x2a7df9(0x8b7)]+'\x20('+this[_0x2a7df9(0x4dd)][_0x2a7df9(0x851)]+_0x2a7df9(0x1c5));let _0x5e795e=await this[_0x2a7df9(0x7d6)]['flow'][_0x2a7df9(0x151)]({'where':{'_id':_0xffd302,'owner':_0x2194ec}});if(!_0x5e795e)throw new m(_0x2a7df9(0x6b6));if(_0x5e795e[_0x2a7df9(0x39c)]===!0x1&&!_0x5e795e[_0x2a7df9(0x25b)])throw new m(_0x2a7df9(0x68f));let _0x5e1fec=new Set(_0x5e795e[_0x2a7df9(0x135)]??[]);_0x5e1fec[_0x2a7df9(0x728)](this[_0x2a7df9(0x4dd)][_0x2a7df9(0x851)]);let _0x7a11fe=await this['repository'][_0x2a7df9(0x65f)][_0x2a7df9(0x3ff)](_0xffd302,{..._0x5e795e,'whoCanUse':Array[_0x2a7df9(0x374)](_0x5e1fec)});return await this[_0x2a7df9(0x3f5)](),_0x7a11fe;}catch(_0x59268a){let _0x2a230b=_0x2a7df9(0x7cc),_0xdd272c=_0x59268a instanceof Error?_0x59268a[_0x2a7df9(0x503)]:typeof _0x59268a=='object'?JSON[_0x2a7df9(0x6ed)](_0x59268a):_0x59268a,_0x40c356=_0x2a230b+':\x20'+_0xdd272c;throw this[_0x2a7df9(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x2a7df9(0x4dd)][_0x2a7df9(0x851)]+'):\x20'+_0x40c356),new m(_0x40c356);}}['getUniqueFlowName'](_0x15c834){const _0x36057a=a0_0x299ca5;let _0x3f16ab=_0x15c834,_0x3886de=0x1;for(;this['AutomateSystem'][_0x36057a(0x264)][_0x36057a(0x3b1)](_0x108830=>_0x108830[_0x36057a(0x5d0)]===_0x3f16ab);)_0x3886de++,_0x3f16ab=_0x15c834+'\x20('+_0x3886de+')';return _0x3f16ab;}async['deleteFlow'](_0x146b9a){const _0x22d9fd=a0_0x299ca5;try{if(this['logger'][_0x22d9fd(0x8bd)](this[_0x22d9fd(0x8b7)]+'\x20('+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+_0x22d9fd(0x45e)+_0x146b9a[_0x22d9fd(0x898)]+_0x22d9fd(0x4a5)+_0x146b9a[_0x22d9fd(0x82c)]),!this[_0x22d9fd(0x42c)][_0x22d9fd(0x264)]['find'](_0x19927a=>_0x19927a[_0x22d9fd(0x898)]===_0x146b9a['_id']))throw this[_0x22d9fd(0x31f)][_0x22d9fd(0x8bd)](this['instanceName']+'\x20('+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+'):\x20Fluxo\x20\x27'+_0x146b9a[_0x22d9fd(0x898)]+_0x22d9fd(0x766)),new m(_0x22d9fd(0x611));let _0x5bc497=await this['repository']['flow']['findOne']({'where':{'_id':_0x146b9a[_0x22d9fd(0x898)]}});if(!_0x5bc497)throw new m(_0x22d9fd(0x38f));if(this[_0x22d9fd(0x4dd)]['wuid']===_0x5bc497['owner']){this[_0x22d9fd(0x31f)][_0x22d9fd(0x8bd)](this[_0x22d9fd(0x8b7)]+'\x20('+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+_0x22d9fd(0x2a4)+_0x146b9a['_id']+_0x22d9fd(0x870));let _0x52c5e0=await this[_0x22d9fd(0x7d6)][_0x22d9fd(0x65f)][_0x22d9fd(0x441)]({'where':{'_id':_0x146b9a[_0x22d9fd(0x898)]}});return await this[_0x22d9fd(0x3f5)](),_0x52c5e0;}return this[_0x22d9fd(0x31f)][_0x22d9fd(0x8bd)](this['instanceName']+'\x20('+this[_0x22d9fd(0x4dd)]['wuid']+_0x22d9fd(0x357)+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x146b9a[_0x22d9fd(0x898)]+_0x22d9fd(0x47f)),_0x5bc497['whoCanUse']=(_0x5bc497[_0x22d9fd(0x135)]??[])[_0x22d9fd(0x67c)](_0x32e73e=>_0x32e73e!==this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]),_0x5bc497[_0x22d9fd(0x454)]=(_0x5bc497[_0x22d9fd(0x454)]??[])[_0x22d9fd(0x67c)](_0x57e118=>_0x57e118!==this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]),_0x5bc497[_0x22d9fd(0x454)]['length']===0x0&&_0x5bc497['whoCanUse'][_0x22d9fd(0x84b)]>0x0&&(_0x5bc497[_0x22d9fd(0x454)][_0x22d9fd(0x2b6)](_0x5bc497[_0x22d9fd(0x135)][0x0]),this[_0x22d9fd(0x31f)][_0x22d9fd(0x8bd)](this['instanceName']+'\x20('+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+'):\x20Adicionando\x20\x27'+_0x5bc497['whoCanUse'][0x0]+_0x22d9fd(0x45c)+_0x146b9a[_0x22d9fd(0x898)]+_0x22d9fd(0x47f))),await this[_0x22d9fd(0x7d6)][_0x22d9fd(0x65f)][_0x22d9fd(0x3ff)](_0x5bc497[_0x22d9fd(0x898)],_0x5bc497),await this[_0x22d9fd(0x3f5)](),{'message':_0x22d9fd(0x2b0)+_0x146b9a[_0x22d9fd(0x5d0)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x43f0b8){return this[_0x22d9fd(0x31f)][_0x22d9fd(0x77f)](this[_0x22d9fd(0x8b7)]+'\x20('+this[_0x22d9fd(0x4dd)][_0x22d9fd(0x851)]+_0x22d9fd(0x749)+(_0x43f0b8 instanceof Error?_0x43f0b8['message']:JSON[_0x22d9fd(0x6ed)](_0x43f0b8,null,0x2))),{'message':_0x22d9fd(0x550)+(_0x43f0b8 instanceof Error?_0x43f0b8['message']:JSON[_0x22d9fd(0x6ed)](_0x43f0b8,null,0x2))};}}async['getFlow'](_0xd5c3ba){const _0x455b91=a0_0x299ca5;try{if(this[_0x455b91(0x31f)][_0x455b91(0x74c)](this[_0x455b91(0x8b7)]+'\x20('+this['instance'][_0x455b91(0x851)]+_0x455b91(0x5ae)+_0xd5c3ba),!this[_0x455b91(0x42c)]&&(await this[_0x455b91(0x7c3)](),!this[_0x455b91(0x42c)]))return null;let _0x3c14c9=await this['repository']['flow'][_0x455b91(0x151)]({'where':{'_id':_0xd5c3ba}});if(!_0x3c14c9)throw new m(_0x455b91(0x1cb)+_0xd5c3ba+_0x455b91(0x568));if(!(_0x3c14c9['globalShow']||_0x3c14c9['whoCanUse']?.[_0x455b91(0x457)](this[_0x455b91(0x4dd)][_0x455b91(0x851)])))throw new m(_0x455b91(0x5e6)+name+'\x27');_0x3c14c9[_0x455b91(0x25b)]&&!_0x3c14c9[_0x455b91(0x135)]?.['includes'](this[_0x455b91(0x4dd)]['wuid'])&&(_0x3c14c9[_0x455b91(0x135)]=[..._0x3c14c9[_0x455b91(0x135)]??[],this['instance'][_0x455b91(0x851)]],await this[_0x455b91(0x7d6)][_0x455b91(0x65f)]['updateOne'](_0x3c14c9[_0x455b91(0x898)],_0x3c14c9),this['synchronizeAndMapFlows']());let _0x3ede23=this[_0x455b91(0x42c)]?.[_0x455b91(0x6bb)][_0x455b91(0x3ae)](_0x12c3bf=>_0x12c3bf[_0x455b91(0x5d0)]),_0x3bc95c=[_0x455b91(0x41f),_0x455b91(0x715),_0x455b91(0x85c),'cpf',_0x455b91(0x5d8),_0x455b91(0x736),_0x455b91(0x28c),_0x455b91(0x4a1),_0x455b91(0x67b),_0x455b91(0x895),_0x455b91(0x26e)];_0x3c14c9[_0x455b91(0x2c0)]=_0x3c14c9[_0x455b91(0x2c0)]['filter'](_0x98395d=>!(_0x98395d[_0x455b91(0x75f)]===_0x455b91(0x59a)||_0x98395d[_0x455b91(0x59a)])),_0x3bc95c[_0x455b91(0x613)](_0x210043=>{const _0x3748f0=_0x455b91;_0x3c14c9[_0x3748f0(0x2c0)][_0x3748f0(0x2b6)]({'folder':_0x3748f0(0x59a),'name':_0x210043,'value':'','doc':'','leadInfo':!0x0});}),_0x3ede23[_0x455b91(0x613)](_0x20928f=>{const _0x591525=_0x455b91;let _0x5a57f9=_0x3c14c9['variables']['findIndex'](_0xe4037c=>_0xe4037c[_0x591525(0x5d0)]===_0x20928f);_0x5a57f9===-0x1?_0x3c14c9[_0x591525(0x2c0)]['push']({'folder':_0x591525(0x59a),'name':_0x20928f,'value':'','doc':'','leadInfo':!0x0}):(_0x3c14c9[_0x591525(0x2c0)][_0x5a57f9][_0x591525(0x75f)]='leadInfo',_0x3c14c9[_0x591525(0x2c0)][_0x5a57f9][_0x591525(0x59a)]=!0x0);}),_0x3c14c9[_0x455b91(0x3b2)]&&_0x3c14c9['blocks'][_0x455b91(0x84b)]>0x0&&_0x3c14c9[_0x455b91(0x3b2)][_0x455b91(0x613)](_0x3b45fa=>{const _0x3390ee=_0x455b91;_0x3b45fa[_0x3390ee(0x60d)]&&_0x3b45fa[_0x3390ee(0x452)]&&_0x3b45fa[_0x3390ee(0x60d)]===_0x3b45fa[_0x3390ee(0x452)]&&(_0x3b45fa[_0x3390ee(0x452)]=null);});let _0x44b74e=await this[_0x455b91(0x7d6)][_0x455b91(0x65f)][_0x455b91(0x3ff)](_0x3c14c9['_id'],_0x3c14c9);if(!_0x44b74e)throw new Error(_0x455b91(0x2ec));return _0x44b74e;}catch(_0x36d1e9){let _0x6c1760=_0x455b91(0x139),_0x522db2=_0x36d1e9 instanceof Error?_0x36d1e9[_0x455b91(0x503)]:typeof _0x36d1e9==_0x455b91(0x6dc)?JSON['stringify'](_0x36d1e9):_0x36d1e9,_0x19507b=_0x6c1760+':\x20'+_0x522db2;throw this[_0x455b91(0x31f)][_0x455b91(0x77f)](this[_0x455b91(0x8b7)]+'\x20('+this[_0x455b91(0x4dd)]['wuid']+_0x455b91(0x215)+_0x19507b),new m(_0x19507b);}}async[a0_0x299ca5(0x6ef)](){const _0x31f459=a0_0x299ca5;try{this[_0x31f459(0x31f)][_0x31f459(0x8bd)](this['instanceName']+'\x20('+this[_0x31f459(0x4dd)]['wuid']+_0x31f459(0x14c)),await this[_0x31f459(0x3f5)]();let _0x5a2832=await this['repository'][_0x31f459(0x65f)][_0x31f459(0x163)]({'where':{'globalShow':!0x0}});return[...this[_0x31f459(0x42c)][_0x31f459(0x264)],..._0x5a2832];}catch(_0x333593){return this[_0x31f459(0x31f)][_0x31f459(0x77f)](this[_0x31f459(0x8b7)]+'\x20('+this[_0x31f459(0x4dd)][_0x31f459(0x851)]+_0x31f459(0x3fb)+(_0x333593 instanceof Error?_0x333593[_0x31f459(0x503)]:JSON['stringify'](_0x333593,null,0x2))),{'message':_0x31f459(0x852)+(_0x333593 instanceof Error?_0x333593[_0x31f459(0x503)]:String(_0x333593))};}}async[a0_0x299ca5(0x83a)](_0x36ab1f,_0x1d339b){const _0x1a6786=a0_0x299ca5;try{this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this[_0x1a6786(0x8b7)]+'\x20('+this[_0x1a6786(0x4dd)][_0x1a6786(0x851)]+'):\x20Alterando\x20fluxo...');let _0x22b977=this[_0x1a6786(0x42c)]['flows'][_0x1a6786(0x2b7)](_0x4887a8=>_0x4887a8[_0x1a6786(0x898)]===_0x36ab1f[_0x1a6786(0x898)]);if(!_0x22b977)throw this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a6786(0x596)+_0x36ab1f[_0x1a6786(0x898)]+_0x1a6786(0x766)),new m(_0x1a6786(0x611));let _0x2d7168=await this['repository'][_0x1a6786(0x65f)][_0x1a6786(0x151)]({'where':{'_id':_0x36ab1f[_0x1a6786(0x898)]}});if(!_0x2d7168||!_0x2d7168[_0x1a6786(0x135)]?.[_0x1a6786(0x457)](this[_0x1a6786(0x4dd)][_0x1a6786(0x851)]))throw this[_0x1a6786(0x31f)]['error'](this[_0x1a6786(0x8b7)]+'\x20('+this['instance']['wuid']+_0x1a6786(0x2aa)+_0x36ab1f[_0x1a6786(0x898)]+_0x1a6786(0x583)),new m(_0x1a6786(0x8a8)+_0x36ab1f[_0x1a6786(0x898)]+_0x1a6786(0x583));let _0x566f6c=this[_0x1a6786(0x42c)]['flows']['findIndex'](_0x261de3=>_0x261de3[_0x1a6786(0x898)]===_0x22b977['_id']);if(_0x566f6c!==-0x1){let _0x388aba=this['AutomateSystem'][_0x1a6786(0x264)][_0x566f6c];if(_0x388aba['name']=_0x36ab1f[_0x1a6786(0x5d0)]??_0x388aba[_0x1a6786(0x5d0)],_0x388aba['default']=_0x36ab1f[_0x1a6786(0x222)]??_0x388aba[_0x1a6786(0x222)],_0x388aba[_0x1a6786(0x608)]=_0x36ab1f['testingWith']??_0x388aba[_0x1a6786(0x608)],_0x388aba['startCommand']=_0x36ab1f['startCommandWord']??_0x388aba['startCommand'],_0x388aba[_0x1a6786(0x29c)]=_0x36ab1f[_0x1a6786(0x29c)]??_0x388aba[_0x1a6786(0x29c)],_0x388aba['readMessages']=_0x36ab1f[_0x1a6786(0x66d)]??_0x388aba[_0x1a6786(0x66d)],_0x36ab1f[_0x1a6786(0x222)]&&this['AutomateSystem'][_0x1a6786(0x264)][_0x1a6786(0x613)]((_0x56e79a,_0x9efcfb)=>{_0x9efcfb!==_0x566f6c&&(_0x56e79a['default']=!0x1);}),this['AutomateSystem'][_0x1a6786(0x264)][_0x566f6c]=_0x388aba,!await this['repository'][_0x1a6786(0x453)]['update']({'flows':this[_0x1a6786(0x42c)][_0x1a6786(0x264)]},this[_0x1a6786(0x4dd)]['wuid']))throw new m(_0x1a6786(0x2c2));}let _0x3c0275=[_0x1a6786(0x82c),_0x1a6786(0x329),_0x1a6786(0x207),_0x1a6786(0x507)];for(let _0x4db898 of _0x3c0275)delete _0x36ab1f[_0x4db898];if(_0x2d7168['whoCanEdit']?.[_0x1a6786(0x457)](this[_0x1a6786(0x4dd)]['wuid'])||(_0x36ab1f={'_id':_0x36ab1f[_0x1a6786(0x898)]}),_0x1d339b!==xi&&_0x36ab1f?.[_0x1a6786(0x25b)]&&!_0x2d7168?.['globalShow'])throw new m(_0x1a6786(0x3dd));let _0x2939d4=new Set(_0x36ab1f[_0x1a6786(0x454)]??_0x2d7168[_0x1a6786(0x454)]);_0x2939d4['add'](_0x2d7168['owner']);let _0x2afa66=new Set(_0x36ab1f['whoCanUse']??_0x2d7168[_0x1a6786(0x135)]??[]);_0x2939d4[_0x1a6786(0x613)](_0x150851=>_0x2afa66[_0x1a6786(0x728)](_0x150851)),_0x2afa66[_0x1a6786(0x728)](_0x2d7168[_0x1a6786(0x19b)]),this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this['instanceName']+'\x20('+this[_0x1a6786(0x4dd)][_0x1a6786(0x851)]+_0x1a6786(0x586)+Array[_0x1a6786(0x374)](_0x2939d4)),this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this[_0x1a6786(0x8b7)]+'\x20('+this['instance']['wuid']+_0x1a6786(0x352)+Array[_0x1a6786(0x374)](_0x2afa66));let _0x1f08b2=await this[_0x1a6786(0x840)](Array[_0x1a6786(0x374)](_0x2afa66)),_0x16be52=Array[_0x1a6786(0x374)](_0x2939d4)['filter'](_0x44714e=>_0x1f08b2[_0x1a6786(0x457)](_0x44714e)),_0xed742e=Array[_0x1a6786(0x374)](_0x2afa66)[_0x1a6786(0x67c)](_0x3c78c9=>_0x1f08b2['includes'](_0x3c78c9));this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this['instanceName']+'\x20('+this[_0x1a6786(0x4dd)][_0x1a6786(0x851)]+_0x1a6786(0x2b3)+_0x16be52),this[_0x1a6786(0x31f)][_0x1a6786(0x8bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a6786(0x193)+_0xed742e);let _0x4d24b0={..._0x2d7168,..._0x36ab1f,'whoCanEdit':_0x16be52,'whoCanUse':_0xed742e},_0x5a6838=await this[_0x1a6786(0x7d6)][_0x1a6786(0x65f)][_0x1a6786(0x3ff)](_0x2d7168['_id'],_0x4d24b0);return await this[_0x1a6786(0x3f5)](),_0x5a6838;}catch(_0x393b28){let _0x70bb6a=_0x1a6786(0x470),_0x517fbd=_0x393b28 instanceof Error?_0x393b28[_0x1a6786(0x503)]:typeof _0x393b28==_0x1a6786(0x6dc)?JSON['stringify'](_0x393b28):_0x393b28,_0x1a6389=_0x70bb6a+':\x20'+_0x517fbd;throw this[_0x1a6786(0x31f)][_0x1a6786(0x77f)](this[_0x1a6786(0x8b7)]+'\x20('+this[_0x1a6786(0x4dd)][_0x1a6786(0x851)]+_0x1a6786(0x215)+_0x1a6389),new m(_0x1a6389);}}async[a0_0x299ca5(0x840)](_0x597383){const _0x1bfd33=a0_0x299ca5;let _0x48280c={'numbers':_0x597383};return(await this[_0x1bfd33(0x53b)](_0x48280c))[_0x1bfd33(0x67c)](_0x41084a=>_0x41084a[_0x1bfd33(0x358)])['map'](_0x1bb71b=>_0x1bb71b[_0x1bfd33(0x4d8)])[_0x1bfd33(0x3ae)](_0x172d3e=>this[_0x1bfd33(0x3d9)](_0x172d3e));}[a0_0x299ca5(0x3d9)](_0x41e78c){const _0x390987=a0_0x299ca5;let _0x44bccf=_0x41e78c[_0x390987(0x5ba)](/\d+/);return _0x44bccf?_0x44bccf[0x0]:'';}async[a0_0x299ca5(0x719)](_0x32ca10){const _0x275df5=a0_0x299ca5;try{if(this[_0x275df5(0x31f)][_0x275df5(0x8bd)](this['instanceName']+'\x20('+this[_0x275df5(0x4dd)][_0x275df5(0x851)]+'):\x20Editando\x20bloco...'),!this[_0x275df5(0x42c)][_0x275df5(0x264)][_0x275df5(0x2b7)](_0x202507=>_0x202507[_0x275df5(0x898)]===_0x32ca10['_id']))throw this[_0x275df5(0x31f)][_0x275df5(0x8bd)](this[_0x275df5(0x8b7)]+'\x20('+this[_0x275df5(0x4dd)][_0x275df5(0x851)]+_0x275df5(0x596)+_0x32ca10[_0x275df5(0x898)]+_0x275df5(0x766)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x18f7f9=await this[_0x275df5(0x7d6)][_0x275df5(0x65f)][_0x275df5(0x151)]({'where':{'_id':_0x32ca10[_0x275df5(0x898)]}});if(!_0x18f7f9||!_0x18f7f9[_0x275df5(0x135)]?.['includes'](this[_0x275df5(0x4dd)][_0x275df5(0x851)]))throw this[_0x275df5(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x275df5(0x4dd)][_0x275df5(0x851)]+'):\x20Flow\x20\x27'+_0x32ca10['_id']+_0x275df5(0x583)),new m(_0x275df5(0x8a8)+_0x32ca10[_0x275df5(0x898)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x18f7f9[_0x275df5(0x454)]?.[_0x275df5(0x457)](this[_0x275df5(0x4dd)][_0x275df5(0x851)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x2f3c60}=_0x32ca10;_0x2f3c60?.[_0x275df5(0x4e9)]?this[_0x275df5(0x7e3)](_0x18f7f9,_0x32ca10):_0x2f3c60?.['delete']?this[_0x275df5(0x2f2)](_0x18f7f9,_0x32ca10):_0x2f3c60[_0x275df5(0x898)]?await this['updateBlock'](_0x18f7f9,_0x32ca10):this[_0x275df5(0x582)](_0x18f7f9,_0x32ca10);let _0x4c24f8=await this['repository'][_0x275df5(0x65f)][_0x275df5(0x3ff)](_0x18f7f9[_0x275df5(0x898)],_0x18f7f9);if(!_0x4c24f8)throw new Error(_0x275df5(0x2ec));return _0x4c24f8;}catch(_0x5448e7){this[_0x275df5(0x750)](_0x275df5(0x127)+_0x5448e7['message']);}}async[a0_0x299ca5(0x7e3)](_0x12497,_0x1adb2f){const _0x3fa07a=a0_0x299ca5;let _0x4701a8=_0x1adb2f['block'][_0x3fa07a(0x898)],_0x26dfa4=_0x12497[_0x3fa07a(0x3b2)][_0x3fa07a(0x2b7)](_0x5b80e4=>_0x5b80e4[_0x3fa07a(0x898)]['toString']()===_0x4701a8);if(!_0x26dfa4){this[_0x3fa07a(0x31f)][_0x3fa07a(0x77f)](this[_0x3fa07a(0x8b7)]+'\x20('+this['instance']['wuid']+_0x3fa07a(0x37e)+_0x4701a8+_0x3fa07a(0x6cf));return;}this['logger'][_0x3fa07a(0x8bd)](this[_0x3fa07a(0x8b7)]+'\x20('+this[_0x3fa07a(0x4dd)][_0x3fa07a(0x851)]+_0x3fa07a(0x22c)+JSON['stringify'](_0x26dfa4));let _0x56f7eb=JSON['parse'](JSON[_0x3fa07a(0x6ed)](_0x26dfa4));_0x56f7eb[_0x3fa07a(0x898)]=new he[(_0x3fa07a(0x222))]['Types']['ObjectId'](),this[_0x3fa07a(0x31f)][_0x3fa07a(0x8bd)](this['instanceName']+'\x20('+this[_0x3fa07a(0x4dd)]['wuid']+_0x3fa07a(0x617)+JSON[_0x3fa07a(0x6ed)](_0x56f7eb)),_0x12497['blocks'][_0x3fa07a(0x2b6)](_0x56f7eb),this['reorderBlocks'](_0x12497['blocks'],_0x56f7eb[_0x3fa07a(0x60d)]);}[a0_0x299ca5(0x750)](_0x3e01e3){const _0x23ef29=a0_0x299ca5;throw this[_0x23ef29(0x31f)][_0x23ef29(0x77f)](this['instanceName']+'\x20('+this[_0x23ef29(0x4dd)][_0x23ef29(0x851)]+_0x23ef29(0x215)+_0x3e01e3),new m(_0x3e01e3);}[a0_0x299ca5(0x2f2)](_0x1e8498,_0x51c817){const _0x35235f=a0_0x299ca5;let {block:_0x1cc4c0}=_0x51c817;if(_0x1cc4c0[_0x35235f(0x82f)]===_0x35235f(0x365)){this['throwAndLogError'](_0x35235f(0x623));return;}if(!_0x1cc4c0[_0x35235f(0x898)]){this[_0x35235f(0x750)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x48bc05=_0x1e8498[_0x35235f(0x3b2)][_0x35235f(0x2b7)](_0x74d83b=>_0x74d83b[_0x35235f(0x898)][_0x35235f(0x5a7)]()===_0x51c817[_0x35235f(0x30b)][_0x35235f(0x898)][_0x35235f(0x5a7)]());if(!_0x48bc05){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x1cc4c0[_0x35235f(0x898)]+_0x35235f(0x1fa));return;}_0x1e8498[_0x35235f(0x3b2)]=_0x1e8498[_0x35235f(0x3b2)]['filter'](_0x430f2f=>_0x430f2f[_0x35235f(0x898)][_0x35235f(0x5a7)]()!==_0x51c817[_0x35235f(0x30b)][_0x35235f(0x898)]['toString']()),_0x1e8498[_0x35235f(0x28b)]=_0x1e8498[_0x35235f(0x28b)][_0x35235f(0x67c)](_0x40ca6c=>_0x40ca6c['blockId']!==_0x1cc4c0[_0x35235f(0x898)][_0x35235f(0x5a7)]()),_0x1e8498['varedits']=_0x1e8498[_0x35235f(0x889)][_0x35235f(0x67c)](_0x2992f9=>_0x2992f9[_0x35235f(0x659)]!==_0x1cc4c0[_0x35235f(0x898)][_0x35235f(0x5a7)]()),_0x1e8498[_0x35235f(0x771)]=_0x1e8498[_0x35235f(0x771)][_0x35235f(0x67c)](_0x558199=>_0x558199['blockId']!==_0x1cc4c0[_0x35235f(0x898)][_0x35235f(0x5a7)]()),this[_0x35235f(0x157)](_0x1e8498[_0x35235f(0x3b2)],_0x48bc05[_0x35235f(0x60d)]);}async[a0_0x299ca5(0x1b6)](_0x57a2d8,_0x11aef8){const _0x2b821f=a0_0x299ca5;let _0x4274bb=_0x57a2d8[_0x2b821f(0x3b2)][_0x2b821f(0x8c7)](_0x13fae1=>_0x13fae1[_0x2b821f(0x898)][_0x2b821f(0x5a7)]()===_0x11aef8[_0x2b821f(0x30b)][_0x2b821f(0x898)]['toString']());if(this[_0x2b821f(0x31f)][_0x2b821f(0x8bd)](this[_0x2b821f(0x8b7)]+'\x20('+this[_0x2b821f(0x4dd)][_0x2b821f(0x851)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x4274bb),_0x4274bb===-0x1){this['logger']['verbose'](_0x2b821f(0x3fe)+_0x11aef8['block']['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x82f)]===_0x2b821f(0x365)){let _0x3d1478=Object[_0x2b821f(0x791)](_0x11aef8[_0x2b821f(0x30b)]);if(_0x3d1478[_0x2b821f(0x84b)]>0x2||_0x3d1478[_0x2b821f(0x84b)]===0x2&&!_0x3d1478['includes'](_0x2b821f(0x452))){this[_0x2b821f(0x750)](_0x2b821f(0x26b));return;}}let _0x354f39=_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x60d)];for(let _0x26b1ae in _0x11aef8[_0x2b821f(0x30b)])_0x11aef8[_0x2b821f(0x30b)][_0x2b821f(0x712)](_0x26b1ae)&&(_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x26b1ae]=_0x11aef8[_0x2b821f(0x30b)][_0x26b1ae]);if(this[_0x2b821f(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x2b821f(0x4dd)][_0x2b821f(0x851)]+_0x2b821f(0x846)+JSON[_0x2b821f(0x6ed)](_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb])),_0x57a2d8['blocks'][_0x4274bb][_0x2b821f(0x341)]&&_0x2b821f(0x7ed)in _0x57a2d8['blocks'][_0x4274bb][_0x2b821f(0x341)]){this[_0x2b821f(0x31f)][_0x2b821f(0x8bd)](this[_0x2b821f(0x8b7)]+'\x20('+this[_0x2b821f(0x4dd)][_0x2b821f(0x851)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3bf9cb=JSON[_0x2b821f(0x6ed)](_0x57a2d8['blocks'][_0x4274bb]['apirequest'][_0x2b821f(0x7ed)],null,0x1);_0x3bf9cb[_0x2b821f(0x84b)]>0x2&&(_0x3bf9cb=_0x3bf9cb['substring'](0x1,_0x3bf9cb[_0x2b821f(0x84b)]-0x1)[_0x2b821f(0x3a7)]()),_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)][_0x2b821f(0x33f)]=_0x3bf9cb;}if(_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)]&&_0x2b821f(0x3e6)in _0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)]&&!(_0x2b821f(0x41e)in _0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb]['apirequest'])){this[_0x2b821f(0x31f)][_0x2b821f(0x8bd)](this[_0x2b821f(0x8b7)]+'\x20('+this[_0x2b821f(0x4dd)][_0x2b821f(0x851)]+_0x2b821f(0x34b)),_0x57a2d8['blocks'][_0x4274bb][_0x2b821f(0x341)][_0x2b821f(0x8e8)]=!0x1;let _0x1e0bce=JSON[_0x2b821f(0x6ed)](_0x57a2d8['blocks'][_0x4274bb][_0x2b821f(0x341)]['body'],null,0x2);_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb]['apirequest'][_0x2b821f(0x41e)]=_0x1e0bce;}if(_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)]&&_0x2b821f(0x41e)in _0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)]){_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)][_0x2b821f(0x8e8)]=!0x1;let _0x123d7a=_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)][_0x2b821f(0x41e)],_0x1047e6=this[_0x2b821f(0x829)](_0x123d7a);_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb]['apirequest'][_0x2b821f(0x41e)]=_0x1047e6['result'],_0x57a2d8[_0x2b821f(0x3b2)][_0x4274bb][_0x2b821f(0x341)]['bodyStringErrorParse']=_0x1047e6[_0x2b821f(0x77f)];}let _0x6c0ed6=_0x57a2d8['blocks'][_0x4274bb][_0x2b821f(0x60d)];_0x354f39!==_0x6c0ed6?(this[_0x2b821f(0x157)](_0x57a2d8[_0x2b821f(0x3b2)],_0x354f39),this[_0x2b821f(0x157)](_0x57a2d8[_0x2b821f(0x3b2)],_0x6c0ed6)):this[_0x2b821f(0x157)](_0x57a2d8['blocks'],_0x354f39);}[a0_0x299ca5(0x829)](_0x35e149){const _0x240cbc=a0_0x299ca5;let _0x5d5525='\u205f',_0x4de5b6=!0x1,_0x43ccdc='';for(let _0x24eabd=0x0;_0x24eabd<_0x35e149[_0x240cbc(0x84b)];_0x24eabd++){let _0x2db455=_0x35e149[_0x24eabd];_0x2db455==='\x22'&&(_0x24eabd===0x0||_0x35e149[_0x24eabd-0x1]!=='\x5c')&&(_0x4de5b6=!_0x4de5b6),!(!_0x4de5b6&&(_0x2db455==='\x0a'||_0x2db455==='\x20'||_0x2db455===_0x5d5525))&&(_0x43ccdc+=_0x2db455);}let _0x1ac775={},_0x246d8d=9876543210.1234,_0x377f48=_0x43ccdc[_0x240cbc(0x35f)](/\{\{([^}]+)\}\}/g,_0x4522eb=>{let _0x39cc89=_0x4522eb,_0x19f700=''+_0x246d8d;return _0x1ac775[_0x19f700]=_0x39cc89,_0x246d8d+=0.0001,_0x19f700;}),_0x3a4282='',_0x3fa607=!0x1;try{let _0x1d2616=JSON[_0x240cbc(0x24f)](_0x377f48);_0x3a4282=JSON[_0x240cbc(0x6ed)](_0x1d2616,null,0x2),_0x3a4282=_0x3a4282[_0x240cbc(0x35f)](/\n( +)/g,(_0x5a2681,_0x4bd436)=>{const _0x2c41a8=_0x240cbc;let _0x10d911=_0x4bd436[_0x2c41a8(0x84b)];return'\x0a'+_0x5d5525[_0x2c41a8(0x16e)](_0x10d911*0x2);}),_0x3a4282=_0x3a4282['replace'](/(\d{10,}\.\d+)/g,_0x55e333=>_0x1ac775[_0x55e333]||_0x55e333);}catch(_0x17d465){this['logger'][_0x240cbc(0x77f)](_0x240cbc(0x3e7)+_0x17d465),_0x3a4282=_0x35e149,_0x3fa607=!0x0;}return{'result':_0x3a4282,'error':_0x3fa607};}[a0_0x299ca5(0x582)](_0x592e18,_0x43b3d1){const _0x15a3e7=a0_0x299ca5;if(_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x82f)]==='start'){this[_0x15a3e7(0x750)](_0x15a3e7(0x450));return;}if(_0x43b3d1['block'][_0x15a3e7(0x341)]&&_0x15a3e7(0x7ed)in _0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)]){this[_0x15a3e7(0x31f)][_0x15a3e7(0x8bd)](this[_0x15a3e7(0x8b7)]+'\x20('+this['instance'][_0x15a3e7(0x851)]+_0x15a3e7(0x1c8));let _0x2c5613=JSON[_0x15a3e7(0x6ed)](_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)][_0x15a3e7(0x7ed)],null,0x1);_0x2c5613[_0x15a3e7(0x84b)]>0x2&&(_0x2c5613=_0x2c5613[_0x15a3e7(0x436)](0x1,_0x2c5613[_0x15a3e7(0x84b)]-0x1)[_0x15a3e7(0x3a7)]()),_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)][_0x15a3e7(0x33f)]=_0x2c5613;}_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)]&&_0x15a3e7(0x3e6)in _0x43b3d1['block']['apirequest']&&(this[_0x15a3e7(0x31f)][_0x15a3e7(0x8bd)](this[_0x15a3e7(0x8b7)]+'\x20('+this['instance'][_0x15a3e7(0x851)]+_0x15a3e7(0x34b)),_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)][_0x15a3e7(0x41e)]=JSON[_0x15a3e7(0x6ed)](_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x341)][_0x15a3e7(0x3e6)],null,0x1)['trim']()),_0x592e18['blocks']['push'](_0x43b3d1[_0x15a3e7(0x30b)]),this[_0x15a3e7(0x157)](_0x592e18[_0x15a3e7(0x3b2)],_0x43b3d1[_0x15a3e7(0x30b)][_0x15a3e7(0x60d)]);}[a0_0x299ca5(0x157)](_0x5d8eba,_0x10ce40){const _0x2f588a=a0_0x299ca5;let _0x20991e=_0x5d8eba[_0x2f588a(0x67c)](_0x98b8b9=>_0x98b8b9['groupId']===_0x10ce40);_0x20991e[_0x2f588a(0x277)]((_0x281116,_0xddd0d6)=>_0x281116[_0x2f588a(0x4b4)]-_0xddd0d6[_0x2f588a(0x4b4)]),_0x20991e['forEach']((_0x35af81,_0x4316fd)=>_0x35af81[_0x2f588a(0x4b4)]=_0x4316fd+0x1);}async[a0_0x299ca5(0x3ba)](_0x19a97c){const _0x22909c=a0_0x299ca5;try{if(this[_0x22909c(0x31f)][_0x22909c(0x8bd)](this[_0x22909c(0x8b7)]+'\x20('+this[_0x22909c(0x4dd)][_0x22909c(0x851)]+_0x22909c(0x684)),!_0x19a97c||!_0x19a97c[_0x22909c(0x8ba)]){this[_0x22909c(0x750)](_0x22909c(0x3ab));return;}if(!this[_0x22909c(0x42c)][_0x22909c(0x264)][_0x22909c(0x2b7)](_0x4d86cb=>_0x4d86cb['_id']===_0x19a97c[_0x22909c(0x898)]))throw this[_0x22909c(0x31f)][_0x22909c(0x8bd)](this[_0x22909c(0x8b7)]+'\x20('+this[_0x22909c(0x4dd)]['wuid']+'):\x20Fluxo\x20\x27'+_0x19a97c[_0x22909c(0x898)]+_0x22909c(0x766)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x566fc2=await this[_0x22909c(0x7d6)][_0x22909c(0x65f)]['findOne']({'where':{'_id':_0x19a97c['_id']}});if(!_0x566fc2||!_0x566fc2[_0x22909c(0x135)]?.['includes'](this[_0x22909c(0x4dd)]['wuid']))throw this[_0x22909c(0x31f)][_0x22909c(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x22909c(0x851)]+_0x22909c(0x2aa)+_0x19a97c['_id']+_0x22909c(0x583)),new m('Flow\x20\x27'+_0x19a97c[_0x22909c(0x898)]+_0x22909c(0x583));if(!_0x566fc2[_0x22909c(0x454)]?.[_0x22909c(0x457)](this[_0x22909c(0x4dd)][_0x22909c(0x851)]))throw new m(_0x22909c(0x351));let {replyOption:_0x3f6d69}=_0x19a97c;_0x3f6d69?.[_0x22909c(0x3be)]?(this['deleteReplyOption'](_0x566fc2,_0x19a97c),this[_0x22909c(0x218)](_0x566fc2[_0x22909c(0x771)],_0x19a97c[_0x22909c(0x8ba)][_0x22909c(0x659)])):_0x3f6d69[_0x22909c(0x898)]?(await this[_0x22909c(0x6fd)](_0x566fc2,_0x19a97c),this[_0x22909c(0x218)](_0x566fc2[_0x22909c(0x771)],_0x19a97c[_0x22909c(0x8ba)][_0x22909c(0x659)])):(this[_0x22909c(0x543)](_0x566fc2,_0x19a97c),this[_0x22909c(0x218)](_0x566fc2[_0x22909c(0x771)],_0x19a97c['replyOption'][_0x22909c(0x659)]));let _0x4f2110=await this[_0x22909c(0x7d6)][_0x22909c(0x65f)][_0x22909c(0x3ff)](_0x566fc2['_id'],_0x566fc2);if(!_0x4f2110)throw new Error(_0x22909c(0x2ec));return _0x4f2110;}catch(_0x5d8379){this[_0x22909c(0x750)](_0x22909c(0x361)+_0x5d8379);}}[a0_0x299ca5(0x218)](_0x5d16fe,_0x369a0b){const _0x2da40f=a0_0x299ca5;_0x5d16fe[_0x2da40f(0x613)](_0x819fea=>{const _0x6c8b9b=_0x2da40f;_0x819fea[_0x6c8b9b(0x659)]===_0x369a0b&&_0x819fea['order']===void 0x0&&(_0x819fea[_0x6c8b9b(0x4b4)]=0x270f);});let _0x37fe15=_0x5d16fe[_0x2da40f(0x67c)](_0x4224e=>_0x4224e[_0x2da40f(0x659)]===_0x369a0b);_0x37fe15[_0x2da40f(0x277)]((_0x2a0155,_0x352c64)=>_0x2a0155[_0x2da40f(0x4b4)]-_0x352c64[_0x2da40f(0x4b4)]),_0x37fe15[_0x2da40f(0x613)]((_0x27c35a,_0x2f02a9)=>{const _0x560226=_0x2da40f;_0x27c35a[_0x560226(0x4b4)]=_0x2f02a9+0x1;}),_0x5d16fe[_0x2da40f(0x613)](_0x27444a=>{const _0x5b5a86=_0x2da40f;if(_0x27444a[_0x5b5a86(0x659)]===_0x369a0b){let _0x3e73fd=_0x37fe15['find'](_0x16be34=>_0x16be34[_0x5b5a86(0x898)]&&_0x27444a[_0x5b5a86(0x898)]&&_0x16be34['_id'][_0x5b5a86(0x5a7)]()===_0x27444a[_0x5b5a86(0x898)][_0x5b5a86(0x5a7)]());_0x3e73fd&&(_0x27444a[_0x5b5a86(0x4b4)]=_0x3e73fd[_0x5b5a86(0x4b4)]);}});}['deleteReplyOption'](_0x56b6c6,_0x48b816){const _0x20dee7=a0_0x299ca5;let {replyOption:_0x4b33f7}=_0x48b816;if(!_0x4b33f7[_0x20dee7(0x898)]){this[_0x20dee7(0x750)](_0x20dee7(0x69e));return;}if(!_0x56b6c6['replyOptions']['find'](_0x392ce8=>_0x392ce8[_0x20dee7(0x898)][_0x20dee7(0x5a7)]()===_0x48b816['replyOption']['_id'][_0x20dee7(0x5a7)]())){this[_0x20dee7(0x750)]('ReplyOption\x20com\x20ID\x20'+_0x4b33f7['_id']+_0x20dee7(0x1fa));return;}_0x56b6c6[_0x20dee7(0x771)]=_0x56b6c6[_0x20dee7(0x771)]['filter'](_0x1a2d14=>_0x1a2d14[_0x20dee7(0x898)][_0x20dee7(0x5a7)]()!==_0x48b816[_0x20dee7(0x8ba)][_0x20dee7(0x898)][_0x20dee7(0x5a7)]());}async[a0_0x299ca5(0x6fd)](_0x2ccb3c,_0x3ba303){const _0x150c83=a0_0x299ca5;let _0x199726=_0x2ccb3c[_0x150c83(0x771)][_0x150c83(0x8c7)](_0x34fa3e=>_0x34fa3e[_0x150c83(0x898)][_0x150c83(0x5a7)]()===_0x3ba303[_0x150c83(0x8ba)][_0x150c83(0x898)]['toString']());if(_0x199726===-0x1){this[_0x150c83(0x750)](_0x150c83(0x48c)+_0x3ba303[_0x150c83(0x8ba)][_0x150c83(0x898)]+_0x150c83(0x325));return;}for(let _0x3deb3f in _0x3ba303['replyOption'])_0x3ba303['replyOption']['hasOwnProperty'](_0x3deb3f)&&(_0x2ccb3c[_0x150c83(0x771)][_0x199726][_0x3deb3f]=_0x3ba303[_0x150c83(0x8ba)][_0x3deb3f]);}[a0_0x299ca5(0x543)](_0x188c2c,_0xefbac1){const _0x58a827=a0_0x299ca5;_0x188c2c['replyOptions'][_0x58a827(0x2b6)](_0xefbac1[_0x58a827(0x8ba)]);}async[a0_0x299ca5(0x49b)](_0x14b8c0){const _0x3c30ea=a0_0x299ca5;this[_0x3c30ea(0x31f)][_0x3c30ea(0x8bd)](this['instanceName']+'\x20('+this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]+_0x3c30ea(0x248)+JSON[_0x3c30ea(0x6ed)](_0x14b8c0,null,0x2));try{if(this['logger'][_0x3c30ea(0x8bd)](this['instanceName']+'\x20('+this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x3c30ea(0x42c)][_0x3c30ea(0x264)][_0x3c30ea(0x2b7)](_0xb9569d=>_0xb9569d['_id']===_0x14b8c0['_id']))throw this[_0x3c30ea(0x31f)][_0x3c30ea(0x8bd)](this[_0x3c30ea(0x8b7)]+'\x20('+this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]+_0x3c30ea(0x596)+_0x14b8c0[_0x3c30ea(0x898)]+_0x3c30ea(0x766)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5687ea=await this[_0x3c30ea(0x7d6)][_0x3c30ea(0x65f)][_0x3c30ea(0x151)]({'where':{'_id':_0x14b8c0[_0x3c30ea(0x898)]}});if(!_0x5687ea||!_0x5687ea['whoCanUse']?.[_0x3c30ea(0x457)](this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]))throw this[_0x3c30ea(0x31f)][_0x3c30ea(0x77f)](this[_0x3c30ea(0x8b7)]+'\x20('+this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]+_0x3c30ea(0x2aa)+_0x14b8c0['_id']+_0x3c30ea(0x583)),new m(_0x3c30ea(0x8a8)+_0x14b8c0[_0x3c30ea(0x898)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5687ea[_0x3c30ea(0x454)]?.[_0x3c30ea(0x457)](this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]))throw new m(_0x3c30ea(0x351));if(_0x14b8c0['group']&&_0x14b8c0[_0x3c30ea(0x76a)]?.[_0x3c30ea(0x3be)]===!0x0){if(this[_0x3c30ea(0x31f)][_0x3c30ea(0x8bd)](this['instanceName']+'\x20('+this[_0x3c30ea(0x4dd)][_0x3c30ea(0x851)]+_0x3c30ea(0x251)),_0x14b8c0[_0x3c30ea(0x76a)][_0x3c30ea(0x222)]===!0x0)return{'message':_0x3c30ea(0x81b)};if(_0x5687ea[_0x3c30ea(0x3b2)][_0x3c30ea(0x3b1)](_0x501301=>_0x501301[_0x3c30ea(0x60d)][_0x3c30ea(0x5a7)]()===_0x14b8c0[_0x3c30ea(0x76a)][_0x3c30ea(0x898)]))return this[_0x3c30ea(0x31f)][_0x3c30ea(0x8bd)](this[_0x3c30ea(0x8b7)]+'\x20('+this['instance']['wuid']+'):\x20tem\x20blocks'),{'message':_0x3c30ea(0x504)};_0x5687ea[_0x3c30ea(0x732)]=_0x5687ea[_0x3c30ea(0x732)][_0x3c30ea(0x67c)](_0x39c20d=>_0x39c20d[_0x3c30ea(0x898)]['toString']()!==_0x14b8c0[_0x3c30ea(0x76a)]['_id']);}else{if(_0x14b8c0[_0x3c30ea(0x76a)]){if(_0x14b8c0[_0x3c30ea(0x76a)][_0x3c30ea(0x222)]===!0x0)return{'message':_0x3c30ea(0x48e)};if(_0x14b8c0['group']['_id']){let _0x155a35=_0x5687ea['groups'][_0x3c30ea(0x2b7)](_0x10eb62=>_0x10eb62[_0x3c30ea(0x898)][_0x3c30ea(0x5a7)]()===_0x14b8c0['group'][_0x3c30ea(0x898)]);_0x155a35&&(_0x14b8c0[_0x3c30ea(0x76a)]['x']<0x0&&(_0x14b8c0[_0x3c30ea(0x76a)]['x']=0x0),_0x14b8c0['group']['y']<0x0&&(_0x14b8c0[_0x3c30ea(0x76a)]['y']=0x0),Object['assign'](_0x155a35,_0x14b8c0[_0x3c30ea(0x76a)]));}else _0x5687ea['groups'][_0x3c30ea(0x2b6)](_0x14b8c0[_0x3c30ea(0x76a)]);}}let _0x1f0ba1=await this[_0x3c30ea(0x7d6)]['flow'][_0x3c30ea(0x3ff)](_0x5687ea[_0x3c30ea(0x898)],_0x5687ea);if(!_0x1f0ba1)throw new Error(_0x3c30ea(0x2ec));return _0x1f0ba1;}catch(_0x32e42e){let _0x44e9c7=_0x3c30ea(0x1c1),_0x691d57=_0x32e42e instanceof Error?_0x32e42e[_0x3c30ea(0x503)]:typeof _0x32e42e=='object'?JSON[_0x3c30ea(0x6ed)](_0x32e42e):_0x32e42e,_0x5c93ca=_0x44e9c7+':\x20'+_0x691d57;throw this[_0x3c30ea(0x31f)][_0x3c30ea(0x77f)](this[_0x3c30ea(0x8b7)]+'\x20('+this[_0x3c30ea(0x4dd)]['wuid']+_0x3c30ea(0x215)+_0x5c93ca),new m(_0x5c93ca);}}async[a0_0x299ca5(0x4d2)](_0x3a496f){const _0x5a30c9=a0_0x299ca5;try{if(this[_0x5a30c9(0x31f)][_0x5a30c9(0x8bd)](this[_0x5a30c9(0x8b7)]+'\x20('+this['instance'][_0x5a30c9(0x851)]+_0x5a30c9(0x3c5)),!this[_0x5a30c9(0x42c)][_0x5a30c9(0x264)][_0x5a30c9(0x2b7)](_0x25f02d=>_0x25f02d[_0x5a30c9(0x898)]===_0x3a496f[_0x5a30c9(0x898)]))throw this[_0x5a30c9(0x31f)][_0x5a30c9(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x5a30c9(0x851)]+_0x5a30c9(0x596)+_0x3a496f[_0x5a30c9(0x898)]+_0x5a30c9(0x766)),new m(_0x5a30c9(0x611));let _0x4b7151=await this[_0x5a30c9(0x7d6)][_0x5a30c9(0x65f)][_0x5a30c9(0x151)]({'where':{'_id':_0x3a496f['_id']}});if(!_0x4b7151||!_0x4b7151[_0x5a30c9(0x135)]?.[_0x5a30c9(0x457)](this[_0x5a30c9(0x4dd)][_0x5a30c9(0x851)]))throw this[_0x5a30c9(0x31f)][_0x5a30c9(0x77f)](this[_0x5a30c9(0x8b7)]+'\x20('+this[_0x5a30c9(0x4dd)]['wuid']+_0x5a30c9(0x2aa)+_0x3a496f[_0x5a30c9(0x898)]+_0x5a30c9(0x583)),new m(_0x5a30c9(0x8a8)+_0x3a496f[_0x5a30c9(0x898)]+_0x5a30c9(0x583));if(!_0x4b7151[_0x5a30c9(0x454)]?.[_0x5a30c9(0x457)](this[_0x5a30c9(0x4dd)]['wuid']))throw new m(_0x5a30c9(0x351));let _0x843f2d=!0x1;if(_0x3a496f[_0x5a30c9(0x2e2)]?.['delete']===!0x0)_0x4b7151[_0x5a30c9(0x28b)]=_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x67c)](_0x4ef71d=>_0x4ef71d&&_0x3a496f[_0x5a30c9(0x2e2)]&&_0x4ef71d[_0x5a30c9(0x898)]&&_0x3a496f['condition'][_0x5a30c9(0x898)]&&_0x4ef71d[_0x5a30c9(0x898)]['toString']()!==_0x3a496f[_0x5a30c9(0x2e2)][_0x5a30c9(0x898)][_0x5a30c9(0x5a7)]()),_0x843f2d=!0x0;else{let _0x36147e=_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x2b7)](_0x3fc10b=>_0x3fc10b&&_0x3a496f['condition']&&_0x3fc10b['_id']&&_0x3a496f['condition'][_0x5a30c9(0x898)]&&_0x3fc10b[_0x5a30c9(0x898)][_0x5a30c9(0x5a7)]()===_0x3a496f[_0x5a30c9(0x2e2)][_0x5a30c9(0x898)]['toString']());_0x36147e?(_0x843f2d=_0x36147e[_0x5a30c9(0x4b4)]!==_0x3a496f['condition'][_0x5a30c9(0x4b4)],Object[_0x5a30c9(0x243)](_0x36147e,_0x3a496f[_0x5a30c9(0x2e2)])):(_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x2b6)](_0x3a496f[_0x5a30c9(0x2e2)]),_0x843f2d=!0x0);}if(_0x843f2d){_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x277)]((_0x27300a,_0x5d35fb)=>_0x27300a[_0x5a30c9(0x4b4)]>_0x5d35fb['order']?0x1:_0x5d35fb['order']>_0x27300a['order']?-0x1:0x0);for(let _0x3adfaa=0x0;_0x3adfaa<_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x84b)];_0x3adfaa++)_0x4b7151[_0x5a30c9(0x28b)][_0x3adfaa][_0x5a30c9(0x4b4)]=_0x3adfaa+0x1;_0x4b7151[_0x5a30c9(0x28b)][_0x5a30c9(0x84b)]>0x0&&(_0x4b7151[_0x5a30c9(0x28b)][0x0][_0x5a30c9(0x3f0)]=_0x5a30c9(0x203));}let _0x50fba5=await this[_0x5a30c9(0x7d6)][_0x5a30c9(0x65f)][_0x5a30c9(0x3ff)](_0x4b7151[_0x5a30c9(0x898)],_0x4b7151);if(!_0x50fba5)throw new Error(_0x5a30c9(0x2ec));return _0x50fba5;}catch(_0xf14c21){let _0x1da4b7='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x270ecb=_0xf14c21 instanceof Error?_0xf14c21[_0x5a30c9(0x503)]:typeof _0xf14c21==_0x5a30c9(0x6dc)?JSON[_0x5a30c9(0x6ed)](_0xf14c21):_0xf14c21,_0x3ff3fe=_0x1da4b7+':\x20'+_0x270ecb;throw this[_0x5a30c9(0x31f)][_0x5a30c9(0x77f)](this['instanceName']+'\x20('+this[_0x5a30c9(0x4dd)]['wuid']+'):\x20'+_0x3ff3fe),new m(_0x3ff3fe);}}async[a0_0x299ca5(0x6e0)](_0x558399){const _0x1c405f=a0_0x299ca5;try{if(this[_0x1c405f(0x31f)]['verbose'](this[_0x1c405f(0x8b7)]+'\x20('+this[_0x1c405f(0x4dd)][_0x1c405f(0x851)]+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x1c405f(0x42c)][_0x1c405f(0x264)]['find'](_0x18fc4c=>_0x18fc4c['_id']===_0x558399[_0x1c405f(0x898)]))throw this['logger'][_0x1c405f(0x8bd)](this[_0x1c405f(0x8b7)]+'\x20('+this[_0x1c405f(0x4dd)][_0x1c405f(0x851)]+_0x1c405f(0x596)+_0x558399[_0x1c405f(0x898)]+_0x1c405f(0x766)),new m(_0x1c405f(0x611));let _0x487002=await this[_0x1c405f(0x7d6)][_0x1c405f(0x65f)][_0x1c405f(0x151)]({'where':{'_id':_0x558399['_id']}});if(!_0x487002||!_0x487002[_0x1c405f(0x135)]?.['includes'](this[_0x1c405f(0x4dd)][_0x1c405f(0x851)]))throw this[_0x1c405f(0x31f)][_0x1c405f(0x77f)](this[_0x1c405f(0x8b7)]+'\x20('+this[_0x1c405f(0x4dd)][_0x1c405f(0x851)]+_0x1c405f(0x2aa)+_0x558399['_id']+_0x1c405f(0x583)),new m(_0x1c405f(0x8a8)+_0x558399[_0x1c405f(0x898)]+_0x1c405f(0x583));if(!_0x487002[_0x1c405f(0x454)]?.[_0x1c405f(0x457)](this[_0x1c405f(0x4dd)][_0x1c405f(0x851)]))throw new m(_0x1c405f(0x351));let _0x57af85=!0x1;if(_0x558399[_0x1c405f(0x43d)]?.['delete']===!0x0)_0x487002[_0x1c405f(0x889)]=_0x487002[_0x1c405f(0x889)][_0x1c405f(0x67c)](_0x415cff=>_0x415cff&&_0x558399[_0x1c405f(0x43d)]&&_0x415cff[_0x1c405f(0x898)]&&_0x558399['varedit']['_id']&&_0x415cff['_id'][_0x1c405f(0x5a7)]()!==_0x558399[_0x1c405f(0x43d)][_0x1c405f(0x898)][_0x1c405f(0x5a7)]()),_0x57af85=!0x0;else{let _0x34adf2=_0x487002[_0x1c405f(0x889)]['find'](_0x3f8b1d=>_0x3f8b1d&&_0x558399[_0x1c405f(0x43d)]&&_0x3f8b1d[_0x1c405f(0x898)]&&_0x558399[_0x1c405f(0x43d)]['_id']&&_0x3f8b1d['_id'][_0x1c405f(0x5a7)]()===_0x558399[_0x1c405f(0x43d)]['_id'][_0x1c405f(0x5a7)]());_0x34adf2?(_0x57af85=_0x34adf2[_0x1c405f(0x4b4)]!==_0x558399[_0x1c405f(0x43d)][_0x1c405f(0x4b4)],Object['assign'](_0x34adf2,_0x558399[_0x1c405f(0x43d)])):(_0x487002[_0x1c405f(0x889)]['push'](_0x558399[_0x1c405f(0x43d)]),_0x57af85=!0x0);}if(_0x57af85){_0x487002['varedits'][_0x1c405f(0x277)]((_0xfd5024,_0x3ad0d6)=>_0xfd5024[_0x1c405f(0x4b4)]>_0x3ad0d6[_0x1c405f(0x4b4)]?0x1:_0x3ad0d6['order']>_0xfd5024[_0x1c405f(0x4b4)]?-0x1:0x0);for(let _0x10ed3a=0x0;_0x10ed3a<_0x487002[_0x1c405f(0x889)][_0x1c405f(0x84b)];_0x10ed3a++)_0x487002['varedits'][_0x10ed3a][_0x1c405f(0x4b4)]=_0x10ed3a+0x1;}let _0x46201b=await this['repository'][_0x1c405f(0x65f)][_0x1c405f(0x3ff)](_0x487002[_0x1c405f(0x898)],_0x487002);if(!_0x46201b)throw new Error(_0x1c405f(0x2ec));return _0x46201b;}catch(_0x4d2c74){let _0x426a19=_0x1c405f(0x27a),_0x236cc6=_0x4d2c74 instanceof Error?_0x4d2c74['message']:typeof _0x4d2c74==_0x1c405f(0x6dc)?JSON[_0x1c405f(0x6ed)](_0x4d2c74):_0x4d2c74,_0x3f7a92=_0x426a19+':\x20'+_0x236cc6;throw this[_0x1c405f(0x31f)][_0x1c405f(0x77f)](this[_0x1c405f(0x8b7)]+'\x20('+this['instance'][_0x1c405f(0x851)]+_0x1c405f(0x215)+_0x3f7a92),new m(_0x3f7a92);}}async['editFlowVariable'](_0x548e92){const _0x4e343c=a0_0x299ca5;try{if(this[_0x4e343c(0x31f)][_0x4e343c(0x8bd)](this[_0x4e343c(0x8b7)]+'\x20('+this[_0x4e343c(0x4dd)][_0x4e343c(0x851)]+_0x4e343c(0x657)),!this[_0x4e343c(0x42c)]['flows'][_0x4e343c(0x2b7)](_0x1e62d6=>_0x1e62d6[_0x4e343c(0x898)]===_0x548e92[_0x4e343c(0x898)]))throw this[_0x4e343c(0x31f)][_0x4e343c(0x8bd)](this[_0x4e343c(0x8b7)]+'\x20('+this[_0x4e343c(0x4dd)]['wuid']+_0x4e343c(0x596)+_0x548e92[_0x4e343c(0x898)]+_0x4e343c(0x766)),new m(_0x4e343c(0x611));let _0x42f5a3=await this[_0x4e343c(0x7d6)][_0x4e343c(0x65f)][_0x4e343c(0x151)]({'where':{'_id':_0x548e92[_0x4e343c(0x898)]}});if(!_0x42f5a3||!_0x42f5a3[_0x4e343c(0x135)]?.['includes'](this[_0x4e343c(0x4dd)]['wuid']))throw this[_0x4e343c(0x31f)][_0x4e343c(0x77f)](this[_0x4e343c(0x8b7)]+'\x20('+this[_0x4e343c(0x4dd)][_0x4e343c(0x851)]+_0x4e343c(0x2aa)+_0x548e92['_id']+_0x4e343c(0x583)),new m(_0x4e343c(0x8a8)+_0x548e92['_id']+_0x4e343c(0x583));if(!_0x42f5a3[_0x4e343c(0x454)]?.[_0x4e343c(0x457)](this[_0x4e343c(0x4dd)]['wuid']))throw new m(_0x4e343c(0x351));_0x548e92['variable'][_0x4e343c(0x5d0)]=_0x548e92[_0x4e343c(0x3a5)][_0x4e343c(0x5d0)]['trim'](),_0x548e92['variable']['name'][_0x4e343c(0x664)]('_')&&(_0x548e92['variable'][_0x4e343c(0x5d0)]=_0x548e92[_0x4e343c(0x3a5)][_0x4e343c(0x5d0)]['substring'](0x1)),_0x548e92[_0x4e343c(0x3a5)][_0x4e343c(0x5d0)]=_0x548e92[_0x4e343c(0x3a5)][_0x4e343c(0x5d0)][_0x4e343c(0x3a7)]();let _0x5bf622=_0x42f5a3[_0x4e343c(0x2c0)][_0x4e343c(0x2b7)](_0x305260=>_0x305260['name']===_0x548e92[_0x4e343c(0x3a5)][_0x4e343c(0x5d0)]);if(_0x5bf622?.['leadInfo']===!0x0)throw new Error(_0x4e343c(0x3ee));if(_0x548e92[_0x4e343c(0x3a5)]?.[_0x4e343c(0x3be)]===!0x0){if(!_0x5bf622)return{'message':_0x4e343c(0x486)};_0x42f5a3[_0x4e343c(0x2c0)]=_0x42f5a3[_0x4e343c(0x2c0)][_0x4e343c(0x67c)](_0x3ec644=>_0x3ec644[_0x4e343c(0x5d0)]!==_0x548e92[_0x4e343c(0x3a5)]['name']);}else _0x5bf622?Object[_0x4e343c(0x243)](_0x5bf622,_0x548e92['variable']):_0x42f5a3['variables'][_0x4e343c(0x2b6)](_0x548e92[_0x4e343c(0x3a5)]);let _0x238ea7=await this[_0x4e343c(0x7d6)]['flow'][_0x4e343c(0x3ff)](_0x42f5a3[_0x4e343c(0x898)],_0x42f5a3);if(!_0x238ea7)throw new Error(_0x4e343c(0x2ec));return _0x238ea7;}catch(_0x219013){let _0x30780e=_0x4e343c(0x369),_0x588084=_0x219013 instanceof Error?_0x219013[_0x4e343c(0x503)]:typeof _0x219013==_0x4e343c(0x6dc)?JSON['stringify'](_0x219013):_0x219013,_0x2b7f6c=_0x30780e+':\x20'+_0x588084;throw this[_0x4e343c(0x31f)][_0x4e343c(0x77f)](this[_0x4e343c(0x8b7)]+'\x20('+this[_0x4e343c(0x4dd)][_0x4e343c(0x851)]+'):\x20'+_0x2b7f6c),new m(_0x2b7f6c);}}async[a0_0x299ca5(0x813)](_0x2fe05d){const _0x4ca2da=a0_0x299ca5;let _0x46be79=null;try{if(!this[_0x4ca2da(0x42c)]?.[_0x4ca2da(0x32b)][_0x4ca2da(0x86b)])throw new m(_0x4ca2da(0x7c9));this['logger']['verbose'](this[_0x4ca2da(0x8b7)]+'\x20('+this['instance']['wuid']+_0x4ca2da(0x1b3));let _0x5c6438=(await this[_0x4ca2da(0x53b)]({'numbers':[_0x2fe05d[_0x4ca2da(0x530)]]}))[0x0];if(!_0x5c6438[_0x4ca2da(0x358)]&&!(0x0,w[_0x4ca2da(0x27b)])(_0x5c6438[_0x4ca2da(0x4d8)])&&!_0x5c6438['jid']['includes'](_0x4ca2da(0x4b8)))throw _0x46be79=JSON[_0x4ca2da(0x6ed)](_0x5c6438,null,0x2),new m(_0x5c6438);let _0x42254e;if(_0x2fe05d['name'][_0x4ca2da(0x84b)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x2fe05d[_0x4ca2da(0x5d0)])?_0x42254e=this[_0x4ca2da(0x42c)][_0x4ca2da(0x264)][_0x4ca2da(0x2b7)](_0x4c1d4d=>_0x4c1d4d[_0x4ca2da(0x898)]===_0x2fe05d[_0x4ca2da(0x5d0)]):_0x42254e=this[_0x4ca2da(0x42c)]['flows']['find'](_0x4fb606=>_0x4fb606['name']===_0x2fe05d['name']),!_0x42254e)throw this[_0x4ca2da(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x4ca2da(0x4dd)][_0x4ca2da(0x851)]+_0x4ca2da(0x596)+_0x2fe05d['name']+_0x4ca2da(0x766)),new m(_0x4ca2da(0x611));let _0x46188b=await this[_0x4ca2da(0x7d6)][_0x4ca2da(0x65f)][_0x4ca2da(0x151)]({'where':{'_id':_0x42254e['_id']}});if(!_0x46188b||!_0x46188b[_0x4ca2da(0x135)]?.[_0x4ca2da(0x457)](this[_0x4ca2da(0x4dd)][_0x4ca2da(0x851)]))throw this[_0x4ca2da(0x31f)][_0x4ca2da(0x77f)](this[_0x4ca2da(0x8b7)]+'\x20('+this[_0x4ca2da(0x4dd)][_0x4ca2da(0x851)]+'):\x20Flow\x20\x27'+_0x42254e['_id']+_0x4ca2da(0x583)),_0x46be79=_0x4ca2da(0x8a8)+_0x42254e[_0x4ca2da(0x898)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x46be79);let _0x1f1116=await this[_0x4ca2da(0x5ce)](_0x46188b,_0x5c6438['jid'],_0x2fe05d[_0x4ca2da(0x6d8)]);if(_0x1f1116){this[_0x4ca2da(0x31f)][_0x4ca2da(0x8bd)](this[_0x4ca2da(0x8b7)]+'\x20('+this[_0x4ca2da(0x4dd)][_0x4ca2da(0x851)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x45bd66=await this[_0x4ca2da(0x72c)](_0x1f1116);return _0x45bd66&&await this[_0x4ca2da(0x896)](_0x1f1116,_0x45bd66),{'message':_0x4ca2da(0x47d)+_0x2fe05d['remoteJid']};}}catch(_0x2b4246){if(this[_0x4ca2da(0x31f)][_0x4ca2da(0x77f)](this[_0x4ca2da(0x8b7)]+'\x20('+this['instance'][_0x4ca2da(0x851)]+_0x4ca2da(0x3c4)+(_0x2b4246 instanceof Error?_0x2b4246[_0x4ca2da(0x503)]:JSON[_0x4ca2da(0x6ed)](_0x2b4246,null,0x2))),_0x46be79=_0x2b4246 instanceof Error?_0x2b4246[_0x4ca2da(0x503)]:JSON[_0x4ca2da(0x6ed)](_0x2b4246,null,0x2),_0x46be79)throw new m(_0x4ca2da(0x198)+_0x46be79);}}async[a0_0x299ca5(0x44a)](_0xcbca44,_0x22581e,_0xbc1c81){const _0x2997d9=a0_0x299ca5;let _0x316fc3=null;try{if(!this[_0x2997d9(0x42c)]?.[_0x2997d9(0x32b)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger']['verbose'](this[_0x2997d9(0x8b7)]+'\x20('+this[_0x2997d9(0x4dd)][_0x2997d9(0x851)]+_0x2997d9(0x1b3)),_0x22581e){let _0x123512=(await this[_0x2997d9(0x53b)]({'numbers':[_0x22581e]}))[0x0];if(!_0x123512[_0x2997d9(0x358)]&&!(0x0,w[_0x2997d9(0x27b)])(_0x123512[_0x2997d9(0x4d8)])&&!_0x123512[_0x2997d9(0x4d8)]['includes'](_0x2997d9(0x4b8)))throw _0x316fc3=JSON['stringify'](_0x123512,null,0x2),new m(_0x123512);_0x22581e=_0x123512['jid'];}else _0x22581e||(_0x22581e=(0x0,Q['v4'])());let _0x19fc8b=await this['repository']['flow'][_0x2997d9(0x151)]({'where':{'_id':_0xcbca44}});if(!_0x19fc8b||!_0x19fc8b['whoCanUse']?.[_0x2997d9(0x457)](this[_0x2997d9(0x4dd)]['wuid']))throw this[_0x2997d9(0x31f)][_0x2997d9(0x77f)](this[_0x2997d9(0x8b7)]+'\x20('+this[_0x2997d9(0x4dd)][_0x2997d9(0x851)]+'):\x20Flow\x20\x27'+_0xcbca44+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2997d9(0x8a8)+_0xcbca44+_0x2997d9(0x583));let _0x39e48f=await this[_0x2997d9(0x5ce)](_0x19fc8b,_0x22581e,null);if(_0x39e48f){this[_0x2997d9(0x31f)]['verbose'](this[_0x2997d9(0x8b7)]+'\x20('+this['instance']['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x4fc971;if(_0xbc1c81){let _0x4ddb94=_0x39e48f[_0x2997d9(0x16d)][_0x2997d9(0x30f)],_0x29a01c=this[_0x2997d9(0x867)](_0xbc1c81);Object[_0x2997d9(0x243)](_0x4ddb94,_0x29a01c),_0x39e48f[_0x2997d9(0x16d)][_0x2997d9(0x30f)]=_0x4ddb94,_0x4fc971={'error':!0x1,'apiResponse':_0xbc1c81};}let _0x2860a5=await this[_0x2997d9(0x72c)](_0x39e48f);return _0x2860a5&&await this[_0x2997d9(0x896)](_0x39e48f,_0x2860a5),{'message':_0x2997d9(0x87e)};}}catch(_0x930d29){if(this[_0x2997d9(0x31f)][_0x2997d9(0x77f)](this[_0x2997d9(0x8b7)]+'\x20('+this[_0x2997d9(0x4dd)][_0x2997d9(0x851)]+_0x2997d9(0x3c4)+(_0x930d29 instanceof Error?_0x930d29[_0x2997d9(0x503)]:JSON['stringify'](_0x930d29,null,0x2))),_0x316fc3=_0x930d29 instanceof Error?_0x930d29[_0x2997d9(0x503)]:JSON[_0x2997d9(0x6ed)](_0x930d29,null,0x2),_0x316fc3)throw new m(_0x2997d9(0x198)+_0x316fc3);}}async[a0_0x299ca5(0x632)](_0x77d968){const _0x155402=a0_0x299ca5;try{let _0x52223d={'remoteJid':_0x77d968,'status':'open'},_0x5366d6={'status':_0x155402(0x758)},_0x8b6bad=await this[_0x155402(0x7d6)]['flowConversation'][_0x155402(0x5be)](_0x52223d,_0x5366d6,this[_0x155402(0x4dd)][_0x155402(0x851)]);return this[_0x155402(0x31f)][_0x155402(0x8bd)](this['instanceName']+'\x20('+this[_0x155402(0x4dd)]['wuid']+_0x155402(0x30d)),_0x8b6bad;}catch(_0x582281){throw this[_0x155402(0x31f)][_0x155402(0x77f)](this[_0x155402(0x8b7)]+'\x20('+this[_0x155402(0x4dd)][_0x155402(0x851)]+_0x155402(0x8e1)+_0x582281[_0x155402(0x503)]),_0x582281;}}async[a0_0x299ca5(0x5ce)](_0x499e31,_0x588ed6,_0xab1089){const _0x1a2367=a0_0x299ca5;this['logger'][_0x1a2367(0x8bd)](this[_0x1a2367(0x8b7)]+'\x20('+this[_0x1a2367(0x4dd)][_0x1a2367(0x851)]+_0x1a2367(0x825)),await this[_0x1a2367(0x632)](_0x588ed6);try{let _0x4e9539=require(_0x1a2367(0x2d4))['ObjectId'],_0x1693b5=Date[_0x1a2367(0x1f1)](),_0x1f9bc3=_0x1a2367(0x365),_0x49a350={},_0x25d528={},_0x30fb89=this[_0x1a2367(0x42c)]['flows']['find'](_0x1feebb=>_0x1feebb[_0x1a2367(0x898)]===_0x499e31[_0x1a2367(0x898)]?.[_0x1a2367(0x5a7)]()),_0x3a59aa=_0x30fb89?.['minutesToClose']??_0x499e31[_0x1a2367(0x29c)]??0x0,_0x16988a=_0x30fb89?.['readMessages']??_0x499e31[_0x1a2367(0x66d)]??!0x1,_0x5d2b4c={'flowId':_0x499e31['_id'],..._0x499e31,'chatLog':null},_0x1c3579=await this[_0x1a2367(0x4e8)](_0x5d2b4c[_0x1a2367(0x2c0)]),_0x4f9481=await this[_0x1a2367(0x76f)](_0x588ed6),_0x4d3465={..._0x1c3579,..._0x4f9481,'_remoteJid':_0x588ed6},_0x11ae97={'lastReceivedMessage':_0x49a350,'lastSendMessage':_0x25d528,'lastBlockId':_0x1f9bc3,'lastCondition':!0x0,'realVariables':_0x4d3465};_0x5d2b4c['chatLog']=_0x11ae97,_0x5d2b4c['chatLog']['realVariables']={..._0x4d3465,..._0xab1089},delete _0x5d2b4c[_0x1a2367(0x898)],_0x5d2b4c[_0x1a2367(0x898)]=new _0x4e9539(),_0x5d2b4c[_0x1a2367(0x13a)]=_0x1693b5,_0x5d2b4c[_0x1a2367(0x5d8)]=_0x1a2367(0x405),_0x5d2b4c[_0x1a2367(0x530)]=_0x588ed6,_0x5d2b4c[_0x1a2367(0x29c)]=_0x3a59aa,_0x5d2b4c[_0x1a2367(0x66d)]=_0x16988a,_0x5d2b4c[_0x1a2367(0x898)]=_0x499e31[_0x1a2367(0x898)];let _0x29fa04=await this['repository'][_0x1a2367(0x14d)]['updateOne'](_0x5d2b4c[_0x1a2367(0x898)],_0x5d2b4c,this[_0x1a2367(0x4dd)]['wuid']);return this[_0x1a2367(0x31f)][_0x1a2367(0x8bd)](this[_0x1a2367(0x8b7)]+'\x20('+this[_0x1a2367(0x4dd)][_0x1a2367(0x851)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x29fa04?_0x5d2b4c:null;}catch(_0x5e638f){let _0x240b8b=_0x1a2367(0x72b),_0x3d30b5=_0x5e638f instanceof Error?_0x5e638f[_0x1a2367(0x503)]:typeof _0x5e638f==_0x1a2367(0x6dc)?JSON['stringify'](_0x5e638f):_0x5e638f,_0x44ad37=_0x240b8b+':\x20'+_0x3d30b5;throw this[_0x1a2367(0x31f)][_0x1a2367(0x77f)](this['instanceName']+'\x20('+this[_0x1a2367(0x4dd)][_0x1a2367(0x851)]+_0x1a2367(0x215)+_0x44ad37),new m(_0x44ad37);}}async[a0_0x299ca5(0x528)](_0x22a644){const _0x20a483=a0_0x299ca5;try{this[_0x20a483(0x31f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x20a483(0x851)]+_0x20a483(0x1ae)),this[_0x20a483(0x31f)][_0x20a483(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x20a483(0x851)]+_0x20a483(0x7bc)+_0x22a644);let _0x44e3b2={'where':{'_id':_0x22a644}};return await this['repository'][_0x20a483(0x14d)][_0x20a483(0x151)](_0x44e3b2,this[_0x20a483(0x4dd)][_0x20a483(0x851)]);}catch(_0x5ba41d){let _0x48a937=_0x20a483(0x6be),_0x4724a7=_0x5ba41d instanceof Error?_0x5ba41d[_0x20a483(0x503)]:typeof _0x5ba41d==_0x20a483(0x6dc)?JSON[_0x20a483(0x6ed)](_0x5ba41d):_0x5ba41d,_0x5c370a=_0x48a937+':\x20'+_0x4724a7;throw this[_0x20a483(0x31f)][_0x20a483(0x77f)](this[_0x20a483(0x8b7)]+'\x20('+this[_0x20a483(0x4dd)][_0x20a483(0x851)]+'):\x20'+_0x5c370a),new m(_0x5c370a);}}async['fetchConversation'](_0x265105){const _0x34c33c=a0_0x299ca5;try{return this[_0x34c33c(0x31f)]['verbose'](this[_0x34c33c(0x8b7)]+'\x20('+this[_0x34c33c(0x4dd)]['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x34c33c(0x7d6)]['flowConversation']['find'](_0x265105,this[_0x34c33c(0x4dd)][_0x34c33c(0x851)]);}catch(_0x4e88f6){let _0x1b1eee=_0x34c33c(0x655),_0x41d49f=_0x4e88f6 instanceof Error?_0x4e88f6[_0x34c33c(0x503)]:typeof _0x4e88f6==_0x34c33c(0x6dc)?JSON[_0x34c33c(0x6ed)](_0x4e88f6):_0x4e88f6,_0x5ac77a=_0x1b1eee+':\x20'+_0x41d49f;throw this[_0x34c33c(0x31f)]['error'](this[_0x34c33c(0x8b7)]+'\x20('+this['instance'][_0x34c33c(0x851)]+_0x34c33c(0x215)+_0x5ac77a),new m(_0x5ac77a);}}async[a0_0x299ca5(0x4af)](_0x570168){const _0x2b6015=a0_0x299ca5;try{return this[_0x2b6015(0x31f)]['verbose'](this[_0x2b6015(0x8b7)]+'\x20('+this[_0x2b6015(0x4dd)][_0x2b6015(0x851)]+'):\x20Deletando\x20conversa...'),this[_0x2b6015(0x31f)][_0x2b6015(0x8bd)](this[_0x2b6015(0x8b7)]+'\x20('+this[_0x2b6015(0x4dd)][_0x2b6015(0x851)]+_0x2b6015(0x842)+_0x570168),(await this[_0x2b6015(0x7d6)][_0x2b6015(0x14d)][_0x2b6015(0x441)]({'where':{'_id':_0x570168[_0x2b6015(0x898)]}},this[_0x2b6015(0x4dd)]['wuid']))['deletedCount']===0x0?{'message':_0x2b6015(0x5ab)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x3e1e23){let _0x262596=_0x2b6015(0x572),_0x584b2d=_0x3e1e23 instanceof Error?_0x3e1e23['message']:typeof _0x3e1e23==_0x2b6015(0x6dc)?JSON[_0x2b6015(0x6ed)](_0x3e1e23):_0x3e1e23,_0x1975fd=_0x262596+':\x20'+_0x584b2d;throw this[_0x2b6015(0x31f)][_0x2b6015(0x77f)](this[_0x2b6015(0x8b7)]+'\x20('+this[_0x2b6015(0x4dd)][_0x2b6015(0x851)]+_0x2b6015(0x215)+_0x1975fd),new m(_0x1975fd);}}async[a0_0x299ca5(0x21c)](_0x21211f){const _0x57257f=a0_0x299ca5;try{let {_id:_0x51c9b6,chatLog:_0x462340,status:_0x45d1c4}=_0x21211f;if(!_0x51c9b6)return{'message':_0x57257f(0x1a6)};let _0x2d558b={};if(_0x45d1c4!==void 0x0&&(_0x2d558b[_0x57257f(0x5d8)]=_0x45d1c4),Object[_0x57257f(0x791)](_0x2d558b)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x23cc1d=await this['repository']['flowConversation'][_0x57257f(0x3ff)](_0x51c9b6,_0x2d558b,this[_0x57257f(0x4dd)][_0x57257f(0x851)]);return _0x23cc1d||{'message':_0x57257f(0x488)};}catch(_0x313f5e){let _0x294113=_0x57257f(0x50a),_0x208d34=_0x313f5e instanceof Error?_0x313f5e[_0x57257f(0x503)]:typeof _0x313f5e==_0x57257f(0x6dc)?JSON[_0x57257f(0x6ed)](_0x313f5e):_0x313f5e,_0x4ab74d=_0x294113+':\x20'+_0x208d34;throw this[_0x57257f(0x31f)][_0x57257f(0x77f)](this['instanceName']+'\x20('+this[_0x57257f(0x4dd)][_0x57257f(0x851)]+_0x57257f(0x215)+_0x4ab74d),new m(_0x4ab74d);}}async[a0_0x299ca5(0x3d5)](_0x381679){const _0x44435c=a0_0x299ca5;try{_0x381679[_0x44435c(0x898)]=this[_0x44435c(0x156)](_0x381679[_0x44435c(0x898)]);let _0x3e284f=await this['repository'][_0x44435c(0x76d)][_0x44435c(0x151)]({'where':{'_id':_0x381679['_id']}},this[_0x44435c(0x4dd)]['wuid']);if(!_0x3e284f)throw new m(_0x44435c(0x40a));let {_id:_0x9fe277,leadInfo:_0x29e282}=_0x381679;if(!_0x9fe277)throw new Error(_0x44435c(0x6f8));if(_0x381679[_0x44435c(0x3be)]===_0x44435c(0x7e8))return await this['deleteChat'](_0x381679[_0x44435c(0x898)]),await this['repository'][_0x44435c(0x76d)]['delete']({'where':{'_id':_0x381679['_id']}},this[_0x44435c(0x4dd)][_0x44435c(0x851)]),await this['repository']['message'][_0x44435c(0x3be)]({'where':{'key':{'remoteJid':_0x381679[_0x44435c(0x898)]}}},this[_0x44435c(0x4dd)]['wuid']),_0x381679=await this[_0x44435c(0x7d6)][_0x44435c(0x76d)][_0x44435c(0x3ff)]({'where':{'_id':_0x381679['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x44435c(0x4dd)][_0x44435c(0x851)]),F(this[_0x44435c(0x8b7)],_0x44435c(0x4aa),{'chat':_0x381679}),{'message':_0x44435c(0x15c)};if(_0x381679[_0x44435c(0x3be)]==='messages')return await this[_0x44435c(0x7d6)]['message'][_0x44435c(0x3be)]({'where':{'key':{'remoteJid':_0x381679[_0x44435c(0x898)]}}},this[_0x44435c(0x4dd)][_0x44435c(0x851)]),_0x381679=await this[_0x44435c(0x7d6)][_0x44435c(0x76d)]['updateOne']({'where':{'_id':_0x381679['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this['instanceName'],_0x44435c(0x4aa),{'chat':_0x381679}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x398e0b=(_0x40e4fc,_0x523ca7,_0x123d95)=>{const _0x446635=_0x44435c;_0x40e4fc&&_0x123d95[_0x446635(0x613)](_0x132066=>{_0x40e4fc[_0x132066]!==void 0x0&&(_0x523ca7['leadInfo.'+_0x132066]=_0x40e4fc[_0x132066]);});},_0x562bc8={};if('muteEndTime'in _0x381679&&(this[_0x44435c(0x31f)][_0x44435c(0x8bd)](this['instanceName']+'\x20('+this[_0x44435c(0x4dd)][_0x44435c(0x851)]+_0x44435c(0x60e)+_0x381679[_0x44435c(0x898)]),_0x381679[_0x44435c(0x555)]=_0x381679['muteEndTime']===0x0?null:-0x1,await this[_0x44435c(0x6a1)][_0x44435c(0x767)]({'mute':_0x381679[_0x44435c(0x555)]},_0x381679[_0x44435c(0x898)]),_0x562bc8[_0x44435c(0x555)]=Number(_0x381679[_0x44435c(0x555)])),_0x29e282&&(_0x398e0b(_0x29e282,_0x562bc8,[_0x44435c(0x41f),_0x44435c(0x715),_0x44435c(0x85c),'cpf',_0x44435c(0x5d8),'notas','tags',_0x44435c(0x26e),_0x44435c(0x28c),_0x44435c(0x67b),_0x44435c(0x462)]),Array[_0x44435c(0x21d)](_0x29e282[_0x44435c(0x6bb)])&&(_0x562bc8['leadInfo.customFields']=_0x29e282[_0x44435c(0x6bb)][_0x44435c(0x3ae)](_0x43abb7=>({'_id':_0x43abb7['_id'],'value':_0x43abb7[_0x44435c(0x893)]}))),_0x381679['leadInfo'][_0x44435c(0x67b)]!==void 0x0)){let _0x30e326=await this['repository']['label']['find']({'where':{}},this[_0x44435c(0x4dd)]['wuid']),_0x5d81bd=new Set(_0x381679[_0x44435c(0x59a)]['etiquetas']||[]),_0x109fa8=new Set(_0x381679[_0x44435c(0x59a)][_0x44435c(0x67b)]),_0x1165ea=new Set(_0x30e326[_0x44435c(0x3ae)](_0x4a9c67=>_0x4a9c67['_id'])),_0x461fb4=[..._0x109fa8]['filter'](_0x1462bf=>!_0x5d81bd['has'](_0x1462bf)&&_0x1165ea[_0x44435c(0x594)](_0x1462bf)),_0x209506=[..._0x5d81bd]['filter'](_0x462df0=>!_0x109fa8[_0x44435c(0x594)](_0x462df0));if(_0x562bc8[_0x44435c(0x123)]=[..._0x5d81bd],_0x3e284f&&!_0x3e284f[_0x44435c(0x795)]){for(let _0x3dab19 of _0x461fb4)await this[_0x44435c(0x5d9)](_0x3dab19,_0x381679[_0x44435c(0x898)]),_0x5d81bd[_0x44435c(0x728)](_0x3dab19);for(let _0xb31423 of _0x209506)await this[_0x44435c(0x32e)](_0xb31423,_0x381679[_0x44435c(0x898)]),_0x5d81bd[_0x44435c(0x3be)](_0xb31423);}}if(_0x381679[_0x44435c(0x54a)]!==void 0x0&&(_0x562bc8[_0x44435c(0x54a)]=Number(_0x381679[_0x44435c(0x54a)])),Object[_0x44435c(0x791)](_0x562bc8)['length']===0x0)throw new Error(_0x44435c(0x433));let _0x555c87=await this[_0x44435c(0x7d6)][_0x44435c(0x76d)][_0x44435c(0x3ff)]({'where':{'_id':_0x381679[_0x44435c(0x898)]}},_0x562bc8,this[_0x44435c(0x4dd)][_0x44435c(0x851)]);return _0x555c87&&F(this[_0x44435c(0x8b7)],'chats',{'chat':_0x555c87}),_0x555c87?(this[_0x44435c(0x31f)][_0x44435c(0x8bd)](this[_0x44435c(0x8b7)]+'\x20('+this[_0x44435c(0x4dd)][_0x44435c(0x851)]+_0x44435c(0x215)+JSON[_0x44435c(0x6ed)](_0x555c87,null,0x2)),_0x555c87):{'message':_0x44435c(0x6f3)};}catch(_0x11ede7){let _0x4126b7=_0x44435c(0x7fd),_0x1dbae3=_0x11ede7 instanceof Error?_0x11ede7['message']:typeof _0x11ede7=='object'?JSON[_0x44435c(0x6ed)](_0x11ede7):_0x11ede7,_0x1e59e2=_0x4126b7+':\x20'+_0x1dbae3;throw this[_0x44435c(0x31f)][_0x44435c(0x77f)](this[_0x44435c(0x8b7)]+'\x20('+this['instance'][_0x44435c(0x851)]+_0x44435c(0x215)+_0x1e59e2),new m(_0x1e59e2);}}async[a0_0x299ca5(0x5d9)](_0x2c50ed,_0x39e7ed){const _0x3e1e4d=a0_0x299ca5;try{await this[_0x3e1e4d(0x6a1)][_0x3e1e4d(0x7a0)](_0x39e7ed,_0x2c50ed),this['logger'][_0x3e1e4d(0x74c)](this[_0x3e1e4d(0x8b7)]+'\x20('+this[_0x3e1e4d(0x4dd)][_0x3e1e4d(0x851)]+'):\x20Label\x20'+_0x2c50ed+'\x20adicionado\x20ao\x20chat\x20'+_0x39e7ed+'\x20com\x20sucesso.');}catch(_0x467402){this[_0x3e1e4d(0x31f)][_0x3e1e4d(0x77f)](_0x3e1e4d(0x3cd)+_0x2c50ed+'\x20ao\x20chat\x20'+_0x39e7ed+':\x20'+_0x467402);}}async[a0_0x299ca5(0x32e)](_0x394cd5,_0x584aa2){const _0x47feeb=a0_0x299ca5;try{await this[_0x47feeb(0x6a1)]['removeChatLabel'](_0x584aa2,_0x394cd5),this[_0x47feeb(0x31f)][_0x47feeb(0x74c)](this['instanceName']+'\x20('+this[_0x47feeb(0x4dd)]['wuid']+_0x47feeb(0x481)+_0x394cd5+_0x47feeb(0x2f8)+_0x584aa2+_0x47feeb(0x4a0));}catch(_0x56573e){this[_0x47feeb(0x31f)]['error'](_0x47feeb(0x6c4)+_0x394cd5+_0x47feeb(0x7e0)+_0x584aa2+':\x20'+_0x56573e);}}async['updateAgent'](_0x1b6331){const _0x5de6f9=a0_0x299ca5;try{let _0x5f267f=await this['repository'][_0x5de6f9(0x453)][_0x5de6f9(0x496)](this[_0x5de6f9(0x4dd)][_0x5de6f9(0x851)]),_0x51def5=_0x1b6331['_id']?_0x5f267f['agents'][_0x5de6f9(0x8c7)](_0x6cd314=>_0x6cd314[_0x5de6f9(0x898)]===_0x1b6331['_id']):-0x1;if(_0x1b6331[_0x5de6f9(0x3be)]&&_0x51def5>-0x1)_0x5f267f[_0x5de6f9(0x561)][_0x5de6f9(0x5eb)](_0x51def5,0x1);else{if(_0x51def5>-0x1){let _0x5efd70=_0x5f267f[_0x5de6f9(0x561)][_0x51def5];_0x1b6331[_0x5de6f9(0x23d)]&&(_0x5efd70[_0x5de6f9(0x23d)]=_0x1b6331[_0x5de6f9(0x23d)]),_0x1b6331[_0x5de6f9(0x5d0)]&&(_0x5efd70[_0x5de6f9(0x5d0)]=_0x1b6331[_0x5de6f9(0x5d0)]),_0x1b6331['email']&&(_0x5efd70[_0x5de6f9(0x85c)]=_0x1b6331['email']),_0x1b6331[_0x5de6f9(0x7be)]&&(_0x5efd70[_0x5de6f9(0x7be)]=_0x1b6331[_0x5de6f9(0x7be)]);}else _0x5f267f['agents']['push']({'_id':_0x1b6331[_0x5de6f9(0x898)]||new he['default'][(_0x5de6f9(0x278))][(_0x5de6f9(0x71a))]()[_0x5de6f9(0x5a7)](),'fone':_0x1b6331[_0x5de6f9(0x23d)],'name':_0x1b6331[_0x5de6f9(0x5d0)],'email':_0x1b6331[_0x5de6f9(0x85c)],'role':_0x1b6331['role']});}let _0x3b957e={'agents':_0x5f267f['agents']},_0x5c023c=await this[_0x5de6f9(0x7d6)]['automateSystem'][_0x5de6f9(0x130)](_0x3b957e,this[_0x5de6f9(0x4dd)][_0x5de6f9(0x851)]);return this[_0x5de6f9(0x42c)]=_0x5c023c,this['logger'][_0x5de6f9(0x8bd)](this[_0x5de6f9(0x8b7)]+'\x20('+this['instance'][_0x5de6f9(0x851)]+_0x5de6f9(0x477)),this[_0x5de6f9(0x31f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5de6f9(0x851)]+_0x5de6f9(0x215)+this[_0x5de6f9(0x42c)]),_0x5c023c;}catch(_0x2d269f){let _0x472d7e=_0x5de6f9(0x463),_0x2eb0e5=_0x2d269f instanceof Error?_0x2d269f[_0x5de6f9(0x503)]:typeof _0x2d269f==_0x5de6f9(0x6dc)?JSON[_0x5de6f9(0x6ed)](_0x2d269f):_0x2d269f,_0x112d9b=_0x472d7e+':\x20'+_0x2eb0e5;throw this[_0x5de6f9(0x31f)]['error'](this[_0x5de6f9(0x8b7)]+'\x20('+this['instance'][_0x5de6f9(0x851)]+_0x5de6f9(0x215)+_0x112d9b),new m(_0x112d9b);}}async[a0_0x299ca5(0x371)](_0x3ce006){const _0xa12b39=a0_0x299ca5;try{let _0x1c6051=await this['repository'][_0xa12b39(0x453)][_0xa12b39(0x496)](this[_0xa12b39(0x4dd)][_0xa12b39(0x851)]),_0x53417d=_0x3ce006[_0xa12b39(0x898)]?_0x1c6051['customFields']['findIndex'](_0x4f8a65=>_0x4f8a65['_id']===_0x3ce006[_0xa12b39(0x898)]):-0x1,_0x2b5831=!0x1,_0x465aed=_0x1c6051['customFields'][_0xa12b39(0x3b1)](_0x58fa98=>_0x58fa98['order']===_0x3ce006[_0xa12b39(0x4b4)]);if(_0x3ce006[_0xa12b39(0x3be)]&&_0x53417d>-0x1)_0x1c6051[_0xa12b39(0x6bb)][_0xa12b39(0x5eb)](_0x53417d,0x1),_0x2b5831=!0x0;else{if(_0x53417d>-0x1){if(_0x1c6051[_0xa12b39(0x6bb)][_0xa12b39(0x3b1)](_0x68e44b=>_0x68e44b[_0xa12b39(0x5d0)]===_0x3ce006[_0xa12b39(0x5d0)]&&_0x68e44b[_0xa12b39(0x898)]!==_0x3ce006[_0xa12b39(0x898)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x282af5=_0x1c6051[_0xa12b39(0x6bb)][_0x53417d];_0x3ce006[_0xa12b39(0x4b4)]&&(_0x465aed||!Number[_0xa12b39(0x1f6)](_0x3ce006[_0xa12b39(0x4b4)]))&&(_0x282af5['order']=_0x3ce006[_0xa12b39(0x4b4)],_0x2b5831=!0x0),_0x3ce006[_0xa12b39(0x5d0)]&&(_0x282af5[_0xa12b39(0x5d0)]=_0x3ce006[_0xa12b39(0x5d0)]);}else{if(_0x1c6051[_0xa12b39(0x6bb)][_0xa12b39(0x3b1)](_0x3207ad=>_0x3207ad[_0xa12b39(0x5d0)]===_0x3ce006[_0xa12b39(0x5d0)]&&_0x3207ad[_0xa12b39(0x898)]!==_0x3ce006[_0xa12b39(0x898)]))throw new Error(_0xa12b39(0x733));_0x1c6051[_0xa12b39(0x6bb)]['push']({'_id':_0x3ce006[_0xa12b39(0x898)]||new he[(_0xa12b39(0x222))][(_0xa12b39(0x278))][(_0xa12b39(0x71a))]()[_0xa12b39(0x5a7)](),'order':_0x3ce006[_0xa12b39(0x4b4)],'name':_0x3ce006[_0xa12b39(0x5d0)]}),_0x2b5831=!0x0;}}if(_0x2b5831){_0x1c6051[_0xa12b39(0x6bb)][_0xa12b39(0x277)]((_0x17c9fb,_0x276061)=>_0x17c9fb[_0xa12b39(0x4b4)]>_0x276061[_0xa12b39(0x4b4)]?0x1:_0x276061[_0xa12b39(0x4b4)]>_0x17c9fb[_0xa12b39(0x4b4)]?-0x1:0x0);for(let _0x474a32=0x0;_0x474a32<_0x1c6051['customFields'][_0xa12b39(0x84b)];_0x474a32++)_0x1c6051[_0xa12b39(0x6bb)][_0x474a32][_0xa12b39(0x4b4)]=_0x474a32+0x1;}let _0x4a0911=await this[_0xa12b39(0x7d6)][_0xa12b39(0x453)][_0xa12b39(0x130)](_0x1c6051,this[_0xa12b39(0x4dd)][_0xa12b39(0x851)]);return this['AutomateSystem']=_0x4a0911,this[_0xa12b39(0x31f)]['verbose'](this[_0xa12b39(0x8b7)]+'\x20('+this[_0xa12b39(0x4dd)][_0xa12b39(0x851)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0xa12b39(0x31f)][_0xa12b39(0x8bd)](this[_0xa12b39(0x8b7)]+'\x20('+this['instance'][_0xa12b39(0x851)]+_0xa12b39(0x215)+this['AutomateSystem']),_0x4a0911;}catch(_0x5de686){let _0x367b50=_0xa12b39(0x88c),_0x1472da=_0x5de686 instanceof Error?_0x5de686[_0xa12b39(0x503)]:typeof _0x5de686==_0xa12b39(0x6dc)?JSON[_0xa12b39(0x6ed)](_0x5de686):_0x5de686,_0x2fd4bc=_0x367b50+':\x20'+_0x1472da;throw this[_0xa12b39(0x31f)][_0xa12b39(0x77f)](this[_0xa12b39(0x8b7)]+'\x20('+this[_0xa12b39(0x4dd)][_0xa12b39(0x851)]+_0xa12b39(0x215)+_0x2fd4bc),new m(_0x2fd4bc);}}async[a0_0x299ca5(0x72f)](_0x8093b5){const _0x3e9162=a0_0x299ca5;try{let _0x5408b0=await this[_0x3e9162(0x7d6)][_0x3e9162(0x453)][_0x3e9162(0x496)](this[_0x3e9162(0x4dd)]['wuid']),_0x4d2f60=_0x5408b0?.[_0x3e9162(0x40e)]?.[_0x3e9162(0x8c7)](_0x11aa85=>_0x11aa85[_0x3e9162(0x898)]===_0x8093b5?.[_0x3e9162(0x898)]);if(_0x8093b5?.[_0x3e9162(0x3be)])_0x4d2f60>-0x1&&_0x5408b0?.[_0x3e9162(0x40e)]?.[_0x3e9162(0x5eb)](_0x4d2f60,0x1);else{if(_0x4d2f60>-0x1){let _0x27427d=_0x5408b0['autoCompleteMessages'][_0x4d2f60];_0x27427d['order']=_0x8093b5?.[_0x3e9162(0x4b4)]||_0x27427d[_0x3e9162(0x4b4)],_0x27427d['command']=_0x8093b5?.[_0x3e9162(0x309)]||_0x27427d[_0x3e9162(0x309)],_0x27427d['message']=_0x8093b5?.[_0x3e9162(0x503)]||_0x27427d['message'];}else{let _0x441c9d={'_id':_0x8093b5?.[_0x3e9162(0x898)]||new he[(_0x3e9162(0x222))][(_0x3e9162(0x278))][(_0x3e9162(0x71a))]()[_0x3e9162(0x5a7)](),'order':_0x8093b5?.[_0x3e9162(0x4b4)],'command':_0x8093b5?.['command'],'message':_0x8093b5?.[_0x3e9162(0x503)]};_0x5408b0?.['autoCompleteMessages']?.[_0x3e9162(0x2b6)](_0x441c9d);}}_0x5408b0?.['autoCompleteMessages']?.['sort']((_0x355168,_0x1582f5)=>_0x355168[_0x3e9162(0x4b4)]-_0x1582f5['order']);let _0x584f8d=await this[_0x3e9162(0x7d6)][_0x3e9162(0x453)][_0x3e9162(0x130)](_0x5408b0,this[_0x3e9162(0x4dd)]['wuid']);return this[_0x3e9162(0x42c)]=_0x584f8d,this[_0x3e9162(0x31f)][_0x3e9162(0x8bd)](this[_0x3e9162(0x8b7)]+'\x20('+this[_0x3e9162(0x4dd)][_0x3e9162(0x851)]+_0x3e9162(0x781)),_0x584f8d;}catch(_0x160f26){let _0x2425a7=_0x3e9162(0x865),_0x298ab9=_0x160f26 instanceof Error?_0x160f26['message']:typeof _0x160f26==_0x3e9162(0x6dc)?JSON[_0x3e9162(0x6ed)](_0x160f26):_0x160f26,_0x2dfc58=_0x2425a7+':\x20'+_0x298ab9;throw this['logger'][_0x3e9162(0x77f)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x2dfc58),new m(_0x2dfc58);}}async[a0_0x299ca5(0x537)](_0x542879){const _0x4c2513=a0_0x299ca5;try{let _0x2fa1e5=await this['repository'][_0x4c2513(0x453)][_0x4c2513(0x496)](this['instance'][_0x4c2513(0x851)]);if(!_0x2fa1e5)throw new Error(_0x4c2513(0x2ae));let _0x28023f={'_id':_0x2fa1e5[_0x4c2513(0x898)],'flowConfig':{'enabled':_0x542879[_0x4c2513(0x86b)]??_0x2fa1e5[_0x4c2513(0x32b)]['enabled'],'ignoreGroups':_0x542879[_0x4c2513(0x384)]??_0x2fa1e5['flowConfig'][_0x4c2513(0x384)],'stopConversation':_0x542879[_0x4c2513(0x160)]['trim']()??_0x2fa1e5[_0x4c2513(0x32b)][_0x4c2513(0x160)][_0x4c2513(0x3a7)](),'stopMinutes':_0x542879[_0x4c2513(0x5fb)]??_0x2fa1e5[_0x4c2513(0x32b)][_0x4c2513(0x5fb)],'stopWhenYouSendMsg':_0x542879[_0x4c2513(0x567)]??_0x2fa1e5['flowConfig'][_0x4c2513(0x567)]}},_0x2f2b5e=await this['repository'][_0x4c2513(0x453)][_0x4c2513(0x130)](_0x28023f,this['instance']['wuid']);return this[_0x4c2513(0x42c)]=_0x2f2b5e,this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4c2513(0x851)]+_0x4c2513(0x477)),this[_0x4c2513(0x31f)]['verbose'](this[_0x4c2513(0x8b7)]+'\x20('+this[_0x4c2513(0x4dd)][_0x4c2513(0x851)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0x4c2513(0x24c)](),0x7d0),_0x2f2b5e;}catch(_0x4c36ef){let _0x33e722=_0x4c2513(0x28f),_0x54c124=_0x4c36ef instanceof Error?_0x4c36ef[_0x4c2513(0x503)]:typeof _0x4c36ef==_0x4c2513(0x6dc)?JSON['stringify'](_0x4c36ef):_0x4c36ef,_0x42ba5d=_0x33e722+':\x20'+_0x54c124;throw this['logger'][_0x4c2513(0x77f)](this[_0x4c2513(0x8b7)]+'\x20('+this[_0x4c2513(0x4dd)][_0x4c2513(0x851)]+_0x4c2513(0x215)+_0x42ba5d),new m(_0x42ba5d);}}async[a0_0x299ca5(0x7c3)](){const _0x43b02c=a0_0x299ca5;try{let _0x2db71a=await this[_0x43b02c(0x7d6)]['automateSystem'][_0x43b02c(0x496)](this[_0x43b02c(0x4dd)][_0x43b02c(0x851)]);return this['AutomateSystem']=_0x2db71a,_0x2db71a;}catch(_0x50113e){let _0x50be78='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x44cb6a=_0x50113e instanceof Error?_0x50113e[_0x43b02c(0x503)]:typeof _0x50113e=='object'?JSON['stringify'](_0x50113e):_0x50113e,_0x451d0a=_0x50be78+':\x20'+_0x44cb6a;throw this[_0x43b02c(0x31f)]['error'](this[_0x43b02c(0x8b7)]+'\x20('+this[_0x43b02c(0x4dd)]['wuid']+_0x43b02c(0x215)+_0x451d0a),new m(_0x451d0a);}}async['initializeQueue'](){const _0x21e0b2=a0_0x299ca5;let _0x595497=(await import(_0x21e0b2(0x2cd)))[_0x21e0b2(0x222)];this[_0x21e0b2(0x2e1)]=new _0x595497({'concurrency':0x1});}async['setRestartTimeout'](){const _0x1268dc=a0_0x299ca5;this[_0x1268dc(0x4dd)]['ScheduleMessage'][_0x1268dc(0x7c8)]&&clearTimeout(this[_0x1268dc(0x4dd)][_0x1268dc(0x21a)][_0x1268dc(0x7c8)]),this[_0x1268dc(0x4dd)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x1cfb4a=_0x1268dc;this[_0x1cfb4a(0x303)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x299ca5(0x303)](){const _0x2cd496=a0_0x299ca5;let _0x5f81ba=this[_0x2cd496(0x4dd)][_0x2cd496(0x21a)]['lastSend'];(_0x5f81ba===0x0||_0x5f81ba===null||Date[_0x2cd496(0x1f1)]()-_0x5f81ba>=0x1d4c0)&&(this['logger'][_0x2cd496(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x2cd496(0x851)]+_0x2cd496(0x849)),this[_0x2cd496(0x4dd)][_0x2cd496(0x21a)][_0x2cd496(0x27f)]=null,this['instance'][_0x2cd496(0x21a)][_0x2cd496(0x134)]=0x0,this['instance'][_0x2cd496(0x21a)][_0x2cd496(0x4e1)]=0x0,await this['scheduleNextCheck']());}async[a0_0x299ca5(0x24c)](){const _0x227c92=a0_0x299ca5;this[_0x227c92(0x31f)][_0x227c92(0x727)](this['instanceName']+'\x20('+this[_0x227c92(0x4dd)][_0x227c92(0x851)]+_0x227c92(0x24e)),await this[_0x227c92(0x51c)]();let _0x36a829=await this[_0x227c92(0x87b)]();_0x36a829[_0x227c92(0x84b)]>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this[_0x227c92(0x31f)][_0x227c92(0x727)](this[_0x227c92(0x8b7)]+'\x20('+this[_0x227c92(0x4dd)][_0x227c92(0x851)]+'):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila'),this['queue']['clear'](),this[_0x227c92(0x2e1)][_0x227c92(0x728)](()=>this[_0x227c92(0x88e)](_0x36a829)));let _0x5bd488={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x529c92=await this[_0x227c92(0x7d6)][_0x227c92(0x192)][_0x227c92(0x151)](_0x5bd488,this['instance'][_0x227c92(0x851)]);_0x529c92&&_0x529c92[_0x227c92(0x522)]-Date['now']()<=0x6ddd00?this[_0x227c92(0x4dd)][_0x227c92(0x21a)][_0x227c92(0x4e1)]=_0x529c92['when']-Date['now']():this[_0x227c92(0x4dd)][_0x227c92(0x21a)][_0x227c92(0x4e1)]=(0x3c+Math[_0x227c92(0x71d)](Math['random']()*0x3c))*0x3c*0x3e8,this['instance'][_0x227c92(0x21a)][_0x227c92(0x4e1)]=Math['max'](this[_0x227c92(0x4dd)]['ScheduleMessage'][_0x227c92(0x4e1)],0x1*0x2*0x3e8);let _0x3d4871=Math[_0x227c92(0x542)](this['instance'][_0x227c92(0x21a)][_0x227c92(0x4e1)]/0xea60);if(_0x529c92){let _0xa786f=new Date(_0x529c92[_0x227c92(0x522)])[_0x227c92(0x3f7)]();this[_0x227c92(0x31f)]['warn'](this['instanceName']+'\x20('+this[_0x227c92(0x4dd)][_0x227c92(0x851)]+_0x227c92(0x414)+_0xa786f+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x3d4871+_0x227c92(0x8b5));}else this['logger'][_0x227c92(0x727)](this[_0x227c92(0x8b7)]+'\x20('+this[_0x227c92(0x4dd)][_0x227c92(0x851)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3d4871+'\x20minutos');setTimeout(()=>{const _0x3c6633=_0x227c92;this[_0x3c6633(0x24c)]();},this[_0x227c92(0x4dd)]['ScheduleMessage']['delayMessage']);}async[a0_0x299ca5(0x87b)](){const _0x501256=a0_0x299ca5;this['logger'][_0x501256(0x727)](this[_0x501256(0x8b7)]+'\x20('+this[_0x501256(0x4dd)][_0x501256(0x851)]+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x3178ed=Date[_0x501256(0x1f1)]()-0xc*0x3c*0x3c*0x3e8,_0x5f017f={'where':{'status':{'$in':[_0x501256(0x3e4),_0x501256(0x81c)]},'$or':[{'when':{'$lte':Date[_0x501256(0x1f1)](),'$gte':_0x3178ed}},{'when':0x0}]}},_0x50229a=await this[_0x501256(0x7d6)][_0x501256(0x192)][_0x501256(0x2b7)](_0x5f017f,this['instance'][_0x501256(0x851)]);return this[_0x501256(0x31f)][_0x501256(0x727)](this['instanceName']+'\x20('+this['instance'][_0x501256(0x851)]+_0x501256(0x363)+_0x50229a[_0x501256(0x84b)]),_0x50229a;}async['processReadyMessages'](_0x56b888){const _0x1c1ffe=a0_0x299ca5;this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)]['wuid']+_0x1c1ffe(0x174));let _0xe36ec9=0x3*0x3e8,_0x390a78=0x8*0x3e8,_0x56cf8f=Math[_0x1c1ffe(0x71d)](Math[_0x1c1ffe(0x6e2)]()*(_0x390a78-_0xe36ec9+0x1))+_0xe36ec9,_0x3fe48a=()=>this[_0x1c1ffe(0x474)][_0x1c1ffe(0x84b)]===0x0?null:this[_0x1c1ffe(0x474)][_0x1c1ffe(0x210)]((_0x1b6a00,_0x115cce)=>(_0x1b6a00[_0x1c1ffe(0x4b4)]??Number[_0x1c1ffe(0x7cb)])<(_0x115cce[_0x1c1ffe(0x4b4)]??Number[_0x1c1ffe(0x7cb)])?_0x1b6a00:_0x115cce,this['pendingMessages'][0x0]);_0x56b888=await this[_0x1c1ffe(0x87b)]();for(let _0x34efdf of _0x56b888){await this[_0x1c1ffe(0x23c)]();let _0x62aac9=0x3*0x3e8,_0x48c41f={'_id':_0x34efdf[_0x1c1ffe(0x898)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1c1ffe(0x1f1)]()-_0x62aac9}}]},_0x19030d={'startSend':Date[_0x1c1ffe(0x1f1)](),'status':_0x1c1ffe(0x81c)},_0x46ecd7=await this[_0x1c1ffe(0x7d6)][_0x1c1ffe(0x192)][_0x1c1ffe(0x3ff)](_0x48c41f,_0x19030d,this['instance'][_0x1c1ffe(0x851)]);if(this['pendingMessages']=_0x46ecd7[_0x1c1ffe(0x703)][_0x1c1ffe(0x67c)](_0x19f4c1=>!_0x19f4c1[_0x1c1ffe(0x790)]),!_0x46ecd7){setTimeout(()=>this[_0x1c1ffe(0x303)](),0xa*0x3e8);continue;}if(this[_0x1c1ffe(0x4dd)]['ScheduleMessage'][_0x1c1ffe(0x27f)]=_0x46ecd7,!this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x21a)]['isConnected']){this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this['instance'][_0x1c1ffe(0x851)]+_0x1c1ffe(0x647));break;}for(;this['pendingMessages']['length']>0x0;){await this[_0x1c1ffe(0x23c)]();let _0x5e8b1b=_0x3fe48a();if(!_0x5e8b1b)break;let _0xbe2346=_0x34efdf[_0x1c1ffe(0x703)][_0x1c1ffe(0x2b7)](_0x33e11c=>_0x33e11c[_0x1c1ffe(0x898)]===_0x5e8b1b['_id']);if(!_0xbe2346)break;if(this[_0x1c1ffe(0x4dd)]['ScheduleMessage'][_0x1c1ffe(0x134)]=Date[_0x1c1ffe(0x1f1)](),_0xbe2346['triedToSend']){this['logger'][_0x1c1ffe(0x727)](this['instanceName']+'\x20('+this[_0x1c1ffe(0x4dd)]['wuid']+_0x1c1ffe(0x8ac)+_0xbe2346[_0x1c1ffe(0x530)]+'.\x20Pulando.'),this[_0x1c1ffe(0x474)]=this[_0x1c1ffe(0x474)][_0x1c1ffe(0x67c)](_0x34fc60=>_0x34fc60[_0x1c1ffe(0x898)]!==_0xbe2346[_0x1c1ffe(0x898)]);continue;}if(!this[_0x1c1ffe(0x4dd)]['ScheduleMessage'][_0x1c1ffe(0x609)]){this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)]+_0x1c1ffe(0x5e1));break;}if(!this[_0x1c1ffe(0x4dd)]['ScheduleMessage'][_0x1c1ffe(0x27f)]){this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this['instance'][_0x1c1ffe(0x851)]+_0x1c1ffe(0x627)+_0x34efdf['_id']+_0x1c1ffe(0x83e));break;}let _0x3f5394={'idControl':_0xbe2346[_0x1c1ffe(0x898)],'remoteJid':_0xbe2346[_0x1c1ffe(0x530)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x1c1ffe(0x1f1)]()},_0x489b19=null;try{this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0xbe2346['remoteJid']);let _0x45a1d9=await Promise[_0x1c1ffe(0x3a8)]([this[_0x1c1ffe(0x506)](_0xbe2346[_0x1c1ffe(0x530)],_0xbe2346),this['timeoutPromise'](0x78*0x3e8)]);_0x3f5394[_0x1c1ffe(0x77f)]=_0x45a1d9[_0x1c1ffe(0x77f)],_0x3f5394['id']=_0x45a1d9['error']?null:_0x45a1d9['id'],_0x3f5394[_0x1c1ffe(0x8cd)]=_0x45a1d9[_0x1c1ffe(0x77f)]?_0x45a1d9['detail']?_0x45a1d9[_0x1c1ffe(0x58c)]['toString']():'':null;let _0x4ae456=_0x34efdf[_0x1c1ffe(0x703)]['findIndex'](_0x45552b=>_0x45552b[_0x1c1ffe(0x898)]===_0xbe2346['_id']);_0x4ae456!==-0x1&&(_0x34efdf[_0x1c1ffe(0x703)][_0x4ae456][_0x1c1ffe(0x790)]=!0x0);let _0x6e4d56={'$push':{'messagesSend':_0x3f5394},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x3bb58f=[{'elem._id':_0xbe2346[_0x1c1ffe(0x898)]}];if(this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)]+_0x1c1ffe(0x75a)+_0xbe2346[_0x1c1ffe(0x898)]),_0x489b19=await this[_0x1c1ffe(0x7d6)][_0x1c1ffe(0x192)][_0x1c1ffe(0x3ff)]({'_id':_0x34efdf[_0x1c1ffe(0x898)]},_0x6e4d56,this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)],{'arrayFilters':_0x3bb58f}),_0x45a1d9[_0x1c1ffe(0x77f)]){this['logger'][_0x1c1ffe(0x77f)](this['instanceName']+'\x20('+this[_0x1c1ffe(0x4dd)]['wuid']+_0x1c1ffe(0x5e3)+_0x45a1d9['detail']);continue;}let _0x104314=this[_0x1c1ffe(0x51e)](_0x34efdf['delaySecMin'],_0x34efdf[_0x1c1ffe(0x68e)]);await this[_0x1c1ffe(0x638)](_0x104314);}catch(_0x46e487){this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x77f)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0xbe2346[_0x1c1ffe(0x530)]+':\x20'+(_0x46e487 instanceof Error?_0x46e487['message']:JSON[_0x1c1ffe(0x6ed)](_0x46e487,null,0x2))),_0x3f5394['error']=!0x0,_0x3f5394[_0x1c1ffe(0x8cd)]=_0x46e487[_0x1c1ffe(0x503)];let _0x24ec15=_0x34efdf[_0x1c1ffe(0x703)][_0x1c1ffe(0x8c7)](_0x5dc1f6=>_0x5dc1f6[_0x1c1ffe(0x898)]===_0xbe2346[_0x1c1ffe(0x898)]);_0x24ec15!==-0x1&&(_0x34efdf[_0x1c1ffe(0x703)][_0x24ec15][_0x1c1ffe(0x790)]=!0x0);let _0x2bacb7={'$push':{'messagesSend':_0x3f5394},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x216ecf=[{'elem._id':_0xbe2346['_id']}];this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0xbe2346[_0x1c1ffe(0x898)]),_0x489b19=await this['repository'][_0x1c1ffe(0x192)][_0x1c1ffe(0x3ff)]({'_id':_0x34efdf[_0x1c1ffe(0x898)]},_0x2bacb7,this['instance'][_0x1c1ffe(0x851)],{'arrayFilters':_0x216ecf});}finally{if(_0x489b19&&_0x489b19[_0x1c1ffe(0x5d8)]===_0x1c1ffe(0x25f)){this['logger'][_0x1c1ffe(0x727)](this[_0x1c1ffe(0x8b7)]+'\x20('+this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x851)]+_0x1c1ffe(0x627)+_0xbe2346[_0x1c1ffe(0x898)]+_0x1c1ffe(0x738));break;}let _0x483e19=_0x489b19['messages'][_0x1c1ffe(0x2b7)](_0x5574d8=>_0x5574d8[_0x1c1ffe(0x898)]===_0xbe2346[_0x1c1ffe(0x898)]);if(_0x483e19&&!_0x483e19['triedToSend']){let _0x2d4312={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x108068=[{'elem._id':_0xbe2346['_id']}];await this[_0x1c1ffe(0x7d6)][_0x1c1ffe(0x192)]['updateOne']({'_id':_0x489b19[_0x1c1ffe(0x898)]},_0x2d4312,this['instance'][_0x1c1ffe(0x851)],{'arrayFilters':_0x108068});}if(this[_0x1c1ffe(0x474)]=_0x489b19['messages']['filter'](_0x251169=>!_0x251169[_0x1c1ffe(0x790)]),!this[_0x1c1ffe(0x4dd)][_0x1c1ffe(0x21a)][_0x1c1ffe(0x27f)]){await this[_0x1c1ffe(0x23c)](),this[_0x1c1ffe(0x31f)][_0x1c1ffe(0x727)](this['instanceName']+'\x20('+this[_0x1c1ffe(0x4dd)]['wuid']+_0x1c1ffe(0x627)+_0x34efdf[_0x1c1ffe(0x898)]+_0x1c1ffe(0x83e));break;}}}this[_0x1c1ffe(0x474)]=[];let _0xdcf25c=await this['repository'][_0x1c1ffe(0x192)][_0x1c1ffe(0x861)](_0x34efdf[_0x1c1ffe(0x898)],this[_0x1c1ffe(0x4dd)]['wuid']);if(_0xdcf25c['messages']['every'](_0x129a95=>_0x129a95['triedToSend'])&&_0xdcf25c['status']!==_0x1c1ffe(0x25f)){let _0x460382={'$set':{'status':_0x1c1ffe(0x4e4)}};await this[_0x1c1ffe(0x7d6)][_0x1c1ffe(0x192)]['updateOneById'](_0xdcf25c[_0x1c1ffe(0x898)],_0x460382,this[_0x1c1ffe(0x4dd)]['wuid']);}await new Promise(_0x360445=>setTimeout(_0x360445,_0x56cf8f)),global['gc']?global['gc']():console['warn'](_0x1c1ffe(0x7ea));}}[a0_0x299ca5(0x6d6)](_0x56573b){const _0x285724=a0_0x299ca5;return new Promise((_0x52ab5a,_0x45191e)=>setTimeout(()=>_0x45191e(new Error(_0x285724(0x34e))),_0x56573b));}[a0_0x299ca5(0x51e)](_0x58c6e5,_0x44a66a){const _0x2de7a1=a0_0x299ca5;return _0x58c6e5=Math[_0x2de7a1(0x2d0)](0.5,_0x58c6e5),_0x44a66a=Math['min'](Math[_0x2de7a1(0x2d0)](0x3,_0x44a66a),0x78),Math[_0x2de7a1(0x71d)](Math[_0x2de7a1(0x6e2)]()*(_0x44a66a-_0x58c6e5+0x1)+_0x58c6e5)*0x3e8;}[a0_0x299ca5(0x638)](_0x33b83f){return new Promise(_0x322301=>setTimeout(_0x322301,_0x33b83f));}async[a0_0x299ca5(0x76f)](_0xf076d7){const _0x53ac52=a0_0x299ca5;if(!this['AutomateSystem']&&(await this[_0x53ac52(0x7c3)](),!this[_0x53ac52(0x42c)]))return null;_0xf076d7=this[_0x53ac52(0x156)](_0xf076d7);let _0xeb1d4e=await this[_0x53ac52(0x7d6)][_0x53ac52(0x76d)][_0x53ac52(0x151)]({'where':{'_id':_0xf076d7}},this[_0x53ac52(0x4dd)][_0x53ac52(0x851)]),_0x6a285={};if(_0xeb1d4e&&_0xeb1d4e['leadInfo']){let _0x4bae8c=_0xeb1d4e[_0x53ac52(0x59a)];typeof _0x4bae8c[_0x53ac52(0x41f)]==_0x53ac52(0x7a5)&&(_0x6a285['nome']=_0x4bae8c[_0x53ac52(0x41f)]),typeof _0x4bae8c[_0x53ac52(0x715)]==_0x53ac52(0x7a5)&&(_0x6a285[_0x53ac52(0x715)]=_0x4bae8c[_0x53ac52(0x715)]),typeof _0x4bae8c['email']==_0x53ac52(0x7a5)&&(_0x6a285[_0x53ac52(0x85c)]=_0x4bae8c[_0x53ac52(0x85c)]),typeof _0x4bae8c[_0x53ac52(0x4da)]==_0x53ac52(0x7a5)&&(_0x6a285['cpf']=_0x4bae8c[_0x53ac52(0x4da)]),typeof _0x4bae8c[_0x53ac52(0x5d8)]==_0x53ac52(0x7a5)&&(_0x6a285[_0x53ac52(0x5d8)]=_0x4bae8c[_0x53ac52(0x5d8)]),typeof _0x4bae8c[_0x53ac52(0x736)]==_0x53ac52(0x7a5)&&(_0x6a285[_0x53ac52(0x736)]=_0x4bae8c['notas']),typeof _0x4bae8c[_0x53ac52(0x28c)]==_0x53ac52(0x7a5)&&(_0x6a285['responsavelid']=_0x4bae8c[_0x53ac52(0x28c)]),Array['isArray'](_0x4bae8c[_0x53ac52(0x4a1)])&&(_0x6a285[_0x53ac52(0x4a1)]=_0x4bae8c['tags']['join'](',\x20')),Array['isArray'](_0x4bae8c[_0x53ac52(0x67b)])&&(_0x6a285[_0x53ac52(0x67b)]=_0x4bae8c[_0x53ac52(0x67b)][_0x53ac52(0x35d)](',\x20'));}return _0xeb1d4e&&_0xeb1d4e['leadInfo']&&_0xeb1d4e[_0x53ac52(0x59a)]['customFields']&&_0xeb1d4e[_0x53ac52(0x59a)][_0x53ac52(0x6bb)][_0x53ac52(0x613)](_0x56ad9d=>{const _0x47e6b2=_0x53ac52;let _0x1a1507=this[_0x47e6b2(0x42c)]?.[_0x47e6b2(0x6bb)]['find'](_0x798737=>_0x798737[_0x47e6b2(0x898)]===_0x56ad9d[_0x47e6b2(0x898)]);_0x1a1507&&(_0x6a285[_0x1a1507[_0x47e6b2(0x5d0)]]=_0x56ad9d['value']);}),_0x6a285;}async[a0_0x299ca5(0x42a)](_0x3fec2f,_0x145641){const _0x576fc1=a0_0x299ca5;try{let _0x4f3f4c=await this['getVariablesChat'](_0x145641);return this[_0x576fc1(0x44f)](_0x3fec2f,_0x4f3f4c);}catch(_0x1989ac){return this[_0x576fc1(0x31f)]['error'](_0x576fc1(0x254)+_0x145641+':\x20'+_0x1989ac),_0x3fec2f;}}async[a0_0x299ca5(0x51c)](){const _0x7d9cf2=a0_0x299ca5;let _0x5889a6=async(_0x509bff,_0x15c8e9)=>{const _0x25a33c=a0_0x49f7;let _0x15c5d1=(await this[_0x25a33c(0x7d6)]['scheduleMessage'][_0x25a33c(0x2b7)]({'where':{'type':_0x509bff}},this[_0x25a33c(0x4dd)][_0x25a33c(0x851)]))[_0x25a33c(0x3ae)](async _0x990d74=>{const _0x24ae15=_0x25a33c;let _0x267e36=_0x15c8e9(_0x990d74),_0x4e2943=_0x24dc79=>/^\d+$/['test'](_0x24dc79),_0x189d8e=_0x990d74[_0x24ae15(0x43b)]['filter'](_0x3af0e5=>_0x3af0e5[_0x24ae15(0x4d5)](_0x24ae15(0x5e0))?_0x3af0e5[_0x24ae15(0x84b)]>0x19:_0x3af0e5[_0x24ae15(0x4d5)](_0x24ae15(0x1ba))?_0x3af0e5[_0x24ae15(0x84b)]>0xf:_0x4e2943(_0x3af0e5)?_0x3af0e5[_0x24ae15(0x84b)]>=0xb:!0x1)['map'](_0x3d71c6=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x990d74[_0x24ae15(0x898)],'type':_0x267e36,'remoteJid':_0x3d71c6,'flow':_0x990d74[_0x24ae15(0x372)],'text':_0x990d74[_0x24ae15(0x503)]?.[_0x24ae15(0x69c)],'delay':_0x990d74[_0x24ae15(0x503)]?.['delay'],'urlOrBase64':_0x990d74['message']?.[_0x24ae15(0x4f0)],'linkPreview':_0x990d74[_0x24ae15(0x503)]?.[_0x24ae15(0x23a)],'fileName':_0x990d74[_0x24ae15(0x503)]?.[_0x24ae15(0x225)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x24ae15(0x7d6)][_0x24ae15(0x192)][_0x24ae15(0x642)](_0x990d74['_id'],{'$set':{'messages':_0x189d8e},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x24ae15(0x4dd)][_0x24ae15(0x851)]);}catch(_0x43343c){console[_0x24ae15(0x77f)](_0x24ae15(0x246)+_0x990d74[_0x24ae15(0x898)]+':',_0x43343c);}});await Promise[_0x25a33c(0x7e8)](_0x15c5d1);};await _0x5889a6(_0x7d9cf2(0x69c),_0x536ec1=>_0x7d9cf2(0x69c)),await _0x5889a6(_0x7d9cf2(0x451),_0x55e830=>_0x55e830[_0x7d9cf2(0x503)]?.[_0x7d9cf2(0x624)]||_0x7d9cf2(0x451)),await _0x5889a6(_0x7d9cf2(0x402),_0x3003e6=>_0x7d9cf2(0x402)),await _0x5889a6(_0x7d9cf2(0x65f),_0x42ad46=>_0x7d9cf2(0x65f)),await _0x5889a6(_0x7d9cf2(0x835),_0x3f931b=>_0x7d9cf2(0x835)),await _0x5889a6(_0x7d9cf2(0x2b4),_0x226d74=>_0x7d9cf2(0x2b4)),await _0x5889a6(_0x7d9cf2(0x61a),_0x4937a1=>'document'),this['logger'][_0x7d9cf2(0x727)](this[_0x7d9cf2(0x8b7)]+'\x20('+this[_0x7d9cf2(0x4dd)]['wuid']+_0x7d9cf2(0x764));}async[a0_0x299ca5(0x172)](_0xe5fa1c){const _0xbd21b2=a0_0x299ca5;try{if(this[_0xbd21b2(0x31f)][_0xbd21b2(0x727)](this[_0xbd21b2(0x8b7)]+'\x20('+this['instance'][_0xbd21b2(0x851)]+_0xbd21b2(0x45a)),_0xe5fa1c[_0xbd21b2(0x898)]||(_0xe5fa1c[_0xbd21b2(0x898)]=(0x0,Q['v4'])()),this[_0xbd21b2(0x4dd)][_0xbd21b2(0x21a)][_0xbd21b2(0x27f)]?.[_0xbd21b2(0x898)]===_0xe5fa1c[_0xbd21b2(0x898)]?.[_0xbd21b2(0x5a7)]()){if(_0xe5fa1c[_0xbd21b2(0x5d8)]===_0xbd21b2(0x25f))this[_0xbd21b2(0x4dd)]['ScheduleMessage'][_0xbd21b2(0x27f)]=null;else throw new Error(_0xbd21b2(0x7f0));}if(_0xe5fa1c[_0xbd21b2(0x3be)]&&_0xe5fa1c[_0xbd21b2(0x898)]){let _0x431a04=await this['repository']['scheduleMessage'][_0xbd21b2(0x441)](_0xe5fa1c[_0xbd21b2(0x898)],this[_0xbd21b2(0x4dd)][_0xbd21b2(0x851)]);return setTimeout(()=>this[_0xbd21b2(0x24c)](),0x7d0),_0x431a04;}let _0x4f5d64=null;if(_0xe5fa1c[_0xbd21b2(0x898)]&&(_0x4f5d64=await this[_0xbd21b2(0x7d6)][_0xbd21b2(0x192)][_0xbd21b2(0x861)](_0xe5fa1c[_0xbd21b2(0x898)],this['instance'][_0xbd21b2(0x851)])),_0x4f5d64){let {_id:_0x2137b9,owner:_0x351312,messages:_0x345316,..._0x4bb937}=_0xe5fa1c;if(_0x345316){let _0xf2b690=_0x345316[_0xbd21b2(0x67c)](_0x3d15c5=>!_0x3d15c5['_id']),_0x1310c1=_0x345316[_0xbd21b2(0x67c)](_0x3e591e=>_0x3e591e[_0xbd21b2(0x898)]&&!_0x3e591e[_0xbd21b2(0x3be)]),_0x216d80=_0x345316[_0xbd21b2(0x67c)](_0x261a29=>_0x261a29[_0xbd21b2(0x898)]&&_0x261a29['delete']);if(_0xf2b690[_0xbd21b2(0x84b)]>0x0&&await this[_0xbd21b2(0x208)](_0xe5fa1c['_id'],_0xf2b690),_0x1310c1['length']>0x0&&await this[_0xbd21b2(0x4c8)]({'_id':_0xe5fa1c[_0xbd21b2(0x898)],'messages':_0x1310c1}),_0x216d80[_0xbd21b2(0x84b)]>0x0){let _0x311e38=_0x216d80[_0xbd21b2(0x3ae)](_0x3f9ed5=>({'updateOne':{'filter':{'_id':_0xe5fa1c[_0xbd21b2(0x898)]},'update':{'$pull':{'messages':{'_id':_0x3f9ed5[_0xbd21b2(0x898)]}}}}}));await this[_0xbd21b2(0x7d6)][_0xbd21b2(0x192)]['bulkWrite'](_0x311e38,this[_0xbd21b2(0x4dd)][_0xbd21b2(0x851)]);}}let _0x465f40={'$set':{..._0x4bb937,'status':_0xe5fa1c[_0xbd21b2(0x5d8)]||_0x4f5d64[_0xbd21b2(0x5d8)]}},_0x339361=await this[_0xbd21b2(0x7d6)][_0xbd21b2(0x192)][_0xbd21b2(0x642)](_0xe5fa1c[_0xbd21b2(0x898)],_0x465f40,this[_0xbd21b2(0x4dd)][_0xbd21b2(0x851)]);return _0x339361&&(this['reorderMessages'](_0x339361[_0xbd21b2(0x703)]),await this[_0xbd21b2(0x7d6)]['scheduleMessage'][_0xbd21b2(0x642)](_0x339361[_0xbd21b2(0x898)],{'$set':{'messages':_0x339361[_0xbd21b2(0x703)]}},this[_0xbd21b2(0x4dd)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0xbd21b2(0x51c)](),_0x339361;}else{_0xe5fa1c['owner']=this['instance'][_0xbd21b2(0x851)],_0xe5fa1c[_0xbd21b2(0x703)]&&_0xe5fa1c[_0xbd21b2(0x703)][_0xbd21b2(0x613)](_0x377df1=>{const _0x449ab1=_0xbd21b2;_0x377df1['_id']||(_0x377df1[_0x449ab1(0x898)]=(0x0,Q['v4'])()),_0x377df1[_0x449ab1(0x12c)]||(_0x377df1[_0x449ab1(0x12c)]=_0xe5fa1c[_0x449ab1(0x898)]),delete _0x377df1[_0x449ab1(0x790)];});let _0x427b93=await this[_0xbd21b2(0x7d6)][_0xbd21b2(0x192)][_0xbd21b2(0x539)](_0xe5fa1c,this[_0xbd21b2(0x4dd)][_0xbd21b2(0x851)]);return _0x427b93&&(this['reorderMessages'](_0x427b93['messages']),await this['repository'][_0xbd21b2(0x192)][_0xbd21b2(0x642)](_0x427b93[_0xbd21b2(0x898)],{'$set':{'messages':_0x427b93[_0xbd21b2(0x703)]}},this[_0xbd21b2(0x4dd)]['wuid'])),setTimeout(()=>this[_0xbd21b2(0x24c)](),0x7d0),_0x427b93;}}catch(_0x57de97){let _0xbf95e8='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x1bc25d=_0x57de97 instanceof Error?_0x57de97['message']:typeof _0x57de97==_0xbd21b2(0x6dc)?JSON[_0xbd21b2(0x6ed)](_0x57de97):_0x57de97,_0x2cad63=_0xbf95e8+':\x20'+_0x1bc25d;throw this['logger']['error'](this[_0xbd21b2(0x8b7)]+'\x20('+this[_0xbd21b2(0x4dd)][_0xbd21b2(0x851)]+'):\x20'+_0x2cad63),new m(_0x2cad63);}}async[a0_0x299ca5(0x208)](_0x178027,_0x1fd209){const _0x5873a3=a0_0x299ca5;try{this[_0x5873a3(0x31f)][_0x5873a3(0x8bd)](this[_0x5873a3(0x8b7)]+'\x20('+this[_0x5873a3(0x4dd)][_0x5873a3(0x851)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x1fd209['forEach'](_0x5d5d8d=>{const _0x4fcfa6=_0x5873a3;_0x5d5d8d[_0x4fcfa6(0x898)]||(_0x5d5d8d[_0x4fcfa6(0x898)]=(0x0,Q['v4'])()),_0x5d5d8d[_0x4fcfa6(0x12c)]||(_0x5d5d8d[_0x4fcfa6(0x12c)]=_0x178027),delete _0x5d5d8d[_0x4fcfa6(0x790)];});let _0x421475={'$push':{'messages':{'$each':_0x1fd209}}},_0x1f2ae3=await this[_0x5873a3(0x7d6)][_0x5873a3(0x192)][_0x5873a3(0x642)](_0x178027,_0x421475,this['instance']['wuid']);return _0x1f2ae3&&(this[_0x5873a3(0x6a2)](_0x1f2ae3[_0x5873a3(0x703)]),await this[_0x5873a3(0x7d6)][_0x5873a3(0x192)][_0x5873a3(0x642)](_0x1f2ae3[_0x5873a3(0x898)],{'$set':{'messages':_0x1f2ae3['messages']}},this['instance'][_0x5873a3(0x851)])),_0x1f2ae3;}catch(_0x53f58b){let _0xc2ccf1='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x5a770e=_0x53f58b instanceof Error?_0x53f58b['message']:typeof _0x53f58b==_0x5873a3(0x6dc)?JSON[_0x5873a3(0x6ed)](_0x53f58b):_0x53f58b,_0x343922=_0xc2ccf1+':\x20'+_0x5a770e;throw this[_0x5873a3(0x31f)][_0x5873a3(0x77f)](this[_0x5873a3(0x8b7)]+'\x20('+this[_0x5873a3(0x4dd)][_0x5873a3(0x851)]+_0x5873a3(0x215)+_0x343922),new m(_0x343922);}}async[a0_0x299ca5(0x4c8)](_0x12d08b){const _0x92c284=a0_0x299ca5;try{if(this[_0x92c284(0x31f)][_0x92c284(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x92c284(0x851)]+_0x92c284(0x864)),!_0x12d08b[_0x92c284(0x898)]||!_0x12d08b[_0x92c284(0x703)])throw new Error(_0x92c284(0x315));let _0x44bd1a=_0x12d08b['_id'],_0x13bf99=_0x12d08b[_0x92c284(0x703)],_0x282f1b=_0x13bf99[_0x92c284(0x67c)](_0x497832=>!_0x497832[_0x92c284(0x3be)])[_0x92c284(0x3ae)](_0x2043a3=>{const _0x332386=_0x92c284;let _0x5d9b92=_0x2043a3[_0x332386(0x898)];if(!_0x5d9b92)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x2043a3[_0x332386(0x12c)]||(_0x2043a3[_0x332386(0x12c)]=_0x44bd1a),delete _0x2043a3[_0x332386(0x790)],{'updateOne':{'filter':{'_id':_0x44bd1a,'messages._id':_0x5d9b92},'update':{'$set':{'messages.$[elem]':_0x2043a3}},'arrayFilters':[{'elem._id':_0x5d9b92}]}};}),_0x29a0c=_0x13bf99[_0x92c284(0x67c)](_0x53d7ac=>_0x53d7ac['delete'])[_0x92c284(0x3ae)](_0xecc106=>{const _0x1475ba=_0x92c284;let _0x372a0d=_0xecc106[_0x1475ba(0x898)];if(!_0x372a0d)throw new Error(_0x1475ba(0x65b));return{'updateOne':{'filter':{'_id':_0x44bd1a},'update':{'$pull':{'messages':{'_id':_0x372a0d}}}}};}),_0x23de88=[..._0x282f1b,..._0x29a0c],_0x5c6c41=await this['repository'][_0x92c284(0x192)][_0x92c284(0x516)](_0x23de88,this['instance'][_0x92c284(0x851)]),_0x49533f=await this[_0x92c284(0x7d6)][_0x92c284(0x192)]['findById'](_0x44bd1a,this[_0x92c284(0x4dd)][_0x92c284(0x851)]);return _0x49533f&&(this[_0x92c284(0x6a2)](_0x49533f[_0x92c284(0x703)]),await this[_0x92c284(0x7d6)][_0x92c284(0x192)][_0x92c284(0x642)](_0x49533f[_0x92c284(0x898)],{'$set':{'messages':_0x49533f[_0x92c284(0x703)]}},this['instance']['wuid'])),_0x49533f;}catch(_0x5df1b8){let _0x3596a1=_0x92c284(0x3c3),_0x19e0b8=_0x5df1b8 instanceof Error?_0x5df1b8['message']:typeof _0x5df1b8==_0x92c284(0x6dc)?JSON[_0x92c284(0x6ed)](_0x5df1b8):_0x5df1b8,_0x215752=_0x3596a1+':\x20'+_0x19e0b8;throw this[_0x92c284(0x31f)][_0x92c284(0x77f)](this[_0x92c284(0x8b7)]+'\x20('+this[_0x92c284(0x4dd)][_0x92c284(0x851)]+_0x92c284(0x215)+_0x215752),new m(_0x215752);}}async[a0_0x299ca5(0x89c)](){const _0xf20edf=a0_0x299ca5;try{let _0x21dd76={'status':_0xf20edf(0x4e4)},_0x3ecb89=await this['repository']['scheduleMessage']['deleteMany'](_0x21dd76,this['instance'][_0xf20edf(0x851)]);if(!_0x3ecb89[_0xf20edf(0x77f)])this['logger'][_0xf20edf(0x8bd)](this['instanceName']+'\x20('+this[_0xf20edf(0x4dd)]['wuid']+_0xf20edf(0x79e));else throw new Error(_0x3ecb89[_0xf20edf(0x77f)][_0xf20edf(0x503)]||_0xf20edf(0x2eb));return this[_0xf20edf(0x494)]();}catch(_0x593614){let _0x8e898e='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x28455e=_0x593614 instanceof Error?_0x593614[_0xf20edf(0x503)]:typeof _0x593614==_0xf20edf(0x6dc)?JSON[_0xf20edf(0x6ed)](_0x593614):_0x593614,_0x4a0e1b=_0x8e898e+':\x20'+_0x28455e;throw this[_0xf20edf(0x31f)]['error'](this[_0xf20edf(0x8b7)]+'\x20('+this[_0xf20edf(0x4dd)][_0xf20edf(0x851)]+_0xf20edf(0x215)+_0x4a0e1b),new m(_0x4a0e1b);}}async['deleteAllMessages'](){const _0x3adde9=a0_0x299ca5;try{this[_0x3adde9(0x4dd)]['ScheduleMessage']['isConnected']=!0x1,this['instance'][_0x3adde9(0x21a)][_0x3adde9(0x27f)]=null,this['queue']&&this[_0x3adde9(0x2e1)][_0x3adde9(0x211)](),this['logger']['verbose'](this[_0x3adde9(0x8b7)]+'\x20('+this[_0x3adde9(0x4dd)][_0x3adde9(0x851)]+_0x3adde9(0x6c8)),await new Promise(_0x43e3f3=>setTimeout(_0x43e3f3,0x1388)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3adde9(0x4dd)][_0x3adde9(0x851)]+_0x3adde9(0x3ef));let _0x101fd8=await this[_0x3adde9(0x7d6)][_0x3adde9(0x192)][_0x3adde9(0x66e)]({},this[_0x3adde9(0x4dd)][_0x3adde9(0x851)]);if(!_0x101fd8[_0x3adde9(0x77f)])this[_0x3adde9(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x3adde9(0x4dd)]['wuid']+_0x3adde9(0x6e4)),this[_0x3adde9(0x31f)][_0x3adde9(0x8bd)](this[_0x3adde9(0x8b7)]+'\x20('+this[_0x3adde9(0x4dd)][_0x3adde9(0x851)]+_0x3adde9(0x7b9)),await new Promise(_0x876199=>setTimeout(_0x876199,0x1388)),this[_0x3adde9(0x4dd)][_0x3adde9(0x21a)]['isConnected']=!0x0,this[_0x3adde9(0x31f)][_0x3adde9(0x8bd)](this[_0x3adde9(0x8b7)]+'\x20('+this[_0x3adde9(0x4dd)]['wuid']+'):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.'),this['scheduleNextCheck']();else throw new Error(_0x101fd8[_0x3adde9(0x77f)][_0x3adde9(0x503)]||_0x3adde9(0x2eb));return this[_0x3adde9(0x494)]();}catch(_0x3c6879){let _0x103927='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens',_0x45cbe3=_0x3c6879 instanceof Error?_0x3c6879[_0x3adde9(0x503)]:typeof _0x3c6879==_0x3adde9(0x6dc)?JSON[_0x3adde9(0x6ed)](_0x3c6879):_0x3c6879,_0x4864e1=_0x103927+':\x20'+_0x45cbe3;throw this[_0x3adde9(0x31f)][_0x3adde9(0x77f)](this[_0x3adde9(0x8b7)]+'\x20('+this[_0x3adde9(0x4dd)][_0x3adde9(0x851)]+_0x3adde9(0x215)+_0x4864e1),new m(_0x4864e1);}}async[a0_0x299ca5(0x494)](){const _0x3c6a79=a0_0x299ca5;try{return await this[_0x3c6a79(0x7d6)][_0x3c6a79(0x192)][_0x3c6a79(0x2b7)]({'where':{}},this[_0x3c6a79(0x4dd)][_0x3c6a79(0x851)]);}catch(_0x2532e8){let _0x2b610d='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x597df8=_0x2532e8 instanceof Error?_0x2532e8['message']:typeof _0x2532e8==_0x3c6a79(0x6dc)?JSON[_0x3c6a79(0x6ed)](_0x2532e8):_0x2532e8,_0x16b78b=_0x2b610d+':\x20'+_0x597df8;throw this[_0x3c6a79(0x31f)]['error'](this[_0x3c6a79(0x8b7)]+'\x20('+this[_0x3c6a79(0x4dd)][_0x3c6a79(0x851)]+'):\x20'+_0x16b78b),new m(_0x16b78b);}}['reorderMessages'](_0x32cd20){const _0x39fcb1=a0_0x299ca5;_0x32cd20['sort']((_0x1b5aed,_0x267840)=>_0x1b5aed[_0x39fcb1(0x4b4)]-_0x267840[_0x39fcb1(0x4b4)]),_0x32cd20[_0x39fcb1(0x613)]((_0x98f77f,_0x21dc8b)=>{_0x98f77f['order']=_0x21dc8b+0x1;});}async['SendScheduleMessage'](_0x24b9f0,_0x4b38af){const _0x1a517f=a0_0x299ca5;try{if(!_0x4b38af)return this[_0x1a517f(0x31f)][_0x1a517f(0x77f)](this[_0x1a517f(0x8b7)]+'\x20('+this[_0x1a517f(0x4dd)]['wuid']+_0x1a517f(0x7a2)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x4b38af[_0x1a517f(0x82f)]===_0x1a517f(0x65f)&&!this['AutomateSystem']?.[_0x1a517f(0x32b)][_0x1a517f(0x86b)])return this[_0x1a517f(0x31f)][_0x1a517f(0x77f)](this[_0x1a517f(0x8b7)]+'\x20('+this[_0x1a517f(0x4dd)]['wuid']+_0x1a517f(0x31c)),{'error':!0x0,'detail':_0x1a517f(0x7c9)};switch(_0x4b38af[_0x1a517f(0x82f)]){case _0x1a517f(0x69c):return await this[_0x1a517f(0x37c)](_0x4b38af,_0x24b9f0);case _0x1a517f(0x2b4):case'image':case _0x1a517f(0x61a):return await this[_0x1a517f(0x8a5)](_0x4b38af,_0x24b9f0);case _0x1a517f(0x402):return await this[_0x1a517f(0x175)](_0x4b38af,_0x24b9f0);case'flow':let _0x3fb6ad=new Qe();return _0x3fb6ad[_0x1a517f(0x5d0)]=_0x4b38af[_0x1a517f(0x65f)],_0x3fb6ad['remoteJid']=_0x24b9f0,await this['startFlow'](_0x3fb6ad);default:return this[_0x1a517f(0x31f)][_0x1a517f(0x77f)](this[_0x1a517f(0x8b7)]+'\x20('+this['instance'][_0x1a517f(0x851)]+_0x1a517f(0x775)+_0x4b38af[_0x1a517f(0x82f)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x447f9f){return this[_0x1a517f(0x31f)][_0x1a517f(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x1a517f(0x851)]+_0x1a517f(0x7de)+(_0x447f9f instanceof Error?_0x447f9f['message']:JSON['stringify'](_0x447f9f,null,0x2))),{'error':!0x0,'detail':_0x447f9f[_0x1a517f(0x503)]};}}async[a0_0x299ca5(0x37c)](_0x2f3ce3,_0x33cb6c){const _0x165f98=a0_0x299ca5;if(this[_0x165f98(0x31f)][_0x165f98(0x8bd)](this['instanceName']+'\x20('+this['instance'][_0x165f98(0x851)]+_0x165f98(0x3a1)+_0x33cb6c+'\x27'),!_0x2f3ce3['text']||_0x2f3ce3['text'][_0x165f98(0x84b)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x359ddf=await this['replaceVariablesChat'](_0x2f3ce3[_0x165f98(0x69c)],_0x33cb6c),_0x373748={'number':_0x33cb6c,'options':{'delay':_0x2f3ce3[_0x165f98(0x5bf)],'linkPreview':_0x2f3ce3[_0x165f98(0x23a)]},'textMessage':{'text':_0x359ddf}},_0x544d61=null;try{let _0x447962=await this[_0x165f98(0x1a2)](_0x373748);if(_0x447962&&_0x447962[_0x165f98(0x5d8)])return{'error':!0x1,'id':_0x447962[_0x165f98(0x143)]['id']};_0x544d61=JSON[_0x165f98(0x6ed)](_0x447962),this[_0x165f98(0x31f)][_0x165f98(0x8bd)](this[_0x165f98(0x8b7)]+'\x20('+this[_0x165f98(0x4dd)][_0x165f98(0x851)]+_0x165f98(0x215)+_0x544d61);}catch(_0x3c3b82){this[_0x165f98(0x31f)][_0x165f98(0x77f)](this[_0x165f98(0x8b7)]+'\x20('+this[_0x165f98(0x4dd)]['wuid']+_0x165f98(0x6d1)+(_0x3c3b82 instanceof Error?_0x3c3b82[_0x165f98(0x503)]:JSON['stringify'](_0x3c3b82,null,0x2))),_0x544d61=_0x3c3b82[_0x165f98(0x503)];}if(_0x544d61)return{'error':!0x0,'detail':(typeof _0x544d61==_0x165f98(0x6dc)?JSON[_0x165f98(0x6ed)](_0x544d61,null,0x2):_0x544d61)[_0x165f98(0x35f)](/[\[\]{}\n]/g,'\x20')[_0x165f98(0x35f)](/  +/g,'\x20')};}async[a0_0x299ca5(0x8a5)](_0x1fdcfa,_0x2294f4){const _0x2e5f80=a0_0x299ca5;this[_0x2e5f80(0x31f)][_0x2e5f80(0x8bd)](this[_0x2e5f80(0x8b7)]+'\x20('+this[_0x2e5f80(0x4dd)][_0x2e5f80(0x851)]+_0x2e5f80(0x234)+_0x2294f4+'\x27');let _0xf08238;_0x1fdcfa['text']&&_0x1fdcfa['text'][_0x2e5f80(0x84b)]>0x0&&(_0xf08238=await this[_0x2e5f80(0x42a)](_0x1fdcfa[_0x2e5f80(0x69c)],_0x2294f4));let _0x2fb4aa={'number':_0x2294f4,'options':{'delay':_0x1fdcfa[_0x2e5f80(0x5bf)],'linkPreview':_0x1fdcfa[_0x2e5f80(0x23a)]},'mediaMessage':{'mediatype':_0x1fdcfa[_0x2e5f80(0x82f)],'caption':_0xf08238,'media':_0x1fdcfa[_0x2e5f80(0x4f0)]}},_0x40d419=null;try{let _0x3bf1ad=await this[_0x2e5f80(0x59c)](_0x2fb4aa);if(_0x3bf1ad&&_0x3bf1ad[_0x2e5f80(0x5d8)])return{'error':!0x1,'id':_0x3bf1ad[_0x2e5f80(0x143)]['id']};_0x40d419=JSON[_0x2e5f80(0x6ed)](_0x3bf1ad),this['logger'][_0x2e5f80(0x8bd)](this[_0x2e5f80(0x8b7)]+'\x20('+this[_0x2e5f80(0x4dd)][_0x2e5f80(0x851)]+_0x2e5f80(0x215)+_0x40d419);}catch(_0x240f52){this[_0x2e5f80(0x31f)][_0x2e5f80(0x77f)](this[_0x2e5f80(0x8b7)]+'\x20('+this[_0x2e5f80(0x4dd)]['wuid']+_0x2e5f80(0x6bc)+(_0x240f52 instanceof Error?_0x240f52[_0x2e5f80(0x503)]:JSON[_0x2e5f80(0x6ed)](_0x240f52,null,0x2))),_0x40d419=_0x240f52[_0x2e5f80(0x503)];}if(_0x40d419)return{'error':!0x0,'detail':(typeof _0x40d419==_0x2e5f80(0x6dc)?JSON['stringify'](_0x40d419,null,0x2):_0x40d419)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x299ca5(0x175)](_0x32d26b,_0x4c6012){const _0x1fdb72=a0_0x299ca5;this['logger'][_0x1fdb72(0x8bd)](this[_0x1fdb72(0x8b7)]+'\x20('+this['instance'][_0x1fdb72(0x851)]+_0x1fdb72(0x1b2)+_0x4c6012+'\x27');let _0x3b7cf2={'number':_0x4c6012,'options':{'delay':_0x32d26b[_0x1fdb72(0x5bf)]},'audioMessage':{'audio':_0x32d26b[_0x1fdb72(0x4f0)]}},_0x2d6a5c=null;try{let _0x1e2adc=await this[_0x1fdb72(0x75c)](_0x3b7cf2);if(_0x1e2adc&&_0x1e2adc[_0x1fdb72(0x5d8)])return{'error':!0x1,'id':_0x1e2adc[_0x1fdb72(0x143)]['id']};_0x2d6a5c=JSON[_0x1fdb72(0x6ed)](_0x1e2adc),this[_0x1fdb72(0x31f)][_0x1fdb72(0x8bd)](this[_0x1fdb72(0x8b7)]+'\x20('+this[_0x1fdb72(0x4dd)][_0x1fdb72(0x851)]+_0x1fdb72(0x215)+_0x2d6a5c);}catch(_0x3b5373){this[_0x1fdb72(0x31f)][_0x1fdb72(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x1fdb72(0x851)]+_0x1fdb72(0x744)+(_0x3b5373 instanceof Error?_0x3b5373[_0x1fdb72(0x503)]:JSON['stringify'](_0x3b5373,null,0x2))),_0x2d6a5c=_0x3b5373[_0x1fdb72(0x503)];}if(_0x2d6a5c)return{'error':!0x0,'detail':(typeof _0x2d6a5c==_0x1fdb72(0x6dc)?JSON['stringify'](_0x2d6a5c,null,0x2):_0x2d6a5c)[_0x1fdb72(0x35f)](/[\[\]{}\n]/g,'\x20')[_0x1fdb72(0x35f)](/  +/g,'\x20')};}async[a0_0x299ca5(0x726)](_0x473c84){const _0xc69c58=a0_0x299ca5;try{return await this[_0xc69c58(0x6a1)][_0xc69c58(0x213)](_0x473c84[_0xc69c58(0x661)],_0x473c84[_0xc69c58(0x5f4)]),{'update':_0xc69c58(0x242)};}catch(_0x3071b5){let _0xf740db='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x466698=_0x3071b5 instanceof Error?_0x3071b5[_0xc69c58(0x503)]:typeof _0x3071b5=='object'?JSON[_0xc69c58(0x6ed)](_0x3071b5):_0x3071b5,_0x41d304=_0xf740db+':\x20'+_0x466698;throw this['logger'][_0xc69c58(0x77f)](this[_0xc69c58(0x8b7)]+'\x20('+this[_0xc69c58(0x4dd)][_0xc69c58(0x851)]+_0xc69c58(0x215)+_0x41d304),new x(_0x41d304);}}async['groupName'](_0x274dc2){const _0x4b320a=a0_0x299ca5;try{return await this[_0x4b320a(0x6a1)][_0x4b320a(0x6eb)](_0x274dc2[_0x4b320a(0x661)],_0x274dc2['name']),{'update':_0x4b320a(0x242)};}catch(_0x5339e1){let _0x27a0b8=_0x4b320a(0x751),_0x4f3a1c=_0x5339e1 instanceof Error?_0x5339e1[_0x4b320a(0x503)]:typeof _0x5339e1==_0x4b320a(0x6dc)?JSON[_0x4b320a(0x6ed)](_0x5339e1):_0x5339e1,_0x3f5fb1=_0x27a0b8+':\x20'+_0x4f3a1c;throw this['logger'][_0x4b320a(0x77f)](this['instanceName']+'\x20('+this[_0x4b320a(0x4dd)]['wuid']+_0x4b320a(0x215)+_0x3f5fb1),new x(_0x3f5fb1);}}async[a0_0x299ca5(0x778)](_0xa91d57){const _0x28664e=a0_0x299ca5;try{let _0x43061d=await this[_0x28664e(0x6a1)][_0x28664e(0x1ec)](_0xa91d57[_0x28664e(0x661)],_0xa91d57[_0x28664e(0x425)]);return{'success':!0x0};}catch(_0x50ea17){let _0x89e628=_0x28664e(0x291),_0x2a4fd2=_0x50ea17 instanceof Error?_0x50ea17[_0x28664e(0x503)]:typeof _0x50ea17==_0x28664e(0x6dc)?JSON[_0x28664e(0x6ed)](_0x50ea17):_0x50ea17,_0x58b7a6=_0x89e628+':\x20'+_0x2a4fd2;throw this['logger'][_0x28664e(0x77f)](this[_0x28664e(0x8b7)]+'\x20('+this[_0x28664e(0x4dd)][_0x28664e(0x851)]+_0x28664e(0x215)+_0x58b7a6),new x(_0x58b7a6);}}async[a0_0x299ca5(0x332)](_0x3ebe57){const _0xaa8faa=a0_0x299ca5;try{return await this['client'][_0xaa8faa(0x83c)](_0x3ebe57['groupJid'],_0x3ebe57['setting']),{'update':_0xaa8faa(0x242)};}catch(_0x431bd7){let _0x386962='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x379153=_0x431bd7 instanceof Error?_0x431bd7[_0xaa8faa(0x503)]:typeof _0x431bd7==_0xaa8faa(0x6dc)?JSON[_0xaa8faa(0x6ed)](_0x431bd7):_0x431bd7,_0x4f4459=_0x386962+':\x20'+_0x379153;throw this['logger'][_0xaa8faa(0x77f)](this[_0xaa8faa(0x8b7)]+'\x20('+this[_0xaa8faa(0x4dd)]['wuid']+_0xaa8faa(0x215)+_0x4f4459),new x(_0x4f4459);}}async['updateGroupPicture'](_0x57e38d){const _0x5b41d7=a0_0x299ca5;try{let _0x128b71;if((0x0,J[_0x5b41d7(0x6e5)])(_0x57e38d[_0x5b41d7(0x835)])){let _0xb9a318=new Date()[_0x5b41d7(0x765)](),_0x5d0678=_0x57e38d[_0x5b41d7(0x835)]+_0x5b41d7(0x881)+_0xb9a318;_0x128b71=(await K[_0x5b41d7(0x222)][_0x5b41d7(0x2ed)](_0x5d0678,{'responseType':'arraybuffer'}))[_0x5b41d7(0x2fb)];}else{if((0x0,J[_0x5b41d7(0x674)])(_0x57e38d['image']))_0x128b71=Buffer[_0x5b41d7(0x374)](_0x57e38d[_0x5b41d7(0x835)],_0x5b41d7(0x566));else throw new m(_0x5b41d7(0x466));}return await this[_0x5b41d7(0x6a1)][_0x5b41d7(0x81e)](_0x57e38d[_0x5b41d7(0x661)],_0x128b71),{'update':_0x5b41d7(0x242)};}catch(_0x4503e5){let _0x33302e='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x73ab06=_0x4503e5 instanceof Error?_0x4503e5['message']:typeof _0x4503e5=='object'?JSON['stringify'](_0x4503e5):_0x4503e5,_0x2075b9=_0x33302e+':\x20'+_0x73ab06;throw this[_0x5b41d7(0x31f)][_0x5b41d7(0x77f)](this['instanceName']+'\x20('+this[_0x5b41d7(0x4dd)]['wuid']+_0x5b41d7(0x215)+_0x2075b9),new x(_0x2075b9);}}},Vt=class l{constructor(_0x214ed9,_0xccade7,_0x4dadcf){const _0x2b7104=a0_0x299ca5;this[_0x2b7104(0x6e3)]=_0x214ed9,this[_0x2b7104(0x1d9)]=_0xccade7,this[_0x2b7104(0x7d6)]=_0x4dadcf,this['db']={},this[_0x2b7104(0x52b)]={},this[_0x2b7104(0x31f)]=new R(l[_0x2b7104(0x5d0)]),this[_0x2b7104(0x622)]={},(this[_0x2b7104(0x18a)](),this[_0x2b7104(0x809)](),Object[_0x2b7104(0x243)](this['db'],_0xccade7[_0x2b7104(0x2ed)](_0x2b7104(0x65d))),Object[_0x2b7104(0x243)](this[_0x2b7104(0x52b)],_0xccade7[_0x2b7104(0x2ed)](_0x2b7104(0x2b9))),this['dbInstance']=this['db'][_0x2b7104(0x5d5)]?this[_0x2b7104(0x7d6)][_0x2b7104(0x1e2)]?.['db'](this['db'][_0x2b7104(0x595)][_0x2b7104(0x68a)]+'-instances'):void 0x0,this[_0x2b7104(0x1c7)]=this[_0x2b7104(0x52b)][_0x2b7104(0x5d5)]?new de(this[_0x2b7104(0x52b)]):void 0x0);}async[a0_0x299ca5(0x408)](_0x202353){const _0x40a50d=a0_0x299ca5;if(_0x202353&&!this['waInstances'][_0x202353])throw new U(_0x40a50d(0x472)+_0x202353+'\x22\x20not\x20found');let _0x19fd6d=[];for await(let [_0x9187f7,_0x122840]of Object[_0x40a50d(0x491)](this['waInstances']))if(_0x122840&&_0x122840[_0x40a50d(0x1ff)][_0x40a50d(0x187)]==='open'){let _0x32b859=await this['repository'][_0x40a50d(0x4c1)][_0x40a50d(0x2b7)](_0x9187f7);_0x19fd6d['push']({'instance':{'instanceName':_0x9187f7,'apikey':_0x32b859[_0x40a50d(0x78e)],'owner':_0x122840[_0x40a50d(0x851)],'profileName':await _0x122840[_0x40a50d(0x5ed)]()||_0x40a50d(0x739),'profilePictureUrl':_0x122840[_0x40a50d(0x28e)]}});}return _0x19fd6d['find'](_0x3f21ec=>_0x3f21ec[_0x40a50d(0x4dd)][_0x40a50d(0x8b7)]===_0x202353)??_0x19fd6d;}async[a0_0x299ca5(0x223)](_0x4e1634){const _0x41b854=a0_0x299ca5;if(this['db'][_0x41b854(0x5d5)]&&(await this[_0x41b854(0x7d6)]['dbServer'][_0x41b854(0x1a9)](),(await this[_0x41b854(0x84e)][_0x41b854(0x13e)]())['length']>0x0&&await this[_0x41b854(0x84e)][_0x41b854(0x5e5)](_0x4e1634)),this[_0x41b854(0x52b)][_0x41b854(0x5d5)]){this[_0x41b854(0x1c7)][_0x41b854(0x891)]=_0x4e1634,await this[_0x41b854(0x1c7)][_0x41b854(0x84c)]();return;}}async[a0_0x299ca5(0x7e9)](){const _0x117213=a0_0x299ca5;await this[_0x117213(0x3da)]();let _0xe01d82=async _0x2a0248=>{const _0x19db2e=_0x117213;let _0x1a4ce1=new Ae(this[_0x19db2e(0x1d9)],this[_0x19db2e(0x6e3)],this[_0x19db2e(0x7d6)]);_0x1a4ce1[_0x19db2e(0x8b7)]=_0x2a0248,await _0x1a4ce1[_0x19db2e(0x26a)](),this[_0x19db2e(0x622)][_0x2a0248]=_0x1a4ce1;};try{if(this[_0x117213(0x52b)][_0x117213(0x5d5)]){let _0x7a9778=await this[_0x117213(0x1c7)][_0x117213(0x23f)]();_0x7a9778?.[_0x117213(0x84b)]>0x0&&_0x7a9778[_0x117213(0x613)](async _0x99bf30=>await _0xe01d82(_0x99bf30[_0x117213(0x5ca)](':')[0x1]));return;}if(this['db'][_0x117213(0x5d5)]){await this[_0x117213(0x7d6)][_0x117213(0x1e2)][_0x117213(0x1a9)]();let _0x5adfba=await this[_0x117213(0x84e)]['collections']();_0x5adfba[_0x117213(0x84b)]>0x0&&_0x5adfba[_0x117213(0x613)](async _0x335596=>await _0xe01d82(_0x335596[_0x117213(0x461)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x2a32b3){this[_0x117213(0x31f)]['error'](_0x2a32b3);}}async[a0_0x299ca5(0x737)](){const _0x5ac4b0=a0_0x299ca5;try{let _0xab1318=await this[_0x5ac4b0(0x7d6)][_0x5ac4b0(0x4c1)][_0x5ac4b0(0x232)]({'online':!0x1});console[_0x5ac4b0(0x666)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0xab1318['length']);let _0x38c29b={'online':!0x1},_0x3036cc=await this['repository'][_0x5ac4b0(0x4c1)][_0x5ac4b0(0x66e)](_0x38c29b);console[_0x5ac4b0(0x666)](_0x5ac4b0(0x3f3)+_0x3036cc[_0x5ac4b0(0x6fc)]);}catch(_0x192ec8){console['error'](_0x5ac4b0(0x399),_0x192ec8);}}async[a0_0x299ca5(0x3da)](){const _0x26e932=a0_0x299ca5;try{let _0x388e6d={'online':!0x1},_0x1c0717={'online':!0x1,'lastDisconnect':Date['now']()},_0xb81a78=await this[_0x26e932(0x7d6)][_0x26e932(0x4c1)][_0x26e932(0x403)](_0x388e6d,_0x1c0717);await this[_0x26e932(0x737)]();}catch(_0x6f09df){console[_0x26e932(0x77f)](_0x26e932(0x8c0),_0x6f09df);}}[a0_0x299ca5(0x18a)](){const _0x4bfea8=a0_0x299ca5;this[_0x4bfea8(0x6e3)]['on'](_0x4bfea8(0x1ac),async _0x2af09f=>{const _0x73b3a9=_0x4bfea8;try{this[_0x73b3a9(0x622)][_0x2af09f]=void 0x0;}catch{}try{this[_0x73b3a9(0x223)](_0x2af09f);}finally{this[_0x73b3a9(0x31f)]['warn']('Instance\x20\x22'+_0x2af09f+_0x73b3a9(0x841));}});}[a0_0x299ca5(0x809)](){const _0xe0759d=a0_0x299ca5;this[_0xe0759d(0x6e3)]['on'](_0xe0759d(0x8bf),async _0x24c67a=>{const _0x39a5e9=_0xe0759d;try{this[_0x39a5e9(0x622)][_0x24c67a]=void 0x0;}catch{}try{this[_0x39a5e9(0x223)](_0x24c67a);}finally{this[_0x39a5e9(0x31f)][_0x39a5e9(0x727)](_0x39a5e9(0x472)+_0x24c67a+_0x39a5e9(0x45f));}});}},Gt=class extends O{[a0_0x299ca5(0x302)](_0x38bc1b){return ra(_0x38bc1b);}async[a0_0x299ca5(0x5d1)](_0x5e02db){const _0xfb02e0=a0_0x299ca5;if(_0x5e02db[_0xfb02e0(0x84b)]!==0x0)try{return{'insertCount':(await this[_0xfb02e0(0x302)](_0x5e02db[0x0]['owner'])['insertMany']([..._0x5e02db]))[_0xfb02e0(0x84b)]};}catch(_0x192c39){return _0x192c39;}}async['find'](_0x308442,_0x304083){const _0x3ad324=a0_0x299ca5;try{let _0x19e2a9=this['getChatModelForOwner'](_0x304083),_0x3698c5=A(_0x308442[_0x3ad324(0x23b)]);return await _0x19e2a9[_0x3ad324(0x2b7)](_0x3698c5)[_0x3ad324(0x277)]({'lastmsg':-0x1})[_0x3ad324(0x5a9)](_0x308442?.['limit']??0x0)[_0x3ad324(0x7a3)]();}catch{return[];}}async[a0_0x299ca5(0x14b)](_0xf07067,_0x69e5e9){const _0x5109ae=a0_0x299ca5;try{let _0x3b74cf=this['getChatModelForOwner'](_0x69e5e9),_0x5329f9=A(_0xf07067[_0x5109ae(0x23b)]);return _0x5329f9[_0x5109ae(0x1e1)]={'$ne':[]},await _0x3b74cf['find'](_0x5329f9)[_0x5109ae(0x277)]({'lastmsg':-0x1})[_0x5109ae(0x5a9)](_0xf07067?.['limit']??0x0)[_0x5109ae(0x7a3)]();}catch{return[];}}async[a0_0x299ca5(0x3be)](_0x512c1c,_0x2d09ae){const _0xaee7a9=a0_0x299ca5;try{return{'deletedCount':(await this[_0xaee7a9(0x302)](_0x2d09ae)[_0xaee7a9(0x66e)]({..._0x512c1c[_0xaee7a9(0x23b)]}))[_0xaee7a9(0x74d)]};}catch(_0x3c5cd1){return{'error':_0x3c5cd1?.[_0xaee7a9(0x5a7)]()};}}async[a0_0x299ca5(0x52e)](_0x4fa777,_0x465de8){const _0x54092e=a0_0x299ca5;try{return await this[_0x54092e(0x302)](_0x465de8)[_0x54092e(0x66e)]({..._0x4fa777[_0x54092e(0x23b)]}),[];}catch(_0x4170bc){return{'error':_0x4170bc?.[_0x54092e(0x5a7)]()};}}async[a0_0x299ca5(0x151)](_0xa43d6,_0x3468a4){const _0x2fd38a=a0_0x299ca5;try{let _0x4ffe9a=this[_0x2fd38a(0x302)](_0x3468a4),_0x4c129e=A(_0xa43d6[_0x2fd38a(0x23b)]);return await _0x4ffe9a[_0x2fd38a(0x151)](_0x4c129e)[_0x2fd38a(0x7a3)]();}catch{return null;}}async['updateOne'](_0x37c40a,_0x118781,_0x196428,_0x5990b6,_0x4eb4bd='$set'){const _0x909c3b=a0_0x299ca5;try{let _0x5d3c86={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5990b6},_0x23e0a7=this[_0x909c3b(0x302)](_0x196428),_0xdaa5cb=A(_0x37c40a['where']);Object[_0x909c3b(0x791)](_0x118781)[_0x909c3b(0x613)](_0x479084=>{_0x118781[_0x479084]==null&&delete _0x118781[_0x479084];});let _0x358579={};return _0x358579[_0x4eb4bd]=_0x118781,await _0x23e0a7[_0x909c3b(0x318)](_0xdaa5cb,_0x358579,_0x5d3c86);}catch(_0x159a12){return console[_0x909c3b(0x77f)](_0x159a12),null;}}async[a0_0x299ca5(0x5be)](_0x3745d8){const _0x7f39d=a0_0x299ca5;try{let _0x59db4d=this[_0x7f39d(0x302)](_0x3745d8[0x0][_0x7f39d(0x167)][_0x7f39d(0x23b)][_0x7f39d(0x19b)]),_0x1a14de=_0x3745d8[_0x7f39d(0x3ae)](_0x38438e=>({'updateOne':{'filter':{..._0x38438e['query'][_0x7f39d(0x23b)]},'update':{'$set':_0x38438e[_0x7f39d(0x130)]},'upsert':!0x0}})),_0x2f9254=await _0x59db4d['bulkWrite'](_0x1a14de);return _0x2f9254['modifiedCount']+_0x2f9254[_0x7f39d(0x63d)];}catch(_0x294c88){return console[_0x7f39d(0x77f)](_0x294c88),0x0;}}async[a0_0x299ca5(0x47a)](_0x1c2b6d){const _0x4900b5=a0_0x299ca5;try{let _0x188936={'group_isCommunity':'','group_announce':'','group_size':''},_0x43f8cc={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x50176f={'$unset':_0x188936};return(await this[_0x4900b5(0x302)](_0x1c2b6d)[_0x4900b5(0x5be)](_0x43f8cc,_0x50176f))[_0x4900b5(0x8e3)];}catch(_0x1d774f){return console[_0x4900b5(0x77f)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x1d774f),0x0;}}async[a0_0x299ca5(0x32a)](_0x57b5f7){const _0x45d7aa=a0_0x299ca5;try{let _0x2dd9fe=this[_0x45d7aa(0x302)](_0x57b5f7),_0x5148ba={'leadInfo.etiquetas':{'$exists':!0x1}},_0xa77217={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2dd9fe[_0x45d7aa(0x5be)](_0x5148ba,_0xa77217))[_0x45d7aa(0x8e3)];}catch(_0x3ae464){return console[_0x45d7aa(0x77f)](_0x3ae464),0x0;}}async['updateMissingTags'](_0x35eab1){const _0x151e54=a0_0x299ca5;try{let _0x56e688=this[_0x151e54(0x302)](_0x35eab1),_0x4edd53={'leadInfo.tags':{'$exists':!0x1}},_0x5d0235={'$set':{'leadInfo.tags':[]}};return(await _0x56e688['updateMany'](_0x4edd53,_0x5d0235))['modifiedCount'];}catch(_0x113d95){return console[_0x151e54(0x77f)](_0x113d95),0x0;}}async['updateMissingCustomFields'](_0x2daff6){const _0x5c7be8=a0_0x299ca5;try{let _0xd9e85b=this['getChatModelForOwner'](_0x2daff6),_0x2cf0ee={'leadInfo.customFields':{'$exists':!0x1}},_0x3a7657={'$set':{'leadInfo.customFields':[]}};return(await _0xd9e85b[_0x5c7be8(0x5be)](_0x2cf0ee,_0x3a7657))[_0x5c7be8(0x8e3)];}catch(_0x5c9db5){return console['error'](_0x5c9db5),0x0;}}async[a0_0x299ca5(0x686)](_0x4521ba,_0x4eda2d){const _0x29b2c4=a0_0x299ca5;if(!Array['isArray'](_0x4521ba)||_0x4521ba[_0x29b2c4(0x84b)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x29b2c4(0x302)](_0x4eda2d)['insertMany'](_0x4521ba))[_0x29b2c4(0x84b)];}catch(_0x3d6f92){throw console[_0x29b2c4(0x77f)](_0x29b2c4(0x288),_0x3d6f92),_0x3d6f92;}}async[a0_0x299ca5(0x33c)](_0x64025b,_0x4437f0){const _0x1bc501=a0_0x299ca5;try{await this[_0x1bc501(0x302)](_0x4437f0)[_0x1bc501(0x441)]({'_id':_0x64025b});}catch(_0x2aa7cd){throw console[_0x1bc501(0x77f)](_0x1bc501(0x35e),_0x2aa7cd),_0x2aa7cd;}}},Bt=class extends O{constructor(_0x3c0d67,_0x409e25,_0x3290d4){const _0x8f9191=a0_0x299ca5;super(_0x409e25),this[_0x8f9191(0x8b0)]=_0x3c0d67,this[_0x8f9191(0x1d9)]=_0x409e25,this[_0x8f9191(0x5cb)]=_0x3290d4;}async['insert'](_0x24d663){const _0x4ae433=a0_0x299ca5;if(_0x24d663[_0x4ae433(0x84b)]!==0x0)try{return{'insertCount':(await this[_0x4ae433(0x8b0)][_0x4ae433(0x686)]([..._0x24d663]))['length']};}catch(_0x294e4e){return _0x294e4e;}}async['update'](_0x24299c,_0x7c0565){const _0x57d958=a0_0x299ca5;try{let _0x4384bc=A(_0x24299c[_0x57d958(0x23b)]);return{'updatedCount':(await this[_0x57d958(0x8b0)][_0x57d958(0x5be)](_0x4384bc,{'$set':_0x7c0565}))[_0x57d958(0x8e3)]};}catch(_0x414098){return console[_0x57d958(0x77f)](_0x57d958(0x629),_0x414098),{'error':_0x414098[_0x57d958(0x5a7)]()};}}async[a0_0x299ca5(0x373)](_0x13b449){const _0x3e210b=a0_0x299ca5;try{let _0x4caa5d={'_id':{'$in':_0x13b449}};return await this['cacheContactModel']['find'](_0x4caa5d)[_0x3e210b(0x7a3)]();}catch(_0x14c8f5){return console[_0x3e210b(0x77f)](_0x3e210b(0x3d3),_0x14c8f5),[];}}async[a0_0x299ca5(0x3be)](_0x3386c3){const _0x3587e3=a0_0x299ca5;try{return{'deletedCount':(await this[_0x3587e3(0x8b0)][_0x3587e3(0x66e)]({..._0x3386c3[_0x3587e3(0x23b)]}))[_0x3587e3(0x74d)]};}catch(_0x2e3018){return{'error':_0x2e3018?.['toString']()};}}async[a0_0x299ca5(0x2b7)](_0x4a8a20){const _0x2ab43d=a0_0x299ca5;try{let _0x42d144=A(_0x4a8a20[_0x2ab43d(0x23b)]);return await this[_0x2ab43d(0x8b0)][_0x2ab43d(0x2b7)](_0x42d144)[_0x2ab43d(0x5a9)](_0x4a8a20?.[_0x2ab43d(0x5a9)]??0x0)[_0x2ab43d(0x7a3)]();}catch{return[];}}async[a0_0x299ca5(0x151)](_0x1316b6){const _0x26e489=a0_0x299ca5;try{let _0xd91a14=A(_0x1316b6[_0x26e489(0x23b)]);return await this[_0x26e489(0x8b0)][_0x26e489(0x151)](_0xd91a14)[_0x26e489(0x7a3)]();}catch{return null;}}},Wt=class extends O{constructor(_0x33d0e0,_0xf8de48,_0x302238){const _0x4fff77=a0_0x299ca5;super(_0xf8de48),this[_0x4fff77(0x7b6)]=_0x33d0e0,this[_0x4fff77(0x1d9)]=_0xf8de48,this[_0x4fff77(0x5cb)]=_0x302238;}async[a0_0x299ca5(0x5d1)](_0x31e3e3){const _0x5ea8f6=a0_0x299ca5;if(_0x31e3e3['length']!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x5ea8f6(0x686)]([..._0x31e3e3]))[_0x5ea8f6(0x84b)]};}catch(_0x567c35){return _0x567c35;}}async[a0_0x299ca5(0x130)](_0x46fa8b,_0x405f69){const _0x5c7a58=a0_0x299ca5;try{let _0x1c5a78=A(_0x46fa8b[_0x5c7a58(0x23b)]);return{'updatedCount':(await this['messageLogsModel'][_0x5c7a58(0x5be)](_0x1c5a78,{'$set':_0x405f69}))[_0x5c7a58(0x8e3)]};}catch(_0xaa7147){return console['error'](_0x5c7a58(0x629),_0xaa7147),{'error':_0xaa7147[_0x5c7a58(0x5a7)]()};}}async[a0_0x299ca5(0x3be)](_0xdc6188){const _0x130fee=a0_0x299ca5;try{return{'deletedCount':(await this['messageLogsModel'][_0x130fee(0x66e)]({..._0xdc6188[_0x130fee(0x23b)]}))[_0x130fee(0x74d)]};}catch(_0x2562da){return{'error':_0x2562da?.[_0x130fee(0x5a7)]()};}}async[a0_0x299ca5(0x151)](_0x34fa52){const _0x97f871=a0_0x299ca5;try{let _0x915242=A(_0x34fa52[_0x97f871(0x23b)]);return await this[_0x97f871(0x7b6)][_0x97f871(0x151)](_0x915242)['lean']();}catch{return null;}}},zt=class extends O{['getLabelModelForOwner'](_0x54076f){return Aa(_0x54076f);}async[a0_0x299ca5(0x3ff)](_0x2bb11f,_0x45bc1c,_0x4e1203,_0x75bcaf){const _0x2d8a0a=a0_0x299ca5;try{let _0x486cea={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x75bcaf},_0x558a15=this[_0x2d8a0a(0x4a9)](_0x4e1203),_0x3de05c=A(_0x2bb11f[_0x2d8a0a(0x23b)]);return await _0x558a15[_0x2d8a0a(0x318)](_0x3de05c,{'$set':_0x45bc1c},_0x486cea);}catch(_0x3a0ae2){return console['error'](_0x3a0ae2),null;}}async[a0_0x299ca5(0x2b7)](_0x257c3e,_0x60476c){const _0x2248dd=a0_0x299ca5;try{let _0x5b1c23=this['getLabelModelForOwner'](_0x60476c),_0x44d0df=A(_0x257c3e[_0x2248dd(0x23b)]);return await _0x5b1c23[_0x2248dd(0x2b7)](_0x44d0df);}catch(_0x519167){console[_0x2248dd(0x77f)](_0x519167);}}async[a0_0x299ca5(0x3be)](_0x39c88b,_0x15d6e2){const _0x57ceb1=a0_0x299ca5;try{let _0x53a7c6=this['getLabelModelForOwner'](_0x15d6e2),_0x4e1d64=A(_0x39c88b['where']);await _0x53a7c6[_0x57ceb1(0x66e)](_0x4e1d64);}catch(_0x14a637){console[_0x57ceb1(0x77f)](_0x14a637);}}async[a0_0x299ca5(0x52e)](_0x24da51){const _0x277e06=a0_0x299ca5;try{return await this[_0x277e06(0x4a9)](_0x24da51)[_0x277e06(0x6e6)][_0x277e06(0x1dc)](),{'success':!0x0};}catch(_0x426903){return console['error'](_0x426903),{'success':!0x1,'error':_0x426903};}}},Ht=class{constructor(_0x3f4087){const _0x4a7333=a0_0x299ca5;this[_0x4a7333(0x4f2)]=_0x3f4087;}async['editChat']({instanceName:_0x5f2409},_0x4744d5){const _0xa8fe2b=a0_0x299ca5;return await this[_0xa8fe2b(0x4f2)][_0xa8fe2b(0x622)][_0x5f2409]['editChat'](_0x4744d5);}async[a0_0x299ca5(0x53b)]({instanceName:_0x4a53af},_0x219ee9){const _0x918bb8=a0_0x299ca5;return await this[_0x918bb8(0x4f2)][_0x918bb8(0x622)][_0x4a53af][_0x918bb8(0x53b)](_0x219ee9);}async['importChats']({instanceName:_0x4b0c1b},_0x4af362){const _0x3aaa6b=a0_0x299ca5;return await this[_0x3aaa6b(0x4f2)]['waInstances'][_0x4b0c1b][_0x3aaa6b(0x57e)](_0x4af362);}async[a0_0x299ca5(0x257)]({instanceName:_0x27c289},_0x497a2e){const _0x48bdd6=a0_0x299ca5;return await this[_0x48bdd6(0x4f2)]['waInstances'][_0x27c289][_0x48bdd6(0x678)](_0x497a2e);}async[a0_0x299ca5(0x78d)]({instanceName:_0x1d1c33},_0x1cfd8d){const _0x393a5b=a0_0x299ca5;return await this[_0x393a5b(0x4f2)]['waInstances'][_0x1d1c33]['archiveChat'](_0x1cfd8d);}async['deleteMessage']({instanceName:_0x38254f},_0x2c3bf2){const _0x26c736=a0_0x299ca5;return await this[_0x26c736(0x4f2)][_0x26c736(0x622)][_0x38254f][_0x26c736(0x2c5)](_0x2c3bf2);}async[a0_0x299ca5(0x391)]({instanceName:_0x16a276},_0x588c4f){const _0x267475=a0_0x299ca5;return await this[_0x267475(0x4f2)][_0x267475(0x622)][_0x16a276][_0x267475(0x71e)](_0x588c4f[_0x267475(0x485)]);}async[a0_0x299ca5(0x576)]({instanceName:_0xb607d2},_0xaf48e4){const _0x3e27d6=a0_0x299ca5;return await this['waMonitor'][_0x3e27d6(0x622)][_0xb607d2]['fetchProfile'](_0xaf48e4[_0x3e27d6(0x485)]);}async['updatePresence']({instanceName:_0x4d5346},_0x40ac10){const _0xd70d5d=a0_0x299ca5;return await this[_0xd70d5d(0x4f2)][_0xd70d5d(0x622)][_0x4d5346][_0xd70d5d(0x665)](_0x40ac10);}async[a0_0x299ca5(0x518)]({instanceName:_0x369a04},_0x2e2cef){const _0x1c67b4=a0_0x299ca5;return await this['waMonitor'][_0x1c67b4(0x622)][_0x369a04][_0x1c67b4(0x518)](_0x2e2cef);}async[a0_0x299ca5(0x200)]({instanceName:_0x4a43bb},_0x10b064){const _0x189445=a0_0x299ca5;return await this[_0x189445(0x4f2)][_0x189445(0x622)][_0x4a43bb][_0x189445(0x200)](_0x10b064);}async[a0_0x299ca5(0x63e)]({instanceName:_0x5ccf20},_0x423dc4){const _0x2d32b2=a0_0x299ca5;return await this[_0x2d32b2(0x4f2)][_0x2d32b2(0x622)][_0x5ccf20][_0x2d32b2(0x63e)](_0x423dc4);}async['fetchLabels']({instanceName:_0x39cc57}){const _0x3d4484=a0_0x299ca5;return await this[_0x3d4484(0x4f2)][_0x3d4484(0x622)][_0x39cc57][_0x3d4484(0x276)]();}async[a0_0x299ca5(0x6a3)]({instanceName:_0x5a85fd}){const _0x3df2ac=a0_0x299ca5;return await this['waMonitor'][_0x3df2ac(0x622)][_0x5a85fd][_0x3df2ac(0x6a3)]();}async[a0_0x299ca5(0x834)]({instanceName:_0x2037f3}){const _0x561de0=a0_0x299ca5;return await this[_0x561de0(0x4f2)][_0x561de0(0x622)][_0x2037f3]['fetchPrivacySettings']();}async[a0_0x299ca5(0x17d)]({instanceName:_0x4ab743},_0x4a4ec3){const _0x97f0ab=a0_0x299ca5;return await this[_0x97f0ab(0x4f2)][_0x97f0ab(0x622)][_0x4ab743][_0x97f0ab(0x17d)](_0x4a4ec3);}async[a0_0x299ca5(0x8c5)]({instanceName:_0x325390},_0x215300){const _0x435582=a0_0x299ca5;return await this[_0x435582(0x4f2)][_0x435582(0x622)][_0x325390]['fetchBusinessProfile'](_0x215300[_0x435582(0x485)]);}async[a0_0x299ca5(0x3a2)]({instanceName:_0x2e3081},_0x5f2a7c){const _0x4bf42d=a0_0x299ca5;return await this[_0x4bf42d(0x4f2)][_0x4bf42d(0x622)][_0x2e3081]['updateProfileName'](_0x5f2a7c[_0x4bf42d(0x5d0)]);}async[a0_0x299ca5(0x2d5)]({instanceName:_0x4abd97},_0x23aa7d){const _0x18c247=a0_0x299ca5;return await this[_0x18c247(0x4f2)][_0x18c247(0x622)][_0x4abd97][_0x18c247(0x2d5)](_0x23aa7d['status']);}async[a0_0x299ca5(0x81e)]({instanceName:_0x4a653d},_0xf51c4f){const _0x12c0e3=a0_0x299ca5;return await this[_0x12c0e3(0x4f2)][_0x12c0e3(0x622)][_0x4a653d][_0x12c0e3(0x81e)](_0xf51c4f['picture']);}async[a0_0x299ca5(0x67a)]({instanceName:_0x4b3362},_0x15a645){const _0x5c5de8=a0_0x299ca5;return await this[_0x5c5de8(0x4f2)][_0x5c5de8(0x622)][_0x4b3362][_0x5c5de8(0x67a)]();}},Kt=require('@whiskeysockets/baileys'),Qt=class l{constructor(_0x1a98ef,_0x54cc2b,_0x5a78a9,_0x1b71e5,_0x1dad33){const _0x20be09=a0_0x299ca5;this[_0x20be09(0x4f2)]=_0x1a98ef,this[_0x20be09(0x1d9)]=_0x54cc2b,this[_0x20be09(0x7d6)]=_0x5a78a9,this[_0x20be09(0x6e3)]=_0x1b71e5,this[_0x20be09(0x6ca)]=_0x1dad33,this[_0x20be09(0x31f)]=new R(l['name']);}async[a0_0x299ca5(0x553)]({instanceName:_0x365fd6,apikey:_0x351f74,number:_0x310895,proxy:_0x2217ff=!0x0}){const _0x39926f=a0_0x299ca5;try{let _0x384b44=new Ae(this[_0x39926f(0x1d9)],this[_0x39926f(0x6e3)],this['repository']);_0x384b44[_0x39926f(0x8b7)]=_0x365fd6,this[_0x39926f(0x4f2)][_0x39926f(0x622)][_0x384b44[_0x39926f(0x8b7)]]=_0x384b44;let _0x44554a={};_0x351f74?(await this[_0x39926f(0x7d6)][_0x39926f(0x4c1)][_0x39926f(0x37f)]({'apikey':_0x351f74},_0x365fd6),_0x44554a[_0x39926f(0x78e)]=_0x351f74):_0x44554a=await this['authService'][_0x39926f(0x71c)]({'instanceName':_0x384b44[_0x39926f(0x8b7)]});let _0x141cdc;if(_0x310895){if(_0x141cdc=await this['verifyWhatsAppNumber'](_0x310895),_0x141cdc['error'])throw new x(_0x141cdc[_0x39926f(0x77f)][_0x39926f(0x5a7)]());_0x310895=_0x141cdc[_0x39926f(0x485)];}let _0x210765;return await _0x384b44[_0x39926f(0x26a)](_0x310895),await(0x0,Kt[_0x39926f(0x5bf)])(0xfa0),_0x310895&&await(0x0,Kt[_0x39926f(0x5bf)])(0xbb8),_0x210765=_0x384b44[_0x39926f(0x803)],{'instance':{'instanceName':_0x384b44[_0x39926f(0x8b7)],'status':_0x39926f(0x1c0)},'hash':_0x44554a,'qrcode':_0x210765};}catch(_0x1e413e){throw this['logger'][_0x39926f(0x77f)](_0x1e413e),_0x1e413e;}}async[a0_0x299ca5(0x132)]({instanceName:_0x29c28a,number:_0x22ea7c=null}){const _0x31dd22=a0_0x299ca5;try{let _0x10a3f2=this[_0x31dd22(0x4f2)][_0x31dd22(0x622)][_0x29c28a];switch(_0x10a3f2?.[_0x31dd22(0x1ff)]?.[_0x31dd22(0x187)]){case'close':return await _0x10a3f2[_0x31dd22(0x26a)](_0x22ea7c),await(0x0,Kt[_0x31dd22(0x5bf)])(0x7d0),_0x10a3f2['qrCode'];case _0x31dd22(0x4d1):return _0x10a3f2[_0x31dd22(0x803)];default:return await this[_0x31dd22(0x66b)]({'instanceName':_0x29c28a});}}catch(_0x65fccc){this[_0x31dd22(0x31f)]['log'](_0x65fccc);}}async['connectionState']({instanceName:_0x50e9a0}){const _0x3790bd=a0_0x299ca5;let _0x29b05f=this['waMonitor']['waInstances'][_0x50e9a0][_0x3790bd(0x1ff)],_0x2a8997=null;_0x29b05f[_0x3790bd(0x187)]===_0x3790bd(0x405)&&_0x50e9a0&&(_0x2a8997=await this[_0x3790bd(0x4f2)][_0x3790bd(0x408)](_0x50e9a0));let _0x474fa6=null;return _0x29b05f[_0x3790bd(0x187)]==='connecting'&&_0x50e9a0&&(_0x474fa6=this[_0x3790bd(0x4f2)][_0x3790bd(0x622)][_0x50e9a0][_0x3790bd(0x803)]),{'instance':_0x50e9a0,'connectionStatus':_0x29b05f,'instanceInfo':_0x2a8997,'qrcode':_0x474fa6};}async[a0_0x299ca5(0x804)](_0x1ca2b4){const _0x35a4ce=a0_0x299ca5;_0x1ca2b4=_0x1ca2b4[_0x35a4ce(0x35f)](/\D/g,'');let _0x175e42=Object[_0x35a4ce(0x791)](this['waMonitor'][_0x35a4ce(0x622)])[_0x35a4ce(0x67c)](_0x32e7ad=>{const _0x30a95e=_0x35a4ce;let _0x5a673c=this[_0x30a95e(0x4f2)][_0x30a95e(0x622)][_0x32e7ad];return _0x5a673c&&_0x5a673c['connectionStatus']&&_0x5a673c[_0x30a95e(0x1ff)][_0x30a95e(0x187)]===_0x30a95e(0x405);});if(_0x175e42[_0x35a4ce(0x84b)]===0x0)return{'number':this[_0x35a4ce(0x4f8)](_0x1ca2b4)};let _0xaa4b4c=Math[_0x35a4ce(0x71d)](Math[_0x35a4ce(0x6e2)]()*_0x175e42[_0x35a4ce(0x84b)]),_0x494c2d=_0x175e42[_0xaa4b4c];try{let _0xacb7c7=(await this[_0x35a4ce(0x4f2)][_0x35a4ce(0x622)][_0x494c2d][_0x35a4ce(0x53b)]({'numbers':[_0x1ca2b4]}))['shift']();return _0xacb7c7[_0x35a4ce(0x358)]?{'number':_0xacb7c7[_0x35a4ce(0x4d8)][_0x35a4ce(0x35f)](_0x35a4ce(0x5e0),'')}:{'number':_0x1ca2b4,'error':_0x35a4ce(0x591)};}catch(_0x555ab6){return this['logger'][_0x35a4ce(0x77f)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x555ab6),{'number':_0x1ca2b4,'error':_0x35a4ce(0x73b)};}}[a0_0x299ca5(0x4f8)](_0x3c0edf){const _0x31a37a=a0_0x299ca5;let _0x49f725=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x31a37a(0x590)](_0x3c0edf);if(_0x49f725&&_0x49f725[0x1]==='55'){let _0x4039b9=_0x49f725[0x2],_0x2451f4=_0x49f725[0x3],_0x378cde=_0x49f725[0x4];if(parseInt(_0x4039b9)>=0x1f&&_0x2451f4==='9')return _0x49f725[0x1]+_0x4039b9+_0x378cde;}return _0x3c0edf;}async[a0_0x299ca5(0x857)]({instanceName:_0x3c1d71}){const _0x158e42=a0_0x299ca5;try{return this[_0x158e42(0x4f2)]['waInstances'][_0x3c1d71]?.['client']?.['ws']?.[_0x158e42(0x7f7)](),{'status':_0x158e42(0x836),'error':!0x1,'response':{'message':_0x158e42(0x554)}};}catch(_0x22e3a3){this[_0x158e42(0x31f)][_0x158e42(0x77f)](_0x22e3a3);}}async[a0_0x299ca5(0x621)]({instanceName:_0x533fb3}){const _0x2ac1a1=a0_0x299ca5;return _0x533fb3?this[_0x2ac1a1(0x4f2)][_0x2ac1a1(0x408)](_0x533fb3):this['waMonitor'][_0x2ac1a1(0x408)]();}async[a0_0x299ca5(0x36f)]({instanceName:_0x260b55}){const _0x3068aa=a0_0x299ca5;try{return await this[_0x3068aa(0x4f2)]['waInstances'][_0x260b55]?.[_0x3068aa(0x6a1)]?.[_0x3068aa(0x36f)](_0x3068aa(0x6c5)+_0x260b55),{'error':!0x1,'message':_0x3068aa(0x388)};}catch(_0x618d2e){throw new x(_0x618d2e[_0x3068aa(0x5a7)]());}}async[a0_0x299ca5(0x360)]({instanceName:_0x27cd69}){const _0x8c72f9=a0_0x299ca5;if((await this[_0x8c72f9(0x66b)]({'instanceName':_0x27cd69}))[_0x8c72f9(0x1ff)][_0x8c72f9(0x187)]===_0x8c72f9(0x405))throw new m([_0x8c72f9(0x404),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor']['waInstances'][_0x27cd69],{'error':!0x1,'message':_0x8c72f9(0x4a3)};}catch(_0x2fc71c){throw new m(_0x2fc71c[_0x8c72f9(0x5a7)]());}}},ne=require('class-validator'),Yt=class{constructor(_0x143721){const _0x29b19f=a0_0x299ca5;this[_0x29b19f(0x4f2)]=_0x143721;}async[a0_0x299ca5(0x745)]({instanceName:_0x1fa658},_0x44ad53){const _0x54cac9=a0_0x299ca5;return await this[_0x54cac9(0x4f2)][_0x54cac9(0x622)][_0x1fa658][_0x54cac9(0x1a2)](_0x44ad53);}async[a0_0x299ca5(0x759)]({instanceName:_0x363587},_0x4220b5){const _0xf9e27f=a0_0x299ca5;return await this[_0xf9e27f(0x4f2)]['waInstances'][_0x363587][_0xf9e27f(0x2cc)](_0x4220b5);}async['sendMedia']({instanceName:_0x2ea9b0},_0xebcc82){const _0x4a185f=a0_0x299ca5;if((0x0,ne[_0x4a185f(0x674)])(_0xebcc82?.['mediaMessage']?.[_0x4a185f(0x451)])&&!_0xebcc82?.[_0x4a185f(0x59c)]?.[_0x4a185f(0x225)])throw new m(_0x4a185f(0x69b));if((0x0,ne[_0x4a185f(0x6e5)])(_0xebcc82?.[_0x4a185f(0x59c)]?.[_0x4a185f(0x451)])||(0x0,ne[_0x4a185f(0x674)])(_0xebcc82?.[_0x4a185f(0x59c)]?.['media']))return await this[_0x4a185f(0x4f2)]['waInstances'][_0x2ea9b0]['mediaMessage'](_0xebcc82);throw new m(_0x4a185f(0x8d4));}async[a0_0x299ca5(0x27d)]({instanceName:_0x5a57ce},_0x1e5843){const _0x26cf48=a0_0x299ca5;if((0x0,ne[_0x26cf48(0x6e5)])(_0x1e5843[_0x26cf48(0x17e)][_0x26cf48(0x835)])||(0x0,ne['isBase64'])(_0x1e5843[_0x26cf48(0x17e)]['image']))return await this[_0x26cf48(0x4f2)][_0x26cf48(0x622)][_0x5a57ce][_0x26cf48(0x1e6)](_0x1e5843);throw new m(_0x26cf48(0x8d4));}async[a0_0x299ca5(0x49d)]({instanceName:_0x547cac},_0x1fad36){const _0x399971=a0_0x299ca5;if((0x0,ne[_0x399971(0x6e5)])(_0x1fad36[_0x399971(0x4bb)]['audio'])||(0x0,ne[_0x399971(0x674)])(_0x1fad36['audioMessage'][_0x399971(0x402)]))return await this[_0x399971(0x4f2)][_0x399971(0x622)][_0x547cac]['audioWhatsapp'](_0x1fad36);throw new m(_0x399971(0x8d4));}async[a0_0x299ca5(0x691)]({instanceName:_0x5ad91d},_0x499c92){const _0x24600d=a0_0x299ca5;return await this[_0x24600d(0x4f2)][_0x24600d(0x622)][_0x5ad91d]['buttonMessage'](_0x499c92);}async[a0_0x299ca5(0x2af)]({instanceName:_0x12f2f7},_0x504ad8){const _0x59b6ca=a0_0x299ca5;return await this[_0x59b6ca(0x4f2)]['waInstances'][_0x12f2f7]['locationMessage'](_0x504ad8);}async['sendPoll']({instanceName:_0x5edd41},_0x31d9d5){return await this['waMonitor']['waInstances'][_0x5edd41]['pollMessage'](_0x31d9d5);}async[a0_0x299ca5(0x883)]({instanceName:_0x14bd80},_0x590020){const _0xda6602=a0_0x299ca5;return await this[_0xda6602(0x4f2)]['waInstances'][_0x14bd80]['listMessage'](_0x590020);}async[a0_0x299ca5(0x16b)]({instanceName:_0x40dc24},_0x14f053){const _0x470cd5=a0_0x299ca5;return await this[_0x470cd5(0x4f2)][_0x470cd5(0x622)][_0x40dc24][_0x470cd5(0x777)](_0x14f053);}async[a0_0x299ca5(0x2ef)]({instanceName:_0x285e5d},_0x20c728){const _0x4d3e9a=a0_0x299ca5;if(!_0x20c728[_0x4d3e9a(0x440)][_0x4d3e9a(0x482)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x4d3e9a(0x6a8));return await this[_0x4d3e9a(0x4f2)]['waInstances'][_0x285e5d][_0x4d3e9a(0x440)](_0x20c728);}async[a0_0x299ca5(0x3a3)]({instanceName:_0x3c1ce8},_0x4da043){const _0x50d094=a0_0x299ca5;return await this[_0x50d094(0x4f2)]['waInstances'][_0x3c1ce8]['statusMessage'](_0x4da043);}},ji=require(a0_0x299ca5(0x828)),Gs=require(a0_0x299ca5(0x43c)),Xt=class l{constructor(_0x56e039,_0x19c62b,_0x3cf181){const _0x4c0dde=a0_0x299ca5;this[_0x4c0dde(0x1d9)]=_0x56e039,this[_0x4c0dde(0x4f2)]=_0x19c62b,this[_0x4c0dde(0x7d6)]=_0x3cf181,this[_0x4c0dde(0x31f)]=new R(l[_0x4c0dde(0x5d0)]);}async[a0_0x299ca5(0x25c)](_0x45bfd0){const _0x469241=a0_0x299ca5;let _0x13421c=this[_0x469241(0x1d9)]['get'](_0x469241(0x6ea))[_0x469241(0x7ec)],_0x198e1c=(0x0,ji[_0x469241(0x55c)])({'instanceName':_0x45bfd0['instanceName'],'apiName':ct,'tokenId':(0x0,Gs['v4'])()},_0x13421c['SECRET'],{'expiresIn':_0x13421c[_0x469241(0x124)],'encoding':_0x469241(0x4c9),'subject':_0x469241(0x30a)}),_0x5dddbf=await this[_0x469241(0x7d6)][_0x469241(0x4c1)]['create']({'jwt':_0x198e1c},_0x45bfd0['instanceName']);if(_0x5dddbf['error'])throw this['logger'][_0x469241(0x77f)]({'localError':l[_0x469241(0x5d0)]+'.jwt','error':_0x5dddbf[_0x469241(0x77f)]}),new m(_0x469241(0x21e),_0x5dddbf['error']?.[_0x469241(0x5a7)]());return{'jwt':_0x198e1c};}async[a0_0x299ca5(0x78e)](_0x136ef6){const _0x2cb10b=a0_0x299ca5;let _0x303a5f=(0x0,Gs['v4'])()[_0x2cb10b(0x6cd)](),_0x3e04d7=await this['repository'][_0x2cb10b(0x4c1)][_0x2cb10b(0x37f)]({'apikey':_0x303a5f},_0x136ef6[_0x2cb10b(0x8b7)]);if(_0x3e04d7['error'])throw this['logger'][_0x2cb10b(0x77f)]({'localError':l[_0x2cb10b(0x5d0)]+_0x2cb10b(0x783),'error':_0x3e04d7[_0x2cb10b(0x77f)]}),new m(_0x2cb10b(0x21e),_0x3e04d7['error']?.[_0x2cb10b(0x5a7)]());return{'apikey':_0x303a5f};}async[a0_0x299ca5(0x71c)](_0x1e18b){const _0x1a3095=a0_0x299ca5;let _0x5d7c9a=this[_0x1a3095(0x1d9)][_0x1a3095(0x2ed)](_0x1a3095(0x6ea));return await this[_0x5d7c9a[_0x1a3095(0x176)]](_0x1e18b);}},Zt=class{constructor(_0x32ec14){this['waMonitor']=_0x32ec14;}async[a0_0x299ca5(0x275)](_0x2cb201,_0x8f54a8){const _0x315dd3=a0_0x299ca5;return await this[_0x315dd3(0x4f2)][_0x315dd3(0x622)][_0x2cb201['instanceName']][_0x315dd3(0x275)](_0x8f54a8);}async[a0_0x299ca5(0x8d2)](_0x452446,_0x2e84ca){return await this['waMonitor']['waInstances'][_0x452446['instanceName']]['updateGroupPicture'](_0x2e84ca);}async['groupDesc'](_0x536f6a,_0x210298){const _0x19ad09=a0_0x299ca5;return await this[_0x19ad09(0x4f2)][_0x19ad09(0x622)][_0x536f6a[_0x19ad09(0x8b7)]]['groupDesc'](_0x210298);}async['groupName'](_0x1dba02,_0x711654){const _0x5d8fba=a0_0x299ca5;return await this['waMonitor'][_0x5d8fba(0x622)][_0x1dba02[_0x5d8fba(0x8b7)]]['groupName'](_0x711654);}async[a0_0x299ca5(0x61b)](_0x17e535,_0x461ef9){const _0x409538=a0_0x299ca5;return await this['waMonitor'][_0x409538(0x622)][_0x17e535['instanceName']][_0x409538(0x61b)](_0x461ef9);}async[a0_0x299ca5(0x332)](_0x3d8f45,_0x3dc616){const _0x1ba43e=a0_0x299ca5;return await this[_0x1ba43e(0x4f2)]['waInstances'][_0x3d8f45[_0x1ba43e(0x8b7)]][_0x1ba43e(0x332)](_0x3dc616);}async[a0_0x299ca5(0x2a1)](_0x3dacdf,_0x1976e7){const _0x41cf6c=a0_0x299ca5;return await this[_0x41cf6c(0x4f2)]['waInstances'][_0x3dacdf[_0x41cf6c(0x8b7)]][_0x41cf6c(0x770)](_0x1976e7);}async[a0_0x299ca5(0x37d)](_0x111ebf){const _0x402574=a0_0x299ca5;return await this[_0x402574(0x4f2)]['waInstances'][_0x111ebf[_0x402574(0x8b7)]]['findGroups']();}async[a0_0x299ca5(0x3d1)](_0x190b91,_0xbe0f33){const _0x1b4f33=a0_0x299ca5;return await this[_0x1b4f33(0x4f2)][_0x1b4f33(0x622)][_0x190b91[_0x1b4f33(0x8b7)]][_0x1b4f33(0x3d1)](_0xbe0f33);}async[a0_0x299ca5(0x43a)](_0x1fa3ef,_0x58ea84){const _0x395e80=a0_0x299ca5;return await this[_0x395e80(0x4f2)][_0x395e80(0x622)][_0x1fa3ef[_0x395e80(0x8b7)]][_0x395e80(0x43a)](_0x58ea84);}async[a0_0x299ca5(0x6c6)](_0x185419,_0x3d7ad3){const _0x1f2eec=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x185419[_0x1f2eec(0x8b7)]]['groupGetInviteInfo'](_0x3d7ad3);}async['revokeInviteCode'](_0x3cb371,_0x5ea193){const _0x4ffbd6=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x3cb371[_0x4ffbd6(0x8b7)]][_0x4ffbd6(0x191)](_0x5ea193);}async['findParticipants'](_0x46760e,_0x11247d){const _0x131ca7=a0_0x299ca5;return await this[_0x131ca7(0x4f2)]['waInstances'][_0x46760e['instanceName']][_0x131ca7(0x231)](_0x11247d);}async[a0_0x299ca5(0x880)](_0x5cbbec,_0x38dee4){const _0x52eee6=a0_0x299ca5;return await this[_0x52eee6(0x4f2)][_0x52eee6(0x622)][_0x5cbbec[_0x52eee6(0x8b7)]][_0x52eee6(0x7b4)](_0x38dee4);}async[a0_0x299ca5(0x778)](_0x15301c,_0x19d0da){const _0x3063e2=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x15301c[_0x3063e2(0x8b7)]]['toggleEphemeral'](_0x19d0da);}async[a0_0x299ca5(0x362)](_0x9fe728,_0x1be2fa){const _0x3dab00=a0_0x299ca5;return await this[_0x3dab00(0x4f2)]['waInstances'][_0x9fe728[_0x3dab00(0x8b7)]][_0x3dab00(0x362)](_0x1be2fa);}},es=class{constructor(_0x2993d9){const _0x34b2d3=a0_0x299ca5;this[_0x34b2d3(0x4f2)]=_0x2993d9;}[a0_0x299ca5(0x37f)](_0x2422b4,_0x3362ac){const _0x2eb40e=a0_0x299ca5;return this[_0x2eb40e(0x4f2)]['waInstances'][_0x2422b4['instanceName']][_0x2eb40e(0x259)](_0x3362ac);}async[a0_0x299ca5(0x2b7)](_0x588bcf){const _0x256d8b=a0_0x299ca5;try{return await this[_0x256d8b(0x4f2)]['waInstances'][_0x588bcf[_0x256d8b(0x8b7)]][_0x256d8b(0x5f6)]();}catch{return{'enabled':null,'url':''};}}},mh=new R(a0_0x299ca5(0x19d)),ts=class{constructor(_0x38c619){this['waMonitor']=_0x38c619;}async[a0_0x299ca5(0x172)](_0x3ce237,_0x1f6333){const _0x3a2ee7=a0_0x299ca5;return await this[_0x3a2ee7(0x4f2)][_0x3a2ee7(0x622)][_0x3ce237[_0x3a2ee7(0x8b7)]]['editScheduleMessage'](_0x1f6333);}async[a0_0x299ca5(0x494)](_0x3ea09f){const _0x2b6d72=a0_0x299ca5;return await this['waMonitor'][_0x2b6d72(0x622)][_0x3ea09f[_0x2b6d72(0x8b7)]][_0x2b6d72(0x494)]();}async[a0_0x299ca5(0x89c)](_0x37f4ff){const _0x339b5e=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x37f4ff[_0x339b5e(0x8b7)]][_0x339b5e(0x89c)]();}async['deleteAllMessages'](_0x10d130){const _0x5a77d7=a0_0x299ca5;return await this[_0x5a77d7(0x4f2)][_0x5a77d7(0x622)][_0x10d130[_0x5a77d7(0x8b7)]][_0x5a77d7(0x15b)]();}async[a0_0x299ca5(0x7c3)](_0x39b54d){const _0x439a08=a0_0x299ca5;return await this['waMonitor'][_0x439a08(0x622)][_0x39b54d[_0x439a08(0x8b7)]][_0x439a08(0x7c3)]();}async['updateAgent'](_0x237581,_0x434647){const _0x29480c=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x237581[_0x29480c(0x8b7)]]['updateAgent'](_0x434647);}async['updateCustomFields'](_0x444c48,_0x2af996){const _0x391187=a0_0x299ca5;return await this[_0x391187(0x4f2)][_0x391187(0x622)][_0x444c48['instanceName']][_0x391187(0x371)](_0x2af996);}async[a0_0x299ca5(0x72f)](_0x1b910a,_0x38f23f){const _0x5d2e3f=a0_0x299ca5;return await this[_0x5d2e3f(0x4f2)][_0x5d2e3f(0x622)][_0x1b910a[_0x5d2e3f(0x8b7)]][_0x5d2e3f(0x72f)](_0x38f23f);}async[a0_0x299ca5(0x537)](_0x110b59,_0x1c46d1){const _0x5c76f9=a0_0x299ca5;return await this[_0x5c76f9(0x4f2)][_0x5c76f9(0x622)][_0x110b59['instanceName']]['updateFlowConfig'](_0x1c46d1);}async['startFlow'](_0x4b4b2a,_0x51f0f9){const _0x262bce=a0_0x299ca5;return await this['waMonitor'][_0x262bce(0x622)][_0x4b4b2a['instanceName']]['startFlow'](_0x51f0f9);}async[a0_0x299ca5(0x44a)](_0x346445,_0x26d542,_0x133667,_0x5d479e){const _0x9aa933=a0_0x299ca5;return await this[_0x9aa933(0x4f2)]['waInstances'][_0x346445][_0x9aa933(0x44a)](_0x26d542,_0x133667,_0x5d479e);}async[a0_0x299ca5(0x528)](_0xf7a80d,_0x3643e0){const _0x3fe335=a0_0x299ca5;return await this[_0x3fe335(0x4f2)][_0x3fe335(0x622)][_0xf7a80d[_0x3fe335(0x8b7)]][_0x3fe335(0x528)](_0x3643e0);}async[a0_0x299ca5(0x8d7)](_0x630a1c,_0x2df7ce){const _0x5da5c6=a0_0x299ca5;return await this[_0x5da5c6(0x4f2)]['waInstances'][_0x630a1c[_0x5da5c6(0x8b7)]][_0x5da5c6(0x8d7)](_0x2df7ce);}async[a0_0x299ca5(0x21c)](_0x3848cd,_0x136481){const _0x37bafb=a0_0x299ca5;return await this[_0x37bafb(0x4f2)][_0x37bafb(0x622)][_0x3848cd[_0x37bafb(0x8b7)]]['editConversation'](_0x136481);}async[a0_0x299ca5(0x4af)](_0x13cdca,_0x2f7a76){const _0x2c0908=a0_0x299ca5;return await this[_0x2c0908(0x4f2)][_0x2c0908(0x622)][_0x13cdca['instanceName']][_0x2c0908(0x4af)](_0x2f7a76);}async[a0_0x299ca5(0x285)](_0x4fcd15,_0x7f1f3d){const _0x49ca00=a0_0x299ca5;return await this[_0x49ca00(0x4f2)]['waInstances'][_0x4fcd15[_0x49ca00(0x8b7)]][_0x49ca00(0x285)](_0x7f1f3d[_0x49ca00(0x898)]);}async['createFlow'](_0x429fcc,_0x6b1ee0,_0x38f01b){const _0x58adec=a0_0x299ca5;return await this[_0x58adec(0x4f2)][_0x58adec(0x622)][_0x429fcc[_0x58adec(0x8b7)]][_0x58adec(0x4e0)](_0x6b1ee0,_0x38f01b);}async[a0_0x299ca5(0x83a)](_0x39a7b0,_0x115718,_0x306583){const _0xd42697=a0_0x299ca5;return await this[_0xd42697(0x4f2)]['waInstances'][_0x39a7b0['instanceName']]['editFlow'](_0x115718,_0x306583);}async['editFlowBlock'](_0x39647e,_0x190d04){const _0x476764=a0_0x299ca5;return await this[_0x476764(0x4f2)]['waInstances'][_0x39647e[_0x476764(0x8b7)]][_0x476764(0x719)](_0x190d04);}async[a0_0x299ca5(0x3ba)](_0x3353c0,_0x2ec4c7){const _0x566b13=a0_0x299ca5;return await this[_0x566b13(0x4f2)]['waInstances'][_0x3353c0[_0x566b13(0x8b7)]][_0x566b13(0x3ba)](_0x2ec4c7);}async['editFlowGroup'](_0x2e6301,_0x340ef3){const _0x547900=a0_0x299ca5;return await this[_0x547900(0x4f2)]['waInstances'][_0x2e6301[_0x547900(0x8b7)]][_0x547900(0x49b)](_0x340ef3);}async[a0_0x299ca5(0x4d2)](_0x316024,_0x5447ec){const _0x262d2a=a0_0x299ca5;return await this['waMonitor']['waInstances'][_0x316024[_0x262d2a(0x8b7)]][_0x262d2a(0x4d2)](_0x5447ec);}async[a0_0x299ca5(0x6e0)](_0xcf7081,_0x3c50dc){const _0x4aba2d=a0_0x299ca5;return await this[_0x4aba2d(0x4f2)]['waInstances'][_0xcf7081[_0x4aba2d(0x8b7)]]['editFlowVaredit'](_0x3c50dc);}async[a0_0x299ca5(0x2dc)](_0x53a8b9,_0x4607a3){const _0x4e6b94=a0_0x299ca5;return await this[_0x4e6b94(0x4f2)][_0x4e6b94(0x622)][_0x53a8b9[_0x4e6b94(0x8b7)]][_0x4e6b94(0x2dc)](_0x4607a3);}async[a0_0x299ca5(0x894)](_0xe14e46,_0x207acf){const _0x251349=a0_0x299ca5;return await this[_0x251349(0x4f2)]['waInstances'][_0xe14e46[_0x251349(0x8b7)]]['deleteFlow'](_0x207acf);}async[a0_0x299ca5(0x6ef)](_0x1da048){const _0x4834c0=a0_0x299ca5;return await this['waMonitor'][_0x4834c0(0x622)][_0x1da048[_0x4834c0(0x8b7)]][_0x4834c0(0x6ef)]();}},ss=class{constructor(_0x181c88){const _0x4826d0=a0_0x299ca5;this[_0x4826d0(0x625)]=_0x181c88;}async['createWebhook'](_0x3bf6fc,_0x298704){const _0x223ccd=a0_0x299ca5;return this[_0x223ccd(0x625)][_0x223ccd(0x37f)](_0x3bf6fc,_0x298704);}async[a0_0x299ca5(0x5f6)](_0xd7fdcf){const _0x147348=a0_0x299ca5;return this[_0x147348(0x625)][_0x147348(0x2b7)](_0xd7fdcf);}},as=class extends O{constructor(_0x296f44,_0x2ebb15){const _0xeb7896=a0_0x299ca5;super(_0x2ebb15),this[_0xeb7896(0x54d)]=_0x296f44,this['configService']=_0x2ebb15;}async[a0_0x299ca5(0x37f)](_0x2ee1e1,_0x2d2dbe){const _0x2a5465=a0_0x299ca5;try{return this[_0x2a5465(0x136)][_0x2a5465(0x5d5)]?{'insertCount':(await this[_0x2a5465(0x54d)][_0x2a5465(0x256)]({'_id':_0x2d2dbe},{..._0x2ee1e1},{'upsert':!0x0}))[_0x2a5465(0x8e3)]}:{'insertCount':0x1};}catch(_0x44cafb){return _0x44cafb;}}async[a0_0x299ca5(0x3be)](_0x797b94){const _0x45e715=a0_0x299ca5;try{if(this[_0x45e715(0x136)][_0x45e715(0x5d5)]){await this[_0x45e715(0x54d)]['deleteOne']({'_id':_0x797b94});return;}}catch(_0x304457){return{'error':_0x304457};}}async[a0_0x299ca5(0x2b7)](_0x19531b){const _0x476067=a0_0x299ca5;try{if(this['dbSettings'][_0x476067(0x5d5)])return await this[_0x476067(0x54d)][_0x476067(0x151)]({'_id':_0x19531b});}catch{return{};}}},is=class extends O{constructor(_0x50be8b,_0x3c7aea){const _0x19cc22=a0_0x299ca5;super(_0x3c7aea),this[_0x19cc22(0x510)]=_0x50be8b,this[_0x19cc22(0x1d9)]=_0x3c7aea,this[_0x19cc22(0x4c1)]=_0x3c7aea[_0x19cc22(0x2ed)](_0x19cc22(0x6ea));}async[a0_0x299ca5(0x37f)](_0x4a4053,_0x378e06){const _0x3ac485=a0_0x299ca5;try{if(this['dbSettings'][_0x3ac485(0x5d5)])return{'insertCount':(await this['authModel'][_0x3ac485(0x3ff)]({'_id':_0x378e06},{'$set':{..._0x4a4053}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x3b662c){return{'error':_0x3b662c};}}async[a0_0x299ca5(0x403)](_0x5f58c3,_0x2c6da7){const _0x5bbd40=a0_0x299ca5;try{if(this[_0x5bbd40(0x136)][_0x5bbd40(0x5d5)])return{'insertCount':(await this['authModel'][_0x5bbd40(0x5be)](_0x5f58c3,{'$set':_0x2c6da7},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x5bbd40(0x675));}catch(_0x2657f0){return{'error':_0x2657f0};}}async[a0_0x299ca5(0x66e)](_0x436179){const _0x2d227d=a0_0x299ca5;try{if(this[_0x2d227d(0x136)][_0x2d227d(0x5d5)])return{'insertCount':(await this[_0x2d227d(0x510)][_0x2d227d(0x66e)](_0x436179))[_0x2d227d(0x74d)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x2695bc){return{'error':_0x2695bc};}}async['delete'](_0x2b1ccd){const _0x37dda1=a0_0x299ca5;try{if(this['dbSettings'][_0x37dda1(0x5d5)]){await this[_0x37dda1(0x510)]['deleteOne']({'_id':_0x2b1ccd});return;}}catch(_0x526510){return{'error':_0x526510};}}async[a0_0x299ca5(0x2b7)](_0x5e6735){const _0x3af8ef=a0_0x299ca5;try{if(this['dbSettings'][_0x3af8ef(0x5d5)])return await this[_0x3af8ef(0x510)]['findOne']({'_id':_0x5e6735});}catch{return{};}}async['findAll'](){const _0x4c4762=a0_0x299ca5;try{if(this[_0x4c4762(0x136)][_0x4c4762(0x5d5)])return await this[_0x4c4762(0x510)][_0x4c4762(0x2b7)]();}catch{return[];}}async['findMany'](_0x58360d){const _0x126f0f=a0_0x299ca5;try{if(this['dbSettings'][_0x126f0f(0x5d5)])return await this[_0x126f0f(0x510)]['find'](_0x58360d);}catch{return[];}}},os=class extends O{async['deleteOne'](_0x32d1ef){const _0x2fb560=a0_0x299ca5;try{let _0xa01279=A(_0x32d1ef[_0x2fb560(0x23b)]);return{'deletedCount':(await ve['deleteOne'](_0xa01279))[_0x2fb560(0x74d)]};}catch(_0x55adb1){return{'error':_0x55adb1?.[_0x2fb560(0x5a7)]()};}}async['updateOne'](_0x1cac5b,_0x497fc0){const _0x582e45=a0_0x299ca5;try{let _0x1df215=await ve[_0x582e45(0x861)](_0x1cac5b);return _0x1df215?(Object[_0x582e45(0x243)](_0x1df215,_0x497fc0),await _0x1df215[_0x582e45(0x189)]()):(console['error'](_0x582e45(0x645),_0x1cac5b),null);}catch(_0x4a7de3){return console[_0x582e45(0x77f)](_0x582e45(0x700),_0x4a7de3),null;}}async[a0_0x299ca5(0x539)](_0x3fa048){const _0x397513=a0_0x299ca5;try{return await new ve(_0x3fa048)[_0x397513(0x189)]();}catch(_0x45bbf7){return console[_0x397513(0x77f)](_0x397513(0x538),_0x45bbf7),null;}}async['findAll'](_0x3cc560){const _0x50e522=a0_0x299ca5;try{let _0x4b085e=_0x3cc560['where']??{};return await ve[_0x50e522(0x2b7)](_0x4b085e)[_0x50e522(0x5a9)](_0x3cc560['limit']??0x0)[_0x50e522(0x7a3)]();}catch(_0x1927d4){return console[_0x50e522(0x77f)]('Erro\x20ao\x20buscar\x20fluxos:',_0x1927d4),[];}}async[a0_0x299ca5(0x151)](_0x595c86){const _0x49ce54=a0_0x299ca5;try{let _0x3e3568=A(_0x595c86[_0x49ce54(0x23b)]);return await ve[_0x49ce54(0x151)](_0x3e3568)[_0x49ce54(0x7a3)]();}catch{return null;}}},rs=class extends O{[a0_0x299ca5(0x4ee)](_0x58a22a){return Na(_0x58a22a);}async[a0_0x299ca5(0x5d1)](_0x32246b){const _0xcd24bb=a0_0x299ca5;if(_0x32246b[_0xcd24bb(0x84b)]!==0x0)try{return{'insertCount':(await this[_0xcd24bb(0x4ee)](_0x32246b[0x0]['owner'])[_0xcd24bb(0x686)]([..._0x32246b]))[_0xcd24bb(0x84b)]};}catch(_0x2e2675){return _0x2e2675;}}async[a0_0x299ca5(0x3be)](_0x5aed16,_0xa3608f){const _0xb36ad0=a0_0x299ca5;try{let _0x58b502=this['getConversationModelForOwner'](_0xa3608f),_0x2db7b5=A(_0x5aed16[_0xb36ad0(0x23b)]);return{'deletedCount':(await _0x58b502[_0xb36ad0(0x66e)](_0x2db7b5))[_0xb36ad0(0x74d)]};}catch(_0x3fb3cf){return{'error':_0x3fb3cf?.[_0xb36ad0(0x5a7)]()};}}async[a0_0x299ca5(0x441)](_0x56aa4c,_0x6705d){const _0x63b53c=a0_0x299ca5;try{let _0x426915=this[_0x63b53c(0x4ee)](_0x6705d),_0xfdaac6=A(_0x56aa4c['where']);return{'deletedCount':(await _0x426915[_0x63b53c(0x441)](_0xfdaac6))[_0x63b53c(0x74d)]};}catch(_0x4c847e){return{'error':_0x4c847e?.[_0x63b53c(0x5a7)]()};}}async[a0_0x299ca5(0x130)](_0x4241d3,_0x1a7b45){const _0x5a46df=a0_0x299ca5;try{if(_0x4241d3[_0x5a46df(0x84b)]===0x0)return;let _0x25e49b=this[_0x5a46df(0x4ee)](_0x1a7b45),_0x1e411a=_0x4241d3[_0x5a46df(0x3ae)](_0x3a766a=>({'updateOne':{'filter':{'name':_0x3a766a[_0x5a46df(0x5d0)],'owner':_0x1a7b45},'update':{..._0x3a766a}}})),{modifiedCount:_0x1f1ebc}=await _0x25e49b[_0x5a46df(0x516)](_0x1e411a);return{'insertCount':_0x1f1ebc};}catch{return;}}async[a0_0x299ca5(0x5be)](_0x2892a3,_0x4578f9,_0x403530){const _0x378e57=a0_0x299ca5;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x403530)[_0x378e57(0x5be)](_0x2892a3,{'$set':_0x4578f9})[_0x378e57(0x590)]())['modifiedCount']};}catch(_0x58addb){return console[_0x378e57(0x77f)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x58addb),{'error':_0x58addb};}}async[a0_0x299ca5(0x3ff)](_0x4de794,_0x5ee163,_0x15e09a){const _0x28d771=a0_0x299ca5;try{return await this[_0x28d771(0x4ee)](_0x15e09a)[_0x28d771(0x318)]({'_id':_0x4de794},{'$set':_0x5ee163},{'new':!0x0,'upsert':!0x0})[_0x28d771(0x7a3)]();}catch(_0x948a7d){return console[_0x28d771(0x77f)](_0x948a7d),null;}}async[a0_0x299ca5(0x2b7)](_0x36658c,_0x3d8af7){const _0x2d6306=a0_0x299ca5;try{return await this['getConversationModelForOwner'](_0x3d8af7)[_0x2d6306(0x2b7)](_0x36658c)[_0x2d6306(0x277)]({'lastInteraction':-0x1})[_0x2d6306(0x7a3)]();}catch{return[];}}async['findOne'](_0x2c7717,_0x411f28){const _0x59de47=a0_0x299ca5;try{return await this[_0x59de47(0x4ee)](_0x411f28)[_0x59de47(0x151)]({..._0x2c7717['where']})[_0x59de47(0x7a3)]();}catch{return null;}}async[a0_0x299ca5(0x52e)](_0x77538b){const _0x45dbfa=a0_0x299ca5;try{return await this[_0x45dbfa(0x4ee)](_0x77538b)[_0x45dbfa(0x6e6)][_0x45dbfa(0x1dc)](),{'success':!0x0};}catch(_0x46f861){return console['error'](_0x46f861),{'success':!0x1,'error':_0x46f861};}}},ns=class extends O{[a0_0x299ca5(0x73d)](_0x38c467){return $a(_0x38c467);}async[a0_0x299ca5(0x516)](_0x1b00ee,_0x44b423){const _0x5c81e4=a0_0x299ca5;try{return await this[_0x5c81e4(0x73d)](_0x44b423)[_0x5c81e4(0x516)](_0x1b00ee);}catch(_0x6c892c){return console[_0x5c81e4(0x77f)](_0x5c81e4(0x798),_0x6c892c),null;}}async[a0_0x299ca5(0x539)](_0x4fec41,_0x133ccd){const _0x1368c1=a0_0x299ca5;try{let _0x342cac=this[_0x1368c1(0x73d)](_0x133ccd);return await new _0x342cac(_0x4fec41)[_0x1368c1(0x189)]();}catch(_0x451a2c){return console[_0x1368c1(0x77f)](_0x1368c1(0x3f9),_0x451a2c),null;}}async[a0_0x299ca5(0x441)](_0x543ce7,_0x3d0bcd){const _0x248211=a0_0x299ca5;try{return await this[_0x248211(0x73d)](_0x3d0bcd)['findByIdAndDelete'](_0x543ce7),{};}catch(_0x3e5204){return{'error':_0x3e5204?.['toString']()};}}async[a0_0x299ca5(0x3ff)](_0x88af6e,_0x476031,_0x3acddc,_0x275681={}){const _0x352e34=a0_0x299ca5;try{return await this[_0x352e34(0x73d)](_0x3acddc)[_0x352e34(0x318)](_0x88af6e,_0x476031,{..._0x275681,'new':!0x0})['lean']();}catch(_0x511923){return console[_0x352e34(0x77f)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x511923),null;}}async[a0_0x299ca5(0x642)](_0x516820,_0x3e3374,_0x38f370){const _0xeb83f5=a0_0x299ca5;try{return await this[_0xeb83f5(0x73d)](_0x38f370)['findByIdAndUpdate'](_0x516820,_0x3e3374,{'new':!0x0})[_0xeb83f5(0x7a3)]();}catch(_0xdbbf5b){return console['error'](_0xeb83f5(0x22e),_0xdbbf5b),null;}}async['find'](_0x449823,_0x34e857){const _0x4a7e38=a0_0x299ca5;try{return await this[_0x4a7e38(0x73d)](_0x34e857)[_0x4a7e38(0x2b7)](_0x449823[_0x4a7e38(0x23b)])[_0x4a7e38(0x5a9)](_0x449823?.[_0x4a7e38(0x5a9)]??0x0)[_0x4a7e38(0x277)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x299ca5(0x151)](_0x223c27,_0x1188d3){const _0x540fb7=a0_0x299ca5;try{return await this[_0x540fb7(0x73d)](_0x1188d3)[_0x540fb7(0x151)](_0x223c27[_0x540fb7(0x23b)])[_0x540fb7(0x277)]({'when':0x1})[_0x540fb7(0x7a3)]();}catch{return null;}}async[a0_0x299ca5(0x861)](_0x40e3e2,_0x5aab50){const _0x1c97aa=a0_0x299ca5;try{return await this[_0x1c97aa(0x73d)](_0x5aab50)[_0x1c97aa(0x861)](_0x40e3e2)[_0x1c97aa(0x7a3)]();}catch{return null;}}async['deleteMany'](_0x463ae8,_0x46b937){const _0x16cc73=a0_0x299ca5;try{return{'deletedCount':(await this[_0x16cc73(0x73d)](_0x46b937)[_0x16cc73(0x66e)](_0x463ae8))[_0x16cc73(0x74d)]};}catch(_0x132574){return console[_0x16cc73(0x77f)](_0x16cc73(0x1e7),_0x132574),{'error':_0x132574};}}async[a0_0x299ca5(0x52e)](_0x49bf6b){const _0x3b6a03=a0_0x299ca5;try{return await this[_0x3b6a03(0x73d)](_0x49bf6b)[_0x3b6a03(0x6e6)][_0x3b6a03(0x1dc)](),{'success':!0x0};}catch(_0x1726b2){return console[_0x3b6a03(0x77f)](_0x1726b2),{'success':!0x1,'error':_0x1726b2};}}},cs=class extends O{async[a0_0x299ca5(0x130)](_0x306703,_0x5621e3){const _0xa16bb2=a0_0x299ca5;try{if(this['dbSettings'][_0xa16bb2(0x5d5)])return await Oe[_0xa16bb2(0x318)]({'_id':_0x5621e3},{'$set':_0x306703},{'new':!0x0});}catch(_0xe8e1cd){throw console[_0xa16bb2(0x77f)](_0xa16bb2(0x219),_0xe8e1cd),_0xe8e1cd;}}async['findOrCreate'](_0x3d4b6f){const _0x27188d=a0_0x299ca5;try{let _0x4f710f=await Oe[_0x27188d(0x861)](_0x3d4b6f);return _0x4f710f?_0x4f710f['autoCompleteMessages']||(_0x4f710f['autoCompleteMessages']=[],await _0x4f710f[_0x27188d(0x189)]()):(_0x4f710f=new Oe({'_id':_0x3d4b6f,'autoCompleteMessages':[]}),await _0x4f710f[_0x27188d(0x189)]()),_0x4f710f;}catch(_0x51a2bc){return _0x51a2bc[_0x27188d(0x5d2)]===0x2af8&&_0x51a2bc[_0x27188d(0x4b6)]&&_0x51a2bc['keyPattern'][_0x27188d(0x672)]?(console[_0x27188d(0x77f)](_0x27188d(0x245)),await Oe[_0x27188d(0x6e6)][_0x27188d(0x1f9)](_0x27188d(0x702)),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x51a2bc),null);}}},Go=new R(a0_0x299ca5(0x821)),Bo=new Ze(S),Wo=new Gt(S),zo=new ut(S),Ho=new Bt(ua,S),Ko=new Wt(pa,S),Qo=new as(ya,S),Yo=new is(ma,S),Xo=new $e(Ke,S),Zo=new os(S),er=new zt(S),tr=new rs(S),sr=new ns(S),ar=new cs(S),we=new Ye(Bo,Wo,zo,Ho,Ko,Qo,Yo,Xo,Zo,tr,er,sr,ar,T?.[a0_0x299ca5(0x446)]()),B=new Vt(ws,S,we),ir=new Xt(S,B,we),or=new es(B),Os=new ss(or),_=new ts(B),ue=new Qt(B,S,we,ws,ir),W=new Yt(B),D=new Ht(B),q=new Zt(B);Go[a0_0x299ca5(0x74c)](a0_0x299ca5(0x5c6));var xg=require(a0_0x299ca5(0x415)),Bs=require('fs'),Ji=I(require('https')),qi=I(require(a0_0x299ca5(0x26c))),Ve=class l{static #e;static set['app'](_0x5b4cdb){this.#e=_0x5b4cdb;}static get[a0_0x299ca5(0x707)](){const _0x37e476=a0_0x299ca5;let {FULLCHAIN:_0x564a1e,PRIVKEY:_0x1511b2}=S[_0x37e476(0x2ed)](_0x37e476(0x3ca));return Ji[_0x37e476(0x8e0)]({'cert':(0x0,Bs[_0x37e476(0x5db)])(_0x564a1e),'key':(0x0,Bs[_0x37e476(0x5db)])(_0x1511b2)},l.#e);}static get[a0_0x299ca5(0x26c)](){const _0x30308d=a0_0x299ca5;return qi[_0x30308d(0x8e0)](l.#e);}},se=I(require('fs')),Wi=I(require(a0_0x299ca5(0x420))),Ge=I(require(a0_0x299ca5(0x879))),ds=I(require(a0_0x299ca5(0x36d))),us=require(a0_0x299ca5(0x475));function rr(){const _0xeed828=a0_0x299ca5;B[_0xeed828(0x7e9)]();let _0x2e74f8=ds['default'][_0xeed828(0x35d)](__dirname,_0xeed828(0x1d1));Bi(_0x2e74f8);}var Bi=_0x1abd04=>{const _0x230666=a0_0x299ca5;let _0x5c132a=se[_0x230666(0x222)][_0x230666(0x793)](_0x1abd04),_0x31381e=0xc*0x3c*0x3c*0x3e8,_0x11b9a5=0x2*0x3c*0x3c*0x3e8,_0x4b5c06=new Date()[_0x230666(0x765)]();_0x5c132a['forEach'](_0x57130a=>{const _0x1df312=_0x230666;let _0x326c1c=ds[_0x1df312(0x222)][_0x1df312(0x35d)](_0x1abd04,_0x57130a),_0x418f58=se['default'][_0x1df312(0x86a)](_0x326c1c)[_0x1df312(0x544)][_0x1df312(0x765)]();_0x4b5c06-_0x418f58>_0x31381e&&(se[_0x1df312(0x222)][_0x1df312(0x29d)](_0x326c1c),console[_0x1df312(0x666)]('Deleted\x20'+_0x57130a));}),setTimeout(()=>Bi(_0x1abd04),_0x11b9a5);};function nr(){const _0x47a754=a0_0x299ca5;let _0x3a41da=new R(_0x47a754(0x2a3)),_0xba8f80=(0x0,be[_0x47a754(0x222)])();_0xba8f80[_0x47a754(0x74b)]((0x0,Gi[_0x47a754(0x222)])({'origin'(_0x25cd07,_0x1ab55d){const _0x57615f=_0x47a754;let {ORIGIN:_0x44d8e4}=S[_0x57615f(0x2ed)](_0x57615f(0x88d));return _0x25cd07||(_0x25cd07='*'),_0x44d8e4['indexOf']('*')!==-0x1||_0x44d8e4[_0x57615f(0x730)](_0x25cd07)!==-0x1?_0x1ab55d(null,!0x0):_0x1ab55d(new Error(_0x57615f(0x1bb)));},'methods':[...S['get']('CORS')[_0x47a754(0x4fc)]],'credentials':S[_0x47a754(0x2ed)](_0x47a754(0x88d))[_0x47a754(0x56d)]}),(0x0,be[_0x47a754(0x44b)])({'extended':!0x0,'limit':_0x47a754(0x16a)}),(0x0,be[_0x47a754(0x56a)])({'limit':_0x47a754(0x16a)})),_0xba8f80[_0x47a754(0x74b)]((_0x411bba,_0x37365d,_0x34f998)=>{const _0x116ad4=_0x47a754;_0x411bba[_0x116ad4(0x36d)][_0x116ad4(0x664)]('/events')?_0x34f998():(0x0,Vi['default'])()(_0x411bba,_0x37365d,_0x34f998);}),_0xba8f80[_0x47a754(0x7ae)](_0x47a754(0x2bd),_0x47a754(0x668)),_0xba8f80[_0x47a754(0x7ae)](_0x47a754(0x44d),(0x0,zs[_0x47a754(0x35d)])(ce,_0x47a754(0x44d))),_0xba8f80[_0x47a754(0x74b)](be[_0x47a754(0x222)][_0x47a754(0x706)]((0x0,zs[_0x47a754(0x35d)])(ce,_0x47a754(0x26f)))),_0xba8f80['use']((_0x205659,_0x4c1a00,_0x4c8ca4)=>{const _0x11b93b=_0x47a754;let _0x39b5a3=_0x4c1a00[_0x11b93b(0x80a)];_0x4c1a00['send']=function(_0x395032){const _0x2ac5af=_0x11b93b;if(_0x205659[_0x2ac5af(0x167)][_0x2ac5af(0x478)]===_0x2ac5af(0x75d)||_0x205659[_0x2ac5af(0x74a)][_0x2ac5af(0x194)]==='true'){let _0x231723=JSON['parse'](_0x395032);_0x395032=JSON[_0x2ac5af(0x6ed)](_0x5e3db3(_0x231723));}return _0x39b5a3[_0x2ac5af(0x839)](_0x4c1a00,[_0x395032]);},_0x4c8ca4();}),_0xba8f80[_0x47a754(0x74b)]('/',Ue),_0xba8f80[_0x47a754(0x74b)]((_0x4d3270,_0x23f9b7,_0x47e2d5,_0x5d8e06)=>{const _0xac9542=_0x47a754;if(_0x4d3270)return _0x47e2d5[_0xac9542(0x5d8)](_0x4d3270['status']||0x1f4)['json'](_0x4d3270);},(_0x2644b8,_0x179656,_0x4c6fa5)=>{const _0x2eb3fb=_0x47a754;let {method:_0x273c0d,url:_0x2e90bb}=_0x2644b8;_0x179656[_0x2eb3fb(0x5d8)](0x194)[_0x2eb3fb(0x56a)]({'status':0x194,'message':_0x2eb3fb(0x2a2)+_0x273c0d['toUpperCase']()+'\x20'+_0x2e90bb,'error':_0x2eb3fb(0x4cc)}),_0x4c6fa5();});let _0x5e3db3=(_0x3f7f52,_0xe710a3=_0x47a754(0x1bc))=>{const _0x45f21a=_0x47a754;let _0x4e2887=(_0x406b8c,_0x54dd29=null,_0x577318=!0x1)=>{const _0x2da20f=a0_0x49f7;let _0x52aa8c={};return Object[_0x2da20f(0x791)](_0x406b8c)['forEach'](_0x56c2b4=>{const _0x26e94c=_0x2da20f;let _0x978f58=_0x406b8c[_0x56c2b4],_0x1c6d85=''+_0xe710a3+_0x56c2b4;_0x54dd29&&!_0x577318&&(_0x1c6d85=_0x54dd29+'.'+_0x56c2b4),!_0x978f58&&_0x978f58!==0x0&&_0x978f58!==!0x1||typeof _0x978f58>'u'?_0x52aa8c[_0x1c6d85]=null:typeof _0x978f58!=_0x26e94c(0x6dc)&&!Array[_0x26e94c(0x21d)](_0x978f58)?_0x52aa8c[_0x1c6d85]=_0x978f58:typeof _0x978f58==_0x26e94c(0x6dc)&&!Array[_0x26e94c(0x21d)](_0x978f58)?_0x52aa8c=Object[_0x26e94c(0x243)](_0x52aa8c,_0x4e2887(_0x978f58,_0x1c6d85)):Array[_0x26e94c(0x21d)](_0x978f58)&&(typeof _0x978f58[0x0]=='object'?(_0x52aa8c[_0x1c6d85]=[],_0x978f58[_0x26e94c(0x613)](_0x40641b=>{const _0x14ec4c=_0x26e94c;_0x52aa8c[_0x1c6d85][_0x14ec4c(0x2b6)](_0x4e2887(_0x40641b,_0x1c6d85,!0x0));})):_0x52aa8c[_0x1c6d85]=_0x978f58);}),_0x52aa8c;};return Array['isArray'](_0x3f7f52)?_0x3f7f52['map'](_0x4ceabf=>_0x4e2887(_0x4ceabf)):typeof _0x3f7f52==_0x45f21a(0x6dc)&&_0x3f7f52!==null?_0x4e2887(_0x3f7f52):{};},_0x2b9fa3=S['get'](_0x47a754(0x2a3));Ve[_0x47a754(0x7f2)]=_0xba8f80;let _0x4bae38=Ve[_0x2b9fa3[_0x47a754(0x176)]],_0x20357d='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x4bae38['listen'](_0x2b9fa3['PORT'],()=>{const _0x413355=_0x47a754;_0x3a41da[_0x413355(0x666)](_0x20357d),_0x3a41da[_0x413355(0x666)](_0x2b9fa3[_0x413355(0x176)][_0x413355(0x6cd)]()+_0x413355(0x802)+_0x2b9fa3[_0x413355(0x498)]);}),rr(),ia();}var cr=a0_0x299ca5(0x31b),lr=ds[a0_0x299ca5(0x222)][a0_0x299ca5(0x35d)](__dirname,a0_0x299ca5(0x2ff)),Ie=null;function ur(){return new Promise((_0x28c056,_0xcf2031)=>{const _0x16f821=a0_0x49f7;se[_0x16f821(0x222)]['readFile'](lr,_0x16f821(0x8aa),(_0x526021,_0x34bb2c)=>{const _0x45f81a=_0x16f821;if(_0x526021){Ie=_0x526021,_0x28c056();return;}Wi['default']['parse'](_0x34bb2c)[_0x45f81a(0x5b8)][_0x45f81a(0x4bc)]===cr?(Ie=null,_0x28c056()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x28c056());});});}async function dr(){const _0x564843=a0_0x299ca5;try{await ur(),await Hs();}catch(_0x1574ab){console[_0x564843(0x77f)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x1574ab),console[_0x564843(0x666)](_0x564843(0x84f));}}dr();async function zi(){const _0x1a2028=a0_0x299ca5;let _0x375a69;try{_0x375a69=(await Ge[_0x1a2028(0x222)][_0x1a2028(0x2ed)](_0x1a2028(0x14f)))[_0x1a2028(0x2fb)]['ip'];}catch(_0x57460f){console[_0x1a2028(0x77f)](_0x57460f);try{_0x375a69=(await Ge[_0x1a2028(0x222)][_0x1a2028(0x2ed)](_0x1a2028(0x5e8)))[_0x1a2028(0x2fb)]['ip'];}catch(_0x287b4d){console[_0x1a2028(0x77f)](_0x287b4d);try{_0x375a69=(await Ge[_0x1a2028(0x222)][_0x1a2028(0x2ed)](_0x1a2028(0x1d8)))['data'][_0x1a2028(0x5ba)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x45241b){return console[_0x1a2028(0x77f)](_0x45241b),!0x1;}}}return _0x375a69;}var Be=a0_0x299ca5(0x6e7),me=0x0;function pr(_0xed55b4){const _0x4efacf=a0_0x299ca5;try{let _0x2aa763={'attempts':_0xed55b4,'timestamp':Date[_0x4efacf(0x1f1)](),'lastAttempt':new Date()[_0x4efacf(0x717)]()};se[_0x4efacf(0x222)][_0x4efacf(0x5b4)](Be,JSON[_0x4efacf(0x6ed)](_0x2aa763,null,0x2));}catch(_0x5d9e5b){console['error'](_0x4efacf(0x25a),_0x5d9e5b);}}function hr(){const _0x157737=a0_0x299ca5;try{if(se[_0x157737(0x222)]['existsSync'](Be)){let _0x42263e=JSON[_0x157737(0x24f)](se[_0x157737(0x222)][_0x157737(0x5db)](Be,_0x157737(0x4c9)));return console['log']('Tentativas\x20carregadas\x20do\x20arquivo:\x20'+_0x42263e[_0x157737(0x274)]+'\x20(última:\x20'+_0x42263e[_0x157737(0x1c2)]+')'),_0x42263e[_0x157737(0x274)]||0x0;}}catch(_0xc3dce4){console[_0x157737(0x77f)]('Erro\x20ao\x20carregar\x20tentativas:',_0xc3dce4);}return 0x0;}function gr(){const _0x3811a6=a0_0x299ca5;try{se[_0x3811a6(0x222)]['existsSync'](Be)&&(se[_0x3811a6(0x222)][_0x3811a6(0x29d)](Be),console[_0x3811a6(0x666)]('Contador\x20de\x20tentativas\x20resetado.'));}catch(_0x23b115){console['error'](_0x3811a6(0x2b1),_0x23b115);}}var mr=process[a0_0x299ca5(0x41b)]?.['DOCKER_ENV']==='true';mr?console[a0_0x299ca5(0x666)](a0_0x299ca5(0x4d3)):me=hr();async function fr(){const _0x54c2ca=a0_0x299ca5;let _0x35065f=await new de(S[_0x54c2ca(0x2ed)](_0x54c2ca(0x2b9)))[_0x54c2ca(0x23f)]();return console[_0x54c2ca(0x666)]('instancias:\x20',_0x35065f[_0x54c2ca(0x84b)]),_0x35065f['length'];}function wr(_0x314c01){const _0x294ef8=a0_0x299ca5;let _0x18acea=_0x314c01[_0x294ef8(0x2ed)](_0x294ef8(0x2a3))['URL'],_0x19ccbd=_0x314c01[_0x294ef8(0x2ed)](_0x294ef8(0x3ca));console[_0x294ef8(0x666)]('Valor\x20da\x20URL\x20recuperada:',_0x18acea),console['log'](_0x294ef8(0x63a),_0x19ccbd);let _0x112477='',_0x1830da=_0x18acea||'';if(_0x18acea){let _0x3249ce=_0x18acea[_0x294ef8(0x5ba)](/\/\/(.*?)\./);console['log'](_0x294ef8(0x74f),_0x3249ce),_0x3249ce&&_0x3249ce[0x1]&&(_0x112477=_0x3249ce[0x1],console[_0x294ef8(0x666)](_0x294ef8(0x52c),_0x112477));}if(!_0x112477&&_0x19ccbd&&_0x19ccbd['FULLCHAIN']){let _0xbf84b6=_0x19ccbd['FULLCHAIN']['split']('/');console[_0x294ef8(0x666)](_0x294ef8(0x863),_0xbf84b6);let _0xc942b2=_0xbf84b6[_0xbf84b6[_0x294ef8(0x84b)]-0x2];if(console[_0x294ef8(0x666)](_0x294ef8(0x145),_0xc942b2),_0xc942b2){let _0x288c98=_0xc942b2[_0x294ef8(0x5ca)]('.');console[_0x294ef8(0x666)](_0x294ef8(0x8ae),_0x288c98),_0x288c98[_0x294ef8(0x84b)]>0x2&&(_0x112477=_0x288c98[0x0],console[_0x294ef8(0x666)](_0x294ef8(0x39b),_0x112477),_0x1830da=''+_0xc942b2);}}return{'subdomain':_0x112477||'Subdomínio\x20não\x20encontrado','fullURL':_0x1830da||_0x294ef8(0x464)};}var {subdomain:ge,fullURL:Ks}=wr(S);console[a0_0x299ca5(0x666)]('Subdomínio\x20final:',ge),console[a0_0x299ca5(0x666)](a0_0x299ca5(0x74e),Ks);async function yr(){const _0x5dcd8e=a0_0x299ca5;let _0x1870c4=S['get']('REDIS'),_0x30588d=S[_0x5dcd8e(0x2ed)](_0x5dcd8e(0x6ea))['API_KEY']['KEY'],_0xfac2ca=S[_0x5dcd8e(0x2ed)]('SSL_CONF'),_0x92a77c=await zi(),_0x181b24=S[_0x5dcd8e(0x2ed)](_0x5dcd8e(0x2a3))[_0x5dcd8e(0x498)],_0x8a7ec0=Ks;try{let _0x2b72bc={'ip':_0x92a77c||null,'redis_enable':_0x1870c4?.[_0x5dcd8e(0x5d5)]||null,'apikey':_0x30588d||null,'ssl':_0xfac2ca?.[_0x5dcd8e(0x186)]||null,'lastupdate':Hi||null,'port':_0x181b24||null,'gitInstallError':Ie?.[_0x5dcd8e(0x503)]||null,'url':_0x8a7ec0||null,'subdomain':ge};if(console[_0x5dcd8e(0x666)](_0x5dcd8e(0x5e9),_0x2b72bc['ip']),_0x1870c4&&_0x1870c4['ENABLED']){let _0x8df1ce=await fr();_0x2b72bc['instanceCount']=_0x8df1ce||null;}for(let _0x1ffe76 in _0x2b72bc)_0x2b72bc[_0x5dcd8e(0x712)](_0x1ffe76)&&_0x1ffe76!=='ip'&&(_0x2b72bc[_0x1ffe76]=JSON['stringify'](_0x2b72bc[_0x1ffe76]));return(await Ge[_0x5dcd8e(0x222)][_0x5dcd8e(0x58d)](_0x5dcd8e(0x5cf),_0x2b72bc))[_0x5dcd8e(0x2fb)];}catch(_0x4509f8){return console['error'](_0x4509f8),!0x1;}}var Ws=!0x1,Hi=0x288,Te=0x3,ls=0x1b7740;async function Hs(){const _0x26de1a=a0_0x299ca5;let _0x3b9c3c=process[_0x26de1a(0x41b)]?.[_0x26de1a(0x806)]===_0x26de1a(0x75d);if(!_0x3b9c3c&&me>=Te)return console[_0x26de1a(0x77f)](_0x26de1a(0x7fe)+Te+_0x26de1a(0x6c1)),console[_0x26de1a(0x666)]('Para\x20reiniciar\x20as\x20tentativas,\x20delete\x20o\x20arquivo\x20license_attempts.json'),'MAX_ATTEMPTS_REACHED';let _0x3d446e=_0x26de1a(0x21b);Ie===null&&(_0x3d446e=await zi());let _0x1e4b4f=await yr();if(_0x1e4b4f){if(_0x1e4b4f['response'][_0x26de1a(0x1cf)]===!0x0){_0x3b9c3c||(gr(),me=0x0),Ie===null&&_0x1e4b4f[_0x26de1a(0x75b)][_0x26de1a(0x328)]-Hi>0x0&&await br(),Ws||(Ws=!0x0,nr());let _0x4d6167=0x24*0x3c*0x3c,_0x2db9f8=_0x1e4b4f[_0x26de1a(0x75b)][_0x26de1a(0x5fe)]>_0x4d6167?_0x4d6167:_0x1e4b4f['response'][_0x26de1a(0x5fe)],_0x58dfa3=Number(_0x2db9f8);if(isNaN(_0x58dfa3)){console[_0x26de1a(0x77f)](_0x26de1a(0x526));return;}let _0x457035=Math[_0x26de1a(0x71d)](_0x58dfa3/0xe10),_0x2e9592=Math[_0x26de1a(0x71d)](_0x58dfa3%0xe10/0x3c),_0x22657b=new Date(Date['now']()+_0x58dfa3*0x3e8);setTimeout(()=>{const _0x4cf3e4=_0x26de1a;console[_0x4cf3e4(0x666)](_0x4cf3e4(0x8d6)),process['exit'](0x0);},_0x58dfa3*0x3e8);let _0x5e2cc3=_0x133153=>_0x133153['toString']()[_0x26de1a(0x1a0)](0x2,'0'),_0x423c6e=_0x26de1a(0x2ee)+_0x5e2cc3(_0x457035)+'\x20horas\x20e\x20'+_0x5e2cc3(_0x2e9592)+'\x20minutos.\x20Será\x20às\x20'+_0x5e2cc3(_0x22657b[_0x26de1a(0x3f6)]())+':'+_0x5e2cc3(_0x22657b[_0x26de1a(0x7ac)]())+'.';console['log'](_0x423c6e);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ws&&(console['log'](_0x26de1a(0x746)),process[_0x26de1a(0x8ca)]()),_0x26de1a(0x8c4);}else{if(_0x3b9c3c||(me++,pr(me)),!_0x3b9c3c&&me<Te)console[_0x26de1a(0x666)](_0x26de1a(0x368)+me+'/'+Te+'.\x20Nova\x20tentativa\x20em\x20'+ls/0xea60+_0x26de1a(0x290)),setTimeout(Hs,ls);else{if(!_0x3b9c3c&&me>=Te)return console[_0x26de1a(0x77f)](_0x26de1a(0x8d9)+Te+_0x26de1a(0x6b2)),console[_0x26de1a(0x666)](_0x26de1a(0x89a)),_0x26de1a(0x263);_0x3b9c3c&&(console[_0x26de1a(0x666)](_0x26de1a(0x81f)+ls/0xea60+'\x20minutos...'),setTimeout(Hs,ls));}}}async function br(){const _0x468425=a0_0x299ca5;console[_0x468425(0x666)]('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x468425(0x666)](_0x468425(0x517)),(0x0,us['spawn'])(_0x468425(0x70c),{'shell':!0x0})['on'](_0x468425(0x7f7),_0x407ccc=>{const _0x55f486=_0x468425;_0x407ccc!==0x0?console[_0x55f486(0x77f)](_0x55f486(0x4f9)):(console[_0x55f486(0x666)](_0x55f486(0x83d)),console[_0x55f486(0x666)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,us[_0x55f486(0x421)])(_0x55f486(0x850),{'shell':!0x0})['on'](_0x55f486(0x7f7),_0x55e07d=>{const _0x5c6436=_0x55f486;if(_0x55e07d!==0x0)console[_0x5c6436(0x77f)](_0x5c6436(0x228));else{console[_0x5c6436(0x666)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x864567=(0x0,us[_0x5c6436(0x421)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x864567[_0x5c6436(0x5ea)]['on'](_0x5c6436(0x2fb),_0x3518f1=>{const _0x472eff=_0x5c6436;console[_0x472eff(0x666)](_0x472eff(0x6ce)+_0x3518f1);}),_0x864567['stderr']['on'](_0x5c6436(0x2fb),_0x13c3bc=>{const _0x309fd5=_0x5c6436;console[_0x309fd5(0x77f)](_0x309fd5(0x236)+_0x13c3bc);}),_0x864567['on']('exit',_0x3a6783=>{const _0x6dfc9f=_0x5c6436;_0x3a6783!==0x0?console[_0x6dfc9f(0x77f)](_0x6dfc9f(0x6a6)+_0x3a6783):console[_0x6dfc9f(0x666)](_0x6dfc9f(0x794)),console[_0x6dfc9f(0x666)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x299ca5(0x355)]={'fullURL':fullURL,'subdomain':subdomain});function a0_0x253a(){const _0x49251d=['request\x20body:\x20','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','lean','contact','string','updateStopChat','upsertChats','convertToWebP','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','interactiveResponseMessage','AutomateSystem\x20não\x20foi\x20inicializado','getMinutes','generate','set','buffer','/instance/fetchInstances','config','\x20Tentativa\x20de\x20reconexão\x20','IPv6\x20address\x20configured:\x20','updateGParticipant','):\x20Chat\x20','messageLogsModel','Enter\x20a\x20value\x20in\x20milliseconds','groupLeave','):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...','.TEL;waid=','pollMessageOnDelete','):\x20Query\x20params:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','role','https://chat.whatsapp.com/','Message','https://ifconfig.me/ip','thumbnailUrl','getAutomateSystem','Contacts\x20not\x20found','toBRL','downloadMediaMessage','website','timeout','Fluxos\x20não\x20estão\x20ativados','mimetype','MAX_SAFE_INTEGER','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','vcard','generateRandomIPv6','.ppt','refused','integer','deviceSentMessage','):Image\x20path:\x20','enviado\x20para','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','repository','):\x20newFirstValue\x20após\x20replaceVariables:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings',',\x20resultado:\x20','model','pollUpdateMessage','):Business\x20profile\x20fetched','updateLastSeenPrivacy','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','updateMessage','\x20do\x20chat\x20','routerPath','processedMessagesCache','copyBlock','waitingMenu_id','Tentando\x20reconectar...','):\x20Limpando\x20delayMessage','cachedContact','all','loadInstance','Garbage\x20collection\x20não\x20está\x20disponível.','):Desconectado,\x20parando\x20execução.','JWT','header','REDIS_URI','4sfNZqa','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','documentWithCaptionMessage','app','sendDataWebhook','hGet','waitingMenu_text','viewOnceMessageV2','close','updateStatusPrivacy','convertToString','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','replaceValue','redirect','Erro\x20ao\x20editar\x20o\x20chat','Máximo\x20de\x20tentativas\x20(','viewOnceMessage','capitalizedWords','createHash','\x20-\x20ON:\x20','qrCode','verifyWhatsAppNumber','secondValue','DOCKER_ENV','font','updateMissingCustomFields','noConnection','send','inet6','):Image\x20is\x20url','proto','pow','src','deleteflow','FlowRouter','READ','startFlow','):\x20conversation.lastInteraction:\x20','optionDescription','/webhook','Instance\x20Name:','prototype','.svg','api','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','sending','beforeExit','updateProfilePicture','Servidor\x20de\x20autenticação\x20offline\x20(Docker).\x20Nova\x20tentativa\x20em\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','WA\x20MODULE','single_select','processclearVariables','\x20tentativas.','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','https://uazapi-plugin.bubbleapps.io/?url=','createClient','jsonwebtoken','beautifyWithPlaceholders','):Getting\x20image\x20from\x20url','groupMemberAddMode','global','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','slice','type','chats.upsert','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','_activedCount','):\x20Flow\x20desativado','fetchPrivacySettings','image','SUCCESS','\x1b[42m','isMessageProcessed','apply','editFlow','greater','groupSettingUpdate','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','\x20foi\x20interrompido\x20pelo\x20usuário.','\x20minutos\x20verificará\x20novas\x20mensagens','getValidWhatsAppNumbers','\x22\x20-\x20REMOVED','):\x20Query\x20params:','\x20segundos','getBusinessProfile','pop','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','normalizeMessageContent','findAndUpdateCacheContact','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','getDevice','length','delAll','vote','dbInstance','Aplicação\x20permanecerá\x20em\x20estado\x20de\x20espera...','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','wuid','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','\x20:\x20','editflowvaredit','author','Router','restartInstance','composing','):\x20mediaMessageInfoId\x20:\x20','defineAuthState','cors','email','USER','then','valid','waitingMenu_replyOptions','findById','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20Editando\x20mensagens\x20no\x20grupo...','Erro\x20ao\x20tentar\x20autoCompleteMessages','createIPv6','flattenObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','statSync','enabled','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','values','instanceName\x20not\x20provided.','approve','\x27\x20do\x20banco\x20de\x20dados...','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','editflowcondition','Rodapé\x20de\x20Teste','Group\x20not\x20found','getContactModelForOwner','goNextblock','request\x20received\x20in\x20editFlowvariable','lastRealGroupsFetch','axios','updateProfilePicturePrivacy','getReadyToSendMessages','Connection\x20closed\x20for\x20instance:\x20','mongodb://','Flow\x20iniciado','AppStateSyncKeyData','updateGParticipate','?timestamp=','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','sendList','editflowblock','\x22,\x20valor\x20a\x20substituir:\x20\x22','digest','Erro\x20ao\x20iniciar\x20o\x20fluxo.','buttonParamsJson','varedits','#00a1f2','messages.update','Erro\x20ao\x20tentar\x20updateCustomFields','CORS','processReadyMessages','Error\x20updating\x20message\x20status:','DARK','reference','Stack\x20trace:','value','deleteFlow','telefone','processblock','replaceVariablesInObject','_id','replacer','Para\x20reiniciar\x20as\x20tentativas,\x20delete\x20o\x20arquivo\x20license_attempts.json','\x20and\x20data:','deleteDoneMessages','/instance','lastFetchAwaitingApproval','messagesLogs','\x1b[31m%s\x1b[0m','processApiRequest','.xlsx','getUniqueFlowName','Erro\x20ao\x20arquivar\x20chat','scheduleSendMedia','authState','out','Flow\x20\x27','Error\x20writing\x20file:\x20','utf-8','Início','):\x20Mensagem\x20já\x20enviada\x20para\x20','width','Partes\x20do\x20domínio:','request\x20received\x20in\x20deleteDoneMessages','cacheContactModel','/create','Instance\x20Key\x20from\x20DB:','envYaml','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x20minutos','\x1b[30m','instanceName','imagechat','STORE_CHATS','replyOption','E-mail:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','verbose','list3','no.connection','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','FULLCHAIN','Missing\x20global\x20api\x20key','):\x20lastBlockId:\x20','LICENSE_INVALID','fetchBusinessProfile','format','findIndex','sendAudio','fromMe','exit','Error\x20while\x20deleting\x20message\x20for\x20everyone','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','error_log','Erro\x20ao\x20atualizar\x20conversa:\x20','groupValidate','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','binary','updateGroupPicture','Instância\x20não\x20encontrada.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','WebhookGlobal','Reiniciando\x20a\x20aplicação...','fetchConversation','selectedId','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20','modify','instances','URI','activatedCount','readMessageBot','updateOnlinePrivacy','createServer','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','randomMac','modifiedCount','silent','getMessage','KEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','bodyStringErrorParse','getUpdate','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','WARN','/instance/delete','height','configureIPv6','leadInfo.etiquetas','EXPIRIN_IN','promisify','pollOnReplyDelete','Erro\x20ao\x20editar\x20o\x20bloco:\x20','contacts.upsert','firstValue','notMatchRegex','organization','idSchedule','contacts','randomBytes','CHATS_DELETE','update','events','connectToWhatsappController','PLAYED','lastSend','whoCanUse','dbSettings','AUTHENTICATION_API_KEY','groupJoinApprovalMode','Erro\x20ao\x20buscar\x20o\x20fluxo','lastInteraction','evaluateConditionTest','):\x20atualização\x20chat:\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','collections','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','context','Selecione','error\x20get\x20vote','key','createButtonSectionsFromValues','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','/wa-groups','):\x20Enviando\x20texto','c.us','):Image\x20is\x20base64','keep-alive','findGroupsEspecial','):\x20Buscando\x20todos\x20os\x20fluxos...','flowConversation','uazapiSendLocation','https://jsonip.com','delayChatLabel','findOne','.webp','variablesNotFound','Instância:\x20','getFullYear','createJid','reorderBlocks','\x1b[1m','STORE_CLEANING_TERMINAL','listMessage','deleteAllMessages','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','group-participants.update','GROUP_PARTICIPANTS_UPDATE','.type','stopConversation','findGroupInfos','DATABASE_CONNECTION_HOST','findAll','descId','_day','):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20','query','cachedContacts-whatsapp','statusJidList','50mb','sendContact','preview','chatLog','repeat','inviteUrl','onTime','CONTACTS_UPSERT','editScheduleMessage','$set','):\x20Iniciando\x20processReadyMessages','scheduleSendAudio','TYPE','\x1b[36m','MESSAGES_SET','updateMissingTags','isCommunity','\x20inseridos\x20no\x20banco\x20de\x20dados...','.ogg','updatePrivacySettings','stickerMessage','ORG:','archive','maxActives','HH:mm:ss','https://','messages.upsert','!cmd_','PRIVKEY','state','saveConversationToDatabase','save','removeInstance','equal','\x20contacts','\x1b[43m','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','VERBOSE','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','revokeInviteCode','scheduleMessage','):\x20whoCanUse\x20after\x20validation:\x20','uazapi','):Audio\x20processed','processScheduleFlow','pt-BR','Erro\x20ao\x20iniciar\x20fluxo:\x20','class-validator','Background\x20color\x20is\x20required','owner','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','FlowController','#6f7bcf','fetchProfilePictureUrl','padStart','DATABASE_CONNECTION_PASSWORD','textMessage','remove','_Contacts','label','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','ephemeralExpiration','fullName','connect','sim','waitingMenu_ExpiredMessage','remove.instance','defineProperty','):\x20Buscando\x20conversa...','eventemitter2','action','):Image\x20converted\x20to\x20WebP','):\x20\x27Enviando\x20audio\x20para\x20\x27','):\x20Iniciando\x20bot...','rows','isValidIPv6Config','updateBlock','localWebhook','.jpg','#d3a91f','@g.us','Not\x20allowed\x20by\x20CORS','_p_','userDevicesCache','initializeQueue','delayChatLabel_RETRY_DELAY_MS','created','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','lastAttempt','Type\x20not\x20found','buttons','):\x20Criando\x20fluxo\x20compartilhado...','saveVariable','cache','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','messageStubParameters','):\x20Ler\x20mensagem','Fluxo\x20id\x20\x27','shift','Esse\x20fluxo\x20expirou','/wa-message-update','licenca','File\x20written\x20to\x20path:\x20','downloads','recording','demote','CONTACTS_UPDATE','7iFuzbG','notEmpty','\x0aFN:','http://checkip.dyndns.org','configService','getContentType','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','drop','deleteMessageForEveryone','oldValue','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','No\x20suitable\x20network\x20interface\x20found','groupdata.participants','dbServer','MESSAGES_UPDATE','getLastMessage','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','mediaSticker','Erro\x20ao\x20deletar\x20mensagens:','presence','list',',\x20lastCondition:\x20','removeData','groupToggleEphemeral','hGetAll','#ffffff','promote','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','now','/instance/connectionState',',\x20valor\x20a\x20encontrar:\x20\x22','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','.xls','isInteger','\x20}\x0a','cleanupExcessiveIPs','dropIndex','\x20não\x20encontrado','PRESENCE_UPDATE','contactHandle','processawaitSeconds','pushName','connectionStatus','getBase64FromMediaMessage','@redis/client','):\x20Error\x20processing\x20the\x20block:\x20','and','Mensagem\x20não\x20suportada','):\x20nextBlock.uazapi.name','3EB0','sharePass','addMessagesToGroup','replaceVariablesLogs','qrcode.updated','[all]','request\x20received\x20in\x20updateCustomFields','formatVCard','editedMessage','title','reduce','clear','empty','groupUpdateDescription','delayChatLabel_MAX_RETRIES','):\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','@ffmpeg-installer/ffmpeg','reorderReplyOptions','Erro\x20ao\x20atualizar\x20AutomateSystem:','ScheduleMessage','fora\x20do\x20git','editConversation','isArray','Authentication\x20error','quoted','resetReconnectionVariables','ip\x20-br\x20link\x20show','default','cleaningUp','util','fileName','lastBlockId','deleteImportedChat','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','createConversationforgoToFlow','):\x20[messages.upsert]\x20group\x20ignored','):\x20Bloco\x20original\x20para\x20cópia:\x20','messageHandle','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','chats.update','errors','findParticipants','findMany','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Tentativa\x20','Erro\x20de\x20atualização:\x20','messageType','Error\x20fetching\x20group','request_time','linkPreview','where','setRestartTimeout','fone','Safari','instanceKeys','/startFlow/:instance/:startID','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','success','assign','}}\x20->\x20\x22','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Erro\x20ao\x20atualizar\x20agendamento\x20','Content-Type','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','This\x20name\x20','oldToken','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','scheduleNextCheck','backgroundColor','):\x20Procurando\x20mensagens\x20para\x20envio','parse','hosted','):\x20delete\x20=\x20true','parseInt','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','DELIVERY_ACK','replaceOne','readMessage','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','setWebhook','Erro\x20ao\x20salvar\x20tentativas:','globalShow','jwt','charAt','crypto','stopped','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','leadInfo.','LEVEL','SERVER_OFFLINE','flows','text/event-stream','Network\x20interfaces\x20detected:\x20','isLong','):Image\x20created','leadInfo.desativadoFluxoAte','connectToWhatsapp','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','http','updateMediaMessage','atendimentoAberto','public','Subscribed\x20Events:','cachedData-whatsapp','/media','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','attempts','createGroup','fetchLabels','sort','Types','https://api.openai.com/v1/audio/speech','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','isJidGroup','labels.edit','sendSticker','user','processingGroup','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','isJidBroadcast','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um',',\x20Expiration\x20Time:\x20','lastCondition','getFlow','AUTHENTICATION_JWT_EXPIRIN_IN','startCommandWord','Erro\x20ao\x20inserir\x20chats:','#b4ebff','groupFetchAllParticipating','conditions','responsavelid','\x20excess\x20IPv6\x20addresses.','profilePictureUrl','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x20minutos...','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','/events/:instance','#ff9484','Schema','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','\x0aitem','LOG_LEVEL','\x1b[37m%s\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','setHeader','DATABASE_CONNECTION_URI','minutesToClose','unlinkSync','sha256','#dfaef0','upperCase','findGroupInfo','Cannot\x20','SERVER','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','myAppStateKeyId','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','del','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','Erro\x20na\x20função\x20updateChatWithMessage:\x20','):\x20Flow\x20\x27','):\x20Erro\x20durante\x20a\x20atualização:\x20','announce','\x1b[0m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','sendLocation','Fluxo\x20\x27','Erro\x20ao\x20resetar\x20tentativas:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20whoCanEdit\x20after\x20validation:\x20','video','mongoose','push','find','updateGroupWebhook','REDIS','.pdf','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','fakeReceived','view\x20engine','last','Conexão\x20estabelecida','variables','request\x20received\x20in\x20updateAutoCompleteMessages','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','pollMessage','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','deleteMessage','AutomateFunctions','participants','senderKeyDistributionMessage','deleted','less','Número:\x20','menuMessage','p-queue','cacheInstanceRepository','verifiedName','max','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','presence.update','processConditionsTest','mongodb','updateProfileStatus','abs','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','env.KEY\x20!==\x20key','function','matchRegex','generateWAMessageFromContent','editFlowVariable','#9ba6ff','Type\x20is\x20required','Removing\x20excess\x20IPv6\x20address:\x20','#56ccb4','queue','condition','caption','\x20is\x20already\x20in\x20use.','blockLogs','RECONNECT_TIME_FRAME','createOrUpdate','chat\x20não\x20encontrado','participant','pictureUrl','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','Erro\x20ao\x20atualizar\x20o\x20flow.','get','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','sendReaction','DATABASE_CONNECTION_USER','allContacts','deleteBlock','):\x20Entrou\x20na\x20função\x20clearVariables','ip\x20-6\x20addr\x20del\x20','fromObject','\x1b[46m','DATABASE_ENABLED','\x20removido\x20do\x20chat\x20','recebido\x20de','lid','data','DaysToDelete','.webm','joinApprovalMode','./.git/config','Primeiro\x20Valor:\x20','request\x20received\x20in\x20deleteFlow','getChatModelForOwner','checkAndRestartProcess','subject','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','phoneNumber','URL:','connection.update','command','g-t','block','errorLog','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20teve\x20mudanças\x20chat.archived:\x20','realVariables','messaging-history.set',',\x20qrcodeCount:\x20','conversation','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','currency','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','CONTACTS_SET','\x1b[37m','findOneAndUpdate','):\x20conversation.waitingMenu_name','):\x20Entrou\x20na\x20função\x20goToFlow','https://github.com/uazapi/uazapi.git','):\x20Fluxos\x20não\x20estão\x20ativados','Botão\x201','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','logger','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','7666750vNVmIC','webhookMap','menu_options','saveTextReply','\x20não\x20encontrado\x20para\x20atualização.','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','redis://127.0.0.1:6379','last_update','startID','updateMissingEtiquetas','flowConfig','admin_add','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','RemoveChatLabel','lastReceivedMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','groupSetting','listType','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Last\x20message\x20not\x20found','whatsappNumbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Retornando\x20grupos\x20SEM\x20cache','evaluateCondition','\x20-i\x20','ERROR','deleteChat','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','CHATS_SET','headerString','Validate','apirequest','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','CONECTADO\x20À\x20UAZAPI','getMessageModelForOwner','false','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','-instances','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','isBusinessInstance','Forbidden','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString',',\x20valor\x20passado:\x20\x22','testIPv6','Timeout\x20exceeded','AddUserFlow','isListOfNumbers','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20whoCanUse\x20before\x20validation:\x20','REDIS_PREFIX_KEY','creation','exports','saveMediaToFile','):\x20Removendo\x20\x27','exists','EMAIL:','):\x20Enviando\x20mídia','inner','gifPlayback','join','Erro\x20ao\x20deletar\x20chat:','replace','deleteInstance','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','leaveGroup','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','write','start','--------------------------------------','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Servidor\x20de\x20autenticação\x20offline.\x20Tentativa\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','videoMessage','toArray','BufferJSON','path','sections','logout','contactsArrayMessage','updateCustomFields','flowName','findManyByIds','from','superadmin','updateConversation','request\x20received\x20in\x20editFlowcondition','display_text','):\x20transformedCustomFieldVariables','scheduleFlow','pollErrorMessage','scheduleSendText','findGroups','):\x20Bloco\x20com\x20ID\x20','create','@whiskeysockets/baileys','groupName',',\x20Resultado:\x20','notEqual','ignoreGroups','https://api.elevenlabs.io/v1/text-to-speech/','):Trying\x20to\x20get\x20business\x20profile','pollCreationMessageV3','Instance\x20logged\x20out','application/json','conversationTimestamp','retrySendMessage','presenceSubscribe','expression','locationMessage','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Rótulo\x20inválido\x20ou\x20sem\x20ID.','fetchProfilePicture','truncatedtoEnd','updateReadReceiptsPrivacy','importChatsBatch','uncaughtException','removed','Erro\x20ao\x20aplicar\x20varedit:\x20','groupParticipantsUpdate','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','shareFlow','restrict','numbers','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','joinGroupValidate','):\x20\x27Enviando\x20texto\x20para\x20\x27','updateProfileName','sendStatus','boolean','variable','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','trim','race','/media/','DELETED','Data\x20inválida\x20fornecida','writeData','\x1b[34m%s\x1b[0m','map','0123456789ABCDEF','connectionUpdate','some','blocks','\x20mensagens\x20de\x20','findLabels','ms\x20(tentativa\x20','updateGroupParticipantsWebhook','debug','https://ipv6.jsonip.com',',\x20Novo\x20tamanho:\x20','editFlowReply','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','allflows','/instance/connect','delete','ff:fe','none','.txt','lastUpdate','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','groups_ignore','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','isAdmin','lowerCase','SSL_CONF','uazapiSendText','uazapiSendMedia','Erro\x20ao\x20adicionar\x20label\x20','sendMessageAck','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','inviteCode','GROUPS_UPDATE','Error\x20finding\x20many\x20contacts:','Failed\x20to\x20prepare\x20media\x20message','editChat','audio/ogg;\x20codecs=opus','reconnectAttempts','Grupo\x20não\x20encontrado','extractPhoneNumber','InstancesAlterarTodas','processUazapi','_sender','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','clearVariables','fileLength','contextInfo','basename','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','scheduled','#fe9dfe','body','Error\x20parsing\x20JSON:','dayjs','QRCODE_UPDATED','\x27\x20não\x20encontrado\x20na\x20memória','SERVER_TYPE','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','end','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Iniciando\x20processo\x20de\x20deleção...','OrAnd','/5\x20falhou:\x20','off','Instâncias\x20removidas:\x20','_pushName','synchronizeAndMapFlows','getHours','toLocaleString','flowStopMinutes','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20expirationTime:\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','-whatsapp-api','updateParticipant','Bloco\x20com\x20ID\x20','updateOne','.wav','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','audio','updateAll','Deletion\x20failed','open',',\x20received\x20','mkdirSync','instanceInfo','uazapiDeleteMessage','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','ip6eui','video-cover.png','autoCompleteMessages','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','uazapiSendAudio','Erro\x20ao\x20alterar\x20privacidade','envProcess','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','express-async-errors','footer','message_normalized','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','choices','request\x20received\x20in\x20fetchConversation','env','js-yaml','groups.update','bodyString','nome','ini','spawn','groupdata','updateAgent','formatStatusMessage','expiration','labels.association','qrcode','pre','request\x20received\x20in\x20createFlow','replaceVariablesChat','authentication','AutomateSystem','.mimetype','connectionClosed','toBrazilianNumberFormat','editOperator','detectIPv6PrefixAndInterface','stopMinutesMaxActives','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','The\x20','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','substring','_remoteJid','announcement',',\x20pairCode:\x20','joinGroup','remoteJids','uuid','varedit','isBusiness','):\x20Deletando\x20mensagem','reactionMessage','deleteOne','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','GROUPS_UPSERT','stateConnection','446576sMAlvk','getClient','Last\x20message\x20not\x20found\x20for\x20number:\x20','requestFile','initAuthCreds','startFlowWebhook','urlencoded','):\x20Procurando\x20conversa','views','STATUS_INSTANCE','replaceVariables','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','media','next_groupId','automateSystem','whoCanEdit','):\x20newSecondValue\x20após\x20replaceVariables:','processgoToFlow','includes','g.us','loadWebhook','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','updateChatGroupData','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','.error','):\x20\x27Deletando\x20fluxo,\x20id:\x20','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20normalizar\x20a\x20mensagem:','namespace','desativadoFluxoAte','Erro\x20ao\x20editar\x20agentes','URL\x20não\x20disponível','LOG','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20conversation.status:\x20','everyOne','process','rowId','CHATS_UPDATE','/instance/create','Font\x20is\x20required','ipv6Prefix','readData','Erro\x20ao\x20alterar\x20fluxo','ex:\x20\x22groupJid=120362@g.us\x22','Instance\x20\x22','paused','pendingMessages','child_process','\x1b[1m\x1b[37m','):\x20alterando\x20this.AutomateSystem','convert','\x20depois\x20','removeUnusedChatFields','normalizeMessage','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Flow\x20iniciado\x20com\x20','):Audio\x20converted\x20and\x20stored\x20in\x20cache','\x27...','storePath','):\x20Label\x20','reaction','docker','toLowerCase','number','Variável\x20não\x20encontrada!','SSL_CONF_FULLCHAIN','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Novo\x20IP\x20criado:\x20','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','):\x20ev.flush\x20realizado','ReplyOption\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','INFO','\x1b[44m','entries','DisconnectReason','min','getScheduleMessage','interactiveMessage','findOrCreate','cacheContact','PORT','^\x5cd+','\x20inseridas\x20no\x20banco\x20de\x20dados...','editFlowGroup','Close\x20connection','sendWhatsAppAudio','Usando\x20IP\x20existente:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20com\x20sucesso.','tags','archived','Instance\x20deleted','All_Instances_Config',',\x20global:\x20','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','hSet','getLabelModelForOwner','chats','.mp3','networkInterface','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','loggedOut','deleteConversation','stanzaId','array','messageId','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','order','removeIPv6','keyPattern','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','@broadcast','unavailable','editflowgroup','audioMessage','url',']\x20(','paramsJson','#ffae04','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','auth','apiResponse','apiName','.extension','buttonText','messages.set','Imagem\x20não\x20encontrada','editMessagesInGroup','utf8','/64\x20dev\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Not\x20Found','eventHandler','test','cwd','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','connecting','editFlowCondition','Ambiente\x20Docker\x20detectado\x20-\x20sistema\x20anti-spam\x20desabilitado','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','endsWith','singleSelectReply','):\x20Entrou\x20na\x20função\x20saveReply','jid','badSession','cpf','):Delete\x20chat','\x1b[32m%s\x1b[0m','instance','/wa-presence','Falha\x20ao\x20processar\x20a\x20solicitação','createFlow','delayMessage','DEBUG','pino','done','\x20chats\x20de\x20','[service]\x20request\x20received\x20in\x20sendButtons','Error\x20in\x20chatModify\x20for\x20number\x20','variablesToObject','copy','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','poll','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Logger','getConversationModelForOwner','IPv6\x20Prefix\x20detected:\x20','urlOrBase64','messageLogs','waMonitor','canSendMessage','output','ip\x20-6\x20addr\x20show\x20scope\x20global','selectableCount','sendPresenceUpdate','formatBRNumber','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','params','METHODS','stack','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','createNewConversation','profile','longitude','toNumber','message','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','ListMessage','SendScheduleMessage','shareOwners','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20editar\x20a\x20conversa','/exit','/wa-contacts','):\x20customFieldVariables','):Archiving\x20chat','option','authModel','redisEnv','Nenhum\x20participante\x20válido\x20encontrado.','IP\x20mismatch:\x20configured\x20','address','application/octet-stream','bulkWrite','Limpando\x20logs\x20do\x20PM2...','fetchContacts','ScheduleMessageModel','load','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','transformScheduledMessagesByType','\x1b[33m','getDelay','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','_month','leadInfo.atendimentoAberto','when','hex','reviver','DATABASE_CONNECTION_DB_PREFIX_NAME','interval\x20não\x20é\x20um\x20número','reconnectTimestamps','getConversation','emit','size','redis','Subdomínio\x20extraído\x20da\x20URL:','\x1b[33m\x1b[1m','deleteAll','applyvaredit','remoteJid','\x1b[30m%s\x1b[0m','local_map','button','#fed428','ip\x20-6\x20addr\x20add\x20','padEnd','updateFlowConfig','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','createAndSave','memberAddMode','whatsappNumber','StartBot','mentions','mentioned','imgUrl','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','/:instanceName','round','addReplyOption','birthtime','loadEnv','Failed\x20to\x20send\x20buttons\x20message','Error\x20in\x20prepareMediaMessage:','.gif','Não\x20respondeu\x20com\x20a\x20enquete.','unreadcount','unreadCount','AUTHENTICATION_JWT_SECRET','webhookModel','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Request\x20Body:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Usando\x20extensão\x20padrão:\x20','instance.','createInstance','Instance\x20restarted','muteEndTime','Mac\x20OS','BRL','editflowreply','URL','cta_url','labelId','sign','SSL_CONF_PRIVKEY','chats.delete','Connection\x20Closed','setting','agents','.X-ABLabel:Celular\x0a','console','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','toFile','base64','stopWhenYouSendMsg','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','json','protocolMessage','Total\x20IPv6\x20addresses\x20detected:\x20','CREDENTIALS','express','Bad\x20Request','status.instance','moreLogs','Erro\x20ao\x20deletar\x20a\x20conversa','imageMessage','$dbName','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','fetchProfile','):Type\x20defined\x20as\x20audio','}}\x20->\x20valor\x20não\x20encontrado','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x20instance\x20does\x20not\x20exist','encoding','):Processing\x20audio','proxy:\x20','importChats','Network\x20Interface\x20detected:\x20','sendMessageWithTypingButtons','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','addBlock','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','StatusJidList\x20is\x20required','contact_blacklist','):\x20whoCanEdit\x20before\x20validation:\x20','https://uazapi-plugin.bubbleapps.io/','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','.png','audio/ogg','readreceipts','detail','post','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','createWebhook','exec','Número\x20não\x20possui\x20WhatsApp.','getOwnPropertyDescriptor','processvaredits','has','CONNECTION','):\x20Fluxo\x20\x27','long','flushHeaders','Db\x20Connection','leadInfo','online','mediaMessage','sharp','/wa-message','buttonMessage','$pull','\x5c$&','Instance\x20ID:','#83e421','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','#64c4ff','):Notifying\x20clients\x20for\x20chat:\x20','toString','\x20quoted:\x20','limit','buttonsResponseMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','https://api.openai.com/v1/images/generations','hDel','):\x20Buscando\x20flow,\x20id:\x20','/wa-qrcode','chatHandle','Cache\x20instance\x20update\x20result:\x20','node-cache','Chat\x20com\x20ID\x20','writeFileSync','):\x20Going\x20to\x20','notContains','quick_reply','remote\x20\x22origin\x22','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','match','flowStopConversation','lastMessage','groups.upsert','updateMany','delay','onWhatsApp','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','createSectionsFromValues','notify','admin','selectedDisplayText','Module\x20-\x20ON','messageTimestamp','stopIfLastReturnedError','newValue','split','dbConnection','unknown\x20operation\x20type\x20[','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','createConversationforStartFlow','https://uazapi.bubbleapps.io/api/1.1/wf/verificar_v1/','name','insert','code','groupRequestParticipantsUpdate','existsSync','ENABLED','):\x20[messages.update]\x20group\x20ignored','):\x20enviado\x20para\x20[','status','AddChatLabel','sendMessageWithTyping','readFileSync','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','\x1b[41m','Database\x20connection\x20closed.','timeInMinutes','@s.whatsapp.net','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','CHATS_UPSERT','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','listIPv6Addresses','dropCollection','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','_fromMe','https://api.ipify.org?format=json','ip:\x20','stdout','splice','Botão\x202','getProfileName','ListType','processPollUpdateMessage','privacySettings','sendPoll','/automate','server','description','):\x20Ignoring\x20group\x20messages.','findWebhook','groupCreate','validate','groupMetadata','ON\x20-\x20dbName:\x20','stopMinutes','msgRetryCounterCache','descOwner','segundos','IPv6\x20addresses\x20detected:\x20','isSuperAdmin','/wa-connection-update','chats.set','Error\x20adding\x20IPv6\x20address:\x20','method','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','SERVER_ACK','sectionsToString','testingWith','isConnected','color','_FlowHistorico','subjectTime','groupId','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','request\x20received\x20in\x20editConversation','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','latitude','forEach','authorization','):\x20Current\x20Time:\x20','awaitingApproval','):\x20Bloco\x20copiado:\x20','convertedOptions','createButtonsFromValues','document','groupBetterSetting','_minute','templateButtonReplyMessage','):\x20Criando\x20nova\x20conversa[createNewConversation]','footerText','jpegThumbnail','fetchInstances','waInstances','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','mediatype','webhookService','Error\x20testing\x20IP\x20with\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','replaceVariablesInReplyOptions','Error\x20updating\x20cache\x20contact:','Telefone:\x20','):\x20Entrou\x20na\x20função\x20processawaitSeconds','findAndReplace','groupHandler','):\x20leadInfoVariables','_Chats','options','findChats','closeExistingConversations','enumerable','\x22\x20cannot\x20be\x20empty','request\x20received\x20in\x20deleteConversation',',\x20canSendMessage:\x20','SERVER_URL','sleep','nativeFlowMessage','Configuração\x20SSL\x20recuperada:','Falha\x20ao\x20processar\x20fetchBusinessProfile','/config','upsertedCount','fetchMessages','flowActive','#9ab6c1','status@broadcast','updateOneById','_lastVote','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Erro\x20ao\x20atualizar\x20cacheInstance:','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Operador:\x20\x22','stderr','Internal\x20Server\x20Error','countIPv6Addresses','sendMessageWithRetry','toDataURL','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','menuType','):Fetching\x20business\x20profile','contains','438880fAKSwZ','this.reconnectAttempts:\x20','Erro\x20ao\x20buscar\x20conversas',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Editando\x20variável\x20do\x20fluxo...','API\x20Key\x20from\x20Request:','blockId','compression','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','content','DATABASE','request\x20received\x20in\x20deleteAllMessages','flow','ContactsAndGroups','groupJid','startCommand','1181718rTXTqB','startsWith','updatePresence','log','restart','hbs','):\x20Não\x20achou\x20nenhum\x20flow','findMessages','connectionState','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','readMessages','deleteMany','Variáveis\x20não\x20encontradas:','_error','https://v6.ident.me','autoCompleteMessages.command','Valor\x20de\x20find\x20ou\x20replace\x20ausente','isBase64','Database\x20is\x20not\x20enabled','/chat','desc','markMessageAsRead','):Output\x20path:\x20','removeProfilePicture','etiquetas','filter','reject','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','writeFile','fileUrl','getflow','router','not_announcement','):\x20Editando\x20replyOption...','displayName','insertMany','.\x20Tentando\x20novamente\x20em\x20','groupadd','pairingCode','DB_PREFIX_NAME','#000000','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','request\x20received\x20in\x20allFlows','delaySecMax','Esse\x20fluxo\x20não\x20permite\x20importação.','/wa-chats','sendButtons','waitingForReplyMenu','webhook','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','sendCommand','processConditions','#ffc5c7','):\x20Buscando\x20flow...','XX:XX:XX:XX:XX:XX','COLOR','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','text','sendMedia','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','SINGLE_SELECT','client','reorderMessages','fetchChats','The\x20\x22','setContext','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','SEND_MESSAGE','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','uazapiSendMenu','prepareMediaMessage','Removed\x20','s.whatsapp.net','pollCreationMessageV2','\x20segundos...','24833wgXnoC','Adicionando\x20novo\x20participante:\x20','\x20tentativas.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','Message\x20absent\x20from\x20node','put','updateChatWithMessage','Nenhum\x20fluxo\x20correspondente\x20encontrado.','available','creds','fetchStatus','PREFIX_KEY','customFields','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20buscar\x20a\x20conversa','extractMessageContent','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20',')\x20já\x20foi\x20atingido.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','Removidas\x20as\x20variáveis:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','Erro\x20ao\x20remover\x20label\x20','Log\x20out\x20instance:\x20','groupGetInviteInfo','HistoryProcessed','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','):\x20Enviando\x20contato','authService','groupAcceptInvite','updateGroupsAddPrivacy','toUpperCase','Atualização:\x20','\x20não\x20encontrado\x20para\x20cópia','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','cacheInstanceModel','):Error\x20in\x20converting\x20audio','contacts.update','locked','timeoutPromise','API_KEY','changeVariables','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Error\x20in\x20buttonsMessage\x20function:','MESSAGES_UPSERT','object','cleanStore','10PvHxaW','bateu\x20events','editFlowVaredit','getSeconds','random','eventEmitter','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','isURL','collection','./license_attempts.json','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','PRODUCT_LIST','AUTHENTICATION','groupUpdateSubject','profileName','stringify','CONNECTION_UPDATE','allFlows','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','store','Error\x20removing\x20IPv6\x20address:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','pollCreationMessage','3171438EhDLdQ','CacheContacts\x20database\x20connection\x20closed.','/wa-all-message','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Content\x20is\x20required','release','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','insertCount','updateReplyOption','CORS_CREDENTIALS','listResponseMessage','Erro\x20ao\x20atualizar\x20o\x20fluxo:','useMultiFileAuthState','autoCompleteMessages.command_1','messages','findRealGroups','findAndReplaceRegex','static','https','findFlow','getStatus','selectedRowId','CORS_ORIGIN','pm2\x20flush','^\x5cd+([-]\x5cd+)*@g.us$','Falhou\x20ao\x20encontrar\x20chat\x20','count','messageSecret','):\x20Entrou\x20na\x20função\x20stop','hasOwnProperty','Falta\x20informação\x20para\x20a\x20chamada\x20API','pollCreationMessageKey','nomecompleto','request\x20received\x20in\x20editFlow','toISOString','\x1b[36m%s\x1b[0m','editFlowBlock','ObjectId','IP\x20confirmed:\x20','generateHash','floor','profilePicture','STORE_CONTACTS','iniciando\x20fluxo\x20router','.doc','Rótulo\x20deletado:\x27,\x20','unlocked','createConnection','HOST','groupDesc','warn','add','chatId','\x5cd+','Erro\x20ao\x20copiar\x20o\x20documento','NextBlock','send.message','):\x20Instancia\x20isBusiness:\x20','updateAutoCompleteMessages','indexOf','uazapiSendContact','groups','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','SECRET','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','notas','cleanDisconnectedInstances','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','not\x20loaded','temp-','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Invalid\x20format','getScheduleMessageModelForOwner','lastSendMessage','request_method','isRunning','):Temp\x20image\x20deleted','):\x20error:\x20','1756038HeZLcw','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','sendText','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','\x20-y','statusMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','headers','use','info','deletedCount','URL\x20completa:','Resultado\x20da\x20correspondência\x20de\x20URL:','throwAndLogError','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','newStoppedUntil','#01d0e2','_year','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','PENDING','\x1b[34m','closed','sendMenu','):\x20Atualizando\x20status\x20da\x20mensagem\x20','response','audioWhatsapp','true','sendMessage','folder','content-type','dataValidate','convertaudio','convertaudioMP3','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','getTime','\x27\x20não\x20encontrado','chatModify','arraybuffer','PROXY','group','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','isJWT','chat','LabelModel','getVariablesChat','findGroup','replyOptions','\x1b[31m','statusCode','Erro\x20ao\x20importar\x20chats','):\x20Comando\x20desconhecido:\x20','data:\x20','contactMessage','toggleEphemeral','?authSource=admin&readPreference=primary&directConnection=true','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','findContacts','catch','node-mime-types','connectedClient','error','endSession','):\x20debug\x20alterando\x20this.AutomateSystem','menuIgnoreNonVotes','.jwt','Falha\x20após\x205\x20tentativas:\x20','originalUrl','label_jid','quotedMessage','CLEANING_INTERVAL','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','menuExpiredMessage','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','nativeFlowResponseMessage','archiveChat','apikey','app-state-sync-key','triedToSend','keys','.ogv','readdirSync','Sistema\x20atualizado\x20com\x20sucesso!','imported','trimmed','createflow','Erro\x20ao\x20executar\x20bulkWrite:','_Messages','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20',',\x20saindo.','addToProcessedMessages','__esModule','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','call','addChatLabel'];a0_0x253a=function(){return _0x49251d;};return a0_0x253a();}