const a0_0x26c870=a0_0x4486;(function(_0x4fe3e7,_0x44239d){const _0x1e0e75=a0_0x4486,_0x14a4bf=_0x4fe3e7();while(!![]){try{const _0x46af32=parseInt(_0x1e0e75(0x525))/0x1+parseInt(_0x1e0e75(0x387))/0x2*(-parseInt(_0x1e0e75(0x371))/0x3)+parseInt(_0x1e0e75(0x50c))/0x4*(-parseInt(_0x1e0e75(0x1d3))/0x5)+parseInt(_0x1e0e75(0x3cc))/0x6*(-parseInt(_0x1e0e75(0x2cf))/0x7)+parseInt(_0x1e0e75(0x352))/0x8+-parseInt(_0x1e0e75(0x3f9))/0x9+-parseInt(_0x1e0e75(0x1b8))/0xa*(-parseInt(_0x1e0e75(0x5a5))/0xb);if(_0x46af32===_0x44239d)break;else _0x14a4bf['push'](_0x14a4bf['shift']());}catch(_0x53e8d8){_0x14a4bf['push'](_0x14a4bf['shift']());}}}(a0_0x4bed,0xaf266));var Hi=Object[a0_0x26c870(0x1e0)],We=Object['defineProperty'],Ki=Object[a0_0x26c870(0x1a2)],Qi=Object[a0_0x26c870(0x644)],Yi=Object[a0_0x26c870(0x25e)],Xi=Object[a0_0x26c870(0x4fc)]['hasOwnProperty'],Zi=(_0x28a4a5,_0x2b1fba)=>{for(var _0x1a0fc9 in _0x2b1fba)We(_0x28a4a5,_0x1a0fc9,{'get':_0x2b1fba[_0x1a0fc9],'enumerable':!0x0});},Qs=(_0x2fa4a2,_0x1eaaa2,_0x4e1fd9,_0x25d714)=>{const _0x4ea177=a0_0x26c870;if(_0x1eaaa2&&typeof _0x1eaaa2==_0x4ea177(0x408)||typeof _0x1eaaa2==_0x4ea177(0x53d)){for(let _0xa162ba of Qi(_0x1eaaa2))!Xi[_0x4ea177(0x36e)](_0x2fa4a2,_0xa162ba)&&_0xa162ba!==_0x4e1fd9&&We(_0x2fa4a2,_0xa162ba,{'get':()=>_0x1eaaa2[_0xa162ba],'enumerable':!(_0x25d714=Ki(_0x1eaaa2,_0xa162ba))||_0x25d714[_0x4ea177(0x46f)]});}return _0x2fa4a2;},I=(_0x1c2f86,_0x23359a,_0xdea20)=>(_0xdea20=_0x1c2f86!=null?Hi(Yi(_0x1c2f86)):{},Qs(_0x23359a||!_0x1c2f86||!_0x1c2f86['__esModule']?We(_0xdea20,'default',{'value':_0x1c2f86,'enumerable':!0x0}):_0xdea20,_0x1c2f86)),eo=_0x3856f8=>Qs(We({},a0_0x26c870(0x896),{'value':!0x0}),_0x3856f8),br={};Zi(br,{'fullURL':()=>Ks,'subdomain':()=>ge}),module['exports']=eo(br);var qi=I(require(a0_0x26c870(0x69f))),Xs=require('fs'),Zs=require('js-yaml'),ea=require(a0_0x26c870(0x847)),ze=require(a0_0x26c870(0x847)),ce=process[a0_0x26c870(0x919)](),Me=(0x0,ze[a0_0x26c870(0x5ba)])(ce,a0_0x26c870(0x415)),Ys=(0x0,ze[a0_0x26c870(0x5ba)])(ce,a0_0x26c870(0x2bf)),Mn=(0x0,ze[a0_0x26c870(0x5ba)])(ce,a0_0x26c870(0x3dc),'auth'),gs=class{constructor(){const _0x467282=a0_0x26c870;this[_0x467282(0x4fe)]();}['get'](_0x13e5dc){const _0x3f22aa=a0_0x26c870;return this[_0x3f22aa(0x435)][_0x13e5dc];}['loadEnv'](){const _0x3eda77=a0_0x26c870;this[_0x3eda77(0x435)]=process['env']?.[_0x3eda77(0x363)]!==_0x3eda77(0x4f4)?this['envYaml']():this['envProcess'](),process[_0x3eda77(0x435)]?.[_0x3eda77(0x363)]===_0x3eda77(0x4f4)&&(this[_0x3eda77(0x435)][_0x3eda77(0x3e1)][_0x3eda77(0x93f)]=_0x3eda77(0x852),this['env'][_0x3eda77(0x3e1)][_0x3eda77(0x6ef)]=Number[_0x3eda77(0x681)](process[_0x3eda77(0x435)]?.[_0x3eda77(0x64b)]??_0x3eda77(0x6ae)));}[a0_0x26c870(0x1d9)](){const _0x276e79=a0_0x26c870;return(0x0,Zs['load'])((0x0,Xs[_0x276e79(0x39b)])((0x0,ea[_0x276e79(0x5ba)])(Ys,_0x276e79(0x4a0)),{'encoding':'utf-8'}));}['envProcess'](){const _0x44dc80=a0_0x26c870;return{'SERVER':{'TYPE':process[_0x44dc80(0x435)][_0x44dc80(0x923)],'PORT':Number['parseInt'](process[_0x44dc80(0x435)][_0x44dc80(0x64b)]),'URL':process[_0x44dc80(0x435)][_0x44dc80(0x5b6)]},'CORS':{'ORIGIN':process['env'][_0x44dc80(0x553)][_0x44dc80(0x4c5)](','),'METHODS':process['env'][_0x44dc80(0x1ba)][_0x44dc80(0x4c5)](','),'CREDENTIALS':process[_0x44dc80(0x435)]?.[_0x44dc80(0x8cb)]===_0x44dc80(0x4f4)},'SSL_CONF':{'PRIVKEY':process[_0x44dc80(0x435)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x44dc80(0x435)]?.[_0x44dc80(0x872)]},'STORE':{'CLEANING_INTERVAL':Number[_0x44dc80(0x73e)](process[_0x44dc80(0x435)]?.[_0x44dc80(0x367)])?Number[_0x44dc80(0x681)](process['env'][_0x44dc80(0x367)]):void 0x0,'MESSAGES':process[_0x44dc80(0x435)]?.[_0x44dc80(0x7f3)]===_0x44dc80(0x4f4),'CONTACTS':process[_0x44dc80(0x435)]?.[_0x44dc80(0x56d)]===_0x44dc80(0x4f4),'CHATS':process[_0x44dc80(0x435)]?.[_0x44dc80(0x932)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x44dc80(0x435)]?.[_0x44dc80(0x6cd)],'PORT':Number[_0x44dc80(0x681)](process[_0x44dc80(0x435)]?.[_0x44dc80(0x6cd)]),'USER':process[_0x44dc80(0x435)][_0x44dc80(0x6ac)],'PASSWORD':process[_0x44dc80(0x435)][_0x44dc80(0x303)],'URI':process[_0x44dc80(0x435)][_0x44dc80(0x5b9)],'DB_PREFIX_NAME':process[_0x44dc80(0x435)][_0x44dc80(0x8de)]},'ENABLED':process[_0x44dc80(0x435)]?.[_0x44dc80(0x86c)]===_0x44dc80(0x4f4)},'REDIS':{'ENABLED':process[_0x44dc80(0x435)]?.[_0x44dc80(0x3cf)]===_0x44dc80(0x4f4),'URI':process['env'][_0x44dc80(0x85e)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x44dc80(0x435)][_0x44dc80(0x23f)]||_0x44dc80(0x88e)},'LOG':{'LEVEL':process[_0x44dc80(0x435)]?.[_0x44dc80(0x63d)][_0x44dc80(0x4c5)](','),'COLOR':process['env']?.[_0x44dc80(0x533)]===_0x44dc80(0x4f4)},'PROXY':process[_0x44dc80(0x435)]?.['PROXY']===_0x44dc80(0x4f4),'AUTHENTICATION':{'TYPE':process[_0x44dc80(0x435)][_0x44dc80(0x8cf)],'API_KEY':{'KEY':process[_0x44dc80(0x435)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x44dc80(0x350)])?Number['parseInt'](process[_0x44dc80(0x435)][_0x44dc80(0x350)]):0xe10,'SECRET':process[_0x44dc80(0x435)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new gs(),Vi=I(require(a0_0x26c870(0x740))),be=I(require('express')),zs=require(a0_0x26c870(0x847)),ms=I(require(a0_0x26c870(0x642))),fs=(_0x3ff7d8=>(_0x3ff7d8['LOG']=a0_0x26c870(0x29f),_0x3ff7d8[a0_0x26c870(0x878)]=a0_0x26c870(0x546),_0x3ff7d8[a0_0x26c870(0x2f1)]='\x1b[33m',_0x3ff7d8[a0_0x26c870(0x395)]='\x1b[31m',_0x3ff7d8[a0_0x26c870(0x36a)]='\x1b[36m',_0x3ff7d8['VERBOSE']='\x1b[37m',_0x3ff7d8[a0_0x26c870(0x24f)]='\x1b[30m',_0x3ff7d8))(fs||{}),ta=(_0x3600d6=>(_0x3600d6[a0_0x26c870(0x282)]=a0_0x26c870(0x2bc),_0x3600d6[a0_0x26c870(0x24f)]=a0_0x26c870(0x37b),_0x3600d6[a0_0x26c870(0x878)]=a0_0x26c870(0x2e3),_0x3600d6['WARN']='\x1b[33m%s\x1b[0m',_0x3600d6['ERROR']='\x1b[31m%s\x1b[0m',_0x3600d6[a0_0x26c870(0x36a)]=a0_0x26c870(0x850),_0x3600d6[a0_0x26c870(0x7a0)]=a0_0x26c870(0x703),_0x3600d6))(ta||{}),sa=(_0x442b44=>(_0x442b44[a0_0x26c870(0x282)]=a0_0x26c870(0x282),_0x442b44[a0_0x26c870(0x2f1)]='WARN',_0x442b44[a0_0x26c870(0x878)]='INFO',_0x442b44[a0_0x26c870(0x24f)]=a0_0x26c870(0x24f),_0x442b44[a0_0x26c870(0x395)]=a0_0x26c870(0x395),_0x442b44[a0_0x26c870(0x36a)]=a0_0x26c870(0x36a),_0x442b44['VERBOSE']=a0_0x26c870(0x7a0),_0x442b44))(sa||{}),aa=(_0x9392a2=>(_0x9392a2[a0_0x26c870(0x282)]=a0_0x26c870(0x3b2),_0x9392a2[a0_0x26c870(0x878)]=a0_0x26c870(0x76f),_0x9392a2[a0_0x26c870(0x2f1)]=a0_0x26c870(0x560),_0x9392a2[a0_0x26c870(0x24f)]='\x1b[40m',_0x9392a2[a0_0x26c870(0x395)]=a0_0x26c870(0x79c),_0x9392a2[a0_0x26c870(0x36a)]=a0_0x26c870(0x93a),_0x9392a2[a0_0x26c870(0x7a0)]=a0_0x26c870(0x318),_0x9392a2))(aa||{}),$=class{constructor(_0x598031=a0_0x26c870(0x668)){const _0x2ad291=a0_0x26c870;this[_0x2ad291(0x6d9)]=_0x598031,this['configService']=S;}[a0_0x26c870(0x719)](_0x195934){const _0x4f377c=a0_0x26c870;this[_0x4f377c(0x6d9)]=_0x195934;}['console'](_0x3bc47d,_0x121f68){const _0x387685=a0_0x26c870;let _0x64b8a3=[];this[_0x387685(0x382)][_0x387685(0x2c9)](_0x387685(0x282))[_0x387685(0x46b)][_0x387685(0x526)](_0x2c4272=>_0x64b8a3[_0x387685(0x48e)](sa[_0x2c4272]));let _0x273164=typeof _0x3bc47d;_0x64b8a3[_0x387685(0x7bc)](_0x121f68)&&(S[_0x387685(0x2c9)](_0x387685(0x282))[_0x387685(0x2a4)]?(console[_0x387685(0x323)](_0x387685(0x404)+ta[_0x121f68],_0x387685(0x2bd),(0x0,ms[_0x387685(0x595)])()[_0x387685(0x685)](_0x387685(0x378)),_0x387685(0x88f),fs[_0x121f68]+aa[_0x121f68]+_0x387685(0x404),_0x121f68+_0x387685(0x85b),_0x387685(0x43c),this[_0x387685(0x6d9)]+'\x1b[0m',fs[_0x121f68],_0x273164!==_0x387685(0x408)?_0x3bc47d:'',_0x387685(0x88f)),_0x273164===_0x387685(0x408)&&console[_0x387685(0x323)](_0x3bc47d,'\x0a')):console[_0x387685(0x323)]((0x0,ms[_0x387685(0x595)])()[_0x387685(0x685)](_0x387685(0x359)),_0x121f68+'\x20',''+this[_0x387685(0x6d9)],_0x3bc47d));}[a0_0x26c870(0x323)](_0x4afdcc){const _0x1e91c7=a0_0x26c870;this[_0x1e91c7(0x864)](_0x4afdcc,_0x1e91c7(0x282));}[a0_0x26c870(0x797)](_0x9e1094){const _0x1d1ba9=a0_0x26c870;this[_0x1d1ba9(0x864)](_0x9e1094,_0x1d1ba9(0x878));}[a0_0x26c870(0x6be)](_0x118fd7){const _0x4bd2f1=a0_0x26c870;this[_0x4bd2f1(0x864)](_0x118fd7,_0x4bd2f1(0x2f1));}[a0_0x26c870(0x7ba)](_0x1e6ba5){const _0x171371=a0_0x26c870;this[_0x171371(0x864)](_0x1e6ba5,'ERROR');}['verbose'](_0x30f587){const _0x383ffc=a0_0x26c870;this[_0x383ffc(0x864)](_0x30f587,'VERBOSE');}[a0_0x26c870(0x3ab)](_0x2eaa36){const _0x50e960=a0_0x26c870;this[_0x50e960(0x864)](_0x2eaa36,'DEBUG');}['dark'](_0x43ee7e){const _0x3a2515=a0_0x26c870;this[_0x3a2515(0x864)](_0x43ee7e,_0x3a2515(0x24f));}};function a0_0x4486(_0x62561,_0x3d92e8){const _0x4bed42=a0_0x4bed();return a0_0x4486=function(_0x448609,_0x1ec297){_0x448609=_0x448609-0x17e;let _0xab9afd=_0x4bed42[_0x448609];return _0xab9afd;},a0_0x4486(_0x62561,_0x3d92e8);}function ia(){const _0x2c6be0=a0_0x26c870;process['on']('uncaughtException',(_0xc8e0ff,_0x2d3a2f)=>{const _0x3ff6f0=a0_0x4486;new $(_0x3ff6f0(0x8d7))['error']({'origin':_0x2d3a2f,'stderr':process[_0x3ff6f0(0x60f)]['fd'],'error':_0xc8e0ff});}),process['on'](_0x2c6be0(0x893),(_0x52461d,_0x580d8e)=>{const _0x13b090=_0x2c6be0;new $(_0x13b090(0x893))['error']({'origin':_0x580d8e,'stderr':process['stderr']['fd'],'error':_0x52461d});});}var oa=I(require(a0_0x26c870(0x1c9))),ws=new oa[(a0_0x26c870(0x595))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x26c870(0x28f)),_e=I(require(a0_0x26c870(0x28f))),He=new $(a0_0x26c870(0x377)),L=S[a0_0x26c870(0x2c9)](a0_0x26c870(0x22b)),T=L[a0_0x26c870(0x3b5)]?L[a0_0x26c870(0x89c)]['URI']?_e['default'][a0_0x26c870(0x1e9)](L['CONNECTION'][a0_0x26c870(0x562)],{'dbName':L[a0_0x26c870(0x89c)][a0_0x26c870(0x34b)]+a0_0x26c870(0x691)}):_e[a0_0x26c870(0x595)][a0_0x26c870(0x1e9)](a0_0x26c870(0x4e5)+L[a0_0x26c870(0x89c)][a0_0x26c870(0x788)]+':'+L[a0_0x26c870(0x89c)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x26c870(0x89c)][a0_0x26c870(0x776)],'pass':L[a0_0x26c870(0x89c)][a0_0x26c870(0x61f)],'dbName':L[a0_0x26c870(0x89c)][a0_0x26c870(0x34b)]+a0_0x26c870(0x691)}):null;L[a0_0x26c870(0x3b5)]&&He[a0_0x26c870(0x797)]('ON\x20-\x20dbName:\x20'+T[a0_0x26c870(0x6fb)]);var Y=L[a0_0x26c870(0x3b5)]?L[a0_0x26c870(0x89c)][a0_0x26c870(0x562)]?_e[a0_0x26c870(0x595)][a0_0x26c870(0x1e9)](L[a0_0x26c870(0x89c)][a0_0x26c870(0x562)],{'dbName':a0_0x26c870(0x71e)}):_e[a0_0x26c870(0x595)][a0_0x26c870(0x1e9)](a0_0x26c870(0x4e5)+L[a0_0x26c870(0x89c)]['HOST']+':'+L[a0_0x26c870(0x89c)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x26c870(0x89c)]['USER'],'pass':L['CONNECTION'][a0_0x26c870(0x61f)],'dbName':a0_0x26c870(0x1ce)}):null;Y&&He[a0_0x26c870(0x797)](a0_0x26c870(0x64e)+Y[a0_0x26c870(0x6fb)]),process['on'](a0_0x26c870(0x3b7),()=>{const _0x1a6dc2=a0_0x26c870;T&&T[_0x1a6dc2(0x73a)](()=>{const _0x69a8e1=_0x1a6dc2;He[_0x69a8e1(0x797)]('Database\x20connection\x20closed.');}),Y&&Y['close'](()=>{const _0x120081=_0x1a6dc2;He[_0x120081(0x797)](_0x120081(0x912));});});var to=new Ce[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x26c870(0x8ae))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x26c870(0x8ae))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ra=_0x203ff6=>{const _0x2122d8=a0_0x26c870;let _0x1711ba='z_'+_0x203ff6+_0x2122d8(0x264);return T?.[_0x2122d8(0x7be)](_0x2122d8(0x931),oo,_0x1711ba);},na=require(a0_0x26c870(0x28f)),ro=new na[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=_0x49309f=>{const _0x1e780d=a0_0x26c870;let _0x144cfe='z_'+_0x49309f+_0x1e780d(0x249);return T?.[_0x1e780d(0x7be)](_0x1e780d(0x88b),ro,_0x144cfe);},la=require('mongoose'),ys=class{},no=new la[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ua=Y?.[a0_0x26c870(0x7be)](ys[a0_0x26c870(0x5fa)],no,a0_0x26c870(0x82d)),da=require(a0_0x26c870(0x28f)),bs=class{},co=new da[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=Y?.[a0_0x26c870(0x7be)](bs[a0_0x26c870(0x5fa)],co,'instances'),Ms=require(a0_0x26c870(0x28f)),Ss=class{},lo=new Ms[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),uo=new Ms['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),pa=Y?.[a0_0x26c870(0x7be)](Ss[a0_0x26c870(0x5fa)],uo,a0_0x26c870(0x8f9)),ha=_0x1c7d36=>{const _0x50a866=a0_0x26c870;let _0x458f8c='z_'+_0x1c7d36+'_Messages';return T?.['model'](_0x50a866(0x22e),lo,_0x458f8c);},ga=require(a0_0x26c870(0x28f)),Cs=class{},po=new ga[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ma=T?.[a0_0x26c870(0x7be)](Cs[a0_0x26c870(0x5fa)],po,a0_0x26c870(0x817)),fa=require(a0_0x26c870(0x28f)),vs=class{},wa=new fa[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x4bed(){const _0x3ad1df=['Número:\x20','transformScheduledMessagesByType','deleteAll','optionDescription','authentication','editflowblock','LabelModel','local_map','Router','request\x20received\x20in\x20deleteDoneMessages','startCommandWord','awaitSeconds','AUTHENTICATION','PROXY','replace','groupRequestParticipantsList',',\x20saindo.','all_member_add','toDataURL','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Instâncias\x20removidas:\x20','MAX_SAFE_INTEGER','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Entrou\x20na\x20função\x20clearVariables','startID','find','ContactsAndGroups','replyOptions','request\x20received\x20in\x20updateFlowConfig','startFlow','firstValue','findParticipants','):\x20atualização\x20chat:\x20','Rodapé\x20de\x20Teste','createConversationforStartFlow','Falha\x20ao\x20criar\x20IPv6.','data:\x20','ip\x20-br\x20link\x20show','pino',',\x20Segundo\x20Valor:\x20','Configured\x20new\x20IPv6:\x20','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','undefined','createIPv6','.ppt','updateConversation','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','createJid','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','Internal\x20Server\x20Error','IPv6\x20Prefix\x20detected:\x20','path','collections','/group','subject','):\x20expirationTime:\x20','isJidGroup','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','exit','collection','\x1b[36m%s\x1b[0m','conditions','http','groups.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','#000000','loadInstance','waitingForReplyMenu','Error\x20fetching\x20group','CHATS_SET','createflow','\x20\x1b[0m','setRestartTimeout','toFile','REDIS_URI','formatStatusMessage','Reiniciando\x20a\x20aplicação...','messageTimestamp','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','hex','console','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','):\x20Usando\x20extensão\x20padrão:\x20','!stop','router','url','idSchedule','groupName','DATABASE_ENABLED','phoneNumber','Message\x20absent\x20from\x20node','auth','getMessageModelForOwner','):\x20Chat\x20','SSL_CONF_FULLCHAIN','isCommunity','isRunning','exports','):\x20Deletando\x20conversa...','groupUpdateSubject','INFO','):\x20Não\x20achou\x20nenhum\x20flow','creds','command','Connection','\x20minutos.\x20Será\x20às\x20','subjectTime','):\x20whoCanEdit\x20before\x20validation:\x20','proto',',\x20received\x20','deletedCount','clearVariables','request\x20received\x20in\x20editFlowvariable','varedit','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','instanceInfo','Failed\x20to\x20prepare\x20media\x20message','IP\x20confirmed:\x20',',\x20canSendMessage:\x20','ContactModel','isBase64','getScheduleMessageModelForOwner','uazapi','\x1b[0m','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','redis','\x27...','unhandledRejection','hGet','sendMessageAck','__esModule','picture','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','delay','insertCount','CONNECTION','sections','beautifyWithPlaceholders','deviceSentMessage','Mac\x20OS','Instância:\x20','.mp4','saveMediaToFile','Parando\x20aplicação,\x20atualização\x20recebida','backgroundColor','round','profilePicture','.type','padStart','desativadoFluxoAte','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','evaluateConditionTest','/wa-groups','Schema','delaySecMax','preview','timeout','isJidBroadcast','waitingMenu_ExpiredMessage','getConversationModelForOwner','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','#9ab6c1','promote','GROUP_PARTICIPANTS_UPDATE','./license_attempts.json','removeInstance','removeData','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','https://','size','This\x20name\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','start','):\x20conversation.status:\x20','pollErrorMessage','isListOfNumbers','substring','defineAuthState','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','CORS_CREDENTIALS','getFlow','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','dropCollection','AUTHENTICATION_TYPE','ms\x20(tentativa\x20','updateGroupsAddPrivacy','requestFile','ERROR:\x20','whatsappNumbers','messageSecret','updateProfileName','uncaughtException','\x27\x20não\x20encontrado','Not\x20Found','label_jid','Enter\x20a\x20value\x20in\x20milliseconds','Valor\x20inicial:\x20\x22','flowIgnoreGroups','DATABASE_CONNECTION_DB_PREFIX_NAME','listType','importChatsAntigo','groupRevokeInvite','):\x20newFirstValue\x20após\x20replaceVariables:','lastCondition','):\x20Iniciando\x20processReadyMessages','bateu\x20events','chat\x20não\x20encontrado','\x20minutos','):\x20Editando\x20mensagens\x20no\x20grupo...','):Image\x20created','drop','updateGParticipate','list3','updateGroupWebhook','):Getting\x20image\x20from\x20url','):\x20Instancia\x20isBusiness:\x20','Erro\x20ao\x20copiar\x20o\x20documento','key','isJWT','Tentativa\x20','output','cleaningUp','sharp','presence.update','proxy:\x20','messagesLogs','stickerMessage','groups_ignore','Error\x20removing\x20unused\x20chat\x20fields:','groupSetting','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','iniciando\x20fluxo\x20router','messageStubParameters','rowId','waUploadToServer','MESSAGES_UPSERT','cache','.mp3','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',',\x20Novo\x20tamanho:\x20','chatId','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','uuid','Erro\x20ao\x20executar\x20bulkWrite:','updateChatGroupData','user','cpf','OrAnd','):\x20Criando\x20fluxo...','Valor\x20de\x20find\x20ou\x20replace\x20ausente','CacheContacts\x20database\x20connection\x20closed.','editConversation','\x20-y','synchronizeAndMapFlows','messageLogsModel','\x27\x20removido\x20do\x20AutomateSystem.','newValue','cwd','groupDesc','fetchConversation','errorLog','writeFileSync','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','ListMessage','Opção\x20Falsa\x20','selectedId','createHash','SERVER_TYPE','ip:\x20','connectedName','notEmpty','replacer','updatePresence','instance.','@whiskeysockets/baileys','quick_reply','saveVariable','AddChatLabel','CREDENTIALS','delaySecMin','/events/:instance','ChatModel','STORE_CHATS','deleteDoneMessages','):\x20Label\x20','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','stopped','addReplyOption','setHeader','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[46m','profilePictureUrl','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','Failed\x20to\x20send\x20buttons\x20message','SSL_CONF','TYPE','open','\x0aitem','toBRL','messages.set','_activatedCount','Type\x20not\x20found','):\x20Alterando\x20fluxo...','Missing\x20global\x20api\x20key','_activedCount','scheduleSendMedia','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','DisconnectReason','redirect','params','_hour','audioWhatsapp','oldToken','authModel','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','The\x20\x22','app','):\x20Enviando\x20texto','Stack\x20trace:','_error','localWebhook','no.connection','importChats','messaging-history.set','viewOnceMessage','creation','node-mime-types','editflowvaredit','Data\x20inválida\x20fornecida','authService','findAndReplaceRegex','splice','wuid','extractPhoneNumber','equal','yes','sendAudio','option','parse','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','app-state-sync-key','msgRetryCounterCache','findIndex','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','RECONNECT_TIME_FRAME','):\x20\x27Enviando\x20audio\x20para\x20\x27','fromObject','getOwnPropertyDescriptor','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','minutesToClose','randomBytes','now','createWebhook','Erro\x20ao\x20buscar\x20fluxos:','getChatModelForOwner','scheduleSendText','config','convertToWebP','contactHandle','queue','removed','events','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','ex:\x20\x22groupJid=120362@g.us\x22','statSync','waitingMenu_id','padEnd','audio/ogg;\x20codecs=opus','18418310iAXeQs','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','CORS_METHODS','birthtime','presence','media','catch','reference','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20Editando\x20replyOption...','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','inviteCode','add','getFullYear','announcement','request\x20received\x20in\x20deleteFlow','isURL','eventemitter2',',\x20Minutes\x20to\x20Close:\x20','Filtered\x20network\x20interfaces:\x20','findOneAndUpdate','sendCommand','cachedContacts-whatsapp','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','menuIgnoreNonVotes','processclearVariables','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','1742315lJnWfP','randomMac','whoCanUse','createFlow','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','contacts.upsert','envYaml','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Novo\x20IP\x20criado:\x20','webhookService','fileName','}}\x20->\x20\x22','create','nomecompleto','allFlows','Erro\x20ao\x20salvar\x20tentativas:','getDevice','):\x20Criando\x20fluxo\x20compartilhado...','awaitingApproval','findAndUpdateCacheContact','Limpando\x20logs\x20do\x20PM2...','createConnection','CONTACTS_UPDATE','convertaudioMP3','approve','Total\x20IPv6\x20addresses\x20detected:\x20','sendMessageWithRetry','processUazapi','cleanStore','clear','CORS','replaceOne','fetchInstances','\x20segundos...','isBusinessInstance','Erro\x20ao\x20alterar\x20privacidade','reject','fetchProfilePictureUrl','Erro\x20ao\x20atualizar\x20cacheInstance:','\x20removido\x20do\x20chat\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Comando\x20desconhecido:\x20','sendLocation','):\x20Entrou\x20na\x20função\x20goToFlow','json','URL\x20completa:','readData','replaceVariablesLogs','getflow','address','groupJid','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Máximo\x20de\x20tentativas\x20(','groupParticipantsUpdate','description','https://api64.ipify.org?format=json','recording','audio/ogg','recebido\x20de','#b4ebff','Botão\x201','updateBlock','sendPoll','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','Garbage\x20collection\x20não\x20está\x20disponível.','archive','hasOwnProperty','deleted','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','imported','Erro\x20ao\x20resetar\x20tentativas:','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','PRESENCE_UPDATE','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','PRODUCT_LIST','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','@s.whatsapp.net','Instance\x20\x22','cacheInstanceRepository','demote','FULLCHAIN','/*.json','write','\x20ao\x20chat\x20','Rótulo\x20deletado:\x27,\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','cacheContactModel','DATABASE','where','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','MessageModel','updateOnlinePrivacy','views','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','MESSAGES_SET','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Enviando\x20mídia','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','updateStopChat','@ffmpeg-installer/ffmpeg','header','reconnectTimestamps','online','sendSticker','GET','Não\x20respondeu\x20com\x20a\x20enquete.','vir','REDIS_PREFIX_KEY','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','ephemeralExpiration','findOrCreate','Flow\x20iniciado\x20com\x20','):\x20Enviando\x20enquete','createSectionsFromValues','@broadcast','_Contacts','^\x5cd+','editFlowBlock','.xls','instanceName','findGroup','DARK','\x20não\x20encontrado\x20para\x20cópia','deleteChat','repository','/chat','qrcode.updated','editFlowReply','SINGLE_SELECT','flows','lastUpdate','audioMessage','):Error\x20in\x20converting\x20audio','ScheduleMessageModel','last_update','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','getPrototypeOf','Atualização:\x20','Servidor\x20de\x20autenticação\x20offline.\x20Tentativa\x20','CONTACTS_UPSERT','lowerCase','logger','_Chats','inviteUrl','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','basename','sim','Network\x20Interface\x20detected:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','conversation','_month','findByIdAndUpdate','request\x20received\x20in\x20allFlows','KEY','https://uazapi-plugin.bubbleapps.io/','createClient','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','archived','Aplicação\x20permanecerá\x20em\x20estado\x20de\x20espera...','static','groupHandler','Selecione\x20uma\x20opção','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','editedMessage','/:instanceName','updateProfilePicture','map','when','contact_blacklist','CONNECTION_UPDATE','scheduleMessage','deleteMessageForEveryone','LOG','/wa-message','status','):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20','no-cache','/instance/fetchInstances','configureIPv6','):\x20customFieldVariables','#f64847','Not\x20allowed\x20by\x20CORS','nativeFlowMessage','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','URL:','mongoose','variable','jid','hbs','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','processblock','set','interactiveMessage','The\x20','updateReplyOption','bulkWrite','redisEnv','longitude','messageLogs','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','formatVCard','\x1b[32m','addBlock','copyBlock','processPollUpdateMessage','timeInMinutes','COLOR','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Not\x20is\x20business\x20profile','https://ipv6.jsonip.com','readdirSync','modifiedCount','decryptPollVote','deleteFlow','pollCreationMessageKey','):\x20Enviando\x20mensagem\x20para\x20','DELIVERY_ACK','\x20Tentativa\x20de\x20reconexão\x20','updateFlowConfig','waitingMenu_replyOptions','imageMessage','bodyString','filter','\x20não\x20encontrado','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):Processing\x20audio','width','Erro\x20ao\x20editar\x20o\x20bloco:\x20','readreceipts','request_time','\x1b[32m%s\x1b[0m','\x1b[1m\x1b[37m','SERVER_OFFLINE','src','Imagem\x20não\x20encontrada','express','stringify','SendScheduleMessage','jpegThumbnail','processApiRequest','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','/message','presenceSubscribe','get','LICENSE_INVALID','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','groupadd','uazapiDeleteMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','7vwrLmV','All_Instances_Config','buttonMessage','3EB0','value','\x0aFN:','pictureUrl','IP\x20mismatch:\x20configured\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','findManyByIds','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','dbInstance','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','selectedButtonId','SEND_MESSAGE','length','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','global','PENDING','\x1b[34m%s\x1b[0m','):\x20conversation.lastInteraction:\x20','joinGroup','Erro\x20ao\x20atualizar\x20o\x20flow.','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','errors','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','env.KEY\x20!==\x20key','):\x20Criando\x20nova\x20conversa[createNewConversation]','assign','keys','requestPairingCode','WARN','whoCanEdit','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','?timestamp=','createNewConversation','removeChatLabel','):Hash\x20to\x20image\x20name:\x20','connectToWhatsappController','groupRequestParticipantsUpdate','URL\x20não\x20disponível','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','release','messageHandle','\x20foi\x20interrompido\x20pelo\x20usuário.','Servidor\x20de\x20autenticação\x20offline\x20(Docker).\x20Nova\x20tentativa\x20em\x20','reorderBlocks','mentioned','DATABASE_CONNECTION_PASSWORD','connect','https://github.com/uazapi/uazapi.git','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','scheduled','findGroupInfo','saveChatVariables','next_groupId','last','markMessageAsRead','author','sign','fone','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','listen','success','generate','evaluateCondition','sharePass','website','Subdomínio\x20extraído\x20da\x20URL:','\x1b[47m','buttonsResponseMessage','request\x20body:\x20','.pptx','indexOf','):Notifying\x20clients\x20for\x20chat:\x20',',\x20isAdmin:\x20','updateGroupPicture','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','uazapiSendMedia','action','log','lastInteraction','\x22\x20-\x20NOT\x20CONNECTION','normalizeMessageContent','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','_FlowHistorico','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','$pull','updateCustomFields','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','#ff9484','enabled','query','bodyStringErrorParse','groupValidate','findGroupInfos','Para\x20reiniciar\x20as\x20tentativas,\x20delete\x20o\x20arquivo\x20license_attempts.json','@g.us',',\x20qrcodeCount:\x20','getContactModelForOwner','Erro\x20ao\x20buscar\x20conversas','ipv6Prefix','documentWithCaptionMessage','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','font','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','displayName','):\x20tem\x20blocks','Fluxo\x20não\x20encontrado\x20na\x20memória.','end','blockLogs','protocolMessage','):\x20enviado\x20para\x20[','error_log','oldValue','sendPresenceUpdate','):Audio\x20processed','.jwt','joinGroupValidate','Detalhes\x20do\x20erro:','DB_PREFIX_NAME','/wa-message-update','logout','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','AUTHENTICATION_JWT_EXPIRIN_IN','apirequest','5781152BkoGFK','readMessage','truncatedtoEnd','groupId','encoding','countIPv6Addresses','Tentando\x20reconectar...','HH:mm:ss','updateLastSeenPrivacy','_second','messageType','\x0a{\x20instance:\x20','Erro\x20ao\x20atualizar\x20conversa:\x20','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','flowActive','video','data','DOCKER_ENV','uazapiSendText','):Fetching\x20business\x20profile','request\x20received\x20in\x20editFlowgroup','STORE_CLEANING_TERMINAL','findRealGroups','/instance/create','DEBUG','Variáveis\x20não\x20encontradas:','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):\x20Editando\x20condição\x20do\x20fluxo...','call','/media','RemoteJid:','177Nxexmr','groups.update','ini','whatsappNumber','):\x20Erro\x20durante\x20a\x20atualização:\x20','isJidUser','Db\x20Connection','DD/MM\x20HH:mm:ss','sendStatus','getReadyToSendMessages','\x1b[30m%s\x1b[0m','getContentType','apikey','\x27\x20não\x20encontrado\x20na\x20memória','EMAIL','save','NextBlock','configService','qrCode','HistoryProcessed','flowPrefixCommand','Partes\x20do\x20caminho\x20FULLCHAIN:','34002kZqtaC','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','image','pollCreationMessageV3','Error\x20in\x20chatModify\x20for\x20number\x20','del','class-validator','StartBot','automateSystem','):\x20Iniciando\x20processo\x20de\x20deleção...','\x20horas\x20e\x20','addToProcessedMessages','list2','#64c4ff','ERROR','saveTextReply','.url','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','getSeconds','Erro\x20na\x20função\x20updateChatWithMessage:\x20','readFileSync','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','TEL','getValidWhatsAppNumbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','Ambiente\x20Docker\x20detectado\x20-\x20sistema\x20anti-spam\x20desabilitado','pollUpdateMessage','dropIndex','.ogg','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','ListType','trim','isCommunityAnnounce','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','silent','debug','Pausado\x20por\x20','fullName','Erro\x20ao\x20adicionar\x20label\x20','uazapiSendMenu','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','Safari','\x1b[42m','contains','connectToWhatsapp','ENABLED','Erro\x20ao\x20importar\x20chats','beforeExit',',\x20valor\x20passado:\x20\x22','.\x20Pulando.','choices','detail','):Audio\x20converted\x20and\x20stored\x20in\x20cache','triedToSend','Número\x20não\x20possui\x20WhatsApp.','Valor\x20da\x20URL\x20recuperada:','END:VCARD','express-async-errors','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Erro\x20ao\x20tentar\x20updateCustomFields','mediaKey','subjectOwner','shareOwners','stopWhenYouSendMsg','leadInfo.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','optionName','Configuração\x20SSL\x20recuperada:','4566792WWWgNE','\x20-i\x20','ip\x20-6\x20addr\x20add\x20','REDIS_ENABLED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','pairingCode','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','#ffae04','Conexão\x20estabelecida','emit','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','floor','unlocked','saveConversationToDatabase','Module\x20-\x20ON','store','archiveChat','\x20segundos','*Pergunta*:\x20\x0a','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','SERVER','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','sendDataWebhook','off','_Labels','):\x20Procurando\x20conversa','processedMessagesCache','max','/wa-qrcode','request\x20received\x20in\x20updateCustomFields','chats','statusJidList','greater','):\x20Flow\x20desativado','\x20com\x20sucesso.','role','\x20and\x20data:','groupLeave','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','unavailable','shift','groupBetterSetting','connectionClosed','168372MHrieJ','_id','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','lastAttempt','https://api.openai.com/v1/audio/speech','):\x20Query\x20params:','findAndReplace','-instances','Início','readMessages','editflowgroup','\x1b[1m','EXPIRIN_IN','Nenhum\x20participante\x20válido\x20encontrado.','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','object','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','CHATS_DELETE','p-queue','applyvaredit','):\x20mediaMessageInfoId\x20:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Error\x20updating\x20cache\x20contact:','getDelay','delAll','.pdf','headerString','instances','File\x20written\x20to\x20path:\x20','canSendMessage','https://jsonip.com','finish','groupSettingUpdate','_sender','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','composing','replyOption','editFlowVariable','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):\x20Query\x20params:\x20','.svg','GUARD','labelId','toUpperCase','exists','useMultiFileAuthState','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','InstancesAlterarTodas','convertaudio','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Cache\x20instance\x20update\x20result:\x20','profileName','):\x20Enviando\x20localização','Timeout\x20exceeded','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','findGroups','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','groups','env','Primeiro\x20Valor:\x20','editChat','getVariablesChat','and','replaceVariablesChat','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[33m\x1b[1m','pow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','fileLength','some','\x20tentativas.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','entries','.extension','string','update','replaceVariablesInObject','urlOrBase64','color','pollCreationMessageV2','blocks','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','Erro\x20ao\x20atualizar\x20agendamento\x20','Conversa\x20deletada\x20com\x20sucesso.','updateAutoCompleteMessages','block','jsonwebtoken','AppStateSyncKeyData','customFields','pollMessageOnDelete','groupInviteCode','unreadCount','state','\x20inseridas\x20no\x20banco\x20de\x20dados...','licenca','vote','title','getLastMessage','ip\x20-6\x20addr\x20show\x20scope\x20global','min',',\x20valor\x20a\x20encontrar:\x20\x22','Error\x20testing\x20IP\x20with\x20','https','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Cache-Control','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Conversa\x20inserida\x20com\x20sucesso.','flattenObject','):\x20Error\x20processing\x20the\x20block:\x20','selectableCount','message_normalized','LEVEL','\x27\x20do\x20banco\x20de\x20dados...','/create','Nenhum\x20fluxo\x20correspondente\x20encontrado.','enumerable','poll','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','):\x20conversation.waitingMenu_name','Grupo\x20não\x20encontrado','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','public','ScheduleMessage','unlinkSync','paused','admin','Subscribed\x20Events:','editflowreply','none','child_process','.docx','\x20não\x20encontrado\x20para\x20atualização.','lean','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','expiration','):\x20\x27Enviando\x20mídia\x20para\x20\x27','storePath','https://uazapi.bubbleapps.io/api/1.1/wf/verificar_v1/','flowConfig','Error\x20finding\x20many\x20contacts:','uazapiSendLocation','remoteJid','createServer','delayChatLabel','StatusJidList\x20is\x20required','#dfaef0','push','isBusiness','dbConnection','):\x20delete\x20=\x20true','Erro\x20ao\x20deletar\x20a\x20conversa','toLowerCase','SECRET','autoCompleteMessages','):\x20leadInfoVariables','flush','The\x20global\x20api\x20key\x20must\x20be\x20set','label','status.instance','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','processingGroup','ip\x20-6\x20addr\x20show\x20dev\x20','groupFetchAllParticipating','flowConversation','../env.yml','):\x20Bloco\x20com\x20ID\x20','updateOneById','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','#fe9dfe','JWT','^\x5cd+([-]\x5cd+)*@g.us$','):Image\x20path:\x20','https://chat.whatsapp.com/','pollCreationMessage','Fluxo\x20agendado\x20pelo\x20fluxo\x20','METHODS','scheduleNextCheck','\x20minutos...','pollMessage','reaction','sendMessage','Subdomínio\x20final:','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','/wa-connection-update','groupJoinApprovalMode','editOperator','folder','utf8','restrict','):Image\x20converted\x20to\x20WebP','/media/','https://api.openai.com/v1/images/generations','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27',',\x20pairCode:\x20','sort','sendWhatsAppAudio','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','cleanupExcessiveIPs','):\x20Procurando\x20mensagens\x20para\x20envio','participants','Deletion\x20failed','split','readFile','Bad\x20Request','fetchMessages','isLong','replaceValue','jwt','isConnected','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20whoCanUse\x20before\x20validation:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Error\x20in\x20buttonsMessage\x20function:','fileUrl','_lastVote','processScheduleFlow','Read\x20messages','\x20segundos\x20antes\x20de\x20reconectar...','#fed428','remote\x20\x22origin\x22','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','attempts','deleteOne','getLabelModelForOwner','Last\x20message\x20not\x20found\x20for\x20number:\x20','available','Unauthorized','Cannot\x20','checkAndRestartProcess','The\x20property\x20cannot\x20be\x20empty','addresss','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','mongodb://','createButtonsFromValues','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','getMinutes','fetchStatus','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','endsWith','stack','webp','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','stopConversation','contextInfo','editFlowGroup','delayChatLabel_MAX_RETRIES','Instância\x20não\x20encontrada.','true','createGroup','IPv6\x20address\x20configured:\x20','slice','):\x20Buscando\x20conversas...','editFlowCondition','announce','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','prototype','segundos','loadEnv','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Types','display_text','Error\x20while\x20deleting\x20message\x20for\x20everyone','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','generateWAMessageFromContent','downloads','desc','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','readMessageBot','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','atendimentoAberto','8zXOCVS','authorization','Mensagem\x20não\x20suportada','numbers','Content\x20is\x20required','@redis/client','dbSettings','groupGetInviteInfo','updateMissingCustomFields','Contador\x20de\x20tentativas\x20resetado.','):\x20Bloco\x20copiado:\x20','addMessagesToGroup','allflows','generateHash','setNewValue','leadInfo.desativadoFluxoAte','random','status@broadcast','):Temp\x20image\x20deleted','changeVariables','Sistema\x20atualizado\x20com\x20sucesso!','Error\x20fetching\x20IPv6\x20addresses:\x20','):Trying\x20to\x20get\x20business\x20profile','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','use','632764lcUsXQ','forEach','Erro\x20inesperado\x20em\x20processvaredits:\x20','connectionStatus','text','startCommand','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','api','editFlowVaredit','):\x20Current\x20Time:\x20','):\x20Editando\x20bloco...','deleteBlock','rows','Erro\x20ao\x20atualizar\x20o\x20fluxo:','LOG_COLOR','sendList','hSet','updateGParticipant','nome','telefone','descId','email','groupMetadata','ReplyOption\x20com\x20ID\x20','function','.gif','autoCompleteMessages.command','Fluxo\x20\x27','\x22\x20-\x20REMOVED','sendButtons','):Desconectado,\x20parando\x20execução.','_ScheduleMessages','ip6eui','\x1b[34m','globalShow','endSession','fromMe','document','base64','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20','AutomateSystem\x20não\x20foi\x20inicializado','_remoteJid','pop','gifPlayback','participant','all','CORS_ORIGIN','normalizeMessage','message','from','inviteCodeDetails','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Erro\x20de\x20atualização:\x20','messages','Group\x20not\x20found','apply','keep-alive','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Enviando\x20contato','\x1b[43m',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','URI','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','webhookModel','remoteJids','not\x20loaded','):\x20whoCanEdit\x20after\x20validation:\x20','API_KEY','contact','count','ip\x20-6\x20addr\x20del\x20','STORE_CONTACTS','toLocaleString','contacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','#d3a91f','routerPath','pushName','Instance\x20restarted','lastFetchAwaitingApproval','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','scheduleFlow','prepareWAMessageMedia','contactsArrayMessage','deleteAllMessages','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','promisify','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','deleteConversation','autoCompleteMessages.command_1','request\x20received\x20in\x20editFlowcondition','unknown\x20operation\x20type\x20[','DELETED','options','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','digest','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Falha\x20ao\x20processar\x20fetchBusinessProfile','findFlow','toString','Database\x20update\x20result:','selectedRowId','_minute','false','):\x20Entrou\x20na\x20função\x20saveReply','updateAgent','response','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Erro\x20ao\x20encerrar\x20a\x20API','agents','default',',\x20Resultado:\x20','https://v6.ident.me','then','groupdata.participants','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','CONTACTS_SET','messages.update','body','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Buscando\x20flow...','updateMissingTags','Flow\x20\x27','/events','https://uazapi-plugin.bubbleapps.io/?url=','11QSjfvA','maxActives','getConversation','getMonth','deleteInstance','imgUrl',')\x20já\x20foi\x20atingido.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','upsertedCount','updateChatWithMessage','processvaredits','superadmin','lastBlockId','eventEmitter','):\x20Deletando\x20mensagem','request\x20received\x20in\x20deleteConversation','lastRealGroupsFetch','SERVER_URL','execSync','memberAddMode','DATABASE_CONNECTION_URI','join','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','insertMany','validate','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','send','Erro\x20ao\x20iniciar\x20fluxo:\x20','waitingMenu_text','singleSelectReply','MAX_ATTEMPTS_REACHED','notContains','listMessage','Fluxos\x20não\x20estão\x20ativados','Content-Type','\x5cd+',',\x20fará\x20nova\x20verificação\x20em\x20','footerText','getBase64FromMediaMessage','list','replaceVariables','restartInstance','repeat','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','nativeFlowResponseMessage','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Editando\x20grupo\x20do\x20fluxo...','MESSAGES_UPDATE','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','getBusinessProfile','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','STATUS_INSTANCE','editMessagesInGroup','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','connectedClient','.webm','):\x20Limpando\x20AutomateSystem','CHATS_UPSERT','API\x20Key\x20inválida.','.\x20Tentando\x20novamente\x20em\x20','delete','deleteMessage','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','getStatus','imagechat','Chat\x20com\x20ID\x20','client','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','updateMany','menuExpiredMessage','condition','templateButtonReplyMessage','mediaSticker','lastSend','interactiveResponseMessage','\x20-\x20ON:\x20','flowName',']\x20(','Erro\x20ao\x20carregar\x20tentativas:','updateOne','processReadyMessages','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','order','varedits','name','has','capitalizedWords','/wa-chats','username','getUniqueFlowName','Removidas\x20as\x20variáveis:\x20','urlencoded','error\x20get\x20vote','buttonOrList_id','findWebhook','bearer','sha256','updateGroupParticipantsWebhook','webhookMap','Generated\x20IPv6:\x20','delayChatLabel_RETRY_DELAY_MS','http://checkip.dyndns.org','cachedContact','initializeQueue','):\x20','stderr','uazapiSendContact','\x20contacts','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','/wa-presence','):Type\x20defined\x20as\x20audio','qrcode-terminal','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','}}\x20->\x20valor\x20não\x20encontrado','privacySettings','qrcode','findChats','setUpdate','BufferJSON','groupdata','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','PASSWORD','convert','copy','Resultado\x20da\x20correspondência\x20de\x20URL:','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','empty','SUCCESS','responsavelid','mimetype','toISOString','chat','getScheduleMessage','50mb','video-cover.png','userDevicesCache','testingWith','timeoutPromise','REDIS','findConversation','originalUrl','statusMessage','updateMediaMessage','waMonitor','utf-8','sendReaction','updateMissingEtiquetas','pt-BR','GROUPS_UPSERT','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','RemoveChatLabel','LOG_LEVEL','/webhook','):\x20transformedCustomFieldVariables','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','sendMessageWithTyping','dayjs','existsSync','getOwnPropertyNames','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','StartID:','connectionUpdate','setWebhook','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','resetReconnectionVariables','SERVER_PORT','request\x20received\x20in\x20updateAgent','listIPv6Addresses','ON\x20-\x20dbName:\x20','#ffffff','connectionState','code','variables','process','flow','toArray','reactionMessage','latitude','#6f7bcf','stopMinutes','sem\x20texto\x20na\x20mensagem','valid','created','Bloco\x20com\x20ID\x20','E-mail:\x20','PLAYED','everyOne','editFlow','URL','READ','ephemeralDuration','remove','writeData','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Logger','/startFlow/:instance/:startID','editflowvariable','findLabels','upperCase','/instance','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','conversationTimestamp','editflowcondition','jsonschema','listResponseMessage','Removing\x20excess\x20IPv6\x20address:\x20','boolean','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','owner','BRL','):\x20error:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','isArray','mentions','FlowRouter','groupUpdateDescription','buffer','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Erro\x20ao\x20buscar\x20a\x20conversa','parseInt','moreLogs','updateMessage','number','format','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','connecting','viewOnceMessageV2','):Archiving\x20chat','sendMessageWithTypingButtons','sendContact','findById','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','connection.update','linkPreview',',\x20global:\x20','-whatsapp-api','crypto','quoted','Falha\x20ao\x20processar\x20a\x20solicitação','test','inner','integer','_year','secondValue','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','sendMedia','labels.edit','verbose','buttonText','compression','Close\x20connection','startsWith','Type\x20is\x20required','):\x20Fluxos\x20não\x20estão\x20ativados','inet6','trimmed','getMessage','createButtonSectionsFromValues','findAll','detectIPv6PrefixAndInterface','send.message','mongodb','DATABASE_CONNECTION_USER','reorderReplyOptions','8080','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Background\x20color\x20is\x20required','):\x20Fluxo\x20\x27','tags','request\x20received\x20in\x20editFlow','Error\x20in\x20prepareMediaMessage:','contactMessage','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','setting','descOwner','Error\x20parsing\x20JSON:','AutomateSystem','instanceKeys','.jpg','warn','request\x20received\x20in\x20getFlow','stateConnection','menuMessage','revokeInviteCode','replaceVariablesInReplyOptions','request\x20received\x20in\x20getConversation','groupAcceptInvite','The\x20instance\x20needs\x20to\x20be\x20disconnected','/instance/connectionState','CONECTADO\x20À\x20UAZAPI','pm2\x20flush','chatHandle','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','getTime','DATABASE_CONNECTION_HOST','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','creds.json','deleteImportedChat','unreadcount','sendMenu','):Image\x20is\x20base64','newStoppedUntil','\x22\x20cannot\x20be\x20empty','#83e421','application/json','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','context','\x20mensagens\x20de\x20','delayMessage',',\x20Comparador:\x20','fetchChats','menuType','currency','cta_url','textMessage','):\x20Criou\x20conversa\x20no\x20startFlow','importChatsBatch','getTicketSystem','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','removeIPv6','Last\x20message\x20not\x20found','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','No\x20suitable\x20network\x20interface\x20found','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','badSession','PORT','fetchProfile','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20',',\x20lastCondition:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','messages.upsert','.mimetype','joinApprovalMode','pollOnReplyDelete','leadInfo','blockId','[all]','$dbName','testIPv6','not_announcement','profile','temp-','messageId','rm\x20-rf\x20','.txt','\x1b[37m%s\x1b[0m','dataValidate','chats.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','result','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Log\x20out\x20instance:\x20','Comando\x20desconhecido','Flow\x20iniciado','waInstances','isMessageProcessed','throwAndLogError','updateAll','expression','chatModify','):\x20Removendo\x20\x27','getUpdate','WA\x20MODULE','SERVER_ACK','Erro\x20ao\x20tentar\x20autoCompleteMessages','.error','setContext','single_select','processawaitSeconds','etiquetas','lastMessage','cachedData-whatsapp','locked','\x5c$&','.png','Validate','Instance\x20logged\x20out','done','@newsletter','leaveGroup','#d8e651','.ogv','Connection\x20Closed','AddUserFlow','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Esse\x20fluxo\x20expirou','Request\x20Body:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Tentativas\x20carregadas\x20do\x20arquivo:\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','/clients-info','getClient','isAdmin','API\x20Key\x20from\x20Request:','statusCode','):\x20Flow\x20\x27','util','Erro\x20ao\x20arquivar\x20chat','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','close','removeUnusedChatFields','arraybuffer','getHours','isInteger','variablesToObject','cors','caption','createOrUpdate','Deleted\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','stopIfLastReturnedError','selectedOptions','group','mediaMessage','CLEANING_INTERVAL','lastReceivedMessage','groupMemberAddMode','findOne','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','QRCODE_UPDATED','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):Image\x20is\x20url','.xlsx','deleteMany','Erro\x20ao\x20editar\x20agentes','upsertChats','docker','sleep','muteEndTime','notify','toggleEphemeral','):\x20[messages.update]\x20group\x20ignored','notas','CHATS_UPDATE','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','createInstance','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','type','/exit','hGetAll','selectedDisplayText','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','closeExistingConversations','cacheInstanceModel','hDel','footer','content','fakeReceived','PREFIX_KEY','authState','initAuthCreds','lastSendMessage','\x1b[44m','Erro\x20ao\x20aplicar\x20varedit:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','verifiedName','makeCacheableSignalKeyStore','pre','USER','[AUTH]\x20Database\x20is\x20not\x20enabled','contacts.update','Subdomínio\x20não\x20encontrado','onWhatsApp','post','headers','):\x20nextBlock.uazapi.name','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','convertedOptions','chats.delete','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','retrySendMessage','reviver','networkInterface','createConversationforgoToFlow','refused','HOST','charAt','enviado\x20para','binary','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','writeFile','/5\x20falhou:\x20','0123456789ABCDEF','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','getAutomateSystem','Erro\x20ao\x20inserir\x20chats:','Database\x20is\x20not\x20enabled','method','realVariables','chats.update','info','sectionsToString','axios','editScheduleMessage','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x1b[41m','groupCreate','group-participants.update','instance','VERBOSE','fetchContacts','Instance\x20ID:','item','Error\x20adding\x20IPv6\x20address:\x20','updateStatusPrivacy','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','audio','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','createAndSave','exec','webhook','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','fetchPrivacySettings','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):\x20Ignoring\x20group\x20messages.','limit','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','variablesNotFound','ConversationModel','Parando\x20aplicação...','isValidIPv6Config','cleanDisconnectedInstances','GROUPS_UPDATE','abs','senderKeyDistributionMessage','error','insert','includes','dbServer','model','mediatype','):\x20Buscando\x20conversa...','closed','fetchProfilePicture','stdout','.doc','allContacts','content-type','request\x20received\x20in\x20deleteAllMessages','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','g.us','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','):Converted\x20image\x20deleted','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','startFlowWebhook','ObjectId','updateProfileStatus','ignoreGroups','generateRandomIPv6','request\x20received\x20in\x20fetchConversation','labels.association','):Output\x20path:\x20','restart','formatBRNumber','pendingMessages','stopMinutesMaxActives','Partes\x20do\x20domínio:','keyPattern','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','AutomateFunctions','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Message','chatLog','match','noConnection','--------------------------------------','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','reorderMessages','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Variável\x20não\x20encontrada!','https://api.ipify.org?format=json','extractMessageContent','processgoToFlow','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','apiResponse','uazapiSendAudio','put','getDate','instanceName\x20not\x20provided.','/config','locationMessage','STORE_MESSAGE','prepareMediaMessage','$set','vcard','#ffc5c7','updatePrivacySettings','array','\x20:\x20','groupToggleEphemeral','cacheContact','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','getProfileName','reconnectAttempts','values','scheduleSendAudio','sendText','Erro\x20ao\x20remover\x20label\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','fetchBusinessProfile','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x20chats\x20de\x20','):\x20Editando\x20edição\x20do\x20fluxo...','\x20}\x0a','fetchLabels','findGroupsEspecial','):\x20Rótulo\x20atualizado:\x20','removeProfilePicture','):\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20editar\x20a\x20conversa','deleteReplyOption','Telefone:\x20','view\x20engine'];a0_0x4bed=function(){return _0x3ad1df;};return a0_0x4bed();}wa[a0_0x26c870(0x775)](a0_0x26c870(0x380),function(_0x5b0aa2){const _0x5ad823=a0_0x26c870;delete this[_0x5ad823(0x360)],delete this[_0x5ad823(0x8dd)],delete this[_0x5ad823(0x385)],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x5b0aa2();});var ya=T?.[a0_0x26c870(0x7be)](vs['name'],wa,a0_0x26c870(0x7ab)),P=require(a0_0x26c870(0x28f)),Es=require(a0_0x26c870(0x90a)),Qe=class{},Ns=class{},Sa=new P[(a0_0x26c870(0x8ae))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),$s=new P[(a0_0x26c870(0x8ae))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ho=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x26c870(0x5cc)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x26c870(0x72c)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Ma=new P[(a0_0x26c870(0x8ae))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),go=new P[(a0_0x26c870(0x8ae))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x26c870(0x8ae))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),As=new P[(a0_0x26c870(0x8ae))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),fo=new P[(a0_0x26c870(0x8ae))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Ca=new P[(a0_0x26c870(0x8ae))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ho},'apirequest':go,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':fo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),va=new P[(a0_0x26c870(0x8ae))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ea=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x3c86eb=a0_0x26c870;return'!cmd_'+Math[_0x3c86eb(0x51c)]()['toString'](0x24)[_0x3c86eb(0x4f7)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x26c870(0x58e)},'startID':{'type':String,'default':()=>(0x0,Es['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Es['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ea[a0_0x26c870(0x775)](a0_0x26c870(0x1cc),function(_0x3b4011){const _0x42a965=a0_0x26c870;let _0x344cf4=this[_0x42a965(0x714)]();if(_0x344cf4&&typeof _0x344cf4==_0x42a965(0x408)&&_0x42a965(0x7f5)in _0x344cf4){let _0x21c38f=_0x344cf4[_0x42a965(0x7f5)];if(_0x21c38f){let _0x184147=new Set(),_0x43d3ee=new Set(_0x21c38f[_0x42a965(0x652)]?.[_0x42a965(0x27c)](_0x3ae110=>_0x3ae110[_0x42a965(0x5fa)])),_0x5bb40c=JSON[_0x42a965(0x2c2)](_0x21c38f),_0x54f992=/{{(?!_)([^}]*)}}/g,_0x535131;for(;(_0x535131=_0x54f992[_0x42a965(0x7aa)](_0x5bb40c))!==null;)_0x43d3ee['has'](_0x535131[0x1])||_0x184147['add'](_0x535131[0x1]);_0x184147[_0x42a965(0x8c1)]>0x0?(console[_0x42a965(0x6be)](_0x42a965(0x36b),Array[_0x42a965(0x556)](_0x184147)),_0x21c38f[_0x42a965(0x7b2)]=Array['from'](_0x184147)):_0x21c38f[_0x42a965(0x7b2)]=[],this[_0x42a965(0x61b)]({'$set':_0x21c38f});}}_0x3b4011();});var ve=T?.['model'](Ns[a0_0x26c870(0x5fa)],Ea,a0_0x26c870(0x1e2)),wo=new P[(a0_0x26c870(0x8ae))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[As],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[mo]},{'_id':!0x1}),yo=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'chatLog':wo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x26c870(0x940)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x26c870(0x72c)},'waitingMenu_replyOptions':{'type':[$s],'default':[]}}),Na=_0x8e36fc=>{const _0xd11f1a=a0_0x26c870;let _0x1fb70d='z_'+_0x8e36fc+_0xd11f1a(0x328);return T?.[_0xd11f1a(0x7be)](_0xd11f1a(0x7b3),yo,_0x1fb70d);},bo=new P[(a0_0x26c870(0x8ae))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ba=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),So=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ba],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x26c870(0x307)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[bo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ba,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),$a=_0x3e9ac1=>{const _0x519a0d=a0_0x26c870;let _0x36e7e4='z_'+_0x3e9ac1+_0x519a0d(0x544);return T?.[_0x519a0d(0x7be)](_0x519a0d(0x25b),So,_0x36e7e4);},Rs=class{},Mo=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Co=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),vo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P[(a0_0x26c870(0x8ae))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x26c870(0x867)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),No=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),$o=new P[(a0_0x26c870(0x8ae))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[No]},'customFields':{'type':[vo]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Co],'default':[]},'autoCompleteMessages':{'type':[Mo],'default':[]}}),Oe=T?.['model'](Rs[a0_0x26c870(0x5fa)],$o,a0_0x26c870(0x6bb)),Ra=require('mongoose'),Ro=new Ra[(a0_0x26c870(0x8ae))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Aa=_0x35f382=>{const _0x367d6b=a0_0x26c870;let _0x3ee1b6='z_'+_0x35f382+_0x367d6b(0x3e5);return T?.['model'](_0x367d6b(0x819),Ro,_0x3ee1b6);},O=class{constructor(_0x4fe320){const _0xfe3fcf=a0_0x26c870;this[_0xfe3fcf(0x512)]=_0x4fe320[_0xfe3fcf(0x2c9)](_0xfe3fcf(0x22b));}};function A(_0x473bb2){const _0x3cc6b3=a0_0x26c870;let _0x12f978={};for(let [_0x2c3789,_0x1ce02f]of Object[_0x3cc6b3(0x444)](_0x473bb2))if(typeof _0x1ce02f==_0x3cc6b3(0x408)&&!Array[_0x3cc6b3(0x67a)](_0x1ce02f)){for(let [_0x15a39c,_0x52d6da]of Object[_0x3cc6b3(0x444)](_0x1ce02f))_0x12f978[_0x2c3789+'.'+_0x15a39c]=_0x52d6da;}else _0x12f978[_0x2c3789]=_0x1ce02f;return _0x12f978;}var Ye=class{constructor(_0x4d9971,_0x1584cc,_0x14a918,_0x2b2d20,_0x308010,_0x4d2507,_0x3e2988,_0x181f89,_0x40db12,_0x3ac446,_0x22dc4b,_0x520725,_0x353a17,_0x1e51a2){const _0x31e2ae=a0_0x26c870;this['message']=_0x4d9971,this[_0x31e2ae(0x629)]=_0x1584cc,this[_0x31e2ae(0x56a)]=_0x14a918,this[_0x31e2ae(0x7fc)]=_0x2b2d20,this[_0x31e2ae(0x29c)]=_0x308010,this[_0x31e2ae(0x7ab)]=_0x4d2507,this['auth']=_0x3e2988,this['instance']=_0x181f89,this[_0x31e2ae(0x654)]=_0x40db12,this['flowConversation']=_0x3ac446,this[_0x31e2ae(0x499)]=_0x22dc4b,this[_0x31e2ae(0x280)]=_0x520725,this['automateSystem']=_0x353a17,this['dbClient']=_0x1e51a2;}get[a0_0x26c870(0x7bd)](){return this['dbClient'];}},Xe=class{},Ze=class extends O{[a0_0x26c870(0x870)](_0xa5c42){return ha(_0xa5c42);}async[a0_0x26c870(0x7bb)](_0x58d892,_0x39b80b){const _0x32601e=a0_0x26c870;if(_0x58d892[_0x32601e(0x2df)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x32601e(0x870)](_0x39b80b)['insertMany']([..._0x58d892]))[_0x32601e(0x2df)]};}catch(_0xb7939d){return _0xb7939d;}}async['find'](_0x6cbd7b,_0x3d89e5){const _0x4c0642=a0_0x26c870;try{let _0x1b5e27=this[_0x4c0642(0x870)](_0x3d89e5),_0x14a0cd=A(_0x6cbd7b['where']);return await _0x1b5e27[_0x4c0642(0x82c)](_0x14a0cd)['sort']({'messageTimestamp':-0x1})[_0x4c0642(0x7b0)](_0x6cbd7b?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x26c870(0x5e2)](_0x1d7c36,_0x4ee10b){const _0x22f461=a0_0x26c870;try{let _0x5396d8=this[_0x22f461(0x870)](_0x4ee10b),_0x397bb2=A(_0x1d7c36[_0x22f461(0x22c)]);await _0x5396d8['deleteMany'](_0x397bb2);}catch(_0x1ff7b2){console[_0x22f461(0x7ba)](_0x1ff7b2);}}async[a0_0x26c870(0x447)](_0x3080ea,_0xa70de3,_0x226708){const _0x2c7d35=a0_0x26c870;try{let _0xb3026d=this[_0x2c7d35(0x870)](_0x226708),_0x47366f=A(_0x3080ea[_0x2c7d35(0x22c)]);return await _0xb3026d[_0x2c7d35(0x1cc)](_0x47366f,{'$set':_0xa70de3},{'new':!0x0});}catch(_0x3adffe){throw console[_0x2c7d35(0x7ba)](_0x3adffe),_0x3adffe;}}async[a0_0x26c870(0x5bc)](_0x571c50,_0x4e79a3){const _0x5c99dd=a0_0x26c870;if(_0x571c50[_0x5c99dd(0x2df)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5c99dd(0x870)](_0x4e79a3)[_0x5c99dd(0x5bc)]([..._0x571c50]))[_0x5c99dd(0x2df)]};}catch(_0x2c57b9){return console[_0x5c99dd(0x323)](_0x5c99dd(0x8d3),_0x2c57b9),_0x2c57b9;}}async[a0_0x26c870(0x815)](_0x5ee2e4){const _0x459ef9=a0_0x26c870;try{return await this[_0x459ef9(0x870)](_0x5ee2e4)[_0x459ef9(0x84f)][_0x459ef9(0x8ea)](),{'success':!0x0};}catch(_0x4e79ce){return console['error'](_0x4e79ce),{'success':!0x1,'error':_0x4e79ce};}}},Us=I(require(a0_0x26c870(0x237))),w=I(require(a0_0x26c870(0x92a))),Je=require('fs'),j=I(require(a0_0x26c870(0x847))),K=I(require(a0_0x26c870(0x799))),Pi=require(a0_0x26c870(0x90a)),Di=I(require(a0_0x26c870(0x619))),ki=I(require(a0_0x26c870(0x615))),Ta=[a0_0x26c870(0x2b2),'documentMessage',a0_0x26c870(0x259),'videoMessage',a0_0x26c870(0x8fa)],Ia=['ephemeralMessage',a0_0x26c870(0x339),a0_0x26c870(0x18b),a0_0x26c870(0x688)],js=require('os'),Jt=I(require(a0_0x26c870(0x839))),qe=require(a0_0x26c870(0x47d)),Li=require(a0_0x26c870(0x18d)),he=I(require(a0_0x26c870(0x28f))),J=require(a0_0x26c870(0x38d)),le=class{constructor(_0x27b709,_0x41025e,_0x5d3313){const _0x2cf539=a0_0x26c870;this['jid']=_0x27b709,this[_0x2cf539(0x426)]=_0x41025e,this['name']=_0x5d3313;}},et=class{},tt=class{},xe=class{},st=class{},at=class{},Ee=class{},it=class{},ot=class{},rt=class{},nt=class{},kt=I(require(a0_0x26c870(0x2c1))),_a=require('fs'),Oa=require(a0_0x26c870(0x847));async function Pe(_0x51eafa){const _0x4ca476=a0_0x26c870;let _0x52bb28=G[_0x4ca476(0x70d)][_0x51eafa];if(L['ENABLED']){let _0xb1b563=T[_0x4ca476(0x732)]()['db'](L['CONNECTION'][_0x4ca476(0x34b)]+_0x4ca476(0x400))[_0x4ca476(0x84f)](_0x51eafa);return _0x52bb28||(await _0xb1b563[_0x4ca476(0x82c)]({})[_0x4ca476(0x655)]())['length']>0x0;}return _0x52bb28||(0x0,_a['existsSync'])((0x0,Oa[_0x4ca476(0x5ba)])(Me,_0x51eafa));}async function xa(_0x2c340e,_0x4e7962,_0x92b87){const _0xdbec14=a0_0x26c870;if(_0x2c340e[_0xdbec14(0x632)][_0xdbec14(0x7bc)](_0xdbec14(0x369))||_0x2c340e['originalUrl']['includes'](_0xdbec14(0x287))||_0x2c340e[_0xdbec14(0x632)][_0xdbec14(0x7bc)](_0xdbec14(0x761))||_0x2c340e[_0xdbec14(0x632)]['includes'](_0xdbec14(0x7f1))||_0x2c340e[_0xdbec14(0x632)]['includes']('/instance/connect')||_0x2c340e['originalUrl'][_0xdbec14(0x7bc)](_0xdbec14(0x6c7))||_0x2c340e['originalUrl']['includes']('/instance/delete'))return _0x92b87();let _0x3d21ff=_0x2c340e['params'];if(!_0x3d21ff?.['instanceName'])throw new m(_0xdbec14(0x7f0));if(!await Pe(_0x3d21ff[_0xdbec14(0x24d)]))throw new U(_0xdbec14(0x297)+_0x3d21ff['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x92b87();}async function Pa(_0x385975,_0x569a4d,_0x5e0bd3){const _0x2ff1e8=a0_0x26c870;if(_0x385975[_0x2ff1e8(0x632)][_0x2ff1e8(0x7bc)](_0x2ff1e8(0x369))){let _0x1518ec=_0x385975['body'];if(await Pe(_0x1518ec[_0x2ff1e8(0x24d)]))throw new X(_0x2ff1e8(0x8c2)+_0x1518ec[_0x2ff1e8(0x24d)]+'\x20is\x20already\x20in\x20use.');G[_0x2ff1e8(0x70d)][_0x1518ec['instanceName']]&&delete G[_0x2ff1e8(0x70d)][_0x1518ec[_0x2ff1e8(0x24d)]];}_0x5e0bd3();}var Da=require('class-validator'),ka=I(require(a0_0x26c870(0x452))),ct='uazapi',To=new $(a0_0x26c870(0x423));async function Io(_0x402c74,_0x12316a,_0x101ccb){const _0x122d33=a0_0x26c870;let _0x42bdd1=_0x402c74[_0x122d33(0x2c9)](_0x122d33(0x37d));if(_0x42bdd1&&S[_0x122d33(0x2c9)]('AUTHENTICATION')[_0x122d33(0x569)][_0x122d33(0x26f)]!==_0x42bdd1)throw new ae();if(S['get']('AUTHENTICATION')['API_KEY'][_0x122d33(0x26f)]===_0x42bdd1)return _0x101ccb();if((_0x402c74[_0x122d33(0x632)][_0x122d33(0x7bc)](_0x122d33(0x369))||_0x402c74[_0x122d33(0x632)][_0x122d33(0x7bc)](_0x122d33(0x287)))&&!_0x42bdd1)throw new X(_0x122d33(0x947),_0x122d33(0x498));let _0x5b21ec=S['get'](_0x122d33(0x81f))['JWT'];try{let [_0x229ff4,_0x42c6d6]=_0x402c74[_0x122d33(0x2c9)](_0x122d33(0x50d))['split']('\x20');if(_0x229ff4[_0x122d33(0x493)]()!==_0x122d33(0x605))throw new ae();if(!(0x0,Da[_0x122d33(0x8f2)])(_0x42c6d6))throw new ae();let _0x108411=_0x402c74[_0x122d33(0x94d)],_0xa12ff6=ka[_0x122d33(0x595)]['verify'](_0x42c6d6,_0x5b21ec[_0x122d33(0x494)],{'ignoreExpiration':_0x5b21ec[_0x122d33(0x405)]===0x0});if(_0x108411[_0x122d33(0x24d)]!==_0xa12ff6[_0x122d33(0x24d)]||ct!==_0xa12ff6['apiName'])throw new ae();return _0x101ccb();}catch(_0x12d33c){throw To[_0x122d33(0x7ba)](_0x12d33c),new ae();}}async function _o(_0x14f65b,_0x27203d,_0x140e6e){const _0x36642e=a0_0x26c870;let _0x1249ff=S['get'](_0x36642e(0x81f))[_0x36642e(0x569)],_0x1c4f48=_0x14f65b[_0x36642e(0x2c9)](_0x36642e(0x37d));if(_0x1249ff[_0x36642e(0x26f)]===_0x1c4f48)return _0x140e6e();if(_0x14f65b[_0x36642e(0x632)][_0x36642e(0x7bc)](_0x36642e(0x369))){let _0x22d492=Fa,_0x3ca656=_0x14f65b[_0x36642e(0x59e)][_0x36642e(0x24d)];if(_0x22d492&&_0x3ca656[_0x36642e(0x493)]()['startsWith'](_0x22d492[_0x36642e(0x493)]()))return _0x140e6e();if(!_0x1c4f48)throw new X('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x14f65b[_0x36642e(0x632)][_0x36642e(0x7bc)](_0x36642e(0x287))&&!_0x1c4f48)throw new X(_0x36642e(0x947),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x14f65b[_0x36642e(0x632)][_0x36642e(0x7bc)]('/exit')&&!_0x1c4f48)throw new X('Missing\x20global\x20api\x20key',_0x36642e(0x498));if(_0x14f65b['originalUrl'][_0x36642e(0x7bc)](_0x36642e(0x7f1))&&!_0x1c4f48)throw new X('Missing\x20global\x20api\x20key',_0x36642e(0x498));try{let _0x4f0579=_0x14f65b[_0x36642e(0x94d)],_0x9a729b=await we[_0x36642e(0x86f)][_0x36642e(0x82c)](_0x4f0579[_0x36642e(0x24d)]);if(_0x9a729b&&_0x9a729b[_0x36642e(0x37d)]===_0x1c4f48)return _0x140e6e();}catch{}throw new ae();}var La={'jwt':Io,'apikey':_o},wi=require(a0_0x26c870(0x2c1)),C=require(a0_0x26c870(0x90a)),v=(..._0xf7f30d)=>{const _0x32f484=a0_0x26c870;let _0x4b0525={};return _0xf7f30d['forEach'](_0x2d53a8=>_0x4b0525[_0x2d53a8]={'minLength':0x1,'description':_0x32f484(0x182)+_0x2d53a8+_0x32f484(0x6d5)}),{'if':{'propertyNames':{'enum':[..._0xf7f30d]}},'then':{'properties':_0x4b0525}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'instanceName':{'type':a0_0x26c870(0x446)}},...v('instanceName')},Pc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x17f)],...v(a0_0x26c870(0x17f))},Dc={'properties':{'key':{'type':a0_0x26c870(0x408),'properties':{'id':{'type':a0_0x26c870(0x446)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x26c870(0x489),a0_0x26c870(0x549)],...v('id',a0_0x26c870(0x489))},'message':{'type':a0_0x26c870(0x408)}}},ie={'properties':{'delay':{'type':a0_0x26c870(0x697),'description':a0_0x26c870(0x8db)},'presence':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x3f5),a0_0x26c870(0x4dd),'composing','recording',a0_0x26c870(0x478)]}}},Z={'type':a0_0x26c870(0x446),'description':'Invalid\x20format'},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':a0_0x26c870(0x408),'properties':{'text':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x529)],...v(a0_0x26c870(0x529))}},'required':[a0_0x26c870(0x6e1),a0_0x26c870(0x684)]},ja={'type':a0_0x26c870(0x446),'pattern':a0_0x26c870(0x2a5),'description':'Invalid\x20format'},kc={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...ja},'options':{...ie},'textMessage':{'type':a0_0x26c870(0x408),'properties':{'text':{'type':a0_0x26c870(0x446)}},'required':['text'],...v(a0_0x26c870(0x529))}},'required':['textMessage',a0_0x26c870(0x684)]},Lc={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...ja},'options':{...ie},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':['image',a0_0x26c870(0x54a),a0_0x26c870(0x361),a0_0x26c870(0x7a7)]},'media':{'type':a0_0x26c870(0x446)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype',a0_0x26c870(0x1bd)],...v('fileName',a0_0x26c870(0x741),a0_0x26c870(0x1bd))}},'required':[a0_0x26c870(0x748),'number']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':a0_0x26c870(0x408),'properties':{'image':{'type':a0_0x26c870(0x446)}},'required':['image'],...v('image')}},'required':[a0_0x26c870(0x8fa),'number']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x26c870(0x446),'enum':['text',a0_0x26c870(0x389),a0_0x26c870(0x7a7),a0_0x26c870(0x361)]},'content':{'type':a0_0x26c870(0x446)},'caption':{'type':a0_0x26c870(0x446)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x26c870(0x697),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x446),'pattern':a0_0x26c870(0x24a),'description':a0_0x26c870(0x571)}},'allContacts':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]}},'required':[a0_0x26c870(0x760),a0_0x26c870(0x769)],...v('type',a0_0x26c870(0x769))}},'required':['statusMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x389),'document',a0_0x26c870(0x361),a0_0x26c870(0x7a7)]},'media':{'type':'string'},'fileName':{'type':a0_0x26c870(0x446)},'caption':{'type':a0_0x26c870(0x446)}},'required':['mediatype',a0_0x26c870(0x1bd)],...v('fileName',a0_0x26c870(0x741),a0_0x26c870(0x1bd))}},'required':[a0_0x26c870(0x748),a0_0x26c870(0x684)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':a0_0x26c870(0x408),'properties':{'audio':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x7a7)],...v(a0_0x26c870(0x7a7))}},'required':['audioMessage',a0_0x26c870(0x684)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x26c870(0x408),'properties':{'name':{'type':a0_0x26c870(0x446)},'selectableCount':{'type':a0_0x26c870(0x684)},'values':{'type':a0_0x26c870(0x7f9),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x26c870(0x469),a0_0x26c870(0x800)],...v(a0_0x26c870(0x5fa),a0_0x26c870(0x469),'values')}},'required':[a0_0x26c870(0x684),'pollMessage']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x26c870(0x408),'properties':{'text':{'type':a0_0x26c870(0x446)},'choices':{'type':a0_0x26c870(0x7f9),'uniqueItems':!0x0}},'required':[a0_0x26c870(0x529),'choices'],...v('text',a0_0x26c870(0x3ba))}},'required':[a0_0x26c870(0x684),'menuMessage']},za={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x26c870(0x684)},'longitude':{'type':a0_0x26c870(0x684)},'name':{'type':a0_0x26c870(0x446)},'address':{'type':a0_0x26c870(0x446)}},'required':['latitude',a0_0x26c870(0x29b)],...v('name',a0_0x26c870(0x4e2))}},'required':[a0_0x26c870(0x684),a0_0x26c870(0x7f2)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x26c870(0x446)},'description':{'type':'string'},'footerText':{'type':a0_0x26c870(0x446)},'buttonText':{'type':'string'},'sections':{'type':a0_0x26c870(0x7f9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x408),'properties':{'title':{'type':a0_0x26c870(0x446)},'rows':{'type':a0_0x26c870(0x7f9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x408),'properties':{'title':{'type':a0_0x26c870(0x446)},'description':{'type':a0_0x26c870(0x446)},'rowId':{'type':a0_0x26c870(0x446)}},'required':['title','rowId'],...v(a0_0x26c870(0x45c),a0_0x26c870(0x901))}}},'required':[a0_0x26c870(0x45c),a0_0x26c870(0x531)],...v(a0_0x26c870(0x45c))}}},'required':[a0_0x26c870(0x45c),a0_0x26c870(0x20a),a0_0x26c870(0x69e),a0_0x26c870(0x89d)],...v(a0_0x26c870(0x45c),a0_0x26c870(0x20a),a0_0x26c870(0x69e),a0_0x26c870(0x5ca))}},'required':[a0_0x26c870(0x684),a0_0x26c870(0x5c5)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0x26c870(0x7f9),'items':{'type':a0_0x26c870(0x408),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x26c870(0x446),'minLength':0xa}},'required':['fullName',a0_0x26c870(0x86d)],...v(a0_0x26c870(0x3ad))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x26c870(0x6b5)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'reactionMessage':{'type':a0_0x26c870(0x408),'properties':{'key':{'type':a0_0x26c870(0x408),'properties':{'id':{'type':a0_0x26c870(0x446)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x26c870(0x489),a0_0x26c870(0x549)],...v('id','remoteJid')},'reaction':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x8f1),a0_0x26c870(0x4af)],...v('reaction')}},'required':['reactionMessage']},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'numbers':{'type':a0_0x26c870(0x7f9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x446),'pattern':a0_0x26c870(0x24a),'description':a0_0x26c870(0x939)}}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'readMessages':{'type':a0_0x26c870(0x7f9),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x26c870(0x446)},'fromMe':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x26c870(0x446)}},'required':['id',a0_0x26c870(0x549),a0_0x26c870(0x489)],...v('id',a0_0x26c870(0x489))}}},'required':[a0_0x26c870(0x402)]},Za={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'privacySettings':{'type':a0_0x26c870(0x408),'properties':{'readreceipts':{'type':a0_0x26c870(0x446),'enum':['all',a0_0x26c870(0x47c)]},'profile':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x552),a0_0x26c870(0x56f),a0_0x26c870(0x27e),a0_0x26c870(0x47c)]},'status':{'type':'string','enum':[a0_0x26c870(0x552),a0_0x26c870(0x56f),a0_0x26c870(0x27e),a0_0x26c870(0x47c)]},'online':{'type':a0_0x26c870(0x446),'enum':['all','match_last_seen']},'last':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x552),a0_0x26c870(0x56f),a0_0x26c870(0x27e),a0_0x26c870(0x47c)]},'groupadd':{'type':'string','enum':['all',a0_0x26c870(0x56f),a0_0x26c870(0x27e),'none']}},'required':['readreceipts','profile',a0_0x26c870(0x284),'online',a0_0x26c870(0x30b),a0_0x26c870(0x2cc)],...v(a0_0x26c870(0x2ba),a0_0x26c870(0x6fe),a0_0x26c870(0x284),a0_0x26c870(0x23a),'last',a0_0x26c870(0x2cc))}},'required':['privacySettings']},ei={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'lastMessage':{'type':a0_0x26c870(0x408),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x26c870(0x446)},'remoteJid':{'type':a0_0x26c870(0x446)},'fromMe':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]}},'required':['id',a0_0x26c870(0x549),'remoteJid'],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x26c870(0x697),'minLength':0x1}},'required':[a0_0x26c870(0x8f1)],...v(a0_0x26c870(0x861))},'archive':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x26c870(0x446)},'participant':{'type':a0_0x26c870(0x446)}},'required':['id',a0_0x26c870(0x549),a0_0x26c870(0x489)],...v('id',a0_0x26c870(0x489),a0_0x26c870(0x551))},si={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x26c870(0x446),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...v(a0_0x26c870(0x3fa),'id',a0_0x26c870(0x574))}}},ai={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'name':{'type':a0_0x26c870(0x446)}},...v(a0_0x26c870(0x5fa))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'status':{'type':a0_0x26c870(0x446)}},...v(a0_0x26c870(0x284))},De={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'number':{'type':a0_0x26c870(0x446)},'picture':{'type':a0_0x26c870(0x446)}}},oi={'type':a0_0x26c870(0x408),'properties':{'wuid':{'type':a0_0x26c870(0x446)},'name':{'type':'string'},'picture':{'type':a0_0x26c870(0x446)},'status':{'type':a0_0x26c870(0x446)},'isBusiness':{'type':a0_0x26c870(0x674)}}},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x26c870(0x549),a0_0x26c870(0x489),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x26c870(0x446),'minLength':0x1,'description':a0_0x26c870(0x4e1)},'id':{'type':'string','minLength':0x1,'description':a0_0x26c870(0x4e1)},'fromMe':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...v(a0_0x26c870(0x3fa))},'limit':{'type':a0_0x26c870(0x697)}}},Fc={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'where':{'type':a0_0x26c870(0x408),'properties':{'_id':{'type':a0_0x26c870(0x446)},'remoteJid':{'type':'string'},'id':{'type':a0_0x26c870(0x446)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x26c870(0x446)},'status':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x395),'PENDING','SERVER_ACK',a0_0x26c870(0x2ae),a0_0x26c870(0x663),a0_0x26c870(0x65f)]}},...v(a0_0x26c870(0x3fa),a0_0x26c870(0x489),'id',a0_0x26c870(0x284))},'limit':{'type':'integer'}}},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x3f5),a0_0x26c870(0x4dd),a0_0x26c870(0x41d),a0_0x26c870(0x20c),a0_0x26c870(0x478)]}},'required':[a0_0x26c870(0x1bc),a0_0x26c870(0x684)]},ci={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'subject':{'type':a0_0x26c870(0x446)},'description':{'type':a0_0x26c870(0x446)},'profilePicture':{'type':a0_0x26c870(0x446)},'participants':{'type':a0_0x26c870(0x7f9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x446),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x26c870(0x84a),a0_0x26c870(0x4c3)],...v('subject','description',a0_0x26c870(0x8a7))},ke={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':a0_0x26c870(0x446),'pattern':a0_0x26c870(0x4a6)}},'required':[a0_0x26c870(0x206)],...v(a0_0x26c870(0x206))},li={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x1c4),a0_0x26c870(0x665),a0_0x26c870(0x8ba),a0_0x26c870(0x223),a0_0x26c870(0x1f8),a0_0x26c870(0x1ec)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26c870(0x446),'minLength':0xa,'pattern':a0_0x26c870(0x5c8),'description':a0_0x26c870(0x43b)}}},'required':[a0_0x26c870(0x206),a0_0x26c870(0x322),a0_0x26c870(0x4c3)],...v(a0_0x26c870(0x206),'action')},ui={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':a0_0x26c870(0x446)},'expiration':{'type':a0_0x26c870(0x684),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x26c870(0x482)],...v(a0_0x26c870(0x206),'expiration')},di={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x206),a0_0x26c870(0x389)],...v('groupJid','image')},pi={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x206),a0_0x26c870(0x20a)],...v('groupJid',a0_0x26c870(0x20a))},hi={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':a0_0x26c870(0x446)},'name':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x206),a0_0x26c870(0x5fa)],...v('groupJid','name')},gi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x26c870(0x446)},'setting':{'type':a0_0x26c870(0x446),'enum':[a0_0x26c870(0x1c6),a0_0x26c870(0x6fd),a0_0x26c870(0x3d9),'locked']}},'required':[a0_0x26c870(0x206),a0_0x26c870(0x6b8)],...v(a0_0x26c870(0x206),a0_0x26c870(0x6b8))},mi={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x26c870(0x674)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x26c870(0x674)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x26c870(0x697),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x26c870(0x446)},'description':{'type':a0_0x26c870(0x446)},'image':{'type':a0_0x26c870(0x446)}}},Ts={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'inviteCode':{'type':a0_0x26c870(0x446)}},'required':[a0_0x26c870(0x1c3)],...v(a0_0x26c870(0x1c3))},fi={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'url':{'type':a0_0x26c870(0x446)},'enabled':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]}},'required':['url',a0_0x26c870(0x32e)]},Uc={'$id':(0x0,C['v4'])(),'type':a0_0x26c870(0x408),'properties':{'local_map':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x26c870(0x674),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x26c870(0x5d9),'QRCODE_UPDATED',a0_0x26c870(0x232),'MESSAGES_UPDATE',a0_0x26c870(0x903),'SEND_MESSAGE',a0_0x26c870(0x59c),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x26c870(0x21c),a0_0x26c870(0x859),a0_0x26c870(0x5df),a0_0x26c870(0x75c),a0_0x26c870(0x40b),'CONNECTION_UPDATE',a0_0x26c870(0x63a),a0_0x26c870(0x7b7),a0_0x26c870(0x8bb)],...v(a0_0x26c870(0x81a),a0_0x26c870(0x5d9),a0_0x26c870(0x74e),a0_0x26c870(0x232),a0_0x26c870(0x5d4),a0_0x26c870(0x903),a0_0x26c870(0x2de),'CONTACTS_SET',a0_0x26c870(0x261),a0_0x26c870(0x1ea),'PRESENCE_UPDATE',a0_0x26c870(0x859),a0_0x26c870(0x5df),a0_0x26c870(0x75c),a0_0x26c870(0x40b),a0_0x26c870(0x27f),'GROUPS_UPSERT',a0_0x26c870(0x7b7),'GROUP_PARTICIPANTS_UPDATE')},lt=class{},ut=class extends O{['getContactModelForOwner'](_0x101d2f){return ca(_0x101d2f);}async['insert'](_0x4a254d){const _0x427275=a0_0x26c870;if(_0x4a254d[_0x427275(0x2df)]!==0x0)try{return{'insertCount':(await this[_0x427275(0x336)](_0x4a254d[0x0][_0x427275(0x676)])[_0x427275(0x5bc)]([..._0x4a254d]))['length']};}catch(_0x55402d){return _0x55402d;}}async['delete'](_0x187975,_0x549308){const _0x2f9412=a0_0x26c870;try{return{'deletedCount':(await this[_0x2f9412(0x336)](_0x549308)['deleteMany']({..._0x187975[_0x2f9412(0x22c)]}))['deletedCount']};}catch(_0x42bca9){return{'error':_0x42bca9?.[_0x2f9412(0x58a)]()};}}async[a0_0x26c870(0x447)](_0x40fc1b,_0x2ecd74){const _0x1b738f=a0_0x26c870;try{if(_0x40fc1b[_0x1b738f(0x2df)]===0x0)return;let _0xe4e1d1=this[_0x1b738f(0x336)](_0x2ecd74),_0xdc43de=_0x40fc1b[_0x1b738f(0x27c)](_0x1ef1e7=>({'updateOne':{'filter':{'_id':_0x1ef1e7[_0x1b738f(0x3fa)],'owner':_0x2ecd74},'update':{..._0x1ef1e7}}})),{modifiedCount:_0x213086}=await _0xe4e1d1['bulkWrite'](_0xdc43de);return{'insertCount':_0x213086};}catch{return;}}async[a0_0x26c870(0x82c)](_0x12dc67,_0x46599f){const _0x277f79=a0_0x26c870;try{let _0x1b53da=this[_0x277f79(0x336)](_0x46599f),_0x53c834=A(_0x12dc67[_0x277f79(0x22c)]);return await _0x1b53da['find'](_0x53c834)[_0x277f79(0x7b0)](_0x12dc67?.[_0x277f79(0x7b0)]??0x0)[_0x277f79(0x480)]();}catch{return[];}}async['findOne'](_0x29a802,_0x35d224){const _0x20576b=a0_0x26c870;try{let _0x50c7a9=this[_0x20576b(0x336)](_0x35d224),_0x4d1837=A(_0x29a802['where']);return await _0x50c7a9[_0x20576b(0x74c)](_0x4d1837)['lean']();}catch{return null;}}async[a0_0x26c870(0x815)](_0x34d5d8){const _0x45ee5a=a0_0x26c870;try{return await this[_0x45ee5a(0x336)](_0x34d5d8)[_0x45ee5a(0x84f)][_0x45ee5a(0x8ea)](),{'success':!0x0};}catch(_0x1e5a95){return console[_0x45ee5a(0x7ba)](_0x1e5a95),{'success':!0x1,'error':_0x1e5a95};}}},dt=require(a0_0x26c870(0x671)),Hc=require(a0_0x26c870(0x3c1)),Is=new $(a0_0x26c870(0x722)),V=class{['routerPath'](_0x4a616b,_0x519ae1=!0x0){const _0x34de20=a0_0x26c870;let _0x12f510='/'+_0x4a616b;return _0x519ae1&&(_0x12f510+=_0x34de20(0x27a)),_0x12f510;}async['dataValidate'](_0x4e742b){const _0xe7e456=a0_0x26c870;let {request:_0x318e7d,schema:_0x65419d,ClassRef:_0x250d3a,execute:_0x25c813}=_0x4e742b,_0x38dff0=new _0x250d3a(),_0x5ecb86=_0x318e7d['body'],_0x10c17b=_0x318e7d[_0xe7e456(0x94d)];_0x318e7d?.['query']&&Object['keys'](_0x318e7d[_0xe7e456(0x32f)])[_0xe7e456(0x2df)]>0x0&&Object[_0xe7e456(0x2ee)](_0x10c17b,_0x318e7d['query']),_0x318e7d[_0xe7e456(0x632)]['includes']('/instance/create')&&Object[_0xe7e456(0x2ee)](_0x10c17b,_0x5ecb86),Object['assign'](_0x38dff0,_0x5ecb86);let _0x41a7eb=_0x65419d?(0x0,dt['validate'])(_0x38dff0,_0x65419d):{'valid':!0x0,'errors':[]};if(!_0x41a7eb[_0xe7e456(0x65b)]){let _0x1cfaad=_0x41a7eb[_0xe7e456(0x2e8)][_0xe7e456(0x27c)](({property:_0x5cd50e,stack:_0x2eab8d,schema:_0x567306})=>{const _0x5bc57c=_0xe7e456;let _0x31a178;return _0x567306[_0x5bc57c(0x20a)]?_0x31a178=_0x567306[_0x5bc57c(0x20a)]:_0x31a178=_0x2eab8d[_0x5bc57c(0x821)](_0x5bc57c(0x929),''),{'property':_0x5cd50e[_0x5bc57c(0x821)](_0x5bc57c(0x929),''),'message':_0x31a178};});throw Is[_0xe7e456(0x7ba)]([..._0x1cfaad]),new m(..._0x1cfaad);}return await _0x25c813(_0x10c17b,_0x38dff0);}async[a0_0x26c870(0x331)](_0x263a4a){const _0x1a1d43=a0_0x26c870;let {request:_0x14cd41,ClassRef:_0x9e477f,schema:_0x139b12,execute:_0x11f21f}=_0x263a4a,_0x73756e=_0x14cd41['query'];if(!_0x73756e?.[_0x1a1d43(0x206)])throw new m(_0x1a1d43(0x5db),_0x1a1d43(0x1b3));let _0x2f41b1=_0x14cd41['params'],_0x2e0d64=_0x14cd41[_0x1a1d43(0x59e)],_0x2eb58f=new _0x9e477f();Object[_0x1a1d43(0x2ee)](_0x2e0d64,_0x73756e),Object[_0x1a1d43(0x2ee)](_0x2eb58f,_0x2e0d64);let _0x44550d=(0x0,dt['validate'])(_0x2eb58f,_0x139b12);if(!_0x44550d['valid']){let _0x42d123=_0x44550d[_0x1a1d43(0x2e8)][_0x1a1d43(0x27c)](({property:_0x136709,stack:_0x4dc239,schema:_0x51df94})=>{const _0x32268c=_0x1a1d43;let _0x41fc84;return _0x51df94[_0x32268c(0x20a)]?_0x41fc84=_0x51df94[_0x32268c(0x20a)]:_0x41fc84=_0x4dc239['replace'](_0x32268c(0x929),''),{'property':_0x136709[_0x32268c(0x821)]('instance.',''),'message':_0x41fc84};});throw Is[_0x1a1d43(0x7ba)]([..._0x42d123]),new m(..._0x42d123);}return await _0x11f21f(_0x2f41b1,_0x2eb58f);}async[a0_0x26c870(0x349)](_0xf0da81){const _0x22633b=a0_0x26c870;let {request:_0x3c9fd3,ClassRef:_0x5561fb,schema:_0x4b7e0a,execute:_0x171e48}=_0xf0da81,_0x1f6ac5=_0x3c9fd3[_0x22633b(0x59e)];if(!_0x1f6ac5?.[_0x22633b(0x1c3)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x22633b(0x21d));let _0x95037e=_0x3c9fd3[_0x22633b(0x94d)],_0x5944ad=_0x3c9fd3[_0x22633b(0x59e)],_0x39df6e=new _0x5561fb();Object['assign'](_0x5944ad,_0x1f6ac5),Object[_0x22633b(0x2ee)](_0x39df6e,_0x5944ad);let _0x50878b=(0x0,dt[_0x22633b(0x5bd)])(_0x39df6e,_0x4b7e0a);if(!_0x50878b['valid']){let _0x3b46f2=_0x50878b[_0x22633b(0x2e8)][_0x22633b(0x27c)](({property:_0x50fc45,stack:_0x271e0,schema:_0x4d4978})=>{const _0x55e299=_0x22633b;let _0x2b248e;return _0x4d4978[_0x55e299(0x20a)]?_0x2b248e=_0x4d4978[_0x55e299(0x20a)]:_0x2b248e=_0x271e0['replace'](_0x55e299(0x929),''),{'property':_0x50fc45[_0x55e299(0x821)](_0x55e299(0x929),''),'message':_0x2b248e};});throw Is[_0x22633b(0x7ba)]([..._0x3b46f2]),new m(..._0x3b46f2);}return await _0x171e48(_0x95037e,_0x39df6e);}},M=class{},ll=new $('ChatRouter'),pt=class extends V{constructor(..._0x125487){const _0x4f9793=a0_0x26c870;super(),this[_0x4f9793(0x868)]=(0x0,wi['Router'])(),this[_0x4f9793(0x868)][_0x4f9793(0x77b)](this[_0x4f9793(0x573)](_0x4f9793(0x928)),..._0x125487,async(_0x4d0c3f,_0x2acf41)=>{const _0x4df4a1=_0x4f9793;let _0x240cb4=await this[_0x4df4a1(0x704)]({'request':_0x4d0c3f,'schema':ni,'ClassRef':et,'execute':(_0x597aa2,_0x1dfc05)=>D[_0x4df4a1(0x928)](_0x597aa2,_0x1dfc05)});return _0x2acf41[_0x4df4a1(0x284)](0xc9)[_0x4df4a1(0x200)](_0x240cb4);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)](_0x4f9793(0x8d4)),..._0x125487,async(_0x31af33,_0x4a4d60)=>{const _0x1dc946=_0x4f9793;let _0x5183f7=await this[_0x1dc946(0x704)]({'request':_0x31af33,'schema':Ya,'ClassRef':tt,'execute':(_0x546daf,_0x25b19c)=>D['whatsappNumber'](_0x546daf,_0x25b19c)});return _0x4a4d60['status'](0xc9)['json'](_0x5183f7);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)](_0x4f9793(0x437)),..._0x125487,async(_0x2a6d30,_0x4e5d6f)=>{const _0x4a804d=_0x4f9793;let _0x276ed0=await this[_0x4a804d(0x704)]({'request':_0x2a6d30,'schema':E,'ClassRef':M,'execute':(_0x7a9355,_0x1a1487)=>D[_0x4a804d(0x437)](_0x7a9355,_0x1a1487)});return _0x4e5d6f[_0x4a804d(0x284)](0xc9)['json'](_0x276ed0);})['put'](this[_0x4f9793(0x573)]('markMessageAsRead'),..._0x125487,async(_0x221045,_0x137cb7)=>{const _0x1df893=_0x4f9793;let _0xaad538=await this[_0x1df893(0x704)]({'request':_0x221045,'schema':Xa,'ClassRef':it,'execute':(_0x5cb8a9,_0x5478b1)=>D[_0x1df893(0x353)](_0x5cb8a9,_0x5478b1)});return _0x137cb7[_0x1df893(0x284)](0xc9)[_0x1df893(0x200)](_0xaad538);})[_0x4f9793(0x7ee)](this['routerPath'](_0x4f9793(0x3dd)),..._0x125487,async(_0x3724e2,_0x487258)=>{const _0x185c45=_0x4f9793;let _0x53b4c5=await this[_0x185c45(0x704)]({'request':_0x3724e2,'schema':ei,'ClassRef':ot,'execute':(_0x3816d2,_0x14ca56)=>D[_0x185c45(0x3dd)](_0x3816d2,_0x14ca56)});return _0x487258[_0x185c45(0x284)](0xc9)[_0x185c45(0x200)](_0x53b4c5);})['delete'](this['routerPath'](_0x4f9793(0x281)),..._0x125487,async(_0x2101a1,_0x20c169)=>{const _0x118888=_0x4f9793;let _0x588ad5=await this[_0x118888(0x704)]({'request':_0x2101a1,'schema':ti,'ClassRef':nt,'execute':(_0x141714,_0x2f2a6a)=>D[_0x118888(0x5e3)](_0x141714,_0x2f2a6a)});return _0x20c169[_0x118888(0x284)](0xc9)[_0x118888(0x200)](_0x588ad5);})[_0x4f9793(0x77b)](this['routerPath'](_0x4f9793(0x1f9)),..._0x125487,async(_0x151c5c,_0x2997a1)=>{const _0x598d15=_0x4f9793;let _0x5cf19e=await this[_0x598d15(0x704)]({'request':_0x151c5c,'schema':De,'ClassRef':xe,'execute':(_0x2c8f6f,_0x5a5145)=>D[_0x598d15(0x7c2)](_0x2c8f6f,_0x5a5145)});return _0x2997a1[_0x598d15(0x284)](0xc8)['json'](_0x5cf19e);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)](_0x4f9793(0x6f0)),..._0x125487,async(_0x3c717d,_0x22695f)=>{const _0x55742b=_0x4f9793;let _0x13da53=await this['dataValidate']({'request':_0x3c717d,'schema':oi,'ClassRef':xe,'execute':(_0x4d49e5,_0x50af1c)=>D[_0x55742b(0x6f0)](_0x4d49e5,_0x50af1c)});return _0x22695f[_0x55742b(0x284)](0xc8)[_0x55742b(0x200)](_0x13da53);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)]('findContacts'),..._0x125487,async(_0x2e0b98,_0x3c8cbd)=>{const _0x557641=_0x4f9793;let _0x19fdfe=await this['dataValidate']({'request':_0x2e0b98,'schema':si,'ClassRef':lt,'execute':(_0x5ae6ce,_0x54ac19)=>D[_0x557641(0x7a1)](_0x5ae6ce,_0x54ac19)});return _0x3c8cbd[_0x557641(0x284)](0xc8)[_0x557641(0x200)](_0x19fdfe);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)]('getBase64FromMediaMessage'),..._0x125487,async(_0x11f9e0,_0x10007d)=>{const _0x108dd7=_0x4f9793;let _0x5a5ab3=await this[_0x108dd7(0x704)]({'request':_0x11f9e0,'schema':null,'ClassRef':Object,'execute':(_0x5413cf,_0x288eff)=>D[_0x108dd7(0x5cb)](_0x5413cf,_0x288eff)});return _0x10007d[_0x108dd7(0x284)](0xc9)[_0x108dd7(0x200)](_0x5a5ab3);})[_0x4f9793(0x77b)](this['routerPath']('findMessages'),..._0x125487,async(_0x15ee0a,_0x565ada)=>{const _0x5b490b=_0x4f9793;let _0x3b7475=await this[_0x5b490b(0x704)]({'request':_0x15ee0a,'schema':ri,'ClassRef':Xe,'execute':(_0x5648b2,_0x1655ad)=>D[_0x5b490b(0x4c8)](_0x5648b2,_0x1655ad)});return _0x565ada[_0x5b490b(0x284)](0xc8)[_0x5b490b(0x200)](_0x3b7475);})[_0x4f9793(0x2c9)](this['routerPath'](_0x4f9793(0x61a)),..._0x125487,async(_0x37b9ab,_0x38c981)=>{const _0x231e82=_0x4f9793;let _0x1840f5=await this[_0x231e82(0x704)]({'request':_0x37b9ab,'schema':null,'ClassRef':M,'execute':_0x472bb6=>D[_0x231e82(0x6dd)](_0x472bb6)});return _0x38c981[_0x231e82(0x284)](0xc8)[_0x231e82(0x200)](_0x1840f5);})[_0x4f9793(0x2c9)](this[_0x4f9793(0x573)](_0x4f9793(0x66b)),..._0x125487,async(_0x534691,_0x1479c1)=>{const _0x4f291e=_0x4f9793;let _0x325b79=await this[_0x4f291e(0x704)]({'request':_0x534691,'schema':null,'ClassRef':M,'execute':_0x519c0a=>D[_0x4f291e(0x80a)](_0x519c0a)});return _0x1479c1['status'](0xc8)[_0x4f291e(0x200)](_0x325b79);})[_0x4f9793(0x7ee)](this[_0x4f9793(0x573)]('importChats'),..._0x125487,async(_0x4da065,_0x459e8d)=>{const _0xd9028=_0x4f9793;let _0x4ef2e4=await this[_0xd9028(0x704)]({'request':_0x4da065,'schema':null,'ClassRef':Array,'execute':(_0x8ee656,_0x34bf0f)=>D[_0xd9028(0x189)](_0x8ee656,_0x34bf0f)});return _0x459e8d[_0xd9028(0x284)](0xc8)[_0xd9028(0x200)](_0x4ef2e4);})[_0x4f9793(0x2c9)](this[_0x4f9793(0x573)](_0x4f9793(0x7ad)),..._0x125487,async(_0x4556f5,_0x10631f)=>{const _0xce5763=_0x4f9793;let _0x3b275=await this[_0xce5763(0x704)]({'request':_0x4556f5,'schema':null,'ClassRef':M,'execute':_0x320ce4=>D['fetchPrivacySettings'](_0x320ce4)});return _0x10631f['status'](0xc8)[_0xce5763(0x200)](_0x3b275);})['put'](this[_0x4f9793(0x573)](_0x4f9793(0x7f8)),..._0x125487,async(_0x31feb8,_0x493888)=>{const _0x22a05a=_0x4f9793;let _0x331126=await this[_0x22a05a(0x704)]({'request':_0x31feb8,'schema':Za,'ClassRef':rt,'execute':(_0x44296e,_0xb10505)=>D['updatePrivacySettings'](_0x44296e,_0xb10505)});return _0x493888['status'](0xc9)[_0x22a05a(0x200)](_0x331126);})['post'](this['routerPath'](_0x4f9793(0x805)),..._0x125487,async(_0x32142a,_0x27900f)=>{const _0x2bbd0e=_0x4f9793;let _0x1c1e5c=await this[_0x2bbd0e(0x704)]({'request':_0x32142a,'schema':De,'ClassRef':Ee,'execute':(_0x233d88,_0x4956d4)=>D[_0x2bbd0e(0x805)](_0x233d88,_0x4956d4)});return _0x27900f[_0x2bbd0e(0x284)](0xc8)[_0x2bbd0e(0x200)](_0x1c1e5c);})[_0x4f9793(0x77b)](this[_0x4f9793(0x573)](_0x4f9793(0x8d6)),..._0x125487,async(_0x3d71ce,_0x11bebc)=>{const _0x2813fe=_0x4f9793;let _0x47b63f=await this[_0x2813fe(0x704)]({'request':_0x3d71ce,'schema':ai,'ClassRef':st,'execute':(_0x8438a6,_0x3316b7)=>D[_0x2813fe(0x8d6)](_0x8438a6,_0x3316b7)});return _0x11bebc['status'](0xc8)[_0x2813fe(0x200)](_0x47b63f);})['post'](this['routerPath'](_0x4f9793(0x7d0)),..._0x125487,async(_0x234b99,_0xe443e0)=>{const _0x1e89fe=_0x4f9793;let _0x3c967e=await this['dataValidate']({'request':_0x234b99,'schema':ii,'ClassRef':at,'execute':(_0x581df8,_0x4e2616)=>D[_0x1e89fe(0x7d0)](_0x581df8,_0x4e2616)});return _0xe443e0['status'](0xc8)[_0x1e89fe(0x200)](_0x3c967e);})[_0x4f9793(0x7ee)](this[_0x4f9793(0x573)](_0x4f9793(0x27b)),..._0x125487,async(_0x8e5a7d,_0x4c3bfd)=>{const _0x5aa717=_0x4f9793;let _0x754399=await this[_0x5aa717(0x704)]({'request':_0x8e5a7d,'schema':De,'ClassRef':Ee,'execute':(_0x12e210,_0x10a853)=>D[_0x5aa717(0x27b)](_0x12e210,_0x10a853)});return _0x4c3bfd[_0x5aa717(0x284)](0xc8)['json'](_0x754399);})[_0x4f9793(0x5e2)](this[_0x4f9793(0x573)](_0x4f9793(0x80d)),..._0x125487,async(_0x5739ed,_0x5c1562)=>{const _0x33d088=_0x4f9793;let _0x5b2e14=await this[_0x33d088(0x704)]({'request':_0x5739ed,'schema':De,'ClassRef':Ee,'execute':(_0x24e70a,_0x317e8f)=>D[_0x33d088(0x80d)](_0x24e70a,_0x317e8f)});return _0x5c1562[_0x33d088(0x284)](0xc8)[_0x33d088(0x200)](_0x5b2e14);});}},yi=require(a0_0x26c870(0x2c1)),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ee=class{},Le=class{},bt=class extends ee{},St=class extends ee{},Mt=class extends V{constructor(..._0x2ebac9){const _0xae1e00=a0_0x26c870;super(),this[_0xae1e00(0x868)]=(0x0,yi[_0xae1e00(0x81b)])(),this[_0xae1e00(0x868)][_0xae1e00(0x77b)](this['routerPath'](_0xae1e00(0x1e0)),..._0x2ebac9,async(_0x1e057c,_0x28550c)=>{const _0x159c63=_0xae1e00;let _0x50c803=await this['dataValidate']({'request':_0x1e057c,'schema':ci,'ClassRef':ht,'execute':(_0xcba337,_0x1f0135)=>q['createGroup'](_0xcba337,_0x1f0135)});_0x28550c[_0x159c63(0x284)](0xc9)[_0x159c63(0x200)](_0x50c803);})[_0xae1e00(0x7ee)](this['routerPath'](_0xae1e00(0x31f)),..._0x2ebac9,async(_0x467d41,_0x4b7cc6)=>{const _0x576391=_0xae1e00;let _0xe2e19=await this[_0x576391(0x331)]({'request':_0x467d41,'schema':di,'ClassRef':gt,'execute':(_0x34a522,_0xbc8ab4)=>q['updateGroupPicture'](_0x34a522,_0xbc8ab4)});_0x4b7cc6['status'](0xc9)[_0x576391(0x200)](_0xe2e19);})[_0xae1e00(0x7ee)](this[_0xae1e00(0x573)](_0xae1e00(0x91a)),..._0x2ebac9,async(_0x5b7f94,_0x4a53d2)=>{const _0x5f3805=_0xae1e00;let _0x186270=await this[_0x5f3805(0x331)]({'request':_0x5b7f94,'schema':pi,'ClassRef':mt,'execute':(_0x454fa3,_0x5bef16)=>q[_0x5f3805(0x91a)](_0x454fa3,_0x5bef16)});_0x4a53d2[_0x5f3805(0x284)](0xc9)[_0x5f3805(0x200)](_0x186270);})[_0xae1e00(0x7ee)](this['routerPath'](_0xae1e00(0x86b)),..._0x2ebac9,async(_0x44678a,_0x4faaa6)=>{const _0x430804=_0xae1e00;let _0x342f7a=await this['groupValidate']({'request':_0x44678a,'schema':hi,'ClassRef':ft,'execute':(_0x3160d7,_0x4a359a)=>q['groupName'](_0x3160d7,_0x4a359a)});_0x4faaa6['status'](0xc9)[_0x430804(0x200)](_0x342f7a);})[_0xae1e00(0x7ee)](this[_0xae1e00(0x573)]('groupBetterSetting'),..._0x2ebac9,async(_0x419e01,_0x1440b2)=>{const _0x5e2d8b=_0xae1e00;let _0x412e7f=await this[_0x5e2d8b(0x331)]({'request':_0x419e01,'schema':mi,'ClassRef':yt,'execute':(_0x7f8f1b,_0x3a4357)=>q[_0x5e2d8b(0x3f7)](_0x7f8f1b,_0x3a4357)});_0x1440b2[_0x5e2d8b(0x284)](0xc9)[_0x5e2d8b(0x200)](_0x412e7f);})[_0xae1e00(0x7ee)](this['routerPath'](_0xae1e00(0x8fd)),..._0x2ebac9,async(_0x1b872e,_0x50c8d5)=>{const _0x3bf672=_0xae1e00;let _0x3cdbcc=await this['groupValidate']({'request':_0x1b872e,'schema':gi,'ClassRef':wt,'execute':(_0x5251bf,_0x5bf958)=>q[_0x3bf672(0x8fd)](_0x5251bf,_0x5bf958)});_0x50c8d5[_0x3bf672(0x284)](0xc9)[_0x3bf672(0x200)](_0x3cdbcc);})[_0xae1e00(0x7ee)](this[_0xae1e00(0x573)](_0xae1e00(0x759)),..._0x2ebac9,async(_0x1c0913,_0x52fb4a)=>{const _0xbe0b56=_0xae1e00;let _0x5c0b81=await this[_0xbe0b56(0x331)]({'request':_0x1c0913,'schema':ui,'ClassRef':St,'execute':(_0x34560d,_0x404f20)=>q[_0xbe0b56(0x759)](_0x34560d,_0x404f20)});_0x52fb4a[_0xbe0b56(0x284)](0xc9)[_0xbe0b56(0x200)](_0x5c0b81);})[_0xae1e00(0x2c9)](this[_0xae1e00(0x573)](_0xae1e00(0x332)),..._0x2ebac9,async(_0x545b1f,_0x560d3d)=>{const _0x91fc7b=_0xae1e00;let _0x4aa0f2=await this[_0x91fc7b(0x331)]({'request':_0x545b1f,'schema':ke,'ClassRef':ee,'execute':(_0x23df7d,_0x15905e)=>q[_0x91fc7b(0x308)](_0x23df7d,_0x15905e)});_0x560d3d[_0x91fc7b(0x284)](0xc8)[_0x91fc7b(0x200)](_0x4aa0f2);})[_0xae1e00(0x2c9)](this['routerPath']('findGroups'),..._0x2ebac9,async(_0x222cbc,_0x5baf1f)=>{const _0x17696f=_0xae1e00;let _0x2b8852=await this[_0x17696f(0x704)]({'request':_0x222cbc,'schema':E,'ClassRef':M,'execute':_0x13ae05=>q['findGroups'](_0x13ae05)});_0x5baf1f[_0x17696f(0x284)](0xc8)['json'](_0x2b8852);})[_0xae1e00(0x2c9)](this['routerPath']('participants'),..._0x2ebac9,async(_0x517ca0,_0x24169f)=>{const _0x1d4844=_0xae1e00;let _0xd6445e=await this[_0x1d4844(0x331)]({'request':_0x517ca0,'schema':ke,'ClassRef':ee,'execute':(_0xcbed34,_0x7b9ab)=>q['findParticipants'](_0xcbed34,_0x7b9ab)});_0x24169f['status'](0xc8)['json'](_0xd6445e);})[_0xae1e00(0x2c9)](this[_0xae1e00(0x573)](_0xae1e00(0x1c3)),..._0x2ebac9,async(_0x52356b,_0x54d77a)=>{const _0x13c3c3=_0xae1e00;let _0x1496df=await this[_0x13c3c3(0x331)]({'request':_0x52356b,'schema':ke,'ClassRef':ee,'execute':(_0x509666,_0x235b1d)=>q['inviteCode'](_0x509666,_0x235b1d)});_0x54d77a['status'](0xc8)[_0x13c3c3(0x200)](_0x1496df);})[_0xae1e00(0x77b)](this[_0xae1e00(0x573)](_0xae1e00(0x557)),..._0x2ebac9,async(_0x536bd1,_0x14ca46)=>{const _0x594868=_0xae1e00;let _0x138d0d=await this[_0x594868(0x349)]({'request':_0x536bd1,'schema':Ts,'ClassRef':Le,'execute':(_0xe9c0e3,_0x122976)=>q['groupGetInviteInfo'](_0xe9c0e3,_0x122976)});_0x14ca46[_0x594868(0x284)](0xc9)['json'](_0x138d0d);})[_0xae1e00(0x7ee)](this['routerPath'](_0xae1e00(0x2e5)),..._0x2ebac9,async(_0x59b842,_0x94d4d5)=>{const _0x3c1142=_0xae1e00;let _0x25f4c4=await this[_0x3c1142(0x349)]({'request':_0x59b842,'schema':Ts,'ClassRef':Le,'execute':(_0x5aa5df,_0x54a885)=>q['joinGroup'](_0x5aa5df,_0x54a885)});_0x94d4d5[_0x3c1142(0x284)](0xc9)[_0x3c1142(0x200)](_0x25f4c4);})[_0xae1e00(0x7ee)](this['routerPath']('revokeInviteCode'),..._0x2ebac9,async(_0x4fd46f,_0x22eac9)=>{const _0x529716=_0xae1e00;let _0x34f610=await this[_0x529716(0x331)]({'request':_0x4fd46f,'schema':ke,'ClassRef':ee,'execute':(_0xc8a3d8,_0x245420)=>q[_0x529716(0x6c2)](_0xc8a3d8,_0x245420)});_0x22eac9['status'](0xc9)[_0x529716(0x200)](_0x34f610);})['put'](this[_0xae1e00(0x573)]('updateParticipant'),..._0x2ebac9,async(_0x37f02b,_0x42959f)=>{const _0x96b57=_0xae1e00;let _0x17f07d=await this['groupValidate']({'request':_0x37f02b,'schema':li,'ClassRef':bt,'execute':(_0x2a7a6e,_0x17ba21)=>q[_0x96b57(0x8eb)](_0x2a7a6e,_0x17ba21)});_0x42959f[_0x96b57(0x284)](0xc9)[_0x96b57(0x200)](_0x17f07d);})[_0xae1e00(0x5e2)](this[_0xae1e00(0x573)]('leaveGroup'),..._0x2ebac9,async(_0x13e813,_0x459a89)=>{const _0x10cc57=_0xae1e00;let _0x191b63=await this['groupValidate']({'request':_0x13e813,'schema':{},'ClassRef':ee,'execute':(_0x4aa11a,_0x3bdee3)=>q['leaveGroup'](_0x4aa11a,_0x3bdee3)});_0x459a89[_0x10cc57(0x284)](0xc8)[_0x10cc57(0x200)](_0x191b63);});}},bi=require('express'),Ct=class extends V{constructor(_0x35a0e8,..._0xe02fe3){const _0xb096a=a0_0x26c870;super(),this[_0xb096a(0x382)]=_0x35a0e8,this[_0xb096a(0x868)]=(0x0,bi[_0xb096a(0x81b)])();let _0x1c1349=_0x35a0e8['get'](_0xb096a(0x81f));this[_0xb096a(0x868)]['post'](_0xb096a(0x46d),..._0xe02fe3,async(_0x148d52,_0x41772c)=>{const _0x2fbf97=_0xb096a;let {instanceName:_0x36b709,apikey:_0x2597f8,number:_0x2102c8}=_0x148d52[_0x2fbf97(0x59e)],_0x161ccc=await ue[_0x2fbf97(0x75e)]({'instanceName':_0x36b709,'apikey':_0x2597f8,'number':_0x2102c8});return _0x41772c[_0x2fbf97(0x284)](0xc9)[_0x2fbf97(0x200)](_0x161ccc);})[_0xb096a(0x7ee)](this[_0xb096a(0x573)](_0xb096a(0x7d6)),..._0xe02fe3,async(_0x49251d,_0x105c64)=>{const _0x3e16f4=_0xb096a;let _0x140417=await this[_0x3e16f4(0x704)]({'request':_0x49251d,'schema':E,'ClassRef':M,'execute':_0x1d494e=>ue['restartInstance'](_0x1d494e)});return _0x105c64[_0x3e16f4(0x284)](0xc8)[_0x3e16f4(0x200)](_0x140417);})[_0xb096a(0x2c9)](this['routerPath']('connect'),..._0xe02fe3,async(_0x15b073,_0x2c69e4)=>{const _0x137acc=_0xb096a;let _0x3b19e2=await this[_0x137acc(0x704)]({'request':_0x15b073,'schema':E,'ClassRef':M,'execute':_0x275f54=>ue[_0x137acc(0x2f9)](_0x275f54)});return _0x2c69e4[_0x137acc(0x284)](0xc8)[_0x137acc(0x200)](_0x3b19e2);})[_0xb096a(0x2c9)](this[_0xb096a(0x573)](_0xb096a(0x650)),..._0xe02fe3,async(_0x5a3f4f,_0x1d4078)=>{const _0x196cc5=_0xb096a;let _0xdc06ae=await this[_0x196cc5(0x704)]({'request':_0x5a3f4f,'schema':E,'ClassRef':M,'execute':_0x5ebbee=>ue[_0x196cc5(0x650)](_0x5ebbee)});return _0x1d4078['status'](0xc8)[_0x196cc5(0x200)](_0xdc06ae);})[_0xb096a(0x2c9)](this['routerPath'](_0xb096a(0x1f4),!0x1),..._0xe02fe3,async(_0x93c697,_0x3f7d6c)=>{const _0x51e5b4=_0xb096a;let _0x23a47a=await this[_0x51e5b4(0x704)]({'request':_0x93c697,'schema':null,'ClassRef':M,'execute':_0x34aa99=>ue[_0x51e5b4(0x1f4)](_0x34aa99)});return _0x3f7d6c[_0x51e5b4(0x284)](0xc8)[_0x51e5b4(0x200)](_0x23a47a);})[_0xb096a(0x5e2)](this[_0xb096a(0x573)]('logout'),..._0xe02fe3,async(_0x492b93,_0x2f5f97)=>{const _0x3904ad=_0xb096a;let _0x14e0d5=await this[_0x3904ad(0x704)]({'request':_0x492b93,'schema':E,'ClassRef':M,'execute':_0x4785ed=>ue[_0x3904ad(0x34d)](_0x4785ed)});return _0x2f5f97['status'](0xc8)[_0x3904ad(0x200)](_0x14e0d5);})[_0xb096a(0x5e2)](this[_0xb096a(0x573)](_0xb096a(0x5e2)),..._0xe02fe3,async(_0x449af3,_0x1c8d69)=>{const _0x3b3309=_0xb096a;let _0x1580c5=await this['dataValidate']({'request':_0x449af3,'schema':E,'ClassRef':M,'execute':_0x5dcc21=>ue[_0x3b3309(0x5a9)](_0x5dcc21)});return _0x1c8d69[_0x3b3309(0x284)](0xc8)[_0x3b3309(0x200)](_0x1580c5);});}},Si=require('express'),_s=class{},H=class extends _s{},vt=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Fe=class extends H{},Rt=class extends H{},At=class extends H{},Tt=class extends H{},It=class extends H{},_t=class{},Ot=class extends V{constructor(..._0xf1b102){const _0x574875=a0_0x26c870;super(),this[_0x574875(0x868)]=(0x0,Si[_0x574875(0x81b)])(),this[_0x574875(0x868)]['post'](this[_0x574875(0x573)](_0x574875(0x802)),..._0xf1b102,async(_0x2a30f4,_0x3782dd)=>{const _0x1586b6=_0x574875;let _0x412b01=await this[_0x1586b6(0x704)]({'request':_0x2a30f4,'schema':Ua,'ClassRef':vt,'execute':(_0x29358e,_0x24c505)=>B[_0x1586b6(0x802)](_0x29358e,_0x24c505)});return _0x3782dd[_0x1586b6(0x284)](0xc9)[_0x1586b6(0x200)](_0x412b01);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x69b)),..._0xf1b102,async(_0x5b6472,_0x4794a0)=>{const _0x1c4d56=_0x574875;let _0x1c4b4e=await this[_0x1c4d56(0x704)]({'request':_0x5b6472,'schema':Va,'ClassRef':Fe,'execute':(_0x45edb0,_0x21edb7)=>B[_0x1c4d56(0x69b)](_0x45edb0,_0x21edb7)});return _0x4794a0[_0x1c4d56(0x284)](0xc9)[_0x1c4d56(0x200)](_0x1c4b4e);})[_0x574875(0x77b)](this['routerPath']('sendMenu'),..._0xf1b102,async(_0x114797,_0xd5b83b)=>{const _0x254cea=_0x574875;let _0x2ffd77=await this['dataValidate']({'request':_0x114797,'schema':Wa,'ClassRef':$t,'execute':(_0x1c7206,_0x3d19a9)=>B[_0x254cea(0x6d2)](_0x1c7206,_0x3d19a9)});return _0xd5b83b[_0x254cea(0x284)](0xc9)[_0x254cea(0x200)](_0x2ffd77);})[_0x574875(0x77b)](this['routerPath'](_0x574875(0x4bf)),..._0xf1b102,async(_0x290d06,_0x100269)=>{const _0x4cb986=_0x574875;let _0x470d90=await this[_0x4cb986(0x704)]({'request':_0x290d06,'schema':Ga,'ClassRef':Fe,'execute':(_0x25e310,_0x460952)=>B['sendWhatsAppAudio'](_0x25e310,_0x460952)});return _0x100269[_0x4cb986(0x284)](0xc9)[_0x4cb986(0x200)](_0x470d90);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x1fe)),..._0xf1b102,async(_0x4674da,_0x48ba47)=>{const _0x59ad99=_0x574875;let _0x22a95c=await this['dataValidate']({'request':_0x4674da,'schema':za,'ClassRef':At,'execute':(_0x54fc34,_0x5c1d05)=>B[_0x59ad99(0x1fe)](_0x54fc34,_0x5c1d05)});return _0x48ba47[_0x59ad99(0x284)](0xc9)['json'](_0x22a95c);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x534)),..._0xf1b102,async(_0x5a39b5,_0x2c77ef)=>{const _0xca763f=_0x574875;let _0x5bd83c=await this[_0xca763f(0x704)]({'request':_0x5a39b5,'schema':Ha,'ClassRef':Tt,'execute':(_0x3a631e,_0x5d6c6d)=>B['sendList'](_0x3a631e,_0x5d6c6d)});return _0x2c77ef['status'](0xc9)[_0xca763f(0x200)](_0x5bd83c);})[_0x574875(0x77b)](this[_0x574875(0x573)]('sendContact'),..._0xf1b102,async(_0xa264ce,_0x295425)=>{const _0x2a3a5a=_0x574875;let _0xe512e7=await this[_0x2a3a5a(0x704)]({'request':_0xa264ce,'schema':Ka,'ClassRef':It,'execute':(_0x4326ca,_0x348437)=>B[_0x2a3a5a(0x68b)](_0x4326ca,_0x348437)});return _0x295425['status'](0xc9)[_0x2a3a5a(0x200)](_0xe512e7);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x637)),..._0xf1b102,async(_0xc32bfa,_0x17e9d5)=>{const _0x32c995=_0x574875;let _0x38c0d0=await this[_0x32c995(0x704)]({'request':_0xc32bfa,'schema':Qa,'ClassRef':_t,'execute':(_0x344da1,_0x33e8d3)=>B[_0x32c995(0x637)](_0x344da1,_0x33e8d3)});return _0x17e9d5[_0x32c995(0x284)](0xc9)[_0x32c995(0x200)](_0x38c0d0);})[_0x574875(0x77b)](this['routerPath'](_0x574875(0x212)),..._0xf1b102,async(_0x346e07,_0x512b77)=>{const _0xbc1048=_0x574875;let _0xf94835=await this[_0xbc1048(0x704)]({'request':_0x346e07,'schema':Ba,'ClassRef':Nt,'execute':(_0x330b7f,_0x80d003)=>B[_0xbc1048(0x212)](_0x330b7f,_0x80d003)});return _0x512b77['status'](0xc9)[_0xbc1048(0x200)](_0xf94835);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x379)),..._0xf1b102,async(_0x4259e4,_0xe901e9)=>{const _0x3e17c7=_0x574875;let _0x3c2467=await this['dataValidate']({'request':_0x4259e4,'schema':qa,'ClassRef':Et,'execute':(_0x162e30,_0x47b3dd)=>B[_0x3e17c7(0x379)](_0x162e30,_0x47b3dd)});return _0xe901e9['status'](0xc9)[_0x3e17c7(0x200)](_0x3c2467);})[_0x574875(0x77b)](this[_0x574875(0x573)](_0x574875(0x23b)),..._0xf1b102,async(_0x2f83d0,_0x3cbd06)=>{const _0x18b869=_0x574875;let _0xfce99f=await this[_0x18b869(0x704)]({'request':_0x2f83d0,'schema':Ja,'ClassRef':Rt,'execute':(_0x29f843,_0x16fe07)=>B[_0x18b869(0x23b)](_0x29f843,_0x16fe07)});return _0x3cbd06[_0x18b869(0x284)](0xc9)[_0x18b869(0x200)](_0xfce99f);});}},Mi=require(a0_0x26c870(0x2c1)),xt=class{},Pt=class extends V{constructor(..._0x3db65d){const _0xb88071=a0_0x26c870;super(),this['router']=(0x0,Mi['Router'])(),this['router'][_0xb88071(0x77b)](this[_0xb88071(0x573)](_0xb88071(0x295)),..._0x3db65d,async(_0x1180e0,_0x3633e4)=>{const _0x2e413e=_0xb88071;let _0x778486=await this[_0x2e413e(0x704)]({'request':_0x1180e0,'schema':fi,'ClassRef':xt,'execute':(_0x26f545,_0x1fad22)=>Os['createWebhook'](_0x26f545,_0x1fad22)});_0x3633e4[_0x2e413e(0x284)](0xc9)[_0x2e413e(0x200)](_0x778486);})[_0xb88071(0x2c9)](this[_0xb88071(0x573)](_0xb88071(0x82c)),..._0x3db65d,async(_0x551679,_0x5cf092)=>{const _0xb405c7=_0xb88071;let _0x35187d=await this['dataValidate']({'request':_0x551679,'schema':E,'ClassRef':M,'execute':_0x1004b4=>Os['findWebhook'](_0x1004b4)});_0x5cf092[_0xb405c7(0x284)](0xc8)[_0xb405c7(0x200)](_0x35187d);});}},Ci=require(a0_0x26c870(0x2c1)),y=new $(a0_0x26c870(0x67c)),Dt=class extends V{constructor(..._0x188246){const _0x52de9b=a0_0x26c870;super(),this['router']=(0x0,Ci[_0x52de9b(0x81b)])(),this['router'][_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x280)),..._0x188246,async(_0x5b1bc3,_0x2f9b51)=>{const _0x1f014f=_0x52de9b;let _0x1eb2c4=_0x5b1bc3[_0x1f014f(0x59e)];y[_0x1f014f(0x69d)]('request\x20received\x20in\x20scheduleMessage'),y[_0x1f014f(0x69d)](_0x1f014f(0x31a)),y[_0x1f014f(0x69d)](_0x5b1bc3[_0x1f014f(0x59e)]);let _0x5ef67c=await this[_0x1f014f(0x704)]({'request':_0x5b1bc3,'schema':E,'ClassRef':M,'execute':_0x26cf04=>_[_0x1f014f(0x79a)](_0x26cf04,_0x1eb2c4)});_0x2f9b51[_0x1f014f(0x284)](0xc8)[_0x1f014f(0x200)](_0x5ef67c);})[_0x52de9b(0x2c9)](this[_0x52de9b(0x573)]('scheduleMessage'),..._0x188246,async(_0x486e29,_0x2a02b6)=>{const _0x4382da=_0x52de9b;let _0x371a4e=await this[_0x4382da(0x704)]({'request':_0x486e29,'schema':E,'ClassRef':M,'execute':_0x1419f6=>_['getScheduleMessage'](_0x1419f6)});_0x2a02b6[_0x4382da(0x284)](0xc8)[_0x4382da(0x200)](_0x371a4e);})[_0x52de9b(0x5e2)](this['routerPath'](_0x52de9b(0x933)),..._0x188246,async(_0x5d22f9,_0x4b8a95)=>{const _0x301f5c=_0x52de9b;y['verbose'](_0x301f5c(0x81c));let _0x876111=await this[_0x301f5c(0x704)]({'request':_0x5d22f9,'schema':E,'ClassRef':M,'execute':_0x2b0cff=>_[_0x301f5c(0x933)](_0x2b0cff)});_0x4b8a95[_0x301f5c(0x284)](0xc8)[_0x301f5c(0x200)](_0x876111);})[_0x52de9b(0x5e2)](this[_0x52de9b(0x573)]('deleteAllMessages'),..._0x188246,async(_0x440b12,_0x7c5670)=>{const _0xe98cb3=_0x52de9b;y[_0xe98cb3(0x69d)](_0xe98cb3(0x7c7));let _0x19bde2=await this[_0xe98cb3(0x704)]({'request':_0x440b12,'schema':E,'ClassRef':M,'execute':_0x516b34=>_[_0xe98cb3(0x57b)](_0x516b34)});_0x7c5670[_0xe98cb3(0x284)](0xc8)[_0xe98cb3(0x200)](_0x19bde2);})[_0x52de9b(0x77b)](this['routerPath'](_0x52de9b(0x830)),..._0x188246,async(_0x474e22,_0xa319b3)=>{const _0x1987f9=_0x52de9b;let _0x4cbdc3=_0x474e22[_0x1987f9(0x59e)];y[_0x1987f9(0x69d)]('request\x20received\x20in\x20starFlow'),y[_0x1987f9(0x69d)](_0x1987f9(0x31a)),y[_0x1987f9(0x69d)](_0x474e22[_0x1987f9(0x59e)]);let _0x38341e=await this[_0x1987f9(0x704)]({'request':_0x474e22,'schema':E,'ClassRef':M,'execute':_0x246383=>_[_0x1987f9(0x830)](_0x246383,_0x4cbdc3)});_0xa319b3[_0x1987f9(0x284)](0xc8)['json'](_0x38341e);})['get'](this[_0x52de9b(0x573)]('getAutomateSystem'),..._0x188246,async(_0x4678d4,_0x350331)=>{const _0x4ec5c3=_0x52de9b;y[_0x4ec5c3(0x69d)]('request\x20received\x20in\x20getAutomateSystem');let _0x4a363f=await this[_0x4ec5c3(0x704)]({'request':_0x4678d4,'schema':E,'ClassRef':M,'execute':_0x1c9970=>_[_0x4ec5c3(0x791)](_0x1c9970)});_0x350331[_0x4ec5c3(0x284)](0xc8)['json'](_0x4a363f);})['get'](this[_0x52de9b(0x573)](_0x52de9b(0x6e4)),..._0x188246,async(_0x4558d8,_0x196ff7)=>{const _0x8b8661=_0x52de9b;y[_0x8b8661(0x69d)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x199d5f=await this[_0x8b8661(0x704)]({'request':_0x4558d8,'schema':E,'ClassRef':M,'execute':_0x1ec019=>_[_0x8b8661(0x791)](_0x1ec019)});_0x196ff7[_0x8b8661(0x284)](0xc8)[_0x8b8661(0x200)](_0x199d5f);})['post'](this[_0x52de9b(0x573)](_0x52de9b(0x590)),..._0x188246,async(_0x342952,_0x5c4b9e)=>{const _0x149d9e=_0x52de9b;let _0x4452ba=_0x342952[_0x149d9e(0x59e)];y[_0x149d9e(0x69d)](_0x149d9e(0x64c)),y['verbose'](_0x149d9e(0x31a)),y['verbose'](_0x342952['body']);let _0x1a86a9=await this[_0x149d9e(0x704)]({'request':_0x342952,'schema':E,'ClassRef':M,'execute':_0x43e8b3=>_[_0x149d9e(0x590)](_0x43e8b3,_0x4452ba)});_0x5c4b9e[_0x149d9e(0x284)](0xc8)[_0x149d9e(0x200)](_0x1a86a9);})[_0x52de9b(0x77b)](this['routerPath'](_0x52de9b(0x32b)),..._0x188246,async(_0x36244a,_0x47c186)=>{const _0x5768dd=_0x52de9b;let _0x565460=_0x36244a['body'];y[_0x5768dd(0x69d)](_0x5768dd(0x3ea)),y[_0x5768dd(0x69d)](_0x5768dd(0x31a)),y[_0x5768dd(0x69d)](_0x36244a[_0x5768dd(0x59e)]);let _0x172a4b=await this[_0x5768dd(0x704)]({'request':_0x36244a,'schema':E,'ClassRef':M,'execute':_0x4151f0=>_['updateCustomFields'](_0x4151f0,_0x565460)});_0x47c186[_0x5768dd(0x284)](0xc8)[_0x5768dd(0x200)](_0x172a4b);})[_0x52de9b(0x77b)](this['routerPath'](_0x52de9b(0x450)),..._0x188246,async(_0x2eab7d,_0xdbab57)=>{const _0x5418be=_0x52de9b;let _0x177286=_0x2eab7d[_0x5418be(0x59e)];y[_0x5418be(0x69d)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x5418be(0x69d)](_0x5418be(0x31a)),y[_0x5418be(0x69d)](_0x2eab7d[_0x5418be(0x59e)]);let _0x297f53=await this[_0x5418be(0x704)]({'request':_0x2eab7d,'schema':E,'ClassRef':M,'execute':_0x526821=>_[_0x5418be(0x450)](_0x526821,_0x177286)});_0xdbab57[_0x5418be(0x284)](0xc8)[_0x5418be(0x200)](_0x297f53);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x2b0)),..._0x188246,async(_0x302dc9,_0x48dceb)=>{const _0x5b532e=_0x52de9b;let _0x190022=_0x302dc9[_0x5b532e(0x59e)];y[_0x5b532e(0x69d)](_0x5b532e(0x82f)),y[_0x5b532e(0x69d)](_0x5b532e(0x31a)),y[_0x5b532e(0x69d)](_0x302dc9[_0x5b532e(0x59e)]);let _0x806ab5=await this[_0x5b532e(0x704)]({'request':_0x302dc9,'schema':E,'ClassRef':M,'execute':_0x3b765e=>_[_0x5b532e(0x2b0)](_0x3b765e,_0x190022)});_0x48dceb['status'](0xc8)[_0x5b532e(0x200)](_0x806ab5);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x5a7)),..._0x188246,async(_0x3e97eb,_0x3c2b52)=>{const _0x2a7c19=_0x52de9b;let _0x27d05f=_0x3e97eb[_0x2a7c19(0x59e)];y[_0x2a7c19(0x69d)](_0x2a7c19(0x6c4)),y[_0x2a7c19(0x69d)](_0x2a7c19(0x31a)),y[_0x2a7c19(0x69d)](_0x3e97eb[_0x2a7c19(0x59e)]);let _0x3c1ac6=await this[_0x2a7c19(0x704)]({'request':_0x3e97eb,'schema':E,'ClassRef':M,'execute':_0x59044b=>_[_0x2a7c19(0x5a7)](_0x59044b,_0x27d05f)});_0x3c2b52[_0x2a7c19(0x284)](0xc8)[_0x2a7c19(0x200)](_0x3c1ac6);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x91b)),..._0x188246,async(_0x121115,_0xcace2e)=>{const _0x5e266b=_0x52de9b;let _0x260c24=_0x121115[_0x5e266b(0x59e)];y['verbose'](_0x5e266b(0x7d3)),y[_0x5e266b(0x69d)](_0x5e266b(0x31a)),y[_0x5e266b(0x69d)](_0x121115[_0x5e266b(0x59e)]);let _0x452330=await this['dataValidate']({'request':_0x121115,'schema':E,'ClassRef':M,'execute':_0x538aeb=>_[_0x5e266b(0x91b)](_0x538aeb,_0x260c24)});_0xcace2e[_0x5e266b(0x284)](0xc8)[_0x5e266b(0x200)](_0x452330);})[_0x52de9b(0x77b)](this['routerPath'](_0x52de9b(0x913)),..._0x188246,async(_0xd8ea19,_0x376eac)=>{const _0x52c30d=_0x52de9b;let _0x2d22a5=_0xd8ea19[_0x52c30d(0x59e)];y[_0x52c30d(0x69d)]('request\x20received\x20in\x20editConversation'),y[_0x52c30d(0x69d)](_0x52c30d(0x31a)),y[_0x52c30d(0x69d)](_0xd8ea19[_0x52c30d(0x59e)]);let _0x378abc=await this[_0x52c30d(0x704)]({'request':_0xd8ea19,'schema':E,'ClassRef':M,'execute':_0x434e7d=>_[_0x52c30d(0x913)](_0x434e7d,_0x2d22a5)});_0x376eac[_0x52c30d(0x284)](0xc8)[_0x52c30d(0x200)](_0x378abc);})[_0x52de9b(0x5e2)](this[_0x52de9b(0x573)]('deleteConversation'),..._0x188246,async(_0x8cf830,_0x4b8a0e)=>{const _0x1dfe0d=_0x52de9b;let _0x33ecf6=_0x8cf830['body'];y['verbose'](_0x1dfe0d(0x5b4)),y['verbose'](_0x1dfe0d(0x31a)),y[_0x1dfe0d(0x69d)](_0x8cf830[_0x1dfe0d(0x59e)]);let _0x11cb51=await this[_0x1dfe0d(0x704)]({'request':_0x8cf830,'schema':E,'ClassRef':M,'execute':_0x40e4c8=>_['deleteConversation'](_0x40e4c8,_0x33ecf6)});_0x4b8a0e[_0x1dfe0d(0x284)](0xc8)['json'](_0x11cb51);})['post'](this[_0x52de9b(0x573)](_0x52de9b(0x85a)),..._0x188246,async(_0x1aaf57,_0x4b6190)=>{const _0x28b0c1=_0x52de9b;let _0x4b75eb=_0x1aaf57[_0x28b0c1(0x59e)],_0x56fa53=_0x1aaf57[_0x28b0c1(0x77c)][_0x28b0c1(0x37d)];y[_0x28b0c1(0x69d)]('request\x20received\x20in\x20createFlow'),y['verbose'](_0x28b0c1(0x31a)),y['verbose'](_0x1aaf57[_0x28b0c1(0x59e)]);let _0x160e98=await this['dataValidate']({'request':_0x1aaf57,'schema':E,'ClassRef':M,'execute':_0x15689d=>_[_0x28b0c1(0x1d6)](_0x15689d,_0x4b75eb,_0x56fa53)});_0x4b6190[_0x28b0c1(0x284)](0xc8)[_0x28b0c1(0x200)](_0x160e98);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)]('editflow'),..._0x188246,async(_0x3be636,_0x4632ca)=>{const _0x1d8ad7=_0x52de9b;let _0x3530a1=_0x3be636[_0x1d8ad7(0x59e)],_0x301213=_0x3be636[_0x1d8ad7(0x77c)][_0x1d8ad7(0x37d)];y[_0x1d8ad7(0x69d)](_0x1d8ad7(0x6b3)),y[_0x1d8ad7(0x69d)](_0x1d8ad7(0x31a)),y['verbose'](_0x3be636[_0x1d8ad7(0x59e)]),delete _0x3530a1[_0x1d8ad7(0x44c)],delete _0x3530a1[_0x1d8ad7(0x652)],delete _0x3530a1['groups'],delete _0x3530a1[_0x1d8ad7(0x851)];let _0x26f801=await this[_0x1d8ad7(0x704)]({'request':_0x3be636,'schema':E,'ClassRef':M,'execute':_0x36f5ef=>_[_0x1d8ad7(0x661)](_0x36f5ef,_0x3530a1,_0x301213)});_0x4632ca[_0x1d8ad7(0x284)](0xc8)[_0x1d8ad7(0x200)](_0x26f801);})['post'](this['routerPath'](_0x52de9b(0x818)),..._0x188246,async(_0x45097b,_0x416af0)=>{const _0x69e3c9=_0x52de9b;let _0x36d475=_0x45097b['body'];y[_0x69e3c9(0x69d)](_0x69e3c9(0x6b3)),y[_0x69e3c9(0x69d)](_0x69e3c9(0x31a)),y[_0x69e3c9(0x69d)](_0x45097b[_0x69e3c9(0x59e)]);let _0x2abd95=await this['dataValidate']({'request':_0x45097b,'schema':E,'ClassRef':M,'execute':_0x5b87ba=>_[_0x69e3c9(0x24b)](_0x5b87ba,_0x36d475)});_0x416af0['status'](0xc8)['json'](_0x2abd95);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x47b)),..._0x188246,async(_0x56046f,_0x42ee2c)=>{const _0x16c66a=_0x52de9b;let _0x540287=_0x56046f[_0x16c66a(0x59e)];y['verbose'](_0x16c66a(0x6b3)),y['verbose'](_0x16c66a(0x31a)),y['verbose'](_0x56046f[_0x16c66a(0x59e)]);let _0x412aa9=await this[_0x16c66a(0x704)]({'request':_0x56046f,'schema':E,'ClassRef':M,'execute':_0x18e616=>_[_0x16c66a(0x255)](_0x18e616,_0x540287)});_0x42ee2c['status'](0xc8)[_0x16c66a(0x200)](_0x412aa9);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x18e)),..._0x188246,async(_0x5e4690,_0x522910)=>{const _0x56a6db=_0x52de9b;let _0x1e767b=_0x5e4690[_0x56a6db(0x59e)];y[_0x56a6db(0x69d)](_0x56a6db(0x6b3)),y[_0x56a6db(0x69d)](_0x56a6db(0x31a)),y[_0x56a6db(0x69d)](_0x5e4690['body']);let _0x5f04fa=await this['dataValidate']({'request':_0x5e4690,'schema':E,'ClassRef':M,'execute':_0x26f818=>_[_0x56a6db(0x52d)](_0x26f818,_0x1e767b)});_0x522910[_0x56a6db(0x284)](0xc8)[_0x56a6db(0x200)](_0x5f04fa);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x403)),..._0x188246,async(_0x55db98,_0x40a729)=>{const _0x463dd0=_0x52de9b;let _0x56fd34=_0x55db98[_0x463dd0(0x59e)];y[_0x463dd0(0x69d)](_0x463dd0(0x366)),y[_0x463dd0(0x69d)]('request\x20body:\x20'),y[_0x463dd0(0x69d)](_0x55db98[_0x463dd0(0x59e)]);let _0x4016fa=await this['dataValidate']({'request':_0x55db98,'schema':E,'ClassRef':M,'execute':_0x576394=>_['editFlowGroup'](_0x576394,_0x56fd34)});_0x40a729[_0x463dd0(0x284)](0xc8)[_0x463dd0(0x200)](_0x4016fa);})[_0x52de9b(0x77b)](this['routerPath'](_0x52de9b(0x670)),..._0x188246,async(_0x5f34f9,_0x1078bb)=>{const _0x2a1810=_0x52de9b;let _0x2f778e=_0x5f34f9[_0x2a1810(0x59e)];y[_0x2a1810(0x69d)](_0x2a1810(0x581)),y[_0x2a1810(0x69d)](_0x2a1810(0x31a)),y[_0x2a1810(0x69d)](_0x5f34f9['body']);let _0x33ade8=await this[_0x2a1810(0x704)]({'request':_0x5f34f9,'schema':E,'ClassRef':M,'execute':_0x109069=>_[_0x2a1810(0x4f9)](_0x109069,_0x2f778e)});_0x1078bb[_0x2a1810(0x284)](0xc8)['json'](_0x33ade8);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x66a)),..._0x188246,async(_0x39ac1d,_0x144ca2)=>{const _0x1e1bc7=_0x52de9b;let _0x3c7b93=_0x39ac1d[_0x1e1bc7(0x59e)];y[_0x1e1bc7(0x69d)](_0x1e1bc7(0x884)),y['verbose'](_0x1e1bc7(0x31a)),y[_0x1e1bc7(0x69d)](_0x39ac1d[_0x1e1bc7(0x59e)]);let _0x1c0253=await this[_0x1e1bc7(0x704)]({'request':_0x39ac1d,'schema':E,'ClassRef':M,'execute':_0x453738=>_['editFlowVariable'](_0x453738,_0x3c7b93)});_0x144ca2[_0x1e1bc7(0x284)](0xc8)[_0x1e1bc7(0x200)](_0x1c0253);})[_0x52de9b(0x77b)](this[_0x52de9b(0x573)](_0x52de9b(0x204)),..._0x188246,async(_0x5b0bc4,_0x417c93)=>{const _0x35824f=_0x52de9b;let _0x16fcb6=_0x5b0bc4['body'];y[_0x35824f(0x69d)](_0x35824f(0x6bf)),y['verbose'](_0x35824f(0x31a)),y[_0x35824f(0x69d)](_0x5b0bc4['body']);let _0x3b57ad=await this['dataValidate']({'request':_0x5b0bc4,'schema':E,'ClassRef':M,'execute':_0x276041=>_[_0x35824f(0x8cc)](_0x276041,_0x16fcb6)});_0x417c93[_0x35824f(0x284)](0xc8)[_0x35824f(0x200)](_0x3b57ad);})[_0x52de9b(0x5e2)](this[_0x52de9b(0x573)]('deleteflow'),..._0x188246,async(_0x27029a,_0x1b6a96)=>{const _0x3790a4=_0x52de9b;let _0x240146=_0x27029a[_0x3790a4(0x59e)];y['verbose'](_0x3790a4(0x1c7)),y[_0x3790a4(0x69d)](_0x3790a4(0x31a)),y[_0x3790a4(0x69d)](_0x27029a['body']);let _0x292c87=await this['dataValidate']({'request':_0x27029a,'schema':E,'ClassRef':M,'execute':_0x274a96=>_[_0x3790a4(0x2ab)](_0x274a96,_0x240146)});_0x1b6a96['status'](0xc8)[_0x3790a4(0x200)](_0x292c87);})['get'](this[_0x52de9b(0x573)](_0x52de9b(0x518)),..._0x188246,async(_0x154302,_0x5b7a8f)=>{const _0x3fab80=_0x52de9b;y[_0x3fab80(0x69d)](_0x3fab80(0x26e));let _0x20b538=await this['dataValidate']({'request':_0x154302,'schema':E,'ClassRef':M,'execute':_0xc591c6=>_[_0x3fab80(0x1e2)](_0xc591c6)});_0x5b7a8f['status'](0xc8)[_0x3fab80(0x200)](_0x20b538);});}},$i=I(require(a0_0x26c870(0x847))),te={};function vi(_0x357980,_0x48fd75,_0x14a8d7,_0x30e9e4){te[_0x357980]||(te[_0x357980]={}),te[_0x357980][_0x48fd75]={'id':_0x48fd75,'response':_0x14a8d7,'events':_0x30e9e4};}function Ei(_0x302c23,_0x5ff08f){!te[_0x302c23]||!te[_0x302c23][_0x5ff08f]||delete te[_0x302c23][_0x5ff08f];}function F(_0x387a42,_0x410e18,_0x59e0c6){const _0x207b3b=a0_0x26c870;if(!te[_0x387a42])return;let _0x117176=_0x207b3b(0x837)+JSON[_0x207b3b(0x2c2)](_0x59e0c6)+'\x0a\x0a';Object[_0x207b3b(0x800)](te[_0x387a42])[_0x207b3b(0x526)](_0x451f11=>{const _0x57d36e=_0x207b3b;_0x451f11[_0x57d36e(0x1b0)]['includes'](_0x410e18)&&_0x451f11[_0x57d36e(0x591)][_0x57d36e(0x226)](_0x117176);});}function Ni(){const _0x102556=a0_0x26c870;let _0x343631={};for(let _0x40e149 in te)_0x343631[_0x40e149]=Object['values'](te[_0x40e149])[_0x102556(0x27c)](_0x5ddec6=>({'id':_0x5ddec6['id'],'events':_0x5ddec6[_0x102556(0x1b0)]}));return _0x343631;}var Ri=require(a0_0x26c870(0x90a)),Ps=require('mongoose'),xs=class{},Oo=new Ps['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),xo=new Ps['Schema']({'_id':{'type':String,'default':a0_0x26c870(0x1ab)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=T?.['model'](xs[a0_0x26c870(0x5fa)],xo,a0_0x26c870(0x2d0)),Po=$i[a0_0x26c870(0x595)][a0_0x26c870(0x5ba)](__dirname,a0_0x26c870(0x506)),Ue=(0x0,kt[a0_0x26c870(0x81b)])(),Do=S[a0_0x26c870(0x2c9)]('AUTHENTICATION')[a0_0x26c870(0x93f)],oe=[xa,Pa,La[Do]];Ue['use'](a0_0x26c870(0x36f),kt['default'][a0_0x26c870(0x275)](Po))[a0_0x26c870(0x2c9)](a0_0x26c870(0x930),async(_0x3933b1,_0x498251)=>{const _0x44bf21=a0_0x26c870;console['log'](_0x44bf21(0x8e5));let _0x54a1a2=_0x3933b1[_0x44bf21(0x94d)]['instance'],_0x618afb=(_0x3933b1[_0x44bf21(0x32f)][_0x44bf21(0x1b0)]||'')[_0x44bf21(0x4c5)](','),_0x587121=(0x0,Ri['v4'])();console[_0x44bf21(0x323)](_0x44bf21(0x7a2),_0x54a1a2),console[_0x44bf21(0x323)](_0x44bf21(0x47a),_0x618afb);let _0x37264b=S[_0x44bf21(0x2c9)]('AUTHENTICATION')[_0x44bf21(0x569)],_0x192c2c=_0x3933b1[_0x44bf21(0x32f)][_0x44bf21(0x37d)];if(console[_0x44bf21(0x323)](_0x44bf21(0x734),_0x192c2c),_0x37264b[_0x44bf21(0x26f)]!==_0x192c2c){console['log'](_0x44bf21(0x2ec));try{let _0xc25140=await we[_0x44bf21(0x86f)][_0x44bf21(0x82c)](_0x54a1a2);if(console['log']('Instance\x20Key\x20from\x20DB:',_0xc25140),!_0xc25140||_0xc25140['apikey']!==_0x192c2c)return console[_0x44bf21(0x323)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x498251[_0x44bf21(0x284)](0x191)[_0x44bf21(0x5bf)](_0x44bf21(0x5e0));}catch(_0x4a07ed){return console[_0x44bf21(0x7ba)](_0x44bf21(0x640),_0x4a07ed),_0x498251[_0x44bf21(0x284)](0x191)[_0x44bf21(0x5bf)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Pe(_0x54a1a2))return _0x498251[_0x44bf21(0x284)](0x194)[_0x44bf21(0x5bf)](_0x44bf21(0x4f3));_0x498251['setHeader'](_0x44bf21(0x5c7),'text/event-stream'),_0x498251[_0x44bf21(0x938)](_0x44bf21(0x464),_0x44bf21(0x286)),_0x498251[_0x44bf21(0x938)](_0x44bf21(0x87c),_0x44bf21(0x55d)),_0x498251['flushHeaders']();let _0x3122e5=_0x44bf21(0x837)+JSON[_0x44bf21(0x2c2)]({'info':_0x44bf21(0x3d5)})+'\x0a\x0a';_0x498251[_0x44bf21(0x226)](_0x3122e5),vi(_0x54a1a2,_0x587121,_0x498251,_0x618afb),_0x3933b1['on'](_0x44bf21(0x73a),()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x54a1a2),Ei(_0x54a1a2,_0x587121);});}),Ue['post'](a0_0x26c870(0x669),async(_0xf6ed17,_0x2fc13a)=>{const _0x4b60d1=a0_0x26c870;console[_0x4b60d1(0x323)](_0x4b60d1(0x8ff));let _0x56446d=_0xf6ed17['params']['instance'],_0x58a083=_0xf6ed17[_0x4b60d1(0x94d)][_0x4b60d1(0x82b)],_0xd4c9af=_0xf6ed17[_0x4b60d1(0x32f)][_0x4b60d1(0x489)]||'',_0x16cb69=_0xf6ed17['body'];console[_0x4b60d1(0x323)]('Instance\x20Name:',_0x56446d),console[_0x4b60d1(0x323)](_0x4b60d1(0x646),_0x58a083),console['log'](_0x4b60d1(0x370),_0xd4c9af),console[_0x4b60d1(0x323)](_0x4b60d1(0x72d),_0x16cb69);try{if(!await Pe(_0x56446d))return _0x2fc13a[_0x4b60d1(0x284)](0x194)[_0x4b60d1(0x5bf)](_0x4b60d1(0x4f3));let _0x143afb=await _[_0x4b60d1(0x7ce)](_0x56446d,_0x58a083,_0xd4c9af,_0x16cb69);_0x2fc13a[_0x4b60d1(0x5bf)](_0x143afb);}catch(_0x3d18b5){console[_0x4b60d1(0x7ba)](_0x3d18b5),_0x2fc13a[_0x4b60d1(0x284)](0x1f4)[_0x4b60d1(0x5bf)](_0x4b60d1(0x7ae));}}),Ue[a0_0x26c870(0x2c9)](a0_0x26c870(0x731),(_0xc4d995,_0x4785c8)=>{const _0x3054e5=a0_0x26c870;let _0x19679f=Ni();_0x4785c8[_0x3054e5(0x200)](_0x19679f);})[a0_0x26c870(0x2c9)]('/',(_0x3bdac4,_0x2a6292)=>{const _0x2d5e46=a0_0x26c870;let _0x2a4e7b=S[_0x2d5e46(0x2c9)](_0x2d5e46(0x3e1))[_0x2d5e46(0x662)];if(_0x2a4e7b){let _0x335e4d=encodeURIComponent(''+_0x2a4e7b);_0x2a6292[_0x2d5e46(0x94c)](_0x2d5e46(0x5a4)+_0x335e4d);return;}let _0x1e9401=S[_0x2d5e46(0x2c9)](_0x2d5e46(0x93e)),_0x427c1a=_0x1e9401&&_0x1e9401[_0x2d5e46(0x224)][_0x2d5e46(0x4c5)]('/')[0x4];if(_0x427c1a){let _0x2bbcc5=encodeURIComponent(_0x2d5e46(0x8c0)+_0x427c1a);_0x2a6292[_0x2d5e46(0x94c)](_0x2d5e46(0x5a4)+_0x2bbcc5);}else _0x2a6292['redirect'](_0x2d5e46(0x270));})[a0_0x26c870(0x7ee)]('/exit',...oe,async(_0x2c3734,_0x2910f1)=>{const _0x3baa1a=a0_0x26c870;try{console[_0x3baa1a(0x323)](_0x3baa1a(0x59f)),_0x2910f1[_0x3baa1a(0x284)](0xc8)[_0x3baa1a(0x200)]({'message':_0x3baa1a(0x3e0)}),_0x2910f1['on'](_0x3baa1a(0x419),()=>process['exit'](0x0));}catch(_0x4d793d){console[_0x3baa1a(0x7ba)](_0x3baa1a(0x21b),_0x4d793d),_0x2910f1[_0x3baa1a(0x284)](0x1f4)[_0x3baa1a(0x200)]({'message':_0x3baa1a(0x593)});}})[a0_0x26c870(0x7ee)](a0_0x26c870(0x7f1),...oe,async(_0x4f0693,_0x3a9c5a)=>{const _0x580adc=a0_0x26c870;try{let _0x3c18b3=_0x4f0693[_0x580adc(0x59e)];await Ne[_0x580adc(0x5f5)]({},{'$set':_0x3c18b3},{'upsert':!0x0});let _0x2e9fff=await Ne[_0x580adc(0x74c)]();_0x3a9c5a[_0x580adc(0x200)](_0x2e9fff);}catch(_0x2f5456){_0x3a9c5a[_0x580adc(0x284)](0x190)[_0x580adc(0x5bf)](_0x2f5456['message']);}})[a0_0x26c870(0x2c9)](a0_0x26c870(0x7f1),...oe,async(_0x2090fd,_0x2f0e9a)=>{const _0x362ae6=a0_0x26c870;try{let _0x3fa3a2=await Ne[_0x362ae6(0x74c)]();if(!_0x3fa3a2)return _0x2f0e9a[_0x362ae6(0x200)]({});_0x2f0e9a[_0x362ae6(0x200)](_0x3fa3a2);}catch(_0x2b2fe6){_0x2f0e9a[_0x362ae6(0x284)](0x1f4)[_0x362ae6(0x5bf)](_0x2b2fe6['message']);}})['use'](a0_0x26c870(0x66d),new Ct(S,...oe)[a0_0x26c870(0x868)])[a0_0x26c870(0x524)](a0_0x26c870(0x2c7),new Ot(...oe)[a0_0x26c870(0x868)])[a0_0x26c870(0x524)](a0_0x26c870(0x253),new pt(...oe)[a0_0x26c870(0x868)])[a0_0x26c870(0x524)](a0_0x26c870(0x849),new Mt(...oe)[a0_0x26c870(0x868)])[a0_0x26c870(0x524)](a0_0x26c870(0x63e),new Pt(...oe)[a0_0x26c870(0x868)])[a0_0x26c870(0x524)]('/automate',new Dt(...oe)['router']);var m=class{constructor(..._0x3309c1){const _0x10036e=a0_0x26c870;throw{'status':0x190,'error':_0x10036e(0x4c7),'message':_0x3309c1[_0x10036e(0x2df)]>0x0?_0x3309c1:void 0x0};}},ae=class{constructor(..._0x26e3cf){const _0x592621=a0_0x26c870;throw{'status':0x191,'error':_0x592621(0x4de),'message':_0x26e3cf[_0x592621(0x2df)]>0x0?_0x26e3cf:void 0x0};}},X=class{constructor(..._0x450fa2){const _0x4e5b8a=a0_0x26c870;throw{'status':0x193,'error':'Forbidden','message':_0x450fa2[_0x4e5b8a(0x2df)]>0x0?_0x450fa2:void 0x0};}},U=class{constructor(..._0x242ab8){const _0x43d552=a0_0x26c870;throw{'status':0x194,'error':_0x43d552(0x8d9),'message':_0x242ab8[_0x43d552(0x2df)]>0x0?_0x242ab8:void 0x0};}},x=class{constructor(..._0x259493){const _0x307303=a0_0x26c870;throw{'status':0x1f4,'error':_0x307303(0x845),'message':_0x259493[_0x307303(0x2df)]>0x0?_0x259493:void 0x0};}},ye=require(a0_0x26c870(0x92a));async function Ds(_0x4bb2fe){const _0x3640e8=a0_0x26c870;let _0x582dc9=new $(Ds[_0x3640e8(0x5fa)]),_0x189e00=T[_0x3640e8(0x732)](),_0x1cb75d=_0x189e00['db'](S['get']('DATABASE')[_0x3640e8(0x89c)][_0x3640e8(0x34b)]+'-instances')[_0x3640e8(0x84f)](_0x4bb2fe),_0x226031=async(_0x3b34ef,_0x5b70c4)=>{const _0x55d55a=_0x3640e8;try{return await _0x189e00['connect'](),await _0x1cb75d['replaceOne']({'_id':_0x5b70c4},JSON[_0x55d55a(0x199)](JSON[_0x55d55a(0x2c2)](_0x3b34ef,ye[_0x55d55a(0x61c)][_0x55d55a(0x927)])),{'upsert':!0x0});}catch{}},_0x48c24a=async _0x3822d3=>{const _0x2274ba=_0x3640e8;try{await _0x189e00[_0x2274ba(0x304)]();let _0x48e5b7=await _0x1cb75d[_0x2274ba(0x74c)]({'_id':_0x3822d3}),_0x4bd20a=JSON[_0x2274ba(0x2c2)](_0x48e5b7);return JSON[_0x2274ba(0x199)](_0x4bd20a,ye[_0x2274ba(0x61c)]['reviver']);}catch{}},_0x1f4be1=async _0x40ac59=>{const _0x329174=_0x3640e8;try{return await _0x189e00['connect'](),await _0x1cb75d[_0x329174(0x4da)]({'_id':_0x40ac59});}catch{}},_0x43308d=await _0x48c24a(_0x3640e8(0x87a))||(0x0,ye[_0x3640e8(0x76d)])();return{'state':{'creds':_0x43308d,'keys':{'get':async(_0x36d492,_0x12f6f6)=>{const _0x5e4ae1=_0x3640e8;let _0x4be352={};return await Promise[_0x5e4ae1(0x552)](_0x12f6f6[_0x5e4ae1(0x27c)](async _0x2d8a=>{const _0x3130b3=_0x5e4ae1;let _0x447595=await _0x48c24a(_0x36d492+'-'+_0x2d8a);_0x36d492===_0x3130b3(0x19b)&&_0x447595&&(_0x447595=ye['proto'][_0x3130b3(0x7df)][_0x3130b3(0x453)][_0x3130b3(0x1a1)](_0x447595)),_0x4be352[_0x2d8a]=_0x447595;})),_0x4be352;},'set':async _0x404ba6=>{const _0x3fb5f8=_0x3640e8;let _0x9adf1c=[];for(let _0x59b1e6 in _0x404ba6)for(let _0x4d74df in _0x404ba6[_0x59b1e6]){let _0x7a349b=_0x404ba6[_0x59b1e6][_0x4d74df],_0x24f63a=_0x59b1e6+'-'+_0x4d74df;_0x9adf1c[_0x3fb5f8(0x48e)](_0x7a349b?_0x226031(_0x7a349b,_0x24f63a):_0x1f4be1(_0x24f63a));}await Promise[_0x3fb5f8(0x552)](_0x9adf1c);}}},'saveCreds':async()=>_0x226031(_0x43308d,_0x3640e8(0x87a))};}var Js=I(require('long')),qs=I(require('node-cache')),Ut=require(a0_0x26c870(0x92a)),Ai=require(a0_0x26c870(0x511)),Ft=require(a0_0x26c870(0x92a)),Lt;function ko(_0x5261a1){const _0x505a61=a0_0x26c870;return Lt||(Lt=(0x0,Ai[_0x505a61(0x271)])({'url':_0x5261a1[_0x505a61(0x562)]}),Lt['connect']()),Lt;}var de=class l{constructor(_0x11fee6,_0x584bef){const _0x111883=a0_0x26c870;this[_0x111883(0x29a)]=_0x11fee6,this[_0x111883(0x24d)]=_0x584bef,this[_0x111883(0x263)]=new $(l[_0x111883(0x5fa)]),this[_0x111883(0x5e8)]=ko(_0x11fee6);}set[a0_0x26c870(0x1bf)](_0x319699){const _0x330903=a0_0x26c870;this[_0x330903(0x24d)]=_0x319699;}async[a0_0x26c870(0x6bc)](){const _0x2997f0=a0_0x26c870;try{return await this['client'][_0x2997f0(0x1cd)]([_0x2997f0(0x2ef),this[_0x2997f0(0x29a)]['PREFIX_KEY']+':*']);}catch(_0x157935){this[_0x2997f0(0x263)][_0x2997f0(0x7ba)](_0x157935);}}async['writeData'](_0x2dad82,_0x336a68){const _0x46f0aa=a0_0x26c870;try{let _0x6b8df2=JSON[_0x46f0aa(0x2c2)](_0x336a68,Ft['BufferJSON'][_0x46f0aa(0x927)]);return await this[_0x46f0aa(0x5e8)][_0x46f0aa(0x535)](this['redisEnv'][_0x46f0aa(0x76b)]+':'+this['instanceName'],_0x2dad82,_0x6b8df2);}catch(_0x193d3e){this[_0x46f0aa(0x263)]['error'](_0x193d3e);}}async['getAllData'](){const _0x369d70=a0_0x26c870;try{let _0x546156=await this['client'][_0x369d70(0x762)](this[_0x369d70(0x29a)][_0x369d70(0x76b)]+':'+this[_0x369d70(0x24d)]);if(_0x546156){for(let _0x427fdd in _0x546156)Object[_0x369d70(0x4fc)][_0x369d70(0x216)]['call'](_0x546156,_0x427fdd)&&(_0x546156[_0x427fdd]=JSON[_0x369d70(0x199)](_0x546156[_0x427fdd],Ft['BufferJSON']['reviver']));return _0x546156;}}catch(_0x5a08fc){this[_0x369d70(0x263)][_0x369d70(0x7ba)](_0x5a08fc);}}async[a0_0x26c870(0x202)](_0x1800eb){const _0x318a68=a0_0x26c870;try{let _0x777f49=await this[_0x318a68(0x5e8)][_0x318a68(0x894)](this[_0x318a68(0x29a)][_0x318a68(0x76b)]+':'+this[_0x318a68(0x24d)],_0x1800eb);if(_0x777f49)return JSON[_0x318a68(0x199)](_0x777f49,Ft['BufferJSON'][_0x318a68(0x784)]);}catch(_0x24cf47){this['logger']['error'](_0x24cf47);}}async[a0_0x26c870(0x8be)](_0x5913e2){const _0x4a26ae=a0_0x26c870;try{return await this[_0x4a26ae(0x5e8)][_0x4a26ae(0x767)](this['redisEnv']['PREFIX_KEY']+':'+this['instanceName'],_0x5913e2);}catch(_0x355db2){this[_0x4a26ae(0x263)][_0x4a26ae(0x7ba)](_0x355db2);}}async[a0_0x26c870(0x412)](_0xf60f4a){const _0x1fa7dd=a0_0x26c870;try{return await this[_0x1fa7dd(0x5e8)][_0x1fa7dd(0x38c)](_0xf60f4a||this[_0x1fa7dd(0x29a)][_0x1fa7dd(0x76b)]+':'+this[_0x1fa7dd(0x24d)]);}catch(_0x386939){this[_0x1fa7dd(0x263)][_0x1fa7dd(0x7ba)](_0x386939);}}};async function ks(_0x4e6e93,_0x16799f){const _0x2c9ce1=a0_0x26c870;let _0x4f4e4a=new $(ks['name']),_0x5289df=new de(_0x4e6e93,_0x16799f),_0x645c28=async(_0x16e144,_0x3a5aa2)=>{const _0x18f6be=a0_0x4486;try{return await _0x5289df[_0x18f6be(0x666)](_0x3a5aa2,_0x16e144);}catch(_0x355f3b){return _0x4f4e4a['error']({'localError':_0x18f6be(0x666),'error':_0x355f3b});}},_0x11eaac=async _0x48bed1=>{const _0x230521=a0_0x4486;try{return await _0x5289df[_0x230521(0x202)](_0x48bed1);}catch(_0xe3ffe5){_0x4f4e4a[_0x230521(0x7ba)]({'readData':_0x230521(0x666),'error':_0xe3ffe5});return;}},_0x30543e=async _0x4db340=>{const _0x720da7=a0_0x4486;try{return await _0x5289df['removeData'](_0x4db340);}catch(_0x171821){_0x4f4e4a[_0x720da7(0x7ba)]({'readData':'removeData','error':_0x171821});}},_0x472651=await _0x11eaac(_0x2c9ce1(0x87a))||(0x0,Ut['initAuthCreds'])();return{'state':{'creds':_0x472651,'keys':{'get':async(_0x3388b4,_0x3e0ae7)=>{let _0x319188={};return await Promise['all'](_0x3e0ae7['map'](async _0x573338=>{const _0x161698=a0_0x4486;let _0xb91bfc=await _0x11eaac(_0x3388b4+'-'+_0x573338);_0x3388b4===_0x161698(0x19b)&&_0xb91bfc&&(_0xb91bfc=Ut[_0x161698(0x880)][_0x161698(0x7df)][_0x161698(0x453)][_0x161698(0x1a1)](_0xb91bfc)),_0x319188[_0x573338]=_0xb91bfc;})),_0x319188;},'set':async _0x131cfb=>{const _0x4e0494=_0x2c9ce1;let _0x1b6351=[];for(let _0x249cbb in _0x131cfb)for(let _0x3e4334 in _0x131cfb[_0x249cbb]){let _0x406cbf=_0x131cfb[_0x249cbb][_0x3e4334],_0x29eacd=_0x249cbb+'-'+_0x3e4334;_0x1b6351[_0x4e0494(0x48e)](_0x406cbf?await _0x645c28(_0x406cbf,_0x29eacd):await _0x30543e(_0x29eacd));}await Promise[_0x4e0494(0x552)](_0x1b6351);}}},'saveCreds':async()=>await _0x645c28(_0x472651,_0x2c9ce1(0x87a))};}var k=I(require('fs')),Q=require(a0_0x26c870(0x90a)),qt=I(require(a0_0x26c870(0x8f6))),re=require(a0_0x26c870(0x692)),Ti=require(a0_0x26c870(0x47d)),Ii=require(a0_0x26c870(0x737)),_i=I(require(a0_0x26c870(0x799))),$e=class extends O{constructor(_0x27a166,_0x3c24b3,_0x1861b1){const _0x8c199f=a0_0x26c870;super(_0x3c24b3),this[_0x8c199f(0x766)]=_0x27a166,this['configService']=_0x3c24b3,this[_0x8c199f(0x490)]=_0x1861b1;}async[a0_0x26c870(0x742)](_0x55e081,_0x26a98d){const _0x3a770d=a0_0x26c870;try{if(this[_0x3a770d(0x512)]['ENABLED']){console[_0x3a770d(0x323)](_0x3a770d(0x2da)+_0x26a98d+_0x3a770d(0x3f1),_0x55e081);let _0x39ad57=await this[_0x3a770d(0x766)][_0x3a770d(0x1cc)]({'_id':_0x26a98d},{'$set':_0x55e081},{'new':!0x0,'upsert':!0x0});return console[_0x3a770d(0x323)](_0x3a770d(0x58b),_0x39ad57),_0x39ad57;}}catch(_0xdd2d98){throw console[_0x3a770d(0x7ba)](_0x3a770d(0x1fa),_0xdd2d98),_0xdd2d98;}return null;}async[a0_0x26c870(0x4da)](_0x549889){const _0x19c531=a0_0x26c870;try{let _0x41f20c=A(_0x549889[_0x19c531(0x22c)]);return{'deletedCount':(await this[_0x19c531(0x766)][_0x19c531(0x4da)](_0x41f20c))[_0x19c531(0x882)]};}catch(_0x5dceed){return{'error':_0x5dceed?.[_0x19c531(0x58a)]()};}}async['findOne'](_0x43a8a5){const _0x247c28=a0_0x26c870;try{let _0x5127d7=A(_0x43a8a5[_0x247c28(0x22c)]);return await this[_0x247c28(0x766)][_0x247c28(0x74c)](_0x5127d7)[_0x247c28(0x480)]();}catch{return null;}}},Re=(0x0,Ii[a0_0x26c870(0x57d)])(Ti['exec']),Ls=0x1f4,Lo=S[a0_0x26c870(0x2c9)](a0_0x26c870(0x820)),Fs=class{constructor(){const _0x1b3bda=a0_0x26c870;this[_0x1b3bda(0x222)]=new $e(Ke,S),(!this[_0x1b3bda(0x338)]||!this[_0x1b3bda(0x785)])&&Lo&&this[_0x1b3bda(0x6a9)]()[_0x1b3bda(0x598)](async()=>{const _0x5eff74=_0x1b3bda;console['log'](_0x5eff74(0x846)+this[_0x5eff74(0x338)]),console[_0x5eff74(0x323)](_0x5eff74(0x269)+this[_0x5eff74(0x785)]),await this['cleanupExcessiveIPs']();let _0x28a20e=await this[_0x5eff74(0x357)]();console['log'](_0x5eff74(0x35f)+_0x28a20e);})[_0x1b3bda(0x1be)](_0x22db81=>{const _0x40be59=_0x1b3bda;console[_0x40be59(0x7ba)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x22db81[_0x40be59(0x555)]);});}async[a0_0x26c870(0x4c1)](){const _0x3d4e7e=a0_0x26c870;let _0x5a129b=await this[_0x3d4e7e(0x64d)]();if(console[_0x3d4e7e(0x323)](_0x3d4e7e(0x1ed)+_0x5a129b[_0x3d4e7e(0x2df)]),_0x5a129b[_0x3d4e7e(0x2df)]>Ls){let _0x23f39f=_0x5a129b[_0x3d4e7e(0x4f7)](Ls);for(let _0x44da7d of _0x23f39f)console[_0x3d4e7e(0x323)](_0x3d4e7e(0x673)+_0x44da7d),await this[_0x3d4e7e(0x6e6)](_0x44da7d);console['log']('Removed\x20'+_0x23f39f[_0x3d4e7e(0x2df)]+'\x20excess\x20IPv6\x20addresses.');}else console['log']('No\x20excess\x20IPv6\x20addresses\x20to\x20remove.');}async['listIPv6Addresses'](){const _0x2222d5=a0_0x26c870;try{let {stdout:_0x10051a}=await Re(_0x2222d5(0x45e));return _0x10051a[_0x2222d5(0x4c5)]('\x0a')[_0x2222d5(0x2b4)](_0xe0442b=>_0xe0442b['includes'](_0x2222d5(0x6a4))&&_0xe0442b[_0x2222d5(0x7bc)](_0x2222d5(0x2e1)))[_0x2222d5(0x27c)](_0x2e8aa2=>_0x2e8aa2[_0x2222d5(0x7e1)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x2222d5(0x2b4)](Boolean);}catch(_0x2620f0){return console[_0x2222d5(0x7ba)](_0x2222d5(0x521)+_0x2620f0['message']),[];}}async[a0_0x26c870(0x357)](){const _0xb08321=a0_0x26c870;try{let {stdout:_0x35d91f}=await Re('ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6'),_0x50c077=parseInt(_0x35d91f[_0xb08321(0x3a7)](),0xa);return console['log'](_0xb08321(0x841)+_0x50c077),_0x50c077;}catch(_0x367909){return console[_0xb08321(0x7ba)]('Error\x20fetching\x20IPv6\x20count:\x20'+_0x367909[_0xb08321(0x555)]),0x0;}}async[a0_0x26c870(0x6e6)](_0x685f63){const _0x7f2727=a0_0x26c870;try{await Re(_0x7f2727(0x56c)+_0x685f63+'/64\x20dev\x20'+this[_0x7f2727(0x785)]),console['log']('IPv6\x20address\x20removed:\x20'+_0x685f63);}catch(_0x37bfe8){console[_0x7f2727(0x7ba)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x37bfe8[_0x7f2727(0x555)]);}}async['detectIPv6PrefixAndInterface'](){const _0x451136=a0_0x26c870;try{let {stdout:_0x52506b}=await Re(_0x451136(0x838));console[_0x451136(0x323)]('Network\x20interfaces\x20detected:\x20'+_0x52506b);let _0x5e455c=_0x52506b[_0x451136(0x4c5)]('\x0a')[_0x451136(0x27c)](_0x6f0229=>_0x6f0229['split']('\x20')[0x0])['filter'](_0x4e5ab5=>!_0x4e5ab5[_0x451136(0x7bc)]('lo')&&!_0x4e5ab5[_0x451136(0x7bc)](_0x451136(0x755))&&!_0x4e5ab5[_0x451136(0x7bc)](_0x451136(0x23e))&&!_0x4e5ab5[_0x451136(0x7bc)]('wl')&&!_0x4e5ab5[_0x451136(0x7bc)]('@'));if(console[_0x451136(0x323)](_0x451136(0x1cb)+_0x5e455c),_0x5e455c[_0x451136(0x2df)]===0x0)throw new Error(_0x451136(0x6eb));this[_0x451136(0x785)]=_0x5e455c[0x0];let {stdout:_0x50c300}=await Re(_0x451136(0x49d)+this[_0x451136(0x785)]);console[_0x451136(0x323)]('IPv6\x20addresses\x20detected:\x20'+_0x50c300);let _0xab3a0d=_0x50c300[_0x451136(0x4c5)]('\x0a')[_0x451136(0x82c)](_0xfccdad=>_0xfccdad['includes'](_0x451136(0x6a4))&&_0xfccdad['includes']('global'));if(!_0xab3a0d)throw new Error(_0x451136(0x5be));let _0x448052=_0xab3a0d[_0x451136(0x7e1)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x448052)throw new Error(_0x451136(0x3f4));let [_0x3660ab,_0x4cbd89,_0x1ad1e4]=_0x448052,_0x54d14d=Math[_0x451136(0x3d8)](Number(_0x1ad1e4)/0x10),_0x299fcf=Number(_0x1ad1e4)%0x10,_0x2d00f4=_0x4cbd89[_0x451136(0x4c5)](':')[_0x451136(0x4f7)](0x0,_0x54d14d)[_0x451136(0x5ba)](':');if(_0x299fcf>0x0){let _0x158d5d=_0x4cbd89[_0x451136(0x4c5)](':')[_0x54d14d],_0x340e3c=0xffff<<0x10-_0x299fcf&0xffff,_0x581275=(parseInt(_0x158d5d,0x10)&_0x340e3c)[_0x451136(0x58a)](0x10)[_0x451136(0x8a9)](0x4,'0');_0x2d00f4+=':'+_0x581275;}this['ipv6Prefix']=_0x2d00f4+':';}catch(_0x4c990a){console[_0x451136(0x7ba)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x4c990a);}}async[a0_0x26c870(0x288)](_0x2e499a){const _0x3048ce=a0_0x26c870;let _0x3359e5=_0x3048ce(0x3ce)+_0x2e499a+'/64\x20dev\x20'+this[_0x3048ce(0x785)];try{await Re(_0x3359e5),console[_0x3048ce(0x323)](_0x3048ce(0x4f6)+_0x2e499a);}catch(_0x4d3004){console[_0x3048ce(0x7ba)](_0x3048ce(0x7a4)+_0x4d3004);}}[a0_0x26c870(0x1d4)](){const _0x57c924=a0_0x26c870;return'XX:XX:XX:XX:XX:XX'[_0x57c924(0x821)](/X/g,()=>_0x57c924(0x78f)[_0x57c924(0x789)](Math[_0x57c924(0x3d8)](Math[_0x57c924(0x51c)]()*0x10)));}[a0_0x26c870(0x545)](_0x45ee15,_0x265d95){const _0x4c5015=a0_0x26c870;let _0x4e51b8=_0x265d95[_0x4c5015(0x4c5)](':');return _0x4e51b8[0x0]=(parseInt(_0x4e51b8[0x0],0x10)^0x2)[_0x4c5015(0x58a)](0x10)[_0x4c5015(0x8a9)](0x2,'0'),''+_0x45ee15+_0x4e51b8[0x0]+_0x4e51b8[0x1]+':'+_0x4e51b8[0x2]+'ff:fe'+_0x4e51b8[0x3]+':'+_0x4e51b8[0x4]+_0x4e51b8[0x5];}[a0_0x26c870(0x7d2)](){const _0x36046=a0_0x26c870;let _0x406192=this['ipv6Prefix'];_0x406192['endsWith'](':')||(_0x406192+=':');let _0x1ed1a6=this['randomMac']();return this[_0x36046(0x545)](_0x406192,_0x1ed1a6);}[a0_0x26c870(0x7b5)](_0x240da1){const _0x27ca9e=a0_0x26c870;return new RegExp(_0x27ca9e(0x310))[_0x27ca9e(0x695)](_0x240da1);}async[a0_0x26c870(0x6fc)](_0x364f2f){const _0x3d2ee0=a0_0x26c870;let _0x1e2ee0=[{'url':_0x3d2ee0(0x2a7),'parse':_0x291e89=>_0x291e89['ip']},{'url':_0x3d2ee0(0x20b),'parse':_0x4c30b5=>_0x4c30b5['ip']},{'url':'https://ifconfig.me/ip','parse':_0x4d9dcc=>_0x4d9dcc[_0x3d2ee0(0x3a7)]()},{'url':_0x3d2ee0(0x597),'parse':_0x1669d5=>_0x1669d5[_0x3d2ee0(0x3a7)]()}],_0x1e4e94=_0x1e2ee0[Math[_0x3d2ee0(0x3d8)](Math[_0x3d2ee0(0x51c)]()*_0x1e2ee0[_0x3d2ee0(0x2df)])];try{let _0x2fa084=await _i[_0x3d2ee0(0x595)][_0x3d2ee0(0x2c9)](_0x1e4e94[_0x3d2ee0(0x869)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x364f2f}}),_0x426bf0=_0x1e4e94[_0x3d2ee0(0x199)](_0x2fa084[_0x3d2ee0(0x362)]);return _0x426bf0[_0x3d2ee0(0x493)]()===_0x364f2f[_0x3d2ee0(0x493)]()?(console[_0x3d2ee0(0x323)](_0x3d2ee0(0x889)+_0x364f2f),!0x0):(console[_0x3d2ee0(0x7ba)](_0x3d2ee0(0x2d6)+_0x364f2f+_0x3d2ee0(0x881)+_0x426bf0),!0x1);}catch(_0x141a24){return console[_0x3d2ee0(0x7ba)](_0x3d2ee0(0x461)+_0x1e4e94[_0x3d2ee0(0x869)]+':\x20'+_0x141a24[_0x3d2ee0(0x555)]),!0x1;}}async[a0_0x26c870(0x83e)](_0x381610,_0x5dc088){const _0x29c8be=a0_0x26c870;if(!this['ipv6Prefix']||!this[_0x29c8be(0x785)])return console[_0x29c8be(0x7ba)](_0x29c8be(0x2eb)),null;let _0x18fc30=await this[_0x29c8be(0x64d)]();if(_0x18fc30[_0x29c8be(0x2df)]>=Ls){let _0x3ad411=_0x18fc30[Math[_0x29c8be(0x3d8)](Math[_0x29c8be(0x51c)]()*_0x18fc30[_0x29c8be(0x2df)])];return console['log']('Reusing\x20existing\x20IPv6:\x20'+_0x3ad411),_0x3ad411;}let _0x5aa7c5;do _0x5aa7c5=this['generateRandomIPv6'](),console[_0x29c8be(0x323)](_0x29c8be(0x609)+_0x5aa7c5);while(!this[_0x29c8be(0x7b5)](_0x5aa7c5));await this['configureIPv6'](_0x5aa7c5),console['log'](_0x29c8be(0x83b)+_0x5aa7c5);let _0x7620e={'_id':_0x381610+'-'+_0x5dc088,'ip':_0x5aa7c5},_0x13d920=await this['cacheInstanceRepository'][_0x29c8be(0x742)](_0x7620e,_0x7620e[_0x29c8be(0x3fa)]);return console[_0x29c8be(0x323)](_0x29c8be(0x42d)+_0x13d920),_0x5aa7c5;}},Fo=new Fs(),je=Fo,Vs=a0_0x26c870(0x3b1),Fi,pe=null,Fa=null,Uo=0x3,jo=null,Oi=S[a0_0x26c870(0x2c9)]('AUTHENTICATION')[a0_0x26c870(0x569)][a0_0x26c870(0x26f)],xi=S[a0_0x26c870(0x2c9)]('PROXY');async function Jo(){const _0x45bfc1=a0_0x26c870;let _0xd56e6e=await Ne[_0x45bfc1(0x74c)]();pe=_0xd56e6e?.['WebhookGlobal']??null,jo=_0xd56e6e?.['DaysToDelete']??null,Vs=_0xd56e6e?.[_0x45bfc1(0x5dc)]??_0x45bfc1(0x3b1),Fi=_0xd56e6e?.[_0x45bfc1(0x925)]??ge??_0x45bfc1(0x88e);}async function qo(){await Jo();}qo();var jt={},Ae=class l{constructor(_0x291c94,_0x5cb320,_0x3b4a3b){const _0x4a687a=a0_0x26c870;this[_0x4a687a(0x382)]=_0x291c94,this['eventEmitter']=_0x5cb320,this[_0x4a687a(0x252)]=_0x3b4a3b,this[_0x4a687a(0x3e7)]={},this[_0x4a687a(0x6bb)]=null,this[_0x4a687a(0x263)]=new $(l[_0x4a687a(0x5fa)]),this['instance']={},this[_0x4a687a(0x187)]={},this[_0x4a687a(0x6c0)]={'state':_0x4a687a(0x73a)},this[_0x4a687a(0x484)]=(0x0,j[_0x4a687a(0x5ba)])(ce,'downloads'),this[_0x4a687a(0x19c)]=new qs[(_0x4a687a(0x595))](),this[_0x4a687a(0x62d)]=new qs['default'](),this[_0x4a687a(0x548)]=!0x1,this[_0x4a687a(0x608)]={'status.instance':_0x4a687a(0x4b3),'connection.update':_0x4a687a(0x4b3),'qrcode.updated':_0x4a687a(0x3e9),'messages.upsert':_0x4a687a(0x283),'send.message':'/wa-message','messages.update':_0x4a687a(0x34c),'group.upsert':'/wa-groups','group.update':_0x4a687a(0x8ad),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x4a687a(0x613),'chats.set':_0x4a687a(0x5fd),'chats.update':_0x4a687a(0x5fd),'chats.upsert':'/wa-chats','chats.delete':_0x4a687a(0x5fd)},this['reconnectAttempts']=0x0,this[_0x4a687a(0x239)]=[],this[_0x4a687a(0x19f)]=0xea60,this[_0x4a687a(0x874)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x26e724,_0x2a8ca3)=>{const _0x3e7365=_0x4a687a;let _0x525b46=[];for await(let _0x3e09f0 of _0x26e724)_0x525b46['push']({'_id':_0x3e09f0['id'],'owner':this[_0x3e7365(0x79f)][_0x3e7365(0x193)],'group':_0x3e09f0['id'][_0x3e7365(0x4eb)](_0x3e7365(0x334)),'name':_0x3e09f0[_0x3e7365(0x5fa)]||_0x3e09f0[_0x3e7365(0x33d)]||null,'contactname':null,'lastmsg':_0x3e09f0[_0x3e7365(0x66f)]&&_0x3e09f0[_0x3e7365(0x66f)][_0x3e7365(0x58a)]()['length']<0xd?_0x3e09f0[_0x3e7365(0x66f)]*0x3e8:_0x3e09f0[_0x3e7365(0x66f)]||null,'archived':_0x3e09f0[_0x3e7365(0x273)]||!0x1,'unreadcount':_0x3e09f0[_0x3e7365(0x457)]||0x0,'ephemeralExpiration':_0x3e09f0[_0x3e7365(0x243)]||0x0});this[_0x3e7365(0x3e3)]('chats.upsert',_0x525b46);},'chats.update':async(_0x3650a7,_0x22ba12)=>{const _0x5516ae=_0x4a687a;for(let _0x75ee34 of _0x3650a7){let _0x3d0fea={'_id':_0x75ee34['id'],'owner':this[_0x5516ae(0x79f)][_0x5516ae(0x193)],'archived':_0x75ee34[_0x5516ae(0x273)],'muteEndTime':_0x75ee34[_0x5516ae(0x757)],'ephemeralExpiration':_0x75ee34[_0x5516ae(0x243)]},_0x493e63=!0x1,_0x307d8d={};_0x3d0fea[_0x5516ae(0x273)]!=null&&(this[_0x5516ae(0x263)]['verbose'](this[_0x5516ae(0x24d)]+'\x20('+this[_0x5516ae(0x79f)][_0x5516ae(0x193)]+_0x5516ae(0x782)+_0x75ee34['id']+_0x5516ae(0x7fa)+_0x75ee34['archived']),_0x493e63=!0x0,_0x307d8d['archived']=_0x75ee34[_0x5516ae(0x273)]),_0x5516ae(0x757)in _0x75ee34&&(this[_0x5516ae(0x263)]['verbose'](this[_0x5516ae(0x24d)]+'\x20('+this[_0x5516ae(0x79f)]['wuid']+_0x5516ae(0x33c)+_0x75ee34['id']+'\x20:\x20'+(_0x75ee34[_0x5516ae(0x757)]??'0')),_0x493e63=!0x0,_0x307d8d['muteEndTime']=_0x75ee34[_0x5516ae(0x757)]??0x0),'ephemeralExpiration'in _0x75ee34&&(this[_0x5516ae(0x263)][_0x5516ae(0x69d)](this[_0x5516ae(0x24d)]+'\x20('+this[_0x5516ae(0x79f)][_0x5516ae(0x193)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x75ee34['id']+_0x5516ae(0x7fa)+(_0x75ee34[_0x5516ae(0x243)]!==void 0x0?_0x75ee34[_0x5516ae(0x243)]:_0x5516ae(0x83d))),_0x307d8d[_0x5516ae(0x243)]=_0x75ee34[_0x5516ae(0x243)]===null?0x0:_0x75ee34[_0x5516ae(0x243)],_0x493e63=!0x0);let _0x1ef01b;_0x493e63&&(_0x1ef01b=await this[_0x5516ae(0x252)][_0x5516ae(0x629)][_0x5516ae(0x5f5)]({'where':{'_id':_0x75ee34['id']}},_0x307d8d,this[_0x5516ae(0x79f)][_0x5516ae(0x193)])),_0x1ef01b&&F(this[_0x5516ae(0x24d)],_0x5516ae(0x3eb),{'chat':_0x1ef01b});}},'chats.delete':async _0x4574cd=>{const _0x3f5317=_0x4a687a;for(let _0x56d24f of _0x4574cd)if(_0x56d24f['endsWith'](_0x3f5317(0x334))){await this[_0x3f5317(0x252)][_0x3f5317(0x629)]['delete']({'where':{'_id':_0x56d24f}},this[_0x3f5317(0x79f)][_0x3f5317(0x193)]);let _0x1990b0={'where':{'key':{'remoteJid':_0x56d24f}}};await this[_0x3f5317(0x252)]['message'][_0x3f5317(0x5e2)](_0x1990b0,this[_0x3f5317(0x79f)][_0x3f5317(0x193)]);}else{await this[_0x3f5317(0x252)][_0x3f5317(0x629)][_0x3f5317(0x5f5)]({'where':{'_id':_0x56d24f}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3f5317(0x79f)][_0x3f5317(0x193)]);let _0x415bea={'where':{'key':{'remoteJid':_0x56d24f}}};await this[_0x3f5317(0x252)]['message'][_0x3f5317(0x5e2)](_0x415bea,this['instance'][_0x3f5317(0x193)]);}this[_0x3f5317(0x3e3)](_0x3f5317(0x780),[..._0x4574cd]);}},this[_0x4a687a(0x1ad)]={'contacts.upsert':async(_0x54bbd6,_0x4a87aa)=>{const _0x1fa99d=_0x4a687a;let _0x13c049=await this[_0x1fa99d(0x252)][_0x1fa99d(0x56a)][_0x1fa99d(0x82c)]({'where':{}},this[_0x1fa99d(0x79f)][_0x1fa99d(0x193)]),_0x504fc8=[];for await(let _0x30388e of _0x54bbd6)_0x13c049[_0x1fa99d(0x82c)](_0x75b854=>_0x75b854['_id']===_0x30388e['id'])||_0x504fc8[_0x1fa99d(0x48e)]({'_id':_0x30388e['id'],'pushName':_0x30388e?.[_0x1fa99d(0x5fa)]||_0x30388e?.[_0x1fa99d(0x773)],'owner':this[_0x1fa99d(0x79f)]['wuid']});this['sendDataWebhook']('contacts.upsert',_0x504fc8),await this[_0x1fa99d(0x252)][_0x1fa99d(0x56a)]['insert'](_0x504fc8);},'contacts.update':async(_0x5d7a04,_0xa81b86)=>{const _0x158366=_0x4a687a;let _0x5ddf18=[];for await(let _0x5cb1ac of _0x5d7a04)_0x5ddf18['push']({'_id':_0x5cb1ac['id'],'pushName':_0x5cb1ac?.[_0x158366(0x5fa)]??_0x5cb1ac?.[_0x158366(0x773)],'owner':this[_0x158366(0x79f)]['wuid']});this['sendDataWebhook'](_0x158366(0x778),_0x5ddf18);}},this[_0x4a687a(0x2fe)]={'messaging-history.set':async({messages:_0x1c12e6,chats:_0x55c847,isLatest:_0x55d84a},_0x34044e)=>{const _0x476f1e=_0x4a687a;if(_0x55d84a){setTimeout(()=>{const _0x36fa63=a0_0x4486;this[_0x36fa63(0x79f)]['HistoryProcessed']=!0x0,console[_0x36fa63(0x323)](_0x36fa63(0x8cd));},0x1d4c0);let _0x2b3c8e=await Promise['all'](_0x55c847[_0x476f1e(0x27c)](async _0x175fe3=>({'_id':_0x175fe3['id'],'owner':this[_0x476f1e(0x79f)][_0x476f1e(0x193)],'group':_0x175fe3['id'][_0x476f1e(0x4eb)](_0x476f1e(0x334)),'name':_0x175fe3['name']||_0x175fe3[_0x476f1e(0x33d)]||_0x175fe3[_0x476f1e(0x5fe)]||null,'contactname':null,'lastmsg':_0x175fe3[_0x476f1e(0x66f)]&&_0x175fe3[_0x476f1e(0x66f)]['toString']()['length']<0xd?_0x175fe3[_0x476f1e(0x66f)]*0x3e8:_0x175fe3['conversationTimestamp']||null,'archived':_0x175fe3[_0x476f1e(0x273)]||!0x1,'unreadcount':_0x175fe3[_0x476f1e(0x457)]||0x0,'ephemeralExpiration':_0x175fe3['ephemeralExpiration']||0x0,'muteEndTime':_0x175fe3[_0x476f1e(0x757)]||0x0})));this[_0x476f1e(0x3e3)]('chats.set',_0x2b3c8e),await this[_0x476f1e(0x754)](_0x2b3c8e,_0x34044e);}let _0x42b8d9=[],_0x2fb046=Date[_0x476f1e(0x1a6)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4deea2]of Object['entries'](_0x1c12e6)){if(_0x4deea2['message']?.[_0x476f1e(0x342)]||_0x4deea2[_0x476f1e(0x555)]?.[_0x476f1e(0x7b9)]||!_0x4deea2['message']||_0x4deea2[_0x476f1e(0x8f1)]['remoteJid']===_0x476f1e(0x51d)||(Js[_0x476f1e(0x595)][_0x476f1e(0x4c9)](_0x4deea2?.[_0x476f1e(0x861)])&&(_0x4deea2[_0x476f1e(0x861)]=_0x4deea2[_0x476f1e(0x861)]?.['toNumber']()),_0x4deea2['messageTimestamp']&&_0x4deea2[_0x476f1e(0x861)][_0x476f1e(0x58a)]()[_0x476f1e(0x2df)]<0xd&&(_0x4deea2['messageTimestamp']=_0x4deea2[_0x476f1e(0x861)]*0x3e8),_0x4deea2[_0x476f1e(0x861)]<_0x2fb046))continue;let _0x508ac1=(0x0,w[_0x476f1e(0x326)])(_0x4deea2[_0x476f1e(0x555)]),_0x5edddc=(0x0,w['getContentType'])(_0x508ac1),{message_normalized:_0xf4ed53}=this[_0x476f1e(0x554)](_0x508ac1,_0x5edddc,null);Object[_0x476f1e(0x2ef)](_0xf4ed53)[_0x476f1e(0x2df)]>0x0&&_0x42b8d9[_0x476f1e(0x48e)]({'_id':_0x4deea2[_0x476f1e(0x8f1)]['id'],'key':_0x4deea2[_0x476f1e(0x8f1)],'pushName':_0x4deea2[_0x476f1e(0x574)],'participant':_0x4deea2['participant'],'message':_0x508ac1,'messageType':_0x5edddc,'message_normalized':{'key':_0x4deea2[_0x476f1e(0x8f1)],'pushName':_0x4deea2['pushName'],'messageTimestamp':_0x4deea2[_0x476f1e(0x861)],..._0xf4ed53},'messageTimestamp':_0x4deea2[_0x476f1e(0x861)],'owner':this[_0x476f1e(0x79f)]['wuid']});}_0x34044e[_0x476f1e(0x3b5)]&&_0x42b8d9['length']>0x0&&(this[_0x476f1e(0x263)][_0x476f1e(0x69d)](this[_0x476f1e(0x24d)]+'\x20('+this[_0x476f1e(0x79f)][_0x476f1e(0x193)]+'):\x20'+_0x42b8d9[_0x476f1e(0x2df)]+_0x476f1e(0x6da)+this[_0x476f1e(0x79f)][_0x476f1e(0x193)]+_0x476f1e(0x459)),await this[_0x476f1e(0x252)][_0x476f1e(0x555)][_0x476f1e(0x7bb)]([..._0x42b8d9],this[_0x476f1e(0x79f)]['wuid']));let _0x5362ab=Date['now']()-0xa*0x3c*0x3e8;for(let _0x2b1af5 of _0x42b8d9)if(this[_0x476f1e(0x79f)][_0x476f1e(0x384)]&&_0x2b1af5[_0x476f1e(0x861)]>=_0x5362ab){if(this['isMessageProcessed'](this['instance'][_0x476f1e(0x193)],_0x2b1af5['_id'])){this['logger']['verbose'](this[_0x476f1e(0x24d)]+'\x20('+this[_0x476f1e(0x79f)]['wuid']+_0x476f1e(0x285)+_0x2b1af5[_0x476f1e(0x3fa)]+')');continue;}this['addToProcessedMessages'](this[_0x476f1e(0x79f)]['wuid'],_0x2b1af5[_0x476f1e(0x3fa)]),this[_0x476f1e(0x3e3)](_0x476f1e(0x6f4),_0x2b1af5);}else this[_0x476f1e(0x3e3)](_0x476f1e(0x943),_0x2b1af5);_0x1c12e6=void 0x0;},'messages.upsert':async({messages:_0x2826dc,type:_0x33844f},_0x38e87d)=>{const _0x11087d=_0x4a687a;for(let _0x3539fc of _0x2826dc){if(this[_0x11087d(0x187)]?.[_0x11087d(0x8fb)]&&_0x3539fc[_0x11087d(0x8f1)][_0x11087d(0x489)][_0x11087d(0x7bc)]('@g.us')){this['logger']['verbose'](this[_0x11087d(0x24d)]+'\x20('+this[_0x11087d(0x79f)][_0x11087d(0x193)]+'):\x20[messages.upsert]\x20group\x20ignored');continue;}if(_0x3539fc[_0x11087d(0x8f1)][_0x11087d(0x489)]['includes'](_0x11087d(0x725))||_0x3539fc[_0x11087d(0x8f1)]['remoteJid']===_0x11087d(0x51d))continue;if(_0x3539fc[_0x11087d(0x900)]&&_0x3539fc[_0x11087d(0x900)][0x0]===_0x11087d(0x86e)){console[_0x11087d(0x7ba)](_0x11087d(0x577)),await this[_0x11087d(0x76a)](_0x3539fc),jt[_0x3539fc[_0x11087d(0x8f1)]['id']]=_0x3539fc,this[_0x11087d(0x783)](_0x3539fc,0x0);continue;}if(_0x33844f!==_0x11087d(0x758)||!_0x3539fc?.[_0x11087d(0x555)]||_0x3539fc['message']?.[_0x11087d(0x342)]||_0x3539fc[_0x11087d(0x555)]?.[_0x11087d(0x7b9)])continue;let _0x1f0e96=null,_0x432bec=null;if(jt[_0x3539fc['key']['id']]&&(console[_0x11087d(0x7ba)](_0x11087d(0x790)),await this[_0x11087d(0x252)][_0x11087d(0x29c)][_0x11087d(0x5e2)]({'where':{'_id':_0x3539fc[_0x11087d(0x8f1)]['id']}}),delete jt[_0x3539fc[_0x11087d(0x8f1)]['id']]),this[_0x11087d(0x70e)](this['instance']['wuid'],_0x3539fc[_0x11087d(0x8f1)]['id'])){this[_0x11087d(0x263)][_0x11087d(0x69d)](this[_0x11087d(0x24d)]+'\x20('+this[_0x11087d(0x79f)][_0x11087d(0x193)]+_0x11087d(0x1cf));continue;}this[_0x11087d(0x392)](this[_0x11087d(0x79f)][_0x11087d(0x193)],_0x3539fc[_0x11087d(0x8f1)]['id']);try{_0x1f0e96=await this[_0x11087d(0x2a2)](_0x3539fc),_0x432bec=_0x1f0e96?_0x1f0e96[_0x11087d(0x5ba)](','):null;}catch(_0x149478){this[_0x11087d(0x263)][_0x11087d(0x69d)](this[_0x11087d(0x24d)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x149478 instanceof Error?_0x149478[_0x11087d(0x555)]:JSON[_0x11087d(0x2c2)](_0x149478,null,0x2))),_0x432bec=_0x11087d(0x602);}this[_0x11087d(0x5e8)][_0x11087d(0x346)](_0x11087d(0x3f5)),Js[_0x11087d(0x595)][_0x11087d(0x4c9)](_0x3539fc[_0x11087d(0x861)])&&(_0x3539fc[_0x11087d(0x861)]=_0x3539fc[_0x11087d(0x861)]?.['toNumber']()),_0x3539fc[_0x11087d(0x861)]&&_0x3539fc[_0x11087d(0x861)][_0x11087d(0x58a)]()[_0x11087d(0x2df)]<0xd&&(_0x3539fc[_0x11087d(0x861)]=_0x3539fc[_0x11087d(0x861)]*0x3e8);let _0x250a30=_0x3539fc[_0x11087d(0x555)],_0x588577=(0x0,w[_0x11087d(0x326)])(_0x250a30),_0x571b43=(0x0,w[_0x11087d(0x37c)])(_0x588577),{messageContent:_0x23d7af,message_normalized:_0x5bf084}=this[_0x11087d(0x554)](_0x588577,_0x571b43,_0x432bec);if(_0x571b43===_0x11087d(0x342)&&_0x23d7af?.['editedMessage']&&(_0x571b43=_0x11087d(0x279)),_0x571b43===_0x11087d(0x296)&&_0x3539fc[_0x11087d(0x8f1)]['fromMe'])continue;let _0x242ad4,_0x545760=_0x3539fc['key'][_0x11087d(0x489)][_0x11087d(0x4eb)](_0x11087d(0x334));if(_0x3539fc['key'][_0x11087d(0x549)])_0x242ad4=this[_0x11087d(0x79f)][_0x11087d(0x93b)];else{let _0x1b2ee7=_0x545760?_0x3539fc[_0x11087d(0x8f1)]['participant']:_0x3539fc['key']['remoteJid'];_0x242ad4=(await this[_0x11087d(0x1e7)](_0x1b2ee7,_0x3539fc['pushName'],!0x1))['cachedContact']['pictureUrl'];}let _0x51c4f0={'_id':_0x3539fc[_0x11087d(0x8f1)]['id'],'key':_0x3539fc[_0x11087d(0x8f1)],'isGroup':_0x545760,'profilePictureUrl':_0x242ad4,'pushName':_0x3539fc[_0x11087d(0x574)],'message':_0x588577,'messageType':_0x571b43,'message_normalized':{'key':_0x3539fc[_0x11087d(0x8f1)],'pushName':_0x3539fc[_0x11087d(0x574)],'messageTimestamp':_0x3539fc['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x3539fc[_0x11087d(0x8f1)]['id']),..._0x5bf084},'messageTimestamp':_0x3539fc['messageTimestamp'],'owner':this[_0x11087d(0x79f)]['wuid'],'source':(0x0,w[_0x11087d(0x1e4)])(_0x3539fc[_0x11087d(0x8f1)]['id']),'expiration':_0x23d7af?.[_0x11087d(0x4f0)]?.[_0x11087d(0x482)]||0x0};if(!_0x23d7af){if(_0x571b43===_0x11087d(0x26b))return;this[_0x11087d(0x263)][_0x11087d(0x7ba)](_0x11087d(0x50e)),this[_0x11087d(0x263)]['error'](_0x51c4f0);}if(_0x5bf084[_0x11087d(0x529)]==='${Message\x20absent\x20from\x20node}'){console[_0x11087d(0x7ba)](_0x11087d(0x7e4)),await this['fakeReceived'](_0x3539fc);continue;}this[_0x11087d(0x263)][_0x11087d(0x323)](this[_0x11087d(0x24d)]+'\x20('+this[_0x11087d(0x79f)][_0x11087d(0x193)]+'):\x20'+(_0x51c4f0[_0x11087d(0x8f1)]?.[_0x11087d(0x549)]?_0x11087d(0x78a):_0x11087d(0x20e))+'\x20['+_0x51c4f0[_0x11087d(0x8f1)]?.['remoteJid'][_0x11087d(0x821)]('@s.whatsapp.net','')+']\x20('+_0x51c4f0[_0x11087d(0x35c)]+')'),_0x51c4f0[_0x11087d(0x46a)]?.[_0x11087d(0x529)]&&this[_0x11087d(0x263)][_0x11087d(0x323)](_0x3539fc['key']['id']+':\x20'+_0x51c4f0[_0x11087d(0x46a)]?.[_0x11087d(0x529)]),await this[_0x11087d(0x252)][_0x11087d(0x555)][_0x11087d(0x7bb)]([_0x51c4f0],this['instance'][_0x11087d(0x193)]),this['sendDataWebhook'](_0x11087d(0x6f4),_0x51c4f0),F(this[_0x11087d(0x24d)],_0x11087d(0x55a),{'message':_0x51c4f0}),_0x3539fc[_0x11087d(0x8f1)][_0x11087d(0x489)]!=='status@broadcast'&&await this[_0x11087d(0x5ae)](_0x38e87d,_0x51c4f0,_0x11087d(0x903));}},'messages.update':async(_0x478d00,_0x321b87)=>{const _0xd8c801=_0x4a687a;let _0x3d4c3c={0x0:_0xd8c801(0x395),0x1:_0xd8c801(0x2e2),0x2:_0xd8c801(0x716),0x3:_0xd8c801(0x2ae),0x4:_0xd8c801(0x663),0x5:_0xd8c801(0x65f)};for await(let {key:_0x508165,update:_0x325990}of _0x478d00){if(this[_0xd8c801(0x187)]?.[_0xd8c801(0x8fb)]&&_0x508165[_0xd8c801(0x489)][_0xd8c801(0x7bc)](_0xd8c801(0x334))){this[_0xd8c801(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0xd8c801(0x79f)]['wuid']+_0xd8c801(0x75a));return;}if(_0x508165[_0xd8c801(0x489)]!=='status@broadcast'){let _0x233352=Date['now'](),_0x1cd037;_0x325990[_0xd8c801(0x555)]===null&&_0x325990[_0xd8c801(0x284)]===void 0x0?_0x1cd037=_0xd8c801(0x583):_0x1cd037=_0x3d4c3c[_0x325990['status']];let _0x32cb27=_0x508165[_0xd8c801(0x489)][_0xd8c801(0x821)](/:\d{1,2}@/g,'@'),_0xe77cdb={..._0x508165,'remoteJid':_0x32cb27,'status':_0x1cd037,'datetime':_0x233352,'owner':this[_0xd8c801(0x79f)][_0xd8c801(0x193)]};this['sendDataWebhook'](_0xd8c801(0x59d),_0xe77cdb),await this[_0xd8c801(0x683)](_0x508165,_0xe77cdb);}}},'labels.association':async({type:_0x51af7c,association:_0x281085})=>{const _0x289aab=_0x4a687a;if(_0x281085[_0x289aab(0x760)]===_0x289aab(0x8da)){let _0x262a5b,_0x483f7d=0x0;for(;!_0x262a5b&&_0x483f7d<this[_0x289aab(0x4f2)];)_0x262a5b=await this[_0x289aab(0x252)]['chat'][_0x289aab(0x74c)]({'where':{'_id':_0x281085[_0x289aab(0x908)]}},this['instance'][_0x289aab(0x193)]),_0x262a5b||(_0x483f7d++,this[_0x289aab(0x263)][_0x289aab(0x797)](this[_0x289aab(0x24d)]+'\x20('+this[_0x289aab(0x79f)]['wuid']+_0x289aab(0x871)+_0x281085[_0x289aab(0x908)]+_0x289aab(0x4ee)+this[_0x289aab(0x60a)]+_0x289aab(0x8d0)+_0x483f7d+'/'+this[_0x289aab(0x4f2)]+')'),await this['delayChatLabel'](this[_0x289aab(0x60a)]));if(!_0x262a5b){this[_0x289aab(0x263)][_0x289aab(0x7ba)](_0x289aab(0x1c0)+_0x281085['chatId']+'\x20depois\x20'+this[_0x289aab(0x4f2)]+'\x20tentativas.');return;}switch(_0x51af7c){case _0x289aab(0x1c4):console[_0x289aab(0x323)](_0x281085),await this[_0x289aab(0x252)][_0x289aab(0x629)][_0x289aab(0x5f5)]({'where':{'_id':_0x281085[_0x289aab(0x908)]}},{'leadInfo.etiquetas':_0x281085[_0x289aab(0x424)]},this['instance'][_0x289aab(0x193)],void 0x0,'$addToSet');break;case _0x289aab(0x665):console[_0x289aab(0x323)](_0x281085),await this[_0x289aab(0x252)]['chat']['updateOne']({'where':{'_id':_0x281085[_0x289aab(0x908)]}},{'leadInfo.etiquetas':_0x281085['labelId']},this['instance']['wuid'],void 0x0,_0x289aab(0x32a));break;default:this[_0x289aab(0x263)][_0x289aab(0x7ba)](_0x289aab(0x582)+_0x51af7c+']');}}},'labels.edit':async _0x2405ee=>{const _0x55f4f5=_0x4a687a;if(!_0x2405ee||!_0x2405ee['id']){this[_0x55f4f5(0x263)][_0x55f4f5(0x7ba)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x2405ee[_0x55f4f5(0x217)]){let _0x5cd938=[_0x55f4f5(0x32d),_0x55f4f5(0x394),_0x55f4f5(0x4d6),_0x55f4f5(0x48d),_0x55f4f5(0x8b9),'#56ccb4',_0x55f4f5(0x4a4),_0x55f4f5(0x572),_0x55f4f5(0x658),_0x55f4f5(0x727),'#01d0e2',_0x55f4f5(0x7f7),'#92ceac',_0x55f4f5(0x28a),'#00a1f2',_0x55f4f5(0x6d6),_0x55f4f5(0x3d4),_0x55f4f5(0x20f),'#9ba6ff','#9568cf'],_0x2365e5;typeof _0x2405ee[_0x55f4f5(0x44a)]=='number'&&_0x2405ee[_0x55f4f5(0x44a)]>=0x0&&_0x2405ee[_0x55f4f5(0x44a)]<_0x5cd938['length']?_0x2365e5=_0x5cd938[_0x2405ee[_0x55f4f5(0x44a)]]:(this[_0x55f4f5(0x263)]['error'](_0x55f4f5(0x6f1)+_0x2405ee[_0x55f4f5(0x44a)]),_0x2365e5=_0x55f4f5(0x855));let _0x2a5c96={'_id':_0x2405ee['id'],'colorHex':_0x2365e5,'color':_0x2405ee?.[_0x55f4f5(0x44a)],'name':_0x2405ee?.[_0x55f4f5(0x5fa)],'owner':this[_0x55f4f5(0x79f)][_0x55f4f5(0x193)]};await this[_0x55f4f5(0x252)]['label']['updateOne']({'where':{'_id':_0x2405ee['id']}},_0x2a5c96,this[_0x55f4f5(0x79f)]['wuid']),this[_0x55f4f5(0x263)]['info'](this[_0x55f4f5(0x24d)]+'\x20('+this[_0x55f4f5(0x79f)][_0x55f4f5(0x193)]+_0x55f4f5(0x80c)+_0x2405ee);}_0x2405ee[_0x55f4f5(0x217)]&&(await this['repository']['label'][_0x55f4f5(0x5e2)]({'where':{'_id':_0x2405ee['id']}},this[_0x55f4f5(0x79f)]['wuid']),this[_0x55f4f5(0x263)][_0x55f4f5(0x797)](_0x55f4f5(0x228)+_0x2405ee['id']));}},this[_0x4a687a(0x276)]={'groups.upsert':async _0x26a208=>{const _0x1755b7=_0x4a687a;this[_0x1755b7(0x187)]?.['groups_ignore']||this[_0x1755b7(0x3e3)](_0x1755b7(0x853),_0x26a208);for(let _0xaf2406 of _0x26a208)await this['updateGroupWebhook'](_0xaf2406);},'groups.update':async _0xc8b3b8=>{const _0x52a2d8=_0x4a687a;this[_0x52a2d8(0x187)]?.[_0x52a2d8(0x8fb)]||this[_0x52a2d8(0x3e3)](_0x52a2d8(0x372),_0xc8b3b8);for(let _0x3ffe5d of _0xc8b3b8)await this[_0x52a2d8(0x8ed)](_0x3ffe5d);},'group-participants.update':async _0x25eed6=>{const _0x575e3e=_0x4a687a;this[_0x575e3e(0x187)]?.[_0x575e3e(0x8fb)]||this[_0x575e3e(0x3e3)](_0x575e3e(0x79e),_0x25eed6),await this[_0x575e3e(0x607)](_0x25eed6);}},this[_0x4a687a(0x4f2)]=0x5,this[_0x4a687a(0x60a)]=0x1388,this[_0x4a687a(0x5b5)]=0x0,this[_0x4a687a(0x2a2)]=async _0x3e50ef=>{const _0x7f6054=_0x4a687a;if(_0x3e50ef[_0x7f6054(0x555)]?.[_0x7f6054(0x3a2)]){let _0x18c123=await this[_0x7f6054(0x6a6)](_0x3e50ef[_0x7f6054(0x555)][_0x7f6054(0x3a2)]['pollCreationMessageKey'],!0x0);if(_0x18c123){let _0x34a30b=_0x18c123[_0x7f6054(0x8f1)][_0x7f6054(0x549)]?this['instance']['wuid']+'@s.whatsapp.net':_0x18c123['key'][_0x7f6054(0x551)]||_0x18c123['key']['remoteJid'],_0xa67af3=_0x18c123[_0x7f6054(0x8f1)]['id'],_0x32fc94=_0x18c123['message'],_0x4cc23c=Buffer[_0x7f6054(0x556)](_0x32fc94['messageContextInfo'][_0x7f6054(0x8d5)][_0x7f6054(0x58a)]('hex'),_0x7f6054(0x863)),_0x3715b5=(0x0,w[_0x7f6054(0x2aa)])(_0x3e50ef[_0x7f6054(0x555)][_0x7f6054(0x3a2)][_0x7f6054(0x45b)],{'pollCreatorJid':_0x34a30b,'pollMsgId':_0xa67af3,'pollEncKey':_0x4cc23c,'voterJid':_0x3e50ef[_0x7f6054(0x8f1)][_0x7f6054(0x549)]?this[_0x7f6054(0x79f)][_0x7f6054(0x193)]+_0x7f6054(0x220):_0x3e50ef['key'][_0x7f6054(0x489)][_0x7f6054(0x4eb)](_0x7f6054(0x7c9))?_0x3e50ef['key'][_0x7f6054(0x551)]:_0x3e50ef[_0x7f6054(0x8f1)][_0x7f6054(0x489)]}),_0x341efe=[],_0x48e97c=_0x3715b5[_0x7f6054(0x746)][_0x7f6054(0x27c)](_0x3603d5=>Buffer[_0x7f6054(0x556)](_0x3603d5)['toString']('hex'));for(let {optionName:_0x3c3f32}of _0x32fc94[_0x7f6054(0x4a9)]?.[_0x7f6054(0x584)]||_0x32fc94[_0x7f6054(0x38a)]?.[_0x7f6054(0x584)]||_0x32fc94[_0x7f6054(0x44b)]?.[_0x7f6054(0x584)])_0x48e97c[_0x7f6054(0x31c)]((0x0,w[_0x7f6054(0x606)])(Buffer[_0x7f6054(0x556)](_0x3c3f32))[_0x7f6054(0x58a)](_0x7f6054(0x863)))>-0x1&&_0x341efe[_0x7f6054(0x48e)](_0x3c3f32);return _0x341efe;}}return null;},this['normalizeMessage']=(_0x1ef8bb,_0x3e9172,_0x293da3)=>{const _0x3bb66a=_0x4a687a;try{let _0x57ae0e=_0x1ef8bb?(0x0,w[_0x3bb66a(0x7e9)])(_0x1ef8bb)[_0x3e9172]:void 0x0,_0x3a4827={},_0x3b82f3=null,_0x1bf77f=null,_0x4319c0=null,_0x39de44=null;_0x3e9172===_0x3bb66a(0x342)&&_0x57ae0e?.[_0x3bb66a(0x279)]&&(_0x3e9172=(0x0,w[_0x3bb66a(0x37c)])(_0x57ae0e[_0x3bb66a(0x279)]),_0x3b82f3=_0x1ef8bb[_0x3bb66a(0x342)][_0x3bb66a(0x8f1)]['id'],_0x57ae0e=_0x1ef8bb[_0x3bb66a(0x342)][_0x3bb66a(0x279)][_0x3e9172]),_0x1ef8bb[_0x3e9172]?.[_0x3bb66a(0x4f0)]?.['stanzaId']&&_0x1ef8bb[_0x3e9172]?.['contextInfo']?.['quotedMessage']&&(_0x1bf77f=_0x1ef8bb[_0x3e9172][_0x3bb66a(0x4f0)]['stanzaId']),_0x1ef8bb[_0x3bb66a(0x656)]&&(_0x4319c0=_0x1ef8bb[_0x3bb66a(0x656)]['key']['id']);let _0x2dad03;if(_0x57ae0e&&typeof _0x57ae0e==_0x3bb66a(0x408)&&_0x3bb66a(0x2ac)in _0x57ae0e&&({pollCreationMessageKey:_0x2dad03}=_0x57ae0e),_0x3e9172==='pollCreationMessage'||_0x3e9172==='pollCreationMessageV2'||_0x3e9172===_0x3bb66a(0x38a)){let _0x477047=_0x57ae0e[_0x3bb66a(0x584)][_0x3bb66a(0x27c)](_0x159c3c=>_0x159c3c[_0x3bb66a(0x3ca)])['join']('|');_0x3a4827[_0x3bb66a(0x77f)]=_0x477047;}if(_0x3e9172===_0x3bb66a(0x296)){let _0x1626af=_0x57ae0e[_0x3bb66a(0x28c)]['buttons'][_0x3bb66a(0x27c)](_0x10df44=>JSON[_0x3bb66a(0x199)](_0x10df44['buttonParamsJson'])[_0x3bb66a(0x501)])['join']('|');_0x3a4827[_0x3bb66a(0x77f)]=_0x1626af;}_0x3e9172===_0x3bb66a(0x672)&&(_0x3a4827[_0x3bb66a(0x603)]=_0x57ae0e?.[_0x3bb66a(0x5c2)]?.[_0x3bb66a(0x58c)]);let _0x319661='';if(_0x57ae0e&&(_0x319661+=_0x57ae0e[_0x3bb66a(0x5fa)]?_0x57ae0e[_0x3bb66a(0x5fa)]:'',_0x319661+=_0x57ae0e[_0x3bb66a(0x741)]?'\x20'+_0x57ae0e[_0x3bb66a(0x741)]:'',_0x319661+=_0x57ae0e[_0x3bb66a(0x26b)]?'\x20'+_0x57ae0e[_0x3bb66a(0x26b)]:'',_0x319661+=_0x57ae0e[_0x3bb66a(0x33d)]?'\x20'+_0x57ae0e[_0x3bb66a(0x33d)]:'',_0x3e9172!==_0x3bb66a(0x5f0)&&(_0x319661+=_0x57ae0e[_0x3bb66a(0x59e)]?.[_0x3bb66a(0x529)]?'\x20'+_0x57ae0e[_0x3bb66a(0x59e)][_0x3bb66a(0x529)]:''),_0x319661+=_0x57ae0e?.[_0x3bb66a(0x768)]?.[_0x3bb66a(0x529)]?'\x20'+_0x57ae0e?.[_0x3bb66a(0x768)]?.['text']:''),_0x3e9172===_0x3bb66a(0x5c5)){_0x319661=(_0x57ae0e[_0x3bb66a(0x45c)]||'')+'\x0a'+(_0x57ae0e[_0x3bb66a(0x20a)]||'')+'\x0a'+(_0x57ae0e[_0x3bb66a(0x5ca)]||'');let _0x507508=this['sectionsToString'](_0x57ae0e['sections']);_0x3a4827[_0x3bb66a(0x77f)]=_0x507508;}if(_0x3e9172===_0x3bb66a(0x672)&&(_0x293da3=_0x57ae0e['title'],_0x39de44=_0x57ae0e?.['singleSelectReply']?.[_0x3bb66a(0x58c)]),_0x3e9172==='interactiveResponseMessage'){let _0x39bbfd=_0x57ae0e?.[_0x3bb66a(0x5d1)];_0x39bbfd&&_0x39bbfd[_0x3bb66a(0x5fa)]==='menu_options'&&(_0x39de44=JSON[_0x3bb66a(0x199)](_0x39bbfd['paramsJson'])['id']),_0x293da3=_0x57ae0e?.[_0x3bb66a(0x59e)]?.[_0x3bb66a(0x529)];}if(_0x3e9172==='templateButtonReplyMessage'&&(_0x293da3=_0x57ae0e?.['selectedDisplayText'],_0x39de44=_0x57ae0e?.[_0x3bb66a(0x921)]),_0x3e9172===_0x3bb66a(0x319)&&(_0x293da3=_0x57ae0e?.[_0x3bb66a(0x763)],_0x39de44=_0x57ae0e?.[_0x3bb66a(0x2dd)]),_0x57ae0e&&_0x57ae0e['vcard']){let _0x707b25=this[_0x3bb66a(0x29e)](JSON['stringify'](_0x57ae0e[_0x3bb66a(0x7f6)],null,0x2));_0x319661=_0x319661+'\x0a'+_0x707b25;}if(_0x57ae0e){let {selectedButtonId:_0x2df1f3,nativeFlowResponseMessage:_0x4b79d1,selectedId:_0x449f2e,selectedDisplayText:_0x824fd1,selectedIndex:_0x21e293,body:_0x596362,nativeFlowMessage:_0x28d0d1,singleSelectReply:_0x54d576,sections:_0x184134,listType:_0x44f901,displayName:_0xa9d61b,vcard:_0x8b4fb2,contactVcard:_0x42e479,name:_0x49a710,caption:_0x3e15a1,conversation:_0x3354a6,pollCreationMessageKey:_0x42323d,footerText:_0x466e1b,contentText:_0x28811d,pageCount:_0x3a3463,headerType:_0x95e51e,isAvatar:_0x525e6a,isAnimated:_0x2641a8,fallbackLc:_0x225263,fallbackLg:_0x555c65,namespace:_0x471721,elementName:_0x26f108,localizableParams:_0x1f69bb,viewOnce:_0x3059df,height:_0x5dde7e,width:_0x2ad6b9,key:_0x163de1,firstScanLength:_0x9c89f8,firstScanSidecar:_0xc653e1,gifPlayback:_0x32a710,gifAttribution:_0x273932,midQualityFileSha256:_0x402d59,scansSidecar:_0x379498,streamingSidecar:_0x4d1d8e,thumbnailHeight:_0x26ef5c,thumbnailWidth:_0x4ce754,thumbnailEncSha256:_0x35a300,thumbnailDirectPath:_0x4e4e9b,canonicalUrl:_0x13a1d7,matchedText:_0x41903c,previewType:_0x4cc72f,thumbnailSha256:_0x1c8838,deviceListMetadataVersion:_0x5159f9,inviteLinkGroupTypeV2:_0x3d8e0c,interactiveAnnotations:_0x48d107,scanLengths:_0x48b44d,jpegThumbnail:_0x54cbc4,url:_0x48f55d,mediaKeyTimestamp:_0x20cbc7,waveform:_0xc76490,stickerSentTs:_0x420eaf,firstFrameLength:_0x2ee6c4,fileEncSha256:_0x3b2b14,contextInfo:_0x227086,firstFrameSidecar:_0x424cb7,directPath:_0x47ccf0,fileSha256:_0x6e5d91,mediaKey:_0x16e496,senderTimestampMs:_0x2bef97,..._0x2105a8}=_0x57ae0e;(_0x3e9172===_0x3bb66a(0x5c5)||_0x3e9172===_0x3bb66a(0x672))&&(delete _0x2105a8[_0x3bb66a(0x45c)],delete _0x2105a8[_0x3bb66a(0x20a)]),typeof _0x57ae0e=='string'?_0x3a4827={'text':_0x57ae0e,'type':_0x3e9172||_0x3bb66a(0x26b),..._0x3b82f3&&{'edited':_0x3b82f3},..._0x1bf77f&&{'quoted':_0x1bf77f},..._0x4319c0&&{'reaction':_0x4319c0}}:_0x3a4827={'text':_0x319661,..._0x2105a8,..._0x3e9172===_0x3bb66a(0x3a2)?{'poll_id':_0x57ae0e[_0x3bb66a(0x2ac)]['id'],'quoted':_0x57ae0e['pollCreationMessageKey']['id'],'vote':_0x293da3}:{},..._0x3e9172===_0x3bb66a(0x672)?{'buttonOrList_id':_0x39de44,'vote':_0x293da3}:{},..._0x3e9172===_0x3bb66a(0x5f0)?{'buttonOrList_id':_0x39de44,'vote':_0x293da3}:{},..._0x3e9172===_0x3bb66a(0x5ed)?{'buttonOrList_id':_0x39de44,'vote':_0x293da3}:{},..._0x3e9172===_0x3bb66a(0x319)?{'buttonOrList_id':_0x39de44,'vote':_0x293da3}:{},'type':_0x3e9172,..._0x3b82f3&&{'edited':_0x3b82f3},..._0x1bf77f&&{'quoted':_0x1bf77f},..._0x4319c0&&{'reaction':_0x4319c0},...(_0x3e9172===_0x3bb66a(0x4a9)||_0x3e9172===_0x3bb66a(0x44b)||_0x3e9172===_0x3bb66a(0x38a)||_0x3e9172===_0x3bb66a(0x5c5)||_0x3e9172===_0x3bb66a(0x296))&&{'convertedOptions':_0x3a4827[_0x3bb66a(0x77f)]}};}return{'messageType':_0x3e9172,'messageContent':_0x57ae0e,'message_normalized':_0x3a4827};}catch(_0x41098b){return this[_0x3bb66a(0x263)][_0x3bb66a(0x7ba)](_0x3bb66a(0x39c)+_0x41098b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x4a687a(0x7d8)]=[],(this[_0x4a687a(0x1f0)](),this[_0x4a687a(0x60d)](),this[_0x4a687a(0x79f)][_0x4a687a(0x384)]=!0x0,this[_0x4a687a(0x79f)]['qrcode']={'count':0x0},this[_0x4a687a(0x79f)][_0x4a687a(0x476)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}['addToProcessedMessages'](_0x4ea93a,_0x2008a8){const _0x4bd654=a0_0x26c870;this['processedMessagesCache'][_0x4ea93a]||(this['processedMessagesCache'][_0x4ea93a]=new Set()),this[_0x4bd654(0x3e7)][_0x4ea93a][_0x4bd654(0x1c4)](_0x2008a8),setTimeout(()=>this[_0x4bd654(0x3e7)][_0x4ea93a]['delete'](_0x2008a8),0x2710);}[a0_0x26c870(0x70e)](_0x3f1cac,_0x4deb2f){const _0x11cddc=a0_0x26c870;return this[_0x11cddc(0x3e7)][_0x3f1cac]?.['has'](_0x4deb2f)??!0x1;}set[a0_0x26c870(0x24d)](_0x1fd5bb){const _0x21186f=a0_0x26c870;if(!_0x1fd5bb){this[_0x21186f(0x79f)][_0x21186f(0x5fa)]=(0x0,Pi['v4'])();return;}this[_0x21186f(0x79f)]['name']=_0x1fd5bb,this[_0x21186f(0x3e3)](_0x21186f(0x49a),{'instance':this[_0x21186f(0x79f)][_0x21186f(0x5fa)],'status':'created'});}get[a0_0x26c870(0x24d)](){const _0x212fb9=a0_0x26c870;return this[_0x212fb9(0x79f)][_0x212fb9(0x5fa)];}get['wuid'](){const _0x540fc7=a0_0x26c870;return this[_0x540fc7(0x79f)]['wuid'];}async[a0_0x26c870(0x7fe)](){const _0xf0f432=a0_0x26c870;let _0x31554a=this['client'][_0xf0f432(0x90d)]?.['name']??this[_0xf0f432(0x5e8)][_0xf0f432(0x90d)]?.[_0xf0f432(0x773)];if(!_0x31554a){if(this['configService']['get']('DATABASE')[_0xf0f432(0x3b5)]){let _0x182fa8=await T[_0xf0f432(0x732)]()['db'](this[_0xf0f432(0x382)][_0xf0f432(0x2c9)](_0xf0f432(0x22b))[_0xf0f432(0x89c)]['DB_PREFIX_NAME']+_0xf0f432(0x400))[_0xf0f432(0x84f)](this[_0xf0f432(0x24d)])[_0xf0f432(0x74c)]({'_id':_0xf0f432(0x87a)});if(_0x182fa8){let _0x2bca6e=JSON[_0xf0f432(0x199)](JSON[_0xf0f432(0x2c2)](_0x182fa8),w[_0xf0f432(0x61c)][_0xf0f432(0x784)]);_0x31554a=_0x2bca6e['me']?.[_0xf0f432(0x5fa)]||_0x2bca6e['me']?.[_0xf0f432(0x773)];}}else{if((0x0,Je['existsSync'])((0x0,j['join'])(Me,this['instanceName'],_0xf0f432(0x6cf)))){let _0x7405f6=JSON[_0xf0f432(0x199)]((0x0,Je[_0xf0f432(0x39b)])((0x0,j[_0xf0f432(0x5ba)])(Me,this[_0xf0f432(0x24d)],_0xf0f432(0x6cf)),{'encoding':_0xf0f432(0x636)}));_0x31554a=_0x7405f6['me']?.[_0xf0f432(0x5fa)]||_0x7405f6['me']?.[_0xf0f432(0x773)];}}}return _0x31554a;}get[a0_0x26c870(0x93b)](){const _0x473e9e=a0_0x26c870;return this[_0x473e9e(0x79f)][_0x473e9e(0x93b)];}async[a0_0x26c870(0x1f6)](){const _0x12c1e9=a0_0x26c870;let _0x19c173=this[_0x12c1e9(0x79f)][_0x12c1e9(0x193)]+_0x12c1e9(0x220);try{await this[_0x12c1e9(0x5e8)][_0x12c1e9(0x5d6)](_0x19c173)?this[_0x12c1e9(0x79f)][_0x12c1e9(0x48f)]=!0x0:this[_0x12c1e9(0x79f)][_0x12c1e9(0x48f)]=!0x1;}catch{this['instance'][_0x12c1e9(0x48f)]=!0x1;}return this['logger'][_0x12c1e9(0x797)](this[_0x12c1e9(0x24d)]+'\x20('+this[_0x12c1e9(0x79f)]['wuid']+_0x12c1e9(0x8ef)+this['instance'][_0x12c1e9(0x48f)]),this[_0x12c1e9(0x79f)][_0x12c1e9(0x48f)];}get['qrCode'](){const _0x45fbf3=a0_0x26c870;return this['instance'][_0x45fbf3(0x384)]=!0x1,this[_0x45fbf3(0x79f)][_0x45fbf3(0x619)]?.['pairingCode']?{'pairingCode':this[_0x45fbf3(0x79f)][_0x45fbf3(0x619)]?.['pairingCode']}:{'code':this[_0x45fbf3(0x79f)][_0x45fbf3(0x619)]?.['code'],'base64':this[_0x45fbf3(0x79f)][_0x45fbf3(0x619)]?.[_0x45fbf3(0x54b)]};}async['loadWebhook'](){const _0x3b9ef1=a0_0x26c870;let _0x29a2fa=await this[_0x3b9ef1(0x252)][_0x3b9ef1(0x7ab)][_0x3b9ef1(0x82c)](this['instanceName']);this[_0x3b9ef1(0x187)][_0x3b9ef1(0x869)]=_0x29a2fa?.['url'],this['localWebhook'][_0x3b9ef1(0x32e)]=_0x29a2fa?.[_0x3b9ef1(0x32e)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x81a)]=_0x29a2fa?.[_0x3b9ef1(0x81a)],this['localWebhook'][_0x3b9ef1(0x5d9)]=_0x29a2fa?.[_0x3b9ef1(0x5d9)],this['localWebhook'][_0x3b9ef1(0x74e)]=_0x29a2fa?.[_0x3b9ef1(0x74e)],this[_0x3b9ef1(0x187)]['SEND_MESSAGE']=_0x29a2fa?.[_0x3b9ef1(0x2de)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x903)]=_0x29a2fa?.[_0x3b9ef1(0x903)],this[_0x3b9ef1(0x187)]['MESSAGES_UPDATE']=_0x29a2fa?.[_0x3b9ef1(0x5d4)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x63a)]=_0x29a2fa?.['GROUPS_UPSERT'],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x7b7)]=_0x29a2fa?.[_0x3b9ef1(0x7b7)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x29a2fa?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x859)]=_0x29a2fa?.[_0x3b9ef1(0x859)],this[_0x3b9ef1(0x187)]['CHATS_UPSERT']=_0x29a2fa?.['CHATS_UPSERT'],this['localWebhook'][_0x3b9ef1(0x75c)]=_0x29a2fa?.[_0x3b9ef1(0x75c)],this[_0x3b9ef1(0x187)]['CHATS_DELETE']=_0x29a2fa?.[_0x3b9ef1(0x40b)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x59c)]=_0x29a2fa?.[_0x3b9ef1(0x59c)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x261)]=_0x29a2fa?.[_0x3b9ef1(0x261)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x1ea)]=_0x29a2fa?.[_0x3b9ef1(0x1ea)],this['localWebhook'][_0x3b9ef1(0x21c)]=_0x29a2fa?.[_0x3b9ef1(0x21c)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x232)]=_0x29a2fa?.[_0x3b9ef1(0x232)],this[_0x3b9ef1(0x187)]['CONNECTION_UPDATE']=_0x29a2fa?.[_0x3b9ef1(0x27f)],this[_0x3b9ef1(0x187)][_0x3b9ef1(0x8fb)]=_0x29a2fa?.[_0x3b9ef1(0x8fb)];}async[a0_0x26c870(0x648)](_0x4dda00){const _0x188454=a0_0x26c870;let _0x414a4f=[_0x188454(0x3fa),'url',_0x188454(0x32e),_0x188454(0x81a),'STATUS_INSTANCE',_0x188454(0x74e),_0x188454(0x5d4),_0x188454(0x903),_0x188454(0x2de),_0x188454(0x63a),'GROUPS_UPDATE',_0x188454(0x8bb),_0x188454(0x859),_0x188454(0x5df),'CHATS_UPDATE','CHATS_DELETE',_0x188454(0x59c),'CONTACTS_UPSERT','CONTACTS_UPDATE',_0x188454(0x21c),_0x188454(0x232),_0x188454(0x27f),_0x188454(0x8fb)],_0x4f052d={};return _0x414a4f['forEach'](_0x8ea8b4=>{_0x4dda00[_0x8ea8b4]!==void 0x0&&(_0x4f052d[_0x8ea8b4]=_0x4dda00[_0x8ea8b4]);}),_0x4f052d[_0x188454(0x869)]&&(_0x4f052d[_0x188454(0x869)]=_0x4f052d[_0x188454(0x869)][_0x188454(0x3a7)]()),await this[_0x188454(0x252)][_0x188454(0x7ab)][_0x188454(0x1e0)](_0x4f052d,this[_0x188454(0x24d)]),Object['assign'](this[_0x188454(0x187)],_0x4f052d),await this[_0x188454(0x252)][_0x188454(0x7ab)]['find'](this[_0x188454(0x24d)]);}async[a0_0x26c870(0x604)](){const _0x4a1ebb=a0_0x26c870;return await this[_0x4a1ebb(0x252)][_0x4a1ebb(0x7ab)][_0x4a1ebb(0x82c)](this['instanceName']);}async[a0_0x26c870(0x3e3)](_0x258843,_0x5c52c5){const _0x2855ba=a0_0x26c870;let _0x375d64=_0x258843[_0x2855ba(0x821)](/[\.-]/gm,'_')[_0x2855ba(0x425)](),_0x260061=this['localWebhook']['enabled']&&(0x0,J[_0x2855ba(0x1c8)])(this[_0x2855ba(0x187)][_0x2855ba(0x869)])?this[_0x2855ba(0x187)][_0x2855ba(0x869)]+(this[_0x2855ba(0x187)][_0x2855ba(0x81a)]?this[_0x2855ba(0x608)][_0x258843]:''):null,_0x1e9306=this[_0x2855ba(0x187)][_0x375d64],_0x56a23b=pe&&pe[_0x2855ba(0x32e)]&&(0x0,J[_0x2855ba(0x1c8)])(pe['url'])?pe[_0x2855ba(0x869)]+(pe[_0x2855ba(0x81a)]?this[_0x2855ba(0x608)][_0x258843]:''):null,_0x32339a=pe?pe[_0x375d64]:null;if(_0x1e9306&&_0x260061)try{await K['default']['create']({'baseURL':_0x260061})['post']('',{'event':_0x258843,'instance':this[_0x2855ba(0x79f)][_0x2855ba(0x5fa)],'apikey':this[_0x2855ba(0x79f)][_0x2855ba(0x37d)],'data':_0x5c52c5}),this[_0x2855ba(0x263)][_0x2855ba(0x323)](this[_0x2855ba(0x24d)]+'\x20('+this['instance'][_0x2855ba(0x193)]+_0x2855ba(0x84d)+_0x258843+':\x20'+_0x260061);}catch{this[_0x2855ba(0x263)]['error'](this[_0x2855ba(0x24d)]+'\x20('+this[_0x2855ba(0x79f)]['wuid']+_0x2855ba(0x1db)+_0x258843+':\x20'+_0x260061);}if(_0x32339a&&_0x56a23b)try{await K['default']['create']({'baseURL':_0x56a23b})['post']('',{'event':_0x258843,'instance':this['instance']['name'],'apikey':this[_0x2855ba(0x79f)][_0x2855ba(0x37d)],'data':_0x5c52c5}),this[_0x2855ba(0x263)][_0x2855ba(0x323)](this['instanceName']+'\x20('+this['instance'][_0x2855ba(0x193)]+_0x2855ba(0x320)+_0x258843+':\x20'+_0x56a23b);}catch{this[_0x2855ba(0x263)][_0x2855ba(0x7ba)](this[_0x2855ba(0x24d)]+'\x20('+this[_0x2855ba(0x79f)][_0x2855ba(0x193)]+_0x2855ba(0x409)+_0x258843+':\x20'+_0x56a23b);}}async['connectionUpdate']({qr:_0x28124e,connection:_0x40739a,lastDisconnect:_0xe9d962}){const _0x60fc11=a0_0x26c870;if(_0x28124e){if(this[_0x60fc11(0x79f)][_0x60fc11(0x619)][_0x60fc11(0x56b)]===Uo)return this[_0x60fc11(0x3e3)](_0x60fc11(0x254),{'message':_0x60fc11(0x242),'statusCode':w[_0x60fc11(0x94b)][_0x60fc11(0x6ee)]}),this['stateConnection']={'state':_0x60fc11(0x787),'statusReason':w[_0x60fc11(0x94b)][_0x60fc11(0x3f8)]},this[_0x60fc11(0x3e3)](_0x60fc11(0x68e),{'instance':this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)],...this[_0x60fc11(0x6c0)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)],'status':_0x60fc11(0x1af)}),this[_0x60fc11(0x252)][_0x60fc11(0x86f)][_0x60fc11(0x5e2)](this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)]),this[_0x60fc11(0x548)]=!0x0,this['eventEmitter']['emit'](_0x60fc11(0x188),this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)]);this[_0x60fc11(0x79f)][_0x60fc11(0x619)]['count']++;let _0x9b71ae={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x60fc11(0x64f),'dark':'#000000'}};Di['default'][_0x60fc11(0x825)](_0x28124e,_0x9b71ae,(_0x3c3746,_0x2b57bb)=>{const _0x1eac11=_0x60fc11;if(_0x3c3746){this[_0x1eac11(0x263)][_0x1eac11(0x7ba)](this[_0x1eac11(0x24d)]+'\x20('+this[_0x1eac11(0x79f)]['wuid']+_0x1eac11(0x34e)+(_0x3c3746 instanceof Error?_0x3c3746[_0x1eac11(0x555)]:JSON[_0x1eac11(0x2c2)](_0x3c3746,null,0x2)));return;}this[_0x1eac11(0x79f)][_0x1eac11(0x619)][_0x1eac11(0x54b)]=_0x2b57bb,this[_0x1eac11(0x79f)][_0x1eac11(0x619)][_0x1eac11(0x651)]=_0x28124e,!this['phoneNumber']&&this[_0x1eac11(0x3e3)]('qrcode.updated',{'qrcode':{'instance':this[_0x1eac11(0x79f)][_0x1eac11(0x5fa)],'pairingCode':this[_0x1eac11(0x79f)]['qrcode'][_0x1eac11(0x3d1)],'code':_0x28124e,'base64':_0x2b57bb}});}),this[_0x60fc11(0x86d)]?this[_0x60fc11(0x79f)][_0x60fc11(0x619)][_0x60fc11(0x3d1)]||(await(0x0,w[_0x60fc11(0x89a)])(0x7d0),this['instance']['qrcode']['pairingCode']=await this['client'][_0x60fc11(0x2f0)](this[_0x60fc11(0x86d)])):this['instance'][_0x60fc11(0x619)][_0x60fc11(0x3d1)]=null,ki[_0x60fc11(0x595)][_0x60fc11(0x313)](_0x28124e,{'small':!0x0},_0x171813=>this['logger'][_0x60fc11(0x323)](_0x60fc11(0x35d)+this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)]+_0x60fc11(0x335)+this[_0x60fc11(0x79f)][_0x60fc11(0x619)][_0x60fc11(0x56b)]+_0x60fc11(0x4bd)+this[_0x60fc11(0x79f)][_0x60fc11(0x619)][_0x60fc11(0x3d1)]+_0x60fc11(0x809)+_0x171813));}if(_0x40739a&&(this[_0x60fc11(0x6c0)]={'state':_0x40739a,'statusReason':_0xe9d962?.[_0x60fc11(0x7ba)]?.[_0x60fc11(0x8f4)]?.[_0x60fc11(0x735)]??0xc8},this[_0x60fc11(0x3e3)](_0x60fc11(0x68e),{'instance':this[_0x60fc11(0x79f)]['name'],...this[_0x60fc11(0x6c0)]})),_0x40739a===_0x60fc11(0x73a)){if(_0xe9d962[_0x60fc11(0x7ba)]?.[_0x60fc11(0x8f4)]?.['statusCode']!==w[_0x60fc11(0x94b)]['loggedOut']&&(this[_0x60fc11(0x7ff)]<0x21||this['instance'][_0x60fc11(0x476)][_0x60fc11(0x4cc)])){this[_0x60fc11(0x7ff)]++,this[_0x60fc11(0x239)][_0x60fc11(0x48e)](Date[_0x60fc11(0x1a6)]()),this['reconnectTimestamps']=this[_0x60fc11(0x239)][_0x60fc11(0x2b4)](_0x41b549=>Date[_0x60fc11(0x1a6)]()-_0x41b549<this[_0x60fc11(0x19f)]);let _0x526e5e=this[_0x60fc11(0x7ff)]<=0x1?0x0:Math[_0x60fc11(0x45f)](Math[_0x60fc11(0x43d)](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console[_0x60fc11(0x323)](this[_0x60fc11(0x24d)]+_0x60fc11(0x2af)+this[_0x60fc11(0x7ff)]+'.\x20Aguardando\x20'+_0x526e5e/0x3e8+_0x60fc11(0x4d5)),await new Promise(_0x5ca7d3=>setTimeout(_0x5ca7d3,_0x526e5e)),console[_0x60fc11(0x323)](_0x60fc11(0x358)),await this[_0x60fc11(0x3b4)]();}else{this[_0x60fc11(0x3e3)](_0x60fc11(0x49a),{'instance':this['instance'][_0x60fc11(0x5fa)],'status':'removed'}),this[_0x60fc11(0x79f)][_0x60fc11(0x476)][_0x60fc11(0x4cc)]=!0x1,this[_0x60fc11(0x252)][_0x60fc11(0x7ab)][_0x60fc11(0x5e2)](this[_0x60fc11(0x24d)]),this[_0x60fc11(0x252)][_0x60fc11(0x86f)][_0x60fc11(0x1e0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x60fc11(0x1a6)]()},this[_0x60fc11(0x79f)]['name']);try{this[_0x60fc11(0x263)][_0x60fc11(0x69d)](this[_0x60fc11(0x24d)]+'\x20('+this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+_0x60fc11(0x34f));let _0x2ffe6e=await this[_0x60fc11(0x252)][_0x60fc11(0x555)][_0x60fc11(0x815)](this[_0x60fc11(0x79f)][_0x60fc11(0x193)]);_0x2ffe6e[_0x60fc11(0x312)]?this[_0x60fc11(0x263)][_0x60fc11(0x69d)](this[_0x60fc11(0x24d)]+'\x20('+this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0x60fc11(0x263)][_0x60fc11(0x7ba)](_0x60fc11(0x2fc)+_0x2ffe6e[_0x60fc11(0x7ba)]);}catch(_0x457331){this[_0x60fc11(0x263)][_0x60fc11(0x7ba)](_0x60fc11(0x563)+_0x457331[_0x60fc11(0x555)]);}this['instance'][_0x60fc11(0x476)]['delayMessage']!==null&&(this[_0x60fc11(0x263)][_0x60fc11(0x69d)](this[_0x60fc11(0x24d)]+'\x20('+this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x60fc11(0x79f)][_0x60fc11(0x476)][_0x60fc11(0x6db)]),this[_0x60fc11(0x79f)][_0x60fc11(0x476)]['delayMessage']=null),this[_0x60fc11(0x263)][_0x60fc11(0x69d)](this['instanceName']+'\x20('+this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+_0x60fc11(0x5de)),this[_0x60fc11(0x6bb)]=null,this[_0x60fc11(0x5b2)][_0x60fc11(0x3d6)]('remove.instance',this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)],_0x60fc11(0x696)),this[_0x60fc11(0x5e8)]?.['ws']?.[_0x60fc11(0x73a)](),this[_0x60fc11(0x5e8)][_0x60fc11(0x340)](new Error(_0x60fc11(0x6a0)));}}if(_0x40739a===_0x60fc11(0x940)){this[_0x60fc11(0x263)][_0x60fc11(0x6be)](this[_0x60fc11(0x24d)]+'\x20('+this[_0x60fc11(0x79f)]['wuid']+_0x60fc11(0x463)+this['client']['authState'][_0x60fc11(0x87a)]?.['myAppStateKeyId']),this[_0x60fc11(0x5e8)][_0x60fc11(0x76c)][_0x60fc11(0x87a)]?.['myAppStateKeyId']||(this['logger'][_0x60fc11(0x6be)](this[_0x60fc11(0x24d)]+'\x20('+this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+'):\x20ev.flush\x20realizado'),this[_0x60fc11(0x5e8)]['ev'][_0x60fc11(0x497)]()),this[_0x60fc11(0x64a)],this[_0x60fc11(0x79f)][_0x60fc11(0x193)]=this[_0x60fc11(0x5e8)][_0x60fc11(0x90d)]['id'][_0x60fc11(0x821)](/:\d+/,'')[_0x60fc11(0x821)]('@s.whatsapp.net',''),this[_0x60fc11(0x79f)][_0x60fc11(0x93b)]=(await this['profilePicture'](this[_0x60fc11(0x79f)][_0x60fc11(0x193)]+_0x60fc11(0x220)))[_0x60fc11(0x93b)],this[_0x60fc11(0x252)]['auth'][_0x60fc11(0x1e0)]({'online':!0x0,'owner':this[_0x60fc11(0x79f)][_0x60fc11(0x193)],'lastDisconnect':null},this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)]);let _0xc0dcb3=_0x60fc11(0x813)+this['instance'][_0x60fc11(0x193)],_0x2fd3d1=0x28,_0x122f26=Math[_0x60fc11(0x3d8)]((_0x2fd3d1-_0xc0dcb3[_0x60fc11(0x2df)])/0x2),_0x2d20ad='\x20'[_0x60fc11(0x5cf)](_0x122f26),_0xe8c8ae=_0x60fc11(0x6c8),_0x4fe1e0=_0x60fc11(0x8a1)+this[_0x60fc11(0x79f)][_0x60fc11(0x5fa)],_0xaa0448=(''+_0x2d20ad+_0xc0dcb3+_0x2d20ad)[_0x60fc11(0x1b6)](_0x2fd3d1,'\x20'),_0x7ad5a4=(''+_0x2d20ad+_0xe8c8ae+_0x2d20ad)['padEnd'](_0x2fd3d1,'\x20'),_0x5c615d=(''+_0x2d20ad+_0x4fe1e0+_0x2d20ad)[_0x60fc11(0x1b6)](_0x2fd3d1,'\x20'),_0x6717c6=Math['max'](_0xaa0448[_0x60fc11(0x2df)],_0x7ad5a4['length'],_0x5c615d[_0x60fc11(0x2df)]),_0x10a603=_0xaa0448[_0x60fc11(0x1b6)](_0x6717c6,'\x20'),_0x31562b=_0x7ad5a4[_0x60fc11(0x1b6)](_0x6717c6,'\x20'),_0x2a4b88=_0x5c615d[_0x60fc11(0x1b6)](_0x6717c6,'\x20');this['logger'][_0x60fc11(0x797)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x60fc11(0x5cf)](_0x6717c6)+_0x60fc11(0x22d)+_0x31562b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2a4b88+_0x60fc11(0x771)+_0x10a603+_0x60fc11(0x5d5)+'─'[_0x60fc11(0x5cf)](_0x6717c6)+'┘')[_0x60fc11(0x821)](/^ +/gm,'\x20\x20')),this[_0x60fc11(0x7dd)](),this[_0x60fc11(0x79f)][_0x60fc11(0x476)][_0x60fc11(0x4cc)]=!0x0;}}[a0_0x26c870(0x64a)](){const _0x46c585=a0_0x26c870;this[_0x46c585(0x7ff)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x26c870(0x6a6)](_0x277572,_0x2f4891=!0x1){const _0x430867=a0_0x26c870;try{let _0x1276d5=await this['repository'][_0x430867(0x555)][_0x430867(0x82c)]({'where':{'_id':_0x277572['id']}},this['instance'][_0x430867(0x193)]);return _0x2f4891?_0x1276d5[0x0]:_0x1276d5[0x0][_0x430867(0x555)];}catch{return{'conversation':''};}}[a0_0x26c870(0x1f0)](){const _0x4eb5e2=a0_0x26c870;let _0x48c623=this[_0x4eb5e2(0x382)][_0x4eb5e2(0x2c9)]('STORE'),_0xa426de=this['configService'][_0x4eb5e2(0x2c9)]('DATABASE');_0x48c623?.[_0x4eb5e2(0x749)]&&!_0xa426de['ENABLED']&&setInterval(()=>{const _0x2854a0=_0x4eb5e2;try{for(let [_0xce6ca9,_0x3a51b3]of Object['entries'](_0x48c623))_0x3a51b3===!0x0&&(0x0,qe[_0x2854a0(0x5b7)])(_0x2854a0(0x701)+(0x0,j['join'])(this[_0x2854a0(0x484)],_0xce6ca9[_0x2854a0(0x493)](),this[_0x2854a0(0x79f)][_0x2854a0(0x193)])+_0x2854a0(0x225));}catch{}},(_0x48c623?.[_0x4eb5e2(0x749)]??0xe10)*0x3e8);}async[a0_0x26c870(0x8c9)](){const _0x546b53=a0_0x26c870;let _0x2e7d5e=this[_0x546b53(0x382)][_0x546b53(0x2c9)](_0x546b53(0x22b)),_0x27a6ed=this[_0x546b53(0x382)][_0x546b53(0x2c9)]('REDIS');return _0x27a6ed?.['ENABLED']?await ks(_0x27a6ed,this['instance'][_0x546b53(0x5fa)]):_0x2e7d5e[_0x546b53(0x3b5)]?await Ds(this['instance'][_0x546b53(0x5fa)]):await(0x0,w[_0x546b53(0x427)])((0x0,j[_0x546b53(0x5ba)])(Me,this[_0x546b53(0x79f)][_0x546b53(0x5fa)]));}async[a0_0x26c870(0x7dd)](){const _0x2a7b60=a0_0x26c870;let _0x3b0d00=()=>Math['floor'](Math[_0x2a7b60(0x51c)]()*0x4e21)+0x7d0,_0xf5462e=async()=>{const _0x1661d9=_0x2a7b60;if(!this[_0x1661d9(0x79f)]['ScheduleMessage'][_0x1661d9(0x4cc)]){this['logger']['verbose'](this[_0x1661d9(0x24d)]+'\x20('+this[_0x1661d9(0x79f)]['wuid']+_0x1661d9(0x543)),this[_0x1661d9(0x874)]=!0x1;return;}if(this[_0x1661d9(0x79f)]['wuid']&&this['AutomateSystem']&&this['instance']['ScheduleMessage'][_0x1661d9(0x6db)]!==null&&this[_0x1661d9(0x79f)][_0x1661d9(0x476)][_0x1661d9(0x6db)]!==void 0x0){let _0x79ee14=Math[_0x1661d9(0x8a6)](this[_0x1661d9(0x79f)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x1661d9(0x263)][_0x1661d9(0x69d)](this['instanceName']+'\x20('+this[_0x1661d9(0x79f)][_0x1661d9(0x193)]+_0x1661d9(0x40a)+_0x79ee14+_0x1661d9(0x6ea)),this[_0x1661d9(0x874)]=!0x1;return;}else this[_0x1661d9(0x79f)][_0x1661d9(0x193)]&&(this[_0x1661d9(0x263)][_0x1661d9(0x69d)](this[_0x1661d9(0x24d)]+'\x20('+this['instance'][_0x1661d9(0x193)]+_0x1661d9(0x5d0)),this['AutomateSystem']||(await this[_0x1661d9(0x791)](),this[_0x1661d9(0x368)](),this['synchronizeAndMapFlows']()),(this[_0x1661d9(0x79f)][_0x1661d9(0x476)][_0x1661d9(0x6db)]===null||this['instance'][_0x1661d9(0x476)][_0x1661d9(0x6db)]===void 0x0)&&await this[_0x1661d9(0x4ac)]());if(this['isRunning']){let _0x572d98=_0x3b0d00();this[_0x1661d9(0x263)][_0x1661d9(0x69d)](this[_0x1661d9(0x24d)]+_0x1661d9(0x561)+_0x572d98/0x3e8+_0x1661d9(0x3de)),setTimeout(_0xf5462e,_0x572d98);}};if(this[_0x2a7b60(0x874)])return;this[_0x2a7b60(0x874)]=!0x0;let _0x4d91c0=_0x3b0d00();setTimeout(_0xf5462e,_0x4d91c0);}async[a0_0x26c870(0x915)](){const _0x13f620=a0_0x26c870;let _0x13cef8=this[_0x13f620(0x79f)]['wuid'];try{let _0x46b649=await this['repository'][_0x13f620(0x654)]['findAll']({'where':{'$or':[{'owner':_0x13cef8},{'whoCanUse':{'$in':[_0x13cef8]}},{'shareOwners':{'$in':[_0x13cef8]}}]}}),_0x2384f4=new Map(this[_0x13f620(0x6bb)]['flows']['map'](_0x5ce5ed=>[_0x5ce5ed[_0x13f620(0x3fa)],_0x5ce5ed])),_0x965ba7=_0x46b649[_0x13f620(0x27c)](_0x3ec645=>{const _0x29c777=_0x13f620;let _0x4fa1a6=_0x2384f4[_0x29c777(0x2c9)](_0x3ec645[_0x29c777(0x3fa)]?.[_0x29c777(0x58a)]());return{'_id':_0x3ec645[_0x29c777(0x3fa)]?.['toString'](),'name':_0x4fa1a6?.[_0x29c777(0x5fa)]??_0x3ec645[_0x29c777(0x5fa)],'default':_0x4fa1a6?.[_0x29c777(0x595)]??_0x3ec645['default']??!0x1,'startCommand':_0x4fa1a6?.[_0x29c777(0x52a)]??_0x3ec645[_0x29c777(0x81d)],'minutesToClose':_0x4fa1a6?.[_0x29c777(0x1a4)]??_0x3ec645[_0x29c777(0x1a4)]??0xa,'readMessages':_0x4fa1a6?.[_0x29c777(0x402)]??_0x3ec645[_0x29c777(0x402)]??!0x1,'testingWith':_0x4fa1a6?.[_0x29c777(0x62e)]??_0x3ec645[_0x29c777(0x62e)],'canEdit':_0x3ec645[_0x29c777(0x676)]===_0x13cef8||(_0x3ec645[_0x29c777(0x2f2)]??[])[_0x29c777(0x7bc)](_0x13cef8),'usersCount':(_0x3ec645[_0x29c777(0x3c6)]??[])[_0x29c777(0x2df)]??0x0};}),_0x588fde=!0x1;_0x965ba7['forEach'](_0x5d9d5b=>{const _0x513fa1=_0x13f620;_0x5d9d5b[_0x513fa1(0x595)]&&(_0x588fde?_0x5d9d5b[_0x513fa1(0x595)]=!0x1:_0x588fde=!0x0);}),this[_0x13f620(0x6bb)]['flows']=_0x965ba7;let _0x14229c={'flows':_0x965ba7};return await this[_0x13f620(0x252)][_0x13f620(0x38f)][_0x13f620(0x447)](_0x14229c,_0x13cef8),this['logger'][_0x13f620(0x69d)](this['instanceName']+'\x20('+_0x13cef8+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x965ba7[_0x13f620(0x2df)];}catch(_0x4bf9a1){return this['logger']['error'](this[_0x13f620(0x24d)]+'\x20('+_0x13cef8+_0x13f620(0x67f)+(_0x4bf9a1 instanceof Error?_0x4bf9a1[_0x13f620(0x555)]:JSON['stringify'](_0x4bf9a1,null,0x2))),{'message':_0x13f620(0x21f)+(_0x4bf9a1 instanceof Error?_0x4bf9a1[_0x13f620(0x555)]:JSON[_0x13f620(0x2c2)](_0x4bf9a1,null,0x2))};}}async[a0_0x26c870(0x3b4)](_0x18cfb2){const _0x63ff9=a0_0x26c870;try{let _0x4b3ba8=await this[_0x63ff9(0x252)][_0x63ff9(0x79f)]['findOne']({'where':{'_id':ge+'-'+this['instanceName']}}),_0x2ca660,_0x4f0acc=!je[_0x63ff9(0x338)]||!je[_0x63ff9(0x785)];console[_0x63ff9(0x323)]('--------------------------------------'),console[_0x63ff9(0x323)](_0x63ff9(0x8f8),xi),console[_0x63ff9(0x323)]('this.reconnectAttempts:\x20',this[_0x63ff9(0x7ff)]),console[_0x63ff9(0x323)](_0x63ff9(0x7e3)),xi&&!_0x4f0acc&&(this['reconnectAttempts']<0x4||!this[_0x63ff9(0x7ff)]?_0x4b3ba8&&_0x4b3ba8['ip']?(_0x2ca660=_0x4b3ba8['ip'],console['log']('Usando\x20IP\x20existente:\x20'+_0x2ca660)):(_0x2ca660=await je[_0x63ff9(0x83e)](ge,this[_0x63ff9(0x79f)]['name']),_0x2ca660?(console['log'](_0x63ff9(0x1dc)+_0x2ca660),await(0x0,w[_0x63ff9(0x89a)])(0x7d0)):console['error'](_0x63ff9(0x836))):this['reconnectAttempts']<0x6&&(console['log'](_0x63ff9(0x59a)),_0x2ca660=await je['createIPv6'](ge,this['instance'][_0x63ff9(0x5fa)]),_0x2ca660?(console[_0x63ff9(0x323)](_0x63ff9(0x1dc)+_0x2ca660),await(0x0,w[_0x63ff9(0x89a)])(0x7d0)):console[_0x63ff9(0x7ba)]('Falha\x20ao\x20recriar\x20IPv6.'))),this['loadWebhook'](),this['instance']['apikey']=(await this['repository'][_0x63ff9(0x86f)][_0x63ff9(0x82c)](this['instance']['name']))['apikey'],this['instance']['authState']=await this[_0x63ff9(0x8c9)]();let _0x19413a=[Fi,Vs,(0x0,js[_0x63ff9(0x2fd)])()],_0x110b3a={'localAddress':_0x2ca660,'auth':{'creds':this[_0x63ff9(0x79f)]['authState'][_0x63ff9(0x458)][_0x63ff9(0x87a)],'keys':(0x0,w[_0x63ff9(0x774)])(this[_0x63ff9(0x79f)][_0x63ff9(0x76c)][_0x63ff9(0x458)][_0x63ff9(0x2ef)],(0x0,Jt[_0x63ff9(0x595)])({'level':'error'}))},'logger':(0x0,Jt[_0x63ff9(0x595)])({'level':_0x63ff9(0x7ba)}),'printQRInTerminal':!0x1,'browser':_0x18cfb2?[_0x63ff9(0x8a0),Vs,(0x0,js['release'])()]:_0x19413a,'version':[0x2,0xbb8,0x3d18305b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x389b0b=>{const _0x4a51c0=_0x63ff9;let _0x2548f7=this[_0x4a51c0(0x187)]?.[_0x4a51c0(0x8fb)]&&(0x0,w[_0x4a51c0(0x84c)])(_0x389b0b);return(0x0,w[_0x4a51c0(0x8b2)])(_0x389b0b)||_0x2548f7;},'msgRetryCounterCache':this[_0x63ff9(0x19c)],'getMessage':async _0x21f813=>await this['getMessage'](_0x21f813),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x63ff9(0x62d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x1eb31f){const _0x419a0f=_0x63ff9;return _0x1eb31f[_0x419a0f(0x89f)]?.[_0x419a0f(0x555)]?.[_0x419a0f(0x5c5)]?.[_0x419a0f(0x8df)]===w[_0x419a0f(0x880)][_0x419a0f(0x7df)]['ListMessage'][_0x419a0f(0x3a6)][_0x419a0f(0x21e)]&&(_0x1eb31f=JSON[_0x419a0f(0x199)](JSON[_0x419a0f(0x2c2)](_0x1eb31f)),_0x1eb31f['deviceSentMessage'][_0x419a0f(0x555)][_0x419a0f(0x5c5)]['listType']=w[_0x419a0f(0x880)][_0x419a0f(0x7df)][_0x419a0f(0x91f)][_0x419a0f(0x3a6)][_0x419a0f(0x256)]),_0x1eb31f[_0x419a0f(0x5c5)]?.[_0x419a0f(0x8df)]==w[_0x419a0f(0x880)][_0x419a0f(0x7df)]['ListMessage'][_0x419a0f(0x3a6)][_0x419a0f(0x21e)]&&(_0x1eb31f=JSON[_0x419a0f(0x199)](JSON[_0x419a0f(0x2c2)](_0x1eb31f)),_0x1eb31f[_0x419a0f(0x5c5)][_0x419a0f(0x8df)]=w['proto'][_0x419a0f(0x7df)][_0x419a0f(0x91f)][_0x419a0f(0x3a6)][_0x419a0f(0x256)]),_0x1eb31f;}};return this[_0x63ff9(0x548)]=!0x1,this[_0x63ff9(0x5e8)]=(0x0,w[_0x63ff9(0x595)])(_0x110b3a),this['eventHandler'](),this[_0x63ff9(0x86d)]=_0x18cfb2,this['client'];}catch(_0x23156b){let _0x29fed8='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x1c20dc=_0x23156b instanceof Error?_0x23156b[_0x63ff9(0x555)]:typeof _0x23156b==_0x63ff9(0x408)?JSON[_0x63ff9(0x2c2)](_0x23156b):_0x23156b,_0x24ada3=_0x29fed8+':\x20'+_0x1c20dc;throw this['logger'][_0x63ff9(0x7ba)](this[_0x63ff9(0x24d)]+'\x20('+this['instance'][_0x63ff9(0x193)]+_0x63ff9(0x60e)+_0x24ada3),console[_0x63ff9(0x7ba)](_0x63ff9(0x34a),_0x23156b),_0x23156b instanceof Error&&console[_0x63ff9(0x7ba)](_0x63ff9(0x185),_0x23156b[_0x63ff9(0x4ec)]),new x(_0x24ada3);}}['eventHandler'](){const _0x10dc3b=a0_0x26c870;this[_0x10dc3b(0x5e8)]['ev'][_0x10dc3b(0x653)](_0x2a24c2=>{const _0x2686ba=_0x10dc3b;if(!this[_0x2686ba(0x548)]){let _0x3ff8d9=this[_0x2686ba(0x382)][_0x2686ba(0x2c9)](_0x2686ba(0x22b));if(_0x2a24c2[_0x2686ba(0x69c)]){let _0x1a750e=_0x2a24c2['labels.edit'];this['messageHandle'][_0x2686ba(0x69c)](_0x1a750e);}if(_0x2a24c2[_0x2686ba(0x7d4)]){let _0x18bd7c=_0x2a24c2['labels.association'];this[_0x2686ba(0x2fe)][_0x2686ba(0x7d4)](_0x18bd7c);}if(_0x2a24c2[_0x2686ba(0x68e)]&&this[_0x2686ba(0x647)](_0x2a24c2[_0x2686ba(0x68e)]),_0x2a24c2['creds.update']&&this['instance']['authState']['saveCreds'](),_0x2a24c2[_0x2686ba(0x18a)]){let _0x319b0e=_0x2a24c2[_0x2686ba(0x18a)];this['messageHandle'][_0x2686ba(0x18a)](_0x319b0e,_0x3ff8d9);}if(_0x2a24c2[_0x2686ba(0x6f4)]){let _0x52a1fd=_0x2a24c2[_0x2686ba(0x6f4)];this[_0x2686ba(0x2fe)][_0x2686ba(0x6f4)](_0x52a1fd,_0x3ff8d9);}if(_0x2a24c2[_0x2686ba(0x59d)]){let _0x2a14f6=_0x2a24c2['messages.update'];this['messageHandle'][_0x2686ba(0x59d)](_0x2a14f6,_0x3ff8d9);}if(_0x2a24c2['presence.update']){let _0x2cbc34=_0x2a24c2[_0x2686ba(0x8f7)];if(this['localWebhook']?.[_0x2686ba(0x8fb)]&&_0x2cbc34['id']['includes']('@g.us'))return;this[_0x2686ba(0x3e3)](_0x2686ba(0x8f7),_0x2cbc34);}if(_0x2a24c2[_0x2686ba(0x853)]){let _0x179bd3=_0x2a24c2[_0x2686ba(0x853)];this[_0x2686ba(0x276)][_0x2686ba(0x853)](_0x179bd3);}if(_0x2a24c2['groups.update']){let _0x5248b8=_0x2a24c2['groups.update'];this[_0x2686ba(0x276)][_0x2686ba(0x372)](_0x5248b8);}if(_0x2a24c2[_0x2686ba(0x79e)]){let _0x1a0a36=_0x2a24c2[_0x2686ba(0x79e)];this[_0x2686ba(0x276)][_0x2686ba(0x79e)](_0x1a0a36);}if(_0x2a24c2[_0x2686ba(0x705)]){let _0x3eda0a=_0x2a24c2[_0x2686ba(0x705)];this['chatHandle'][_0x2686ba(0x705)](_0x3eda0a,_0x3ff8d9);}if(_0x2a24c2[_0x2686ba(0x796)]){let _0x276c35=_0x2a24c2['chats.update'];this['chatHandle']['chats.update'](_0x276c35,_0x3ff8d9);}if(_0x2a24c2[_0x2686ba(0x780)]){let _0x2f1387=_0x2a24c2['chats.delete'];this[_0x2686ba(0x6ca)][_0x2686ba(0x780)](_0x2f1387);}if(_0x2a24c2['contacts.upsert']){let _0x1c5a8c=_0x2a24c2['contacts.upsert'];this['contactHandle'][_0x2686ba(0x1d8)](_0x1c5a8c,_0x3ff8d9);}if(_0x2a24c2[_0x2686ba(0x778)]){let _0x3c0216=_0x2a24c2[_0x2686ba(0x778)];this[_0x2686ba(0x1ad)]['contacts.update'](_0x3c0216,_0x3ff8d9);}}});}async[a0_0x26c870(0x783)](_0x50674a,_0x4898a6){const _0x2f4403=a0_0x26c870;if(_0x4898a6>=0xa){console[_0x2f4403(0x7ba)](this[_0x2f4403(0x24d)]+'\x20('+this[_0x2f4403(0x79f)][_0x2f4403(0x193)]+_0x2f4403(0x6ce)),delete jt[_0x50674a[_0x2f4403(0x8f1)]['id']];return;}try{console[_0x2f4403(0x7ba)](this[_0x2f4403(0x24d)]+'\x20('+this[_0x2f4403(0x79f)][_0x2f4403(0x193)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x4898a6+0x1)),await this[_0x2f4403(0x5e8)][_0x2f4403(0x895)](JSON[_0x2f4403(0x199)](_0x50674a[_0x2f4403(0x900)][0x1],w['BufferJSON'][_0x2f4403(0x784)])),console[_0x2f4403(0x7ba)](_0x2f4403(0x181));}catch(_0x4cda6d){console[_0x2f4403(0x7ba)](this[_0x2f4403(0x24d)]+'\x20('+this['instance'][_0x2f4403(0x193)]+_0x2f4403(0x327)+_0x4cda6d),setTimeout(()=>this['retrySendMessage'](_0x50674a,_0x4898a6+0x1),Math[_0x2f4403(0x43d)](0x2,_0x4898a6)*0x3e8);}}async[a0_0x26c870(0x76a)](_0x4b0166){const _0xc48e88=a0_0x26c870;let _0x48fec2=_0x4b0166[_0xc48e88(0x8f1)]['remoteJid'][_0xc48e88(0x4eb)]('@g.us'),_0x532d99;if(_0x4b0166[_0xc48e88(0x8f1)][_0xc48e88(0x549)])_0x532d99=this[_0xc48e88(0x79f)][_0xc48e88(0x93b)];else{let _0x457295=_0x48fec2?_0x4b0166[_0xc48e88(0x8f1)][_0xc48e88(0x551)]:_0x4b0166['key'][_0xc48e88(0x489)];_0x532d99=(await this[_0xc48e88(0x1e7)](_0x457295,_0x4b0166[_0xc48e88(0x574)],!0x1))['cachedContact']['pictureUrl'];}_0x4b0166[_0xc48e88(0x861)]&&_0x4b0166[_0xc48e88(0x861)][_0xc48e88(0x58a)]()[_0xc48e88(0x2df)]<0xd&&(_0x4b0166[_0xc48e88(0x861)]=_0x4b0166[_0xc48e88(0x861)]*0x3e8);let _0x13bb4b={'_id':_0x4b0166[_0xc48e88(0x8f1)]['id'],'key':_0x4b0166[_0xc48e88(0x8f1)],'isGroup':_0x48fec2,'profilePictureUrl':_0x532d99,'pushName':_0x4b0166[_0xc48e88(0x574)],'message':{'text':'Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':_0xc48e88(0x7ba),'message_normalized':{'key':_0x4b0166['key'],'pushName':_0x4b0166['pushName'],'messageTimestamp':_0x4b0166[_0xc48e88(0x861)],'source':(0x0,w[_0xc48e88(0x1e4)])(_0x4b0166[_0xc48e88(0x8f1)]['id']),'text':_0xc48e88(0x44d)},'messageTimestamp':_0x4b0166[_0xc48e88(0x861)],'owner':this['instance']['wuid'],'source':(0x0,w[_0xc48e88(0x1e4)])(_0x4b0166[_0xc48e88(0x8f1)]['id'])};this['logger'][_0xc48e88(0x7ba)](this[_0xc48e88(0x24d)]+'\x20('+this[_0xc48e88(0x79f)][_0xc48e88(0x193)]+_0xc48e88(0x60e)+(_0x13bb4b['key']?.[_0xc48e88(0x549)]?_0xc48e88(0x78a):_0xc48e88(0x20e))+'\x20['+_0x13bb4b[_0xc48e88(0x8f1)]?.[_0xc48e88(0x489)]['replace']('@s.whatsapp.net','')+_0xc48e88(0x5f3)+_0x13bb4b[_0xc48e88(0x35c)]+')'),_0x13bb4b[_0xc48e88(0x46a)]?.[_0xc48e88(0x529)]&&this['logger']['error'](_0x4b0166[_0xc48e88(0x8f1)]['id']+':\x20'+_0x13bb4b[_0xc48e88(0x46a)]?.[_0xc48e88(0x529)]),await this[_0xc48e88(0x252)][_0xc48e88(0x555)][_0xc48e88(0x7bb)]([_0x13bb4b],this[_0xc48e88(0x79f)][_0xc48e88(0x193)]),await this[_0xc48e88(0x252)][_0xc48e88(0x29c)][_0xc48e88(0x7bb)]([_0x13bb4b]),this['sendDataWebhook']('messages.upsert',_0x13bb4b),F(this['instanceName'],'messages',{'message':_0x13bb4b});}[a0_0x26c870(0x48b)](_0x430765){return new Promise(_0x3d5721=>setTimeout(_0x3d5721,_0x430765));}[a0_0x26c870(0x7d7)](_0x12e912){const _0x434316=a0_0x26c870;_0x12e912=_0x12e912[_0x434316(0x821)](/\D/g,'');let _0x330811=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x434316(0x7aa)](_0x12e912);if(_0x330811&&_0x330811[0x1]==='55'){let _0x6c44f5=_0x330811[0x2],_0x3b6d1b=_0x330811[0x3],_0x2f4d87=_0x330811[0x4];if(parseInt(_0x6c44f5)>=0x1f&&_0x3b6d1b==='9')return _0x330811[0x1]+_0x6c44f5+_0x2f4d87;}return _0x12e912;}[a0_0x26c870(0x843)](_0x8cc9bf){const _0x251f5d=a0_0x26c870;return _0x8cc9bf[_0x251f5d(0x7bc)](_0x251f5d(0x334))||_0x8cc9bf[_0x251f5d(0x7bc)](_0x251f5d(0x220))||_0x8cc9bf[_0x251f5d(0x7bc)](_0x251f5d(0x248))?_0x8cc9bf:(_0x8cc9bf=_0x8cc9bf?.[_0x251f5d(0x821)](/\s/g,'')[_0x251f5d(0x821)](/\+/g,'')[_0x251f5d(0x821)](/\(/g,'')[_0x251f5d(0x821)](/\)/g,'')['split'](/\:/)[0x0][_0x251f5d(0x4c5)]('@')[0x0],_0x8cc9bf['length']>=0x12?(_0x8cc9bf=_0x8cc9bf[_0x251f5d(0x821)](/[^\d-]/g,''),_0x8cc9bf+_0x251f5d(0x334)):(_0x8cc9bf=_0x8cc9bf['replace'](/\D/g,''),_0x8cc9bf+_0x251f5d(0x220)));}async['updatePresence'](_0x449651){const _0x23e3ae=a0_0x26c870;let _0x55e175=(await this[_0x23e3ae(0x374)]({'numbers':[_0x449651['number']]}))[0x0];if(!_0x55e175[_0x23e3ae(0x426)]&&!(0x0,w[_0x23e3ae(0x84c)])(_0x55e175['jid'])&&!_0x55e175['jid'][_0x23e3ae(0x7bc)](_0x23e3ae(0x248)))throw new m(_0x55e175);let _0x291e36=_0x55e175[_0x23e3ae(0x291)];try{return await this[_0x23e3ae(0x5e8)][_0x23e3ae(0x2c8)](_0x291e36),await this[_0x23e3ae(0x5e8)][_0x23e3ae(0x346)](_0x449651[_0x23e3ae(0x1bc)],_0x291e36),{'status':0xc8,'presence':_0x449651[_0x23e3ae(0x1bc)]};}catch(_0x4377f2){let _0x5ea327='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x4b509c=_0x4377f2 instanceof Error?_0x4377f2[_0x23e3ae(0x555)]:typeof _0x4377f2==_0x23e3ae(0x408)?JSON[_0x23e3ae(0x2c2)](_0x4377f2):_0x4377f2,_0x183e3b=_0x5ea327+':\x20'+_0x4b509c;throw this['logger'][_0x23e3ae(0x7ba)](this[_0x23e3ae(0x24d)]+'\x20('+this[_0x23e3ae(0x79f)][_0x23e3ae(0x193)]+_0x23e3ae(0x60e)+_0x183e3b),new m(_0x183e3b);}}async['findAndUpdateCacheContact'](_0x437890,_0x1b2d6c,_0x201893,_0x16e89d=!0x0){const _0x1c94c2=a0_0x26c870;let _0x5bc54f=await this['repository'][_0x1c94c2(0x7fc)][_0x1c94c2(0x74c)]({'where':{'_id':_0x437890}});if(!_0x5bc54f&&!_0x16e89d)return;let _0x365393={'lastUpdate':Date[_0x1c94c2(0x1a6)]()};if(_0x201893||!_0x5bc54f?.['lastUpdate']||Date[_0x1c94c2(0x1a6)]()-_0x5bc54f[_0x1c94c2(0x258)]>0x18*0x3c*0x3c*0x3e8)try{let _0x432730=(await this['profilePicture'](_0x437890))[_0x1c94c2(0x93b)];_0x365393[_0x1c94c2(0x2d5)]=_0x432730;}catch(_0x270912){let _0x57aa3f=_0x1c94c2(0x75f),_0x42458e=_0x270912 instanceof Error?_0x270912[_0x1c94c2(0x555)]:typeof _0x270912==_0x1c94c2(0x408)?JSON[_0x1c94c2(0x2c2)](_0x270912):_0x270912,_0x30284e=_0x57aa3f+':\x20'+_0x42458e;throw this[_0x1c94c2(0x263)][_0x1c94c2(0x7ba)](this[_0x1c94c2(0x24d)]+'\x20('+this[_0x1c94c2(0x79f)][_0x1c94c2(0x193)]+_0x1c94c2(0x60e)+_0x30284e),new m(_0x30284e);}return _0x1b2d6c&&_0x5bc54f?.[_0x1c94c2(0x5fa)]!==_0x1b2d6c&&(_0x365393[_0x1c94c2(0x5fa)]=_0x1b2d6c),Object[_0x1c94c2(0x2ef)](_0x365393)[_0x1c94c2(0x2df)]>0x1&&(_0x5bc54f?await this[_0x1c94c2(0x252)][_0x1c94c2(0x7fc)][_0x1c94c2(0x447)]({'where':{'_id':_0x437890}},_0x365393):await this[_0x1c94c2(0x252)][_0x1c94c2(0x7fc)]['insert']([{'_id':_0x437890,..._0x365393}]),_0x5bc54f={..._0x5bc54f,..._0x365393}),{'cachedContact':_0x5bc54f};}async[a0_0x26c870(0x8a7)](_0x13fa64){const _0x5601d3=a0_0x26c870;let _0x2ff93c=this[_0x5601d3(0x843)](_0x13fa64);try{return{'wuid':_0x2ff93c,'profilePictureUrl':await this[_0x5601d3(0x5e8)][_0x5601d3(0x93b)](_0x2ff93c,_0x5601d3(0x389))};}catch{return{'wuid':_0x2ff93c,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x454965,_0xfe09c2,_0x5a2646){const _0x4fff6e=a0_0x26c870;let _0x36cd89=0x0;for(;_0x36cd89<0x5;)try{return await this[_0x4fff6e(0x641)](_0x454965,_0xfe09c2,_0x5a2646);}catch(_0x5a6282){if(_0x36cd89++,_0x5a6282 instanceof Error&&_0x5a6282[_0x4fff6e(0x555)]==='Connection\x20Closed'){if(_0x36cd89>=0x5)throw new m('Falha\x20após\x205\x20tentativas:\x20'+_0x5a6282[_0x4fff6e(0x555)]);this[_0x4fff6e(0x263)][_0x4fff6e(0x6be)](_0x4fff6e(0x8f3)+_0x36cd89+_0x4fff6e(0x78e)+_0x5a6282[_0x4fff6e(0x555)]+_0x4fff6e(0x5e1)+0x1388/0x3e8+_0x4fff6e(0x1f5)),await new Promise(_0x4f93c6=>setTimeout(_0x4f93c6,0x1388));}else throw new m(_0x5a6282[_0x4fff6e(0x555)]);}}async[a0_0x26c870(0x641)](_0x3d5683,_0x36b9a6,_0x398374){const _0x3fe565=a0_0x26c870;let _0x4bdc7b;try{let _0x40275d=(await this[_0x3fe565(0x374)]({'numbers':[_0x3d5683]}))?.['shift']();if(!_0x40275d[_0x3fe565(0x426)]&&!(0x0,w[_0x3fe565(0x84c)])(_0x40275d[_0x3fe565(0x291)])&&!_0x40275d[_0x3fe565(0x291)][_0x3fe565(0x7bc)](_0x3fe565(0x248)))throw new m(_0x40275d);_0x4bdc7b=_0x40275d['jid'];}catch(_0x4f2bbd){_0x4bdc7b=_0x3d5683,this[_0x3fe565(0x263)][_0x3fe565(0x6be)](this['instanceName']+'\x20('+this[_0x3fe565(0x79f)][_0x3fe565(0x193)]+_0x3fe565(0x678)+_0x4f2bbd[_0x3fe565(0x555)]),this[_0x3fe565(0x263)][_0x3fe565(0x6be)](this[_0x3fe565(0x24d)]+'\x20('+this['instance']['wuid']+'):\x20sender\x20=\x20number:\x20'+_0x4bdc7b);}try{if(_0x4bdc7b||(_0x4bdc7b=_0x3d5683,this[_0x3fe565(0x263)][_0x3fe565(0x6be)](this[_0x3fe565(0x24d)]+'\x20('+this[_0x3fe565(0x79f)]['wuid']+_0x3fe565(0x94a)+_0x4bdc7b)),_0x398374||(_0x398374={}),_0x398374?.[_0x3fe565(0x89a)]){await this[_0x3fe565(0x5e8)][_0x3fe565(0x2c8)](_0x4bdc7b),await this[_0x3fe565(0x5e8)][_0x3fe565(0x346)](_0x398374?.[_0x3fe565(0x1bc)]??'composing',_0x4bdc7b);let _0x241ae0=Math[_0x3fe565(0x45f)](_0x398374[_0x3fe565(0x89a)],0x2710);await(0x0,w['delay'])(_0x241ae0),await this['client']['sendPresenceUpdate'](_0x3fe565(0x478),_0x4bdc7b);}let _0x20f399=_0x398374?.[_0x3fe565(0x68f)]!=!0x1?void 0x0:!0x1,_0x11e377;if(_0x398374?.['quoted']){let _0x1c9584=_0x398374?.[_0x3fe565(0x693)],_0x503c39=_0x1c9584?.[_0x3fe565(0x555)]?_0x1c9584:await this[_0x3fe565(0x6a6)](_0x1c9584[_0x3fe565(0x8f1)],!0x0);_0x503c39&&(_0x11e377=_0x503c39);}let _0x4d2fa3=await this['repository']['chat'][_0x3fe565(0x74c)]({'where':{'_id':_0x4bdc7b}},this['instance']['wuid']),_0x7bc6d1,_0x176fcc=null;if((0x0,w[_0x3fe565(0x84c)])(_0x4bdc7b))try{if(_0x176fcc=_0x4d2fa3[_0x3fe565(0x61d)],!_0x176fcc)throw new U(_0x3fe565(0x473));if(!_0x176fcc[_0x3fe565(0x417)])throw new m(_0x3fe565(0x306));_0x398374?.[_0x3fe565(0x67b)]&&(_0x398374[_0x3fe565(0x67b)]?.[_0x3fe565(0x660)]?_0x7bc6d1=_0x176fcc[_0x3fe565(0x4c3)][_0x3fe565(0x27c)](_0x5b61d5=>_0x5b61d5['id']):_0x398374[_0x3fe565(0x67b)]?.[_0x3fe565(0x302)]?.[_0x3fe565(0x2df)]&&(_0x7bc6d1=_0x398374[_0x3fe565(0x67b)]['mentioned'][_0x3fe565(0x27c)](_0x3e932d=>{const _0x2d4512=_0x3fe565;let _0xd3ebc4=this['createJid'](_0x3e932d);return(0x0,w[_0x2d4512(0x84c)])(_0xd3ebc4)?null:_0xd3ebc4;})));}catch(_0x1fd9ac){throw _0x1fd9ac instanceof U?new U(_0x3fe565(0x473)):_0x1fd9ac instanceof m?new m(_0x3fe565(0x306)):new Error(_0x3fe565(0x523));}let _0x525470=await((async()=>{const _0x30e529=_0x3fe565;let _0x53daeb={'quoted':_0x11e377,'ephemeralExpiration':_0x4d2fa3?.[_0x30e529(0x243)]??0x0};if(!_0x36b9a6['audio']&&!_0x36b9a6[_0x30e529(0x470)]&&!_0x36b9a6['sticker']&&!_0x36b9a6[_0x30e529(0x26b)]&&_0x4bdc7b!=='status@broadcast'&&_0x36b9a6[_0x30e529(0x656)])return await this['client'][_0x30e529(0x4b0)](_0x4bdc7b,{'react':{'text':_0x36b9a6[_0x30e529(0x656)][_0x30e529(0x529)],'key':_0x36b9a6[_0x30e529(0x656)]['key']}},_0x53daeb);if(_0x36b9a6[_0x30e529(0x26b)]){let _0xf2f056=_0x36b9a6[_0x30e529(0x26b)];return _0x398374?.[_0x30e529(0x51f)]&&(_0xf2f056=await this[_0x30e529(0x43a)](_0xf2f056,_0x4bdc7b)),await this[_0x30e529(0x5e8)][_0x30e529(0x4b0)](_0x4bdc7b,{'text':_0xf2f056,'mentions':_0x7bc6d1,'linkPreview':_0x20f399},_0x53daeb);}return!_0x36b9a6[_0x30e529(0x7a7)]&&!_0x36b9a6['poll']&&_0x4bdc7b!=_0x30e529(0x51d)?await this[_0x30e529(0x5e8)][_0x30e529(0x4b0)](_0x4bdc7b,{'forward':{'key':{'remoteJid':this[_0x30e529(0x79f)][_0x30e529(0x193)],'fromMe':!0x0},'message':_0x36b9a6},'mentions':_0x7bc6d1},_0x53daeb):_0x4bdc7b===_0x30e529(0x51d)?await this[_0x30e529(0x5e8)][_0x30e529(0x4b0)](_0x4bdc7b,_0x36b9a6[_0x30e529(0x284)][_0x30e529(0x769)],{'backgroundColor':_0x36b9a6[_0x30e529(0x284)][_0x30e529(0x198)]['backgroundColor'],'font':_0x36b9a6['status'][_0x30e529(0x198)][_0x30e529(0x33b)],'statusJidList':_0x36b9a6[_0x30e529(0x284)][_0x30e529(0x198)][_0x30e529(0x3ec)]}):await this['client']['sendMessage'](_0x4bdc7b,_0x36b9a6,_0x53daeb);})()),_0x3bd156=(0x0,w[_0x3fe565(0x326)])(_0x525470['message']),_0x44d436=(0x0,w[_0x3fe565(0x37c)])(_0x3bd156),{message_normalized:_0x7e7435}=this['normalizeMessage'](_0x3bd156,_0x44d436,null),_0x52e842={'_id':_0x525470[_0x3fe565(0x8f1)]['id'],'key':_0x525470[_0x3fe565(0x8f1)],'pushName':_0x525470[_0x3fe565(0x574)],'isGroup':_0x525470[_0x3fe565(0x8f1)][_0x3fe565(0x489)][_0x3fe565(0x4eb)](_0x3fe565(0x334)),'profilePictureUrl':this['instance'][_0x3fe565(0x93b)],'message':_0x3bd156,'messageType':_0x44d436,'message_normalized':{'key':_0x525470[_0x3fe565(0x8f1)],'pushName':_0x525470[_0x3fe565(0x574)],'messageTimestamp':_0x525470['messageTimestamp']&&_0x525470['messageTimestamp']['toString']()['length']<0xd?_0x525470[_0x3fe565(0x861)]*0x3e8:_0x525470[_0x3fe565(0x861)]||null,'source':(0x0,w[_0x3fe565(0x1e4)])(_0x525470[_0x3fe565(0x8f1)]['id']),..._0x7e7435},'messageTimestamp':_0x525470['messageTimestamp']&&_0x525470[_0x3fe565(0x861)][_0x3fe565(0x58a)]()[_0x3fe565(0x2df)]<0xd?_0x525470[_0x3fe565(0x861)]*0x3e8:_0x525470[_0x3fe565(0x861)]||null,'owner':this[_0x3fe565(0x79f)][_0x3fe565(0x193)],'source':(0x0,w[_0x3fe565(0x1e4)])(_0x525470[_0x3fe565(0x8f1)]['id'])};return this[_0x3fe565(0x263)][_0x3fe565(0x6be)](this[_0x3fe565(0x24d)]+'\x20('+this[_0x3fe565(0x79f)][_0x3fe565(0x193)]+'):\x20enviado\x20para\x20['+_0x52e842['key']?.[_0x3fe565(0x489)][_0x3fe565(0x821)](_0x3fe565(0x220),'')+_0x3fe565(0x5f3)+_0x52e842[_0x3fe565(0x35c)]+')'),_0x52e842['message_normalized']?.[_0x3fe565(0x529)]&&this['logger']['warn'](_0x52e842['message_normalized']?.[_0x3fe565(0x529)]),this[_0x3fe565(0x3e3)](_0x3fe565(0x6aa),_0x52e842),F(this['instanceName'],_0x3fe565(0x55a),{'message':_0x52e842}),this[_0x3fe565(0x5ae)](this[_0x3fe565(0x382)][_0x3fe565(0x2c9)](_0x3fe565(0x22b)),_0x52e842,'SEND_MESSAGE',_0x4d2fa3),await this[_0x3fe565(0x252)][_0x3fe565(0x555)][_0x3fe565(0x7bb)]([_0x52e842],this[_0x3fe565(0x79f)]['wuid']),_0x525470;}catch(_0x532b77){let _0x2035ea=_0x3fe565(0x3a0)+_0x4bdc7b,_0x197040=_0x532b77 instanceof Error?_0x532b77[_0x3fe565(0x555)]:typeof _0x532b77==_0x3fe565(0x408)?JSON[_0x3fe565(0x2c2)](_0x532b77):_0x532b77,_0x4653d4=_0x2035ea+':\x20'+_0x197040;throw this[_0x3fe565(0x263)][_0x3fe565(0x7ba)](this[_0x3fe565(0x24d)]+'\x20('+this[_0x3fe565(0x79f)]['wuid']+'):\x20'+_0x4653d4),new m(_0x4653d4);}}async[a0_0x26c870(0x68a)](_0x5ea54a,_0x47b3c9,_0x299952){const _0x4ad47e=a0_0x26c870;let _0x17afac=this[_0x4ad47e(0x843)](_0x5ea54a),_0xd9e000=(await this[_0x4ad47e(0x374)]({'numbers':[_0x17afac]}))[0x0];if(!_0xd9e000[_0x4ad47e(0x426)]&&!(0x0,w[_0x4ad47e(0x84c)])(_0xd9e000['jid']))throw new m(_0xd9e000);let _0x4bd2ac=(0x0,w[_0x4ad47e(0x84c)])(_0x17afac)?_0x17afac:_0xd9e000[_0x4ad47e(0x291)];if((0x0,w[_0x4ad47e(0x84c)])(_0x4bd2ac))try{await this[_0x4ad47e(0x5e8)][_0x4ad47e(0x53b)](_0x4bd2ac);}catch{throw new m(_0x4ad47e(0x55b));}try{_0x299952?.[_0x4ad47e(0x89a)]&&(await this['client'][_0x4ad47e(0x2c8)](_0x4bd2ac),await this[_0x4ad47e(0x5e8)][_0x4ad47e(0x346)](_0x299952?.['presence']??_0x4ad47e(0x41d),_0x17afac),await(0x0,w[_0x4ad47e(0x89a)])(_0x299952[_0x4ad47e(0x89a)]),await this[_0x4ad47e(0x5e8)]['sendPresenceUpdate'](_0x4ad47e(0x478),_0x4bd2ac));let _0x4807e8=await((async()=>{const _0x53f617=_0x4ad47e;let _0x3b5ae6,_0x128bcd='3EB0'+(0x0,re['randomBytes'])(0x12)[_0x53f617(0x58a)](_0x53f617(0x863))['toUpperCase'](),_0x4c70f3=(0x0,w['generateWAMessageFromContent'])(_0x4bd2ac,_0x47b3c9,{'timestamp':new Date(),'userJid':this[_0x53f617(0x79f)]['wuid'],'messageId':_0x128bcd,'quoted':_0x3b5ae6}),_0x38a453=await this['client']['relayMessage'](_0x4bd2ac,_0x4c70f3['message'],{'messageId':_0x128bcd});_0x4c70f3[_0x53f617(0x8f1)]={'id':_0x38a453,'remoteJid':_0x17afac,'participant':(0x0,w[_0x53f617(0x376)])(_0x17afac)?void 0x0:_0x17afac,'fromMe':!0x0};for(let [_0x39e8bd,_0x47a430]of Object['entries'](_0x4c70f3))(!_0x47a430||Array[_0x53f617(0x67a)](_0x47a430)&&_0x47a430[_0x53f617(0x2df)]===0x0)&&delete _0x4c70f3[_0x39e8bd];return this[_0x53f617(0x5e8)]['ev'][_0x53f617(0x3d6)]('messages.upsert',{'messages':[_0x4c70f3],'type':_0x53f617(0x758)}),_0x4c70f3;})()),_0x1553d3=await this[_0x4ad47e(0x252)][_0x4ad47e(0x629)][_0x4ad47e(0x74c)]({'where':{'_id':_0x4bd2ac}},this[_0x4ad47e(0x79f)][_0x4ad47e(0x193)]),_0x3bf709=(0x0,w['normalizeMessageContent'])(_0x4807e8[_0x4ad47e(0x555)]),_0x4f0132=(0x0,w[_0x4ad47e(0x37c)])(_0x3bf709),{message_normalized:_0xa74e5e}=this[_0x4ad47e(0x554)](_0x3bf709,_0x4f0132,null),_0x45f553={'_id':_0x4807e8[_0x4ad47e(0x8f1)]['id'],'key':_0x4807e8[_0x4ad47e(0x8f1)],'pushName':_0x4807e8['pushName'],'isGroup':_0x4807e8['key']['remoteJid'][_0x4ad47e(0x4eb)](_0x4ad47e(0x334)),'profilePictureUrl':this[_0x4ad47e(0x79f)]['profilePictureUrl'],'message':_0x3bf709,'messageType':_0x4f0132,'message_normalized':{'key':_0x4807e8[_0x4ad47e(0x8f1)],'pushName':_0x4807e8['pushName'],'messageTimestamp':_0x4807e8['messageTimestamp']&&_0x4807e8[_0x4ad47e(0x861)][_0x4ad47e(0x58a)]()['length']<0xd?_0x4807e8[_0x4ad47e(0x861)]*0x3e8:_0x4807e8['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x4807e8[_0x4ad47e(0x8f1)]['id']),..._0xa74e5e},'messageTimestamp':_0x4807e8[_0x4ad47e(0x861)]&&_0x4807e8[_0x4ad47e(0x861)][_0x4ad47e(0x58a)]()[_0x4ad47e(0x2df)]<0xd?_0x4807e8['messageTimestamp']*0x3e8:_0x4807e8['messageTimestamp']||null,'owner':this[_0x4ad47e(0x79f)][_0x4ad47e(0x193)],'source':(0x0,w[_0x4ad47e(0x1e4)])(_0x4807e8[_0x4ad47e(0x8f1)]['id'])};return this[_0x4ad47e(0x263)][_0x4ad47e(0x6be)](this[_0x4ad47e(0x24d)]+'\x20('+this[_0x4ad47e(0x79f)][_0x4ad47e(0x193)]+_0x4ad47e(0x343)+_0x45f553[_0x4ad47e(0x8f1)]?.['remoteJid'][_0x4ad47e(0x821)](_0x4ad47e(0x220),'')+_0x4ad47e(0x5f3)+_0x45f553['messageType']+')'),_0x45f553[_0x4ad47e(0x46a)]?.[_0x4ad47e(0x529)]&&this[_0x4ad47e(0x263)]['warn'](_0x45f553['message_normalized']?.[_0x4ad47e(0x529)]),this[_0x4ad47e(0x3e3)](_0x4ad47e(0x6aa),_0x45f553),F(this[_0x4ad47e(0x24d)],_0x4ad47e(0x55a),{'message':_0x45f553}),this[_0x4ad47e(0x5ae)](this[_0x4ad47e(0x382)][_0x4ad47e(0x2c9)]('DATABASE'),_0x45f553,'SEND_MESSAGE',_0x1553d3),await this[_0x4ad47e(0x252)]['message'][_0x4ad47e(0x7bb)]([_0x45f553],this[_0x4ad47e(0x79f)][_0x4ad47e(0x193)]),_0x4807e8;}catch(_0x21df2a){throw this[_0x4ad47e(0x263)]['error'](_0x21df2a),new m(_0x21df2a['toString']());}}get['connectionStatus'](){const _0x30d72e=a0_0x26c870;return this[_0x30d72e(0x6c0)];}async[a0_0x26c870(0x6e1)](_0x5cceb8){const _0x3bbb2a=a0_0x26c870;return await this['sendMessageWithRetry'](_0x5cceb8[_0x3bbb2a(0x684)],{'conversation':_0x5cceb8[_0x3bbb2a(0x6e1)][_0x3bbb2a(0x529)]},_0x5cceb8?.[_0x3bbb2a(0x584)]);}async['formatStatusMessage'](_0x402f57){const _0x165bdc=a0_0x26c870;if(!_0x402f57[_0x165bdc(0x760)])throw new m(_0x165bdc(0x6a2));if(!_0x402f57[_0x165bdc(0x769)])throw new m(_0x165bdc(0x510));if(_0x402f57[_0x165bdc(0x7c5)]){let _0x4cef59=await this['repository'][_0x165bdc(0x56a)][_0x165bdc(0x82c)]({'where':{}},this[_0x165bdc(0x79f)][_0x165bdc(0x193)]);if(!_0x4cef59[_0x165bdc(0x2df)])throw new m('Contacts\x20not\x20found');_0x402f57[_0x165bdc(0x3ec)]=_0x4cef59['filter'](_0x2eaeba=>_0x2eaeba[_0x165bdc(0x574)])[_0x165bdc(0x27c)](_0x18c605=>_0x18c605[_0x165bdc(0x3fa)]);}if(!_0x402f57[_0x165bdc(0x3ec)]?.['length']&&!_0x402f57[_0x165bdc(0x7c5)])throw new m(_0x165bdc(0x48c));if(_0x402f57['type']===_0x165bdc(0x529)){if(!_0x402f57[_0x165bdc(0x8a5)])throw new m(_0x165bdc(0x6b0));if(!_0x402f57[_0x165bdc(0x33b)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x402f57[_0x165bdc(0x769)]},'option':{'backgroundColor':_0x402f57[_0x165bdc(0x8a5)],'font':_0x402f57['font'],'statusJidList':_0x402f57[_0x165bdc(0x3ec)]}};}if(_0x402f57[_0x165bdc(0x760)]===_0x165bdc(0x389))return{'content':{'image':{'url':_0x402f57[_0x165bdc(0x769)]},'caption':_0x402f57[_0x165bdc(0x741)]},'option':{'statusJidList':_0x402f57['statusJidList']}};if(_0x402f57['type']===_0x165bdc(0x361))return{'content':{'video':{'url':_0x402f57[_0x165bdc(0x769)]},'caption':_0x402f57[_0x165bdc(0x741)]},'option':{'statusJidList':_0x402f57[_0x165bdc(0x3ec)]}};if(_0x402f57['type']==='audio'){this[_0x165bdc(0x263)]['verbose'](this[_0x165bdc(0x24d)]+'\x20('+this[_0x165bdc(0x79f)][_0x165bdc(0x193)]+_0x165bdc(0x614)),this[_0x165bdc(0x263)][_0x165bdc(0x69d)](this[_0x165bdc(0x24d)]+'\x20('+this[_0x165bdc(0x79f)][_0x165bdc(0x193)]+_0x165bdc(0x2b7));let _0x3a3b67=await this[_0x165bdc(0x42a)](_0x402f57[_0x165bdc(0x769)]);if(typeof _0x3a3b67==_0x165bdc(0x446)){this['logger'][_0x165bdc(0x69d)](this[_0x165bdc(0x24d)]+'\x20('+this[_0x165bdc(0x79f)][_0x165bdc(0x193)]+_0x165bdc(0x347));let _0x2c3660=k[_0x165bdc(0x39b)](_0x3a3b67)[_0x165bdc(0x58a)](_0x165bdc(0x54b));return{'content':{'audio':Buffer[_0x165bdc(0x556)](_0x2c3660,'base64'),'ptt':!0x0,'mimetype':_0x165bdc(0x20d)},'option':{'statusJidList':_0x402f57['statusJidList']}};}else throw new x(_0x3a3b67);}throw new m(_0x165bdc(0x945));}async[a0_0x26c870(0x633)](_0x4c1a76){const _0x413603=a0_0x26c870;return await this[_0x413603(0x1ee)](_0x413603(0x51d),{'status':await this[_0x413603(0x85f)](_0x4c1a76[_0x413603(0x633)])});}async[a0_0x26c870(0x7f4)](_0x5dace9){const _0x5795c3=a0_0x26c870;try{let _0x140d62=await(0x0,w[_0x5795c3(0x579)])({[_0x5dace9[_0x5795c3(0x7bf)]]:(0x0,J[_0x5795c3(0x1c8)])(_0x5dace9['media'])?{'url':_0x5dace9[_0x5795c3(0x1bd)]}:Buffer['from'](_0x5dace9[_0x5795c3(0x1bd)],'base64')},{'upload':this['client'][_0x5795c3(0x902)]}),_0x519542=_0x5dace9[_0x5795c3(0x7bf)]+'Message';if(_0x5dace9[_0x5795c3(0x7bf)]===_0x5795c3(0x54a)&&!_0x5dace9[_0x5795c3(0x1de)]){let _0x4ac99f=new RegExp(/.*\/(.+?)\./)['exec'](_0x5dace9[_0x5795c3(0x1bd)]);_0x5dace9[_0x5795c3(0x1de)]=_0x4ac99f?_0x4ac99f[0x1]:null;}let _0x3e281f;return(0x0,J[_0x5795c3(0x1c8)])(_0x5dace9[_0x5795c3(0x1bd)])?_0x3e281f=(await K['default'][_0x5795c3(0x2c9)](_0x5dace9[_0x5795c3(0x1bd)],{'responseType':_0x5795c3(0x73c)}))['headers']['content-type']:_0x3e281f=(0x0,Li['getMIMEType'])(_0x5dace9[_0x5795c3(0x1de)]),_0x140d62[_0x519542]['caption']=_0x5dace9?.[_0x5795c3(0x741)],_0x140d62[_0x519542][_0x5795c3(0x627)]=_0x3e281f,_0x140d62[_0x519542]['fileName']=_0x5dace9[_0x5795c3(0x1de)],_0x5dace9[_0x5795c3(0x7bf)]==='video'&&(_0x140d62[_0x519542][_0x5795c3(0x2c4)]=Uint8Array[_0x5795c3(0x556)]((0x0,Je['readFileSync'])((0x0,j[_0x5795c3(0x5ba)])(process[_0x5795c3(0x919)](),_0x5795c3(0x62c)))),_0x140d62[_0x519542][_0x5795c3(0x550)]=!0x1),(0x0,w[_0x5795c3(0x505)])('',{[_0x519542]:{..._0x140d62[_0x519542]}},{'userJid':this[_0x5795c3(0x79f)][_0x5795c3(0x193)]});}catch(_0x3028fa){let _0x2e1708=_0x5795c3(0x2ea),_0x3efdc0=_0x3028fa instanceof Error?_0x3028fa[_0x5795c3(0x555)]:typeof _0x3028fa==_0x5795c3(0x408)?JSON[_0x5795c3(0x2c2)](_0x3028fa):_0x3028fa,_0x441d85=_0x2e1708+':\x20'+_0x3efdc0;throw this[_0x5795c3(0x263)][_0x5795c3(0x7ba)](this[_0x5795c3(0x24d)]+'\x20('+this[_0x5795c3(0x79f)][_0x5795c3(0x193)]+_0x5795c3(0x60e)+_0x441d85),new x(_0x441d85);}}async['mediaMessage'](_0x3d7fea){const _0x493afd=a0_0x26c870;let _0x2b9b84=0x0;for(;_0x2b9b84<0x5;)try{let _0x436b36=await this['prepareMediaMessage'](_0x3d7fea[_0x493afd(0x748)]);return await this['sendMessageWithRetry'](_0x3d7fea['number'],{..._0x436b36[_0x493afd(0x555)]},_0x3d7fea?.[_0x493afd(0x584)]);}catch(_0xea8622){if(_0x2b9b84++,_0xea8622 instanceof Error&&_0xea8622[_0x493afd(0x555)]===_0x493afd(0x729)){if(_0x2b9b84>=0x5)throw new m(_0x493afd(0x585)+_0xea8622[_0x493afd(0x555)]);this[_0x493afd(0x263)][_0x493afd(0x6be)]('Tentativa\x20'+_0x2b9b84+_0x493afd(0x2f3)+_0xea8622['message']+_0x493afd(0x5e1)+0x1388/0x3e8+_0x493afd(0x1f5)),await new Promise(_0x5928ab=>setTimeout(_0x5928ab,0x1388));}else throw new m(_0xea8622[_0x493afd(0x555)]);}}async['convertToWebP'](_0x42c4ec,_0x42312b){const _0x49b57a=a0_0x26c870;try{this['logger'][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x68d));let _0x4db993,_0x2b8f63=_0x42312b+'-'+new Date()['getTime']();this[_0x49b57a(0x263)]['verbose'](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x2f8)+_0x2b8f63);let _0x9f1427=''+(0x0,j['join'])(this[_0x49b57a(0x484)],_0x2b8f63+'.webp');if(this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x49b57a(0x7d5)+_0x9f1427),(0x0,J[_0x49b57a(0x88c)])(_0x42c4ec)){this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x6d3));let _0x88de6e=_0x42c4ec[_0x49b57a(0x821)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x583e7e=Buffer[_0x49b57a(0x556)](_0x88de6e,'base64');_0x4db993=''+(0x0,j[_0x49b57a(0x5ba)])(this[_0x49b57a(0x484)],_0x49b57a(0x6ff)+_0x2b8f63+_0x49b57a(0x721)),this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this['instanceName']+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x4a7)+_0x4db993),await(0x0,qt[_0x49b57a(0x595)])(_0x583e7e)[_0x49b57a(0x85d)](_0x4db993),this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+'):Image\x20created');}else{this[_0x49b57a(0x263)]['verbose'](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x750));let _0x37b585=new Date()[_0x49b57a(0x6cc)](),_0x42cad3=_0x42c4ec+_0x49b57a(0x2f5)+_0x37b585;this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this['instance'][_0x49b57a(0x193)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x42cad3);let _0x5267cd=await K[_0x49b57a(0x595)][_0x49b57a(0x2c9)](_0x42cad3,{'responseType':_0x49b57a(0x73c)});this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x8ee));let _0x5ce483=Buffer[_0x49b57a(0x556)](_0x5267cd[_0x49b57a(0x362)],_0x49b57a(0x78b));_0x4db993=''+(0x0,j['join'])(this[_0x49b57a(0x484)],_0x49b57a(0x6ff)+_0x2b8f63+_0x49b57a(0x721)),this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x4a7)+_0x4db993),await(0x0,qt[_0x49b57a(0x595)])(_0x5ce483)[_0x49b57a(0x85d)](_0x4db993),this['logger'][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this['instance']['wuid']+_0x49b57a(0x8e9));}return await(0x0,qt[_0x49b57a(0x595)])(_0x4db993)[_0x49b57a(0x4ed)]()[_0x49b57a(0x85d)](_0x9f1427),this[_0x49b57a(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x49b57a(0x79f)][_0x49b57a(0x193)]+_0x49b57a(0x4b9)),k['unlinkSync'](_0x4db993),this[_0x49b57a(0x263)][_0x49b57a(0x69d)](this[_0x49b57a(0x24d)]+'\x20('+this['instance']['wuid']+_0x49b57a(0x51e)),_0x9f1427;}catch(_0x39cd80){let _0x1dc670='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x261269=_0x39cd80 instanceof Error?_0x39cd80[_0x49b57a(0x555)]:typeof _0x39cd80==_0x49b57a(0x408)?JSON['stringify'](_0x39cd80):_0x39cd80,_0x1a8375=_0x1dc670+':\x20'+_0x261269;this['logger'][_0x49b57a(0x7ba)](this['instanceName']+'\x20('+this[_0x49b57a(0x79f)]['wuid']+_0x49b57a(0x60e)+_0x1a8375);}}async[a0_0x26c870(0x5ee)](_0x375561){const _0x3d377f=a0_0x26c870;let _0x9e386c=await this[_0x3d377f(0x1ac)](_0x375561[_0x3d377f(0x8fa)][_0x3d377f(0x389)],_0x375561[_0x3d377f(0x684)]),_0x4870a2=await this[_0x3d377f(0x1ee)](_0x375561[_0x3d377f(0x684)],{'sticker':{'url':_0x9e386c}},_0x375561?.['options']);return k[_0x3d377f(0x477)](_0x9e386c),this[_0x3d377f(0x263)]['verbose'](this[_0x3d377f(0x24d)]+'\x20('+this[_0x3d377f(0x79f)][_0x3d377f(0x193)]+_0x3d377f(0x7cc)),_0x4870a2;}async[a0_0x26c870(0x17e)](_0x4c370b){const _0x35cddb=a0_0x26c870;if(this[_0x35cddb(0x263)][_0x35cddb(0x69d)](this[_0x35cddb(0x24d)]+'\x20('+this[_0x35cddb(0x79f)]['wuid']+'):Sending\x20audio\x20whatsapp'),!_0x4c370b[_0x35cddb(0x584)]?.['encoding']&&_0x4c370b[_0x35cddb(0x584)]?.[_0x35cddb(0x356)]!==!0x1&&(_0x4c370b['options'][_0x35cddb(0x356)]=!0x0),_0x4c370b[_0x35cddb(0x584)]?.[_0x35cddb(0x356)]){let _0x188624=await this['convertaudio'](_0x4c370b[_0x35cddb(0x259)]['audio']);if(typeof _0x188624=='string'){let _0x34268b=k[_0x35cddb(0x39b)](_0x188624)[_0x35cddb(0x58a)](_0x35cddb(0x54b));return this['sendMessageWithRetry'](_0x4c370b[_0x35cddb(0x684)],{'audio':Buffer[_0x35cddb(0x556)](_0x34268b,_0x35cddb(0x54b)),'ptt':!0x0,'mimetype':_0x35cddb(0x1b7)},{'presence':_0x35cddb(0x20c),'delay':_0x4c370b?.['options']?.[_0x35cddb(0x89a)]});}else throw new x(_0x188624);}return await this['sendMessageWithRetry'](_0x4c370b[_0x35cddb(0x684)],{'audio':(0x0,J[_0x35cddb(0x1c8)])(_0x4c370b[_0x35cddb(0x259)][_0x35cddb(0x7a7)])?{'url':_0x4c370b['audioMessage']['audio']}:Buffer[_0x35cddb(0x556)](_0x4c370b[_0x35cddb(0x259)][_0x35cddb(0x7a7)],_0x35cddb(0x54b)),'ptt':!0x0,'mimetype':_0x35cddb(0x1b7)},{'presence':_0x35cddb(0x20c),'delay':_0x4c370b?.[_0x35cddb(0x584)]?.[_0x35cddb(0x89a)]});}async[a0_0x26c870(0x42a)](_0x2b716b){const _0x3a8381=a0_0x26c870;this[_0x3a8381(0x263)][_0x3a8381(0x69d)](this['instanceName']+'\x20('+this[_0x3a8381(0x79f)][_0x3a8381(0x193)]+'):Processing\x20audio');let _0xd8e187=(0x0,J[_0x3a8381(0x1c8)])(_0x2b716b)?(0x0,re['createHash'])(_0x3a8381(0x606))['update'](_0x2b716b)['digest']('hex'):(0x0,re[_0x3a8381(0x922)])(_0x3a8381(0x606))[_0x3a8381(0x447)](_0x2b716b)[_0x3a8381(0x586)](_0x3a8381(0x863)),_0x327642=''+(0x0,j[_0x3a8381(0x5ba)])(this[_0x3a8381(0x484)],_0xd8e187+_0x3a8381(0x3a4));if(k[_0x3a8381(0x643)](_0x327642))return this['logger'][_0x3a8381(0x69d)](this['instanceName']+'\x20('+this['instance'][_0x3a8381(0x193)]+_0x3a8381(0x471)),_0x327642;let _0x138bcd=''+(0x0,j[_0x3a8381(0x5ba)])(this[_0x3a8381(0x484)],_0x3a8381(0x6ff)+(0x0,Q['v4'])()+_0x3a8381(0x905));if((0x0,J[_0x3a8381(0x1c8)])(_0x2b716b)){let _0x180220=new Date()['getTime'](),_0x13d5f7=_0x2b716b+'?timestamp='+_0x180220,_0x1b2d38=await K['default']['get'](_0x13d5f7,{'responseType':_0x3a8381(0x73c)});k[_0x3a8381(0x91d)](_0x138bcd,_0x1b2d38[_0x3a8381(0x362)]);}else{let _0x1d8818=Buffer[_0x3a8381(0x556)](_0x2b716b,_0x3a8381(0x54b));k[_0x3a8381(0x91d)](_0x138bcd,_0x1d8818);}return new Promise((_0x426313,_0x53cdb2)=>{const _0x477f82=_0x3a8381;(0x0,qe[_0x477f82(0x7aa)])(Us[_0x477f82(0x595)][_0x477f82(0x847)]+_0x477f82(0x3cd)+_0x138bcd+_0x477f82(0x433)+_0x327642+'\x20-y',_0x548d88=>{const _0x827d73=_0x477f82;if(k[_0x827d73(0x477)](_0x138bcd),_0x548d88){this['logger'][_0x827d73(0x69d)](this['instanceName']+'\x20('+this[_0x827d73(0x79f)][_0x827d73(0x193)]+_0x827d73(0x25a)),_0x53cdb2(_0x548d88);return;}this[_0x827d73(0x263)]['verbose'](this[_0x827d73(0x24d)]+'\x20('+this[_0x827d73(0x79f)]['wuid']+_0x827d73(0x3bc)),_0x426313(_0x327642);});});}async[a0_0x26c870(0x1eb)](_0x54074f){const _0x3cde32=a0_0x26c870;this[_0x3cde32(0x263)][_0x3cde32(0x69d)](this['instanceName']+'\x20('+this[_0x3cde32(0x79f)][_0x3cde32(0x193)]+_0x3cde32(0x2b7));let _0x5829a4=(0x0,re[_0x3cde32(0x922)])(_0x3cde32(0x606))[_0x3cde32(0x447)](_0x54074f)[_0x3cde32(0x586)]('hex'),_0x166b46=''+(0x0,j[_0x3cde32(0x5ba)])(this['storePath'],_0x5829a4+_0x3cde32(0x905));if(k[_0x3cde32(0x643)](_0x166b46))return this[_0x3cde32(0x263)][_0x3cde32(0x69d)](this[_0x3cde32(0x24d)]+'\x20('+this[_0x3cde32(0x79f)][_0x3cde32(0x193)]+_0x3cde32(0x471)),j['default'][_0x3cde32(0x267)](_0x166b46);let _0xe8ddf8=''+(0x0,j[_0x3cde32(0x5ba)])(this[_0x3cde32(0x484)],_0x3cde32(0x6ff)+_0x5829a4+_0x3cde32(0x3a4));if((0x0,J[_0x3cde32(0x1c8)])(_0x54074f)){let _0xe1cf97=new Date()['getTime'](),_0x2f489b=_0x54074f+_0x3cde32(0x2f5)+_0xe1cf97,_0x1863c8=await K[_0x3cde32(0x595)][_0x3cde32(0x2c9)](_0x2f489b,{'responseType':_0x3cde32(0x73c)});k[_0x3cde32(0x91d)](_0xe8ddf8,_0x1863c8[_0x3cde32(0x362)]);}else{let _0x4fd048=Buffer[_0x3cde32(0x556)](_0x54074f,_0x3cde32(0x54b));k['writeFileSync'](_0xe8ddf8,_0x4fd048);}return new Promise((_0x58bf23,_0x5d537f)=>{const _0x525aa3=_0x3cde32;(0x0,qe[_0x525aa3(0x7aa)])(Us[_0x525aa3(0x595)][_0x525aa3(0x847)]+_0x525aa3(0x3cd)+_0xe8ddf8+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x166b46+_0x525aa3(0x914),_0x2df24a=>{const _0x1b5e16=_0x525aa3;if(k['unlinkSync'](_0xe8ddf8),_0x2df24a){this['logger'][_0x1b5e16(0x69d)](this[_0x1b5e16(0x24d)]+'\x20('+this[_0x1b5e16(0x79f)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x5d537f(_0x2df24a);return;}this[_0x1b5e16(0x263)]['verbose'](this[_0x1b5e16(0x24d)]+'\x20('+this['instance'][_0x1b5e16(0x193)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x58bf23(j[_0x1b5e16(0x595)][_0x1b5e16(0x267)](_0x166b46));});});}async[a0_0x26c870(0x2d1)](_0x50e7cb){const _0xdc6dcf=a0_0x26c870;console[_0xdc6dcf(0x323)]('[service]\x20request\x20received\x20in\x20sendButtons',_0x50e7cb);let _0x318c13;try{_0x50e7cb['buttonMessage']?.['thumbnailUrl']&&(_0x318c13=await this[_0xdc6dcf(0x7f4)]({'mediatype':_0xdc6dcf(0x389),'media':_0x50e7cb[_0xdc6dcf(0x2d1)]['thumbnailUrl']}));}catch(_0x42cdf8){throw console['error'](_0xdc6dcf(0x6b4),_0x42cdf8),new Error(_0xdc6dcf(0x888));}try{let _0x1166d4={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xdc6dcf(0x240)},'footer':{'text':_0xdc6dcf(0x834)},'header':((()=>{const _0x43e6dc=_0xdc6dcf;if(_0x318c13?.['message']?.[_0x43e6dc(0x2b2)])return{'hasMediaAttachment':!!_0x318c13[_0x43e6dc(0x555)][_0x43e6dc(0x2b2)],'imageMessage':_0x318c13[_0x43e6dc(0x555)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON[_0xdc6dcf(0x2c2)]({'display_text':_0xdc6dcf(0x210),'id':'1'})},{'name':_0xdc6dcf(0x92b),'buttonParamsJson':JSON['stringify']({'display_text':'Botão\x202','id':'2'})}],'messageParamsJson':JSON[_0xdc6dcf(0x2c2)]({'from':'api','templateId':'3EB0'+(0x0,re[_0xdc6dcf(0x1a5)])(0x12)[_0xdc6dcf(0x58a)](_0xdc6dcf(0x863))[_0xdc6dcf(0x425)]()})}}}}};return await this[_0xdc6dcf(0x68a)](_0x50e7cb[_0xdc6dcf(0x684)],_0x1166d4,_0x50e7cb?.[_0xdc6dcf(0x584)]);}catch(_0x4b2988){throw console['error'](_0xdc6dcf(0x4d0),_0x4b2988),new Error(_0xdc6dcf(0x93d));}}async[a0_0x26c870(0x7f2)](_0x3814bf){const _0x5ea807=a0_0x26c870;return await this[_0x5ea807(0x1ee)](_0x3814bf[_0x5ea807(0x684)],{'locationMessage':{'degreesLatitude':_0x3814bf[_0x5ea807(0x7f2)][_0x5ea807(0x657)],'degreesLongitude':_0x3814bf[_0x5ea807(0x7f2)][_0x5ea807(0x29b)],'name':_0x3814bf[_0x5ea807(0x7f2)]?.['name'],'address':_0x3814bf['locationMessage']?.[_0x5ea807(0x205)]}},_0x3814bf?.[_0x5ea807(0x584)]);}async[a0_0x26c870(0x6b5)](_0x415973){const _0x26162c=a0_0x26c870;let _0x2c5e63={},_0x1290bf=async _0x383dbe=>{const _0x14ae4d=a0_0x4486;let _0x15c742=_0x14ae4d(0x3d7)+_0x383dbe['fullName']+_0x14ae4d(0x2d4)+_0x383dbe['fullName']+'\x0a';_0x383dbe['organization']&&(_0x15c742+='ORG:'+_0x383dbe['organization']+';\x0a'),_0x383dbe[_0x14ae4d(0x53a)]&&(_0x15c742+='EMAIL:'+_0x383dbe['email']+'\x0a'),_0x383dbe['url']&&(_0x15c742+=_0x14ae4d(0x28e)+_0x383dbe[_0x14ae4d(0x869)]+'\x0a');let _0x4e2d55='',_0xc5d48f=0x1;if(_0x383dbe['phoneNumber']){let _0x331409=_0x383dbe[_0x14ae4d(0x86d)][_0x14ae4d(0x4c5)]('|');for(let _0xea52a3 of _0x331409){let _0x2c7b54=await this[_0x14ae4d(0x374)]({'numbers':[_0xea52a3]}),_0x4a9468=(_0x2c7b54['length']>0x0?_0x2c7b54[0x0][_0x14ae4d(0x291)]:this['createJid'](_0xea52a3))['replace'](_0x14ae4d(0x220),'');_0x4e2d55+=_0x14ae4d(0x7a3)+_0xc5d48f+'.TEL;waid='+_0x4a9468+':'+_0xea52a3+_0x14ae4d(0x941)+_0xc5d48f+'.X-ABLabel:Celular\x0a',_0xc5d48f++;}}return _0x15c742+=_0x4e2d55+_0x14ae4d(0x3c0),_0x15c742;};return _0x415973[_0x26162c(0x6b5)][_0x26162c(0x2df)]===0x1?_0x2c5e63[_0x26162c(0x6b5)]={'displayName':_0x415973['contactMessage'][0x0][_0x26162c(0x3ad)],'vcard':await _0x1290bf(_0x415973[_0x26162c(0x6b5)][0x0])}:_0x2c5e63[_0x26162c(0x57a)]={'displayName':_0x415973[_0x26162c(0x6b5)][_0x26162c(0x2df)]+_0x26162c(0x611),'contacts':await Promise[_0x26162c(0x552)](_0x415973[_0x26162c(0x6b5)][_0x26162c(0x27c)](async _0x1c57ef=>({'displayName':_0x1c57ef[_0x26162c(0x3ad)],'vcard':await _0x1290bf(_0x1c57ef)})))},await this[_0x26162c(0x1ee)](_0x415973[_0x26162c(0x684)],{..._0x2c5e63},_0x415973?.[_0x26162c(0x584)]);}async[a0_0x26c870(0x656)](_0x4ddcef){const _0x1ca231=a0_0x26c870;return await this['sendMessageWithRetry'](_0x4ddcef[_0x1ca231(0x656)][_0x1ca231(0x8f1)][_0x1ca231(0x489)],{'reactionMessage':{'key':_0x4ddcef[_0x1ca231(0x656)][_0x1ca231(0x8f1)],'text':_0x4ddcef[_0x1ca231(0x656)]['reaction']}});}async['whatsappNumber'](_0x26f918){const _0x3d8dae=a0_0x26c870;let _0x1f715b=[];for await(let _0x2e8a3c of _0x26f918[_0x3d8dae(0x50f)]){let _0x4e6f02=this['createJid'](_0x2e8a3c),_0x4c6609=!0x1;try{if((0x0,w[_0x3d8dae(0x84c)])(_0x4e6f02)){let _0x46e6fe=(await this[_0x3d8dae(0x252)][_0x3d8dae(0x629)][_0x3d8dae(0x74c)]({'where':{'_id':_0x4e6f02}},this[_0x3d8dae(0x79f)][_0x3d8dae(0x193)]))[_0x3d8dae(0x61d)];_0x46e6fe?(_0x4c6609=!0x0,_0x1f715b[_0x3d8dae(0x48e)](new le(_0x46e6fe['id'],_0x4c6609,_0x46e6fe?.['subject']))):(_0x46e6fe=await this[_0x3d8dae(0x24e)]({'groupJid':_0x4e6f02},_0x3d8dae(0x696)),_0x1f715b[_0x3d8dae(0x48e)](new le(_0x46e6fe['id'],!!_0x46e6fe?.['id'],_0x46e6fe?.[_0x3d8dae(0x84a)])));}else{if(_0x4e6f02[_0x3d8dae(0x7bc)](_0x3d8dae(0x248)))_0x1f715b[_0x3d8dae(0x48e)](new le(_0x4e6f02,!0x0));else{let _0x2579fa=(await this['client'][_0x3d8dae(0x77a)](_0x4e6f02))[0x0];_0x1f715b[_0x3d8dae(0x48e)](new le(_0x2579fa['jid'],_0x2579fa[_0x3d8dae(0x426)]));}}}catch{(0x0,w[_0x3d8dae(0x84c)])(_0x4e6f02)||await this[_0x3d8dae(0x6d0)](_0x4e6f02),_0x1f715b[_0x3d8dae(0x48e)](new le(_0x2e8a3c,!0x1));}}return _0x1f715b;}async[a0_0x26c870(0x6d0)](_0x3eb43e){const _0x5f36a3=a0_0x26c870;try{await this[_0x5f36a3(0x252)][_0x5f36a3(0x629)][_0x5f36a3(0x74c)]({'where':{'_id':_0x3eb43e,'imported':!0x0}},this[_0x5f36a3(0x79f)][_0x5f36a3(0x193)])&&(await this[_0x5f36a3(0x252)][_0x5f36a3(0x629)][_0x5f36a3(0x251)](_0x3eb43e,this[_0x5f36a3(0x79f)][_0x5f36a3(0x193)]),this[_0x5f36a3(0x263)]['info'](_0x5f36a3(0x5e7)+_0x3eb43e+_0x5f36a3(0x77e)));}catch(_0x15cd13){let _0x2da5d8='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x39b4fd=_0x15cd13 instanceof Error?_0x15cd13[_0x5f36a3(0x555)]:typeof _0x15cd13==_0x5f36a3(0x408)?JSON[_0x5f36a3(0x2c2)](_0x15cd13):_0x15cd13,_0x37afeb=_0x2da5d8+':\x20'+_0x39b4fd;this['logger']['error'](this[_0x5f36a3(0x24d)]+'\x20('+this[_0x5f36a3(0x79f)][_0x5f36a3(0x193)]+'):\x20'+_0x37afeb);}}async[a0_0x26c870(0x30c)](_0x115f38){const _0x23aa9a=a0_0x26c870;try{let _0x220456=_0x115f38['readMessages'][_0x23aa9a(0x2b4)](_0x1c0bdb=>(0x0,w[_0x23aa9a(0x84c)])(_0x1c0bdb[_0x23aa9a(0x489)])||(0x0,w[_0x23aa9a(0x376)])(_0x1c0bdb['remoteJid']))[_0x23aa9a(0x27c)](_0x1aa9a6=>({'remoteJid':_0x1aa9a6[_0x23aa9a(0x489)],'fromMe':_0x1aa9a6[_0x23aa9a(0x549)],'id':_0x1aa9a6['id']}));await this[_0x23aa9a(0x5e8)][_0x23aa9a(0x402)](_0x220456);let _0x93fc35=_0x220456['map'](_0x43e1f6=>this[_0x23aa9a(0x683)](_0x43e1f6,{'status':_0x23aa9a(0x663),'owner':this[_0x23aa9a(0x79f)]['wuid']})),_0xb1beb4=_0x220456[_0x23aa9a(0x27c)](_0x333e38=>this[_0x23aa9a(0x252)]['chat'][_0x23aa9a(0x5f5)]({'where':{'_id':_0x333e38[_0x23aa9a(0x489)]}},{'unreadcount':0x0},this[_0x23aa9a(0x79f)][_0x23aa9a(0x193)])),[_0x26585a,_0x14c5f0]=await Promise['all']([Promise['all'](_0x93fc35),Promise['all'](_0xb1beb4)]);return _0x14c5f0[_0x23aa9a(0x2b4)](_0x1897f1=>_0x1897f1!==null)[_0x23aa9a(0x526)](_0x38a318=>{const _0x5df103=_0x23aa9a;F(this[_0x5df103(0x24d)],'chats',{'chat':_0x38a318});}),{'message':_0x23aa9a(0x4d4),'read':'success'};}catch(_0x3a7f43){let _0x27e0da=_0x23aa9a(0x7e6),_0x7184b0=_0x3a7f43 instanceof Error?_0x3a7f43[_0x23aa9a(0x555)]:typeof _0x3a7f43==_0x23aa9a(0x408)?JSON[_0x23aa9a(0x2c2)](_0x3a7f43):_0x3a7f43,_0x55a72e=_0x27e0da+':\x20'+_0x7184b0;throw this[_0x23aa9a(0x263)][_0x23aa9a(0x7ba)](this[_0x23aa9a(0x24d)]+'\x20('+this[_0x23aa9a(0x79f)][_0x23aa9a(0x193)]+_0x23aa9a(0x60e)+_0x55a72e),new x(_0x55a72e);}}async[a0_0x26c870(0x45d)](_0x188661){const _0x3062d3=a0_0x26c870;let _0xa03173={'where':{'key':{'remoteJid':_0x188661}},'limit':0x1},_0x3ec4c1=await this[_0x3062d3(0x4c8)](_0xa03173);return _0x3ec4c1||(this['logger'][_0x3062d3(0x7ba)](_0x3062d3(0x4dc)+_0x188661),null);}async[a0_0x26c870(0x3dd)](_0x2a36b2){const _0xd8d5be=a0_0x26c870;this[_0xd8d5be(0x263)][_0xd8d5be(0x69d)](this[_0xd8d5be(0x24d)]+'\x20('+this[_0xd8d5be(0x79f)]['wuid']+_0xd8d5be(0x689));try{let _0x1f2f59=_0x2a36b2[_0xd8d5be(0x71d)],_0x3a83ff=_0x2a36b2[_0xd8d5be(0x629)];if(!_0x1f2f59&&_0x3a83ff?_0x1f2f59=await this[_0xd8d5be(0x45d)](_0x3a83ff):(_0x1f2f59=_0x2a36b2['lastMessage'],_0x1f2f59[_0xd8d5be(0x861)]=_0x1f2f59?.['messageTimestamp']??Date[_0xd8d5be(0x1a6)](),_0x3a83ff=_0x1f2f59?.[_0xd8d5be(0x8f1)]?.[_0xd8d5be(0x489)]),!_0x1f2f59||Object[_0xd8d5be(0x2ef)](_0x1f2f59)['length']===0x0)throw new U(_0xd8d5be(0x6e7));this[_0xd8d5be(0x263)][_0xd8d5be(0x69d)](this[_0xd8d5be(0x24d)]+'\x20('+this['instance'][_0xd8d5be(0x193)]+_0xd8d5be(0x74d)+_0x3a83ff);try{await this[_0xd8d5be(0x5e8)][_0xd8d5be(0x712)]({'archive':_0x2a36b2[_0xd8d5be(0x215)],'lastMessages':[_0x1f2f59]},this[_0xd8d5be(0x843)](_0x3a83ff));}catch(_0x6b9b52){let _0x55bd6c=_0xd8d5be(0x38b)+_0x3a83ff,_0x1b6fc2=_0x6b9b52 instanceof Error?_0x6b9b52[_0xd8d5be(0x555)]:typeof _0x6b9b52==_0xd8d5be(0x408)?JSON[_0xd8d5be(0x2c2)](_0x6b9b52):_0x6b9b52,_0x347297=_0x55bd6c+':\x20'+_0x1b6fc2;this[_0xd8d5be(0x263)][_0xd8d5be(0x7ba)](this[_0xd8d5be(0x24d)]+'\x20('+this['instance'][_0xd8d5be(0x193)]+_0xd8d5be(0x60e)+_0x347297);}this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xd8d5be(0x79f)][_0xd8d5be(0x193)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3a83ff);let _0x158cd0=await this[_0xd8d5be(0x252)][_0xd8d5be(0x629)][_0xd8d5be(0x5f5)]({'where':{'_id':_0x1f2f59?.[_0xd8d5be(0x8f1)]?.['remoteJid']}},{'archived':_0x2a36b2[_0xd8d5be(0x215)]},this['instance']['wuid']);return _0x158cd0?(this[_0xd8d5be(0x263)][_0xd8d5be(0x69d)](this[_0xd8d5be(0x24d)]+'\x20('+this[_0xd8d5be(0x79f)][_0xd8d5be(0x193)]+_0xd8d5be(0x31d)+JSON[_0xd8d5be(0x2c2)](_0x158cd0)),F(this[_0xd8d5be(0x24d)],_0xd8d5be(0x3eb),{'chat':_0x158cd0})):this['logger'][_0xd8d5be(0x7ba)](this[_0xd8d5be(0x24d)]+'\x20('+this[_0xd8d5be(0x79f)][_0xd8d5be(0x193)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3a83ff),{'chatId':_0x3a83ff,'archived':_0x2a36b2[_0xd8d5be(0x215)]};}catch(_0x135487){let _0x2d779f=_0xd8d5be(0x738),_0x1232d9=_0x135487 instanceof Error?_0x135487[_0xd8d5be(0x555)]:typeof _0x135487==_0xd8d5be(0x408)?JSON[_0xd8d5be(0x2c2)](_0x135487):_0x135487,_0x27685a=_0x2d779f+':\x20'+_0x1232d9;throw this[_0xd8d5be(0x263)][_0xd8d5be(0x7ba)](this[_0xd8d5be(0x24d)]+'\x20('+this[_0xd8d5be(0x79f)][_0xd8d5be(0x193)]+_0xd8d5be(0x60e)+_0x27685a),new x(_0x27685a);}}async[a0_0x26c870(0x251)](_0x408ad3){const _0x3db913=a0_0x26c870;this[_0x3db913(0x263)][_0x3db913(0x69d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Delete\x20chat');try{let _0x43c54c=await this['getLastMessage'](_0x408ad3);if(!_0x43c54c||Object[_0x3db913(0x2ef)](_0x43c54c)['length']===0x0)throw new U(_0x3db913(0x6e7));let _0x13c210=_0x43c54c[0x0];this[_0x3db913(0x263)]['verbose'](this[_0x3db913(0x24d)]+'\x20('+this[_0x3db913(0x79f)][_0x3db913(0x193)]+_0x3db913(0x1b1)+_0x408ad3);try{await this[_0x3db913(0x5e8)][_0x3db913(0x712)]({'delete':!0x0,'lastMessages':[{'key':_0x13c210['key'],'messageTimestamp':_0x13c210['messageTimestamp']}]},this[_0x3db913(0x843)](_0x408ad3));}catch(_0xb2caa2){this[_0x3db913(0x263)][_0x3db913(0x7ba)](_0x3db913(0x38b)+_0x408ad3+':\x20'+_0xb2caa2['toString']());}this['logger'][_0x3db913(0x69d)](this['instanceName']+'\x20('+this[_0x3db913(0x79f)][_0x3db913(0x193)]+_0x3db913(0x7cd)+_0x408ad3);return;}catch(_0x19b28c){throw this['logger']['error'](this[_0x3db913(0x24d)]+'\x20('+this[_0x3db913(0x79f)][_0x3db913(0x193)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x19b28c[_0x3db913(0x58a)]()),new x({'archived':!0x1,'message':[_0x3db913(0x4cd),_0x19b28c[_0x3db913(0x58a)]()]});}}async[a0_0x26c870(0x5e3)](_0x980585){const _0x38fe3d=a0_0x26c870;try{let _0xde50e=await this[_0x38fe3d(0x5e8)]['sendMessage'](_0x980585[_0x38fe3d(0x489)],{'delete':_0x980585});try{let _0x50bcad=await this[_0x38fe3d(0x683)](_0x980585,{'status':_0x38fe3d(0x583),'owner':this[_0x38fe3d(0x79f)][_0x38fe3d(0x193)]});this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x38fe3d(0x79f)]['wuid']+'):\x20updateResult:'+_0x50bcad);}catch(_0x4ffbc6){this[_0x38fe3d(0x263)][_0x38fe3d(0x7ba)]('Error\x20updating\x20message\x20status:'+_0x4ffbc6);}return _0xde50e;}catch(_0x3c3b7e){throw new x(_0x38fe3d(0x502),_0x3c3b7e?.[_0x38fe3d(0x58a)]());}}async['getBase64FromMediaMessage'](_0x340274){const _0x15906b=a0_0x26c870;try{let _0x38eeb3=_0x340274?.[_0x15906b(0x555)]?_0x340274:await this['getMessage'](_0x340274[_0x15906b(0x8f1)],!0x0);for(let _0x50935e of Ia)_0x38eeb3[_0x15906b(0x555)][_0x50935e]&&(_0x38eeb3[_0x15906b(0x555)]=_0x38eeb3[_0x15906b(0x555)][_0x50935e][_0x15906b(0x555)]);let _0x4004fb,_0x1726ae;for(let _0x55d40a of Ta)if(_0x4004fb=_0x38eeb3['message'][_0x55d40a],_0x4004fb){_0x1726ae=_0x55d40a;break;}if(!_0x4004fb)throw _0x15906b(0x241);typeof _0x4004fb[_0x15906b(0x3c4)]=='object'&&(_0x38eeb3[_0x15906b(0x555)]=JSON[_0x15906b(0x199)](JSON[_0x15906b(0x2c2)](_0x38eeb3['message'])));let _0xdb7874=await(0x0,w['downloadMediaMessage'])({'key':_0x38eeb3?.[_0x15906b(0x8f1)],'message':_0x38eeb3?.[_0x15906b(0x555)]},_0x15906b(0x67e),{},{'logger':(0x0,Jt['default'])({'level':_0x15906b(0x3aa)}),'reuploadRequest':this[_0x15906b(0x5e8)][_0x15906b(0x634)]});if(!(_0xdb7874 instanceof Buffer))throw new Error(_0x15906b(0x899));let _0xcce2a7=this['configService'][_0x15906b(0x2c9)](_0x15906b(0x22b)),_0xb32854,_0x3c15c9;if(_0x4004fb[_0x15906b(0x1de)])_0xb32854=_0x4004fb[_0x15906b(0x1de)];else{let _0x1ee7b0=_0x4004fb[_0x15906b(0x627)]?.[_0x15906b(0x7e1)](/\/(\w+)/),_0x839bfe=_0x1ee7b0?_0x1ee7b0[0x1]:null;if(!_0x839bfe)throw new Error(_0x15906b(0x33a));_0xb32854=(0x0,Q['v4'])()+'.'+_0x839bfe;}_0x1726ae===_0x15906b(0x259)?_0x3c15c9=_0x15906b(0x4ba)+await this['convertaudioMP3'](_0xdb7874['toString'](_0x15906b(0x54b))):(await this[_0x15906b(0x8a3)](_0xdb7874,_0xb32854),_0x3c15c9=_0x15906b(0x4ba)+_0xb32854);let _0x13dc2d=this[_0x15906b(0x382)][_0x15906b(0x2c9)](_0x15906b(0x3e1))[_0x15906b(0x662)];if(!_0x13dc2d){let _0x2769d9=this[_0x15906b(0x382)][_0x15906b(0x2c9)](_0x15906b(0x93e));_0x13dc2d=_0x15906b(0x8c0)+(_0x2769d9&&_0x2769d9[_0x15906b(0x224)][_0x15906b(0x4c5)]('/')[0x4]);}_0x3c15c9=''+_0x13dc2d+_0x3c15c9;let _0x5f1ecb=0xc*0x3c*0x3c*0x3e8,_0x5bd9e6={'where':{'_id':_0x38eeb3[_0x15906b(0x8f1)]['id']}},_0x1aac78={'message_normalized.fileUrl':_0x3c15c9,'message_normalized.expires_fileUrl':Date[_0x15906b(0x1a6)]()+_0x5f1ecb};try{let _0x4fcee4=await this['repository']['message']['update'](_0x5bd9e6,_0x1aac78,this['instance']['wuid']);_0x4fcee4&&F(this[_0x15906b(0x24d)],'messages',{'message':_0x4fcee4});}catch(_0x1c1985){let _0x17a615=_0x15906b(0x854),_0x15f860=_0x1c1985 instanceof Error?_0x1c1985[_0x15906b(0x555)]:typeof _0x1c1985=='object'?JSON[_0x15906b(0x2c2)](_0x1c1985):_0x1c1985,_0x2e418b=_0x17a615+':\x20'+_0x15f860;this[_0x15906b(0x263)][_0x15906b(0x7ba)](this[_0x15906b(0x24d)]+'\x20('+this[_0x15906b(0x79f)]['wuid']+_0x15906b(0x60e)+_0x2e418b);}return{'mediaType':_0x1726ae,'fileName':_0x4004fb[_0x15906b(0x1de)],'caption':_0x4004fb['caption'],'size':{'fileLength':_0x4004fb[_0x15906b(0x440)],'height':_0x4004fb['height'],'width':_0x4004fb[_0x15906b(0x2b8)]},'mimetype':_0x4004fb[_0x15906b(0x627)],'base64':_0xdb7874['toString']('base64'),'fileUrl':_0x3c15c9,'expires_fileUrl':Date[_0x15906b(0x1a6)]()+_0x5f1ecb};}catch(_0x1ac92c){let _0x248723=_0x15906b(0x694),_0x4ea311=_0x1ac92c instanceof Error?_0x1ac92c[_0x15906b(0x555)]:typeof _0x1ac92c==_0x15906b(0x408)?JSON[_0x15906b(0x2c2)](_0x1ac92c):_0x1ac92c,_0x3996ef=_0x248723+':\x20'+_0x4ea311;throw this['logger'][_0x15906b(0x7ba)](this[_0x15906b(0x24d)]+'\x20('+this['instance'][_0x15906b(0x193)]+_0x15906b(0x60e)+_0x3996ef),new m(_0x3996ef);}}async[a0_0x26c870(0x8a3)](_0x339b19,_0x3dacbc){const _0x2bc54c=a0_0x26c870;let _0x2273b1=j[_0x2bc54c(0x595)]['join'](__dirname,_0x2bc54c(0x506));k['existsSync'](_0x2273b1)||k['mkdirSync'](_0x2273b1,{'recursive':!0x0});let _0x11d64a=j[_0x2bc54c(0x595)]['join'](_0x2273b1,_0x3dacbc);return new Promise((_0x24a550,_0x2cf71f)=>{const _0x15d7cc=_0x2bc54c;k[_0x15d7cc(0x78d)](_0x11d64a,_0x339b19,_0x3ce387=>{const _0x59581d=_0x15d7cc;_0x3ce387?(this[_0x59581d(0x263)]['error']('Error\x20writing\x20file:\x20'+(_0x3ce387 instanceof Error?_0x3ce387[_0x59581d(0x555)]:JSON[_0x59581d(0x2c2)](_0x3ce387,null,0x2))),_0x2cf71f(_0x3ce387)):(this[_0x59581d(0x263)][_0x59581d(0x323)](_0x59581d(0x416)+_0x11d64a),_0x24a550(_0x11d64a));});});}async[a0_0x26c870(0x7a1)](_0x32aa26){const _0x2109cd=a0_0x26c870;return await this[_0x2109cd(0x252)]['contact']['find'](_0x32aa26,this[_0x2109cd(0x79f)][_0x2109cd(0x193)]);}async[a0_0x26c870(0x80a)](){const _0x44c3d4=a0_0x26c870;return await this['repository'][_0x44c3d4(0x499)][_0x44c3d4(0x82c)]({'where':{}},this[_0x44c3d4(0x79f)][_0x44c3d4(0x193)]);}async[a0_0x26c870(0x4c8)](_0x53d16a){const _0x1b4f57=a0_0x26c870;return await this[_0x1b4f57(0x252)][_0x1b4f57(0x555)][_0x1b4f57(0x82c)](_0x53d16a,this[_0x1b4f57(0x79f)][_0x1b4f57(0x193)]);}async[a0_0x26c870(0x6dd)](){const _0x54d744=a0_0x26c870;return this[_0x54d744(0x252)][_0x54d744(0x629)][_0x54d744(0x73b)](this[_0x54d744(0x79f)][_0x54d744(0x193)]),this['repository'][_0x54d744(0x629)][_0x54d744(0x638)](this['instance'][_0x54d744(0x193)]),this['repository'][_0x54d744(0x629)][_0x54d744(0x5a1)](this[_0x54d744(0x79f)][_0x54d744(0x193)]),this[_0x54d744(0x252)]['chat']['updateMissingCustomFields'](this[_0x54d744(0x79f)][_0x54d744(0x193)]),await this[_0x54d744(0x252)][_0x54d744(0x629)][_0x54d744(0x82c)]({'where':{}},this[_0x54d744(0x79f)][_0x54d744(0x193)]);}async[a0_0x26c870(0x8e0)](_0x5c615a){const _0x51730e=a0_0x26c870;try{if(!Array[_0x51730e(0x67a)](_0x5c615a)||_0x5c615a[_0x51730e(0x2df)]===0x0)throw new Error(_0x51730e(0x4fb));let _0x231385=[],_0x57e653=[];for(let _0x3893e1 of _0x5c615a){if(_0x3893e1[_0x51730e(0x3fa)])_0x3893e1[_0x51730e(0x3fa)]=this['createJid'](_0x3893e1['_id']);else continue;await this[_0x51730e(0x252)][_0x51730e(0x629)][_0x51730e(0x74c)]({'where':{'_id':_0x3893e1[_0x51730e(0x3fa)]}},this[_0x51730e(0x79f)][_0x51730e(0x193)])?_0x57e653[_0x51730e(0x48e)]({'_id':_0x3893e1[_0x51730e(0x3fa)],'leadInfo':_0x3893e1[_0x51730e(0x6f8)],'owner':this['instance'][_0x51730e(0x193)]}):_0x231385[_0x51730e(0x48e)]({'_id':_0x3893e1[_0x51730e(0x3fa)],'owner':this[_0x51730e(0x79f)][_0x51730e(0x193)],'leadInfo':_0x3893e1[_0x51730e(0x6f8)],'imported':!0x0});}return _0x57e653[_0x51730e(0x2df)]>0x0&&await this[_0x51730e(0x252)][_0x51730e(0x629)][_0x51730e(0x5ea)](_0x57e653[_0x51730e(0x27c)](_0x3d9159=>({'query':{'where':{'_id':_0x3d9159[_0x51730e(0x3fa)],'owner':this[_0x51730e(0x79f)][_0x51730e(0x193)]}},'update':_0x3d9159}))),_0x231385[_0x51730e(0x2df)]>0x0&&await this[_0x51730e(0x252)][_0x51730e(0x629)][_0x51730e(0x5bc)](_0x231385,this['instance'][_0x51730e(0x193)]),{'updated':_0x57e653['length'],'inserted':_0x231385[_0x51730e(0x2df)]};}catch(_0x43226c){let _0x21c15a=_0x51730e(0x3b6),_0x592042=_0x43226c instanceof Error?_0x43226c[_0x51730e(0x555)]:typeof _0x43226c==_0x51730e(0x408)?JSON[_0x51730e(0x2c2)](_0x43226c):_0x43226c,_0x463eda=_0x21c15a+':\x20'+_0x592042;throw this[_0x51730e(0x263)][_0x51730e(0x7ba)](this[_0x51730e(0x24d)]+'\x20('+this[_0x51730e(0x79f)][_0x51730e(0x193)]+_0x51730e(0x60e)+_0x463eda),new m(_0x463eda);}}async[a0_0x26c870(0x189)](_0x3ad578){const _0x18c5be=a0_0x26c870;try{if(!Array['isArray'](_0x3ad578)||_0x3ad578[_0x18c5be(0x2df)]===0x0)throw new Error(_0x18c5be(0x4fb));let _0x1a1ec0=0x64,_0x5762e8=0x0;for(let _0x586386=0x0;_0x586386<_0x3ad578['length'];_0x586386+=_0x1a1ec0){let _0x379036=_0x3ad578[_0x18c5be(0x4f7)](_0x586386,_0x586386+_0x1a1ec0),{updated:_0x5d79f8}=await this[_0x18c5be(0x6e3)](_0x379036);_0x5762e8+=_0x5d79f8;}return{'updated':_0x5762e8};}catch(_0xc7314e){let _0x10b582='Erro\x20ao\x20importar\x20chats',_0xf3ecf5=_0xc7314e instanceof Error?_0xc7314e[_0x18c5be(0x555)]:typeof _0xc7314e==_0x18c5be(0x408)?JSON[_0x18c5be(0x2c2)](_0xc7314e):_0xc7314e,_0xb39c6d=_0x10b582+':\x20'+_0xf3ecf5;throw this[_0x18c5be(0x263)][_0x18c5be(0x7ba)](this['instanceName']+'\x20('+this[_0x18c5be(0x79f)][_0x18c5be(0x193)]+_0x18c5be(0x60e)+_0xb39c6d),new m(_0xb39c6d);}}async[a0_0x26c870(0x6e3)](_0x4af4e1){const _0x5425e0=a0_0x26c870;try{let _0x4d03d3=await this[_0x5425e0(0x252)][_0x5425e0(0x499)][_0x5425e0(0x82c)]({'where':{}},this[_0x5425e0(0x79f)]['wuid']),_0x5b7041=new Set(_0x4d03d3[_0x5425e0(0x27c)](_0x25eb0a=>_0x25eb0a[_0x5425e0(0x3fa)])),_0x387f76=[],_0x176d9d=[];for(let _0xf31a25 of _0x4af4e1){if(!_0xf31a25['_id'])continue;_0xf31a25['_id']=this[_0x5425e0(0x843)](_0xf31a25[_0x5425e0(0x3fa)]);let _0x3ff4f2=await this[_0x5425e0(0x252)][_0x5425e0(0x629)][_0x5425e0(0x74c)]({'where':{'_id':_0xf31a25[_0x5425e0(0x3fa)]}},this[_0x5425e0(0x79f)][_0x5425e0(0x193)]),_0x4e7eea={};if(Object['entries'](_0xf31a25[_0x5425e0(0x6f8)])[_0x5425e0(0x526)](([_0x31db29,_0x3318c7])=>{_0x4e7eea['leadInfo.'+_0x31db29]=_0x3318c7;}),_0x3ff4f2&&!_0x3ff4f2[_0x5425e0(0x219)]){let _0x1acc36=(_0xf31a25['leadInfo'][_0x5425e0(0x71c)]||[])[_0x5425e0(0x2b4)](_0x3a95fc=>_0x5b7041[_0x5425e0(0x5fb)](_0x3a95fc)),_0x27f7ff=new Set(_0x3ff4f2[_0x5425e0(0x6f8)]['etiquetas']||[]),_0x43c1fa=_0x1acc36[_0x5425e0(0x2b4)](_0x20ca6b=>!_0x27f7ff[_0x5425e0(0x5fb)](_0x20ca6b)),_0x41074e=[..._0x27f7ff][_0x5425e0(0x2b4)](_0x55e0f4=>!_0x1acc36[_0x5425e0(0x7bc)](_0x55e0f4));_0x176d9d['push'](..._0x43c1fa[_0x5425e0(0x27c)](_0x18034a=>this[_0x5425e0(0x92d)](_0x18034a,_0xf31a25[_0x5425e0(0x3fa)]))),_0x176d9d['push'](..._0x41074e['map'](_0x20ee5d=>this[_0x5425e0(0x63c)](_0x20ee5d,_0xf31a25['_id']))),_0xf31a25[_0x5425e0(0x6f8)][_0x5425e0(0x71c)]=_0x1acc36,_0x387f76['push']({'query':{'where':{'_id':_0xf31a25['_id'],'owner':this[_0x5425e0(0x79f)]['wuid']}},'update':_0x4e7eea});}else _0x4e7eea[_0x5425e0(0x219)]=!0x0,_0x387f76[_0x5425e0(0x48e)]({'query':{'where':{'_id':_0xf31a25[_0x5425e0(0x3fa)],'owner':this[_0x5425e0(0x79f)]['wuid']}},'update':_0x4e7eea});}let _0x106dd2=await this['repository'][_0x5425e0(0x629)]['updateMany'](_0x387f76);return await Promise[_0x5425e0(0x552)](_0x176d9d),{'updated':_0x106dd2};}catch(_0x5d7c8f){let _0x1dde97=_0x5425e0(0x3b6),_0x8d59bb=_0x5d7c8f instanceof Error?_0x5d7c8f[_0x5425e0(0x555)]:typeof _0x5d7c8f==_0x5425e0(0x408)?JSON[_0x5425e0(0x2c2)](_0x5d7c8f):_0x5d7c8f,_0x359b33=_0x1dde97+':\x20'+_0x8d59bb;throw this['logger']['error'](this[_0x5425e0(0x24d)]+'\x20('+this[_0x5425e0(0x79f)][_0x5425e0(0x193)]+_0x5425e0(0x60e)+_0x359b33),new m(_0x359b33);}}async[a0_0x26c870(0x7ad)](){const _0x4c676c=a0_0x26c870;return await this['client'][_0x4c676c(0x7ad)]();}async[a0_0x26c870(0x7f8)](_0x1139a9){const _0x45d652=a0_0x26c870;try{return await this[_0x45d652(0x5e8)]['updateReadReceiptsPrivacy'](_0x1139a9[_0x45d652(0x618)]['readreceipts']),await this[_0x45d652(0x5e8)]['updateProfilePicturePrivacy'](_0x1139a9[_0x45d652(0x618)][_0x45d652(0x6fe)]),await this[_0x45d652(0x5e8)][_0x45d652(0x7a5)](_0x1139a9[_0x45d652(0x618)]['status']),await this['client'][_0x45d652(0x22f)](_0x1139a9[_0x45d652(0x618)]['online']),await this['client'][_0x45d652(0x35a)](_0x1139a9[_0x45d652(0x618)][_0x45d652(0x30b)]),await this[_0x45d652(0x5e8)][_0x45d652(0x8d1)](_0x1139a9[_0x45d652(0x618)]['groupadd']),this[_0x45d652(0x5e8)]?.['ws']?.['close'](),{'update':_0x45d652(0x312),'data':{'readreceipts':_0x1139a9[_0x45d652(0x618)][_0x45d652(0x2ba)],'profile':_0x1139a9[_0x45d652(0x618)][_0x45d652(0x6fe)],'status':_0x1139a9[_0x45d652(0x618)]['status'],'online':_0x1139a9['privacySettings'][_0x45d652(0x23a)],'last':_0x1139a9[_0x45d652(0x618)][_0x45d652(0x30b)],'groupadd':_0x1139a9[_0x45d652(0x618)][_0x45d652(0x2cc)]}};}catch(_0x2bc370){let _0x3b0b81=_0x45d652(0x1f7),_0x11e511=_0x2bc370 instanceof Error?_0x2bc370[_0x45d652(0x555)]:typeof _0x2bc370==_0x45d652(0x408)?JSON[_0x45d652(0x2c2)](_0x2bc370):_0x2bc370,_0x5ecca1=_0x3b0b81+':\x20'+_0x11e511;throw this[_0x45d652(0x263)]['error'](this[_0x45d652(0x24d)]+'\x20('+this['instance'][_0x45d652(0x193)]+_0x45d652(0x60e)+_0x5ecca1),new m(_0x5ecca1);}}async[a0_0x26c870(0x6f0)](_0x4ecdb7){const _0x12f410=a0_0x26c870;let _0x317044=(_0x4ecdb7?this[_0x12f410(0x843)](_0x4ecdb7):this[_0x12f410(0x5e8)]?.[_0x12f410(0x90d)]?.['id'])[_0x12f410(0x821)](/:\d{1,2}@/g,'@');this['logger']['verbose'](this[_0x12f410(0x24d)]+'\x20('+this[_0x12f410(0x79f)][_0x12f410(0x193)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x317044);let _0x5d9fdb=await this[_0x12f410(0x252)]['contact']['findOne']({'where':{'_id':_0x317044}},this[_0x12f410(0x79f)][_0x12f410(0x193)]),_0x49a1bf=_0x5d9fdb?_0x5d9fdb[_0x12f410(0x574)]:null;try{let _0x20cbc8=(await this[_0x12f410(0x374)]({'numbers':[_0x317044]}))?.[_0x12f410(0x3f6)](),_0x4546f5=(await this['findAndUpdateCacheContact'](_0x317044,null,!0x1))['cachedContact']['pictureUrl'],_0x4384a9=await this[_0x12f410(0x5e5)](_0x20cbc8?.['jid']),_0x413b9f=await this['fetchBusinessProfile'](_0x20cbc8?.[_0x12f410(0x291)]),_0x126fb8=(await this[_0x12f410(0x1e7)](_0x317044,null,!0x1))[_0x12f410(0x60c)][_0x12f410(0x5fa)],_0x267c14=await this['repository'][_0x12f410(0x629)][_0x12f410(0x74c)]({'where':{'_id':_0x317044}},this[_0x12f410(0x79f)]['wuid']),_0x13a31b={'imagechat':_0x4546f5,'contactname':_0x49a1bf||null,'pushName':_0x126fb8,'status':_0x4384a9?.[_0x12f410(0x284)],'isBusiness':_0x413b9f[_0x12f410(0x48f)],'email':_0x413b9f?.[_0x12f410(0x53a)],'description':_0x413b9f?.['description'],'website':_0x413b9f?.[_0x12f410(0x316)]?.[_0x12f410(0x3f6)](),'lastcache':Date['now'](),'imported':!_0x267c14},_0x308047=await this[_0x12f410(0x252)][_0x12f410(0x629)][_0x12f410(0x5f5)]({'where':{'_id':_0x317044}},_0x13a31b,this['instance'][_0x12f410(0x193)]),_0x3d2c58={'owner':this[_0x12f410(0x79f)][_0x12f410(0x193)],'_id':_0x317044,'profilePictureUrl':_0x4546f5,'status':_0x4384a9?.[_0x12f410(0x284)]};return this[_0x12f410(0x252)]['contact'][_0x12f410(0x447)]([_0x3d2c58],this['instance'][_0x12f410(0x193)]),_0x308047&&F(this[_0x12f410(0x24d)],'chats',{'chat':_0x308047}),{'wuid':_0x20cbc8?.['jid']||_0x317044,'name':_0x20cbc8?.[_0x12f410(0x5fa)],'pushName':_0x126fb8,'numberExists':_0x20cbc8?.['exists'],'picture':_0x4546f5,'status':_0x4384a9?.[_0x12f410(0x284)],'isBusiness':_0x413b9f['isBusiness'],'email':_0x413b9f?.[_0x12f410(0x53a)],'description':_0x413b9f?.[_0x12f410(0x20a)],'website':_0x413b9f?.[_0x12f410(0x316)]?.['shift']()};}catch(_0x362d20){return this[_0x12f410(0x263)][_0x12f410(0x7ba)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x362d20 instanceof Error?_0x362d20[_0x12f410(0x555)]:JSON[_0x12f410(0x2c2)](_0x362d20,null,0x2))),{};}}async['fetchBusinessProfile'](_0x4b5b4a){const _0x9d539=a0_0x26c870;this['logger'][_0x9d539(0x69d)](this[_0x9d539(0x24d)]+'\x20('+this['instance'][_0x9d539(0x193)]+_0x9d539(0x365));try{let _0x440e62=_0x4b5b4a?this['createJid'](_0x4b5b4a):this[_0x9d539(0x79f)][_0x9d539(0x193)],_0x422a8f=await this[_0x9d539(0x5e8)][_0x9d539(0x5d6)](_0x440e62);return this[_0x9d539(0x263)][_0x9d539(0x69d)](this[_0x9d539(0x24d)]+'\x20('+this[_0x9d539(0x79f)]['wuid']+_0x9d539(0x522)),_0x422a8f?(this[_0x9d539(0x263)]['verbose'](this[_0x9d539(0x24d)]+'\x20('+this[_0x9d539(0x79f)][_0x9d539(0x193)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x422a8f}):{'isBusiness':!0x1,'message':_0x9d539(0x2a6),...(await this['whatsappNumber']({'numbers':[_0x440e62]}))?.[_0x9d539(0x3f6)]()};}catch(_0x102a37){let _0x242759=_0x9d539(0x588),_0x29c3e1=_0x102a37 instanceof Error?_0x102a37[_0x9d539(0x555)]:typeof _0x102a37==_0x9d539(0x408)?JSON['stringify'](_0x102a37):_0x102a37,_0x16088d=_0x242759+':\x20'+_0x29c3e1;throw this[_0x9d539(0x263)][_0x9d539(0x7ba)](this[_0x9d539(0x24d)]+'\x20('+this[_0x9d539(0x79f)][_0x9d539(0x193)]+_0x9d539(0x60e)+_0x16088d),new x(_0x16088d);}}async[a0_0x26c870(0x5e5)](_0x24ffa7){const _0x55db31=a0_0x26c870;let _0x1cc112=this['createJid'](_0x24ffa7);try{return{'wuid':_0x1cc112,'status':(await this['client'][_0x55db31(0x4e9)](_0x1cc112))[0x0]?.['status']};}catch{return{'wuid':_0x1cc112,'status':null};}}async[a0_0x26c870(0x8d6)](_0x516d7b){const _0x3407c1=a0_0x26c870;try{return await this[_0x3407c1(0x5e8)][_0x3407c1(0x8d6)](_0x516d7b),{'update':_0x3407c1(0x312)};}catch(_0xdf4df6){let _0x3b0e4f=_0x3407c1(0x2cb),_0x8e30a9=_0xdf4df6 instanceof Error?_0xdf4df6[_0x3407c1(0x555)]:typeof _0xdf4df6==_0x3407c1(0x408)?JSON['stringify'](_0xdf4df6):_0xdf4df6,_0x3fb124=_0x3b0e4f+':\x20'+_0x8e30a9;throw this[_0x3407c1(0x263)][_0x3407c1(0x7ba)](this['instanceName']+'\x20('+this[_0x3407c1(0x79f)]['wuid']+'):\x20'+_0x3fb124),new x(_0x3fb124);}}async[a0_0x26c870(0x7d0)](_0x35cb98){const _0x4c305b=a0_0x26c870;try{return await this['client'][_0x4c305b(0x7d0)](_0x35cb98),{'update':'success'};}catch(_0xbb4664){let _0x31869f=_0x4c305b(0x420),_0x1494d2=_0xbb4664 instanceof Error?_0xbb4664[_0x4c305b(0x555)]:typeof _0xbb4664=='object'?JSON[_0x4c305b(0x2c2)](_0xbb4664):_0xbb4664,_0x26adba=_0x31869f+':\x20'+_0x1494d2;throw this[_0x4c305b(0x263)][_0x4c305b(0x7ba)](this[_0x4c305b(0x24d)]+'\x20('+this[_0x4c305b(0x79f)][_0x4c305b(0x193)]+_0x4c305b(0x60e)+_0x26adba),new x(_0x26adba);}}async[a0_0x26c870(0x27b)](_0x1d1450){const _0x22b061=a0_0x26c870;try{let _0x4d3be6;if((0x0,J[_0x22b061(0x1c8)])(_0x1d1450)){let _0x254638=new Date()['getTime'](),_0x3f953=_0x1d1450+_0x22b061(0x2f5)+_0x254638;_0x4d3be6=(await K[_0x22b061(0x595)][_0x22b061(0x2c9)](_0x3f953,{'responseType':_0x22b061(0x73c)}))['data'];}else{if((0x0,J[_0x22b061(0x88c)])(_0x1d1450))_0x4d3be6=Buffer[_0x22b061(0x556)](_0x1d1450,_0x22b061(0x54b));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x22b061(0x5e8)]['updateProfilePicture'](this['instance']['wuid'],_0x4d3be6),{'update':_0x22b061(0x312)};}catch(_0x5db3b6){let _0x154c35=_0x22b061(0x1da),_0x2dcab9=_0x5db3b6 instanceof Error?_0x5db3b6[_0x22b061(0x555)]:typeof _0x5db3b6==_0x22b061(0x408)?JSON['stringify'](_0x5db3b6):_0x5db3b6,_0x2055f2=_0x154c35+':\x20'+_0x2dcab9;throw this[_0x22b061(0x263)][_0x22b061(0x7ba)](this[_0x22b061(0x24d)]+'\x20('+this[_0x22b061(0x79f)]['wuid']+_0x22b061(0x60e)+_0x2055f2),new x(_0x2055f2);}}async[a0_0x26c870(0x80d)](){const _0x2cd5bc=a0_0x26c870;try{return await this['client'][_0x2cd5bc(0x80d)](this[_0x2cd5bc(0x79f)]['wuid']),{'update':'success'};}catch(_0x52fcc2){let _0x3e6237=_0x2cd5bc(0x61e),_0x191961=_0x52fcc2 instanceof Error?_0x52fcc2[_0x2cd5bc(0x555)]:typeof _0x52fcc2=='object'?JSON[_0x2cd5bc(0x2c2)](_0x52fcc2):_0x52fcc2,_0x4e58c1=_0x3e6237+':\x20'+_0x191961;throw this[_0x2cd5bc(0x263)][_0x2cd5bc(0x7ba)](this[_0x2cd5bc(0x24d)]+'\x20('+this[_0x2cd5bc(0x79f)][_0x2cd5bc(0x193)]+'):\x20'+_0x4e58c1),new x(_0x4e58c1);}}async[a0_0x26c870(0x4f5)](_0x5bbae4){const _0x295c13=a0_0x26c870;try{let _0x12cb91=(await this['whatsappNumber']({'numbers':_0x5bbae4[_0x295c13(0x4c3)]}))[_0x295c13(0x2b4)](_0x3e0b09=>_0x3e0b09[_0x295c13(0x426)])[_0x295c13(0x27c)](_0x437c23=>_0x437c23[_0x295c13(0x291)]),{id:_0x2fcdd9}=await this[_0x295c13(0x5e8)][_0x295c13(0x79d)](_0x5bbae4['subject'],_0x12cb91);_0x5bbae4?.[_0x295c13(0x20a)]&&await this[_0x295c13(0x5e8)]['groupUpdateDescription'](_0x2fcdd9,_0x5bbae4[_0x295c13(0x20a)]);let _0x47f0f0=await this[_0x295c13(0x5e8)][_0x295c13(0x53b)](_0x2fcdd9);return _0x47f0f0[_0x295c13(0x1e6)]=[],await this[_0x295c13(0x90c)](_0x47f0f0),{'metadata':_0x47f0f0};}catch(_0x2b9fe5){let _0x1547a7='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x43b04f=_0x2b9fe5 instanceof Error?_0x2b9fe5['message']:typeof _0x2b9fe5=='object'?JSON[_0x295c13(0x2c2)](_0x2b9fe5):_0x2b9fe5,_0x15dc34=_0x1547a7+':\x20'+_0x43b04f;throw this[_0x295c13(0x263)][_0x295c13(0x7ba)](this[_0x295c13(0x24d)]+'\x20('+this[_0x295c13(0x79f)][_0x295c13(0x193)]+'):\x20'+_0x15dc34),new x(_0x15dc34);}}async[a0_0x26c870(0x3f7)](_0x4fd270){const _0x3dde2d=a0_0x26c870;try{if(_0x4fd270[_0x3dde2d(0x4b8)]===!0x0&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x41a)](_0x4fd270[_0x3dde2d(0x206)],_0x3dde2d(0x71f)),_0x4fd270[_0x3dde2d(0x4b8)]===!0x1&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x41a)](_0x4fd270[_0x3dde2d(0x206)],_0x3dde2d(0x3d9)),_0x4fd270[_0x3dde2d(0x4fa)]===!0x0&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x41a)](_0x4fd270[_0x3dde2d(0x206)],_0x3dde2d(0x1c6)),_0x4fd270[_0x3dde2d(0x4fa)]===!0x1&&await this[_0x3dde2d(0x5e8)]['groupSettingUpdate'](_0x4fd270[_0x3dde2d(0x206)],'not_announcement'),_0x4fd270[_0x3dde2d(0x5b8)]===!0x0&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x74b)](_0x4fd270[_0x3dde2d(0x206)],_0x3dde2d(0x824)),_0x4fd270[_0x3dde2d(0x5b8)]===!0x1&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x74b)](_0x4fd270[_0x3dde2d(0x206)],'admin_add'),_0x4fd270[_0x3dde2d(0x6f6)]===!0x0&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x4b4)](_0x4fd270['groupJid'],'on'),_0x4fd270[_0x3dde2d(0x6f6)]===!0x1&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x4b4)](_0x4fd270[_0x3dde2d(0x206)],_0x3dde2d(0x3e4)),typeof _0x4fd270[_0x3dde2d(0x482)]<'u'&&_0x4fd270[_0x3dde2d(0x482)]!==null&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x7fb)](_0x4fd270[_0x3dde2d(0x206)],_0x4fd270[_0x3dde2d(0x482)]),_0x4fd270[_0x3dde2d(0x5fa)]&&await this['client']['groupUpdateSubject'](_0x4fd270[_0x3dde2d(0x206)],_0x4fd270[_0x3dde2d(0x5fa)]),_0x4fd270['description']&&await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x67d)](_0x4fd270[_0x3dde2d(0x206)],_0x4fd270['description']),_0x4fd270[_0x3dde2d(0x389)]){let _0x29500b;if((0x0,J[_0x3dde2d(0x1c8)])(_0x4fd270[_0x3dde2d(0x389)])){let _0x14c2f6=new Date()['getTime'](),_0x12805d=_0x4fd270['image']+_0x3dde2d(0x2f5)+_0x14c2f6;_0x29500b=(await K[_0x3dde2d(0x595)][_0x3dde2d(0x2c9)](_0x12805d,{'responseType':'arraybuffer'}))[_0x3dde2d(0x362)];}else{if((0x0,J[_0x3dde2d(0x88c)])(_0x4fd270['image']))_0x29500b=Buffer[_0x3dde2d(0x556)](_0x4fd270[_0x3dde2d(0x389)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x3dde2d(0x5e8)][_0x3dde2d(0x27b)](_0x4fd270['groupJid'],_0x29500b);}return await this[_0x3dde2d(0x24e)]({'groupJid':_0x4fd270[_0x3dde2d(0x206)]});}catch(_0xe1f7e2){let _0x1afb21=_0x3dde2d(0x72e),_0x470693=_0xe1f7e2 instanceof Error?_0xe1f7e2[_0x3dde2d(0x555)]:typeof _0xe1f7e2=='object'?JSON[_0x3dde2d(0x2c2)](_0xe1f7e2):_0xe1f7e2,_0x3fa74b=_0x1afb21+':\x20'+_0x470693;throw this[_0x3dde2d(0x263)]['error'](this[_0x3dde2d(0x24d)]+'\x20('+this[_0x3dde2d(0x79f)]['wuid']+_0x3dde2d(0x60e)+_0x3fa74b),new x(_0x3fa74b);}}async[a0_0x26c870(0x536)](_0x4e38cc){const _0x9d6a5a=a0_0x26c870;try{let _0x54a7f6=_0x4e38cc['participants'][_0x9d6a5a(0x27c)](_0x2aec07=>this['createJid'](_0x2aec07));if(_0x4e38cc['action']==='approve'||_0x4e38cc[_0x9d6a5a(0x322)]===_0x9d6a5a(0x1f8))await this[_0x9d6a5a(0x5e8)][_0x9d6a5a(0x2fa)](_0x4e38cc[_0x9d6a5a(0x206)],_0x54a7f6,_0x4e38cc[_0x9d6a5a(0x322)]);else{if(_0x4e38cc[_0x9d6a5a(0x322)]===_0x9d6a5a(0x1c4)){let _0x481664=(await this[_0x9d6a5a(0x374)]({'numbers':_0x4e38cc[_0x9d6a5a(0x4c3)]}))[_0x9d6a5a(0x2b4)](_0x2f4b1a=>_0x2f4b1a['exists'])[_0x9d6a5a(0x27c)](_0x47231e=>this['createJid'](_0x47231e['jid']));if(_0x481664[_0x9d6a5a(0x2df)]===0x0)throw new m(_0x9d6a5a(0x406));await this[_0x9d6a5a(0x5e8)][_0x9d6a5a(0x209)](_0x4e38cc[_0x9d6a5a(0x206)],_0x481664,_0x9d6a5a(0x1c4));}else await this['client'][_0x9d6a5a(0x209)](_0x4e38cc['groupJid'],_0x54a7f6,_0x4e38cc['action']);}return await this[_0x9d6a5a(0x24e)]({'groupJid':_0x4e38cc[_0x9d6a5a(0x206)]});}catch(_0xc1bffa){let _0x50ef43=_0x9d6a5a(0x906),_0x5b9e71=_0xc1bffa instanceof Error?_0xc1bffa[_0x9d6a5a(0x555)]:typeof _0xc1bffa=='object'?JSON[_0x9d6a5a(0x2c2)](_0xc1bffa):_0xc1bffa,_0x2aa826=_0x50ef43+':\x20'+_0x5b9e71;throw this[_0x9d6a5a(0x263)][_0x9d6a5a(0x7ba)](this[_0x9d6a5a(0x24d)]+'\x20('+this[_0x9d6a5a(0x79f)][_0x9d6a5a(0x193)]+_0x9d6a5a(0x60e)+_0x2aa826),new m(_0x2aa826);}}async[a0_0x26c870(0x513)](_0x453686){const _0xddb8fa=a0_0x26c870;try{return await this[_0xddb8fa(0x5e8)][_0xddb8fa(0x513)](_0x453686[_0xddb8fa(0x1c3)]);}catch(_0x5b68fd){let _0x33a787='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x20ce10=_0x5b68fd instanceof Error?_0x5b68fd[_0xddb8fa(0x555)]:typeof _0x5b68fd==_0xddb8fa(0x408)?JSON['stringify'](_0x5b68fd):_0x5b68fd,_0x5d5786=_0x33a787+':\x20'+_0x20ce10;throw this[_0xddb8fa(0x263)][_0xddb8fa(0x7ba)](this[_0xddb8fa(0x24d)]+'\x20('+this['instance']['wuid']+_0xddb8fa(0x60e)+_0x5d5786),new m(_0x5d5786);}}async[a0_0x26c870(0x24e)](_0x11e2c3,_0x327f62='out'){const _0x1131c6=a0_0x26c870;try{let _0x4bf88e=await this['repository'][_0x1131c6(0x629)][_0x1131c6(0x74c)]({'where':{'_id':_0x11e2c3[_0x1131c6(0x206)]}},this[_0x1131c6(0x79f)]['wuid']),_0x20ed83=_0x4bf88e?_0x4bf88e[_0x1131c6(0x61d)]:null,_0x5e79d9=0x18*0x3c*0x3c*0x3e8;if(!_0x20ed83||_0x20ed83[_0x1131c6(0x258)]&&Date[_0x1131c6(0x1a6)]()-_0x20ed83[_0x1131c6(0x258)]>_0x5e79d9){let _0x2d2bd4=await this[_0x1131c6(0x5e8)][_0x1131c6(0x53b)](_0x11e2c3[_0x1131c6(0x206)]);if(_0x2d2bd4['subjectTime']=_0x2d2bd4?.['subjectTime']&&_0x2d2bd4[_0x1131c6(0x87e)][_0x1131c6(0x58a)]()[_0x1131c6(0x2df)]<0xd?_0x2d2bd4?.['subjectTime']*0x3e8:_0x2d2bd4?.['subjectTime']||null,_0x2d2bd4[_0x1131c6(0x18c)]=_0x2d2bd4?.[_0x1131c6(0x18c)]&&_0x2d2bd4[_0x1131c6(0x18c)][_0x1131c6(0x58a)]()[_0x1131c6(0x2df)]<0xd?_0x2d2bd4?.[_0x1131c6(0x18c)]*0x3e8:_0x2d2bd4?.['creation']||null,_0x20ed83={..._0x2d2bd4,'lastUpdate':Date['now']()},!_0x2d2bd4)return;}let _0x4ecd2e=_0x20ed83[_0x1131c6(0x4c3)]?.[_0x1131c6(0x441)](_0x1fc5ef=>_0x1fc5ef['id']===this[_0x1131c6(0x79f)][_0x1131c6(0x193)]+_0x1131c6(0x220)&&_0x1fc5ef[_0x1131c6(0x479)]!=null)||!0x1;!_0x20ed83[_0x1131c6(0x1c3)]&&_0x4ecd2e&&(_0x20ed83[_0x1131c6(0x1c3)]=(await this[_0x1131c6(0x1c3)](_0x11e2c3,!0x1))[_0x1131c6(0x265)]);let _0xc9d21f=(!_0x20ed83[_0x1131c6(0x4fa)]||_0x4ecd2e)&&(!_0x20ed83['isCommunity']||_0x4ecd2e);_0x20ed83['isAdmin']=_0x4ecd2e,_0x20ed83[_0x1131c6(0x417)]=_0xc9d21f;let _0x5cd6df=[];if(_0x4ecd2e&&_0x20ed83['joinApprovalMode'])try{_0x5cd6df=await this[_0x1131c6(0x5e8)][_0x1131c6(0x822)](_0x11e2c3['groupJid']),_0x20ed83[_0x1131c6(0x576)]=Date['now']();}catch(_0x27a6b6){this[_0x1131c6(0x263)][_0x1131c6(0x69d)](this['instanceName']+'\x20('+this[_0x1131c6(0x79f)]['wuid']+_0x1131c6(0x592)+_0x11e2c3[_0x1131c6(0x206)]+':\x20'+(_0x27a6b6 instanceof Error?_0x27a6b6[_0x1131c6(0x555)]:JSON['stringify'](_0x27a6b6,null,0x2)));}try{_0x20ed83['image']=(await this['findAndUpdateCacheContact'](_0x11e2c3['groupJid'],null,!0x0))[_0x1131c6(0x60c)]['pictureUrl'];}catch(_0x43bb22){this[_0x1131c6(0x263)]['verbose'](this[_0x1131c6(0x24d)]+'\x20('+this[_0x1131c6(0x79f)][_0x1131c6(0x193)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x11e2c3['groupJid']+':\x20'+(_0x43bb22 instanceof Error?_0x43bb22[_0x1131c6(0x555)]:JSON['stringify'](_0x43bb22,null,0x2)));}let _0x1e6ddc=_0x20ed83[_0x1131c6(0x4c3)][_0x1131c6(0x27c)](_0x2f1f47=>_0x2f1f47['id']),_0x20fd34=_0x5cd6df['map'](_0x32f1a8=>_0x32f1a8[_0x1131c6(0x291)]),_0x4ad5fa=await this['repository'][_0x1131c6(0x7fc)][_0x1131c6(0x2d8)]([..._0x1e6ddc,..._0x20fd34]);_0x20ed83[_0x1131c6(0x4c3)]=_0x20ed83[_0x1131c6(0x4c3)][_0x1131c6(0x27c)](_0x4d0fd7=>{const _0x28622a=_0x1131c6;let _0x596596=_0x4ad5fa[_0x28622a(0x82c)](_0x276f96=>_0x276f96[_0x28622a(0x3fa)]===_0x4d0fd7['id']);return{'id':_0x4d0fd7['id'],'isAdmin':[_0x28622a(0x479),_0x28622a(0x5b0)][_0x28622a(0x7bc)](_0x4d0fd7[_0x28622a(0x479)]),'admin':_0x4d0fd7[_0x28622a(0x479)],'pushName':_0x596596?.[_0x28622a(0x5fa)],'profilePictureUrl':_0x596596?.[_0x28622a(0x2d5)]};}),_0x20ed83[_0x1131c6(0x1e6)]=_0x5cd6df[_0x1131c6(0x27c)](_0x45c15a=>{const _0x50de5d=_0x1131c6;let _0x2038c9=_0x4ad5fa[_0x50de5d(0x82c)](_0x361e0d=>_0x361e0d[_0x50de5d(0x3fa)]===_0x45c15a['jid']);return{'id':_0x45c15a[_0x50de5d(0x291)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x2038c9?.['name'],'profilePictureUrl':_0x2038c9?.[_0x50de5d(0x2d5)],'request_method':_0x45c15a['request_method'],'request_time':_0x45c15a[_0x50de5d(0x2bb)]};});let _0x55c1f0=await this[_0x1131c6(0x252)][_0x1131c6(0x629)]['updateOne']({'where':{'_id':_0x11e2c3[_0x1131c6(0x206)]}},{'imagechat':_0x20ed83['image'],'name':_0x20ed83['subject'],'lastcache':Date['now'](),'groupdata':_0x20ed83},this[_0x1131c6(0x79f)][_0x1131c6(0x193)]);return F(this['instanceName'],_0x1131c6(0x3eb),{'chat':_0x55c1f0}),{'metadata':_0x20ed83};}catch(_0x51d006){if(_0x327f62==='inner')return;throw new U(_0x1131c6(0x858),_0x51d006['message'][_0x1131c6(0x58a)]());}}async[a0_0x26c870(0x432)](){const _0x29a71b=a0_0x26c870;try{this['logger'][_0x29a71b(0x797)]('Retornando\x20grupos\x20COM\x20cache');let _0x419f6b=Date[_0x29a71b(0x1a6)](),_0x40d6fd=0x3*0x3c*0x3c*0x3e8;return _0x419f6b-this['lastRealGroupsFetch']>_0x40d6fd&&(this[_0x29a71b(0x368)](),this[_0x29a71b(0x5b5)]=_0x419f6b),(await this[_0x29a71b(0x252)][_0x29a71b(0x629)][_0x29a71b(0x80b)]({'where':{'group':!0x0}},this['instance'][_0x29a71b(0x193)]))[_0x29a71b(0x27c)](_0x43b8c3=>({..._0x43b8c3['groupdata'],'groupJid':_0x43b8c3?.[_0x29a71b(0x3fa)],'participants':_0x43b8c3?.[_0x29a71b(0x61d)]?.[_0x29a71b(0x4c3)]||[],'awaitingApproval':_0x43b8c3?.[_0x29a71b(0x61d)]?.[_0x29a71b(0x1e6)]||[],'image':_0x43b8c3?.['imagechat']}));}catch(_0x181a4d){let _0x2f709d=_0x29a71b(0x8ca),_0x1fccf9=_0x181a4d instanceof Error?_0x181a4d[_0x29a71b(0x555)]:typeof _0x181a4d==_0x29a71b(0x408)?JSON['stringify'](_0x181a4d):_0x181a4d,_0x105b68=_0x2f709d+':\x20'+_0x1fccf9;throw this[_0x29a71b(0x263)][_0x29a71b(0x7ba)](this[_0x29a71b(0x24d)]+'\x20('+this[_0x29a71b(0x79f)][_0x29a71b(0x193)]+_0x29a71b(0x60e)+_0x105b68),new U(_0x105b68);}}async['findRealGroups'](){const _0x3f6840=a0_0x26c870;try{this[_0x3f6840(0x263)][_0x3f6840(0x797)]('Retornando\x20grupos\x20SEM\x20cache');let _0x5259c9=[],_0x1241df=await this['client'][_0x3f6840(0x49e)](),_0x3e8d92=Object['values'](_0x1241df);for(let _0x532dde=0x0;_0x532dde<_0x3e8d92[_0x3f6840(0x2df)];_0x532dde++){let _0x425ae4=_0x3e8d92[_0x532dde];(0x0,w[_0x3f6840(0x84c)])(_0x425ae4?.['id'])&&(_0x5259c9['push']({'groupJid':_0x425ae4?.['id'],'subject':_0x425ae4?.[_0x3f6840(0x84a)],'subjectOwner':_0x425ae4?.[_0x3f6840(0x3c5)]?.['split']('@')[0x0],'subjectTime':_0x425ae4?.['subjectTime'],'creation':_0x425ae4?.[_0x3f6840(0x18c)],'size':_0x425ae4?.[_0x3f6840(0x4c3)]?.[_0x3f6840(0x2df)],'owner':_0x425ae4?.[_0x3f6840(0x676)]?.['split']('@')[0x0],'desc':_0x425ae4?.[_0x3f6840(0x507)],'restrict':_0x425ae4?.[_0x3f6840(0x4b8)],'announce':_0x425ae4?.['announce'],'image':null,'isCommunity':_0x425ae4?.[_0x3f6840(0x873)],'joinApprovalMode':_0x425ae4?.['joinApprovalMode'],'memberCanAddParticipant':_0x425ae4?.[_0x3f6840(0x5b8)],'participants':_0x425ae4?.[_0x3f6840(0x4c3)],'descOwner':_0x425ae4?.[_0x3f6840(0x6b9)],'descId':_0x425ae4?.[_0x3f6840(0x539)],'memberAddMode':_0x425ae4?.[_0x3f6840(0x5b8)],'isCommunityAnnounce':_0x425ae4?.[_0x3f6840(0x3a8)],'ephemeralDuration':_0x425ae4?.[_0x3f6840(0x664)]||0x0,'author':_0x425ae4?.[_0x3f6840(0x30d)]}),this['updateChatGroupData'](_0x3e8d92[_0x532dde]));}return _0x5259c9;}catch(_0x414f3d){let _0x57b6c5=_0x3f6840(0x6b7),_0x2d9541=_0x414f3d instanceof Error?_0x414f3d[_0x3f6840(0x555)]:typeof _0x414f3d==_0x3f6840(0x408)?JSON[_0x3f6840(0x2c2)](_0x414f3d):_0x414f3d,_0x1931f1=_0x57b6c5+':\x20'+_0x2d9541;throw this[_0x3f6840(0x263)]['error'](this[_0x3f6840(0x24d)]+'\x20('+this['instance'][_0x3f6840(0x193)]+_0x3f6840(0x60e)+_0x1931f1),new U(_0x1931f1);}}async['updateChatGroupData'](_0x370da8){const _0x387c4e=a0_0x26c870;let _0x1eded4=await this[_0x387c4e(0x252)]['chat'][_0x387c4e(0x74c)]({'where':{'_id':_0x370da8['id']}},this[_0x387c4e(0x79f)][_0x387c4e(0x193)]);if(_0x370da8[_0x387c4e(0x87e)]=_0x370da8?.['subjectTime']&&_0x370da8[_0x387c4e(0x87e)]['toString']()['length']<0xd?_0x370da8?.[_0x387c4e(0x87e)]*0x3e8:_0x370da8?.[_0x387c4e(0x87e)]||null,_0x370da8[_0x387c4e(0x18c)]=_0x370da8?.[_0x387c4e(0x18c)]&&_0x370da8[_0x387c4e(0x18c)][_0x387c4e(0x58a)]()['length']<0xd?_0x370da8?.[_0x387c4e(0x18c)]*0x3e8:_0x370da8?.['creation']||null,!_0x370da8[_0x387c4e(0x389)])try{_0x370da8[_0x387c4e(0x389)]=await this['client'][_0x387c4e(0x93b)](_0x370da8['id'],_0x387c4e(0x8b0));}catch(_0x3931f1){this['logger'][_0x387c4e(0x69d)](this[_0x387c4e(0x24d)]+'\x20('+this[_0x387c4e(0x79f)][_0x387c4e(0x193)]+_0x387c4e(0x7eb)+_0x370da8['id']+':\x20'+(_0x3931f1 instanceof Error?_0x3931f1['message']:JSON['stringify'](_0x3931f1,null,0x2)));}let _0x1f6c09=_0x370da8[_0x387c4e(0x4c3)]['map'](_0x256e60=>{const _0x4a231d=_0x387c4e;let _0x3aedd0=_0x1eded4?.[_0x4a231d(0x61d)]?.['participants'][_0x4a231d(0x82c)](_0x5a6ce6=>_0x5a6ce6['id']===_0x256e60['id']);return{..._0x256e60,'isAdmin':[_0x4a231d(0x479),_0x4a231d(0x5b0)][_0x4a231d(0x7bc)](_0x256e60[_0x4a231d(0x479)]),'admin':_0x256e60[_0x4a231d(0x479)],'name':_0x3aedd0?.['name']||_0x256e60[_0x4a231d(0x5fa)],'imgUrl':_0x3aedd0?.[_0x4a231d(0x5aa)]||_0x256e60['imgUrl']};}),_0x5eb56b=_0x1f6c09[_0x387c4e(0x441)](_0x595a26=>_0x595a26['id']===this[_0x387c4e(0x79f)][_0x387c4e(0x193)]+_0x387c4e(0x220)&&_0x595a26[_0x387c4e(0x479)]!=null)||!0x1,_0x263a64=(!_0x370da8[_0x387c4e(0x4fa)]||_0x5eb56b)&&(!_0x370da8[_0x387c4e(0x873)]||_0x5eb56b),_0x3af6f5={..._0x370da8,'participants':_0x1f6c09,'awaitingApproval':_0x1eded4?.[_0x387c4e(0x61d)]?.['awaitingApproval']||[],'lastFetchAwaitingApproval':_0x1eded4?.[_0x387c4e(0x61d)]?.[_0x387c4e(0x576)],'isAdmin':_0x5eb56b,'canSendMessage':_0x263a64,'lastUpdate':Date[_0x387c4e(0x1a6)]()};await this[_0x387c4e(0x252)]['chat'][_0x387c4e(0x5f5)]({'where':{'_id':_0x370da8['id']}},{'imagechat':_0x370da8[_0x387c4e(0x389)],'name':_0x370da8[_0x387c4e(0x84a)],'group':!0x0,'groupdata':_0x3af6f5,'lastcache':Date[_0x387c4e(0x1a6)]()},this[_0x387c4e(0x79f)][_0x387c4e(0x193)]),F(this[_0x387c4e(0x24d)],_0x387c4e(0x3eb),{'chat':_0x370da8});}async[a0_0x26c870(0x8ed)](_0x2daf3f){const _0x624258=a0_0x26c870;let _0x104afb=await this['repository'][_0x624258(0x629)]['findOne']({'where':{'_id':_0x2daf3f['id']}},this[_0x624258(0x79f)][_0x624258(0x193)]);_0x2daf3f[_0x624258(0x87e)]=_0x2daf3f?.['subjectTime']&&_0x2daf3f[_0x624258(0x87e)][_0x624258(0x58a)]()['length']<0xd?_0x2daf3f?.[_0x624258(0x87e)]*0x3e8:_0x2daf3f?.['subjectTime']||null,_0x2daf3f[_0x624258(0x18c)]=_0x2daf3f?.['creation']&&_0x2daf3f['creation'][_0x624258(0x58a)]()[_0x624258(0x2df)]<0xd?_0x2daf3f?.[_0x624258(0x18c)]*0x3e8:_0x2daf3f?.[_0x624258(0x18c)]||null,_0x2daf3f[_0x624258(0x1c3)]&&(_0x2daf3f[_0x624258(0x1c3)]='https://chat.whatsapp.com/'+_0x2daf3f[_0x624258(0x1c3)]);let _0x505690=_0x104afb?.[_0x624258(0x61d)]?{..._0x104afb['groupdata']}:{};Object[_0x624258(0x2ef)](_0x2daf3f)[_0x624258(0x526)](_0x5378ce=>{_0x5378ce!=='id'&&(_0x505690[_0x5378ce]=_0x2daf3f[_0x5378ce]);});let _0x516257=_0x505690[_0x624258(0x4c3)]?.[_0x624258(0x441)](_0x39b010=>_0x39b010['id']===this[_0x624258(0x79f)][_0x624258(0x193)]+_0x624258(0x220)&&_0x39b010['admin']!=null)||!0x1;_0x505690[_0x624258(0x733)]=_0x516257;let _0x4f4779=(!_0x505690[_0x624258(0x4fa)]||_0x516257)&&(!_0x505690[_0x624258(0x873)]||_0x516257);_0x505690[_0x624258(0x417)]=_0x4f4779;let _0x4f1eda={'group':!0x0,'groupdata':_0x505690};_0x2daf3f['subject']&&(_0x4f1eda[_0x624258(0x5fa)]=_0x2daf3f['subject']),await this[_0x624258(0x252)]['chat']['updateOne']({'where':{'_id':_0x2daf3f['id']}},_0x4f1eda,this[_0x624258(0x79f)]['wuid'],{'upsert':!0x0}),F(this[_0x624258(0x24d)],_0x624258(0x3eb),{'chat':_0x4f1eda});}async[a0_0x26c870(0x607)](_0x5de644){const _0x3308ea=a0_0x26c870;let _0x10da03=await this[_0x3308ea(0x252)][_0x3308ea(0x629)]['findOne']({'where':{'_id':_0x5de644['id']}},this[_0x3308ea(0x79f)][_0x3308ea(0x193)]);if(!_0x10da03||!_0x10da03['groupdata']){this['logger'][_0x3308ea(0x797)](this['instanceName']+'\x20('+this[_0x3308ea(0x79f)]['wuid']+_0x3308ea(0x2e0)+_0x5de644['id']);return;}let _0x350f04=await this[_0x3308ea(0x252)][_0x3308ea(0x7fc)][_0x3308ea(0x2d8)](_0x5de644[_0x3308ea(0x4c3)]),_0xd4131a=[..._0x10da03[_0x3308ea(0x61d)]?.[_0x3308ea(0x4c3)]];switch(_0x5de644['action']){case _0x3308ea(0x1c4):_0x350f04[_0x3308ea(0x27c)](_0x151ddc=>({'id':_0x151ddc[_0x3308ea(0x3fa)],'isAdmin':!0x1,'name':_0x151ddc['name'],'imgUrl':_0x151ddc[_0x3308ea(0x2d5)]}))[_0x3308ea(0x526)](_0x58bf61=>{const _0x47537d=_0x3308ea;_0xd4131a['some'](_0x51910b=>_0x51910b['id']===_0x58bf61['id'])||(_0xd4131a['push'](_0x58bf61),this[_0x47537d(0x263)][_0x47537d(0x797)]('Adicionando\x20novo\x20participante:\x20'+JSON['stringify'](_0x58bf61)));});break;case _0x3308ea(0x665):_0xd4131a=_0xd4131a[_0x3308ea(0x2b4)](_0x57c615=>!_0x5de644[_0x3308ea(0x4c3)][_0x3308ea(0x7bc)](_0x57c615['id']));break;case _0x3308ea(0x8ba):_0xd4131a=_0xd4131a[_0x3308ea(0x27c)](_0x3f242c=>_0x5de644[_0x3308ea(0x4c3)]['includes'](_0x3f242c['id'])?{..._0x3f242c,'isAdmin':!0x0,'admin':'admin'}:_0x3f242c);break;case _0x3308ea(0x223):_0xd4131a=_0xd4131a[_0x3308ea(0x27c)](_0x5aafd8=>_0x5de644[_0x3308ea(0x4c3)][_0x3308ea(0x7bc)](_0x5aafd8['id'])?{..._0x5aafd8,'isAdmin':!0x1,'admin':null}:_0x5aafd8);break;}let _0x2420fc=_0xd4131a[_0x3308ea(0x2df)],_0x53c3af=_0xd4131a[_0x3308ea(0x441)](_0x51d6fa=>_0x51d6fa['id']===this[_0x3308ea(0x79f)][_0x3308ea(0x193)]+_0x3308ea(0x220)),_0x1d5ca0=_0x53c3af&&_0xd4131a[_0x3308ea(0x441)](_0x27518e=>_0x27518e['id']===this[_0x3308ea(0x79f)][_0x3308ea(0x193)]+'@s.whatsapp.net'&&_0x27518e['admin']!=null)||!0x1,_0x141581=_0x53c3af&&(!_0x10da03[_0x3308ea(0x61d)]['announce']||_0x1d5ca0)&&(!_0x10da03[_0x3308ea(0x61d)]['isCommunity']||_0x1d5ca0);await this[_0x3308ea(0x252)][_0x3308ea(0x629)][_0x3308ea(0x5f5)]({'where':{'_id':_0x5de644['id']}},{'groupdata':{..._0x10da03[_0x3308ea(0x61d)],'participants':_0xd4131a,'size':_0x2420fc,'isAdmin':_0x1d5ca0,'canSendMessage':_0x141581}},this['instance'][_0x3308ea(0x193)]),this[_0x3308ea(0x263)][_0x3308ea(0x797)](this['instanceName']+'\x20('+this[_0x3308ea(0x79f)][_0x3308ea(0x193)]+'):\x20Grupo\x20'+_0x5de644['id']+_0x3308ea(0x2c6)+_0x5de644[_0x3308ea(0x322)]+_0x3308ea(0x907)+_0x2420fc+_0x3308ea(0x31e)+_0x1d5ca0+_0x3308ea(0x88a)+_0x141581);}async[a0_0x26c870(0x1c3)](_0x8cb3b2,_0x581a01=!0x0){const _0x53d6f8=a0_0x26c870;try{let _0x57f449=await this[_0x53d6f8(0x5e8)][_0x53d6f8(0x456)](_0x8cb3b2['groupJid']),_0x2fcbe1={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x57f449};if(_0x581a01){let _0x4827a8=await this[_0x53d6f8(0x252)][_0x53d6f8(0x629)][_0x53d6f8(0x5f5)]({'where':{'_id':_0x8cb3b2['groupJid']}},_0x2fcbe1,this[_0x53d6f8(0x79f)]['wuid']);}return{'inviteUrl':_0x53d6f8(0x4a8)+_0x57f449,'inviteCode':_0x57f449};}catch(_0x3b3c10){let _0x52eb63=_0x53d6f8(0x43f),_0x32b13d=_0x3b3c10 instanceof Error?_0x3b3c10[_0x53d6f8(0x555)]:typeof _0x3b3c10=='object'?JSON['stringify'](_0x3b3c10):_0x3b3c10,_0x11b8f1=_0x52eb63+':\x20'+_0x32b13d;throw this[_0x53d6f8(0x263)][_0x53d6f8(0x7ba)](this[_0x53d6f8(0x24d)]+'\x20('+this[_0x53d6f8(0x79f)][_0x53d6f8(0x193)]+_0x53d6f8(0x60e)+_0x11b8f1),new U(_0x11b8f1);}}async[a0_0x26c870(0x6c2)](_0x122405){const _0x2c903c=a0_0x26c870;try{let _0x2ee5b4=await this[_0x2c903c(0x5e8)][_0x2c903c(0x8e1)](_0x122405[_0x2c903c(0x206)]);return{'revoked':!0x0,'inviteUrl':_0x2c903c(0x4a8)+_0x2ee5b4,'inviteCode':_0x2ee5b4};}catch(_0x48cb33){let _0x4025a9='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x572b52=_0x48cb33 instanceof Error?_0x48cb33['message']:typeof _0x48cb33=='object'?JSON[_0x2c903c(0x2c2)](_0x48cb33):_0x48cb33,_0x357c21=_0x4025a9+':\x20'+_0x572b52;throw this['logger'][_0x2c903c(0x7ba)](this[_0x2c903c(0x24d)]+'\x20('+this[_0x2c903c(0x79f)][_0x2c903c(0x193)]+_0x2c903c(0x60e)+_0x357c21),new U(_0x357c21);}}async['joinGroup'](_0x4bfe12){const _0x45f202=a0_0x26c870;try{if((0x0,J['isURL'])(_0x4bfe12[_0x45f202(0x1c3)]))var _0x411c99=_0x4bfe12['inviteCode'][_0x45f202(0x4c5)]('/')[0x3];else var _0x411c99=_0x4bfe12[_0x45f202(0x1c3)];let _0x24a2ac=await this[_0x45f202(0x5e8)][_0x45f202(0x6c5)](_0x411c99);return this[_0x45f202(0x263)][_0x45f202(0x69d)](this['instanceName']+'\x20('+this[_0x45f202(0x79f)][_0x45f202(0x193)]+_0x45f202(0x60e)+_0x24a2ac),{'join':!0x0,'inviteCode':_0x411c99,'groupJid':_0x24a2ac};}catch(_0x4446fe){let _0x1b90c7='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x1fb7b3=_0x4446fe instanceof Error?_0x4446fe[_0x45f202(0x555)]:typeof _0x4446fe==_0x45f202(0x408)?JSON[_0x45f202(0x2c2)](_0x4446fe):_0x4446fe,_0x140381=_0x1b90c7+':\x20'+_0x1fb7b3;throw this[_0x45f202(0x263)][_0x45f202(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x45f202(0x193)]+_0x45f202(0x60e)+_0x140381),new U(_0x140381);}}async[a0_0x26c870(0x832)](_0x19a30c){const _0x511779=a0_0x26c870;try{return{'participants':(await this[_0x511779(0x252)][_0x511779(0x629)]['findOne']({'where':{'_id':_0x19a30c[_0x511779(0x206)]}},this['instance']['wuid']))[_0x511779(0x61d)][_0x511779(0x4c3)]};}catch(_0x4c6ff0){let _0x1bf8ef=_0x511779(0x233),_0x45d416=_0x4c6ff0 instanceof Error?_0x4c6ff0[_0x511779(0x555)]:typeof _0x4c6ff0==_0x511779(0x408)?JSON[_0x511779(0x2c2)](_0x4c6ff0):_0x4c6ff0,_0x116d0c=_0x1bf8ef+':\x20'+_0x45d416;throw this[_0x511779(0x263)][_0x511779(0x7ba)](this[_0x511779(0x24d)]+'\x20('+this[_0x511779(0x79f)][_0x511779(0x193)]+_0x511779(0x60e)+_0x116d0c),new U(_0x116d0c);}}async[a0_0x26c870(0x726)](_0x40eb57){const _0x3bc673=a0_0x26c870;try{return await this[_0x3bc673(0x5e8)][_0x3bc673(0x3f2)](_0x40eb57[_0x3bc673(0x206)]),{'groupJid':_0x40eb57['groupJid'],'leave':!0x0};}catch(_0x1a842c){let _0x737459=_0x3bc673(0x329),_0x53b5f5=_0x1a842c instanceof Error?_0x1a842c[_0x3bc673(0x555)]:typeof _0x1a842c==_0x3bc673(0x408)?JSON['stringify'](_0x1a842c):_0x1a842c,_0x1fc268=_0x737459+':\x20'+_0x53b5f5;throw this['logger'][_0x3bc673(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x3bc673(0x193)]+_0x3bc673(0x60e)+_0x1fc268),new m(_0x1fc268);}}async['pollMessage'](_0x5d689c){const _0x59f699=a0_0x26c870;return await this[_0x59f699(0x641)](_0x5d689c[_0x59f699(0x684)],{'poll':{'name':_0x5d689c[_0x59f699(0x4ae)]?.[_0x59f699(0x5fa)],'selectableCount':_0x5d689c[_0x59f699(0x4ae)][_0x59f699(0x469)],'values':_0x5d689c['pollMessage'][_0x59f699(0x800)]}},_0x5d689c?.[_0x59f699(0x584)]);}async[a0_0x26c870(0x5c5)](_0x75f496){const _0x1b2954=a0_0x26c870;return await this['sendMessageWithTyping'](_0x75f496['number'],{'listMessage':{'title':_0x75f496['listMessage']['title'],'description':_0x75f496[_0x1b2954(0x5c5)]['description'],'buttonText':_0x75f496['listMessage']?.[_0x1b2954(0x69e)],'footerText':_0x75f496['listMessage']?.[_0x1b2954(0x5ca)],'sections':_0x75f496[_0x1b2954(0x5c5)][_0x1b2954(0x89d)],'listType':0x2}},_0x75f496?.[_0x1b2954(0x584)]);}async[a0_0x26c870(0x6c1)](_0x4ae5d9){const _0x25ceb3=a0_0x26c870;this[_0x25ceb3(0x79f)]['isBusiness']===void 0x0&&await this['isBusinessInstance']();let _0x19cd08;if(_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x760)]===_0x25ceb3(0x5cc)||_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x760)]===_0x25ceb3(0x393)){let _0x1f739f=_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x529)][_0x25ceb3(0x31c)]('\x0a'),_0x50af00='',_0x452674='';_0x1f739f!==-0x1?(_0x50af00=_0x4ae5d9['menuMessage']['text'][_0x25ceb3(0x8c8)](0x0,_0x1f739f)['trim'](),_0x452674=_0x4ae5d9['menuMessage'][_0x25ceb3(0x529)][_0x25ceb3(0x8c8)](_0x1f739f+0x1)):_0x452674=_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x529)];let _0x4290f6=_0x4ae5d9['menuMessage'][_0x25ceb3(0x3ba)][_0x25ceb3(0x2b4)](_0x42fb94=>_0x42fb94[_0x25ceb3(0x3a7)]()!==''),_0x33f521=this[_0x25ceb3(0x247)](_0x4290f6);_0x19cd08={'listMessage':{'title':_0x50af00,'description':_0x452674,'buttonText':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x69e)]||'Selecione','footerText':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x5ca)],'sections':_0x33f521,'listType':0x2}};}else{if(_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x760)]===_0x25ceb3(0x470)){let _0x1b652b=_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x3ba)][_0x25ceb3(0x2b4)](_0x31b68a=>!(_0x31b68a['startsWith']('[')&&_0x31b68a[_0x25ceb3(0x4eb)](']'))&&_0x31b68a[_0x25ceb3(0x3a7)]()!=='')['map'](_0x394236=>_0x394236[_0x25ceb3(0x4c5)]('\x0a')[0x0]);for(;_0x1b652b[_0x25ceb3(0x2df)]<0x2;)_0x1b652b[_0x25ceb3(0x48e)](_0x25ceb3(0x920)+(_0x1b652b[_0x25ceb3(0x2df)]+0x1));_0x19cd08={'poll':{'name':_0x4ae5d9['menuMessage'][_0x25ceb3(0x529)],'selectableCount':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x469)]||0x1,'values':_0x1b652b}};}else{if(_0x4ae5d9[_0x25ceb3(0x6c1)]['type']==='button'){let _0x49d001=this[_0x25ceb3(0x4e6)](_0x4ae5d9['menuMessage'][_0x25ceb3(0x3ba)][_0x25ceb3(0x2b4)](_0x459d49=>!(_0x459d49[_0x25ceb3(0x6a1)]('[')&&_0x459d49[_0x25ceb3(0x4eb)](']'))));return _0x19cd08={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x529)]},'footer':_0x4ae5d9[_0x25ceb3(0x6c1)]['footerText']?{'text':_0x4ae5d9[_0x25ceb3(0x6c1)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x49d001,'messageParamsJson':JSON[_0x25ceb3(0x2c2)]({'from':_0x25ceb3(0x52c),'templateId':_0x25ceb3(0x2d2)+(0x0,re[_0x25ceb3(0x1a5)])(0x12)[_0x25ceb3(0x58a)]('hex')[_0x25ceb3(0x425)]()})}}}}},await this[_0x25ceb3(0x68a)](_0x4ae5d9[_0x25ceb3(0x684)],_0x19cd08,_0x4ae5d9?.[_0x25ceb3(0x584)]);}else{if(_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x760)]===_0x25ceb3(0x8ec)){let _0xc7196e=this[_0x25ceb3(0x6a7)](_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x3ba)]);return _0x19cd08={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4ae5d9[_0x25ceb3(0x6c1)]['text']},'footer':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x5ca)]?{'text':_0x4ae5d9[_0x25ceb3(0x6c1)][_0x25ceb3(0x5ca)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xc7196e,'messageParamsJson':JSON[_0x25ceb3(0x2c2)]({'from':_0x25ceb3(0x52c),'templateId':_0x25ceb3(0x2d2)+(0x0,re[_0x25ceb3(0x1a5)])(0x12)[_0x25ceb3(0x58a)](_0x25ceb3(0x863))['toUpperCase']()})}}}}},await this[_0x25ceb3(0x68a)](_0x4ae5d9[_0x25ceb3(0x684)],_0x19cd08,_0x4ae5d9?.['options']);}}}}return await this['sendMessageWithTyping'](_0x4ae5d9[_0x25ceb3(0x684)],_0x19cd08,_0x4ae5d9?.[_0x25ceb3(0x584)]);}[a0_0x26c870(0x4e6)](_0xb7264b){const _0x4e087d=a0_0x26c870;return _0xb7264b[_0x4e087d(0x27c)](_0x625145=>{const _0x4fefd6=_0x4e087d;let _0x3f6574=_0x625145[_0x4fefd6(0x4c5)]('\x0a')[_0x4fefd6(0x27c)](_0x499fcf=>_0x499fcf[_0x4fefd6(0x3a7)]()),_0x5edb61=_0x3f6574[0x0],_0x2b806c=_0x3f6574[0x1]||_0x5edb61,_0x2ccfc0=_0x2b806c[_0x4fefd6(0x6a1)](_0x4fefd6(0x852))?_0x4fefd6(0x6e0):_0x4fefd6(0x92b);return{'name':_0x2ccfc0,'buttonParamsJson':JSON['stringify']({'display_text':_0x5edb61,'id':_0x2ccfc0===_0x4fefd6(0x92b)?_0x2b806c:void 0x0,'url':_0x2ccfc0===_0x4fefd6(0x6e0)?_0x2b806c:void 0x0})};});}[a0_0x26c870(0x6a7)](_0x36f244){const _0x7443a6=a0_0x26c870;let _0x11af2d=[],_0x58c9aa={'title':'','rows':[]};return _0x36f244['forEach'](_0x53854f=>{const _0x2d6c14=a0_0x4486;if(_0x53854f[_0x2d6c14(0x6a1)]('[')&&_0x53854f[_0x2d6c14(0x4eb)](']'))_0x58c9aa['rows'][_0x2d6c14(0x2df)]>0x0&&_0x11af2d[_0x2d6c14(0x48e)](_0x58c9aa),_0x58c9aa={'title':_0x53854f['slice'](0x1,-0x1),'rows':[]};else{let _0x1729d6=_0x53854f[_0x2d6c14(0x4c5)]('\x0a')[_0x2d6c14(0x27c)](_0x3befb1=>_0x3befb1[_0x2d6c14(0x3a7)]()),_0x165968=_0x1729d6[0x0],_0x2f57f4=_0x1729d6[0x1]?_0x1729d6[0x1]:void 0x0,_0x5ca71a=_0x1729d6[0x2]||_0x165968;_0x58c9aa[_0x2d6c14(0x531)][_0x2d6c14(0x48e)]({'title':_0x165968,'description':_0x2f57f4,'id':_0x5ca71a});}}),_0x58c9aa[_0x7443a6(0x531)]['length']>0x0&&_0x11af2d[_0x7443a6(0x48e)](_0x58c9aa),[{'name':_0x7443a6(0x71a),'buttonParamsJson':JSON[_0x7443a6(0x2c2)]({'title':_0x7443a6(0x277),'sections':_0x11af2d})}];}['createSectionsFromValues'](_0x1f58b3){const _0x5666f8=a0_0x26c870;let _0x2923e0=[],_0x2e76f2={'rows':[]};return _0x1f58b3[_0x5666f8(0x526)](_0x4a2283=>{const _0x6d135c=_0x5666f8;if(_0x4a2283[_0x6d135c(0x6a1)]('[')&&_0x4a2283[_0x6d135c(0x4eb)](']'))_0x2e76f2[_0x6d135c(0x531)][_0x6d135c(0x2df)]>0x0&&_0x2923e0[_0x6d135c(0x48e)](_0x2e76f2),_0x2e76f2={'title':_0x4a2283[_0x6d135c(0x4f7)](0x1,-0x1),'rows':[]};else{let _0x3781bf=_0x4a2283['split']('\x0a')['map'](_0x4540ce=>_0x4540ce['trim']()),_0xe20119=_0x3781bf[0x0],_0x4f9bbb=_0x3781bf[0x1]||null,_0xe8bd54=_0x3781bf[0x2]||_0xe20119;_0x2e76f2[_0x6d135c(0x531)]['push']({'title':_0xe20119,'description':_0x4f9bbb,'rowId':_0xe8bd54});}}),_0x2e76f2[_0x5666f8(0x531)][_0x5666f8(0x2df)]>0x0&&_0x2923e0['push'](_0x2e76f2),_0x2923e0;}async[a0_0x26c870(0x683)](_0x2b04df,_0x32c543){const _0xf8f24e=a0_0x26c870;if(await this[_0xf8f24e(0x6a6)](_0x2b04df,!0x0)){let _0x11c0be={'where':{'_id':_0x2b04df['id']}},_0x571341={'status':[_0x32c543[_0xf8f24e(0x284)]][0x0]};try{let _0x1527df=await this[_0xf8f24e(0x252)][_0xf8f24e(0x555)][_0xf8f24e(0x447)](_0x11c0be,_0x571341,this[_0xf8f24e(0x79f)][_0xf8f24e(0x193)]);_0x1527df&&F(this['instanceName'],_0xf8f24e(0x55a),{'message':_0x1527df});}catch{}}}[a0_0x26c870(0x798)](_0x4021c5){const _0x282912=a0_0x26c870;let _0x1d3b79=[];return _0x4021c5[_0x282912(0x526)](_0x2ae3a4=>{const _0x84b2a=_0x282912;_0x2ae3a4['title']&&_0x1d3b79[_0x84b2a(0x48e)]('['+_0x2ae3a4[_0x84b2a(0x45c)]+']'),_0x2ae3a4[_0x84b2a(0x531)][_0x84b2a(0x526)](_0x25e27a=>{const _0x30165b=_0x84b2a;_0x1d3b79[_0x30165b(0x48e)](_0x25e27a[_0x30165b(0x45c)]);});}),_0x1d3b79[_0x282912(0x5ba)]('|');}[a0_0x26c870(0x29e)](_0x2cbba5){const _0x2540f3=a0_0x26c870;let _0x115bdf=_0x2cbba5[_0x2540f3(0x821)](/\\n/g,'\x0a')[_0x2540f3(0x4c5)]('\x0a')[_0x2540f3(0x2b4)](_0x2c10be=>_0x2c10be[_0x2540f3(0x7bc)](_0x2540f3(0x39e))||_0x2c10be[_0x2540f3(0x7bc)](_0x2540f3(0x37f))),_0x4d0d77='';return _0x115bdf[_0x2540f3(0x526)](_0x12c7c9=>{const _0x59d8ba=_0x2540f3;let _0x45a51f=/TEL(?:.*):(.+)/,_0x14af9f=/EMAIL(?:.*):(.+)/,_0x423f51=_0x12c7c9[_0x59d8ba(0x7e1)](_0x45a51f),_0x1de542=_0x12c7c9[_0x59d8ba(0x7e1)](_0x14af9f);if(_0x423f51){let _0x34e1ce=_0x423f51[0x1][_0x59d8ba(0x821)](/-| |\+|\(|\)/g,'')['trim']();_0x4d0d77+=_0x59d8ba(0x811)+_0x34e1ce+'\x0a';}else{if(_0x1de542){let _0x5dbdbd=_0x1de542[0x1]['trim']();_0x4d0d77+=_0x59d8ba(0x65e)+_0x5dbdbd+'\x0a';}}}),_0x4d0d77[_0x2540f3(0x3a7)]();}async[a0_0x26c870(0x5ae)](_0x7fbf4f,_0x223db6,_0x331163,_0x478123=null){const _0x572d68=a0_0x26c870;if(_0x7fbf4f[_0x572d68(0x3b5)])try{let _0x3a5352=_0x223db6[_0x572d68(0x8f1)][_0x572d68(0x489)]['replace'](/:\d{1,2}@/g,'@'),_0x513c71=_0x223db6[_0x572d68(0x8f1)][_0x572d68(0x549)],_0x166d4f=_0x3a5352[_0x572d68(0x4eb)](_0x572d68(0x334)),_0x794a10=_0x223db6['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x296b8c=_0x223db6[_0x572d68(0x46a)]?.[_0x572d68(0x529)]||_0x223db6[_0x572d68(0x46a)]?.[_0x572d68(0x741)]||_0x223db6[_0x572d68(0x46a)]?.[_0x572d68(0x45b)]||_0x223db6[_0x572d68(0x46a)]?.[_0x572d68(0x5fa)]||'',_0x1d6325={'_id':_0x223db6['_id'],'remoteJid':_0x513c71?this[_0x572d68(0x79f)]['wuid']:_0x166d4f?_0x794a10:_0x3a5352,'pushName':_0x513c71?this[_0x572d68(0x79f)][_0x572d68(0x42e)]||'Eu':_0x223db6[_0x572d68(0x574)],'text':_0x296b8c,'type':_0x223db6[_0x572d68(0x35c)],'when':_0x223db6[_0x572d68(0x861)]||Date[_0x572d68(0x1a6)]()};_0x478123||(_0x478123=await this[_0x572d68(0x252)]['chat'][_0x572d68(0x74c)]({'where':{'_id':_0x3a5352}},this[_0x572d68(0x79f)][_0x572d68(0x193)]));let _0x1d315e=_0x513c71?0x0:_0x478123?(_0x478123[_0x572d68(0x6d1)]||0x0)+0x1:0x1,_0x2dbfe6={'lastmsg':_0x223db6['messageTimestamp']||Date['now'](),'ephemeralExpiration':_0x223db6[_0x572d68(0x482)],'lastMessage':_0x1d6325,'unreadcount':_0x1d315e,..._0x513c71||_0x166d4f?{}:{'name':_0x223db6['pushName']},..._0x166d4f?{'group':_0x166d4f}:{},...!_0x513c71&&!_0x166d4f&&_0x223db6['profilePictureUrl']?{'imagechat':_0x223db6[_0x572d68(0x93b)]}:{}};if(!_0x166d4f&&(!_0x478123?.['leadInfo']||!_0x478123[_0x572d68(0x6f8)]['nome'])&&_0x223db6['pushName']&&!_0x513c71&&(_0x2dbfe6={..._0x2dbfe6,'leadInfo.nome':_0x223db6['pushName']}),_0x478123?.[_0x572d68(0x6f8)][_0x572d68(0x71c)]||(_0x2dbfe6={..._0x2dbfe6,'leadInfo.etiquetas':[]}),_0x478123?.[_0x572d68(0x6f8)][_0x572d68(0x454)]||(_0x2dbfe6={..._0x2dbfe6,'leadInfo.customFields':[]}),_0x478123?.[_0x572d68(0x6f8)][_0x572d68(0x6b2)]||(_0x2dbfe6={..._0x2dbfe6,'leadInfo.tags':[]}),_0x478123&&_0x478123?.[_0x572d68(0x219)]){let _0x34ee25=await this[_0x572d68(0x252)]['label'][_0x572d68(0x82c)]({'where':{}},this[_0x572d68(0x79f)][_0x572d68(0x193)]),_0x2f2951=new Set(_0x34ee25[_0x572d68(0x27c)](_0x56bf6f=>_0x56bf6f['_id'])),_0x213eee=(_0x478123[_0x572d68(0x6f8)]?.['etiquetas']||[])[_0x572d68(0x2b4)](_0x44cd70=>_0x2f2951[_0x572d68(0x5fb)](_0x44cd70));_0x2dbfe6={..._0x2dbfe6,'imported':!0x1,'leadInfo.etiquetas':_0x213eee};for(let _0x52559a of _0x213eee)await this[_0x572d68(0x92d)](_0x52559a,_0x3a5352);}if(!this[_0x572d68(0x6bb)]['flows'][_0x572d68(0x82c)](_0x6c01d8=>_0x6c01d8['startCommand']&&_0x296b8c['includes'](_0x6c01d8[_0x572d68(0x52a)]))&&_0x331163===_0x572d68(0x903)&&_0x513c71&&this[_0x572d68(0x6bb)]?.[_0x572d68(0x486)][_0x572d68(0x32e)]&&_0x296b8c[_0x572d68(0x3a7)]()!==this['AutomateSystem']?.[_0x572d68(0x486)][_0x572d68(0x4ef)][_0x572d68(0x3a7)]()){let _0x341858=(this[_0x572d68(0x6bb)]?.['flowConfig']['stopWhenYouSendMsg']||0x0)*0xea60,_0x55ba92=Date[_0x572d68(0x1a6)]()+_0x341858;_0x478123?.[_0x572d68(0x6f8)]?.[_0x572d68(0x8aa)]===0x0||(_0x2dbfe6={..._0x2dbfe6,'leadInfo.desativadoFluxoAte':_0x55ba92},this[_0x572d68(0x263)][_0x572d68(0x69d)](this[_0x572d68(0x24d)]+'\x20('+this[_0x572d68(0x79f)][_0x572d68(0x193)]+_0x572d68(0x781)+_0x55ba92+'.'));}if(_0x296b8c[_0x572d68(0x3a7)]()===this[_0x572d68(0x6bb)]?.['flowConfig'][_0x572d68(0x4ef)]['trim']()){this[_0x572d68(0x263)][_0x572d68(0x69d)](this[_0x572d68(0x24d)]+'\x20('+this['instance'][_0x572d68(0x193)]+_0x572d68(0x72b)+_0x296b8c);let _0x810282=Date[_0x572d68(0x1a6)]();this[_0x572d68(0x6bb)]?.['flowConfig'][_0x572d68(0x659)]===0x0?_0x2dbfe6={..._0x2dbfe6,'leadInfo.desativadoFluxoAte':_0x810282+0x7591f6200}:_0x2dbfe6={..._0x2dbfe6,'leadInfo.desativadoFluxoAte':_0x810282+this[_0x572d68(0x6bb)]?.[_0x572d68(0x486)]['stopMinutes']*0x3c*0x3e8};}if(_0x478123=await this[_0x572d68(0x252)][_0x572d68(0x629)][_0x572d68(0x5f5)]({'where':{'_id':_0x3a5352}},_0x2dbfe6,this[_0x572d68(0x79f)][_0x572d68(0x193)],{'new':!0x0,'upsert':!0x0}),_0x478123)F(this[_0x572d68(0x24d)],'chats',{'chat':_0x478123});else{this[_0x572d68(0x263)]['error'](this[_0x572d68(0x24d)]+'\x20('+this['instance'][_0x572d68(0x193)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x513c71)return this['logger']['verbose'](this[_0x572d68(0x24d)]+'\x20('+this['instance'][_0x572d68(0x193)]+_0x572d68(0x6ed)),null;if(!this[_0x572d68(0x6bb)]?.[_0x572d68(0x486)][_0x572d68(0x32e)])return this[_0x572d68(0x263)]['verbose'](this[_0x572d68(0x24d)]+'\x20('+this['instance'][_0x572d68(0x193)]+_0x572d68(0x3ee)),null;if(_0x478123[_0x572d68(0x3fa)]['includes'](_0x572d68(0x334))&&this['AutomateSystem']?.[_0x572d68(0x486)][_0x572d68(0x7d1)]===!0x0)return this[_0x572d68(0x263)][_0x572d68(0x69d)](this[_0x572d68(0x24d)]+'\x20('+this['instance'][_0x572d68(0x193)]+_0x572d68(0x7af)),null;if(_0x478123[_0x572d68(0x6f8)]){if(_0x478123[_0x572d68(0x6f8)][_0x572d68(0x8aa)]===0x0||_0x478123[_0x572d68(0x6f8)]['atendimentoAberto'])return this[_0x572d68(0x263)]['verbose'](this[_0x572d68(0x24d)]+'\x20('+this[_0x572d68(0x79f)][_0x572d68(0x193)]+_0x572d68(0x231)+_0x3a5352+_0x572d68(0x823)),null;if(_0x478123[_0x572d68(0x6f8)][_0x572d68(0x8aa)]>Date[_0x572d68(0x1a6)]()&&!_0x223db6[_0x572d68(0x46a)]?.[_0x572d68(0x45b)])return this[_0x572d68(0x263)][_0x572d68(0x69d)](this[_0x572d68(0x24d)]+'\x20('+this[_0x572d68(0x79f)][_0x572d68(0x193)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x478123[_0x572d68(0x6f8)]['desativadoFluxoAte'])[_0x572d68(0x56e)]()+_0x572d68(0x823)),null;}this[_0x572d68(0x263)][_0x572d68(0x69d)](this[_0x572d68(0x24d)]+'\x20('+this[_0x572d68(0x79f)][_0x572d68(0x193)]+_0x572d68(0x39d)),this[_0x572d68(0x38e)](_0x223db6,_0x331163);}catch(_0x57f053){let _0x282480=_0x572d68(0x39a),_0x32f92c=_0x57f053 instanceof Error?_0x57f053[_0x572d68(0x555)]:typeof _0x57f053==_0x572d68(0x408)?JSON['stringify'](_0x57f053):_0x57f053,_0x4b5d59=_0x282480+':\x20'+_0x32f92c;return this[_0x572d68(0x263)]['error'](this[_0x572d68(0x24d)]+'\x20('+this[_0x572d68(0x79f)][_0x572d68(0x193)]+_0x572d68(0x60e)+_0x4b5d59),null;}}async[a0_0x26c870(0x754)](_0x6eaa13,_0x41a69e){const _0x2e4fcf=a0_0x26c870;if(_0x41a69e[_0x2e4fcf(0x3b5)]){let _0xc965b9=_0x6eaa13[_0x2e4fcf(0x27c)](async _0x4abb97=>{const _0x47b2a1=_0x2e4fcf;try{let _0x56707b={'_id':_0x4abb97['_id'],'owner':_0x4abb97[_0x47b2a1(0x676)],'lastcache':0x0};if(Object[_0x47b2a1(0x2ef)](_0x4abb97)['forEach'](_0x7ec37b=>{_0x4abb97[_0x7ec37b]!==null&&(_0x56707b[_0x7ec37b]=_0x4abb97[_0x7ec37b]);}),_0x56707b[_0x47b2a1(0x5e6)]===null&&(_0x56707b[_0x47b2a1(0x5e6)]=_0x47b2a1(0x2c0)),Object[_0x47b2a1(0x2ef)](_0x56707b)[_0x47b2a1(0x2df)]>0x0)return await this[_0x47b2a1(0x252)]['chat'][_0x47b2a1(0x5f5)]({'where':{'_id':_0x4abb97[_0x47b2a1(0x3fa)]}},_0x56707b,this[_0x47b2a1(0x79f)][_0x47b2a1(0x193)]);}catch(_0x477293){let _0x10b62f=_0x47b2a1(0x3f3)+_0x4abb97['_id'],_0x3b8638=_0x477293 instanceof Error?_0x477293['message']:typeof _0x477293==_0x47b2a1(0x408)?JSON[_0x47b2a1(0x2c2)](_0x477293):_0x477293,_0x55f96d=_0x10b62f+':\x20'+_0x3b8638;return this[_0x47b2a1(0x263)][_0x47b2a1(0x7ba)](this[_0x47b2a1(0x24d)]+'\x20('+this[_0x47b2a1(0x79f)][_0x47b2a1(0x193)]+_0x47b2a1(0x60e)+_0x55f96d),null;}}),_0x11de69=(await Promise[_0x2e4fcf(0x552)](_0xc965b9))[_0x2e4fcf(0x2b4)](_0x39bd68=>_0x39bd68!==null)[_0x2e4fcf(0x2df)];this[_0x2e4fcf(0x263)][_0x2e4fcf(0x69d)](this[_0x2e4fcf(0x24d)]+'\x20('+this[_0x2e4fcf(0x79f)][_0x2e4fcf(0x193)]+_0x2e4fcf(0x60e)+_0x11de69+_0x2e4fcf(0x807)+this[_0x2e4fcf(0x79f)]['wuid']+_0x2e4fcf(0x806));}}async['readMessageBot'](_0x5982d6){const _0xd4eacc=a0_0x26c870;this[_0xd4eacc(0x263)]['verbose'](this[_0xd4eacc(0x24d)]+'\x20('+this[_0xd4eacc(0x79f)][_0xd4eacc(0x193)]+'):\x20Ler\x20mensagem');let _0x41179c={'readMessages':[{'remoteJid':_0x5982d6['chatLog'][_0xd4eacc(0x74a)][_0xd4eacc(0x8f1)][_0xd4eacc(0x489)],'fromMe':_0x5982d6[_0xd4eacc(0x7e0)][_0xd4eacc(0x74a)][_0xd4eacc(0x8f1)][_0xd4eacc(0x549)],'id':_0x5982d6['chatLog'][_0xd4eacc(0x74a)][_0xd4eacc(0x8f1)]['id']}]};await this[_0xd4eacc(0x30c)](_0x41179c);}async['StartBot'](_0x1e5e40,_0x25dc34){const _0x523ce9=a0_0x26c870;try{let {key:_0x54c28f,message_normalized:_0x22010c}=_0x1e5e40,_0x3e8070=_0x22010c,_0x5db765=_0x22010c[_0x523ce9(0x529)]||_0x22010c[_0x523ce9(0x741)]||_0x22010c['vote']||_0x22010c['name']||'',_0x10fd8b=_0x54c28f['remoteJid'],_0x3ccebf=null,_0x10e132=this[_0x523ce9(0x6bb)][_0x523ce9(0x257)][_0x523ce9(0x82c)](_0x34af5c=>_0x34af5c[_0x523ce9(0x52a)]&&_0x5db765[_0x523ce9(0x7bc)](_0x34af5c['startCommand']));if(_0x10e132&&_0x25dc34==='MESSAGES_UPSERT'){let _0x48eb9a=await this[_0x523ce9(0x252)][_0x523ce9(0x654)][_0x523ce9(0x74c)]({'where':{'_id':_0x10e132[_0x523ce9(0x3fa)]}});if(this[_0x523ce9(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x523ce9(0x79f)][_0x523ce9(0x193)]+_0x523ce9(0x764)),_0x48eb9a&&_0x48eb9a[_0x523ce9(0x1d5)]?.['includes'](this[_0x523ce9(0x79f)][_0x523ce9(0x193)]))_0x3ccebf=await this[_0x523ce9(0x2f6)](_0x48eb9a,_0x54c28f,_0x3e8070);else return this[_0x523ce9(0x263)][_0x523ce9(0x69d)](this[_0x523ce9(0x24d)]+'\x20('+this[_0x523ce9(0x79f)]['wuid']+_0x523ce9(0x6ec)),null;}else this['logger'][_0x523ce9(0x69d)](this['instanceName']+'\x20('+this[_0x523ce9(0x79f)][_0x523ce9(0x193)]+_0x523ce9(0x898));if(_0x3ccebf=await this[_0x523ce9(0x631)](_0x10fd8b,_0x3e8070),_0x3ccebf){this[_0x523ce9(0x263)][_0x523ce9(0x69d)](this[_0x523ce9(0x24d)]+'\x20('+this['instance'][_0x523ce9(0x193)]+_0x523ce9(0x6e8)),!_0x54c28f[_0x523ce9(0x549)]&&_0x3ccebf[_0x523ce9(0x402)]&&this[_0x523ce9(0x509)](_0x3ccebf);let _0x2eefda=await this['NextBlock'](_0x3ccebf);_0x2eefda&&await this[_0x523ce9(0x294)](_0x3ccebf,_0x2eefda);}}catch(_0x1079c0){this[_0x523ce9(0x263)]['error'](this[_0x523ce9(0x24d)]+'\x20('+this['instance'][_0x523ce9(0x193)]+_0x523ce9(0x1b2)+(_0x1079c0 instanceof Error?_0x1079c0[_0x523ce9(0x555)]:JSON[_0x523ce9(0x2c2)](_0x1079c0,null,0x2)));}}['flattenObject'](_0x445c90,_0x5d46ef='',_0x1dfddd={}){const _0x424e52=a0_0x26c870;return typeof _0x445c90!=_0x424e52(0x408)||_0x445c90===null?(_0x5d46ef&&(_0x1dfddd[_0x5d46ef]=_0x445c90),_0x1dfddd):(Object[_0x424e52(0x444)](_0x445c90)[_0x424e52(0x526)](([_0x346df3,_0x143eb9])=>{const _0x40167d=_0x424e52;let _0x42a564=_0x5d46ef?_0x5d46ef+'.'+_0x346df3:'_'+_0x346df3;Array[_0x40167d(0x67a)](_0x143eb9)?_0x143eb9[_0x40167d(0x526)]((_0x39fe10,_0x3a38dd)=>{this['flattenObject'](_0x39fe10,_0x42a564+'['+_0x3a38dd+']',_0x1dfddd);}):typeof _0x143eb9==_0x40167d(0x408)&&_0x143eb9!==null?this[_0x40167d(0x467)](_0x143eb9,_0x42a564,_0x1dfddd):_0x1dfddd[_0x42a564]=String(_0x143eb9);}),_0x1dfddd);}[a0_0x26c870(0x73f)](_0x28fc40){const _0x3078f8=a0_0x26c870;let _0x353302={};for(let _0x2bee52 of _0x28fc40)typeof _0x2bee52['name']==_0x3078f8(0x446)&&typeof _0x2bee52[_0x3078f8(0x2d3)]=='string'&&(_0x353302[_0x2bee52['name']]=_0x2bee52[_0x3078f8(0x2d3)]);return _0x353302;}async['NextBlock'](_0x48fc8d){const _0x406c9d=a0_0x26c870;if(!this[_0x406c9d(0x6bb)]?.[_0x406c9d(0x486)][_0x406c9d(0x32e)]||_0x48fc8d['status']!==_0x406c9d(0x940)&&_0x48fc8d[_0x406c9d(0x1b5)]==='')return null;let _0x5609e6=_0x48fc8d[_0x406c9d(0x7e0)]['lastBlockId']||'start';typeof _0x48fc8d['chatLog'][_0x406c9d(0x8e3)]>'u'&&(_0x48fc8d['chatLog'][_0x406c9d(0x8e3)]=!0x0);let _0x55c781=_0x48fc8d[_0x406c9d(0x7e0)][_0x406c9d(0x8e3)];this[_0x406c9d(0x263)]['verbose'](this[_0x406c9d(0x24d)]+'\x20('+this[_0x406c9d(0x79f)][_0x406c9d(0x193)]+'):\x20lastBlockId:\x20'+_0x5609e6+_0x406c9d(0x6f2)+_0x55c781);let _0x4a5b7d=_0x5609e6==='start'?_0x48fc8d[_0x406c9d(0x44c)]['find'](_0x31fdcc=>_0x31fdcc[_0x406c9d(0x760)]===_0x406c9d(0x8c4)):_0x48fc8d[_0x406c9d(0x44c)][_0x406c9d(0x82c)](_0x5cbbb0=>_0x5cbbb0[_0x406c9d(0x3fa)][_0x406c9d(0x58a)]()===_0x5609e6[_0x406c9d(0x58a)]());if(!_0x4a5b7d)return this[_0x406c9d(0x263)][_0x406c9d(0x7ba)](this[_0x406c9d(0x24d)]+'\x20('+this[_0x406c9d(0x79f)][_0x406c9d(0x193)]+_0x406c9d(0x5d8)+_0x5609e6),null;let _0x2d7d48={'_pushName':_0x48fc8d?.[_0x406c9d(0x7e0)]?.[_0x406c9d(0x74a)]?.['pushName']||'','_sender':this[_0x406c9d(0x79f)]['wuid']||'',..._0x48fc8d['chatLog'][_0x406c9d(0x795)]},_0x18c335=new Date();_0x2d7d48['_day']=_0x18c335[_0x406c9d(0x7ef)](),_0x2d7d48[_0x406c9d(0x26c)]=_0x18c335[_0x406c9d(0x5a8)]()+0x1,_0x2d7d48[_0x406c9d(0x698)]=_0x18c335[_0x406c9d(0x1c5)](),_0x2d7d48[_0x406c9d(0x94e)]=_0x18c335[_0x406c9d(0x73d)](),_0x2d7d48[_0x406c9d(0x58d)]=_0x18c335[_0x406c9d(0x4e8)](),_0x2d7d48[_0x406c9d(0x35b)]=_0x18c335[_0x406c9d(0x399)]();let _0x1889f1=null;if(_0x48fc8d['waitingMenu_id']){let _0x432d90=_0x48fc8d[_0x406c9d(0x7e0)]['lastReceivedMessage'][_0x406c9d(0x45b)],_0x153299=_0x48fc8d[_0x406c9d(0x2b1)][_0x406c9d(0x82c)](_0x56e70f=>_0x56e70f['option']===_0x432d90);if(_0x153299){let _0x26bd17=_0x153299[_0x406c9d(0x30a)];if(_0x1889f1=_0x48fc8d[_0x406c9d(0x44c)][_0x406c9d(0x82c)](_0x6ae7f4=>_0x6ae7f4['groupId']===_0x26bd17&&_0x6ae7f4[_0x406c9d(0x5f8)]===0x1),_0x4a5b7d['uazapi']['pollOnReplyDelete']){let _0x2879ab={'id':_0x48fc8d[_0x406c9d(0x1b5)],'remoteJid':_0x48fc8d[_0x406c9d(0x489)],'fromMe':!0x0};await this[_0x406c9d(0x5e3)](_0x2879ab);}if(_0x4a5b7d[_0x406c9d(0x88e)][_0x406c9d(0x6f7)]&&_0x4a5b7d[_0x406c9d(0x88e)][_0x406c9d(0x455)]&&_0x4a5b7d[_0x406c9d(0x88e)][_0x406c9d(0x6de)]===_0x406c9d(0x470)){let _0x32d7a5={'number':_0x48fc8d[_0x406c9d(0x489)],'options':{'delay':0x0},'textMessage':{'text':_0x406c9d(0x3df)+_0x48fc8d[_0x406c9d(0x5c1)]+'\x0a*Você\x20respondeu*:\x0a'+_0x432d90}};await this[_0x406c9d(0x6e1)](_0x32d7a5);}_0x2d7d48[_0x406c9d(0x4d2)]=_0x432d90,_0x48fc8d['status']='open',_0x48fc8d['waitingMenu_id']='',_0x48fc8d[_0x406c9d(0x5c1)]='',_0x48fc8d[_0x406c9d(0x2b1)]=[];}else{this['logger'][_0x406c9d(0x69d)](this[_0x406c9d(0x24d)]+'\x20('+this[_0x406c9d(0x79f)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x573ebc={'activatedCount':_0x48fc8d[_0x406c9d(0x7e0)][_0x406c9d(0x341)][_0x406c9d(0x2b4)](_0x2cbcbf=>String(_0x2cbcbf[_0x406c9d(0x6f9)])===String(_0x5609e6))[_0x406c9d(0x2df)],'moreLogs':[_0x406c9d(0x23d)]};if(_0x4a5b7d['uazapi']['pollErrorMessage']){let _0x2f4619={'number':_0x48fc8d[_0x406c9d(0x489)],'options':{'delay':0x0},'textMessage':{'text':_0x4a5b7d['uazapi'][_0x406c9d(0x8c6)]}};await this['textMessage'](_0x2f4619);}if(_0x4a5b7d[_0x406c9d(0x5a6)]!==void 0x0&&_0x573ebc['activatedCount']>=_0x4a5b7d[_0x406c9d(0x5a6)]){let _0x274703=Date[_0x406c9d(0x1a6)](),_0x503c2c=_0x4a5b7d[_0x406c9d(0x7d9)]??0xa;isNaN(_0x503c2c)&&(_0x503c2c=0xa);let _0x51446d=_0x274703+_0x503c2c*0x3c*0x3e8;_0x573ebc['newStoppedUntil']=_0x51446d,_0x573ebc['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x48fc8d,_0x51446d),_0x48fc8d['waitingMenu_id']='',_0x48fc8d['waitingMenu_text']='',_0x48fc8d['waitingMenu_replyOptions']=[];}return this[_0x406c9d(0x840)](_0x48fc8d,_0x4a5b7d,_0x573ebc,!0x0),null;}}if(_0x55c781&&_0x4a5b7d['next_groupId']&&!_0x48fc8d['waitingMenu_id']){let _0x236946=_0x48fc8d[_0x406c9d(0x44c)]['filter'](_0x2c79e3=>_0x2c79e3[_0x406c9d(0x355)]['toString']()===_0x4a5b7d['next_groupId'][_0x406c9d(0x58a)]())[_0x406c9d(0x4be)]((_0x50e4d2,_0x209870)=>_0x50e4d2['order']-_0x209870[_0x406c9d(0x5f8)]);_0x236946[_0x406c9d(0x2df)]>0x0&&(_0x1889f1=_0x236946[0x0]);}if(!_0x1889f1){let _0x58c998=_0x4a5b7d[_0x406c9d(0x355)],_0x34f5f7=_0x48fc8d[_0x406c9d(0x44c)]['filter'](_0xe5b124=>_0xe5b124['groupId']===_0x58c998&&_0xe5b124[_0x406c9d(0x5f8)]>_0x4a5b7d[_0x406c9d(0x5f8)])[_0x406c9d(0x4be)]((_0x4b571b,_0x5e1e2b)=>_0x4b571b[_0x406c9d(0x5f8)]-_0x5e1e2b[_0x406c9d(0x5f8)]);_0x34f5f7[_0x406c9d(0x2df)]>0x0&&(_0x1889f1=_0x34f5f7[0x0]);}if(!_0x1889f1)return _0x48fc8d[_0x406c9d(0x284)]=_0x406c9d(0x7c1),null;_0x48fc8d[_0x406c9d(0x7e0)][_0x406c9d(0x795)]=_0x2d7d48;let _0x578bf5=JSON['parse'](JSON[_0x406c9d(0x2c2)](_0x1889f1));return this[_0x406c9d(0x448)](_0x578bf5,_0x48fc8d['chatLog']['realVariables']),_0x48fc8d[_0x406c9d(0x7e0)][_0x406c9d(0x5b1)]=_0x578bf5[_0x406c9d(0x3fa)],_0x48fc8d['chatLog'][_0x406c9d(0x8e3)]=!0x0,_0x578bf5;}[a0_0x26c870(0x5cd)](_0x2dde0d,_0x3a39f7){const _0x119e18=a0_0x26c870;return _0x2dde0d[_0x119e18(0x821)](/\{\{([^}]+)\}\}/g,(_0x23dfee,_0x349b32)=>_0x3a39f7[_0x349b32]||'');}[a0_0x26c870(0x448)](_0x4eb705,_0x2dd20b){const _0xc499ee=a0_0x26c870;for(let _0x3ab8f2 in _0x4eb705)typeof _0x4eb705[_0x3ab8f2]=='string'?_0x4eb705[_0x3ab8f2]=this[_0xc499ee(0x5cd)](_0x4eb705[_0x3ab8f2],_0x2dd20b):typeof _0x4eb705[_0x3ab8f2]==_0xc499ee(0x408)&&this[_0xc499ee(0x448)](_0x4eb705[_0x3ab8f2],_0x2dd20b);}async['goNextblock'](_0x2c6ffa,_0x3f2ea7){const _0x3f3ff9=a0_0x26c870;let _0x198a06=_0x3f2ea7['_id'];if(_0x2c6ffa[_0x3f3ff9(0x7e0)]&&_0x2c6ffa[_0x3f3ff9(0x7e0)][_0x3f3ff9(0x341)]){let _0x2bb87b=_0x2c6ffa['chatLog'][_0x3f3ff9(0x341)][_0x3f3ff9(0x2b4)](_0x1f49d9=>String(_0x1f49d9['blockId'])===String(_0x198a06))[_0x3f3ff9(0x54f)]();if(_0x2bb87b&&_0x2bb87b[_0x3f3ff9(0x7ba)]&&_0x3f2ea7[_0x3f3ff9(0x745)])return _0x2c6ffa[_0x3f3ff9(0x284)]=_0x3f3ff9(0x7c1),await this['saveConversationToDatabase'](_0x2c6ffa),null;}if(_0x3f2ea7[_0x3f3ff9(0x760)]===_0x3f3ff9(0x88e)&&_0x3f2ea7['uazapi'][_0x3f3ff9(0x87b)]===_0x3f3ff9(0x212)&&_0x2c6ffa[_0x3f3ff9(0x1b5)])return _0x2c6ffa[_0x3f3ff9(0x7e0)][_0x3f3ff9(0x5b1)]=_0x198a06,await this[_0x3f3ff9(0x3da)](_0x2c6ffa),null;let _0x4f5526=await this[_0x3f3ff9(0x381)](_0x2c6ffa);if(_0x2c6ffa[_0x3f3ff9(0x7e0)]&&_0x2c6ffa[_0x3f3ff9(0x7e0)][_0x3f3ff9(0x341)]){let _0x184209=_0x2c6ffa[_0x3f3ff9(0x7e0)][_0x3f3ff9(0x341)]['filter'](_0xa2aec5=>String(_0xa2aec5['blockId'])===String(_0x198a06))['length'];if(_0x3f2ea7[_0x3f3ff9(0x5a6)]!==void 0x0&&_0x184209>=_0x3f2ea7[_0x3f3ff9(0x5a6)]){let _0x5161df=Date[_0x3f3ff9(0x1a6)](),_0x553b07=_0x3f2ea7[_0x3f3ff9(0x7d9)]??0xa;isNaN(_0x553b07)&&(_0x553b07=0xa);let _0xbd2102=_0x5161df+_0x553b07*0x3c*0x3e8,_0x2d2b2c={'newStoppedUntil':_0xbd2102};return this[_0x3f3ff9(0x236)](_0x2c6ffa,_0xbd2102),this['updateConversation'](_0x2c6ffa,_0x3f2ea7,_0x2d2b2c,!0x0),null;}}_0x4f5526&&_0x4f5526['type']!==_0x3f3ff9(0x380)&&await this[_0x3f3ff9(0x294)](_0x2c6ffa,_0x4f5526),_0x4f5526||await this[_0x3f3ff9(0x3da)](_0x2c6ffa),_0x4f5526&&_0x4f5526['type']==='save'&&(_0x2c6ffa[_0x3f3ff9(0x7e0)]['lastBlockId']=_0x198a06,await this['saveConversationToDatabase'](_0x2c6ffa));}async[a0_0x26c870(0x294)](_0x3f9816,_0x415a56){const _0x5e3c9c=a0_0x26c870;try{let _0x4db016=_0x415a56['type'];this[_0x5e3c9c(0x263)]['verbose'](this[_0x5e3c9c(0x24d)]+'\x20('+this['instance'][_0x5e3c9c(0x193)]+'):\x20Going\x20to\x20'+_0x4db016);let _0x104065={'uazapi':()=>this[_0x5e3c9c(0x1ef)](_0x3f9816,_0x415a56),'save':()=>this[_0x5e3c9c(0x396)](_0x3f9816,_0x415a56),'stop':()=>this['stopConversation'](_0x3f9816,_0x415a56),'condition':()=>this['processConditions'](_0x3f9816,_0x415a56),'varedit':()=>this[_0x5e3c9c(0x5af)](_0x3f9816,_0x415a56),'apirequest':()=>this['processApiRequest'](_0x3f9816,_0x415a56),'goToFlow':()=>this['processgoToFlow'](_0x3f9816,_0x415a56),'scheduleFlow':()=>this[_0x5e3c9c(0x4d3)](_0x3f9816,_0x415a56),'awaitSeconds':()=>this[_0x5e3c9c(0x71b)](_0x3f9816,_0x415a56),'clearVariables':()=>this[_0x5e3c9c(0x1d1)](_0x3f9816,_0x415a56)}[_0x4db016];_0x104065&&await _0x104065();}catch(_0x27ed9e){this[_0x5e3c9c(0x263)]['error'](this['instanceName']+'\x20('+this[_0x5e3c9c(0x79f)]['wuid']+_0x5e3c9c(0x468)+(_0x27ed9e instanceof Error?_0x27ed9e['message']:JSON[_0x5e3c9c(0x2c2)](_0x27ed9e,null,0x2)));}}async['processawaitSeconds'](_0x821f7b,_0x3870d0){const _0x540336=a0_0x26c870;if(this['logger'][_0x540336(0x69d)](this[_0x540336(0x24d)]+'\x20('+this[_0x540336(0x79f)][_0x540336(0x193)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x821f7b||!_0x3870d0)return this['logger'][_0x540336(0x7ba)](this['instanceName']+'\x20('+this[_0x540336(0x79f)][_0x540336(0x193)]+_0x540336(0x28d)),null;let _0x1e4eab=+_0x3870d0[_0x540336(0x81e)];isNaN(_0x1e4eab)&&(_0x1e4eab=0x0),_0x1e4eab=Math[_0x540336(0x45f)](_0x1e4eab,0x3c),await(0x0,w['delay'])(_0x1e4eab*0x3e8);let _0x3246c6={'moreLogs':[_0x540336(0x3ac)+_0x1e4eab+_0x540336(0x3de)]};return await this[_0x540336(0x840)](_0x821f7b,_0x3870d0,_0x3246c6),_0x1e4eab;}async[a0_0x26c870(0x1d1)](_0x3127bb,_0x3b2590){const _0x5e4ea1=a0_0x26c870;if(this[_0x5e4ea1(0x263)][_0x5e4ea1(0x69d)](this[_0x5e4ea1(0x24d)]+'\x20('+this['instance'][_0x5e4ea1(0x193)]+_0x5e4ea1(0x82a)),!_0x3127bb||!_0x3b2590)return this['logger'][_0x5e4ea1(0x7ba)](this[_0x5e4ea1(0x24d)]+'\x20('+this[_0x5e4ea1(0x79f)][_0x5e4ea1(0x193)]+_0x5e4ea1(0x28d)),null;let _0x501102=[];if(_0x3b2590[_0x5e4ea1(0x883)]['trim']()===_0x5e4ea1(0x6fa)){let _0x2afb11=[_0x5e4ea1(0x41b),'_pushName',_0x5e4ea1(0x186),_0x5e4ea1(0x948),_0x5e4ea1(0x54e),_0x5e4ea1(0x3fa),'_fromMe'];_0x501102=Object[_0x5e4ea1(0x2ef)](_0x3127bb[_0x5e4ea1(0x7e0)][_0x5e4ea1(0x795)])['filter'](_0x50bae3=>_0x50bae3[_0x5e4ea1(0x6a1)]('_')&&!_0x2afb11[_0x5e4ea1(0x7bc)](_0x50bae3));}else _0x501102=_0x3b2590[_0x5e4ea1(0x883)]['split']('|')[_0x5e4ea1(0x27c)](_0x1f5c38=>(_0x1f5c38=_0x1f5c38[_0x5e4ea1(0x821)](/[{}]/g,'')[_0x5e4ea1(0x3a7)](),_0x1f5c38['startsWith']('_')?_0x1f5c38:'_'+_0x1f5c38));let _0x1dfb95=[];_0x501102[_0x5e4ea1(0x526)](_0x2e83f7=>{const _0x22a48b=_0x5e4ea1;_0x2e83f7 in _0x3127bb[_0x22a48b(0x7e0)][_0x22a48b(0x795)]&&(delete _0x3127bb['chatLog'][_0x22a48b(0x795)][_0x2e83f7],_0x1dfb95[_0x22a48b(0x48e)](_0x2e83f7));}),_0x1dfb95[_0x5e4ea1(0x2df)]>0x0?this[_0x5e4ea1(0x263)][_0x5e4ea1(0x69d)](this[_0x5e4ea1(0x24d)]+'\x20('+this['instance'][_0x5e4ea1(0x193)]+_0x5e4ea1(0x3b0)+_0x1dfb95['join'](',\x20')):this[_0x5e4ea1(0x263)][_0x5e4ea1(0x69d)](this[_0x5e4ea1(0x24d)]+'\x20('+this[_0x5e4ea1(0x79f)]['wuid']+_0x5e4ea1(0x49b));let _0xe21c6b={'moreLogs':[_0x5e4ea1(0x600)+_0x1dfb95['join'](',\x20')]};return await this[_0x5e4ea1(0x840)](_0x3127bb,_0x3b2590,_0xe21c6b),null;}async[a0_0x26c870(0x4d3)](_0xe99a31,_0x30c045){const _0x51f537=a0_0x26c870;if(this['logger'][_0x51f537(0x69d)](this[_0x51f537(0x24d)]+'\x20('+this[_0x51f537(0x79f)]['wuid']+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0xe99a31||!_0x30c045)return this[_0x51f537(0x263)][_0x51f537(0x7ba)](this[_0x51f537(0x24d)]+'\x20('+this[_0x51f537(0x79f)][_0x51f537(0x193)]+_0x51f537(0x28d)),null;let _0x19e9b7=_0xe99a31[_0x51f537(0x489)];_0x30c045[_0x51f537(0x578)][_0x51f537(0x489)]&&_0x30c045['scheduleFlow'][_0x51f537(0x489)][_0x51f537(0x3a7)]()!==''&&(_0x19e9b7=_0x30c045[_0x51f537(0x88e)][_0x51f537(0x489)]['trim']());let _0x11cb4b=_0x30c045[_0x51f537(0x578)][_0x51f537(0x2a3)]*0xea60,_0x3b7fac=Date[_0x51f537(0x1a6)]()+_0x11cb4b,_0x3ea4c5={'status':_0x51f537(0x307),'info':_0x51f537(0x4aa)+_0xe99a31['name'],'remoteJids':[_0x19e9b7],'when':_0x3b7fac,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x51f537(0x654),'flowName':_0x30c045[_0x51f537(0x578)][_0x51f537(0x5f2)]};this['editScheduleMessage'](_0x3ea4c5);let _0x1faee5=await this['NextBlock'](_0xe99a31);_0x1faee5&&await this[_0x51f537(0x294)](_0xe99a31,_0x1faee5);}async[a0_0x26c870(0x7ea)](_0x15fa24,_0x3a0f20){const _0x4bb514=a0_0x26c870;if(this['logger'][_0x4bb514(0x69d)](this['instanceName']+'\x20('+this[_0x4bb514(0x79f)][_0x4bb514(0x193)]+_0x4bb514(0x1ff)),!_0x15fa24||!_0x3a0f20)return this[_0x4bb514(0x263)][_0x4bb514(0x7ba)](this[_0x4bb514(0x24d)]+'\x20('+this[_0x4bb514(0x79f)][_0x4bb514(0x193)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x4bb514(0x840)](_0x15fa24,_0x3a0f20,{},!0x0,!0x0);let _0x5bea3c=_0x3a0f20['goToFlow'];_0x15fa24=await this['createConversationforgoToFlow'](_0x5bea3c,_0x15fa24[_0x4bb514(0x489)],_0x15fa24[_0x4bb514(0x7e0)][_0x4bb514(0x795)]);let _0x52278e=await this[_0x4bb514(0x381)](_0x15fa24);_0x52278e&&await this[_0x4bb514(0x294)](_0x15fa24,_0x52278e);}async[a0_0x26c870(0x786)](_0x2be471,_0x23beb0,_0x5d08f6){const _0x13b056=a0_0x26c870;this[_0x13b056(0x263)][_0x13b056(0x69d)](this[_0x13b056(0x24d)]+'\x20('+this['instance'][_0x13b056(0x193)]+_0x13b056(0x218));try{let _0x6de29d=this[_0x13b056(0x6bb)][_0x13b056(0x257)]['find'](_0x4f90ee=>_0x4f90ee[_0x13b056(0x3fa)]===_0x2be471);_0x6de29d||this[_0x13b056(0x263)][_0x13b056(0x7ba)](this['instanceName']+'\x20('+this[_0x13b056(0x79f)][_0x13b056(0x193)]+_0x13b056(0x736)+_0x2be471+_0x13b056(0x37e));let _0x220631=await this[_0x13b056(0x252)][_0x13b056(0x654)][_0x13b056(0x74c)]({'where':{'_id':_0x6de29d[_0x13b056(0x3fa)]}});if(!_0x220631||!_0x220631['whoCanUse']?.['includes'](this[_0x13b056(0x79f)]['wuid']))throw this['logger']['error'](this[_0x13b056(0x24d)]+'\x20('+this['instance'][_0x13b056(0x193)]+_0x13b056(0x736)+_0x2be471+_0x13b056(0x57c)),new m(_0x13b056(0x5a2)+_0x2be471+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x15b22c=require(_0x13b056(0x6ab))['ObjectId'],_0x3597b7=Date[_0x13b056(0x1a6)](),_0x585e02=_0x13b056(0x8c4),_0x28c4cb={},_0x33e9a9={},_0x214fd9=this['AutomateSystem'][_0x13b056(0x257)][_0x13b056(0x82c)](_0x2be21b=>_0x2be21b['_id']===_0x220631[_0x13b056(0x3fa)]?.['toString']()),_0x37760d=_0x214fd9?.[_0x13b056(0x1a4)]??_0x220631[_0x13b056(0x1a4)]??0x0,_0x2452e8=_0x214fd9?.['readMessages']??_0x220631['readMessages']??!0x1,_0xc41189={'flowId':_0x6de29d[_0x13b056(0x3fa)],'readMessages':_0x6de29d[_0x13b056(0x402)],..._0x220631,'chatLog':null},_0x26ea8d={'lastReceivedMessage':_0x28c4cb,'lastSendMessage':_0x33e9a9,'lastBlockId':_0x585e02,'lastCondition':!0x0,'realVariables':_0x5d08f6};_0xc41189['chatLog']=_0x26ea8d,_0xc41189[_0x13b056(0x7e0)][_0x13b056(0x795)]={..._0x5d08f6},delete _0xc41189[_0x13b056(0x3fa)],_0xc41189[_0x13b056(0x3fa)]=new _0x15b22c(),_0xc41189[_0x13b056(0x324)]=_0x3597b7,_0xc41189[_0x13b056(0x284)]=_0x13b056(0x940),_0xc41189[_0x13b056(0x489)]=_0x23beb0,_0xc41189[_0x13b056(0x1a4)]=_0x37760d,_0xc41189[_0x13b056(0x402)]=_0x2452e8;let _0x31bf07=await this[_0x13b056(0x252)][_0x13b056(0x49f)][_0x13b056(0x5f5)](_0xc41189[_0x13b056(0x3fa)],_0xc41189,this[_0x13b056(0x79f)][_0x13b056(0x193)]);return this[_0x13b056(0x263)][_0x13b056(0x69d)](this['instanceName']+'\x20('+this[_0x13b056(0x79f)][_0x13b056(0x193)]+_0x13b056(0x466)),_0x31bf07?_0xc41189:null;}catch(_0xc6d088){let _0x1e4c91=_0x13b056(0x8f0),_0x291cff=_0xc6d088 instanceof Error?_0xc6d088['message']:typeof _0xc6d088=='object'?JSON['stringify'](_0xc6d088):_0xc6d088,_0x55ba00=_0x1e4c91+':\x20'+_0x291cff;throw this[_0x13b056(0x263)]['error'](this['instanceName']+'\x20('+this[_0x13b056(0x79f)][_0x13b056(0x193)]+'):\x20'+_0x55ba00),new m(_0x55ba00);}}async[a0_0x26c870(0x2c5)](_0x36ef60,_0x308a78){const _0x4bca8a=a0_0x26c870;let _0x549ae0,_0x12b21c;try{let _0x5c9c23=_0x308a78[_0x4bca8a(0x351)];if(!_0x5c9c23||!_0x5c9c23[_0x4bca8a(0x869)]||!_0x5c9c23[_0x4bca8a(0x794)])throw new Error(_0x4bca8a(0x5d7));let _0x14e257;([_0x4bca8a(0x3fd),_0x4bca8a(0x4bb),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x4bca8a(0x441)](_0x578e55=>_0x5c9c23[_0x4bca8a(0x869)][_0x4bca8a(0x7bc)](_0x578e55))||_0x5c9c23[_0x4bca8a(0x8d2)])&&(_0x14e257='arraybuffer');let _0x55f6ba='\u205f',_0x4e20a9;try{_0x4e20a9=JSON[_0x4bca8a(0x199)](_0x5c9c23['bodyString'][_0x4bca8a(0x821)](new RegExp(_0x55f6ba,'g'),''));}catch(_0x1a47c0){throw _0x1a47c0;}let _0x57b476={'method':_0x5c9c23['method'],'url':_0x5c9c23[_0x4bca8a(0x869)],'headers':_0x5c9c23[_0x4bca8a(0x238)]||{},..._0x5c9c23[_0x4bca8a(0x794)][_0x4bca8a(0x425)]()!==_0x4bca8a(0x23c)&&_0x5c9c23['bodyString']?{'data':JSON[_0x4bca8a(0x199)](_0x5c9c23['bodyString'][_0x4bca8a(0x821)](new RegExp(_0x55f6ba,'g'),''))}:{},..._0x14e257&&{'responseType':_0x14e257}},_0x5e46c4=await(0x0,K[_0x4bca8a(0x595)])(_0x57b476),_0x20ab86=_0x5e46c4['headers'][_0x4bca8a(0x7c6)];if(_0x20ab86&&_0x20ab86['includes'](_0x4bca8a(0x6d7))||typeof _0x5e46c4['data']==_0x4bca8a(0x446)){if(typeof _0x5e46c4[_0x4bca8a(0x362)]==_0x4bca8a(0x446)){let _0xd5b94=_0x5e46c4[_0x4bca8a(0x362)][_0x4bca8a(0x821)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x549ae0=JSON[_0x4bca8a(0x199)](_0xd5b94);}catch(_0x41a4bd){this[_0x4bca8a(0x263)][_0x4bca8a(0x7ba)](_0x4bca8a(0x42c)+_0x41a4bd['message']),_0x549ae0={'_apiResponse':_0x5e46c4[_0x4bca8a(0x362)]};}}else _0x549ae0=_0x5e46c4['data'];let _0x16288e=_0x36ef60[_0x4bca8a(0x7e0)][_0x4bca8a(0x795)],_0x5baca1=this[_0x4bca8a(0x467)](_0x549ae0);return Object['assign'](_0x16288e,_0x5baca1),_0x36ef60[_0x4bca8a(0x7e0)][_0x4bca8a(0x795)]=_0x16288e,_0x12b21c={'error':!0x1,'apiResponse':_0x549ae0},this[_0x4bca8a(0x840)](_0x36ef60,_0x308a78,_0x12b21c),_0x549ae0;}if(_0x20ab86&&(_0x20ab86['includes']('application/octet-stream')||_0x20ab86[_0x4bca8a(0x7bc)](_0x4bca8a(0x389))||_0x20ab86[_0x4bca8a(0x7bc)](_0x4bca8a(0x7a7))||_0x20ab86[_0x4bca8a(0x7bc)](_0x4bca8a(0x361)))){this['logger'][_0x4bca8a(0x69d)](this[_0x4bca8a(0x24d)]+'\x20('+this[_0x4bca8a(0x79f)][_0x4bca8a(0x193)]+_0x4bca8a(0x4ff)+_0x20ab86);let _0x2da49c=(0x0,Q['v4'])(),_0x3ec220='',_0x1a2d9e={'image/jpeg':_0x4bca8a(0x6bd),'image/png':_0x4bca8a(0x721),'image/gif':_0x4bca8a(0x53e),'image/webp':'.webp','image/svg+xml':_0x4bca8a(0x422),'audio/mpeg':'.mp3','audio/ogg':_0x4bca8a(0x3a4),'audio/wav':'.wav','video/mp4':_0x4bca8a(0x8a2),'video/webm':_0x4bca8a(0x5dd),'video/ogg':_0x4bca8a(0x728),'text/plain':_0x4bca8a(0x702),'application/pdf':_0x4bca8a(0x413),'application/msword':_0x4bca8a(0x7c4),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4bca8a(0x47e),'application/vnd.ms-excel':_0x4bca8a(0x24c),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4bca8a(0x751),'application/vnd.ms-powerpoint':_0x4bca8a(0x83f),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4bca8a(0x31b)};_0x1a2d9e[_0x20ab86]?(_0x3ec220=_0x1a2d9e[_0x20ab86],this[_0x4bca8a(0x263)]['verbose'](this[_0x4bca8a(0x24d)]+'\x20('+this['instance']['wuid']+_0x4bca8a(0x7ca)+_0x3ec220)):(_0x3ec220=_0x4bca8a(0x718),this['logger'][_0x4bca8a(0x69d)](this[_0x4bca8a(0x24d)]+'\x20('+this[_0x4bca8a(0x79f)][_0x4bca8a(0x193)]+_0x4bca8a(0x866)+_0x3ec220)),_0x2da49c+=_0x3ec220,this[_0x4bca8a(0x263)][_0x4bca8a(0x69d)](this[_0x4bca8a(0x24d)]+'\x20('+this['instance'][_0x4bca8a(0x193)]+_0x4bca8a(0x32c)+_0x2da49c);let _0xd5566c=this['configService'][_0x4bca8a(0x2c9)]('SERVER')[_0x4bca8a(0x662)];if(!_0xd5566c){let _0x27390e=this['configService'][_0x4bca8a(0x2c9)](_0x4bca8a(0x93e));_0xd5566c='https://'+(_0x27390e&&_0x27390e[_0x4bca8a(0x224)][_0x4bca8a(0x4c5)]('/')[0x4]);}let _0x1e5de4=Buffer['from'](_0x5e46c4[_0x4bca8a(0x362)]);await this[_0x4bca8a(0x8a3)](_0x1e5de4,_0x2da49c);let _0x1f3693=_0x4bca8a(0x4ba)+_0x2da49c;_0x1f3693=''+_0xd5566c+_0x1f3693,_0x549ae0={'fileUrl':_0x1f3693},_0x36ef60[_0x4bca8a(0x7e0)][_0x4bca8a(0x795)][_0x4bca8a(0x4d1)]=_0x1f3693;let _0x288941=_0x36ef60['chatLog']['realVariables'],_0x155a62=this[_0x4bca8a(0x467)](_0x549ae0);return Object[_0x4bca8a(0x2ee)](_0x288941,_0x155a62),_0x36ef60[_0x4bca8a(0x7e0)]['realVariables']=_0x288941,_0x12b21c={'error':!0x1,'apiResponse':{'fileUrl':_0x1f3693}},this[_0x4bca8a(0x840)](_0x36ef60,_0x308a78,_0x12b21c),_0x549ae0;}}catch(_0x143305){this['logger'][_0x4bca8a(0x7ba)](_0x4bca8a(0x55e)+_0x143305[_0x4bca8a(0x555)]),_0x143305[_0x4bca8a(0x591)]&&(_0x549ae0=_0x143305[_0x4bca8a(0x591)]['data']);let _0x4efb93=_0x36ef60[_0x4bca8a(0x7e0)][_0x4bca8a(0x795)],_0x1cf5c1=this[_0x4bca8a(0x467)](_0x549ae0);return Object[_0x4bca8a(0x2ee)](_0x4efb93,_0x1cf5c1),_0x36ef60['chatLog']['realVariables']=_0x4efb93,_0x12b21c={'error':!0x0,'errorLog':_0x143305[_0x4bca8a(0x58a)](),'apiResponse':_0x549ae0},this['updateConversation'](_0x36ef60,_0x308a78,_0x12b21c),{'success':!0x1};}}[a0_0x26c870(0x40d)](_0x24b6cc,_0x11bda0){const _0x5eab28=a0_0x26c870;let _0x1a852b=_0x5042d4=>{const _0x280d23=a0_0x4486;let _0x565069=_0x5042d4[_0x280d23(0x821)](/[^0-9.,-]/g,'')[_0x280d23(0x821)](',','.'),_0x514716=parseFloat(_0x565069);return isNaN(_0x514716)?null:_0x514716;},_0x2d0eac=_0x11bda0['firstValue'],_0x3a971b=_0x11bda0['secondValue'];typeof _0x2d0eac==_0x5eab28(0x446)&&(_0x2d0eac=this['replaceVariables'](_0x2d0eac,_0x24b6cc[_0x5eab28(0x7e0)][_0x5eab28(0x795)])??''),typeof _0x3a971b==_0x5eab28(0x446)&&(_0x3a971b=this[_0x5eab28(0x5cd)](_0x3a971b,_0x24b6cc[_0x5eab28(0x7e0)][_0x5eab28(0x795)])??'');let _0x409806=null;if(!_0x11bda0[_0x5eab28(0x4b5)])return null;switch(this[_0x5eab28(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x5eab28(0x79f)][_0x5eab28(0x193)]+_0x5eab28(0x8e2)+_0x2d0eac),this[_0x5eab28(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x5eab28(0x79f)][_0x5eab28(0x193)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x3a971b),_0x11bda0[_0x5eab28(0x4b5)]){case'+':case'-':case'*':case'/':let _0x398f30=_0x1a852b(_0x2d0eac||'0'),_0x117e0d=_0x1a852b(_0x3a971b||'0');if(_0x398f30===null)return null;switch(_0x11bda0[_0x5eab28(0x4b5)]){case'+':_0x409806=_0x398f30+(_0x117e0d??0x0);break;case'-':_0x409806=_0x398f30-(_0x117e0d??0x0);break;case'*':_0x409806=_0x398f30*(_0x117e0d??0x1);break;case'/':_0x117e0d!==0x0&&(_0x409806=_0x398f30/(_0x117e0d??0x1));break;}break;case'findAndReplace':case _0x5eab28(0x191):let _0x30bc86=_0x3a971b,_0x20a575=_0x11bda0[_0x5eab28(0x4ca)];if(typeof _0x20a575=='string'&&(_0x20a575=this[_0x5eab28(0x5cd)](_0x20a575,_0x24b6cc['chatLog'][_0x5eab28(0x795)])??''),_0x30bc86&&_0x20a575!==void 0x0){let _0x1be0fb=_0x11bda0[_0x5eab28(0x4b5)]===_0x5eab28(0x3ff)?new RegExp(_0x30bc86[_0x5eab28(0x821)](/[-\/\\^$*+?.()|[\]{}]/g,_0x5eab28(0x720)),'g'):new RegExp(_0x30bc86,'g');_0x409806=_0x2d0eac['replace'](_0x1be0fb,_0x20a575);}else console[_0x5eab28(0x6be)](_0x5eab28(0x911));break;case _0x5eab28(0x51a):_0x409806=_0x3a971b;break;case'extractRegex':let _0x24b68a=_0x2d0eac['match'](new RegExp(_0x3a971b||''));_0x409806=_0x24b68a?_0x24b68a[0x0]:'';break;case'truncatedto':_0x409806=_0x2d0eac[_0x5eab28(0x4f7)](0x0,parseInt(_0x3a971b||'0'));break;case _0x5eab28(0x354):let _0x460637=parseInt(_0x3a971b||'0');_0x409806=_0x2d0eac['slice'](_0x2d0eac[_0x5eab28(0x2df)]-_0x460637);break;case'toBrazilianNumberFormat':let _0x47ed6b=_0x1a852b(_0x2d0eac),_0x565db8=parseInt(_0x3a971b||'0');_0x565db8=Math[_0x5eab28(0x7b8)](_0x565db8),_0x47ed6b!==null?_0x409806=_0x47ed6b[_0x5eab28(0x56e)]('pt-BR',{'minimumFractionDigits':_0x565db8,'maximumFractionDigits':_0x565db8}):(console[_0x5eab28(0x6be)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x2d0eac),_0x409806=null);break;case _0x5eab28(0x942):let _0x3f8346=_0x1a852b(_0x2d0eac);_0x3f8346!==null?_0x409806=_0x3f8346[_0x5eab28(0x56e)](_0x5eab28(0x639),{'style':_0x5eab28(0x6df),'currency':_0x5eab28(0x677)}):(console[_0x5eab28(0x6be)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x2d0eac),_0x409806=null);break;case _0x5eab28(0x66c):_0x409806=_0x2d0eac[_0x5eab28(0x425)]();break;case _0x5eab28(0x262):_0x409806=_0x2d0eac['toLowerCase']();break;case _0x5eab28(0x5fc):_0x409806=_0x2d0eac[_0x5eab28(0x4c5)]('\x20')[_0x5eab28(0x27c)](_0xb94a26=>_0xb94a26[_0x5eab28(0x789)](0x0)[_0x5eab28(0x425)]()+_0xb94a26[_0x5eab28(0x4f7)](0x1)['toLowerCase']())[_0x5eab28(0x5ba)]('\x20');break;case'convertToString':_0x409806=JSON[_0x5eab28(0x2c2)](_0x2d0eac);break;case _0x5eab28(0x6a5):_0x409806=_0x2d0eac[_0x5eab28(0x3a7)]();break;default:_0x409806=_0x2d0eac;}return _0x409806!==null?_0x409806[_0x5eab28(0x58a)]():null;}async[a0_0x26c870(0x5af)](_0x1d957b,_0x270145){const _0x402e40=a0_0x26c870;try{let _0x2f9bc9=_0x1d957b[_0x402e40(0x5f9)]?.['filter'](_0x3c7528=>_0x3c7528[_0x402e40(0x6f9)]===_0x270145['_id']?.[_0x402e40(0x58a)]())||[],_0x4a66e0=_0x270145[_0x402e40(0x92c)],_0x1576fe=null,_0xcfec96=[],_0x2f40ae=_0x1d957b[_0x402e40(0x7e0)][_0x402e40(0x795)][_0x4a66e0];_0xcfec96[_0x402e40(0x48e)](_0x402e40(0x8dc)+_0x2f40ae+'\x22');for(let _0xb354a7 of _0x2f9bc9){_0xb354a7[_0x402e40(0x831)]=_0x2f40ae,_0x1576fe=_0xb354a7[_0x402e40(0x831)];let _0x3ef99b;try{_0x3ef99b=this[_0x402e40(0x40d)](_0x1d957b,_0xb354a7);}catch(_0xcd34c4){this[_0x402e40(0x263)][_0x402e40(0x7ba)](_0x402e40(0x770)+_0xcd34c4[_0x402e40(0x555)]);continue;}if(_0x3ef99b!==null){let _0x5450ce='Operador:\x20\x22'+_0xb354a7[_0x402e40(0x4b5)]+'\x22',_0x58e4d4=[_0x402e40(0x942),'upperCase',_0x402e40(0x262),_0x402e40(0x5fc),_0x402e40(0x6a5)];_0xb354a7[_0x402e40(0x4b5)]===_0x402e40(0x3ff)||_0xb354a7[_0x402e40(0x4b5)]===_0x402e40(0x191)?_0x5450ce+=_0x402e40(0x460)+_0xb354a7['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0xb354a7[_0x402e40(0x4ca)]+'\x22':!_0x58e4d4['includes'](_0xb354a7[_0x402e40(0x4b5)])&&_0xb354a7[_0x402e40(0x699)]!==null&&_0xb354a7['secondValue']!==void 0x0&&(_0x5450ce+=_0x402e40(0x3b8)+_0xb354a7[_0x402e40(0x699)]+'\x22'),_0x5450ce+=',\x20resultado:\x20'+_0x3ef99b+'.',_0xcfec96['push'](_0x5450ce);}_0x3ef99b!==null&&(_0x2f40ae=_0x3ef99b);}if(_0x1d957b[_0x402e40(0x7e0)]['realVariables']&&_0x270145[_0x402e40(0x92c)]){_0x1d957b[_0x402e40(0x7e0)]['realVariables'][_0x270145[_0x402e40(0x92c)]]=_0x2f40ae;let _0x88479={'variable':_0x270145[_0x402e40(0x92c)],'oldValue':_0x1576fe,'newValue':_0x2f40ae,'moreLogs':_0xcfec96};try{this[_0x402e40(0x840)](_0x1d957b,_0x270145,_0x88479);}catch(_0x48bd93){this[_0x402e40(0x263)][_0x402e40(0x7ba)](_0x402e40(0x35e)+_0x48bd93['message']);}}return _0x4a66e0;}catch(_0x534bce){return this[_0x402e40(0x263)][_0x402e40(0x7ba)](_0x402e40(0x527)+_0x534bce[_0x402e40(0x555)]),null;}}async['processConditions'](_0x2667a4,_0x52fc37){const _0x1e5a8e=a0_0x26c870;try{let _0x289b6f=[],_0x53843c=_0x2667a4['conditions']['filter'](_0x2626ec=>_0x2626ec[_0x1e5a8e(0x6f9)]===_0x52fc37[_0x1e5a8e(0x3fa)]['toString']()),_0x1ed250=null,_0x473e0e=!0x1;for(let _0x42672b of _0x53843c){let _0x26eab0=this[_0x1e5a8e(0x314)](_0x2667a4,_0x42672b);_0x289b6f[_0x1e5a8e(0x48e)](_0x1e5a8e(0x436)+_0x42672b['firstValue']+_0x1e5a8e(0x6dc)+_0x42672b[_0x1e5a8e(0x711)]+_0x1e5a8e(0x83a)+_0x42672b[_0x1e5a8e(0x699)]+_0x1e5a8e(0x596)+_0x26eab0),_0x1ed250===null?_0x1ed250=_0x26eab0:_0x42672b[_0x1e5a8e(0x90f)]===_0x1e5a8e(0x439)?(_0x1ed250=_0x1ed250&&_0x26eab0,_0x26eab0||(_0x473e0e=!0x0)):_0x42672b['OrAnd']==='or'&&(_0x473e0e||(_0x1ed250=_0x1ed250||_0x26eab0));}_0x1ed250===null&&(_0x1ed250=!0x0);let _0x5f0af5={'moreLogs':_0x289b6f};_0x2667a4[_0x1e5a8e(0x7e0)][_0x1e5a8e(0x8e3)]=_0x1ed250,await this[_0x1e5a8e(0x840)](_0x2667a4,_0x52fc37,_0x5f0af5);}catch(_0x1ce298){this[_0x1e5a8e(0x263)][_0x1e5a8e(0x7ba)](this['instanceName']+'\x20('+this[_0x1e5a8e(0x79f)][_0x1e5a8e(0x193)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x1ce298 instanceof Error?_0x1ce298['message']:JSON[_0x1e5a8e(0x2c2)](_0x1ce298,null,0x2)));}}[a0_0x26c870(0x314)](_0x4e8a70,_0x5af841){const _0x5d57df=a0_0x26c870;let _0x191f0a=_0x5af841[_0x5d57df(0x831)],_0x557d4a=_0x5af841[_0x5d57df(0x699)];typeof _0x191f0a==_0x5d57df(0x446)&&(_0x191f0a=this['replaceVariables'](_0x191f0a,_0x4e8a70[_0x5d57df(0x7e0)][_0x5d57df(0x795)])??''),typeof _0x557d4a==_0x5d57df(0x446)&&(_0x557d4a=this[_0x5d57df(0x5cd)](_0x557d4a,_0x4e8a70[_0x5d57df(0x7e0)][_0x5d57df(0x795)])??'');try{switch(_0x5af841[_0x5d57df(0x711)]){case'equal':return _0x191f0a===_0x557d4a;case'notEqual':return _0x191f0a!==_0x557d4a;case _0x5d57df(0x3b3):return this[_0x5d57df(0x3b3)](_0x191f0a,_0x557d4a);case _0x5d57df(0x5c4):return!this['contains'](_0x191f0a,_0x557d4a);case _0x5d57df(0x3ed):return parseFloat(_0x191f0a)>parseFloat(_0x557d4a);case'less':return parseFloat(_0x191f0a)<parseFloat(_0x557d4a);case _0x5d57df(0x926):return _0x191f0a!=='';case'empty':return _0x191f0a==='';case'matchRegex':return new RegExp(_0x557d4a)[_0x5d57df(0x695)](_0x191f0a);case'notMatchRegex':return!new RegExp(_0x557d4a)[_0x5d57df(0x695)](_0x191f0a);default:return!0x1;}}catch(_0x189dbf){return this[_0x5d57df(0x263)][_0x5d57df(0x7ba)](_0x5d57df(0x564)+_0x189dbf),!0x1;}}[a0_0x26c870(0x3b3)](_0x12b544,_0x5d7447){const _0x4c4a7e=a0_0x26c870;if(_0x12b544===_0x5d7447&&/^\d+$/[_0x4c4a7e(0x695)](_0x12b544))return!0x0;if(this[_0x4c4a7e(0x8c7)](_0x12b544)&&/^\d+$/[_0x4c4a7e(0x695)](_0x5d7447)){let _0x1ce16b=_0x12b544['split'](',')[_0x4c4a7e(0x27c)](_0x2758a7=>parseInt(_0x2758a7['trim']())),_0x22473e=parseInt(_0x5d7447);return _0x1ce16b[_0x4c4a7e(0x7bc)](_0x22473e);}return _0x12b544[_0x4c4a7e(0x7bc)](_0x5d7447);}[a0_0x26c870(0x8c7)](_0x7521a5){const _0x229a51=a0_0x26c870;return/^\d+(,\d+)*$/[_0x229a51(0x695)](_0x7521a5);}['processConditionsTest'](_0x187983){const _0x11a489=a0_0x26c870;let _0x3f352c=!0x0,_0x21751d=null;for(let _0x250981 of _0x187983){let _0x15bf18=this[_0x11a489(0x8ac)](_0x250981);if(_0x21751d==='or'&&_0x15bf18){_0x3f352c=!0x0;break;}if(_0x21751d===_0x11a489(0x439)&&!_0x15bf18){_0x3f352c=!0x1;break;}_0x21751d=_0x250981['OrAnd'];}return _0x3f352c;}[a0_0x26c870(0x8ac)](_0x296253){const _0x639967=a0_0x26c870;let _0x4d2c4b=_0x296253[_0x639967(0x831)],_0x11d8b0=_0x296253[_0x639967(0x699)];try{switch(_0x296253[_0x639967(0x711)]){case _0x639967(0x195):return String(_0x4d2c4b)===String(_0x11d8b0);case'notEqual':return String(_0x4d2c4b)!==String(_0x11d8b0);case'contains':return String(_0x4d2c4b)['includes'](String(_0x11d8b0));case _0x639967(0x5c4):return!String(_0x4d2c4b)[_0x639967(0x7bc)](String(_0x11d8b0));case'greater':return parseFloat(String(_0x4d2c4b))>parseFloat(String(_0x11d8b0));case'less':return parseFloat(String(_0x4d2c4b))<parseFloat(String(_0x11d8b0));case _0x639967(0x926):return String(_0x4d2c4b)!=='';case _0x639967(0x624):return String(_0x4d2c4b)==='';case'matchRegex':return new RegExp(String(_0x11d8b0))[_0x639967(0x695)](String(_0x4d2c4b));case'notMatchRegex':return!new RegExp(String(_0x11d8b0))[_0x639967(0x695)](String(_0x4d2c4b));default:return!0x1;}}catch(_0x5d2fa4){return this[_0x639967(0x263)]['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5d2fa4),!0x1;}}async[a0_0x26c870(0x396)](_0x49d78f,_0x5da052){const _0x4ae129=a0_0x26c870;if(this[_0x4ae129(0x263)][_0x4ae129(0x69d)](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x58f)),!_0x49d78f||!_0x5da052)return this[_0x4ae129(0x263)]['error'](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x28d)),null;let _0x3db797=_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x74a)][_0x4ae129(0x8f1)]['id'];this['logger'][_0x4ae129(0x69d)](this[_0x4ae129(0x24d)]+'\x20('+this['instance'][_0x4ae129(0x193)]+_0x4ae129(0x40e)+_0x3db797);let _0x55f880={'key':{'id':_0x3db797}},_0x6ecf31=_0x5da052[_0x4ae129(0x92c)];_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)]['_'+_0x6ecf31+'.fileUrl']=null,_0x49d78f['chatLog'][_0x4ae129(0x795)]['_'+_0x6ecf31+_0x4ae129(0x6f5)]=null,_0x49d78f[_0x4ae129(0x7e0)]['realVariables']['_'+_0x6ecf31+_0x4ae129(0x445)]=null,_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)]['_'+_0x6ecf31+_0x4ae129(0x8a8)]=_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x74a)][_0x4ae129(0x760)];try{let _0x115391=await this[_0x4ae129(0x5cb)](_0x55f880);this[_0x4ae129(0x263)][_0x4ae129(0x69d)](this['instanceName']+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x36c)),_0x49d78f['chatLog'][_0x4ae129(0x795)]['_'+_0x6ecf31+_0x4ae129(0x397)]=_0x115391[_0x4ae129(0x4d1)],_0x49d78f[_0x4ae129(0x7e0)]['realVariables']['_'+_0x6ecf31+_0x4ae129(0x6f5)]=_0x115391['mimetype'];let _0x18aa69=_0x115391['mimetype'][_0x4ae129(0x7e1)](/\/(\w+)$/),_0x11623f=_0x18aa69?_0x18aa69[0x1]:null;_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)]['_'+_0x6ecf31+_0x4ae129(0x445)]=_0x11623f,this[_0x4ae129(0x263)][_0x4ae129(0x69d)](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x6ecf31+'\x27.');}catch(_0x3e7f49){this[_0x4ae129(0x263)]['error'](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x730)+_0x3e7f49['message']);}let _0x36acf4=_0x49d78f[_0x4ae129(0x7e0)]['lastReceivedMessage'][_0x4ae129(0x529)]||_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x74a)]['caption']||_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x74a)][_0x4ae129(0x45b)];try{_0x49d78f[_0x4ae129(0x7e0)]['realVariables']||(_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)]={});let _0x4ffd3f=_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)][_0x6ecf31];_0x49d78f[_0x4ae129(0x7e0)][_0x4ae129(0x795)][_0x6ecf31]=_0x36acf4;let _0x5941e8={'variable':_0x6ecf31,'oldValue':_0x4ffd3f,'newValue':_0x36acf4};this[_0x4ae129(0x840)](_0x49d78f,_0x5da052,_0x5941e8),this['logger']['verbose'](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x5d2));}catch(_0x3afb4e){let _0x2fe503={'error':!0x0,'errorLog':_0x3afb4e[_0x4ae129(0x58a)]()};return this['updateConversation'](_0x49d78f,_0x5da052,_0x2fe503),this[_0x4ae129(0x263)][_0x4ae129(0x7ba)](this[_0x4ae129(0x24d)]+'\x20('+this[_0x4ae129(0x79f)][_0x4ae129(0x193)]+_0x4ae129(0x375)+(_0x3afb4e instanceof Error?_0x3afb4e['message']:JSON[_0x4ae129(0x2c2)](_0x3afb4e,null,0x2))),null;}}async[a0_0x26c870(0x4ef)](_0x47be6d,_0x2e19ab){const _0xd7261a=a0_0x26c870;if(this[_0xd7261a(0x263)][_0xd7261a(0x69d)](this[_0xd7261a(0x24d)]+'\x20('+this[_0xd7261a(0x79f)][_0xd7261a(0x193)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x47be6d||!_0x2e19ab)return this[_0xd7261a(0x263)][_0xd7261a(0x7ba)](this[_0xd7261a(0x24d)]+'\x20('+this[_0xd7261a(0x79f)]['wuid']+_0xd7261a(0x28d)),null;let _0xe9ff2=Date[_0xd7261a(0x1a6)](),_0x353851=parseInt(_0x2e19ab[_0xd7261a(0x659)],0xa);if(isNaN(_0x353851))return this[_0xd7261a(0x263)]['error'](this[_0xd7261a(0x24d)]+'\x20('+this[_0xd7261a(0x79f)][_0xd7261a(0x193)]+_0xd7261a(0x26a)),null;let _0x26a6bf={'newStoppedUntil':_0xe9ff2+_0x353851*0x3c*0x3e8};return await this[_0xd7261a(0x840)](_0x47be6d,_0x2e19ab,_0x26a6bf,!0x0),null;}async['processUazapi'](_0x55454a,_0x20b072){const _0x31f9e8=a0_0x26c870;try{switch(_0x20b072[_0x31f9e8(0x88e)]['command']){case _0x31f9e8(0x802):await this[_0x31f9e8(0x364)](_0x55454a,_0x20b072);break;case _0x31f9e8(0x69b):await this[_0x31f9e8(0x321)](_0x55454a,_0x20b072);break;case _0x31f9e8(0x1fe):await this[_0x31f9e8(0x488)](_0x55454a,_0x20b072);break;case _0x31f9e8(0x197):await this[_0x31f9e8(0x7ed)](_0x55454a,_0x20b072);break;case'sendContact':await this[_0x31f9e8(0x610)](_0x55454a,_0x20b072);break;case _0x31f9e8(0x212):await this[_0x31f9e8(0x3af)](_0x55454a,_0x20b072);break;case _0x31f9e8(0x6d2):await this['uazapiSendMenu'](_0x55454a,_0x20b072);break;case _0x31f9e8(0x5e3):await this[_0x31f9e8(0x2cd)](_0x55454a,_0x20b072);break;default:this[_0x31f9e8(0x263)][_0x31f9e8(0x7ba)](this[_0x31f9e8(0x24d)]+'\x20('+this['instance']['wuid']+_0x31f9e8(0x1fd)+_0x20b072[_0x31f9e8(0x88e)][_0x31f9e8(0x87b)]);}}catch(_0x5673c8){this[_0x31f9e8(0x263)][_0x31f9e8(0x7ba)](this[_0x31f9e8(0x24d)]+'\x20('+this[_0x31f9e8(0x79f)][_0x31f9e8(0x193)]+_0x31f9e8(0x709)+(_0x5673c8 instanceof Error?_0x5673c8['message']:JSON[_0x31f9e8(0x2c2)](_0x5673c8,null,0x2)));}}async['updateConversation'](_0x7c3ec4,_0x136ecd,_0xce1f6a,_0x4da930=!0x1,_0x1620eb=!0x1){const _0x2d6d58=a0_0x26c870;_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x341)]||(_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x341)]=[]);let _0xef592e=(_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x341)]?.['length']??0x0)+0x1,_0x7001c0=_0x7c3ec4[_0x2d6d58(0x7e0)]['blockLogs'][_0x2d6d58(0x2b4)](_0x200501=>String(_0x200501[_0x2d6d58(0x6f9)])===String(_0x136ecd[_0x2d6d58(0x3fa)]))['length']+0x1,_0x8d78a0=_0xce1f6a?.['onTime']??Date[_0x2d6d58(0x1a6)](),_0x37aa48=_0xce1f6a?.[_0x2d6d58(0x7ba)]?_0xce1f6a[_0x2d6d58(0x91c)]??_0xce1f6a['error'][_0x2d6d58(0x58a)]():void 0x0,_0xe06ea8={'onTime':_0x8d78a0,'blockId':_0x136ecd[_0x2d6d58(0x3fa)],'order':_0xef592e,'activatedCount':_0x7001c0,'error':_0xce1f6a?.[_0x2d6d58(0x7ba)]??!0x1,'messageId':_0xce1f6a?.[_0x2d6d58(0x700)],'apiResponse':_0xce1f6a?.[_0x2d6d58(0x7ec)],'apiResponseString':_0xce1f6a?.['apiResponse']?JSON['stringify'](_0xce1f6a?.['apiResponse']):void 0x0,'variable':_0xce1f6a?.[_0x2d6d58(0x290)],'oldValue':_0xce1f6a?.[_0x2d6d58(0x345)],'newValue':_0xce1f6a?.[_0x2d6d58(0x918)],'newStoppedUntil':_0xce1f6a?.[_0x2d6d58(0x6d4)],'moreLogs':_0xce1f6a?.[_0x2d6d58(0x682)],'errorLog':_0x37aa48};if(_0xce1f6a['moreLogs']&&_0xce1f6a[_0x2d6d58(0x682)][_0x2d6d58(0x2df)]>0x0){let _0x2a973e=_0xce1f6a[_0x2d6d58(0x682)][_0x2d6d58(0x27c)](_0x31204e=>this[_0x2d6d58(0x203)](_0x31204e,_0x7c3ec4['chatLog']['realVariables']));_0xe06ea8[_0x2d6d58(0x682)]=_0x2a973e;}if(_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x795)]||(_0x7c3ec4['chatLog'][_0x2d6d58(0x795)]={}),_0x7c3ec4[_0x2d6d58(0x7e0)]['realVariables'][_0x2d6d58(0x944)]=String(_0x7001c0),_0x7c3ec4[_0x2d6d58(0x7e0)]['realVariables'][_0x2d6d58(0x186)]=String(_0xce1f6a[_0x2d6d58(0x7ba)]??!0x1),_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x341)]['push'](_0xe06ea8),_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x795)]['telefone']&&_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x795)][_0x2d6d58(0x538)]!==_0x7c3ec4[_0x2d6d58(0x489)]){let _0x4ef8ac=(await this[_0x2d6d58(0x374)]({'numbers':[_0x7c3ec4['chatLog']['realVariables'][_0x2d6d58(0x538)]]}))[0x0]['jid'];_0x7c3ec4['chatLog'][_0x2d6d58(0x795)][_0x2d6d58(0x538)]=_0x4ef8ac,_0x7c3ec4[_0x2d6d58(0x489)]=_0x4ef8ac;try{let _0x36f756={'_id':{'$ne':_0x7c3ec4[_0x2d6d58(0x3fa)]},'remoteJid':_0x4ef8ac,'status':_0x2d6d58(0x940)},_0x39bd66={'status':'closed'};await this[_0x2d6d58(0x252)]['flowConversation'][_0x2d6d58(0x5ea)](_0x36f756,_0x39bd66,this['instance'][_0x2d6d58(0x193)]),this[_0x2d6d58(0x263)][_0x2d6d58(0x69d)](this['instanceName']+'\x20('+this[_0x2d6d58(0x79f)][_0x2d6d58(0x193)]+_0x2d6d58(0x66e));}catch(_0x23fe15){this['logger'][_0x2d6d58(0x7ba)](this[_0x2d6d58(0x24d)]+'\x20('+this[_0x2d6d58(0x79f)]['wuid']+_0x2d6d58(0x78c)+_0x23fe15['message']);}try{let _0x5cb5c0=_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x795)],_0x17d973=await this[_0x2d6d58(0x438)](_0x4ef8ac),_0x29c861={..._0x5cb5c0,..._0x17d973,'_remoteJid':_0x4ef8ac};_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x795)]=_0x29c861;}catch(_0x2cb6ae){this[_0x2d6d58(0x263)][_0x2d6d58(0x7ba)](this[_0x2d6d58(0x24d)]+'\x20('+this['instance'][_0x2d6d58(0x193)]+_0x2d6d58(0x7ac)+_0x2cb6ae['message']);}}_0x7c3ec4[_0x2d6d58(0x7e0)]['lastBlockId']=_0x136ecd[_0x2d6d58(0x3fa)][_0x2d6d58(0x58a)](),_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x76e)]&&(_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x76e)]=_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x76e)]),_0x7c3ec4['chatLog'][_0x2d6d58(0x74a)]&&(_0x7c3ec4['chatLog'][_0x2d6d58(0x74a)]=_0x7c3ec4[_0x2d6d58(0x7e0)]['lastReceivedMessage']),_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x8e3)]&&(_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x8e3)]=_0x7c3ec4[_0x2d6d58(0x7e0)][_0x2d6d58(0x8e3)]),_0x1620eb&&(_0x7c3ec4[_0x2d6d58(0x284)]=_0x2d6d58(0x7c1)),_0x4da930?this['saveConversationToDatabase'](_0x7c3ec4):this['goNextblock'](_0x7c3ec4,_0x136ecd);}[a0_0x26c870(0x203)](_0x320fac,_0x1b4366){const _0x51c33b=a0_0x26c870;return _0x320fac[_0x51c33b(0x821)](/\{\{([^}]+)\}\}/g,(_0x1eae55,_0x137969)=>_0x1b4366[_0x137969]?'{{'+_0x137969+_0x51c33b(0x1df)+_0x1b4366[_0x137969]+'\x22':'{{'+_0x137969+_0x51c33b(0x617));}async['saveConversationToDatabase'](_0x230986){const _0x4ca676=a0_0x26c870;try{let _0x2bcdc8=Object[_0x4ca676(0x444)](_0x230986['chatLog']['realVariables'])[_0x4ca676(0x27c)](([_0x1b6d97,_0x1d8ea4])=>({'name':_0x1b6d97,'value':_0x1d8ea4})),_0x28073b={'status':_0x230986['status'],'remoteJid':_0x230986[_0x4ca676(0x489)],'blocks':_0x230986[_0x4ca676(0x44c)],'waitingMenu_id':_0x230986[_0x4ca676(0x1b5)],'waitingMenu_text':_0x230986[_0x4ca676(0x5c1)],'waitingMenu_replyOptions':_0x230986[_0x4ca676(0x2b1)],'chatLog':{'lastBlockId':_0x230986[_0x4ca676(0x7e0)][_0x4ca676(0x5b1)],'lastSendMessage':_0x230986[_0x4ca676(0x7e0)]['lastSendMessage'],'lastReceivedMessage':_0x230986[_0x4ca676(0x7e0)][_0x4ca676(0x74a)],'lastCondition':_0x230986[_0x4ca676(0x7e0)][_0x4ca676(0x8e3)],'chatVariables':_0x2bcdc8,'realVariables':_0x230986[_0x4ca676(0x7e0)][_0x4ca676(0x795)],'blockLogs':_0x230986['chatLog'][_0x4ca676(0x341)]}},_0x5e9fcf=await this[_0x4ca676(0x252)]['flowConversation']['updateOne'](_0x230986[_0x4ca676(0x3fa)],_0x28073b,this[_0x4ca676(0x79f)]['wuid']);if(_0x5e9fcf){this['logger']['verbose'](this[_0x4ca676(0x24d)]+'\x20('+this[_0x4ca676(0x79f)][_0x4ca676(0x193)]+_0x4ca676(0x623)+_0x5e9fcf[_0x4ca676(0x3fa)]);try{let _0x3f5a19=[_0x4ca676(0x537),'nomecompleto','email',_0x4ca676(0x90e),_0x4ca676(0x284),_0x4ca676(0x75b),_0x4ca676(0x626),_0x4ca676(0x6b2),_0x4ca676(0x71c),_0x4ca676(0x50b)];if(!this[_0x4ca676(0x6bb)]&&(await this[_0x4ca676(0x791)](),!this['AutomateSystem']))throw new Error(_0x4ca676(0x54d));let _0x3e2af8=this['AutomateSystem']?.[_0x4ca676(0x454)][_0x4ca676(0x27c)](_0x30fe4b=>_0x30fe4b[_0x4ca676(0x5fa)]),_0x30b9cb={};Object['entries'](_0x230986[_0x4ca676(0x7e0)][_0x4ca676(0x795)])[_0x4ca676(0x526)](([_0x27fe96,_0x577aa0])=>{const _0x3a3f53=_0x4ca676;_0x3f5a19[_0x3a3f53(0x7bc)](_0x27fe96)&&(_0x27fe96==='tags'&&typeof _0x577aa0==_0x3a3f53(0x446)?_0x30b9cb[_0x27fe96]=_0x577aa0[_0x3a3f53(0x4c5)](',')[_0x3a3f53(0x27c)](_0x40c559=>_0x40c559['trim']())[_0x3a3f53(0x2b4)](_0x33ad93=>_0x33ad93!==''):_0x27fe96==='etiquetas'&&typeof _0x577aa0==_0x3a3f53(0x446)?_0x30b9cb[_0x27fe96]=_0x577aa0[_0x3a3f53(0x4c5)](',')[_0x3a3f53(0x27c)](_0x22583f=>_0x22583f['trim']())[_0x3a3f53(0x2b4)](_0x39abed=>_0x39abed!==''):_0x30b9cb[_0x27fe96]=_0x577aa0);});let _0x3fc204=_0x230986['chatLog']['blockLogs'][_0x230986[_0x4ca676(0x7e0)]['blockLogs'][_0x4ca676(0x2df)]-0x1];if(_0x3fc204){let _0x3c46c9=_0x3fc204['newStoppedUntil'];_0x3c46c9!==void 0x0&&(_0x30b9cb[_0x4ca676(0x8aa)]=_0x3c46c9[_0x4ca676(0x58a)]());}let _0x412a54=_0x2bcdc8['filter'](_0x2fef6f=>_0x3e2af8[_0x4ca676(0x7bc)](_0x2fef6f[_0x4ca676(0x5fa)]));this[_0x4ca676(0x263)][_0x4ca676(0x69d)](this[_0x4ca676(0x24d)]+'\x20('+this[_0x4ca676(0x79f)][_0x4ca676(0x193)]+_0x4ca676(0x496)),this[_0x4ca676(0x263)][_0x4ca676(0x69d)](_0x30b9cb),this['logger'][_0x4ca676(0x69d)](this[_0x4ca676(0x24d)]+'\x20('+this['instance'][_0x4ca676(0x193)]+_0x4ca676(0x289)),this[_0x4ca676(0x263)][_0x4ca676(0x69d)](_0x412a54);let _0x5f2778=_0x412a54[_0x4ca676(0x27c)](_0x20dda4=>{const _0x470902=_0x4ca676;let _0x518a12=this['AutomateSystem']?.[_0x470902(0x454)][_0x470902(0x82c)](_0x206d89=>_0x206d89[_0x470902(0x5fa)]===_0x20dda4[_0x470902(0x5fa)]);if(!_0x518a12)throw new Error(_0x470902(0x6d8)+_0x20dda4[_0x470902(0x5fa)]);return{'_id':_0x518a12[_0x470902(0x3fa)],'value':_0x20dda4['value']};});this['logger'][_0x4ca676(0x69d)](this[_0x4ca676(0x24d)]+'\x20('+this[_0x4ca676(0x79f)][_0x4ca676(0x193)]+_0x4ca676(0x63f)),this[_0x4ca676(0x263)][_0x4ca676(0x69d)](_0x5f2778),await this[_0x4ca676(0x309)](_0x230986[_0x4ca676(0x489)],_0x30b9cb,_0x5f2778);}catch(_0x40f92e){this['logger'][_0x4ca676(0x7ba)](this[_0x4ca676(0x24d)]+'\x20('+this[_0x4ca676(0x79f)][_0x4ca676(0x193)]+_0x4ca676(0x3d2)+(_0x40f92e instanceof Error?_0x40f92e['message']:JSON['stringify'](_0x40f92e,null,0x2)));}}else this[_0x4ca676(0x263)][_0x4ca676(0x7ba)](this[_0x4ca676(0x24d)]+'\x20('+this['instance'][_0x4ca676(0x193)]+_0x4ca676(0x7fd));}catch(_0x3f43bc){this['logger']['error'](this[_0x4ca676(0x24d)]+'\x20('+this[_0x4ca676(0x79f)][_0x4ca676(0x193)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x3f43bc instanceof Error?_0x3f43bc[_0x4ca676(0x555)]:JSON['stringify'](_0x3f43bc,null,0x2)));}}async[a0_0x26c870(0x309)](_0x4c1a7f,_0x534429,_0x39c1b3){const _0x457914=a0_0x26c870;try{let _0x30cdc8={'leadInfo.leadnome':_0x534429[_0x457914(0x537)],'leadInfo.nomecompleto':_0x534429[_0x457914(0x1e1)],'leadInfo.email':_0x534429['email'],'leadInfo.cpf':_0x534429[_0x457914(0x90e)],'leadInfo.status':_0x534429[_0x457914(0x284)],'leadInfo.notas':_0x534429['notas'],'leadInfo.responsavelid':_0x534429[_0x457914(0x626)],'leadInfo.tags':_0x534429[_0x457914(0x6b2)],'leadInfo.etiquetas':_0x534429[_0x457914(0x71c)],'leadInfo.customFields':_0x39c1b3,'leadInfo.atendimentoAberto':_0x534429[_0x457914(0x50b)]},_0x206883=await this[_0x457914(0x252)][_0x457914(0x629)]['findOne']({'where':{'_id':_0x4c1a7f}},this['instance'][_0x457914(0x193)]);if(!_0x206883)return _0x457914(0x8e6);let _0x266ad1=new Set(_0x206883['leadInfo']['etiquetas']||[]),_0x49c2c8=new Set(_0x534429[_0x457914(0x71c)]||[]),_0x2dd1aa=await this[_0x457914(0x252)][_0x457914(0x499)][_0x457914(0x82c)]({'where':{}},this[_0x457914(0x79f)][_0x457914(0x193)]),_0x22df34=new Set(_0x2dd1aa['map'](_0x3ecf6b=>_0x3ecf6b['_id'])),_0x12949d=[..._0x49c2c8]['filter'](_0x51b017=>!_0x266ad1[_0x457914(0x5fb)](_0x51b017)&&_0x22df34[_0x457914(0x5fb)](_0x51b017)),_0x1b29d9=[..._0x266ad1][_0x457914(0x2b4)](_0x9c5c45=>!_0x49c2c8['has'](_0x9c5c45));for(let _0x235f9f of _0x12949d)await this[_0x457914(0x92d)](_0x235f9f,_0x206883[_0x457914(0x3fa)]),_0x266ad1[_0x457914(0x1c4)](_0x235f9f);for(let _0x1787c4 of _0x1b29d9)await this['RemoveChatLabel'](_0x1787c4,_0x206883[_0x457914(0x3fa)]),_0x266ad1['delete'](_0x1787c4);if(_0x457914(0x8aa)in _0x534429){let _0x32c3ba=_0x534429[_0x457914(0x8aa)];_0x30cdc8[_0x457914(0x51b)]=_0x32c3ba?Number(_0x32c3ba):null;}if(_0x457914(0x50b)in _0x534429){let _0xf60ed3=_0x534429['atendimentoAberto'][_0x457914(0x493)]();_0x30cdc8['leadInfo.atendimentoAberto']=_0xf60ed3===_0x457914(0x4f4)||_0xf60ed3==='1'||_0xf60ed3===_0x457914(0x196)||_0xf60ed3===_0x457914(0x268);}let _0x3deeba=await this[_0x457914(0x252)][_0x457914(0x629)]['updateOne']({'where':{'_id':_0x4c1a7f}},_0x30cdc8,this['instance'][_0x457914(0x193)]);_0x3deeba?(this['logger'][_0x457914(0x69d)](this[_0x457914(0x24d)]+'\x20('+this[_0x457914(0x79f)]['wuid']+_0x457914(0x3c9)+_0x3deeba[_0x457914(0x3fa)]),F(this[_0x457914(0x24d)],_0x457914(0x3eb),{'chat':_0x3deeba})):this[_0x457914(0x263)][_0x457914(0x7ba)](this['instanceName']+'\x20('+this[_0x457914(0x79f)][_0x457914(0x193)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x56615c){this[_0x457914(0x263)][_0x457914(0x7ba)](this[_0x457914(0x24d)]+'\x20('+this['instance'][_0x457914(0x193)]+_0x457914(0x1b9)+(_0x56615c instanceof Error?_0x56615c['message']:JSON[_0x457914(0x2c2)](_0x56615c,null,0x2)));}}async['updateStopChat'](_0x1d5a01,_0x8b4b57){const _0x2f7c3e=a0_0x26c870;this['logger'][_0x2f7c3e(0x69d)](this[_0x2f7c3e(0x24d)]+'\x20('+this['instance'][_0x2f7c3e(0x193)]+_0x2f7c3e(0x833)+_0x8b4b57);try{let _0x529f1d=await this[_0x2f7c3e(0x252)][_0x2f7c3e(0x629)]['updateOne']({'where':{'_id':_0x1d5a01['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x8b4b57},this[_0x2f7c3e(0x79f)][_0x2f7c3e(0x193)]);this[_0x2f7c3e(0x263)][_0x2f7c3e(0x69d)](this['instanceName']+'\x20('+this['instance'][_0x2f7c3e(0x193)]+_0x2f7c3e(0x7b1)+_0x1d5a01['_id']),this[_0x2f7c3e(0x263)][_0x2f7c3e(0x69d)](this['instanceName']+'\x20('+this[_0x2f7c3e(0x79f)][_0x2f7c3e(0x193)]+'):\x20atualização\x20chat:\x20'+JSON[_0x2f7c3e(0x2c2)](_0x529f1d,null,0x2)),_0x529f1d&&F(this[_0x2f7c3e(0x24d)],_0x2f7c3e(0x3eb),{'chat':_0x529f1d});}catch(_0x5d5e2f){this['logger']['error'](this[_0x2f7c3e(0x24d)]+'\x20('+this['instance'][_0x2f7c3e(0x193)]+_0x2f7c3e(0x5e9)+(_0x5d5e2f instanceof Error?_0x5d5e2f[_0x2f7c3e(0x555)]:JSON[_0x2f7c3e(0x2c2)](_0x5d5e2f,null,0x2)));}}async['findFlow'](_0x91ec5e){const _0x3d1280=a0_0x26c870;try{this[_0x3d1280(0x263)][_0x3d1280(0x69d)](this['instanceName']+'\x20('+this[_0x3d1280(0x79f)][_0x3d1280(0x193)]+_0x3d1280(0x5a0));let _0x4590a7=_0x91ec5e['replace'](/\D/g,''),_0x521c62=this[_0x3d1280(0x6bb)]['flows']['find'](_0x3f0993=>_0x3f0993[_0x3d1280(0x62e)]===_0x4590a7);if(_0x521c62||(this[_0x3d1280(0x263)][_0x3d1280(0x69d)](this[_0x3d1280(0x24d)]+'\x20('+this[_0x3d1280(0x79f)][_0x3d1280(0x193)]+_0x3d1280(0x293)),_0x521c62=this[_0x3d1280(0x6bb)][_0x3d1280(0x257)][_0x3d1280(0x82c)](_0x51349c=>_0x51349c[_0x3d1280(0x595)]===!0x0)),!_0x521c62)return this[_0x3d1280(0x263)][_0x3d1280(0x69d)](this['instanceName']+'\x20('+this[_0x3d1280(0x79f)][_0x3d1280(0x193)]+_0x3d1280(0x879)),null;let _0x36429a=await this[_0x3d1280(0x252)][_0x3d1280(0x654)][_0x3d1280(0x74c)]({'where':{'_id':_0x521c62[_0x3d1280(0x3fa)]}});if(!_0x36429a||!_0x36429a['whoCanUse']?.[_0x3d1280(0x7bc)](this[_0x3d1280(0x79f)][_0x3d1280(0x193)]))throw this[_0x3d1280(0x263)][_0x3d1280(0x7ba)](this[_0x3d1280(0x24d)]+'\x20('+this['instance'][_0x3d1280(0x193)]+_0x3d1280(0x736)+_0x36429a[_0x3d1280(0x3fa)]+_0x3d1280(0x57c)),new m(_0x3d1280(0x5a2)+_0x36429a[_0x3d1280(0x3fa)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x36429a;}catch(_0x45d5a3){return this[_0x3d1280(0x263)][_0x3d1280(0x7ba)](this['instanceName']+'\x20('+this[_0x3d1280(0x79f)][_0x3d1280(0x193)]+_0x3d1280(0x508)+(_0x45d5a3 instanceof Error?_0x45d5a3[_0x3d1280(0x555)]:JSON[_0x3d1280(0x2c2)](_0x45d5a3,null,0x2))),null;}}async['findConversation'](_0x3da849,_0x5205a1){const _0x3576b9=a0_0x26c870;try{let _0x58224b=!!_0x5205a1[_0x3576b9(0x45b)],_0x52026b=_0x5205a1[_0x3576b9(0x693)],_0x4bfa7c=null;if(this['logger'][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this['instance']['wuid']+'):\x20isVote:\x20'+_0x58224b+'\x20quoted:\x20'+_0x52026b),_0x58224b){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x5b4d48={'where':{'remoteJid':_0x3da849,'waitingMenu_id':_0x52026b}};if(_0x4bfa7c=await this[_0x3576b9(0x252)]['flowConversation'][_0x3576b9(0x74c)](_0x5b4d48,this[_0x3576b9(0x79f)][_0x3576b9(0x193)]),!_0x4bfa7c)return this[_0x3576b9(0x263)][_0x3576b9(0x69d)](this['instanceName']+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+'):\x20não\x20encontrou'),null;let _0x5fd204=Date[_0x3576b9(0x1a6)](),_0xeba6f2=_0x4bfa7c?.[_0x3576b9(0x1a4)]||0x0,_0x278177=_0x5fd204-_0xeba6f2*0x3c*0x3e8;if(_0x4bfa7c[_0x3576b9(0x324)]<_0x278177){this['logger'][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x708ee={'number':_0x4bfa7c[_0x3576b9(0x489)],'options':{'delay':0x0},'textMessage':{'text':_0x4bfa7c['waitingMenu_ExpiredMessage']}};await this[_0x3576b9(0x6e1)](_0x708ee);let _0x1ad718={'status':_0x3576b9(0x7c1),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3576b9(0x252)][_0x3576b9(0x49f)]['updateOne'](_0x4bfa7c[_0x3576b9(0x3fa)],_0x1ad718,this[_0x3576b9(0x79f)][_0x3576b9(0x193)]),null;}return _0x4bfa7c['lastInteraction']=Date[_0x3576b9(0x1a6)](),_0x4bfa7c[_0x3576b9(0x7e0)][_0x3576b9(0x74a)]=_0x5205a1,_0x4bfa7c;}else{this[_0x3576b9(0x263)][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+_0x3576b9(0x60e)+this['instance'][_0x3576b9(0x193)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x3576b9(0x263)][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+_0x3576b9(0x3e6));let _0x5a195b={'where':{'remoteJid':_0x3da849,'status':_0x3576b9(0x940)}};if(_0x4bfa7c=await this[_0x3576b9(0x252)][_0x3576b9(0x49f)][_0x3576b9(0x74c)](_0x5a195b,this[_0x3576b9(0x79f)][_0x3576b9(0x193)]),!_0x4bfa7c){let _0xa21519=await this[_0x3576b9(0x589)](_0x3da849);if(_0xa21519&&(_0x4bfa7c=await this[_0x3576b9(0x2f6)](_0xa21519,_0x5205a1[_0x3576b9(0x8f1)],_0x5205a1)),!_0x4bfa7c)return null;}let _0x2257cc=Date[_0x3576b9(0x1a6)](),_0x204291=_0x4bfa7c?.[_0x3576b9(0x1a4)]||0x0,_0x1621f8=_0x2257cc-_0x204291*0x3c*0x3e8;if(this['logger'][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)]['wuid']+_0x3576b9(0x52e)+_0x2257cc+_0x3576b9(0x1ca)+_0x204291+',\x20Expiration\x20Time:\x20'+_0x1621f8),this[_0x3576b9(0x263)][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+_0x3576b9(0x2e4)+_0x4bfa7c[_0x3576b9(0x324)]),this[_0x3576b9(0x263)][_0x3576b9(0x69d)](this[_0x3576b9(0x24d)]+'\x20('+this['instance']['wuid']+_0x3576b9(0x84b)+_0x1621f8),_0x4bfa7c[_0x3576b9(0x324)]<_0x1621f8){this[_0x3576b9(0x263)]['verbose'](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)][_0x3576b9(0x193)]+'):\x20Conversa\x20está\x20expirada');let _0x43108f=await this[_0x3576b9(0x589)](_0x3da849);if(_0x43108f===null)return null;_0x4bfa7c&&await this[_0x3576b9(0x252)][_0x3576b9(0x49f)][_0x3576b9(0x5f5)](_0x4bfa7c[_0x3576b9(0x3fa)],{'status':_0x3576b9(0x7c1)},this[_0x3576b9(0x79f)]['wuid']),_0x4bfa7c=await this[_0x3576b9(0x2f6)](_0x43108f,_0x5205a1[_0x3576b9(0x8f1)],_0x5205a1);}return _0x4bfa7c[_0x3576b9(0x324)]=_0x2257cc,_0x4bfa7c[_0x3576b9(0x7e0)]['lastReceivedMessage']=_0x5205a1,_0x4bfa7c;}}catch(_0x181933){return this[_0x3576b9(0x263)][_0x3576b9(0x7ba)](this[_0x3576b9(0x24d)]+'\x20('+this[_0x3576b9(0x79f)]['wuid']+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x181933 instanceof Error?_0x181933[_0x3576b9(0x555)]:JSON[_0x3576b9(0x2c2)](_0x181933,null,0x2))),null;}}async[a0_0x26c870(0x2f6)](_0xf220ff,_0x1177d2,_0x3ece0d){const _0x48f0fb=a0_0x26c870;this['logger'][_0x48f0fb(0x69d)](this[_0x48f0fb(0x24d)]+'\x20('+this[_0x48f0fb(0x79f)][_0x48f0fb(0x193)]+_0x48f0fb(0x2ed));try{let _0x440317=require('mongodb')['ObjectId'],_0x3ca294=Date[_0x48f0fb(0x1a6)](),_0x4885e2=_0x48f0fb(0x8c4),_0x2a9408=_0x1177d2[_0x48f0fb(0x549)]?null:_0x3ece0d,_0x1f702b=_0x1177d2[_0x48f0fb(0x549)]?_0x3ece0d:null,_0x18c100=_0x1177d2['remoteJid'],_0x3afb76=this[_0x48f0fb(0x6bb)][_0x48f0fb(0x257)][_0x48f0fb(0x82c)](_0x162fd9=>_0x162fd9['_id']===_0xf220ff[_0x48f0fb(0x3fa)]?.[_0x48f0fb(0x58a)]()),_0x999735=_0x3afb76?.[_0x48f0fb(0x1a4)]??_0xf220ff[_0x48f0fb(0x1a4)]??0x0,_0xb6289d=_0x3afb76?.[_0x48f0fb(0x402)]??_0xf220ff[_0x48f0fb(0x402)]??!0x1;await this[_0x48f0fb(0x765)](_0x18c100);let _0x56054e={'flowId':_0xf220ff['_id'],..._0xf220ff,'chatLog':null},_0x14641e=await this[_0x48f0fb(0x73f)](_0x56054e[_0x48f0fb(0x652)]),_0x288c80=await this[_0x48f0fb(0x438)](_0x18c100),_0x345d8c={..._0x14641e,..._0x288c80,'_remoteJid':_0x18c100},_0x43beab={'lastReceivedMessage':_0x2a9408,'lastSendMessage':_0x1f702b,'lastBlockId':_0x4885e2,'lastCondition':!0x0,'realVariables':_0x345d8c};_0x56054e[_0x48f0fb(0x7e0)]=_0x43beab,delete _0x56054e[_0x48f0fb(0x3fa)],_0x56054e[_0x48f0fb(0x3fa)]=new _0x440317(),_0x56054e['lastInteraction']=_0x3ca294,_0x56054e[_0x48f0fb(0x284)]=_0x48f0fb(0x940),_0x56054e[_0x48f0fb(0x489)]=_0x18c100,_0x56054e['minutesToClose']=_0x999735,_0x56054e[_0x48f0fb(0x402)]=_0xb6289d;let _0x1ad76d=await this[_0x48f0fb(0x252)]['flowConversation'][_0x48f0fb(0x5f5)](_0x56054e[_0x48f0fb(0x3fa)],_0x56054e,this['instance']['wuid']);return this['logger'][_0x48f0fb(0x69d)](this['instanceName']+'\x20('+this['instance'][_0x48f0fb(0x193)]+_0x48f0fb(0x466)),_0x1ad76d?_0x56054e:null;}catch(_0x57a4fa){return this[_0x48f0fb(0x263)]['error'](this[_0x48f0fb(0x24d)]+'\x20('+this[_0x48f0fb(0x79f)][_0x48f0fb(0x193)]+_0x48f0fb(0x6e5)+(_0x57a4fa instanceof Error?_0x57a4fa[_0x48f0fb(0x555)]:JSON['stringify'](_0x57a4fa,null,0x2))),_0x57a4fa;}}async[a0_0x26c870(0x364)](_0x45120c,_0x37646e){const _0x25388a=a0_0x26c870;let _0x39b532=_0x45120c[_0x25388a(0x489)];_0x37646e[_0x25388a(0x88e)][_0x25388a(0x489)]&&_0x37646e[_0x25388a(0x88e)][_0x25388a(0x489)][_0x25388a(0x3a7)]()!==''&&(_0x39b532=_0x37646e[_0x25388a(0x88e)][_0x25388a(0x489)][_0x25388a(0x3a7)]()),this[_0x25388a(0x263)]['verbose'](this[_0x25388a(0x24d)]+'\x20('+this[_0x25388a(0x79f)][_0x25388a(0x193)]+_0x25388a(0x184));let _0x1f51f5={'number':_0x39b532,'options':{'delay':_0x37646e[_0x25388a(0x88e)][_0x25388a(0x89a)],'linkPreview':_0x37646e[_0x25388a(0x88e)]['linkPreview']},'textMessage':{'text':_0x37646e['uazapi'][_0x25388a(0x529)]}};try{let _0x1295cf=await this[_0x25388a(0x6e1)](_0x1f51f5);if(_0x1295cf){let _0x19d045={'_id':_0x1295cf['key']['id'],'_fromMe':_0x1295cf[_0x25388a(0x8f1)][_0x25388a(0x549)],'_remoteJid':_0x1295cf[_0x25388a(0x8f1)][_0x25388a(0x489)]},_0x1ff8b3=(0x0,w['normalizeMessageContent'])(_0x1295cf[_0x25388a(0x555)]),_0x2a4da3=(0x0,w['getContentType'])(_0x1ff8b3);_0x45120c['chatLog']['lastBlockId']=_0x37646e[_0x25388a(0x3fa)][_0x25388a(0x58a)]();let {message_normalized:_0x2d62ab}=this[_0x25388a(0x554)](_0x1ff8b3,_0x2a4da3,null);_0x45120c[_0x25388a(0x7e0)][_0x25388a(0x76e)]=await _0x2d62ab;let _0x1d4bcf={'messageId':_0x1295cf['key']['id']},_0x50b0ed=_0x45120c[_0x25388a(0x7e0)][_0x25388a(0x795)];Object[_0x25388a(0x2ee)](_0x50b0ed,_0x19d045),_0x45120c[_0x25388a(0x7e0)][_0x25388a(0x795)]=_0x50b0ed,this[_0x25388a(0x840)](_0x45120c,_0x37646e,_0x1d4bcf);}else{let _0x412da0={'error':!0x0};this[_0x25388a(0x840)](_0x45120c,_0x37646e,_0x412da0),this['logger'][_0x25388a(0x7ba)](this[_0x25388a(0x24d)]+'\x20('+this[_0x25388a(0x79f)]['wuid']+_0x25388a(0x43e));}}catch(_0x2f2279){let _0x4d29c3={'error':!0x0,'errorLog':_0x2f2279[_0x25388a(0x58a)]()};this['updateConversation'](_0x45120c,_0x37646e,_0x4d29c3),this[_0x25388a(0x263)][_0x25388a(0x7ba)](this[_0x25388a(0x24d)]+'\x20('+this[_0x25388a(0x79f)][_0x25388a(0x193)]+_0x25388a(0x40f)+(_0x2f2279 instanceof Error?_0x2f2279[_0x25388a(0x555)]:JSON['stringify'](_0x2f2279,null,0x2)));}}async[a0_0x26c870(0x321)](_0x13916e,_0x5bb9cf){const _0xdc9fc0=a0_0x26c870;let _0x53b5ff=_0x13916e[_0xdc9fc0(0x489)];_0x5bb9cf[_0xdc9fc0(0x88e)][_0xdc9fc0(0x489)]&&_0x5bb9cf[_0xdc9fc0(0x88e)][_0xdc9fc0(0x489)][_0xdc9fc0(0x3a7)]()!==''&&(_0x53b5ff=_0x5bb9cf[_0xdc9fc0(0x88e)]['remoteJid']['trim']()),this['logger'][_0xdc9fc0(0x69d)](this['instanceName']+'\x20('+this[_0xdc9fc0(0x79f)][_0xdc9fc0(0x193)]+_0xdc9fc0(0x234));let _0x32df41={'number':_0x53b5ff,'options':{'delay':_0x5bb9cf[_0xdc9fc0(0x88e)][_0xdc9fc0(0x89a)],'linkPreview':_0x5bb9cf[_0xdc9fc0(0x88e)][_0xdc9fc0(0x68f)]},'mediaMessage':{'mediatype':_0x5bb9cf[_0xdc9fc0(0x88e)]['mediatype'],'caption':_0x5bb9cf[_0xdc9fc0(0x88e)][_0xdc9fc0(0x741)],'media':_0x5bb9cf['uazapi'][_0xdc9fc0(0x1bd)],'fileName':_0x5bb9cf[_0xdc9fc0(0x88e)]['fileName']}};try{let _0x1c1232=await this[_0xdc9fc0(0x748)](_0x32df41);if(_0x1c1232){let _0x2cc0b7={'_id':_0x1c1232[_0xdc9fc0(0x8f1)]['id'],'_fromMe':_0x1c1232[_0xdc9fc0(0x8f1)][_0xdc9fc0(0x549)],'_remoteJid':_0x1c1232[_0xdc9fc0(0x8f1)][_0xdc9fc0(0x489)]},_0x17748d=(0x0,w[_0xdc9fc0(0x326)])(_0x1c1232[_0xdc9fc0(0x555)]),_0xcd8141=(0x0,w[_0xdc9fc0(0x37c)])(_0x17748d);_0x13916e[_0xdc9fc0(0x7e0)]['lastBlockId']=_0x5bb9cf[_0xdc9fc0(0x3fa)][_0xdc9fc0(0x58a)]();let {message_normalized:_0x5b7a3d}=this['normalizeMessage'](_0x17748d,_0xcd8141,null);_0x13916e[_0xdc9fc0(0x7e0)][_0xdc9fc0(0x76e)]=await _0x5b7a3d;let _0x312302={'messageId':_0x1c1232['key']['id']},_0x443c06=_0x13916e['chatLog'][_0xdc9fc0(0x795)];Object['assign'](_0x443c06,_0x2cc0b7),_0x13916e[_0xdc9fc0(0x7e0)]['realVariables']=_0x443c06,this[_0xdc9fc0(0x840)](_0x13916e,_0x5bb9cf,_0x312302);}else{let _0x56914b={'error':!0x0};this[_0xdc9fc0(0x840)](_0x13916e,_0x5bb9cf,_0x56914b),this[_0xdc9fc0(0x263)][_0xdc9fc0(0x7ba)](this['instanceName']+'\x20('+this[_0xdc9fc0(0x79f)][_0xdc9fc0(0x193)]+_0xdc9fc0(0x6f3));}}catch(_0xe50388){let _0x532a0b={'error':!0x0,'errorLog':_0xe50388['toString']()};this[_0xdc9fc0(0x840)](_0x13916e,_0x5bb9cf,_0x532a0b),this[_0xdc9fc0(0x263)]['error'](this[_0xdc9fc0(0x24d)]+'\x20('+this[_0xdc9fc0(0x79f)]['wuid']+_0xdc9fc0(0x4cf)+(_0xe50388 instanceof Error?_0xe50388[_0xdc9fc0(0x555)]:JSON['stringify'](_0xe50388,null,0x2)));}}async[a0_0x26c870(0x488)](_0x41171c,_0x239a57){const _0x3a2adf=a0_0x26c870;let _0x143633=_0x41171c['remoteJid'];_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x489)]&&_0x239a57[_0x3a2adf(0x88e)]['remoteJid'][_0x3a2adf(0x3a7)]()!==''&&(_0x143633=_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x489)][_0x3a2adf(0x3a7)]()),this[_0x3a2adf(0x263)][_0x3a2adf(0x69d)](this[_0x3a2adf(0x24d)]+'\x20('+this[_0x3a2adf(0x79f)]['wuid']+_0x3a2adf(0x42f));let _0x11fe4f={'number':_0x143633,'options':{'delay':_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x89a)]},'locationMessage':{'name':_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x5fa)],'address':_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x205)],'latitude':_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x657)],'longitude':_0x239a57[_0x3a2adf(0x88e)][_0x3a2adf(0x29b)]}};try{let _0x4dcf77=await this[_0x3a2adf(0x7f2)](_0x11fe4f);if(_0x4dcf77){let _0x42fd98={'_id':_0x4dcf77[_0x3a2adf(0x8f1)]['id'],'_fromMe':_0x4dcf77[_0x3a2adf(0x8f1)][_0x3a2adf(0x549)],'_remoteJid':_0x4dcf77['key']['remoteJid']},_0x1fdd06=(0x0,w[_0x3a2adf(0x326)])(_0x4dcf77['message']),_0x2530c7=(0x0,w[_0x3a2adf(0x37c)])(_0x1fdd06);_0x41171c['chatLog'][_0x3a2adf(0x5b1)]=_0x239a57[_0x3a2adf(0x3fa)][_0x3a2adf(0x58a)]();let {message_normalized:_0x2f1593}=this['normalizeMessage'](_0x1fdd06,_0x2530c7,null);_0x41171c[_0x3a2adf(0x7e0)][_0x3a2adf(0x76e)]=await _0x2f1593;let _0x547e98={'messageId':_0x4dcf77[_0x3a2adf(0x8f1)]['id']},_0x9d49ed=_0x41171c['chatLog'][_0x3a2adf(0x795)];Object[_0x3a2adf(0x2ee)](_0x9d49ed,_0x42fd98),_0x41171c[_0x3a2adf(0x7e0)][_0x3a2adf(0x795)]=_0x9d49ed,this['updateConversation'](_0x41171c,_0x239a57,_0x547e98);}else{let _0x5a5119={'error':!0x0};this[_0x3a2adf(0x840)](_0x41171c,_0x239a57,_0x5a5119),this[_0x3a2adf(0x263)][_0x3a2adf(0x7ba)](this[_0x3a2adf(0x24d)]+'\x20('+this[_0x3a2adf(0x79f)][_0x3a2adf(0x193)]+_0x3a2adf(0x8bf));}}catch(_0x2573c6){let _0x56b2d8={'error':!0x0,'errorLog':_0x2573c6[_0x3a2adf(0x58a)]()};this['updateConversation'](_0x41171c,_0x239a57,_0x56b2d8),this[_0x3a2adf(0x263)]['error'](this['instanceName']+'\x20('+this[_0x3a2adf(0x79f)]['wuid']+_0x3a2adf(0x570)+(_0x2573c6 instanceof Error?_0x2573c6[_0x3a2adf(0x555)]:JSON['stringify'](_0x2573c6,null,0x2)));}}async[a0_0x26c870(0x7ed)](_0x27c81a,_0x47feda){const _0x379f12=a0_0x26c870;let _0x43cf3a=_0x27c81a[_0x379f12(0x489)];_0x47feda[_0x379f12(0x88e)][_0x379f12(0x489)]&&_0x47feda[_0x379f12(0x88e)][_0x379f12(0x489)][_0x379f12(0x3a7)]()!==''&&(_0x43cf3a=_0x47feda[_0x379f12(0x88e)][_0x379f12(0x489)]['trim']()),this[_0x379f12(0x263)][_0x379f12(0x69d)](this[_0x379f12(0x24d)]+'\x20('+this[_0x379f12(0x79f)][_0x379f12(0x193)]+'):\x20Enviando\x20áudio');let _0x3875aa={'number':_0x43cf3a,'options':{'delay':_0x47feda[_0x379f12(0x88e)]['delay']},'audioMessage':{'audio':_0x47feda[_0x379f12(0x88e)][_0x379f12(0x7a7)]}};try{let _0x368c69=await this['audioWhatsapp'](_0x3875aa);if(_0x368c69){let _0x5c83b0={'_id':_0x368c69['key']['id'],'_fromMe':_0x368c69['key'][_0x379f12(0x549)],'_remoteJid':_0x368c69[_0x379f12(0x8f1)]['remoteJid']},_0x508870=(0x0,w[_0x379f12(0x326)])(_0x368c69[_0x379f12(0x555)]),_0x5a4fdf=(0x0,w['getContentType'])(_0x508870);_0x27c81a[_0x379f12(0x7e0)][_0x379f12(0x5b1)]=_0x47feda['_id'][_0x379f12(0x58a)]();let {message_normalized:_0xd03a8a}=this['normalizeMessage'](_0x508870,_0x5a4fdf,null);_0x27c81a[_0x379f12(0x7e0)][_0x379f12(0x76e)]=await _0xd03a8a;let _0x32a804={'messageId':_0x368c69[_0x379f12(0x8f1)]['id']},_0x1ef9e5=_0x27c81a[_0x379f12(0x7e0)][_0x379f12(0x795)];Object['assign'](_0x1ef9e5,_0x5c83b0),_0x27c81a[_0x379f12(0x7e0)]['realVariables']=_0x1ef9e5,this[_0x379f12(0x840)](_0x27c81a,_0x47feda,_0x32a804);}else{let _0x4f3ece={'error':!0x0};this['updateConversation'](_0x27c81a,_0x47feda,_0x4f3ece),this['logger'][_0x379f12(0x7ba)](this[_0x379f12(0x24d)]+'\x20('+this[_0x379f12(0x79f)][_0x379f12(0x193)]+_0x379f12(0x2d9));}}catch(_0x352b4e){let _0x4fcc46={'error':!0x0,'errorLog':_0x352b4e['toString']()};this[_0x379f12(0x840)](_0x27c81a,_0x47feda,_0x4fcc46),this[_0x379f12(0x263)]['error'](this[_0x379f12(0x24d)]+'\x20('+this['instance'][_0x379f12(0x193)]+_0x379f12(0x4e7)+(_0x352b4e instanceof Error?_0x352b4e[_0x379f12(0x555)]:JSON['stringify'](_0x352b4e,null,0x2)));}}async[a0_0x26c870(0x610)](_0x3cbf55,_0x22b01b){const _0x359db9=a0_0x26c870;let _0x841041=_0x3cbf55[_0x359db9(0x489)];_0x22b01b[_0x359db9(0x88e)][_0x359db9(0x489)]&&_0x22b01b[_0x359db9(0x88e)][_0x359db9(0x489)][_0x359db9(0x3a7)]()!==''&&(_0x841041=_0x22b01b[_0x359db9(0x88e)][_0x359db9(0x489)][_0x359db9(0x3a7)]()),this[_0x359db9(0x263)][_0x359db9(0x69d)](this[_0x359db9(0x24d)]+'\x20('+this[_0x359db9(0x79f)]['wuid']+_0x359db9(0x55f));let _0x58f5c9={'number':_0x841041,'options':{'delay':_0x22b01b[_0x359db9(0x88e)][_0x359db9(0x89a)]},'contactMessage':[{'fullName':_0x22b01b[_0x359db9(0x88e)][_0x359db9(0x3ad)],'phoneNumber':_0x22b01b['uazapi']['phoneNumber']}]};try{let _0x2b5745=await this[_0x359db9(0x6b5)](_0x58f5c9);if(_0x2b5745){let _0x19aaa9={'_id':_0x2b5745[_0x359db9(0x8f1)]['id'],'_fromMe':_0x2b5745['key'][_0x359db9(0x549)],'_remoteJid':_0x2b5745[_0x359db9(0x8f1)][_0x359db9(0x489)]},_0x37f0eb=(0x0,w['normalizeMessageContent'])(_0x2b5745[_0x359db9(0x555)]),_0x58881f=(0x0,w['getContentType'])(_0x37f0eb);_0x3cbf55['chatLog'][_0x359db9(0x5b1)]=_0x22b01b['_id'][_0x359db9(0x58a)]();let {message_normalized:_0x20111f}=this[_0x359db9(0x554)](_0x37f0eb,_0x58881f,null);_0x3cbf55[_0x359db9(0x7e0)]['lastSendMessage']=await _0x20111f;let _0x354449={'messageId':_0x2b5745['key']['id']},_0x3d8228=_0x3cbf55[_0x359db9(0x7e0)]['realVariables'];Object['assign'](_0x3d8228,_0x19aaa9),_0x3cbf55[_0x359db9(0x7e0)][_0x359db9(0x795)]=_0x3d8228,this['updateConversation'](_0x3cbf55,_0x22b01b,_0x354449);}else{let _0x14483e={'error':!0x0};this[_0x359db9(0x840)](_0x3cbf55,_0x22b01b,_0x14483e),this[_0x359db9(0x263)][_0x359db9(0x7ba)](this[_0x359db9(0x24d)]+'\x20('+this[_0x359db9(0x79f)][_0x359db9(0x193)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x314172){let _0x51f250={'error':!0x0,'errorLog':_0x314172[_0x359db9(0x58a)]()};this[_0x359db9(0x840)](_0x3cbf55,_0x22b01b,_0x51f250),this[_0x359db9(0x263)][_0x359db9(0x7ba)](this[_0x359db9(0x24d)]+'\x20('+this[_0x359db9(0x79f)][_0x359db9(0x193)]+_0x359db9(0x7dc)+(_0x314172 instanceof Error?_0x314172[_0x359db9(0x555)]:JSON[_0x359db9(0x2c2)](_0x314172,null,0x2)));}}[a0_0x26c870(0x6c3)](_0x30a911,_0x37446c){const _0x38f431=a0_0x26c870;for(let _0x42cdf6 of _0x30a911)_0x42cdf6[_0x38f431(0x198)]&&(_0x42cdf6[_0x38f431(0x198)]=this[_0x38f431(0x5cd)](_0x42cdf6[_0x38f431(0x198)],_0x37446c)),_0x42cdf6[_0x38f431(0x816)]&&(_0x42cdf6[_0x38f431(0x816)]=this[_0x38f431(0x5cd)](_0x42cdf6[_0x38f431(0x816)],_0x37446c));}async['uazapiSendMenu'](_0x52ff05,_0x835ffe){const _0x333015=a0_0x26c870;let _0x52b0a3=_0x52ff05['remoteJid'];_0x835ffe[_0x333015(0x88e)][_0x333015(0x489)]&&_0x835ffe[_0x333015(0x88e)][_0x333015(0x489)]['trim']()!==''&&(_0x52b0a3=_0x835ffe[_0x333015(0x88e)][_0x333015(0x489)][_0x333015(0x3a7)]()),this['logger']['verbose'](this[_0x333015(0x24d)]+'\x20('+this[_0x333015(0x79f)][_0x333015(0x193)]+_0x333015(0x246));let _0x1c028f=_0x52ff05['replyOptions'][_0x333015(0x2b4)](_0x3684f0=>_0x3684f0['blockId']===_0x835ffe[_0x333015(0x3fa)])[_0x333015(0x4be)]((_0x2dc5a8,_0x40051b)=>_0x2dc5a8[_0x333015(0x5f8)]-_0x40051b[_0x333015(0x5f8)]);this[_0x333015(0x6c3)](_0x1c028f,_0x52ff05[_0x333015(0x7e0)][_0x333015(0x795)]);let _0x4e8a3a=_0x1c028f[_0x333015(0x27c)](_0x30b7ba=>_0x30b7ba['option']),_0x5f25a4={'number':_0x52b0a3,'menuMessage':{'type':_0x835ffe['uazapi']['menuType']||_0x333015(0x470),'text':_0x835ffe[_0x333015(0x88e)][_0x333015(0x529)]||_0x835ffe[_0x333015(0x88e)][_0x333015(0x5fa)],'footerText':_0x835ffe[_0x333015(0x88e)]['footerText'],'buttonText':_0x835ffe[_0x333015(0x88e)][_0x333015(0x69e)],'selectableCount':0x1,'choices':_0x4e8a3a},'options':{'delay':_0x835ffe[_0x333015(0x88e)][_0x333015(0x89a)]}};try{let _0x7112dd=await this['menuMessage'](_0x5f25a4);if(_0x7112dd){let _0x257990={'_id':_0x7112dd['key']['id'],'_fromMe':_0x7112dd[_0x333015(0x8f1)][_0x333015(0x549)],'_remoteJid':_0x7112dd[_0x333015(0x8f1)][_0x333015(0x489)]};_0x835ffe[_0x333015(0x88e)][_0x333015(0x1d0)]===!0x0&&(_0x52ff05[_0x333015(0x284)]=_0x333015(0x857),this[_0x333015(0x263)][_0x333015(0x69d)](this[_0x333015(0x24d)]+'\x20('+this[_0x333015(0x79f)][_0x333015(0x193)]+_0x333015(0x8c5)+_0x52ff05[_0x333015(0x284)])),this['logger'][_0x333015(0x69d)](this[_0x333015(0x24d)]+'\x20('+this[_0x333015(0x79f)][_0x333015(0x193)]+_0x333015(0x77d)+(_0x835ffe[_0x333015(0x88e)]['name']||_0x835ffe[_0x333015(0x88e)][_0x333015(0x529)])),_0x52ff05['waitingMenu_id']=_0x7112dd[_0x333015(0x8f1)]['id'],_0x52ff05[_0x333015(0x5c1)]=_0x835ffe[_0x333015(0x88e)][_0x333015(0x5fa)]||_0x835ffe[_0x333015(0x88e)]['text'],_0x52ff05['waitingMenu_replyOptions']=_0x1c028f,_0x835ffe[_0x333015(0x88e)][_0x333015(0x5eb)]&&(_0x52ff05[_0x333015(0x8b3)]=_0x835ffe[_0x333015(0x88e)][_0x333015(0x5eb)]),this[_0x333015(0x263)][_0x333015(0x69d)](this['instanceName']+'\x20('+this[_0x333015(0x79f)]['wuid']+_0x333015(0x472)+_0x52ff05[_0x333015(0x5c1)]);let _0x4c7d3c=(0x0,w[_0x333015(0x326)])(_0x7112dd[_0x333015(0x555)]),_0x40d32b=(0x0,w['getContentType'])(_0x4c7d3c);_0x52ff05['chatLog'][_0x333015(0x5b1)]=_0x835ffe[_0x333015(0x3fa)][_0x333015(0x58a)]();let {message_normalized:_0x20fd59}=this[_0x333015(0x554)](_0x4c7d3c,_0x40d32b,null);_0x52ff05['chatLog'][_0x333015(0x76e)]=await _0x20fd59;let _0x3ceb02={'messageId':_0x7112dd['key']['id']},_0x3a61b4=_0x52ff05[_0x333015(0x7e0)][_0x333015(0x795)];Object[_0x333015(0x2ee)](_0x3a61b4,_0x257990),_0x52ff05['chatLog'][_0x333015(0x795)]=_0x3a61b4,this[_0x333015(0x840)](_0x52ff05,_0x835ffe,_0x3ceb02);}else{let _0x4c7410={'error':!0x0};this[_0x333015(0x840)](_0x52ff05,_0x835ffe,_0x4c7410),this['logger'][_0x333015(0x7ba)](this[_0x333015(0x24d)]+'\x20('+this[_0x333015(0x79f)][_0x333015(0x193)]+_0x333015(0x3d0));}}catch(_0x3277d2){let _0x3d7ba9={'error':!0x0,'errorLog':_0x3277d2 instanceof Error?_0x3277d2['message']:JSON['stringify'](_0x3277d2,null,0x2)};this[_0x333015(0x840)](_0x52ff05,_0x835ffe,_0x3d7ba9),this['logger'][_0x333015(0x7ba)](this[_0x333015(0x24d)]+'\x20('+this[_0x333015(0x79f)][_0x333015(0x193)]+_0x333015(0x558)+(_0x3277d2 instanceof Error?_0x3277d2['message']:JSON[_0x333015(0x2c2)](_0x3277d2,null,0x2)));}}async[a0_0x26c870(0x2cd)](_0x18c36a,_0x296507){const _0x61d3d5=a0_0x26c870;this[_0x61d3d5(0x263)]['verbose'](this[_0x61d3d5(0x24d)]+'\x20('+this[_0x61d3d5(0x79f)][_0x61d3d5(0x193)]+_0x61d3d5(0x5b3));let _0x42b164=_0x18c36a[_0x61d3d5(0x7e0)][_0x61d3d5(0x341)][_0x61d3d5(0x82c)](_0x587d36=>_0x587d36[_0x61d3d5(0x6f9)][_0x61d3d5(0x58a)]()===_0x296507[_0x61d3d5(0x88e)][_0x61d3d5(0x6f9)][_0x61d3d5(0x58a)]()),_0x38080b={'id':_0x42b164['messageId'],'remoteJid':_0x42b164[_0x61d3d5(0x489)],'fromMe':_0x42b164[_0x61d3d5(0x549)]};try{let _0x59b6b0=await this[_0x61d3d5(0x5e3)](_0x38080b);if(_0x59b6b0){let _0x2e9ac1=(0x0,w[_0x61d3d5(0x326)])(_0x59b6b0[_0x61d3d5(0x555)]),_0x2e25ef=(0x0,w['getContentType'])(_0x2e9ac1);_0x18c36a[_0x61d3d5(0x7e0)][_0x61d3d5(0x5b1)]=_0x296507[_0x61d3d5(0x3fa)][_0x61d3d5(0x58a)]();let {message_normalized:_0x3a99d7}=this['normalizeMessage'](_0x2e9ac1,_0x2e25ef,null);_0x18c36a[_0x61d3d5(0x7e0)][_0x61d3d5(0x76e)]=await _0x3a99d7;let _0x16b68b={};this['updateConversation'](_0x18c36a,_0x296507,_0x16b68b);}else{let _0xb0ecb8={'error':!0x0};this[_0x61d3d5(0x840)](_0x18c36a,_0x296507,_0xb0ecb8),this['logger'][_0x61d3d5(0x7ba)](this[_0x61d3d5(0x24d)]+'\x20('+this[_0x61d3d5(0x79f)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x4daabf){let _0x58d82a={'error':!0x0,'errorLog':_0x4daabf instanceof Error?_0x4daabf['message']:JSON[_0x61d3d5(0x2c2)](_0x4daabf,null,0x2)};this['updateConversation'](_0x18c36a,_0x296507,_0x58d82a),this[_0x61d3d5(0x263)][_0x61d3d5(0x7ba)](this['instanceName']+'\x20('+this[_0x61d3d5(0x79f)][_0x61d3d5(0x193)]+_0x61d3d5(0x890)+(_0x4daabf instanceof Error?_0x4daabf[_0x61d3d5(0x555)]:JSON['stringify'](_0x4daabf,null,0x2)));}}async[a0_0x26c870(0x1d6)](_0xc9a68c,_0x4cec03){const _0x589f31=a0_0x26c870;if(_0xc9a68c['name']||(_0xc9a68c['name']=(0x0,Q['v4'])()),_0x4cec03!==Oi&&_0xc9a68c?.[_0x589f31(0x547)])throw new m(_0x589f31(0x2e7));if(_0x589f31(0x3fa)in _0xc9a68c&&_0x589f31(0x676)in _0xc9a68c)return this['AddUserFlow'](_0xc9a68c[_0x589f31(0x676)],_0xc9a68c['_id']);this['logger'][_0x589f31(0x69d)](this[_0x589f31(0x24d)]+'\x20('+this[_0x589f31(0x79f)][_0x589f31(0x193)]+_0x589f31(0x910));let _0x12f797=this[_0x589f31(0x5ff)](_0xc9a68c['name']),_0x1dc166=new he[(_0x589f31(0x500))]['ObjectId'](),_0x1e9e5e={'_id':_0x1dc166,'default':!0x0,'title':_0x589f31(0x401),'x':0x0,'y':0x0},_0x1eadab={'_id':new he[(_0x589f31(0x500))]['ObjectId'](),'order':0x1,'groupId':_0x1dc166[_0x589f31(0x58a)](),'type':'start'},_0x536e44=this[_0x589f31(0x79f)][_0x589f31(0x193)],_0x12bc80={'_id':(0x0,Q['v4'])(),'owner':_0x536e44,'name':_0x12f797,'whoCanEdit':[_0x536e44],'whoCanUse':[_0x536e44],'groups':[_0x1e9e5e],'blocks':[_0x1eadab],..._0xc9a68c};try{let _0xdab0fc=await this[_0x589f31(0x252)]['flow']['createAndSave'](_0x12bc80);return await this[_0x589f31(0x915)](),_0xdab0fc;}catch(_0x1ad1aa){let _0x168e11='Erro\x20ao\x20criar\x20fluxo',_0x515cf4=_0x1ad1aa instanceof Error?_0x1ad1aa[_0x589f31(0x555)]:typeof _0x1ad1aa==_0x589f31(0x408)?JSON[_0x589f31(0x2c2)](_0x1ad1aa):_0x1ad1aa,_0x35ac78=_0x168e11+':\x20'+_0x515cf4;throw this['logger'][_0x589f31(0x7ba)](this[_0x589f31(0x24d)]+'\x20('+this['instance']['wuid']+_0x589f31(0x60e)+_0x35ac78),new m(_0x35ac78);}}async[a0_0x26c870(0x72a)](_0x2b6e9a,_0x5e73a6){const _0x1282a9=a0_0x26c870;try{this[_0x1282a9(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x1282a9(0x79f)]['wuid']+_0x1282a9(0x1e5));let _0x299da9=await this['repository'][_0x1282a9(0x654)][_0x1282a9(0x74c)]({'where':{'_id':_0x5e73a6,'owner':_0x2b6e9a}});if(!_0x299da9)throw new m(_0x1282a9(0x46e));if(_0x299da9['shareFlow']===!0x1&&!_0x299da9[_0x1282a9(0x547)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x930a4c=new Set(_0x299da9[_0x1282a9(0x1d5)]??[]);_0x930a4c[_0x1282a9(0x1c4)](this[_0x1282a9(0x79f)][_0x1282a9(0x193)]);let _0x150ce3=await this[_0x1282a9(0x252)]['flow'][_0x1282a9(0x5f5)](_0x5e73a6,{..._0x299da9,'whoCanUse':Array[_0x1282a9(0x556)](_0x930a4c)});return await this[_0x1282a9(0x915)](),_0x150ce3;}catch(_0x3a513f){let _0x41c185='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x400074=_0x3a513f instanceof Error?_0x3a513f[_0x1282a9(0x555)]:typeof _0x3a513f==_0x1282a9(0x408)?JSON[_0x1282a9(0x2c2)](_0x3a513f):_0x3a513f,_0x12b8e8=_0x41c185+':\x20'+_0x400074;throw this[_0x1282a9(0x263)][_0x1282a9(0x7ba)](this['instanceName']+'\x20('+this[_0x1282a9(0x79f)][_0x1282a9(0x193)]+_0x1282a9(0x60e)+_0x12b8e8),new m(_0x12b8e8);}}[a0_0x26c870(0x5ff)](_0x2f6aac){const _0x1d67e4=a0_0x26c870;let _0x1b72b5=_0x2f6aac,_0x37e03c=0x1;for(;this[_0x1d67e4(0x6bb)][_0x1d67e4(0x257)][_0x1d67e4(0x441)](_0x45e524=>_0x45e524[_0x1d67e4(0x5fa)]===_0x1b72b5);)_0x37e03c++,_0x1b72b5=_0x2f6aac+'\x20('+_0x37e03c+')';return _0x1b72b5;}async[a0_0x26c870(0x2ab)](_0x397ac6){const _0x21ebf6=a0_0x26c870;try{if(this[_0x21ebf6(0x263)][_0x21ebf6(0x69d)](this[_0x21ebf6(0x24d)]+'\x20('+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x397ac6[_0x21ebf6(0x3fa)]+_0x21ebf6(0x690)+_0x397ac6[_0x21ebf6(0x2e1)]),!this[_0x21ebf6(0x6bb)][_0x21ebf6(0x257)][_0x21ebf6(0x82c)](_0x45623c=>_0x45623c['_id']===_0x397ac6['_id']))throw this[_0x21ebf6(0x263)][_0x21ebf6(0x69d)](this[_0x21ebf6(0x24d)]+'\x20('+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+_0x21ebf6(0x6b1)+_0x397ac6[_0x21ebf6(0x3fa)]+_0x21ebf6(0x8d8)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4bea5d=await this[_0x21ebf6(0x252)]['flow'][_0x21ebf6(0x74c)]({'where':{'_id':_0x397ac6[_0x21ebf6(0x3fa)]}});if(!_0x4bea5d)throw new m(_0x21ebf6(0x6b6));if(this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]===_0x4bea5d[_0x21ebf6(0x676)]){this[_0x21ebf6(0x263)]['verbose'](this[_0x21ebf6(0x24d)]+'\x20('+this['instance'][_0x21ebf6(0x193)]+_0x21ebf6(0x7cb)+_0x397ac6[_0x21ebf6(0x3fa)]+_0x21ebf6(0x46c));let _0x9a5577=await this[_0x21ebf6(0x252)]['flow'][_0x21ebf6(0x4da)]({'where':{'_id':_0x397ac6[_0x21ebf6(0x3fa)]}});return await this[_0x21ebf6(0x915)](),_0x9a5577;}return this[_0x21ebf6(0x263)][_0x21ebf6(0x69d)](this[_0x21ebf6(0x24d)]+'\x20('+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+_0x21ebf6(0x713)+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+_0x21ebf6(0x19a)+_0x397ac6[_0x21ebf6(0x3fa)]+_0x21ebf6(0x892)),_0x4bea5d['whoCanUse']=(_0x4bea5d[_0x21ebf6(0x1d5)]??[])[_0x21ebf6(0x2b4)](_0x231ffc=>_0x231ffc!==this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]),_0x4bea5d[_0x21ebf6(0x2f2)]=(_0x4bea5d['whoCanEdit']??[])['filter'](_0x1ae3ec=>_0x1ae3ec!==this['instance']['wuid']),_0x4bea5d[_0x21ebf6(0x2f2)][_0x21ebf6(0x2df)]===0x0&&_0x4bea5d[_0x21ebf6(0x1d5)][_0x21ebf6(0x2df)]>0x0&&(_0x4bea5d[_0x21ebf6(0x2f2)][_0x21ebf6(0x48e)](_0x4bea5d[_0x21ebf6(0x1d5)][0x0]),this['logger'][_0x21ebf6(0x69d)](this[_0x21ebf6(0x24d)]+'\x20('+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+'):\x20Adicionando\x20\x27'+_0x4bea5d[_0x21ebf6(0x1d5)][0x0]+_0x21ebf6(0x83c)+_0x397ac6['_id']+_0x21ebf6(0x892))),await this[_0x21ebf6(0x252)][_0x21ebf6(0x654)][_0x21ebf6(0x5f5)](_0x4bea5d[_0x21ebf6(0x3fa)],_0x4bea5d),await this[_0x21ebf6(0x915)](),{'message':_0x21ebf6(0x540)+_0x397ac6[_0x21ebf6(0x5fa)]+_0x21ebf6(0x917)};}catch(_0x23131c){return this[_0x21ebf6(0x263)][_0x21ebf6(0x7ba)](this[_0x21ebf6(0x24d)]+'\x20('+this[_0x21ebf6(0x79f)][_0x21ebf6(0x193)]+_0x21ebf6(0x1d7)+(_0x23131c instanceof Error?_0x23131c[_0x21ebf6(0x555)]:JSON['stringify'](_0x23131c,null,0x2))),{'message':_0x21ebf6(0x8b6)+(_0x23131c instanceof Error?_0x23131c[_0x21ebf6(0x555)]:JSON['stringify'](_0x23131c,null,0x2))};}}async['getFlow'](_0x5c3ec6){const _0x13e6d8=a0_0x26c870;try{if(this['logger'][_0x13e6d8(0x797)](this[_0x13e6d8(0x24d)]+'\x20('+this[_0x13e6d8(0x79f)][_0x13e6d8(0x193)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x5c3ec6),!this[_0x13e6d8(0x6bb)]&&(await this[_0x13e6d8(0x791)](),!this[_0x13e6d8(0x6bb)]))return null;let _0x18b49f=await this[_0x13e6d8(0x252)]['flow'][_0x13e6d8(0x74c)]({'where':{'_id':_0x5c3ec6}});if(!_0x18b49f)throw new m('Fluxo\x20id\x20\x27'+_0x5c3ec6+_0x13e6d8(0x5e4));if(!(_0x18b49f['globalShow']||_0x18b49f['whoCanUse']?.[_0x13e6d8(0x7bc)](this[_0x13e6d8(0x79f)][_0x13e6d8(0x193)])))throw new m(_0x13e6d8(0x4bc)+name+'\x27');_0x18b49f[_0x13e6d8(0x547)]&&!_0x18b49f[_0x13e6d8(0x1d5)]?.[_0x13e6d8(0x7bc)](this[_0x13e6d8(0x79f)][_0x13e6d8(0x193)])&&(_0x18b49f[_0x13e6d8(0x1d5)]=[..._0x18b49f[_0x13e6d8(0x1d5)]??[],this[_0x13e6d8(0x79f)][_0x13e6d8(0x193)]],await this['repository'][_0x13e6d8(0x654)][_0x13e6d8(0x5f5)](_0x18b49f[_0x13e6d8(0x3fa)],_0x18b49f),this[_0x13e6d8(0x915)]());let _0x4d6799=this[_0x13e6d8(0x6bb)]?.[_0x13e6d8(0x454)][_0x13e6d8(0x27c)](_0x583b4d=>_0x583b4d[_0x13e6d8(0x5fa)]),_0x875d8e=[_0x13e6d8(0x537),'nomecompleto',_0x13e6d8(0x53a),_0x13e6d8(0x90e),_0x13e6d8(0x284),'notas','responsavelid',_0x13e6d8(0x6b2),_0x13e6d8(0x71c),_0x13e6d8(0x538),_0x13e6d8(0x50b)];_0x18b49f['variables']=_0x18b49f['variables'][_0x13e6d8(0x2b4)](_0x2c9e35=>!(_0x2c9e35[_0x13e6d8(0x4b6)]===_0x13e6d8(0x6f8)||_0x2c9e35[_0x13e6d8(0x6f8)])),_0x875d8e['forEach'](_0x37111=>{const _0x246915=_0x13e6d8;_0x18b49f['variables'][_0x246915(0x48e)]({'folder':'leadInfo','name':_0x37111,'value':'','doc':'','leadInfo':!0x0});}),_0x4d6799[_0x13e6d8(0x526)](_0x5821e3=>{const _0x26e806=_0x13e6d8;let _0x725b61=_0x18b49f[_0x26e806(0x652)]['findIndex'](_0x4de30c=>_0x4de30c[_0x26e806(0x5fa)]===_0x5821e3);_0x725b61===-0x1?_0x18b49f[_0x26e806(0x652)][_0x26e806(0x48e)]({'folder':_0x26e806(0x6f8),'name':_0x5821e3,'value':'','doc':'','leadInfo':!0x0}):(_0x18b49f[_0x26e806(0x652)][_0x725b61][_0x26e806(0x4b6)]=_0x26e806(0x6f8),_0x18b49f[_0x26e806(0x652)][_0x725b61][_0x26e806(0x6f8)]=!0x0);}),_0x18b49f[_0x13e6d8(0x44c)]&&_0x18b49f[_0x13e6d8(0x44c)][_0x13e6d8(0x2df)]>0x0&&_0x18b49f[_0x13e6d8(0x44c)]['forEach'](_0x3de6b4=>{const _0x533cba=_0x13e6d8;_0x3de6b4[_0x533cba(0x355)]&&_0x3de6b4[_0x533cba(0x30a)]&&_0x3de6b4['groupId']===_0x3de6b4[_0x533cba(0x30a)]&&(_0x3de6b4[_0x533cba(0x30a)]=null);});let _0x4ddca0=await this[_0x13e6d8(0x252)][_0x13e6d8(0x654)]['updateOne'](_0x18b49f['_id'],_0x18b49f);if(!_0x4ddca0)throw new Error(_0x13e6d8(0x2e6));return _0x4ddca0;}catch(_0x53e8c8){let _0x54fbdd='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x2a053f=_0x53e8c8 instanceof Error?_0x53e8c8[_0x13e6d8(0x555)]:typeof _0x53e8c8==_0x13e6d8(0x408)?JSON['stringify'](_0x53e8c8):_0x53e8c8,_0x522bf6=_0x54fbdd+':\x20'+_0x2a053f;throw this['logger'][_0x13e6d8(0x7ba)](this[_0x13e6d8(0x24d)]+'\x20('+this[_0x13e6d8(0x79f)][_0x13e6d8(0x193)]+'):\x20'+_0x522bf6),new m(_0x522bf6);}}async['allFlows'](){const _0x4351ef=a0_0x26c870;try{this['logger'][_0x4351ef(0x69d)](this[_0x4351ef(0x24d)]+'\x20('+this[_0x4351ef(0x79f)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x4351ef(0x915)]();let _0x22e430=await this[_0x4351ef(0x252)]['flow']['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x4351ef(0x6bb)]['flows'],..._0x22e430];}catch(_0x468ff8){return this[_0x4351ef(0x263)][_0x4351ef(0x7ba)](this['instanceName']+'\x20('+this[_0x4351ef(0x79f)][_0x4351ef(0x193)]+_0x4351ef(0x3c2)+(_0x468ff8 instanceof Error?_0x468ff8[_0x4351ef(0x555)]:JSON['stringify'](_0x468ff8,null,0x2))),{'message':_0x4351ef(0x474)+(_0x468ff8 instanceof Error?_0x468ff8[_0x4351ef(0x555)]:String(_0x468ff8))};}}async[a0_0x26c870(0x661)](_0x519b47,_0x4c6e84){const _0x21dc43=a0_0x26c870;try{this['logger'][_0x21dc43(0x69d)](this[_0x21dc43(0x24d)]+'\x20('+this[_0x21dc43(0x79f)]['wuid']+_0x21dc43(0x946));let _0x12bf7b=this['AutomateSystem'][_0x21dc43(0x257)][_0x21dc43(0x82c)](_0x2607bd=>_0x2607bd[_0x21dc43(0x3fa)]===_0x519b47['_id']);if(!_0x12bf7b)throw this[_0x21dc43(0x263)][_0x21dc43(0x69d)](this[_0x21dc43(0x24d)]+'\x20('+this[_0x21dc43(0x79f)][_0x21dc43(0x193)]+_0x21dc43(0x6b1)+_0x519b47['_id']+_0x21dc43(0x8d8)),new m(_0x21dc43(0x33f));let _0x597a2a=await this['repository'][_0x21dc43(0x654)][_0x21dc43(0x74c)]({'where':{'_id':_0x519b47[_0x21dc43(0x3fa)]}});if(!_0x597a2a||!_0x597a2a[_0x21dc43(0x1d5)]?.[_0x21dc43(0x7bc)](this['instance'][_0x21dc43(0x193)]))throw this[_0x21dc43(0x263)][_0x21dc43(0x7ba)](this['instanceName']+'\x20('+this[_0x21dc43(0x79f)][_0x21dc43(0x193)]+_0x21dc43(0x736)+_0x519b47['_id']+_0x21dc43(0x57c)),new m(_0x21dc43(0x5a2)+_0x519b47[_0x21dc43(0x3fa)]+_0x21dc43(0x57c));let _0x3a24cd=this['AutomateSystem']['flows'][_0x21dc43(0x19d)](_0xd2915c=>_0xd2915c['_id']===_0x12bf7b[_0x21dc43(0x3fa)]);if(_0x3a24cd!==-0x1){let _0x12a46b=this[_0x21dc43(0x6bb)][_0x21dc43(0x257)][_0x3a24cd];if(_0x12a46b[_0x21dc43(0x5fa)]=_0x519b47[_0x21dc43(0x5fa)]??_0x12a46b[_0x21dc43(0x5fa)],_0x12a46b[_0x21dc43(0x595)]=_0x519b47[_0x21dc43(0x595)]??_0x12a46b[_0x21dc43(0x595)],_0x12a46b[_0x21dc43(0x62e)]=_0x519b47['testingWith']??_0x12a46b['testingWith'],_0x12a46b[_0x21dc43(0x52a)]=_0x519b47['startCommandWord']??_0x12a46b[_0x21dc43(0x52a)],_0x12a46b[_0x21dc43(0x1a4)]=_0x519b47['minutesToClose']??_0x12a46b[_0x21dc43(0x1a4)],_0x12a46b['readMessages']=_0x519b47[_0x21dc43(0x402)]??_0x12a46b['readMessages'],_0x519b47[_0x21dc43(0x595)]&&this[_0x21dc43(0x6bb)][_0x21dc43(0x257)][_0x21dc43(0x526)]((_0x1085d2,_0x32bcdc)=>{const _0x5015f1=_0x21dc43;_0x32bcdc!==_0x3a24cd&&(_0x1085d2[_0x5015f1(0x595)]=!0x1);}),this[_0x21dc43(0x6bb)][_0x21dc43(0x257)][_0x3a24cd]=_0x12a46b,!await this['repository'][_0x21dc43(0x38f)][_0x21dc43(0x447)]({'flows':this[_0x21dc43(0x6bb)]['flows']},this[_0x21dc43(0x79f)][_0x21dc43(0x193)]))throw new m(_0x21dc43(0x8b7));}let _0x37e208=[_0x21dc43(0x2e1),_0x21dc43(0x82b),_0x21dc43(0x315),'shareOwners'];for(let _0x1fc786 of _0x37e208)delete _0x519b47[_0x1fc786];if(_0x597a2a['whoCanEdit']?.[_0x21dc43(0x7bc)](this[_0x21dc43(0x79f)][_0x21dc43(0x193)])||(_0x519b47={'_id':_0x519b47[_0x21dc43(0x3fa)]}),_0x4c6e84!==Oi&&_0x519b47?.[_0x21dc43(0x547)]&&!_0x597a2a?.['globalShow'])throw new m(_0x21dc43(0x29d));let _0x82ba20=new Set(_0x519b47[_0x21dc43(0x2f2)]??_0x597a2a[_0x21dc43(0x2f2)]);_0x82ba20[_0x21dc43(0x1c4)](_0x597a2a[_0x21dc43(0x676)]);let _0x4e85a2=new Set(_0x519b47[_0x21dc43(0x1d5)]??_0x597a2a['whoCanUse']??[]);_0x82ba20['forEach'](_0x1f08a9=>_0x4e85a2['add'](_0x1f08a9)),_0x4e85a2['add'](_0x597a2a['owner']),this[_0x21dc43(0x263)]['verbose'](this[_0x21dc43(0x24d)]+'\x20('+this[_0x21dc43(0x79f)][_0x21dc43(0x193)]+_0x21dc43(0x87f)+Array['from'](_0x82ba20)),this[_0x21dc43(0x263)][_0x21dc43(0x69d)](this[_0x21dc43(0x24d)]+'\x20('+this['instance'][_0x21dc43(0x193)]+_0x21dc43(0x4ce)+Array[_0x21dc43(0x556)](_0x4e85a2));let _0x3f6c6e=await this[_0x21dc43(0x39f)](Array[_0x21dc43(0x556)](_0x4e85a2)),_0x323195=Array[_0x21dc43(0x556)](_0x82ba20)[_0x21dc43(0x2b4)](_0x20dade=>_0x3f6c6e[_0x21dc43(0x7bc)](_0x20dade)),_0x3b706c=Array[_0x21dc43(0x556)](_0x4e85a2)[_0x21dc43(0x2b4)](_0x139a90=>_0x3f6c6e[_0x21dc43(0x7bc)](_0x139a90));this[_0x21dc43(0x263)][_0x21dc43(0x69d)](this[_0x21dc43(0x24d)]+'\x20('+this[_0x21dc43(0x79f)]['wuid']+_0x21dc43(0x568)+_0x323195),this['logger'][_0x21dc43(0x69d)](this[_0x21dc43(0x24d)]+'\x20('+this['instance']['wuid']+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x3b706c);let _0x1b4a50={..._0x597a2a,..._0x519b47,'whoCanEdit':_0x323195,'whoCanUse':_0x3b706c},_0x2be729=await this[_0x21dc43(0x252)][_0x21dc43(0x654)][_0x21dc43(0x5f5)](_0x597a2a['_id'],_0x1b4a50);return await this[_0x21dc43(0x915)](),_0x2be729;}catch(_0x3c80e3){let _0x53288f='Erro\x20ao\x20alterar\x20fluxo',_0x3ed422=_0x3c80e3 instanceof Error?_0x3c80e3[_0x21dc43(0x555)]:typeof _0x3c80e3=='object'?JSON[_0x21dc43(0x2c2)](_0x3c80e3):_0x3c80e3,_0x43c1bd=_0x53288f+':\x20'+_0x3ed422;throw this[_0x21dc43(0x263)]['error'](this[_0x21dc43(0x24d)]+'\x20('+this[_0x21dc43(0x79f)][_0x21dc43(0x193)]+_0x21dc43(0x60e)+_0x43c1bd),new m(_0x43c1bd);}}async[a0_0x26c870(0x39f)](_0x44ac96){const _0x188f03=a0_0x26c870;let _0x491e25={'numbers':_0x44ac96};return(await this[_0x188f03(0x374)](_0x491e25))['filter'](_0x342eba=>_0x342eba['exists'])[_0x188f03(0x27c)](_0x3cfc9a=>_0x3cfc9a['jid'])[_0x188f03(0x27c)](_0x15b378=>this[_0x188f03(0x194)](_0x15b378));}[a0_0x26c870(0x194)](_0x1405db){let _0xd5d226=_0x1405db['match'](/\d+/);return _0xd5d226?_0xd5d226[0x0]:'';}async[a0_0x26c870(0x24b)](_0x70c69c){const _0x4235ee=a0_0x26c870;try{if(this[_0x4235ee(0x263)][_0x4235ee(0x69d)](this[_0x4235ee(0x24d)]+'\x20('+this[_0x4235ee(0x79f)][_0x4235ee(0x193)]+_0x4235ee(0x52f)),!this[_0x4235ee(0x6bb)][_0x4235ee(0x257)]['find'](_0x57318d=>_0x57318d['_id']===_0x70c69c[_0x4235ee(0x3fa)]))throw this[_0x4235ee(0x263)][_0x4235ee(0x69d)](this[_0x4235ee(0x24d)]+'\x20('+this['instance'][_0x4235ee(0x193)]+_0x4235ee(0x6b1)+_0x70c69c[_0x4235ee(0x3fa)]+_0x4235ee(0x8d8)),new m(_0x4235ee(0x33f));let _0xd26112=await this['repository'][_0x4235ee(0x654)][_0x4235ee(0x74c)]({'where':{'_id':_0x70c69c[_0x4235ee(0x3fa)]}});if(!_0xd26112||!_0xd26112[_0x4235ee(0x1d5)]?.['includes'](this[_0x4235ee(0x79f)]['wuid']))throw this['logger']['error'](this[_0x4235ee(0x24d)]+'\x20('+this[_0x4235ee(0x79f)]['wuid']+_0x4235ee(0x736)+_0x70c69c[_0x4235ee(0x3fa)]+_0x4235ee(0x57c)),new m(_0x4235ee(0x5a2)+_0x70c69c['_id']+_0x4235ee(0x57c));if(!_0xd26112[_0x4235ee(0x2f2)]?.['includes'](this[_0x4235ee(0x79f)][_0x4235ee(0x193)]))throw new m(_0x4235ee(0x50a));let {block:_0x40dab3}=_0x70c69c;_0x40dab3?.[_0x4235ee(0x621)]?this[_0x4235ee(0x2a1)](_0xd26112,_0x70c69c):_0x40dab3?.['delete']?this[_0x4235ee(0x530)](_0xd26112,_0x70c69c):_0x40dab3[_0x4235ee(0x3fa)]?await this['updateBlock'](_0xd26112,_0x70c69c):this[_0x4235ee(0x2a0)](_0xd26112,_0x70c69c);let _0xf3d166=await this[_0x4235ee(0x252)]['flow'][_0x4235ee(0x5f5)](_0xd26112['_id'],_0xd26112);if(!_0xf3d166)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xf3d166;}catch(_0x331b07){this[_0x4235ee(0x70f)](_0x4235ee(0x2b9)+_0x331b07[_0x4235ee(0x555)]);}}async['copyBlock'](_0x455173,_0x5708a1){const _0xf85361=a0_0x26c870;let _0x111abd=_0x5708a1[_0xf85361(0x451)][_0xf85361(0x3fa)],_0x5704be=_0x455173[_0xf85361(0x44c)][_0xf85361(0x82c)](_0x182f16=>_0x182f16[_0xf85361(0x3fa)][_0xf85361(0x58a)]()===_0x111abd);if(!_0x5704be){this[_0xf85361(0x263)][_0xf85361(0x7ba)](this[_0xf85361(0x24d)]+'\x20('+this[_0xf85361(0x79f)][_0xf85361(0x193)]+_0xf85361(0x4a1)+_0x111abd+_0xf85361(0x250));return;}this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xf85361(0x79f)][_0xf85361(0x193)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x5704be));let _0x32e09e=JSON['parse'](JSON['stringify'](_0x5704be));_0x32e09e[_0xf85361(0x3fa)]=new he[(_0xf85361(0x595))][(_0xf85361(0x500))]['ObjectId'](),this['logger']['verbose'](this[_0xf85361(0x24d)]+'\x20('+this[_0xf85361(0x79f)][_0xf85361(0x193)]+_0xf85361(0x516)+JSON[_0xf85361(0x2c2)](_0x32e09e)),_0x455173[_0xf85361(0x44c)]['push'](_0x32e09e),this[_0xf85361(0x301)](_0x455173[_0xf85361(0x44c)],_0x32e09e[_0xf85361(0x355)]);}[a0_0x26c870(0x70f)](_0x2f1fca){const _0x545fd3=a0_0x26c870;throw this[_0x545fd3(0x263)][_0x545fd3(0x7ba)](this['instanceName']+'\x20('+this[_0x545fd3(0x79f)][_0x545fd3(0x193)]+_0x545fd3(0x60e)+_0x2f1fca),new m(_0x2f1fca);}['deleteBlock'](_0x3882c2,_0x2875a5){const _0x58876b=a0_0x26c870;let {block:_0x920c70}=_0x2875a5;if(_0x920c70['type']===_0x58876b(0x8c4)){this[_0x58876b(0x70f)](_0x58876b(0x7a8));return;}if(!_0x920c70[_0x58876b(0x3fa)]){this[_0x58876b(0x70f)](_0x58876b(0x6cb));return;}let _0x3fca9d=_0x3882c2[_0x58876b(0x44c)][_0x58876b(0x82c)](_0x3c7bff=>_0x3c7bff[_0x58876b(0x3fa)][_0x58876b(0x58a)]()===_0x2875a5[_0x58876b(0x451)][_0x58876b(0x3fa)][_0x58876b(0x58a)]());if(!_0x3fca9d){this[_0x58876b(0x70f)](_0x58876b(0x65d)+_0x920c70['_id']+_0x58876b(0x2b5));return;}_0x3882c2[_0x58876b(0x44c)]=_0x3882c2[_0x58876b(0x44c)][_0x58876b(0x2b4)](_0x255b90=>_0x255b90['_id']['toString']()!==_0x2875a5[_0x58876b(0x451)]['_id'][_0x58876b(0x58a)]()),_0x3882c2[_0x58876b(0x851)]=_0x3882c2[_0x58876b(0x851)]['filter'](_0x38d5b7=>_0x38d5b7[_0x58876b(0x6f9)]!==_0x920c70[_0x58876b(0x3fa)][_0x58876b(0x58a)]()),_0x3882c2[_0x58876b(0x5f9)]=_0x3882c2[_0x58876b(0x5f9)][_0x58876b(0x2b4)](_0x498120=>_0x498120['blockId']!==_0x920c70[_0x58876b(0x3fa)]['toString']()),_0x3882c2['replyOptions']=_0x3882c2[_0x58876b(0x82e)][_0x58876b(0x2b4)](_0x422442=>_0x422442[_0x58876b(0x6f9)]!==_0x920c70[_0x58876b(0x3fa)][_0x58876b(0x58a)]()),this['reorderBlocks'](_0x3882c2[_0x58876b(0x44c)],_0x3fca9d[_0x58876b(0x355)]);}async[a0_0x26c870(0x211)](_0x3cb017,_0x162a12){const _0x133b80=a0_0x26c870;let _0x42e010=_0x3cb017['blocks'][_0x133b80(0x19d)](_0x50e08b=>_0x50e08b[_0x133b80(0x3fa)][_0x133b80(0x58a)]()===_0x162a12[_0x133b80(0x451)]['_id'][_0x133b80(0x58a)]());if(this[_0x133b80(0x263)][_0x133b80(0x69d)](this[_0x133b80(0x24d)]+'\x20('+this[_0x133b80(0x79f)]['wuid']+_0x133b80(0x3e2)+_0x42e010),_0x42e010===-0x1){this[_0x133b80(0x263)][_0x133b80(0x69d)](_0x133b80(0x65d)+_0x162a12[_0x133b80(0x451)][_0x133b80(0x3fa)]+_0x133b80(0x47f));return;}if(_0x3cb017['blocks'][_0x42e010][_0x133b80(0x760)]==='start'){let _0x46bc77=Object[_0x133b80(0x2ef)](_0x162a12[_0x133b80(0x451)]);if(_0x46bc77[_0x133b80(0x2df)]>0x2||_0x46bc77[_0x133b80(0x2df)]===0x2&&!_0x46bc77[_0x133b80(0x7bc)](_0x133b80(0x30a))){this[_0x133b80(0x70f)](_0x133b80(0x739));return;}}let _0x323150=_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x355)];for(let _0x462f67 in _0x162a12['block'])_0x162a12[_0x133b80(0x451)][_0x133b80(0x216)](_0x462f67)&&(_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x462f67]=_0x162a12[_0x133b80(0x451)][_0x462f67]);if(this[_0x133b80(0x263)][_0x133b80(0x69d)](this[_0x133b80(0x24d)]+'\x20('+this[_0x133b80(0x79f)][_0x133b80(0x193)]+_0x133b80(0x69a)+JSON[_0x133b80(0x2c2)](_0x3cb017[_0x133b80(0x44c)][_0x42e010])),_0x3cb017['blocks'][_0x42e010][_0x133b80(0x351)]&&_0x133b80(0x238)in _0x3cb017['blocks'][_0x42e010][_0x133b80(0x351)]){this[_0x133b80(0x263)][_0x133b80(0x69d)](this['instanceName']+'\x20('+this[_0x133b80(0x79f)][_0x133b80(0x193)]+_0x133b80(0x886));let _0x1ae2cd=JSON['stringify'](_0x3cb017[_0x133b80(0x44c)][_0x42e010]['apirequest'][_0x133b80(0x238)],null,0x1);_0x1ae2cd['length']>0x2&&(_0x1ae2cd=_0x1ae2cd[_0x133b80(0x8c8)](0x1,_0x1ae2cd[_0x133b80(0x2df)]-0x1)['trim']()),_0x3cb017[_0x133b80(0x44c)][_0x42e010]['apirequest'][_0x133b80(0x414)]=_0x1ae2cd;}if(_0x3cb017[_0x133b80(0x44c)][_0x42e010]['apirequest']&&_0x133b80(0x59e)in _0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)]&&!(_0x133b80(0x2b3)in _0x3cb017['blocks'][_0x42e010][_0x133b80(0x351)])){this[_0x133b80(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x133b80(0x79f)]['wuid']+_0x133b80(0x465)),_0x3cb017[_0x133b80(0x44c)][_0x42e010]['apirequest'][_0x133b80(0x330)]=!0x1;let _0x5804e6=JSON[_0x133b80(0x2c2)](_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)][_0x133b80(0x59e)],null,0x2);_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)][_0x133b80(0x2b3)]=_0x5804e6;}if(_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)]&&_0x133b80(0x2b3)in _0x3cb017[_0x133b80(0x44c)][_0x42e010]['apirequest']){_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)][_0x133b80(0x330)]=!0x1;let _0x4aa0a0=_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)][_0x133b80(0x2b3)],_0x42fd75=this[_0x133b80(0x89e)](_0x4aa0a0);_0x3cb017['blocks'][_0x42e010][_0x133b80(0x351)][_0x133b80(0x2b3)]=_0x42fd75[_0x133b80(0x708)],_0x3cb017[_0x133b80(0x44c)][_0x42e010][_0x133b80(0x351)][_0x133b80(0x330)]=_0x42fd75['error'];}let _0x50d6e6=_0x3cb017['blocks'][_0x42e010][_0x133b80(0x355)];_0x323150!==_0x50d6e6?(this[_0x133b80(0x301)](_0x3cb017[_0x133b80(0x44c)],_0x323150),this['reorderBlocks'](_0x3cb017[_0x133b80(0x44c)],_0x50d6e6)):this['reorderBlocks'](_0x3cb017[_0x133b80(0x44c)],_0x323150);}[a0_0x26c870(0x89e)](_0x5d5a90){const _0x2ea140=a0_0x26c870;let _0xebcfd1='\u205f',_0x435eef=!0x1,_0x229fcc='';for(let _0x60a483=0x0;_0x60a483<_0x5d5a90['length'];_0x60a483++){let _0x24d5ae=_0x5d5a90[_0x60a483];_0x24d5ae==='\x22'&&(_0x60a483===0x0||_0x5d5a90[_0x60a483-0x1]!=='\x5c')&&(_0x435eef=!_0x435eef),!(!_0x435eef&&(_0x24d5ae==='\x0a'||_0x24d5ae==='\x20'||_0x24d5ae===_0xebcfd1))&&(_0x229fcc+=_0x24d5ae);}let _0x28493f={},_0x4d7a39=9876543210.1234,_0x5a4e71=_0x229fcc['replace'](/\{\{([^}]+)\}\}/g,_0x64578a=>{let _0x2499aa=_0x64578a,_0x4754eb=''+_0x4d7a39;return _0x28493f[_0x4754eb]=_0x2499aa,_0x4d7a39+=0.0001,_0x4754eb;}),_0x24ec48='',_0x2e43ec=!0x1;try{let _0x164bc1=JSON[_0x2ea140(0x199)](_0x5a4e71);_0x24ec48=JSON[_0x2ea140(0x2c2)](_0x164bc1,null,0x2),_0x24ec48=_0x24ec48[_0x2ea140(0x821)](/\n( +)/g,(_0x4fae51,_0x2e11c3)=>{const _0x39df66=_0x2ea140;let _0x404734=_0x2e11c3[_0x39df66(0x2df)];return'\x0a'+_0xebcfd1['repeat'](_0x404734*0x2);}),_0x24ec48=_0x24ec48['replace'](/(\d{10,}\.\d+)/g,_0x528e2a=>_0x28493f[_0x528e2a]||_0x528e2a);}catch(_0x20521a){this[_0x2ea140(0x263)][_0x2ea140(0x7ba)](_0x2ea140(0x6ba)+_0x20521a),_0x24ec48=_0x5d5a90,_0x2e43ec=!0x0;}return{'result':_0x24ec48,'error':_0x2e43ec};}['addBlock'](_0x5b6360,_0x915c5f){const _0x162469=a0_0x26c870;if(_0x915c5f[_0x162469(0x451)][_0x162469(0x760)]===_0x162469(0x8c4)){this[_0x162469(0x70f)](_0x162469(0x59b));return;}if(_0x915c5f[_0x162469(0x451)][_0x162469(0x351)]&&_0x162469(0x238)in _0x915c5f[_0x162469(0x451)][_0x162469(0x351)]){this[_0x162469(0x263)][_0x162469(0x69d)](this[_0x162469(0x24d)]+'\x20('+this[_0x162469(0x79f)][_0x162469(0x193)]+_0x162469(0x886));let _0x35d6c5=JSON[_0x162469(0x2c2)](_0x915c5f[_0x162469(0x451)]['apirequest'][_0x162469(0x238)],null,0x1);_0x35d6c5[_0x162469(0x2df)]>0x2&&(_0x35d6c5=_0x35d6c5[_0x162469(0x8c8)](0x1,_0x35d6c5[_0x162469(0x2df)]-0x1)[_0x162469(0x3a7)]()),_0x915c5f[_0x162469(0x451)][_0x162469(0x351)][_0x162469(0x414)]=_0x35d6c5;}_0x915c5f[_0x162469(0x451)]['apirequest']&&'body'in _0x915c5f[_0x162469(0x451)]['apirequest']&&(this[_0x162469(0x263)][_0x162469(0x69d)](this[_0x162469(0x24d)]+'\x20('+this[_0x162469(0x79f)][_0x162469(0x193)]+_0x162469(0x465)),_0x915c5f['block'][_0x162469(0x351)]['bodyString']=JSON[_0x162469(0x2c2)](_0x915c5f[_0x162469(0x451)][_0x162469(0x351)]['body'],null,0x1)[_0x162469(0x3a7)]()),_0x5b6360[_0x162469(0x44c)][_0x162469(0x48e)](_0x915c5f[_0x162469(0x451)]),this[_0x162469(0x301)](_0x5b6360['blocks'],_0x915c5f['block'][_0x162469(0x355)]);}[a0_0x26c870(0x301)](_0x5e115d,_0x1fdd23){const _0x51b8c1=a0_0x26c870;let _0x51e781=_0x5e115d[_0x51b8c1(0x2b4)](_0x56a644=>_0x56a644['groupId']===_0x1fdd23);_0x51e781[_0x51b8c1(0x4be)]((_0x1bff40,_0x4eb696)=>_0x1bff40['order']-_0x4eb696[_0x51b8c1(0x5f8)]),_0x51e781[_0x51b8c1(0x526)]((_0x505f52,_0x3610ee)=>_0x505f52[_0x51b8c1(0x5f8)]=_0x3610ee+0x1);}async[a0_0x26c870(0x255)](_0x33d974){const _0x5ed79d=a0_0x26c870;try{if(this[_0x5ed79d(0x263)][_0x5ed79d(0x69d)](this[_0x5ed79d(0x24d)]+'\x20('+this[_0x5ed79d(0x79f)][_0x5ed79d(0x193)]+_0x5ed79d(0x1c1)),!_0x33d974||!_0x33d974[_0x5ed79d(0x41e)]){this[_0x5ed79d(0x70f)](_0x5ed79d(0x18f));return;}if(!this[_0x5ed79d(0x6bb)]['flows'][_0x5ed79d(0x82c)](_0x45b977=>_0x45b977['_id']===_0x33d974['_id']))throw this[_0x5ed79d(0x263)][_0x5ed79d(0x69d)](this[_0x5ed79d(0x24d)]+'\x20('+this[_0x5ed79d(0x79f)][_0x5ed79d(0x193)]+_0x5ed79d(0x6b1)+_0x33d974['_id']+_0x5ed79d(0x8d8)),new m(_0x5ed79d(0x33f));let _0x587745=await this['repository']['flow']['findOne']({'where':{'_id':_0x33d974['_id']}});if(!_0x587745||!_0x587745['whoCanUse']?.[_0x5ed79d(0x7bc)](this['instance'][_0x5ed79d(0x193)]))throw this[_0x5ed79d(0x263)][_0x5ed79d(0x7ba)](this[_0x5ed79d(0x24d)]+'\x20('+this[_0x5ed79d(0x79f)][_0x5ed79d(0x193)]+_0x5ed79d(0x736)+_0x33d974[_0x5ed79d(0x3fa)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x33d974[_0x5ed79d(0x3fa)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x587745[_0x5ed79d(0x2f2)]?.[_0x5ed79d(0x7bc)](this[_0x5ed79d(0x79f)][_0x5ed79d(0x193)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x4f8617}=_0x33d974;_0x4f8617?.[_0x5ed79d(0x5e2)]?(this[_0x5ed79d(0x810)](_0x587745,_0x33d974),this[_0x5ed79d(0x6ad)](_0x587745[_0x5ed79d(0x82e)],_0x33d974[_0x5ed79d(0x41e)]['blockId'])):_0x4f8617[_0x5ed79d(0x3fa)]?(await this[_0x5ed79d(0x298)](_0x587745,_0x33d974),this[_0x5ed79d(0x6ad)](_0x587745[_0x5ed79d(0x82e)],_0x33d974[_0x5ed79d(0x41e)][_0x5ed79d(0x6f9)])):(this[_0x5ed79d(0x937)](_0x587745,_0x33d974),this[_0x5ed79d(0x6ad)](_0x587745[_0x5ed79d(0x82e)],_0x33d974[_0x5ed79d(0x41e)][_0x5ed79d(0x6f9)]));let _0x481589=await this[_0x5ed79d(0x252)][_0x5ed79d(0x654)][_0x5ed79d(0x5f5)](_0x587745[_0x5ed79d(0x3fa)],_0x587745);if(!_0x481589)throw new Error(_0x5ed79d(0x2e6));return _0x481589;}catch(_0x4b4dc8){this['throwAndLogError'](_0x5ed79d(0x7de)+_0x4b4dc8);}}[a0_0x26c870(0x6ad)](_0x3e16ad,_0x43c6d6){const _0x115197=a0_0x26c870;_0x3e16ad[_0x115197(0x526)](_0x23540c=>{const _0x5aa64c=_0x115197;_0x23540c[_0x5aa64c(0x6f9)]===_0x43c6d6&&_0x23540c['order']===void 0x0&&(_0x23540c[_0x5aa64c(0x5f8)]=0x270f);});let _0x3807ff=_0x3e16ad[_0x115197(0x2b4)](_0x3b1fb4=>_0x3b1fb4[_0x115197(0x6f9)]===_0x43c6d6);_0x3807ff['sort']((_0x274e14,_0x407a4b)=>_0x274e14[_0x115197(0x5f8)]-_0x407a4b['order']),_0x3807ff[_0x115197(0x526)]((_0x3ee9ca,_0x320edc)=>{const _0x56c69c=_0x115197;_0x3ee9ca[_0x56c69c(0x5f8)]=_0x320edc+0x1;}),_0x3e16ad['forEach'](_0x41a54a=>{const _0x108a8d=_0x115197;if(_0x41a54a[_0x108a8d(0x6f9)]===_0x43c6d6){let _0xe83a=_0x3807ff[_0x108a8d(0x82c)](_0x1c6817=>_0x1c6817['_id']&&_0x41a54a[_0x108a8d(0x3fa)]&&_0x1c6817[_0x108a8d(0x3fa)][_0x108a8d(0x58a)]()===_0x41a54a[_0x108a8d(0x3fa)]['toString']());_0xe83a&&(_0x41a54a[_0x108a8d(0x5f8)]=_0xe83a[_0x108a8d(0x5f8)]);}});}[a0_0x26c870(0x810)](_0x1d6043,_0x43a0e3){const _0x4bc9ba=a0_0x26c870;let {replyOption:_0x38d25d}=_0x43a0e3;if(!_0x38d25d[_0x4bc9ba(0x3fa)]){this[_0x4bc9ba(0x70f)](_0x4bc9ba(0x431));return;}if(!_0x1d6043[_0x4bc9ba(0x82e)]['find'](_0x39365a=>_0x39365a[_0x4bc9ba(0x3fa)][_0x4bc9ba(0x58a)]()===_0x43a0e3[_0x4bc9ba(0x41e)][_0x4bc9ba(0x3fa)][_0x4bc9ba(0x58a)]())){this[_0x4bc9ba(0x70f)](_0x4bc9ba(0x53c)+_0x38d25d[_0x4bc9ba(0x3fa)]+_0x4bc9ba(0x2b5));return;}_0x1d6043[_0x4bc9ba(0x82e)]=_0x1d6043['replyOptions'][_0x4bc9ba(0x2b4)](_0x214a73=>_0x214a73[_0x4bc9ba(0x3fa)][_0x4bc9ba(0x58a)]()!==_0x43a0e3['replyOption']['_id'][_0x4bc9ba(0x58a)]());}async[a0_0x26c870(0x298)](_0x4f451b,_0x217290){const _0x4c9f5f=a0_0x26c870;let _0x57d860=_0x4f451b[_0x4c9f5f(0x82e)][_0x4c9f5f(0x19d)](_0x378f17=>_0x378f17[_0x4c9f5f(0x3fa)][_0x4c9f5f(0x58a)]()===_0x217290['replyOption'][_0x4c9f5f(0x3fa)][_0x4c9f5f(0x58a)]());if(_0x57d860===-0x1){this[_0x4c9f5f(0x70f)](_0x4c9f5f(0x53c)+_0x217290[_0x4c9f5f(0x41e)][_0x4c9f5f(0x3fa)]+_0x4c9f5f(0x47f));return;}for(let _0x4ccfdf in _0x217290[_0x4c9f5f(0x41e)])_0x217290[_0x4c9f5f(0x41e)]['hasOwnProperty'](_0x4ccfdf)&&(_0x4f451b[_0x4c9f5f(0x82e)][_0x57d860][_0x4ccfdf]=_0x217290[_0x4c9f5f(0x41e)][_0x4ccfdf]);}['addReplyOption'](_0x50d763,_0x51b8ed){const _0x6abc7d=a0_0x26c870;_0x50d763[_0x6abc7d(0x82e)]['push'](_0x51b8ed[_0x6abc7d(0x41e)]);}async[a0_0x26c870(0x4f1)](_0x3a82c2){const _0x45a0f6=a0_0x26c870;this[_0x45a0f6(0x263)][_0x45a0f6(0x69d)](this[_0x45a0f6(0x24d)]+'\x20('+this[_0x45a0f6(0x79f)][_0x45a0f6(0x193)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x45a0f6(0x2c2)](_0x3a82c2,null,0x2));try{if(this[_0x45a0f6(0x263)][_0x45a0f6(0x69d)](this[_0x45a0f6(0x24d)]+'\x20('+this[_0x45a0f6(0x79f)][_0x45a0f6(0x193)]+_0x45a0f6(0x5d3)),!this[_0x45a0f6(0x6bb)][_0x45a0f6(0x257)][_0x45a0f6(0x82c)](_0x572fe2=>_0x572fe2[_0x45a0f6(0x3fa)]===_0x3a82c2[_0x45a0f6(0x3fa)]))throw this[_0x45a0f6(0x263)][_0x45a0f6(0x69d)](this[_0x45a0f6(0x24d)]+'\x20('+this['instance'][_0x45a0f6(0x193)]+'):\x20Fluxo\x20\x27'+_0x3a82c2[_0x45a0f6(0x3fa)]+'\x27\x20não\x20encontrado'),new m(_0x45a0f6(0x33f));let _0x39fecf=await this[_0x45a0f6(0x252)][_0x45a0f6(0x654)][_0x45a0f6(0x74c)]({'where':{'_id':_0x3a82c2[_0x45a0f6(0x3fa)]}});if(!_0x39fecf||!_0x39fecf[_0x45a0f6(0x1d5)]?.['includes'](this[_0x45a0f6(0x79f)][_0x45a0f6(0x193)]))throw this[_0x45a0f6(0x263)][_0x45a0f6(0x7ba)](this[_0x45a0f6(0x24d)]+'\x20('+this['instance'][_0x45a0f6(0x193)]+_0x45a0f6(0x736)+_0x3a82c2[_0x45a0f6(0x3fa)]+_0x45a0f6(0x57c)),new m(_0x45a0f6(0x5a2)+_0x3a82c2[_0x45a0f6(0x3fa)]+_0x45a0f6(0x57c));if(!_0x39fecf['whoCanEdit']?.[_0x45a0f6(0x7bc)](this['instance'][_0x45a0f6(0x193)]))throw new m(_0x45a0f6(0x50a));if(_0x3a82c2[_0x45a0f6(0x747)]&&_0x3a82c2[_0x45a0f6(0x747)]?.[_0x45a0f6(0x5e2)]===!0x0){if(this['logger'][_0x45a0f6(0x69d)](this[_0x45a0f6(0x24d)]+'\x20('+this[_0x45a0f6(0x79f)]['wuid']+_0x45a0f6(0x491)),_0x3a82c2[_0x45a0f6(0x747)][_0x45a0f6(0x595)]===!0x0)return{'message':_0x45a0f6(0x4d8)};if(_0x39fecf[_0x45a0f6(0x44c)]['some'](_0x2efdab=>_0x2efdab[_0x45a0f6(0x355)][_0x45a0f6(0x58a)]()===_0x3a82c2['group'][_0x45a0f6(0x3fa)]))return this[_0x45a0f6(0x263)][_0x45a0f6(0x69d)](this[_0x45a0f6(0x24d)]+'\x20('+this[_0x45a0f6(0x79f)][_0x45a0f6(0x193)]+_0x45a0f6(0x33e)),{'message':_0x45a0f6(0x8fe)};_0x39fecf['groups']=_0x39fecf[_0x45a0f6(0x434)]['filter'](_0x4c5357=>_0x4c5357[_0x45a0f6(0x3fa)][_0x45a0f6(0x58a)]()!==_0x3a82c2[_0x45a0f6(0x747)][_0x45a0f6(0x3fa)]);}else{if(_0x3a82c2[_0x45a0f6(0x747)]){if(_0x3a82c2[_0x45a0f6(0x747)][_0x45a0f6(0x595)]===!0x0)return{'message':_0x45a0f6(0x4e3)};if(_0x3a82c2['group'][_0x45a0f6(0x3fa)]){let _0x4d497a=_0x39fecf['groups'][_0x45a0f6(0x82c)](_0x5dd17c=>_0x5dd17c[_0x45a0f6(0x3fa)][_0x45a0f6(0x58a)]()===_0x3a82c2[_0x45a0f6(0x747)][_0x45a0f6(0x3fa)]);_0x4d497a&&(_0x3a82c2[_0x45a0f6(0x747)]['x']<0x0&&(_0x3a82c2['group']['x']=0x0),_0x3a82c2[_0x45a0f6(0x747)]['y']<0x0&&(_0x3a82c2[_0x45a0f6(0x747)]['y']=0x0),Object[_0x45a0f6(0x2ee)](_0x4d497a,_0x3a82c2[_0x45a0f6(0x747)]));}else _0x39fecf['groups'][_0x45a0f6(0x48e)](_0x3a82c2[_0x45a0f6(0x747)]);}}let _0x5d8507=await this[_0x45a0f6(0x252)][_0x45a0f6(0x654)]['updateOne'](_0x39fecf[_0x45a0f6(0x3fa)],_0x39fecf);if(!_0x5d8507)throw new Error(_0x45a0f6(0x2e6));return _0x5d8507;}catch(_0x4f5e78){let _0x4bec4b=_0x45a0f6(0x443),_0x207177=_0x4f5e78 instanceof Error?_0x4f5e78['message']:typeof _0x4f5e78==_0x45a0f6(0x408)?JSON[_0x45a0f6(0x2c2)](_0x4f5e78):_0x4f5e78,_0x285245=_0x4bec4b+':\x20'+_0x207177;throw this['logger']['error'](this[_0x45a0f6(0x24d)]+'\x20('+this[_0x45a0f6(0x79f)][_0x45a0f6(0x193)]+_0x45a0f6(0x60e)+_0x285245),new m(_0x285245);}}async['editFlowCondition'](_0x4977d3){const _0x22c5d1=a0_0x26c870;try{if(this['logger'][_0x22c5d1(0x69d)](this[_0x22c5d1(0x24d)]+'\x20('+this[_0x22c5d1(0x79f)][_0x22c5d1(0x193)]+_0x22c5d1(0x36d)),!this[_0x22c5d1(0x6bb)][_0x22c5d1(0x257)]['find'](_0x40f843=>_0x40f843[_0x22c5d1(0x3fa)]===_0x4977d3['_id']))throw this[_0x22c5d1(0x263)][_0x22c5d1(0x69d)](this[_0x22c5d1(0x24d)]+'\x20('+this[_0x22c5d1(0x79f)][_0x22c5d1(0x193)]+_0x22c5d1(0x6b1)+_0x4977d3[_0x22c5d1(0x3fa)]+_0x22c5d1(0x8d8)),new m(_0x22c5d1(0x33f));let _0x457ce9=await this[_0x22c5d1(0x252)][_0x22c5d1(0x654)][_0x22c5d1(0x74c)]({'where':{'_id':_0x4977d3[_0x22c5d1(0x3fa)]}});if(!_0x457ce9||!_0x457ce9[_0x22c5d1(0x1d5)]?.[_0x22c5d1(0x7bc)](this['instance'][_0x22c5d1(0x193)]))throw this[_0x22c5d1(0x263)][_0x22c5d1(0x7ba)](this[_0x22c5d1(0x24d)]+'\x20('+this[_0x22c5d1(0x79f)][_0x22c5d1(0x193)]+_0x22c5d1(0x736)+_0x4977d3[_0x22c5d1(0x3fa)]+_0x22c5d1(0x57c)),new m(_0x22c5d1(0x5a2)+_0x4977d3[_0x22c5d1(0x3fa)]+_0x22c5d1(0x57c));if(!_0x457ce9[_0x22c5d1(0x2f2)]?.[_0x22c5d1(0x7bc)](this[_0x22c5d1(0x79f)][_0x22c5d1(0x193)]))throw new m(_0x22c5d1(0x50a));let _0x4c0c72=!0x1;if(_0x4977d3[_0x22c5d1(0x5ec)]?.[_0x22c5d1(0x5e2)]===!0x0)_0x457ce9['conditions']=_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x2b4)](_0xb5679c=>_0xb5679c&&_0x4977d3[_0x22c5d1(0x5ec)]&&_0xb5679c[_0x22c5d1(0x3fa)]&&_0x4977d3[_0x22c5d1(0x5ec)][_0x22c5d1(0x3fa)]&&_0xb5679c[_0x22c5d1(0x3fa)][_0x22c5d1(0x58a)]()!==_0x4977d3['condition'][_0x22c5d1(0x3fa)][_0x22c5d1(0x58a)]()),_0x4c0c72=!0x0;else{let _0xa93a06=_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x82c)](_0xbd4e4c=>_0xbd4e4c&&_0x4977d3[_0x22c5d1(0x5ec)]&&_0xbd4e4c[_0x22c5d1(0x3fa)]&&_0x4977d3[_0x22c5d1(0x5ec)][_0x22c5d1(0x3fa)]&&_0xbd4e4c['_id'][_0x22c5d1(0x58a)]()===_0x4977d3[_0x22c5d1(0x5ec)][_0x22c5d1(0x3fa)][_0x22c5d1(0x58a)]());_0xa93a06?(_0x4c0c72=_0xa93a06[_0x22c5d1(0x5f8)]!==_0x4977d3[_0x22c5d1(0x5ec)][_0x22c5d1(0x5f8)],Object[_0x22c5d1(0x2ee)](_0xa93a06,_0x4977d3[_0x22c5d1(0x5ec)])):(_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x48e)](_0x4977d3[_0x22c5d1(0x5ec)]),_0x4c0c72=!0x0);}if(_0x4c0c72){_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x4be)]((_0x2508b3,_0x477848)=>_0x2508b3[_0x22c5d1(0x5f8)]>_0x477848[_0x22c5d1(0x5f8)]?0x1:_0x477848['order']>_0x2508b3[_0x22c5d1(0x5f8)]?-0x1:0x0);for(let _0x390b59=0x0;_0x390b59<_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x2df)];_0x390b59++)_0x457ce9[_0x22c5d1(0x851)][_0x390b59][_0x22c5d1(0x5f8)]=_0x390b59+0x1;_0x457ce9[_0x22c5d1(0x851)][_0x22c5d1(0x2df)]>0x0&&(_0x457ce9['conditions'][0x0]['OrAnd']=_0x22c5d1(0x439));}let _0x3a20bf=await this['repository'][_0x22c5d1(0x654)][_0x22c5d1(0x5f5)](_0x457ce9[_0x22c5d1(0x3fa)],_0x457ce9);if(!_0x3a20bf)throw new Error(_0x22c5d1(0x2e6));return _0x3a20bf;}catch(_0x27ff45){let _0x4fb7c5='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x2b0940=_0x27ff45 instanceof Error?_0x27ff45[_0x22c5d1(0x555)]:typeof _0x27ff45==_0x22c5d1(0x408)?JSON[_0x22c5d1(0x2c2)](_0x27ff45):_0x27ff45,_0x2b7667=_0x4fb7c5+':\x20'+_0x2b0940;throw this['logger'][_0x22c5d1(0x7ba)](this[_0x22c5d1(0x24d)]+'\x20('+this['instance'][_0x22c5d1(0x193)]+_0x22c5d1(0x60e)+_0x2b7667),new m(_0x2b7667);}}async[a0_0x26c870(0x52d)](_0x1d989b){const _0x508409=a0_0x26c870;try{if(this[_0x508409(0x263)][_0x508409(0x69d)](this[_0x508409(0x24d)]+'\x20('+this[_0x508409(0x79f)][_0x508409(0x193)]+_0x508409(0x808)),!this[_0x508409(0x6bb)]['flows'][_0x508409(0x82c)](_0xe9096=>_0xe9096[_0x508409(0x3fa)]===_0x1d989b[_0x508409(0x3fa)]))throw this[_0x508409(0x263)][_0x508409(0x69d)](this['instanceName']+'\x20('+this[_0x508409(0x79f)][_0x508409(0x193)]+_0x508409(0x6b1)+_0x1d989b[_0x508409(0x3fa)]+_0x508409(0x8d8)),new m(_0x508409(0x33f));let _0x40ef86=await this['repository'][_0x508409(0x654)][_0x508409(0x74c)]({'where':{'_id':_0x1d989b[_0x508409(0x3fa)]}});if(!_0x40ef86||!_0x40ef86[_0x508409(0x1d5)]?.['includes'](this['instance'][_0x508409(0x193)]))throw this['logger'][_0x508409(0x7ba)](this[_0x508409(0x24d)]+'\x20('+this['instance'][_0x508409(0x193)]+_0x508409(0x736)+_0x1d989b[_0x508409(0x3fa)]+_0x508409(0x57c)),new m(_0x508409(0x5a2)+_0x1d989b[_0x508409(0x3fa)]+_0x508409(0x57c));if(!_0x40ef86[_0x508409(0x2f2)]?.[_0x508409(0x7bc)](this[_0x508409(0x79f)]['wuid']))throw new m(_0x508409(0x50a));let _0x155a2b=!0x1;if(_0x1d989b[_0x508409(0x885)]?.[_0x508409(0x5e2)]===!0x0)_0x40ef86[_0x508409(0x5f9)]=_0x40ef86['varedits'][_0x508409(0x2b4)](_0x208f79=>_0x208f79&&_0x1d989b[_0x508409(0x885)]&&_0x208f79[_0x508409(0x3fa)]&&_0x1d989b[_0x508409(0x885)][_0x508409(0x3fa)]&&_0x208f79[_0x508409(0x3fa)][_0x508409(0x58a)]()!==_0x1d989b[_0x508409(0x885)][_0x508409(0x3fa)][_0x508409(0x58a)]()),_0x155a2b=!0x0;else{let _0x442eb8=_0x40ef86[_0x508409(0x5f9)][_0x508409(0x82c)](_0x54867a=>_0x54867a&&_0x1d989b['varedit']&&_0x54867a[_0x508409(0x3fa)]&&_0x1d989b[_0x508409(0x885)][_0x508409(0x3fa)]&&_0x54867a[_0x508409(0x3fa)][_0x508409(0x58a)]()===_0x1d989b['varedit'][_0x508409(0x3fa)][_0x508409(0x58a)]());_0x442eb8?(_0x155a2b=_0x442eb8[_0x508409(0x5f8)]!==_0x1d989b['varedit'][_0x508409(0x5f8)],Object['assign'](_0x442eb8,_0x1d989b[_0x508409(0x885)])):(_0x40ef86[_0x508409(0x5f9)][_0x508409(0x48e)](_0x1d989b[_0x508409(0x885)]),_0x155a2b=!0x0);}if(_0x155a2b){_0x40ef86[_0x508409(0x5f9)][_0x508409(0x4be)]((_0x3b8541,_0x4cb421)=>_0x3b8541[_0x508409(0x5f8)]>_0x4cb421[_0x508409(0x5f8)]?0x1:_0x4cb421[_0x508409(0x5f8)]>_0x3b8541[_0x508409(0x5f8)]?-0x1:0x0);for(let _0x3f5d25=0x0;_0x3f5d25<_0x40ef86['varedits']['length'];_0x3f5d25++)_0x40ef86[_0x508409(0x5f9)][_0x3f5d25][_0x508409(0x5f8)]=_0x3f5d25+0x1;}let _0x10767e=await this[_0x508409(0x252)][_0x508409(0x654)]['updateOne'](_0x40ef86['_id'],_0x40ef86);if(!_0x10767e)throw new Error(_0x508409(0x2e6));return _0x10767e;}catch(_0x15479b){let _0x10b9cd=_0x508409(0x407),_0x340115=_0x15479b instanceof Error?_0x15479b[_0x508409(0x555)]:typeof _0x15479b==_0x508409(0x408)?JSON[_0x508409(0x2c2)](_0x15479b):_0x15479b,_0x263332=_0x10b9cd+':\x20'+_0x340115;throw this[_0x508409(0x263)][_0x508409(0x7ba)](this[_0x508409(0x24d)]+'\x20('+this[_0x508409(0x79f)]['wuid']+_0x508409(0x60e)+_0x263332),new m(_0x263332);}}async[a0_0x26c870(0x41f)](_0x165649){const _0x42e2ae=a0_0x26c870;try{if(this[_0x42e2ae(0x263)]['verbose'](this[_0x42e2ae(0x24d)]+'\x20('+this[_0x42e2ae(0x79f)]['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x42e2ae(0x6bb)]['flows'][_0x42e2ae(0x82c)](_0x283c18=>_0x283c18[_0x42e2ae(0x3fa)]===_0x165649[_0x42e2ae(0x3fa)]))throw this['logger'][_0x42e2ae(0x69d)](this[_0x42e2ae(0x24d)]+'\x20('+this[_0x42e2ae(0x79f)]['wuid']+'):\x20Fluxo\x20\x27'+_0x165649['_id']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5eecd9=await this['repository'][_0x42e2ae(0x654)][_0x42e2ae(0x74c)]({'where':{'_id':_0x165649[_0x42e2ae(0x3fa)]}});if(!_0x5eecd9||!_0x5eecd9['whoCanUse']?.['includes'](this[_0x42e2ae(0x79f)][_0x42e2ae(0x193)]))throw this['logger']['error'](this[_0x42e2ae(0x24d)]+'\x20('+this[_0x42e2ae(0x79f)][_0x42e2ae(0x193)]+_0x42e2ae(0x736)+_0x165649[_0x42e2ae(0x3fa)]+_0x42e2ae(0x57c)),new m(_0x42e2ae(0x5a2)+_0x165649[_0x42e2ae(0x3fa)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5eecd9[_0x42e2ae(0x2f2)]?.[_0x42e2ae(0x7bc)](this[_0x42e2ae(0x79f)][_0x42e2ae(0x193)]))throw new m(_0x42e2ae(0x50a));_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)]=_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)][_0x42e2ae(0x3a7)](),_0x165649[_0x42e2ae(0x290)]['name'][_0x42e2ae(0x6a1)]('_')&&(_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)]=_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)]['substring'](0x1)),_0x165649[_0x42e2ae(0x290)]['name']=_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)][_0x42e2ae(0x3a7)]();let _0x27348b=_0x5eecd9['variables'][_0x42e2ae(0x82c)](_0x4023f8=>_0x4023f8[_0x42e2ae(0x5fa)]===_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)]);if(_0x27348b?.[_0x42e2ae(0x6f8)]===!0x0)throw new Error(_0x42e2ae(0x266));if(_0x165649[_0x42e2ae(0x290)]?.[_0x42e2ae(0x5e2)]===!0x0){if(!_0x27348b)return{'message':_0x42e2ae(0x7e7)};_0x5eecd9[_0x42e2ae(0x652)]=_0x5eecd9['variables']['filter'](_0x5edfbc=>_0x5edfbc[_0x42e2ae(0x5fa)]!==_0x165649[_0x42e2ae(0x290)][_0x42e2ae(0x5fa)]);}else _0x27348b?Object[_0x42e2ae(0x2ee)](_0x27348b,_0x165649['variable']):_0x5eecd9[_0x42e2ae(0x652)][_0x42e2ae(0x48e)](_0x165649[_0x42e2ae(0x290)]);let _0x4feebc=await this[_0x42e2ae(0x252)][_0x42e2ae(0x654)][_0x42e2ae(0x5f5)](_0x5eecd9['_id'],_0x5eecd9);if(!_0x4feebc)throw new Error(_0x42e2ae(0x2e6));return _0x4feebc;}catch(_0x4a4076){let _0x32dc53=_0x42e2ae(0x3a5),_0x2dfab2=_0x4a4076 instanceof Error?_0x4a4076[_0x42e2ae(0x555)]:typeof _0x4a4076==_0x42e2ae(0x408)?JSON['stringify'](_0x4a4076):_0x4a4076,_0x16ef1c=_0x32dc53+':\x20'+_0x2dfab2;throw this[_0x42e2ae(0x263)][_0x42e2ae(0x7ba)](this[_0x42e2ae(0x24d)]+'\x20('+this['instance'][_0x42e2ae(0x193)]+_0x42e2ae(0x60e)+_0x16ef1c),new m(_0x16ef1c);}}async[a0_0x26c870(0x830)](_0x4461dd){const _0x577a01=a0_0x26c870;let _0x594f1e=null;try{if(!this[_0x577a01(0x6bb)]?.[_0x577a01(0x486)][_0x577a01(0x32e)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x577a01(0x263)][_0x577a01(0x69d)](this[_0x577a01(0x24d)]+'\x20('+this[_0x577a01(0x79f)]['wuid']+'):\x20Iniciando\x20bot...');let _0x4eb505=(await this[_0x577a01(0x374)]({'numbers':[_0x4461dd[_0x577a01(0x489)]]}))[0x0];if(!_0x4eb505[_0x577a01(0x426)]&&!(0x0,w[_0x577a01(0x84c)])(_0x4eb505[_0x577a01(0x291)])&&!_0x4eb505[_0x577a01(0x291)][_0x577a01(0x7bc)](_0x577a01(0x248)))throw _0x594f1e=JSON[_0x577a01(0x2c2)](_0x4eb505,null,0x2),new m(_0x4eb505);let _0x3ffe7a;if(_0x4461dd[_0x577a01(0x5fa)][_0x577a01(0x2df)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x577a01(0x695)](_0x4461dd[_0x577a01(0x5fa)])?_0x3ffe7a=this[_0x577a01(0x6bb)][_0x577a01(0x257)]['find'](_0x24f3f0=>_0x24f3f0[_0x577a01(0x3fa)]===_0x4461dd[_0x577a01(0x5fa)]):_0x3ffe7a=this[_0x577a01(0x6bb)]['flows'][_0x577a01(0x82c)](_0x3b82fc=>_0x3b82fc[_0x577a01(0x5fa)]===_0x4461dd[_0x577a01(0x5fa)]),!_0x3ffe7a)throw this['logger'][_0x577a01(0x69d)](this[_0x577a01(0x24d)]+'\x20('+this[_0x577a01(0x79f)]['wuid']+_0x577a01(0x6b1)+_0x4461dd['name']+_0x577a01(0x8d8)),new m(_0x577a01(0x33f));let _0x2a477d=await this[_0x577a01(0x252)][_0x577a01(0x654)]['findOne']({'where':{'_id':_0x3ffe7a[_0x577a01(0x3fa)]}});if(!_0x2a477d||!_0x2a477d[_0x577a01(0x1d5)]?.[_0x577a01(0x7bc)](this['instance'][_0x577a01(0x193)]))throw this[_0x577a01(0x263)][_0x577a01(0x7ba)](this[_0x577a01(0x24d)]+'\x20('+this[_0x577a01(0x79f)][_0x577a01(0x193)]+'):\x20Flow\x20\x27'+_0x3ffe7a[_0x577a01(0x3fa)]+_0x577a01(0x57c)),_0x594f1e='Flow\x20\x27'+_0x3ffe7a[_0x577a01(0x3fa)]+_0x577a01(0x57c),new m(_0x594f1e);let _0x20a94f=await this[_0x577a01(0x835)](_0x2a477d,_0x4eb505[_0x577a01(0x291)],_0x4461dd[_0x577a01(0x51f)]);if(_0x20a94f){this['logger']['verbose'](this[_0x577a01(0x24d)]+'\x20('+this[_0x577a01(0x79f)][_0x577a01(0x193)]+_0x577a01(0x6e2));let _0x47c94a=await this[_0x577a01(0x381)](_0x20a94f);return _0x47c94a&&await this['processblock'](_0x20a94f,_0x47c94a),{'message':_0x577a01(0x245)+_0x4461dd[_0x577a01(0x489)]};}}catch(_0x1bd7bc){if(this[_0x577a01(0x263)][_0x577a01(0x7ba)](this[_0x577a01(0x24d)]+'\x20('+this[_0x577a01(0x79f)]['wuid']+_0x577a01(0x4b2)+(_0x1bd7bc instanceof Error?_0x1bd7bc[_0x577a01(0x555)]:JSON[_0x577a01(0x2c2)](_0x1bd7bc,null,0x2))),_0x594f1e=_0x1bd7bc instanceof Error?_0x1bd7bc[_0x577a01(0x555)]:JSON[_0x577a01(0x2c2)](_0x1bd7bc,null,0x2),_0x594f1e)throw new m(_0x577a01(0x5c0)+_0x594f1e);}}async[a0_0x26c870(0x7ce)](_0x54a026,_0xbcc077,_0x432791){const _0x9c742f=a0_0x26c870;let _0x70ef56=null;try{if(!this[_0x9c742f(0x6bb)]?.[_0x9c742f(0x486)][_0x9c742f(0x32e)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x9c742f(0x263)][_0x9c742f(0x69d)](this[_0x9c742f(0x24d)]+'\x20('+this['instance'][_0x9c742f(0x193)]+'):\x20Iniciando\x20bot...'),_0xbcc077){let _0x395e70=(await this[_0x9c742f(0x374)]({'numbers':[_0xbcc077]}))[0x0];if(!_0x395e70[_0x9c742f(0x426)]&&!(0x0,w[_0x9c742f(0x84c)])(_0x395e70['jid'])&&!_0x395e70[_0x9c742f(0x291)][_0x9c742f(0x7bc)]('@broadcast'))throw _0x70ef56=JSON['stringify'](_0x395e70,null,0x2),new m(_0x395e70);_0xbcc077=_0x395e70['jid'];}else _0xbcc077||(_0xbcc077=(0x0,Q['v4'])());let _0x37eff2=await this[_0x9c742f(0x252)][_0x9c742f(0x654)]['findOne']({'where':{'_id':_0x54a026}});if(!_0x37eff2||!_0x37eff2[_0x9c742f(0x1d5)]?.[_0x9c742f(0x7bc)](this[_0x9c742f(0x79f)][_0x9c742f(0x193)]))throw this['logger'][_0x9c742f(0x7ba)](this['instanceName']+'\x20('+this[_0x9c742f(0x79f)][_0x9c742f(0x193)]+_0x9c742f(0x736)+_0x54a026+_0x9c742f(0x57c)),new m(_0x9c742f(0x5a2)+_0x54a026+_0x9c742f(0x57c));let _0x137b66=await this[_0x9c742f(0x835)](_0x37eff2,_0xbcc077,null);if(_0x137b66){this[_0x9c742f(0x263)][_0x9c742f(0x69d)](this[_0x9c742f(0x24d)]+'\x20('+this[_0x9c742f(0x79f)][_0x9c742f(0x193)]+_0x9c742f(0x707));let _0xf77c3c;if(_0x432791){let _0x5af249=_0x137b66[_0x9c742f(0x7e0)][_0x9c742f(0x795)],_0x2fdf18=this[_0x9c742f(0x467)](_0x432791);Object[_0x9c742f(0x2ee)](_0x5af249,_0x2fdf18),_0x137b66[_0x9c742f(0x7e0)]['realVariables']=_0x5af249,_0xf77c3c={'error':!0x1,'apiResponse':_0x432791};}let _0x5ead59=await this['NextBlock'](_0x137b66);return _0x5ead59&&await this[_0x9c742f(0x294)](_0x137b66,_0x5ead59),{'message':_0x9c742f(0x70c)};}}catch(_0x179d9e){if(this[_0x9c742f(0x263)]['error'](this['instanceName']+'\x20('+this['instance'][_0x9c742f(0x193)]+_0x9c742f(0x4b2)+(_0x179d9e instanceof Error?_0x179d9e['message']:JSON[_0x9c742f(0x2c2)](_0x179d9e,null,0x2))),_0x70ef56=_0x179d9e instanceof Error?_0x179d9e['message']:JSON[_0x9c742f(0x2c2)](_0x179d9e,null,0x2),_0x70ef56)throw new m(_0x9c742f(0x5c0)+_0x70ef56);}}async[a0_0x26c870(0x765)](_0xfe5232){const _0x5fe4b2=a0_0x26c870;try{let _0x4e8b7e={'remoteJid':_0xfe5232,'status':'open'},_0x658639={'status':_0x5fe4b2(0x7c1)},_0x25267e=await this[_0x5fe4b2(0x252)][_0x5fe4b2(0x49f)]['updateMany'](_0x4e8b7e,_0x658639,this[_0x5fe4b2(0x79f)]['wuid']);return this[_0x5fe4b2(0x263)][_0x5fe4b2(0x69d)](this[_0x5fe4b2(0x24d)]+'\x20('+this[_0x5fe4b2(0x79f)]['wuid']+_0x5fe4b2(0x66e)),_0x25267e;}catch(_0x4adbde){throw this[_0x5fe4b2(0x263)][_0x5fe4b2(0x7ba)](this[_0x5fe4b2(0x24d)]+'\x20('+this['instance'][_0x5fe4b2(0x193)]+_0x5fe4b2(0x78c)+_0x4adbde['message']),_0x4adbde;}}async[a0_0x26c870(0x835)](_0x144d35,_0x36a2e3,_0x262d89){const _0x4ea276=a0_0x26c870;this[_0x4ea276(0x263)][_0x4ea276(0x69d)](this[_0x4ea276(0x24d)]+'\x20('+this['instance'][_0x4ea276(0x193)]+_0x4ea276(0x649)),await this[_0x4ea276(0x765)](_0x36a2e3);try{let _0x79092c=require(_0x4ea276(0x6ab))[_0x4ea276(0x7cf)],_0x1300eb=Date[_0x4ea276(0x1a6)](),_0x4d6744='start',_0x1e46c7={},_0x363517={},_0x364e4a=this[_0x4ea276(0x6bb)]['flows'][_0x4ea276(0x82c)](_0x390da7=>_0x390da7[_0x4ea276(0x3fa)]===_0x144d35['_id']?.[_0x4ea276(0x58a)]()),_0x40bc29=_0x364e4a?.[_0x4ea276(0x1a4)]??_0x144d35['minutesToClose']??0x0,_0x115315=_0x364e4a?.['readMessages']??_0x144d35[_0x4ea276(0x402)]??!0x1,_0x2a6421={'flowId':_0x144d35[_0x4ea276(0x3fa)],..._0x144d35,'chatLog':null},_0x455375=await this[_0x4ea276(0x73f)](_0x2a6421[_0x4ea276(0x652)]),_0x341bc2=await this[_0x4ea276(0x438)](_0x36a2e3),_0x5e900f={..._0x455375,..._0x341bc2,'_remoteJid':_0x36a2e3},_0x2f226c={'lastReceivedMessage':_0x1e46c7,'lastSendMessage':_0x363517,'lastBlockId':_0x4d6744,'lastCondition':!0x0,'realVariables':_0x5e900f};_0x2a6421[_0x4ea276(0x7e0)]=_0x2f226c,_0x2a6421[_0x4ea276(0x7e0)][_0x4ea276(0x795)]={..._0x5e900f,..._0x262d89},delete _0x2a6421[_0x4ea276(0x3fa)],_0x2a6421[_0x4ea276(0x3fa)]=new _0x79092c(),_0x2a6421[_0x4ea276(0x324)]=_0x1300eb,_0x2a6421[_0x4ea276(0x284)]=_0x4ea276(0x940),_0x2a6421[_0x4ea276(0x489)]=_0x36a2e3,_0x2a6421['minutesToClose']=_0x40bc29,_0x2a6421[_0x4ea276(0x402)]=_0x115315,_0x2a6421['_id']=_0x144d35[_0x4ea276(0x3fa)];let _0x2ee745=await this[_0x4ea276(0x252)][_0x4ea276(0x49f)][_0x4ea276(0x5f5)](_0x2a6421[_0x4ea276(0x3fa)],_0x2a6421,this[_0x4ea276(0x79f)]['wuid']);return this[_0x4ea276(0x263)][_0x4ea276(0x69d)](this[_0x4ea276(0x24d)]+'\x20('+this[_0x4ea276(0x79f)][_0x4ea276(0x193)]+_0x4ea276(0x466)),_0x2ee745?_0x2a6421:null;}catch(_0x20c94a){let _0x114eab=_0x4ea276(0x8f0),_0x301da8=_0x20c94a instanceof Error?_0x20c94a[_0x4ea276(0x555)]:typeof _0x20c94a==_0x4ea276(0x408)?JSON[_0x4ea276(0x2c2)](_0x20c94a):_0x20c94a,_0x3a376c=_0x114eab+':\x20'+_0x301da8;throw this[_0x4ea276(0x263)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4ea276(0x193)]+_0x4ea276(0x60e)+_0x3a376c),new m(_0x3a376c);}}async[a0_0x26c870(0x5a7)](_0xcb61c9){const _0x59a5ec=a0_0x26c870;try{this[_0x59a5ec(0x263)]['verbose'](this[_0x59a5ec(0x24d)]+'\x20('+this[_0x59a5ec(0x79f)]['wuid']+_0x59a5ec(0x7c0)),this[_0x59a5ec(0x263)][_0x59a5ec(0x69d)](this[_0x59a5ec(0x24d)]+'\x20('+this[_0x59a5ec(0x79f)][_0x59a5ec(0x193)]+_0x59a5ec(0x421)+_0xcb61c9);let _0x47848d={'where':{'_id':_0xcb61c9}};return await this[_0x59a5ec(0x252)]['flowConversation'][_0x59a5ec(0x74c)](_0x47848d,this[_0x59a5ec(0x79f)][_0x59a5ec(0x193)]);}catch(_0x4a17b5){let _0x3fbdee=_0x59a5ec(0x680),_0x2c5be7=_0x4a17b5 instanceof Error?_0x4a17b5['message']:typeof _0x4a17b5=='object'?JSON[_0x59a5ec(0x2c2)](_0x4a17b5):_0x4a17b5,_0x320e36=_0x3fbdee+':\x20'+_0x2c5be7;throw this[_0x59a5ec(0x263)]['error'](this[_0x59a5ec(0x24d)]+'\x20('+this['instance'][_0x59a5ec(0x193)]+_0x59a5ec(0x60e)+_0x320e36),new m(_0x320e36);}}async[a0_0x26c870(0x91b)](_0x5176de){const _0x3dbda9=a0_0x26c870;try{return this[_0x3dbda9(0x263)][_0x3dbda9(0x69d)](this[_0x3dbda9(0x24d)]+'\x20('+this[_0x3dbda9(0x79f)]['wuid']+_0x3dbda9(0x4f8)),await this['repository'][_0x3dbda9(0x49f)][_0x3dbda9(0x82c)](_0x5176de,this[_0x3dbda9(0x79f)][_0x3dbda9(0x193)]);}catch(_0x1c0555){let _0x32a4bc=_0x3dbda9(0x337),_0x3e8dd5=_0x1c0555 instanceof Error?_0x1c0555[_0x3dbda9(0x555)]:typeof _0x1c0555==_0x3dbda9(0x408)?JSON[_0x3dbda9(0x2c2)](_0x1c0555):_0x1c0555,_0x376a4a=_0x32a4bc+':\x20'+_0x3e8dd5;throw this[_0x3dbda9(0x263)][_0x3dbda9(0x7ba)](this[_0x3dbda9(0x24d)]+'\x20('+this[_0x3dbda9(0x79f)][_0x3dbda9(0x193)]+_0x3dbda9(0x60e)+_0x376a4a),new m(_0x376a4a);}}async[a0_0x26c870(0x57f)](_0x10f6ef){const _0x34c048=a0_0x26c870;try{return this[_0x34c048(0x263)]['verbose'](this[_0x34c048(0x24d)]+'\x20('+this[_0x34c048(0x79f)][_0x34c048(0x193)]+_0x34c048(0x876)),this[_0x34c048(0x263)][_0x34c048(0x69d)](this[_0x34c048(0x24d)]+'\x20('+this[_0x34c048(0x79f)][_0x34c048(0x193)]+_0x34c048(0x3fe)+_0x10f6ef),(await this[_0x34c048(0x252)]['flowConversation'][_0x34c048(0x4da)]({'where':{'_id':_0x10f6ef['_id']}},this[_0x34c048(0x79f)][_0x34c048(0x193)]))[_0x34c048(0x882)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x34c048(0x44f)};}catch(_0x1dc8a4){let _0x2a122e=_0x34c048(0x492),_0x82e77c=_0x1dc8a4 instanceof Error?_0x1dc8a4[_0x34c048(0x555)]:typeof _0x1dc8a4==_0x34c048(0x408)?JSON[_0x34c048(0x2c2)](_0x1dc8a4):_0x1dc8a4,_0xc72d65=_0x2a122e+':\x20'+_0x82e77c;throw this[_0x34c048(0x263)][_0x34c048(0x7ba)](this[_0x34c048(0x24d)]+'\x20('+this[_0x34c048(0x79f)][_0x34c048(0x193)]+_0x34c048(0x60e)+_0xc72d65),new m(_0xc72d65);}}async[a0_0x26c870(0x913)](_0x10bddb){const _0x947404=a0_0x26c870;try{let {_id:_0x4e8433,chatLog:_0x70757f,status:_0x24da5e}=_0x10bddb;if(!_0x4e8433)return{'message':_0x947404(0x74f)};let _0x1c76fe={};if(_0x24da5e!==void 0x0&&(_0x1c76fe[_0x947404(0x284)]=_0x24da5e),Object['keys'](_0x1c76fe)[_0x947404(0x2df)]===0x0)return{'message':_0x947404(0x616)};let _0x4a9d91=await this[_0x947404(0x252)][_0x947404(0x49f)][_0x947404(0x5f5)](_0x4e8433,_0x1c76fe,this[_0x947404(0x79f)]['wuid']);return _0x4a9d91||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x2bd09c){let _0x55606c=_0x947404(0x80f),_0x390378=_0x2bd09c instanceof Error?_0x2bd09c[_0x947404(0x555)]:typeof _0x2bd09c==_0x947404(0x408)?JSON[_0x947404(0x2c2)](_0x2bd09c):_0x2bd09c,_0x32697e=_0x55606c+':\x20'+_0x390378;throw this[_0x947404(0x263)][_0x947404(0x7ba)](this[_0x947404(0x24d)]+'\x20('+this[_0x947404(0x79f)][_0x947404(0x193)]+'):\x20'+_0x32697e),new m(_0x32697e);}}async[a0_0x26c870(0x437)](_0x5c2cfa){const _0x1fe372=a0_0x26c870;try{_0x5c2cfa[_0x1fe372(0x3fa)]=this[_0x1fe372(0x843)](_0x5c2cfa[_0x1fe372(0x3fa)]);let _0x2e6930=await this['repository']['chat'][_0x1fe372(0x74c)]({'where':{'_id':_0x5c2cfa[_0x1fe372(0x3fa)]}},this[_0x1fe372(0x79f)]['wuid']);if(!_0x2e6930)throw new m(_0x1fe372(0x829));let {_id:_0x1a00d1,leadInfo:_0x5a43b8}=_0x5c2cfa;if(!_0x1a00d1)throw new Error(_0x1fe372(0x842));if(_0x5c2cfa[_0x1fe372(0x5e2)]==='all')return await this[_0x1fe372(0x251)](_0x5c2cfa['_id']),await this['repository'][_0x1fe372(0x629)][_0x1fe372(0x5e2)]({'where':{'_id':_0x5c2cfa[_0x1fe372(0x3fa)]}},this[_0x1fe372(0x79f)][_0x1fe372(0x193)]),await this[_0x1fe372(0x252)][_0x1fe372(0x555)][_0x1fe372(0x5e2)]({'where':{'key':{'remoteJid':_0x5c2cfa[_0x1fe372(0x3fa)]}}},this[_0x1fe372(0x79f)]['wuid']),_0x5c2cfa=await this[_0x1fe372(0x252)][_0x1fe372(0x629)]['updateOne']({'where':{'_id':_0x5c2cfa[_0x1fe372(0x3fa)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1fe372(0x79f)][_0x1fe372(0x193)]),F(this['instanceName'],'chats',{'chat':_0x5c2cfa}),{'message':_0x1fe372(0x6af)};if(_0x5c2cfa[_0x1fe372(0x5e2)]===_0x1fe372(0x55a))return await this[_0x1fe372(0x252)][_0x1fe372(0x555)][_0x1fe372(0x5e2)]({'where':{'key':{'remoteJid':_0x5c2cfa[_0x1fe372(0x3fa)]}}},this['instance'][_0x1fe372(0x193)]),_0x5c2cfa=await this['repository'][_0x1fe372(0x629)][_0x1fe372(0x5f5)]({'where':{'_id':_0x5c2cfa[_0x1fe372(0x3fa)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1fe372(0x79f)][_0x1fe372(0x193)]),F(this['instanceName'],_0x1fe372(0x3eb),{'chat':_0x5c2cfa}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x3328bc=(_0x5ee044,_0x3b4d2e,_0x5bdbcd)=>{_0x5ee044&&_0x5bdbcd['forEach'](_0x49c84d=>{const _0x5864da=a0_0x4486;_0x5ee044[_0x49c84d]!==void 0x0&&(_0x3b4d2e[_0x5864da(0x3c8)+_0x49c84d]=_0x5ee044[_0x49c84d]);});},_0x476fc3={};if(_0x1fe372(0x757)in _0x5c2cfa&&(this[_0x1fe372(0x263)][_0x1fe372(0x69d)](this[_0x1fe372(0x24d)]+'\x20('+this[_0x1fe372(0x79f)]['wuid']+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x5c2cfa[_0x1fe372(0x3fa)]),_0x5c2cfa[_0x1fe372(0x757)]=_0x5c2cfa[_0x1fe372(0x757)]===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x5c2cfa['muteEndTime']},_0x5c2cfa[_0x1fe372(0x3fa)]),_0x476fc3['muteEndTime']=Number(_0x5c2cfa[_0x1fe372(0x757)])),_0x5a43b8&&(_0x3328bc(_0x5a43b8,_0x476fc3,[_0x1fe372(0x537),'nomecompleto',_0x1fe372(0x53a),_0x1fe372(0x90e),'status',_0x1fe372(0x75b),_0x1fe372(0x6b2),'atendimentoAberto',_0x1fe372(0x626),_0x1fe372(0x71c),_0x1fe372(0x8aa)]),Array[_0x1fe372(0x67a)](_0x5a43b8[_0x1fe372(0x454)])&&(_0x476fc3['leadInfo.customFields']=_0x5a43b8[_0x1fe372(0x454)]['map'](_0x4729bc=>({'_id':_0x4729bc['_id'],'value':_0x4729bc[_0x1fe372(0x2d3)]}))),_0x5c2cfa[_0x1fe372(0x6f8)][_0x1fe372(0x71c)]!==void 0x0)){let _0x54fb9f=await this[_0x1fe372(0x252)]['label'][_0x1fe372(0x82c)]({'where':{}},this[_0x1fe372(0x79f)]['wuid']),_0x2e74e9=new Set(_0x5c2cfa[_0x1fe372(0x6f8)][_0x1fe372(0x71c)]||[]),_0x5e33e3=new Set(_0x5c2cfa['leadInfo']['etiquetas']),_0xa0521d=new Set(_0x54fb9f[_0x1fe372(0x27c)](_0x18d7dd=>_0x18d7dd[_0x1fe372(0x3fa)])),_0x31b68d=[..._0x5e33e3]['filter'](_0x3bca52=>!_0x2e74e9[_0x1fe372(0x5fb)](_0x3bca52)&&_0xa0521d[_0x1fe372(0x5fb)](_0x3bca52)),_0x4fa192=[..._0x2e74e9][_0x1fe372(0x2b4)](_0x503a4d=>!_0x5e33e3[_0x1fe372(0x5fb)](_0x503a4d));if(_0x476fc3['leadInfo.etiquetas']=[..._0x2e74e9],_0x2e6930&&!_0x2e6930[_0x1fe372(0x219)]){for(let _0x201976 of _0x31b68d)await this[_0x1fe372(0x92d)](_0x201976,_0x5c2cfa[_0x1fe372(0x3fa)]),_0x2e74e9[_0x1fe372(0x1c4)](_0x201976);for(let _0xd26ead of _0x4fa192)await this[_0x1fe372(0x63c)](_0xd26ead,_0x5c2cfa[_0x1fe372(0x3fa)]),_0x2e74e9[_0x1fe372(0x5e2)](_0xd26ead);}}if(_0x5c2cfa[_0x1fe372(0x6d1)]!==void 0x0&&(_0x476fc3[_0x1fe372(0x6d1)]=Number(_0x5c2cfa[_0x1fe372(0x6d1)])),Object[_0x1fe372(0x2ef)](_0x476fc3)[_0x1fe372(0x2df)]===0x0)throw new Error(_0x1fe372(0x616));let _0x375143=await this[_0x1fe372(0x252)]['chat'][_0x1fe372(0x5f5)]({'where':{'_id':_0x5c2cfa[_0x1fe372(0x3fa)]}},_0x476fc3,this[_0x1fe372(0x79f)]['wuid']);return _0x375143&&F(this[_0x1fe372(0x24d)],_0x1fe372(0x3eb),{'chat':_0x375143}),_0x375143?(this[_0x1fe372(0x263)]['verbose'](this[_0x1fe372(0x24d)]+'\x20('+this[_0x1fe372(0x79f)][_0x1fe372(0x193)]+_0x1fe372(0x60e)+JSON[_0x1fe372(0x2c2)](_0x375143,null,0x2)),_0x375143):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x18a2eb){let _0x554f32='Erro\x20ao\x20editar\x20o\x20chat',_0x3e4a0e=_0x18a2eb instanceof Error?_0x18a2eb[_0x1fe372(0x555)]:typeof _0x18a2eb==_0x1fe372(0x408)?JSON[_0x1fe372(0x2c2)](_0x18a2eb):_0x18a2eb,_0x28000b=_0x554f32+':\x20'+_0x3e4a0e;throw this[_0x1fe372(0x263)]['error'](this[_0x1fe372(0x24d)]+'\x20('+this[_0x1fe372(0x79f)][_0x1fe372(0x193)]+_0x1fe372(0x60e)+_0x28000b),new m(_0x28000b);}}async['AddChatLabel'](_0x3f00d6,_0x32a375){const _0x2ed896=a0_0x26c870;try{await this['client']['addChatLabel'](_0x32a375,_0x3f00d6),this[_0x2ed896(0x263)][_0x2ed896(0x797)](this[_0x2ed896(0x24d)]+'\x20('+this[_0x2ed896(0x79f)][_0x2ed896(0x193)]+'):\x20Label\x20'+_0x3f00d6+'\x20adicionado\x20ao\x20chat\x20'+_0x32a375+_0x2ed896(0x3ef));}catch(_0x1a9ec6){this[_0x2ed896(0x263)][_0x2ed896(0x7ba)](_0x2ed896(0x3ae)+_0x3f00d6+_0x2ed896(0x227)+_0x32a375+':\x20'+_0x1a9ec6);}}async[a0_0x26c870(0x63c)](_0x508153,_0x18695d){const _0x364594=a0_0x26c870;try{await this[_0x364594(0x5e8)][_0x364594(0x2f7)](_0x18695d,_0x508153),this['logger'][_0x364594(0x797)](this[_0x364594(0x24d)]+'\x20('+this[_0x364594(0x79f)][_0x364594(0x193)]+_0x364594(0x934)+_0x508153+_0x364594(0x1fb)+_0x18695d+'\x20com\x20sucesso.');}catch(_0x2dfd4a){this[_0x364594(0x263)][_0x364594(0x7ba)](_0x364594(0x803)+_0x508153+'\x20do\x20chat\x20'+_0x18695d+':\x20'+_0x2dfd4a);}}async[a0_0x26c870(0x590)](_0x6648de){const _0x5d6ae9=a0_0x26c870;try{let _0x2f9d09=await this[_0x5d6ae9(0x252)][_0x5d6ae9(0x38f)][_0x5d6ae9(0x244)](this['instance'][_0x5d6ae9(0x193)]),_0x528fe6=_0x6648de[_0x5d6ae9(0x3fa)]?_0x2f9d09[_0x5d6ae9(0x594)]['findIndex'](_0x415e25=>_0x415e25[_0x5d6ae9(0x3fa)]===_0x6648de[_0x5d6ae9(0x3fa)]):-0x1;if(_0x6648de['delete']&&_0x528fe6>-0x1)_0x2f9d09[_0x5d6ae9(0x594)][_0x5d6ae9(0x192)](_0x528fe6,0x1);else{if(_0x528fe6>-0x1){let _0x5ca14c=_0x2f9d09[_0x5d6ae9(0x594)][_0x528fe6];_0x6648de[_0x5d6ae9(0x30f)]&&(_0x5ca14c[_0x5d6ae9(0x30f)]=_0x6648de[_0x5d6ae9(0x30f)]),_0x6648de[_0x5d6ae9(0x5fa)]&&(_0x5ca14c[_0x5d6ae9(0x5fa)]=_0x6648de[_0x5d6ae9(0x5fa)]),_0x6648de[_0x5d6ae9(0x53a)]&&(_0x5ca14c[_0x5d6ae9(0x53a)]=_0x6648de[_0x5d6ae9(0x53a)]),_0x6648de[_0x5d6ae9(0x3f0)]&&(_0x5ca14c[_0x5d6ae9(0x3f0)]=_0x6648de[_0x5d6ae9(0x3f0)]);}else _0x2f9d09[_0x5d6ae9(0x594)][_0x5d6ae9(0x48e)]({'_id':_0x6648de[_0x5d6ae9(0x3fa)]||new he['default']['Types'][(_0x5d6ae9(0x7cf))]()[_0x5d6ae9(0x58a)](),'fone':_0x6648de['fone'],'name':_0x6648de['name'],'email':_0x6648de['email'],'role':_0x6648de[_0x5d6ae9(0x3f0)]});}let _0xda82ca={'agents':_0x2f9d09[_0x5d6ae9(0x594)]},_0x57a37f=await this[_0x5d6ae9(0x252)][_0x5d6ae9(0x38f)]['update'](_0xda82ca,this[_0x5d6ae9(0x79f)][_0x5d6ae9(0x193)]);return this['AutomateSystem']=_0x57a37f,this[_0x5d6ae9(0x263)][_0x5d6ae9(0x69d)](this[_0x5d6ae9(0x24d)]+'\x20('+this[_0x5d6ae9(0x79f)][_0x5d6ae9(0x193)]+_0x5d6ae9(0x80e)),this['logger'][_0x5d6ae9(0x69d)](this[_0x5d6ae9(0x24d)]+'\x20('+this[_0x5d6ae9(0x79f)][_0x5d6ae9(0x193)]+'):\x20'+this['AutomateSystem']),_0x57a37f;}catch(_0x18a536){let _0x30502b=_0x5d6ae9(0x753),_0x26296c=_0x18a536 instanceof Error?_0x18a536[_0x5d6ae9(0x555)]:typeof _0x18a536==_0x5d6ae9(0x408)?JSON[_0x5d6ae9(0x2c2)](_0x18a536):_0x18a536,_0x179ec4=_0x30502b+':\x20'+_0x26296c;throw this[_0x5d6ae9(0x263)][_0x5d6ae9(0x7ba)](this['instanceName']+'\x20('+this[_0x5d6ae9(0x79f)][_0x5d6ae9(0x193)]+'):\x20'+_0x179ec4),new m(_0x179ec4);}}async['updateCustomFields'](_0x1a032f){const _0x21a44f=a0_0x26c870;try{let _0xa57421=await this[_0x21a44f(0x252)]['automateSystem']['findOrCreate'](this[_0x21a44f(0x79f)][_0x21a44f(0x193)]),_0x11524d=_0x1a032f[_0x21a44f(0x3fa)]?_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x19d)](_0x496b92=>_0x496b92['_id']===_0x1a032f[_0x21a44f(0x3fa)]):-0x1,_0x305f84=!0x1,_0x3c21d3=_0xa57421['customFields'][_0x21a44f(0x441)](_0x16d483=>_0x16d483[_0x21a44f(0x5f8)]===_0x1a032f[_0x21a44f(0x5f8)]);if(_0x1a032f[_0x21a44f(0x5e2)]&&_0x11524d>-0x1)_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x192)](_0x11524d,0x1),_0x305f84=!0x0;else{if(_0x11524d>-0x1){if(_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x441)](_0x5934a2=>_0x5934a2[_0x21a44f(0x5fa)]===_0x1a032f[_0x21a44f(0x5fa)]&&_0x5934a2[_0x21a44f(0x3fa)]!==_0x1a032f['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x324fdd=_0xa57421['customFields'][_0x11524d];_0x1a032f[_0x21a44f(0x5f8)]&&(_0x3c21d3||!Number[_0x21a44f(0x73e)](_0x1a032f[_0x21a44f(0x5f8)]))&&(_0x324fdd[_0x21a44f(0x5f8)]=_0x1a032f[_0x21a44f(0x5f8)],_0x305f84=!0x0),_0x1a032f[_0x21a44f(0x5fa)]&&(_0x324fdd['name']=_0x1a032f[_0x21a44f(0x5fa)]);}else{if(_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x441)](_0x97cf60=>_0x97cf60['name']===_0x1a032f[_0x21a44f(0x5fa)]&&_0x97cf60[_0x21a44f(0x3fa)]!==_0x1a032f[_0x21a44f(0x3fa)]))throw new Error(_0x21a44f(0x1c2));_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x48e)]({'_id':_0x1a032f[_0x21a44f(0x3fa)]||new he[(_0x21a44f(0x595))][(_0x21a44f(0x500))][(_0x21a44f(0x7cf))]()['toString'](),'order':_0x1a032f[_0x21a44f(0x5f8)],'name':_0x1a032f[_0x21a44f(0x5fa)]}),_0x305f84=!0x0;}}if(_0x305f84){_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x4be)]((_0x4a7a9b,_0x27a752)=>_0x4a7a9b[_0x21a44f(0x5f8)]>_0x27a752[_0x21a44f(0x5f8)]?0x1:_0x27a752[_0x21a44f(0x5f8)]>_0x4a7a9b['order']?-0x1:0x0);for(let _0x339730=0x0;_0x339730<_0xa57421[_0x21a44f(0x454)][_0x21a44f(0x2df)];_0x339730++)_0xa57421[_0x21a44f(0x454)][_0x339730][_0x21a44f(0x5f8)]=_0x339730+0x1;}let _0x42fbfe=await this['repository'][_0x21a44f(0x38f)]['update'](_0xa57421,this[_0x21a44f(0x79f)]['wuid']);return this['AutomateSystem']=_0x42fbfe,this['logger'][_0x21a44f(0x69d)](this[_0x21a44f(0x24d)]+'\x20('+this[_0x21a44f(0x79f)][_0x21a44f(0x193)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x21a44f(0x263)]['verbose'](this[_0x21a44f(0x24d)]+'\x20('+this[_0x21a44f(0x79f)][_0x21a44f(0x193)]+_0x21a44f(0x60e)+this[_0x21a44f(0x6bb)]),_0x42fbfe;}catch(_0x5cb9c9){let _0x4e263e=_0x21a44f(0x3c3),_0x136f64=_0x5cb9c9 instanceof Error?_0x5cb9c9[_0x21a44f(0x555)]:typeof _0x5cb9c9==_0x21a44f(0x408)?JSON['stringify'](_0x5cb9c9):_0x5cb9c9,_0x21ec4c=_0x4e263e+':\x20'+_0x136f64;throw this[_0x21a44f(0x263)][_0x21a44f(0x7ba)](this[_0x21a44f(0x24d)]+'\x20('+this[_0x21a44f(0x79f)][_0x21a44f(0x193)]+_0x21a44f(0x60e)+_0x21ec4c),new m(_0x21ec4c);}}async[a0_0x26c870(0x450)](_0x37b5a3){const _0x15202d=a0_0x26c870;try{let _0x17c9a0=await this[_0x15202d(0x252)][_0x15202d(0x38f)][_0x15202d(0x244)](this[_0x15202d(0x79f)][_0x15202d(0x193)]),_0x7a252=_0x17c9a0?.[_0x15202d(0x495)]?.['findIndex'](_0x1b6ab1=>_0x1b6ab1[_0x15202d(0x3fa)]===_0x37b5a3?.[_0x15202d(0x3fa)]);if(_0x37b5a3?.[_0x15202d(0x5e2)])_0x7a252>-0x1&&_0x17c9a0?.[_0x15202d(0x495)]?.[_0x15202d(0x192)](_0x7a252,0x1);else{if(_0x7a252>-0x1){let _0x4d278b=_0x17c9a0[_0x15202d(0x495)][_0x7a252];_0x4d278b[_0x15202d(0x5f8)]=_0x37b5a3?.[_0x15202d(0x5f8)]||_0x4d278b['order'],_0x4d278b['command']=_0x37b5a3?.[_0x15202d(0x87b)]||_0x4d278b['command'],_0x4d278b[_0x15202d(0x555)]=_0x37b5a3?.[_0x15202d(0x555)]||_0x4d278b[_0x15202d(0x555)];}else{let _0x1d8301={'_id':_0x37b5a3?.[_0x15202d(0x3fa)]||new he[(_0x15202d(0x595))][(_0x15202d(0x500))]['ObjectId']()[_0x15202d(0x58a)](),'order':_0x37b5a3?.[_0x15202d(0x5f8)],'command':_0x37b5a3?.['command'],'message':_0x37b5a3?.[_0x15202d(0x555)]};_0x17c9a0?.['autoCompleteMessages']?.[_0x15202d(0x48e)](_0x1d8301);}}_0x17c9a0?.[_0x15202d(0x495)]?.[_0x15202d(0x4be)]((_0x443a33,_0x5b30b0)=>_0x443a33[_0x15202d(0x5f8)]-_0x5b30b0[_0x15202d(0x5f8)]);let _0x138dcb=await this[_0x15202d(0x252)][_0x15202d(0x38f)][_0x15202d(0x447)](_0x17c9a0,this['instance'][_0x15202d(0x193)]);return this[_0x15202d(0x6bb)]=_0x138dcb,this[_0x15202d(0x263)]['verbose'](this['instanceName']+'\x20('+this[_0x15202d(0x79f)][_0x15202d(0x193)]+_0x15202d(0x3d3)),_0x138dcb;}catch(_0x41b111){let _0x8873cf=_0x15202d(0x717),_0x2b88c6=_0x41b111 instanceof Error?_0x41b111[_0x15202d(0x555)]:typeof _0x41b111=='object'?JSON[_0x15202d(0x2c2)](_0x41b111):_0x41b111,_0x4ce7bf=_0x8873cf+':\x20'+_0x2b88c6;throw this['logger'][_0x15202d(0x7ba)](this[_0x15202d(0x24d)]+'\x20('+this[_0x15202d(0x79f)]['wuid']+_0x15202d(0x60e)+_0x4ce7bf),new m(_0x4ce7bf);}}async['updateFlowConfig'](_0x5e440c){const _0x2cb027=a0_0x26c870;try{let _0x3896b4=await this[_0x2cb027(0x252)][_0x2cb027(0x38f)]['findOrCreate'](this[_0x2cb027(0x79f)][_0x2cb027(0x193)]);if(!_0x3896b4)throw new Error(_0x2cb027(0x2d7));let _0x2e8763={'_id':_0x3896b4[_0x2cb027(0x3fa)],'flowConfig':{'enabled':_0x5e440c[_0x2cb027(0x32e)]??_0x3896b4[_0x2cb027(0x486)][_0x2cb027(0x32e)],'ignoreGroups':_0x5e440c[_0x2cb027(0x7d1)]??_0x3896b4[_0x2cb027(0x486)]['ignoreGroups'],'stopConversation':_0x5e440c[_0x2cb027(0x4ef)]['trim']()??_0x3896b4[_0x2cb027(0x486)][_0x2cb027(0x4ef)][_0x2cb027(0x3a7)](),'stopMinutes':_0x5e440c[_0x2cb027(0x659)]??_0x3896b4[_0x2cb027(0x486)][_0x2cb027(0x659)],'stopWhenYouSendMsg':_0x5e440c['stopWhenYouSendMsg']??_0x3896b4[_0x2cb027(0x486)][_0x2cb027(0x3c7)]}},_0x4d7f5a=await this[_0x2cb027(0x252)][_0x2cb027(0x38f)][_0x2cb027(0x447)](_0x2e8763,this[_0x2cb027(0x79f)]['wuid']);return this[_0x2cb027(0x6bb)]=_0x4d7f5a,this[_0x2cb027(0x263)][_0x2cb027(0x69d)](this['instanceName']+'\x20('+this[_0x2cb027(0x79f)][_0x2cb027(0x193)]+_0x2cb027(0x80e)),this[_0x2cb027(0x263)][_0x2cb027(0x69d)](this['instanceName']+'\x20('+this['instance'][_0x2cb027(0x193)]+'):\x20'+this[_0x2cb027(0x6bb)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4d7f5a;}catch(_0x2b1b39){let _0x24c899=_0x2cb027(0x63b),_0xcd6769=_0x2b1b39 instanceof Error?_0x2b1b39[_0x2cb027(0x555)]:typeof _0x2b1b39=='object'?JSON[_0x2cb027(0x2c2)](_0x2b1b39):_0x2b1b39,_0x1fdd2d=_0x24c899+':\x20'+_0xcd6769;throw this[_0x2cb027(0x263)]['error'](this['instanceName']+'\x20('+this[_0x2cb027(0x79f)]['wuid']+_0x2cb027(0x60e)+_0x1fdd2d),new m(_0x1fdd2d);}}async[a0_0x26c870(0x791)](){const _0x1417eb=a0_0x26c870;try{let _0x49b27f=await this[_0x1417eb(0x252)][_0x1417eb(0x38f)][_0x1417eb(0x244)](this[_0x1417eb(0x79f)][_0x1417eb(0x193)]);return this[_0x1417eb(0x6bb)]=_0x49b27f,_0x49b27f;}catch(_0x10b41b){let _0x1d68a5='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x17b825=_0x10b41b instanceof Error?_0x10b41b[_0x1417eb(0x555)]:typeof _0x10b41b==_0x1417eb(0x408)?JSON[_0x1417eb(0x2c2)](_0x10b41b):_0x10b41b,_0x41e11c=_0x1d68a5+':\x20'+_0x17b825;throw this[_0x1417eb(0x263)][_0x1417eb(0x7ba)](this[_0x1417eb(0x24d)]+'\x20('+this[_0x1417eb(0x79f)][_0x1417eb(0x193)]+_0x1417eb(0x60e)+_0x41e11c),new m(_0x41e11c);}}async['initializeQueue'](){const _0x483a10=a0_0x26c870;let _0x2c00bc=(await import(_0x483a10(0x40c)))[_0x483a10(0x595)];this[_0x483a10(0x1ae)]=new _0x2c00bc({'concurrency':0x1});}async[a0_0x26c870(0x85c)](){const _0x326b6f=a0_0x26c870;this[_0x326b6f(0x79f)][_0x326b6f(0x476)][_0x326b6f(0x8b1)]&&clearTimeout(this[_0x326b6f(0x79f)][_0x326b6f(0x476)][_0x326b6f(0x8b1)]),this[_0x326b6f(0x79f)][_0x326b6f(0x476)][_0x326b6f(0x8b1)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x26c870(0x4e0)](){const _0x1b4e03=a0_0x26c870;let _0x317abe=this['instance'][_0x1b4e03(0x476)][_0x1b4e03(0x5ef)];(_0x317abe===0x0||_0x317abe===null||Date[_0x1b4e03(0x1a6)]()-_0x317abe>=0x1d4c0)&&(this['logger'][_0x1b4e03(0x69d)](this[_0x1b4e03(0x24d)]+'\x20('+this[_0x1b4e03(0x79f)]['wuid']+_0x1b4e03(0x667)),this[_0x1b4e03(0x79f)]['ScheduleMessage'][_0x1b4e03(0x49c)]=null,this['instance']['ScheduleMessage']['lastSend']=0x0,this[_0x1b4e03(0x79f)][_0x1b4e03(0x476)][_0x1b4e03(0x6db)]=0x0,await this[_0x1b4e03(0x4ac)]());}async[a0_0x26c870(0x4ac)](){const _0x171060=a0_0x26c870;this['logger'][_0x171060(0x6be)](this[_0x171060(0x24d)]+'\x20('+this[_0x171060(0x79f)][_0x171060(0x193)]+_0x171060(0x4c2)),await this[_0x171060(0x814)]();let _0x1ffeea=await this['getReadyToSendMessages']();_0x1ffeea[_0x171060(0x2df)]>0x0&&(setTimeout(()=>this[_0x171060(0x4e0)](),0x14*0x3e8),this[_0x171060(0x263)][_0x171060(0x6be)](this[_0x171060(0x24d)]+'\x20('+this['instance']['wuid']+_0x171060(0x4a3)),this[_0x171060(0x1ae)][_0x171060(0x1f1)](),this[_0x171060(0x1ae)][_0x171060(0x1c4)](()=>this[_0x171060(0x5f6)](_0x1ffeea)));let _0x5c9acb={'where':{'status':'scheduled','when':{'$gt':Date[_0x171060(0x1a6)]()}}},_0x3aca51=await this[_0x171060(0x252)][_0x171060(0x280)][_0x171060(0x74c)](_0x5c9acb,this[_0x171060(0x79f)][_0x171060(0x193)]);_0x3aca51&&_0x3aca51[_0x171060(0x27d)]-Date[_0x171060(0x1a6)]()<=0x6ddd00?this[_0x171060(0x79f)][_0x171060(0x476)][_0x171060(0x6db)]=_0x3aca51[_0x171060(0x27d)]-Date[_0x171060(0x1a6)]():this[_0x171060(0x79f)]['ScheduleMessage']['delayMessage']=(0x3c+Math['floor'](Math[_0x171060(0x51c)]()*0x3c))*0x3c*0x3e8,this[_0x171060(0x79f)][_0x171060(0x476)]['delayMessage']=Math['max'](this[_0x171060(0x79f)]['ScheduleMessage']['delayMessage'],0x1*0x2*0x3e8);let _0x52baca=Math['round'](this['instance']['ScheduleMessage']['delayMessage']/0xea60);if(_0x3aca51){let _0x4b5a0d=new Date(_0x3aca51['when'])[_0x171060(0x56e)]();this['logger'][_0x171060(0x6be)](this[_0x171060(0x24d)]+'\x20('+this[_0x171060(0x79f)]['wuid']+_0x171060(0x93c)+_0x4b5a0d+_0x171060(0x5c9)+_0x52baca+_0x171060(0x8e7));}else this[_0x171060(0x263)][_0x171060(0x6be)](this[_0x171060(0x24d)]+'\x20('+this['instance'][_0x171060(0x193)]+_0x171060(0x7a6)+_0x52baca+_0x171060(0x8e7));setTimeout(()=>{const _0x2c06e6=_0x171060;this[_0x2c06e6(0x4ac)]();},this[_0x171060(0x79f)][_0x171060(0x476)]['delayMessage']);}async['getReadyToSendMessages'](){const _0x2dbfe9=a0_0x26c870;this['logger'][_0x2dbfe9(0x6be)](this[_0x2dbfe9(0x24d)]+'\x20('+this[_0x2dbfe9(0x79f)][_0x2dbfe9(0x193)]+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x3717f4=Date[_0x2dbfe9(0x1a6)]()-0xc*0x3c*0x3c*0x3e8,_0x12cca7={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x2dbfe9(0x1a6)](),'$gte':_0x3717f4}},{'when':0x0}]}},_0x219196=await this[_0x2dbfe9(0x252)][_0x2dbfe9(0x280)]['find'](_0x12cca7,this[_0x2dbfe9(0x79f)][_0x2dbfe9(0x193)]);return this[_0x2dbfe9(0x263)][_0x2dbfe9(0x6be)](this[_0x2dbfe9(0x24d)]+'\x20('+this['instance'][_0x2dbfe9(0x193)]+_0x2dbfe9(0x4c0)+_0x219196[_0x2dbfe9(0x2df)]),_0x219196;}async['processReadyMessages'](_0x460899){const _0x507eab=a0_0x26c870;this[_0x507eab(0x263)][_0x507eab(0x6be)](this['instanceName']+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x8e4));let _0x23c6a0=0x3*0x3e8,_0x3acb3a=0x8*0x3e8,_0x51b7e0=Math[_0x507eab(0x3d8)](Math[_0x507eab(0x51c)]()*(_0x3acb3a-_0x23c6a0+0x1))+_0x23c6a0,_0x20bc1a=()=>this['pendingMessages'][_0x507eab(0x2df)]===0x0?null:this[_0x507eab(0x7d8)]['reduce']((_0x45fed0,_0x42e82c)=>(_0x45fed0['order']??Number[_0x507eab(0x828)])<(_0x42e82c[_0x507eab(0x5f8)]??Number[_0x507eab(0x828)])?_0x45fed0:_0x42e82c,this[_0x507eab(0x7d8)][0x0]);_0x460899=await this[_0x507eab(0x37a)]();for(let _0x2aecc8 of _0x460899){await this['setRestartTimeout']();let _0xf55aa5=0x3*0x3e8,_0x32da2b={'_id':_0x2aecc8[_0x507eab(0x3fa)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x507eab(0x1a6)]()-_0xf55aa5}}]},_0x43e21c={'startSend':Date[_0x507eab(0x1a6)](),'status':'sending'},_0x12792a=await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x5f5)](_0x32da2b,_0x43e21c,this[_0x507eab(0x79f)][_0x507eab(0x193)]);if(this[_0x507eab(0x7d8)]=_0x12792a['messages'][_0x507eab(0x2b4)](_0x500ecb=>!_0x500ecb['triedToSend']),!_0x12792a){setTimeout(()=>this[_0x507eab(0x4e0)](),0xa*0x3e8);continue;}if(this[_0x507eab(0x79f)][_0x507eab(0x476)][_0x507eab(0x49c)]=_0x12792a,!this['instance']['ScheduleMessage'][_0x507eab(0x4cc)]){this['logger'][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x587));break;}for(;this[_0x507eab(0x7d8)][_0x507eab(0x2df)]>0x0;){await this[_0x507eab(0x85c)]();let _0x4a15e6=_0x20bc1a();if(!_0x4a15e6)break;let _0x4ebdd5=_0x2aecc8[_0x507eab(0x55a)][_0x507eab(0x82c)](_0x366698=>_0x366698[_0x507eab(0x3fa)]===_0x4a15e6[_0x507eab(0x3fa)]);if(!_0x4ebdd5)break;if(this['instance'][_0x507eab(0x476)][_0x507eab(0x5ef)]=Date[_0x507eab(0x1a6)](),_0x4ebdd5[_0x507eab(0x3bd)]){this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this['instance'][_0x507eab(0x193)]+_0x507eab(0x2f4)+_0x4ebdd5[_0x507eab(0x489)]+_0x507eab(0x3b9)),this[_0x507eab(0x7d8)]=this['pendingMessages']['filter'](_0x5d1f6c=>_0x5d1f6c['_id']!==_0x4ebdd5[_0x507eab(0x3fa)]);continue;}if(!this[_0x507eab(0x79f)][_0x507eab(0x476)][_0x507eab(0x4cc)]){this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x507eab(0x79f)]['ScheduleMessage']['processingGroup']){this[_0x507eab(0x263)]['warn'](this['instanceName']+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x2ce)+_0x2aecc8[_0x507eab(0x3fa)]+_0x507eab(0x2ff));break;}let _0x2ddb6f={'idControl':_0x4ebdd5['_id'],'remoteJid':_0x4ebdd5[_0x507eab(0x489)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x507eab(0x1a6)]()},_0x1c879e=null;try{this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x2ad)+_0x4ebdd5[_0x507eab(0x489)]);let _0x112f48=await Promise['race']([this[_0x507eab(0x2c3)](_0x4ebdd5['remoteJid'],_0x4ebdd5),this[_0x507eab(0x62f)](0x78*0x3e8)]);_0x2ddb6f[_0x507eab(0x7ba)]=_0x112f48[_0x507eab(0x7ba)],_0x2ddb6f['id']=_0x112f48[_0x507eab(0x7ba)]?null:_0x112f48['id'],_0x2ddb6f[_0x507eab(0x344)]=_0x112f48[_0x507eab(0x7ba)]?_0x112f48[_0x507eab(0x3bb)]?_0x112f48[_0x507eab(0x3bb)][_0x507eab(0x58a)]():'':null;let _0x244a11=_0x2aecc8[_0x507eab(0x55a)]['findIndex'](_0x3641bb=>_0x3641bb[_0x507eab(0x3fa)]===_0x4ebdd5[_0x507eab(0x3fa)]);_0x244a11!==-0x1&&(_0x2aecc8[_0x507eab(0x55a)][_0x244a11][_0x507eab(0x3bd)]=!0x0);let _0x4538b1={'$push':{'messagesSend':_0x2ddb6f},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x38ed48=[{'elem._id':_0x4ebdd5['_id']}];if(this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x4ebdd5[_0x507eab(0x3fa)]),_0x1c879e=await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x5f5)]({'_id':_0x2aecc8[_0x507eab(0x3fa)]},_0x4538b1,this[_0x507eab(0x79f)]['wuid'],{'arrayFilters':_0x38ed48}),_0x112f48[_0x507eab(0x7ba)]){this[_0x507eab(0x263)][_0x507eab(0x7ba)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x844)+_0x112f48[_0x507eab(0x3bb)]);continue;}let _0x1b9275=this[_0x507eab(0x411)](_0x2aecc8[_0x507eab(0x92f)],_0x2aecc8[_0x507eab(0x8af)]);await this[_0x507eab(0x756)](_0x1b9275);}catch(_0x34d1b0){this[_0x507eab(0x263)][_0x507eab(0x7ba)](this['instanceName']+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+_0x507eab(0x826)+_0x4ebdd5[_0x507eab(0x489)]+':\x20'+(_0x34d1b0 instanceof Error?_0x34d1b0['message']:JSON['stringify'](_0x34d1b0,null,0x2))),_0x2ddb6f[_0x507eab(0x7ba)]=!0x0,_0x2ddb6f[_0x507eab(0x344)]=_0x34d1b0[_0x507eab(0x555)];let _0x571b51=_0x2aecc8['messages'][_0x507eab(0x19d)](_0x3214da=>_0x3214da[_0x507eab(0x3fa)]===_0x4ebdd5[_0x507eab(0x3fa)]);_0x571b51!==-0x1&&(_0x2aecc8[_0x507eab(0x55a)][_0x571b51][_0x507eab(0x3bd)]=!0x0);let _0x53eddc={'$push':{'messagesSend':_0x2ddb6f},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2ae28f=[{'elem._id':_0x4ebdd5[_0x507eab(0x3fa)]}];this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this[_0x507eab(0x79f)]['wuid']+_0x507eab(0x865)+_0x4ebdd5[_0x507eab(0x3fa)]),_0x1c879e=await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x5f5)]({'_id':_0x2aecc8[_0x507eab(0x3fa)]},_0x53eddc,this[_0x507eab(0x79f)][_0x507eab(0x193)],{'arrayFilters':_0x2ae28f});}finally{if(_0x1c879e&&_0x1c879e[_0x507eab(0x284)]===_0x507eab(0x936)){this[_0x507eab(0x263)][_0x507eab(0x6be)](this[_0x507eab(0x24d)]+'\x20('+this['instance'][_0x507eab(0x193)]+_0x507eab(0x2ce)+_0x4ebdd5[_0x507eab(0x3fa)]+_0x507eab(0x504));break;}let _0x5af02a=_0x1c879e['messages'][_0x507eab(0x82c)](_0x4a720b=>_0x4a720b[_0x507eab(0x3fa)]===_0x4ebdd5[_0x507eab(0x3fa)]);if(_0x5af02a&&!_0x5af02a[_0x507eab(0x3bd)]){let _0x31eed8={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x126a7c=[{'elem._id':_0x4ebdd5[_0x507eab(0x3fa)]}];await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x5f5)]({'_id':_0x1c879e['_id']},_0x31eed8,this[_0x507eab(0x79f)][_0x507eab(0x193)],{'arrayFilters':_0x126a7c});}if(this[_0x507eab(0x7d8)]=_0x1c879e['messages'][_0x507eab(0x2b4)](_0x436b57=>!_0x436b57['triedToSend']),!this[_0x507eab(0x79f)][_0x507eab(0x476)][_0x507eab(0x49c)]){await this[_0x507eab(0x85c)](),this[_0x507eab(0x263)][_0x507eab(0x6be)](this['instanceName']+'\x20('+this[_0x507eab(0x79f)][_0x507eab(0x193)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2aecc8[_0x507eab(0x3fa)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this['pendingMessages']=[];let _0x4a9599=await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x68c)](_0x2aecc8[_0x507eab(0x3fa)],this['instance'][_0x507eab(0x193)]);if(_0x4a9599['messages']['every'](_0x1ad472=>_0x1ad472[_0x507eab(0x3bd)])&&_0x4a9599[_0x507eab(0x284)]!==_0x507eab(0x936)){let _0x262cf0={'$set':{'status':_0x507eab(0x724)}};await this[_0x507eab(0x252)][_0x507eab(0x280)][_0x507eab(0x4a2)](_0x4a9599[_0x507eab(0x3fa)],_0x262cf0,this[_0x507eab(0x79f)]['wuid']);}await new Promise(_0x1cf2e8=>setTimeout(_0x1cf2e8,_0x51b7e0)),global['gc']?global['gc']():console[_0x507eab(0x6be)](_0x507eab(0x214));}}[a0_0x26c870(0x62f)](_0x51ca3e){const _0x17f919=a0_0x26c870;return new Promise((_0x2885d7,_0x3d75a6)=>setTimeout(()=>_0x3d75a6(new Error(_0x17f919(0x430))),_0x51ca3e));}[a0_0x26c870(0x411)](_0x47fa96,_0x126e52){const _0x48153f=a0_0x26c870;return _0x47fa96=Math['max'](0.5,_0x47fa96),_0x126e52=Math[_0x48153f(0x45f)](Math[_0x48153f(0x3e8)](0x3,_0x126e52),0x78),Math[_0x48153f(0x3d8)](Math[_0x48153f(0x51c)]()*(_0x126e52-_0x47fa96+0x1)+_0x47fa96)*0x3e8;}['sleep'](_0xec0238){return new Promise(_0x16add5=>setTimeout(_0x16add5,_0xec0238));}async[a0_0x26c870(0x438)](_0x54d213){const _0x411a4f=a0_0x26c870;if(!this['AutomateSystem']&&(await this[_0x411a4f(0x791)](),!this['AutomateSystem']))return null;_0x54d213=this[_0x411a4f(0x843)](_0x54d213);let _0x2ff03a=await this[_0x411a4f(0x252)][_0x411a4f(0x629)][_0x411a4f(0x74c)]({'where':{'_id':_0x54d213}},this['instance'][_0x411a4f(0x193)]),_0x2af434={};if(_0x2ff03a&&_0x2ff03a[_0x411a4f(0x6f8)]){let _0x53cdcb=_0x2ff03a[_0x411a4f(0x6f8)];typeof _0x53cdcb[_0x411a4f(0x537)]=='string'&&(_0x2af434[_0x411a4f(0x537)]=_0x53cdcb[_0x411a4f(0x537)]),typeof _0x53cdcb[_0x411a4f(0x1e1)]==_0x411a4f(0x446)&&(_0x2af434[_0x411a4f(0x1e1)]=_0x53cdcb[_0x411a4f(0x1e1)]),typeof _0x53cdcb[_0x411a4f(0x53a)]==_0x411a4f(0x446)&&(_0x2af434['email']=_0x53cdcb[_0x411a4f(0x53a)]),typeof _0x53cdcb['cpf']==_0x411a4f(0x446)&&(_0x2af434['cpf']=_0x53cdcb[_0x411a4f(0x90e)]),typeof _0x53cdcb[_0x411a4f(0x284)]==_0x411a4f(0x446)&&(_0x2af434[_0x411a4f(0x284)]=_0x53cdcb[_0x411a4f(0x284)]),typeof _0x53cdcb[_0x411a4f(0x75b)]==_0x411a4f(0x446)&&(_0x2af434[_0x411a4f(0x75b)]=_0x53cdcb['notas']),typeof _0x53cdcb[_0x411a4f(0x626)]==_0x411a4f(0x446)&&(_0x2af434[_0x411a4f(0x626)]=_0x53cdcb['responsavelid']),Array[_0x411a4f(0x67a)](_0x53cdcb['tags'])&&(_0x2af434[_0x411a4f(0x6b2)]=_0x53cdcb[_0x411a4f(0x6b2)][_0x411a4f(0x5ba)](',\x20')),Array['isArray'](_0x53cdcb['etiquetas'])&&(_0x2af434[_0x411a4f(0x71c)]=_0x53cdcb['etiquetas'][_0x411a4f(0x5ba)](',\x20'));}return _0x2ff03a&&_0x2ff03a[_0x411a4f(0x6f8)]&&_0x2ff03a[_0x411a4f(0x6f8)]['customFields']&&_0x2ff03a[_0x411a4f(0x6f8)][_0x411a4f(0x454)][_0x411a4f(0x526)](_0x5b1f04=>{const _0x5dd20f=_0x411a4f;let _0x39cfbd=this[_0x5dd20f(0x6bb)]?.['customFields'][_0x5dd20f(0x82c)](_0x424e71=>_0x424e71[_0x5dd20f(0x3fa)]===_0x5b1f04['_id']);_0x39cfbd&&(_0x2af434[_0x39cfbd[_0x5dd20f(0x5fa)]]=_0x5b1f04[_0x5dd20f(0x2d3)]);}),_0x2af434;}async[a0_0x26c870(0x43a)](_0x6a1f82,_0x2cb05a){const _0x22d8d1=a0_0x26c870;try{let _0x598dcc=await this['getVariablesChat'](_0x2cb05a);return this['replaceVariables'](_0x6a1f82,_0x598dcc);}catch(_0x10dd94){return this[_0x22d8d1(0x263)][_0x22d8d1(0x7ba)](_0x22d8d1(0x8ab)+_0x2cb05a+':\x20'+_0x10dd94),_0x6a1f82;}}async[a0_0x26c870(0x814)](){const _0x1c60dd=a0_0x26c870;let _0xe8b075=async(_0xd404f2,_0x121fea)=>{const _0x1ca9d4=a0_0x4486;let _0x2ecb1f=(await this[_0x1ca9d4(0x252)][_0x1ca9d4(0x280)][_0x1ca9d4(0x82c)]({'where':{'type':_0xd404f2}},this[_0x1ca9d4(0x79f)][_0x1ca9d4(0x193)]))[_0x1ca9d4(0x27c)](async _0x1e6abb=>{const _0x3c9d4e=_0x1ca9d4;let _0x4d3eac=_0x121fea(_0x1e6abb),_0x1ba09b=_0x5043b4=>/^\d+$/[_0x3c9d4e(0x695)](_0x5043b4),_0x161b49=_0x1e6abb[_0x3c9d4e(0x566)]['filter'](_0x1e1826=>_0x1e1826['endsWith']('@s.whatsapp.net')?_0x1e1826[_0x3c9d4e(0x2df)]>0x19:_0x1e1826[_0x3c9d4e(0x4eb)](_0x3c9d4e(0x334))?_0x1e1826['length']>0xf:_0x1ba09b(_0x1e1826)?_0x1e1826[_0x3c9d4e(0x2df)]>=0xb:!0x1)[_0x3c9d4e(0x27c)](_0x3c1583=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x1e6abb['_id'],'type':_0x4d3eac,'remoteJid':_0x3c1583,'flow':_0x1e6abb['flowName'],'text':_0x1e6abb[_0x3c9d4e(0x555)]?.['text'],'delay':_0x1e6abb[_0x3c9d4e(0x555)]?.['delay'],'urlOrBase64':_0x1e6abb[_0x3c9d4e(0x555)]?.[_0x3c9d4e(0x449)],'linkPreview':_0x1e6abb[_0x3c9d4e(0x555)]?.[_0x3c9d4e(0x68f)],'fileName':_0x1e6abb[_0x3c9d4e(0x555)]?.[_0x3c9d4e(0x1de)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x3c9d4e(0x280)][_0x3c9d4e(0x4a2)](_0x1e6abb[_0x3c9d4e(0x3fa)],{'$set':{'messages':_0x161b49},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x3c9d4e(0x79f)][_0x3c9d4e(0x193)]);}catch(_0x57c90f){console[_0x3c9d4e(0x7ba)](_0x3c9d4e(0x44e)+_0x1e6abb[_0x3c9d4e(0x3fa)]+':',_0x57c90f);}});await Promise['all'](_0x2ecb1f);};await _0xe8b075('text',_0x1b3f2e=>_0x1c60dd(0x529)),await _0xe8b075('media',_0x1b1d0d=>_0x1b1d0d['message']?.[_0x1c60dd(0x7bf)]||'media'),await _0xe8b075(_0x1c60dd(0x7a7),_0x2ed3a2=>_0x1c60dd(0x7a7)),await _0xe8b075(_0x1c60dd(0x654),_0xeddebf=>_0x1c60dd(0x654)),await _0xe8b075('image',_0x37a46b=>_0x1c60dd(0x389)),await _0xe8b075(_0x1c60dd(0x361),_0x31ca77=>_0x1c60dd(0x361)),await _0xe8b075(_0x1c60dd(0x54a),_0x570768=>_0x1c60dd(0x54a)),this[_0x1c60dd(0x263)]['warn'](this['instanceName']+'\x20('+this[_0x1c60dd(0x79f)][_0x1c60dd(0x193)]+_0x1c60dd(0x25d));}async[a0_0x26c870(0x79a)](_0x3ca0aa){const _0x4bc5dc=a0_0x26c870;try{if(this[_0x4bc5dc(0x263)][_0x4bc5dc(0x6be)](this['instanceName']+'\x20('+this['instance'][_0x4bc5dc(0x193)]+_0x4bc5dc(0x3a9)),_0x3ca0aa[_0x4bc5dc(0x3fa)]||(_0x3ca0aa['_id']=(0x0,Q['v4'])()),this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x476)]['processingGroup']?.[_0x4bc5dc(0x3fa)]===_0x3ca0aa[_0x4bc5dc(0x3fa)]?.['toString']()){if(_0x3ca0aa[_0x4bc5dc(0x284)]==='stopped')this[_0x4bc5dc(0x79f)]['ScheduleMessage'][_0x4bc5dc(0x49c)]=null;else throw new Error(_0x4bc5dc(0x503));}if(_0x3ca0aa['delete']&&_0x3ca0aa[_0x4bc5dc(0x3fa)]){let _0x2faac0=await this['repository']['scheduleMessage'][_0x4bc5dc(0x4da)](_0x3ca0aa['_id'],this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)]);return setTimeout(()=>this[_0x4bc5dc(0x4ac)](),0x7d0),_0x2faac0;}let _0x252c29=null;if(_0x3ca0aa['_id']&&(_0x252c29=await this[_0x4bc5dc(0x252)][_0x4bc5dc(0x280)][_0x4bc5dc(0x68c)](_0x3ca0aa[_0x4bc5dc(0x3fa)],this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)])),_0x252c29){let {_id:_0x4bfd7f,owner:_0x22069d,messages:_0x272147,..._0x41856c}=_0x3ca0aa;if(_0x272147){let _0x3cf8ce=_0x272147[_0x4bc5dc(0x2b4)](_0x7d561f=>!_0x7d561f[_0x4bc5dc(0x3fa)]),_0x4c9387=_0x272147[_0x4bc5dc(0x2b4)](_0x2088f5=>_0x2088f5[_0x4bc5dc(0x3fa)]&&!_0x2088f5[_0x4bc5dc(0x5e2)]),_0x3cecdc=_0x272147[_0x4bc5dc(0x2b4)](_0x107493=>_0x107493[_0x4bc5dc(0x3fa)]&&_0x107493[_0x4bc5dc(0x5e2)]);if(_0x3cf8ce['length']>0x0&&await this[_0x4bc5dc(0x517)](_0x3ca0aa[_0x4bc5dc(0x3fa)],_0x3cf8ce),_0x4c9387[_0x4bc5dc(0x2df)]>0x0&&await this['editMessagesInGroup']({'_id':_0x3ca0aa['_id'],'messages':_0x4c9387}),_0x3cecdc[_0x4bc5dc(0x2df)]>0x0){let _0x13d75e=_0x3cecdc[_0x4bc5dc(0x27c)](_0x46a0a1=>({'updateOne':{'filter':{'_id':_0x3ca0aa['_id']},'update':{'$pull':{'messages':{'_id':_0x46a0a1[_0x4bc5dc(0x3fa)]}}}}}));await this['repository']['scheduleMessage']['bulkWrite'](_0x13d75e,this['instance'][_0x4bc5dc(0x193)]);}}let _0x185bbe={'$set':{..._0x41856c,'status':_0x3ca0aa[_0x4bc5dc(0x284)]||_0x252c29[_0x4bc5dc(0x284)]}},_0x8bf0b0=await this[_0x4bc5dc(0x252)]['scheduleMessage'][_0x4bc5dc(0x4a2)](_0x3ca0aa[_0x4bc5dc(0x3fa)],_0x185bbe,this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)]);return _0x8bf0b0&&(this['reorderMessages'](_0x8bf0b0[_0x4bc5dc(0x55a)]),await this['repository'][_0x4bc5dc(0x280)]['updateOneById'](_0x8bf0b0[_0x4bc5dc(0x3fa)],{'$set':{'messages':_0x8bf0b0[_0x4bc5dc(0x55a)]}},this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)])),setTimeout(()=>this[_0x4bc5dc(0x4ac)](),0x7d0),await this['transformScheduledMessagesByType'](),_0x8bf0b0;}else{_0x3ca0aa[_0x4bc5dc(0x676)]=this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)],_0x3ca0aa[_0x4bc5dc(0x55a)]&&_0x3ca0aa[_0x4bc5dc(0x55a)]['forEach'](_0x33751d=>{const _0x54a235=_0x4bc5dc;_0x33751d['_id']||(_0x33751d['_id']=(0x0,Q['v4'])()),_0x33751d[_0x54a235(0x86a)]||(_0x33751d['idSchedule']=_0x3ca0aa[_0x54a235(0x3fa)]),delete _0x33751d[_0x54a235(0x3bd)];});let _0x33ced8=await this['repository'][_0x4bc5dc(0x280)][_0x4bc5dc(0x7a9)](_0x3ca0aa,this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)]);return _0x33ced8&&(this[_0x4bc5dc(0x7e5)](_0x33ced8['messages']),await this[_0x4bc5dc(0x252)][_0x4bc5dc(0x280)]['updateOneById'](_0x33ced8[_0x4bc5dc(0x3fa)],{'$set':{'messages':_0x33ced8[_0x4bc5dc(0x55a)]}},this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)])),setTimeout(()=>this[_0x4bc5dc(0x4ac)](),0x7d0),_0x33ced8;}}catch(_0x31b6ea){let _0x1f020f='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0xf42a32=_0x31b6ea instanceof Error?_0x31b6ea[_0x4bc5dc(0x555)]:typeof _0x31b6ea==_0x4bc5dc(0x408)?JSON[_0x4bc5dc(0x2c2)](_0x31b6ea):_0x31b6ea,_0x2f3d14=_0x1f020f+':\x20'+_0xf42a32;throw this['logger'][_0x4bc5dc(0x7ba)](this[_0x4bc5dc(0x24d)]+'\x20('+this[_0x4bc5dc(0x79f)][_0x4bc5dc(0x193)]+_0x4bc5dc(0x60e)+_0x2f3d14),new m(_0x2f3d14);}}async['addMessagesToGroup'](_0x4c5065,_0x44d1a6){const _0x445fdb=a0_0x26c870;try{this[_0x445fdb(0x263)][_0x445fdb(0x69d)](this[_0x445fdb(0x24d)]+'\x20('+this[_0x445fdb(0x79f)][_0x445fdb(0x193)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x44d1a6[_0x445fdb(0x526)](_0x154d42=>{const _0x39732e=_0x445fdb;_0x154d42[_0x39732e(0x3fa)]||(_0x154d42['_id']=(0x0,Q['v4'])()),_0x154d42[_0x39732e(0x86a)]||(_0x154d42[_0x39732e(0x86a)]=_0x4c5065),delete _0x154d42[_0x39732e(0x3bd)];});let _0x4e9e7d={'$push':{'messages':{'$each':_0x44d1a6}}},_0x4b69aa=await this[_0x445fdb(0x252)]['scheduleMessage'][_0x445fdb(0x4a2)](_0x4c5065,_0x4e9e7d,this[_0x445fdb(0x79f)][_0x445fdb(0x193)]);return _0x4b69aa&&(this[_0x445fdb(0x7e5)](_0x4b69aa[_0x445fdb(0x55a)]),await this[_0x445fdb(0x252)][_0x445fdb(0x280)]['updateOneById'](_0x4b69aa[_0x445fdb(0x3fa)],{'$set':{'messages':_0x4b69aa[_0x445fdb(0x55a)]}},this[_0x445fdb(0x79f)][_0x445fdb(0x193)])),_0x4b69aa;}catch(_0x45422b){let _0x164e12=_0x445fdb(0x213),_0x486ade=_0x45422b instanceof Error?_0x45422b[_0x445fdb(0x555)]:typeof _0x45422b=='object'?JSON[_0x445fdb(0x2c2)](_0x45422b):_0x45422b,_0xe00410=_0x164e12+':\x20'+_0x486ade;throw this['logger'][_0x445fdb(0x7ba)](this[_0x445fdb(0x24d)]+'\x20('+this[_0x445fdb(0x79f)][_0x445fdb(0x193)]+_0x445fdb(0x60e)+_0xe00410),new m(_0xe00410);}}async[a0_0x26c870(0x5da)](_0x77511e){const _0x2d989b=a0_0x26c870;try{if(this[_0x2d989b(0x263)][_0x2d989b(0x69d)](this[_0x2d989b(0x24d)]+'\x20('+this['instance'][_0x2d989b(0x193)]+_0x2d989b(0x8e8)),!_0x77511e[_0x2d989b(0x3fa)]||!_0x77511e[_0x2d989b(0x55a)])throw new Error(_0x2d989b(0x7c8));let _0x2258a7=_0x77511e[_0x2d989b(0x3fa)],_0x56713b=_0x77511e[_0x2d989b(0x55a)],_0x5b8849=_0x56713b[_0x2d989b(0x2b4)](_0x7b6112=>!_0x7b6112[_0x2d989b(0x5e2)])['map'](_0x542dd2=>{const _0x4971bb=_0x2d989b;let _0x1109c7=_0x542dd2['_id'];if(!_0x1109c7)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x542dd2['idSchedule']||(_0x542dd2['idSchedule']=_0x2258a7),delete _0x542dd2[_0x4971bb(0x3bd)],{'updateOne':{'filter':{'_id':_0x2258a7,'messages._id':_0x1109c7},'update':{'$set':{'messages.$[elem]':_0x542dd2}},'arrayFilters':[{'elem._id':_0x1109c7}]}};}),_0x188acd=_0x56713b[_0x2d989b(0x2b4)](_0xfcdcf2=>_0xfcdcf2[_0x2d989b(0x5e2)])[_0x2d989b(0x27c)](_0x4068df=>{const _0x565bad=_0x2d989b;let _0x2fca27=_0x4068df[_0x565bad(0x3fa)];if(!_0x2fca27)throw new Error(_0x565bad(0x744));return{'updateOne':{'filter':{'_id':_0x2258a7},'update':{'$pull':{'messages':{'_id':_0x2fca27}}}}};}),_0x4992ef=[..._0x5b8849,..._0x188acd],_0x3d415c=await this[_0x2d989b(0x252)][_0x2d989b(0x280)][_0x2d989b(0x299)](_0x4992ef,this[_0x2d989b(0x79f)][_0x2d989b(0x193)]),_0x4fcddb=await this[_0x2d989b(0x252)]['scheduleMessage']['findById'](_0x2258a7,this[_0x2d989b(0x79f)]['wuid']);return _0x4fcddb&&(this['reorderMessages'](_0x4fcddb[_0x2d989b(0x55a)]),await this['repository']['scheduleMessage'][_0x2d989b(0x4a2)](_0x4fcddb[_0x2d989b(0x3fa)],{'$set':{'messages':_0x4fcddb[_0x2d989b(0x55a)]}},this['instance'][_0x2d989b(0x193)])),_0x4fcddb;}catch(_0x4084f3){let _0x43b4a3=_0x2d989b(0x42b),_0x45ff19=_0x4084f3 instanceof Error?_0x4084f3[_0x2d989b(0x555)]:typeof _0x4084f3==_0x2d989b(0x408)?JSON[_0x2d989b(0x2c2)](_0x4084f3):_0x4084f3,_0x14d2b6=_0x43b4a3+':\x20'+_0x45ff19;throw this['logger']['error'](this[_0x2d989b(0x24d)]+'\x20('+this[_0x2d989b(0x79f)][_0x2d989b(0x193)]+_0x2d989b(0x60e)+_0x14d2b6),new m(_0x14d2b6);}}async[a0_0x26c870(0x933)](){const _0x223f63=a0_0x26c870;try{let _0x38af0c={'status':'done'},_0x50e0cb=await this[_0x223f63(0x252)][_0x223f63(0x280)][_0x223f63(0x752)](_0x38af0c,this[_0x223f63(0x79f)][_0x223f63(0x193)]);if(!_0x50e0cb[_0x223f63(0x7ba)])this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x223f63(0x79f)]['wuid']+_0x223f63(0x686));else throw new Error(_0x50e0cb[_0x223f63(0x7ba)][_0x223f63(0x555)]||_0x223f63(0x388));return this[_0x223f63(0x62a)]();}catch(_0xe95875){let _0xc95546=_0x223f63(0x1d2),_0x254857=_0xe95875 instanceof Error?_0xe95875[_0x223f63(0x555)]:typeof _0xe95875==_0x223f63(0x408)?JSON[_0x223f63(0x2c2)](_0xe95875):_0xe95875,_0x2be9f9=_0xc95546+':\x20'+_0x254857;throw this[_0x223f63(0x263)]['error'](this[_0x223f63(0x24d)]+'\x20('+this[_0x223f63(0x79f)][_0x223f63(0x193)]+_0x223f63(0x60e)+_0x2be9f9),new m(_0x2be9f9);}}async[a0_0x26c870(0x57b)](){const _0x20e3bd=a0_0x26c870;try{this[_0x20e3bd(0x79f)][_0x20e3bd(0x476)][_0x20e3bd(0x4cc)]=!0x1,this['instance'][_0x20e3bd(0x476)][_0x20e3bd(0x49c)]=null,this['queue']&&this['queue']['clear'](),this['logger'][_0x20e3bd(0x69d)](this[_0x20e3bd(0x24d)]+'\x20('+this[_0x20e3bd(0x79f)][_0x20e3bd(0x193)]+_0x20e3bd(0x5f7)),await new Promise(_0x21950b=>setTimeout(_0x21950b,0x1388)),this[_0x20e3bd(0x263)][_0x20e3bd(0x69d)](this[_0x20e3bd(0x24d)]+'\x20('+this[_0x20e3bd(0x79f)][_0x20e3bd(0x193)]+_0x20e3bd(0x390));let _0x208bbe=await this['repository'][_0x20e3bd(0x280)][_0x20e3bd(0x752)]({},this['instance'][_0x20e3bd(0x193)]);if(!_0x208bbe[_0x20e3bd(0x7ba)])this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x20e3bd(0x79f)]['wuid']+_0x20e3bd(0x19e)),this[_0x20e3bd(0x263)][_0x20e3bd(0x69d)](this[_0x20e3bd(0x24d)]+'\x20('+this[_0x20e3bd(0x79f)][_0x20e3bd(0x193)]+'):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x2fb92b=>setTimeout(_0x2fb92b,0x1388)),this[_0x20e3bd(0x79f)][_0x20e3bd(0x476)][_0x20e3bd(0x4cc)]=!0x0,this[_0x20e3bd(0x263)][_0x20e3bd(0x69d)](this[_0x20e3bd(0x24d)]+'\x20('+this['instance'][_0x20e3bd(0x193)]+'):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.'),this[_0x20e3bd(0x4ac)]();else throw new Error(_0x208bbe['error'][_0x20e3bd(0x555)]||_0x20e3bd(0x388));return this[_0x20e3bd(0x62a)]();}catch(_0x47f8a3){let _0x423c3f=_0x20e3bd(0x675),_0x3958c9=_0x47f8a3 instanceof Error?_0x47f8a3[_0x20e3bd(0x555)]:typeof _0x47f8a3==_0x20e3bd(0x408)?JSON[_0x20e3bd(0x2c2)](_0x47f8a3):_0x47f8a3,_0xf1578=_0x423c3f+':\x20'+_0x3958c9;throw this[_0x20e3bd(0x263)]['error'](this[_0x20e3bd(0x24d)]+'\x20('+this[_0x20e3bd(0x79f)][_0x20e3bd(0x193)]+_0x20e3bd(0x60e)+_0xf1578),new m(_0xf1578);}}async['getScheduleMessage'](){const _0x477537=a0_0x26c870;try{return await this[_0x477537(0x252)][_0x477537(0x280)][_0x477537(0x82c)]({'where':{}},this[_0x477537(0x79f)][_0x477537(0x193)]);}catch(_0x40e517){let _0x5df2ff='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x3630f6=_0x40e517 instanceof Error?_0x40e517[_0x477537(0x555)]:typeof _0x40e517==_0x477537(0x408)?JSON[_0x477537(0x2c2)](_0x40e517):_0x40e517,_0x3fcfce=_0x5df2ff+':\x20'+_0x3630f6;throw this[_0x477537(0x263)][_0x477537(0x7ba)](this['instanceName']+'\x20('+this[_0x477537(0x79f)]['wuid']+_0x477537(0x60e)+_0x3fcfce),new m(_0x3fcfce);}}['reorderMessages'](_0x51ff43){const _0x5766d1=a0_0x26c870;_0x51ff43[_0x5766d1(0x4be)]((_0x541df8,_0x517c17)=>_0x541df8['order']-_0x517c17[_0x5766d1(0x5f8)]),_0x51ff43['forEach']((_0x3b4cd2,_0x2663f1)=>{const _0x3038be=_0x5766d1;_0x3b4cd2[_0x3038be(0x5f8)]=_0x2663f1+0x1;});}async[a0_0x26c870(0x2c3)](_0x12a955,_0x29cea6){const _0x2f93ab=a0_0x26c870;try{if(!_0x29cea6)return this[_0x2f93ab(0x263)][_0x2f93ab(0x7ba)](this[_0x2f93ab(0x24d)]+'\x20('+this[_0x2f93ab(0x79f)][_0x2f93ab(0x193)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x2f93ab(0x4e4)};if(_0x29cea6[_0x2f93ab(0x760)]===_0x2f93ab(0x654)&&!this[_0x2f93ab(0x6bb)]?.[_0x2f93ab(0x486)][_0x2f93ab(0x32e)])return this[_0x2f93ab(0x263)]['error'](this[_0x2f93ab(0x24d)]+'\x20('+this['instance']['wuid']+_0x2f93ab(0x6a3)),{'error':!0x0,'detail':_0x2f93ab(0x5c6)};switch(_0x29cea6[_0x2f93ab(0x760)]){case _0x2f93ab(0x529):return await this['scheduleSendText'](_0x29cea6,_0x12a955);case _0x2f93ab(0x361):case _0x2f93ab(0x389):case _0x2f93ab(0x54a):return await this[_0x2f93ab(0x949)](_0x29cea6,_0x12a955);case'audio':return await this[_0x2f93ab(0x801)](_0x29cea6,_0x12a955);case _0x2f93ab(0x654):let _0x56f607=new Qe();return _0x56f607[_0x2f93ab(0x5fa)]=_0x29cea6['flow'],_0x56f607[_0x2f93ab(0x489)]=_0x12a955,await this[_0x2f93ab(0x830)](_0x56f607);default:return this['logger'][_0x2f93ab(0x7ba)](this[_0x2f93ab(0x24d)]+'\x20('+this[_0x2f93ab(0x79f)][_0x2f93ab(0x193)]+_0x2f93ab(0x1fd)+_0x29cea6['type']),{'error':!0x0,'detail':_0x2f93ab(0x70b)};}}catch(_0x59cd6b){return this[_0x2f93ab(0x263)][_0x2f93ab(0x7ba)](this['instanceName']+'\x20('+this[_0x2f93ab(0x79f)][_0x2f93ab(0x193)]+_0x2f93ab(0x612)+(_0x59cd6b instanceof Error?_0x59cd6b[_0x2f93ab(0x555)]:JSON[_0x2f93ab(0x2c2)](_0x59cd6b,null,0x2))),{'error':!0x0,'detail':_0x59cd6b[_0x2f93ab(0x555)]};}}async[a0_0x26c870(0x1aa)](_0x3723c6,_0x4dfcfd){const _0x2d634e=a0_0x26c870;if(this['logger'][_0x2d634e(0x69d)](this[_0x2d634e(0x24d)]+'\x20('+this[_0x2d634e(0x79f)][_0x2d634e(0x193)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x4dfcfd+'\x27'),!_0x3723c6['text']||_0x3723c6[_0x2d634e(0x529)]['length']===0x0)return{'error':!0x0,'detail':_0x2d634e(0x65a)};let _0x2f1cd5=await this[_0x2d634e(0x43a)](_0x3723c6['text'],_0x4dfcfd),_0x509e53={'number':_0x4dfcfd,'options':{'delay':_0x3723c6['delay'],'linkPreview':_0x3723c6[_0x2d634e(0x68f)]},'textMessage':{'text':_0x2f1cd5}},_0x5e09c1=null;try{let _0x169d5e=await this['textMessage'](_0x509e53);if(_0x169d5e&&_0x169d5e[_0x2d634e(0x284)])return{'error':!0x1,'id':_0x169d5e['key']['id']};_0x5e09c1=JSON[_0x2d634e(0x2c2)](_0x169d5e),this[_0x2d634e(0x263)][_0x2d634e(0x69d)](this['instanceName']+'\x20('+this[_0x2d634e(0x79f)][_0x2d634e(0x193)]+_0x2d634e(0x60e)+_0x5e09c1);}catch(_0x571ae1){this[_0x2d634e(0x263)][_0x2d634e(0x7ba)](this[_0x2d634e(0x24d)]+'\x20('+this['instance'][_0x2d634e(0x193)]+_0x2d634e(0x57e)+(_0x571ae1 instanceof Error?_0x571ae1[_0x2d634e(0x555)]:JSON[_0x2d634e(0x2c2)](_0x571ae1,null,0x2))),_0x5e09c1=_0x571ae1[_0x2d634e(0x555)];}if(_0x5e09c1)return{'error':!0x0,'detail':(typeof _0x5e09c1==_0x2d634e(0x408)?JSON[_0x2d634e(0x2c2)](_0x5e09c1,null,0x2):_0x5e09c1)[_0x2d634e(0x821)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x26c870(0x949)](_0x11a6b0,_0xb8c934){const _0x150cd8=a0_0x26c870;this['logger'][_0x150cd8(0x69d)](this[_0x150cd8(0x24d)]+'\x20('+this[_0x150cd8(0x79f)][_0x150cd8(0x193)]+_0x150cd8(0x483)+_0xb8c934+'\x27');let _0x5c6f79;_0x11a6b0['text']&&_0x11a6b0[_0x150cd8(0x529)][_0x150cd8(0x2df)]>0x0&&(_0x5c6f79=await this[_0x150cd8(0x43a)](_0x11a6b0['text'],_0xb8c934));let _0x5dac9a={'number':_0xb8c934,'options':{'delay':_0x11a6b0['delay'],'linkPreview':_0x11a6b0[_0x150cd8(0x68f)]},'mediaMessage':{'mediatype':_0x11a6b0[_0x150cd8(0x760)],'caption':_0x5c6f79,'media':_0x11a6b0['urlOrBase64']}},_0x35c807=null;try{let _0x54ec0a=await this[_0x150cd8(0x748)](_0x5dac9a);if(_0x54ec0a&&_0x54ec0a['status'])return{'error':!0x1,'id':_0x54ec0a[_0x150cd8(0x8f1)]['id']};_0x35c807=JSON[_0x150cd8(0x2c2)](_0x54ec0a),this[_0x150cd8(0x263)][_0x150cd8(0x69d)](this[_0x150cd8(0x24d)]+'\x20('+this[_0x150cd8(0x79f)]['wuid']+_0x150cd8(0x60e)+_0x35c807);}catch(_0x297ee7){this[_0x150cd8(0x263)]['error'](this[_0x150cd8(0x24d)]+'\x20('+this[_0x150cd8(0x79f)][_0x150cd8(0x193)]+_0x150cd8(0x207)+(_0x297ee7 instanceof Error?_0x297ee7[_0x150cd8(0x555)]:JSON['stringify'](_0x297ee7,null,0x2))),_0x35c807=_0x297ee7[_0x150cd8(0x555)];}if(_0x35c807)return{'error':!0x0,'detail':(typeof _0x35c807==_0x150cd8(0x408)?JSON[_0x150cd8(0x2c2)](_0x35c807,null,0x2):_0x35c807)[_0x150cd8(0x821)](/[\[\]{}\n]/g,'\x20')[_0x150cd8(0x821)](/  +/g,'\x20')};}async[a0_0x26c870(0x801)](_0x18b162,_0x58df9b){const _0x1d5d8a=a0_0x26c870;this[_0x1d5d8a(0x263)][_0x1d5d8a(0x69d)](this['instanceName']+'\x20('+this[_0x1d5d8a(0x79f)][_0x1d5d8a(0x193)]+_0x1d5d8a(0x1a0)+_0x58df9b+'\x27');let _0xe0c9ab={'number':_0x58df9b,'options':{'delay':_0x18b162['delay']},'audioMessage':{'audio':_0x18b162[_0x1d5d8a(0x449)]}},_0xe898d5=null;try{let _0x948523=await this[_0x1d5d8a(0x17e)](_0xe0c9ab);if(_0x948523&&_0x948523[_0x1d5d8a(0x284)])return{'error':!0x1,'id':_0x948523['key']['id']};_0xe898d5=JSON[_0x1d5d8a(0x2c2)](_0x948523),this[_0x1d5d8a(0x263)][_0x1d5d8a(0x69d)](this['instanceName']+'\x20('+this[_0x1d5d8a(0x79f)][_0x1d5d8a(0x193)]+'):\x20'+_0xe898d5);}catch(_0x224063){this[_0x1d5d8a(0x263)]['error'](this['instanceName']+'\x20('+this[_0x1d5d8a(0x79f)]['wuid']+_0x1d5d8a(0x272)+(_0x224063 instanceof Error?_0x224063[_0x1d5d8a(0x555)]:JSON[_0x1d5d8a(0x2c2)](_0x224063,null,0x2))),_0xe898d5=_0x224063[_0x1d5d8a(0x555)];}if(_0xe898d5)return{'error':!0x0,'detail':(typeof _0xe898d5=='object'?JSON[_0x1d5d8a(0x2c2)](_0xe898d5,null,0x2):_0xe898d5)[_0x1d5d8a(0x821)](/[\[\]{}\n]/g,'\x20')[_0x1d5d8a(0x821)](/  +/g,'\x20')};}async[a0_0x26c870(0x91a)](_0x2b52bc){const _0x2ff5a9=a0_0x26c870;try{return await this[_0x2ff5a9(0x5e8)][_0x2ff5a9(0x67d)](_0x2b52bc[_0x2ff5a9(0x206)],_0x2b52bc[_0x2ff5a9(0x20a)]),{'update':'success'};}catch(_0x1e7c83){let _0x44259c=_0x2ff5a9(0x2e9),_0x53b67a=_0x1e7c83 instanceof Error?_0x1e7c83[_0x2ff5a9(0x555)]:typeof _0x1e7c83==_0x2ff5a9(0x408)?JSON['stringify'](_0x1e7c83):_0x1e7c83,_0x574dd5=_0x44259c+':\x20'+_0x53b67a;throw this['logger'][_0x2ff5a9(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x2ff5a9(0x193)]+_0x2ff5a9(0x60e)+_0x574dd5),new x(_0x574dd5);}}async[a0_0x26c870(0x86b)](_0x1c951a){const _0x485198=a0_0x26c870;try{return await this['client'][_0x485198(0x877)](_0x1c951a['groupJid'],_0x1c951a[_0x485198(0x5fa)]),{'update':_0x485198(0x312)};}catch(_0x4e8918){let _0x3de326=_0x485198(0x706),_0x5b3e61=_0x4e8918 instanceof Error?_0x4e8918['message']:typeof _0x4e8918=='object'?JSON['stringify'](_0x4e8918):_0x4e8918,_0x1c57e8=_0x3de326+':\x20'+_0x5b3e61;throw this[_0x485198(0x263)][_0x485198(0x7ba)](this['instanceName']+'\x20('+this[_0x485198(0x79f)][_0x485198(0x193)]+_0x485198(0x60e)+_0x1c57e8),new x(_0x1c57e8);}}async[a0_0x26c870(0x759)](_0x2a0c62){const _0x1bb449=a0_0x26c870;try{let _0x2435d6=await this[_0x1bb449(0x5e8)]['groupToggleEphemeral'](_0x2a0c62[_0x1bb449(0x206)],_0x2a0c62[_0x1bb449(0x482)]);return{'success':!0x0};}catch(_0x490d7d){let _0x3f77b2=_0x1bb449(0x804),_0x5bf69e=_0x490d7d instanceof Error?_0x490d7d[_0x1bb449(0x555)]:typeof _0x490d7d==_0x1bb449(0x408)?JSON[_0x1bb449(0x2c2)](_0x490d7d):_0x490d7d,_0x219f25=_0x3f77b2+':\x20'+_0x5bf69e;throw this['logger']['error'](this[_0x1bb449(0x24d)]+'\x20('+this[_0x1bb449(0x79f)]['wuid']+_0x1bb449(0x60e)+_0x219f25),new x(_0x219f25);}}async[a0_0x26c870(0x8fd)](_0x37ca01){const _0xa3a94c=a0_0x26c870;try{return await this[_0xa3a94c(0x5e8)][_0xa3a94c(0x41a)](_0x37ca01[_0xa3a94c(0x206)],_0x37ca01['setting']),{'update':_0xa3a94c(0x312)};}catch(_0x495629){let _0x471a96=_0xa3a94c(0x1a3),_0x1bce8b=_0x495629 instanceof Error?_0x495629[_0xa3a94c(0x555)]:typeof _0x495629==_0xa3a94c(0x408)?JSON[_0xa3a94c(0x2c2)](_0x495629):_0x495629,_0xe06c34=_0x471a96+':\x20'+_0x1bce8b;throw this[_0xa3a94c(0x263)]['error'](this[_0xa3a94c(0x24d)]+'\x20('+this[_0xa3a94c(0x79f)][_0xa3a94c(0x193)]+_0xa3a94c(0x60e)+_0xe06c34),new x(_0xe06c34);}}async[a0_0x26c870(0x31f)](_0x2e63a4){const _0x4a6550=a0_0x26c870;try{let _0x7c65e9;if((0x0,J['isURL'])(_0x2e63a4['image'])){let _0x49f1dc=new Date()['getTime'](),_0x1bed3a=_0x2e63a4[_0x4a6550(0x389)]+_0x4a6550(0x2f5)+_0x49f1dc;_0x7c65e9=(await K[_0x4a6550(0x595)][_0x4a6550(0x2c9)](_0x1bed3a,{'responseType':_0x4a6550(0x73c)}))[_0x4a6550(0x362)];}else{if((0x0,J['isBase64'])(_0x2e63a4[_0x4a6550(0x389)]))_0x7c65e9=Buffer[_0x4a6550(0x556)](_0x2e63a4[_0x4a6550(0x389)],_0x4a6550(0x54b));else throw new m(_0x4a6550(0x679));}return await this['client'][_0x4a6550(0x27b)](_0x2e63a4[_0x4a6550(0x206)],_0x7c65e9),{'update':_0x4a6550(0x312)};}catch(_0x19ed63){let _0x19c7cd=_0x4a6550(0x229),_0x50cdfd=_0x19ed63 instanceof Error?_0x19ed63[_0x4a6550(0x555)]:typeof _0x19ed63=='object'?JSON[_0x4a6550(0x2c2)](_0x19ed63):_0x19ed63,_0x3ae17e=_0x19c7cd+':\x20'+_0x50cdfd;throw this[_0x4a6550(0x263)][_0x4a6550(0x7ba)](this[_0x4a6550(0x24d)]+'\x20('+this[_0x4a6550(0x79f)]['wuid']+_0x4a6550(0x60e)+_0x3ae17e),new x(_0x3ae17e);}}},Vt=class l{constructor(_0x411355,_0x5ebc0c,_0x2e6477){const _0xec4f88=a0_0x26c870;this[_0xec4f88(0x5b2)]=_0x411355,this[_0xec4f88(0x382)]=_0x5ebc0c,this[_0xec4f88(0x252)]=_0x2e6477,this['db']={},this[_0xec4f88(0x891)]={},this['logger']=new $(l[_0xec4f88(0x5fa)]),this[_0xec4f88(0x70d)]={},(this[_0xec4f88(0x8bd)](),this[_0xec4f88(0x7e2)](),Object[_0xec4f88(0x2ee)](this['db'],_0x5ebc0c[_0xec4f88(0x2c9)](_0xec4f88(0x22b))),Object[_0xec4f88(0x2ee)](this['redis'],_0x5ebc0c[_0xec4f88(0x2c9)](_0xec4f88(0x630))),this[_0xec4f88(0x2db)]=this['db'][_0xec4f88(0x3b5)]?this[_0xec4f88(0x252)][_0xec4f88(0x7bd)]?.['db'](this['db'][_0xec4f88(0x89c)][_0xec4f88(0x34b)]+_0xec4f88(0x400)):void 0x0,this[_0xec4f88(0x904)]=this['redis'][_0xec4f88(0x3b5)]?new de(this[_0xec4f88(0x891)]):void 0x0);}async[a0_0x26c870(0x887)](_0x1c4de0){const _0x24cc46=a0_0x26c870;if(_0x1c4de0&&!this[_0x24cc46(0x70d)][_0x1c4de0])throw new U(_0x24cc46(0x221)+_0x1c4de0+'\x22\x20not\x20found');let _0x1183df=[];for await(let [_0x491898,_0x32165c]of Object['entries'](this[_0x24cc46(0x70d)]))if(_0x32165c&&_0x32165c[_0x24cc46(0x528)][_0x24cc46(0x458)]===_0x24cc46(0x940)){let _0x4aac18=await this[_0x24cc46(0x252)][_0x24cc46(0x86f)][_0x24cc46(0x82c)](_0x491898);_0x1183df[_0x24cc46(0x48e)]({'instance':{'instanceName':_0x491898,'apikey':_0x4aac18[_0x24cc46(0x37d)],'owner':_0x32165c[_0x24cc46(0x193)],'profileName':await _0x32165c[_0x24cc46(0x7fe)]()||_0x24cc46(0x567),'profilePictureUrl':_0x32165c[_0x24cc46(0x93b)]}});}return _0x1183df[_0x24cc46(0x82c)](_0x37b476=>_0x37b476[_0x24cc46(0x79f)]['instanceName']===_0x1c4de0)??_0x1183df;}async[a0_0x26c870(0x8f5)](_0x3c1e47){const _0x44efcf=a0_0x26c870;if(this['db']['ENABLED']&&(await this['repository']['dbServer']['connect'](),(await this['dbInstance'][_0x44efcf(0x848)]())['length']>0x0&&await this[_0x44efcf(0x2db)][_0x44efcf(0x8ce)](_0x3c1e47)),this[_0x44efcf(0x891)][_0x44efcf(0x3b5)]){this[_0x44efcf(0x904)][_0x44efcf(0x1bf)]=_0x3c1e47,await this[_0x44efcf(0x904)][_0x44efcf(0x412)]();return;}}async['loadInstance'](){const _0x4308dd=a0_0x26c870;await this[_0x4308dd(0x429)]();let _0x3f4dd3=async _0x391521=>{const _0x4e9298=_0x4308dd;let _0x4c8121=new Ae(this[_0x4e9298(0x382)],this[_0x4e9298(0x5b2)],this[_0x4e9298(0x252)]);_0x4c8121[_0x4e9298(0x24d)]=_0x391521,await _0x4c8121[_0x4e9298(0x3b4)](),this[_0x4e9298(0x70d)][_0x391521]=_0x4c8121;};try{if(this[_0x4308dd(0x891)]['ENABLED']){let _0x89d336=await this['cache'][_0x4308dd(0x6bc)]();_0x89d336?.[_0x4308dd(0x2df)]>0x0&&_0x89d336['forEach'](async _0x54eed7=>await _0x3f4dd3(_0x54eed7[_0x4308dd(0x4c5)](':')[0x1]));return;}if(this['db'][_0x4308dd(0x3b5)]){await this[_0x4308dd(0x252)][_0x4308dd(0x7bd)][_0x4308dd(0x304)]();let _0xe9918=await this[_0x4308dd(0x2db)]['collections']();_0xe9918[_0x4308dd(0x2df)]>0x0&&_0xe9918[_0x4308dd(0x526)](async _0x35a5b4=>await _0x3f4dd3(_0x35a5b4['namespace'][_0x4308dd(0x821)](/^[\w-]+\./,'')));return;}}catch(_0xfa12e6){this[_0x4308dd(0x263)][_0x4308dd(0x7ba)](_0xfa12e6);}}async['cleanDisconnectedInstances'](){const _0x484f9e=a0_0x26c870;try{let _0x410052=await this[_0x484f9e(0x252)]['auth']['findMany']({'online':!0x1});console[_0x484f9e(0x323)](_0x484f9e(0x772)+_0x410052[_0x484f9e(0x2df)]);let _0x7f856d={'online':!0x1},_0x27cd23=await this[_0x484f9e(0x252)]['auth']['deleteMany'](_0x7f856d);console[_0x484f9e(0x323)](_0x484f9e(0x827)+_0x27cd23[_0x484f9e(0x89b)]);}catch(_0x267a57){console[_0x484f9e(0x7ba)](_0x484f9e(0x2b6),_0x267a57);}}async[a0_0x26c870(0x429)](){const _0x2c6718=a0_0x26c870;try{let _0x529ba5={'online':!0x1},_0x23f9ea={'online':!0x1,'lastDisconnect':Date[_0x2c6718(0x1a6)]()},_0x7fbce4=await this[_0x2c6718(0x252)][_0x2c6718(0x86f)][_0x2c6718(0x710)](_0x529ba5,_0x23f9ea);await this[_0x2c6718(0x7b6)]();}catch(_0x488fba){console[_0x2c6718(0x7ba)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x488fba);}}[a0_0x26c870(0x8bd)](){this['eventEmitter']['on']('remove.instance',async _0x1c8f6f=>{const _0x546cbd=a0_0x4486;try{this[_0x546cbd(0x70d)][_0x1c8f6f]=void 0x0;}catch{}try{this[_0x546cbd(0x8f5)](_0x1c8f6f);}finally{this[_0x546cbd(0x263)]['warn'](_0x546cbd(0x221)+_0x1c8f6f+_0x546cbd(0x541));}});}[a0_0x26c870(0x7e2)](){const _0x105c31=a0_0x26c870;this[_0x105c31(0x5b2)]['on'](_0x105c31(0x188),async _0x25916c=>{const _0x2c04ab=_0x105c31;try{this[_0x2c04ab(0x70d)][_0x25916c]=void 0x0;}catch{}try{this[_0x2c04ab(0x8f5)](_0x25916c);}finally{this[_0x2c04ab(0x263)][_0x2c04ab(0x6be)](_0x2c04ab(0x221)+_0x25916c+_0x2c04ab(0x325));}});}},Gt=class extends O{[a0_0x26c870(0x1a9)](_0xcc58dc){return ra(_0xcc58dc);}async[a0_0x26c870(0x7bb)](_0x23547b){const _0x428e88=a0_0x26c870;if(_0x23547b[_0x428e88(0x2df)]!==0x0)try{return{'insertCount':(await this[_0x428e88(0x1a9)](_0x23547b[0x0][_0x428e88(0x676)])[_0x428e88(0x5bc)]([..._0x23547b]))['length']};}catch(_0x45f702){return _0x45f702;}}async['find'](_0xeeb80,_0x510486){const _0x498a6a=a0_0x26c870;try{let _0x58589c=this[_0x498a6a(0x1a9)](_0x510486),_0x13dfc1=A(_0xeeb80[_0x498a6a(0x22c)]);return await _0x58589c[_0x498a6a(0x82c)](_0x13dfc1)[_0x498a6a(0x4be)]({'lastmsg':-0x1})[_0x498a6a(0x7b0)](_0xeeb80?.[_0x498a6a(0x7b0)]??0x0)[_0x498a6a(0x480)]();}catch{return[];}}async[a0_0x26c870(0x80b)](_0x591fd4,_0x11166b){const _0x901c27=a0_0x26c870;try{let _0x3785ee=this[_0x901c27(0x1a9)](_0x11166b),_0x163a0b=A(_0x591fd4[_0x901c27(0x22c)]);return _0x163a0b[_0x901c27(0x599)]={'$ne':[]},await _0x3785ee['find'](_0x163a0b)[_0x901c27(0x4be)]({'lastmsg':-0x1})[_0x901c27(0x7b0)](_0x591fd4?.['limit']??0x0)[_0x901c27(0x480)]();}catch{return[];}}async[a0_0x26c870(0x5e2)](_0x3296c2,_0x5d9b20){const _0x3e19d3=a0_0x26c870;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x5d9b20)[_0x3e19d3(0x752)]({..._0x3296c2['where']}))[_0x3e19d3(0x882)]};}catch(_0x544902){return{'error':_0x544902?.[_0x3e19d3(0x58a)]()};}}async[a0_0x26c870(0x815)](_0x4c8f98,_0x22fbc8){const _0x258ea5=a0_0x26c870;try{return await this[_0x258ea5(0x1a9)](_0x22fbc8)['deleteMany']({..._0x4c8f98[_0x258ea5(0x22c)]}),[];}catch(_0x1d75ab){return{'error':_0x1d75ab?.[_0x258ea5(0x58a)]()};}}async[a0_0x26c870(0x74c)](_0x1edee2,_0xa685cb){const _0x21b6d8=a0_0x26c870;try{let _0x20f28d=this[_0x21b6d8(0x1a9)](_0xa685cb),_0x4e30ec=A(_0x1edee2[_0x21b6d8(0x22c)]);return await _0x20f28d[_0x21b6d8(0x74c)](_0x4e30ec)[_0x21b6d8(0x480)]();}catch{return null;}}async[a0_0x26c870(0x5f5)](_0x1ce9e0,_0x39b56c,_0x58883e,_0x17bfc3,_0x4b7ce9=a0_0x26c870(0x7f5)){const _0x4a6040=a0_0x26c870;try{let _0x27cbec={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x17bfc3},_0x18221b=this[_0x4a6040(0x1a9)](_0x58883e),_0x2653c7=A(_0x1ce9e0[_0x4a6040(0x22c)]);Object[_0x4a6040(0x2ef)](_0x39b56c)['forEach'](_0x441bf3=>{_0x39b56c[_0x441bf3]==null&&delete _0x39b56c[_0x441bf3];});let _0x330a79={};return _0x330a79[_0x4b7ce9]=_0x39b56c,await _0x18221b[_0x4a6040(0x1cc)](_0x2653c7,_0x330a79,_0x27cbec);}catch(_0x3fb450){return console['error'](_0x3fb450),null;}}async[a0_0x26c870(0x5ea)](_0x58e173){const _0x458160=a0_0x26c870;try{let _0x374249=this[_0x458160(0x1a9)](_0x58e173[0x0][_0x458160(0x32f)][_0x458160(0x22c)][_0x458160(0x676)]),_0xb3aa90=_0x58e173[_0x458160(0x27c)](_0x5c7458=>({'updateOne':{'filter':{..._0x5c7458[_0x458160(0x32f)][_0x458160(0x22c)]},'update':{'$set':_0x5c7458[_0x458160(0x447)]},'upsert':!0x0}})),_0x3acb7a=await _0x374249['bulkWrite'](_0xb3aa90);return _0x3acb7a[_0x458160(0x2a9)]+_0x3acb7a[_0x458160(0x5ad)];}catch(_0x25d3c4){return console[_0x458160(0x7ba)](_0x25d3c4),0x0;}}async[a0_0x26c870(0x73b)](_0x12cf9f){const _0x39bab3=a0_0x26c870;try{let _0x4271d3={'group_isCommunity':'','group_announce':'','group_size':''},_0x4b033d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x36b6fe={'$unset':_0x4271d3};return(await this[_0x39bab3(0x1a9)](_0x12cf9f)[_0x39bab3(0x5ea)](_0x4b033d,_0x36b6fe))[_0x39bab3(0x2a9)];}catch(_0x19fed7){return console[_0x39bab3(0x7ba)](_0x39bab3(0x8fc),_0x19fed7),0x0;}}async[a0_0x26c870(0x638)](_0x38cd9e){const _0x14a8fb=a0_0x26c870;try{let _0x51deba=this[_0x14a8fb(0x1a9)](_0x38cd9e),_0x27950a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x57c091={'$set':{'leadInfo.etiquetas':[]}};return(await _0x51deba['updateMany'](_0x27950a,_0x57c091))[_0x14a8fb(0x2a9)];}catch(_0x2eed8e){return console[_0x14a8fb(0x7ba)](_0x2eed8e),0x0;}}async[a0_0x26c870(0x5a1)](_0x5d9535){const _0x20f0fc=a0_0x26c870;try{let _0x1a44ff=this['getChatModelForOwner'](_0x5d9535),_0x38e732={'leadInfo.tags':{'$exists':!0x1}},_0x1d944d={'$set':{'leadInfo.tags':[]}};return(await _0x1a44ff[_0x20f0fc(0x5ea)](_0x38e732,_0x1d944d))['modifiedCount'];}catch(_0x11169f){return console[_0x20f0fc(0x7ba)](_0x11169f),0x0;}}async[a0_0x26c870(0x514)](_0x18913f){const _0x23866c=a0_0x26c870;try{let _0x3ee713=this[_0x23866c(0x1a9)](_0x18913f),_0x3449a2={'leadInfo.customFields':{'$exists':!0x1}},_0x122c72={'$set':{'leadInfo.customFields':[]}};return(await _0x3ee713['updateMany'](_0x3449a2,_0x122c72))[_0x23866c(0x2a9)];}catch(_0x4aa36f){return console['error'](_0x4aa36f),0x0;}}async[a0_0x26c870(0x5bc)](_0x2e7620,_0x5b122b){const _0x3e1933=a0_0x26c870;if(!Array['isArray'](_0x2e7620)||_0x2e7620[_0x3e1933(0x2df)]===0x0)throw new Error(_0x3e1933(0x481));try{return(await this[_0x3e1933(0x1a9)](_0x5b122b)[_0x3e1933(0x5bc)](_0x2e7620))['length'];}catch(_0x1cc40b){throw console[_0x3e1933(0x7ba)](_0x3e1933(0x792),_0x1cc40b),_0x1cc40b;}}async[a0_0x26c870(0x251)](_0x4b5a7e,_0x298edd){const _0x383315=a0_0x26c870;try{await this[_0x383315(0x1a9)](_0x298edd)[_0x383315(0x4da)]({'_id':_0x4b5a7e});}catch(_0x399d3c){throw console[_0x383315(0x7ba)]('Erro\x20ao\x20deletar\x20chat:',_0x399d3c),_0x399d3c;}}},Bt=class extends O{constructor(_0xe2ea88,_0x25a02a,_0x332ced){const _0x40300d=a0_0x26c870;super(_0x25a02a),this['cacheContactModel']=_0xe2ea88,this[_0x40300d(0x382)]=_0x25a02a,this[_0x40300d(0x490)]=_0x332ced;}async[a0_0x26c870(0x7bb)](_0x5625b3){const _0x520caa=a0_0x26c870;if(_0x5625b3[_0x520caa(0x2df)]!==0x0)try{return{'insertCount':(await this[_0x520caa(0x22a)]['insertMany']([..._0x5625b3]))[_0x520caa(0x2df)]};}catch(_0x4e6939){return _0x4e6939;}}async[a0_0x26c870(0x447)](_0x424eb3,_0x362a64){const _0x4145b7=a0_0x26c870;try{let _0x2abe6a=A(_0x424eb3[_0x4145b7(0x22c)]);return{'updatedCount':(await this['cacheContactModel'][_0x4145b7(0x5ea)](_0x2abe6a,{'$set':_0x362a64}))['modifiedCount']};}catch(_0x20dcfb){return console[_0x4145b7(0x7ba)](_0x4145b7(0x410),_0x20dcfb),{'error':_0x20dcfb[_0x4145b7(0x58a)]()};}}async[a0_0x26c870(0x2d8)](_0x5bb134){const _0x52a63d=a0_0x26c870;try{let _0x5238e9={'_id':{'$in':_0x5bb134}};return await this[_0x52a63d(0x22a)]['find'](_0x5238e9)[_0x52a63d(0x480)]();}catch(_0x519f6b){return console[_0x52a63d(0x7ba)](_0x52a63d(0x487),_0x519f6b),[];}}async[a0_0x26c870(0x5e2)](_0x164a48){const _0x5af68c=a0_0x26c870;try{return{'deletedCount':(await this[_0x5af68c(0x22a)][_0x5af68c(0x752)]({..._0x164a48[_0x5af68c(0x22c)]}))[_0x5af68c(0x882)]};}catch(_0x5b9eb1){return{'error':_0x5b9eb1?.[_0x5af68c(0x58a)]()};}}async[a0_0x26c870(0x82c)](_0x2b3699){const _0x112ed2=a0_0x26c870;try{let _0x242f96=A(_0x2b3699[_0x112ed2(0x22c)]);return await this[_0x112ed2(0x22a)]['find'](_0x242f96)[_0x112ed2(0x7b0)](_0x2b3699?.['limit']??0x0)[_0x112ed2(0x480)]();}catch{return[];}}async[a0_0x26c870(0x74c)](_0x45cf8a){const _0x3373c0=a0_0x26c870;try{let _0x1e23c0=A(_0x45cf8a[_0x3373c0(0x22c)]);return await this[_0x3373c0(0x22a)][_0x3373c0(0x74c)](_0x1e23c0)[_0x3373c0(0x480)]();}catch{return null;}}},Wt=class extends O{constructor(_0x547f8c,_0x77d835,_0x3942c4){const _0x43a15d=a0_0x26c870;super(_0x77d835),this[_0x43a15d(0x916)]=_0x547f8c,this[_0x43a15d(0x382)]=_0x77d835,this[_0x43a15d(0x490)]=_0x3942c4;}async['insert'](_0x52fdb0){const _0x424813=a0_0x26c870;if(_0x52fdb0['length']!==0x0)try{return{'insertCount':(await this[_0x424813(0x916)][_0x424813(0x5bc)]([..._0x52fdb0]))['length']};}catch(_0x592ef5){return _0x592ef5;}}async[a0_0x26c870(0x447)](_0x52cdd5,_0x3e9323){const _0x3ac699=a0_0x26c870;try{let _0x596ea8=A(_0x52cdd5[_0x3ac699(0x22c)]);return{'updatedCount':(await this['messageLogsModel'][_0x3ac699(0x5ea)](_0x596ea8,{'$set':_0x3e9323}))[_0x3ac699(0x2a9)]};}catch(_0x11bccd){return console[_0x3ac699(0x7ba)](_0x3ac699(0x410),_0x11bccd),{'error':_0x11bccd[_0x3ac699(0x58a)]()};}}async['delete'](_0x5d6114){const _0x9eca84=a0_0x26c870;try{return{'deletedCount':(await this[_0x9eca84(0x916)]['deleteMany']({..._0x5d6114[_0x9eca84(0x22c)]}))[_0x9eca84(0x882)]};}catch(_0x1161cd){return{'error':_0x1161cd?.[_0x9eca84(0x58a)]()};}}async['findOne'](_0x57fbd9){const _0x2a8562=a0_0x26c870;try{let _0x57def1=A(_0x57fbd9[_0x2a8562(0x22c)]);return await this[_0x2a8562(0x916)][_0x2a8562(0x74c)](_0x57def1)['lean']();}catch{return null;}}},zt=class extends O{['getLabelModelForOwner'](_0x3e235a){return Aa(_0x3e235a);}async['updateOne'](_0x3397a6,_0x5a1fab,_0x50da8f,_0x4ec079){const _0x2e8fcf=a0_0x26c870;try{let _0x47d97e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4ec079},_0x20bfa0=this[_0x2e8fcf(0x4db)](_0x50da8f),_0x44b6ee=A(_0x3397a6[_0x2e8fcf(0x22c)]);return await _0x20bfa0['findOneAndUpdate'](_0x44b6ee,{'$set':_0x5a1fab},_0x47d97e);}catch(_0x40e8ba){return console[_0x2e8fcf(0x7ba)](_0x40e8ba),null;}}async['find'](_0x32673d,_0x5eea9f){const _0x11c40f=a0_0x26c870;try{let _0x45ce40=this[_0x11c40f(0x4db)](_0x5eea9f),_0x17eb9e=A(_0x32673d['where']);return await _0x45ce40[_0x11c40f(0x82c)](_0x17eb9e);}catch(_0x132e0f){console['error'](_0x132e0f);}}async[a0_0x26c870(0x5e2)](_0x19a145,_0x1d7134){const _0x4651ea=a0_0x26c870;try{let _0x2a21da=this[_0x4651ea(0x4db)](_0x1d7134),_0x4126d3=A(_0x19a145['where']);await _0x2a21da[_0x4651ea(0x752)](_0x4126d3);}catch(_0xf2f613){console['error'](_0xf2f613);}}async[a0_0x26c870(0x815)](_0x1f5978){const _0x5610c2=a0_0x26c870;try{return await this['getLabelModelForOwner'](_0x1f5978)[_0x5610c2(0x84f)][_0x5610c2(0x8ea)](),{'success':!0x0};}catch(_0x4c143f){return console[_0x5610c2(0x7ba)](_0x4c143f),{'success':!0x1,'error':_0x4c143f};}}},Ht=class{constructor(_0x48d909){const _0x35db6c=a0_0x26c870;this[_0x35db6c(0x635)]=_0x48d909;}async[a0_0x26c870(0x437)]({instanceName:_0x1fa174},_0x2b8968){const _0x3e0121=a0_0x26c870;return await this[_0x3e0121(0x635)][_0x3e0121(0x70d)][_0x1fa174]['editChat'](_0x2b8968);}async[a0_0x26c870(0x374)]({instanceName:_0x493b78},_0x595717){const _0x10941a=a0_0x26c870;return await this[_0x10941a(0x635)]['waInstances'][_0x493b78]['whatsappNumber'](_0x595717);}async[a0_0x26c870(0x189)]({instanceName:_0x28f519},_0x4aae7b){const _0x97ac7b=a0_0x26c870;return await this[_0x97ac7b(0x635)][_0x97ac7b(0x70d)][_0x28f519][_0x97ac7b(0x189)](_0x4aae7b);}async['readMessage']({instanceName:_0x316580},_0x3e3e39){const _0x275141=a0_0x26c870;return await this[_0x275141(0x635)][_0x275141(0x70d)][_0x316580]['markMessageAsRead'](_0x3e3e39);}async[a0_0x26c870(0x3dd)]({instanceName:_0x233f4b},_0x3a1d6c){const _0x24712e=a0_0x26c870;return await this[_0x24712e(0x635)][_0x24712e(0x70d)][_0x233f4b][_0x24712e(0x3dd)](_0x3a1d6c);}async[a0_0x26c870(0x5e3)]({instanceName:_0x44244d},_0x5f453f){const _0x1305ba=a0_0x26c870;return await this[_0x1305ba(0x635)]['waInstances'][_0x44244d][_0x1305ba(0x5e3)](_0x5f453f);}async[a0_0x26c870(0x7c2)]({instanceName:_0x14dbe4},_0x2065c4){const _0x5945dd=a0_0x26c870;return await this[_0x5945dd(0x635)][_0x5945dd(0x70d)][_0x14dbe4][_0x5945dd(0x8a7)](_0x2065c4['number']);}async[a0_0x26c870(0x6f0)]({instanceName:_0x2e62a1},_0x4af0ab){const _0x36ba34=a0_0x26c870;return await this[_0x36ba34(0x635)][_0x36ba34(0x70d)][_0x2e62a1][_0x36ba34(0x6f0)](_0x4af0ab[_0x36ba34(0x684)]);}async[a0_0x26c870(0x928)]({instanceName:_0x3e435b},_0x1c69a9){const _0x1532c3=a0_0x26c870;return await this[_0x1532c3(0x635)][_0x1532c3(0x70d)][_0x3e435b]['updatePresence'](_0x1c69a9);}async[a0_0x26c870(0x7a1)]({instanceName:_0x55253c},_0x2ecae5){const _0x9f53ca=a0_0x26c870;return await this['waMonitor'][_0x9f53ca(0x70d)][_0x55253c][_0x9f53ca(0x7a1)](_0x2ecae5);}async[a0_0x26c870(0x5cb)]({instanceName:_0x52b0fe},_0x5c5789){const _0x43cc8c=a0_0x26c870;return await this['waMonitor'][_0x43cc8c(0x70d)][_0x52b0fe][_0x43cc8c(0x5cb)](_0x5c5789);}async['fetchMessages']({instanceName:_0x14f75d},_0x1f9fee){const _0x1c1f3e=a0_0x26c870;return await this['waMonitor'][_0x1c1f3e(0x70d)][_0x14f75d][_0x1c1f3e(0x4c8)](_0x1f9fee);}async[a0_0x26c870(0x80a)]({instanceName:_0x3f10fa}){const _0x4062bd=a0_0x26c870;return await this[_0x4062bd(0x635)][_0x4062bd(0x70d)][_0x3f10fa][_0x4062bd(0x80a)]();}async[a0_0x26c870(0x6dd)]({instanceName:_0x1124da}){const _0x5f3078=a0_0x26c870;return await this['waMonitor'][_0x5f3078(0x70d)][_0x1124da]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x3260cc}){const _0x51ced0=a0_0x26c870;return await this[_0x51ced0(0x635)]['waInstances'][_0x3260cc][_0x51ced0(0x7ad)]();}async[a0_0x26c870(0x7f8)]({instanceName:_0x48c394},_0x2afdb2){const _0x200033=a0_0x26c870;return await this[_0x200033(0x635)][_0x200033(0x70d)][_0x48c394]['updatePrivacySettings'](_0x2afdb2);}async[a0_0x26c870(0x805)]({instanceName:_0x1f219f},_0x35a92a){const _0x26a936=a0_0x26c870;return await this[_0x26a936(0x635)]['waInstances'][_0x1f219f]['fetchBusinessProfile'](_0x35a92a[_0x26a936(0x684)]);}async[a0_0x26c870(0x8d6)]({instanceName:_0x2858e8},_0x212efc){const _0x1528d8=a0_0x26c870;return await this[_0x1528d8(0x635)][_0x1528d8(0x70d)][_0x2858e8][_0x1528d8(0x8d6)](_0x212efc['name']);}async[a0_0x26c870(0x7d0)]({instanceName:_0x2d1c31},_0xaebed3){const _0x5e6293=a0_0x26c870;return await this[_0x5e6293(0x635)][_0x5e6293(0x70d)][_0x2d1c31]['updateProfileStatus'](_0xaebed3[_0x5e6293(0x284)]);}async[a0_0x26c870(0x27b)]({instanceName:_0x14dfb3},_0x13f6b4){const _0x4ccc2b=a0_0x26c870;return await this[_0x4ccc2b(0x635)][_0x4ccc2b(0x70d)][_0x14dfb3][_0x4ccc2b(0x27b)](_0x13f6b4[_0x4ccc2b(0x897)]);}async[a0_0x26c870(0x80d)]({instanceName:_0x740d9},_0x10c7f6){const _0x4d7c92=a0_0x26c870;return await this[_0x4d7c92(0x635)][_0x4d7c92(0x70d)][_0x740d9][_0x4d7c92(0x80d)]();}},Kt=require('@whiskeysockets/baileys'),Qt=class l{constructor(_0x953d3e,_0x4da2b9,_0x1a820a,_0x42daaf,_0x991a92){const _0x28337c=a0_0x26c870;this[_0x28337c(0x635)]=_0x953d3e,this[_0x28337c(0x382)]=_0x4da2b9,this['repository']=_0x1a820a,this['eventEmitter']=_0x42daaf,this['authService']=_0x991a92,this['logger']=new $(l[_0x28337c(0x5fa)]);}async[a0_0x26c870(0x75e)]({instanceName:_0x276add,apikey:_0x384e91,number:_0x57a4c7,proxy:_0xe65589=!0x0}){const _0x32f879=a0_0x26c870;try{let _0x1991d3=new Ae(this[_0x32f879(0x382)],this[_0x32f879(0x5b2)],this['repository']);_0x1991d3['instanceName']=_0x276add,this[_0x32f879(0x635)][_0x32f879(0x70d)][_0x1991d3['instanceName']]=_0x1991d3;let _0x1675ec={};_0x384e91?(await this['repository'][_0x32f879(0x86f)][_0x32f879(0x1e0)]({'apikey':_0x384e91},_0x276add),_0x1675ec[_0x32f879(0x37d)]=_0x384e91):_0x1675ec=await this[_0x32f879(0x190)][_0x32f879(0x519)]({'instanceName':_0x1991d3[_0x32f879(0x24d)]});let _0x2f1a36;if(_0x57a4c7){if(_0x2f1a36=await this['verifyWhatsAppNumber'](_0x57a4c7),_0x2f1a36['error'])throw new x(_0x2f1a36['error'][_0x32f879(0x58a)]());_0x57a4c7=_0x2f1a36[_0x32f879(0x684)];}let _0x2a6aac;return await _0x1991d3['connectToWhatsapp'](_0x57a4c7),await(0x0,Kt[_0x32f879(0x89a)])(0xfa0),_0x57a4c7&&await(0x0,Kt[_0x32f879(0x89a)])(0xbb8),_0x2a6aac=_0x1991d3[_0x32f879(0x383)],{'instance':{'instanceName':_0x1991d3[_0x32f879(0x24d)],'status':_0x32f879(0x65c)},'hash':_0x1675ec,'qrcode':_0x2a6aac};}catch(_0x2e25bc){throw this[_0x32f879(0x263)][_0x32f879(0x7ba)](_0x2e25bc),_0x2e25bc;}}async[a0_0x26c870(0x2f9)]({instanceName:_0x1c135c,number:_0x46fe93=null}){const _0x12cb11=a0_0x26c870;try{let _0x2d3384=this[_0x12cb11(0x635)][_0x12cb11(0x70d)][_0x1c135c];switch(_0x2d3384?.[_0x12cb11(0x528)]?.[_0x12cb11(0x458)]){case _0x12cb11(0x73a):return await _0x2d3384[_0x12cb11(0x3b4)](_0x46fe93),await(0x0,Kt['delay'])(0x7d0),_0x2d3384['qrCode'];case _0x12cb11(0x687):return _0x2d3384[_0x12cb11(0x383)];default:return await this[_0x12cb11(0x650)]({'instanceName':_0x1c135c});}}catch(_0x185b01){this[_0x12cb11(0x263)]['log'](_0x185b01);}}async['connectionState']({instanceName:_0x3d7ee5}){const _0xd8674b=a0_0x26c870;let _0x3c586e=this[_0xd8674b(0x635)][_0xd8674b(0x70d)][_0x3d7ee5]['connectionStatus'],_0x4c920c=null;_0x3c586e[_0xd8674b(0x458)]===_0xd8674b(0x940)&&_0x3d7ee5&&(_0x4c920c=await this[_0xd8674b(0x635)]['instanceInfo'](_0x3d7ee5));let _0x59d685=null;return _0x3c586e[_0xd8674b(0x458)]==='connecting'&&_0x3d7ee5&&(_0x59d685=this[_0xd8674b(0x635)][_0xd8674b(0x70d)][_0x3d7ee5][_0xd8674b(0x383)]),{'instance':_0x3d7ee5,'connectionStatus':_0x3c586e,'instanceInfo':_0x4c920c,'qrcode':_0x59d685};}async['verifyWhatsAppNumber'](_0x2599fc){const _0x7cf5e6=a0_0x26c870;_0x2599fc=_0x2599fc[_0x7cf5e6(0x821)](/\D/g,'');let _0x2af81f=Object[_0x7cf5e6(0x2ef)](this[_0x7cf5e6(0x635)][_0x7cf5e6(0x70d)])[_0x7cf5e6(0x2b4)](_0x28b039=>{const _0x41e0ee=_0x7cf5e6;let _0x2824e5=this[_0x41e0ee(0x635)]['waInstances'][_0x28b039];return _0x2824e5&&_0x2824e5[_0x41e0ee(0x528)]&&_0x2824e5[_0x41e0ee(0x528)][_0x41e0ee(0x458)]===_0x41e0ee(0x940);});if(_0x2af81f[_0x7cf5e6(0x2df)]===0x0)return{'number':this[_0x7cf5e6(0x7d7)](_0x2599fc)};let _0x207bcf=Math[_0x7cf5e6(0x3d8)](Math[_0x7cf5e6(0x51c)]()*_0x2af81f[_0x7cf5e6(0x2df)]),_0x1bf660=_0x2af81f[_0x207bcf];try{let _0x10aedb=(await this[_0x7cf5e6(0x635)][_0x7cf5e6(0x70d)][_0x1bf660]['whatsappNumber']({'numbers':[_0x2599fc]}))[_0x7cf5e6(0x3f6)]();return _0x10aedb[_0x7cf5e6(0x426)]?{'number':_0x10aedb[_0x7cf5e6(0x291)]['replace'](_0x7cf5e6(0x220),'')}:{'number':_0x2599fc,'error':_0x7cf5e6(0x3be)};}catch(_0x1ef8fc){return this[_0x7cf5e6(0x263)][_0x7cf5e6(0x7ba)](_0x7cf5e6(0x75d)+_0x1ef8fc),{'number':_0x2599fc,'error':_0x7cf5e6(0x8c3)};}}['formatBRNumber'](_0x36e6c1){let _0x2846c5=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x36e6c1);if(_0x2846c5&&_0x2846c5[0x1]==='55'){let _0x2c6afe=_0x2846c5[0x2],_0x506c6e=_0x2846c5[0x3],_0x329b43=_0x2846c5[0x4];if(parseInt(_0x2c6afe)>=0x1f&&_0x506c6e==='9')return _0x2846c5[0x1]+_0x2c6afe+_0x329b43;}return _0x36e6c1;}async[a0_0x26c870(0x5ce)]({instanceName:_0x497544}){const _0x503438=a0_0x26c870;try{return this['waMonitor']['waInstances'][_0x497544]?.['client']?.['ws']?.[_0x503438(0x73a)](),{'status':_0x503438(0x625),'error':!0x1,'response':{'message':_0x503438(0x575)}};}catch(_0x2df76d){this[_0x503438(0x263)][_0x503438(0x7ba)](_0x2df76d);}}async['fetchInstances']({instanceName:_0x550408}){const _0x46a953=a0_0x26c870;return _0x550408?this[_0x46a953(0x635)][_0x46a953(0x887)](_0x550408):this[_0x46a953(0x635)][_0x46a953(0x887)]();}async[a0_0x26c870(0x34d)]({instanceName:_0x5758c7}){const _0x720dce=a0_0x26c870;try{return await this[_0x720dce(0x635)][_0x720dce(0x70d)][_0x5758c7]?.['client']?.[_0x720dce(0x34d)](_0x720dce(0x70a)+_0x5758c7),{'error':!0x1,'message':_0x720dce(0x723)};}catch(_0x1b73cc){throw new x(_0x1b73cc['toString']());}}async[a0_0x26c870(0x5a9)]({instanceName:_0x392d34}){const _0x1b9f63=a0_0x26c870;if((await this['connectionState']({'instanceName':_0x392d34}))[_0x1b9f63(0x528)]['state']==='open')throw new m([_0x1b9f63(0x4c4),_0x1b9f63(0x6c6)]);try{return delete this[_0x1b9f63(0x635)]['waInstances'][_0x392d34],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1380a8){throw new m(_0x1380a8[_0x1b9f63(0x58a)]());}}},ne=require(a0_0x26c870(0x38d)),Yt=class{constructor(_0x5b79ea){const _0x16bcd0=a0_0x26c870;this[_0x16bcd0(0x635)]=_0x5b79ea;}async[a0_0x26c870(0x802)]({instanceName:_0x1e4d30},_0x165ae4){const _0x55ba26=a0_0x26c870;return await this[_0x55ba26(0x635)][_0x55ba26(0x70d)][_0x1e4d30][_0x55ba26(0x6e1)](_0x165ae4);}async[a0_0x26c870(0x6d2)]({instanceName:_0x379702},_0x9d9b96){const _0x9319ca=a0_0x26c870;return await this[_0x9319ca(0x635)][_0x9319ca(0x70d)][_0x379702][_0x9319ca(0x6c1)](_0x9d9b96);}async[a0_0x26c870(0x69b)]({instanceName:_0x505d68},_0x164774){const _0x59ad5c=a0_0x26c870;if((0x0,ne[_0x59ad5c(0x88c)])(_0x164774?.[_0x59ad5c(0x748)]?.[_0x59ad5c(0x1bd)])&&!_0x164774?.[_0x59ad5c(0x748)]?.[_0x59ad5c(0x1de)])throw new m(_0x59ad5c(0x862));if((0x0,ne[_0x59ad5c(0x1c8)])(_0x164774?.['mediaMessage']?.[_0x59ad5c(0x1bd)])||(0x0,ne[_0x59ad5c(0x88c)])(_0x164774?.[_0x59ad5c(0x748)]?.[_0x59ad5c(0x1bd)]))return await this[_0x59ad5c(0x635)][_0x59ad5c(0x70d)][_0x505d68][_0x59ad5c(0x748)](_0x164774);throw new m(_0x59ad5c(0x5bb));}async['sendSticker']({instanceName:_0x827846},_0x48e577){const _0x158da6=a0_0x26c870;if((0x0,ne[_0x158da6(0x1c8)])(_0x48e577[_0x158da6(0x8fa)][_0x158da6(0x389)])||(0x0,ne['isBase64'])(_0x48e577[_0x158da6(0x8fa)]['image']))return await this[_0x158da6(0x635)][_0x158da6(0x70d)][_0x827846]['mediaSticker'](_0x48e577);throw new m(_0x158da6(0x5bb));}async['sendWhatsAppAudio']({instanceName:_0x5c9514},_0x3eee85){const _0x17b84f=a0_0x26c870;if((0x0,ne[_0x17b84f(0x1c8)])(_0x3eee85[_0x17b84f(0x259)][_0x17b84f(0x7a7)])||(0x0,ne[_0x17b84f(0x88c)])(_0x3eee85['audioMessage'][_0x17b84f(0x7a7)]))return await this['waMonitor'][_0x17b84f(0x70d)][_0x5c9514][_0x17b84f(0x17e)](_0x3eee85);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x26c870(0x542)]({instanceName:_0xc88428},_0x1352fa){const _0x207468=a0_0x26c870;return await this[_0x207468(0x635)][_0x207468(0x70d)][_0xc88428][_0x207468(0x2d1)](_0x1352fa);}async['sendLocation']({instanceName:_0x557687},_0x43d7a0){const _0x891d81=a0_0x26c870;return await this['waMonitor'][_0x891d81(0x70d)][_0x557687][_0x891d81(0x7f2)](_0x43d7a0);}async[a0_0x26c870(0x212)]({instanceName:_0x29760a},_0xade665){const _0x10784b=a0_0x26c870;return await this[_0x10784b(0x635)][_0x10784b(0x70d)][_0x29760a][_0x10784b(0x4ae)](_0xade665);}async[a0_0x26c870(0x534)]({instanceName:_0x5a774a},_0x4d473b){const _0x3917b2=a0_0x26c870;return await this[_0x3917b2(0x635)][_0x3917b2(0x70d)][_0x5a774a][_0x3917b2(0x5c5)](_0x4d473b);}async[a0_0x26c870(0x68b)]({instanceName:_0x5b7a6e},_0x39b37b){const _0x55184b=a0_0x26c870;return await this['waMonitor'][_0x55184b(0x70d)][_0x5b7a6e][_0x55184b(0x6b5)](_0x39b37b);}async[a0_0x26c870(0x637)]({instanceName:_0x550f98},_0x4afdb5){const _0x312c17=a0_0x26c870;if(!_0x4afdb5[_0x312c17(0x656)][_0x312c17(0x4af)][_0x312c17(0x7e1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x312c17(0x1fc));return await this[_0x312c17(0x635)][_0x312c17(0x70d)][_0x550f98][_0x312c17(0x656)](_0x4afdb5);}async[a0_0x26c870(0x379)]({instanceName:_0x29df93},_0x2ba39b){const _0x3f3bef=a0_0x26c870;return await this[_0x3f3bef(0x635)]['waInstances'][_0x29df93][_0x3f3bef(0x633)](_0x2ba39b);}},Ui=require(a0_0x26c870(0x452)),Gs=require(a0_0x26c870(0x90a)),Xt=class l{constructor(_0x47b520,_0x51d418,_0x2cc881){const _0x1299e9=a0_0x26c870;this[_0x1299e9(0x382)]=_0x47b520,this[_0x1299e9(0x635)]=_0x51d418,this[_0x1299e9(0x252)]=_0x2cc881,this['logger']=new $(l[_0x1299e9(0x5fa)]);}async[a0_0x26c870(0x4cb)](_0x25eabd){const _0x52e39f=a0_0x26c870;let _0x40351f=this[_0x52e39f(0x382)]['get'](_0x52e39f(0x81f))[_0x52e39f(0x4a5)],_0x36affe=(0x0,Ui[_0x52e39f(0x30e)])({'instanceName':_0x25eabd['instanceName'],'apiName':ct,'tokenId':(0x0,Gs['v4'])()},_0x40351f['SECRET'],{'expiresIn':_0x40351f['EXPIRIN_IN'],'encoding':'utf8','subject':'g-t'}),_0x1038d7=await this[_0x52e39f(0x252)]['auth'][_0x52e39f(0x1e0)]({'jwt':_0x36affe},_0x25eabd[_0x52e39f(0x24d)]);if(_0x1038d7[_0x52e39f(0x7ba)])throw this[_0x52e39f(0x263)][_0x52e39f(0x7ba)]({'localError':l[_0x52e39f(0x5fa)]+'.jwt','error':_0x1038d7[_0x52e39f(0x7ba)]}),new m('Authentication\x20error',_0x1038d7['error']?.[_0x52e39f(0x58a)]());return{'jwt':_0x36affe};}async[a0_0x26c870(0x37d)](_0xf5001a){const _0x5b9cee=a0_0x26c870;let _0x2f3560=(0x0,Gs['v4'])()[_0x5b9cee(0x425)](),_0x565309=await this['repository'][_0x5b9cee(0x86f)][_0x5b9cee(0x1e0)]({'apikey':_0x2f3560},_0xf5001a[_0x5b9cee(0x24d)]);if(_0x565309[_0x5b9cee(0x7ba)])throw this[_0x5b9cee(0x263)][_0x5b9cee(0x7ba)]({'localError':l[_0x5b9cee(0x5fa)]+_0x5b9cee(0x348),'error':_0x565309['error']}),new m('Authentication\x20error',_0x565309[_0x5b9cee(0x7ba)]?.['toString']());return{'apikey':_0x2f3560};}async[a0_0x26c870(0x519)](_0x29008b){const _0x3fb99e=a0_0x26c870;let _0x3b85fd=this[_0x3fb99e(0x382)][_0x3fb99e(0x2c9)](_0x3fb99e(0x81f));return await this[_0x3b85fd[_0x3fb99e(0x93f)]](_0x29008b);}},Zt=class{constructor(_0x41616f){const _0xce065b=a0_0x26c870;this[_0xce065b(0x635)]=_0x41616f;}async['createGroup'](_0x30fdd6,_0x484747){const _0x4ef7a0=a0_0x26c870;return await this['waMonitor'][_0x4ef7a0(0x70d)][_0x30fdd6[_0x4ef7a0(0x24d)]]['createGroup'](_0x484747);}async[a0_0x26c870(0x31f)](_0x29564f,_0x21894d){const _0x2a5760=a0_0x26c870;return await this[_0x2a5760(0x635)]['waInstances'][_0x29564f[_0x2a5760(0x24d)]][_0x2a5760(0x31f)](_0x21894d);}async['groupDesc'](_0x390759,_0xaf07a2){const _0x34037e=a0_0x26c870;return await this[_0x34037e(0x635)][_0x34037e(0x70d)][_0x390759[_0x34037e(0x24d)]]['groupDesc'](_0xaf07a2);}async[a0_0x26c870(0x86b)](_0x5ca39a,_0x457536){const _0x440230=a0_0x26c870;return await this[_0x440230(0x635)][_0x440230(0x70d)][_0x5ca39a[_0x440230(0x24d)]][_0x440230(0x86b)](_0x457536);}async['groupBetterSetting'](_0x30e068,_0x225b66){const _0x444792=a0_0x26c870;return await this['waMonitor'][_0x444792(0x70d)][_0x30e068[_0x444792(0x24d)]][_0x444792(0x3f7)](_0x225b66);}async[a0_0x26c870(0x8fd)](_0x5b89a5,_0x2eea03){const _0x3c69d4=a0_0x26c870;return await this[_0x3c69d4(0x635)][_0x3c69d4(0x70d)][_0x5b89a5['instanceName']][_0x3c69d4(0x8fd)](_0x2eea03);}async['findGroupInfo'](_0x595c6f,_0x27db21){const _0x368af4=a0_0x26c870;return await this[_0x368af4(0x635)][_0x368af4(0x70d)][_0x595c6f[_0x368af4(0x24d)]][_0x368af4(0x24e)](_0x27db21);}async[a0_0x26c870(0x432)](_0x5e4705){const _0x37fe47=a0_0x26c870;return await this[_0x37fe47(0x635)][_0x37fe47(0x70d)][_0x5e4705['instanceName']][_0x37fe47(0x432)]();}async[a0_0x26c870(0x1c3)](_0x4fa194,_0x5dc875){const _0x51ea7a=a0_0x26c870;return await this['waMonitor'][_0x51ea7a(0x70d)][_0x4fa194['instanceName']][_0x51ea7a(0x1c3)](_0x5dc875);}async[a0_0x26c870(0x2e5)](_0x50530b,_0x273f07){const _0x5d2f6c=a0_0x26c870;return await this[_0x5d2f6c(0x635)][_0x5d2f6c(0x70d)][_0x50530b['instanceName']][_0x5d2f6c(0x2e5)](_0x273f07);}async['groupGetInviteInfo'](_0x3ef4b9,_0x140e52){const _0x4047a5=a0_0x26c870;return await this[_0x4047a5(0x635)][_0x4047a5(0x70d)][_0x3ef4b9['instanceName']][_0x4047a5(0x513)](_0x140e52);}async[a0_0x26c870(0x6c2)](_0x28b6a3,_0x28361c){const _0x261864=a0_0x26c870;return await this[_0x261864(0x635)][_0x261864(0x70d)][_0x28b6a3[_0x261864(0x24d)]][_0x261864(0x6c2)](_0x28361c);}async['findParticipants'](_0x2f76a1,_0x2d89e1){const _0x419af7=a0_0x26c870;return await this['waMonitor'][_0x419af7(0x70d)][_0x2f76a1[_0x419af7(0x24d)]]['findParticipants'](_0x2d89e1);}async[a0_0x26c870(0x8eb)](_0x13e361,_0x41599d){const _0x5f146a=a0_0x26c870;return await this[_0x5f146a(0x635)][_0x5f146a(0x70d)][_0x13e361[_0x5f146a(0x24d)]]['updateGParticipant'](_0x41599d);}async[a0_0x26c870(0x759)](_0x390c8d,_0xcae0cd){const _0x3d6a3a=a0_0x26c870;return await this['waMonitor'][_0x3d6a3a(0x70d)][_0x390c8d['instanceName']][_0x3d6a3a(0x759)](_0xcae0cd);}async['leaveGroup'](_0x49ec08,_0x5ad239){const _0x42cfd=a0_0x26c870;return await this[_0x42cfd(0x635)]['waInstances'][_0x49ec08[_0x42cfd(0x24d)]][_0x42cfd(0x726)](_0x5ad239);}},es=class{constructor(_0x2cfbcb){const _0x4ba884=a0_0x26c870;this[_0x4ba884(0x635)]=_0x2cfbcb;}[a0_0x26c870(0x1e0)](_0x5c8842,_0x59eaf4){const _0x5d176f=a0_0x26c870;return this[_0x5d176f(0x635)][_0x5d176f(0x70d)][_0x5c8842[_0x5d176f(0x24d)]]['setWebhook'](_0x59eaf4);}async[a0_0x26c870(0x82c)](_0x24791d){const _0x2038b2=a0_0x26c870;try{return await this[_0x2038b2(0x635)]['waInstances'][_0x24791d[_0x2038b2(0x24d)]][_0x2038b2(0x604)]();}catch{return{'enabled':null,'url':''};}}},hh=new $('FlowController'),ts=class{constructor(_0x13b295){const _0x979261=a0_0x26c870;this[_0x979261(0x635)]=_0x13b295;}async[a0_0x26c870(0x79a)](_0x2dc8f7,_0x45a449){const _0x477db2=a0_0x26c870;return await this[_0x477db2(0x635)][_0x477db2(0x70d)][_0x2dc8f7['instanceName']][_0x477db2(0x79a)](_0x45a449);}async[a0_0x26c870(0x62a)](_0x45003e){const _0x5372d2=a0_0x26c870;return await this[_0x5372d2(0x635)]['waInstances'][_0x45003e[_0x5372d2(0x24d)]][_0x5372d2(0x62a)]();}async['deleteDoneMessages'](_0x3e8851){const _0x5e3d8f=a0_0x26c870;return await this[_0x5e3d8f(0x635)]['waInstances'][_0x3e8851[_0x5e3d8f(0x24d)]][_0x5e3d8f(0x933)]();}async[a0_0x26c870(0x57b)](_0x12de76){const _0xf71132=a0_0x26c870;return await this[_0xf71132(0x635)][_0xf71132(0x70d)][_0x12de76[_0xf71132(0x24d)]][_0xf71132(0x57b)]();}async[a0_0x26c870(0x791)](_0x31606d){const _0x4add0f=a0_0x26c870;return await this[_0x4add0f(0x635)][_0x4add0f(0x70d)][_0x31606d[_0x4add0f(0x24d)]]['getAutomateSystem']();}async[a0_0x26c870(0x590)](_0x361ff2,_0x172d2e){const _0x36eebf=a0_0x26c870;return await this[_0x36eebf(0x635)][_0x36eebf(0x70d)][_0x361ff2[_0x36eebf(0x24d)]]['updateAgent'](_0x172d2e);}async['updateCustomFields'](_0x15ed04,_0x45dffb){const _0x2d287a=a0_0x26c870;return await this[_0x2d287a(0x635)][_0x2d287a(0x70d)][_0x15ed04[_0x2d287a(0x24d)]]['updateCustomFields'](_0x45dffb);}async[a0_0x26c870(0x450)](_0x2eb7c5,_0x180cf4){const _0xcbc063=a0_0x26c870;return await this[_0xcbc063(0x635)][_0xcbc063(0x70d)][_0x2eb7c5[_0xcbc063(0x24d)]][_0xcbc063(0x450)](_0x180cf4);}async[a0_0x26c870(0x2b0)](_0x329ae3,_0x122aef){const _0x12d3b7=a0_0x26c870;return await this['waMonitor'][_0x12d3b7(0x70d)][_0x329ae3[_0x12d3b7(0x24d)]]['updateFlowConfig'](_0x122aef);}async[a0_0x26c870(0x830)](_0x50b351,_0x7e2403){const _0x4a46b1=a0_0x26c870;return await this[_0x4a46b1(0x635)][_0x4a46b1(0x70d)][_0x50b351['instanceName']][_0x4a46b1(0x830)](_0x7e2403);}async[a0_0x26c870(0x7ce)](_0x580daa,_0x1ce964,_0x2acc92,_0x2ebac1){const _0x35be8c=a0_0x26c870;return await this[_0x35be8c(0x635)][_0x35be8c(0x70d)][_0x580daa]['startFlowWebhook'](_0x1ce964,_0x2acc92,_0x2ebac1);}async[a0_0x26c870(0x5a7)](_0x1f9d75,_0x187964){const _0x203dce=a0_0x26c870;return await this[_0x203dce(0x635)][_0x203dce(0x70d)][_0x1f9d75[_0x203dce(0x24d)]][_0x203dce(0x5a7)](_0x187964);}async[a0_0x26c870(0x91b)](_0x2a300d,_0x31f595){const _0x2cf333=a0_0x26c870;return await this[_0x2cf333(0x635)][_0x2cf333(0x70d)][_0x2a300d[_0x2cf333(0x24d)]][_0x2cf333(0x91b)](_0x31f595);}async[a0_0x26c870(0x913)](_0x1e1402,_0x15b6bf){const _0x570376=a0_0x26c870;return await this['waMonitor']['waInstances'][_0x1e1402[_0x570376(0x24d)]][_0x570376(0x913)](_0x15b6bf);}async[a0_0x26c870(0x57f)](_0x30dd1b,_0x2c341c){const _0x142b17=a0_0x26c870;return await this[_0x142b17(0x635)][_0x142b17(0x70d)][_0x30dd1b[_0x142b17(0x24d)]][_0x142b17(0x57f)](_0x2c341c);}async[a0_0x26c870(0x8cc)](_0x511668,_0x255967){const _0x274667=a0_0x26c870;return await this[_0x274667(0x635)]['waInstances'][_0x511668[_0x274667(0x24d)]][_0x274667(0x8cc)](_0x255967[_0x274667(0x3fa)]);}async[a0_0x26c870(0x1d6)](_0x5da245,_0x5aea36,_0x398749){const _0x5625bf=a0_0x26c870;return await this[_0x5625bf(0x635)][_0x5625bf(0x70d)][_0x5da245['instanceName']][_0x5625bf(0x1d6)](_0x5aea36,_0x398749);}async[a0_0x26c870(0x661)](_0x2c0f8c,_0x3e02cd,_0x55b860){const _0x4b948b=a0_0x26c870;return await this[_0x4b948b(0x635)][_0x4b948b(0x70d)][_0x2c0f8c[_0x4b948b(0x24d)]]['editFlow'](_0x3e02cd,_0x55b860);}async['editFlowBlock'](_0x1ff072,_0x4e9875){const _0x5156dc=a0_0x26c870;return await this[_0x5156dc(0x635)][_0x5156dc(0x70d)][_0x1ff072['instanceName']][_0x5156dc(0x24b)](_0x4e9875);}async['editFlowReply'](_0x2ca6d9,_0x48834b){const _0x1a897d=a0_0x26c870;return await this[_0x1a897d(0x635)][_0x1a897d(0x70d)][_0x2ca6d9['instanceName']]['editFlowReply'](_0x48834b);}async['editFlowGroup'](_0x5c05cf,_0x2a460c){const _0x5b42c1=a0_0x26c870;return await this[_0x5b42c1(0x635)]['waInstances'][_0x5c05cf[_0x5b42c1(0x24d)]][_0x5b42c1(0x4f1)](_0x2a460c);}async['editFlowCondition'](_0x5e3c50,_0x29822f){const _0x27e962=a0_0x26c870;return await this['waMonitor'][_0x27e962(0x70d)][_0x5e3c50[_0x27e962(0x24d)]][_0x27e962(0x4f9)](_0x29822f);}async[a0_0x26c870(0x52d)](_0x27790a,_0xba303c){const _0x118f04=a0_0x26c870;return await this[_0x118f04(0x635)][_0x118f04(0x70d)][_0x27790a[_0x118f04(0x24d)]]['editFlowVaredit'](_0xba303c);}async[a0_0x26c870(0x41f)](_0x390de7,_0x4b98f1){const _0x561d63=a0_0x26c870;return await this[_0x561d63(0x635)][_0x561d63(0x70d)][_0x390de7[_0x561d63(0x24d)]][_0x561d63(0x41f)](_0x4b98f1);}async[a0_0x26c870(0x2ab)](_0x3bc9f4,_0x5cbea5){const _0x3b2ea2=a0_0x26c870;return await this[_0x3b2ea2(0x635)][_0x3b2ea2(0x70d)][_0x3bc9f4['instanceName']]['deleteFlow'](_0x5cbea5);}async[a0_0x26c870(0x1e2)](_0x2adee3){const _0x219ddb=a0_0x26c870;return await this[_0x219ddb(0x635)][_0x219ddb(0x70d)][_0x2adee3[_0x219ddb(0x24d)]][_0x219ddb(0x1e2)]();}},ss=class{constructor(_0x7a5806){const _0x18b811=a0_0x26c870;this[_0x18b811(0x1dd)]=_0x7a5806;}async[a0_0x26c870(0x1a7)](_0x35e0d2,_0x34b25d){return this['webhookService']['create'](_0x35e0d2,_0x34b25d);}async[a0_0x26c870(0x604)](_0x52f7a0){const _0x3a3f60=a0_0x26c870;return this[_0x3a3f60(0x1dd)]['find'](_0x52f7a0);}},as=class extends O{constructor(_0x9e8ed3,_0x31f984){const _0x14c058=a0_0x26c870;super(_0x31f984),this['webhookModel']=_0x9e8ed3,this[_0x14c058(0x382)]=_0x31f984;}async[a0_0x26c870(0x1e0)](_0x248505,_0x56f096){const _0x173a3e=a0_0x26c870;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x173a3e(0x565)][_0x173a3e(0x1f3)]({'_id':_0x56f096},{..._0x248505},{'upsert':!0x0}))[_0x173a3e(0x2a9)]}:{'insertCount':0x1};}catch(_0x5823d5){return _0x5823d5;}}async[a0_0x26c870(0x5e2)](_0x1989f6){const _0x3dddcb=a0_0x26c870;try{if(this[_0x3dddcb(0x512)][_0x3dddcb(0x3b5)]){await this[_0x3dddcb(0x565)][_0x3dddcb(0x4da)]({'_id':_0x1989f6});return;}}catch(_0x35f984){return{'error':_0x35f984};}}async['find'](_0xe3d980){const _0xeca719=a0_0x26c870;try{if(this['dbSettings'][_0xeca719(0x3b5)])return await this['webhookModel'][_0xeca719(0x74c)]({'_id':_0xe3d980});}catch{return{};}}},is=class extends O{constructor(_0x2d58f7,_0x2f722f){const _0x5bf588=a0_0x26c870;super(_0x2f722f),this['authModel']=_0x2d58f7,this[_0x5bf588(0x382)]=_0x2f722f,this[_0x5bf588(0x86f)]=_0x2f722f['get'](_0x5bf588(0x81f));}async['create'](_0x5da70c,_0x1f8695){const _0xc8d573=a0_0x26c870;try{if(this[_0xc8d573(0x512)][_0xc8d573(0x3b5)])return{'insertCount':(await this[_0xc8d573(0x180)][_0xc8d573(0x5f5)]({'_id':_0x1f8695},{'$set':{..._0x5da70c}},{'upsert':!0x0}))[_0xc8d573(0x2a9)]};}catch(_0x154df1){return{'error':_0x154df1};}}async[a0_0x26c870(0x710)](_0x1f993c,_0xffe8a1){const _0x4c58db=a0_0x26c870;try{if(this[_0x4c58db(0x512)][_0x4c58db(0x3b5)])return{'insertCount':(await this['authModel'][_0x4c58db(0x5ea)](_0x1f993c,{'$set':_0xffe8a1},{'upsert':!0x1}))[_0x4c58db(0x2a9)]};throw new Error(_0x4c58db(0x793));}catch(_0x3d6d50){return{'error':_0x3d6d50};}}async[a0_0x26c870(0x752)](_0xf526ef){const _0x353b03=a0_0x26c870;try{if(this[_0x353b03(0x512)][_0x353b03(0x3b5)])return{'insertCount':(await this[_0x353b03(0x180)][_0x353b03(0x752)](_0xf526ef))[_0x353b03(0x882)]};throw new Error(_0x353b03(0x777));}catch(_0x5aa6fa){return{'error':_0x5aa6fa};}}async['delete'](_0x1059c1){const _0x2f84a9=a0_0x26c870;try{if(this[_0x2f84a9(0x512)]['ENABLED']){await this[_0x2f84a9(0x180)][_0x2f84a9(0x4da)]({'_id':_0x1059c1});return;}}catch(_0x5c8532){return{'error':_0x5c8532};}}async[a0_0x26c870(0x82c)](_0x59ed4d){const _0x345d55=a0_0x26c870;try{if(this['dbSettings'][_0x345d55(0x3b5)])return await this[_0x345d55(0x180)]['findOne']({'_id':_0x59ed4d});}catch{return{};}}async[a0_0x26c870(0x6a8)](){const _0x23fb57=a0_0x26c870;try{if(this[_0x23fb57(0x512)][_0x23fb57(0x3b5)])return await this[_0x23fb57(0x180)][_0x23fb57(0x82c)]();}catch{return[];}}async['findMany'](_0x25c2b5){const _0x1d28db=a0_0x26c870;try{if(this[_0x1d28db(0x512)][_0x1d28db(0x3b5)])return await this[_0x1d28db(0x180)][_0x1d28db(0x82c)](_0x25c2b5);}catch{return[];}}},os=class extends O{async[a0_0x26c870(0x4da)](_0x18e3eb){const _0x2aa5fa=a0_0x26c870;try{let _0x1256c5=A(_0x18e3eb[_0x2aa5fa(0x22c)]);return{'deletedCount':(await ve['deleteOne'](_0x1256c5))[_0x2aa5fa(0x882)]};}catch(_0x9f1664){return{'error':_0x9f1664?.[_0x2aa5fa(0x58a)]()};}}async[a0_0x26c870(0x5f5)](_0x3ced5d,_0x1b438f){const _0x574b5f=a0_0x26c870;try{let _0x203829=await ve[_0x574b5f(0x68c)](_0x3ced5d);return _0x203829?(Object[_0x574b5f(0x2ee)](_0x203829,_0x1b438f),await _0x203829['save']()):(console['error'](_0x574b5f(0x428),_0x3ced5d),null);}catch(_0x2be542){return console['error'](_0x574b5f(0x532),_0x2be542),null;}}async[a0_0x26c870(0x7a9)](_0x5de050){const _0x40c1c3=a0_0x26c870;try{return await new ve(_0x5de050)['save']();}catch(_0x1a3654){return console[_0x40c1c3(0x7ba)](_0x40c1c3(0x909),_0x1a3654),null;}}async[a0_0x26c870(0x6a8)](_0x4988a5){const _0x4c46d4=a0_0x26c870;try{let _0x4f3a4a=_0x4988a5[_0x4c46d4(0x22c)]??{};return await ve[_0x4c46d4(0x82c)](_0x4f3a4a)[_0x4c46d4(0x7b0)](_0x4988a5[_0x4c46d4(0x7b0)]??0x0)[_0x4c46d4(0x480)]();}catch(_0x56a747){return console[_0x4c46d4(0x7ba)](_0x4c46d4(0x1a8),_0x56a747),[];}}async[a0_0x26c870(0x74c)](_0x2fc12a){try{let _0x11fe04=A(_0x2fc12a['where']);return await ve['findOne'](_0x11fe04)['lean']();}catch{return null;}}},rs=class extends O{[a0_0x26c870(0x8b4)](_0x4c9c49){return Na(_0x4c9c49);}async[a0_0x26c870(0x7bb)](_0x596a4f){const _0x57764c=a0_0x26c870;if(_0x596a4f[_0x57764c(0x2df)]!==0x0)try{return{'insertCount':(await this[_0x57764c(0x8b4)](_0x596a4f[0x0]['owner'])['insertMany']([..._0x596a4f]))['length']};}catch(_0x2a2567){return _0x2a2567;}}async[a0_0x26c870(0x5e2)](_0x341e0c,_0x26f609){const _0x57cb61=a0_0x26c870;try{let _0x185457=this[_0x57cb61(0x8b4)](_0x26f609),_0x672032=A(_0x341e0c['where']);return{'deletedCount':(await _0x185457[_0x57cb61(0x752)](_0x672032))[_0x57cb61(0x882)]};}catch(_0x46d050){return{'error':_0x46d050?.[_0x57cb61(0x58a)]()};}}async[a0_0x26c870(0x4da)](_0x3d8d12,_0x4095dc){const _0x3a59a3=a0_0x26c870;try{let _0x294e3a=this['getConversationModelForOwner'](_0x4095dc),_0x2cd055=A(_0x3d8d12[_0x3a59a3(0x22c)]);return{'deletedCount':(await _0x294e3a[_0x3a59a3(0x4da)](_0x2cd055))[_0x3a59a3(0x882)]};}catch(_0x4eb856){return{'error':_0x4eb856?.[_0x3a59a3(0x58a)]()};}}async[a0_0x26c870(0x447)](_0x244903,_0x2a1fcc){const _0x360bb2=a0_0x26c870;try{if(_0x244903[_0x360bb2(0x2df)]===0x0)return;let _0x6b4525=this[_0x360bb2(0x8b4)](_0x2a1fcc),_0x933b7c=_0x244903[_0x360bb2(0x27c)](_0x55623e=>({'updateOne':{'filter':{'name':_0x55623e[_0x360bb2(0x5fa)],'owner':_0x2a1fcc},'update':{..._0x55623e}}})),{modifiedCount:_0x5dfce8}=await _0x6b4525[_0x360bb2(0x299)](_0x933b7c);return{'insertCount':_0x5dfce8};}catch{return;}}async[a0_0x26c870(0x5ea)](_0x1ee5ab,_0x18d0fe,_0x283ae3){const _0x46b011=a0_0x26c870;try{return{'modifiedCount':(await this[_0x46b011(0x8b4)](_0x283ae3)['updateMany'](_0x1ee5ab,{'$set':_0x18d0fe})[_0x46b011(0x7aa)]())[_0x46b011(0x2a9)]};}catch(_0x57469d){return console[_0x46b011(0x7ba)](_0x46b011(0x3fb),_0x57469d),{'error':_0x57469d};}}async[a0_0x26c870(0x5f5)](_0x23e2e4,_0x5019b1,_0x3c5f68){const _0x4eb2d0=a0_0x26c870;try{return await this[_0x4eb2d0(0x8b4)](_0x3c5f68)[_0x4eb2d0(0x1cc)]({'_id':_0x23e2e4},{'$set':_0x5019b1},{'new':!0x0,'upsert':!0x0})[_0x4eb2d0(0x480)]();}catch(_0x93ccd8){return console[_0x4eb2d0(0x7ba)](_0x93ccd8),null;}}async[a0_0x26c870(0x82c)](_0x3edf42,_0x4c1c6a){const _0xafb879=a0_0x26c870;try{return await this[_0xafb879(0x8b4)](_0x4c1c6a)['find'](_0x3edf42)['sort']({'lastInteraction':-0x1})[_0xafb879(0x480)]();}catch{return[];}}async['findOne'](_0x10fc01,_0x331042){const _0x41cc2c=a0_0x26c870;try{return await this[_0x41cc2c(0x8b4)](_0x331042)[_0x41cc2c(0x74c)]({..._0x10fc01[_0x41cc2c(0x22c)]})['lean']();}catch{return null;}}async['deleteAll'](_0x11e1f0){const _0xeef79b=a0_0x26c870;try{return await this['getConversationModelForOwner'](_0x11e1f0)[_0xeef79b(0x84f)][_0xeef79b(0x8ea)](),{'success':!0x0};}catch(_0x450a58){return console[_0xeef79b(0x7ba)](_0x450a58),{'success':!0x1,'error':_0x450a58};}}},ns=class extends O{[a0_0x26c870(0x88d)](_0x250459){return $a(_0x250459);}async[a0_0x26c870(0x299)](_0x286ef1,_0x52f4a2){const _0x307c96=a0_0x26c870;try{return await this[_0x307c96(0x88d)](_0x52f4a2)[_0x307c96(0x299)](_0x286ef1);}catch(_0x34bf8f){return console['error'](_0x307c96(0x90b),_0x34bf8f),null;}}async['createAndSave'](_0x17ad8e,_0x30f5db){const _0x227916=a0_0x26c870;try{let _0x525236=this[_0x227916(0x88d)](_0x30f5db);return await new _0x525236(_0x17ad8e)[_0x227916(0x380)]();}catch(_0x4784bb){return console[_0x227916(0x7ba)](_0x227916(0x79b),_0x4784bb),null;}}async[a0_0x26c870(0x4da)](_0x12349b,_0x3e1297){const _0x2211df=a0_0x26c870;try{return await this[_0x2211df(0x88d)](_0x3e1297)['findByIdAndDelete'](_0x12349b),{};}catch(_0x25f689){return{'error':_0x25f689?.[_0x2211df(0x58a)]()};}}async['updateOne'](_0x5aef03,_0x13b4b3,_0x45c248,_0x56fd70={}){const _0x294b13=a0_0x26c870;try{return await this[_0x294b13(0x88d)](_0x45c248)[_0x294b13(0x1cc)](_0x5aef03,_0x13b4b3,{..._0x56fd70,'new':!0x0})[_0x294b13(0x480)]();}catch(_0x52ab1b){return console[_0x294b13(0x7ba)](_0x294b13(0x41c),_0x52ab1b),null;}}async['updateOneById'](_0x403888,_0x4e0891,_0x55eacb){const _0x3757c2=a0_0x26c870;try{return await this['getScheduleMessageModelForOwner'](_0x55eacb)[_0x3757c2(0x26d)](_0x403888,_0x4e0891,{'new':!0x0})[_0x3757c2(0x480)]();}catch(_0x4b3aa9){return console[_0x3757c2(0x7ba)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4b3aa9),null;}}async[a0_0x26c870(0x82c)](_0x74c932,_0x5ca198){const _0x15877f=a0_0x26c870;try{return await this[_0x15877f(0x88d)](_0x5ca198)[_0x15877f(0x82c)](_0x74c932[_0x15877f(0x22c)])['limit'](_0x74c932?.['limit']??0x0)[_0x15877f(0x4be)]({'when':0x1})[_0x15877f(0x480)]();}catch{return[];}}async[a0_0x26c870(0x74c)](_0x3a05c0,_0x3cd839){const _0x4527de=a0_0x26c870;try{return await this[_0x4527de(0x88d)](_0x3cd839)[_0x4527de(0x74c)](_0x3a05c0['where'])['sort']({'when':0x1})[_0x4527de(0x480)]();}catch{return null;}}async[a0_0x26c870(0x68c)](_0xc5f068,_0x5c4923){const _0x5cdf3e=a0_0x26c870;try{return await this[_0x5cdf3e(0x88d)](_0x5c4923)[_0x5cdf3e(0x68c)](_0xc5f068)[_0x5cdf3e(0x480)]();}catch{return null;}}async[a0_0x26c870(0x752)](_0x44d089,_0x2e39b6){const _0x326f23=a0_0x26c870;try{return{'deletedCount':(await this[_0x326f23(0x88d)](_0x2e39b6)['deleteMany'](_0x44d089))[_0x326f23(0x882)]};}catch(_0x1ab62f){return console[_0x326f23(0x7ba)]('Erro\x20ao\x20deletar\x20mensagens:',_0x1ab62f),{'error':_0x1ab62f};}}async[a0_0x26c870(0x815)](_0x60a968){const _0x1c0f3e=a0_0x26c870;try{return await this[_0x1c0f3e(0x88d)](_0x60a968)[_0x1c0f3e(0x84f)][_0x1c0f3e(0x8ea)](),{'success':!0x0};}catch(_0xa63edd){return console[_0x1c0f3e(0x7ba)](_0xa63edd),{'success':!0x1,'error':_0xa63edd};}}},cs=class extends O{async[a0_0x26c870(0x447)](_0x994c8,_0x10f92c){const _0x45efd3=a0_0x26c870;try{if(this[_0x45efd3(0x512)]['ENABLED'])return await Oe['findOneAndUpdate']({'_id':_0x10f92c},{'$set':_0x994c8},{'new':!0x0});}catch(_0x3df137){throw console['error']('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x3df137),_0x3df137;}}async[a0_0x26c870(0x244)](_0xee2df9){const _0x1c8c98=a0_0x26c870;try{let _0x56e5e4=await Oe['findById'](_0xee2df9);return _0x56e5e4?_0x56e5e4['autoCompleteMessages']||(_0x56e5e4['autoCompleteMessages']=[],await _0x56e5e4[_0x1c8c98(0x380)]()):(_0x56e5e4=new Oe({'_id':_0xee2df9,'autoCompleteMessages':[]}),await _0x56e5e4['save']()),_0x56e5e4;}catch(_0x3707da){return _0x3707da[_0x1c8c98(0x651)]===0x2af8&&_0x3707da[_0x1c8c98(0x7db)]&&_0x3707da['keyPattern'][_0x1c8c98(0x53f)]?(console[_0x1c8c98(0x7ba)](_0x1c8c98(0x645)),await Oe[_0x1c8c98(0x84f)][_0x1c8c98(0x3a3)](_0x1c8c98(0x580)),null):(console[_0x1c8c98(0x7ba)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x3707da),null);}}},Vo=new $(a0_0x26c870(0x715)),Go=new Ze(S),Bo=new Gt(S),Wo=new ut(S),zo=new Bt(ua,S),Ho=new Wt(pa,S),Ko=new as(ya,S),Qo=new is(ma,S),Yo=new $e(Ke,S),Xo=new os(S),Zo=new zt(S),er=new rs(S),tr=new ns(S),sr=new cs(S),we=new Ye(Go,Bo,Wo,zo,Ho,Ko,Qo,Yo,Xo,er,Zo,tr,sr,T?.[a0_0x26c870(0x732)]()),G=new Vt(ws,S,we),ar=new Xt(S,G,we),ir=new es(G),Os=new ss(ir),_=new ts(G),ue=new Qt(G,S,we,ws,ar),B=new Yt(G),D=new Ht(G),q=new Zt(G);Vo[a0_0x26c870(0x797)](a0_0x26c870(0x3db));var _g=require(a0_0x26c870(0x3c1)),Bs=require('fs'),ji=I(require(a0_0x26c870(0x462))),Ji=I(require('http')),Ve=class l{static #e;static set[a0_0x26c870(0x183)](_0x45f8d3){this.#e=_0x45f8d3;}static get[a0_0x26c870(0x462)](){const _0x40d039=a0_0x26c870;let {FULLCHAIN:_0x1f88eb,PRIVKEY:_0x2176e9}=S['get']('SSL_CONF');return ji[_0x40d039(0x48a)]({'cert':(0x0,Bs[_0x40d039(0x39b)])(_0x1f88eb),'key':(0x0,Bs[_0x40d039(0x39b)])(_0x2176e9)},l.#e);}static get['http'](){return Ji['createServer'](l.#e);}},se=I(require('fs')),Bi=I(require(a0_0x26c870(0x373))),Ge=I(require('axios')),ds=I(require(a0_0x26c870(0x847))),us=require('child_process');function or(){const _0x3296a4=a0_0x26c870;G[_0x3296a4(0x856)]();let _0x4405ed=ds[_0x3296a4(0x595)][_0x3296a4(0x5ba)](__dirname,_0x3296a4(0x506));Gi(_0x4405ed);}var Gi=_0x8394c2=>{const _0x5b7355=a0_0x26c870;let _0x552c58=se[_0x5b7355(0x595)][_0x5b7355(0x2a8)](_0x8394c2),_0x507611=0xc*0x3c*0x3c*0x3e8,_0x482d19=0x2*0x3c*0x3c*0x3e8,_0x2bb28e=new Date()[_0x5b7355(0x6cc)]();_0x552c58['forEach'](_0x5d2225=>{const _0x4bebf7=_0x5b7355;let _0x54d657=ds['default'][_0x4bebf7(0x5ba)](_0x8394c2,_0x5d2225),_0x56516a=se[_0x4bebf7(0x595)][_0x4bebf7(0x1b4)](_0x54d657)[_0x4bebf7(0x1bb)][_0x4bebf7(0x6cc)]();_0x2bb28e-_0x56516a>_0x507611&&(se[_0x4bebf7(0x595)]['unlinkSync'](_0x54d657),console[_0x4bebf7(0x323)](_0x4bebf7(0x743)+_0x5d2225));}),setTimeout(()=>Gi(_0x8394c2),_0x482d19);};function rr(){const _0x3483a9=a0_0x26c870;let _0x9d92ed=new $('SERVER'),_0x221c26=(0x0,be[_0x3483a9(0x595)])();_0x221c26[_0x3483a9(0x524)]((0x0,Vi['default'])({'origin'(_0x436769,_0x5edbba){const _0x40b762=_0x3483a9;let {ORIGIN:_0x40cdb9}=S[_0x40b762(0x2c9)](_0x40b762(0x1f2));return _0x436769||(_0x436769='*'),_0x40cdb9[_0x40b762(0x31c)]('*')!==-0x1||_0x40cdb9[_0x40b762(0x31c)](_0x436769)!==-0x1?_0x5edbba(null,!0x0):_0x5edbba(new Error(_0x40b762(0x28b)));},'methods':[...S[_0x3483a9(0x2c9)](_0x3483a9(0x1f2))[_0x3483a9(0x4ab)]],'credentials':S[_0x3483a9(0x2c9)](_0x3483a9(0x1f2))[_0x3483a9(0x92e)]}),(0x0,be[_0x3483a9(0x601)])({'extended':!0x0,'limit':_0x3483a9(0x62b)}),(0x0,be['json'])({'limit':_0x3483a9(0x62b)})),_0x221c26['use']((_0x3672a6,_0x28cc40,_0x215610)=>{const _0x8c4274=_0x3483a9;_0x3672a6[_0x8c4274(0x847)][_0x8c4274(0x6a1)](_0x8c4274(0x5a3))?_0x215610():(0x0,qi['default'])()(_0x3672a6,_0x28cc40,_0x215610);}),_0x221c26['set'](_0x3483a9(0x812),_0x3483a9(0x292)),_0x221c26[_0x3483a9(0x295)](_0x3483a9(0x230),(0x0,zs[_0x3483a9(0x5ba)])(ce,_0x3483a9(0x230))),_0x221c26['use'](be['default']['static']((0x0,zs[_0x3483a9(0x5ba)])(ce,_0x3483a9(0x475)))),_0x221c26[_0x3483a9(0x524)]((_0xe78ea6,_0x23c19f,_0x3056f4)=>{const _0x29ec12=_0x3483a9;let _0x1af64f=_0x23c19f[_0x29ec12(0x5bf)];_0x23c19f['send']=function(_0x48cec9){const _0x3410a6=_0x29ec12;if(_0xe78ea6[_0x3410a6(0x32f)][_0x3410a6(0x620)]===_0x3410a6(0x4f4)||_0xe78ea6[_0x3410a6(0x77c)][_0x3410a6(0x88e)]===_0x3410a6(0x4f4)){let _0xcfe2f2=JSON[_0x3410a6(0x199)](_0x48cec9);_0x48cec9=JSON['stringify'](_0x167a4a(_0xcfe2f2));}return _0x1af64f[_0x3410a6(0x55c)](_0x23c19f,[_0x48cec9]);},_0x3056f4();}),_0x221c26[_0x3483a9(0x524)]('/',Ue),_0x221c26[_0x3483a9(0x524)]((_0x2e1128,_0x568ace,_0x3efb82,_0x25feb6)=>{const _0x8e9395=_0x3483a9;if(_0x2e1128)return _0x3efb82[_0x8e9395(0x284)](_0x2e1128[_0x8e9395(0x284)]||0x1f4)[_0x8e9395(0x200)](_0x2e1128);},(_0x1e9d1c,_0x1f5be2,_0x27f8f0)=>{const _0x3fec28=_0x3483a9;let {method:_0x574bee,url:_0x4d5a1d}=_0x1e9d1c;_0x1f5be2[_0x3fec28(0x284)](0x194)[_0x3fec28(0x200)]({'status':0x194,'message':_0x3fec28(0x4df)+_0x574bee[_0x3fec28(0x425)]()+'\x20'+_0x4d5a1d,'error':'Not\x20Found'}),_0x27f8f0();});let _0x167a4a=(_0x549818,_0x13796b='_p_')=>{const _0x3b5441=_0x3483a9;let _0x43d154=(_0x4999ab,_0x387da5=null,_0x4e9bb4=!0x1)=>{const _0x45901c=a0_0x4486;let _0x4886e7={};return Object[_0x45901c(0x2ef)](_0x4999ab)[_0x45901c(0x526)](_0x58fb38=>{const _0x128dda=_0x45901c;let _0x4c5d6c=_0x4999ab[_0x58fb38],_0x35c9f2=''+_0x13796b+_0x58fb38;_0x387da5&&!_0x4e9bb4&&(_0x35c9f2=_0x387da5+'.'+_0x58fb38),!_0x4c5d6c&&_0x4c5d6c!==0x0&&_0x4c5d6c!==!0x1||typeof _0x4c5d6c>'u'?_0x4886e7[_0x35c9f2]=null:typeof _0x4c5d6c!=_0x128dda(0x408)&&!Array['isArray'](_0x4c5d6c)?_0x4886e7[_0x35c9f2]=_0x4c5d6c:typeof _0x4c5d6c==_0x128dda(0x408)&&!Array[_0x128dda(0x67a)](_0x4c5d6c)?_0x4886e7=Object[_0x128dda(0x2ee)](_0x4886e7,_0x43d154(_0x4c5d6c,_0x35c9f2)):Array[_0x128dda(0x67a)](_0x4c5d6c)&&(typeof _0x4c5d6c[0x0]==_0x128dda(0x408)?(_0x4886e7[_0x35c9f2]=[],_0x4c5d6c['forEach'](_0x271185=>{_0x4886e7[_0x35c9f2]['push'](_0x43d154(_0x271185,_0x35c9f2,!0x0));})):_0x4886e7[_0x35c9f2]=_0x4c5d6c);}),_0x4886e7;};return Array['isArray'](_0x549818)?_0x549818['map'](_0x2cdcb6=>_0x43d154(_0x2cdcb6)):typeof _0x549818==_0x3b5441(0x408)&&_0x549818!==null?_0x43d154(_0x549818):{};},_0x1b7c06=S[_0x3483a9(0x2c9)]('SERVER');Ve[_0x3483a9(0x183)]=_0x221c26;let _0x4df2cb=Ve[_0x1b7c06[_0x3483a9(0x93f)]],_0x9de4ff='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x4df2cb[_0x3483a9(0x311)](_0x1b7c06['PORT'],()=>{const _0x32df19=_0x3483a9;_0x9d92ed[_0x32df19(0x323)](_0x9de4ff),_0x9d92ed[_0x32df19(0x323)](_0x1b7c06[_0x32df19(0x93f)]['toUpperCase']()+_0x32df19(0x5f1)+_0x1b7c06[_0x32df19(0x6ef)]);}),or(),ia();}var nr=a0_0x26c870(0x305),cr=ds[a0_0x26c870(0x595)][a0_0x26c870(0x5ba)](__dirname,'./.git/config'),Ie=null;function lr(){return new Promise((_0x4939fd,_0x2c4c5e)=>{const _0x2668ac=a0_0x4486;se[_0x2668ac(0x595)][_0x2668ac(0x4c6)](cr,_0x2668ac(0x636),(_0x3b2605,_0x41c612)=>{const _0x55c4d7=_0x2668ac;if(_0x3b2605){Ie=_0x3b2605,_0x4939fd();return;}Bi[_0x55c4d7(0x595)]['parse'](_0x41c612)[_0x55c4d7(0x4d7)][_0x55c4d7(0x869)]===nr?(Ie=null,_0x4939fd()):(Ie=new Error(_0x55c4d7(0x5ac)),_0x4939fd());});});}async function ur(){const _0x4a24db=a0_0x26c870;try{await lr(),await Hs();}catch(_0x2b9392){console[_0x4a24db(0x7ba)](_0x4a24db(0x6e9)+_0x2b9392),console[_0x4a24db(0x323)](_0x4a24db(0x274));}}ur();async function Wi(){const _0x256ec8=a0_0x26c870;let _0x45a2ec;try{_0x45a2ec=(await Ge[_0x256ec8(0x595)][_0x256ec8(0x2c9)](_0x256ec8(0x418)))[_0x256ec8(0x362)]['ip'];}catch(_0x4d0ec5){console[_0x256ec8(0x7ba)](_0x4d0ec5);try{_0x45a2ec=(await Ge['default']['get'](_0x256ec8(0x7e8)))[_0x256ec8(0x362)]['ip'];}catch(_0x22d199){console[_0x256ec8(0x7ba)](_0x22d199);try{_0x45a2ec=(await Ge[_0x256ec8(0x595)][_0x256ec8(0x2c9)](_0x256ec8(0x60b)))[_0x256ec8(0x362)][_0x256ec8(0x7e1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3c441b){return console[_0x256ec8(0x7ba)](_0x3c441b),!0x1;}}}return _0x45a2ec;}var Be=a0_0x26c870(0x8bc),me=0x0;function dr(_0x4de79a){const _0x3510b7=a0_0x26c870;try{let _0x5ec146={'attempts':_0x4de79a,'timestamp':Date[_0x3510b7(0x1a6)](),'lastAttempt':new Date()[_0x3510b7(0x628)]()};se[_0x3510b7(0x595)][_0x3510b7(0x91d)](Be,JSON[_0x3510b7(0x2c2)](_0x5ec146,null,0x2));}catch(_0x44b250){console[_0x3510b7(0x7ba)](_0x3510b7(0x1e3),_0x44b250);}}function pr(){const _0x23dece=a0_0x26c870;try{if(se['default'][_0x23dece(0x643)](Be)){let _0x47f76b=JSON['parse'](se[_0x23dece(0x595)][_0x23dece(0x39b)](Be,_0x23dece(0x4b7)));return console['log'](_0x23dece(0x72f)+_0x47f76b[_0x23dece(0x4d9)]+'\x20(última:\x20'+_0x47f76b[_0x23dece(0x3fc)]+')'),_0x47f76b[_0x23dece(0x4d9)]||0x0;}}catch(_0x45a765){console['error'](_0x23dece(0x5f4),_0x45a765);}return 0x0;}function hr(){const _0x587d71=a0_0x26c870;try{se[_0x587d71(0x595)]['existsSync'](Be)&&(se[_0x587d71(0x595)]['unlinkSync'](Be),console['log'](_0x587d71(0x515)));}catch(_0x5ccdb9){console[_0x587d71(0x7ba)](_0x587d71(0x21a),_0x5ccdb9);}}var gr=process[a0_0x26c870(0x435)]?.[a0_0x26c870(0x363)]===a0_0x26c870(0x4f4);gr?console[a0_0x26c870(0x323)](a0_0x26c870(0x3a1)):me=pr();async function mr(){const _0x5a93f7=a0_0x26c870;let _0xa9b0c1=await new de(S[_0x5a93f7(0x2c9)](_0x5a93f7(0x630)))[_0x5a93f7(0x6bc)]();return console[_0x5a93f7(0x323)]('instancias:\x20',_0xa9b0c1['length']),_0xa9b0c1['length'];}function fr(_0x1be10d){const _0x6bc290=a0_0x26c870;let _0x4bef9d=_0x1be10d[_0x6bc290(0x2c9)](_0x6bc290(0x3e1))[_0x6bc290(0x662)],_0x25fc4f=_0x1be10d['get'](_0x6bc290(0x93e));console['log'](_0x6bc290(0x3bf),_0x4bef9d),console[_0x6bc290(0x323)](_0x6bc290(0x3cb),_0x25fc4f);let _0x40bc8f='',_0x44340f=_0x4bef9d||'';if(_0x4bef9d){let _0x21f5e0=_0x4bef9d['match'](/\/\/(.*?)\./);console[_0x6bc290(0x323)](_0x6bc290(0x622),_0x21f5e0),_0x21f5e0&&_0x21f5e0[0x1]&&(_0x40bc8f=_0x21f5e0[0x1],console['log'](_0x6bc290(0x317),_0x40bc8f));}if(!_0x40bc8f&&_0x25fc4f&&_0x25fc4f[_0x6bc290(0x224)]){let _0x188fde=_0x25fc4f[_0x6bc290(0x224)][_0x6bc290(0x4c5)]('/');console[_0x6bc290(0x323)](_0x6bc290(0x386),_0x188fde);let _0x56eba4=_0x188fde[_0x188fde[_0x6bc290(0x2df)]-0x2];if(console['log']('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x56eba4),_0x56eba4){let _0x2f872e=_0x56eba4['split']('.');console[_0x6bc290(0x323)](_0x6bc290(0x7da),_0x2f872e),_0x2f872e[_0x6bc290(0x2df)]>0x2&&(_0x40bc8f=_0x2f872e[0x0],console[_0x6bc290(0x323)](_0x6bc290(0x8b8),_0x40bc8f),_0x44340f=''+_0x56eba4);}}return{'subdomain':_0x40bc8f||_0x6bc290(0x779),'fullURL':_0x44340f||_0x6bc290(0x2fb)};}var {subdomain:ge,fullURL:Ks}=fr(S);console[a0_0x26c870(0x323)](a0_0x26c870(0x4b1),ge),console[a0_0x26c870(0x323)](a0_0x26c870(0x201),Ks);async function wr(){const _0x4c4354=a0_0x26c870;let _0x4d30cc=S[_0x4c4354(0x2c9)](_0x4c4354(0x630)),_0x53a9e7=S['get']('AUTHENTICATION')[_0x4c4354(0x569)][_0x4c4354(0x26f)],_0x5c2178=S[_0x4c4354(0x2c9)](_0x4c4354(0x93e)),_0x100003=await Wi(),_0x3b3c02=S[_0x4c4354(0x2c9)](_0x4c4354(0x3e1))[_0x4c4354(0x6ef)],_0x2e3c58=Ks;try{let _0x2676e7={'ip':_0x100003||null,'redis_enable':_0x4d30cc?.[_0x4c4354(0x3b5)]||null,'apikey':_0x53a9e7||null,'ssl':_0x5c2178?.['PRIVKEY']||null,'lastupdate':zi||null,'port':_0x3b3c02||null,'gitInstallError':Ie?.[_0x4c4354(0x555)]||null,'url':_0x2e3c58||null,'subdomain':ge};if(console[_0x4c4354(0x323)](_0x4c4354(0x924),_0x2676e7['ip']),_0x4d30cc&&_0x4d30cc[_0x4c4354(0x3b5)]){let _0x4711ad=await mr();_0x2676e7['instanceCount']=_0x4711ad||null;}for(let _0x10deed in _0x2676e7)_0x2676e7['hasOwnProperty'](_0x10deed)&&_0x10deed!=='ip'&&(_0x2676e7[_0x10deed]=JSON['stringify'](_0x2676e7[_0x10deed]));return(await Ge[_0x4c4354(0x595)]['post'](_0x4c4354(0x485),_0x2676e7))[_0x4c4354(0x362)];}catch(_0x184034){return console['error'](_0x184034),!0x1;}}var Ws=!0x1,zi=0x287,Te=0x3,ls=0x1b7740;async function Hs(){const _0x3e3d4b=a0_0x26c870;let _0xd59acf=process[_0x3e3d4b(0x435)]?.[_0x3e3d4b(0x363)]==='true';if(!_0xd59acf&&me>=Te)return console[_0x3e3d4b(0x7ba)](_0x3e3d4b(0x208)+Te+_0x3e3d4b(0x5ab)),console[_0x3e3d4b(0x323)]('Para\x20reiniciar\x20as\x20tentativas,\x20delete\x20o\x20arquivo\x20license_attempts.json'),_0x3e3d4b(0x5c3);let _0xb2ac01='fora\x20do\x20git';Ie===null&&(_0xb2ac01=await Wi());let _0x1cf41a=await wr();if(_0x1cf41a){if(_0x1cf41a['response'][_0x3e3d4b(0x45a)]===!0x0){_0xd59acf||(hr(),me=0x0),Ie===null&&_0x1cf41a[_0x3e3d4b(0x591)][_0x3e3d4b(0x25c)]-zi>0x0&&await yr(),Ws||(Ws=!0x0,rr());let _0xf80407=0x24*0x3c*0x3c,_0x4eb266=_0x1cf41a['response'][_0x3e3d4b(0x4fd)]>_0xf80407?_0xf80407:_0x1cf41a[_0x3e3d4b(0x591)]['segundos'],_0x76a197=Number(_0x4eb266);if(isNaN(_0x76a197)){console[_0x3e3d4b(0x7ba)]('interval\x20não\x20é\x20um\x20número');return;}let _0x256be7=Math['floor'](_0x76a197/0xe10),_0xfc19f6=Math[_0x3e3d4b(0x3d8)](_0x76a197%0xe10/0x3c),_0x56ac2a=new Date(Date[_0x3e3d4b(0x1a6)]()+_0x76a197*0x3e8);setTimeout(()=>{const _0xc9c0e3=_0x3e3d4b;console[_0xc9c0e3(0x323)](_0xc9c0e3(0x860)),process[_0xc9c0e3(0x84e)](0x0);},_0x76a197*0x3e8);let _0x529caa=_0x366fd9=>_0x366fd9[_0x3e3d4b(0x58a)]()[_0x3e3d4b(0x8a9)](0x2,'0'),_0x37b7fc=_0x3e3d4b(0x278)+_0x529caa(_0x256be7)+_0x3e3d4b(0x391)+_0x529caa(_0xfc19f6)+_0x3e3d4b(0x87d)+_0x529caa(_0x56ac2a[_0x3e3d4b(0x73d)]())+':'+_0x529caa(_0x56ac2a[_0x3e3d4b(0x4e8)]())+'.';console['log'](_0x37b7fc);}else return console[_0x3e3d4b(0x323)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ws&&(console[_0x3e3d4b(0x323)](_0x3e3d4b(0x91e)),process[_0x3e3d4b(0x84e)]()),_0x3e3d4b(0x2ca);}else{if(_0xd59acf||(me++,dr(me)),!_0xd59acf&&me<Te)console['log'](_0x3e3d4b(0x260)+me+'/'+Te+'.\x20Nova\x20tentativa\x20em\x20'+ls/0xea60+_0x3e3d4b(0x4ad)),setTimeout(Hs,ls);else{if(!_0xd59acf&&me>=Te)return console[_0x3e3d4b(0x7ba)](_0x3e3d4b(0x54c)+Te+_0x3e3d4b(0x442)),console[_0x3e3d4b(0x323)](_0x3e3d4b(0x333)),_0x3e3d4b(0x2be);_0xd59acf&&(console['log'](_0x3e3d4b(0x300)+ls/0xea60+_0x3e3d4b(0x4ad)),setTimeout(Hs,ls));}}}async function yr(){const _0x17c42d=a0_0x26c870;console[_0x17c42d(0x323)](_0x17c42d(0x8a4)),console[_0x17c42d(0x323)](_0x17c42d(0x1e8)),(0x0,us['spawn'])(_0x17c42d(0x6c9),{'shell':!0x0})['on']('close',_0x20897d=>{const _0x269ce2=_0x17c42d;_0x20897d!==0x0?console[_0x269ce2(0x7ba)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x269ce2(0x323)](_0x269ce2(0x8b5)),console['log'](_0x269ce2(0x52b)),(0x0,us['spawn'])(_0x269ce2(0x235),{'shell':!0x0})['on']('close',_0x183a93=>{const _0x401019=_0x269ce2;if(_0x183a93!==0x0)console[_0x401019(0x7ba)](_0x401019(0x935));else{console[_0x401019(0x323)](_0x401019(0x2dc));let _0xf0fdcd=(0x0,us['spawn'])(_0x401019(0x4ea),{'shell':!0x0});_0xf0fdcd[_0x401019(0x7c3)]['on'](_0x401019(0x362),_0x3aa95a=>{const _0x3a9260=_0x401019;console['log'](_0x3a9260(0x25f)+_0x3aa95a);}),_0xf0fdcd[_0x401019(0x60f)]['on'](_0x401019(0x362),_0x1334d4=>{const _0x4070c9=_0x401019;console[_0x4070c9(0x7ba)](_0x4070c9(0x559)+_0x1334d4);}),_0xf0fdcd['on'](_0x401019(0x84e),_0x58e537=>{const _0x45cb15=_0x401019;_0x58e537!==0x0?console['error'](_0x45cb15(0x398)+_0x58e537):console[_0x45cb15(0x323)](_0x45cb15(0x520)),console['log'](_0x45cb15(0x7b4)),setTimeout(()=>process[_0x45cb15(0x84e)](),0x2710);});}}));});}0x0&&(module[a0_0x26c870(0x875)]={'fullURL':fullURL,'subdomain':subdomain});