const a0_0x4087be=a0_0x1cc1;(function(_0x10c568,_0x495edc){const _0x442d82=a0_0x1cc1,_0x457f8d=_0x10c568();while(!![]){try{const _0x1f4811=parseInt(_0x442d82(0x3d2))/0x1+-parseInt(_0x442d82(0x230))/0x2+parseInt(_0x442d82(0x3f3))/0x3*(parseInt(_0x442d82(0x36d))/0x4)+-parseInt(_0x442d82(0x381))/0x5+parseInt(_0x442d82(0x235))/0x6*(-parseInt(_0x442d82(0x18d))/0x7)+parseInt(_0x442d82(0x3e2))/0x8+parseInt(_0x442d82(0xae))/0x9;if(_0x1f4811===_0x495edc)break;else _0x457f8d['push'](_0x457f8d['shift']());}catch(_0x2a8158){_0x457f8d['push'](_0x457f8d['shift']());}}}(a0_0x1ecd,0x406fe));var Gr=Object[a0_0x4087be(0x435)],ke=Object[a0_0x4087be(0x9e)],Br=Object[a0_0x4087be(0x732)],Wr=Object[a0_0x4087be(0x480)],zr=Object[a0_0x4087be(0x5ca)],Hr=Object[a0_0x4087be(0x43f)][a0_0x4087be(0x131)],Kr=(_0x2dc7c2,_0x1c026c)=>{for(var _0x250e5d in _0x1c026c)ke(_0x2dc7c2,_0x250e5d,{'get':_0x1c026c[_0x250e5d],'enumerable':!0x0});},Us=(_0x2a1826,_0x50d975,_0x5d4496,_0x3c9cae)=>{const _0x180452=a0_0x4087be;if(_0x50d975&&typeof _0x50d975==_0x180452(0x157)||typeof _0x50d975==_0x180452(0xc2)){for(let _0x3a715a of Wr(_0x50d975))!Hr[_0x180452(0x324)](_0x2a1826,_0x3a715a)&&_0x3a715a!==_0x5d4496&&ke(_0x2a1826,_0x3a715a,{'get':()=>_0x50d975[_0x3a715a],'enumerable':!(_0x3c9cae=Br(_0x50d975,_0x3a715a))||_0x3c9cae[_0x180452(0x5e1)]});}return _0x2a1826;},O=(_0x157838,_0x95e51d,_0x4437a2)=>(_0x4437a2=_0x157838!=null?Gr(zr(_0x157838)):{},Us(_0x95e51d||!_0x157838||!_0x157838['__esModule']?ke(_0x4437a2,a0_0x4087be(0x164),{'value':_0x157838,'enumerable':!0x0}):_0x4437a2,_0x157838)),Qr=_0x382074=>Us(ke({},a0_0x4087be(0x680),{'value':!0x0}),_0x382074),co={};Kr(co,{'subdomain':()=>_s}),module[a0_0x4087be(0x692)]=Qr(co);var jr=O(require('compression')),Vs=require('fs'),Gs=require('js-yaml'),Bs=require(a0_0x4087be(0x582)),je=require(a0_0x4087be(0x582)),oe=process[a0_0x4087be(0x5f0)](),ge=(0x0,je[a0_0x4087be(0x76e)])(oe,a0_0x4087be(0x60a)),qs=(0x0,je[a0_0x4087be(0x76e)])(oe,a0_0x4087be(0x4c0)),tn=(0x0,je['join'])(oe,a0_0x4087be(0x6cf),'auth'),ns=class{constructor(){const _0x30d06d=a0_0x4087be;this[_0x30d06d(0x63c)]();}[a0_0x4087be(0x5e6)](_0x18c5e3){const _0x1a7d5a=a0_0x4087be;return this[_0x1a7d5a(0x514)][_0x18c5e3];}[a0_0x4087be(0x63c)](){const _0x17f32c=a0_0x4087be;this[_0x17f32c(0x514)]=process[_0x17f32c(0x514)]?.[_0x17f32c(0x5e3)]!==_0x17f32c(0x5d3)?this['envYaml']():this[_0x17f32c(0x5b8)](),process[_0x17f32c(0x514)]?.[_0x17f32c(0x5e3)]===_0x17f32c(0x5d3)&&(this[_0x17f32c(0x514)][_0x17f32c(0x246)]['TYPE']='http',this[_0x17f32c(0x514)][_0x17f32c(0x246)]['PORT']=Number[_0x17f32c(0x155)](process[_0x17f32c(0x514)]?.['SERVER_PORT']??_0x17f32c(0x4b5)));}[a0_0x4087be(0x72c)](){const _0x470d6b=a0_0x4087be;return(0x0,Gs[_0x470d6b(0x51e)])((0x0,Vs[_0x470d6b(0x3f9)])((0x0,Bs[_0x470d6b(0x76e)])(qs,_0x470d6b(0x3a2)),{'encoding':_0x470d6b(0x76a)}));}[a0_0x4087be(0x5b8)](){const _0x4c4b70=a0_0x4087be;return{'SERVER':{'TYPE':process[_0x4c4b70(0x514)]['SERVER_TYPE'],'PORT':Number[_0x4c4b70(0x155)](process['env'][_0x4c4b70(0x344)]),'URL':process[_0x4c4b70(0x514)][_0x4c4b70(0x502)]},'CORS':{'ORIGIN':process['env'][_0x4c4b70(0x222)][_0x4c4b70(0x2f1)](','),'METHODS':process['env'][_0x4c4b70(0x18a)][_0x4c4b70(0x2f1)](','),'CREDENTIALS':process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x129)]===_0x4c4b70(0x5d3)},'SSL_CONF':{'PRIVKEY':process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x81)],'FULLCHAIN':process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x660)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4c4b70(0x2cb)](process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x2e3)])?Number[_0x4c4b70(0x155)](process[_0x4c4b70(0x514)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x4c4b70(0x514)]?.['STORE_MESSAGE']===_0x4c4b70(0x5d3),'CONTACTS':process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x163)]===_0x4c4b70(0x5d3),'CHATS':process[_0x4c4b70(0x514)]?.['STORE_CHATS']===_0x4c4b70(0x5d3)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x6f4)],'PORT':Number[_0x4c4b70(0x155)](process[_0x4c4b70(0x514)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x4c4b70(0x514)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x4c4b70(0x514)][_0x4c4b70(0x1e7)],'URI':process[_0x4c4b70(0x514)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x4c4b70(0x514)][_0x4c4b70(0x3ef)]},'ENABLED':process['env']?.[_0x4c4b70(0x29e)]===_0x4c4b70(0x5d3)},'REDIS':{'ENABLED':process['env']?.[_0x4c4b70(0x4bf)]===_0x4c4b70(0x5d3),'URI':process[_0x4c4b70(0x514)][_0x4c4b70(0x65b)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x4c4b70(0x514)]['REDIS_PREFIX_KEY']||_0x4c4b70(0x410)},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x4c4b70(0x2f1)](','),'COLOR':process['env']?.[_0x4c4b70(0xfa)]===_0x4c4b70(0x5d3)},'PROXY':Number[_0x4c4b70(0x155)](process['env']?.[_0x4c4b70(0x513)]),'AUTHENTICATION':{'TYPE':process[_0x4c4b70(0x514)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x4c4b70(0x514)]?.[_0x4c4b70(0x19e)])?Number[_0x4c4b70(0x155)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x4c4b70(0x408)]}}};}},b=new ns(),Lr=O(require(a0_0x4087be(0x45f))),he=O(require(a0_0x4087be(0x20a))),Fs=require(a0_0x4087be(0x582)),cs=O(require('dayjs')),ls=(_0x518ad7=>(_0x518ad7[a0_0x4087be(0x57f)]=a0_0x4087be(0x330),_0x518ad7[a0_0x4087be(0x4dd)]=a0_0x4087be(0xdf),_0x518ad7['WARN']=a0_0x4087be(0x432),_0x518ad7['ERROR']='\x1b[31m',_0x518ad7['DEBUG']=a0_0x4087be(0x174),_0x518ad7[a0_0x4087be(0x1b8)]=a0_0x4087be(0x8d),_0x518ad7['DARK']=a0_0x4087be(0x65f),_0x518ad7))(ls||{}),Ws=(_0x5c19b5=>(_0x5c19b5['LOG']=a0_0x4087be(0x6e2),_0x5c19b5[a0_0x4087be(0x683)]='\x1b[30m%s\x1b[0m',_0x5c19b5[a0_0x4087be(0x4dd)]='\x1b[34m%s\x1b[0m',_0x5c19b5['WARN']='\x1b[33m%s\x1b[0m',_0x5c19b5[a0_0x4087be(0x735)]=a0_0x4087be(0x27a),_0x5c19b5[a0_0x4087be(0x5b9)]='\x1b[36m%s\x1b[0m',_0x5c19b5[a0_0x4087be(0x1b8)]=a0_0x4087be(0x47f),_0x5c19b5))(Ws||{}),zs=(_0x10c3d6=>(_0x10c3d6['LOG']=a0_0x4087be(0x57f),_0x10c3d6[a0_0x4087be(0x5d1)]='WARN',_0x10c3d6[a0_0x4087be(0x4dd)]=a0_0x4087be(0x4dd),_0x10c3d6[a0_0x4087be(0x683)]=a0_0x4087be(0x683),_0x10c3d6[a0_0x4087be(0x735)]=a0_0x4087be(0x735),_0x10c3d6['DEBUG']=a0_0x4087be(0x5b9),_0x10c3d6['VERBOSE']=a0_0x4087be(0x1b8),_0x10c3d6))(zs||{}),Hs=(_0xdce7e0=>(_0xdce7e0['LOG']=a0_0x4087be(0x351),_0xdce7e0['INFO']=a0_0x4087be(0x6e6),_0xdce7e0[a0_0x4087be(0x5d1)]=a0_0x4087be(0x3c2),_0xdce7e0[a0_0x4087be(0x683)]=a0_0x4087be(0x3f5),_0xdce7e0['ERROR']=a0_0x4087be(0x698),_0xdce7e0[a0_0x4087be(0x5b9)]=a0_0x4087be(0x19c),_0xdce7e0[a0_0x4087be(0x1b8)]=a0_0x4087be(0x58a),_0xdce7e0))(Hs||{}),R=class{constructor(_0x4868bb='Logger'){const _0x2f98e4=a0_0x4087be;this[_0x2f98e4(0x4d5)]=_0x4868bb,this[_0x2f98e4(0x23b)]=b;}[a0_0x4087be(0x494)](_0x2d78b3){const _0x5b4a11=a0_0x4087be;this[_0x5b4a11(0x4d5)]=_0x2d78b3;}[a0_0x4087be(0x4fe)](_0x1bbb63,_0xb3af4f){const _0x20dc24=a0_0x4087be;let _0x5430c1=[];this[_0x20dc24(0x23b)]['get'](_0x20dc24(0x57f))[_0x20dc24(0x5dc)][_0x20dc24(0x4e3)](_0x481edf=>_0x5430c1[_0x20dc24(0x5af)](zs[_0x481edf]));let _0x5c7209=typeof _0x1bbb63;_0x5430c1['includes'](_0xb3af4f)&&(b[_0x20dc24(0x5e6)](_0x20dc24(0x57f))[_0x20dc24(0x227)]?(console[_0x20dc24(0x603)](_0x20dc24(0xc8)+Ws[_0xb3af4f],_0x20dc24(0x352),(0x0,cs[_0x20dc24(0x164)])()[_0x20dc24(0x1bd)](_0x20dc24(0x20c)),'\x1b[0m',ls[_0xb3af4f]+Hs[_0xb3af4f]+_0x20dc24(0xc8),_0xb3af4f+_0x20dc24(0x725),_0x20dc24(0x363),this['context']+'\x1b[0m',ls[_0xb3af4f],_0x5c7209!==_0x20dc24(0x157)?_0x1bbb63:'',_0x20dc24(0x125)),_0x5c7209==='object'&&console[_0x20dc24(0x603)](_0x1bbb63,'\x0a')):console[_0x20dc24(0x603)]((0x0,cs[_0x20dc24(0x164)])()[_0x20dc24(0x1bd)](_0x20dc24(0x576)),_0xb3af4f+'\x20',''+this[_0x20dc24(0x4d5)],_0x1bbb63));}[a0_0x4087be(0x603)](_0x4480c5){const _0xe8921a=a0_0x4087be;this[_0xe8921a(0x4fe)](_0x4480c5,'LOG');}[a0_0x4087be(0x61d)](_0x447853){const _0x203cf3=a0_0x4087be;this[_0x203cf3(0x4fe)](_0x447853,_0x203cf3(0x4dd));}[a0_0x4087be(0x2fd)](_0x32c852){const _0x5cc146=a0_0x4087be;this['console'](_0x32c852,_0x5cc146(0x5d1));}[a0_0x4087be(0x20d)](_0x2fe3f8){const _0x52d80c=a0_0x4087be;this[_0x52d80c(0x4fe)](_0x2fe3f8,_0x52d80c(0x735));}[a0_0x4087be(0x1aa)](_0x34f718){const _0x2fc22a=a0_0x4087be;this['console'](_0x34f718,_0x2fc22a(0x1b8));}[a0_0x4087be(0x3ed)](_0x47b8e9){const _0x20e195=a0_0x4087be;this['console'](_0x47b8e9,_0x20e195(0x5b9));}[a0_0x4087be(0x73e)](_0x2bad11){const _0x516be0=a0_0x4087be;this[_0x516be0(0x4fe)](_0x2bad11,_0x516be0(0x683));}};function Ks(){const _0x1be2c1=a0_0x4087be;process['on'](_0x1be2c1(0x2bc),(_0x48f7fc,_0x52b426)=>{const _0x1ea77b=_0x1be2c1;new R(_0x1ea77b(0x2bc))['error']({'origin':_0x52b426,'stderr':process['stderr']['fd'],'error':_0x48f7fc});}),process['on'](_0x1be2c1(0x636),(_0x2f479d,_0x3cad2a)=>{const _0x3aac24=_0x1be2c1;new R('unhandledRejection')[_0x3aac24(0x20d)]({'origin':_0x3cad2a,'stderr':process['stderr']['fd'],'error':_0x2f479d});});}var Qs=O(require(a0_0x4087be(0x255))),us=new Qs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),fe=require('mongoose'),Me=O(require('mongoose')),Le=new R(a0_0x4087be(0x44d)),L=b[a0_0x4087be(0x5e6)](a0_0x4087be(0x209)),T=L[a0_0x4087be(0x73a)]?L['CONNECTION'][a0_0x4087be(0x5ce)]?Me[a0_0x4087be(0x164)][a0_0x4087be(0x72b)](L[a0_0x4087be(0xa4)][a0_0x4087be(0x5ce)],{'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0x4087be(0x207)}):Me[a0_0x4087be(0x164)][a0_0x4087be(0x72b)]('mongodb://'+L[a0_0x4087be(0xa4)][a0_0x4087be(0x66c)]+':'+L[a0_0x4087be(0xa4)][a0_0x4087be(0x65e)]+a0_0x4087be(0x18b),{'user':L[a0_0x4087be(0xa4)]['USER'],'pass':L[a0_0x4087be(0xa4)][a0_0x4087be(0x47a)],'dbName':L[a0_0x4087be(0xa4)][a0_0x4087be(0x238)]+a0_0x4087be(0x207)}):null;L[a0_0x4087be(0x73a)]&&Le[a0_0x4087be(0x61d)](a0_0x4087be(0x533)+T['$dbName']);var me=L[a0_0x4087be(0x73a)]?L[a0_0x4087be(0xa4)][a0_0x4087be(0x5ce)]?Me['default'][a0_0x4087be(0x72b)](L[a0_0x4087be(0xa4)]['URI'],{'dbName':a0_0x4087be(0x1b1)}):Me['default'][a0_0x4087be(0x72b)]('mongodb://'+L[a0_0x4087be(0xa4)][a0_0x4087be(0x66c)]+':'+L['CONNECTION'][a0_0x4087be(0x65e)]+a0_0x4087be(0x18b),{'user':L[a0_0x4087be(0xa4)][a0_0x4087be(0x56d)],'pass':L[a0_0x4087be(0xa4)][a0_0x4087be(0x47a)],'dbName':a0_0x4087be(0x516)}):null;me&&Le['info'](a0_0x4087be(0x533)+me[a0_0x4087be(0x106)]),process['on'](a0_0x4087be(0x3e1),()=>{const _0x3036b6=a0_0x4087be;T&&T[_0x3036b6(0x487)](()=>{const _0x4f4e22=_0x3036b6;Le[_0x4f4e22(0x61d)]('Database\x20connection\x20closed.');}),me&&me[_0x3036b6(0x487)](()=>{const _0x24a7b3=_0x3036b6;Le[_0x24a7b3(0x61d)](_0x24a7b3(0x226));});});var Yr=new fe[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new fe[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zr=new fe[(a0_0x4087be(0x2e8))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ei=new fe[(a0_0x4087be(0x2e8))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),ti=new fe[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ei,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xr},'groupdata':{'type':Zr,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x34f744=>{const _0x25b4fe=a0_0x4087be;let _0x3e8470='z_'+_0x34f744+_0x25b4fe(0x527);return T?.[_0x25b4fe(0x447)]('ChatModel',ti,_0x3e8470);},Xs=require(a0_0x4087be(0x336)),si=new Xs[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x3205ac=>{const _0x5cfc2c=a0_0x4087be;let _0x347f48='z_'+_0x3205ac+_0x5cfc2c(0x67f);return T?.[_0x5cfc2c(0x447)](_0x5cfc2c(0xc9),si,_0x347f48);},ea=require(a0_0x4087be(0x336)),ds=class{},ai=new ea[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x4087be(0x447)](ds['name'],ai,a0_0x4087be(0x62e)),sa=require(a0_0x4087be(0x336)),ri=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x522206=>{const _0x2a6b4e=a0_0x4087be;let _0xdf981a='z_'+_0x522206+_0x2a6b4e(0x17b);return T?.[_0x2a6b4e(0x447)](_0x2a6b4e(0x8c),ri,_0xdf981a);},ra=require(a0_0x4087be(0x336)),ps=class{},ii=new ra[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=T?.[a0_0x4087be(0x447)](ps[a0_0x4087be(0x23a)],ii,a0_0x4087be(0x17f)),oa=require(a0_0x4087be(0x336)),hs=class{},na=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x4087be(0x3d0)]('save',function(_0x104942){const _0x19deff=a0_0x4087be;delete this[_0x19deff(0x474)],delete this[_0x19deff(0x4df)],delete this['flowPrefixCommand'],delete this[_0x19deff(0x4e2)],delete this[_0x19deff(0x6f9)],_0x104942();});var ca=T?.[a0_0x4087be(0x447)](hs[a0_0x4087be(0x23a)],na,a0_0x4087be(0x6bd)),P=require(a0_0x4087be(0x336)),la=require(a0_0x4087be(0x4b6)),Fe=class{},ua=new P[(a0_0x4087be(0x2e8))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new P[(a0_0x4087be(0x2e8))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oi=new P[(a0_0x4087be(0x2e8))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4087be(0x1bc)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x4087be(0x4fd)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new P[(a0_0x4087be(0x2e8))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ni=new P[(a0_0x4087be(0x2e8))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ci=new P[(a0_0x4087be(0x2e8))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oi},'apirequest':ni,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ha=new P[(a0_0x4087be(0x2e8))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Je=new P[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4210d0=a0_0x4087be;return _0x4210d0(0x33e)+Math[_0x4210d0(0xba)]()[_0x4210d0(0x5e9)](0x24)[_0x4210d0(0x1cd)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Je[a0_0x4087be(0x3d0)](a0_0x4087be(0x4ac),function(_0x1ff15c){const _0x57e6fe=a0_0x4087be;let _0x2b5eca=new Set(),_0x241236=new Set(this[_0x57e6fe(0x45e)]?.[_0x57e6fe(0xaa)](_0x594f11=>_0x594f11['name'])),_0x6b9489=JSON[_0x57e6fe(0x28a)](this),_0x4685ce=/{{(?!_)([^}]*)}}/g,_0x3cc5ad;for(;(_0x3cc5ad=_0x4685ce[_0x57e6fe(0x600)](_0x6b9489))!==null;)_0x241236[_0x57e6fe(0x6fa)](_0x3cc5ad[0x1])||_0x2b5eca['add'](_0x3cc5ad[0x1]);_0x2b5eca[_0x57e6fe(0x6a6)]>0x0?(console[_0x57e6fe(0x2fd)](_0x57e6fe(0x714),Array[_0x57e6fe(0x52d)](_0x2b5eca)),this[_0x57e6fe(0x61e)]=Array[_0x57e6fe(0x52d)](_0x2b5eca)):this[_0x57e6fe(0x61e)]=[],_0x1ff15c();}),Je[a0_0x4087be(0x3d0)](a0_0x4087be(0x23c),function(_0x154446){const _0x27b608=a0_0x4087be;let _0x2a3a41=this[_0x27b608(0x5d2)]();if(_0x2a3a41&&typeof _0x2a3a41==_0x27b608(0x157)&&'$set'in _0x2a3a41){let _0x146d6a=_0x2a3a41[_0x27b608(0x76c)];if(_0x146d6a){let _0x5abb09=new Set(),_0x41274c=new Set(_0x146d6a[_0x27b608(0x45e)]?.[_0x27b608(0xaa)](_0x2bd2bc=>_0x2bd2bc['name'])),_0x5a6ad7=JSON[_0x27b608(0x28a)](_0x146d6a),_0x2bd3ba=/{{(?!_)([^}]*)}}/g,_0x2ed51d;for(;(_0x2ed51d=_0x2bd3ba[_0x27b608(0x600)](_0x5a6ad7))!==null;)_0x41274c[_0x27b608(0x6fa)](_0x2ed51d[0x1])||_0x5abb09[_0x27b608(0x57a)](_0x2ed51d[0x1]);_0x5abb09[_0x27b608(0x6a6)]>0x0?(console[_0x27b608(0x2fd)](_0x27b608(0x714),Array[_0x27b608(0x52d)](_0x5abb09)),_0x146d6a['variablesNotFound']=Array[_0x27b608(0x52d)](_0x5abb09)):_0x146d6a[_0x27b608(0x61e)]=[],this[_0x27b608(0x6a4)]({'$set':_0x146d6a});}}_0x154446();});var ga=_0x2c3b2b=>{const _0x54e3d1=a0_0x4087be;let _0x202383='z_'+_0x2c3b2b+_0x54e3d1(0x5d8);return T?.[_0x54e3d1(0x447)]('FlowModel',Je,_0x202383);},ma=T?.[a0_0x4087be(0x447)](ms[a0_0x4087be(0x23a)],Je,a0_0x4087be(0x4e8)),li=new P[(a0_0x4087be(0x2e8))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ci]},{'_id':!0x1}),fs=class{},fa=new P[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':li,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4087be(0x535)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4087be(0x29a)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x5a7855=>{const _0x196205=a0_0x4087be;let _0x2f23d0='z_'+_0x5a7855+'_FlowHistorico';return T?.[_0x196205(0x447)](_0x196205(0x470),fa,_0x2f23d0);},ya=T?.[a0_0x4087be(0x447)](fs[a0_0x4087be(0x23a)],fa,a0_0x4087be(0x612)),ws=class{},ui=new P['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),di=new P[(a0_0x4087be(0x2e8))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new P[(a0_0x4087be(0x2e8))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x4087be(0xf3)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':di,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ui],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x14cee6=>{const _0x5d6b05=a0_0x4087be;let _0x7e876='z_'+_0x14cee6+'_ScheduleMessages';return T?.[_0x5d6b05(0x447)](_0x5d6b05(0x6c1),ba,_0x7e876);},Ma=T?.[a0_0x4087be(0x447)](ws['name'],ba,a0_0x4087be(0x60c)),ys=class{},pi=new P[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String,'unique':!0x0},'message':{'type':String}}),hi=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),gi=new P[(a0_0x4087be(0x2e8))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4087be(0x440)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),mi=new P[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),fi=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[mi]},'customFields':{'type':[hi]},'flowConfig':{'type':gi,'default':{}},'autoCompleteMessages':{'type':[pi],'default':[]}}),Ce=T?.[a0_0x4087be(0x447)](ys['name'],fi,a0_0x4087be(0x94)),Ca=require(a0_0x4087be(0x336)),wi=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x3d099c=>{const _0x26874b=a0_0x4087be;let _0x5c282d='z_'+_0x3d099c+'_Labels';return T?.[_0x26874b(0x447)](_0x26874b(0x19d),wi,_0x5c282d);},x=class{constructor(_0x5ed56f){const _0x504185=a0_0x4087be;this['dbSettings']=_0x5ed56f[_0x504185(0x5e6)](_0x504185(0x209));}};function A(_0x2034c5){const _0x1f688d=a0_0x4087be;let _0x5b93d0={};for(let [_0x585485,_0x312eb7]of Object[_0x1f688d(0x37c)](_0x2034c5))if(typeof _0x312eb7==_0x1f688d(0x157)&&!Array[_0x1f688d(0x14b)](_0x312eb7)){for(let [_0x4dd25e,_0x5c073c]of Object[_0x1f688d(0x37c)](_0x312eb7))_0x5b93d0[_0x585485+'.'+_0x4dd25e]=_0x5c073c;}else _0x5b93d0[_0x585485]=_0x312eb7;return _0x5b93d0;}var Ue=class{constructor(_0x984026,_0x4daa0a,_0x58ae3d,_0x4f175f,_0x461235,_0x103c52,_0x3d52b0,_0xd1711a,_0x1877d2,_0x3d2688,_0x4eb8c9,_0x2b7dc5){const _0x496ec8=a0_0x4087be;this[_0x496ec8(0x5a0)]=_0x984026,this[_0x496ec8(0x371)]=_0x4daa0a,this[_0x496ec8(0x4fb)]=_0x58ae3d,this[_0x496ec8(0x4c9)]=_0x4f175f,this[_0x496ec8(0x6bd)]=_0x461235,this[_0x496ec8(0x42f)]=_0x103c52,this['flow']=_0x3d52b0,this['flowConversation']=_0xd1711a,this[_0x496ec8(0x5f7)]=_0x1877d2,this[_0x496ec8(0x323)]=_0x3d2688,this[_0x496ec8(0x10e)]=_0x4eb8c9,this[_0x496ec8(0x508)]=_0x2b7dc5;}get[a0_0x4087be(0x5a3)](){const _0x4a5855=a0_0x4087be;return this[_0x4a5855(0x508)];}},qe=class{},Ve=class extends x{['getMessageModelForOwner'](_0x1bc206){return aa(_0x1bc206);}async[a0_0x4087be(0x30e)](_0x3c6422,_0x10f206){const _0x300d54=a0_0x4087be;if(_0x3c6422[_0x300d54(0x5b5)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x10f206)[_0x300d54(0x36a)]([..._0x3c6422]))['length']};}catch(_0x59b8c2){return _0x59b8c2;}}async[a0_0x4087be(0x16d)](_0x45fa95,_0x465b35){const _0x5d0e93=a0_0x4087be;try{let _0x19ebac=this[_0x5d0e93(0x385)](_0x465b35),_0x37476e=A(_0x45fa95[_0x5d0e93(0x116)]);return await _0x19ebac[_0x5d0e93(0x16d)](_0x37476e)[_0x5d0e93(0x654)]({'messageTimestamp':-0x1})[_0x5d0e93(0x9b)](_0x45fa95?.[_0x5d0e93(0x9b)]??0x0)[_0x5d0e93(0x327)]();}catch{return[];}}async['delete'](_0x41ea3d,_0x35032d){const _0x42f22a=a0_0x4087be;try{let _0x5073e6=this[_0x42f22a(0x385)](_0x35032d),_0x3abdee=A(_0x41ea3d[_0x42f22a(0x116)]);await _0x5073e6['deleteMany'](_0x3abdee);}catch(_0x29344b){console[_0x42f22a(0x20d)](_0x29344b);}}async[a0_0x4087be(0x15c)](_0x249f5f,_0x1d19c8,_0x3b6d45){const _0x319a68=a0_0x4087be;try{let _0x43404c=this[_0x319a68(0x385)](_0x3b6d45),_0xe3f7b7=A(_0x249f5f['where']);return await _0x43404c[_0x319a68(0x23c)](_0xe3f7b7,{'$set':_0x1d19c8},{'new':!0x0});}catch(_0x56a615){throw console[_0x319a68(0x20d)](_0x56a615),_0x56a615;}}async[a0_0x4087be(0x36a)](_0x4f9ea8,_0x2a9622){const _0x31731c=a0_0x4087be;if(_0x4f9ea8['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x31731c(0x385)](_0x2a9622)[_0x31731c(0x36a)]([..._0x4f9ea8]))[_0x31731c(0x5b5)]};}catch(_0x3eefb4){return console['log'](_0x31731c(0x6b1),_0x3eefb4),_0x3eefb4;}}async['deleteAll'](_0x484771){const _0x4e8f95=a0_0x4087be;try{return await this[_0x4e8f95(0x385)](_0x484771)[_0x4e8f95(0x5cc)][_0x4e8f95(0x420)](),{'success':!0x0};}catch(_0x2c125e){return console[_0x4e8f95(0x20d)](_0x2c125e),{'success':!0x1,'error':_0x2c125e};}}},As=O(require('@ffmpeg-installer/ffmpeg')),w=O(require('@whiskeysockets/baileys')),Oe=require('fs'),F=O(require(a0_0x4087be(0x582))),K=O(require('axios')),Or=require(a0_0x4087be(0x4b6)),Ar=O(require('qrcode')),$r=O(require('qrcode-terminal')),va=[a0_0x4087be(0x377),a0_0x4087be(0x277),a0_0x4087be(0x3ac),a0_0x4087be(0x269),a0_0x4087be(0x74e)],Na=[a0_0x4087be(0x5b7),'documentWithCaptionMessage',a0_0x4087be(0x443),a0_0x4087be(0x8f)],$s=require('os'),Pt=O(require(a0_0x4087be(0x74d))),Ae=require(a0_0x4087be(0x55f)),kt=require(a0_0x4087be(0x56f)),re=O(require(a0_0x4087be(0x336))),_=require(a0_0x4087be(0x468)),we=class{constructor(_0x15d49c,_0x37bfb4,_0x5f0042){const _0x364b78=a0_0x4087be;this[_0x364b78(0x547)]=_0x15d49c,this['exists']=_0x37bfb4,this[_0x364b78(0x23a)]=_0x5f0042;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},ye=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x4087be(0x20a))),Ra=require('fs'),Ta=require('path');async function Xe(_0x351384){const _0x524d6a=a0_0x4087be;let _0x41a270=G[_0x524d6a(0x3d5)][_0x351384];if(L[_0x524d6a(0x73a)]){let _0x54a978=T[_0x524d6a(0x721)]()['db'](L[_0x524d6a(0xa4)]['DB_PREFIX_NAME']+_0x524d6a(0x7f))['collection'](_0x351384);return _0x41a270||(await _0x54a978[_0x524d6a(0x16d)]({})[_0x524d6a(0x160)]())['length']>0x0;}return _0x41a270||(0x0,Ra[_0x524d6a(0x465)])((0x0,Ta[_0x524d6a(0x76e)])(ge,_0x351384));}async function Oa(_0x38d788,_0x21eb52,_0x4c62b3){const _0x437136=a0_0x4087be;if(_0x38d788[_0x437136(0x4a6)][_0x437136(0x83)]('/instance/create')||_0x38d788[_0x437136(0x4a6)][_0x437136(0x83)](_0x437136(0x5df))||_0x38d788[_0x437136(0x4a6)][_0x437136(0x83)](_0x437136(0x668))||_0x38d788['originalUrl'][_0x437136(0x83)](_0x437136(0x382))||_0x38d788['originalUrl']['includes']('/instance/connect')||_0x38d788[_0x437136(0x4a6)][_0x437136(0x83)](_0x437136(0x356))||_0x38d788['originalUrl'][_0x437136(0x83)](_0x437136(0x55b)))return _0x4c62b3();let _0x21fc7d=_0x38d788['params'];if(!_0x21fc7d?.[_0x437136(0x768)])throw new f('instanceName\x20not\x20provided.');if(!await Xe(_0x21fc7d['instanceName']))throw new U(_0x437136(0x386)+_0x21fc7d[_0x437136(0x768)]+_0x437136(0x4b7));_0x4c62b3();}async function Aa(_0x239d0,_0x12e4d7,_0x381f89){const _0x382cc5=a0_0x4087be;if(_0x239d0[_0x382cc5(0x4a6)][_0x382cc5(0x83)](_0x382cc5(0x208))){let _0x5783c9=_0x239d0[_0x382cc5(0x33c)];if(await Xe(_0x5783c9[_0x382cc5(0x768)]))throw new Q(_0x382cc5(0x250)+_0x5783c9['instanceName']+_0x382cc5(0x5da));G[_0x382cc5(0x3d5)][_0x5783c9[_0x382cc5(0x768)]]&&delete G['waInstances'][_0x5783c9['instanceName']];}_0x381f89();}var $a=require(a0_0x4087be(0x468)),Ia=O(require(a0_0x4087be(0x3b6))),Ze=a0_0x4087be(0x410),bi=new R(a0_0x4087be(0x2c2));async function Si(_0x46b629,_0xb779ba,_0x2c2acb){const _0x3790f3=a0_0x4087be;let _0x220464=_0x46b629[_0x3790f3(0x5e6)](_0x3790f3(0x4ff));if(_0x220464&&b[_0x3790f3(0x5e6)](_0x3790f3(0x693))[_0x3790f3(0xc7)]['KEY']!==_0x220464)throw new te();if(b[_0x3790f3(0x5e6)](_0x3790f3(0x693))[_0x3790f3(0xc7)][_0x3790f3(0x1ed)]===_0x220464)return _0x2c2acb();if((_0x46b629[_0x3790f3(0x4a6)][_0x3790f3(0x83)](_0x3790f3(0x208))||_0x46b629['originalUrl'][_0x3790f3(0x83)](_0x3790f3(0x5df)))&&!_0x220464)throw new Q(_0x3790f3(0x158),_0x3790f3(0x645));let _0x3bd104=b[_0x3790f3(0x5e6)](_0x3790f3(0x693))[_0x3790f3(0x13f)];try{let [_0xd10903,_0x1bfeeb]=_0x46b629['get'](_0x3790f3(0x6d4))[_0x3790f3(0x2f1)]('\x20');if(_0xd10903['toLowerCase']()!==_0x3790f3(0x648))throw new te();if(!(0x0,$a[_0x3790f3(0x34e)])(_0x1bfeeb))throw new te();let _0x4e7ecb=_0x46b629[_0x3790f3(0x733)],_0x2d02d1=Ia['default'][_0x3790f3(0x4f2)](_0x1bfeeb,_0x3bd104[_0x3790f3(0x55d)],{'ignoreExpiration':_0x3bd104[_0x3790f3(0x37a)]===0x0});if(_0x4e7ecb[_0x3790f3(0x768)]!==_0x2d02d1[_0x3790f3(0x768)]||Ze!==_0x2d02d1[_0x3790f3(0x37d)])throw new te();return _0x2c2acb();}catch(_0x49f238){throw bi[_0x3790f3(0x20d)](_0x49f238),new te();}}async function Mi(_0x4dbeff,_0x2a9b78,_0x357ce8){const _0x12a989=a0_0x4087be;let _0x4b68a6=b[_0x12a989(0x5e6)]('AUTHENTICATION')[_0x12a989(0xc7)],_0x552f66=_0x4dbeff['get'](_0x12a989(0x4ff));if(_0x4b68a6[_0x12a989(0x1ed)]===_0x552f66)return _0x357ce8();if(_0x4dbeff[_0x12a989(0x4a6)]['includes'](_0x12a989(0x208))){let _0x4f079c=et,_0x16c356=_0x4dbeff[_0x12a989(0x33c)][_0x12a989(0x768)];if(_0x4f079c&&_0x16c356['toLowerCase']()[_0x12a989(0x6e3)](_0x4f079c['toLowerCase']()))return _0x357ce8();if(!_0x552f66)throw new Q(_0x12a989(0x158),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x4dbeff[_0x12a989(0x4a6)][_0x12a989(0x83)]('/instance/fetchInstances')&&!_0x552f66)throw new Q('Missing\x20global\x20api\x20key',_0x12a989(0x645));if(_0x4dbeff[_0x12a989(0x4a6)][_0x12a989(0x83)](_0x12a989(0x668))&&!_0x552f66)throw new Q(_0x12a989(0x158),_0x12a989(0x645));if(_0x4dbeff[_0x12a989(0x4a6)][_0x12a989(0x83)](_0x12a989(0x382))&&!_0x552f66)throw new Q(_0x12a989(0x158),_0x12a989(0x645));try{let _0x367969=_0x4dbeff[_0x12a989(0x733)],_0x31a7bc=await ue[_0x12a989(0x42f)][_0x12a989(0x16d)](_0x367969['instanceName']);if(_0x31a7bc&&_0x31a7bc['apikey']===_0x552f66)return _0x357ce8();}catch{}throw new te();}var xa={'jwt':Si,'apikey':Mi},pr=require(a0_0x4087be(0x20a)),E=require(a0_0x4087be(0x4b6)),C=(..._0x2a5bc6)=>{const _0x1d1730=a0_0x4087be;let _0x49649c={};return _0x2a5bc6[_0x1d1730(0x4e3)](_0x1d3258=>_0x49649c[_0x1d3258]={'minLength':0x1,'description':_0x1d1730(0x71b)+_0x1d3258+_0x1d1730(0x372)}),{'if':{'propertyNames':{'enum':[..._0x2a5bc6]}},'then':{'properties':_0x49649c}};},N={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'instanceName':{'type':a0_0x4087be(0x2d9)}},...C(a0_0x4087be(0x768))},dc={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'oldToken':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x24c)],...C(a0_0x4087be(0x24c))},pc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4087be(0x2d9)},'remoteJid':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4087be(0x319),a0_0x4087be(0x2d5)],...C('id','remoteJid')},'message':{'type':a0_0x4087be(0x157)}}},Y={'properties':{'delay':{'type':a0_0x4087be(0x65c),'description':a0_0x4087be(0x476)},'presence':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0x749),a0_0x4087be(0x3ec),a0_0x4087be(0x393),a0_0x4087be(0x4ec),'paused']}}},z={'type':a0_0x4087be(0x2d9),'pattern':a0_0x4087be(0x589),'description':a0_0x4087be(0x165)},Da={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x4087be(0x157),'properties':{'text':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x3e8)],...C('text')}},'required':[a0_0x4087be(0x1cc),'number']},_a={'type':a0_0x4087be(0x2d9),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x4087be(0x165)},hc={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':a0_0x4087be(0x157),'properties':{'text':{'type':a0_0x4087be(0x2d9)}},'required':['text'],...C(a0_0x4087be(0x3e8))}},'required':[a0_0x4087be(0x1cc),'number']},gc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':a0_0x4087be(0x157),'properties':{'mediatype':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0x2f6),a0_0x4087be(0xe3),a0_0x4087be(0x6c3),a0_0x4087be(0x84)]},'media':{'type':a0_0x4087be(0x2d9)},'fileName':{'type':'string'},'caption':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x28f),a0_0x4087be(0x2be)],...C(a0_0x4087be(0x102),a0_0x4087be(0x5bf),a0_0x4087be(0x2be))}},'required':[a0_0x4087be(0x2ab),a0_0x4087be(0x499)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x4087be(0x157),'properties':{'image':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x2f6)],...C(a0_0x4087be(0x2f6))}},'required':['stickerMessage','number']},ka={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'statusMessage':{'type':a0_0x4087be(0x157),'properties':{'type':{'type':'string','enum':['text',a0_0x4087be(0x2f6),a0_0x4087be(0x84),'video']},'content':{'type':a0_0x4087be(0x2d9)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x4087be(0x2d9)},'font':{'type':a0_0x4087be(0x65c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4087be(0x39a),'description':a0_0x4087be(0x6c8)}},'allContacts':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]}},'required':['type',a0_0x4087be(0x8e)],...C(a0_0x4087be(0x6f2),a0_0x4087be(0x8e))}},'required':[a0_0x4087be(0x3f8)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4087be(0x2d9),'enum':['image','document',a0_0x4087be(0x6c3),a0_0x4087be(0x84)]},'media':{'type':a0_0x4087be(0x2d9)},'fileName':{'type':a0_0x4087be(0x2d9)},'caption':{'type':'string'}},'required':[a0_0x4087be(0x28f),a0_0x4087be(0x2be)],...C(a0_0x4087be(0x102),a0_0x4087be(0x5bf),a0_0x4087be(0x2be))}},'required':[a0_0x4087be(0x2ab),a0_0x4087be(0x499)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x4087be(0x157),'properties':{'audio':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x84)],...C(a0_0x4087be(0x84))}},'required':[a0_0x4087be(0x3ac),a0_0x4087be(0x499)]},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x4087be(0x157),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x4087be(0x599),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4087be(0x23a),'selectableCount',a0_0x4087be(0x6d0)],...C(a0_0x4087be(0x23a),a0_0x4087be(0x655),'values')}},'required':[a0_0x4087be(0x499),'pollMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'menuMessage':{'type':a0_0x4087be(0x157),'properties':{'text':{'type':a0_0x4087be(0x2d9)},'choices':{'type':a0_0x4087be(0x599),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4087be(0x3e8),a0_0x4087be(0x428)],...C('text',a0_0x4087be(0x428))}},'required':[a0_0x4087be(0x499),a0_0x4087be(0x192)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x4087be(0x157),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4087be(0x2d9)},'footerText':{'type':a0_0x4087be(0x2d9)},'buttons':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4087be(0x157),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x4087be(0x31c),'buttonId'],...C(a0_0x4087be(0x31c),a0_0x4087be(0xa3))}},'mediaMessage':{'type':a0_0x4087be(0x157),'properties':{'media':{'type':a0_0x4087be(0x2d9)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0x2f6),a0_0x4087be(0xe3),a0_0x4087be(0x6c3)]}},'required':[a0_0x4087be(0x2be),a0_0x4087be(0x28f)],...C(a0_0x4087be(0x2be),a0_0x4087be(0x102))}},'required':[a0_0x4087be(0x3d1),a0_0x4087be(0x2bd)],...C(a0_0x4087be(0x3d1),a0_0x4087be(0x304))}},'required':[a0_0x4087be(0x499),a0_0x4087be(0x2f8)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x4087be(0x157),'properties':{'latitude':{'type':a0_0x4087be(0x499)},'longitude':{'type':a0_0x4087be(0x499)},'name':{'type':a0_0x4087be(0x2d9)},'address':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x33a),'longitude'],...C('name',a0_0x4087be(0xc3))}},'required':[a0_0x4087be(0x499),a0_0x4087be(0x373)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x4087be(0x157),'properties':{'title':{'type':a0_0x4087be(0x2d9)},'description':{'type':'string'},'footerText':{'type':a0_0x4087be(0x2d9)},'buttonText':{'type':a0_0x4087be(0x2d9)},'sections':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4087be(0x157),'properties':{'title':{'type':a0_0x4087be(0x2d9)},'rows':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4087be(0x157),'properties':{'title':{'type':a0_0x4087be(0x2d9)},'description':{'type':a0_0x4087be(0x2d9)},'rowId':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x3d1),'rowId'],...C(a0_0x4087be(0x3d1),'rowId')}}},'required':[a0_0x4087be(0x3d1),'rows'],...C(a0_0x4087be(0x3d1))}}},'required':[a0_0x4087be(0x3d1),a0_0x4087be(0x304),a0_0x4087be(0x31c),a0_0x4087be(0x276)],...C('title',a0_0x4087be(0x304),a0_0x4087be(0x31c),a0_0x4087be(0x2f7))}},'required':['number',a0_0x4087be(0x3bf)]},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x4087be(0x599),'items':{'type':a0_0x4087be(0x157),'properties':{'fullName':{'type':a0_0x4087be(0x2d9)},'phoneNumber':{'type':a0_0x4087be(0x2d9),'minLength':0xa}},'required':[a0_0x4087be(0x118),a0_0x4087be(0x6b6)],...C(a0_0x4087be(0x118))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x4087be(0xa5)]},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x4087be(0x157),'properties':{'id':{'type':a0_0x4087be(0x2d9)},'remoteJid':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4087be(0x319),'fromMe'],...C('id',a0_0x4087be(0x319))},'reaction':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x543),'reaction'],...C('reaction')}},'required':[a0_0x4087be(0x6be)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'numbers':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4087be(0x2d9),'pattern':'^\x5cd+','description':a0_0x4087be(0x69d)}}}},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4087be(0x2d9)}},'required':['id',a0_0x4087be(0x2d5),a0_0x4087be(0x319)],...C('id','remoteJid')}}},'required':[a0_0x4087be(0x285)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'privacySettings':{'type':a0_0x4087be(0x157),'properties':{'readreceipts':{'type':a0_0x4087be(0x2d9),'enum':['all','none']},'profile':{'type':'string','enum':[a0_0x4087be(0x76b),'contacts',a0_0x4087be(0x391),a0_0x4087be(0x6a8)]},'status':{'type':'string','enum':[a0_0x4087be(0x76b),a0_0x4087be(0x583),a0_0x4087be(0x391),a0_0x4087be(0x6a8)]},'online':{'type':a0_0x4087be(0x2d9),'enum':['all',a0_0x4087be(0x35e)]},'last':{'type':'string','enum':['all',a0_0x4087be(0x583),'contact_blacklist','none']},'groupadd':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0x76b),a0_0x4087be(0x583),a0_0x4087be(0x391),a0_0x4087be(0x6a8)]}},'required':['readreceipts',a0_0x4087be(0x1ac),a0_0x4087be(0x5bb),'online',a0_0x4087be(0x28c),a0_0x4087be(0x517)],...C(a0_0x4087be(0x719),'profile',a0_0x4087be(0x5bb),a0_0x4087be(0x68e),a0_0x4087be(0x28c),a0_0x4087be(0x517))}},'required':[a0_0x4087be(0x59b)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x4087be(0x157),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4087be(0x2d9)},'remoteJid':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4087be(0x2d5),'remoteJid'],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x4087be(0x65c),'minLength':0x1}},'required':[a0_0x4087be(0x543)],...C(a0_0x4087be(0x764))},'archive':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]}},'required':[a0_0x4087be(0x56b),a0_0x4087be(0x442)]},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4087be(0x2d9)},'participant':{'type':a0_0x4087be(0x2d9)}},'required':['id',a0_0x4087be(0x2d5),a0_0x4087be(0x319)],...C('id',a0_0x4087be(0x319),'participant')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'where':{'type':a0_0x4087be(0x157),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x4087be(0x2d9),'minLength':0x1},'id':{'type':a0_0x4087be(0x2d9),'minLength':0x1}},...C(a0_0x4087be(0x652),'id',a0_0x4087be(0x4b1))}}},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'name':{'type':a0_0x4087be(0x2d9)}},...C(a0_0x4087be(0x23a))},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4087be(0x2d9)}},...C(a0_0x4087be(0x5bb))},ve={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x4087be(0x2d9)}}},er={'type':a0_0x4087be(0x157),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x4087be(0x2d9)},'picture':{'type':a0_0x4087be(0x2d9)},'status':{'type':a0_0x4087be(0x2d9)},'isBusiness':{'type':a0_0x4087be(0xe7)}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'where':{'type':a0_0x4087be(0x157),'properties':{'_id':{'type':a0_0x4087be(0x2d9),'minLength':0x1},'key':{'type':a0_0x4087be(0x157),'if':{'propertyNames':{'enum':[a0_0x4087be(0x2d5),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4087be(0x2d9),'minLength':0x1,'description':a0_0x4087be(0xc4)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C('_id')},'limit':{'type':a0_0x4087be(0x65c)}}},mc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4087be(0x157),'properties':{'_id':{'type':a0_0x4087be(0x2d9)},'remoteJid':{'type':a0_0x4087be(0x2d9)},'id':{'type':a0_0x4087be(0x2d9)},'fromMe':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4087be(0x2d9)},'status':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0x735),a0_0x4087be(0x52f),a0_0x4087be(0x51b),a0_0x4087be(0x22b),a0_0x4087be(0x483),a0_0x4087be(0x4ad)]}},...C(a0_0x4087be(0x652),a0_0x4087be(0x319),'id',a0_0x4087be(0x5bb))},'limit':{'type':a0_0x4087be(0x65c)}}},sr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'number':{...z},'presence':{'type':a0_0x4087be(0x2d9),'enum':['unavailable',a0_0x4087be(0x3ec),'composing',a0_0x4087be(0x4ec),'paused']}},'required':['presence',a0_0x4087be(0x499)]},ar={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4087be(0x2d9)},'description':{'type':a0_0x4087be(0x2d9)},'profilePicture':{'type':a0_0x4087be(0x2d9)},'participants':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x4087be(0x723),'description':a0_0x4087be(0x1db)}}},'required':[a0_0x4087be(0x314),a0_0x4087be(0x303)],...C(a0_0x4087be(0x314),'description',a0_0x4087be(0xdc))},Ne={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x4087be(0x758)],...C(a0_0x4087be(0x758))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'action':{'type':a0_0x4087be(0x2d9),'enum':['add',a0_0x4087be(0x751),'promote',a0_0x4087be(0x591),a0_0x4087be(0x2fc),a0_0x4087be(0x91)]},'participants':{'type':a0_0x4087be(0x599),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4087be(0x2d9),'minLength':0xa,'pattern':a0_0x4087be(0x723),'description':a0_0x4087be(0x1db)}}},'required':[a0_0x4087be(0x758),'action',a0_0x4087be(0x303)],...C('groupJid',a0_0x4087be(0x4f0))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'expiration':{'type':a0_0x4087be(0x499),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x4087be(0x593)],...C(a0_0x4087be(0x758),a0_0x4087be(0x593))},or={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'image':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x758),a0_0x4087be(0x2f6)],...C(a0_0x4087be(0x758),a0_0x4087be(0x2f6))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'description':{'type':'string'}},'required':[a0_0x4087be(0x758),a0_0x4087be(0x304)],...C(a0_0x4087be(0x758),'description')},cr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'name':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x758),a0_0x4087be(0x23a)],...C(a0_0x4087be(0x758),a0_0x4087be(0x23a))},lr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'setting':{'type':a0_0x4087be(0x2d9),'enum':[a0_0x4087be(0xe4),'not_announcement',a0_0x4087be(0x2a8),'locked']}},'required':[a0_0x4087be(0x758),a0_0x4087be(0x92)],...C('groupJid',a0_0x4087be(0x92))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'groupJid':{'type':a0_0x4087be(0x2d9)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x4087be(0xe7)},'joinApprovalMode':{'type':a0_0x4087be(0xe7)},'expiration':{'type':a0_0x4087be(0x65c),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4087be(0x2d9)},'description':{'type':a0_0x4087be(0x2d9)},'image':{'type':a0_0x4087be(0x2d9)}}},Ss={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'inviteCode':{'type':a0_0x4087be(0x2d9)}},'required':[a0_0x4087be(0x570)],...C(a0_0x4087be(0x570))},dr={'$id':(0x0,E['v4'])(),'type':a0_0x4087be(0x157),'properties':{'url':{'type':a0_0x4087be(0x2d9)},'enabled':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]}},'required':[a0_0x4087be(0x321),a0_0x4087be(0x726)]},fc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4087be(0xe7),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x4087be(0x5ac),a0_0x4087be(0x325),a0_0x4087be(0x484),a0_0x4087be(0x2a2),a0_0x4087be(0x1f8),'SEND_MESSAGE',a0_0x4087be(0x4eb),a0_0x4087be(0x343),a0_0x4087be(0x696),a0_0x4087be(0x4f8),'CHATS_SET','CHATS_UPSERT',a0_0x4087be(0x107),'CHATS_DELETE',a0_0x4087be(0x97),a0_0x4087be(0x349),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x4087be(0x214),a0_0x4087be(0x5ac),a0_0x4087be(0x325),a0_0x4087be(0x484),'MESSAGES_UPDATE','MESSAGES_UPSERT',a0_0x4087be(0x297),a0_0x4087be(0x4eb),'CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x4087be(0x688),a0_0x4087be(0x3d8),a0_0x4087be(0x107),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x4087be(0x349),a0_0x4087be(0x2f0),a0_0x4087be(0x540))},tt=class{},st=class extends x{[a0_0x4087be(0x5ba)](_0x505f0e){return Zs(_0x505f0e);}async['insert'](_0x49c220){const _0x21c6f1=a0_0x4087be;if(_0x49c220['length']!==0x0)try{return{'insertCount':(await this[_0x21c6f1(0x5ba)](_0x49c220[0x0][_0x21c6f1(0x25f)])[_0x21c6f1(0x36a)]([..._0x49c220]))[_0x21c6f1(0x5b5)]};}catch(_0x4383fc){return _0x4383fc;}}async['delete'](_0x183866,_0x249834){const _0x27e4b8=a0_0x4087be;try{return{'deletedCount':(await this[_0x27e4b8(0x5ba)](_0x249834)[_0x27e4b8(0x241)]({..._0x183866[_0x27e4b8(0x116)]}))[_0x27e4b8(0x6ef)]};}catch(_0x5021c4){return{'error':_0x5021c4?.[_0x27e4b8(0x5e9)]()};}}async[a0_0x4087be(0x15c)](_0x5abdea,_0x46449f){const _0xc29104=a0_0x4087be;try{if(_0x5abdea['length']===0x0)return;let _0xf6ef02=this[_0xc29104(0x5ba)](_0x46449f),_0x37229c=_0x5abdea[_0xc29104(0xaa)](_0x2d7395=>({'updateOne':{'filter':{'_id':_0x2d7395[_0xc29104(0x652)],'owner':_0x46449f},'update':{..._0x2d7395}}})),{modifiedCount:_0xb03fb8}=await _0xf6ef02[_0xc29104(0x41a)](_0x37229c);return{'insertCount':_0xb03fb8};}catch{return;}}async[a0_0x4087be(0x16d)](_0x56d48f,_0xec1b93){const _0xb5c8cf=a0_0x4087be;try{let _0x3be49e=this[_0xb5c8cf(0x5ba)](_0xec1b93),_0x206e26=A(_0x56d48f[_0xb5c8cf(0x116)]);return await _0x3be49e[_0xb5c8cf(0x16d)](_0x206e26)[_0xb5c8cf(0x9b)](_0x56d48f?.[_0xb5c8cf(0x9b)]??0x0)[_0xb5c8cf(0x327)]();}catch{return[];}}async[a0_0x4087be(0x1b0)](_0xe8dd52,_0xbdd70d){const _0x43b37f=a0_0x4087be;try{let _0xa113f8=this[_0x43b37f(0x5ba)](_0xbdd70d),_0x21ca19=A(_0xe8dd52[_0x43b37f(0x116)]);return await _0xa113f8[_0x43b37f(0x1b0)](_0x21ca19)[_0x43b37f(0x327)]();}catch{return null;}}async['deleteAll'](_0x308cba){const _0x47ebc2=a0_0x4087be;try{return await this[_0x47ebc2(0x5ba)](_0x308cba)[_0x47ebc2(0x5cc)][_0x47ebc2(0x420)](),{'success':!0x0};}catch(_0x9bc10f){return console[_0x47ebc2(0x20d)](_0x9bc10f),{'success':!0x1,'error':_0x9bc10f};}}},at=require(a0_0x4087be(0x2db)),Nc=require(a0_0x4087be(0x258)),Ms=new R(a0_0x4087be(0xf4)),V=class{[a0_0x4087be(0x431)](_0x247257,_0x11e7fd=!0x0){const _0x206ffb=a0_0x4087be;let _0x2ba499='/'+_0x247257;return _0x11e7fd&&(_0x2ba499+=_0x206ffb(0x42b)),_0x2ba499;}async['dataValidate'](_0xe8bbf6){const _0x4fa861=a0_0x4087be;let {request:_0x15cd47,schema:_0x139385,ClassRef:_0x335715,execute:_0x3ac96e}=_0xe8bbf6,_0xc74a99=new _0x335715(),_0x2c57ec=_0x15cd47[_0x4fa861(0x33c)],_0x522402=_0x15cd47[_0x4fa861(0x733)];_0x15cd47?.[_0x4fa861(0x272)]&&Object[_0x4fa861(0x75e)](_0x15cd47[_0x4fa861(0x272)])[_0x4fa861(0x5b5)]>0x0&&Object[_0x4fa861(0x6ba)](_0x522402,_0x15cd47[_0x4fa861(0x272)]),_0x15cd47['originalUrl']['includes'](_0x4fa861(0x208))&&Object[_0x4fa861(0x6ba)](_0x522402,_0x2c57ec),Object[_0x4fa861(0x6ba)](_0xc74a99,_0x2c57ec);let _0x9366e1=_0x139385?(0x0,at[_0x4fa861(0x180)])(_0xc74a99,_0x139385):{'valid':!0x0,'errors':[]};if(!_0x9366e1['valid']){let _0x3a995b=_0x9366e1[_0x4fa861(0x3ab)][_0x4fa861(0xaa)](({property:_0xf0405c,stack:_0x46b3cd,schema:_0x10caf8})=>{const _0x1a35be=_0x4fa861;let _0x35bfe0;return _0x10caf8[_0x1a35be(0x304)]?_0x35bfe0=_0x10caf8[_0x1a35be(0x304)]:_0x35bfe0=_0x46b3cd[_0x1a35be(0x71c)](_0x1a35be(0x4a5),''),{'property':_0xf0405c[_0x1a35be(0x71c)](_0x1a35be(0x4a5),''),'message':_0x35bfe0};});throw Ms[_0x4fa861(0x20d)]([..._0x3a995b]),new f(..._0x3a995b);}return await _0x3ac96e(_0x522402,_0xc74a99);}async[a0_0x4087be(0x478)](_0x4557e3){const _0x1426f2=a0_0x4087be;let {request:_0x220d55,ClassRef:_0x46ca75,schema:_0x20f15e,execute:_0x29f25a}=_0x4557e3,_0x56bd43=_0x220d55[_0x1426f2(0x272)];if(!_0x56bd43?.[_0x1426f2(0x758)])throw new f('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x1426f2(0x121));let _0x3c5ec0=_0x220d55[_0x1426f2(0x733)],_0x3e0809=_0x220d55[_0x1426f2(0x33c)],_0x1e1ebc=new _0x46ca75();Object['assign'](_0x3e0809,_0x56bd43),Object['assign'](_0x1e1ebc,_0x3e0809);let _0x30932e=(0x0,at[_0x1426f2(0x180)])(_0x1e1ebc,_0x20f15e);if(!_0x30932e[_0x1426f2(0x498)]){let _0x50bacf=_0x30932e[_0x1426f2(0x3ab)][_0x1426f2(0xaa)](({property:_0x273f46,stack:_0x2fe539,schema:_0x5e4ed3})=>{const _0x51dd06=_0x1426f2;let _0x36e471;return _0x5e4ed3['description']?_0x36e471=_0x5e4ed3[_0x51dd06(0x304)]:_0x36e471=_0x2fe539[_0x51dd06(0x71c)](_0x51dd06(0x4a5),''),{'property':_0x273f46[_0x51dd06(0x71c)](_0x51dd06(0x4a5),''),'message':_0x36e471};});throw Ms[_0x1426f2(0x20d)]([..._0x50bacf]),new f(..._0x50bacf);}return await _0x29f25a(_0x3c5ec0,_0x1e1ebc);}async[a0_0x4087be(0x6a7)](_0x5645b2){const _0x2e4518=a0_0x4087be;let {request:_0x5b8cc7,ClassRef:_0x13aae6,schema:_0x1db83c,execute:_0x2452cb}=_0x5645b2,_0x5c113e=_0x5b8cc7[_0x2e4518(0x33c)];if(!_0x5c113e?.['inviteCode'])throw new f(_0x2e4518(0xa2),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x4c3698=_0x5b8cc7['params'],_0x3f4a19=_0x5b8cc7[_0x2e4518(0x33c)],_0x3e76b6=new _0x13aae6();Object[_0x2e4518(0x6ba)](_0x3f4a19,_0x5c113e),Object[_0x2e4518(0x6ba)](_0x3e76b6,_0x3f4a19);let _0x4d1693=(0x0,at[_0x2e4518(0x180)])(_0x3e76b6,_0x1db83c);if(!_0x4d1693[_0x2e4518(0x498)]){let _0x523f3c=_0x4d1693[_0x2e4518(0x3ab)]['map'](({property:_0x3e6a24,stack:_0x1466bd,schema:_0x4d40f4})=>{const _0x2b95af=_0x2e4518;let _0x3570ab;return _0x4d40f4[_0x2b95af(0x304)]?_0x3570ab=_0x4d40f4['description']:_0x3570ab=_0x1466bd[_0x2b95af(0x71c)](_0x2b95af(0x4a5),''),{'property':_0x3e6a24[_0x2b95af(0x71c)]('instance.',''),'message':_0x3570ab};});throw Ms[_0x2e4518(0x20d)]([..._0x523f3c]),new f(..._0x523f3c);}return await _0x2452cb(_0x4c3698,_0x3e76b6);}},S=class{},Jc=new R(a0_0x4087be(0x5c1)),rt=class extends V{constructor(..._0x4e5898){const _0x8c424a=a0_0x4087be;super(),this[_0x8c424a(0x67a)]=(0x0,pr['Router'])(),this[_0x8c424a(0x67a)]['post'](this['routerPath']('updatePresence'),..._0x4e5898,async(_0x195a56,_0x166198)=>{const _0x513ffc=_0x8c424a;let _0x27c5be=await this[_0x513ffc(0x574)]({'request':_0x195a56,'schema':sr,'ClassRef':Ge,'execute':(_0x2fae46,_0x38f35e)=>D['updatePresence'](_0x2fae46,_0x38f35e)});return _0x166198[_0x513ffc(0x5bb)](0xc9)[_0x513ffc(0x4ce)](_0x27c5be);})[_0x8c424a(0x36f)](this['routerPath']('whatsappNumbers'),..._0x4e5898,async(_0x53f863,_0x2c481a)=>{const _0x217bee=_0x8c424a;let _0x315037=await this['dataValidate']({'request':_0x53f863,'schema':Wa,'ClassRef':Be,'execute':(_0x3fb1f2,_0x161ca8)=>D['whatsappNumber'](_0x3fb1f2,_0x161ca8)});return _0x2c481a[_0x217bee(0x5bb)](0xc9)['json'](_0x315037);})['post'](this[_0x8c424a(0x431)](_0x8c424a(0x4e1)),..._0x4e5898,async(_0x1885d0,_0x5e7214)=>{const _0x3fc6b2=_0x8c424a;let _0x570a69=await this[_0x3fc6b2(0x574)]({'request':_0x1885d0,'schema':N,'ClassRef':S,'execute':(_0x5451e3,_0x23f655)=>D[_0x3fc6b2(0x4e1)](_0x5451e3,_0x23f655)});return _0x5e7214[_0x3fc6b2(0x5bb)](0xc9)[_0x3fc6b2(0x4ce)](_0x570a69);})[_0x8c424a(0xb3)](this[_0x8c424a(0x431)](_0x8c424a(0x1f0)),..._0x4e5898,async(_0x3fdd13,_0x5e0551)=>{const _0x16ded6=_0x8c424a;let _0x3e4486=await this[_0x16ded6(0x574)]({'request':_0x3fdd13,'schema':za,'ClassRef':He,'execute':(_0x2e6f17,_0x399b4e)=>D[_0x16ded6(0x9f)](_0x2e6f17,_0x399b4e)});return _0x5e0551[_0x16ded6(0x5bb)](0xc9)[_0x16ded6(0x4ce)](_0x3e4486);})[_0x8c424a(0xb3)](this['routerPath'](_0x8c424a(0x409)),..._0x4e5898,async(_0x4c4495,_0x39b9f5)=>{const _0x23aeed=_0x8c424a;let _0x29dbac=await this[_0x23aeed(0x574)]({'request':_0x4c4495,'schema':Ka,'ClassRef':Ke,'execute':(_0x3c568f,_0x224353)=>D[_0x23aeed(0x409)](_0x3c568f,_0x224353)});return _0x39b9f5[_0x23aeed(0x5bb)](0xc9)['json'](_0x29dbac);})[_0x8c424a(0x301)](this[_0x8c424a(0x431)](_0x8c424a(0x4fc)),..._0x4e5898,async(_0x2fc424,_0x128349)=>{const _0x5e64ff=_0x8c424a;let _0x22c8f5=await this['dataValidate']({'request':_0x2fc424,'schema':Qa,'ClassRef':Ye,'execute':(_0x636279,_0x4e8cf7)=>D[_0x5e64ff(0x221)](_0x636279,_0x4e8cf7)});return _0x128349[_0x5e64ff(0x5bb)](0xc9)['json'](_0x22c8f5);})[_0x8c424a(0x36f)](this[_0x8c424a(0x431)]('fetchProfilePictureUrl'),..._0x4e5898,async(_0x9930e4,_0x12fd75)=>{const _0x4d650d=_0x8c424a;let _0x533c49=await this[_0x4d650d(0x574)]({'request':_0x9930e4,'schema':ve,'ClassRef':Ee,'execute':(_0x13eaac,_0x12e6c4)=>D[_0x4d650d(0xbc)](_0x13eaac,_0x12e6c4)});return _0x12fd75['status'](0xc8)['json'](_0x533c49);})['post'](this[_0x8c424a(0x431)](_0x8c424a(0x233)),..._0x4e5898,async(_0x43f43f,_0x51ec4f)=>{const _0x4d4f28=_0x8c424a;let _0x538732=await this[_0x4d4f28(0x574)]({'request':_0x43f43f,'schema':er,'ClassRef':Ee,'execute':(_0x233b7f,_0x5462ff)=>D[_0x4d4f28(0x233)](_0x233b7f,_0x5462ff)});return _0x51ec4f[_0x4d4f28(0x5bb)](0xc8)[_0x4d4f28(0x4ce)](_0x538732);})[_0x8c424a(0x36f)](this[_0x8c424a(0x431)](_0x8c424a(0x3a7)),..._0x4e5898,async(_0x107431,_0x48317a)=>{const _0x37db96=_0x8c424a;let _0x1649c5=await this[_0x37db96(0x574)]({'request':_0x107431,'schema':Ya,'ClassRef':tt,'execute':(_0x54b7cd,_0x49c609)=>D[_0x37db96(0x3e3)](_0x54b7cd,_0x49c609)});return _0x48317a['status'](0xc8)[_0x37db96(0x4ce)](_0x1649c5);})[_0x8c424a(0x36f)](this['routerPath'](_0x8c424a(0x42e)),..._0x4e5898,async(_0x5460dc,_0xb505c1)=>{const _0x4946d4=_0x8c424a;let _0x3a316b=await this[_0x4946d4(0x574)]({'request':_0x5460dc,'schema':null,'ClassRef':Object,'execute':(_0x417e29,_0x5149c2)=>D[_0x4946d4(0x42e)](_0x417e29,_0x5149c2)});return _0xb505c1['status'](0xc9)[_0x4946d4(0x4ce)](_0x3a316b);})[_0x8c424a(0x36f)](this[_0x8c424a(0x431)](_0x8c424a(0x47c)),..._0x4e5898,async(_0x4d7ad8,_0x371f5f)=>{const _0xac85da=_0x8c424a;let _0x384724=await this[_0xac85da(0x574)]({'request':_0x4d7ad8,'schema':tr,'ClassRef':qe,'execute':(_0x52f967,_0x5de858)=>D['fetchMessages'](_0x52f967,_0x5de858)});return _0x371f5f['status'](0xc8)[_0xac85da(0x4ce)](_0x384724);})[_0x8c424a(0x5e6)](this[_0x8c424a(0x431)](_0x8c424a(0xfb)),..._0x4e5898,async(_0x172b2b,_0x4e10e2)=>{const _0x1d1d69=_0x8c424a;let _0x37d598=await this['dataValidate']({'request':_0x172b2b,'schema':null,'ClassRef':S,'execute':_0x521e38=>D[_0x1d1d69(0x9d)](_0x521e38)});return _0x4e10e2['status'](0xc8)[_0x1d1d69(0x4ce)](_0x37d598);})[_0x8c424a(0x5e6)](this['routerPath']('findLabels'),..._0x4e5898,async(_0x5a30d3,_0x3b59d7)=>{const _0x35accf=_0x8c424a;let _0x4226a4=await this[_0x35accf(0x574)]({'request':_0x5a30d3,'schema':null,'ClassRef':S,'execute':_0x5e4804=>D[_0x35accf(0x216)](_0x5e4804)});return _0x3b59d7['status'](0xc8)[_0x35accf(0x4ce)](_0x4226a4);})['put'](this['routerPath'](_0x8c424a(0x3bb)),..._0x4e5898,async(_0x35fff4,_0x5e8320)=>{const _0x2f3fb6=_0x8c424a;let _0x36bb49=await this[_0x2f3fb6(0x574)]({'request':_0x35fff4,'schema':null,'ClassRef':Array,'execute':(_0x6bfa09,_0x4b159e)=>D[_0x2f3fb6(0x3bb)](_0x6bfa09,_0x4b159e)});return _0x5e8320[_0x2f3fb6(0x5bb)](0xc8)['json'](_0x36bb49);})[_0x8c424a(0x5e6)](this[_0x8c424a(0x431)](_0x8c424a(0x379)),..._0x4e5898,async(_0x89a247,_0x5adc17)=>{const _0x2fb93d=_0x8c424a;let _0x531c78=await this[_0x2fb93d(0x574)]({'request':_0x89a247,'schema':null,'ClassRef':S,'execute':_0x289732=>D['fetchPrivacySettings'](_0x289732)});return _0x5adc17[_0x2fb93d(0x5bb)](0xc8)[_0x2fb93d(0x4ce)](_0x531c78);})[_0x8c424a(0xb3)](this[_0x8c424a(0x431)](_0x8c424a(0x1cb)),..._0x4e5898,async(_0x5a6cd9,_0x2ddcb4)=>{const _0x21e9c6=_0x8c424a;let _0x567481=await this[_0x21e9c6(0x574)]({'request':_0x5a6cd9,'schema':Ha,'ClassRef':Qe,'execute':(_0xddbf0c,_0x276475)=>D[_0x21e9c6(0x1cb)](_0xddbf0c,_0x276475)});return _0x2ddcb4['status'](0xc9)[_0x21e9c6(0x4ce)](_0x567481);})[_0x8c424a(0x36f)](this[_0x8c424a(0x431)](_0x8c424a(0x1af)),..._0x4e5898,async(_0x883db1,_0x56e8fd)=>{const _0xe0ec71=_0x8c424a;let _0x38d117=await this[_0xe0ec71(0x574)]({'request':_0x883db1,'schema':ve,'ClassRef':ye,'execute':(_0x3075a5,_0x128671)=>D[_0xe0ec71(0x1af)](_0x3075a5,_0x128671)});return _0x56e8fd[_0xe0ec71(0x5bb)](0xc8)['json'](_0x38d117);})[_0x8c424a(0x36f)](this['routerPath']('updateProfileName'),..._0x4e5898,async(_0x243865,_0x1dc2ab)=>{const _0x4c32db=_0x8c424a;let _0x2d3fb6=await this[_0x4c32db(0x574)]({'request':_0x243865,'schema':Xa,'ClassRef':We,'execute':(_0x458cbc,_0x15bcae)=>D[_0x4c32db(0x4b4)](_0x458cbc,_0x15bcae)});return _0x1dc2ab[_0x4c32db(0x5bb)](0xc8)[_0x4c32db(0x4ce)](_0x2d3fb6);})[_0x8c424a(0x36f)](this[_0x8c424a(0x431)]('updateProfileStatus'),..._0x4e5898,async(_0x19dcb7,_0x2b1966)=>{const _0x118e5=_0x8c424a;let _0xee48f3=await this[_0x118e5(0x574)]({'request':_0x19dcb7,'schema':Za,'ClassRef':ze,'execute':(_0x502f3e,_0x18cb2d)=>D[_0x118e5(0x416)](_0x502f3e,_0x18cb2d)});return _0x2b1966[_0x118e5(0x5bb)](0xc8)[_0x118e5(0x4ce)](_0xee48f3);})[_0x8c424a(0xb3)](this[_0x8c424a(0x431)]('updateProfilePicture'),..._0x4e5898,async(_0x46cc77,_0x554c67)=>{const _0x1d4a89=_0x8c424a;let _0xc3452=await this[_0x1d4a89(0x574)]({'request':_0x46cc77,'schema':ve,'ClassRef':ye,'execute':(_0x388f06,_0x5bd790)=>D[_0x1d4a89(0x15d)](_0x388f06,_0x5bd790)});return _0x554c67[_0x1d4a89(0x5bb)](0xc8)[_0x1d4a89(0x4ce)](_0xc3452);})[_0x8c424a(0x301)](this[_0x8c424a(0x431)](_0x8c424a(0x525)),..._0x4e5898,async(_0x4a3a76,_0x3bf525)=>{const _0x4f8fa1=_0x8c424a;let _0x4a834d=await this['dataValidate']({'request':_0x4a3a76,'schema':ve,'ClassRef':ye,'execute':(_0x5c765f,_0x5ef5f5)=>D[_0x4f8fa1(0x525)](_0x5c765f,_0x5ef5f5)});return _0x3bf525[_0x4f8fa1(0x5bb)](0xc8)[_0x4f8fa1(0x4ce)](_0x4a834d);});}},hr=require('express'),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x31cd3f){const _0x5af988=a0_0x4087be;super(),this['router']=(0x0,hr['Router'])(),this[_0x5af988(0x67a)][_0x5af988(0x36f)](this[_0x5af988(0x431)](_0x5af988(0x435)),..._0x31cd3f,async(_0xc5f850,_0x5ea332)=>{const _0x5a2b4e=_0x5af988;let _0x4f50d2=await this[_0x5a2b4e(0x574)]({'request':_0xc5f850,'schema':ar,'ClassRef':it,'execute':(_0x2c3449,_0x52777d)=>q[_0x5a2b4e(0x556)](_0x2c3449,_0x52777d)});_0x5ea332[_0x5a2b4e(0x5bb)](0xc9)['json'](_0x4f50d2);})[_0x5af988(0xb3)](this[_0x5af988(0x431)]('updateGroupPicture'),..._0x31cd3f,async(_0x2a9daa,_0x5a405a)=>{const _0x453e78=_0x5af988;let _0x598096=await this[_0x453e78(0x478)]({'request':_0x2a9daa,'schema':or,'ClassRef':ot,'execute':(_0xb121f6,_0x2930a7)=>q[_0x453e78(0x2d8)](_0xb121f6,_0x2930a7)});_0x5a405a[_0x453e78(0x5bb)](0xc9)[_0x453e78(0x4ce)](_0x598096);})[_0x5af988(0xb3)](this['routerPath']('groupDesc'),..._0x31cd3f,async(_0x3d2e47,_0x10bde6)=>{const _0x483366=_0x5af988;let _0x192611=await this[_0x483366(0x478)]({'request':_0x3d2e47,'schema':nr,'ClassRef':nt,'execute':(_0x392baa,_0x37b4bd)=>q['groupDesc'](_0x392baa,_0x37b4bd)});_0x10bde6[_0x483366(0x5bb)](0xc9)['json'](_0x192611);})['put'](this[_0x5af988(0x431)](_0x5af988(0xcb)),..._0x31cd3f,async(_0x5db871,_0x307a63)=>{const _0x258e41=_0x5af988;let _0x3549bc=await this['groupValidate']({'request':_0x5db871,'schema':cr,'ClassRef':ct,'execute':(_0x418be0,_0x344969)=>q[_0x258e41(0xcb)](_0x418be0,_0x344969)});_0x307a63[_0x258e41(0x5bb)](0xc9)[_0x258e41(0x4ce)](_0x3549bc);})[_0x5af988(0xb3)](this['routerPath'](_0x5af988(0x6d7)),..._0x31cd3f,async(_0x4e874e,_0x5d041e)=>{const _0x3855b5=_0x5af988;let _0x86abf5=await this[_0x3855b5(0x478)]({'request':_0x4e874e,'schema':ur,'ClassRef':ut,'execute':(_0x55b5a5,_0x6e9e29)=>q['groupBetterSetting'](_0x55b5a5,_0x6e9e29)});_0x5d041e['status'](0xc9)[_0x3855b5(0x4ce)](_0x86abf5);})[_0x5af988(0xb3)](this['routerPath'](_0x5af988(0x730)),..._0x31cd3f,async(_0x880694,_0x4c4770)=>{const _0x58874f=_0x5af988;let _0x1d1cac=await this[_0x58874f(0x478)]({'request':_0x880694,'schema':lr,'ClassRef':lt,'execute':(_0x5b5325,_0x1d0a8c)=>q[_0x58874f(0x730)](_0x5b5325,_0x1d0a8c)});_0x4c4770[_0x58874f(0x5bb)](0xc9)[_0x58874f(0x4ce)](_0x1d1cac);})[_0x5af988(0xb3)](this[_0x5af988(0x431)](_0x5af988(0x742)),..._0x31cd3f,async(_0x4b6bcc,_0x5f1961)=>{const _0x1c178d=_0x5af988;let _0xa83be3=await this['groupValidate']({'request':_0x4b6bcc,'schema':ir,'ClassRef':pt,'execute':(_0x5a695a,_0x20b37b)=>q[_0x1c178d(0x742)](_0x5a695a,_0x20b37b)});_0x5f1961['status'](0xc9)[_0x1c178d(0x4ce)](_0xa83be3);})[_0x5af988(0x5e6)](this[_0x5af988(0x431)](_0x5af988(0x161)),..._0x31cd3f,async(_0x440bfd,_0x23b3e5)=>{const _0x504761=_0x5af988;let _0x147e7e=await this[_0x504761(0x478)]({'request':_0x440bfd,'schema':Ne,'ClassRef':X,'execute':(_0xc53358,_0x11f5dc)=>q[_0x504761(0x12d)](_0xc53358,_0x11f5dc)});_0x23b3e5[_0x504761(0x5bb)](0xc8)['json'](_0x147e7e);})[_0x5af988(0x5e6)](this['routerPath'](_0x5af988(0x622)),..._0x31cd3f,async(_0x7341f5,_0x2c5494)=>{const _0x5cd873=_0x5af988;let _0x51e402=await this['dataValidate']({'request':_0x7341f5,'schema':N,'ClassRef':S,'execute':_0x34b883=>q[_0x5cd873(0x622)](_0x34b883)});_0x2c5494[_0x5cd873(0x5bb)](0xc8)[_0x5cd873(0x4ce)](_0x51e402);})['get'](this[_0x5af988(0x431)](_0x5af988(0x303)),..._0x31cd3f,async(_0x4f16e6,_0x53f572)=>{const _0x1fd2b5=_0x5af988;let _0x53775e=await this[_0x1fd2b5(0x478)]({'request':_0x4f16e6,'schema':Ne,'ClassRef':X,'execute':(_0x13aa1d,_0x7fdf47)=>q[_0x1fd2b5(0x29b)](_0x13aa1d,_0x7fdf47)});_0x53f572[_0x1fd2b5(0x5bb)](0xc8)['json'](_0x53775e);})[_0x5af988(0x5e6)](this['routerPath'](_0x5af988(0x570)),..._0x31cd3f,async(_0x2f885a,_0xc22923)=>{const _0x1d062c=_0x5af988;let _0x4b04e9=await this['groupValidate']({'request':_0x2f885a,'schema':Ne,'ClassRef':X,'execute':(_0x13e050,_0x2269b6)=>q[_0x1d062c(0x570)](_0x13e050,_0x2269b6)});_0xc22923[_0x1d062c(0x5bb)](0xc8)['json'](_0x4b04e9);})[_0x5af988(0x36f)](this[_0x5af988(0x431)](_0x5af988(0x11c)),..._0x31cd3f,async(_0x36441c,_0x39f4c3)=>{const _0x1d225f=_0x5af988;let _0x1f892a=await this[_0x1d225f(0x6a7)]({'request':_0x36441c,'schema':Ss,'ClassRef':Re,'execute':(_0x26307e,_0x11973a)=>q[_0x1d225f(0x37b)](_0x26307e,_0x11973a)});_0x39f4c3[_0x1d225f(0x5bb)](0xc9)[_0x1d225f(0x4ce)](_0x1f892a);})[_0x5af988(0xb3)](this[_0x5af988(0x431)](_0x5af988(0x718)),..._0x31cd3f,async(_0x399a90,_0x4e285d)=>{const _0x466d27=_0x5af988;let _0xbcaa23=await this[_0x466d27(0x6a7)]({'request':_0x399a90,'schema':Ss,'ClassRef':Re,'execute':(_0x466b3e,_0x4c5af1)=>q[_0x466d27(0x718)](_0x466b3e,_0x4c5af1)});_0x4e285d[_0x466d27(0x5bb)](0xc9)[_0x466d27(0x4ce)](_0xbcaa23);})['put'](this[_0x5af988(0x431)](_0x5af988(0x3c0)),..._0x31cd3f,async(_0x466fee,_0x4f2ef5)=>{const _0x59293e=_0x5af988;let _0x146478=await this['groupValidate']({'request':_0x466fee,'schema':Ne,'ClassRef':X,'execute':(_0x5bb370,_0x950b1f)=>q[_0x59293e(0x3c0)](_0x5bb370,_0x950b1f)});_0x4f2ef5[_0x59293e(0x5bb)](0xc9)['json'](_0x146478);})[_0x5af988(0xb3)](this[_0x5af988(0x431)](_0x5af988(0x2b0)),..._0x31cd3f,async(_0x53829d,_0x1a1eed)=>{const _0x25ad94=_0x5af988;let _0x134618=await this[_0x25ad94(0x478)]({'request':_0x53829d,'schema':rr,'ClassRef':dt,'execute':(_0x2c71d1,_0x47f590)=>q[_0x25ad94(0x5c4)](_0x2c71d1,_0x47f590)});_0x1a1eed[_0x25ad94(0x5bb)](0xc9)[_0x25ad94(0x4ce)](_0x134618);})[_0x5af988(0x301)](this[_0x5af988(0x431)](_0x5af988(0x6dc)),..._0x31cd3f,async(_0x478ea8,_0x2d622a)=>{const _0x3f88c4=_0x5af988;let _0x306c6b=await this[_0x3f88c4(0x478)]({'request':_0x478ea8,'schema':{},'ClassRef':X,'execute':(_0x10f5d6,_0x267aab)=>q[_0x3f88c4(0x6dc)](_0x10f5d6,_0x267aab)});_0x2d622a[_0x3f88c4(0x5bb)](0xc8)[_0x3f88c4(0x4ce)](_0x306c6b);});}},gr=require(a0_0x4087be(0x20a)),gt=class extends V{constructor(_0x34ee40,..._0x2c7c77){const _0x51e3ca=a0_0x4087be;super(),this[_0x51e3ca(0x23b)]=_0x34ee40,this[_0x51e3ca(0x67a)]=(0x0,gr[_0x51e3ca(0x450)])();let _0x2ea96d=_0x34ee40[_0x51e3ca(0x5e6)](_0x51e3ca(0x693));this['router']['post'](_0x51e3ca(0x54a),..._0x2c7c77,async(_0x35fea2,_0x309d31)=>{const _0x5a5435=_0x51e3ca;let {instanceName:_0x1f8f62,apikey:_0x2c8bd9,number:_0x519274}=_0x35fea2[_0x5a5435(0x33c)],_0x293268=await ne['createInstance']({'instanceName':_0x1f8f62,'apikey':_0x2c8bd9,'number':_0x519274});return _0x309d31['status'](0xc9)[_0x5a5435(0x4ce)](_0x293268);})[_0x51e3ca(0xb3)](this[_0x51e3ca(0x431)]('restart'),..._0x2c7c77,async(_0x3d04f7,_0x40777f)=>{const _0x279601=_0x51e3ca;let _0x244a37=await this[_0x279601(0x574)]({'request':_0x3d04f7,'schema':N,'ClassRef':S,'execute':_0x584967=>ne['restartInstance'](_0x584967)});return _0x40777f['status'](0xc8)[_0x279601(0x4ce)](_0x244a37);})['get'](this[_0x51e3ca(0x431)](_0x51e3ca(0x1b2)),..._0x2c7c77,async(_0x1d8461,_0x3e45cc)=>{const _0x3feccd=_0x51e3ca;let _0x40949a=await this['dataValidate']({'request':_0x1d8461,'schema':N,'ClassRef':S,'execute':_0x2ee9ad=>ne[_0x3feccd(0x5e7)](_0x2ee9ad)});return _0x3e45cc[_0x3feccd(0x5bb)](0xc8)[_0x3feccd(0x4ce)](_0x40949a);})[_0x51e3ca(0x5e6)](this['routerPath'](_0x51e3ca(0xd1)),..._0x2c7c77,async(_0x300489,_0x5630a0)=>{const _0x587c93=_0x51e3ca;let _0x24eee0=await this[_0x587c93(0x574)]({'request':_0x300489,'schema':N,'ClassRef':S,'execute':_0x2fd249=>ne[_0x587c93(0xd1)](_0x2fd249)});return _0x5630a0[_0x587c93(0x5bb)](0xc8)[_0x587c93(0x4ce)](_0x24eee0);})[_0x51e3ca(0x5e6)](this['routerPath'](_0x51e3ca(0x367),!0x1),..._0x2c7c77,async(_0x4684c0,_0x4c7698)=>{const _0x1f8f81=_0x51e3ca;let _0x69e480=await this['dataValidate']({'request':_0x4684c0,'schema':null,'ClassRef':S,'execute':_0xdd07c7=>ne[_0x1f8f81(0x367)](_0xdd07c7)});return _0x4c7698[_0x1f8f81(0x5bb)](0xc8)[_0x1f8f81(0x4ce)](_0x69e480);})[_0x51e3ca(0x301)](this['routerPath'](_0x51e3ca(0x22f)),..._0x2c7c77,async(_0x24bbd0,_0x93e6f0)=>{const _0x1b7571=_0x51e3ca;let _0x49f1e7=await this[_0x1b7571(0x574)]({'request':_0x24bbd0,'schema':N,'ClassRef':S,'execute':_0x51b1a2=>ne[_0x1b7571(0x22f)](_0x51b1a2)});return _0x93e6f0[_0x1b7571(0x5bb)](0xc8)[_0x1b7571(0x4ce)](_0x49f1e7);})['delete'](this[_0x51e3ca(0x431)](_0x51e3ca(0x301)),..._0x2c7c77,async(_0x3e261e,_0x4aa9f6)=>{const _0x16c337=_0x51e3ca;let _0x26ab4f=await this[_0x16c337(0x574)]({'request':_0x3e261e,'schema':N,'ClassRef':S,'execute':_0x53109a=>ne[_0x16c337(0x249)](_0x53109a)});return _0x4aa9f6[_0x16c337(0x5bb)](0xc8)['json'](_0x26ab4f);});}},mr=require('express'),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Te=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x452118){const _0x3abad7=a0_0x4087be;super(),this[_0x3abad7(0x67a)]=(0x0,mr[_0x3abad7(0x450)])(),this['router']['post'](this[_0x3abad7(0x431)](_0x3abad7(0x42a)),..._0x452118,async(_0x34ae55,_0x4a7248)=>{const _0x448f2f=_0x3abad7;let _0x5f09af=await this[_0x448f2f(0x574)]({'request':_0x34ae55,'schema':Da,'ClassRef':mt,'execute':(_0x5c5a5b,_0x4e8978)=>B[_0x448f2f(0x42a)](_0x5c5a5b,_0x4e8978)});return _0x4a7248[_0x448f2f(0x5bb)](0xc9)[_0x448f2f(0x4ce)](_0x5f09af);})[_0x3abad7(0x36f)](this['routerPath']('sendMedia'),..._0x452118,async(_0x1fd320,_0x1bc315)=>{const _0x1f1d38=_0x3abad7;let _0x49f47e=await this['dataValidate']({'request':_0x1fd320,'schema':ja,'ClassRef':Te,'execute':(_0x25cf7c,_0x11b7cf)=>B[_0x1f1d38(0x273)](_0x25cf7c,_0x11b7cf)});return _0x1bc315['status'](0xc9)[_0x1f1d38(0x4ce)](_0x49f47e);})[_0x3abad7(0x36f)](this['routerPath'](_0x3abad7(0x37e)),..._0x452118,async(_0x33d300,_0x3b9a62)=>{const _0x5222da=_0x3abad7;let _0x16d506=await this[_0x5222da(0x574)]({'request':_0x33d300,'schema':Ja,'ClassRef':yt,'execute':(_0x504085,_0x5245bb)=>B[_0x5222da(0x37e)](_0x504085,_0x5245bb)});return _0x3b9a62['status'](0xc9)[_0x5222da(0x4ce)](_0x16d506);})[_0x3abad7(0x36f)](this['routerPath']('sendWhatsAppAudio'),..._0x452118,async(_0x24442e,_0x41115c)=>{const _0x3cc693=_0x3abad7;let _0x13c60e=await this[_0x3cc693(0x574)]({'request':_0x24442e,'schema':La,'ClassRef':Te,'execute':(_0xf7999d,_0x4b2ffa)=>B[_0x3cc693(0x4cf)](_0xf7999d,_0x4b2ffa)});return _0x41115c[_0x3cc693(0x5bb)](0xc9)['json'](_0x13c60e);})['post'](this[_0x3abad7(0x431)](_0x3abad7(0x16f)),..._0x452118,async(_0x2b9256,_0x4fabda)=>{const _0x31c9aa=_0x3abad7;let _0x2eca26=await this[_0x31c9aa(0x574)]({'request':_0x2b9256,'schema':Ua,'ClassRef':St,'execute':(_0x4914ec,_0x3bfb1d)=>B[_0x31c9aa(0x16f)](_0x4914ec,_0x3bfb1d)});return _0x4fabda[_0x31c9aa(0x5bb)](0xc9)[_0x31c9aa(0x4ce)](_0x2eca26);})[_0x3abad7(0x36f)](this[_0x3abad7(0x431)](_0x3abad7(0x28d)),..._0x452118,async(_0x4bad74,_0x208c4e)=>{const _0x5d33fa=_0x3abad7;let _0x4fa72f=await this[_0x5d33fa(0x574)]({'request':_0x4bad74,'schema':qa,'ClassRef':Mt,'execute':(_0x5cf2fd,_0x69aad5)=>B[_0x5d33fa(0x28d)](_0x5cf2fd,_0x69aad5)});return _0x208c4e[_0x5d33fa(0x5bb)](0xc9)['json'](_0x4fa72f);})[_0x3abad7(0x36f)](this['routerPath'](_0x3abad7(0x138)),..._0x452118,async(_0x11dff1,_0x5e598e)=>{const _0x12b230=_0x3abad7;let _0x50c66b=await this[_0x12b230(0x574)]({'request':_0x11dff1,'schema':Va,'ClassRef':Ct,'execute':(_0x29c2dd,_0x544753)=>B['sendList'](_0x29c2dd,_0x544753)});return _0x5e598e[_0x12b230(0x5bb)](0xc9)['json'](_0x50c66b);})[_0x3abad7(0x36f)](this['routerPath'](_0x3abad7(0x419)),..._0x452118,async(_0x1943ff,_0x174b6b)=>{const _0x3051a5=_0x3abad7;let _0x193496=await this[_0x3051a5(0x574)]({'request':_0x1943ff,'schema':Ga,'ClassRef':Et,'execute':(_0xccddf6,_0x2cdaf8)=>B[_0x3051a5(0x419)](_0xccddf6,_0x2cdaf8)});return _0x174b6b['status'](0xc9)[_0x3051a5(0x4ce)](_0x193496);})['post'](this[_0x3abad7(0x431)](_0x3abad7(0x74a)),..._0x452118,async(_0x43cc23,_0x23d42d)=>{const _0x3846fc=_0x3abad7;let _0x531810=await this['dataValidate']({'request':_0x43cc23,'schema':Ba,'ClassRef':vt,'execute':(_0xdc6033,_0x4d0198)=>B[_0x3846fc(0x74a)](_0xdc6033,_0x4d0198)});return _0x23d42d[_0x3846fc(0x5bb)](0xc9)['json'](_0x531810);})[_0x3abad7(0x36f)](this[_0x3abad7(0x431)](_0x3abad7(0x70d)),..._0x452118,async(_0x143b1d,_0xa09f2c)=>{const _0x253fad=_0x3abad7;let _0x350442=await this[_0x253fad(0x574)]({'request':_0x143b1d,'schema':Fa,'ClassRef':wt,'execute':(_0x9c68dd,_0x55ae23)=>B['sendPoll'](_0x9c68dd,_0x55ae23)});return _0xa09f2c[_0x253fad(0x5bb)](0xc9)[_0x253fad(0x4ce)](_0x350442);})[_0x3abad7(0x36f)](this[_0x3abad7(0x431)](_0x3abad7(0x18f)),..._0x452118,async(_0x472e84,_0x45f1f1)=>{const _0x28029f=_0x3abad7;let _0x5eb091=await this[_0x28029f(0x574)]({'request':_0x472e84,'schema':ka,'ClassRef':ft,'execute':(_0x3e7462,_0x2cc647)=>B[_0x28029f(0x18f)](_0x3e7462,_0x2cc647)});return _0x45f1f1[_0x28029f(0x5bb)](0xc9)[_0x28029f(0x4ce)](_0x5eb091);})[_0x3abad7(0x36f)](this[_0x3abad7(0x431)](_0x3abad7(0x3e7)),..._0x452118,async(_0x12f25a,_0x29d7e4)=>{const _0x51ad21=_0x3abad7;let _0x3ab3ec=await this['dataValidate']({'request':_0x12f25a,'schema':Pa,'ClassRef':bt,'execute':(_0x37b9e7,_0x4b0076)=>B['sendSticker'](_0x37b9e7,_0x4b0076)});return _0x29d7e4[_0x51ad21(0x5bb)](0xc9)[_0x51ad21(0x4ce)](_0x3ab3ec);});}},fr=require('express'),Rt=class{},Tt=class extends V{constructor(..._0x44e8f1){const _0x4d3fd7=a0_0x4087be;super(),this[_0x4d3fd7(0x67a)]=(0x0,fr[_0x4d3fd7(0x450)])(),this[_0x4d3fd7(0x67a)]['post'](this[_0x4d3fd7(0x431)](_0x4d3fd7(0x154)),..._0x44e8f1,async(_0x50cf33,_0x576bd6)=>{const _0x1cbe0c=_0x4d3fd7;let _0x43fca2=await this[_0x1cbe0c(0x574)]({'request':_0x50cf33,'schema':dr,'ClassRef':Rt,'execute':(_0x3ae904,_0x4a3064)=>Es['createWebhook'](_0x3ae904,_0x4a3064)});_0x576bd6[_0x1cbe0c(0x5bb)](0xc9)['json'](_0x43fca2);})[_0x4d3fd7(0x5e6)](this[_0x4d3fd7(0x431)](_0x4d3fd7(0x16d)),..._0x44e8f1,async(_0x2dc251,_0x36eb21)=>{const _0x15634f=_0x4d3fd7;let _0x2c4dc3=await this[_0x15634f(0x574)]({'request':_0x2dc251,'schema':N,'ClassRef':S,'execute':_0x30ceae=>Es[_0x15634f(0x25d)](_0x30ceae)});_0x36eb21['status'](0xc8)[_0x15634f(0x4ce)](_0x2c4dc3);});}},wr=require('express'),y=new R(a0_0x4087be(0x4b8)),Ot=class extends V{constructor(..._0x185a90){const _0x3f5ca5=a0_0x4087be;super(),this[_0x3f5ca5(0x67a)]=(0x0,wr[_0x3f5ca5(0x450)])(),this[_0x3f5ca5(0x67a)][_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x323)),..._0x185a90,async(_0x55f56a,_0x2ae520)=>{const _0x4d9f69=_0x3f5ca5;let _0x474265=_0x55f56a[_0x4d9f69(0x33c)];y['verbose'](_0x4d9f69(0x4da)),y['verbose'](_0x4d9f69(0x353)),y['verbose'](_0x55f56a[_0x4d9f69(0x33c)]);let _0x3e6e5d=await this['dataValidate']({'request':_0x55f56a,'schema':N,'ClassRef':S,'execute':_0x1b908f=>$[_0x4d9f69(0x2f9)](_0x1b908f,_0x474265)});_0x2ae520[_0x4d9f69(0x5bb)](0xc8)[_0x4d9f69(0x4ce)](_0x3e6e5d);})[_0x3f5ca5(0x5e6)](this[_0x3f5ca5(0x431)]('scheduleMessage'),..._0x185a90,async(_0x374124,_0x2e8220)=>{const _0x1b5fc7=_0x3f5ca5;let _0x3ab97f=await this['dataValidate']({'request':_0x374124,'schema':N,'ClassRef':S,'execute':_0x49e94b=>$[_0x1b5fc7(0x3d9)](_0x49e94b)});_0x2e8220[_0x1b5fc7(0x5bb)](0xc8)[_0x1b5fc7(0x4ce)](_0x3ab97f);})[_0x3f5ca5(0x301)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x6ed)),..._0x185a90,async(_0x4e5096,_0x40065b)=>{const _0x51f706=_0x3f5ca5;y[_0x51f706(0x1aa)]('request\x20received\x20in\x20deleteDoneMessages');let _0xa13ac0=await this[_0x51f706(0x574)]({'request':_0x4e5096,'schema':N,'ClassRef':S,'execute':_0x2d077d=>$[_0x51f706(0x6ed)](_0x2d077d)});_0x40065b['status'](0xc8)['json'](_0xa13ac0);})[_0x3f5ca5(0x36f)](this['routerPath'](_0x3f5ca5(0x5ee)),..._0x185a90,async(_0x294a6c,_0x4c0b8c)=>{const _0xc06677=_0x3f5ca5;let _0x338e53=_0x294a6c[_0xc06677(0x33c)];y[_0xc06677(0x1aa)](_0xc06677(0x647)),y[_0xc06677(0x1aa)]('request\x20body:\x20'),y[_0xc06677(0x1aa)](_0x294a6c['body']);let _0x229658=await this[_0xc06677(0x574)]({'request':_0x294a6c,'schema':N,'ClassRef':S,'execute':_0x5d3069=>$[_0xc06677(0x5ee)](_0x5d3069,_0x338e53)});_0x4c0b8c[_0xc06677(0x5bb)](0xc8)[_0xc06677(0x4ce)](_0x229658);})['get'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x75a)),..._0x185a90,async(_0x3b4ad8,_0x2ac938)=>{const _0x2785a0=_0x3f5ca5;y[_0x2785a0(0x1aa)]('request\x20received\x20in\x20getAutomateSystem');let _0x5ec850=await this[_0x2785a0(0x574)]({'request':_0x3b4ad8,'schema':N,'ClassRef':S,'execute':_0x358123=>$[_0x2785a0(0x75a)](_0x358123)});_0x2ac938[_0x2785a0(0x5bb)](0xc8)[_0x2785a0(0x4ce)](_0x5ec850);})[_0x3f5ca5(0x5e6)](this['routerPath'](_0x3f5ca5(0x5c9)),..._0x185a90,async(_0x49dd0b,_0x1423d5)=>{const _0x4c4fb8=_0x3f5ca5;y[_0x4c4fb8(0x1aa)](_0x4c4fb8(0x185));let _0x51db0e=await this[_0x4c4fb8(0x574)]({'request':_0x49dd0b,'schema':N,'ClassRef':S,'execute':_0xd121fd=>$[_0x4c4fb8(0x75a)](_0xd121fd)});_0x1423d5[_0x4c4fb8(0x5bb)](0xc8)[_0x4c4fb8(0x4ce)](_0x51db0e);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)]('updateAgent'),..._0x185a90,async(_0x326453,_0x4150d2)=>{const _0x33bfbd=_0x3f5ca5;let _0x5e3d37=_0x326453[_0x33bfbd(0x33c)];y['verbose'](_0x33bfbd(0x46c)),y['verbose'](_0x33bfbd(0x353)),y[_0x33bfbd(0x1aa)](_0x326453[_0x33bfbd(0x33c)]);let _0x4c6e6f=await this[_0x33bfbd(0x574)]({'request':_0x326453,'schema':N,'ClassRef':S,'execute':_0x15a617=>$[_0x33bfbd(0x426)](_0x15a617,_0x5e3d37)});_0x4150d2['status'](0xc8)[_0x33bfbd(0x4ce)](_0x4c6e6f);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x172)),..._0x185a90,async(_0x34fb0b,_0x34decc)=>{const _0x4e6cdb=_0x3f5ca5;let _0x5885aa=_0x34fb0b[_0x4e6cdb(0x33c)];y[_0x4e6cdb(0x1aa)](_0x4e6cdb(0x5eb)),y['verbose'](_0x4e6cdb(0x353)),y[_0x4e6cdb(0x1aa)](_0x34fb0b[_0x4e6cdb(0x33c)]);let _0x25c777=await this['dataValidate']({'request':_0x34fb0b,'schema':N,'ClassRef':S,'execute':_0x3cb93f=>$[_0x4e6cdb(0x172)](_0x3cb93f,_0x5885aa)});_0x34decc['status'](0xc8)[_0x4e6cdb(0x4ce)](_0x25c777);})['post'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x16e)),..._0x185a90,async(_0x4073f3,_0x5829b9)=>{const _0x16d020=_0x3f5ca5;let _0xa752b=_0x4073f3[_0x16d020(0x33c)];y[_0x16d020(0x1aa)](_0x16d020(0x1a3)),y['verbose'](_0x16d020(0x353)),y['verbose'](_0x4073f3[_0x16d020(0x33c)]);let _0x14f302=await this[_0x16d020(0x574)]({'request':_0x4073f3,'schema':N,'ClassRef':S,'execute':_0x14d2eb=>$['updateAutoCompleteMessages'](_0x14d2eb,_0xa752b)});_0x5829b9['status'](0xc8)['json'](_0x14f302);})[_0x3f5ca5(0x36f)](this['routerPath']('updateFlowConfig'),..._0x185a90,async(_0x21f391,_0x1b5287)=>{const _0x5ba3f6=_0x3f5ca5;let _0x5570c0=_0x21f391['body'];y[_0x5ba3f6(0x1aa)](_0x5ba3f6(0x34f)),y[_0x5ba3f6(0x1aa)](_0x5ba3f6(0x353)),y[_0x5ba3f6(0x1aa)](_0x21f391[_0x5ba3f6(0x33c)]);let _0x2e6737=await this[_0x5ba3f6(0x574)]({'request':_0x21f391,'schema':N,'ClassRef':S,'execute':_0x2511a4=>$[_0x5ba3f6(0x684)](_0x2511a4,_0x5570c0)});_0x1b5287[_0x5ba3f6(0x5bb)](0xc8)[_0x5ba3f6(0x4ce)](_0x2e6737);})[_0x3f5ca5(0x36f)](this['routerPath'](_0x3f5ca5(0x195)),..._0x185a90,async(_0x3b0fcf,_0x57963d)=>{const _0x4014f7=_0x3f5ca5;let _0x4b8414=_0x3b0fcf['body'];y[_0x4014f7(0x1aa)]('request\x20received\x20in\x20getConversation'),y['verbose']('request\x20body:\x20'),y[_0x4014f7(0x1aa)](_0x3b0fcf[_0x4014f7(0x33c)]);let _0x37a9d2=await this[_0x4014f7(0x574)]({'request':_0x3b0fcf,'schema':N,'ClassRef':S,'execute':_0x45dc50=>$[_0x4014f7(0x195)](_0x45dc50,_0x4b8414)});_0x57963d[_0x4014f7(0x5bb)](0xc8)[_0x4014f7(0x4ce)](_0x37a9d2);})['post'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x58e)),..._0x185a90,async(_0x5b01ec,_0x160742)=>{const _0x1ffada=_0x3f5ca5;let _0x2024b2=_0x5b01ec['body'];y[_0x1ffada(0x1aa)](_0x1ffada(0x2d6)),y['verbose'](_0x1ffada(0x353)),y['verbose'](_0x5b01ec[_0x1ffada(0x33c)]);let _0x104d81=await this[_0x1ffada(0x574)]({'request':_0x5b01ec,'schema':N,'ClassRef':S,'execute':_0x1f24f8=>$[_0x1ffada(0x58e)](_0x1f24f8,_0x2024b2)});_0x160742[_0x1ffada(0x5bb)](0xc8)[_0x1ffada(0x4ce)](_0x104d81);})['post'](this[_0x3f5ca5(0x431)]('editConversation'),..._0x185a90,async(_0x2c1099,_0x4e2cb3)=>{const _0x4daa6d=_0x3f5ca5;let _0x52baf9=_0x2c1099[_0x4daa6d(0x33c)];y[_0x4daa6d(0x1aa)]('request\x20received\x20in\x20editConversation'),y[_0x4daa6d(0x1aa)](_0x4daa6d(0x353)),y[_0x4daa6d(0x1aa)](_0x2c1099[_0x4daa6d(0x33c)]);let _0x123422=await this[_0x4daa6d(0x574)]({'request':_0x2c1099,'schema':N,'ClassRef':S,'execute':_0x30b194=>$[_0x4daa6d(0x145)](_0x30b194,_0x52baf9)});_0x4e2cb3[_0x4daa6d(0x5bb)](0xc8)['json'](_0x123422);})['delete'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x3c4)),..._0x185a90,async(_0x4d295b,_0x142807)=>{const _0x3eb83b=_0x3f5ca5;let _0x52c247=_0x4d295b[_0x3eb83b(0x33c)];y[_0x3eb83b(0x1aa)](_0x3eb83b(0x469)),y[_0x3eb83b(0x1aa)](_0x3eb83b(0x353)),y[_0x3eb83b(0x1aa)](_0x4d295b['body']);let _0x280176=await this[_0x3eb83b(0x574)]({'request':_0x4d295b,'schema':N,'ClassRef':S,'execute':_0x2be470=>$[_0x3eb83b(0x3c4)](_0x2be470,_0x52c247)});_0x142807[_0x3eb83b(0x5bb)](0xc8)[_0x3eb83b(0x4ce)](_0x280176);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)]('createflow'),..._0x185a90,async(_0x408325,_0x594599)=>{const _0x2522fd=_0x3f5ca5;let _0x208084=_0x408325[_0x2522fd(0x33c)];y[_0x2522fd(0x1aa)](_0x2522fd(0x5a9)),y[_0x2522fd(0x1aa)]('request\x20body:\x20'),y[_0x2522fd(0x1aa)](_0x408325['body']);let _0x3f921b=await this[_0x2522fd(0x574)]({'request':_0x408325,'schema':N,'ClassRef':S,'execute':_0x1649e9=>$[_0x2522fd(0x44a)](_0x1649e9,_0x208084)});_0x594599[_0x2522fd(0x5bb)](0xc8)['json'](_0x3f921b);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x670)),..._0x185a90,async(_0xbb398d,_0x1f0c02)=>{const _0x52678a=_0x3f5ca5;let _0x14371e=_0xbb398d[_0x52678a(0x33c)];y['verbose'](_0x52678a(0xee)),y['verbose'](_0x52678a(0x353)),y[_0x52678a(0x1aa)](_0xbb398d[_0x52678a(0x33c)]),delete _0x14371e[_0x52678a(0x1ab)],delete _0x14371e[_0x52678a(0x45e)],delete _0x14371e[_0x52678a(0x291)],delete _0x14371e[_0x52678a(0x1b3)];let _0x29ab2d=await this[_0x52678a(0x574)]({'request':_0xbb398d,'schema':N,'ClassRef':S,'execute':_0x40fb95=>$[_0x52678a(0x338)](_0x40fb95,_0x14371e)});_0x1f0c02[_0x52678a(0x5bb)](0xc8)['json'](_0x29ab2d);})['post'](this[_0x3f5ca5(0x431)]('editflowblock'),..._0x185a90,async(_0x54baa8,_0x3c9603)=>{const _0x3b96d5=_0x3f5ca5;let _0x3dfb30=_0x54baa8['body'];y[_0x3b96d5(0x1aa)](_0x3b96d5(0xee)),y[_0x3b96d5(0x1aa)]('request\x20body:\x20'),y[_0x3b96d5(0x1aa)](_0x54baa8['body']);let _0x4f841a=await this['dataValidate']({'request':_0x54baa8,'schema':N,'ClassRef':S,'execute':_0x5023c5=>$[_0x3b96d5(0x61b)](_0x5023c5,_0x3dfb30)});_0x3c9603[_0x3b96d5(0x5bb)](0xc8)[_0x3b96d5(0x4ce)](_0x4f841a);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x63f)),..._0x185a90,async(_0x371243,_0x3a944d)=>{const _0x544615=_0x3f5ca5;let _0x301192=_0x371243['body'];y['verbose'](_0x544615(0xee)),y[_0x544615(0x1aa)](_0x544615(0x353)),y[_0x544615(0x1aa)](_0x371243[_0x544615(0x33c)]);let _0x46837c=await this[_0x544615(0x574)]({'request':_0x371243,'schema':N,'ClassRef':S,'execute':_0x79f2be=>$['editFlowReply'](_0x79f2be,_0x301192)});_0x3a944d[_0x544615(0x5bb)](0xc8)[_0x544615(0x4ce)](_0x46837c);})[_0x3f5ca5(0x36f)](this['routerPath']('editflowvaredit'),..._0x185a90,async(_0x50c39a,_0x55f1ee)=>{const _0xf3b216=_0x3f5ca5;let _0x2b5240=_0x50c39a['body'];y[_0xf3b216(0x1aa)](_0xf3b216(0xee)),y[_0xf3b216(0x1aa)](_0xf3b216(0x353)),y[_0xf3b216(0x1aa)](_0x50c39a[_0xf3b216(0x33c)]);let _0x79f650=await this[_0xf3b216(0x574)]({'request':_0x50c39a,'schema':N,'ClassRef':S,'execute':_0x3001f3=>$[_0xf3b216(0x32c)](_0x3001f3,_0x2b5240)});_0x55f1ee[_0xf3b216(0x5bb)](0xc8)['json'](_0x79f650);})[_0x3f5ca5(0x36f)](this['routerPath'](_0x3f5ca5(0x70c)),..._0x185a90,async(_0x346c68,_0xba3557)=>{const _0x460e14=_0x3f5ca5;let _0x3994a1=_0x346c68[_0x460e14(0x33c)];y[_0x460e14(0x1aa)]('request\x20received\x20in\x20editFlowgroup'),y[_0x460e14(0x1aa)](_0x460e14(0x353)),y[_0x460e14(0x1aa)](_0x346c68[_0x460e14(0x33c)]);let _0x4e433a=await this[_0x460e14(0x574)]({'request':_0x346c68,'schema':N,'ClassRef':S,'execute':_0x5e98e9=>$[_0x460e14(0x573)](_0x5e98e9,_0x3994a1)});_0xba3557[_0x460e14(0x5bb)](0xc8)[_0x460e14(0x4ce)](_0x4e433a);})['post'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x4ee)),..._0x185a90,async(_0x15a416,_0x5d536f)=>{const _0x49c63e=_0x3f5ca5;let _0x4ecfc3=_0x15a416[_0x49c63e(0x33c)];y['verbose'](_0x49c63e(0x601)),y['verbose']('request\x20body:\x20'),y[_0x49c63e(0x1aa)](_0x15a416['body']);let _0xf5d2eb=await this[_0x49c63e(0x574)]({'request':_0x15a416,'schema':N,'ClassRef':S,'execute':_0x3e8dc3=>$[_0x49c63e(0x64d)](_0x3e8dc3,_0x4ecfc3)});_0x5d536f[_0x49c63e(0x5bb)](0xc8)[_0x49c63e(0x4ce)](_0xf5d2eb);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x5c0)),..._0x185a90,async(_0x25ba5e,_0x4fc484)=>{const _0x599740=_0x3f5ca5;let _0x3d22bc=_0x25ba5e[_0x599740(0x33c)];y[_0x599740(0x1aa)](_0x599740(0x10a)),y[_0x599740(0x1aa)]('request\x20body:\x20'),y[_0x599740(0x1aa)](_0x25ba5e['body']);let _0x4f87ee=await this[_0x599740(0x574)]({'request':_0x25ba5e,'schema':N,'ClassRef':S,'execute':_0x1ced9c=>$[_0x599740(0x6a0)](_0x1ced9c,_0x3d22bc)});_0x4fc484[_0x599740(0x5bb)](0xc8)[_0x599740(0x4ce)](_0x4f87ee);})[_0x3f5ca5(0x36f)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x234)),..._0x185a90,async(_0x3368b2,_0x8625ec)=>{const _0x3eab09=_0x3f5ca5;let _0x3c6a55=_0x3368b2[_0x3eab09(0x33c)];y['verbose'](_0x3eab09(0x203)),y[_0x3eab09(0x1aa)](_0x3eab09(0x353)),y[_0x3eab09(0x1aa)](_0x3368b2[_0x3eab09(0x33c)]);let _0x1bf321=await this[_0x3eab09(0x574)]({'request':_0x3368b2,'schema':N,'ClassRef':S,'execute':_0x1b84a2=>$['getFlow'](_0x1b84a2,_0x3c6a55)});_0x8625ec[_0x3eab09(0x5bb)](0xc8)[_0x3eab09(0x4ce)](_0x1bf321);})['delete'](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x63a)),..._0x185a90,async(_0x3f92e9,_0x3b75d6)=>{const _0x5388da=_0x3f5ca5;let _0x7fb5ac=_0x3f92e9[_0x5388da(0x33c)];y['verbose'](_0x5388da(0x2ea)),y[_0x5388da(0x1aa)]('request\x20body:\x20'),y['verbose'](_0x3f92e9['body']);let _0x2f9b89=await this['dataValidate']({'request':_0x3f92e9,'schema':N,'ClassRef':S,'execute':_0x1c10fa=>$[_0x5388da(0x5b2)](_0x1c10fa,_0x7fb5ac)});_0x3b75d6[_0x5388da(0x5bb)](0xc8)['json'](_0x2f9b89);})[_0x3f5ca5(0x5e6)](this[_0x3f5ca5(0x431)](_0x3f5ca5(0x54c)),..._0x185a90,async(_0x3acd2e,_0x33fe8c)=>{const _0x1d95f1=_0x3f5ca5;y[_0x1d95f1(0x1aa)](_0x1d95f1(0x2df));let _0x4b8b70=await this[_0x1d95f1(0x574)]({'request':_0x3acd2e,'schema':N,'ClassRef':S,'execute':_0x3dfe0b=>$[_0x1d95f1(0x728)](_0x3dfe0b)});_0x33fe8c[_0x1d95f1(0x5bb)](0xc8)[_0x1d95f1(0x4ce)](_0x4b8b70);});}},Mr=O(require(a0_0x4087be(0x582))),Z={};function yr(_0x50240e,_0x363d38,_0x14c582,_0x25bb29){Z[_0x50240e]||(Z[_0x50240e]={}),Z[_0x50240e][_0x363d38]={'id':_0x363d38,'response':_0x14c582,'events':_0x25bb29};}function br(_0xe5b1d0,_0x2cc9c6){!Z[_0xe5b1d0]||!Z[_0xe5b1d0][_0x2cc9c6]||delete Z[_0xe5b1d0][_0x2cc9c6];}function J(_0x22ba6e,_0x2be1d0,_0xa7017a){const _0x5d0fd1=a0_0x4087be;if(!Z[_0x22ba6e])return;let _0x1575e1=_0x5d0fd1(0x1de)+JSON['stringify'](_0xa7017a)+'\x0a\x0a';Object[_0x5d0fd1(0x6d0)](Z[_0x22ba6e])[_0x5d0fd1(0x4e3)](_0xca0bfc=>{const _0x1d536e=_0x5d0fd1;_0xca0bfc['events'][_0x1d536e(0x83)](_0x2be1d0)&&_0xca0bfc[_0x1d536e(0x215)]['write'](_0x1575e1);});}function Sr(){const _0x23b2b5=a0_0x4087be;let _0x962620={};for(let _0x43b5ff in Z)_0x962620[_0x43b5ff]=Object['values'](Z[_0x43b5ff])[_0x23b2b5(0xaa)](_0x3b011f=>({'id':_0x3b011f['id'],'events':_0x3b011f[_0x23b2b5(0x354)]}));return _0x962620;}var Cr=require(a0_0x4087be(0x4b6)),Ns=require(a0_0x4087be(0x336)),vs=class{},Ci=new Ns[(a0_0x4087be(0x2e8))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ei=new Ns[(a0_0x4087be(0x2e8))]({'_id':{'type':String,'default':a0_0x4087be(0x5cd)},'WebhookGlobal':{'type':Ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),be=T?.[a0_0x4087be(0x447)](vs[a0_0x4087be(0x23a)],Ei,'All_Instances_Config'),vi=Mr[a0_0x4087be(0x164)][a0_0x4087be(0x76e)](__dirname,a0_0x4087be(0x656)),$t=(0x0,At[a0_0x4087be(0x450)])(),Ni=b[a0_0x4087be(0x5e6)]('AUTHENTICATION')[a0_0x4087be(0x252)],se=[Oa,Aa,xa[Ni]];$t[a0_0x4087be(0x4c6)](a0_0x4087be(0xbb),At[a0_0x4087be(0x164)][a0_0x4087be(0x405)](vi))[a0_0x4087be(0x5e6)]('/events/:instance',async(_0x50e944,_0x5578e)=>{const _0x17d8af=a0_0x4087be;console[_0x17d8af(0x603)](_0x17d8af(0x340));let _0x32b60a=_0x50e944[_0x17d8af(0x733)]['instance'],_0x75a408=(_0x50e944[_0x17d8af(0x272)][_0x17d8af(0x354)]||'')[_0x17d8af(0x2f1)](','),_0xc0e44e=(0x0,Cr['v4'])();console[_0x17d8af(0x603)](_0x17d8af(0x348),_0x32b60a),console[_0x17d8af(0x603)](_0x17d8af(0x307),_0x75a408);let _0x47190c=b['get'](_0x17d8af(0x693))['API_KEY'],_0x30e61c=_0x50e944[_0x17d8af(0x272)][_0x17d8af(0x4ff)];if(console[_0x17d8af(0x603)](_0x17d8af(0x6e4),_0x30e61c),_0x47190c['KEY']!==_0x30e61c){console[_0x17d8af(0x603)](_0x17d8af(0xe8));try{let _0x46ffdb=await ue[_0x17d8af(0x42f)][_0x17d8af(0x16d)](_0x32b60a);if(console[_0x17d8af(0x603)]('Instance\x20Key\x20from\x20DB:',_0x46ffdb),!_0x46ffdb||_0x46ffdb['apikey']!==_0x30e61c)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x5578e[_0x17d8af(0x5bb)](0x191)[_0x17d8af(0x280)](_0x17d8af(0x3a1));}catch(_0x8db0e7){return console[_0x17d8af(0x20d)](_0x17d8af(0x21c),_0x8db0e7),_0x5578e[_0x17d8af(0x5bb)](0x191)[_0x17d8af(0x280)]('API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.');}}if(!await Xe(_0x32b60a))return _0x5578e['status'](0x194)[_0x17d8af(0x280)](_0x17d8af(0x50f));_0x5578e[_0x17d8af(0x31e)](_0x17d8af(0x6a1),_0x17d8af(0x731)),_0x5578e[_0x17d8af(0x31e)]('Cache-Control','no-cache'),_0x5578e[_0x17d8af(0x31e)]('Connection',_0x17d8af(0x618)),_0x5578e[_0x17d8af(0x326)]();let _0x1a9fbf='data:\x20'+JSON['stringify']({'info':'Conexo\x20estabelecida'})+'\x0a\x0a';_0x5578e[_0x17d8af(0x3f6)](_0x1a9fbf),yr(_0x32b60a,_0xc0e44e,_0x5578e,_0x75a408),_0x50e944['on'](_0x17d8af(0x487),()=>{const _0x29f46b=_0x17d8af;console[_0x29f46b(0x603)](_0x29f46b(0x2c1)+_0x32b60a),br(_0x32b60a,_0xc0e44e);});}),$t[a0_0x4087be(0x5e6)](a0_0x4087be(0x287),(_0x5b7c91,_0x6d6455)=>{let _0x3fed29=Sr();_0x6d6455['json'](_0x3fed29);})[a0_0x4087be(0x5e6)]('/',(_0x49eaee,_0x575b4a)=>{const _0x148cba=a0_0x4087be;let _0x8aced8=b[_0x148cba(0x5e6)]('SERVER')[_0x148cba(0x397)];if(_0x8aced8){let _0xd190ad=encodeURIComponent(''+_0x8aced8);_0x575b4a['redirect'](_0x148cba(0x88)+_0xd190ad);return;}let _0x40edb5=b['get'](_0x148cba(0x491)),_0x44ee3e=_0x40edb5&&_0x40edb5[_0x148cba(0x568)]['split']('/')[0x4];if(_0x44ee3e){let _0x59dc3a=encodeURIComponent('https://'+_0x44ee3e);_0x575b4a[_0x148cba(0x2ed)](_0x148cba(0x88)+_0x59dc3a);}else _0x575b4a[_0x148cba(0x2ed)](_0x148cba(0x724));})[a0_0x4087be(0xb3)](a0_0x4087be(0x668),...se,async(_0x17bc33,_0x2ff91c)=>{const _0x5a5b45=a0_0x4087be;try{console[_0x5a5b45(0x603)](_0x5a5b45(0x6a3)),_0x2ff91c['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2ff91c['on']('finish',()=>process['exit'](0x0));}catch(_0x2f19fa){console[_0x5a5b45(0x20d)](_0x5a5b45(0x6de),_0x2f19fa),_0x2ff91c[_0x5a5b45(0x5bb)](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put'](a0_0x4087be(0x382),...se,async(_0x536b89,_0x4dd8ff)=>{const _0x28e07e=a0_0x4087be;try{let _0x5e395e=_0x536b89[_0x28e07e(0x33c)];await be[_0x28e07e(0x506)]({},{'$set':_0x5e395e},{'upsert':!0x0});let _0x3f3f57=await be[_0x28e07e(0x1b0)]();_0x4dd8ff[_0x28e07e(0x4ce)](_0x3f3f57);}catch(_0x34d88e){_0x4dd8ff['status'](0x190)['send'](_0x34d88e[_0x28e07e(0x5a0)]);}})['get'](a0_0x4087be(0x382),...se,async(_0x2ed659,_0x1fc20d)=>{const _0x4ab72e=a0_0x4087be;try{let _0x57c717=await be[_0x4ab72e(0x1b0)]();if(!_0x57c717)return _0x1fc20d[_0x4ab72e(0x4ce)]({});_0x1fc20d[_0x4ab72e(0x4ce)](_0x57c717);}catch(_0x5b411f){_0x1fc20d['status'](0x1f4)[_0x4ab72e(0x280)](_0x5b411f[_0x4ab72e(0x5a0)]);}})[a0_0x4087be(0x4c6)](a0_0x4087be(0x640),new gt(b,...se)[a0_0x4087be(0x67a)])['use']('/message',new Nt(...se)[a0_0x4087be(0x67a)])[a0_0x4087be(0x4c6)]('/chat',new rt(...se)[a0_0x4087be(0x67a)])[a0_0x4087be(0x4c6)](a0_0x4087be(0x263),new ht(...se)[a0_0x4087be(0x67a)])[a0_0x4087be(0x4c6)](a0_0x4087be(0x2de),new Tt(...se)[a0_0x4087be(0x67a)])[a0_0x4087be(0x4c6)](a0_0x4087be(0x536),new Ot(...se)[a0_0x4087be(0x67a)]);var f=class{constructor(..._0xc8dbbb){const _0x127273=a0_0x4087be;throw{'status':0x190,'error':_0x127273(0x40b),'message':_0xc8dbbb[_0x127273(0x5b5)]>0x0?_0xc8dbbb:void 0x0};}},te=class{constructor(..._0x552024){const _0x2ea722=a0_0x4087be;throw{'status':0x191,'error':'Unauthorized','message':_0x552024[_0x2ea722(0x5b5)]>0x0?_0x552024:void 0x0};}},Q=class{constructor(..._0x44f83e){const _0x538f2f=a0_0x4087be;throw{'status':0x193,'error':_0x538f2f(0x5a6),'message':_0x44f83e['length']>0x0?_0x44f83e:void 0x0};}},U=class{constructor(..._0x60b51a){const _0x5ac7bb=a0_0x4087be;throw{'status':0x194,'error':'Not\x20Found','message':_0x60b51a[_0x5ac7bb(0x5b5)]>0x0?_0x60b51a:void 0x0};}},I=class{constructor(..._0x55b379){const _0x51f7f9=a0_0x4087be;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x55b379[_0x51f7f9(0x5b5)]>0x0?_0x55b379:void 0x0};}},de=require(a0_0x4087be(0x596));async function Rs(_0x29086b){const _0x42e5d2=a0_0x4087be;let _0x16f633=new R(Rs[_0x42e5d2(0x23a)]),_0x3551ce=T[_0x42e5d2(0x721)](),_0x293225=_0x3551ce['db'](b[_0x42e5d2(0x5e6)](_0x42e5d2(0x209))[_0x42e5d2(0xa4)][_0x42e5d2(0x238)]+_0x42e5d2(0x7f))['collection'](_0x29086b),_0xdc5697=async(_0x50df4c,_0x49a6ad)=>{const _0x18a589=_0x42e5d2;try{return await _0x3551ce[_0x18a589(0x1b2)](),await _0x293225['replaceOne']({'_id':_0x49a6ad},JSON[_0x18a589(0x31f)](JSON[_0x18a589(0x28a)](_0x50df4c,de['BufferJSON'][_0x18a589(0x704)])),{'upsert':!0x0});}catch{}},_0x3f06d=async _0x5c5796=>{const _0x59d798=_0x42e5d2;try{await _0x3551ce[_0x59d798(0x1b2)]();let _0x22a77c=await _0x293225[_0x59d798(0x1b0)]({'_id':_0x5c5796}),_0x358ef3=JSON[_0x59d798(0x28a)](_0x22a77c);return JSON[_0x59d798(0x31f)](_0x358ef3,de[_0x59d798(0x3df)][_0x59d798(0x2b1)]);}catch{}},_0x170e12=async _0x34d93e=>{const _0x521257=_0x42e5d2;try{return await _0x3551ce[_0x521257(0x1b2)](),await _0x293225[_0x521257(0x300)]({'_id':_0x34d93e});}catch{}},_0x12ef6b=await _0x3f06d(_0x42e5d2(0x638))||(0x0,de[_0x42e5d2(0x295)])();return{'state':{'creds':_0x12ef6b,'keys':{'get':async(_0x356cfb,_0x1faaed)=>{const _0xae01fb=_0x42e5d2;let _0x1350f9={};return await Promise[_0xae01fb(0x76b)](_0x1faaed['map'](async _0x324cbc=>{const _0x5198f8=_0xae01fb;let _0x165c80=await _0x3f06d(_0x356cfb+'-'+_0x324cbc);_0x356cfb===_0x5198f8(0x512)&&_0x165c80&&(_0x165c80=de[_0x5198f8(0x3a6)][_0x5198f8(0x278)][_0x5198f8(0x691)][_0x5198f8(0x5a5)](_0x165c80)),_0x1350f9[_0x324cbc]=_0x165c80;})),_0x1350f9;},'set':async _0x1c019d=>{const _0x3aa214=_0x42e5d2;let _0x261ab7=[];for(let _0x485272 in _0x1c019d)for(let _0xdfb33d in _0x1c019d[_0x485272]){let _0x554312=_0x1c019d[_0x485272][_0xdfb33d],_0x538a18=_0x485272+'-'+_0xdfb33d;_0x261ab7['push'](_0x554312?_0xdc5697(_0x554312,_0x538a18):_0x170e12(_0x538a18));}await Promise[_0x3aa214(0x76b)](_0x261ab7);}}},'saveCreds':async()=>_0xdc5697(_0x12ef6b,_0x42e5d2(0x638))};}var Is=O(require(a0_0x4087be(0xef))),xs=O(require(a0_0x4087be(0xfe))),Dt=require(a0_0x4087be(0x596)),Er=require(a0_0x4087be(0x449)),xt=require(a0_0x4087be(0x596)),It;function Ri(_0x432db1){const _0x1cae6d=a0_0x4087be;return It||(It=(0x0,Er[_0x1cae6d(0x2f4)])({'url':_0x432db1[_0x1cae6d(0x5ce)]}),It[_0x1cae6d(0x1b2)]()),It;}var ce=class c{constructor(_0xd8dcbd,_0x11cc71){const _0x50a930=a0_0x4087be;this[_0x50a930(0x132)]=_0xd8dcbd,this[_0x50a930(0x768)]=_0x11cc71,this[_0x50a930(0x173)]=new R(c['name']),this[_0x50a930(0x400)]=Ri(_0xd8dcbd);}set[a0_0x4087be(0x639)](_0x1a7233){const _0x4de2cd=a0_0x4087be;this[_0x4de2cd(0x768)]=_0x1a7233;}async['instanceKeys'](){const _0x2736f1=a0_0x4087be;try{return await this[_0x2736f1(0x400)][_0x2736f1(0x1bf)]([_0x2736f1(0x75e),this[_0x2736f1(0x132)][_0x2736f1(0x6af)]+':*']);}catch(_0x5172b7){this['logger'][_0x2736f1(0x20d)](_0x5172b7);}}async[a0_0x4087be(0x5d4)](_0x55c3a7,_0x5a8860){const _0x317438=a0_0x4087be;try{let _0x1210fd=JSON[_0x317438(0x28a)](_0x5a8860,xt['BufferJSON'][_0x317438(0x704)]);return await this[_0x317438(0x400)][_0x317438(0x23e)](this[_0x317438(0x132)]['PREFIX_KEY']+':'+this['instanceName'],_0x55c3a7,_0x1210fd);}catch(_0x4974c2){this[_0x317438(0x173)][_0x317438(0x20d)](_0x4974c2);}}async[a0_0x4087be(0x196)](){const _0x7b13cc=a0_0x4087be;try{let _0x1b90bd=await this['client'][_0x7b13cc(0x746)](this[_0x7b13cc(0x132)][_0x7b13cc(0x6af)]+':'+this[_0x7b13cc(0x768)]);if(_0x1b90bd){for(let _0xb93f30 in _0x1b90bd)Object[_0x7b13cc(0x43f)][_0x7b13cc(0x131)]['call'](_0x1b90bd,_0xb93f30)&&(_0x1b90bd[_0xb93f30]=JSON[_0x7b13cc(0x31f)](_0x1b90bd[_0xb93f30],xt[_0x7b13cc(0x3df)]['reviver']));return _0x1b90bd;}}catch(_0x7e99fc){this['logger'][_0x7b13cc(0x20d)](_0x7e99fc);}}async['readData'](_0x19331f){const _0x15213a=a0_0x4087be;try{let _0x50f1ab=await this[_0x15213a(0x400)][_0x15213a(0x4f6)](this[_0x15213a(0x132)][_0x15213a(0x6af)]+':'+this[_0x15213a(0x768)],_0x19331f);if(_0x50f1ab)return JSON[_0x15213a(0x31f)](_0x50f1ab,xt[_0x15213a(0x3df)][_0x15213a(0x2b1)]);}catch(_0x51bd8c){this['logger'][_0x15213a(0x20d)](_0x51bd8c);}}async[a0_0x4087be(0x6c5)](_0x26d108){const _0x454a13=a0_0x4087be;try{return await this[_0x454a13(0x400)][_0x454a13(0x669)](this[_0x454a13(0x132)][_0x454a13(0x6af)]+':'+this[_0x454a13(0x768)],_0x26d108);}catch(_0x13aed0){this['logger']['error'](_0x13aed0);}}async[a0_0x4087be(0x305)](_0xe92851){const _0x5d8d6d=a0_0x4087be;try{return await this[_0x5d8d6d(0x400)]['del'](_0xe92851||this[_0x5d8d6d(0x132)][_0x5d8d6d(0x6af)]+':'+this['instanceName']);}catch(_0x264c1b){this[_0x5d8d6d(0x173)][_0x5d8d6d(0x20d)](_0x264c1b);}}};async function Ts(_0x4c7264,_0x2f4958){const _0x5c17ac=a0_0x4087be;let _0x34017e=new R(Ts[_0x5c17ac(0x23a)]),_0x16b722=new ce(_0x4c7264,_0x2f4958),_0x476024=async(_0xc9007,_0x190ef4)=>{const _0x5093d9=_0x5c17ac;try{return await _0x16b722['writeData'](_0x190ef4,_0xc9007);}catch(_0x5595cd){return _0x34017e[_0x5093d9(0x20d)]({'localError':_0x5093d9(0x5d4),'error':_0x5595cd});}},_0x356fcb=async _0x2a216e=>{const _0x56d7ea=_0x5c17ac;try{return await _0x16b722['readData'](_0x2a216e);}catch(_0x5d9ce7){_0x34017e[_0x56d7ea(0x20d)]({'readData':_0x56d7ea(0x5d4),'error':_0x5d9ce7});return;}},_0x4595bd=async _0x3fafd9=>{const _0x2c7b41=_0x5c17ac;try{return await _0x16b722[_0x2c7b41(0x6c5)](_0x3fafd9);}catch(_0x468d71){_0x34017e[_0x2c7b41(0x20d)]({'readData':_0x2c7b41(0x6c5),'error':_0x468d71});}},_0x3f3347=await _0x356fcb(_0x5c17ac(0x638))||(0x0,Dt[_0x5c17ac(0x295)])();return{'state':{'creds':_0x3f3347,'keys':{'get':async(_0x5f35ed,_0x1b60a1)=>{const _0xf3dffc=_0x5c17ac;let _0x4f37a0={};return await Promise[_0xf3dffc(0x76b)](_0x1b60a1[_0xf3dffc(0xaa)](async _0x4ebaf9=>{const _0x58fead=_0xf3dffc;let _0x1489d0=await _0x356fcb(_0x5f35ed+'-'+_0x4ebaf9);_0x5f35ed===_0x58fead(0x512)&&_0x1489d0&&(_0x1489d0=Dt[_0x58fead(0x3a6)]['Message'][_0x58fead(0x691)][_0x58fead(0x5a5)](_0x1489d0)),_0x4f37a0[_0x4ebaf9]=_0x1489d0;})),_0x4f37a0;},'set':async _0xd99c4b=>{const _0x590a34=_0x5c17ac;let _0x3bc07f=[];for(let _0x2ac46b in _0xd99c4b)for(let _0x71c481 in _0xd99c4b[_0x2ac46b]){let _0x15887b=_0xd99c4b[_0x2ac46b][_0x71c481],_0x495742=_0x2ac46b+'-'+_0x71c481;_0x3bc07f[_0x590a34(0x5af)](_0x15887b?await _0x476024(_0x15887b,_0x495742):await _0x4595bd(_0x495742));}await Promise[_0x590a34(0x76b)](_0x3bc07f);}}},'saveCreds':async()=>await _0x476024(_0x3f3347,'creds')};}function a0_0x1ecd(){const _0x1181e0=['jwt','collection','config','URI','messages.set','getTime','WARN','getUpdate','true','writeData','makeCacheableSignalKeyStore','pollMessageOnDelete','block','_Flows','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','\x20is\x20already\x20in\x20use.','memberAddMode','LEVEL','deleteImportedChat','extractMessageContent','/instance/fetchInstances','remove.instance','enumerable','canSendMessage','DOCKER_ENV','#ffc5c7','):\x20lastBlockId:\x20','get','connectToWhatsappController','cache','toString','subjectOwner','request\x20received\x20in\x20updateCustomFields','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','\x20-\x20ON:\x20','startFlow','):\x20no\x20encontrou','cwd','SUCCESS','isRunning','matchRegex','less','END:VCARD','CONFIGURAO\x20GERAL:','label','fileLength','group-participants.update','Comando\x20desconhecido','saveConversationToDatabase','shareOwners','loadWebhook','scheduleSendText','isJidGroup','exec','request\x20received\x20in\x20editFlowcondition',']\x20(','log','):\x20Criou\x20conversa\x20no\x20startFlow:','reaction','#000000','):\x20updateResult:','Background\x20color\x20is\x20required','groupUpdateDescription','instances','pollUpdateMessage','scheduleMessages','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','isJidBroadcast','getLastMessage','apirequest','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','flowConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','saveMediaToFile','Erro\x20ao\x20buscar\x20conversas','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','address','keep-alive','leadInfo.etiquetas','generate','editFlowBlock','ReplyOption\x20com\x20ID\x20','info','variablesNotFound','lowerCase','dbSettings','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','findGroups','awaitSeconds','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','DisconnectReason','):\x20Current\x20Time:\x20','https://','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','loadproxy','updateGroupWebhook','Error\x20in\x20scheduleNextCheck:\x20','password','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','ContactsAndGroups','Notifying\x20clients\x20for\x20chat:\x20','.X-ABLabel:Celular\x0a','redis','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','.\x20Aguardando\x20antes\x20de\x20reconectar...','arrayUnique','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','unhandledRejection','evaluateCondition','creds','reference','deleteflow','rm\x20-rf\x20','loadEnv','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','participant','editflowreply','/instance','backgroundColor','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','groupRequestParticipantsUpdate','The\x20global\x20api\x20key\x20must\x20be\x20set','Erro\x20de\x20atualizao:\x20','request\x20received\x20in\x20starFlow','bearer','imported','Removidas\x20as\x20variveis:\x20','presenceSubscribe','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editFlowCondition','Font\x20is\x20required','wuid','_remoteJid','):\x20Edit\x20schedule\x20message...','_id','condition','sort','selectableCount','downloads','verifiedName','Sistema\x20atualizado\x20com\x20sucesso!','conversation','https://api.openai.com/v1/images/generations','REDIS_URI','integer','Error\x20finding\x20many\x20contacts:','PORT','\x1b[30m','SSL_CONF_FULLCHAIN','}}\x20->\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20debug\x20alterando\x20this.AutomateSystem','[all]','getRandomText','whatsappNumber','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','/exit','hDel','https://api.elevenlabs.io/v1/text-to-speech/','\x20saindo\x20da\x20funo','HOST','):\x20Enviando\x20localizao','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','now','editflow','MAX_RECONNECT_ATTEMPTS','Image\x20is\x20url','sign','notify','fetchStatus','Close\x20connection','CONECTADO\x20\x20UAZAPI','waitingMenu_ExpiredMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','router','URL\x20limpa:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','connectedClient','_Contacts','__esModule','superadmin','isURL','DARK','updateFlowConfig','#dfaef0','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','presence','CHATS_SET',',\x20Expiration\x20Time:\x20','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','connectionClosed','Atualizao:\x20','headers','online','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','AppStateSyncKeyData','exports','AUTHENTICATION','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Flow\x20no\x20encontrado','CONTACTS_UPDATE','Last\x20message\x20not\x20found','\x1b[41m','ReplyOptions\x20finais\x20aps\x20reordenao:',',\x20Resultado:\x20','scheduleSendAudio','groups_ignore','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','GET','formatVCard','editFlowVariable','Content-Type','_p_','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','setUpdate','menuType','size','joinGroupValidate','none','profileName','prepareMediaMessage','padStart','https://ipinfo.io/json','findOrCreate','processApiRequest','PREFIX_KEY','sem\x20texto\x20na\x20mensagem','ERROR:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','jpegThumbnail','):\x20Editando\x20grupo\x20do\x20fluxo...','sha256','phoneNumber','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName','assign','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','getConversationModelForOwner','webhook','reactionMessage','Last\x20message\x20not\x20found\x20for\x20number:','statusJidList','ScheduleMessageModel','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','video','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:','removeData','_fromMe','):\x20teve\x20mudanas\x20chat.archived:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','useMultiFileAuthState','closed','leadInfo.customFields','applyvaredit','testProxy','moreLogs','store','values','Error\x20in\x20converting\x20audio','reconnectTimestamps','endsWith','authorization','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','updateOneById','groupBetterSetting','listType','status@broadcast','fileUrl','waMonitor','leaveGroup','#92ceac','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','convertaudio','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','option','\x1b[32m%s\x1b[0m','startsWith','API\x20Key\x20from\x20Request:','updateMessage','\x1b[44m',',\x20canSendMessage:\x20','chatLog','removeUnusedChatFields','author','mimetype','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','deleteDoneMessages','chats.update','deletedCount','RECONNECT_TIME_FRAME','chats','type','#9ab6c1','DATABASE_CONNECTION_HOST','setNewValue','cachedContact','):\x20Comando\x20desconhecido:\x20','getFlowModelForOwner','flowStopMinutes','has','?timestamp=','DELETED','sectionsToString','Fluxos\x20no\x20esto\x20ativados','.mimetype','isLong','):\x20Editando\x20bloco...','repository','toUpperCase','replacer','Types','\x20no\x20encontrado','chatModify','badSession','\x20after\x20','lastInteraction','profilePictureUrl','editflowgroup','sendPoll','toFile','/wa-chats','/*.json','capitalizedWords','.xls','getStatus','Variveis\x20no\x20encontradas:','pollCreationMessageV2','requestFile','menuExpiredMessage','joinGroup','readreceipts','Erro\x20ao\x20editar\x20o\x20bloco:\x20','The\x20\x22','replace','\x20contacts','--standalone','/wa-message-update','stopMinutesMaxActives','getClient','):\x20enviado\x20para\x20[','\x5cd+','https://uazapi-plugin.bubbleapps.io/','\x20\x1b[0m','enabled','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','allFlows','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','nome','createConnection','envYaml','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','):\x20newSecondValue\x20aps\x20replaceVariables:','groupSetting','text/event-stream','getOwnPropertyDescriptor','params','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','ERROR','bodyStringErrorParse','contains','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','truncatedto','ENABLED','updateChatGroupData','\x20chats\x20de\x20','createConversationforgoToFlow','dark','createWebhook','cleaningUp','restrict','toggleEphemeral','view\x20engine','editedMessage','removed','hGetAll','.ogv','bodyString','unavailable','sendReaction','#fe9dfe','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','pino','stickerMessage','Erro\x20inesperado\x20em\x20processvaredits:\x20','updateMissingEtiquetas','remove','):\x20alterando\x20this.AutomateSystem','\x20quoted:\x20','Module\x20-\x20ON','qrCode','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','groupJid','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','getAutomateSystem','Falha\x20aps\x20vrias\x20tentativas.','\x20no\x20encontrado\x20para\x20cpia','last_update','keys','No\x20respondeu\x20com\x20a\x20enquete.','ip:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','getFlow','Flow\x20iniciado\x20com\x20','messageTimestamp','Not\x20allowed\x20by\x20CORS','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','replyOption','instanceName','group-participants.update:','utf-8','all','$set','createAndSave','join','contacts.upsert','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Entrou\x20na\x20funo\x20goToFlow','autoCompleteMessages','):\x20expirationTime:\x20','\x20foi\x20interrompido\x20pelo\x20usurio.','Nmero:\x20','color','variable','CORS','groupAcceptInvite','replaceVariablesInObject','instancias:\x20','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','-instances','pollCreationMessage','SSL_CONF_PRIVKEY','Primeiro\x20Valor:\x20','includes','audio','#56ccb4','https://api.ipify.org?format=json','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','https://uazapi-plugin.bubbleapps.io/?url=','maxActives','isBusiness','newValue','MessageModel','\x1b[37m','content','viewOnceMessageV2','ms\x20(Attempt\x20','approve','setting','RemoveChatLabel','AutomateSystem','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','authState','CONNECTION_UPDATE','findConversation','updateMany','pollOnReplyDelete','limit','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','fetchChats','defineProperty','readMessage','Rtulo\x20atualizado:','pollErrorMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','buttonId','CONNECTION','contactMessage','flowConfig','REDIS','findAll','ObjectId','map','success','modifiedCount','userDevicesCache','8213346OEGUuy','processConditions','createServer','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','editFlowReply','put','connectToWhatsapp','SINGLE_SELECT','collections','blockId','ScheduleMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','random','/media','fetchProfilePicture','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','webhookMap','scheduleNextCheck','):\x20Editando\x20edio\x20do\x20fluxo...','instanceInfo','function','addresss','The\x20property\x20cannot\x20be\x20empty','cpf','\x0aFN:','API_KEY','\x1b[1m','ContactModel','):\x20No\x20achou\x20nenhum\x20flow','groupName','base64','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','InstancesAlterarTodas','options','connectionState','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','://','stopConversation','Type\x20defined\x20as\x20audio','verifyWhatsAppNumber','findByIdAndDelete','/wa-presence','/media/','tags','recebido\x20de','profilePicture','sendMessage','isJidUser','\x1b[34m','off','/wa-qrcode','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','document','announcement','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','<subdomain>','boolean','env.KEY\x20!==\x20key','remoteJidsRemaining','muteEndTime','convertaudioMP3','HeaderType','isCommunity','request\x20received\x20in\x20editFlow','long','):\x20Conversa\x20inserida\x20com\x20sucesso.','unlinkSync','https-proxy-agent','scheduled','Validate','Erro\x20do\x20Certbot:\x20','groupFetchAllParticipating','checkAndRestartProcess','listResponseMessage','writeFileSync','LOG_COLOR','findChats','updateMissingCustomFields','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','node-cache','host','):\x20Criando\x20nova\x20conversa[createNewConversation]','changeVariables','fileName','longitude','\x22\x20-\x20REMOVED','\x0a*Voc\x20respondeu*:\x0a','$dbName','CHATS_UPDATE','upsertedCount','data','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20atualizar\x20o\x20flow.','email','groupMetadata','automateSystem','process','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Chat\x20com\x20ID\x20','.xlsx','leadInfo','audioWhatsapp','content-type','where','Falha\x20ao\x20processar\x20fetchBusinessProfile','fullName','\x20-\x20retornado:\x20','):\x20Criando\x20fluxo\x20regular...','deleted','inviteCodeDetails','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','sharePass','equal','chatHandle','ex:\x20\x22groupJid=120362@g.us\x22','formatBRNumber','_activedCount','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','\x1b[0m','arraybuffer','@broadcast','flush','CORS_CREDENTIALS','./.git/config','video-cover.png','instanceKeys','findGroupInfo','saveVariable','copy','@g.us','hasOwnProperty','redisEnv','updateGParticipant','Hash\x20to\x20image\x20name:\x20','deleteBlock','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','instance','sendList','desativadoFluxoAte','delaySecMax','writeFile','processing_id','Deletion\x20failed','Valor\x20de\x20find\x20ou\x20replace\x20ausente','JWT','storePath','Erro\x20ao\x20tentar\x20updateCustomFields','crypto','findFlow','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','editConversation',':\x20no\x20h\x20IP\x20salvo,\x20ou\x20est\x20invlido,\x20selecionando\x20um\x20IP\x20aleatrio.','fone','ephemeralExpiration','creds.update','createSectionsFromValues','isArray','):\x20Enviando\x20mdia','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x20e\x20ID=','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','Tentando\x20reconectar...','Erro\x20ao\x20editar\x20a\x20conversa','qrcode','processawaitSeconds','set','parseInt','command','object','Missing\x20global\x20api\x20key','request_method','Erro\x20ao\x20arquivar\x20chat','Erro\x20ao\x20buscar\x20o\x20fluxo','update','updateProfilePicture','inner','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','toArray','findGroupInfos','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','STORE_CONTACTS','default','Invalid\x20format','\x20Tentativa\x20de\x20reconexo\x20','everyOne','):\x20transformedCustomFieldVariables','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','next_groupId','):\x20Buscando\x20flow...','find','updateAutoCompleteMessages','sendButtons','Message\x20not\x20found','):\x20conversation.status:\x20','updateCustomFields','logger','\x1b[36m','groups.upsert','\x20segundos','copyDataToNewModel','Instncia:\x20','FlattenObject\x20result:','Type\x20is\x20required','_Messages','method','createInstance','Instance\x20restarted','authentication','validate','newStoppedUntil','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Erro\x20ao\x20importar\x20chats','g-t','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','charAt','\x20tentativas:\x20remotejid=','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','synchronizeFlows','CORS_METHODS','?authSource=admin&readPreference=primary&directConnection=true','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','7lHlTQb','locked','sendStatus','headerString','when','menuMessage','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','including\x20timestamp\x20in\x20url:\x20','getConversation','getAllData','fetchMessages','resetReconnectionVariables','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','\x20inseridas\x20no\x20banco\x20de\x20dados...',':\x20IP\x20configurado:\x20','\x1b[46m','LabelModel','AUTHENTICATION_JWT_EXPIRIN_IN','Mac\x20OS','):\x20atualizao\x20chat:\x20','Falta\x20informao\x20para\x20a\x20chamada\x20API','secondValue','request\x20received\x20in\x20updateAutoCompleteMessages','readdirSync','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','no.connection','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','waitingMenu_id','isAdmin','verbose','blocks','profile','findByIdAndUpdate','):\x20Entrou\x20na\x20funo\x20processawaitSeconds','fetchBusinessProfile','findOne','cachedData-whatsapp','connect','conditions','Converted\x20image\x20deleted','Processing\x20audio','.jpg','):\x20Limpando\x20AutomateSystem','VERBOSE','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','Erro\x20ao\x20remover\x20instncias\x20antigas:','Selecione','format','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','sendCommand','utf8','Erro\x20ao\x20alterar\x20fluxo','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','.mp3',',\x20Novo\x20tamanho:\x20','updateStopChat','mentioned','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','repeat','copyBlock','updatePrivacySettings','textMessage','slice','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20','empty','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','lastUpdate','Telefone:\x20','isConnected','interval\x20no\x20\x20um\x20nmero','basename','getVariablesChat','remote\x20\x22origin\x22','delayChatLabel_MAX_RETRIES','role','port','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','temp-','Image\x20created','data:\x20','firstValue','):\x20Ignoring\x20group\x20messages.','updateProfilePicturePrivacy','exists','groupLeave','):\x20Deletando\x20fluxo...','):\x20Entrou\x20na\x20funo\x20clearVariables','findById','DATABASE_CONNECTION_PASSWORD','.doc','result','Image\x20is\x20base64','#ffffff','notEqual','KEY','state','Error\x20parsing\x20JSON:','markMessageAsRead','header','round','descOwner','Archiving\x20chat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erro\x20ao\x20editar\x20o\x20chat','pollCreationMessageKey','MESSAGES_UPSERT','exit','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','label_jid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','uazapiSendMedia','formatStatusMessage','#9ba6ff','rows','organization','request\x20received\x20in\x20getFlow','removeOlderDisconnectedInstances','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','floor','-whatsapp-api','/instance/create','DATABASE','express','):\x20Conversa\x20est\x20expirada\x20-\x20voto','DD/MM\x20HH:mm:ss','error','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','etiquetas','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','DaysToDelete','processblock','detail','local_map','response','fetchLabels','imgUrl','.type','Flow\x20no\x20encontrado','Erro\x20ao\x20normalizar\x20a\x20mensagem:','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','readMessageBot','EMAIL:','getLabelModelForOwner','start','deleteMessage','CORS_ORIGIN','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','findIndex','CacheContacts\x20database\x20connection\x20closed.','COLOR',',\x20resultado:\x20','.webm','ButtonsMessage','DELIVERY_ACK','decryptPollVote','CREDENTIALS','sending','logout','1032472CJCRFY','groups.upsert:','apiResponse','fetchProfile','getflow','2786694WrRsoa',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20',',\x20valor\x20passado:\x20\x22','DB_PREFIX_NAME','audio/ogg','name','configService','findOneAndUpdate','Resultado\x20da\x20atualizao:','hSet','error\x20get\x20vote','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','deleteMany','noConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','sendMessageWithTyping','):\x20Conversa\x20est\x20expirada','SERVER','eventEmitter','lastCondition','deleteInstance','execSync','apply','oldToken','):\x20Query\x20params:','):\x20isVote:\x20','varedits','This\x20name\x20','statusCode','TYPE','Temp\x20image\x20deleted','.gif','eventemitter2','messagesSend','contentText','express-async-errors','.svg','substring','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','):\x20Editando\x20varivel\x20do\x20fluxo...','findWebhook','Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:','owner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','updateLastSeenPrivacy','test','/group','\x20minutos...','Getting\x20image\x20from\x20url','Fluxo\x20no\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','defineAuthState','all_member_add','videoMessage','Error\x20in\x20chatModify\x20for\x20number\x20','.url','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','):\x20Query\x20params:\x20','#64c4ff','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Label\x20','CHATS_DELETE','query','sendMedia','binary','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','sections','documentMessage','Message','dbInstance','\x1b[31m%s\x1b[0m','\x22,\x20valor\x20a\x20substituir:\x20\x22','removeChatLabel','findAndReplace','.jwt','O\x20nome\x20do\x20fluxo\x20\x20obrigatrio','send','imagechat','createSharedFlow','\x5c$&','Instance\x20\x22','readMessages',',\x20saindo.','/clients-info','https://api.openai.com/v1/audio/speech','findAndReplaceRegex','stringify','_error','last','sendLocation','customFields','mediatype','):\x20Enviando\x20enquete','groups','request_time','contacts.update','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','initAuthCreds','Erro\x20ao\x20tentar\x20autoCompleteMessages','SEND_MESSAGE','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','webhookService','Esse\x20fluxo\x20expirou','findParticipants','public','getChatModelForOwner','DATABASE_ENABLED','#ff9484','authModel','throwAndLogError','MESSAGES_UPDATE','createRegularFlow','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','updateMissingShareOwners','responsavelid','Erro\x20ao\x20adicionar\x20label\x20','unlocked','updateReplyOption','indexOf','mediaMessage','.mp4','editOperator','notContains','contactHandle','updateParticipant','reviver','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','NO_IP','messageStubType','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','reconnectAttempts','isBase64','replaceVariablesChat','}}\x20->\x20valor\x20no\x20encontrado','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','uncaughtException','buttons','media','updateBlock','allContacts','Connection\x20closed\x20for\x20instance:\x20','GUARD','messaging-history.set','/wa-all-message','dropCollection','_activatedCount','goNextblock','delaySecMin','lastReceivedMessage','font','isInteger','labels.association','\x20:\x20','PRIVKEY','pairingCode','AddChatLabel','ORG:','lastSendMessage','buffer','upsertChats','fromMe','request\x20received\x20in\x20fetchConversation','pictureUrl','updateGroupPicture','string','processPollUpdateMessage','jsonschema','hbs','):\x20Limpando\x20delayMessage','/webhook','request\x20received\x20in\x20allFlows','messageId','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','optionName','STORE_CLEANING_TERMINAL','presence.update','toLowerCase','groupJoinApprovalMode','Error\x20updating\x20cache\x20contact:','Schema','importChatsBatch','request\x20received\x20in\x20deleteFlow','linkPreview','addChatLabel','redirect','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','@newsletter','GROUPS_UPDATE','split','):\x20Procurando\x20mensagens\x20para\x20envio','delayMessage','createClient','groupId','image','footerText','buttonMessage','editScheduleMessage','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','findAndUpdateCacheContact','reject','warn','generateHash','uazapiSendMenu','deleteOne','delete','getMIMEType','participants','description','delAll','findManyByIds','Subscribed\x20Events:','value','):\x20newFirstValue\x20aps\x20replaceVariables:','\x20de\x20conectar\x20com\x20IP\x20extra.','encoding','#6f7bcf','):\x20Bloco\x20original\x20para\x20cpia:\x20','insert','trim','group','mediaKey','groupDesc','vote','subject','activatedCount','certonly','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','gifPlayback','remoteJid','messageSecret','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','buttonText','Mensagens\x20deletadas\x20com\x20sucesso.','setHeader','parse','ignoreGroups','url','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','scheduleMessage','call','QRCODE_UPDATED','flushHeaders','lean','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','messageHandle','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','uazapiSendContact','editFlowVaredit','done','blockLogs','Erro\x20ao\x20iniciar\x20fluxo:\x20','\x1b[32m','updateOnlinePrivacy','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','http://ipecho.net/plain','Error\x20updating\x20message\x20status:','):\x20Fluxos\x20no\x20esto\x20ativados','mongoose','displayName','editFlow','WA\x20MODULE','latitude','processvaredits','body','\x20-y','!cmd_','):\x20conversation.waitingMenu_name','bateu\x20events','webhookModel','localWebhook','CONTACTS_UPSERT','SERVER_PORT','Image\x20converted\x20to\x20WebP','/wa-groups','creation','Instance\x20ID:','GROUPS_UPSERT','expression','archived','eventHandler',',\x20Comparador:\x20','isJWT','request\x20received\x20in\x20updateFlowConfig','getScheduleMessageModelForOwner','\x1b[42m','\x1b[1m\x1b[37m','request\x20body:\x20','events','flowName','/instance/connectionState','nextBlock:','match','#d8e651','https','Erro\x20ao\x20copiar\x20o\x20documento','convertToWebP','stopMinutes','match_last_seen','getDevice','Instance\x20logged\x20out','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','digest','\x1b[33m\x1b[1m','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Iniciando\x20bot...','getContentType','fetchInstances','createNewConversation','):\x20nextBlock.uazapi.name','insertMany','updateMissingTags','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','770504misxwk','pop','post','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','chat','\x22\x20cannot\x20be\x20empty','locationMessage','$pull','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','emit','imageMessage','stderr','fetchPrivacySettings','EXPIRIN_IN','groupGetInviteInfo','entries','apiName','sendMenu','AutomateFunctions','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','1992555VtAPXc','/config','joinApprovalMode','processConditionsTest','getMessageModelForOwner','The\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','sticker','http://checkip.dyndns.org','Converting\x20image\x20to\x20WebP\x20to\x20sticker','certbot','E-mail:\x20','http://myexternalip.com/raw','pollCreationMessageV3','atendimentoAberto','extractRegex','contact_blacklist','https://chat.whatsapp.com/','composing','getDelay','status.instance','http://icanhazip.com/','URL','Data\x20invlida\x20fornecida','\x20minutos','^\x5cd+','convertedOptions','onTime','STORE','Audio\x20converted\x20and\x20stored\x20in\x20cache','varedit','isCommunityAnnounce','API\x20Key\x20invlida.','../env.yml','ListType','reorderBlocks','namespace','proto','findContacts','application/json','Group\x20not\x20found','replaceValue','errors','audioMessage','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','updateGroupParticipantsWebhook','fetchLatestBaileysVersion','deleteReplyOption','sendDataWebhook','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','sleep','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','jsonwebtoken','created','getProfileName','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','importChats','convert','groupUpdateSubject','senderKeyDistributionMessage','listMessage','revokeInviteCode','username','\x1b[43m','/wa-connection-update','deleteConversation','findGroup','flattenObject','Erro\x20de\x20reinicializao:\x20','groups.update','realVariables','reorderReplyOptions','promote','messages',',\x20Minutes\x20to\x20Close:\x20','):\x20Enviando\x20udio','groupParticipantsUpdate','pre','title','42975iLWaEm','conversationTimestamp','send.message','waInstances','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','announce','CHATS_UPSERT','getScheduleMessage','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','undefined','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','error_log','contextInfo','BufferJSON','.webp','beforeExit','2418472qZNHyA','fetchContacts','folder','upperCase','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','sendSticker','text','code','/wa-contacts','replaceVariablesInReplyOptions','available','debug','toDataURL','DATABASE_CONNECTION_DB_PREFIX_NAME','.\x20Pulando.','endSession','minutesToClose','6RWxYhK','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x1b[40m','write','$addToSet','statusMessage','readFileSync','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','chats.delete','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','.wav','Grupo\x20','client','/wa-message','hex','CLEANING_INTERVAL','g.us','static','Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:','saveChatVariables','AUTHENTICATION_JWT_SECRET','archiveChat','evaluateConditionTest','Bad\x20Request','downloadMediaMessage','segundos','uazapiDeleteMessage','authService','uazapi','@s.whatsapp.net','waitingForReplyMenu','delayChatLabel','ids','mentions','updateProfileStatus',',\x20qrcodeCount:\x20','createHash','sendContact','bulkWrite',',\x20lastCondition:\x20','Contacts\x20not\x20found','ephemeralDuration','webp','Erro\x20ao\x20aplicar\x20varedit:\x20','drop','Rtulo\x20deletado:','generateWAMessageFromContent','end','unreadCount','Nenhum\x20chat\x20encontrado\x20para\x20editar.','updateAgent','mediaSticker','choices','instanceCount','sendText','/:instanceName','uazapiSendLocation','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','getBase64FromMediaMessage','auth','messages.upsert','routerPath','\x1b[33m','sendAudio','website','create','groups.update:','groupToggleEphemeral',':\x20Tentativa\x20','HttpsProxyAgent','leadInfo.desativadoFluxoAte','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','.extension','replyOptions','Cannot\x20','prototype','!stop','paused','archive','viewOnceMessage','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','delay','\x20adicionado\x20ao\x20chat\x20','model','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','@redis/client','createFlow','cacheContactModel','contactsArrayMessage','Db\x20Connection','axios','notas','Router','views','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','Image\x20path:\x20','delayChatLabel_RETRY_DELAY_MS','protocolMessage','Sending\x20audio\x20whatsapp','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','):\x20Criando\x20fluxo\x20compartilhado...','isListOfNumbers','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','prefixCommand','--agree-tos','chats.upsert','variables','cors','processgoToFlow','agents','.ogg','Read\x20messages','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc','existsSync','deleteChat','subdomain','class-validator','request\x20received\x20in\x20deleteConversation','):\x20Entrou\x20na\x20funo\x20saveReply','connectionUpdate','request\x20received\x20in\x20updateAgent','max','\x0aitem','pt-BR','ConversationModel','StartBot','user','sendPresenceUpdate','flowActive','BRL','Enter\x20a\x20value\x20in\x20milliseconds','mongodb','groupValidate','item','PASSWORD','):\x20Going\x20to\x20','findMessages','nomecompleto','loadInstance','\x1b[37m%s\x1b[0m','getOwnPropertyNames','https://jsonip.com','descId','READ','MESSAGES_SET','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','cleanStore','close','Error\x20fetching\x20group','admin','sharp','Nenhum\x20participante\x20vlido\x20encontrado.','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','prepareWAMessageMedia','LICENSE_INVALID','not\x20loaded','subjectTime','SSL_CONF','ListMessage','normalizeMessage','setContext','release','AutomateSystem\x20no\x20foi\x20inicializado','menuIgnoreNonVotes','valid','number','urlencoded','insertCount','lastSend','qrcode.updated','urlOrBase64','updateConversation','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','audio/ogg;\x20codecs=opus','):\x20Erro\x20durante\x20a\x20atualizao:\x20','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','min','instance.','originalUrl','):\x20','):\x20Error\x20processing\x20the\x20block:\x20','closeExistingConversations','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Error\x20fetching\x20and\x20updating\x20profile:\x20','save','PLAYED','updateMediaMessage','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','silent','pushName','scheduleSendMedia','toBRL','updateProfileName','8080','uuid','\x20instance\x20does\x20not\x20exist','FlowRouter','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','filter','waitingMenu_text',',\x20Segundo\x20Valor:\x20','ultimaTentativaRemoteJid','NextBlock','REDIS_ENABLED','src','pollMessage','processclearVariables','Erro\x20ao\x20remover\x20label\x20','.png','):\x20Conversas\x20encontradas:','use','protocol','createJid','cacheContact','):\x20[messages.upsert]\x20group\x20ignored','unknown\x20operation\x20type\x20[','Output\x20path:\x20','stopWhenYouSendMsg','json','sendWhatsAppAudio','env.yml','stdout','.ppt','addBlock','birthtime','context',',\x20far\x20nova\x20verificao\x20em\x20','Authentication\x20error','not_announcement','quoted','request\x20received\x20in\x20scheduleMessage','Audio\x20processed','variablesToObject','INFO','Mensagem\x20no\x20suportada','flowIgnoreGroups','\x20inseridos\x20no\x20banco\x20de\x20dados...','editChat','flowStopConversation','forEach','lastDisconnect','Erro\x20ao\x20atualizar\x20AutomateSystem:','waitingMenu_replyOptions','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','flow','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','oldValue','CONTACTS_SET','recording','50mb','editflowcondition','getBusinessProfile','action','Fetching\x20business\x20profile','verify','abs','getMinutes',',\x20pairCode:\x20','hGet','URL:','PRESENCE_UPDATE','padEnd','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','contact','deleteMessageForEveryone','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','console','apikey','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','):\x20[ERROR]:\x20No\x20foi\x20possvel\x20recuperar\x20mensagem\x20de\x20remotejid=','SERVER_URL','order','creds.json','addReplyOption','updateOne','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','dbClient','connectionStatus',':\x20IP\x20falhou.\x20Tentando\x20o\x20prximo...','Not\x20Found','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Reinicializao\x20iniciada:\x20','replaceVariables','Instncia\x20no\x20encontrada.','dbConnection','leadInfo.','app-state-sync-key','PROXY','env','and','cachedContacts-whatsapp','groupadd','application/octet-stream','):\x20Buscando\x20conversas...','clearVariables','SERVER_ACK','errorLog','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','load','):\x20Alterando\x20fluxo...','updateAll','messageContextInfo','Deleted\x20','):\x20Editando\x20condio\x20do\x20fluxo...','optionDescription','removeProfilePicture','toLocaleString','_Chats','output','Type\x20not\x20found','\x20attempts.','Bloco\x20com\x20ID\x20','\x20-i\x20','from','ini','PENDING','replaceOne','#9568cf','labels.edit','ON\x20-\x20dbName:\x20','\x22,\x20porm\x20no\x20foi\x20possvel\x20descriptograf-la,\x20sendo\x20impossvel\x20ver\x20seu\x20contedo.','open','/automate','getMessage','processUazapi','\x20->\x20NO\x20CORRESPONDE.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Pausado\x20por\x20','normalizeMessageContent','trimmed','):\x20mediaMessageInfoId\x20:\x20','\x20minutos.\x20Ser\x20s\x20','GROUP_PARTICIPANTS_UPDATE','groupMemberAddMode','Operador:\x20\x22','key','refused','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','setRestartTimeout','jid','unreadcount','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','/create','Rtulo\x20invlido\x20ou\x20sem\x20ID.','allflows','vcard','\x20mensagens\x20de\x20','stateConnection','chatId','Varivel\x20no\x20encontrada!','Instance\x20deleted','OrAnd','Safari','removeInstance','createGroup','lastFetchAwaitingApproval','.error','/events','groupdata','/instance/delete','shift','SECRET','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','child_process','groupHandler','Erro\x20ao\x20sincronizar\x20fluxos:\x20','app','notMatchRegex','mkdirSync','inviteUrl','):\x20Buscando\x20todos\x20os\x20fluxos...','connection.update','FULLCHAIN','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','Erro\x20ao\x20buscar\x20Schedule\x20Messages','lastMessage','setWebhook','USER','messageType','node-mime-types','inviteCode','splice','Erro\x20ao\x20deletar\x20mensagens:','editFlowGroup','dataValidate','https://github.com/uazapi/uazapi.git','HH:mm:ss','):\x20Usando\x20extenso\x20padro:\x20','\x20com\x20sucesso.','count','add','message_normalized','lastBlockId','updatePresence','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','LOG','list','Not\x20is\x20business\x20profile','path','contacts','\x22\x20not\x20found','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','messages.update','Erro\x20ao\x20deletar\x20chat:','^\x5cd+[\x5c.@\x5cw-]+','\x1b[47m','connectedName','PRODUCT_LIST','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','fetchConversation','SendScheduleMessage','.pdf','demote','#b4ebff','expiration','poll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','@whiskeysockets/baileys','deleteAll','createConversationforStartFlow','array','requestPairingCode','privacySettings','):\x20Enviando\x20texto','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','Erro\x20ao\x20buscar\x20a\x20conversa','#83e421','message','):\x20Bloco\x20copiado:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','dbServer','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','fromObject','Forbidden','Delete\x20chat','Cached\x20audio\x20found,\x20returning\x20existing\x20file','request\x20received\x20in\x20createFlow','toNumber','currency','STATUS_INSTANCE','updateChatWithMessage','TEXT','push','some','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','deleteFlow','Falha\x20ao\x20processar\x20a\x20solicitao','Erro\x20ao\x20copiar\x20dados:','length','Certbot\x20executado\x20com\x20sucesso.','ephemeralMessage','envProcess','DEBUG','getContactModelForOwner','status','*\x0a\x0a','http','uazapiSendText','caption','editflowvariable','ChatRouter',':\x20Erro\x20durante\x20loadproxy\x20-\x20','updateReadReceiptsPrivacy','updateGParticipate','spawn','Erro\x20ao\x20inserir\x20chats:','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','timeout','getTicketSystem','getPrototypeOf'];a0_0x1ecd=function(){return _0x1181e0;};return a0_0x1ecd();}var k=O(require('fs')),jt=require(a0_0x4087be(0x4b6)),Lt=O(require(a0_0x4087be(0x48a))),Ft=require(a0_0x4087be(0xf2)),Ti=a0_0x4087be(0x31b)[a0_0x4087be(0x30f)](),_t=Ti[a0_0x4087be(0x2f1)]('\x0a')['map'](_0x363f7e=>{const _0x4dd65c=a0_0x4087be;let _0xe1972c=_0x363f7e[_0x4dd65c(0x2f1)](':'),_0x27dd5f={'host':_0xe1972c[0x0],'port':_0xe1972c[0x1],'protocol':'http'};return _0xe1972c[_0x4dd65c(0x5b5)]===0x4&&(_0x27dd5f['username']=_0xe1972c[0x2],_0x27dd5f['password']=_0xe1972c[0x3]),_0x27dd5f;});function vr(_0xb34523){const _0xfe269b=a0_0x4087be;return _t[_0xfe269b(0x16d)](_0xe079ac=>_0xe079ac[_0xfe269b(0xff)]===_0xb34523)||null;}function Nr(){const _0x11c415=a0_0x4087be;if(_t['length']===0x0)return null;let _0x57f032=Math[_0x11c415(0x206)](Math[_0x11c415(0xba)]()*_t[_0x11c415(0x5b5)]);return _t[_0x57f032];}function Os(_0x3f315c){const _0xbf0c3=a0_0x4087be;let _0x1f660c=_0x4408be=>typeof _0x4408be=='string'&&_0x4408be[_0xbf0c3(0x5b5)]>0x0,_0x290bc0=_0x1fe554=>{let _0x2be56a=parseInt(_0x1fe554,0xa);return!isNaN(_0x2be56a)&&_0x2be56a>0x0&&_0x2be56a<=0xffff;},_0x2e6b97=_0x200770=>typeof _0x200770==_0xbf0c3(0x2d9)&&_0x200770[_0xbf0c3(0x5b5)]>0x0;return _0x3f315c&&_0x1f660c(_0x3f315c[_0xbf0c3(0xff)])&&_0x290bc0(_0x3f315c['port'])&&(!_0x3f315c[_0xbf0c3(0x3c1)]||_0x2e6b97(_0x3f315c[_0xbf0c3(0x3c1)]))&&(!_0x3f315c[_0xbf0c3(0x62c)]||_0x2e6b97(_0x3f315c['password']))&&(_0x3f315c[_0xbf0c3(0x4c7)]===_0xbf0c3(0x5bd)||_0x3f315c['protocol']===_0xbf0c3(0x35a));}var Jt=require(a0_0x4087be(0x142)),Ds=a0_0x4087be(0x554),Ir,le=null,Rr=null,et=null,Oi=0x3,Ai=null;async function $i(){const _0x18c3bb=a0_0x4087be;let _0x264b52=await be[_0x18c3bb(0x1b0)]();le=_0x264b52?.['WebhookGlobal']??null,Ai=_0x264b52?.[_0x18c3bb(0x211)]??null,Ds=_0x264b52?.[_0x18c3bb(0x67e)]??_0x18c3bb(0x554),Ir=_0x264b52?.[_0x18c3bb(0x58b)]??_s??_0x18c3bb(0x410),console[_0x18c3bb(0x603)](_0x18c3bb(0x5f6)),console['log'](_0x264b52);}async function Ii(){await $i();}function a0_0x1cc1(_0x51ddd2,_0x5bf871){const _0x1ecddb=a0_0x1ecd();return a0_0x1cc1=function(_0x1cc121,_0x595ca8){_0x1cc121=_0x1cc121-0x74;let _0x306241=_0x1ecddb[_0x1cc121];return _0x306241;},a0_0x1cc1(_0x51ddd2,_0x5bf871);}Ii();var Tr={},ae={},Se=class c{constructor(_0x1c4214,_0x106f7a,_0x3e809c){const _0x419e09=a0_0x4087be;this[_0x419e09(0x23b)]=_0x1c4214,this[_0x419e09(0x247)]=_0x106f7a,this['repository']=_0x3e809c,this[_0x419e09(0x94)]=null,this['logger']=new R(c['name']),this[_0x419e09(0x137)]={},this[_0x419e09(0x342)]={},this[_0x419e09(0x54f)]={'state':_0x419e09(0x487)},this[_0x419e09(0x140)]=(0x0,F[_0x419e09(0x76e)])(oe,_0x419e09(0x656)),this['msgRetryCounterCache']=new xs[(_0x419e09(0x164))](),this[_0x419e09(0xad)]=new xs[(_0x419e09(0x164))](),this[_0x419e09(0x3f1)]=!0x1,this[_0x419e09(0xbe)]={'status.instance':_0x419e09(0x3c3),'connection.update':_0x419e09(0x3c3),'qrcode.updated':_0x419e09(0xe1),'messages.upsert':_0x419e09(0x401),'send.message':'/wa-message','messages.update':_0x419e09(0x71f),'group.upsert':_0x419e09(0x346),'group.update':_0x419e09(0x346),'group-participants.update':'/wa-groups','messages.set':_0x419e09(0x2c4),'contacts.set':'/wa-contacts','contacts.upsert':_0x419e09(0x3ea),'contacts.update':'/wa-contacts','presence.update':_0x419e09(0xd8),'chats.set':'/wa-chats','chats.update':_0x419e09(0x70f),'chats.upsert':_0x419e09(0x70f),'chats.delete':'/wa-chats'},this[_0x419e09(0x2b6)]=0x0,this[_0x419e09(0x6d2)]=[],this[_0x419e09(0x671)]=0xa,this[_0x419e09(0x6f0)]=0xea60,this[_0x419e09(0x5f2)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x967fbf,_0x22b832)=>{const _0x432c9b=_0x419e09;let _0x307f35=[];for await(let _0x18d05d of _0x967fbf)_0x307f35['push']({'_id':_0x18d05d['id'],'owner':this[_0x432c9b(0x137)][_0x432c9b(0x64f)],'group':_0x18d05d['id'][_0x432c9b(0x6d3)](_0x432c9b(0x130)),'name':_0x18d05d[_0x432c9b(0x23a)]||_0x18d05d[_0x432c9b(0x337)]||null,'contactname':null,'lastmsg':_0x18d05d['conversationTimestamp']&&_0x18d05d[_0x432c9b(0x3d3)][_0x432c9b(0x5e9)]()[_0x432c9b(0x5b5)]<0xd?_0x18d05d[_0x432c9b(0x3d3)]*0x3e8:_0x18d05d[_0x432c9b(0x3d3)]||null,'archived':_0x18d05d['archived']||!0x1,'unreadcount':_0x18d05d[_0x432c9b(0x424)]||0x0,'ephemeralExpiration':_0x18d05d[_0x432c9b(0x148)]||0x0});this[_0x432c9b(0x3b1)](_0x432c9b(0x45d),_0x307f35);},'chats.update':async(_0x1269cc,_0x579842)=>{const _0x53fb51=_0x419e09;for(let _0x788c17 of _0x1269cc){let _0x176c72={'_id':_0x788c17['id'],'owner':this[_0x53fb51(0x137)][_0x53fb51(0x64f)],'archived':_0x788c17[_0x53fb51(0x34b)],'muteEndTime':_0x788c17[_0x53fb51(0xea)],'ephemeralExpiration':_0x788c17['ephemeralExpiration']},_0x5b43d=!0x1,_0x4c29f4={};_0x176c72[_0x53fb51(0x34b)]!=null&&(this[_0x53fb51(0x173)]['verbose'](this[_0x53fb51(0x768)]+'\x20('+this[_0x53fb51(0x137)]['wuid']+_0x53fb51(0x6c7)+_0x788c17['id']+_0x53fb51(0x2cd)+_0x788c17[_0x53fb51(0x34b)]),_0x5b43d=!0x0,_0x4c29f4[_0x53fb51(0x34b)]=_0x788c17[_0x53fb51(0x34b)]),'muteEndTime'in _0x788c17&&(this['logger'][_0x53fb51(0x1aa)](this['instanceName']+'\x20('+this[_0x53fb51(0x137)][_0x53fb51(0x64f)]+'):\x20teve\x20mudanas\x20chat.muteEndTime:\x20'+_0x788c17['id']+_0x53fb51(0x2cd)+(_0x788c17[_0x53fb51(0xea)]??'0')),_0x5b43d=!0x0,_0x4c29f4[_0x53fb51(0xea)]=_0x788c17[_0x53fb51(0xea)]??0x0),_0x53fb51(0x148)in _0x788c17&&(this[_0x53fb51(0x173)]['verbose'](this[_0x53fb51(0x768)]+'\x20('+this['instance'][_0x53fb51(0x64f)]+_0x53fb51(0x2fa)+_0x788c17['id']+'\x20:\x20'+(_0x788c17[_0x53fb51(0x148)]!==void 0x0?_0x788c17[_0x53fb51(0x148)]:_0x53fb51(0x3db))),_0x4c29f4[_0x53fb51(0x148)]=_0x788c17[_0x53fb51(0x148)]===null?0x0:_0x788c17['ephemeralExpiration'],_0x5b43d=!0x0);let _0x15d763;_0x5b43d&&(_0x15d763=await this[_0x53fb51(0x702)]['chat']['updateOne']({'where':{'_id':_0x788c17['id']}},_0x4c29f4,this[_0x53fb51(0x137)][_0x53fb51(0x64f)])),_0x15d763&&J(this[_0x53fb51(0x768)],_0x53fb51(0x6f1),{'chat':_0x15d763});}},'chats.delete':async _0x5de0e7=>{const _0x3f723d=_0x419e09;for(let _0x2415f9 of _0x5de0e7)if(_0x2415f9[_0x3f723d(0x6d3)]('@g.us')){await this[_0x3f723d(0x702)]['chat']['delete']({'where':{'_id':_0x2415f9}},this[_0x3f723d(0x137)]['wuid']);let _0x3461e1={'where':{'key':{'remoteJid':_0x2415f9}}};await this[_0x3f723d(0x702)][_0x3f723d(0x5a0)][_0x3f723d(0x301)](_0x3461e1,this[_0x3f723d(0x137)][_0x3f723d(0x64f)]);}else{await this[_0x3f723d(0x702)][_0x3f723d(0x371)]['updateOne']({'where':{'_id':_0x2415f9}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3f723d(0x137)]['wuid']);let _0x821a70={'where':{'key':{'remoteJid':_0x2415f9}}};await this[_0x3f723d(0x702)][_0x3f723d(0x5a0)][_0x3f723d(0x301)](_0x821a70,this[_0x3f723d(0x137)][_0x3f723d(0x64f)]);}this[_0x3f723d(0x3b1)](_0x3f723d(0x3fc),[..._0x5de0e7]);}},this['contactHandle']={'contacts.upsert':async(_0x55b700,_0x5e0315)=>{const _0x1790a5=_0x419e09;let _0x280840=await this['repository'][_0x1790a5(0x4fb)][_0x1790a5(0x16d)]({'where':{}},this[_0x1790a5(0x137)][_0x1790a5(0x64f)]),_0x54e789=[];for await(let _0x416de4 of _0x55b700)_0x280840[_0x1790a5(0x16d)](_0x3f720b=>_0x3f720b[_0x1790a5(0x652)]===_0x416de4['id'])||_0x54e789[_0x1790a5(0x5af)]({'_id':_0x416de4['id'],'pushName':_0x416de4?.['name']||_0x416de4?.[_0x1790a5(0x657)],'owner':this[_0x1790a5(0x137)]['wuid']});this[_0x1790a5(0x3b1)](_0x1790a5(0x76f),_0x54e789),await this['repository']['contact'][_0x1790a5(0x30e)](_0x54e789);},'contacts.update':async(_0x456238,_0x2dfb5b)=>{const _0x3bac6e=_0x419e09;let _0x459076=[];for await(let _0x333026 of _0x456238)_0x459076[_0x3bac6e(0x5af)]({'_id':_0x333026['id'],'pushName':_0x333026?.[_0x3bac6e(0x23a)]??_0x333026?.[_0x3bac6e(0x657)],'owner':this[_0x3bac6e(0x137)][_0x3bac6e(0x64f)]});this[_0x3bac6e(0x3b1)](_0x3bac6e(0x293),_0x459076);}},this['messageHandle']={'messaging-history.set':async({messages:_0x599d8a,chats:_0x5dfe3c,isLatest:_0x2c00b8},_0x51c525)=>{const _0x4d1f0d=_0x419e09;if(_0x2c00b8){let _0x266ba8=await Promise[_0x4d1f0d(0x76b)](_0x5dfe3c[_0x4d1f0d(0xaa)](async _0x3615f8=>({'_id':_0x3615f8['id'],'owner':this[_0x4d1f0d(0x137)][_0x4d1f0d(0x64f)],'group':_0x3615f8['id'][_0x4d1f0d(0x6d3)](_0x4d1f0d(0x130)),'name':_0x3615f8[_0x4d1f0d(0x23a)]||_0x3615f8[_0x4d1f0d(0x337)]||_0x3615f8[_0x4d1f0d(0x3c1)]||null,'contactname':null,'lastmsg':_0x3615f8['conversationTimestamp']&&_0x3615f8['conversationTimestamp'][_0x4d1f0d(0x5e9)]()[_0x4d1f0d(0x5b5)]<0xd?_0x3615f8[_0x4d1f0d(0x3d3)]*0x3e8:_0x3615f8['conversationTimestamp']||null,'archived':_0x3615f8[_0x4d1f0d(0x34b)]||!0x1,'unreadcount':_0x3615f8[_0x4d1f0d(0x424)]||0x0,'ephemeralExpiration':_0x3615f8[_0x4d1f0d(0x148)]||0x0,'muteEndTime':_0x3615f8[_0x4d1f0d(0xea)]||0x0})));this[_0x4d1f0d(0x3b1)]('chats.set',_0x266ba8),await this[_0x4d1f0d(0x2d4)](_0x266ba8,_0x51c525);}let _0x5d0b9f=[],_0x2e0a93=Date[_0x4d1f0d(0x66f)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x571c5e]of Object[_0x4d1f0d(0x37c)](_0x599d8a)){if(_0x571c5e[_0x4d1f0d(0x5a0)]?.['protocolMessage']||_0x571c5e[_0x4d1f0d(0x5a0)]?.[_0x4d1f0d(0x3be)]||!_0x571c5e[_0x4d1f0d(0x5a0)]||_0x571c5e[_0x4d1f0d(0x543)][_0x4d1f0d(0x319)]===_0x4d1f0d(0x6d9)||(Is['default'][_0x4d1f0d(0x700)](_0x571c5e?.['messageTimestamp'])&&(_0x571c5e[_0x4d1f0d(0x764)]=_0x571c5e[_0x4d1f0d(0x764)]?.[_0x4d1f0d(0x5aa)]()),_0x571c5e[_0x4d1f0d(0x764)]&&_0x571c5e[_0x4d1f0d(0x764)][_0x4d1f0d(0x5e9)]()['length']<0xd&&(_0x571c5e[_0x4d1f0d(0x764)]=_0x571c5e[_0x4d1f0d(0x764)]*0x3e8),_0x571c5e[_0x4d1f0d(0x764)]<_0x2e0a93))continue;let _0x20a3d8=(0x0,w[_0x4d1f0d(0x53c)])(_0x571c5e['message']),_0x4ebfe2=(0x0,w[_0x4d1f0d(0x366)])(_0x20a3d8),{message_normalized:_0x3717b0}=this[_0x4d1f0d(0x493)](_0x20a3d8,_0x4ebfe2,null);Object[_0x4d1f0d(0x75e)](_0x3717b0)[_0x4d1f0d(0x5b5)]>0x0&&_0x5d0b9f[_0x4d1f0d(0x5af)]({'_id':_0x571c5e['key']['id'],'key':_0x571c5e['key'],'pushName':_0x571c5e[_0x4d1f0d(0x4b1)],'participant':_0x571c5e[_0x4d1f0d(0x63e)],'message':_0x20a3d8,'messageType':_0x4ebfe2,'message_normalized':{'key':_0x571c5e[_0x4d1f0d(0x543)],'pushName':_0x571c5e[_0x4d1f0d(0x4b1)],'messageTimestamp':_0x571c5e['messageTimestamp'],..._0x3717b0},'messageTimestamp':_0x571c5e[_0x4d1f0d(0x764)],'owner':this[_0x4d1f0d(0x137)][_0x4d1f0d(0x64f)]});}_0x51c525[_0x4d1f0d(0x73a)]&&_0x5d0b9f[_0x4d1f0d(0x5b5)]>0x0&&(this[_0x4d1f0d(0x173)]['verbose'](this[_0x4d1f0d(0x768)]+'\x20('+this[_0x4d1f0d(0x137)][_0x4d1f0d(0x64f)]+_0x4d1f0d(0x4a7)+_0x5d0b9f[_0x4d1f0d(0x5b5)]+_0x4d1f0d(0x54e)+this[_0x4d1f0d(0x137)][_0x4d1f0d(0x64f)]+_0x4d1f0d(0x19a)),await this[_0x4d1f0d(0x702)][_0x4d1f0d(0x5a0)][_0x4d1f0d(0x30e)]([..._0x5d0b9f],this[_0x4d1f0d(0x137)]['wuid'])),this['sendDataWebhook'](_0x4d1f0d(0x5cf),[..._0x5d0b9f]),_0x599d8a=void 0x0;},'messages.upsert':async({messages:_0x253e22,type:_0xe2b02},_0x5ca9af)=>{const _0x1b05fe=_0x419e09;let _0x9146b9=_0x253e22[0x0],_0x193fdc=_0x9146b9[_0x1b05fe(0x543)]['id'],_0x57cf1f=_0x9146b9[_0x1b05fe(0x2b4)]===0x2,_0x54b3d8=0xb;if(this[_0x1b05fe(0x342)]?.['groups_ignore']&&_0x9146b9[_0x1b05fe(0x543)][_0x1b05fe(0x319)]['includes'](_0x1b05fe(0x130))){this[_0x1b05fe(0x173)][_0x1b05fe(0x1aa)](this['instanceName']+'\x20('+this[_0x1b05fe(0x137)][_0x1b05fe(0x64f)]+_0x1b05fe(0x4ca));return;}if(_0x57cf1f){if(ae[_0x193fdc]||(ae[_0x193fdc]=0x0),ae[_0x193fdc]++,this['logger']['error'](this[_0x1b05fe(0x768)]+'\x20('+this[_0x1b05fe(0x137)][_0x1b05fe(0x64f)]+_0x1b05fe(0x4a0)+_0x9146b9[_0x1b05fe(0x543)]['remoteJid']+_0x1b05fe(0x14e)+_0x193fdc+':\x20'+ae[_0x193fdc]+'/'+_0x54b3d8),ae[_0x193fdc]>=_0x54b3d8){this['logger'][_0x1b05fe(0x20d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1b05fe(0x501)+_0x9146b9[_0x1b05fe(0x543)][_0x1b05fe(0x319)]+_0x1b05fe(0x14e)+_0x193fdc+'.');let _0x176d7c={'key':{..._0x9146b9[_0x1b05fe(0x543)]},'message':{'conversation':_0x1b05fe(0x188)+_0x193fdc+_0x1b05fe(0x534)}};this[_0x1b05fe(0x400)]['ev'][_0x1b05fe(0x376)](_0x1b05fe(0x430),{'messages':[_0x176d7c],'type':_0x1b05fe(0x674)}),delete ae[_0x193fdc];}}else ae[_0x193fdc]&&(this[_0x1b05fe(0x173)][_0x1b05fe(0x2fd)](_0x1b05fe(0x3da)+ae[_0x193fdc]+_0x1b05fe(0x187)+_0x9146b9['key'][_0x1b05fe(0x319)]+_0x1b05fe(0x14e)+_0x193fdc),delete ae[_0x193fdc]);if(_0xe2b02!==_0x1b05fe(0x674)||!_0x9146b9?.[_0x1b05fe(0x5a0)]||_0x9146b9['message']?.[_0x1b05fe(0x455)]||_0x9146b9[_0x1b05fe(0x5a0)]['senderKeyDistributionMessage']||_0x9146b9[_0x1b05fe(0x543)]['remoteJid']===_0x1b05fe(0x6d9))return;let _0x3b7c69=null,_0x316b41=null;try{_0x3b7c69=await this[_0x1b05fe(0x2da)](_0x9146b9),_0x316b41=_0x3b7c69?_0x3b7c69[_0x1b05fe(0x76e)](','):null;}catch(_0x57ca08){this[_0x1b05fe(0x173)]['verbose'](this[_0x1b05fe(0x768)]+'\x20('+this[_0x1b05fe(0x137)]['wuid']+'):\x20'+(_0x57ca08 instanceof Error?_0x57ca08['message']:JSON[_0x1b05fe(0x28a)](_0x57ca08,null,0x2))),_0x316b41=_0x1b05fe(0x23f);}this[_0x1b05fe(0x400)]['sendPresenceUpdate'](_0x1b05fe(0x749)),Is['default']['isLong'](_0x9146b9[_0x1b05fe(0x764)])&&(_0x9146b9['messageTimestamp']=_0x9146b9[_0x1b05fe(0x764)]?.['toNumber']()),_0x9146b9[_0x1b05fe(0x764)]&&_0x9146b9[_0x1b05fe(0x764)][_0x1b05fe(0x5e9)]()[_0x1b05fe(0x5b5)]<0xd&&(_0x9146b9[_0x1b05fe(0x764)]=_0x9146b9['messageTimestamp']*0x3e8);let _0x468aa5=_0x9146b9['message'],_0x2e7a4f=(0x0,w[_0x1b05fe(0x53c)])(_0x468aa5),_0x249374=(0x0,w[_0x1b05fe(0x366)])(_0x2e7a4f),{messageContent:_0x5db985,message_normalized:_0xc3f51c}=this['normalizeMessage'](_0x2e7a4f,_0x249374,_0x316b41);_0x249374==='protocolMessage'&&_0x5db985?.[_0x1b05fe(0x744)]&&(_0x249374=_0x1b05fe(0x744));let _0x985808,_0x5b1ec8=_0x9146b9[_0x1b05fe(0x543)][_0x1b05fe(0x319)]['endsWith'](_0x1b05fe(0x130));if(_0x9146b9[_0x1b05fe(0x543)]['fromMe'])_0x985808=this[_0x1b05fe(0x137)][_0x1b05fe(0x70b)];else{let _0x5be337=_0x5b1ec8?_0x9146b9[_0x1b05fe(0x543)]['participant']:_0x9146b9[_0x1b05fe(0x543)][_0x1b05fe(0x319)];_0x985808=(await this[_0x1b05fe(0x2fb)](_0x5be337,_0x9146b9['pushName'],!0x1))['cachedContact'][_0x1b05fe(0x2d7)];}let _0xcceaea={'_id':_0x9146b9[_0x1b05fe(0x543)]['id'],'key':_0x9146b9[_0x1b05fe(0x543)],'isGroup':_0x5b1ec8,'profilePictureUrl':_0x985808,'pushName':_0x9146b9['pushName'],'message':_0x2e7a4f,'messageType':_0x249374,'message_normalized':{'key':_0x9146b9[_0x1b05fe(0x543)],'pushName':_0x9146b9[_0x1b05fe(0x4b1)],'messageTimestamp':_0x9146b9[_0x1b05fe(0x764)],'source':(0x0,w[_0x1b05fe(0x35f)])(_0x9146b9[_0x1b05fe(0x543)]['id']),..._0xc3f51c},'messageTimestamp':_0x9146b9[_0x1b05fe(0x764)],'owner':this[_0x1b05fe(0x137)][_0x1b05fe(0x64f)],'source':(0x0,w['getDevice'])(_0x9146b9[_0x1b05fe(0x543)]['id']),'expiration':_0x5db985?.['contextInfo']?.[_0x1b05fe(0x593)]||0x0};_0x5db985||(console[_0x1b05fe(0x20d)](_0x1b05fe(0x4de)),this[_0x1b05fe(0x173)][_0x1b05fe(0x20d)](_0xcceaea)),this[_0x1b05fe(0x173)][_0x1b05fe(0x603)](this[_0x1b05fe(0x768)]+'\x20('+this['instance'][_0x1b05fe(0x64f)]+_0x1b05fe(0x4a7)+(_0xcceaea[_0x1b05fe(0x543)]?.[_0x1b05fe(0x2d5)]?'enviado\x20para':_0x1b05fe(0xdb))+'\x20['+_0xcceaea[_0x1b05fe(0x543)]?.['remoteJid'][_0x1b05fe(0x71c)]('@s.whatsapp.net','')+']\x20('+_0xcceaea['messageType']+')'),_0xcceaea[_0x1b05fe(0x57b)]?.[_0x1b05fe(0x3e8)]&&this[_0x1b05fe(0x173)][_0x1b05fe(0x603)](_0x193fdc+':\x20'+_0xcceaea[_0x1b05fe(0x57b)]?.[_0x1b05fe(0x3e8)]),await this[_0x1b05fe(0x702)][_0x1b05fe(0x5a0)][_0x1b05fe(0x30e)]([_0xcceaea],this[_0x1b05fe(0x137)]['wuid']),this['sendDataWebhook'](_0x1b05fe(0x430),_0xcceaea),J(this[_0x1b05fe(0x768)],_0x1b05fe(0x3cc),{'message':_0xcceaea}),_0x9146b9[_0x1b05fe(0x543)]['remoteJid']!==_0x1b05fe(0x6d9)&&await this[_0x1b05fe(0x5ad)](_0x5ca9af,_0xcceaea,'MESSAGES_UPSERT');},'messages.update':async(_0x4ee608,_0x18959e)=>{const _0x8f3ae0=_0x419e09;let _0x37f9f7={0x0:_0x8f3ae0(0x735),0x1:_0x8f3ae0(0x52f),0x2:'SERVER_ACK',0x3:_0x8f3ae0(0x22b),0x4:'READ',0x5:_0x8f3ae0(0x4ad)};for await(let {key:_0x13b26e,update:_0x7e2c37}of _0x4ee608){if(this[_0x8f3ae0(0x342)]?.[_0x8f3ae0(0x69c)]&&_0x13b26e[_0x8f3ae0(0x319)][_0x8f3ae0(0x83)](_0x8f3ae0(0x130))){this['logger'][_0x8f3ae0(0x1aa)](this[_0x8f3ae0(0x768)]+'\x20('+this[_0x8f3ae0(0x137)][_0x8f3ae0(0x64f)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x13b26e[_0x8f3ae0(0x319)]!==_0x8f3ae0(0x6d9)){let _0xccf67=Date[_0x8f3ae0(0x66f)](),_0x358521;_0x7e2c37[_0x8f3ae0(0x5a0)]===null&&_0x7e2c37[_0x8f3ae0(0x5bb)]===void 0x0?_0x358521=_0x8f3ae0(0x6fc):_0x358521=_0x37f9f7[_0x7e2c37[_0x8f3ae0(0x5bb)]];let _0x12ea8f=_0x13b26e['remoteJid'][_0x8f3ae0(0x71c)](/:\d{1,2}@/g,'@'),_0xbf440e={..._0x13b26e,'remoteJid':_0x12ea8f,'status':_0x358521,'datetime':_0xccf67,'owner':this[_0x8f3ae0(0x137)]['wuid']};this[_0x8f3ae0(0x3b1)](_0x8f3ae0(0x587),_0xbf440e),await this[_0x8f3ae0(0x6e5)](_0x13b26e,_0xbf440e);}}},'labels.association':async({type:_0x1e4a5d,association:_0x3605ef})=>{const _0x369a07=_0x419e09;if(_0x3605ef['type']===_0x369a07(0x1fc)){let _0x132c10,_0x1bf3c3=0x0;for(;!_0x132c10&&_0x1bf3c3<this['delayChatLabel_MAX_RETRIES'];)_0x132c10=await this[_0x369a07(0x702)][_0x369a07(0x371)]['findOne']({'where':{'_id':_0x3605ef[_0x369a07(0x550)]}},this[_0x369a07(0x137)][_0x369a07(0x64f)]),_0x132c10||(_0x1bf3c3++,console[_0x369a07(0x603)]('Chat\x20'+_0x3605ef[_0x369a07(0x550)]+'\x20not\x20found,\x20retrying\x20in\x20'+this[_0x369a07(0x454)]+_0x369a07(0x90)+_0x1bf3c3+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x369a07(0x413)](this[_0x369a07(0x454)]));if(!_0x132c10){console[_0x369a07(0x20d)]('Failed\x20to\x20find\x20chat\x20'+_0x3605ef['chatId']+_0x369a07(0x709)+this['delayChatLabel_MAX_RETRIES']+_0x369a07(0x52a));return;}switch(_0x1e4a5d){case _0x369a07(0x57a):console['log'](_0x3605ef),await this['repository'][_0x369a07(0x371)][_0x369a07(0x506)]({'where':{'_id':_0x3605ef[_0x369a07(0x550)]}},{'leadInfo.etiquetas':_0x3605ef['labelId']},this[_0x369a07(0x137)][_0x369a07(0x64f)],void 0x0,_0x369a07(0x3f7));break;case'remove':console[_0x369a07(0x603)](_0x3605ef),await this[_0x369a07(0x702)][_0x369a07(0x371)][_0x369a07(0x506)]({'where':{'_id':_0x3605ef[_0x369a07(0x550)]}},{'leadInfo.etiquetas':_0x3605ef['labelId']},this['instance'][_0x369a07(0x64f)],void 0x0,_0x369a07(0x374));break;default:console['error'](_0x369a07(0x4cb)+_0x1e4a5d+']');}}},'labels.edit':async _0x2ac891=>{const _0x2ebdf1=_0x419e09;if(!_0x2ac891||!_0x2ac891['id']){console['error'](_0x2ebdf1(0x54b));return;}if(!_0x2ac891[_0x2ebdf1(0x11b)]){let _0x2383a6=[_0x2ebdf1(0x29f),_0x2ebdf1(0x26e),'#fed428',_0x2ebdf1(0x685),_0x2ebdf1(0x6f3),_0x2ebdf1(0x85),_0x2ebdf1(0x74b),'#d3a91f',_0x2ebdf1(0x30c),_0x2ebdf1(0x359),'#01d0e2',_0x2ebdf1(0x5e4),_0x2ebdf1(0x6dd),'#f64847','#00a1f2',_0x2ebdf1(0x59f),'#ffae04',_0x2ebdf1(0x592),_0x2ebdf1(0x200),_0x2ebdf1(0x531)],_0xb3b155;typeof _0x2ac891[_0x2ebdf1(0x77)]==_0x2ebdf1(0x499)&&_0x2ac891[_0x2ebdf1(0x77)]>=0x0&&_0x2ac891[_0x2ebdf1(0x77)]<_0x2383a6['length']?_0xb3b155=_0x2383a6[_0x2ac891[_0x2ebdf1(0x77)]]:(console[_0x2ebdf1(0x20d)](_0x2ebdf1(0x55e),_0x2ac891['color']),_0xb3b155=_0x2ebdf1(0x606));let _0x394782={'_id':_0x2ac891['id'],'colorHex':_0xb3b155,'color':_0x2ac891?.[_0x2ebdf1(0x77)],'name':_0x2ac891?.[_0x2ebdf1(0x23a)],'owner':this['instance']['wuid']};await this['repository'][_0x2ebdf1(0x5f7)][_0x2ebdf1(0x506)]({'where':{'_id':_0x2ac891['id']}},_0x394782,this[_0x2ebdf1(0x137)][_0x2ebdf1(0x64f)]),console[_0x2ebdf1(0x603)](_0x2ebdf1(0xa0),_0x2ac891);}_0x2ac891['deleted']&&(await this[_0x2ebdf1(0x702)][_0x2ebdf1(0x5f7)][_0x2ebdf1(0x301)]({'where':{'_id':_0x2ac891['id']}},this[_0x2ebdf1(0x137)][_0x2ebdf1(0x64f)]),console[_0x2ebdf1(0x603)](_0x2ebdf1(0x421),_0x2ac891['id']));}},this[_0x419e09(0x560)]={'groups.upsert':async _0x4b8555=>{const _0x1898da=_0x419e09;this[_0x1898da(0x342)]?.['groups_ignore']||this[_0x1898da(0x3b1)](_0x1898da(0x175),_0x4b8555),console[_0x1898da(0x603)](_0x1898da(0x231),_0x4b8555);for(let _0x417a8e of _0x4b8555)await this[_0x1898da(0x62a)](_0x417a8e);},'groups.update':async _0x2f5b04=>{const _0x80d925=_0x419e09;this['localWebhook']?.['groups_ignore']||this[_0x80d925(0x3b1)](_0x80d925(0x3c8),_0x2f5b04),console[_0x80d925(0x603)](_0x80d925(0x436),_0x2f5b04);for(let _0x54bf19 of _0x2f5b04)await this[_0x80d925(0x62a)](_0x54bf19);},'group-participants.update':async _0x18f55f=>{const _0x1805b4=_0x419e09;this[_0x1805b4(0x342)]?.[_0x1805b4(0x69c)]||this[_0x1805b4(0x3b1)](_0x1805b4(0x5f9),_0x18f55f),console[_0x1805b4(0x603)](_0x1805b4(0x769),_0x18f55f),await this[_0x1805b4(0x3ae)](_0x18f55f);}},this[_0x419e09(0x1d8)]=0x5,this[_0x419e09(0x454)]=0x1388,this[_0x419e09(0x2da)]=async _0x12dec9=>{const _0x51caaf=_0x419e09;if(_0x12dec9['message']?.['pollUpdateMessage']){let _0x414ae4=await this[_0x51caaf(0x537)](_0x12dec9[_0x51caaf(0x5a0)][_0x51caaf(0x60b)][_0x51caaf(0x1f7)],!0x0);if(_0x414ae4){let _0x5a9f43=_0x414ae4['key'][_0x51caaf(0x2d5)]?this[_0x51caaf(0x137)][_0x51caaf(0x64f)]+_0x51caaf(0x411):_0x414ae4['key'][_0x51caaf(0x63e)]||_0x414ae4['key'][_0x51caaf(0x319)],_0x58793f=_0x414ae4['key']['id'],_0x373d6b=_0x414ae4[_0x51caaf(0x5a0)],_0x615049=Buffer[_0x51caaf(0x52d)](_0x373d6b[_0x51caaf(0x521)][_0x51caaf(0x31a)]['toString'](_0x51caaf(0x402)),_0x51caaf(0x402)),_0x2fcc08=(0x0,w[_0x51caaf(0x22c)])(_0x12dec9[_0x51caaf(0x5a0)][_0x51caaf(0x60b)][_0x51caaf(0x313)],{'pollCreatorJid':_0x5a9f43,'pollMsgId':_0x58793f,'pollEncKey':_0x615049,'voterJid':_0x12dec9[_0x51caaf(0x543)][_0x51caaf(0x2d5)]?this['instance'][_0x51caaf(0x64f)]+_0x51caaf(0x411):_0x12dec9['key']['remoteJid'][_0x51caaf(0x6d3)](_0x51caaf(0x404))?_0x12dec9[_0x51caaf(0x543)][_0x51caaf(0x63e)]:_0x12dec9[_0x51caaf(0x543)][_0x51caaf(0x319)]}),_0x39968f=[],_0x430dea=_0x2fcc08['selectedOptions'][_0x51caaf(0xaa)](_0x4e7e30=>Buffer[_0x51caaf(0x52d)](_0x4e7e30)[_0x51caaf(0x5e9)](_0x51caaf(0x402)));for(let {optionName:_0x4c10e1}of _0x373d6b[_0x51caaf(0x80)]?.[_0x51caaf(0xd0)]||_0x373d6b[_0x51caaf(0x38e)]?.[_0x51caaf(0xd0)]||_0x373d6b[_0x51caaf(0x715)]?.[_0x51caaf(0xd0)])_0x430dea['indexOf']((0x0,w[_0x51caaf(0x6b5)])(Buffer[_0x51caaf(0x52d)](_0x4c10e1))[_0x51caaf(0x5e9)]('hex'))>-0x1&&_0x39968f[_0x51caaf(0x5af)](_0x4c10e1);return _0x39968f;}}return null;},this[_0x419e09(0x493)]=(_0x176baa,_0x5efd41,_0x15e5fe)=>{const _0x3631cd=_0x419e09;try{let _0x32150e=_0x176baa?(0x0,w[_0x3631cd(0x5de)])(_0x176baa)[_0x5efd41]:void 0x0,_0x2b5ee0={},_0x37c381=null,_0x8f976f=null,_0x309cca=null;_0x5efd41===_0x3631cd(0x455)&&_0x32150e?.[_0x3631cd(0x744)]&&(_0x5efd41=(0x0,w[_0x3631cd(0x366)])(_0x32150e[_0x3631cd(0x744)]),_0x37c381=_0x176baa[_0x3631cd(0x455)]['key']['id'],_0x32150e=_0x176baa['protocolMessage']['editedMessage'][_0x5efd41]),_0x176baa[_0x5efd41]?.[_0x3631cd(0x3de)]?.['stanzaId']&&_0x176baa[_0x5efd41]?.[_0x3631cd(0x3de)]?.['quotedMessage']&&(_0x8f976f=_0x176baa[_0x5efd41][_0x3631cd(0x3de)]['stanzaId']),_0x176baa['reactionMessage']&&(_0x309cca=_0x176baa['reactionMessage'][_0x3631cd(0x543)]['id']);let _0x51474b;if(_0x32150e&&typeof _0x32150e==_0x3631cd(0x157)&&_0x3631cd(0x1f7)in _0x32150e&&({pollCreationMessageKey:_0x51474b}=_0x32150e),_0x5efd41===_0x3631cd(0x80)||_0x5efd41==='pollCreationMessageV2'||_0x5efd41===_0x3631cd(0x38e)){let _0x5158f4=_0x32150e[_0x3631cd(0xd0)][_0x3631cd(0xaa)](_0x5701f9=>_0x5701f9[_0x3631cd(0x2e2)])[_0x3631cd(0x76e)]('|');_0x2b5ee0[_0x3631cd(0x39b)]=_0x5158f4;}let _0x3bcbd7='';if(_0x32150e&&(_0x3bcbd7+=_0x32150e[_0x3631cd(0x23a)]?_0x32150e[_0x3631cd(0x23a)]:'',_0x3bcbd7+=_0x32150e[_0x3631cd(0x5bf)]?'\x20'+_0x32150e[_0x3631cd(0x5bf)]:'',_0x3bcbd7+=_0x32150e[_0x3631cd(0x659)]?'\x20'+_0x32150e[_0x3631cd(0x659)]:'',_0x3bcbd7+=_0x32150e[_0x3631cd(0x337)]?'\x20'+_0x32150e['displayName']:''),_0x5efd41===_0x3631cd(0x3bf)){_0x3bcbd7=(_0x32150e[_0x3631cd(0x3d1)]||'')+'\x0a'+(_0x32150e['description']||'')+'\x0a'+(_0x32150e[_0x3631cd(0x2f7)]||'');let _0xe020cf=this[_0x3631cd(0x6fd)](_0x32150e[_0x3631cd(0x276)]);_0x2b5ee0[_0x3631cd(0x39b)]=_0xe020cf;}if(_0x5efd41===_0x3631cd(0xf8)&&(_0x15e5fe=_0x32150e['title']),_0x32150e&&_0x32150e['vcard']){let _0x5cfd2a=this[_0x3631cd(0x69f)](JSON[_0x3631cd(0x28a)](_0x32150e[_0x3631cd(0x54d)],null,0x2));_0x3bcbd7=_0x3bcbd7+'\x0a'+_0x5cfd2a;}if(_0x32150e){let {sections:_0x31986a,listType:_0x7b31f7,displayName:_0x3d177e,vcard:_0x3f9b02,contactVcard:_0x1c8451,name:_0x159fa0,caption:_0x5af11b,conversation:_0x2465f8,pollCreationMessageKey:_0x303d23,footerText:_0xae59dd,contentText:_0x35e4f3,pageCount:_0x1f3370,headerType:_0x1d5a3e,isAvatar:_0xc2976e,isAnimated:_0x480ac5,fallbackLc:_0x581052,fallbackLg:_0x2d587c,namespace:_0x26fd08,elementName:_0x53f515,localizableParams:_0xf52841,viewOnce:_0x420287,height:_0x279c48,width:_0x1e7582,key:_0x3a4966,firstScanLength:_0x14a91e,firstScanSidecar:_0x2e7723,gifPlayback:_0x444f3c,gifAttribution:_0x2d8182,midQualityFileSha256:_0x2708a2,scansSidecar:_0x25d2d4,streamingSidecar:_0x29a912,thumbnailHeight:_0x41768f,thumbnailWidth:_0x5c87c4,thumbnailEncSha256:_0xe4d52e,thumbnailDirectPath:_0x97511f,canonicalUrl:_0x21982d,matchedText:_0x4de1e5,previewType:_0x1beb59,thumbnailSha256:_0x20bc5b,deviceListMetadataVersion:_0x31f6e1,inviteLinkGroupTypeV2:_0x4960bb,interactiveAnnotations:_0x27d90b,scanLengths:_0x565f8c,jpegThumbnail:_0x4a5365,url:_0x10911e,mediaKeyTimestamp:_0x5992d0,waveform:_0x444e15,stickerSentTs:_0x180ede,firstFrameLength:_0x21ecc4,fileEncSha256:_0x3035cb,contextInfo:_0x574de4,firstFrameSidecar:_0x3d700b,directPath:_0x5f5afa,fileSha256:_0x39ff34,mediaKey:_0xf1fd98,senderTimestampMs:_0x1f7940,..._0x50eb96}=_0x32150e;(_0x5efd41===_0x3631cd(0x3bf)||_0x5efd41===_0x3631cd(0xf8))&&(delete _0x50eb96[_0x3631cd(0x3d1)],delete _0x50eb96[_0x3631cd(0x304)]),typeof _0x32150e==_0x3631cd(0x2d9)?_0x2b5ee0={'text':_0x32150e,'type':_0x5efd41||_0x3631cd(0x659),..._0x37c381&&{'edited':_0x37c381},..._0x8f976f&&{'quoted':_0x8f976f},..._0x309cca&&{'reaction':_0x309cca}}:_0x2b5ee0={'text':_0x3bcbd7,..._0x50eb96,..._0x5efd41===_0x3631cd(0x60b)?{'poll_id':_0x32150e['pollCreationMessageKey']['id'],'quoted':_0x32150e['pollCreationMessageKey']['id'],'vote':_0x15e5fe}:{},..._0x5efd41===_0x3631cd(0xf8)?{'vote':_0x15e5fe}:{},'type':_0x5efd41,..._0x37c381&&{'edited':_0x37c381},..._0x8f976f&&{'quoted':_0x8f976f},..._0x309cca&&{'reaction':_0x309cca},...(_0x5efd41===_0x3631cd(0x80)||_0x5efd41===_0x3631cd(0x715)||_0x5efd41==='pollCreationMessageV3'||_0x5efd41===_0x3631cd(0x3bf))&&{'convertedOptions':_0x2b5ee0[_0x3631cd(0x39b)]}};}return{'messageType':_0x5efd41,'messageContent':_0x32150e,'message_normalized':_0x2b5ee0};}catch(_0x421318){return console[_0x3631cd(0x20d)](_0x3631cd(0x21a),_0x421318),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x419e09(0x137)]['qrcode']={'count':0x0},this[_0x419e09(0x137)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x4087be(0x768)](_0x501135){const _0x4343ca=a0_0x4087be;if(!_0x501135){this[_0x4343ca(0x137)][_0x4343ca(0x23a)]=(0x0,Or['v4'])();return;}this[_0x4343ca(0x137)][_0x4343ca(0x23a)]=_0x501135,this[_0x4343ca(0x3b1)](_0x4343ca(0x395),{'instance':this[_0x4343ca(0x137)][_0x4343ca(0x23a)],'status':'created'});}get[a0_0x4087be(0x768)](){const _0x500c21=a0_0x4087be;return this[_0x500c21(0x137)][_0x500c21(0x23a)];}get[a0_0x4087be(0x64f)](){const _0x2251e5=a0_0x4087be;return this[_0x2251e5(0x137)][_0x2251e5(0x64f)];}async[a0_0x4087be(0x3b8)](){const _0x24a0cb=a0_0x4087be;let _0x559152=this['client'][_0x24a0cb(0x472)]?.['name']??this[_0x24a0cb(0x400)]['user']?.[_0x24a0cb(0x657)];if(!_0x559152){if(this['configService'][_0x24a0cb(0x5e6)]('DATABASE')[_0x24a0cb(0x73a)]){let _0x50c925=await T['getClient']()['db'](this[_0x24a0cb(0x23b)][_0x24a0cb(0x5e6)](_0x24a0cb(0x209))[_0x24a0cb(0xa4)][_0x24a0cb(0x238)]+'-instances')[_0x24a0cb(0x5cc)](this['instanceName'])[_0x24a0cb(0x1b0)]({'_id':_0x24a0cb(0x638)});if(_0x50c925){let _0x51e07b=JSON['parse'](JSON[_0x24a0cb(0x28a)](_0x50c925),w['BufferJSON']['reviver']);_0x559152=_0x51e07b['me']?.[_0x24a0cb(0x23a)]||_0x51e07b['me']?.[_0x24a0cb(0x657)];}}else{if((0x0,Oe[_0x24a0cb(0x465)])((0x0,F[_0x24a0cb(0x76e)])(ge,this[_0x24a0cb(0x768)],_0x24a0cb(0x504)))){let _0x2d8286=JSON[_0x24a0cb(0x31f)]((0x0,Oe[_0x24a0cb(0x3f9)])((0x0,F[_0x24a0cb(0x76e)])(ge,this['instanceName'],'creds.json'),{'encoding':_0x24a0cb(0x76a)}));_0x559152=_0x2d8286['me']?.[_0x24a0cb(0x23a)]||_0x2d8286['me']?.[_0x24a0cb(0x657)];}}}return _0x559152;}get[a0_0x4087be(0x70b)](){const _0x831244=a0_0x4087be;return this[_0x831244(0x137)][_0x831244(0x70b)];}get[a0_0x4087be(0x755)](){const _0x47c380=a0_0x4087be;return this['instance'][_0x47c380(0x152)]?.['pairingCode']?{'pairingCode':this[_0x47c380(0x137)]['qrcode']?.['pairingCode']}:{'code':this[_0x47c380(0x137)]['qrcode']?.[_0x47c380(0x3e9)],'base64':this[_0x47c380(0x137)][_0x47c380(0x152)]?.[_0x47c380(0xcc)]};}async[a0_0x4087be(0x5fd)](){const _0x3febfd=a0_0x4087be;let _0x5d90a5=await this[_0x3febfd(0x702)][_0x3febfd(0x6bd)][_0x3febfd(0x16d)](this[_0x3febfd(0x768)]);this[_0x3febfd(0x342)][_0x3febfd(0x321)]=_0x5d90a5?.[_0x3febfd(0x321)],this[_0x3febfd(0x342)]['enabled']=_0x5d90a5?.[_0x3febfd(0x726)],this[_0x3febfd(0x342)][_0x3febfd(0x214)]=_0x5d90a5?.[_0x3febfd(0x214)],this['localWebhook'][_0x3febfd(0x5ac)]=_0x5d90a5?.['STATUS_INSTANCE'],this['localWebhook'][_0x3febfd(0x325)]=_0x5d90a5?.['QRCODE_UPDATED'],this[_0x3febfd(0x342)][_0x3febfd(0x297)]=_0x5d90a5?.[_0x3febfd(0x297)],this[_0x3febfd(0x342)]['MESSAGES_UPSERT']=_0x5d90a5?.['MESSAGES_UPSERT'],this['localWebhook']['MESSAGES_UPDATE']=_0x5d90a5?.[_0x3febfd(0x2a2)],this['localWebhook'][_0x3febfd(0x349)]=_0x5d90a5?.[_0x3febfd(0x349)],this[_0x3febfd(0x342)][_0x3febfd(0x2f0)]=_0x5d90a5?.[_0x3febfd(0x2f0)],this[_0x3febfd(0x342)][_0x3febfd(0x540)]=_0x5d90a5?.[_0x3febfd(0x540)],this[_0x3febfd(0x342)][_0x3febfd(0x688)]=_0x5d90a5?.['CHATS_SET'],this['localWebhook'][_0x3febfd(0x3d8)]=_0x5d90a5?.[_0x3febfd(0x3d8)],this['localWebhook']['CHATS_UPDATE']=_0x5d90a5?.[_0x3febfd(0x107)],this['localWebhook'][_0x3febfd(0x271)]=_0x5d90a5?.['CHATS_DELETE'],this['localWebhook'][_0x3febfd(0x4eb)]=_0x5d90a5?.['CONTACTS_SET'],this[_0x3febfd(0x342)][_0x3febfd(0x343)]=_0x5d90a5?.[_0x3febfd(0x343)],this[_0x3febfd(0x342)][_0x3febfd(0x696)]=_0x5d90a5?.[_0x3febfd(0x696)],this[_0x3febfd(0x342)]['PRESENCE_UPDATE']=_0x5d90a5?.[_0x3febfd(0x4f8)],this[_0x3febfd(0x342)][_0x3febfd(0x484)]=_0x5d90a5?.['MESSAGES_SET'],this[_0x3febfd(0x342)][_0x3febfd(0x97)]=_0x5d90a5?.['CONNECTION_UPDATE'],this['localWebhook'][_0x3febfd(0x69c)]=_0x5d90a5?.['groups_ignore'];}async[a0_0x4087be(0x56c)](_0x384923){const _0x251311=a0_0x4087be;let _0x541a04=[_0x251311(0x652),_0x251311(0x321),_0x251311(0x726),_0x251311(0x214),_0x251311(0x5ac),_0x251311(0x325),_0x251311(0x2a2),_0x251311(0x1f8),'SEND_MESSAGE',_0x251311(0x349),'GROUPS_UPDATE',_0x251311(0x540),_0x251311(0x688),_0x251311(0x3d8),_0x251311(0x107),_0x251311(0x271),_0x251311(0x4eb),_0x251311(0x343),_0x251311(0x696),'PRESENCE_UPDATE','MESSAGES_SET',_0x251311(0x97),_0x251311(0x69c)],_0x28a9ab={};return _0x541a04[_0x251311(0x4e3)](_0x3f0656=>{_0x384923[_0x3f0656]!==void 0x0&&(_0x28a9ab[_0x3f0656]=_0x384923[_0x3f0656]);}),_0x28a9ab[_0x251311(0x321)]&&(_0x28a9ab[_0x251311(0x321)]=_0x28a9ab['url'][_0x251311(0x30f)]()),await this[_0x251311(0x702)]['webhook']['create'](_0x28a9ab,this['instanceName']),Object[_0x251311(0x6ba)](this[_0x251311(0x342)],_0x28a9ab),await this[_0x251311(0x702)]['webhook'][_0x251311(0x16d)](this[_0x251311(0x768)]);}async[a0_0x4087be(0x25d)](){const _0x3f77f9=a0_0x4087be;return await this['repository'][_0x3f77f9(0x6bd)][_0x3f77f9(0x16d)](this[_0x3f77f9(0x768)]);}async[a0_0x4087be(0x3b1)](_0x35b277,_0x385065){const _0x3a0dad=a0_0x4087be;let _0x191fb2=_0x35b277[_0x3a0dad(0x71c)](/[\.-]/gm,'_')[_0x3a0dad(0x703)](),_0x1def36=this[_0x3a0dad(0x342)][_0x3a0dad(0x726)]&&(0x0,_['isURL'])(this[_0x3a0dad(0x342)][_0x3a0dad(0x321)])?this[_0x3a0dad(0x342)][_0x3a0dad(0x321)]+(this['localWebhook']['local_map']?this['webhookMap'][_0x35b277]:''):null,_0x57d427=this[_0x3a0dad(0x342)][_0x191fb2],_0x314705=le&&le[_0x3a0dad(0x726)]&&(0x0,_['isURL'])(le[_0x3a0dad(0x321)])?le[_0x3a0dad(0x321)]+(le[_0x3a0dad(0x214)]?this[_0x3a0dad(0xbe)][_0x35b277]:''):null,_0x21b417=le?le[_0x191fb2]:null;if(_0x57d427&&_0x1def36)try{await K['default'][_0x3a0dad(0x435)]({'baseURL':_0x1def36})[_0x3a0dad(0x36f)]('',{'event':_0x35b277,'instance':this[_0x3a0dad(0x137)]['name'],'apikey':this['instance']['apikey'],'data':_0x385065}),this[_0x3a0dad(0x173)][_0x3a0dad(0x603)](this[_0x3a0dad(0x768)]+'\x20('+this['instance'][_0x3a0dad(0x64f)]+_0x3a0dad(0x64c)+_0x35b277+':\x20'+_0x1def36);}catch{this[_0x3a0dad(0x173)][_0x3a0dad(0x20d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x35b277+':\x20'+_0x1def36);}if(_0x21b417&&_0x314705)try{await K[_0x3a0dad(0x164)][_0x3a0dad(0x435)]({'baseURL':_0x314705})[_0x3a0dad(0x36f)]('',{'event':_0x35b277,'instance':this[_0x3a0dad(0x137)]['name'],'apikey':this['instance'][_0x3a0dad(0x4ff)],'data':_0x385065}),this[_0x3a0dad(0x173)][_0x3a0dad(0x603)](this[_0x3a0dad(0x768)]+'\x20('+this[_0x3a0dad(0x137)]['wuid']+_0x3a0dad(0x616)+_0x35b277+':\x20'+_0x314705);}catch{this[_0x3a0dad(0x173)][_0x3a0dad(0x20d)](this[_0x3a0dad(0x768)]+'\x20('+this[_0x3a0dad(0x137)][_0x3a0dad(0x64f)]+_0x3a0dad(0x3b4)+_0x35b277+':\x20'+_0x314705);}}async[a0_0x4087be(0x46b)]({qr:_0x108c46,connection:_0x42d546,lastDisconnect:_0x5d281c}){const _0x394a0e=a0_0x4087be;if(_0x108c46){if(this['instance'][_0x394a0e(0x152)]['count']===Oi)return this[_0x394a0e(0x3b1)](_0x394a0e(0x49d),{'message':_0x394a0e(0x5a2),'statusCode':w['DisconnectReason'][_0x394a0e(0x708)]}),this[_0x394a0e(0x54f)]={'state':_0x394a0e(0x544),'statusReason':w[_0x394a0e(0x625)][_0x394a0e(0x68b)]},this['sendDataWebhook'](_0x394a0e(0x567),{'instance':this['instance'][_0x394a0e(0x23a)],...this[_0x394a0e(0x54f)]}),this['sendDataWebhook'](_0x394a0e(0x395),{'instance':this['instance'][_0x394a0e(0x23a)],'status':_0x394a0e(0x745)}),this[_0x394a0e(0x702)]['auth'][_0x394a0e(0x435)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x394a0e(0x66f)]()},this[_0x394a0e(0x137)][_0x394a0e(0x23a)]),this['endSession']=!0x0,this[_0x394a0e(0x247)][_0x394a0e(0x376)](_0x394a0e(0x1a6),this[_0x394a0e(0x137)][_0x394a0e(0x23a)]);this[_0x394a0e(0x137)][_0x394a0e(0x152)][_0x394a0e(0x579)]++;let _0x2b354a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x394a0e(0x1eb),'dark':_0x394a0e(0x606)}};Ar[_0x394a0e(0x164)][_0x394a0e(0x3ee)](_0x108c46,_0x2b354a,(_0x390a0c,_0x4a7737)=>{const _0x5c323f=_0x394a0e;if(_0x390a0c){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x5c323f(0x64f)]+_0x5c323f(0x3b5)+(_0x390a0c instanceof Error?_0x390a0c[_0x5c323f(0x5a0)]:JSON[_0x5c323f(0x28a)](_0x390a0c,null,0x2)));return;}this['instance'][_0x5c323f(0x152)][_0x5c323f(0xcc)]=_0x4a7737,this['instance'][_0x5c323f(0x152)][_0x5c323f(0x3e9)]=_0x108c46,!this[_0x5c323f(0x6b6)]&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x5c323f(0x137)][_0x5c323f(0x23a)],'pairingCode':this['instance'][_0x5c323f(0x152)][_0x5c323f(0x2cf)],'code':_0x108c46,'base64':_0x4a7737}});}),this[_0x394a0e(0x6b6)]?this[_0x394a0e(0x137)][_0x394a0e(0x152)]['pairingCode']||(await(0x0,w[_0x394a0e(0x445)])(0x7d0),this[_0x394a0e(0x137)][_0x394a0e(0x152)][_0x394a0e(0x2cf)]=await this['client'][_0x394a0e(0x59a)](this[_0x394a0e(0x6b6)])):this[_0x394a0e(0x137)][_0x394a0e(0x152)][_0x394a0e(0x2cf)]=null,$r[_0x394a0e(0x164)][_0x394a0e(0x61a)](_0x108c46,{'small':!0x0},_0x521acf=>this[_0x394a0e(0x173)][_0x394a0e(0x603)]('\x0a{\x20instance:\x20'+this[_0x394a0e(0x137)][_0x394a0e(0x23a)]+_0x394a0e(0x417)+this[_0x394a0e(0x137)][_0x394a0e(0x152)][_0x394a0e(0x579)]+_0x394a0e(0x4f5)+this[_0x394a0e(0x137)][_0x394a0e(0x152)][_0x394a0e(0x2cf)]+'\x20}\x0a'+_0x521acf));}if(_0x42d546&&(this[_0x394a0e(0x54f)]={'state':_0x42d546,'statusReason':_0x5d281c?.[_0x394a0e(0x20d)]?.[_0x394a0e(0x528)]?.[_0x394a0e(0x251)]??0xc8},this['sendDataWebhook'](_0x394a0e(0x567),{'instance':this['instance'][_0x394a0e(0x23a)],...this[_0x394a0e(0x54f)]})),_0x42d546==='close'){if(this[_0x394a0e(0x2b6)]++,this[_0x394a0e(0x6d2)][_0x394a0e(0x5af)](Date['now']()),this[_0x394a0e(0x6d2)]=this[_0x394a0e(0x6d2)][_0x394a0e(0x4ba)](_0xc0169b=>Date['now']()-_0xc0169b<this[_0x394a0e(0x6f0)]),_0x5d281c[_0x394a0e(0x20d)]?.[_0x394a0e(0x528)]?.['statusCode']!==w[_0x394a0e(0x625)]['loggedOut']&&this[_0x394a0e(0x6d2)][_0x394a0e(0x5b5)]<=this[_0x394a0e(0x671)])console[_0x394a0e(0x603)](this[_0x394a0e(0x768)]+_0x394a0e(0x166)+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x394a0e(0x633)),console[_0x394a0e(0x603)](_0x394a0e(0x150)),await this[_0x394a0e(0xb4)]();else{this[_0x394a0e(0x3b1)](_0x394a0e(0x395),{'instance':this[_0x394a0e(0x137)][_0x394a0e(0x23a)],'status':_0x394a0e(0x745)}),this[_0x394a0e(0x137)][_0x394a0e(0xb8)]['isConnected']=!0x1,this['repository']['webhook'][_0x394a0e(0x301)](this['instanceName']),this[_0x394a0e(0x702)][_0x394a0e(0x42f)][_0x394a0e(0x435)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x394a0e(0x66f)]()},this[_0x394a0e(0x137)][_0x394a0e(0x23a)]);try{this['logger'][_0x394a0e(0x1aa)](this['instanceName']+'\x20('+this[_0x394a0e(0x137)][_0x394a0e(0x64f)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0xc235e4=await this[_0x394a0e(0x702)]['message'][_0x394a0e(0x597)](this[_0x394a0e(0x137)][_0x394a0e(0x64f)]);_0xc235e4[_0x394a0e(0xab)]?this[_0x394a0e(0x173)][_0x394a0e(0x1aa)](this[_0x394a0e(0x768)]+'\x20('+this[_0x394a0e(0x137)][_0x394a0e(0x64f)]+_0x394a0e(0x15f)):console['error'](_0x394a0e(0x193),_0xc235e4[_0x394a0e(0x20d)]);}catch(_0x6314f6){console[_0x394a0e(0x20d)](_0x394a0e(0x294),_0x6314f6[_0x394a0e(0x5a0)]);}this['instance']['ScheduleMessage'][_0x394a0e(0x2f3)]!==null&&(this[_0x394a0e(0x173)][_0x394a0e(0x1aa)](this[_0x394a0e(0x768)]+'\x20('+this['instance'][_0x394a0e(0x64f)]+_0x394a0e(0x2dd)),clearInterval(this[_0x394a0e(0x137)]['ScheduleMessage'][_0x394a0e(0x2f3)]),this[_0x394a0e(0x137)][_0x394a0e(0xb8)]['delayMessage']=null),this[_0x394a0e(0x173)][_0x394a0e(0x1aa)](this['instanceName']+'\x20('+this[_0x394a0e(0x137)][_0x394a0e(0x64f)]+_0x394a0e(0x1b7)),this[_0x394a0e(0x94)]=null,this[_0x394a0e(0x247)]['emit']('remove.instance',this[_0x394a0e(0x137)][_0x394a0e(0x23a)],_0x394a0e(0x15e)),this[_0x394a0e(0x400)]?.['ws']?.[_0x394a0e(0x487)](),this[_0x394a0e(0x400)][_0x394a0e(0x423)](new Error(_0x394a0e(0x676)));}}if(_0x42d546===_0x394a0e(0x535)){this[_0x394a0e(0x400)]['ev'][_0x394a0e(0x128)](),this[_0x394a0e(0x198)],this['instance'][_0x394a0e(0x64f)]=this[_0x394a0e(0x400)]['user']['id']['replace'](/:\d+/,'')[_0x394a0e(0x71c)]('@s.whatsapp.net',''),this[_0x394a0e(0x137)][_0x394a0e(0x70b)]=(await this[_0x394a0e(0xdc)](this[_0x394a0e(0x137)]['wuid']+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x394a0e(0x702)][_0x394a0e(0x42f)][_0x394a0e(0x435)]({'online':!0x0,'owner':this[_0x394a0e(0x137)][_0x394a0e(0x64f)],'lastDisconnect':null},this['instance']['name']);let _0x2c5f8c=_0x394a0e(0x76)+this[_0x394a0e(0x137)][_0x394a0e(0x64f)],_0x3022fd=0x28,_0x46a687=Math[_0x394a0e(0x206)]((_0x3022fd-_0x2c5f8c[_0x394a0e(0x5b5)])/0x2),_0x39a87b='\x20'[_0x394a0e(0x1c9)](_0x46a687),_0x4d02e8=_0x394a0e(0x677),_0x2acb7e=_0x394a0e(0x178)+this[_0x394a0e(0x137)][_0x394a0e(0x23a)],_0x4cab3f=(''+_0x39a87b+_0x2c5f8c+_0x39a87b)['padEnd'](_0x3022fd,'\x20'),_0x29a229=(''+_0x39a87b+_0x4d02e8+_0x39a87b)[_0x394a0e(0x4f9)](_0x3022fd,'\x20'),_0x4e282d=(''+_0x39a87b+_0x2acb7e+_0x39a87b)[_0x394a0e(0x4f9)](_0x3022fd,'\x20'),_0x304e3d=Math[_0x394a0e(0x46d)](_0x4cab3f[_0x394a0e(0x5b5)],_0x29a229['length'],_0x4e282d[_0x394a0e(0x5b5)]),_0x711e47=_0x4cab3f[_0x394a0e(0x4f9)](_0x304e3d,'\x20'),_0x21d07d=_0x29a229[_0x394a0e(0x4f9)](_0x304e3d,'\x20'),_0x5beb8d=_0x4e282d[_0x394a0e(0x4f9)](_0x304e3d,'\x20');this[_0x394a0e(0x173)][_0x394a0e(0x61d)]((_0x394a0e(0x1f5)+''[_0x394a0e(0x1c9)](_0x304e3d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21d07d+_0x394a0e(0x169)+_0x5beb8d+_0x394a0e(0x169)+_0x711e47+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x394a0e(0x1c9)](_0x304e3d)+'')[_0x394a0e(0x71c)](/^ +/gm,'\x20\x20')),this[_0x394a0e(0x37f)](),this[_0x394a0e(0x137)][_0x394a0e(0xb8)][_0x394a0e(0x1d3)]=!0x0;}}['resetReconnectionVariables'](){const _0x20614d=a0_0x4087be;this[_0x20614d(0x2b6)]=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x58317f,_0x2835f2=!0x1){const _0x32330f=a0_0x4087be;try{let _0x360723=await this[_0x32330f(0x702)][_0x32330f(0x5a0)]['find']({'where':{'_id':_0x58317f['id']}},this[_0x32330f(0x137)][_0x32330f(0x64f)]);return _0x2835f2?_0x360723[0x0]:_0x360723[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x4087be(0x486)](){const _0x3a2ec9=a0_0x4087be;let _0x32e26f=this['configService'][_0x3a2ec9(0x5e6)](_0x3a2ec9(0x39d)),_0x4ec559=this[_0x3a2ec9(0x23b)][_0x3a2ec9(0x5e6)](_0x3a2ec9(0x209));_0x32e26f?.[_0x3a2ec9(0x403)]&&!_0x4ec559[_0x3a2ec9(0x73a)]&&setInterval(()=>{const _0x185585=_0x3a2ec9;try{for(let [_0x40b51f,_0x5ad7da]of Object[_0x185585(0x37c)](_0x32e26f))_0x5ad7da===!0x0&&(0x0,Ae[_0x185585(0x24a)])(_0x185585(0x63b)+(0x0,F[_0x185585(0x76e)])(this[_0x185585(0x140)],_0x40b51f['toLowerCase'](),this[_0x185585(0x137)][_0x185585(0x64f)])+_0x185585(0x710));}catch{}},(_0x32e26f?.[_0x3a2ec9(0x403)]??0xe10)*0x3e8);}async[a0_0x4087be(0x267)](){const _0x201cac=a0_0x4087be;let _0xc4ec0a=this['configService'][_0x201cac(0x5e6)](_0x201cac(0x209)),_0x558056=this[_0x201cac(0x23b)][_0x201cac(0x5e6)](_0x201cac(0xa7));return _0x558056?.[_0x201cac(0x73a)]?await Ts(_0x558056,this[_0x201cac(0x137)]['name']):_0xc4ec0a[_0x201cac(0x73a)]?await Rs(this['instance'][_0x201cac(0x23a)]):await(0x0,w[_0x201cac(0x6c9)])((0x0,F[_0x201cac(0x76e)])(ge,this[_0x201cac(0x137)][_0x201cac(0x23a)]));}async['AutomateFunctions'](){const _0x4c1fc6=a0_0x4087be;let _0x5bd4ba=()=>Math['floor'](Math[_0x4c1fc6(0xba)]()*0x2711)+0x7d0,_0x1839ab=async()=>{const _0x3b07f5=_0x4c1fc6;if(!this[_0x3b07f5(0x137)][_0x3b07f5(0xb8)][_0x3b07f5(0x1d3)]){this[_0x3b07f5(0x173)][_0x3b07f5(0x1aa)]('Desconectado,\x20parando\x20execuo.'),this[_0x3b07f5(0x5f2)]=!0x1;return;}if(this[_0x3b07f5(0x137)][_0x3b07f5(0x64f)]&&this[_0x3b07f5(0x94)]&&this[_0x3b07f5(0x137)][_0x3b07f5(0xb8)]['delayMessage']!==null&&this['instance'][_0x3b07f5(0xb8)][_0x3b07f5(0x2f3)]!==void 0x0){let _0x477c05=Math['round'](this[_0x3b07f5(0x137)][_0x3b07f5(0xb8)][_0x3b07f5(0x2f3)]/0xea60);this[_0x3b07f5(0x173)][_0x3b07f5(0x1aa)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x477c05+'\x20minutos\x20verificar\x20novas\x20mensagens'),this[_0x3b07f5(0x5f2)]=!0x1;return;}else this[_0x3b07f5(0x137)][_0x3b07f5(0x64f)]&&(this[_0x3b07f5(0x173)]['verbose'](this[_0x3b07f5(0x768)]+'\x20('+this[_0x3b07f5(0x137)]['wuid']+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x3b07f5(0x94)]||(await this[_0x3b07f5(0x75a)](),this['findGroups']()),(this[_0x3b07f5(0x137)]['ScheduleMessage'][_0x3b07f5(0x2f3)]===null||this[_0x3b07f5(0x137)][_0x3b07f5(0xb8)][_0x3b07f5(0x2f3)]===void 0x0)&&await this[_0x3b07f5(0xbf)]());if(this[_0x3b07f5(0x5f2)]){let _0x31f0e8=_0x5bd4ba();this[_0x3b07f5(0x173)]['verbose'](this[_0x3b07f5(0x768)]+_0x3b07f5(0x236)+_0x31f0e8/0x3e8+_0x3b07f5(0x176)),setTimeout(_0x1839ab,_0x31f0e8);}};if(this[_0x4c1fc6(0x5f2)])return;this[_0x4c1fc6(0x5f2)]=!0x0;let _0x3b1e47=_0x5bd4ba();setTimeout(_0x1839ab,_0x3b1e47);}async[a0_0x4087be(0x629)](_0x295e19=0x0,_0x3cfbb0=!0x1){const _0x577b89=a0_0x4087be;try{let _0x5f5322=this[_0x577b89(0x23b)][_0x577b89(0x5e6)](_0x577b89(0x513));if(_0x5f5322!==0x1||typeof _0x5f5322>'u'||_0x295e19>=0x5)return this[_0x577b89(0x173)][_0x577b89(0x2fd)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this['repository'][_0x577b89(0x42f)]['create']({'ip':null},this[_0x577b89(0x137)][_0x577b89(0x23a)]),{};this[_0x577b89(0x173)]['verbose'](this[_0x577b89(0x768)]+_0x577b89(0x438)+(_0x295e19+0x1)+_0x577b89(0x30a));let _0x25fee8;if(!_0x3cfbb0){let _0x55895c=await this[_0x577b89(0x702)][_0x577b89(0x42f)][_0x577b89(0x16d)](this[_0x577b89(0x768)]);_0x55895c&&_0x55895c['ip']&&(_0x25fee8=vr(_0x55895c['ip']));}if((!_0x25fee8||!Os(_0x25fee8))&&(this[_0x577b89(0x173)][_0x577b89(0x2fd)](this[_0x577b89(0x768)]+_0x577b89(0x146)),_0x25fee8=Nr()),_0x25fee8&&Os(_0x25fee8)){let _0x2af86f=_0x25fee8[_0x577b89(0x3c1)]&&_0x25fee8[_0x577b89(0x62c)]?_0x25fee8[_0x577b89(0x4c7)]+_0x577b89(0xd3)+_0x25fee8[_0x577b89(0x3c1)]+':'+_0x25fee8[_0x577b89(0x62c)]+'@'+_0x25fee8['host']+':'+_0x25fee8[_0x577b89(0x1da)]:_0x25fee8['protocol']+_0x577b89(0xd3)+_0x25fee8[_0x577b89(0xff)]+':'+_0x25fee8[_0x577b89(0x1da)];return await this['testProxy'](_0x2af86f,_0x25fee8['host'])?(this[_0x577b89(0x173)][_0x577b89(0x1aa)](this[_0x577b89(0x768)]+':\x20IP\x20funcionando!'),this[_0x577b89(0x702)][_0x577b89(0x42f)][_0x577b89(0x435)]({'ip':_0x25fee8[_0x577b89(0xff)]},this[_0x577b89(0x137)]['name']),{'agent':new Ft[(_0x577b89(0x439))](_0x2af86f),'fetchAgent':new Ft[(_0x577b89(0x439))](_0x2af86f)}):(this[_0x577b89(0x173)][_0x577b89(0x2fd)](this[_0x577b89(0x768)]+_0x577b89(0x50a)),await(0x0,w[_0x577b89(0x445)])(0xc8),this[_0x577b89(0x629)](_0x295e19+0x1,!0x0));}else return this[_0x577b89(0x173)][_0x577b89(0x2fd)](this[_0x577b89(0x768)]+':\x20Configurao\x20do\x20IP\x20invlida.\x20Tentando\x20o\x20prximo...'),await(0x0,w[_0x577b89(0x445)])(0xc8),this[_0x577b89(0x629)](_0x295e19+0x1,!0x0);}catch(_0x3560ca){return this[_0x577b89(0x173)][_0x577b89(0x20d)](this[_0x577b89(0x768)]+_0x577b89(0x5c2)+_0x3560ca[_0x577b89(0x5a0)]),{};}}async[a0_0x4087be(0x6cd)](_0x41a3f4,_0x3aaaf6){const _0x5f4b98=a0_0x4087be;let _0x20ee1f=new Ft[(_0x5f4b98(0x439))](_0x41a3f4),_0x515e4a=0x1388,_0x523aa1=[{'url':_0x5f4b98(0x481),'parse':_0xc1699d=>_0xc1699d['ip']},{'url':_0x5f4b98(0x86),'parse':_0x6bb114=>_0x6bb114['ip']},{'url':_0x5f4b98(0x389),'parse':_0x144378=>_0x144378['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x5f4b98(0x6ac),'parse':_0x5cf354=>_0x5cf354['ip']},{'url':'http://ifconfig.me/ip','parse':_0x289cf6=>_0x289cf6[_0x5f4b98(0x30f)]()},{'url':_0x5f4b98(0x333),'parse':_0x342a9e=>_0x342a9e[_0x5f4b98(0x30f)]()},{'url':'http://ip-api.com/json','parse':_0x589e66=>_0x589e66['query']},{'url':_0x5f4b98(0x38d),'parse':_0x2c06a0=>_0x2c06a0[_0x5f4b98(0x30f)]()},{'url':_0x5f4b98(0x396),'parse':_0x5a2c1a=>_0x5a2c1a[_0x5f4b98(0x30f)]()}],_0x3e99ca=_0x523aa1[Math[_0x5f4b98(0x206)](Math['random']()*_0x523aa1['length'])];try{let _0x21f8ab=await K['default'][_0x5f4b98(0x5e6)](_0x3e99ca[_0x5f4b98(0x321)],{'httpsAgent':_0x20ee1f,'timeout':_0x515e4a}),_0x2e7715=_0x3e99ca[_0x5f4b98(0x31f)](_0x21f8ab['data']);return _0x2e7715===_0x3aaaf6?(this[_0x5f4b98(0x173)][_0x5f4b98(0x1aa)](this[_0x5f4b98(0x768)]+_0x5f4b98(0x19b)+_0x3aaaf6+_0x5f4b98(0x119)+_0x2e7715+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x5f4b98(0x173)]['error'](this[_0x5f4b98(0x768)]+_0x5f4b98(0x19b)+_0x3aaaf6+_0x5f4b98(0x119)+_0x2e7715+_0x5f4b98(0x539)),!0x1);}catch(_0x56dae7){return this[_0x5f4b98(0x173)]['error'](this[_0x5f4b98(0x768)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x3e99ca[_0x5f4b98(0x321)]+':\x20'+_0x56dae7['message']),!0x1;}}async['connectToWhatsapp'](_0x3e9701){const _0x38526b=a0_0x4087be;try{let _0x116b1f=await this['loadproxy']();this[_0x38526b(0x5fd)](),this[_0x38526b(0x137)]['apikey']=(await this[_0x38526b(0x702)][_0x38526b(0x42f)][_0x38526b(0x16d)](this['instance'][_0x38526b(0x23a)]))[_0x38526b(0x4ff)],this[_0x38526b(0x137)][_0x38526b(0x96)]=await this[_0x38526b(0x267)]();let {version:_0xc2ee07}=await(0x0,w[_0x38526b(0x3af)])(),_0x29fee3=[Ir,Ds,(0x0,$s[_0x38526b(0x495)])()],_0x3a62aa={..._0x116b1f,'auth':{'creds':this[_0x38526b(0x137)]['authState'][_0x38526b(0x1ee)]['creds'],'keys':(0x0,w[_0x38526b(0x5d5)])(this[_0x38526b(0x137)]['authState'][_0x38526b(0x1ee)][_0x38526b(0x75e)],(0x0,Pt[_0x38526b(0x164)])({'level':_0x38526b(0x20d)}))},'logger':(0x0,Pt['default'])({'level':_0x38526b(0x20d)}),'printQRInTerminal':!0x1,'browser':_0x3e9701?[_0x38526b(0x19f),Ds,(0x0,$s['release'])()]:_0x29fee3,'version':_0xc2ee07,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2dfdfd=>{const _0x1b4bac=_0x38526b;let _0x3a5b9c=_0x2dfdfd[_0x1b4bac(0x6d3)](_0x1b4bac(0x2ef)),_0x2fb04d=this[_0x1b4bac(0x342)]?.[_0x1b4bac(0x69c)]&&_0x2dfdfd[_0x1b4bac(0x6d3)](_0x1b4bac(0x130));return _0x3a5b9c||(0x0,w[_0x1b4bac(0x60e)])(_0x2dfdfd)||_0x2fb04d;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x2b4d87=>await this[_0x38526b(0x537)](_0x2b4d87),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1f1f6c=>(_0x1f1f6c[_0x38526b(0x3bf)]?.['listType']==w['proto'][_0x38526b(0x278)]['ListMessage'][_0x38526b(0x3a3)][_0x38526b(0x58c)]&&(_0x1f1f6c=JSON[_0x38526b(0x31f)](JSON[_0x38526b(0x28a)](_0x1f1f6c)),_0x1f1f6c[_0x38526b(0x3bf)][_0x38526b(0x6d8)]=w[_0x38526b(0x3a6)][_0x38526b(0x278)][_0x38526b(0x492)][_0x38526b(0x3a3)][_0x38526b(0xb5)]),_0x1f1f6c)};return this[_0x38526b(0x3f1)]=!0x1,this[_0x38526b(0x400)]=(0x0,w[_0x38526b(0x164)])(_0x3a62aa),this[_0x38526b(0x34c)](),this[_0x38526b(0x6b6)]=_0x3e9701,this['client'];}catch(_0x10b04b){let _0x8a600e=_0x38526b(0x199),_0x2d2ead=_0x10b04b instanceof Error?_0x10b04b[_0x38526b(0x5a0)]:typeof _0x10b04b==_0x38526b(0x157)?JSON[_0x38526b(0x28a)](_0x10b04b):_0x10b04b,_0x54bf74=_0x8a600e+':\x20'+_0x2d2ead;throw this['logger'][_0x38526b(0x20d)](this[_0x38526b(0x768)]+'\x20('+this['instance'][_0x38526b(0x64f)]+'):\x20'+_0x54bf74),new I(_0x54bf74);}}[a0_0x4087be(0x34c)](){const _0x2eeaf7=a0_0x4087be;this['client']['ev'][_0x2eeaf7(0x10f)](_0x2b53ce=>{const _0x3290a8=_0x2eeaf7;if(!this[_0x3290a8(0x3f1)]){let _0x1cc5c8=this['configService'][_0x3290a8(0x5e6)](_0x3290a8(0x209));if(_0x2b53ce[_0x3290a8(0x532)]){let _0x53a695=_0x2b53ce[_0x3290a8(0x532)];this[_0x3290a8(0x329)][_0x3290a8(0x532)](_0x53a695);}if(_0x2b53ce[_0x3290a8(0x2cc)]){let _0x5f04c5=_0x2b53ce[_0x3290a8(0x2cc)];this[_0x3290a8(0x329)]['labels.association'](_0x5f04c5);}if(_0x2b53ce[_0x3290a8(0x567)]&&this[_0x3290a8(0x46b)](_0x2b53ce[_0x3290a8(0x567)]),_0x2b53ce[_0x3290a8(0x149)]&&this[_0x3290a8(0x137)]['authState']['saveCreds'](),_0x2b53ce[_0x3290a8(0x2c3)]){let _0x44370b=_0x2b53ce[_0x3290a8(0x2c3)];this['messageHandle']['messaging-history.set'](_0x44370b,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x430)]){let _0x178e13=_0x2b53ce['messages.upsert'];this[_0x3290a8(0x329)][_0x3290a8(0x430)](_0x178e13,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x587)]){let _0x25863a=_0x2b53ce['messages.update'];_0x25863a[_0x3290a8(0x4e3)](_0x27a803=>{const _0x486934=_0x3290a8;if(Tr[_0x27a803[_0x486934(0x543)]['id']]){this[_0x486934(0x400)]['ev'][_0x486934(0x376)](_0x486934(0x430),{'messages':[_0x27a803],'type':_0x486934(0x674)}),delete Tr[_0x27a803['key']['id']];return;}}),this[_0x3290a8(0x329)][_0x3290a8(0x587)](_0x25863a,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x2e4)]){let _0x408689=_0x2b53ce[_0x3290a8(0x2e4)];if(this['localWebhook']?.[_0x3290a8(0x69c)]&&_0x408689['id'][_0x3290a8(0x83)](_0x3290a8(0x130)))return;this[_0x3290a8(0x3b1)](_0x3290a8(0x2e4),_0x408689);}if(_0x2b53ce[_0x3290a8(0x175)]){let _0xc8f324=_0x2b53ce[_0x3290a8(0x175)];this[_0x3290a8(0x560)][_0x3290a8(0x175)](_0xc8f324);}if(_0x2b53ce[_0x3290a8(0x3c8)]){let _0x351946=_0x2b53ce['groups.update'];this[_0x3290a8(0x560)][_0x3290a8(0x3c8)](_0x351946);}if(_0x2b53ce['group-participants.update']){let _0x1beb8c=_0x2b53ce[_0x3290a8(0x5f9)];this[_0x3290a8(0x560)][_0x3290a8(0x5f9)](_0x1beb8c);}if(_0x2b53ce[_0x3290a8(0x45d)]){let _0x1ad5c7=_0x2b53ce[_0x3290a8(0x45d)];this[_0x3290a8(0x120)][_0x3290a8(0x45d)](_0x1ad5c7,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x6ee)]){let _0x4622a0=_0x2b53ce[_0x3290a8(0x6ee)];this[_0x3290a8(0x120)][_0x3290a8(0x6ee)](_0x4622a0,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x3fc)]){let _0x1c41d4=_0x2b53ce[_0x3290a8(0x3fc)];this[_0x3290a8(0x120)][_0x3290a8(0x3fc)](_0x1c41d4);}if(_0x2b53ce[_0x3290a8(0x76f)]){let _0x485cb5=_0x2b53ce[_0x3290a8(0x76f)];this[_0x3290a8(0x2af)][_0x3290a8(0x76f)](_0x485cb5,_0x1cc5c8);}if(_0x2b53ce[_0x3290a8(0x293)]){let _0x863ff1=_0x2b53ce[_0x3290a8(0x293)];this[_0x3290a8(0x2af)][_0x3290a8(0x293)](_0x863ff1,_0x1cc5c8);}}});}[a0_0x4087be(0x413)](_0x251ab9){return new Promise(_0x46fdca=>setTimeout(_0x46fdca,_0x251ab9));}['formatBRNumber'](_0x5cabc1){const _0x3b4d50=a0_0x4087be;_0x5cabc1=_0x5cabc1[_0x3b4d50(0x71c)](/\D/g,'');let _0x47dd4b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3b4d50(0x600)](_0x5cabc1);if(_0x47dd4b&&_0x47dd4b[0x1]==='55'){let _0x3b9f6e=_0x47dd4b[0x2],_0x279ea1=_0x47dd4b[0x3],_0x21fd02=_0x47dd4b[0x4];if(parseInt(_0x3b9f6e)>=0x1f&&_0x279ea1==='9')return _0x47dd4b[0x1]+_0x3b9f6e+_0x21fd02;}return _0x5cabc1;}[a0_0x4087be(0x4c8)](_0x1f7faf){const _0x531b7e=a0_0x4087be;return _0x1f7faf['includes'](_0x531b7e(0x130))||_0x1f7faf[_0x531b7e(0x83)](_0x531b7e(0x411))||_0x1f7faf[_0x531b7e(0x83)](_0x531b7e(0x127))?_0x1f7faf:(_0x1f7faf=_0x1f7faf?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x531b7e(0x71c)](/\(/g,'')[_0x531b7e(0x71c)](/\)/g,'')[_0x531b7e(0x2f1)](/\:/)[0x0][_0x531b7e(0x2f1)]('@')[0x0],_0x1f7faf[_0x531b7e(0x5b5)]>=0x12?(_0x1f7faf=_0x1f7faf['replace'](/[^\d-]/g,''),_0x1f7faf+'@g.us'):(_0x1f7faf=_0x1f7faf[_0x531b7e(0x71c)](/\D/g,''),_0x1f7faf+_0x531b7e(0x411)));}async[a0_0x4087be(0x57d)](_0x24c85e){const _0x5cb99c=a0_0x4087be;let _0x39db6e=(await this[_0x5cb99c(0x666)]({'numbers':[_0x24c85e[_0x5cb99c(0x499)]]}))[0x0];if(!_0x39db6e['exists']&&!(0x0,w['isJidGroup'])(_0x39db6e[_0x5cb99c(0x547)])&&!_0x39db6e['jid'][_0x5cb99c(0x83)]('@broadcast'))throw new f(_0x39db6e);let _0x428e31=_0x39db6e[_0x5cb99c(0x547)];try{return await this[_0x5cb99c(0x400)][_0x5cb99c(0x64b)](_0x428e31),await this['client']['sendPresenceUpdate'](_0x24c85e[_0x5cb99c(0x687)],_0x428e31),{'status':0xc8,'presence':_0x24c85e[_0x5cb99c(0x687)]};}catch(_0x490d06){let _0x14ba41=_0x5cb99c(0x632),_0x33c981=_0x490d06 instanceof Error?_0x490d06[_0x5cb99c(0x5a0)]:typeof _0x490d06==_0x5cb99c(0x157)?JSON[_0x5cb99c(0x28a)](_0x490d06):_0x490d06,_0x14ff89=_0x14ba41+':\x20'+_0x33c981;throw this['logger']['error'](this[_0x5cb99c(0x768)]+'\x20('+this[_0x5cb99c(0x137)][_0x5cb99c(0x64f)]+_0x5cb99c(0x4a7)+_0x14ff89),new f(_0x14ff89);}}async['findAndUpdateCacheContact'](_0x11d664,_0x98cedb,_0x28ae2c,_0x267ac7=!0x0){const _0xc5bef3=a0_0x4087be;let _0xeefef8=await this['repository'][_0xc5bef3(0x4c9)][_0xc5bef3(0x1b0)]({'where':{'_id':_0x11d664}});if(!_0xeefef8&&!_0x267ac7)return;let _0x41217={'lastUpdate':Date[_0xc5bef3(0x66f)]()};if(_0x28ae2c||!_0xeefef8?.['lastUpdate']||Date[_0xc5bef3(0x66f)]()-_0xeefef8[_0xc5bef3(0x1d1)]>0x18*0x3c*0x3c*0x3e8)try{let _0x11d66f=(await this[_0xc5bef3(0xdc)](_0x11d664))[_0xc5bef3(0x70b)];_0x41217['pictureUrl']=_0x11d66f;}catch(_0x40bcd4){let _0x179588='Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact',_0x448f08=_0x40bcd4 instanceof Error?_0x40bcd4[_0xc5bef3(0x5a0)]:typeof _0x40bcd4=='object'?JSON[_0xc5bef3(0x28a)](_0x40bcd4):_0x40bcd4,_0x48e7a2=_0x179588+':\x20'+_0x448f08;throw this[_0xc5bef3(0x173)][_0xc5bef3(0x20d)](this[_0xc5bef3(0x768)]+'\x20('+this['instance'][_0xc5bef3(0x64f)]+_0xc5bef3(0x4a7)+_0x48e7a2),new f(_0x48e7a2);}return _0x98cedb&&_0xeefef8?.['name']!==_0x98cedb&&(_0x41217[_0xc5bef3(0x23a)]=_0x98cedb),Object[_0xc5bef3(0x75e)](_0x41217)['length']>0x1&&(_0xeefef8?await this[_0xc5bef3(0x702)]['cacheContact']['update']({'where':{'_id':_0x11d664}},_0x41217):await this[_0xc5bef3(0x702)][_0xc5bef3(0x4c9)][_0xc5bef3(0x30e)]([{'_id':_0x11d664,..._0x41217}]),_0xeefef8={..._0xeefef8,..._0x41217}),{'cachedContact':_0xeefef8};}async[a0_0x4087be(0xdc)](_0xd372d8){const _0x41d0dd=a0_0x4087be;let _0x2f6765=this[_0x41d0dd(0x4c8)](_0xd372d8);try{return{'wuid':_0x2f6765,'profilePictureUrl':await this[_0x41d0dd(0x400)][_0x41d0dd(0x70b)](_0x2f6765,_0x41d0dd(0x2f6))};}catch{return{'wuid':_0x2f6765,'profilePictureUrl':null};}}async[a0_0x4087be(0x244)](_0x4c78e8,_0x53a52b,_0x3e8249){const _0x1819bf=a0_0x4087be;_0x3e8249||(_0x3e8249={});let _0x1d148f=(await this[_0x1819bf(0x666)]({'numbers':[_0x4c78e8]}))[0x0];if(!_0x1d148f[_0x1819bf(0x1e2)]&&!(0x0,w['isJidGroup'])(_0x1d148f[_0x1819bf(0x547)])&&!_0x1d148f['jid'][_0x1819bf(0x83)](_0x1819bf(0x127)))throw new f(_0x1d148f);let _0x1437a7=_0x1d148f[_0x1819bf(0x547)];try{if(_0x3e8249?.[_0x1819bf(0x445)]){await this[_0x1819bf(0x400)][_0x1819bf(0x64b)](_0x1437a7),await this['client'][_0x1819bf(0x473)](_0x3e8249?.[_0x1819bf(0x687)]??_0x1819bf(0x393),_0x1437a7);let _0x19a0fb=Math['min'](_0x3e8249[_0x1819bf(0x445)],0x2710);await(0x0,w['delay'])(_0x19a0fb),await this[_0x1819bf(0x400)][_0x1819bf(0x473)](_0x1819bf(0x441),_0x1437a7);}let _0x427ac0=_0x3e8249?.[_0x1819bf(0x2eb)]!=!0x1?void 0x0:!0x1,_0xf0acfa;if(_0x3e8249?.['quoted']){let _0x28eb06=_0x3e8249?.[_0x1819bf(0x4d9)],_0x2af1f9=_0x28eb06?.['message']?_0x28eb06:await this[_0x1819bf(0x537)](_0x28eb06[_0x1819bf(0x543)],!0x0);if(!_0x2af1f9)throw _0x1819bf(0x170);_0xf0acfa=_0x2af1f9;}let _0x3dec5c;if((0x0,w['isJidGroup'])(_0x1437a7))try{let _0x1c5c00=(await this['repository'][_0x1819bf(0x371)]['findOne']({'where':{'_id':_0x1437a7}},this['instance'][_0x1819bf(0x64f)]))[_0x1819bf(0x55a)];if(!_0x1c5c00)throw new U(_0x1819bf(0x3a9));_0x3e8249?.[_0x1819bf(0x415)]&&(_0x3e8249[_0x1819bf(0x415)]?.[_0x1819bf(0x167)]?_0x3dec5c=_0x1c5c00[_0x1819bf(0x303)][_0x1819bf(0xaa)](_0x5d2f2e=>_0x5d2f2e['id']):_0x3e8249[_0x1819bf(0x415)]?.[_0x1819bf(0x1c6)]?.[_0x1819bf(0x5b5)]&&(_0x3dec5c=_0x3e8249[_0x1819bf(0x415)][_0x1819bf(0x1c6)][_0x1819bf(0xaa)](_0x44697e=>{const _0x1b8385=_0x1819bf;let _0x32dad2=this[_0x1b8385(0x4c8)](_0x44697e);return(0x0,w[_0x1b8385(0x5ff)])(_0x32dad2)?null:_0x32dad2;})));}catch{throw new U(_0x1819bf(0x3a9));}let _0x5294c1=await((async()=>{const _0x59cb02=_0x1819bf;let _0x229022={'quoted':_0xf0acfa,'ephemeralExpiration':(await this[_0x59cb02(0x702)][_0x59cb02(0x371)]['findOne']({'where':{'_id':_0x1437a7}},this[_0x59cb02(0x137)]['wuid']))?.[_0x59cb02(0x148)]??0x0};if(!_0x53a52b[_0x59cb02(0x84)]&&!_0x53a52b[_0x59cb02(0x594)]&&!_0x53a52b[_0x59cb02(0x388)]&&!_0x53a52b[_0x59cb02(0x659)]&&_0x1437a7!==_0x59cb02(0x6d9)&&!_0x53a52b['audio'])return await this[_0x59cb02(0x400)]['sendMessage'](_0x1437a7,{'forward':{'key':{'remoteJid':this[_0x59cb02(0x137)][_0x59cb02(0x64f)],'fromMe':!0x0},'message':_0x53a52b},'mentions':_0x3dec5c},_0x229022);if(_0x53a52b[_0x59cb02(0x6be)])return await this[_0x59cb02(0x400)][_0x59cb02(0xdd)](_0x1437a7,{'react':{'text':_0x53a52b['reactionMessage'][_0x59cb02(0x3e8)],'key':_0x53a52b[_0x59cb02(0x6be)]['key']}},_0x229022);if(_0x53a52b[_0x59cb02(0x659)]){let _0x2ebca0=_0x53a52b[_0x59cb02(0x659)];return _0x3e8249?.['changeVariables']&&(_0x2ebca0=await this['replaceVariablesChat'](_0x2ebca0,_0x1437a7)),await this[_0x59cb02(0x400)]['sendMessage'](_0x1437a7,{'text':_0x2ebca0,'mentions':_0x3dec5c,'linkPreview':_0x427ac0},_0x229022);}return _0x1437a7===_0x59cb02(0x6d9)?await this[_0x59cb02(0x400)][_0x59cb02(0xdd)](_0x1437a7,_0x53a52b[_0x59cb02(0x5bb)]['content'],{'backgroundColor':_0x53a52b['status'][_0x59cb02(0x6e1)][_0x59cb02(0x641)],'font':_0x53a52b[_0x59cb02(0x5bb)][_0x59cb02(0x6e1)][_0x59cb02(0x2ca)],'statusJidList':_0x53a52b[_0x59cb02(0x5bb)][_0x59cb02(0x6e1)][_0x59cb02(0x6c0)]}):await this['client'][_0x59cb02(0xdd)](_0x1437a7,_0x53a52b,_0x229022);})()),_0x520200=(0x0,w['normalizeMessageContent'])(_0x5294c1['message']),_0x269f78=(0x0,w[_0x1819bf(0x366)])(_0x520200),{message_normalized:_0x540cfb}=this[_0x1819bf(0x493)](_0x520200,_0x269f78,null),_0x59b604={'_id':_0x5294c1['key']['id'],'key':_0x5294c1[_0x1819bf(0x543)],'pushName':_0x5294c1['pushName'],'isGroup':_0x5294c1[_0x1819bf(0x543)][_0x1819bf(0x319)][_0x1819bf(0x6d3)](_0x1819bf(0x130)),'profilePictureUrl':this[_0x1819bf(0x137)]['profilePictureUrl'],'message':_0x520200,'messageType':_0x269f78,'message_normalized':{'key':_0x5294c1[_0x1819bf(0x543)],'pushName':_0x5294c1[_0x1819bf(0x4b1)],'messageTimestamp':_0x5294c1[_0x1819bf(0x764)]&&_0x5294c1['messageTimestamp']['toString']()[_0x1819bf(0x5b5)]<0xd?_0x5294c1['messageTimestamp']*0x3e8:_0x5294c1[_0x1819bf(0x764)]||null,'source':(0x0,w[_0x1819bf(0x35f)])(_0x5294c1[_0x1819bf(0x543)]['id']),..._0x540cfb},'messageTimestamp':_0x5294c1[_0x1819bf(0x764)]&&_0x5294c1[_0x1819bf(0x764)][_0x1819bf(0x5e9)]()[_0x1819bf(0x5b5)]<0xd?_0x5294c1[_0x1819bf(0x764)]*0x3e8:_0x5294c1[_0x1819bf(0x764)]||null,'owner':this[_0x1819bf(0x137)]['wuid'],'source':(0x0,w[_0x1819bf(0x35f)])(_0x5294c1[_0x1819bf(0x543)]['id'])};return this[_0x1819bf(0x173)][_0x1819bf(0x2fd)](this[_0x1819bf(0x768)]+'\x20('+this['instance'][_0x1819bf(0x64f)]+_0x1819bf(0x722)+_0x59b604['key']?.[_0x1819bf(0x319)][_0x1819bf(0x71c)](_0x1819bf(0x411),'')+_0x1819bf(0x602)+_0x59b604[_0x1819bf(0x56e)]+')'),_0x59b604[_0x1819bf(0x57b)]?.['text']&&this[_0x1819bf(0x173)][_0x1819bf(0x2fd)](_0x59b604[_0x1819bf(0x57b)]?.[_0x1819bf(0x3e8)]),this['sendDataWebhook'](_0x1819bf(0x3d4),_0x59b604),J(this[_0x1819bf(0x768)],_0x1819bf(0x3cc),{'message':_0x59b604}),this[_0x1819bf(0x5ad)](this[_0x1819bf(0x23b)]['get']('DATABASE'),_0x59b604,_0x1819bf(0x297)),await this[_0x1819bf(0x702)][_0x1819bf(0x5a0)][_0x1819bf(0x30e)]([_0x59b604],this['instance'][_0x1819bf(0x64f)]),_0x5294c1;}catch(_0xaebab3){let _0x1cca72='Falha\x20ao\x20processar\x20a\x20solicitao\x20messages.upsert',_0x5cb488=_0xaebab3 instanceof Error?_0xaebab3[_0x1819bf(0x5a0)]:typeof _0xaebab3==_0x1819bf(0x157)?JSON[_0x1819bf(0x28a)](_0xaebab3):_0xaebab3,_0xe9c077=_0x1cca72+':\x20'+_0x5cb488;throw this[_0x1819bf(0x173)][_0x1819bf(0x20d)](this[_0x1819bf(0x768)]+'\x20('+this['instance'][_0x1819bf(0x64f)]+'):\x20'+_0xe9c077),new f(_0xe9c077);}}get[a0_0x4087be(0x509)](){const _0x577438=a0_0x4087be;return this[_0x577438(0x54f)];}async[a0_0x4087be(0x1cc)](_0x26d976){const _0xc822a0=a0_0x4087be;let _0x1ed1ec=Rr,_0x442b2c=et;return _0x442b2c&&this[_0xc822a0(0x768)]['toLowerCase']()[_0xc822a0(0x83)](_0x442b2c[_0xc822a0(0x2e5)]())&&(_0x26d976[_0xc822a0(0x1cc)][_0xc822a0(0x3e8)]+='\x0a\x0a'+_0x1ed1ec),await this[_0xc822a0(0x244)](_0x26d976[_0xc822a0(0x499)],{'conversation':_0x26d976['textMessage'][_0xc822a0(0x3e8)]},_0x26d976?.['options']);}async[a0_0x4087be(0x1ff)](_0xbfe998){const _0x1cfa95=a0_0x4087be;if(!_0xbfe998[_0x1cfa95(0x6f2)])throw new f(_0x1cfa95(0x17a));if(!_0xbfe998[_0x1cfa95(0x8e)])throw new f('Content\x20is\x20required');if(_0xbfe998[_0x1cfa95(0x2c0)]){let _0x45e98d=await this[_0x1cfa95(0x702)][_0x1cfa95(0x4fb)][_0x1cfa95(0x16d)]({'where':{}},this[_0x1cfa95(0x137)][_0x1cfa95(0x64f)]);if(!_0x45e98d[_0x1cfa95(0x5b5)])throw new f(_0x1cfa95(0x41c));_0xbfe998[_0x1cfa95(0x6c0)]=_0x45e98d[_0x1cfa95(0x4ba)](_0x2da8e6=>_0x2da8e6[_0x1cfa95(0x4b1)])[_0x1cfa95(0xaa)](_0x527ac1=>_0x527ac1[_0x1cfa95(0x652)]);}if(!_0xbfe998[_0x1cfa95(0x6c0)]?.[_0x1cfa95(0x5b5)]&&!_0xbfe998['allContacts'])throw new f('StatusJidList\x20is\x20required');if(_0xbfe998['type']===_0x1cfa95(0x3e8)){if(!_0xbfe998['backgroundColor'])throw new f(_0x1cfa95(0x608));if(!_0xbfe998['font'])throw new f(_0x1cfa95(0x64e));return{'content':{'text':_0xbfe998[_0x1cfa95(0x8e)]},'option':{'backgroundColor':_0xbfe998['backgroundColor'],'font':_0xbfe998['font'],'statusJidList':_0xbfe998[_0x1cfa95(0x6c0)]}};}if(_0xbfe998[_0x1cfa95(0x6f2)]===_0x1cfa95(0x2f6))return{'content':{'image':{'url':_0xbfe998[_0x1cfa95(0x8e)]},'caption':_0xbfe998['caption']},'option':{'statusJidList':_0xbfe998[_0x1cfa95(0x6c0)]}};if(_0xbfe998['type']===_0x1cfa95(0x6c3))return{'content':{'video':{'url':_0xbfe998['content']},'caption':_0xbfe998[_0x1cfa95(0x5bf)]},'option':{'statusJidList':_0xbfe998[_0x1cfa95(0x6c0)]}};if(_0xbfe998[_0x1cfa95(0x6f2)]===_0x1cfa95(0x84)){this[_0x1cfa95(0x173)][_0x1cfa95(0x1aa)](_0x1cfa95(0xd5)),this[_0x1cfa95(0x173)][_0x1cfa95(0x1aa)](_0x1cfa95(0x1b5));let _0x59263c=await this[_0x1cfa95(0x6df)](_0xbfe998['content']);if(typeof _0x59263c==_0x1cfa95(0x2d9)){this[_0x1cfa95(0x173)]['verbose'](_0x1cfa95(0x4db));let _0x32569c=k[_0x1cfa95(0x3f9)](_0x59263c)[_0x1cfa95(0x5e9)]('base64');return{'content':{'audio':Buffer['from'](_0x32569c,_0x1cfa95(0xcc)),'ptt':!0x0,'mimetype':_0x1cfa95(0x239)},'option':{'statusJidList':_0xbfe998[_0x1cfa95(0x6c0)]}};}else throw new I(_0x59263c);}throw new f(_0x1cfa95(0x529));}async['statusMessage'](_0x26da9c){const _0x24a0ec=a0_0x4087be;return await this[_0x24a0ec(0x244)](_0x24a0ec(0x6d9),{'status':await this[_0x24a0ec(0x1ff)](_0x26da9c[_0x24a0ec(0x3f8)])});}async['prepareMediaMessage'](_0x30e745){const _0x560bc0=a0_0x4087be;try{let _0x39d8fb=await(0x0,w[_0x560bc0(0x48d)])({[_0x30e745[_0x560bc0(0x28f)]]:(0x0,_['isURL'])(_0x30e745['media'])?{'url':_0x30e745[_0x560bc0(0x2be)]}:Buffer['from'](_0x30e745[_0x560bc0(0x2be)],'base64')},{'upload':this[_0x560bc0(0x400)]['waUploadToServer']}),_0x5dba49=_0x30e745['mediatype']+'Message';if(_0x30e745[_0x560bc0(0x28f)]===_0x560bc0(0xe3)&&!_0x30e745['fileName']){let _0x4c78cd=new RegExp(/.*\/(.+?)\./)[_0x560bc0(0x600)](_0x30e745[_0x560bc0(0x2be)]);_0x30e745['fileName']=_0x4c78cd?_0x4c78cd[0x1]:null;}let _0x5929f0=(0x0,_[_0x560bc0(0x682)])(_0x30e745['media'])?_0x30e745[_0x560bc0(0x2be)]['split']('?')[0x0]:_0x30e745['media'];this[_0x560bc0(0x173)]['verbose'](_0x560bc0(0x67b)+_0x5929f0);let _0x2f75db;(0x0,_['isURL'])(_0x30e745[_0x560bc0(0x2be)])?_0x2f75db=(0x0,kt['getMIMEType'])(_0x5929f0):_0x30e745[_0x560bc0(0x102)]&&_0x30e745[_0x560bc0(0x102)][_0x560bc0(0x83)]('.')?_0x2f75db=(0x0,kt['getMIMEType'])(_0x30e745[_0x560bc0(0x102)]):_0x2f75db=(0x0,kt[_0x560bc0(0x302)])(_0x30e745['media']);let _0x3dd2b7=Rr,_0x2faadd=et;return _0x2faadd&&this['instanceName'][_0x560bc0(0x2e5)]()[_0x560bc0(0x83)](_0x2faadd[_0x560bc0(0x2e5)]())&&(_0x30e745[_0x560bc0(0x5bf)]+='\x0a\x0a'+_0x3dd2b7),_0x39d8fb[_0x5dba49][_0x560bc0(0x5bf)]=_0x30e745?.['caption'],_0x39d8fb[_0x5dba49]['mimetype']=_0x2f75db,_0x39d8fb[_0x5dba49][_0x560bc0(0x102)]=_0x30e745[_0x560bc0(0x102)],_0x30e745[_0x560bc0(0x28f)]==='video'&&(_0x39d8fb[_0x5dba49][_0x560bc0(0x6b3)]=Uint8Array['from']((0x0,Oe[_0x560bc0(0x3f9)])((0x0,F[_0x560bc0(0x76e)])(process['cwd'](),_0x560bc0(0x12b)))),_0x39d8fb[_0x5dba49][_0x560bc0(0x318)]=!0x1),(0x0,w[_0x560bc0(0x422)])('',{[_0x5dba49]:{..._0x39d8fb[_0x5dba49]}},{'userJid':this[_0x560bc0(0x137)][_0x560bc0(0x64f)]});}catch(_0x5ccab4){let _0x2cb055=_0x560bc0(0x5c7),_0x19a7ff=_0x5ccab4 instanceof Error?_0x5ccab4[_0x560bc0(0x5a0)]:typeof _0x5ccab4==_0x560bc0(0x157)?JSON[_0x560bc0(0x28a)](_0x5ccab4):_0x5ccab4,_0x23f4e1=_0x2cb055+':\x20'+_0x19a7ff;throw this[_0x560bc0(0x173)]['error'](this[_0x560bc0(0x768)]+'\x20('+this[_0x560bc0(0x137)][_0x560bc0(0x64f)]+_0x560bc0(0x4a7)+_0x23f4e1),new I(_0x23f4e1);}}async[a0_0x4087be(0x2ab)](_0x35d35c){const _0x3aa1e9=a0_0x4087be;let _0x2091f7=await this['prepareMediaMessage'](_0x35d35c[_0x3aa1e9(0x2ab)]);return await this['sendMessageWithTyping'](_0x35d35c[_0x3aa1e9(0x499)],{..._0x2091f7['message']},_0x35d35c?.[_0x3aa1e9(0xd0)]);}async[a0_0x4087be(0x35c)](_0x4226e2,_0x5d3c63){const _0x4f47d0=a0_0x4087be;try{this['logger'][_0x4f47d0(0x1aa)](_0x4f47d0(0x38a));let _0x36050f,_0x3f45ee=_0x5d3c63+'-'+new Date()[_0x4f47d0(0x5d0)]();this['logger'][_0x4f47d0(0x1aa)](_0x4f47d0(0x134)+_0x3f45ee);let _0xd3435a=''+(0x0,F[_0x4f47d0(0x76e)])(this[_0x4f47d0(0x140)],_0x3f45ee+_0x4f47d0(0x3e0));if(this[_0x4f47d0(0x173)]['verbose'](_0x4f47d0(0x4cc)+_0xd3435a),(0x0,_[_0x4f47d0(0x2b7)])(_0x4226e2)){this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x1ea));let _0x66bd04=_0x4226e2[_0x4f47d0(0x71c)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x44c413=Buffer[_0x4f47d0(0x52d)](_0x66bd04,_0x4f47d0(0xcc));_0x36050f=''+(0x0,F[_0x4f47d0(0x76e)])(this['storePath'],_0x4f47d0(0x1dc)+_0x3f45ee+_0x4f47d0(0x4c4)),this['logger'][_0x4f47d0(0x1aa)](_0x4f47d0(0x453)+_0x36050f),await(0x0,Lt['default'])(_0x44c413)[_0x4f47d0(0x70e)](_0x36050f),this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x1dd));}else{this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x672));let _0x44fb56=new Date()[_0x4f47d0(0x5d0)](),_0x82fbb3=_0x4226e2+_0x4f47d0(0x6fb)+_0x44fb56;this[_0x4f47d0(0x173)]['verbose'](_0x4f47d0(0x194)+_0x82fbb3);let _0x4597d7=await K[_0x4f47d0(0x164)]['get'](_0x82fbb3,{'responseType':'arraybuffer'});this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x265));let _0x5ed2ae=Buffer[_0x4f47d0(0x52d)](_0x4597d7[_0x4f47d0(0x109)],_0x4f47d0(0x274));_0x36050f=''+(0x0,F[_0x4f47d0(0x76e)])(this['storePath'],'temp-'+_0x3f45ee+'.png'),this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x453)+_0x36050f),await(0x0,Lt['default'])(_0x5ed2ae)['toFile'](_0x36050f),this['logger'][_0x4f47d0(0x1aa)](_0x4f47d0(0x1dd));}return await(0x0,Lt[_0x4f47d0(0x164)])(_0x36050f)[_0x4f47d0(0x41e)]()[_0x4f47d0(0x70e)](_0xd3435a),this[_0x4f47d0(0x173)][_0x4f47d0(0x1aa)](_0x4f47d0(0x345)),k[_0x4f47d0(0xf1)](_0x36050f),this[_0x4f47d0(0x173)]['verbose'](_0x4f47d0(0x253)),_0xd3435a;}catch(_0x23c887){let _0x1f07e5=_0x4f47d0(0xb1),_0x2c30c5=_0x23c887 instanceof Error?_0x23c887[_0x4f47d0(0x5a0)]:typeof _0x23c887==_0x4f47d0(0x157)?JSON['stringify'](_0x23c887):_0x23c887,_0x1a2125=_0x1f07e5+':\x20'+_0x2c30c5;this[_0x4f47d0(0x173)][_0x4f47d0(0x20d)](this[_0x4f47d0(0x768)]+'\x20('+this['instance'][_0x4f47d0(0x64f)]+_0x4f47d0(0x4a7)+_0x1a2125);}}async[a0_0x4087be(0x427)](_0x1de2d6){const _0x2efc93=a0_0x4087be;let _0x2ebd86=await this[_0x2efc93(0x35c)](_0x1de2d6[_0x2efc93(0x74e)][_0x2efc93(0x2f6)],_0x1de2d6[_0x2efc93(0x499)]),_0x5250d6=await this[_0x2efc93(0x244)](_0x1de2d6[_0x2efc93(0x499)],{'sticker':{'url':_0x2ebd86}},_0x1de2d6?.[_0x2efc93(0xd0)]);return k[_0x2efc93(0xf1)](_0x2ebd86),this[_0x2efc93(0x173)]['verbose'](_0x2efc93(0x1b4)),_0x5250d6;}async[a0_0x4087be(0x114)](_0x515af1){const _0x5aa426=a0_0x4087be;if(this['logger'][_0x5aa426(0x1aa)](_0x5aa426(0x456)),!_0x515af1['options']?.[_0x5aa426(0x30b)]&&_0x515af1['options']?.['encoding']!==!0x1&&(_0x515af1[_0x5aa426(0xd0)]['encoding']=!0x0),_0x515af1[_0x5aa426(0xd0)]?.[_0x5aa426(0x30b)]){let _0x3da59f=await this[_0x5aa426(0x6df)](_0x515af1['audioMessage']['audio']);if(typeof _0x3da59f==_0x5aa426(0x2d9)){let _0x33a304=k[_0x5aa426(0x3f9)](_0x3da59f)[_0x5aa426(0x5e9)](_0x5aa426(0xcc));return this[_0x5aa426(0x244)](_0x515af1[_0x5aa426(0x499)],{'audio':Buffer[_0x5aa426(0x52d)](_0x33a304,_0x5aa426(0xcc)),'ptt':!0x0,'mimetype':_0x5aa426(0x4a1)},{'presence':_0x5aa426(0x4ec),'delay':_0x515af1?.['options']?.[_0x5aa426(0x445)]});}else throw new I(_0x3da59f);}return await this[_0x5aa426(0x244)](_0x515af1[_0x5aa426(0x499)],{'audio':(0x0,_[_0x5aa426(0x682)])(_0x515af1[_0x5aa426(0x3ac)]['audio'])?{'url':_0x515af1[_0x5aa426(0x3ac)][_0x5aa426(0x84)]}:Buffer['from'](_0x515af1[_0x5aa426(0x3ac)][_0x5aa426(0x84)],'base64'),'ptt':!0x0,'mimetype':_0x5aa426(0x4a1)},{'presence':'recording','delay':_0x515af1?.['options']?.[_0x5aa426(0x445)]});}async[a0_0x4087be(0x6df)](_0xf08875){const _0x15f241=a0_0x4087be;this['logger'][_0x15f241(0x1aa)](_0x15f241(0x1b5));let _0x3da43b=(0x0,_[_0x15f241(0x682)])(_0xf08875)?(0x0,Jt[_0x15f241(0x418)])(_0x15f241(0x6b5))[_0x15f241(0x15c)](_0xf08875)[_0x15f241(0x362)](_0x15f241(0x402)):(0x0,Jt['createHash'])(_0x15f241(0x6b5))[_0x15f241(0x15c)](_0xf08875)[_0x15f241(0x362)](_0x15f241(0x402)),_0x3d4b3e=''+(0x0,F[_0x15f241(0x76e)])(this[_0x15f241(0x140)],_0x3da43b+_0x15f241(0x462));if(k['existsSync'](_0x3d4b3e))return this[_0x15f241(0x173)][_0x15f241(0x1aa)](_0x15f241(0x5a8)),_0x3d4b3e;let _0x105755=''+(0x0,F[_0x15f241(0x76e)])(this['storePath'],_0x15f241(0x1dc)+(0x0,jt['v4'])()+_0x15f241(0x1c3));if((0x0,_[_0x15f241(0x682)])(_0xf08875)){let _0x409c00=new Date()[_0x15f241(0x5d0)](),_0x306d57=_0xf08875+_0x15f241(0x6fb)+_0x409c00,_0x2cbb2f=await K['default'][_0x15f241(0x5e6)](_0x306d57,{'responseType':_0x15f241(0x126)});k[_0x15f241(0xf9)](_0x105755,_0x2cbb2f[_0x15f241(0x109)]);}else{let _0x528bf9=Buffer[_0x15f241(0x52d)](_0xf08875,_0x15f241(0xcc));k[_0x15f241(0xf9)](_0x105755,_0x528bf9);}return new Promise((_0x36bb5d,_0x4ea142)=>{const _0x374f0c=_0x15f241;(0x0,Ae[_0x374f0c(0x600)])(As[_0x374f0c(0x164)][_0x374f0c(0x582)]+_0x374f0c(0x52c)+_0x105755+_0x374f0c(0x43b)+_0x3d4b3e+_0x374f0c(0x33d),_0x1fe4f2=>{const _0x535d38=_0x374f0c;if(k[_0x535d38(0xf1)](_0x105755),_0x1fe4f2){this[_0x535d38(0x173)]['verbose'](_0x535d38(0x6d1)),_0x4ea142(_0x1fe4f2);return;}this[_0x535d38(0x173)][_0x535d38(0x1aa)](_0x535d38(0x39e)),_0x36bb5d(_0x3d4b3e);});});}async[a0_0x4087be(0xeb)](_0x2e02f9){const _0x4ce410=a0_0x4087be;this['logger'][_0x4ce410(0x1aa)](_0x4ce410(0x1b5));let _0x29d0b7=(0x0,Jt['createHash'])(_0x4ce410(0x6b5))[_0x4ce410(0x15c)](_0x2e02f9)[_0x4ce410(0x362)](_0x4ce410(0x402)),_0x514b98=''+(0x0,F['join'])(this['storePath'],_0x29d0b7+_0x4ce410(0x1c3));if(k[_0x4ce410(0x465)](_0x514b98))return this['logger'][_0x4ce410(0x1aa)](_0x4ce410(0x5a8)),F[_0x4ce410(0x164)][_0x4ce410(0x1d5)](_0x514b98);let _0x38af70=''+(0x0,F[_0x4ce410(0x76e)])(this['storePath'],'temp-'+_0x29d0b7+_0x4ce410(0x462));if((0x0,_[_0x4ce410(0x682)])(_0x2e02f9)){let _0x5b5a2d=new Date()[_0x4ce410(0x5d0)](),_0x41d487=_0x2e02f9+_0x4ce410(0x6fb)+_0x5b5a2d,_0x47575f=await K[_0x4ce410(0x164)][_0x4ce410(0x5e6)](_0x41d487,{'responseType':_0x4ce410(0x126)});k[_0x4ce410(0xf9)](_0x38af70,_0x47575f[_0x4ce410(0x109)]);}else{let _0x4b9bc7=Buffer[_0x4ce410(0x52d)](_0x2e02f9,_0x4ce410(0xcc));k['writeFileSync'](_0x38af70,_0x4b9bc7);}return new Promise((_0x410dc9,_0x228e65)=>{const _0x2adccf=_0x4ce410;(0x0,Ae[_0x2adccf(0x600)])(As[_0x2adccf(0x164)]['path']+_0x2adccf(0x52c)+_0x38af70+_0x2adccf(0x11d)+_0x514b98+'\x20-y',_0x4017fe=>{const _0x36dbed=_0x2adccf;if(k['unlinkSync'](_0x38af70),_0x4017fe){this[_0x36dbed(0x173)][_0x36dbed(0x1aa)](_0x36dbed(0x6d1)),_0x228e65(_0x4017fe);return;}this[_0x36dbed(0x173)][_0x36dbed(0x1aa)](_0x36dbed(0x39e)),_0x410dc9(F[_0x36dbed(0x164)][_0x36dbed(0x1d5)](_0x514b98));});});}async['buttonMessage'](_0x92f7aa){const _0x4ee34d=a0_0x4087be;let _0x35433a={},_0x2323e7=_0x4ee34d(0x5ae);if(_0x92f7aa['buttonMessage']?.[_0x4ee34d(0x2ab)]){_0x2323e7=_0x92f7aa['buttonMessage'][_0x4ee34d(0x2ab)]?.['mediatype'][_0x4ee34d(0x703)]()??'TEXT',_0x35433a['mediaKey']=_0x2323e7[_0x4ee34d(0x2e5)]()+_0x4ee34d(0x278);let _0x13c020=await this[_0x4ee34d(0x6aa)](_0x92f7aa[_0x4ee34d(0x2f8)]['mediaMessage']);_0x35433a['message']=_0x13c020[_0x4ee34d(0x5a0)][_0x35433a[_0x4ee34d(0x311)]],_0x35433a[_0x4ee34d(0x257)]='*'+_0x92f7aa[_0x4ee34d(0x2f8)]['title']+_0x4ee34d(0x5bc)+_0x92f7aa['buttonMessage'][_0x4ee34d(0x304)];}let _0x6180b5={'text':_0x92f7aa[_0x4ee34d(0x2f8)][_0x4ee34d(0x2bd)][_0x4ee34d(0xaa)](_0x4058bf=>_0x4058bf[_0x4ee34d(0x31c)]),'ids':_0x92f7aa['buttonMessage'][_0x4ee34d(0x2bd)][_0x4ee34d(0xaa)](_0xe00f0b=>_0xe00f0b[_0x4ee34d(0xa3)])};if(!(0x0,_['arrayUnique'])(_0x6180b5['text'])||!(0x0,_[_0x4ee34d(0x634)])(_0x6180b5[_0x4ee34d(0x414)]))throw new f('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x4ee34d(0x244)](_0x92f7aa[_0x4ee34d(0x499)],{'buttonsMessage':{'text':_0x35433a?.[_0x4ee34d(0x311)]?void 0x0:_0x92f7aa['buttonMessage'][_0x4ee34d(0x3d1)],'contentText':_0x35433a?.[_0x4ee34d(0x257)]??_0x92f7aa[_0x4ee34d(0x2f8)][_0x4ee34d(0x304)],'footerText':_0x92f7aa[_0x4ee34d(0x2f8)]?.['footerText'],'buttons':_0x92f7aa['buttonMessage'][_0x4ee34d(0x2bd)][_0x4ee34d(0xaa)](_0x5b396b=>({'buttonText':{'displayText':_0x5b396b[_0x4ee34d(0x31c)]},'buttonId':_0x5b396b[_0x4ee34d(0xa3)],'type':0x1})),'headerType':w['proto'][_0x4ee34d(0x278)][_0x4ee34d(0x22a)][_0x4ee34d(0xec)][_0x2323e7],[_0x35433a?.[_0x4ee34d(0x311)]]:_0x35433a?.['message']}},_0x92f7aa?.[_0x4ee34d(0xd0)]);}async[a0_0x4087be(0x373)](_0x1ba17d){const _0x7aeccb=a0_0x4087be;return await this['sendMessageWithTyping'](_0x1ba17d[_0x7aeccb(0x499)],{'locationMessage':{'degreesLatitude':_0x1ba17d[_0x7aeccb(0x373)][_0x7aeccb(0x33a)],'degreesLongitude':_0x1ba17d[_0x7aeccb(0x373)][_0x7aeccb(0x103)],'name':_0x1ba17d[_0x7aeccb(0x373)]?.[_0x7aeccb(0x23a)],'address':_0x1ba17d['locationMessage']?.[_0x7aeccb(0x617)]}},_0x1ba17d?.[_0x7aeccb(0xd0)]);}async[a0_0x4087be(0xa5)](_0x148f43){const _0x45e3d2=a0_0x4087be;let _0x220f4f={},_0x5c2828=async _0x4525fb=>{const _0x13acf6=a0_0x1cc1;let _0x70a3b4=_0x13acf6(0x67c)+_0x4525fb[_0x13acf6(0x118)]+_0x13acf6(0xc6)+_0x4525fb[_0x13acf6(0x118)]+'\x0a';_0x4525fb[_0x13acf6(0x202)]&&(_0x70a3b4+=_0x13acf6(0x2d1)+_0x4525fb[_0x13acf6(0x202)]+';\x0a'),_0x4525fb[_0x13acf6(0x10c)]&&(_0x70a3b4+=_0x13acf6(0x21e)+_0x4525fb[_0x13acf6(0x10c)]+'\x0a'),_0x4525fb[_0x13acf6(0x321)]&&(_0x70a3b4+=_0x13acf6(0x4f7)+_0x4525fb[_0x13acf6(0x321)]+'\x0a');let _0x1e2d36='',_0x2bf243=0x1;if(_0x4525fb[_0x13acf6(0x6b6)]){let _0x2ecd99=_0x4525fb['phoneNumber']['split']('|');for(let _0x1901f5 of _0x2ecd99){let _0x18ea7f=await this['whatsappNumber']({'numbers':[_0x1901f5]}),_0xa24ee6=(_0x18ea7f['length']>0x0?_0x18ea7f[0x0][_0x13acf6(0x547)]:this['createJid'](_0x1901f5))['replace'](_0x13acf6(0x411),'');_0x1e2d36+=_0x13acf6(0x479)+_0x2bf243+'.TEL;waid='+_0xa24ee6+':'+_0x1901f5+_0x13acf6(0x46e)+_0x2bf243+_0x13acf6(0x630),_0x2bf243++;}}return _0x70a3b4+=_0x1e2d36+_0x13acf6(0x5f5),_0x70a3b4;};return _0x148f43[_0x45e3d2(0xa5)][_0x45e3d2(0x5b5)]===0x1?_0x220f4f[_0x45e3d2(0xa5)]={'displayName':_0x148f43[_0x45e3d2(0xa5)][0x0][_0x45e3d2(0x118)],'vcard':await _0x5c2828(_0x148f43['contactMessage'][0x0])}:_0x220f4f[_0x45e3d2(0x44c)]={'displayName':_0x148f43[_0x45e3d2(0xa5)][_0x45e3d2(0x5b5)]+_0x45e3d2(0x71d),'contacts':await Promise[_0x45e3d2(0x76b)](_0x148f43[_0x45e3d2(0xa5)][_0x45e3d2(0xaa)](async _0x4828f8=>({'displayName':_0x4828f8[_0x45e3d2(0x118)],'vcard':await _0x5c2828(_0x4828f8)})))},await this[_0x45e3d2(0x244)](_0x148f43[_0x45e3d2(0x499)],{..._0x220f4f},_0x148f43?.[_0x45e3d2(0xd0)]);}async[a0_0x4087be(0x6be)](_0x418e43){const _0x37bf90=a0_0x4087be;return await this['sendMessageWithTyping'](_0x418e43[_0x37bf90(0x6be)][_0x37bf90(0x543)][_0x37bf90(0x319)],{'reactionMessage':{'key':_0x418e43[_0x37bf90(0x6be)][_0x37bf90(0x543)],'text':_0x418e43[_0x37bf90(0x6be)]['reaction']}});}async['whatsappNumber'](_0x5e6339){const _0x24a6b8=a0_0x4087be;let _0x1fbf4f=[];for await(let _0x5d1227 of _0x5e6339['numbers']){let _0x37fd00=this[_0x24a6b8(0x4c8)](_0x5d1227),_0x526c2f=!0x1;try{if((0x0,w[_0x24a6b8(0x5ff)])(_0x37fd00)){let _0x4d3890=(await this[_0x24a6b8(0x702)][_0x24a6b8(0x371)][_0x24a6b8(0x1b0)]({'where':{'_id':_0x37fd00}},this[_0x24a6b8(0x137)][_0x24a6b8(0x64f)]))['groupdata'];_0x526c2f=!!_0x4d3890?.['id']&&!!_0x4d3890?.['canSendMessage'],_0x1fbf4f[_0x24a6b8(0x5af)](new we(_0x4d3890['id'],_0x526c2f,_0x4d3890?.[_0x24a6b8(0x314)]));}else{let _0x42468d=(await this[_0x24a6b8(0x400)]['onWhatsApp'](_0x37fd00))[0x0];_0x526c2f=_0x42468d[_0x24a6b8(0x1e2)],_0x1fbf4f[_0x24a6b8(0x5af)](new we(_0x42468d['jid'],_0x526c2f));}}catch{(0x0,w[_0x24a6b8(0x5ff)])(_0x37fd00)||await this['deleteImportedChat'](_0x37fd00,_0x526c2f),_0x1fbf4f[_0x24a6b8(0x5af)](new we(_0x5d1227,!0x1));}}return _0x1fbf4f;}async[a0_0x4087be(0x5dd)](_0x27e10c,_0x3a1a88){const _0x5123dc=a0_0x4087be;try{await this[_0x5123dc(0x702)][_0x5123dc(0x371)][_0x5123dc(0x1b0)]({'where':{'_id':_0x27e10c,'imported':!0x0}},this[_0x5123dc(0x137)][_0x5123dc(0x64f)])&&(_0x3a1a88||(await this[_0x5123dc(0x702)][_0x5123dc(0x371)][_0x5123dc(0x466)](_0x27e10c,this[_0x5123dc(0x137)][_0x5123dc(0x64f)]),console['log'](_0x5123dc(0x111)+_0x27e10c+_0x5123dc(0x275))));}catch(_0x2c73c2){let _0x5129fc='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x404305=_0x2c73c2 instanceof Error?_0x2c73c2[_0x5123dc(0x5a0)]:typeof _0x2c73c2==_0x5123dc(0x157)?JSON['stringify'](_0x2c73c2):_0x2c73c2,_0x4f42c2=_0x5129fc+':\x20'+_0x404305;this[_0x5123dc(0x173)][_0x5123dc(0x20d)](this[_0x5123dc(0x768)]+'\x20('+this['instance'][_0x5123dc(0x64f)]+'):\x20'+_0x4f42c2);}}async[a0_0x4087be(0x1f0)](_0x555b46){const _0x146f7a=a0_0x4087be;try{let _0x290cec=_0x555b46[_0x146f7a(0x285)][_0x146f7a(0x4ba)](_0x11a318=>(0x0,w[_0x146f7a(0x5ff)])(_0x11a318[_0x146f7a(0x319)])||(0x0,w[_0x146f7a(0xde)])(_0x11a318[_0x146f7a(0x319)]))[_0x146f7a(0xaa)](_0x3d30da=>({'remoteJid':_0x3d30da['remoteJid'],'fromMe':_0x3d30da[_0x146f7a(0x2d5)],'id':_0x3d30da['id']}));await this['client'][_0x146f7a(0x285)](_0x290cec);let _0x57870c=_0x290cec['map'](_0x443ff5=>this[_0x146f7a(0x6e5)](_0x443ff5,{'status':_0x146f7a(0x483),'owner':this[_0x146f7a(0x137)]['wuid']})),_0x2af702=_0x290cec['map'](_0xcc53e9=>this[_0x146f7a(0x702)][_0x146f7a(0x371)][_0x146f7a(0x506)]({'where':{'_id':_0xcc53e9[_0x146f7a(0x319)]}},{'unreadcount':0x0},this[_0x146f7a(0x137)][_0x146f7a(0x64f)])),[_0x35717f,_0x3fca6f]=await Promise[_0x146f7a(0x76b)]([Promise['all'](_0x57870c),Promise['all'](_0x2af702)]);return _0x3fca6f['filter'](_0x103adb=>_0x103adb!==null)[_0x146f7a(0x4e3)](_0x117813=>{const _0x5a4a6e=_0x146f7a;J(this[_0x5a4a6e(0x768)],'chats',{'chat':_0x117813});}),{'message':_0x146f7a(0x463),'read':_0x146f7a(0xab)};}catch(_0x55555f){let _0x4a5c0d=_0x146f7a(0x26c),_0x1beaa3=_0x55555f instanceof Error?_0x55555f[_0x146f7a(0x5a0)]:typeof _0x55555f==_0x146f7a(0x157)?JSON[_0x146f7a(0x28a)](_0x55555f):_0x55555f,_0x58f19f=_0x4a5c0d+':\x20'+_0x1beaa3;throw this['logger'][_0x146f7a(0x20d)](this[_0x146f7a(0x768)]+'\x20('+this[_0x146f7a(0x137)][_0x146f7a(0x64f)]+'):\x20'+_0x58f19f),new I(_0x58f19f);}}async[a0_0x4087be(0x60f)](_0x23d195){const _0x5c4549=a0_0x4087be;let _0x384e98={'where':{'key':{'remoteJid':_0x23d195}},'limit':0x1},_0x15a2bc=await this[_0x5c4549(0x197)](_0x384e98);return _0x15a2bc||(console[_0x5c4549(0x20d)](_0x5c4549(0x6bf),_0x23d195),null);}async['archiveChat'](_0x31185c){const _0x289a14=a0_0x4087be;this[_0x289a14(0x173)]['verbose'](_0x289a14(0x1f4));try{let _0x52e7fe=_0x31185c[_0x289a14(0x56b)],_0x205b35=_0x31185c[_0x289a14(0x371)];if(!_0x52e7fe&&_0x205b35?_0x52e7fe=await this[_0x289a14(0x60f)](_0x205b35):(_0x52e7fe=_0x31185c[_0x289a14(0x56b)],_0x52e7fe['messageTimestamp']=_0x52e7fe?.['messageTimestamp']??Date[_0x289a14(0x66f)](),_0x205b35=_0x52e7fe?.[_0x289a14(0x543)]?.[_0x289a14(0x319)]),!_0x52e7fe||Object[_0x289a14(0x75e)](_0x52e7fe)[_0x289a14(0x5b5)]===0x0)throw new U(_0x289a14(0x697));this[_0x289a14(0x173)][_0x289a14(0x1aa)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x205b35);try{await this[_0x289a14(0x400)][_0x289a14(0x707)]({'archive':_0x31185c['archive'],'lastMessages':[_0x52e7fe]},this['createJid'](_0x205b35));}catch(_0x1b8c5e){let _0x51f06a=_0x289a14(0x26a)+_0x205b35,_0x544d17=_0x1b8c5e instanceof Error?_0x1b8c5e[_0x289a14(0x5a0)]:typeof _0x1b8c5e=='object'?JSON[_0x289a14(0x28a)](_0x1b8c5e):_0x1b8c5e,_0x421175=_0x51f06a+':\x20'+_0x544d17;this['logger'][_0x289a14(0x20d)](this['instanceName']+'\x20('+this[_0x289a14(0x137)][_0x289a14(0x64f)]+_0x289a14(0x4a7)+_0x421175);}this[_0x289a14(0x173)][_0x289a14(0x1aa)](_0x289a14(0x2a4)+_0x205b35);let _0xf4a903=await this[_0x289a14(0x702)]['chat'][_0x289a14(0x506)]({'where':{'_id':_0x52e7fe?.[_0x289a14(0x543)]?.[_0x289a14(0x319)]}},{'archived':_0x31185c[_0x289a14(0x442)]},this['instance'][_0x289a14(0x64f)]);return _0xf4a903?(this[_0x289a14(0x173)][_0x289a14(0x1aa)](_0x289a14(0x62f)+JSON['stringify'](_0xf4a903)),J(this[_0x289a14(0x768)],_0x289a14(0x6f1),{'chat':_0xf4a903})):this[_0x289a14(0x173)][_0x289a14(0x20d)](_0x289a14(0x9c)+_0x205b35),{'chatId':_0x205b35,'archived':_0x31185c[_0x289a14(0x442)]};}catch(_0x222573){let _0x44461a=_0x289a14(0x15a),_0x513762=_0x222573 instanceof Error?_0x222573['message']:typeof _0x222573==_0x289a14(0x157)?JSON['stringify'](_0x222573):_0x222573,_0x338d92=_0x44461a+':\x20'+_0x513762;throw this[_0x289a14(0x173)]['error'](this[_0x289a14(0x768)]+'\x20('+this[_0x289a14(0x137)]['wuid']+_0x289a14(0x4a7)+_0x338d92),new I(_0x338d92);}}async[a0_0x4087be(0x466)](_0x3bd7f7){const _0x382978=a0_0x4087be;this[_0x382978(0x173)][_0x382978(0x1aa)](_0x382978(0x5a7));try{let _0xe79299=await this[_0x382978(0x60f)](_0x3bd7f7);if(!_0xe79299||Object['keys'](_0xe79299)[_0x382978(0x5b5)]===0x0)throw new U('Last\x20message\x20not\x20found');let _0x3a8432=_0xe79299[0x0];this[_0x382978(0x173)][_0x382978(0x1aa)](_0x382978(0x57e)+_0x3bd7f7);try{await this[_0x382978(0x400)][_0x382978(0x707)]({'delete':!0x0,'lastMessages':[{'key':_0x3a8432[_0x382978(0x543)],'messageTimestamp':_0x3a8432[_0x382978(0x764)]}]},this[_0x382978(0x4c8)](_0x3bd7f7));}catch(_0xbaea36){this['logger']['error'](_0x382978(0x26a)+_0x3bd7f7+':\x20'+_0xbaea36[_0x382978(0x5e9)]());}this['logger']['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3bd7f7);return;}catch(_0x41d575){throw this[_0x382978(0x173)][_0x382978(0x20d)](_0x382978(0x50c)+_0x41d575[_0x382978(0x5e9)]()),new I({'archived':!0x1,'message':[_0x382978(0x224),_0x41d575['toString']()]});}}async[a0_0x4087be(0x221)](_0x1f04bc){const _0x15b012=a0_0x4087be;try{let _0x310b7c=await this[_0x15b012(0x400)][_0x15b012(0xdd)](_0x1f04bc[_0x15b012(0x319)],{'delete':_0x1f04bc});try{let _0x1a0d81=await this['updateMessage'](_0x1f04bc,{'status':_0x15b012(0x6fc),'owner':this[_0x15b012(0x137)]['wuid']});this[_0x15b012(0x173)][_0x15b012(0x1aa)](this[_0x15b012(0x768)]+'\x20('+this[_0x15b012(0x137)][_0x15b012(0x64f)]+_0x15b012(0x607)+_0x1a0d81);}catch(_0x408ef7){console['error'](_0x15b012(0x334),_0x408ef7);}return _0x310b7c;}catch(_0x581e67){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x581e67?.['toString']());}}async[a0_0x4087be(0x42e)](_0x77f4be){const _0x5a0c42=a0_0x4087be;try{let _0x87bc5d=_0x77f4be?.[_0x5a0c42(0x5a0)]?_0x77f4be:await this[_0x5a0c42(0x537)](_0x77f4be[_0x5a0c42(0x543)],!0x0);for(let _0x6481b of Na)_0x87bc5d['message'][_0x6481b]&&(_0x87bc5d['message']=_0x87bc5d[_0x5a0c42(0x5a0)][_0x6481b][_0x5a0c42(0x5a0)]);let _0x4e3768,_0x2aaad2;for(let _0x4cd9a0 of va)if(_0x4e3768=_0x87bc5d[_0x5a0c42(0x5a0)][_0x4cd9a0],_0x4e3768){_0x2aaad2=_0x4cd9a0;break;}if(!_0x4e3768)throw _0x5a0c42(0x3ba);typeof _0x4e3768[_0x5a0c42(0x311)]==_0x5a0c42(0x157)&&(_0x87bc5d[_0x5a0c42(0x5a0)]=JSON[_0x5a0c42(0x31f)](JSON[_0x5a0c42(0x28a)](_0x87bc5d[_0x5a0c42(0x5a0)])));let _0xd554f5=await(0x0,w[_0x5a0c42(0x40c)])({'key':_0x87bc5d?.[_0x5a0c42(0x543)],'message':_0x87bc5d?.[_0x5a0c42(0x5a0)]},_0x5a0c42(0x2d3),{},{'logger':(0x0,Pt[_0x5a0c42(0x164)])({'level':_0x5a0c42(0x4b0)}),'reuploadRequest':this[_0x5a0c42(0x400)][_0x5a0c42(0x4ae)]});if(!(_0xd554f5 instanceof Buffer))throw new Error(_0x5a0c42(0x6ec));let _0x50f96b=this[_0x5a0c42(0x23b)]['get'](_0x5a0c42(0x209)),_0x49bbc2,_0x5b622c;if(_0x4e3768[_0x5a0c42(0x102)])_0x49bbc2=_0x4e3768[_0x5a0c42(0x102)];else{let _0x4f2bfe=_0x4e3768[_0x5a0c42(0x6eb)]?.[_0x5a0c42(0x358)](/\/(\w+)/),_0x5b3545=_0x4f2bfe?_0x4f2bfe[0x1]:null;if(!_0x5b3545)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x49bbc2=(0x0,jt['v4'])()+'.'+_0x5b3545;}_0x2aaad2===_0x5a0c42(0x3ac)?_0x5b622c=_0x5a0c42(0xd9)+await this[_0x5a0c42(0xeb)](_0xd554f5[_0x5a0c42(0x5e9)](_0x5a0c42(0xcc))):(await this[_0x5a0c42(0x614)](_0xd554f5,_0x49bbc2),_0x5b622c=_0x5a0c42(0xd9)+_0x49bbc2);let _0x27a510=this['configService'][_0x5a0c42(0x5e6)](_0x5a0c42(0x246))['URL'];if(!_0x27a510){let _0x24302b=this['configService'][_0x5a0c42(0x5e6)]('SSL_CONF');_0x27a510=_0x5a0c42(0x627)+(_0x24302b&&_0x24302b[_0x5a0c42(0x568)][_0x5a0c42(0x2f1)]('/')[0x4]);}_0x5b622c=''+_0x27a510+_0x5b622c;let _0x24e2cb=0xc*0x3c*0x3c*0x3e8,_0x4099c9={'where':{'_id':_0x87bc5d['key']['id']}},_0x231f4a={'message_normalized.fileUrl':_0x5b622c,'message_normalized.expires_fileUrl':Date[_0x5a0c42(0x66f)]()+_0x24e2cb};try{let _0x305af1=await this[_0x5a0c42(0x702)][_0x5a0c42(0x5a0)][_0x5a0c42(0x15c)](_0x4099c9,_0x231f4a,this['instance']['wuid']);_0x305af1&&J(this[_0x5a0c42(0x768)],_0x5a0c42(0x3cc),{'message':_0x305af1});}catch(_0x563a97){let _0x3a1bde='Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage',_0x3588c9=_0x563a97 instanceof Error?_0x563a97['message']:typeof _0x563a97=='object'?JSON[_0x5a0c42(0x28a)](_0x563a97):_0x563a97,_0x3bfa13=_0x3a1bde+':\x20'+_0x3588c9;this['logger']['error'](this['instanceName']+'\x20('+this[_0x5a0c42(0x137)][_0x5a0c42(0x64f)]+_0x5a0c42(0x4a7)+_0x3bfa13);}return{'mediaType':_0x2aaad2,'fileName':_0x4e3768[_0x5a0c42(0x102)],'caption':_0x4e3768[_0x5a0c42(0x5bf)],'size':{'fileLength':_0x4e3768[_0x5a0c42(0x5f8)],'height':_0x4e3768['height'],'width':_0x4e3768['width']},'mimetype':_0x4e3768[_0x5a0c42(0x6eb)],'base64':_0xd554f5[_0x5a0c42(0x5e9)](_0x5a0c42(0xcc)),'fileUrl':_0x5b622c,'expires_fileUrl':Date['now']()+_0x24e2cb};}catch(_0x393965){let _0x2e141a=_0x5a0c42(0x5b3),_0x283173=_0x393965 instanceof Error?_0x393965[_0x5a0c42(0x5a0)]:typeof _0x393965==_0x5a0c42(0x157)?JSON[_0x5a0c42(0x28a)](_0x393965):_0x393965,_0x543732=_0x2e141a+':\x20'+_0x283173;throw this['logger'][_0x5a0c42(0x20d)](this[_0x5a0c42(0x768)]+'\x20('+this[_0x5a0c42(0x137)]['wuid']+'):\x20'+_0x543732),new f(_0x543732);}}async[a0_0x4087be(0x614)](_0x56f670,_0x15cad5){const _0x5ec916=a0_0x4087be;let _0x3c0d8f=F[_0x5ec916(0x164)]['join'](__dirname,_0x5ec916(0x656));k['existsSync'](_0x3c0d8f)||k[_0x5ec916(0x564)](_0x3c0d8f,{'recursive':!0x0});let _0x37e227=F[_0x5ec916(0x164)][_0x5ec916(0x76e)](_0x3c0d8f,_0x15cad5);return new Promise((_0x572f6c,_0x773543)=>{const _0x19a0ac=_0x5ec916;k[_0x19a0ac(0x13b)](_0x37e227,_0x56f670,_0x310622=>{const _0x194a7a=_0x19a0ac;_0x310622?(this[_0x194a7a(0x173)][_0x194a7a(0x20d)]('Error\x20writing\x20file:\x20'+(_0x310622 instanceof Error?_0x310622[_0x194a7a(0x5a0)]:JSON[_0x194a7a(0x28a)](_0x310622,null,0x2))),_0x773543(_0x310622)):(this[_0x194a7a(0x173)][_0x194a7a(0x603)]('File\x20written\x20to\x20path:\x20'+_0x37e227),_0x572f6c(_0x37e227));});});}async[a0_0x4087be(0x3e3)](_0x3bd89f){const _0x10e179=a0_0x4087be;return await this[_0x10e179(0x702)][_0x10e179(0x4fb)]['find'](_0x3bd89f,this[_0x10e179(0x137)][_0x10e179(0x64f)]);}async['fetchLabels'](){const _0x264c4a=a0_0x4087be;return await this[_0x264c4a(0x702)][_0x264c4a(0x5f7)]['find']({'where':{}},this[_0x264c4a(0x137)][_0x264c4a(0x64f)]);}async[a0_0x4087be(0x197)](_0x5bde6a){const _0x46626a=a0_0x4087be;return await this['repository'][_0x46626a(0x5a0)]['find'](_0x5bde6a,this[_0x46626a(0x137)][_0x46626a(0x64f)]);}async['fetchChats'](){const _0x52463e=a0_0x4087be;return this[_0x52463e(0x702)][_0x52463e(0x371)][_0x52463e(0x6e9)](this[_0x52463e(0x137)][_0x52463e(0x64f)]),this[_0x52463e(0x702)][_0x52463e(0x371)][_0x52463e(0x750)](this['instance'][_0x52463e(0x64f)]),this[_0x52463e(0x702)]['chat'][_0x52463e(0x36b)](this[_0x52463e(0x137)]['wuid']),this[_0x52463e(0x702)]['chat'][_0x52463e(0xfc)](this['instance'][_0x52463e(0x64f)]),await this['repository'][_0x52463e(0x371)][_0x52463e(0x16d)]({'where':{}},this[_0x52463e(0x137)]['wuid']);}async['importChatsAntigo'](_0x451b9e){const _0x4c243b=a0_0x4087be;try{if(!Array['isArray'](_0x451b9e)||_0x451b9e[_0x4c243b(0x5b5)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x45f688=[],_0x434de8=[];for(let _0x2b196a of _0x451b9e){if(_0x2b196a['_id'])_0x2b196a['_id']=this['createJid'](_0x2b196a[_0x4c243b(0x652)]);else continue;await this[_0x4c243b(0x702)][_0x4c243b(0x371)][_0x4c243b(0x1b0)]({'where':{'_id':_0x2b196a[_0x4c243b(0x652)]}},this[_0x4c243b(0x137)][_0x4c243b(0x64f)])?_0x434de8[_0x4c243b(0x5af)]({'_id':_0x2b196a[_0x4c243b(0x652)],'leadInfo':_0x2b196a[_0x4c243b(0x113)],'owner':this['instance'][_0x4c243b(0x64f)]}):_0x45f688[_0x4c243b(0x5af)]({'_id':_0x2b196a[_0x4c243b(0x652)],'owner':this[_0x4c243b(0x137)]['wuid'],'leadInfo':_0x2b196a['leadInfo'],'imported':!0x0});}return _0x434de8['length']>0x0&&await this[_0x4c243b(0x702)][_0x4c243b(0x371)][_0x4c243b(0x99)](_0x434de8[_0x4c243b(0xaa)](_0x3c3b41=>({'query':{'where':{'_id':_0x3c3b41[_0x4c243b(0x652)],'owner':this[_0x4c243b(0x137)][_0x4c243b(0x64f)]}},'update':_0x3c3b41}))),_0x45f688['length']>0x0&&await this[_0x4c243b(0x702)][_0x4c243b(0x371)]['insertMany'](_0x45f688,this[_0x4c243b(0x137)]['wuid']),{'updated':_0x434de8[_0x4c243b(0x5b5)],'inserted':_0x45f688[_0x4c243b(0x5b5)]};}catch(_0x4944f8){let _0x250ff3=_0x4c243b(0x183),_0x36d26e=_0x4944f8 instanceof Error?_0x4944f8[_0x4c243b(0x5a0)]:typeof _0x4944f8==_0x4c243b(0x157)?JSON[_0x4c243b(0x28a)](_0x4944f8):_0x4944f8,_0x1d4336=_0x250ff3+':\x20'+_0x36d26e;throw this[_0x4c243b(0x173)][_0x4c243b(0x20d)](this['instanceName']+'\x20('+this[_0x4c243b(0x137)]['wuid']+_0x4c243b(0x4a7)+_0x1d4336),new f(_0x1d4336);}}async[a0_0x4087be(0x3bb)](_0x674fa6){const _0x2fb903=a0_0x4087be;try{if(!Array[_0x2fb903(0x14b)](_0x674fa6)||_0x674fa6[_0x2fb903(0x5b5)]===0x0)throw new Error(_0x2fb903(0xfd));let _0x5833af=0x64,_0x598a21=0x0;for(let _0x55a95f=0x0;_0x55a95f<_0x674fa6[_0x2fb903(0x5b5)];_0x55a95f+=_0x5833af){let _0x9951fb=_0x674fa6[_0x2fb903(0x1cd)](_0x55a95f,_0x55a95f+_0x5833af),{updated:_0x584e00}=await this[_0x2fb903(0x2e9)](_0x9951fb);_0x598a21+=_0x584e00;}return{'updated':_0x598a21};}catch(_0x4df7fc){let _0x1fe93d=_0x2fb903(0x183),_0x3b8758=_0x4df7fc instanceof Error?_0x4df7fc[_0x2fb903(0x5a0)]:typeof _0x4df7fc==_0x2fb903(0x157)?JSON[_0x2fb903(0x28a)](_0x4df7fc):_0x4df7fc,_0x356b03=_0x1fe93d+':\x20'+_0x3b8758;throw this[_0x2fb903(0x173)][_0x2fb903(0x20d)](this[_0x2fb903(0x768)]+'\x20('+this[_0x2fb903(0x137)]['wuid']+_0x2fb903(0x4a7)+_0x356b03),new f(_0x356b03);}}async[a0_0x4087be(0x2e9)](_0x2f2f0a){const _0xe97a4d=a0_0x4087be;try{let _0x394b8d=await this[_0xe97a4d(0x702)][_0xe97a4d(0x5f7)][_0xe97a4d(0x16d)]({'where':{}},this[_0xe97a4d(0x137)][_0xe97a4d(0x64f)]),_0x536b29=new Set(_0x394b8d['map'](_0x42efc0=>_0x42efc0['_id'])),_0x18888f=[],_0x1d54cc=[];for(let _0xa9b7bb of _0x2f2f0a){if(!_0xa9b7bb[_0xe97a4d(0x652)])continue;_0xa9b7bb['_id']=this[_0xe97a4d(0x4c8)](_0xa9b7bb[_0xe97a4d(0x652)]);let _0x52e36a=await this[_0xe97a4d(0x702)][_0xe97a4d(0x371)][_0xe97a4d(0x1b0)]({'where':{'_id':_0xa9b7bb[_0xe97a4d(0x652)]}},this[_0xe97a4d(0x137)][_0xe97a4d(0x64f)]),_0xaa78ba={};if(Object['entries'](_0xa9b7bb[_0xe97a4d(0x113)])[_0xe97a4d(0x4e3)](([_0x45730a,_0x571fca])=>{const _0x5259ee=_0xe97a4d;_0xaa78ba[_0x5259ee(0x511)+_0x45730a]=_0x571fca;}),_0x52e36a&&!_0x52e36a[_0xe97a4d(0x649)]){let _0x56ab20=(_0xa9b7bb['leadInfo'][_0xe97a4d(0x20f)]||[])[_0xe97a4d(0x4ba)](_0x515248=>_0x536b29['has'](_0x515248)),_0x3060ca=new Set(_0x52e36a[_0xe97a4d(0x113)][_0xe97a4d(0x20f)]||[]),_0x7640e7=_0x56ab20[_0xe97a4d(0x4ba)](_0x430c82=>!_0x3060ca[_0xe97a4d(0x6fa)](_0x430c82)),_0x490ea7=[..._0x3060ca][_0xe97a4d(0x4ba)](_0x52386f=>!_0x56ab20[_0xe97a4d(0x83)](_0x52386f));_0x1d54cc[_0xe97a4d(0x5af)](..._0x7640e7[_0xe97a4d(0xaa)](_0x46a65f=>this['AddChatLabel'](_0x46a65f,_0xa9b7bb[_0xe97a4d(0x652)]))),_0x1d54cc[_0xe97a4d(0x5af)](..._0x490ea7['map'](_0x3ecd00=>this['RemoveChatLabel'](_0x3ecd00,_0xa9b7bb['_id']))),_0xa9b7bb[_0xe97a4d(0x113)]['etiquetas']=_0x56ab20,_0x18888f[_0xe97a4d(0x5af)]({'query':{'where':{'_id':_0xa9b7bb['_id'],'owner':this['instance'][_0xe97a4d(0x64f)]}},'update':_0xaa78ba});}else _0xaa78ba[_0xe97a4d(0x649)]=!0x0,_0x18888f[_0xe97a4d(0x5af)]({'query':{'where':{'_id':_0xa9b7bb[_0xe97a4d(0x652)],'owner':this[_0xe97a4d(0x137)][_0xe97a4d(0x64f)]}},'update':_0xaa78ba});}let _0x555ad7=await this[_0xe97a4d(0x702)][_0xe97a4d(0x371)][_0xe97a4d(0x99)](_0x18888f);return await Promise[_0xe97a4d(0x76b)](_0x1d54cc),{'updated':_0x555ad7};}catch(_0x588c2f){let _0x3fe51b=_0xe97a4d(0x183),_0x335ab2=_0x588c2f instanceof Error?_0x588c2f[_0xe97a4d(0x5a0)]:typeof _0x588c2f==_0xe97a4d(0x157)?JSON[_0xe97a4d(0x28a)](_0x588c2f):_0x588c2f,_0x510874=_0x3fe51b+':\x20'+_0x335ab2;throw this[_0xe97a4d(0x173)][_0xe97a4d(0x20d)](this[_0xe97a4d(0x768)]+'\x20('+this['instance'][_0xe97a4d(0x64f)]+_0xe97a4d(0x4a7)+_0x510874),new f(_0x510874);}}async['fetchPrivacySettings'](){const _0x511929=a0_0x4087be;return await this[_0x511929(0x400)][_0x511929(0x379)]();}async[a0_0x4087be(0x1cb)](_0x1e3f55){const _0x5025ff=a0_0x4087be;try{return await this['client'][_0x5025ff(0x5c3)](_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x719)]),await this['client'][_0x5025ff(0x1e1)](_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x1ac)]),await this[_0x5025ff(0x400)]['updateStatusPrivacy'](_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x5bb)]),await this[_0x5025ff(0x400)][_0x5025ff(0x331)](_0x1e3f55['privacySettings'][_0x5025ff(0x68e)]),await this[_0x5025ff(0x400)][_0x5025ff(0x261)](_0x1e3f55[_0x5025ff(0x59b)]['last']),await this[_0x5025ff(0x400)]['updateGroupsAddPrivacy'](_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x517)]),this[_0x5025ff(0x400)]?.['ws']?.[_0x5025ff(0x487)](),{'update':_0x5025ff(0xab),'data':{'readreceipts':_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x719)],'profile':_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x1ac)],'status':_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x5bb)],'online':_0x1e3f55['privacySettings'][_0x5025ff(0x68e)],'last':_0x1e3f55[_0x5025ff(0x59b)]['last'],'groupadd':_0x1e3f55[_0x5025ff(0x59b)][_0x5025ff(0x517)]}};}catch(_0x5f1974){let _0x4e646a='Erro\x20ao\x20alterar\x20privacidade',_0x1409a7=_0x5f1974 instanceof Error?_0x5f1974['message']:typeof _0x5f1974==_0x5025ff(0x157)?JSON[_0x5025ff(0x28a)](_0x5f1974):_0x5f1974,_0x24e0a1=_0x4e646a+':\x20'+_0x1409a7;throw this[_0x5025ff(0x173)]['error'](this[_0x5025ff(0x768)]+'\x20('+this[_0x5025ff(0x137)][_0x5025ff(0x64f)]+_0x5025ff(0x4a7)+_0x24e0a1),new f(_0x24e0a1);}}async['fetchProfile'](_0xdace9c){const _0x2e606a=a0_0x4087be;let _0xec9c59=(_0xdace9c?this[_0x2e606a(0x4c8)](_0xdace9c):this[_0x2e606a(0x400)]?.[_0x2e606a(0x472)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x2e606a(0x1aa)](_0x2e606a(0x67d)+_0xec9c59);let _0x509e37=await this[_0x2e606a(0x702)][_0x2e606a(0x4fb)][_0x2e606a(0x1b0)]({'where':{'_id':_0xec9c59}},this[_0x2e606a(0x137)][_0x2e606a(0x64f)]),_0xae9949=_0x509e37?_0x509e37[_0x2e606a(0x4b1)]:null;try{let _0xe80ff=(await this[_0x2e606a(0x666)]({'numbers':[_0xec9c59]}))?.[_0x2e606a(0x55c)](),_0x22347f=(await this[_0x2e606a(0x2fb)](_0xec9c59,null,!0x1))[_0x2e606a(0x6f6)][_0x2e606a(0x2d7)],_0x2af409=await this[_0x2e606a(0x713)](_0xe80ff?.[_0x2e606a(0x547)]),_0x3dc7c6=await this[_0x2e606a(0x1af)](_0xe80ff?.[_0x2e606a(0x547)]),_0x8dcfa2=(await this['findAndUpdateCacheContact'](_0xec9c59,null,!0x1))[_0x2e606a(0x6f6)][_0x2e606a(0x23a)],_0x271b91=await this[_0x2e606a(0x702)]['chat'][_0x2e606a(0x1b0)]({'where':{'_id':_0xec9c59}},this['instance'][_0x2e606a(0x64f)]),_0x4b2372={'imagechat':_0x22347f,'contactname':_0xae9949||null,'pushName':_0x8dcfa2,'status':_0x2af409?.[_0x2e606a(0x5bb)],'isBusiness':_0x3dc7c6[_0x2e606a(0x8a)],'email':_0x3dc7c6?.[_0x2e606a(0x10c)],'description':_0x3dc7c6?.['description'],'website':_0x3dc7c6?.[_0x2e606a(0x434)]?.[_0x2e606a(0x55c)](),'lastcache':Date[_0x2e606a(0x66f)](),'imported':!_0x271b91},_0x54a175=await this[_0x2e606a(0x702)][_0x2e606a(0x371)][_0x2e606a(0x506)]({'where':{'_id':_0xec9c59}},_0x4b2372,this['instance']['wuid']),_0x5fdf61={'owner':this[_0x2e606a(0x137)][_0x2e606a(0x64f)],'_id':_0xec9c59,'profilePictureUrl':_0x22347f,'status':_0x2af409?.['status']};return this['repository'][_0x2e606a(0x4fb)][_0x2e606a(0x15c)]([_0x5fdf61],this['instance'][_0x2e606a(0x64f)]),_0x54a175&&J(this[_0x2e606a(0x768)],_0x2e606a(0x6f1),{'chat':_0x54a175}),{'wuid':_0xe80ff?.[_0x2e606a(0x547)]||_0xec9c59,'name':_0xe80ff?.[_0x2e606a(0x23a)],'pushName':_0x8dcfa2,'numberExists':_0xe80ff?.[_0x2e606a(0x1e2)],'picture':_0x22347f,'status':_0x2af409?.['status'],'isBusiness':_0x3dc7c6[_0x2e606a(0x8a)],'email':_0x3dc7c6?.[_0x2e606a(0x10c)],'description':_0x3dc7c6?.[_0x2e606a(0x304)],'website':_0x3dc7c6?.['website']?.[_0x2e606a(0x55c)]()};}catch(_0x531a6e){return this[_0x2e606a(0x173)][_0x2e606a(0x20d)](_0x2e606a(0x4ab)+(_0x531a6e instanceof Error?_0x531a6e[_0x2e606a(0x5a0)]:JSON[_0x2e606a(0x28a)](_0x531a6e,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1f2798){const _0xffa392=a0_0x4087be;this[_0xffa392(0x173)][_0xffa392(0x1aa)](_0xffa392(0x4f1));try{let _0x55f71d=_0x1f2798?this[_0xffa392(0x4c8)](_0x1f2798):this[_0xffa392(0x137)]['wuid'],_0x398e6e=await this[_0xffa392(0x400)][_0xffa392(0x4ef)](_0x55f71d);return this[_0xffa392(0x173)]['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0x398e6e?(this[_0xffa392(0x173)]['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x398e6e}):{'isBusiness':!0x1,'message':_0xffa392(0x581),...(await this[_0xffa392(0x666)]({'numbers':[_0x55f71d]}))?.[_0xffa392(0x55c)]()};}catch(_0x5986d6){let _0x427402=_0xffa392(0x117),_0x75b23f=_0x5986d6 instanceof Error?_0x5986d6[_0xffa392(0x5a0)]:typeof _0x5986d6==_0xffa392(0x157)?JSON[_0xffa392(0x28a)](_0x5986d6):_0x5986d6,_0x54ed54=_0x427402+':\x20'+_0x75b23f;throw this['logger'][_0xffa392(0x20d)](this[_0xffa392(0x768)]+'\x20('+this[_0xffa392(0x137)][_0xffa392(0x64f)]+_0xffa392(0x4a7)+_0x54ed54),new I(_0x54ed54);}}async[a0_0x4087be(0x713)](_0x1f865a){const _0x29d6aa=a0_0x4087be;let _0x3966bf=this[_0x29d6aa(0x4c8)](_0x1f865a);try{return{'wuid':_0x3966bf,'status':(await this['client'][_0x29d6aa(0x675)](_0x3966bf))?.[_0x29d6aa(0x5bb)]};}catch{return{'wuid':_0x3966bf,'status':null};}}async[a0_0x4087be(0x4b4)](_0xd891f){const _0x5eb4ab=a0_0x4087be;try{return await this[_0x5eb4ab(0x400)][_0x5eb4ab(0x4b4)](_0xd891f),{'update':'success'};}catch(_0x29fa0b){let _0x3b38e1=_0x5eb4ab(0x6b9),_0x36c785=_0x29fa0b instanceof Error?_0x29fa0b['message']:typeof _0x29fa0b==_0x5eb4ab(0x157)?JSON[_0x5eb4ab(0x28a)](_0x29fa0b):_0x29fa0b,_0x375e17=_0x3b38e1+':\x20'+_0x36c785;throw this['logger'][_0x5eb4ab(0x20d)](this[_0x5eb4ab(0x768)]+'\x20('+this[_0x5eb4ab(0x137)][_0x5eb4ab(0x64f)]+_0x5eb4ab(0x4a7)+_0x375e17),new I(_0x375e17);}}async[a0_0x4087be(0x416)](_0x11d2e2){const _0x481e41=a0_0x4087be;try{return await this[_0x481e41(0x400)][_0x481e41(0x416)](_0x11d2e2),{'update':_0x481e41(0xab)};}catch(_0x974515){let _0x53f5b7=_0x481e41(0x32a),_0x1442ed=_0x974515 instanceof Error?_0x974515[_0x481e41(0x5a0)]:typeof _0x974515==_0x481e41(0x157)?JSON['stringify'](_0x974515):_0x974515,_0x47d4f2=_0x53f5b7+':\x20'+_0x1442ed;throw this[_0x481e41(0x173)]['error'](this[_0x481e41(0x768)]+'\x20('+this[_0x481e41(0x137)]['wuid']+_0x481e41(0x4a7)+_0x47d4f2),new I(_0x47d4f2);}}async[a0_0x4087be(0x15d)](_0x17e919){const _0x17b8df=a0_0x4087be;try{let _0x47e576;if((0x0,_[_0x17b8df(0x682)])(_0x17e919)){let _0x234f21=new Date()[_0x17b8df(0x5d0)](),_0x2b16f8=_0x17e919+'?timestamp='+_0x234f21;_0x47e576=(await K[_0x17b8df(0x164)][_0x17b8df(0x5e6)](_0x2b16f8,{'responseType':_0x17b8df(0x126)}))[_0x17b8df(0x109)];}else{if((0x0,_[_0x17b8df(0x2b7)])(_0x17e919))_0x47e576=Buffer['from'](_0x17e919,'base64');else throw new f(_0x17b8df(0x380));}return await this[_0x17b8df(0x400)][_0x17b8df(0x15d)](this[_0x17b8df(0x137)][_0x17b8df(0x64f)],_0x47e576),{'update':_0x17b8df(0xab)};}catch(_0x6dd7e6){let _0x4d7e0a=_0x17b8df(0x549),_0x3950b5=_0x6dd7e6 instanceof Error?_0x6dd7e6[_0x17b8df(0x5a0)]:typeof _0x6dd7e6==_0x17b8df(0x157)?JSON['stringify'](_0x6dd7e6):_0x6dd7e6,_0x3fec5e=_0x4d7e0a+':\x20'+_0x3950b5;throw this['logger'][_0x17b8df(0x20d)](this['instanceName']+'\x20('+this['instance'][_0x17b8df(0x64f)]+_0x17b8df(0x4a7)+_0x3fec5e),new I(_0x3fec5e);}}async[a0_0x4087be(0x525)](){const _0x4bc4ad=a0_0x4087be;try{return await this[_0x4bc4ad(0x400)][_0x4bc4ad(0x525)](this[_0x4bc4ad(0x137)][_0x4bc4ad(0x64f)]),{'update':_0x4bc4ad(0xab)};}catch(_0x4204ea){let _0x586e75=_0x4bc4ad(0x686),_0x416d47=_0x4204ea instanceof Error?_0x4204ea[_0x4bc4ad(0x5a0)]:typeof _0x4204ea==_0x4bc4ad(0x157)?JSON['stringify'](_0x4204ea):_0x4204ea,_0x13eb63=_0x586e75+':\x20'+_0x416d47;throw this[_0x4bc4ad(0x173)][_0x4bc4ad(0x20d)](this[_0x4bc4ad(0x768)]+'\x20('+this[_0x4bc4ad(0x137)][_0x4bc4ad(0x64f)]+_0x4bc4ad(0x4a7)+_0x13eb63),new I(_0x13eb63);}}async[a0_0x4087be(0x556)](_0xe5396c){const _0x5d9605=a0_0x4087be;try{let _0x433cbd=(await this['whatsappNumber']({'numbers':_0xe5396c[_0x5d9605(0x303)]}))[_0x5d9605(0x4ba)](_0x2c1d6d=>_0x2c1d6d[_0x5d9605(0x1e2)])['map'](_0x4ee58f=>_0x4ee58f[_0x5d9605(0x547)]),{id:_0x5c66e3}=await this['client']['groupCreate'](_0xe5396c[_0x5d9605(0x314)],_0x433cbd);return _0xe5396c?.[_0x5d9605(0x304)]&&await this[_0x5d9605(0x400)][_0x5d9605(0x609)](_0x5c66e3,_0xe5396c[_0x5d9605(0x304)]),{'metadata':await this['client'][_0x5d9605(0x10d)](_0x5c66e3)};}catch(_0x40a56c){let _0x220351=_0x5d9605(0x6e0),_0x699329=_0x40a56c instanceof Error?_0x40a56c['message']:typeof _0x40a56c==_0x5d9605(0x157)?JSON['stringify'](_0x40a56c):_0x40a56c,_0xda35ae=_0x220351+':\x20'+_0x699329;throw this[_0x5d9605(0x173)][_0x5d9605(0x20d)](this[_0x5d9605(0x768)]+'\x20('+this[_0x5d9605(0x137)][_0x5d9605(0x64f)]+_0x5d9605(0x4a7)+_0xda35ae),new I(_0xda35ae);}}async[a0_0x4087be(0x2d8)](_0x1ae302){const _0x32d97b=a0_0x4087be;try{let _0x2a0842;if((0x0,_[_0x32d97b(0x682)])(_0x1ae302[_0x32d97b(0x2f6)])){let _0x263fe5=new Date()[_0x32d97b(0x5d0)](),_0x23af6d=_0x1ae302[_0x32d97b(0x2f6)]+_0x32d97b(0x6fb)+_0x263fe5;_0x2a0842=(await K['default'][_0x32d97b(0x5e6)](_0x23af6d,{'responseType':'arraybuffer'}))[_0x32d97b(0x109)];}else{if((0x0,_[_0x32d97b(0x2b7)])(_0x1ae302[_0x32d97b(0x2f6)]))_0x2a0842=Buffer[_0x32d97b(0x52d)](_0x1ae302[_0x32d97b(0x2f6)],_0x32d97b(0xcc));else throw new f(_0x32d97b(0x380));}return await this[_0x32d97b(0x400)][_0x32d97b(0x15d)](_0x1ae302['groupJid'],_0x2a0842),{'update':_0x32d97b(0xab)};}catch(_0x291893){let _0x1e4c4f=_0x32d97b(0x361),_0x27a059=_0x291893 instanceof Error?_0x291893[_0x32d97b(0x5a0)]:typeof _0x291893==_0x32d97b(0x157)?JSON[_0x32d97b(0x28a)](_0x291893):_0x291893,_0x1762cf=_0x1e4c4f+':\x20'+_0x27a059;throw this['logger'][_0x32d97b(0x20d)](this[_0x32d97b(0x768)]+'\x20('+this[_0x32d97b(0x137)][_0x32d97b(0x64f)]+'):\x20'+_0x1762cf),new I(_0x1762cf);}}async['groupDesc'](_0x2ff2f5){const _0x34595c=a0_0x4087be;try{return await this[_0x34595c(0x400)][_0x34595c(0x609)](_0x2ff2f5['groupJid'],_0x2ff2f5[_0x34595c(0x304)]),{'update':_0x34595c(0xab)};}catch(_0x17d0ed){let _0x5f3195=_0x34595c(0x464),_0x10048f=_0x17d0ed instanceof Error?_0x17d0ed[_0x34595c(0x5a0)]:typeof _0x17d0ed=='object'?JSON[_0x34595c(0x28a)](_0x17d0ed):_0x17d0ed,_0x215745=_0x5f3195+':\x20'+_0x10048f;throw this['logger']['error'](this[_0x34595c(0x768)]+'\x20('+this['instance'][_0x34595c(0x64f)]+_0x34595c(0x4a7)+_0x215745),new I(_0x215745);}}async[a0_0x4087be(0xcb)](_0x15da03){const _0x1ec411=a0_0x4087be;try{return await this[_0x1ec411(0x400)][_0x1ec411(0x3bd)](_0x15da03['groupJid'],_0x15da03['name']),{'update':'success'};}catch(_0x4758c9){let _0x42ef80=_0x1ec411(0x223),_0xdc4e3=_0x4758c9 instanceof Error?_0x4758c9[_0x1ec411(0x5a0)]:typeof _0x4758c9==_0x1ec411(0x157)?JSON[_0x1ec411(0x28a)](_0x4758c9):_0x4758c9,_0x313bce=_0x42ef80+':\x20'+_0xdc4e3;throw this[_0x1ec411(0x173)][_0x1ec411(0x20d)](this[_0x1ec411(0x768)]+'\x20('+this[_0x1ec411(0x137)][_0x1ec411(0x64f)]+_0x1ec411(0x4a7)+_0x313bce),new I(_0x313bce);}}async[a0_0x4087be(0x742)](_0x36793e){const _0x50d549=a0_0x4087be;try{let _0x57d1eb=await this[_0x50d549(0x400)][_0x50d549(0x437)](_0x36793e['groupJid'],_0x36793e['expiration']);return{'success':!0x0};}catch(_0x33fa8b){let _0x257ec3=_0x50d549(0x7e),_0x41c767=_0x33fa8b instanceof Error?_0x33fa8b[_0x50d549(0x5a0)]:typeof _0x33fa8b=='object'?JSON[_0x50d549(0x28a)](_0x33fa8b):_0x33fa8b,_0x2c7115=_0x257ec3+':\x20'+_0x41c767;throw this[_0x50d549(0x173)][_0x50d549(0x20d)](this[_0x50d549(0x768)]+'\x20('+this[_0x50d549(0x137)][_0x50d549(0x64f)]+_0x50d549(0x4a7)+_0x2c7115),new I(_0x2c7115);}}async[a0_0x4087be(0x730)](_0xf67c89){const _0x4a8b2d=a0_0x4087be;try{return await this[_0x4a8b2d(0x400)]['groupSettingUpdate'](_0xf67c89[_0x4a8b2d(0x758)],_0xf67c89[_0x4a8b2d(0x92)]),{'update':_0x4a8b2d(0xab)};}catch(_0x1713ad){let _0x3d8e24='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting',_0x81843f=_0x1713ad instanceof Error?_0x1713ad[_0x4a8b2d(0x5a0)]:typeof _0x1713ad==_0x4a8b2d(0x157)?JSON['stringify'](_0x1713ad):_0x1713ad,_0x1b3edc=_0x3d8e24+':\x20'+_0x81843f;throw this[_0x4a8b2d(0x173)][_0x4a8b2d(0x20d)](this[_0x4a8b2d(0x768)]+'\x20('+this[_0x4a8b2d(0x137)][_0x4a8b2d(0x64f)]+'):\x20'+_0x1b3edc),new I(_0x1b3edc);}}async['groupBetterSetting'](_0x421ee3){const _0x5b2fa2=a0_0x4087be;try{if(_0x421ee3['restrict']===!0x0&&await this[_0x5b2fa2(0x400)]['groupSettingUpdate'](_0x421ee3[_0x5b2fa2(0x758)],_0x5b2fa2(0x18e)),_0x421ee3['restrict']===!0x1&&await this[_0x5b2fa2(0x400)]['groupSettingUpdate'](_0x421ee3[_0x5b2fa2(0x758)],_0x5b2fa2(0x2a8)),_0x421ee3[_0x5b2fa2(0x3d7)]===!0x0&&await this['client']['groupSettingUpdate'](_0x421ee3[_0x5b2fa2(0x758)],'announcement'),_0x421ee3[_0x5b2fa2(0x3d7)]===!0x1&&await this[_0x5b2fa2(0x400)]['groupSettingUpdate'](_0x421ee3['groupJid'],_0x5b2fa2(0x4d8)),_0x421ee3[_0x5b2fa2(0x5db)]===!0x0&&await this[_0x5b2fa2(0x400)]['groupMemberAddMode'](_0x421ee3['groupJid'],_0x5b2fa2(0x268)),_0x421ee3['memberAddMode']===!0x1&&await this[_0x5b2fa2(0x400)][_0x5b2fa2(0x541)](_0x421ee3[_0x5b2fa2(0x758)],'admin_add'),_0x421ee3[_0x5b2fa2(0x383)]===!0x0&&await this[_0x5b2fa2(0x400)][_0x5b2fa2(0x2e6)](_0x421ee3['groupJid'],'on'),_0x421ee3['joinApprovalMode']===!0x1&&await this[_0x5b2fa2(0x400)][_0x5b2fa2(0x2e6)](_0x421ee3['groupJid'],_0x5b2fa2(0xe0)),typeof _0x421ee3[_0x5b2fa2(0x593)]<'u'&&_0x421ee3[_0x5b2fa2(0x593)]!==null&&await this[_0x5b2fa2(0x400)][_0x5b2fa2(0x437)](_0x421ee3[_0x5b2fa2(0x758)],_0x421ee3[_0x5b2fa2(0x593)]),_0x421ee3[_0x5b2fa2(0x23a)]&&await this['client'][_0x5b2fa2(0x3bd)](_0x421ee3[_0x5b2fa2(0x758)],_0x421ee3[_0x5b2fa2(0x23a)]),_0x421ee3[_0x5b2fa2(0x304)]&&await this[_0x5b2fa2(0x400)][_0x5b2fa2(0x609)](_0x421ee3['groupJid'],_0x421ee3[_0x5b2fa2(0x304)]),_0x421ee3[_0x5b2fa2(0x2f6)]){let _0x7cff0a;if((0x0,_[_0x5b2fa2(0x682)])(_0x421ee3[_0x5b2fa2(0x2f6)])){let _0x169892=new Date()[_0x5b2fa2(0x5d0)](),_0x1fe3a9=_0x421ee3[_0x5b2fa2(0x2f6)]+_0x5b2fa2(0x6fb)+_0x169892;_0x7cff0a=(await K['default'][_0x5b2fa2(0x5e6)](_0x1fe3a9,{'responseType':_0x5b2fa2(0x126)}))[_0x5b2fa2(0x109)];}else{if((0x0,_[_0x5b2fa2(0x2b7)])(_0x421ee3['image']))_0x7cff0a=Buffer[_0x5b2fa2(0x52d)](_0x421ee3[_0x5b2fa2(0x2f6)],'base64');else throw new f(_0x5b2fa2(0x380));}await this['client'][_0x5b2fa2(0x15d)](_0x421ee3['groupJid'],_0x7cff0a);}return await this['findGroup']({'groupJid':_0x421ee3['groupJid']});}catch(_0x4aa839){let _0x4ff1d8=_0x5b2fa2(0x4fa),_0x43de84=_0x4aa839 instanceof Error?_0x4aa839[_0x5b2fa2(0x5a0)]:typeof _0x4aa839=='object'?JSON['stringify'](_0x4aa839):_0x4aa839,_0x3ed079=_0x4ff1d8+':\x20'+_0x43de84;throw this[_0x5b2fa2(0x173)][_0x5b2fa2(0x20d)](this[_0x5b2fa2(0x768)]+'\x20('+this['instance'][_0x5b2fa2(0x64f)]+_0x5b2fa2(0x4a7)+_0x3ed079),new I(_0x3ed079);}}async[a0_0x4087be(0x133)](_0xf7fa42){const _0x4649f1=a0_0x4087be;try{if(_0xf7fa42[_0x4649f1(0x4f0)]==='approve'||_0xf7fa42[_0x4649f1(0x4f0)]===_0x4649f1(0x2fc)){let _0x493418=_0xf7fa42[_0x4649f1(0x303)]['map'](_0x3f14b5=>this[_0x4649f1(0x4c8)](_0x3f14b5));await this[_0x4649f1(0x400)][_0x4649f1(0x644)](_0xf7fa42['groupJid'],_0x493418,_0xf7fa42[_0x4649f1(0x4f0)]);}else{if(_0xf7fa42[_0x4649f1(0x4f0)]===_0x4649f1(0x57a)){let _0x31d8bf=(await this[_0x4649f1(0x666)]({'numbers':_0xf7fa42[_0x4649f1(0x303)]}))[_0x4649f1(0x4ba)](_0x3557ee=>_0x3557ee[_0x4649f1(0x1e2)])[_0x4649f1(0xaa)](_0x52710f=>this['createJid'](_0x52710f[_0x4649f1(0x547)]));if(_0x31d8bf['length']===0x0)throw new f(_0x4649f1(0x48b));await this[_0x4649f1(0x400)][_0x4649f1(0x3cf)](_0xf7fa42['groupJid'],_0x31d8bf,_0x4649f1(0x57a));}else{let _0x4250bf=_0xf7fa42['participants'][_0x4649f1(0xaa)](_0x332217=>this['createJid'](_0x332217));await this['client'][_0x4649f1(0x3cf)](_0xf7fa42['groupJid'],_0x4250bf,_0xf7fa42['action']);}}return await this[_0x4649f1(0x3c5)]({'groupJid':_0xf7fa42[_0x4649f1(0x758)]});}catch(_0x502fc9){let _0x169258=_0x4649f1(0x624),_0x110a42=_0x502fc9 instanceof Error?_0x502fc9[_0x4649f1(0x5a0)]:typeof _0x502fc9==_0x4649f1(0x157)?JSON[_0x4649f1(0x28a)](_0x502fc9):_0x502fc9,_0x3e3cd2=_0x169258+':\x20'+_0x110a42;throw this[_0x4649f1(0x173)][_0x4649f1(0x20d)](this['instanceName']+'\x20('+this[_0x4649f1(0x137)]['wuid']+'):\x20'+_0x3e3cd2),new f(_0x3e3cd2);}}async[a0_0x4087be(0x37b)](_0x4e5227){const _0x5d5a72=a0_0x4087be;try{return await this[_0x5d5a72(0x400)][_0x5d5a72(0x37b)](_0x4e5227['inviteCode']);}catch(_0x1f81f8){let _0x4b5427=_0x5d5a72(0x375),_0x426adf=_0x1f81f8 instanceof Error?_0x1f81f8[_0x5d5a72(0x5a0)]:typeof _0x1f81f8==_0x5d5a72(0x157)?JSON[_0x5d5a72(0x28a)](_0x1f81f8):_0x1f81f8,_0x442f2b=_0x4b5427+':\x20'+_0x426adf;throw this[_0x5d5a72(0x173)]['error'](this[_0x5d5a72(0x768)]+'\x20('+this[_0x5d5a72(0x137)][_0x5d5a72(0x64f)]+'):\x20'+_0x442f2b),new f(_0x442f2b);}}async['findGroup'](_0x378c73,_0x4d1290='out'){const _0x39f56d=a0_0x4087be;try{let _0x5adb78=await this['repository']['chat']['findOne']({'where':{'_id':_0x378c73['groupJid']}},this['instance'][_0x39f56d(0x64f)]),_0x27aa10=_0x5adb78?_0x5adb78[_0x39f56d(0x55a)]:null,_0x105e56=0x18*0x3c*0x3c*0x3e8;if(!_0x27aa10||_0x27aa10['lastUpdate']&&Date[_0x39f56d(0x66f)]()-_0x27aa10[_0x39f56d(0x1d1)]>_0x105e56){let _0x29592a=await this[_0x39f56d(0x400)][_0x39f56d(0x10d)](_0x378c73['groupJid']);if(_0x29592a[_0x39f56d(0x490)]=_0x29592a?.[_0x39f56d(0x490)]&&_0x29592a['subjectTime']['toString']()[_0x39f56d(0x5b5)]<0xd?_0x29592a?.[_0x39f56d(0x490)]*0x3e8:_0x29592a?.['subjectTime']||null,_0x29592a[_0x39f56d(0x347)]=_0x29592a?.[_0x39f56d(0x347)]&&_0x29592a[_0x39f56d(0x347)][_0x39f56d(0x5e9)]()[_0x39f56d(0x5b5)]<0xd?_0x29592a?.[_0x39f56d(0x347)]*0x3e8:_0x29592a?.[_0x39f56d(0x347)]||null,_0x27aa10={..._0x29592a,'lastUpdate':Date[_0x39f56d(0x66f)]()},!_0x29592a)return;}let _0x19fa90=_0x27aa10[_0x39f56d(0x303)][_0x39f56d(0x5b0)](_0x44c340=>_0x44c340['id']===this['instance'][_0x39f56d(0x64f)]+_0x39f56d(0x411)&&_0x44c340[_0x39f56d(0x489)]!=null);!_0x27aa10[_0x39f56d(0x570)]&&_0x19fa90&&(_0x27aa10[_0x39f56d(0x570)]=(await this[_0x39f56d(0x570)](_0x378c73,!0x1))[_0x39f56d(0x565)]);let _0xa7db0f=(!_0x27aa10[_0x39f56d(0x3d7)]||_0x19fa90)&&(!_0x27aa10['isCommunity']||_0x27aa10[_0x39f56d(0xed)]&&_0x27aa10[_0x39f56d(0x3a0)]&&_0x19fa90);_0x27aa10[_0x39f56d(0x1a9)]=_0x19fa90,_0x27aa10[_0x39f56d(0x5e2)]=_0xa7db0f;let _0xbb2560=[];try{_0xbb2560=await this[_0x39f56d(0x400)]['groupRequestParticipantsList'](_0x378c73[_0x39f56d(0x758)]),_0x27aa10[_0x39f56d(0x557)]=Date[_0x39f56d(0x66f)]();}catch(_0x30dc5a){this[_0x39f56d(0x173)][_0x39f56d(0x1aa)](this[_0x39f56d(0x768)]+'\x20('+this[_0x39f56d(0x137)][_0x39f56d(0x64f)]+_0x39f56d(0x3fb)+_0x378c73[_0x39f56d(0x758)]+':\x20'+(_0x30dc5a instanceof Error?_0x30dc5a[_0x39f56d(0x5a0)]:JSON[_0x39f56d(0x28a)](_0x30dc5a,null,0x2)));}try{_0x27aa10[_0x39f56d(0x2f6)]=(await this[_0x39f56d(0x2fb)](_0x378c73[_0x39f56d(0x758)],null,!0x0))[_0x39f56d(0x6f6)][_0x39f56d(0x2d7)];}catch(_0x447cc2){this[_0x39f56d(0x173)][_0x39f56d(0x1aa)](this['instanceName']+'\x20('+this[_0x39f56d(0x137)][_0x39f56d(0x64f)]+_0x39f56d(0x761)+_0x378c73[_0x39f56d(0x758)]+':\x20'+(_0x447cc2 instanceof Error?_0x447cc2[_0x39f56d(0x5a0)]:JSON[_0x39f56d(0x28a)](_0x447cc2,null,0x2)));}let _0x3daf4e=_0x27aa10[_0x39f56d(0x303)][_0x39f56d(0xaa)](_0x1d94c2=>_0x1d94c2['id']),_0x38bb88=_0xbb2560[_0x39f56d(0xaa)](_0x2e9a05=>_0x2e9a05['jid']),_0x415633=await this[_0x39f56d(0x702)][_0x39f56d(0x4c9)][_0x39f56d(0x306)]([..._0x3daf4e,..._0x38bb88]);_0x27aa10[_0x39f56d(0x303)]=_0x27aa10['participants'][_0x39f56d(0xaa)](_0x1e8bb8=>{const _0x274987=_0x39f56d;let _0x2052e9=_0x415633[_0x274987(0x16d)](_0x5c3425=>_0x5c3425[_0x274987(0x652)]===_0x1e8bb8['id']);return{'id':_0x1e8bb8['id'],'isAdmin':[_0x274987(0x489),_0x274987(0x681)][_0x274987(0x83)](_0x1e8bb8[_0x274987(0x489)]),'admin':_0x1e8bb8[_0x274987(0x489)],'pushName':_0x2052e9?.['name'],'profilePictureUrl':_0x2052e9?.[_0x274987(0x2d7)]};}),_0x27aa10['awaitingApproval']=_0xbb2560[_0x39f56d(0xaa)](_0x226612=>{const _0x54485d=_0x39f56d;let _0x370e1a=_0x415633[_0x54485d(0x16d)](_0x4e5038=>_0x4e5038[_0x54485d(0x652)]===_0x226612['jid']);return{'id':_0x226612['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x370e1a?.[_0x54485d(0x23a)],'profilePictureUrl':_0x370e1a?.['pictureUrl'],'request_method':_0x226612[_0x54485d(0x159)],'request_time':_0x226612[_0x54485d(0x292)]};});let _0x2a3d2b=await this[_0x39f56d(0x702)][_0x39f56d(0x371)][_0x39f56d(0x506)]({'where':{'_id':_0x378c73[_0x39f56d(0x758)]}},{'imagechat':_0x27aa10[_0x39f56d(0x2f6)],'name':_0x27aa10[_0x39f56d(0x314)],'lastcache':Date[_0x39f56d(0x66f)](),'groupdata':_0x27aa10},this['instance'][_0x39f56d(0x64f)]);return J(this[_0x39f56d(0x768)],_0x39f56d(0x6f1),{'chat':_0x2a3d2b}),{'metadata':_0x27aa10};}catch(_0x5f50ce){if(_0x4d1290===_0x39f56d(0x15e))return;throw new U(_0x39f56d(0x488),_0x5f50ce[_0x39f56d(0x5a0)]['toString']());}}async[a0_0x4087be(0x622)](){const _0x2fcdc3=a0_0x4087be;try{let _0xc20d9d=[],_0x3e9990=await this['client'][_0x2fcdc3(0xf6)](),_0x5206b8=Object[_0x2fcdc3(0x6d0)](_0x3e9990),_0x2cad8e=_0x5206b8[_0x2fcdc3(0x4ba)](_0x35ade3=>(0x0,w['isJidGroup'])(_0x35ade3?.['id']))[_0x2fcdc3(0xaa)](async _0x42bbeb=>{const _0x1475dc=_0x2fcdc3;try{return await this[_0x1475dc(0x400)]['profilePictureUrl'](_0x42bbeb['id'],'preview');}catch(_0x1ba9ab){return this[_0x1475dc(0x173)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1475dc(0x761)+_0x42bbeb['id']+':\x20'+(_0x1ba9ab instanceof Error?_0x1ba9ab[_0x1475dc(0x5a0)]:JSON[_0x1475dc(0x28a)](_0x1ba9ab,null,0x2))),null;}}),_0xaaa70=await Promise[_0x2fcdc3(0x76b)](_0x2cad8e);for(let _0x507d08=0x0;_0x507d08<_0x5206b8[_0x2fcdc3(0x5b5)];_0x507d08++){let _0x4b8686=_0x5206b8[_0x507d08];(0x0,w['isJidGroup'])(_0x4b8686?.['id'])&&(_0xc20d9d[_0x2fcdc3(0x5af)]({'groupJid':_0x4b8686?.['id'],'subject':_0x4b8686?.[_0x2fcdc3(0x314)],'subjectOwner':_0x4b8686?.[_0x2fcdc3(0x5ea)]?.['split']('@')[0x0],'subjectTime':_0x4b8686?.[_0x2fcdc3(0x490)],'creation':_0x4b8686?.['creation'],'size':_0x4b8686?.[_0x2fcdc3(0x303)]?.[_0x2fcdc3(0x5b5)],'owner':_0x4b8686?.['owner']?.[_0x2fcdc3(0x2f1)]('@')[0x0],'desc':_0x4b8686?.['desc'],'restrict':_0x4b8686?.[_0x2fcdc3(0x741)],'announce':_0x4b8686?.[_0x2fcdc3(0x3d7)],'image':_0xaaa70[_0x507d08],'isCommunity':_0x4b8686?.[_0x2fcdc3(0xed)],'joinApprovalMode':_0x4b8686?.[_0x2fcdc3(0x383)],'memberCanAddParticipant':_0x4b8686?.['memberAddMode'],'participants':_0x4b8686?.[_0x2fcdc3(0x303)],'descOwner':_0x4b8686?.[_0x2fcdc3(0x1f3)],'descId':_0x4b8686?.[_0x2fcdc3(0x482)],'memberAddMode':_0x4b8686?.[_0x2fcdc3(0x5db)],'isCommunityAnnounce':_0x4b8686?.[_0x2fcdc3(0x3a0)],'ephemeralDuration':_0x4b8686?.[_0x2fcdc3(0x41d)]||0x0,'author':_0x4b8686?.[_0x2fcdc3(0x6ea)]}),this[_0x2fcdc3(0x73b)](_0x5206b8[_0x507d08]));}return _0xc20d9d;}catch(_0x1279dc){let _0x47835b=_0x2fcdc3(0x370),_0x124dd7=_0x1279dc instanceof Error?_0x1279dc[_0x2fcdc3(0x5a0)]:typeof _0x1279dc==_0x2fcdc3(0x157)?JSON['stringify'](_0x1279dc):_0x1279dc,_0x135573=_0x47835b+':\x20'+_0x124dd7;throw this[_0x2fcdc3(0x173)][_0x2fcdc3(0x20d)](this['instanceName']+'\x20('+this[_0x2fcdc3(0x137)]['wuid']+_0x2fcdc3(0x4a7)+_0x135573),new U(_0x135573);}}async[a0_0x4087be(0x73b)](_0xd86106){const _0xe2def8=a0_0x4087be;let _0x27cd7c=await this[_0xe2def8(0x702)][_0xe2def8(0x371)]['findOne']({'where':{'_id':_0xd86106['id']}},this[_0xe2def8(0x137)]['wuid']);_0xd86106[_0xe2def8(0x490)]=_0xd86106?.[_0xe2def8(0x490)]&&_0xd86106[_0xe2def8(0x490)]['toString']()[_0xe2def8(0x5b5)]<0xd?_0xd86106?.[_0xe2def8(0x490)]*0x3e8:_0xd86106?.[_0xe2def8(0x490)]||null,_0xd86106[_0xe2def8(0x347)]=_0xd86106?.[_0xe2def8(0x347)]&&_0xd86106['creation'][_0xe2def8(0x5e9)]()[_0xe2def8(0x5b5)]<0xd?_0xd86106?.[_0xe2def8(0x347)]*0x3e8:_0xd86106?.[_0xe2def8(0x347)]||null;let _0x7d0c39=_0x27cd7c?.[_0xe2def8(0x55a)]?.['awaitingApproval']||[],_0x614631=_0x27cd7c?.[_0xe2def8(0x55a)]?.[_0xe2def8(0x557)],_0x392e5f=_0xd86106[_0xe2def8(0x303)][_0xe2def8(0xaa)](_0x407d06=>{const _0x215ce1=_0xe2def8;let _0xe480ab=_0x27cd7c?.[_0x215ce1(0x55a)]?.[_0x215ce1(0x303)][_0x215ce1(0x16d)](_0x48b2f7=>_0x48b2f7['id']===_0x407d06['id']);return{..._0x407d06,'isAdmin':[_0x215ce1(0x489),_0x215ce1(0x681)][_0x215ce1(0x83)](_0x407d06[_0x215ce1(0x489)]),'admin':_0x407d06[_0x215ce1(0x489)],'name':_0xe480ab?.[_0x215ce1(0x23a)]||_0x407d06[_0x215ce1(0x23a)],'imgUrl':_0xe480ab?.['imgUrl']||_0x407d06[_0x215ce1(0x217)]};}),_0x4c940e=_0x392e5f['some'](_0x4ca657=>_0x4ca657['id']===this[_0xe2def8(0x137)]['wuid']+_0xe2def8(0x411)&&_0x4ca657[_0xe2def8(0x1a9)]),_0x1a84ce=(!_0xd86106[_0xe2def8(0x3d7)]||_0x4c940e)&&(!_0xd86106[_0xe2def8(0xed)]||_0xd86106[_0xe2def8(0xed)]&&_0xd86106[_0xe2def8(0x3a0)]&&_0x4c940e),_0x273b7e={..._0xd86106,'participants':_0x392e5f,'awaitingApproval':_0x7d0c39,'lastFetchAwaitingApproval':_0x614631,'isAdmin':_0x4c940e,'canSendMessage':_0x1a84ce,'lastUpdate':Date[_0xe2def8(0x66f)]()};await this['repository'][_0xe2def8(0x371)][_0xe2def8(0x506)]({'where':{'_id':_0xd86106['id']}},{'name':_0xd86106[_0xe2def8(0x314)],'group':!0x0,'groupdata':_0x273b7e,'lastcache':Date['now']()},this[_0xe2def8(0x137)][_0xe2def8(0x64f)]),J(this[_0xe2def8(0x768)],_0xe2def8(0x6f1),{'chat':_0xd86106});}async['updateGroupWebhook'](_0x8c1640){const _0xb7521a=a0_0x4087be;let _0x15bfe1=await this[_0xb7521a(0x702)]['chat'][_0xb7521a(0x1b0)]({'where':{'_id':_0x8c1640['id']}},this[_0xb7521a(0x137)][_0xb7521a(0x64f)]);_0x8c1640[_0xb7521a(0x490)]=_0x8c1640?.['subjectTime']&&_0x8c1640['subjectTime'][_0xb7521a(0x5e9)]()[_0xb7521a(0x5b5)]<0xd?_0x8c1640?.[_0xb7521a(0x490)]*0x3e8:_0x8c1640?.['subjectTime']||null,_0x8c1640['creation']=_0x8c1640?.[_0xb7521a(0x347)]&&_0x8c1640[_0xb7521a(0x347)][_0xb7521a(0x5e9)]()[_0xb7521a(0x5b5)]<0xd?_0x8c1640?.[_0xb7521a(0x347)]*0x3e8:_0x8c1640?.[_0xb7521a(0x347)]||null,_0x8c1640[_0xb7521a(0x570)]&&(_0x8c1640['inviteCode']=_0xb7521a(0x392)+_0x8c1640[_0xb7521a(0x570)]);let _0x565588=_0x15bfe1?.[_0xb7521a(0x55a)]?{..._0x15bfe1[_0xb7521a(0x55a)]}:{};Object[_0xb7521a(0x75e)](_0x8c1640)[_0xb7521a(0x4e3)](_0x88ae7=>{_0x88ae7!=='id'&&(_0x565588[_0x88ae7]=_0x8c1640[_0x88ae7]);});let _0x2d3efe=_0x565588['participants']?.[_0xb7521a(0x5b0)](_0x2683e6=>_0x2683e6['id']===this[_0xb7521a(0x137)]['wuid']+_0xb7521a(0x411)&&_0x2683e6[_0xb7521a(0x1a9)])||!0x1;_0x565588[_0xb7521a(0x1a9)]=_0x2d3efe;let _0x473ede=(!_0x565588[_0xb7521a(0x3d7)]||_0x2d3efe)&&(!_0x565588[_0xb7521a(0xed)]||_0x565588[_0xb7521a(0xed)]&&_0x565588[_0xb7521a(0x3a0)]&&_0x2d3efe);_0x565588[_0xb7521a(0x5e2)]=_0x473ede;let _0x2772e4={'group':!0x0,'groupdata':_0x565588};_0x8c1640[_0xb7521a(0x314)]&&(_0x2772e4[_0xb7521a(0x23a)]=_0x8c1640[_0xb7521a(0x314)]),await this[_0xb7521a(0x702)][_0xb7521a(0x371)][_0xb7521a(0x506)]({'where':{'_id':_0x8c1640['id']}},_0x2772e4,this['instance'][_0xb7521a(0x64f)],{'upsert':!0x0}),J(this[_0xb7521a(0x768)],_0xb7521a(0x6f1),{'chat':_0x2772e4});}async['updateGroupParticipantsWebhook'](_0x1c032e){const _0xb85137=a0_0x4087be;let _0x1e7e74=await this[_0xb85137(0x702)][_0xb85137(0x371)]['findOne']({'where':{'_id':_0x1c032e['id']}},this[_0xb85137(0x137)][_0xb85137(0x64f)]);if(!_0x1e7e74||!_0x1e7e74[_0xb85137(0x55a)]){console['log'](_0xb85137(0x406),_0x1c032e['id']);return;}let _0x1a7730=await this[_0xb85137(0x702)][_0xb85137(0x4c9)]['findManyByIds'](_0x1c032e[_0xb85137(0x303)]),_0x12fd39=[..._0x1e7e74['groupdata']?.[_0xb85137(0x303)]];switch(_0x1c032e['action']){case _0xb85137(0x57a):let _0x1a2bd2=_0x1a7730[_0xb85137(0xaa)](_0x3d5a18=>({'id':_0x3d5a18[_0xb85137(0x652)],'isAdmin':!0x1,'name':_0x3d5a18[_0xb85137(0x23a)],'imgUrl':_0x3d5a18[_0xb85137(0x2d7)]}));_0x12fd39=[..._0x12fd39,..._0x1a2bd2];break;case _0xb85137(0x751):_0x12fd39=_0x12fd39['filter'](_0x3efbf3=>!_0x1c032e[_0xb85137(0x303)]['includes'](_0x3efbf3['id']));break;case _0xb85137(0x3cb):case _0xb85137(0x591):_0x12fd39=_0x12fd39[_0xb85137(0xaa)](_0x2bab1c=>_0x1c032e['participants'][_0xb85137(0x83)](_0x2bab1c['id'])?{..._0x2bab1c,'isAdmin':_0x1c032e[_0xb85137(0x4f0)]===_0xb85137(0x3cb)}:_0x2bab1c);break;}let _0x128793=_0x12fd39[_0xb85137(0x5b5)],_0xb0a687=_0x12fd39[_0xb85137(0x5b0)](_0x2e1a76=>_0x2e1a76['id']===this['instance'][_0xb85137(0x64f)]+_0xb85137(0x411)),_0x263295=_0xb0a687&&_0x12fd39['some'](_0xa385ec=>_0xa385ec['id']===this[_0xb85137(0x137)]['wuid']+'@s.whatsapp.net'&&_0xa385ec[_0xb85137(0x1a9)]),_0x25013a=_0xb0a687&&(!_0x1e7e74[_0xb85137(0x55a)]['announce']||_0x263295)&&(!_0x1e7e74[_0xb85137(0x55a)][_0xb85137(0xed)]||_0x1e7e74[_0xb85137(0x55a)][_0xb85137(0xed)]&&_0x263295);await this[_0xb85137(0x702)][_0xb85137(0x371)][_0xb85137(0x506)]({'where':{'_id':_0x1c032e['id']}},{'groupdata':{..._0x1e7e74[_0xb85137(0x55a)],'participants':_0x12fd39,'size':_0x128793,'isAdmin':_0x263295,'canSendMessage':_0x25013a}},this[_0xb85137(0x137)][_0xb85137(0x64f)]),console['log'](_0xb85137(0x3ff)+_0x1c032e['id']+'\x20atualizado\x20com\x20sucesso.\x20Ao:\x20'+_0x1c032e[_0xb85137(0x4f0)]+_0xb85137(0x1c4)+_0x128793+',\x20isAdmin:\x20'+_0x263295+_0xb85137(0x6e7)+_0x25013a);}async['inviteCode'](_0x23b524,_0x6bb635=!0x0){const _0x4369e8=a0_0x4087be;try{let _0x50d1ba=await this['client']['groupInviteCode'](_0x23b524[_0x4369e8(0x758)]),_0x5bea99={'groupdata.inviteCode':_0x4369e8(0x392)+_0x50d1ba};if(_0x6bb635){let _0x2406b7=await this[_0x4369e8(0x702)]['chat'][_0x4369e8(0x506)]({'where':{'_id':_0x23b524[_0x4369e8(0x758)]}},_0x5bea99,this[_0x4369e8(0x137)][_0x4369e8(0x64f)]);}return{'inviteUrl':_0x4369e8(0x392)+_0x50d1ba,'inviteCode':_0x50d1ba};}catch(_0x472f77){let _0x41b366=_0x4369e8(0x500),_0x288b00=_0x472f77 instanceof Error?_0x472f77['message']:typeof _0x472f77==_0x4369e8(0x157)?JSON[_0x4369e8(0x28a)](_0x472f77):_0x472f77,_0x137fed=_0x41b366+':\x20'+_0x288b00;throw this[_0x4369e8(0x173)][_0x4369e8(0x20d)](this[_0x4369e8(0x768)]+'\x20('+this[_0x4369e8(0x137)][_0x4369e8(0x64f)]+_0x4369e8(0x4a7)+_0x137fed),new U(_0x137fed);}}async[a0_0x4087be(0x3c0)](_0x17a65b){const _0x33f917=a0_0x4087be;try{let _0xc1be4=await this[_0x33f917(0x400)]['groupRevokeInvite'](_0x17a65b[_0x33f917(0x758)]);return{'revoked':!0x0,'inviteUrl':_0x33f917(0x392)+_0xc1be4,'inviteCode':_0xc1be4};}catch(_0x205d6e){let _0x40130e=_0x33f917(0x3b9),_0xd78a60=_0x205d6e instanceof Error?_0x205d6e['message']:typeof _0x205d6e==_0x33f917(0x157)?JSON[_0x33f917(0x28a)](_0x205d6e):_0x205d6e,_0x4dc8e5=_0x40130e+':\x20'+_0xd78a60;throw this[_0x33f917(0x173)]['error'](this[_0x33f917(0x768)]+'\x20('+this[_0x33f917(0x137)][_0x33f917(0x64f)]+_0x33f917(0x4a7)+_0x4dc8e5),new U(_0x4dc8e5);}}async[a0_0x4087be(0x718)](_0x58d97a){const _0x43cf88=a0_0x4087be;try{if((0x0,_[_0x43cf88(0x682)])(_0x58d97a[_0x43cf88(0x570)]))var _0x2bae5b=_0x58d97a['inviteCode'][_0x43cf88(0x2f1)]('/')[0x3];else var _0x2bae5b=_0x58d97a['inviteCode'];let _0x5c9f78=await this[_0x43cf88(0x400)][_0x43cf88(0x7a)](_0x2bae5b);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x43cf88(0x137)]['wuid']+'):\x20'+_0x5c9f78),{'join':!0x0,'inviteCode':_0x2bae5b,'groupJid':_0x5c9f78};}catch(_0x2f17be){let _0xbe89f6=_0x43cf88(0x662),_0x3f17fc=_0x2f17be instanceof Error?_0x2f17be[_0x43cf88(0x5a0)]:typeof _0x2f17be=='object'?JSON[_0x43cf88(0x28a)](_0x2f17be):_0x2f17be,_0x57915f=_0xbe89f6+':\x20'+_0x3f17fc;throw this['logger'][_0x43cf88(0x20d)](this[_0x43cf88(0x768)]+'\x20('+this[_0x43cf88(0x137)]['wuid']+'):\x20'+_0x57915f),new U(_0x57915f);}}async['findParticipants'](_0x1d3d99){const _0x2b703d=a0_0x4087be;try{return{'participants':(await this[_0x2b703d(0x400)]['groupMetadata'](_0x1d3d99[_0x2b703d(0x758)]))[_0x2b703d(0x303)]};}catch(_0x683df7){let _0xf74d34=_0x2b703d(0x2ba),_0x3314cb=_0x683df7 instanceof Error?_0x683df7[_0x2b703d(0x5a0)]:typeof _0x683df7==_0x2b703d(0x157)?JSON[_0x2b703d(0x28a)](_0x683df7):_0x683df7,_0x1d007c=_0xf74d34+':\x20'+_0x3314cb;throw this['logger']['error'](this[_0x2b703d(0x768)]+'\x20('+this[_0x2b703d(0x137)][_0x2b703d(0x64f)]+_0x2b703d(0x4a7)+_0x1d007c),new U(_0x1d007c);}}async[a0_0x4087be(0x6dc)](_0x9c4815){const _0x2061af=a0_0x4087be;try{return await this['client'][_0x2061af(0x1e3)](_0x9c4815[_0x2061af(0x758)]),{'groupJid':_0x9c4815[_0x2061af(0x758)],'leave':!0x0};}catch(_0x4fd2a5){let _0x4c3d65=_0x2061af(0xe2),_0xef8570=_0x4fd2a5 instanceof Error?_0x4fd2a5['message']:typeof _0x4fd2a5==_0x2061af(0x157)?JSON['stringify'](_0x4fd2a5):_0x4fd2a5,_0x552817=_0x4c3d65+':\x20'+_0xef8570;throw this['logger'][_0x2061af(0x20d)](this[_0x2061af(0x768)]+'\x20('+this[_0x2061af(0x137)][_0x2061af(0x64f)]+_0x2061af(0x4a7)+_0x552817),new f(_0x552817);}}async[a0_0x4087be(0x4c1)](_0x3fe588){const _0x3303ef=a0_0x4087be;return await this[_0x3303ef(0x244)](_0x3fe588[_0x3303ef(0x499)],{'poll':{'name':_0x3fe588['pollMessage']?.['name'],'selectableCount':_0x3fe588[_0x3303ef(0x4c1)][_0x3303ef(0x655)],'values':_0x3fe588[_0x3303ef(0x4c1)][_0x3303ef(0x6d0)]}},_0x3fe588?.[_0x3303ef(0xd0)]);}async[a0_0x4087be(0x3bf)](_0x226597){const _0x22fef1=a0_0x4087be;return await this[_0x22fef1(0x244)](_0x226597['number'],{'listMessage':{'title':_0x226597[_0x22fef1(0x3bf)][_0x22fef1(0x3d1)],'description':_0x226597[_0x22fef1(0x3bf)][_0x22fef1(0x304)],'buttonText':_0x226597[_0x22fef1(0x3bf)]?.[_0x22fef1(0x31c)],'footerText':_0x226597[_0x22fef1(0x3bf)]?.[_0x22fef1(0x2f7)],'sections':_0x226597[_0x22fef1(0x3bf)][_0x22fef1(0x276)],'listType':0x2}},_0x226597?.['options']);}async['menuMessage'](_0x3f527f){const _0x338474=a0_0x4087be;let _0x11562c;if(_0x3f527f[_0x338474(0x192)][_0x338474(0x6f2)]===_0x338474(0x580)){let _0x4231a1=_0x3f527f[_0x338474(0x192)][_0x338474(0x3e8)]['indexOf']('\x0a'),_0x2f961f='',_0x1c8197='';_0x4231a1!==-0x1?(_0x2f961f=_0x3f527f[_0x338474(0x192)]['text'][_0x338474(0x25a)](0x0,_0x4231a1)['trim'](),_0x1c8197=_0x3f527f[_0x338474(0x192)][_0x338474(0x3e8)][_0x338474(0x25a)](_0x4231a1+0x1)):_0x1c8197=_0x3f527f[_0x338474(0x192)][_0x338474(0x3e8)];let _0x468948=_0x3f527f[_0x338474(0x192)]['choices'][_0x338474(0x4ba)](_0x513d13=>_0x513d13[_0x338474(0x30f)]()!==''),_0x50eca5=this[_0x338474(0x14a)](_0x468948);_0x11562c={'listMessage':{'title':_0x2f961f,'description':_0x1c8197,'buttonText':_0x3f527f[_0x338474(0x192)]['buttonText']||_0x338474(0x1bc),'footerText':_0x3f527f[_0x338474(0x192)][_0x338474(0x2f7)],'sections':_0x50eca5,'listType':0x2}};}else{if(_0x3f527f[_0x338474(0x192)][_0x338474(0x6f2)]===_0x338474(0x594)){let _0x195a0d=_0x3f527f['menuMessage'][_0x338474(0x428)][_0x338474(0x4ba)](_0x3ff073=>!(_0x3ff073[_0x338474(0x6e3)]('[')&&_0x3ff073[_0x338474(0x6d3)](']'))&&_0x3ff073[_0x338474(0x30f)]()!=='')[_0x338474(0xaa)](_0x16a436=>_0x16a436[_0x338474(0x2f1)]('\x0a')[0x0]);_0x11562c={'poll':{'name':_0x3f527f['menuMessage'][_0x338474(0x3e8)],'selectableCount':_0x3f527f[_0x338474(0x192)]['selectableCount']||0x1,'values':_0x195a0d}};}}return await this['sendMessageWithTyping'](_0x3f527f['number'],_0x11562c,_0x3f527f?.[_0x338474(0xd0)]);}[a0_0x4087be(0x14a)](_0x9f9533){const _0x3f1051=a0_0x4087be;let _0x3c05f9=[],_0x122bc7={'rows':[]};return _0x9f9533['forEach'](_0x25f739=>{const _0x355b6e=a0_0x1cc1;if(_0x25f739[_0x355b6e(0x6e3)]('[')&&_0x25f739[_0x355b6e(0x6d3)](']'))_0x122bc7['rows'][_0x355b6e(0x5b5)]>0x0&&_0x3c05f9[_0x355b6e(0x5af)](_0x122bc7),_0x122bc7={'title':_0x25f739[_0x355b6e(0x1cd)](0x1,-0x1),'rows':[]};else{let _0x585f38=_0x25f739[_0x355b6e(0x2f1)]('\x0a')[_0x355b6e(0xaa)](_0x3ed313=>_0x3ed313[_0x355b6e(0x30f)]()),_0x21260b=_0x585f38[0x0],_0x455668=_0x585f38[0x1]||null,_0x55deae=_0x585f38[0x2]||_0x21260b;_0x122bc7['rows'][_0x355b6e(0x5af)]({'title':_0x21260b,'description':_0x455668,'rowId':_0x55deae});}}),_0x122bc7[_0x3f1051(0x201)][_0x3f1051(0x5b5)]>0x0&&_0x3c05f9[_0x3f1051(0x5af)](_0x122bc7),_0x3c05f9;}async['updateMessage'](_0x4ee814,_0x2d0f37){const _0x4c5ae1=a0_0x4087be;if(await this[_0x4c5ae1(0x537)](_0x4ee814,!0x0)){let _0x4e343a={'where':{'_id':_0x4ee814['id']}},_0x5c4591={'status':[_0x2d0f37[_0x4c5ae1(0x5bb)]][0x0]};try{let _0xa597f3=await this[_0x4c5ae1(0x702)][_0x4c5ae1(0x5a0)][_0x4c5ae1(0x15c)](_0x4e343a,_0x5c4591,this[_0x4c5ae1(0x137)][_0x4c5ae1(0x64f)]);_0xa597f3&&J(this[_0x4c5ae1(0x768)],_0x4c5ae1(0x3cc),{'message':_0xa597f3});}catch{}}}[a0_0x4087be(0x6fd)](_0x4fb4f8){const _0x366259=a0_0x4087be;let _0x1a50f2=[];return _0x4fb4f8[_0x366259(0x4e3)](_0xd13cf9=>{const _0x4062e3=_0x366259;_0xd13cf9['title']&&_0x1a50f2[_0x4062e3(0x5af)]('['+_0xd13cf9[_0x4062e3(0x3d1)]+']'),_0xd13cf9[_0x4062e3(0x201)][_0x4062e3(0x4e3)](_0x3c3510=>{const _0x300868=_0x4062e3;_0x1a50f2[_0x300868(0x5af)](_0x3c3510['title']);});}),_0x1a50f2['join']('|');}[a0_0x4087be(0x69f)](_0x25a7eb){const _0x19dee7=a0_0x4087be;let _0x59f731=_0x25a7eb['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x19dee7(0x4ba)](_0x3073f5=>_0x3073f5['includes']('TEL')||_0x3073f5[_0x19dee7(0x83)]('EMAIL')),_0x554bad='';return _0x59f731[_0x19dee7(0x4e3)](_0x2d167d=>{const _0x425be9=_0x19dee7;let _0x41985a=/TEL(?:.*):(.+)/,_0x4dce39=/EMAIL(?:.*):(.+)/,_0x10197f=_0x2d167d[_0x425be9(0x358)](_0x41985a),_0x30c8dc=_0x2d167d['match'](_0x4dce39);if(_0x10197f){let _0x15ef03=_0x10197f[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x554bad+=_0x425be9(0x1d2)+_0x15ef03+'\x0a';}else{if(_0x30c8dc){let _0x418cf5=_0x30c8dc[0x1][_0x425be9(0x30f)]();_0x554bad+=_0x425be9(0x38c)+_0x418cf5+'\x0a';}}}),_0x554bad[_0x19dee7(0x30f)]();}async[a0_0x4087be(0x5ad)](_0x37df5f,_0x47f69d,_0x35ae75){const _0x532c8c=a0_0x4087be;if(!_0x37df5f['ENABLED'])return;let _0x50e469=_0x47f69d[_0x532c8c(0x543)][_0x532c8c(0x319)][_0x532c8c(0x71c)](/:\d{1,2}@/g,'@'),_0x4522a6=_0x47f69d[_0x532c8c(0x543)]['fromMe'],_0x1b3117=_0x50e469[_0x532c8c(0x6d3)](_0x532c8c(0x130)),_0x30c6ca=_0x47f69d[_0x532c8c(0x63e)]?.[_0x532c8c(0x71c)](/:\d{1,2}@/g,'@')||'',_0x612262=_0x47f69d['message_normalized']?.['text']||_0x47f69d['message_normalized']?.[_0x532c8c(0x5bf)]||_0x47f69d[_0x532c8c(0x57b)]?.[_0x532c8c(0x313)]||_0x47f69d[_0x532c8c(0x57b)]?.[_0x532c8c(0x23a)],_0x4da615={'_id':_0x47f69d[_0x532c8c(0x652)],'remoteJid':_0x4522a6?this['instance'][_0x532c8c(0x64f)]:_0x1b3117?_0x30c6ca:_0x50e469,'pushName':_0x4522a6?this[_0x532c8c(0x137)][_0x532c8c(0x6a9)]||'Eu':_0x47f69d[_0x532c8c(0x4b1)],'text':_0x612262,'type':_0x47f69d[_0x532c8c(0x56e)],'when':_0x47f69d[_0x532c8c(0x764)]||Date[_0x532c8c(0x66f)]()},_0x1a4b91={'lastmsg':_0x47f69d['messageTimestamp']||Date[_0x532c8c(0x66f)](),'ephemeralExpiration':_0x47f69d[_0x532c8c(0x593)],'lastMessage':_0x4da615,'unreadcount':_0x4522a6?0x0:0x1,..._0x4522a6||_0x1b3117?{}:{'name':_0x47f69d[_0x532c8c(0x4b1)]},..._0x1b3117?{'group':_0x1b3117}:{},...!_0x4522a6&&!_0x1b3117&&_0x47f69d[_0x532c8c(0x70b)]?{'imagechat':_0x47f69d[_0x532c8c(0x70b)]}:{}},_0x4be378=await this[_0x532c8c(0x702)][_0x532c8c(0x371)][_0x532c8c(0x506)]({'where':{'_id':_0x50e469}},_0x1a4b91,this[_0x532c8c(0x137)][_0x532c8c(0x64f)],{'new':!0x0,'upsert':!0x0});if(_0x4be378[_0x532c8c(0x649)]){let _0xfbfa7d=await this[_0x532c8c(0x702)]['label'][_0x532c8c(0x16d)]({'where':{}},this[_0x532c8c(0x137)][_0x532c8c(0x64f)]),_0x3e6b10=new Set(_0xfbfa7d[_0x532c8c(0xaa)](_0x586349=>_0x586349[_0x532c8c(0x652)])),_0x26f321=(_0x4be378[_0x532c8c(0x113)]?.[_0x532c8c(0x20f)]||[])[_0x532c8c(0x4ba)](_0x1de6c9=>_0x3e6b10[_0x532c8c(0x6fa)](_0x1de6c9)),_0x1e5bfa={'leadInfo.etiquetas':_0x26f321,'imported':!0x1};_0x4be378=await this[_0x532c8c(0x702)]['chat']['updateOne']({'where':{'_id':_0x50e469}},_0x1e5bfa,this[_0x532c8c(0x137)][_0x532c8c(0x64f)]);for(let _0x4ed8c9 of _0x26f321)await this[_0x532c8c(0x2d0)](_0x4ed8c9,_0x50e469);}if(!_0x1b3117&&(!_0x4be378?.[_0x532c8c(0x113)]||!_0x4be378[_0x532c8c(0x113)][_0x532c8c(0x72a)])&&_0x47f69d[_0x532c8c(0x4b1)]&&!_0x4522a6&&(_0x4be378=await this[_0x532c8c(0x702)][_0x532c8c(0x371)][_0x532c8c(0x506)]({'where':{'_id':_0x50e469}},{'leadInfo.nome':_0x47f69d[_0x532c8c(0x4b1)]},this[_0x532c8c(0x137)][_0x532c8c(0x64f)],{'new':!0x0,'upsert':!0x0})),_0x35ae75==='MESSAGES_UPSERT'&&_0x4522a6&&this[_0x532c8c(0x94)]?.[_0x532c8c(0xa6)][_0x532c8c(0x726)]&&!_0x612262[_0x532c8c(0x6e3)](this[_0x532c8c(0x94)]?.[_0x532c8c(0xa6)][_0x532c8c(0x45b)])){let _0x238bc3=(this['AutomateSystem']?.[_0x532c8c(0xa6)][_0x532c8c(0x4cd)]||0x5)*0xea60,_0x573417=Date[_0x532c8c(0x66f)]()+_0x238bc3;_0x4be378?.[_0x532c8c(0x113)]?.[_0x532c8c(0x139)]===0x0||(await this[_0x532c8c(0x702)][_0x532c8c(0x371)][_0x532c8c(0x506)]({'where':{'_id':_0x50e469}},{'leadInfo.desativadoFluxoAte':_0x573417},this[_0x532c8c(0x137)][_0x532c8c(0x64f)],{'new':!0x0,'upsert':!0x1}),this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this[_0x532c8c(0x768)]+'\x20('+this[_0x532c8c(0x137)][_0x532c8c(0x64f)]+_0x532c8c(0x635)+_0x573417+'.'));}if(_0x4be378)J(this[_0x532c8c(0x768)],'chats',{'chat':_0x4be378});else{this[_0x532c8c(0x173)][_0x532c8c(0x20d)](this[_0x532c8c(0x768)]+'\x20('+this['instance'][_0x532c8c(0x64f)]+_0x532c8c(0x679));return;}if(!this['AutomateSystem']?.[_0x532c8c(0xa6)][_0x532c8c(0x726)])return this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x532c8c(0x64f)]+'):\x20Flow\x20desativado'),null;if(_0x4be378['_id'][_0x532c8c(0x83)]('@g.us')&&this[_0x532c8c(0x94)]?.[_0x532c8c(0xa6)][_0x532c8c(0x320)]===!0x0)return this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this[_0x532c8c(0x768)]+'\x20('+this[_0x532c8c(0x137)][_0x532c8c(0x64f)]+_0x532c8c(0x1e0)),null;if(_0x4be378['leadInfo']){if(_0x4be378[_0x532c8c(0x113)]['desativadoFluxoAte']===0x0||_0x4be378[_0x532c8c(0x113)][_0x532c8c(0x38f)])return this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20'+_0x50e469+_0x532c8c(0x286)),null;if(_0x4be378[_0x532c8c(0x113)]['desativadoFluxoAte']>Date[_0x532c8c(0x66f)]()&&!_0x47f69d[_0x532c8c(0x57b)]?.[_0x532c8c(0x313)])return this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this['instanceName']+'\x20('+this[_0x532c8c(0x137)][_0x532c8c(0x64f)]+_0x532c8c(0x621)+new Date(_0x4be378[_0x532c8c(0x113)][_0x532c8c(0x139)])[_0x532c8c(0x526)]()+_0x532c8c(0x286)),null;}this[_0x532c8c(0x173)][_0x532c8c(0x1aa)](this[_0x532c8c(0x768)]+'\x20('+this['instance'][_0x532c8c(0x64f)]+_0x532c8c(0x1d0)),this[_0x532c8c(0x471)](_0x35ae75,_0x47f69d);}async[a0_0x4087be(0x2d4)](_0x11e8f8,_0x4ad940){const _0x48752e=a0_0x4087be;if(_0x4ad940[_0x48752e(0x73a)]){let _0x4f26c8=_0x11e8f8[_0x48752e(0xaa)](async _0x24a936=>{const _0x40da09=_0x48752e;try{let _0xb88f1c={'_id':_0x24a936['_id'],'owner':_0x24a936['owner'],'lastcache':0x0};if(Object['keys'](_0x24a936)[_0x40da09(0x4e3)](_0x40c6bf=>{_0x24a936[_0x40c6bf]!==null&&(_0xb88f1c[_0x40c6bf]=_0x24a936[_0x40c6bf]);}),_0xb88f1c[_0x40da09(0x281)]===null&&(_0xb88f1c['imagechat']='Imagem\x20no\x20encontrada'),Object[_0x40da09(0x75e)](_0xb88f1c)[_0x40da09(0x5b5)]>0x0)return await this[_0x40da09(0x702)][_0x40da09(0x371)]['updateOne']({'where':{'_id':_0x24a936[_0x40da09(0x652)]}},_0xb88f1c,this[_0x40da09(0x137)][_0x40da09(0x64f)]);}catch(_0x4a4ec3){let _0x354544=_0x40da09(0xcd)+_0x24a936[_0x40da09(0x652)],_0x3af9af=_0x4a4ec3 instanceof Error?_0x4a4ec3[_0x40da09(0x5a0)]:typeof _0x4a4ec3=='object'?JSON[_0x40da09(0x28a)](_0x4a4ec3):_0x4a4ec3,_0x3658b6=_0x354544+':\x20'+_0x3af9af;return this['logger'][_0x40da09(0x20d)](this['instanceName']+'\x20('+this[_0x40da09(0x137)][_0x40da09(0x64f)]+'):\x20'+_0x3658b6),null;}}),_0x1ec9be=(await Promise['all'](_0x4f26c8))['filter'](_0xa40ddf=>_0xa40ddf!==null)[_0x48752e(0x5b5)];this['logger'][_0x48752e(0x1aa)](this[_0x48752e(0x768)]+'\x20('+this[_0x48752e(0x137)][_0x48752e(0x64f)]+_0x48752e(0x4a7)+_0x1ec9be+_0x48752e(0x73c)+this[_0x48752e(0x137)][_0x48752e(0x64f)]+_0x48752e(0x4e0));}}async[a0_0x4087be(0x21d)](_0x439fe1){const _0x1fd928=a0_0x4087be;this[_0x1fd928(0x173)][_0x1fd928(0x1aa)](this[_0x1fd928(0x768)]+'\x20('+this['instance'][_0x1fd928(0x64f)]+'):\x20Ler\x20mensagem');let _0x3806bb={'readMessages':[{'remoteJid':_0x439fe1[_0x1fd928(0x6e8)]['lastReceivedMessage'][_0x1fd928(0x543)]['remoteJid'],'fromMe':_0x439fe1[_0x1fd928(0x6e8)][_0x1fd928(0x2c9)][_0x1fd928(0x543)]['fromMe'],'id':_0x439fe1[_0x1fd928(0x6e8)][_0x1fd928(0x2c9)][_0x1fd928(0x543)]['id']}]};await this[_0x1fd928(0x1f0)](_0x3806bb);}async[a0_0x4087be(0x471)](_0x5ad280,_0x4fd38c){const _0x3addcc=a0_0x4087be;try{let {key:_0x19efc3,message_normalized:_0x5de89e}=_0x4fd38c,_0x2edd2d=_0x5de89e,_0x391c75=_0x5de89e[_0x3addcc(0x3e8)]||_0x5de89e[_0x3addcc(0x5bf)]||_0x5de89e[_0x3addcc(0x313)]||_0x5de89e['name'],_0x1047c7=_0x19efc3['remoteJid'],_0x926df7;if(_0x2edd2d[_0x3addcc(0x543)]['fromMe']&&_0x391c75['trim']()!==this[_0x3addcc(0x94)]?.['flowConfig'][_0x3addcc(0xd4)][_0x3addcc(0x30f)]())return this[_0x3addcc(0x173)]['verbose'](this[_0x3addcc(0x768)]+'\x20('+this[_0x3addcc(0x137)][_0x3addcc(0x64f)]+_0x3addcc(0x4e7)),null;if(_0x2edd2d[_0x3addcc(0x543)]['fromMe']&&_0x391c75['trim']()===this[_0x3addcc(0x94)]?.['flowConfig'][_0x3addcc(0xd4)][_0x3addcc(0x30f)]()){this['logger'][_0x3addcc(0x1aa)](this[_0x3addcc(0x768)]+'\x20('+this[_0x3addcc(0x137)]['wuid']+_0x3addcc(0x2bb));let _0x1937ad=await this['repository'][_0x3addcc(0x612)][_0x3addcc(0x16d)]({'remoteJid':_0x1047c7,'status':_0x3addcc(0x535)},this[_0x3addcc(0x137)][_0x3addcc(0x64f)]);this[_0x3addcc(0x173)][_0x3addcc(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x3addcc(0x64f)]+_0x3addcc(0x4c5)+_0x1937ad);let _0x722070=Date[_0x3addcc(0x66f)](),_0x495c87;return this[_0x3addcc(0x94)]?.['flowConfig'][_0x3addcc(0x35d)]===0x0?_0x495c87={'stoppedUntil':_0x722070+0x7591f6200}:_0x495c87={'stoppedUntil':_0x722070+this[_0x3addcc(0x94)]?.[_0x3addcc(0xa6)][_0x3addcc(0x35d)]*0x3c*0x3e8},this[_0x3addcc(0x173)][_0x3addcc(0x1aa)](this['instanceName']+'\x20('+this[_0x3addcc(0x137)]['wuid']+_0x3addcc(0x1b9)+_0x495c87),this[_0x3addcc(0x1c5)](_0x926df7,_0x495c87['stoppedUntil']),null;}if(_0x391c75&&_0x391c75['startsWith'](this[_0x3addcc(0x94)]?.[_0x3addcc(0xa6)][_0x3addcc(0x45b)])&&_0x391c75[_0x3addcc(0x5b5)]>0x4){let _0x71be68=await this[_0x3addcc(0x702)][_0x3addcc(0x4e8)][_0x3addcc(0x1b0)]({'where':{'startCommandWord':_0x391c75}},this[_0x3addcc(0x137)]['wuid']);if(this[_0x3addcc(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x3addcc(0x137)][_0x3addcc(0x64f)]+_0x3addcc(0x7d)),_0x71be68)_0x926df7=await this[_0x3addcc(0x368)](_0x71be68,_0x2edd2d[_0x3addcc(0x543)],_0x2edd2d);else return this['logger']['verbose'](this[_0x3addcc(0x768)]+'\x20('+this['instance'][_0x3addcc(0x64f)]+_0x3addcc(0x3e6)),null;}else _0x926df7=await this[_0x3addcc(0x98)](_0x1047c7,_0x2edd2d);if(_0x926df7){this[_0x3addcc(0x173)][_0x3addcc(0x1aa)](this[_0x3addcc(0x768)]+'\x20('+this[_0x3addcc(0x137)][_0x3addcc(0x64f)]+_0x3addcc(0x1c2)),!_0x19efc3[_0x3addcc(0x2d5)]&&_0x926df7[_0x3addcc(0x285)]&&this[_0x3addcc(0x21d)](_0x926df7);let _0x1825c5=await this[_0x3addcc(0x4be)](_0x926df7);_0x1825c5&&await this['processblock'](_0x926df7,_0x1825c5);}}catch(_0x2a346b){this[_0x3addcc(0x173)][_0x3addcc(0x20d)](this[_0x3addcc(0x768)]+'\x20('+this[_0x3addcc(0x137)][_0x3addcc(0x64f)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x2a346b instanceof Error?_0x2a346b[_0x3addcc(0x5a0)]:JSON[_0x3addcc(0x28a)](_0x2a346b,null,0x2)));}}['flattenObject'](_0x4e1c4b,_0x495ea3='',_0x5164d5={}){const _0x480fc8=a0_0x4087be;return typeof _0x4e1c4b!=_0x480fc8(0x157)||_0x4e1c4b===null?(_0x495ea3&&(_0x5164d5[_0x495ea3]=_0x4e1c4b),_0x5164d5):(Object[_0x480fc8(0x37c)](_0x4e1c4b)[_0x480fc8(0x4e3)](([_0x34fe6b,_0x3bcfdb])=>{const _0x55b8a0=_0x480fc8;let _0x2e3a90=_0x495ea3?_0x495ea3+'.'+_0x34fe6b:'_'+_0x34fe6b;Array['isArray'](_0x3bcfdb)?_0x3bcfdb['forEach']((_0x5cdbfc,_0x4d775a)=>{const _0x3c35c2=a0_0x1cc1;this[_0x3c35c2(0x3c6)](_0x5cdbfc,_0x2e3a90+'['+_0x4d775a+']',_0x5164d5);}):typeof _0x3bcfdb=='object'&&_0x3bcfdb!==null?this[_0x55b8a0(0x3c6)](_0x3bcfdb,_0x2e3a90,_0x5164d5):_0x5164d5[_0x2e3a90]=String(_0x3bcfdb);}),console[_0x480fc8(0x603)](_0x480fc8(0x179),_0x5164d5),_0x5164d5);}[a0_0x4087be(0x4dc)](_0x49bfab){const _0x1e440a=a0_0x4087be;let _0x506482={};for(let _0x4d8212 of _0x49bfab)typeof _0x4d8212[_0x1e440a(0x23a)]=='string'&&typeof _0x4d8212[_0x1e440a(0x308)]==_0x1e440a(0x2d9)&&(_0x506482[_0x4d8212[_0x1e440a(0x23a)]]=_0x4d8212[_0x1e440a(0x308)]);return _0x506482;}async[a0_0x4087be(0x4be)](_0x214096){const _0x474223=a0_0x4087be;if(!this['AutomateSystem']?.[_0x474223(0xa6)]['enabled']||_0x214096['status']!=='open'&&_0x214096[_0x474223(0x1a8)]==='')return null;let _0x4b9fa1=_0x214096[_0x474223(0x6e8)][_0x474223(0x57c)]||_0x474223(0x220);typeof _0x214096[_0x474223(0x6e8)][_0x474223(0x248)]>'u'&&(_0x214096[_0x474223(0x6e8)][_0x474223(0x248)]=!0x0);let _0x3257c9=_0x214096[_0x474223(0x6e8)]['lastCondition'];this['logger'][_0x474223(0x1aa)](this[_0x474223(0x768)]+'\x20('+this['instance']['wuid']+_0x474223(0x5e5)+_0x4b9fa1+_0x474223(0x41b)+_0x3257c9);let _0x29b8bc=_0x4b9fa1===_0x474223(0x220)?_0x214096[_0x474223(0x1ab)][_0x474223(0x16d)](_0x57d963=>_0x57d963[_0x474223(0x6f2)]==='start'):_0x214096[_0x474223(0x1ab)]['find'](_0x2c236c=>_0x2c236c[_0x474223(0x652)]['toString']()===_0x4b9fa1[_0x474223(0x5e9)]());if(!_0x29b8bc)return this['logger'][_0x474223(0x20d)](this['instanceName']+'\x20('+this[_0x474223(0x137)][_0x474223(0x64f)]+_0x474223(0x210)+_0x4b9fa1),null;let _0x2241e3={'_pushName':_0x214096[_0x474223(0x6e8)]['lastReceivedMessage'][_0x474223(0x4b1)],..._0x214096['chatLog'][_0x474223(0x3c9)]},_0x104c1a=null;if(_0x214096['waitingMenu_id']){let _0x4fcfe2=_0x214096[_0x474223(0x6e8)][_0x474223(0x2c9)][_0x474223(0x313)],_0x2788a8=_0x214096[_0x474223(0x4e6)]['find'](_0x3f41f1=>_0x3f41f1['option']===_0x4fcfe2);if(_0x2788a8){let _0x42762e=_0x2788a8[_0x474223(0x16b)];if(_0x104c1a=_0x214096['blocks'][_0x474223(0x16d)](_0x39fe56=>_0x39fe56[_0x474223(0x2f5)]===_0x42762e&&_0x39fe56[_0x474223(0x503)]===0x1),_0x29b8bc[_0x474223(0x410)][_0x474223(0x9a)]){let _0x234742={'id':_0x214096['waitingMenu_id'],'remoteJid':_0x214096[_0x474223(0x319)],'fromMe':!0x0};await this[_0x474223(0x221)](_0x234742);}if(_0x29b8bc[_0x474223(0x410)][_0x474223(0x9a)]&&_0x29b8bc[_0x474223(0x410)][_0x474223(0x5d6)]&&_0x29b8bc[_0x474223(0x410)]['menuType']==='poll'){let _0x424e50={'number':_0x214096[_0x474223(0x319)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x214096[_0x474223(0x4bb)]+_0x474223(0x105)+_0x4fcfe2}};await this[_0x474223(0x1cc)](_0x424e50);}_0x214096[_0x474223(0x5bb)]='open',_0x214096[_0x474223(0x1a8)]='',_0x214096[_0x474223(0x4bb)]='',_0x214096[_0x474223(0x4e6)]=[];}else{this[_0x474223(0x173)][_0x474223(0x1aa)](this['instanceName']+'\x20('+this[_0x474223(0x137)][_0x474223(0x64f)]+'):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x39ec4e={'activatedCount':_0x214096[_0x474223(0x6e8)][_0x474223(0x32e)][_0x474223(0x4ba)](_0xc77a62=>String(_0xc77a62[_0x474223(0xb7)])===String(_0x4b9fa1))[_0x474223(0x5b5)],'moreLogs':[_0x474223(0x75f)]};if(_0x29b8bc[_0x474223(0x410)][_0x474223(0xa1)]){let _0x25340f={'number':_0x214096['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x29b8bc[_0x474223(0x410)][_0x474223(0xa1)]}};await this['textMessage'](_0x25340f);}if(_0x29b8bc['maxActives']!==void 0x0&&_0x39ec4e[_0x474223(0x315)]>=_0x29b8bc[_0x474223(0x89)]){let _0x4e3df2=Date[_0x474223(0x66f)](),_0x5d2eb4=_0x29b8bc[_0x474223(0x720)]??0xa;isNaN(_0x5d2eb4)&&(_0x5d2eb4=0xa);let _0x2282fb=_0x4e3df2+_0x5d2eb4*0x3c*0x3e8;_0x39ec4e[_0x474223(0x181)]=_0x2282fb,_0x39ec4e['moreLogs'][_0x474223(0x5af)]('Atingido\x20interaes\x20mximas,\x20parando\x20fluxo'),this[_0x474223(0x1c5)](_0x214096,_0x2282fb),_0x214096[_0x474223(0x1a8)]='',_0x214096[_0x474223(0x4bb)]='',_0x214096[_0x474223(0x4e6)]=[];}return this[_0x474223(0x49f)](_0x214096,_0x29b8bc,_0x39ec4e,!0x0),null;}}if(_0x3257c9&&_0x29b8bc['next_groupId']&&!_0x214096[_0x474223(0x1a8)]){let _0x2fdec0=_0x214096['blocks']['filter'](_0x30f742=>_0x30f742['groupId'][_0x474223(0x5e9)]()===_0x29b8bc[_0x474223(0x16b)][_0x474223(0x5e9)]())[_0x474223(0x654)]((_0x1f31c7,_0x191489)=>_0x1f31c7[_0x474223(0x503)]-_0x191489['order']);_0x2fdec0['length']>0x0&&(_0x104c1a=_0x2fdec0[0x0]);}if(!_0x104c1a){let _0x326379=_0x29b8bc[_0x474223(0x2f5)],_0x367493=_0x214096[_0x474223(0x1ab)][_0x474223(0x4ba)](_0x515afc=>_0x515afc[_0x474223(0x2f5)]===_0x326379&&_0x515afc[_0x474223(0x503)]>_0x29b8bc[_0x474223(0x503)])['sort']((_0x426a73,_0xc74844)=>_0x426a73['order']-_0xc74844['order']);_0x367493[_0x474223(0x5b5)]>0x0&&(_0x104c1a=_0x367493[0x0]);}if(!_0x104c1a)return _0x214096[_0x474223(0x5bb)]='closed',null;_0x214096[_0x474223(0x6e8)][_0x474223(0x3c9)]=_0x2241e3;let _0x1eb8ef=JSON['parse'](JSON[_0x474223(0x28a)](_0x104c1a));return this[_0x474223(0x7b)](_0x1eb8ef,_0x214096[_0x474223(0x6e8)][_0x474223(0x3c9)]),_0x214096[_0x474223(0x6e8)][_0x474223(0x57c)]=_0x1eb8ef[_0x474223(0x652)],_0x214096[_0x474223(0x6e8)][_0x474223(0x248)]=!0x0,_0x1eb8ef;}[a0_0x4087be(0x50e)](_0x5616e6,_0x287e59){const _0x22743b=a0_0x4087be;return _0x5616e6[_0x22743b(0x71c)](/\{\{([^}]+)\}\}/g,(_0x3f23f9,_0x4a7f73)=>_0x287e59[_0x4a7f73]||'');}[a0_0x4087be(0x7b)](_0x3e408c,_0x17f49f){const _0xe3dd34=a0_0x4087be;for(let _0x4456c9 in _0x3e408c)typeof _0x3e408c[_0x4456c9]==_0xe3dd34(0x2d9)?_0x3e408c[_0x4456c9]=this['replaceVariables'](_0x3e408c[_0x4456c9],_0x17f49f):typeof _0x3e408c[_0x4456c9]==_0xe3dd34(0x157)&&this[_0xe3dd34(0x7b)](_0x3e408c[_0x4456c9],_0x17f49f);}async[a0_0x4087be(0x2c7)](_0x427afa,_0x129fc8){const _0x2b746e=a0_0x4087be;let _0x51078d=_0x129fc8['_id'];if(_0x427afa[_0x2b746e(0x6e8)]&&_0x427afa['chatLog'][_0x2b746e(0x32e)]){let _0x38cf6d=_0x427afa[_0x2b746e(0x6e8)]['blockLogs'][_0x2b746e(0x4ba)](_0x2c9266=>String(_0x2c9266[_0x2b746e(0xb7)])===String(_0x51078d))[_0x2b746e(0x36e)]();if(_0x38cf6d&&_0x38cf6d[_0x2b746e(0x20d)]&&_0x129fc8['stopIfLastReturnedError'])return _0x427afa[_0x2b746e(0x5bb)]='closed',await this[_0x2b746e(0x5fb)](_0x427afa),null;}if(_0x129fc8['type']===_0x2b746e(0x410)&&_0x129fc8[_0x2b746e(0x410)][_0x2b746e(0x156)]===_0x2b746e(0x70d)&&_0x427afa['waitingMenu_id'])return _0x427afa[_0x2b746e(0x6e8)][_0x2b746e(0x57c)]=_0x51078d,await this['saveConversationToDatabase'](_0x427afa),null;let _0x567d79=await this[_0x2b746e(0x4be)](_0x427afa);if(_0x427afa[_0x2b746e(0x6e8)]&&_0x427afa[_0x2b746e(0x6e8)][_0x2b746e(0x32e)]){let _0x3700bf=_0x427afa[_0x2b746e(0x6e8)][_0x2b746e(0x32e)][_0x2b746e(0x4ba)](_0x5f2acd=>String(_0x5f2acd[_0x2b746e(0xb7)])===String(_0x51078d))[_0x2b746e(0x5b5)];if(_0x129fc8[_0x2b746e(0x89)]!==void 0x0&&_0x3700bf>=_0x129fc8[_0x2b746e(0x89)]){let _0x556831=Date['now'](),_0x15b805=_0x129fc8['stopMinutesMaxActives']??0xa;isNaN(_0x15b805)&&(_0x15b805=0xa);let _0x2a01f3=_0x556831+_0x15b805*0x3c*0x3e8,_0x2d4b92={'newStoppedUntil':_0x2a01f3};return this[_0x2b746e(0x1c5)](_0x427afa,_0x2a01f3),this[_0x2b746e(0x49f)](_0x427afa,_0x129fc8,_0x2d4b92,!0x0),null;}}_0x567d79&&_0x567d79[_0x2b746e(0x6f2)]!==_0x2b746e(0x4ac)&&await this[_0x2b746e(0x212)](_0x427afa,_0x567d79),_0x567d79||await this[_0x2b746e(0x5fb)](_0x427afa),_0x567d79&&_0x567d79[_0x2b746e(0x6f2)]==='save'&&(_0x427afa[_0x2b746e(0x6e8)][_0x2b746e(0x57c)]=_0x51078d,await this['saveConversationToDatabase'](_0x427afa));}async[a0_0x4087be(0x212)](_0x41beff,_0x4a4b71){const _0x52f038=a0_0x4087be;try{let _0x2ffeb6=_0x4a4b71[_0x52f038(0x6f2)];this[_0x52f038(0x173)]['verbose'](this[_0x52f038(0x768)]+'\x20('+this[_0x52f038(0x137)][_0x52f038(0x64f)]+_0x52f038(0x47b)+_0x2ffeb6);let _0x1001d7={'uazapi':()=>this[_0x52f038(0x538)](_0x41beff,_0x4a4b71),'save':()=>this['saveTextReply'](_0x41beff,_0x4a4b71),'stop':()=>this['stopConversation'](_0x41beff,_0x4a4b71),'condition':()=>this[_0x52f038(0xaf)](_0x41beff,_0x4a4b71),'varedit':()=>this['processvaredits'](_0x41beff,_0x4a4b71),'apirequest':()=>this[_0x52f038(0x6ae)](_0x41beff,_0x4a4b71),'goToFlow':()=>this[_0x52f038(0x460)](_0x41beff,_0x4a4b71),'awaitSeconds':()=>this[_0x52f038(0x153)](_0x41beff,_0x4a4b71),'clearVariables':()=>this[_0x52f038(0x4c2)](_0x41beff,_0x4a4b71)}[_0x2ffeb6];_0x1001d7&&await _0x1001d7();}catch(_0x551beb){this[_0x52f038(0x173)][_0x52f038(0x20d)](this[_0x52f038(0x768)]+'\x20('+this['instance'][_0x52f038(0x64f)]+_0x52f038(0x4a8)+(_0x551beb instanceof Error?_0x551beb['message']:JSON[_0x52f038(0x28a)](_0x551beb,null,0x2)));}}async[a0_0x4087be(0x153)](_0x24d395,_0x14a2a5){const _0x3fa4f5=a0_0x4087be;if(this[_0x3fa4f5(0x173)]['verbose'](this[_0x3fa4f5(0x768)]+'\x20('+this[_0x3fa4f5(0x137)]['wuid']+_0x3fa4f5(0x1ae)),!_0x24d395||!_0x14a2a5)return this[_0x3fa4f5(0x173)]['error'](this[_0x3fa4f5(0x768)]+'\x20('+this[_0x3fa4f5(0x137)][_0x3fa4f5(0x64f)]+_0x3fa4f5(0x95)),null;let _0x3b723c=+_0x14a2a5[_0x3fa4f5(0x623)];isNaN(_0x3b723c)&&(_0x3b723c=0x0),_0x3b723c=Math['min'](_0x3b723c,0x3c),await(0x0,w['delay'])(_0x3b723c*0x3e8);let _0x5a0f93={'moreLogs':[_0x3fa4f5(0x53b)+_0x3b723c+_0x3fa4f5(0x176)]};return await this[_0x3fa4f5(0x49f)](_0x24d395,_0x14a2a5,_0x5a0f93),_0x3b723c;}async[a0_0x4087be(0x4c2)](_0x1599a9,_0x40ea7a){const _0x24a43a=a0_0x4087be;if(this[_0x24a43a(0x173)][_0x24a43a(0x1aa)](this['instanceName']+'\x20('+this[_0x24a43a(0x137)][_0x24a43a(0x64f)]+_0x24a43a(0x1e5)),!_0x1599a9||!_0x40ea7a)return this[_0x24a43a(0x173)][_0x24a43a(0x20d)](this[_0x24a43a(0x768)]+'\x20('+this[_0x24a43a(0x137)]['wuid']+_0x24a43a(0x95)),null;let _0xe32648=[];if(_0x40ea7a['clearVariables'][_0x24a43a(0x30f)]()===_0x24a43a(0x664)){let _0x5c51fc=['_pushName',_0x24a43a(0x28b),_0x24a43a(0x123),_0x24a43a(0x650),'_id',_0x24a43a(0x6c6)];_0xe32648=Object[_0x24a43a(0x75e)](_0x1599a9[_0x24a43a(0x6e8)][_0x24a43a(0x3c9)])[_0x24a43a(0x4ba)](_0x274967=>_0x274967[_0x24a43a(0x6e3)]('_')&&!_0x5c51fc[_0x24a43a(0x83)](_0x274967));}else _0xe32648=_0x40ea7a[_0x24a43a(0x51a)][_0x24a43a(0x2f1)]('|')['map'](_0x4e47c6=>(_0x4e47c6=_0x4e47c6[_0x24a43a(0x71c)](/[{}]/g,'')[_0x24a43a(0x30f)](),_0x4e47c6[_0x24a43a(0x6e3)]('_')?_0x4e47c6:'_'+_0x4e47c6));let _0x4aa15a=[];_0xe32648[_0x24a43a(0x4e3)](_0x569090=>{const _0x5eeca8=_0x24a43a;_0x569090 in _0x1599a9[_0x5eeca8(0x6e8)][_0x5eeca8(0x3c9)]&&(delete _0x1599a9[_0x5eeca8(0x6e8)][_0x5eeca8(0x3c9)][_0x569090],_0x4aa15a[_0x5eeca8(0x5af)](_0x569090));}),_0x4aa15a['length']>0x0?this[_0x24a43a(0x173)][_0x24a43a(0x1aa)](this[_0x24a43a(0x768)]+'\x20('+this[_0x24a43a(0x137)][_0x24a43a(0x64f)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20'+_0x4aa15a[_0x24a43a(0x76e)](',\x20')):this[_0x24a43a(0x173)][_0x24a43a(0x1aa)](this[_0x24a43a(0x768)]+'\x20('+this[_0x24a43a(0x137)]['wuid']+_0x24a43a(0x68a));let _0x379ccc={'moreLogs':[_0x24a43a(0x64a)+_0x4aa15a['join'](',\x20')]};return await this['updateConversation'](_0x1599a9,_0x40ea7a,_0x379ccc),null;}async[a0_0x4087be(0x460)](_0x37cc99,_0x1a62ad){const _0x172ab3=a0_0x4087be;if(this[_0x172ab3(0x173)][_0x172ab3(0x1aa)](this[_0x172ab3(0x768)]+'\x20('+this[_0x172ab3(0x137)][_0x172ab3(0x64f)]+_0x172ab3(0x771)),!_0x37cc99||!_0x1a62ad)return this['logger'][_0x172ab3(0x20d)](this['instanceName']+'\x20('+this[_0x172ab3(0x137)][_0x172ab3(0x64f)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x172ab3(0x49f)](_0x37cc99,_0x1a62ad,{},!0x0,!0x0),console[_0x172ab3(0x603)](_0x172ab3(0x357)),console[_0x172ab3(0x603)](_0x1a62ad);let _0x24e788=_0x1a62ad['goToFlow'];console['log']('flowname:\x20',_0x24e788),_0x37cc99=await this[_0x172ab3(0x73d)](_0x24e788,_0x37cc99[_0x172ab3(0x319)],_0x37cc99[_0x172ab3(0x6e8)][_0x172ab3(0x3c9)]),this['logger'][_0x172ab3(0x1aa)](this[_0x172ab3(0x768)]+'\x20('+this['instance']['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x1035c5=await this[_0x172ab3(0x4be)](_0x37cc99);_0x1035c5&&await this['processblock'](_0x37cc99,_0x1035c5);}async[a0_0x4087be(0x73d)](_0x5d7fe6,_0x39ef50,_0xe6ef0e){const _0x3fb0be=a0_0x4087be;this[_0x3fb0be(0x173)][_0x3fb0be(0x1aa)](this[_0x3fb0be(0x768)]+'\x20('+this['instance'][_0x3fb0be(0x64f)]+_0x3fb0be(0x87));try{if(_0x5d7fe6=await this[_0x3fb0be(0x702)][_0x3fb0be(0x4e8)]['findOne']({'where':{'name':_0x5d7fe6}},this[_0x3fb0be(0x137)][_0x3fb0be(0x64f)]),!_0x5d7fe6)return this[_0x3fb0be(0x173)]['error'](this[_0x3fb0be(0x768)]+'\x20('+this[_0x3fb0be(0x137)][_0x3fb0be(0x64f)]+_0x3fb0be(0x695)),null;let _0x4791a9=require(_0x3fb0be(0x477))[_0x3fb0be(0xa9)],_0x13e4bc=Date[_0x3fb0be(0x66f)](),_0x28778b=_0x3fb0be(0x220),_0xd2005={},_0x510d04={},_0xdc05d4={..._0x5d7fe6,'chatLog':null},_0x4b321e={'lastReceivedMessage':_0xd2005,'lastSendMessage':_0x510d04,'lastBlockId':_0x28778b,'lastCondition':!0x0,'realVariables':_0xe6ef0e};_0xdc05d4['chatLog']=_0x4b321e,_0xdc05d4[_0x3fb0be(0x6e8)][_0x3fb0be(0x3c9)]={..._0xe6ef0e},delete _0xdc05d4[_0x3fb0be(0x652)],_0xdc05d4[_0x3fb0be(0x652)]=new _0x4791a9(),_0xdc05d4[_0x3fb0be(0x70a)]=_0x13e4bc,_0xdc05d4[_0x3fb0be(0x5bb)]='open',_0xdc05d4[_0x3fb0be(0x319)]=_0x39ef50;let _0x2d02ff=await this[_0x3fb0be(0x702)][_0x3fb0be(0x612)][_0x3fb0be(0x506)](_0xdc05d4[_0x3fb0be(0x652)],_0xdc05d4,this[_0x3fb0be(0x137)][_0x3fb0be(0x64f)]);return this['logger'][_0x3fb0be(0x1aa)](this['instanceName']+'\x20('+this[_0x3fb0be(0x137)][_0x3fb0be(0x64f)]+_0x3fb0be(0xf0)),_0x2d02ff?_0xdc05d4:null;}catch(_0x1cecfd){let _0x312839=_0x3fb0be(0x35b),_0x2b3690=_0x1cecfd instanceof Error?_0x1cecfd[_0x3fb0be(0x5a0)]:typeof _0x1cecfd==_0x3fb0be(0x157)?JSON['stringify'](_0x1cecfd):_0x1cecfd,_0x99be48=_0x312839+':\x20'+_0x2b3690;throw this[_0x3fb0be(0x173)][_0x3fb0be(0x20d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3fb0be(0x4a7)+_0x99be48),new f(_0x99be48);}}async[a0_0x4087be(0x6ae)](_0x5e6b22,_0xe1e895){const _0x449523=a0_0x4087be;let _0x74c4eb,_0x310d15;try{let _0x2b2a75=_0xe1e895['apirequest'];if(!_0x2b2a75||!_0x2b2a75['url']||!_0x2b2a75['method'])throw new Error(_0x449523(0x1a1));let _0x31b19e;([_0x449523(0x288),_0x449523(0x65a),_0x449523(0x66a)]['some'](_0x55e74b=>_0x2b2a75[_0x449523(0x321)][_0x449523(0x83)](_0x55e74b))||_0x2b2a75[_0x449523(0x716)])&&(_0x31b19e=_0x449523(0x126));let _0x4bcf09='\u205f',_0x43016c;try{_0x43016c=JSON[_0x449523(0x31f)](_0x2b2a75[_0x449523(0x748)][_0x449523(0x71c)](new RegExp(_0x4bcf09,'g'),''));}catch(_0x14b22a){throw _0x14b22a;}let _0x3bef96={'method':_0x2b2a75[_0x449523(0x17c)],'url':_0x2b2a75[_0x449523(0x321)],'headers':_0x2b2a75[_0x449523(0x1f1)]||{},..._0x2b2a75['method'][_0x449523(0x703)]()!==_0x449523(0x69e)&&_0x2b2a75[_0x449523(0x748)]?{'data':JSON[_0x449523(0x31f)](_0x2b2a75[_0x449523(0x748)][_0x449523(0x71c)](new RegExp(_0x4bcf09,'g'),''))}:{},..._0x31b19e&&{'responseType':_0x31b19e}},_0x3fb398=await(0x0,K['default'])(_0x3bef96),_0xb9acfe=_0x3fb398[_0x449523(0x68d)][_0x449523(0x115)];if(_0xb9acfe&&_0xb9acfe[_0x449523(0x83)](_0x449523(0x3a8))||typeof _0x3fb398['data']=='string'){if(typeof _0x3fb398[_0x449523(0x109)]==_0x449523(0x2d9)){let _0x112d24=_0x3fb398['data'][_0x449523(0x71c)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x449523(0x30f)]();try{_0x74c4eb=JSON[_0x449523(0x31f)](_0x112d24);}catch(_0x54b93c){console[_0x449523(0x20d)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x54b93c[_0x449523(0x5a0)]),_0x74c4eb={'_apiResponse':_0x3fb398[_0x449523(0x109)]};}}else _0x74c4eb=_0x3fb398[_0x449523(0x109)];let _0x5798a5=_0x5e6b22[_0x449523(0x6e8)][_0x449523(0x3c9)],_0x12a65d=this[_0x449523(0x3c6)](_0x74c4eb);return Object[_0x449523(0x6ba)](_0x5798a5,_0x12a65d),_0x5e6b22[_0x449523(0x6e8)][_0x449523(0x3c9)]=_0x5798a5,_0x310d15={'error':!0x1,'apiResponse':_0x74c4eb},this['updateConversation'](_0x5e6b22,_0xe1e895,_0x310d15),_0x74c4eb;}if(_0xb9acfe&&(_0xb9acfe['includes'](_0x449523(0x518))||_0xb9acfe[_0x449523(0x83)](_0x449523(0x2f6))||_0xb9acfe[_0x449523(0x83)]('audio')||_0xb9acfe[_0x449523(0x83)](_0x449523(0x6c3)))){this[_0x449523(0x173)][_0x449523(0x1aa)](this[_0x449523(0x768)]+'\x20('+this[_0x449523(0x137)][_0x449523(0x64f)]+_0x449523(0x1ba)+_0xb9acfe);let _0x6225ea=(0x0,jt['v4'])(),_0x6a2a0d='',_0xf8aeec={'image/jpeg':_0x449523(0x1b6),'image/png':'.png','image/gif':_0x449523(0x254),'image/webp':_0x449523(0x3e0),'image/svg+xml':_0x449523(0x259),'audio/mpeg':'.mp3','audio/ogg':_0x449523(0x462),'audio/wav':_0x449523(0x3fe),'video/mp4':_0x449523(0x2ac),'video/webm':_0x449523(0x229),'video/ogg':_0x449523(0x747),'text/plain':'.txt','application/pdf':_0x449523(0x590),'application/msword':_0x449523(0x1e8),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x449523(0x712),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x449523(0x112),'application/vnd.ms-powerpoint':_0x449523(0x4d2),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0xf8aeec[_0xb9acfe]?(_0x6a2a0d=_0xf8aeec[_0xb9acfe],this['logger'][_0x449523(0x1aa)](this[_0x449523(0x768)]+'\x20('+this[_0x449523(0x137)]['wuid']+_0x449523(0x144)+_0x6a2a0d)):(_0x6a2a0d=_0x449523(0x558),this[_0x449523(0x173)][_0x449523(0x1aa)](this[_0x449523(0x768)]+'\x20('+this[_0x449523(0x137)][_0x449523(0x64f)]+_0x449523(0x577)+_0x6a2a0d)),_0x6225ea+=_0x6a2a0d,this[_0x449523(0x173)][_0x449523(0x1aa)](this[_0x449523(0x768)]+'\x20('+this[_0x449523(0x137)]['wuid']+_0x449523(0x182)+_0x6225ea);let _0x19a3fd=this[_0x449523(0x23b)][_0x449523(0x5e6)](_0x449523(0x246))[_0x449523(0x397)];if(!_0x19a3fd){let _0x2cad2f=this[_0x449523(0x23b)][_0x449523(0x5e6)](_0x449523(0x491));_0x19a3fd=_0x449523(0x627)+(_0x2cad2f&&_0x2cad2f[_0x449523(0x568)][_0x449523(0x2f1)]('/')[0x4]);}let _0x12cea6=Buffer[_0x449523(0x52d)](_0x3fb398[_0x449523(0x109)]);await this['saveMediaToFile'](_0x12cea6,_0x6225ea);let _0x2c1b0e=_0x449523(0xd9)+_0x6225ea;_0x2c1b0e=''+_0x19a3fd+_0x2c1b0e,_0x74c4eb={'fileUrl':_0x2c1b0e},_0x5e6b22[_0x449523(0x6e8)][_0x449523(0x3c9)]['fileUrl']=_0x2c1b0e;let _0x436238=_0x5e6b22[_0x449523(0x6e8)]['realVariables'],_0x31e658=this['flattenObject'](_0x74c4eb);return Object['assign'](_0x436238,_0x31e658),_0x5e6b22[_0x449523(0x6e8)][_0x449523(0x3c9)]=_0x436238,_0x310d15={'error':!0x1,'apiResponse':{'fileUrl':_0x2c1b0e}},this['updateConversation'](_0x5e6b22,_0xe1e895,_0x310d15),_0x74c4eb;}}catch(_0x5b1eba){console[_0x449523(0x20d)](_0x449523(0x124),_0x5b1eba[_0x449523(0x5a0)]),_0x5b1eba[_0x449523(0x215)]&&(_0x74c4eb=_0x5b1eba[_0x449523(0x215)]['data']);let _0x3ada28=_0x5e6b22['chatLog'][_0x449523(0x3c9)],_0x5d80bd=this[_0x449523(0x3c6)](_0x74c4eb);return Object['assign'](_0x3ada28,_0x5d80bd),_0x5e6b22['chatLog'][_0x449523(0x3c9)]=_0x3ada28,_0x310d15={'error':!0x0,'errorLog':_0x5b1eba[_0x449523(0x5e9)](),'apiResponse':_0x74c4eb},this[_0x449523(0x49f)](_0x5e6b22,_0xe1e895,_0x310d15),{'success':!0x1};}}[a0_0x4087be(0x6cc)](_0x2378c7,_0x401504){const _0x38739e=a0_0x4087be;let _0x9b8c14=_0x346e0f=>{const _0x2329b5=a0_0x1cc1;let _0x2c2006=_0x346e0f[_0x2329b5(0x71c)](/[^0-9.,-]/g,'')['replace'](',','.'),_0xbcecdd=parseFloat(_0x2c2006);return isNaN(_0xbcecdd)?null:_0xbcecdd;},_0x12c66b=_0x401504[_0x38739e(0x1df)],_0x26d35c=_0x401504[_0x38739e(0x1a2)];typeof _0x12c66b==_0x38739e(0x2d9)&&(_0x12c66b=this[_0x38739e(0x50e)](_0x12c66b,_0x2378c7[_0x38739e(0x6e8)][_0x38739e(0x3c9)])??''),typeof _0x26d35c==_0x38739e(0x2d9)&&(_0x26d35c=this[_0x38739e(0x50e)](_0x26d35c,_0x2378c7['chatLog'][_0x38739e(0x3c9)])??'');let _0x47ef48=null;if(!_0x401504[_0x38739e(0x2ad)])return null;switch(this[_0x38739e(0x173)][_0x38739e(0x1aa)](this[_0x38739e(0x768)]+'\x20('+this[_0x38739e(0x137)][_0x38739e(0x64f)]+_0x38739e(0x309)+_0x12c66b),this['logger']['verbose'](this[_0x38739e(0x768)]+'\x20('+this[_0x38739e(0x137)]['wuid']+_0x38739e(0x72f)+_0x26d35c),_0x401504['editOperator']){case'+':case'-':case'*':case'/':let _0x9b4f37=_0x9b8c14(_0x12c66b||'0'),_0x2b6b9b=_0x9b8c14(_0x26d35c||'0');if(_0x9b4f37===null)return null;switch(_0x401504[_0x38739e(0x2ad)]){case'+':_0x47ef48=_0x9b4f37+(_0x2b6b9b??0x0);break;case'-':_0x47ef48=_0x9b4f37-(_0x2b6b9b??0x0);break;case'*':_0x47ef48=_0x9b4f37*(_0x2b6b9b??0x1);break;case'/':_0x2b6b9b!==0x0&&(_0x47ef48=_0x9b4f37/(_0x2b6b9b??0x1));break;}break;case'findAndReplace':case _0x38739e(0x289):let _0x23db24=_0x26d35c,_0x36f8c0=_0x401504[_0x38739e(0x3aa)];if(typeof _0x36f8c0==_0x38739e(0x2d9)&&(_0x36f8c0=this[_0x38739e(0x50e)](_0x36f8c0,_0x2378c7[_0x38739e(0x6e8)][_0x38739e(0x3c9)])??''),_0x23db24&&_0x36f8c0!==void 0x0){let _0x530a47=_0x401504['editOperator']===_0x38739e(0x27d)?new RegExp(_0x23db24['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x38739e(0x283)),'g'):new RegExp(_0x23db24,'g');_0x47ef48=_0x12c66b[_0x38739e(0x71c)](_0x530a47,_0x36f8c0);}else console['warn'](_0x38739e(0x13e));break;case _0x38739e(0x6f5):_0x47ef48=_0x26d35c;break;case _0x38739e(0x390):let _0x514cf0=_0x12c66b[_0x38739e(0x358)](new RegExp(_0x26d35c||''));_0x47ef48=_0x514cf0?_0x514cf0[0x0]:'';break;case _0x38739e(0x739):_0x47ef48=_0x12c66b[_0x38739e(0x1cd)](0x0,parseInt(_0x26d35c||'0'));break;case'truncatedtoEnd':let _0x19e58c=parseInt(_0x26d35c||'0');_0x47ef48=_0x12c66b[_0x38739e(0x1cd)](_0x12c66b[_0x38739e(0x5b5)]-_0x19e58c);break;case'toBrazilianNumberFormat':let _0x32d775=_0x9b8c14(_0x12c66b),_0x1eb29f=parseInt(_0x26d35c||'0');_0x1eb29f=Math[_0x38739e(0x4f3)](_0x1eb29f),_0x32d775!==null?_0x47ef48=_0x32d775[_0x38739e(0x526)](_0x38739e(0x46f),{'minimumFractionDigits':_0x1eb29f,'maximumFractionDigits':_0x1eb29f}):(console['warn'](_0x38739e(0x4af)+_0x12c66b),_0x47ef48=null);break;case'toBRL':let _0x5d90b7=_0x9b8c14(_0x12c66b);_0x5d90b7!==null?_0x47ef48=_0x5d90b7[_0x38739e(0x526)](_0x38739e(0x46f),{'style':_0x38739e(0x5ab),'currency':_0x38739e(0x475)}):(console['warn']('Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20'+_0x12c66b),_0x47ef48=null);break;case _0x38739e(0x3e5):_0x47ef48=_0x12c66b[_0x38739e(0x703)]();break;case'lowerCase':_0x47ef48=_0x12c66b['toLowerCase']();break;case _0x38739e(0x711):_0x47ef48=_0x12c66b[_0x38739e(0x2f1)]('\x20')[_0x38739e(0xaa)](_0x5a585e=>_0x5a585e[_0x38739e(0x186)](0x0)[_0x38739e(0x703)]()+_0x5a585e['slice'](0x1)[_0x38739e(0x2e5)]())[_0x38739e(0x76e)]('\x20');break;case _0x38739e(0x53d):_0x47ef48=_0x12c66b['trim']();break;default:_0x47ef48=_0x12c66b;}return _0x47ef48!==null?_0x47ef48[_0x38739e(0x5e9)]():null;}async[a0_0x4087be(0x33b)](_0x2d2f9e,_0x4bcd9c){const _0x1d545c=a0_0x4087be;try{let _0x5554ac=_0x2d2f9e['varedits']?.[_0x1d545c(0x4ba)](_0x1fdd9f=>_0x1fdd9f[_0x1d545c(0xb7)]===_0x4bcd9c['_id']?.[_0x1d545c(0x5e9)]())||[],_0x3d9f30=_0x4bcd9c[_0x1d545c(0x12e)],_0x2ed891=null,_0x35bf75=[],_0x1cf8f2=_0x2d2f9e[_0x1d545c(0x6e8)][_0x1d545c(0x3c9)][_0x3d9f30];_0x35bf75[_0x1d545c(0x5af)]('Valor\x20inicial:\x20\x22'+_0x1cf8f2+'\x22');for(let _0x6deee2 of _0x5554ac){_0x6deee2['firstValue']=_0x1cf8f2,_0x2ed891=_0x6deee2['firstValue'];let _0x5cfba8;try{_0x5cfba8=this[_0x1d545c(0x6cc)](_0x2d2f9e,_0x6deee2);}catch(_0x2761d2){console[_0x1d545c(0x20d)](_0x1d545c(0x41f)+_0x2761d2['message']);continue;}if(_0x5cfba8!==null){let _0x255b58=_0x1d545c(0x542)+_0x6deee2[_0x1d545c(0x2ad)]+'\x22',_0x34ae62=[_0x1d545c(0x4b3),_0x1d545c(0x3e5),_0x1d545c(0x61f),_0x1d545c(0x711),_0x1d545c(0x53d)];_0x6deee2[_0x1d545c(0x2ad)]===_0x1d545c(0x27d)||_0x6deee2[_0x1d545c(0x2ad)]===_0x1d545c(0x289)?_0x255b58+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x6deee2[_0x1d545c(0x1a2)]+_0x1d545c(0x27b)+_0x6deee2[_0x1d545c(0x3aa)]+'\x22':!_0x34ae62[_0x1d545c(0x83)](_0x6deee2['editOperator'])&&_0x6deee2['secondValue']!==null&&_0x6deee2[_0x1d545c(0x1a2)]!==void 0x0&&(_0x255b58+=_0x1d545c(0x237)+_0x6deee2[_0x1d545c(0x1a2)]+'\x22'),_0x255b58+=_0x1d545c(0x228)+_0x5cfba8+'.',_0x35bf75[_0x1d545c(0x5af)](_0x255b58);}_0x5cfba8!==null&&(_0x1cf8f2=_0x5cfba8);}if(_0x2d2f9e[_0x1d545c(0x6e8)][_0x1d545c(0x3c9)]&&_0x4bcd9c[_0x1d545c(0x12e)]){_0x2d2f9e[_0x1d545c(0x6e8)][_0x1d545c(0x3c9)][_0x4bcd9c[_0x1d545c(0x12e)]]=_0x1cf8f2;let _0x21313c={'variable':_0x4bcd9c[_0x1d545c(0x12e)],'oldValue':_0x2ed891,'newValue':_0x1cf8f2,'moreLogs':_0x35bf75};try{this[_0x1d545c(0x49f)](_0x2d2f9e,_0x4bcd9c,_0x21313c);}catch(_0x4e663e){console[_0x1d545c(0x20d)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x4e663e['message']);}}return _0x3d9f30;}catch(_0x154589){return console[_0x1d545c(0x20d)](_0x1d545c(0x74f)+_0x154589['message']),null;}}async[a0_0x4087be(0xaf)](_0x1b5e6f,_0x5bffd9){const _0x31668f=a0_0x4087be;try{let _0x103333=[],_0x2eef82=_0x1b5e6f[_0x31668f(0x1b3)][_0x31668f(0x4ba)](_0x2f40f0=>_0x2f40f0[_0x31668f(0xb7)]===_0x5bffd9['_id'][_0x31668f(0x5e9)]()),_0x3abe10=null,_0x4c38ac=!0x1;for(let _0x3fdec1 of _0x2eef82){let _0x3aa2ed=this[_0x31668f(0x637)](_0x1b5e6f,_0x3fdec1);_0x103333[_0x31668f(0x5af)](_0x31668f(0x82)+_0x3fdec1[_0x31668f(0x1df)]+_0x31668f(0x34d)+_0x3fdec1[_0x31668f(0x34a)]+_0x31668f(0x4bc)+_0x3fdec1[_0x31668f(0x1a2)]+_0x31668f(0x69a)+_0x3aa2ed),_0x3abe10===null?_0x3abe10=_0x3aa2ed:_0x3fdec1[_0x31668f(0x553)]===_0x31668f(0x515)?(_0x3abe10=_0x3abe10&&_0x3aa2ed,_0x3aa2ed||(_0x4c38ac=!0x0)):_0x3fdec1[_0x31668f(0x553)]==='or'&&(_0x4c38ac||(_0x3abe10=_0x3abe10||_0x3aa2ed));}_0x3abe10===null&&(_0x3abe10=!0x0);let _0x495df7={'moreLogs':_0x103333};_0x1b5e6f[_0x31668f(0x6e8)][_0x31668f(0x248)]=_0x3abe10,await this[_0x31668f(0x49f)](_0x1b5e6f,_0x5bffd9,_0x495df7);}catch(_0x56c9f3){this[_0x31668f(0x173)][_0x31668f(0x20d)](this[_0x31668f(0x768)]+'\x20('+this[_0x31668f(0x137)][_0x31668f(0x64f)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x56c9f3 instanceof Error?_0x56c9f3[_0x31668f(0x5a0)]:JSON[_0x31668f(0x28a)](_0x56c9f3,null,0x2)));}}['evaluateCondition'](_0x552553,_0x1406fc){const _0x3f0580=a0_0x4087be;let _0x1a7a3a=_0x1406fc[_0x3f0580(0x1df)],_0x514caa=_0x1406fc[_0x3f0580(0x1a2)];typeof _0x1a7a3a==_0x3f0580(0x2d9)&&(_0x1a7a3a=this[_0x3f0580(0x50e)](_0x1a7a3a,_0x552553[_0x3f0580(0x6e8)]['realVariables'])??''),typeof _0x514caa=='string'&&(_0x514caa=this[_0x3f0580(0x50e)](_0x514caa,_0x552553[_0x3f0580(0x6e8)][_0x3f0580(0x3c9)])??'');try{switch(_0x1406fc[_0x3f0580(0x34a)]){case _0x3f0580(0x11f):return _0x1a7a3a===_0x514caa;case _0x3f0580(0x1ec):return _0x1a7a3a!==_0x514caa;case'contains':return this[_0x3f0580(0x737)](_0x1a7a3a,_0x514caa);case _0x3f0580(0x2ae):return!this[_0x3f0580(0x737)](_0x1a7a3a,_0x514caa);case'greater':return parseFloat(_0x1a7a3a)>parseFloat(_0x514caa);case _0x3f0580(0x5f4):return parseFloat(_0x1a7a3a)<parseFloat(_0x514caa);case'notEmpty':return _0x1a7a3a!=='';case'empty':return _0x1a7a3a==='';case'matchRegex':return new RegExp(_0x514caa)[_0x3f0580(0x262)](_0x1a7a3a);case _0x3f0580(0x563):return!new RegExp(_0x514caa)['test'](_0x1a7a3a);default:return!0x1;}}catch(_0x523b59){return console[_0x3f0580(0x20d)](_0x3f0580(0x3fa)+_0x523b59),!0x1;}}[a0_0x4087be(0x737)](_0x453baf,_0x4d0123){const _0x585dcd=a0_0x4087be;if(_0x453baf===_0x4d0123&&/^\d+$/[_0x585dcd(0x262)](_0x453baf))return!0x0;if(this[_0x585dcd(0x459)](_0x453baf)&&/^\d+$/['test'](_0x4d0123)){let _0x4eda2e=_0x453baf[_0x585dcd(0x2f1)](',')['map'](_0x55d4bf=>parseInt(_0x55d4bf['trim']())),_0x3f3b63=parseInt(_0x4d0123);return _0x4eda2e[_0x585dcd(0x83)](_0x3f3b63);}return _0x453baf[_0x585dcd(0x83)](_0x4d0123);}[a0_0x4087be(0x459)](_0x28c65d){return/^\d+(,\d+)*$/['test'](_0x28c65d);}[a0_0x4087be(0x384)](_0x390ac0){const _0x246e65=a0_0x4087be;let _0x3b49f9=!0x0,_0x199e22=null;for(let _0x2ea7c0 of _0x390ac0){let _0x429c84=this['evaluateConditionTest'](_0x2ea7c0);if(_0x199e22==='or'&&_0x429c84){_0x3b49f9=!0x0;break;}if(_0x199e22===_0x246e65(0x515)&&!_0x429c84){_0x3b49f9=!0x1;break;}_0x199e22=_0x2ea7c0[_0x246e65(0x553)];}return _0x3b49f9;}[a0_0x4087be(0x40a)](_0x43d543){const _0x204db3=a0_0x4087be;let _0x4b4bb1=_0x43d543[_0x204db3(0x1df)],_0x1d9c57=_0x43d543[_0x204db3(0x1a2)];try{switch(_0x43d543[_0x204db3(0x34a)]){case _0x204db3(0x11f):return String(_0x4b4bb1)===String(_0x1d9c57);case _0x204db3(0x1ec):return String(_0x4b4bb1)!==String(_0x1d9c57);case _0x204db3(0x737):return String(_0x4b4bb1)[_0x204db3(0x83)](String(_0x1d9c57));case'notContains':return!String(_0x4b4bb1)[_0x204db3(0x83)](String(_0x1d9c57));case'greater':return parseFloat(String(_0x4b4bb1))>parseFloat(String(_0x1d9c57));case _0x204db3(0x5f4):return parseFloat(String(_0x4b4bb1))<parseFloat(String(_0x1d9c57));case'notEmpty':return String(_0x4b4bb1)!=='';case _0x204db3(0x1cf):return String(_0x4b4bb1)==='';case _0x204db3(0x5f3):return new RegExp(String(_0x1d9c57))['test'](String(_0x4b4bb1));case'notMatchRegex':return!new RegExp(String(_0x1d9c57))['test'](String(_0x4b4bb1));default:return!0x1;}}catch(_0x31c85d){return console[_0x204db3(0x20d)](_0x204db3(0x3fa)+_0x31c85d),!0x1;}}async['saveTextReply'](_0x53653c,_0x46666f){const _0x491f14=a0_0x4087be;if(this[_0x491f14(0x173)][_0x491f14(0x1aa)](this[_0x491f14(0x768)]+'\x20('+this[_0x491f14(0x137)]['wuid']+_0x491f14(0x46a)),!_0x53653c||!_0x46666f)return this[_0x491f14(0x173)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x491f14(0x95)),null;let _0x62fc7c=_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x2c9)][_0x491f14(0x543)]['id'];this[_0x491f14(0x173)][_0x491f14(0x1aa)](this['instanceName']+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+_0x491f14(0x53e)+_0x62fc7c);let _0x45d8d3={'key':{'id':_0x62fc7c}},_0x3cf902=_0x46666f[_0x491f14(0x12e)];_0x53653c[_0x491f14(0x6e8)]['realVariables']['_'+_0x3cf902+'.fileUrl']=null,_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]['_'+_0x3cf902+_0x491f14(0x6ff)]=null,_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]['_'+_0x3cf902+_0x491f14(0x43c)]=null,_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]['_'+_0x3cf902+_0x491f14(0x218)]=_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x2c9)][_0x491f14(0x6f2)];try{let _0x4af1f4=await this[_0x491f14(0x42e)](_0x45d8d3);this['logger'][_0x491f14(0x1aa)](this[_0x491f14(0x768)]+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+_0x491f14(0x14f)),_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]['_'+_0x3cf902+_0x491f14(0x26b)]=_0x4af1f4[_0x491f14(0x6da)],_0x53653c[_0x491f14(0x6e8)]['realVariables']['_'+_0x3cf902+'.mimetype']=_0x4af1f4[_0x491f14(0x6eb)];let _0x164157=_0x4af1f4[_0x491f14(0x6eb)][_0x491f14(0x358)](/\/(\w+)$/),_0xca6f24=_0x164157?_0x164157[0x1]:null;_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]['_'+_0x3cf902+_0x491f14(0x43c)]=_0xca6f24,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+_0x491f14(0x58d)+_0x3cf902+'\x27.');}catch(_0x522975){this[_0x491f14(0x173)]['error'](this[_0x491f14(0x768)]+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+_0x491f14(0x1ce)+_0x522975);}let _0x4befd6=_0x53653c[_0x491f14(0x6e8)]['lastReceivedMessage'][_0x491f14(0x3e8)]||_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x2c9)][_0x491f14(0x5bf)]||_0x53653c[_0x491f14(0x6e8)]['lastReceivedMessage'][_0x491f14(0x313)];try{_0x53653c['chatLog'][_0x491f14(0x3c9)]||(_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)]={});let _0xf3b1a7=_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)][_0x3cf902];_0x53653c[_0x491f14(0x6e8)][_0x491f14(0x3c9)][_0x3cf902]=_0x4befd6;let _0x1b5df5={'variable':_0x3cf902,'oldValue':_0xf3b1a7,'newValue':_0x4befd6};this[_0x491f14(0x49f)](_0x53653c,_0x46666f,_0x1b5df5),this[_0x491f14(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+'):\x20Conversa\x20atualizada\x20em\x20memria');}catch(_0xa26596){let _0x570dbb={'error':!0x0,'errorLog':_0xa26596[_0x491f14(0x5e9)]()};return this[_0x491f14(0x49f)](_0x53653c,_0x46666f,_0x570dbb),this[_0x491f14(0x173)][_0x491f14(0x20d)](this['instanceName']+'\x20('+this[_0x491f14(0x137)][_0x491f14(0x64f)]+_0x491f14(0x4a2)+(_0xa26596 instanceof Error?_0xa26596[_0x491f14(0x5a0)]:JSON[_0x491f14(0x28a)](_0xa26596,null,0x2))),null;}}async['stopConversation'](_0x4f5055,_0x42337a){const _0x3a989b=a0_0x4087be;if(this[_0x3a989b(0x173)][_0x3a989b(0x1aa)](this['instanceName']+'\x20('+this[_0x3a989b(0x137)][_0x3a989b(0x64f)]+'):\x20Entrou\x20na\x20funo\x20stop'),!_0x4f5055||!_0x42337a)return this[_0x3a989b(0x173)]['error'](this[_0x3a989b(0x768)]+'\x20('+this[_0x3a989b(0x137)]['wuid']+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x590e9d=Date[_0x3a989b(0x66f)](),_0x470d95=parseInt(_0x42337a[_0x3a989b(0x35d)],0xa);if(isNaN(_0x470d95))return this['logger'][_0x3a989b(0x20d)](this[_0x3a989b(0x768)]+'\x20('+this[_0x3a989b(0x137)][_0x3a989b(0x64f)]+_0x3a989b(0x485)),null;let _0x453c2c={'newStoppedUntil':_0x590e9d+_0x470d95*0x3c*0x3e8};return await this[_0x3a989b(0x49f)](_0x4f5055,_0x42337a,_0x453c2c,!0x0),null;}async[a0_0x4087be(0x538)](_0x68515c,_0x5d7ac9){const _0x40f2f8=a0_0x4087be;try{switch(_0x5d7ac9[_0x40f2f8(0x410)][_0x40f2f8(0x156)]){case _0x40f2f8(0x42a):await this['uazapiSendText'](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x273):await this[_0x40f2f8(0x1fe)](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x28d):await this[_0x40f2f8(0x42c)](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x433):await this['uazapiSendAudio'](_0x68515c,_0x5d7ac9);break;case'sendContact':await this[_0x40f2f8(0x32b)](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x70d):await this['uazapiSendMenu'](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x37e):await this['uazapiSendMenu'](_0x68515c,_0x5d7ac9);break;case _0x40f2f8(0x221):await this[_0x40f2f8(0x40e)](_0x68515c,_0x5d7ac9);break;default:this[_0x40f2f8(0x173)][_0x40f2f8(0x20d)](this['instanceName']+'\x20('+this[_0x40f2f8(0x137)][_0x40f2f8(0x64f)]+_0x40f2f8(0x6f7)+_0x5d7ac9[_0x40f2f8(0x410)][_0x40f2f8(0x156)]);}}catch(_0x40cf54){this[_0x40f2f8(0x173)][_0x40f2f8(0x20d)](this['instanceName']+'\x20('+this[_0x40f2f8(0x137)][_0x40f2f8(0x64f)]+_0x40f2f8(0x25b)+(_0x40cf54 instanceof Error?_0x40cf54['message']:JSON[_0x40f2f8(0x28a)](_0x40cf54,null,0x2)));}}async['updateConversation'](_0x10b8a3,_0x5a327f,_0x590566,_0x11f469=!0x1,_0x3eccdd=!0x1){const _0x1615b3=a0_0x4087be;_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x32e)]||(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x32e)]=[]);let _0x6c6df6=(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x32e)]?.[_0x1615b3(0x5b5)]??0x0)+0x1,_0x346ed2=_0x10b8a3['chatLog']['blockLogs'][_0x1615b3(0x4ba)](_0x3fc8bd=>String(_0x3fc8bd[_0x1615b3(0xb7)])===String(_0x5a327f[_0x1615b3(0x652)]))[_0x1615b3(0x5b5)]+0x1,_0x2d01a3=_0x590566?.[_0x1615b3(0x39c)]??Date[_0x1615b3(0x66f)](),_0x303f64=_0x590566?.[_0x1615b3(0x20d)]?_0x590566[_0x1615b3(0x51c)]??_0x590566[_0x1615b3(0x20d)][_0x1615b3(0x5e9)]():void 0x0,_0x3aaf53={'onTime':_0x2d01a3,'blockId':_0x5a327f['_id'],'order':_0x6c6df6,'activatedCount':_0x346ed2,'error':_0x590566?.[_0x1615b3(0x20d)]??!0x1,'messageId':_0x590566?.[_0x1615b3(0x2e0)],'apiResponse':_0x590566?.[_0x1615b3(0x232)],'apiResponseString':_0x590566?.[_0x1615b3(0x232)]?JSON[_0x1615b3(0x28a)](_0x590566?.[_0x1615b3(0x232)]):void 0x0,'variable':_0x590566?.[_0x1615b3(0x78)],'oldValue':_0x590566?.[_0x1615b3(0x4ea)],'newValue':_0x590566?.[_0x1615b3(0x8b)],'newStoppedUntil':_0x590566?.[_0x1615b3(0x181)],'moreLogs':_0x590566?.['moreLogs'],'errorLog':_0x303f64};if(_0x590566[_0x1615b3(0x6ce)]&&_0x590566[_0x1615b3(0x6ce)]['length']>0x0){let _0xed17d4=_0x590566['moreLogs'][_0x1615b3(0xaa)](_0x505204=>this['replaceVariablesLogs'](_0x505204,_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x3c9)]));_0x3aaf53[_0x1615b3(0x6ce)]=_0xed17d4;}_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x3c9)]||(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x3c9)]={}),_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x3c9)][_0x1615b3(0x2c6)]=String(_0x346ed2),_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x3c9)][_0x1615b3(0x28b)]=String(_0x590566['error']??!0x1),_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x32e)][_0x1615b3(0x5af)](_0x3aaf53),_0x10b8a3['chatLog'][_0x1615b3(0x57c)]=_0x5a327f[_0x1615b3(0x652)]['toString'](),_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x2d2)]&&(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x2d2)]=_0x10b8a3[_0x1615b3(0x6e8)]['lastSendMessage']),_0x10b8a3['chatLog'][_0x1615b3(0x2c9)]&&(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x2c9)]=_0x10b8a3[_0x1615b3(0x6e8)]['lastReceivedMessage']),_0x10b8a3['chatLog'][_0x1615b3(0x248)]&&(_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x248)]=_0x10b8a3[_0x1615b3(0x6e8)][_0x1615b3(0x248)]),_0x3eccdd&&(_0x10b8a3[_0x1615b3(0x5bb)]=_0x1615b3(0x6ca)),_0x11f469?this['saveConversationToDatabase'](_0x10b8a3):this[_0x1615b3(0x2c7)](_0x10b8a3,_0x5a327f);}['replaceVariablesLogs'](_0xb2160f,_0x34cab5){const _0xb3e1c7=a0_0x4087be;return _0xb2160f['replace'](/\{\{([^}]+)\}\}/g,(_0x362980,_0x2a0673)=>_0x34cab5[_0x2a0673]?'{{'+_0x2a0673+_0xb3e1c7(0x661)+_0x34cab5[_0x2a0673]+'\x22':'{{'+_0x2a0673+_0xb3e1c7(0x2b9));}async[a0_0x4087be(0x5fb)](_0x31d6a4){const _0x26fd4a=a0_0x4087be;try{let _0x4efb53=Object[_0x26fd4a(0x37c)](_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x3c9)])[_0x26fd4a(0xaa)](([_0x5c9538,_0x33b558])=>({'name':_0x5c9538,'value':_0x33b558})),_0x4e5c8c={'status':_0x31d6a4['status'],'blocks':_0x31d6a4['blocks'],'waitingMenu_id':_0x31d6a4[_0x26fd4a(0x1a8)],'waitingMenu_text':_0x31d6a4['waitingMenu_text'],'waitingMenu_replyOptions':_0x31d6a4[_0x26fd4a(0x4e6)],'chatLog':{'lastBlockId':_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x57c)],'lastSendMessage':_0x31d6a4['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x2c9)],'lastCondition':_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x248)],'chatVariables':_0x4efb53,'realVariables':_0x31d6a4[_0x26fd4a(0x6e8)]['realVariables'],'blockLogs':_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x32e)]}},_0x7bbfdf=await this[_0x26fd4a(0x702)][_0x26fd4a(0x612)][_0x26fd4a(0x506)](_0x31d6a4[_0x26fd4a(0x652)],_0x4e5c8c,this['instance']['wuid']);if(_0x7bbfdf){this[_0x26fd4a(0x173)][_0x26fd4a(0x1aa)](this['instanceName']+'\x20('+this[_0x26fd4a(0x137)][_0x26fd4a(0x64f)]+_0x26fd4a(0x729)+_0x7bbfdf[_0x26fd4a(0x652)]);try{let _0x33df0c=['nome','nomecompleto',_0x26fd4a(0x10c),_0x26fd4a(0xc5),_0x26fd4a(0x5bb),_0x26fd4a(0x44f),_0x26fd4a(0x2a6),_0x26fd4a(0xda),'etiquetas'];if(!this[_0x26fd4a(0x94)]&&(await this[_0x26fd4a(0x75a)](),!this[_0x26fd4a(0x94)]))throw new Error(_0x26fd4a(0x496));let _0x276e75=this['AutomateSystem']?.['customFields']['map'](_0x3842a6=>_0x3842a6[_0x26fd4a(0x23a)]),_0x56f767={};Object[_0x26fd4a(0x37c)](_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x3c9)])[_0x26fd4a(0x4e3)](([_0xc1a133,_0x1fc0eb])=>{const _0xa52ff5=_0x26fd4a;_0x33df0c[_0xa52ff5(0x83)](_0xc1a133)&&(_0xc1a133===_0xa52ff5(0xda)&&typeof _0x1fc0eb==_0xa52ff5(0x2d9)?_0x56f767[_0xc1a133]=_0x1fc0eb[_0xa52ff5(0x2f1)](',')[_0xa52ff5(0xaa)](_0x3e5fd8=>_0x3e5fd8[_0xa52ff5(0x30f)]())[_0xa52ff5(0x4ba)](_0xf0abbf=>_0xf0abbf!==''):_0xc1a133==='etiquetas'&&typeof _0x1fc0eb==_0xa52ff5(0x2d9)?_0x56f767[_0xc1a133]=_0x1fc0eb[_0xa52ff5(0x2f1)](',')['map'](_0x1cbfc2=>_0x1cbfc2[_0xa52ff5(0x30f)]())[_0xa52ff5(0x4ba)](_0x5da405=>_0x5da405!==''):_0x56f767[_0xc1a133]=_0x1fc0eb);});let _0x4c6327=_0x31d6a4[_0x26fd4a(0x6e8)][_0x26fd4a(0x32e)][_0x31d6a4[_0x26fd4a(0x6e8)]['blockLogs']['length']-0x1];if(_0x4c6327){let _0x56ee4b=_0x4c6327[_0x26fd4a(0x181)];_0x56ee4b!==void 0x0&&(_0x56f767[_0x26fd4a(0x139)]=_0x56ee4b[_0x26fd4a(0x5e9)]());}let _0x12bc30=_0x4efb53[_0x26fd4a(0x4ba)](_0x4f60b9=>_0x276e75[_0x26fd4a(0x83)](_0x4f60b9[_0x26fd4a(0x23a)]));this['logger'][_0x26fd4a(0x1aa)](this['instanceName']+'\x20('+this[_0x26fd4a(0x137)]['wuid']+'):\x20leadInfoVariables'),this[_0x26fd4a(0x173)][_0x26fd4a(0x1aa)](_0x56f767),this[_0x26fd4a(0x173)]['verbose'](this[_0x26fd4a(0x768)]+'\x20('+this[_0x26fd4a(0x137)][_0x26fd4a(0x64f)]+'):\x20customFieldVariables'),this[_0x26fd4a(0x173)][_0x26fd4a(0x1aa)](_0x12bc30);let _0x3d897d=_0x12bc30[_0x26fd4a(0xaa)](_0xf69034=>{const _0x38b378=_0x26fd4a;let _0x3e202d=this[_0x38b378(0x94)]?.[_0x38b378(0x28e)][_0x38b378(0x16d)](_0x355488=>_0x355488[_0x38b378(0x23a)]===_0xf69034[_0x38b378(0x23a)]);if(!_0x3e202d)throw new Error(_0x38b378(0x586)+_0xf69034[_0x38b378(0x23a)]);return{'_id':_0x3e202d[_0x38b378(0x652)],'value':_0xf69034[_0x38b378(0x308)]};});this[_0x26fd4a(0x173)][_0x26fd4a(0x1aa)](this[_0x26fd4a(0x768)]+'\x20('+this[_0x26fd4a(0x137)][_0x26fd4a(0x64f)]+_0x26fd4a(0x168)),this[_0x26fd4a(0x173)]['verbose'](_0x3d897d),await this[_0x26fd4a(0x407)](_0x31d6a4[_0x26fd4a(0x319)],_0x56f767,_0x3d897d);}catch(_0x3f6bd4){this[_0x26fd4a(0x173)][_0x26fd4a(0x20d)](this[_0x26fd4a(0x768)]+'\x20('+this[_0x26fd4a(0x137)]['wuid']+_0x26fd4a(0x757)+(_0x3f6bd4 instanceof Error?_0x3f6bd4[_0x26fd4a(0x5a0)]:JSON['stringify'](_0x3f6bd4,null,0x2)));}}else this['logger'][_0x26fd4a(0x20d)](this[_0x26fd4a(0x768)]+'\x20('+this['instance'][_0x26fd4a(0x64f)]+_0x26fd4a(0x298));}catch(_0x52a9fe){this[_0x26fd4a(0x173)]['error'](this[_0x26fd4a(0x768)]+'\x20('+this[_0x26fd4a(0x137)]['wuid']+_0x26fd4a(0x5ec)+(_0x52a9fe instanceof Error?_0x52a9fe[_0x26fd4a(0x5a0)]:JSON[_0x26fd4a(0x28a)](_0x52a9fe,null,0x2)));}}async['saveChatVariables'](_0x547658,_0xeafefc,_0x357046){const _0x34326a=a0_0x4087be;try{let _0xe7b40={'leadInfo.leadnome':_0xeafefc[_0x34326a(0x72a)],'leadInfo.nomecompleto':_0xeafefc['nomecompleto'],'leadInfo.email':_0xeafefc['email'],'leadInfo.cpf':_0xeafefc[_0x34326a(0xc5)],'leadInfo.status':_0xeafefc[_0x34326a(0x5bb)],'leadInfo.notas':_0xeafefc['notas'],'leadInfo.responsavelid':_0xeafefc[_0x34326a(0x2a6)],'leadInfo.tags':_0xeafefc['tags'],'leadInfo.etiquetas':_0xeafefc[_0x34326a(0x20f)],'leadInfo.customFields':_0x357046},_0xf77469=await this[_0x34326a(0x702)][_0x34326a(0x371)]['findOne']({'where':{'_id':_0x547658}},this['instance'][_0x34326a(0x64f)]),_0x2c6dd9=new Set(_0xf77469[_0x34326a(0x113)][_0x34326a(0x20f)]||[]),_0x5d6c88=new Set(_0xeafefc[_0x34326a(0x20f)]||[]),_0x413470=await this['repository'][_0x34326a(0x5f7)][_0x34326a(0x16d)]({'where':{}},this['instance'][_0x34326a(0x64f)]),_0x56164f=new Set(_0x413470[_0x34326a(0xaa)](_0x2d7dea=>_0x2d7dea[_0x34326a(0x652)])),_0x562f4a=[..._0x5d6c88]['filter'](_0x4a5418=>!_0x2c6dd9[_0x34326a(0x6fa)](_0x4a5418)&&_0x56164f[_0x34326a(0x6fa)](_0x4a5418)),_0x264963=[..._0x2c6dd9][_0x34326a(0x4ba)](_0x5eaf32=>!_0x5d6c88['has'](_0x5eaf32));for(let _0x13542 of _0x562f4a)await this[_0x34326a(0x2d0)](_0x13542,_0xf77469[_0x34326a(0x652)]),_0x2c6dd9[_0x34326a(0x57a)](_0x13542);for(let _0x21c5d4 of _0x264963)await this[_0x34326a(0x93)](_0x21c5d4,_0xf77469[_0x34326a(0x652)]),_0x2c6dd9[_0x34326a(0x301)](_0x21c5d4);if('desativadoFluxoAte'in _0xeafefc){let _0x2821a9=_0xeafefc[_0x34326a(0x139)];_0xe7b40[_0x34326a(0x43a)]=_0x2821a9?Number(_0x2821a9):null;}let _0x5cd6b3=await this['repository'][_0x34326a(0x371)][_0x34326a(0x506)]({'where':{'_id':_0x547658}},_0xe7b40,this[_0x34326a(0x137)][_0x34326a(0x64f)]);_0x5cd6b3?(this[_0x34326a(0x173)][_0x34326a(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x34326a(0x64f)]+_0x34326a(0x51d)+_0x5cd6b3[_0x34326a(0x652)]),J(this[_0x34326a(0x768)],_0x34326a(0x6f1),{'chat':_0x5cd6b3})):this[_0x34326a(0x173)]['error'](this[_0x34326a(0x768)]+'\x20('+this[_0x34326a(0x137)][_0x34326a(0x64f)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD');}catch(_0x47422d){this[_0x34326a(0x173)]['error'](this[_0x34326a(0x768)]+'\x20('+this[_0x34326a(0x137)][_0x34326a(0x64f)]+_0x34326a(0x2e1)+(_0x47422d instanceof Error?_0x47422d['message']:JSON[_0x34326a(0x28a)](_0x47422d,null,0x2)));}}async[a0_0x4087be(0x1c5)](_0x4f1276,_0x47c17){const _0x27d301=a0_0x4087be;this[_0x27d301(0x173)][_0x27d301(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x27d301(0x64f)]+_0x27d301(0x1a0)+_0x47c17);try{let _0x58f9db=await this[_0x27d301(0x702)][_0x27d301(0x371)][_0x27d301(0x506)]({'where':{'_id':_0x4f1276[_0x27d301(0x319)]}},{'leadInfo.desativadoFluxoAte':_0x47c17},this[_0x27d301(0x137)]['wuid']);this[_0x27d301(0x173)]['verbose'](this[_0x27d301(0x768)]+'\x20('+this[_0x27d301(0x137)][_0x27d301(0x64f)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x4f1276[_0x27d301(0x652)]),this[_0x27d301(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x27d301(0x137)][_0x27d301(0x64f)]+_0x27d301(0x1a0)+JSON[_0x27d301(0x28a)](_0x58f9db,null,0x2)),_0x58f9db&&J(this[_0x27d301(0x768)],_0x27d301(0x6f1),{'chat':_0x58f9db});}catch(_0xe3232c){this[_0x27d301(0x173)][_0x27d301(0x20d)](this['instanceName']+'\x20('+this[_0x27d301(0x137)][_0x27d301(0x64f)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0xe3232c instanceof Error?_0xe3232c['message']:JSON[_0x27d301(0x28a)](_0xe3232c,null,0x2)));}}async[a0_0x4087be(0x143)](_0x221dc0){const _0xb99a22=a0_0x4087be;try{this['logger']['verbose'](this[_0xb99a22(0x768)]+'\x20('+this[_0xb99a22(0x137)][_0xb99a22(0x64f)]+'):\x20Buscando\x20flow...');let _0xd6083=_0x221dc0[_0xb99a22(0x71c)](/\D/g,''),_0x156616=await this['repository'][_0xb99a22(0x4e8)][_0xb99a22(0x1b0)]({'where':{'testingWith':_0xd6083}},this[_0xb99a22(0x137)][_0xb99a22(0x64f)]);return _0x156616||(this[_0xb99a22(0x173)]['verbose'](this[_0xb99a22(0x768)]+'\x20('+this[_0xb99a22(0x137)][_0xb99a22(0x64f)]+_0xb99a22(0x72e)),_0x156616=await this[_0xb99a22(0x702)][_0xb99a22(0x4e8)][_0xb99a22(0x1b0)]({'where':{'default':!0x0}},this[_0xb99a22(0x137)][_0xb99a22(0x64f)])),_0x156616||(this[_0xb99a22(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0xb99a22(0x137)][_0xb99a22(0x64f)]+_0xb99a22(0xca)),null);}catch(_0x2664e0){return this[_0xb99a22(0x173)][_0xb99a22(0x20d)](this[_0xb99a22(0x768)]+'\x20('+this[_0xb99a22(0x137)][_0xb99a22(0x64f)]+_0xb99a22(0x667)+(_0x2664e0 instanceof Error?_0x2664e0[_0xb99a22(0x5a0)]:JSON[_0xb99a22(0x28a)](_0x2664e0,null,0x2))),null;}}async[a0_0x4087be(0x98)](_0x4c3d36,_0x3e6102){const _0x475586=a0_0x4087be;try{let _0x284626=!!_0x3e6102[_0x475586(0x313)],_0x232325=_0x3e6102[_0x475586(0x4d9)],_0xb9d07d=null;if(this[_0x475586(0x173)][_0x475586(0x1aa)](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x24e)+_0x284626+_0x475586(0x753)+_0x232325),_0x284626){this[_0x475586(0x173)]['verbose'](this[_0x475586(0x768)]+'\x20('+this['instance'][_0x475586(0x64f)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x1c7941={'where':{'remoteJid':_0x4c3d36,'waitingMenu_id':_0x232325}};if(_0xb9d07d=await this[_0x475586(0x702)][_0x475586(0x612)]['findOne'](_0x1c7941,this[_0x475586(0x137)][_0x475586(0x64f)]),!_0xb9d07d)return this[_0x475586(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x475586(0x137)]['wuid']+_0x475586(0x5ef)),null;let _0xc0d3cc=Date[_0x475586(0x66f)](),_0x3c5687=_0xb9d07d?.[_0x475586(0x3f2)]||0x0,_0xd44909=_0xc0d3cc-_0x3c5687*0x3c*0x3e8;if(_0xb9d07d[_0x475586(0x70a)]<_0xd44909){this['logger'][_0x475586(0x1aa)](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)]['wuid']+_0x475586(0x20b));let _0x7c5e58={'number':_0xb9d07d[_0x475586(0x319)],'options':{'delay':0x0},'textMessage':{'text':_0xb9d07d['waitingMenu_ExpiredMessage']}};await this[_0x475586(0x1cc)](_0x7c5e58);let _0x2c612e={'status':_0x475586(0x6ca),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x475586(0x506)](_0xb9d07d[_0x475586(0x652)],_0x2c612e,this['instance'][_0x475586(0x64f)]),null;}return _0xb9d07d[_0x475586(0x70a)]=Date[_0x475586(0x66f)](),_0xb9d07d[_0x475586(0x6e8)]['lastReceivedMessage']=_0x3e6102,_0xb9d07d;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x4a7)+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x3fd)),this[_0x475586(0x173)][_0x475586(0x1aa)](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+'):\x20Procurando\x20conversa');let _0x429788={'where':{'remoteJid':_0x4c3d36,'status':_0x475586(0x535)}};if(_0xb9d07d=await this[_0x475586(0x702)][_0x475586(0x612)][_0x475586(0x1b0)](_0x429788,this['instance'][_0x475586(0x64f)]),!_0xb9d07d){let _0x3a5ac1=await this[_0x475586(0x143)](_0x4c3d36);if(_0x3a5ac1&&(_0xb9d07d=await this['createNewConversation'](_0x3a5ac1,_0x3e6102[_0x475586(0x543)],_0x3e6102)),!_0xb9d07d)return null;}let _0xc287c8=Date[_0x475586(0x66f)](),_0x2f0e4c=_0xb9d07d?.['minutesToClose']||0x0,_0x1df16c=_0xc287c8-_0x2f0e4c*0x3c*0x3e8;if(this[_0x475586(0x173)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x475586(0x64f)]+_0x475586(0x626)+_0xc287c8+_0x475586(0x3cd)+_0x2f0e4c+_0x475586(0x689)+_0x1df16c),this[_0x475586(0x173)][_0x475586(0x1aa)](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)]['wuid']+_0x475586(0x1fa)),this[_0x475586(0x173)]['verbose'](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+'):\x20conversation.lastInteraction:\x20'+_0xb9d07d[_0x475586(0x70a)]),this['logger']['verbose'](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x74)+_0x1df16c),_0xb9d07d[_0x475586(0x70a)]<_0x1df16c){this[_0x475586(0x173)]['verbose'](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x245));let _0x17e4c3=await this[_0x475586(0x143)](_0x4c3d36);if(_0x17e4c3===null)return null;_0xb9d07d&&await this[_0x475586(0x702)][_0x475586(0x612)][_0x475586(0x506)](_0xb9d07d[_0x475586(0x652)],{'status':'closed'},this['instance']['wuid']),_0xb9d07d=await this[_0x475586(0x368)](_0x17e4c3,_0x3e6102[_0x475586(0x543)],_0x3e6102);}return _0xb9d07d[_0x475586(0x70a)]=_0xc287c8,_0xb9d07d[_0x475586(0x6e8)][_0x475586(0x2c9)]=_0x3e6102,_0xb9d07d;}}catch(_0x40b7fc){return this[_0x475586(0x173)]['error'](this[_0x475586(0x768)]+'\x20('+this[_0x475586(0x137)][_0x475586(0x64f)]+_0x475586(0x328)+(_0x40b7fc instanceof Error?_0x40b7fc[_0x475586(0x5a0)]:JSON[_0x475586(0x28a)](_0x40b7fc,null,0x2))),null;}}async['createNewConversation'](_0x24cb3d,_0x40ad6d,_0x78d1db){const _0x336ca9=a0_0x4087be;this['logger'][_0x336ca9(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x336ca9(0x64f)]+_0x336ca9(0x100));try{let _0x45338e=require(_0x336ca9(0x477))[_0x336ca9(0xa9)],_0xcdc1d3=Date['now'](),_0x3c7347=_0x336ca9(0x220),_0x51b2f6=_0x40ad6d['fromMe']?null:_0x78d1db,_0x2f3c1a=_0x40ad6d[_0x336ca9(0x2d5)]?_0x78d1db:null,_0xa0ebdb=_0x40ad6d[_0x336ca9(0x319)];await this[_0x336ca9(0x4a9)](_0xa0ebdb);let _0x5da496={..._0x24cb3d,'chatLog':null},_0x1334aa=await this[_0x336ca9(0x4dc)](_0x5da496[_0x336ca9(0x45e)]),_0x3d6856=await this[_0x336ca9(0x1d6)](_0xa0ebdb),_0x5bbab1={..._0x1334aa,..._0x3d6856,'_remoteJid':_0xa0ebdb},_0x5e0683={'lastReceivedMessage':_0x51b2f6,'lastSendMessage':_0x2f3c1a,'lastBlockId':_0x3c7347,'lastCondition':!0x0,'realVariables':_0x5bbab1};_0x5da496[_0x336ca9(0x6e8)]=_0x5e0683,delete _0x5da496[_0x336ca9(0x652)],_0x5da496['_id']=new _0x45338e(),_0x5da496[_0x336ca9(0x70a)]=_0xcdc1d3,_0x5da496[_0x336ca9(0x5bb)]=_0x336ca9(0x535),_0x5da496[_0x336ca9(0x319)]=_0xa0ebdb;let _0x10e9ee=await this[_0x336ca9(0x702)][_0x336ca9(0x612)][_0x336ca9(0x506)](_0x5da496[_0x336ca9(0x652)],_0x5da496,this[_0x336ca9(0x137)][_0x336ca9(0x64f)]);return this['logger'][_0x336ca9(0x1aa)](this[_0x336ca9(0x768)]+'\x20('+this['instance']['wuid']+_0x336ca9(0xf0)),_0x10e9ee?_0x5da496:null;}catch(_0x5241a7){return this['logger'][_0x336ca9(0x20d)](this[_0x336ca9(0x768)]+'\x20('+this[_0x336ca9(0x137)]['wuid']+_0x336ca9(0x322)+(_0x5241a7 instanceof Error?_0x5241a7[_0x336ca9(0x5a0)]:JSON[_0x336ca9(0x28a)](_0x5241a7,null,0x2))),_0x5241a7;}}async[a0_0x4087be(0x5be)](_0x136079,_0x1e652a){const _0xbae279=a0_0x4087be;let _0x324d12=_0x136079[_0xbae279(0x319)];_0x1e652a[_0xbae279(0x410)][_0xbae279(0x319)]&&_0x1e652a[_0xbae279(0x410)][_0xbae279(0x319)][_0xbae279(0x30f)]()!==''&&(_0x324d12=_0x1e652a[_0xbae279(0x410)][_0xbae279(0x319)][_0xbae279(0x30f)]()),this[_0xbae279(0x173)][_0xbae279(0x1aa)](this['instanceName']+'\x20('+this[_0xbae279(0x137)][_0xbae279(0x64f)]+'):\x20Enviando\x20texto');let _0x48fc6d={'number':_0x324d12,'options':{'delay':_0x1e652a['uazapi']['delay'],'linkPreview':_0x1e652a[_0xbae279(0x410)][_0xbae279(0x2eb)]},'textMessage':{'text':_0x1e652a[_0xbae279(0x410)][_0xbae279(0x3e8)]}};try{let _0x186ff5=await this['textMessage'](_0x48fc6d);if(_0x186ff5){let _0x31e4ba={'_id':_0x186ff5[_0xbae279(0x543)]['id'],'_fromMe':_0x186ff5['key'][_0xbae279(0x2d5)],'_remoteJid':_0x186ff5[_0xbae279(0x543)]['remoteJid']},_0x54ca1e=(0x0,w[_0xbae279(0x53c)])(_0x186ff5[_0xbae279(0x5a0)]),_0x735c7f=(0x0,w[_0xbae279(0x366)])(_0x54ca1e);_0x136079[_0xbae279(0x6e8)][_0xbae279(0x57c)]=_0x1e652a['_id']['toString']();let {message_normalized:_0x414e50}=this['normalizeMessage'](_0x54ca1e,_0x735c7f,null);_0x136079[_0xbae279(0x6e8)]['lastSendMessage']=await _0x414e50;let _0x4607a1={'messageId':_0x186ff5[_0xbae279(0x543)]['id']},_0x10f014=_0x136079['chatLog'][_0xbae279(0x3c9)];Object[_0xbae279(0x6ba)](_0x10f014,_0x31e4ba),_0x136079['chatLog'][_0xbae279(0x3c9)]=_0x10f014,this[_0xbae279(0x49f)](_0x136079,_0x1e652a,_0x4607a1);}else{let _0x775828={'error':!0x0};this[_0xbae279(0x49f)](_0x136079,_0x1e652a,_0x775828),this[_0xbae279(0x173)][_0xbae279(0x20d)](this['instanceName']+'\x20('+this['instance'][_0xbae279(0x64f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x3504cb){let _0x23d7ed={'error':!0x0,'errorLog':_0x3504cb[_0xbae279(0x5e9)]()};this[_0xbae279(0x49f)](_0x136079,_0x1e652a,_0x23d7ed),this[_0xbae279(0x173)][_0xbae279(0x20d)](this['instanceName']+'\x20('+this[_0xbae279(0x137)][_0xbae279(0x64f)]+_0xbae279(0xce)+(_0x3504cb instanceof Error?_0x3504cb['message']:JSON[_0xbae279(0x28a)](_0x3504cb,null,0x2)));}}async['uazapiSendMedia'](_0x19dfe1,_0x654618){const _0x6486b5=a0_0x4087be;let _0x28d107=_0x19dfe1[_0x6486b5(0x319)];_0x654618['uazapi'][_0x6486b5(0x319)]&&_0x654618[_0x6486b5(0x410)][_0x6486b5(0x319)][_0x6486b5(0x30f)]()!==''&&(_0x28d107=_0x654618[_0x6486b5(0x410)][_0x6486b5(0x319)]['trim']()),this[_0x6486b5(0x173)][_0x6486b5(0x1aa)](this[_0x6486b5(0x768)]+'\x20('+this[_0x6486b5(0x137)][_0x6486b5(0x64f)]+_0x6486b5(0x14c));let _0x339710={'number':_0x28d107,'options':{'delay':_0x654618[_0x6486b5(0x410)]['delay'],'linkPreview':_0x654618[_0x6486b5(0x410)][_0x6486b5(0x2eb)]},'mediaMessage':{'mediatype':_0x654618['uazapi'][_0x6486b5(0x28f)],'caption':_0x654618['uazapi'][_0x6486b5(0x5bf)],'media':_0x654618[_0x6486b5(0x410)][_0x6486b5(0x2be)],'fileName':_0x654618[_0x6486b5(0x410)][_0x6486b5(0x102)]}};try{let _0x5d765f=await this[_0x6486b5(0x2ab)](_0x339710);if(_0x5d765f){let _0x30b011={'_id':_0x5d765f[_0x6486b5(0x543)]['id'],'_fromMe':_0x5d765f['key'][_0x6486b5(0x2d5)],'_remoteJid':_0x5d765f['key']['remoteJid']},_0x3768c9=(0x0,w[_0x6486b5(0x53c)])(_0x5d765f[_0x6486b5(0x5a0)]),_0x41d248=(0x0,w[_0x6486b5(0x366)])(_0x3768c9);_0x19dfe1[_0x6486b5(0x6e8)][_0x6486b5(0x57c)]=_0x654618[_0x6486b5(0x652)]['toString']();let {message_normalized:_0x4eb04b}=this['normalizeMessage'](_0x3768c9,_0x41d248,null);_0x19dfe1[_0x6486b5(0x6e8)][_0x6486b5(0x2d2)]=await _0x4eb04b;let _0x3ce2e0={'messageId':_0x5d765f['key']['id']},_0x14f197=_0x19dfe1[_0x6486b5(0x6e8)]['realVariables'];Object[_0x6486b5(0x6ba)](_0x14f197,_0x30b011),_0x19dfe1[_0x6486b5(0x6e8)][_0x6486b5(0x3c9)]=_0x14f197,this[_0x6486b5(0x49f)](_0x19dfe1,_0x654618,_0x3ce2e0);}else{let _0x4471e2={'error':!0x0};this[_0x6486b5(0x49f)](_0x19dfe1,_0x654618,_0x4471e2),this['logger'][_0x6486b5(0x20d)](this[_0x6486b5(0x768)]+'\x20('+this[_0x6486b5(0x137)]['wuid']+_0x6486b5(0x1c7));}}catch(_0x5eb6c6){let _0x347a54={'error':!0x0,'errorLog':_0x5eb6c6[_0x6486b5(0x5e9)]()};this[_0x6486b5(0x49f)](_0x19dfe1,_0x654618,_0x347a54),this[_0x6486b5(0x173)][_0x6486b5(0x20d)](this['instanceName']+'\x20('+this[_0x6486b5(0x137)][_0x6486b5(0x64f)]+_0x6486b5(0x5b1)+(_0x5eb6c6 instanceof Error?_0x5eb6c6['message']:JSON[_0x6486b5(0x28a)](_0x5eb6c6,null,0x2)));}}async[a0_0x4087be(0x42c)](_0x3deacf,_0xfc5955){const _0x376d58=a0_0x4087be;let _0x2c641e=_0x3deacf['remoteJid'];_0xfc5955[_0x376d58(0x410)][_0x376d58(0x319)]&&_0xfc5955['uazapi'][_0x376d58(0x319)][_0x376d58(0x30f)]()!==''&&(_0x2c641e=_0xfc5955[_0x376d58(0x410)][_0x376d58(0x319)][_0x376d58(0x30f)]()),this['logger'][_0x376d58(0x1aa)](this[_0x376d58(0x768)]+'\x20('+this['instance'][_0x376d58(0x64f)]+_0x376d58(0x66d));let _0x1c65b8={'number':_0x2c641e,'options':{'delay':_0xfc5955[_0x376d58(0x410)][_0x376d58(0x445)]},'locationMessage':{'name':_0xfc5955[_0x376d58(0x410)][_0x376d58(0x23a)],'address':_0xfc5955[_0x376d58(0x410)][_0x376d58(0x617)],'latitude':_0xfc5955[_0x376d58(0x410)]['latitude'],'longitude':_0xfc5955[_0x376d58(0x410)]['longitude']}};try{let _0x49d993=await this[_0x376d58(0x373)](_0x1c65b8);if(_0x49d993){let _0x29d312={'_id':_0x49d993[_0x376d58(0x543)]['id'],'_fromMe':_0x49d993[_0x376d58(0x543)][_0x376d58(0x2d5)],'_remoteJid':_0x49d993[_0x376d58(0x543)][_0x376d58(0x319)]},_0x2bbefa=(0x0,w['normalizeMessageContent'])(_0x49d993['message']),_0x4ae560=(0x0,w[_0x376d58(0x366)])(_0x2bbefa);_0x3deacf[_0x376d58(0x6e8)][_0x376d58(0x57c)]=_0xfc5955[_0x376d58(0x652)][_0x376d58(0x5e9)]();let {message_normalized:_0x27ed83}=this['normalizeMessage'](_0x2bbefa,_0x4ae560,null);_0x3deacf['chatLog'][_0x376d58(0x2d2)]=await _0x27ed83;let _0xc0946d={'messageId':_0x49d993[_0x376d58(0x543)]['id']},_0x5cd20f=_0x3deacf[_0x376d58(0x6e8)]['realVariables'];Object[_0x376d58(0x6ba)](_0x5cd20f,_0x29d312),_0x3deacf['chatLog'][_0x376d58(0x3c9)]=_0x5cd20f,this[_0x376d58(0x49f)](_0x3deacf,_0xfc5955,_0xc0946d);}else{let _0x2a1261={'error':!0x0};this['updateConversation'](_0x3deacf,_0xfc5955,_0x2a1261),this[_0x376d58(0x173)][_0x376d58(0x20d)](this['instanceName']+'\x20('+this[_0x376d58(0x137)][_0x376d58(0x64f)]+_0x376d58(0x16a));}}catch(_0x389dd5){let _0x319b4a={'error':!0x0,'errorLog':_0x389dd5[_0x376d58(0x5e9)]()};this[_0x376d58(0x49f)](_0x3deacf,_0xfc5955,_0x319b4a),this['logger']['error'](this[_0x376d58(0x768)]+'\x20('+this[_0x376d58(0x137)][_0x376d58(0x64f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20'+(_0x389dd5 instanceof Error?_0x389dd5[_0x376d58(0x5a0)]:JSON['stringify'](_0x389dd5,null,0x2)));}}async['uazapiSendAudio'](_0x280191,_0x3346f0){const _0x1c3c49=a0_0x4087be;let _0x2775cf=_0x280191['remoteJid'];_0x3346f0[_0x1c3c49(0x410)]['remoteJid']&&_0x3346f0[_0x1c3c49(0x410)]['remoteJid'][_0x1c3c49(0x30f)]()!==''&&(_0x2775cf=_0x3346f0[_0x1c3c49(0x410)]['remoteJid'][_0x1c3c49(0x30f)]()),this['logger'][_0x1c3c49(0x1aa)](this[_0x1c3c49(0x768)]+'\x20('+this[_0x1c3c49(0x137)]['wuid']+_0x1c3c49(0x3ce));let _0x4fef36={'number':_0x2775cf,'options':{'delay':_0x3346f0[_0x1c3c49(0x410)][_0x1c3c49(0x445)]},'audioMessage':{'audio':_0x3346f0[_0x1c3c49(0x410)][_0x1c3c49(0x84)]}};try{let _0x1706ee=await this['audioWhatsapp'](_0x4fef36);if(_0x1706ee){let _0x31d8c1={'_id':_0x1706ee[_0x1c3c49(0x543)]['id'],'_fromMe':_0x1706ee[_0x1c3c49(0x543)][_0x1c3c49(0x2d5)],'_remoteJid':_0x1706ee[_0x1c3c49(0x543)]['remoteJid']},_0x4e747c=(0x0,w[_0x1c3c49(0x53c)])(_0x1706ee[_0x1c3c49(0x5a0)]),_0x17212c=(0x0,w[_0x1c3c49(0x366)])(_0x4e747c);_0x280191[_0x1c3c49(0x6e8)]['lastBlockId']=_0x3346f0['_id']['toString']();let {message_normalized:_0x4789b0}=this['normalizeMessage'](_0x4e747c,_0x17212c,null);_0x280191['chatLog'][_0x1c3c49(0x2d2)]=await _0x4789b0;let _0x544d4b={'messageId':_0x1706ee[_0x1c3c49(0x543)]['id']},_0x335c29=_0x280191[_0x1c3c49(0x6e8)]['realVariables'];Object[_0x1c3c49(0x6ba)](_0x335c29,_0x31d8c1),_0x280191[_0x1c3c49(0x6e8)][_0x1c3c49(0x3c9)]=_0x335c29,this[_0x1c3c49(0x49f)](_0x280191,_0x3346f0,_0x544d4b);}else{let _0x49f0c4={'error':!0x0};this[_0x1c3c49(0x49f)](_0x280191,_0x3346f0,_0x49f0c4),this[_0x1c3c49(0x173)]['error'](this[_0x1c3c49(0x768)]+'\x20('+this[_0x1c3c49(0x137)]['wuid']+_0x1c3c49(0x1fd));}}catch(_0x2dc7c0){let _0x2fa974={'error':!0x0,'errorLog':_0x2dc7c0[_0x1c3c49(0x5e9)]()};this['updateConversation'](_0x280191,_0x3346f0,_0x2fa974),this[_0x1c3c49(0x173)][_0x1c3c49(0x20d)](this[_0x1c3c49(0x768)]+'\x20('+this[_0x1c3c49(0x137)]['wuid']+_0x1c3c49(0x1c8)+(_0x2dc7c0 instanceof Error?_0x2dc7c0[_0x1c3c49(0x5a0)]:JSON[_0x1c3c49(0x28a)](_0x2dc7c0,null,0x2)));}}async['uazapiSendContact'](_0x6d47a5,_0x407cf5){const _0x52537b=a0_0x4087be;let _0x3cf92e=_0x6d47a5['remoteJid'];_0x407cf5['uazapi'][_0x52537b(0x319)]&&_0x407cf5[_0x52537b(0x410)]['remoteJid'][_0x52537b(0x30f)]()!==''&&(_0x3cf92e=_0x407cf5[_0x52537b(0x410)][_0x52537b(0x319)][_0x52537b(0x30f)]()),this[_0x52537b(0x173)][_0x52537b(0x1aa)](this[_0x52537b(0x768)]+'\x20('+this['instance'][_0x52537b(0x64f)]+'):\x20Enviando\x20contato');let _0x257eab={'number':_0x3cf92e,'options':{'delay':_0x407cf5[_0x52537b(0x410)][_0x52537b(0x445)]},'contactMessage':[{'fullName':_0x407cf5[_0x52537b(0x410)][_0x52537b(0x118)],'phoneNumber':_0x407cf5['uazapi'][_0x52537b(0x6b6)]}]};try{let _0x357972=await this['contactMessage'](_0x257eab);if(_0x357972){let _0x505bc2={'_id':_0x357972[_0x52537b(0x543)]['id'],'_fromMe':_0x357972[_0x52537b(0x543)][_0x52537b(0x2d5)],'_remoteJid':_0x357972[_0x52537b(0x543)][_0x52537b(0x319)]},_0x598b4c=(0x0,w[_0x52537b(0x53c)])(_0x357972[_0x52537b(0x5a0)]),_0x15816c=(0x0,w[_0x52537b(0x366)])(_0x598b4c);_0x6d47a5[_0x52537b(0x6e8)][_0x52537b(0x57c)]=_0x407cf5['_id']['toString']();let {message_normalized:_0x3f798a}=this[_0x52537b(0x493)](_0x598b4c,_0x15816c,null);_0x6d47a5[_0x52537b(0x6e8)][_0x52537b(0x2d2)]=await _0x3f798a;let _0x3c6f22={'messageId':_0x357972[_0x52537b(0x543)]['id']},_0x2feff3=_0x6d47a5[_0x52537b(0x6e8)][_0x52537b(0x3c9)];Object[_0x52537b(0x6ba)](_0x2feff3,_0x505bc2),_0x6d47a5['chatLog'][_0x52537b(0x3c9)]=_0x2feff3,this[_0x52537b(0x49f)](_0x6d47a5,_0x407cf5,_0x3c6f22);}else{let _0x259ee5={'error':!0x0};this[_0x52537b(0x49f)](_0x6d47a5,_0x407cf5,_0x259ee5),this['logger'][_0x52537b(0x20d)](this[_0x52537b(0x768)]+'\x20('+this[_0x52537b(0x137)]['wuid']+_0x52537b(0x53a));}}catch(_0x1e6059){let _0x30821c={'error':!0x0,'errorLog':_0x1e6059[_0x52537b(0x5e9)]()};this['updateConversation'](_0x6d47a5,_0x407cf5,_0x30821c),this[_0x52537b(0x173)]['error'](this[_0x52537b(0x768)]+'\x20('+this[_0x52537b(0x137)][_0x52537b(0x64f)]+_0x52537b(0x243)+(_0x1e6059 instanceof Error?_0x1e6059[_0x52537b(0x5a0)]:JSON[_0x52537b(0x28a)](_0x1e6059,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x4ef801,_0x42825d){const _0x55fee0=a0_0x4087be;for(let _0x123577 of _0x4ef801)_0x123577[_0x55fee0(0x6e1)]&&(_0x123577[_0x55fee0(0x6e1)]=this[_0x55fee0(0x50e)](_0x123577[_0x55fee0(0x6e1)],_0x42825d)),_0x123577[_0x55fee0(0x524)]&&(_0x123577['optionDescription']=this['replaceVariables'](_0x123577[_0x55fee0(0x524)],_0x42825d));}async[a0_0x4087be(0x2ff)](_0x36be23,_0x58cf1d){const _0x16374b=a0_0x4087be;let _0x4b4992=_0x36be23[_0x16374b(0x319)];_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x319)]&&_0x58cf1d['uazapi'][_0x16374b(0x319)][_0x16374b(0x30f)]()!==''&&(_0x4b4992=_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x319)]['trim']()),this['logger']['verbose'](this[_0x16374b(0x768)]+'\x20('+this[_0x16374b(0x137)][_0x16374b(0x64f)]+_0x16374b(0x290));let _0x2ef571=_0x36be23['replyOptions'][_0x16374b(0x4ba)](_0x3b3220=>_0x3b3220[_0x16374b(0xb7)]===_0x58cf1d[_0x16374b(0x652)])['sort']((_0x3d6598,_0x5e9bf2)=>_0x3d6598[_0x16374b(0x503)]-_0x5e9bf2['order']);this[_0x16374b(0x3eb)](_0x2ef571,_0x36be23[_0x16374b(0x6e8)][_0x16374b(0x3c9)]);let _0x345e85=_0x2ef571['map'](_0x5d2f8c=>_0x5d2f8c[_0x16374b(0x6e1)]),_0x4b5681={'number':_0x4b4992,'menuMessage':{'type':_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x6a5)]||_0x16374b(0x594),'text':_0x58cf1d['uazapi'][_0x16374b(0x3e8)]||_0x58cf1d['uazapi'][_0x16374b(0x23a)],'footerText':_0x58cf1d['uazapi'][_0x16374b(0x2f7)],'buttonText':_0x58cf1d[_0x16374b(0x410)]['buttonText'],'selectableCount':0x1,'choices':_0x345e85},'options':{'delay':_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x445)]}};try{let _0xf70ff8=await this[_0x16374b(0x192)](_0x4b5681);if(_0xf70ff8){let _0x239c1b={'_id':_0xf70ff8[_0x16374b(0x543)]['id'],'_fromMe':_0xf70ff8['key'][_0x16374b(0x2d5)],'_remoteJid':_0xf70ff8[_0x16374b(0x543)][_0x16374b(0x319)]};_0x58cf1d['uazapi'][_0x16374b(0x497)]===!0x0&&(_0x36be23[_0x16374b(0x5bb)]=_0x16374b(0x412),this[_0x16374b(0x173)]['verbose'](this[_0x16374b(0x768)]+'\x20('+this[_0x16374b(0x137)][_0x16374b(0x64f)]+_0x16374b(0x171)+_0x36be23[_0x16374b(0x5bb)])),this['logger'][_0x16374b(0x1aa)](this[_0x16374b(0x768)]+'\x20('+this[_0x16374b(0x137)][_0x16374b(0x64f)]+_0x16374b(0x369)+(_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x23a)]||_0x58cf1d['uazapi'][_0x16374b(0x3e8)])),_0x36be23[_0x16374b(0x1a8)]=_0xf70ff8[_0x16374b(0x543)]['id'],_0x36be23[_0x16374b(0x4bb)]=_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x23a)]||_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x3e8)],_0x36be23[_0x16374b(0x4e6)]=_0x2ef571,_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x717)]&&(_0x36be23[_0x16374b(0x678)]=_0x58cf1d[_0x16374b(0x410)][_0x16374b(0x717)]),this[_0x16374b(0x173)]['verbose'](this[_0x16374b(0x768)]+'\x20('+this[_0x16374b(0x137)][_0x16374b(0x64f)]+_0x16374b(0x33f)+_0x36be23['waitingMenu_text']);let _0x28ab19=(0x0,w[_0x16374b(0x53c)])(_0xf70ff8[_0x16374b(0x5a0)]),_0x45ca82=(0x0,w[_0x16374b(0x366)])(_0x28ab19);_0x36be23[_0x16374b(0x6e8)]['lastBlockId']=_0x58cf1d[_0x16374b(0x652)][_0x16374b(0x5e9)]();let {message_normalized:_0x55d1ad}=this['normalizeMessage'](_0x28ab19,_0x45ca82,null);_0x36be23[_0x16374b(0x6e8)][_0x16374b(0x2d2)]=await _0x55d1ad;let _0xd6c9c0={'messageId':_0xf70ff8[_0x16374b(0x543)]['id']},_0xaa6b87=_0x36be23[_0x16374b(0x6e8)][_0x16374b(0x3c9)];Object[_0x16374b(0x6ba)](_0xaa6b87,_0x239c1b),_0x36be23[_0x16374b(0x6e8)][_0x16374b(0x3c9)]=_0xaa6b87,this[_0x16374b(0x49f)](_0x36be23,_0x58cf1d,_0xd6c9c0);}else{let _0x4774b6={'error':!0x0};this[_0x16374b(0x49f)](_0x36be23,_0x58cf1d,_0x4774b6),this[_0x16374b(0x173)][_0x16374b(0x20d)](this[_0x16374b(0x768)]+'\x20('+this[_0x16374b(0x137)][_0x16374b(0x64f)]+_0x16374b(0x595));}}catch(_0x2806e7){let _0x5f56d1={'error':!0x0,'errorLog':_0x2806e7 instanceof Error?_0x2806e7[_0x16374b(0x5a0)]:JSON[_0x16374b(0x28a)](_0x2806e7,null,0x2)};this[_0x16374b(0x49f)](_0x36be23,_0x58cf1d,_0x5f56d1),this[_0x16374b(0x173)][_0x16374b(0x20d)](this[_0x16374b(0x768)]+'\x20('+this['instance'][_0x16374b(0x64f)]+_0x16374b(0x260)+(_0x2806e7 instanceof Error?_0x2806e7[_0x16374b(0x5a0)]:JSON[_0x16374b(0x28a)](_0x2806e7,null,0x2)));}}async['uazapiDeleteMessage'](_0x227a20,_0x580b97){const _0x1168a9=a0_0x4087be;this[_0x1168a9(0x173)][_0x1168a9(0x1aa)](this[_0x1168a9(0x768)]+'\x20('+this[_0x1168a9(0x137)][_0x1168a9(0x64f)]+'):\x20Deletando\x20mensagem');let _0x50552d=_0x227a20['chatLog'][_0x1168a9(0x32e)][_0x1168a9(0x16d)](_0x5f1e88=>_0x5f1e88[_0x1168a9(0xb7)][_0x1168a9(0x5e9)]()===_0x580b97[_0x1168a9(0x410)]['blockId'][_0x1168a9(0x5e9)]()),_0x12b67d={'id':_0x50552d[_0x1168a9(0x2e0)],'remoteJid':_0x50552d[_0x1168a9(0x319)],'fromMe':_0x50552d['fromMe']};try{let _0x3b368f=await this[_0x1168a9(0x221)](_0x12b67d);if(_0x3b368f){let _0x2fcdf6=(0x0,w[_0x1168a9(0x53c)])(_0x3b368f[_0x1168a9(0x5a0)]),_0x3816ee=(0x0,w[_0x1168a9(0x366)])(_0x2fcdf6);_0x227a20[_0x1168a9(0x6e8)][_0x1168a9(0x57c)]=_0x580b97[_0x1168a9(0x652)][_0x1168a9(0x5e9)]();let {message_normalized:_0xb97dce}=this['normalizeMessage'](_0x2fcdf6,_0x3816ee,null);_0x227a20[_0x1168a9(0x6e8)][_0x1168a9(0x2d2)]=await _0xb97dce;let _0xd681a1={};this[_0x1168a9(0x49f)](_0x227a20,_0x580b97,_0xd681a1);}else{let _0x1f31d6={'error':!0x0};this['updateConversation'](_0x227a20,_0x580b97,_0x1f31d6),this['logger'][_0x1168a9(0x20d)](this['instanceName']+'\x20('+this[_0x1168a9(0x137)][_0x1168a9(0x64f)]+_0x1168a9(0x694));}}catch(_0x904730){let _0x1f2ad1={'error':!0x0,'errorLog':_0x904730 instanceof Error?_0x904730[_0x1168a9(0x5a0)]:JSON[_0x1168a9(0x28a)](_0x904730,null,0x2)};this[_0x1168a9(0x49f)](_0x227a20,_0x580b97,_0x1f2ad1),this['logger'][_0x1168a9(0x20d)](this[_0x1168a9(0x768)]+'\x20('+this[_0x1168a9(0x137)][_0x1168a9(0x64f)]+_0x1168a9(0x1be)+(_0x904730 instanceof Error?_0x904730['message']:JSON[_0x1168a9(0x28a)](_0x904730,null,0x2)));}}async[a0_0x4087be(0x44a)](_0x364e12){const _0x4c5e5e=a0_0x4087be;if(!_0x364e12[_0x4c5e5e(0x23a)])throw new f(_0x4c5e5e(0x27f));if(await this[_0x4c5e5e(0x702)][_0x4c5e5e(0x4e8)]['findOne']({'where':{'name':_0x364e12[_0x4c5e5e(0x23a)]}},this[_0x4c5e5e(0x137)]['wuid']))throw new f('J\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return'name'in _0x364e12&&_0x4c5e5e(0x11e)in _0x364e12&&_0x4c5e5e(0x25f)in _0x364e12&&Object[_0x4c5e5e(0x75e)](_0x364e12)[_0x4c5e5e(0x5b5)]===0x3?this[_0x4c5e5e(0x282)](_0x364e12[_0x4c5e5e(0x25f)],_0x364e12[_0x4c5e5e(0x11e)],_0x364e12['name']):this['createRegularFlow'](_0x364e12);}async['createSharedFlow'](_0x101d6d,_0x3d2ecd,_0x4da9d0){const _0x18e880=a0_0x4087be;try{this['logger'][_0x18e880(0x1aa)](this['instanceName']+'\x20('+this[_0x18e880(0x137)][_0x18e880(0x64f)]+_0x18e880(0x458));let _0x58e291=await this[_0x18e880(0x702)][_0x18e880(0x4e8)][_0x18e880(0x1b0)]({'where':{'name':_0x4da9d0,'sharePass':_0x3d2ecd}},_0x101d6d);if(!_0x58e291)throw new f(_0x18e880(0x4b9));let _0x3e5feb={..._0x58e291};return _0x3e5feb[_0x18e880(0x25f)]=this['instance'][_0x18e880(0x64f)],_0x3e5feb[_0x18e880(0x5fc)]=Array[_0x18e880(0x52d)](new Set([..._0x58e291[_0x18e880(0x5fc)]||[],_0x58e291['owner'],this[_0x18e880(0x137)][_0x18e880(0x64f)]])),_0x58e291['shareOwners']=_0x3e5feb[_0x18e880(0x5fc)],await this[_0x18e880(0x702)][_0x18e880(0x4e8)]['updateOne'](_0x58e291[_0x18e880(0x652)],{'shareOwners':_0x58e291[_0x18e880(0x5fc)]},_0x58e291[_0x18e880(0x25f)]),_0x58e291[_0x18e880(0x164)]===!0x0&&await this[_0x18e880(0x702)][_0x18e880(0x4e8)][_0x18e880(0x99)]({},{'default':!0x1},this[_0x18e880(0x137)][_0x18e880(0x64f)]),await this[_0x18e880(0x702)][_0x18e880(0x4e8)]['createAndSave'](_0x3e5feb,this['instance'][_0x18e880(0x64f)]);}catch(_0x4cb361){let _0x5ba8eb=_0x18e880(0x759),_0x144a85=_0x4cb361 instanceof Error?_0x4cb361[_0x18e880(0x5a0)]:typeof _0x4cb361=='object'?JSON[_0x18e880(0x28a)](_0x4cb361):_0x4cb361,_0x5c5690=_0x5ba8eb+':\x20'+_0x144a85;throw this[_0x18e880(0x173)][_0x18e880(0x20d)](this[_0x18e880(0x768)]+'\x20('+this[_0x18e880(0x137)]['wuid']+_0x18e880(0x4a7)+_0x5c5690),new f(_0x5c5690);}}async[a0_0x4087be(0x2a3)](_0x19c48b){const _0x14d60e=a0_0x4087be;try{this[_0x14d60e(0x173)][_0x14d60e(0x1aa)](this[_0x14d60e(0x768)]+'\x20('+this[_0x14d60e(0x137)][_0x14d60e(0x64f)]+_0x14d60e(0x11a)),delete _0x19c48b['shareOwners'],delete _0x19c48b[_0x14d60e(0x11e)],delete _0x19c48b[_0x14d60e(0x25f)],_0x19c48b['default']===!0x0&&await this['repository'][_0x14d60e(0x4e8)][_0x14d60e(0x99)]({},{'default':!0x1},this['instance']['wuid']);let _0x1f81f5=new re[(_0x14d60e(0x705))]['ObjectId'](),_0x573bd4={'_id':_0x1f81f5,'default':!0x0,'title':'Incio','x':0x0,'y':0x0},_0x28f527={'_id':new re[(_0x14d60e(0x705))][(_0x14d60e(0xa9))](),'order':0x1,'groupId':_0x1f81f5[_0x14d60e(0x5e9)](),'type':'start'},_0x5d1a83={'_id':new re[(_0x14d60e(0x705))][(_0x14d60e(0xa9))](),'owner':this[_0x14d60e(0x137)][_0x14d60e(0x64f)],'name':_0x19c48b[_0x14d60e(0x23a)],'groups':[_0x573bd4],'blocks':[_0x28f527],..._0x19c48b};return await this[_0x14d60e(0x702)][_0x14d60e(0x4e8)][_0x14d60e(0x76d)](_0x5d1a83,this[_0x14d60e(0x137)][_0x14d60e(0x64f)]);}catch(_0x3181be){let _0x5df528='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x23bc6d=_0x3181be instanceof Error?_0x3181be[_0x14d60e(0x5a0)]:typeof _0x3181be==_0x14d60e(0x157)?JSON[_0x14d60e(0x28a)](_0x3181be):_0x3181be,_0x2a7d0f=_0x5df528+':\x20'+_0x23bc6d;throw this[_0x14d60e(0x173)][_0x14d60e(0x20d)](this[_0x14d60e(0x768)]+'\x20('+this['instance'][_0x14d60e(0x64f)]+_0x14d60e(0x4a7)+_0x2a7d0f),new f(_0x2a7d0f);}}async[a0_0x4087be(0x189)](_0x4c8171,_0x1cddb5){const _0x4c64a3=a0_0x4087be;try{let _0x303148=await this['repository'][_0x4c64a3(0x4e8)]['findOne']({'where':{'_id':_0x4c8171}},_0x1cddb5);if(_0x303148&&_0x303148[_0x4c64a3(0x5fc)]){for(let _0x1f51a0 of _0x303148[_0x4c64a3(0x5fc)])if(_0x1f51a0!==_0x1cddb5){let _0x4d1e8d={..._0x303148,'owner':_0x1f51a0};await this[_0x4c64a3(0x702)][_0x4c64a3(0x4e8)][_0x4c64a3(0x530)](_0x4c8171,_0x4d1e8d,_0x1f51a0);}}}catch(_0x528ac8){this[_0x4c64a3(0x173)][_0x4c64a3(0x20d)](_0x4c64a3(0x561)+_0x528ac8);}}async[a0_0x4087be(0x5b2)](_0x296d65){const _0x2dbe52=a0_0x4087be;try{this[_0x2dbe52(0x173)]['verbose'](this[_0x2dbe52(0x768)]+'\x20('+this[_0x2dbe52(0x137)][_0x2dbe52(0x64f)]+_0x2dbe52(0x1e4));let _0x7d732b=await this['repository'][_0x2dbe52(0x4e8)]['findOne']({'where':{'name':_0x296d65}},this[_0x2dbe52(0x137)][_0x2dbe52(0x64f)]);if(_0x7d732b&&_0x7d732b[_0x2dbe52(0x5fc)]&&_0x7d732b[_0x2dbe52(0x5fc)][_0x2dbe52(0x5b5)]>0x1){for(let _0x3f0d9e of _0x7d732b['shareOwners'])if(_0x3f0d9e!==this[_0x2dbe52(0x137)][_0x2dbe52(0x64f)]){let _0x46d820=await this[_0x2dbe52(0x702)]['flow'][_0x2dbe52(0x1b0)]({'where':{'sharePass':_0x7d732b[_0x2dbe52(0x11e)]}},_0x3f0d9e);_0x46d820&&(_0x46d820['shareOwners']=_0x46d820['shareOwners']['filter'](_0x5e61ee=>_0x5e61ee!==_0x7d732b[_0x2dbe52(0x25f)]),await this[_0x2dbe52(0x702)][_0x2dbe52(0x4e8)][_0x2dbe52(0x506)](_0x46d820[_0x2dbe52(0x652)],{'shareOwners':_0x46d820[_0x2dbe52(0x5fc)]},_0x3f0d9e));}}return await this['repository'][_0x2dbe52(0x4e8)]['deleteOne']({'where':{'name':_0x296d65}},this[_0x2dbe52(0x137)][_0x2dbe52(0x64f)]);}catch(_0x13a0a2){return this[_0x2dbe52(0x173)][_0x2dbe52(0x20d)](this[_0x2dbe52(0x768)]+'\x20('+this[_0x2dbe52(0x137)][_0x2dbe52(0x64f)]+_0x2dbe52(0x770)+(_0x13a0a2 instanceof Error?_0x13a0a2[_0x2dbe52(0x5a0)]:JSON['stringify'](_0x13a0a2,null,0x2))),{'message':_0x2dbe52(0x2ee)+_0x13a0a2['message']};}}async[a0_0x4087be(0x762)](_0x19c283){const _0x2de7fb=a0_0x4087be;try{this[_0x2de7fb(0x173)][_0x2de7fb(0x1aa)](this['instanceName']+'\x20('+this[_0x2de7fb(0x137)][_0x2de7fb(0x64f)]+_0x2de7fb(0x16c));let _0x62690d=await this[_0x2de7fb(0x702)][_0x2de7fb(0x4e8)]['findOne']({'where':{'name':_0x19c283}},this[_0x2de7fb(0x137)][_0x2de7fb(0x64f)]);if(!_0x62690d)throw new Error(_0x2de7fb(0x219));if(!this['AutomateSystem']&&(await this[_0x2de7fb(0x75a)](),!this[_0x2de7fb(0x94)]))return null;let _0x453319=this['AutomateSystem']?.['customFields'][_0x2de7fb(0xaa)](_0x5a9a8d=>_0x5a9a8d[_0x2de7fb(0x23a)]),_0x58b568=[_0x2de7fb(0x72a),_0x2de7fb(0x47d),_0x2de7fb(0x10c),_0x2de7fb(0xc5),'status',_0x2de7fb(0x44f),_0x2de7fb(0x2a6),_0x2de7fb(0xda),_0x2de7fb(0x20f)];_0x62690d[_0x2de7fb(0x45e)]=_0x62690d['variables'][_0x2de7fb(0x4ba)](_0x38fe74=>!(_0x38fe74['folder']==='leadInfo'||_0x38fe74['leadInfo'])),_0x58b568[_0x2de7fb(0x4e3)](_0x1c37b1=>{const _0x352773=_0x2de7fb;_0x62690d[_0x352773(0x45e)][_0x352773(0x5af)]({'folder':_0x352773(0x113),'name':_0x1c37b1,'value':'','doc':'','leadInfo':!0x0});}),_0x453319[_0x2de7fb(0x4e3)](_0x1b15a1=>{const _0x3fbc02=_0x2de7fb;let _0x4d4165=_0x62690d['variables']['findIndex'](_0x4d886a=>_0x4d886a['name']===_0x1b15a1);_0x4d4165===-0x1?_0x62690d[_0x3fbc02(0x45e)][_0x3fbc02(0x5af)]({'folder':'leadInfo','name':_0x1b15a1,'value':'','doc':'','leadInfo':!0x0}):(_0x62690d[_0x3fbc02(0x45e)][_0x4d4165][_0x3fbc02(0x3e4)]=_0x3fbc02(0x113),_0x62690d['variables'][_0x4d4165][_0x3fbc02(0x113)]=!0x0);}),_0x62690d['blocks']&&_0x62690d[_0x2de7fb(0x1ab)][_0x2de7fb(0x5b5)]>0x0&&_0x62690d[_0x2de7fb(0x1ab)][_0x2de7fb(0x4e3)](_0x3fa3c3=>{const _0x450b28=_0x2de7fb;_0x3fa3c3['groupId']&&_0x3fa3c3[_0x450b28(0x16b)]&&_0x3fa3c3['groupId']===_0x3fa3c3['next_groupId']&&(_0x3fa3c3['next_groupId']=null);});let _0x59fc74=await this[_0x2de7fb(0x702)][_0x2de7fb(0x4e8)][_0x2de7fb(0x506)](_0x62690d['_id'],_0x62690d,this[_0x2de7fb(0x137)]['wuid']);if(!_0x59fc74)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x59fc74;}catch(_0x41b514){let _0x5c2632=_0x2de7fb(0x15b),_0x56bddf=_0x41b514 instanceof Error?_0x41b514[_0x2de7fb(0x5a0)]:typeof _0x41b514==_0x2de7fb(0x157)?JSON[_0x2de7fb(0x28a)](_0x41b514):_0x41b514,_0xb03cc=_0x5c2632+':\x20'+_0x56bddf;throw this[_0x2de7fb(0x173)][_0x2de7fb(0x20d)](this[_0x2de7fb(0x768)]+'\x20('+this[_0x2de7fb(0x137)][_0x2de7fb(0x64f)]+_0x2de7fb(0x4a7)+_0xb03cc),new f(_0xb03cc);}}async[a0_0x4087be(0x728)](){const _0x8cd146=a0_0x4087be;try{return this[_0x8cd146(0x173)][_0x8cd146(0x1aa)](this['instanceName']+'\x20('+this[_0x8cd146(0x137)][_0x8cd146(0x64f)]+_0x8cd146(0x566)),await this['repository'][_0x8cd146(0x4e8)]['updateMissingShareOwners'](this['instance'][_0x8cd146(0x64f)]),await this['repository'][_0x8cd146(0x4e8)][_0x8cd146(0xa8)]({'where':{}},this['instance'][_0x8cd146(0x64f)]);}catch(_0x3b4e18){return this[_0x8cd146(0x173)][_0x8cd146(0x20d)](this[_0x8cd146(0x768)]+'\x20('+this[_0x8cd146(0x137)][_0x8cd146(0x64f)]+_0x8cd146(0x1fb)+(_0x3b4e18 instanceof Error?_0x3b4e18[_0x8cd146(0x5a0)]:JSON[_0x8cd146(0x28a)](_0x3b4e18,null,0x2))),{'message':_0x8cd146(0x643)+_0x3b4e18['message']};}}async[a0_0x4087be(0x338)](_0x3ced06){const _0x98e694=a0_0x4087be;try{this[_0x98e694(0x173)][_0x98e694(0x1aa)](this[_0x98e694(0x768)]+'\x20('+this[_0x98e694(0x137)][_0x98e694(0x64f)]+_0x98e694(0x51f));let _0x5be596=await this['repository'][_0x98e694(0x4e8)][_0x98e694(0x1b0)]({'where':{'name':_0x3ced06[_0x98e694(0x23a)]}},this[_0x98e694(0x137)][_0x98e694(0x64f)]);if(!_0x5be596)return{'message':'Fluxo\x20no\x20encontrado'};_0x3ced06[_0x98e694(0x164)]===!0x0&&await this[_0x98e694(0x702)]['flow'][_0x98e694(0x99)]({},{'default':!0x1},this[_0x98e694(0x137)]['wuid']),delete _0x3ced06[_0x98e694(0x5fc)],delete _0x3ced06[_0x98e694(0x11e)];let _0x5321d6=await this['repository']['flow'][_0x98e694(0x506)](_0x5be596[_0x98e694(0x652)],_0x3ced06,this[_0x98e694(0x137)][_0x98e694(0x64f)]);return _0x5321d6&&_0x5321d6[_0x98e694(0x5fc)]&&_0x5321d6[_0x98e694(0x5fc)]['length']>0x1&&this['synchronizeFlows'](_0x5321d6[_0x98e694(0x652)],this['instance'][_0x98e694(0x64f)]),_0x5321d6;}catch(_0x5f23b0){let _0x329008=_0x98e694(0x1c1),_0x5d608b=_0x5f23b0 instanceof Error?_0x5f23b0[_0x98e694(0x5a0)]:typeof _0x5f23b0==_0x98e694(0x157)?JSON[_0x98e694(0x28a)](_0x5f23b0):_0x5f23b0,_0x35d839=_0x329008+':\x20'+_0x5d608b;throw this[_0x98e694(0x173)][_0x98e694(0x20d)](this[_0x98e694(0x768)]+'\x20('+this[_0x98e694(0x137)][_0x98e694(0x64f)]+_0x98e694(0x4a7)+_0x35d839),new f(_0x35d839);}}async[a0_0x4087be(0x61b)](_0x3f4df3){const _0x2324a2=a0_0x4087be;try{this[_0x2324a2(0x173)]['verbose'](this[_0x2324a2(0x768)]+'\x20('+this[_0x2324a2(0x137)][_0x2324a2(0x64f)]+_0x2324a2(0x701));let _0x1d9174=await this[_0x2324a2(0x702)][_0x2324a2(0x4e8)][_0x2324a2(0x1b0)]({'where':{'name':_0x3f4df3[_0x2324a2(0x23a)]}},this['instance']['wuid']);_0x1d9174||this[_0x2324a2(0x2a1)](_0x2324a2(0x219));let {block:_0x3a361e}=_0x3f4df3;_0x3a361e?.[_0x2324a2(0x12f)]?this[_0x2324a2(0x1ca)](_0x1d9174,_0x3f4df3):_0x3a361e?.[_0x2324a2(0x301)]?this[_0x2324a2(0x135)](_0x1d9174,_0x3f4df3):_0x3a361e[_0x2324a2(0x652)]?await this[_0x2324a2(0x2bf)](_0x1d9174,_0x3f4df3):this[_0x2324a2(0x4d3)](_0x1d9174,_0x3f4df3);let _0x53e661=await this['repository']['flow']['updateOne'](_0x1d9174[_0x2324a2(0x652)],_0x1d9174,this['instance']['wuid']);if(_0x53e661&&_0x53e661[_0x2324a2(0x5fc)]&&_0x53e661[_0x2324a2(0x5fc)][_0x2324a2(0x5b5)]>0x1&&this[_0x2324a2(0x189)](_0x53e661['_id'],this[_0x2324a2(0x137)][_0x2324a2(0x64f)]),!_0x53e661)throw new Error(_0x2324a2(0x10b));return _0x53e661;}catch(_0x2991c8){this[_0x2324a2(0x2a1)](_0x2324a2(0x71a)+_0x2991c8);}}async[a0_0x4087be(0x1ca)](_0xb6149a,_0x19a733){const _0x501988=a0_0x4087be;let _0x1988ce=_0x19a733[_0x501988(0x5d7)][_0x501988(0x652)],_0xf66672=_0xb6149a[_0x501988(0x1ab)][_0x501988(0x16d)](_0x5426cf=>_0x5426cf[_0x501988(0x652)][_0x501988(0x5e9)]()===_0x1988ce);if(!_0xf66672){this[_0x501988(0x173)][_0x501988(0x20d)](this[_0x501988(0x768)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x1988ce+_0x501988(0x75c));return;}this[_0x501988(0x173)][_0x501988(0x1aa)](this[_0x501988(0x768)]+'\x20('+this['instance'][_0x501988(0x64f)]+_0x501988(0x30d)+JSON[_0x501988(0x28a)](_0xf66672));let _0x4831d3=JSON[_0x501988(0x31f)](JSON['stringify'](_0xf66672));_0x4831d3['_id']=new re[(_0x501988(0x164))]['Types'][(_0x501988(0xa9))](),this['logger'][_0x501988(0x1aa)](this[_0x501988(0x768)]+'\x20('+this[_0x501988(0x137)][_0x501988(0x64f)]+_0x501988(0x5a1)+JSON[_0x501988(0x28a)](_0x4831d3)),_0xb6149a[_0x501988(0x1ab)][_0x501988(0x5af)](_0x4831d3),this[_0x501988(0x3a4)](_0xb6149a[_0x501988(0x1ab)],_0x4831d3[_0x501988(0x2f5)]);}[a0_0x4087be(0x2a1)](_0x28fda0){const _0x9977ec=a0_0x4087be;throw this[_0x9977ec(0x173)]['error'](this[_0x9977ec(0x768)]+'\x20('+this[_0x9977ec(0x137)][_0x9977ec(0x64f)]+_0x9977ec(0x4a7)+_0x28fda0),new f(_0x28fda0);}[a0_0x4087be(0x135)](_0xcc5711,_0x4d6d03){const _0x26b27b=a0_0x4087be;let {block:_0xf74870}=_0x4d6d03;if(_0xf74870[_0x26b27b(0x6f2)]===_0x26b27b(0x220)){this[_0x26b27b(0x2a1)]('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0xf74870['_id']){this[_0x26b27b(0x2a1)]('blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco');return;}let _0x39f6ad=_0xcc5711[_0x26b27b(0x1ab)][_0x26b27b(0x16d)](_0xc58455=>_0xc58455[_0x26b27b(0x652)][_0x26b27b(0x5e9)]()===_0x4d6d03[_0x26b27b(0x5d7)][_0x26b27b(0x652)][_0x26b27b(0x5e9)]());if(!_0x39f6ad){this[_0x26b27b(0x2a1)](_0x26b27b(0x52b)+_0xf74870[_0x26b27b(0x652)]+_0x26b27b(0x706));return;}_0xcc5711[_0x26b27b(0x1ab)]=_0xcc5711[_0x26b27b(0x1ab)][_0x26b27b(0x4ba)](_0xab67ac=>_0xab67ac['_id'][_0x26b27b(0x5e9)]()!==_0x4d6d03[_0x26b27b(0x5d7)][_0x26b27b(0x652)]['toString']()),_0xcc5711[_0x26b27b(0x1b3)]=_0xcc5711[_0x26b27b(0x1b3)]['filter'](_0x4ef0e3=>_0x4ef0e3['blockId']!==_0xf74870[_0x26b27b(0x652)][_0x26b27b(0x5e9)]()),_0xcc5711[_0x26b27b(0x24f)]=_0xcc5711[_0x26b27b(0x24f)][_0x26b27b(0x4ba)](_0xd0ed6e=>_0xd0ed6e[_0x26b27b(0xb7)]!==_0xf74870[_0x26b27b(0x652)][_0x26b27b(0x5e9)]()),_0xcc5711['replyOptions']=_0xcc5711[_0x26b27b(0x43d)][_0x26b27b(0x4ba)](_0x29e6e2=>_0x29e6e2['blockId']!==_0xf74870[_0x26b27b(0x652)]['toString']()),this[_0x26b27b(0x3a4)](_0xcc5711[_0x26b27b(0x1ab)],_0x39f6ad[_0x26b27b(0x2f5)]);}async[a0_0x4087be(0x2bf)](_0x5f55fa,_0x2006a2){const _0x27b703=a0_0x4087be;let _0x59dba2=_0x5f55fa[_0x27b703(0x1ab)][_0x27b703(0x225)](_0x11984a=>_0x11984a[_0x27b703(0x652)]['toString']()===_0x2006a2[_0x27b703(0x5d7)][_0x27b703(0x652)][_0x27b703(0x5e9)]());if(this[_0x27b703(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x27b703(0x137)][_0x27b703(0x64f)]+_0x27b703(0x364)+_0x59dba2),_0x59dba2===-0x1){this['logger']['verbose'](_0x27b703(0x52b)+_0x2006a2[_0x27b703(0x5d7)][_0x27b703(0x652)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}if(_0x5f55fa['blocks'][_0x59dba2][_0x27b703(0x6f2)]==='start'){let _0x2d6fd4=Object[_0x27b703(0x75e)](_0x2006a2[_0x27b703(0x5d7)]);if(_0x2d6fd4[_0x27b703(0x5b5)]>0x2||_0x2d6fd4['length']===0x2&&!_0x2d6fd4['includes'](_0x27b703(0x16b))){this['throwAndLogError']('Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro');return;}}let _0xee2cee=_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x2f5)];for(let _0x227742 in _0x2006a2['block'])_0x2006a2[_0x27b703(0x5d7)][_0x27b703(0x131)](_0x227742)&&(_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x227742]=_0x2006a2[_0x27b703(0x5d7)][_0x227742]);if(this[_0x27b703(0x173)]['verbose'](this[_0x27b703(0x768)]+'\x20('+this['instance'][_0x27b703(0x64f)]+_0x27b703(0x448)+JSON[_0x27b703(0x28a)](_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2])),_0x5f55fa['blocks'][_0x59dba2][_0x27b703(0x610)]&&'header'in _0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]){this[_0x27b703(0x173)][_0x27b703(0x1aa)](this[_0x27b703(0x768)]+'\x20('+this[_0x27b703(0x137)][_0x27b703(0x64f)]+_0x27b703(0x26f));let _0x18a339=JSON[_0x27b703(0x28a)](_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2]['apirequest'][_0x27b703(0x1f1)],null,0x1);_0x18a339[_0x27b703(0x5b5)]>0x2&&(_0x18a339=_0x18a339[_0x27b703(0x25a)](0x1,_0x18a339[_0x27b703(0x5b5)]-0x1)[_0x27b703(0x30f)]()),_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]['headerString']=_0x18a339;}if(_0x5f55fa['blocks'][_0x59dba2][_0x27b703(0x610)]&&'body'in _0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]&&!(_0x27b703(0x748)in _0x5f55fa[_0x27b703(0x1ab)][_0x59dba2]['apirequest'])){this[_0x27b703(0x173)]['verbose'](this[_0x27b703(0x768)]+'\x20('+this[_0x27b703(0x137)]['wuid']+_0x27b703(0x110)),_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]['bodyStringErrorParse']=!0x1;let _0x5f19e2=JSON[_0x27b703(0x28a)](_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2]['apirequest'][_0x27b703(0x33c)],null,0x2);_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)][_0x27b703(0x748)]=_0x5f19e2;}if(_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]&&_0x27b703(0x748)in _0x5f55fa[_0x27b703(0x1ab)][_0x59dba2]['apirequest']){_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)]['bodyStringErrorParse']=!0x1;let _0x410916=_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2]['apirequest'][_0x27b703(0x748)],_0x381f23=this['beautifyWithPlaceholders'](_0x410916);_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)][_0x27b703(0x748)]=_0x381f23[_0x27b703(0x1e9)],_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x610)][_0x27b703(0x736)]=_0x381f23[_0x27b703(0x20d)];}let _0x576094=_0x5f55fa[_0x27b703(0x1ab)][_0x59dba2][_0x27b703(0x2f5)];_0xee2cee!==_0x576094?(this[_0x27b703(0x3a4)](_0x5f55fa[_0x27b703(0x1ab)],_0xee2cee),this[_0x27b703(0x3a4)](_0x5f55fa[_0x27b703(0x1ab)],_0x576094)):this[_0x27b703(0x3a4)](_0x5f55fa[_0x27b703(0x1ab)],_0xee2cee);}['beautifyWithPlaceholders'](_0x4b13ef){const _0x25ad6a=a0_0x4087be;let _0x24e40a='\u205f',_0x52d289=!0x1,_0x5e668c='';for(let _0x32a9fd=0x0;_0x32a9fd<_0x4b13ef['length'];_0x32a9fd++){let _0x280faf=_0x4b13ef[_0x32a9fd];_0x280faf==='\x22'&&(_0x32a9fd===0x0||_0x4b13ef[_0x32a9fd-0x1]!=='\x5c')&&(_0x52d289=!_0x52d289),!(!_0x52d289&&(_0x280faf==='\x0a'||_0x280faf==='\x20'||_0x280faf===_0x24e40a))&&(_0x5e668c+=_0x280faf);}let _0x5b4baa={},_0x506dcd=9876543210.1234,_0x4d6b9b=_0x5e668c[_0x25ad6a(0x71c)](/\{\{([^}]+)\}\}/g,_0x3ae2a8=>{let _0x2c05eb=_0x3ae2a8,_0x1a9eb0=''+_0x506dcd;return _0x5b4baa[_0x1a9eb0]=_0x2c05eb,_0x506dcd+=0.0001,_0x1a9eb0;}),_0x3e0121='',_0x1b8834=!0x1;try{let _0xf80314=JSON[_0x25ad6a(0x31f)](_0x4d6b9b);_0x3e0121=JSON[_0x25ad6a(0x28a)](_0xf80314,null,0x2),_0x3e0121=_0x3e0121[_0x25ad6a(0x71c)](/\n( +)/g,(_0x1c5888,_0x277ce8)=>{const _0x598d2b=_0x25ad6a;let _0x539147=_0x277ce8[_0x598d2b(0x5b5)];return'\x0a'+_0x24e40a[_0x598d2b(0x1c9)](_0x539147*0x2);}),_0x3e0121=_0x3e0121['replace'](/(\d{10,}\.\d+)/g,_0x24fc72=>_0x5b4baa[_0x24fc72]||_0x24fc72);}catch(_0x1cf64d){console['error'](_0x25ad6a(0x1ef),_0x1cf64d),_0x3e0121=_0x4b13ef,_0x1b8834=!0x0;}return{'result':_0x3e0121,'error':_0x1b8834};}['addBlock'](_0x409501,_0x5ecfb9){const _0x255afc=a0_0x4087be;if(_0x5ecfb9[_0x255afc(0x5d7)]['type']===_0x255afc(0x220)){this['throwAndLogError'](_0x255afc(0x734));return;}if(_0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x610)]&&_0x255afc(0x1f1)in _0x5ecfb9[_0x255afc(0x5d7)]['apirequest']){this[_0x255afc(0x173)][_0x255afc(0x1aa)](this[_0x255afc(0x768)]+'\x20('+this[_0x255afc(0x137)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5106e7=JSON[_0x255afc(0x28a)](_0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x610)][_0x255afc(0x1f1)],null,0x1);_0x5106e7[_0x255afc(0x5b5)]>0x2&&(_0x5106e7=_0x5106e7[_0x255afc(0x25a)](0x1,_0x5106e7[_0x255afc(0x5b5)]-0x1)[_0x255afc(0x30f)]()),_0x5ecfb9['block'][_0x255afc(0x610)][_0x255afc(0x190)]=_0x5106e7;}_0x5ecfb9[_0x255afc(0x5d7)]['apirequest']&&'body'in _0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x610)]&&(this[_0x255afc(0x173)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x255afc(0x64f)]+_0x255afc(0x110)),_0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x610)]['bodyString']=JSON[_0x255afc(0x28a)](_0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x610)][_0x255afc(0x33c)],null,0x1)[_0x255afc(0x30f)]()),_0x409501[_0x255afc(0x1ab)][_0x255afc(0x5af)](_0x5ecfb9[_0x255afc(0x5d7)]),this[_0x255afc(0x3a4)](_0x409501[_0x255afc(0x1ab)],_0x5ecfb9[_0x255afc(0x5d7)][_0x255afc(0x2f5)]);}[a0_0x4087be(0x3a4)](_0x3bdc7b,_0x24db76){const _0x4c542b=a0_0x4087be;let _0x84527e=_0x3bdc7b[_0x4c542b(0x4ba)](_0xf8fc69=>_0xf8fc69[_0x4c542b(0x2f5)]===_0x24db76);_0x84527e[_0x4c542b(0x654)]((_0x4dde20,_0x3779fc)=>_0x4dde20[_0x4c542b(0x503)]-_0x3779fc[_0x4c542b(0x503)]),_0x84527e[_0x4c542b(0x4e3)]((_0x3fbeb0,_0x3add0d)=>_0x3fbeb0[_0x4c542b(0x503)]=_0x3add0d+0x1);}async[a0_0x4087be(0xb2)](_0x159567){const _0xc6545d=a0_0x4087be;try{if(this['logger'][_0xc6545d(0x1aa)](this[_0xc6545d(0x768)]+'\x20('+this[_0xc6545d(0x137)][_0xc6545d(0x64f)]+'):\x20Editando\x20replyOption...'),!_0x159567||!_0x159567[_0xc6545d(0x767)]){this[_0xc6545d(0x2a1)](_0xc6545d(0x398));return;}let _0x1bac91=await this['repository'][_0xc6545d(0x4e8)][_0xc6545d(0x1b0)]({'where':{'name':_0x159567[_0xc6545d(0x23a)]}},this[_0xc6545d(0x137)][_0xc6545d(0x64f)]);_0x1bac91||this['throwAndLogError'](_0xc6545d(0x219));let {replyOption:_0x19ae61}=_0x159567;_0x19ae61?.[_0xc6545d(0x301)]?(this[_0xc6545d(0x3b0)](_0x1bac91,_0x159567),this[_0xc6545d(0x3ca)](_0x1bac91[_0xc6545d(0x43d)],_0x159567[_0xc6545d(0x767)][_0xc6545d(0xb7)])):_0x19ae61[_0xc6545d(0x652)]?(await this['updateReplyOption'](_0x1bac91,_0x159567),this[_0xc6545d(0x3ca)](_0x1bac91[_0xc6545d(0x43d)],_0x159567[_0xc6545d(0x767)][_0xc6545d(0xb7)])):(this[_0xc6545d(0x505)](_0x1bac91,_0x159567),this[_0xc6545d(0x3ca)](_0x1bac91[_0xc6545d(0x43d)],_0x159567[_0xc6545d(0x767)]['blockId']));let _0x29555f=await this[_0xc6545d(0x702)][_0xc6545d(0x4e8)][_0xc6545d(0x506)](_0x1bac91['_id'],_0x1bac91,this[_0xc6545d(0x137)][_0xc6545d(0x64f)]);if(_0x29555f&&_0x29555f['shareOwners']&&_0x29555f[_0xc6545d(0x5fc)][_0xc6545d(0x5b5)]>0x1&&this[_0xc6545d(0x189)](_0x29555f[_0xc6545d(0x652)],this[_0xc6545d(0x137)][_0xc6545d(0x64f)]),!_0x29555f)throw new Error(_0xc6545d(0x10b));return _0x29555f;}catch(_0x45cfef){this[_0xc6545d(0x2a1)](_0xc6545d(0x545)+_0x45cfef);}}[a0_0x4087be(0x3ca)](_0xe3f54a,_0x5aa12f){const _0x1ad699=a0_0x4087be;console[_0x1ad699(0x603)](_0x1ad699(0x59d),_0x5aa12f),_0xe3f54a['forEach'](_0x229cd1=>{const _0x5c0b39=_0x1ad699;_0x229cd1['blockId']===_0x5aa12f&&_0x229cd1[_0x5c0b39(0x503)]===void 0x0&&(_0x229cd1['order']=0x270f);});let _0x65c076=_0xe3f54a[_0x1ad699(0x4ba)](_0x16df28=>_0x16df28[_0x1ad699(0xb7)]===_0x5aa12f);_0x65c076[_0x1ad699(0x654)]((_0x6663ba,_0x2b498a)=>_0x6663ba[_0x1ad699(0x503)]-_0x2b498a[_0x1ad699(0x503)]),_0x65c076[_0x1ad699(0x4e3)]((_0x55a958,_0x2bbbba)=>{const _0x31b5d3=_0x1ad699;_0x55a958[_0x31b5d3(0x503)]=_0x2bbbba+0x1;}),_0xe3f54a[_0x1ad699(0x4e3)](_0x1bbfb9=>{const _0xfe51a9=_0x1ad699;if(_0x1bbfb9[_0xfe51a9(0xb7)]===_0x5aa12f){let _0x56ad6e=_0x65c076[_0xfe51a9(0x16d)](_0x26d0e9=>_0x26d0e9[_0xfe51a9(0x652)]&&_0x1bbfb9[_0xfe51a9(0x652)]&&_0x26d0e9[_0xfe51a9(0x652)][_0xfe51a9(0x5e9)]()===_0x1bbfb9[_0xfe51a9(0x652)][_0xfe51a9(0x5e9)]());_0x56ad6e&&(_0x1bbfb9[_0xfe51a9(0x503)]=_0x56ad6e['order']);}}),console[_0x1ad699(0x603)](_0x1ad699(0x699),_0xe3f54a);}['deleteReplyOption'](_0x4fdb60,_0x25ccf8){const _0x35cb2a=a0_0x4087be;let {replyOption:_0xcd1fbe}=_0x25ccf8;if(!_0xcd1fbe[_0x35cb2a(0x652)]){this[_0x35cb2a(0x2a1)]('replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4fdb60['replyOptions']['find'](_0x3e2a9a=>_0x3e2a9a[_0x35cb2a(0x652)][_0x35cb2a(0x5e9)]()===_0x25ccf8[_0x35cb2a(0x767)][_0x35cb2a(0x652)][_0x35cb2a(0x5e9)]())){this['throwAndLogError'](_0x35cb2a(0x61c)+_0xcd1fbe['_id']+'\x20no\x20encontrado');return;}_0x4fdb60['replyOptions']=_0x4fdb60[_0x35cb2a(0x43d)][_0x35cb2a(0x4ba)](_0x44c696=>_0x44c696[_0x35cb2a(0x652)][_0x35cb2a(0x5e9)]()!==_0x25ccf8[_0x35cb2a(0x767)][_0x35cb2a(0x652)][_0x35cb2a(0x5e9)]());}async[a0_0x4087be(0x2a9)](_0x3e3003,_0x316d59){const _0x33a1f6=a0_0x4087be;let _0x55805e=_0x3e3003[_0x33a1f6(0x43d)][_0x33a1f6(0x225)](_0x40e3a5=>_0x40e3a5[_0x33a1f6(0x652)][_0x33a1f6(0x5e9)]()===_0x316d59[_0x33a1f6(0x767)][_0x33a1f6(0x652)][_0x33a1f6(0x5e9)]());if(_0x55805e===-0x1){this[_0x33a1f6(0x2a1)](_0x33a1f6(0x61c)+_0x316d59[_0x33a1f6(0x767)][_0x33a1f6(0x652)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}for(let _0x348979 in _0x316d59['replyOption'])_0x316d59['replyOption'][_0x33a1f6(0x131)](_0x348979)&&(_0x3e3003[_0x33a1f6(0x43d)][_0x55805e][_0x348979]=_0x316d59[_0x33a1f6(0x767)][_0x348979]);}[a0_0x4087be(0x505)](_0x844148,_0x5a904b){const _0x24a639=a0_0x4087be;_0x844148[_0x24a639(0x43d)][_0x24a639(0x5af)](_0x5a904b[_0x24a639(0x767)]);}async[a0_0x4087be(0x573)](_0x3c5b09){const _0x5b8d81=a0_0x4087be;this['logger'][_0x5b8d81(0x1aa)](this[_0x5b8d81(0x768)]+'\x20('+this[_0x5b8d81(0x137)][_0x5b8d81(0x64f)]+_0x5b8d81(0x60d)+_0x3c5b09);try{this[_0x5b8d81(0x173)][_0x5b8d81(0x1aa)](this['instanceName']+'\x20('+this[_0x5b8d81(0x137)]['wuid']+_0x5b8d81(0x6b4));let _0x1d7e6c=await this['repository'][_0x5b8d81(0x4e8)][_0x5b8d81(0x1b0)]({'where':{'name':_0x3c5b09[_0x5b8d81(0x23a)]}},this[_0x5b8d81(0x137)]['wuid']);if(!_0x1d7e6c)throw new Error(_0x5b8d81(0x219));if(_0x3c5b09['group']&&_0x3c5b09['group']?.[_0x5b8d81(0x301)]===!0x0){if(this['logger'][_0x5b8d81(0x1aa)](this[_0x5b8d81(0x768)]+'\x20('+this[_0x5b8d81(0x137)]['wuid']+'):\x20delete\x20=\x20true'),_0x3c5b09[_0x5b8d81(0x310)][_0x5b8d81(0x164)]===!0x0)return{'message':_0x5b8d81(0xe5)};if(_0x1d7e6c[_0x5b8d81(0x1ab)]['some'](_0x43d873=>_0x43d873[_0x5b8d81(0x2f5)][_0x5b8d81(0x5e9)]()===_0x3c5b09[_0x5b8d81(0x310)][_0x5b8d81(0x652)]))return this[_0x5b8d81(0x173)]['verbose'](this[_0x5b8d81(0x768)]+'\x20('+this[_0x5b8d81(0x137)]['wuid']+'):\x20tem\x20blocks'),{'message':_0x5b8d81(0x66e)};_0x1d7e6c['groups']=_0x1d7e6c[_0x5b8d81(0x291)][_0x5b8d81(0x4ba)](_0xc938db=>_0xc938db['_id'][_0x5b8d81(0x5e9)]()!==_0x3c5b09[_0x5b8d81(0x310)]['_id']);}else{if(_0x3c5b09[_0x5b8d81(0x310)]){if(_0x3c5b09[_0x5b8d81(0x310)][_0x5b8d81(0x164)]===!0x0)return{'message':_0x5b8d81(0x21b)};if(_0x3c5b09[_0x5b8d81(0x310)][_0x5b8d81(0x652)]){let _0x4bebea=_0x1d7e6c[_0x5b8d81(0x291)][_0x5b8d81(0x16d)](_0x295bb5=>_0x295bb5['_id'][_0x5b8d81(0x5e9)]()===_0x3c5b09['group'][_0x5b8d81(0x652)]);_0x4bebea&&(_0x3c5b09['group']['x']<0x0&&(_0x3c5b09[_0x5b8d81(0x310)]['x']=0x0),_0x3c5b09[_0x5b8d81(0x310)]['y']<0x0&&(_0x3c5b09[_0x5b8d81(0x310)]['y']=0x0),Object[_0x5b8d81(0x6ba)](_0x4bebea,_0x3c5b09[_0x5b8d81(0x310)]));}else _0x1d7e6c['groups'][_0x5b8d81(0x5af)](_0x3c5b09[_0x5b8d81(0x310)]);}}let _0x5e63d0=await this[_0x5b8d81(0x702)][_0x5b8d81(0x4e8)][_0x5b8d81(0x506)](_0x1d7e6c[_0x5b8d81(0x652)],_0x1d7e6c,this['instance'][_0x5b8d81(0x64f)]);if(_0x5e63d0&&_0x5e63d0['shareOwners']&&_0x5e63d0['shareOwners'][_0x5b8d81(0x5b5)]>0x1&&this[_0x5b8d81(0x189)](_0x5e63d0[_0x5b8d81(0x652)],this[_0x5b8d81(0x137)]['wuid']),!_0x5e63d0)throw new Error(_0x5b8d81(0x10b));return _0x5e63d0;}catch(_0x444fa3){let _0x2e7e4d='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x3ec514=_0x444fa3 instanceof Error?_0x444fa3[_0x5b8d81(0x5a0)]:typeof _0x444fa3=='object'?JSON[_0x5b8d81(0x28a)](_0x444fa3):_0x444fa3,_0x144db9=_0x2e7e4d+':\x20'+_0x3ec514;throw this[_0x5b8d81(0x173)][_0x5b8d81(0x20d)](this['instanceName']+'\x20('+this[_0x5b8d81(0x137)][_0x5b8d81(0x64f)]+_0x5b8d81(0x4a7)+_0x144db9),new f(_0x144db9);}}async['editFlowCondition'](_0x2c596f){const _0x5929fa=a0_0x4087be;try{this[_0x5929fa(0x173)]['verbose'](this[_0x5929fa(0x768)]+'\x20('+this[_0x5929fa(0x137)][_0x5929fa(0x64f)]+_0x5929fa(0x523));let _0x18902c=await this[_0x5929fa(0x702)][_0x5929fa(0x4e8)]['findOne']({'where':{'name':_0x2c596f[_0x5929fa(0x23a)]}},this['instance'][_0x5929fa(0x64f)]);if(!_0x18902c)throw new Error('Flow\x20no\x20encontrado');let _0x23dd9d=!0x1;if(_0x2c596f[_0x5929fa(0x653)]?.['delete']===!0x0)_0x18902c[_0x5929fa(0x1b3)]=_0x18902c['conditions'][_0x5929fa(0x4ba)](_0xee3d53=>_0xee3d53&&_0x2c596f[_0x5929fa(0x653)]&&_0xee3d53[_0x5929fa(0x652)]&&_0x2c596f[_0x5929fa(0x653)][_0x5929fa(0x652)]&&_0xee3d53[_0x5929fa(0x652)]['toString']()!==_0x2c596f['condition'][_0x5929fa(0x652)][_0x5929fa(0x5e9)]()),_0x23dd9d=!0x0;else{let _0x24988d=_0x18902c[_0x5929fa(0x1b3)][_0x5929fa(0x16d)](_0x28dd4f=>_0x28dd4f&&_0x2c596f[_0x5929fa(0x653)]&&_0x28dd4f['_id']&&_0x2c596f[_0x5929fa(0x653)][_0x5929fa(0x652)]&&_0x28dd4f[_0x5929fa(0x652)]['toString']()===_0x2c596f[_0x5929fa(0x653)][_0x5929fa(0x652)][_0x5929fa(0x5e9)]());_0x24988d?(_0x23dd9d=_0x24988d[_0x5929fa(0x503)]!==_0x2c596f[_0x5929fa(0x653)]['order'],Object[_0x5929fa(0x6ba)](_0x24988d,_0x2c596f[_0x5929fa(0x653)])):(_0x18902c[_0x5929fa(0x1b3)][_0x5929fa(0x5af)](_0x2c596f[_0x5929fa(0x653)]),_0x23dd9d=!0x0);}if(_0x23dd9d){_0x18902c[_0x5929fa(0x1b3)]['sort']((_0xbfee0d,_0x379a2a)=>_0xbfee0d['order']>_0x379a2a['order']?0x1:_0x379a2a[_0x5929fa(0x503)]>_0xbfee0d[_0x5929fa(0x503)]?-0x1:0x0);for(let _0x8ba0b5=0x0;_0x8ba0b5<_0x18902c['conditions'][_0x5929fa(0x5b5)];_0x8ba0b5++)_0x18902c[_0x5929fa(0x1b3)][_0x8ba0b5]['order']=_0x8ba0b5+0x1;_0x18902c[_0x5929fa(0x1b3)][_0x5929fa(0x5b5)]>0x0&&(_0x18902c[_0x5929fa(0x1b3)][0x0][_0x5929fa(0x553)]=_0x5929fa(0x515));}let _0x11e448=await this['repository'][_0x5929fa(0x4e8)][_0x5929fa(0x506)](_0x18902c['_id'],_0x18902c,this[_0x5929fa(0x137)][_0x5929fa(0x64f)]);if(_0x11e448&&_0x11e448[_0x5929fa(0x5fc)]&&_0x11e448['shareOwners']['length']>0x1&&this['synchronizeFlows'](_0x11e448[_0x5929fa(0x652)],this[_0x5929fa(0x137)]['wuid']),!_0x11e448)throw new Error(_0x5929fa(0x10b));return _0x11e448;}catch(_0x514f42){let _0x5df6d8='Erro\x20ao\x20editar\x20condio\x20do\x20fluxo',_0x13eb29=_0x514f42 instanceof Error?_0x514f42[_0x5929fa(0x5a0)]:typeof _0x514f42==_0x5929fa(0x157)?JSON[_0x5929fa(0x28a)](_0x514f42):_0x514f42,_0x1bece9=_0x5df6d8+':\x20'+_0x13eb29;throw this[_0x5929fa(0x173)][_0x5929fa(0x20d)](this[_0x5929fa(0x768)]+'\x20('+this[_0x5929fa(0x137)][_0x5929fa(0x64f)]+_0x5929fa(0x4a7)+_0x1bece9),new f(_0x1bece9);}}async[a0_0x4087be(0x32c)](_0x54ad24){const _0x424d8f=a0_0x4087be;try{this[_0x424d8f(0x173)][_0x424d8f(0x1aa)](this[_0x424d8f(0x768)]+'\x20('+this[_0x424d8f(0x137)][_0x424d8f(0x64f)]+_0x424d8f(0xc0));let _0x1ead34=await this[_0x424d8f(0x702)][_0x424d8f(0x4e8)][_0x424d8f(0x1b0)]({'where':{'name':_0x54ad24[_0x424d8f(0x23a)]}},this[_0x424d8f(0x137)][_0x424d8f(0x64f)]);if(!_0x1ead34)throw new Error('Flow\x20no\x20encontrado');let _0x1e1c39=!0x1;if(_0x54ad24[_0x424d8f(0x39f)]?.['delete']===!0x0)_0x1ead34[_0x424d8f(0x24f)]=_0x1ead34['varedits'][_0x424d8f(0x4ba)](_0x4ec42c=>_0x4ec42c&&_0x54ad24[_0x424d8f(0x39f)]&&_0x4ec42c[_0x424d8f(0x652)]&&_0x54ad24['varedit'][_0x424d8f(0x652)]&&_0x4ec42c[_0x424d8f(0x652)]['toString']()!==_0x54ad24[_0x424d8f(0x39f)]['_id'][_0x424d8f(0x5e9)]()),_0x1e1c39=!0x0;else{let _0x5b3636=_0x1ead34[_0x424d8f(0x24f)][_0x424d8f(0x16d)](_0x48a77f=>_0x48a77f&&_0x54ad24[_0x424d8f(0x39f)]&&_0x48a77f[_0x424d8f(0x652)]&&_0x54ad24[_0x424d8f(0x39f)]['_id']&&_0x48a77f[_0x424d8f(0x652)]['toString']()===_0x54ad24[_0x424d8f(0x39f)][_0x424d8f(0x652)][_0x424d8f(0x5e9)]());_0x5b3636?(_0x1e1c39=_0x5b3636[_0x424d8f(0x503)]!==_0x54ad24[_0x424d8f(0x39f)][_0x424d8f(0x503)],Object[_0x424d8f(0x6ba)](_0x5b3636,_0x54ad24[_0x424d8f(0x39f)])):(_0x1ead34[_0x424d8f(0x24f)]['push'](_0x54ad24[_0x424d8f(0x39f)]),_0x1e1c39=!0x0);}if(_0x1e1c39){_0x1ead34[_0x424d8f(0x24f)][_0x424d8f(0x654)]((_0x207519,_0x2b4590)=>_0x207519['order']>_0x2b4590[_0x424d8f(0x503)]?0x1:_0x2b4590[_0x424d8f(0x503)]>_0x207519[_0x424d8f(0x503)]?-0x1:0x0);for(let _0x5259b4=0x0;_0x5259b4<_0x1ead34['varedits']['length'];_0x5259b4++)_0x1ead34[_0x424d8f(0x24f)][_0x5259b4][_0x424d8f(0x503)]=_0x5259b4+0x1;}let _0x3aef01=await this[_0x424d8f(0x702)][_0x424d8f(0x4e8)]['updateOne'](_0x1ead34['_id'],_0x1ead34,this[_0x424d8f(0x137)][_0x424d8f(0x64f)]);if(_0x3aef01&&_0x3aef01[_0x424d8f(0x5fc)]&&_0x3aef01[_0x424d8f(0x5fc)]['length']>0x1&&this[_0x424d8f(0x189)](_0x3aef01[_0x424d8f(0x652)],this[_0x424d8f(0x137)][_0x424d8f(0x64f)]),!_0x3aef01)throw new Error(_0x424d8f(0x10b));return _0x3aef01;}catch(_0x34a50e){let _0x5bf7a1=_0x424d8f(0x205),_0x5d0e21=_0x34a50e instanceof Error?_0x34a50e[_0x424d8f(0x5a0)]:typeof _0x34a50e==_0x424d8f(0x157)?JSON[_0x424d8f(0x28a)](_0x34a50e):_0x34a50e,_0xb39511=_0x5bf7a1+':\x20'+_0x5d0e21;throw this['logger'][_0x424d8f(0x20d)](this[_0x424d8f(0x768)]+'\x20('+this[_0x424d8f(0x137)][_0x424d8f(0x64f)]+_0x424d8f(0x4a7)+_0xb39511),new f(_0xb39511);}}async[a0_0x4087be(0x6a0)](_0x3f21c3){const _0x1e4b30=a0_0x4087be;try{this[_0x1e4b30(0x173)][_0x1e4b30(0x1aa)](this[_0x1e4b30(0x768)]+'\x20('+this[_0x1e4b30(0x137)]['wuid']+_0x1e4b30(0x25c));let _0x394f2c=await this['repository'][_0x1e4b30(0x4e8)][_0x1e4b30(0x1b0)]({'where':{'name':_0x3f21c3['name']}},this[_0x1e4b30(0x137)][_0x1e4b30(0x64f)]);if(!_0x394f2c)throw new Error(_0x1e4b30(0x219));_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)]=_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)]['trim'](),_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)][_0x1e4b30(0x6e3)]('_')&&(_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)]=_0x3f21c3['variable']['name'][_0x1e4b30(0x25a)](0x1)),_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)]=_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)][_0x1e4b30(0x30f)]();let _0x963b89=_0x394f2c['variables'][_0x1e4b30(0x16d)](_0x41e4f3=>_0x41e4f3[_0x1e4b30(0x23a)]===_0x3f21c3[_0x1e4b30(0x78)][_0x1e4b30(0x23a)]);if(_0x963b89?.[_0x1e4b30(0x113)]===!0x0)throw new Error('No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x3f21c3['variable']?.[_0x1e4b30(0x301)]===!0x0){if(!_0x963b89)return{'message':_0x1e4b30(0x551)};_0x394f2c[_0x1e4b30(0x45e)]=_0x394f2c[_0x1e4b30(0x45e)]['filter'](_0x73a932=>_0x73a932[_0x1e4b30(0x23a)]!==_0x3f21c3['variable']['name']);}else _0x963b89?Object['assign'](_0x963b89,_0x3f21c3['variable']):_0x394f2c['variables'][_0x1e4b30(0x5af)](_0x3f21c3['variable']);let _0x4d7fec=await this['repository'][_0x1e4b30(0x4e8)][_0x1e4b30(0x506)](_0x394f2c[_0x1e4b30(0x652)],_0x394f2c,this[_0x1e4b30(0x137)][_0x1e4b30(0x64f)]);if(_0x4d7fec&&_0x4d7fec[_0x1e4b30(0x5fc)]&&_0x4d7fec['shareOwners'][_0x1e4b30(0x5b5)]>0x1&&this[_0x1e4b30(0x189)](_0x4d7fec[_0x1e4b30(0x652)],this[_0x1e4b30(0x137)][_0x1e4b30(0x64f)]),!_0x4d7fec)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4d7fec;}catch(_0x13cbb8){let _0xc27efc='Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo',_0x31d87b=_0x13cbb8 instanceof Error?_0x13cbb8[_0x1e4b30(0x5a0)]:typeof _0x13cbb8==_0x1e4b30(0x157)?JSON[_0x1e4b30(0x28a)](_0x13cbb8):_0x13cbb8,_0x38d64b=_0xc27efc+':\x20'+_0x31d87b;throw this[_0x1e4b30(0x173)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1e4b30(0x64f)]+_0x1e4b30(0x4a7)+_0x38d64b),new f(_0x38d64b);}}async[a0_0x4087be(0x5ee)](_0x16d429){const _0x1d2f3d=a0_0x4087be;let _0x5c04c8=null;try{if(!this['AutomateSystem']?.[_0x1d2f3d(0xa6)][_0x1d2f3d(0x726)])throw new f(_0x1d2f3d(0x6fe));this[_0x1d2f3d(0x173)][_0x1d2f3d(0x1aa)](this[_0x1d2f3d(0x768)]+'\x20('+this[_0x1d2f3d(0x137)][_0x1d2f3d(0x64f)]+_0x1d2f3d(0x365));let _0x47e42e=(await this['whatsappNumber']({'numbers':[_0x16d429[_0x1d2f3d(0x319)]]}))[0x0];if(!_0x47e42e[_0x1d2f3d(0x1e2)]&&!(0x0,w['isJidGroup'])(_0x47e42e[_0x1d2f3d(0x547)])&&!_0x47e42e[_0x1d2f3d(0x547)]['includes']('@broadcast'))throw _0x5c04c8=JSON[_0x1d2f3d(0x28a)](_0x47e42e,null,0x2),new f(_0x47e42e);let _0x48e1f9=await this['repository'][_0x1d2f3d(0x4e8)][_0x1d2f3d(0x1b0)]({'where':{'name':_0x16d429[_0x1d2f3d(0x23a)]}},this['instance'][_0x1d2f3d(0x64f)]);if(!_0x48e1f9)return this[_0x1d2f3d(0x173)][_0x1d2f3d(0x20d)](this[_0x1d2f3d(0x768)]+'\x20('+this[_0x1d2f3d(0x137)][_0x1d2f3d(0x64f)]+_0x1d2f3d(0x695)),{'message':'Flow\x20no\x20encontrado'};let _0x53d105=await this[_0x1d2f3d(0x598)](_0x48e1f9,_0x47e42e[_0x1d2f3d(0x547)],_0x16d429[_0x1d2f3d(0x101)]);if(_0x53d105){this[_0x1d2f3d(0x173)][_0x1d2f3d(0x1aa)](this['instanceName']+'\x20('+this[_0x1d2f3d(0x137)][_0x1d2f3d(0x64f)]+_0x1d2f3d(0x604));let _0x3cd75f=await this[_0x1d2f3d(0x4be)](_0x53d105);return _0x3cd75f&&await this[_0x1d2f3d(0x212)](_0x53d105,_0x3cd75f),{'message':_0x1d2f3d(0x763)+_0x16d429[_0x1d2f3d(0x319)]};}}catch(_0x310025){if(this[_0x1d2f3d(0x173)][_0x1d2f3d(0x20d)](this['instanceName']+'\x20('+this['instance'][_0x1d2f3d(0x64f)]+_0x1d2f3d(0x62d)+(_0x310025 instanceof Error?_0x310025[_0x1d2f3d(0x5a0)]:JSON[_0x1d2f3d(0x28a)](_0x310025,null,0x2))),_0x5c04c8=_0x310025 instanceof Error?_0x310025[_0x1d2f3d(0x5a0)]:JSON[_0x1d2f3d(0x28a)](_0x310025,null,0x2),_0x5c04c8)throw new f(_0x1d2f3d(0x32f)+_0x5c04c8);}}async[a0_0x4087be(0x4a9)](_0x2dfd07){const _0x2227ce=a0_0x4087be;try{let _0x59c3eb={'remoteJid':_0x2dfd07,'status':_0x2227ce(0x535)},_0x4b17df={'status':'closed'},_0x1af6f4=await this[_0x2227ce(0x702)][_0x2227ce(0x612)][_0x2227ce(0x99)](_0x59c3eb,_0x4b17df,this[_0x2227ce(0x137)][_0x2227ce(0x64f)]);return this['logger'][_0x2227ce(0x1aa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2227ce(0x332)),_0x1af6f4;}catch(_0x5c6791){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2227ce(0x137)][_0x2227ce(0x64f)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x5c6791['message']),_0x5c6791;}}async[a0_0x4087be(0x598)](_0x5d0796,_0x576b4e,_0x4749be){const _0xc2d63f=a0_0x4087be;this['logger']['verbose'](this[_0xc2d63f(0x768)]+'\x20('+this[_0xc2d63f(0x137)][_0xc2d63f(0x64f)]+_0xc2d63f(0x611)),await this[_0xc2d63f(0x4a9)](_0x576b4e);try{let _0x1f654a=require(_0xc2d63f(0x477))[_0xc2d63f(0xa9)],_0x3c9758=Date[_0xc2d63f(0x66f)](),_0x1fb6f5='start',_0x7a42ee={},_0xa405f3={},_0x58c2c2={..._0x5d0796,'chatLog':null},_0x102761=await this[_0xc2d63f(0x4dc)](_0x58c2c2[_0xc2d63f(0x45e)]),_0x5481a1=await this[_0xc2d63f(0x1d6)](_0x576b4e),_0x4df73c={..._0x102761,..._0x5481a1,'_remoteJid':_0x576b4e},_0x2dec1f={'lastReceivedMessage':_0x7a42ee,'lastSendMessage':_0xa405f3,'lastBlockId':_0x1fb6f5,'lastCondition':!0x0,'realVariables':_0x4df73c};_0x58c2c2[_0xc2d63f(0x6e8)]=_0x2dec1f,_0x58c2c2[_0xc2d63f(0x6e8)][_0xc2d63f(0x3c9)]={..._0x4df73c,..._0x4749be},delete _0x58c2c2[_0xc2d63f(0x652)],_0x58c2c2[_0xc2d63f(0x652)]=new _0x1f654a(),_0x58c2c2['lastInteraction']=_0x3c9758,_0x58c2c2[_0xc2d63f(0x5bb)]=_0xc2d63f(0x535),_0x58c2c2[_0xc2d63f(0x319)]=_0x576b4e;let _0x584b4c=await this[_0xc2d63f(0x702)][_0xc2d63f(0x612)][_0xc2d63f(0x506)](_0x58c2c2['_id'],_0x58c2c2,this['instance'][_0xc2d63f(0x64f)]);return this[_0xc2d63f(0x173)][_0xc2d63f(0x1aa)](this[_0xc2d63f(0x768)]+'\x20('+this['instance']['wuid']+_0xc2d63f(0xf0)),_0x584b4c?_0x58c2c2:null;}catch(_0x593a7d){let _0x4b82af=_0xc2d63f(0x35b),_0x164736=_0x593a7d instanceof Error?_0x593a7d[_0xc2d63f(0x5a0)]:typeof _0x593a7d==_0xc2d63f(0x157)?JSON[_0xc2d63f(0x28a)](_0x593a7d):_0x593a7d,_0x47d7e0=_0x4b82af+':\x20'+_0x164736;throw this['logger']['error'](this[_0xc2d63f(0x768)]+'\x20('+this[_0xc2d63f(0x137)][_0xc2d63f(0x64f)]+_0xc2d63f(0x4a7)+_0x47d7e0),new f(_0x47d7e0);}}async[a0_0x4087be(0x195)](_0x285936){const _0x52bd8a=a0_0x4087be;try{this[_0x52bd8a(0x173)][_0x52bd8a(0x1aa)](this[_0x52bd8a(0x768)]+'\x20('+this['instance'][_0x52bd8a(0x64f)]+'):\x20Buscando\x20conversa...'),this['logger'][_0x52bd8a(0x1aa)](this[_0x52bd8a(0x768)]+'\x20('+this['instance']['wuid']+_0x52bd8a(0x26d)+_0x285936);let _0x22df52={'where':{'_id':_0x285936}};return await this['repository'][_0x52bd8a(0x612)][_0x52bd8a(0x1b0)](_0x22df52,this[_0x52bd8a(0x137)]['wuid']);}catch(_0x51414e){let _0xf1d8c3=_0x52bd8a(0x59e),_0x234e50=_0x51414e instanceof Error?_0x51414e[_0x52bd8a(0x5a0)]:typeof _0x51414e==_0x52bd8a(0x157)?JSON[_0x52bd8a(0x28a)](_0x51414e):_0x51414e,_0x113350=_0xf1d8c3+':\x20'+_0x234e50;throw this[_0x52bd8a(0x173)][_0x52bd8a(0x20d)](this[_0x52bd8a(0x768)]+'\x20('+this[_0x52bd8a(0x137)]['wuid']+_0x52bd8a(0x4a7)+_0x113350),new f(_0x113350);}}async[a0_0x4087be(0x58e)](_0xe684ce){const _0x20e926=a0_0x4087be;try{return this['logger'][_0x20e926(0x1aa)](this[_0x20e926(0x768)]+'\x20('+this[_0x20e926(0x137)]['wuid']+_0x20e926(0x519)),await this[_0x20e926(0x702)]['flowConversation'][_0x20e926(0x16d)](_0xe684ce,this[_0x20e926(0x137)]['wuid']);}catch(_0x343a93){let _0x50c0bc=_0x20e926(0x615),_0xa70857=_0x343a93 instanceof Error?_0x343a93[_0x20e926(0x5a0)]:typeof _0x343a93==_0x20e926(0x157)?JSON[_0x20e926(0x28a)](_0x343a93):_0x343a93,_0x64ac8b=_0x50c0bc+':\x20'+_0xa70857;throw this[_0x20e926(0x173)][_0x20e926(0x20d)](this['instanceName']+'\x20('+this[_0x20e926(0x137)]['wuid']+_0x20e926(0x4a7)+_0x64ac8b),new f(_0x64ac8b);}}async[a0_0x4087be(0x3c4)](_0x39a5ca){const _0x16b68b=a0_0x4087be;try{return this['logger'][_0x16b68b(0x1aa)](this[_0x16b68b(0x768)]+'\x20('+this['instance'][_0x16b68b(0x64f)]+'):\x20Deletando\x20conversa...'),this[_0x16b68b(0x173)][_0x16b68b(0x1aa)](this['instanceName']+'\x20('+this[_0x16b68b(0x137)][_0x16b68b(0x64f)]+_0x16b68b(0x24d)+_0x39a5ca),(await this[_0x16b68b(0x702)]['flowConversation']['deleteOne']({'where':{'_id':_0x39a5ca}},this['instance'][_0x16b68b(0x64f)]))[_0x16b68b(0x6ef)]===0x0?{'message':_0x16b68b(0x14d)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x4cb0a4){let _0x53cd4a='Erro\x20ao\x20deletar\x20a\x20conversa',_0x186d1f=_0x4cb0a4 instanceof Error?_0x4cb0a4[_0x16b68b(0x5a0)]:typeof _0x4cb0a4==_0x16b68b(0x157)?JSON[_0x16b68b(0x28a)](_0x4cb0a4):_0x4cb0a4,_0x2b1ac9=_0x53cd4a+':\x20'+_0x186d1f;throw this[_0x16b68b(0x173)][_0x16b68b(0x20d)](this[_0x16b68b(0x768)]+'\x20('+this[_0x16b68b(0x137)][_0x16b68b(0x64f)]+_0x16b68b(0x4a7)+_0x2b1ac9),new f(_0x2b1ac9);}}async[a0_0x4087be(0x145)](_0x53cac2){const _0xa33802=a0_0x4087be;try{let {_id:_0x50915c,chatLog:_0x5412bb,status:_0x272461}=_0x53cac2;if(!_0x50915c)return{'message':_0xa33802(0x6bb)};let _0x13b887={};if(_0x272461!==void 0x0&&(_0x13b887[_0xa33802(0x5bb)]=_0x272461),Object[_0xa33802(0x75e)](_0x13b887)[_0xa33802(0x5b5)]===0x0)return{'message':_0xa33802(0x6b8)};let _0x625a2f=await this['repository']['flowConversation'][_0xa33802(0x506)](_0x50915c,_0x13b887,this[_0xa33802(0x137)]['wuid']);return _0x625a2f||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.'};}catch(_0x4590ea){let _0x42df19=_0xa33802(0x151),_0x393634=_0x4590ea instanceof Error?_0x4590ea[_0xa33802(0x5a0)]:typeof _0x4590ea==_0xa33802(0x157)?JSON[_0xa33802(0x28a)](_0x4590ea):_0x4590ea,_0x1c2bcd=_0x42df19+':\x20'+_0x393634;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xa33802(0x137)][_0xa33802(0x64f)]+'):\x20'+_0x1c2bcd),new f(_0x1c2bcd);}}async[a0_0x4087be(0x4e1)](_0x149c44){const _0x31d181=a0_0x4087be;console[_0x31d181(0x603)](_0x149c44);try{_0x149c44['_id']=this[_0x31d181(0x4c8)](_0x149c44[_0x31d181(0x652)]);let _0x3334e0=await this[_0x31d181(0x702)]['chat']['findOne']({'where':{'_id':_0x149c44[_0x31d181(0x652)]}},this[_0x31d181(0x137)][_0x31d181(0x64f)]);if(!_0x3334e0)throw new f(_0x31d181(0xbd));let {_id:_0x5dda30,leadInfo:_0x5de526}=_0x149c44;if(!_0x5dda30)throw new Error(_0x31d181(0x4a3));if(_0x149c44[_0x31d181(0x301)]===_0x31d181(0x76b))return await this[_0x31d181(0x466)](_0x149c44['_id']),await this[_0x31d181(0x702)][_0x31d181(0x371)][_0x31d181(0x301)]({'where':{'_id':_0x149c44[_0x31d181(0x652)]}},this['instance']['wuid']),await this[_0x31d181(0x702)][_0x31d181(0x5a0)][_0x31d181(0x301)]({'where':{'key':{'remoteJid':_0x149c44[_0x31d181(0x652)]}}},this[_0x31d181(0x137)][_0x31d181(0x64f)]),_0x149c44=await this[_0x31d181(0x702)][_0x31d181(0x371)][_0x31d181(0x506)]({'where':{'_id':_0x149c44[_0x31d181(0x652)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x31d181(0x137)][_0x31d181(0x64f)]),J(this[_0x31d181(0x768)],_0x31d181(0x6f1),{'chat':_0x149c44}),{'message':_0x31d181(0x6d5)};if(_0x149c44['delete']===_0x31d181(0x3cc))return await this[_0x31d181(0x702)][_0x31d181(0x5a0)][_0x31d181(0x301)]({'where':{'key':{'remoteJid':_0x149c44[_0x31d181(0x652)]}}},this[_0x31d181(0x137)]['wuid']),_0x149c44=await this[_0x31d181(0x702)][_0x31d181(0x371)][_0x31d181(0x506)]({'where':{'_id':_0x149c44[_0x31d181(0x652)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x31d181(0x64f)]),J(this[_0x31d181(0x768)],'chats',{'chat':_0x149c44}),{'message':_0x31d181(0x31d)};let _0x533920=(_0x448f28,_0x537092,_0x2abd0b)=>{const _0x5bc2f3=_0x31d181;_0x448f28&&_0x2abd0b[_0x5bc2f3(0x4e3)](_0xf9a915=>{_0x448f28[_0xf9a915]!==void 0x0&&(_0x537092['leadInfo.'+_0xf9a915]=_0x448f28[_0xf9a915]);});},_0x34ea6f={};if(_0x31d181(0xea)in _0x149c44&&(this[_0x31d181(0x173)]['verbose']('Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x149c44[_0x31d181(0x652)]),_0x149c44[_0x31d181(0xea)]=_0x149c44[_0x31d181(0xea)]===0x0?null:-0x1,await this[_0x31d181(0x400)][_0x31d181(0x707)]({'mute':_0x149c44['muteEndTime']},_0x149c44[_0x31d181(0x652)]),_0x34ea6f[_0x31d181(0xea)]=Number(_0x149c44[_0x31d181(0xea)])),_0x5de526&&(_0x533920(_0x5de526,_0x34ea6f,[_0x31d181(0x72a),'nomecompleto',_0x31d181(0x10c),'cpf',_0x31d181(0x5bb),_0x31d181(0x44f),'tags','atendimentoAberto',_0x31d181(0x2a6),_0x31d181(0x20f)]),Array['isArray'](_0x5de526['customFields'])&&(_0x34ea6f[_0x31d181(0x6cb)]=_0x5de526['customFields']['map'](_0x269630=>({'_id':_0x269630[_0x31d181(0x652)],'value':_0x269630[_0x31d181(0x308)]}))),_0x149c44[_0x31d181(0x113)][_0x31d181(0x20f)]!==void 0x0)){let _0x4239c0=await this[_0x31d181(0x702)]['label'][_0x31d181(0x16d)]({'where':{}},this['instance'][_0x31d181(0x64f)]),_0x2c677f=new Set(_0x149c44[_0x31d181(0x113)]['etiquetas']||[]),_0x152411=new Set(_0x149c44[_0x31d181(0x113)][_0x31d181(0x20f)]),_0x5bc6bc=new Set(_0x4239c0['map'](_0x467cef=>_0x467cef['_id'])),_0x156657=[..._0x152411][_0x31d181(0x4ba)](_0x4d7019=>!_0x2c677f[_0x31d181(0x6fa)](_0x4d7019)&&_0x5bc6bc[_0x31d181(0x6fa)](_0x4d7019)),_0x26d5f4=[..._0x2c677f][_0x31d181(0x4ba)](_0x331911=>!_0x152411[_0x31d181(0x6fa)](_0x331911));if(_0x34ea6f[_0x31d181(0x619)]=[..._0x2c677f],_0x3334e0&&!_0x3334e0[_0x31d181(0x649)]){for(let _0x4d5689 of _0x156657)await this[_0x31d181(0x2d0)](_0x4d5689,_0x149c44[_0x31d181(0x652)]),_0x2c677f['add'](_0x4d5689);for(let _0x5b3a1c of _0x26d5f4)await this[_0x31d181(0x93)](_0x5b3a1c,_0x149c44[_0x31d181(0x652)]),_0x2c677f['delete'](_0x5b3a1c);}}if(_0x149c44[_0x31d181(0x548)]!==void 0x0&&(_0x34ea6f[_0x31d181(0x548)]=Number(_0x149c44['unreadcount'])),Object[_0x31d181(0x75e)](_0x34ea6f)['length']===0x0)throw new Error(_0x31d181(0x6b8));let _0x19bf02=await this[_0x31d181(0x702)]['chat'][_0x31d181(0x506)]({'where':{'_id':_0x149c44[_0x31d181(0x652)]}},_0x34ea6f,this[_0x31d181(0x137)][_0x31d181(0x64f)]);return _0x19bf02&&J(this[_0x31d181(0x768)],'chats',{'chat':_0x19bf02}),_0x19bf02?(this[_0x31d181(0x173)][_0x31d181(0x1aa)](this[_0x31d181(0x768)]+'\x20('+this[_0x31d181(0x137)]['wuid']+'):\x20'+JSON[_0x31d181(0x28a)](_0x19bf02,null,0x2)),_0x19bf02):{'message':_0x31d181(0x425)};}catch(_0x552902){let _0x32e2ed=_0x31d181(0x1f6),_0x35370f=_0x552902 instanceof Error?_0x552902[_0x31d181(0x5a0)]:typeof _0x552902=='object'?JSON[_0x31d181(0x28a)](_0x552902):_0x552902,_0x292f48=_0x32e2ed+':\x20'+_0x35370f;throw this[_0x31d181(0x173)]['error'](this[_0x31d181(0x768)]+'\x20('+this[_0x31d181(0x137)][_0x31d181(0x64f)]+_0x31d181(0x4a7)+_0x292f48),new f(_0x292f48);}}async[a0_0x4087be(0x2d0)](_0x539bea,_0x204ac8){const _0x2bb9c8=a0_0x4087be;try{await this[_0x2bb9c8(0x400)][_0x2bb9c8(0x2ec)](_0x204ac8,_0x539bea),console[_0x2bb9c8(0x603)](_0x2bb9c8(0x270)+_0x539bea+_0x2bb9c8(0x446)+_0x204ac8+_0x2bb9c8(0x578));}catch(_0x274544){console[_0x2bb9c8(0x20d)](_0x2bb9c8(0x2a7)+_0x539bea+'\x20ao\x20chat\x20'+_0x204ac8+':',_0x274544);}}async[a0_0x4087be(0x93)](_0x16b056,_0x133bad){const _0x2e1f3f=a0_0x4087be;try{await this[_0x2e1f3f(0x400)][_0x2e1f3f(0x27c)](_0x133bad,_0x16b056),console[_0x2e1f3f(0x603)]('Label\x20'+_0x16b056+'\x20removido\x20do\x20chat\x20'+_0x133bad+_0x2e1f3f(0x578));}catch(_0x49c38e){console[_0x2e1f3f(0x20d)](_0x2e1f3f(0x4c3)+_0x16b056+'\x20do\x20chat\x20'+_0x133bad+':',_0x49c38e);}}async[a0_0x4087be(0x426)](_0x49f052){const _0x511b77=a0_0x4087be;try{let _0x41a6f6=await this[_0x511b77(0x702)][_0x511b77(0x10e)][_0x511b77(0x6ad)](this['instance'][_0x511b77(0x64f)]),_0x4cefa5=_0x49f052[_0x511b77(0x652)]?_0x41a6f6['agents'][_0x511b77(0x225)](_0x4a3fa2=>_0x4a3fa2[_0x511b77(0x652)]===_0x49f052[_0x511b77(0x652)]):-0x1;if(_0x49f052[_0x511b77(0x301)]&&_0x4cefa5>-0x1)_0x41a6f6[_0x511b77(0x461)][_0x511b77(0x571)](_0x4cefa5,0x1);else{if(_0x4cefa5>-0x1){let _0x4b0350=_0x41a6f6[_0x511b77(0x461)][_0x4cefa5];_0x49f052[_0x511b77(0x147)]&&(_0x4b0350[_0x511b77(0x147)]=_0x49f052['fone']),_0x49f052['name']&&(_0x4b0350[_0x511b77(0x23a)]=_0x49f052[_0x511b77(0x23a)]),_0x49f052['email']&&(_0x4b0350[_0x511b77(0x10c)]=_0x49f052['email']),_0x49f052[_0x511b77(0x1d9)]&&(_0x4b0350['role']=_0x49f052[_0x511b77(0x1d9)]);}else _0x41a6f6['agents'][_0x511b77(0x5af)]({'_id':_0x49f052[_0x511b77(0x652)]||new re[(_0x511b77(0x164))][(_0x511b77(0x705))][(_0x511b77(0xa9))]()['toString'](),'fone':_0x49f052['fone'],'name':_0x49f052[_0x511b77(0x23a)],'email':_0x49f052[_0x511b77(0x10c)],'role':_0x49f052[_0x511b77(0x1d9)]});}let _0x21b305={'agents':_0x41a6f6[_0x511b77(0x461)]},_0x2ca605=await this[_0x511b77(0x702)][_0x511b77(0x10e)][_0x511b77(0x15c)](_0x21b305,this[_0x511b77(0x137)]['wuid']);return this['AutomateSystem']=_0x2ca605,this['logger'][_0x511b77(0x1aa)](this['instanceName']+'\x20('+this['instance'][_0x511b77(0x64f)]+_0x511b77(0x752)),this[_0x511b77(0x173)]['verbose'](this[_0x511b77(0x768)]+'\x20('+this[_0x511b77(0x137)]['wuid']+_0x511b77(0x4a7)+this[_0x511b77(0x94)]),_0x2ca605;}catch(_0x441abf){let _0x6dd329='Erro\x20ao\x20editar\x20agentes',_0x342ef7=_0x441abf instanceof Error?_0x441abf[_0x511b77(0x5a0)]:typeof _0x441abf==_0x511b77(0x157)?JSON[_0x511b77(0x28a)](_0x441abf):_0x441abf,_0xce3308=_0x6dd329+':\x20'+_0x342ef7;throw this['logger'][_0x511b77(0x20d)](this[_0x511b77(0x768)]+'\x20('+this[_0x511b77(0x137)]['wuid']+_0x511b77(0x4a7)+_0xce3308),new f(_0xce3308);}}async[a0_0x4087be(0x172)](_0x1322f8){const _0x30f6af=a0_0x4087be;try{let _0x403eaa=await this[_0x30f6af(0x702)][_0x30f6af(0x10e)][_0x30f6af(0x6ad)](this[_0x30f6af(0x137)]['wuid']),_0x4b84b2=_0x1322f8['_id']?_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x225)](_0x1db65c=>_0x1db65c[_0x30f6af(0x652)]===_0x1322f8[_0x30f6af(0x652)]):-0x1,_0x4ddf4f=!0x1,_0x41d709=_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x5b0)](_0x5b3dc9=>_0x5b3dc9[_0x30f6af(0x503)]===_0x1322f8[_0x30f6af(0x503)]);if(_0x1322f8[_0x30f6af(0x301)]&&_0x4b84b2>-0x1)_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x571)](_0x4b84b2,0x1),_0x4ddf4f=!0x0;else{if(_0x4b84b2>-0x1){if(_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x5b0)](_0x4c530c=>_0x4c530c[_0x30f6af(0x23a)]===_0x1322f8[_0x30f6af(0x23a)]&&_0x4c530c[_0x30f6af(0x652)]!==_0x1322f8[_0x30f6af(0x652)]))throw new Error(_0x30f6af(0x452));let _0x2dddac=_0x403eaa[_0x30f6af(0x28e)][_0x4b84b2];_0x1322f8['order']&&(_0x41d709||!Number[_0x30f6af(0x2cb)](_0x1322f8[_0x30f6af(0x503)]))&&(_0x2dddac[_0x30f6af(0x503)]=_0x1322f8[_0x30f6af(0x503)],_0x4ddf4f=!0x0),_0x1322f8[_0x30f6af(0x23a)]&&(_0x2dddac['name']=_0x1322f8[_0x30f6af(0x23a)]);}else{if(_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x5b0)](_0x550489=>_0x550489[_0x30f6af(0x23a)]===_0x1322f8[_0x30f6af(0x23a)]&&_0x550489[_0x30f6af(0x652)]!==_0x1322f8[_0x30f6af(0x652)]))throw new Error(_0x30f6af(0x452));_0x403eaa[_0x30f6af(0x28e)]['push']({'_id':_0x1322f8[_0x30f6af(0x652)]||new re[(_0x30f6af(0x164))]['Types'][(_0x30f6af(0xa9))]()['toString'](),'order':_0x1322f8['order'],'name':_0x1322f8['name']}),_0x4ddf4f=!0x0;}}if(_0x4ddf4f){_0x403eaa['customFields']['sort']((_0x44bce9,_0x3341fd)=>_0x44bce9[_0x30f6af(0x503)]>_0x3341fd[_0x30f6af(0x503)]?0x1:_0x3341fd[_0x30f6af(0x503)]>_0x44bce9[_0x30f6af(0x503)]?-0x1:0x0);for(let _0x248903=0x0;_0x248903<_0x403eaa[_0x30f6af(0x28e)][_0x30f6af(0x5b5)];_0x248903++)_0x403eaa[_0x30f6af(0x28e)][_0x248903][_0x30f6af(0x503)]=_0x248903+0x1;}let _0x309b2f=await this[_0x30f6af(0x702)][_0x30f6af(0x10e)][_0x30f6af(0x15c)](_0x403eaa,this[_0x30f6af(0x137)][_0x30f6af(0x64f)]);return this[_0x30f6af(0x94)]=_0x309b2f,this['logger'][_0x30f6af(0x1aa)](this[_0x30f6af(0x768)]+'\x20('+this[_0x30f6af(0x137)][_0x30f6af(0x64f)]+_0x30f6af(0x663)),this[_0x30f6af(0x173)][_0x30f6af(0x1aa)](this[_0x30f6af(0x768)]+'\x20('+this[_0x30f6af(0x137)][_0x30f6af(0x64f)]+_0x30f6af(0x4a7)+this[_0x30f6af(0x94)]),_0x309b2f;}catch(_0x17f252){let _0x3d62f9=_0x30f6af(0x141),_0x4108ec=_0x17f252 instanceof Error?_0x17f252[_0x30f6af(0x5a0)]:typeof _0x17f252==_0x30f6af(0x157)?JSON[_0x30f6af(0x28a)](_0x17f252):_0x17f252,_0x5d1f52=_0x3d62f9+':\x20'+_0x4108ec;throw this['logger'][_0x30f6af(0x20d)](this[_0x30f6af(0x768)]+'\x20('+this[_0x30f6af(0x137)][_0x30f6af(0x64f)]+_0x30f6af(0x4a7)+_0x5d1f52),new f(_0x5d1f52);}}async[a0_0x4087be(0x16e)](_0x29d5b9){const _0x2b491f=a0_0x4087be;try{let _0x1ab13d=await this['repository'][_0x2b491f(0x10e)][_0x2b491f(0x6ad)](this[_0x2b491f(0x137)]['wuid']),_0x22a3ea=_0x1ab13d[_0x2b491f(0x772)][_0x2b491f(0x225)](_0x30457c=>_0x30457c['_id']===_0x29d5b9[_0x2b491f(0x652)]);if(_0x29d5b9[_0x2b491f(0x301)])_0x22a3ea>-0x1&&_0x1ab13d[_0x2b491f(0x772)][_0x2b491f(0x571)](_0x22a3ea,0x1);else{if(_0x22a3ea>-0x1){let _0x357d8e=_0x1ab13d[_0x2b491f(0x772)][_0x22a3ea];_0x357d8e[_0x2b491f(0x503)]=_0x29d5b9[_0x2b491f(0x503)]||_0x357d8e[_0x2b491f(0x503)],_0x357d8e[_0x2b491f(0x156)]=_0x29d5b9[_0x2b491f(0x156)]||_0x357d8e[_0x2b491f(0x156)],_0x357d8e[_0x2b491f(0x5a0)]=_0x29d5b9[_0x2b491f(0x5a0)]||_0x357d8e[_0x2b491f(0x5a0)];}else{let _0x5bb0b4={'_id':_0x29d5b9[_0x2b491f(0x652)]||new re['default'][(_0x2b491f(0x705))][(_0x2b491f(0xa9))]()[_0x2b491f(0x5e9)](),'order':_0x29d5b9[_0x2b491f(0x503)],'command':_0x29d5b9[_0x2b491f(0x156)],'message':_0x29d5b9[_0x2b491f(0x5a0)]};_0x1ab13d[_0x2b491f(0x772)][_0x2b491f(0x5af)](_0x5bb0b4);}}_0x1ab13d[_0x2b491f(0x772)][_0x2b491f(0x654)]((_0x3d2ca7,_0x529954)=>_0x3d2ca7['order']-_0x529954[_0x2b491f(0x503)]);let _0x1d3c49=await this[_0x2b491f(0x702)][_0x2b491f(0x10e)][_0x2b491f(0x15c)](_0x1ab13d,this['instance']['wuid']);return this[_0x2b491f(0x94)]=_0x1d3c49,this['logger'][_0x2b491f(0x1aa)](this[_0x2b491f(0x768)]+'\x20('+this['instance'][_0x2b491f(0x64f)]+_0x2b491f(0x663)),_0x1d3c49;}catch(_0x51e2b2){let _0x1eb723=_0x2b491f(0x296),_0x47e343=_0x51e2b2 instanceof Error?_0x51e2b2[_0x2b491f(0x5a0)]:typeof _0x51e2b2==_0x2b491f(0x157)?JSON[_0x2b491f(0x28a)](_0x51e2b2):_0x51e2b2,_0x1bce43=_0x1eb723+':\x20'+_0x47e343;throw this[_0x2b491f(0x173)][_0x2b491f(0x20d)](this[_0x2b491f(0x768)]+'\x20('+this[_0x2b491f(0x137)][_0x2b491f(0x64f)]+_0x2b491f(0x4a7)+_0x1bce43),new f(_0x1bce43);}}async[a0_0x4087be(0x684)](_0x1d4e88){const _0x45dda7=a0_0x4087be;try{let _0x531695=await this[_0x45dda7(0x702)]['automateSystem'][_0x45dda7(0x6ad)](this[_0x45dda7(0x137)][_0x45dda7(0x64f)]);if(!_0x531695)throw new Error(_0x45dda7(0x6c2));let _0x3989c6={'_id':_0x531695[_0x45dda7(0x652)],'flowConfig':{'enabled':_0x1d4e88['enabled']??_0x531695['flowConfig']['enabled'],'ignoreGroups':_0x1d4e88[_0x45dda7(0x320)]??_0x531695[_0x45dda7(0xa6)][_0x45dda7(0x320)],'prefixCommand':_0x1d4e88[_0x45dda7(0x45b)]??_0x531695[_0x45dda7(0xa6)][_0x45dda7(0x45b)],'stopConversation':_0x1d4e88[_0x45dda7(0xd4)]??_0x531695[_0x45dda7(0xa6)][_0x45dda7(0xd4)],'stopMinutes':_0x1d4e88['stopMinutes']??_0x531695[_0x45dda7(0xa6)][_0x45dda7(0x35d)],'stopWhenYouSendMsg':_0x1d4e88[_0x45dda7(0x4cd)]??_0x531695[_0x45dda7(0xa6)][_0x45dda7(0x4cd)]}},_0x197051=await this[_0x45dda7(0x702)][_0x45dda7(0x10e)]['update'](_0x3989c6,this[_0x45dda7(0x137)][_0x45dda7(0x64f)]);return this[_0x45dda7(0x94)]=_0x197051,this[_0x45dda7(0x173)][_0x45dda7(0x1aa)](this[_0x45dda7(0x768)]+'\x20('+this[_0x45dda7(0x137)][_0x45dda7(0x64f)]+_0x45dda7(0x752)),this[_0x45dda7(0x173)][_0x45dda7(0x1aa)](this[_0x45dda7(0x768)]+'\x20('+this[_0x45dda7(0x137)][_0x45dda7(0x64f)]+'):\x20'+this[_0x45dda7(0x94)]),setTimeout(()=>this[_0x45dda7(0xbf)](),0x7d0),_0x197051;}catch(_0xae778e){let _0x5a494d=_0x45dda7(0x136),_0x3e64d1=_0xae778e instanceof Error?_0xae778e[_0x45dda7(0x5a0)]:typeof _0xae778e==_0x45dda7(0x157)?JSON['stringify'](_0xae778e):_0xae778e,_0x3f15b9=_0x5a494d+':\x20'+_0x3e64d1;throw this[_0x45dda7(0x173)]['error'](this[_0x45dda7(0x768)]+'\x20('+this[_0x45dda7(0x137)][_0x45dda7(0x64f)]+'):\x20'+_0x3f15b9),new f(_0x3f15b9);}}async[a0_0x4087be(0x75a)](){const _0x47c542=a0_0x4087be;try{let _0x5f0dc4=await this['repository'][_0x47c542(0x10e)][_0x47c542(0x6ad)](this['instance']['wuid']);return this['repository'][_0x47c542(0x10e)]['updateMany']({'autoCompleteMessages':{'$exists':!0x1}},{'autoCompleteMessages':[]}),this[_0x47c542(0x94)]=_0x5f0dc4,this['logger'][_0x47c542(0x1aa)](this[_0x47c542(0x768)]+'\x20('+this[_0x47c542(0x137)][_0x47c542(0x64f)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x47c542(0x173)][_0x47c542(0x1aa)](this['AutomateSystem']),_0x5f0dc4;}catch(_0x179230){let _0x3680f8=_0x47c542(0x727),_0x55c561=_0x179230 instanceof Error?_0x179230[_0x47c542(0x5a0)]:typeof _0x179230=='object'?JSON[_0x47c542(0x28a)](_0x179230):_0x179230,_0x331edb=_0x3680f8+':\x20'+_0x55c561;throw this['logger'][_0x47c542(0x20d)](this[_0x47c542(0x768)]+'\x20('+this[_0x47c542(0x137)][_0x47c542(0x64f)]+'):\x20'+_0x331edb),new f(_0x331edb);}}async['setRestartTimeout'](){const _0x234468=a0_0x4087be;this['instance']['ScheduleMessage'][_0x234468(0x5c8)]&&clearTimeout(this[_0x234468(0x137)][_0x234468(0xb8)][_0x234468(0x5c8)]),this[_0x234468(0x137)][_0x234468(0xb8)][_0x234468(0x5c8)]=setTimeout(()=>{const _0x531cdd=_0x234468;this[_0x531cdd(0xf7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x5c45af=a0_0x4087be;Date[_0x5c45af(0x66f)]()-this[_0x5c45af(0x137)][_0x5c45af(0xb8)][_0x5c45af(0x49c)]>=0x1d4c0&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5c45af(0x137)]['wuid']+_0x5c45af(0x5a4)),this[_0x5c45af(0x137)][_0x5c45af(0xb8)][_0x5c45af(0x13c)]=null,this['instance'][_0x5c45af(0xb8)][_0x5c45af(0x49c)]=0x0,this[_0x5c45af(0x137)][_0x5c45af(0xb8)][_0x5c45af(0x2f3)]=0x0,await this[_0x5c45af(0xbf)]());}async[a0_0x4087be(0xbf)](){const _0x52ffcd=a0_0x4087be;let _0x2a4fed=()=>{const _0x1c7e42=a0_0x1cc1;this[_0x1c7e42(0x173)][_0x1c7e42(0x1aa)](this[_0x1c7e42(0x768)]+'\x20('+this['instance'][_0x1c7e42(0x64f)]+'):\x20this.processing_id:\x20'+this[_0x1c7e42(0x137)]['ScheduleMessage']['processing_id']+_0x1c7e42(0x66b));},_0xc677e6=async()=>{const _0x18afb7=a0_0x1cc1;this['logger']['verbose'](this[_0x18afb7(0x768)]+'\x20('+this[_0x18afb7(0x137)][_0x18afb7(0x64f)]+_0x18afb7(0x2f2));let _0x458c71=Date[_0x18afb7(0x66f)]()-0xc*0x3c*0x3c*0x3e8,_0x2ce707={'where':{'status':{'$in':['scheduled',_0x18afb7(0x22e)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x458c71}},{'when':0x0}]}};return await this[_0x18afb7(0x702)][_0x18afb7(0x323)]['find'](_0x2ce707,this[_0x18afb7(0x137)][_0x18afb7(0x64f)]);},_0x1b06e9=async _0x204c3d=>{const _0x592225=a0_0x1cc1;for(let _0x32ab8f of _0x204c3d){let _0x18e7da={'_id':_0x32ab8f[_0x592225(0x652)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x592225(0x66f)]()-0x1770}}]},_0x3a3af1={'startSend':Date['now']()};if(!await this[_0x592225(0x702)][_0x592225(0x323)][_0x592225(0x506)](_0x18e7da,_0x3a3af1,this['instance'][_0x592225(0x64f)]))return;if(!this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x1d3)]){this[_0x592225(0x173)][_0x592225(0x1aa)](this[_0x592225(0x768)]+'\x20('+this['instance'][_0x592225(0x64f)]+_0x592225(0x5d9));break;}if(_0x32ab8f[_0x592225(0x6f2)]===_0x592225(0x4e8)&&!this[_0x592225(0x94)]?.['flowConfig'][_0x592225(0x726)]){this[_0x592225(0x173)]['error'](this[_0x592225(0x768)]+'\x20('+this['instance'][_0x592225(0x64f)]+_0x592225(0x20e));continue;}(!_0x32ab8f[_0x592225(0xe9)]||_0x32ab8f['remoteJidsRemaining'][_0x592225(0x5b5)]===0x0)&&(_0x32ab8f=await this['repository']['scheduleMessage'][_0x592225(0x6d6)](_0x32ab8f[_0x592225(0x652)],{'status':_0x592225(0x22e),'remoteJidsRemaining':[..._0x32ab8f['remoteJids']]},this[_0x592225(0x137)][_0x592225(0x64f)]));for(let _0x56ba98 of _0x32ab8f['remoteJidsRemaining']){if(await this[_0x592225(0x546)](),this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x49c)]=Date['now'](),this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x4bd)]===_0x56ba98){this[_0x592225(0x173)][_0x592225(0x20d)](this['instanceName']+'\x20('+this[_0x592225(0x137)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x56ba98+_0x592225(0x68f));let _0x4b11c2={'$push':{'messagesSend':{'remoteJid':_0x56ba98,'error':!0x0,'id':null,'error_log':_0x592225(0x75b),'log_timestamp':Date[_0x592225(0x66f)]()}},'$pull':{'remoteJidsRemaining':_0x56ba98}};await this[_0x592225(0x702)][_0x592225(0x323)]['updateOneById'](_0x32ab8f[_0x592225(0x652)],_0x4b11c2,this[_0x592225(0x137)]['wuid']);continue;}if(this['instance'][_0x592225(0xb8)]['ultimaTentativaRemoteJid']=_0x56ba98,_0x32ab8f[_0x592225(0x256)][_0x592225(0x5b0)](_0x379f11=>_0x379f11[_0x592225(0x319)]===_0x56ba98)){this['logger'][_0x592225(0x1aa)](this[_0x592225(0x768)]+'\x20('+this[_0x592225(0x137)][_0x592225(0x64f)]+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x56ba98+_0x592225(0x3f0));continue;}if(!this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x1d3)]){this[_0x592225(0x173)]['verbose'](this['instanceName']+'\x20('+this[_0x592225(0x137)][_0x592225(0x64f)]+_0x592225(0x18c));break;}if(!this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x13c)]){this[_0x592225(0x173)][_0x592225(0x1aa)](this[_0x592225(0x768)]+'\x20('+this[_0x592225(0x137)]['wuid']+_0x592225(0x240)+_0x32ab8f[_0x592225(0x652)]+_0x592225(0x75));break;}if(_0x32ab8f[_0x592225(0x6f2)]===_0x592225(0x4e8)&&!this['AutomateSystem']?.['flowConfig'][_0x592225(0x726)]){this['logger'][_0x592225(0x20d)](this[_0x592225(0x768)]+'\x20('+this[_0x592225(0x137)][_0x592225(0x64f)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');break;}let _0x15b03d={'remoteJid':_0x56ba98,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x592225(0x66f)]()},_0x5ddd8f=null;try{let _0x27d815=await this[_0x592225(0x58f)](_0x56ba98,_0x32ab8f);_0x15b03d[_0x592225(0x20d)]=_0x27d815[_0x592225(0x20d)],_0x15b03d['id']=_0x27d815[_0x592225(0x20d)]?null:_0x27d815['id'],_0x15b03d['error_log']=_0x27d815['error']?_0x27d815[_0x592225(0x213)]?_0x27d815[_0x592225(0x213)][_0x592225(0x5e9)]():'':null;let _0x51e87f={'$push':{'messagesSend':_0x15b03d},'$pull':{'remoteJidsRemaining':_0x56ba98}},_0x417f6f=_0x32ab8f[_0x592225(0x652)];if(_0x5ddd8f=await this[_0x592225(0x702)][_0x592225(0x323)][_0x592225(0x6d6)](_0x417f6f,_0x51e87f,this[_0x592225(0x137)][_0x592225(0x64f)]),_0x27d815[_0x592225(0x20d)])continue;let _0x1ed07f=this[_0x592225(0x394)](_0x32ab8f[_0x592225(0x2c8)],_0x32ab8f[_0x592225(0x13a)]);await this[_0x592225(0x3b3)](_0x1ed07f);}catch(_0x5372f9){this['logger'][_0x592225(0x20d)](this[_0x592225(0x768)]+'\x20('+this[_0x592225(0x137)]['wuid']+_0x592225(0x4e9)+_0x56ba98+':\x20'+(_0x5372f9 instanceof Error?_0x5372f9[_0x592225(0x5a0)]:JSON['stringify'](_0x5372f9,null,0x2))),_0x15b03d['error']=!0x0,_0x15b03d[_0x592225(0x3dd)]=_0x5372f9[_0x592225(0x5a0)];let _0x5aaadd={'$push':{'messagesSend':_0x15b03d},'$pull':{'remoteJidsRemaining':_0x56ba98}},_0x487935=_0x32ab8f[_0x592225(0x652)];_0x5ddd8f=await this[_0x592225(0x702)][_0x592225(0x323)][_0x592225(0x6d6)](_0x487935,_0x5aaadd,this[_0x592225(0x137)][_0x592225(0x64f)]);}finally{if(_0x5ddd8f&&_0x5ddd8f['status']==='stopped'){this['logger'][_0x592225(0x1aa)](this[_0x592225(0x768)]+'\x20('+this[_0x592225(0x137)][_0x592225(0x64f)]+_0x592225(0x240)+_0x32ab8f[_0x592225(0x652)]+_0x592225(0xb9));break;}}}let _0x22a3ba=await this[_0x592225(0x702)][_0x592225(0x323)]['findById'](_0x32ab8f['_id'],this[_0x592225(0x137)][_0x592225(0x64f)]);if(_0x22a3ba[_0x592225(0xe9)]['length']===0x0&&_0x22a3ba[_0x592225(0x5bb)]!=='stopped'){this[_0x592225(0x137)][_0x592225(0xb8)][_0x592225(0x4bd)]=null;let _0x13e6ff={'$set':{'status':_0x592225(0x32d)}},_0x942622=_0x22a3ba[_0x592225(0x652)];await this[_0x592225(0x702)]['scheduleMessage'][_0x592225(0x6d6)](_0x942622,_0x13e6ff,this[_0x592225(0x137)][_0x592225(0x64f)]);}await new Promise(_0x2c0628=>setTimeout(_0x2c0628,0x1388));}},_0x33d1df=async()=>{const _0x54656f=a0_0x1cc1;let _0x3c0b86={'where':{'status':_0x54656f(0xf3),'when':{'$gt':Date[_0x54656f(0x66f)]()}}},_0x441a8f=await this['repository'][_0x54656f(0x323)][_0x54656f(0x1b0)](_0x3c0b86,this[_0x54656f(0x137)][_0x54656f(0x64f)]);_0x441a8f&&_0x441a8f[_0x54656f(0x191)]-Date['now']()<=0x5265c00?this['instance'][_0x54656f(0xb8)][_0x54656f(0x2f3)]=_0x441a8f[_0x54656f(0x191)]-Date[_0x54656f(0x66f)]():this[_0x54656f(0x137)][_0x54656f(0xb8)][_0x54656f(0x2f3)]=(0x3c+Math[_0x54656f(0x206)](Math[_0x54656f(0xba)]()*0x3c))*0x3c*0x3e8,this[_0x54656f(0x137)][_0x54656f(0xb8)][_0x54656f(0x2f3)]=Math[_0x54656f(0x46d)](this['instance']['ScheduleMessage'][_0x54656f(0x2f3)],0x7d0);let _0x5e94a2=Math[_0x54656f(0x1f2)](this[_0x54656f(0x137)][_0x54656f(0xb8)][_0x54656f(0x2f3)]/0xea60);if(_0x441a8f){let _0x1d1daf=new Date(_0x441a8f[_0x54656f(0x191)])[_0x54656f(0x526)]();this[_0x54656f(0x173)][_0x54656f(0x1aa)](this[_0x54656f(0x768)]+'\x20('+this[_0x54656f(0x137)][_0x54656f(0x64f)]+_0x54656f(0x507)+_0x1d1daf+_0x54656f(0x4d6)+_0x5e94a2+_0x54656f(0x399));}else this[_0x54656f(0x173)][_0x54656f(0x1aa)](this[_0x54656f(0x768)]+'\x20('+this[_0x54656f(0x137)][_0x54656f(0x64f)]+_0x54656f(0x42d)+_0x5e94a2+_0x54656f(0x399));setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x54656f(0xb8)]['delayMessage']);};if(this['instance'][_0x52ffcd(0xb8)]['processing_id']){await this[_0x52ffcd(0x546)](),_0x2a4fed();return;}if(!this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)]['isConnected']){this[_0x52ffcd(0x173)][_0x52ffcd(0x1aa)](this['instanceName']+'\x20('+this[_0x52ffcd(0x137)][_0x52ffcd(0x64f)]+_0x52ffcd(0x457)),this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)][_0x52ffcd(0x13c)]=null,this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)][_0x52ffcd(0x49c)]=0x0,this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)]['delayMessage']=0x0,this['instance'][_0x52ffcd(0xb8)][_0x52ffcd(0x4bd)]=null;return;}try{let _0x4d9954=await _0xc677e6();_0x4d9954[_0x52ffcd(0x5b5)]===0x0?this[_0x52ffcd(0x173)][_0x52ffcd(0x1aa)](this[_0x52ffcd(0x768)]+'\x20('+this[_0x52ffcd(0x137)][_0x52ffcd(0x64f)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)][_0x52ffcd(0x13c)]=_0x4d9954[0x0][_0x52ffcd(0x652)],await _0x1b06e9(_0x4d9954)),await _0x33d1df(),this[_0x52ffcd(0x137)]['ScheduleMessage'][_0x52ffcd(0x13c)]=null,this[_0x52ffcd(0x137)][_0x52ffcd(0xb8)][_0x52ffcd(0x4bd)]=null;}catch(_0x218349){this[_0x52ffcd(0x173)][_0x52ffcd(0x20d)](_0x52ffcd(0x62b)+(_0x218349 instanceof Error?_0x218349[_0x52ffcd(0x5a0)]:JSON[_0x52ffcd(0x28a)](_0x218349,null,0x2)));}}[a0_0x4087be(0x394)](_0x27b86b,_0x536e4c){const _0x4a9d16=a0_0x4087be;return _0x27b86b=Math[_0x4a9d16(0x46d)](0.5,_0x27b86b),_0x536e4c=Math[_0x4a9d16(0x4a4)](Math[_0x4a9d16(0x46d)](0x3,_0x536e4c),0x78),Math[_0x4a9d16(0x206)](Math[_0x4a9d16(0xba)]()*(_0x536e4c-_0x27b86b+0x1)+_0x27b86b)*0x3e8;}[a0_0x4087be(0x3b3)](_0x419579){return new Promise(_0x418b14=>setTimeout(_0x418b14,_0x419579));}async[a0_0x4087be(0x1d6)](_0x1c89cc){const _0x3d70e7=a0_0x4087be;if(!this['AutomateSystem']&&(await this[_0x3d70e7(0x75a)](),!this['AutomateSystem']))return null;_0x1c89cc=this['createJid'](_0x1c89cc);let _0x36484f=await this[_0x3d70e7(0x702)]['chat'][_0x3d70e7(0x1b0)]({'where':{'_id':_0x1c89cc}},this[_0x3d70e7(0x137)]['wuid']),_0x3e1d08={};if(_0x36484f&&_0x36484f[_0x3d70e7(0x113)]){let _0x5009e3=_0x36484f['leadInfo'];typeof _0x5009e3[_0x3d70e7(0x72a)]==_0x3d70e7(0x2d9)&&(_0x3e1d08[_0x3d70e7(0x72a)]=_0x5009e3[_0x3d70e7(0x72a)]),typeof _0x5009e3[_0x3d70e7(0x47d)]==_0x3d70e7(0x2d9)&&(_0x3e1d08['nomecompleto']=_0x5009e3[_0x3d70e7(0x47d)]),typeof _0x5009e3[_0x3d70e7(0x10c)]==_0x3d70e7(0x2d9)&&(_0x3e1d08[_0x3d70e7(0x10c)]=_0x5009e3[_0x3d70e7(0x10c)]),typeof _0x5009e3[_0x3d70e7(0xc5)]==_0x3d70e7(0x2d9)&&(_0x3e1d08['cpf']=_0x5009e3[_0x3d70e7(0xc5)]),typeof _0x5009e3['status']=='string'&&(_0x3e1d08[_0x3d70e7(0x5bb)]=_0x5009e3[_0x3d70e7(0x5bb)]),typeof _0x5009e3['notas']==_0x3d70e7(0x2d9)&&(_0x3e1d08['notas']=_0x5009e3[_0x3d70e7(0x44f)]),typeof _0x5009e3['responsavelid']==_0x3d70e7(0x2d9)&&(_0x3e1d08[_0x3d70e7(0x2a6)]=_0x5009e3[_0x3d70e7(0x2a6)]),Array[_0x3d70e7(0x14b)](_0x5009e3[_0x3d70e7(0xda)])&&(_0x3e1d08[_0x3d70e7(0xda)]=_0x5009e3['tags'][_0x3d70e7(0x76e)](',\x20')),Array[_0x3d70e7(0x14b)](_0x5009e3[_0x3d70e7(0x20f)])&&(_0x3e1d08[_0x3d70e7(0x20f)]=_0x5009e3['etiquetas']['join'](',\x20'));}return _0x36484f&&_0x36484f[_0x3d70e7(0x113)]&&_0x36484f[_0x3d70e7(0x113)][_0x3d70e7(0x28e)]&&_0x36484f[_0x3d70e7(0x113)][_0x3d70e7(0x28e)][_0x3d70e7(0x4e3)](_0xdba519=>{const _0x4b8062=_0x3d70e7;let _0x5addf2=this['AutomateSystem']?.['customFields'][_0x4b8062(0x16d)](_0x68642=>_0x68642['_id']===_0xdba519['_id']);_0x5addf2&&(_0x3e1d08[_0x5addf2[_0x4b8062(0x23a)]]=_0xdba519[_0x4b8062(0x308)]);}),_0x3e1d08;}async[a0_0x4087be(0x2b8)](_0x41629e,_0x434779){const _0x53c9e3=a0_0x4087be;try{let _0x4750a0=await this['getVariablesChat'](_0x434779);return this[_0x53c9e3(0x50e)](_0x41629e,_0x4750a0);}catch(_0x335055){return this[_0x53c9e3(0x173)][_0x53c9e3(0x20d)]('Erro\x20ao\x20substituir\x20variveis\x20para\x20'+_0x434779+':\x20'+_0x335055),_0x41629e;}}async['editScheduleMessage'](_0x49f7aa){const _0x1bd237=a0_0x4087be;try{if(this[_0x1bd237(0x173)]['verbose'](this[_0x1bd237(0x768)]+'\x20('+this[_0x1bd237(0x137)]['wuid']+_0x1bd237(0x651)),_0x49f7aa['delete']&&_0x49f7aa['_id']){if(this[_0x1bd237(0x137)]['ScheduleMessage'][_0x1bd237(0x13c)]===_0x49f7aa[_0x1bd237(0x652)]['toString']())throw new Error(_0x1bd237(0x738));let _0x19c592=await this[_0x1bd237(0x702)][_0x1bd237(0x323)][_0x1bd237(0x300)](_0x49f7aa[_0x1bd237(0x652)],this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x19c592;}let _0x58b313;if(_0x49f7aa['_id']&&(_0x58b313=await this[_0x1bd237(0x702)][_0x1bd237(0x323)][_0x1bd237(0x1e6)](_0x49f7aa['_id'],this['instance']['wuid'])),_0x58b313){let _0x506ace;if(this[_0x1bd237(0x137)]['ScheduleMessage'][_0x1bd237(0x13c)]===_0x58b313[_0x1bd237(0x652)][_0x1bd237(0x5e9)]())_0x506ace={'$set':{'status':_0x49f7aa[_0x1bd237(0x5bb)]}};else{let {_id:_0x4e6dd4,..._0x16da5b}=_0x49f7aa;_0x506ace={'$set':_0x16da5b};}let _0x494f7b=await this[_0x1bd237(0x702)][_0x1bd237(0x323)][_0x1bd237(0x6d6)](_0x49f7aa[_0x1bd237(0x652)],_0x506ace,this[_0x1bd237(0x137)][_0x1bd237(0x64f)]);return setTimeout(()=>this[_0x1bd237(0xbf)](),0x7d0),_0x494f7b;}else{_0x49f7aa[_0x1bd237(0x25f)]=this[_0x1bd237(0x137)][_0x1bd237(0x64f)];let _0x1652eb=await this['repository'][_0x1bd237(0x323)][_0x1bd237(0x76d)](_0x49f7aa,this[_0x1bd237(0x137)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1652eb;}}catch(_0x737b25){let _0x3eaf8d=_0x1bd237(0x3b2),_0x197ab2=_0x737b25 instanceof Error?_0x737b25[_0x1bd237(0x5a0)]:typeof _0x737b25==_0x1bd237(0x157)?JSON[_0x1bd237(0x28a)](_0x737b25):_0x737b25,_0x4dcb87=_0x3eaf8d+':\x20'+_0x197ab2;throw this[_0x1bd237(0x173)][_0x1bd237(0x20d)](this[_0x1bd237(0x768)]+'\x20('+this[_0x1bd237(0x137)][_0x1bd237(0x64f)]+'):\x20'+_0x4dcb87),new f(_0x4dcb87);}}async[a0_0x4087be(0x3d9)](){const _0x105cff=a0_0x4087be;try{return await this[_0x105cff(0x702)][_0x105cff(0x323)][_0x105cff(0x16d)]({'where':{}},this[_0x105cff(0x137)]['wuid']);}catch(_0x353332){let _0x393717=_0x105cff(0x56a),_0x11e6f2=_0x353332 instanceof Error?_0x353332[_0x105cff(0x5a0)]:typeof _0x353332==_0x105cff(0x157)?JSON[_0x105cff(0x28a)](_0x353332):_0x353332,_0x249a4e=_0x393717+':\x20'+_0x11e6f2;throw this[_0x105cff(0x173)][_0x105cff(0x20d)](this[_0x105cff(0x768)]+'\x20('+this[_0x105cff(0x137)][_0x105cff(0x64f)]+'):\x20'+_0x249a4e),new f(_0x249a4e);}}async[a0_0x4087be(0x6ed)](){const _0x4a7b3d=a0_0x4087be;try{let _0x2650b9={'status':_0x4a7b3d(0x32d)},_0x213046=await this[_0x4a7b3d(0x702)]['scheduleMessage'][_0x4a7b3d(0x241)](_0x2650b9,this[_0x4a7b3d(0x137)][_0x4a7b3d(0x64f)]);if(!_0x213046[_0x4a7b3d(0x20d)])this[_0x4a7b3d(0x173)][_0x4a7b3d(0x1aa)](this[_0x4a7b3d(0x768)]+'\x20('+this[_0x4a7b3d(0x137)][_0x4a7b3d(0x64f)]+_0x4a7b3d(0x6b2));else throw new Error(_0x213046[_0x4a7b3d(0x20d)][_0x4a7b3d(0x5a0)]||_0x4a7b3d(0x387));return this[_0x4a7b3d(0x3d9)]();}catch(_0x116012){let _0x3983ad=_0x4a7b3d(0x45a),_0x3d586b=_0x116012 instanceof Error?_0x116012[_0x4a7b3d(0x5a0)]:typeof _0x116012=='object'?JSON[_0x4a7b3d(0x28a)](_0x116012):_0x116012,_0x23ef58=_0x3983ad+':\x20'+_0x3d586b;throw this[_0x4a7b3d(0x173)][_0x4a7b3d(0x20d)](this[_0x4a7b3d(0x768)]+'\x20('+this[_0x4a7b3d(0x137)][_0x4a7b3d(0x64f)]+_0x4a7b3d(0x4a7)+_0x23ef58),new f(_0x23ef58);}}async[a0_0x4087be(0x58f)](_0x2567e3,_0x3cc805){const _0xdf7d3c=a0_0x4087be;try{if(_0x3cc805['type']===_0xdf7d3c(0x4e8)&&!this[_0xdf7d3c(0x94)]?.['flowConfig'][_0xdf7d3c(0x726)])return this[_0xdf7d3c(0x173)]['error'](this[_0xdf7d3c(0x768)]+'\x20('+this['instance'][_0xdf7d3c(0x64f)]+_0xdf7d3c(0x335)),{'error':!0x0,'detail':_0xdf7d3c(0x6fe)};switch(_0x3cc805[_0xdf7d3c(0x6f2)]){case _0xdf7d3c(0x3e8):return await this[_0xdf7d3c(0x5fe)](_0x3cc805,_0x2567e3);case _0xdf7d3c(0x2be):return await this[_0xdf7d3c(0x4b2)](_0x3cc805,_0x2567e3);case _0xdf7d3c(0x84):return await this[_0xdf7d3c(0x69b)](_0x3cc805,_0x2567e3);case'flow':let _0x3720c7=new Fe();return _0x3720c7[_0xdf7d3c(0x23a)]=_0x3cc805[_0xdf7d3c(0x355)],_0x3720c7[_0xdf7d3c(0x319)]=_0x2567e3,await this[_0xdf7d3c(0x5ee)](_0x3720c7);break;default:return this['logger'][_0xdf7d3c(0x20d)](this[_0xdf7d3c(0x768)]+'\x20('+this[_0xdf7d3c(0x137)][_0xdf7d3c(0x64f)]+'):\x20Comando\x20desconhecido:\x20'+_0x3cc805['type']),{'error':!0x0,'detail':_0xdf7d3c(0x5fa)};}}catch(_0x75be95){return this['logger'][_0xdf7d3c(0x20d)](this[_0xdf7d3c(0x768)]+'\x20('+this[_0xdf7d3c(0x137)][_0xdf7d3c(0x64f)]+_0xdf7d3c(0x162)+(_0x75be95 instanceof Error?_0x75be95[_0xdf7d3c(0x5a0)]:JSON[_0xdf7d3c(0x28a)](_0x75be95,null,0x2))),{'error':!0x0,'detail':_0x75be95[_0xdf7d3c(0x5a0)]};}}[a0_0x4087be(0x665)](_0x58385c){const _0x399af5=a0_0x4087be;let _0x3a7c0e=_0x58385c['split']('|'),_0x1e6aa0=Math['floor'](Math[_0x399af5(0xba)]()*_0x3a7c0e[_0x399af5(0x5b5)]);return _0x3a7c0e[_0x1e6aa0]['trim']();}async[a0_0x4087be(0x5fe)](_0x5108c3,_0x29041d){const _0x2a0a06=a0_0x4087be;if(this['logger']['verbose'](this[_0x2a0a06(0x768)]+'\x20('+this[_0x2a0a06(0x137)][_0x2a0a06(0x64f)]+_0x2a0a06(0x59c)),!_0x5108c3[_0x2a0a06(0x5a0)][_0x2a0a06(0x3e8)]||_0x5108c3[_0x2a0a06(0x5a0)][_0x2a0a06(0x3e8)][_0x2a0a06(0x5b5)]===0x0)return{'error':!0x0,'detail':_0x2a0a06(0x6b0)};let _0x34959e=this[_0x2a0a06(0x665)](_0x5108c3[_0x2a0a06(0x5a0)][_0x2a0a06(0x3e8)]),_0x52bda0=await this[_0x2a0a06(0x2b8)](_0x34959e,_0x29041d),_0x1da267={'number':_0x29041d,'options':{'delay':_0x5108c3['message'][_0x2a0a06(0x445)],'linkPreview':_0x5108c3[_0x2a0a06(0x5a0)]['linkPreview']},'textMessage':{'text':_0x52bda0}},_0x96b0b0=null;try{let _0x52319f=await this[_0x2a0a06(0x1cc)](_0x1da267);if(_0x52319f&&_0x52319f['status'])return{'error':!0x1,'id':_0x52319f[_0x2a0a06(0x543)]['id']};_0x96b0b0=JSON[_0x2a0a06(0x28a)](_0x52319f),this[_0x2a0a06(0x173)]['verbose'](this[_0x2a0a06(0x768)]+'\x20('+this[_0x2a0a06(0x137)][_0x2a0a06(0x64f)]+_0x2a0a06(0x4a7)+_0x96b0b0);}catch(_0xb083f9){this[_0x2a0a06(0x173)][_0x2a0a06(0x20d)](this[_0x2a0a06(0x768)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0xb083f9 instanceof Error?_0xb083f9[_0x2a0a06(0x5a0)]:JSON['stringify'](_0xb083f9,null,0x2))),_0x96b0b0=_0xb083f9[_0x2a0a06(0x5a0)];}if(_0x96b0b0)return{'error':!0x0,'detail':(typeof _0x96b0b0==_0x2a0a06(0x157)?JSON[_0x2a0a06(0x28a)](_0x96b0b0,null,0x2):_0x96b0b0)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2a0a06(0x71c)](/  +/g,'\x20')};}async[a0_0x4087be(0x4b2)](_0x443a2d,_0x271949){const _0x3fb644=a0_0x4087be;this[_0x3fb644(0x173)]['verbose'](this[_0x3fb644(0x768)]+'\x20('+this['instance'][_0x3fb644(0x64f)]+_0x3fb644(0x14c));let _0x3a84c7;if(_0x443a2d['message']['text']&&_0x443a2d['message'][_0x3fb644(0x3e8)][_0x3fb644(0x5b5)]>0x0){let _0x3a68d7=this[_0x3fb644(0x665)](_0x443a2d[_0x3fb644(0x5a0)][_0x3fb644(0x3e8)]);_0x3a84c7=await this[_0x3fb644(0x2b8)](_0x3a68d7,_0x271949);}let _0x27a9f5={'number':_0x271949,'options':{'delay':_0x443a2d['message'][_0x3fb644(0x445)],'linkPreview':_0x443a2d[_0x3fb644(0x5a0)]['linkPreview']},'mediaMessage':{'mediatype':_0x443a2d[_0x3fb644(0x5a0)][_0x3fb644(0x28f)],'caption':_0x3a84c7,'media':_0x443a2d[_0x3fb644(0x5a0)][_0x3fb644(0x49e)]}},_0x4aa100=null;try{let _0x306899=await this[_0x3fb644(0x2ab)](_0x27a9f5);if(_0x306899&&_0x306899[_0x3fb644(0x5bb)])return{'error':!0x1,'id':_0x306899['key']['id']};_0x4aa100=JSON[_0x3fb644(0x28a)](_0x306899),this[_0x3fb644(0x173)][_0x3fb644(0x1aa)](this[_0x3fb644(0x768)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4aa100);}catch(_0x345e26){this[_0x3fb644(0x173)][_0x3fb644(0x20d)](this['instanceName']+'\x20('+this[_0x3fb644(0x137)][_0x3fb644(0x64f)]+_0x3fb644(0x1a7)+(_0x345e26 instanceof Error?_0x345e26[_0x3fb644(0x5a0)]:JSON[_0x3fb644(0x28a)](_0x345e26,null,0x2))),_0x4aa100=_0x345e26['message'];}if(_0x4aa100)return{'error':!0x0,'detail':(typeof _0x4aa100==_0x3fb644(0x157)?JSON[_0x3fb644(0x28a)](_0x4aa100,null,0x2):_0x4aa100)[_0x3fb644(0x71c)](/[\[\]{}\n]/g,'\x20')[_0x3fb644(0x71c)](/  +/g,'\x20')};}async[a0_0x4087be(0x69b)](_0x4e635b,_0x304bee){const _0x451b15=a0_0x4087be;this['logger'][_0x451b15(0x1aa)](this[_0x451b15(0x768)]+'\x20('+this[_0x451b15(0x137)][_0x451b15(0x64f)]+_0x451b15(0x3ce));let _0x83cf5e={'number':_0x304bee,'options':{'delay':_0x4e635b[_0x451b15(0x5a0)]['delay']},'audioMessage':{'audio':_0x4e635b[_0x451b15(0x5a0)][_0x451b15(0x49e)]}},_0x502aec=null;try{let _0x218b8d=await this['audioWhatsapp'](_0x83cf5e);if(_0x218b8d&&_0x218b8d[_0x451b15(0x5bb)])return{'error':!0x1,'id':_0x218b8d[_0x451b15(0x543)]['id']};_0x502aec=JSON['stringify'](_0x218b8d),this['logger'][_0x451b15(0x1aa)](this[_0x451b15(0x768)]+'\x20('+this[_0x451b15(0x137)][_0x451b15(0x64f)]+_0x451b15(0x4a7)+_0x502aec);}catch(_0x235e31){this['logger'][_0x451b15(0x20d)](this['instanceName']+'\x20('+this[_0x451b15(0x137)][_0x451b15(0x64f)]+_0x451b15(0x613)+(_0x235e31 instanceof Error?_0x235e31[_0x451b15(0x5a0)]:JSON['stringify'](_0x235e31,null,0x2))),_0x502aec=_0x235e31[_0x451b15(0x5a0)];}if(_0x502aec)return{'error':!0x0,'detail':(typeof _0x502aec=='object'?JSON['stringify'](_0x502aec,null,0x2):_0x502aec)[_0x451b15(0x71c)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ut=class c{constructor(_0x801bb0,_0x5bbebd,_0xc8731){const _0x17a691=a0_0x4087be;this[_0x17a691(0x247)]=_0x801bb0,this[_0x17a691(0x23b)]=_0x5bbebd,this[_0x17a691(0x702)]=_0xc8731,this['db']={},this[_0x17a691(0x631)]={},this['logger']=new R(c[_0x17a691(0x23a)]),this[_0x17a691(0x3d5)]={},(this[_0x17a691(0x555)](),this[_0x17a691(0x242)](),Object[_0x17a691(0x6ba)](this['db'],_0x5bbebd[_0x17a691(0x5e6)]('DATABASE')),Object[_0x17a691(0x6ba)](this[_0x17a691(0x631)],_0x5bbebd['get']('REDIS')),this[_0x17a691(0x279)]=this['db'][_0x17a691(0x73a)]?this[_0x17a691(0x702)][_0x17a691(0x5a3)]?.['db'](this['db']['CONNECTION'][_0x17a691(0x238)]+'-instances'):void 0x0,this[_0x17a691(0x5e8)]=this[_0x17a691(0x631)][_0x17a691(0x73a)]?new ce(this['redis']):void 0x0);}async[a0_0x4087be(0xc1)](_0x3f1384){const _0x1e87f1=a0_0x4087be;if(_0x3f1384&&!this[_0x1e87f1(0x3d5)][_0x3f1384])throw new U('Instance\x20\x22'+_0x3f1384+_0x1e87f1(0x584));let _0xd5e3c5=[];for await(let [_0x29e49d,_0x425f36]of Object['entries'](this[_0x1e87f1(0x3d5)]))if(_0x425f36&&_0x425f36['connectionStatus'][_0x1e87f1(0x1ee)]===_0x1e87f1(0x535)){let _0x33dcb2=await this['repository'][_0x1e87f1(0x42f)][_0x1e87f1(0x16d)](_0x29e49d);_0xd5e3c5[_0x1e87f1(0x5af)]({'instance':{'instanceName':_0x29e49d,'apikey':_0x33dcb2['apikey'],'owner':_0x425f36[_0x1e87f1(0x64f)],'profileName':await _0x425f36[_0x1e87f1(0x3b8)]()||_0x1e87f1(0x48f),'profilePictureUrl':_0x425f36[_0x1e87f1(0x70b)]}});}return _0xd5e3c5[_0x1e87f1(0x16d)](_0x5d87d1=>_0x5d87d1['instance']['instanceName']===_0x3f1384)??_0xd5e3c5;}async[a0_0x4087be(0x740)](_0x47139e){const _0x34dd22=a0_0x4087be;if(this['db'][_0x34dd22(0x73a)]&&(await this[_0x34dd22(0x702)]['dbServer']['connect'](),(await this[_0x34dd22(0x279)][_0x34dd22(0xb6)]())[_0x34dd22(0x5b5)]>0x0&&await this[_0x34dd22(0x279)][_0x34dd22(0x2c5)](_0x47139e)),this[_0x34dd22(0x631)]['ENABLED']){this[_0x34dd22(0x5e8)][_0x34dd22(0x639)]=_0x47139e,await this['cache'][_0x34dd22(0x305)]();return;}}async[a0_0x4087be(0x47e)](){const _0x2133ea=a0_0x4087be;await this['InstancesAlterarTodas']();let _0x4f3364=async _0x5d77f0=>{const _0x439e4d=a0_0x1cc1;let _0x493955=new Se(this[_0x439e4d(0x23b)],this[_0x439e4d(0x247)],this[_0x439e4d(0x702)]);_0x493955[_0x439e4d(0x768)]=_0x5d77f0,await _0x493955['connectToWhatsapp'](),this[_0x439e4d(0x3d5)][_0x5d77f0]=_0x493955;};try{if(this[_0x2133ea(0x631)][_0x2133ea(0x73a)]){let _0x29147a=await this[_0x2133ea(0x5e8)][_0x2133ea(0x12c)]();_0x29147a?.[_0x2133ea(0x5b5)]>0x0&&_0x29147a[_0x2133ea(0x4e3)](async _0x2e6741=>await _0x4f3364(_0x2e6741[_0x2133ea(0x2f1)](':')[0x1]));return;}if(this['db'][_0x2133ea(0x73a)]){await this['repository'][_0x2133ea(0x5a3)][_0x2133ea(0x1b2)]();let _0x56c598=await this[_0x2133ea(0x279)][_0x2133ea(0xb6)]();_0x56c598[_0x2133ea(0x5b5)]>0x0&&_0x56c598['forEach'](async _0x21a020=>await _0x4f3364(_0x21a020[_0x2133ea(0x3a5)][_0x2133ea(0x71c)](/^[\w-]+\./,'')));return;}}catch(_0x216f22){this[_0x2133ea(0x173)]['error'](_0x216f22);}}async['InstancesAsDisconnectedX'](){const _0x905acb=a0_0x4087be;let _0x5583a0=await this[_0x905acb(0x702)]['auth'][_0x905acb(0xa8)](),_0x2a50d0=_0x5583a0[_0x905acb(0x4ba)](_0x5eea99=>!this[_0x905acb(0x3d5)][_0x5eea99[_0x905acb(0x652)]]&&(_0x5eea99[_0x905acb(0x68e)]||typeof _0x5eea99[_0x905acb(0x68e)]>'u'));_0x2a50d0['length']>0x0&&await Promise['all'](_0x2a50d0[_0x905acb(0xaa)](async _0x31b07c=>{const _0x1659e9=_0x905acb;let _0x39204c={'online':!0x1,'lastDisconnect':Date[_0x1659e9(0x66f)]()};await this['repository']['auth'][_0x1659e9(0x435)](_0x39204c,_0x31b07c[_0x1659e9(0x652)]);}));let _0x536a97=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x7befd1=_0x5583a0[_0x905acb(0x4ba)](_0x47c619=>!this['waInstances'][_0x47c619[_0x905acb(0x652)]]&&typeof _0x47c619['lastDisconnect']<'u'&&_0x47c619[_0x905acb(0x4e4)]<_0x536a97);_0x7befd1[_0x905acb(0x5b5)]>0x0&&await Promise[_0x905acb(0x76b)](_0x7befd1[_0x905acb(0xaa)](async _0x2cd403=>{}));}async[a0_0x4087be(0xcf)](){const _0x3f4cfe=a0_0x4087be;try{let _0x4bfe19={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x38b822={'online':!0x1,'lastDisconnect':Date[_0x3f4cfe(0x66f)]()},_0x30ea36=await this[_0x3f4cfe(0x702)]['auth'][_0x3f4cfe(0x520)](_0x4bfe19,_0x38b822);console[_0x3f4cfe(0x603)]('Instncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x30ea36[_0x3f4cfe(0x49b)]),await this['removeOlderDisconnectedInstances']();}catch(_0x1859ce){console['error'](_0x3f4cfe(0x642),_0x1859ce);}}async[a0_0x4087be(0x204)](){const _0x267a8a=a0_0x4087be;try{let _0x4e9ab8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x437cd0=await this[_0x267a8a(0x702)][_0x267a8a(0x42f)][_0x267a8a(0x241)](_0x4e9ab8);console[_0x267a8a(0x603)](_0x267a8a(0x444)+_0x437cd0[_0x267a8a(0x49b)]);}catch(_0x3bbb45){console[_0x267a8a(0x20d)](_0x267a8a(0x1bb),_0x3bbb45);}}['removeInstance'](){const _0x866026=a0_0x4087be;this[_0x866026(0x247)]['on'](_0x866026(0x5e0),async _0x4dc6f5=>{const _0x4ed471=_0x866026;try{this[_0x4ed471(0x3d5)][_0x4dc6f5]=void 0x0;}catch{}try{this['cleaningUp'](_0x4dc6f5);}finally{this[_0x4ed471(0x173)][_0x4ed471(0x2fd)](_0x4ed471(0x284)+_0x4dc6f5+_0x4ed471(0x104));}});}[a0_0x4087be(0x242)](){const _0x582323=a0_0x4087be;this[_0x582323(0x247)]['on'](_0x582323(0x1a6),async _0x8033e8=>{const _0x3c3518=_0x582323;try{this[_0x3c3518(0x3d5)][_0x8033e8]=void 0x0;}catch{}try{this['cleaningUp'](_0x8033e8);}finally{this['logger'][_0x3c3518(0x2fd)](_0x3c3518(0x284)+_0x8033e8+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{[a0_0x4087be(0x29d)](_0x2c8c08){return Ys(_0x2c8c08);}async['insert'](_0x552ba5){const _0x3f5699=a0_0x4087be;if(_0x552ba5[_0x3f5699(0x5b5)]!==0x0)try{return{'insertCount':(await this[_0x3f5699(0x29d)](_0x552ba5[0x0][_0x3f5699(0x25f)])[_0x3f5699(0x36a)]([..._0x552ba5]))['length']};}catch(_0x3b5955){return _0x3b5955;}}async[a0_0x4087be(0x16d)](_0x59f220,_0x46cad4){const _0x1f7d73=a0_0x4087be;try{let _0x3a5a02=this[_0x1f7d73(0x29d)](_0x46cad4),_0xfd4386=A(_0x59f220['where']);return await _0x3a5a02[_0x1f7d73(0x16d)](_0xfd4386)['sort']({'lastmsg':-0x1})[_0x1f7d73(0x9b)](_0x59f220?.['limit']??0x0)[_0x1f7d73(0x327)]();}catch{return[];}}async[a0_0x4087be(0x301)](_0x128f82,_0x56a8b6){const _0x57e868=a0_0x4087be;try{return{'deletedCount':(await this[_0x57e868(0x29d)](_0x56a8b6)[_0x57e868(0x241)]({..._0x128f82[_0x57e868(0x116)]}))[_0x57e868(0x6ef)]};}catch(_0x4dea7c){return{'error':_0x4dea7c?.[_0x57e868(0x5e9)]()};}}async['deleteAll'](_0x596386,_0x2769e1){const _0x5379f9=a0_0x4087be;try{return await this[_0x5379f9(0x29d)](_0x2769e1)[_0x5379f9(0x241)]({..._0x596386[_0x5379f9(0x116)]}),[];}catch(_0x31c78b){return{'error':_0x31c78b?.[_0x5379f9(0x5e9)]()};}}async['findOne'](_0x391fda,_0x23a0cc){const _0x494887=a0_0x4087be;try{let _0x7e9682=this[_0x494887(0x29d)](_0x23a0cc),_0x27fe73=A(_0x391fda[_0x494887(0x116)]);return await _0x7e9682[_0x494887(0x1b0)](_0x27fe73)[_0x494887(0x327)]();}catch{return null;}}async['updateOne'](_0x55b7b4,_0x408542,_0x23d06c,_0x5d24fd,_0x2ad91e=a0_0x4087be(0x76c)){const _0x4618e9=a0_0x4087be;try{let _0x4bcfbc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5d24fd},_0x37cce9=this[_0x4618e9(0x29d)](_0x23d06c),_0x437540=A(_0x55b7b4['where']);Object[_0x4618e9(0x75e)](_0x408542)[_0x4618e9(0x4e3)](_0x10eede=>{_0x408542[_0x10eede]==null&&delete _0x408542[_0x10eede];});let _0x29dd83={};return _0x29dd83[_0x2ad91e]=_0x408542,await _0x37cce9['findOneAndUpdate'](_0x437540,_0x29dd83,_0x4bcfbc);}catch(_0x255f5a){return console[_0x4618e9(0x20d)](_0x255f5a),null;}}async[a0_0x4087be(0x99)](_0x7d655){const _0x371af8=a0_0x4087be;try{let _0xed6c49=this[_0x371af8(0x29d)](_0x7d655[0x0][_0x371af8(0x272)][_0x371af8(0x116)]['owner']),_0x3d5bdd=_0x7d655['map'](_0x23d32a=>({'updateOne':{'filter':{..._0x23d32a[_0x371af8(0x272)][_0x371af8(0x116)]},'update':{'$set':_0x23d32a[_0x371af8(0x15c)]},'upsert':!0x0}})),_0x2b8628=await _0xed6c49[_0x371af8(0x41a)](_0x3d5bdd);return _0x2b8628[_0x371af8(0xac)]+_0x2b8628[_0x371af8(0x108)];}catch(_0x56726f){return console['error'](_0x56726f),0x0;}}async['removeUnusedChatFields'](_0xd6025f){const _0x402496=a0_0x4087be;try{let _0x85dc6b={'group_isCommunity':'','group_announce':'','group_size':''},_0x21165e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4dac7a={'$unset':_0x85dc6b};return(await this[_0x402496(0x29d)](_0xd6025f)[_0x402496(0x99)](_0x21165e,_0x4dac7a))['modifiedCount'];}catch(_0x1d5bfb){return console[_0x402496(0x20d)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x1d5bfb),0x0;}}async[a0_0x4087be(0x750)](_0x20d94a){const _0x5bd362=a0_0x4087be;try{let _0x1f36b8=this['getChatModelForOwner'](_0x20d94a),_0x1a4039={'leadInfo.etiquetas':{'$exists':!0x1}},_0x49c1c6={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1f36b8[_0x5bd362(0x99)](_0x1a4039,_0x49c1c6))[_0x5bd362(0xac)];}catch(_0x1ad107){return console[_0x5bd362(0x20d)](_0x1ad107),0x0;}}async[a0_0x4087be(0x36b)](_0x35733b){const _0x2ff95f=a0_0x4087be;try{let _0x110211=this[_0x2ff95f(0x29d)](_0x35733b),_0x45248f={'leadInfo.tags':{'$exists':!0x1}},_0x1b09f9={'$set':{'leadInfo.tags':[]}};return(await _0x110211['updateMany'](_0x45248f,_0x1b09f9))['modifiedCount'];}catch(_0x46ee9e){return console['error'](_0x46ee9e),0x0;}}async[a0_0x4087be(0xfc)](_0x15f99a){const _0x5a0748=a0_0x4087be;try{let _0x39f2e3=this[_0x5a0748(0x29d)](_0x15f99a),_0x21b18d={'leadInfo.customFields':{'$exists':!0x1}},_0x310cc6={'$set':{'leadInfo.customFields':[]}};return(await _0x39f2e3['updateMany'](_0x21b18d,_0x310cc6))[_0x5a0748(0xac)];}catch(_0x2b6fba){return console['error'](_0x2b6fba),0x0;}}async[a0_0x4087be(0x36a)](_0x229ba4,_0x122b05){const _0xd9d1aa=a0_0x4087be;if(!Array[_0xd9d1aa(0x14b)](_0x229ba4)||_0x229ba4[_0xd9d1aa(0x5b5)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20insero.');try{return(await this['getChatModelForOwner'](_0x122b05)[_0xd9d1aa(0x36a)](_0x229ba4))[_0xd9d1aa(0x5b5)];}catch(_0x592dec){throw console[_0xd9d1aa(0x20d)](_0xd9d1aa(0x5c6),_0x592dec),_0x592dec;}}async[a0_0x4087be(0x466)](_0x448454,_0x47a886){const _0x4b6743=a0_0x4087be;try{await this[_0x4b6743(0x29d)](_0x47a886)[_0x4b6743(0x300)]({'_id':_0x448454});}catch(_0x33b113){throw console['error'](_0x4b6743(0x588),_0x33b113),_0x33b113;}}},Vt=class extends x{constructor(_0x4c8407,_0x358a54,_0x1a6ec8){const _0x301991=a0_0x4087be;super(_0x358a54),this[_0x301991(0x44b)]=_0x4c8407,this[_0x301991(0x23b)]=_0x358a54,this[_0x301991(0x510)]=_0x1a6ec8;}async[a0_0x4087be(0x30e)](_0x6ce3a4){const _0x380737=a0_0x4087be;if(_0x6ce3a4[_0x380737(0x5b5)]!==0x0)try{return{'insertCount':(await this[_0x380737(0x44b)]['insertMany']([..._0x6ce3a4]))[_0x380737(0x5b5)]};}catch(_0x1dc790){return _0x1dc790;}}async[a0_0x4087be(0x15c)](_0x972dd0,_0x2e67b8){const _0x48081c=a0_0x4087be;try{let _0x2b3712=A(_0x972dd0[_0x48081c(0x116)]);return{'updatedCount':(await this['cacheContactModel'][_0x48081c(0x99)](_0x2b3712,{'$set':_0x2e67b8}))[_0x48081c(0xac)]};}catch(_0x4adea0){return console[_0x48081c(0x20d)](_0x48081c(0x2e7),_0x4adea0),{'error':_0x4adea0[_0x48081c(0x5e9)]()};}}async[a0_0x4087be(0x306)](_0x2627fa){const _0x5790c3=a0_0x4087be;try{let _0x2d42a5={'_id':{'$in':_0x2627fa}};return await this[_0x5790c3(0x44b)][_0x5790c3(0x16d)](_0x2d42a5)[_0x5790c3(0x327)]();}catch(_0x2d5f1d){return console[_0x5790c3(0x20d)](_0x5790c3(0x65d),_0x2d5f1d),[];}}async[a0_0x4087be(0x301)](_0x4d2de5){const _0x1ec531=a0_0x4087be;try{return{'deletedCount':(await this['cacheContactModel'][_0x1ec531(0x241)]({..._0x4d2de5[_0x1ec531(0x116)]}))[_0x1ec531(0x6ef)]};}catch(_0x152acd){return{'error':_0x152acd?.[_0x1ec531(0x5e9)]()};}}async[a0_0x4087be(0x16d)](_0x546fe3){const _0x6f3572=a0_0x4087be;try{let _0x45dc62=A(_0x546fe3[_0x6f3572(0x116)]);return await this[_0x6f3572(0x44b)][_0x6f3572(0x16d)](_0x45dc62)[_0x6f3572(0x9b)](_0x546fe3?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x4087be(0x1b0)](_0x2584a3){const _0x534e4b=a0_0x4087be;try{let _0x12e553=A(_0x2584a3[_0x534e4b(0x116)]);return await this['cacheContactModel'][_0x534e4b(0x1b0)](_0x12e553)[_0x534e4b(0x327)]();}catch{return null;}}},Gt=class extends x{[a0_0x4087be(0x21f)](_0xb7dc71){return Ea(_0xb7dc71);}async[a0_0x4087be(0x506)](_0x270f4d,_0x1ed29c,_0xbdf1d9,_0x5e001a){const _0x333b5b=a0_0x4087be;try{let _0x3a72c4={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5e001a},_0x1b3480=this['getLabelModelForOwner'](_0xbdf1d9),_0x46ba17=A(_0x270f4d['where']);return await _0x1b3480[_0x333b5b(0x23c)](_0x46ba17,{'$set':_0x1ed29c},_0x3a72c4);}catch(_0x56b486){return console[_0x333b5b(0x20d)](_0x56b486),null;}}async[a0_0x4087be(0x16d)](_0x51ae07,_0x11be21){const _0x276300=a0_0x4087be;try{let _0x2b25a4=this[_0x276300(0x21f)](_0x11be21),_0x1d8bf8=A(_0x51ae07['where']);return await _0x2b25a4[_0x276300(0x16d)](_0x1d8bf8);}catch(_0x23f6a2){console[_0x276300(0x20d)](_0x23f6a2);}}async[a0_0x4087be(0x301)](_0x5390e9,_0x86a617){const _0x7ad414=a0_0x4087be;try{let _0x15f7db=this[_0x7ad414(0x21f)](_0x86a617),_0x203746=A(_0x5390e9[_0x7ad414(0x116)]);await _0x15f7db['deleteMany'](_0x203746);}catch(_0xb06338){console[_0x7ad414(0x20d)](_0xb06338);}}async[a0_0x4087be(0x597)](_0xd32051){const _0x5738c7=a0_0x4087be;try{return await this[_0x5738c7(0x21f)](_0xd32051)[_0x5738c7(0x5cc)][_0x5738c7(0x420)](),{'success':!0x0};}catch(_0x5c381b){return console['error'](_0x5c381b),{'success':!0x1,'error':_0x5c381b};}}},Bt=class{constructor(_0x1b06db){const _0x578dee=a0_0x4087be;this[_0x578dee(0x6db)]=_0x1b06db;}async[a0_0x4087be(0x4e1)]({instanceName:_0x2806df},_0x1fb971){const _0x435ee1=a0_0x4087be;return await this[_0x435ee1(0x6db)][_0x435ee1(0x3d5)][_0x2806df][_0x435ee1(0x4e1)](_0x1fb971);}async[a0_0x4087be(0x666)]({instanceName:_0x38e315},_0x1b1463){return await this['waMonitor']['waInstances'][_0x38e315]['whatsappNumber'](_0x1b1463);}async[a0_0x4087be(0x3bb)]({instanceName:_0x4fdf8d},_0x5bc613){const _0x4252b2=a0_0x4087be;return await this['waMonitor'][_0x4252b2(0x3d5)][_0x4fdf8d][_0x4252b2(0x3bb)](_0x5bc613);}async[a0_0x4087be(0x9f)]({instanceName:_0x459195},_0x4d7b97){const _0x2885ab=a0_0x4087be;return await this['waMonitor'][_0x2885ab(0x3d5)][_0x459195][_0x2885ab(0x1f0)](_0x4d7b97);}async[a0_0x4087be(0x409)]({instanceName:_0x2393ff},_0x47fe2c){const _0x568bdf=a0_0x4087be;return await this[_0x568bdf(0x6db)][_0x568bdf(0x3d5)][_0x2393ff][_0x568bdf(0x409)](_0x47fe2c);}async['deleteMessage']({instanceName:_0x45c0db},_0x17337d){const _0x435da5=a0_0x4087be;return await this[_0x435da5(0x6db)][_0x435da5(0x3d5)][_0x45c0db]['deleteMessage'](_0x17337d);}async[a0_0x4087be(0xbc)]({instanceName:_0x451a81},_0x4f5717){const _0x3d4fcc=a0_0x4087be;return await this['waMonitor'][_0x3d4fcc(0x3d5)][_0x451a81][_0x3d4fcc(0xdc)](_0x4f5717['number']);}async[a0_0x4087be(0x233)]({instanceName:_0x3cf27c},_0x2a3286){const _0x424f95=a0_0x4087be;return await this[_0x424f95(0x6db)][_0x424f95(0x3d5)][_0x3cf27c][_0x424f95(0x233)](_0x2a3286['number']);}async['updatePresence']({instanceName:_0x5e50f7},_0x3cb6ea){const _0x4ea335=a0_0x4087be;return await this[_0x4ea335(0x6db)][_0x4ea335(0x3d5)][_0x5e50f7][_0x4ea335(0x57d)](_0x3cb6ea);}async['fetchContacts']({instanceName:_0x5707a2},_0x40a4d3){const _0xaa3ed4=a0_0x4087be;return await this['waMonitor'][_0xaa3ed4(0x3d5)][_0x5707a2][_0xaa3ed4(0x3e3)](_0x40a4d3);}async[a0_0x4087be(0x42e)]({instanceName:_0x40f80a},_0x5ec905){const _0x4274b9=a0_0x4087be;return await this[_0x4274b9(0x6db)][_0x4274b9(0x3d5)][_0x40f80a][_0x4274b9(0x42e)](_0x5ec905);}async[a0_0x4087be(0x197)]({instanceName:_0x30a9c7},_0x5e7100){const _0x13fd07=a0_0x4087be;return await this[_0x13fd07(0x6db)]['waInstances'][_0x30a9c7][_0x13fd07(0x197)](_0x5e7100);}async[a0_0x4087be(0x216)]({instanceName:_0x38e1ec}){const _0x365e32=a0_0x4087be;return await this[_0x365e32(0x6db)][_0x365e32(0x3d5)][_0x38e1ec][_0x365e32(0x216)]();}async[a0_0x4087be(0x9d)]({instanceName:_0x1a8afc}){const _0x5f2927=a0_0x4087be;return await this[_0x5f2927(0x6db)][_0x5f2927(0x3d5)][_0x1a8afc][_0x5f2927(0x9d)]();}async[a0_0x4087be(0x379)]({instanceName:_0x575274}){const _0x25e2f5=a0_0x4087be;return await this['waMonitor'][_0x25e2f5(0x3d5)][_0x575274][_0x25e2f5(0x379)]();}async['updatePrivacySettings']({instanceName:_0x5b6828},_0x4711c8){const _0x28fb95=a0_0x4087be;return await this[_0x28fb95(0x6db)][_0x28fb95(0x3d5)][_0x5b6828][_0x28fb95(0x1cb)](_0x4711c8);}async[a0_0x4087be(0x1af)]({instanceName:_0x2dca93},_0x137775){const _0x3ad9ab=a0_0x4087be;return await this[_0x3ad9ab(0x6db)][_0x3ad9ab(0x3d5)][_0x2dca93][_0x3ad9ab(0x1af)](_0x137775[_0x3ad9ab(0x499)]);}async[a0_0x4087be(0x4b4)]({instanceName:_0x42480e},_0x9eb2ca){const _0x1d6409=a0_0x4087be;return await this['waMonitor'][_0x1d6409(0x3d5)][_0x42480e][_0x1d6409(0x4b4)](_0x9eb2ca[_0x1d6409(0x23a)]);}async[a0_0x4087be(0x416)]({instanceName:_0x119425},_0x34222a){const _0x473a4c=a0_0x4087be;return await this[_0x473a4c(0x6db)][_0x473a4c(0x3d5)][_0x119425]['updateProfileStatus'](_0x34222a[_0x473a4c(0x5bb)]);}async[a0_0x4087be(0x15d)]({instanceName:_0x4f5e80},_0x33a100){const _0x50c9a4=a0_0x4087be;return await this[_0x50c9a4(0x6db)]['waInstances'][_0x4f5e80]['updateProfilePicture'](_0x33a100['picture']);}async['removeProfilePicture']({instanceName:_0x53e47f},_0xba1ffd){const _0x54da16=a0_0x4087be;return await this['waMonitor'][_0x54da16(0x3d5)][_0x53e47f][_0x54da16(0x525)]();}},Ps=require(a0_0x4087be(0x596)),Wt=class c{constructor(_0x593c33,_0x38ceb7,_0x3880cf,_0x5da328,_0x54020c){const _0x30a483=a0_0x4087be;this[_0x30a483(0x6db)]=_0x593c33,this['configService']=_0x38ceb7,this[_0x30a483(0x702)]=_0x3880cf,this['eventEmitter']=_0x5da328,this[_0x30a483(0x40f)]=_0x54020c,this['logger']=new R(c[_0x30a483(0x23a)]);}async[a0_0x4087be(0x17d)]({instanceName:_0x2efaf3,apikey:_0x34468b,number:_0x4a6938,proxy:_0x2e9a1e=!0x0}){const _0x2f529b=a0_0x4087be;try{let _0x51ac55=new Se(this[_0x2f529b(0x23b)],this[_0x2f529b(0x247)],this['repository']);_0x51ac55['instanceName']=_0x2efaf3,this[_0x2f529b(0x6db)][_0x2f529b(0x3d5)][_0x51ac55[_0x2f529b(0x768)]]=_0x51ac55;let _0x4ef461={};_0x34468b?(await this[_0x2f529b(0x702)][_0x2f529b(0x42f)][_0x2f529b(0x435)]({'apikey':_0x34468b},_0x2efaf3),_0x4ef461[_0x2f529b(0x4ff)]=_0x34468b):_0x4ef461=await this[_0x2f529b(0x40f)][_0x2f529b(0x2fe)]({'instanceName':_0x51ac55['instanceName']});let _0x190d51;if(_0x4a6938){if(_0x190d51=await this[_0x2f529b(0xd6)](_0x4a6938),_0x190d51[_0x2f529b(0x20d)])throw new I(_0x190d51['error'][_0x2f529b(0x5e9)]());_0x4a6938=_0x190d51[_0x2f529b(0x499)];}let _0x3c2fb9;return await _0x51ac55[_0x2f529b(0xb4)](_0x4a6938),await(0x0,Ps['delay'])(0x7d0),_0x3c2fb9=_0x51ac55[_0x2f529b(0x755)],{'instance':{'instanceName':_0x51ac55[_0x2f529b(0x768)],'status':_0x2f529b(0x3b7)},'hash':_0x4ef461,'qrcode':_0x3c2fb9};}catch(_0x5144c5){throw this['logger']['error'](_0x5144c5),_0x5144c5;}}async[a0_0x4087be(0x5e7)]({instanceName:_0xe742de,number:_0x3cd13f=null}){const _0x38b146=a0_0x4087be;try{let _0x430330=this[_0x38b146(0x6db)][_0x38b146(0x3d5)][_0xe742de];switch(_0x430330?.[_0x38b146(0x509)]?.['state']){case _0x38b146(0x487):return await _0x430330[_0x38b146(0xb4)](_0x3cd13f),await(0x0,Ps[_0x38b146(0x445)])(0x7d0),_0x430330[_0x38b146(0x755)];case'connecting':return _0x430330[_0x38b146(0x755)];default:return await this[_0x38b146(0xd1)]({'instanceName':_0xe742de});}}catch(_0x1d0152){this['logger'][_0x38b146(0x603)](_0x1d0152);}}async['connectionState']({instanceName:_0x31d218}){const _0x12dfb7=a0_0x4087be;let _0x4f3561=this[_0x12dfb7(0x6db)][_0x12dfb7(0x3d5)][_0x31d218][_0x12dfb7(0x509)],_0x510b10=null;_0x4f3561[_0x12dfb7(0x1ee)]===_0x12dfb7(0x535)&&_0x31d218&&(_0x510b10=await this[_0x12dfb7(0x6db)][_0x12dfb7(0xc1)](_0x31d218));let _0x9a8e50=null;return _0x4f3561[_0x12dfb7(0x1ee)]==='connecting'&&_0x31d218&&(_0x9a8e50=this[_0x12dfb7(0x6db)][_0x12dfb7(0x3d5)][_0x31d218][_0x12dfb7(0x755)]),{'instance':_0x31d218,'connectionStatus':_0x4f3561,'instanceInfo':_0x510b10,'qrcode':_0x9a8e50};}async['verifyWhatsAppNumber'](_0x4a79b5){const _0x5f1886=a0_0x4087be;_0x4a79b5=_0x4a79b5[_0x5f1886(0x71c)](/\D/g,'');let _0x44e634=Object['keys'](this[_0x5f1886(0x6db)][_0x5f1886(0x3d5)])[_0x5f1886(0x4ba)](_0x2eb115=>{const _0x62bb87=_0x5f1886;let _0xc0a63f=this[_0x62bb87(0x6db)]['waInstances'][_0x2eb115];return _0xc0a63f&&_0xc0a63f['connectionStatus']&&_0xc0a63f[_0x62bb87(0x509)][_0x62bb87(0x1ee)]==='open';});if(_0x44e634[_0x5f1886(0x5b5)]===0x0)return{'number':this[_0x5f1886(0x122)](_0x4a79b5)};let _0x57141b=Math[_0x5f1886(0x206)](Math[_0x5f1886(0xba)]()*_0x44e634[_0x5f1886(0x5b5)]),_0x3a1766=_0x44e634[_0x57141b];try{let _0x40517a=(await this[_0x5f1886(0x6db)][_0x5f1886(0x3d5)][_0x3a1766][_0x5f1886(0x666)]({'numbers':[_0x4a79b5]}))[_0x5f1886(0x55c)]();return _0x40517a['exists']?{'number':_0x40517a[_0x5f1886(0x547)][_0x5f1886(0x71c)]('@s.whatsapp.net','')}:{'number':_0x4a79b5,'error':'Nmero\x20no\x20possui\x20WhatsApp.'};}catch(_0x51c6c7){return this[_0x5f1886(0x173)][_0x5f1886(0x20d)](_0x5f1886(0x6c4)+_0x51c6c7),{'number':_0x4a79b5,'error':'Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.'};}}[a0_0x4087be(0x122)](_0x89fac){let _0x3eb1aa=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x89fac);if(_0x3eb1aa&&_0x3eb1aa[0x1]==='55'){let _0x2387ff=_0x3eb1aa[0x2],_0x425993=_0x3eb1aa[0x3],_0x1969c8=_0x3eb1aa[0x4];if(parseInt(_0x2387ff)>=0x1f&&_0x425993==='9')return _0x3eb1aa[0x1]+_0x2387ff+_0x1969c8;}return _0x89fac;}async['restartInstance']({instanceName:_0x5cdddd}){const _0x5e35f5=a0_0x4087be;try{return this['waMonitor']['waInstances'][_0x5cdddd]?.[_0x5e35f5(0x400)]?.['ws']?.['close'](),{'status':_0x5e35f5(0x5f1),'error':!0x1,'response':{'message':_0x5e35f5(0x17e)}};}catch(_0x334b41){this['logger'][_0x5e35f5(0x20d)](_0x334b41);}}async[a0_0x4087be(0x367)]({instanceName:_0x29edc0}){const _0x3f356b=a0_0x4087be;return _0x29edc0?this[_0x3f356b(0x6db)][_0x3f356b(0xc1)](_0x29edc0):this['waMonitor'][_0x3f356b(0xc1)]();}async[a0_0x4087be(0x22f)]({instanceName:_0x478359}){const _0x1693b8=a0_0x4087be;try{return await this[_0x1693b8(0x6db)]['waInstances'][_0x478359]?.[_0x1693b8(0x400)]?.[_0x1693b8(0x22f)]('Log\x20out\x20instance:\x20'+_0x478359),{'error':!0x1,'message':_0x1693b8(0x360)};}catch(_0x2cbe4d){throw new I(_0x2cbe4d[_0x1693b8(0x5e9)]());}}async[a0_0x4087be(0x249)]({instanceName:_0x221411}){const _0x4ae740=a0_0x4087be;if((await this[_0x4ae740(0xd1)]({'instanceName':_0x221411}))[_0x4ae740(0x509)][_0x4ae740(0x1ee)]===_0x4ae740(0x535))throw new f([_0x4ae740(0x13d),_0x4ae740(0x756)]);try{return delete this[_0x4ae740(0x6db)][_0x4ae740(0x3d5)][_0x221411],{'error':!0x1,'message':_0x4ae740(0x552)};}catch(_0x469b71){throw new f(_0x469b71['toString']());}}},ee=require(a0_0x4087be(0x468)),zt=class{constructor(_0x6fad01){const _0x23b896=a0_0x4087be;this[_0x23b896(0x6db)]=_0x6fad01;}async[a0_0x4087be(0x42a)]({instanceName:_0xaefbf6},_0x2b1db2){const _0x24cb98=a0_0x4087be;return await this[_0x24cb98(0x6db)][_0x24cb98(0x3d5)][_0xaefbf6]['textMessage'](_0x2b1db2);}async[a0_0x4087be(0x37e)]({instanceName:_0x468df7},_0x5a310c){const _0x1f7564=a0_0x4087be;return await this[_0x1f7564(0x6db)][_0x1f7564(0x3d5)][_0x468df7][_0x1f7564(0x192)](_0x5a310c);}async[a0_0x4087be(0x273)]({instanceName:_0x404c35},_0x561c6d){const _0x335225=a0_0x4087be;if((0x0,ee['isBase64'])(_0x561c6d?.[_0x335225(0x2ab)]?.[_0x335225(0x2be)])&&!_0x561c6d?.[_0x335225(0x2ab)]?.[_0x335225(0x102)])throw new f(_0x335225(0x690));if((0x0,ee[_0x335225(0x682)])(_0x561c6d?.['mediaMessage']?.['media'])||(0x0,ee['isBase64'])(_0x561c6d?.[_0x335225(0x2ab)]?.[_0x335225(0x2be)]))return await this[_0x335225(0x6db)][_0x335225(0x3d5)][_0x404c35]['mediaMessage'](_0x561c6d);throw new f(_0x335225(0x766));}async['sendSticker']({instanceName:_0x20bd76},_0x362b11){const _0x562a34=a0_0x4087be;if((0x0,ee[_0x562a34(0x682)])(_0x362b11[_0x562a34(0x74e)]['image'])||(0x0,ee['isBase64'])(_0x362b11[_0x562a34(0x74e)]['image']))return await this[_0x562a34(0x6db)][_0x562a34(0x3d5)][_0x20bd76][_0x562a34(0x427)](_0x362b11);throw new f(_0x562a34(0x766));}async[a0_0x4087be(0x4cf)]({instanceName:_0x3b8879},_0x33b979){const _0x442a86=a0_0x4087be;if((0x0,ee[_0x442a86(0x682)])(_0x33b979[_0x442a86(0x3ac)][_0x442a86(0x84)])||(0x0,ee[_0x442a86(0x2b7)])(_0x33b979[_0x442a86(0x3ac)]['audio']))return await this[_0x442a86(0x6db)][_0x442a86(0x3d5)][_0x3b8879][_0x442a86(0x114)](_0x33b979);throw new f(_0x442a86(0x766));}async[a0_0x4087be(0x16f)]({instanceName:_0x14c29d},_0x1bea2b){const _0x4b311f=a0_0x4087be;if((0x0,ee[_0x4b311f(0x2b7)])(_0x1bea2b[_0x4b311f(0x2f8)]['mediaMessage']?.['media'])&&!_0x1bea2b[_0x4b311f(0x2f8)]['mediaMessage']?.[_0x4b311f(0x102)])throw new f('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0x4b311f(0x3d5)][_0x14c29d][_0x4b311f(0x2f8)](_0x1bea2b);}async[a0_0x4087be(0x28d)]({instanceName:_0x18ac57},_0x14b2ec){const _0x5732f4=a0_0x4087be;return await this[_0x5732f4(0x6db)][_0x5732f4(0x3d5)][_0x18ac57][_0x5732f4(0x373)](_0x14b2ec);}async[a0_0x4087be(0x70d)]({instanceName:_0x4a6b1a},_0x51bb51){const _0x3a02e2=a0_0x4087be;return await this[_0x3a02e2(0x6db)][_0x3a02e2(0x3d5)][_0x4a6b1a]['pollMessage'](_0x51bb51);}async[a0_0x4087be(0x138)]({instanceName:_0x887cbf},_0x5776a4){const _0x36a81a=a0_0x4087be;return await this[_0x36a81a(0x6db)][_0x36a81a(0x3d5)][_0x887cbf]['listMessage'](_0x5776a4);}async[a0_0x4087be(0x419)]({instanceName:_0x41d792},_0x1e37a9){const _0x4c6dff=a0_0x4087be;return await this[_0x4c6dff(0x6db)][_0x4c6dff(0x3d5)][_0x41d792][_0x4c6dff(0xa5)](_0x1e37a9);}async[a0_0x4087be(0x74a)]({instanceName:_0x57122a},_0x27f75b){const _0x7051ad=a0_0x4087be;if(!_0x27f75b[_0x7051ad(0x6be)][_0x7051ad(0x605)][_0x7051ad(0x358)](/[^\(\)\w\s-"-\+]+/))throw new f(_0x7051ad(0x4aa));return await this[_0x7051ad(0x6db)]['waInstances'][_0x57122a][_0x7051ad(0x6be)](_0x27f75b);}async[a0_0x4087be(0x18f)]({instanceName:_0x4124dc},_0x56fb82){const _0x498882=a0_0x4087be;return await this['waMonitor'][_0x498882(0x3d5)][_0x4124dc][_0x498882(0x3f8)](_0x56fb82);}},xr=require('jsonwebtoken'),ks=require('uuid'),Ht=class c{constructor(_0x31fd48,_0x1fb958,_0x1fefe0){const _0x590346=a0_0x4087be;this['configService']=_0x31fd48,this[_0x590346(0x6db)]=_0x1fb958,this[_0x590346(0x702)]=_0x1fefe0,this[_0x590346(0x173)]=new R(c[_0x590346(0x23a)]);}async[a0_0x4087be(0x5cb)](_0x28f172){const _0x5818fa=a0_0x4087be;let _0x2c45de=this[_0x5818fa(0x23b)][_0x5818fa(0x5e6)]('AUTHENTICATION')[_0x5818fa(0x13f)],_0x347f70=(0x0,xr[_0x5818fa(0x673)])({'instanceName':_0x28f172[_0x5818fa(0x768)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x2c45de[_0x5818fa(0x55d)],{'expiresIn':_0x2c45de[_0x5818fa(0x37a)],'encoding':'utf8','subject':_0x5818fa(0x184)}),_0xb04d69=await this[_0x5818fa(0x702)][_0x5818fa(0x42f)][_0x5818fa(0x435)]({'jwt':_0x347f70},_0x28f172[_0x5818fa(0x768)]);if(_0xb04d69[_0x5818fa(0x20d)])throw this[_0x5818fa(0x173)][_0x5818fa(0x20d)]({'localError':c['name']+'.jwt','error':_0xb04d69['error']}),new f('Authentication\x20error',_0xb04d69[_0x5818fa(0x20d)]?.['toString']());return{'jwt':_0x347f70};}async[a0_0x4087be(0x4ff)](_0x56b898){const _0x380882=a0_0x4087be;let _0x36cacf=(0x0,ks['v4'])()['toUpperCase'](),_0x1bde2a=await this[_0x380882(0x702)][_0x380882(0x42f)][_0x380882(0x435)]({'apikey':_0x36cacf},_0x56b898[_0x380882(0x768)]);if(_0x1bde2a[_0x380882(0x20d)])throw this[_0x380882(0x173)][_0x380882(0x20d)]({'localError':c[_0x380882(0x23a)]+_0x380882(0x27e),'error':_0x1bde2a['error']}),new f(_0x380882(0x4d7),_0x1bde2a[_0x380882(0x20d)]?.[_0x380882(0x5e9)]());return{'apikey':_0x36cacf};}async[a0_0x4087be(0x2fe)](_0x1ddf1f){const _0x16de83=a0_0x4087be;let _0xae37ca=this[_0x16de83(0x23b)][_0x16de83(0x5e6)](_0x16de83(0x693));return await this[_0xae37ca[_0x16de83(0x252)]](_0x1ddf1f);}},Kt=class{constructor(_0x1e081b){const _0x54768c=a0_0x4087be;this[_0x54768c(0x6db)]=_0x1e081b;}async['createGroup'](_0x2b613b,_0x2c3b63){const _0xf9a2a4=a0_0x4087be;return await this[_0xf9a2a4(0x6db)]['waInstances'][_0x2b613b[_0xf9a2a4(0x768)]]['createGroup'](_0x2c3b63);}async['updateGroupPicture'](_0x4549f5,_0xc396bb){const _0x2a2dcb=a0_0x4087be;return await this['waMonitor'][_0x2a2dcb(0x3d5)][_0x4549f5[_0x2a2dcb(0x768)]][_0x2a2dcb(0x2d8)](_0xc396bb);}async[a0_0x4087be(0x312)](_0x81006a,_0x2ff174){const _0x5eec46=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x81006a['instanceName']][_0x5eec46(0x312)](_0x2ff174);}async['groupName'](_0x58f258,_0x544464){const _0x34b6d8=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x58f258['instanceName']][_0x34b6d8(0xcb)](_0x544464);}async['groupBetterSetting'](_0x538be2,_0x26201e){const _0x221088=a0_0x4087be;return await this['waMonitor'][_0x221088(0x3d5)][_0x538be2['instanceName']][_0x221088(0x6d7)](_0x26201e);}async['groupSetting'](_0x41222d,_0x1c77b3){const _0x35ba7f=a0_0x4087be;return await this[_0x35ba7f(0x6db)][_0x35ba7f(0x3d5)][_0x41222d[_0x35ba7f(0x768)]][_0x35ba7f(0x730)](_0x1c77b3);}async[a0_0x4087be(0x12d)](_0x10670c,_0x89213f){const _0x4f7370=a0_0x4087be;return await this['waMonitor'][_0x4f7370(0x3d5)][_0x10670c[_0x4f7370(0x768)]][_0x4f7370(0x3c5)](_0x89213f);}async[a0_0x4087be(0x622)](_0x913609){const _0x3c3d02=a0_0x4087be;return await this[_0x3c3d02(0x6db)][_0x3c3d02(0x3d5)][_0x913609['instanceName']][_0x3c3d02(0x622)]();}async[a0_0x4087be(0x570)](_0x5ee05f,_0x35f14c){const _0x4a4ffb=a0_0x4087be;return await this['waMonitor'][_0x4a4ffb(0x3d5)][_0x5ee05f[_0x4a4ffb(0x768)]][_0x4a4ffb(0x570)](_0x35f14c);}async['joinGroup'](_0x349c40,_0x2f6d00){const _0x198c80=a0_0x4087be;return await this[_0x198c80(0x6db)][_0x198c80(0x3d5)][_0x349c40[_0x198c80(0x768)]][_0x198c80(0x718)](_0x2f6d00);}async[a0_0x4087be(0x37b)](_0x3c2d6a,_0x35e527){const _0x1587df=a0_0x4087be;return await this[_0x1587df(0x6db)][_0x1587df(0x3d5)][_0x3c2d6a[_0x1587df(0x768)]]['groupGetInviteInfo'](_0x35e527);}async[a0_0x4087be(0x3c0)](_0x3626bb,_0xaff078){const _0x3d63a7=a0_0x4087be;return await this['waMonitor'][_0x3d63a7(0x3d5)][_0x3626bb['instanceName']][_0x3d63a7(0x3c0)](_0xaff078);}async[a0_0x4087be(0x29b)](_0x40b6cf,_0x405b56){const _0x21d7aa=a0_0x4087be;return await this[_0x21d7aa(0x6db)][_0x21d7aa(0x3d5)][_0x40b6cf[_0x21d7aa(0x768)]][_0x21d7aa(0x29b)](_0x405b56);}async[a0_0x4087be(0x5c4)](_0x1d7415,_0x52203d){const _0x15d5e1=a0_0x4087be;return await this[_0x15d5e1(0x6db)]['waInstances'][_0x1d7415[_0x15d5e1(0x768)]][_0x15d5e1(0x133)](_0x52203d);}async[a0_0x4087be(0x742)](_0x12a809,_0x299ee5){const _0x530921=a0_0x4087be;return await this[_0x530921(0x6db)]['waInstances'][_0x12a809[_0x530921(0x768)]][_0x530921(0x742)](_0x299ee5);}async['leaveGroup'](_0x273b6f,_0x258fa8){const _0x598eb6=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x273b6f['instanceName']][_0x598eb6(0x6dc)](_0x258fa8);}},Qt=class{constructor(_0x2b6934){const _0xa2f0eb=a0_0x4087be;this[_0xa2f0eb(0x6db)]=_0x2b6934;}['create'](_0x437be8,_0x21a659){const _0x34c272=a0_0x4087be;return this[_0x34c272(0x6db)]['waInstances'][_0x437be8[_0x34c272(0x768)]][_0x34c272(0x56c)](_0x21a659);}async[a0_0x4087be(0x16d)](_0x51af94){const _0x289dbc=a0_0x4087be;try{return await this[_0x289dbc(0x6db)][_0x289dbc(0x3d5)][_0x51af94[_0x289dbc(0x768)]][_0x289dbc(0x25d)]();}catch{return{'enabled':null,'url':''};}}},Sp=new R('FlowController'),Yt=class{constructor(_0x1e1297){this['waMonitor']=_0x1e1297;}async[a0_0x4087be(0x2f9)](_0x4f8d6a,_0x16dcdd){const _0x2b2976=a0_0x4087be;return await this[_0x2b2976(0x6db)][_0x2b2976(0x3d5)][_0x4f8d6a[_0x2b2976(0x768)]][_0x2b2976(0x2f9)](_0x16dcdd);}async[a0_0x4087be(0x3d9)](_0x26151f){const _0x5ac220=a0_0x4087be;return await this[_0x5ac220(0x6db)][_0x5ac220(0x3d5)][_0x26151f[_0x5ac220(0x768)]][_0x5ac220(0x3d9)]();}async[a0_0x4087be(0x6ed)](_0x5b78e8){const _0x2ae194=a0_0x4087be;return await this[_0x2ae194(0x6db)]['waInstances'][_0x5b78e8['instanceName']][_0x2ae194(0x6ed)]();}async[a0_0x4087be(0x75a)](_0x3420fe){const _0x308fa5=a0_0x4087be;return await this[_0x308fa5(0x6db)][_0x308fa5(0x3d5)][_0x3420fe[_0x308fa5(0x768)]]['getAutomateSystem']();}async['updateAgent'](_0x4aab2d,_0x36f2d9){const _0x588911=a0_0x4087be;return await this[_0x588911(0x6db)][_0x588911(0x3d5)][_0x4aab2d[_0x588911(0x768)]]['updateAgent'](_0x36f2d9);}async[a0_0x4087be(0x172)](_0x458f97,_0x3b7cf6){const _0x25feea=a0_0x4087be;return await this[_0x25feea(0x6db)]['waInstances'][_0x458f97['instanceName']][_0x25feea(0x172)](_0x3b7cf6);}async[a0_0x4087be(0x16e)](_0x15803a,_0x59dd30){const _0x3af43b=a0_0x4087be;return await this['waMonitor'][_0x3af43b(0x3d5)][_0x15803a[_0x3af43b(0x768)]][_0x3af43b(0x16e)](_0x59dd30);}async[a0_0x4087be(0x684)](_0x2379ee,_0x1666b3){const _0x500068=a0_0x4087be;return await this[_0x500068(0x6db)][_0x500068(0x3d5)][_0x2379ee[_0x500068(0x768)]]['updateFlowConfig'](_0x1666b3);}async[a0_0x4087be(0x5ee)](_0x5e62ee,_0x16c65d){const _0x516bab=a0_0x4087be;return await this[_0x516bab(0x6db)]['waInstances'][_0x5e62ee['instanceName']][_0x516bab(0x5ee)](_0x16c65d);}async[a0_0x4087be(0x195)](_0x49bdce,_0x5d9a5e){const _0x437fdb=a0_0x4087be;return await this[_0x437fdb(0x6db)][_0x437fdb(0x3d5)][_0x49bdce[_0x437fdb(0x768)]][_0x437fdb(0x195)](_0x5d9a5e);}async[a0_0x4087be(0x58e)](_0x117134,_0x4ff931){const _0x14350a=a0_0x4087be;return await this[_0x14350a(0x6db)][_0x14350a(0x3d5)][_0x117134[_0x14350a(0x768)]][_0x14350a(0x58e)](_0x4ff931);}async['editConversation'](_0x4daade,_0x5d7d93){const _0x38204f=a0_0x4087be;return await this[_0x38204f(0x6db)]['waInstances'][_0x4daade['instanceName']]['editConversation'](_0x5d7d93);}async['deleteConversation'](_0x53021a,_0x470f56){const _0x51e510=a0_0x4087be;return await this[_0x51e510(0x6db)][_0x51e510(0x3d5)][_0x53021a['instanceName']][_0x51e510(0x3c4)](_0x470f56);}async[a0_0x4087be(0x762)](_0x49801f,_0x46d40f){const _0x5e4371=a0_0x4087be;return await this[_0x5e4371(0x6db)][_0x5e4371(0x3d5)][_0x49801f[_0x5e4371(0x768)]][_0x5e4371(0x762)](_0x46d40f[_0x5e4371(0x23a)]);}async[a0_0x4087be(0x44a)](_0x5daf28,_0x3cd7da){const _0x118b02=a0_0x4087be;return await this[_0x118b02(0x6db)][_0x118b02(0x3d5)][_0x5daf28[_0x118b02(0x768)]][_0x118b02(0x44a)](_0x3cd7da);}async[a0_0x4087be(0x338)](_0x5e30ec,_0x5180f7){const _0x55dbf8=a0_0x4087be;return await this['waMonitor'][_0x55dbf8(0x3d5)][_0x5e30ec[_0x55dbf8(0x768)]][_0x55dbf8(0x338)](_0x5180f7);}async[a0_0x4087be(0x61b)](_0x3cce5f,_0x4b0d6e){const _0x39f6c7=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x3cce5f[_0x39f6c7(0x768)]][_0x39f6c7(0x61b)](_0x4b0d6e);}async[a0_0x4087be(0xb2)](_0x1b9db5,_0x264aee){const _0x16ae3a=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x1b9db5[_0x16ae3a(0x768)]][_0x16ae3a(0xb2)](_0x264aee);}async[a0_0x4087be(0x573)](_0xb3e40a,_0x866281){const _0x27d0df=a0_0x4087be;return await this[_0x27d0df(0x6db)][_0x27d0df(0x3d5)][_0xb3e40a[_0x27d0df(0x768)]][_0x27d0df(0x573)](_0x866281);}async[a0_0x4087be(0x64d)](_0x40a51d,_0x2598c1){const _0x3bb5d3=a0_0x4087be;return await this[_0x3bb5d3(0x6db)][_0x3bb5d3(0x3d5)][_0x40a51d['instanceName']][_0x3bb5d3(0x64d)](_0x2598c1);}async[a0_0x4087be(0x32c)](_0xcd354c,_0x5e98d9){const _0x2174f5=a0_0x4087be;return await this['waMonitor']['waInstances'][_0xcd354c[_0x2174f5(0x768)]][_0x2174f5(0x32c)](_0x5e98d9);}async['editFlowVariable'](_0x2cf819,_0x49a8b5){const _0x31827e=a0_0x4087be;return await this['waMonitor']['waInstances'][_0x2cf819[_0x31827e(0x768)]]['editFlowVariable'](_0x49a8b5);}async[a0_0x4087be(0x5b2)](_0x44eeb0,_0x2beada){const _0x1c7472=a0_0x4087be;return await this[_0x1c7472(0x6db)][_0x1c7472(0x3d5)][_0x44eeb0[_0x1c7472(0x768)]][_0x1c7472(0x5b2)](_0x2beada[_0x1c7472(0x23a)]);}async[a0_0x4087be(0x728)](_0x2857dc){const _0x47d477=a0_0x4087be;return await this[_0x47d477(0x6db)][_0x47d477(0x3d5)][_0x2857dc['instanceName']]['allFlows']();}},Xt=class{constructor(_0x407bf3){const _0x1d119a=a0_0x4087be;this[_0x1d119a(0x299)]=_0x407bf3;}async[a0_0x4087be(0x73f)](_0x287440,_0x309704){return this['webhookService']['create'](_0x287440,_0x309704);}async[a0_0x4087be(0x25d)](_0x2f07ec){const _0x30e8ad=a0_0x4087be;return this[_0x30e8ad(0x299)][_0x30e8ad(0x16d)](_0x2f07ec);}},Zt=class extends x{constructor(_0x27e28e,_0x4181d7){const _0x3cc70c=a0_0x4087be;super(_0x4181d7),this[_0x3cc70c(0x341)]=_0x27e28e,this['configService']=_0x4181d7;}async[a0_0x4087be(0x435)](_0x405d72,_0x299ee9){const _0x1698fc=a0_0x4087be;try{return this[_0x1698fc(0x620)]['ENABLED']?{'insertCount':(await this['webhookModel'][_0x1698fc(0x530)]({'_id':_0x299ee9},{..._0x405d72},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x5ef798){return _0x5ef798;}}async['delete'](_0x4e0df2){const _0x14e0a4=a0_0x4087be;try{if(this['dbSettings'][_0x14e0a4(0x73a)]){await this[_0x14e0a4(0x341)][_0x14e0a4(0x300)]({'_id':_0x4e0df2});return;}}catch(_0x28259c){return{'error':_0x28259c};}}async['find'](_0x3ed686){const _0x2fc9c4=a0_0x4087be;try{if(this[_0x2fc9c4(0x620)][_0x2fc9c4(0x73a)])return await this['webhookModel'][_0x2fc9c4(0x1b0)]({'_id':_0x3ed686});}catch{return{};}}},es=class extends x{constructor(_0x35c2f3,_0x16ce7f){const _0x55cb75=a0_0x4087be;super(_0x16ce7f),this['authModel']=_0x35c2f3,this['configService']=_0x16ce7f,this[_0x55cb75(0x42f)]=_0x16ce7f[_0x55cb75(0x5e6)](_0x55cb75(0x693));}async[a0_0x4087be(0x435)](_0x2c6c87,_0x507e86){const _0x1cb9db=a0_0x4087be;try{if(this[_0x1cb9db(0x620)][_0x1cb9db(0x73a)])return{'insertCount':(await this[_0x1cb9db(0x2a0)][_0x1cb9db(0x506)]({'_id':_0x507e86},{'$set':{..._0x2c6c87}},{'upsert':!0x0}))[_0x1cb9db(0xac)]};}catch(_0x5ac857){return{'error':_0x5ac857};}}async[a0_0x4087be(0x520)](_0x4359dd,_0x3d97d6){const _0xac0e66=a0_0x4087be;try{if(this[_0xac0e66(0x620)]['ENABLED'])return{'insertCount':(await this[_0xac0e66(0x2a0)][_0xac0e66(0x99)](_0x4359dd,{'$set':_0x3d97d6},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x2ce9d3){return{'error':_0x2ce9d3};}}async[a0_0x4087be(0x241)](_0x50e2d3){const _0x49c373=a0_0x4087be;try{if(this[_0x49c373(0x620)][_0x49c373(0x73a)])return{'insertCount':(await this['authModel'][_0x49c373(0x241)](_0x50e2d3))[_0x49c373(0x6ef)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x4f8652){return{'error':_0x4f8652};}}async['delete'](_0x32e87e){const _0xcf2733=a0_0x4087be;try{if(this[_0xcf2733(0x620)][_0xcf2733(0x73a)]){await this[_0xcf2733(0x2a0)][_0xcf2733(0x300)]({'_id':_0x32e87e});return;}}catch(_0x402426){return{'error':_0x402426};}}async[a0_0x4087be(0x16d)](_0x204e16){const _0x1fe947=a0_0x4087be;try{if(this['dbSettings'][_0x1fe947(0x73a)])return await this[_0x1fe947(0x2a0)]['findOne']({'_id':_0x204e16});}catch{return{};}}async[a0_0x4087be(0xa8)](){const _0x3f31ea=a0_0x4087be;try{if(this[_0x3f31ea(0x620)][_0x3f31ea(0x73a)])return await this[_0x3f31ea(0x2a0)][_0x3f31ea(0x16d)]();}catch{return[];}}},ts=class extends x{[a0_0x4087be(0x6f8)](_0xe6cf03){return ga(_0xe6cf03);}async[a0_0x4087be(0x177)](_0x220192){const _0x301606=a0_0x4087be;try{let _0x39ca43=ma,_0x1d38bc=this[_0x301606(0x6f8)](_0x220192),_0x1ef773=await _0x39ca43[_0x301606(0x16d)]({'owner':_0x220192})[_0x301606(0x327)](),_0x3a6386=[],_0x814777=[];for(let _0x6af09e of _0x1ef773)await _0x1d38bc[_0x301606(0x1e6)](_0x6af09e[_0x301606(0x652)])[_0x301606(0x327)]()||(_0x3a6386[_0x301606(0x5af)](_0x6af09e),_0x814777['push'](_0x6af09e[_0x301606(0x652)]));return _0x3a6386['length']>0x0&&await _0x1d38bc[_0x301606(0x36a)](_0x3a6386,{'ordered':!0x1}),{'success':!0x0};}catch(_0x48b4f7){return console[_0x301606(0x20d)](_0x301606(0x5b4),_0x48b4f7),{'success':!0x1,'error':_0x48b4f7};}}async[a0_0x4087be(0x301)](_0x14a7aa,_0x453324){const _0x2146ca=a0_0x4087be;try{let _0x257c10=this['getFlowModelForOwner'](_0x453324),_0x1b186=A(_0x14a7aa[_0x2146ca(0x116)]);return{'deletedCount':(await _0x257c10[_0x2146ca(0x241)](_0x1b186))[_0x2146ca(0x6ef)]};}catch(_0x169c8b){return{'error':_0x169c8b?.[_0x2146ca(0x5e9)]()};}}async['deleteOne'](_0x207299,_0xc84266){const _0x43f084=a0_0x4087be;try{let _0x734d8=this[_0x43f084(0x6f8)](_0xc84266),_0x49cf96=A(_0x207299[_0x43f084(0x116)]);return{'deletedCount':(await _0x734d8[_0x43f084(0x300)](_0x49cf96))[_0x43f084(0x6ef)]};}catch(_0x3c2b6b){return{'error':_0x3c2b6b?.[_0x43f084(0x5e9)]()};}}async['replaceOne'](_0xf73fcf,_0x51e081,_0x18558f){const _0x5e4971=a0_0x4087be;try{let _0x54b6be=await this['getFlowModelForOwner'](_0x18558f)['findByIdAndUpdate'](_0xf73fcf,_0x51e081,{'overwrite':!0x0,'new':!0x0});return _0x54b6be||(console[_0x5e4971(0x20d)](_0x5e4971(0x266),_0xf73fcf),null);}catch(_0x511e80){return console['error'](_0x5e4971(0x72d),_0x511e80),null;}}async[a0_0x4087be(0x506)](_0x143442,_0xb98d15,_0x25282b){const _0x3835db=a0_0x4087be;try{let _0x143727=await this['getFlowModelForOwner'](_0x25282b)[_0x3835db(0x1e6)](_0x143442);return _0x143727?(Object[_0x3835db(0x6ba)](_0x143727,_0xb98d15),await _0x143727['save']()):(console[_0x3835db(0x20d)]('Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:',_0x143442),null);}catch(_0x2a7058){return console[_0x3835db(0x20d)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x2a7058),null;}}async[a0_0x4087be(0x2a5)](_0x5c8fce){const _0x50a24b=a0_0x4087be;try{let _0x3a8fe5=this[_0x50a24b(0x6f8)](_0x5c8fce),_0x7b0d21={'shareOwners':{'$exists':!0x1}},_0x598f46={'$set':{'shareOwners':[]}};return(await _0x3a8fe5[_0x50a24b(0x99)](_0x7b0d21,_0x598f46))[_0x50a24b(0xac)];}catch(_0x4b5132){return console['error'](_0x4b5132),0x0;}}async[a0_0x4087be(0x76d)](_0x1fca86,_0x3c2366){const _0x1a6ab7=a0_0x4087be;try{let _0x22a96e=this[_0x1a6ab7(0x6f8)](_0x3c2366);return await new _0x22a96e(_0x1fca86)['save']();}catch(_0xcb6af0){return console[_0x1a6ab7(0x20d)](_0x1a6ab7(0x3f4),_0xcb6af0),null;}}async['updateMany'](_0x53006d,_0x3e5d63,_0x476a4a){const _0x27a2b5=a0_0x4087be;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x476a4a)['updateMany'](_0x53006d,{'$set':_0x3e5d63}))[_0x27a2b5(0xac)]};}catch(_0x53c24b){return console[_0x27a2b5(0x20d)](_0x27a2b5(0x25e),_0x53c24b),{'error':_0x53c24b};}}async['findAll'](_0x429342,_0x5aedb2){const _0x53ad54=a0_0x4087be;try{let _0x403002=this[_0x53ad54(0x6f8)](_0x5aedb2),_0x52169f=A(_0x429342[_0x53ad54(0x116)]);return await _0x403002[_0x53ad54(0x16d)](_0x52169f)[_0x53ad54(0x9b)](_0x429342?.[_0x53ad54(0x9b)]??0x0)[_0x53ad54(0x327)]();}catch{return[];}}async[a0_0x4087be(0x1b0)](_0x2d2438,_0x5256bf){const _0xd868ae=a0_0x4087be;try{let _0x161408=this['getFlowModelForOwner'](_0x5256bf),_0x2a80b9=A(_0x2d2438[_0xd868ae(0x116)]);return await _0x161408[_0xd868ae(0x1b0)](_0x2a80b9)[_0xd868ae(0x327)]();}catch{return null;}}async[a0_0x4087be(0x597)](_0x55675a){const _0x39df5d=a0_0x4087be;try{return await this[_0x39df5d(0x6f8)](_0x55675a)[_0x39df5d(0x5cc)][_0x39df5d(0x420)](),{'success':!0x0};}catch(_0x4a70c9){return console['error'](_0x4a70c9),{'success':!0x1,'error':_0x4a70c9};}}},ss=class extends x{[a0_0x4087be(0x6bc)](_0x46e0bf){return wa(_0x46e0bf);}async[a0_0x4087be(0x177)](_0x2b3db5){const _0x3fbd95=a0_0x4087be;try{let _0x50d794=ya,_0x1354ce=this[_0x3fbd95(0x6bc)](_0x2b3db5),_0x4581b5=await _0x50d794[_0x3fbd95(0x16d)]({'owner':_0x2b3db5})['lean'](),_0x46e6a5=[],_0xbc98b=[];for(let _0x3cff0f of _0x4581b5)await _0x1354ce[_0x3fbd95(0x1e6)](_0x3cff0f[_0x3fbd95(0x652)])[_0x3fbd95(0x327)]()||(_0x46e6a5[_0x3fbd95(0x5af)](_0x3cff0f),_0xbc98b[_0x3fbd95(0x5af)](_0x3cff0f[_0x3fbd95(0x652)]));return _0x46e6a5[_0x3fbd95(0x5b5)]>0x0&&await _0x1354ce[_0x3fbd95(0x36a)](_0x46e6a5,{'ordered':!0x1}),{'success':!0x0};}catch(_0x139668){return console[_0x3fbd95(0x20d)](_0x3fbd95(0x5b4),_0x139668),{'success':!0x1,'error':_0x139668};}}async['insert'](_0x32c699){const _0x4c5918=a0_0x4087be;if(_0x32c699[_0x4c5918(0x5b5)]!==0x0)try{return{'insertCount':(await this[_0x4c5918(0x6bc)](_0x32c699[0x0][_0x4c5918(0x25f)])[_0x4c5918(0x36a)]([..._0x32c699]))[_0x4c5918(0x5b5)]};}catch(_0x420bf0){return _0x420bf0;}}async['delete'](_0x3c1b91,_0x1c8612){const _0x52e29c=a0_0x4087be;try{let _0x4af0b1=this[_0x52e29c(0x6bc)](_0x1c8612),_0x1c1f2c=A(_0x3c1b91[_0x52e29c(0x116)]);return{'deletedCount':(await _0x4af0b1[_0x52e29c(0x241)](_0x1c1f2c))['deletedCount']};}catch(_0x155e5a){return{'error':_0x155e5a?.[_0x52e29c(0x5e9)]()};}}async[a0_0x4087be(0x300)](_0x424e0f,_0x5e2610){const _0x3491ca=a0_0x4087be;try{let _0x58c767=this[_0x3491ca(0x6bc)](_0x5e2610),_0x17f9c1=A(_0x424e0f[_0x3491ca(0x116)]);return{'deletedCount':(await _0x58c767[_0x3491ca(0x300)](_0x17f9c1))[_0x3491ca(0x6ef)]};}catch(_0x46b1f0){return{'error':_0x46b1f0?.['toString']()};}}async[a0_0x4087be(0x15c)](_0x257c6d,_0x375a0d){const _0x10d4d4=a0_0x4087be;try{if(_0x257c6d[_0x10d4d4(0x5b5)]===0x0)return;let _0x4a5d79=this[_0x10d4d4(0x6bc)](_0x375a0d),_0x43be85=_0x257c6d[_0x10d4d4(0xaa)](_0x293711=>({'updateOne':{'filter':{'name':_0x293711[_0x10d4d4(0x23a)],'owner':_0x375a0d},'update':{..._0x293711}}})),{modifiedCount:_0xb668f2}=await _0x4a5d79['bulkWrite'](_0x43be85);return{'insertCount':_0xb668f2};}catch{return;}}async['updateMany'](_0x1275c9,_0x51df2b,_0x3fdd97){const _0xd11233=a0_0x4087be;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x3fdd97)[_0xd11233(0x99)](_0x1275c9,{'$set':_0x51df2b}))['modifiedCount']};}catch(_0x4f18ef){return console[_0xd11233(0x20d)](_0xd11233(0x317),_0x4f18ef),{'error':_0x4f18ef};}}async['updateOne'](_0xf426ac,_0x59826b,_0x45e2b8){const _0x49f3f2=a0_0x4087be;try{return await this[_0x49f3f2(0x6bc)](_0x45e2b8)['findOneAndUpdate']({'_id':_0xf426ac},{'$set':_0x59826b},{'new':!0x0,'upsert':!0x0})[_0x49f3f2(0x327)]();}catch(_0xc001d0){return console[_0x49f3f2(0x20d)](_0xc001d0),null;}}async[a0_0x4087be(0x16d)](_0x12e130,_0x21f9e5){const _0x46a13d=a0_0x4087be;try{return await this[_0x46a13d(0x6bc)](_0x21f9e5)[_0x46a13d(0x16d)](_0x12e130)[_0x46a13d(0x654)]({'lastInteraction':-0x1})[_0x46a13d(0x327)]();}catch{return[];}}async[a0_0x4087be(0x1b0)](_0x49422e,_0x5c7ad2){const _0xcbd476=a0_0x4087be;try{return await this[_0xcbd476(0x6bc)](_0x5c7ad2)['findOne']({..._0x49422e['where']})[_0xcbd476(0x327)]();}catch{return null;}}async[a0_0x4087be(0x597)](_0x112370){const _0x573a0a=a0_0x4087be;try{return await this[_0x573a0a(0x6bc)](_0x112370)[_0x573a0a(0x5cc)][_0x573a0a(0x420)](),{'success':!0x0};}catch(_0x279f9d){return console[_0x573a0a(0x20d)](_0x279f9d),{'success':!0x1,'error':_0x279f9d};}}},as=class extends x{[a0_0x4087be(0x350)](_0x54565b){return Sa(_0x54565b);}async[a0_0x4087be(0x177)](_0x4a1533){const _0x45edc2=a0_0x4087be;try{let _0x28f765=Ma,_0x25bd80=this['getScheduleMessageModelForOwner'](_0x4a1533),_0x4b914d=await _0x28f765[_0x45edc2(0x16d)]({'owner':_0x4a1533})[_0x45edc2(0x327)](),_0x321651=[],_0xa4bd51=[];for(let _0x137bc7 of _0x4b914d)await _0x25bd80[_0x45edc2(0x1e6)](_0x137bc7['_id'])[_0x45edc2(0x327)]()||(_0x321651['push'](_0x137bc7),_0xa4bd51['push'](_0x137bc7[_0x45edc2(0x652)]));return _0x321651[_0x45edc2(0x5b5)]>0x0&&await _0x25bd80[_0x45edc2(0x36a)](_0x321651,{'ordered':!0x1}),{'success':!0x0};}catch(_0x27560b){return console[_0x45edc2(0x20d)]('Erro\x20ao\x20copiar\x20dados:',_0x27560b),{'success':!0x1,'error':_0x27560b};}}async[a0_0x4087be(0x76d)](_0x584cd4,_0x2925f4){const _0x456e29=a0_0x4087be;try{let _0x5de7c7=this[_0x456e29(0x350)](_0x2925f4);return await new _0x5de7c7(_0x584cd4)['save']();}catch(_0x39b936){return console[_0x456e29(0x20d)](_0x456e29(0x3f4),_0x39b936),null;}}async[a0_0x4087be(0x300)](_0x4ac227,_0x10446a){const _0x1ca412=a0_0x4087be;try{return await this['getScheduleMessageModelForOwner'](_0x10446a)[_0x1ca412(0xd7)](_0x4ac227),{};}catch(_0x323ca2){return{'error':_0x323ca2?.[_0x1ca412(0x5e9)]()};}}async[a0_0x4087be(0x506)](_0x43d002,_0x50269e,_0x4a8a35){const _0x3d661c=a0_0x4087be;try{return await this[_0x3d661c(0x350)](_0x4a8a35)[_0x3d661c(0x23c)](_0x43d002,{'$set':_0x50269e},{'new':!0x0})[_0x3d661c(0x327)]();}catch(_0x48a090){return console[_0x3d661c(0x20d)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x48a090),null;}}async['updateOneById'](_0x25f04f,_0x32ef13,_0x3c804a){const _0x51ea4f=a0_0x4087be;try{return await this['getScheduleMessageModelForOwner'](_0x3c804a)[_0x51ea4f(0x1ad)](_0x25f04f,_0x32ef13,{'new':!0x0})[_0x51ea4f(0x327)]();}catch(_0x40e071){return console[_0x51ea4f(0x20d)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x40e071),null;}}async[a0_0x4087be(0x16d)](_0x2fa4af,_0x3de689){const _0xd5e6ee=a0_0x4087be;try{return await this[_0xd5e6ee(0x350)](_0x3de689)[_0xd5e6ee(0x16d)](_0x2fa4af[_0xd5e6ee(0x116)])[_0xd5e6ee(0x9b)](_0x2fa4af?.[_0xd5e6ee(0x9b)]??0x0)[_0xd5e6ee(0x654)]({'when':0x1})[_0xd5e6ee(0x327)]();}catch{return[];}}async[a0_0x4087be(0x1b0)](_0xcc3f4a,_0x32f6eb){const _0x5b0070=a0_0x4087be;try{return await this[_0x5b0070(0x350)](_0x32f6eb)[_0x5b0070(0x1b0)](_0xcc3f4a[_0x5b0070(0x116)])['sort']({'when':0x1})[_0x5b0070(0x327)]();}catch{return null;}}async[a0_0x4087be(0x1e6)](_0x1423dc,_0x254fa5){const _0x149e1a=a0_0x4087be;try{return await this['getScheduleMessageModelForOwner'](_0x254fa5)[_0x149e1a(0x1e6)](_0x1423dc)['lean']();}catch{return null;}}async[a0_0x4087be(0x241)](_0x31d46f,_0x5108e3){const _0x47958e=a0_0x4087be;try{return{'deletedCount':(await this[_0x47958e(0x350)](_0x5108e3)[_0x47958e(0x241)](_0x31d46f))['deletedCount']};}catch(_0x3ccf67){return console[_0x47958e(0x20d)](_0x47958e(0x572),_0x3ccf67),{'error':_0x3ccf67};}}async['deleteAll'](_0x2489b8){const _0xb07e52=a0_0x4087be;try{return await this[_0xb07e52(0x350)](_0x2489b8)[_0xb07e52(0x5cc)][_0xb07e52(0x420)](),{'success':!0x0};}catch(_0x148f70){return console[_0xb07e52(0x20d)](_0x148f70),{'success':!0x1,'error':_0x148f70};}}},rs=class extends x{async[a0_0x4087be(0x15c)](_0x4d5301,_0x3499a1){const _0x103084=a0_0x4087be;try{if(this[_0x103084(0x620)][_0x103084(0x73a)]){let _0x136619=await Ce[_0x103084(0x23c)]({'_id':_0x3499a1},{'$set':_0x4d5301},{'new':!0x0});return console[_0x103084(0x603)](_0x103084(0x23d),_0x136619),_0x136619;}}catch(_0x5afcc5){throw console['error'](_0x103084(0x4e5),_0x5afcc5),_0x5afcc5;}}async[a0_0x4087be(0x6ad)](_0x36ae63){const _0x40aa97=a0_0x4087be;try{let _0x4a8cd5=await Ce[_0x40aa97(0x1e6)](_0x36ae63);return _0x4a8cd5||(_0x4a8cd5=new Ce({'_id':_0x36ae63,'autoCompleteMessages':[]}),await _0x4a8cd5['save']()),_0x4a8cd5;}catch(_0x18d7c9){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x18d7c9),null;}}async[a0_0x4087be(0x99)](_0x347005,_0x5cefa2){const _0x5bc506=a0_0x4087be;try{if(this[_0x5bc506(0x620)][_0x5bc506(0x73a)]){let _0x346139=await Ce[_0x5bc506(0x99)](_0x347005,{'$set':_0x5cefa2})[_0x5bc506(0x600)]();return console[_0x5bc506(0x603)]('Resultado\x20da\x20atualizao\x20em\x20massa:',_0x346139),{'changes':_0x346139['modifiedCount']};}return{'changes':0x0};}catch(_0x5ec763){throw console[_0x5bc506(0x20d)]('Erro\x20ao\x20atualizar\x20mltiplos\x20AutomateSystem:',_0x5ec763),_0x5ec763;}}},xi=new R(a0_0x4087be(0x339)),Di=new Ve(b),_i=new qt(b),Pi=new st(b),ki=new Vt(ta,b),ji=new Zt(ca,b),Li=new es(ia,b),Fi=new ts(b),Ji=new Gt(b),Ui=new ss(b),qi=new as(b),Vi=new rs(b),ue=new Ue(Di,_i,Pi,ki,ji,Li,Fi,Ui,Ji,qi,Vi,T?.['getClient']()),G=new Ut(us,b,ue),Gi=new Ht(b,G,ue),Bi=new Qt(G),Es=new Xt(Bi),$=new Yt(G),ne=new Wt(G,b,ue,us,Gi),B=new zt(G),D=new Bt(G),q=new Kt(G);xi[a0_0x4087be(0x61d)](a0_0x4087be(0x754));var jh=require('express-async-errors'),js=require('fs'),Dr=O(require(a0_0x4087be(0x35a))),_r=O(require(a0_0x4087be(0x5bd))),$e=class c{static #e;static set['app'](_0x411541){this.#e=_0x411541;}static get['https'](){const _0x35cbcb=a0_0x4087be;let {FULLCHAIN:_0x2dd6da,PRIVKEY:_0xb7f455}=b[_0x35cbcb(0x5e6)](_0x35cbcb(0x491));return Dr[_0x35cbcb(0xb0)]({'cert':(0x0,js[_0x35cbcb(0x3f9)])(_0x2dd6da),'key':(0x0,js[_0x35cbcb(0x3f9)])(_0xb7f455)},c.#e);}static get['http'](){const _0x19a051=a0_0x4087be;return _r[_0x19a051(0xb0)](c.#e);}},pe=O(require('fs')),Jr=O(require(a0_0x4087be(0x52e))),Ie=O(require(a0_0x4087be(0x44e))),De=O(require(a0_0x4087be(0x582))),_e=require('child_process');function Wi(){const _0x204d53=a0_0x4087be;G['loadInstance']();let _0x402697=De[_0x204d53(0x164)][_0x204d53(0x76e)](__dirname,_0x204d53(0x656));Fr(_0x402697);}var Fr=_0x2f5aa4=>{const _0x47224c=a0_0x4087be;let _0xefc93=pe['default'][_0x47224c(0x1a4)](_0x2f5aa4),_0x479e89=0xc*0x3c*0x3c*0x3e8,_0x1fb9be=0x2*0x3c*0x3c*0x3e8,_0x4ee737=new Date()[_0x47224c(0x5d0)]();_0xefc93[_0x47224c(0x4e3)](_0x5cbdc5=>{const _0x58fab5=_0x47224c;let _0x2bc0a9=De[_0x58fab5(0x164)][_0x58fab5(0x76e)](_0x2f5aa4,_0x5cbdc5),_0x4cc3ee=pe[_0x58fab5(0x164)]['statSync'](_0x2bc0a9)[_0x58fab5(0x4d4)][_0x58fab5(0x5d0)]();_0x4ee737-_0x4cc3ee>_0x479e89&&(pe['default'][_0x58fab5(0xf1)](_0x2bc0a9),console[_0x58fab5(0x603)](_0x58fab5(0x522)+_0x5cbdc5));}),setTimeout(()=>Fr(_0x2f5aa4),_0x1fb9be);};function zi(){const _0xcea9fc=a0_0x4087be;let _0x4129c8=new R(_0xcea9fc(0x246)),_0x2b8897=(0x0,he[_0xcea9fc(0x164)])();_0x2b8897[_0xcea9fc(0x4c6)]((0x0,Lr[_0xcea9fc(0x164)])({'origin'(_0x2576cb,_0x595ffd){const _0xcd449f=_0xcea9fc;let {ORIGIN:_0x53da37}=b['get'](_0xcd449f(0x79));return _0x2576cb||(_0x2576cb='*'),_0x53da37[_0xcd449f(0x2aa)]('*')!==-0x1||_0x53da37[_0xcd449f(0x2aa)](_0x2576cb)!==-0x1?_0x595ffd(null,!0x0):_0x595ffd(new Error(_0xcd449f(0x765)));},'methods':[...b[_0xcea9fc(0x5e6)](_0xcea9fc(0x79))['METHODS']],'credentials':b['get'](_0xcea9fc(0x79))[_0xcea9fc(0x22d)]}),(0x0,he[_0xcea9fc(0x49a)])({'extended':!0x0,'limit':_0xcea9fc(0x4ed)}),(0x0,he[_0xcea9fc(0x4ce)])({'limit':'50mb'})),_0x2b8897[_0xcea9fc(0x4c6)]((_0x3a8dea,_0x1fff33,_0x35970a)=>{const _0x52cb6b=_0xcea9fc;_0x3a8dea['path'][_0x52cb6b(0x6e3)](_0x52cb6b(0x559))?_0x35970a():(0x0,jr[_0x52cb6b(0x164)])()(_0x3a8dea,_0x1fff33,_0x35970a);}),_0x2b8897[_0xcea9fc(0x154)](_0xcea9fc(0x743),_0xcea9fc(0x2dc)),_0x2b8897[_0xcea9fc(0x154)](_0xcea9fc(0x451),(0x0,Fs[_0xcea9fc(0x76e)])(oe,'views')),_0x2b8897[_0xcea9fc(0x4c6)](he['default'][_0xcea9fc(0x405)]((0x0,Fs[_0xcea9fc(0x76e)])(oe,_0xcea9fc(0x29c)))),_0x2b8897[_0xcea9fc(0x4c6)]((_0x4ffe98,_0x1c2d3b,_0x503a0a)=>{const _0x34abf0=_0xcea9fc;let _0x4ea6e0=_0x1c2d3b['send'];_0x1c2d3b[_0x34abf0(0x280)]=function(_0x3bc081){const _0x278bd7=_0x34abf0;if(_0x4ffe98[_0x278bd7(0x272)][_0x278bd7(0x3bc)]===_0x278bd7(0x5d3)||_0x4ffe98['headers']['uazapi']===_0x278bd7(0x5d3)){let _0x5157c1=JSON[_0x278bd7(0x31f)](_0x3bc081);_0x3bc081=JSON[_0x278bd7(0x28a)](_0x4ff8e4(_0x5157c1));}return _0x4ea6e0[_0x278bd7(0x24b)](_0x1c2d3b,[_0x3bc081]);},_0x503a0a();}),_0x2b8897[_0xcea9fc(0x4c6)]('/',$t),_0x2b8897[_0xcea9fc(0x4c6)]((_0x337b0f,_0x382940,_0x1da8f0,_0x5c44c1)=>{const _0x3c88f6=_0xcea9fc;if(_0x337b0f)return _0x1da8f0[_0x3c88f6(0x5bb)](_0x337b0f[_0x3c88f6(0x5bb)]||0x1f4)[_0x3c88f6(0x4ce)](_0x337b0f);},(_0x5d3ae2,_0x41cfdc,_0x2bc4de)=>{const _0x3089dd=_0xcea9fc;let {method:_0x21cc2d,url:_0x44bcf9}=_0x5d3ae2;_0x41cfdc['status'](0x194)[_0x3089dd(0x4ce)]({'status':0x194,'message':_0x3089dd(0x43e)+_0x21cc2d[_0x3089dd(0x703)]()+'\x20'+_0x44bcf9,'error':_0x3089dd(0x50b)}),_0x2bc4de();});let _0x4ff8e4=(_0x405812,_0x298ecc=_0xcea9fc(0x6a2))=>{const _0x3481a6=_0xcea9fc;let _0x1c16f8=(_0x17d1a0,_0x4bff22=null,_0xf6a4c1=!0x1)=>{const _0x17de92=a0_0x1cc1;let _0x34521b={};return Object['keys'](_0x17d1a0)[_0x17de92(0x4e3)](_0x444824=>{const _0x3034d2=_0x17de92;let _0xac02d4=_0x17d1a0[_0x444824],_0x30982f=''+_0x298ecc+_0x444824;_0x4bff22&&!_0xf6a4c1&&(_0x30982f=_0x4bff22+'.'+_0x444824),!_0xac02d4&&_0xac02d4!==0x0&&_0xac02d4!==!0x1||typeof _0xac02d4>'u'?_0x34521b[_0x30982f]=null:typeof _0xac02d4!=_0x3034d2(0x157)&&!Array['isArray'](_0xac02d4)?_0x34521b[_0x30982f]=_0xac02d4:typeof _0xac02d4==_0x3034d2(0x157)&&!Array[_0x3034d2(0x14b)](_0xac02d4)?_0x34521b=Object[_0x3034d2(0x6ba)](_0x34521b,_0x1c16f8(_0xac02d4,_0x30982f)):Array[_0x3034d2(0x14b)](_0xac02d4)&&(typeof _0xac02d4[0x0]==_0x3034d2(0x157)?(_0x34521b[_0x30982f]=[],_0xac02d4[_0x3034d2(0x4e3)](_0x539e85=>{const _0x3fbdb3=_0x3034d2;_0x34521b[_0x30982f][_0x3fbdb3(0x5af)](_0x1c16f8(_0x539e85,_0x30982f,!0x0));})):_0x34521b[_0x30982f]=_0xac02d4);}),_0x34521b;};return Array[_0x3481a6(0x14b)](_0x405812)?_0x405812[_0x3481a6(0xaa)](_0x3fb130=>_0x1c16f8(_0x3fb130)):typeof _0x405812==_0x3481a6(0x157)&&_0x405812!==null?_0x1c16f8(_0x405812):{};},_0x5624f3=b[_0xcea9fc(0x5e6)](_0xcea9fc(0x246));$e[_0xcea9fc(0x562)]=_0x2b8897;let _0x398ade=$e[_0x5624f3[_0xcea9fc(0x252)]],_0x30d4ee=_0xcea9fc(0x6b7);_0x398ade['listen'](_0x5624f3[_0xcea9fc(0x65e)],()=>{const _0x4d34d0=_0xcea9fc;_0x4129c8[_0x4d34d0(0x603)](_0x30d4ee),_0x4129c8[_0x4d34d0(0x603)](_0x5624f3[_0x4d34d0(0x252)][_0x4d34d0(0x703)]()+_0x4d34d0(0x5ed)+_0x5624f3[_0x4d34d0(0x65e)]);}),Wi(),Ks();}var Hi=a0_0x4087be(0x575),Ki=De[a0_0x4087be(0x164)][a0_0x4087be(0x76e)](__dirname,a0_0x4087be(0x12a)),xe=null;function Qi(){return new Promise((_0x4ab233,_0x53c09f)=>{const _0x2ac954=a0_0x1cc1;pe['default']['readFile'](Ki,_0x2ac954(0x76a),(_0x8401f0,_0x4d21d5)=>{const _0x246633=_0x2ac954;if(_0x8401f0){xe=_0x8401f0,_0x4ab233();return;}Jr[_0x246633(0x164)]['parse'](_0x4d21d5)[_0x246633(0x1d7)][_0x246633(0x321)]===Hi?(xe=null,_0x4ab233()):(xe=new Error(_0x246633(0x3ad)),_0x4ab233());});});}async function Yi(){const _0x5e500c=a0_0x4087be;try{await Qi(),await Js();}catch(_0x182616){console['error'](_0x5e500c(0x3dc)+_0x182616),process[_0x5e500c(0x1f9)](0x1);}}Yi();async function Ur(){const _0x39e4e9=a0_0x4087be;let _0x20a53e;try{_0x20a53e=(await Ie[_0x39e4e9(0x164)][_0x39e4e9(0x5e6)](_0x39e4e9(0x481)))['data']['ip'];}catch(_0x13c60a){console[_0x39e4e9(0x20d)](_0x13c60a);try{_0x20a53e=(await Ie[_0x39e4e9(0x164)][_0x39e4e9(0x5e6)](_0x39e4e9(0x86)))[_0x39e4e9(0x109)]['ip'];}catch(_0x24528d){console[_0x39e4e9(0x20d)](_0x24528d);try{_0x20a53e=(await Ie['default'][_0x39e4e9(0x5e6)](_0x39e4e9(0x389)))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x403568){return console[_0x39e4e9(0x20d)](_0x403568),!0x1;}}}return _0x20a53e;}var Pr=0x0;async function Xi(){const _0x393396=a0_0x4087be;let _0x57ffba=await new ce(b[_0x393396(0x5e6)](_0x393396(0xa7)))['instanceKeys']();return console[_0x393396(0x603)](_0x393396(0x7c),_0x57ffba[_0x393396(0x5b5)]),_0x57ffba['length'];}function Zi(_0x451362){const _0x1a9186=a0_0x4087be;let _0x50387a=_0x451362[_0x1a9186(0x5e6)](_0x1a9186(0x246))[_0x1a9186(0x397)],_0x5da736=_0x451362[_0x1a9186(0x5e6)](_0x1a9186(0x491)),_0x23e9d0;if(_0x50387a){let _0x4ee029=_0x50387a[_0x1a9186(0x358)](/\/\/(.*?)\./);_0x4ee029&&_0x4ee029[0x1]&&(_0x23e9d0=_0x4ee029[0x1]);}if(!_0x23e9d0&&_0x5da736&&_0x5da736[_0x1a9186(0x568)]){let _0x16c5b9=_0x5da736['FULLCHAIN'][_0x1a9186(0x2f1)]('/'),_0x501799=_0x16c5b9[_0x16c5b9[_0x1a9186(0x5b5)]-0x2];if(_0x501799){let _0x3255b9=_0x501799[_0x1a9186(0x2f1)]('.');_0x3255b9['length']>0x2&&(_0x23e9d0=_0x3255b9[0x0]);}}return _0x23e9d0;}var _s=Zi(b);async function eo(){const _0x37d1a6=a0_0x4087be;let _0x48ce1c=b[_0x37d1a6(0x5e6)](_0x37d1a6(0xa7)),_0x59e350=b['get'](_0x37d1a6(0x693))['API_KEY']['KEY'],_0x18d8cc=b[_0x37d1a6(0x5e6)](_0x37d1a6(0x491)),_0x1b09b7=await Ur(),_0x4e0fda=b[_0x37d1a6(0x5e6)]('SERVER')[_0x37d1a6(0x65e)],_0x52fe73=b[_0x37d1a6(0x5e6)](_0x37d1a6(0x246))['URL'];try{let _0x532de2={'ip':_0x1b09b7||null,'redis_enable':_0x48ce1c?.[_0x37d1a6(0x73a)]||null,'apikey':_0x59e350||null,'ssl':_0x18d8cc?.[_0x37d1a6(0x2ce)]||null,'lastupdate':qr||null,'port':_0x4e0fda||null,'gitInstallError':xe?.[_0x37d1a6(0x5a0)]||null,'url':_0x52fe73||null};if(console[_0x37d1a6(0x603)](_0x37d1a6(0x760),_0x532de2['ip']),_0x48ce1c&&_0x48ce1c['ENABLED']){let _0x33c7c2=await Xi();_0x532de2[_0x37d1a6(0x429)]=_0x33c7c2||null;}for(let _0x1f3a06 in _0x532de2)_0x532de2[_0x37d1a6(0x131)](_0x1f3a06)&&_0x1f3a06!=='ip'&&(_0x532de2[_0x1f3a06]=JSON[_0x37d1a6(0x28a)](_0x532de2[_0x1f3a06]));return(await Ie[_0x37d1a6(0x164)][_0x37d1a6(0x36f)](_0x37d1a6(0x63d),_0x532de2))[_0x37d1a6(0x109)];}catch(_0x221e9a){return console[_0x37d1a6(0x20d)](_0x221e9a),!0x1;}}var Ls=!0x1,qr=0x23b,to=0x3,kr=0x1b7740;async function Js(){const _0xba53ce=a0_0x4087be;if(!await Ur())return console[_0xba53ce(0x20d)](_0xba53ce(0x569)),_0xba53ce(0x2b3);let _0x4af062=await eo();if(_0x4af062){if(_0x4af062[_0xba53ce(0x215)]['licenca']===!0x0){let _0x4c8d87=b[_0xba53ce(0x5e6)]('SSL_CONF'),_0x3c48e8=b['get'](_0xba53ce(0x246))[_0xba53ce(0x397)];_0x4c8d87&&_0x4c8d87?.['PRIVKEY']?.[_0xba53ce(0x83)](_0xba53ce(0xe6))&&_0x4af062[_0xba53ce(0x215)]['subdomain']&&!_0x3c48e8&&(await ro(_0x4af062['response']['subdomain'],ao),await io('augusto.fcs@gmail.com',_0x4af062[_0xba53ce(0x215)][_0xba53ce(0x467)]),console[_0xba53ce(0x603)](_0xba53ce(0x2b5)),setTimeout(()=>no(),0x2710)),xe===null&&_0x4af062[_0xba53ce(0x215)][_0xba53ce(0x75d)]-qr>0x0&&await so(),Ls||(Ls=!0x0,zi());let _0x26b894=0x24*0x3c*0x3c,_0x2e0c06=_0x4af062[_0xba53ce(0x215)][_0xba53ce(0x40d)]>_0x26b894?_0x26b894:_0x4af062[_0xba53ce(0x215)][_0xba53ce(0x40d)],_0x2047f2=Number(_0x2e0c06);if(isNaN(_0x2047f2)){console[_0xba53ce(0x20d)](_0xba53ce(0x1d4));return;}let _0x40aca2=Math[_0xba53ce(0x206)](_0x2047f2/0xe10),_0x316ef3=Math['floor'](_0x2047f2%0xe10/0x3c),_0x604911=new Date(Date['now']()+_0x2047f2*0x3e8);setTimeout(Js,_0x2047f2*0x3e8);let _0x4a4bd4=_0x117b23=>_0x117b23['toString']()[_0xba53ce(0x6ab)](0x2,'0'),_0xc1aa42=_0xba53ce(0x3d6)+_0x4a4bd4(_0x40aca2)+'\x20horas\x20e\x20'+_0x4a4bd4(_0x316ef3)+_0xba53ce(0x53f)+_0x4a4bd4(_0x604911['getHours']())+':'+_0x4a4bd4(_0x604911[_0xba53ce(0x4f4)]())+'.';console[_0xba53ce(0x603)](_0xc1aa42);}else return console[_0xba53ce(0x603)](_0xba53ce(0x2b2)),Ls&&(console['log'](_0xba53ce(0x48c)),process[_0xba53ce(0x1f9)]()),_0xba53ce(0x48e);}else{if(Pr++,Pr<to)console[_0xba53ce(0x603)](_0xba53ce(0x36c)+kr/0xea60+_0xba53ce(0x264)),setTimeout(Js,kr);else return console[_0xba53ce(0x20d)](_0xba53ce(0xd2)),'SERVER_OFFLINE';}}async function so(){const _0x4dcc0c=a0_0x4087be;console[_0x4dcc0c(0x603)]('Parando\x20aplicao,\x20atualizao\x20recebida');let _0xde1bf0=(0x0,_e[_0x4dcc0c(0x5c5)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0xde1bf0[_0x4dcc0c(0x4d1)]['on'](_0x4dcc0c(0x109),_0x5014c8=>{const _0x19b8cf=_0x4dcc0c;console['log'](_0x19b8cf(0x68c)+_0x5014c8);}),_0xde1bf0[_0x4dcc0c(0x378)]['on']('data',_0x28f598=>{const _0x194826=_0x4dcc0c;console[_0x194826(0x20d)](_0x194826(0x646)+_0x28f598);}),_0xde1bf0['on'](_0x4dcc0c(0x1f9),_0x3de511=>{const _0x3e5dfe=_0x4dcc0c;_0x3de511!==0x0?console[_0x3e5dfe(0x20d)](_0x3e5dfe(0x1a5)+_0x3de511):console[_0x3e5dfe(0x603)](_0x3e5dfe(0x658)),console[_0x3e5dfe(0x603)]('Parando\x20aplicao...'),setTimeout(()=>process['exit'](),0x2710);});}var ao=De[a0_0x4087be(0x164)][a0_0x4087be(0x76e)](__dirname,a0_0x4087be(0x4d0));async function ro(_0x42f90e,_0x46a145){const _0x4b9f2c=a0_0x4087be;let _0x52a903=oo();_0x42f90e=_0x42f90e[_0x4b9f2c(0x71c)]('.uazapi.dev','');try{let _0x36621a=pe[_0x4b9f2c(0x164)][_0x4b9f2c(0x3f9)](_0x46a145,_0x4b9f2c(0x1c0));_0x36621a=_0x36621a['replace'](/<apikey>/,_0x52a903),_0x36621a=_0x36621a[_0x4b9f2c(0x71c)](/<subdomain>/g,_0x42f90e),pe['default'][_0x4b9f2c(0xf9)](_0x46a145,_0x36621a,'utf8'),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x557f3c){console[_0x4b9f2c(0x20d)](_0x4b9f2c(0x74c),_0x557f3c);}}function io(_0x46080e,_0x2eaf49){return new Promise((_0x4de16f,_0x36eb52)=>{const _0x11cfbc=a0_0x1cc1;let _0x3aaf68=(0x0,_e[_0x11cfbc(0x5c5)])(_0x11cfbc(0x38b),[_0x11cfbc(0x316),_0x11cfbc(0x71e),'-m',_0x46080e,_0x11cfbc(0x45c),'-d',_0x2eaf49]);_0x3aaf68[_0x11cfbc(0x4d1)]['on'](_0x11cfbc(0x109),_0x667a10=>{const _0x5580a1=_0x11cfbc;console[_0x5580a1(0x603)]('Certbot:\x20'+_0x667a10['toString']());}),_0x3aaf68['stderr']['on']('data',_0x31a6b0=>{const _0x344ef0=_0x11cfbc;console[_0x344ef0(0x20d)](_0x344ef0(0xf5)+_0x31a6b0[_0x344ef0(0x5e9)]());}),_0x3aaf68['on']('close',_0x59c1dc=>{const _0x3c6e5d=_0x11cfbc;_0x59c1dc!==0x0?(console['error'](_0x3c6e5d(0x585)+_0x59c1dc),_0x36eb52(_0x3c6e5d(0x585)+_0x59c1dc)):(console[_0x3c6e5d(0x603)](_0x3c6e5d(0x5b6)),_0x4de16f());});});}function oo(_0x3aa2e8=0x32){const _0xf62791=a0_0x4087be;let _0x394128='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x57bc6f='';for(let _0x5a8302=0x0;_0x5a8302<_0x3aa2e8;_0x5a8302++)_0x57bc6f+=_0x394128['charAt'](Math[_0xf62791(0x206)](Math['random']()*_0x394128[_0xf62791(0x5b5)]));return _0x57bc6f;}function no(){const _0x1f11ea=a0_0x4087be;(0x0,_e[_0x1f11ea(0x600)])('shutdown\x20-r\x20now',(_0x1f0011,_0x5c73eb,_0x5ccabf)=>{const _0x490f50=_0x1f11ea;if(_0x1f0011){console['error'](_0x490f50(0x628)+_0x1f0011);return;}if(_0x5ccabf){console[_0x490f50(0x20d)](_0x490f50(0x3c7)+_0x5ccabf);return;}console[_0x490f50(0x603)](_0x490f50(0x50d)+_0x5c73eb);});}0x0&&(module[a0_0x4087be(0x692)]={'subdomain':subdomain});