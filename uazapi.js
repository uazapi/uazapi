const a0_0x50dea5=a0_0x4934;(function(_0x1b354d,_0x550490){const _0x524917=a0_0x4934,_0x2c2e8d=_0x1b354d();while(!![]){try{const _0x294dfd=parseInt(_0x524917(0x428))/0x1*(parseInt(_0x524917(0x383))/0x2)+-parseInt(_0x524917(0x4c6))/0x3*(-parseInt(_0x524917(0x625))/0x4)+-parseInt(_0x524917(0x306))/0x5*(-parseInt(_0x524917(0x327))/0x6)+-parseInt(_0x524917(0x614))/0x7+parseInt(_0x524917(0x2dc))/0x8+parseInt(_0x524917(0x4ab))/0x9*(-parseInt(_0x524917(0x62b))/0xa)+-parseInt(_0x524917(0x69a))/0xb;if(_0x294dfd===_0x550490)break;else _0x2c2e8d['push'](_0x2c2e8d['shift']());}catch(_0x6c3755){_0x2c2e8d['push'](_0x2c2e8d['shift']());}}}(a0_0x47f4,0xd361c));var Br=Object[a0_0x50dea5(0x39c)],_e=Object[a0_0x50dea5(0x51d)],Gr=Object[a0_0x50dea5(0x65a)],Wr=Object['getOwnPropertyNames'],zr=Object['getPrototypeOf'],Hr=Object[a0_0x50dea5(0x488)]['hasOwnProperty'],Kr=(_0x241354,_0xc8f8aa)=>{for(var _0x258624 in _0xc8f8aa)_e(_0x241354,_0x258624,{'get':_0xc8f8aa[_0x258624],'enumerable':!0x0});},Js=(_0x1522cc,_0x14e338,_0x4752e9,_0x3172df)=>{const _0x5b4d79=a0_0x50dea5;if(_0x14e338&&typeof _0x14e338==_0x5b4d79(0x471)||typeof _0x14e338==_0x5b4d79(0x596)){for(let _0x1d8c03 of Wr(_0x14e338))!Hr['call'](_0x1522cc,_0x1d8c03)&&_0x1d8c03!==_0x4752e9&&_e(_0x1522cc,_0x1d8c03,{'get':()=>_0x14e338[_0x1d8c03],'enumerable':!(_0x3172df=Gr(_0x14e338,_0x1d8c03))||_0x3172df[_0x5b4d79(0xe9)]});}return _0x1522cc;},T=(_0x47e43c,_0x9628b9,_0x4aebe8)=>(_0x4aebe8=_0x47e43c!=null?Br(zr(_0x47e43c)):{},Js(_0x9628b9||!_0x47e43c||!_0x47e43c['__esModule']?_e(_0x4aebe8,a0_0x50dea5(0x378),{'value':_0x47e43c,'enumerable':!0x0}):_0x4aebe8,_0x47e43c)),Qr=_0x362910=>Js(_e({},a0_0x50dea5(0x798),{'value':!0x0}),_0x362910),io={};Kr(io,{'subdomain':()=>_s}),module[a0_0x50dea5(0x2bf)]=Qr(io);var Lr=T(require('compression')),Vs=require('fs'),Bs=require(a0_0x50dea5(0x32d)),Gs=require(a0_0x50dea5(0x5ee)),Pe=require(a0_0x50dea5(0x5ee)),ie=process[a0_0x50dea5(0x745)](),ge=(0x0,Pe[a0_0x50dea5(0x243)])(ie,a0_0x50dea5(0x19a)),qs=(0x0,Pe['join'])(ie,a0_0x50dea5(0x602)),Xo=(0x0,Pe[a0_0x50dea5(0x243)])(ie,a0_0x50dea5(0x540),a0_0x50dea5(0x438)),ns=class{constructor(){const _0x2e31fc=a0_0x50dea5;this[_0x2e31fc(0x719)]();}[a0_0x50dea5(0x42a)](_0xccc295){return this['env'][_0xccc295];}[a0_0x50dea5(0x719)](){const _0x39dc71=a0_0x50dea5;this['env']=process[_0x39dc71(0x170)]?.[_0x39dc71(0x6ea)]!==_0x39dc71(0x54a)?this[_0x39dc71(0x14a)]():this[_0x39dc71(0x25a)](),process[_0x39dc71(0x170)]?.[_0x39dc71(0x6ea)]===_0x39dc71(0x54a)&&(this['env']['SERVER'][_0x39dc71(0x2ed)]='http',this[_0x39dc71(0x170)][_0x39dc71(0x1d1)][_0x39dc71(0xdc)]=Number[_0x39dc71(0x251)](process[_0x39dc71(0x170)]?.[_0x39dc71(0x774)]??_0x39dc71(0x50d)));}[a0_0x50dea5(0x14a)](){const _0x2a854b=a0_0x50dea5;return(0x0,Bs[_0x2a854b(0x44d)])((0x0,Vs[_0x2a854b(0x3b7)])((0x0,Gs['join'])(qs,'../env.yml'),{'encoding':_0x2a854b(0x2b6)}));}[a0_0x50dea5(0x25a)](){const _0x3a01c1=a0_0x50dea5;return{'SERVER':{'TYPE':process[_0x3a01c1(0x170)][_0x3a01c1(0x25e)],'PORT':Number[_0x3a01c1(0x251)](process[_0x3a01c1(0x170)][_0x3a01c1(0x774)]),'URL':process[_0x3a01c1(0x170)][_0x3a01c1(0x126)]},'CORS':{'ORIGIN':process[_0x3a01c1(0x170)][_0x3a01c1(0x610)][_0x3a01c1(0x531)](','),'METHODS':process[_0x3a01c1(0x170)][_0x3a01c1(0x29c)][_0x3a01c1(0x531)](','),'CREDENTIALS':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x4b0)]===_0x3a01c1(0x54a)},'SSL_CONF':{'PRIVKEY':process[_0x3a01c1(0x170)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x1e7)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3a01c1(0x696)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x3a01c1(0x251)](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x3a01c1(0x170)]?.['STORE_MESSAGE']===_0x3a01c1(0x54a),'CONTACTS':process[_0x3a01c1(0x170)]?.['STORE_CONTACTS']==='true','CHATS':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x474)]===_0x3a01c1(0x54a)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x3a01c1(0x173)],'PORT':Number[_0x3a01c1(0x251)](process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x173)]),'USER':process[_0x3a01c1(0x170)][_0x3a01c1(0x2e8)],'PASSWORD':process[_0x3a01c1(0x170)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x3a01c1(0x376)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x1b9)]===_0x3a01c1(0x54a)},'REDIS':{'ENABLED':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x3c4)]===_0x3a01c1(0x54a),'URI':process[_0x3a01c1(0x170)][_0x3a01c1(0x2d7)]||_0x3a01c1(0x706),'PREFIX_KEY':process[_0x3a01c1(0x170)][_0x3a01c1(0x646)]||_0x3a01c1(0x348)},'LOG':{'LEVEL':process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x1d9)][_0x3a01c1(0x531)](','),'COLOR':process[_0x3a01c1(0x170)]?.['LOG_COLOR']==='true'},'PROXY':Number['parseInt'](process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x47c)]),'AUTHENTICATION':{'TYPE':process[_0x3a01c1(0x170)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x3a01c1(0x170)][_0x3a01c1(0x7b2)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x3a01c1(0x170)]?.[_0x3a01c1(0x1d3)])?Number[_0x3a01c1(0x251)](process['env'][_0x3a01c1(0x1d3)]):0xe10,'SECRET':process[_0x3a01c1(0x170)][_0x3a01c1(0x36e)]}}};}},b=new ns(),jr=T(require(a0_0x50dea5(0x332))),he=T(require(a0_0x50dea5(0x512))),Fs=require('path'),cs=T(require(a0_0x50dea5(0x43d))),ls=(_0x9fbc37=>(_0x9fbc37[a0_0x50dea5(0x2f5)]=a0_0x50dea5(0x17e),_0x9fbc37[a0_0x50dea5(0x1aa)]=a0_0x50dea5(0x26c),_0x9fbc37[a0_0x50dea5(0x204)]='\x1b[33m',_0x9fbc37[a0_0x50dea5(0x6f3)]=a0_0x50dea5(0x184),_0x9fbc37[a0_0x50dea5(0x5f8)]='\x1b[36m',_0x9fbc37[a0_0x50dea5(0x1cb)]=a0_0x50dea5(0x375),_0x9fbc37[a0_0x50dea5(0x1bc)]=a0_0x50dea5(0x6c6),_0x9fbc37))(ls||{}),Ws=(_0x42cd5a=>(_0x42cd5a[a0_0x50dea5(0x2f5)]='\x1b[32m%s\x1b[0m',_0x42cd5a[a0_0x50dea5(0x1bc)]='\x1b[30m%s\x1b[0m',_0x42cd5a[a0_0x50dea5(0x1aa)]=a0_0x50dea5(0x76d),_0x42cd5a[a0_0x50dea5(0x204)]=a0_0x50dea5(0x5a9),_0x42cd5a['ERROR']=a0_0x50dea5(0x57f),_0x42cd5a[a0_0x50dea5(0x5f8)]=a0_0x50dea5(0xe0),_0x42cd5a[a0_0x50dea5(0x1cb)]=a0_0x50dea5(0x2e7),_0x42cd5a))(Ws||{}),zs=(_0x597324=>(_0x597324[a0_0x50dea5(0x2f5)]=a0_0x50dea5(0x2f5),_0x597324[a0_0x50dea5(0x204)]='WARN',_0x597324[a0_0x50dea5(0x1aa)]=a0_0x50dea5(0x1aa),_0x597324['DARK']=a0_0x50dea5(0x1bc),_0x597324['ERROR']=a0_0x50dea5(0x6f3),_0x597324[a0_0x50dea5(0x5f8)]=a0_0x50dea5(0x5f8),_0x597324['VERBOSE']=a0_0x50dea5(0x1cb),_0x597324))(zs||{}),Hs=(_0xb87617=>(_0xb87617['LOG']=a0_0x50dea5(0x203),_0xb87617[a0_0x50dea5(0x1aa)]=a0_0x50dea5(0x61b),_0xb87617['WARN']=a0_0x50dea5(0x128),_0xb87617[a0_0x50dea5(0x1bc)]=a0_0x50dea5(0x308),_0xb87617[a0_0x50dea5(0x6f3)]=a0_0x50dea5(0x2b3),_0xb87617[a0_0x50dea5(0x5f8)]=a0_0x50dea5(0x3c5),_0xb87617[a0_0x50dea5(0x1cb)]=a0_0x50dea5(0x496),_0xb87617))(Hs||{}),N=class{constructor(_0x58b6b8=a0_0x50dea5(0x5eb)){const _0x4a64ff=a0_0x50dea5;this[_0x4a64ff(0x60a)]=_0x58b6b8,this['configService']=b;}[a0_0x50dea5(0x653)](_0x494ccf){this['context']=_0x494ccf;}['console'](_0x58d72f,_0x71e0a){const _0x56dbee=a0_0x50dea5;let _0x1e7471=[];this['configService'][_0x56dbee(0x42a)](_0x56dbee(0x2f5))[_0x56dbee(0x5dc)][_0x56dbee(0x163)](_0x471189=>_0x1e7471[_0x56dbee(0x112)](zs[_0x471189]));let _0x5aaecb=typeof _0x58d72f;_0x1e7471[_0x56dbee(0x58a)](_0x71e0a)&&(b[_0x56dbee(0x42a)]('LOG')['COLOR']?(console[_0x56dbee(0x1b3)]('\x1b[1m'+Ws[_0x71e0a],_0x56dbee(0x3d3),(0x0,cs[_0x56dbee(0x378)])()[_0x56dbee(0x674)](_0x56dbee(0x339)),_0x56dbee(0x530),ls[_0x71e0a]+Hs[_0x71e0a]+_0x56dbee(0x57b),_0x71e0a+_0x56dbee(0x4e8),_0x56dbee(0x38d),this[_0x56dbee(0x60a)]+_0x56dbee(0x530),ls[_0x71e0a],_0x5aaecb!==_0x56dbee(0x471)?_0x58d72f:'',_0x56dbee(0x530)),_0x5aaecb===_0x56dbee(0x471)&&console[_0x56dbee(0x1b3)](_0x58d72f,'\x0a')):console[_0x56dbee(0x1b3)]((0x0,cs[_0x56dbee(0x378)])()[_0x56dbee(0x674)](_0x56dbee(0x2d3)),_0x71e0a+'\x20',''+this[_0x56dbee(0x60a)],_0x58d72f));}[a0_0x50dea5(0x1b3)](_0x40bc69){const _0x1bab5a=a0_0x50dea5;this[_0x1bab5a(0x359)](_0x40bc69,_0x1bab5a(0x2f5));}[a0_0x50dea5(0x43e)](_0x519e98){const _0x6c42b5=a0_0x50dea5;this['console'](_0x519e98,_0x6c42b5(0x1aa));}[a0_0x50dea5(0x7a5)](_0x11c381){const _0x2f465b=a0_0x50dea5;this[_0x2f465b(0x359)](_0x11c381,'WARN');}[a0_0x50dea5(0x190)](_0x9cd920){const _0x56c1fe=a0_0x50dea5;this[_0x56c1fe(0x359)](_0x9cd920,_0x56c1fe(0x6f3));}[a0_0x50dea5(0x1f5)](_0x340cad){const _0x5baf45=a0_0x50dea5;this[_0x5baf45(0x359)](_0x340cad,_0x5baf45(0x1cb));}[a0_0x50dea5(0xeb)](_0xaca0b9){const _0x3a200b=a0_0x50dea5;this[_0x3a200b(0x359)](_0xaca0b9,_0x3a200b(0x5f8));}[a0_0x50dea5(0x2bc)](_0x4cf54d){const _0x19a932=a0_0x50dea5;this[_0x19a932(0x359)](_0x4cf54d,_0x19a932(0x1bc));}};function Ks(){const _0x3978c0=a0_0x50dea5;process['on']('uncaughtException',(_0x35a05d,_0x441312)=>{const _0x29408d=a0_0x4934;new N(_0x29408d(0x5bc))[_0x29408d(0x190)]({'origin':_0x441312,'stderr':process[_0x29408d(0x349)]['fd'],'error':_0x35a05d});}),process['on'](_0x3978c0(0x6ff),(_0x14a291,_0x69ae4a)=>{const _0x41a965=_0x3978c0;new N(_0x41a965(0x6ff))[_0x41a965(0x190)]({'origin':_0x69ae4a,'stderr':process[_0x41a965(0x349)]['fd'],'error':_0x14a291});});}var Qs=T(require('eventemitter2')),us=new Qs[(a0_0x50dea5(0x378))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require(a0_0x50dea5(0x722)),Se=T(require(a0_0x50dea5(0x722))),ke=new N(a0_0x50dea5(0x75f)),L=b[a0_0x50dea5(0x42a)](a0_0x50dea5(0x366)),R=L['ENABLED']?L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x117)]?Se[a0_0x50dea5(0x378)]['createConnection'](L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x117)],{'dbName':L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x6a4)]+a0_0x50dea5(0x2f9)}):Se[a0_0x50dea5(0x378)][a0_0x50dea5(0xde)](a0_0x50dea5(0x394)+L['CONNECTION'][a0_0x50dea5(0x794)]+':'+L[a0_0x50dea5(0x70f)][a0_0x50dea5(0xdc)]+a0_0x50dea5(0x431),{'user':L['CONNECTION'][a0_0x50dea5(0x448)],'pass':L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x249)],'dbName':L['CONNECTION'][a0_0x50dea5(0x6a4)]+a0_0x50dea5(0x2f9)}):null;L[a0_0x50dea5(0x73b)]&&ke[a0_0x50dea5(0x43e)](a0_0x50dea5(0x75a)+R['$dbName']);var me=L[a0_0x50dea5(0x73b)]?L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x117)]?Se['default'][a0_0x50dea5(0xde)](L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x117)],{'dbName':a0_0x50dea5(0x18e)}):Se[a0_0x50dea5(0x378)]['createConnection']('mongodb://'+L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x794)]+':'+L[a0_0x50dea5(0x70f)]['PORT']+a0_0x50dea5(0x431),{'user':L['CONNECTION'][a0_0x50dea5(0x448)],'pass':L[a0_0x50dea5(0x70f)][a0_0x50dea5(0x249)],'dbName':'cachedContacts-whatsapp'}):null;me&&ke[a0_0x50dea5(0x43e)](a0_0x50dea5(0x75a)+me[a0_0x50dea5(0x724)]),process['on']('beforeExit',()=>{const _0x6a9ed8=a0_0x50dea5;R&&R[_0x6a9ed8(0x450)](()=>{const _0x4d5e83=_0x6a9ed8;ke[_0x4d5e83(0x43e)](_0x4d5e83(0xec));}),me&&me[_0x6a9ed8(0x450)](()=>{const _0x58690c=_0x6a9ed8;ke[_0x58690c(0x43e)](_0x58690c(0x769));});});var Yr=new Le[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x50dea5(0x511))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x3732c4=>{const _0x5a0913=a0_0x50dea5;let _0x30e8ca='z_'+_0x3732c4+_0x5a0913(0x3d2);return R?.[_0x5a0913(0x3c3)](_0x5a0913(0x770),Zr,_0x30e8ca);},Xs=require(a0_0x50dea5(0x722)),ei=new Xs[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x4d6869=>{const _0x78385d=a0_0x50dea5;let _0x50bcae='z_'+_0x4d6869+_0x78385d(0x733);return R?.[_0x78385d(0x3c3)](_0x78385d(0x1ac),ei,_0x50bcae);},ea=require(a0_0x50dea5(0x722)),ds=class{},ti=new ea[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x50dea5(0x3c3)](ds[a0_0x50dea5(0x213)],ti,a0_0x50dea5(0x1f1)),sa=require(a0_0x50dea5(0x722)),si=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x17a0dd=>{const _0x12ad95=a0_0x50dea5;let _0x328ba3='z_'+_0x17a0dd+'_Messages';return R?.[_0x12ad95(0x3c3)](_0x12ad95(0x768),si,_0x328ba3);},ra=require(a0_0x50dea5(0x722)),ps=class{},ai=new ra[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=R?.[a0_0x50dea5(0x3c3)](ps[a0_0x50dea5(0x213)],ai,a0_0x50dea5(0x713)),oa=require(a0_0x50dea5(0x722)),hs=class{},na=new oa[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x50dea5(0x236)]('save',function(_0x1a18ba){const _0x3bf773=a0_0x50dea5;delete this[_0x3bf773(0x4c2)],delete this[_0x3bf773(0x630)],delete this[_0x3bf773(0x3e5)],delete this[_0x3bf773(0x61e)],delete this[_0x3bf773(0x59a)],_0x1a18ba();});var ca=R?.[a0_0x50dea5(0x3c3)](hs[a0_0x50dea5(0x213)],na,a0_0x50dea5(0x1b0)),j=require(a0_0x50dea5(0x722)),la=require(a0_0x50dea5(0x68b)),je=class{},ua=new j['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new j[(a0_0x50dea5(0x511))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new j[(a0_0x50dea5(0x511))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x50dea5(0x1fe)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x50dea5(0x778)},'pollErrorMessage':{'type':String,'default':a0_0x50dea5(0x2a7)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new j['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new j['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new j[(a0_0x50dea5(0x511))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new j[(a0_0x50dea5(0x511))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new j['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ha=new j[(a0_0x50dea5(0x511))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Fe=new j['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1dd84c=a0_0x50dea5;return'!cmd_'+Math['random']()[_0x1dd84c(0x4b1)](0x24)[_0x1dd84c(0x73d)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Fe[a0_0x50dea5(0x236)]('save',function(_0x89451e){const _0x2bdf25=a0_0x50dea5;let _0xe86bb4=new Set(),_0x37d03a=new Set(this[_0x2bdf25(0x482)]?.[_0x2bdf25(0x298)](_0x5426e4=>_0x5426e4[_0x2bdf25(0x213)])),_0x5e6366=JSON[_0x2bdf25(0x581)](this),_0x56f6e8=/{{(?!_)([^}]*)}}/g,_0x45987e;for(;(_0x45987e=_0x56f6e8['exec'](_0x5e6366))!==null;)_0x37d03a['has'](_0x45987e[0x1])||_0xe86bb4[_0x2bdf25(0x20e)](_0x45987e[0x1]);_0xe86bb4['size']>0x0?(console[_0x2bdf25(0x7a5)](_0x2bdf25(0x735),Array['from'](_0xe86bb4)),this[_0x2bdf25(0x22a)]=Array[_0x2bdf25(0x462)](_0xe86bb4)):this['variablesNotFound']=[],_0x89451e();}),Fe[a0_0x50dea5(0x236)](a0_0x50dea5(0x527),function(_0x4796d4){const _0x2be12f=a0_0x50dea5;let _0x53437f=this[_0x2be12f(0x3a9)]();if(_0x53437f&&typeof _0x53437f==_0x2be12f(0x471)&&_0x2be12f(0x229)in _0x53437f){let _0x1f3536=_0x53437f[_0x2be12f(0x229)];if(_0x1f3536){let _0x3df50b=new Set(),_0x4d7351=new Set(_0x1f3536[_0x2be12f(0x482)]?.[_0x2be12f(0x298)](_0x57823b=>_0x57823b[_0x2be12f(0x213)])),_0x52ce9d=JSON[_0x2be12f(0x581)](_0x1f3536),_0x40b4ed=/{{(?!_)([^}]*)}}/g,_0x141a52;for(;(_0x141a52=_0x40b4ed[_0x2be12f(0x310)](_0x52ce9d))!==null;)_0x4d7351[_0x2be12f(0x2c0)](_0x141a52[0x1])||_0x3df50b[_0x2be12f(0x20e)](_0x141a52[0x1]);_0x3df50b['size']>0x0?(console[_0x2be12f(0x7a5)](_0x2be12f(0x735),Array[_0x2be12f(0x462)](_0x3df50b)),_0x1f3536[_0x2be12f(0x22a)]=Array[_0x2be12f(0x462)](_0x3df50b)):_0x1f3536[_0x2be12f(0x22a)]=[],this[_0x2be12f(0x330)]({'$set':_0x1f3536});}}_0x4796d4();});function a0_0x4934(_0x522044,_0x58cd49){const _0x47f4d0=a0_0x47f4();return a0_0x4934=function(_0x4934fb,_0x27752c){_0x4934fb=_0x4934fb-0xcc;let _0x47b396=_0x47f4d0[_0x4934fb];return _0x47b396;},a0_0x4934(_0x522044,_0x58cd49);}var ga=_0x587a40=>{const _0x58aa59=a0_0x50dea5;let _0x576a2e='z_'+_0x587a40+'_Flows';return R?.['model'](_0x58aa59(0x1b8),Fe,_0x576a2e);},ma=R?.[a0_0x50dea5(0x3c3)](ms[a0_0x50dea5(0x213)],Fe,a0_0x50dea5(0x34b)),ni=new j[(a0_0x50dea5(0x511))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),fs=class{},fa=new j[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x50dea5(0x6a3)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x50dea5(0x778)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x3ea14f=>{const _0x321967=a0_0x50dea5;let _0x5c53b1='z_'+_0x3ea14f+_0x321967(0x504);return R?.[_0x321967(0x3c3)](_0x321967(0x157),fa,_0x5c53b1);},ya=R?.['model'](fs['name'],fa,a0_0x50dea5(0x750)),ws=class{},ci=new j[(a0_0x50dea5(0x511))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new j[(a0_0x50dea5(0x511))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new j['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x50dea5(0x71e)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x3946ef=>{const _0x46a5fa=a0_0x50dea5;let _0x42703c='z_'+_0x3946ef+_0x46a5fa(0x5b7);return R?.[_0x46a5fa(0x3c3)](_0x46a5fa(0x357),ba,_0x42703c);},Ma=R?.[a0_0x50dea5(0x3c3)](ws[a0_0x50dea5(0x213)],ba,a0_0x50dea5(0x331)),ys=class{},ui=new j[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new j[(a0_0x50dea5(0x511))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x50dea5(0x5c7)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new j['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new j[(a0_0x50dea5(0x511))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=R?.[a0_0x50dea5(0x3c3)](ys[a0_0x50dea5(0x213)],hi,a0_0x50dea5(0x55d)),Ca=require('mongoose'),gi=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0xb6ba71=>{const _0x422e2f=a0_0x50dea5;let _0x483b8f='z_'+_0xb6ba71+_0x422e2f(0x716);return R?.[_0x422e2f(0x3c3)]('LabelModel',gi,_0x483b8f);},x=class{constructor(_0x25e028){const _0x471527=a0_0x50dea5;this[_0x471527(0x4c5)]=_0x25e028[_0x471527(0x42a)]('DATABASE');}};function $(_0xf98bc2){const _0x451fca=a0_0x50dea5;let _0x212d68={};for(let [_0x9edf70,_0x3407a7]of Object[_0x451fca(0x273)](_0xf98bc2))if(typeof _0x3407a7==_0x451fca(0x471)&&!Array[_0x451fca(0x483)](_0x3407a7)){for(let [_0x28fd21,_0x1a2b05]of Object[_0x451fca(0x273)](_0x3407a7))_0x212d68[_0x9edf70+'.'+_0x28fd21]=_0x1a2b05;}else _0x212d68[_0x9edf70]=_0x3407a7;return _0x212d68;}var Je=class{constructor(_0xb5c155,_0x42d5cd,_0xff713d,_0xfa6f5f,_0x1e4faf,_0x5b8a31,_0x384a1c,_0x84f3b2,_0x47eb9d,_0x5ad28a,_0x107800,_0x53ba99){const _0x5a5bfc=a0_0x50dea5;this[_0x5a5bfc(0x47f)]=_0xb5c155,this[_0x5a5bfc(0x30d)]=_0x42d5cd,this['contact']=_0xff713d,this[_0x5a5bfc(0x180)]=_0xfa6f5f,this[_0x5a5bfc(0x1b0)]=_0x1e4faf,this[_0x5a5bfc(0x438)]=_0x5b8a31,this[_0x5a5bfc(0x34b)]=_0x384a1c,this['flowConversation']=_0x84f3b2,this[_0x5a5bfc(0x773)]=_0x47eb9d,this[_0x5a5bfc(0x13e)]=_0x5ad28a,this[_0x5a5bfc(0x3b8)]=_0x107800,this[_0x5a5bfc(0x354)]=_0x53ba99;}get['dbServer'](){const _0x338c38=a0_0x50dea5;return this[_0x338c38(0x354)];}},qe=class{},Ve=class extends x{[a0_0x50dea5(0x417)](_0x3c1cdb){return aa(_0x3c1cdb);}async[a0_0x50dea5(0x557)](_0x4c0a2b,_0x4a3756){const _0x5e2f93=a0_0x50dea5;if(_0x4c0a2b[_0x5e2f93(0x6a9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5e2f93(0x417)](_0x4a3756)[_0x5e2f93(0x5b8)]([..._0x4c0a2b]))[_0x5e2f93(0x6a9)]};}catch(_0x424f6e){return _0x424f6e;}}async[a0_0x50dea5(0x3d9)](_0x3ed101,_0x26f13d){const _0x48a522=a0_0x50dea5;try{let _0x188a78=this[_0x48a522(0x417)](_0x26f13d),_0xeb7898=$(_0x3ed101[_0x48a522(0x4bb)]);return await _0x188a78['find'](_0xeb7898)[_0x48a522(0x34e)]({'messageTimestamp':-0x1})[_0x48a522(0x1f3)](_0x3ed101?.[_0x48a522(0x1f3)]??0x0)['lean']();}catch{return[];}}async[a0_0x50dea5(0x2ca)](_0x5bcd59,_0x1944ab){const _0x290a66=a0_0x50dea5;try{let _0x2a6477=this[_0x290a66(0x417)](_0x1944ab),_0x267faf=$(_0x5bcd59['where']);await _0x2a6477[_0x290a66(0xce)](_0x267faf);}catch(_0x232302){console['error'](_0x232302);}}async[a0_0x50dea5(0x760)](_0x2dd0d2,_0x4e5095,_0x2a91bf){const _0x9af7b3=a0_0x50dea5;try{let _0x3781ac=this[_0x9af7b3(0x417)](_0x2a91bf),_0x1698eb=$(_0x2dd0d2[_0x9af7b3(0x4bb)]);return await _0x3781ac['findOneAndUpdate'](_0x1698eb,{'$set':_0x4e5095},{'new':!0x0});}catch(_0x33523b){throw console[_0x9af7b3(0x190)](_0x33523b),_0x33523b;}}async['insertMany'](_0x1531ac,_0x54ee43){const _0x24a6d4=a0_0x50dea5;if(_0x1531ac[_0x24a6d4(0x6a9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x24a6d4(0x417)](_0x54ee43)[_0x24a6d4(0x5b8)]([..._0x1531ac]))['length']};}catch(_0x554e67){return console[_0x24a6d4(0x1b3)](_0x24a6d4(0x5ac),_0x554e67),_0x554e67;}}async['deleteAll'](_0x1dcb29){const _0x3b6738=a0_0x50dea5;try{return await this[_0x3b6738(0x417)](_0x1dcb29)['collection'][_0x3b6738(0x5cf)](),{'success':!0x0};}catch(_0x52ef1a){return console[_0x3b6738(0x190)](_0x52ef1a),{'success':!0x1,'error':_0x52ef1a};}}},$s=T(require('@ffmpeg-installer/ffmpeg')),f=T(require(a0_0x50dea5(0x37c))),Re=require('fs'),U=T(require(a0_0x50dea5(0x5ee))),K=T(require(a0_0x50dea5(0x587))),Tr=require('uuid'),$r=T(require(a0_0x50dea5(0x6ce))),Ar=T(require(a0_0x50dea5(0xd7))),va=[a0_0x50dea5(0x54e),'documentMessage',a0_0x50dea5(0x3ea),a0_0x50dea5(0x146),a0_0x50dea5(0x3cc)],Na=['ephemeralMessage',a0_0x50dea5(0x183),a0_0x50dea5(0x4d0),'viewOnceMessageV2'],As=require('os'),Pt=T(require(a0_0x50dea5(0x5c1))),Oe=require(a0_0x50dea5(0x401)),kt=require('node-mime-types'),le=T(require(a0_0x50dea5(0x722))),_=require(a0_0x50dea5(0x1f8)),fe=class{constructor(_0xf26472,_0x14a9aa,_0x448ba5){const _0x326f32=a0_0x50dea5;this[_0x326f32(0x20a)]=_0xf26472,this['exists']=_0x14a9aa,this[_0x326f32(0x213)]=_0x448ba5;}},Be=class{},Ge=class{},Me=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require(a0_0x50dea5(0x512))),Ra=require('fs'),Oa=require('path');async function Xe(_0x6e5b89){const _0x1e0ac4=a0_0x50dea5;let _0x5e4ad1=B[_0x1e0ac4(0x782)][_0x6e5b89];if(L['ENABLED']){let _0x17916c=R[_0x1e0ac4(0x4b6)]()['db'](L['CONNECTION']['DB_PREFIX_NAME']+_0x1e0ac4(0xd0))['collection'](_0x6e5b89);return _0x5e4ad1||(await _0x17916c[_0x1e0ac4(0x3d9)]({})[_0x1e0ac4(0x584)]())[_0x1e0ac4(0x6a9)]>0x0;}return _0x5e4ad1||(0x0,Ra['existsSync'])((0x0,Oa['join'])(ge,_0x6e5b89));}async function Ta(_0x1dda9d,_0x3301dc,_0x2759d4){const _0x31b769=a0_0x50dea5;if(_0x1dda9d[_0x31b769(0x6bd)][_0x31b769(0x58a)]('/instance/create')||_0x1dda9d[_0x31b769(0x6bd)][_0x31b769(0x58a)](_0x31b769(0x55a))||_0x1dda9d[_0x31b769(0x6bd)][_0x31b769(0x58a)](_0x31b769(0x3bc))||_0x1dda9d[_0x31b769(0x6bd)][_0x31b769(0x58a)](_0x31b769(0x1ad))||_0x1dda9d['originalUrl'][_0x31b769(0x58a)](_0x31b769(0x362))||_0x1dda9d['originalUrl']['includes']('/instance/connectionState')||_0x1dda9d['originalUrl'][_0x31b769(0x58a)](_0x31b769(0x3c7)))return _0x2759d4();let _0x3efe07=_0x1dda9d[_0x31b769(0x5d1)];if(!_0x3efe07?.[_0x31b769(0x665)])throw new w(_0x31b769(0x2b4));if(!await Xe(_0x3efe07[_0x31b769(0x665)]))throw new F(_0x31b769(0x72c)+_0x3efe07['instanceName']+_0x31b769(0x2d8));_0x2759d4();}async function $a(_0x5b620c,_0x47f973,_0x27e9ca){const _0x47e4d1=a0_0x50dea5;if(_0x5b620c[_0x47e4d1(0x6bd)][_0x47e4d1(0x58a)]('/instance/create')){let _0x32f6d2=_0x5b620c[_0x47e4d1(0x44b)];if(await Xe(_0x32f6d2[_0x47e4d1(0x665)]))throw new Q(_0x47e4d1(0x2a4)+_0x32f6d2[_0x47e4d1(0x665)]+_0x47e4d1(0x66f));B[_0x47e4d1(0x782)][_0x32f6d2[_0x47e4d1(0x665)]]&&delete B[_0x47e4d1(0x782)][_0x32f6d2[_0x47e4d1(0x665)]];}_0x27e9ca();}var Aa=require(a0_0x50dea5(0x1f8)),Ia=T(require(a0_0x50dea5(0x6d3))),Ze='uazapi',fi=new N('GUARD');async function wi(_0x6139fa,_0x56ed03,_0x4eb858){const _0x520d9f=a0_0x50dea5;let _0x5a5610=_0x6139fa[_0x520d9f(0x42a)](_0x520d9f(0x420));if(_0x5a5610&&b[_0x520d9f(0x42a)](_0x520d9f(0x52f))[_0x520d9f(0x6c4)]['KEY']!==_0x5a5610)throw new te();if(b[_0x520d9f(0x42a)](_0x520d9f(0x52f))[_0x520d9f(0x6c4)][_0x520d9f(0x4b2)]===_0x5a5610)return _0x4eb858();if((_0x6139fa[_0x520d9f(0x6bd)][_0x520d9f(0x58a)](_0x520d9f(0x529))||_0x6139fa[_0x520d9f(0x6bd)][_0x520d9f(0x58a)](_0x520d9f(0x55a)))&&!_0x5a5610)throw new Q(_0x520d9f(0x458),_0x520d9f(0x77f));let _0x16ab9b=b[_0x520d9f(0x42a)](_0x520d9f(0x52f))['JWT'];try{let [_0x509610,_0xef23c4]=_0x6139fa[_0x520d9f(0x42a)](_0x520d9f(0x2b2))[_0x520d9f(0x531)]('\x20');if(_0x509610[_0x520d9f(0x228)]()!==_0x520d9f(0x446))throw new te();if(!(0x0,Aa[_0x520d9f(0x72e)])(_0xef23c4))throw new te();let _0x4e3b3e=_0x6139fa[_0x520d9f(0x5d1)],_0x32f9d7=Ia[_0x520d9f(0x378)][_0x520d9f(0x382)](_0xef23c4,_0x16ab9b[_0x520d9f(0x24e)],{'ignoreExpiration':_0x16ab9b[_0x520d9f(0x28c)]===0x0});if(_0x4e3b3e['instanceName']!==_0x32f9d7['instanceName']||Ze!==_0x32f9d7[_0x520d9f(0x5da)])throw new te();return _0x4eb858();}catch(_0x46bf5a){throw fi[_0x520d9f(0x190)](_0x46bf5a),new te();}}async function yi(_0x52944d,_0x123ff5,_0x573a16){const _0x1eddaa=a0_0x50dea5;let _0x4d0163=b[_0x1eddaa(0x42a)](_0x1eddaa(0x52f))[_0x1eddaa(0x6c4)],_0x1c5a28=_0x52944d[_0x1eddaa(0x42a)](_0x1eddaa(0x420));if(_0x4d0163['KEY']===_0x1c5a28)return _0x573a16();if(_0x52944d[_0x1eddaa(0x6bd)][_0x1eddaa(0x58a)](_0x1eddaa(0x529))){let _0x1512b3=et,_0x15882f=_0x52944d['body'][_0x1eddaa(0x665)];if(_0x1512b3&&_0x15882f['toLowerCase']()[_0x1eddaa(0x702)](_0x1512b3['toLowerCase']()))return _0x573a16();if(!_0x1c5a28)throw new Q(_0x1eddaa(0x458),_0x1eddaa(0x77f));}if(_0x52944d[_0x1eddaa(0x6bd)][_0x1eddaa(0x58a)]('/instance/fetchInstances')&&!_0x1c5a28)throw new Q(_0x1eddaa(0x458),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x52944d['originalUrl'][_0x1eddaa(0x58a)]('/exit')&&!_0x1c5a28)throw new Q(_0x1eddaa(0x458),_0x1eddaa(0x77f));if(_0x52944d[_0x1eddaa(0x6bd)][_0x1eddaa(0x58a)](_0x1eddaa(0x1ad))&&!_0x1c5a28)throw new Q('Missing\x20global\x20api\x20key',_0x1eddaa(0x77f));try{let _0x168bbe=_0x52944d[_0x1eddaa(0x5d1)],_0x2f3aa1=await ue[_0x1eddaa(0x438)][_0x1eddaa(0x3d9)](_0x168bbe['instanceName']);if(_0x2f3aa1&&_0x2f3aa1[_0x1eddaa(0x420)]===_0x1c5a28)return _0x573a16();}catch{}throw new te();}var xa={'jwt':wi,'apikey':yi},pr=require(a0_0x50dea5(0x512)),C=require(a0_0x50dea5(0x68b)),M=(..._0x5d9543)=>{const _0x1a4af7=a0_0x50dea5;let _0x478b13={};return _0x5d9543[_0x1a4af7(0x163)](_0x537f66=>_0x478b13[_0x537f66]={'minLength':0x1,'description':_0x1a4af7(0x313)+_0x537f66+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x5d9543]}},'then':{'properties':_0x478b13}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'instanceName':{'type':a0_0x50dea5(0x2d6)}},...M('instanceName')},cc={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'oldToken':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x4d4)],...M('oldToken')},lc={'properties':{'key':{'type':a0_0x50dea5(0x471),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x50dea5(0x2d6)},'fromMe':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':['id',a0_0x50dea5(0x1be),a0_0x50dea5(0x3e1)],...M('id',a0_0x50dea5(0x1be))},'message':{'type':a0_0x50dea5(0x471)}}},Y={'properties':{'delay':{'type':a0_0x50dea5(0x4cc),'description':a0_0x50dea5(0x5ab)},'presence':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x4b3),a0_0x50dea5(0x66a),a0_0x50dea5(0x152),a0_0x50dea5(0x582),a0_0x50dea5(0x6f5)]}}},z={'type':'string','pattern':a0_0x50dea5(0x2f1),'description':a0_0x50dea5(0x6c8)},Da={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x50dea5(0x471),'properties':{'text':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x26d)],...M(a0_0x50dea5(0x26d))}},'required':[a0_0x50dea5(0x457),a0_0x50dea5(0x491)]},_a={'type':a0_0x50dea5(0x2d6),'pattern':a0_0x50dea5(0x34a),'description':'Invalid\x20format'},uc={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':a0_0x50dea5(0x471),'properties':{'text':{'type':'string'}},'required':[a0_0x50dea5(0x26d)],...M('text')}},'required':[a0_0x50dea5(0x457),'number']},dc={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':a0_0x50dea5(0x471),'properties':{'mediatype':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x764),a0_0x50dea5(0x127),a0_0x50dea5(0x358),a0_0x50dea5(0x574)]},'media':{'type':a0_0x50dea5(0x2d6)},'fileName':{'type':a0_0x50dea5(0x2d6)},'caption':{'type':'string'}},'required':[a0_0x50dea5(0x728),a0_0x50dea5(0x1af)],...M('fileName','caption','media')}},'required':[a0_0x50dea5(0x477),a0_0x50dea5(0x491)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x50dea5(0x471),'properties':{'image':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x764)],...M('image')}},'required':[a0_0x50dea5(0x3cc),a0_0x50dea5(0x491)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x26d),a0_0x50dea5(0x764),a0_0x50dea5(0x574),a0_0x50dea5(0x358)]},'content':{'type':a0_0x50dea5(0x2d6)},'caption':{'type':a0_0x50dea5(0x2d6)},'backgroundColor':{'type':a0_0x50dea5(0x2d6)},'font':{'type':a0_0x50dea5(0x4cc),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x2d6),'pattern':a0_0x50dea5(0x524),'description':a0_0x50dea5(0xf9)}},'allContacts':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':[a0_0x50dea5(0x767),'content'],...M('type',a0_0x50dea5(0x687))}},'required':[a0_0x50dea5(0x391)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x50dea5(0x471),'properties':{'mediatype':{'type':a0_0x50dea5(0x2d6),'enum':['image',a0_0x50dea5(0x127),'video',a0_0x50dea5(0x574)]},'media':{'type':a0_0x50dea5(0x2d6)},'fileName':{'type':a0_0x50dea5(0x2d6)},'caption':{'type':a0_0x50dea5(0x2d6)}},'required':['mediatype','media'],...M(a0_0x50dea5(0x44e),'caption','media')}},'required':[a0_0x50dea5(0x477),a0_0x50dea5(0x491)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x50dea5(0x2d6)}},'required':['audio'],...M(a0_0x50dea5(0x574))}},'required':['audioMessage',a0_0x50dea5(0x491)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'pollMessage':{'type':a0_0x50dea5(0x471),'properties':{'name':{'type':a0_0x50dea5(0x2d6)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x50dea5(0x213),a0_0x50dea5(0x5f4),'values'],...M('name',a0_0x50dea5(0x5f4),a0_0x50dea5(0x164))}},'required':[a0_0x50dea5(0x491),a0_0x50dea5(0x4a2)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'menuMessage':{'type':a0_0x50dea5(0x471),'properties':{'text':{'type':a0_0x50dea5(0x2d6)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x50dea5(0x26d),a0_0x50dea5(0x500)],...M(a0_0x50dea5(0x26d),a0_0x50dea5(0x500))}},'required':[a0_0x50dea5(0x491),a0_0x50dea5(0x5ad)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x50dea5(0x471),'properties':{'title':{'type':'string'},'description':{'type':a0_0x50dea5(0x2d6)},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x471),'properties':{'buttonText':{'type':a0_0x50dea5(0x2d6)},'buttonId':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x29f),a0_0x50dea5(0x13c)],...M(a0_0x50dea5(0x29f),a0_0x50dea5(0x13c))}},'mediaMessage':{'type':a0_0x50dea5(0x471),'properties':{'media':{'type':a0_0x50dea5(0x2d6)},'fileName':{'type':a0_0x50dea5(0x2d6)},'mediatype':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x764),'document','video']}},'required':[a0_0x50dea5(0x1af),a0_0x50dea5(0x728)],...M(a0_0x50dea5(0x1af),a0_0x50dea5(0x44e))}},'required':[a0_0x50dea5(0x326),'buttons'],...M(a0_0x50dea5(0x326),a0_0x50dea5(0x6e6))}},'required':['number','buttonMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x50dea5(0x471),'properties':{'latitude':{'type':a0_0x50dea5(0x491)},'longitude':{'type':a0_0x50dea5(0x491)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x50dea5(0xef),a0_0x50dea5(0x739)],...M(a0_0x50dea5(0x213),a0_0x50dea5(0xe1))}},'required':[a0_0x50dea5(0x491),a0_0x50dea5(0x2b7)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x50dea5(0x471),'properties':{'title':{'type':'string'},'description':{'type':a0_0x50dea5(0x2d6)},'footerText':{'type':a0_0x50dea5(0x2d6)},'buttonText':{'type':a0_0x50dea5(0x2d6)},'sections':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x471),'properties':{'title':{'type':a0_0x50dea5(0x2d6)},'rows':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x471),'properties':{'title':{'type':a0_0x50dea5(0x2d6)},'description':{'type':a0_0x50dea5(0x2d6)},'rowId':{'type':'string'}},'required':[a0_0x50dea5(0x326),a0_0x50dea5(0x1a0)],...M(a0_0x50dea5(0x326),a0_0x50dea5(0x1a0))}}},'required':[a0_0x50dea5(0x326),a0_0x50dea5(0x49a)],...M('title')}}},'required':[a0_0x50dea5(0x326),a0_0x50dea5(0x6e6),a0_0x50dea5(0x29f),a0_0x50dea5(0x734)],...M(a0_0x50dea5(0x326),a0_0x50dea5(0x6e6),a0_0x50dea5(0x29f),a0_0x50dea5(0x489))}},'required':[a0_0x50dea5(0x491),a0_0x50dea5(0x149)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x50dea5(0x48e),'items':{'type':a0_0x50dea5(0x471),'properties':{'fullName':{'type':a0_0x50dea5(0x2d6)},'phoneNumber':{'type':a0_0x50dea5(0x2d6),'minLength':0xa}},'required':['fullName',a0_0x50dea5(0x2f2)],...M(a0_0x50dea5(0x27c))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x50dea5(0x491),a0_0x50dea5(0x124)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x50dea5(0x471),'properties':{'key':{'type':a0_0x50dea5(0x471),'properties':{'id':{'type':a0_0x50dea5(0x2d6)},'remoteJid':{'type':a0_0x50dea5(0x2d6)},'fromMe':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x50dea5(0x3e1)],...M('id',a0_0x50dea5(0x1be))},'reaction':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x6a8),a0_0x50dea5(0x25c)],...M(a0_0x50dea5(0x25c))}},'required':[a0_0x50dea5(0x176)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'numbers':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x2d6),'pattern':a0_0x50dea5(0x524),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'readMessages':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x50dea5(0x2d6)}},'required':['id',a0_0x50dea5(0x3e1),a0_0x50dea5(0x1be)],...M('id',a0_0x50dea5(0x1be))}}},'required':[a0_0x50dea5(0x2a1)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'privacySettings':{'type':a0_0x50dea5(0x471),'properties':{'readreceipts':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x115),a0_0x50dea5(0x2b1)]},'profile':{'type':a0_0x50dea5(0x2d6),'enum':['all','contacts',a0_0x50dea5(0x451),'none']},'status':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x115),a0_0x50dea5(0x486),a0_0x50dea5(0x451),'none']},'online':{'type':'string','enum':[a0_0x50dea5(0x115),a0_0x50dea5(0x5fb)]},'last':{'type':a0_0x50dea5(0x2d6),'enum':['all','contacts',a0_0x50dea5(0x451),a0_0x50dea5(0x2b1)]},'groupadd':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x115),a0_0x50dea5(0x486),a0_0x50dea5(0x451),'none']}},'required':[a0_0x50dea5(0x341),a0_0x50dea5(0x762),a0_0x50dea5(0x373),'online',a0_0x50dea5(0x54b),a0_0x50dea5(0x2b9)],...M(a0_0x50dea5(0x341),'profile',a0_0x50dea5(0x373),a0_0x50dea5(0x53f),a0_0x50dea5(0x54b),a0_0x50dea5(0x2b9))}},'required':[a0_0x50dea5(0x5e4)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'lastMessage':{'type':a0_0x50dea5(0x471),'properties':{'key':{'type':a0_0x50dea5(0x471),'properties':{'id':{'type':a0_0x50dea5(0x2d6)},'remoteJid':{'type':a0_0x50dea5(0x2d6)},'fromMe':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':['id',a0_0x50dea5(0x3e1),'remoteJid'],...M('id',a0_0x50dea5(0x1be))},'messageTimestamp':{'type':a0_0x50dea5(0x4cc),'minLength':0x1}},'required':['key'],...M(a0_0x50dea5(0x4c3))},'archive':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':[a0_0x50dea5(0x5df),a0_0x50dea5(0x297)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'id':{'type':a0_0x50dea5(0x2d6)},'fromMe':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x50dea5(0x2d6)},'participant':{'type':'string'}},'required':['id',a0_0x50dea5(0x3e1),a0_0x50dea5(0x1be)],...M('id',a0_0x50dea5(0x1be),'participant')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'where':{'type':a0_0x50dea5(0x471),'properties':{'_id':{'type':a0_0x50dea5(0x2d6),'minLength':0x1},'pushName':{'type':a0_0x50dea5(0x2d6),'minLength':0x1},'id':{'type':a0_0x50dea5(0x2d6),'minLength':0x1}},...M('_id','id','pushName')}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x50dea5(0x2d6)}},...M(a0_0x50dea5(0x213))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'status':{'type':'string'}},...M(a0_0x50dea5(0x373))},Ce={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{'type':a0_0x50dea5(0x2d6)},'picture':{'type':a0_0x50dea5(0x2d6)}}},er={'type':'object','properties':{'wuid':{'type':a0_0x50dea5(0x2d6)},'name':{'type':a0_0x50dea5(0x2d6)},'picture':{'type':a0_0x50dea5(0x2d6)},'status':{'type':a0_0x50dea5(0x2d6)},'isBusiness':{'type':'boolean'}}},tr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'where':{'type':a0_0x50dea5(0x471),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x50dea5(0x3e1),a0_0x50dea5(0x1be),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x50dea5(0x2d6),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':a0_0x50dea5(0x5e6)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...M(a0_0x50dea5(0x3dd))},'limit':{'type':'integer'}}},pc={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'where':{'type':a0_0x50dea5(0x471),'properties':{'_id':{'type':a0_0x50dea5(0x2d6)},'remoteJid':{'type':'string'},'id':{'type':a0_0x50dea5(0x2d6)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x50dea5(0x2d6),'enum':['ERROR',a0_0x50dea5(0x14f),a0_0x50dea5(0x40a),a0_0x50dea5(0xe3),'READ',a0_0x50dea5(0x38b)]}},...M(a0_0x50dea5(0x3dd),a0_0x50dea5(0x1be),'id',a0_0x50dea5(0x373))},'limit':{'type':a0_0x50dea5(0x4cc)}}},sr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x50dea5(0x4b3),a0_0x50dea5(0x66a),'composing','recording',a0_0x50dea5(0x6f5)]}},'required':[a0_0x50dea5(0x621),'number']},ar={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'subject':{'type':a0_0x50dea5(0x2d6)},'description':{'type':a0_0x50dea5(0x2d6)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x50dea5(0x409),'description':a0_0x50dea5(0x23c)}}},'required':['subject','participants'],...M(a0_0x50dea5(0x3ca),a0_0x50dea5(0x6e6),a0_0x50dea5(0x54f))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':'string','pattern':a0_0x50dea5(0x329)}},'required':[a0_0x50dea5(0x520)],...M(a0_0x50dea5(0x520))},rr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'action':{'type':a0_0x50dea5(0x2d6),'enum':['add','remove',a0_0x50dea5(0x118),a0_0x50dea5(0x153),a0_0x50dea5(0x4c9),a0_0x50dea5(0x684)]},'participants':{'type':a0_0x50dea5(0x48e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x50dea5(0x2d6),'minLength':0xa,'pattern':a0_0x50dea5(0x409),'description':a0_0x50dea5(0x23c)}}},'required':[a0_0x50dea5(0x520),'action',a0_0x50dea5(0x61c)],...M(a0_0x50dea5(0x520),a0_0x50dea5(0x5f0))},ir={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x50dea5(0x520),a0_0x50dea5(0x312)],...M(a0_0x50dea5(0x520),a0_0x50dea5(0x312))},or={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'image':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x520),a0_0x50dea5(0x764)],...M(a0_0x50dea5(0x520),a0_0x50dea5(0x764))},nr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x520),a0_0x50dea5(0x6e6)],...M(a0_0x50dea5(0x520),a0_0x50dea5(0x6e6))},cr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'name':{'type':'string'}},'required':[a0_0x50dea5(0x520),a0_0x50dea5(0x213)],...M('groupJid',a0_0x50dea5(0x213))},lr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'setting':{'type':a0_0x50dea5(0x2d6),'enum':[a0_0x50dea5(0x677),a0_0x50dea5(0x46a),a0_0x50dea5(0x5f7),a0_0x50dea5(0x15c)]}},'required':[a0_0x50dea5(0x520),'setting'],...M(a0_0x50dea5(0x520),a0_0x50dea5(0x1b1))},ur={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'groupJid':{'type':a0_0x50dea5(0x2d6)},'restrict':{'type':a0_0x50dea5(0x161)},'announce':{'type':a0_0x50dea5(0x161)},'memberAddMode':{'type':a0_0x50dea5(0x161)},'joinApprovalMode':{'type':a0_0x50dea5(0x161)},'expiration':{'type':a0_0x50dea5(0x4cc),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x50dea5(0x2d6)},'description':{'type':a0_0x50dea5(0x2d6)},'image':{'type':'string'}}},Ss={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'inviteCode':{'type':a0_0x50dea5(0x2d6)}},'required':[a0_0x50dea5(0x691)],...M('inviteCode')},dr={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'url':{'type':a0_0x50dea5(0x2d6)},'enabled':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]}},'required':[a0_0x50dea5(0xf5),a0_0x50dea5(0x42d)]},hc={'$id':(0x0,C['v4'])(),'type':a0_0x50dea5(0x471),'properties':{'local_map':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x50dea5(0x161),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x50dea5(0x186),a0_0x50dea5(0x5c9),a0_0x50dea5(0xd3),a0_0x50dea5(0x514),a0_0x50dea5(0x657),'MESSAGES_UPSERT',a0_0x50dea5(0x3b4),a0_0x50dea5(0x600),'CONTACTS_UPSERT',a0_0x50dea5(0x2c2),a0_0x50dea5(0x4cd),a0_0x50dea5(0x554),'CHATS_UPSERT',a0_0x50dea5(0x3c8),a0_0x50dea5(0x755),a0_0x50dea5(0x654),a0_0x50dea5(0x4fb),a0_0x50dea5(0x668),a0_0x50dea5(0x26a)],...M(a0_0x50dea5(0x186),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x50dea5(0x514),a0_0x50dea5(0x657),a0_0x50dea5(0x10c),'SEND_MESSAGE','CONTACTS_SET',a0_0x50dea5(0x1c5),a0_0x50dea5(0x2c2),a0_0x50dea5(0x4cd),a0_0x50dea5(0x554),'CHATS_UPSERT',a0_0x50dea5(0x3c8),a0_0x50dea5(0x755),a0_0x50dea5(0x654),a0_0x50dea5(0x4fb),'GROUPS_UPDATE',a0_0x50dea5(0x26a))},tt=class{},st=class extends x{[a0_0x50dea5(0x1ee)](_0x5b575c){return Zs(_0x5b575c);}async['insert'](_0x45be96){const _0x156610=a0_0x50dea5;if(_0x45be96[_0x156610(0x6a9)]!==0x0)try{return{'insertCount':(await this[_0x156610(0x1ee)](_0x45be96[0x0]['owner'])[_0x156610(0x5b8)]([..._0x45be96]))['length']};}catch(_0x4709e8){return _0x4709e8;}}async[a0_0x50dea5(0x2ca)](_0x5312db,_0x1a0de3){const _0xcc94d2=a0_0x50dea5;try{return{'deletedCount':(await this[_0xcc94d2(0x1ee)](_0x1a0de3)[_0xcc94d2(0xce)]({..._0x5312db['where']}))[_0xcc94d2(0x178)]};}catch(_0x9d7c09){return{'error':_0x9d7c09?.[_0xcc94d2(0x4b1)]()};}}async[a0_0x50dea5(0x760)](_0x40079b,_0xfe3b24){const _0x2a4c50=a0_0x50dea5;try{if(_0x40079b[_0x2a4c50(0x6a9)]===0x0)return;let _0x252280=this[_0x2a4c50(0x1ee)](_0xfe3b24),_0x22adec=_0x40079b[_0x2a4c50(0x298)](_0x524187=>({'updateOne':{'filter':{'_id':_0x524187['_id'],'owner':_0xfe3b24},'update':{..._0x524187}}})),{modifiedCount:_0x23cfb4}=await _0x252280['bulkWrite'](_0x22adec);return{'insertCount':_0x23cfb4};}catch{return;}}async[a0_0x50dea5(0x3d9)](_0x2e8ae1,_0x5b516a){const _0x30d796=a0_0x50dea5;try{let _0x406c04=this[_0x30d796(0x1ee)](_0x5b516a),_0x4a65b9=$(_0x2e8ae1['where']);return await _0x406c04[_0x30d796(0x3d9)](_0x4a65b9)[_0x30d796(0x1f3)](_0x2e8ae1?.['limit']??0x0)[_0x30d796(0x258)]();}catch{return[];}}async[a0_0x50dea5(0xcc)](_0x1209d2,_0xc184e6){const _0x3b5e25=a0_0x50dea5;try{let _0x385d3a=this[_0x3b5e25(0x1ee)](_0xc184e6),_0x5bccb3=$(_0x1209d2['where']);return await _0x385d3a[_0x3b5e25(0xcc)](_0x5bccb3)[_0x3b5e25(0x258)]();}catch{return null;}}async[a0_0x50dea5(0x573)](_0x42bfd1){const _0x5cf489=a0_0x50dea5;try{return await this['getContactModelForOwner'](_0x42bfd1)['collection'][_0x5cf489(0x5cf)](),{'success':!0x0};}catch(_0x3a7448){return console[_0x5cf489(0x190)](_0x3a7448),{'success':!0x1,'error':_0x3a7448};}}},at=require(a0_0x50dea5(0x611)),Cc=require(a0_0x50dea5(0x54c)),Ms=new N(a0_0x50dea5(0x134)),V=class{['routerPath'](_0x3b0ab5,_0x222f48=!0x0){const _0x278e76=a0_0x50dea5;let _0x445805='/'+_0x3b0ab5;return _0x222f48&&(_0x445805+=_0x278e76(0x119)),_0x445805;}async['dataValidate'](_0xe4ec19){const _0x1f066d=a0_0x50dea5;let {request:_0x2a57e9,schema:_0xc85b7d,ClassRef:_0x4d755d,execute:_0x4b1c4e}=_0xe4ec19,_0x2a9350=new _0x4d755d(),_0x271827=_0x2a57e9['body'],_0x36aade=_0x2a57e9[_0x1f066d(0x5d1)];_0x2a57e9?.[_0x1f066d(0x583)]&&Object[_0x1f066d(0x165)](_0x2a57e9['query'])[_0x1f066d(0x6a9)]>0x0&&Object[_0x1f066d(0x790)](_0x36aade,_0x2a57e9[_0x1f066d(0x583)]),_0x2a57e9[_0x1f066d(0x6bd)][_0x1f066d(0x58a)](_0x1f066d(0x529))&&Object['assign'](_0x36aade,_0x271827),Object[_0x1f066d(0x790)](_0x2a9350,_0x271827);let _0x21fd99=_0xc85b7d?(0x0,at[_0x1f066d(0x294)])(_0x2a9350,_0xc85b7d):{'valid':!0x0,'errors':[]};if(!_0x21fd99[_0x1f066d(0x355)]){let _0x368af1=_0x21fd99[_0x1f066d(0x673)][_0x1f066d(0x298)](({property:_0x43e17e,stack:_0x4479f3,schema:_0x207505})=>{const _0x5581a4=_0x1f066d;let _0x2b528f;return _0x207505[_0x5581a4(0x6e6)]?_0x2b528f=_0x207505[_0x5581a4(0x6e6)]:_0x2b528f=_0x4479f3[_0x5581a4(0x24a)](_0x5581a4(0x56f),''),{'property':_0x43e17e[_0x5581a4(0x24a)]('instance.',''),'message':_0x2b528f};});throw Ms[_0x1f066d(0x190)]([..._0x368af1]),new w(..._0x368af1);}return await _0x4b1c4e(_0x36aade,_0x2a9350);}async[a0_0x50dea5(0x18b)](_0x2621d4){const _0x1430be=a0_0x50dea5;let {request:_0x2acdff,ClassRef:_0x1c0720,schema:_0x48e455,execute:_0x58e1f7}=_0x2621d4,_0x4c453d=_0x2acdff['query'];if(!_0x4c453d?.[_0x1430be(0x520)])throw new w(_0x1430be(0x5e8),_0x1430be(0x4f0));let _0x12e629=_0x2acdff[_0x1430be(0x5d1)],_0x37ad73=_0x2acdff[_0x1430be(0x44b)],_0x9c3340=new _0x1c0720();Object[_0x1430be(0x790)](_0x37ad73,_0x4c453d),Object[_0x1430be(0x790)](_0x9c3340,_0x37ad73);let _0x2777ee=(0x0,at[_0x1430be(0x294)])(_0x9c3340,_0x48e455);if(!_0x2777ee[_0x1430be(0x355)]){let _0x148da3=_0x2777ee[_0x1430be(0x673)][_0x1430be(0x298)](({property:_0x3583e0,stack:_0x2e9b1e,schema:_0x50e1d8})=>{const _0x3bfdb4=_0x1430be;let _0x501220;return _0x50e1d8[_0x3bfdb4(0x6e6)]?_0x501220=_0x50e1d8['description']:_0x501220=_0x2e9b1e[_0x3bfdb4(0x24a)](_0x3bfdb4(0x56f),''),{'property':_0x3583e0[_0x3bfdb4(0x24a)](_0x3bfdb4(0x56f),''),'message':_0x501220};});throw Ms['error']([..._0x148da3]),new w(..._0x148da3);}return await _0x58e1f7(_0x12e629,_0x9c3340);}async[a0_0x50dea5(0x7a9)](_0x45e2b6){const _0x4e8e84=a0_0x50dea5;let {request:_0x4b259f,ClassRef:_0xd11a1d,schema:_0x1b4073,execute:_0x40b886}=_0x45e2b6,_0x4a8fe9=_0x4b259f[_0x4e8e84(0x44b)];if(!_0x4a8fe9?.[_0x4e8e84(0x691)])throw new w(_0x4e8e84(0x523),_0x4e8e84(0x105));let _0x19089c=_0x4b259f['params'],_0x57c15f=_0x4b259f[_0x4e8e84(0x44b)],_0x5dc276=new _0xd11a1d();Object['assign'](_0x57c15f,_0x4a8fe9),Object[_0x4e8e84(0x790)](_0x5dc276,_0x57c15f);let _0x4b68e0=(0x0,at[_0x4e8e84(0x294)])(_0x5dc276,_0x1b4073);if(!_0x4b68e0[_0x4e8e84(0x355)]){let _0x366bf8=_0x4b68e0[_0x4e8e84(0x673)][_0x4e8e84(0x298)](({property:_0x35961f,stack:_0xd97a30,schema:_0x213a30})=>{const _0x26730c=_0x4e8e84;let _0x20283d;return _0x213a30[_0x26730c(0x6e6)]?_0x20283d=_0x213a30[_0x26730c(0x6e6)]:_0x20283d=_0xd97a30[_0x26730c(0x24a)](_0x26730c(0x56f),''),{'property':_0x35961f[_0x26730c(0x24a)]('instance.',''),'message':_0x20283d};});throw Ms[_0x4e8e84(0x190)]([..._0x366bf8]),new w(..._0x366bf8);}return await _0x40b886(_0x19089c,_0x5dc276);}},S=class{},Lc=new N(a0_0x50dea5(0x71d)),rt=class extends V{constructor(..._0x558d7e){const _0x18adcd=a0_0x50dea5;super(),this[_0x18adcd(0x5e7)]=(0x0,pr[_0x18adcd(0x33b)])(),this[_0x18adcd(0x5e7)][_0x18adcd(0x3b1)](this['routerPath']('updatePresence'),..._0x558d7e,async(_0x2078a2,_0x3a2b75)=>{const _0x702591=_0x18adcd;let _0x3fdf50=await this[_0x702591(0x6a6)]({'request':_0x2078a2,'schema':sr,'ClassRef':Be,'execute':(_0x16fbf8,_0x30d54b)=>D[_0x702591(0x666)](_0x16fbf8,_0x30d54b)});return _0x3a2b75[_0x702591(0x373)](0xc9)[_0x702591(0x271)](_0x3fdf50);})['post'](this['routerPath'](_0x18adcd(0x6c5)),..._0x558d7e,async(_0x25bd56,_0x5cd79c)=>{const _0x5650ad=_0x18adcd;let _0xa6f45b=await this[_0x5650ad(0x6a6)]({'request':_0x25bd56,'schema':Wa,'ClassRef':Ge,'execute':(_0x208457,_0x1173a8)=>D[_0x5650ad(0x159)](_0x208457,_0x1173a8)});return _0x5cd79c[_0x5650ad(0x373)](0xc9)['json'](_0xa6f45b);})[_0x18adcd(0x3b1)](this[_0x18adcd(0x4e3)]('editChat'),..._0x558d7e,async(_0xfeade,_0x5ca12d)=>{const _0x1969f9=_0x18adcd;let _0x478778=await this[_0x1969f9(0x6a6)]({'request':_0xfeade,'schema':E,'ClassRef':S,'execute':(_0x35fc2a,_0x3ab560)=>D[_0x1969f9(0x4ac)](_0x35fc2a,_0x3ab560)});return _0x5ca12d['status'](0xc9)[_0x1969f9(0x271)](_0x478778);})[_0x18adcd(0x42c)](this[_0x18adcd(0x4e3)]('markMessageAsRead'),..._0x558d7e,async(_0x114ce4,_0x43d745)=>{const _0x41df38=_0x18adcd;let _0x2c5e5a=await this['dataValidate']({'request':_0x114ce4,'schema':za,'ClassRef':He,'execute':(_0x45aa0c,_0x469978)=>D[_0x41df38(0x1db)](_0x45aa0c,_0x469978)});return _0x43d745['status'](0xc9)[_0x41df38(0x271)](_0x2c5e5a);})[_0x18adcd(0x42c)](this[_0x18adcd(0x4e3)](_0x18adcd(0x5de)),..._0x558d7e,async(_0x18cc3b,_0x7bc540)=>{const _0x56f887=_0x18adcd;let _0x36f8c9=await this['dataValidate']({'request':_0x18cc3b,'schema':Ka,'ClassRef':Ke,'execute':(_0x4b8c35,_0x23fc92)=>D[_0x56f887(0x5de)](_0x4b8c35,_0x23fc92)});return _0x7bc540['status'](0xc9)[_0x56f887(0x271)](_0x36f8c9);})[_0x18adcd(0x2ca)](this[_0x18adcd(0x4e3)](_0x18adcd(0x612)),..._0x558d7e,async(_0x3e92f5,_0x3831a9)=>{const _0x8692a8=_0x18adcd;let _0x5da8a7=await this[_0x8692a8(0x6a6)]({'request':_0x3e92f5,'schema':Qa,'ClassRef':Ye,'execute':(_0x8b4889,_0x2a67ae)=>D['deleteMessage'](_0x8b4889,_0x2a67ae)});return _0x3831a9[_0x8692a8(0x373)](0xc9)['json'](_0x5da8a7);})[_0x18adcd(0x3b1)](this[_0x18adcd(0x4e3)](_0x18adcd(0x444)),..._0x558d7e,async(_0x51c1f8,_0x3f8edc)=>{const _0x2b6a88=_0x18adcd;let _0x36b40c=await this['dataValidate']({'request':_0x51c1f8,'schema':Ce,'ClassRef':Me,'execute':(_0x4c41d6,_0x1d4f24)=>D['fetchProfilePicture'](_0x4c41d6,_0x1d4f24)});return _0x3f8edc[_0x2b6a88(0x373)](0xc8)[_0x2b6a88(0x271)](_0x36b40c);})[_0x18adcd(0x3b1)](this['routerPath'](_0x18adcd(0x3d0)),..._0x558d7e,async(_0x477d7e,_0x47b75b)=>{const _0x150048=_0x18adcd;let _0xa60ef1=await this[_0x150048(0x6a6)]({'request':_0x477d7e,'schema':er,'ClassRef':Me,'execute':(_0x3a53d1,_0x5b5308)=>D[_0x150048(0x3d0)](_0x3a53d1,_0x5b5308)});return _0x47b75b[_0x150048(0x373)](0xc8)[_0x150048(0x271)](_0xa60ef1);})[_0x18adcd(0x3b1)](this[_0x18adcd(0x4e3)](_0x18adcd(0x15e)),..._0x558d7e,async(_0xec923a,_0x2cc8e0)=>{const _0x71d534=_0x18adcd;let _0x58eb93=await this[_0x71d534(0x6a6)]({'request':_0xec923a,'schema':Ya,'ClassRef':tt,'execute':(_0x3fa000,_0x428108)=>D[_0x71d534(0x142)](_0x3fa000,_0x428108)});return _0x2cc8e0['status'](0xc8)[_0x71d534(0x271)](_0x58eb93);})[_0x18adcd(0x3b1)](this[_0x18adcd(0x4e3)](_0x18adcd(0x533)),..._0x558d7e,async(_0x26529e,_0xb0960b)=>{const _0x41419e=_0x18adcd;let _0x4fc7cc=await this['dataValidate']({'request':_0x26529e,'schema':null,'ClassRef':Object,'execute':(_0x135ca4,_0x499ebe)=>D['getBase64FromMediaMessage'](_0x135ca4,_0x499ebe)});return _0xb0960b[_0x41419e(0x373)](0xc9)[_0x41419e(0x271)](_0x4fc7cc);})[_0x18adcd(0x3b1)](this['routerPath']('findMessages'),..._0x558d7e,async(_0x5ec605,_0x135ad4)=>{const _0x70bf3c=_0x18adcd;let _0x385b3e=await this['dataValidate']({'request':_0x5ec605,'schema':tr,'ClassRef':qe,'execute':(_0x3574c9,_0x73de53)=>D[_0x70bf3c(0x3de)](_0x3574c9,_0x73de53)});return _0x135ad4[_0x70bf3c(0x373)](0xc8)['json'](_0x385b3e);})[_0x18adcd(0x42a)](this[_0x18adcd(0x4e3)](_0x18adcd(0x498)),..._0x558d7e,async(_0x56d0a0,_0xe280d6)=>{const _0xe3879=_0x18adcd;let _0x1cd88a=await this['dataValidate']({'request':_0x56d0a0,'schema':null,'ClassRef':S,'execute':_0x47154a=>D[_0xe3879(0x1d6)](_0x47154a)});return _0xe280d6[_0xe3879(0x373)](0xc8)[_0xe3879(0x271)](_0x1cd88a);})['get'](this[_0x18adcd(0x4e3)](_0x18adcd(0x79f)),..._0x558d7e,async(_0x4a1b33,_0x4cd5a7)=>{const _0x428c67=_0x18adcd;let _0x60cc0=await this[_0x428c67(0x6a6)]({'request':_0x4a1b33,'schema':null,'ClassRef':S,'execute':_0x560e29=>D[_0x428c67(0x287)](_0x560e29)});return _0x4cd5a7['status'](0xc8)[_0x428c67(0x271)](_0x60cc0);})[_0x18adcd(0x42c)](this['routerPath'](_0x18adcd(0x6a2)),..._0x558d7e,async(_0x2562c2,_0x31df3d)=>{const _0xd16bcb=_0x18adcd;let _0x44f86f=await this[_0xd16bcb(0x6a6)]({'request':_0x2562c2,'schema':null,'ClassRef':Array,'execute':(_0x54c7a4,_0x5c5a56)=>D[_0xd16bcb(0x6a2)](_0x54c7a4,_0x5c5a56)});return _0x31df3d[_0xd16bcb(0x373)](0xc8)[_0xd16bcb(0x271)](_0x44f86f);})[_0x18adcd(0x42a)](this['routerPath'](_0x18adcd(0x4c0)),..._0x558d7e,async(_0x2a19f8,_0x45a303)=>{const _0xa22736=_0x18adcd;let _0x1873d6=await this[_0xa22736(0x6a6)]({'request':_0x2a19f8,'schema':null,'ClassRef':S,'execute':_0x5ea3b3=>D['fetchPrivacySettings'](_0x5ea3b3)});return _0x45a303[_0xa22736(0x373)](0xc8)[_0xa22736(0x271)](_0x1873d6);})['put'](this[_0x18adcd(0x4e3)]('updatePrivacySettings'),..._0x558d7e,async(_0xc37096,_0x413b3d)=>{const _0x1c169e=_0x18adcd;let _0x305dec=await this[_0x1c169e(0x6a6)]({'request':_0xc37096,'schema':Ha,'ClassRef':Qe,'execute':(_0x3ecd16,_0x30dfff)=>D[_0x1c169e(0x41d)](_0x3ecd16,_0x30dfff)});return _0x413b3d[_0x1c169e(0x373)](0xc9)['json'](_0x305dec);})['post'](this['routerPath'](_0x18adcd(0x12f)),..._0x558d7e,async(_0x2b5b1d,_0xcbee63)=>{const _0x4b7876=_0x18adcd;let _0x382bc7=await this[_0x4b7876(0x6a6)]({'request':_0x2b5b1d,'schema':Ce,'ClassRef':we,'execute':(_0x1255f0,_0x5a8319)=>D['fetchBusinessProfile'](_0x1255f0,_0x5a8319)});return _0xcbee63[_0x4b7876(0x373)](0xc8)[_0x4b7876(0x271)](_0x382bc7);})[_0x18adcd(0x3b1)](this[_0x18adcd(0x4e3)](_0x18adcd(0x302)),..._0x558d7e,async(_0x268f44,_0x2ca124)=>{const _0x14be86=_0x18adcd;let _0x3afe0b=await this[_0x14be86(0x6a6)]({'request':_0x268f44,'schema':Xa,'ClassRef':We,'execute':(_0x2f824e,_0x5c9eb9)=>D[_0x14be86(0x302)](_0x2f824e,_0x5c9eb9)});return _0x2ca124[_0x14be86(0x373)](0xc8)[_0x14be86(0x271)](_0x3afe0b);})['post'](this[_0x18adcd(0x4e3)]('updateProfileStatus'),..._0x558d7e,async(_0x323fd1,_0x207816)=>{const _0x48378d=_0x18adcd;let _0x5da6c3=await this[_0x48378d(0x6a6)]({'request':_0x323fd1,'schema':Za,'ClassRef':ze,'execute':(_0x3d39e6,_0x41645c)=>D[_0x48378d(0x22c)](_0x3d39e6,_0x41645c)});return _0x207816[_0x48378d(0x373)](0xc8)[_0x48378d(0x271)](_0x5da6c3);})['put'](this['routerPath'](_0x18adcd(0x2fc)),..._0x558d7e,async(_0x4ccdfd,_0x319906)=>{const _0x5cc490=_0x18adcd;let _0x6eec48=await this[_0x5cc490(0x6a6)]({'request':_0x4ccdfd,'schema':Ce,'ClassRef':we,'execute':(_0x4f6786,_0x4bfb45)=>D[_0x5cc490(0x2fc)](_0x4f6786,_0x4bfb45)});return _0x319906['status'](0xc8)[_0x5cc490(0x271)](_0x6eec48);})['delete'](this['routerPath']('removeProfilePicture'),..._0x558d7e,async(_0x5108c7,_0x543b9f)=>{const _0x18d118=_0x18adcd;let _0x44409a=await this[_0x18d118(0x6a6)]({'request':_0x5108c7,'schema':Ce,'ClassRef':we,'execute':(_0x5d502b,_0x3a0666)=>D[_0x18d118(0x6db)](_0x5d502b,_0x3a0666)});return _0x543b9f[_0x18d118(0x373)](0xc8)['json'](_0x44409a);});}},hr=require(a0_0x50dea5(0x512)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},ve=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x2fbba0){const _0xd832a1=a0_0x50dea5;super(),this[_0xd832a1(0x5e7)]=(0x0,hr[_0xd832a1(0x33b)])(),this['router'][_0xd832a1(0x3b1)](this['routerPath'](_0xd832a1(0x39c)),..._0x2fbba0,async(_0x17aeab,_0x3bc258)=>{const _0x10528e=_0xd832a1;let _0x3a4b8e=await this[_0x10528e(0x6a6)]({'request':_0x17aeab,'schema':ar,'ClassRef':it,'execute':(_0x438caf,_0xbb2512)=>q['createGroup'](_0x438caf,_0xbb2512)});_0x3bc258[_0x10528e(0x373)](0xc9)['json'](_0x3a4b8e);})[_0xd832a1(0x42c)](this['routerPath'](_0xd832a1(0x3ba)),..._0x2fbba0,async(_0x388cc1,_0x1bd36a)=>{const _0x28273d=_0xd832a1;let _0x2858d8=await this[_0x28273d(0x18b)]({'request':_0x388cc1,'schema':or,'ClassRef':ot,'execute':(_0x5998e8,_0x319524)=>q[_0x28273d(0x3ba)](_0x5998e8,_0x319524)});_0x1bd36a[_0x28273d(0x373)](0xc9)[_0x28273d(0x271)](_0x2858d8);})[_0xd832a1(0x42c)](this['routerPath'](_0xd832a1(0x60b)),..._0x2fbba0,async(_0x1811be,_0x54dcd5)=>{const _0x20c039=_0xd832a1;let _0x393574=await this[_0x20c039(0x18b)]({'request':_0x1811be,'schema':nr,'ClassRef':nt,'execute':(_0x1a3d65,_0x340fef)=>q[_0x20c039(0x60b)](_0x1a3d65,_0x340fef)});_0x54dcd5['status'](0xc9)[_0x20c039(0x271)](_0x393574);})[_0xd832a1(0x42c)](this[_0xd832a1(0x4e3)](_0xd832a1(0x291)),..._0x2fbba0,async(_0x51d8fa,_0x1877d9)=>{const _0x5c2637=_0xd832a1;let _0x452215=await this[_0x5c2637(0x18b)]({'request':_0x51d8fa,'schema':cr,'ClassRef':ct,'execute':(_0x6f15fa,_0x74c582)=>q[_0x5c2637(0x291)](_0x6f15fa,_0x74c582)});_0x1877d9[_0x5c2637(0x373)](0xc9)['json'](_0x452215);})[_0xd832a1(0x42c)](this[_0xd832a1(0x4e3)]('groupBetterSetting'),..._0x2fbba0,async(_0x52d260,_0x5d9a78)=>{const _0x47da4a=_0xd832a1;let _0x282342=await this[_0x47da4a(0x18b)]({'request':_0x52d260,'schema':ur,'ClassRef':ut,'execute':(_0x4fb66e,_0x3bee5e)=>q[_0x47da4a(0x102)](_0x4fb66e,_0x3bee5e)});_0x5d9a78[_0x47da4a(0x373)](0xc9)['json'](_0x282342);})[_0xd832a1(0x42c)](this[_0xd832a1(0x4e3)]('groupSetting'),..._0x2fbba0,async(_0xeb7b8a,_0x59a148)=>{const _0x2c4311=_0xd832a1;let _0x2418a5=await this[_0x2c4311(0x18b)]({'request':_0xeb7b8a,'schema':lr,'ClassRef':lt,'execute':(_0x377ae1,_0x333e73)=>q['groupSetting'](_0x377ae1,_0x333e73)});_0x59a148[_0x2c4311(0x373)](0xc9)['json'](_0x2418a5);})[_0xd832a1(0x42c)](this['routerPath'](_0xd832a1(0x6c2)),..._0x2fbba0,async(_0xd6939b,_0x317d14)=>{const _0x6d95b6=_0xd832a1;let _0x35eb3f=await this['groupValidate']({'request':_0xd6939b,'schema':ir,'ClassRef':pt,'execute':(_0x3886aa,_0x234449)=>q[_0x6d95b6(0x6c2)](_0x3886aa,_0x234449)});_0x317d14[_0x6d95b6(0x373)](0xc9)[_0x6d95b6(0x271)](_0x35eb3f);})[_0xd832a1(0x42a)](this['routerPath'](_0xd832a1(0x6b7)),..._0x2fbba0,async(_0x1d4cbf,_0x31a1ce)=>{const _0x2f13ed=_0xd832a1;let _0x4ed52c=await this[_0x2f13ed(0x18b)]({'request':_0x1d4cbf,'schema':Ee,'ClassRef':X,'execute':(_0xdf3753,_0x1392e9)=>q['findGroupInfo'](_0xdf3753,_0x1392e9)});_0x31a1ce[_0x2f13ed(0x373)](0xc8)[_0x2f13ed(0x271)](_0x4ed52c);})[_0xd832a1(0x42a)](this[_0xd832a1(0x4e3)](_0xd832a1(0x2fa)),..._0x2fbba0,async(_0x47a3e2,_0x81b6d0)=>{const _0x211397=_0xd832a1;let _0x2b2923=await this[_0x211397(0x6a6)]({'request':_0x47a3e2,'schema':E,'ClassRef':S,'execute':_0xe058ce=>q['findGroups'](_0xe058ce)});_0x81b6d0[_0x211397(0x373)](0xc8)[_0x211397(0x271)](_0x2b2923);})[_0xd832a1(0x42a)](this['routerPath']('participants'),..._0x2fbba0,async(_0x4b8a6d,_0x52b88d)=>{const _0x533ad7=_0xd832a1;let _0x20d796=await this['groupValidate']({'request':_0x4b8a6d,'schema':Ee,'ClassRef':X,'execute':(_0xcf816f,_0x21ace7)=>q[_0x533ad7(0x40e)](_0xcf816f,_0x21ace7)});_0x52b88d[_0x533ad7(0x373)](0xc8)[_0x533ad7(0x271)](_0x20d796);})['get'](this['routerPath']('inviteCode'),..._0x2fbba0,async(_0x15699d,_0x543176)=>{const _0x4f6b12=_0xd832a1;let _0x2ac79d=await this[_0x4f6b12(0x18b)]({'request':_0x15699d,'schema':Ee,'ClassRef':X,'execute':(_0x219ce3,_0x26005b)=>q['inviteCode'](_0x219ce3,_0x26005b)});_0x543176['status'](0xc8)['json'](_0x2ac79d);})['post'](this['routerPath']('inviteCodeDetails'),..._0x2fbba0,async(_0x570972,_0x49b88c)=>{const _0x49a956=_0xd832a1;let _0xa5858a=await this[_0x49a956(0x7a9)]({'request':_0x570972,'schema':Ss,'ClassRef':ve,'execute':(_0x267f16,_0xe1ac41)=>q[_0x49a956(0x3fa)](_0x267f16,_0xe1ac41)});_0x49b88c[_0x49a956(0x373)](0xc9)[_0x49a956(0x271)](_0xa5858a);})[_0xd832a1(0x42c)](this[_0xd832a1(0x4e3)](_0xd832a1(0x4f3)),..._0x2fbba0,async(_0x4c6a46,_0x4cbfe2)=>{const _0xfb37a4=_0xd832a1;let _0x151a63=await this[_0xfb37a4(0x7a9)]({'request':_0x4c6a46,'schema':Ss,'ClassRef':ve,'execute':(_0x561406,_0xf70d32)=>q[_0xfb37a4(0x4f3)](_0x561406,_0xf70d32)});_0x4cbfe2[_0xfb37a4(0x373)](0xc9)[_0xfb37a4(0x271)](_0x151a63);})['put'](this[_0xd832a1(0x4e3)](_0xd832a1(0x679)),..._0x2fbba0,async(_0x1e123b,_0x39c4a5)=>{const _0x2dcd97=_0xd832a1;let _0x436b9c=await this['groupValidate']({'request':_0x1e123b,'schema':Ee,'ClassRef':X,'execute':(_0x43dadb,_0xdb9c5)=>q[_0x2dcd97(0x679)](_0x43dadb,_0xdb9c5)});_0x39c4a5['status'](0xc9)[_0x2dcd97(0x271)](_0x436b9c);})[_0xd832a1(0x42c)](this['routerPath'](_0xd832a1(0x620)),..._0x2fbba0,async(_0x3541dd,_0x5a45c9)=>{const _0x32938f=_0xd832a1;let _0x425f76=await this[_0x32938f(0x18b)]({'request':_0x3541dd,'schema':rr,'ClassRef':dt,'execute':(_0x26c163,_0x14b4ff)=>q[_0x32938f(0x7a6)](_0x26c163,_0x14b4ff)});_0x5a45c9['status'](0xc9)[_0x32938f(0x271)](_0x425f76);})[_0xd832a1(0x2ca)](this[_0xd832a1(0x4e3)](_0xd832a1(0x1fc)),..._0x2fbba0,async(_0x7f37f9,_0xae7661)=>{const _0x3334a3=_0xd832a1;let _0x529693=await this[_0x3334a3(0x18b)]({'request':_0x7f37f9,'schema':{},'ClassRef':X,'execute':(_0x268e5a,_0x33a579)=>q['leaveGroup'](_0x268e5a,_0x33a579)});_0xae7661[_0x3334a3(0x373)](0xc8)[_0x3334a3(0x271)](_0x529693);});}},gr=require(a0_0x50dea5(0x512)),gt=class extends V{constructor(_0x1bb933,..._0xfa4f9f){const _0x4feefb=a0_0x50dea5;super(),this[_0x4feefb(0x5fc)]=_0x1bb933,this[_0x4feefb(0x5e7)]=(0x0,gr[_0x4feefb(0x33b)])();let _0x1b6d69=_0x1bb933[_0x4feefb(0x42a)]('AUTHENTICATION');this[_0x4feefb(0x5e7)][_0x4feefb(0x3b1)](_0x4feefb(0x6f9),..._0xfa4f9f,async(_0x26dbd1,_0x5032e6)=>{const _0x5bfbc6=_0x4feefb;let {instanceName:_0x4f4229,apikey:_0x345507,number:_0x237b1c}=_0x26dbd1['body'],_0x3083dd=await oe['createInstance']({'instanceName':_0x4f4229,'apikey':_0x345507,'number':_0x237b1c});return _0x5032e6[_0x5bfbc6(0x373)](0xc9)[_0x5bfbc6(0x271)](_0x3083dd);})['put'](this[_0x4feefb(0x4e3)](_0x4feefb(0x412)),..._0xfa4f9f,async(_0xccaf03,_0x596752)=>{const _0x2ddad4=_0x4feefb;let _0x545a19=await this['dataValidate']({'request':_0xccaf03,'schema':E,'ClassRef':S,'execute':_0x129fa6=>oe[_0x2ddad4(0x194)](_0x129fa6)});return _0x596752['status'](0xc8)[_0x2ddad4(0x271)](_0x545a19);})[_0x4feefb(0x42a)](this['routerPath'](_0x4feefb(0x197)),..._0xfa4f9f,async(_0x428a9d,_0x345709)=>{const _0x1a3b47=_0x4feefb;let _0x31d004=await this[_0x1a3b47(0x6a6)]({'request':_0x428a9d,'schema':E,'ClassRef':S,'execute':_0x1665f8=>oe[_0x1a3b47(0x476)](_0x1665f8)});return _0x345709[_0x1a3b47(0x373)](0xc8)[_0x1a3b47(0x271)](_0x31d004);})[_0x4feefb(0x42a)](this[_0x4feefb(0x4e3)](_0x4feefb(0x634)),..._0xfa4f9f,async(_0x55e3a3,_0x4873b2)=>{const _0x12c8f7=_0x4feefb;let _0xbdef6f=await this[_0x12c8f7(0x6a6)]({'request':_0x55e3a3,'schema':E,'ClassRef':S,'execute':_0x1e7616=>oe['connectionState'](_0x1e7616)});return _0x4873b2[_0x12c8f7(0x373)](0xc8)[_0x12c8f7(0x271)](_0xbdef6f);})['get'](this[_0x4feefb(0x4e3)](_0x4feefb(0x669),!0x1),..._0xfa4f9f,async(_0x189524,_0x3c95dc)=>{const _0x1d3dea=_0x4feefb;let _0x568001=await this[_0x1d3dea(0x6a6)]({'request':_0x189524,'schema':null,'ClassRef':S,'execute':_0x13100e=>oe[_0x1d3dea(0x669)](_0x13100e)});return _0x3c95dc[_0x1d3dea(0x373)](0xc8)[_0x1d3dea(0x271)](_0x568001);})[_0x4feefb(0x2ca)](this['routerPath'](_0x4feefb(0x1cf)),..._0xfa4f9f,async(_0x412391,_0x558e1e)=>{const _0x1bda20=_0x4feefb;let _0x220e88=await this[_0x1bda20(0x6a6)]({'request':_0x412391,'schema':E,'ClassRef':S,'execute':_0x2a146a=>oe[_0x1bda20(0x1cf)](_0x2a146a)});return _0x558e1e['status'](0xc8)['json'](_0x220e88);})[_0x4feefb(0x2ca)](this[_0x4feefb(0x4e3)]('delete'),..._0xfa4f9f,async(_0x3afa2b,_0x1f6957)=>{const _0x4d7c51=_0x4feefb;let _0x562934=await this[_0x4d7c51(0x6a6)]({'request':_0x3afa2b,'schema':E,'ClassRef':S,'execute':_0x381aab=>oe[_0x4d7c51(0x225)](_0x381aab)});return _0x1f6957['status'](0xc8)['json'](_0x562934);});}},mr=require(a0_0x50dea5(0x512)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x444d10){const _0x2d3116=a0_0x50dea5;super(),this[_0x2d3116(0x5e7)]=(0x0,mr[_0x2d3116(0x33b)])(),this[_0x2d3116(0x5e7)]['post'](this['routerPath'](_0x2d3116(0x241)),..._0x444d10,async(_0x315c83,_0x1c1a5c)=>{const _0x4c0a24=_0x2d3116;let _0x433b99=await this[_0x4c0a24(0x6a6)]({'request':_0x315c83,'schema':Da,'ClassRef':mt,'execute':(_0x388df1,_0x41a1ff)=>G['sendText'](_0x388df1,_0x41a1ff)});return _0x1c1a5c[_0x4c0a24(0x373)](0xc9)[_0x4c0a24(0x271)](_0x433b99);})[_0x2d3116(0x3b1)](this['routerPath']('sendMedia'),..._0x444d10,async(_0x585fde,_0x40d450)=>{const _0x2d1011=_0x2d3116;let _0x46f0ff=await this['dataValidate']({'request':_0x585fde,'schema':La,'ClassRef':Ne,'execute':(_0x56f6a4,_0x2dde53)=>G[_0x2d1011(0x70b)](_0x56f6a4,_0x2dde53)});return _0x40d450['status'](0xc9)[_0x2d1011(0x271)](_0x46f0ff);})[_0x2d3116(0x3b1)](this[_0x2d3116(0x4e3)](_0x2d3116(0x231)),..._0x444d10,async(_0x450091,_0x3ba5da)=>{const _0x3bc4c6=_0x2d3116;let _0x54e431=await this[_0x3bc4c6(0x6a6)]({'request':_0x450091,'schema':Ua,'ClassRef':yt,'execute':(_0x202538,_0x32c4f9)=>G[_0x3bc4c6(0x231)](_0x202538,_0x32c4f9)});return _0x3ba5da[_0x3bc4c6(0x373)](0xc9)['json'](_0x54e431);})[_0x2d3116(0x3b1)](this[_0x2d3116(0x4e3)](_0x2d3116(0x708)),..._0x444d10,async(_0x57d9cb,_0x1437af)=>{const _0x250644=_0x2d3116;let _0x256d27=await this['dataValidate']({'request':_0x57d9cb,'schema':ja,'ClassRef':Ne,'execute':(_0x99552f,_0x22b29b)=>G[_0x250644(0x708)](_0x99552f,_0x22b29b)});return _0x1437af['status'](0xc9)[_0x250644(0x271)](_0x256d27);})['post'](this[_0x2d3116(0x4e3)](_0x2d3116(0x4c1)),..._0x444d10,async(_0x532369,_0x2dd57b)=>{const _0x406511=_0x2d3116;let _0x304e60=await this['dataValidate']({'request':_0x532369,'schema':Ja,'ClassRef':St,'execute':(_0x48515c,_0x3ae342)=>G[_0x406511(0x4c1)](_0x48515c,_0x3ae342)});return _0x2dd57b[_0x406511(0x373)](0xc9)[_0x406511(0x271)](_0x304e60);})['post'](this[_0x2d3116(0x4e3)](_0x2d3116(0x201)),..._0x444d10,async(_0x47a87d,_0x354ea5)=>{const _0x1035fb=_0x2d3116;let _0x2957d0=await this[_0x1035fb(0x6a6)]({'request':_0x47a87d,'schema':qa,'ClassRef':Mt,'execute':(_0x4bcf5c,_0x10239e)=>G[_0x1035fb(0x201)](_0x4bcf5c,_0x10239e)});return _0x354ea5[_0x1035fb(0x373)](0xc9)['json'](_0x2957d0);})['post'](this['routerPath'](_0x2d3116(0x34d)),..._0x444d10,async(_0x5312ee,_0x4c5e1e)=>{const _0x3880e3=_0x2d3116;let _0x58c0b3=await this[_0x3880e3(0x6a6)]({'request':_0x5312ee,'schema':Va,'ClassRef':Ct,'execute':(_0x16a1b7,_0x26a573)=>G[_0x3880e3(0x34d)](_0x16a1b7,_0x26a573)});return _0x4c5e1e[_0x3880e3(0x373)](0xc9)[_0x3880e3(0x271)](_0x58c0b3);})['post'](this[_0x2d3116(0x4e3)](_0x2d3116(0x70d)),..._0x444d10,async(_0x2edb9e,_0x3a2cd2)=>{const _0x299c9c=_0x2d3116;let _0x21ef30=await this[_0x299c9c(0x6a6)]({'request':_0x2edb9e,'schema':Ba,'ClassRef':Et,'execute':(_0x35363c,_0x29ee0e)=>G[_0x299c9c(0x70d)](_0x35363c,_0x29ee0e)});return _0x3a2cd2[_0x299c9c(0x373)](0xc9)['json'](_0x21ef30);})[_0x2d3116(0x3b1)](this[_0x2d3116(0x4e3)](_0x2d3116(0x3af)),..._0x444d10,async(_0x2c2c45,_0x5a302a)=>{const _0x219259=_0x2d3116;let _0x4e0577=await this[_0x219259(0x6a6)]({'request':_0x2c2c45,'schema':Ga,'ClassRef':vt,'execute':(_0x56cde3,_0x8a8e90)=>G[_0x219259(0x3af)](_0x56cde3,_0x8a8e90)});return _0x5a302a['status'](0xc9)[_0x219259(0x271)](_0x4e0577);})[_0x2d3116(0x3b1)](this[_0x2d3116(0x4e3)]('sendPoll'),..._0x444d10,async(_0xb453c4,_0x2cb40d)=>{const _0x50faaf=_0x2d3116;let _0x57b7d5=await this['dataValidate']({'request':_0xb453c4,'schema':Fa,'ClassRef':wt,'execute':(_0x48eb01,_0x112731)=>G[_0x50faaf(0x130)](_0x48eb01,_0x112731)});return _0x2cb40d[_0x50faaf(0x373)](0xc9)[_0x50faaf(0x271)](_0x57b7d5);})[_0x2d3116(0x3b1)](this['routerPath']('sendStatus'),..._0x444d10,async(_0x48f037,_0x1897ff)=>{const _0x465a6a=_0x2d3116;let _0x7f8096=await this[_0x465a6a(0x6a6)]({'request':_0x48f037,'schema':ka,'ClassRef':ft,'execute':(_0x6aa013,_0x41a4f8)=>G[_0x465a6a(0x694)](_0x6aa013,_0x41a4f8)});return _0x1897ff[_0x465a6a(0x373)](0xc9)[_0x465a6a(0x271)](_0x7f8096);})[_0x2d3116(0x3b1)](this[_0x2d3116(0x4e3)](_0x2d3116(0x3ed)),..._0x444d10,async(_0x3fd15a,_0x18d6db)=>{const _0x116b04=_0x2d3116;let _0x4d8d44=await this[_0x116b04(0x6a6)]({'request':_0x3fd15a,'schema':Pa,'ClassRef':bt,'execute':(_0x4b463c,_0x253054)=>G['sendSticker'](_0x4b463c,_0x253054)});return _0x18d6db['status'](0xc9)[_0x116b04(0x271)](_0x4d8d44);});}},fr=require(a0_0x50dea5(0x512)),Rt=class{},Ot=class extends V{constructor(..._0x444734){const _0x49d790=a0_0x50dea5;super(),this[_0x49d790(0x5e7)]=(0x0,fr['Router'])(),this['router'][_0x49d790(0x3b1)](this['routerPath'](_0x49d790(0x559)),..._0x444734,async(_0x3ef91c,_0x3f2b69)=>{const _0x18c15c=_0x49d790;let _0x190051=await this[_0x18c15c(0x6a6)]({'request':_0x3ef91c,'schema':dr,'ClassRef':Rt,'execute':(_0x8f07f0,_0x1c6307)=>Es[_0x18c15c(0x6d4)](_0x8f07f0,_0x1c6307)});_0x3f2b69[_0x18c15c(0x373)](0xc9)[_0x18c15c(0x271)](_0x190051);})[_0x49d790(0x42a)](this[_0x49d790(0x4e3)]('find'),..._0x444734,async(_0x2df0f7,_0xc56af8)=>{const _0x16c7a3=_0x49d790;let _0x40b12c=await this['dataValidate']({'request':_0x2df0f7,'schema':E,'ClassRef':S,'execute':_0x30f37d=>Es['findWebhook'](_0x30f37d)});_0xc56af8[_0x16c7a3(0x373)](0xc8)[_0x16c7a3(0x271)](_0x40b12c);});}},wr=require(a0_0x50dea5(0x512)),y=new N(a0_0x50dea5(0x6ca)),Tt=class extends V{constructor(..._0x105014){const _0x174833=a0_0x50dea5;super(),this['router']=(0x0,wr['Router'])(),this[_0x174833(0x5e7)][_0x174833(0x3b1)](this[_0x174833(0x4e3)]('scheduleMessage'),..._0x105014,async(_0x317b54,_0xfc49ea)=>{const _0x2104e9=_0x174833;let _0x1844f1=_0x317b54[_0x2104e9(0x44b)];y['verbose'](_0x2104e9(0x7a1)),y['verbose'](_0x2104e9(0x4dc)),y[_0x2104e9(0x1f5)](_0x317b54['body']);let _0x570c6b=await this[_0x2104e9(0x6a6)]({'request':_0x317b54,'schema':E,'ClassRef':S,'execute':_0x5f552a=>I['editScheduleMessage'](_0x5f552a,_0x1844f1)});_0xfc49ea[_0x2104e9(0x373)](0xc8)['json'](_0x570c6b);})[_0x174833(0x42a)](this[_0x174833(0x4e3)]('scheduleMessage'),..._0x105014,async(_0x4ae2b0,_0x38f1c0)=>{const _0x253179=_0x174833;let _0x2a6ac9=await this['dataValidate']({'request':_0x4ae2b0,'schema':E,'ClassRef':S,'execute':_0x11cfb2=>I[_0x253179(0x226)](_0x11cfb2)});_0x38f1c0[_0x253179(0x373)](0xc8)[_0x253179(0x271)](_0x2a6ac9);})['delete'](this[_0x174833(0x4e3)](_0x174833(0x429)),..._0x105014,async(_0x5260b6,_0x1bece0)=>{const _0x351083=_0x174833;y[_0x351083(0x1f5)]('request\x20received\x20in\x20deleteDoneMessages');let _0x26281e=await this[_0x351083(0x6a6)]({'request':_0x5260b6,'schema':E,'ClassRef':S,'execute':_0x456fe1=>I['deleteDoneMessages'](_0x456fe1)});_0x1bece0[_0x351083(0x373)](0xc8)['json'](_0x26281e);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x56e)),..._0x105014,async(_0x235ee6,_0x5aee4e)=>{const _0x49af6a=_0x174833;let _0x16cc39=_0x235ee6[_0x49af6a(0x44b)];y[_0x49af6a(0x1f5)](_0x49af6a(0x50c)),y['verbose'](_0x49af6a(0x4dc)),y[_0x49af6a(0x1f5)](_0x235ee6[_0x49af6a(0x44b)]);let _0x35431d=await this['dataValidate']({'request':_0x235ee6,'schema':E,'ClassRef':S,'execute':_0x55c998=>I['startFlow'](_0x55c998,_0x16cc39)});_0x5aee4e[_0x49af6a(0x373)](0xc8)[_0x49af6a(0x271)](_0x35431d);})[_0x174833(0x42a)](this['routerPath'](_0x174833(0x785)),..._0x105014,async(_0x232f16,_0x1e2a61)=>{const _0x219df0=_0x174833;y[_0x219df0(0x1f5)](_0x219df0(0x793));let _0x469a0c=await this[_0x219df0(0x6a6)]({'request':_0x232f16,'schema':E,'ClassRef':S,'execute':_0x522b29=>I['getAutomateSystem'](_0x522b29)});_0x1e2a61[_0x219df0(0x373)](0xc8)['json'](_0x469a0c);})[_0x174833(0x42a)](this[_0x174833(0x4e3)](_0x174833(0x200)),..._0x105014,async(_0x1f75bd,_0x3be7d1)=>{const _0x240dcf=_0x174833;y[_0x240dcf(0x1f5)](_0x240dcf(0x6ac));let _0x5cf3d5=await this[_0x240dcf(0x6a6)]({'request':_0x1f75bd,'schema':E,'ClassRef':S,'execute':_0x4e7f2b=>I[_0x240dcf(0x785)](_0x4e7f2b)});_0x3be7d1[_0x240dcf(0x373)](0xc8)[_0x240dcf(0x271)](_0x5cf3d5);})[_0x174833(0x3b1)](this['routerPath'](_0x174833(0x643)),..._0x105014,async(_0x228fa7,_0x375da7)=>{const _0xbd9693=_0x174833;let _0x1c926a=_0x228fa7['body'];y[_0xbd9693(0x1f5)](_0xbd9693(0x3e8)),y[_0xbd9693(0x1f5)](_0xbd9693(0x4dc)),y[_0xbd9693(0x1f5)](_0x228fa7[_0xbd9693(0x44b)]);let _0x393175=await this[_0xbd9693(0x6a6)]({'request':_0x228fa7,'schema':E,'ClassRef':S,'execute':_0x48ad35=>I['updateAgent'](_0x48ad35,_0x1c926a)});_0x375da7[_0xbd9693(0x373)](0xc8)[_0xbd9693(0x271)](_0x393175);})[_0x174833(0x3b1)](this['routerPath'](_0x174833(0x147)),..._0x105014,async(_0x1d1e3c,_0x45f7c8)=>{const _0x7d0af8=_0x174833;let _0x52ef92=_0x1d1e3c[_0x7d0af8(0x44b)];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x7d0af8(0x4dc)),y[_0x7d0af8(0x1f5)](_0x1d1e3c[_0x7d0af8(0x44b)]);let _0x1340ce=await this[_0x7d0af8(0x6a6)]({'request':_0x1d1e3c,'schema':E,'ClassRef':S,'execute':_0x50fefe=>I[_0x7d0af8(0x147)](_0x50fefe,_0x52ef92)});_0x45f7c8[_0x7d0af8(0x373)](0xc8)[_0x7d0af8(0x271)](_0x1340ce);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x5c6)),..._0x105014,async(_0x55adeb,_0x24582c)=>{const _0x1ef2ca=_0x174833;let _0x4e6060=_0x55adeb['body'];y['verbose'](_0x1ef2ca(0x31c)),y[_0x1ef2ca(0x1f5)](_0x1ef2ca(0x4dc)),y['verbose'](_0x55adeb['body']);let _0x46003e=await this[_0x1ef2ca(0x6a6)]({'request':_0x55adeb,'schema':E,'ClassRef':S,'execute':_0xed5c45=>I[_0x1ef2ca(0x5c6)](_0xed5c45,_0x4e6060)});_0x24582c['status'](0xc8)[_0x1ef2ca(0x271)](_0x46003e);})['post'](this[_0x174833(0x4e3)](_0x174833(0x116)),..._0x105014,async(_0x34c843,_0x53c817)=>{const _0x314d70=_0x174833;let _0x555dbe=_0x34c843[_0x314d70(0x44b)];y[_0x314d70(0x1f5)](_0x314d70(0x4a3)),y[_0x314d70(0x1f5)](_0x314d70(0x4dc)),y[_0x314d70(0x1f5)](_0x34c843[_0x314d70(0x44b)]);let _0x39d660=await this[_0x314d70(0x6a6)]({'request':_0x34c843,'schema':E,'ClassRef':S,'execute':_0x595d60=>I[_0x314d70(0x116)](_0x595d60,_0x555dbe)});_0x53c817[_0x314d70(0x373)](0xc8)[_0x314d70(0x271)](_0x39d660);})['post'](this['routerPath']('fetchConversation'),..._0x105014,async(_0x5754b5,_0x160f04)=>{const _0x1972d8=_0x174833;let _0x4f6510=_0x5754b5[_0x1972d8(0x44b)];y[_0x1972d8(0x1f5)]('request\x20received\x20in\x20fetchConversation'),y[_0x1972d8(0x1f5)]('request\x20body:\x20'),y[_0x1972d8(0x1f5)](_0x5754b5[_0x1972d8(0x44b)]);let _0x4cb640=await this[_0x1972d8(0x6a6)]({'request':_0x5754b5,'schema':E,'ClassRef':S,'execute':_0x596e92=>I[_0x1972d8(0x562)](_0x596e92,_0x4f6510)});_0x160f04[_0x1972d8(0x373)](0xc8)[_0x1972d8(0x271)](_0x4cb640);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)]('editConversation'),..._0x105014,async(_0xfd26cc,_0x32c03d)=>{const _0x417b35=_0x174833;let _0xf1c11d=_0xfd26cc[_0x417b35(0x44b)];y[_0x417b35(0x1f5)](_0x417b35(0x623)),y[_0x417b35(0x1f5)]('request\x20body:\x20'),y[_0x417b35(0x1f5)](_0xfd26cc[_0x417b35(0x44b)]);let _0xb84452=await this[_0x417b35(0x6a6)]({'request':_0xfd26cc,'schema':E,'ClassRef':S,'execute':_0x240047=>I[_0x417b35(0x1e3)](_0x240047,_0xf1c11d)});_0x32c03d[_0x417b35(0x373)](0xc8)[_0x417b35(0x271)](_0xb84452);})[_0x174833(0x2ca)](this[_0x174833(0x4e3)](_0x174833(0x76c)),..._0x105014,async(_0x373d09,_0x555646)=>{const _0x2cbf80=_0x174833;let _0x3b97a4=_0x373d09['body'];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x2cbf80(0x1f5)](_0x2cbf80(0x4dc)),y['verbose'](_0x373d09[_0x2cbf80(0x44b)]);let _0x96af0d=await this[_0x2cbf80(0x6a6)]({'request':_0x373d09,'schema':E,'ClassRef':S,'execute':_0x1d4cd5=>I[_0x2cbf80(0x76c)](_0x1d4cd5,_0x3b97a4)});_0x555646[_0x2cbf80(0x373)](0xc8)['json'](_0x96af0d);})['post'](this[_0x174833(0x4e3)](_0x174833(0x10e)),..._0x105014,async(_0x18b14c,_0x1e2a8b)=>{const _0x345c0a=_0x174833;let _0x8fc0e3=_0x18b14c[_0x345c0a(0x44b)];y[_0x345c0a(0x1f5)]('request\x20received\x20in\x20createFlow'),y['verbose'](_0x345c0a(0x4dc)),y[_0x345c0a(0x1f5)](_0x18b14c[_0x345c0a(0x44b)]);let _0x4a4cbd=await this[_0x345c0a(0x6a6)]({'request':_0x18b14c,'schema':E,'ClassRef':S,'execute':_0x139e2e=>I[_0x345c0a(0x62a)](_0x139e2e,_0x8fc0e3)});_0x1e2a8b[_0x345c0a(0x373)](0xc8)['json'](_0x4a4cbd);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x78c)),..._0x105014,async(_0x46399b,_0x132e4a)=>{const _0x3f00de=_0x174833;let _0x100ab0=_0x46399b[_0x3f00de(0x44b)];y['verbose'](_0x3f00de(0x38f)),y[_0x3f00de(0x1f5)](_0x3f00de(0x4dc)),y[_0x3f00de(0x1f5)](_0x46399b[_0x3f00de(0x44b)]),delete _0x100ab0[_0x3f00de(0x325)],delete _0x100ab0[_0x3f00de(0x482)],delete _0x100ab0[_0x3f00de(0x3c9)],delete _0x100ab0[_0x3f00de(0x4ec)];let _0x22e814=await this[_0x3f00de(0x6a6)]({'request':_0x46399b,'schema':E,'ClassRef':S,'execute':_0xcd3d76=>I[_0x3f00de(0x33d)](_0xcd3d76,_0x100ab0)});_0x132e4a[_0x3f00de(0x373)](0xc8)[_0x3f00de(0x271)](_0x22e814);})[_0x174833(0x3b1)](this['routerPath']('editflowblock'),..._0x105014,async(_0x1ab202,_0x57c2f8)=>{const _0x3556f0=_0x174833;let _0x546a73=_0x1ab202[_0x3556f0(0x44b)];y[_0x3556f0(0x1f5)](_0x3556f0(0x38f)),y[_0x3556f0(0x1f5)]('request\x20body:\x20'),y[_0x3556f0(0x1f5)](_0x1ab202['body']);let _0xd6a48f=await this[_0x3556f0(0x6a6)]({'request':_0x1ab202,'schema':E,'ClassRef':S,'execute':_0x4eeb2b=>I[_0x3556f0(0x703)](_0x4eeb2b,_0x546a73)});_0x57c2f8['status'](0xc8)[_0x3556f0(0x271)](_0xd6a48f);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x2f0)),..._0x105014,async(_0x3ee963,_0x2ad174)=>{const _0x2c8487=_0x174833;let _0x1f12ef=_0x3ee963['body'];y['verbose'](_0x2c8487(0x38f)),y[_0x2c8487(0x1f5)](_0x2c8487(0x4dc)),y['verbose'](_0x3ee963[_0x2c8487(0x44b)]);let _0x438f69=await this[_0x2c8487(0x6a6)]({'request':_0x3ee963,'schema':E,'ClassRef':S,'execute':_0x5ea1c6=>I[_0x2c8487(0x371)](_0x5ea1c6,_0x1f12ef)});_0x2ad174['status'](0xc8)[_0x2c8487(0x271)](_0x438f69);})[_0x174833(0x3b1)](this['routerPath'](_0x174833(0x74d)),..._0x105014,async(_0x5978e9,_0x1e92fb)=>{const _0x28196c=_0x174833;let _0xaaaca1=_0x5978e9[_0x28196c(0x44b)];y['verbose'](_0x28196c(0x38f)),y['verbose'](_0x28196c(0x4dc)),y[_0x28196c(0x1f5)](_0x5978e9['body']);let _0x2f1fdb=await this[_0x28196c(0x6a6)]({'request':_0x5978e9,'schema':E,'ClassRef':S,'execute':_0x4e5855=>I[_0x28196c(0x6e5)](_0x4e5855,_0xaaaca1)});_0x1e92fb[_0x28196c(0x373)](0xc8)[_0x28196c(0x271)](_0x2f1fdb);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x4bc)),..._0x105014,async(_0xafd8d7,_0x19ae7f)=>{const _0xd39fed=_0x174833;let _0x27bdfe=_0xafd8d7[_0xd39fed(0x44b)];y['verbose'](_0xd39fed(0x537)),y[_0xd39fed(0x1f5)](_0xd39fed(0x4dc)),y[_0xd39fed(0x1f5)](_0xafd8d7['body']);let _0x466617=await this[_0xd39fed(0x6a6)]({'request':_0xafd8d7,'schema':E,'ClassRef':S,'execute':_0xb0119c=>I[_0xd39fed(0x534)](_0xb0119c,_0x27bdfe)});_0x19ae7f[_0xd39fed(0x373)](0xc8)[_0xd39fed(0x271)](_0x466617);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x5ff)),..._0x105014,async(_0x10f763,_0x20dc0c)=>{const _0x1af00f=_0x174833;let _0x225f9f=_0x10f763['body'];y[_0x1af00f(0x1f5)]('request\x20received\x20in\x20editFlowcondition'),y[_0x1af00f(0x1f5)](_0x1af00f(0x4dc)),y[_0x1af00f(0x1f5)](_0x10f763[_0x1af00f(0x44b)]);let _0x44a27d=await this[_0x1af00f(0x6a6)]({'request':_0x10f763,'schema':E,'ClassRef':S,'execute':_0x4ec22a=>I['editFlowCondition'](_0x4ec22a,_0x225f9f)});_0x20dc0c[_0x1af00f(0x373)](0xc8)['json'](_0x44a27d);})['post'](this['routerPath']('editflowvariable'),..._0x105014,async(_0x259348,_0x2a6a11)=>{const _0x3545dd=_0x174833;let _0x4cfac1=_0x259348[_0x3545dd(0x44b)];y[_0x3545dd(0x1f5)](_0x3545dd(0x2df)),y[_0x3545dd(0x1f5)](_0x3545dd(0x4dc)),y[_0x3545dd(0x1f5)](_0x259348['body']);let _0x5e2c33=await this[_0x3545dd(0x6a6)]({'request':_0x259348,'schema':E,'ClassRef':S,'execute':_0x1d1af5=>I[_0x3545dd(0x256)](_0x1d1af5,_0x4cfac1)});_0x2a6a11[_0x3545dd(0x373)](0xc8)[_0x3545dd(0x271)](_0x5e2c33);})[_0x174833(0x3b1)](this[_0x174833(0x4e3)](_0x174833(0x334)),..._0x105014,async(_0x47c448,_0x3fff1e)=>{const _0x21db67=_0x174833;let _0x2a03cf=_0x47c448[_0x21db67(0x44b)];y[_0x21db67(0x1f5)]('request\x20received\x20in\x20getFlow'),y[_0x21db67(0x1f5)](_0x21db67(0x4dc)),y[_0x21db67(0x1f5)](_0x47c448['body']);let _0x1aa653=await this[_0x21db67(0x6a6)]({'request':_0x47c448,'schema':E,'ClassRef':S,'execute':_0x2c3a87=>I[_0x21db67(0x545)](_0x2c3a87,_0x2a03cf)});_0x3fff1e['status'](0xc8)[_0x21db67(0x271)](_0x1aa653);})['delete'](this['routerPath'](_0x174833(0x2f6)),..._0x105014,async(_0x5235df,_0x2732dd)=>{const _0x435763=_0x174833;let _0x81ef24=_0x5235df[_0x435763(0x44b)];y[_0x435763(0x1f5)](_0x435763(0x539)),y[_0x435763(0x1f5)](_0x435763(0x4dc)),y[_0x435763(0x1f5)](_0x5235df[_0x435763(0x44b)]);let _0xff716f=await this[_0x435763(0x6a6)]({'request':_0x5235df,'schema':E,'ClassRef':S,'execute':_0x48b34d=>I[_0x435763(0x3ad)](_0x48b34d,_0x81ef24)});_0x2732dd[_0x435763(0x373)](0xc8)[_0x435763(0x271)](_0xff716f);})[_0x174833(0x42a)](this[_0x174833(0x4e3)](_0x174833(0x1a7)),..._0x105014,async(_0x5c90c3,_0x3c29df)=>{const _0x4b8245=_0x174833;y[_0x4b8245(0x1f5)](_0x4b8245(0x2c5));let _0x22f106=await this[_0x4b8245(0x6a6)]({'request':_0x5c90c3,'schema':E,'ClassRef':S,'execute':_0x461cec=>I[_0x4b8245(0x667)](_0x461cec)});_0x3c29df[_0x4b8245(0x373)](0xc8)[_0x4b8245(0x271)](_0x22f106);});}},Mr=T(require(a0_0x50dea5(0x5ee))),Z={};function yr(_0xf69d2a,_0x3cd289,_0x593072,_0x20dcf7){Z[_0xf69d2a]||(Z[_0xf69d2a]={}),Z[_0xf69d2a][_0x3cd289]={'id':_0x3cd289,'response':_0x593072,'events':_0x20dcf7};}function br(_0x246c42,_0x42e5a5){!Z[_0x246c42]||!Z[_0x246c42][_0x42e5a5]||delete Z[_0x246c42][_0x42e5a5];}function J(_0xcb3a1,_0xab26d2,_0x3ebbe1){const _0x89b9b=a0_0x50dea5;if(!Z[_0xcb3a1])return;let _0x3e5485=_0x89b9b(0x57a)+JSON[_0x89b9b(0x581)](_0x3ebbe1)+'\x0a\x0a';Object[_0x89b9b(0x164)](Z[_0xcb3a1])[_0x89b9b(0x163)](_0x4aa539=>{const _0x1400f1=_0x89b9b;_0x4aa539[_0x1400f1(0x601)][_0x1400f1(0x58a)](_0xab26d2)&&_0x4aa539[_0x1400f1(0x700)][_0x1400f1(0x315)](_0x3e5485);});}function Sr(){const _0x1815a0=a0_0x50dea5;let _0x2f6d11={};for(let _0x171c68 in Z)_0x2f6d11[_0x171c68]=Object['values'](Z[_0x171c68])[_0x1815a0(0x298)](_0x387dfd=>({'id':_0x387dfd['id'],'events':_0x387dfd[_0x1815a0(0x601)]}));return _0x2f6d11;}var Cr=require(a0_0x50dea5(0x68b)),Ns=require(a0_0x50dea5(0x722)),vs=class{},bi=new Ns[(a0_0x50dea5(0x511))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new Ns[(a0_0x50dea5(0x511))]({'_id':{'type':String,'default':a0_0x50dea5(0x525)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.[a0_0x50dea5(0x3c3)](vs['name'],Si,a0_0x50dea5(0x24b)),Mi=Mr[a0_0x50dea5(0x378)][a0_0x50dea5(0x243)](__dirname,a0_0x50dea5(0x53b)),At=(0x0,$t['Router'])(),Ci=b[a0_0x50dea5(0x42a)](a0_0x50dea5(0x52f))[a0_0x50dea5(0x2ed)],se=[Ta,$a,xa[Ci]];At[a0_0x50dea5(0x603)](a0_0x50dea5(0x4db),$t['default'][a0_0x50dea5(0x32a)](Mi))[a0_0x50dea5(0x42a)](a0_0x50dea5(0x4c7),async(_0x3b49da,_0x592654)=>{const _0x475a4d=a0_0x50dea5;console['log'](_0x475a4d(0x263));let _0x1408ac=_0x3b49da[_0x475a4d(0x5d1)]['instance'],_0x1a7a99=(_0x3b49da['query'][_0x475a4d(0x601)]||'')[_0x475a4d(0x531)](','),_0x437025=(0x0,Cr['v4'])();console[_0x475a4d(0x1b3)](_0x475a4d(0x475),_0x1408ac),console['log']('Subscribed\x20Events:',_0x1a7a99);let _0x5773c8=b['get']('AUTHENTICATION')[_0x475a4d(0x6c4)],_0x6e4e48=_0x3b49da[_0x475a4d(0x583)][_0x475a4d(0x420)];if(console[_0x475a4d(0x1b3)](_0x475a4d(0x656),_0x6e4e48),_0x5773c8[_0x475a4d(0x4b2)]!==_0x6e4e48){console[_0x475a4d(0x1b3)](_0x475a4d(0x747));try{let _0x2b8678=await ue[_0x475a4d(0x438)][_0x475a4d(0x3d9)](_0x1408ac);if(console[_0x475a4d(0x1b3)](_0x475a4d(0x497),_0x2b8678),!_0x2b8678||_0x2b8678['apikey']!==_0x6e4e48)return console[_0x475a4d(0x1b3)](_0x475a4d(0x1da)),_0x592654[_0x475a4d(0x373)](0x191)[_0x475a4d(0x652)](_0x475a4d(0x2d2));}catch(_0x416404){return console[_0x475a4d(0x190)](_0x475a4d(0x772),_0x416404),_0x592654[_0x475a4d(0x373)](0x191)[_0x475a4d(0x652)]('API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.');}}if(!await Xe(_0x1408ac))return _0x592654[_0x475a4d(0x373)](0x194)[_0x475a4d(0x652)](_0x475a4d(0x615));_0x592654[_0x475a4d(0x7aa)](_0x475a4d(0x15a),_0x475a4d(0x52e)),_0x592654[_0x475a4d(0x7aa)]('Cache-Control','no-cache'),_0x592654['setHeader']('Connection',_0x475a4d(0x19e)),_0x592654['flushHeaders']();let _0x5e7589=_0x475a4d(0x57a)+JSON['stringify']({'info':_0x475a4d(0x377)})+'\x0a\x0a';_0x592654[_0x475a4d(0x315)](_0x5e7589),yr(_0x1408ac,_0x437025,_0x592654,_0x1a7a99),_0x3b49da['on']('close',()=>{const _0x45c302=_0x475a4d;console[_0x45c302(0x1b3)](_0x45c302(0x69b)+_0x1408ac),br(_0x1408ac,_0x437025);});}),At['get'](a0_0x50dea5(0x40c),(_0x58b9f0,_0x5dd1ce)=>{const _0x401095=a0_0x50dea5;let _0x536560=Sr();_0x5dd1ce[_0x401095(0x271)](_0x536560);})[a0_0x50dea5(0x42a)]('/',(_0x4e0439,_0x5bfb8b)=>{const _0x4adf99=a0_0x50dea5;let _0xdebb4=b[_0x4adf99(0x42a)](_0x4adf99(0x1d1))[_0x4adf99(0x5e5)];if(_0xdebb4){let _0x4dfd4a=encodeURIComponent(''+_0xdebb4);_0x5bfb8b['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x4dfd4a);return;}let _0xf91121=b[_0x4adf99(0x42a)](_0x4adf99(0x179)),_0x1d82e3=_0xf91121&&_0xf91121[_0x4adf99(0x76a)][_0x4adf99(0x531)]('/')[0x4];if(_0x1d82e3){let _0x941f18=encodeURIComponent(_0x4adf99(0x58c)+_0x1d82e3);_0x5bfb8b['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x941f18);}else _0x5bfb8b[_0x4adf99(0x1a2)](_0x4adf99(0x76f));})['put']('/exit',...se,async(_0x365e53,_0x320271)=>{const _0x37ed8d=a0_0x50dea5;try{console['log'](_0x37ed8d(0x301)),_0x320271[_0x37ed8d(0x373)](0xc8)[_0x37ed8d(0x271)]({'message':_0x37ed8d(0x526)}),_0x320271['on'](_0x37ed8d(0x676),()=>process[_0x37ed8d(0x5f5)](0x0));}catch(_0x557349){console[_0x37ed8d(0x190)](_0x37ed8d(0x174),_0x557349),_0x320271[_0x37ed8d(0x373)](0x1f4)[_0x37ed8d(0x271)]({'message':_0x37ed8d(0x189)});}})[a0_0x50dea5(0x42c)](a0_0x50dea5(0x1ad),...se,async(_0x3c14b5,_0x50b5cd)=>{const _0x281c2e=a0_0x50dea5;try{let _0x243816=_0x3c14b5[_0x281c2e(0x44b)];await ye[_0x281c2e(0x11c)]({},{'$set':_0x243816},{'upsert':!0x0});let _0x15666c=await ye[_0x281c2e(0xcc)]();_0x50b5cd[_0x281c2e(0x271)](_0x15666c);}catch(_0x38c0e7){_0x50b5cd[_0x281c2e(0x373)](0x190)[_0x281c2e(0x652)](_0x38c0e7[_0x281c2e(0x47f)]);}})[a0_0x50dea5(0x42a)](a0_0x50dea5(0x1ad),...se,async(_0x10d726,_0x5030a0)=>{const _0x251602=a0_0x50dea5;try{let _0x26a413=await ye[_0x251602(0xcc)]();if(!_0x26a413)return _0x5030a0[_0x251602(0x271)]({});_0x5030a0[_0x251602(0x271)](_0x26a413);}catch(_0x5b0292){_0x5030a0[_0x251602(0x373)](0x1f4)[_0x251602(0x652)](_0x5b0292['message']);}})[a0_0x50dea5(0x603)](a0_0x50dea5(0x675),new gt(b,...se)[a0_0x50dea5(0x5e7)])[a0_0x50dea5(0x603)](a0_0x50dea5(0x14c),new Nt(...se)[a0_0x50dea5(0x5e7)])[a0_0x50dea5(0x603)]('/chat',new rt(...se)['router'])[a0_0x50dea5(0x603)]('/group',new ht(...se)['router'])['use'](a0_0x50dea5(0x70e),new Ot(...se)['router'])[a0_0x50dea5(0x603)](a0_0x50dea5(0x4a4),new Tt(...se)[a0_0x50dea5(0x5e7)]);var w=class{constructor(..._0x1bf4c1){const _0x4a0f45=a0_0x50dea5;throw{'status':0x190,'error':_0x4a0f45(0x3f6),'message':_0x1bf4c1['length']>0x0?_0x1bf4c1:void 0x0};}},te=class{constructor(..._0x5cf2bb){const _0x3b71fe=a0_0x50dea5;throw{'status':0x191,'error':_0x3b71fe(0x113),'message':_0x5cf2bb[_0x3b71fe(0x6a9)]>0x0?_0x5cf2bb:void 0x0};}},Q=class{constructor(..._0x7b09d4){const _0x1b511e=a0_0x50dea5;throw{'status':0x193,'error':_0x1b511e(0x456),'message':_0x7b09d4[_0x1b511e(0x6a9)]>0x0?_0x7b09d4:void 0x0};}},F=class{constructor(..._0x225ee9){const _0x573c0b=a0_0x50dea5;throw{'status':0x194,'error':_0x573c0b(0x23f),'message':_0x225ee9[_0x573c0b(0x6a9)]>0x0?_0x225ee9:void 0x0};}},A=class{constructor(..._0x2db8c5){const _0x1ad0d9=a0_0x50dea5;throw{'status':0x1f4,'error':_0x1ad0d9(0x67d),'message':_0x2db8c5[_0x1ad0d9(0x6a9)]>0x0?_0x2db8c5:void 0x0};}},de=require(a0_0x50dea5(0x37c));function a0_0x47f4(){const _0x39ee43=['):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','createJid','Erro\x20ao\x20substituir\x20variveis\x20para\x20','updateFlowConfig','!stop','logger','STATUS_INSTANCE','qrcode.updated','uazapiSendMenu','.jwt','MAX_RECONNECT_ATTEMPTS','toDataURL','drop','fromObject','params','):\x20Error\x20processing\x20conditions:\x20','spawn','Type\x20defined\x20as\x20audio','creds.json','.pdf','replyOptions','RECONNECT_TIME_FRAME','nome','apiName','isJidGroup','LEVEL','Erro\x20ao\x20editar\x20o\x20chat','archiveChat','lastMessage','lastmsg','desativadoFluxoAte','):\x20Going\x20to\x20','addReplyOption','privacySettings','URL','The\x20property\x20cannot\x20be\x20empty','router','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','saveConversationToDatabase','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Logger','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','method','path','groupHandler','action','chats.update','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','removeData','selectableCount','exit','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','unlocked','DEBUG','makeCacheableSignalKeyStore','isListOfNumbers','match_last_seen','configService','):\x20','repeat','editflowcondition','CONTACTS_SET','events','src','use','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','replyOption',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','/wa-all-message','groups.upsert','context','groupDesc','isURL','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','):\x20Fluxos\x20no\x20esto\x20ativados','updateStatusPrivacy','CORS_ORIGIN','jsonschema','deleteMessageForEveryone','):\x20Current\x20Time:\x20','1032878QoFJKZ','Instncia\x20no\x20encontrada.','\x20tentativas:\x20remotejid=','reorderReplyOptions','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','stopMinutesMaxActives','\x20not\x20found,\x20retrying\x20in\x20','\x1b[44m','participants','remove.instance','flowStopConversation','sending','updateParticipant','presence','beautifyWithPlaceholders','request\x20received\x20in\x20editConversation','dropCollection','4QPkUUO','certbot','*\x0a\x0a','waitingMenu_ExpiredMessage','birthtime','createFlow','1270oUUouQ','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','waMonitor','Output\x20path:\x20','):\x20[messages.upsert]\x20group\x20ignored','flowIgnoreGroups','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','test','\x20Tentativa\x20de\x20reconexo\x20','connectionState','http://checkip.dyndns.org','addBlock','Rtulo\x20invlido\x20ou\x20sem\x20ID.','Error\x20fetching\x20and\x20updating\x20profile:\x20','user','):\x20Comando\x20desconhecido:\x20','sendAudio','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','CREDENTIALS','Nmero\x20no\x20possui\x20WhatsApp.',':\x20Erro\x20durante\x20loadproxy\x20-\x20','command','deleted','getTime','updateAgent','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','.\x20Aguardando\x20antes\x20de\x20reconectar...','REDIS_PREFIX_KEY','newStoppedUntil','isCommunity','sendCommand','certonly',',\x20Minutes\x20to\x20Close:\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','updateMissingCustomFields','Authentication\x20error','statSync','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','send','setContext','CONNECTION_UPDATE','notEmpty','API\x20Key\x20from\x20Request:','MESSAGES_UPDATE','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','initAuthCreds','getOwnPropertyDescriptor','moreLogs','convert','updateChatWithMessage','):\x20teve\x20mudanas\x20chat.name:\x20','repository','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','flowConfig','state','defineAuthState','metadata','instanceName','updatePresence','allFlows','GROUPS_UPDATE','fetchInstances','available','\x20chats\x20de\x20','/wa-groups','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','\x20is\x20already\x20in\x20use.','application/octet-stream','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','existsSync','errors','format','/instance','finish','announcement',':\x20IP\x20funcionando!','revokeInviteCode','):\x20Enviando\x20contato','convertToWebP','closed','Internal\x20Server\x20Error','\x20chats\x20foram\x20atualizados.','modifiedCount','processApiRequest','groupRevokeInvite','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20Ignoring\x20group\x20messages.','approve','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','backgroundColor','content','unlinkSync','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','uuid','copyBlock',']\x20(','error_log','toNumber','importChatsAntigo','inviteCode','generateWAMessageFromContent','[all]','sendStatus','Image\x20converted\x20to\x20WebP','isInteger','evaluateConditionTest','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','binary','6326738oTnlHw','Connection\x20closed\x20for\x20instance:\x20','request_method','SUCCESS','\x20after\x20','stopWhenYouSendMsg','\x20no\x20encontrado\x20para\x20atualizao.','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','importChats','open','DB_PREFIX_NAME','chatModify','dataValidate','getChatModelForOwner','key','length','\x20->\x20NO\x20CORRESPONDE.','Erro\x20ao\x20deletar\x20a\x20conversa','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','jwt','saveMediaToFile','STORE','http','\x20minutos\x20verificar\x20novas\x20mensagens','Group\x20not\x20found','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','.xlsx','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','findGroupInfos','importChatsBatch','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','padStart','removeOlderDisconnectedInstances','senderKeyDistributionMessage','originalUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20',',\x20saindo.','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','findFlow','toggleEphemeral','upperCase','API_KEY','whatsappNumbers','\x1b[30m','organization','Invalid\x20format','findWebhook','FlowRouter','Erro\x20ao\x20editar\x20a\x20conversa','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','authState','qrcode','.url','findAndUpdateCacheContact','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','jsonwebtoken','createWebhook','getFlowModelForOwner','app-state-sync-key','createAndSave','processing_id','):\x20No\x20achou\x20nenhum\x20flow','chatHandle','removeProfilePicture','_activedCount','pollOnReplyDelete','mentions','rm\x20-rf\x20','verifiedName','cacheContactModel','):\x20leadInfoVariables','qrCode','contacts.update','editFlowVaredit','description','):\x20newFirstValue\x20aps\x20replaceVariables:','):\x20Bloco\x20com\x20ID\x20','recebido\x20de','DOCKER_ENV','findByIdAndDelete','Business\x20profile\x20fetched','unreadcount','filter','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','selectedOptions','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','throwAndLogError','ERROR','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','paused','output','padEnd','):\x20conversation.waitingMenu_name','/create','utf8','DELETED','REDIS','replaceVariablesChat','):\x20Conversa\x20inserida\x20com\x20sucesso.','unhandledRejection','response','apiResponse','startsWith','editFlowBlock','client','customFields','redis://127.0.0.1:6379','Erro\x20ao\x20aplicar\x20varedit:\x20','sendWhatsAppAudio','Erro\x20ao\x20copiar\x20o\x20documento','groupId','sendMedia','testProxy','sendContact','/webhook','CONNECTION','updateBlock','/wa-presence','now','authentication','Error\x20in\x20converting\x20audio','sticker','_Labels','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','loadEnv','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','createSectionsFromValues','ChatRouter','scheduled','caption','\x20no\x20encontrado','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','mongoose','participant','$dbName','optionName','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','mediatype','Deletion\x20failed','creds','messages.update','The\x20','pollMessageOnDelete','isJWT','bodyStringErrorParse','notContains','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Converted\x20image\x20deleted','_Contacts','sections','Variveis\x20no\x20encontradas:','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','silent','longitude','basename','ENABLED','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','slice','result','https://github.com/uazapi/uazapi.git','downloadMediaMessage','):\x20Enviando\x20udio','some','groupRequestParticipantsUpdate','cpf','cwd','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','env.KEY\x20!==\x20key','replaceVariablesLogs','generateHash','createGroup','.pptx','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','editflowvaredit','\x20ao\x20chat\x20','toFile','flowConversation','messageHandle','redisEnv','headerString','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','CHATS_DELETE','Instance\x20restarted','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reconnectAttempts','mongodb','ON\x20-\x20dbName:\x20','vcard','ephemeralExpiration','Erro\x20ao\x20importar\x20chats','Button\x20texts\x20cannot\x20be\x20repeated','Db\x20Connection','update','stopConversation','profile','labels.association','image','password','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','type','MessageModel','CacheContacts\x20database\x20connection\x20closed.','FULLCHAIN','isLong','deleteConversation','\x1b[34m%s\x1b[0m','processgoToFlow','https://uazapi-plugin.bubbleapps.io/','ChatModel','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','label','SERVER_PORT','#9ab6c1','$addToSet','size','Esse\x20fluxo\x20expirou','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','max','poll','updateReadReceiptsPrivacy','PRODUCT_LIST','Instance\x20logged\x20out','The\x20global\x20api\x20key\x20must\x20be\x20set','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','ListType','waInstances','Erro\x20ao\x20atualizar\x20conversa:\x20','notEqual','getAutomateSystem','groupSetting','getContentType','detail','\x20removido\x20do\x20chat\x20','Erro\x20do\x20Certbot:\x20','/wa-message-update','editflow','checkAndRestartProcess','SendScheduleMessage','subjectOwner','assign','processblock','\x20-\x20retornado:\x20','request\x20received\x20in\x20getAutomateSystem','HOST','https://api.ipify.org?format=json','http://ifconfig.me/ip','Erro\x20ao\x20iniciar\x20fluxo:\x20','__esModule','NextBlock','profilePictureUrl','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','.webp','\x20minutos','admin_add','findLabels','Trying\x20to\x20get\x20business\x20profile','request\x20received\x20in\x20scheduleMessage','\x20-i\x20',':\x20Configurao\x20do\x20IP\x20invlida.\x20Tentando\x20o\x20prximo...','loadInstance','warn','updateGParticipate','admin','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','joinGroupValidate','setHeader','Error\x20while\x20deleting\x20message\x20for\x20everyone','stanzaId','bulkWrite','instanceCount','\x22\x20not\x20found','Erro\x20ao\x20atualizar\x20o\x20flow.','findIndex','AUTHENTICATION_API_KEY','menuIgnoreNonVotes','findOne','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','deleteMany','round','-instances','):\x20Buscando\x20todos\x20os\x20fluxos...','contactHandle','QRCODE_UPDATED','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','crypto','notas','qrcode-terminal','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','upsertChats','PORT','instance','createConnection','CLEANING_INTERVAL','\x1b[36m%s\x1b[0m','addresss','convertedOptions','DELIVERY_ACK','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','augusto.fcs@gmail.com','optionDescription','protocol','/wa-connection-update','enumerable','\x5c$&','debug','Database\x20connection\x20closed.','ultimaTentativaRemoteJid','Error\x20fetching\x20group','latitude','authModel','Removidas\x20as\x20variveis:\x20','updateMany','vote','#00a1f2','url','stateConnection','extractRegex','#f64847','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','contactname','Pausado\x20por\x20','createHash','prepareWAMessageMedia','when','BufferJSON','updateMissingLabels','groupBetterSetting','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','font','decryptPollVote','joinApprovalMode','process','readdirSync','reviver','MESSAGES_UPSERT','localWebhook','createflow','CORS','groupMetadata','\x20->\x20CONFIRMADO.','push','Unauthorized','Telefone:\x20','all','getConversation','URI','promote','/:instanceName','Rtulo\x20atualizado:','status@broadcast','updateOne','replaceVariablesInReplyOptions','parse','getLabelModelForOwner','updateMissingTags','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','contactMessage','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','SERVER_URL','document','\x1b[43m','ScheduleMessage','menuExpiredMessage','#fe9dfe','loadWebhook','Background\x20color\x20is\x20required','chats.upsert','fetchBusinessProfile','sendPoll','option','goToFlow','Label\x20','Validate','long','Instncias\x20atualizadas\x20como\x20desconectadas:\x20','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','Bloco\x20com\x20ID\x20','):\x20debug\x20alterando\x20this.AutomateSystem','.ppt','call','buttonId','atendimentoAberto','scheduleMessage','#ffc5c7','condition','formatVCard','fetchContacts','Fluxo\x20no\x20encontrado','connectToWhatsapp','msgRetryCounterCache','videoMessage','updateCustomFields','match','listMessage','envYaml','saveChatVariables','/message','inner','ButtonsMessage','PENDING','):\x20Ler\x20mensagem','groupJoinApprovalMode','composing','demote','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName','email','subdomain','ConversationModel','URL:','whatsappNumber','Content-Type','Erro\x20ao\x20alterar\x20fluxo','locked','processPollUpdateMessage','findContacts','updateMediaMessage','start','boolean','replaceOne','forEach','values','keys','\x20-\x20ON:\x20','responsavelid','connectionStatus','fileUrl','getScheduleMessageModelForOwner','):\x20lastBlockId:\x20','eventHandler','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','floor','mediaKey','env','Read\x20messages','getStatus','DATABASE_CONNECTION_HOST','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Entrou\x20na\x20funo\x20saveReply','reactionMessage','clearVariables','deletedCount','SSL_CONF','Instance\x20\x22','expression','connectionUpdate','memberAddMode','\x1b[32m','lastUpdate','cacheContact','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Enviando\x20mdia','documentWithCaptionMessage','\x1b[31m','remove','local_map','):\x20conversation.status:\x20','equal','Erro\x20ao\x20encerrar\x20a\x20API',',\x20Resultado:\x20','groupValidate','READ','Erro\x20ao\x20buscar\x20conversas','cachedData-whatsapp','Erro\x20ao\x20copiar\x20dados:','error','lastCondition','):\x20newSecondValue\x20aps\x20replaceVariables:','buttonMessage','restartInstance','nomecompleto','creation','connect','options','.mp4','instances','):\x20nextBlock.uazapi.name','Desconectado,\x20parando\x20execuo.','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','keep-alive','#ffae04','rowId','useMultiFileAuthState','redirect','views','ReplyOption\x20com\x20ID\x20','Selecione','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','allflows','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','deleteChat','INFO','\x20no\x20encontrado\x20para\x20cpia','ContactModel','/config','Fetching\x20business\x20profile','media','webhook','setting','\x22,\x20porm\x20no\x20foi\x20possvel\x20descriptograf-la,\x20sendo\x20impossvel\x20ver\x20seu\x20contedo.','log','Converting\x20image\x20to\x20WebP\x20to\x20sticker','\x22\x20-\x20REMOVED','findConversation','/wa-chats','FlowModel','DATABASE_ENABLED','trim','saveTextReply','DARK','):\x20Criou\x20conversa\x20no\x20startFlow:','remoteJid','markMessageAsRead','@g.us','announce','dbServer','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','save','CONTACTS_UPSERT','isJidUser','leadInfo.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','.X-ABLabel:Celular\x0a','_error','VERBOSE','leadInfo.desativadoFluxoAte','copyDataToNewModel','linkPreview','logout','.TEL;waid=','SERVER','.webm','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','fetchChats','Varivel\x20no\x20encontrada!','licenca','LOG_LEVEL','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','readMessage','emit','normalizeMessageContent','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','DaysToDelete',':\x20IP\x20falhou.\x20Tentando\x20o\x20prximo...','varedit','StatusJidList\x20is\x20required','editConversation','Fluxo\x20no\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','\x20adicionado\x20ao\x20chat\x20','getRandomText','SSL_CONF_FULLCHAIN',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','chatLog','substring','greater','isRunning','getContactModelForOwner','/events','Font\x20is\x20required','ContactsAndGroups','RemoveChatLabel','limit','redis','verbose','statusCode','writeData','class-validator','temp-','Atualizao:\x20','activatedCount','leaveGroup','oldValue','list','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','getTicketSystem','sendLocation','processawaitSeconds','\x1b[42m','WARN','Sistema\x20atualizado\x20com\x20sucesso!','eventEmitter','sem\x20texto\x20na\x20mensagem','mentioned','):\x20Procurando\x20mensagens\x20para\x20envio','jid',':\x20IP\x20configurado:\x20','):\x20atualizao\x20chat:\x20','order','add','EMAIL:','agents','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','name','):\x20Deletando\x20conversa...','readFile','.extension','group-participants.update','./.git/config','webhookModel','editOperator','Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','chats.set','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','protocolMessage','--standalone','https://jsonip.com','contacts.upsert','lastReceivedMessage','everyOne','deleteInstance','getScheduleMessage','#b4ebff','toLowerCase','$set','variablesNotFound','\x20-y','updateProfileStatus','findGroups2','Erro\x20ao\x20buscar\x20o\x20fluxo','messageType','):\x20Buscando\x20flow...','sendMenu','Error\x20writing\x20file:\x20','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','loadproxy','leadInfo','pre','.mimetype','groupInviteCode','):\x20Editando\x20replyOption...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','getMinutes','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','enviado\x20para','#ff9484','Not\x20Found','maxActives','sendText','deleteOne','join','StartBot','processUazapi','onTime','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','updateGParticipant','PASSWORD','replace','All_Instances_Config','count','):\x20customFieldVariables','SECRET','):\x20this.processing_id:\x20','presenceSubscribe','parseInt','contextInfo','Imagem\x20no\x20encontrada','uazapiSendText','insertCount','editFlowVariable','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','lean','CONFIGURAO\x20GERAL:','envProcess','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','reaction','groupToggleEphemeral','SERVER_TYPE','Erro\x20ao\x20editar\x20agentes','messages.set','host','O\x20nome\x20do\x20fluxo\x20\x20obrigatrio','bateu\x20events','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','PREFIX_KEY','storePath','proto','hbs','Last\x20message\x20not\x20found','GROUP_PARTICIPANTS_UPDATE','timeout','\x1b[34m','text','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','statusJidList','sharePass','json','chats.delete','entries','.mp3','lastSend','Rtulo\x20deletado:','findGroupInfo','getAllData','Resultado\x20da\x20atualizao:','apirequest','pop','fullName','DisconnectReason','messagesSend','getMIMEType','group','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Erro\x20ao\x20sincronizar\x20fluxos:\x20','@redis/client','indexOf','):\x20Limpando\x20AutomateSystem','nextBlock:','fetchLabels','blockLogs','webhookService','endsWith',',\x20Comparador:\x20','EXPIRIN_IN','Processing\x20audio','ids','connectedName','next_groupId','groupName','newValue','findGroup','validate','processclearVariables','):\x20alterando\x20this.AutomateSystem','archive','map','FlattenObject\x20result:','realVariables','):\x20enviado\x20para\x20[','CORS_METHODS','Error\x20occurred\x20while\x20archiving\x20chat:\x20','hasOwnProperty','buttonText','messages.upsert','readMessages','last_update','random','This\x20name\x20','lastBlockId','pushName','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','flattenObject','shareOwners','Not\x20is\x20business\x20profile','\x20minutos...','groupRequestParticipantsList','off','quoted','findManyByIds','desc','none','authorization','\x1b[41m','instanceName\x20not\x20provided.','ListMessage','utf-8','locationMessage','connection.update','groupadd','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Image\x20is\x20base64','dark','labelId','):\x20Conversa\x20atualizada\x20em\x20memria','exports','has','lowerCase','CONTACTS_UPDATE','Message\x20not\x20found','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','request\x20received\x20in\x20allFlows','Message','https://ipinfo.io/json',',\x20resultado:\x20','InstancesAlterarTodas','delete','delayChatLabel_RETRY_DELAY_MS','getDevice','listType','\x20contacts','release','):\x20tem\x20blocks','ini','API\x20Key\x20invlida.','HH:mm:ss','pictureUrl','contactsArrayMessage','string','REDIS_URI','\x20instance\x20does\x20not\x20exist','removed','TEXT','cleaningUp','7640560DPfwcx','\x0aitem','.\x20Pulando.','request\x20received\x20in\x20editFlowvariable','AddChatLabel','mimetype','):\x20teve\x20mudanas\x20chat.displayName:\x20','updateLastSeenPrivacy','.gif','Flow\x20no\x20encontrado','and','\x1b[37m%s\x1b[0m','DATABASE_CONNECTION_USER','#000000','buttons','less','remote\x20\x22origin\x22','TYPE','ObjectId','conversation','editflowreply','^\x5cd+[\x5c.@\x5cw-]+','phoneNumber','code','Erro\x20ao\x20adicionar\x20label\x20','LOG','deleteflow','flowName','segundos','-whatsapp-api','findGroups','editedMessage','updateProfilePicture','#dfaef0','Delete\x20chat','waitingForReplyMenu','deleteReplyOption','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','updateProfileName','tags','https://chat.whatsapp.com/','closeExistingConversations','15mdjJcg','delaySecMin','\x1b[40m','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','status.instance','findOrCreate','chat','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','):\x20transformedCustomFieldVariables','exec','cache','expiration','The\x20\x22','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','write','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','contact','synchronizeFlows','etiquetas','address','http://ip-api.com/json','request\x20received\x20in\x20updateFlowConfig','cachedContact','\x20horas\x20e\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting','Chat\x20com\x20ID\x20','pollCreationMessageV2','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','\x22\x20-\x20NOT\x20CONNECTION','fileLength','blocks','title','1025484MNkwiq','collection','^\x5cd+([-]\x5cd+)*@g.us$','static','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','E-mail:\x20','js-yaml','updateMissingEtiquetas','Error\x20updating\x20message\x20status:','setUpdate','scheduleMessages','cors','Erro\x20ao\x20remover\x20instncias\x20antigas:','getflow','\x20}\x0a','Error\x20finding\x20many\x20contacts:','?timestamp=','instanceInfo','DD/MM\x20HH:mm:ss','created','Router','Deleted\x20','editFlow','):\x20Editando\x20edio\x20do\x20fluxo...','headers','connecting','readreceipts','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x20com\x20sucesso.','convertaudioMP3','sectionsToString','Types','bodyString','uazapi','stderr','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','flow','findByIdAndUpdate','sendList','sort','_p_','Erro\x20ao\x20remover\x20label\x20','.ogg','Operador:\x20\x22','role','dbClient','valid','delayChatLabel','ScheduleMessageModel','video','console','findById','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','authService','waUploadToServer','scheduleNextCheck','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','isJidBroadcast','Erro\x20ao\x20editar\x20o\x20bloco:\x20','/instance/connect','Image\x20created','InstancesAsDisconnectedX','getConversationModelForOwner','DATABASE','getLastMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','uazapiDeleteMessage','contentText','application/json','\x20e\x20ID=','/wa-contacts','AUTHENTICATION_JWT_SECRET','\x20segundos','Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage','editFlowReply','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','status','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','\x1b[37m','DATABASE_CONNECTION_URI','Conexo\x20estabelecida','default','connectedClient','labels.edit','isBase64','@whiskeysockets/baileys','replacer','endSession','pollCreationMessage','):\x20Editando\x20bloco...','.error','verify','9586kkhfMO','label_jid','#d8e651','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','pollCreationMessageV3','reference','out','requestFile','PLAYED','hex','\x1b[33m\x1b[1m','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','request\x20received\x20in\x20editFlow','uazapiSendAudio','statusMessage','evaluateCondition','pollCreationMessageKey','mongodb://','Certbot:\x20','del','secondValue','truncatedto','$pull','Incio','ignoreGroups','create','variable','No\x20respondeu\x20com\x20a\x20enquete.','done','Erro\x20ao\x20deletar\x20chat:','arrayUnique','LICENSE_INVALID','):\x20Editando\x20varivel\x20do\x20fluxo...','no.connection','.ogv','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','numbers','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','getUpdate','sign','trimmed','Valor\x20de\x20find\x20ou\x20replace\x20ausente','deleteFlow','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','sendReaction','variablesToObject','post','Cached\x20audio\x20found,\x20returning\x20existing\x20file','):\x20Flow\x20no\x20encontrado','SEND_MESSAGE','messaging-history.set','50mb','readFileSync','automateSystem','capitalizedWords','updateGroupPicture','hGetAll','/exit','waitingMenu_text','writeFile','\x20foi\x20interrompido\x20pelo\x20usurio.','min','restrict','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','model','REDIS_ENABLED','\x1b[46m','--agree-tos','/instance/delete','CHATS_UPDATE','groups','subject','generate','stickerMessage','METHODS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','pt-BR','fetchProfile','NO_IP','_Chats','\x1b[1m\x1b[37m','messages','editScheduleMessage','updateAll','END:VCARD','stopMinutes','find','leadInfo.customFields','WebhookGlobal','createSharedFlow','_id','fetchMessages','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','fromMe','varedits','truncatedtoEnd','PRIVKEY','flowPrefixCommand','Type\x20is\x20required','):\x20Buscando\x20conversa...','request\x20received\x20in\x20updateAgent','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','audioMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','updateProfilePicturePrivacy','sendSticker','noConnection','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','lastInteraction','scheduleSendMedia','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','contains','\x20de\x20conectar\x20com\x20IP\x20extra.','blockId','Bad\x20Request','https-proxy-agent','requestPairingCode','changeVariables','groupGetInviteInfo','):\x20Enviando\x20localizao','flush','formatBRNumber','Image\x20is\x20url','delayMessage','):\x20Entrou\x20na\x20funo\x20clearVariables','child_process','leadInfo.etiquetas','badSession','findAndReplaceRegex',',\x20valor\x20passado:\x20\x22','charAt','delaySecMax','#fed428','\x5cd+','SERVER_ACK','remoteJidsRemaining','/clients-info','checkAndUpdateChatStatus','findParticipants','exists','uazapiSendLocation','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','restart','listResponseMessage','):\x20expirationTime:\x20','AppStateSyncKeyData','AutomateFunctions','getMessageModelForOwner','scheduleSendText','Comando\x20desconhecido','http://ipecho.net/plain','Module\x20-\x20ON','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','updatePrivacySettings','toBRL','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','apikey','fone','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','setWebhook','saveVariable','_activatedCount','resetReconnectionVariables','waitingMenu_id','150SMRRco','deleteDoneMessages','get','Database\x20is\x20not\x20enabled','put','enabled','updateReplyOption','subjectTime','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','?authSource=admin&readPreference=primary&directConnection=true','getMessage','#6f7bcf','):\x20Enviando\x20texto','applyvaredit','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','removeChatLabel','auth','chats','digest','execSync','port','dayjs','info','creds.update','):\x20delete\x20=\x20true','Nenhum\x20chat\x20encontrado\x20para\x20editar.','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','fetchProfilePictureUrl','removeInstance','bearer',',\x20Segundo\x20Valor:\x20','USER','EMAIL','prefixCommand','body','messageSecret','load','fileName','webp','close','contact_blacklist','folder','findAndReplace','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Primeiro\x20Valor:\x20','Forbidden','textMessage','Missing\x20global\x20api\x20key','/media/','stdout',',\x20far\x20nova\x20verificao\x20em\x20','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','ReplyOptions\x20finais\x20aps\x20reordenao:','shutdown\x20-r\x20now','allContacts','imported','@newsletter','from','Button\x20IDs\x20cannot\x20be\x20repeated.','convertaudio','Content\x20is\x20required','ORG:','username','encoding','Reinicializao\x20iniciada:\x20','not_announcement','\x20attempts.','item','createConversationforStartFlow','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','#9ba6ff','Mensagem\x20no\x20suportada','object','WA\x20MODULE','instanceKeys','STORE_CHATS','Instance\x20ID:','connectToWhatsappController','mediaMessage','data','CHATS_UPSERT','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','PROXY','all_member_add','send.message','message','g-t','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','variables','isArray','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','notMatchRegex','contacts','fetchLatestBaileysVersion','prototype','footerText','height','toLocaleString','sha256','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','array','remoteJids','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','number','.doc','Parando\x20aplicao,\x20atualizao\x20recebida','shift','groups_ignore','\x1b[47m','Instance\x20Key\x20from\x20DB:','findChats','minutesToClose','rows','messageStubType','Falha\x20ao\x20processar\x20a\x20solicitao','replaceVariables','):\x20Deletando\x20fluxo...','Nmero:\x20','end','HttpsProxyAgent','pollMessage','request\x20received\x20in\x20getConversation','/automate','public','}}\x20->\x20\x22','waitingMenu_replyOptions','formatStatusMessage','jpegThumbnail','audioWhatsapp','81531rbAJVr','editChat','OrAnd','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20',':\x20Tentativa\x20','CORS_CREDENTIALS','toString','KEY','unavailable','prepareMediaMessage','Not\x20allowed\x20by\x20CORS','getClient','getProfileName','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','message_normalized','updateConversation','where','editflowgroup','Hash\x20to\x20image\x20name:\x20','.png','processConditions','fetchPrivacySettings','sendButtons','flowActive','messageTimestamp','instancias:\x20','dbSettings','1656789jMELIi','/events/:instance','):\x20Edit\x20schedule\x20message...','reject','displayName','://','integer','PRESENCE_UPDATE','stopped','archived','viewOnceMessage','Temp\x20image\x20deleted','):\x20Campos\x20a\x20serem\x20atualizados:','empty','oldToken','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','):\x20Query\x20params:','pollErrorMessage','conversationTimestamp','urlOrBase64','):\x20Procurando\x20conversa','/media','request\x20body:\x20','SERVER_OFFLINE','Falha\x20ao\x20processar\x20a\x20solicitao\x20messages.upsert','Erro\x20ao\x20buscar\x20Schedule\x20Messages','webhookMap','):\x20Usando\x20extenso\x20padro:\x20','updateStopChat','routerPath','header','updateOneById','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','\x20\x1b[0m','Image\x20path:\x20','wuid','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','conditions','cleanStore','Close\x20connection','website','ex:\x20\x22groupJid=120362@g.us\x22','URL\x20limpa:\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','joinGroup','Cannot\x20','dbInstance','processvaredits','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Error\x20updating\x20cache\x20contact:','GROUPS_UPSERT',',\x20pairCode:\x20','unknown\x20operation\x20type\x20[','presence.update','lastSendMessage','choices','reconnectTimestamps','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','groups.update','_FlowHistorico','arraybuffer','pairingCode','reorderBlocks','stoppedUntil','groupUpdateSubject',',\x20qrcodeCount:\x20','matchRegex','request\x20received\x20in\x20starFlow','8080','menuType','\x20quoted:\x20','Nenhum\x20chat\x20fornecido\x20para\x20insero.','Schema','express','upsertedCount','MESSAGES_SET','saveCreds','createRegularFlow','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','):\x20isVote:\x20','notify','.xls','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','):\x20Conversa\x20est\x20expirada','defineProperty','.wav','JWT','groupJid','Sending\x20audio\x20whatsapp','base64','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','^\x5cd+','config','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','findOneAndUpdate','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','/instance/create','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','replaceVariablesInObject','isConnected','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','text/event-stream','AUTHENTICATION','\x1b[0m','split','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','getBase64FromMediaMessage','editFlowGroup','writeFileSync','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','request\x20received\x20in\x20editFlowgroup','delay','request\x20received\x20in\x20deleteFlow','updateMessage','downloads','TEL','):\x20Entrou\x20na\x20funo\x20goToFlow','Flow\x20iniciado\x20com\x20','online','store','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','block','sendDataWebhook','Erro\x20ao\x20deletar\x20mensagens:','getFlow','Falta\x20informao\x20para\x20a\x20chamada\x20API','imagechat','collections','createNewConversation','true','last','express-async-errors','/wa-message','imageMessage','profilePicture','awaitSeconds','Fluxos\x20no\x20esto\x20ativados','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','isBusiness','CHATS_SET','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','insert','groupFetchAllParticipating','set','/instance/fetchInstances','https://api.elevenlabs.io/v1/text-to-speech/','firstValue','AutomateSystem','Falha\x20ao\x20processar\x20fetchBusinessProfile','):\x20[ERROR]:\x20No\x20foi\x20possvel\x20recuperar\x20mensagem\x20de\x20remotejid=','.uazapi.dev','#92ceac','fetchConversation','_pushName','env.yml','\x20inseridas\x20no\x20banco\x20de\x20dados...','updateOnlinePrivacy','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','.docx',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Erro\x20durante\x20a\x20atualizao:\x20','toUpperCase','groupUpdateDescription','https','startFlow','instance.','@broadcast','https://api.openai.com/v1/images/generations','hSet','deleteAll','audio','normalizeMessage','success','delayChatLabel_MAX_RETRIES','\x20saindo\x20da\x20funo','readData','data:\x20','\x1b[1m','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','sendMessageWithTyping','value','\x1b[31m%s\x1b[0m','apply','stringify','recording','query','toArray','getDelay','\x0a*Voc\x20respondeu*:\x0a','axios','createInstance','):\x20Criando\x20nova\x20conversa[createNewConversation]','includes','@s.whatsapp.net','https://','Instncia:\x20','verifyWhatsAppNumber','audio/ogg;\x20codecs=opus','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','owner','findAll','FlowController','):\x20Query\x20params:\x20','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','function','delAll','scheduleSendAudio','#ffffff','flowStopMinutes','awaitingApproval','namespace','editFlowCondition','createServer','pollUpdateMessage','createConversationforgoToFlow','color','deleteBlock','messageId','sendPresenceUpdate','\x0a{\x20instance:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','getVariablesChat','deleteMessage','\x1b[33m%s\x1b[0m','groupMemberAddMode','Enter\x20a\x20value\x20in\x20milliseconds','ERROR:\x20','menuMessage','dbConnection','connectionClosed','uazapiSendContact','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','chatId','fetchStatus','groupSettingUpdate',':\x20no\x20h\x20IP\x20salvo,\x20ou\x20est\x20invlido,\x20selecionando\x20um\x20IP\x20aleatrio.','setNewValue','_ScheduleMessages','insertMany','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','Last\x20message\x20not\x20found\x20for\x20number:','sendMessage','uncaughtException','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','including\x20timestamp\x20in\x20url:\x20','.fileUrl','pino'];a0_0x47f4=function(){return _0x39ee43;};return a0_0x47f4();}async function Rs(_0x42adbe){const _0x47867c=a0_0x50dea5;let _0x26cb6e=new N(Rs[_0x47867c(0x213)]),_0x321d01=R[_0x47867c(0x4b6)](),_0x1ee31a=_0x321d01['db'](b[_0x47867c(0x42a)](_0x47867c(0x366))['CONNECTION'][_0x47867c(0x6a4)]+_0x47867c(0xd0))[_0x47867c(0x328)](_0x42adbe),_0x452820=async(_0x1efce8,_0x219068)=>{const _0x30fa40=_0x47867c;try{return await _0x321d01[_0x30fa40(0x197)](),await _0x1ee31a['replaceOne']({'_id':_0x219068},JSON['parse'](JSON[_0x30fa40(0x581)](_0x1efce8,de[_0x30fa40(0x100)]['replacer'])),{'upsert':!0x0});}catch{}},_0x328666=async _0x2da109=>{const _0x1bd580=_0x47867c;try{await _0x321d01[_0x1bd580(0x197)]();let _0x41b5af=await _0x1ee31a[_0x1bd580(0xcc)]({'_id':_0x2da109}),_0x2e0021=JSON[_0x1bd580(0x581)](_0x41b5af);return JSON[_0x1bd580(0x11e)](_0x2e0021,de['BufferJSON'][_0x1bd580(0x10b)]);}catch{}},_0x5ea5c6=async _0x5962f5=>{const _0x1503e3=_0x47867c;try{return await _0x321d01[_0x1503e3(0x197)](),await _0x1ee31a[_0x1503e3(0x242)]({'_id':_0x5962f5});}catch{}},_0x2e0c84=await _0x328666(_0x47867c(0x72a))||(0x0,de[_0x47867c(0x659)])();return{'state':{'creds':_0x2e0c84,'keys':{'get':async(_0x551272,_0x5e3e09)=>{const _0x4d8288=_0x47867c;let _0x2ccd17={};return await Promise['all'](_0x5e3e09[_0x4d8288(0x298)](async _0x4ef6a6=>{const _0x2c0080=_0x4d8288;let _0x3282e2=await _0x328666(_0x551272+'-'+_0x4ef6a6);_0x551272===_0x2c0080(0x6d6)&&_0x3282e2&&(_0x3282e2=de[_0x2c0080(0x267)][_0x2c0080(0x2c6)][_0x2c0080(0x415)][_0x2c0080(0x5d0)](_0x3282e2)),_0x2ccd17[_0x4ef6a6]=_0x3282e2;})),_0x2ccd17;},'set':async _0x326cb9=>{const _0x5e40f8=_0x47867c;let _0x59c37d=[];for(let _0x366cf0 in _0x326cb9)for(let _0x267f62 in _0x326cb9[_0x366cf0]){let _0x4bd374=_0x326cb9[_0x366cf0][_0x267f62],_0x32e48f=_0x366cf0+'-'+_0x267f62;_0x59c37d[_0x5e40f8(0x112)](_0x4bd374?_0x452820(_0x4bd374,_0x32e48f):_0x5ea5c6(_0x32e48f));}await Promise[_0x5e40f8(0x115)](_0x59c37d);}}},'saveCreds':async()=>_0x452820(_0x2e0c84,_0x47867c(0x72a))};}var Is=T(require(a0_0x50dea5(0x135))),xs=T(require('node-cache')),Dt=require('@whiskeysockets/baileys'),Er=require(a0_0x50dea5(0x283)),xt=require('@whiskeysockets/baileys'),It;function Ei(_0x149e83){const _0x50df9e=a0_0x50dea5;return It||(It=(0x0,Er['createClient'])({'url':_0x149e83[_0x50df9e(0x117)]}),It[_0x50df9e(0x197)]()),It;}var ne=class c{constructor(_0x143e4e,_0xb8f3ac){const _0x2a8d63=a0_0x50dea5;this[_0x2a8d63(0x752)]=_0x143e4e,this[_0x2a8d63(0x665)]=_0xb8f3ac,this[_0x2a8d63(0x5c8)]=new N(c[_0x2a8d63(0x213)]),this['client']=Ei(_0x143e4e);}set[a0_0x50dea5(0x388)](_0x1185f7){const _0x4f95e4=a0_0x50dea5;this[_0x4f95e4(0x665)]=_0x1185f7;}async[a0_0x50dea5(0x473)](){const _0x4bd2ad=a0_0x50dea5;try{return await this[_0x4bd2ad(0x704)][_0x4bd2ad(0x649)]([_0x4bd2ad(0x165),this[_0x4bd2ad(0x752)][_0x4bd2ad(0x265)]+':*']);}catch(_0xc75b47){this[_0x4bd2ad(0x5c8)][_0x4bd2ad(0x190)](_0xc75b47);}}async[a0_0x50dea5(0x1f7)](_0x42d388,_0x163fd1){const _0x2402a5=a0_0x50dea5;try{let _0x58e240=JSON['stringify'](_0x163fd1,xt[_0x2402a5(0x100)][_0x2402a5(0x37d)]);return await this['client'][_0x2402a5(0x572)](this['redisEnv'][_0x2402a5(0x265)]+':'+this['instanceName'],_0x42d388,_0x58e240);}catch(_0x527566){this[_0x2402a5(0x5c8)]['error'](_0x527566);}}async[a0_0x50dea5(0x278)](){const _0x2fdac2=a0_0x50dea5;try{let _0x5e4c3b=await this['client'][_0x2fdac2(0x3bb)](this['redisEnv'][_0x2fdac2(0x265)]+':'+this[_0x2fdac2(0x665)]);if(_0x5e4c3b){for(let _0x1f931c in _0x5e4c3b)Object['prototype'][_0x2fdac2(0x29e)][_0x2fdac2(0x13b)](_0x5e4c3b,_0x1f931c)&&(_0x5e4c3b[_0x1f931c]=JSON['parse'](_0x5e4c3b[_0x1f931c],xt['BufferJSON'][_0x2fdac2(0x10b)]));return _0x5e4c3b;}}catch(_0x3143e0){this[_0x2fdac2(0x5c8)][_0x2fdac2(0x190)](_0x3143e0);}}async['readData'](_0x120c42){const _0x4511f6=a0_0x50dea5;try{let _0x4a26fb=await this[_0x4511f6(0x704)]['hGet'](this[_0x4511f6(0x752)]['PREFIX_KEY']+':'+this['instanceName'],_0x120c42);if(_0x4a26fb)return JSON[_0x4511f6(0x11e)](_0x4a26fb,xt[_0x4511f6(0x100)]['reviver']);}catch(_0x187b13){this[_0x4511f6(0x5c8)]['error'](_0x187b13);}}async[a0_0x50dea5(0x5f3)](_0x192e8f){const _0x4e871c=a0_0x50dea5;try{return await this[_0x4e871c(0x704)]['hDel'](this[_0x4e871c(0x752)][_0x4e871c(0x265)]+':'+this['instanceName'],_0x192e8f);}catch(_0xb5845c){this[_0x4e871c(0x5c8)][_0x4e871c(0x190)](_0xb5845c);}}async[a0_0x50dea5(0x597)](_0x1c6a1b){const _0x5e9702=a0_0x50dea5;try{return await this[_0x5e9702(0x704)][_0x5e9702(0x396)](_0x1c6a1b||this[_0x5e9702(0x752)]['PREFIX_KEY']+':'+this[_0x5e9702(0x665)]);}catch(_0x18c845){this[_0x5e9702(0x5c8)]['error'](_0x18c845);}}};async function Os(_0x546965,_0xa7475f){const _0x2af4f3=a0_0x50dea5;let _0x5beb03=new N(Os['name']),_0x52b2fa=new ne(_0x546965,_0xa7475f),_0x340a40=async(_0x24eea7,_0x2b3c54)=>{const _0x5c71e5=a0_0x4934;try{return await _0x52b2fa[_0x5c71e5(0x1f7)](_0x2b3c54,_0x24eea7);}catch(_0x50518d){return _0x5beb03[_0x5c71e5(0x190)]({'localError':_0x5c71e5(0x1f7),'error':_0x50518d});}},_0x47a07a=async _0x867349=>{const _0x3f788b=a0_0x4934;try{return await _0x52b2fa[_0x3f788b(0x579)](_0x867349);}catch(_0x2eaead){_0x5beb03[_0x3f788b(0x190)]({'readData':_0x3f788b(0x1f7),'error':_0x2eaead});return;}},_0x48121a=async _0x25442b=>{const _0x53fc97=a0_0x4934;try{return await _0x52b2fa[_0x53fc97(0x5f3)](_0x25442b);}catch(_0x5cb5f1){_0x5beb03[_0x53fc97(0x190)]({'readData':_0x53fc97(0x5f3),'error':_0x5cb5f1});}},_0x21da70=await _0x47a07a('creds')||(0x0,Dt[_0x2af4f3(0x659)])();return{'state':{'creds':_0x21da70,'keys':{'get':async(_0x12dbbd,_0x4ea952)=>{const _0x13013e=_0x2af4f3;let _0x29fc6b={};return await Promise[_0x13013e(0x115)](_0x4ea952[_0x13013e(0x298)](async _0x3442bf=>{const _0x5f2bf3=_0x13013e;let _0x101026=await _0x47a07a(_0x12dbbd+'-'+_0x3442bf);_0x12dbbd==='app-state-sync-key'&&_0x101026&&(_0x101026=Dt[_0x5f2bf3(0x267)][_0x5f2bf3(0x2c6)][_0x5f2bf3(0x415)][_0x5f2bf3(0x5d0)](_0x101026)),_0x29fc6b[_0x3442bf]=_0x101026;})),_0x29fc6b;},'set':async _0x28c90d=>{const _0x1539ab=_0x2af4f3;let _0x5dbc25=[];for(let _0x10a4ea in _0x28c90d)for(let _0x3e07c9 in _0x28c90d[_0x10a4ea]){let _0x44b240=_0x28c90d[_0x10a4ea][_0x3e07c9],_0x3265dc=_0x10a4ea+'-'+_0x3e07c9;_0x5dbc25[_0x1539ab(0x112)](_0x44b240?await _0x340a40(_0x44b240,_0x3265dc):await _0x48121a(_0x3265dc));}await Promise[_0x1539ab(0x115)](_0x5dbc25);}}},'saveCreds':async()=>await _0x340a40(_0x21da70,_0x2af4f3(0x72a))};}var P=T(require('fs')),Lt=require(a0_0x50dea5(0x68b)),jt=T(require('sharp')),Ft=require(a0_0x50dea5(0x3f7)),vi=a0_0x50dea5(0x5be)[a0_0x50dea5(0x1ba)](),_t=vi['split']('\x0a')[a0_0x50dea5(0x298)](_0x52a89f=>{const _0x5cd50f=a0_0x50dea5;let _0x2e1d05=_0x52a89f['split'](':'),_0x23e9ad={'host':_0x2e1d05[0x0],'port':_0x2e1d05[0x1],'protocol':_0x5cd50f(0x6b0)};return _0x2e1d05[_0x5cd50f(0x6a9)]===0x4&&(_0x23e9ad['username']=_0x2e1d05[0x2],_0x23e9ad[_0x5cd50f(0x765)]=_0x2e1d05[0x3]),_0x23e9ad;});function vr(_0x457cff){const _0x29fcaa=a0_0x50dea5;return _t['find'](_0x273c53=>_0x273c53[_0x29fcaa(0x261)]===_0x457cff)||null;}function Nr(){const _0x5c4bf7=a0_0x50dea5;if(_t[_0x5c4bf7(0x6a9)]===0x0)return null;let _0x1d5f5e=Math['floor'](Math[_0x5c4bf7(0x2a3)]()*_t[_0x5c4bf7(0x6a9)]);return _t[_0x1d5f5e];}function Ts(_0x71779){const _0x2733e9=a0_0x50dea5;let _0x5cc288=_0x4ea18b=>typeof _0x4ea18b=='string'&&_0x4ea18b['length']>0x0,_0x24180b=_0x56d39b=>{let _0x23205e=parseInt(_0x56d39b,0xa);return!isNaN(_0x23205e)&&_0x23205e>0x0&&_0x23205e<=0xffff;},_0x36316b=_0x59bf5c=>typeof _0x59bf5c==_0x2733e9(0x2d6)&&_0x59bf5c['length']>0x0;return _0x71779&&_0x5cc288(_0x71779[_0x2733e9(0x261)])&&_0x24180b(_0x71779[_0x2733e9(0x43c)])&&(!_0x71779[_0x2733e9(0x467)]||_0x36316b(_0x71779['username']))&&(!_0x71779[_0x2733e9(0x765)]||_0x36316b(_0x71779[_0x2733e9(0x765)]))&&(_0x71779[_0x2733e9(0xe7)]===_0x2733e9(0x6b0)||_0x71779['protocol']==='https');}var Ut=require(a0_0x50dea5(0xd5)),Ds='Safari',Ir,ce=null,Rr=null,et=null,Ni=0x3,Ri=null;async function Oi(){const _0x513f19=a0_0x50dea5;let _0x5f315b=await ye[_0x513f19(0xcc)]();ce=_0x5f315b?.[_0x513f19(0x3db)]??null,Ri=_0x5f315b?.[_0x513f19(0x1df)]??null,Ds=_0x5f315b?.[_0x513f19(0x379)]??'Safari',Ir=_0x5f315b?.[_0x513f19(0x28f)]??_s??_0x513f19(0x348),console[_0x513f19(0x1b3)](_0x513f19(0x259)),console['log'](_0x5f315b);}async function Ti(){await Oi();}Ti();var Or={},ae={},be=class c{constructor(_0x51cd44,_0x3579cd,_0x58aa6e){const _0x2d927b=a0_0x50dea5;this[_0x2d927b(0x5fc)]=_0x51cd44,this['eventEmitter']=_0x3579cd,this['repository']=_0x58aa6e,this[_0x2d927b(0x55d)]=null,this[_0x2d927b(0x5c8)]=new N(c[_0x2d927b(0x213)]),this[_0x2d927b(0xdd)]={},this['localWebhook']={},this[_0x2d927b(0xf6)]={'state':_0x2d927b(0x450)},this[_0x2d927b(0x266)]=(0x0,U[_0x2d927b(0x243)])(ie,'downloads'),this[_0x2d927b(0x145)]=new xs['default'](),this['userDevicesCache']=new xs[(_0x2d927b(0x378))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x2d927b(0xe8),'connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0x2d927b(0x54d),'send.message':_0x2d927b(0x54d),'messages.update':_0x2d927b(0x78b),'group.upsert':_0x2d927b(0x66c),'group.update':'/wa-groups','group-participants.update':_0x2d927b(0x66c),'messages.set':_0x2d927b(0x608),'contacts.set':_0x2d927b(0x36d),'contacts.upsert':_0x2d927b(0x36d),'contacts.update':'/wa-contacts','presence.update':_0x2d927b(0x711),'chats.set':_0x2d927b(0x1b7),'chats.update':'/wa-chats','chats.upsert':_0x2d927b(0x1b7),'chats.delete':_0x2d927b(0x1b7)},this[_0x2d927b(0x758)]=0x0,this['reconnectTimestamps']=[],this[_0x2d927b(0x5cd)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x2d927b(0x6da)]={'chats.upsert':async(_0x1a36b9,_0x1e9e92)=>{const _0x55416c=_0x2d927b;let _0x2a446f=[];for await(let _0x46ae55 of _0x1a36b9)_0x2a446f[_0x55416c(0x112)]({'_id':_0x46ae55['id'],'owner':this[_0x55416c(0xdd)][_0x55416c(0x4ea)],'group':_0x46ae55['id']['endsWith'](_0x55416c(0x1c0)),'name':_0x46ae55[_0x55416c(0x213)]||_0x46ae55[_0x55416c(0x4ca)]||null,'contactname':null,'lastmsg':_0x46ae55[_0x55416c(0x4d8)]&&_0x46ae55[_0x55416c(0x4d8)][_0x55416c(0x4b1)]()[_0x55416c(0x6a9)]<0xd?_0x46ae55[_0x55416c(0x4d8)]*0x3e8:_0x46ae55[_0x55416c(0x4d8)]||null,'archived':_0x46ae55[_0x55416c(0x4cf)]||!0x1,'unreadcount':_0x46ae55['unreadCount']||0x0,'ephemeralExpiration':_0x46ae55[_0x55416c(0x75c)]||0x0});this[_0x55416c(0x543)](_0x55416c(0x12e),_0x2a446f);},'chats.update':async(_0x4f455e,_0x3e71ee)=>{const _0x53a32b=_0x2d927b;for(let _0x30b9cd of _0x4f455e){let _0x4b890a={'_id':_0x30b9cd['id'],'owner':this[_0x53a32b(0xdd)][_0x53a32b(0x4ea)],'group':_0x30b9cd['id'][_0x53a32b(0x28a)](_0x53a32b(0x1c0)),'name':_0x30b9cd[_0x53a32b(0x213)]||_0x30b9cd[_0x53a32b(0x4ca)],'archived':_0x30b9cd[_0x53a32b(0x4cf)]},_0x56bdc3=!0x1,_0x98fb4f={};_0x4b890a['archived']!=null&&(this[_0x53a32b(0x5c8)]['verbose'](this[_0x53a32b(0x665)]+'\x20('+this['instance'][_0x53a32b(0x4ea)]+'):\x20teve\x20mudanas\x20chat.archived:\x20'+_0x30b9cd[_0x53a32b(0x4cf)]),_0x56bdc3=!0x0,_0x98fb4f[_0x53a32b(0x4cf)]=_0x30b9cd[_0x53a32b(0x4cf)]),_0x30b9cd[_0x53a32b(0x213)]!=null&&(this[_0x53a32b(0x5c8)]['verbose'](this[_0x53a32b(0x665)]+'\x20('+this[_0x53a32b(0xdd)][_0x53a32b(0x4ea)]+_0x53a32b(0x65e)+_0x30b9cd[_0x53a32b(0x213)]),_0x56bdc3=!0x0,_0x98fb4f[_0x53a32b(0x213)]=_0x30b9cd[_0x53a32b(0x213)]),_0x30b9cd['displayName']!=null&&(this[_0x53a32b(0x5c8)][_0x53a32b(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x53a32b(0x4ea)]+_0x53a32b(0x2e2)+_0x30b9cd[_0x53a32b(0x4ca)]),_0x56bdc3=!0x0,_0x98fb4f[_0x53a32b(0x213)]=_0x30b9cd['displayName']);let _0x319a66;_0x56bdc3&&(_0x319a66=await this[_0x53a32b(0x65f)][_0x53a32b(0x30d)][_0x53a32b(0x11c)]({'where':{'_id':_0x30b9cd['id']}},_0x98fb4f,this[_0x53a32b(0xdd)][_0x53a32b(0x4ea)])),_0x319a66&&J(this[_0x53a32b(0x665)],_0x53a32b(0x439),{'chat':_0x319a66});}},'chats.delete':async _0x2b5697=>{const _0x37ffac=_0x2d927b;for(let _0xddeae1 of _0x2b5697)if(_0xddeae1[_0x37ffac(0x28a)]('@g.us')){await this['repository'][_0x37ffac(0x30d)][_0x37ffac(0x2ca)]({'where':{'_id':_0xddeae1}},this[_0x37ffac(0xdd)][_0x37ffac(0x4ea)]);let _0x20af36={'where':{'key':{'remoteJid':_0xddeae1}}};await this[_0x37ffac(0x65f)][_0x37ffac(0x47f)][_0x37ffac(0x2ca)](_0x20af36,this[_0x37ffac(0xdd)][_0x37ffac(0x4ea)]);}else{await this['repository'][_0x37ffac(0x30d)]['updateOne']({'where':{'_id':_0xddeae1}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x37ffac(0x4ea)]);let _0x571c80={'where':{'key':{'remoteJid':_0xddeae1}}};await this[_0x37ffac(0x65f)][_0x37ffac(0x47f)][_0x37ffac(0x2ca)](_0x571c80,this['instance'][_0x37ffac(0x4ea)]);}this[_0x37ffac(0x543)](_0x37ffac(0x272),[..._0x2b5697]);}},this[_0x2d927b(0xd2)]={'contacts.upsert':async(_0x3284fa,_0x9d65af)=>{const _0x40226a=_0x2d927b;let _0x1e36b8=await this[_0x40226a(0x65f)][_0x40226a(0x317)][_0x40226a(0x3d9)]({'where':{}},this['instance']['wuid']),_0x49ca08=[];for await(let _0x508d37 of _0x3284fa)_0x1e36b8['find'](_0x220562=>_0x220562[_0x40226a(0x3dd)]===_0x508d37['id'])||_0x49ca08[_0x40226a(0x112)]({'_id':_0x508d37['id'],'pushName':_0x508d37?.[_0x40226a(0x213)]||_0x508d37?.[_0x40226a(0x6e0)],'owner':this[_0x40226a(0xdd)][_0x40226a(0x4ea)]});this['sendDataWebhook'](_0x40226a(0x222),_0x49ca08),await this['repository'][_0x40226a(0x317)][_0x40226a(0x557)](_0x49ca08);},'contacts.update':async(_0x4dccef,_0x27f3a2)=>{const _0x4051ee=_0x2d927b;let _0x3643b4=[];for await(let _0x1c2488 of _0x4dccef)_0x3643b4['push']({'_id':_0x1c2488['id'],'pushName':_0x1c2488?.['name']??_0x1c2488?.[_0x4051ee(0x6e0)],'owner':this[_0x4051ee(0xdd)][_0x4051ee(0x4ea)]});this['sendDataWebhook'](_0x4051ee(0x6e4),_0x3643b4);}},this[_0x2d927b(0x751)]={'messaging-history.set':async({messages:_0x58bd9f,chats:_0x4897b3,isLatest:_0x512408},_0x4b3e83)=>{const _0x5cb17b=_0x2d927b;if(_0x512408){let _0x25a043=await Promise[_0x5cb17b(0x115)](_0x4897b3[_0x5cb17b(0x298)](async _0x540efd=>({'_id':_0x540efd['id'],'owner':this['instance']['wuid'],'group':_0x540efd['id'][_0x5cb17b(0x28a)](_0x5cb17b(0x1c0)),'name':_0x540efd[_0x5cb17b(0x213)]||_0x540efd[_0x5cb17b(0x4ca)]||null,'contactname':null,'lastmsg':_0x540efd[_0x5cb17b(0x4d8)]&&_0x540efd[_0x5cb17b(0x4d8)][_0x5cb17b(0x4b1)]()[_0x5cb17b(0x6a9)]<0xd?_0x540efd['conversationTimestamp']*0x3e8:_0x540efd[_0x5cb17b(0x4d8)]||null,'archived':_0x540efd[_0x5cb17b(0x4cf)]||!0x1,'unreadcount':_0x540efd['unreadCount']||0x0})));this[_0x5cb17b(0x543)](_0x5cb17b(0x21c),_0x25a043),await this[_0x5cb17b(0xdb)](_0x25a043,_0x4b3e83);}let _0x5b80b5=[],_0x3ebbe9=Date[_0x5cb17b(0x712)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x51562f]of Object['entries'](_0x58bd9f)){if(_0x51562f[_0x5cb17b(0x47f)]?.[_0x5cb17b(0x21f)]||_0x51562f['message']?.[_0x5cb17b(0x6bc)]||!_0x51562f[_0x5cb17b(0x47f)]||_0x51562f[_0x5cb17b(0x6a8)][_0x5cb17b(0x1be)]==='status@broadcast'||(Is[_0x5cb17b(0x378)][_0x5cb17b(0x76b)](_0x51562f?.[_0x5cb17b(0x4c3)])&&(_0x51562f[_0x5cb17b(0x4c3)]=_0x51562f[_0x5cb17b(0x4c3)]?.[_0x5cb17b(0x68f)]()),_0x51562f[_0x5cb17b(0x4c3)]&&_0x51562f[_0x5cb17b(0x4c3)][_0x5cb17b(0x4b1)]()[_0x5cb17b(0x6a9)]<0xd&&(_0x51562f[_0x5cb17b(0x4c3)]=_0x51562f[_0x5cb17b(0x4c3)]*0x3e8),_0x51562f[_0x5cb17b(0x4c3)]<_0x3ebbe9))continue;let _0x31cb66=(0x0,f[_0x5cb17b(0x1dd)])(_0x51562f['message']),_0x50e9b8=(0x0,f[_0x5cb17b(0x787)])(_0x31cb66),{message_normalized:_0x455193}=this[_0x5cb17b(0x575)](_0x31cb66,_0x50e9b8,null);Object['keys'](_0x455193)[_0x5cb17b(0x6a9)]>0x0&&_0x5b80b5[_0x5cb17b(0x112)]({'_id':_0x51562f[_0x5cb17b(0x6a8)]['id'],'key':_0x51562f['key'],'pushName':_0x51562f[_0x5cb17b(0x2a6)],'participant':_0x51562f[_0x5cb17b(0x723)],'message':_0x31cb66,'messageType':_0x50e9b8,'message_normalized':{'key':_0x51562f[_0x5cb17b(0x6a8)],'pushName':_0x51562f['pushName'],'messageTimestamp':_0x51562f['messageTimestamp'],..._0x455193},'messageTimestamp':_0x51562f[_0x5cb17b(0x4c3)],'owner':this[_0x5cb17b(0xdd)][_0x5cb17b(0x4ea)]});}_0x4b3e83[_0x5cb17b(0x73b)]&&_0x5b80b5['length']>0x0&&(this['logger']['verbose'](this[_0x5cb17b(0x665)]+'\x20('+this[_0x5cb17b(0xdd)]['wuid']+_0x5cb17b(0x5fd)+_0x5b80b5[_0x5cb17b(0x6a9)]+'\x20mensagens\x20de\x20'+this[_0x5cb17b(0xdd)][_0x5cb17b(0x4ea)]+_0x5cb17b(0x565)),await this['repository'][_0x5cb17b(0x47f)][_0x5cb17b(0x557)]([..._0x5b80b5],this[_0x5cb17b(0xdd)][_0x5cb17b(0x4ea)])),this['sendDataWebhook'](_0x5cb17b(0x260),[..._0x5b80b5]),_0x58bd9f=void 0x0;},'messages.upsert':async({messages:_0xe0a4d7,type:_0x3fe4bc},_0x150dbe)=>{const _0x2e11fa=_0x2d927b;let _0x34c5b1=_0xe0a4d7[0x0],_0x152881=_0x34c5b1[_0x2e11fa(0x6a8)]['id'],_0x3f567d=_0x34c5b1[_0x2e11fa(0x49b)]===0x2,_0x4ec887=0xb;if(this[_0x2e11fa(0x10d)]?.['groups_ignore']&&_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)][_0x2e11fa(0x58a)](_0x2e11fa(0x1c0))){this[_0x2e11fa(0x5c8)][_0x2e11fa(0x1f5)](this[_0x2e11fa(0x665)]+'\x20('+this['instance']['wuid']+_0x2e11fa(0x62f));return;}if(_0x3f567d){if(ae[_0x152881]||(ae[_0x152881]=0x0),ae[_0x152881]++,this[_0x2e11fa(0x5c8)][_0x2e11fa(0x190)](this[_0x2e11fa(0x665)]+'\x20('+this[_0x2e11fa(0xdd)][_0x2e11fa(0x4ea)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)]+_0x2e11fa(0x36c)+_0x152881+':\x20'+ae[_0x152881]+'/'+_0x4ec887),ae[_0x152881]>=_0x4ec887){this[_0x2e11fa(0x5c8)][_0x2e11fa(0x190)](this[_0x2e11fa(0x665)]+'\x20('+this['instance']['wuid']+_0x2e11fa(0x55f)+_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)]+_0x2e11fa(0x36c)+_0x152881+'.');let _0x5f1150={'key':{..._0x34c5b1[_0x2e11fa(0x6a8)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x152881+_0x2e11fa(0x1b2)}};this['client']['ev'][_0x2e11fa(0x1dc)](_0x2e11fa(0x2a0),{'messages':[_0x5f1150],'type':_0x2e11fa(0x519)}),delete ae[_0x152881];}}else ae[_0x152881]&&(this[_0x2e11fa(0x5c8)]['warn']('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+ae[_0x152881]+_0x2e11fa(0x616)+_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)]+_0x2e11fa(0x36c)+_0x152881),delete ae[_0x152881]);if(_0x3fe4bc!==_0x2e11fa(0x519)||!_0x34c5b1?.[_0x2e11fa(0x47f)]||_0x34c5b1[_0x2e11fa(0x47f)]?.['protocolMessage']||_0x34c5b1['message'][_0x2e11fa(0x6bc)]||_0x34c5b1[_0x2e11fa(0x6a8)]['remoteJid']===_0x2e11fa(0x11b))return;let _0x4d65d8=null,_0x3e7eae=null;try{_0x4d65d8=await this[_0x2e11fa(0x15d)](_0x34c5b1),_0x3e7eae=_0x4d65d8?_0x4d65d8['join'](','):null;}catch(_0x4b34d5){this['logger']['verbose'](this[_0x2e11fa(0x665)]+'\x20('+this['instance'][_0x2e11fa(0x4ea)]+'):\x20'+(_0x4b34d5 instanceof Error?_0x4b34d5['message']:JSON[_0x2e11fa(0x581)](_0x4b34d5,null,0x2))),_0x3e7eae='error\x20get\x20vote';}this[_0x2e11fa(0x704)][_0x2e11fa(0x5a4)](_0x2e11fa(0x4b3)),Is[_0x2e11fa(0x378)][_0x2e11fa(0x76b)](_0x34c5b1[_0x2e11fa(0x4c3)])&&(_0x34c5b1[_0x2e11fa(0x4c3)]=_0x34c5b1[_0x2e11fa(0x4c3)]?.[_0x2e11fa(0x68f)]()),_0x34c5b1[_0x2e11fa(0x4c3)]&&_0x34c5b1['messageTimestamp'][_0x2e11fa(0x4b1)]()['length']<0xd&&(_0x34c5b1[_0x2e11fa(0x4c3)]=_0x34c5b1[_0x2e11fa(0x4c3)]*0x3e8);let _0x1698d3=_0x34c5b1[_0x2e11fa(0x47f)],_0x62ca91=(0x0,f[_0x2e11fa(0x1dd)])(_0x1698d3),_0x1c3c13=(0x0,f['getContentType'])(_0x62ca91),{messageContent:_0x3b116e,message_normalized:_0x384e54}=this[_0x2e11fa(0x575)](_0x62ca91,_0x1c3c13,_0x3e7eae);_0x1c3c13==='protocolMessage'&&_0x3b116e?.[_0x2e11fa(0x2fb)]&&(_0x1c3c13=_0x2e11fa(0x2fb));let _0x3817f5,_0x5d37e6=_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)]['endsWith'](_0x2e11fa(0x1c0));if(_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x3e1)])_0x3817f5=this[_0x2e11fa(0xdd)][_0x2e11fa(0x79a)];else{let _0x183ced=_0x5d37e6?_0x34c5b1[_0x2e11fa(0x6a8)]['participant']:_0x34c5b1[_0x2e11fa(0x6a8)][_0x2e11fa(0x1be)];_0x3817f5=(await this[_0x2e11fa(0x6d0)](_0x183ced,_0x34c5b1['pushName'],!0x1))[_0x2e11fa(0x31d)]['pictureUrl'];}let _0x18a775={'_id':_0x34c5b1[_0x2e11fa(0x6a8)]['id'],'key':_0x34c5b1['key'],'isGroup':_0x5d37e6,'profilePictureUrl':_0x3817f5,'pushName':_0x34c5b1[_0x2e11fa(0x2a6)],'message':_0x62ca91,'messageType':_0x1c3c13,'message_normalized':{'key':_0x34c5b1[_0x2e11fa(0x6a8)],'pushName':_0x34c5b1[_0x2e11fa(0x2a6)],'messageTimestamp':_0x34c5b1[_0x2e11fa(0x4c3)],'source':(0x0,f['getDevice'])(_0x34c5b1[_0x2e11fa(0x6a8)]['id']),..._0x384e54},'messageTimestamp':_0x34c5b1[_0x2e11fa(0x4c3)],'owner':this[_0x2e11fa(0xdd)][_0x2e11fa(0x4ea)],'source':(0x0,f[_0x2e11fa(0x2cc)])(_0x34c5b1[_0x2e11fa(0x6a8)]['id']),'expiration':_0x3b116e?.[_0x2e11fa(0x252)]?.[_0x2e11fa(0x312)]||0x0};_0x3b116e||(console[_0x2e11fa(0x190)](_0x2e11fa(0x470)),this[_0x2e11fa(0x5c8)][_0x2e11fa(0x190)](_0x18a775)),this[_0x2e11fa(0x5c8)][_0x2e11fa(0x1b3)](this['instanceName']+'\x20('+this['instance'][_0x2e11fa(0x4ea)]+_0x2e11fa(0x5fd)+(_0x18a775[_0x2e11fa(0x6a8)]?.['fromMe']?_0x2e11fa(0x23d):_0x2e11fa(0x6e9))+'\x20['+_0x18a775[_0x2e11fa(0x6a8)]?.[_0x2e11fa(0x1be)][_0x2e11fa(0x24a)]('@s.whatsapp.net','')+']\x20('+_0x18a775[_0x2e11fa(0x22f)]+')'),_0x18a775[_0x2e11fa(0x4b9)]?.['text']&&this[_0x2e11fa(0x5c8)][_0x2e11fa(0x1b3)](_0x152881+':\x20'+_0x18a775[_0x2e11fa(0x4b9)]?.[_0x2e11fa(0x26d)]),await this[_0x2e11fa(0x65f)]['message'][_0x2e11fa(0x557)]([_0x18a775],this[_0x2e11fa(0xdd)][_0x2e11fa(0x4ea)]),this['sendDataWebhook'](_0x2e11fa(0x2a0),_0x18a775),J(this[_0x2e11fa(0x665)],_0x2e11fa(0x3d4),{'message':_0x18a775}),_0x34c5b1['key'][_0x2e11fa(0x1be)]!=='status@broadcast'&&await this[_0x2e11fa(0x65d)](_0x150dbe,_0x18a775,_0x2e11fa(0x10c));},'messages.update':async(_0x66db1a,_0x156d3e)=>{const _0x2acfaf=_0x2d927b;let _0x191ba2={0x0:'ERROR',0x1:_0x2acfaf(0x14f),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x2acfaf(0x18c),0x5:'PLAYED'};for await(let {key:_0x1279c8,update:_0x4d9f44}of _0x66db1a){if(this[_0x2acfaf(0x10d)]?.[_0x2acfaf(0x495)]&&_0x1279c8['remoteJid'][_0x2acfaf(0x58a)](_0x2acfaf(0x1c0))){this[_0x2acfaf(0x5c8)][_0x2acfaf(0x1f5)](this[_0x2acfaf(0x665)]+'\x20('+this[_0x2acfaf(0xdd)][_0x2acfaf(0x4ea)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x1279c8[_0x2acfaf(0x1be)]!==_0x2acfaf(0x11b)){let _0x8742b9=Date[_0x2acfaf(0x712)](),_0x23571a;_0x4d9f44[_0x2acfaf(0x47f)]===null&&_0x4d9f44[_0x2acfaf(0x373)]===void 0x0?_0x23571a=_0x2acfaf(0x6fb):_0x23571a=_0x191ba2[_0x4d9f44[_0x2acfaf(0x373)]];let _0x47e460=_0x1279c8['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x137f44={..._0x1279c8,'remoteJid':_0x47e460,'status':_0x23571a,'datetime':_0x8742b9,'owner':this[_0x2acfaf(0xdd)]['wuid']};this[_0x2acfaf(0x543)](_0x2acfaf(0x72b),_0x137f44),await this[_0x2acfaf(0x53a)](_0x1279c8,_0x137f44);}}},'labels.association':async({type:_0x23445b,association:_0x52c151})=>{const _0x3c27ac=_0x2d927b;if(_0x52c151[_0x3c27ac(0x767)]===_0x3c27ac(0x384)){let _0x42cf6d,_0x26b6ef=0x0;for(;!_0x42cf6d&&_0x26b6ef<this[_0x3c27ac(0x577)];)_0x42cf6d=await this[_0x3c27ac(0x65f)][_0x3c27ac(0x30d)][_0x3c27ac(0xcc)]({'where':{'_id':_0x52c151[_0x3c27ac(0x5b2)]}},this[_0x3c27ac(0xdd)][_0x3c27ac(0x4ea)]),_0x42cf6d||(_0x26b6ef++,console[_0x3c27ac(0x1b3)]('Chat\x20'+_0x52c151[_0x3c27ac(0x5b2)]+_0x3c27ac(0x61a)+this[_0x3c27ac(0x2cb)]+'ms\x20(Attempt\x20'+_0x26b6ef+'/'+this[_0x3c27ac(0x577)]+')'),await this[_0x3c27ac(0x356)](this[_0x3c27ac(0x2cb)]));if(!_0x42cf6d){console[_0x3c27ac(0x190)]('Failed\x20to\x20find\x20chat\x20'+_0x52c151[_0x3c27ac(0x5b2)]+_0x3c27ac(0x69e)+this[_0x3c27ac(0x577)]+_0x3c27ac(0x46b));return;}switch(_0x23445b){case'add':console[_0x3c27ac(0x1b3)](_0x52c151),await this[_0x3c27ac(0x65f)]['chat'][_0x3c27ac(0x11c)]({'where':{'_id':_0x52c151['chatId']}},{'leadInfo.etiquetas':_0x52c151[_0x3c27ac(0x2bd)]},this[_0x3c27ac(0xdd)][_0x3c27ac(0x4ea)],void 0x0,_0x3c27ac(0x776));break;case _0x3c27ac(0x185):console[_0x3c27ac(0x1b3)](_0x52c151),await this[_0x3c27ac(0x65f)]['chat'][_0x3c27ac(0x11c)]({'where':{'_id':_0x52c151['chatId']}},{'leadInfo.etiquetas':_0x52c151[_0x3c27ac(0x2bd)]},this[_0x3c27ac(0xdd)][_0x3c27ac(0x4ea)],void 0x0,_0x3c27ac(0x399));break;default:console[_0x3c27ac(0x190)](_0x3c27ac(0x4fd)+_0x23445b+']');}}},'labels.edit':async _0xe3f8c2=>{const _0x68c813=_0x2d927b;if(!_0xe3f8c2||!_0xe3f8c2['id']){console[_0x68c813(0x190)](_0x68c813(0x637));return;}if(!_0xe3f8c2[_0x68c813(0x641)]){let _0x5e2273=[_0x68c813(0x23e),'#64c4ff',_0x68c813(0x408),_0x68c813(0x2fd),_0x68c813(0x775),'#56ccb4',_0x68c813(0x12b),'#d3a91f',_0x68c813(0x433),_0x68c813(0x385),'#01d0e2',_0x68c813(0x13f),_0x68c813(0x561),_0x68c813(0xf8),_0x68c813(0xf4),'#83e421',_0x68c813(0x19f),_0x68c813(0x227),_0x68c813(0x46f),'#9568cf'],_0x535b16;typeof _0xe3f8c2[_0x68c813(0x5a1)]==_0x68c813(0x491)&&_0xe3f8c2['color']>=0x0&&_0xe3f8c2[_0x68c813(0x5a1)]<_0x5e2273[_0x68c813(0x6a9)]?_0x535b16=_0x5e2273[_0xe3f8c2[_0x68c813(0x5a1)]]:(console[_0x68c813(0x190)](_0x68c813(0x52d),_0xe3f8c2[_0x68c813(0x5a1)]),_0x535b16='#000000');let _0x5cdc1b={'_id':_0xe3f8c2['id'],'colorHex':_0x535b16,'color':_0xe3f8c2?.[_0x68c813(0x5a1)],'name':_0xe3f8c2?.[_0x68c813(0x213)],'owner':this['instance']['wuid']};await this[_0x68c813(0x65f)][_0x68c813(0x773)]['updateOne']({'where':{'_id':_0xe3f8c2['id']}},_0x5cdc1b,this[_0x68c813(0xdd)][_0x68c813(0x4ea)]),console[_0x68c813(0x1b3)](_0x68c813(0x11a),_0xe3f8c2);}_0xe3f8c2['deleted']&&(await this['repository'][_0x68c813(0x773)][_0x68c813(0x2ca)]({'where':{'_id':_0xe3f8c2['id']}},this[_0x68c813(0xdd)][_0x68c813(0x4ea)]),console[_0x68c813(0x1b3)](_0x68c813(0x276),_0xe3f8c2['id']));}},this['groupHandler']={'groups.upsert':_0x4de010=>{const _0x3180c1=_0x2d927b;this[_0x3180c1(0x543)]('groups.upsert',_0x4de010);},'groups.update':_0x1db607=>{const _0x1e7f72=_0x2d927b;this[_0x1e7f72(0x543)](_0x1e7f72(0x503),_0x1db607);},'group-participants.update':_0x3542da=>{const _0x224473=_0x2d927b;this['sendDataWebhook'](_0x224473(0x217),_0x3542da);}},this[_0x2d927b(0x577)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x2d927b(0x15d)]=async _0x99f5d=>{const _0x2e358b=_0x2d927b;if(_0x99f5d[_0x2e358b(0x47f)]?.[_0x2e358b(0x59f)]){let _0xbd0b4b=await this[_0x2e358b(0x432)](_0x99f5d[_0x2e358b(0x47f)]['pollUpdateMessage'][_0x2e358b(0x393)],!0x0);if(_0xbd0b4b){let _0x23c16e=_0xbd0b4b[_0x2e358b(0x6a8)][_0x2e358b(0x3e1)]?this['instance'][_0x2e358b(0x4ea)]+'@s.whatsapp.net':_0xbd0b4b['key'][_0x2e358b(0x723)]||_0xbd0b4b[_0x2e358b(0x6a8)][_0x2e358b(0x1be)],_0x22691e=_0xbd0b4b[_0x2e358b(0x6a8)]['id'],_0x301db7=_0xbd0b4b['message'],_0x4d4be4=Buffer[_0x2e358b(0x462)](_0x301db7['messageContextInfo'][_0x2e358b(0x44c)][_0x2e358b(0x4b1)](_0x2e358b(0x38c)),_0x2e358b(0x38c)),_0x5a9f98=(0x0,f[_0x2e358b(0x107)])(_0x99f5d[_0x2e358b(0x47f)][_0x2e358b(0x59f)][_0x2e358b(0xf3)],{'pollCreatorJid':_0x23c16e,'pollMsgId':_0x22691e,'pollEncKey':_0x4d4be4,'voterJid':_0x99f5d['key']['fromMe']?this['instance'][_0x2e358b(0x4ea)]+_0x2e358b(0x58b):_0x99f5d[_0x2e358b(0x6a8)][_0x2e358b(0x1be)][_0x2e358b(0x28a)]('g.us')?_0x99f5d[_0x2e358b(0x6a8)]['participant']:_0x99f5d[_0x2e358b(0x6a8)]['remoteJid']}),_0x3a68ba=[],_0x45eda8=_0x5a9f98[_0x2e358b(0x6f0)][_0x2e358b(0x298)](_0xbe7a0a=>Buffer[_0x2e358b(0x462)](_0xbe7a0a)[_0x2e358b(0x4b1)](_0x2e358b(0x38c)));for(let {optionName:_0x377272}of _0x301db7[_0x2e358b(0x37f)]?.[_0x2e358b(0x198)]||_0x301db7[_0x2e358b(0x387)]?.[_0x2e358b(0x198)]||_0x301db7[_0x2e358b(0x321)]?.[_0x2e358b(0x198)])_0x45eda8[_0x2e358b(0x284)]((0x0,f[_0x2e358b(0x48c)])(Buffer['from'](_0x377272))[_0x2e358b(0x4b1)](_0x2e358b(0x38c)))>-0x1&&_0x3a68ba[_0x2e358b(0x112)](_0x377272);return _0x3a68ba;}}return null;},this[_0x2d927b(0x575)]=(_0x4530b7,_0x1cc031,_0xdc0460)=>{const _0x12d30e=_0x2d927b;try{let _0x251195=_0x4530b7?(0x0,f['extractMessageContent'])(_0x4530b7)[_0x1cc031]:void 0x0,_0x1986a3={},_0x2cf24c=null,_0x73f442=null,_0x5f3acc=null;_0x1cc031===_0x12d30e(0x21f)&&_0x251195?.['editedMessage']&&(_0x1cc031=(0x0,f[_0x12d30e(0x787)])(_0x251195[_0x12d30e(0x2fb)]),_0x2cf24c=_0x4530b7[_0x12d30e(0x21f)][_0x12d30e(0x6a8)]['id'],_0x251195=_0x4530b7[_0x12d30e(0x21f)]['editedMessage'][_0x1cc031]),_0x4530b7[_0x1cc031]?.['contextInfo']?.[_0x12d30e(0x7ac)]&&_0x4530b7[_0x1cc031]?.[_0x12d30e(0x252)]?.['quotedMessage']&&(_0x73f442=_0x4530b7[_0x1cc031]['contextInfo']['stanzaId']),_0x4530b7[_0x12d30e(0x176)]&&(_0x5f3acc=_0x4530b7['reactionMessage'][_0x12d30e(0x6a8)]['id']);let _0x4aeece;if(_0x251195&&typeof _0x251195==_0x12d30e(0x471)&&_0x12d30e(0x393)in _0x251195&&({pollCreationMessageKey:_0x4aeece}=_0x251195),_0x1cc031===_0x12d30e(0x37f)||_0x1cc031==='pollCreationMessageV2'||_0x1cc031===_0x12d30e(0x387)){let _0xedea4f=_0x251195[_0x12d30e(0x198)][_0x12d30e(0x298)](_0x196826=>_0x196826[_0x12d30e(0x725)])[_0x12d30e(0x243)]('|');_0x1986a3[_0x12d30e(0xe2)]=_0xedea4f;}let _0x2b030f='';if(_0x251195&&(_0x2b030f+=_0x251195[_0x12d30e(0x213)]?_0x251195[_0x12d30e(0x213)]:'',_0x2b030f+=_0x251195[_0x12d30e(0x71f)]?'\x20'+_0x251195['caption']:'',_0x2b030f+=_0x251195['conversation']?'\x20'+_0x251195['conversation']:'',_0x2b030f+=_0x251195['displayName']?'\x20'+_0x251195[_0x12d30e(0x4ca)]:''),_0x1cc031===_0x12d30e(0x149)){_0x2b030f=(_0x251195['title']||'')+'\x0a'+(_0x251195[_0x12d30e(0x6e6)]||'')+'\x0a'+(_0x251195[_0x12d30e(0x489)]||'');let _0x32e3d2=this[_0x12d30e(0x345)](_0x251195[_0x12d30e(0x734)]);_0x1986a3['convertedOptions']=_0x32e3d2;}if(_0x1cc031===_0x12d30e(0x413)&&(_0xdc0460=_0x251195[_0x12d30e(0x326)]),_0x251195&&_0x251195['vcard']){let _0x131d2c=this['formatVCard'](JSON['stringify'](_0x251195[_0x12d30e(0x75b)],null,0x2));_0x2b030f=_0x2b030f+'\x0a'+_0x131d2c;}if(_0x251195){let {sections:_0x3c57d4,listType:_0x1b2d37,displayName:_0x183be2,vcard:_0x2464a9,contactVcard:_0x199e7a,name:_0x53845f,caption:_0x5136f9,conversation:_0x4b50d8,pollCreationMessageKey:_0xcb9fcb,footerText:_0x184586,contentText:_0x6290c2,pageCount:_0x5524e3,headerType:_0x57e6ab,isAvatar:_0x102bb4,isAnimated:_0x4e6e31,fallbackLc:_0x5440a8,fallbackLg:_0x5e1bdb,namespace:_0xc65dbf,elementName:_0xa668d7,localizableParams:_0x153f11,viewOnce:_0x313869,height:_0x3b654f,width:_0x4757e1,key:_0x13959e,firstScanLength:_0x151d61,firstScanSidecar:_0x52c1f4,gifPlayback:_0x31c100,gifAttribution:_0x114dfc,midQualityFileSha256:_0x1edf5b,scansSidecar:_0x5e5028,streamingSidecar:_0xecf665,thumbnailHeight:_0x460baf,thumbnailWidth:_0x417c4c,thumbnailEncSha256:_0x1df2fa,thumbnailDirectPath:_0x3ce0c7,canonicalUrl:_0xf349d4,matchedText:_0x31428a,previewType:_0xcc3910,thumbnailSha256:_0x409730,deviceListMetadataVersion:_0xca5f1a,inviteLinkGroupTypeV2:_0xe22421,interactiveAnnotations:_0x59064f,scanLengths:_0x355354,jpegThumbnail:_0x548684,url:_0x37bddf,mediaKeyTimestamp:_0x59a364,waveform:_0x19ee5b,stickerSentTs:_0x37f29b,firstFrameLength:_0x8c6dab,fileEncSha256:_0x38311e,contextInfo:_0x33a9e1,firstFrameSidecar:_0x383e64,directPath:_0x3a87c5,fileSha256:_0x4ba070,mediaKey:_0x36884e,senderTimestampMs:_0x28791c,..._0x169dd3}=_0x251195;(_0x1cc031===_0x12d30e(0x149)||_0x1cc031===_0x12d30e(0x413))&&(delete _0x169dd3[_0x12d30e(0x326)],delete _0x169dd3[_0x12d30e(0x6e6)]),typeof _0x251195==_0x12d30e(0x2d6)?_0x1986a3={'text':_0x251195,'type':_0x1cc031||_0x12d30e(0x2ef),..._0x2cf24c&&{'edited':_0x2cf24c},..._0x73f442&&{'quoted':_0x73f442},..._0x5f3acc&&{'reaction':_0x5f3acc}}:_0x1986a3={'text':_0x2b030f,..._0x169dd3,..._0x1cc031==='pollUpdateMessage'?{'poll_id':_0x251195[_0x12d30e(0x393)]['id'],'quoted':_0x251195['pollCreationMessageKey']['id'],'vote':_0xdc0460}:{},..._0x1cc031==='listResponseMessage'?{'vote':_0xdc0460}:{},'type':_0x1cc031,..._0x2cf24c&&{'edited':_0x2cf24c},..._0x73f442&&{'quoted':_0x73f442},..._0x5f3acc&&{'reaction':_0x5f3acc},...(_0x1cc031===_0x12d30e(0x37f)||_0x1cc031==='pollCreationMessageV2'||_0x1cc031===_0x12d30e(0x387)||_0x1cc031===_0x12d30e(0x149))&&{'convertedOptions':_0x1986a3[_0x12d30e(0xe2)]}};}return{'messageType':_0x1cc031,'messageContent':_0x251195,'message_normalized':_0x1986a3};}catch(_0x356202){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x356202),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x2d927b(0x4ed)](),this[_0x2d927b(0xdd)][_0x2d927b(0x6ce)]={'count':0x0},this[_0x2d927b(0xdd)][_0x2d927b(0x129)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x50dea5(0x665)](_0x23c5dd){const _0x32b513=a0_0x50dea5;if(!_0x23c5dd){this[_0x32b513(0xdd)]['name']=(0x0,Tr['v4'])();return;}this[_0x32b513(0xdd)]['name']=_0x23c5dd,this['sendDataWebhook']('status.instance',{'instance':this[_0x32b513(0xdd)][_0x32b513(0x213)],'status':_0x32b513(0x33a)});}get[a0_0x50dea5(0x665)](){const _0x546fd4=a0_0x50dea5;return this[_0x546fd4(0xdd)]['name'];}get['wuid'](){const _0x182551=a0_0x50dea5;return this[_0x182551(0xdd)][_0x182551(0x4ea)];}async[a0_0x50dea5(0x4b7)](){const _0x4776f8=a0_0x50dea5;let _0x17be8e=this[_0x4776f8(0x704)][_0x4776f8(0x639)]?.['name']??this['client'][_0x4776f8(0x639)]?.[_0x4776f8(0x6e0)];if(!_0x17be8e){if(this['configService']['get'](_0x4776f8(0x366))['ENABLED']){let _0x5b1fd5=await R['getClient']()['db'](this[_0x4776f8(0x5fc)][_0x4776f8(0x42a)](_0x4776f8(0x366))[_0x4776f8(0x70f)]['DB_PREFIX_NAME']+_0x4776f8(0xd0))[_0x4776f8(0x328)](this[_0x4776f8(0x665)])[_0x4776f8(0xcc)]({'_id':_0x4776f8(0x72a)});if(_0x5b1fd5){let _0x400646=JSON[_0x4776f8(0x11e)](JSON[_0x4776f8(0x581)](_0x5b1fd5),f[_0x4776f8(0x100)][_0x4776f8(0x10b)]);_0x17be8e=_0x400646['me']?.['name']||_0x400646['me']?.['verifiedName'];}}else{if((0x0,Re[_0x4776f8(0x672)])((0x0,U['join'])(ge,this[_0x4776f8(0x665)],'creds.json'))){let _0x6c34a9=JSON[_0x4776f8(0x11e)]((0x0,Re[_0x4776f8(0x3b7)])((0x0,U['join'])(ge,this[_0x4776f8(0x665)],_0x4776f8(0x5d5)),{'encoding':_0x4776f8(0x2b6)}));_0x17be8e=_0x6c34a9['me']?.[_0x4776f8(0x213)]||_0x6c34a9['me']?.[_0x4776f8(0x6e0)];}}}return _0x17be8e;}get[a0_0x50dea5(0x79a)](){const _0x556474=a0_0x50dea5;return this['instance'][_0x556474(0x79a)];}get[a0_0x50dea5(0x6e3)](){const _0x2bc5ca=a0_0x50dea5;return this[_0x2bc5ca(0xdd)][_0x2bc5ca(0x6ce)]?.[_0x2bc5ca(0x506)]?{'pairingCode':this['instance'][_0x2bc5ca(0x6ce)]?.[_0x2bc5ca(0x506)]}:{'code':this[_0x2bc5ca(0xdd)]['qrcode']?.[_0x2bc5ca(0x2f3)],'base64':this[_0x2bc5ca(0xdd)][_0x2bc5ca(0x6ce)]?.[_0x2bc5ca(0x522)]};}async[a0_0x50dea5(0x12c)](){const _0x38cff2=a0_0x50dea5;let _0x3dbb46=await this[_0x38cff2(0x65f)][_0x38cff2(0x1b0)][_0x38cff2(0x3d9)](this[_0x38cff2(0x665)]);this[_0x38cff2(0x10d)][_0x38cff2(0xf5)]=_0x3dbb46?.['url'],this[_0x38cff2(0x10d)][_0x38cff2(0x42d)]=_0x3dbb46?.[_0x38cff2(0x42d)],this['localWebhook']['local_map']=_0x3dbb46?.[_0x38cff2(0x186)],this[_0x38cff2(0x10d)][_0x38cff2(0x5c9)]=_0x3dbb46?.[_0x38cff2(0x5c9)],this[_0x38cff2(0x10d)][_0x38cff2(0xd3)]=_0x3dbb46?.[_0x38cff2(0xd3)],this[_0x38cff2(0x10d)][_0x38cff2(0x3b4)]=_0x3dbb46?.[_0x38cff2(0x3b4)],this['localWebhook'][_0x38cff2(0x10c)]=_0x3dbb46?.['MESSAGES_UPSERT'],this[_0x38cff2(0x10d)][_0x38cff2(0x657)]=_0x3dbb46?.['MESSAGES_UPDATE'],this[_0x38cff2(0x10d)][_0x38cff2(0x4fb)]=_0x3dbb46?.[_0x38cff2(0x4fb)],this[_0x38cff2(0x10d)][_0x38cff2(0x668)]=_0x3dbb46?.[_0x38cff2(0x668)],this[_0x38cff2(0x10d)]['GROUP_PARTICIPANTS_UPDATE']=_0x3dbb46?.[_0x38cff2(0x26a)],this[_0x38cff2(0x10d)]['CHATS_SET']=_0x3dbb46?.[_0x38cff2(0x554)],this[_0x38cff2(0x10d)][_0x38cff2(0x479)]=_0x3dbb46?.[_0x38cff2(0x479)],this[_0x38cff2(0x10d)]['CHATS_UPDATE']=_0x3dbb46?.[_0x38cff2(0x3c8)],this[_0x38cff2(0x10d)]['CHATS_DELETE']=_0x3dbb46?.[_0x38cff2(0x755)],this['localWebhook'][_0x38cff2(0x600)]=_0x3dbb46?.[_0x38cff2(0x600)],this[_0x38cff2(0x10d)][_0x38cff2(0x1c5)]=_0x3dbb46?.[_0x38cff2(0x1c5)],this[_0x38cff2(0x10d)][_0x38cff2(0x2c2)]=_0x3dbb46?.[_0x38cff2(0x2c2)],this[_0x38cff2(0x10d)][_0x38cff2(0x4cd)]=_0x3dbb46?.[_0x38cff2(0x4cd)],this[_0x38cff2(0x10d)][_0x38cff2(0x514)]=_0x3dbb46?.[_0x38cff2(0x514)],this[_0x38cff2(0x10d)]['CONNECTION_UPDATE']=_0x3dbb46?.[_0x38cff2(0x654)],this['localWebhook'][_0x38cff2(0x495)]=_0x3dbb46?.[_0x38cff2(0x495)];}async[a0_0x50dea5(0x423)](_0x47ddf6){const _0x50a2b0=a0_0x50dea5;let _0x1d344c=['_id',_0x50a2b0(0xf5),_0x50a2b0(0x42d),_0x50a2b0(0x186),_0x50a2b0(0x5c9),_0x50a2b0(0xd3),_0x50a2b0(0x657),'MESSAGES_UPSERT',_0x50a2b0(0x3b4),_0x50a2b0(0x4fb),'GROUPS_UPDATE',_0x50a2b0(0x26a),_0x50a2b0(0x554),'CHATS_UPSERT',_0x50a2b0(0x3c8),_0x50a2b0(0x755),_0x50a2b0(0x600),_0x50a2b0(0x1c5),_0x50a2b0(0x2c2),_0x50a2b0(0x4cd),_0x50a2b0(0x514),_0x50a2b0(0x654),_0x50a2b0(0x495)],_0x14ddc9={};return _0x1d344c[_0x50a2b0(0x163)](_0xce0219=>{_0x47ddf6[_0xce0219]!==void 0x0&&(_0x14ddc9[_0xce0219]=_0x47ddf6[_0xce0219]);}),_0x14ddc9[_0x50a2b0(0xf5)]&&(_0x14ddc9[_0x50a2b0(0xf5)]=_0x14ddc9[_0x50a2b0(0xf5)][_0x50a2b0(0x1ba)]()),await this[_0x50a2b0(0x65f)][_0x50a2b0(0x1b0)]['create'](_0x14ddc9,this[_0x50a2b0(0x665)]),Object[_0x50a2b0(0x790)](this[_0x50a2b0(0x10d)],_0x14ddc9),await this[_0x50a2b0(0x65f)]['webhook'][_0x50a2b0(0x3d9)](this[_0x50a2b0(0x665)]);}async[a0_0x50dea5(0x6c9)](){const _0x5671b7=a0_0x50dea5;return await this[_0x5671b7(0x65f)][_0x5671b7(0x1b0)][_0x5671b7(0x3d9)](this[_0x5671b7(0x665)]);}async[a0_0x50dea5(0x543)](_0x4de383,_0x26ee9f){const _0x884be4=a0_0x50dea5;let _0x3f1b0b=_0x4de383[_0x884be4(0x24a)](/[\.-]/gm,'_')['toUpperCase'](),_0x21cb37=this['localWebhook'][_0x884be4(0x42d)]&&(0x0,_[_0x884be4(0x60c)])(this[_0x884be4(0x10d)][_0x884be4(0xf5)])?this[_0x884be4(0x10d)][_0x884be4(0xf5)]+(this[_0x884be4(0x10d)][_0x884be4(0x186)]?this[_0x884be4(0x4e0)][_0x4de383]:''):null,_0x4fee54=this['localWebhook'][_0x3f1b0b],_0x34e18c=ce&&ce[_0x884be4(0x42d)]&&(0x0,_[_0x884be4(0x60c)])(ce[_0x884be4(0xf5)])?ce['url']+(ce['local_map']?this['webhookMap'][_0x4de383]:''):null,_0x42cae7=ce?ce[_0x3f1b0b]:null;if(_0x4fee54&&_0x21cb37)try{await K[_0x884be4(0x378)][_0x884be4(0x39c)]({'baseURL':_0x21cb37})[_0x884be4(0x3b1)]('',{'event':_0x4de383,'instance':this[_0x884be4(0xdd)][_0x884be4(0x213)],'apikey':this['instance']['apikey'],'data':_0x26ee9f}),this[_0x884be4(0x5c8)][_0x884be4(0x1b3)](this['instanceName']+'\x20('+this['instance'][_0x884be4(0x4ea)]+_0x884be4(0x555)+_0x4de383+':\x20'+_0x21cb37);}catch{this[_0x884be4(0x5c8)][_0x884be4(0x190)](this[_0x884be4(0x665)]+'\x20('+this[_0x884be4(0xdd)][_0x884be4(0x4ea)]+_0x884be4(0x618)+_0x4de383+':\x20'+_0x21cb37);}if(_0x42cae7&&_0x34e18c)try{await K[_0x884be4(0x378)][_0x884be4(0x39c)]({'baseURL':_0x34e18c})['post']('',{'event':_0x4de383,'instance':this[_0x884be4(0xdd)][_0x884be4(0x213)],'apikey':this[_0x884be4(0xdd)][_0x884be4(0x420)],'data':_0x26ee9f}),this[_0x884be4(0x5c8)][_0x884be4(0x1b3)](this['instanceName']+'\x20('+this[_0x884be4(0xdd)][_0x884be4(0x4ea)]+_0x884be4(0x502)+_0x4de383+':\x20'+_0x34e18c);}catch{this[_0x884be4(0x5c8)]['error'](this[_0x884be4(0x665)]+'\x20('+this[_0x884be4(0xdd)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4de383+':\x20'+_0x34e18c);}}async[a0_0x50dea5(0x17c)]({qr:_0x4853f3,connection:_0x4e94e0,lastDisconnect:_0x58851e}){const _0xd80b7f=a0_0x50dea5;if(_0x4853f3){if(this[_0xd80b7f(0xdd)]['qrcode'][_0xd80b7f(0x24c)]===Ni)return this[_0xd80b7f(0x543)](_0xd80b7f(0x5ca),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','statusCode':f[_0xd80b7f(0x27d)][_0xd80b7f(0x403)]}),this[_0xd80b7f(0xf6)]={'state':'refused','statusReason':f[_0xd80b7f(0x27d)][_0xd80b7f(0x5af)]},this[_0xd80b7f(0x543)](_0xd80b7f(0x2b8),{'instance':this['instance']['name'],...this[_0xd80b7f(0xf6)]}),this[_0xd80b7f(0x543)]('status.instance',{'instance':this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)],'status':_0xd80b7f(0x2d9)}),this[_0xd80b7f(0x65f)][_0xd80b7f(0x438)][_0xd80b7f(0x39c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xd80b7f(0x712)]()},this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)]),this[_0xd80b7f(0x37e)]=!0x0,this[_0xd80b7f(0x206)][_0xd80b7f(0x1dc)](_0xd80b7f(0x3a4),this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)]);this[_0xd80b7f(0xdd)][_0xd80b7f(0x6ce)][_0xd80b7f(0x24c)]++;let _0x4610e4={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xd80b7f(0x599),'dark':_0xd80b7f(0x2e9)}};$r[_0xd80b7f(0x378)][_0xd80b7f(0x5ce)](_0x4853f3,_0x4610e4,(_0x16c741,_0x22d8a7)=>{const _0x38b1b5=_0xd80b7f;if(_0x16c741){this[_0x38b1b5(0x5c8)][_0x38b1b5(0x190)](this['instanceName']+'\x20('+this[_0x38b1b5(0xdd)][_0x38b1b5(0x4ea)]+_0x38b1b5(0x316)+(_0x16c741 instanceof Error?_0x16c741['message']:JSON[_0x38b1b5(0x581)](_0x16c741,null,0x2)));return;}this[_0x38b1b5(0xdd)][_0x38b1b5(0x6ce)][_0x38b1b5(0x522)]=_0x22d8a7,this['instance'][_0x38b1b5(0x6ce)][_0x38b1b5(0x2f3)]=_0x4853f3,!this[_0x38b1b5(0x2f2)]&&this['sendDataWebhook'](_0x38b1b5(0x5ca),{'qrcode':{'instance':this[_0x38b1b5(0xdd)][_0x38b1b5(0x213)],'pairingCode':this[_0x38b1b5(0xdd)][_0x38b1b5(0x6ce)][_0x38b1b5(0x506)],'code':_0x4853f3,'base64':_0x22d8a7}});}),this[_0xd80b7f(0x2f2)]?this[_0xd80b7f(0xdd)][_0xd80b7f(0x6ce)][_0xd80b7f(0x506)]||(await(0x0,f['delay'])(0x7d0),this['instance'][_0xd80b7f(0x6ce)][_0xd80b7f(0x506)]=await this[_0xd80b7f(0x704)][_0xd80b7f(0x3f8)](this[_0xd80b7f(0x2f2)])):this[_0xd80b7f(0xdd)][_0xd80b7f(0x6ce)][_0xd80b7f(0x506)]=null,Ar[_0xd80b7f(0x378)][_0xd80b7f(0x3cb)](_0x4853f3,{'small':!0x0},_0x3f6608=>this[_0xd80b7f(0x5c8)][_0xd80b7f(0x1b3)](_0xd80b7f(0x5a5)+this['instance'][_0xd80b7f(0x213)]+_0xd80b7f(0x50a)+this[_0xd80b7f(0xdd)][_0xd80b7f(0x6ce)][_0xd80b7f(0x24c)]+_0xd80b7f(0x4fc)+this[_0xd80b7f(0xdd)][_0xd80b7f(0x6ce)][_0xd80b7f(0x506)]+_0xd80b7f(0x335)+_0x3f6608));}if(_0x4e94e0&&(this[_0xd80b7f(0xf6)]={'state':_0x4e94e0,'statusReason':_0x58851e?.[_0xd80b7f(0x190)]?.[_0xd80b7f(0x6f6)]?.[_0xd80b7f(0x1f6)]??0xc8},this[_0xd80b7f(0x543)](_0xd80b7f(0x2b8),{'instance':this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)],...this[_0xd80b7f(0xf6)]})),_0x4e94e0==='close'){if(this[_0xd80b7f(0x758)]++,this['reconnectTimestamps'][_0xd80b7f(0x112)](Date[_0xd80b7f(0x712)]()),this[_0xd80b7f(0x501)]=this[_0xd80b7f(0x501)][_0xd80b7f(0x6ee)](_0x5be76f=>Date[_0xd80b7f(0x712)]()-_0x5be76f<this[_0xd80b7f(0x5d8)]),_0x58851e[_0xd80b7f(0x190)]?.[_0xd80b7f(0x6f6)]?.[_0xd80b7f(0x1f6)]!==f[_0xd80b7f(0x27d)]['loggedOut']&&this[_0xd80b7f(0x501)]['length']<=this[_0xd80b7f(0x5cd)])console[_0xd80b7f(0x1b3)](this[_0xd80b7f(0x665)]+_0xd80b7f(0x633)+this[_0xd80b7f(0x758)]+'/'+this[_0xd80b7f(0x5cd)]+_0xd80b7f(0x645)),console[_0xd80b7f(0x1b3)]('Tentando\x20reconectar...'),await this['connectToWhatsapp']();else{this[_0xd80b7f(0x543)](_0xd80b7f(0x30b),{'instance':this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)],'status':_0xd80b7f(0x2d9)}),this[_0xd80b7f(0xdd)][_0xd80b7f(0x129)][_0xd80b7f(0x52c)]=!0x1,this[_0xd80b7f(0x65f)][_0xd80b7f(0x1b0)][_0xd80b7f(0x2ca)](this['instanceName']),this[_0xd80b7f(0x65f)][_0xd80b7f(0x438)][_0xd80b7f(0x39c)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)]);try{this[_0xd80b7f(0x5c8)][_0xd80b7f(0x1f5)](this[_0xd80b7f(0x665)]+'\x20('+this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]+_0xd80b7f(0x5f2));let _0x2f9d6e=await this[_0xd80b7f(0x65f)][_0xd80b7f(0x47f)]['deleteAll'](this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]);_0x2f9d6e[_0xd80b7f(0x576)]?this[_0xd80b7f(0x5c8)][_0xd80b7f(0x1f5)](this[_0xd80b7f(0x665)]+'\x20('+this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]+_0xd80b7f(0x3f2)):console['error'](_0xd80b7f(0x71b),_0x2f9d6e[_0xd80b7f(0x190)]);}catch(_0x28a506){console[_0xd80b7f(0x190)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x28a506[_0xd80b7f(0x47f)]);}this[_0xd80b7f(0xdd)][_0xd80b7f(0x129)]['delayMessage']!==null&&(this['logger'][_0xd80b7f(0x1f5)](this[_0xd80b7f(0x665)]+'\x20('+this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0xd80b7f(0x129)][_0xd80b7f(0x3ff)]),this['instance'][_0xd80b7f(0x129)][_0xd80b7f(0x3ff)]=null),this[_0xd80b7f(0x5c8)][_0xd80b7f(0x1f5)](this[_0xd80b7f(0x665)]+'\x20('+this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]+_0xd80b7f(0x285)),this[_0xd80b7f(0x55d)]=null,this[_0xd80b7f(0x206)][_0xd80b7f(0x1dc)](_0xd80b7f(0x61d),this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)],_0xd80b7f(0x14d)),this['client']?.['ws']?.[_0xd80b7f(0x450)](),this[_0xd80b7f(0x704)][_0xd80b7f(0x4a0)](new Error(_0xd80b7f(0x4ee)));}}if(_0x4e94e0===_0xd80b7f(0x6a3)){this[_0xd80b7f(0x704)]['ev'][_0xd80b7f(0x3fc)](),this[_0xd80b7f(0x426)],this['instance'][_0xd80b7f(0x4ea)]=this[_0xd80b7f(0x704)][_0xd80b7f(0x639)]['id']['replace'](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0xd80b7f(0xdd)]['profilePictureUrl']=(await this[_0xd80b7f(0x54f)](this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)]+_0xd80b7f(0x58b)))[_0xd80b7f(0x79a)],this[_0xd80b7f(0x65f)][_0xd80b7f(0x438)][_0xd80b7f(0x39c)]({'online':!0x0,'owner':this['instance'][_0xd80b7f(0x4ea)],'lastDisconnect':null},this[_0xd80b7f(0xdd)][_0xd80b7f(0x213)]);let _0x302574=_0xd80b7f(0x49f)+this[_0xd80b7f(0xdd)][_0xd80b7f(0x4ea)],_0x14ef92=0x28,_0x2e683c=Math['floor']((_0x14ef92-_0x302574['length'])/0x2),_0x2151e8='\x20'[_0xd80b7f(0x5fe)](_0x2e683c),_0x37c7b6='CONECTADO\x20\x20UAZAPI',_0x220e7c=_0xd80b7f(0x58d)+this['instance']['name'],_0x1a4471=(''+_0x2151e8+_0x302574+_0x2151e8)[_0xd80b7f(0x6f7)](_0x14ef92,'\x20'),_0x357e77=(''+_0x2151e8+_0x37c7b6+_0x2151e8)[_0xd80b7f(0x6f7)](_0x14ef92,'\x20'),_0x2db9e8=(''+_0x2151e8+_0x220e7c+_0x2151e8)['padEnd'](_0x14ef92,'\x20'),_0x5f1f69=Math[_0xd80b7f(0x77a)](_0x1a4471[_0xd80b7f(0x6a9)],_0x357e77[_0xd80b7f(0x6a9)],_0x2db9e8[_0xd80b7f(0x6a9)]),_0xb09311=_0x1a4471[_0xd80b7f(0x6f7)](_0x5f1f69,'\x20'),_0x53bb5b=_0x357e77[_0xd80b7f(0x6f7)](_0x5f1f69,'\x20'),_0x35996c=_0x2db9e8[_0xd80b7f(0x6f7)](_0x5f1f69,'\x20');this[_0xd80b7f(0x5c8)][_0xd80b7f(0x43e)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0xd80b7f(0x5fe)](_0x5f1f69)+_0xd80b7f(0x757)+_0x53bb5b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35996c+_0xd80b7f(0x6be)+_0xb09311+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0xd80b7f(0x5fe)](_0x5f1f69)+'')[_0xd80b7f(0x24a)](/^ +/gm,'\x20\x20')),this[_0xd80b7f(0x416)](),this['instance'][_0xd80b7f(0x129)][_0xd80b7f(0x52c)]=!0x0;}}[a0_0x50dea5(0x426)](){const _0x39629b=a0_0x50dea5;this[_0x39629b(0x758)]=0x0,this[_0x39629b(0x501)]=[];}async[a0_0x50dea5(0x432)](_0x1dcf70,_0x420317=!0x1){const _0x248b67=a0_0x50dea5;try{let _0x1cf8cd=await this[_0x248b67(0x65f)][_0x248b67(0x47f)][_0x248b67(0x3d9)]({'where':{'_id':_0x1dcf70['id']}},this['instance']['wuid']);return _0x420317?_0x1cf8cd[0x0]:_0x1cf8cd[0x0][_0x248b67(0x47f)];}catch{return{'conversation':''};}}[a0_0x50dea5(0x4ed)](){const _0x337220=a0_0x50dea5;let _0x12c033=this[_0x337220(0x5fc)][_0x337220(0x42a)](_0x337220(0x6af)),_0x17cfb8=this[_0x337220(0x5fc)][_0x337220(0x42a)]('DATABASE');_0x12c033?.[_0x337220(0xdf)]&&!_0x17cfb8[_0x337220(0x73b)]&&setInterval(()=>{const _0xfca605=_0x337220;try{for(let [_0x229100,_0x2bf870]of Object[_0xfca605(0x273)](_0x12c033))_0x2bf870===!0x0&&(0x0,Oe[_0xfca605(0x43b)])(_0xfca605(0x6df)+(0x0,U['join'])(this[_0xfca605(0x266)],_0x229100[_0xfca605(0x228)](),this[_0xfca605(0xdd)][_0xfca605(0x4ea)])+'/*.json');}catch{}},(_0x12c033?.[_0x337220(0xdf)]??0xe10)*0x3e8);}async[a0_0x50dea5(0x663)](){const _0x131ab3=a0_0x50dea5;let _0x550d60=this['configService']['get']('DATABASE'),_0x839512=this[_0x131ab3(0x5fc)]['get'](_0x131ab3(0x6fc));return _0x839512?.[_0x131ab3(0x73b)]?await Os(_0x839512,this[_0x131ab3(0xdd)][_0x131ab3(0x213)]):_0x550d60[_0x131ab3(0x73b)]?await Rs(this[_0x131ab3(0xdd)][_0x131ab3(0x213)]):await(0x0,f[_0x131ab3(0x1a1)])((0x0,U[_0x131ab3(0x243)])(ge,this[_0x131ab3(0xdd)][_0x131ab3(0x213)]));}async[a0_0x50dea5(0x416)](){const _0x5c15ec=a0_0x50dea5;let _0xde33a=()=>Math['floor'](Math[_0x5c15ec(0x2a3)]()*0x2711)+0x7d0,_0x1aaaaf=async()=>{const _0x5a9531=_0x5c15ec;if(!this[_0x5a9531(0xdd)][_0x5a9531(0x129)]['isConnected']){this[_0x5a9531(0x5c8)][_0x5a9531(0x1f5)](_0x5a9531(0x19c)),this[_0x5a9531(0x1ed)]=!0x1;return;}if(this[_0x5a9531(0xdd)][_0x5a9531(0x4ea)]&&this[_0x5a9531(0x55d)]&&this[_0x5a9531(0xdd)][_0x5a9531(0x129)][_0x5a9531(0x3ff)]!==null&&this[_0x5a9531(0xdd)][_0x5a9531(0x129)][_0x5a9531(0x3ff)]!==void 0x0){let _0x2307f6=Math[_0x5a9531(0xcf)](this[_0x5a9531(0xdd)][_0x5a9531(0x129)][_0x5a9531(0x3ff)]/0xea60);this[_0x5a9531(0x5c8)][_0x5a9531(0x1f5)](this[_0x5a9531(0x665)]+'\x20('+this[_0x5a9531(0xdd)][_0x5a9531(0x4ea)]+_0x5a9531(0x737)+_0x2307f6+_0x5a9531(0x6b1)),this[_0x5a9531(0x1ed)]=!0x1;return;}else this[_0x5a9531(0xdd)][_0x5a9531(0x4ea)]&&(this[_0x5a9531(0x5c8)][_0x5a9531(0x1f5)](this[_0x5a9531(0x665)]+'\x20('+this[_0x5a9531(0xdd)][_0x5a9531(0x4ea)]+_0x5a9531(0x644)),this[_0x5a9531(0x55d)]||(await this['getAutomateSystem'](),this['findGroups']()),(this[_0x5a9531(0xdd)][_0x5a9531(0x129)][_0x5a9531(0x3ff)]===null||this['instance'][_0x5a9531(0x129)][_0x5a9531(0x3ff)]===void 0x0)&&await this[_0x5a9531(0x35e)]());if(this[_0x5a9531(0x1ed)]){let _0x15e034=_0xde33a();this[_0x5a9531(0x5c8)][_0x5a9531(0x1f5)](this[_0x5a9531(0x665)]+_0x5a9531(0x606)+_0x15e034/0x3e8+_0x5a9531(0x36f)),setTimeout(_0x1aaaaf,_0x15e034);}};if(this[_0x5c15ec(0x1ed)])return;this[_0x5c15ec(0x1ed)]=!0x0;let _0xec7791=_0xde33a();setTimeout(_0x1aaaaf,_0xec7791);}async[a0_0x50dea5(0x234)](_0x2d00e5=0x0,_0x218f64=!0x1){const _0x4bdd5b=a0_0x50dea5;try{let _0x43c077=this['configService']['get'](_0x4bdd5b(0x47c));if(_0x43c077!==0x1||typeof _0x43c077>'u'||_0x2d00e5>=0x5)return this['logger'][_0x4bdd5b(0x7a5)](_0x4bdd5b(0x26e)),this[_0x4bdd5b(0x65f)][_0x4bdd5b(0x438)][_0x4bdd5b(0x39c)]({'ip':null},this[_0x4bdd5b(0xdd)][_0x4bdd5b(0x213)]),{};this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x1f5)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x4af)+(_0x2d00e5+0x1)+_0x4bdd5b(0x3f4));let _0x262c93;if(!_0x218f64){let _0x3312b3=await this[_0x4bdd5b(0x65f)]['auth'][_0x4bdd5b(0x3d9)](this['instanceName']);_0x3312b3&&_0x3312b3['ip']&&(_0x262c93=vr(_0x3312b3['ip']));}if((!_0x262c93||!Ts(_0x262c93))&&(this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x7a5)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x5b5)),_0x262c93=Nr()),_0x262c93&&Ts(_0x262c93)){let _0x1fb8f4=_0x262c93[_0x4bdd5b(0x467)]&&_0x262c93[_0x4bdd5b(0x765)]?_0x262c93[_0x4bdd5b(0xe7)]+_0x4bdd5b(0x4cb)+_0x262c93[_0x4bdd5b(0x467)]+':'+_0x262c93[_0x4bdd5b(0x765)]+'@'+_0x262c93['host']+':'+_0x262c93[_0x4bdd5b(0x43c)]:_0x262c93['protocol']+_0x4bdd5b(0x4cb)+_0x262c93[_0x4bdd5b(0x261)]+':'+_0x262c93[_0x4bdd5b(0x43c)];return await this[_0x4bdd5b(0x70c)](_0x1fb8f4,_0x262c93[_0x4bdd5b(0x261)])?(this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x1f5)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x678)),this[_0x4bdd5b(0x65f)][_0x4bdd5b(0x438)]['create']({'ip':_0x262c93['host']},this[_0x4bdd5b(0xdd)][_0x4bdd5b(0x213)]),{'agent':new Ft[(_0x4bdd5b(0x4a1))](_0x1fb8f4),'fetchAgent':new Ft['HttpsProxyAgent'](_0x1fb8f4)}):(this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x7a5)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x1e0)),await(0x0,f['delay'])(0xc8),this[_0x4bdd5b(0x234)](_0x2d00e5+0x1,!0x0));}else return this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x7a5)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x7a3)),await(0x0,f[_0x4bdd5b(0x538)])(0xc8),this[_0x4bdd5b(0x234)](_0x2d00e5+0x1,!0x0);}catch(_0x337652){return this[_0x4bdd5b(0x5c8)][_0x4bdd5b(0x190)](this[_0x4bdd5b(0x665)]+_0x4bdd5b(0x63f)+_0x337652[_0x4bdd5b(0x47f)]),{};}}async[a0_0x50dea5(0x70c)](_0x394b0a,_0x1e842e){const _0x37d126=a0_0x50dea5;let _0x5832c8=new Ft['HttpsProxyAgent'](_0x394b0a),_0x153fae=0x1388,_0x555c2b=[{'url':'https://jsonip.com','parse':_0x117bb5=>_0x117bb5['ip']},{'url':_0x37d126(0x795),'parse':_0x432c15=>_0x432c15['ip']},{'url':_0x37d126(0x635),'parse':_0x4fa870=>_0x4fa870[_0x37d126(0x148)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x37d126(0x2c7),'parse':_0xc56563=>_0xc56563['ip']},{'url':_0x37d126(0x796),'parse':_0x1ab710=>_0x1ab710[_0x37d126(0x1ba)]()},{'url':_0x37d126(0x41a),'parse':_0x4eeb72=>_0x4eeb72[_0x37d126(0x1ba)]()},{'url':_0x37d126(0x31b),'parse':_0x110794=>_0x110794[_0x37d126(0x583)]},{'url':'http://myexternalip.com/raw','parse':_0x548dc7=>_0x548dc7[_0x37d126(0x1ba)]()},{'url':'http://icanhazip.com/','parse':_0x2d0e56=>_0x2d0e56['trim']()}],_0x108bd0=_0x555c2b[Math[_0x37d126(0x16e)](Math['random']()*_0x555c2b[_0x37d126(0x6a9)])];try{let _0x2c2fac=await K[_0x37d126(0x378)][_0x37d126(0x42a)](_0x108bd0['url'],{'httpsAgent':_0x5832c8,'timeout':_0x153fae}),_0x444a16=_0x108bd0[_0x37d126(0x11e)](_0x2c2fac[_0x37d126(0x478)]);return _0x444a16===_0x1e842e?(this[_0x37d126(0x5c8)][_0x37d126(0x1f5)](this['instanceName']+_0x37d126(0x20b)+_0x1e842e+_0x37d126(0x792)+_0x444a16+_0x37d126(0x111)),!0x0):(this[_0x37d126(0x5c8)]['error'](this[_0x37d126(0x665)]+_0x37d126(0x20b)+_0x1e842e+_0x37d126(0x792)+_0x444a16+_0x37d126(0x6aa)),!0x1);}catch(_0x3a3685){return this[_0x37d126(0x5c8)]['error'](this[_0x37d126(0x665)]+_0x37d126(0x1e8)+_0x108bd0[_0x37d126(0xf5)]+':\x20'+_0x3a3685[_0x37d126(0x47f)]),!0x1;}}async['connectToWhatsapp'](_0x40beab){const _0x2f41ef=a0_0x50dea5;try{let _0x6f8486=await this[_0x2f41ef(0x234)]();this[_0x2f41ef(0x12c)](),this[_0x2f41ef(0xdd)][_0x2f41ef(0x420)]=(await this[_0x2f41ef(0x65f)]['auth'][_0x2f41ef(0x3d9)](this[_0x2f41ef(0xdd)]['name']))[_0x2f41ef(0x420)],this[_0x2f41ef(0xdd)][_0x2f41ef(0x6cd)]=await this[_0x2f41ef(0x663)]();let {version:_0x407b83}=await(0x0,f[_0x2f41ef(0x487)])(),_0x27f13b=[Ir,Ds,(0x0,As[_0x2f41ef(0x2cf)])()],_0xf91176={..._0x6f8486,'auth':{'creds':this[_0x2f41ef(0xdd)][_0x2f41ef(0x6cd)][_0x2f41ef(0x662)][_0x2f41ef(0x72a)],'keys':(0x0,f[_0x2f41ef(0x5f9)])(this[_0x2f41ef(0xdd)][_0x2f41ef(0x6cd)][_0x2f41ef(0x662)][_0x2f41ef(0x165)],(0x0,Pt[_0x2f41ef(0x378)])({'level':_0x2f41ef(0x190)}))},'logger':(0x0,Pt[_0x2f41ef(0x378)])({'level':_0x2f41ef(0x190)}),'printQRInTerminal':!0x1,'browser':_0x40beab?['Mac\x20OS',Ds,(0x0,As[_0x2f41ef(0x2cf)])()]:_0x27f13b,'version':_0x407b83,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x23f8c8=>{const _0x3b9079=_0x2f41ef;let _0x28025e=_0x23f8c8[_0x3b9079(0x28a)](_0x3b9079(0x461)),_0x9e31fa=this[_0x3b9079(0x10d)]?.['groups_ignore']&&_0x23f8c8[_0x3b9079(0x28a)](_0x3b9079(0x1c0));return _0x28025e||(0x0,f[_0x3b9079(0x360)])(_0x23f8c8)||_0x9e31fa;},'msgRetryCounterCache':this[_0x2f41ef(0x145)],'getMessage':async _0xa9ecfb=>await this[_0x2f41ef(0x432)](_0xa9ecfb),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x53a18d=>(_0x53a18d[_0x2f41ef(0x149)]?.['listType']==f['proto']['Message'][_0x2f41ef(0x2b5)][_0x2f41ef(0x781)][_0x2f41ef(0x77d)]&&(_0x53a18d=JSON[_0x2f41ef(0x11e)](JSON['stringify'](_0x53a18d)),_0x53a18d[_0x2f41ef(0x149)][_0x2f41ef(0x2cd)]=f[_0x2f41ef(0x267)][_0x2f41ef(0x2c6)][_0x2f41ef(0x2b5)][_0x2f41ef(0x781)]['SINGLE_SELECT']),_0x53a18d)};return this[_0x2f41ef(0x37e)]=!0x1,this['client']=(0x0,f[_0x2f41ef(0x378)])(_0xf91176),this[_0x2f41ef(0x16c)](),this[_0x2f41ef(0x2f2)]=_0x40beab,this[_0x2f41ef(0x704)];}catch(_0x330022){let _0xae292e=_0x2f41ef(0x374),_0x3ea186=_0x330022 instanceof Error?_0x330022[_0x2f41ef(0x47f)]:typeof _0x330022==_0x2f41ef(0x471)?JSON[_0x2f41ef(0x581)](_0x330022):_0x330022,_0x121a88=_0xae292e+':\x20'+_0x3ea186;throw this[_0x2f41ef(0x5c8)]['error'](this[_0x2f41ef(0x665)]+'\x20('+this['instance'][_0x2f41ef(0x4ea)]+_0x2f41ef(0x5fd)+_0x121a88),new A(_0x121a88);}}[a0_0x50dea5(0x16c)](){const _0x20ada1=a0_0x50dea5;this[_0x20ada1(0x704)]['ev'][_0x20ada1(0x109)](_0x2c883f=>{const _0x3b6494=_0x20ada1;if(!this[_0x3b6494(0x37e)]){let _0x364adc=this[_0x3b6494(0x5fc)][_0x3b6494(0x42a)](_0x3b6494(0x366));if(_0x2c883f['labels.edit']){let _0x58ad92=_0x2c883f[_0x3b6494(0x37a)];this[_0x3b6494(0x751)]['labels.edit'](_0x58ad92);}if(_0x2c883f[_0x3b6494(0x763)]){let _0x28bcc4=_0x2c883f[_0x3b6494(0x763)];this[_0x3b6494(0x751)]['labels.association'](_0x28bcc4);}if(_0x2c883f['connection.update']&&this[_0x3b6494(0x17c)](_0x2c883f['connection.update']),_0x2c883f[_0x3b6494(0x43f)]&&this[_0x3b6494(0xdd)]['authState'][_0x3b6494(0x515)](),_0x2c883f[_0x3b6494(0x3b5)]){let _0x175f22=_0x2c883f[_0x3b6494(0x3b5)];this[_0x3b6494(0x751)]['messaging-history.set'](_0x175f22,_0x364adc);}if(_0x2c883f['messages.upsert']){let _0x2ba0ad=_0x2c883f['messages.upsert'];this['messageHandle'][_0x3b6494(0x2a0)](_0x2ba0ad,_0x364adc);}if(_0x2c883f[_0x3b6494(0x72b)]){let _0x2a37b3=_0x2c883f[_0x3b6494(0x72b)];_0x2a37b3[_0x3b6494(0x163)](_0x30c50b=>{const _0x172292=_0x3b6494;if(Or[_0x30c50b[_0x172292(0x6a8)]['id']]){this[_0x172292(0x704)]['ev'][_0x172292(0x1dc)](_0x172292(0x2a0),{'messages':[_0x30c50b],'type':_0x172292(0x519)}),delete Or[_0x30c50b[_0x172292(0x6a8)]['id']];return;}}),this[_0x3b6494(0x751)][_0x3b6494(0x72b)](_0x2a37b3,_0x364adc);}if(_0x2c883f[_0x3b6494(0x4fe)]){let _0x117f92=_0x2c883f[_0x3b6494(0x4fe)];if(this[_0x3b6494(0x10d)]?.['groups_ignore']&&_0x117f92['id'][_0x3b6494(0x58a)](_0x3b6494(0x1c0)))return;this['sendDataWebhook']('presence.update',_0x117f92);}if(!this[_0x3b6494(0x10d)]?.[_0x3b6494(0x495)]){if(_0x2c883f[_0x3b6494(0x609)]){let _0x369065=_0x2c883f['groups.upsert'];this[_0x3b6494(0x5ef)][_0x3b6494(0x609)](_0x369065);}if(_0x2c883f['groups.update']){let _0x3f4552=_0x2c883f[_0x3b6494(0x503)];this[_0x3b6494(0x5ef)]['groups.update'](_0x3f4552);}if(_0x2c883f[_0x3b6494(0x217)]){let _0x481fe8=_0x2c883f[_0x3b6494(0x217)];this[_0x3b6494(0x5ef)][_0x3b6494(0x217)](_0x481fe8);}}if(_0x2c883f['chats.upsert']){let _0x5b142d=_0x2c883f[_0x3b6494(0x12e)];this[_0x3b6494(0x6da)][_0x3b6494(0x12e)](_0x5b142d,_0x364adc);}if(_0x2c883f[_0x3b6494(0x5f1)]){let _0x569915=_0x2c883f[_0x3b6494(0x5f1)];this[_0x3b6494(0x6da)][_0x3b6494(0x5f1)](_0x569915,_0x364adc);}if(_0x2c883f[_0x3b6494(0x272)]){let _0x43657d=_0x2c883f['chats.delete'];this[_0x3b6494(0x6da)]['chats.delete'](_0x43657d);}if(_0x2c883f[_0x3b6494(0x222)]){let _0x29de93=_0x2c883f[_0x3b6494(0x222)];this['contactHandle'][_0x3b6494(0x222)](_0x29de93,_0x364adc);}if(_0x2c883f[_0x3b6494(0x6e4)]){let _0x3ed25f=_0x2c883f[_0x3b6494(0x6e4)];this[_0x3b6494(0xd2)][_0x3b6494(0x6e4)](_0x3ed25f,_0x364adc);}}});}['delayChatLabel'](_0x527359){return new Promise(_0x595382=>setTimeout(_0x595382,_0x527359));}[a0_0x50dea5(0x3fd)](_0x2355a2){_0x2355a2=_0x2355a2['replace'](/\D/g,'');let _0x1a48fe=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x2355a2);if(_0x1a48fe&&_0x1a48fe[0x1]==='55'){let _0x29446b=_0x1a48fe[0x2],_0x5d8631=_0x1a48fe[0x3],_0x48abc7=_0x1a48fe[0x4];if(parseInt(_0x29446b)>=0x1f&&_0x5d8631==='9')return _0x1a48fe[0x1]+_0x29446b+_0x48abc7;}return _0x2355a2;}[a0_0x50dea5(0x5c4)](_0x24a9a5){const _0x33c12f=a0_0x50dea5;return _0x24a9a5[_0x33c12f(0x58a)](_0x33c12f(0x1c0))||_0x24a9a5['includes'](_0x33c12f(0x58b))||_0x24a9a5[_0x33c12f(0x58a)](_0x33c12f(0x570))?_0x24a9a5:(_0x24a9a5=_0x24a9a5?.[_0x33c12f(0x24a)](/\s/g,'')[_0x33c12f(0x24a)](/\+/g,'')[_0x33c12f(0x24a)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x24a9a5[_0x33c12f(0x6a9)]>=0x12?(_0x24a9a5=_0x24a9a5[_0x33c12f(0x24a)](/[^\d-]/g,''),_0x24a9a5+_0x33c12f(0x1c0)):(_0x24a9a5=_0x24a9a5['replace'](/\D/g,''),this[_0x33c12f(0x3fd)](_0x24a9a5)+_0x33c12f(0x58b)));}async[a0_0x50dea5(0x666)](_0x8868bf){const _0x4f69e1=a0_0x50dea5;let _0x248441=this[_0x4f69e1(0x5c4)](_0x8868bf['number']),_0x4c351d=(await this['whatsappNumber']({'numbers':[_0x248441]}))[0x0];if(!_0x4c351d[_0x4f69e1(0x40f)]&&!(0x0,f[_0x4f69e1(0x5db)])(_0x4c351d['jid']))throw new w(_0x4c351d);let _0x5f18e8=(0x0,f[_0x4f69e1(0x5db)])(_0x248441)?_0x248441:_0x4c351d[_0x4f69e1(0x20a)];if((0x0,f['isJidGroup'])(_0x5f18e8))try{await this['client'][_0x4f69e1(0x110)](_0x5f18e8);}catch{throw new F(_0x4f69e1(0x6b2));}try{return await this['client'][_0x4f69e1(0x250)](_0x5f18e8),await this[_0x4f69e1(0x704)]['sendPresenceUpdate'](_0x8868bf[_0x4f69e1(0x621)],_0x248441),{'status':0xc8,'presence':_0x8868bf[_0x4f69e1(0x621)]};}catch(_0x519aa2){let _0x2c8c28=_0x4f69e1(0x726),_0x5bdcfa=_0x519aa2 instanceof Error?_0x519aa2[_0x4f69e1(0x47f)]:typeof _0x519aa2==_0x4f69e1(0x471)?JSON[_0x4f69e1(0x581)](_0x519aa2):_0x519aa2,_0x2a70b1=_0x2c8c28+':\x20'+_0x5bdcfa;throw this[_0x4f69e1(0x5c8)][_0x4f69e1(0x190)](this[_0x4f69e1(0x665)]+'\x20('+this[_0x4f69e1(0xdd)][_0x4f69e1(0x4ea)]+_0x4f69e1(0x5fd)+_0x2a70b1),new w(_0x2a70b1);}}async['findAndUpdateCacheContact'](_0x1c4f53,_0x56b52e,_0x6aca92){const _0x49cf89=a0_0x50dea5;let _0x1b9841=await this['repository'][_0x49cf89(0x180)]['findOne']({'where':{'_id':_0x1c4f53}}),_0x541986={'lastUpdate':Date[_0x49cf89(0x712)]()};if(_0x6aca92||!_0x1b9841?.[_0x49cf89(0x17f)]||Date[_0x49cf89(0x712)]()-_0x1b9841['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0xcfe79a=(await this[_0x49cf89(0x54f)](_0x1c4f53))[_0x49cf89(0x79a)];_0x541986[_0x49cf89(0x2d4)]=_0xcfe79a;}catch(_0xd991d2){let _0x448fc3=_0x49cf89(0x3ef),_0x3f8c0b=_0xd991d2 instanceof Error?_0xd991d2[_0x49cf89(0x47f)]:typeof _0xd991d2==_0x49cf89(0x471)?JSON[_0x49cf89(0x581)](_0xd991d2):_0xd991d2,_0x457f5d=_0x448fc3+':\x20'+_0x3f8c0b;throw this[_0x49cf89(0x5c8)][_0x49cf89(0x190)](this[_0x49cf89(0x665)]+'\x20('+this[_0x49cf89(0xdd)][_0x49cf89(0x4ea)]+_0x49cf89(0x5fd)+_0x457f5d),new w(_0x457f5d);}return _0x56b52e&&_0x1b9841?.[_0x49cf89(0x213)]!==_0x56b52e&&(_0x541986[_0x49cf89(0x213)]=_0x56b52e),Object[_0x49cf89(0x165)](_0x541986)[_0x49cf89(0x6a9)]>0x1&&(_0x1b9841?await this[_0x49cf89(0x65f)]['cacheContact'][_0x49cf89(0x760)]({'where':{'_id':_0x1c4f53}},_0x541986):await this[_0x49cf89(0x65f)][_0x49cf89(0x180)][_0x49cf89(0x557)]([{'_id':_0x1c4f53,..._0x541986}]),_0x1b9841={..._0x1b9841,..._0x541986}),{'cachedContact':_0x1b9841};}async[a0_0x50dea5(0x54f)](_0x1c8c98){const _0x51d740=a0_0x50dea5;let _0x449e11=this[_0x51d740(0x5c4)](_0x1c8c98);try{return{'wuid':_0x449e11,'profilePictureUrl':await this[_0x51d740(0x704)][_0x51d740(0x79a)](_0x449e11,_0x51d740(0x764))};}catch{return{'wuid':_0x449e11,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x5d6b1b,_0x319b2f,_0x147bcf){const _0xd12d79=a0_0x50dea5;_0x147bcf||(_0x147bcf={});let _0x13b935=(await this[_0xd12d79(0x159)]({'numbers':[_0x5d6b1b]}))[0x0];if(!_0x13b935[_0xd12d79(0x40f)]&&!(0x0,f[_0xd12d79(0x5db)])(_0x13b935[_0xd12d79(0x20a)])&&!_0x13b935[_0xd12d79(0x20a)][_0xd12d79(0x58a)](_0xd12d79(0x570)))throw new w(_0x13b935);let _0x100fee=_0x13b935[_0xd12d79(0x20a)];try{if(_0x147bcf?.['delay']){await this[_0xd12d79(0x704)][_0xd12d79(0x250)](_0x100fee),await this['client'][_0xd12d79(0x5a4)](_0x147bcf?.[_0xd12d79(0x621)]??_0xd12d79(0x152),_0x100fee);let _0x80cd4b=Math[_0xd12d79(0x3c0)](_0x147bcf[_0xd12d79(0x538)],0x2710);await(0x0,f[_0xd12d79(0x538)])(_0x80cd4b),await this['client'][_0xd12d79(0x5a4)](_0xd12d79(0x6f5),_0x100fee);}let _0x46cd36=_0x147bcf?.[_0xd12d79(0x1ce)]!=!0x1?void 0x0:!0x1,_0x23f51e;if(_0x147bcf?.['quoted']){let _0x541d2e=_0x147bcf?.['quoted'],_0x2aa8fd=_0x541d2e?.[_0xd12d79(0x47f)]?_0x541d2e:await this[_0xd12d79(0x432)](_0x541d2e[_0xd12d79(0x6a8)],!0x0);if(!_0x2aa8fd)throw _0xd12d79(0x2c3);_0x23f51e=_0x2aa8fd;}let _0x4bbebf;if((0x0,f[_0xd12d79(0x5db)])(_0x100fee))try{let _0x1eaed6=await this[_0xd12d79(0x704)][_0xd12d79(0x110)](_0x100fee);if(!_0x1eaed6)throw new F(_0xd12d79(0x6b2));_0x147bcf?.[_0xd12d79(0x6de)]&&(_0x147bcf[_0xd12d79(0x6de)]?.[_0xd12d79(0x224)]?_0x4bbebf=_0x1eaed6[_0xd12d79(0x61c)][_0xd12d79(0x298)](_0x39a260=>_0x39a260['id']):_0x147bcf[_0xd12d79(0x6de)]?.[_0xd12d79(0x208)]?.[_0xd12d79(0x6a9)]&&(_0x4bbebf=_0x147bcf[_0xd12d79(0x6de)][_0xd12d79(0x208)][_0xd12d79(0x298)](_0x15766d=>{const _0x41c09d=_0xd12d79;let _0x33e8fe=this[_0x41c09d(0x5c4)](_0x15766d);return(0x0,f[_0x41c09d(0x5db)])(_0x33e8fe)?null:_0x33e8fe;})));}catch{throw new F(_0xd12d79(0x6b2));}let _0x3dafbd=await((async()=>{const _0x59b112=_0xd12d79;let _0xba5927={'quoted':_0x23f51e,'ephemeralExpiration':(await this[_0x59b112(0x65f)]['chat'][_0x59b112(0xcc)]({'where':{'_id':_0x100fee}},this[_0x59b112(0xdd)][_0x59b112(0x4ea)]))?.[_0x59b112(0x75c)]??0x0};if(!_0x319b2f[_0x59b112(0x574)]&&!_0x319b2f[_0x59b112(0x77b)]&&!_0x319b2f[_0x59b112(0x715)]&&!_0x319b2f['conversation']&&_0x100fee!==_0x59b112(0x11b)&&!_0x319b2f['audio'])return await this['client'][_0x59b112(0x5bb)](_0x100fee,{'forward':{'key':{'remoteJid':this[_0x59b112(0xdd)]['wuid'],'fromMe':!0x0},'message':_0x319b2f},'mentions':_0x4bbebf},_0xba5927);if(_0x319b2f[_0x59b112(0x176)])return await this['client'][_0x59b112(0x5bb)](_0x100fee,{'react':{'text':_0x319b2f['reactionMessage'][_0x59b112(0x26d)],'key':_0x319b2f[_0x59b112(0x176)]['key']}},_0xba5927);if(_0x319b2f['conversation']){let _0x547773=_0x319b2f[_0x59b112(0x2ef)];return _0x147bcf?.[_0x59b112(0x3f9)]&&(_0x547773=await this[_0x59b112(0x6fd)](_0x547773,_0x100fee)),await this['client']['sendMessage'](_0x100fee,{'text':_0x547773,'mentions':_0x4bbebf,'linkPreview':_0x46cd36},_0xba5927);}return _0x100fee===_0x59b112(0x11b)?await this['client']['sendMessage'](_0x100fee,_0x319b2f[_0x59b112(0x373)][_0x59b112(0x687)],{'backgroundColor':_0x319b2f['status'][_0x59b112(0x131)][_0x59b112(0x686)],'font':_0x319b2f[_0x59b112(0x373)][_0x59b112(0x131)][_0x59b112(0x106)],'statusJidList':_0x319b2f[_0x59b112(0x373)][_0x59b112(0x131)][_0x59b112(0x26f)]}):await this[_0x59b112(0x704)][_0x59b112(0x5bb)](_0x100fee,_0x319b2f,_0xba5927);})()),_0x77be9=(0x0,f[_0xd12d79(0x1dd)])(_0x3dafbd[_0xd12d79(0x47f)]),_0x24dac8=(0x0,f['getContentType'])(_0x77be9),{message_normalized:_0xdbbff5}=this['normalizeMessage'](_0x77be9,_0x24dac8,null),_0x1041a9={'_id':_0x3dafbd['key']['id'],'key':_0x3dafbd[_0xd12d79(0x6a8)],'pushName':_0x3dafbd['pushName'],'isGroup':_0x3dafbd['key'][_0xd12d79(0x1be)][_0xd12d79(0x28a)]('@g.us'),'profilePictureUrl':this[_0xd12d79(0xdd)]['profilePictureUrl'],'message':_0x77be9,'messageType':_0x24dac8,'message_normalized':{'key':_0x3dafbd[_0xd12d79(0x6a8)],'pushName':_0x3dafbd['pushName'],'messageTimestamp':_0x3dafbd[_0xd12d79(0x4c3)]&&_0x3dafbd[_0xd12d79(0x4c3)]['toString']()[_0xd12d79(0x6a9)]<0xd?_0x3dafbd[_0xd12d79(0x4c3)]*0x3e8:_0x3dafbd[_0xd12d79(0x4c3)]||null,'source':(0x0,f['getDevice'])(_0x3dafbd['key']['id']),..._0xdbbff5},'messageTimestamp':_0x3dafbd[_0xd12d79(0x4c3)]&&_0x3dafbd[_0xd12d79(0x4c3)][_0xd12d79(0x4b1)]()[_0xd12d79(0x6a9)]<0xd?_0x3dafbd['messageTimestamp']*0x3e8:_0x3dafbd[_0xd12d79(0x4c3)]||null,'owner':this[_0xd12d79(0xdd)]['wuid'],'source':(0x0,f['getDevice'])(_0x3dafbd[_0xd12d79(0x6a8)]['id'])};return this[_0xd12d79(0x5c8)]['warn'](this[_0xd12d79(0x665)]+'\x20('+this[_0xd12d79(0xdd)]['wuid']+_0xd12d79(0x29b)+_0x1041a9['key']?.[_0xd12d79(0x1be)][_0xd12d79(0x24a)](_0xd12d79(0x58b),'')+_0xd12d79(0x68d)+_0x1041a9['messageType']+')'),_0x1041a9[_0xd12d79(0x4b9)]?.[_0xd12d79(0x26d)]&&this['logger']['warn'](_0x1041a9['message_normalized']?.[_0xd12d79(0x26d)]),this[_0xd12d79(0x543)](_0xd12d79(0x47e),_0x1041a9),J(this[_0xd12d79(0x665)],_0xd12d79(0x3d4),{'message':_0x1041a9}),this[_0xd12d79(0x65d)](this[_0xd12d79(0x5fc)]['get']('DATABASE'),_0x1041a9,_0xd12d79(0x3b4)),await this[_0xd12d79(0x65f)][_0xd12d79(0x47f)][_0xd12d79(0x557)]([_0x1041a9],this[_0xd12d79(0xdd)][_0xd12d79(0x4ea)]),_0x3dafbd;}catch(_0xf36c78){let _0x3a3ee8=_0xd12d79(0x4de),_0x5cbe25=_0xf36c78 instanceof Error?_0xf36c78[_0xd12d79(0x47f)]:typeof _0xf36c78==_0xd12d79(0x471)?JSON[_0xd12d79(0x581)](_0xf36c78):_0xf36c78,_0x2b2627=_0x3a3ee8+':\x20'+_0x5cbe25;throw this[_0xd12d79(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0xd12d79(0xdd)][_0xd12d79(0x4ea)]+_0xd12d79(0x5fd)+_0x2b2627),new w(_0x2b2627);}}get['connectionStatus'](){return this['stateConnection'];}async['textMessage'](_0xb26415){const _0xb151f1=a0_0x50dea5;let _0x9ebd1b=Rr,_0xc3dbdc=et;return _0xc3dbdc&&this['instanceName'][_0xb151f1(0x228)]()[_0xb151f1(0x58a)](_0xc3dbdc[_0xb151f1(0x228)]())&&(_0xb26415[_0xb151f1(0x457)][_0xb151f1(0x26d)]+='\x0a\x0a'+_0x9ebd1b),await this['sendMessageWithTyping'](_0xb26415[_0xb151f1(0x491)],{'conversation':_0xb26415[_0xb151f1(0x457)][_0xb151f1(0x26d)]},_0xb26415?.[_0xb151f1(0x198)]);}async[a0_0x50dea5(0x4a8)](_0x4e69ae){const _0x260a3d=a0_0x50dea5;if(!_0x4e69ae['type'])throw new w(_0x260a3d(0x3e6));if(!_0x4e69ae[_0x260a3d(0x687)])throw new w(_0x260a3d(0x465));if(_0x4e69ae[_0x260a3d(0x45f)]){let _0x570dae=await this['repository'][_0x260a3d(0x317)][_0x260a3d(0x3d9)]({'where':{}},this['instance'][_0x260a3d(0x4ea)]);if(!_0x570dae[_0x260a3d(0x6a9)])throw new w('Contacts\x20not\x20found');_0x4e69ae[_0x260a3d(0x26f)]=_0x570dae[_0x260a3d(0x6ee)](_0x21f394=>_0x21f394[_0x260a3d(0x2a6)])[_0x260a3d(0x298)](_0x47b195=>_0x47b195['_id']);}if(!_0x4e69ae[_0x260a3d(0x26f)]?.[_0x260a3d(0x6a9)]&&!_0x4e69ae[_0x260a3d(0x45f)])throw new w(_0x260a3d(0x1e2));if(_0x4e69ae[_0x260a3d(0x767)]===_0x260a3d(0x26d)){if(!_0x4e69ae[_0x260a3d(0x686)])throw new w(_0x260a3d(0x12d));if(!_0x4e69ae[_0x260a3d(0x106)])throw new w(_0x260a3d(0x1f0));return{'content':{'text':_0x4e69ae[_0x260a3d(0x687)]},'option':{'backgroundColor':_0x4e69ae[_0x260a3d(0x686)],'font':_0x4e69ae[_0x260a3d(0x106)],'statusJidList':_0x4e69ae[_0x260a3d(0x26f)]}};}if(_0x4e69ae[_0x260a3d(0x767)]===_0x260a3d(0x764))return{'content':{'image':{'url':_0x4e69ae[_0x260a3d(0x687)]},'caption':_0x4e69ae['caption']},'option':{'statusJidList':_0x4e69ae[_0x260a3d(0x26f)]}};if(_0x4e69ae['type']===_0x260a3d(0x358))return{'content':{'video':{'url':_0x4e69ae['content']},'caption':_0x4e69ae[_0x260a3d(0x71f)]},'option':{'statusJidList':_0x4e69ae[_0x260a3d(0x26f)]}};if(_0x4e69ae['type']==='audio'){this[_0x260a3d(0x5c8)][_0x260a3d(0x1f5)](_0x260a3d(0x5d4)),this[_0x260a3d(0x5c8)][_0x260a3d(0x1f5)](_0x260a3d(0x28d));let _0x503b3e=await this[_0x260a3d(0x464)](_0x4e69ae[_0x260a3d(0x687)]);if(typeof _0x503b3e=='string'){this[_0x260a3d(0x5c8)]['verbose']('Audio\x20processed');let _0x4b1488=P[_0x260a3d(0x3b7)](_0x503b3e)[_0x260a3d(0x4b1)](_0x260a3d(0x522));return{'content':{'audio':Buffer[_0x260a3d(0x462)](_0x4b1488,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x4e69ae[_0x260a3d(0x26f)]}};}else throw new A(_0x503b3e);}throw new w('Type\x20not\x20found');}async[a0_0x50dea5(0x391)](_0x4cf84c){const _0x302e84=a0_0x50dea5;return await this[_0x302e84(0x57d)](_0x302e84(0x11b),{'status':await this['formatStatusMessage'](_0x4cf84c[_0x302e84(0x391)])});}async[a0_0x50dea5(0x4b4)](_0x37544d){const _0x5c75cf=a0_0x50dea5;try{let _0x72bada=await(0x0,f[_0x5c75cf(0xfe)])({[_0x37544d[_0x5c75cf(0x728)]]:(0x0,_['isURL'])(_0x37544d['media'])?{'url':_0x37544d[_0x5c75cf(0x1af)]}:Buffer[_0x5c75cf(0x462)](_0x37544d['media'],_0x5c75cf(0x522))},{'upload':this['client'][_0x5c75cf(0x35d)]}),_0x5a47f0=_0x37544d[_0x5c75cf(0x728)]+'Message';if(_0x37544d[_0x5c75cf(0x728)]===_0x5c75cf(0x127)&&!_0x37544d[_0x5c75cf(0x44e)]){let _0x268d16=new RegExp(/.*\/(.+?)\./)[_0x5c75cf(0x310)](_0x37544d['media']);_0x37544d[_0x5c75cf(0x44e)]=_0x268d16?_0x268d16[0x1]:null;}let _0x3b85a6=(0x0,_['isURL'])(_0x37544d[_0x5c75cf(0x1af)])?_0x37544d[_0x5c75cf(0x1af)][_0x5c75cf(0x531)]('?')[0x0]:_0x37544d[_0x5c75cf(0x1af)];this[_0x5c75cf(0x5c8)][_0x5c75cf(0x1f5)](_0x5c75cf(0x4f1)+_0x3b85a6);let _0x14194c;(0x0,_[_0x5c75cf(0x60c)])(_0x37544d['media'])?_0x14194c=(0x0,kt[_0x5c75cf(0x27f)])(_0x3b85a6):_0x37544d[_0x5c75cf(0x44e)]&&_0x37544d[_0x5c75cf(0x44e)][_0x5c75cf(0x58a)]('.')?_0x14194c=(0x0,kt[_0x5c75cf(0x27f)])(_0x37544d[_0x5c75cf(0x44e)]):_0x14194c=(0x0,kt['getMIMEType'])(_0x37544d[_0x5c75cf(0x1af)]);let _0x1f1a93=Rr,_0x3d9785=et;return _0x3d9785&&this['instanceName'][_0x5c75cf(0x228)]()[_0x5c75cf(0x58a)](_0x3d9785[_0x5c75cf(0x228)]())&&(_0x37544d['caption']+='\x0a\x0a'+_0x1f1a93),_0x72bada[_0x5a47f0][_0x5c75cf(0x71f)]=_0x37544d?.['caption'],_0x72bada[_0x5a47f0][_0x5c75cf(0x2e1)]=_0x14194c,_0x72bada[_0x5a47f0]['fileName']=_0x37544d[_0x5c75cf(0x44e)],_0x37544d['mediatype']==='video'&&(_0x72bada[_0x5a47f0][_0x5c75cf(0x4a9)]=Uint8Array[_0x5c75cf(0x462)]((0x0,Re[_0x5c75cf(0x3b7)])((0x0,U[_0x5c75cf(0x243)])(process['cwd'](),'video-cover.png'))),_0x72bada[_0x5a47f0]['gifPlayback']=!0x1),(0x0,f[_0x5c75cf(0x692)])('',{[_0x5a47f0]:{..._0x72bada[_0x5a47f0]}},{'userJid':this['instance'][_0x5c75cf(0x4ea)]});}catch(_0x203525){let _0x5cc156=_0x5c75cf(0x257),_0x38f3fe=_0x203525 instanceof Error?_0x203525[_0x5c75cf(0x47f)]:typeof _0x203525==_0x5c75cf(0x471)?JSON['stringify'](_0x203525):_0x203525,_0x37e067=_0x5cc156+':\x20'+_0x38f3fe;throw this[_0x5c75cf(0x5c8)][_0x5c75cf(0x190)](this[_0x5c75cf(0x665)]+'\x20('+this[_0x5c75cf(0xdd)][_0x5c75cf(0x4ea)]+_0x5c75cf(0x5fd)+_0x37e067),new A(_0x37e067);}}async[a0_0x50dea5(0x477)](_0x1ae5f7){const _0x3214ac=a0_0x50dea5;let _0x4af4eb=await this[_0x3214ac(0x4b4)](_0x1ae5f7[_0x3214ac(0x477)]);return await this[_0x3214ac(0x57d)](_0x1ae5f7['number'],{..._0x4af4eb[_0x3214ac(0x47f)]},_0x1ae5f7?.[_0x3214ac(0x198)]);}async[a0_0x50dea5(0x67b)](_0x13df5e,_0x5e2cdc){const _0x300ed6=a0_0x50dea5;try{this['logger'][_0x300ed6(0x1f5)](_0x300ed6(0x1b4));let _0x187534,_0x1ffeb5=_0x5e2cdc+'-'+new Date()[_0x300ed6(0x642)]();this['logger'][_0x300ed6(0x1f5)](_0x300ed6(0x4bd)+_0x1ffeb5);let _0x311006=''+(0x0,U[_0x300ed6(0x243)])(this[_0x300ed6(0x266)],_0x1ffeb5+'.webp');if(this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x62e)+_0x311006),(0x0,_[_0x300ed6(0x37b)])(_0x13df5e)){this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x2bb));let _0x1f4e07=_0x13df5e[_0x300ed6(0x24a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1580aa=Buffer[_0x300ed6(0x462)](_0x1f4e07,_0x300ed6(0x522));_0x187534=''+(0x0,U['join'])(this[_0x300ed6(0x266)],_0x300ed6(0x1f9)+_0x1ffeb5+_0x300ed6(0x4be)),this['logger'][_0x300ed6(0x1f5)](_0x300ed6(0x4e9)+_0x187534),await(0x0,jt[_0x300ed6(0x378)])(_0x1580aa)['toFile'](_0x187534),this[_0x300ed6(0x5c8)]['verbose'](_0x300ed6(0x363));}else{this['logger'][_0x300ed6(0x1f5)](_0x300ed6(0x3fe));let _0x17b3cf=new Date()[_0x300ed6(0x642)](),_0x162282=_0x13df5e+_0x300ed6(0x337)+_0x17b3cf;this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x5bf)+_0x162282);let _0x1c10e4=await K['default'][_0x300ed6(0x42a)](_0x162282,{'responseType':_0x300ed6(0x505)});this[_0x300ed6(0x5c8)]['verbose']('Getting\x20image\x20from\x20url');let _0x2be3ec=Buffer[_0x300ed6(0x462)](_0x1c10e4['data'],_0x300ed6(0x699));_0x187534=''+(0x0,U[_0x300ed6(0x243)])(this['storePath'],_0x300ed6(0x1f9)+_0x1ffeb5+_0x300ed6(0x4be)),this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x4e9)+_0x187534),await(0x0,jt['default'])(_0x2be3ec)[_0x300ed6(0x74f)](_0x187534),this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x363));}return await(0x0,jt['default'])(_0x187534)[_0x300ed6(0x44f)]()['toFile'](_0x311006),this['logger'][_0x300ed6(0x1f5)](_0x300ed6(0x695)),P[_0x300ed6(0x688)](_0x187534),this[_0x300ed6(0x5c8)][_0x300ed6(0x1f5)](_0x300ed6(0x4d1)),_0x311006;}catch(_0x142832){let _0x591e18=_0x300ed6(0x5a6),_0xd1f24f=_0x142832 instanceof Error?_0x142832[_0x300ed6(0x47f)]:typeof _0x142832=='object'?JSON[_0x300ed6(0x581)](_0x142832):_0x142832,_0x5df997=_0x591e18+':\x20'+_0xd1f24f;this['logger']['error'](this['instanceName']+'\x20('+this[_0x300ed6(0xdd)]['wuid']+_0x300ed6(0x5fd)+_0x5df997);}}async['mediaSticker'](_0x1d201f){const _0x24da08=a0_0x50dea5;let _0x15d243=await this['convertToWebP'](_0x1d201f[_0x24da08(0x3cc)][_0x24da08(0x764)],_0x1d201f[_0x24da08(0x491)]),_0x248209=await this[_0x24da08(0x57d)](_0x1d201f[_0x24da08(0x491)],{'sticker':{'url':_0x15d243}},_0x1d201f?.[_0x24da08(0x198)]);return P[_0x24da08(0x688)](_0x15d243),this[_0x24da08(0x5c8)]['verbose'](_0x24da08(0x732)),_0x248209;}async[a0_0x50dea5(0x4aa)](_0xb33218){const _0x182d4c=a0_0x50dea5;if(this[_0x182d4c(0x5c8)]['verbose'](_0x182d4c(0x521)),!_0xb33218['options']?.[_0x182d4c(0x468)]&&_0xb33218['options']?.[_0x182d4c(0x468)]!==!0x1&&(_0xb33218[_0x182d4c(0x198)]['encoding']=!0x0),_0xb33218[_0x182d4c(0x198)]?.[_0x182d4c(0x468)]){let _0x2ddb91=await this[_0x182d4c(0x464)](_0xb33218['audioMessage'][_0x182d4c(0x574)]);if(typeof _0x2ddb91==_0x182d4c(0x2d6)){let _0x3296d7=P[_0x182d4c(0x3b7)](_0x2ddb91)[_0x182d4c(0x4b1)](_0x182d4c(0x522));return this[_0x182d4c(0x57d)](_0xb33218[_0x182d4c(0x491)],{'audio':Buffer[_0x182d4c(0x462)](_0x3296d7,'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0xb33218?.[_0x182d4c(0x198)]?.[_0x182d4c(0x538)]});}else throw new A(_0x2ddb91);}return await this[_0x182d4c(0x57d)](_0xb33218[_0x182d4c(0x491)],{'audio':(0x0,_[_0x182d4c(0x60c)])(_0xb33218[_0x182d4c(0x3ea)][_0x182d4c(0x574)])?{'url':_0xb33218[_0x182d4c(0x3ea)][_0x182d4c(0x574)]}:Buffer[_0x182d4c(0x462)](_0xb33218[_0x182d4c(0x3ea)][_0x182d4c(0x574)],_0x182d4c(0x522)),'ptt':!0x0,'mimetype':_0x182d4c(0x58f)},{'presence':_0x182d4c(0x582),'delay':_0xb33218?.[_0x182d4c(0x198)]?.[_0x182d4c(0x538)]});}async[a0_0x50dea5(0x464)](_0x2551bd){const _0x5a132d=a0_0x50dea5;this[_0x5a132d(0x5c8)][_0x5a132d(0x1f5)](_0x5a132d(0x28d));let _0x54e438=(0x0,_[_0x5a132d(0x60c)])(_0x2551bd)?(0x0,Ut[_0x5a132d(0xfd)])('sha256')['update'](_0x2551bd)[_0x5a132d(0x43a)](_0x5a132d(0x38c)):(0x0,Ut[_0x5a132d(0xfd)])(_0x5a132d(0x48c))[_0x5a132d(0x760)](_0x2551bd)['digest'](_0x5a132d(0x38c)),_0x2bfabb=''+(0x0,U[_0x5a132d(0x243)])(this[_0x5a132d(0x266)],_0x54e438+_0x5a132d(0x351));if(P[_0x5a132d(0x672)](_0x2bfabb))return this[_0x5a132d(0x5c8)][_0x5a132d(0x1f5)](_0x5a132d(0x3b2)),_0x2bfabb;let _0x40eb03=''+(0x0,U['join'])(this[_0x5a132d(0x266)],_0x5a132d(0x1f9)+(0x0,Lt['v4'])()+_0x5a132d(0x274));if((0x0,_[_0x5a132d(0x60c)])(_0x2551bd)){let _0x33d387=new Date()[_0x5a132d(0x642)](),_0x3ccf47=_0x2551bd+_0x5a132d(0x337)+_0x33d387,_0x218a79=await K['default'][_0x5a132d(0x42a)](_0x3ccf47,{'responseType':_0x5a132d(0x505)});P[_0x5a132d(0x535)](_0x40eb03,_0x218a79[_0x5a132d(0x478)]);}else{let _0x1df47d=Buffer['from'](_0x2551bd,_0x5a132d(0x522));P[_0x5a132d(0x535)](_0x40eb03,_0x1df47d);}return new Promise((_0x478c47,_0x2355ad)=>{const _0x297add=_0x5a132d;(0x0,Oe[_0x297add(0x310)])($s[_0x297add(0x378)]['path']+'\x20-i\x20'+_0x40eb03+_0x297add(0x631)+_0x2bfabb+'\x20-y',_0x275057=>{const _0x2f92fe=_0x297add;if(P['unlinkSync'](_0x40eb03),_0x275057){this['logger'][_0x2f92fe(0x1f5)]('Error\x20in\x20converting\x20audio'),_0x2355ad(_0x275057);return;}this[_0x2f92fe(0x5c8)][_0x2f92fe(0x1f5)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x478c47(_0x2bfabb);});});}async[a0_0x50dea5(0x344)](_0x4cb36d){const _0x4fe3d7=a0_0x50dea5;this[_0x4fe3d7(0x5c8)][_0x4fe3d7(0x1f5)](_0x4fe3d7(0x28d));let _0x13c586=(0x0,Ut[_0x4fe3d7(0xfd)])(_0x4fe3d7(0x48c))['update'](_0x4cb36d)[_0x4fe3d7(0x43a)](_0x4fe3d7(0x38c)),_0x5eb2d5=''+(0x0,U['join'])(this[_0x4fe3d7(0x266)],_0x13c586+_0x4fe3d7(0x274));if(P[_0x4fe3d7(0x672)](_0x5eb2d5))return this[_0x4fe3d7(0x5c8)]['verbose'](_0x4fe3d7(0x3b2)),U[_0x4fe3d7(0x378)][_0x4fe3d7(0x73a)](_0x5eb2d5);let _0x1deb15=''+(0x0,U[_0x4fe3d7(0x243)])(this['storePath'],_0x4fe3d7(0x1f9)+_0x13c586+_0x4fe3d7(0x351));if((0x0,_[_0x4fe3d7(0x60c)])(_0x4cb36d)){let _0x4ce578=new Date()[_0x4fe3d7(0x642)](),_0x292e1e=_0x4cb36d+_0x4fe3d7(0x337)+_0x4ce578,_0x368637=await K[_0x4fe3d7(0x378)][_0x4fe3d7(0x42a)](_0x292e1e,{'responseType':_0x4fe3d7(0x505)});P[_0x4fe3d7(0x535)](_0x1deb15,_0x368637[_0x4fe3d7(0x478)]);}else{let _0x96ac9=Buffer[_0x4fe3d7(0x462)](_0x4cb36d,'base64');P[_0x4fe3d7(0x535)](_0x1deb15,_0x96ac9);}return new Promise((_0x277271,_0x46a3bb)=>{const _0x1a3672=_0x4fe3d7;(0x0,Oe[_0x1a3672(0x310)])($s['default'][_0x1a3672(0x5ee)]+_0x1a3672(0x7a2)+_0x1deb15+_0x1a3672(0x41f)+_0x5eb2d5+_0x1a3672(0x22b),_0x2b3f4c=>{const _0x5939ba=_0x1a3672;if(P['unlinkSync'](_0x1deb15),_0x2b3f4c){this[_0x5939ba(0x5c8)][_0x5939ba(0x1f5)](_0x5939ba(0x714)),_0x46a3bb(_0x2b3f4c);return;}this['logger'][_0x5939ba(0x1f5)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x277271(U[_0x5939ba(0x378)][_0x5939ba(0x73a)](_0x5eb2d5));});});}async[a0_0x50dea5(0x193)](_0x36953d){const _0x457a80=a0_0x50dea5;let _0x2c6b56={},_0x4a736c=_0x457a80(0x2da);if(_0x36953d[_0x457a80(0x193)]?.[_0x457a80(0x477)]){_0x4a736c=_0x36953d[_0x457a80(0x193)]['mediaMessage']?.[_0x457a80(0x728)][_0x457a80(0x56b)]()??_0x457a80(0x2da),_0x2c6b56[_0x457a80(0x16f)]=_0x4a736c[_0x457a80(0x228)]()+_0x457a80(0x2c6);let _0x27f851=await this['prepareMediaMessage'](_0x36953d[_0x457a80(0x193)][_0x457a80(0x477)]);_0x2c6b56['message']=_0x27f851['message'][_0x2c6b56[_0x457a80(0x16f)]],_0x2c6b56[_0x457a80(0x36a)]='*'+_0x36953d[_0x457a80(0x193)][_0x457a80(0x326)]+_0x457a80(0x627)+_0x36953d[_0x457a80(0x193)]['description'];}let _0x307170={'text':_0x36953d['buttonMessage'][_0x457a80(0x2ea)][_0x457a80(0x298)](_0x3cf9a0=>_0x3cf9a0['buttonText']),'ids':_0x36953d[_0x457a80(0x193)][_0x457a80(0x2ea)][_0x457a80(0x298)](_0x52b35d=>_0x52b35d[_0x457a80(0x13c)])};if(!(0x0,_[_0x457a80(0x3a1)])(_0x307170[_0x457a80(0x26d)])||!(0x0,_['arrayUnique'])(_0x307170[_0x457a80(0x28e)]))throw new w(_0x457a80(0x75e),_0x457a80(0x463));return await this[_0x457a80(0x57d)](_0x36953d[_0x457a80(0x491)],{'buttonsMessage':{'text':_0x2c6b56?.[_0x457a80(0x16f)]?void 0x0:_0x36953d[_0x457a80(0x193)][_0x457a80(0x326)],'contentText':_0x2c6b56?.[_0x457a80(0x36a)]??_0x36953d[_0x457a80(0x193)][_0x457a80(0x6e6)],'footerText':_0x36953d['buttonMessage']?.[_0x457a80(0x489)],'buttons':_0x36953d['buttonMessage']['buttons'][_0x457a80(0x298)](_0x722755=>({'buttonText':{'displayText':_0x722755[_0x457a80(0x29f)]},'buttonId':_0x722755[_0x457a80(0x13c)],'type':0x1})),'headerType':f['proto'][_0x457a80(0x2c6)][_0x457a80(0x14e)]['HeaderType'][_0x4a736c],[_0x2c6b56?.[_0x457a80(0x16f)]]:_0x2c6b56?.[_0x457a80(0x47f)]}},_0x36953d?.[_0x457a80(0x198)]);}async[a0_0x50dea5(0x2b7)](_0x2fc3f4){const _0x521263=a0_0x50dea5;return await this[_0x521263(0x57d)](_0x2fc3f4[_0x521263(0x491)],{'locationMessage':{'degreesLatitude':_0x2fc3f4[_0x521263(0x2b7)]['latitude'],'degreesLongitude':_0x2fc3f4[_0x521263(0x2b7)][_0x521263(0x739)],'name':_0x2fc3f4[_0x521263(0x2b7)]?.[_0x521263(0x213)],'address':_0x2fc3f4[_0x521263(0x2b7)]?.[_0x521263(0x31a)]}},_0x2fc3f4?.[_0x521263(0x198)]);}async[a0_0x50dea5(0x124)](_0xca710c){const _0x356353=a0_0x50dea5;let _0x2b6477={},_0x558ba4=_0x1de0ea=>{const _0x212092=a0_0x4934;let _0x54de1a=_0x212092(0x567)+_0x1de0ea[_0x212092(0x27c)]+'\x0aFN:'+_0x1de0ea[_0x212092(0x27c)]+'\x0a';_0x1de0ea[_0x212092(0x6c7)]&&(_0x54de1a+=_0x212092(0x466)+_0x1de0ea[_0x212092(0x6c7)]+';\x0a'),_0x1de0ea['email']&&(_0x54de1a+=_0x212092(0x20f)+_0x1de0ea[_0x212092(0x155)]+'\x0a'),_0x1de0ea['url']&&(_0x54de1a+=_0x212092(0x158)+_0x1de0ea[_0x212092(0xf5)]+'\x0a');let _0x1db776='';return _0x1de0ea['phoneNumber']&&_0x1de0ea[_0x212092(0x2f2)][_0x212092(0x531)]('|')[_0x212092(0x163)]((_0x553835,_0x540510)=>{const _0x22f620=_0x212092;let _0x3e516f=this['createJid'](_0x553835)[_0x22f620(0x24a)](_0x22f620(0x58b),'');_0x1db776+=_0x22f620(0x46c)+(_0x540510+0x1)+_0x22f620(0x1d0)+_0x3e516f+':'+_0x553835+_0x22f620(0x2dd)+(_0x540510+0x1)+_0x22f620(0x1c9);}),_0x54de1a+=_0x1db776+_0x212092(0x3d7),_0x54de1a;};return _0xca710c[_0x356353(0x124)][_0x356353(0x6a9)]===0x1?_0x2b6477['contactMessage']={'displayName':_0xca710c['contactMessage'][0x0][_0x356353(0x27c)],'vcard':_0x558ba4(_0xca710c[_0x356353(0x124)][0x0])}:_0x2b6477[_0x356353(0x2d5)]={'displayName':_0xca710c[_0x356353(0x124)][_0x356353(0x6a9)]+_0x356353(0x2ce),'contacts':_0xca710c[_0x356353(0x124)][_0x356353(0x298)](_0x359ef1=>({'displayName':_0x359ef1[_0x356353(0x27c)],'vcard':_0x558ba4(_0x359ef1)}))},await this['sendMessageWithTyping'](_0xca710c['number'],{..._0x2b6477},_0xca710c?.[_0x356353(0x198)]);}async['reactionMessage'](_0x1c6e0e){const _0xa7b1eb=a0_0x50dea5;return await this['sendMessageWithTyping'](_0x1c6e0e[_0xa7b1eb(0x176)][_0xa7b1eb(0x6a8)][_0xa7b1eb(0x1be)],{'reactionMessage':{'key':_0x1c6e0e[_0xa7b1eb(0x176)]['key'],'text':_0x1c6e0e['reactionMessage'][_0xa7b1eb(0x25c)]}});}async['whatsappNumber'](_0x55de9c){const _0x1829d4=a0_0x50dea5;let _0x9f497=[];for await(let _0x36ed19 of _0x55de9c[_0x1829d4(0x3a7)]){let _0x543f77=this[_0x1829d4(0x5c4)](_0x36ed19),_0x13b8c4=!0x1;try{if((0x0,f[_0x1829d4(0x5db)])(_0x543f77)){let _0x20e86d=await this[_0x1829d4(0x293)]({'groupJid':_0x543f77},'inner');_0x9f497[_0x1829d4(0x112)](new fe(_0x20e86d[_0x1829d4(0x664)]['id'],!!_0x20e86d?.['metadata']['id'],_0x20e86d?.[_0x1829d4(0x664)][_0x1829d4(0x3ca)])),_0x13b8c4=!!_0x20e86d?.[_0x1829d4(0x664)]['id'];}else{let _0x58de12=(await this['client']['onWhatsApp'](_0x543f77))[0x0];_0x9f497[_0x1829d4(0x112)](new fe(_0x58de12[_0x1829d4(0x20a)],_0x58de12[_0x1829d4(0x40f)])),_0x13b8c4=_0x58de12[_0x1829d4(0x40f)];}}catch{await this[_0x1829d4(0x40d)](_0x543f77,_0x13b8c4),_0x9f497['push'](new fe(_0x36ed19,!0x1));}}return _0x9f497;}async['checkAndUpdateChatStatus'](_0x474413,_0x3639ca){const _0x35fe46=a0_0x50dea5;try{await this[_0x35fe46(0x65f)]['chat']['findOne']({'where':{'_id':_0x474413,'imported':!0x0}},this['instance'][_0x35fe46(0x4ea)])&&(_0x3639ca||(await this['repository'][_0x35fe46(0x30d)]['deleteChat'](_0x474413,this[_0x35fe46(0xdd)][_0x35fe46(0x4ea)]),console[_0x35fe46(0x1b3)](_0x35fe46(0x320)+_0x474413+'\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.')));}catch(_0x20780e){let _0x2a8ae5=_0x35fe46(0x6d2),_0xbc7e55=_0x20780e instanceof Error?_0x20780e[_0x35fe46(0x47f)]:typeof _0x20780e=='object'?JSON[_0x35fe46(0x581)](_0x20780e):_0x20780e,_0xdc120d=_0x2a8ae5+':\x20'+_0xbc7e55;this[_0x35fe46(0x5c8)][_0x35fe46(0x190)](this[_0x35fe46(0x665)]+'\x20('+this[_0x35fe46(0xdd)][_0x35fe46(0x4ea)]+'):\x20'+_0xdc120d);}}async[a0_0x50dea5(0x1bf)](_0x3801ad){const _0x13e344=a0_0x50dea5;try{let _0x302522=_0x3801ad['readMessages'][_0x13e344(0x6ee)](_0x2d3586=>(0x0,f[_0x13e344(0x5db)])(_0x2d3586[_0x13e344(0x1be)])||(0x0,f[_0x13e344(0x1c6)])(_0x2d3586['remoteJid']))[_0x13e344(0x298)](_0x43b8f8=>({'remoteJid':_0x43b8f8[_0x13e344(0x1be)],'fromMe':_0x43b8f8[_0x13e344(0x3e1)],'id':_0x43b8f8['id']}));await this['client'][_0x13e344(0x2a1)](_0x302522);let _0x38e741=_0x302522[_0x13e344(0x298)](_0x2788fc=>this[_0x13e344(0x53a)](_0x2788fc,{'status':_0x13e344(0x18c),'owner':this[_0x13e344(0xdd)][_0x13e344(0x4ea)]})),_0x20a47a=_0x302522[_0x13e344(0x298)](_0x261b5f=>this[_0x13e344(0x65f)][_0x13e344(0x30d)][_0x13e344(0x11c)]({'where':{'_id':_0x261b5f[_0x13e344(0x1be)]}},{'unreadcount':0x0},this[_0x13e344(0xdd)]['wuid'])),[_0x4b167e,_0x1ce07f]=await Promise[_0x13e344(0x115)]([Promise[_0x13e344(0x115)](_0x38e741),Promise['all'](_0x20a47a)]);return _0x1ce07f[_0x13e344(0x6ee)](_0x311e79=>_0x311e79!==null)[_0x13e344(0x163)](_0x2d2fbe=>{const _0x2ca9da=_0x13e344;J(this[_0x2ca9da(0x665)],_0x2ca9da(0x439),{'chat':_0x2d2fbe});}),{'message':_0x13e344(0x171),'read':_0x13e344(0x576)};}catch(_0x3f9134){let _0x4a4a91=_0x13e344(0x6a1),_0x48c1e4=_0x3f9134 instanceof Error?_0x3f9134[_0x13e344(0x47f)]:typeof _0x3f9134=='object'?JSON[_0x13e344(0x581)](_0x3f9134):_0x3f9134,_0x385e4e=_0x4a4a91+':\x20'+_0x48c1e4;throw this['logger'][_0x13e344(0x190)](this[_0x13e344(0x665)]+'\x20('+this[_0x13e344(0xdd)][_0x13e344(0x4ea)]+_0x13e344(0x5fd)+_0x385e4e),new A(_0x385e4e);}}async['getLastMessage'](_0x11c93b){const _0x5ca193=a0_0x50dea5;let _0x149314={'where':{'key':{'remoteJid':_0x11c93b}},'limit':0x1},_0x36e1c8=await this[_0x5ca193(0x3de)](_0x149314);return _0x36e1c8||(console[_0x5ca193(0x190)](_0x5ca193(0x5ba),_0x11c93b),null);}async[a0_0x50dea5(0x5de)](_0x461744){const _0x584dc2=a0_0x50dea5;this['logger'][_0x584dc2(0x1f5)]('Archiving\x20chat');try{let _0x36d73c=_0x461744[_0x584dc2(0x5df)],_0x5c08fc=_0x461744[_0x584dc2(0x30d)];if(!_0x36d73c&&_0x5c08fc?_0x36d73c=await this[_0x584dc2(0x367)](_0x5c08fc):(_0x36d73c=_0x461744[_0x584dc2(0x5df)],_0x36d73c[_0x584dc2(0x4c3)]=_0x36d73c?.[_0x584dc2(0x4c3)]??Date['now'](),_0x5c08fc=_0x36d73c?.[_0x584dc2(0x6a8)]?.[_0x584dc2(0x1be)]),!_0x36d73c||Object[_0x584dc2(0x165)](_0x36d73c)['length']===0x0)throw new F(_0x584dc2(0x269));this[_0x584dc2(0x5c8)][_0x584dc2(0x1f5)](_0x584dc2(0x5f6)+_0x5c08fc);try{await this[_0x584dc2(0x704)][_0x584dc2(0x6a5)]({'archive':_0x461744['archive'],'lastMessages':[_0x36d73c]},this['createJid'](_0x5c08fc));}catch(_0x5f06c6){let _0x2f06d2='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x5c08fc,_0x98d1de=_0x5f06c6 instanceof Error?_0x5f06c6['message']:typeof _0x5f06c6==_0x584dc2(0x471)?JSON[_0x584dc2(0x581)](_0x5f06c6):_0x5f06c6,_0x10ed27=_0x2f06d2+':\x20'+_0x98d1de;this[_0x584dc2(0x5c8)][_0x584dc2(0x190)](this[_0x584dc2(0x665)]+'\x20('+this[_0x584dc2(0xdd)][_0x584dc2(0x4ea)]+_0x584dc2(0x5fd)+_0x10ed27);}this['logger'][_0x584dc2(0x1f5)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5c08fc);let _0x31523d=await this[_0x584dc2(0x65f)]['chat']['updateOne']({'where':{'_id':_0x36d73c?.['key']?.[_0x584dc2(0x1be)]}},{'archived':_0x461744[_0x584dc2(0x297)]},this[_0x584dc2(0xdd)][_0x584dc2(0x4ea)]);return _0x31523d?(this[_0x584dc2(0x5c8)]['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x31523d)),J(this['instanceName'],_0x584dc2(0x439),{'chat':_0x31523d})):this['logger'][_0x584dc2(0x190)](_0x584dc2(0x4ae)+_0x5c08fc),{'chatId':_0x5c08fc,'archived':_0x461744[_0x584dc2(0x297)]};}catch(_0x2777bd){let _0x5b098d='Erro\x20ao\x20arquivar\x20chat',_0x3e1240=_0x2777bd instanceof Error?_0x2777bd['message']:typeof _0x2777bd=='object'?JSON['stringify'](_0x2777bd):_0x2777bd,_0x1eff6c=_0x5b098d+':\x20'+_0x3e1240;throw this[_0x584dc2(0x5c8)][_0x584dc2(0x190)](this[_0x584dc2(0x665)]+'\x20('+this[_0x584dc2(0xdd)][_0x584dc2(0x4ea)]+'):\x20'+_0x1eff6c),new A(_0x1eff6c);}}async[a0_0x50dea5(0x1a9)](_0x7f5779){const _0x166e5e=a0_0x50dea5;this[_0x166e5e(0x5c8)]['verbose'](_0x166e5e(0x2fe));try{let _0x1e69ae=await this[_0x166e5e(0x367)](_0x7f5779);if(!_0x1e69ae||Object['keys'](_0x1e69ae)['length']===0x0)throw new F('Last\x20message\x20not\x20found');let _0x4fd05b=_0x1e69ae[0x0];this[_0x166e5e(0x5c8)]['verbose'](_0x166e5e(0x689)+_0x7f5779);try{await this['client'][_0x166e5e(0x6a5)]({'delete':!0x0,'lastMessages':[{'key':_0x4fd05b[_0x166e5e(0x6a8)],'messageTimestamp':_0x4fd05b[_0x166e5e(0x4c3)]}]},this[_0x166e5e(0x5c4)](_0x7f5779));}catch(_0x3fdd10){this['logger']['error'](_0x166e5e(0x21d)+_0x7f5779+':\x20'+_0x3fdd10[_0x166e5e(0x4b1)]());}this['logger']['verbose'](_0x166e5e(0x57c)+_0x7f5779);return;}catch(_0x1db418){throw this[_0x166e5e(0x5c8)]['error'](_0x166e5e(0x29d)+_0x1db418[_0x166e5e(0x4b1)]()),new A({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1db418['toString']()]});}}async[a0_0x50dea5(0x5a8)](_0x9e3041){const _0x3dc2cd=a0_0x50dea5;try{let _0x7f36f7=await this[_0x3dc2cd(0x704)]['sendMessage'](_0x9e3041[_0x3dc2cd(0x1be)],{'delete':_0x9e3041});try{let _0x480ea8=await this['updateMessage'](_0x9e3041,{'status':_0x3dc2cd(0x6fb),'owner':this['instance']['wuid']});this[_0x3dc2cd(0x5c8)][_0x3dc2cd(0x1f5)](this[_0x3dc2cd(0x665)]+'\x20('+this[_0x3dc2cd(0xdd)][_0x3dc2cd(0x4ea)]+'):\x20updateResult:'+_0x480ea8);}catch(_0x222b6e){console['error'](_0x3dc2cd(0x32f),_0x222b6e);}return _0x7f36f7;}catch(_0x4cac6d){throw new A(_0x3dc2cd(0x7ab),_0x4cac6d?.[_0x3dc2cd(0x4b1)]());}}async[a0_0x50dea5(0x533)](_0x4614e1){const _0x131251=a0_0x50dea5;try{let _0x300328=_0x4614e1?.[_0x131251(0x47f)]?_0x4614e1:await this['getMessage'](_0x4614e1['key'],!0x0);for(let _0x21e069 of Na)_0x300328[_0x131251(0x47f)][_0x21e069]&&(_0x300328[_0x131251(0x47f)]=_0x300328[_0x131251(0x47f)][_0x21e069][_0x131251(0x47f)]);let _0x4af212,_0x2f63ac;for(let _0x18b27a of va)if(_0x4af212=_0x300328[_0x131251(0x47f)][_0x18b27a],_0x4af212){_0x2f63ac=_0x18b27a;break;}if(!_0x4af212)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x4af212['mediaKey']==_0x131251(0x471)&&(_0x300328[_0x131251(0x47f)]=JSON[_0x131251(0x11e)](JSON[_0x131251(0x581)](_0x300328['message'])));let _0x31a79e=await(0x0,f[_0x131251(0x740)])({'key':_0x300328?.[_0x131251(0x6a8)],'message':_0x300328?.[_0x131251(0x47f)]},'buffer',{},{'logger':(0x0,Pt[_0x131251(0x378)])({'level':_0x131251(0x738)}),'reuploadRequest':this['client'][_0x131251(0x15f)]});if(!(_0x31a79e instanceof Buffer))throw new Error(_0x131251(0x71a));let _0x3ebecc=this[_0x131251(0x5fc)][_0x131251(0x42a)](_0x131251(0x366)),_0x1b90c3,_0x18bd1a;if(_0x4af212[_0x131251(0x44e)])_0x1b90c3=_0x4af212[_0x131251(0x44e)];else{let _0x571ca3=_0x4af212[_0x131251(0x2e1)]?.[_0x131251(0x148)](/\/(\w+)/),_0x26cc35=_0x571ca3?_0x571ca3[0x1]:null;if(!_0x26cc35)throw new Error(_0x131251(0x552));_0x1b90c3=(0x0,Lt['v4'])()+'.'+_0x26cc35;}_0x2f63ac===_0x131251(0x3ea)?_0x18bd1a=_0x131251(0x459)+await this[_0x131251(0x344)](_0x31a79e[_0x131251(0x4b1)](_0x131251(0x522))):(await this[_0x131251(0x6ae)](_0x31a79e,_0x1b90c3),_0x18bd1a='/media/'+_0x1b90c3);let _0x5a25b5=this[_0x131251(0x5fc)][_0x131251(0x42a)]('SERVER')['URL'];if(!_0x5a25b5){let _0xdc5ad1=this[_0x131251(0x5fc)][_0x131251(0x42a)](_0x131251(0x179));_0x5a25b5='https://'+(_0xdc5ad1&&_0xdc5ad1[_0x131251(0x76a)]['split']('/')[0x4]);}_0x18bd1a=''+_0x5a25b5+_0x18bd1a;let _0x3fcfd4=0xc*0x3c*0x3c*0x3e8,_0x477551={'where':{'_id':_0x300328['key']['id']}},_0x27939a={'message_normalized.fileUrl':_0x18bd1a,'message_normalized.expires_fileUrl':Date[_0x131251(0x712)]()+_0x3fcfd4};try{let _0x3c78b8=await this[_0x131251(0x65f)][_0x131251(0x47f)][_0x131251(0x760)](_0x477551,_0x27939a,this[_0x131251(0xdd)][_0x131251(0x4ea)]);_0x3c78b8&&J(this[_0x131251(0x665)],_0x131251(0x3d4),{'message':_0x3c78b8});}catch(_0xba8954){let _0x28d7a9=_0x131251(0x370),_0x24ad4d=_0xba8954 instanceof Error?_0xba8954['message']:typeof _0xba8954==_0x131251(0x471)?JSON[_0x131251(0x581)](_0xba8954):_0xba8954,_0x462c6f=_0x28d7a9+':\x20'+_0x24ad4d;this[_0x131251(0x5c8)][_0x131251(0x190)](this[_0x131251(0x665)]+'\x20('+this[_0x131251(0xdd)][_0x131251(0x4ea)]+_0x131251(0x5fd)+_0x462c6f);}return{'mediaType':_0x2f63ac,'fileName':_0x4af212[_0x131251(0x44e)],'caption':_0x4af212[_0x131251(0x71f)],'size':{'fileLength':_0x4af212[_0x131251(0x324)],'height':_0x4af212[_0x131251(0x48a)],'width':_0x4af212['width']},'mimetype':_0x4af212['mimetype'],'base64':_0x31a79e[_0x131251(0x4b1)]('base64'),'fileUrl':_0x18bd1a,'expires_fileUrl':Date['now']()+_0x3fcfd4};}catch(_0x5c22f9){let _0x1fee8d=_0x131251(0x49c),_0x2e9476=_0x5c22f9 instanceof Error?_0x5c22f9['message']:typeof _0x5c22f9=='object'?JSON[_0x131251(0x581)](_0x5c22f9):_0x5c22f9,_0x40eb7d=_0x1fee8d+':\x20'+_0x2e9476;throw this[_0x131251(0x5c8)][_0x131251(0x190)](this['instanceName']+'\x20('+this[_0x131251(0xdd)]['wuid']+'):\x20'+_0x40eb7d),new w(_0x40eb7d);}}async[a0_0x50dea5(0x6ae)](_0x1698f6,_0x4182f0){const _0x394a9d=a0_0x50dea5;let _0x4de3b2=U[_0x394a9d(0x378)][_0x394a9d(0x243)](__dirname,'downloads');P[_0x394a9d(0x672)](_0x4de3b2)||P['mkdirSync'](_0x4de3b2,{'recursive':!0x0});let _0x29aa97=U['default'][_0x394a9d(0x243)](_0x4de3b2,_0x4182f0);return new Promise((_0x54353b,_0x5353e4)=>{const _0x719a47=_0x394a9d;P[_0x719a47(0x3be)](_0x29aa97,_0x1698f6,_0x20e026=>{const _0x329dab=_0x719a47;_0x20e026?(this['logger'][_0x329dab(0x190)](_0x329dab(0x232)+(_0x20e026 instanceof Error?_0x20e026[_0x329dab(0x47f)]:JSON[_0x329dab(0x581)](_0x20e026,null,0x2))),_0x5353e4(_0x20e026)):(this[_0x329dab(0x5c8)]['log']('File\x20written\x20to\x20path:\x20'+_0x29aa97),_0x54353b(_0x29aa97));});});}async['fetchContacts'](_0x36310d){const _0x2ec2d5=a0_0x50dea5;return await this[_0x2ec2d5(0x65f)][_0x2ec2d5(0x317)][_0x2ec2d5(0x3d9)](_0x36310d,this[_0x2ec2d5(0xdd)][_0x2ec2d5(0x4ea)]);}async[a0_0x50dea5(0x287)](){const _0x22962f=a0_0x50dea5;return await this['repository'][_0x22962f(0x773)][_0x22962f(0x3d9)]({'where':{}},this[_0x22962f(0xdd)]['wuid']);}async['fetchMessages'](_0x14daa3){const _0x5cd4b3=a0_0x50dea5;return await this['repository'][_0x5cd4b3(0x47f)][_0x5cd4b3(0x3d9)](_0x14daa3,this[_0x5cd4b3(0xdd)][_0x5cd4b3(0x4ea)]);}async[a0_0x50dea5(0x1d6)](){const _0x4bd7a7=a0_0x50dea5;return this[_0x4bd7a7(0x65f)]['chat'][_0x4bd7a7(0x101)](this['instance']['wuid']),this[_0x4bd7a7(0x65f)][_0x4bd7a7(0x30d)][_0x4bd7a7(0x32e)](this[_0x4bd7a7(0xdd)]['wuid']),this[_0x4bd7a7(0x65f)]['chat'][_0x4bd7a7(0x120)](this[_0x4bd7a7(0xdd)][_0x4bd7a7(0x4ea)]),this[_0x4bd7a7(0x65f)][_0x4bd7a7(0x30d)][_0x4bd7a7(0x64e)](this[_0x4bd7a7(0xdd)][_0x4bd7a7(0x4ea)]),await this[_0x4bd7a7(0x65f)][_0x4bd7a7(0x30d)][_0x4bd7a7(0x3d9)]({'where':{}},this['instance'][_0x4bd7a7(0x4ea)]);}async[a0_0x50dea5(0x690)](_0x5cf24b){const _0x24cdc1=a0_0x50dea5;try{if(!Array[_0x24cdc1(0x483)](_0x5cf24b)||_0x5cf24b[_0x24cdc1(0x6a9)]===0x0)throw new Error(_0x24cdc1(0x74c));let _0x3268c4=[],_0x125ddc=[];for(let _0x1ed3f2 of _0x5cf24b){if(_0x1ed3f2[_0x24cdc1(0x3dd)])_0x1ed3f2[_0x24cdc1(0x3dd)]=this[_0x24cdc1(0x5c4)](_0x1ed3f2['_id']);else continue;await this[_0x24cdc1(0x65f)][_0x24cdc1(0x30d)][_0x24cdc1(0xcc)]({'where':{'_id':_0x1ed3f2[_0x24cdc1(0x3dd)]}},this[_0x24cdc1(0xdd)][_0x24cdc1(0x4ea)])?_0x125ddc['push']({'_id':_0x1ed3f2['_id'],'leadInfo':_0x1ed3f2[_0x24cdc1(0x235)],'owner':this['instance'][_0x24cdc1(0x4ea)]}):_0x3268c4[_0x24cdc1(0x112)]({'_id':_0x1ed3f2[_0x24cdc1(0x3dd)],'owner':this[_0x24cdc1(0xdd)][_0x24cdc1(0x4ea)],'leadInfo':_0x1ed3f2[_0x24cdc1(0x235)],'imported':!0x0});}return _0x125ddc[_0x24cdc1(0x6a9)]>0x0&&await this[_0x24cdc1(0x65f)][_0x24cdc1(0x30d)][_0x24cdc1(0xf2)](_0x125ddc['map'](_0x51399e=>({'query':{'where':{'_id':_0x51399e[_0x24cdc1(0x3dd)],'owner':this[_0x24cdc1(0xdd)]['wuid']}},'update':_0x51399e}))),_0x3268c4[_0x24cdc1(0x6a9)]>0x0&&await this[_0x24cdc1(0x65f)]['chat']['insertMany'](_0x3268c4,this[_0x24cdc1(0xdd)][_0x24cdc1(0x4ea)]),{'updated':_0x125ddc['length'],'inserted':_0x3268c4[_0x24cdc1(0x6a9)]};}catch(_0x4468b5){let _0x85bd69='Erro\x20ao\x20importar\x20chats',_0x26fd40=_0x4468b5 instanceof Error?_0x4468b5['message']:typeof _0x4468b5==_0x24cdc1(0x471)?JSON[_0x24cdc1(0x581)](_0x4468b5):_0x4468b5,_0x124389=_0x85bd69+':\x20'+_0x26fd40;throw this[_0x24cdc1(0x5c8)][_0x24cdc1(0x190)](this[_0x24cdc1(0x665)]+'\x20('+this[_0x24cdc1(0xdd)][_0x24cdc1(0x4ea)]+_0x24cdc1(0x5fd)+_0x124389),new w(_0x124389);}}async[a0_0x50dea5(0x6a2)](_0xe95df2){const _0x467257=a0_0x50dea5;try{if(!Array[_0x467257(0x483)](_0xe95df2)||_0xe95df2['length']===0x0)throw new Error(_0x467257(0x74c));let _0x1be60a=0x64,_0x3a1edd=0x0;for(let _0x1d3850=0x0;_0x1d3850<_0xe95df2['length'];_0x1d3850+=_0x1be60a){let _0x4a2179=_0xe95df2[_0x467257(0x73d)](_0x1d3850,_0x1d3850+_0x1be60a),{updated:_0x489c50}=await this['importChatsBatch'](_0x4a2179);_0x3a1edd+=_0x489c50;}return{'updated':_0x3a1edd};}catch(_0x4a7ff3){let _0x3990e1=_0x467257(0x75d),_0x110a3d=_0x4a7ff3 instanceof Error?_0x4a7ff3['message']:typeof _0x4a7ff3=='object'?JSON[_0x467257(0x581)](_0x4a7ff3):_0x4a7ff3,_0x3f7e46=_0x3990e1+':\x20'+_0x110a3d;throw this[_0x467257(0x5c8)][_0x467257(0x190)](this[_0x467257(0x665)]+'\x20('+this[_0x467257(0xdd)][_0x467257(0x4ea)]+_0x467257(0x5fd)+_0x3f7e46),new w(_0x3f7e46);}}async[a0_0x50dea5(0x6b8)](_0x2acbcb){const _0x130dc2=a0_0x50dea5;try{let _0x56722a=await this[_0x130dc2(0x65f)][_0x130dc2(0x773)][_0x130dc2(0x3d9)]({'where':{}},this[_0x130dc2(0xdd)][_0x130dc2(0x4ea)]),_0x3888e3=new Set(_0x56722a['map'](_0x40a1a3=>_0x40a1a3[_0x130dc2(0x3dd)])),_0x12ec26=[],_0x39d01c=[];for(let _0x937289 of _0x2acbcb){if(!_0x937289['_id'])continue;_0x937289[_0x130dc2(0x3dd)]=this[_0x130dc2(0x5c4)](_0x937289[_0x130dc2(0x3dd)]);let _0x53219b=await this[_0x130dc2(0x65f)][_0x130dc2(0x30d)][_0x130dc2(0xcc)]({'where':{'_id':_0x937289[_0x130dc2(0x3dd)]}},this[_0x130dc2(0xdd)][_0x130dc2(0x4ea)]),_0x546491={};if(Object[_0x130dc2(0x273)](_0x937289['leadInfo'])[_0x130dc2(0x163)](([_0x1f523e,_0x5f3625])=>{const _0x7c48af=_0x130dc2;_0x546491[_0x7c48af(0x1c7)+_0x1f523e]=_0x5f3625;}),_0x53219b&&!_0x53219b[_0x130dc2(0x460)]){let _0x38ea1a=(_0x937289[_0x130dc2(0x235)][_0x130dc2(0x319)]||[])[_0x130dc2(0x6ee)](_0x4310a4=>_0x3888e3['has'](_0x4310a4)),_0x3b0889=new Set(_0x53219b[_0x130dc2(0x235)]['etiquetas']||[]),_0x3468c9=_0x38ea1a[_0x130dc2(0x6ee)](_0xfaae35=>!_0x3b0889[_0x130dc2(0x2c0)](_0xfaae35)),_0xf9a385=[..._0x3b0889][_0x130dc2(0x6ee)](_0x8b5d29=>!_0x38ea1a['includes'](_0x8b5d29));_0x39d01c[_0x130dc2(0x112)](..._0x3468c9[_0x130dc2(0x298)](_0x19af25=>this['AddChatLabel'](_0x19af25,_0x937289[_0x130dc2(0x3dd)]))),_0x39d01c[_0x130dc2(0x112)](..._0xf9a385[_0x130dc2(0x298)](_0x1f95f3=>this[_0x130dc2(0x1f2)](_0x1f95f3,_0x937289[_0x130dc2(0x3dd)]))),_0x937289[_0x130dc2(0x235)][_0x130dc2(0x319)]=_0x38ea1a,_0x12ec26[_0x130dc2(0x112)]({'query':{'where':{'_id':_0x937289[_0x130dc2(0x3dd)],'owner':this['instance'][_0x130dc2(0x4ea)]}},'update':_0x546491});}else _0x546491[_0x130dc2(0x460)]=!0x0,_0x12ec26[_0x130dc2(0x112)]({'query':{'where':{'_id':_0x937289[_0x130dc2(0x3dd)],'owner':this[_0x130dc2(0xdd)][_0x130dc2(0x4ea)]}},'update':_0x546491});}let _0xfc2c3f=await this[_0x130dc2(0x65f)][_0x130dc2(0x30d)][_0x130dc2(0xf2)](_0x12ec26);return await Promise[_0x130dc2(0x115)](_0x39d01c),{'updated':_0xfc2c3f};}catch(_0x105dff){let _0x656577=_0x130dc2(0x75d),_0x2b244a=_0x105dff instanceof Error?_0x105dff['message']:typeof _0x105dff=='object'?JSON[_0x130dc2(0x581)](_0x105dff):_0x105dff,_0x1f8f7e=_0x656577+':\x20'+_0x2b244a;throw this[_0x130dc2(0x5c8)][_0x130dc2(0x190)](this['instanceName']+'\x20('+this['instance'][_0x130dc2(0x4ea)]+_0x130dc2(0x5fd)+_0x1f8f7e),new w(_0x1f8f7e);}}async['fetchPrivacySettings'](){const _0xdf8981=a0_0x50dea5;return await this[_0xdf8981(0x704)][_0xdf8981(0x4c0)]();}async[a0_0x50dea5(0x41d)](_0x2a2b19){const _0xc07419=a0_0x50dea5;try{return await this[_0xc07419(0x704)][_0xc07419(0x77c)](_0x2a2b19['privacySettings'][_0xc07419(0x341)]),await this['client'][_0xc07419(0x3ec)](_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x762)]),await this['client'][_0xc07419(0x60f)](_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x373)]),await this[_0xc07419(0x704)][_0xc07419(0x566)](_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x53f)]),await this[_0xc07419(0x704)][_0xc07419(0x2e3)](_0x2a2b19[_0xc07419(0x5e4)]['last']),await this[_0xc07419(0x704)]['updateGroupsAddPrivacy'](_0x2a2b19['privacySettings']['groupadd']),this[_0xc07419(0x704)]?.['ws']?.[_0xc07419(0x450)](),{'update':'success','data':{'readreceipts':_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x341)],'profile':_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x762)],'status':_0x2a2b19['privacySettings'][_0xc07419(0x373)],'online':_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x53f)],'last':_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x54b)],'groupadd':_0x2a2b19[_0xc07419(0x5e4)][_0xc07419(0x2b9)]}};}catch(_0x3185b9){let _0x3c79cf='Erro\x20ao\x20alterar\x20privacidade',_0x128bf7=_0x3185b9 instanceof Error?_0x3185b9[_0xc07419(0x47f)]:typeof _0x3185b9==_0xc07419(0x471)?JSON[_0xc07419(0x581)](_0x3185b9):_0x3185b9,_0x13547d=_0x3c79cf+':\x20'+_0x128bf7;throw this['logger'][_0xc07419(0x190)](this[_0xc07419(0x665)]+'\x20('+this[_0xc07419(0xdd)][_0xc07419(0x4ea)]+_0xc07419(0x5fd)+_0x13547d),new w(_0x13547d);}}async['fetchProfile'](_0x15a7ff){const _0x10e7d7=a0_0x50dea5;let _0x350a6f=(_0x15a7ff?this[_0x10e7d7(0x5c4)](_0x15a7ff):this[_0x10e7d7(0x704)]?.[_0x10e7d7(0x639)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x10e7d7(0x5c8)][_0x10e7d7(0x1f5)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x350a6f);let _0x47a3ad=await this[_0x10e7d7(0x65f)]['contact'][_0x10e7d7(0xcc)]({'where':{'_id':_0x350a6f}},this[_0x10e7d7(0xdd)][_0x10e7d7(0x4ea)]),_0x13acff=_0x47a3ad?_0x47a3ad[_0x10e7d7(0x2a6)]:null;try{let _0x4a4f15=(await this[_0x10e7d7(0x159)]({'numbers':[_0x350a6f]}))?.[_0x10e7d7(0x494)](),_0x1ac21=(await this[_0x10e7d7(0x6d0)](_0x350a6f,null,!0x1))[_0x10e7d7(0x31d)][_0x10e7d7(0x2d4)],_0x22d418=await this[_0x10e7d7(0x172)](_0x4a4f15?.[_0x10e7d7(0x20a)]),_0x5c9d7d=await this['fetchBusinessProfile'](_0x4a4f15?.[_0x10e7d7(0x20a)]),_0x3356a4=(await this[_0x10e7d7(0x6d0)](_0x350a6f,null,!0x1))[_0x10e7d7(0x31d)][_0x10e7d7(0x213)],_0x554523=await this[_0x10e7d7(0x65f)][_0x10e7d7(0x30d)][_0x10e7d7(0xcc)]({'where':{'_id':_0x350a6f}},this[_0x10e7d7(0xdd)]['wuid']),_0x75f321={'imagechat':_0x1ac21,'contactname':_0x13acff||null,'pushName':_0x3356a4,'status':_0x22d418?.[_0x10e7d7(0x373)],'isBusiness':_0x5c9d7d[_0x10e7d7(0x553)],'email':_0x5c9d7d?.['email'],'description':_0x5c9d7d?.[_0x10e7d7(0x6e6)],'website':_0x5c9d7d?.[_0x10e7d7(0x4ef)]?.[_0x10e7d7(0x494)](),'lastcache':Date[_0x10e7d7(0x712)](),'imported':!_0x554523},_0x17f60f=await this[_0x10e7d7(0x65f)][_0x10e7d7(0x30d)]['updateOne']({'where':{'_id':_0x350a6f}},_0x75f321,this[_0x10e7d7(0xdd)][_0x10e7d7(0x4ea)]),_0x47f280={'owner':this[_0x10e7d7(0xdd)]['wuid'],'_id':_0x350a6f,'profilePictureUrl':_0x1ac21,'status':_0x22d418?.['status']};return this[_0x10e7d7(0x65f)][_0x10e7d7(0x317)]['update']([_0x47f280],this[_0x10e7d7(0xdd)][_0x10e7d7(0x4ea)]),_0x17f60f&&J(this[_0x10e7d7(0x665)],_0x10e7d7(0x439),{'chat':_0x17f60f}),{'wuid':_0x4a4f15?.['jid']||_0x350a6f,'name':_0x4a4f15?.[_0x10e7d7(0x213)],'pushName':_0x3356a4,'numberExists':_0x4a4f15?.[_0x10e7d7(0x40f)],'picture':_0x1ac21,'status':_0x22d418?.[_0x10e7d7(0x373)],'isBusiness':_0x5c9d7d[_0x10e7d7(0x553)],'email':_0x5c9d7d?.['email'],'description':_0x5c9d7d?.[_0x10e7d7(0x6e6)],'website':_0x5c9d7d?.['website']?.[_0x10e7d7(0x494)]()};}catch(_0xda1bdb){return this['logger']['error'](_0x10e7d7(0x638)+(_0xda1bdb instanceof Error?_0xda1bdb[_0x10e7d7(0x47f)]:JSON[_0x10e7d7(0x581)](_0xda1bdb,null,0x2))),{};}}async[a0_0x50dea5(0x12f)](_0x32ac83){const _0xa09056=a0_0x50dea5;this['logger'][_0xa09056(0x1f5)](_0xa09056(0x1ae));try{let _0x592dda=_0x32ac83?this[_0xa09056(0x5c4)](_0x32ac83):this['instance'][_0xa09056(0x4ea)],_0x5c8ce5=await this[_0xa09056(0x704)]['getBusinessProfile'](_0x592dda);return this[_0xa09056(0x5c8)]['verbose'](_0xa09056(0x7a0)),_0x5c8ce5?(this[_0xa09056(0x5c8)]['verbose'](_0xa09056(0x6ec)),{'isBusiness':!0x0,..._0x5c8ce5}):{'isBusiness':!0x1,'message':_0xa09056(0x2aa),...(await this['whatsappNumber']({'numbers':[_0x592dda]}))?.[_0xa09056(0x494)]()};}catch(_0x42a9e8){let _0x1514ce=_0xa09056(0x55e),_0x21b00f=_0x42a9e8 instanceof Error?_0x42a9e8['message']:typeof _0x42a9e8==_0xa09056(0x471)?JSON[_0xa09056(0x581)](_0x42a9e8):_0x42a9e8,_0xd0659a=_0x1514ce+':\x20'+_0x21b00f;throw this['logger'][_0xa09056(0x190)](this[_0xa09056(0x665)]+'\x20('+this['instance'][_0xa09056(0x4ea)]+'):\x20'+_0xd0659a),new A(_0xd0659a);}}async[a0_0x50dea5(0x172)](_0x4522ce){const _0x19eaac=a0_0x50dea5;let _0x629d9c=this['createJid'](_0x4522ce);try{return{'wuid':_0x629d9c,'status':(await this[_0x19eaac(0x704)][_0x19eaac(0x5b3)](_0x629d9c))?.[_0x19eaac(0x373)]};}catch{return{'wuid':_0x629d9c,'status':null};}}async[a0_0x50dea5(0x302)](_0x363e44){const _0x55139d=a0_0x50dea5;try{return await this[_0x55139d(0x704)][_0x55139d(0x302)](_0x363e44),{'update':_0x55139d(0x576)};}catch(_0x3c575e){let _0x35121a=_0x55139d(0x154),_0x5a498f=_0x3c575e instanceof Error?_0x3c575e[_0x55139d(0x47f)]:typeof _0x3c575e==_0x55139d(0x471)?JSON[_0x55139d(0x581)](_0x3c575e):_0x3c575e,_0x863f0a=_0x35121a+':\x20'+_0x5a498f;throw this['logger'][_0x55139d(0x190)](this[_0x55139d(0x665)]+'\x20('+this[_0x55139d(0xdd)][_0x55139d(0x4ea)]+_0x55139d(0x5fd)+_0x863f0a),new A(_0x863f0a);}}async['updateProfileStatus'](_0x5dd7e8){const _0x35f50e=a0_0x50dea5;try{return await this[_0x35f50e(0x704)][_0x35f50e(0x22c)](_0x5dd7e8),{'update':_0x35f50e(0x576)};}catch(_0x51f447){let _0x4ee1ad=_0x35f50e(0x5ec),_0x1b5f17=_0x51f447 instanceof Error?_0x51f447[_0x35f50e(0x47f)]:typeof _0x51f447==_0x35f50e(0x471)?JSON[_0x35f50e(0x581)](_0x51f447):_0x51f447,_0x21c557=_0x4ee1ad+':\x20'+_0x1b5f17;throw this[_0x35f50e(0x5c8)][_0x35f50e(0x190)](this[_0x35f50e(0x665)]+'\x20('+this[_0x35f50e(0xdd)]['wuid']+_0x35f50e(0x5fd)+_0x21c557),new A(_0x21c557);}}async['updateProfilePicture'](_0x509ced){const _0x3d1e4c=a0_0x50dea5;try{let _0x921ee8;if((0x0,_[_0x3d1e4c(0x60c)])(_0x509ced)){let _0x2003ff=new Date()[_0x3d1e4c(0x642)](),_0x37e351=_0x509ced+'?timestamp='+_0x2003ff;_0x921ee8=(await K[_0x3d1e4c(0x378)][_0x3d1e4c(0x42a)](_0x37e351,{'responseType':_0x3d1e4c(0x505)}))['data'];}else{if((0x0,_[_0x3d1e4c(0x37b)])(_0x509ced))_0x921ee8=Buffer[_0x3d1e4c(0x462)](_0x509ced,_0x3d1e4c(0x522));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x3d1e4c(0x704)]['updateProfilePicture'](this['instance']['wuid'],_0x921ee8),{'update':_0x3d1e4c(0x576)};}catch(_0x249128){let _0x26f1cb=_0x3d1e4c(0x68a),_0x221399=_0x249128 instanceof Error?_0x249128[_0x3d1e4c(0x47f)]:typeof _0x249128=='object'?JSON[_0x3d1e4c(0x581)](_0x249128):_0x249128,_0x2df4c8=_0x26f1cb+':\x20'+_0x221399;throw this[_0x3d1e4c(0x5c8)][_0x3d1e4c(0x190)](this[_0x3d1e4c(0x665)]+'\x20('+this['instance'][_0x3d1e4c(0x4ea)]+_0x3d1e4c(0x5fd)+_0x2df4c8),new A(_0x2df4c8);}}async[a0_0x50dea5(0x6db)](){const _0xfabb09=a0_0x50dea5;try{return await this[_0xfabb09(0x704)][_0xfabb09(0x6db)](this[_0xfabb09(0xdd)][_0xfabb09(0x4ea)]),{'update':'success'};}catch(_0x1dfc38){let _0xb34d25=_0xfabb09(0x104),_0x36a3db=_0x1dfc38 instanceof Error?_0x1dfc38['message']:typeof _0x1dfc38==_0xfabb09(0x471)?JSON[_0xfabb09(0x581)](_0x1dfc38):_0x1dfc38,_0x575e61=_0xb34d25+':\x20'+_0x36a3db;throw this['logger'][_0xfabb09(0x190)](this[_0xfabb09(0x665)]+'\x20('+this[_0xfabb09(0xdd)]['wuid']+_0xfabb09(0x5fd)+_0x575e61),new A(_0x575e61);}}async[a0_0x50dea5(0x74a)](_0x4b3eea){const _0x42a46c=a0_0x50dea5;try{let _0x1c8dd2=_0x4b3eea[_0x42a46c(0x61c)][_0x42a46c(0x298)](_0x1ab0a3=>this[_0x42a46c(0x5c4)](_0x1ab0a3)),{id:_0x1ad339}=await this[_0x42a46c(0x704)]['groupCreate'](_0x4b3eea[_0x42a46c(0x3ca)],_0x1c8dd2);return _0x4b3eea?.[_0x42a46c(0x6e6)]&&await this['client'][_0x42a46c(0x56c)](_0x1ad339,_0x4b3eea[_0x42a46c(0x6e6)]),{'metadata':await this[_0x42a46c(0x704)][_0x42a46c(0x110)](_0x1ad339)};}catch(_0x3563f1){let _0x570a59=_0x42a46c(0x3df),_0x40c63a=_0x3563f1 instanceof Error?_0x3563f1[_0x42a46c(0x47f)]:typeof _0x3563f1==_0x42a46c(0x471)?JSON[_0x42a46c(0x581)](_0x3563f1):_0x3563f1,_0xcde3e3=_0x570a59+':\x20'+_0x40c63a;throw this[_0x42a46c(0x5c8)][_0x42a46c(0x190)](this['instanceName']+'\x20('+this[_0x42a46c(0xdd)][_0x42a46c(0x4ea)]+'):\x20'+_0xcde3e3),new A(_0xcde3e3);}}async[a0_0x50dea5(0x3ba)](_0x3743ae){const _0x4c72be=a0_0x50dea5;try{let _0x1b5c04;if((0x0,_[_0x4c72be(0x60c)])(_0x3743ae[_0x4c72be(0x764)])){let _0x5f23c0=new Date()[_0x4c72be(0x642)](),_0x5887b5=_0x3743ae['image']+_0x4c72be(0x337)+_0x5f23c0;_0x1b5c04=(await K[_0x4c72be(0x378)][_0x4c72be(0x42a)](_0x5887b5,{'responseType':_0x4c72be(0x505)}))[_0x4c72be(0x478)];}else{if((0x0,_[_0x4c72be(0x37b)])(_0x3743ae['image']))_0x1b5c04=Buffer[_0x4c72be(0x462)](_0x3743ae[_0x4c72be(0x764)],_0x4c72be(0x522));else throw new w(_0x4c72be(0x5ea));}return await this[_0x4c72be(0x704)][_0x4c72be(0x2fc)](_0x3743ae[_0x4c72be(0x520)],_0x1b5c04),{'update':_0x4c72be(0x576)};}catch(_0x14ece4){let _0xaab7d8=_0x4c72be(0x443),_0x493109=_0x14ece4 instanceof Error?_0x14ece4[_0x4c72be(0x47f)]:typeof _0x14ece4==_0x4c72be(0x471)?JSON[_0x4c72be(0x581)](_0x14ece4):_0x14ece4,_0x4a7829=_0xaab7d8+':\x20'+_0x493109;throw this[_0x4c72be(0x5c8)][_0x4c72be(0x190)](this[_0x4c72be(0x665)]+'\x20('+this[_0x4c72be(0xdd)][_0x4c72be(0x4ea)]+_0x4c72be(0x5fd)+_0x4a7829),new A(_0x4a7829);}}async[a0_0x50dea5(0x60b)](_0x4043ef){const _0x33dd43=a0_0x50dea5;try{return await this['client'][_0x33dd43(0x56c)](_0x4043ef[_0x33dd43(0x520)],_0x4043ef[_0x33dd43(0x6e6)]),{'update':_0x33dd43(0x576)};}catch(_0x16fdb3){let _0x46e969='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc',_0x3cfdbf=_0x16fdb3 instanceof Error?_0x16fdb3[_0x33dd43(0x47f)]:typeof _0x16fdb3==_0x33dd43(0x471)?JSON[_0x33dd43(0x581)](_0x16fdb3):_0x16fdb3,_0x34812f=_0x46e969+':\x20'+_0x3cfdbf;throw this[_0x33dd43(0x5c8)][_0x33dd43(0x190)](this['instanceName']+'\x20('+this[_0x33dd43(0xdd)]['wuid']+_0x33dd43(0x5fd)+_0x34812f),new A(_0x34812f);}}async[a0_0x50dea5(0x291)](_0xa34900){const _0x13f132=a0_0x50dea5;try{return await this[_0x13f132(0x704)][_0x13f132(0x509)](_0xa34900[_0x13f132(0x520)],_0xa34900['name']),{'update':'success'};}catch(_0x3c23e5){let _0x45c5f1=_0x13f132(0x1d5),_0x586db6=_0x3c23e5 instanceof Error?_0x3c23e5[_0x13f132(0x47f)]:typeof _0x3c23e5=='object'?JSON['stringify'](_0x3c23e5):_0x3c23e5,_0x1ee45a=_0x45c5f1+':\x20'+_0x586db6;throw this[_0x13f132(0x5c8)][_0x13f132(0x190)](this[_0x13f132(0x665)]+'\x20('+this['instance'][_0x13f132(0x4ea)]+_0x13f132(0x5fd)+_0x1ee45a),new A(_0x1ee45a);}}async['toggleEphemeral'](_0x50edc3){const _0x14a3f6=a0_0x50dea5;try{let _0x3aa2ba=await this[_0x14a3f6(0x704)]['groupToggleEphemeral'](_0x50edc3[_0x14a3f6(0x520)],_0x50edc3[_0x14a3f6(0x312)]);return{'success':!0x0};}catch(_0x29ee4f){let _0x2f6743='Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral',_0x1b6a10=_0x29ee4f instanceof Error?_0x29ee4f[_0x14a3f6(0x47f)]:typeof _0x29ee4f==_0x14a3f6(0x471)?JSON[_0x14a3f6(0x581)](_0x29ee4f):_0x29ee4f,_0x29a38d=_0x2f6743+':\x20'+_0x1b6a10;throw this['logger'][_0x14a3f6(0x190)](this[_0x14a3f6(0x665)]+'\x20('+this['instance'][_0x14a3f6(0x4ea)]+_0x14a3f6(0x5fd)+_0x29a38d),new A(_0x29a38d);}}async['groupSetting'](_0x32bfd9){const _0xc8074f=a0_0x50dea5;try{return await this[_0xc8074f(0x704)][_0xc8074f(0x5b4)](_0x32bfd9['groupJid'],_0x32bfd9[_0xc8074f(0x1b1)]),{'update':_0xc8074f(0x576)};}catch(_0x1dd3f1){let _0x5d8147=_0xc8074f(0x31f),_0x526315=_0x1dd3f1 instanceof Error?_0x1dd3f1['message']:typeof _0x1dd3f1==_0xc8074f(0x471)?JSON[_0xc8074f(0x581)](_0x1dd3f1):_0x1dd3f1,_0x56e3a4=_0x5d8147+':\x20'+_0x526315;throw this[_0xc8074f(0x5c8)][_0xc8074f(0x190)](this[_0xc8074f(0x665)]+'\x20('+this[_0xc8074f(0xdd)]['wuid']+'):\x20'+_0x56e3a4),new A(_0x56e3a4);}}async[a0_0x50dea5(0x102)](_0x4db37e){const _0x1cf8a9=a0_0x50dea5;try{if(_0x4db37e[_0x1cf8a9(0x3c1)]===!0x0&&await this[_0x1cf8a9(0x704)]['groupSettingUpdate'](_0x4db37e[_0x1cf8a9(0x520)],'locked'),_0x4db37e[_0x1cf8a9(0x3c1)]===!0x1&&await this['client'][_0x1cf8a9(0x5b4)](_0x4db37e[_0x1cf8a9(0x520)],_0x1cf8a9(0x5f7)),_0x4db37e['announce']===!0x0&&await this[_0x1cf8a9(0x704)]['groupSettingUpdate'](_0x4db37e[_0x1cf8a9(0x520)],_0x1cf8a9(0x677)),_0x4db37e['announce']===!0x1&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x5b4)](_0x4db37e[_0x1cf8a9(0x520)],_0x1cf8a9(0x46a)),_0x4db37e[_0x1cf8a9(0x17d)]===!0x0&&await this['client'][_0x1cf8a9(0x5aa)](_0x4db37e[_0x1cf8a9(0x520)],_0x1cf8a9(0x47d)),_0x4db37e[_0x1cf8a9(0x17d)]===!0x1&&await this['client'][_0x1cf8a9(0x5aa)](_0x4db37e['groupJid'],_0x1cf8a9(0x79e)),_0x4db37e['joinApprovalMode']===!0x0&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x151)](_0x4db37e['groupJid'],'on'),_0x4db37e[_0x1cf8a9(0x108)]===!0x1&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x151)](_0x4db37e[_0x1cf8a9(0x520)],_0x1cf8a9(0x2ad)),typeof _0x4db37e[_0x1cf8a9(0x312)]<'u'&&_0x4db37e[_0x1cf8a9(0x312)]!==null&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x25d)](_0x4db37e[_0x1cf8a9(0x520)],_0x4db37e['expiration']),_0x4db37e[_0x1cf8a9(0x213)]&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x509)](_0x4db37e[_0x1cf8a9(0x520)],_0x4db37e['name']),_0x4db37e['description']&&await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x56c)](_0x4db37e[_0x1cf8a9(0x520)],_0x4db37e[_0x1cf8a9(0x6e6)]),_0x4db37e['image']){let _0x167703;if((0x0,_[_0x1cf8a9(0x60c)])(_0x4db37e[_0x1cf8a9(0x764)])){let _0x109e32=new Date()['getTime'](),_0x55e8dc=_0x4db37e[_0x1cf8a9(0x764)]+'?timestamp='+_0x109e32;_0x167703=(await K[_0x1cf8a9(0x378)][_0x1cf8a9(0x42a)](_0x55e8dc,{'responseType':_0x1cf8a9(0x505)}))[_0x1cf8a9(0x478)];}else{if((0x0,_[_0x1cf8a9(0x37b)])(_0x4db37e['image']))_0x167703=Buffer[_0x1cf8a9(0x462)](_0x4db37e['image'],_0x1cf8a9(0x522));else throw new w(_0x1cf8a9(0x5ea));}await this[_0x1cf8a9(0x704)][_0x1cf8a9(0x2fc)](_0x4db37e[_0x1cf8a9(0x520)],_0x167703);}return await this[_0x1cf8a9(0x293)]({'groupJid':_0x4db37e[_0x1cf8a9(0x520)]},'inner');}catch(_0x56f66b){let _0x1e9e47=_0x1cf8a9(0x490),_0x459a92=_0x56f66b instanceof Error?_0x56f66b[_0x1cf8a9(0x47f)]:typeof _0x56f66b==_0x1cf8a9(0x471)?JSON[_0x1cf8a9(0x581)](_0x56f66b):_0x56f66b,_0x4433d6=_0x1e9e47+':\x20'+_0x459a92;throw this[_0x1cf8a9(0x5c8)][_0x1cf8a9(0x190)](this['instanceName']+'\x20('+this[_0x1cf8a9(0xdd)][_0x1cf8a9(0x4ea)]+_0x1cf8a9(0x5fd)+_0x4433d6),new A(_0x4433d6);}}async[a0_0x50dea5(0x248)](_0xcb5a9d){const _0x2a40ae=a0_0x50dea5;try{if(_0xcb5a9d[_0x2a40ae(0x5f0)]===_0x2a40ae(0x684)||_0xcb5a9d[_0x2a40ae(0x5f0)]===_0x2a40ae(0x4c9)){let _0x513c33=_0xcb5a9d[_0x2a40ae(0x61c)][_0x2a40ae(0x298)](_0x4c5bbf=>this[_0x2a40ae(0x5c4)](_0x4c5bbf));await this[_0x2a40ae(0x704)][_0x2a40ae(0x743)](_0xcb5a9d['groupJid'],_0x513c33,_0xcb5a9d['action']);}else{let _0x33bb75=_0xcb5a9d[_0x2a40ae(0x61c)][_0x2a40ae(0x298)](_0x18e52f=>this['createJid'](_0x18e52f));await this[_0x2a40ae(0x704)]['groupParticipantsUpdate'](_0xcb5a9d[_0x2a40ae(0x520)],_0x33bb75,_0xcb5a9d[_0x2a40ae(0x5f0)]);}return await this[_0x2a40ae(0x293)]({'groupJid':_0xcb5a9d[_0x2a40ae(0x520)]},'inner');}catch(_0xa9a023){let _0x3a067c=_0x2a40ae(0x6b5),_0x5c683d=_0xa9a023 instanceof Error?_0xa9a023[_0x2a40ae(0x47f)]:typeof _0xa9a023==_0x2a40ae(0x471)?JSON[_0x2a40ae(0x581)](_0xa9a023):_0xa9a023,_0x35523b=_0x3a067c+':\x20'+_0x5c683d;throw this[_0x2a40ae(0x5c8)][_0x2a40ae(0x190)](this[_0x2a40ae(0x665)]+'\x20('+this[_0x2a40ae(0xdd)][_0x2a40ae(0x4ea)]+_0x2a40ae(0x5fd)+_0x35523b),new w(_0x35523b);}}async[a0_0x50dea5(0x3fa)](_0x2ea102){const _0x4cbae1=a0_0x50dea5;try{return await this[_0x4cbae1(0x704)][_0x4cbae1(0x3fa)](_0x2ea102[_0x4cbae1(0x691)]);}catch(_0x11f9a9){let _0x410bd6=_0x4cbae1(0x685),_0x21df9f=_0x11f9a9 instanceof Error?_0x11f9a9[_0x4cbae1(0x47f)]:typeof _0x11f9a9==_0x4cbae1(0x471)?JSON[_0x4cbae1(0x581)](_0x11f9a9):_0x11f9a9,_0x5bdb7b=_0x410bd6+':\x20'+_0x21df9f;throw this['logger'][_0x4cbae1(0x190)](this[_0x4cbae1(0x665)]+'\x20('+this[_0x4cbae1(0xdd)][_0x4cbae1(0x4ea)]+_0x4cbae1(0x5fd)+_0x5bdb7b),new w(_0x5bdb7b);}}async[a0_0x50dea5(0x293)](_0x38a99d,_0x23cbbe=a0_0x50dea5(0x389)){const _0x36fcc3=a0_0x50dea5;try{let _0x289709=await this[_0x36fcc3(0x704)]['groupMetadata'](_0x38a99d[_0x36fcc3(0x520)]),_0x1286ac=[];try{_0x1286ac=await this['client'][_0x36fcc3(0x2ac)](_0x38a99d['groupJid']);}catch(_0x5d259e){this[_0x36fcc3(0x5c8)][_0x36fcc3(0x1f5)](this[_0x36fcc3(0x665)]+'\x20('+this[_0x36fcc3(0xdd)][_0x36fcc3(0x4ea)]+_0x36fcc3(0x30a)+_0x38a99d[_0x36fcc3(0x520)]+':\x20'+(_0x5d259e instanceof Error?_0x5d259e[_0x36fcc3(0x47f)]:JSON[_0x36fcc3(0x581)](_0x5d259e,null,0x2)));}let _0x295fd7=null;try{_0x295fd7=(await this[_0x36fcc3(0x6d0)](_0x38a99d[_0x36fcc3(0x520)],null,!0x0))['cachedContact'][_0x36fcc3(0x2d4)];}catch(_0xf800f1){this[_0x36fcc3(0x5c8)][_0x36fcc3(0x1f5)](this['instanceName']+'\x20('+this[_0x36fcc3(0xdd)][_0x36fcc3(0x4ea)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x38a99d[_0x36fcc3(0x520)]+':\x20'+(_0xf800f1 instanceof Error?_0xf800f1[_0x36fcc3(0x47f)]:JSON[_0x36fcc3(0x581)](_0xf800f1,null,0x2)));}let _0x25dbef=_0x289709[_0x36fcc3(0x61c)][_0x36fcc3(0x298)](_0x3d1ea9=>_0x3d1ea9['id']),_0x302a67=_0x1286ac[_0x36fcc3(0x298)](_0x1ac2e9=>_0x1ac2e9[_0x36fcc3(0x20a)]),_0x5c4a9b=await this['repository']['cacheContact'][_0x36fcc3(0x2af)]([..._0x25dbef,..._0x302a67]),_0x208ad7=_0x289709[_0x36fcc3(0x61c)][_0x36fcc3(0x298)](_0x490768=>{const _0x1c6dfe=_0x36fcc3;let _0x3ddade=_0x5c4a9b[_0x1c6dfe(0x3d9)](_0x21195f=>_0x21195f[_0x1c6dfe(0x3dd)]===_0x490768['id']);return{'id':_0x490768['id'],'status':_0x490768[_0x1c6dfe(0x7a7)]?_0x490768[_0x1c6dfe(0x7a7)]:'normal','pushName':_0x3ddade?.[_0x1c6dfe(0x213)],'profilePictureUrl':_0x3ddade?.[_0x1c6dfe(0x2d4)]};}),_0x34d293=_0x1286ac[_0x36fcc3(0x298)](_0x59e195=>{const _0x5ba31c=_0x36fcc3;let _0x5053d2=_0x5c4a9b[_0x5ba31c(0x3d9)](_0x5d1267=>_0x5d1267['_id']===_0x59e195[_0x5ba31c(0x20a)]);return{'id':_0x59e195[_0x5ba31c(0x20a)],'status':_0x5ba31c(0x59b),'pushName':_0x5053d2?.[_0x5ba31c(0x213)],'profilePictureUrl':_0x5053d2?.[_0x5ba31c(0x2d4)],'request_method':_0x59e195[_0x5ba31c(0x69c)],'request_time':_0x59e195['request_time']};}),_0x43d15a=[..._0x208ad7,..._0x34d293];_0x289709[_0x36fcc3(0x61c)]=_0x43d15a;let _0x3cdd09=await this[_0x36fcc3(0x65f)][_0x36fcc3(0x30d)]['updateOne']({'where':{'_id':_0x38a99d[_0x36fcc3(0x520)]}},{'imagechat':_0x295fd7,'name':_0x289709[_0x36fcc3(0x3ca)],'group_size':_0x289709[_0x36fcc3(0x777)],'group_announce':_0x289709[_0x36fcc3(0x1c1)],'group_isCommunity':_0x289709['isCommunity'],'lastcache':Date[_0x36fcc3(0x712)]()},this[_0x36fcc3(0xdd)][_0x36fcc3(0x4ea)]);return _0x3cdd09&&J(this['instanceName'],_0x36fcc3(0x439),{'chat':_0x3cdd09}),{'metadata':_0x289709,'image':_0x295fd7};}catch(_0xbbcc6c){if(_0x23cbbe===_0x36fcc3(0x14d))return;throw new F(_0x36fcc3(0xee),_0xbbcc6c[_0x36fcc3(0x47f)][_0x36fcc3(0x4b1)]());}}async[a0_0x50dea5(0x22d)](){const _0x22775e=a0_0x50dea5;try{let _0x3534e7=await this['client'][_0x22775e(0x558)](),_0x5a8543=Object[_0x22775e(0x164)](_0x3534e7)[_0x22775e(0x6ee)](_0x1d631d=>(0x0,f[_0x22775e(0x5db)])(_0x1d631d?.['id']))['map'](async _0x2ae871=>{const _0x5a4852=_0x22775e;try{let _0x5475a2=await this[_0x5a4852(0x704)][_0x5a4852(0x79a)](_0x2ae871['id'],'preview'),_0x47ec22=await this[_0x5a4852(0x6d0)](_0x2ae871['id'],_0x2ae871[_0x5a4852(0x3ca)],!0x1),_0x59a497=_0x47ec22[_0x5a4852(0x31d)]['pictureUrl'],_0x2686dc={'groupJid':_0x2ae871?.['id'],'subject':_0x2ae871?.['subject'],'subjectOwner':_0x2ae871?.[_0x5a4852(0x78f)]?.['split']('@')[0x0],'subjectTime':_0x2ae871?.[_0x5a4852(0x42f)],'size':_0x2ae871?.[_0x5a4852(0x61c)]?.[_0x5a4852(0x6a9)],'owner':_0x2ae871?.['owner']?.[_0x5a4852(0x531)]('@')[0x0],'creation':_0x2ae871?.[_0x5a4852(0x196)],'desc':_0x2ae871?.[_0x5a4852(0x2b0)],'restrict':_0x2ae871?.[_0x5a4852(0x3c1)],'announce':_0x2ae871?.[_0x5a4852(0x1c1)],'image':_0x59a497,'isCommunity':_0x2ae871?.['isCommunity'],'joinApprovalMode':_0x2ae871?.[_0x5a4852(0x108)],'memberCanAddParticipant':_0x2ae871?.['memberAddMode']},_0xcfae2a=await this[_0x5a4852(0x65f)]['chat'][_0x5a4852(0x11c)]({'where':{'_id':_0x2ae871?.['id']}},{'imagechat':_0x47ec22[_0x5a4852(0x31d)]['pictureUrl'],'name':_0x2ae871?.[_0x5a4852(0x3ca)],'group_size':_0x2ae871?.['size'],'group_announce':_0x2ae871?.['announce'],'group_isCommunity':_0x2ae871?.[_0x5a4852(0x648)],'lastcache':Date[_0x5a4852(0x712)]()},this[_0x5a4852(0xdd)][_0x5a4852(0x4ea)]);return _0xcfae2a&&J(this[_0x5a4852(0x665)],_0x5a4852(0x439),{'chat':_0xcfae2a}),_0x2686dc;}catch(_0x1e26b2){return this['logger'][_0x5a4852(0x1f5)](this[_0x5a4852(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20'+_0x2ae871['id']+':\x20'+(_0x1e26b2 instanceof Error?_0x1e26b2['message']:JSON[_0x5a4852(0x581)](_0x1e26b2,null,0x2))),null;}}),_0x2c7fa0=(await Promise[_0x22775e(0x115)](_0x5a8543))['filter'](_0x1755d2=>_0x1755d2!==null);return console[_0x22775e(0x1b3)](_0x2c7fa0[_0x22775e(0x6a9)]+_0x22775e(0x67e)),_0x2c7fa0;}catch(_0x58c17a){throw new F('Error\x20fetching\x20group',_0x58c17a[_0x22775e(0x4b1)]());}}async[a0_0x50dea5(0x2fa)](){const _0x262cc9=a0_0x50dea5;try{let _0x251fb8=[],_0x1ef8fd=await this[_0x262cc9(0x704)][_0x262cc9(0x558)](),_0x3cc3f1=Object['values'](_0x1ef8fd),_0x4d1713=_0x3cc3f1[_0x262cc9(0x6ee)](_0x211b82=>(0x0,f[_0x262cc9(0x5db)])(_0x211b82?.['id']))['map'](async _0x5d3f91=>{const _0x3f07c4=_0x262cc9;try{return await this['client'][_0x3f07c4(0x79a)](_0x5d3f91['id'],'preview');}catch(_0x4d6644){return this['logger'][_0x3f07c4(0x1f5)](this['instanceName']+'\x20('+this[_0x3f07c4(0xdd)]['wuid']+_0x3f07c4(0x122)+_0x5d3f91['id']+':\x20'+(_0x4d6644 instanceof Error?_0x4d6644[_0x3f07c4(0x47f)]:JSON['stringify'](_0x4d6644,null,0x2))),null;}}),_0xd9db00=await Promise[_0x262cc9(0x115)](_0x4d1713);for(let _0x1db3c0=0x0;_0x1db3c0<_0x3cc3f1['length'];_0x1db3c0++){let _0x28b402=_0x3cc3f1[_0x1db3c0];if((0x0,f[_0x262cc9(0x5db)])(_0x28b402?.['id'])){_0x251fb8[_0x262cc9(0x112)]({'groupJid':_0x28b402?.['id'],'subject':_0x28b402?.[_0x262cc9(0x3ca)],'subjectOwner':_0x28b402?.[_0x262cc9(0x78f)]?.[_0x262cc9(0x531)]('@')[0x0],'subjectTime':_0x28b402?.[_0x262cc9(0x42f)],'size':_0x28b402?.[_0x262cc9(0x61c)]?.[_0x262cc9(0x6a9)],'owner':_0x28b402?.['owner']?.[_0x262cc9(0x531)]('@')[0x0],'creation':_0x28b402?.[_0x262cc9(0x196)],'desc':_0x28b402?.[_0x262cc9(0x2b0)],'restrict':_0x28b402?.[_0x262cc9(0x3c1)],'announce':_0x28b402?.[_0x262cc9(0x1c1)],'image':_0xd9db00[_0x1db3c0],'isCommunity':_0x28b402?.[_0x262cc9(0x648)],'joinApprovalMode':_0x28b402?.['joinApprovalMode'],'memberCanAddParticipant':_0x28b402?.[_0x262cc9(0x17d)]});let _0x15b2dc=await this[_0x262cc9(0x65f)][_0x262cc9(0x30d)][_0x262cc9(0x11c)]({'where':{'_id':_0x28b402?.['id']}},{'imagechat':_0xd9db00[_0x1db3c0],'name':_0x28b402?.[_0x262cc9(0x3ca)],'group_size':_0x28b402?.[_0x262cc9(0x777)],'group_announce':_0x28b402?.[_0x262cc9(0x1c1)],'group_isCommunity':_0x28b402?.[_0x262cc9(0x648)],'lastcache':Date[_0x262cc9(0x712)]()},this[_0x262cc9(0xdd)]['wuid']);_0x15b2dc&&J(this[_0x262cc9(0x665)],_0x262cc9(0x439),{'chat':_0x15b2dc});}}return _0x251fb8;}catch(_0x161617){let _0x4db786='Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups',_0x34df88=_0x161617 instanceof Error?_0x161617['message']:typeof _0x161617==_0x262cc9(0x471)?JSON[_0x262cc9(0x581)](_0x161617):_0x161617,_0x2ae209=_0x4db786+':\x20'+_0x34df88;throw this['logger'][_0x262cc9(0x190)](this[_0x262cc9(0x665)]+'\x20('+this[_0x262cc9(0xdd)][_0x262cc9(0x4ea)]+_0x262cc9(0x5fd)+_0x2ae209),new F(_0x2ae209);}}async['inviteCode'](_0x2ad892){const _0x1bd9d4=a0_0x50dea5;try{let _0x5a9567=await this[_0x1bd9d4(0x704)][_0x1bd9d4(0x238)](_0x2ad892['groupJid']);return{'inviteUrl':_0x1bd9d4(0x304)+_0x5a9567,'inviteCode':_0x5a9567};}catch(_0x171dc1){let _0x293856=_0x1bd9d4(0x52a),_0x26abcf=_0x171dc1 instanceof Error?_0x171dc1[_0x1bd9d4(0x47f)]:typeof _0x171dc1==_0x1bd9d4(0x471)?JSON[_0x1bd9d4(0x581)](_0x171dc1):_0x171dc1,_0x4849b3=_0x293856+':\x20'+_0x26abcf;throw this[_0x1bd9d4(0x5c8)][_0x1bd9d4(0x190)](this['instanceName']+'\x20('+this[_0x1bd9d4(0xdd)][_0x1bd9d4(0x4ea)]+_0x1bd9d4(0x5fd)+_0x4849b3),new F(_0x4849b3);}}async['revokeInviteCode'](_0x2c156d){const _0x1dceac=a0_0x50dea5;try{let _0xd1324d=await this[_0x1dceac(0x704)][_0x1dceac(0x681)](_0x2c156d[_0x1dceac(0x520)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0xd1324d,'inviteCode':_0xd1324d};}catch(_0x113e6e){let _0x4fabf8=_0x1dceac(0x66e),_0x539119=_0x113e6e instanceof Error?_0x113e6e[_0x1dceac(0x47f)]:typeof _0x113e6e==_0x1dceac(0x471)?JSON[_0x1dceac(0x581)](_0x113e6e):_0x113e6e,_0x34eea2=_0x4fabf8+':\x20'+_0x539119;throw this[_0x1dceac(0x5c8)][_0x1dceac(0x190)](this[_0x1dceac(0x665)]+'\x20('+this[_0x1dceac(0xdd)][_0x1dceac(0x4ea)]+_0x1dceac(0x5fd)+_0x34eea2),new F(_0x34eea2);}}async['joinGroup'](_0x374ce4){const _0x2500fc=a0_0x50dea5;try{if((0x0,_[_0x2500fc(0x60c)])(_0x374ce4[_0x2500fc(0x691)]))var _0x1a56d9=_0x374ce4['inviteCode'][_0x2500fc(0x531)]('/')[0x3];else var _0x1a56d9=_0x374ce4[_0x2500fc(0x691)];let _0x1fbf6a=await this[_0x2500fc(0x704)]['groupAcceptInvite'](_0x1a56d9);return this['logger'][_0x2500fc(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x2500fc(0x4ea)]+_0x2500fc(0x5fd)+_0x1fbf6a),{'join':!0x0,'inviteCode':_0x1a56d9,'groupJid':_0x1fbf6a};}catch(_0x24ead0){let _0x418821=_0x2500fc(0x21b),_0x4622cc=_0x24ead0 instanceof Error?_0x24ead0[_0x2500fc(0x47f)]:typeof _0x24ead0==_0x2500fc(0x471)?JSON[_0x2500fc(0x581)](_0x24ead0):_0x24ead0,_0x324757=_0x418821+':\x20'+_0x4622cc;throw this[_0x2500fc(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x2500fc(0xdd)][_0x2500fc(0x4ea)]+_0x2500fc(0x5fd)+_0x324757),new F(_0x324757);}}async[a0_0x50dea5(0x40e)](_0x513f68){const _0x1b8ca0=a0_0x50dea5;try{return{'participants':(await this[_0x1b8ca0(0x704)][_0x1b8ca0(0x110)](_0x513f68[_0x1b8ca0(0x520)]))[_0x1b8ca0(0x61c)]};}catch(_0x521bde){let _0x1e45ae=_0x1b8ca0(0x771),_0x3cb1b6=_0x521bde instanceof Error?_0x521bde['message']:typeof _0x521bde==_0x1b8ca0(0x471)?JSON[_0x1b8ca0(0x581)](_0x521bde):_0x521bde,_0xa3c1dc=_0x1e45ae+':\x20'+_0x3cb1b6;throw this[_0x1b8ca0(0x5c8)][_0x1b8ca0(0x190)](this[_0x1b8ca0(0x665)]+'\x20('+this[_0x1b8ca0(0xdd)][_0x1b8ca0(0x4ea)]+_0x1b8ca0(0x5fd)+_0xa3c1dc),new F(_0xa3c1dc);}}async[a0_0x50dea5(0x1fc)](_0x3e917f){const _0x307fc6=a0_0x50dea5;try{return await this[_0x307fc6(0x704)]['groupLeave'](_0x3e917f[_0x307fc6(0x520)]),{'groupJid':_0x3e917f[_0x307fc6(0x520)],'leave':!0x0};}catch(_0x16ad1b){let _0x187654=_0x307fc6(0x590),_0x3dd0e0=_0x16ad1b instanceof Error?_0x16ad1b[_0x307fc6(0x47f)]:typeof _0x16ad1b==_0x307fc6(0x471)?JSON[_0x307fc6(0x581)](_0x16ad1b):_0x16ad1b,_0x38b524=_0x187654+':\x20'+_0x3dd0e0;throw this['logger'][_0x307fc6(0x190)](this[_0x307fc6(0x665)]+'\x20('+this[_0x307fc6(0xdd)]['wuid']+'):\x20'+_0x38b524),new w(_0x38b524);}}async[a0_0x50dea5(0x4a2)](_0x2c27b4){const _0x15f1c1=a0_0x50dea5;return await this[_0x15f1c1(0x57d)](_0x2c27b4[_0x15f1c1(0x491)],{'poll':{'name':_0x2c27b4['pollMessage']?.[_0x15f1c1(0x213)],'selectableCount':_0x2c27b4[_0x15f1c1(0x4a2)][_0x15f1c1(0x5f4)],'values':_0x2c27b4[_0x15f1c1(0x4a2)]['values']}},_0x2c27b4?.[_0x15f1c1(0x198)]);}async[a0_0x50dea5(0x149)](_0x4ef53f){const _0x31489d=a0_0x50dea5;return await this[_0x31489d(0x57d)](_0x4ef53f[_0x31489d(0x491)],{'listMessage':{'title':_0x4ef53f[_0x31489d(0x149)]['title'],'description':_0x4ef53f[_0x31489d(0x149)][_0x31489d(0x6e6)],'buttonText':_0x4ef53f['listMessage']?.[_0x31489d(0x29f)],'footerText':_0x4ef53f['listMessage']?.[_0x31489d(0x489)],'sections':_0x4ef53f[_0x31489d(0x149)]['sections'],'listType':0x2}},_0x4ef53f?.[_0x31489d(0x198)]);}async['menuMessage'](_0x3640d0){const _0x25caed=a0_0x50dea5;let _0x4393c6;if(_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x767)]===_0x25caed(0x1fe)){let _0x4a3901=_0x3640d0[_0x25caed(0x5ad)]['text'][_0x25caed(0x284)]('\x0a'),_0xee686e='',_0x5cb5bf='';_0x4a3901!==-0x1?(_0xee686e=_0x3640d0[_0x25caed(0x5ad)]['text'][_0x25caed(0x1eb)](0x0,_0x4a3901)[_0x25caed(0x1ba)](),_0x5cb5bf=_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x26d)][_0x25caed(0x1eb)](_0x4a3901+0x1)):_0x5cb5bf=_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x26d)];let _0x1b406c=_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x500)][_0x25caed(0x6ee)](_0x1460ff=>_0x1460ff[_0x25caed(0x1ba)]()!==''),_0x2f844f=this[_0x25caed(0x71c)](_0x1b406c);_0x4393c6={'listMessage':{'title':_0xee686e,'description':_0x5cb5bf,'buttonText':_0x3640d0['menuMessage'][_0x25caed(0x29f)]||_0x25caed(0x1a5),'footerText':_0x3640d0[_0x25caed(0x5ad)]['footerText'],'sections':_0x2f844f,'listType':0x2}};}else{if(_0x3640d0[_0x25caed(0x5ad)]['type']===_0x25caed(0x77b)){let _0x4eed69=_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x500)][_0x25caed(0x6ee)](_0x508944=>!(_0x508944[_0x25caed(0x702)]('[')&&_0x508944[_0x25caed(0x28a)](']'))&&_0x508944[_0x25caed(0x1ba)]()!=='')['map'](_0xcdc9a6=>_0xcdc9a6[_0x25caed(0x531)]('\x0a')[0x0]);_0x4393c6={'poll':{'name':_0x3640d0['menuMessage'][_0x25caed(0x26d)],'selectableCount':_0x3640d0[_0x25caed(0x5ad)][_0x25caed(0x5f4)]||0x1,'values':_0x4eed69}};}}return await this[_0x25caed(0x57d)](_0x3640d0[_0x25caed(0x491)],_0x4393c6,_0x3640d0?.[_0x25caed(0x198)]);}[a0_0x50dea5(0x71c)](_0x495125){const _0xff7863=a0_0x50dea5;let _0x527ee9=[],_0x566c84={'rows':[]};return _0x495125[_0xff7863(0x163)](_0x190397=>{const _0x5e20e2=_0xff7863;if(_0x190397[_0x5e20e2(0x702)]('[')&&_0x190397[_0x5e20e2(0x28a)](']'))_0x566c84[_0x5e20e2(0x49a)][_0x5e20e2(0x6a9)]>0x0&&_0x527ee9['push'](_0x566c84),_0x566c84={'title':_0x190397[_0x5e20e2(0x73d)](0x1,-0x1),'rows':[]};else{let _0x21a5f2=_0x190397[_0x5e20e2(0x531)]('\x0a')[_0x5e20e2(0x298)](_0x3f95ec=>_0x3f95ec[_0x5e20e2(0x1ba)]()),_0x98f890=_0x21a5f2[0x0],_0x470660=_0x21a5f2[0x1]||null,_0xe26714=_0x21a5f2[0x2]||_0x98f890;_0x566c84[_0x5e20e2(0x49a)]['push']({'title':_0x98f890,'description':_0x470660,'rowId':_0xe26714});}}),_0x566c84[_0xff7863(0x49a)][_0xff7863(0x6a9)]>0x0&&_0x527ee9[_0xff7863(0x112)](_0x566c84),_0x527ee9;}async['updateMessage'](_0x3480e6,_0x3cc056){const _0x11d6ad=a0_0x50dea5;if(await this[_0x11d6ad(0x432)](_0x3480e6,!0x0)){let _0x3bb796={'where':{'_id':_0x3480e6['id']}},_0x1d49a6={'status':[_0x3cc056[_0x11d6ad(0x373)]][0x0]};try{let _0x3e451d=await this[_0x11d6ad(0x65f)]['message']['update'](_0x3bb796,_0x1d49a6,this['instance'][_0x11d6ad(0x4ea)]);_0x3e451d&&J(this[_0x11d6ad(0x665)],'messages',{'message':_0x3e451d});}catch{}}}['sectionsToString'](_0x48f021){const _0x397b73=a0_0x50dea5;let _0xcec551=[];return _0x48f021['forEach'](_0x360a57=>{const _0x28f277=a0_0x4934;_0x360a57[_0x28f277(0x326)]&&_0xcec551[_0x28f277(0x112)]('['+_0x360a57['title']+']'),_0x360a57['rows'][_0x28f277(0x163)](_0x526846=>{const _0x1210f2=_0x28f277;_0xcec551[_0x1210f2(0x112)](_0x526846[_0x1210f2(0x326)]);});}),_0xcec551[_0x397b73(0x243)]('|');}[a0_0x50dea5(0x141)](_0x4cc8d5){const _0x5cfcf9=a0_0x50dea5;let _0x3caa1e=_0x4cc8d5['replace'](/\\n/g,'\x0a')[_0x5cfcf9(0x531)]('\x0a')[_0x5cfcf9(0x6ee)](_0x287a44=>_0x287a44[_0x5cfcf9(0x58a)](_0x5cfcf9(0x53c))||_0x287a44[_0x5cfcf9(0x58a)](_0x5cfcf9(0x449))),_0x1e8777='';return _0x3caa1e[_0x5cfcf9(0x163)](_0x5fc11b=>{const _0x32ff69=_0x5cfcf9;let _0x2a2846=/TEL(?:.*):(.+)/,_0x5e3f3=/EMAIL(?:.*):(.+)/,_0x5cd3b5=_0x5fc11b[_0x32ff69(0x148)](_0x2a2846),_0x152901=_0x5fc11b[_0x32ff69(0x148)](_0x5e3f3);if(_0x5cd3b5){let _0x380885=_0x5cd3b5[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x32ff69(0x1ba)]();_0x1e8777+=_0x32ff69(0x114)+_0x380885+'\x0a';}else{if(_0x152901){let _0x1ead6e=_0x152901[0x1]['trim']();_0x1e8777+=_0x32ff69(0x32c)+_0x1ead6e+'\x0a';}}}),_0x1e8777[_0x5cfcf9(0x1ba)]();}async[a0_0x50dea5(0x65d)](_0x170036,_0x2cab82,_0xd0db54){const _0x2e999d=a0_0x50dea5;if(!_0x170036[_0x2e999d(0x73b)])return;let _0x50da26=_0x2cab82[_0x2e999d(0x6a8)]['remoteJid'][_0x2e999d(0x24a)](/:\d{1,2}@/g,'@'),_0x431bed=_0x2cab82[_0x2e999d(0x6a8)]['fromMe'],_0x59b47b=_0x50da26['endsWith'](_0x2e999d(0x1c0)),_0x53e816=_0x2cab82[_0x2e999d(0x4b9)]?.[_0x2e999d(0x26d)]||_0x2cab82[_0x2e999d(0x4b9)]?.[_0x2e999d(0x71f)]||_0x2cab82[_0x2e999d(0x4b9)]?.[_0x2e999d(0xf3)]||_0x2cab82[_0x2e999d(0x4b9)]?.['name'],_0x300531={'lastmsg':_0x2cab82[_0x2e999d(0x4c3)]||Date[_0x2e999d(0x712)](),'ephemeralExpiration':_0x2cab82[_0x2e999d(0x312)],'unreadcount':_0x431bed?0x0:0x1,..._0x431bed||_0x59b47b?{}:{'name':_0x2cab82[_0x2e999d(0x2a6)]},..._0x59b47b?{'group':_0x59b47b}:{},...!_0x431bed&&!_0x59b47b&&_0x2cab82[_0x2e999d(0x79a)]?{'imagechat':_0x2cab82[_0x2e999d(0x79a)]}:{}},_0xb61ab3=await this['repository'][_0x2e999d(0x30d)][_0x2e999d(0x11c)]({'where':{'_id':_0x50da26}},_0x300531,this['instance'][_0x2e999d(0x4ea)],{'new':!0x0,'upsert':!0x0});if(_0xb61ab3[_0x2e999d(0x460)]){let _0x81930a=await this['repository'][_0x2e999d(0x773)][_0x2e999d(0x3d9)]({'where':{}},this[_0x2e999d(0xdd)]['wuid']),_0x66764b=new Set(_0x81930a['map'](_0xac6871=>_0xac6871[_0x2e999d(0x3dd)])),_0x36de6f=(_0xb61ab3[_0x2e999d(0x235)]?.[_0x2e999d(0x319)]||[])[_0x2e999d(0x6ee)](_0x4af2e9=>_0x66764b[_0x2e999d(0x2c0)](_0x4af2e9)),_0x3284c7={'leadInfo.etiquetas':_0x36de6f,'imported':!0x1};_0xb61ab3=await this[_0x2e999d(0x65f)][_0x2e999d(0x30d)]['updateOne']({'where':{'_id':_0x50da26}},_0x3284c7,this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)]);for(let _0x18a42d of _0x36de6f)await this[_0x2e999d(0x2e0)](_0x18a42d,_0x50da26);}if(!_0x59b47b&&(!_0xb61ab3?.[_0x2e999d(0x235)]||!_0xb61ab3['leadInfo']['nome'])&&_0x2cab82[_0x2e999d(0x2a6)]&&!_0x431bed&&(_0xb61ab3=await this[_0x2e999d(0x65f)][_0x2e999d(0x30d)][_0x2e999d(0x11c)]({'where':{'_id':_0x50da26}},{'leadInfo.nome':_0x2cab82[_0x2e999d(0x2a6)]},this[_0x2e999d(0xdd)]['wuid'],{'new':!0x0,'upsert':!0x0})),_0xd0db54===_0x2e999d(0x10c)&&_0x431bed&&this[_0x2e999d(0x55d)]?.['flowConfig'][_0x2e999d(0x42d)]&&!_0x53e816['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x2e999d(0x44a)])){let _0x5165a3=(this['AutomateSystem']?.[_0x2e999d(0x661)][_0x2e999d(0x69f)]||0x5)*0xea60,_0x4483b6=Date[_0x2e999d(0x712)]()+_0x5165a3;_0xb61ab3?.[_0x2e999d(0x235)]?.[_0x2e999d(0x5e1)]===0x0||(await this[_0x2e999d(0x65f)][_0x2e999d(0x30d)][_0x2e999d(0x11c)]({'where':{'_id':_0x50da26}},{'leadInfo.desativadoFluxoAte':_0x4483b6},this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x2e999d(0x1f5)](this['instanceName']+'\x20('+this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20'+_0x4483b6+'.'));}if(_0xb61ab3)J(this[_0x2e999d(0x665)],_0x2e999d(0x439),{'chat':_0xb61ab3});else{this[_0x2e999d(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)]+_0x2e999d(0x314));return;}if(!this[_0x2e999d(0x55d)]?.[_0x2e999d(0x661)][_0x2e999d(0x42d)])return this['logger']['verbose'](this[_0x2e999d(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20desativado'),null;if(_0xb61ab3[_0x2e999d(0x3dd)][_0x2e999d(0x58a)]('@g.us')&&this[_0x2e999d(0x55d)]?.[_0x2e999d(0x661)]['ignoreGroups']===!0x0)return this[_0x2e999d(0x5c8)][_0x2e999d(0x1f5)](this[_0x2e999d(0x665)]+'\x20('+this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)]+_0x2e999d(0x683)),null;if(_0xb61ab3[_0x2e999d(0x235)]){if(_0xb61ab3[_0x2e999d(0x235)][_0x2e999d(0x5e1)]===0x0||_0xb61ab3[_0x2e999d(0x235)][_0x2e999d(0x13d)])return this[_0x2e999d(0x5c8)][_0x2e999d(0x1f5)](this[_0x2e999d(0x665)]+'\x20('+this[_0x2e999d(0xdd)][_0x2e999d(0x4ea)]+'):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20'+_0x50da26+_0x2e999d(0x6bf)),null;if(_0xb61ab3[_0x2e999d(0x235)]['desativadoFluxoAte']>Date[_0x2e999d(0x712)]()&&!_0x2cab82['message_normalized']?.[_0x2e999d(0xf3)])return this[_0x2e999d(0x5c8)][_0x2e999d(0x1f5)](this[_0x2e999d(0x665)]+'\x20('+this[_0x2e999d(0xdd)]['wuid']+_0x2e999d(0x125)+new Date(_0xb61ab3[_0x2e999d(0x235)][_0x2e999d(0x5e1)])[_0x2e999d(0x48b)]()+_0x2e999d(0x6bf)),null;}this[_0x2e999d(0x5c8)]['verbose'](this[_0x2e999d(0x665)]+'\x20('+this['instance'][_0x2e999d(0x4ea)]+_0x2e999d(0x3c2)),this[_0x2e999d(0x244)](_0xd0db54,_0x2cab82);}async['upsertChats'](_0x1e5b05,_0x48610b){const _0x1cd9a6=a0_0x50dea5;if(_0x48610b[_0x1cd9a6(0x73b)]){let _0x3d7d34=_0x1e5b05['map'](async _0x239ece=>{const _0x4c49d4=_0x1cd9a6;try{let _0x5d11dc={'_id':_0x239ece[_0x4c49d4(0x3dd)],'owner':_0x239ece[_0x4c49d4(0x591)],'lastcache':0x0};if(_0x239ece['group']!==null&&(_0x5d11dc[_0x4c49d4(0x280)]=_0x239ece[_0x4c49d4(0x280)]),_0x239ece['name']!==null&&(_0x5d11dc[_0x4c49d4(0x213)]=_0x239ece['name']),_0x239ece[_0x4c49d4(0xfb)]!==null&&(_0x5d11dc['contactname']=_0x239ece['contactname']),_0x239ece[_0x4c49d4(0x547)]!==null&&(_0x5d11dc[_0x4c49d4(0x547)]=_0x239ece['imagechat']),_0x239ece[_0x4c49d4(0x547)]===null&&(_0x5d11dc[_0x4c49d4(0x547)]=_0x4c49d4(0x253)),_0x239ece[_0x4c49d4(0x5e0)]!==null&&(_0x5d11dc[_0x4c49d4(0x5e0)]=_0x239ece[_0x4c49d4(0x5e0)]),_0x239ece[_0x4c49d4(0x4cf)]!==null&&(_0x5d11dc[_0x4c49d4(0x4cf)]=_0x239ece[_0x4c49d4(0x4cf)]),_0x239ece[_0x4c49d4(0x6ed)]!==null&&(_0x5d11dc[_0x4c49d4(0x6ed)]=_0x239ece[_0x4c49d4(0x6ed)]),Object[_0x4c49d4(0x165)](_0x5d11dc)[_0x4c49d4(0x6a9)]>0x0)return await this['repository']['chat'][_0x4c49d4(0x11c)]({'where':{'_id':_0x239ece[_0x4c49d4(0x3dd)]}},_0x5d11dc,this['instance'][_0x4c49d4(0x4ea)]);}catch(_0x9cc9a0){let _0x4d1556=_0x4c49d4(0x780)+_0x239ece[_0x4c49d4(0x3dd)],_0x29f91a=_0x9cc9a0 instanceof Error?_0x9cc9a0[_0x4c49d4(0x47f)]:typeof _0x9cc9a0==_0x4c49d4(0x471)?JSON['stringify'](_0x9cc9a0):_0x9cc9a0,_0xad5b02=_0x4d1556+':\x20'+_0x29f91a;return this[_0x4c49d4(0x5c8)]['error'](this[_0x4c49d4(0x665)]+'\x20('+this[_0x4c49d4(0xdd)][_0x4c49d4(0x4ea)]+_0x4c49d4(0x5fd)+_0xad5b02),null;}}),_0x2b0d96=(await Promise['all'](_0x3d7d34))['filter'](_0xa8311f=>_0xa8311f!==null)[_0x1cd9a6(0x6a9)];this[_0x1cd9a6(0x5c8)]['verbose'](this[_0x1cd9a6(0x665)]+'\x20('+this[_0x1cd9a6(0xdd)][_0x1cd9a6(0x4ea)]+_0x1cd9a6(0x5fd)+_0x2b0d96+_0x1cd9a6(0x66b)+this['instance'][_0x1cd9a6(0x4ea)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0xc24475){const _0x32e537=a0_0x50dea5;this[_0x32e537(0x5c8)][_0x32e537(0x1f5)](this[_0x32e537(0x665)]+'\x20('+this[_0x32e537(0xdd)]['wuid']+_0x32e537(0x150));let _0xd1d884={'readMessages':[{'remoteJid':_0xc24475[_0x32e537(0x1ea)][_0x32e537(0x223)][_0x32e537(0x6a8)]['remoteJid'],'fromMe':_0xc24475['chatLog'][_0x32e537(0x223)][_0x32e537(0x6a8)][_0x32e537(0x3e1)],'id':_0xc24475[_0x32e537(0x1ea)][_0x32e537(0x223)][_0x32e537(0x6a8)]['id']}]};await this[_0x32e537(0x1bf)](_0xd1d884);}async[a0_0x50dea5(0x244)](_0x43fbde,_0x5c2d09){const _0xf85266=a0_0x50dea5;try{let {key:_0x1621f4,message_normalized:_0x1ef736}=_0x5c2d09,_0x3ef727=_0x1ef736,_0x13faea=_0x1ef736[_0xf85266(0x26d)]||_0x1ef736[_0xf85266(0x71f)]||_0x1ef736[_0xf85266(0xf3)]||_0x1ef736['name'],_0x1dde24=_0x1621f4[_0xf85266(0x1be)],_0x483ff5;if(_0x3ef727[_0xf85266(0x6a8)][_0xf85266(0x3e1)]&&_0x13faea[_0xf85266(0x1ba)]()!==this[_0xf85266(0x55d)]?.['flowConfig'][_0xf85266(0x761)]['trim']())return this[_0xf85266(0x5c8)][_0xf85266(0x1f5)](this[_0xf85266(0x665)]+'\x20('+this[_0xf85266(0xdd)][_0xf85266(0x4ea)]+_0xf85266(0x3a6)),null;if(_0x3ef727[_0xf85266(0x6a8)][_0xf85266(0x3e1)]&&_0x13faea[_0xf85266(0x1ba)]()===this[_0xf85266(0x55d)]?.[_0xf85266(0x661)][_0xf85266(0x761)]['trim']()){this[_0xf85266(0x5c8)][_0xf85266(0x1f5)](this[_0xf85266(0x665)]+'\x20('+this[_0xf85266(0xdd)][_0xf85266(0x4ea)]+_0xf85266(0x3eb));let _0x358d55=await this['repository'][_0xf85266(0x750)][_0xf85266(0x3d9)]({'remoteJid':_0x1dde24,'status':_0xf85266(0x6a3)},this[_0xf85266(0xdd)][_0xf85266(0x4ea)]);this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xf85266(0x4ea)]+'):\x20Conversas\x20encontradas:'+_0x358d55);let _0x2e79fe=Date[_0xf85266(0x712)](),_0x36f8b4;return this[_0xf85266(0x55d)]?.[_0xf85266(0x661)][_0xf85266(0x3d8)]===0x0?_0x36f8b4={'stoppedUntil':_0x2e79fe+0x7591f6200}:_0x36f8b4={'stoppedUntil':_0x2e79fe+this[_0xf85266(0x55d)]?.[_0xf85266(0x661)]['stopMinutes']*0x3c*0x3e8},this[_0xf85266(0x5c8)]['verbose'](this[_0xf85266(0x665)]+'\x20('+this['instance'][_0xf85266(0x4ea)]+_0xf85266(0x4d2)+_0x36f8b4),this[_0xf85266(0x4e2)](_0x483ff5,_0x36f8b4[_0xf85266(0x508)]),null;}if(_0x13faea&&_0x13faea[_0xf85266(0x702)](this[_0xf85266(0x55d)]?.[_0xf85266(0x661)][_0xf85266(0x44a)])&&_0x13faea[_0xf85266(0x6a9)]>0x4){let _0x3bd604=await this[_0xf85266(0x65f)]['flow']['findOne']({'where':{'startCommandWord':_0x13faea}},this['instance'][_0xf85266(0x4ea)]);if(this[_0xf85266(0x5c8)][_0xf85266(0x1f5)](this[_0xf85266(0x665)]+'\x20('+this[_0xf85266(0xdd)][_0xf85266(0x4ea)]+_0xf85266(0x63c)),_0x3bd604)_0x483ff5=await this['createNewConversation'](_0x3bd604,_0x3ef727[_0xf85266(0x6a8)],_0x3ef727);else return this[_0xf85266(0x5c8)][_0xf85266(0x1f5)](this[_0xf85266(0x665)]+'\x20('+this['instance']['wuid']+'):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x483ff5=await this[_0xf85266(0x1b6)](_0x1dde24,_0x3ef727);if(_0x483ff5){this[_0xf85266(0x5c8)][_0xf85266(0x1f5)](this[_0xf85266(0x665)]+'\x20('+this[_0xf85266(0xdd)]['wuid']+_0xf85266(0x1a8)),!_0x1621f4['fromMe']&&_0x483ff5[_0xf85266(0x2a1)]&&this['readMessageBot'](_0x483ff5);let _0x3069aa=await this[_0xf85266(0x799)](_0x483ff5);_0x3069aa&&await this[_0xf85266(0x791)](_0x483ff5,_0x3069aa);}}catch(_0x37f2c2){this[_0xf85266(0x5c8)][_0xf85266(0x190)](this[_0xf85266(0x665)]+'\x20('+this['instance'][_0xf85266(0x4ea)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x37f2c2 instanceof Error?_0x37f2c2['message']:JSON[_0xf85266(0x581)](_0x37f2c2,null,0x2)));}}[a0_0x50dea5(0x2a8)](_0x397906,_0x3fd5dc='',_0x4613f6={}){const _0x2715ac=a0_0x50dea5;return typeof _0x397906!=_0x2715ac(0x471)||_0x397906===null?(_0x3fd5dc&&(_0x4613f6[_0x3fd5dc]=_0x397906),_0x4613f6):(Object[_0x2715ac(0x273)](_0x397906)['forEach'](([_0x285ca9,_0x3124fc])=>{const _0x40a22e=_0x2715ac;let _0x1882ad=_0x3fd5dc?_0x3fd5dc+'.'+_0x285ca9:'_'+_0x285ca9;Array['isArray'](_0x3124fc)?_0x3124fc[_0x40a22e(0x163)]((_0x77ff75,_0x5f50c9)=>{const _0xa9d70c=_0x40a22e;this[_0xa9d70c(0x2a8)](_0x77ff75,_0x1882ad+'['+_0x5f50c9+']',_0x4613f6);}):typeof _0x3124fc==_0x40a22e(0x471)&&_0x3124fc!==null?this['flattenObject'](_0x3124fc,_0x1882ad,_0x4613f6):_0x4613f6[_0x1882ad]=String(_0x3124fc);}),console['log'](_0x2715ac(0x299),_0x4613f6),_0x4613f6);}['variablesToObject'](_0x217186){const _0x26a706=a0_0x50dea5;let _0x2eb1c5={};for(let _0x2c8723 of _0x217186)typeof _0x2c8723[_0x26a706(0x213)]==_0x26a706(0x2d6)&&typeof _0x2c8723[_0x26a706(0x57e)]==_0x26a706(0x2d6)&&(_0x2eb1c5[_0x2c8723[_0x26a706(0x213)]]=_0x2c8723['value']);return _0x2eb1c5;}async[a0_0x50dea5(0x799)](_0x52387f){const _0x328544=a0_0x50dea5;if(!this[_0x328544(0x55d)]?.[_0x328544(0x661)][_0x328544(0x42d)]||_0x52387f[_0x328544(0x373)]!=='open'&&_0x52387f[_0x328544(0x427)]==='')return null;let _0x3bbdde=_0x52387f[_0x328544(0x1ea)][_0x328544(0x2a5)]||_0x328544(0x160);typeof _0x52387f[_0x328544(0x1ea)][_0x328544(0x191)]>'u'&&(_0x52387f['chatLog'][_0x328544(0x191)]=!0x0);let _0x263d88=_0x52387f['chatLog'][_0x328544(0x191)];this[_0x328544(0x5c8)]['verbose'](this[_0x328544(0x665)]+'\x20('+this[_0x328544(0xdd)][_0x328544(0x4ea)]+_0x328544(0x16b)+_0x3bbdde+',\x20lastCondition:\x20'+_0x263d88);let _0x532a29=_0x3bbdde===_0x328544(0x160)?_0x52387f['blocks'][_0x328544(0x3d9)](_0xd0c0e7=>_0xd0c0e7[_0x328544(0x767)]===_0x328544(0x160)):_0x52387f[_0x328544(0x325)][_0x328544(0x3d9)](_0x41edc6=>_0x41edc6['_id'][_0x328544(0x4b1)]()===_0x3bbdde[_0x328544(0x4b1)]());if(!_0x532a29)return this[_0x328544(0x5c8)][_0x328544(0x190)](this[_0x328544(0x665)]+'\x20('+this[_0x328544(0xdd)][_0x328544(0x4ea)]+_0x328544(0x541)+_0x3bbdde),null;let _0x3f4203={'_pushName':_0x52387f['chatLog'][_0x328544(0x223)][_0x328544(0x2a6)],..._0x52387f[_0x328544(0x1ea)][_0x328544(0x29a)]},_0x5dcf60=null;if(_0x52387f[_0x328544(0x427)]){let _0x3b57a4=_0x52387f['chatLog'][_0x328544(0x223)][_0x328544(0xf3)],_0x2b25eb=_0x52387f[_0x328544(0x4a7)][_0x328544(0x3d9)](_0x47d1cf=>_0x47d1cf['option']===_0x3b57a4);if(_0x2b25eb){let _0x3e2e99=_0x2b25eb[_0x328544(0x290)];if(_0x5dcf60=_0x52387f[_0x328544(0x325)]['find'](_0x259bc3=>_0x259bc3[_0x328544(0x70a)]===_0x3e2e99&&_0x259bc3[_0x328544(0x20d)]===0x1),_0x532a29[_0x328544(0x348)][_0x328544(0x6dd)]){let _0x219d96={'id':_0x52387f[_0x328544(0x427)],'remoteJid':_0x52387f[_0x328544(0x1be)],'fromMe':!0x0};await this[_0x328544(0x5a8)](_0x219d96);}if(_0x532a29['uazapi'][_0x328544(0x6dd)]&&_0x532a29[_0x328544(0x348)][_0x328544(0x72d)]&&_0x532a29['uazapi'][_0x328544(0x50e)]===_0x328544(0x77b)){let _0x290562={'number':_0x52387f[_0x328544(0x1be)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x52387f['waitingMenu_text']+_0x328544(0x586)+_0x3b57a4}};await this[_0x328544(0x457)](_0x290562);}_0x52387f['status']=_0x328544(0x6a3),_0x52387f[_0x328544(0x427)]='',_0x52387f[_0x328544(0x3bd)]='',_0x52387f[_0x328544(0x4a7)]=[];}else{this[_0x328544(0x5c8)][_0x328544(0x1f5)](this[_0x328544(0x665)]+'\x20('+this[_0x328544(0xdd)][_0x328544(0x4ea)]+_0x328544(0x46e));let _0x2cdff5={'activatedCount':_0x52387f['chatLog'][_0x328544(0x288)][_0x328544(0x6ee)](_0x1fd3a7=>String(_0x1fd3a7[_0x328544(0x3f5)])===String(_0x3bbdde))[_0x328544(0x6a9)],'moreLogs':[_0x328544(0x39e)]};if(_0x532a29[_0x328544(0x348)][_0x328544(0x4d7)]){let _0x495325={'number':_0x52387f[_0x328544(0x1be)],'options':{'delay':0x0},'textMessage':{'text':_0x532a29[_0x328544(0x348)][_0x328544(0x4d7)]}};await this[_0x328544(0x457)](_0x495325);}if(_0x532a29['maxActives']!==void 0x0&&_0x2cdff5[_0x328544(0x1fb)]>=_0x532a29['maxActives']){let _0x4952fd=Date[_0x328544(0x712)](),_0x4750cb=_0x532a29[_0x328544(0x619)]??0xa;isNaN(_0x4750cb)&&(_0x4750cb=0xa);let _0x1fcfcd=_0x4952fd+_0x4750cb*0x3c*0x3e8;_0x2cdff5['newStoppedUntil']=_0x1fcfcd,_0x2cdff5[_0x328544(0x65b)][_0x328544(0x112)]('Atingido\x20interaes\x20mximas,\x20parando\x20fluxo'),this[_0x328544(0x4e2)](_0x52387f,_0x1fcfcd),_0x52387f[_0x328544(0x427)]='',_0x52387f[_0x328544(0x3bd)]='',_0x52387f[_0x328544(0x4a7)]=[];}return this[_0x328544(0x4ba)](_0x52387f,_0x532a29,_0x2cdff5,!0x0),null;}}if(_0x263d88&&_0x532a29[_0x328544(0x290)]&&!_0x52387f[_0x328544(0x427)]){let _0x261ac9=_0x52387f[_0x328544(0x325)][_0x328544(0x6ee)](_0xe616b8=>_0xe616b8['groupId']['toString']()===_0x532a29[_0x328544(0x290)][_0x328544(0x4b1)]())['sort']((_0x4020f5,_0x23845d)=>_0x4020f5[_0x328544(0x20d)]-_0x23845d[_0x328544(0x20d)]);_0x261ac9[_0x328544(0x6a9)]>0x0&&(_0x5dcf60=_0x261ac9[0x0]);}if(!_0x5dcf60){let _0x369073=_0x532a29[_0x328544(0x70a)],_0x46772a=_0x52387f[_0x328544(0x325)][_0x328544(0x6ee)](_0xa837b7=>_0xa837b7[_0x328544(0x70a)]===_0x369073&&_0xa837b7[_0x328544(0x20d)]>_0x532a29[_0x328544(0x20d)])[_0x328544(0x34e)]((_0x130200,_0x37c8e1)=>_0x130200[_0x328544(0x20d)]-_0x37c8e1['order']);_0x46772a[_0x328544(0x6a9)]>0x0&&(_0x5dcf60=_0x46772a[0x0]);}if(!_0x5dcf60)return _0x52387f[_0x328544(0x373)]=_0x328544(0x67c),null;_0x52387f[_0x328544(0x1ea)][_0x328544(0x29a)]=_0x3f4203;let _0x35b5fd=JSON[_0x328544(0x11e)](JSON[_0x328544(0x581)](_0x5dcf60));return this[_0x328544(0x52b)](_0x35b5fd,_0x52387f[_0x328544(0x1ea)]['realVariables']),_0x52387f[_0x328544(0x1ea)][_0x328544(0x2a5)]=_0x35b5fd['_id'],_0x52387f[_0x328544(0x1ea)][_0x328544(0x191)]=!0x0,_0x35b5fd;}['replaceVariables'](_0xe2190,_0x53f340){const _0x10fc1e=a0_0x50dea5;return _0xe2190[_0x10fc1e(0x24a)](/\{\{([^}]+)\}\}/g,(_0x8caa34,_0x5228c5)=>_0x53f340[_0x5228c5]||'');}[a0_0x50dea5(0x52b)](_0x2b7ed2,_0x33c506){const _0x1f8c17=a0_0x50dea5;for(let _0xc8d4bf in _0x2b7ed2)typeof _0x2b7ed2[_0xc8d4bf]==_0x1f8c17(0x2d6)?_0x2b7ed2[_0xc8d4bf]=this[_0x1f8c17(0x49d)](_0x2b7ed2[_0xc8d4bf],_0x33c506):typeof _0x2b7ed2[_0xc8d4bf]==_0x1f8c17(0x471)&&this[_0x1f8c17(0x52b)](_0x2b7ed2[_0xc8d4bf],_0x33c506);}async['goNextblock'](_0x1b9515,_0x3cf5d6){const _0x2d3d3d=a0_0x50dea5;let _0x10cb91=_0x3cf5d6[_0x2d3d3d(0x3dd)];if(_0x1b9515['chatLog']&&_0x1b9515[_0x2d3d3d(0x1ea)][_0x2d3d3d(0x288)]){let _0x22bb95=_0x1b9515[_0x2d3d3d(0x1ea)][_0x2d3d3d(0x288)][_0x2d3d3d(0x6ee)](_0x341dcb=>String(_0x341dcb[_0x2d3d3d(0x3f5)])===String(_0x10cb91))[_0x2d3d3d(0x27b)]();if(_0x22bb95&&_0x22bb95[_0x2d3d3d(0x190)]&&_0x3cf5d6['stopIfLastReturnedError'])return _0x1b9515[_0x2d3d3d(0x373)]='closed',await this[_0x2d3d3d(0x5e9)](_0x1b9515),null;}if(_0x3cf5d6['type']===_0x2d3d3d(0x348)&&_0x3cf5d6[_0x2d3d3d(0x348)]['command']===_0x2d3d3d(0x130)&&_0x1b9515[_0x2d3d3d(0x427)])return _0x1b9515['chatLog'][_0x2d3d3d(0x2a5)]=_0x10cb91,await this[_0x2d3d3d(0x5e9)](_0x1b9515),null;let _0x36c364=await this[_0x2d3d3d(0x799)](_0x1b9515);if(_0x1b9515['chatLog']&&_0x1b9515[_0x2d3d3d(0x1ea)][_0x2d3d3d(0x288)]){let _0x4f0563=_0x1b9515[_0x2d3d3d(0x1ea)]['blockLogs']['filter'](_0x3be909=>String(_0x3be909['blockId'])===String(_0x10cb91))[_0x2d3d3d(0x6a9)];if(_0x3cf5d6['maxActives']!==void 0x0&&_0x4f0563>=_0x3cf5d6[_0x2d3d3d(0x240)]){let _0x43f435=Date[_0x2d3d3d(0x712)](),_0x21292d=_0x3cf5d6['stopMinutesMaxActives']??0xa;isNaN(_0x21292d)&&(_0x21292d=0xa);let _0x5edc49=_0x43f435+_0x21292d*0x3c*0x3e8,_0x30013e={'newStoppedUntil':_0x5edc49};return this[_0x2d3d3d(0x4e2)](_0x1b9515,_0x5edc49),this['updateConversation'](_0x1b9515,_0x3cf5d6,_0x30013e,!0x0),null;}}_0x36c364&&_0x36c364[_0x2d3d3d(0x767)]!==_0x2d3d3d(0x1c4)&&await this[_0x2d3d3d(0x791)](_0x1b9515,_0x36c364),_0x36c364||await this['saveConversationToDatabase'](_0x1b9515),_0x36c364&&_0x36c364[_0x2d3d3d(0x767)]===_0x2d3d3d(0x1c4)&&(_0x1b9515[_0x2d3d3d(0x1ea)][_0x2d3d3d(0x2a5)]=_0x10cb91,await this['saveConversationToDatabase'](_0x1b9515));}async[a0_0x50dea5(0x791)](_0xd485b2,_0x15ad9e){const _0x198db0=a0_0x50dea5;try{let _0x5a17bf=_0x15ad9e[_0x198db0(0x767)];this['logger'][_0x198db0(0x1f5)](this[_0x198db0(0x665)]+'\x20('+this['instance']['wuid']+_0x198db0(0x5e2)+_0x5a17bf);let _0x40ac0c={'uazapi':()=>this[_0x198db0(0x245)](_0xd485b2,_0x15ad9e),'save':()=>this[_0x198db0(0x1bb)](_0xd485b2,_0x15ad9e),'stop':()=>this[_0x198db0(0x761)](_0xd485b2,_0x15ad9e),'condition':()=>this[_0x198db0(0x4bf)](_0xd485b2,_0x15ad9e),'varedit':()=>this[_0x198db0(0x4f6)](_0xd485b2,_0x15ad9e),'apirequest':()=>this[_0x198db0(0x680)](_0xd485b2,_0x15ad9e),'goToFlow':()=>this[_0x198db0(0x76e)](_0xd485b2,_0x15ad9e),'awaitSeconds':()=>this['processawaitSeconds'](_0xd485b2,_0x15ad9e),'clearVariables':()=>this[_0x198db0(0x295)](_0xd485b2,_0x15ad9e)}[_0x5a17bf];_0x40ac0c&&await _0x40ac0c();}catch(_0x463d8a){this[_0x198db0(0x5c8)][_0x198db0(0x190)](this[_0x198db0(0x665)]+'\x20('+this[_0x198db0(0xdd)][_0x198db0(0x4ea)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x463d8a instanceof Error?_0x463d8a['message']:JSON['stringify'](_0x463d8a,null,0x2)));}}async[a0_0x50dea5(0x202)](_0x36d1c0,_0x29dc23){const _0xa288be=a0_0x50dea5;if(this[_0xa288be(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0xa288be(0xdd)][_0xa288be(0x4ea)]+'):\x20Entrou\x20na\x20funo\x20processawaitSeconds'),!_0x36d1c0||!_0x29dc23)return this[_0xa288be(0x5c8)]['error'](this[_0xa288be(0x665)]+'\x20('+this[_0xa288be(0xdd)]['wuid']+_0xa288be(0x48d)),null;let _0x1b83b2=+_0x29dc23[_0xa288be(0x550)];isNaN(_0x1b83b2)&&(_0x1b83b2=0x0),_0x1b83b2=Math[_0xa288be(0x3c0)](_0x1b83b2,0x3c),await(0x0,f[_0xa288be(0x538)])(_0x1b83b2*0x3e8);let _0x4fe85d={'moreLogs':[_0xa288be(0xfc)+_0x1b83b2+_0xa288be(0x36f)]};return await this[_0xa288be(0x4ba)](_0x36d1c0,_0x29dc23,_0x4fe85d),_0x1b83b2;}async[a0_0x50dea5(0x295)](_0x2cd34f,_0x1845a9){const _0x4bb7d4=a0_0x50dea5;if(this[_0x4bb7d4(0x5c8)][_0x4bb7d4(0x1f5)](this[_0x4bb7d4(0x665)]+'\x20('+this['instance'][_0x4bb7d4(0x4ea)]+_0x4bb7d4(0x400)),!_0x2cd34f||!_0x1845a9)return this['logger'][_0x4bb7d4(0x190)](this[_0x4bb7d4(0x665)]+'\x20('+this[_0x4bb7d4(0xdd)][_0x4bb7d4(0x4ea)]+_0x4bb7d4(0x48d)),null;let _0x48d0c4=[];if(_0x1845a9[_0x4bb7d4(0x177)][_0x4bb7d4(0x1ba)]()===_0x4bb7d4(0x693)){let _0xeedeb5=[_0x4bb7d4(0x563),_0x4bb7d4(0x1ca),_0x4bb7d4(0x6dc),'_remoteJid',_0x4bb7d4(0x3dd),'_fromMe'];_0x48d0c4=Object[_0x4bb7d4(0x165)](_0x2cd34f[_0x4bb7d4(0x1ea)]['realVariables'])['filter'](_0x5559db=>_0x5559db['startsWith']('_')&&!_0xeedeb5['includes'](_0x5559db));}else _0x48d0c4=_0x1845a9[_0x4bb7d4(0x177)][_0x4bb7d4(0x531)]('|')[_0x4bb7d4(0x298)](_0x306625=>(_0x306625=_0x306625[_0x4bb7d4(0x24a)](/[{}]/g,'')[_0x4bb7d4(0x1ba)](),_0x306625[_0x4bb7d4(0x702)]('_')?_0x306625:'_'+_0x306625));let _0x139a1e=[];_0x48d0c4[_0x4bb7d4(0x163)](_0x23dcf7=>{const _0x3b50c3=_0x4bb7d4;_0x23dcf7 in _0x2cd34f['chatLog']['realVariables']&&(delete _0x2cd34f[_0x3b50c3(0x1ea)][_0x3b50c3(0x29a)][_0x23dcf7],_0x139a1e[_0x3b50c3(0x112)](_0x23dcf7));}),_0x139a1e[_0x4bb7d4(0x6a9)]>0x0?this[_0x4bb7d4(0x5c8)][_0x4bb7d4(0x1f5)](this['instanceName']+'\x20('+this[_0x4bb7d4(0xdd)][_0x4bb7d4(0x4ea)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20'+_0x139a1e[_0x4bb7d4(0x243)](',\x20')):this['logger'][_0x4bb7d4(0x1f5)](this[_0x4bb7d4(0x665)]+'\x20('+this['instance'][_0x4bb7d4(0x4ea)]+_0x4bb7d4(0x51b));let _0xe21bc0={'moreLogs':[_0x4bb7d4(0xf1)+_0x139a1e[_0x4bb7d4(0x243)](',\x20')]};return await this[_0x4bb7d4(0x4ba)](_0x2cd34f,_0x1845a9,_0xe21bc0),null;}async[a0_0x50dea5(0x76e)](_0x3fc4e4,_0x5810c0){const _0x662078=a0_0x50dea5;if(this[_0x662078(0x5c8)]['verbose'](this[_0x662078(0x665)]+'\x20('+this[_0x662078(0xdd)][_0x662078(0x4ea)]+_0x662078(0x53d)),!_0x3fc4e4||!_0x5810c0)return this[_0x662078(0x5c8)][_0x662078(0x190)](this['instanceName']+'\x20('+this[_0x662078(0xdd)][_0x662078(0x4ea)]+_0x662078(0x48d)),null;await this[_0x662078(0x4ba)](_0x3fc4e4,_0x5810c0,{},!0x0,!0x0),console['log'](_0x662078(0x286)),console[_0x662078(0x1b3)](_0x5810c0);let _0x3a5884=_0x5810c0[_0x662078(0x132)];console[_0x662078(0x1b3)]('flowname:\x20',_0x3a5884),_0x3fc4e4=await this['createConversationforgoToFlow'](_0x3a5884,_0x3fc4e4[_0x662078(0x1be)],_0x3fc4e4[_0x662078(0x1ea)][_0x662078(0x29a)]),this[_0x662078(0x5c8)][_0x662078(0x1f5)](this[_0x662078(0x665)]+'\x20('+this[_0x662078(0xdd)]['wuid']+_0x662078(0x6ef));let _0x2c36ab=await this['NextBlock'](_0x3fc4e4);_0x2c36ab&&await this['processblock'](_0x3fc4e4,_0x2c36ab);}async[a0_0x50dea5(0x5a0)](_0x188b07,_0x4937f1,_0xf19d30){const _0xe54330=a0_0x50dea5;this[_0xe54330(0x5c8)]['verbose'](this[_0xe54330(0x665)]+'\x20('+this[_0xe54330(0xdd)][_0xe54330(0x4ea)]+_0xe54330(0x1c3));try{if(_0x188b07=await this[_0xe54330(0x65f)][_0xe54330(0x34b)][_0xe54330(0xcc)]({'where':{'name':_0x188b07}},this[_0xe54330(0xdd)][_0xe54330(0x4ea)]),!_0x188b07)return this[_0xe54330(0x5c8)][_0xe54330(0x190)](this[_0xe54330(0x665)]+'\x20('+this[_0xe54330(0xdd)]['wuid']+_0xe54330(0x3b3)),null;let _0xd0d4cb=require(_0xe54330(0x759))[_0xe54330(0x2ee)],_0x1c18fb=Date['now'](),_0x55ac39=_0xe54330(0x160),_0x426a51={},_0xe134d3={},_0x2dceea={..._0x188b07,'chatLog':null},_0x3cebac={'lastReceivedMessage':_0x426a51,'lastSendMessage':_0xe134d3,'lastBlockId':_0x55ac39,'lastCondition':!0x0,'realVariables':_0xf19d30};_0x2dceea[_0xe54330(0x1ea)]=_0x3cebac,_0x2dceea[_0xe54330(0x1ea)][_0xe54330(0x29a)]={..._0xf19d30},delete _0x2dceea[_0xe54330(0x3dd)],_0x2dceea[_0xe54330(0x3dd)]=new _0xd0d4cb(),_0x2dceea[_0xe54330(0x3f0)]=_0x1c18fb,_0x2dceea[_0xe54330(0x373)]=_0xe54330(0x6a3),_0x2dceea[_0xe54330(0x1be)]=_0x4937f1;let _0x5a8f0c=await this[_0xe54330(0x65f)][_0xe54330(0x750)][_0xe54330(0x11c)](_0x2dceea[_0xe54330(0x3dd)],_0x2dceea,this[_0xe54330(0xdd)][_0xe54330(0x4ea)]);return this[_0xe54330(0x5c8)][_0xe54330(0x1f5)](this[_0xe54330(0x665)]+'\x20('+this[_0xe54330(0xdd)][_0xe54330(0x4ea)]+_0xe54330(0x6fe)),_0x5a8f0c?_0x2dceea:null;}catch(_0x2194b5){let _0x16d133=_0xe54330(0x709),_0x518963=_0x2194b5 instanceof Error?_0x2194b5['message']:typeof _0x2194b5==_0xe54330(0x471)?JSON[_0xe54330(0x581)](_0x2194b5):_0x2194b5,_0x12bb25=_0x16d133+':\x20'+_0x518963;throw this[_0xe54330(0x5c8)]['error'](this[_0xe54330(0x665)]+'\x20('+this[_0xe54330(0xdd)][_0xe54330(0x4ea)]+_0xe54330(0x5fd)+_0x12bb25),new w(_0x12bb25);}}async[a0_0x50dea5(0x680)](_0x1a7346,_0x3c5447){const _0x54cc05=a0_0x50dea5;let _0x433ea7,_0xbcbe96;try{let _0x2b5f8f=_0x3c5447[_0x54cc05(0x27a)];if(!_0x2b5f8f||!_0x2b5f8f['url']||!_0x2b5f8f[_0x54cc05(0x5ed)])throw new Error(_0x54cc05(0x546));let _0x20032f;(['https://api.openai.com/v1/audio/speech',_0x54cc05(0x571),_0x54cc05(0x55b)]['some'](_0x519890=>_0x2b5f8f[_0x54cc05(0xf5)]['includes'](_0x519890))||_0x2b5f8f[_0x54cc05(0x38a)])&&(_0x20032f=_0x54cc05(0x505));let _0x301ae7='\u205f',_0x348834;try{_0x348834=JSON[_0x54cc05(0x11e)](_0x2b5f8f[_0x54cc05(0x347)][_0x54cc05(0x24a)](new RegExp(_0x301ae7,'g'),''));}catch(_0xbe4304){throw _0xbe4304;}let _0x5db29c={'method':_0x2b5f8f[_0x54cc05(0x5ed)],'url':_0x2b5f8f[_0x54cc05(0xf5)],'headers':_0x2b5f8f['header']||{},..._0x2b5f8f[_0x54cc05(0x5ed)][_0x54cc05(0x56b)]()!=='GET'&&_0x2b5f8f['bodyString']?{'data':JSON[_0x54cc05(0x11e)](_0x2b5f8f[_0x54cc05(0x347)][_0x54cc05(0x24a)](new RegExp(_0x301ae7,'g'),''))}:{},..._0x20032f&&{'responseType':_0x20032f}},_0x4ddfbc=await(0x0,K[_0x54cc05(0x378)])(_0x5db29c),_0x4995e1=_0x4ddfbc[_0x54cc05(0x33f)]['content-type'];if(_0x4995e1&&_0x4995e1[_0x54cc05(0x58a)](_0x54cc05(0x36b))||typeof _0x4ddfbc[_0x54cc05(0x478)]==_0x54cc05(0x2d6)){if(typeof _0x4ddfbc[_0x54cc05(0x478)]==_0x54cc05(0x2d6)){let _0x410591=_0x4ddfbc[_0x54cc05(0x478)][_0x54cc05(0x24a)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x54cc05(0x1ba)]();try{_0x433ea7=JSON['parse'](_0x410591);}catch(_0x29208c){console[_0x54cc05(0x190)](_0x54cc05(0x660)+_0x29208c[_0x54cc05(0x47f)]),_0x433ea7={'_apiResponse':_0x4ddfbc['data']};}}else _0x433ea7=_0x4ddfbc[_0x54cc05(0x478)];let _0xfb0fad=_0x1a7346[_0x54cc05(0x1ea)]['realVariables'],_0x350172=this[_0x54cc05(0x2a8)](_0x433ea7);return Object[_0x54cc05(0x790)](_0xfb0fad,_0x350172),_0x1a7346[_0x54cc05(0x1ea)]['realVariables']=_0xfb0fad,_0xbcbe96={'error':!0x1,'apiResponse':_0x433ea7},this[_0x54cc05(0x4ba)](_0x1a7346,_0x3c5447,_0xbcbe96),_0x433ea7;}if(_0x4995e1&&(_0x4995e1[_0x54cc05(0x58a)](_0x54cc05(0x670))||_0x4995e1[_0x54cc05(0x58a)](_0x54cc05(0x764))||_0x4995e1['includes'](_0x54cc05(0x574))||_0x4995e1[_0x54cc05(0x58a)](_0x54cc05(0x358)))){this[_0x54cc05(0x5c8)][_0x54cc05(0x1f5)](this[_0x54cc05(0x665)]+'\x20('+this['instance']['wuid']+_0x54cc05(0x21e)+_0x4995e1);let _0x477cff=(0x0,Lt['v4'])(),_0x1d80e8='',_0x2d6489={'image/jpeg':'.jpg','image/png':_0x54cc05(0x4be),'image/gif':_0x54cc05(0x2e4),'image/webp':_0x54cc05(0x79c),'image/svg+xml':'.svg','audio/mpeg':_0x54cc05(0x274),'audio/ogg':'.ogg','audio/wav':_0x54cc05(0x51e),'video/mp4':_0x54cc05(0x199),'video/webm':_0x54cc05(0x1d2),'video/ogg':_0x54cc05(0x3a5),'text/plain':'.txt','application/pdf':_0x54cc05(0x5d6),'application/msword':_0x54cc05(0x492),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x54cc05(0x568),'application/vnd.ms-excel':_0x54cc05(0x51a),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x54cc05(0x6b4),'application/vnd.ms-powerpoint':_0x54cc05(0x13a),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x54cc05(0x74b)};_0x2d6489[_0x4995e1]?(_0x1d80e8=_0x2d6489[_0x4995e1],this[_0x54cc05(0x5c8)]['verbose'](this[_0x54cc05(0x665)]+'\x20('+this[_0x54cc05(0xdd)][_0x54cc05(0x4ea)]+_0x54cc05(0x481)+_0x1d80e8)):(_0x1d80e8=_0x54cc05(0x381),this[_0x54cc05(0x5c8)][_0x54cc05(0x1f5)](this[_0x54cc05(0x665)]+'\x20('+this[_0x54cc05(0xdd)][_0x54cc05(0x4ea)]+_0x54cc05(0x4e1)+_0x1d80e8)),_0x477cff+=_0x1d80e8,this[_0x54cc05(0x5c8)][_0x54cc05(0x1f5)](this[_0x54cc05(0x665)]+'\x20('+this[_0x54cc05(0xdd)]['wuid']+_0x54cc05(0x746)+_0x477cff);let _0x3e1d70=this[_0x54cc05(0x5fc)][_0x54cc05(0x42a)](_0x54cc05(0x1d1))[_0x54cc05(0x5e5)];if(!_0x3e1d70){let _0x5a5103=this[_0x54cc05(0x5fc)][_0x54cc05(0x42a)](_0x54cc05(0x179));_0x3e1d70='https://'+(_0x5a5103&&_0x5a5103['FULLCHAIN'][_0x54cc05(0x531)]('/')[0x4]);}let _0x1ac467=Buffer[_0x54cc05(0x462)](_0x4ddfbc[_0x54cc05(0x478)]);await this['saveMediaToFile'](_0x1ac467,_0x477cff);let _0x3ef08b=_0x54cc05(0x459)+_0x477cff;_0x3ef08b=''+_0x3e1d70+_0x3ef08b,_0x433ea7={'fileUrl':_0x3ef08b},_0x1a7346['chatLog'][_0x54cc05(0x29a)]['fileUrl']=_0x3ef08b;let _0x319f3f=_0x1a7346[_0x54cc05(0x1ea)][_0x54cc05(0x29a)],_0x2c3eaa=this['flattenObject'](_0x433ea7);return Object[_0x54cc05(0x790)](_0x319f3f,_0x2c3eaa),_0x1a7346[_0x54cc05(0x1ea)][_0x54cc05(0x29a)]=_0x319f3f,_0xbcbe96={'error':!0x1,'apiResponse':{'fileUrl':_0x3ef08b}},this[_0x54cc05(0x4ba)](_0x1a7346,_0x3c5447,_0xbcbe96),_0x433ea7;}}catch(_0x5190e8){console[_0x54cc05(0x190)](_0x54cc05(0x3ae),_0x5190e8[_0x54cc05(0x47f)]),_0x5190e8['response']&&(_0x433ea7=_0x5190e8[_0x54cc05(0x700)][_0x54cc05(0x478)]);let _0x304a0=_0x1a7346[_0x54cc05(0x1ea)]['realVariables'],_0x51c4b3=this[_0x54cc05(0x2a8)](_0x433ea7);return Object['assign'](_0x304a0,_0x51c4b3),_0x1a7346['chatLog']['realVariables']=_0x304a0,_0xbcbe96={'error':!0x0,'errorLog':_0x5190e8['toString'](),'apiResponse':_0x433ea7},this[_0x54cc05(0x4ba)](_0x1a7346,_0x3c5447,_0xbcbe96),{'success':!0x1};}}[a0_0x50dea5(0x435)](_0x501803,_0x242d8e){const _0x481937=a0_0x50dea5;let _0x571f70=_0xa825cb=>{const _0x3d4197=a0_0x4934;let _0x1f962a=_0xa825cb[_0x3d4197(0x24a)](/[^0-9.,-]/g,'')[_0x3d4197(0x24a)](',','.'),_0x284171=parseFloat(_0x1f962a);return isNaN(_0x284171)?null:_0x284171;},_0x2cbc42=_0x242d8e[_0x481937(0x55c)],_0x51b5b2=_0x242d8e[_0x481937(0x397)];typeof _0x2cbc42==_0x481937(0x2d6)&&(_0x2cbc42=this[_0x481937(0x49d)](_0x2cbc42,_0x501803[_0x481937(0x1ea)][_0x481937(0x29a)])??''),typeof _0x51b5b2==_0x481937(0x2d6)&&(_0x51b5b2=this[_0x481937(0x49d)](_0x51b5b2,_0x501803[_0x481937(0x1ea)][_0x481937(0x29a)])??'');let _0x152b02=null;if(!_0x242d8e[_0x481937(0x21a)])return null;switch(this['logger'][_0x481937(0x1f5)](this[_0x481937(0x665)]+'\x20('+this[_0x481937(0xdd)][_0x481937(0x4ea)]+_0x481937(0x6e7)+_0x2cbc42),this['logger'][_0x481937(0x1f5)](this[_0x481937(0x665)]+'\x20('+this[_0x481937(0xdd)][_0x481937(0x4ea)]+_0x481937(0x192)+_0x51b5b2),_0x242d8e['editOperator']){case'+':case'-':case'*':case'/':let _0xc8fce6=_0x571f70(_0x2cbc42||'0'),_0x5a3e07=_0x571f70(_0x51b5b2||'0');if(_0xc8fce6===null)return null;switch(_0x242d8e[_0x481937(0x21a)]){case'+':_0x152b02=_0xc8fce6+(_0x5a3e07??0x0);break;case'-':_0x152b02=_0xc8fce6-(_0x5a3e07??0x0);break;case'*':_0x152b02=_0xc8fce6*(_0x5a3e07??0x1);break;case'/':_0x5a3e07!==0x0&&(_0x152b02=_0xc8fce6/(_0x5a3e07??0x1));break;}break;case _0x481937(0x453):case _0x481937(0x404):let _0xf06607=_0x51b5b2,_0x90664d=_0x242d8e['replaceValue'];if(typeof _0x90664d=='string'&&(_0x90664d=this[_0x481937(0x49d)](_0x90664d,_0x501803[_0x481937(0x1ea)][_0x481937(0x29a)])??''),_0xf06607&&_0x90664d!==void 0x0){let _0x52ce4a=_0x242d8e['editOperator']===_0x481937(0x453)?new RegExp(_0xf06607[_0x481937(0x24a)](/[-\/\\^$*+?.()|[\]{}]/g,_0x481937(0xea)),'g'):new RegExp(_0xf06607,'g');_0x152b02=_0x2cbc42[_0x481937(0x24a)](_0x52ce4a,_0x90664d);}else console[_0x481937(0x7a5)](_0x481937(0x3ac));break;case _0x481937(0x5b6):_0x152b02=_0x51b5b2;break;case _0x481937(0xf7):let _0x2a8517=_0x2cbc42[_0x481937(0x148)](new RegExp(_0x51b5b2||''));_0x152b02=_0x2a8517?_0x2a8517[0x0]:'';break;case _0x481937(0x398):_0x152b02=_0x2cbc42['slice'](0x0,parseInt(_0x51b5b2||'0'));break;case _0x481937(0x3e3):let _0x3e43c8=parseInt(_0x51b5b2||'0');_0x152b02=_0x2cbc42[_0x481937(0x73d)](_0x2cbc42[_0x481937(0x6a9)]-_0x3e43c8);break;case'toBrazilianNumberFormat':let _0x2cf333=_0x571f70(_0x2cbc42),_0x6a0046=parseInt(_0x51b5b2||'0');_0x6a0046=Math['abs'](_0x6a0046),_0x2cf333!==null?_0x152b02=_0x2cf333[_0x481937(0x48b)](_0x481937(0x3cf),{'minimumFractionDigits':_0x6a0046,'maximumFractionDigits':_0x6a0046}):(console[_0x481937(0x7a5)](_0x481937(0x528)+_0x2cbc42),_0x152b02=null);break;case'toBRL':let _0x56611e=_0x571f70(_0x2cbc42);_0x56611e!==null?_0x152b02=_0x56611e[_0x481937(0x48b)](_0x481937(0x3cf),{'style':'currency','currency':'BRL'}):(console[_0x481937(0x7a5)](_0x481937(0xe4)+_0x2cbc42),_0x152b02=null);break;case _0x481937(0x6c3):_0x152b02=_0x2cbc42['toUpperCase']();break;case'lowerCase':_0x152b02=_0x2cbc42[_0x481937(0x228)]();break;case _0x481937(0x3b9):_0x152b02=_0x2cbc42[_0x481937(0x531)]('\x20')[_0x481937(0x298)](_0x18de05=>_0x18de05[_0x481937(0x406)](0x0)[_0x481937(0x56b)]()+_0x18de05['slice'](0x1)[_0x481937(0x228)]())[_0x481937(0x243)]('\x20');break;case _0x481937(0x3ab):_0x152b02=_0x2cbc42[_0x481937(0x1ba)]();break;default:_0x152b02=_0x2cbc42;}return _0x152b02!==null?_0x152b02[_0x481937(0x4b1)]():null;}async[a0_0x50dea5(0x4f6)](_0x3c0036,_0x4bac2a){const _0x2dc815=a0_0x50dea5;try{let _0x332f56=_0x3c0036[_0x2dc815(0x3e2)]?.[_0x2dc815(0x6ee)](_0x2f2e6f=>_0x2f2e6f[_0x2dc815(0x3f5)]===_0x4bac2a[_0x2dc815(0x3dd)]?.[_0x2dc815(0x4b1)]())||[],_0x3fd35d=_0x4bac2a[_0x2dc815(0x424)],_0x34f4ea=null,_0x163b72=[],_0x498360=_0x3c0036[_0x2dc815(0x1ea)][_0x2dc815(0x29a)][_0x3fd35d];_0x163b72[_0x2dc815(0x112)]('Valor\x20inicial:\x20\x22'+_0x498360+'\x22');for(let _0x21da6a of _0x332f56){_0x21da6a[_0x2dc815(0x55c)]=_0x498360,_0x34f4ea=_0x21da6a[_0x2dc815(0x55c)];let _0xda2225;try{_0xda2225=this[_0x2dc815(0x435)](_0x3c0036,_0x21da6a);}catch(_0x36cbe7){console[_0x2dc815(0x190)](_0x2dc815(0x707)+_0x36cbe7[_0x2dc815(0x47f)]);continue;}if(_0xda2225!==null){let _0x34dee8=_0x2dc815(0x352)+_0x21da6a[_0x2dc815(0x21a)]+'\x22',_0x1825f7=[_0x2dc815(0x41e),'upperCase',_0x2dc815(0x2c1),_0x2dc815(0x3b9),'trimmed'];_0x21da6a['editOperator']===_0x2dc815(0x453)||_0x21da6a[_0x2dc815(0x21a)]===_0x2dc815(0x404)?_0x34dee8+=_0x2dc815(0x569)+_0x21da6a[_0x2dc815(0x397)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x21da6a['replaceValue']+'\x22':!_0x1825f7[_0x2dc815(0x58a)](_0x21da6a['editOperator'])&&_0x21da6a[_0x2dc815(0x397)]!==null&&_0x21da6a[_0x2dc815(0x397)]!==void 0x0&&(_0x34dee8+=_0x2dc815(0x405)+_0x21da6a['secondValue']+'\x22'),_0x34dee8+=_0x2dc815(0x2c8)+_0xda2225+'.',_0x163b72[_0x2dc815(0x112)](_0x34dee8);}_0xda2225!==null&&(_0x498360=_0xda2225);}if(_0x3c0036[_0x2dc815(0x1ea)]['realVariables']&&_0x4bac2a[_0x2dc815(0x424)]){_0x3c0036[_0x2dc815(0x1ea)][_0x2dc815(0x29a)][_0x4bac2a[_0x2dc815(0x424)]]=_0x498360;let _0x5b1d52={'variable':_0x4bac2a[_0x2dc815(0x424)],'oldValue':_0x34f4ea,'newValue':_0x498360,'moreLogs':_0x163b72};try{this[_0x2dc815(0x4ba)](_0x3c0036,_0x4bac2a,_0x5b1d52);}catch(_0xf72fae){console[_0x2dc815(0x190)](_0x2dc815(0x783)+_0xf72fae[_0x2dc815(0x47f)]);}}return _0x3fd35d;}catch(_0x322500){return console[_0x2dc815(0x190)](_0x2dc815(0x342)+_0x322500[_0x2dc815(0x47f)]),null;}}async[a0_0x50dea5(0x4bf)](_0x457f6f,_0x320570){const _0x3964fe=a0_0x50dea5;try{let _0xe561f5=[],_0x492adf=_0x457f6f[_0x3964fe(0x4ec)][_0x3964fe(0x6ee)](_0x19fcac=>_0x19fcac['blockId']===_0x320570['_id'][_0x3964fe(0x4b1)]()),_0xceb210=null,_0x4e8e1b=!0x1;for(let _0xe4749e of _0x492adf){let _0x16ab0b=this['evaluateCondition'](_0x457f6f,_0xe4749e);_0xe561f5['push'](_0x3964fe(0x455)+_0xe4749e[_0x3964fe(0x55c)]+_0x3964fe(0x28b)+_0xe4749e[_0x3964fe(0x17b)]+_0x3964fe(0x447)+_0xe4749e[_0x3964fe(0x397)]+_0x3964fe(0x18a)+_0x16ab0b),_0xceb210===null?_0xceb210=_0x16ab0b:_0xe4749e['OrAnd']==='and'?(_0xceb210=_0xceb210&&_0x16ab0b,_0x16ab0b||(_0x4e8e1b=!0x0)):_0xe4749e[_0x3964fe(0x4ad)]==='or'&&(_0x4e8e1b||(_0xceb210=_0xceb210||_0x16ab0b));}_0xceb210===null&&(_0xceb210=!0x0);let _0x2fc6dc={'moreLogs':_0xe561f5};_0x457f6f[_0x3964fe(0x1ea)]['lastCondition']=_0xceb210,await this[_0x3964fe(0x4ba)](_0x457f6f,_0x320570,_0x2fc6dc);}catch(_0x11a09f){this['logger'][_0x3964fe(0x190)](this[_0x3964fe(0x665)]+'\x20('+this[_0x3964fe(0xdd)]['wuid']+_0x3964fe(0x5d2)+(_0x11a09f instanceof Error?_0x11a09f[_0x3964fe(0x47f)]:JSON['stringify'](_0x11a09f,null,0x2)));}}[a0_0x50dea5(0x392)](_0x29909c,_0x1181b6){const _0x4ee0f2=a0_0x50dea5;let _0x14f196=_0x1181b6[_0x4ee0f2(0x55c)],_0x58573d=_0x1181b6[_0x4ee0f2(0x397)];typeof _0x14f196==_0x4ee0f2(0x2d6)&&(_0x14f196=this['replaceVariables'](_0x14f196,_0x29909c['chatLog'][_0x4ee0f2(0x29a)])??''),typeof _0x58573d==_0x4ee0f2(0x2d6)&&(_0x58573d=this[_0x4ee0f2(0x49d)](_0x58573d,_0x29909c[_0x4ee0f2(0x1ea)]['realVariables'])??'');try{switch(_0x1181b6['expression']){case _0x4ee0f2(0x188):return _0x14f196===_0x58573d;case _0x4ee0f2(0x784):return _0x14f196!==_0x58573d;case _0x4ee0f2(0x3f3):return this['contains'](_0x14f196,_0x58573d);case _0x4ee0f2(0x730):return!this[_0x4ee0f2(0x3f3)](_0x14f196,_0x58573d);case'greater':return parseFloat(_0x14f196)>parseFloat(_0x58573d);case _0x4ee0f2(0x2eb):return parseFloat(_0x14f196)<parseFloat(_0x58573d);case _0x4ee0f2(0x655):return _0x14f196!=='';case _0x4ee0f2(0x4d3):return _0x14f196==='';case'matchRegex':return new RegExp(_0x58573d)[_0x4ee0f2(0x632)](_0x14f196);case _0x4ee0f2(0x485):return!new RegExp(_0x58573d)['test'](_0x14f196);default:return!0x1;}}catch(_0x4d0126){return console[_0x4ee0f2(0x190)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x4d0126),!0x1;}}[a0_0x50dea5(0x3f3)](_0x13c6b9,_0x33e084){const _0x7cb1ca=a0_0x50dea5;if(_0x13c6b9===_0x33e084&&/^\d+$/['test'](_0x13c6b9))return!0x0;if(this[_0x7cb1ca(0x5fa)](_0x13c6b9)&&/^\d+$/[_0x7cb1ca(0x632)](_0x33e084)){let _0x15f6b5=_0x13c6b9[_0x7cb1ca(0x531)](',')[_0x7cb1ca(0x298)](_0x3e0e71=>parseInt(_0x3e0e71['trim']())),_0x39927a=parseInt(_0x33e084);return _0x15f6b5[_0x7cb1ca(0x58a)](_0x39927a);}return _0x13c6b9[_0x7cb1ca(0x58a)](_0x33e084);}[a0_0x50dea5(0x5fa)](_0x22ff75){const _0x238306=a0_0x50dea5;return/^\d+(,\d+)*$/[_0x238306(0x632)](_0x22ff75);}['processConditionsTest'](_0xbeddb1){const _0x570c66=a0_0x50dea5;let _0x50136f=!0x0,_0x1ec4c0=null;for(let _0xfbea21 of _0xbeddb1){let _0x37d1b7=this[_0x570c66(0x697)](_0xfbea21);if(_0x1ec4c0==='or'&&_0x37d1b7){_0x50136f=!0x0;break;}if(_0x1ec4c0===_0x570c66(0x2e6)&&!_0x37d1b7){_0x50136f=!0x1;break;}_0x1ec4c0=_0xfbea21[_0x570c66(0x4ad)];}return _0x50136f;}[a0_0x50dea5(0x697)](_0x41808a){const _0x3aeaf2=a0_0x50dea5;let _0x1f13f8=_0x41808a[_0x3aeaf2(0x55c)],_0x21c561=_0x41808a[_0x3aeaf2(0x397)];try{switch(_0x41808a[_0x3aeaf2(0x17b)]){case _0x3aeaf2(0x188):return String(_0x1f13f8)===String(_0x21c561);case _0x3aeaf2(0x784):return String(_0x1f13f8)!==String(_0x21c561);case'contains':return String(_0x1f13f8)[_0x3aeaf2(0x58a)](String(_0x21c561));case _0x3aeaf2(0x730):return!String(_0x1f13f8)[_0x3aeaf2(0x58a)](String(_0x21c561));case _0x3aeaf2(0x1ec):return parseFloat(String(_0x1f13f8))>parseFloat(String(_0x21c561));case'less':return parseFloat(String(_0x1f13f8))<parseFloat(String(_0x21c561));case _0x3aeaf2(0x655):return String(_0x1f13f8)!=='';case _0x3aeaf2(0x4d3):return String(_0x1f13f8)==='';case _0x3aeaf2(0x50b):return new RegExp(String(_0x21c561))[_0x3aeaf2(0x632)](String(_0x1f13f8));case _0x3aeaf2(0x485):return!new RegExp(String(_0x21c561))[_0x3aeaf2(0x632)](String(_0x1f13f8));default:return!0x1;}}catch(_0x114417){return console[_0x3aeaf2(0x190)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x114417),!0x1;}}async['saveTextReply'](_0x4f3a3c,_0x6f8a3){const _0x2cb6a=a0_0x50dea5;if(this[_0x2cb6a(0x5c8)][_0x2cb6a(0x1f5)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+_0x2cb6a(0x175)),!_0x4f3a3c||!_0x6f8a3)return this[_0x2cb6a(0x5c8)][_0x2cb6a(0x190)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x49c38c=_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x223)]['key']['id'];this['logger'][_0x2cb6a(0x1f5)](this['instanceName']+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x49c38c);let _0x10d363={'key':{'id':_0x49c38c}},_0x41a35e=_0x6f8a3[_0x2cb6a(0x424)];_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)]['_'+_0x41a35e+_0x2cb6a(0x5c0)]=null,_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)]['_'+_0x41a35e+_0x2cb6a(0x237)]=null,_0x4f3a3c[_0x2cb6a(0x1ea)]['realVariables']['_'+_0x41a35e+_0x2cb6a(0x216)]=null,_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)]['_'+_0x41a35e+'.type']=_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x223)]['type'];try{let _0x25db7a=await this[_0x2cb6a(0x533)](_0x10d363);this[_0x2cb6a(0x5c8)][_0x2cb6a(0x1f5)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+_0x2cb6a(0x766)),_0x4f3a3c['chatLog'][_0x2cb6a(0x29a)]['_'+_0x41a35e+_0x2cb6a(0x6cf)]=_0x25db7a[_0x2cb6a(0x169)],_0x4f3a3c[_0x2cb6a(0x1ea)]['realVariables']['_'+_0x41a35e+'.mimetype']=_0x25db7a[_0x2cb6a(0x2e1)];let _0x4bf1ef=_0x25db7a[_0x2cb6a(0x2e1)]['match'](/\/(\w+)$/),_0x4bdc1f=_0x4bf1ef?_0x4bf1ef[0x1]:null;_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)]['_'+_0x41a35e+_0x2cb6a(0x216)]=_0x4bdc1f,this[_0x2cb6a(0x5c8)][_0x2cb6a(0x1f5)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+_0x2cb6a(0x32b)+_0x41a35e+'\x27.');}catch(_0x59d240){this['logger'][_0x2cb6a(0x190)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20'+_0x59d240);}let _0x5de516=_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x223)]['text']||_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x223)][_0x2cb6a(0x71f)]||_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x223)][_0x2cb6a(0xf3)];try{_0x4f3a3c['chatLog'][_0x2cb6a(0x29a)]||(_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)]={});let _0x27eb5e=_0x4f3a3c['chatLog'][_0x2cb6a(0x29a)][_0x41a35e];_0x4f3a3c[_0x2cb6a(0x1ea)][_0x2cb6a(0x29a)][_0x41a35e]=_0x5de516;let _0x5c5b52={'variable':_0x41a35e,'oldValue':_0x27eb5e,'newValue':_0x5de516};this['updateConversation'](_0x4f3a3c,_0x6f8a3,_0x5c5b52),this[_0x2cb6a(0x5c8)][_0x2cb6a(0x1f5)](this['instanceName']+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+_0x2cb6a(0x2be));}catch(_0x306461){let _0x4198fd={'error':!0x0,'errorLog':_0x306461[_0x2cb6a(0x4b1)]()};return this[_0x2cb6a(0x4ba)](_0x4f3a3c,_0x6f8a3,_0x4198fd),this[_0x2cb6a(0x5c8)][_0x2cb6a(0x190)](this[_0x2cb6a(0x665)]+'\x20('+this[_0x2cb6a(0xdd)][_0x2cb6a(0x4ea)]+_0x2cb6a(0x56a)+(_0x306461 instanceof Error?_0x306461['message']:JSON[_0x2cb6a(0x581)](_0x306461,null,0x2))),null;}}async[a0_0x50dea5(0x761)](_0x4be9e7,_0x5a0b59){const _0x17147e=a0_0x50dea5;if(this[_0x17147e(0x5c8)][_0x17147e(0x1f5)](this[_0x17147e(0x665)]+'\x20('+this[_0x17147e(0xdd)][_0x17147e(0x4ea)]+'):\x20Entrou\x20na\x20funo\x20stop'),!_0x4be9e7||!_0x5a0b59)return this['logger'][_0x17147e(0x190)](this['instanceName']+'\x20('+this[_0x17147e(0xdd)][_0x17147e(0x4ea)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x1f9b90=Date[_0x17147e(0x712)](),_0x351e90=parseInt(_0x5a0b59[_0x17147e(0x3d8)],0xa);if(isNaN(_0x351e90))return this[_0x17147e(0x5c8)][_0x17147e(0x190)](this[_0x17147e(0x665)]+'\x20('+this[_0x17147e(0xdd)][_0x17147e(0x4ea)]+_0x17147e(0x4d5)),null;let _0x55ae3a={'newStoppedUntil':_0x1f9b90+_0x351e90*0x3c*0x3e8};return await this[_0x17147e(0x4ba)](_0x4be9e7,_0x5a0b59,_0x55ae3a,!0x0),null;}async['processUazapi'](_0x12a108,_0x30d5a2){const _0x37d05c=a0_0x50dea5;try{switch(_0x30d5a2[_0x37d05c(0x348)][_0x37d05c(0x640)]){case _0x37d05c(0x241):await this[_0x37d05c(0x254)](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x70b):await this['uazapiSendMedia'](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x201):await this[_0x37d05c(0x410)](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x63b):await this[_0x37d05c(0x390)](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x70d):await this[_0x37d05c(0x5b0)](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x130):await this[_0x37d05c(0x5cb)](_0x12a108,_0x30d5a2);break;case _0x37d05c(0x231):await this[_0x37d05c(0x5cb)](_0x12a108,_0x30d5a2);break;case'deleteMessage':await this[_0x37d05c(0x369)](_0x12a108,_0x30d5a2);break;default:this[_0x37d05c(0x5c8)][_0x37d05c(0x190)](this[_0x37d05c(0x665)]+'\x20('+this['instance'][_0x37d05c(0x4ea)]+'):\x20Comando\x20desconhecido:\x20'+_0x30d5a2[_0x37d05c(0x348)]['command']);}}catch(_0x333915){this['logger'][_0x37d05c(0x190)](this[_0x37d05c(0x665)]+'\x20('+this[_0x37d05c(0xdd)][_0x37d05c(0x4ea)]+_0x37d05c(0x1d4)+(_0x333915 instanceof Error?_0x333915[_0x37d05c(0x47f)]:JSON['stringify'](_0x333915,null,0x2)));}}async[a0_0x50dea5(0x4ba)](_0x194936,_0x6469c6,_0x110e42,_0x3b0e00=!0x1,_0x58bcf3=!0x1){const _0xb6d70e=a0_0x50dea5;_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x288)]||(_0x194936[_0xb6d70e(0x1ea)]['blockLogs']=[]);let _0x1fa773=(_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x288)]?.[_0xb6d70e(0x6a9)]??0x0)+0x1,_0x354a03=_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x288)][_0xb6d70e(0x6ee)](_0x5ce1f5=>String(_0x5ce1f5[_0xb6d70e(0x3f5)])===String(_0x6469c6['_id']))['length']+0x1,_0x2d6c9e=_0x110e42?.[_0xb6d70e(0x246)]??Date[_0xb6d70e(0x712)](),_0x2234f8=_0x110e42?.[_0xb6d70e(0x190)]?_0x110e42['errorLog']??_0x110e42[_0xb6d70e(0x190)][_0xb6d70e(0x4b1)]():void 0x0,_0x17bc37={'onTime':_0x2d6c9e,'blockId':_0x6469c6[_0xb6d70e(0x3dd)],'order':_0x1fa773,'activatedCount':_0x354a03,'error':_0x110e42?.['error']??!0x1,'messageId':_0x110e42?.[_0xb6d70e(0x5a3)],'apiResponse':_0x110e42?.[_0xb6d70e(0x701)],'apiResponseString':_0x110e42?.[_0xb6d70e(0x701)]?JSON[_0xb6d70e(0x581)](_0x110e42?.['apiResponse']):void 0x0,'variable':_0x110e42?.[_0xb6d70e(0x39d)],'oldValue':_0x110e42?.[_0xb6d70e(0x1fd)],'newValue':_0x110e42?.[_0xb6d70e(0x292)],'newStoppedUntil':_0x110e42?.['newStoppedUntil'],'moreLogs':_0x110e42?.[_0xb6d70e(0x65b)],'errorLog':_0x2234f8};if(_0x110e42[_0xb6d70e(0x65b)]&&_0x110e42[_0xb6d70e(0x65b)]['length']>0x0){let _0x3edd40=_0x110e42[_0xb6d70e(0x65b)][_0xb6d70e(0x298)](_0x1907de=>this[_0xb6d70e(0x748)](_0x1907de,_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x29a)]));_0x17bc37[_0xb6d70e(0x65b)]=_0x3edd40;}_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x29a)]||(_0x194936[_0xb6d70e(0x1ea)]['realVariables']={}),_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x29a)][_0xb6d70e(0x425)]=String(_0x354a03),_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x29a)][_0xb6d70e(0x1ca)]=String(_0x110e42[_0xb6d70e(0x190)]??!0x1),_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x288)]['push'](_0x17bc37),_0x194936['chatLog']['lastBlockId']=_0x6469c6['_id'][_0xb6d70e(0x4b1)](),_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x4ff)]&&(_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x4ff)]=_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x4ff)]),_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x223)]&&(_0x194936['chatLog'][_0xb6d70e(0x223)]=_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x223)]),_0x194936[_0xb6d70e(0x1ea)]['lastCondition']&&(_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x191)]=_0x194936[_0xb6d70e(0x1ea)][_0xb6d70e(0x191)]),_0x58bcf3&&(_0x194936[_0xb6d70e(0x373)]=_0xb6d70e(0x67c)),_0x3b0e00?this[_0xb6d70e(0x5e9)](_0x194936):this['goNextblock'](_0x194936,_0x6469c6);}[a0_0x50dea5(0x748)](_0x4bd8cd,_0x580f32){const _0x18c9b5=a0_0x50dea5;return _0x4bd8cd[_0x18c9b5(0x24a)](/\{\{([^}]+)\}\}/g,(_0xd77629,_0x3fb73e)=>_0x580f32[_0x3fb73e]?'{{'+_0x3fb73e+_0x18c9b5(0x4a6)+_0x580f32[_0x3fb73e]+'\x22':'{{'+_0x3fb73e+'}}\x20->\x20valor\x20no\x20encontrado');}async[a0_0x50dea5(0x5e9)](_0x19ca57){const _0x29bdea=a0_0x50dea5;try{let _0x65185a=Object['entries'](_0x19ca57['chatLog'][_0x29bdea(0x29a)])[_0x29bdea(0x298)](([_0x54fa31,_0x26a5ab])=>({'name':_0x54fa31,'value':_0x26a5ab})),_0x4694cb={'status':_0x19ca57['status'],'blocks':_0x19ca57[_0x29bdea(0x325)],'waitingMenu_id':_0x19ca57[_0x29bdea(0x427)],'waitingMenu_text':_0x19ca57[_0x29bdea(0x3bd)],'waitingMenu_replyOptions':_0x19ca57[_0x29bdea(0x4a7)],'chatLog':{'lastBlockId':_0x19ca57[_0x29bdea(0x1ea)][_0x29bdea(0x2a5)],'lastSendMessage':_0x19ca57['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x19ca57[_0x29bdea(0x1ea)][_0x29bdea(0x223)],'lastCondition':_0x19ca57[_0x29bdea(0x1ea)]['lastCondition'],'chatVariables':_0x65185a,'realVariables':_0x19ca57[_0x29bdea(0x1ea)]['realVariables'],'blockLogs':_0x19ca57['chatLog'][_0x29bdea(0x288)]}},_0x4bd17d=await this['repository'][_0x29bdea(0x750)]['updateOne'](_0x19ca57['_id'],_0x4694cb,this[_0x29bdea(0xdd)]['wuid']);if(_0x4bd17d){this['logger']['verbose'](this[_0x29bdea(0x665)]+'\x20('+this[_0x29bdea(0xdd)]['wuid']+_0x29bdea(0x19d)+_0x4bd17d[_0x29bdea(0x3dd)]);try{let _0x568540=['nome','nomecompleto',_0x29bdea(0x155),_0x29bdea(0x744),_0x29bdea(0x373),_0x29bdea(0xd6),'responsavelid',_0x29bdea(0x303),'etiquetas'];if(!this[_0x29bdea(0x55d)]&&(await this[_0x29bdea(0x785)](),!this[_0x29bdea(0x55d)]))throw new Error('AutomateSystem\x20no\x20foi\x20inicializado');let _0x2a297e=this[_0x29bdea(0x55d)]?.[_0x29bdea(0x705)][_0x29bdea(0x298)](_0x3ac715=>_0x3ac715['name']),_0x1bb496={};Object[_0x29bdea(0x273)](_0x19ca57[_0x29bdea(0x1ea)][_0x29bdea(0x29a)])[_0x29bdea(0x163)](([_0x54673e,_0x5c99c])=>{const _0x515c76=_0x29bdea;_0x568540['includes'](_0x54673e)&&(_0x54673e===_0x515c76(0x303)&&typeof _0x5c99c==_0x515c76(0x2d6)?_0x1bb496[_0x54673e]=_0x5c99c['split'](',')[_0x515c76(0x298)](_0x59d767=>_0x59d767[_0x515c76(0x1ba)]())['filter'](_0x9e74b8=>_0x9e74b8!==''):_0x54673e===_0x515c76(0x319)&&typeof _0x5c99c==_0x515c76(0x2d6)?_0x1bb496[_0x54673e]=_0x5c99c[_0x515c76(0x531)](',')['map'](_0x200dd7=>_0x200dd7[_0x515c76(0x1ba)]())[_0x515c76(0x6ee)](_0x1115e2=>_0x1115e2!==''):_0x1bb496[_0x54673e]=_0x5c99c);});let _0x2424c6=_0x19ca57['chatLog'][_0x29bdea(0x288)][_0x19ca57[_0x29bdea(0x1ea)]['blockLogs']['length']-0x1];if(_0x2424c6){let _0x5088fb=_0x2424c6[_0x29bdea(0x647)];_0x5088fb!==void 0x0&&(_0x1bb496['desativadoFluxoAte']=_0x5088fb[_0x29bdea(0x4b1)]());}let _0x5470de=_0x65185a[_0x29bdea(0x6ee)](_0x480a3a=>_0x2a297e[_0x29bdea(0x58a)](_0x480a3a[_0x29bdea(0x213)]));this[_0x29bdea(0x5c8)][_0x29bdea(0x1f5)](this[_0x29bdea(0x665)]+'\x20('+this[_0x29bdea(0xdd)][_0x29bdea(0x4ea)]+_0x29bdea(0x6e2)),this['logger']['verbose'](_0x1bb496),this[_0x29bdea(0x5c8)][_0x29bdea(0x1f5)](this[_0x29bdea(0x665)]+'\x20('+this['instance'][_0x29bdea(0x4ea)]+_0x29bdea(0x24d)),this[_0x29bdea(0x5c8)][_0x29bdea(0x1f5)](_0x5470de);let _0x31c074=_0x5470de[_0x29bdea(0x298)](_0x31be2b=>{const _0x2ef78f=_0x29bdea;let _0x5b663d=this[_0x2ef78f(0x55d)]?.[_0x2ef78f(0x705)][_0x2ef78f(0x3d9)](_0xdc7a69=>_0xdc7a69['name']===_0x31be2b['name']);if(!_0x5b663d)throw new Error('Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20'+_0x31be2b[_0x2ef78f(0x213)]);return{'_id':_0x5b663d['_id'],'value':_0x31be2b[_0x2ef78f(0x57e)]};});this[_0x29bdea(0x5c8)][_0x29bdea(0x1f5)](this[_0x29bdea(0x665)]+'\x20('+this[_0x29bdea(0xdd)][_0x29bdea(0x4ea)]+_0x29bdea(0x30f)),this[_0x29bdea(0x5c8)][_0x29bdea(0x1f5)](_0x31c074),await this[_0x29bdea(0x14b)](_0x19ca57[_0x29bdea(0x1be)],_0x1bb496,_0x31c074);}catch(_0x478826){this[_0x29bdea(0x5c8)][_0x29bdea(0x190)](this[_0x29bdea(0x665)]+'\x20('+this[_0x29bdea(0xdd)][_0x29bdea(0x4ea)]+_0x29bdea(0x2ba)+(_0x478826 instanceof Error?_0x478826[_0x29bdea(0x47f)]:JSON[_0x29bdea(0x581)](_0x478826,null,0x2)));}}else this[_0x29bdea(0x5c8)]['error'](this[_0x29bdea(0x665)]+'\x20('+this[_0x29bdea(0xdd)][_0x29bdea(0x4ea)]+_0x29bdea(0x4b8));}catch(_0x18455d){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x29bdea(0x4ea)]+_0x29bdea(0x25b)+(_0x18455d instanceof Error?_0x18455d[_0x29bdea(0x47f)]:JSON[_0x29bdea(0x581)](_0x18455d,null,0x2)));}}async[a0_0x50dea5(0x14b)](_0x1beb3e,_0x55b509,_0x2f225d){const _0x178648=a0_0x50dea5;try{let _0x355586={'leadInfo.leadnome':_0x55b509[_0x178648(0x5d9)],'leadInfo.nomecompleto':_0x55b509[_0x178648(0x195)],'leadInfo.email':_0x55b509[_0x178648(0x155)],'leadInfo.cpf':_0x55b509[_0x178648(0x744)],'leadInfo.status':_0x55b509['status'],'leadInfo.notas':_0x55b509[_0x178648(0xd6)],'leadInfo.responsavelid':_0x55b509['responsavelid'],'leadInfo.tags':_0x55b509['tags'],'leadInfo.etiquetas':_0x55b509[_0x178648(0x319)],'leadInfo.customFields':_0x2f225d},_0x5aba88=await this[_0x178648(0x65f)][_0x178648(0x30d)][_0x178648(0xcc)]({'where':{'_id':_0x1beb3e}},this[_0x178648(0xdd)][_0x178648(0x4ea)]),_0x53c36e=new Set(_0x5aba88[_0x178648(0x235)][_0x178648(0x319)]||[]),_0x4e684e=new Set(_0x55b509['etiquetas']||[]),_0x47d380=await this[_0x178648(0x65f)]['label'][_0x178648(0x3d9)]({'where':{}},this[_0x178648(0xdd)]['wuid']),_0x32a22b=new Set(_0x47d380[_0x178648(0x298)](_0x47eca1=>_0x47eca1[_0x178648(0x3dd)])),_0x4253af=[..._0x4e684e][_0x178648(0x6ee)](_0x4dfeb8=>!_0x53c36e[_0x178648(0x2c0)](_0x4dfeb8)&&_0x32a22b['has'](_0x4dfeb8)),_0x23af32=[..._0x53c36e][_0x178648(0x6ee)](_0x1d87d7=>!_0x4e684e[_0x178648(0x2c0)](_0x1d87d7));for(let _0x42c3b9 of _0x4253af)await this['AddChatLabel'](_0x42c3b9,_0x5aba88[_0x178648(0x3dd)]),_0x53c36e['add'](_0x42c3b9);for(let _0x2d4d56 of _0x23af32)await this[_0x178648(0x1f2)](_0x2d4d56,_0x5aba88[_0x178648(0x3dd)]),_0x53c36e[_0x178648(0x2ca)](_0x2d4d56);if(_0x178648(0x5e1)in _0x55b509){let _0x2bd69a=_0x55b509[_0x178648(0x5e1)];_0x355586[_0x178648(0x1cc)]=_0x2bd69a?Number(_0x2bd69a):null;}let _0x3359cb=await this[_0x178648(0x65f)][_0x178648(0x30d)][_0x178648(0x11c)]({'where':{'_id':_0x1beb3e}},_0x355586,this[_0x178648(0xdd)][_0x178648(0x4ea)]);_0x3359cb?(this[_0x178648(0x5c8)]['verbose'](this[_0x178648(0x665)]+'\x20('+this[_0x178648(0xdd)]['wuid']+_0x178648(0x47b)+_0x3359cb['_id']),J(this['instanceName'],_0x178648(0x439),{'chat':_0x3359cb})):this[_0x178648(0x5c8)][_0x178648(0x190)](this[_0x178648(0x665)]+'\x20('+this[_0x178648(0xdd)]['wuid']+_0x178648(0x532));}catch(_0x47ac09){this[_0x178648(0x5c8)]['error'](this[_0x178648(0x665)]+'\x20('+this[_0x178648(0xdd)][_0x178648(0x4ea)]+'):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x47ac09 instanceof Error?_0x47ac09[_0x178648(0x47f)]:JSON[_0x178648(0x581)](_0x47ac09,null,0x2)));}}async[a0_0x50dea5(0x4e2)](_0x1d8bfb,_0x38b4d2){const _0x43a4df=a0_0x50dea5;this[_0x43a4df(0x5c8)]['verbose'](this[_0x43a4df(0x665)]+'\x20('+this[_0x43a4df(0xdd)][_0x43a4df(0x4ea)]+_0x43a4df(0x20c)+_0x38b4d2);try{let _0x5324b7=await this[_0x43a4df(0x65f)][_0x43a4df(0x30d)][_0x43a4df(0x11c)]({'where':{'_id':_0x1d8bfb['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x38b4d2},this['instance'][_0x43a4df(0x4ea)]);this[_0x43a4df(0x5c8)][_0x43a4df(0x1f5)](this[_0x43a4df(0x665)]+'\x20('+this[_0x43a4df(0xdd)][_0x43a4df(0x4ea)]+_0x43a4df(0x79b)+_0x1d8bfb[_0x43a4df(0x3dd)]),this[_0x43a4df(0x5c8)][_0x43a4df(0x1f5)](this[_0x43a4df(0x665)]+'\x20('+this[_0x43a4df(0xdd)][_0x43a4df(0x4ea)]+'):\x20atualizao\x20chat:\x20'+JSON['stringify'](_0x5324b7,null,0x2)),_0x5324b7&&J(this[_0x43a4df(0x665)],_0x43a4df(0x439),{'chat':_0x5324b7});}catch(_0x186514){this[_0x43a4df(0x5c8)]['error'](this[_0x43a4df(0x665)]+'\x20('+this[_0x43a4df(0xdd)][_0x43a4df(0x4ea)]+_0x43a4df(0x3e0)+(_0x186514 instanceof Error?_0x186514['message']:JSON[_0x43a4df(0x581)](_0x186514,null,0x2)));}}async[a0_0x50dea5(0x6c1)](_0x58b916){const _0x22eb7a=a0_0x50dea5;try{this['logger'][_0x22eb7a(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x22eb7a(0x4ea)]+_0x22eb7a(0x230));let _0x1be62c=_0x58b916[_0x22eb7a(0x24a)](/\D/g,''),_0x16d513=await this[_0x22eb7a(0x65f)][_0x22eb7a(0x34b)][_0x22eb7a(0xcc)]({'where':{'testingWith':_0x1be62c}},this[_0x22eb7a(0xdd)][_0x22eb7a(0x4ea)]);return _0x16d513||(this[_0x22eb7a(0x5c8)][_0x22eb7a(0x1f5)](this[_0x22eb7a(0x665)]+'\x20('+this[_0x22eb7a(0xdd)][_0x22eb7a(0x4ea)]+_0x22eb7a(0x233)),_0x16d513=await this[_0x22eb7a(0x65f)][_0x22eb7a(0x34b)][_0x22eb7a(0xcc)]({'where':{'default':!0x0}},this[_0x22eb7a(0xdd)][_0x22eb7a(0x4ea)])),_0x16d513||(this[_0x22eb7a(0x5c8)][_0x22eb7a(0x1f5)](this[_0x22eb7a(0x665)]+'\x20('+this[_0x22eb7a(0xdd)]['wuid']+_0x22eb7a(0x6d9)),null);}catch(_0x168c63){return this['logger'][_0x22eb7a(0x190)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x22eb7a(0x718)+(_0x168c63 instanceof Error?_0x168c63[_0x22eb7a(0x47f)]:JSON[_0x22eb7a(0x581)](_0x168c63,null,0x2))),null;}}async[a0_0x50dea5(0x1b6)](_0xb1f6f0,_0x4a2e83){const _0x4c0259=a0_0x50dea5;try{let _0x498cc8=!!_0x4a2e83[_0x4c0259(0xf3)],_0x5a2483=_0x4a2e83[_0x4c0259(0x2ae)],_0x381a78=null;if(this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x518)+_0x498cc8+_0x4c0259(0x50f)+_0x5a2483),_0x498cc8){this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)]['wuid']+_0x4c0259(0x41c));let _0x1dc131={'where':{'remoteJid':_0xb1f6f0,'waitingMenu_id':_0x5a2483}};if(_0x381a78=await this['repository']['flowConversation']['findOne'](_0x1dc131,this['instance'][_0x4c0259(0x4ea)]),!_0x381a78)return this['logger']['verbose'](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+'):\x20no\x20encontrou'),null;let _0x3499fc=Date[_0x4c0259(0x712)](),_0x325c96=_0x381a78?.['minutesToClose']||0x0,_0x15b5e5=_0x3499fc-_0x325c96*0x3c*0x3e8;if(_0x381a78[_0x4c0259(0x3f0)]<_0x15b5e5){this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20est\x20expirada\x20-\x20voto');let _0xd9f9b2={'number':_0x381a78[_0x4c0259(0x1be)],'options':{'delay':0x0},'textMessage':{'text':_0x381a78[_0x4c0259(0x628)]}};await this['textMessage'](_0xd9f9b2);let _0x23c0de={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4c0259(0x65f)][_0x4c0259(0x750)][_0x4c0259(0x11c)](_0x381a78[_0x4c0259(0x3dd)],_0x23c0de,this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]),null;}return _0x381a78[_0x4c0259(0x3f0)]=Date['now'](),_0x381a78[_0x4c0259(0x1ea)]['lastReceivedMessage']=_0x4a2e83,_0x381a78;}else{this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+'):\x20'+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x60d)),this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x4da));let _0x404350={'where':{'remoteJid':_0xb1f6f0,'status':_0x4c0259(0x6a3)}};if(_0x381a78=await this[_0x4c0259(0x65f)][_0x4c0259(0x750)]['findOne'](_0x404350,this['instance'][_0x4c0259(0x4ea)]),!_0x381a78){let _0x6294e0=await this[_0x4c0259(0x6c1)](_0xb1f6f0);if(_0x6294e0&&(_0x381a78=await this[_0x4c0259(0x549)](_0x6294e0,_0x4a2e83[_0x4c0259(0x6a8)],_0x4a2e83)),!_0x381a78)return null;}let _0x5e788e=Date[_0x4c0259(0x712)](),_0xacd63e=_0x381a78?.[_0x4c0259(0x499)]||0x0,_0x2b471d=_0x5e788e-_0xacd63e*0x3c*0x3e8;if(this['logger'][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this['instance'][_0x4c0259(0x4ea)]+_0x4c0259(0x613)+_0x5e788e+_0x4c0259(0x64b)+_0xacd63e+',\x20Expiration\x20Time:\x20'+_0x2b471d),this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x6cc)),this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+'):\x20conversation.lastInteraction:\x20'+_0x381a78[_0x4c0259(0x3f0)]),this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this['instanceName']+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x414)+_0x2b471d),_0x381a78['lastInteraction']<_0x2b471d){this[_0x4c0259(0x5c8)][_0x4c0259(0x1f5)](this[_0x4c0259(0x665)]+'\x20('+this[_0x4c0259(0xdd)]['wuid']+_0x4c0259(0x51c));let _0x871d6a=await this[_0x4c0259(0x6c1)](_0xb1f6f0);if(_0x871d6a===null)return null;_0x381a78&&await this['repository'][_0x4c0259(0x750)]['updateOne'](_0x381a78[_0x4c0259(0x3dd)],{'status':_0x4c0259(0x67c)},this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]),_0x381a78=await this[_0x4c0259(0x549)](_0x871d6a,_0x4a2e83[_0x4c0259(0x6a8)],_0x4a2e83);}return _0x381a78[_0x4c0259(0x3f0)]=_0x5e788e,_0x381a78['chatLog'][_0x4c0259(0x223)]=_0x4a2e83,_0x381a78;}}catch(_0x4eed48){return this['logger'][_0x4c0259(0x190)](this['instanceName']+'\x20('+this[_0x4c0259(0xdd)][_0x4c0259(0x4ea)]+_0x4c0259(0x607)+(_0x4eed48 instanceof Error?_0x4eed48[_0x4c0259(0x47f)]:JSON[_0x4c0259(0x581)](_0x4eed48,null,0x2))),null;}}async[a0_0x50dea5(0x549)](_0x54a100,_0x47e3d0,_0x2c30f6){const _0x590748=a0_0x50dea5;this[_0x590748(0x5c8)][_0x590748(0x1f5)](this[_0x590748(0x665)]+'\x20('+this[_0x590748(0xdd)][_0x590748(0x4ea)]+_0x590748(0x589));try{let _0x221aab=require('mongodb')['ObjectId'],_0x44b453=Date[_0x590748(0x712)](),_0x4345f3=_0x590748(0x160),_0x5a47e4=_0x47e3d0[_0x590748(0x3e1)]?null:_0x2c30f6,_0x57ce73=_0x47e3d0[_0x590748(0x3e1)]?_0x2c30f6:null,_0x99a472=_0x47e3d0[_0x590748(0x1be)];await this[_0x590748(0x305)](_0x99a472);let _0x1b4732={..._0x54a100,'chatLog':null},_0x14ca4f=await this[_0x590748(0x3b0)](_0x1b4732[_0x590748(0x482)]),_0xff0a3=await this['getVariablesChat'](_0x99a472),_0x415dc8={..._0x14ca4f,..._0xff0a3,'_remoteJid':_0x99a472},_0x586d99={'lastReceivedMessage':_0x5a47e4,'lastSendMessage':_0x57ce73,'lastBlockId':_0x4345f3,'lastCondition':!0x0,'realVariables':_0x415dc8};_0x1b4732['chatLog']=_0x586d99,delete _0x1b4732[_0x590748(0x3dd)],_0x1b4732[_0x590748(0x3dd)]=new _0x221aab(),_0x1b4732[_0x590748(0x3f0)]=_0x44b453,_0x1b4732[_0x590748(0x373)]=_0x590748(0x6a3),_0x1b4732['remoteJid']=_0x99a472;let _0x19388a=await this[_0x590748(0x65f)]['flowConversation'][_0x590748(0x11c)](_0x1b4732[_0x590748(0x3dd)],_0x1b4732,this['instance']['wuid']);return this[_0x590748(0x5c8)][_0x590748(0x1f5)](this[_0x590748(0x665)]+'\x20('+this[_0x590748(0xdd)][_0x590748(0x4ea)]+_0x590748(0x6fe)),_0x19388a?_0x1b4732:null;}catch(_0x48e76a){return this[_0x590748(0x5c8)][_0x590748(0x190)](this[_0x590748(0x665)]+'\x20('+this[_0x590748(0xdd)][_0x590748(0x4ea)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x48e76a instanceof Error?_0x48e76a['message']:JSON[_0x590748(0x581)](_0x48e76a,null,0x2))),_0x48e76a;}}async['uazapiSendText'](_0x398e7a,_0x29cb1c){const _0x4fc0aa=a0_0x50dea5;let _0x1bd2da=_0x398e7a['remoteJid'];_0x29cb1c['uazapi']['remoteJid']&&_0x29cb1c[_0x4fc0aa(0x348)][_0x4fc0aa(0x1be)][_0x4fc0aa(0x1ba)]()!==''&&(_0x1bd2da=_0x29cb1c['uazapi'][_0x4fc0aa(0x1be)]['trim']()),this['logger'][_0x4fc0aa(0x1f5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4fc0aa(0x434));let _0xdd362e={'number':_0x1bd2da,'options':{'delay':_0x29cb1c[_0x4fc0aa(0x348)][_0x4fc0aa(0x538)],'linkPreview':_0x29cb1c[_0x4fc0aa(0x348)]['linkPreview']},'textMessage':{'text':_0x29cb1c[_0x4fc0aa(0x348)]['text']}};try{let _0x33c493=await this['textMessage'](_0xdd362e);if(_0x33c493){let _0x5e74f2={'_id':_0x33c493['key']['id'],'_fromMe':_0x33c493[_0x4fc0aa(0x6a8)][_0x4fc0aa(0x3e1)],'_remoteJid':_0x33c493['key'][_0x4fc0aa(0x1be)]},_0x59f04d=(0x0,f[_0x4fc0aa(0x1dd)])(_0x33c493[_0x4fc0aa(0x47f)]),_0x1e225d=(0x0,f['getContentType'])(_0x59f04d);_0x398e7a[_0x4fc0aa(0x1ea)][_0x4fc0aa(0x2a5)]=_0x29cb1c['_id'][_0x4fc0aa(0x4b1)]();let {message_normalized:_0x5b22e}=this[_0x4fc0aa(0x575)](_0x59f04d,_0x1e225d,null);_0x398e7a[_0x4fc0aa(0x1ea)][_0x4fc0aa(0x4ff)]=await _0x5b22e;let _0x591abd={'messageId':_0x33c493['key']['id']},_0x5d4ab8=_0x398e7a[_0x4fc0aa(0x1ea)]['realVariables'];Object[_0x4fc0aa(0x790)](_0x5d4ab8,_0x5e74f2),_0x398e7a[_0x4fc0aa(0x1ea)][_0x4fc0aa(0x29a)]=_0x5d4ab8,this[_0x4fc0aa(0x4ba)](_0x398e7a,_0x29cb1c,_0x591abd);}else{let _0x4d213c={'error':!0x0};this[_0x4fc0aa(0x4ba)](_0x398e7a,_0x29cb1c,_0x4d213c),this[_0x4fc0aa(0x5c8)][_0x4fc0aa(0x190)](this[_0x4fc0aa(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x54f5fa){let _0x495946={'error':!0x0,'errorLog':_0x54f5fa[_0x4fc0aa(0x4b1)]()};this['updateConversation'](_0x398e7a,_0x29cb1c,_0x495946),this[_0x4fc0aa(0x5c8)][_0x4fc0aa(0x190)](this[_0x4fc0aa(0x665)]+'\x20('+this[_0x4fc0aa(0xdd)][_0x4fc0aa(0x4ea)]+_0x4fc0aa(0x181)+(_0x54f5fa instanceof Error?_0x54f5fa[_0x4fc0aa(0x47f)]:JSON['stringify'](_0x54f5fa,null,0x2)));}}async['uazapiSendMedia'](_0x479f71,_0x17b83a){const _0x115b72=a0_0x50dea5;let _0x4774bc=_0x479f71[_0x115b72(0x1be)];_0x17b83a['uazapi'][_0x115b72(0x1be)]&&_0x17b83a[_0x115b72(0x348)][_0x115b72(0x1be)]['trim']()!==''&&(_0x4774bc=_0x17b83a['uazapi'][_0x115b72(0x1be)][_0x115b72(0x1ba)]()),this['logger'][_0x115b72(0x1f5)](this[_0x115b72(0x665)]+'\x20('+this[_0x115b72(0xdd)][_0x115b72(0x4ea)]+_0x115b72(0x182));let _0x1610d6={'number':_0x4774bc,'options':{'delay':_0x17b83a['uazapi'][_0x115b72(0x538)],'linkPreview':_0x17b83a[_0x115b72(0x348)][_0x115b72(0x1ce)]},'mediaMessage':{'mediatype':_0x17b83a[_0x115b72(0x348)][_0x115b72(0x728)],'caption':_0x17b83a[_0x115b72(0x348)]['caption'],'media':_0x17b83a[_0x115b72(0x348)][_0x115b72(0x1af)],'fileName':_0x17b83a['uazapi'][_0x115b72(0x44e)]}};try{let _0x2dd33b=await this[_0x115b72(0x477)](_0x1610d6);if(_0x2dd33b){let _0x524c26={'_id':_0x2dd33b[_0x115b72(0x6a8)]['id'],'_fromMe':_0x2dd33b['key'][_0x115b72(0x3e1)],'_remoteJid':_0x2dd33b['key'][_0x115b72(0x1be)]},_0x46fdd5=(0x0,f[_0x115b72(0x1dd)])(_0x2dd33b[_0x115b72(0x47f)]),_0x4e4550=(0x0,f[_0x115b72(0x787)])(_0x46fdd5);_0x479f71[_0x115b72(0x1ea)][_0x115b72(0x2a5)]=_0x17b83a[_0x115b72(0x3dd)][_0x115b72(0x4b1)]();let {message_normalized:_0x200f8d}=this[_0x115b72(0x575)](_0x46fdd5,_0x4e4550,null);_0x479f71[_0x115b72(0x1ea)][_0x115b72(0x4ff)]=await _0x200f8d;let _0x498fef={'messageId':_0x2dd33b[_0x115b72(0x6a8)]['id']},_0x308ac7=_0x479f71[_0x115b72(0x1ea)]['realVariables'];Object[_0x115b72(0x790)](_0x308ac7,_0x524c26),_0x479f71['chatLog']['realVariables']=_0x308ac7,this[_0x115b72(0x4ba)](_0x479f71,_0x17b83a,_0x498fef);}else{let _0xbd4794={'error':!0x0};this['updateConversation'](_0x479f71,_0x17b83a,_0xbd4794),this[_0x115b72(0x5c8)]['error'](this[_0x115b72(0x665)]+'\x20('+this['instance'][_0x115b72(0x4ea)]+_0x115b72(0x1de));}}catch(_0x4c051d){let _0x3610e7={'error':!0x0,'errorLog':_0x4c051d['toString']()};this[_0x115b72(0x4ba)](_0x479f71,_0x17b83a,_0x3610e7),this[_0x115b72(0x5c8)][_0x115b72(0x190)](this[_0x115b72(0x665)]+'\x20('+this[_0x115b72(0xdd)]['wuid']+_0x115b72(0x2c4)+(_0x4c051d instanceof Error?_0x4c051d[_0x115b72(0x47f)]:JSON[_0x115b72(0x581)](_0x4c051d,null,0x2)));}}async['uazapiSendLocation'](_0x237c79,_0x1c3616){const _0x52ccae=a0_0x50dea5;let _0x175b05=_0x237c79[_0x52ccae(0x1be)];_0x1c3616[_0x52ccae(0x348)]['remoteJid']&&_0x1c3616['uazapi'][_0x52ccae(0x1be)][_0x52ccae(0x1ba)]()!==''&&(_0x175b05=_0x1c3616[_0x52ccae(0x348)][_0x52ccae(0x1be)][_0x52ccae(0x1ba)]()),this[_0x52ccae(0x5c8)][_0x52ccae(0x1f5)](this[_0x52ccae(0x665)]+'\x20('+this[_0x52ccae(0xdd)][_0x52ccae(0x4ea)]+_0x52ccae(0x3fb));let _0x42c452={'number':_0x175b05,'options':{'delay':_0x1c3616[_0x52ccae(0x348)]['delay']},'locationMessage':{'name':_0x1c3616['uazapi'][_0x52ccae(0x213)],'address':_0x1c3616['uazapi'][_0x52ccae(0x31a)],'latitude':_0x1c3616['uazapi'][_0x52ccae(0xef)],'longitude':_0x1c3616[_0x52ccae(0x348)][_0x52ccae(0x739)]}};try{let _0x48a5bb=await this[_0x52ccae(0x2b7)](_0x42c452);if(_0x48a5bb){let _0x842a35={'_id':_0x48a5bb[_0x52ccae(0x6a8)]['id'],'_fromMe':_0x48a5bb[_0x52ccae(0x6a8)]['fromMe'],'_remoteJid':_0x48a5bb[_0x52ccae(0x6a8)][_0x52ccae(0x1be)]},_0x386a9b=(0x0,f[_0x52ccae(0x1dd)])(_0x48a5bb[_0x52ccae(0x47f)]),_0x15ac40=(0x0,f['getContentType'])(_0x386a9b);_0x237c79[_0x52ccae(0x1ea)][_0x52ccae(0x2a5)]=_0x1c3616[_0x52ccae(0x3dd)]['toString']();let {message_normalized:_0x45f425}=this[_0x52ccae(0x575)](_0x386a9b,_0x15ac40,null);_0x237c79[_0x52ccae(0x1ea)][_0x52ccae(0x4ff)]=await _0x45f425;let _0x44db6c={'messageId':_0x48a5bb[_0x52ccae(0x6a8)]['id']},_0x239bd5=_0x237c79[_0x52ccae(0x1ea)][_0x52ccae(0x29a)];Object[_0x52ccae(0x790)](_0x239bd5,_0x842a35),_0x237c79[_0x52ccae(0x1ea)][_0x52ccae(0x29a)]=_0x239bd5,this[_0x52ccae(0x4ba)](_0x237c79,_0x1c3616,_0x44db6c);}else{let _0x54aead={'error':!0x0};this['updateConversation'](_0x237c79,_0x1c3616,_0x54aead),this[_0x52ccae(0x5c8)][_0x52ccae(0x190)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.');}}catch(_0x2b6664){let _0x4e6324={'error':!0x0,'errorLog':_0x2b6664[_0x52ccae(0x4b1)]()};this[_0x52ccae(0x4ba)](_0x237c79,_0x1c3616,_0x4e6324),this[_0x52ccae(0x5c8)][_0x52ccae(0x190)](this[_0x52ccae(0x665)]+'\x20('+this['instance'][_0x52ccae(0x4ea)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20'+(_0x2b6664 instanceof Error?_0x2b6664[_0x52ccae(0x47f)]:JSON['stringify'](_0x2b6664,null,0x2)));}}async[a0_0x50dea5(0x390)](_0xe49d68,_0x1b4e44){const _0x381cf6=a0_0x50dea5;let _0x2b563d=_0xe49d68[_0x381cf6(0x1be)];_0x1b4e44[_0x381cf6(0x348)][_0x381cf6(0x1be)]&&_0x1b4e44[_0x381cf6(0x348)]['remoteJid'][_0x381cf6(0x1ba)]()!==''&&(_0x2b563d=_0x1b4e44['uazapi'][_0x381cf6(0x1be)][_0x381cf6(0x1ba)]()),this['logger'][_0x381cf6(0x1f5)](this['instanceName']+'\x20('+this[_0x381cf6(0xdd)]['wuid']+_0x381cf6(0x741));let _0x20f488={'number':_0x2b563d,'options':{'delay':_0x1b4e44[_0x381cf6(0x348)]['delay']},'audioMessage':{'audio':_0x1b4e44[_0x381cf6(0x348)][_0x381cf6(0x574)]}};try{let _0x4bd212=await this[_0x381cf6(0x4aa)](_0x20f488);if(_0x4bd212){let _0x9d6d9e={'_id':_0x4bd212['key']['id'],'_fromMe':_0x4bd212['key']['fromMe'],'_remoteJid':_0x4bd212['key']['remoteJid']},_0x3274f3=(0x0,f[_0x381cf6(0x1dd)])(_0x4bd212[_0x381cf6(0x47f)]),_0x39f4e0=(0x0,f[_0x381cf6(0x787)])(_0x3274f3);_0xe49d68[_0x381cf6(0x1ea)][_0x381cf6(0x2a5)]=_0x1b4e44[_0x381cf6(0x3dd)][_0x381cf6(0x4b1)]();let {message_normalized:_0x267e70}=this[_0x381cf6(0x575)](_0x3274f3,_0x39f4e0,null);_0xe49d68[_0x381cf6(0x1ea)]['lastSendMessage']=await _0x267e70;let _0x217e27={'messageId':_0x4bd212['key']['id']},_0x5d353a=_0xe49d68[_0x381cf6(0x1ea)]['realVariables'];Object[_0x381cf6(0x790)](_0x5d353a,_0x9d6d9e),_0xe49d68['chatLog']['realVariables']=_0x5d353a,this['updateConversation'](_0xe49d68,_0x1b4e44,_0x217e27);}else{let _0x3005b8={'error':!0x0};this[_0x381cf6(0x4ba)](_0xe49d68,_0x1b4e44,_0x3005b8),this[_0x381cf6(0x5c8)][_0x381cf6(0x190)](this[_0x381cf6(0x665)]+'\x20('+this[_0x381cf6(0xdd)][_0x381cf6(0x4ea)]+_0x381cf6(0x5c3));}}catch(_0x269b28){let _0x2ceb93={'error':!0x0,'errorLog':_0x269b28[_0x381cf6(0x4b1)]()};this[_0x381cf6(0x4ba)](_0xe49d68,_0x1b4e44,_0x2ceb93),this['logger'][_0x381cf6(0x190)](this['instanceName']+'\x20('+this[_0x381cf6(0xdd)][_0x381cf6(0x4ea)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20'+(_0x269b28 instanceof Error?_0x269b28[_0x381cf6(0x47f)]:JSON['stringify'](_0x269b28,null,0x2)));}}async['uazapiSendContact'](_0x47605a,_0x47d892){const _0x5d3dc4=a0_0x50dea5;let _0x82682b=_0x47605a[_0x5d3dc4(0x1be)];_0x47d892[_0x5d3dc4(0x348)]['remoteJid']&&_0x47d892[_0x5d3dc4(0x348)][_0x5d3dc4(0x1be)][_0x5d3dc4(0x1ba)]()!==''&&(_0x82682b=_0x47d892[_0x5d3dc4(0x348)][_0x5d3dc4(0x1be)][_0x5d3dc4(0x1ba)]()),this[_0x5d3dc4(0x5c8)][_0x5d3dc4(0x1f5)](this[_0x5d3dc4(0x665)]+'\x20('+this[_0x5d3dc4(0xdd)]['wuid']+_0x5d3dc4(0x67a));let _0x265555={'number':_0x82682b,'options':{'delay':_0x47d892['uazapi'][_0x5d3dc4(0x538)]},'contactMessage':[{'fullName':_0x47d892[_0x5d3dc4(0x348)][_0x5d3dc4(0x27c)],'phoneNumber':_0x47d892[_0x5d3dc4(0x348)][_0x5d3dc4(0x2f2)]}]};try{let _0x141793=await this[_0x5d3dc4(0x124)](_0x265555);if(_0x141793){let _0xc7dd28={'_id':_0x141793['key']['id'],'_fromMe':_0x141793[_0x5d3dc4(0x6a8)][_0x5d3dc4(0x3e1)],'_remoteJid':_0x141793[_0x5d3dc4(0x6a8)][_0x5d3dc4(0x1be)]},_0x637641=(0x0,f['normalizeMessageContent'])(_0x141793[_0x5d3dc4(0x47f)]),_0x21ed88=(0x0,f[_0x5d3dc4(0x787)])(_0x637641);_0x47605a[_0x5d3dc4(0x1ea)][_0x5d3dc4(0x2a5)]=_0x47d892[_0x5d3dc4(0x3dd)]['toString']();let {message_normalized:_0x5b1ac9}=this[_0x5d3dc4(0x575)](_0x637641,_0x21ed88,null);_0x47605a['chatLog']['lastSendMessage']=await _0x5b1ac9;let _0x5075c3={'messageId':_0x141793['key']['id']},_0x404894=_0x47605a[_0x5d3dc4(0x1ea)][_0x5d3dc4(0x29a)];Object[_0x5d3dc4(0x790)](_0x404894,_0xc7dd28),_0x47605a[_0x5d3dc4(0x1ea)][_0x5d3dc4(0x29a)]=_0x404894,this['updateConversation'](_0x47605a,_0x47d892,_0x5075c3);}else{let _0x117e2f={'error':!0x0};this[_0x5d3dc4(0x4ba)](_0x47605a,_0x47d892,_0x117e2f),this[_0x5d3dc4(0x5c8)][_0x5d3dc4(0x190)](this[_0x5d3dc4(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x54aedb){let _0x565f82={'error':!0x0,'errorLog':_0x54aedb['toString']()};this[_0x5d3dc4(0x4ba)](_0x47605a,_0x47d892,_0x565f82),this['logger'][_0x5d3dc4(0x190)](this[_0x5d3dc4(0x665)]+'\x20('+this['instance'][_0x5d3dc4(0x4ea)]+_0x5d3dc4(0x247)+(_0x54aedb instanceof Error?_0x54aedb['message']:JSON[_0x5d3dc4(0x581)](_0x54aedb,null,0x2)));}}[a0_0x50dea5(0x11d)](_0xb8aee5,_0x33ef5a){const _0x49e76e=a0_0x50dea5;for(let _0x2a9e29 of _0xb8aee5)_0x2a9e29[_0x49e76e(0x131)]&&(_0x2a9e29['option']=this['replaceVariables'](_0x2a9e29['option'],_0x33ef5a)),_0x2a9e29[_0x49e76e(0xe6)]&&(_0x2a9e29[_0x49e76e(0xe6)]=this[_0x49e76e(0x49d)](_0x2a9e29[_0x49e76e(0xe6)],_0x33ef5a));}async[a0_0x50dea5(0x5cb)](_0x1e4be4,_0x220453){const _0x98250b=a0_0x50dea5;let _0x23236c=_0x1e4be4['remoteJid'];_0x220453['uazapi'][_0x98250b(0x1be)]&&_0x220453[_0x98250b(0x348)][_0x98250b(0x1be)][_0x98250b(0x1ba)]()!==''&&(_0x23236c=_0x220453[_0x98250b(0x348)][_0x98250b(0x1be)]['trim']()),this[_0x98250b(0x5c8)][_0x98250b(0x1f5)](this[_0x98250b(0x665)]+'\x20('+this[_0x98250b(0xdd)][_0x98250b(0x4ea)]+'):\x20Enviando\x20enquete');let _0x54d7c8=_0x1e4be4[_0x98250b(0x5d7)]['filter'](_0x2c5b76=>_0x2c5b76[_0x98250b(0x3f5)]===_0x220453[_0x98250b(0x3dd)])[_0x98250b(0x34e)]((_0x1c70dd,_0x1d341d)=>_0x1c70dd['order']-_0x1d341d[_0x98250b(0x20d)]);this[_0x98250b(0x11d)](_0x54d7c8,_0x1e4be4[_0x98250b(0x1ea)][_0x98250b(0x29a)]);let _0x349448=_0x54d7c8[_0x98250b(0x298)](_0x3df95b=>_0x3df95b[_0x98250b(0x131)]),_0x2837e={'number':_0x23236c,'menuMessage':{'type':_0x220453[_0x98250b(0x348)][_0x98250b(0x50e)]||'poll','text':_0x220453[_0x98250b(0x348)][_0x98250b(0x26d)]||_0x220453[_0x98250b(0x348)][_0x98250b(0x213)],'footerText':_0x220453[_0x98250b(0x348)][_0x98250b(0x489)],'buttonText':_0x220453[_0x98250b(0x348)][_0x98250b(0x29f)],'selectableCount':0x1,'choices':_0x349448},'options':{'delay':_0x220453[_0x98250b(0x348)][_0x98250b(0x538)]}};try{let _0x133d46=await this['menuMessage'](_0x2837e);if(_0x133d46){let _0x48bd14={'_id':_0x133d46['key']['id'],'_fromMe':_0x133d46[_0x98250b(0x6a8)]['fromMe'],'_remoteJid':_0x133d46['key']['remoteJid']};_0x220453[_0x98250b(0x348)][_0x98250b(0x7b3)]===!0x0&&(_0x1e4be4[_0x98250b(0x373)]=_0x98250b(0x2ff),this['logger'][_0x98250b(0x1f5)](this[_0x98250b(0x665)]+'\x20('+this[_0x98250b(0xdd)][_0x98250b(0x4ea)]+_0x98250b(0x187)+_0x1e4be4[_0x98250b(0x373)])),this[_0x98250b(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x98250b(0xdd)]['wuid']+_0x98250b(0x19b)+(_0x220453[_0x98250b(0x348)]['name']||_0x220453['uazapi'][_0x98250b(0x26d)])),_0x1e4be4[_0x98250b(0x427)]=_0x133d46[_0x98250b(0x6a8)]['id'],_0x1e4be4[_0x98250b(0x3bd)]=_0x220453['uazapi']['name']||_0x220453['uazapi'][_0x98250b(0x26d)],_0x1e4be4[_0x98250b(0x4a7)]=_0x54d7c8,_0x220453['uazapi'][_0x98250b(0x12a)]&&(_0x1e4be4[_0x98250b(0x628)]=_0x220453[_0x98250b(0x348)][_0x98250b(0x12a)]),this[_0x98250b(0x5c8)][_0x98250b(0x1f5)](this[_0x98250b(0x665)]+'\x20('+this[_0x98250b(0xdd)][_0x98250b(0x4ea)]+_0x98250b(0x6f8)+_0x1e4be4['waitingMenu_text']);let _0x54332f=(0x0,f[_0x98250b(0x1dd)])(_0x133d46['message']),_0x1150a3=(0x0,f[_0x98250b(0x787)])(_0x54332f);_0x1e4be4[_0x98250b(0x1ea)]['lastBlockId']=_0x220453[_0x98250b(0x3dd)][_0x98250b(0x4b1)]();let {message_normalized:_0x27d8e4}=this[_0x98250b(0x575)](_0x54332f,_0x1150a3,null);_0x1e4be4['chatLog'][_0x98250b(0x4ff)]=await _0x27d8e4;let _0x5c665b={'messageId':_0x133d46['key']['id']},_0x37a327=_0x1e4be4[_0x98250b(0x1ea)][_0x98250b(0x29a)];Object['assign'](_0x37a327,_0x48bd14),_0x1e4be4[_0x98250b(0x1ea)][_0x98250b(0x29a)]=_0x37a327,this[_0x98250b(0x4ba)](_0x1e4be4,_0x220453,_0x5c665b);}else{let _0x50b8b0={'error':!0x0};this[_0x98250b(0x4ba)](_0x1e4be4,_0x220453,_0x50b8b0),this['logger'][_0x98250b(0x190)](this[_0x98250b(0x665)]+'\x20('+this[_0x98250b(0xdd)][_0x98250b(0x4ea)]+_0x98250b(0x3ce));}}catch(_0x1e3994){let _0x3724aa={'error':!0x0,'errorLog':_0x1e3994 instanceof Error?_0x1e3994[_0x98250b(0x47f)]:JSON[_0x98250b(0x581)](_0x1e3994,null,0x2)};this[_0x98250b(0x4ba)](_0x1e4be4,_0x220453,_0x3724aa),this[_0x98250b(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x98250b(0xdd)]['wuid']+_0x98250b(0x454)+(_0x1e3994 instanceof Error?_0x1e3994[_0x98250b(0x47f)]:JSON['stringify'](_0x1e3994,null,0x2)));}}async[a0_0x50dea5(0x369)](_0xc985fd,_0x103582){const _0x432ff7=a0_0x50dea5;this[_0x432ff7(0x5c8)][_0x432ff7(0x1f5)](this[_0x432ff7(0x665)]+'\x20('+this[_0x432ff7(0xdd)][_0x432ff7(0x4ea)]+'):\x20Deletando\x20mensagem');let _0x52ca8d=_0xc985fd[_0x432ff7(0x1ea)][_0x432ff7(0x288)]['find'](_0x4b8d2b=>_0x4b8d2b[_0x432ff7(0x3f5)][_0x432ff7(0x4b1)]()===_0x103582[_0x432ff7(0x348)]['blockId'][_0x432ff7(0x4b1)]()),_0x107e8e={'id':_0x52ca8d['messageId'],'remoteJid':_0x52ca8d[_0x432ff7(0x1be)],'fromMe':_0x52ca8d[_0x432ff7(0x3e1)]};try{let _0x49849a=await this['deleteMessage'](_0x107e8e);if(_0x49849a){let _0x83fbf=(0x0,f[_0x432ff7(0x1dd)])(_0x49849a['message']),_0x38e6a8=(0x0,f[_0x432ff7(0x787)])(_0x83fbf);_0xc985fd['chatLog']['lastBlockId']=_0x103582[_0x432ff7(0x3dd)]['toString']();let {message_normalized:_0x2d66b2}=this['normalizeMessage'](_0x83fbf,_0x38e6a8,null);_0xc985fd[_0x432ff7(0x1ea)][_0x432ff7(0x4ff)]=await _0x2d66b2;let _0x4754cb={};this[_0x432ff7(0x4ba)](_0xc985fd,_0x103582,_0x4754cb);}else{let _0x344de1={'error':!0x0};this[_0x432ff7(0x4ba)](_0xc985fd,_0x103582,_0x344de1),this[_0x432ff7(0x5c8)]['error'](this[_0x432ff7(0x665)]+'\x20('+this[_0x432ff7(0xdd)][_0x432ff7(0x4ea)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x334dfc){let _0x1baca7={'error':!0x0,'errorLog':_0x334dfc instanceof Error?_0x334dfc[_0x432ff7(0x47f)]:JSON[_0x432ff7(0x581)](_0x334dfc,null,0x2)};this[_0x432ff7(0x4ba)](_0xc985fd,_0x103582,_0x1baca7),this['logger'][_0x432ff7(0x190)](this[_0x432ff7(0x665)]+'\x20('+this[_0x432ff7(0xdd)][_0x432ff7(0x4ea)]+_0x432ff7(0x309)+(_0x334dfc instanceof Error?_0x334dfc['message']:JSON[_0x432ff7(0x581)](_0x334dfc,null,0x2)));}}async[a0_0x50dea5(0x62a)](_0xb75e56){const _0x3ccced=a0_0x50dea5;if(!_0xb75e56['name'])throw new w(_0x3ccced(0x262));if(await this[_0x3ccced(0x65f)][_0x3ccced(0x34b)][_0x3ccced(0xcc)]({'where':{'name':_0xb75e56['name']}},this[_0x3ccced(0xdd)][_0x3ccced(0x4ea)]))throw new w('J\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x3ccced(0x213)in _0xb75e56&&_0x3ccced(0x270)in _0xb75e56&&_0x3ccced(0x591)in _0xb75e56&&Object[_0x3ccced(0x165)](_0xb75e56)[_0x3ccced(0x6a9)]===0x3?this[_0x3ccced(0x3dc)](_0xb75e56[_0x3ccced(0x591)],_0xb75e56[_0x3ccced(0x270)],_0xb75e56[_0x3ccced(0x213)]):this[_0x3ccced(0x516)](_0xb75e56);}async[a0_0x50dea5(0x3dc)](_0x4a7e04,_0x46cabd,_0x27e273){const _0x328e38=a0_0x50dea5;try{this[_0x328e38(0x5c8)]['verbose'](this[_0x328e38(0x665)]+'\x20('+this[_0x328e38(0xdd)][_0x328e38(0x4ea)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x1f7f1a=await this[_0x328e38(0x65f)][_0x328e38(0x34b)][_0x328e38(0xcc)]({'where':{'name':_0x27e273,'sharePass':_0x46cabd}},_0x4a7e04);if(!_0x1f7f1a)throw new w(_0x328e38(0x430));let _0x53ab2a={..._0x1f7f1a};return _0x53ab2a[_0x328e38(0x591)]=this[_0x328e38(0xdd)][_0x328e38(0x4ea)],_0x53ab2a['shareOwners']=Array['from'](new Set([..._0x1f7f1a[_0x328e38(0x2a9)]||[],_0x1f7f1a[_0x328e38(0x591)],this['instance'][_0x328e38(0x4ea)]])),_0x1f7f1a[_0x328e38(0x2a9)]=_0x53ab2a[_0x328e38(0x2a9)],await this[_0x328e38(0x65f)][_0x328e38(0x34b)][_0x328e38(0x11c)](_0x1f7f1a[_0x328e38(0x3dd)],{'shareOwners':_0x1f7f1a['shareOwners']},_0x1f7f1a[_0x328e38(0x591)]),_0x1f7f1a[_0x328e38(0x378)]===!0x0&&await this[_0x328e38(0x65f)]['flow'][_0x328e38(0xf2)]({},{'default':!0x1},this[_0x328e38(0xdd)][_0x328e38(0x4ea)]),await this['repository'][_0x328e38(0x34b)][_0x328e38(0x6d7)](_0x53ab2a,this['instance'][_0x328e38(0x4ea)]);}catch(_0x379de5){let _0x53c2c2=_0x328e38(0x264),_0x1fed0d=_0x379de5 instanceof Error?_0x379de5[_0x328e38(0x47f)]:typeof _0x379de5=='object'?JSON[_0x328e38(0x581)](_0x379de5):_0x379de5,_0x3f7f42=_0x53c2c2+':\x20'+_0x1fed0d;throw this[_0x328e38(0x5c8)][_0x328e38(0x190)](this[_0x328e38(0x665)]+'\x20('+this[_0x328e38(0xdd)][_0x328e38(0x4ea)]+'):\x20'+_0x3f7f42),new w(_0x3f7f42);}}async['createRegularFlow'](_0x473624){const _0x2d1d94=a0_0x50dea5;try{this[_0x2d1d94(0x5c8)]['verbose'](this[_0x2d1d94(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20fluxo\x20regular...'),delete _0x473624['shareOwners'],delete _0x473624[_0x2d1d94(0x270)],delete _0x473624[_0x2d1d94(0x591)],_0x473624['default']===!0x0&&await this[_0x2d1d94(0x65f)][_0x2d1d94(0x34b)][_0x2d1d94(0xf2)]({},{'default':!0x1},this[_0x2d1d94(0xdd)][_0x2d1d94(0x4ea)]);let _0x215b41=new le['Types'][(_0x2d1d94(0x2ee))](),_0x18e007={'_id':_0x215b41,'default':!0x0,'title':_0x2d1d94(0x39a),'x':0x0,'y':0x0},_0x42e126={'_id':new le[(_0x2d1d94(0x346))][(_0x2d1d94(0x2ee))](),'order':0x1,'groupId':_0x215b41[_0x2d1d94(0x4b1)](),'type':_0x2d1d94(0x160)},_0x9514b6={'_id':new le[(_0x2d1d94(0x346))][(_0x2d1d94(0x2ee))](),'owner':this[_0x2d1d94(0xdd)][_0x2d1d94(0x4ea)],'name':_0x473624[_0x2d1d94(0x213)],'groups':[_0x18e007],'blocks':[_0x42e126],..._0x473624};return await this[_0x2d1d94(0x65f)][_0x2d1d94(0x34b)][_0x2d1d94(0x6d7)](_0x9514b6,this[_0x2d1d94(0xdd)][_0x2d1d94(0x4ea)]);}catch(_0x2ddc78){let _0x39646a='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x581330=_0x2ddc78 instanceof Error?_0x2ddc78[_0x2d1d94(0x47f)]:typeof _0x2ddc78==_0x2d1d94(0x471)?JSON['stringify'](_0x2ddc78):_0x2ddc78,_0xebf5c9=_0x39646a+':\x20'+_0x581330;throw this['logger'][_0x2d1d94(0x190)](this[_0x2d1d94(0x665)]+'\x20('+this[_0x2d1d94(0xdd)][_0x2d1d94(0x4ea)]+_0x2d1d94(0x5fd)+_0xebf5c9),new w(_0xebf5c9);}}async[a0_0x50dea5(0x318)](_0x2680ee,_0x1055d6){const _0xbf421f=a0_0x50dea5;try{let _0x3e07d2=await this[_0xbf421f(0x65f)][_0xbf421f(0x34b)][_0xbf421f(0xcc)]({'where':{'_id':_0x2680ee}},_0x1055d6);if(_0x3e07d2&&_0x3e07d2[_0xbf421f(0x2a9)]){for(let _0x9c2895 of _0x3e07d2[_0xbf421f(0x2a9)])if(_0x9c2895!==_0x1055d6){let _0x428478={..._0x3e07d2,'owner':_0x9c2895};await this['repository'][_0xbf421f(0x34b)][_0xbf421f(0x162)](_0x2680ee,_0x428478,_0x9c2895);}}}catch(_0x593fe4){this['logger'][_0xbf421f(0x190)](_0xbf421f(0x282)+_0x593fe4);}}async[a0_0x50dea5(0x3ad)](_0x299387){const _0xcbceb6=a0_0x50dea5;try{this[_0xcbceb6(0x5c8)][_0xcbceb6(0x1f5)](this['instanceName']+'\x20('+this[_0xcbceb6(0xdd)][_0xcbceb6(0x4ea)]+_0xcbceb6(0x49e));let _0x4c24c2=await this[_0xcbceb6(0x65f)][_0xcbceb6(0x34b)][_0xcbceb6(0xcc)]({'where':{'name':_0x299387}},this['instance'][_0xcbceb6(0x4ea)]);if(_0x4c24c2&&_0x4c24c2[_0xcbceb6(0x2a9)]&&_0x4c24c2['shareOwners'][_0xcbceb6(0x6a9)]>0x1){for(let _0x2b78ef of _0x4c24c2[_0xcbceb6(0x2a9)])if(_0x2b78ef!==this[_0xcbceb6(0xdd)][_0xcbceb6(0x4ea)]){let _0x4fda80=await this['repository'][_0xcbceb6(0x34b)][_0xcbceb6(0xcc)]({'where':{'sharePass':_0x4c24c2[_0xcbceb6(0x270)]}},_0x2b78ef);_0x4fda80&&(_0x4fda80[_0xcbceb6(0x2a9)]=_0x4fda80[_0xcbceb6(0x2a9)][_0xcbceb6(0x6ee)](_0x18409d=>_0x18409d!==_0x4c24c2[_0xcbceb6(0x591)]),await this[_0xcbceb6(0x65f)][_0xcbceb6(0x34b)][_0xcbceb6(0x11c)](_0x4fda80[_0xcbceb6(0x3dd)],{'shareOwners':_0x4fda80[_0xcbceb6(0x2a9)]},_0x2b78ef));}}return await this[_0xcbceb6(0x65f)]['flow']['deleteOne']({'where':{'name':_0x299387}},this[_0xcbceb6(0xdd)]['wuid']);}catch(_0x4cf335){return this['logger'][_0xcbceb6(0x190)](this['instanceName']+'\x20('+this[_0xcbceb6(0xdd)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x4cf335 instanceof Error?_0x4cf335[_0xcbceb6(0x47f)]:JSON[_0xcbceb6(0x581)](_0x4cf335,null,0x2))),{'message':_0xcbceb6(0x556)+_0x4cf335[_0xcbceb6(0x47f)]};}}async[a0_0x50dea5(0x545)](_0x46e214){const _0x4e442e=a0_0x50dea5;try{this[_0x4e442e(0x5c8)][_0x4e442e(0x1f5)](this[_0x4e442e(0x665)]+'\x20('+this['instance'][_0x4e442e(0x4ea)]+'):\x20Buscando\x20flow...');let _0x2f4565=await this[_0x4e442e(0x65f)][_0x4e442e(0x34b)][_0x4e442e(0xcc)]({'where':{'name':_0x46e214}},this[_0x4e442e(0xdd)]['wuid']);if(!_0x2f4565)throw new Error(_0x4e442e(0x2e5));if(!this[_0x4e442e(0x55d)]&&(await this[_0x4e442e(0x785)](),!this['AutomateSystem']))return null;let _0xa6afb9=this[_0x4e442e(0x55d)]?.['customFields'][_0x4e442e(0x298)](_0x325091=>_0x325091[_0x4e442e(0x213)]),_0x53965c=['nome',_0x4e442e(0x195),_0x4e442e(0x155),_0x4e442e(0x744),_0x4e442e(0x373),'notas',_0x4e442e(0x167),_0x4e442e(0x303),_0x4e442e(0x319)];_0x2f4565[_0x4e442e(0x482)]=_0x2f4565[_0x4e442e(0x482)]['filter'](_0x1c3ee1=>!(_0x1c3ee1[_0x4e442e(0x452)]===_0x4e442e(0x235)||_0x1c3ee1['leadInfo'])),_0x53965c[_0x4e442e(0x163)](_0x4698c1=>{const _0x4c95ee=_0x4e442e;_0x2f4565[_0x4c95ee(0x482)][_0x4c95ee(0x112)]({'folder':'leadInfo','name':_0x4698c1,'value':'','doc':'','leadInfo':!0x0});}),_0xa6afb9[_0x4e442e(0x163)](_0x12ab6b=>{const _0x58154b=_0x4e442e;let _0x2e9491=_0x2f4565[_0x58154b(0x482)]['findIndex'](_0x111a1b=>_0x111a1b[_0x58154b(0x213)]===_0x12ab6b);_0x2e9491===-0x1?_0x2f4565['variables']['push']({'folder':_0x58154b(0x235),'name':_0x12ab6b,'value':'','doc':'','leadInfo':!0x0}):(_0x2f4565[_0x58154b(0x482)][_0x2e9491]['folder']=_0x58154b(0x235),_0x2f4565[_0x58154b(0x482)][_0x2e9491]['leadInfo']=!0x0);}),_0x2f4565[_0x4e442e(0x325)]&&_0x2f4565[_0x4e442e(0x325)][_0x4e442e(0x6a9)]>0x0&&_0x2f4565[_0x4e442e(0x325)][_0x4e442e(0x163)](_0xe55834=>{const _0x3ec4e7=_0x4e442e;_0xe55834[_0x3ec4e7(0x70a)]&&_0xe55834[_0x3ec4e7(0x290)]&&_0xe55834[_0x3ec4e7(0x70a)]===_0xe55834[_0x3ec4e7(0x290)]&&(_0xe55834[_0x3ec4e7(0x290)]=null);});let _0x401c75=await this[_0x4e442e(0x65f)][_0x4e442e(0x34b)][_0x4e442e(0x11c)](_0x2f4565['_id'],_0x2f4565,this[_0x4e442e(0xdd)][_0x4e442e(0x4ea)]);if(!_0x401c75)throw new Error(_0x4e442e(0x7b0));return _0x401c75;}catch(_0x12abdb){let _0x69f0ec=_0x4e442e(0x22e),_0x5d9ddd=_0x12abdb instanceof Error?_0x12abdb[_0x4e442e(0x47f)]:typeof _0x12abdb==_0x4e442e(0x471)?JSON[_0x4e442e(0x581)](_0x12abdb):_0x12abdb,_0x34e8a6=_0x69f0ec+':\x20'+_0x5d9ddd;throw this[_0x4e442e(0x5c8)][_0x4e442e(0x190)](this[_0x4e442e(0x665)]+'\x20('+this[_0x4e442e(0xdd)][_0x4e442e(0x4ea)]+'):\x20'+_0x34e8a6),new w(_0x34e8a6);}}async[a0_0x50dea5(0x667)](){const _0x189b3d=a0_0x50dea5;try{return this[_0x189b3d(0x5c8)]['verbose'](this[_0x189b3d(0x665)]+'\x20('+this[_0x189b3d(0xdd)][_0x189b3d(0x4ea)]+_0x189b3d(0xd1)),await this[_0x189b3d(0x65f)][_0x189b3d(0x34b)]['updateMissingShareOwners'](this['instance'][_0x189b3d(0x4ea)]),await this[_0x189b3d(0x65f)][_0x189b3d(0x34b)][_0x189b3d(0x592)]({'where':{}},this[_0x189b3d(0xdd)][_0x189b3d(0x4ea)]);}catch(_0x5b36e1){return this[_0x189b3d(0x5c8)][_0x189b3d(0x190)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x189b3d(0x73c)+(_0x5b36e1 instanceof Error?_0x5b36e1[_0x189b3d(0x47f)]:JSON[_0x189b3d(0x581)](_0x5b36e1,null,0x2))),{'message':_0x189b3d(0x66d)+_0x5b36e1['message']};}}async[a0_0x50dea5(0x33d)](_0x372d3a){const _0x743679=a0_0x50dea5;try{this[_0x743679(0x5c8)][_0x743679(0x1f5)](this['instanceName']+'\x20('+this[_0x743679(0xdd)][_0x743679(0x4ea)]+'):\x20Alterando\x20fluxo...');let _0x54b658=await this['repository'][_0x743679(0x34b)][_0x743679(0xcc)]({'where':{'name':_0x372d3a[_0x743679(0x213)]}},this[_0x743679(0xdd)][_0x743679(0x4ea)]);if(!_0x54b658)return{'message':_0x743679(0x143)};_0x372d3a[_0x743679(0x378)]===!0x0&&await this[_0x743679(0x65f)][_0x743679(0x34b)]['updateMany']({},{'default':!0x1},this[_0x743679(0xdd)][_0x743679(0x4ea)]),delete _0x372d3a[_0x743679(0x2a9)],delete _0x372d3a[_0x743679(0x270)];let _0x3a3e48=await this[_0x743679(0x65f)][_0x743679(0x34b)][_0x743679(0x11c)](_0x54b658['_id'],_0x372d3a,this[_0x743679(0xdd)][_0x743679(0x4ea)]);return _0x3a3e48&&_0x3a3e48['shareOwners']&&_0x3a3e48[_0x743679(0x2a9)]['length']>0x1&&this[_0x743679(0x318)](_0x3a3e48[_0x743679(0x3dd)],this[_0x743679(0xdd)][_0x743679(0x4ea)]),_0x3a3e48;}catch(_0x56409e){let _0x26c634=_0x743679(0x15b),_0x5efe29=_0x56409e instanceof Error?_0x56409e[_0x743679(0x47f)]:typeof _0x56409e=='object'?JSON[_0x743679(0x581)](_0x56409e):_0x56409e,_0x515080=_0x26c634+':\x20'+_0x5efe29;throw this['logger'][_0x743679(0x190)](this[_0x743679(0x665)]+'\x20('+this[_0x743679(0xdd)][_0x743679(0x4ea)]+_0x743679(0x5fd)+_0x515080),new w(_0x515080);}}async[a0_0x50dea5(0x703)](_0x385dc5){const _0x91ced2=a0_0x50dea5;try{this[_0x91ced2(0x5c8)][_0x91ced2(0x1f5)](this[_0x91ced2(0x665)]+'\x20('+this['instance'][_0x91ced2(0x4ea)]+_0x91ced2(0x380));let _0x2eccde=await this[_0x91ced2(0x65f)][_0x91ced2(0x34b)][_0x91ced2(0xcc)]({'where':{'name':_0x385dc5[_0x91ced2(0x213)]}},this[_0x91ced2(0xdd)][_0x91ced2(0x4ea)]);_0x2eccde||this['throwAndLogError'](_0x91ced2(0x2e5));let {block:_0x20d64c}=_0x385dc5;_0x20d64c?.['copy']?this[_0x91ced2(0x68c)](_0x2eccde,_0x385dc5):_0x20d64c?.[_0x91ced2(0x2ca)]?this[_0x91ced2(0x5a2)](_0x2eccde,_0x385dc5):_0x20d64c[_0x91ced2(0x3dd)]?await this[_0x91ced2(0x710)](_0x2eccde,_0x385dc5):this[_0x91ced2(0x636)](_0x2eccde,_0x385dc5);let _0x109e13=await this['repository'][_0x91ced2(0x34b)][_0x91ced2(0x11c)](_0x2eccde[_0x91ced2(0x3dd)],_0x2eccde,this[_0x91ced2(0xdd)][_0x91ced2(0x4ea)]);if(_0x109e13&&_0x109e13[_0x91ced2(0x2a9)]&&_0x109e13[_0x91ced2(0x2a9)][_0x91ced2(0x6a9)]>0x1&&this['synchronizeFlows'](_0x109e13[_0x91ced2(0x3dd)],this[_0x91ced2(0xdd)][_0x91ced2(0x4ea)]),!_0x109e13)throw new Error(_0x91ced2(0x7b0));return _0x109e13;}catch(_0x1d7f68){this[_0x91ced2(0x6f2)](_0x91ced2(0x361)+_0x1d7f68);}}async['copyBlock'](_0x425991,_0x1009fa){const _0x268b73=a0_0x50dea5;let _0x3b6ffb=_0x1009fa['block'][_0x268b73(0x3dd)],_0x2d5038=_0x425991['blocks'][_0x268b73(0x3d9)](_0x207c37=>_0x207c37[_0x268b73(0x3dd)][_0x268b73(0x4b1)]()===_0x3b6ffb);if(!_0x2d5038){this[_0x268b73(0x5c8)][_0x268b73(0x190)](this[_0x268b73(0x665)]+'\x20('+this[_0x268b73(0xdd)][_0x268b73(0x4ea)]+_0x268b73(0x6e8)+_0x3b6ffb+_0x268b73(0x1ab));return;}this['logger'][_0x268b73(0x1f5)](this[_0x268b73(0x665)]+'\x20('+this['instance'][_0x268b73(0x4ea)]+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON['stringify'](_0x2d5038));let _0x271cce=JSON[_0x268b73(0x11e)](JSON[_0x268b73(0x581)](_0x2d5038));_0x271cce['_id']=new le[(_0x268b73(0x378))][(_0x268b73(0x346))][(_0x268b73(0x2ee))](),this['logger'][_0x268b73(0x1f5)](this['instanceName']+'\x20('+this[_0x268b73(0xdd)][_0x268b73(0x4ea)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x268b73(0x581)](_0x271cce)),_0x425991[_0x268b73(0x325)][_0x268b73(0x112)](_0x271cce),this[_0x268b73(0x507)](_0x425991[_0x268b73(0x325)],_0x271cce[_0x268b73(0x70a)]);}[a0_0x50dea5(0x6f2)](_0x53b844){const _0x4e5cb5=a0_0x50dea5;throw this[_0x4e5cb5(0x5c8)][_0x4e5cb5(0x190)](this['instanceName']+'\x20('+this[_0x4e5cb5(0xdd)][_0x4e5cb5(0x4ea)]+_0x4e5cb5(0x5fd)+_0x53b844),new w(_0x53b844);}[a0_0x50dea5(0x5a2)](_0x3e6bcf,_0x41cad1){const _0xf295ca=a0_0x50dea5;let {block:_0x746d34}=_0x41cad1;if(_0x746d34['type']==='start'){this[_0xf295ca(0x6f2)]('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x746d34['_id']){this[_0xf295ca(0x6f2)](_0xf295ca(0x5b9));return;}let _0x399545=_0x3e6bcf[_0xf295ca(0x325)][_0xf295ca(0x3d9)](_0x312ea9=>_0x312ea9[_0xf295ca(0x3dd)][_0xf295ca(0x4b1)]()===_0x41cad1[_0xf295ca(0x542)][_0xf295ca(0x3dd)][_0xf295ca(0x4b1)]());if(!_0x399545){this[_0xf295ca(0x6f2)]('Bloco\x20com\x20ID\x20'+_0x746d34[_0xf295ca(0x3dd)]+_0xf295ca(0x720));return;}_0x3e6bcf[_0xf295ca(0x325)]=_0x3e6bcf[_0xf295ca(0x325)]['filter'](_0x5e679a=>_0x5e679a[_0xf295ca(0x3dd)]['toString']()!==_0x41cad1['block']['_id']['toString']()),_0x3e6bcf[_0xf295ca(0x4ec)]=_0x3e6bcf['conditions']['filter'](_0x362ed7=>_0x362ed7['blockId']!==_0x746d34[_0xf295ca(0x3dd)][_0xf295ca(0x4b1)]()),_0x3e6bcf[_0xf295ca(0x3e2)]=_0x3e6bcf[_0xf295ca(0x3e2)]['filter'](_0x200867=>_0x200867[_0xf295ca(0x3f5)]!==_0x746d34[_0xf295ca(0x3dd)][_0xf295ca(0x4b1)]()),_0x3e6bcf[_0xf295ca(0x5d7)]=_0x3e6bcf[_0xf295ca(0x5d7)][_0xf295ca(0x6ee)](_0x2fe2ae=>_0x2fe2ae['blockId']!==_0x746d34[_0xf295ca(0x3dd)][_0xf295ca(0x4b1)]()),this[_0xf295ca(0x507)](_0x3e6bcf[_0xf295ca(0x325)],_0x399545['groupId']);}async[a0_0x50dea5(0x710)](_0x283c42,_0x548e1d){const _0x225561=a0_0x50dea5;let _0x2454a7=_0x283c42[_0x225561(0x325)][_0x225561(0x7b1)](_0x413dd3=>_0x413dd3['_id'][_0x225561(0x4b1)]()===_0x548e1d['block'][_0x225561(0x3dd)]['toString']());if(this['logger'][_0x225561(0x1f5)](this[_0x225561(0x665)]+'\x20('+this['instance'][_0x225561(0x4ea)]+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x2454a7),_0x2454a7===-0x1){this[_0x225561(0x5c8)][_0x225561(0x1f5)](_0x225561(0x138)+_0x548e1d[_0x225561(0x542)][_0x225561(0x3dd)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}if(_0x283c42[_0x225561(0x325)][_0x2454a7]['type']===_0x225561(0x160)){let _0x2e4306=Object[_0x225561(0x165)](_0x548e1d[_0x225561(0x542)]);if(_0x2e4306[_0x225561(0x6a9)]>0x2||_0x2e4306[_0x225561(0x6a9)]===0x2&&!_0x2e4306[_0x225561(0x58a)](_0x225561(0x290))){this[_0x225561(0x6f2)](_0x225561(0x35b));return;}}let _0x228e11=_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x70a)];for(let _0x125bd2 in _0x548e1d['block'])_0x548e1d[_0x225561(0x542)][_0x225561(0x29e)](_0x125bd2)&&(_0x283c42['blocks'][_0x2454a7][_0x125bd2]=_0x548e1d[_0x225561(0x542)][_0x125bd2]);if(this[_0x225561(0x5c8)][_0x225561(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x225561(0x4ea)]+_0x225561(0x4e7)+JSON[_0x225561(0x581)](_0x283c42[_0x225561(0x325)][_0x2454a7])),_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)]&&'header'in _0x283c42['blocks'][_0x2454a7][_0x225561(0x27a)]){this[_0x225561(0x5c8)]['verbose'](this[_0x225561(0x665)]+'\x20('+this[_0x225561(0xdd)][_0x225561(0x4ea)]+_0x225561(0x7a8));let _0x100f83=JSON['stringify'](_0x283c42[_0x225561(0x325)][_0x2454a7]['apirequest'][_0x225561(0x4e4)],null,0x1);_0x100f83[_0x225561(0x6a9)]>0x2&&(_0x100f83=_0x100f83['substring'](0x1,_0x100f83[_0x225561(0x6a9)]-0x1)[_0x225561(0x1ba)]()),_0x283c42['blocks'][_0x2454a7]['apirequest']['headerString']=_0x100f83;}if(_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)]&&_0x225561(0x44b)in _0x283c42[_0x225561(0x325)][_0x2454a7]['apirequest']&&!(_0x225561(0x347)in _0x283c42['blocks'][_0x2454a7][_0x225561(0x27a)])){this[_0x225561(0x5c8)][_0x225561(0x1f5)](this[_0x225561(0x665)]+'\x20('+this[_0x225561(0xdd)]['wuid']+_0x225561(0x123)),_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)][_0x225561(0x72f)]=!0x1;let _0x1966d0=JSON[_0x225561(0x581)](_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)][_0x225561(0x44b)],null,0x2);_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)][_0x225561(0x347)]=_0x1966d0;}if(_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)]&&_0x225561(0x347)in _0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)]){_0x283c42[_0x225561(0x325)][_0x2454a7]['apirequest'][_0x225561(0x72f)]=!0x1;let _0x11caa0=_0x283c42[_0x225561(0x325)][_0x2454a7]['apirequest'][_0x225561(0x347)],_0x1a4092=this[_0x225561(0x622)](_0x11caa0);_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)][_0x225561(0x347)]=_0x1a4092[_0x225561(0x73e)],_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x27a)][_0x225561(0x72f)]=_0x1a4092[_0x225561(0x190)];}let _0x4fc247=_0x283c42[_0x225561(0x325)][_0x2454a7][_0x225561(0x70a)];_0x228e11!==_0x4fc247?(this[_0x225561(0x507)](_0x283c42[_0x225561(0x325)],_0x228e11),this[_0x225561(0x507)](_0x283c42[_0x225561(0x325)],_0x4fc247)):this['reorderBlocks'](_0x283c42[_0x225561(0x325)],_0x228e11);}[a0_0x50dea5(0x622)](_0x2297c0){const _0x2e7e32=a0_0x50dea5;let _0x5ec115='\u205f',_0xee0c3a=!0x1,_0x2b5745='';for(let _0x12916b=0x0;_0x12916b<_0x2297c0[_0x2e7e32(0x6a9)];_0x12916b++){let _0x3e1f31=_0x2297c0[_0x12916b];_0x3e1f31==='\x22'&&(_0x12916b===0x0||_0x2297c0[_0x12916b-0x1]!=='\x5c')&&(_0xee0c3a=!_0xee0c3a),!(!_0xee0c3a&&(_0x3e1f31==='\x0a'||_0x3e1f31==='\x20'||_0x3e1f31===_0x5ec115))&&(_0x2b5745+=_0x3e1f31);}let _0x15d5a3={},_0x4ad408=9876543210.1234,_0x24553a=_0x2b5745[_0x2e7e32(0x24a)](/\{\{([^}]+)\}\}/g,_0x397709=>{let _0x5b4c89=_0x397709,_0x5b39a5=''+_0x4ad408;return _0x15d5a3[_0x5b39a5]=_0x5b4c89,_0x4ad408+=0.0001,_0x5b39a5;}),_0x232733='',_0x41a217=!0x1;try{let _0x59c61c=JSON[_0x2e7e32(0x11e)](_0x24553a);_0x232733=JSON[_0x2e7e32(0x581)](_0x59c61c,null,0x2),_0x232733=_0x232733[_0x2e7e32(0x24a)](/\n( +)/g,(_0x133008,_0x1baed3)=>{const _0x31674f=_0x2e7e32;let _0xa65ba0=_0x1baed3[_0x31674f(0x6a9)];return'\x0a'+_0x5ec115['repeat'](_0xa65ba0*0x2);}),_0x232733=_0x232733[_0x2e7e32(0x24a)](/(\d{10,}\.\d+)/g,_0x31bf16=>_0x15d5a3[_0x31bf16]||_0x31bf16);}catch(_0x3545a0){console[_0x2e7e32(0x190)]('Error\x20parsing\x20JSON:',_0x3545a0),_0x232733=_0x2297c0,_0x41a217=!0x0;}return{'result':_0x232733,'error':_0x41a217};}[a0_0x50dea5(0x636)](_0xad36f2,_0x3dfbc8){const _0xd029ac=a0_0x50dea5;if(_0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x767)]===_0xd029ac(0x160)){this[_0xd029ac(0x6f2)](_0xd029ac(0x604));return;}if(_0x3dfbc8[_0xd029ac(0x542)]['apirequest']&&_0xd029ac(0x4e4)in _0x3dfbc8['block'][_0xd029ac(0x27a)]){this[_0xd029ac(0x5c8)][_0xd029ac(0x1f5)](this[_0xd029ac(0x665)]+'\x20('+this[_0xd029ac(0xdd)][_0xd029ac(0x4ea)]+_0xd029ac(0x7a8));let _0x413e77=JSON[_0xd029ac(0x581)](_0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x27a)][_0xd029ac(0x4e4)],null,0x1);_0x413e77['length']>0x2&&(_0x413e77=_0x413e77[_0xd029ac(0x1eb)](0x1,_0x413e77[_0xd029ac(0x6a9)]-0x1)['trim']()),_0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x27a)][_0xd029ac(0x753)]=_0x413e77;}_0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x27a)]&&'body'in _0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x27a)]&&(this[_0xd029ac(0x5c8)][_0xd029ac(0x1f5)](this[_0xd029ac(0x665)]+'\x20('+this['instance'][_0xd029ac(0x4ea)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x3dfbc8[_0xd029ac(0x542)]['apirequest']['bodyString']=JSON[_0xd029ac(0x581)](_0x3dfbc8[_0xd029ac(0x542)][_0xd029ac(0x27a)][_0xd029ac(0x44b)],null,0x1)[_0xd029ac(0x1ba)]()),_0xad36f2['blocks']['push'](_0x3dfbc8[_0xd029ac(0x542)]),this['reorderBlocks'](_0xad36f2[_0xd029ac(0x325)],_0x3dfbc8['block']['groupId']);}[a0_0x50dea5(0x507)](_0x4b5a80,_0x55607a){const _0x349d4e=a0_0x50dea5;let _0x44528e=_0x4b5a80[_0x349d4e(0x6ee)](_0x226482=>_0x226482['groupId']===_0x55607a);_0x44528e['sort']((_0x57defa,_0x622b52)=>_0x57defa[_0x349d4e(0x20d)]-_0x622b52['order']),_0x44528e[_0x349d4e(0x163)]((_0x3f7218,_0x1b8bd7)=>_0x3f7218[_0x349d4e(0x20d)]=_0x1b8bd7+0x1);}async[a0_0x50dea5(0x371)](_0x5d0324){const _0x180458=a0_0x50dea5;try{if(this[_0x180458(0x5c8)][_0x180458(0x1f5)](this[_0x180458(0x665)]+'\x20('+this[_0x180458(0xdd)][_0x180458(0x4ea)]+_0x180458(0x239)),!_0x5d0324||!_0x5d0324[_0x180458(0x605)]){this[_0x180458(0x6f2)]('Data\x20invlida\x20fornecida');return;}let _0x1e99e2=await this['repository'][_0x180458(0x34b)][_0x180458(0xcc)]({'where':{'name':_0x5d0324[_0x180458(0x213)]}},this[_0x180458(0xdd)]['wuid']);_0x1e99e2||this[_0x180458(0x6f2)](_0x180458(0x2e5));let {replyOption:_0x2cbfc3}=_0x5d0324;_0x2cbfc3?.[_0x180458(0x2ca)]?(this[_0x180458(0x300)](_0x1e99e2,_0x5d0324),this[_0x180458(0x617)](_0x1e99e2[_0x180458(0x5d7)],_0x5d0324[_0x180458(0x605)]['blockId'])):_0x2cbfc3[_0x180458(0x3dd)]?(await this[_0x180458(0x42e)](_0x1e99e2,_0x5d0324),this[_0x180458(0x617)](_0x1e99e2[_0x180458(0x5d7)],_0x5d0324[_0x180458(0x605)][_0x180458(0x3f5)])):(this[_0x180458(0x5e3)](_0x1e99e2,_0x5d0324),this['reorderReplyOptions'](_0x1e99e2['replyOptions'],_0x5d0324[_0x180458(0x605)][_0x180458(0x3f5)]));let _0x562343=await this[_0x180458(0x65f)][_0x180458(0x34b)][_0x180458(0x11c)](_0x1e99e2[_0x180458(0x3dd)],_0x1e99e2,this[_0x180458(0xdd)][_0x180458(0x4ea)]);if(_0x562343&&_0x562343['shareOwners']&&_0x562343[_0x180458(0x2a9)][_0x180458(0x6a9)]>0x1&&this[_0x180458(0x318)](_0x562343[_0x180458(0x3dd)],this[_0x180458(0xdd)][_0x180458(0x4ea)]),!_0x562343)throw new Error(_0x180458(0x7b0));return _0x562343;}catch(_0x395cf8){this[_0x180458(0x6f2)](_0x180458(0x484)+_0x395cf8);}}[a0_0x50dea5(0x617)](_0x1c7754,_0x1af46e){const _0x57d011=a0_0x50dea5;console['log'](_0x57d011(0x754),_0x1af46e),_0x1c7754['forEach'](_0x4072b1=>{const _0x5bbe75=_0x57d011;_0x4072b1[_0x5bbe75(0x3f5)]===_0x1af46e&&_0x4072b1['order']===void 0x0&&(_0x4072b1[_0x5bbe75(0x20d)]=0x270f);});let _0x43f2d4=_0x1c7754[_0x57d011(0x6ee)](_0x7530ce=>_0x7530ce['blockId']===_0x1af46e);_0x43f2d4[_0x57d011(0x34e)]((_0x3ec309,_0x4a3299)=>_0x3ec309['order']-_0x4a3299['order']),_0x43f2d4[_0x57d011(0x163)]((_0x25c0ae,_0xdc3741)=>{const _0x403dcd=_0x57d011;_0x25c0ae[_0x403dcd(0x20d)]=_0xdc3741+0x1;}),_0x1c7754[_0x57d011(0x163)](_0x42458d=>{const _0x14bca9=_0x57d011;if(_0x42458d[_0x14bca9(0x3f5)]===_0x1af46e){let _0x4fa33d=_0x43f2d4[_0x14bca9(0x3d9)](_0x4f2272=>_0x4f2272[_0x14bca9(0x3dd)]&&_0x42458d['_id']&&_0x4f2272[_0x14bca9(0x3dd)][_0x14bca9(0x4b1)]()===_0x42458d[_0x14bca9(0x3dd)]['toString']());_0x4fa33d&&(_0x42458d[_0x14bca9(0x20d)]=_0x4fa33d['order']);}}),console[_0x57d011(0x1b3)](_0x57d011(0x45d),_0x1c7754);}['deleteReplyOption'](_0x78bdde,_0x179b9c){const _0x1826ca=a0_0x50dea5;let {replyOption:_0x451d45}=_0x179b9c;if(!_0x451d45[_0x1826ca(0x3dd)]){this['throwAndLogError'](_0x1826ca(0x16d));return;}if(!_0x78bdde[_0x1826ca(0x5d7)]['find'](_0x5c25aa=>_0x5c25aa[_0x1826ca(0x3dd)][_0x1826ca(0x4b1)]()===_0x179b9c['replyOption'][_0x1826ca(0x3dd)][_0x1826ca(0x4b1)]())){this[_0x1826ca(0x6f2)](_0x1826ca(0x1a4)+_0x451d45['_id']+_0x1826ca(0x720));return;}_0x78bdde[_0x1826ca(0x5d7)]=_0x78bdde[_0x1826ca(0x5d7)]['filter'](_0x289a79=>_0x289a79[_0x1826ca(0x3dd)][_0x1826ca(0x4b1)]()!==_0x179b9c['replyOption']['_id']['toString']());}async[a0_0x50dea5(0x42e)](_0x12e16f,_0x14f504){const _0x3591d2=a0_0x50dea5;let _0x5c59ba=_0x12e16f[_0x3591d2(0x5d7)]['findIndex'](_0x56f15a=>_0x56f15a[_0x3591d2(0x3dd)][_0x3591d2(0x4b1)]()===_0x14f504[_0x3591d2(0x605)][_0x3591d2(0x3dd)]['toString']());if(_0x5c59ba===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x14f504[_0x3591d2(0x605)][_0x3591d2(0x3dd)]+_0x3591d2(0x6a0));return;}for(let _0x471524 in _0x14f504[_0x3591d2(0x605)])_0x14f504['replyOption']['hasOwnProperty'](_0x471524)&&(_0x12e16f[_0x3591d2(0x5d7)][_0x5c59ba][_0x471524]=_0x14f504[_0x3591d2(0x605)][_0x471524]);}[a0_0x50dea5(0x5e3)](_0x309ab4,_0x27e52d){const _0xc11667=a0_0x50dea5;_0x309ab4[_0xc11667(0x5d7)][_0xc11667(0x112)](_0x27e52d[_0xc11667(0x605)]);}async[a0_0x50dea5(0x534)](_0x2522c1){const _0x573ff9=a0_0x50dea5;this[_0x573ff9(0x5c8)]['verbose'](this[_0x573ff9(0x665)]+'\x20('+this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]+_0x573ff9(0xfa)+_0x2522c1);try{this[_0x573ff9(0x5c8)][_0x573ff9(0x1f5)](this[_0x573ff9(0x665)]+'\x20('+this['instance']['wuid']+_0x573ff9(0xd9));let _0x1a4e4b=await this[_0x573ff9(0x65f)][_0x573ff9(0x34b)][_0x573ff9(0xcc)]({'where':{'name':_0x2522c1[_0x573ff9(0x213)]}},this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]);if(!_0x1a4e4b)throw new Error(_0x573ff9(0x2e5));if(_0x2522c1[_0x573ff9(0x280)]&&_0x2522c1[_0x573ff9(0x280)]?.[_0x573ff9(0x2ca)]===!0x0){if(this[_0x573ff9(0x5c8)][_0x573ff9(0x1f5)](this[_0x573ff9(0x665)]+'\x20('+this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]+_0x573ff9(0x440)),_0x2522c1[_0x573ff9(0x280)][_0x573ff9(0x378)]===!0x0)return{'message':_0x573ff9(0x3e9)};if(_0x1a4e4b[_0x573ff9(0x325)][_0x573ff9(0x742)](_0xd990e6=>_0xd990e6[_0x573ff9(0x70a)][_0x573ff9(0x4b1)]()===_0x2522c1[_0x573ff9(0x280)][_0x573ff9(0x3dd)]))return this[_0x573ff9(0x5c8)][_0x573ff9(0x1f5)](this['instanceName']+'\x20('+this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]+_0x573ff9(0x2d0)),{'message':'No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x1a4e4b[_0x573ff9(0x3c9)]=_0x1a4e4b[_0x573ff9(0x3c9)]['filter'](_0x25fe1f=>_0x25fe1f[_0x573ff9(0x3dd)][_0x573ff9(0x4b1)]()!==_0x2522c1['group']['_id']);}else{if(_0x2522c1[_0x573ff9(0x280)]){if(_0x2522c1['group'][_0x573ff9(0x378)]===!0x0)return{'message':_0x573ff9(0x212)};if(_0x2522c1[_0x573ff9(0x280)]['_id']){let _0x59ea7d=_0x1a4e4b[_0x573ff9(0x3c9)][_0x573ff9(0x3d9)](_0x3645d0=>_0x3645d0[_0x573ff9(0x3dd)]['toString']()===_0x2522c1[_0x573ff9(0x280)][_0x573ff9(0x3dd)]);_0x59ea7d&&(_0x2522c1['group']['x']<0x0&&(_0x2522c1['group']['x']=0x0),_0x2522c1['group']['y']<0x0&&(_0x2522c1[_0x573ff9(0x280)]['y']=0x0),Object[_0x573ff9(0x790)](_0x59ea7d,_0x2522c1[_0x573ff9(0x280)]));}else _0x1a4e4b['groups']['push'](_0x2522c1[_0x573ff9(0x280)]);}}let _0x40ff64=await this[_0x573ff9(0x65f)]['flow'][_0x573ff9(0x11c)](_0x1a4e4b['_id'],_0x1a4e4b,this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]);if(_0x40ff64&&_0x40ff64[_0x573ff9(0x2a9)]&&_0x40ff64[_0x573ff9(0x2a9)][_0x573ff9(0x6a9)]>0x1&&this[_0x573ff9(0x318)](_0x40ff64[_0x573ff9(0x3dd)],this[_0x573ff9(0xdd)]['wuid']),!_0x40ff64)throw new Error(_0x573ff9(0x7b0));return _0x40ff64;}catch(_0x3cf287){let _0x26fe28=_0x573ff9(0x1a6),_0x9e1d87=_0x3cf287 instanceof Error?_0x3cf287['message']:typeof _0x3cf287==_0x573ff9(0x471)?JSON[_0x573ff9(0x581)](_0x3cf287):_0x3cf287,_0x5db1f8=_0x26fe28+':\x20'+_0x9e1d87;throw this[_0x573ff9(0x5c8)]['error'](this[_0x573ff9(0x665)]+'\x20('+this[_0x573ff9(0xdd)][_0x573ff9(0x4ea)]+_0x573ff9(0x5fd)+_0x5db1f8),new w(_0x5db1f8);}}async[a0_0x50dea5(0x59d)](_0x31824d){const _0x368644=a0_0x50dea5;try{this[_0x368644(0x5c8)][_0x368644(0x1f5)](this[_0x368644(0x665)]+'\x20('+this['instance'][_0x368644(0x4ea)]+'):\x20Editando\x20condio\x20do\x20fluxo...');let _0x381536=await this['repository']['flow']['findOne']({'where':{'name':_0x31824d[_0x368644(0x213)]}},this[_0x368644(0xdd)][_0x368644(0x4ea)]);if(!_0x381536)throw new Error(_0x368644(0x2e5));let _0x248b00=!0x1;if(_0x31824d[_0x368644(0x140)]?.['delete']===!0x0)_0x381536[_0x368644(0x4ec)]=_0x381536[_0x368644(0x4ec)][_0x368644(0x6ee)](_0x21c19e=>_0x21c19e&&_0x31824d[_0x368644(0x140)]&&_0x21c19e[_0x368644(0x3dd)]&&_0x31824d[_0x368644(0x140)][_0x368644(0x3dd)]&&_0x21c19e[_0x368644(0x3dd)][_0x368644(0x4b1)]()!==_0x31824d['condition'][_0x368644(0x3dd)][_0x368644(0x4b1)]()),_0x248b00=!0x0;else{let _0x351937=_0x381536[_0x368644(0x4ec)][_0x368644(0x3d9)](_0x3e16c6=>_0x3e16c6&&_0x31824d[_0x368644(0x140)]&&_0x3e16c6[_0x368644(0x3dd)]&&_0x31824d['condition'][_0x368644(0x3dd)]&&_0x3e16c6[_0x368644(0x3dd)]['toString']()===_0x31824d[_0x368644(0x140)][_0x368644(0x3dd)]['toString']());_0x351937?(_0x248b00=_0x351937['order']!==_0x31824d['condition']['order'],Object[_0x368644(0x790)](_0x351937,_0x31824d['condition'])):(_0x381536[_0x368644(0x4ec)][_0x368644(0x112)](_0x31824d['condition']),_0x248b00=!0x0);}if(_0x248b00){_0x381536[_0x368644(0x4ec)][_0x368644(0x34e)]((_0x290097,_0x1cd0e4)=>_0x290097[_0x368644(0x20d)]>_0x1cd0e4[_0x368644(0x20d)]?0x1:_0x1cd0e4[_0x368644(0x20d)]>_0x290097[_0x368644(0x20d)]?-0x1:0x0);for(let _0xea39ae=0x0;_0xea39ae<_0x381536[_0x368644(0x4ec)]['length'];_0xea39ae++)_0x381536['conditions'][_0xea39ae][_0x368644(0x20d)]=_0xea39ae+0x1;_0x381536[_0x368644(0x4ec)][_0x368644(0x6a9)]>0x0&&(_0x381536[_0x368644(0x4ec)][0x0][_0x368644(0x4ad)]=_0x368644(0x2e6));}let _0x5cddc3=await this['repository']['flow'][_0x368644(0x11c)](_0x381536[_0x368644(0x3dd)],_0x381536,this[_0x368644(0xdd)][_0x368644(0x4ea)]);if(_0x5cddc3&&_0x5cddc3['shareOwners']&&_0x5cddc3[_0x368644(0x2a9)][_0x368644(0x6a9)]>0x1&&this[_0x368644(0x318)](_0x5cddc3[_0x368644(0x3dd)],this['instance'][_0x368644(0x4ea)]),!_0x5cddc3)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5cddc3;}catch(_0x532dcd){let _0x157678=_0x368644(0x658),_0x4043c0=_0x532dcd instanceof Error?_0x532dcd['message']:typeof _0x532dcd=='object'?JSON[_0x368644(0x581)](_0x532dcd):_0x532dcd,_0x34ea59=_0x157678+':\x20'+_0x4043c0;throw this['logger']['error'](this[_0x368644(0x665)]+'\x20('+this[_0x368644(0xdd)][_0x368644(0x4ea)]+_0x368644(0x5fd)+_0x34ea59),new w(_0x34ea59);}}async[a0_0x50dea5(0x6e5)](_0x129370){const _0x5aacdb=a0_0x50dea5;try{this[_0x5aacdb(0x5c8)][_0x5aacdb(0x1f5)](this[_0x5aacdb(0x665)]+'\x20('+this[_0x5aacdb(0xdd)][_0x5aacdb(0x4ea)]+_0x5aacdb(0x33e));let _0x403041=await this[_0x5aacdb(0x65f)]['flow'][_0x5aacdb(0xcc)]({'where':{'name':_0x129370[_0x5aacdb(0x213)]}},this[_0x5aacdb(0xdd)][_0x5aacdb(0x4ea)]);if(!_0x403041)throw new Error('Flow\x20no\x20encontrado');let _0x43cf70=!0x1;if(_0x129370[_0x5aacdb(0x1e1)]?.[_0x5aacdb(0x2ca)]===!0x0)_0x403041[_0x5aacdb(0x3e2)]=_0x403041['varedits'][_0x5aacdb(0x6ee)](_0x257af1=>_0x257af1&&_0x129370[_0x5aacdb(0x1e1)]&&_0x257af1[_0x5aacdb(0x3dd)]&&_0x129370['varedit'][_0x5aacdb(0x3dd)]&&_0x257af1[_0x5aacdb(0x3dd)][_0x5aacdb(0x4b1)]()!==_0x129370['varedit'][_0x5aacdb(0x3dd)][_0x5aacdb(0x4b1)]()),_0x43cf70=!0x0;else{let _0x4b32ca=_0x403041[_0x5aacdb(0x3e2)][_0x5aacdb(0x3d9)](_0x1b98c3=>_0x1b98c3&&_0x129370[_0x5aacdb(0x1e1)]&&_0x1b98c3[_0x5aacdb(0x3dd)]&&_0x129370[_0x5aacdb(0x1e1)][_0x5aacdb(0x3dd)]&&_0x1b98c3[_0x5aacdb(0x3dd)][_0x5aacdb(0x4b1)]()===_0x129370['varedit'][_0x5aacdb(0x3dd)]['toString']());_0x4b32ca?(_0x43cf70=_0x4b32ca[_0x5aacdb(0x20d)]!==_0x129370[_0x5aacdb(0x1e1)]['order'],Object['assign'](_0x4b32ca,_0x129370['varedit'])):(_0x403041['varedits']['push'](_0x129370[_0x5aacdb(0x1e1)]),_0x43cf70=!0x0);}if(_0x43cf70){_0x403041[_0x5aacdb(0x3e2)][_0x5aacdb(0x34e)]((_0x3e3c66,_0x4c3808)=>_0x3e3c66[_0x5aacdb(0x20d)]>_0x4c3808[_0x5aacdb(0x20d)]?0x1:_0x4c3808['order']>_0x3e3c66[_0x5aacdb(0x20d)]?-0x1:0x0);for(let _0x10e089=0x0;_0x10e089<_0x403041[_0x5aacdb(0x3e2)]['length'];_0x10e089++)_0x403041[_0x5aacdb(0x3e2)][_0x10e089]['order']=_0x10e089+0x1;}let _0x471b40=await this[_0x5aacdb(0x65f)][_0x5aacdb(0x34b)][_0x5aacdb(0x11c)](_0x403041[_0x5aacdb(0x3dd)],_0x403041,this[_0x5aacdb(0xdd)]['wuid']);if(_0x471b40&&_0x471b40[_0x5aacdb(0x2a9)]&&_0x471b40[_0x5aacdb(0x2a9)][_0x5aacdb(0x6a9)]>0x1&&this[_0x5aacdb(0x318)](_0x471b40[_0x5aacdb(0x3dd)],this[_0x5aacdb(0xdd)][_0x5aacdb(0x4ea)]),!_0x471b40)throw new Error(_0x5aacdb(0x7b0));return _0x471b40;}catch(_0x28adba){let _0x5610c8='Erro\x20ao\x20editar\x20condio\x20do\x20fluxo',_0xcf775e=_0x28adba instanceof Error?_0x28adba[_0x5aacdb(0x47f)]:typeof _0x28adba==_0x5aacdb(0x471)?JSON['stringify'](_0x28adba):_0x28adba,_0x48ff48=_0x5610c8+':\x20'+_0xcf775e;throw this[_0x5aacdb(0x5c8)][_0x5aacdb(0x190)](this['instanceName']+'\x20('+this[_0x5aacdb(0xdd)][_0x5aacdb(0x4ea)]+_0x5aacdb(0x5fd)+_0x48ff48),new w(_0x48ff48);}}async['editFlowVariable'](_0x5e2ebe){const _0xbe3419=a0_0x50dea5;try{this[_0xbe3419(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0xbe3419(0xdd)][_0xbe3419(0x4ea)]+_0xbe3419(0x3a3));let _0x51e579=await this['repository'][_0xbe3419(0x34b)][_0xbe3419(0xcc)]({'where':{'name':_0x5e2ebe['name']}},this[_0xbe3419(0xdd)][_0xbe3419(0x4ea)]);if(!_0x51e579)throw new Error('Flow\x20no\x20encontrado');_0x5e2ebe[_0xbe3419(0x39d)]['name']=_0x5e2ebe[_0xbe3419(0x39d)][_0xbe3419(0x213)]['trim'](),_0x5e2ebe['variable'][_0xbe3419(0x213)][_0xbe3419(0x702)]('_')&&(_0x5e2ebe[_0xbe3419(0x39d)][_0xbe3419(0x213)]=_0x5e2ebe[_0xbe3419(0x39d)][_0xbe3419(0x213)][_0xbe3419(0x1eb)](0x1)),_0x5e2ebe[_0xbe3419(0x39d)][_0xbe3419(0x213)]=_0x5e2ebe['variable'][_0xbe3419(0x213)]['trim']();let _0x437630=_0x51e579[_0xbe3419(0x482)][_0xbe3419(0x3d9)](_0x1727fd=>_0x1727fd[_0xbe3419(0x213)]===_0x5e2ebe['variable']['name']);if(_0x437630?.[_0xbe3419(0x235)]===!0x0)throw new Error(_0xbe3419(0x595));if(_0x5e2ebe[_0xbe3419(0x39d)]?.['delete']===!0x0){if(!_0x437630)return{'message':_0xbe3419(0x1d7)};_0x51e579[_0xbe3419(0x482)]=_0x51e579[_0xbe3419(0x482)][_0xbe3419(0x6ee)](_0x254fc0=>_0x254fc0[_0xbe3419(0x213)]!==_0x5e2ebe[_0xbe3419(0x39d)]['name']);}else _0x437630?Object['assign'](_0x437630,_0x5e2ebe[_0xbe3419(0x39d)]):_0x51e579[_0xbe3419(0x482)]['push'](_0x5e2ebe[_0xbe3419(0x39d)]);let _0x33bfee=await this[_0xbe3419(0x65f)]['flow'][_0xbe3419(0x11c)](_0x51e579[_0xbe3419(0x3dd)],_0x51e579,this['instance']['wuid']);if(_0x33bfee&&_0x33bfee[_0xbe3419(0x2a9)]&&_0x33bfee[_0xbe3419(0x2a9)]['length']>0x1&&this[_0xbe3419(0x318)](_0x33bfee[_0xbe3419(0x3dd)],this[_0xbe3419(0xdd)][_0xbe3419(0x4ea)]),!_0x33bfee)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x33bfee;}catch(_0x359ca4){let _0x137ac2='Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo',_0x12dd05=_0x359ca4 instanceof Error?_0x359ca4['message']:typeof _0x359ca4==_0xbe3419(0x471)?JSON[_0xbe3419(0x581)](_0x359ca4):_0x359ca4,_0x4c21fc=_0x137ac2+':\x20'+_0x12dd05;throw this[_0xbe3419(0x5c8)][_0xbe3419(0x190)](this[_0xbe3419(0x665)]+'\x20('+this['instance'][_0xbe3419(0x4ea)]+'):\x20'+_0x4c21fc),new w(_0x4c21fc);}}async[a0_0x50dea5(0x56e)](_0x55ebf6){const _0x37b2e=a0_0x50dea5;let _0x10d9ca=null;try{if(!this['AutomateSystem']?.[_0x37b2e(0x661)]['enabled'])throw new w(_0x37b2e(0x551));this[_0x37b2e(0x5c8)][_0x37b2e(0x1f5)](this[_0x37b2e(0x665)]+'\x20('+this[_0x37b2e(0xdd)]['wuid']+'):\x20Iniciando\x20bot...');let _0x15d77f=(await this[_0x37b2e(0x159)]({'numbers':[_0x55ebf6[_0x37b2e(0x1be)]]}))[0x0];if(!_0x15d77f[_0x37b2e(0x40f)]&&!(0x0,f[_0x37b2e(0x5db)])(_0x15d77f[_0x37b2e(0x20a)])&&!_0x15d77f['jid']['includes'](_0x37b2e(0x570)))throw _0x10d9ca=JSON['stringify'](_0x15d77f,null,0x2),new w(_0x15d77f);let _0x570642=await this[_0x37b2e(0x65f)][_0x37b2e(0x34b)][_0x37b2e(0xcc)]({'where':{'name':_0x55ebf6[_0x37b2e(0x213)]}},this[_0x37b2e(0xdd)][_0x37b2e(0x4ea)]);if(!_0x570642)return this[_0x37b2e(0x5c8)][_0x37b2e(0x190)](this['instanceName']+'\x20('+this[_0x37b2e(0xdd)][_0x37b2e(0x4ea)]+_0x37b2e(0x3b3)),{'message':_0x37b2e(0x2e5)};let _0x341026=await this['createConversationforStartFlow'](_0x570642,_0x15d77f[_0x37b2e(0x20a)],_0x55ebf6['changeVariables']);if(_0x341026){this[_0x37b2e(0x5c8)][_0x37b2e(0x1f5)](this[_0x37b2e(0x665)]+'\x20('+this[_0x37b2e(0xdd)][_0x37b2e(0x4ea)]+_0x37b2e(0x1bd));let _0x231e3b=await this[_0x37b2e(0x799)](_0x341026);return _0x231e3b&&await this[_0x37b2e(0x791)](_0x341026,_0x231e3b),{'message':_0x37b2e(0x53e)+_0x55ebf6[_0x37b2e(0x1be)]};}}catch(_0x524c63){if(this[_0x37b2e(0x5c8)][_0x37b2e(0x190)](this[_0x37b2e(0x665)]+'\x20('+this[_0x37b2e(0xdd)][_0x37b2e(0x4ea)]+_0x37b2e(0x422)+(_0x524c63 instanceof Error?_0x524c63['message']:JSON[_0x37b2e(0x581)](_0x524c63,null,0x2))),_0x10d9ca=_0x524c63 instanceof Error?_0x524c63[_0x37b2e(0x47f)]:JSON[_0x37b2e(0x581)](_0x524c63,null,0x2),_0x10d9ca)throw new w(_0x37b2e(0x797)+_0x10d9ca);}}async[a0_0x50dea5(0x305)](_0x1ac336){const _0x5f0fa8=a0_0x50dea5;try{let _0x505b54={'remoteJid':_0x1ac336,'status':'open'},_0x66a2fe={'status':'closed'},_0x41cf3f=await this['repository'][_0x5f0fa8(0x750)]['updateMany'](_0x505b54,_0x66a2fe,this[_0x5f0fa8(0xdd)]['wuid']);return this[_0x5f0fa8(0x5c8)][_0x5f0fa8(0x1f5)](this[_0x5f0fa8(0x665)]+'\x20('+this[_0x5f0fa8(0xdd)][_0x5f0fa8(0x4ea)]+_0x5f0fa8(0x64c)),_0x41cf3f;}catch(_0x58e055){throw this[_0x5f0fa8(0x5c8)][_0x5f0fa8(0x190)](this[_0x5f0fa8(0x665)]+'\x20('+this[_0x5f0fa8(0xdd)][_0x5f0fa8(0x4ea)]+_0x5f0fa8(0x35f)+_0x58e055[_0x5f0fa8(0x47f)]),_0x58e055;}}async[a0_0x50dea5(0x46d)](_0x2f294f,_0x1f9aaf,_0x222dc3){const _0x5a4fa9=a0_0x50dea5;this[_0x5a4fa9(0x5c8)]['verbose'](this[_0x5a4fa9(0x665)]+'\x20('+this[_0x5a4fa9(0xdd)][_0x5a4fa9(0x4ea)]+_0x5a4fa9(0x4f7)),await this[_0x5a4fa9(0x305)](_0x1f9aaf);try{let _0x32ad75=require(_0x5a4fa9(0x759))[_0x5a4fa9(0x2ee)],_0x2acb0c=Date[_0x5a4fa9(0x712)](),_0x3f1939='start',_0x3341ad={},_0x5ec84b={},_0x1b77a6={..._0x2f294f,'chatLog':null},_0x50579c=await this[_0x5a4fa9(0x3b0)](_0x1b77a6[_0x5a4fa9(0x482)]),_0xd2ffc3=await this['getVariablesChat'](_0x1f9aaf),_0x1e4c80={..._0x50579c,..._0xd2ffc3,'_remoteJid':_0x1f9aaf},_0x42f0de={'lastReceivedMessage':_0x3341ad,'lastSendMessage':_0x5ec84b,'lastBlockId':_0x3f1939,'lastCondition':!0x0,'realVariables':_0x1e4c80};_0x1b77a6[_0x5a4fa9(0x1ea)]=_0x42f0de,_0x1b77a6['chatLog'][_0x5a4fa9(0x29a)]={..._0x1e4c80,..._0x222dc3},delete _0x1b77a6['_id'],_0x1b77a6[_0x5a4fa9(0x3dd)]=new _0x32ad75(),_0x1b77a6[_0x5a4fa9(0x3f0)]=_0x2acb0c,_0x1b77a6[_0x5a4fa9(0x373)]=_0x5a4fa9(0x6a3),_0x1b77a6[_0x5a4fa9(0x1be)]=_0x1f9aaf;let _0x48a806=await this['repository']['flowConversation'][_0x5a4fa9(0x11c)](_0x1b77a6[_0x5a4fa9(0x3dd)],_0x1b77a6,this[_0x5a4fa9(0xdd)][_0x5a4fa9(0x4ea)]);return this[_0x5a4fa9(0x5c8)][_0x5a4fa9(0x1f5)](this[_0x5a4fa9(0x665)]+'\x20('+this[_0x5a4fa9(0xdd)]['wuid']+_0x5a4fa9(0x6fe)),_0x48a806?_0x1b77a6:null;}catch(_0x279774){let _0x1dc76e=_0x5a4fa9(0x709),_0x181448=_0x279774 instanceof Error?_0x279774[_0x5a4fa9(0x47f)]:typeof _0x279774=='object'?JSON[_0x5a4fa9(0x581)](_0x279774):_0x279774,_0x43c6af=_0x1dc76e+':\x20'+_0x181448;throw this[_0x5a4fa9(0x5c8)][_0x5a4fa9(0x190)](this[_0x5a4fa9(0x665)]+'\x20('+this['instance'][_0x5a4fa9(0x4ea)]+'):\x20'+_0x43c6af),new w(_0x43c6af);}}async['getConversation'](_0x12808a){const _0x573c06=a0_0x50dea5;try{this[_0x573c06(0x5c8)][_0x573c06(0x1f5)](this[_0x573c06(0x665)]+'\x20('+this['instance'][_0x573c06(0x4ea)]+_0x573c06(0x3e7)),this[_0x573c06(0x5c8)][_0x573c06(0x1f5)](this[_0x573c06(0x665)]+'\x20('+this[_0x573c06(0xdd)]['wuid']+_0x573c06(0x594)+_0x12808a);let _0x573e44={'where':{'_id':_0x12808a}};return await this[_0x573c06(0x65f)][_0x573c06(0x750)][_0x573c06(0xcc)](_0x573e44,this[_0x573c06(0xdd)][_0x573c06(0x4ea)]);}catch(_0x4efe4f){let _0x50bd60=_0x573c06(0x121),_0x4b993f=_0x4efe4f instanceof Error?_0x4efe4f[_0x573c06(0x47f)]:typeof _0x4efe4f=='object'?JSON[_0x573c06(0x581)](_0x4efe4f):_0x4efe4f,_0x5d9d59=_0x50bd60+':\x20'+_0x4b993f;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x573c06(0xdd)]['wuid']+_0x573c06(0x5fd)+_0x5d9d59),new w(_0x5d9d59);}}async[a0_0x50dea5(0x562)](_0x5c484f){const _0x165793=a0_0x50dea5;try{return this[_0x165793(0x5c8)][_0x165793(0x1f5)](this['instanceName']+'\x20('+this[_0x165793(0xdd)][_0x165793(0x4ea)]+'):\x20Buscando\x20conversas...'),await this['repository']['flowConversation'][_0x165793(0x3d9)](_0x5c484f,this[_0x165793(0xdd)][_0x165793(0x4ea)]);}catch(_0x560af9){let _0x5b3a0a=_0x165793(0x18d),_0x4e0bbb=_0x560af9 instanceof Error?_0x560af9[_0x165793(0x47f)]:typeof _0x560af9==_0x165793(0x471)?JSON[_0x165793(0x581)](_0x560af9):_0x560af9,_0x38088f=_0x5b3a0a+':\x20'+_0x4e0bbb;throw this['logger'][_0x165793(0x190)](this[_0x165793(0x665)]+'\x20('+this[_0x165793(0xdd)][_0x165793(0x4ea)]+'):\x20'+_0x38088f),new w(_0x38088f);}}async[a0_0x50dea5(0x76c)](_0x1bc7b6){const _0x302ed9=a0_0x50dea5;try{return this[_0x302ed9(0x5c8)][_0x302ed9(0x1f5)](this[_0x302ed9(0x665)]+'\x20('+this[_0x302ed9(0xdd)][_0x302ed9(0x4ea)]+_0x302ed9(0x214)),this[_0x302ed9(0x5c8)][_0x302ed9(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x302ed9(0x4ea)]+_0x302ed9(0x4d6)+_0x1bc7b6),(await this[_0x302ed9(0x65f)][_0x302ed9(0x750)]['deleteOne']({'where':{'_id':_0x1bc7b6}},this['instance'][_0x302ed9(0x4ea)]))[_0x302ed9(0x178)]===0x0?{'message':_0x302ed9(0x4eb)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x1da66f){let _0x496d66=_0x302ed9(0x6ab),_0x19f453=_0x1da66f instanceof Error?_0x1da66f[_0x302ed9(0x47f)]:typeof _0x1da66f=='object'?JSON[_0x302ed9(0x581)](_0x1da66f):_0x1da66f,_0x7bfa1=_0x496d66+':\x20'+_0x19f453;throw this[_0x302ed9(0x5c8)][_0x302ed9(0x190)](this[_0x302ed9(0x665)]+'\x20('+this[_0x302ed9(0xdd)]['wuid']+_0x302ed9(0x5fd)+_0x7bfa1),new w(_0x7bfa1);}}async[a0_0x50dea5(0x1e3)](_0x14669b){const _0x21ceac=a0_0x50dea5;try{let {_id:_0x3b9659,chatLog:_0x590ff4,status:_0x6e1d05}=_0x14669b;if(!_0x3b9659)return{'message':_0x21ceac(0x671)};let _0x3a1515={};if(_0x6e1d05!==void 0x0&&(_0x3a1515[_0x21ceac(0x373)]=_0x6e1d05),Object[_0x21ceac(0x165)](_0x3a1515)[_0x21ceac(0x6a9)]===0x0)return{'message':_0x21ceac(0x4f2)};let _0x1c7823=await this['repository'][_0x21ceac(0x750)][_0x21ceac(0x11c)](_0x3b9659,_0x3a1515,this[_0x21ceac(0xdd)][_0x21ceac(0x4ea)]);return _0x1c7823||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.'};}catch(_0x4dfafb){let _0x3690aa=_0x21ceac(0x6cb),_0x4b32c9=_0x4dfafb instanceof Error?_0x4dfafb[_0x21ceac(0x47f)]:typeof _0x4dfafb==_0x21ceac(0x471)?JSON[_0x21ceac(0x581)](_0x4dfafb):_0x4dfafb,_0x5aac2d=_0x3690aa+':\x20'+_0x4b32c9;throw this[_0x21ceac(0x5c8)][_0x21ceac(0x190)](this['instanceName']+'\x20('+this[_0x21ceac(0xdd)][_0x21ceac(0x4ea)]+'):\x20'+_0x5aac2d),new w(_0x5aac2d);}}async[a0_0x50dea5(0x4ac)](_0x566d50){const _0x172e27=a0_0x50dea5;console[_0x172e27(0x1b3)](_0x566d50);try{_0x566d50[_0x172e27(0x3dd)]=this['createJid'](_0x566d50[_0x172e27(0x3dd)]);let _0x45ee82=await this[_0x172e27(0x65f)][_0x172e27(0x30d)][_0x172e27(0xcc)]({'where':{'_id':_0x566d50['_id']}},this[_0x172e27(0xdd)][_0x172e27(0x4ea)]);if(!_0x45ee82)throw new w(_0x172e27(0x30e));let {_id:_0x340136,leadInfo:_0x46e2a8}=_0x566d50;if(!_0x340136)throw new Error(_0x172e27(0x45c));if(_0x566d50[_0x172e27(0x2ca)]===_0x172e27(0x115))return await this['deleteChat'](_0x566d50[_0x172e27(0x3dd)]),await this['repository'][_0x172e27(0x30d)]['delete']({'where':{'_id':_0x566d50[_0x172e27(0x3dd)]}},this['instance'][_0x172e27(0x4ea)]),await this[_0x172e27(0x65f)]['message'][_0x172e27(0x2ca)]({'where':{'key':{'remoteJid':_0x566d50[_0x172e27(0x3dd)]}}},this[_0x172e27(0xdd)][_0x172e27(0x4ea)]),_0x566d50=await this['repository'][_0x172e27(0x30d)]['updateOne']({'where':{'_id':_0x566d50[_0x172e27(0x3dd)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x172e27(0xdd)][_0x172e27(0x4ea)]),J(this[_0x172e27(0x665)],'chats',{'chat':_0x566d50}),{'message':_0x172e27(0x4e6)};if(_0x566d50[_0x172e27(0x2ca)]===_0x172e27(0x3d4))return await this[_0x172e27(0x65f)]['message'][_0x172e27(0x2ca)]({'where':{'key':{'remoteJid':_0x566d50[_0x172e27(0x3dd)]}}},this[_0x172e27(0xdd)][_0x172e27(0x4ea)]),_0x566d50=await this[_0x172e27(0x65f)][_0x172e27(0x30d)][_0x172e27(0x11c)]({'where':{'_id':_0x566d50[_0x172e27(0x3dd)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x172e27(0xdd)][_0x172e27(0x4ea)]),J(this[_0x172e27(0x665)],'chats',{'chat':_0x566d50}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x13f64c=(_0x329287,_0x2de3fb,_0x4e066a)=>{const _0x308fb9=_0x172e27;_0x329287&&_0x4e066a[_0x308fb9(0x163)](_0x22fb2e=>{const _0x12c96c=_0x308fb9;_0x329287[_0x22fb2e]!==void 0x0&&(_0x2de3fb[_0x12c96c(0x1c7)+_0x22fb2e]=_0x329287[_0x22fb2e]);});},_0x211a06={};if(_0x46e2a8&&(_0x13f64c(_0x46e2a8,_0x211a06,[_0x172e27(0x5d9),_0x172e27(0x195),_0x172e27(0x155),_0x172e27(0x744),_0x172e27(0x373),_0x172e27(0xd6),_0x172e27(0x303),'atendimentoAberto',_0x172e27(0x167),_0x172e27(0x319)]),Array['isArray'](_0x46e2a8['customFields'])&&(_0x211a06[_0x172e27(0x3da)]=_0x46e2a8[_0x172e27(0x705)]['map'](_0x245f11=>({'_id':_0x245f11['_id'],'value':_0x245f11[_0x172e27(0x57e)]}))),_0x566d50['leadInfo'][_0x172e27(0x319)]!==void 0x0)){let _0x205de9=await this[_0x172e27(0x65f)][_0x172e27(0x773)]['find']({'where':{}},this['instance'][_0x172e27(0x4ea)]),_0xf1834a=new Set(_0x566d50['leadInfo'][_0x172e27(0x319)]||[]),_0x5a300d=new Set(_0x566d50[_0x172e27(0x235)][_0x172e27(0x319)]),_0x3c9d8a=new Set(_0x205de9[_0x172e27(0x298)](_0x819a35=>_0x819a35[_0x172e27(0x3dd)])),_0x4ba1c4=[..._0x5a300d]['filter'](_0x366db7=>!_0xf1834a[_0x172e27(0x2c0)](_0x366db7)&&_0x3c9d8a[_0x172e27(0x2c0)](_0x366db7)),_0x251f12=[..._0xf1834a][_0x172e27(0x6ee)](_0x2c6cc7=>!_0x5a300d['has'](_0x2c6cc7));if(_0x211a06[_0x172e27(0x402)]=[..._0xf1834a],_0x45ee82&&!_0x45ee82[_0x172e27(0x460)]){for(let _0x4a6267 of _0x4ba1c4)await this[_0x172e27(0x2e0)](_0x4a6267,_0x566d50['_id']),_0xf1834a[_0x172e27(0x20e)](_0x4a6267);for(let _0x3bb39f of _0x251f12)await this[_0x172e27(0x1f2)](_0x3bb39f,_0x566d50[_0x172e27(0x3dd)]),_0xf1834a[_0x172e27(0x2ca)](_0x3bb39f);}}if(_0x566d50['unreadcount']!==void 0x0&&(_0x211a06[_0x172e27(0x6ed)]=Number(_0x566d50[_0x172e27(0x6ed)])),Object[_0x172e27(0x165)](_0x211a06)['length']===0x0)throw new Error(_0x172e27(0x4f2));let _0x59ce13=await this[_0x172e27(0x65f)]['chat']['updateOne']({'where':{'_id':_0x566d50[_0x172e27(0x3dd)]}},_0x211a06,this[_0x172e27(0xdd)][_0x172e27(0x4ea)]);return _0x59ce13&&J(this[_0x172e27(0x665)],_0x172e27(0x439),{'chat':_0x59ce13}),_0x59ce13?(this[_0x172e27(0x5c8)][_0x172e27(0x1f5)](this[_0x172e27(0x665)]+'\x20('+this[_0x172e27(0xdd)][_0x172e27(0x4ea)]+_0x172e27(0x5fd)+JSON[_0x172e27(0x581)](_0x59ce13,null,0x2)),_0x59ce13):{'message':_0x172e27(0x441)};}catch(_0x5010f9){let _0x4cf8fb=_0x172e27(0x5dd),_0x145074=_0x5010f9 instanceof Error?_0x5010f9[_0x172e27(0x47f)]:typeof _0x5010f9==_0x172e27(0x471)?JSON[_0x172e27(0x581)](_0x5010f9):_0x5010f9,_0x1a948d=_0x4cf8fb+':\x20'+_0x145074;throw this[_0x172e27(0x5c8)][_0x172e27(0x190)](this[_0x172e27(0x665)]+'\x20('+this[_0x172e27(0xdd)][_0x172e27(0x4ea)]+_0x172e27(0x5fd)+_0x1a948d),new w(_0x1a948d);}}async['AddChatLabel'](_0x4d4085,_0x36dfc6){const _0x3626b9=a0_0x50dea5;try{await this[_0x3626b9(0x704)]['addChatLabel'](_0x36dfc6,_0x4d4085),console[_0x3626b9(0x1b3)]('Label\x20'+_0x4d4085+_0x3626b9(0x1e5)+_0x36dfc6+_0x3626b9(0x343));}catch(_0x42d3f3){console[_0x3626b9(0x190)](_0x3626b9(0x2f4)+_0x4d4085+_0x3626b9(0x74e)+_0x36dfc6+':',_0x42d3f3);}}async[a0_0x50dea5(0x1f2)](_0x556c69,_0xa835d2){const _0x4bdd1=a0_0x50dea5;try{await this[_0x4bdd1(0x704)][_0x4bdd1(0x437)](_0xa835d2,_0x556c69),console[_0x4bdd1(0x1b3)](_0x4bdd1(0x133)+_0x556c69+_0x4bdd1(0x789)+_0xa835d2+_0x4bdd1(0x343));}catch(_0x321425){console[_0x4bdd1(0x190)](_0x4bdd1(0x350)+_0x556c69+'\x20do\x20chat\x20'+_0xa835d2+':',_0x321425);}}async[a0_0x50dea5(0x643)](_0x288105){const _0xe7337d=a0_0x50dea5;try{let _0x18154d=await this['repository'][_0xe7337d(0x3b8)][_0xe7337d(0x30c)](this[_0xe7337d(0xdd)][_0xe7337d(0x4ea)]),_0x439bd8=_0x288105[_0xe7337d(0x3dd)]?_0x18154d['agents'][_0xe7337d(0x7b1)](_0x4af13c=>_0x4af13c['_id']===_0x288105['_id']):-0x1;if(_0x288105[_0xe7337d(0x2ca)]&&_0x439bd8>-0x1)_0x18154d[_0xe7337d(0x210)]['splice'](_0x439bd8,0x1);else{if(_0x439bd8>-0x1){let _0x611324=_0x18154d[_0xe7337d(0x210)][_0x439bd8];_0x288105[_0xe7337d(0x421)]&&(_0x611324[_0xe7337d(0x421)]=_0x288105[_0xe7337d(0x421)]),_0x288105[_0xe7337d(0x213)]&&(_0x611324['name']=_0x288105['name']),_0x288105[_0xe7337d(0x155)]&&(_0x611324[_0xe7337d(0x155)]=_0x288105['email']),_0x288105[_0xe7337d(0x353)]&&(_0x611324[_0xe7337d(0x353)]=_0x288105[_0xe7337d(0x353)]);}else _0x18154d[_0xe7337d(0x210)][_0xe7337d(0x112)]({'_id':_0x288105[_0xe7337d(0x3dd)]||new le[(_0xe7337d(0x378))][(_0xe7337d(0x346))][(_0xe7337d(0x2ee))]()[_0xe7337d(0x4b1)](),'fone':_0x288105[_0xe7337d(0x421)],'name':_0x288105[_0xe7337d(0x213)],'email':_0x288105[_0xe7337d(0x155)],'role':_0x288105['role']});}let _0x18bc0c={'agents':_0x18154d[_0xe7337d(0x210)]},_0x5b00de=await this[_0xe7337d(0x65f)][_0xe7337d(0x3b8)][_0xe7337d(0x760)](_0x18bc0c,this['instance'][_0xe7337d(0x4ea)]);return this[_0xe7337d(0x55d)]=_0x5b00de,this[_0xe7337d(0x5c8)][_0xe7337d(0x1f5)](this[_0xe7337d(0x665)]+'\x20('+this[_0xe7337d(0xdd)][_0xe7337d(0x4ea)]+'):\x20alterando\x20this.AutomateSystem'),this[_0xe7337d(0x5c8)][_0xe7337d(0x1f5)](this[_0xe7337d(0x665)]+'\x20('+this[_0xe7337d(0xdd)][_0xe7337d(0x4ea)]+'):\x20'+this[_0xe7337d(0x55d)]),_0x5b00de;}catch(_0x3973cd){let _0x48eac6=_0xe7337d(0x25f),_0x4aab50=_0x3973cd instanceof Error?_0x3973cd[_0xe7337d(0x47f)]:typeof _0x3973cd==_0xe7337d(0x471)?JSON[_0xe7337d(0x581)](_0x3973cd):_0x3973cd,_0x5e0ae1=_0x48eac6+':\x20'+_0x4aab50;throw this['logger']['error'](this[_0xe7337d(0x665)]+'\x20('+this['instance'][_0xe7337d(0x4ea)]+_0xe7337d(0x5fd)+_0x5e0ae1),new w(_0x5e0ae1);}}async['updateCustomFields'](_0x3cf580){const _0x1d3c25=a0_0x50dea5;try{let _0x45ae88=await this[_0x1d3c25(0x65f)][_0x1d3c25(0x3b8)][_0x1d3c25(0x30c)](this[_0x1d3c25(0xdd)][_0x1d3c25(0x4ea)]),_0x17974f=_0x3cf580[_0x1d3c25(0x3dd)]?_0x45ae88[_0x1d3c25(0x705)]['findIndex'](_0x46d37b=>_0x46d37b[_0x1d3c25(0x3dd)]===_0x3cf580[_0x1d3c25(0x3dd)]):-0x1,_0x14216d=!0x1,_0x36e9f4=_0x45ae88[_0x1d3c25(0x705)][_0x1d3c25(0x742)](_0x52dae4=>_0x52dae4['order']===_0x3cf580[_0x1d3c25(0x20d)]);if(_0x3cf580['delete']&&_0x17974f>-0x1)_0x45ae88[_0x1d3c25(0x705)]['splice'](_0x17974f,0x1),_0x14216d=!0x0;else{if(_0x17974f>-0x1){if(_0x45ae88[_0x1d3c25(0x705)][_0x1d3c25(0x742)](_0x5cda54=>_0x5cda54[_0x1d3c25(0x213)]===_0x3cf580[_0x1d3c25(0x213)]&&_0x5cda54[_0x1d3c25(0x3dd)]!==_0x3cf580[_0x1d3c25(0x3dd)]))throw new Error(_0x1d3c25(0x721));let _0x14640c=_0x45ae88[_0x1d3c25(0x705)][_0x17974f];_0x3cf580[_0x1d3c25(0x20d)]&&(_0x36e9f4||!Number[_0x1d3c25(0x696)](_0x3cf580[_0x1d3c25(0x20d)]))&&(_0x14640c[_0x1d3c25(0x20d)]=_0x3cf580[_0x1d3c25(0x20d)],_0x14216d=!0x0),_0x3cf580['name']&&(_0x14640c['name']=_0x3cf580['name']);}else{if(_0x45ae88[_0x1d3c25(0x705)][_0x1d3c25(0x742)](_0x1e1abc=>_0x1e1abc[_0x1d3c25(0x213)]===_0x3cf580[_0x1d3c25(0x213)]&&_0x1e1abc[_0x1d3c25(0x3dd)]!==_0x3cf580[_0x1d3c25(0x3dd)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');_0x45ae88[_0x1d3c25(0x705)][_0x1d3c25(0x112)]({'_id':_0x3cf580[_0x1d3c25(0x3dd)]||new le[(_0x1d3c25(0x378))]['Types']['ObjectId']()[_0x1d3c25(0x4b1)](),'order':_0x3cf580['order'],'name':_0x3cf580[_0x1d3c25(0x213)]}),_0x14216d=!0x0;}}if(_0x14216d){_0x45ae88['customFields']['sort']((_0x1fbac4,_0x21b3f4)=>_0x1fbac4[_0x1d3c25(0x20d)]>_0x21b3f4[_0x1d3c25(0x20d)]?0x1:_0x21b3f4[_0x1d3c25(0x20d)]>_0x1fbac4['order']?-0x1:0x0);for(let _0x1c20af=0x0;_0x1c20af<_0x45ae88[_0x1d3c25(0x705)][_0x1d3c25(0x6a9)];_0x1c20af++)_0x45ae88[_0x1d3c25(0x705)][_0x1c20af][_0x1d3c25(0x20d)]=_0x1c20af+0x1;}let _0x42e4b0=await this[_0x1d3c25(0x65f)][_0x1d3c25(0x3b8)][_0x1d3c25(0x760)](_0x45ae88,this[_0x1d3c25(0xdd)][_0x1d3c25(0x4ea)]);return this['AutomateSystem']=_0x42e4b0,this[_0x1d3c25(0x5c8)][_0x1d3c25(0x1f5)](this[_0x1d3c25(0x665)]+'\x20('+this[_0x1d3c25(0xdd)][_0x1d3c25(0x4ea)]+_0x1d3c25(0x139)),this[_0x1d3c25(0x5c8)]['verbose'](this[_0x1d3c25(0x665)]+'\x20('+this[_0x1d3c25(0xdd)][_0x1d3c25(0x4ea)]+_0x1d3c25(0x5fd)+this[_0x1d3c25(0x55d)]),_0x42e4b0;}catch(_0x5406a4){let _0x31c8be=_0x1d3c25(0x682),_0x4aeb2e=_0x5406a4 instanceof Error?_0x5406a4[_0x1d3c25(0x47f)]:typeof _0x5406a4==_0x1d3c25(0x471)?JSON['stringify'](_0x5406a4):_0x5406a4,_0x2778cb=_0x31c8be+':\x20'+_0x4aeb2e;throw this[_0x1d3c25(0x5c8)][_0x1d3c25(0x190)](this[_0x1d3c25(0x665)]+'\x20('+this[_0x1d3c25(0xdd)]['wuid']+_0x1d3c25(0x5fd)+_0x2778cb),new w(_0x2778cb);}}async[a0_0x50dea5(0x5c6)](_0x535ee0){const _0x2cd04d=a0_0x50dea5;try{let _0x2def4c=await this[_0x2cd04d(0x65f)][_0x2cd04d(0x3b8)][_0x2cd04d(0x30c)](this[_0x2cd04d(0xdd)][_0x2cd04d(0x4ea)]);if(!_0x2def4c)throw new Error(_0x2cd04d(0x6b9));let _0x5e04b9={'_id':_0x2def4c[_0x2cd04d(0x3dd)],'flowConfig':{'enabled':_0x535ee0['enabled']??_0x2def4c[_0x2cd04d(0x661)][_0x2cd04d(0x42d)],'ignoreGroups':_0x535ee0[_0x2cd04d(0x39b)]??_0x2def4c[_0x2cd04d(0x661)]['ignoreGroups'],'prefixCommand':_0x535ee0[_0x2cd04d(0x44a)]??_0x2def4c['flowConfig'][_0x2cd04d(0x44a)],'stopConversation':_0x535ee0[_0x2cd04d(0x761)]??_0x2def4c['flowConfig']['stopConversation'],'stopMinutes':_0x535ee0[_0x2cd04d(0x3d8)]??_0x2def4c[_0x2cd04d(0x661)]['stopMinutes'],'stopWhenYouSendMsg':_0x535ee0[_0x2cd04d(0x69f)]??_0x2def4c['flowConfig']['stopWhenYouSendMsg']}},_0x2ce648=await this[_0x2cd04d(0x65f)][_0x2cd04d(0x3b8)]['update'](_0x5e04b9,this[_0x2cd04d(0xdd)][_0x2cd04d(0x4ea)]);return this[_0x2cd04d(0x55d)]=_0x2ce648,this[_0x2cd04d(0x5c8)][_0x2cd04d(0x1f5)](this[_0x2cd04d(0x665)]+'\x20('+this[_0x2cd04d(0xdd)][_0x2cd04d(0x4ea)]+_0x2cd04d(0x296)),this['logger']['verbose'](this[_0x2cd04d(0x665)]+'\x20('+this['instance']['wuid']+_0x2cd04d(0x5fd)+this[_0x2cd04d(0x55d)]),setTimeout(()=>this[_0x2cd04d(0x35e)](),0x7d0),_0x2ce648;}catch(_0x4b978c){let _0x51535c=_0x2cd04d(0x1ff),_0x59fb4f=_0x4b978c instanceof Error?_0x4b978c[_0x2cd04d(0x47f)]:typeof _0x4b978c==_0x2cd04d(0x471)?JSON[_0x2cd04d(0x581)](_0x4b978c):_0x4b978c,_0x5e75b1=_0x51535c+':\x20'+_0x59fb4f;throw this[_0x2cd04d(0x5c8)][_0x2cd04d(0x190)](this[_0x2cd04d(0x665)]+'\x20('+this[_0x2cd04d(0xdd)]['wuid']+_0x2cd04d(0x5fd)+_0x5e75b1),new w(_0x5e75b1);}}async['getAutomateSystem'](){const _0x3fbd93=a0_0x50dea5;try{let _0x1afdd8=await this[_0x3fbd93(0x65f)][_0x3fbd93(0x3b8)][_0x3fbd93(0x30c)](this[_0x3fbd93(0xdd)][_0x3fbd93(0x4ea)]);return this[_0x3fbd93(0x55d)]=_0x1afdd8,this[_0x3fbd93(0x5c8)][_0x3fbd93(0x1f5)](this['instanceName']+'\x20('+this[_0x3fbd93(0xdd)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this['logger'][_0x3fbd93(0x1f5)](this[_0x3fbd93(0x55d)]),_0x1afdd8;}catch(_0x1cddac){let _0x5f44b6=_0x3fbd93(0x47a),_0x1c0d90=_0x1cddac instanceof Error?_0x1cddac[_0x3fbd93(0x47f)]:typeof _0x1cddac==_0x3fbd93(0x471)?JSON[_0x3fbd93(0x581)](_0x1cddac):_0x1cddac,_0x453de0=_0x5f44b6+':\x20'+_0x1c0d90;throw this['logger']['error'](this[_0x3fbd93(0x665)]+'\x20('+this['instance'][_0x3fbd93(0x4ea)]+_0x3fbd93(0x5fd)+_0x453de0),new w(_0x453de0);}}async['setRestartTimeout'](){const _0x2c971f=a0_0x50dea5;this[_0x2c971f(0xdd)][_0x2c971f(0x129)]['timeout']&&clearTimeout(this[_0x2c971f(0xdd)]['ScheduleMessage'][_0x2c971f(0x26b)]),this[_0x2c971f(0xdd)][_0x2c971f(0x129)][_0x2c971f(0x26b)]=setTimeout(()=>{const _0xc57a6=_0x2c971f;this[_0xc57a6(0x78d)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x50dea5(0x78d)](){const _0x36d053=a0_0x50dea5;Date[_0x36d053(0x712)]()-this[_0x36d053(0xdd)][_0x36d053(0x129)][_0x36d053(0x275)]>=0x1d4c0&&(this[_0x36d053(0x5c8)][_0x36d053(0x1f5)](this[_0x36d053(0x665)]+'\x20('+this['instance'][_0x36d053(0x4ea)]+_0x36d053(0x5bd)),this[_0x36d053(0xdd)][_0x36d053(0x129)][_0x36d053(0x6d8)]=null,this['instance'][_0x36d053(0x129)]['lastSend']=0x0,this['instance'][_0x36d053(0x129)]['delayMessage']=0x0,await this[_0x36d053(0x35e)]());}async['scheduleNextCheck'](){const _0x573707=a0_0x50dea5;let _0x3e66b8=()=>{const _0x151505=a0_0x4934;this['logger']['verbose'](this[_0x151505(0x665)]+'\x20('+this[_0x151505(0xdd)][_0x151505(0x4ea)]+_0x151505(0x24f)+this['instance'][_0x151505(0x129)][_0x151505(0x6d8)]+_0x151505(0x578));},_0x12d0ce=async()=>{const _0x1087d8=a0_0x4934;this[_0x1087d8(0x5c8)][_0x1087d8(0x1f5)](this[_0x1087d8(0x665)]+'\x20('+this['instance'][_0x1087d8(0x4ea)]+_0x1087d8(0x209));let _0x484ba9=Date[_0x1087d8(0x712)]()-0xc*0x3c*0x3c*0x3e8,_0x544863={'where':{'status':{'$in':['scheduled',_0x1087d8(0x61f)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x484ba9}},{'when':0x0}]}};return await this[_0x1087d8(0x65f)][_0x1087d8(0x13e)]['find'](_0x544863,this[_0x1087d8(0xdd)][_0x1087d8(0x4ea)]);},_0x26c67e=async _0x334b94=>{const _0x399b94=a0_0x4934;for(let _0x1ca539 of _0x334b94){let _0x1e91be={'_id':_0x1ca539[_0x399b94(0x3dd)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x399b94(0x712)]()-0x1770}}]},_0x176fed={'startSend':Date[_0x399b94(0x712)]()};if(!await this[_0x399b94(0x65f)][_0x399b94(0x13e)]['updateOne'](_0x1e91be,_0x176fed,this['instance'][_0x399b94(0x4ea)]))return;if(!this['instance']['ScheduleMessage']['isConnected']){this[_0x399b94(0x5c8)][_0x399b94(0x1f5)](this['instanceName']+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x517));break;}if(_0x1ca539[_0x399b94(0x767)]===_0x399b94(0x34b)&&!this[_0x399b94(0x55d)]?.[_0x399b94(0x661)][_0x399b94(0x42d)]){this['logger'][_0x399b94(0x190)](this['instanceName']+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x651));continue;}(!_0x1ca539['remoteJidsRemaining']||_0x1ca539[_0x399b94(0x40b)][_0x399b94(0x6a9)]===0x0)&&(_0x1ca539=await this['repository'][_0x399b94(0x13e)]['updateOneById'](_0x1ca539[_0x399b94(0x3dd)],{'status':_0x399b94(0x61f),'remoteJidsRemaining':[..._0x1ca539[_0x399b94(0x48f)]]},this[_0x399b94(0xdd)][_0x399b94(0x4ea)]));for(let _0x4659c8 of _0x1ca539[_0x399b94(0x40b)]){if(await this['setRestartTimeout'](),this[_0x399b94(0xdd)]['ScheduleMessage'][_0x399b94(0x275)]=Date[_0x399b94(0x712)](),this[_0x399b94(0xdd)][_0x399b94(0x129)]['ultimaTentativaRemoteJid']===_0x4659c8){this['logger']['error'](this['instanceName']+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x1c8)+_0x4659c8+_0x399b94(0x727));let _0x3c13ed={'$push':{'messagesSend':{'remoteJid':_0x4659c8,'error':!0x0,'id':null,'error_log':'Falha\x20aps\x20vrias\x20tentativas.','log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x4659c8}};await this[_0x399b94(0x65f)][_0x399b94(0x13e)][_0x399b94(0x4e5)](_0x1ca539[_0x399b94(0x3dd)],_0x3c13ed,this[_0x399b94(0xdd)][_0x399b94(0x4ea)]);continue;}if(this[_0x399b94(0xdd)][_0x399b94(0x129)][_0x399b94(0xed)]=_0x4659c8,_0x1ca539[_0x399b94(0x27e)]['some'](_0xda2675=>_0xda2675['remoteJid']===_0x4659c8)){this[_0x399b94(0x5c8)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x4659c8+_0x399b94(0x2de));continue;}if(!this['instance'][_0x399b94(0x129)][_0x399b94(0x52c)]){this[_0x399b94(0x5c8)][_0x399b94(0x1f5)](this[_0x399b94(0x665)]+'\x20('+this['instance']['wuid']+_0x399b94(0x698));break;}if(!this[_0x399b94(0xdd)][_0x399b94(0x129)]['processing_id']){this[_0x399b94(0x5c8)][_0x399b94(0x1f5)](this['instanceName']+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x62c)+_0x1ca539[_0x399b94(0x3dd)]+_0x399b94(0x3bf));break;}if(_0x1ca539[_0x399b94(0x767)]==='flow'&&!this[_0x399b94(0x55d)]?.[_0x399b94(0x661)]['enabled']){this['logger']['error'](this['instanceName']+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x651));break;}let _0x31c14e={'remoteJid':_0x4659c8,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x399b94(0x712)]()},_0x1c1b49=null;try{let _0x5ab64c=await this[_0x399b94(0x78e)](_0x4659c8,_0x1ca539);_0x31c14e[_0x399b94(0x190)]=_0x5ab64c['error'],_0x31c14e['id']=_0x5ab64c['error']?null:_0x5ab64c['id'],_0x31c14e['error_log']=_0x5ab64c[_0x399b94(0x190)]?_0x5ab64c['detail']?_0x5ab64c[_0x399b94(0x788)][_0x399b94(0x4b1)]():'':null;let _0x1c54d6={'$push':{'messagesSend':_0x31c14e},'$pull':{'remoteJidsRemaining':_0x4659c8}},_0x2c96ee=_0x1ca539['_id'];if(_0x1c1b49=await this[_0x399b94(0x65f)]['scheduleMessage'][_0x399b94(0x4e5)](_0x2c96ee,_0x1c54d6,this[_0x399b94(0xdd)][_0x399b94(0x4ea)]),_0x5ab64c[_0x399b94(0x190)])continue;let _0x3ed4a9=this[_0x399b94(0x585)](_0x1ca539[_0x399b94(0x307)],_0x1ca539[_0x399b94(0x407)]);await this['sleep'](_0x3ed4a9);}catch(_0x28e94f){this[_0x399b94(0x5c8)][_0x399b94(0x190)](this[_0x399b94(0x665)]+'\x20('+this[_0x399b94(0xdd)][_0x399b94(0x4ea)]+_0x399b94(0x372)+_0x4659c8+':\x20'+(_0x28e94f instanceof Error?_0x28e94f[_0x399b94(0x47f)]:JSON[_0x399b94(0x581)](_0x28e94f,null,0x2))),_0x31c14e[_0x399b94(0x190)]=!0x0,_0x31c14e[_0x399b94(0x68e)]=_0x28e94f['message'];let _0x4587ef={'$push':{'messagesSend':_0x31c14e},'$pull':{'remoteJidsRemaining':_0x4659c8}},_0x29fdc3=_0x1ca539[_0x399b94(0x3dd)];_0x1c1b49=await this[_0x399b94(0x65f)][_0x399b94(0x13e)]['updateOneById'](_0x29fdc3,_0x4587ef,this[_0x399b94(0xdd)][_0x399b94(0x4ea)]);}finally{if(_0x1c1b49&&_0x1c1b49[_0x399b94(0x373)]===_0x399b94(0x4ce)){this[_0x399b94(0x5c8)][_0x399b94(0x1f5)](this[_0x399b94(0x665)]+'\x20('+this[_0x399b94(0xdd)]['wuid']+_0x399b94(0x62c)+_0x1ca539[_0x399b94(0x3dd)]+_0x399b94(0x6b6));break;}}}let _0x5808b8=await this['repository'][_0x399b94(0x13e)]['findById'](_0x1ca539[_0x399b94(0x3dd)],this['instance']['wuid']);if(_0x5808b8['remoteJidsRemaining'][_0x399b94(0x6a9)]===0x0&&_0x5808b8[_0x399b94(0x373)]!==_0x399b94(0x4ce)){this[_0x399b94(0xdd)][_0x399b94(0x129)][_0x399b94(0xed)]=null;let _0x5324a6={'$set':{'status':_0x399b94(0x39f)}},_0x5b8328=_0x5808b8[_0x399b94(0x3dd)];await this[_0x399b94(0x65f)][_0x399b94(0x13e)][_0x399b94(0x4e5)](_0x5b8328,_0x5324a6,this[_0x399b94(0xdd)][_0x399b94(0x4ea)]);}await new Promise(_0x5b35be=>setTimeout(_0x5b35be,0x1388));}},_0x1b5ed9=async()=>{const _0x264a3c=a0_0x4934;let _0x1360c4={'where':{'status':_0x264a3c(0x71e),'when':{'$gt':Date[_0x264a3c(0x712)]()}}},_0x2086cc=await this[_0x264a3c(0x65f)][_0x264a3c(0x13e)][_0x264a3c(0xcc)](_0x1360c4,this[_0x264a3c(0xdd)][_0x264a3c(0x4ea)]);_0x2086cc&&_0x2086cc[_0x264a3c(0xff)]-Date[_0x264a3c(0x712)]()<=0x5265c00?this[_0x264a3c(0xdd)][_0x264a3c(0x129)]['delayMessage']=_0x2086cc[_0x264a3c(0xff)]-Date[_0x264a3c(0x712)]():this[_0x264a3c(0xdd)][_0x264a3c(0x129)][_0x264a3c(0x3ff)]=(0x3c+Math[_0x264a3c(0x16e)](Math[_0x264a3c(0x2a3)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x264a3c(0x129)][_0x264a3c(0x3ff)]=Math[_0x264a3c(0x77a)](this[_0x264a3c(0xdd)]['ScheduleMessage'][_0x264a3c(0x3ff)],0x7d0);let _0x122d7e=Math['round'](this['instance'][_0x264a3c(0x129)][_0x264a3c(0x3ff)]/0xea60);if(_0x2086cc){let _0x266784=new Date(_0x2086cc[_0x264a3c(0xff)])[_0x264a3c(0x48b)]();this[_0x264a3c(0x5c8)][_0x264a3c(0x1f5)](this[_0x264a3c(0x665)]+'\x20('+this[_0x264a3c(0xdd)][_0x264a3c(0x4ea)]+_0x264a3c(0xda)+_0x266784+_0x264a3c(0x45b)+_0x122d7e+_0x264a3c(0x79d));}else this[_0x264a3c(0x5c8)][_0x264a3c(0x1f5)](this[_0x264a3c(0x665)]+'\x20('+this['instance']['wuid']+_0x264a3c(0x5c2)+_0x122d7e+_0x264a3c(0x79d));setTimeout(()=>this['scheduleNextCheck'](),this[_0x264a3c(0xdd)][_0x264a3c(0x129)]['delayMessage']);};if(this[_0x573707(0xdd)][_0x573707(0x129)][_0x573707(0x6d8)]){await this['setRestartTimeout'](),_0x3e66b8();return;}if(!this[_0x573707(0xdd)][_0x573707(0x129)][_0x573707(0x52c)]){this['logger'][_0x573707(0x1f5)](this[_0x573707(0x665)]+'\x20('+this[_0x573707(0xdd)]['wuid']+'):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado'),this[_0x573707(0xdd)][_0x573707(0x129)][_0x573707(0x6d8)]=null,this[_0x573707(0xdd)][_0x573707(0x129)][_0x573707(0x275)]=0x0,this[_0x573707(0xdd)][_0x573707(0x129)]['delayMessage']=0x0,this[_0x573707(0xdd)][_0x573707(0x129)]['ultimaTentativaRemoteJid']=null;return;}try{let _0xe000c3=await _0x12d0ce();_0xe000c3['length']===0x0?this[_0x573707(0x5c8)][_0x573707(0x1f5)](this[_0x573707(0x665)]+'\x20('+this[_0x573707(0xdd)]['wuid']+_0x573707(0x731)):(this[_0x573707(0xdd)]['ScheduleMessage'][_0x573707(0x6d8)]=_0xe000c3[0x0][_0x573707(0x3dd)],await _0x26c67e(_0xe000c3)),await _0x1b5ed9(),this['instance']['ScheduleMessage']['processing_id']=null,this[_0x573707(0xdd)][_0x573707(0x129)][_0x573707(0xed)]=null;}catch(_0x15a70b){this[_0x573707(0x5c8)][_0x573707(0x190)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x15a70b instanceof Error?_0x15a70b[_0x573707(0x47f)]:JSON[_0x573707(0x581)](_0x15a70b,null,0x2)));}}[a0_0x50dea5(0x585)](_0x3356a8,_0x2a93e6){const _0xeab6f9=a0_0x50dea5;return _0x3356a8=Math[_0xeab6f9(0x77a)](0.5,_0x3356a8),_0x2a93e6=Math['min'](Math['max'](0x3,_0x2a93e6),0x78),Math['floor'](Math[_0xeab6f9(0x2a3)]()*(_0x2a93e6-_0x3356a8+0x1)+_0x3356a8)*0x3e8;}['sleep'](_0x284a99){return new Promise(_0xd390fc=>setTimeout(_0xd390fc,_0x284a99));}async[a0_0x50dea5(0x5a7)](_0x14988a){const _0x374a67=a0_0x50dea5;if(!this['AutomateSystem']&&(await this[_0x374a67(0x785)](),!this[_0x374a67(0x55d)]))return null;_0x14988a=this[_0x374a67(0x5c4)](_0x14988a);let _0x1fce3c=await this[_0x374a67(0x65f)]['chat'][_0x374a67(0xcc)]({'where':{'_id':_0x14988a}},this['instance'][_0x374a67(0x4ea)]),_0xe66cdd={};if(_0x1fce3c&&_0x1fce3c[_0x374a67(0x235)]){let _0x6dd516=_0x1fce3c['leadInfo'];typeof _0x6dd516[_0x374a67(0x5d9)]==_0x374a67(0x2d6)&&(_0xe66cdd[_0x374a67(0x5d9)]=_0x6dd516['nome']),typeof _0x6dd516['nomecompleto']==_0x374a67(0x2d6)&&(_0xe66cdd[_0x374a67(0x195)]=_0x6dd516[_0x374a67(0x195)]),typeof _0x6dd516[_0x374a67(0x155)]==_0x374a67(0x2d6)&&(_0xe66cdd['email']=_0x6dd516[_0x374a67(0x155)]),typeof _0x6dd516[_0x374a67(0x744)]==_0x374a67(0x2d6)&&(_0xe66cdd[_0x374a67(0x744)]=_0x6dd516['cpf']),typeof _0x6dd516[_0x374a67(0x373)]==_0x374a67(0x2d6)&&(_0xe66cdd[_0x374a67(0x373)]=_0x6dd516['status']),typeof _0x6dd516[_0x374a67(0xd6)]==_0x374a67(0x2d6)&&(_0xe66cdd['notas']=_0x6dd516['notas']),typeof _0x6dd516[_0x374a67(0x167)]==_0x374a67(0x2d6)&&(_0xe66cdd['responsavelid']=_0x6dd516['responsavelid']),Array['isArray'](_0x6dd516['tags'])&&(_0xe66cdd[_0x374a67(0x303)]=_0x6dd516[_0x374a67(0x303)][_0x374a67(0x243)](',\x20')),Array[_0x374a67(0x483)](_0x6dd516[_0x374a67(0x319)])&&(_0xe66cdd[_0x374a67(0x319)]=_0x6dd516['etiquetas'][_0x374a67(0x243)](',\x20'));}return _0x1fce3c&&_0x1fce3c[_0x374a67(0x235)]&&_0x1fce3c[_0x374a67(0x235)][_0x374a67(0x705)]&&_0x1fce3c[_0x374a67(0x235)][_0x374a67(0x705)][_0x374a67(0x163)](_0x58424d=>{const _0xdc3772=_0x374a67;let _0x195c93=this['AutomateSystem']?.[_0xdc3772(0x705)]['find'](_0x30f2e6=>_0x30f2e6[_0xdc3772(0x3dd)]===_0x58424d['_id']);_0x195c93&&(_0xe66cdd[_0x195c93[_0xdc3772(0x213)]]=_0x58424d[_0xdc3772(0x57e)]);}),_0xe66cdd;}async[a0_0x50dea5(0x6fd)](_0x52d3cd,_0x245f1f){const _0x47c6a3=a0_0x50dea5;try{let _0x510d10=await this[_0x47c6a3(0x5a7)](_0x245f1f);return this[_0x47c6a3(0x49d)](_0x52d3cd,_0x510d10);}catch(_0x610446){return this[_0x47c6a3(0x5c8)][_0x47c6a3(0x190)](_0x47c6a3(0x5c5)+_0x245f1f+':\x20'+_0x610446),_0x52d3cd;}}async['editScheduleMessage'](_0x1bdf3c){const _0x2e8727=a0_0x50dea5;try{if(this[_0x2e8727(0x5c8)]['verbose'](this[_0x2e8727(0x665)]+'\x20('+this[_0x2e8727(0xdd)][_0x2e8727(0x4ea)]+_0x2e8727(0x4c8)),_0x1bdf3c[_0x2e8727(0x2ca)]&&_0x1bdf3c[_0x2e8727(0x3dd)]){if(this['instance'][_0x2e8727(0x129)][_0x2e8727(0x6d8)]===_0x1bdf3c[_0x2e8727(0x3dd)][_0x2e8727(0x4b1)]())throw new Error(_0x2e8727(0x779));let _0x39274e=await this[_0x2e8727(0x65f)][_0x2e8727(0x13e)][_0x2e8727(0x242)](_0x1bdf3c[_0x2e8727(0x3dd)],this['instance'][_0x2e8727(0x4ea)]);return setTimeout(()=>this[_0x2e8727(0x35e)](),0x7d0),_0x39274e;}let _0x4548e5;if(_0x1bdf3c['_id']&&(_0x4548e5=await this[_0x2e8727(0x65f)]['scheduleMessage'][_0x2e8727(0x35a)](_0x1bdf3c[_0x2e8727(0x3dd)],this[_0x2e8727(0xdd)][_0x2e8727(0x4ea)])),_0x4548e5){let _0x235cf2;if(this[_0x2e8727(0xdd)][_0x2e8727(0x129)]['processing_id']===_0x4548e5['_id'][_0x2e8727(0x4b1)]())_0x235cf2={'$set':{'status':_0x1bdf3c[_0x2e8727(0x373)]}};else{let {_id:_0x2ea68d,..._0x177056}=_0x1bdf3c;_0x235cf2={'$set':_0x177056};}let _0x531d46=await this[_0x2e8727(0x65f)]['scheduleMessage']['updateOneById'](_0x1bdf3c[_0x2e8727(0x3dd)],_0x235cf2,this['instance']['wuid']);return setTimeout(()=>this[_0x2e8727(0x35e)](),0x7d0),_0x531d46;}else{_0x1bdf3c[_0x2e8727(0x591)]=this[_0x2e8727(0xdd)][_0x2e8727(0x4ea)];let _0x39023f=await this[_0x2e8727(0x65f)][_0x2e8727(0x13e)][_0x2e8727(0x6d7)](_0x1bdf3c,this[_0x2e8727(0xdd)][_0x2e8727(0x4ea)]);return setTimeout(()=>this[_0x2e8727(0x35e)](),0x7d0),_0x39023f;}}catch(_0x119eab){let _0x4265eb=_0x2e8727(0x6f4),_0x84b5b2=_0x119eab instanceof Error?_0x119eab[_0x2e8727(0x47f)]:typeof _0x119eab==_0x2e8727(0x471)?JSON[_0x2e8727(0x581)](_0x119eab):_0x119eab,_0x132a63=_0x4265eb+':\x20'+_0x84b5b2;throw this[_0x2e8727(0x5c8)][_0x2e8727(0x190)](this[_0x2e8727(0x665)]+'\x20('+this[_0x2e8727(0xdd)][_0x2e8727(0x4ea)]+'):\x20'+_0x132a63),new w(_0x132a63);}}async[a0_0x50dea5(0x226)](){const _0x4074bd=a0_0x50dea5;try{return await this[_0x4074bd(0x65f)][_0x4074bd(0x13e)][_0x4074bd(0x3d9)]({'where':{}},this['instance']['wuid']);}catch(_0x1e5b13){let _0x494d47=_0x4074bd(0x4df),_0x4b9590=_0x1e5b13 instanceof Error?_0x1e5b13[_0x4074bd(0x47f)]:typeof _0x1e5b13==_0x4074bd(0x471)?JSON[_0x4074bd(0x581)](_0x1e5b13):_0x1e5b13,_0x1f8af7=_0x494d47+':\x20'+_0x4b9590;throw this[_0x4074bd(0x5c8)][_0x4074bd(0x190)](this['instanceName']+'\x20('+this[_0x4074bd(0xdd)]['wuid']+'):\x20'+_0x1f8af7),new w(_0x1f8af7);}}async[a0_0x50dea5(0x429)](){const _0xbc17e4=a0_0x50dea5;try{let _0x51ed64={'status':_0xbc17e4(0x39f)},_0x3d60b5=await this['repository']['scheduleMessage'][_0xbc17e4(0xce)](_0x51ed64,this[_0xbc17e4(0xdd)][_0xbc17e4(0x4ea)]);if(!_0x3d60b5[_0xbc17e4(0x190)])this[_0xbc17e4(0x5c8)][_0xbc17e4(0x1f5)](this[_0xbc17e4(0x665)]+'\x20('+this[_0xbc17e4(0xdd)][_0xbc17e4(0x4ea)]+_0xbc17e4(0x736));else throw new Error(_0x3d60b5[_0xbc17e4(0x190)]['message']||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0xbc17e4(0x226)]();}catch(_0x11af6f){let _0x3eeddd=_0xbc17e4(0x211),_0xa1b333=_0x11af6f instanceof Error?_0x11af6f[_0xbc17e4(0x47f)]:typeof _0x11af6f=='object'?JSON[_0xbc17e4(0x581)](_0x11af6f):_0x11af6f,_0x262b17=_0x3eeddd+':\x20'+_0xa1b333;throw this[_0xbc17e4(0x5c8)][_0xbc17e4(0x190)](this[_0xbc17e4(0x665)]+'\x20('+this['instance'][_0xbc17e4(0x4ea)]+_0xbc17e4(0x5fd)+_0x262b17),new w(_0x262b17);}}async[a0_0x50dea5(0x78e)](_0x3bbfa3,_0x46f773){const _0x16b587=a0_0x50dea5;try{if(_0x46f773['type']===_0x16b587(0x34b)&&!this[_0x16b587(0x55d)]?.[_0x16b587(0x661)][_0x16b587(0x42d)])return this[_0x16b587(0x5c8)][_0x16b587(0x190)](this[_0x16b587(0x665)]+'\x20('+this[_0x16b587(0xdd)][_0x16b587(0x4ea)]+_0x16b587(0x60e)),{'error':!0x0,'detail':_0x16b587(0x551)};switch(_0x46f773[_0x16b587(0x767)]){case'text':return await this[_0x16b587(0x418)](_0x46f773,_0x3bbfa3);case _0x16b587(0x1af):return await this[_0x16b587(0x3f1)](_0x46f773,_0x3bbfa3);case _0x16b587(0x574):return await this['scheduleSendAudio'](_0x46f773,_0x3bbfa3);case _0x16b587(0x34b):let _0x3211de=new je();return _0x3211de['name']=_0x46f773[_0x16b587(0x2f7)],_0x3211de[_0x16b587(0x1be)]=_0x3bbfa3,await this['startFlow'](_0x3211de);break;default:return this[_0x16b587(0x5c8)]['error'](this[_0x16b587(0x665)]+'\x20('+this[_0x16b587(0xdd)][_0x16b587(0x4ea)]+_0x16b587(0x63a)+_0x46f773['type']),{'error':!0x0,'detail':_0x16b587(0x419)};}}catch(_0x2b9e93){return this[_0x16b587(0x5c8)][_0x16b587(0x190)](this[_0x16b587(0x665)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x2b9e93 instanceof Error?_0x2b9e93[_0x16b587(0x47f)]:JSON[_0x16b587(0x581)](_0x2b9e93,null,0x2))),{'error':!0x0,'detail':_0x2b9e93['message']};}}['getRandomText'](_0x6d8cce){const _0x4021df=a0_0x50dea5;let _0x533eb5=_0x6d8cce[_0x4021df(0x531)]('|'),_0x4caeda=Math[_0x4021df(0x16e)](Math[_0x4021df(0x2a3)]()*_0x533eb5[_0x4021df(0x6a9)]);return _0x533eb5[_0x4caeda][_0x4021df(0x1ba)]();}async[a0_0x50dea5(0x418)](_0x28e63a,_0x395578){const _0x454183=a0_0x50dea5;if(this['logger'][_0x454183(0x1f5)](this[_0x454183(0x665)]+'\x20('+this[_0x454183(0xdd)][_0x454183(0x4ea)]+'):\x20Enviando\x20texto'),!_0x28e63a[_0x454183(0x47f)][_0x454183(0x26d)]||_0x28e63a[_0x454183(0x47f)]['text'][_0x454183(0x6a9)]===0x0)return{'error':!0x0,'detail':_0x454183(0x207)};let _0xe73e96=this['getRandomText'](_0x28e63a[_0x454183(0x47f)][_0x454183(0x26d)]),_0x34458e=await this[_0x454183(0x6fd)](_0xe73e96,_0x395578),_0x348dac={'number':_0x395578,'options':{'delay':_0x28e63a[_0x454183(0x47f)][_0x454183(0x538)],'linkPreview':_0x28e63a[_0x454183(0x47f)][_0x454183(0x1ce)]},'textMessage':{'text':_0x34458e}},_0x3eff01=null;try{let _0x5e1a08=await this[_0x454183(0x457)](_0x348dac);if(_0x5e1a08&&_0x5e1a08[_0x454183(0x373)])return{'error':!0x1,'id':_0x5e1a08[_0x454183(0x6a8)]['id']};_0x3eff01=JSON[_0x454183(0x581)](_0x5e1a08),this['logger'][_0x454183(0x1f5)](this[_0x454183(0x665)]+'\x20('+this[_0x454183(0xdd)][_0x454183(0x4ea)]+_0x454183(0x5fd)+_0x3eff01);}catch(_0x5f17a3){this[_0x454183(0x5c8)]['error'](this[_0x454183(0x665)]+'\x20('+this['instance'][_0x454183(0x4ea)]+_0x454183(0x281)+(_0x5f17a3 instanceof Error?_0x5f17a3[_0x454183(0x47f)]:JSON[_0x454183(0x581)](_0x5f17a3,null,0x2))),_0x3eff01=_0x5f17a3[_0x454183(0x47f)];}if(_0x3eff01)return{'error':!0x0,'detail':(typeof _0x3eff01=='object'?JSON[_0x454183(0x581)](_0x3eff01,null,0x2):_0x3eff01)[_0x454183(0x24a)](/[\[\]{}\n]/g,'\x20')[_0x454183(0x24a)](/  +/g,'\x20')};}async[a0_0x50dea5(0x3f1)](_0x3d556e,_0x50872a){const _0x1732d3=a0_0x50dea5;this['logger'][_0x1732d3(0x1f5)](this[_0x1732d3(0x665)]+'\x20('+this[_0x1732d3(0xdd)][_0x1732d3(0x4ea)]+_0x1732d3(0x182));let _0x31eff2;if(_0x3d556e[_0x1732d3(0x47f)][_0x1732d3(0x26d)]&&_0x3d556e[_0x1732d3(0x47f)]['text'][_0x1732d3(0x6a9)]>0x0){let _0xa24ae4=this[_0x1732d3(0x1e6)](_0x3d556e['message'][_0x1732d3(0x26d)]);_0x31eff2=await this[_0x1732d3(0x6fd)](_0xa24ae4,_0x50872a);}let _0x2d6f56={'number':_0x50872a,'options':{'delay':_0x3d556e['message'][_0x1732d3(0x538)],'linkPreview':_0x3d556e[_0x1732d3(0x47f)][_0x1732d3(0x1ce)]},'mediaMessage':{'mediatype':_0x3d556e['message']['mediatype'],'caption':_0x31eff2,'media':_0x3d556e[_0x1732d3(0x47f)][_0x1732d3(0x4d9)]}},_0x483456=null;try{let _0x5a7965=await this[_0x1732d3(0x477)](_0x2d6f56);if(_0x5a7965&&_0x5a7965[_0x1732d3(0x373)])return{'error':!0x1,'id':_0x5a7965[_0x1732d3(0x6a8)]['id']};_0x483456=JSON[_0x1732d3(0x581)](_0x5a7965),this[_0x1732d3(0x5c8)][_0x1732d3(0x1f5)](this[_0x1732d3(0x665)]+'\x20('+this[_0x1732d3(0xdd)][_0x1732d3(0x4ea)]+_0x1732d3(0x5fd)+_0x483456);}catch(_0x19fa2f){this['logger'][_0x1732d3(0x190)](this['instanceName']+'\x20('+this[_0x1732d3(0xdd)][_0x1732d3(0x4ea)]+_0x1732d3(0x23a)+(_0x19fa2f instanceof Error?_0x19fa2f[_0x1732d3(0x47f)]:JSON[_0x1732d3(0x581)](_0x19fa2f,null,0x2))),_0x483456=_0x19fa2f[_0x1732d3(0x47f)];}if(_0x483456)return{'error':!0x0,'detail':(typeof _0x483456==_0x1732d3(0x471)?JSON['stringify'](_0x483456,null,0x2):_0x483456)[_0x1732d3(0x24a)](/[\[\]{}\n]/g,'\x20')[_0x1732d3(0x24a)](/  +/g,'\x20')};}async[a0_0x50dea5(0x598)](_0x5d67a1,_0xa98ce9){const _0x40086a=a0_0x50dea5;this['logger'][_0x40086a(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x40086a(0x4ea)]+_0x40086a(0x741));let _0x443ef2={'number':_0xa98ce9,'options':{'delay':_0x5d67a1['message'][_0x40086a(0x538)]},'audioMessage':{'audio':_0x5d67a1['message'][_0x40086a(0x4d9)]}},_0x341c40=null;try{let _0x1e1ef3=await this[_0x40086a(0x4aa)](_0x443ef2);if(_0x1e1ef3&&_0x1e1ef3[_0x40086a(0x373)])return{'error':!0x1,'id':_0x1e1ef3['key']['id']};_0x341c40=JSON[_0x40086a(0x581)](_0x1e1ef3),this[_0x40086a(0x5c8)][_0x40086a(0x1f5)](this['instanceName']+'\x20('+this['instance'][_0x40086a(0x4ea)]+'):\x20'+_0x341c40);}catch(_0x2466ea){this[_0x40086a(0x5c8)][_0x40086a(0x190)](this[_0x40086a(0x665)]+'\x20('+this[_0x40086a(0xdd)]['wuid']+_0x40086a(0x368)+(_0x2466ea instanceof Error?_0x2466ea[_0x40086a(0x47f)]:JSON[_0x40086a(0x581)](_0x2466ea,null,0x2))),_0x341c40=_0x2466ea[_0x40086a(0x47f)];}if(_0x341c40)return{'error':!0x0,'detail':(typeof _0x341c40==_0x40086a(0x471)?JSON[_0x40086a(0x581)](_0x341c40,null,0x2):_0x341c40)[_0x40086a(0x24a)](/[\[\]{}\n]/g,'\x20')[_0x40086a(0x24a)](/  +/g,'\x20')};}},Jt=class c{constructor(_0x436fa6,_0x870d8f,_0x251f2f){const _0x5abbdb=a0_0x50dea5;this[_0x5abbdb(0x206)]=_0x436fa6,this['configService']=_0x870d8f,this[_0x5abbdb(0x65f)]=_0x251f2f,this['db']={},this[_0x5abbdb(0x1f4)]={},this['logger']=new N(c[_0x5abbdb(0x213)]),this[_0x5abbdb(0x782)]={},(this[_0x5abbdb(0x445)](),this[_0x5abbdb(0x3ee)](),Object[_0x5abbdb(0x790)](this['db'],_0x870d8f[_0x5abbdb(0x42a)](_0x5abbdb(0x366))),Object[_0x5abbdb(0x790)](this[_0x5abbdb(0x1f4)],_0x870d8f[_0x5abbdb(0x42a)](_0x5abbdb(0x6fc))),this['dbInstance']=this['db'][_0x5abbdb(0x73b)]?this[_0x5abbdb(0x65f)][_0x5abbdb(0x1c2)]?.['db'](this['db']['CONNECTION'][_0x5abbdb(0x6a4)]+_0x5abbdb(0xd0)):void 0x0,this[_0x5abbdb(0x311)]=this[_0x5abbdb(0x1f4)][_0x5abbdb(0x73b)]?new ne(this[_0x5abbdb(0x1f4)]):void 0x0);}async[a0_0x50dea5(0x338)](_0x1c9812){const _0x49d833=a0_0x50dea5;if(_0x1c9812&&!this[_0x49d833(0x782)][_0x1c9812])throw new F(_0x49d833(0x17a)+_0x1c9812+_0x49d833(0x7af));let _0x8899da=[];for await(let [_0x49642e,_0x2ede2a]of Object[_0x49d833(0x273)](this['waInstances']))if(_0x2ede2a&&_0x2ede2a[_0x49d833(0x168)]['state']===_0x49d833(0x6a3)){let _0x431ffd=await this[_0x49d833(0x65f)][_0x49d833(0x438)][_0x49d833(0x3d9)](_0x49642e);_0x8899da[_0x49d833(0x112)]({'instance':{'instanceName':_0x49642e,'apikey':_0x431ffd['apikey'],'owner':_0x2ede2a[_0x49d833(0x4ea)],'profileName':await _0x2ede2a[_0x49d833(0x4b7)]()||'not\x20loaded','profilePictureUrl':_0x2ede2a[_0x49d833(0x79a)]}});}return _0x8899da[_0x49d833(0x3d9)](_0xcd2ada=>_0xcd2ada[_0x49d833(0xdd)][_0x49d833(0x665)]===_0x1c9812)??_0x8899da;}async[a0_0x50dea5(0x2db)](_0x47ca84){const _0x147ad3=a0_0x50dea5;if(this['db'][_0x147ad3(0x73b)]&&(await this[_0x147ad3(0x65f)][_0x147ad3(0x1c2)]['connect'](),(await this[_0x147ad3(0x4f5)][_0x147ad3(0x548)]())[_0x147ad3(0x6a9)]>0x0&&await this[_0x147ad3(0x4f5)][_0x147ad3(0x624)](_0x47ca84)),this[_0x147ad3(0x1f4)][_0x147ad3(0x73b)]){this[_0x147ad3(0x311)][_0x147ad3(0x388)]=_0x47ca84,await this[_0x147ad3(0x311)][_0x147ad3(0x597)]();return;}}async[a0_0x50dea5(0x7a4)](){const _0x2a04f0=a0_0x50dea5;await this['InstancesAlterarTodas']();let _0x42becf=async _0x45f520=>{const _0x5eb542=a0_0x4934;let _0x3da673=new be(this[_0x5eb542(0x5fc)],this[_0x5eb542(0x206)],this[_0x5eb542(0x65f)]);_0x3da673[_0x5eb542(0x665)]=_0x45f520,await _0x3da673['connectToWhatsapp'](),this['waInstances'][_0x45f520]=_0x3da673;};try{if(this[_0x2a04f0(0x1f4)][_0x2a04f0(0x73b)]){let _0x5198fa=await this[_0x2a04f0(0x311)][_0x2a04f0(0x473)]();_0x5198fa?.[_0x2a04f0(0x6a9)]>0x0&&_0x5198fa['forEach'](async _0x3729ab=>await _0x42becf(_0x3729ab[_0x2a04f0(0x531)](':')[0x1]));return;}if(this['db'][_0x2a04f0(0x73b)]){await this[_0x2a04f0(0x65f)][_0x2a04f0(0x1c2)][_0x2a04f0(0x197)]();let _0x1c5ef9=await this[_0x2a04f0(0x4f5)][_0x2a04f0(0x548)]();_0x1c5ef9[_0x2a04f0(0x6a9)]>0x0&&_0x1c5ef9['forEach'](async _0x5aae8d=>await _0x42becf(_0x5aae8d[_0x2a04f0(0x59c)][_0x2a04f0(0x24a)](/^[\w-]+\./,'')));return;}}catch(_0x50cfab){this[_0x2a04f0(0x5c8)][_0x2a04f0(0x190)](_0x50cfab);}}async[a0_0x50dea5(0x364)](){const _0x21de79=a0_0x50dea5;let _0x46c915=await this['repository'][_0x21de79(0x438)][_0x21de79(0x592)](),_0x332afe=_0x46c915[_0x21de79(0x6ee)](_0x3e61c2=>!this[_0x21de79(0x782)][_0x3e61c2['_id']]&&(_0x3e61c2['online']||typeof _0x3e61c2['online']>'u'));_0x332afe[_0x21de79(0x6a9)]>0x0&&await Promise['all'](_0x332afe[_0x21de79(0x298)](async _0x47ec3d=>{const _0x637b85=_0x21de79;let _0x3b11e4={'online':!0x1,'lastDisconnect':Date[_0x637b85(0x712)]()};await this['repository'][_0x637b85(0x438)][_0x637b85(0x39c)](_0x3b11e4,_0x47ec3d[_0x637b85(0x3dd)]);}));let _0x80e532=Date[_0x21de79(0x712)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5c2a68=_0x46c915[_0x21de79(0x6ee)](_0x4320dd=>!this[_0x21de79(0x782)][_0x4320dd['_id']]&&typeof _0x4320dd['lastDisconnect']<'u'&&_0x4320dd['lastDisconnect']<_0x80e532);_0x5c2a68['length']>0x0&&await Promise[_0x21de79(0x115)](_0x5c2a68[_0x21de79(0x298)](async _0x3c9dcf=>{}));}async[a0_0x50dea5(0x2c9)](){const _0xb84eaa=a0_0x50dea5;try{let _0x4bd63d={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x38fbff={'online':!0x1,'lastDisconnect':Date['now']()},_0x29af6b=await this[_0xb84eaa(0x65f)][_0xb84eaa(0x438)][_0xb84eaa(0x3d6)](_0x4bd63d,_0x38fbff);console[_0xb84eaa(0x1b3)](_0xb84eaa(0x136)+_0x29af6b[_0xb84eaa(0x255)]),await this[_0xb84eaa(0x6bb)]();}catch(_0x32010a){console[_0xb84eaa(0x190)](_0xb84eaa(0x103),_0x32010a);}}async['removeOlderDisconnectedInstances'](){const _0x4fb000=a0_0x50dea5;try{let _0x27833e={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x4da87d=await this[_0x4fb000(0x65f)]['auth']['deleteMany'](_0x27833e);console[_0x4fb000(0x1b3)](_0x4fb000(0x64d)+_0x4da87d[_0x4fb000(0x255)]);}catch(_0x24de29){console[_0x4fb000(0x190)](_0x4fb000(0x333),_0x24de29);}}['removeInstance'](){const _0x2d5cd3=a0_0x50dea5;this[_0x2d5cd3(0x206)]['on']('remove.instance',async _0x5627b9=>{const _0x113600=_0x2d5cd3;try{this[_0x113600(0x782)][_0x5627b9]=void 0x0;}catch{}try{this[_0x113600(0x2db)](_0x5627b9);}finally{this[_0x113600(0x5c8)][_0x113600(0x7a5)](_0x113600(0x17a)+_0x5627b9+_0x113600(0x1b5));}});}[a0_0x50dea5(0x3ee)](){const _0x1a5f3c=a0_0x50dea5;this[_0x1a5f3c(0x206)]['on'](_0x1a5f3c(0x3a4),async _0x4897c1=>{const _0x5cfb0e=_0x1a5f3c;try{this[_0x5cfb0e(0x782)][_0x4897c1]=void 0x0;}catch{}try{this[_0x5cfb0e(0x2db)](_0x4897c1);}finally{this[_0x5cfb0e(0x5c8)][_0x5cfb0e(0x7a5)]('Instance\x20\x22'+_0x4897c1+_0x5cfb0e(0x323));}});}},qt=class extends x{['getChatModelForOwner'](_0x4a537a){return Ys(_0x4a537a);}async[a0_0x50dea5(0x557)](_0xf69de6){const _0x1c3490=a0_0x50dea5;if(_0xf69de6['length']!==0x0)try{return{'insertCount':(await this[_0x1c3490(0x6a7)](_0xf69de6[0x0][_0x1c3490(0x591)])['insertMany']([..._0xf69de6]))['length']};}catch(_0x1c4750){return _0x1c4750;}}async[a0_0x50dea5(0x3d9)](_0xfe9526,_0x203360){const _0x877048=a0_0x50dea5;try{let _0x15f771=this['getChatModelForOwner'](_0x203360),_0x2e204c=$(_0xfe9526[_0x877048(0x4bb)]);return await _0x15f771[_0x877048(0x3d9)](_0x2e204c)[_0x877048(0x34e)]({'lastmsg':-0x1})['limit'](_0xfe9526?.[_0x877048(0x1f3)]??0x0)[_0x877048(0x258)]();}catch{return[];}}async['delete'](_0x3f14b6,_0x5c792d){const _0xd5c6f5=a0_0x50dea5;try{return{'deletedCount':(await this[_0xd5c6f5(0x6a7)](_0x5c792d)[_0xd5c6f5(0xce)]({..._0x3f14b6[_0xd5c6f5(0x4bb)]}))[_0xd5c6f5(0x178)]};}catch(_0x48df36){return{'error':_0x48df36?.[_0xd5c6f5(0x4b1)]()};}}async['deleteAll'](_0x4bd0d9,_0x541245){const _0x2d7d34=a0_0x50dea5;try{return await this[_0x2d7d34(0x6a7)](_0x541245)[_0x2d7d34(0xce)]({..._0x4bd0d9[_0x2d7d34(0x4bb)]}),[];}catch(_0x23f108){return{'error':_0x23f108?.['toString']()};}}async[a0_0x50dea5(0xcc)](_0x5ada3d,_0x497ee3){const _0x4c7ce8=a0_0x50dea5;try{let _0xfa7103=this[_0x4c7ce8(0x6a7)](_0x497ee3),_0x1aea88=$(_0x5ada3d[_0x4c7ce8(0x4bb)]);return await _0xfa7103[_0x4c7ce8(0xcc)](_0x1aea88)[_0x4c7ce8(0x258)]();}catch{return null;}}async[a0_0x50dea5(0x11c)](_0x4b94a2,_0x376e7a,_0x593af5,_0x151b09,_0x571a2c=a0_0x50dea5(0x229)){const _0x2d2dd2=a0_0x50dea5;try{let _0x243e20={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x151b09},_0x27e466=this[_0x2d2dd2(0x6a7)](_0x593af5),_0x561348=$(_0x4b94a2[_0x2d2dd2(0x4bb)]);Object['keys'](_0x376e7a)['forEach'](_0x2e96c2=>{_0x376e7a[_0x2e96c2]==null&&delete _0x376e7a[_0x2e96c2];});let _0x2e4400={};return _0x2e4400[_0x571a2c]=_0x376e7a,await _0x27e466['findOneAndUpdate'](_0x561348,_0x2e4400,_0x243e20);}catch(_0x363dda){return console[_0x2d2dd2(0x190)](_0x363dda),null;}}async['updateMany'](_0x5d6a1c){const _0x3503dc=a0_0x50dea5;try{let _0x465a75=this[_0x3503dc(0x6a7)](_0x5d6a1c[0x0]['query'][_0x3503dc(0x4bb)][_0x3503dc(0x591)]),_0x2e1dc9=_0x5d6a1c[_0x3503dc(0x298)](_0x4a3148=>({'updateOne':{'filter':{..._0x4a3148[_0x3503dc(0x583)][_0x3503dc(0x4bb)]},'update':{'$set':_0x4a3148[_0x3503dc(0x760)]},'upsert':!0x0}})),_0xa66c6e=await _0x465a75[_0x3503dc(0x7ad)](_0x2e1dc9);return _0xa66c6e[_0x3503dc(0x67f)]+_0xa66c6e[_0x3503dc(0x513)];}catch(_0x1a8442){return console[_0x3503dc(0x190)](_0x1a8442),0x0;}}async[a0_0x50dea5(0x101)](_0x28e6f6){const _0x4cbf9c=a0_0x50dea5;try{let _0x1703c8=this[_0x4cbf9c(0x6a7)](_0x28e6f6),_0x45e322={'labels':{'$exists':!0x0}},_0xbf8396={'$unset':{'labels':''}};return(await _0x1703c8['updateMany'](_0x45e322,_0xbf8396))[_0x4cbf9c(0x67f)];}catch(_0x17e5a9){return console['error'](_0x17e5a9),0x0;}}async[a0_0x50dea5(0x32e)](_0x1676d4){const _0x2da75=a0_0x50dea5;try{let _0x51f2e0=this[_0x2da75(0x6a7)](_0x1676d4),_0x349d0f={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5678a0={'$set':{'leadInfo.etiquetas':[]}};return(await _0x51f2e0[_0x2da75(0xf2)](_0x349d0f,_0x5678a0))['modifiedCount'];}catch(_0x32e29a){return console[_0x2da75(0x190)](_0x32e29a),0x0;}}async[a0_0x50dea5(0x120)](_0x418df5){const _0x2fab33=a0_0x50dea5;try{let _0x3d8be5=this[_0x2fab33(0x6a7)](_0x418df5),_0x1724e7={'leadInfo.tags':{'$exists':!0x1}},_0x53c5f3={'$set':{'leadInfo.tags':[]}};return(await _0x3d8be5[_0x2fab33(0xf2)](_0x1724e7,_0x53c5f3))[_0x2fab33(0x67f)];}catch(_0x215610){return console[_0x2fab33(0x190)](_0x215610),0x0;}}async[a0_0x50dea5(0x64e)](_0x4d93f3){const _0x162497=a0_0x50dea5;try{let _0x1061a2=this[_0x162497(0x6a7)](_0x4d93f3),_0x5872d8={'leadInfo.customFields':{'$exists':!0x1}},_0x206780={'$set':{'leadInfo.customFields':[]}};return(await _0x1061a2[_0x162497(0xf2)](_0x5872d8,_0x206780))['modifiedCount'];}catch(_0x43dff3){return console['error'](_0x43dff3),0x0;}}async[a0_0x50dea5(0x5b8)](_0x5d1a34,_0x208c46){const _0x3c8ede=a0_0x50dea5;if(!Array[_0x3c8ede(0x483)](_0x5d1a34)||_0x5d1a34[_0x3c8ede(0x6a9)]===0x0)throw new Error(_0x3c8ede(0x510));try{return(await this[_0x3c8ede(0x6a7)](_0x208c46)[_0x3c8ede(0x5b8)](_0x5d1a34))['length'];}catch(_0x226380){throw console[_0x3c8ede(0x190)]('Erro\x20ao\x20inserir\x20chats:',_0x226380),_0x226380;}}async[a0_0x50dea5(0x1a9)](_0x3e26f0,_0x4ebf75){const _0x386e89=a0_0x50dea5;try{await this[_0x386e89(0x6a7)](_0x4ebf75)[_0x386e89(0x242)]({'_id':_0x3e26f0});}catch(_0xe0c1d4){throw console[_0x386e89(0x190)](_0x386e89(0x3a0),_0xe0c1d4),_0xe0c1d4;}}},Vt=class extends x{constructor(_0xde33b1,_0x23dd72,_0x21d564){const _0x11e6f7=a0_0x50dea5;super(_0x23dd72),this['cacheContactModel']=_0xde33b1,this[_0x11e6f7(0x5fc)]=_0x23dd72,this[_0x11e6f7(0x5ae)]=_0x21d564;}async[a0_0x50dea5(0x557)](_0x343048){const _0x16317e=a0_0x50dea5;if(_0x343048[_0x16317e(0x6a9)]!==0x0)try{return{'insertCount':(await this[_0x16317e(0x6e1)][_0x16317e(0x5b8)]([..._0x343048]))[_0x16317e(0x6a9)]};}catch(_0x2d76bb){return _0x2d76bb;}}async[a0_0x50dea5(0x760)](_0x2a70d7,_0x103dfc){const _0x3fbacd=a0_0x50dea5;try{let _0x2479c7=$(_0x2a70d7[_0x3fbacd(0x4bb)]);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x2479c7,{'$set':_0x103dfc}))[_0x3fbacd(0x67f)]};}catch(_0x3b3e7f){return console[_0x3fbacd(0x190)](_0x3fbacd(0x4fa),_0x3b3e7f),{'error':_0x3b3e7f[_0x3fbacd(0x4b1)]()};}}async[a0_0x50dea5(0x2af)](_0x708c38){const _0x1507aa=a0_0x50dea5;try{let _0x21b6e0={'_id':{'$in':_0x708c38}};return await this[_0x1507aa(0x6e1)][_0x1507aa(0x3d9)](_0x21b6e0)[_0x1507aa(0x258)]();}catch(_0x598e3b){return console['error'](_0x1507aa(0x336),_0x598e3b),[];}}async['delete'](_0x24787d){const _0x204729=a0_0x50dea5;try{return{'deletedCount':(await this[_0x204729(0x6e1)][_0x204729(0xce)]({..._0x24787d['where']}))[_0x204729(0x178)]};}catch(_0x3a7eeb){return{'error':_0x3a7eeb?.[_0x204729(0x4b1)]()};}}async[a0_0x50dea5(0x3d9)](_0x58f921){const _0x214473=a0_0x50dea5;try{let _0x1181cb=$(_0x58f921['where']);return await this[_0x214473(0x6e1)][_0x214473(0x3d9)](_0x1181cb)['limit'](_0x58f921?.['limit']??0x0)[_0x214473(0x258)]();}catch{return[];}}async[a0_0x50dea5(0xcc)](_0xe8e401){const _0x3fff08=a0_0x50dea5;try{let _0x548a08=$(_0xe8e401[_0x3fff08(0x4bb)]);return await this[_0x3fff08(0x6e1)][_0x3fff08(0xcc)](_0x548a08)['lean']();}catch{return null;}}},Bt=class extends x{['getLabelModelForOwner'](_0x56191b){return Ea(_0x56191b);}async[a0_0x50dea5(0x11c)](_0x144ecc,_0x5aaa8c,_0x1e5500,_0x3e79e0){const _0x4ce345=a0_0x50dea5;try{let _0x45e8ba={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3e79e0},_0x51766b=this[_0x4ce345(0x11f)](_0x1e5500),_0x215c7c=$(_0x144ecc[_0x4ce345(0x4bb)]);return await _0x51766b[_0x4ce345(0x527)](_0x215c7c,{'$set':_0x5aaa8c},_0x45e8ba);}catch(_0x49b529){return console[_0x4ce345(0x190)](_0x49b529),null;}}async['find'](_0xd2c4ba,_0x23ee27){const _0x4f8027=a0_0x50dea5;try{let _0x29d03a=this[_0x4f8027(0x11f)](_0x23ee27),_0x15c99e=$(_0xd2c4ba[_0x4f8027(0x4bb)]);return await _0x29d03a[_0x4f8027(0x3d9)](_0x15c99e);}catch(_0x266fbd){console[_0x4f8027(0x190)](_0x266fbd);}}async['delete'](_0x553415,_0x28c926){const _0x510380=a0_0x50dea5;try{let _0x5470f7=this[_0x510380(0x11f)](_0x28c926),_0x318813=$(_0x553415[_0x510380(0x4bb)]);await _0x5470f7[_0x510380(0xce)](_0x318813);}catch(_0x1ff63){console[_0x510380(0x190)](_0x1ff63);}}async[a0_0x50dea5(0x573)](_0x3469fa){const _0x5a8769=a0_0x50dea5;try{return await this[_0x5a8769(0x11f)](_0x3469fa)['collection'][_0x5a8769(0x5cf)](),{'success':!0x0};}catch(_0x1d0bc5){return console[_0x5a8769(0x190)](_0x1d0bc5),{'success':!0x1,'error':_0x1d0bc5};}}},Gt=class{constructor(_0x5abb6e){const _0x2d0813=a0_0x50dea5;this[_0x2d0813(0x62d)]=_0x5abb6e;}async[a0_0x50dea5(0x4ac)]({instanceName:_0x1ff57c},_0x452ec7){const _0x5a874b=a0_0x50dea5;return await this[_0x5a874b(0x62d)]['waInstances'][_0x1ff57c][_0x5a874b(0x4ac)](_0x452ec7);}async[a0_0x50dea5(0x159)]({instanceName:_0x224515},_0x465013){const _0x5be6f0=a0_0x50dea5;return await this['waMonitor'][_0x5be6f0(0x782)][_0x224515][_0x5be6f0(0x159)](_0x465013);}async[a0_0x50dea5(0x6a2)]({instanceName:_0x30e99},_0xffd80a){const _0x564011=a0_0x50dea5;return await this[_0x564011(0x62d)][_0x564011(0x782)][_0x30e99][_0x564011(0x6a2)](_0xffd80a);}async['readMessage']({instanceName:_0x26e8f1},_0x1b9510){const _0x17b898=a0_0x50dea5;return await this[_0x17b898(0x62d)][_0x17b898(0x782)][_0x26e8f1][_0x17b898(0x1bf)](_0x1b9510);}async[a0_0x50dea5(0x5de)]({instanceName:_0x4a2515},_0x123335){const _0x13cea7=a0_0x50dea5;return await this[_0x13cea7(0x62d)]['waInstances'][_0x4a2515][_0x13cea7(0x5de)](_0x123335);}async[a0_0x50dea5(0x5a8)]({instanceName:_0x52da68},_0x866806){const _0x3145aa=a0_0x50dea5;return await this['waMonitor'][_0x3145aa(0x782)][_0x52da68][_0x3145aa(0x5a8)](_0x866806);}async['fetchProfilePicture']({instanceName:_0x22ba0f},_0x25c8f7){const _0x5ee9d3=a0_0x50dea5;return await this[_0x5ee9d3(0x62d)]['waInstances'][_0x22ba0f][_0x5ee9d3(0x54f)](_0x25c8f7[_0x5ee9d3(0x491)]);}async['fetchProfile']({instanceName:_0x1b3674},_0x157355){const _0x35c9eb=a0_0x50dea5;return await this[_0x35c9eb(0x62d)]['waInstances'][_0x1b3674][_0x35c9eb(0x3d0)](_0x157355[_0x35c9eb(0x491)]);}async[a0_0x50dea5(0x666)]({instanceName:_0x3ac936},_0x10cb21){const _0x689fa2=a0_0x50dea5;return await this['waMonitor'][_0x689fa2(0x782)][_0x3ac936][_0x689fa2(0x666)](_0x10cb21);}async[a0_0x50dea5(0x142)]({instanceName:_0x30c2a5},_0x2848cc){const _0x1c5c00=a0_0x50dea5;return await this[_0x1c5c00(0x62d)][_0x1c5c00(0x782)][_0x30c2a5][_0x1c5c00(0x142)](_0x2848cc);}async[a0_0x50dea5(0x533)]({instanceName:_0x2d4321},_0x5575e0){const _0x536d1d=a0_0x50dea5;return await this['waMonitor']['waInstances'][_0x2d4321][_0x536d1d(0x533)](_0x5575e0);}async[a0_0x50dea5(0x3de)]({instanceName:_0x4ef15c},_0x4662c6){const _0x59038f=a0_0x50dea5;return await this['waMonitor'][_0x59038f(0x782)][_0x4ef15c][_0x59038f(0x3de)](_0x4662c6);}async['fetchLabels']({instanceName:_0xddfb8f}){const _0x225fd6=a0_0x50dea5;return await this['waMonitor'][_0x225fd6(0x782)][_0xddfb8f]['fetchLabels']();}async['fetchChats']({instanceName:_0x1a0407}){const _0x3d25da=a0_0x50dea5;return await this[_0x3d25da(0x62d)][_0x3d25da(0x782)][_0x1a0407][_0x3d25da(0x1d6)]();}async[a0_0x50dea5(0x4c0)]({instanceName:_0x4c1f13}){const _0x63e0db=a0_0x50dea5;return await this[_0x63e0db(0x62d)][_0x63e0db(0x782)][_0x4c1f13][_0x63e0db(0x4c0)]();}async[a0_0x50dea5(0x41d)]({instanceName:_0x26e60d},_0x499145){const _0xb5b84e=a0_0x50dea5;return await this[_0xb5b84e(0x62d)]['waInstances'][_0x26e60d][_0xb5b84e(0x41d)](_0x499145);}async[a0_0x50dea5(0x12f)]({instanceName:_0x1637eb},_0x23e636){const _0x5de2c2=a0_0x50dea5;return await this[_0x5de2c2(0x62d)]['waInstances'][_0x1637eb][_0x5de2c2(0x12f)](_0x23e636[_0x5de2c2(0x491)]);}async[a0_0x50dea5(0x302)]({instanceName:_0x536dee},_0x2befe7){const _0x138295=a0_0x50dea5;return await this[_0x138295(0x62d)][_0x138295(0x782)][_0x536dee][_0x138295(0x302)](_0x2befe7[_0x138295(0x213)]);}async[a0_0x50dea5(0x22c)]({instanceName:_0x206a4b},_0x514b2b){const _0x3e33e9=a0_0x50dea5;return await this[_0x3e33e9(0x62d)][_0x3e33e9(0x782)][_0x206a4b][_0x3e33e9(0x22c)](_0x514b2b[_0x3e33e9(0x373)]);}async[a0_0x50dea5(0x2fc)]({instanceName:_0x48032e},_0x272486){const _0xac423=a0_0x50dea5;return await this[_0xac423(0x62d)][_0xac423(0x782)][_0x48032e][_0xac423(0x2fc)](_0x272486['picture']);}async[a0_0x50dea5(0x6db)]({instanceName:_0x37f36c},_0x525cf7){const _0x29ce22=a0_0x50dea5;return await this[_0x29ce22(0x62d)][_0x29ce22(0x782)][_0x37f36c]['removeProfilePicture']();}},Ps=require(a0_0x50dea5(0x37c)),Wt=class c{constructor(_0x5b5c99,_0x2e266a,_0x3d2c20,_0x1bd6a6,_0x5ad4af){const _0x23f44f=a0_0x50dea5;this[_0x23f44f(0x62d)]=_0x5b5c99,this[_0x23f44f(0x5fc)]=_0x2e266a,this[_0x23f44f(0x65f)]=_0x3d2c20,this['eventEmitter']=_0x1bd6a6,this[_0x23f44f(0x35c)]=_0x5ad4af,this[_0x23f44f(0x5c8)]=new N(c[_0x23f44f(0x213)]);}async[a0_0x50dea5(0x588)]({instanceName:_0xf12c40,apikey:_0x568872,number:_0x259a32,proxy:_0x512c07=!0x0}){const _0x37f39e=a0_0x50dea5;try{let _0x1cdb75=new be(this[_0x37f39e(0x5fc)],this['eventEmitter'],this[_0x37f39e(0x65f)]);_0x1cdb75[_0x37f39e(0x665)]=_0xf12c40,this['waMonitor'][_0x37f39e(0x782)][_0x1cdb75[_0x37f39e(0x665)]]=_0x1cdb75;let _0x27113b={};_0x568872?(await this['repository'][_0x37f39e(0x438)][_0x37f39e(0x39c)]({'apikey':_0x568872},_0xf12c40),_0x27113b[_0x37f39e(0x420)]=_0x568872):_0x27113b=await this[_0x37f39e(0x35c)][_0x37f39e(0x749)]({'instanceName':_0x1cdb75[_0x37f39e(0x665)]});let _0x5d700;if(_0x259a32){if(_0x5d700=await this[_0x37f39e(0x58e)](_0x259a32),_0x5d700[_0x37f39e(0x190)])throw new A(_0x5d700[_0x37f39e(0x190)][_0x37f39e(0x4b1)]());_0x259a32=_0x5d700[_0x37f39e(0x491)];}let _0x1b3902;return await _0x1cdb75[_0x37f39e(0x144)](_0x259a32),await(0x0,Ps[_0x37f39e(0x538)])(0x7d0),_0x1b3902=_0x1cdb75['qrCode'],{'instance':{'instanceName':_0x1cdb75[_0x37f39e(0x665)],'status':'created'},'hash':_0x27113b,'qrcode':_0x1b3902};}catch(_0x42d53d){throw this[_0x37f39e(0x5c8)][_0x37f39e(0x190)](_0x42d53d),_0x42d53d;}}async[a0_0x50dea5(0x476)]({instanceName:_0x3fa6ec,number:_0x47c3a6=null}){const _0x107193=a0_0x50dea5;try{let _0x2cc991=this[_0x107193(0x62d)][_0x107193(0x782)][_0x3fa6ec];switch(_0x2cc991?.[_0x107193(0x168)]?.['state']){case _0x107193(0x450):return await _0x2cc991[_0x107193(0x144)](_0x47c3a6),await(0x0,Ps[_0x107193(0x538)])(0x7d0),_0x2cc991[_0x107193(0x6e3)];case _0x107193(0x340):return _0x2cc991[_0x107193(0x6e3)];default:return await this[_0x107193(0x634)]({'instanceName':_0x3fa6ec});}}catch(_0x55608e){this[_0x107193(0x5c8)]['log'](_0x55608e);}}async[a0_0x50dea5(0x634)]({instanceName:_0x20d16d}){const _0x6f856=a0_0x50dea5;let _0x292289=this[_0x6f856(0x62d)][_0x6f856(0x782)][_0x20d16d]['connectionStatus'],_0x6b94ea=null;_0x292289[_0x6f856(0x662)]===_0x6f856(0x6a3)&&_0x20d16d&&(_0x6b94ea=await this[_0x6f856(0x62d)][_0x6f856(0x338)](_0x20d16d));let _0x2753eb=null;return _0x292289[_0x6f856(0x662)]===_0x6f856(0x340)&&_0x20d16d&&(_0x2753eb=this[_0x6f856(0x62d)][_0x6f856(0x782)][_0x20d16d][_0x6f856(0x6e3)]),{'instance':_0x20d16d,'connectionStatus':_0x292289,'instanceInfo':_0x6b94ea,'qrcode':_0x2753eb};}async[a0_0x50dea5(0x58e)](_0x29bb40){const _0x58e445=a0_0x50dea5;_0x29bb40=_0x29bb40[_0x58e445(0x24a)](/\D/g,'');let _0x2b93c9=Object[_0x58e445(0x165)](this['waMonitor']['waInstances'])[_0x58e445(0x6ee)](_0x2e1ea8=>{const _0x3cd8bf=_0x58e445;let _0x3393f6=this[_0x3cd8bf(0x62d)][_0x3cd8bf(0x782)][_0x2e1ea8];return _0x3393f6&&_0x3393f6[_0x3cd8bf(0x168)]&&_0x3393f6[_0x3cd8bf(0x168)][_0x3cd8bf(0x662)]===_0x3cd8bf(0x6a3);});if(_0x2b93c9['length']===0x0)return{'number':this[_0x58e445(0x3fd)](_0x29bb40)};let _0x3ed831=Math[_0x58e445(0x16e)](Math[_0x58e445(0x2a3)]()*_0x2b93c9['length']),_0x33e441=_0x2b93c9[_0x3ed831];try{let _0x171839=(await this[_0x58e445(0x62d)]['waInstances'][_0x33e441][_0x58e445(0x159)]({'numbers':[_0x29bb40]}))[_0x58e445(0x494)]();return _0x171839[_0x58e445(0x40f)]?{'number':_0x171839[_0x58e445(0x20a)][_0x58e445(0x24a)](_0x58e445(0x58b),'')}:{'number':_0x29bb40,'error':_0x58e445(0x63e)};}catch(_0x430468){return this[_0x58e445(0x5c8)][_0x58e445(0x190)]('Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:'+_0x430468),{'number':_0x29bb40,'error':'Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x892c16){const _0x35654a=a0_0x50dea5;let _0x4a2983=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x35654a(0x310)](_0x892c16);if(_0x4a2983&&_0x4a2983[0x1]==='55'){let _0x506d15=_0x4a2983[0x2],_0x281e52=_0x4a2983[0x3],_0xb5ebdb=_0x4a2983[0x4];if(parseInt(_0x506d15)>=0x1f&&_0x281e52==='9')return _0x4a2983[0x1]+_0x506d15+_0xb5ebdb;}return _0x892c16;}async[a0_0x50dea5(0x194)]({instanceName:_0x2ca5bc}){const _0x1871a2=a0_0x50dea5;try{return this['waMonitor'][_0x1871a2(0x782)][_0x2ca5bc]?.['client']?.['ws']?.['close'](),{'status':_0x1871a2(0x69d),'error':!0x1,'response':{'message':_0x1871a2(0x756)}};}catch(_0xea31d9){this[_0x1871a2(0x5c8)][_0x1871a2(0x190)](_0xea31d9);}}async['fetchInstances']({instanceName:_0x36b320}){const _0x1da3b5=a0_0x50dea5;return _0x36b320?this[_0x1da3b5(0x62d)][_0x1da3b5(0x338)](_0x36b320):this[_0x1da3b5(0x62d)][_0x1da3b5(0x338)]();}async[a0_0x50dea5(0x1cf)]({instanceName:_0x19d670}){const _0x48ce14=a0_0x50dea5;try{return await this['waMonitor']['waInstances'][_0x19d670]?.[_0x48ce14(0x704)]?.[_0x48ce14(0x1cf)]('Log\x20out\x20instance:\x20'+_0x19d670),{'error':!0x1,'message':_0x48ce14(0x77e)};}catch(_0x585f43){throw new A(_0x585f43[_0x48ce14(0x4b1)]());}}async[a0_0x50dea5(0x225)]({instanceName:_0x1c10fc}){const _0x43051b=a0_0x50dea5;if((await this[_0x43051b(0x634)]({'instanceName':_0x1c10fc}))[_0x43051b(0x168)][_0x43051b(0x662)]===_0x43051b(0x6a3))throw new w([_0x43051b(0x729),_0x43051b(0x717)]);try{return delete this['waMonitor'][_0x43051b(0x782)][_0x1c10fc],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x4184f7){throw new w(_0x4184f7['toString']());}}},ee=require(a0_0x50dea5(0x1f8)),zt=class{constructor(_0x4c8876){const _0x37f3d4=a0_0x50dea5;this[_0x37f3d4(0x62d)]=_0x4c8876;}async['sendText']({instanceName:_0x353d99},_0x47dd68){const _0x462274=a0_0x50dea5;return await this[_0x462274(0x62d)][_0x462274(0x782)][_0x353d99][_0x462274(0x457)](_0x47dd68);}async['sendMenu']({instanceName:_0x4a9afc},_0xad4562){const _0x4a6285=a0_0x50dea5;return await this[_0x4a6285(0x62d)][_0x4a6285(0x782)][_0x4a9afc][_0x4a6285(0x5ad)](_0xad4562);}async[a0_0x50dea5(0x70b)]({instanceName:_0x4eca78},_0x1af460){const _0x2c5ffa=a0_0x50dea5;if((0x0,ee[_0x2c5ffa(0x37b)])(_0x1af460?.['mediaMessage']?.[_0x2c5ffa(0x1af)])&&!_0x1af460?.['mediaMessage']?.[_0x2c5ffa(0x44e)])throw new w(_0x2c5ffa(0x5b1));if((0x0,ee['isURL'])(_0x1af460?.['mediaMessage']?.['media'])||(0x0,ee[_0x2c5ffa(0x37b)])(_0x1af460?.[_0x2c5ffa(0x477)]?.['media']))return await this['waMonitor'][_0x2c5ffa(0x782)][_0x4eca78]['mediaMessage'](_0x1af460);throw new w(_0x2c5ffa(0x38e));}async[a0_0x50dea5(0x3ed)]({instanceName:_0x4a9e37},_0x353b69){const _0x223b4f=a0_0x50dea5;if((0x0,ee[_0x223b4f(0x60c)])(_0x353b69[_0x223b4f(0x3cc)][_0x223b4f(0x764)])||(0x0,ee[_0x223b4f(0x37b)])(_0x353b69[_0x223b4f(0x3cc)][_0x223b4f(0x764)]))return await this[_0x223b4f(0x62d)][_0x223b4f(0x782)][_0x4a9e37]['mediaSticker'](_0x353b69);throw new w(_0x223b4f(0x38e));}async[a0_0x50dea5(0x708)]({instanceName:_0x4acce8},_0x331f11){const _0x3f7e8b=a0_0x50dea5;if((0x0,ee[_0x3f7e8b(0x60c)])(_0x331f11[_0x3f7e8b(0x3ea)][_0x3f7e8b(0x574)])||(0x0,ee[_0x3f7e8b(0x37b)])(_0x331f11[_0x3f7e8b(0x3ea)]['audio']))return await this[_0x3f7e8b(0x62d)][_0x3f7e8b(0x782)][_0x4acce8][_0x3f7e8b(0x4aa)](_0x331f11);throw new w(_0x3f7e8b(0x38e));}async[a0_0x50dea5(0x4c1)]({instanceName:_0x3e9ff0},_0x1a65bf){const _0x2838e4=a0_0x50dea5;if((0x0,ee[_0x2838e4(0x37b)])(_0x1a65bf[_0x2838e4(0x193)][_0x2838e4(0x477)]?.[_0x2838e4(0x1af)])&&!_0x1a65bf[_0x2838e4(0x193)][_0x2838e4(0x477)]?.[_0x2838e4(0x44e)])throw new w(_0x2838e4(0x5b1));return await this[_0x2838e4(0x62d)][_0x2838e4(0x782)][_0x3e9ff0][_0x2838e4(0x193)](_0x1a65bf);}async[a0_0x50dea5(0x201)]({instanceName:_0xbbb243},_0x208839){const _0x43fc06=a0_0x50dea5;return await this[_0x43fc06(0x62d)][_0x43fc06(0x782)][_0xbbb243][_0x43fc06(0x2b7)](_0x208839);}async[a0_0x50dea5(0x130)]({instanceName:_0x2304f3},_0x272d74){const _0x253e73=a0_0x50dea5;return await this[_0x253e73(0x62d)]['waInstances'][_0x2304f3][_0x253e73(0x4a2)](_0x272d74);}async[a0_0x50dea5(0x34d)]({instanceName:_0x15793a},_0x21b5fa){const _0x2b8772=a0_0x50dea5;return await this[_0x2b8772(0x62d)]['waInstances'][_0x15793a]['listMessage'](_0x21b5fa);}async[a0_0x50dea5(0x70d)]({instanceName:_0xd9b041},_0x2b8629){const _0x47900=a0_0x50dea5;return await this[_0x47900(0x62d)]['waInstances'][_0xd9b041][_0x47900(0x124)](_0x2b8629);}async['sendReaction']({instanceName:_0x4c9854},_0x593ab8){const _0x50ea67=a0_0x50dea5;if(!_0x593ab8[_0x50ea67(0x176)][_0x50ea67(0x25c)]['match'](/[^\(\)\w\s-"-\+]+/))throw new w('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x50ea67(0x62d)][_0x50ea67(0x782)][_0x4c9854][_0x50ea67(0x176)](_0x593ab8);}async['sendStatus']({instanceName:_0x4b6ce1},_0x590757){const _0x35a5a9=a0_0x50dea5;return await this[_0x35a5a9(0x62d)][_0x35a5a9(0x782)][_0x4b6ce1][_0x35a5a9(0x391)](_0x590757);}},xr=require(a0_0x50dea5(0x6d3)),ks=require('uuid'),Ht=class c{constructor(_0x5c367a,_0x4ba89c,_0x5830e9){const _0x421149=a0_0x50dea5;this[_0x421149(0x5fc)]=_0x5c367a,this[_0x421149(0x62d)]=_0x4ba89c,this[_0x421149(0x65f)]=_0x5830e9,this[_0x421149(0x5c8)]=new N(c['name']);}async[a0_0x50dea5(0x6ad)](_0x499692){const _0x22b08b=a0_0x50dea5;let _0x4e4e3f=this['configService']['get']('AUTHENTICATION')[_0x22b08b(0x51f)],_0x5e78de=(0x0,xr[_0x22b08b(0x3aa)])({'instanceName':_0x499692[_0x22b08b(0x665)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x4e4e3f['SECRET'],{'expiresIn':_0x4e4e3f[_0x22b08b(0x28c)],'encoding':_0x22b08b(0x6fa),'subject':_0x22b08b(0x480)}),_0x110a53=await this['repository'][_0x22b08b(0x438)][_0x22b08b(0x39c)]({'jwt':_0x5e78de},_0x499692[_0x22b08b(0x665)]);if(_0x110a53[_0x22b08b(0x190)])throw this['logger']['error']({'localError':c[_0x22b08b(0x213)]+_0x22b08b(0x5cc),'error':_0x110a53['error']}),new w(_0x22b08b(0x64f),_0x110a53[_0x22b08b(0x190)]?.['toString']());return{'jwt':_0x5e78de};}async[a0_0x50dea5(0x420)](_0xf16644){const _0x4174a4=a0_0x50dea5;let _0x4e3e82=(0x0,ks['v4'])()['toUpperCase'](),_0x37c69b=await this[_0x4174a4(0x65f)][_0x4174a4(0x438)][_0x4174a4(0x39c)]({'apikey':_0x4e3e82},_0xf16644[_0x4174a4(0x665)]);if(_0x37c69b[_0x4174a4(0x190)])throw this[_0x4174a4(0x5c8)][_0x4174a4(0x190)]({'localError':c[_0x4174a4(0x213)]+_0x4174a4(0x5cc),'error':_0x37c69b[_0x4174a4(0x190)]}),new w(_0x4174a4(0x64f),_0x37c69b[_0x4174a4(0x190)]?.[_0x4174a4(0x4b1)]());return{'apikey':_0x4e3e82};}async[a0_0x50dea5(0x749)](_0x1db280){const _0x4517ba=a0_0x50dea5;let _0x13dce6=this['configService'][_0x4517ba(0x42a)]('AUTHENTICATION');return await this[_0x13dce6[_0x4517ba(0x2ed)]](_0x1db280);}},Kt=class{constructor(_0x3c0ee8){this['waMonitor']=_0x3c0ee8;}async[a0_0x50dea5(0x74a)](_0xc012c9,_0x3588f6){const _0x2a0284=a0_0x50dea5;return await this[_0x2a0284(0x62d)][_0x2a0284(0x782)][_0xc012c9[_0x2a0284(0x665)]][_0x2a0284(0x74a)](_0x3588f6);}async['updateGroupPicture'](_0x22a837,_0x10ee0a){const _0xed8364=a0_0x50dea5;return await this['waMonitor'][_0xed8364(0x782)][_0x22a837[_0xed8364(0x665)]][_0xed8364(0x3ba)](_0x10ee0a);}async['groupDesc'](_0x426d48,_0x5c3d2b){const _0x3c0b5f=a0_0x50dea5;return await this[_0x3c0b5f(0x62d)][_0x3c0b5f(0x782)][_0x426d48[_0x3c0b5f(0x665)]]['groupDesc'](_0x5c3d2b);}async[a0_0x50dea5(0x291)](_0x5a0fd4,_0x258331){const _0xb6af11=a0_0x50dea5;return await this[_0xb6af11(0x62d)]['waInstances'][_0x5a0fd4[_0xb6af11(0x665)]][_0xb6af11(0x291)](_0x258331);}async[a0_0x50dea5(0x102)](_0x26e520,_0x3e1790){const _0x593887=a0_0x50dea5;return await this[_0x593887(0x62d)][_0x593887(0x782)][_0x26e520[_0x593887(0x665)]][_0x593887(0x102)](_0x3e1790);}async[a0_0x50dea5(0x786)](_0x183366,_0x53a95b){const _0x1b546d=a0_0x50dea5;return await this['waMonitor'][_0x1b546d(0x782)][_0x183366[_0x1b546d(0x665)]][_0x1b546d(0x786)](_0x53a95b);}async[a0_0x50dea5(0x277)](_0x5bc93f,_0x26af83){const _0x31a9bf=a0_0x50dea5;return await this['waMonitor'][_0x31a9bf(0x782)][_0x5bc93f['instanceName']][_0x31a9bf(0x293)](_0x26af83);}async[a0_0x50dea5(0x2fa)](_0x5967ae){const _0x20f811=a0_0x50dea5;return await this[_0x20f811(0x62d)][_0x20f811(0x782)][_0x5967ae[_0x20f811(0x665)]][_0x20f811(0x2fa)]();}async[a0_0x50dea5(0x691)](_0x2361a5,_0x2eb6a2){const _0x5bc6cf=a0_0x50dea5;return await this[_0x5bc6cf(0x62d)][_0x5bc6cf(0x782)][_0x2361a5[_0x5bc6cf(0x665)]][_0x5bc6cf(0x691)](_0x2eb6a2);}async[a0_0x50dea5(0x4f3)](_0x3b5493,_0xdb7849){const _0x58b64c=a0_0x50dea5;return await this[_0x58b64c(0x62d)][_0x58b64c(0x782)][_0x3b5493[_0x58b64c(0x665)]]['joinGroup'](_0xdb7849);}async['groupGetInviteInfo'](_0x29fabc,_0x4ad993){const _0x2e2804=a0_0x50dea5;return await this[_0x2e2804(0x62d)][_0x2e2804(0x782)][_0x29fabc[_0x2e2804(0x665)]]['groupGetInviteInfo'](_0x4ad993);}async[a0_0x50dea5(0x679)](_0x325ee8,_0xb21bd2){const _0x1a7b1d=a0_0x50dea5;return await this['waMonitor']['waInstances'][_0x325ee8[_0x1a7b1d(0x665)]][_0x1a7b1d(0x679)](_0xb21bd2);}async[a0_0x50dea5(0x40e)](_0x16ce15,_0x3198e7){const _0x550d1d=a0_0x50dea5;return await this[_0x550d1d(0x62d)][_0x550d1d(0x782)][_0x16ce15[_0x550d1d(0x665)]][_0x550d1d(0x40e)](_0x3198e7);}async['updateGParticipate'](_0x340a2a,_0x4aa1de){const _0x429258=a0_0x50dea5;return await this[_0x429258(0x62d)][_0x429258(0x782)][_0x340a2a[_0x429258(0x665)]][_0x429258(0x248)](_0x4aa1de);}async[a0_0x50dea5(0x6c2)](_0x26d956,_0x2731f1){const _0x109493=a0_0x50dea5;return await this[_0x109493(0x62d)]['waInstances'][_0x26d956[_0x109493(0x665)]][_0x109493(0x6c2)](_0x2731f1);}async[a0_0x50dea5(0x1fc)](_0x2569cb,_0x415d19){const _0x471829=a0_0x50dea5;return await this[_0x471829(0x62d)][_0x471829(0x782)][_0x2569cb['instanceName']]['leaveGroup'](_0x415d19);}},Qt=class{constructor(_0x20511c){const _0x509af4=a0_0x50dea5;this[_0x509af4(0x62d)]=_0x20511c;}['create'](_0x3549f4,_0x4386ec){const _0xd4d25e=a0_0x50dea5;return this[_0xd4d25e(0x62d)][_0xd4d25e(0x782)][_0x3549f4[_0xd4d25e(0x665)]]['setWebhook'](_0x4386ec);}async['find'](_0x4752b4){const _0x4acfe8=a0_0x50dea5;try{return await this[_0x4acfe8(0x62d)]['waInstances'][_0x4752b4[_0x4acfe8(0x665)]][_0x4acfe8(0x6c9)]();}catch{return{'enabled':null,'url':''};}}},fp=new N(a0_0x50dea5(0x593)),Yt=class{constructor(_0x46dbd2){const _0x16a7fa=a0_0x50dea5;this[_0x16a7fa(0x62d)]=_0x46dbd2;}async['editScheduleMessage'](_0x353f2d,_0x3a66d6){const _0x215c78=a0_0x50dea5;return await this[_0x215c78(0x62d)]['waInstances'][_0x353f2d[_0x215c78(0x665)]][_0x215c78(0x3d5)](_0x3a66d6);}async['getScheduleMessage'](_0x58b0d2){const _0x14e06f=a0_0x50dea5;return await this[_0x14e06f(0x62d)][_0x14e06f(0x782)][_0x58b0d2['instanceName']][_0x14e06f(0x226)]();}async[a0_0x50dea5(0x429)](_0x58f233){const _0x46577f=a0_0x50dea5;return await this[_0x46577f(0x62d)]['waInstances'][_0x58f233['instanceName']]['deleteDoneMessages']();}async[a0_0x50dea5(0x785)](_0x3e78bf){const _0x5d4d34=a0_0x50dea5;return await this[_0x5d4d34(0x62d)][_0x5d4d34(0x782)][_0x3e78bf['instanceName']][_0x5d4d34(0x785)]();}async[a0_0x50dea5(0x643)](_0x26a748,_0x2ce900){const _0x41be08=a0_0x50dea5;return await this[_0x41be08(0x62d)][_0x41be08(0x782)][_0x26a748[_0x41be08(0x665)]][_0x41be08(0x643)](_0x2ce900);}async['updateCustomFields'](_0xe6a7f,_0x4da96e){const _0x376330=a0_0x50dea5;return await this[_0x376330(0x62d)][_0x376330(0x782)][_0xe6a7f[_0x376330(0x665)]]['updateCustomFields'](_0x4da96e);}async['updateFlowConfig'](_0x495389,_0x1487ec){const _0x4c3709=a0_0x50dea5;return await this[_0x4c3709(0x62d)][_0x4c3709(0x782)][_0x495389[_0x4c3709(0x665)]][_0x4c3709(0x5c6)](_0x1487ec);}async[a0_0x50dea5(0x56e)](_0x309b2d,_0x1353e9){const _0x5f1869=a0_0x50dea5;return await this[_0x5f1869(0x62d)][_0x5f1869(0x782)][_0x309b2d[_0x5f1869(0x665)]]['startFlow'](_0x1353e9);}async[a0_0x50dea5(0x116)](_0x5b0a4a,_0x2c312e){const _0x3f9f20=a0_0x50dea5;return await this['waMonitor'][_0x3f9f20(0x782)][_0x5b0a4a[_0x3f9f20(0x665)]][_0x3f9f20(0x116)](_0x2c312e);}async[a0_0x50dea5(0x562)](_0x214066,_0x5b3ea0){const _0x2b5767=a0_0x50dea5;return await this[_0x2b5767(0x62d)]['waInstances'][_0x214066[_0x2b5767(0x665)]][_0x2b5767(0x562)](_0x5b3ea0);}async[a0_0x50dea5(0x1e3)](_0x37a2a9,_0x11001c){const _0x4d27ac=a0_0x50dea5;return await this[_0x4d27ac(0x62d)]['waInstances'][_0x37a2a9[_0x4d27ac(0x665)]]['editConversation'](_0x11001c);}async[a0_0x50dea5(0x76c)](_0x23660b,_0xf7dd47){const _0x2e6674=a0_0x50dea5;return await this['waMonitor'][_0x2e6674(0x782)][_0x23660b[_0x2e6674(0x665)]][_0x2e6674(0x76c)](_0xf7dd47);}async['getFlow'](_0xeda7d4,_0x14fdc4){const _0x56904c=a0_0x50dea5;return await this[_0x56904c(0x62d)][_0x56904c(0x782)][_0xeda7d4[_0x56904c(0x665)]][_0x56904c(0x545)](_0x14fdc4[_0x56904c(0x213)]);}async[a0_0x50dea5(0x62a)](_0x258a16,_0xbc8bbd){const _0x555b2a=a0_0x50dea5;return await this[_0x555b2a(0x62d)][_0x555b2a(0x782)][_0x258a16[_0x555b2a(0x665)]][_0x555b2a(0x62a)](_0xbc8bbd);}async[a0_0x50dea5(0x33d)](_0x4ca81c,_0x3fd846){const _0x4ba1c8=a0_0x50dea5;return await this[_0x4ba1c8(0x62d)][_0x4ba1c8(0x782)][_0x4ca81c[_0x4ba1c8(0x665)]][_0x4ba1c8(0x33d)](_0x3fd846);}async['editFlowBlock'](_0x3bbf7e,_0x345ff0){const _0x28564b=a0_0x50dea5;return await this['waMonitor'][_0x28564b(0x782)][_0x3bbf7e[_0x28564b(0x665)]]['editFlowBlock'](_0x345ff0);}async['editFlowReply'](_0x3a4a51,_0x33eb8b){const _0x36f927=a0_0x50dea5;return await this['waMonitor']['waInstances'][_0x3a4a51[_0x36f927(0x665)]][_0x36f927(0x371)](_0x33eb8b);}async['editFlowGroup'](_0xac259c,_0xf96f6){const _0x1cccca=a0_0x50dea5;return await this[_0x1cccca(0x62d)][_0x1cccca(0x782)][_0xac259c[_0x1cccca(0x665)]]['editFlowGroup'](_0xf96f6);}async[a0_0x50dea5(0x59d)](_0x510da0,_0x2c41e1){const _0x184032=a0_0x50dea5;return await this[_0x184032(0x62d)][_0x184032(0x782)][_0x510da0[_0x184032(0x665)]][_0x184032(0x59d)](_0x2c41e1);}async[a0_0x50dea5(0x6e5)](_0x269aca,_0x4004f1){const _0x1e200b=a0_0x50dea5;return await this['waMonitor']['waInstances'][_0x269aca[_0x1e200b(0x665)]][_0x1e200b(0x6e5)](_0x4004f1);}async['editFlowVariable'](_0x38a4bd,_0x37e60d){const _0x993e1=a0_0x50dea5;return await this[_0x993e1(0x62d)][_0x993e1(0x782)][_0x38a4bd[_0x993e1(0x665)]][_0x993e1(0x256)](_0x37e60d);}async[a0_0x50dea5(0x3ad)](_0x47ea94,_0x3746fc){const _0x31b2d3=a0_0x50dea5;return await this['waMonitor'][_0x31b2d3(0x782)][_0x47ea94[_0x31b2d3(0x665)]][_0x31b2d3(0x3ad)](_0x3746fc[_0x31b2d3(0x213)]);}async['allFlows'](_0x235386){const _0x1dfea6=a0_0x50dea5;return await this[_0x1dfea6(0x62d)][_0x1dfea6(0x782)][_0x235386[_0x1dfea6(0x665)]][_0x1dfea6(0x667)]();}},Xt=class{constructor(_0x3f832d){const _0x1b9a32=a0_0x50dea5;this[_0x1b9a32(0x289)]=_0x3f832d;}async[a0_0x50dea5(0x6d4)](_0x1cd2e2,_0x4841cf){const _0x1dae2c=a0_0x50dea5;return this['webhookService'][_0x1dae2c(0x39c)](_0x1cd2e2,_0x4841cf);}async[a0_0x50dea5(0x6c9)](_0x3cba9d){const _0xdd8bcc=a0_0x50dea5;return this['webhookService'][_0xdd8bcc(0x3d9)](_0x3cba9d);}},Zt=class extends x{constructor(_0x510556,_0x23de48){const _0x27d886=a0_0x50dea5;super(_0x23de48),this[_0x27d886(0x219)]=_0x510556,this[_0x27d886(0x5fc)]=_0x23de48;}async[a0_0x50dea5(0x39c)](_0x35d780,_0x467cab){const _0x73b2e=a0_0x50dea5;try{return this[_0x73b2e(0x4c5)][_0x73b2e(0x73b)]?{'insertCount':(await this[_0x73b2e(0x219)][_0x73b2e(0x162)]({'_id':_0x467cab},{..._0x35d780},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x378091){return _0x378091;}}async[a0_0x50dea5(0x2ca)](_0x44f23b){const _0x1c8c8a=a0_0x50dea5;try{if(this[_0x1c8c8a(0x4c5)]['ENABLED']){await this[_0x1c8c8a(0x219)][_0x1c8c8a(0x242)]({'_id':_0x44f23b});return;}}catch(_0xbfa092){return{'error':_0xbfa092};}}async[a0_0x50dea5(0x3d9)](_0x4fdc6c){const _0x498b1c=a0_0x50dea5;try{if(this[_0x498b1c(0x4c5)][_0x498b1c(0x73b)])return await this[_0x498b1c(0x219)]['findOne']({'_id':_0x4fdc6c});}catch{return{};}}},es=class extends x{constructor(_0x455fd3,_0x1d7e83){const _0x863cb1=a0_0x50dea5;super(_0x1d7e83),this[_0x863cb1(0xf0)]=_0x455fd3,this['configService']=_0x1d7e83,this['auth']=_0x1d7e83[_0x863cb1(0x42a)](_0x863cb1(0x52f));}async['create'](_0x475012,_0x1cefd0){const _0x159cf4=a0_0x50dea5;try{if(this['dbSettings'][_0x159cf4(0x73b)])return{'insertCount':(await this[_0x159cf4(0xf0)][_0x159cf4(0x11c)]({'_id':_0x1cefd0},{'$set':{..._0x475012}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x4a875e){return{'error':_0x4a875e};}}async[a0_0x50dea5(0x3d6)](_0x49b48c,_0x2931c3){const _0x2c2309=a0_0x50dea5;try{if(this[_0x2c2309(0x4c5)][_0x2c2309(0x73b)])return{'insertCount':(await this[_0x2c2309(0xf0)][_0x2c2309(0xf2)](_0x49b48c,{'$set':_0x2931c3},{'upsert':!0x1}))[_0x2c2309(0x67f)]};throw new Error(_0x2c2309(0x42b));}catch(_0x4ed976){return{'error':_0x4ed976};}}async[a0_0x50dea5(0xce)](_0x157309){const _0x5147cf=a0_0x50dea5;try{if(this[_0x5147cf(0x4c5)]['ENABLED'])return{'insertCount':(await this[_0x5147cf(0xf0)][_0x5147cf(0xce)](_0x157309))['deletedCount']};throw new Error(_0x5147cf(0x42b));}catch(_0x3e466a){return{'error':_0x3e466a};}}async[a0_0x50dea5(0x2ca)](_0x1338a6){const _0x3742cc=a0_0x50dea5;try{if(this[_0x3742cc(0x4c5)][_0x3742cc(0x73b)]){await this[_0x3742cc(0xf0)][_0x3742cc(0x242)]({'_id':_0x1338a6});return;}}catch(_0x2e034e){return{'error':_0x2e034e};}}async['find'](_0xcc6414){const _0x54d459=a0_0x50dea5;try{if(this['dbSettings']['ENABLED'])return await this[_0x54d459(0xf0)][_0x54d459(0xcc)]({'_id':_0xcc6414});}catch{return{};}}async['findAll'](){const _0x29bbaf=a0_0x50dea5;try{if(this['dbSettings']['ENABLED'])return await this[_0x29bbaf(0xf0)][_0x29bbaf(0x3d9)]();}catch{return[];}}},ts=class extends x{[a0_0x50dea5(0x6d5)](_0x40c474){return ga(_0x40c474);}async['copyDataToNewModel'](_0x187e3c){const _0x3bf938=a0_0x50dea5;try{let _0x49a449=ma,_0x547ce5=this[_0x3bf938(0x6d5)](_0x187e3c),_0xf0ea4f=await _0x49a449[_0x3bf938(0x3d9)]({'owner':_0x187e3c})[_0x3bf938(0x258)](),_0x4ae031=[],_0x2568de=[];for(let _0x29fd05 of _0xf0ea4f)await _0x547ce5[_0x3bf938(0x35a)](_0x29fd05[_0x3bf938(0x3dd)])[_0x3bf938(0x258)]()||(_0x4ae031[_0x3bf938(0x112)](_0x29fd05),_0x2568de[_0x3bf938(0x112)](_0x29fd05['_id']));return _0x4ae031['length']>0x0&&await _0x547ce5[_0x3bf938(0x5b8)](_0x4ae031,{'ordered':!0x1}),{'success':!0x0};}catch(_0xffb499){return console[_0x3bf938(0x190)](_0x3bf938(0x18f),_0xffb499),{'success':!0x1,'error':_0xffb499};}}async['delete'](_0x229591,_0x57c65d){const _0x4e8681=a0_0x50dea5;try{let _0x1df662=this['getFlowModelForOwner'](_0x57c65d),_0x15e5d5=$(_0x229591['where']);return{'deletedCount':(await _0x1df662[_0x4e8681(0xce)](_0x15e5d5))[_0x4e8681(0x178)]};}catch(_0x2eb982){return{'error':_0x2eb982?.[_0x4e8681(0x4b1)]()};}}async['deleteOne'](_0x50f31c,_0x1f6f10){const _0x4ecbac=a0_0x50dea5;try{let _0x123871=this[_0x4ecbac(0x6d5)](_0x1f6f10),_0xf15db=$(_0x50f31c['where']);return{'deletedCount':(await _0x123871[_0x4ecbac(0x242)](_0xf15db))[_0x4ecbac(0x178)]};}catch(_0x55d973){return{'error':_0x55d973?.['toString']()};}}async[a0_0x50dea5(0x162)](_0x5392ff,_0x45496c,_0x3f9092){const _0x50f9b9=a0_0x50dea5;try{let _0xd8a1e3=await this[_0x50f9b9(0x6d5)](_0x3f9092)[_0x50f9b9(0x34c)](_0x5392ff,_0x45496c,{'overwrite':!0x0,'new':!0x0});return _0xd8a1e3||(console[_0x50f9b9(0x190)](_0x50f9b9(0x1e4),_0x5392ff),null);}catch(_0x444556){return console['error'](_0x50f9b9(0xd8),_0x444556),null;}}async['updateOne'](_0x6f68b5,_0x21c0ea,_0x5bfd4f){const _0x7dab51=a0_0x50dea5;try{let _0x7fdb1a=await this[_0x7dab51(0x6d5)](_0x5bfd4f)[_0x7dab51(0x35a)](_0x6f68b5);return _0x7fdb1a?(Object[_0x7dab51(0x790)](_0x7fdb1a,_0x21c0ea),await _0x7fdb1a[_0x7dab51(0x1c4)]()):(console['error']('Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:',_0x6f68b5),null);}catch(_0x482719){return console[_0x7dab51(0x190)](_0x7dab51(0xd8),_0x482719),null;}}async['updateMissingShareOwners'](_0x45be38){const _0x5daacc=a0_0x50dea5;try{let _0x3603a3=this['getFlowModelForOwner'](_0x45be38),_0x648a30={'shareOwners':{'$exists':!0x1}},_0x4ab66f={'$set':{'shareOwners':[]}};return(await _0x3603a3[_0x5daacc(0xf2)](_0x648a30,_0x4ab66f))[_0x5daacc(0x67f)];}catch(_0x4b9e6e){return console[_0x5daacc(0x190)](_0x4b9e6e),0x0;}}async[a0_0x50dea5(0x6d7)](_0x572b55,_0x571638){const _0x34083d=a0_0x50dea5;try{let _0x1b06a6=this[_0x34083d(0x6d5)](_0x571638);return await new _0x1b06a6(_0x572b55)[_0x34083d(0x1c4)]();}catch(_0x177288){return console[_0x34083d(0x190)](_0x34083d(0x6d1),_0x177288),null;}}async[a0_0x50dea5(0xf2)](_0x5e231a,_0x479d0b,_0x1e9930){const _0x4a1a54=a0_0x50dea5;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x1e9930)[_0x4a1a54(0xf2)](_0x5e231a,{'$set':_0x479d0b}))[_0x4a1a54(0x67f)]};}catch(_0x14c8ab){return console[_0x4a1a54(0x190)]('Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:',_0x14c8ab),{'error':_0x14c8ab};}}async['findAll'](_0x1e8086,_0x2312b7){const _0x32a0b6=a0_0x50dea5;try{let _0x383a31=this[_0x32a0b6(0x6d5)](_0x2312b7),_0xef4641=$(_0x1e8086[_0x32a0b6(0x4bb)]);return await _0x383a31[_0x32a0b6(0x3d9)](_0xef4641)[_0x32a0b6(0x1f3)](_0x1e8086?.['limit']??0x0)[_0x32a0b6(0x258)]();}catch{return[];}}async[a0_0x50dea5(0xcc)](_0x308aaf,_0x3e349c){const _0x320164=a0_0x50dea5;try{let _0x34629c=this['getFlowModelForOwner'](_0x3e349c),_0x25f08d=$(_0x308aaf[_0x320164(0x4bb)]);return await _0x34629c['findOne'](_0x25f08d)[_0x320164(0x258)]();}catch{return null;}}async[a0_0x50dea5(0x573)](_0x13a244){const _0x4d4d1b=a0_0x50dea5;try{return await this['getFlowModelForOwner'](_0x13a244)[_0x4d4d1b(0x328)][_0x4d4d1b(0x5cf)](),{'success':!0x0};}catch(_0x140bde){return console['error'](_0x140bde),{'success':!0x1,'error':_0x140bde};}}},ss=class extends x{[a0_0x50dea5(0x365)](_0x4b0304){return wa(_0x4b0304);}async[a0_0x50dea5(0x1cd)](_0x4dda6b){const _0x20a6be=a0_0x50dea5;try{let _0x1517f3=ya,_0x5981ae=this[_0x20a6be(0x365)](_0x4dda6b),_0x3d90a5=await _0x1517f3[_0x20a6be(0x3d9)]({'owner':_0x4dda6b})[_0x20a6be(0x258)](),_0x2664ea=[],_0x4027fc=[];for(let _0x5b1b3e of _0x3d90a5)await _0x5981ae['findById'](_0x5b1b3e[_0x20a6be(0x3dd)])[_0x20a6be(0x258)]()||(_0x2664ea[_0x20a6be(0x112)](_0x5b1b3e),_0x4027fc[_0x20a6be(0x112)](_0x5b1b3e[_0x20a6be(0x3dd)]));return _0x2664ea[_0x20a6be(0x6a9)]>0x0&&await _0x5981ae[_0x20a6be(0x5b8)](_0x2664ea,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3cf98){return console[_0x20a6be(0x190)](_0x20a6be(0x18f),_0x3cf98),{'success':!0x1,'error':_0x3cf98};}}async[a0_0x50dea5(0x557)](_0x455784){const _0x3a841b=a0_0x50dea5;if(_0x455784[_0x3a841b(0x6a9)]!==0x0)try{return{'insertCount':(await this[_0x3a841b(0x365)](_0x455784[0x0][_0x3a841b(0x591)])[_0x3a841b(0x5b8)]([..._0x455784]))[_0x3a841b(0x6a9)]};}catch(_0x3a51f6){return _0x3a51f6;}}async[a0_0x50dea5(0x2ca)](_0x463f2e,_0x1ef609){const _0x52ee61=a0_0x50dea5;try{let _0x1c9420=this[_0x52ee61(0x365)](_0x1ef609),_0x2be6cf=$(_0x463f2e[_0x52ee61(0x4bb)]);return{'deletedCount':(await _0x1c9420[_0x52ee61(0xce)](_0x2be6cf))['deletedCount']};}catch(_0x11cd17){return{'error':_0x11cd17?.[_0x52ee61(0x4b1)]()};}}async[a0_0x50dea5(0x242)](_0xdaa196,_0x5aa751){const _0x2cbd92=a0_0x50dea5;try{let _0x3d25c8=this[_0x2cbd92(0x365)](_0x5aa751),_0x58100f=$(_0xdaa196[_0x2cbd92(0x4bb)]);return{'deletedCount':(await _0x3d25c8['deleteOne'](_0x58100f))['deletedCount']};}catch(_0x50630f){return{'error':_0x50630f?.[_0x2cbd92(0x4b1)]()};}}async[a0_0x50dea5(0x760)](_0x5ced2d,_0x4748c6){const _0x39447b=a0_0x50dea5;try{if(_0x5ced2d[_0x39447b(0x6a9)]===0x0)return;let _0x35b983=this[_0x39447b(0x365)](_0x4748c6),_0x8627c7=_0x5ced2d['map'](_0x14e169=>({'updateOne':{'filter':{'name':_0x14e169[_0x39447b(0x213)],'owner':_0x4748c6},'update':{..._0x14e169}}})),{modifiedCount:_0x562189}=await _0x35b983[_0x39447b(0x7ad)](_0x8627c7);return{'insertCount':_0x562189};}catch{return;}}async[a0_0x50dea5(0xf2)](_0x233a2f,_0x2c85ef,_0x487c14){const _0x36c0dd=a0_0x50dea5;try{return{'modifiedCount':(await this[_0x36c0dd(0x365)](_0x487c14)[_0x36c0dd(0xf2)](_0x233a2f,{'$set':_0x2c85ef}))[_0x36c0dd(0x67f)]};}catch(_0x44d714){return console[_0x36c0dd(0x190)](_0x36c0dd(0x137),_0x44d714),{'error':_0x44d714};}}async[a0_0x50dea5(0x11c)](_0x57b134,_0x5c5492,_0x47d382){const _0x2d9798=a0_0x50dea5;try{return await this[_0x2d9798(0x365)](_0x47d382)[_0x2d9798(0x527)]({'_id':_0x57b134},{'$set':_0x5c5492},{'new':!0x0,'upsert':!0x0})[_0x2d9798(0x258)]();}catch(_0x29b8de){return console[_0x2d9798(0x190)](_0x29b8de),null;}}async[a0_0x50dea5(0x3d9)](_0xaf8ce7,_0x3201c2){const _0x502dcf=a0_0x50dea5;try{return await this[_0x502dcf(0x365)](_0x3201c2)['find'](_0xaf8ce7)[_0x502dcf(0x34e)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x50dea5(0xcc)](_0x120396,_0xc6bfc){const _0x2fa1d7=a0_0x50dea5;try{return await this[_0x2fa1d7(0x365)](_0xc6bfc)['findOne']({..._0x120396[_0x2fa1d7(0x4bb)]})['lean']();}catch{return null;}}async[a0_0x50dea5(0x573)](_0x2570b2){const _0x37edeb=a0_0x50dea5;try{return await this['getConversationModelForOwner'](_0x2570b2)[_0x37edeb(0x328)][_0x37edeb(0x5cf)](),{'success':!0x0};}catch(_0xe47adf){return console['error'](_0xe47adf),{'success':!0x1,'error':_0xe47adf};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x2fb66d){return Sa(_0x2fb66d);}async[a0_0x50dea5(0x1cd)](_0xcbe834){const _0x1b50ae=a0_0x50dea5;try{let _0x5e0f5c=Ma,_0x40b924=this['getScheduleMessageModelForOwner'](_0xcbe834),_0x4ccd21=await _0x5e0f5c[_0x1b50ae(0x3d9)]({'owner':_0xcbe834})[_0x1b50ae(0x258)](),_0x47d4ad=[],_0x2c109b=[];for(let _0x2c504c of _0x4ccd21)await _0x40b924[_0x1b50ae(0x35a)](_0x2c504c[_0x1b50ae(0x3dd)])[_0x1b50ae(0x258)]()||(_0x47d4ad[_0x1b50ae(0x112)](_0x2c504c),_0x2c109b[_0x1b50ae(0x112)](_0x2c504c[_0x1b50ae(0x3dd)]));return _0x47d4ad[_0x1b50ae(0x6a9)]>0x0&&await _0x40b924[_0x1b50ae(0x5b8)](_0x47d4ad,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4465a){return console['error'](_0x1b50ae(0x18f),_0x4465a),{'success':!0x1,'error':_0x4465a};}}async['createAndSave'](_0x204516,_0x23bcb9){const _0x129684=a0_0x50dea5;try{let _0x3bdd36=this['getScheduleMessageModelForOwner'](_0x23bcb9);return await new _0x3bdd36(_0x204516)[_0x129684(0x1c4)]();}catch(_0x35474d){return console[_0x129684(0x190)](_0x129684(0x6d1),_0x35474d),null;}}async['deleteOne'](_0x1b6419,_0x548d5a){const _0x3c956b=a0_0x50dea5;try{return await this[_0x3c956b(0x16a)](_0x548d5a)[_0x3c956b(0x6eb)](_0x1b6419),{};}catch(_0x56d96b){return{'error':_0x56d96b?.[_0x3c956b(0x4b1)]()};}}async['updateOne'](_0x18f806,_0x285db2,_0x3093a9){const _0x3798c4=a0_0x50dea5;try{return await this[_0x3798c4(0x16a)](_0x3093a9)[_0x3798c4(0x527)](_0x18f806,{'$set':_0x285db2},{'new':!0x0})['lean']();}catch(_0x1f637e){return console[_0x3798c4(0x190)](_0x3798c4(0xcd),_0x1f637e),null;}}async[a0_0x50dea5(0x4e5)](_0x237513,_0x2fb59b,_0x3d3bd6){const _0x3b60bf=a0_0x50dea5;try{return await this[_0x3b60bf(0x16a)](_0x3d3bd6)['findByIdAndUpdate'](_0x237513,_0x2fb59b,{'new':!0x0})['lean']();}catch(_0x2c2c00){return console[_0x3b60bf(0x190)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2c2c00),null;}}async[a0_0x50dea5(0x3d9)](_0x487892,_0x53dcad){const _0x5885b4=a0_0x50dea5;try{return await this[_0x5885b4(0x16a)](_0x53dcad)[_0x5885b4(0x3d9)](_0x487892[_0x5885b4(0x4bb)])[_0x5885b4(0x1f3)](_0x487892?.[_0x5885b4(0x1f3)]??0x0)[_0x5885b4(0x34e)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x50dea5(0xcc)](_0x3ecd6f,_0x1b599a){const _0x53335d=a0_0x50dea5;try{return await this[_0x53335d(0x16a)](_0x1b599a)['findOne'](_0x3ecd6f[_0x53335d(0x4bb)])[_0x53335d(0x34e)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x50dea5(0x35a)](_0x54f29a,_0x38c440){const _0x30af1d=a0_0x50dea5;try{return await this[_0x30af1d(0x16a)](_0x38c440)['findById'](_0x54f29a)['lean']();}catch{return null;}}async[a0_0x50dea5(0xce)](_0x357d85,_0x49a908){const _0x57e0f5=a0_0x50dea5;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x49a908)[_0x57e0f5(0xce)](_0x357d85))[_0x57e0f5(0x178)]};}catch(_0x34c445){return console['error'](_0x57e0f5(0x544),_0x34c445),{'error':_0x34c445};}}async[a0_0x50dea5(0x573)](_0x43aa39){const _0x4db55e=a0_0x50dea5;try{return await this[_0x4db55e(0x16a)](_0x43aa39)[_0x4db55e(0x328)]['drop'](),{'success':!0x0};}catch(_0x1c66df){return console['error'](_0x1c66df),{'success':!0x1,'error':_0x1c66df};}}},rs=class extends x{async['update'](_0x560918,_0x191b98){const _0xd0e9bf=a0_0x50dea5;try{if(this[_0xd0e9bf(0x4c5)][_0xd0e9bf(0x73b)]){let _0x2206b8=await Ue[_0xd0e9bf(0x527)]({'_id':_0x191b98},{'$set':_0x560918},{'new':!0x0});return console[_0xd0e9bf(0x1b3)](_0xd0e9bf(0x279),_0x2206b8),_0x2206b8;}}catch(_0x39ca58){throw console[_0xd0e9bf(0x190)](_0xd0e9bf(0x1e9),_0x39ca58),_0x39ca58;}}async[a0_0x50dea5(0x30c)](_0x17d519){const _0xe976db=a0_0x50dea5;try{let _0x4f3fbb=await Ue['findById'](_0x17d519);return _0x4f3fbb||(_0x4f3fbb=new Ue({'_id':_0x17d519}),await _0x4f3fbb[_0xe976db(0x1c4)]()),_0x4f3fbb;}catch(_0x24aef9){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x24aef9),null;}}},$i=new N(a0_0x50dea5(0x472)),Ai=new Ve(b),Ii=new qt(b),xi=new st(b),Di=new Vt(ta,b),_i=new Zt(ca,b),Pi=new es(ia,b),ki=new ts(b),Li=new Bt(b),ji=new ss(b),Fi=new as(b),Ui=new rs(b),ue=new Je(Ai,Ii,xi,Di,_i,Pi,ki,ji,Li,Fi,Ui,R?.[a0_0x50dea5(0x4b6)]()),B=new Jt(us,b,ue),Ji=new Ht(b,B,ue),qi=new Qt(B),Es=new Xt(qi),I=new Yt(B),oe=new Wt(B,b,ue,us,Ji),G=new zt(B),D=new Gt(B),q=new Kt(B);$i['info'](a0_0x50dea5(0x41b));var Dh=require(a0_0x50dea5(0x54c)),Ls=require('fs'),Dr=T(require('https')),_r=T(require(a0_0x50dea5(0x6b0))),Te=class c{static #e;static set['app'](_0x95616f){this.#e=_0x95616f;}static get[a0_0x50dea5(0x56d)](){const _0x220b87=a0_0x50dea5;let {FULLCHAIN:_0x371f46,PRIVKEY:_0x3425b1}=b[_0x220b87(0x42a)](_0x220b87(0x179));return Dr[_0x220b87(0x59e)]({'cert':(0x0,Ls[_0x220b87(0x3b7)])(_0x371f46),'key':(0x0,Ls[_0x220b87(0x3b7)])(_0x3425b1)},c.#e);}static get[a0_0x50dea5(0x6b0)](){const _0xb15026=a0_0x50dea5;return _r[_0xb15026(0x59e)](c.#e);}},pe=T(require('fs')),Ur=T(require(a0_0x50dea5(0x2d1))),$e=T(require(a0_0x50dea5(0x587))),Ie=T(require(a0_0x50dea5(0x5ee))),xe=require('child_process');function Vi(){const _0x5a0de4=a0_0x50dea5;B['loadInstance']();let _0x33c765=Ie['default'][_0x5a0de4(0x243)](__dirname,_0x5a0de4(0x53b));Fr(_0x33c765);}var Fr=_0x224334=>{const _0x238057=a0_0x50dea5;let _0x40e7c9=pe[_0x238057(0x378)][_0x238057(0x10a)](_0x224334),_0xe6bd73=0xc*0x3c*0x3c*0x3e8,_0x9741b5=0x2*0x3c*0x3c*0x3e8,_0x1393ce=new Date()[_0x238057(0x642)]();_0x40e7c9['forEach'](_0x16b21b=>{const _0x5e1124=_0x238057;let _0x59f764=Ie[_0x5e1124(0x378)][_0x5e1124(0x243)](_0x224334,_0x16b21b),_0x137cb8=pe[_0x5e1124(0x378)][_0x5e1124(0x650)](_0x59f764)[_0x5e1124(0x629)][_0x5e1124(0x642)]();_0x1393ce-_0x137cb8>_0xe6bd73&&(pe[_0x5e1124(0x378)][_0x5e1124(0x688)](_0x59f764),console[_0x5e1124(0x1b3)](_0x5e1124(0x33c)+_0x16b21b));}),setTimeout(()=>Fr(_0x224334),_0x9741b5);};function Bi(){const _0x20abc9=a0_0x50dea5;let _0x17b99f=new N(_0x20abc9(0x1d1)),_0x29d731=(0x0,he['default'])();_0x29d731['use']((0x0,jr[_0x20abc9(0x378)])({'origin'(_0x1c066a,_0x286391){const _0x1f2cef=_0x20abc9;let {ORIGIN:_0x4367db}=b['get'](_0x1f2cef(0x10f));return _0x1c066a||(_0x1c066a='*'),_0x4367db[_0x1f2cef(0x284)]('*')!==-0x1||_0x4367db[_0x1f2cef(0x284)](_0x1c066a)!==-0x1?_0x286391(null,!0x0):_0x286391(new Error(_0x1f2cef(0x4b5)));},'methods':[...b[_0x20abc9(0x42a)]('CORS')[_0x20abc9(0x3cd)]],'credentials':b[_0x20abc9(0x42a)](_0x20abc9(0x10f))[_0x20abc9(0x63d)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x20abc9(0x3b6)}),(0x0,he['json'])({'limit':_0x20abc9(0x3b6)})),_0x29d731[_0x20abc9(0x603)]((_0x4b1433,_0x38b283,_0xe8cb2a)=>{const _0xf6670c=_0x20abc9;_0x4b1433[_0xf6670c(0x5ee)][_0xf6670c(0x702)](_0xf6670c(0x1ef))?_0xe8cb2a():(0x0,Lr[_0xf6670c(0x378)])()(_0x4b1433,_0x38b283,_0xe8cb2a);}),_0x29d731[_0x20abc9(0x559)]('view\x20engine',_0x20abc9(0x268)),_0x29d731['set'](_0x20abc9(0x1a3),(0x0,Fs[_0x20abc9(0x243)])(ie,_0x20abc9(0x1a3))),_0x29d731[_0x20abc9(0x603)](he[_0x20abc9(0x378)]['static']((0x0,Fs[_0x20abc9(0x243)])(ie,_0x20abc9(0x4a5)))),_0x29d731['use']((_0x5070cb,_0x308ed2,_0x43b8e0)=>{const _0x398db=_0x20abc9;let _0x524bd0=_0x308ed2['send'];_0x308ed2[_0x398db(0x652)]=function(_0xf1ac3c){const _0x3595e5=_0x398db;if(_0x5070cb[_0x3595e5(0x583)][_0x3595e5(0x65c)]==='true'||_0x5070cb['headers'][_0x3595e5(0x348)]===_0x3595e5(0x54a)){let _0x441cc5=JSON['parse'](_0xf1ac3c);_0xf1ac3c=JSON[_0x3595e5(0x581)](_0x1269c8(_0x441cc5));}return _0x524bd0[_0x3595e5(0x580)](_0x308ed2,[_0xf1ac3c]);},_0x43b8e0();}),_0x29d731['use']('/',At),_0x29d731[_0x20abc9(0x603)]((_0x247435,_0x3b213c,_0x5d2317,_0x52c382)=>{const _0x5f58f8=_0x20abc9;if(_0x247435)return _0x5d2317['status'](_0x247435[_0x5f58f8(0x373)]||0x1f4)[_0x5f58f8(0x271)](_0x247435);},(_0x26c3b9,_0x1ea745,_0x3119f1)=>{const _0x3fc600=_0x20abc9;let {method:_0x141af6,url:_0x242353}=_0x26c3b9;_0x1ea745[_0x3fc600(0x373)](0x194)[_0x3fc600(0x271)]({'status':0x194,'message':_0x3fc600(0x4f4)+_0x141af6['toUpperCase']()+'\x20'+_0x242353,'error':_0x3fc600(0x23f)}),_0x3119f1();});let _0x1269c8=(_0x4c885d,_0x247c96=_0x20abc9(0x34f))=>{const _0x38fa2a=_0x20abc9;let _0x48ebd7=(_0x1e3da0,_0x3bcb21=null,_0x5ea212=!0x1)=>{const _0x236944=a0_0x4934;let _0x30b2d0={};return Object[_0x236944(0x165)](_0x1e3da0)['forEach'](_0x4cd785=>{const _0x1672ea=_0x236944;let _0x31fd75=_0x1e3da0[_0x4cd785],_0x453c9c=''+_0x247c96+_0x4cd785;_0x3bcb21&&!_0x5ea212&&(_0x453c9c=_0x3bcb21+'.'+_0x4cd785),!_0x31fd75&&_0x31fd75!==0x0&&_0x31fd75!==!0x1||typeof _0x31fd75>'u'?_0x30b2d0[_0x453c9c]=null:typeof _0x31fd75!=_0x1672ea(0x471)&&!Array[_0x1672ea(0x483)](_0x31fd75)?_0x30b2d0[_0x453c9c]=_0x31fd75:typeof _0x31fd75==_0x1672ea(0x471)&&!Array[_0x1672ea(0x483)](_0x31fd75)?_0x30b2d0=Object['assign'](_0x30b2d0,_0x48ebd7(_0x31fd75,_0x453c9c)):Array[_0x1672ea(0x483)](_0x31fd75)&&(typeof _0x31fd75[0x0]=='object'?(_0x30b2d0[_0x453c9c]=[],_0x31fd75['forEach'](_0xd44baa=>{const _0x427019=_0x1672ea;_0x30b2d0[_0x453c9c][_0x427019(0x112)](_0x48ebd7(_0xd44baa,_0x453c9c,!0x0));})):_0x30b2d0[_0x453c9c]=_0x31fd75);}),_0x30b2d0;};return Array[_0x38fa2a(0x483)](_0x4c885d)?_0x4c885d[_0x38fa2a(0x298)](_0x12b8ce=>_0x48ebd7(_0x12b8ce)):typeof _0x4c885d==_0x38fa2a(0x471)&&_0x4c885d!==null?_0x48ebd7(_0x4c885d):{};},_0x52aab9=b[_0x20abc9(0x42a)](_0x20abc9(0x1d1));Te['app']=_0x29d731;let _0x2c085c=Te[_0x52aab9[_0x20abc9(0x2ed)]],_0x57252b='\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2c085c['listen'](_0x52aab9['PORT'],()=>{const _0x4e80b8=_0x20abc9;_0x17b99f['log'](_0x57252b),_0x17b99f[_0x4e80b8(0x1b3)](_0x52aab9[_0x4e80b8(0x2ed)][_0x4e80b8(0x56b)]()+_0x4e80b8(0x166)+_0x52aab9[_0x4e80b8(0xdc)]);}),Vi(),Ks();}var Gi=a0_0x50dea5(0x73f),Wi=Ie[a0_0x50dea5(0x378)][a0_0x50dea5(0x243)](__dirname,a0_0x50dea5(0x218)),Ae=null;function zi(){return new Promise((_0x573108,_0x20ae9d)=>{const _0x89a47d=a0_0x4934;pe[_0x89a47d(0x378)][_0x89a47d(0x215)](Wi,'utf-8',(_0x23936d,_0x144a66)=>{const _0x364c39=_0x89a47d;if(_0x23936d){Ae=_0x23936d,_0x573108();return;}Ur[_0x364c39(0x378)]['parse'](_0x144a66)[_0x364c39(0x2ec)][_0x364c39(0xf5)]===Gi?(Ae=null,_0x573108()):(Ae=new Error(_0x364c39(0x322)),_0x573108());});});}async function Hi(){const _0x3e255a=a0_0x50dea5;try{await zi(),await Us();}catch(_0x581bc3){console[_0x3e255a(0x190)]('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x581bc3),process[_0x3e255a(0x5f5)](0x1);}}Hi();async function Jr(){const _0x535fac=a0_0x50dea5;let _0xe80af5;try{_0xe80af5=(await $e[_0x535fac(0x378)][_0x535fac(0x42a)](_0x535fac(0x221)))[_0x535fac(0x478)]['ip'];}catch(_0x704f7e){console['error'](_0x704f7e);try{_0xe80af5=(await $e[_0x535fac(0x378)][_0x535fac(0x42a)](_0x535fac(0x795)))[_0x535fac(0x478)]['ip'];}catch(_0x4c2b7f){console[_0x535fac(0x190)](_0x4c2b7f);try{_0xe80af5=(await $e[_0x535fac(0x378)]['get'](_0x535fac(0x635)))[_0x535fac(0x478)][_0x535fac(0x148)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x38d38a){return console[_0x535fac(0x190)](_0x38d38a),!0x1;}}}return _0xe80af5;}var Pr=0x0;async function Ki(){const _0x95687b=a0_0x50dea5;let _0x2f268e=await new ne(b[_0x95687b(0x42a)](_0x95687b(0x6fc)))[_0x95687b(0x473)]();return console[_0x95687b(0x1b3)](_0x95687b(0x4c4),_0x2f268e[_0x95687b(0x6a9)]),_0x2f268e['length'];}function Qi(_0xed63dd){const _0x3fb3c1=a0_0x50dea5;let _0x569eaa=_0xed63dd['get'](_0x3fb3c1(0x1d1))['URL'],_0x4c69a8=_0xed63dd['get'](_0x3fb3c1(0x179)),_0x4733d5;if(_0x569eaa){let _0x29f28f=_0x569eaa[_0x3fb3c1(0x148)](/\/\/(.*?)\./);_0x29f28f&&_0x29f28f[0x1]&&(_0x4733d5=_0x29f28f[0x1]);}if(!_0x4733d5&&_0x4c69a8&&_0x4c69a8[_0x3fb3c1(0x76a)]){let _0x2cc7be=_0x4c69a8[_0x3fb3c1(0x76a)][_0x3fb3c1(0x531)]('/'),_0x52b3d1=_0x2cc7be[_0x2cc7be[_0x3fb3c1(0x6a9)]-0x2];if(_0x52b3d1){let _0x220e29=_0x52b3d1[_0x3fb3c1(0x531)]('.');_0x220e29[_0x3fb3c1(0x6a9)]>0x2&&(_0x4733d5=_0x220e29[0x0]);}}return _0x4733d5;}var _s=Qi(b);async function Yi(){const _0x4f7498=a0_0x50dea5;let _0x6090e5=b[_0x4f7498(0x42a)](_0x4f7498(0x6fc)),_0x4923fb=b[_0x4f7498(0x42a)](_0x4f7498(0x52f))[_0x4f7498(0x6c4)][_0x4f7498(0x4b2)],_0x1497cf=b[_0x4f7498(0x42a)]('SSL_CONF'),_0x122a90=await Jr(),_0x2a26f0=b['get'](_0x4f7498(0x1d1))[_0x4f7498(0xdc)],_0xa8c3db=b[_0x4f7498(0x42a)](_0x4f7498(0x1d1))[_0x4f7498(0x5e5)];try{let _0x5eda7e={'ip':_0x122a90||null,'redis_enable':_0x6090e5?.[_0x4f7498(0x73b)]||null,'apikey':_0x4923fb||null,'ssl':_0x1497cf?.[_0x4f7498(0x3e4)]||null,'lastupdate':qr||null,'port':_0x2a26f0||null,'gitInstallError':Ae?.[_0x4f7498(0x47f)]||null,'url':_0xa8c3db||null};if(console[_0x4f7498(0x1b3)]('ip:\x20',_0x5eda7e['ip']),_0x6090e5&&_0x6090e5[_0x4f7498(0x73b)]){let _0x7b19af=await Ki();_0x5eda7e[_0x4f7498(0x7ae)]=_0x7b19af||null;}for(let _0x4a86f8 in _0x5eda7e)_0x5eda7e[_0x4f7498(0x29e)](_0x4a86f8)&&_0x4a86f8!=='ip'&&(_0x5eda7e[_0x4a86f8]=JSON[_0x4f7498(0x581)](_0x5eda7e[_0x4a86f8]));return(await $e[_0x4f7498(0x378)][_0x4f7498(0x3b1)](_0x4f7498(0x411),_0x5eda7e))[_0x4f7498(0x478)];}catch(_0x2716b3){return console[_0x4f7498(0x190)](_0x2716b3),!0x1;}}var js=!0x1,qr=0x23a,Xi=0x3,kr=0x1b7740;async function Us(){const _0x5c7bbc=a0_0x50dea5;if(!await Jr())return console[_0x5c7bbc(0x190)](_0x5c7bbc(0x536)),_0x5c7bbc(0x3d1);let _0xaf9075=await Yi();if(_0xaf9075){if(_0xaf9075['response'][_0x5c7bbc(0x1d8)]===!0x0){let _0x5470c3=b['get'](_0x5c7bbc(0x179)),_0x236791=b['get'](_0x5c7bbc(0x1d1))[_0x5c7bbc(0x5e5)];_0x5470c3&&_0x5470c3?.[_0x5c7bbc(0x3e4)]?.[_0x5c7bbc(0x58a)]('<subdomain>')&&_0xaf9075['response']['subdomain']&&!_0x236791&&(await to(_0xaf9075[_0x5c7bbc(0x700)]['subdomain'],eo),await so(_0x5c7bbc(0xe5),_0xaf9075[_0x5c7bbc(0x700)][_0x5c7bbc(0x156)]),console[_0x5c7bbc(0x1b3)](_0x5c7bbc(0x6c0)),setTimeout(()=>ro(),0x2710)),Ae===null&&_0xaf9075['response'][_0x5c7bbc(0x2a2)]-qr>0x0&&await Zi(),js||(js=!0x0,Bi());let _0x3d932a=0x24*0x3c*0x3c,_0x211458=_0xaf9075['response'][_0x5c7bbc(0x2f8)]>_0x3d932a?_0x3d932a:_0xaf9075[_0x5c7bbc(0x700)]['segundos'],_0x9393b9=Number(_0x211458);if(isNaN(_0x9393b9)){console[_0x5c7bbc(0x190)]('interval\x20no\x20\x20um\x20nmero');return;}let _0x94574c=Math[_0x5c7bbc(0x16e)](_0x9393b9/0xe10),_0x595299=Math[_0x5c7bbc(0x16e)](_0x9393b9%0xe10/0x3c),_0x3944a8=new Date(Date[_0x5c7bbc(0x712)]()+_0x9393b9*0x3e8);setTimeout(Us,_0x9393b9*0x3e8);let _0x352b46=_0x18f8c3=>_0x18f8c3[_0x5c7bbc(0x4b1)]()[_0x5c7bbc(0x6ba)](0x2,'0'),_0x5b2fab='Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20'+_0x352b46(_0x94574c)+_0x5c7bbc(0x31e)+_0x352b46(_0x595299)+'\x20minutos.\x20Ser\x20s\x20'+_0x352b46(_0x3944a8['getHours']())+':'+_0x352b46(_0x3944a8[_0x5c7bbc(0x23b)]())+'.';console[_0x5c7bbc(0x1b3)](_0x5b2fab);}else return console[_0x5c7bbc(0x1b3)](_0x5c7bbc(0x3a8)),js&&(console[_0x5c7bbc(0x1b3)](_0x5c7bbc(0x4f8)),process[_0x5c7bbc(0x5f5)]()),_0x5c7bbc(0x3a2);}else{if(Pr++,Pr<Xi)console[_0x5c7bbc(0x1b3)]('Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20'+kr/0xea60+_0x5c7bbc(0x2ab)),setTimeout(Us,kr);else return console[_0x5c7bbc(0x190)](_0x5c7bbc(0x386)),_0x5c7bbc(0x4dd);}}async function Zi(){const _0x4503fd=a0_0x50dea5;console['log'](_0x4503fd(0x493));let _0xb780ab=(0x0,xe[_0x4503fd(0x5d3)])(_0x4503fd(0x442),{'shell':!0x0});_0xb780ab['stdout']['on'](_0x4503fd(0x478),_0x58ffa1=>{const _0x17ef69=_0x4503fd;console[_0x17ef69(0x1b3)](_0x17ef69(0x1fa)+_0x58ffa1);}),_0xb780ab['stderr']['on']('data',_0x59b270=>{const _0x4851a2=_0x4503fd;console[_0x4851a2(0x190)]('Erro\x20de\x20atualizao:\x20'+_0x59b270);}),_0xb780ab['on'](_0x4503fd(0x5f5),_0x176cea=>{const _0x391664=_0x4503fd;_0x176cea!==0x0?console[_0x391664(0x190)](_0x391664(0x436)+_0x176cea):console[_0x391664(0x1b3)](_0x391664(0x205)),console[_0x391664(0x1b3)]('Parando\x20aplicao...'),setTimeout(()=>process['exit'](),0x2710);});}var eo=Ie[a0_0x50dea5(0x378)][a0_0x50dea5(0x243)](__dirname,a0_0x50dea5(0x564));async function to(_0x507fb7,_0x371092){const _0x5b728a=a0_0x50dea5;let _0x1879fe=ao();_0x507fb7=_0x507fb7[_0x5b728a(0x24a)](_0x5b728a(0x560),'');try{let _0x125956=pe[_0x5b728a(0x378)][_0x5b728a(0x3b7)](_0x371092,_0x5b728a(0x6fa));_0x125956=_0x125956[_0x5b728a(0x24a)](/<apikey>/,_0x1879fe),_0x125956=_0x125956['replace'](/<subdomain>/g,_0x507fb7),pe[_0x5b728a(0x378)][_0x5b728a(0x535)](_0x371092,_0x125956,_0x5b728a(0x6fa)),console[_0x5b728a(0x1b3)](_0x5b728a(0x4f9));}catch(_0x218b2d){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x218b2d);}}function so(_0x3cf4fc,_0x584727){return new Promise((_0x52b721,_0x5c98a5)=>{const _0x9eddd0=a0_0x4934;let _0x47ce75=(0x0,xe[_0x9eddd0(0x5d3)])(_0x9eddd0(0x626),[_0x9eddd0(0x64a),_0x9eddd0(0x220),'-m',_0x3cf4fc,_0x9eddd0(0x3c6),'-d',_0x584727]);_0x47ce75[_0x9eddd0(0x45a)]['on']('data',_0x4d67cf=>{const _0x15f35d=_0x9eddd0;console[_0x15f35d(0x1b3)](_0x15f35d(0x395)+_0x4d67cf[_0x15f35d(0x4b1)]());}),_0x47ce75[_0x9eddd0(0x349)]['on']('data',_0x57fe3c=>{const _0x2248e4=_0x9eddd0;console['error'](_0x2248e4(0x78a)+_0x57fe3c[_0x2248e4(0x4b1)]());}),_0x47ce75['on'](_0x9eddd0(0x450),_0x5469f3=>{const _0x383f87=_0x9eddd0;_0x5469f3!==0x0?(console[_0x383f87(0x190)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0x5469f3),_0x5c98a5(_0x383f87(0x6f1)+_0x5469f3)):(console[_0x383f87(0x1b3)]('Certbot\x20executado\x20com\x20sucesso.'),_0x52b721());});});}function ao(_0xb02584=0x32){const _0x217cde=a0_0x50dea5;let _0x1a6b68=_0x217cde(0x6b3),_0x1d06f9='';for(let _0x13734e=0x0;_0x13734e<_0xb02584;_0x13734e++)_0x1d06f9+=_0x1a6b68[_0x217cde(0x406)](Math[_0x217cde(0x16e)](Math[_0x217cde(0x2a3)]()*_0x1a6b68[_0x217cde(0x6a9)]));return _0x1d06f9;}function ro(){const _0x5859f7=a0_0x50dea5;(0x0,xe[_0x5859f7(0x310)])(_0x5859f7(0x45e),(_0x26481f,_0x66103,_0x527fd3)=>{const _0x3eac18=_0x5859f7;if(_0x26481f){console[_0x3eac18(0x190)](_0x3eac18(0xd4)+_0x26481f);return;}if(_0x527fd3){console[_0x3eac18(0x190)]('Erro\x20de\x20reinicializao:\x20'+_0x527fd3);return;}console[_0x3eac18(0x1b3)](_0x3eac18(0x469)+_0x66103);});}0x0&&(module[a0_0x50dea5(0x2bf)]={'subdomain':subdomain});