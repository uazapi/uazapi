const a0_0x27193d=a0_0x4236;(function(_0x217a6b,_0x5d2d7f){const _0x5ae944=a0_0x4236,_0x380d08=_0x217a6b();while(!![]){try{const _0x4680d6=parseInt(_0x5ae944(0x5f6))/0x1*(-parseInt(_0x5ae944(0x34c))/0x2)+-parseInt(_0x5ae944(0x56c))/0x3+parseInt(_0x5ae944(0x320))/0x4*(parseInt(_0x5ae944(0x1d4))/0x5)+-parseInt(_0x5ae944(0x60a))/0x6+parseInt(_0x5ae944(0x63f))/0x7+parseInt(_0x5ae944(0x2ed))/0x8+parseInt(_0x5ae944(0x509))/0x9;if(_0x4680d6===_0x5d2d7f)break;else _0x380d08['push'](_0x380d08['shift']());}catch(_0xe91322){_0x380d08['push'](_0x380d08['shift']());}}}(a0_0x2471,0xb6f12));var Br=Object[a0_0x27193d(0x29c)],Pe=Object[a0_0x27193d(0x3a9)],Gr=Object[a0_0x27193d(0x523)],Wr=Object[a0_0x27193d(0x485)],zr=Object[a0_0x27193d(0x45b)],Hr=Object[a0_0x27193d(0x3bc)]['hasOwnProperty'],Kr=(_0x4f4e2c,_0x6eeb7a)=>{for(var _0x34cb11 in _0x6eeb7a)Pe(_0x4f4e2c,_0x34cb11,{'get':_0x6eeb7a[_0x34cb11],'enumerable':!0x0});},Us=(_0x1d3874,_0x198be6,_0x26c2c5,_0x271882)=>{const _0x42b58d=a0_0x27193d;if(_0x198be6&&typeof _0x198be6==_0x42b58d(0x426)||typeof _0x198be6==_0x42b58d(0x265)){for(let _0x251bdf of Wr(_0x198be6))!Hr[_0x42b58d(0x1fc)](_0x1d3874,_0x251bdf)&&_0x251bdf!==_0x26c2c5&&Pe(_0x1d3874,_0x251bdf,{'get':()=>_0x198be6[_0x251bdf],'enumerable':!(_0x271882=Gr(_0x198be6,_0x251bdf))||_0x271882['enumerable']});}return _0x1d3874;},O=(_0x4e1825,_0x40d8f3,_0x10fcac)=>(_0x10fcac=_0x4e1825!=null?Br(zr(_0x4e1825)):{},Us(_0x40d8f3||!_0x4e1825||!_0x4e1825[a0_0x27193d(0x19e)]?Pe(_0x10fcac,'default',{'value':_0x4e1825,'enumerable':!0x0}):_0x10fcac,_0x4e1825)),Qr=_0x20775a=>Us(Pe({},a0_0x27193d(0x19e),{'value':!0x0}),_0x20775a),io={};Kr(io,{'subdomain':()=>_s}),module[a0_0x27193d(0x16c)]=Qr(io);var Lr=O(require(a0_0x27193d(0x2ab))),Js=require('fs'),Vs=require('js-yaml'),Bs=require(a0_0x27193d(0x1fb)),$e=require(a0_0x27193d(0x1fb)),ie=process[a0_0x27193d(0x13e)](),ge=(0x0,$e[a0_0x27193d(0x5aa)])(ie,a0_0x27193d(0x6de)),qs=(0x0,$e[a0_0x27193d(0x5aa)])(ie,'src'),Xo=(0x0,$e[a0_0x27193d(0x5aa)])(ie,a0_0x27193d(0x678),a0_0x27193d(0x3e9)),os=class{constructor(){const _0x9df9f8=a0_0x27193d;this[_0x9df9f8(0x29e)]();}[a0_0x27193d(0x30a)](_0x174a96){const _0xe48c6f=a0_0x27193d;return this[_0xe48c6f(0x609)][_0x174a96];}[a0_0x27193d(0x29e)](){const _0x1e1498=a0_0x27193d;this[_0x1e1498(0x609)]=process['env']?.[_0x1e1498(0x169)]!==_0x1e1498(0x47a)?this[_0x1e1498(0x3ad)]():this['envProcess'](),process[_0x1e1498(0x609)]?.['DOCKER_ENV']==='true'&&(this['env']['SERVER'][_0x1e1498(0x4b6)]=_0x1e1498(0x685),this[_0x1e1498(0x609)][_0x1e1498(0x1d0)][_0x1e1498(0x5cc)]=Number[_0x1e1498(0x26f)](process[_0x1e1498(0x609)]?.[_0x1e1498(0x377)]??'8080'));}[a0_0x27193d(0x3ad)](){const _0x3674f6=a0_0x27193d;return(0x0,Vs[_0x3674f6(0x1f0)])((0x0,Js[_0x3674f6(0x4af)])((0x0,Bs['join'])(qs,_0x3674f6(0x4a5)),{'encoding':_0x3674f6(0x65a)}));}[a0_0x27193d(0x241)](){const _0x176d1c=a0_0x27193d;return{'SERVER':{'TYPE':process[_0x176d1c(0x609)]['SERVER_TYPE'],'PORT':Number[_0x176d1c(0x26f)](process[_0x176d1c(0x609)]['SERVER_PORT']),'URL':process[_0x176d1c(0x609)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x176d1c(0x609)][_0x176d1c(0x5d6)][_0x176d1c(0x3d2)](','),'METHODS':process[_0x176d1c(0x609)][_0x176d1c(0x11a)][_0x176d1c(0x3d2)](','),'CREDENTIALS':process[_0x176d1c(0x609)]?.[_0x176d1c(0x4e7)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x176d1c(0x609)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x176d1c(0x609)]?.[_0x176d1c(0x2dd)]},'STORE':{'CLEANING_INTERVAL':Number[_0x176d1c(0x1b5)](process[_0x176d1c(0x609)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x176d1c(0x26f)](process[_0x176d1c(0x609)][_0x176d1c(0x747)]):void 0x0,'MESSAGES':process[_0x176d1c(0x609)]?.[_0x176d1c(0x5b9)]==='true','CONTACTS':process[_0x176d1c(0x609)]?.['STORE_CONTACTS']===_0x176d1c(0x47a),'CHATS':process['env']?.[_0x176d1c(0x64f)]===_0x176d1c(0x47a)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0x176d1c(0x609)]?.[_0x176d1c(0x254)]),'USER':process[_0x176d1c(0x609)][_0x176d1c(0x784)],'PASSWORD':process[_0x176d1c(0x609)][_0x176d1c(0x1cc)],'URI':process[_0x176d1c(0x609)][_0x176d1c(0x526)],'DB_PREFIX_NAME':process[_0x176d1c(0x609)][_0x176d1c(0x56e)]},'ENABLED':process[_0x176d1c(0x609)]?.[_0x176d1c(0x25e)]===_0x176d1c(0x47a)},'REDIS':{'ENABLED':process[_0x176d1c(0x609)]?.['REDIS_ENABLED']==='true','URI':process['env']['REDIS_URI']||_0x176d1c(0x187),'PREFIX_KEY':process[_0x176d1c(0x609)][_0x176d1c(0x2da)]||_0x176d1c(0x47e)},'LOG':{'LEVEL':process[_0x176d1c(0x609)]?.[_0x176d1c(0x61e)][_0x176d1c(0x3d2)](','),'COLOR':process[_0x176d1c(0x609)]?.[_0x176d1c(0x1a9)]===_0x176d1c(0x47a)},'PROXY':Number[_0x176d1c(0x26f)](process[_0x176d1c(0x609)]?.[_0x176d1c(0x527)]),'AUTHENTICATION':{'TYPE':process[_0x176d1c(0x609)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x176d1c(0x609)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x176d1c(0x1b5)](process[_0x176d1c(0x609)]?.[_0x176d1c(0x40c)])?Number[_0x176d1c(0x26f)](process[_0x176d1c(0x609)][_0x176d1c(0x40c)]):0xe10,'SECRET':process[_0x176d1c(0x609)][_0x176d1c(0x2a8)]}}};}},b=new os(),jr=O(require(a0_0x27193d(0x175))),he=O(require('express')),js=require(a0_0x27193d(0x1fb)),ns=O(require(a0_0x27193d(0x6f1))),cs=(_0x2a3aae=>(_0x2a3aae[a0_0x27193d(0x316)]=a0_0x27193d(0x4ce),_0x2a3aae[a0_0x27193d(0x248)]=a0_0x27193d(0x438),_0x2a3aae[a0_0x27193d(0x55c)]=a0_0x27193d(0x2fb),_0x2a3aae[a0_0x27193d(0x6ce)]=a0_0x27193d(0x2be),_0x2a3aae[a0_0x27193d(0x737)]=a0_0x27193d(0x1b4),_0x2a3aae[a0_0x27193d(0x4ca)]='\x1b[37m',_0x2a3aae['DARK']='\x1b[30m',_0x2a3aae))(cs||{}),Gs=(_0x258813=>(_0x258813[a0_0x27193d(0x316)]=a0_0x27193d(0x55a),_0x258813[a0_0x27193d(0x366)]=a0_0x27193d(0x279),_0x258813[a0_0x27193d(0x248)]=a0_0x27193d(0x403),_0x258813[a0_0x27193d(0x55c)]=a0_0x27193d(0x733),_0x258813[a0_0x27193d(0x6ce)]=a0_0x27193d(0x690),_0x258813[a0_0x27193d(0x737)]='\x1b[36m%s\x1b[0m',_0x258813[a0_0x27193d(0x4ca)]=a0_0x27193d(0x412),_0x258813))(Gs||{}),Ws=(_0x152a85=>(_0x152a85[a0_0x27193d(0x316)]=a0_0x27193d(0x316),_0x152a85['WARN']=a0_0x27193d(0x55c),_0x152a85['INFO']='INFO',_0x152a85['DARK']=a0_0x27193d(0x366),_0x152a85[a0_0x27193d(0x6ce)]='ERROR',_0x152a85[a0_0x27193d(0x737)]='DEBUG',_0x152a85['VERBOSE']=a0_0x27193d(0x4ca),_0x152a85))(Ws||{}),zs=(_0x56ce1c=>(_0x56ce1c[a0_0x27193d(0x316)]=a0_0x27193d(0x687),_0x56ce1c[a0_0x27193d(0x248)]=a0_0x27193d(0x5bc),_0x56ce1c[a0_0x27193d(0x55c)]=a0_0x27193d(0x6f5),_0x56ce1c[a0_0x27193d(0x366)]=a0_0x27193d(0x312),_0x56ce1c[a0_0x27193d(0x6ce)]=a0_0x27193d(0x10a),_0x56ce1c[a0_0x27193d(0x737)]='\x1b[46m',_0x56ce1c['VERBOSE']=a0_0x27193d(0x7b1),_0x56ce1c))(zs||{}),v=class{constructor(_0x54bb36=a0_0x27193d(0x25a)){const _0x5aa8d8=a0_0x27193d;this[_0x5aa8d8(0x14b)]=_0x54bb36,this[_0x5aa8d8(0x29f)]=b;}[a0_0x27193d(0x393)](_0xfbe56){const _0x4f67bf=a0_0x27193d;this[_0x4f67bf(0x14b)]=_0xfbe56;}['console'](_0xb44d03,_0x4bdc91){const _0x9940bb=a0_0x27193d;let _0x909536=[];this['configService'][_0x9940bb(0x30a)](_0x9940bb(0x316))['LEVEL'][_0x9940bb(0x6ff)](_0x5b66fb=>_0x909536[_0x9940bb(0x7b6)](Ws[_0x5b66fb]));let _0x80da49=typeof _0xb44d03;_0x909536[_0x9940bb(0x53b)](_0x4bdc91)&&(b[_0x9940bb(0x30a)]('LOG')[_0x9940bb(0x408)]?(console[_0x9940bb(0x5c8)]('\x1b[1m'+Gs[_0x4bdc91],_0x9940bb(0x21d),(0x0,ns['default'])()[_0x9940bb(0x4d6)](_0x9940bb(0x3c2)),_0x9940bb(0x47c),cs[_0x4bdc91]+zs[_0x4bdc91]+_0x9940bb(0x653),_0x4bdc91+_0x9940bb(0x4b2),_0x9940bb(0x2b6),this[_0x9940bb(0x14b)]+_0x9940bb(0x47c),cs[_0x4bdc91],_0x80da49!==_0x9940bb(0x426)?_0xb44d03:'','\x1b[0m'),_0x80da49===_0x9940bb(0x426)&&console['log'](_0xb44d03,'\x0a')):console[_0x9940bb(0x5c8)]((0x0,ns['default'])()['format'](_0x9940bb(0x228)),_0x4bdc91+'\x20',''+this['context'],_0xb44d03));}['log'](_0x5bcd79){const _0x2ebb0f=a0_0x27193d;this[_0x2ebb0f(0x236)](_0x5bcd79,'LOG');}[a0_0x27193d(0x551)](_0x521d5c){const _0x2a1eff=a0_0x27193d;this[_0x2a1eff(0x236)](_0x521d5c,'INFO');}[a0_0x27193d(0x4a4)](_0x1f5d9c){const _0x278a9c=a0_0x27193d;this[_0x278a9c(0x236)](_0x1f5d9c,'WARN');}['error'](_0x4abb6d){const _0x46d80e=a0_0x27193d;this[_0x46d80e(0x236)](_0x4abb6d,_0x46d80e(0x6ce));}[a0_0x27193d(0x5da)](_0x5738a8){const _0x86a8e=a0_0x27193d;this[_0x86a8e(0x236)](_0x5738a8,_0x86a8e(0x4ca));}[a0_0x27193d(0x44d)](_0x2be8f9){const _0x83fe60=a0_0x27193d;this[_0x83fe60(0x236)](_0x2be8f9,_0x83fe60(0x737));}['dark'](_0x1ef29e){const _0x5a661e=a0_0x27193d;this[_0x5a661e(0x236)](_0x1ef29e,_0x5a661e(0x366));}};function Hs(){const _0x15f1f1=a0_0x27193d;process['on'](_0x15f1f1(0x129),(_0x1f4872,_0x38b5f4)=>{const _0x20c966=_0x15f1f1;new v(_0x20c966(0x129))['error']({'origin':_0x38b5f4,'stderr':process['stderr']['fd'],'error':_0x1f4872});}),process['on']('unhandledRejection',(_0x721e40,_0x29539d)=>{const _0x5e5155=_0x15f1f1;new v(_0x5e5155(0x546))[_0x5e5155(0x382)]({'origin':_0x29539d,'stderr':process[_0x5e5155(0x45a)]['fd'],'error':_0x721e40});});}var Ks=O(require(a0_0x27193d(0x6e1))),ls=new Ks[(a0_0x27193d(0x359))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require('mongoose'),Se=O(require(a0_0x27193d(0x6f7))),ke=new v(a0_0x27193d(0x132)),k=b['get'](a0_0x27193d(0x647)),N=k['ENABLED']?k[a0_0x27193d(0x32c)][a0_0x27193d(0x5a2)]?Se[a0_0x27193d(0x359)]['createConnection'](k[a0_0x27193d(0x32c)]['URI'],{'dbName':k[a0_0x27193d(0x32c)]['DB_PREFIX_NAME']+a0_0x27193d(0x244)}):Se[a0_0x27193d(0x359)][a0_0x27193d(0x235)](a0_0x27193d(0x394)+k[a0_0x27193d(0x32c)][a0_0x27193d(0x770)]+':'+k[a0_0x27193d(0x32c)][a0_0x27193d(0x5cc)]+a0_0x27193d(0x6ad),{'user':k[a0_0x27193d(0x32c)][a0_0x27193d(0x1f1)],'pass':k[a0_0x27193d(0x32c)][a0_0x27193d(0x6fd)],'dbName':k[a0_0x27193d(0x32c)][a0_0x27193d(0x6e5)]+a0_0x27193d(0x244)}):null;k[a0_0x27193d(0x323)]&&ke[a0_0x27193d(0x551)]('ON\x20-\x20dbName:\x20'+N[a0_0x27193d(0x1ee)]);function a0_0x2471(){const _0x1c9ac4=['when','deleteConversation','PASSWORD','/wa-connection-update','forEach','notEmpty','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Message\x20not\x20found','groupHandler','Rótulo\x20deletado:','list','sticker','_Contacts','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','):\x20Bloco\x20com\x20ID\x20','sha256','Error\x20change\x20group\x20setting','readreceipts','):\x20não\x20encontrou','scheduleSendAudio','sendLocation','toBrazilianNumberFormat','initAuthCreds','ContactModel','SEND_MESSAGE','pollCreationMessageV2','last','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','lastMessage','profile','sleep','participant','data','awaitingApproval','findParticipants','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','setUpdate','getMinutes','key','text/event-stream','):\x20Criou\x20conversa\x20no\x20startFlow:','request\x20received\x20in\x20getConversation','webhookMap','editChat','webhookService','Instância\x20não\x20encontrada.','connectionUpdate','lean','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','class-validator','Safari','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','etiquetas','subjectTime','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Falha\x20após\x20várias\x20tentativas.','\x1b[33m%s\x1b[0m','importChatsBatch','stopWhenYouSendMsg','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','DEBUG','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','locationMessage','stopped','headerString','\x20-y','toLocaleString','restartInstance','Read\x20messages\x20fail','rowId','instanceName\x20not\x20provided.','ChatModel','floor','Background\x20color\x20is\x20required','/automate','Variáveis\x20não\x20encontradas:','STORE_CLEANING_TERMINAL','interval\x20não\x20é\x20um\x20número','notas','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20expirationTime:\x20','option','updateReadReceiptsPrivacy','ORG:','getFlow','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','optionName','everyOne','toBRL','state','https://chat.whatsapp.com/','deleteBlock','addBlock','Bloco\x20com\x20ID\x20','mongodb','replaceVariablesInReplyOptions','lastCondition','.gif','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','http://ifconfig.me/ip','allContacts','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Enviando\x20localização','getMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','ReplyOption\x20com\x20ID\x20','senderKeyDistributionMessage','fetchProfilePictureUrl','segundos','replaceVariablesInObject','optionDescription','/:instanceName','port','http://ipecho.net/plain','find','http://myexternalip.com/raw','HOST','\x0aFN:','trimmed','chats.update','encoding','saveTextReply','Certbot:\x20','synchronizeFlows','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Error\x20parsing\x20apiRequest.bodyString:','GROUP_PARTICIPANTS_UPDATE','verify','groupGetInviteInfo','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','#ffae04','collections','charAt','conversation','groupName','\x20minutos','DATABASE_CONNECTION_USER','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','array','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','close','not\x20loaded','CHATS_UPDATE','processConditions','isRunning','flush','Número:\x20','router','updateConversation','contacts.upsert','http://icanhazip.com/','/wa-contacts','modifiedCount','whatsappNumbers','Erro\x20de\x20reinicialização:\x20','online','status.instance','connecting','label','getConversationModelForOwner','getConversation','pictureUrl','inner','blockLogs','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','recebido\x20de','available','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','owner','valid','formatVCard','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupId','Mac\x20OS','g.us','cacheContact','qrcode-terminal','Falta\x20informação\x20para\x20a\x20chamada\x20API','joinGroup','pollOnReplyDelete','restrict','\x1b[47m','stickerMessage','mediaSticker',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','urlencoded','push','Mensagem\x20não\x20suportada','sharp','shareOwners','getLabelModelForOwner','varedit','copyBlock','_Flows','Notifying\x20clients\x20for\x20chat:\x20','processApiRequest','Erro\x20ao\x20copiar\x20dados:','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','certonly','):\x20Limpando\x20delayMessage','NextBlock','https://github.com/uazapi/uazapi.git','ListType','Error\x20in\x20markMessageAsRead:','@s.whatsapp.net','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Error\x20updating\x20profile\x20picture','createConversationforgoToFlow','upperCase','http://checkip.dyndns.org','remoteJidsRemaining','getScheduleMessage','poll','ini','desativadoFluxoAte','messageContextInfo','\x1b[41m','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','.webm','inviteCode','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','GET','createJid','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Instance\x20Key\x20from\x20DB:','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','groupUpdateDescription','Failed\x20to\x20find\x20chat\x20','deleteFlow','lastInteraction','updateGParticipant','Comando\x20desconhecido','CORS_METHODS','getVariablesChat','):\x20conversation.waitingMenu_name','automateSystem','fullName','empty','preview','GROUPS_UPDATE','#ffffff','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','put','redis','Button\x20IDs\x20cannot\x20be\x20repeated.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Error\x20occurred\x20while\x20archiving\x20chat:\x20','uncaughtException','linkPreview','ListMessage','EXPIRIN_IN','downloads','insert','ephemeralExpiration','headers','authorization','Db\x20Connection','updatePresence','Erro\x20de\x20atualização:\x20','StatusJidList\x20is\x20required','saveCreds','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Conversa\x20inserida\x20com\x20sucesso.','action','/wa-qrcode','messagesSend','messages.upsert','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','cwd','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','address','Erro\x20ao\x20aplicar\x20varedit:\x20','saveMediaToFile','del','off','remoteJids','dropCollection','delayChatLabel','status','messageId','menuType','context','):\x20Editando\x20grupo\x20do\x20fluxo...','messageTimestamp','audio/ogg;\x20codecs=opus','chatHandle','cleanStore','Error\x20updating\x20profile\x20status','contactname','pushName','beforeExit','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','proto','code','leaveGroup','fileName','Invalid\x20format','truncatedto','CORS','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','menuMessage','values','DELIVERY_ACK','admin','findChats','greater','Archiving\x20chat','sendText','mediaMessage','):\x20atualização\x20chat:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','DOCKER_ENV','Router','arraybuffer','exports','.pdf','cachedContact','sendPresenceUpdate','Fetching\x20business\x20profile','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','getProfileName','add','reconnectTimestamps','cors','connectionClosed','creds','Types','notMatchRegex','generateHash','demote','):\x20Criando\x20fluxo\x20regular...','ScheduleMessageModel','):\x20Alterando\x20fluxo...','removeData','Resultado\x20da\x20atualização:','findAndReplace','getDelay','convertedOptions','express','processConditionsTest','rm\x20-rf\x20','redis://127.0.0.1:6379','*Pergunta*:\x20\x0a','GROUPS_UPSERT','pollUpdateMessage','DisconnectReason','sending','The\x20','menuIgnoreNonVotes','):\x20[messages.update]\x20group\x20ignored','@whiskeysockets/baileys','release','PLAYED','env.yml','Internal\x20Server\x20Error','contactMessage','getMessageModelForOwner','group','writeData','!cmd_','buttonMessage','instance','trim','pollMessage','__esModule','):\x20Buscando\x20conversas...','notify','fetchChats','variables','Schema','binary','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','hGet','announcement','LOG_COLOR','customFields','Fluxos\x20não\x20estão\x20ativados','done','\x22\x20-\x20REMOVED','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','addReplyOption','activatedCount','child_process','$addToSet','editFlowVaredit','\x1b[36m','isInteger','#b4ebff',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','_Chats','):\x20Deletando\x20fluxo...','/instance','none','waInstances','editConversation','PENDING','currency','getLastMessage','statusCode','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','.\x20Pulando.','SSL_CONF','Error\x20change\x20group\x20description','This\x20name\x20','groups','Rótulo\x20atualizado:','ON\x20-\x20dbName:\x20','getRandomText','silent','DATABASE_CONNECTION_PASSWORD','realVariables','labels.association','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','SERVER','metadata','JWT','Erro\x20ao\x20normalizar\x20a\x20mensagem:','10MIYhGO','\x20chats\x20de\x20','name','scheduleNextCheck','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','errorLog','):\x20teve\x20mudanças\x20chat.name:\x20','deleteInstance','updateMany','Error\x20fetching\x20and\x20updating\x20profile:\x20','/instance/delete','getBase64FromMediaMessage','):\x20Enviando\x20enquete','Erro\x20ao\x20importar\x20chats:','uazapiSendMedia','lastBlockId','joinGroupValidate','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','leadInfo.','groupLeave','application/json','):\x20Enviando\x20texto','updateMediaMessage','imagechat','toString','https://','$dbName','firstValue','load','USER','getContentType','flowName','delete','):\x20enviado\x20para\x20[','PREFIX_KEY','removeOlderDisconnectedInstances','rows','phoneNumber','Instance\x20deleted','path','call','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Edit\x20schedule\x20message...','beautifyWithPlaceholders','viewOnceMessage','method','The\x20\x22','base64','process','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','findWebhook','substring','viewOnceMessageV2','createWebhook','save','SECRET','profilePictureUrl','title','hDel','deleteReplyOption','):\x20Editando\x20replyOption...','API\x20Key\x20from\x20Request:','startsWith','FULLCHAIN','request\x20received\x20in\x20editFlow','isArray','ContactsAndGroups','font','boolean','?timestamp=','\x20instance\x20does\x20not\x20exist','buttonText','convertToWebP','\x1b[1m\x1b[37m','findById','sem\x20texto\x20na\x20mensagem','sign','fetchProfilePicture','Selecione','#9568cf','blocks','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','leadInfo.desativadoFluxoAte','HH:mm:ss','Deletion\x20failed','Erro\x20ao\x20editar\x20o\x20chat:\x20','jid','Cache-Control','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','upsertedCount','updateOneById','dbInstance','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Erro\x20ao\x20iniciar\x20fluxo:\x20','subdomain','createConnection','console','length','.pptx','generateWAMessageFromContent','\x20ao\x20chat\x20','now','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Limpando\x20AutomateSystem','applyvaredit','groupRevokeInvite','findConversation','envProcess','contact','match','-whatsapp-api','):\x20Enviando\x20áudio','protocolMessage','/instance/connectionState','INFO','Error\x20change\x20group\x20name','GUARD','Failed\x20to\x20update\x20contact\x20profile\x20picture','Read\x20messages','editflow','width','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','subject','QRCODE_UPDATED','uazapiSendLocation','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','DATABASE_CONNECTION_HOST','sendDataWebhook','Not\x20allowed\x20by\x20CORS','#fed428','namespace','mimetype','Logger','type','error_log','updateAll','DATABASE_ENABLED','statSync','local_map','instanceName','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','post','throwAndLogError','function','makeCacheableSignalKeyStore','prefixCommand','getClient','storePath','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','apikey','groups.update','content','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','parseInt','notContains','scheduleSendText','stopMinutes','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','min','expression','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','dbConnection','static','\x1b[30m%s\x1b[0m','findGroupInfos','fetchPrivacySettings','authModel','waitingForReplyMenu','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','instanceInfo','getMIMEType','/config','round','deleted','waitingMenu_id','fetchInstances','/wa-all-message','delay','sendPoll','Erro\x20ao\x20remover\x20label\x20','send.message','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','https-proxy-agent','toArray','.doc','keys','mentions','deleteDoneMessages','\x20não\x20encontrado','imageMessage','saveConversationToDatabase','and','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','output','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','CHATS_UPSERT','reaction','goNextblock','create','repeat','loadEnv','configService','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','findOneAndUpdate','delayChatLabel_RETRY_DELAY_MS','logger','lastmsg','getFlowModelForOwner','instanceCount','detail','AUTHENTICATION_JWT_SECRET','qrCode','request\x20received\x20in\x20createFlow','compression','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','groupJoinApprovalMode','flowConfig','Database\x20connection\x20closed.','documentWithCaptionMessage','participants','):\x20Error\x20processing\x20the\x20block:\x20','STATUS_INSTANCE','https://jsonip.com','\x20chats\x20foram\x20atualizados.','\x1b[33m\x1b[1m','RemoveChatLabel','description','stopConversation','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Query\x20params:\x20','bearer','color','\x1b[31m','formatBRNumber','set','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','connectedClient','updateProfileStatus','variablesToObject','height','saveVariable','):\x20customFieldVariables','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','request_time','createHash','Reinicialização\x20iniciada:\x20','order','vote','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','replyOption',',\x20Segundo\x20Valor:\x20','collection','Audio\x20processed','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','Erro\x20ao\x20atualizar\x20conversa:\x20','importChatsAntigo','*\x0a\x0a','organization','REDIS_PREFIX_KEY','updateMissingEtiquetas','bodyString','SSL_CONF_FULLCHAIN','TEL','\x5cd+','File\x20written\x20to\x20path:\x20','integer','stdout','.mp3','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Parsed\x20data:','http://ip-api.com/json','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','PRESENCE_UPDATE','editScheduleMessage','variable','Esse\x20fluxo\x20expirou','normalizeMessageContent','3442904mQvdcB','qrcode','InstancesAlterarTodas','delayMessage','choices','deleteMany','fetchLatestBaileysVersion','\x20inseridas\x20no\x20banco\x20de\x20dados...','editFlowCondition','findContacts','):\x20Conversa\x20está\x20expirada','groupSetting','contacts.update','):\x20nextBlock.uazapi.name','\x1b[33m','Bad\x20Request',',\x20lastCondition:\x20','findAndReplaceRegex','Instância:\x20','/exit','Validate','Telefone:\x20','random','uazapiSendContact','parse','-instances','fetchContacts','presence.update','processgoToFlow','get','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Type\x20is\x20required','CacheContacts\x20database\x20connection\x20closed.','evaluateCondition','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','_id','joinApprovalMode','\x1b[40m','replaceVariablesChat','Processing\x20audio','useMultiFileAuthState','LOG','goToFlow','Instance\x20\x22','spawn','dbServer','authentication','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','abs','update','#fe9dfe','1353556QNAGCd','StartBot','uazapiDeleteMessage','ENABLED','profilePicture','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','padEnd','sectionsToString','\x20adicionado\x20ao\x20chat\x20','Erro\x20ao\x20inserir\x20chats:','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','locked','CONNECTION','):\x20newFirstValue\x20após\x20replaceVariables:','pollCreationMessage','request\x20received\x20in\x20editFlowgroup','API\x20Key\x20inválida.','MESSAGES_UPDATE','connectToWhatsappController','\x20->\x20CONFIRMADO.','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','item','):\x20Comando\x20desconhecido:\x20','):\x20Usando\x20extensão\x20padrão:\x20','createSectionsFromValues','waitingMenu_ExpiredMessage','Erro\x20ao\x20atualizar\x20o\x20fluxo:','uazapiSendMenu','Mensagens\x20deletadas\x20com\x20sucesso.','.docx','editFlowBlock','deleteChat','MessageModel','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','axios','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','hex','METHODS','writeFileSync','header','removeProfilePicture','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','eventEmitter','1776ZpjUnr','write','findIndex','ReplyOptions\x20finais\x20após\x20reordenação:','sections','ButtonsMessage','\x20inseridos\x20no\x20banco\x20de\x20dados...','Instance\x20restarted','Instance\x20ID:','Group\x20not\x20found','latitude','SUCCESS','contacts','default','findByIdAndUpdate','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','footerText','bulkWrite','urlOrBase64','message_normalized','):\x20Erro\x20ao\x20editar\x20agentes:\x20','updateStopChat','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','buffer','fetchLabels','https://api.elevenlabs.io/v1/text-to-speech/','DARK','Erro\x20ao\x20remover\x20instâncias\x20antigas:','findGroups','):\x20Current\x20Time:\x20','sendWhatsAppAudio','):\x20Iniciando\x20bot...','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','findManyByIds','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','closed','condition','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','toUpperCase','deleteAll','\x0aitem','SERVER_PORT','\x20não\x20encontrado\x20para\x20atualização.','):\x20conversation.lastInteraction:\x20','decryptPollVote','pollCreationMessageV3','conversationTimestamp','updateMissingShareOwners','promote','):\x20Buscando\x20conversa...','pre','notEqual','error','utf8','AutomateFunctions','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','SERVER_ACK','\x22reaction\x22\x20must\x20be\x20an\x20emoji','send',',\x20pairCode:\x20','groupBetterSetting','setting','allFlows','reorderBlocks','createFlow','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','refused','setContext','mongodb://','truncatedtoEnd','chat','instanceKeys','deletedCount','):\x20transformedCustomFieldVariables','findOrCreate','Erro\x20ao\x20adicionar\x20label\x20','long','body','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','string','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','groupMetadata','):\x20Falha\x20ao\x20deletar\x20mensagem.','fromMe','validate','dataValidate','AutomateSystem','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','^\x5cd+','defineProperty','BRL','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','envYaml','expiration','createServer','AppStateSyncKeyData','findGroupInfo','/media/','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','_Messages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','video',':\x20Tentativa\x20','loadproxy','Missing\x20global\x20api\x20key','bodyStringErrorParse','isURL','prototype','fetchBusinessProfile','pino','leadInfo.customFields','groupFetchAllParticipating','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','DD/MM\x20HH:mm:ss','archive','node-cache','Close\x20connection','nome','updateFlowConfig',',\x20resultado:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','leadInfo.etiquetas','badSession','--standalone','updateGroupPicture','sendCommand','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','chats.upsert','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','split','Error\x20writing\x20file:\x20','EMAIL:','\x22\x20cannot\x20be\x20empty','delaySecMin','where','Hash\x20to\x20image\x20name:\x20',',\x20Resultado:\x20','toFile','_ScheduleMessages','readFile','\x20is\x20already\x20in\x20use.','.png','reference','createAndSave','Atualização:\x20','webhook','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20',',\x20valor\x20passado:\x20\x22','setRestartTimeout','Button\x20texts\x20cannot\x20be\x20repeated','flowPrefixCommand','sendContact','auth','Unable\x20to\x20leave\x20the\x20group','findAndUpdateCacheContact','menuExpiredMessage','writeFile','slice','.ppt','fetchConversation','Last\x20message\x20not\x20found\x20for\x20number:','replaceVariablesLogs','replacer','assign','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','listMessage','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','sendMedia','deleteMessageForEveryone','request\x20received\x20in\x20updateCustomFields','):\x20[messages.upsert]\x20group\x20ignored','Image\x20created','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','user',':\x20IP\x20funcionando!','messageSecret','Error\x20updating\x20setting','Valor\x20de\x20find\x20ou\x20replace\x20ausente','\x1b[34m%s\x1b[0m','getDevice','unlocked','Número\x20não\x20possui\x20WhatsApp.','KEY','COLOR','normalizeMessage','test','closeExistingConversations','AUTHENTICATION_JWT_EXPIRIN_IN','deleteOne','readMessages','Audio\x20converted\x20and\x20stored\x20in\x20cache','limit','sendButtons','\x1b[37m%s\x1b[0m','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','isCommunity','PRODUCT_LIST','unavailable','birthtime','repository','end','MESSAGES_SET','g-t','stateConnection','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','REDIS','backgroundColor','Connection\x20closed\x20for\x20instance:\x20','nextBlock:','Authentication\x20error','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','value','object','processvaredits','Log\x20out\x20instance:\x20','processblock','updatePrivacySettings','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','isBase64','no.connection','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','onTime','view\x20engine','OrAnd','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','request\x20body:\x20','lastDisconnect','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','findMessages','loadWebhook','\x1b[34m','sendList','Temp\x20image\x20deleted','hbs','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','group-participants.update','flattenObject','SendScheduleMessage','getAllData','PRIVKEY','out','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','buttons','ConversationModel','toLowerCase','video-cover.png','isJidGroup','readMessage','groupJid','waUploadToServer','updateOnlinePrivacy','debug','editflowblock','findAll','flowConversation','entries','\x20-\x20ON:\x20','hasOwnProperty','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','request_method','getAutomateSystem','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','All_Instances_Config','\x20-\x20retornado:\x20','stderr','getPrototypeOf','50mb','markMessageAsRead','onWhatsApp','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','listResponseMessage','admin_add','creds.update','splice','block','chatLog','\x20segundos','Fluxo\x20não\x20encontrado','replace','Erro\x20ao\x20atualizar\x20o\x20flow.','flowStopConversation','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','filter','host','}}\x20->\x20valor\x20não\x20encontrado','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','redisEnv','generate','wuid','url','request\x20received\x20in\x20updateFlowConfig','fetchProfile','caption','quoted','dbSettings','true','.webp','\x1b[0m','flushHeaders','uazapi','@g.us','CONNECTION_UPDATE','/wa-groups','mentioned','messageStubType','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','getOwnPropertyNames','moreLogs','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','Unauthorized','conditions','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','BufferJSON','extractMessageContent','):\x20tem\x20blocks','reject','updateChatWithMessage',':\x20Erro\x20durante\x20loadproxy\x20-\x20','toggleEphemeral','processing_id','connectionState','_Labels','):\x20Criando\x20nova\x20conversa[createNewConversation]','fileLength','displayName','Erro\x20ao\x20sincronizar\x20fluxos:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','/wa-message-update','cleaningUp','contactsArrayMessage','userDevicesCache','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','LabelModel','updateLastSeenPrivacy','groupadd','pollErrorMessage','warn','../env.yml','fetchMessages',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','\x20horas\x20e\x20','has','TEXT','Error\x20parsing\x20JSON:','MESSAGES_UPSERT','updateMissingTags','processPollUpdateMessage','readFileSync','apirequest','updateCustomFields','\x20\x1b[0m','events','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20',',\x20saindo.','TYPE','mediaKey','/instance/connect','#00a1f2','minutesToClose',',\x20Comparador:\x20','CHATS_SET','Chat\x20com\x20ID\x20','isLong','emit','flow','https://ipinfo.io/json','editflowreply','next_groupId','https://uazapi-plugin.bubbleapps.io/?url=','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','createGroup','HeaderType',',\x20Expiration\x20Time:\x20','Getting\x20image\x20from\x20url','VERBOSE','jsonschema','getTime','views','\x1b[32m','loadInstance','):\x20Entrou\x20na\x20função\x20stop','cachedContacts-whatsapp','unreadcount','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x20not\x20found,\x20retrying\x20in\x20','):\x20','format','request\x20received\x20in\x20deleteDoneMessages','privacySettings','including\x20timestamp\x20in\x20url:\x20','express-async-errors','Database\x20is\x20not\x20enabled','ms\x20(Attempt\x20','Error\x20finding\x20many\x20contacts:','scheduleMessages','Nenhum\x20chat\x20encontrado\x20para\x20editar.','AddChatLabel','folder','scheduleMessage','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','#d8e651','Erro\x20ao\x20deletar\x20mensagens:','labels.edit','CORS_CREDENTIALS','stringify','getStatus','audioMessage','status@broadcast','):\x20Entrou\x20na\x20função\x20goToFlow','eventHandler','updateProfileName','updateGroupsAddPrivacy','temp-','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','/wa-chats','announce','The\x20property\x20cannot\x20be\x20empty','Flow\x20não\x20encontrado','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','changeVariables','MAX_RECONNECT_ATTEMPTS','chats','messages.update','\x0a{\x20instance:\x20','ERROR:\x20','created','statusMessage','labelId','lastSend','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Forbidden','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','webhookModel','getChatModelForOwner','shutdown\x20-r\x20now','digest','11823795NEtAli','):\x20Enviando\x20mídia','https://api.ipify.org?format=json','from','Subscribed\x20Events:','verifiedName','chatId','\x20-i\x20','memberAddMode','password','createRegularFlow','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','isConnected','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','blockId','sendMessage','Conexão\x20estabelecida','HttpsProxyAgent','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','groupMemberAddMode','Flow\x20iniciado\x20com\x20','flowStopMinutes','number','unlinkSync','sort','getOwnPropertyDescriptor','replaceOne','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','DATABASE_CONNECTION_URI','PROXY','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Erro\x20ao\x20deletar\x20chat:','#f64847','gifPlayback','/events/:instance','buttonId','updateParticipant','textMessage','groupDesc','replyOptions','\x20}\x0a','Data\x20inválida\x20fornecida','Error\x20updating\x20profile\x20name','#000000','importChats','CONTACTS_UPSERT','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','includes','Início','creds.json','\x20minutos\x20verificará\x20novas\x20mensagens',',\x20fará\x20nova\x20verificação\x20em\x20','certbot','.jpg','audio','CONECTADO\x20À\x20UAZAPI','application/octet-stream','listType','unhandledRejection','Connection','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','nomecompleto','request\x20received\x20in\x20scheduleMessage','#01d0e2','success','isListOfNumbers','):\x20Deletando\x20mensagem','Erro\x20ao\x20editar\x20a\x20conversa:\x20','model','info','documentMessage','noConnection','createClient','use','Erro\x20ao\x20encerrar\x20a\x20API','restart','ultimaTentativaRemoteJid','contactHandle','\x1b[32m%s\x1b[0m','END:VCARD','WARN','removed','uazapiSendAudio','redirect','agents','lastSendMessage','updateMissingCustomFields','username','stoppedUntil','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','/media','.jwt','@broadcast','Error\x20fetching\x20group','LICENSE_INVALID','DELETED','3064941NmKKsj','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','DATABASE_CONNECTION_DB_PREFIX_NAME','reconnectAttempts','pt-BR','sendMenu','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Error\x20updating\x20message\x20status:','Parando\x20aplicação...','errors',']\x20(','groupInviteCode','/wa-message','addChatLabel','/instance/create','exec','data:\x20','Error\x20updating\x20privacy\x20settings','):\x20Flow\x20desativado','Erro:','SERVER_OFFLINE','isJidBroadcast','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','updateAgent','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','\x20Tentativa\x20de\x20reconexão\x20','flowIgnoreGroups','equal','composing','messaging-history.set','editflowgroup','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','toDataURL','<subdomain>','audio/ogg','\x20e\x20ID=','Conversa\x20deletada\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','presence','Imagem\x20não\x20encontrada','Not\x20is\x20business\x20profile','FlowRouter','contentText','updateProfilePicture','some','setNewValue','createflow','\x20quoted:\x20','):\x20isVote:\x20','enabled','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','listen',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','quotedMessage','URI','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','copy','readMessageBot','uuid','message','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','isJidUser','join','Cannot\x20','--agree-tos','reactionMessage','Erro\x20ao\x20buscar\x20conversas:\x20','isBusiness','createInstance','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','sendStatus','start','sendSticker','Not\x20Found','apiName','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','AUTHENTICATION','STORE_MESSAGE','prepareMediaMessage','):\x20Editando\x20variável\x20do\x20fluxo...','\x1b[44m','no-cache','timeout','toNumber','leadInfo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','READ','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Error\x20in\x20converting\x20audio','/instance/fetchInstances','endsWith','archived','log','Error\x20getting\x20invite\x20code\x20info','getHours','connectionStatus','PORT','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','request\x20received\x20in\x20getFlow','protocol','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','connectToWhatsapp','Error\x20updating\x20participants','findOne','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x0a*Você\x20respondeu*:\x0a','CORS_ORIGIN','/*.json','originalUrl','apiResponse','verbose','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','startFlow','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','fromObject','editFlowGroup','client','whatsappNumber','count','Label\x20','deleteflow','map','Using\x20parsedData:','jsonwebtoken','groupValidate','ex:\x20\x22groupJid=120362@g.us\x22','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','drop','updateMissingLabels','cache','/group','updateMessage','formatStatusMessage','options','updateOne','CONTACTS_SET','_activatedCount','/webhook','93imVuVn','Tentando\x20reconectar...','remove','Operador:\x20\x22','inviteCodeDetails','Content\x20is\x20required','groupSettingUpdate','presenceSubscribe','removeChatLabel','contextInfo','editflowvariable','):\x20Deletando\x20conversa...','lastUpdate','delayChatLabel_MAX_RETRIES','less','checkAndRestartProcess','statusJidList','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','unreadCount','env','7170690TLbbhl','_FlowHistorico','verifyWhatsAppNumber','groupParticipantsUpdate','all','\x20do\x20chat\x20','mkdirSync','tags','augusto.fcs@gmail.com','\x20com\x20sucesso.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','.ogg','EMAIL','processUazapi','InstancesAsDisconnectedX','bateu\x20events','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','RECONNECT_TIME_FRAME','cachedData-whatsapp','LOG_LEVEL','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','webp','routerPath','cacheContactModel','ObjectId','numbers','params','contains','contact_blacklist','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','finish','keep-alive','#92ceac','pollCreationMessageKey','):\x20lastBlockId:\x20','media','Instance\x20logged\x20out','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Visualizando\x20AutomateSystem','execSync','#64c4ff','):\x20Ler\x20mensagem','):\x20Flow\x20não\x20encontrado','Contacts\x20not\x20found','convertaudio','findFlow','editFlow','ignoreGroups','stopMinutesMaxActives','stanzaId','4394460FttLyS','enviado\x20para','delAll','deleteMessage','uazapiSendText','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','copyDataToNewModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','DATABASE','#83e421','downloadMediaMessage','localWebhook','config','authState','@ffmpeg-installer/ffmpeg','paused','STORE_CHATS','secondValue','evaluateConditionTest','cpf','\x1b[1m','findGroup','Font\x20is\x20required','max','response','getBusinessProfile','insertCount','utf-8','error\x20get\x20vote','variablesNotFound','responsavelid',':\x20IP\x20configurado:\x20','shift','desc','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','resetReconnectionVariables','getUpdate','arrayUnique','open','existsSync','revokeInviteCode','API_KEY','request\x20received\x20in\x20editFlowvariable','#6f7bcf','groups_ignore','chatModify','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','exit','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','updateGParticipate','longitude','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','reviver','query','content-type','request\x20received\x20in\x20fetchConversation','setWebhook','store','crypto','FlowModel','editOperator','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','CONTACTS_UPDATE','image','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','ids','$set','remoteJid','sendMessageWithTyping','createNewConversation','http','groupToggleEphemeral','\x1b[42m','json','Converting\x20image\x20to\x20WebP\x20to\x20sticker','unknown\x20operation\x20type\x20[','/create','maxActives','role','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','\x1b[31m%s\x1b[0m','replaceValue','updateBlock','getTicketSystem','\x22\x20-\x20NOT\x20CONNECTION','):\x20Buscando\x20flow...','insertMany',',\x20Minutes\x20to\x20Close:\x20','audioWhatsapp','recording','.ogv','text','Image\x20is\x20url','editFlowReply','CHATS_DELETE','chats.delete','):\x20alterando\x20this.AutomateSystem','./.git/config','getContactModelForOwner','getScheduleMessageModelForOwner','Type\x20defined\x20as\x20audio','mediatype','CREDENTIALS','varedits','lastReceivedMessage','pairingCode','):\x20Editando\x20bloco...','messages','ScheduleMessage','?authSource=admin&readPreference=primary&directConnection=true','size','$pull','upsertChats','reorderReplyOptions','getflow','AutomateSystem\x20não\x20foi\x20inicializado','email','app','waitingMenu_text','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','qrcode.updated','atendimentoAberto','_error','fileUrl','prepareWAMessageMedia','checkAndUpdateChatStatus','imported','not_announcement','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','waMonitor','selectableCount','connect','capitalizedWords','archiveChat','messageHandle','logout','vcard','groups.upsert','replaceVariables','indexOf','Revoke\x20error','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','ERROR','Não\x20respondeu\x20com\x20a\x20enquete.','hSet','requestPairingCode','connection.update','dbClient','exists','document','request\x20received\x20in\x20deleteFlow','):\x20Procurando\x20mensagens\x20para\x20envio','jpegThumbnail','/clients-info','sharePass','website','node-mime-types','createConversationforStartFlow','instances','Image\x20path:\x20','endSession','eventemitter2','URL','editFlowVariable','app-state-sync-key','DB_PREFIX_NAME','editedMessage','waitingMenu_replyOptions','authService','instance.','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','scheduled','fone','licenca','Message','):\x20Procurando\x20conversa','\x20não\x20encontrado\x20para\x20cópia','dayjs','normal','Last\x20message\x20not\x20found','subjectOwner','\x1b[43m','https','mongoose','Erro\x20ao\x20editar\x20o\x20bloco:\x20','newStoppedUntil','setHeader'];a0_0x2471=function(){return _0x1c9ac4;};return a0_0x2471();}var me=k[a0_0x27193d(0x323)]?k[a0_0x27193d(0x32c)][a0_0x27193d(0x5a2)]?Se['default']['createConnection'](k[a0_0x27193d(0x32c)][a0_0x27193d(0x5a2)],{'dbName':a0_0x27193d(0x61d)}):Se[a0_0x27193d(0x359)][a0_0x27193d(0x235)](a0_0x27193d(0x394)+k['CONNECTION'][a0_0x27193d(0x770)]+':'+k[a0_0x27193d(0x32c)][a0_0x27193d(0x5cc)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':k[a0_0x27193d(0x32c)][a0_0x27193d(0x1f1)],'pass':k[a0_0x27193d(0x32c)][a0_0x27193d(0x6fd)],'dbName':a0_0x27193d(0x4d1)}):null;me&&ke[a0_0x27193d(0x551)](a0_0x27193d(0x1c9)+me[a0_0x27193d(0x1ee)]),process['on'](a0_0x27193d(0x154),()=>{const _0x4e0e4b=a0_0x27193d;N&&N[_0x4e0e4b(0x788)](()=>{const _0x702357=_0x4e0e4b;ke[_0x702357(0x551)](_0x702357(0x2af));}),me&&me[_0x4e0e4b(0x788)](()=>{const _0x3ff094=_0x4e0e4b;ke[_0x3ff094(0x551)](_0x3ff094(0x30d));});});var Yr=new Le[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x27193d(0x1a3))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Zr=new Le[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Qs=_0x239fa1=>{const _0x11ab1e=a0_0x27193d;let _0x112076='z_'+_0x239fa1+_0x11ab1e(0x1b8);return N?.[_0x11ab1e(0x550)](_0x11ab1e(0x742),Zr,_0x112076);},Ys=require('mongoose'),ei=new Ys[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0xba5093=>{const _0x14e66d=a0_0x27193d;let _0x1d951b='z_'+_0xba5093+_0x14e66d(0x707);return N?.['model'](_0x14e66d(0x712),ei,_0x1d951b);},Zs=require(a0_0x27193d(0x6f7)),us=class{},ti=new Zs[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=me?.[a0_0x27193d(0x550)](us[a0_0x27193d(0x1d6)],ti,a0_0x27193d(0x216)),ta=require(a0_0x27193d(0x6f7)),si=new ta[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),sa=_0x400d92=>{const _0x18da5e=a0_0x27193d;let _0x2e46fe='z_'+_0x400d92+_0x18da5e(0x3b4);return N?.[_0x18da5e(0x550)](_0x18da5e(0x341),si,_0x2e46fe);},aa=require('mongoose'),ds=class{},ai=new aa[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ra=N?.[a0_0x27193d(0x550)](ds[a0_0x27193d(0x1d6)],ai,a0_0x27193d(0x31b)),ia=require(a0_0x27193d(0x6f7)),ps=class{},oa=new ia[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x27193d(0x380)](a0_0x27193d(0x20a),function(_0x1393f1){const _0xe8cf7f=a0_0x27193d;delete this['flowActive'],delete this[_0xe8cf7f(0x586)],delete this[_0xe8cf7f(0x3e7)],delete this[_0xe8cf7f(0x46a)],delete this[_0xe8cf7f(0x51f)],_0x1393f1();});var na=N?.['model'](ps[a0_0x27193d(0x1d6)],oa,'webhook'),L=require(a0_0x27193d(0x6f7)),ca=require(a0_0x27193d(0x5a6)),je=class{},la=new L['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),hs=new L[(a0_0x27193d(0x1a3))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new L['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x27193d(0x222)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x27193d(0x2eb)},'pollErrorMessage':{'type':String,'default':a0_0x27193d(0x75e)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new L[(a0_0x27193d(0x1a3))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new L['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new L[(a0_0x27193d(0x1a3))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new L['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new L['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),pa=new L[(a0_0x27193d(0x1a3))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),gs=class{},Fe=new L[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,ca['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5c5604=a0_0x27193d;return _0x5c5604(0x199)+Math[_0x5c5604(0x303)]()[_0x5c5604(0x1ec)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ys],'variablesNotFound':{'type':[String]},'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]}});Fe[a0_0x27193d(0x380)]('save',function(_0xfbc2c6){const _0x135c34=a0_0x27193d;let _0x281ea0=new Set(),_0x1ba829=new Set(this['variables']?.['map'](_0x501f1f=>_0x501f1f[_0x135c34(0x1d6)])),_0x2746cc=JSON[_0x135c34(0x4e8)](this),_0x22649a=/{{(?!_)([^}]*)}}/g,_0x2f1db2;for(;(_0x2f1db2=_0x22649a['exec'](_0x2746cc))!==null;)_0x1ba829[_0x135c34(0x4a9)](_0x2f1db2[0x1])||_0x281ea0[_0x135c34(0x173)](_0x2f1db2[0x1]);_0x281ea0[_0x135c34(0x6ae)]>0x0?(console['warn'](_0x135c34(0x746),Array[_0x135c34(0x50c)](_0x281ea0)),this[_0x135c34(0x65c)]=Array[_0x135c34(0x50c)](_0x281ea0)):this[_0x135c34(0x65c)]=[],_0xfbc2c6();}),Fe[a0_0x27193d(0x380)]('findOneAndUpdate',function(_0x433fb7){const _0x5c547b=a0_0x27193d;let _0x259c55=this[_0x5c547b(0x663)]();if(_0x259c55&&typeof _0x259c55==_0x5c547b(0x426)&&'$set'in _0x259c55){let _0x5d37b6=_0x259c55[_0x5c547b(0x681)];if(_0x5d37b6){let _0x2e7a51=new Set(),_0x26a5ad=new Set(_0x5d37b6[_0x5c547b(0x1a2)]?.[_0x5c547b(0x5e5)](_0x10427e=>_0x10427e[_0x5c547b(0x1d6)])),_0x482a5e=JSON[_0x5c547b(0x4e8)](_0x5d37b6),_0xfac26d=/{{(?!_)([^}]*)}}/g,_0x117680;for(;(_0x117680=_0xfac26d[_0x5c547b(0x57b)](_0x482a5e))!==null;)_0x26a5ad[_0x5c547b(0x4a9)](_0x117680[0x1])||_0x2e7a51[_0x5c547b(0x173)](_0x117680[0x1]);_0x2e7a51[_0x5c547b(0x6ae)]>0x0?(console[_0x5c547b(0x4a4)]('Variáveis\x20não\x20encontradas:',Array[_0x5c547b(0x50c)](_0x2e7a51)),_0x5d37b6[_0x5c547b(0x65c)]=Array[_0x5c547b(0x50c)](_0x2e7a51)):_0x5d37b6[_0x5c547b(0x65c)]=[],this[_0x5c547b(0x71f)]({'$set':_0x5d37b6});}}_0x433fb7();});var ha=_0x3d97fc=>{const _0x3ab05d=a0_0x27193d;let _0x139cef='z_'+_0x3d97fc+_0x3ab05d(0x7bd);return N?.[_0x3ab05d(0x550)](_0x3ab05d(0x67a),Fe,_0x139cef);},ga=N?.[a0_0x27193d(0x550)](gs[a0_0x27193d(0x1d6)],Fe,a0_0x27193d(0x4c0)),ni=new L[(a0_0x27193d(0x1a3))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),ms=class{},ma=new L[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x27193d(0x665)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[hs],'default':[]}}),fa=_0x31c7f2=>{const _0x1b0020=a0_0x27193d;let _0x5eb34b='z_'+_0x31c7f2+_0x1b0020(0x60b);return N?.[_0x1b0020(0x550)](_0x1b0020(0x445),ma,_0x5eb34b);},wa=N?.[a0_0x27193d(0x550)](ms[a0_0x27193d(0x1d6)],ma,'flowConversation'),fs=class{},ci=new L[(a0_0x27193d(0x1a3))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new L[(a0_0x27193d(0x1a3))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ya=new L[(a0_0x27193d(0x1a3))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x27193d(0x6eb)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x4f8d04=>{const _0x32a3bc=a0_0x27193d;let _0xb7c0a2='z_'+_0x4f8d04+_0x32a3bc(0x3db);return N?.[_0x32a3bc(0x550)](_0x32a3bc(0x17d),ya,_0xb7c0a2);},Sa=N?.[a0_0x27193d(0x550)](fs['name'],ya,a0_0x27193d(0x4de)),ws=class{},ui=new L[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new L[(a0_0x27193d(0x1a3))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new L[(a0_0x27193d(0x1a3))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new L['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=N?.['model'](ws[a0_0x27193d(0x1d6)],hi,a0_0x27193d(0x3a6)),Ca=require(a0_0x27193d(0x6f7)),gi=new Ca[(a0_0x27193d(0x1a3))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x1bc1f6=>{const _0x270e74=a0_0x27193d;let _0x3bbcde='z_'+_0x1bc1f6+_0x270e74(0x495);return N?.[_0x270e74(0x550)](_0x270e74(0x4a0),gi,_0x3bbcde);},D=class{constructor(_0x1bb46c){const _0x17a9b0=a0_0x27193d;this[_0x17a9b0(0x479)]=_0x1bb46c[_0x17a9b0(0x30a)](_0x17a9b0(0x647));}};function A(_0xec165d){const _0x487613=a0_0x27193d;let _0x5d7628={};for(let [_0x253776,_0x25eb7b]of Object[_0x487613(0x451)](_0xec165d))if(typeof _0x25eb7b==_0x487613(0x426)&&!Array[_0x487613(0x215)](_0x25eb7b)){for(let [_0x3d195e,_0x31129d]of Object[_0x487613(0x451)](_0x25eb7b))_0x5d7628[_0x253776+'.'+_0x3d195e]=_0x31129d;}else _0x5d7628[_0x253776]=_0x25eb7b;return _0x5d7628;}var qe=class{constructor(_0x5eff64,_0xe5ff69,_0x57f509,_0x500f33,_0x510901,_0x4a6b31,_0x1f5ae5,_0x528cd4,_0x3fd51d,_0x5de135,_0xe6eddd,_0x15df72){const _0x2d2a9c=a0_0x27193d;this[_0x2d2a9c(0x5a7)]=_0x5eff64,this[_0x2d2a9c(0x396)]=_0xe5ff69,this[_0x2d2a9c(0x242)]=_0x57f509,this['cacheContact']=_0x500f33,this[_0x2d2a9c(0x3e2)]=_0x510901,this[_0x2d2a9c(0x3e9)]=_0x4a6b31,this[_0x2d2a9c(0x4c0)]=_0x1f5ae5,this[_0x2d2a9c(0x450)]=_0x528cd4,this['label']=_0x3fd51d,this[_0x2d2a9c(0x4e2)]=_0x5de135,this[_0x2d2a9c(0x11d)]=_0xe6eddd,this['dbClient']=_0x15df72;}get['dbServer'](){const _0x328516=a0_0x27193d;return this[_0x328516(0x6d3)];}},Je=class{},Ve=class extends D{[a0_0x27193d(0x196)](_0x482b73){return sa(_0x482b73);}async[a0_0x27193d(0x12e)](_0x165cc2,_0x4e1b0b){const _0x59119d=a0_0x27193d;if(_0x165cc2[_0x59119d(0x237)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x59119d(0x196)](_0x4e1b0b)['insertMany']([..._0x165cc2]))[_0x59119d(0x237)]};}catch(_0x24da34){return _0x24da34;}}async[a0_0x27193d(0x76e)](_0x41b080,_0x167173){const _0x2fc0ea=a0_0x27193d;try{let _0x3ead8f=this[_0x2fc0ea(0x196)](_0x167173),_0x186af2=A(_0x41b080[_0x2fc0ea(0x3d7)]);return await _0x3ead8f[_0x2fc0ea(0x76e)](_0x186af2)['sort']({'messageTimestamp':-0x1})[_0x2fc0ea(0x410)](_0x41b080?.[_0x2fc0ea(0x410)]??0x0)[_0x2fc0ea(0x72a)]();}catch{return[];}}async[a0_0x27193d(0x1f4)](_0x84bd58,_0x58773b){const _0x2b0a96=a0_0x27193d;try{let _0x5e5df5=this['getMessageModelForOwner'](_0x58773b),_0x30e620=A(_0x84bd58[_0x2b0a96(0x3d7)]);await _0x5e5df5[_0x2b0a96(0x2f2)](_0x30e620);}catch(_0x40dd44){console[_0x2b0a96(0x382)](_0x40dd44);}}async[a0_0x27193d(0x31e)](_0x1dde70,_0x132f16,_0x27e3e7){const _0x32682a=a0_0x27193d;try{let _0x20fd69=this[_0x32682a(0x196)](_0x27e3e7),_0x1e110a=A(_0x1dde70[_0x32682a(0x3d7)]);return await _0x20fd69['findOneAndUpdate'](_0x1e110a,{'$set':_0x132f16},{'new':!0x0});}catch(_0x2d85bd){throw console[_0x32682a(0x382)](_0x2d85bd),_0x2d85bd;}}async[a0_0x27193d(0x696)](_0x13049d,_0x457d1b){const _0x29c333=a0_0x27193d;if(_0x13049d[_0x29c333(0x237)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x29c333(0x196)](_0x457d1b)[_0x29c333(0x696)]([..._0x13049d]))[_0x29c333(0x237)]};}catch(_0x4d4527){return console['log'](_0x29c333(0x4fc),_0x4d4527),_0x4d4527;}}async[a0_0x27193d(0x375)](_0x312115){const _0x24f90d=a0_0x27193d;try{return await this[_0x24f90d(0x196)](_0x312115)['collection'][_0x24f90d(0x5eb)](),{'success':!0x0};}catch(_0x459d42){return console[_0x24f90d(0x382)](_0x459d42),{'success':!0x1,'error':_0x459d42};}}},Tr=O(require(a0_0x27193d(0x64d))),m=O(require(a0_0x27193d(0x190))),Te=require('fs'),J=O(require(a0_0x27193d(0x1fb))),Z=O(require(a0_0x27193d(0x343))),Or=require('uuid'),Ar=O(require(a0_0x27193d(0x2ee))),Ir=O(require(a0_0x27193d(0x7ac))),Ma=[a0_0x27193d(0x293),a0_0x27193d(0x552),a0_0x27193d(0x4ea),'videoMessage','stickerMessage'],va=['ephemeralMessage',a0_0x27193d(0x2b0),a0_0x27193d(0x200),a0_0x27193d(0x208)],Os=require('os'),$t=O(require(a0_0x27193d(0x3be))),Ft=require(a0_0x27193d(0x1b1)),kt=require(a0_0x27193d(0x6dc)),le=O(require(a0_0x27193d(0x6f7))),P=require('class-validator'),fe=class{constructor(_0x55b08e,_0xe6cc1f,_0x25a151){const _0x2a7fa2=a0_0x27193d;this[_0x2a7fa2(0x22b)]=_0x55b08e,this[_0x2a7fa2(0x6d4)]=_0xe6cc1f,this['name']=_0x25a151;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x27193d(0x184))),Na=require('fs'),Ra=require(a0_0x27193d(0x1fb));async function Xe(_0x4250d0){const _0x22746d=a0_0x27193d;let _0x32d414=B['waInstances'][_0x4250d0];if(k[_0x22746d(0x323)]){let _0x180872=N[_0x22746d(0x268)]()['db'](k[_0x22746d(0x32c)]['DB_PREFIX_NAME']+_0x22746d(0x306))['collection'](_0x4250d0);return _0x32d414||(await _0x180872['find']({})[_0x22746d(0x28d)]())['length']>0x0;}return _0x32d414||(0x0,Na['existsSync'])((0x0,Ra[_0x22746d(0x5aa)])(ge,_0x4250d0));}async function Ta(_0x234e96,_0x24034a,_0x28867b){const _0x8803a1=a0_0x27193d;if(_0x234e96['originalUrl'][_0x8803a1(0x53b)](_0x8803a1(0x57a))||_0x234e96[_0x8803a1(0x5d8)][_0x8803a1(0x53b)](_0x8803a1(0x5c5))||_0x234e96['originalUrl'][_0x8803a1(0x53b)](_0x8803a1(0x300))||_0x234e96[_0x8803a1(0x5d8)][_0x8803a1(0x53b)](_0x8803a1(0x281))||_0x234e96['originalUrl'][_0x8803a1(0x53b)](_0x8803a1(0x4b8))||_0x234e96[_0x8803a1(0x5d8)][_0x8803a1(0x53b)](_0x8803a1(0x247))||_0x234e96[_0x8803a1(0x5d8)][_0x8803a1(0x53b)](_0x8803a1(0x1de)))return _0x28867b();let _0x100171=_0x234e96[_0x8803a1(0x625)];if(!_0x100171?.[_0x8803a1(0x261)])throw new w(_0x8803a1(0x741));if(!await Xe(_0x100171[_0x8803a1(0x261)]))throw new j(_0x8803a1(0x18d)+_0x100171[_0x8803a1(0x261)]+_0x8803a1(0x21a));_0x28867b();}async function Oa(_0x144b6a,_0x3001c1,_0x567844){const _0x1f6dbf=a0_0x27193d;if(_0x144b6a[_0x1f6dbf(0x5d8)][_0x1f6dbf(0x53b)]('/instance/create')){let _0x495bc5=_0x144b6a[_0x1f6dbf(0x39d)];if(await Xe(_0x495bc5[_0x1f6dbf(0x261)]))throw new K(_0x1f6dbf(0x1c6)+_0x495bc5[_0x1f6dbf(0x261)]+_0x1f6dbf(0x3dd));B[_0x1f6dbf(0x1bc)][_0x495bc5[_0x1f6dbf(0x261)]]&&delete B['waInstances'][_0x495bc5[_0x1f6dbf(0x261)]];}_0x567844();}var Aa=require(a0_0x27193d(0x72c)),Ia=O(require(a0_0x27193d(0x5e7))),Ze=a0_0x27193d(0x47e),fi=new v(a0_0x27193d(0x24a));async function wi(_0x11b2b0,_0x50e1e5,_0x3b5169){const _0x35ee66=a0_0x27193d;let _0x4a3dec=_0x11b2b0[_0x35ee66(0x30a)](_0x35ee66(0x26b));if(_0x4a3dec&&b[_0x35ee66(0x30a)](_0x35ee66(0x5b8))[_0x35ee66(0x668)][_0x35ee66(0x407)]!==_0x4a3dec)throw new te();if(b[_0x35ee66(0x30a)](_0x35ee66(0x5b8))[_0x35ee66(0x668)][_0x35ee66(0x407)]===_0x4a3dec)return _0x3b5169();if((_0x11b2b0[_0x35ee66(0x5d8)]['includes'](_0x35ee66(0x57a))||_0x11b2b0[_0x35ee66(0x5d8)][_0x35ee66(0x53b)](_0x35ee66(0x5c5)))&&!_0x4a3dec)throw new K(_0x35ee66(0x3b9),_0x35ee66(0x761));let _0x58462b=b[_0x35ee66(0x30a)](_0x35ee66(0x5b8))[_0x35ee66(0x1d2)];try{let [_0x55245b,_0x2c19c7]=_0x11b2b0['get'](_0x35ee66(0x131))[_0x35ee66(0x3d2)]('\x20');if(_0x55245b['toLowerCase']()!==_0x35ee66(0x2bc))throw new te();if(!(0x0,Aa['isJWT'])(_0x2c19c7))throw new te();let _0x36b4a9=_0x11b2b0['params'],_0x58f994=Ia[_0x35ee66(0x359)][_0x35ee66(0x77b)](_0x2c19c7,_0x58462b[_0x35ee66(0x20b)],{'ignoreExpiration':_0x58462b[_0x35ee66(0x12c)]===0x0});if(_0x36b4a9[_0x35ee66(0x261)]!==_0x58f994['instanceName']||Ze!==_0x58f994[_0x35ee66(0x5b6)])throw new te();return _0x3b5169();}catch(_0x4ea1a3){throw fi[_0x35ee66(0x382)](_0x4ea1a3),new te();}}async function yi(_0x186d8f,_0x37e014,_0x2048fc){const _0x3c9b5c=a0_0x27193d;let _0x998a4=b[_0x3c9b5c(0x30a)](_0x3c9b5c(0x5b8))['API_KEY'],_0x54f314=_0x186d8f[_0x3c9b5c(0x30a)](_0x3c9b5c(0x26b));if(_0x998a4['KEY']===_0x54f314)return _0x2048fc();if(_0x186d8f[_0x3c9b5c(0x5d8)]['includes']('/instance/create')){let _0x107920=et,_0x335f84=_0x186d8f[_0x3c9b5c(0x39d)]['instanceName'];if(_0x107920&&_0x335f84[_0x3c9b5c(0x446)]()[_0x3c9b5c(0x212)](_0x107920[_0x3c9b5c(0x446)]()))return _0x2048fc();if(!_0x54f314)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x186d8f[_0x3c9b5c(0x5d8)][_0x3c9b5c(0x53b)]('/instance/fetchInstances')&&!_0x54f314)throw new K(_0x3c9b5c(0x3b9),_0x3c9b5c(0x761));if(_0x186d8f['originalUrl'][_0x3c9b5c(0x53b)](_0x3c9b5c(0x300))&&!_0x54f314)throw new K(_0x3c9b5c(0x3b9),_0x3c9b5c(0x761));if(_0x186d8f[_0x3c9b5c(0x5d8)][_0x3c9b5c(0x53b)](_0x3c9b5c(0x281))&&!_0x54f314)throw new K(_0x3c9b5c(0x3b9),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x42a381=_0x186d8f['params'],_0x5c70ac=await ue['auth'][_0x3c9b5c(0x76e)](_0x42a381[_0x3c9b5c(0x261)]);if(_0x5c70ac&&_0x5c70ac[_0x3c9b5c(0x26b)]===_0x54f314)return _0x2048fc();}catch{}throw new te();}var xa={'jwt':wi,'apikey':yi},dr=require(a0_0x27193d(0x184)),E=require(a0_0x27193d(0x5a6)),C=(..._0x13f853)=>{const _0x5bc168=a0_0x27193d;let _0x21db86={};return _0x13f853['forEach'](_0x1df6eb=>_0x21db86[_0x1df6eb]={'minLength':0x1,'description':_0x5bc168(0x202)+_0x1df6eb+_0x5bc168(0x3d5)}),{'if':{'propertyNames':{'enum':[..._0x13f853]}},'then':{'properties':_0x21db86}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'instanceName':{'type':a0_0x27193d(0x39f)}},...C('instanceName')},cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x27193d(0x39f)}},'required':['oldToken'],...C('oldToken')},lc={'properties':{'key':{'type':a0_0x27193d(0x426),'properties':{'id':{'type':a0_0x27193d(0x39f)},'remoteJid':{'type':a0_0x27193d(0x39f)},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]}},'required':['id',a0_0x27193d(0x682),'fromMe'],...C('id',a0_0x27193d(0x682))},'message':{'type':a0_0x27193d(0x426)}}},Q={'properties':{'delay':{'type':a0_0x27193d(0x2e1),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x27193d(0x39f),'enum':['unavailable','available',a0_0x27193d(0x588),a0_0x27193d(0x699),a0_0x27193d(0x64e)]}}},z={'type':'string','pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':'Invalid\x20format'},Da={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x27193d(0x39f)}},'required':['text'],...C(a0_0x27193d(0x69b))}},'required':[a0_0x27193d(0x531),a0_0x27193d(0x520)]},_a={'type':a0_0x27193d(0x39f),'pattern':a0_0x27193d(0x155),'description':a0_0x27193d(0x15a)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{..._a},'options':{...Q},'textMessage':{'type':a0_0x27193d(0x426),'properties':{'text':{'type':a0_0x27193d(0x39f)}},'required':['text'],...C(a0_0x27193d(0x69b))}},'required':[a0_0x27193d(0x531),a0_0x27193d(0x520)]},dc={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{..._a},'options':{...Q},'mediaMessage':{'type':a0_0x27193d(0x426),'properties':{'mediatype':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x67e),a0_0x27193d(0x6d5),a0_0x27193d(0x3b6),a0_0x27193d(0x542)]},'media':{'type':'string'},'fileName':{'type':a0_0x27193d(0x39f)},'caption':{'type':'string'}},'required':[a0_0x27193d(0x6a5),a0_0x27193d(0x62e)],...C(a0_0x27193d(0x159),a0_0x27193d(0x477),'media')}},'required':['mediaMessage','number']},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x27193d(0x67e)],...C(a0_0x27193d(0x67e))}},'required':[a0_0x27193d(0x7b2),a0_0x27193d(0x520)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'statusMessage':{'type':a0_0x27193d(0x426),'properties':{'type':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x69b),'image',a0_0x27193d(0x542),a0_0x27193d(0x3b6)]},'content':{'type':a0_0x27193d(0x39f)},'caption':{'type':a0_0x27193d(0x39f)},'backgroundColor':{'type':a0_0x27193d(0x39f)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x39f),'pattern':a0_0x27193d(0x3a8),'description':a0_0x27193d(0x501)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x27193d(0x25b),a0_0x27193d(0x26d)],...C('type',a0_0x27193d(0x26d))}},'required':['statusMessage']},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x27193d(0x426),'properties':{'mediatype':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x67e),a0_0x27193d(0x6d5),a0_0x27193d(0x3b6),'audio']},'media':{'type':a0_0x27193d(0x39f)},'fileName':{'type':a0_0x27193d(0x39f)},'caption':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x6a5),a0_0x27193d(0x62e)],...C(a0_0x27193d(0x159),a0_0x27193d(0x477),a0_0x27193d(0x62e))}},'required':['mediaMessage','number']},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x27193d(0x426),'properties':{'audio':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x542)],...C(a0_0x27193d(0x542))}},'required':[a0_0x27193d(0x4ea),a0_0x27193d(0x520)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'pollMessage':{'type':a0_0x27193d(0x426),'properties':{'name':{'type':a0_0x27193d(0x39f)},'selectableCount':{'type':a0_0x27193d(0x520)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x27193d(0x1d6),a0_0x27193d(0x6c2),a0_0x27193d(0x15f)],...C(a0_0x27193d(0x1d6),a0_0x27193d(0x6c2),a0_0x27193d(0x15f))}},'required':['number',a0_0x27193d(0x19d)]},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x27193d(0x426),'properties':{'text':{'type':a0_0x27193d(0x39f)},'choices':{'type':a0_0x27193d(0x786),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x27193d(0x69b),a0_0x27193d(0x2f1)],...C(a0_0x27193d(0x69b),'choices')}},'required':['number','menuMessage']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x27193d(0x426),'properties':{'title':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x426),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x21b),a0_0x27193d(0x52f)],...C(a0_0x27193d(0x21b),a0_0x27193d(0x52f))}},'mediaMessage':{'type':a0_0x27193d(0x426),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x27193d(0x39f)},'mediatype':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x67e),a0_0x27193d(0x6d5),a0_0x27193d(0x3b6)]}},'required':[a0_0x27193d(0x62e),'mediatype'],...C(a0_0x27193d(0x62e),a0_0x27193d(0x159))}},'required':[a0_0x27193d(0x20d),a0_0x27193d(0x444)],...C(a0_0x27193d(0x20d),a0_0x27193d(0x2b8))}},'required':[a0_0x27193d(0x520),a0_0x27193d(0x19a)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x27193d(0x426),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x27193d(0x520)},'name':{'type':'string'},'address':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x356),'longitude'],...C(a0_0x27193d(0x1d6),'addresss')}},'required':[a0_0x27193d(0x520),a0_0x27193d(0x739)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x27193d(0x426),'properties':{'title':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)},'footerText':{'type':a0_0x27193d(0x39f)},'buttonText':{'type':a0_0x27193d(0x39f)},'sections':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x426),'properties':{'title':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)},'rowId':{'type':'string'}},'required':[a0_0x27193d(0x20d),a0_0x27193d(0x740)],...C(a0_0x27193d(0x20d),a0_0x27193d(0x740))}}},'required':[a0_0x27193d(0x20d),a0_0x27193d(0x1f8)],...C(a0_0x27193d(0x20d))}}},'required':[a0_0x27193d(0x20d),a0_0x27193d(0x2b8),a0_0x27193d(0x21b),a0_0x27193d(0x350)],...C(a0_0x27193d(0x20d),a0_0x27193d(0x2b8),a0_0x27193d(0x21b),'footerText')}},'required':[a0_0x27193d(0x520),a0_0x27193d(0x3f6)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x27193d(0x786),'items':{'type':a0_0x27193d(0x426),'properties':{'fullName':{'type':a0_0x27193d(0x39f)},'phoneNumber':{'type':a0_0x27193d(0x39f),'minLength':0xa}},'required':[a0_0x27193d(0x11e),a0_0x27193d(0x1f9)],...C(a0_0x27193d(0x11e))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x27193d(0x520),'contactMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'reactionMessage':{'type':a0_0x27193d(0x426),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x27193d(0x39f)},'remoteJid':{'type':a0_0x27193d(0x39f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x27193d(0x682),'fromMe'],...C('id',a0_0x27193d(0x682))},'reaction':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x721),a0_0x27193d(0x29a)],...C(a0_0x27193d(0x29a))}},'required':['reactionMessage']},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'numbers':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x39f),'pattern':'^\x5cd+','description':a0_0x27193d(0x778)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x27193d(0x39f)},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x27193d(0x39f)}},'required':['id',a0_0x27193d(0x3a3),a0_0x27193d(0x682)],...C('id',a0_0x27193d(0x682))}}},'required':['readMessages']},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x27193d(0x426),'properties':{'readreceipts':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x60e),'none']},'profile':{'type':'string','enum':['all','contacts',a0_0x27193d(0x627),a0_0x27193d(0x1bb)]},'status':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x60e),a0_0x27193d(0x358),a0_0x27193d(0x627),a0_0x27193d(0x1bb)]},'online':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x60e),'match_last_seen']},'last':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x60e),a0_0x27193d(0x358),a0_0x27193d(0x627),a0_0x27193d(0x1bb)]},'groupadd':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x60e),a0_0x27193d(0x358),a0_0x27193d(0x627),a0_0x27193d(0x1bb)]}},'required':[a0_0x27193d(0x70c),a0_0x27193d(0x718),a0_0x27193d(0x148),a0_0x27193d(0x797),a0_0x27193d(0x715),a0_0x27193d(0x4a2)],...C('readreceipts','profile',a0_0x27193d(0x148),a0_0x27193d(0x797),'last',a0_0x27193d(0x4a2))}},'required':['privacySettings']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'lastMessage':{'type':a0_0x27193d(0x426),'properties':{'key':{'type':a0_0x27193d(0x426),'properties':{'id':{'type':a0_0x27193d(0x39f)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]}},'required':['id',a0_0x27193d(0x3a3),a0_0x27193d(0x682)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x27193d(0x2e1),'minLength':0x1}},'required':[a0_0x27193d(0x721)],...C(a0_0x27193d(0x14d))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x27193d(0x717),a0_0x27193d(0x3c3)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x27193d(0x39f)},'participant':{'type':a0_0x27193d(0x39f)}},'required':['id',a0_0x27193d(0x3a3),a0_0x27193d(0x682)],...C('id',a0_0x27193d(0x682),a0_0x27193d(0x71a))},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x27193d(0x426),'properties':{'_id':{'type':a0_0x27193d(0x39f),'minLength':0x1},'pushName':{'type':a0_0x27193d(0x39f),'minLength':0x1},'id':{'type':a0_0x27193d(0x39f),'minLength':0x1}},...C('_id','id',a0_0x27193d(0x153))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'name':{'type':a0_0x27193d(0x39f)}},...C(a0_0x27193d(0x1d6))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'status':{'type':a0_0x27193d(0x39f)}},...C(a0_0x27193d(0x148))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x27193d(0x39f)}}},Za={'type':'object','properties':{'wuid':{'type':a0_0x27193d(0x39f)},'name':{'type':a0_0x27193d(0x39f)},'picture':{'type':a0_0x27193d(0x39f)},'status':{'type':a0_0x27193d(0x39f)},'isBusiness':{'type':a0_0x27193d(0x218)}}},er={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x27193d(0x39f),'minLength':0x1},'key':{'type':a0_0x27193d(0x426),'if':{'propertyNames':{'enum':[a0_0x27193d(0x3a3),a0_0x27193d(0x682),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x27193d(0x39f),'minLength':0x1,'description':a0_0x27193d(0x4f4)},'id':{'type':a0_0x27193d(0x39f),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x27193d(0x310))},'limit':{'type':a0_0x27193d(0x2e1)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'where':{'type':a0_0x27193d(0x426),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x27193d(0x39f)},'status':{'type':a0_0x27193d(0x39f),'enum':[a0_0x27193d(0x6ce),a0_0x27193d(0x1be),a0_0x27193d(0x387),a0_0x27193d(0x160),a0_0x27193d(0x5c2),a0_0x27193d(0x192)]}},...C(a0_0x27193d(0x310),'remoteJid','id','status')},'limit':{'type':a0_0x27193d(0x2e1)}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'number':{...z},'presence':{'type':'string','enum':['unavailable',a0_0x27193d(0x7a2),'composing',a0_0x27193d(0x699),a0_0x27193d(0x64e)]}},'required':[a0_0x27193d(0x592),a0_0x27193d(0x520)]},sr={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'subject':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)},'profilePicture':{'type':a0_0x27193d(0x39f)},'participants':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x39f),'minLength':0xa,'pattern':a0_0x27193d(0x2df),'description':a0_0x27193d(0x525)}}},'required':['subject','participants'],...C('subject',a0_0x27193d(0x2b8),a0_0x27193d(0x324))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x27193d(0x44a)],...C(a0_0x27193d(0x44a))},ar={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'groupJid':{'type':a0_0x27193d(0x39f)},'action':{'type':a0_0x27193d(0x39f),'enum':['add',a0_0x27193d(0x5f8),a0_0x27193d(0x37e),a0_0x27193d(0x17b),'reject','approve']},'participants':{'type':a0_0x27193d(0x786),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x27193d(0x39f),'minLength':0xa,'pattern':a0_0x27193d(0x2df),'description':a0_0x27193d(0x525)}}},'required':[a0_0x27193d(0x44a),'action',a0_0x27193d(0x2b1)],...C(a0_0x27193d(0x44a),a0_0x27193d(0x139))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'groupJid':{'type':a0_0x27193d(0x39f)},'expiration':{'type':a0_0x27193d(0x520),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x27193d(0x44a),'expiration'],...C(a0_0x27193d(0x44a),a0_0x27193d(0x3ae))},ir={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x27193d(0x39f)},'image':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x44a),a0_0x27193d(0x67e)],...C(a0_0x27193d(0x44a),a0_0x27193d(0x67e))},or={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x44a),'description'],...C('groupJid',a0_0x27193d(0x2b8))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x44a),'name'],...C('groupJid','name')},cr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x27193d(0x1a8),a0_0x27193d(0x6bf),a0_0x27193d(0x405),'locked']}},'required':[a0_0x27193d(0x44a),a0_0x27193d(0x38c)],...C(a0_0x27193d(0x44a),'setting')},lr={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x27193d(0x218)},'announce':{'type':a0_0x27193d(0x218)},'memberAddMode':{'type':a0_0x27193d(0x218)},'joinApprovalMode':{'type':a0_0x27193d(0x218)},'expiration':{'type':a0_0x27193d(0x2e1),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x27193d(0x39f)},'description':{'type':a0_0x27193d(0x39f)},'image':{'type':a0_0x27193d(0x39f)}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'inviteCode':{'type':a0_0x27193d(0x39f)}},'required':[a0_0x27193d(0x10d)],...C(a0_0x27193d(0x10d))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x27193d(0x426),'properties':{'url':{'type':a0_0x27193d(0x39f)},'enabled':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]}},'required':['url',a0_0x27193d(0x59d)]},hc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x27193d(0x218),'enum':[!0x0,!0x1]}},'required':[a0_0x27193d(0x260),a0_0x27193d(0x2b3),a0_0x27193d(0x251),a0_0x27193d(0x41a),a0_0x27193d(0x331),a0_0x27193d(0x4ac),'SEND_MESSAGE',a0_0x27193d(0x5f3),'CONTACTS_UPSERT',a0_0x27193d(0x67d),'PRESENCE_UPDATE',a0_0x27193d(0x4bc),a0_0x27193d(0x299),a0_0x27193d(0x78a),a0_0x27193d(0x69e),a0_0x27193d(0x480),a0_0x27193d(0x189),a0_0x27193d(0x121),a0_0x27193d(0x77a)],...C(a0_0x27193d(0x260),a0_0x27193d(0x2b3),a0_0x27193d(0x251),a0_0x27193d(0x41a),'MESSAGES_UPDATE',a0_0x27193d(0x4ac),'SEND_MESSAGE','CONTACTS_SET',a0_0x27193d(0x539),a0_0x27193d(0x67d),a0_0x27193d(0x2e8),'CHATS_SET',a0_0x27193d(0x299),a0_0x27193d(0x78a),a0_0x27193d(0x69e),a0_0x27193d(0x480),'GROUPS_UPSERT',a0_0x27193d(0x121),'GROUP_PARTICIPANTS_UPDATE')},tt=class{},st=class extends D{[a0_0x27193d(0x6a2)](_0x4f13e2){return Xs(_0x4f13e2);}async[a0_0x27193d(0x12e)](_0x4a2050){const _0x1b0327=a0_0x27193d;if(_0x4a2050['length']!==0x0)try{return{'insertCount':(await this[_0x1b0327(0x6a2)](_0x4a2050[0x0][_0x1b0327(0x7a4)])[_0x1b0327(0x696)]([..._0x4a2050]))[_0x1b0327(0x237)]};}catch(_0x26a198){return _0x26a198;}}async['delete'](_0x27dbb3,_0x2078c1){const _0x58f87d=a0_0x27193d;try{return{'deletedCount':(await this[_0x58f87d(0x6a2)](_0x2078c1)[_0x58f87d(0x2f2)]({..._0x27dbb3['where']}))[_0x58f87d(0x398)]};}catch(_0x12c393){return{'error':_0x12c393?.['toString']()};}}async[a0_0x27193d(0x31e)](_0x1da9af,_0x1a8813){const _0x50dac0=a0_0x27193d;try{if(_0x1da9af['length']===0x0)return;let _0x4e6b6a=this[_0x50dac0(0x6a2)](_0x1a8813),_0x413bb8=_0x1da9af[_0x50dac0(0x5e5)](_0x4dffdd=>({'updateOne':{'filter':{'_id':_0x4dffdd[_0x50dac0(0x310)],'owner':_0x1a8813},'update':{..._0x4dffdd}}})),{modifiedCount:_0x2cdee6}=await _0x4e6b6a['bulkWrite'](_0x413bb8);return{'insertCount':_0x2cdee6};}catch{return;}}async['find'](_0x4cfb0c,_0x4855c7){const _0x334a94=a0_0x27193d;try{let _0x1e627c=this['getContactModelForOwner'](_0x4855c7),_0x439e9b=A(_0x4cfb0c[_0x334a94(0x3d7)]);return await _0x1e627c[_0x334a94(0x76e)](_0x439e9b)[_0x334a94(0x410)](_0x4cfb0c?.[_0x334a94(0x410)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x2ed9f2,_0x336f2c){const _0x5650b0=a0_0x27193d;try{let _0x3df600=this['getContactModelForOwner'](_0x336f2c),_0x456c1a=A(_0x2ed9f2['where']);return await _0x3df600[_0x5650b0(0x5d3)](_0x456c1a)['lean']();}catch{return null;}}async['deleteAll'](_0x33d47d){const _0x4b3c74=a0_0x27193d;try{return await this[_0x4b3c74(0x6a2)](_0x33d47d)[_0x4b3c74(0x2d3)][_0x4b3c74(0x5eb)](),{'success':!0x0};}catch(_0x2a699d){return console[_0x4b3c74(0x382)](_0x2a699d),{'success':!0x1,'error':_0x2a699d};}}},at=require(a0_0x27193d(0x4cb)),Ec=require('express-async-errors'),Ss=new v(a0_0x27193d(0x301)),V=class{[a0_0x27193d(0x621)](_0x47a3a5,_0xb404da=!0x0){const _0x434657=a0_0x27193d;let _0x3ae9b3='/'+_0x47a3a5;return _0xb404da&&(_0x3ae9b3+=_0x434657(0x76b)),_0x3ae9b3;}async[a0_0x27193d(0x3a5)](_0x22774c){const _0x6a5345=a0_0x27193d;let {request:_0xd57ba,schema:_0x1e7b76,ClassRef:_0x42b820,execute:_0x395cc8}=_0x22774c,_0x303ac9=new _0x42b820(),_0x5ae6a0=_0xd57ba['body'],_0x8c0f36=_0xd57ba['params'];_0xd57ba?.[_0x6a5345(0x674)]&&Object[_0x6a5345(0x28f)](_0xd57ba['query'])[_0x6a5345(0x237)]>0x0&&Object['assign'](_0x8c0f36,_0xd57ba['query']),_0xd57ba[_0x6a5345(0x5d8)][_0x6a5345(0x53b)]('/instance/create')&&Object[_0x6a5345(0x3f4)](_0x8c0f36,_0x5ae6a0),Object[_0x6a5345(0x3f4)](_0x303ac9,_0x5ae6a0);let _0x5a3f69=_0x1e7b76?(0x0,at[_0x6a5345(0x3a4)])(_0x303ac9,_0x1e7b76):{'valid':!0x0,'errors':[]};if(!_0x5a3f69['valid']){let _0x11da89=_0x5a3f69[_0x6a5345(0x575)][_0x6a5345(0x5e5)](({property:_0x1b1e8e,stack:_0x42d28e,schema:_0xa4fcc6})=>{const _0x122f51=_0x6a5345;let _0x5b5a04;return _0xa4fcc6['description']?_0x5b5a04=_0xa4fcc6[_0x122f51(0x2b8)]:_0x5b5a04=_0x42d28e['replace']('instance.',''),{'property':_0x1b1e8e[_0x122f51(0x468)](_0x122f51(0x6e9),''),'message':_0x5b5a04};});throw Ss[_0x6a5345(0x382)]([..._0x11da89]),new w(..._0x11da89);}return await _0x395cc8(_0x8c0f36,_0x303ac9);}async[a0_0x27193d(0x5e8)](_0x5a3521){const _0x468820=a0_0x27193d;let {request:_0x4be729,ClassRef:_0x470767,schema:_0x5dea88,execute:_0x641d32}=_0x5a3521,_0x2d48f4=_0x4be729[_0x468820(0x674)];if(!_0x2d48f4?.[_0x468820(0x44a)])throw new w(_0x468820(0x42b),_0x468820(0x5e9));let _0x373d25=_0x4be729[_0x468820(0x625)],_0x1cd284=_0x4be729[_0x468820(0x39d)],_0x3eb2f5=new _0x470767();Object[_0x468820(0x3f4)](_0x1cd284,_0x2d48f4),Object[_0x468820(0x3f4)](_0x3eb2f5,_0x1cd284);let _0x178b23=(0x0,at[_0x468820(0x3a4)])(_0x3eb2f5,_0x5dea88);if(!_0x178b23[_0x468820(0x7a5)]){let _0x3a3cd1=_0x178b23[_0x468820(0x575)][_0x468820(0x5e5)](({property:_0x2acb1d,stack:_0x538f83,schema:_0x51bc53})=>{const _0x33348f=_0x468820;let _0x286788;return _0x51bc53[_0x33348f(0x2b8)]?_0x286788=_0x51bc53['description']:_0x286788=_0x538f83[_0x33348f(0x468)](_0x33348f(0x6e9),''),{'property':_0x2acb1d[_0x33348f(0x468)](_0x33348f(0x6e9),''),'message':_0x286788};});throw Ss['error']([..._0x3a3cd1]),new w(..._0x3a3cd1);}return await _0x641d32(_0x373d25,_0x3eb2f5);}async[a0_0x27193d(0x1e4)](_0x4b732d){const _0x58f396=a0_0x27193d;let {request:_0x40a26f,ClassRef:_0x2f043b,schema:_0x5bd197,execute:_0x1c29ff}=_0x4b732d,_0x1463fe=_0x40a26f[_0x58f396(0x39d)];if(!_0x1463fe?.['inviteCode'])throw new w(_0x58f396(0x386),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x58de14=_0x40a26f[_0x58f396(0x625)],_0x4d3152=_0x40a26f[_0x58f396(0x39d)],_0x1436df=new _0x2f043b();Object[_0x58f396(0x3f4)](_0x4d3152,_0x1463fe),Object[_0x58f396(0x3f4)](_0x1436df,_0x4d3152);let _0x33011e=(0x0,at[_0x58f396(0x3a4)])(_0x1436df,_0x5bd197);if(!_0x33011e[_0x58f396(0x7a5)]){let _0x23ee03=_0x33011e[_0x58f396(0x575)][_0x58f396(0x5e5)](({property:_0x4b0416,stack:_0x587632,schema:_0x57bb0e})=>{const _0x5508b1=_0x58f396;let _0x4c971c;return _0x57bb0e[_0x5508b1(0x2b8)]?_0x4c971c=_0x57bb0e[_0x5508b1(0x2b8)]:_0x4c971c=_0x587632[_0x5508b1(0x468)](_0x5508b1(0x6e9),''),{'property':_0x4b0416[_0x5508b1(0x468)](_0x5508b1(0x6e9),''),'message':_0x4c971c};});throw Ss[_0x58f396(0x382)]([..._0x23ee03]),new w(..._0x23ee03);}return await _0x1c29ff(_0x58de14,_0x1436df);}},S=class{},Lc=new v('ChatRouter'),rt=class extends V{constructor(..._0x22053c){const _0x426ae6=a0_0x27193d;super(),this['router']=(0x0,dr['Router'])(),this[_0x426ae6(0x78f)]['post'](this[_0x426ae6(0x621)](_0x426ae6(0x133)),..._0x22053c,async(_0x4082b6,_0x43eea7)=>{const _0x5a06ec=_0x426ae6;let _0x57f70a=await this[_0x5a06ec(0x3a5)]({'request':_0x4082b6,'schema':tr,'ClassRef':Be,'execute':(_0x2ee740,_0x13a7df)=>_[_0x5a06ec(0x133)](_0x2ee740,_0x13a7df)});return _0x43eea7['status'](0xc9)[_0x5a06ec(0x688)](_0x57f70a);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x795)),..._0x22053c,async(_0x31d918,_0x8d2aab)=>{const _0xeaf16a=_0x426ae6;let _0x139953=await this[_0xeaf16a(0x3a5)]({'request':_0x31d918,'schema':Ga,'ClassRef':Ge,'execute':(_0x5ae28f,_0x2c5b67)=>_['whatsappNumber'](_0x5ae28f,_0x2c5b67)});return _0x8d2aab[_0xeaf16a(0x148)](0xc9)['json'](_0x139953);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x726)),..._0x22053c,async(_0x1c0796,_0x8aae52)=>{const _0x115275=_0x426ae6;let _0x167a96=await this[_0x115275(0x3a5)]({'request':_0x1c0796,'schema':M,'ClassRef':S,'execute':(_0x3c185e,_0x1d85d2)=>_[_0x115275(0x726)](_0x3c185e,_0x1d85d2)});return _0x8aae52[_0x115275(0x148)](0xc9)[_0x115275(0x688)](_0x167a96);})[_0x426ae6(0x124)](this[_0x426ae6(0x621)](_0x426ae6(0x45d)),..._0x22053c,async(_0x31789a,_0x2a3902)=>{const _0x46ec3b=_0x426ae6;let _0x138cd3=await this['dataValidate']({'request':_0x31789a,'schema':Wa,'ClassRef':He,'execute':(_0xd341f3,_0x1126c1)=>_[_0x46ec3b(0x449)](_0xd341f3,_0x1126c1)});return _0x2a3902[_0x46ec3b(0x148)](0xc9)[_0x46ec3b(0x688)](_0x138cd3);})[_0x426ae6(0x124)](this[_0x426ae6(0x621)](_0x426ae6(0x6c5)),..._0x22053c,async(_0x13356b,_0x2a080d)=>{const _0x412a2b=_0x426ae6;let _0x251300=await this['dataValidate']({'request':_0x13356b,'schema':Ha,'ClassRef':Ke,'execute':(_0x5e0afd,_0x33f950)=>_[_0x412a2b(0x6c5)](_0x5e0afd,_0x33f950)});return _0x2a080d['status'](0xc9)[_0x412a2b(0x688)](_0x251300);})[_0x426ae6(0x1f4)](this[_0x426ae6(0x621)](_0x426ae6(0x3f9)),..._0x22053c,async(_0x45f294,_0x3844c5)=>{const _0xb6cbc9=_0x426ae6;let _0x3fd1bb=await this[_0xb6cbc9(0x3a5)]({'request':_0x45f294,'schema':Ka,'ClassRef':Ye,'execute':(_0xe9740d,_0x4e43bf)=>_[_0xb6cbc9(0x642)](_0xe9740d,_0x4e43bf)});return _0x3844c5[_0xb6cbc9(0x148)](0xc9)[_0xb6cbc9(0x688)](_0x3fd1bb);})['post'](this[_0x426ae6(0x621)](_0x426ae6(0x767)),..._0x22053c,async(_0x286eb0,_0x35fb28)=>{const _0x2295f9=_0x426ae6;let _0x208ecc=await this[_0x2295f9(0x3a5)]({'request':_0x286eb0,'schema':Ee,'ClassRef':Ce,'execute':(_0x39e962,_0x96c2de)=>_[_0x2295f9(0x221)](_0x39e962,_0x96c2de)});return _0x35fb28['status'](0xc8)[_0x2295f9(0x688)](_0x208ecc);})[_0x426ae6(0x263)](this['routerPath'](_0x426ae6(0x476)),..._0x22053c,async(_0x34b519,_0x2b1871)=>{const _0x30bf65=_0x426ae6;let _0x45939e=await this[_0x30bf65(0x3a5)]({'request':_0x34b519,'schema':Za,'ClassRef':Ce,'execute':(_0x5c14d1,_0x2f4595)=>_[_0x30bf65(0x476)](_0x5c14d1,_0x2f4595)});return _0x2b1871[_0x30bf65(0x148)](0xc8)['json'](_0x45939e);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x2f6)),..._0x22053c,async(_0x5c640e,_0x56104e)=>{const _0x16c31c=_0x426ae6;let _0x31cfa4=await this['dataValidate']({'request':_0x5c640e,'schema':Qa,'ClassRef':tt,'execute':(_0x9662be,_0x2a0687)=>_[_0x16c31c(0x307)](_0x9662be,_0x2a0687)});return _0x56104e['status'](0xc8)[_0x16c31c(0x688)](_0x31cfa4);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x1df)),..._0x22053c,async(_0x163ade,_0x1c3a41)=>{const _0x4ea90=_0x426ae6;let _0x2a83a4=await this[_0x4ea90(0x3a5)]({'request':_0x163ade,'schema':null,'ClassRef':Object,'execute':(_0x2df0bf,_0x56f34e)=>_[_0x4ea90(0x1df)](_0x2df0bf,_0x56f34e)});return _0x1c3a41['status'](0xc9)['json'](_0x2a83a4);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x436)),..._0x22053c,async(_0x3dce36,_0xf3897a)=>{const _0x52e9c3=_0x426ae6;let _0x59a21c=await this['dataValidate']({'request':_0x3dce36,'schema':er,'ClassRef':Je,'execute':(_0xc12305,_0x10241b)=>_[_0x52e9c3(0x4a6)](_0xc12305,_0x10241b)});return _0xf3897a[_0x52e9c3(0x148)](0xc8)[_0x52e9c3(0x688)](_0x59a21c);})[_0x426ae6(0x30a)](this['routerPath'](_0x426ae6(0x162)),..._0x22053c,async(_0x546cbf,_0x5e4429)=>{const _0x5bb27d=_0x426ae6;let _0x3843cd=await this[_0x5bb27d(0x3a5)]({'request':_0x546cbf,'schema':null,'ClassRef':S,'execute':_0xb14fce=>_[_0x5bb27d(0x1a1)](_0xb14fce)});return _0x5e4429['status'](0xc8)['json'](_0x3843cd);})[_0x426ae6(0x30a)](this['routerPath']('findLabels'),..._0x22053c,async(_0x2574b4,_0x246701)=>{const _0x279861=_0x426ae6;let _0x13b741=await this[_0x279861(0x3a5)]({'request':_0x2574b4,'schema':null,'ClassRef':S,'execute':_0x58a6ab=>_[_0x279861(0x364)](_0x58a6ab)});return _0x246701[_0x279861(0x148)](0xc8)['json'](_0x13b741);})[_0x426ae6(0x124)](this['routerPath'](_0x426ae6(0x538)),..._0x22053c,async(_0x5a0390,_0x2c1085)=>{const _0x32ea6d=_0x426ae6;let _0x2741d1=await this[_0x32ea6d(0x3a5)]({'request':_0x5a0390,'schema':null,'ClassRef':Array,'execute':(_0x3261d2,_0x1dff46)=>_[_0x32ea6d(0x538)](_0x3261d2,_0x1dff46)});return _0x2c1085[_0x32ea6d(0x148)](0xc8)[_0x32ea6d(0x688)](_0x2741d1);})['get'](this[_0x426ae6(0x621)](_0x426ae6(0x27b)),..._0x22053c,async(_0x60e6eb,_0x1a414b)=>{const _0x5a0df4=_0x426ae6;let _0x352e6b=await this[_0x5a0df4(0x3a5)]({'request':_0x60e6eb,'schema':null,'ClassRef':S,'execute':_0x4319de=>_['fetchPrivacySettings'](_0x4319de)});return _0x1a414b[_0x5a0df4(0x148)](0xc8)['json'](_0x352e6b);})['put'](this['routerPath'](_0x426ae6(0x42a)),..._0x22053c,async(_0x58ea8c,_0x88943a)=>{const _0x507734=_0x426ae6;let _0x48c891=await this[_0x507734(0x3a5)]({'request':_0x58ea8c,'schema':za,'ClassRef':Qe,'execute':(_0x43dfcd,_0x1afbe4)=>_[_0x507734(0x42a)](_0x43dfcd,_0x1afbe4)});return _0x88943a[_0x507734(0x148)](0xc9)[_0x507734(0x688)](_0x48c891);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)]('fetchBusinessProfile'),..._0x22053c,async(_0x2add97,_0x62ed)=>{const _0x33eaf9=_0x426ae6;let _0x902c3=await this['dataValidate']({'request':_0x2add97,'schema':Ee,'ClassRef':we,'execute':(_0x441c8d,_0x56aabf)=>_[_0x33eaf9(0x3bd)](_0x441c8d,_0x56aabf)});return _0x62ed[_0x33eaf9(0x148)](0xc8)['json'](_0x902c3);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)]('updateProfileName'),..._0x22053c,async(_0x5ad839,_0x4a6cdc)=>{const _0x4b9d5e=_0x426ae6;let _0x56628b=await this['dataValidate']({'request':_0x5ad839,'schema':Ya,'ClassRef':We,'execute':(_0x5ecfcf,_0xf0f7f6)=>_[_0x4b9d5e(0x4ee)](_0x5ecfcf,_0xf0f7f6)});return _0x4a6cdc[_0x4b9d5e(0x148)](0xc8)[_0x4b9d5e(0x688)](_0x56628b);})[_0x426ae6(0x263)](this[_0x426ae6(0x621)](_0x426ae6(0x2c3)),..._0x22053c,async(_0x2828cb,_0x141c76)=>{const _0x461622=_0x426ae6;let _0x3f24d7=await this[_0x461622(0x3a5)]({'request':_0x2828cb,'schema':Xa,'ClassRef':ze,'execute':(_0x118b49,_0x27c11a)=>_[_0x461622(0x2c3)](_0x118b49,_0x27c11a)});return _0x141c76['status'](0xc8)[_0x461622(0x688)](_0x3f24d7);})[_0x426ae6(0x124)](this['routerPath'](_0x426ae6(0x597)),..._0x22053c,async(_0x212f72,_0x44774b)=>{const _0x5bf16c=_0x426ae6;let _0xe4b957=await this['dataValidate']({'request':_0x212f72,'schema':Ee,'ClassRef':we,'execute':(_0x80841a,_0x490e74)=>_['updateProfilePicture'](_0x80841a,_0x490e74)});return _0x44774b[_0x5bf16c(0x148)](0xc8)['json'](_0xe4b957);})['delete'](this[_0x426ae6(0x621)](_0x426ae6(0x349)),..._0x22053c,async(_0xdfc6df,_0x1a5ab1)=>{const _0x1caaeb=_0x426ae6;let _0x5120b3=await this[_0x1caaeb(0x3a5)]({'request':_0xdfc6df,'schema':Ee,'ClassRef':we,'execute':(_0x40c0ff,_0x20d236)=>_['removeProfilePicture'](_0x40c0ff,_0x20d236)});return _0x1a5ab1[_0x1caaeb(0x148)](0xc8)[_0x1caaeb(0x688)](_0x5120b3);});}},pr=require(a0_0x27193d(0x184)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},Y=class{},ve=class{},dt=class extends Y{},pt=class extends Y{},ht=class extends V{constructor(..._0x19aaf8){const _0x1770f9=a0_0x27193d;super(),this[_0x1770f9(0x78f)]=(0x0,pr[_0x1770f9(0x16a)])(),this[_0x1770f9(0x78f)][_0x1770f9(0x263)](this[_0x1770f9(0x621)]('create'),..._0x19aaf8,async(_0x4fcfb6,_0x7b6183)=>{const _0x202eb=_0x1770f9;let _0x5f41af=await this[_0x202eb(0x3a5)]({'request':_0x4fcfb6,'schema':sr,'ClassRef':it,'execute':(_0x670344,_0x497bdb)=>F[_0x202eb(0x4c6)](_0x670344,_0x497bdb)});_0x7b6183[_0x202eb(0x148)](0xc9)[_0x202eb(0x688)](_0x5f41af);})['put'](this[_0x1770f9(0x621)]('updateGroupPicture'),..._0x19aaf8,async(_0x19114f,_0x365917)=>{const _0x15897d=_0x1770f9;let _0x471fdc=await this['groupValidate']({'request':_0x19114f,'schema':ir,'ClassRef':ot,'execute':(_0x3554a0,_0x3cd16d)=>F[_0x15897d(0x3cd)](_0x3554a0,_0x3cd16d)});_0x365917[_0x15897d(0x148)](0xc9)[_0x15897d(0x688)](_0x471fdc);})[_0x1770f9(0x124)](this[_0x1770f9(0x621)](_0x1770f9(0x532)),..._0x19aaf8,async(_0x2e8817,_0xb1374e)=>{const _0x164382=_0x1770f9;let _0x34436e=await this['groupValidate']({'request':_0x2e8817,'schema':or,'ClassRef':nt,'execute':(_0x3e9aa7,_0x585593)=>F[_0x164382(0x532)](_0x3e9aa7,_0x585593)});_0xb1374e[_0x164382(0x148)](0xc9)[_0x164382(0x688)](_0x34436e);})[_0x1770f9(0x124)](this[_0x1770f9(0x621)](_0x1770f9(0x782)),..._0x19aaf8,async(_0x5260ba,_0x1be8c5)=>{const _0x42d754=_0x1770f9;let _0x4e6d11=await this[_0x42d754(0x5e8)]({'request':_0x5260ba,'schema':nr,'ClassRef':ct,'execute':(_0x475eed,_0x22d305)=>F['groupName'](_0x475eed,_0x22d305)});_0x1be8c5[_0x42d754(0x148)](0xc9)[_0x42d754(0x688)](_0x4e6d11);})[_0x1770f9(0x124)](this[_0x1770f9(0x621)](_0x1770f9(0x38b)),..._0x19aaf8,async(_0x20a20f,_0x5adcf2)=>{const _0x29a4aa=_0x1770f9;let _0x50180a=await this[_0x29a4aa(0x5e8)]({'request':_0x20a20f,'schema':lr,'ClassRef':ut,'execute':(_0x3702ff,_0x27820c)=>F['groupBetterSetting'](_0x3702ff,_0x27820c)});_0x5adcf2['status'](0xc9)[_0x29a4aa(0x688)](_0x50180a);})[_0x1770f9(0x124)](this[_0x1770f9(0x621)](_0x1770f9(0x2f8)),..._0x19aaf8,async(_0x258377,_0x5dd027)=>{const _0x39360=_0x1770f9;let _0x439a7e=await this[_0x39360(0x5e8)]({'request':_0x258377,'schema':cr,'ClassRef':lt,'execute':(_0x35f0bb,_0x2058c2)=>F[_0x39360(0x2f8)](_0x35f0bb,_0x2058c2)});_0x5dd027[_0x39360(0x148)](0xc9)[_0x39360(0x688)](_0x439a7e);})['put'](this[_0x1770f9(0x621)](_0x1770f9(0x492)),..._0x19aaf8,async(_0x44ef14,_0x49f651)=>{const _0x594be1=_0x1770f9;let _0x28b9b9=await this[_0x594be1(0x5e8)]({'request':_0x44ef14,'schema':rr,'ClassRef':pt,'execute':(_0x597353,_0x7fbfdb)=>F[_0x594be1(0x492)](_0x597353,_0x7fbfdb)});_0x49f651['status'](0xc9)['json'](_0x28b9b9);})[_0x1770f9(0x30a)](this[_0x1770f9(0x621)](_0x1770f9(0x27a)),..._0x19aaf8,async(_0x4c32bb,_0x5edbef)=>{const _0x34f7b9=_0x1770f9;let _0x113e78=await this['groupValidate']({'request':_0x4c32bb,'schema':Me,'ClassRef':Y,'execute':(_0x52424a,_0x431bfa)=>F[_0x34f7b9(0x3b1)](_0x52424a,_0x431bfa)});_0x5edbef[_0x34f7b9(0x148)](0xc8)['json'](_0x113e78);})[_0x1770f9(0x30a)](this[_0x1770f9(0x621)](_0x1770f9(0x368)),..._0x19aaf8,async(_0x13c1b8,_0x2aabfc)=>{const _0x4dc663=_0x1770f9;let _0x4729ba=await this[_0x4dc663(0x3a5)]({'request':_0x13c1b8,'schema':M,'ClassRef':S,'execute':_0xd991a1=>F[_0x4dc663(0x368)](_0xd991a1)});_0x2aabfc[_0x4dc663(0x148)](0xc8)['json'](_0x4729ba);})[_0x1770f9(0x30a)](this[_0x1770f9(0x621)]('participants'),..._0x19aaf8,async(_0x3fa8dc,_0x1255ed)=>{const _0xc6a4d9=_0x1770f9;let _0x44cad5=await this[_0xc6a4d9(0x5e8)]({'request':_0x3fa8dc,'schema':Me,'ClassRef':Y,'execute':(_0x1c3745,_0x36d19f)=>F[_0xc6a4d9(0x71d)](_0x1c3745,_0x36d19f)});_0x1255ed[_0xc6a4d9(0x148)](0xc8)[_0xc6a4d9(0x688)](_0x44cad5);})[_0x1770f9(0x30a)](this[_0x1770f9(0x621)](_0x1770f9(0x10d)),..._0x19aaf8,async(_0x57255d,_0x2c91a9)=>{const _0x365afc=_0x1770f9;let _0x58b683=await this[_0x365afc(0x5e8)]({'request':_0x57255d,'schema':Me,'ClassRef':Y,'execute':(_0x10f5f6,_0x3d9557)=>F['inviteCode'](_0x10f5f6,_0x3d9557)});_0x2c91a9[_0x365afc(0x148)](0xc8)['json'](_0x58b683);})[_0x1770f9(0x263)](this[_0x1770f9(0x621)](_0x1770f9(0x5fa)),..._0x19aaf8,async(_0xd27a32,_0x3d3e3b)=>{const _0x447167=_0x1770f9;let _0x5dc1c4=await this[_0x447167(0x1e4)]({'request':_0xd27a32,'schema':bs,'ClassRef':ve,'execute':(_0x28c447,_0x515cac)=>F[_0x447167(0x77c)](_0x28c447,_0x515cac)});_0x3d3e3b['status'](0xc9)[_0x447167(0x688)](_0x5dc1c4);})['put'](this['routerPath'](_0x1770f9(0x7ae)),..._0x19aaf8,async(_0x5c2f52,_0xfe528b)=>{const _0x3bafd7=_0x1770f9;let _0x539b72=await this[_0x3bafd7(0x1e4)]({'request':_0x5c2f52,'schema':bs,'ClassRef':ve,'execute':(_0x35b852,_0x5408ba)=>F[_0x3bafd7(0x7ae)](_0x35b852,_0x5408ba)});_0xfe528b[_0x3bafd7(0x148)](0xc9)[_0x3bafd7(0x688)](_0x539b72);})[_0x1770f9(0x124)](this[_0x1770f9(0x621)](_0x1770f9(0x667)),..._0x19aaf8,async(_0x3585c0,_0x49529f)=>{const _0x1a2a66=_0x1770f9;let _0x6521c1=await this[_0x1a2a66(0x5e8)]({'request':_0x3585c0,'schema':Me,'ClassRef':Y,'execute':(_0x31be9b,_0x10aeb5)=>F[_0x1a2a66(0x667)](_0x31be9b,_0x10aeb5)});_0x49529f[_0x1a2a66(0x148)](0xc9)['json'](_0x6521c1);})['put'](this[_0x1770f9(0x621)](_0x1770f9(0x530)),..._0x19aaf8,async(_0x25e1ff,_0x182e68)=>{const _0x11838b=_0x1770f9;let _0x597247=await this[_0x11838b(0x5e8)]({'request':_0x25e1ff,'schema':ar,'ClassRef':dt,'execute':(_0x2ac046,_0x2795c4)=>F[_0x11838b(0x670)](_0x2ac046,_0x2795c4)});_0x182e68[_0x11838b(0x148)](0xc9)['json'](_0x597247);})[_0x1770f9(0x1f4)](this[_0x1770f9(0x621)](_0x1770f9(0x158)),..._0x19aaf8,async(_0x16f3d6,_0x4be584)=>{const _0x2257d9=_0x1770f9;let _0x58ca2f=await this['groupValidate']({'request':_0x16f3d6,'schema':{},'ClassRef':Y,'execute':(_0x61acda,_0x351030)=>F[_0x2257d9(0x158)](_0x61acda,_0x351030)});_0x4be584[_0x2257d9(0x148)](0xc8)[_0x2257d9(0x688)](_0x58ca2f);});}},hr=require(a0_0x27193d(0x184)),gt=class extends V{constructor(_0x7d73f0,..._0x57b8ec){const _0x111ea8=a0_0x27193d;super(),this[_0x111ea8(0x29f)]=_0x7d73f0,this[_0x111ea8(0x78f)]=(0x0,hr['Router'])();let _0x1693f5=_0x7d73f0[_0x111ea8(0x30a)]('AUTHENTICATION');this[_0x111ea8(0x78f)][_0x111ea8(0x263)](_0x111ea8(0x68b),..._0x57b8ec,async(_0x3556d6,_0x417a54)=>{const _0x3a524d=_0x111ea8;let {instanceName:_0x739b18,apikey:_0x1e5367,number:_0x114293}=_0x3556d6[_0x3a524d(0x39d)],_0x1912ed=await oe[_0x3a524d(0x5b0)]({'instanceName':_0x739b18,'apikey':_0x1e5367,'number':_0x114293});return _0x417a54['status'](0xc9)['json'](_0x1912ed);})[_0x111ea8(0x124)](this[_0x111ea8(0x621)](_0x111ea8(0x557)),..._0x57b8ec,async(_0x1faca7,_0x26d9f3)=>{const _0x661231=_0x111ea8;let _0x3755ec=await this[_0x661231(0x3a5)]({'request':_0x1faca7,'schema':M,'ClassRef':S,'execute':_0x430183=>oe[_0x661231(0x73e)](_0x430183)});return _0x26d9f3[_0x661231(0x148)](0xc8)[_0x661231(0x688)](_0x3755ec);})[_0x111ea8(0x30a)](this[_0x111ea8(0x621)]('connect'),..._0x57b8ec,async(_0x5aeb0a,_0x3590a2)=>{const _0x19206b=_0x111ea8;let _0x112155=await this['dataValidate']({'request':_0x5aeb0a,'schema':M,'ClassRef':S,'execute':_0x360b2c=>oe[_0x19206b(0x332)](_0x360b2c)});return _0x3590a2['status'](0xc8)[_0x19206b(0x688)](_0x112155);})['get'](this['routerPath'](_0x111ea8(0x494)),..._0x57b8ec,async(_0xf6f40d,_0x4da491)=>{const _0x4535c5=_0x111ea8;let _0xa7bb9c=await this['dataValidate']({'request':_0xf6f40d,'schema':M,'ClassRef':S,'execute':_0x50bf58=>oe['connectionState'](_0x50bf58)});return _0x4da491[_0x4535c5(0x148)](0xc8)[_0x4535c5(0x688)](_0xa7bb9c);})[_0x111ea8(0x30a)](this[_0x111ea8(0x621)]('fetchInstances',!0x1),..._0x57b8ec,async(_0x54f205,_0x4bab2e)=>{const _0x20994d=_0x111ea8;let _0x3c64c5=await this[_0x20994d(0x3a5)]({'request':_0x54f205,'schema':null,'ClassRef':S,'execute':_0x26e23f=>oe[_0x20994d(0x285)](_0x26e23f)});return _0x4bab2e[_0x20994d(0x148)](0xc8)[_0x20994d(0x688)](_0x3c64c5);})[_0x111ea8(0x1f4)](this[_0x111ea8(0x621)](_0x111ea8(0x6c7)),..._0x57b8ec,async(_0x5e18c1,_0x234f18)=>{const _0x41c382=_0x111ea8;let _0x219df9=await this[_0x41c382(0x3a5)]({'request':_0x5e18c1,'schema':M,'ClassRef':S,'execute':_0xdf4546=>oe[_0x41c382(0x6c7)](_0xdf4546)});return _0x234f18[_0x41c382(0x148)](0xc8)['json'](_0x219df9);})['delete'](this[_0x111ea8(0x621)]('delete'),..._0x57b8ec,async(_0x108148,_0x226a1c)=>{const _0x4f0d4d=_0x111ea8;let _0xc9884c=await this[_0x4f0d4d(0x3a5)]({'request':_0x108148,'schema':M,'ClassRef':S,'execute':_0x21548f=>oe[_0x4f0d4d(0x1db)](_0x21548f)});return _0x226a1c[_0x4f0d4d(0x148)](0xc8)[_0x4f0d4d(0x688)](_0xc9884c);});}},gr=require('express'),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x4d1d1a){const _0x187910=a0_0x27193d;super(),this[_0x187910(0x78f)]=(0x0,gr[_0x187910(0x16a)])(),this[_0x187910(0x78f)][_0x187910(0x263)](this[_0x187910(0x621)](_0x187910(0x165)),..._0x4d1d1a,async(_0x1cb377,_0x2e41ec)=>{const _0x1db908=_0x187910;let _0x962d95=await this['dataValidate']({'request':_0x1cb377,'schema':Da,'ClassRef':mt,'execute':(_0x5c7e55,_0x3af3b8)=>G[_0x1db908(0x165)](_0x5c7e55,_0x3af3b8)});return _0x2e41ec['status'](0xc9)[_0x1db908(0x688)](_0x962d95);})[_0x187910(0x263)](this[_0x187910(0x621)](_0x187910(0x3f8)),..._0x4d1d1a,async(_0x4c7055,_0x273a1a)=>{const _0xee899a=_0x187910;let _0x4c1111=await this[_0xee899a(0x3a5)]({'request':_0x4c7055,'schema':ka,'ClassRef':Ne,'execute':(_0x425a4c,_0x3548da)=>G[_0xee899a(0x3f8)](_0x425a4c,_0x3548da)});return _0x273a1a[_0xee899a(0x148)](0xc9)[_0xee899a(0x688)](_0x4c1111);})['post'](this[_0x187910(0x621)](_0x187910(0x571)),..._0x4d1d1a,async(_0x202524,_0x5ceeb1)=>{const _0x5d681=_0x187910;let _0x50fe5e=await this[_0x5d681(0x3a5)]({'request':_0x202524,'schema':Fa,'ClassRef':yt,'execute':(_0x411777,_0x9b789f)=>G[_0x5d681(0x571)](_0x411777,_0x9b789f)});return _0x5ceeb1['status'](0xc9)[_0x5d681(0x688)](_0x50fe5e);})['post'](this[_0x187910(0x621)](_0x187910(0x36a)),..._0x4d1d1a,async(_0x38b6e6,_0xbc21e1)=>{const _0x260999=_0x187910;let _0x566771=await this['dataValidate']({'request':_0x38b6e6,'schema':La,'ClassRef':Ne,'execute':(_0x3653b2,_0x4fb18d)=>G[_0x260999(0x36a)](_0x3653b2,_0x4fb18d)});return _0xbc21e1[_0x260999(0x148)](0xc9)[_0x260999(0x688)](_0x566771);})[_0x187910(0x263)](this[_0x187910(0x621)](_0x187910(0x411)),..._0x4d1d1a,async(_0x4f4963,_0x2dbec4)=>{const _0x5bbbe9=_0x187910;let _0x8117e9=await this[_0x5bbbe9(0x3a5)]({'request':_0x4f4963,'schema':Ua,'ClassRef':St,'execute':(_0x28e499,_0x47c1c2)=>G[_0x5bbbe9(0x411)](_0x28e499,_0x47c1c2)});return _0x2dbec4['status'](0xc9)[_0x5bbbe9(0x688)](_0x8117e9);})[_0x187910(0x263)](this['routerPath'](_0x187910(0x70f)),..._0x4d1d1a,async(_0x154d94,_0x4bfc0c)=>{const _0x319ba7=_0x187910;let _0x1c4f8a=await this['dataValidate']({'request':_0x154d94,'schema':qa,'ClassRef':Ct,'execute':(_0x49cf2f,_0x24612a)=>G[_0x319ba7(0x70f)](_0x49cf2f,_0x24612a)});return _0x4bfc0c[_0x319ba7(0x148)](0xc9)[_0x319ba7(0x688)](_0x1c4f8a);})[_0x187910(0x263)](this['routerPath'](_0x187910(0x439)),..._0x4d1d1a,async(_0x1b56ce,_0x4c5df7)=>{const _0x5eb59d=_0x187910;let _0x1a8998=await this[_0x5eb59d(0x3a5)]({'request':_0x1b56ce,'schema':Ja,'ClassRef':Et,'execute':(_0x530978,_0x4513ca)=>G[_0x5eb59d(0x439)](_0x530978,_0x4513ca)});return _0x4c5df7[_0x5eb59d(0x148)](0xc9)[_0x5eb59d(0x688)](_0x1a8998);})[_0x187910(0x263)](this[_0x187910(0x621)](_0x187910(0x3e8)),..._0x4d1d1a,async(_0x57dd24,_0x584dff)=>{const _0x20d8f9=_0x187910;let _0x999a37=await this['dataValidate']({'request':_0x57dd24,'schema':Va,'ClassRef':Mt,'execute':(_0x88813e,_0x102056)=>G[_0x20d8f9(0x3e8)](_0x88813e,_0x102056)});return _0x584dff[_0x20d8f9(0x148)](0xc9)[_0x20d8f9(0x688)](_0x999a37);})[_0x187910(0x263)](this[_0x187910(0x621)]('sendReaction'),..._0x4d1d1a,async(_0x44cebb,_0x5f58d1)=>{const _0xc1fc5e=_0x187910;let _0xa17cd1=await this['dataValidate']({'request':_0x44cebb,'schema':Ba,'ClassRef':vt,'execute':(_0x226669,_0x3a51b7)=>G['sendReaction'](_0x226669,_0x3a51b7)});return _0x5f58d1[_0xc1fc5e(0x148)](0xc9)['json'](_0xa17cd1);})[_0x187910(0x263)](this[_0x187910(0x621)](_0x187910(0x288)),..._0x4d1d1a,async(_0x2e7b43,_0x5bc249)=>{let _0x486359=await this['dataValidate']({'request':_0x2e7b43,'schema':ja,'ClassRef':wt,'execute':(_0x5bcc12,_0x110719)=>G['sendPoll'](_0x5bcc12,_0x110719)});return _0x5bc249['status'](0xc9)['json'](_0x486359);})['post'](this[_0x187910(0x621)](_0x187910(0x5b2)),..._0x4d1d1a,async(_0x439a75,_0x48f8b5)=>{const _0x31cfa7=_0x187910;let _0xc260f9=await this[_0x31cfa7(0x3a5)]({'request':_0x439a75,'schema':$a,'ClassRef':ft,'execute':(_0x17c366,_0x3dadea)=>G['sendStatus'](_0x17c366,_0x3dadea)});return _0x48f8b5[_0x31cfa7(0x148)](0xc9)['json'](_0xc260f9);})['post'](this[_0x187910(0x621)]('sendSticker'),..._0x4d1d1a,async(_0x3946a9,_0x1b05e3)=>{const _0xffec0e=_0x187910;let _0x170aee=await this[_0xffec0e(0x3a5)]({'request':_0x3946a9,'schema':Pa,'ClassRef':bt,'execute':(_0x3e1d2f,_0x34da6c)=>G[_0xffec0e(0x5b4)](_0x3e1d2f,_0x34da6c)});return _0x1b05e3[_0xffec0e(0x148)](0xc9)['json'](_0x170aee);});}},mr=require(a0_0x27193d(0x184)),Rt=class{},Tt=class extends V{constructor(..._0x2195fd){const _0x384897=a0_0x27193d;super(),this[_0x384897(0x78f)]=(0x0,mr[_0x384897(0x16a)])(),this['router'][_0x384897(0x263)](this[_0x384897(0x621)]('set'),..._0x2195fd,async(_0x5770d9,_0xf0b6e9)=>{const _0x2f747a=_0x384897;let _0x27ff1a=await this[_0x2f747a(0x3a5)]({'request':_0x5770d9,'schema':ur,'ClassRef':Rt,'execute':(_0xb0bd61,_0x55b842)=>Es[_0x2f747a(0x209)](_0xb0bd61,_0x55b842)});_0xf0b6e9['status'](0xc9)['json'](_0x27ff1a);})[_0x384897(0x30a)](this[_0x384897(0x621)](_0x384897(0x76e)),..._0x2195fd,async(_0xbbe51c,_0x4e0f3c)=>{const _0x16a0b6=_0x384897;let _0xa05f3c=await this[_0x16a0b6(0x3a5)]({'request':_0xbbe51c,'schema':M,'ClassRef':S,'execute':_0x3d44a9=>Es['findWebhook'](_0x3d44a9)});_0x4e0f3c[_0x16a0b6(0x148)](0xc8)['json'](_0xa05f3c);});}},fr=require('express'),y=new v(a0_0x27193d(0x595)),Ot=class extends V{constructor(..._0x463b64){const _0x48d224=a0_0x27193d;super(),this[_0x48d224(0x78f)]=(0x0,fr[_0x48d224(0x16a)])(),this['router'][_0x48d224(0x263)](this[_0x48d224(0x621)]('scheduleMessage'),..._0x463b64,async(_0x5757f9,_0x2ce1d7)=>{const _0x16018f=_0x48d224;let _0x1e040a=_0x5757f9[_0x16018f(0x39d)];y[_0x16018f(0x5da)](_0x16018f(0x54a)),y[_0x16018f(0x5da)](_0x16018f(0x433)),y[_0x16018f(0x5da)](_0x5757f9[_0x16018f(0x39d)]);let _0x564d67=await this[_0x16018f(0x3a5)]({'request':_0x5757f9,'schema':M,'ClassRef':S,'execute':_0x2db342=>x[_0x16018f(0x2e9)](_0x2db342,_0x1e040a)});_0x2ce1d7[_0x16018f(0x148)](0xc8)[_0x16018f(0x688)](_0x564d67);})[_0x48d224(0x30a)](this[_0x48d224(0x621)]('scheduleMessage'),..._0x463b64,async(_0x1de15c,_0x254a11)=>{const _0x82aa37=_0x48d224;let _0xe6e39b=await this[_0x82aa37(0x3a5)]({'request':_0x1de15c,'schema':M,'ClassRef':S,'execute':_0x4f73a5=>x['getScheduleMessage'](_0x4f73a5)});_0x254a11[_0x82aa37(0x148)](0xc8)[_0x82aa37(0x688)](_0xe6e39b);})[_0x48d224(0x1f4)](this[_0x48d224(0x621)](_0x48d224(0x291)),..._0x463b64,async(_0x25d5bc,_0x2c30bc)=>{const _0x45eefa=_0x48d224;y[_0x45eefa(0x5da)](_0x45eefa(0x4d7));let _0x1f3554=await this[_0x45eefa(0x3a5)]({'request':_0x25d5bc,'schema':M,'ClassRef':S,'execute':_0x2050ab=>x[_0x45eefa(0x291)](_0x2050ab)});_0x2c30bc[_0x45eefa(0x148)](0xc8)[_0x45eefa(0x688)](_0x1f3554);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x5dc)),..._0x463b64,async(_0x1ff03b,_0x2f0eca)=>{const _0x5cd560=_0x48d224;let _0x3621af=_0x1ff03b['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x5cd560(0x5da)](_0x5cd560(0x433)),y['verbose'](_0x1ff03b['body']);let _0x4b162f=await this['dataValidate']({'request':_0x1ff03b,'schema':M,'ClassRef':S,'execute':_0xbb649a=>x['startFlow'](_0xbb649a,_0x3621af)});_0x2f0eca['status'](0xc8)[_0x5cd560(0x688)](_0x4b162f);})[_0x48d224(0x30a)](this['routerPath']('getAutomateSystem'),..._0x463b64,async(_0x1e8e81,_0xabdf86)=>{const _0x3b17b4=_0x48d224;y[_0x3b17b4(0x5da)]('request\x20received\x20in\x20getAutomateSystem');let _0x7d0589=await this['dataValidate']({'request':_0x1e8e81,'schema':M,'ClassRef':S,'execute':_0x491c7c=>x[_0x3b17b4(0x456)](_0x491c7c)});_0xabdf86[_0x3b17b4(0x148)](0xc8)[_0x3b17b4(0x688)](_0x7d0589);})['get'](this[_0x48d224(0x621)](_0x48d224(0x693)),..._0x463b64,async(_0x3570fc,_0x39d58e)=>{const _0x556531=_0x48d224;y[_0x556531(0x5da)](_0x556531(0x41d));let _0x1804e9=await this['dataValidate']({'request':_0x3570fc,'schema':M,'ClassRef':S,'execute':_0x3d06a0=>x[_0x556531(0x456)](_0x3d06a0)});_0x39d58e[_0x556531(0x148)](0xc8)[_0x556531(0x688)](_0x1804e9);})['post'](this[_0x48d224(0x621)](_0x48d224(0x583)),..._0x463b64,async(_0x2813b6,_0xff8493)=>{const _0x57e1f8=_0x48d224;let _0x3496cc=_0x2813b6[_0x57e1f8(0x39d)];y[_0x57e1f8(0x5da)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x57e1f8(0x433)),y[_0x57e1f8(0x5da)](_0x2813b6[_0x57e1f8(0x39d)]);let _0x279dc9=await this[_0x57e1f8(0x3a5)]({'request':_0x2813b6,'schema':M,'ClassRef':S,'execute':_0x23de03=>x[_0x57e1f8(0x583)](_0x23de03,_0x3496cc)});_0xff8493[_0x57e1f8(0x148)](0xc8)[_0x57e1f8(0x688)](_0x279dc9);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x4b1)),..._0x463b64,async(_0x51610d,_0x224bfb)=>{const _0x3e5f00=_0x48d224;let _0x250bc0=_0x51610d['body'];y[_0x3e5f00(0x5da)](_0x3e5f00(0x3fa)),y['verbose']('request\x20body:\x20'),y[_0x3e5f00(0x5da)](_0x51610d[_0x3e5f00(0x39d)]);let _0x543ffa=await this[_0x3e5f00(0x3a5)]({'request':_0x51610d,'schema':M,'ClassRef':S,'execute':_0x4e8a15=>x['updateCustomFields'](_0x4e8a15,_0x250bc0)});_0x224bfb['status'](0xc8)['json'](_0x543ffa);})[_0x48d224(0x263)](this[_0x48d224(0x621)]('updateFlowConfig'),..._0x463b64,async(_0x259172,_0x2897d0)=>{const _0x15668f=_0x48d224;let _0x1f6619=_0x259172[_0x15668f(0x39d)];y['verbose'](_0x15668f(0x475)),y[_0x15668f(0x5da)](_0x15668f(0x433)),y[_0x15668f(0x5da)](_0x259172[_0x15668f(0x39d)]);let _0x5705ec=await this[_0x15668f(0x3a5)]({'request':_0x259172,'schema':M,'ClassRef':S,'execute':_0x203c4f=>x['updateFlowConfig'](_0x203c4f,_0x1f6619)});_0x2897d0[_0x15668f(0x148)](0xc8)[_0x15668f(0x688)](_0x5705ec);})[_0x48d224(0x263)](this[_0x48d224(0x621)]('getConversation'),..._0x463b64,async(_0x45e044,_0x3940f3)=>{const _0x3ceac9=_0x48d224;let _0x518a6c=_0x45e044['body'];y[_0x3ceac9(0x5da)](_0x3ceac9(0x724)),y['verbose'](_0x3ceac9(0x433)),y[_0x3ceac9(0x5da)](_0x45e044[_0x3ceac9(0x39d)]);let _0x2b98ed=await this[_0x3ceac9(0x3a5)]({'request':_0x45e044,'schema':M,'ClassRef':S,'execute':_0x3277dd=>x['getConversation'](_0x3277dd,_0x518a6c)});_0x3940f3['status'](0xc8)[_0x3ceac9(0x688)](_0x2b98ed);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x3f0)),..._0x463b64,async(_0x11e976,_0x21d633)=>{const _0x3f71be=_0x48d224;let _0x9d5aaa=_0x11e976[_0x3f71be(0x39d)];y[_0x3f71be(0x5da)](_0x3f71be(0x676)),y['verbose'](_0x3f71be(0x433)),y[_0x3f71be(0x5da)](_0x11e976['body']);let _0x3bbaf8=await this[_0x3f71be(0x3a5)]({'request':_0x11e976,'schema':M,'ClassRef':S,'execute':_0x252164=>x['fetchConversation'](_0x252164,_0x9d5aaa)});_0x21d633[_0x3f71be(0x148)](0xc8)[_0x3f71be(0x688)](_0x3bbaf8);})['post'](this[_0x48d224(0x621)](_0x48d224(0x1bd)),..._0x463b64,async(_0x523e3d,_0x4e73d4)=>{const _0x30fd58=_0x48d224;let _0x49ef09=_0x523e3d['body'];y['verbose']('request\x20received\x20in\x20editConversation'),y['verbose'](_0x30fd58(0x433)),y[_0x30fd58(0x5da)](_0x523e3d['body']);let _0x3297e2=await this[_0x30fd58(0x3a5)]({'request':_0x523e3d,'schema':M,'ClassRef':S,'execute':_0x4bb026=>x['editConversation'](_0x4bb026,_0x49ef09)});_0x4e73d4['status'](0xc8)['json'](_0x3297e2);})[_0x48d224(0x1f4)](this['routerPath'](_0x48d224(0x6fc)),..._0x463b64,async(_0x3ba53a,_0x144821)=>{const _0x4cb433=_0x48d224;let _0x2fee64=_0x3ba53a[_0x4cb433(0x39d)];y[_0x4cb433(0x5da)]('request\x20received\x20in\x20deleteConversation'),y[_0x4cb433(0x5da)](_0x4cb433(0x433)),y['verbose'](_0x3ba53a[_0x4cb433(0x39d)]);let _0x1af219=await this[_0x4cb433(0x3a5)]({'request':_0x3ba53a,'schema':M,'ClassRef':S,'execute':_0x18d67a=>x[_0x4cb433(0x6fc)](_0x18d67a,_0x2fee64)});_0x144821[_0x4cb433(0x148)](0xc8)[_0x4cb433(0x688)](_0x1af219);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x59a)),..._0x463b64,async(_0x147ef5,_0x1c71ce)=>{const _0x81a7d8=_0x48d224;let _0xf24e59=_0x147ef5['body'];y[_0x81a7d8(0x5da)](_0x81a7d8(0x2aa)),y['verbose'](_0x81a7d8(0x433)),y[_0x81a7d8(0x5da)](_0x147ef5['body']);let _0x5d5a93=await this[_0x81a7d8(0x3a5)]({'request':_0x147ef5,'schema':M,'ClassRef':S,'execute':_0x212dbb=>x[_0x81a7d8(0x38f)](_0x212dbb,_0xf24e59)});_0x1c71ce[_0x81a7d8(0x148)](0xc8)[_0x81a7d8(0x688)](_0x5d5a93);})['post'](this[_0x48d224(0x621)](_0x48d224(0x24d)),..._0x463b64,async(_0x266af9,_0x3c3153)=>{const _0x12f294=_0x48d224;let _0x5c91ab=_0x266af9[_0x12f294(0x39d)];y['verbose'](_0x12f294(0x214)),y[_0x12f294(0x5da)](_0x12f294(0x433)),y[_0x12f294(0x5da)](_0x266af9[_0x12f294(0x39d)]),delete _0x5c91ab['blocks'],delete _0x5c91ab[_0x12f294(0x1a2)],delete _0x5c91ab[_0x12f294(0x1c7)],delete _0x5c91ab[_0x12f294(0x48a)];let _0x10e4fc=await this[_0x12f294(0x3a5)]({'request':_0x266af9,'schema':M,'ClassRef':S,'execute':_0x5457e1=>x[_0x12f294(0x63b)](_0x5457e1,_0x5c91ab)});_0x3c3153[_0x12f294(0x148)](0xc8)[_0x12f294(0x688)](_0x10e4fc);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x44e)),..._0x463b64,async(_0x3d742a,_0x294086)=>{const _0x24d16a=_0x48d224;let _0x2ca3d6=_0x3d742a[_0x24d16a(0x39d)];y[_0x24d16a(0x5da)](_0x24d16a(0x214)),y[_0x24d16a(0x5da)](_0x24d16a(0x433)),y[_0x24d16a(0x5da)](_0x3d742a['body']);let _0x10e8ed=await this['dataValidate']({'request':_0x3d742a,'schema':M,'ClassRef':S,'execute':_0x269d9b=>x[_0x24d16a(0x33f)](_0x269d9b,_0x2ca3d6)});_0x294086[_0x24d16a(0x148)](0xc8)[_0x24d16a(0x688)](_0x10e8ed);})[_0x48d224(0x263)](this['routerPath'](_0x48d224(0x4c2)),..._0x463b64,async(_0x9dd2cd,_0x12ae56)=>{const _0x2d61f9=_0x48d224;let _0x564730=_0x9dd2cd[_0x2d61f9(0x39d)];y[_0x2d61f9(0x5da)](_0x2d61f9(0x214)),y[_0x2d61f9(0x5da)](_0x2d61f9(0x433)),y[_0x2d61f9(0x5da)](_0x9dd2cd[_0x2d61f9(0x39d)]);let _0x154367=await this[_0x2d61f9(0x3a5)]({'request':_0x9dd2cd,'schema':M,'ClassRef':S,'execute':_0x5e1ef6=>x[_0x2d61f9(0x69d)](_0x5e1ef6,_0x564730)});_0x12ae56[_0x2d61f9(0x148)](0xc8)[_0x2d61f9(0x688)](_0x154367);})['post'](this[_0x48d224(0x621)]('editflowvaredit'),..._0x463b64,async(_0x52d88e,_0x37d3f7)=>{const _0x3b2a11=_0x48d224;let _0x52d6ec=_0x52d88e[_0x3b2a11(0x39d)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x3b2a11(0x5da)](_0x3b2a11(0x433)),y[_0x3b2a11(0x5da)](_0x52d88e['body']);let _0x5e0a87=await this[_0x3b2a11(0x3a5)]({'request':_0x52d88e,'schema':M,'ClassRef':S,'execute':_0x5d21fe=>x[_0x3b2a11(0x1b3)](_0x5d21fe,_0x52d6ec)});_0x37d3f7['status'](0xc8)[_0x3b2a11(0x688)](_0x5e0a87);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x58a)),..._0x463b64,async(_0xfa1ce9,_0x29eb56)=>{const _0x29a0ad=_0x48d224;let _0x377ca9=_0xfa1ce9[_0x29a0ad(0x39d)];y[_0x29a0ad(0x5da)](_0x29a0ad(0x32f)),y[_0x29a0ad(0x5da)](_0x29a0ad(0x433)),y[_0x29a0ad(0x5da)](_0xfa1ce9[_0x29a0ad(0x39d)]);let _0x13d849=await this[_0x29a0ad(0x3a5)]({'request':_0xfa1ce9,'schema':M,'ClassRef':S,'execute':_0x5a778a=>x['editFlowGroup'](_0x5a778a,_0x377ca9)});_0x29eb56[_0x29a0ad(0x148)](0xc8)[_0x29a0ad(0x688)](_0x13d849);})[_0x48d224(0x263)](this['routerPath']('editflowcondition'),..._0x463b64,async(_0x7ca24d,_0x714e8b)=>{const _0x5bca74=_0x48d224;let _0x4592c2=_0x7ca24d['body'];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x5bca74(0x5da)]('request\x20body:\x20'),y[_0x5bca74(0x5da)](_0x7ca24d[_0x5bca74(0x39d)]);let _0xda85b9=await this[_0x5bca74(0x3a5)]({'request':_0x7ca24d,'schema':M,'ClassRef':S,'execute':_0x190fad=>x['editFlowCondition'](_0x190fad,_0x4592c2)});_0x714e8b[_0x5bca74(0x148)](0xc8)['json'](_0xda85b9);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x600)),..._0x463b64,async(_0xa71287,_0x462932)=>{const _0x4fc7b9=_0x48d224;let _0x39714e=_0xa71287[_0x4fc7b9(0x39d)];y['verbose'](_0x4fc7b9(0x669)),y['verbose']('request\x20body:\x20'),y[_0x4fc7b9(0x5da)](_0xa71287['body']);let _0x18f06a=await this[_0x4fc7b9(0x3a5)]({'request':_0xa71287,'schema':M,'ClassRef':S,'execute':_0x31ee10=>x[_0x4fc7b9(0x6e3)](_0x31ee10,_0x39714e)});_0x462932[_0x4fc7b9(0x148)](0xc8)[_0x4fc7b9(0x688)](_0x18f06a);})[_0x48d224(0x263)](this[_0x48d224(0x621)](_0x48d224(0x6b2)),..._0x463b64,async(_0x5307de,_0x589182)=>{const _0x4ac5f0=_0x48d224;let _0x22f1c0=_0x5307de[_0x4ac5f0(0x39d)];y[_0x4ac5f0(0x5da)](_0x4ac5f0(0x5ce)),y[_0x4ac5f0(0x5da)]('request\x20body:\x20'),y['verbose'](_0x5307de[_0x4ac5f0(0x39d)]);let _0x3418e4=await this[_0x4ac5f0(0x3a5)]({'request':_0x5307de,'schema':M,'ClassRef':S,'execute':_0x1c9812=>x[_0x4ac5f0(0x74f)](_0x1c9812,_0x22f1c0)});_0x589182[_0x4ac5f0(0x148)](0xc8)[_0x4ac5f0(0x688)](_0x3418e4);})['delete'](this['routerPath'](_0x48d224(0x5e4)),..._0x463b64,async(_0x12799f,_0x43285c)=>{const _0x1c3a06=_0x48d224;let _0x4f0907=_0x12799f['body'];y[_0x1c3a06(0x5da)](_0x1c3a06(0x6d6)),y['verbose']('request\x20body:\x20'),y[_0x1c3a06(0x5da)](_0x12799f[_0x1c3a06(0x39d)]);let _0xf57a48=await this[_0x1c3a06(0x3a5)]({'request':_0x12799f,'schema':M,'ClassRef':S,'execute':_0x4affb7=>x[_0x1c3a06(0x116)](_0x4affb7,_0x4f0907)});_0x43285c[_0x1c3a06(0x148)](0xc8)['json'](_0xf57a48);})[_0x48d224(0x30a)](this['routerPath']('allflows'),..._0x463b64,async(_0x588190,_0x378e77)=>{const _0x17e4a6=_0x48d224;y[_0x17e4a6(0x5da)]('request\x20received\x20in\x20allFlows');let _0x102c5a=await this[_0x17e4a6(0x3a5)]({'request':_0x588190,'schema':M,'ClassRef':S,'execute':_0xdd99dd=>x[_0x17e4a6(0x38d)](_0xdd99dd)});_0x378e77[_0x17e4a6(0x148)](0xc8)[_0x17e4a6(0x688)](_0x102c5a);});}},Sr=O(require(a0_0x27193d(0x1fb))),X={};function wr(_0x8c4823,_0x90e019,_0x584b60,_0x2611c2){X[_0x8c4823]||(X[_0x8c4823]={}),X[_0x8c4823][_0x90e019]={'id':_0x90e019,'response':_0x584b60,'events':_0x2611c2};}function yr(_0x5a8f92,_0x53b1cb){!X[_0x5a8f92]||!X[_0x5a8f92][_0x53b1cb]||delete X[_0x5a8f92][_0x53b1cb];}function U(_0x472c6b,_0x1f4c8b,_0x44a800){const _0x41ea39=a0_0x27193d;if(!X[_0x472c6b])return;let _0x3ef1f7=_0x41ea39(0x57c)+JSON[_0x41ea39(0x4e8)](_0x44a800)+'\x0a\x0a';Object['values'](X[_0x472c6b])[_0x41ea39(0x6ff)](_0x161f56=>{const _0x2b72da=_0x41ea39;_0x161f56[_0x2b72da(0x4b3)][_0x2b72da(0x53b)](_0x1f4c8b)&&_0x161f56['response'][_0x2b72da(0x34d)](_0x3ef1f7);});}function br(){const _0x1893e2=a0_0x27193d;let _0x1b2501={};for(let _0x1047cf in X)_0x1b2501[_0x1047cf]=Object[_0x1893e2(0x15f)](X[_0x1047cf])[_0x1893e2(0x5e5)](_0x31d04f=>({'id':_0x31d04f['id'],'events':_0x31d04f[_0x1893e2(0x4b3)]}));return _0x1b2501;}var Cr=require('uuid'),vs=require(a0_0x27193d(0x6f7)),Ms=class{},bi=new vs[(a0_0x27193d(0x1a3))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new vs['Schema']({'_id':{'type':String,'default':a0_0x27193d(0x64b)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.['model'](Ms[a0_0x27193d(0x1d6)],Si,a0_0x27193d(0x458)),Ci=Sr[a0_0x27193d(0x359)][a0_0x27193d(0x5aa)](__dirname,a0_0x27193d(0x12d)),It=(0x0,At[a0_0x27193d(0x16a)])(),Ei=b[a0_0x27193d(0x30a)](a0_0x27193d(0x5b8))['TYPE'],se=[Ta,Oa,xa[Ei]];It[a0_0x27193d(0x555)](a0_0x27193d(0x566),At[a0_0x27193d(0x359)][a0_0x27193d(0x278)](Ci))[a0_0x27193d(0x30a)](a0_0x27193d(0x52e),async(_0x12f92b,_0x412883)=>{const _0x4b7767=a0_0x27193d;console[_0x4b7767(0x5c8)](_0x4b7767(0x619));let _0x2896e1=_0x12f92b[_0x4b7767(0x625)][_0x4b7767(0x19b)],_0x12ff9c=(_0x12f92b['query'][_0x4b7767(0x4b3)]||'')[_0x4b7767(0x3d2)](','),_0xa8159e=(0x0,Cr['v4'])();console[_0x4b7767(0x5c8)](_0x4b7767(0x354),_0x2896e1),console[_0x4b7767(0x5c8)](_0x4b7767(0x50d),_0x12ff9c);let _0xc42c51=b['get'](_0x4b7767(0x5b8))[_0x4b7767(0x668)],_0x35895b=_0x12f92b[_0x4b7767(0x674)][_0x4b7767(0x26b)];if(console['log'](_0x4b7767(0x211),_0x35895b),_0xc42c51[_0x4b7767(0x407)]!==_0x35895b){console[_0x4b7767(0x5c8)]('env.KEY\x20!==\x20key');try{let _0xfa157c=await ue[_0x4b7767(0x3e9)][_0x4b7767(0x76e)](_0x2896e1);if(console[_0x4b7767(0x5c8)](_0x4b7767(0x112),_0xfa157c),!_0xfa157c||_0xfa157c[_0x4b7767(0x26b)]!==_0x35895b)return console[_0x4b7767(0x5c8)](_0x4b7767(0x373)),_0x412883[_0x4b7767(0x148)](0x191)[_0x4b7767(0x389)](_0x4b7767(0x330));}catch(_0x34f782){return console[_0x4b7767(0x382)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x34f782),_0x412883[_0x4b7767(0x148)](0x191)[_0x4b7767(0x389)](_0x4b7767(0x253));}}if(!await Xe(_0x2896e1))return _0x412883['status'](0x194)[_0x4b7767(0x389)](_0x4b7767(0x728));_0x412883[_0x4b7767(0x6fa)]('Content-Type',_0x4b7767(0x722)),_0x412883[_0x4b7767(0x6fa)](_0x4b7767(0x22c),_0x4b7767(0x5bd)),_0x412883[_0x4b7767(0x6fa)](_0x4b7767(0x547),_0x4b7767(0x62a)),_0x412883[_0x4b7767(0x47d)]();let _0x5f1cb5=_0x4b7767(0x57c)+JSON['stringify']({'info':_0x4b7767(0x519)})+'\x0a\x0a';_0x412883[_0x4b7767(0x34d)](_0x5f1cb5),wr(_0x2896e1,_0xa8159e,_0x412883,_0x12ff9c),_0x12f92b['on'](_0x4b7767(0x788),()=>{const _0x452b80=_0x4b7767;console[_0x452b80(0x5c8)](_0x452b80(0x421)+_0x2896e1),yr(_0x2896e1,_0xa8159e);});}),It['get'](a0_0x27193d(0x6d9),(_0x293a8c,_0x33bd1d)=>{const _0x37a068=a0_0x27193d;let _0x4e2957=br();_0x33bd1d[_0x37a068(0x688)](_0x4e2957);})[a0_0x27193d(0x30a)]('/',(_0x1aea1d,_0x2af9b7)=>{const _0x534309=a0_0x27193d;let _0x42f643=b[_0x534309(0x30a)]('SERVER')[_0x534309(0x6e2)];if(_0x42f643){let _0x5cae88=encodeURIComponent(''+_0x42f643);_0x2af9b7[_0x534309(0x55f)](_0x534309(0x4c4)+_0x5cae88);return;}let _0x3f5f64=b[_0x534309(0x30a)]('SSL_CONF'),_0x840777=_0x3f5f64&&_0x3f5f64[_0x534309(0x213)][_0x534309(0x3d2)]('/')[0x4];if(_0x840777){let _0x48f789=encodeURIComponent('https://'+_0x840777);_0x2af9b7[_0x534309(0x55f)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x48f789);}else _0x2af9b7[_0x534309(0x55f)]('https://uazapi-plugin.bubbleapps.io/');})['put']('/exit',...se,async(_0x5b7d60,_0x1f86e9)=>{const _0x5c937e=a0_0x27193d;try{console[_0x5c937e(0x5c8)](_0x5c937e(0x785)),_0x1f86e9[_0x5c937e(0x148)](0xc8)[_0x5c937e(0x688)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x1f86e9['on'](_0x5c937e(0x629),()=>process[_0x5c937e(0x66e)](0x0));}catch(_0x3ca3e3){console['error'](_0x5c937e(0x4e3),_0x3ca3e3),_0x1f86e9['status'](0x1f4)['json']({'message':_0x5c937e(0x556)});}})[a0_0x27193d(0x124)](a0_0x27193d(0x281),...se,async(_0xb8fcf2,_0x4de0ba)=>{const _0x5347b9=a0_0x27193d;try{let _0x3a3895=_0xb8fcf2[_0x5347b9(0x39d)];await ye['updateOne']({},{'$set':_0x3a3895},{'upsert':!0x0});let _0x3d0ad3=await ye[_0x5347b9(0x5d3)]();_0x4de0ba[_0x5347b9(0x688)](_0x3d0ad3);}catch(_0x179acf){_0x4de0ba['status'](0x190)['send'](_0x179acf[_0x5347b9(0x5a7)]);}})[a0_0x27193d(0x30a)](a0_0x27193d(0x281),...se,async(_0x2505f6,_0x9fd603)=>{const _0x2bb2f4=a0_0x27193d;try{let _0x4e830b=await ye[_0x2bb2f4(0x5d3)]();if(!_0x4e830b)return _0x9fd603[_0x2bb2f4(0x688)]({});_0x9fd603[_0x2bb2f4(0x688)](_0x4e830b);}catch(_0x1b56b4){_0x9fd603[_0x2bb2f4(0x148)](0x1f4)[_0x2bb2f4(0x389)](_0x1b56b4[_0x2bb2f4(0x5a7)]);}})[a0_0x27193d(0x555)](a0_0x27193d(0x1ba),new gt(b,...se)[a0_0x27193d(0x78f)])[a0_0x27193d(0x555)]('/message',new Nt(...se)[a0_0x27193d(0x78f)])[a0_0x27193d(0x555)]('/chat',new rt(...se)[a0_0x27193d(0x78f)])[a0_0x27193d(0x555)](a0_0x27193d(0x5ee),new ht(...se)[a0_0x27193d(0x78f)])[a0_0x27193d(0x555)](a0_0x27193d(0x5f5),new Tt(...se)['router'])[a0_0x27193d(0x555)](a0_0x27193d(0x745),new Ot(...se)['router']);var w=class{constructor(..._0x3d6359){const _0x53e176=a0_0x27193d;throw{'status':0x190,'error':_0x53e176(0x2fc),'message':_0x3d6359[_0x53e176(0x237)]>0x0?_0x3d6359:void 0x0};}},te=class{constructor(..._0x2910a8){const _0x4ca004=a0_0x27193d;throw{'status':0x191,'error':_0x4ca004(0x489),'message':_0x2910a8[_0x4ca004(0x237)]>0x0?_0x2910a8:void 0x0};}},K=class{constructor(..._0x550c78){const _0x56de17=a0_0x27193d;throw{'status':0x193,'error':_0x56de17(0x502),'message':_0x550c78[_0x56de17(0x237)]>0x0?_0x550c78:void 0x0};}},j=class{constructor(..._0x470028){const _0x591cd2=a0_0x27193d;throw{'status':0x194,'error':_0x591cd2(0x5b5),'message':_0x470028[_0x591cd2(0x237)]>0x0?_0x470028:void 0x0};}},I=class{constructor(..._0x387990){const _0x3f4cb1=a0_0x27193d;throw{'status':0x1f4,'error':_0x3f4cb1(0x194),'message':_0x387990['length']>0x0?_0x387990:void 0x0};}},de=require(a0_0x27193d(0x190));async function Ns(_0x79e7cb){const _0x29d6b7=a0_0x27193d;let _0x1e9edc=new v(Ns[_0x29d6b7(0x1d6)]),_0xfdcccd=N[_0x29d6b7(0x268)](),_0x225a09=_0xfdcccd['db'](b[_0x29d6b7(0x30a)](_0x29d6b7(0x647))[_0x29d6b7(0x32c)][_0x29d6b7(0x6e5)]+'-instances')[_0x29d6b7(0x2d3)](_0x79e7cb),_0x1171c5=async(_0x15166d,_0x3a1eb5)=>{const _0x245659=_0x29d6b7;try{return await _0xfdcccd['connect'](),await _0x225a09['replaceOne']({'_id':_0x3a1eb5},JSON[_0x245659(0x305)](JSON['stringify'](_0x15166d,de[_0x245659(0x48c)][_0x245659(0x3f3)])),{'upsert':!0x0});}catch{}},_0x5ee646=async _0x49a219=>{const _0x9fff01=_0x29d6b7;try{await _0xfdcccd[_0x9fff01(0x6c3)]();let _0x4f3411=await _0x225a09[_0x9fff01(0x5d3)]({'_id':_0x49a219}),_0x43c994=JSON[_0x9fff01(0x4e8)](_0x4f3411);return JSON[_0x9fff01(0x305)](_0x43c994,de['BufferJSON'][_0x9fff01(0x673)]);}catch{}},_0x56a97c=async _0x4bf86a=>{const _0x2ce9f1=_0x29d6b7;try{return await _0xfdcccd[_0x2ce9f1(0x6c3)](),await _0x225a09[_0x2ce9f1(0x40d)]({'_id':_0x4bf86a});}catch{}},_0x5e1b18=await _0x5ee646(_0x29d6b7(0x177))||(0x0,de[_0x29d6b7(0x711)])();return{'state':{'creds':_0x5e1b18,'keys':{'get':async(_0x53d6c4,_0x9282bd)=>{const _0x368238=_0x29d6b7;let _0x2bbf07={};return await Promise[_0x368238(0x60e)](_0x9282bd['map'](async _0x48cbea=>{const _0xb896b7=_0x368238;let _0x2f8042=await _0x5ee646(_0x53d6c4+'-'+_0x48cbea);_0x53d6c4===_0xb896b7(0x6e4)&&_0x2f8042&&(_0x2f8042=de[_0xb896b7(0x156)][_0xb896b7(0x6ee)][_0xb896b7(0x3b0)][_0xb896b7(0x5de)](_0x2f8042)),_0x2bbf07[_0x48cbea]=_0x2f8042;})),_0x2bbf07;},'set':async _0x57cf61=>{const _0x5646ab=_0x29d6b7;let _0x3cbb99=[];for(let _0x122f0b in _0x57cf61)for(let _0x44e75b in _0x57cf61[_0x122f0b]){let _0x35c176=_0x57cf61[_0x122f0b][_0x44e75b],_0x3f8f44=_0x122f0b+'-'+_0x44e75b;_0x3cbb99[_0x5646ab(0x7b6)](_0x35c176?_0x1171c5(_0x35c176,_0x3f8f44):_0x56a97c(_0x3f8f44));}await Promise[_0x5646ab(0x60e)](_0x3cbb99);}}},'saveCreds':async()=>_0x1171c5(_0x5e1b18,_0x29d6b7(0x177))};}var As=O(require(a0_0x27193d(0x39c))),Is=O(require(a0_0x27193d(0x3c4))),_t=require('@whiskeysockets/baileys'),Er=require('@redis/client'),Dt=require(a0_0x27193d(0x190)),xt;function Mi(_0x15edd8){const _0x3cb122=a0_0x27193d;return xt||(xt=(0x0,Er[_0x3cb122(0x554)])({'url':_0x15edd8[_0x3cb122(0x5a2)]}),xt[_0x3cb122(0x6c3)]()),xt;}var ne=class c{constructor(_0x4c9e02,_0x43e049){const _0x1e1064=a0_0x27193d;this[_0x1e1064(0x471)]=_0x4c9e02,this[_0x1e1064(0x261)]=_0x43e049,this['logger']=new v(c['name']),this[_0x1e1064(0x5e0)]=Mi(_0x4c9e02);}set[a0_0x27193d(0x3df)](_0x5be76f){const _0x164b66=a0_0x27193d;this[_0x164b66(0x261)]=_0x5be76f;}async[a0_0x27193d(0x397)](){const _0x25bc88=a0_0x27193d;try{return await this[_0x25bc88(0x5e0)][_0x25bc88(0x3ce)]([_0x25bc88(0x28f),this[_0x25bc88(0x471)]['PREFIX_KEY']+':*']);}catch(_0x5aa80b){this[_0x25bc88(0x2a3)][_0x25bc88(0x382)](_0x5aa80b);}}async['writeData'](_0x5cc5c7,_0x1aa6ba){const _0x36e068=a0_0x27193d;try{let _0x5149d4=JSON[_0x36e068(0x4e8)](_0x1aa6ba,Dt['BufferJSON'][_0x36e068(0x3f3)]);return await this['client'][_0x36e068(0x6d0)](this['redisEnv'][_0x36e068(0x1f6)]+':'+this[_0x36e068(0x261)],_0x5cc5c7,_0x5149d4);}catch(_0x316698){this[_0x36e068(0x2a3)][_0x36e068(0x382)](_0x316698);}}async[a0_0x27193d(0x440)](){const _0x9f1454=a0_0x27193d;try{let _0x2aeaa0=await this[_0x9f1454(0x5e0)]['hGetAll'](this[_0x9f1454(0x471)][_0x9f1454(0x1f6)]+':'+this['instanceName']);if(_0x2aeaa0){for(let _0x5db126 in _0x2aeaa0)Object[_0x9f1454(0x3bc)][_0x9f1454(0x453)][_0x9f1454(0x1fc)](_0x2aeaa0,_0x5db126)&&(_0x2aeaa0[_0x5db126]=JSON[_0x9f1454(0x305)](_0x2aeaa0[_0x5db126],Dt[_0x9f1454(0x48c)]['reviver']));return _0x2aeaa0;}}catch(_0x1c9243){this['logger'][_0x9f1454(0x382)](_0x1c9243);}}async['readData'](_0x154c51){const _0x2da784=a0_0x27193d;try{let _0xb2c1c4=await this[_0x2da784(0x5e0)][_0x2da784(0x1a7)](this[_0x2da784(0x471)]['PREFIX_KEY']+':'+this[_0x2da784(0x261)],_0x154c51);if(_0xb2c1c4)return JSON[_0x2da784(0x305)](_0xb2c1c4,Dt['BufferJSON'][_0x2da784(0x673)]);}catch(_0x3919cf){this['logger']['error'](_0x3919cf);}}async[a0_0x27193d(0x17f)](_0x102fa8){const _0x57ed27=a0_0x27193d;try{return await this['client'][_0x57ed27(0x20e)](this['redisEnv'][_0x57ed27(0x1f6)]+':'+this[_0x57ed27(0x261)],_0x102fa8);}catch(_0x553adf){this[_0x57ed27(0x2a3)]['error'](_0x553adf);}}async[a0_0x27193d(0x641)](_0x2a7601){const _0x54e4a0=a0_0x27193d;try{return await this[_0x54e4a0(0x5e0)][_0x54e4a0(0x143)](_0x2a7601||this[_0x54e4a0(0x471)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x542a4a){this[_0x54e4a0(0x2a3)][_0x54e4a0(0x382)](_0x542a4a);}}};async function Rs(_0x2337b7,_0x2738c9){const _0x3612a9=a0_0x27193d;let _0xad6339=new v(Rs[_0x3612a9(0x1d6)]),_0x2ae507=new ne(_0x2337b7,_0x2738c9),_0x200092=async(_0x19bc99,_0x204dc0)=>{const _0x48a1fb=_0x3612a9;try{return await _0x2ae507[_0x48a1fb(0x198)](_0x204dc0,_0x19bc99);}catch(_0x372a1a){return _0xad6339[_0x48a1fb(0x382)]({'localError':_0x48a1fb(0x198),'error':_0x372a1a});}},_0x1a14ce=async _0x5b88bb=>{const _0x4642db=_0x3612a9;try{return await _0x2ae507['readData'](_0x5b88bb);}catch(_0x4cf047){_0xad6339['error']({'readData':_0x4642db(0x198),'error':_0x4cf047});return;}},_0x54489a=async _0x53605e=>{const _0x475245=_0x3612a9;try{return await _0x2ae507[_0x475245(0x17f)](_0x53605e);}catch(_0x4e052a){_0xad6339[_0x475245(0x382)]({'readData':_0x475245(0x17f),'error':_0x4e052a});}},_0x48e7df=await _0x1a14ce(_0x3612a9(0x177))||(0x0,_t[_0x3612a9(0x711)])();return{'state':{'creds':_0x48e7df,'keys':{'get':async(_0x48e2a3,_0x56fbee)=>{let _0x353be3={};return await Promise['all'](_0x56fbee['map'](async _0x4b6886=>{const _0x589589=a0_0x4236;let _0x4bcfe5=await _0x1a14ce(_0x48e2a3+'-'+_0x4b6886);_0x48e2a3===_0x589589(0x6e4)&&_0x4bcfe5&&(_0x4bcfe5=_t[_0x589589(0x156)]['Message'][_0x589589(0x3b0)][_0x589589(0x5de)](_0x4bcfe5)),_0x353be3[_0x4b6886]=_0x4bcfe5;})),_0x353be3;},'set':async _0x5035d3=>{const _0x48af6c=_0x3612a9;let _0x107c91=[];for(let _0x3981a1 in _0x5035d3)for(let _0x2af544 in _0x5035d3[_0x3981a1]){let _0x1d3302=_0x5035d3[_0x3981a1][_0x2af544],_0xf73654=_0x3981a1+'-'+_0x2af544;_0x107c91['push'](_0x1d3302?await _0x200092(_0x1d3302,_0xf73654):await _0x54489a(_0xf73654));}await Promise[_0x48af6c(0x60e)](_0x107c91);}}},'saveCreds':async()=>await _0x200092(_0x48e7df,_0x3612a9(0x177))};}var q=O(require('fs')),Re=require(a0_0x27193d(0x5a6)),Lt=O(require(a0_0x27193d(0x7b8))),jt=require(a0_0x27193d(0x28c)),vi=a0_0x27193d(0x457)[a0_0x27193d(0x19c)](),Pt=vi[a0_0x27193d(0x3d2)]('\x0a')[a0_0x27193d(0x5e5)](_0x18635f=>{const _0x3009b2=a0_0x27193d;let _0x36733e=_0x18635f['split'](':'),_0x403928={'host':_0x36733e[0x0],'port':_0x36733e[0x1],'protocol':'http'};return _0x36733e[_0x3009b2(0x237)]===0x4&&(_0x403928[_0x3009b2(0x563)]=_0x36733e[0x2],_0x403928['password']=_0x36733e[0x3]),_0x403928;});function Mr(_0x438f18){const _0x5eec68=a0_0x27193d;return Pt[_0x5eec68(0x76e)](_0x86b816=>_0x86b816['host']===_0x438f18)||null;}function vr(){const _0x22f549=a0_0x27193d;if(Pt['length']===0x0)return null;let _0x2e0b4d=Math[_0x22f549(0x743)](Math['random']()*Pt[_0x22f549(0x237)]);return Pt[_0x2e0b4d];}function Ts(_0x59da79){const _0x2fafdb=a0_0x27193d;let _0x392c61=_0x22de88=>typeof _0x22de88=='string'&&_0x22de88[_0x2fafdb(0x237)]>0x0,_0x41af4b=_0x478cda=>{let _0x16a31e=parseInt(_0x478cda,0xa);return!isNaN(_0x16a31e)&&_0x16a31e>0x0&&_0x16a31e<=0xffff;},_0x373393=_0x12acf6=>typeof _0x12acf6==_0x2fafdb(0x39f)&&_0x12acf6[_0x2fafdb(0x237)]>0x0;return _0x59da79&&_0x392c61(_0x59da79['host'])&&_0x41af4b(_0x59da79[_0x2fafdb(0x76c)])&&(!_0x59da79[_0x2fafdb(0x563)]||_0x373393(_0x59da79[_0x2fafdb(0x563)]))&&(!_0x59da79[_0x2fafdb(0x512)]||_0x373393(_0x59da79['password']))&&(_0x59da79[_0x2fafdb(0x5cf)]===_0x2fafdb(0x685)||_0x59da79[_0x2fafdb(0x5cf)]===_0x2fafdb(0x6f6));}var xs=require(a0_0x27193d(0x679)),Ds=a0_0x27193d(0x72d),xr,ce=null,Nr=null,et=null,Ni=0x3,Ri=null;async function Ti(){const _0x19258f=a0_0x27193d;let _0x13cc7c=await ye[_0x19258f(0x5d3)]();ce=_0x13cc7c?.['WebhookGlobal']??null,Ri=_0x13cc7c?.['DaysToDelete']??null,Ds=_0x13cc7c?.[_0x19258f(0x2c2)]??_0x19258f(0x72d),xr=_0x13cc7c?.['connectedName']??_s??_0x19258f(0x47e),console[_0x19258f(0x5c8)]('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x13cc7c);}async function Oi(){await Ti();}Oi();var Rr={},ae={},be=class c{constructor(_0x30e107,_0x9a0e35,_0x3b1759){const _0x56b6a3=a0_0x27193d;this[_0x56b6a3(0x29f)]=_0x30e107,this[_0x56b6a3(0x34b)]=_0x9a0e35,this['repository']=_0x3b1759,this['AutomateSystem']=null,this['logger']=new v(c[_0x56b6a3(0x1d6)]),this[_0x56b6a3(0x19b)]={},this[_0x56b6a3(0x64a)]={},this[_0x56b6a3(0x41c)]={'state':_0x56b6a3(0x788)},this['storePath']=(0x0,J[_0x56b6a3(0x5aa)])(ie,'downloads'),this['msgRetryCounterCache']=new Is['default'](),this[_0x56b6a3(0x49e)]=new Is[(_0x56b6a3(0x359))](),this[_0x56b6a3(0x6e0)]=!0x1,this[_0x56b6a3(0x725)]={'status.instance':_0x56b6a3(0x6fe),'connection.update':_0x56b6a3(0x6fe),'qrcode.updated':_0x56b6a3(0x13a),'messages.upsert':_0x56b6a3(0x578),'send.message':_0x56b6a3(0x578),'messages.update':_0x56b6a3(0x49b),'group.upsert':_0x56b6a3(0x481),'group.update':_0x56b6a3(0x481),'group-participants.update':'/wa-groups','messages.set':_0x56b6a3(0x286),'contacts.set':_0x56b6a3(0x793),'contacts.upsert':_0x56b6a3(0x793),'contacts.update':_0x56b6a3(0x793),'presence.update':'/wa-presence','chats.set':_0x56b6a3(0x4f2),'chats.update':_0x56b6a3(0x4f2),'chats.upsert':_0x56b6a3(0x4f2),'chats.delete':'/wa-chats'},this[_0x56b6a3(0x56f)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x56b6a3(0x78c)]=!0x1,this[_0x56b6a3(0x14f)]={'chats.upsert':async(_0x46d545,_0x2c64e3)=>{const _0x58683d=_0x56b6a3;let _0x32463c=[];for await(let _0x2a49bc of _0x46d545)_0x32463c[_0x58683d(0x7b6)]({'_id':_0x2a49bc['id'],'owner':this[_0x58683d(0x19b)][_0x58683d(0x473)],'group':_0x2a49bc['id'][_0x58683d(0x5c6)](_0x58683d(0x47f)),'name':_0x2a49bc['name']||_0x2a49bc['displayName']||null,'contactname':null,'lastmsg':_0x2a49bc['conversationTimestamp']&&_0x2a49bc['conversationTimestamp'][_0x58683d(0x1ec)]()[_0x58683d(0x237)]<0xd?_0x2a49bc['conversationTimestamp']*0x3e8:_0x2a49bc[_0x58683d(0x37c)]||null,'archived':_0x2a49bc[_0x58683d(0x5c7)]||!0x1,'unreadcount':_0x2a49bc[_0x58683d(0x608)]||0x0});this['sendDataWebhook'](_0x58683d(0x3d0),_0x32463c);},'chats.update':async(_0x119341,_0x2b7824)=>{const _0x17c986=_0x56b6a3;for(let _0x4a4e0b of _0x119341){let _0x57d524={'_id':_0x4a4e0b['id'],'owner':this['instance'][_0x17c986(0x473)],'group':_0x4a4e0b['id'][_0x17c986(0x5c6)](_0x17c986(0x47f)),'name':_0x4a4e0b[_0x17c986(0x1d6)]||_0x4a4e0b[_0x17c986(0x498)],'archived':_0x4a4e0b['archived'],'ephemeralExpiration':_0x4a4e0b[_0x17c986(0x12f)]},_0xa05d89=!0x1,_0x58b001={};_0x57d524['archived']!=null&&(this[_0x17c986(0x2a3)][_0x17c986(0x5da)](this[_0x17c986(0x261)]+'\x20('+this[_0x17c986(0x19b)][_0x17c986(0x473)]+_0x17c986(0x487)+_0x4a4e0b[_0x17c986(0x5c7)]),_0xa05d89=!0x0,_0x58b001['archived']=_0x4a4e0b[_0x17c986(0x5c7)]),_0x4a4e0b[_0x17c986(0x1d6)]!=null&&(this[_0x17c986(0x2a3)][_0x17c986(0x5da)](this[_0x17c986(0x261)]+'\x20('+this[_0x17c986(0x19b)]['wuid']+_0x17c986(0x1da)+_0x4a4e0b[_0x17c986(0x1d6)]),_0xa05d89=!0x0,_0x58b001[_0x17c986(0x1d6)]=_0x4a4e0b[_0x17c986(0x1d6)]),_0x4a4e0b['displayName']!=null&&(this[_0x17c986(0x2a3)][_0x17c986(0x5da)](this[_0x17c986(0x261)]+'\x20('+this[_0x17c986(0x19b)][_0x17c986(0x473)]+_0x17c986(0x390)+_0x4a4e0b[_0x17c986(0x498)]),_0xa05d89=!0x0,_0x58b001['name']=_0x4a4e0b[_0x17c986(0x498)]);let _0xe8093b;_0xa05d89&&(_0xe8093b=await this[_0x17c986(0x418)]['chat'][_0x17c986(0x5f2)]({'where':{'_id':_0x4a4e0b['id']}},_0x58b001,this[_0x17c986(0x19b)]['wuid'])),_0xe8093b&&U(this[_0x17c986(0x261)],'chats',{'chat':_0xe8093b});}},'chats.delete':async _0x2a9f03=>{const _0x2d8663=_0x56b6a3;for(let _0x2e087d of _0x2a9f03)if(_0x2e087d[_0x2d8663(0x5c6)](_0x2d8663(0x47f))){await this[_0x2d8663(0x418)]['chat']['delete']({'where':{'_id':_0x2e087d}},this['instance'][_0x2d8663(0x473)]);let _0x1cb4ad={'where':{'key':{'remoteJid':_0x2e087d}}};await this[_0x2d8663(0x418)]['message'][_0x2d8663(0x1f4)](_0x1cb4ad,this[_0x2d8663(0x19b)][_0x2d8663(0x473)]);}else{await this['repository'][_0x2d8663(0x396)][_0x2d8663(0x5f2)]({'where':{'_id':_0x2e087d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2d8663(0x19b)]['wuid']);let _0x4d7b07={'where':{'key':{'remoteJid':_0x2e087d}}};await this['repository']['message']['delete'](_0x4d7b07,this[_0x2d8663(0x19b)][_0x2d8663(0x473)]);}this['sendDataWebhook'](_0x2d8663(0x69f),[..._0x2a9f03]);}},this[_0x56b6a3(0x559)]={'contacts.upsert':async(_0xbaf8c,_0xe93a1)=>{const _0x4696a5=_0x56b6a3;let _0x4243a7=await this[_0x4696a5(0x418)][_0x4696a5(0x242)][_0x4696a5(0x76e)]({'where':{}},this[_0x4696a5(0x19b)][_0x4696a5(0x473)]),_0x4d94b6=[];for await(let _0x5cf62a of _0xbaf8c)_0x4243a7['find'](_0x499d71=>_0x499d71[_0x4696a5(0x310)]===_0x5cf62a['id'])||_0x4d94b6[_0x4696a5(0x7b6)]({'_id':_0x5cf62a['id'],'pushName':_0x5cf62a?.[_0x4696a5(0x1d6)]||_0x5cf62a?.[_0x4696a5(0x50e)],'owner':this[_0x4696a5(0x19b)][_0x4696a5(0x473)]});this[_0x4696a5(0x255)]('contacts.upsert',_0x4d94b6),await this[_0x4696a5(0x418)][_0x4696a5(0x242)][_0x4696a5(0x12e)](_0x4d94b6);},'contacts.update':async(_0x52292e,_0x228bb8)=>{const _0x131e58=_0x56b6a3;let _0x23ff0f=[];for await(let _0x4b5c39 of _0x52292e)_0x23ff0f['push']({'_id':_0x4b5c39['id'],'pushName':_0x4b5c39?.['name']??_0x4b5c39?.['verifiedName'],'owner':this[_0x131e58(0x19b)]['wuid']});this[_0x131e58(0x255)]('contacts.update',_0x23ff0f);}},this[_0x56b6a3(0x6c6)]={'messaging-history.set':async({messages:_0x388a97,chats:_0x281304,isLatest:_0x5b2307},_0x46f5d3)=>{const _0x1acef2=_0x56b6a3;if(_0x5b2307){let _0x43c852=await Promise[_0x1acef2(0x60e)](_0x281304[_0x1acef2(0x5e5)](async _0x5ebcf0=>({'_id':_0x5ebcf0['id'],'owner':this[_0x1acef2(0x19b)][_0x1acef2(0x473)],'group':_0x5ebcf0['id'][_0x1acef2(0x5c6)]('@g.us'),'name':_0x5ebcf0[_0x1acef2(0x1d6)]||_0x5ebcf0[_0x1acef2(0x498)]||null,'contactname':null,'lastmsg':_0x5ebcf0[_0x1acef2(0x37c)]&&_0x5ebcf0[_0x1acef2(0x37c)]['toString']()['length']<0xd?_0x5ebcf0[_0x1acef2(0x37c)]*0x3e8:_0x5ebcf0[_0x1acef2(0x37c)]||null,'archived':_0x5ebcf0[_0x1acef2(0x5c7)]||!0x1,'unreadcount':_0x5ebcf0[_0x1acef2(0x608)]||0x0})));this[_0x1acef2(0x255)]('chats.set',_0x43c852),await this[_0x1acef2(0x6b0)](_0x43c852,_0x46f5d3);}let _0x59fd87=[],_0x238780=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3b960a]of Object[_0x1acef2(0x451)](_0x388a97)){if(_0x3b960a[_0x1acef2(0x5a7)]?.[_0x1acef2(0x246)]||_0x3b960a['message']?.[_0x1acef2(0x766)]||!_0x3b960a[_0x1acef2(0x5a7)]||_0x3b960a[_0x1acef2(0x721)]['remoteJid']==='status@broadcast'||(As[_0x1acef2(0x359)][_0x1acef2(0x4be)](_0x3b960a?.[_0x1acef2(0x14d)])&&(_0x3b960a[_0x1acef2(0x14d)]=_0x3b960a['messageTimestamp']?.[_0x1acef2(0x5bf)]()),_0x3b960a['messageTimestamp']&&_0x3b960a[_0x1acef2(0x14d)][_0x1acef2(0x1ec)]()[_0x1acef2(0x237)]<0xd&&(_0x3b960a[_0x1acef2(0x14d)]=_0x3b960a[_0x1acef2(0x14d)]*0x3e8),_0x3b960a[_0x1acef2(0x14d)]<_0x238780))continue;let _0x15d154=(0x0,m['normalizeMessageContent'])(_0x3b960a[_0x1acef2(0x5a7)]),_0x2419e7=(0x0,m['getContentType'])(_0x15d154),{message_normalized:_0x2bc11d}=this[_0x1acef2(0x409)](_0x15d154,_0x2419e7,null);Object[_0x1acef2(0x28f)](_0x2bc11d)['length']>0x0&&_0x59fd87['push']({'_id':_0x3b960a['key']['id'],'key':_0x3b960a[_0x1acef2(0x721)],'pushName':_0x3b960a[_0x1acef2(0x153)],'participant':_0x3b960a[_0x1acef2(0x71a)],'message':_0x15d154,'messageType':_0x2419e7,'message_normalized':{'key':_0x3b960a['key'],'pushName':_0x3b960a[_0x1acef2(0x153)],'messageTimestamp':_0x3b960a[_0x1acef2(0x14d)],..._0x2bc11d},'messageTimestamp':_0x3b960a['messageTimestamp'],'owner':this[_0x1acef2(0x19b)][_0x1acef2(0x473)]});}_0x46f5d3[_0x1acef2(0x323)]&&_0x59fd87['length']>0x0&&(this[_0x1acef2(0x2a3)][_0x1acef2(0x5da)](this[_0x1acef2(0x261)]+'\x20('+this[_0x1acef2(0x19b)][_0x1acef2(0x473)]+_0x1acef2(0x4d5)+_0x59fd87['length']+'\x20mensagens\x20de\x20'+this[_0x1acef2(0x19b)]['wuid']+_0x1acef2(0x2f4)),await this[_0x1acef2(0x418)][_0x1acef2(0x5a7)][_0x1acef2(0x12e)]([..._0x59fd87],this['instance'][_0x1acef2(0x473)])),this['sendDataWebhook']('messages.set',[..._0x59fd87]),_0x388a97=void 0x0;},'messages.upsert':async({messages:_0x27c60e,type:_0x6d6ef7},_0x4b7668)=>{const _0x3c862c=_0x56b6a3;let _0x41c421=_0x27c60e[0x0],_0x2c0772=_0x41c421[_0x3c862c(0x721)]['id'],_0x4e125d=_0x41c421[_0x3c862c(0x483)]===0x2,_0xfeda96=0xb;if(this[_0x3c862c(0x64a)]?.[_0x3c862c(0x66b)]&&_0x41c421[_0x3c862c(0x721)][_0x3c862c(0x682)]['includes'](_0x3c862c(0x47f))){this[_0x3c862c(0x2a3)][_0x3c862c(0x5da)](this[_0x3c862c(0x261)]+'\x20('+this[_0x3c862c(0x19b)]['wuid']+_0x3c862c(0x3fb));return;}if(_0x4e125d){if(ae[_0x2c0772]||(ae[_0x2c0772]=0x0),ae[_0x2c0772]++,this[_0x3c862c(0x2a3)][_0x3c862c(0x382)](this[_0x3c862c(0x261)]+'\x20('+this[_0x3c862c(0x19b)][_0x3c862c(0x473)]+_0x3c862c(0x708)+_0x41c421['key'][_0x3c862c(0x682)]+_0x3c862c(0x58f)+_0x2c0772+':\x20'+ae[_0x2c0772]+'/'+_0xfeda96),ae[_0x2c0772]>=_0xfeda96){this[_0x3c862c(0x2a3)]['error'](this['instanceName']+'\x20('+this[_0x3c862c(0x19b)][_0x3c862c(0x473)]+_0x3c862c(0x435)+_0x41c421['key'][_0x3c862c(0x682)]+'\x20e\x20ID='+_0x2c0772+'.');let _0x58d769={'key':{..._0x41c421[_0x3c862c(0x721)]},'message':{'conversation':_0x3c862c(0x2d5)+_0x2c0772+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this['client']['ev']['emit'](_0x3c862c(0x13c),{'messages':[_0x58d769],'type':_0x3c862c(0x1a0)}),delete ae[_0x2c0772];}}else ae[_0x2c0772]&&(this[_0x3c862c(0x2a3)][_0x3c862c(0x4a4)](_0x3c862c(0x582)+ae[_0x2c0772]+'\x20tentativas:\x20remotejid='+_0x41c421['key']['remoteJid']+_0x3c862c(0x58f)+_0x2c0772),delete ae[_0x2c0772]);if(_0x6d6ef7!=='notify'||!_0x41c421?.['message']||_0x41c421[_0x3c862c(0x5a7)]?.[_0x3c862c(0x246)]||_0x41c421[_0x3c862c(0x5a7)]['senderKeyDistributionMessage']||_0x41c421[_0x3c862c(0x721)][_0x3c862c(0x682)]===_0x3c862c(0x4eb))return;let _0x2ea209=null,_0x29c865=null;try{_0x2ea209=await this['processPollUpdateMessage'](_0x41c421),_0x29c865=_0x2ea209?_0x2ea209[_0x3c862c(0x5aa)](','):null;}catch(_0x190a4e){this[_0x3c862c(0x2a3)][_0x3c862c(0x5da)](this[_0x3c862c(0x261)]+'\x20('+this['instance']['wuid']+_0x3c862c(0x4d5)+(_0x190a4e instanceof Error?_0x190a4e[_0x3c862c(0x5a7)]:JSON['stringify'](_0x190a4e,null,0x2))),_0x29c865=_0x3c862c(0x65b);}this[_0x3c862c(0x5e0)][_0x3c862c(0x16f)](_0x3c862c(0x416)),As[_0x3c862c(0x359)][_0x3c862c(0x4be)](_0x41c421[_0x3c862c(0x14d)])&&(_0x41c421['messageTimestamp']=_0x41c421[_0x3c862c(0x14d)]?.[_0x3c862c(0x5bf)]()),_0x41c421[_0x3c862c(0x14d)]&&_0x41c421[_0x3c862c(0x14d)][_0x3c862c(0x1ec)]()[_0x3c862c(0x237)]<0xd&&(_0x41c421[_0x3c862c(0x14d)]=_0x41c421[_0x3c862c(0x14d)]*0x3e8);let _0x1c5106=_0x41c421['message'],_0x2358d7=(0x0,m[_0x3c862c(0x2ec)])(_0x1c5106),_0x212473=(0x0,m['getContentType'])(_0x2358d7),{messageContent:_0x48be8f,message_normalized:_0x4d1ee7}=this[_0x3c862c(0x409)](_0x2358d7,_0x212473,_0x29c865);_0x212473===_0x3c862c(0x246)&&_0x48be8f?.[_0x3c862c(0x6e6)]&&(_0x212473=_0x3c862c(0x6e6));let _0x20a38f,_0x274ea8=_0x41c421[_0x3c862c(0x721)][_0x3c862c(0x682)]['endsWith'](_0x3c862c(0x47f));if(_0x41c421['key']['fromMe'])_0x20a38f=this[_0x3c862c(0x19b)][_0x3c862c(0x20c)];else{let _0xbce560=_0x274ea8?_0x41c421[_0x3c862c(0x721)]['participant']:_0x41c421[_0x3c862c(0x721)][_0x3c862c(0x682)];_0x20a38f=(await this[_0x3c862c(0x3eb)](_0xbce560,_0x41c421[_0x3c862c(0x153)],!0x1))[_0x3c862c(0x16e)]['pictureUrl'];}let _0x7359d={'_id':_0x41c421[_0x3c862c(0x721)]['id'],'key':_0x41c421[_0x3c862c(0x721)],'isGroup':_0x274ea8,'profilePictureUrl':_0x20a38f,'pushName':_0x41c421[_0x3c862c(0x153)],'message':_0x2358d7,'messageType':_0x212473,'message_normalized':{'key':_0x41c421[_0x3c862c(0x721)],'pushName':_0x41c421[_0x3c862c(0x153)],'messageTimestamp':_0x41c421['messageTimestamp'],'source':(0x0,m[_0x3c862c(0x404)])(_0x41c421['key']['id']),..._0x4d1ee7},'messageTimestamp':_0x41c421[_0x3c862c(0x14d)],'owner':this[_0x3c862c(0x19b)][_0x3c862c(0x473)],'source':(0x0,m[_0x3c862c(0x404)])(_0x41c421[_0x3c862c(0x721)]['id'])};_0x48be8f||(console['error'](_0x3c862c(0x7b7)),this[_0x3c862c(0x2a3)][_0x3c862c(0x382)](_0x7359d)),this['logger'][_0x3c862c(0x5c8)](this[_0x3c862c(0x261)]+'\x20('+this[_0x3c862c(0x19b)][_0x3c862c(0x473)]+_0x3c862c(0x4d5)+(_0x7359d[_0x3c862c(0x721)]?.[_0x3c862c(0x3a3)]?_0x3c862c(0x640):_0x3c862c(0x7a1))+'\x20['+_0x7359d[_0x3c862c(0x721)]?.['remoteJid'][_0x3c862c(0x468)](_0x3c862c(0x7c8),'')+_0x3c862c(0x576)+_0x7359d['messageType']+')'),_0x7359d[_0x3c862c(0x35f)]?.[_0x3c862c(0x69b)]&&this[_0x3c862c(0x2a3)][_0x3c862c(0x5c8)](_0x2c0772+':\x20'+_0x7359d[_0x3c862c(0x35f)]?.[_0x3c862c(0x69b)]),await this['repository'][_0x3c862c(0x5a7)][_0x3c862c(0x12e)]([_0x7359d],this[_0x3c862c(0x19b)]['wuid']),this[_0x3c862c(0x255)](_0x3c862c(0x13c),_0x7359d),U(this[_0x3c862c(0x261)],_0x3c862c(0x6ab),{'message':_0x7359d}),_0x41c421['key']['remoteJid']!==_0x3c862c(0x4eb)&&await this[_0x3c862c(0x490)](_0x4b7668,_0x7359d,_0x3c862c(0x4ac));},'messages.update':async(_0x2e6959,_0x2aac20)=>{const _0xebc27c=_0x56b6a3;let _0x6590f3={0x0:'ERROR',0x1:_0xebc27c(0x1be),0x2:_0xebc27c(0x387),0x3:_0xebc27c(0x160),0x4:_0xebc27c(0x5c2),0x5:_0xebc27c(0x192)};for await(let {key:_0x15e0a5,update:_0x22433a}of _0x2e6959){if(this[_0xebc27c(0x64a)]?.[_0xebc27c(0x66b)]&&_0x15e0a5[_0xebc27c(0x682)][_0xebc27c(0x53b)](_0xebc27c(0x47f))){this[_0xebc27c(0x2a3)][_0xebc27c(0x5da)](this[_0xebc27c(0x261)]+'\x20('+this['instance'][_0xebc27c(0x473)]+_0xebc27c(0x18f));return;}if(_0x15e0a5[_0xebc27c(0x682)]!==_0xebc27c(0x4eb)){let _0x36bcee=Date[_0xebc27c(0x23b)](),_0x3490a7;_0x22433a['message']===null&&_0x22433a['status']===void 0x0?_0x3490a7=_0xebc27c(0x56b):_0x3490a7=_0x6590f3[_0x22433a[_0xebc27c(0x148)]];let _0x5279f9=_0x15e0a5[_0xebc27c(0x682)][_0xebc27c(0x468)](/:\d{1,2}@/g,'@'),_0x445478={..._0x15e0a5,'remoteJid':_0x5279f9,'status':_0x3490a7,'datetime':_0x36bcee,'owner':this['instance']['wuid']};this[_0xebc27c(0x255)]('messages.update',_0x445478),await this[_0xebc27c(0x5ef)](_0x15e0a5,_0x445478);}}},'labels.association':async({type:_0x1631c0,association:_0x52292f})=>{const _0x328f11=_0x56b6a3;if(_0x52292f[_0x328f11(0x25b)]==='label_jid'){let _0x1f896c,_0x497ec6=0x0;for(;!_0x1f896c&&_0x497ec6<this[_0x328f11(0x603)];)_0x1f896c=await this['repository']['chat'][_0x328f11(0x5d3)]({'where':{'_id':_0x52292f[_0x328f11(0x50f)]}},this[_0x328f11(0x19b)]['wuid']),_0x1f896c||(_0x497ec6++,console[_0x328f11(0x5c8)]('Chat\x20'+_0x52292f[_0x328f11(0x50f)]+_0x328f11(0x4d4)+this[_0x328f11(0x2a2)]+_0x328f11(0x4dc)+_0x497ec6+'/'+this[_0x328f11(0x603)]+')'),await this[_0x328f11(0x147)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x1f896c){console[_0x328f11(0x382)](_0x328f11(0x115)+_0x52292f[_0x328f11(0x50f)]+'\x20after\x20'+this[_0x328f11(0x603)]+'\x20attempts.');return;}switch(_0x1631c0){case'add':console[_0x328f11(0x5c8)](_0x52292f),await this[_0x328f11(0x418)][_0x328f11(0x396)]['updateOne']({'where':{'_id':_0x52292f[_0x328f11(0x50f)]}},{'leadInfo.etiquetas':_0x52292f[_0x328f11(0x4ff)]},this['instance']['wuid'],void 0x0,_0x328f11(0x1b2));break;case'remove':console[_0x328f11(0x5c8)](_0x52292f),await this[_0x328f11(0x418)][_0x328f11(0x396)]['updateOne']({'where':{'_id':_0x52292f['chatId']}},{'leadInfo.etiquetas':_0x52292f[_0x328f11(0x4ff)]},this[_0x328f11(0x19b)][_0x328f11(0x473)],void 0x0,_0x328f11(0x6af));break;default:console[_0x328f11(0x382)](_0x328f11(0x68a)+_0x1631c0+']');}}},'labels.edit':async _0x4d9c94=>{const _0x2577e0=_0x56b6a3;if(!_0x4d9c94||!_0x4d9c94['id']){console['error'](_0x2577e0(0x226));return;}if(!_0x4d9c94[_0x2577e0(0x283)]){let _0x138bd8=['#ff9484',_0x2577e0(0x635),_0x2577e0(0x257),'#dfaef0','#9ab6c1','#56ccb4',_0x2577e0(0x31f),'#d3a91f',_0x2577e0(0x66a),_0x2577e0(0x4e4),_0x2577e0(0x54b),'#ffc5c7',_0x2577e0(0x62b),_0x2577e0(0x52c),_0x2577e0(0x4b9),_0x2577e0(0x648),_0x2577e0(0x77e),_0x2577e0(0x1b6),'#9ba6ff',_0x2577e0(0x223)],_0x56e0ec;typeof _0x4d9c94[_0x2577e0(0x2bd)]==_0x2577e0(0x520)&&_0x4d9c94[_0x2577e0(0x2bd)]>=0x0&&_0x4d9c94[_0x2577e0(0x2bd)]<_0x138bd8['length']?_0x56e0ec=_0x138bd8[_0x4d9c94[_0x2577e0(0x2bd)]]:(console['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x4d9c94['color']),_0x56e0ec='#000000');let _0x4dc267={'_id':_0x4d9c94['id'],'colorHex':_0x56e0ec,'color':_0x4d9c94?.[_0x2577e0(0x2bd)],'name':_0x4d9c94?.[_0x2577e0(0x1d6)],'owner':this[_0x2577e0(0x19b)]['wuid']};await this[_0x2577e0(0x418)][_0x2577e0(0x79a)][_0x2577e0(0x5f2)]({'where':{'_id':_0x4d9c94['id']}},_0x4dc267,this[_0x2577e0(0x19b)][_0x2577e0(0x473)]),console['log'](_0x2577e0(0x1c8),_0x4d9c94);}_0x4d9c94['deleted']&&(await this[_0x2577e0(0x418)][_0x2577e0(0x79a)]['delete']({'where':{'_id':_0x4d9c94['id']}},this['instance'][_0x2577e0(0x473)]),console[_0x2577e0(0x5c8)](_0x2577e0(0x704),_0x4d9c94['id']));}},this['groupHandler']={'groups.upsert':_0x4044b2=>{const _0x5bf98e=_0x56b6a3;this[_0x5bf98e(0x255)](_0x5bf98e(0x6c9),_0x4044b2);},'groups.update':_0xe3fb1=>{this['sendDataWebhook']('groups.update',_0xe3fb1);},'group-participants.update':_0x436e1a=>{const _0x15dfed=_0x56b6a3;this[_0x15dfed(0x255)](_0x15dfed(0x43d),_0x436e1a);}},this[_0x56b6a3(0x603)]=0x5,this[_0x56b6a3(0x2a2)]=0x1388,this[_0x56b6a3(0x4ae)]=async _0x326382=>{const _0x18fce2=_0x56b6a3;if(_0x326382[_0x18fce2(0x5a7)]?.[_0x18fce2(0x18a)]){let _0x58c7ba=await this[_0x18fce2(0x763)](_0x326382['message'][_0x18fce2(0x18a)][_0x18fce2(0x62c)],!0x0);if(_0x58c7ba){let _0xfa65ee=_0x58c7ba[_0x18fce2(0x721)][_0x18fce2(0x3a3)]?this[_0x18fce2(0x19b)][_0x18fce2(0x473)]+'@s.whatsapp.net':_0x58c7ba['key'][_0x18fce2(0x71a)]||_0x58c7ba['key'][_0x18fce2(0x682)],_0x2dde87=_0x58c7ba[_0x18fce2(0x721)]['id'],_0x3d26bf=_0x58c7ba[_0x18fce2(0x5a7)],_0xcbfd40=Buffer[_0x18fce2(0x50c)](_0x3d26bf[_0x18fce2(0x109)][_0x18fce2(0x400)]['toString'](_0x18fce2(0x345)),_0x18fce2(0x345)),_0x4c3783=(0x0,m[_0x18fce2(0x37a)])(_0x326382[_0x18fce2(0x5a7)][_0x18fce2(0x18a)][_0x18fce2(0x2cd)],{'pollCreatorJid':_0xfa65ee,'pollMsgId':_0x2dde87,'pollEncKey':_0xcbfd40,'voterJid':_0x326382[_0x18fce2(0x721)][_0x18fce2(0x3a3)]?this[_0x18fce2(0x19b)][_0x18fce2(0x473)]+_0x18fce2(0x7c8):_0x326382[_0x18fce2(0x721)]['remoteJid'][_0x18fce2(0x5c6)](_0x18fce2(0x7aa))?_0x326382[_0x18fce2(0x721)]['participant']:_0x326382['key']['remoteJid']}),_0x510eb7=[],_0x86dc03=_0x4c3783['selectedOptions'][_0x18fce2(0x5e5)](_0x56a5f1=>Buffer[_0x18fce2(0x50c)](_0x56a5f1)['toString']('hex'));for(let {optionName:_0x3ff4c6}of _0x3d26bf['pollCreationMessage']?.[_0x18fce2(0x5f1)]||_0x3d26bf[_0x18fce2(0x37b)]?.[_0x18fce2(0x5f1)]||_0x3d26bf['pollCreationMessageV2']?.['options'])_0x86dc03[_0x18fce2(0x6cb)]((0x0,m[_0x18fce2(0x70a)])(Buffer[_0x18fce2(0x50c)](_0x3ff4c6))['toString'](_0x18fce2(0x345)))>-0x1&&_0x510eb7[_0x18fce2(0x7b6)](_0x3ff4c6);return _0x510eb7;}}return null;},this[_0x56b6a3(0x409)]=(_0x4c0d6b,_0x77cd3e,_0x7c093)=>{const _0x115ce6=_0x56b6a3;try{let _0x187317=_0x4c0d6b?(0x0,m[_0x115ce6(0x48d)])(_0x4c0d6b)[_0x77cd3e]:void 0x0,_0x3a6635={},_0x4c8732=null,_0x3123b0=null,_0x37ffc7=null;_0x77cd3e===_0x115ce6(0x246)&&_0x187317?.[_0x115ce6(0x6e6)]&&(_0x77cd3e=(0x0,m[_0x115ce6(0x1f2)])(_0x187317['editedMessage']),_0x4c8732=_0x4c0d6b[_0x115ce6(0x246)][_0x115ce6(0x721)]['id'],_0x187317=_0x4c0d6b[_0x115ce6(0x246)]['editedMessage'][_0x77cd3e]),_0x4c0d6b[_0x77cd3e]?.['contextInfo']?.[_0x115ce6(0x63e)]&&_0x4c0d6b[_0x77cd3e]?.[_0x115ce6(0x5ff)]?.[_0x115ce6(0x5a1)]&&(_0x3123b0=_0x4c0d6b[_0x77cd3e][_0x115ce6(0x5ff)]['stanzaId']),_0x4c0d6b[_0x115ce6(0x5ad)]&&(_0x37ffc7=_0x4c0d6b['reactionMessage'][_0x115ce6(0x721)]['id']);let _0x348329;if(_0x187317&&typeof _0x187317=='object'&&_0x115ce6(0x62c)in _0x187317&&({pollCreationMessageKey:_0x348329}=_0x187317),_0x77cd3e==='pollCreationMessage'||_0x77cd3e===_0x115ce6(0x714)||_0x77cd3e===_0x115ce6(0x37b)){let _0x1b5880=_0x187317[_0x115ce6(0x5f1)]['map'](_0x159469=>_0x159469[_0x115ce6(0x751)])['join']('|');_0x3a6635[_0x115ce6(0x183)]=_0x1b5880;}let _0x3c737a='';if(_0x187317&&(_0x3c737a+=_0x187317['name']?_0x187317[_0x115ce6(0x1d6)]:'',_0x3c737a+=_0x187317[_0x115ce6(0x477)]?'\x20'+_0x187317[_0x115ce6(0x477)]:'',_0x3c737a+=_0x187317[_0x115ce6(0x781)]?'\x20'+_0x187317[_0x115ce6(0x781)]:'',_0x3c737a+=_0x187317[_0x115ce6(0x498)]?'\x20'+_0x187317[_0x115ce6(0x498)]:''),_0x77cd3e===_0x115ce6(0x3f6)){_0x3c737a=(_0x187317[_0x115ce6(0x20d)]||'')+'\x0a'+(_0x187317[_0x115ce6(0x2b8)]||'')+'\x0a'+(_0x187317[_0x115ce6(0x35c)]||'');let _0x4a946d=this['sectionsToString'](_0x187317[_0x115ce6(0x350)]);_0x3a6635[_0x115ce6(0x183)]=_0x4a946d;}if(_0x77cd3e===_0x115ce6(0x460)&&(_0x7c093=_0x187317['title']),_0x187317&&_0x187317[_0x115ce6(0x6c8)]){let _0x48c976=this[_0x115ce6(0x7a6)](JSON[_0x115ce6(0x4e8)](_0x187317['vcard'],null,0x2));_0x3c737a=_0x3c737a+'\x0a'+_0x48c976;}if(_0x187317){let {sections:_0x1de450,listType:_0x59a44e,displayName:_0x451e7c,vcard:_0x4eb6f5,contactVcard:_0x46bb88,name:_0x347e2a,caption:_0x1dc1be,conversation:_0x1286b1,pollCreationMessageKey:_0xb191fa,footerText:_0x3d0327,contentText:_0x42cfec,pageCount:_0x324c4f,headerType:_0x372cce,isAvatar:_0x23aa19,isAnimated:_0x2b2642,fallbackLc:_0x3fc3af,fallbackLg:_0x355ebb,namespace:_0x455aaf,elementName:_0x24eefe,localizableParams:_0x5056c0,viewOnce:_0x4e923f,height:_0x7c609b,width:_0x3c4c70,key:_0xec8e9d,firstScanLength:_0x3ac191,firstScanSidecar:_0xb3fb8,gifPlayback:_0x4fa27f,gifAttribution:_0x54fcc3,midQualityFileSha256:_0x111a58,scansSidecar:_0x2c8568,streamingSidecar:_0x5006d9,thumbnailHeight:_0x559c85,thumbnailWidth:_0x595275,thumbnailEncSha256:_0x40c5a8,thumbnailDirectPath:_0x43a76b,canonicalUrl:_0x3f4047,matchedText:_0x58923e,previewType:_0x9c8cba,thumbnailSha256:_0x1235b2,deviceListMetadataVersion:_0x1dfbae,inviteLinkGroupTypeV2:_0x32ec06,interactiveAnnotations:_0x33edc7,scanLengths:_0x47bb40,jpegThumbnail:_0x3ca0e1,url:_0x3d569e,mediaKeyTimestamp:_0x4bbcb7,waveform:_0x381c7f,stickerSentTs:_0x109781,firstFrameLength:_0x2fead3,fileEncSha256:_0x6cd4ab,contextInfo:_0x3eacd8,firstFrameSidecar:_0x18319c,directPath:_0x2b2cd7,fileSha256:_0x1fdb75,mediaKey:_0x3bd4b4,senderTimestampMs:_0x570625,..._0x32a754}=_0x187317;(_0x77cd3e==='listMessage'||_0x77cd3e==='listResponseMessage')&&(delete _0x32a754[_0x115ce6(0x20d)],delete _0x32a754['description']),typeof _0x187317==_0x115ce6(0x39f)?_0x3a6635={'text':_0x187317,'type':_0x77cd3e||'conversation',..._0x4c8732&&{'edited':_0x4c8732},..._0x3123b0&&{'quoted':_0x3123b0},..._0x37ffc7&&{'reaction':_0x37ffc7}}:_0x3a6635={'text':_0x3c737a,..._0x32a754,..._0x77cd3e===_0x115ce6(0x18a)?{'poll_id':_0x187317['pollCreationMessageKey']['id'],'quoted':_0x187317['pollCreationMessageKey']['id'],'vote':_0x7c093}:{},..._0x77cd3e===_0x115ce6(0x460)?{'vote':_0x7c093}:{},'type':_0x77cd3e,..._0x4c8732&&{'edited':_0x4c8732},..._0x3123b0&&{'quoted':_0x3123b0},..._0x37ffc7&&{'reaction':_0x37ffc7},...(_0x77cd3e===_0x115ce6(0x32e)||_0x77cd3e===_0x115ce6(0x714)||_0x77cd3e===_0x115ce6(0x37b)||_0x77cd3e===_0x115ce6(0x3f6))&&{'convertedOptions':_0x3a6635['convertedOptions']}};}return{'messageType':_0x77cd3e,'messageContent':_0x187317,'message_normalized':_0x3a6635};}catch(_0x223276){return console[_0x115ce6(0x382)](_0x115ce6(0x1d3),_0x223276),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this['instance'][_0x56b6a3(0x2ee)]={'count':0x0},this[_0x56b6a3(0x19b)][_0x56b6a3(0x6ac)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x27193d(0x261)](_0x959dbb){const _0xd20c8f=a0_0x27193d;if(!_0x959dbb){this['instance'][_0xd20c8f(0x1d6)]=(0x0,Or['v4'])();return;}this['instance'][_0xd20c8f(0x1d6)]=_0x959dbb,this[_0xd20c8f(0x255)](_0xd20c8f(0x798),{'instance':this[_0xd20c8f(0x19b)]['name'],'status':'created'});}get[a0_0x27193d(0x261)](){const _0x16aa9b=a0_0x27193d;return this['instance'][_0x16aa9b(0x1d6)];}get['wuid'](){const _0x319214=a0_0x27193d;return this[_0x319214(0x19b)][_0x319214(0x473)];}async['getProfileName'](){const _0x5eb778=a0_0x27193d;let _0x280a97=this[_0x5eb778(0x5e0)][_0x5eb778(0x3fe)]?.['name']??this[_0x5eb778(0x5e0)][_0x5eb778(0x3fe)]?.[_0x5eb778(0x50e)];if(!_0x280a97){if(this['configService'][_0x5eb778(0x30a)]('DATABASE')['ENABLED']){let _0x2b8510=await N['getClient']()['db'](this[_0x5eb778(0x29f)][_0x5eb778(0x30a)]('DATABASE')[_0x5eb778(0x32c)][_0x5eb778(0x6e5)]+_0x5eb778(0x306))['collection'](this['instanceName'])[_0x5eb778(0x5d3)]({'_id':_0x5eb778(0x177)});if(_0x2b8510){let _0x2ef815=JSON[_0x5eb778(0x305)](JSON[_0x5eb778(0x4e8)](_0x2b8510),m[_0x5eb778(0x48c)][_0x5eb778(0x673)]);_0x280a97=_0x2ef815['me']?.[_0x5eb778(0x1d6)]||_0x2ef815['me']?.[_0x5eb778(0x50e)];}}else{if((0x0,Te[_0x5eb778(0x666)])((0x0,J[_0x5eb778(0x5aa)])(ge,this[_0x5eb778(0x261)],_0x5eb778(0x53d)))){let _0x3f8938=JSON[_0x5eb778(0x305)]((0x0,Te[_0x5eb778(0x4af)])((0x0,J[_0x5eb778(0x5aa)])(ge,this[_0x5eb778(0x261)],_0x5eb778(0x53d)),{'encoding':_0x5eb778(0x65a)}));_0x280a97=_0x3f8938['me']?.[_0x5eb778(0x1d6)]||_0x3f8938['me']?.[_0x5eb778(0x50e)];}}}return _0x280a97;}get[a0_0x27193d(0x20c)](){const _0x30302f=a0_0x27193d;return this[_0x30302f(0x19b)]['profilePictureUrl'];}get[a0_0x27193d(0x2a9)](){const _0x5d3da8=a0_0x27193d;return this['instance'][_0x5d3da8(0x2ee)]?.[_0x5d3da8(0x6a9)]?{'pairingCode':this[_0x5d3da8(0x19b)][_0x5d3da8(0x2ee)]?.[_0x5d3da8(0x6a9)]}:{'code':this[_0x5d3da8(0x19b)][_0x5d3da8(0x2ee)]?.['code'],'base64':this[_0x5d3da8(0x19b)][_0x5d3da8(0x2ee)]?.[_0x5d3da8(0x203)]};}async[a0_0x27193d(0x437)](){const _0x768f35=a0_0x27193d;let _0xa798c=await this[_0x768f35(0x418)][_0x768f35(0x3e2)][_0x768f35(0x76e)](this[_0x768f35(0x261)]);this[_0x768f35(0x64a)]['url']=_0xa798c?.[_0x768f35(0x474)],this['localWebhook'][_0x768f35(0x59d)]=_0xa798c?.[_0x768f35(0x59d)],this[_0x768f35(0x64a)]['local_map']=_0xa798c?.[_0x768f35(0x260)],this[_0x768f35(0x64a)][_0x768f35(0x2b3)]=_0xa798c?.[_0x768f35(0x2b3)],this[_0x768f35(0x64a)][_0x768f35(0x251)]=_0xa798c?.[_0x768f35(0x251)],this['localWebhook']['SEND_MESSAGE']=_0xa798c?.[_0x768f35(0x713)],this[_0x768f35(0x64a)][_0x768f35(0x4ac)]=_0xa798c?.[_0x768f35(0x4ac)],this[_0x768f35(0x64a)]['MESSAGES_UPDATE']=_0xa798c?.[_0x768f35(0x331)],this[_0x768f35(0x64a)][_0x768f35(0x189)]=_0xa798c?.[_0x768f35(0x189)],this[_0x768f35(0x64a)]['GROUPS_UPDATE']=_0xa798c?.['GROUPS_UPDATE'],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0xa798c?.[_0x768f35(0x77a)],this[_0x768f35(0x64a)][_0x768f35(0x4bc)]=_0xa798c?.[_0x768f35(0x4bc)],this[_0x768f35(0x64a)][_0x768f35(0x299)]=_0xa798c?.[_0x768f35(0x299)],this[_0x768f35(0x64a)][_0x768f35(0x78a)]=_0xa798c?.[_0x768f35(0x78a)],this[_0x768f35(0x64a)][_0x768f35(0x69e)]=_0xa798c?.[_0x768f35(0x69e)],this[_0x768f35(0x64a)][_0x768f35(0x5f3)]=_0xa798c?.[_0x768f35(0x5f3)],this[_0x768f35(0x64a)][_0x768f35(0x539)]=_0xa798c?.['CONTACTS_UPSERT'],this['localWebhook']['CONTACTS_UPDATE']=_0xa798c?.[_0x768f35(0x67d)],this['localWebhook'][_0x768f35(0x2e8)]=_0xa798c?.[_0x768f35(0x2e8)],this[_0x768f35(0x64a)][_0x768f35(0x41a)]=_0xa798c?.[_0x768f35(0x41a)],this['localWebhook']['CONNECTION_UPDATE']=_0xa798c?.[_0x768f35(0x480)],this[_0x768f35(0x64a)][_0x768f35(0x66b)]=_0xa798c?.[_0x768f35(0x66b)];}async[a0_0x27193d(0x677)](_0x4e2bee){const _0x19468f=a0_0x27193d;let _0x2df6ca=[_0x19468f(0x310),_0x19468f(0x474),_0x19468f(0x59d),_0x19468f(0x260),_0x19468f(0x2b3),_0x19468f(0x251),_0x19468f(0x331),_0x19468f(0x4ac),_0x19468f(0x713),'GROUPS_UPSERT',_0x19468f(0x121),_0x19468f(0x77a),'CHATS_SET',_0x19468f(0x299),'CHATS_UPDATE',_0x19468f(0x69e),'CONTACTS_SET',_0x19468f(0x539),'CONTACTS_UPDATE',_0x19468f(0x2e8),_0x19468f(0x41a),'CONNECTION_UPDATE',_0x19468f(0x66b)],_0x7407b0={};return _0x2df6ca[_0x19468f(0x6ff)](_0x2aae29=>{_0x4e2bee[_0x2aae29]!==void 0x0&&(_0x7407b0[_0x2aae29]=_0x4e2bee[_0x2aae29]);}),_0x7407b0['url']&&(_0x7407b0[_0x19468f(0x474)]=_0x7407b0[_0x19468f(0x474)][_0x19468f(0x19c)]()),await this[_0x19468f(0x418)][_0x19468f(0x3e2)][_0x19468f(0x29c)](_0x7407b0,this[_0x19468f(0x261)]),Object[_0x19468f(0x3f4)](this[_0x19468f(0x64a)],_0x7407b0),await this['repository'][_0x19468f(0x3e2)][_0x19468f(0x76e)](this[_0x19468f(0x261)]);}async[a0_0x27193d(0x206)](){const _0xf675bf=a0_0x27193d;return await this[_0xf675bf(0x418)][_0xf675bf(0x3e2)][_0xf675bf(0x76e)](this['instanceName']);}async[a0_0x27193d(0x255)](_0x4b1de0,_0x21fa1d){const _0x58c23c=a0_0x27193d;let _0x395b47=_0x4b1de0['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0xd8c6ae=this[_0x58c23c(0x64a)][_0x58c23c(0x59d)]&&(0x0,P[_0x58c23c(0x3bb)])(this[_0x58c23c(0x64a)][_0x58c23c(0x474)])?this[_0x58c23c(0x64a)][_0x58c23c(0x474)]+(this[_0x58c23c(0x64a)][_0x58c23c(0x260)]?this[_0x58c23c(0x725)][_0x4b1de0]:''):null,_0x3c3e72=this[_0x58c23c(0x64a)][_0x395b47],_0x1854ae=ce&&ce['enabled']&&(0x0,P[_0x58c23c(0x3bb)])(ce[_0x58c23c(0x474)])?ce[_0x58c23c(0x474)]+(ce[_0x58c23c(0x260)]?this[_0x58c23c(0x725)][_0x4b1de0]:''):null,_0x55d195=ce?ce[_0x395b47]:null;if(_0x3c3e72&&_0xd8c6ae)try{await Z[_0x58c23c(0x359)][_0x58c23c(0x29c)]({'baseURL':_0xd8c6ae})['post']('',{'event':_0x4b1de0,'instance':this['instance']['name'],'apikey':this[_0x58c23c(0x19b)][_0x58c23c(0x26b)],'data':_0x21fa1d}),this[_0x58c23c(0x2a3)][_0x58c23c(0x5c8)](this['instanceName']+'\x20('+this['instance'][_0x58c23c(0x473)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4b1de0+':\x20'+_0xd8c6ae);}catch{this[_0x58c23c(0x2a3)][_0x58c23c(0x382)](this[_0x58c23c(0x261)]+'\x20('+this['instance'][_0x58c23c(0x473)]+_0x58c23c(0x3a0)+_0x4b1de0+':\x20'+_0xd8c6ae);}if(_0x55d195&&_0x1854ae)try{await Z[_0x58c23c(0x359)][_0x58c23c(0x29c)]({'baseURL':_0x1854ae})[_0x58c23c(0x263)]('',{'event':_0x4b1de0,'instance':this[_0x58c23c(0x19b)]['name'],'apikey':this[_0x58c23c(0x19b)][_0x58c23c(0x26b)],'data':_0x21fa1d}),this[_0x58c23c(0x2a3)][_0x58c23c(0x5c8)](this[_0x58c23c(0x261)]+'\x20('+this[_0x58c23c(0x19b)]['wuid']+_0x58c23c(0x432)+_0x4b1de0+':\x20'+_0x1854ae);}catch{this[_0x58c23c(0x2a3)][_0x58c23c(0x382)](this[_0x58c23c(0x261)]+'\x20('+this[_0x58c23c(0x19b)][_0x58c23c(0x473)]+_0x58c23c(0x5cd)+_0x4b1de0+':\x20'+_0x1854ae);}}async[a0_0x27193d(0x729)]({qr:_0x2c57b3,connection:_0x2a1268,lastDisconnect:_0x3183c6}){const _0x136965=a0_0x27193d;if(_0x2c57b3){if(this[_0x136965(0x19b)][_0x136965(0x2ee)][_0x136965(0x5e2)]===Ni)return this[_0x136965(0x255)](_0x136965(0x6b8),{'message':_0x136965(0x231),'statusCode':m['DisconnectReason'][_0x136965(0x3cb)]}),this[_0x136965(0x41c)]={'state':_0x136965(0x392),'statusReason':m['DisconnectReason'][_0x136965(0x176)]},this[_0x136965(0x255)](_0x136965(0x6d2),{'instance':this['instance'][_0x136965(0x1d6)],...this['stateConnection']}),this['sendDataWebhook'](_0x136965(0x798),{'instance':this[_0x136965(0x19b)][_0x136965(0x1d6)],'status':_0x136965(0x55d)}),this['repository']['auth'][_0x136965(0x29c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x136965(0x23b)]()},this['instance']['name']),this[_0x136965(0x6e0)]=!0x0,this[_0x136965(0x34b)][_0x136965(0x4bf)](_0x136965(0x42d),this[_0x136965(0x19b)][_0x136965(0x1d6)]);this[_0x136965(0x19b)][_0x136965(0x2ee)]['count']++;let _0x411bd6={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x136965(0x122),'dark':_0x136965(0x537)}};Ar[_0x136965(0x359)][_0x136965(0x58c)](_0x2c57b3,_0x411bd6,(_0x40f8a4,_0x2a0f4f)=>{const _0x443da2=_0x136965;if(_0x40f8a4){this[_0x443da2(0x2a3)]['error'](this[_0x443da2(0x261)]+'\x20('+this[_0x443da2(0x19b)]['wuid']+_0x443da2(0x2ce)+(_0x40f8a4 instanceof Error?_0x40f8a4['message']:JSON['stringify'](_0x40f8a4,null,0x2)));return;}this[_0x443da2(0x19b)][_0x443da2(0x2ee)][_0x443da2(0x203)]=_0x2a0f4f,this['instance'][_0x443da2(0x2ee)][_0x443da2(0x157)]=_0x2c57b3,!this['phoneNumber']&&this[_0x443da2(0x255)](_0x443da2(0x6b8),{'qrcode':{'instance':this['instance'][_0x443da2(0x1d6)],'pairingCode':this['instance'][_0x443da2(0x2ee)][_0x443da2(0x6a9)],'code':_0x2c57b3,'base64':_0x2a0f4f}});}),this[_0x136965(0x1f9)]?this['instance'][_0x136965(0x2ee)][_0x136965(0x6a9)]||(await(0x0,m[_0x136965(0x287)])(0x7d0),this[_0x136965(0x19b)][_0x136965(0x2ee)][_0x136965(0x6a9)]=await this[_0x136965(0x5e0)][_0x136965(0x6d1)](this[_0x136965(0x1f9)])):this[_0x136965(0x19b)][_0x136965(0x2ee)]['pairingCode']=null,Ir[_0x136965(0x359)][_0x136965(0x472)](_0x2c57b3,{'small':!0x0},_0x379cf1=>this[_0x136965(0x2a3)][_0x136965(0x5c8)](_0x136965(0x4fb)+this[_0x136965(0x19b)][_0x136965(0x1d6)]+',\x20qrcodeCount:\x20'+this[_0x136965(0x19b)][_0x136965(0x2ee)][_0x136965(0x5e2)]+_0x136965(0x38a)+this['instance']['qrcode']['pairingCode']+_0x136965(0x534)+_0x379cf1));}if(_0x2a1268&&(this[_0x136965(0x41c)]={'state':_0x2a1268,'statusReason':_0x3183c6?.[_0x136965(0x382)]?.['output']?.[_0x136965(0x1c1)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this['instance']['name'],...this[_0x136965(0x41c)]})),_0x2a1268===_0x136965(0x788)){if(this[_0x136965(0x56f)]++,this[_0x136965(0x174)]['push'](Date[_0x136965(0x23b)]()),this[_0x136965(0x174)]=this[_0x136965(0x174)][_0x136965(0x46c)](_0x29bba3=>Date[_0x136965(0x23b)]()-_0x29bba3<this[_0x136965(0x61c)]),_0x3183c6[_0x136965(0x382)]?.[_0x136965(0x297)]?.['statusCode']!==m[_0x136965(0x18b)]['loggedOut']&&this[_0x136965(0x174)]['length']<=this[_0x136965(0x4f8)])console['log'](this['instanceName']+_0x136965(0x585)+this[_0x136965(0x56f)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x136965(0x5c8)](_0x136965(0x5f7)),await this[_0x136965(0x5d1)]();else{this[_0x136965(0x255)]('status.instance',{'instance':this[_0x136965(0x19b)][_0x136965(0x1d6)],'status':_0x136965(0x55d)}),this[_0x136965(0x19b)][_0x136965(0x6ac)][_0x136965(0x515)]=!0x1,this[_0x136965(0x418)]['webhook'][_0x136965(0x1f4)](this[_0x136965(0x261)]),this['repository'][_0x136965(0x3e9)][_0x136965(0x29c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x136965(0x23b)]()},this[_0x136965(0x19b)]['name']);try{this[_0x136965(0x2a3)][_0x136965(0x5da)](this[_0x136965(0x261)]+'\x20('+this[_0x136965(0x19b)][_0x136965(0x473)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x4c2d54=await this[_0x136965(0x418)][_0x136965(0x5a7)][_0x136965(0x375)](this['instance'][_0x136965(0x473)]);_0x4c2d54[_0x136965(0x54c)]?this['logger'][_0x136965(0x5da)](this['instanceName']+'\x20('+this[_0x136965(0x19b)][_0x136965(0x473)]+_0x136965(0x391)):console[_0x136965(0x382)](_0x136965(0x42e),_0x4c2d54[_0x136965(0x382)]);}catch(_0x5b5817){console[_0x136965(0x382)](_0x136965(0x273),_0x5b5817);}this[_0x136965(0x19b)][_0x136965(0x6ac)][_0x136965(0x2f0)]!==null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x136965(0x19b)][_0x136965(0x473)]+_0x136965(0x7c3)),clearInterval(this['instance']['ScheduleMessage'][_0x136965(0x2f0)]),this[_0x136965(0x19b)][_0x136965(0x6ac)]['delayMessage']=null),this[_0x136965(0x2a3)][_0x136965(0x5da)](this[_0x136965(0x261)]+'\x20('+this[_0x136965(0x19b)]['wuid']+_0x136965(0x23d)),this[_0x136965(0x3a6)]=null,this[_0x136965(0x34b)]['emit']('remove.instance',this[_0x136965(0x19b)][_0x136965(0x1d6)],'inner'),this[_0x136965(0x5e0)]?.['ws']?.['close'](),this[_0x136965(0x5e0)][_0x136965(0x419)](new Error(_0x136965(0x3c5)));}}if(_0x2a1268===_0x136965(0x665)){this[_0x136965(0x5e0)]['ev'][_0x136965(0x78d)](),this[_0x136965(0x662)],this[_0x136965(0x19b)]['wuid']=this[_0x136965(0x5e0)][_0x136965(0x3fe)]['id']['replace'](/:\d+/,'')[_0x136965(0x468)](_0x136965(0x7c8),''),this[_0x136965(0x19b)][_0x136965(0x20c)]=(await this[_0x136965(0x324)](this[_0x136965(0x19b)]['wuid']+_0x136965(0x7c8)))[_0x136965(0x20c)],this['repository']['auth']['create']({'online':!0x0,'owner':this[_0x136965(0x19b)][_0x136965(0x473)],'lastDisconnect':null},this[_0x136965(0x19b)]['name']);let _0x4d9580=_0x136965(0x78e)+this['instance'][_0x136965(0x473)],_0x57b717=0x28,_0x269d1a=Math[_0x136965(0x743)]((_0x57b717-_0x4d9580['length'])/0x2),_0x5372fe='\x20'[_0x136965(0x29d)](_0x269d1a),_0x878327=_0x136965(0x543),_0x435907=_0x136965(0x2ff)+this[_0x136965(0x19b)][_0x136965(0x1d6)],_0x5c84fc=(''+_0x5372fe+_0x4d9580+_0x5372fe)[_0x136965(0x326)](_0x57b717,'\x20'),_0x1fce7a=(''+_0x5372fe+_0x878327+_0x5372fe)[_0x136965(0x326)](_0x57b717,'\x20'),_0x510e76=(''+_0x5372fe+_0x435907+_0x5372fe)[_0x136965(0x326)](_0x57b717,'\x20'),_0x2d2b60=Math['max'](_0x5c84fc[_0x136965(0x237)],_0x1fce7a[_0x136965(0x237)],_0x510e76['length']),_0x32e9e0=_0x5c84fc[_0x136965(0x326)](_0x2d2b60,'\x20'),_0x50425f=_0x1fce7a[_0x136965(0x326)](_0x2d2b60,'\x20'),_0x28048f=_0x510e76[_0x136965(0x326)](_0x2d2b60,'\x20');this['logger']['info']((_0x136965(0x5c1)+'─'['repeat'](_0x2d2b60)+_0x136965(0x7a7)+_0x50425f+_0x136965(0x59e)+_0x28048f+_0x136965(0x59e)+_0x32e9e0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x136965(0x29d)](_0x2d2b60)+'┘')[_0x136965(0x468)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x136965(0x19b)][_0x136965(0x6ac)][_0x136965(0x515)]=!0x0;}}['resetReconnectionVariables'](){const _0x5e3787=a0_0x27193d;this[_0x5e3787(0x56f)]=0x0,this[_0x5e3787(0x174)]=[];}async[a0_0x27193d(0x763)](_0x5ab789,_0x5702c6=!0x1){const _0x56dd5e=a0_0x27193d;try{let _0x397bd9=await this[_0x56dd5e(0x418)]['message']['find']({'where':{'_id':_0x5ab789['id']}},this[_0x56dd5e(0x19b)][_0x56dd5e(0x473)]);return _0x5702c6?_0x397bd9[0x0]:_0x397bd9[0x0][_0x56dd5e(0x5a7)];}catch{return{'conversation':''};}}[a0_0x27193d(0x150)](){const _0x450722=a0_0x27193d;let _0x5587d3=this['configService']['get']('STORE'),_0x938fb8=this[_0x450722(0x29f)][_0x450722(0x30a)](_0x450722(0x647));_0x5587d3?.['CLEANING_INTERVAL']&&!_0x938fb8[_0x450722(0x323)]&&setInterval(()=>{const _0x1e2f09=_0x450722;try{for(let [_0xb53f78,_0x154cca]of Object['entries'](_0x5587d3))_0x154cca===!0x0&&(0x0,Ft[_0x1e2f09(0x634)])(_0x1e2f09(0x186)+(0x0,J[_0x1e2f09(0x5aa)])(this[_0x1e2f09(0x269)],_0xb53f78[_0x1e2f09(0x446)](),this['instance']['wuid'])+_0x1e2f09(0x5d7));}catch{}},(_0x5587d3?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x5ade75=a0_0x27193d;let _0x26d480=this[_0x5ade75(0x29f)][_0x5ade75(0x30a)](_0x5ade75(0x647)),_0x114003=this[_0x5ade75(0x29f)][_0x5ade75(0x30a)](_0x5ade75(0x41f));return _0x114003?.[_0x5ade75(0x323)]?await Rs(_0x114003,this[_0x5ade75(0x19b)][_0x5ade75(0x1d6)]):_0x26d480[_0x5ade75(0x323)]?await Ns(this[_0x5ade75(0x19b)][_0x5ade75(0x1d6)]):await(0x0,m[_0x5ade75(0x315)])((0x0,J[_0x5ade75(0x5aa)])(ge,this[_0x5ade75(0x19b)][_0x5ade75(0x1d6)]));}async[a0_0x27193d(0x384)](){const _0x187c5f=a0_0x27193d;let _0x302b35=()=>Math['floor'](Math[_0x187c5f(0x303)]()*0x2711)+0x7d0,_0x2d8196=async()=>{const _0x3a9da3=_0x187c5f;if(!this['instance'][_0x3a9da3(0x6ac)][_0x3a9da3(0x515)]){this[_0x3a9da3(0x2a3)][_0x3a9da3(0x5da)]('Desconectado,\x20parando\x20execução.'),this[_0x3a9da3(0x78c)]=!0x1;return;}if(this[_0x3a9da3(0x19b)]['wuid']&&this[_0x3a9da3(0x3a6)]&&this[_0x3a9da3(0x19b)][_0x3a9da3(0x6ac)][_0x3a9da3(0x2f0)]!==null&&this[_0x3a9da3(0x19b)][_0x3a9da3(0x6ac)]['delayMessage']!==void 0x0){let _0x24c3c9=Math[_0x3a9da3(0x282)](this[_0x3a9da3(0x19b)][_0x3a9da3(0x6ac)][_0x3a9da3(0x2f0)]/0xea60);this['logger'][_0x3a9da3(0x5da)](this[_0x3a9da3(0x261)]+'\x20('+this[_0x3a9da3(0x19b)]['wuid']+_0x3a9da3(0x49f)+_0x24c3c9+_0x3a9da3(0x53e)),this[_0x3a9da3(0x78c)]=!0x1;return;}else this['instance'][_0x3a9da3(0x473)]&&(this[_0x3a9da3(0x2a3)][_0x3a9da3(0x5da)](this[_0x3a9da3(0x261)]+'\x20('+this[_0x3a9da3(0x19b)][_0x3a9da3(0x473)]+_0x3a9da3(0x3c9)),this['AutomateSystem']||(await this[_0x3a9da3(0x456)](),this[_0x3a9da3(0x368)]()),(this[_0x3a9da3(0x19b)]['ScheduleMessage'][_0x3a9da3(0x2f0)]===null||this[_0x3a9da3(0x19b)]['ScheduleMessage'][_0x3a9da3(0x2f0)]===void 0x0)&&await this[_0x3a9da3(0x1d7)]());if(this[_0x3a9da3(0x78c)]){let _0x4e3ca0=_0x302b35();this[_0x3a9da3(0x2a3)][_0x3a9da3(0x5da)](this[_0x3a9da3(0x261)]+_0x3a9da3(0x1b7)+_0x4e3ca0/0x3e8+_0x3a9da3(0x466)),setTimeout(_0x2d8196,_0x4e3ca0);}};if(this[_0x187c5f(0x78c)])return;this['isRunning']=!0x0;let _0x3364d8=_0x302b35();setTimeout(_0x2d8196,_0x3364d8);}async[a0_0x27193d(0x3b8)](_0x1d6b3b=0x0,_0x45dbdb=!0x1){const _0x5ede2a=a0_0x27193d;try{let _0x22daee=this[_0x5ede2a(0x29f)][_0x5ede2a(0x30a)]('PROXY');if(_0x22daee!==0x1||typeof _0x22daee>'u'||_0x1d6b3b>=0x5)return this[_0x5ede2a(0x2a3)][_0x5ede2a(0x4a4)](_0x5ede2a(0x15d)),this['repository']['auth'][_0x5ede2a(0x29c)]({'ip':null},this[_0x5ede2a(0x19b)][_0x5ede2a(0x1d6)]),{};this[_0x5ede2a(0x2a3)][_0x5ede2a(0x5da)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x3b7)+(_0x1d6b3b+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0xb2ec8a;if(!_0x45dbdb){let _0x1a1d2e=await this[_0x5ede2a(0x418)][_0x5ede2a(0x3e9)][_0x5ede2a(0x76e)](this[_0x5ede2a(0x261)]);_0x1a1d2e&&_0x1a1d2e['ip']&&(_0xb2ec8a=Mr(_0x1a1d2e['ip']));}if((!_0xb2ec8a||!Ts(_0xb2ec8a))&&(this[_0x5ede2a(0x2a3)][_0x5ede2a(0x4a4)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x7b4)),_0xb2ec8a=vr()),_0xb2ec8a&&Ts(_0xb2ec8a)){let _0x639bba=_0xb2ec8a['username']&&_0xb2ec8a[_0x5ede2a(0x512)]?_0xb2ec8a['protocol']+'://'+_0xb2ec8a[_0x5ede2a(0x563)]+':'+_0xb2ec8a[_0x5ede2a(0x512)]+'@'+_0xb2ec8a[_0x5ede2a(0x46d)]+':'+_0xb2ec8a['port']:_0xb2ec8a[_0x5ede2a(0x5cf)]+'://'+_0xb2ec8a[_0x5ede2a(0x46d)]+':'+_0xb2ec8a[_0x5ede2a(0x76c)];return await this['testProxy'](_0x639bba,_0xb2ec8a[_0x5ede2a(0x46d)])?(this['logger'][_0x5ede2a(0x5da)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x3ff)),this['repository'][_0x5ede2a(0x3e9)][_0x5ede2a(0x29c)]({'ip':_0xb2ec8a[_0x5ede2a(0x46d)]},this['instance'][_0x5ede2a(0x1d6)]),{'agent':new jt[(_0x5ede2a(0x51a))](_0x639bba),'fetchAgent':new jt['HttpsProxyAgent'](_0x639bba)}):(this[_0x5ede2a(0x2a3)][_0x5ede2a(0x4a4)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x4a7)),await(0x0,m[_0x5ede2a(0x287)])(0xc8),this[_0x5ede2a(0x3b8)](_0x1d6b3b+0x1,!0x0));}else return this[_0x5ede2a(0x2a3)][_0x5ede2a(0x4a4)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x5a0)),await(0x0,m['delay'])(0xc8),this[_0x5ede2a(0x3b8)](_0x1d6b3b+0x1,!0x0);}catch(_0x2f3863){return this[_0x5ede2a(0x2a3)][_0x5ede2a(0x382)](this[_0x5ede2a(0x261)]+_0x5ede2a(0x491)+_0x2f3863[_0x5ede2a(0x5a7)]),{};}}async['testProxy'](_0x1fb4f3,_0x5c6117){const _0x2c3439=a0_0x27193d;let _0x1f5419=new jt[(_0x2c3439(0x51a))](_0x1fb4f3),_0x769659=0x1388,_0x4848e2=[{'url':_0x2c3439(0x2b4),'parse':_0x1f1ffe=>_0x1f1ffe['ip']},{'url':_0x2c3439(0x50b),'parse':_0x5dedb6=>_0x5dedb6['ip']},{'url':_0x2c3439(0x7cd),'parse':_0x25dd52=>_0x25dd52[_0x2c3439(0x243)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2c3439(0x4c1),'parse':_0x529229=>_0x529229['ip']},{'url':_0x2c3439(0x75f),'parse':_0x54a830=>_0x54a830['trim']()},{'url':_0x2c3439(0x76d),'parse':_0x3174f0=>_0x3174f0['trim']()},{'url':_0x2c3439(0x2e6),'parse':_0x3be6aa=>_0x3be6aa[_0x2c3439(0x674)]},{'url':_0x2c3439(0x76f),'parse':_0x348a49=>_0x348a49['trim']()},{'url':_0x2c3439(0x792),'parse':_0x14df98=>_0x14df98['trim']()}],_0x37ed67=_0x4848e2[Math[_0x2c3439(0x743)](Math[_0x2c3439(0x303)]()*_0x4848e2['length'])];try{let _0x217e53=await Z['default'][_0x2c3439(0x30a)](_0x37ed67[_0x2c3439(0x474)],{'httpsAgent':_0x1f5419,'timeout':_0x769659}),_0x24c750=_0x37ed67[_0x2c3439(0x305)](_0x217e53['data']);return _0x24c750===_0x5c6117?(this[_0x2c3439(0x2a3)]['verbose'](this['instanceName']+_0x2c3439(0x65e)+_0x5c6117+_0x2c3439(0x459)+_0x24c750+_0x2c3439(0x333)),!0x0):(this['logger'][_0x2c3439(0x382)](this[_0x2c3439(0x261)]+_0x2c3439(0x65e)+_0x5c6117+_0x2c3439(0x459)+_0x24c750+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x54f7ee){return this[_0x2c3439(0x2a3)][_0x2c3439(0x382)](this['instanceName']+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x37ed67[_0x2c3439(0x474)]+':\x20'+_0x54f7ee[_0x2c3439(0x5a7)]),!0x1;}}async[a0_0x27193d(0x5d1)](_0x5e7097){const _0x12c109=a0_0x27193d;try{let _0x20b930=await this[_0x12c109(0x3b8)]();this[_0x12c109(0x437)](),this[_0x12c109(0x19b)]['apikey']=(await this[_0x12c109(0x418)]['auth'][_0x12c109(0x76e)](this[_0x12c109(0x19b)][_0x12c109(0x1d6)]))[_0x12c109(0x26b)],this[_0x12c109(0x19b)][_0x12c109(0x64c)]=await this['defineAuthState']();let {version:_0x207f5d}=await(0x0,m[_0x12c109(0x2f3)])(),_0xc8886b=[xr,Ds,(0x0,Os[_0x12c109(0x191)])()],_0xb90cf0={..._0x20b930,'auth':{'creds':this[_0x12c109(0x19b)]['authState'][_0x12c109(0x754)][_0x12c109(0x177)],'keys':(0x0,m[_0x12c109(0x266)])(this[_0x12c109(0x19b)]['authState'][_0x12c109(0x754)][_0x12c109(0x28f)],(0x0,$t['default'])({'level':'error'}))},'logger':(0x0,$t[_0x12c109(0x359)])({'level':_0x12c109(0x382)}),'printQRInTerminal':!0x1,'browser':_0x5e7097?[_0x12c109(0x7a9),Ds,(0x0,Os['release'])()]:_0xc8886b,'version':_0x207f5d,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2328cb=>{const _0x3ee6cd=_0x12c109;let _0xdadd7=_0x2328cb[_0x3ee6cd(0x5c6)]('@newsletter'),_0x2f87b5=this[_0x3ee6cd(0x64a)]?.[_0x3ee6cd(0x66b)]&&_0x2328cb['endsWith'](_0x3ee6cd(0x47f));return _0xdadd7||(0x0,m[_0x3ee6cd(0x581)])(_0x2328cb)||_0x2f87b5;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x347959=>await this['getMessage'](_0x347959),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x12c109(0x49e)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x54c663=>(_0x54c663[_0x12c109(0x3f6)]?.['listType']==m['proto'][_0x12c109(0x6ee)][_0x12c109(0x12b)][_0x12c109(0x7c6)][_0x12c109(0x415)]&&(_0x54c663=JSON[_0x12c109(0x305)](JSON[_0x12c109(0x4e8)](_0x54c663)),_0x54c663[_0x12c109(0x3f6)][_0x12c109(0x545)]=m['proto'][_0x12c109(0x6ee)][_0x12c109(0x12b)][_0x12c109(0x7c6)]['SINGLE_SELECT']),_0x54c663)};return this['endSession']=!0x1,this[_0x12c109(0x5e0)]=(0x0,m[_0x12c109(0x359)])(_0xb90cf0),this[_0x12c109(0x4ed)](),this[_0x12c109(0x1f9)]=_0x5e7097,this[_0x12c109(0x5e0)];}catch(_0x37878c){throw this[_0x12c109(0x2a3)][_0x12c109(0x382)](this['instanceName']+'\x20('+this[_0x12c109(0x19b)]['wuid']+'):\x20'+(_0x37878c instanceof Error?_0x37878c['message']:JSON[_0x12c109(0x4e8)](_0x37878c,null,0x2))),new I(_0x37878c?.['toString']());}}['eventHandler'](){const _0x4490ae=a0_0x27193d;this[_0x4490ae(0x5e0)]['ev'][_0x4490ae(0x204)](_0x30e64b=>{const _0x4a8c53=_0x4490ae;if(!this[_0x4a8c53(0x6e0)]){let _0x5a49b5=this['configService'][_0x4a8c53(0x30a)](_0x4a8c53(0x647));if(_0x30e64b[_0x4a8c53(0x4e6)]){let _0x24bf4b=_0x30e64b[_0x4a8c53(0x4e6)];this[_0x4a8c53(0x6c6)][_0x4a8c53(0x4e6)](_0x24bf4b);}if(_0x30e64b[_0x4a8c53(0x1ce)]){let _0x33b07f=_0x30e64b[_0x4a8c53(0x1ce)];this['messageHandle'][_0x4a8c53(0x1ce)](_0x33b07f);}if(_0x30e64b['connection.update']&&this[_0x4a8c53(0x729)](_0x30e64b[_0x4a8c53(0x6d2)]),_0x30e64b[_0x4a8c53(0x462)]&&this[_0x4a8c53(0x19b)]['authState'][_0x4a8c53(0x136)](),_0x30e64b[_0x4a8c53(0x589)]){let _0x12a811=_0x30e64b[_0x4a8c53(0x589)];this[_0x4a8c53(0x6c6)][_0x4a8c53(0x589)](_0x12a811,_0x5a49b5);}if(_0x30e64b[_0x4a8c53(0x13c)]){let _0x556666=_0x30e64b['messages.upsert'];this[_0x4a8c53(0x6c6)][_0x4a8c53(0x13c)](_0x556666,_0x5a49b5);}if(_0x30e64b[_0x4a8c53(0x4fa)]){let _0x3cc710=_0x30e64b['messages.update'];_0x3cc710[_0x4a8c53(0x6ff)](_0x55c15a=>{const _0x3ff64a=_0x4a8c53;if(Rr[_0x55c15a[_0x3ff64a(0x721)]['id']]){this[_0x3ff64a(0x5e0)]['ev'][_0x3ff64a(0x4bf)](_0x3ff64a(0x13c),{'messages':[_0x55c15a],'type':'notify'}),delete Rr[_0x55c15a[_0x3ff64a(0x721)]['id']];return;}}),this[_0x4a8c53(0x6c6)][_0x4a8c53(0x4fa)](_0x3cc710,_0x5a49b5);}if(_0x30e64b['presence.update']){let _0xeb90ad=_0x30e64b[_0x4a8c53(0x308)];if(this[_0x4a8c53(0x64a)]?.[_0x4a8c53(0x66b)]&&_0xeb90ad['id']['includes'](_0x4a8c53(0x47f)))return;this['sendDataWebhook']('presence.update',_0xeb90ad);}if(!this[_0x4a8c53(0x64a)]?.[_0x4a8c53(0x66b)]){if(_0x30e64b[_0x4a8c53(0x6c9)]){let _0x2b8b0b=_0x30e64b[_0x4a8c53(0x6c9)];this[_0x4a8c53(0x703)][_0x4a8c53(0x6c9)](_0x2b8b0b);}if(_0x30e64b['groups.update']){let _0x174358=_0x30e64b[_0x4a8c53(0x26c)];this[_0x4a8c53(0x703)][_0x4a8c53(0x26c)](_0x174358);}if(_0x30e64b['group-participants.update']){let _0x7533d8=_0x30e64b[_0x4a8c53(0x43d)];this[_0x4a8c53(0x703)][_0x4a8c53(0x43d)](_0x7533d8);}}if(_0x30e64b[_0x4a8c53(0x3d0)]){let _0x3e5775=_0x30e64b[_0x4a8c53(0x3d0)];this[_0x4a8c53(0x14f)][_0x4a8c53(0x3d0)](_0x3e5775,_0x5a49b5);}if(_0x30e64b[_0x4a8c53(0x773)]){let _0x21c093=_0x30e64b[_0x4a8c53(0x773)];this[_0x4a8c53(0x14f)][_0x4a8c53(0x773)](_0x21c093,_0x5a49b5);}if(_0x30e64b[_0x4a8c53(0x69f)]){let _0x22a872=_0x30e64b['chats.delete'];this[_0x4a8c53(0x14f)][_0x4a8c53(0x69f)](_0x22a872);}if(_0x30e64b[_0x4a8c53(0x791)]){let _0x3159af=_0x30e64b[_0x4a8c53(0x791)];this[_0x4a8c53(0x559)][_0x4a8c53(0x791)](_0x3159af,_0x5a49b5);}if(_0x30e64b[_0x4a8c53(0x2f9)]){let _0x38f0d3=_0x30e64b[_0x4a8c53(0x2f9)];this[_0x4a8c53(0x559)][_0x4a8c53(0x2f9)](_0x38f0d3,_0x5a49b5);}}});}['delayChatLabel'](_0x11e549){return new Promise(_0x2c1bb6=>setTimeout(_0x2c1bb6,_0x11e549));}[a0_0x27193d(0x2bf)](_0x18f52a){const _0x2125d6=a0_0x27193d;_0x18f52a=_0x18f52a['replace'](/\D/g,'');let _0x16bc6e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2125d6(0x57b)](_0x18f52a);if(_0x16bc6e&&_0x16bc6e[0x1]==='55'){let _0x1810ea=_0x16bc6e[0x2],_0x9020c=_0x16bc6e[0x3],_0x606862=_0x16bc6e[0x4];if(parseInt(_0x1810ea)>=0x1f&&_0x9020c==='9')return _0x16bc6e[0x1]+_0x1810ea+_0x606862;}return _0x18f52a;}[a0_0x27193d(0x110)](_0x456e24){const _0x12c483=a0_0x27193d;return _0x456e24[_0x12c483(0x53b)](_0x12c483(0x47f))||_0x456e24[_0x12c483(0x53b)](_0x12c483(0x7c8))||_0x456e24[_0x12c483(0x53b)]('@broadcast')?_0x456e24:(_0x456e24=_0x456e24?.['replace'](/\s/g,'')[_0x12c483(0x468)](/\+/g,'')[_0x12c483(0x468)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x456e24[_0x12c483(0x237)]>=0x12?(_0x456e24=_0x456e24[_0x12c483(0x468)](/[^\d-]/g,''),_0x456e24+'@g.us'):(_0x456e24=_0x456e24['replace'](/\D/g,''),this[_0x12c483(0x2bf)](_0x456e24)+_0x12c483(0x7c8)));}async[a0_0x27193d(0x133)](_0x3c8c40){const _0xc4e99d=a0_0x27193d;let _0x566b68=this[_0xc4e99d(0x110)](_0x3c8c40['number']),_0x240342=(await this[_0xc4e99d(0x5e1)]({'numbers':[_0x566b68]}))[0x0];if(!_0x240342[_0xc4e99d(0x6d4)]&&!(0x0,m[_0xc4e99d(0x448)])(_0x240342[_0xc4e99d(0x22b)]))throw new w(_0x240342);let _0x73b751=(0x0,m[_0xc4e99d(0x448)])(_0x566b68)?_0x566b68:_0x240342[_0xc4e99d(0x22b)];if((0x0,m[_0xc4e99d(0x448)])(_0x73b751))try{await this[_0xc4e99d(0x5e0)][_0xc4e99d(0x3a1)](_0x73b751);}catch{throw new j(_0xc4e99d(0x355));}try{return await this['client'][_0xc4e99d(0x5fd)](_0x73b751),await this[_0xc4e99d(0x5e0)]['sendPresenceUpdate'](_0x3c8c40[_0xc4e99d(0x592)],_0x566b68),{'status':0xc8,'presence':_0x3c8c40['presence']};}catch(_0x1243af){throw new w(_0x1243af[_0xc4e99d(0x1ec)]());}}async[a0_0x27193d(0x3eb)](_0x52aea9,_0x583292,_0x40e3fd){const _0xbbeedd=a0_0x27193d;let _0x217a69=await this[_0xbbeedd(0x418)][_0xbbeedd(0x7ab)][_0xbbeedd(0x5d3)]({'where':{'_id':_0x52aea9}}),_0x174727={'lastUpdate':Date[_0xbbeedd(0x23b)]()};if(_0x40e3fd||!_0x217a69?.['lastUpdate']||Date[_0xbbeedd(0x23b)]()-_0x217a69[_0xbbeedd(0x602)]>0x18*0x3c*0x3c*0x3e8)try{let _0x21c570=(await this[_0xbbeedd(0x324)](_0x52aea9))[_0xbbeedd(0x20c)];_0x174727[_0xbbeedd(0x79d)]=_0x21c570;}catch(_0xfd3db2){console[_0xbbeedd(0x382)](_0xbbeedd(0x24b),_0xfd3db2);}return _0x583292&&_0x217a69?.[_0xbbeedd(0x1d6)]!==_0x583292&&(_0x174727['name']=_0x583292),Object['keys'](_0x174727)[_0xbbeedd(0x237)]>0x1&&(_0x217a69?await this[_0xbbeedd(0x418)][_0xbbeedd(0x7ab)][_0xbbeedd(0x31e)]({'where':{'_id':_0x52aea9}},_0x174727):await this[_0xbbeedd(0x418)]['cacheContact'][_0xbbeedd(0x12e)]([{'_id':_0x52aea9,..._0x174727}]),_0x217a69={..._0x217a69,..._0x174727}),{'cachedContact':_0x217a69};}async['profilePicture'](_0x5482aa){const _0x1a03e2=a0_0x27193d;let _0x15c139=this[_0x1a03e2(0x110)](_0x5482aa);try{return{'wuid':_0x15c139,'profilePictureUrl':await this['client'][_0x1a03e2(0x20c)](_0x15c139,_0x1a03e2(0x67e))};}catch{return{'wuid':_0x15c139,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x49a301,_0x33a9c3,_0x78265d){const _0x98b0fc=a0_0x27193d;_0x78265d||(_0x78265d={});let _0x451d62=(await this[_0x98b0fc(0x5e1)]({'numbers':[_0x49a301]}))[0x0];if(!_0x451d62[_0x98b0fc(0x6d4)]&&!(0x0,m[_0x98b0fc(0x448)])(_0x451d62['jid'])&&!_0x451d62[_0x98b0fc(0x22b)]['includes'](_0x98b0fc(0x568)))throw new w(_0x451d62);let _0x5d5887=_0x451d62['jid'];try{if(_0x78265d?.[_0x98b0fc(0x287)]){await this['client']['presenceSubscribe'](_0x5d5887),await this[_0x98b0fc(0x5e0)][_0x98b0fc(0x16f)](_0x78265d?.[_0x98b0fc(0x592)]??_0x98b0fc(0x588),_0x5d5887);let _0x419b11=Math[_0x98b0fc(0x274)](_0x78265d[_0x98b0fc(0x287)],0x2710);await(0x0,m[_0x98b0fc(0x287)])(_0x419b11),await this[_0x98b0fc(0x5e0)]['sendPresenceUpdate'](_0x98b0fc(0x64e),_0x5d5887);}let _0x40fb26=_0x78265d?.[_0x98b0fc(0x12a)]!=!0x1?void 0x0:!0x1,_0x5508ba;if(_0x78265d?.[_0x98b0fc(0x478)]){let _0x1e7250=_0x78265d?.[_0x98b0fc(0x478)],_0xc1dc2b=_0x1e7250?.[_0x98b0fc(0x5a7)]?_0x1e7250:await this[_0x98b0fc(0x763)](_0x1e7250[_0x98b0fc(0x721)],!0x0);if(!_0xc1dc2b)throw _0x98b0fc(0x702);_0x5508ba=_0xc1dc2b;}let _0xd3e454;if((0x0,m[_0x98b0fc(0x448)])(_0x5d5887))try{let _0x4d3856=await this['client'][_0x98b0fc(0x3a1)](_0x5d5887);if(!_0x4d3856)throw new j(_0x98b0fc(0x355));_0x78265d?.[_0x98b0fc(0x290)]&&(_0x78265d[_0x98b0fc(0x290)]?.[_0x98b0fc(0x752)]?_0xd3e454=_0x4d3856[_0x98b0fc(0x2b1)]['map'](_0x4fb7aa=>_0x4fb7aa['id']):_0x78265d[_0x98b0fc(0x290)]?.[_0x98b0fc(0x482)]?.[_0x98b0fc(0x237)]&&(_0xd3e454=_0x78265d[_0x98b0fc(0x290)][_0x98b0fc(0x482)]['map'](_0x55940a=>{const _0x577572=_0x98b0fc;let _0x58a73e=this[_0x577572(0x110)](_0x55940a);return(0x0,m[_0x577572(0x448)])(_0x58a73e)?null:_0x58a73e;})));}catch{throw new j(_0x98b0fc(0x355));}let _0xd1480a=await((async()=>{const _0x37416f=_0x98b0fc;let _0x4506d4={'quoted':_0x5508ba};if(!_0x33a9c3['audio']&&!_0x33a9c3[_0x37416f(0x106)]&&!_0x33a9c3[_0x37416f(0x706)]&&!_0x33a9c3[_0x37416f(0x781)]&&_0x5d5887!=='status@broadcast'&&!_0x33a9c3[_0x37416f(0x542)])return await this[_0x37416f(0x5e0)][_0x37416f(0x518)](_0x5d5887,{'forward':{'key':{'remoteJid':this[_0x37416f(0x19b)]['wuid'],'fromMe':!0x0},'message':_0x33a9c3},'mentions':_0xd3e454},_0x4506d4);if(_0x33a9c3['reactionMessage'])return await this['client'][_0x37416f(0x518)](_0x5d5887,{'react':{'text':_0x33a9c3[_0x37416f(0x5ad)][_0x37416f(0x69b)],'key':_0x33a9c3[_0x37416f(0x5ad)][_0x37416f(0x721)]}},_0x4506d4);if(_0x33a9c3[_0x37416f(0x781)]){let _0x12c1a8=_0x33a9c3[_0x37416f(0x781)];return _0x78265d?.[_0x37416f(0x4f7)]&&(_0x12c1a8=await this[_0x37416f(0x313)](_0x12c1a8,_0x5d5887)),await this['client'][_0x37416f(0x518)](_0x5d5887,{'text':_0x12c1a8,'mentions':_0xd3e454,'linkPreview':_0x40fb26},_0x4506d4);}return _0x5d5887===_0x37416f(0x4eb)?await this['client'][_0x37416f(0x518)](_0x5d5887,_0x33a9c3[_0x37416f(0x148)][_0x37416f(0x26d)],{'backgroundColor':_0x33a9c3[_0x37416f(0x148)][_0x37416f(0x74c)][_0x37416f(0x420)],'font':_0x33a9c3[_0x37416f(0x148)]['option'][_0x37416f(0x217)],'statusJidList':_0x33a9c3['status'][_0x37416f(0x74c)][_0x37416f(0x606)]}):await this[_0x37416f(0x5e0)][_0x37416f(0x518)](_0x5d5887,_0x33a9c3,_0x4506d4);})()),_0xdd8035=(0x0,m[_0x98b0fc(0x2ec)])(_0xd1480a[_0x98b0fc(0x5a7)]),_0x3e28cd=(0x0,m[_0x98b0fc(0x1f2)])(_0xdd8035),{message_normalized:_0x10004f}=this[_0x98b0fc(0x409)](_0xdd8035,_0x3e28cd,null),_0x2c28c9={'_id':_0xd1480a[_0x98b0fc(0x721)]['id'],'key':_0xd1480a[_0x98b0fc(0x721)],'pushName':_0xd1480a['pushName'],'isGroup':_0xd1480a['key'][_0x98b0fc(0x682)]['endsWith'](_0x98b0fc(0x47f)),'profilePictureUrl':this[_0x98b0fc(0x19b)][_0x98b0fc(0x20c)],'message':_0xdd8035,'messageType':_0x3e28cd,'message_normalized':{'key':_0xd1480a[_0x98b0fc(0x721)],'pushName':_0xd1480a[_0x98b0fc(0x153)],'messageTimestamp':_0xd1480a['messageTimestamp']&&_0xd1480a[_0x98b0fc(0x14d)][_0x98b0fc(0x1ec)]()[_0x98b0fc(0x237)]<0xd?_0xd1480a[_0x98b0fc(0x14d)]*0x3e8:_0xd1480a[_0x98b0fc(0x14d)]||null,'source':(0x0,m[_0x98b0fc(0x404)])(_0xd1480a['key']['id']),..._0x10004f},'messageTimestamp':_0xd1480a[_0x98b0fc(0x14d)]&&_0xd1480a['messageTimestamp'][_0x98b0fc(0x1ec)]()['length']<0xd?_0xd1480a['messageTimestamp']*0x3e8:_0xd1480a['messageTimestamp']||null,'owner':this[_0x98b0fc(0x19b)][_0x98b0fc(0x473)],'source':(0x0,m[_0x98b0fc(0x404)])(_0xd1480a['key']['id'])};return this[_0x98b0fc(0x2a3)][_0x98b0fc(0x4a4)](this[_0x98b0fc(0x261)]+'\x20('+this[_0x98b0fc(0x19b)][_0x98b0fc(0x473)]+_0x98b0fc(0x1f5)+_0x2c28c9[_0x98b0fc(0x721)]?.['remoteJid'][_0x98b0fc(0x468)](_0x98b0fc(0x7c8),'')+_0x98b0fc(0x576)+_0x2c28c9['messageType']+')'),_0x2c28c9[_0x98b0fc(0x35f)]?.[_0x98b0fc(0x69b)]&&this[_0x98b0fc(0x2a3)][_0x98b0fc(0x4a4)](_0x2c28c9['message_normalized']?.[_0x98b0fc(0x69b)]),this[_0x98b0fc(0x255)](_0x98b0fc(0x28a),_0x2c28c9),U(this[_0x98b0fc(0x261)],_0x98b0fc(0x6ab),{'message':_0x2c28c9}),this['updateChatWithMessage'](this['configService']['get'](_0x98b0fc(0x647)),_0x2c28c9,_0x98b0fc(0x713)),await this['repository']['message'][_0x98b0fc(0x12e)]([_0x2c28c9],this[_0x98b0fc(0x19b)][_0x98b0fc(0x473)]),_0xd1480a;}catch(_0x26d58b){throw this[_0x98b0fc(0x2a3)]['error'](this[_0x98b0fc(0x261)]+'\x20('+this['instance'][_0x98b0fc(0x473)]+_0x98b0fc(0x4d5)+_0x26d58b['toString']()),new w(_0x26d58b['toString']());}}get[a0_0x27193d(0x5cb)](){const _0x4fe71f=a0_0x27193d;return this[_0x4fe71f(0x41c)];}async['textMessage'](_0x37ef1e){const _0x29e1d8=a0_0x27193d;let _0x320ed2=Nr,_0x17e602=et;return _0x17e602&&this[_0x29e1d8(0x261)]['toLowerCase']()['includes'](_0x17e602[_0x29e1d8(0x446)]())&&(_0x37ef1e[_0x29e1d8(0x531)][_0x29e1d8(0x69b)]+='\x0a\x0a'+_0x320ed2),await this[_0x29e1d8(0x683)](_0x37ef1e[_0x29e1d8(0x520)],{'conversation':_0x37ef1e[_0x29e1d8(0x531)]['text']},_0x37ef1e?.[_0x29e1d8(0x5f1)]);}async[a0_0x27193d(0x5f0)](_0x5ab724){const _0x51e6d8=a0_0x27193d;if(!_0x5ab724[_0x51e6d8(0x25b)])throw new w(_0x51e6d8(0x30c));if(!_0x5ab724[_0x51e6d8(0x26d)])throw new w(_0x51e6d8(0x5fb));if(_0x5ab724[_0x51e6d8(0x760)]){let _0x24e4c0=await this[_0x51e6d8(0x418)][_0x51e6d8(0x242)][_0x51e6d8(0x76e)]({'where':{}},this[_0x51e6d8(0x19b)]['wuid']);if(!_0x24e4c0['length'])throw new w(_0x51e6d8(0x638));_0x5ab724[_0x51e6d8(0x606)]=_0x24e4c0[_0x51e6d8(0x46c)](_0x44b3a5=>_0x44b3a5[_0x51e6d8(0x153)])[_0x51e6d8(0x5e5)](_0x4694f4=>_0x4694f4[_0x51e6d8(0x310)]);}if(!_0x5ab724['statusJidList']?.[_0x51e6d8(0x237)]&&!_0x5ab724[_0x51e6d8(0x760)])throw new w(_0x51e6d8(0x135));if(_0x5ab724[_0x51e6d8(0x25b)]===_0x51e6d8(0x69b)){if(!_0x5ab724[_0x51e6d8(0x420)])throw new w(_0x51e6d8(0x744));if(!_0x5ab724[_0x51e6d8(0x217)])throw new w(_0x51e6d8(0x655));return{'content':{'text':_0x5ab724[_0x51e6d8(0x26d)]},'option':{'backgroundColor':_0x5ab724[_0x51e6d8(0x420)],'font':_0x5ab724[_0x51e6d8(0x217)],'statusJidList':_0x5ab724[_0x51e6d8(0x606)]}};}if(_0x5ab724[_0x51e6d8(0x25b)]===_0x51e6d8(0x67e))return{'content':{'image':{'url':_0x5ab724[_0x51e6d8(0x26d)]},'caption':_0x5ab724[_0x51e6d8(0x477)]},'option':{'statusJidList':_0x5ab724['statusJidList']}};if(_0x5ab724['type']===_0x51e6d8(0x3b6))return{'content':{'video':{'url':_0x5ab724['content']},'caption':_0x5ab724[_0x51e6d8(0x477)]},'option':{'statusJidList':_0x5ab724[_0x51e6d8(0x606)]}};if(_0x5ab724['type']==='audio'){this['logger'][_0x51e6d8(0x5da)](_0x51e6d8(0x6a4)),this[_0x51e6d8(0x2a3)][_0x51e6d8(0x5da)](_0x51e6d8(0x314));let _0x10ceb8=await this['convertaudio'](_0x5ab724[_0x51e6d8(0x26d)]);if(typeof _0x10ceb8=='string'){this['logger'][_0x51e6d8(0x5da)](_0x51e6d8(0x2d4));let _0x2bd2e3=q[_0x51e6d8(0x4af)](_0x10ceb8)[_0x51e6d8(0x1ec)]('base64');return{'content':{'audio':Buffer[_0x51e6d8(0x50c)](_0x2bd2e3,_0x51e6d8(0x203)),'ptt':!0x0,'mimetype':_0x51e6d8(0x58e)},'option':{'statusJidList':_0x5ab724['statusJidList']}};}else throw new I(_0x10ceb8);}throw new w('Type\x20not\x20found');}async[a0_0x27193d(0x4fe)](_0x5c727d){const _0x2c8a4f=a0_0x27193d;return await this['sendMessageWithTyping'](_0x2c8a4f(0x4eb),{'status':await this[_0x2c8a4f(0x5f0)](_0x5c727d[_0x2c8a4f(0x4fe)])});}async[a0_0x27193d(0x5ba)](_0x387b26){const _0x439fca=a0_0x27193d;try{let _0x176298=await(0x0,m[_0x439fca(0x6bc)])({[_0x387b26[_0x439fca(0x6a5)]]:(0x0,P['isURL'])(_0x387b26[_0x439fca(0x62e)])?{'url':_0x387b26['media']}:Buffer[_0x439fca(0x50c)](_0x387b26[_0x439fca(0x62e)],_0x439fca(0x203))},{'upload':this['client'][_0x439fca(0x44b)]}),_0x13e680=_0x387b26[_0x439fca(0x6a5)]+_0x439fca(0x6ee);if(_0x387b26[_0x439fca(0x6a5)]===_0x439fca(0x6d5)&&!_0x387b26['fileName']){let _0x2b536f=new RegExp(/.*\/(.+?)\./)[_0x439fca(0x57b)](_0x387b26[_0x439fca(0x62e)]);_0x387b26['fileName']=_0x2b536f?_0x2b536f[0x1]:null;}let _0x33c419=(0x0,P[_0x439fca(0x3bb)])(_0x387b26[_0x439fca(0x62e)])?_0x387b26['media']['split']('?')[0x0]:_0x387b26[_0x439fca(0x62e)];this['logger']['verbose']('URL\x20limpa:\x20'+_0x33c419);let _0x41a4c9;(0x0,P['isURL'])(_0x387b26[_0x439fca(0x62e)])?_0x41a4c9=(0x0,kt[_0x439fca(0x280)])(_0x33c419):_0x387b26['fileName']&&_0x387b26[_0x439fca(0x159)][_0x439fca(0x53b)]('.')?_0x41a4c9=(0x0,kt[_0x439fca(0x280)])(_0x387b26[_0x439fca(0x159)]):_0x41a4c9=(0x0,kt[_0x439fca(0x280)])(_0x387b26['media']);let _0x393b98=Nr,_0x20d784=et;return _0x20d784&&this[_0x439fca(0x261)][_0x439fca(0x446)]()[_0x439fca(0x53b)](_0x20d784[_0x439fca(0x446)]())&&(_0x387b26[_0x439fca(0x477)]+='\x0a\x0a'+_0x393b98),_0x176298[_0x13e680][_0x439fca(0x477)]=_0x387b26?.[_0x439fca(0x477)],_0x176298[_0x13e680][_0x439fca(0x259)]=_0x41a4c9,_0x176298[_0x13e680][_0x439fca(0x159)]=_0x387b26['fileName'],_0x387b26[_0x439fca(0x6a5)]===_0x439fca(0x3b6)&&(_0x176298[_0x13e680][_0x439fca(0x6d8)]=Uint8Array['from']((0x0,Te[_0x439fca(0x4af)])((0x0,J[_0x439fca(0x5aa)])(process['cwd'](),_0x439fca(0x447)))),_0x176298[_0x13e680][_0x439fca(0x52d)]=!0x1),(0x0,m[_0x439fca(0x239)])('',{[_0x13e680]:{..._0x176298[_0x13e680]}},{'userJid':this[_0x439fca(0x19b)][_0x439fca(0x473)]});}catch(_0x459de8){throw this[_0x439fca(0x2a3)]['error'](this[_0x439fca(0x261)]+'\x20('+this[_0x439fca(0x19b)]['wuid']+'):\x20'+(_0x459de8 instanceof Error?_0x459de8['message']:JSON['stringify'](_0x459de8,null,0x2))),new I(_0x459de8?.[_0x439fca(0x1ec)]()||_0x459de8);}}async[a0_0x27193d(0x166)](_0xab6ad9){const _0x317e06=a0_0x27193d;let _0x5a4c86=await this['prepareMediaMessage'](_0xab6ad9[_0x317e06(0x166)]);return await this['sendMessageWithTyping'](_0xab6ad9[_0x317e06(0x520)],{..._0x5a4c86[_0x317e06(0x5a7)]},_0xab6ad9?.['options']);}async[a0_0x27193d(0x21c)](_0x1d1023,_0x250781){const _0x2632dd=a0_0x27193d;try{this['logger'][_0x2632dd(0x5da)](_0x2632dd(0x689));let _0x2a0d87,_0x6b386e=_0x250781+'-'+new Date()[_0x2632dd(0x4cc)]();this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x3d8)+_0x6b386e);let _0x240cbf=''+(0x0,J['join'])(this[_0x2632dd(0x269)],_0x6b386e+_0x2632dd(0x47b));if(this['logger']['verbose']('Output\x20path:\x20'+_0x240cbf),(0x0,P[_0x2632dd(0x42c)])(_0x1d1023)){this['logger'][_0x2632dd(0x5da)]('Image\x20is\x20base64');let _0x3464f6=_0x1d1023[_0x2632dd(0x468)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x11cd25=Buffer['from'](_0x3464f6,_0x2632dd(0x203));_0x2a0d87=''+(0x0,J[_0x2632dd(0x5aa)])(this[_0x2632dd(0x269)],_0x2632dd(0x4f0)+_0x6b386e+_0x2632dd(0x3de)),this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x6df)+_0x2a0d87),await(0x0,Lt[_0x2632dd(0x359)])(_0x11cd25)[_0x2632dd(0x3da)](_0x2a0d87),this['logger'][_0x2632dd(0x5da)](_0x2632dd(0x3fc));}else{this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x69c));let _0x45af56=new Date()[_0x2632dd(0x4cc)](),_0x2ef1eb=_0x1d1023+_0x2632dd(0x219)+_0x45af56;this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x4d9)+_0x2ef1eb);let _0x504d44=await Z[_0x2632dd(0x359)]['get'](_0x2ef1eb,{'responseType':_0x2632dd(0x16b)});this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x4c9));let _0x5da215=Buffer[_0x2632dd(0x50c)](_0x504d44[_0x2632dd(0x71b)],_0x2632dd(0x1a4));_0x2a0d87=''+(0x0,J['join'])(this[_0x2632dd(0x269)],'temp-'+_0x6b386e+'.png'),this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x6df)+_0x2a0d87),await(0x0,Lt[_0x2632dd(0x359)])(_0x5da215)[_0x2632dd(0x3da)](_0x2a0d87),this[_0x2632dd(0x2a3)]['verbose'](_0x2632dd(0x3fc));}return await(0x0,Lt[_0x2632dd(0x359)])(_0x2a0d87)[_0x2632dd(0x620)]()['toFile'](_0x240cbf),this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)]('Image\x20converted\x20to\x20WebP'),q['unlinkSync'](_0x2a0d87),this[_0x2632dd(0x2a3)][_0x2632dd(0x5da)](_0x2632dd(0x43a)),_0x240cbf;}catch(_0x160b1d){console[_0x2632dd(0x382)](_0x2632dd(0x413),_0x160b1d instanceof Error?_0x160b1d[_0x2632dd(0x5a7)]:JSON[_0x2632dd(0x4e8)](_0x160b1d,null,0x2));}}async[a0_0x27193d(0x7b3)](_0x12e92d){const _0x346d56=a0_0x27193d;let _0xf913c6=await this[_0x346d56(0x21c)](_0x12e92d[_0x346d56(0x7b2)][_0x346d56(0x67e)],_0x12e92d['number']),_0x1706e1=await this[_0x346d56(0x683)](_0x12e92d[_0x346d56(0x520)],{'sticker':{'url':_0xf913c6}},_0x12e92d?.[_0x346d56(0x5f1)]);return q[_0x346d56(0x521)](_0xf913c6),this['logger'][_0x346d56(0x5da)]('Converted\x20image\x20deleted'),_0x1706e1;}async[a0_0x27193d(0x698)](_0x27fab7){const _0x3f5585=a0_0x27193d;if(this[_0x3f5585(0x2a3)][_0x3f5585(0x5da)]('Sending\x20audio\x20whatsapp'),!_0x27fab7[_0x3f5585(0x5f1)]?.[_0x3f5585(0x774)]&&_0x27fab7['options']?.[_0x3f5585(0x774)]!==!0x1&&(_0x27fab7[_0x3f5585(0x5f1)][_0x3f5585(0x774)]=!0x0),_0x27fab7[_0x3f5585(0x5f1)]?.[_0x3f5585(0x774)]){let _0x44081f=await this[_0x3f5585(0x639)](_0x27fab7[_0x3f5585(0x4ea)][_0x3f5585(0x542)]);if(typeof _0x44081f==_0x3f5585(0x39f)){let _0x1781fb=q[_0x3f5585(0x4af)](_0x44081f)['toString'](_0x3f5585(0x203));return this[_0x3f5585(0x683)](_0x27fab7[_0x3f5585(0x520)],{'audio':Buffer['from'](_0x1781fb,_0x3f5585(0x203)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x3f5585(0x699),'delay':_0x27fab7?.['options']?.['delay']});}else throw new I(_0x44081f);}return await this['sendMessageWithTyping'](_0x27fab7[_0x3f5585(0x520)],{'audio':(0x0,P[_0x3f5585(0x3bb)])(_0x27fab7[_0x3f5585(0x4ea)][_0x3f5585(0x542)])?{'url':_0x27fab7[_0x3f5585(0x4ea)][_0x3f5585(0x542)]}:Buffer['from'](_0x27fab7['audioMessage'][_0x3f5585(0x542)],_0x3f5585(0x203)),'ptt':!0x0,'mimetype':_0x3f5585(0x14e)},{'presence':_0x3f5585(0x699),'delay':_0x27fab7?.['options']?.['delay']});}async[a0_0x27193d(0x639)](_0x2db5cf){const _0x34b3ce=a0_0x27193d;this[_0x34b3ce(0x2a3)][_0x34b3ce(0x5da)](_0x34b3ce(0x314));let _0x13eb10=(0x0,P[_0x34b3ce(0x3bb)])(_0x2db5cf)?(0x0,xs[_0x34b3ce(0x2ca)])('sha256')[_0x34b3ce(0x31e)](_0x2db5cf)[_0x34b3ce(0x508)](_0x34b3ce(0x345)):(0x0,xs['createHash'])(_0x34b3ce(0x70a))[_0x34b3ce(0x31e)](_0x2db5cf)[_0x34b3ce(0x508)](_0x34b3ce(0x345)),_0x354e02=''+(0x0,J[_0x34b3ce(0x5aa)])(this[_0x34b3ce(0x269)],_0x13eb10+'.ogg');if(q['existsSync'](_0x354e02))return this[_0x34b3ce(0x2a3)][_0x34b3ce(0x5da)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x354e02;let _0x22f4bc=''+(0x0,J[_0x34b3ce(0x5aa)])(this['storePath'],'temp-'+(0x0,Re['v4'])()+_0x34b3ce(0x2e3));if((0x0,P[_0x34b3ce(0x3bb)])(_0x2db5cf)){let _0xceb01f=new Date()[_0x34b3ce(0x4cc)](),_0x487609=_0x2db5cf+_0x34b3ce(0x219)+_0xceb01f,_0x5dcc1f=await Z['default'][_0x34b3ce(0x30a)](_0x487609,{'responseType':_0x34b3ce(0x16b)});q[_0x34b3ce(0x347)](_0x22f4bc,_0x5dcc1f[_0x34b3ce(0x71b)]);}else{let _0x3a78c4=Buffer[_0x34b3ce(0x50c)](_0x2db5cf,'base64');q['writeFileSync'](_0x22f4bc,_0x3a78c4);}return new Promise((_0x50e30c,_0x47fad9)=>{const _0x35bdff=_0x34b3ce;(0x0,Ft['exec'])(Tr[_0x35bdff(0x359)][_0x35bdff(0x1fb)]+_0x35bdff(0x510)+_0x22f4bc+_0x35bdff(0x484)+_0x354e02+_0x35bdff(0x73c),_0x1d4c56=>{const _0x3c4cdc=_0x35bdff;if(q['unlinkSync'](_0x22f4bc),_0x1d4c56){this[_0x3c4cdc(0x2a3)][_0x3c4cdc(0x5da)](_0x3c4cdc(0x5c4)),_0x47fad9(_0x1d4c56);return;}this[_0x3c4cdc(0x2a3)][_0x3c4cdc(0x5da)](_0x3c4cdc(0x40f)),_0x50e30c(_0x354e02);});});}async['buttonMessage'](_0x143519){const _0x962fcf=a0_0x27193d;let _0x4fa519={},_0x16084e=_0x962fcf(0x4aa);if(_0x143519[_0x962fcf(0x19a)]?.['mediaMessage']){_0x16084e=_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x166)]?.['mediatype'][_0x962fcf(0x374)]()??_0x962fcf(0x4aa),_0x4fa519['mediaKey']=_0x16084e[_0x962fcf(0x446)]()+'Message';let _0x2f4a70=await this[_0x962fcf(0x5ba)](_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x166)]);_0x4fa519[_0x962fcf(0x5a7)]=_0x2f4a70[_0x962fcf(0x5a7)][_0x4fa519[_0x962fcf(0x4b7)]],_0x4fa519[_0x962fcf(0x596)]='*'+_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x20d)]+_0x962fcf(0x2d8)+_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x2b8)];}let _0x3371c7={'text':_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x444)]['map'](_0x270c6d=>_0x270c6d[_0x962fcf(0x21b)]),'ids':_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x444)][_0x962fcf(0x5e5)](_0x4f88ca=>_0x4f88ca['buttonId'])};if(!(0x0,P[_0x962fcf(0x664)])(_0x3371c7['text'])||!(0x0,P[_0x962fcf(0x664)])(_0x3371c7[_0x962fcf(0x680)]))throw new w(_0x962fcf(0x3e6),_0x962fcf(0x126));return await this[_0x962fcf(0x683)](_0x143519[_0x962fcf(0x520)],{'buttonsMessage':{'text':_0x4fa519?.['mediaKey']?void 0x0:_0x143519['buttonMessage'][_0x962fcf(0x20d)],'contentText':_0x4fa519?.[_0x962fcf(0x596)]??_0x143519[_0x962fcf(0x19a)][_0x962fcf(0x2b8)],'footerText':_0x143519[_0x962fcf(0x19a)]?.['footerText'],'buttons':_0x143519['buttonMessage'][_0x962fcf(0x444)]['map'](_0x57ec0d=>({'buttonText':{'displayText':_0x57ec0d[_0x962fcf(0x21b)]},'buttonId':_0x57ec0d[_0x962fcf(0x52f)],'type':0x1})),'headerType':m['proto']['Message'][_0x962fcf(0x351)][_0x962fcf(0x4c7)][_0x16084e],[_0x4fa519?.[_0x962fcf(0x4b7)]]:_0x4fa519?.[_0x962fcf(0x5a7)]}},_0x143519?.[_0x962fcf(0x5f1)]);}async[a0_0x27193d(0x739)](_0x679cba){const _0x56b5d6=a0_0x27193d;return await this[_0x56b5d6(0x683)](_0x679cba[_0x56b5d6(0x520)],{'locationMessage':{'degreesLatitude':_0x679cba['locationMessage']['latitude'],'degreesLongitude':_0x679cba['locationMessage']['longitude'],'name':_0x679cba[_0x56b5d6(0x739)]?.['name'],'address':_0x679cba[_0x56b5d6(0x739)]?.[_0x56b5d6(0x140)]}},_0x679cba?.[_0x56b5d6(0x5f1)]);}async[a0_0x27193d(0x195)](_0x5768b7){const _0x829a8d=a0_0x27193d;let _0x5594c0={},_0x9eb106=_0x1f9448=>{const _0x28d877=a0_0x4236;let _0x27f60a='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1f9448[_0x28d877(0x11e)]+_0x28d877(0x771)+_0x1f9448[_0x28d877(0x11e)]+'\x0a';_0x1f9448[_0x28d877(0x2d9)]&&(_0x27f60a+=_0x28d877(0x74e)+_0x1f9448['organization']+';\x0a'),_0x1f9448[_0x28d877(0x6b4)]&&(_0x27f60a+=_0x28d877(0x3d4)+_0x1f9448[_0x28d877(0x6b4)]+'\x0a'),_0x1f9448[_0x28d877(0x474)]&&(_0x27f60a+='URL:'+_0x1f9448['url']+'\x0a');let _0x3083af='';return _0x1f9448[_0x28d877(0x1f9)]&&_0x1f9448[_0x28d877(0x1f9)][_0x28d877(0x3d2)]('|')['forEach']((_0x1cc816,_0x292335)=>{const _0x25c5ec=_0x28d877;let _0x19ca76=this[_0x25c5ec(0x110)](_0x1cc816)[_0x25c5ec(0x468)]('@s.whatsapp.net','');_0x3083af+=_0x25c5ec(0x336)+(_0x292335+0x1)+'.TEL;waid='+_0x19ca76+':'+_0x1cc816+_0x25c5ec(0x376)+(_0x292335+0x1)+'.X-ABLabel:Celular\x0a';}),_0x27f60a+=_0x3083af+_0x28d877(0x55b),_0x27f60a;};return _0x5768b7[_0x829a8d(0x195)][_0x829a8d(0x237)]===0x1?_0x5594c0[_0x829a8d(0x195)]={'displayName':_0x5768b7[_0x829a8d(0x195)][0x0][_0x829a8d(0x11e)],'vcard':_0x9eb106(_0x5768b7[_0x829a8d(0x195)][0x0])}:_0x5594c0[_0x829a8d(0x49d)]={'displayName':_0x5768b7[_0x829a8d(0x195)][_0x829a8d(0x237)]+'\x20contacts','contacts':_0x5768b7['contactMessage'][_0x829a8d(0x5e5)](_0x187324=>({'displayName':_0x187324['fullName'],'vcard':_0x9eb106(_0x187324)}))},await this[_0x829a8d(0x683)](_0x5768b7['number'],{..._0x5594c0},_0x5768b7?.['options']);}async[a0_0x27193d(0x5ad)](_0x5330ba){const _0x2234de=a0_0x27193d;return await this['sendMessageWithTyping'](_0x5330ba[_0x2234de(0x5ad)][_0x2234de(0x721)][_0x2234de(0x682)],{'reactionMessage':{'key':_0x5330ba[_0x2234de(0x5ad)][_0x2234de(0x721)],'text':_0x5330ba[_0x2234de(0x5ad)][_0x2234de(0x29a)]}});}async[a0_0x27193d(0x5e1)](_0x37229e){const _0x40d1ac=a0_0x27193d;let _0x14a3a9=[];for await(let _0x3a34d9 of _0x37229e[_0x40d1ac(0x624)]){let _0x5affe5=this[_0x40d1ac(0x110)](_0x3a34d9),_0x3a521d=!0x1;try{if((0x0,m['isJidGroup'])(_0x5affe5)){let _0x4c71aa=await this[_0x40d1ac(0x654)]({'groupJid':_0x5affe5},_0x40d1ac(0x79e));_0x14a3a9[_0x40d1ac(0x7b6)](new fe(_0x4c71aa[_0x40d1ac(0x1d1)]['id'],!!_0x4c71aa?.[_0x40d1ac(0x1d1)]['id'],_0x4c71aa?.[_0x40d1ac(0x1d1)]['subject'])),_0x3a521d=!!_0x4c71aa?.[_0x40d1ac(0x1d1)]['id'];}else{let _0x3af9b8=(await this[_0x40d1ac(0x5e0)][_0x40d1ac(0x45e)](_0x5affe5))[0x0];_0x14a3a9[_0x40d1ac(0x7b6)](new fe(_0x3af9b8['jid'],_0x3af9b8[_0x40d1ac(0x6d4)])),_0x3a521d=_0x3af9b8[_0x40d1ac(0x6d4)];}}catch{await this[_0x40d1ac(0x6bd)](_0x5affe5,_0x3a521d),_0x14a3a9[_0x40d1ac(0x7b6)](new fe(_0x3a34d9,!0x1));}}return _0x14a3a9;}async[a0_0x27193d(0x6bd)](_0x7e8e4d,_0x2f0e66){const _0x3369b6=a0_0x27193d;try{await this['repository'][_0x3369b6(0x396)][_0x3369b6(0x5d3)]({'where':{'_id':_0x7e8e4d,'imported':!0x0}},this['instance'][_0x3369b6(0x473)])&&(_0x2f0e66||(await this[_0x3369b6(0x418)][_0x3369b6(0x396)]['deleteChat'](_0x7e8e4d,this[_0x3369b6(0x19b)][_0x3369b6(0x473)]),console[_0x3369b6(0x5c8)](_0x3369b6(0x4bd)+_0x7e8e4d+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x16b61f){console['error'](_0x3369b6(0x48b),_0x16b61f);}}async['markMessageAsRead'](_0xa2b992){const _0xa1151c=a0_0x27193d;try{let _0x1a1a7a=_0xa2b992['readMessages'][_0xa1151c(0x46c)](_0x1a0c4a=>(0x0,m[_0xa1151c(0x448)])(_0x1a0c4a[_0xa1151c(0x682)])||(0x0,m[_0xa1151c(0x5a9)])(_0x1a0c4a[_0xa1151c(0x682)]))[_0xa1151c(0x5e5)](_0xb0609b=>({'remoteJid':_0xb0609b[_0xa1151c(0x682)],'fromMe':_0xb0609b['fromMe'],'id':_0xb0609b['id']}));await this[_0xa1151c(0x5e0)][_0xa1151c(0x40e)](_0x1a1a7a);let _0x4e43a9=_0x1a1a7a[_0xa1151c(0x5e5)](_0x53463d=>this[_0xa1151c(0x5ef)](_0x53463d,{'status':'READ','owner':this['instance'][_0xa1151c(0x473)]})),_0x33481b=_0x1a1a7a['map'](_0x5dda84=>this[_0xa1151c(0x418)][_0xa1151c(0x396)][_0xa1151c(0x5f2)]({'where':{'_id':_0x5dda84[_0xa1151c(0x682)]}},{'unreadcount':0x0},this['instance'][_0xa1151c(0x473)])),[_0x188820,_0x5184ee]=await Promise['all']([Promise['all'](_0x4e43a9),Promise[_0xa1151c(0x60e)](_0x33481b)]);return _0x5184ee[_0xa1151c(0x46c)](_0x5a1fec=>_0x5a1fec!==null)[_0xa1151c(0x6ff)](_0x5ae868=>{const _0x118219=_0xa1151c;U(this['instanceName'],_0x118219(0x4f9),{'chat':_0x5ae868});}),{'message':_0xa1151c(0x24c),'read':_0xa1151c(0x54c)};}catch(_0x167b2d){throw console['error'](_0xa1151c(0x7c7),_0x167b2d),new I(_0xa1151c(0x73f),_0x167b2d[_0xa1151c(0x1ec)]());}}async[a0_0x27193d(0x1c0)](_0x2f6ffe){const _0x1415eb=a0_0x27193d;let _0x2f0eef={'where':{'key':{'remoteJid':_0x2f6ffe}},'limit':0x1},_0x57ab20=await this['fetchMessages'](_0x2f0eef);return _0x57ab20||(console['error'](_0x1415eb(0x3f1),_0x2f6ffe),null);}async['archiveChat'](_0x183966){const _0x8f69c5=a0_0x27193d;this['logger']['verbose'](_0x8f69c5(0x164));try{let _0x584d52=_0x183966['lastMessage'],_0x45855=_0x183966[_0x8f69c5(0x396)];if(!_0x584d52&&_0x45855?_0x584d52=await this[_0x8f69c5(0x1c0)](_0x45855):(_0x584d52=_0x183966['lastMessage'],_0x584d52[_0x8f69c5(0x14d)]=_0x584d52?.[_0x8f69c5(0x14d)]??Date[_0x8f69c5(0x23b)](),_0x45855=_0x584d52?.[_0x8f69c5(0x721)]?.[_0x8f69c5(0x682)]),!_0x584d52||Object[_0x8f69c5(0x28f)](_0x584d52)[_0x8f69c5(0x237)]===0x0)throw new j(_0x8f69c5(0x6f3));this[_0x8f69c5(0x2a3)][_0x8f69c5(0x5da)](_0x8f69c5(0x2cf)+_0x45855);try{await this[_0x8f69c5(0x5e0)][_0x8f69c5(0x66c)]({'archive':_0x183966[_0x8f69c5(0x3c3)],'lastMessages':[_0x584d52]},this[_0x8f69c5(0x110)](_0x45855));}catch(_0x2b4b94){this[_0x8f69c5(0x2a3)][_0x8f69c5(0x382)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x45855+':\x20'+_0x2b4b94[_0x8f69c5(0x1ec)]());}this[_0x8f69c5(0x2a3)][_0x8f69c5(0x5da)](_0x8f69c5(0x787)+_0x45855);let _0x2f8394=await this['repository'][_0x8f69c5(0x396)][_0x8f69c5(0x5f2)]({'where':{'_id':_0x584d52?.[_0x8f69c5(0x721)]?.['remoteJid']}},{'archived':_0x183966['archive']},this[_0x8f69c5(0x19b)][_0x8f69c5(0x473)]);return _0x2f8394?(this[_0x8f69c5(0x2a3)][_0x8f69c5(0x5da)](_0x8f69c5(0x7be)+JSON[_0x8f69c5(0x4e8)](_0x2f8394)),U(this['instanceName'],_0x8f69c5(0x4f9),{'chat':_0x2f8394})):this[_0x8f69c5(0x2a3)][_0x8f69c5(0x382)](_0x8f69c5(0x1ae)+_0x45855),{'chatId':_0x45855,'archived':_0x183966[_0x8f69c5(0x3c3)]};}catch(_0xe3ef64){throw this[_0x8f69c5(0x2a3)][_0x8f69c5(0x382)](_0x8f69c5(0x128)+_0xe3ef64[_0x8f69c5(0x1ec)]()),new I({'archived':!0x1,'message':[_0x8f69c5(0x5a3),_0xe3ef64['toString']()]});}}async[a0_0x27193d(0x642)](_0x4d56d9){const _0x6ba8b=a0_0x27193d;try{let _0x1516c0=await this[_0x6ba8b(0x5e0)][_0x6ba8b(0x518)](_0x4d56d9[_0x6ba8b(0x682)],{'delete':_0x4d56d9});try{let _0x480483=await this[_0x6ba8b(0x5ef)](_0x4d56d9,{'status':_0x6ba8b(0x56b),'owner':this[_0x6ba8b(0x19b)][_0x6ba8b(0x473)]});this[_0x6ba8b(0x2a3)][_0x6ba8b(0x5da)](this[_0x6ba8b(0x261)]+'\x20('+this[_0x6ba8b(0x19b)][_0x6ba8b(0x473)]+'):\x20updateResult:'+_0x480483);}catch(_0x44f0f2){console[_0x6ba8b(0x382)](_0x6ba8b(0x573),_0x44f0f2);}return _0x1516c0;}catch(_0x524ec0){throw new I(_0x6ba8b(0x3ab),_0x524ec0?.['toString']());}}async[a0_0x27193d(0x1df)](_0x360d53){const _0x4183be=a0_0x27193d;try{let _0x234287=_0x360d53?.['message']?_0x360d53:await this[_0x4183be(0x763)](_0x360d53[_0x4183be(0x721)],!0x0);for(let _0x3c080a of va)_0x234287['message'][_0x3c080a]&&(_0x234287[_0x4183be(0x5a7)]=_0x234287[_0x4183be(0x5a7)][_0x3c080a]['message']);let _0x26c192,_0x39d715;for(let _0x27e3bc of Ma)if(_0x26c192=_0x234287[_0x4183be(0x5a7)][_0x27e3bc],_0x26c192){_0x39d715=_0x27e3bc;break;}if(!_0x26c192)throw _0x4183be(0x66f);typeof _0x26c192['mediaKey']==_0x4183be(0x426)&&(_0x234287['message']=JSON[_0x4183be(0x305)](JSON[_0x4183be(0x4e8)](_0x234287[_0x4183be(0x5a7)])));let _0x23f850=await(0x0,m[_0x4183be(0x649)])({'key':_0x234287?.['key'],'message':_0x234287?.['message']},_0x4183be(0x363),{},{'logger':(0x0,$t[_0x4183be(0x359)])({'level':_0x4183be(0x1cb)}),'reuploadRequest':this[_0x4183be(0x5e0)][_0x4183be(0x1ea)]});if(!(_0x23f850 instanceof Buffer))throw new Error(_0x4183be(0x344));let _0x3089d7=this[_0x4183be(0x29f)][_0x4183be(0x30a)](_0x4183be(0x647)),_0x4e03dd,_0xc26b7b;if(_0x26c192[_0x4183be(0x159)])_0x4e03dd=_0x26c192[_0x4183be(0x159)];else{let _0x343d55=_0x26c192[_0x4183be(0x259)]?.[_0x4183be(0x243)](/\/(\w+)/),_0x23f276=_0x343d55?_0x343d55[0x1]:null;if(!_0x23f276)throw new Error(_0x4183be(0x262));_0x4e03dd=(0x0,Re['v4'])()+'.'+_0x23f276;}_0x39d715===_0x4183be(0x4ea)&&_0x26c192[_0x4183be(0x259)]==='audio/ogg'?(_0x4e03dd=(0x0,Re['v4'])()+_0x4183be(0x615),_0xc26b7b='/media/'+await this[_0x4183be(0x639)](_0x23f850[_0x4183be(0x1ec)](_0x4183be(0x203)))):(await this[_0x4183be(0x142)](_0x23f850,_0x4e03dd),_0xc26b7b=_0x4183be(0x3b2)+_0x4e03dd);let _0x875410=this[_0x4183be(0x29f)][_0x4183be(0x30a)]('SERVER')[_0x4183be(0x6e2)];if(!_0x875410){let _0x3dd0d1=this[_0x4183be(0x29f)][_0x4183be(0x30a)](_0x4183be(0x1c4));_0x875410='https://'+(_0x3dd0d1&&_0x3dd0d1[_0x4183be(0x213)][_0x4183be(0x3d2)]('/')[0x4]);}_0xc26b7b=''+_0x875410+_0xc26b7b;let _0x4a7486=0xc*0x3c*0x3c*0x3e8,_0x3477af={'where':{'_id':_0x234287[_0x4183be(0x721)]['id']}},_0x3136ee={'message_normalized.fileUrl':_0xc26b7b,'message_normalized.expires_fileUrl':Date['now']()+_0x4a7486};try{let _0x96bd01=await this['repository']['message'][_0x4183be(0x31e)](_0x3477af,_0x3136ee,this['instance'][_0x4183be(0x473)]);_0x96bd01&&U(this[_0x4183be(0x261)],'messages',{'message':_0x96bd01});}catch(_0x1c5f86){this[_0x4183be(0x2a3)][_0x4183be(0x382)](this[_0x4183be(0x261)]+'\x20('+this[_0x4183be(0x19b)]['wuid']+_0x4183be(0x4d5)+(_0x1c5f86 instanceof Error?_0x1c5f86[_0x4183be(0x5a7)]:JSON['stringify'](_0x1c5f86,null,0x2)));}return{'mediaType':_0x39d715,'fileName':_0x26c192[_0x4183be(0x159)],'caption':_0x26c192[_0x4183be(0x477)],'size':{'fileLength':_0x26c192[_0x4183be(0x497)],'height':_0x26c192[_0x4183be(0x2c5)],'width':_0x26c192[_0x4183be(0x24e)]},'mimetype':_0x26c192['mimetype'],'base64':_0x23f850[_0x4183be(0x1ec)]('base64'),'fileUrl':_0xc26b7b,'expires_fileUrl':Date[_0x4183be(0x23b)]()+_0x4a7486};}catch(_0x179d00){throw this[_0x4183be(0x2a3)][_0x4183be(0x382)](this[_0x4183be(0x261)]+'\x20('+this[_0x4183be(0x19b)]['wuid']+_0x4183be(0x4d5)+(_0x179d00 instanceof Error?_0x179d00[_0x4183be(0x5a7)]:JSON['stringify'](_0x179d00,null,0x2))),new w(_0x179d00[_0x4183be(0x1ec)]());}}async[a0_0x27193d(0x142)](_0x3d4a88,_0x50f18b){const _0x2e6bcd=a0_0x27193d;let _0x45f5e7=J[_0x2e6bcd(0x359)][_0x2e6bcd(0x5aa)](__dirname,_0x2e6bcd(0x12d));q[_0x2e6bcd(0x666)](_0x45f5e7)||q[_0x2e6bcd(0x610)](_0x45f5e7,{'recursive':!0x0});let _0x369ed6=J[_0x2e6bcd(0x359)][_0x2e6bcd(0x5aa)](_0x45f5e7,_0x50f18b);return new Promise((_0x155943,_0x39d4e1)=>{const _0x3640d6=_0x2e6bcd;q[_0x3640d6(0x3ed)](_0x369ed6,_0x3d4a88,_0x1f5565=>{const _0x14280c=_0x3640d6;_0x1f5565?(this[_0x14280c(0x2a3)][_0x14280c(0x382)](_0x14280c(0x3d3)+(_0x1f5565 instanceof Error?_0x1f5565[_0x14280c(0x5a7)]:JSON[_0x14280c(0x4e8)](_0x1f5565,null,0x2))),_0x39d4e1(_0x1f5565)):(this[_0x14280c(0x2a3)][_0x14280c(0x5c8)](_0x14280c(0x2e0)+_0x369ed6),_0x155943(_0x369ed6));});});}async['fetchContacts'](_0x215900){const _0x521e82=a0_0x27193d;return await this[_0x521e82(0x418)][_0x521e82(0x242)][_0x521e82(0x76e)](_0x215900,this['instance'][_0x521e82(0x473)]);}async[a0_0x27193d(0x364)](){const _0x2d6906=a0_0x27193d;return await this[_0x2d6906(0x418)][_0x2d6906(0x79a)]['find']({'where':{}},this[_0x2d6906(0x19b)]['wuid']);}async[a0_0x27193d(0x4a6)](_0x3610bc){const _0xcfedd4=a0_0x27193d;return await this[_0xcfedd4(0x418)][_0xcfedd4(0x5a7)]['find'](_0x3610bc,this[_0xcfedd4(0x19b)][_0xcfedd4(0x473)]);}async[a0_0x27193d(0x1a1)](){const _0x2484c2=a0_0x27193d;return this[_0x2484c2(0x418)][_0x2484c2(0x396)][_0x2484c2(0x5ec)](this['instance'][_0x2484c2(0x473)]),this[_0x2484c2(0x418)][_0x2484c2(0x396)]['updateMissingEtiquetas'](this[_0x2484c2(0x19b)][_0x2484c2(0x473)]),this[_0x2484c2(0x418)][_0x2484c2(0x396)]['updateMissingTags'](this[_0x2484c2(0x19b)]['wuid']),this['repository'][_0x2484c2(0x396)][_0x2484c2(0x562)](this['instance'][_0x2484c2(0x473)]),await this[_0x2484c2(0x418)][_0x2484c2(0x396)][_0x2484c2(0x76e)]({'where':{}},this[_0x2484c2(0x19b)][_0x2484c2(0x473)]);}async[a0_0x27193d(0x2d7)](_0x17ff68){const _0x17e6e9=a0_0x27193d;try{if(!Array['isArray'](_0x17ff68)||_0x17ff68[_0x17e6e9(0x237)]===0x0)throw new Error(_0x17e6e9(0x232));let _0x1d75aa=[],_0x14266e=[];for(let _0x56f0d7 of _0x17ff68){if(_0x56f0d7[_0x17e6e9(0x310)])_0x56f0d7[_0x17e6e9(0x310)]=this[_0x17e6e9(0x110)](_0x56f0d7[_0x17e6e9(0x310)]);else continue;await this['repository'][_0x17e6e9(0x396)][_0x17e6e9(0x5d3)]({'where':{'_id':_0x56f0d7['_id']}},this[_0x17e6e9(0x19b)]['wuid'])?_0x14266e[_0x17e6e9(0x7b6)]({'_id':_0x56f0d7['_id'],'leadInfo':_0x56f0d7[_0x17e6e9(0x5c0)],'owner':this[_0x17e6e9(0x19b)][_0x17e6e9(0x473)]}):_0x1d75aa[_0x17e6e9(0x7b6)]({'_id':_0x56f0d7[_0x17e6e9(0x310)],'owner':this[_0x17e6e9(0x19b)][_0x17e6e9(0x473)],'leadInfo':_0x56f0d7[_0x17e6e9(0x5c0)],'imported':!0x0});}return _0x14266e[_0x17e6e9(0x237)]>0x0&&await this['repository']['chat'][_0x17e6e9(0x1dc)](_0x14266e[_0x17e6e9(0x5e5)](_0x2120e5=>({'query':{'where':{'_id':_0x2120e5['_id'],'owner':this[_0x17e6e9(0x19b)][_0x17e6e9(0x473)]}},'update':_0x2120e5}))),_0x1d75aa['length']>0x0&&await this[_0x17e6e9(0x418)][_0x17e6e9(0x396)]['insertMany'](_0x1d75aa,this[_0x17e6e9(0x19b)]['wuid']),{'updated':_0x14266e[_0x17e6e9(0x237)],'inserted':_0x1d75aa[_0x17e6e9(0x237)]};}catch(_0x36c5b1){throw console['error'](_0x17e6e9(0x1e1),_0x36c5b1),_0x36c5b1;}}async[a0_0x27193d(0x538)](_0x59815a){const _0x470abf=a0_0x27193d;try{if(!Array[_0x470abf(0x215)](_0x59815a)||_0x59815a[_0x470abf(0x237)]===0x0)throw new Error(_0x470abf(0x232));let _0x9eca6c=0x64,_0x51b6e7=0x0;for(let _0x565410=0x0;_0x565410<_0x59815a['length'];_0x565410+=_0x9eca6c){let _0x3ffcf9=_0x59815a[_0x470abf(0x3ee)](_0x565410,_0x565410+_0x9eca6c),{updated:_0x24b19f}=await this[_0x470abf(0x734)](_0x3ffcf9);_0x51b6e7+=_0x24b19f;}return{'updated':_0x51b6e7};}catch(_0x33e4c7){throw console[_0x470abf(0x382)](_0x470abf(0x1e1),_0x33e4c7),_0x33e4c7;}}async[a0_0x27193d(0x734)](_0x4f743d){const _0x1f2690=a0_0x27193d;try{let _0x3d0f24=await this[_0x1f2690(0x418)][_0x1f2690(0x79a)][_0x1f2690(0x76e)]({'where':{}},this[_0x1f2690(0x19b)][_0x1f2690(0x473)]),_0x37fc05=new Set(_0x3d0f24[_0x1f2690(0x5e5)](_0x21d28b=>_0x21d28b[_0x1f2690(0x310)])),_0x2f76b1=[],_0x13e1ce=[];for(let _0xd8acca of _0x4f743d){if(!_0xd8acca['_id'])continue;_0xd8acca[_0x1f2690(0x310)]=this[_0x1f2690(0x110)](_0xd8acca[_0x1f2690(0x310)]);let _0x368f1e=await this[_0x1f2690(0x418)][_0x1f2690(0x396)][_0x1f2690(0x5d3)]({'where':{'_id':_0xd8acca[_0x1f2690(0x310)]}},this[_0x1f2690(0x19b)][_0x1f2690(0x473)]),_0x2aefe4={};if(Object[_0x1f2690(0x451)](_0xd8acca[_0x1f2690(0x5c0)])['forEach'](([_0x46bec8,_0x267f9a])=>{const _0x4d06ad=_0x1f2690;_0x2aefe4[_0x4d06ad(0x1e6)+_0x46bec8]=_0x267f9a;}),_0x368f1e&&!_0x368f1e['imported']){let _0x52f88a=(_0xd8acca['leadInfo'][_0x1f2690(0x72f)]||[])[_0x1f2690(0x46c)](_0x344b5c=>_0x37fc05[_0x1f2690(0x4a9)](_0x344b5c)),_0x422eca=new Set(_0x368f1e[_0x1f2690(0x5c0)][_0x1f2690(0x72f)]||[]),_0x16fb24=_0x52f88a[_0x1f2690(0x46c)](_0x5bc922=>!_0x422eca[_0x1f2690(0x4a9)](_0x5bc922)),_0x2b7e00=[..._0x422eca]['filter'](_0x3c2221=>!_0x52f88a[_0x1f2690(0x53b)](_0x3c2221));_0x13e1ce[_0x1f2690(0x7b6)](..._0x16fb24['map'](_0x294d70=>this[_0x1f2690(0x4e0)](_0x294d70,_0xd8acca['_id']))),_0x13e1ce[_0x1f2690(0x7b6)](..._0x2b7e00[_0x1f2690(0x5e5)](_0x4134fb=>this['RemoveChatLabel'](_0x4134fb,_0xd8acca[_0x1f2690(0x310)]))),_0xd8acca[_0x1f2690(0x5c0)]['etiquetas']=_0x52f88a,_0x2f76b1['push']({'query':{'where':{'_id':_0xd8acca[_0x1f2690(0x310)],'owner':this['instance'][_0x1f2690(0x473)]}},'update':_0x2aefe4});}else _0x2aefe4[_0x1f2690(0x6be)]=!0x0,_0x2f76b1[_0x1f2690(0x7b6)]({'query':{'where':{'_id':_0xd8acca[_0x1f2690(0x310)],'owner':this[_0x1f2690(0x19b)][_0x1f2690(0x473)]}},'update':_0x2aefe4});}let _0x39eeab=await this[_0x1f2690(0x418)][_0x1f2690(0x396)]['updateMany'](_0x2f76b1);return await Promise[_0x1f2690(0x60e)](_0x13e1ce),{'updated':_0x39eeab};}catch(_0x1841ae){throw console[_0x1f2690(0x382)]('Erro\x20ao\x20importar\x20chats:',_0x1841ae),_0x1841ae;}}async['fetchPrivacySettings'](){const _0x4e2363=a0_0x27193d;return await this[_0x4e2363(0x5e0)][_0x4e2363(0x27b)]();}async['updatePrivacySettings'](_0x2884dc){const _0x308a25=a0_0x27193d;try{return await this[_0x308a25(0x5e0)][_0x308a25(0x74d)](_0x2884dc['privacySettings'][_0x308a25(0x70c)]),await this[_0x308a25(0x5e0)]['updateProfilePicturePrivacy'](_0x2884dc['privacySettings'][_0x308a25(0x718)]),await this['client']['updateStatusPrivacy'](_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x148)]),await this[_0x308a25(0x5e0)][_0x308a25(0x44c)](_0x2884dc['privacySettings'][_0x308a25(0x797)]),await this[_0x308a25(0x5e0)][_0x308a25(0x4a1)](_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x715)]),await this['client'][_0x308a25(0x4ef)](_0x2884dc[_0x308a25(0x4d8)]['groupadd']),this['client']?.['ws']?.[_0x308a25(0x788)](),{'update':'success','data':{'readreceipts':_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x70c)],'profile':_0x2884dc[_0x308a25(0x4d8)]['profile'],'status':_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x148)],'online':_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x797)],'last':_0x2884dc[_0x308a25(0x4d8)][_0x308a25(0x715)],'groupadd':_0x2884dc[_0x308a25(0x4d8)]['groupadd']}};}catch(_0x550c09){throw new I(_0x308a25(0x57d),_0x550c09[_0x308a25(0x1ec)]());}}async[a0_0x27193d(0x476)](_0x2f82f9){const _0x2d6a4e=a0_0x27193d;let _0x12a403=(_0x2f82f9?this['createJid'](_0x2f82f9):this[_0x2d6a4e(0x5e0)]?.['user']?.['id'])[_0x2d6a4e(0x468)](/:\d{1,2}@/g,'@');this[_0x2d6a4e(0x2a3)][_0x2d6a4e(0x5da)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x12a403);let _0x2a728e=await this['repository']['contact'][_0x2d6a4e(0x5d3)]({'where':{'_id':_0x12a403}},this[_0x2d6a4e(0x19b)][_0x2d6a4e(0x473)]),_0x275f8d=_0x2a728e?_0x2a728e[_0x2d6a4e(0x153)]:null;try{let _0x46f6af=(await this[_0x2d6a4e(0x5e1)]({'numbers':[_0x12a403]}))?.[_0x2d6a4e(0x65f)](),_0x38e0bc=(await this[_0x2d6a4e(0x3eb)](_0x12a403,null,!0x1))['cachedContact'][_0x2d6a4e(0x79d)],_0x5c3bc5=await this[_0x2d6a4e(0x4e9)](_0x46f6af?.['jid']),_0x238ea5=await this['fetchBusinessProfile'](_0x46f6af?.[_0x2d6a4e(0x22b)]),_0x44171d=(await this[_0x2d6a4e(0x3eb)](_0x12a403,null,!0x1))['cachedContact'][_0x2d6a4e(0x1d6)],_0x104a30=await this[_0x2d6a4e(0x418)][_0x2d6a4e(0x396)][_0x2d6a4e(0x5d3)]({'where':{'_id':_0x12a403}},this[_0x2d6a4e(0x19b)][_0x2d6a4e(0x473)]),_0x14a95b={'imagechat':_0x38e0bc,'contactname':_0x275f8d||null,'pushName':_0x44171d,'status':_0x5c3bc5?.['status'],'isBusiness':_0x238ea5[_0x2d6a4e(0x5af)],'email':_0x238ea5?.[_0x2d6a4e(0x6b4)],'description':_0x238ea5?.[_0x2d6a4e(0x2b8)],'website':_0x238ea5?.[_0x2d6a4e(0x6db)]?.[_0x2d6a4e(0x65f)](),'lastcache':Date['now'](),'imported':!_0x104a30},_0x1f7420=await this[_0x2d6a4e(0x418)]['chat'][_0x2d6a4e(0x5f2)]({'where':{'_id':_0x12a403}},_0x14a95b,this['instance']['wuid']),_0x351ab2={'owner':this[_0x2d6a4e(0x19b)][_0x2d6a4e(0x473)],'_id':_0x12a403,'profilePictureUrl':_0x38e0bc,'status':_0x5c3bc5?.[_0x2d6a4e(0x148)]};return this[_0x2d6a4e(0x418)]['contact'][_0x2d6a4e(0x31e)]([_0x351ab2],this[_0x2d6a4e(0x19b)]['wuid']),_0x1f7420&&U(this[_0x2d6a4e(0x261)],_0x2d6a4e(0x4f9),{'chat':_0x1f7420}),{'wuid':_0x46f6af?.['jid']||_0x12a403,'name':_0x46f6af?.[_0x2d6a4e(0x1d6)],'pushName':_0x44171d,'numberExists':_0x46f6af?.[_0x2d6a4e(0x6d4)],'picture':_0x38e0bc,'status':_0x5c3bc5?.[_0x2d6a4e(0x148)],'isBusiness':_0x238ea5[_0x2d6a4e(0x5af)],'email':_0x238ea5?.[_0x2d6a4e(0x6b4)],'description':_0x238ea5?.[_0x2d6a4e(0x2b8)],'website':_0x238ea5?.[_0x2d6a4e(0x6db)]?.['shift']()};}catch(_0x3a2085){return this[_0x2d6a4e(0x2a3)]['error'](_0x2d6a4e(0x1dd)+(_0x3a2085 instanceof Error?_0x3a2085[_0x2d6a4e(0x5a7)]:JSON[_0x2d6a4e(0x4e8)](_0x3a2085,null,0x2))),{};}}async[a0_0x27193d(0x3bd)](_0x42a109){const _0x5144dd=a0_0x27193d;this[_0x5144dd(0x2a3)]['verbose'](_0x5144dd(0x170));try{let _0x4622b6=_0x42a109?this[_0x5144dd(0x110)](_0x42a109):this[_0x5144dd(0x19b)][_0x5144dd(0x473)],_0x3e1750=await this[_0x5144dd(0x5e0)][_0x5144dd(0x658)](_0x4622b6);return this[_0x5144dd(0x2a3)][_0x5144dd(0x5da)]('Trying\x20to\x20get\x20business\x20profile'),_0x3e1750?(this[_0x5144dd(0x2a3)][_0x5144dd(0x5da)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x3e1750}):{'isBusiness':!0x1,'message':_0x5144dd(0x594),...(await this['whatsappNumber']({'numbers':[_0x4622b6]}))?.[_0x5144dd(0x65f)]()};}catch(_0x5d0e58){throw new I('Error\x20updating\x20profile\x20name',_0x5d0e58[_0x5144dd(0x1ec)]());}}async[a0_0x27193d(0x4e9)](_0x359d8b){const _0x28b422=a0_0x27193d;let _0x449b03=this[_0x28b422(0x110)](_0x359d8b);try{return{'wuid':_0x449b03,'status':(await this[_0x28b422(0x5e0)]['fetchStatus'](_0x449b03))?.['status']};}catch{return{'wuid':_0x449b03,'status':null};}}async[a0_0x27193d(0x4ee)](_0x531b36){const _0x264392=a0_0x27193d;try{return await this[_0x264392(0x5e0)][_0x264392(0x4ee)](_0x531b36),{'update':_0x264392(0x54c)};}catch(_0x3953f3){throw new I(_0x264392(0x536),_0x3953f3[_0x264392(0x1ec)]());}}async[a0_0x27193d(0x2c3)](_0x48dcfb){const _0x46d25c=a0_0x27193d;try{return await this[_0x46d25c(0x5e0)][_0x46d25c(0x2c3)](_0x48dcfb),{'update':_0x46d25c(0x54c)};}catch(_0x1281ff){throw new I(_0x46d25c(0x151),_0x1281ff['toString']());}}async['updateProfilePicture'](_0x4369f9){const _0x112600=a0_0x27193d;try{let _0x976fe5;if((0x0,P[_0x112600(0x3bb)])(_0x4369f9)){let _0x5ac41d=new Date()[_0x112600(0x4cc)](),_0x125202=_0x4369f9+_0x112600(0x219)+_0x5ac41d;_0x976fe5=(await Z[_0x112600(0x359)][_0x112600(0x30a)](_0x125202,{'responseType':_0x112600(0x16b)}))[_0x112600(0x71b)];}else{if((0x0,P[_0x112600(0x42c)])(_0x4369f9))_0x976fe5=Buffer[_0x112600(0x50c)](_0x4369f9,'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x112600(0x5e0)][_0x112600(0x597)](this['instance'][_0x112600(0x473)],_0x976fe5),{'update':_0x112600(0x54c)};}catch(_0x10b1c9){throw new I(_0x112600(0x7ca),_0x10b1c9[_0x112600(0x1ec)]());}}async['removeProfilePicture'](){const _0x478f6e=a0_0x27193d;try{return await this['client'][_0x478f6e(0x349)](this[_0x478f6e(0x19b)]['wuid']),{'update':_0x478f6e(0x54c)};}catch(_0x284c47){throw new I('Error\x20removing\x20profile\x20picture',_0x284c47['toString']());}}async['createGroup'](_0x40fa8b){const _0x10bf5a=a0_0x27193d;try{let _0x1dce92=_0x40fa8b[_0x10bf5a(0x2b1)][_0x10bf5a(0x5e5)](_0x9d0ee8=>this[_0x10bf5a(0x110)](_0x9d0ee8)),{id:_0x200ceb}=await this['client']['groupCreate'](_0x40fa8b['subject'],_0x1dce92);return _0x40fa8b?.[_0x10bf5a(0x2b8)]&&await this[_0x10bf5a(0x5e0)][_0x10bf5a(0x114)](_0x200ceb,_0x40fa8b[_0x10bf5a(0x2b8)]),{'metadata':await this[_0x10bf5a(0x5e0)][_0x10bf5a(0x3a1)](_0x200ceb)};}catch(_0xc78c51){throw this['logger'][_0x10bf5a(0x382)](this[_0x10bf5a(0x261)]+'\x20('+this[_0x10bf5a(0x19b)][_0x10bf5a(0x473)]+_0x10bf5a(0x4d5)+(_0xc78c51 instanceof Error?_0xc78c51[_0x10bf5a(0x5a7)]:JSON[_0x10bf5a(0x4e8)](_0xc78c51,null,0x2))),new I('Error\x20creating\x20group',_0xc78c51[_0x10bf5a(0x1ec)]());}}async['updateGroupPicture'](_0x1b4273){const _0x14674d=a0_0x27193d;try{let _0x21514d;if((0x0,P['isURL'])(_0x1b4273[_0x14674d(0x67e)])){let _0x4b1b0d=new Date()[_0x14674d(0x4cc)](),_0x1136f1=_0x1b4273['image']+'?timestamp='+_0x4b1b0d;_0x21514d=(await Z[_0x14674d(0x359)]['get'](_0x1136f1,{'responseType':'arraybuffer'}))[_0x14674d(0x71b)];}else{if((0x0,P[_0x14674d(0x42c)])(_0x1b4273[_0x14674d(0x67e)]))_0x21514d=Buffer[_0x14674d(0x50c)](_0x1b4273['image'],'base64');else throw new w(_0x14674d(0x24f));}return await this[_0x14674d(0x5e0)]['updateProfilePicture'](_0x1b4273['groupJid'],_0x21514d),{'update':'success'};}catch(_0xb9a056){throw new I('Error\x20update\x20group\x20picture',_0xb9a056[_0x14674d(0x1ec)]());}}async['groupDesc'](_0x245dda){const _0x4407a3=a0_0x27193d;try{return await this[_0x4407a3(0x5e0)]['groupUpdateDescription'](_0x245dda[_0x4407a3(0x44a)],_0x245dda[_0x4407a3(0x2b8)]),{'update':_0x4407a3(0x54c)};}catch(_0x4b9f1a){throw new I(_0x4407a3(0x1c5),_0x4b9f1a[_0x4407a3(0x1ec)]());}}async[a0_0x27193d(0x782)](_0x2ed31c){const _0x596b38=a0_0x27193d;try{return await this['client']['groupUpdateSubject'](_0x2ed31c[_0x596b38(0x44a)],_0x2ed31c[_0x596b38(0x1d6)]),{'update':_0x596b38(0x54c)};}catch(_0x2a8354){throw new I(_0x596b38(0x249),_0x2a8354[_0x596b38(0x1ec)]());}}async['toggleEphemeral'](_0x274ba1){const _0x11f130=a0_0x27193d;try{let _0x3d9c95=await this[_0x11f130(0x5e0)][_0x11f130(0x686)](_0x274ba1['groupJid'],_0x274ba1[_0x11f130(0x3ae)]);return{'success':!0x0};}catch(_0x1d9dff){throw new w(_0x11f130(0x401),_0x1d9dff[_0x11f130(0x1ec)]());}}async[a0_0x27193d(0x2f8)](_0x2ab07a){const _0x32d444=a0_0x27193d;try{return await this[_0x32d444(0x5e0)]['groupSettingUpdate'](_0x2ab07a['groupJid'],_0x2ab07a['setting']),{'update':_0x32d444(0x54c)};}catch(_0x1f0a9f){throw new I(_0x32d444(0x70b),_0x1f0a9f[_0x32d444(0x1ec)]());}}async[a0_0x27193d(0x38b)](_0x1200ed){const _0x49a7d0=a0_0x27193d;try{if(_0x1200ed[_0x49a7d0(0x7b0)]===!0x0&&await this[_0x49a7d0(0x5e0)][_0x49a7d0(0x5fc)](_0x1200ed[_0x49a7d0(0x44a)],_0x49a7d0(0x32b)),_0x1200ed[_0x49a7d0(0x7b0)]===!0x1&&await this[_0x49a7d0(0x5e0)][_0x49a7d0(0x5fc)](_0x1200ed[_0x49a7d0(0x44a)],_0x49a7d0(0x405)),_0x1200ed[_0x49a7d0(0x4f3)]===!0x0&&await this[_0x49a7d0(0x5e0)][_0x49a7d0(0x5fc)](_0x1200ed[_0x49a7d0(0x44a)],'announcement'),_0x1200ed['announce']===!0x1&&await this[_0x49a7d0(0x5e0)]['groupSettingUpdate'](_0x1200ed[_0x49a7d0(0x44a)],_0x49a7d0(0x6bf)),_0x1200ed[_0x49a7d0(0x511)]===!0x0&&await this['client'][_0x49a7d0(0x51d)](_0x1200ed[_0x49a7d0(0x44a)],'all_member_add'),_0x1200ed[_0x49a7d0(0x511)]===!0x1&&await this['client'][_0x49a7d0(0x51d)](_0x1200ed['groupJid'],_0x49a7d0(0x461)),_0x1200ed[_0x49a7d0(0x311)]===!0x0&&await this[_0x49a7d0(0x5e0)]['groupJoinApprovalMode'](_0x1200ed[_0x49a7d0(0x44a)],'on'),_0x1200ed[_0x49a7d0(0x311)]===!0x1&&await this['client'][_0x49a7d0(0x2ad)](_0x1200ed[_0x49a7d0(0x44a)],_0x49a7d0(0x144)),typeof _0x1200ed['expiration']<'u'&&_0x1200ed['expiration']!==null&&await this[_0x49a7d0(0x5e0)][_0x49a7d0(0x686)](_0x1200ed[_0x49a7d0(0x44a)],_0x1200ed['expiration']),_0x1200ed[_0x49a7d0(0x1d6)]&&await this[_0x49a7d0(0x5e0)]['groupUpdateSubject'](_0x1200ed[_0x49a7d0(0x44a)],_0x1200ed[_0x49a7d0(0x1d6)]),_0x1200ed['description']&&await this[_0x49a7d0(0x5e0)][_0x49a7d0(0x114)](_0x1200ed['groupJid'],_0x1200ed[_0x49a7d0(0x2b8)]),_0x1200ed['image']){let _0x549465;if((0x0,P[_0x49a7d0(0x3bb)])(_0x1200ed[_0x49a7d0(0x67e)])){let _0x176e5d=new Date()[_0x49a7d0(0x4cc)](),_0x3165e9=_0x1200ed[_0x49a7d0(0x67e)]+'?timestamp='+_0x176e5d;_0x549465=(await Z[_0x49a7d0(0x359)][_0x49a7d0(0x30a)](_0x3165e9,{'responseType':_0x49a7d0(0x16b)}))['data'];}else{if((0x0,P[_0x49a7d0(0x42c)])(_0x1200ed['image']))_0x549465=Buffer[_0x49a7d0(0x50c)](_0x1200ed[_0x49a7d0(0x67e)],_0x49a7d0(0x203));else throw new w(_0x49a7d0(0x24f));}await this[_0x49a7d0(0x5e0)]['updateProfilePicture'](_0x1200ed[_0x49a7d0(0x44a)],_0x549465);}return await this['findGroup']({'groupJid':_0x1200ed['groupJid']},_0x49a7d0(0x79e));}catch(_0x3507b6){throw new I(_0x49a7d0(0x70b),_0x3507b6[_0x49a7d0(0x1ec)]());}}async[a0_0x27193d(0x118)](_0x53f6e1){const _0x38363d=a0_0x27193d;try{if(_0x53f6e1['action']==='approve'||_0x53f6e1[_0x38363d(0x139)]===_0x38363d(0x48f)){let _0x1df06b=_0x53f6e1[_0x38363d(0x2b1)]['map'](_0x59b3b7=>this[_0x38363d(0x110)](_0x59b3b7));await this['client']['groupRequestParticipantsUpdate'](_0x53f6e1[_0x38363d(0x44a)],_0x1df06b,_0x53f6e1['action']);}else{let _0x29d457=_0x53f6e1[_0x38363d(0x2b1)]['map'](_0x34ee43=>this[_0x38363d(0x110)](_0x34ee43));await this[_0x38363d(0x5e0)][_0x38363d(0x60d)](_0x53f6e1[_0x38363d(0x44a)],_0x29d457,_0x53f6e1['action']);}return await this['findGroup']({'groupJid':_0x53f6e1[_0x38363d(0x44a)]},_0x38363d(0x79e));}catch(_0x3fbfda){throw new w(_0x38363d(0x5d2),_0x3fbfda[_0x38363d(0x1ec)]());}}async[a0_0x27193d(0x77c)](_0x11fce0){const _0xebaa19=a0_0x27193d;try{return await this[_0xebaa19(0x5e0)][_0xebaa19(0x77c)](_0x11fce0[_0xebaa19(0x10d)]);}catch(_0x2fbfb6){throw new I(_0xebaa19(0x5c9),_0x2fbfb6[_0xebaa19(0x1ec)]());}}async[a0_0x27193d(0x654)](_0x3ec60b,_0x8791b3=a0_0x27193d(0x442)){const _0x2bbd40=a0_0x27193d;try{let _0x8ccc81=await this[_0x2bbd40(0x5e0)][_0x2bbd40(0x3a1)](_0x3ec60b[_0x2bbd40(0x44a)]),_0x110ca5=[];try{_0x110ca5=await this[_0x2bbd40(0x5e0)]['groupRequestParticipantsList'](_0x3ec60b[_0x2bbd40(0x44a)]);}catch(_0x4080c3){this[_0x2bbd40(0x2a3)]['verbose'](this[_0x2bbd40(0x261)]+'\x20('+this[_0x2bbd40(0x19b)][_0x2bbd40(0x473)]+_0x2bbd40(0x565)+_0x3ec60b[_0x2bbd40(0x44a)]+':\x20'+(_0x4080c3 instanceof Error?_0x4080c3[_0x2bbd40(0x5a7)]:JSON[_0x2bbd40(0x4e8)](_0x4080c3,null,0x2)));}let _0x350f2b=null;try{_0x350f2b=(await this[_0x2bbd40(0x3eb)](_0x3ec60b['groupJid'],null,!0x0))['cachedContact'][_0x2bbd40(0x79d)];}catch(_0x56691b){this[_0x2bbd40(0x2a3)][_0x2bbd40(0x5da)](this['instanceName']+'\x20('+this[_0x2bbd40(0x19b)][_0x2bbd40(0x473)]+_0x2bbd40(0x5a8)+_0x3ec60b[_0x2bbd40(0x44a)]+':\x20'+(_0x56691b instanceof Error?_0x56691b['message']:JSON[_0x2bbd40(0x4e8)](_0x56691b,null,0x2)));}let _0x5c191d=_0x8ccc81['participants'][_0x2bbd40(0x5e5)](_0x1e30b3=>_0x1e30b3['id']),_0x5d1aa7=_0x110ca5['map'](_0xd0336b=>_0xd0336b[_0x2bbd40(0x22b)]),_0x3ca217=await this[_0x2bbd40(0x418)]['cacheContact']['findManyByIds']([..._0x5c191d,..._0x5d1aa7]),_0x23827e=_0x8ccc81[_0x2bbd40(0x2b1)][_0x2bbd40(0x5e5)](_0x242d50=>{const _0x37c2b7=_0x2bbd40;let _0x5e1977=_0x3ca217[_0x37c2b7(0x76e)](_0xd5c603=>_0xd5c603[_0x37c2b7(0x310)]===_0x242d50['id']);return{'id':_0x242d50['id'],'status':_0x242d50[_0x37c2b7(0x161)]?_0x242d50[_0x37c2b7(0x161)]:_0x37c2b7(0x6f2),'pushName':_0x5e1977?.[_0x37c2b7(0x1d6)],'profilePictureUrl':_0x5e1977?.[_0x37c2b7(0x79d)]};}),_0x5749b5=_0x110ca5[_0x2bbd40(0x5e5)](_0x5b9689=>{const _0x595b60=_0x2bbd40;let _0x40138c=_0x3ca217[_0x595b60(0x76e)](_0x2d2ede=>_0x2d2ede[_0x595b60(0x310)]===_0x5b9689[_0x595b60(0x22b)]);return{'id':_0x5b9689[_0x595b60(0x22b)],'status':_0x595b60(0x71c),'pushName':_0x40138c?.[_0x595b60(0x1d6)],'profilePictureUrl':_0x40138c?.[_0x595b60(0x79d)],'request_method':_0x5b9689[_0x595b60(0x455)],'request_time':_0x5b9689[_0x595b60(0x2c9)]};}),_0x458d1a=[..._0x23827e,..._0x5749b5];_0x8ccc81[_0x2bbd40(0x2b1)]=_0x458d1a;let _0x431393=await this['repository'][_0x2bbd40(0x396)][_0x2bbd40(0x5f2)]({'where':{'_id':_0x3ec60b['groupJid']}},{'imagechat':_0x350f2b,'name':_0x8ccc81['subject'],'group_size':_0x8ccc81[_0x2bbd40(0x6ae)],'group_announce':_0x8ccc81[_0x2bbd40(0x4f3)],'group_isCommunity':_0x8ccc81[_0x2bbd40(0x414)],'lastcache':Date[_0x2bbd40(0x23b)]()},this[_0x2bbd40(0x19b)][_0x2bbd40(0x473)]);return _0x431393&&U(this['instanceName'],_0x2bbd40(0x4f9),{'chat':_0x431393}),{'metadata':_0x8ccc81,'image':_0x350f2b};}catch(_0x2f33a2){if(_0x8791b3===_0x2bbd40(0x79e))return;throw new j(_0x2bbd40(0x569),_0x2f33a2[_0x2bbd40(0x1ec)]());}}async['findGroups2'](){const _0x5832d6=a0_0x27193d;try{let _0x264475=await this['client']['groupFetchAllParticipating'](),_0x4b5810=Object[_0x5832d6(0x15f)](_0x264475)['filter'](_0x2d6f78=>(0x0,m[_0x5832d6(0x448)])(_0x2d6f78?.['id']))[_0x5832d6(0x5e5)](async _0x5852e4=>{const _0x1e4d1b=_0x5832d6;try{let _0x2b39aa=await this['client'][_0x1e4d1b(0x20c)](_0x5852e4['id'],_0x1e4d1b(0x120)),_0x29a3de=await this[_0x1e4d1b(0x3eb)](_0x5852e4['id'],_0x5852e4[_0x1e4d1b(0x250)],!0x1),_0xc6dae0=_0x29a3de['cachedContact'][_0x1e4d1b(0x79d)],_0x27108f={'groupJid':_0x5852e4?.['id'],'subject':_0x5852e4?.[_0x1e4d1b(0x250)],'subjectOwner':_0x5852e4?.['subjectOwner']?.[_0x1e4d1b(0x3d2)]('@')[0x0],'subjectTime':_0x5852e4?.[_0x1e4d1b(0x730)],'size':_0x5852e4?.[_0x1e4d1b(0x2b1)]?.['length'],'owner':_0x5852e4?.['owner']?.[_0x1e4d1b(0x3d2)]('@')[0x0],'creation':_0x5852e4?.['creation'],'desc':_0x5852e4?.[_0x1e4d1b(0x660)],'restrict':_0x5852e4?.[_0x1e4d1b(0x7b0)],'announce':_0x5852e4?.[_0x1e4d1b(0x4f3)],'image':_0xc6dae0,'isCommunity':_0x5852e4?.[_0x1e4d1b(0x414)],'joinApprovalMode':_0x5852e4?.[_0x1e4d1b(0x311)],'memberCanAddParticipant':_0x5852e4?.['memberAddMode']},_0x3f34d7=await this['repository'][_0x1e4d1b(0x396)][_0x1e4d1b(0x5f2)]({'where':{'_id':_0x5852e4?.['id']}},{'imagechat':_0x29a3de[_0x1e4d1b(0x16e)][_0x1e4d1b(0x79d)],'name':_0x5852e4?.[_0x1e4d1b(0x250)],'group_size':_0x5852e4?.['size'],'group_announce':_0x5852e4?.['announce'],'group_isCommunity':_0x5852e4?.[_0x1e4d1b(0x414)],'lastcache':Date['now']()},this[_0x1e4d1b(0x19b)][_0x1e4d1b(0x473)]);return _0x3f34d7&&U(this[_0x1e4d1b(0x261)],'chats',{'chat':_0x3f34d7}),_0x27108f;}catch(_0x45b8d4){return this[_0x1e4d1b(0x2a3)][_0x1e4d1b(0x5da)](this[_0x1e4d1b(0x261)]+'\x20('+this['instance'][_0x1e4d1b(0x473)]+'):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20'+_0x5852e4['id']+':\x20'+(_0x45b8d4 instanceof Error?_0x45b8d4[_0x1e4d1b(0x5a7)]:JSON[_0x1e4d1b(0x4e8)](_0x45b8d4,null,0x2))),null;}}),_0x231d72=(await Promise[_0x5832d6(0x60e)](_0x4b5810))[_0x5832d6(0x46c)](_0x4607eb=>_0x4607eb!==null);return console[_0x5832d6(0x5c8)](_0x231d72[_0x5832d6(0x237)]+_0x5832d6(0x2b5)),_0x231d72;}catch(_0xd9fcac){throw new j(_0x5832d6(0x569),_0xd9fcac['toString']());}}async[a0_0x27193d(0x368)](){const _0x179889=a0_0x27193d;try{let _0x24d9de=[],_0x7b412=await this['client'][_0x179889(0x3c0)](),_0x5f28b5=Object[_0x179889(0x15f)](_0x7b412),_0x4a29c1=_0x5f28b5[_0x179889(0x46c)](_0x5df069=>(0x0,m['isJidGroup'])(_0x5df069?.['id']))[_0x179889(0x5e5)](async _0x4def94=>{const _0x10118f=_0x179889;try{return await this[_0x10118f(0x5e0)][_0x10118f(0x20c)](_0x4def94['id'],'preview');}catch(_0x2ad12a){return this['logger'][_0x10118f(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x10118f(0x473)]+_0x10118f(0x5a8)+_0x4def94['id']+':\x20'+(_0x2ad12a instanceof Error?_0x2ad12a[_0x10118f(0x5a7)]:JSON['stringify'](_0x2ad12a,null,0x2))),null;}}),_0x2cde28=await Promise['all'](_0x4a29c1);for(let _0x3ffd7b=0x0;_0x3ffd7b<_0x5f28b5[_0x179889(0x237)];_0x3ffd7b++){let _0x231355=_0x5f28b5[_0x3ffd7b];if((0x0,m['isJidGroup'])(_0x231355?.['id'])){_0x24d9de[_0x179889(0x7b6)]({'groupJid':_0x231355?.['id'],'subject':_0x231355?.[_0x179889(0x250)],'subjectOwner':_0x231355?.[_0x179889(0x6f4)]?.[_0x179889(0x3d2)]('@')[0x0],'subjectTime':_0x231355?.[_0x179889(0x730)],'size':_0x231355?.[_0x179889(0x2b1)]?.[_0x179889(0x237)],'owner':_0x231355?.[_0x179889(0x7a4)]?.['split']('@')[0x0],'creation':_0x231355?.['creation'],'desc':_0x231355?.[_0x179889(0x660)],'restrict':_0x231355?.[_0x179889(0x7b0)],'announce':_0x231355?.[_0x179889(0x4f3)],'image':_0x2cde28[_0x3ffd7b],'isCommunity':_0x231355?.['isCommunity'],'joinApprovalMode':_0x231355?.[_0x179889(0x311)],'memberCanAddParticipant':_0x231355?.[_0x179889(0x511)]});let _0xffca5b=await this[_0x179889(0x418)][_0x179889(0x396)][_0x179889(0x5f2)]({'where':{'_id':_0x231355?.['id']}},{'imagechat':_0x2cde28[_0x3ffd7b],'name':_0x231355?.[_0x179889(0x250)],'group_size':_0x231355?.[_0x179889(0x6ae)],'group_announce':_0x231355?.[_0x179889(0x4f3)],'group_isCommunity':_0x231355?.[_0x179889(0x414)],'lastcache':Date[_0x179889(0x23b)]()},this[_0x179889(0x19b)][_0x179889(0x473)]);_0xffca5b&&U(this[_0x179889(0x261)],'chats',{'chat':_0xffca5b});}}return _0x24d9de;}catch(_0x516f66){throw new j(_0x179889(0x569),_0x516f66[_0x179889(0x1ec)]());}}async['inviteCode'](_0x3a5726){const _0x5c2a5b=a0_0x27193d;try{let _0x3fd868=await this[_0x5c2a5b(0x5e0)][_0x5c2a5b(0x577)](_0x3a5726[_0x5c2a5b(0x44a)]);return{'inviteUrl':_0x5c2a5b(0x755)+_0x3fd868,'inviteCode':_0x3fd868};}catch(_0x518102){throw new j('No\x20invite\x20code',_0x518102[_0x5c2a5b(0x1ec)]());}}async[a0_0x27193d(0x667)](_0x1c3999){const _0x4785de=a0_0x27193d;try{let _0x18182a=await this[_0x4785de(0x5e0)][_0x4785de(0x23f)](_0x1c3999[_0x4785de(0x44a)]);return{'revoked':!0x0,'inviteUrl':_0x4785de(0x755)+_0x18182a,'inviteCode':_0x18182a};}catch(_0x492f86){throw new j(_0x4785de(0x6cc),_0x492f86['toString']());}}async['joinGroup'](_0x572866){const _0x3ce22c=a0_0x27193d;try{if((0x0,P[_0x3ce22c(0x3bb)])(_0x572866[_0x3ce22c(0x10d)]))var _0x46a226=_0x572866['inviteCode'][_0x3ce22c(0x3d2)]('/')[0x3];else var _0x46a226=_0x572866[_0x3ce22c(0x10d)];let _0x472cb5=await this['client']['groupAcceptInvite'](_0x46a226);return this['logger'][_0x3ce22c(0x5da)](this[_0x3ce22c(0x261)]+'\x20('+this[_0x3ce22c(0x19b)][_0x3ce22c(0x473)]+_0x3ce22c(0x4d5)+_0x472cb5),{'join':!0x0,'inviteCode':_0x46a226,'groupJid':_0x472cb5};}catch(_0x4000d4){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x4000d4['toString']());}}async[a0_0x27193d(0x71d)](_0x3d97bf){const _0x47b34d=a0_0x27193d;try{return{'participants':(await this[_0x47b34d(0x5e0)][_0x47b34d(0x3a1)](_0x3d97bf[_0x47b34d(0x44a)]))['participants']};}catch(_0x1dab58){throw new j('No\x20participants',_0x1dab58[_0x47b34d(0x1ec)]());}}async[a0_0x27193d(0x158)](_0x1f49c7){const _0x309b12=a0_0x27193d;try{return await this[_0x309b12(0x5e0)][_0x309b12(0x1e7)](_0x1f49c7[_0x309b12(0x44a)]),{'groupJid':_0x1f49c7[_0x309b12(0x44a)],'leave':!0x0};}catch(_0x53f0d6){throw new w(_0x309b12(0x3ea),_0x53f0d6[_0x309b12(0x1ec)]());}}async['pollMessage'](_0x4e4159){const _0x6065bf=a0_0x27193d;return await this[_0x6065bf(0x683)](_0x4e4159['number'],{'poll':{'name':_0x4e4159[_0x6065bf(0x19d)]?.[_0x6065bf(0x1d6)],'selectableCount':_0x4e4159[_0x6065bf(0x19d)][_0x6065bf(0x6c2)],'values':_0x4e4159[_0x6065bf(0x19d)]['values']}},_0x4e4159?.[_0x6065bf(0x5f1)]);}async[a0_0x27193d(0x3f6)](_0x421eac){const _0x5ce1dd=a0_0x27193d;return await this[_0x5ce1dd(0x683)](_0x421eac[_0x5ce1dd(0x520)],{'listMessage':{'title':_0x421eac['listMessage'][_0x5ce1dd(0x20d)],'description':_0x421eac[_0x5ce1dd(0x3f6)][_0x5ce1dd(0x2b8)],'buttonText':_0x421eac[_0x5ce1dd(0x3f6)]?.[_0x5ce1dd(0x21b)],'footerText':_0x421eac[_0x5ce1dd(0x3f6)]?.[_0x5ce1dd(0x35c)],'sections':_0x421eac[_0x5ce1dd(0x3f6)]['sections'],'listType':0x2}},_0x421eac?.['options']);}async[a0_0x27193d(0x15e)](_0x47f029){const _0x5923ff=a0_0x27193d;let _0xe110c3;if(_0x47f029[_0x5923ff(0x15e)][_0x5923ff(0x25b)]===_0x5923ff(0x705)){let _0x45028e=_0x47f029[_0x5923ff(0x15e)]['text']['indexOf']('\x0a'),_0x2128ff='',_0x38cf19='';_0x45028e!==-0x1?(_0x2128ff=_0x47f029['menuMessage']['text']['substring'](0x0,_0x45028e)[_0x5923ff(0x19c)](),_0x38cf19=_0x47f029[_0x5923ff(0x15e)]['text'][_0x5923ff(0x207)](_0x45028e+0x1)):_0x38cf19=_0x47f029[_0x5923ff(0x15e)][_0x5923ff(0x69b)];let _0x393604=_0x47f029['menuMessage'][_0x5923ff(0x2f1)]['filter'](_0x1e8304=>_0x1e8304[_0x5923ff(0x19c)]()!==''),_0x10fdca=this[_0x5923ff(0x339)](_0x393604);_0xe110c3={'listMessage':{'title':_0x2128ff,'description':_0x38cf19,'buttonText':_0x47f029['menuMessage'][_0x5923ff(0x21b)]||_0x5923ff(0x222),'footerText':_0x47f029['menuMessage']['footerText'],'sections':_0x10fdca,'listType':0x2}};}else{if(_0x47f029[_0x5923ff(0x15e)][_0x5923ff(0x25b)]===_0x5923ff(0x106)){let _0x2b48b5=_0x47f029[_0x5923ff(0x15e)][_0x5923ff(0x2f1)][_0x5923ff(0x46c)](_0x1f79b8=>!(_0x1f79b8[_0x5923ff(0x212)]('[')&&_0x1f79b8['endsWith'](']'))&&_0x1f79b8[_0x5923ff(0x19c)]()!=='')['map'](_0x4841e9=>_0x4841e9[_0x5923ff(0x3d2)]('\x0a')[0x0]);_0xe110c3={'poll':{'name':_0x47f029['menuMessage'][_0x5923ff(0x69b)],'selectableCount':_0x47f029['menuMessage']['selectableCount']||0x1,'values':_0x2b48b5}};}}return await this[_0x5923ff(0x683)](_0x47f029[_0x5923ff(0x520)],_0xe110c3,_0x47f029?.['options']);}[a0_0x27193d(0x339)](_0x142a22){const _0x249d76=a0_0x27193d;let _0x36ea13=[],_0x502f03={'rows':[]};return _0x142a22['forEach'](_0x3b69e4=>{const _0x3dc1d4=a0_0x4236;if(_0x3b69e4['startsWith']('[')&&_0x3b69e4[_0x3dc1d4(0x5c6)](']'))_0x502f03[_0x3dc1d4(0x1f8)][_0x3dc1d4(0x237)]>0x0&&_0x36ea13[_0x3dc1d4(0x7b6)](_0x502f03),_0x502f03={'title':_0x3b69e4[_0x3dc1d4(0x3ee)](0x1,-0x1),'rows':[]};else{let _0x4c8c99=_0x3b69e4['split']('\x0a')[_0x3dc1d4(0x5e5)](_0x5060f9=>_0x5060f9[_0x3dc1d4(0x19c)]()),_0x462d60=_0x4c8c99[0x0],_0x3ed1b9=_0x4c8c99[0x1]||null,_0x276e5d=_0x4c8c99[0x2]||_0x462d60;_0x502f03[_0x3dc1d4(0x1f8)]['push']({'title':_0x462d60,'description':_0x3ed1b9,'rowId':_0x276e5d});}}),_0x502f03[_0x249d76(0x1f8)][_0x249d76(0x237)]>0x0&&_0x36ea13[_0x249d76(0x7b6)](_0x502f03),_0x36ea13;}async[a0_0x27193d(0x5ef)](_0x593257,_0x3b2856){const _0x40c858=a0_0x27193d;if(await this[_0x40c858(0x763)](_0x593257,!0x0)){let _0x72bf7={'where':{'_id':_0x593257['id']}},_0x19bdae={'status':[_0x3b2856[_0x40c858(0x148)]][0x0]};try{let _0x381cb1=await this[_0x40c858(0x418)]['message'][_0x40c858(0x31e)](_0x72bf7,_0x19bdae,this[_0x40c858(0x19b)][_0x40c858(0x473)]);_0x381cb1&&U(this[_0x40c858(0x261)],_0x40c858(0x6ab),{'message':_0x381cb1});}catch{}}}[a0_0x27193d(0x327)](_0x399a82){const _0x9ddd49=a0_0x27193d;let _0x5b9628=[];return _0x399a82[_0x9ddd49(0x6ff)](_0x540d10=>{const _0x4744fd=_0x9ddd49;_0x540d10[_0x4744fd(0x20d)]&&_0x5b9628[_0x4744fd(0x7b6)]('['+_0x540d10[_0x4744fd(0x20d)]+']'),_0x540d10[_0x4744fd(0x1f8)]['forEach'](_0x16f5dc=>{const _0x3f5cdb=_0x4744fd;_0x5b9628[_0x3f5cdb(0x7b6)](_0x16f5dc['title']);});}),_0x5b9628[_0x9ddd49(0x5aa)]('|');}[a0_0x27193d(0x7a6)](_0x5aeaab){const _0x364977=a0_0x27193d;let _0xd85100=_0x5aeaab[_0x364977(0x468)](/\\n/g,'\x0a')[_0x364977(0x3d2)]('\x0a')[_0x364977(0x46c)](_0x586193=>_0x586193[_0x364977(0x53b)](_0x364977(0x2de))||_0x586193[_0x364977(0x53b)](_0x364977(0x616))),_0x5f2b9c='';return _0xd85100[_0x364977(0x6ff)](_0x1a2897=>{const _0xd7d868=_0x364977;let _0x316117=/TEL(?:.*):(.+)/,_0x193f22=/EMAIL(?:.*):(.+)/,_0x5e483e=_0x1a2897[_0xd7d868(0x243)](_0x316117),_0x226d4d=_0x1a2897[_0xd7d868(0x243)](_0x193f22);if(_0x5e483e){let _0x49df4a=_0x5e483e[0x1][_0xd7d868(0x468)](/-| |\+|\(|\)/g,'')['trim']();_0x5f2b9c+=_0xd7d868(0x302)+_0x49df4a+'\x0a';}else{if(_0x226d4d){let _0x645dab=_0x226d4d[0x1][_0xd7d868(0x19c)]();_0x5f2b9c+='E-mail:\x20'+_0x645dab+'\x0a';}}}),_0x5f2b9c[_0x364977(0x19c)]();}async[a0_0x27193d(0x490)](_0x4d6be1,_0x4f3f02,_0x534c51){const _0x118f41=a0_0x27193d;if(!_0x4d6be1[_0x118f41(0x323)])return;let _0x586fd0=_0x4f3f02['key']['remoteJid'][_0x118f41(0x468)](/:\d{1,2}@/g,'@'),_0x1934c4=_0x4f3f02['key'][_0x118f41(0x3a3)],_0xa639f1=_0x586fd0[_0x118f41(0x5c6)](_0x118f41(0x47f)),_0x42c338=_0x4f3f02[_0x118f41(0x35f)]?.[_0x118f41(0x69b)]||_0x4f3f02[_0x118f41(0x35f)]?.[_0x118f41(0x477)]||_0x4f3f02[_0x118f41(0x35f)]?.['vote']||_0x4f3f02['message_normalized']?.[_0x118f41(0x1d6)],_0xfb9f6b={'lastmsg':_0x4f3f02['messageTimestamp']||Date['now'](),'unreadcount':_0x1934c4?0x0:0x1,..._0x1934c4||_0xa639f1?{}:{'name':_0x4f3f02['pushName']},..._0xa639f1?{'group':_0xa639f1}:{},...!_0x1934c4&&!_0xa639f1&&_0x4f3f02[_0x118f41(0x20c)]?{'imagechat':_0x4f3f02[_0x118f41(0x20c)]}:{}},_0x5ce9f6=await this[_0x118f41(0x418)][_0x118f41(0x396)][_0x118f41(0x5f2)]({'where':{'_id':_0x586fd0}},_0xfb9f6b,this[_0x118f41(0x19b)][_0x118f41(0x473)],{'new':!0x0,'upsert':!0x0});if(_0x5ce9f6[_0x118f41(0x6be)]){let _0x49f960=await this[_0x118f41(0x418)]['label'][_0x118f41(0x76e)]({'where':{}},this['instance']['wuid']),_0x207ff4=new Set(_0x49f960['map'](_0xd1655a=>_0xd1655a[_0x118f41(0x310)])),_0x3b843f=(_0x5ce9f6['leadInfo']?.['etiquetas']||[])[_0x118f41(0x46c)](_0x569776=>_0x207ff4[_0x118f41(0x4a9)](_0x569776)),_0x105cc2={'leadInfo.etiquetas':_0x3b843f,'imported':!0x1};_0x5ce9f6=await this[_0x118f41(0x418)][_0x118f41(0x396)]['updateOne']({'where':{'_id':_0x586fd0}},_0x105cc2,this[_0x118f41(0x19b)][_0x118f41(0x473)]);for(let _0x470683 of _0x3b843f)await this[_0x118f41(0x4e0)](_0x470683,_0x586fd0);}if(!_0xa639f1&&(!_0x5ce9f6?.['leadInfo']||!_0x5ce9f6[_0x118f41(0x5c0)][_0x118f41(0x3c6)])&&_0x4f3f02[_0x118f41(0x153)]&&!_0x1934c4&&(_0x5ce9f6=await this[_0x118f41(0x418)]['chat'][_0x118f41(0x5f2)]({'where':{'_id':_0x586fd0}},{'leadInfo.nome':_0x4f3f02['pushName']},this[_0x118f41(0x19b)][_0x118f41(0x473)],{'new':!0x0,'upsert':!0x0})),_0x534c51===_0x118f41(0x4ac)&&_0x1934c4&&this[_0x118f41(0x3a6)]?.[_0x118f41(0x2ae)]['enabled']&&!_0x42c338['startsWith'](this[_0x118f41(0x3a6)]?.['flowConfig']['prefixCommand'])){let _0x371bbc=(this[_0x118f41(0x3a6)]?.[_0x118f41(0x2ae)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x28aad9=Date[_0x118f41(0x23b)]()+_0x371bbc;_0x5ce9f6?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this['repository'][_0x118f41(0x396)]['updateOne']({'where':{'_id':_0x586fd0}},{'leadInfo.desativadoFluxoAte':_0x28aad9},this[_0x118f41(0x19b)][_0x118f41(0x473)],{'new':!0x0,'upsert':!0x1}),this[_0x118f41(0x2a3)][_0x118f41(0x5da)](this[_0x118f41(0x261)]+'\x20('+this[_0x118f41(0x19b)][_0x118f41(0x473)]+_0x118f41(0x385)+_0x28aad9+'.'));}if(_0x5ce9f6)U(this[_0x118f41(0x261)],_0x118f41(0x4f9),{'chat':_0x5ce9f6});else{this[_0x118f41(0x2a3)]['error'](this[_0x118f41(0x261)]+'\x20('+this['instance'][_0x118f41(0x473)]+_0x118f41(0x372));return;}if(!this['AutomateSystem']?.[_0x118f41(0x2ae)]['enabled'])return this[_0x118f41(0x2a3)][_0x118f41(0x5da)](this['instanceName']+'\x20('+this[_0x118f41(0x19b)]['wuid']+_0x118f41(0x57e)),null;if(_0x5ce9f6[_0x118f41(0x310)][_0x118f41(0x53b)](_0x118f41(0x47f))&&this[_0x118f41(0x3a6)]?.[_0x118f41(0x2ae)][_0x118f41(0x63c)]===!0x0)return this[_0x118f41(0x2a3)][_0x118f41(0x5da)](this[_0x118f41(0x261)]+'\x20('+this['instance'][_0x118f41(0x473)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x5ce9f6[_0x118f41(0x5c0)]){if(_0x5ce9f6[_0x118f41(0x5c0)][_0x118f41(0x108)]===0x0||_0x5ce9f6[_0x118f41(0x5c0)][_0x118f41(0x6b9)])return this['logger'][_0x118f41(0x5da)](this[_0x118f41(0x261)]+'\x20('+this[_0x118f41(0x19b)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x586fd0+_0x118f41(0x4b5)),null;if(_0x5ce9f6['leadInfo'][_0x118f41(0x108)]>Date[_0x118f41(0x23b)]()&&!_0x4f3f02[_0x118f41(0x35f)]?.[_0x118f41(0x2cd)])return this['logger'][_0x118f41(0x5da)](this[_0x118f41(0x261)]+'\x20('+this['instance'][_0x118f41(0x473)]+_0x118f41(0x72b)+new Date(_0x5ce9f6['leadInfo']['desativadoFluxoAte'])[_0x118f41(0x73d)]()+_0x118f41(0x4b5)),null;}this[_0x118f41(0x2a3)][_0x118f41(0x5da)](this['instanceName']+'\x20('+this[_0x118f41(0x19b)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x118f41(0x321)](_0x534c51,_0x4f3f02);}async[a0_0x27193d(0x6b0)](_0x1655f9,_0x986b97){const _0x565526=a0_0x27193d;if(_0x986b97[_0x565526(0x323)]){let _0x3e700a=_0x1655f9[_0x565526(0x5e5)](async _0x64cf1f=>{const _0x57e214=_0x565526;try{let _0x3999e4={'_id':_0x64cf1f[_0x57e214(0x310)],'owner':_0x64cf1f[_0x57e214(0x7a4)],'lastcache':0x0};if(_0x64cf1f[_0x57e214(0x197)]!==null&&(_0x3999e4['group']=_0x64cf1f[_0x57e214(0x197)]),_0x64cf1f[_0x57e214(0x1d6)]!==null&&(_0x3999e4[_0x57e214(0x1d6)]=_0x64cf1f['name']),_0x64cf1f[_0x57e214(0x152)]!==null&&(_0x3999e4[_0x57e214(0x152)]=_0x64cf1f[_0x57e214(0x152)]),_0x64cf1f[_0x57e214(0x1eb)]!==null&&(_0x3999e4[_0x57e214(0x1eb)]=_0x64cf1f[_0x57e214(0x1eb)]),_0x64cf1f[_0x57e214(0x1eb)]===null&&(_0x3999e4[_0x57e214(0x1eb)]=_0x57e214(0x593)),_0x64cf1f[_0x57e214(0x2a4)]!==null&&(_0x3999e4[_0x57e214(0x2a4)]=_0x64cf1f['lastmsg']),_0x64cf1f[_0x57e214(0x5c7)]!==null&&(_0x3999e4[_0x57e214(0x5c7)]=_0x64cf1f['archived']),_0x64cf1f[_0x57e214(0x4d2)]!==null&&(_0x3999e4[_0x57e214(0x4d2)]=_0x64cf1f[_0x57e214(0x4d2)]),Object[_0x57e214(0x28f)](_0x3999e4)[_0x57e214(0x237)]>0x0)return await this[_0x57e214(0x418)]['chat'][_0x57e214(0x5f2)]({'where':{'_id':_0x64cf1f[_0x57e214(0x310)]}},_0x3999e4,this[_0x57e214(0x19b)][_0x57e214(0x473)]);}catch(_0x3d368b){return console[_0x57e214(0x382)](_0x57e214(0x30b)+_0x64cf1f[_0x57e214(0x310)]+':',_0x3d368b),null;}}),_0x572564=(await Promise[_0x565526(0x60e)](_0x3e700a))[_0x565526(0x46c)](_0x416e40=>_0x416e40!==null)[_0x565526(0x237)];this[_0x565526(0x2a3)][_0x565526(0x5da)](this[_0x565526(0x261)]+'\x20('+this[_0x565526(0x19b)][_0x565526(0x473)]+'):\x20'+_0x572564+_0x565526(0x1d5)+this[_0x565526(0x19b)]['wuid']+_0x565526(0x352));}}async[a0_0x27193d(0x5a5)](_0x1c7aff){const _0x5dcb56=a0_0x27193d;this[_0x5dcb56(0x2a3)]['verbose'](this[_0x5dcb56(0x261)]+'\x20('+this[_0x5dcb56(0x19b)]['wuid']+_0x5dcb56(0x636));let _0x48ae8a={'readMessages':[{'remoteJid':_0x1c7aff[_0x5dcb56(0x465)][_0x5dcb56(0x6a8)][_0x5dcb56(0x721)][_0x5dcb56(0x682)],'fromMe':_0x1c7aff['chatLog']['lastReceivedMessage'][_0x5dcb56(0x721)][_0x5dcb56(0x3a3)],'id':_0x1c7aff[_0x5dcb56(0x465)][_0x5dcb56(0x6a8)][_0x5dcb56(0x721)]['id']}]};await this[_0x5dcb56(0x45d)](_0x48ae8a);}async[a0_0x27193d(0x321)](_0xfa9c9c,_0x358731){const _0x580b7a=a0_0x27193d;try{let {key:_0x37bf07,message_normalized:_0x5524dd}=_0x358731,_0x50cc43=_0x5524dd,_0x42c1ba=_0x5524dd[_0x580b7a(0x69b)]||_0x5524dd[_0x580b7a(0x477)]||_0x5524dd[_0x580b7a(0x2cd)]||_0x5524dd[_0x580b7a(0x1d6)],_0x995d54=_0x37bf07[_0x580b7a(0x682)],_0x55c7cf;if(_0x50cc43[_0x580b7a(0x721)][_0x580b7a(0x3a3)]&&_0x42c1ba[_0x580b7a(0x19c)]()!==this[_0x580b7a(0x3a6)]?.[_0x580b7a(0x2ae)][_0x580b7a(0x2b9)][_0x580b7a(0x19c)]())return this[_0x580b7a(0x2a3)][_0x580b7a(0x5da)](this[_0x580b7a(0x261)]+'\x20('+this[_0x580b7a(0x19b)]['wuid']+_0x580b7a(0x1c2)),null;if(_0x50cc43[_0x580b7a(0x721)][_0x580b7a(0x3a3)]&&_0x42c1ba[_0x580b7a(0x19c)]()===this['AutomateSystem']?.[_0x580b7a(0x2ae)]['stopConversation']['trim']()){this[_0x580b7a(0x2a3)][_0x580b7a(0x5da)](this[_0x580b7a(0x261)]+'\x20('+this[_0x580b7a(0x19b)][_0x580b7a(0x473)]+_0x580b7a(0x572));let _0x2c8a4a=await this[_0x580b7a(0x418)][_0x580b7a(0x450)][_0x580b7a(0x76e)]({'remoteJid':_0x995d54,'status':_0x580b7a(0x665)},this[_0x580b7a(0x19b)][_0x580b7a(0x473)]);this['logger'][_0x580b7a(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x580b7a(0x473)]+'):\x20Conversas\x20encontradas:'+_0x2c8a4a);let _0x22b8c7=Date[_0x580b7a(0x23b)](),_0x323da4;return this[_0x580b7a(0x3a6)]?.[_0x580b7a(0x2ae)]['stopMinutes']===0x0?_0x323da4={'stoppedUntil':_0x22b8c7+0x7591f6200}:_0x323da4={'stoppedUntil':_0x22b8c7+this[_0x580b7a(0x3a6)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8},this[_0x580b7a(0x2a3)][_0x580b7a(0x5da)](this[_0x580b7a(0x261)]+'\x20('+this[_0x580b7a(0x19b)][_0x580b7a(0x473)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x323da4),this['updateStopChat'](_0x55c7cf,_0x323da4[_0x580b7a(0x564)]),null;}if(_0x42c1ba&&_0x42c1ba['startsWith'](this[_0x580b7a(0x3a6)]?.['flowConfig'][_0x580b7a(0x267)])&&_0x42c1ba[_0x580b7a(0x237)]>0x4){let _0x10fd87=await this[_0x580b7a(0x418)][_0x580b7a(0x4c0)][_0x580b7a(0x5d3)]({'where':{'startCommandWord':_0x42c1ba}},this[_0x580b7a(0x19b)][_0x580b7a(0x473)]);if(this[_0x580b7a(0x2a3)][_0x580b7a(0x5da)](this[_0x580b7a(0x261)]+'\x20('+this['instance'][_0x580b7a(0x473)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x10fd87)_0x55c7cf=await this['createNewConversation'](_0x10fd87,_0x50cc43[_0x580b7a(0x721)],_0x50cc43);else return this['logger'][_0x580b7a(0x5da)](this[_0x580b7a(0x261)]+'\x20('+this[_0x580b7a(0x19b)]['wuid']+_0x580b7a(0x325)),null;}else _0x55c7cf=await this[_0x580b7a(0x240)](_0x995d54,_0x50cc43);if(_0x55c7cf){this[_0x580b7a(0x2a3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x580b7a(0x473)]+_0x580b7a(0x3d1)),!_0x37bf07[_0x580b7a(0x3a3)]&&_0x55c7cf[_0x580b7a(0x40e)]&&this['readMessageBot'](_0x55c7cf);let _0x7aaafb=await this[_0x580b7a(0x7c4)](_0x55c7cf);_0x7aaafb&&await this[_0x580b7a(0x429)](_0x55c7cf,_0x7aaafb);}}catch(_0x15c360){this[_0x580b7a(0x2a3)]['error'](this[_0x580b7a(0x261)]+'\x20('+this[_0x580b7a(0x19b)][_0x580b7a(0x473)]+_0x580b7a(0x49a)+(_0x15c360 instanceof Error?_0x15c360[_0x580b7a(0x5a7)]:JSON[_0x580b7a(0x4e8)](_0x15c360,null,0x2)));}}[a0_0x27193d(0x43e)](_0x43a4d2,_0x443a84='',_0x252438={},_0x3f0e84=!0x0){const _0x4bd091=a0_0x27193d;for(let _0x5135f9 in _0x43a4d2){let _0x45156a=_0x3f0e84?'_'+_0x5135f9:''+_0x443a84+_0x5135f9;typeof _0x43a4d2[_0x5135f9]==_0x4bd091(0x426)&&_0x43a4d2[_0x5135f9]!==null?this[_0x4bd091(0x43e)](_0x43a4d2[_0x5135f9],_0x45156a+'.',_0x252438,!0x1):_0x252438[_0x45156a]=String(_0x43a4d2[_0x5135f9]);}return _0x252438;}['variablesToObject'](_0xdb9e54){const _0x12880b=a0_0x27193d;let _0x15bfa2={};for(let _0x19b03e of _0xdb9e54)typeof _0x19b03e[_0x12880b(0x1d6)]==_0x12880b(0x39f)&&typeof _0x19b03e[_0x12880b(0x425)]==_0x12880b(0x39f)&&(_0x15bfa2[_0x19b03e[_0x12880b(0x1d6)]]=_0x19b03e['value']);return _0x15bfa2;}async['NextBlock'](_0x4819f5){const _0x4a6fd4=a0_0x27193d;if(!this[_0x4a6fd4(0x3a6)]?.[_0x4a6fd4(0x2ae)][_0x4a6fd4(0x59d)]||_0x4819f5[_0x4a6fd4(0x148)]!==_0x4a6fd4(0x665)&&_0x4819f5[_0x4a6fd4(0x284)]==='')return null;let _0xcb0361=_0x4819f5[_0x4a6fd4(0x465)]['lastBlockId']||'start';typeof _0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x75b)]>'u'&&(_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x75b)]=!0x0);let _0x59b08c=_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x75b)];this[_0x4a6fd4(0x2a3)]['verbose'](this[_0x4a6fd4(0x261)]+'\x20('+this['instance'][_0x4a6fd4(0x473)]+_0x4a6fd4(0x62d)+_0xcb0361+_0x4a6fd4(0x2fd)+_0x59b08c);let _0x4a95e4=_0xcb0361===_0x4a6fd4(0x5b3)?_0x4819f5[_0x4a6fd4(0x224)]['find'](_0x4caf23=>_0x4caf23[_0x4a6fd4(0x25b)]===_0x4a6fd4(0x5b3)):_0x4819f5[_0x4a6fd4(0x224)][_0x4a6fd4(0x76e)](_0x1c9f38=>_0x1c9f38[_0x4a6fd4(0x310)][_0x4a6fd4(0x1ec)]()===_0xcb0361['toString']());if(!_0x4a95e4)return this[_0x4a6fd4(0x2a3)][_0x4a6fd4(0x382)](this['instanceName']+'\x20('+this[_0x4a6fd4(0x19b)][_0x4a6fd4(0x473)]+_0x4a6fd4(0x470)+_0xcb0361),null;let _0x23bea7={'_pushName':_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x6a8)]['pushName'],..._0x4819f5[_0x4a6fd4(0x465)]['realVariables']},_0x32d494=null;if(_0x4819f5['waitingMenu_id']){let _0x4c95b2=_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x6a8)][_0x4a6fd4(0x2cd)],_0x1b18cc=_0x4819f5[_0x4a6fd4(0x6e7)][_0x4a6fd4(0x76e)](_0x4762bb=>_0x4762bb[_0x4a6fd4(0x74c)]===_0x4c95b2);if(_0x1b18cc){let _0x5310a0=_0x1b18cc[_0x4a6fd4(0x4c3)];if(_0x32d494=_0x4819f5[_0x4a6fd4(0x224)]['find'](_0xc1a3f=>_0xc1a3f['groupId']===_0x5310a0&&_0xc1a3f[_0x4a6fd4(0x2cc)]===0x1),_0x4a95e4[_0x4a6fd4(0x47e)][_0x4a6fd4(0x7af)]){let _0x183627={'id':_0x4819f5['waitingMenu_id'],'remoteJid':_0x4819f5[_0x4a6fd4(0x682)],'fromMe':!0x0};await this[_0x4a6fd4(0x642)](_0x183627);}if(_0x4a95e4['uazapi'][_0x4a6fd4(0x7af)]&&_0x4a95e4['uazapi']['pollMessageOnDelete']&&_0x4a95e4[_0x4a6fd4(0x47e)][_0x4a6fd4(0x14a)]===_0x4a6fd4(0x106)){let _0x37b219={'number':_0x4819f5['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4a6fd4(0x188)+_0x4819f5[_0x4a6fd4(0x6b6)]+_0x4a6fd4(0x5d5)+_0x4c95b2}};await this[_0x4a6fd4(0x531)](_0x37b219);}_0x4819f5['status']=_0x4a6fd4(0x665),_0x4819f5[_0x4a6fd4(0x284)]='',_0x4819f5[_0x4a6fd4(0x6b6)]='',_0x4819f5[_0x4a6fd4(0x6e7)]=[];}else{this[_0x4a6fd4(0x2a3)]['verbose'](this[_0x4a6fd4(0x261)]+'\x20('+this[_0x4a6fd4(0x19b)][_0x4a6fd4(0x473)]+_0x4a6fd4(0x443));let _0x3a0c6e={'activatedCount':_0x4819f5['chatLog'][_0x4a6fd4(0x79f)][_0x4a6fd4(0x46c)](_0x12f407=>String(_0x12f407[_0x4a6fd4(0x517)])===String(_0xcb0361))[_0x4a6fd4(0x237)],'moreLogs':[_0x4a6fd4(0x6cf)]};if(_0x4a95e4['uazapi'][_0x4a6fd4(0x4a3)]){let _0x46d5af={'number':_0x4819f5[_0x4a6fd4(0x682)],'options':{'delay':0x0},'textMessage':{'text':_0x4a95e4[_0x4a6fd4(0x47e)][_0x4a6fd4(0x4a3)]}};await this['textMessage'](_0x46d5af);}if(_0x4a95e4['maxActives']!==void 0x0&&_0x3a0c6e[_0x4a6fd4(0x1b0)]>=_0x4a95e4[_0x4a6fd4(0x68c)]){let _0x22b782=Date[_0x4a6fd4(0x23b)](),_0xb24c84=_0x4a95e4[_0x4a6fd4(0x63d)]??0xa;isNaN(_0xb24c84)&&(_0xb24c84=0xa);let _0x4c29cb=_0x22b782+_0xb24c84*0x3c*0x3e8;_0x3a0c6e[_0x4a6fd4(0x6f9)]=_0x4c29cb,_0x3a0c6e[_0x4a6fd4(0x486)][_0x4a6fd4(0x7b6)](_0x4a6fd4(0x1fd)),this['updateStopChat'](_0x4819f5,_0x4c29cb),_0x4819f5[_0x4a6fd4(0x284)]='',_0x4819f5[_0x4a6fd4(0x6b6)]='',_0x4819f5[_0x4a6fd4(0x6e7)]=[];}return this['updateConversation'](_0x4819f5,_0x4a95e4,_0x3a0c6e,!0x0),null;}}if(_0x59b08c&&_0x4a95e4[_0x4a6fd4(0x4c3)]&&!_0x4819f5[_0x4a6fd4(0x284)]){let _0xbb0c90=_0x4819f5['blocks'][_0x4a6fd4(0x46c)](_0x476c68=>_0x476c68['groupId']['toString']()===_0x4a95e4[_0x4a6fd4(0x4c3)]['toString']())[_0x4a6fd4(0x522)]((_0x517bf8,_0x2b6eb7)=>_0x517bf8[_0x4a6fd4(0x2cc)]-_0x2b6eb7[_0x4a6fd4(0x2cc)]);_0xbb0c90['length']>0x0&&(_0x32d494=_0xbb0c90[0x0]);}if(!_0x32d494){let _0x526630=_0x4a95e4['groupId'],_0x24919e=_0x4819f5[_0x4a6fd4(0x224)][_0x4a6fd4(0x46c)](_0x3409=>_0x3409[_0x4a6fd4(0x7a8)]===_0x526630&&_0x3409['order']>_0x4a95e4[_0x4a6fd4(0x2cc)])[_0x4a6fd4(0x522)]((_0x5740cd,_0x1040e3)=>_0x5740cd[_0x4a6fd4(0x2cc)]-_0x1040e3[_0x4a6fd4(0x2cc)]);_0x24919e['length']>0x0&&(_0x32d494=_0x24919e[0x0]);}if(!_0x32d494)return _0x4819f5['status']=_0x4a6fd4(0x370),null;_0x4819f5['chatLog'][_0x4a6fd4(0x1cd)]=_0x23bea7;let _0x26f1ea=JSON['parse'](JSON[_0x4a6fd4(0x4e8)](_0x32d494));return this[_0x4a6fd4(0x769)](_0x26f1ea,_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x1cd)]),_0x4819f5[_0x4a6fd4(0x465)]['lastBlockId']=_0x26f1ea['_id'],_0x4819f5[_0x4a6fd4(0x465)][_0x4a6fd4(0x75b)]=!0x0,_0x26f1ea;}[a0_0x27193d(0x6ca)](_0x4f358d,_0x1bcbb7){const _0x31676c=a0_0x27193d;return _0x4f358d[_0x31676c(0x468)](/\{\{([^}]+)\}\}/g,(_0x58ef2a,_0x5c0f0a)=>_0x1bcbb7[_0x5c0f0a]||'');}['replaceVariablesInObject'](_0x22f86a,_0x59a9b0){const _0x3580ab=a0_0x27193d;for(let _0x54dcc1 in _0x22f86a)typeof _0x22f86a[_0x54dcc1]==_0x3580ab(0x39f)?_0x22f86a[_0x54dcc1]=this['replaceVariables'](_0x22f86a[_0x54dcc1],_0x59a9b0):typeof _0x22f86a[_0x54dcc1]==_0x3580ab(0x426)&&this[_0x3580ab(0x769)](_0x22f86a[_0x54dcc1],_0x59a9b0);}async[a0_0x27193d(0x29b)](_0x297ca8,_0x1fc5be){const _0x3b8957=a0_0x27193d;let _0x545662=_0x1fc5be['_id'];if(_0x297ca8[_0x3b8957(0x465)]&&_0x297ca8[_0x3b8957(0x465)][_0x3b8957(0x79f)]){let _0x17c8d8=_0x297ca8[_0x3b8957(0x465)][_0x3b8957(0x79f)][_0x3b8957(0x46c)](_0x3f4c1c=>String(_0x3f4c1c['blockId'])===String(_0x545662))['pop']();if(_0x17c8d8&&_0x17c8d8[_0x3b8957(0x382)]&&_0x1fc5be['stopIfLastReturnedError'])return _0x297ca8[_0x3b8957(0x148)]=_0x3b8957(0x370),await this[_0x3b8957(0x294)](_0x297ca8),null;}if(_0x1fc5be[_0x3b8957(0x25b)]===_0x3b8957(0x47e)&&_0x1fc5be[_0x3b8957(0x47e)]['command']===_0x3b8957(0x288)&&_0x297ca8[_0x3b8957(0x284)])return _0x297ca8['chatLog'][_0x3b8957(0x1e3)]=_0x545662,await this[_0x3b8957(0x294)](_0x297ca8),null;let _0x89f51b=await this[_0x3b8957(0x7c4)](_0x297ca8);if(_0x297ca8['chatLog']&&_0x297ca8[_0x3b8957(0x465)][_0x3b8957(0x79f)]){let _0x1e08f2=_0x297ca8[_0x3b8957(0x465)]['blockLogs']['filter'](_0x54d1fb=>String(_0x54d1fb[_0x3b8957(0x517)])===String(_0x545662))[_0x3b8957(0x237)];if(_0x1fc5be[_0x3b8957(0x68c)]!==void 0x0&&_0x1e08f2>=_0x1fc5be['maxActives']){let _0x4068e0=Date['now'](),_0x17f9eb=_0x1fc5be[_0x3b8957(0x63d)]??0xa;isNaN(_0x17f9eb)&&(_0x17f9eb=0xa);let _0x1b7bf6=_0x4068e0+_0x17f9eb*0x3c*0x3e8,_0x11a044={'newStoppedUntil':_0x1b7bf6};return this[_0x3b8957(0x361)](_0x297ca8,_0x1b7bf6),this[_0x3b8957(0x790)](_0x297ca8,_0x1fc5be,_0x11a044,!0x0),null;}}_0x89f51b&&_0x89f51b['type']!==_0x3b8957(0x20a)&&await this[_0x3b8957(0x429)](_0x297ca8,_0x89f51b),_0x89f51b||await this['saveConversationToDatabase'](_0x297ca8),_0x89f51b&&_0x89f51b[_0x3b8957(0x25b)]==='save'&&(_0x297ca8['chatLog']['lastBlockId']=_0x545662,await this[_0x3b8957(0x294)](_0x297ca8));}async[a0_0x27193d(0x429)](_0x7bb6db,_0x5a4af7){const _0xb170=a0_0x27193d;try{let _0x8c708c=_0x5a4af7['type'];this[_0xb170(0x2a3)]['verbose'](this[_0xb170(0x261)]+'\x20('+this[_0xb170(0x19b)][_0xb170(0x473)]+'):\x20Going\x20to\x20'+_0x8c708c);let _0x151b63={'uazapi':()=>this['processUazapi'](_0x7bb6db,_0x5a4af7),'save':()=>this['saveTextReply'](_0x7bb6db,_0x5a4af7),'stop':()=>this[_0xb170(0x2b9)](_0x7bb6db,_0x5a4af7),'condition':()=>this[_0xb170(0x78b)](_0x7bb6db,_0x5a4af7),'varedit':()=>this[_0xb170(0x427)](_0x7bb6db,_0x5a4af7),'apirequest':()=>this[_0xb170(0x7bf)](_0x7bb6db,_0x5a4af7),'goToFlow':()=>this[_0xb170(0x309)](_0x7bb6db,_0x5a4af7)}[_0x8c708c];_0x151b63&&await _0x151b63();}catch(_0x166ae4){this['logger'][_0xb170(0x382)](this[_0xb170(0x261)]+'\x20('+this[_0xb170(0x19b)]['wuid']+_0xb170(0x2b2)+(_0x166ae4 instanceof Error?_0x166ae4[_0xb170(0x5a7)]:JSON[_0xb170(0x4e8)](_0x166ae4,null,0x2)));}}async[a0_0x27193d(0x309)](_0x21be74,_0x181114){const _0x729cda=a0_0x27193d;if(this[_0x729cda(0x2a3)]['verbose'](this['instanceName']+'\x20('+this[_0x729cda(0x19b)][_0x729cda(0x473)]+_0x729cda(0x4ec)),!_0x21be74||!_0x181114)return this[_0x729cda(0x2a3)][_0x729cda(0x382)](this[_0x729cda(0x261)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x729cda(0x790)](_0x21be74,_0x181114,{},!0x0,!0x0),console[_0x729cda(0x5c8)](_0x729cda(0x422)),console[_0x729cda(0x5c8)](_0x181114);let _0x1b8666=_0x181114[_0x729cda(0x317)];console[_0x729cda(0x5c8)]('flowname:\x20',_0x1b8666),_0x21be74=await this[_0x729cda(0x7cb)](_0x1b8666,_0x21be74[_0x729cda(0x682)],_0x21be74['chatLog'][_0x729cda(0x1cd)]),this[_0x729cda(0x2a3)][_0x729cda(0x5da)](this[_0x729cda(0x261)]+'\x20('+this[_0x729cda(0x19b)][_0x729cda(0x473)]+_0x729cda(0x529));let _0x2cd36a=await this['NextBlock'](_0x21be74);_0x2cd36a&&await this[_0x729cda(0x429)](_0x21be74,_0x2cd36a);}async[a0_0x27193d(0x7cb)](_0x52bb89,_0x43dda2,_0x4b06a2){const _0x2021e8=a0_0x27193d;this[_0x2021e8(0x2a3)][_0x2021e8(0x5da)](this[_0x2021e8(0x261)]+'\x20('+this['instance']['wuid']+_0x2021e8(0x6b7));try{if(_0x52bb89=await this['repository'][_0x2021e8(0x4c0)][_0x2021e8(0x5d3)]({'where':{'name':_0x52bb89}},this['instance'][_0x2021e8(0x473)]),!_0x52bb89)return this[_0x2021e8(0x2a3)][_0x2021e8(0x382)](this[_0x2021e8(0x261)]+'\x20('+this[_0x2021e8(0x19b)][_0x2021e8(0x473)]+_0x2021e8(0x637)),null;let _0x4fa2a2=require('mongodb')[_0x2021e8(0x623)],_0x4a41cb=Date[_0x2021e8(0x23b)](),_0x4b93c2=_0x2021e8(0x5b3),_0x40cf23={},_0x5038df={},_0x5bf6ea={..._0x52bb89,'chatLog':null},_0x4de498={'lastReceivedMessage':_0x40cf23,'lastSendMessage':_0x5038df,'lastBlockId':_0x4b93c2,'lastCondition':!0x0,'realVariables':_0x4b06a2};_0x5bf6ea['chatLog']=_0x4de498,_0x5bf6ea[_0x2021e8(0x465)][_0x2021e8(0x1cd)]={..._0x4b06a2},delete _0x5bf6ea[_0x2021e8(0x310)],_0x5bf6ea[_0x2021e8(0x310)]=new _0x4fa2a2(),_0x5bf6ea['lastInteraction']=_0x4a41cb,_0x5bf6ea[_0x2021e8(0x148)]=_0x2021e8(0x665),_0x5bf6ea['remoteJid']=_0x43dda2;let _0x42578d=await this[_0x2021e8(0x418)]['flowConversation'][_0x2021e8(0x5f2)](_0x5bf6ea[_0x2021e8(0x310)],_0x5bf6ea,this[_0x2021e8(0x19b)][_0x2021e8(0x473)]);return this[_0x2021e8(0x2a3)][_0x2021e8(0x5da)](this[_0x2021e8(0x261)]+'\x20('+this['instance'][_0x2021e8(0x473)]+_0x2021e8(0x138)),_0x42578d?_0x5bf6ea:null;}catch(_0xd551ea){throw this[_0x2021e8(0x2a3)][_0x2021e8(0x382)](this[_0x2021e8(0x261)]+'\x20('+this[_0x2021e8(0x19b)][_0x2021e8(0x473)]+_0x2021e8(0x45f)+(_0xd551ea instanceof Error?_0xd551ea[_0x2021e8(0x5a7)]:JSON[_0x2021e8(0x4e8)](_0xd551ea,null,0x2))),new w(_0xd551ea[_0x2021e8(0x5a7)]);}}async['processApiRequest'](_0x22b959,_0x3781eb){const _0x5506c2=a0_0x27193d;let _0x4a5c59,_0x4ecee2;try{let _0x28c7b5=_0x3781eb[_0x5506c2(0x4b0)];if(!_0x28c7b5||!_0x28c7b5[_0x5506c2(0x474)]||!_0x28c7b5[_0x5506c2(0x201)])throw new Error(_0x5506c2(0x7ad));let _0x1c3499;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x5506c2(0x365)][_0x5506c2(0x598)](_0x166416=>_0x28c7b5[_0x5506c2(0x474)]['includes'](_0x166416))||_0x28c7b5['requestFile'])&&(_0x1c3499=_0x5506c2(0x16b));let _0x543e43='\u205f',_0x5d6649;try{_0x5d6649=JSON[_0x5506c2(0x305)](_0x28c7b5['bodyString'][_0x5506c2(0x468)](new RegExp(_0x543e43,'g'),'')),console['log'](_0x5506c2(0x2e5),_0x5d6649);}catch(_0x50b6c6){throw console['error'](_0x5506c2(0x779),_0x50b6c6),_0x50b6c6;}console[_0x5506c2(0x5c8)](_0x5506c2(0x5e6),_0x5d6649);let _0x211c68={'method':_0x28c7b5[_0x5506c2(0x201)],'url':_0x28c7b5[_0x5506c2(0x474)],'headers':_0x28c7b5[_0x5506c2(0x348)]||{},..._0x28c7b5[_0x5506c2(0x201)][_0x5506c2(0x374)]()!==_0x5506c2(0x10f)&&_0x28c7b5['bodyString']?{'data':JSON[_0x5506c2(0x305)](_0x28c7b5[_0x5506c2(0x2dc)]['replace'](new RegExp(_0x543e43,'g'),''))}:{},..._0x1c3499&&{'responseType':_0x1c3499}},_0xd2d23=await(0x0,Z['default'])(_0x211c68),_0x39be9a=_0xd2d23[_0x5506c2(0x130)][_0x5506c2(0x675)];if(_0x39be9a&&_0x39be9a['includes'](_0x5506c2(0x1e8))){_0x4a5c59=_0xd2d23[_0x5506c2(0x71b)];let _0xb31bb6=_0x22b959[_0x5506c2(0x465)]['realVariables'],_0x43288b=this[_0x5506c2(0x43e)](_0x4a5c59);return Object['assign'](_0xb31bb6,_0x43288b),_0x22b959[_0x5506c2(0x465)][_0x5506c2(0x1cd)]=_0xb31bb6,_0x4ecee2={'error':!0x1,'apiResponse':_0x4a5c59},this[_0x5506c2(0x790)](_0x22b959,_0x3781eb,_0x4ecee2),_0x4a5c59;}if(_0x39be9a&&(_0x39be9a[_0x5506c2(0x53b)](_0x5506c2(0x544))||_0x39be9a[_0x5506c2(0x53b)](_0x5506c2(0x67e))||_0x39be9a[_0x5506c2(0x53b)]('audio')||_0x39be9a[_0x5506c2(0x53b)](_0x5506c2(0x3b6)))){this[_0x5506c2(0x2a3)][_0x5506c2(0x5da)](this[_0x5506c2(0x261)]+'\x20('+this[_0x5506c2(0x19b)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x39be9a);let _0x4e6d37=(0x0,Re['v4'])(),_0x38fcdf='',_0x325ac7={'image/jpeg':_0x5506c2(0x541),'image/png':_0x5506c2(0x3de),'image/gif':_0x5506c2(0x75c),'image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':_0x5506c2(0x2e3),'audio/ogg':_0x5506c2(0x615),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':_0x5506c2(0x10c),'video/ogg':_0x5506c2(0x69a),'text/plain':'.txt','application/pdf':_0x5506c2(0x16d),'application/msword':_0x5506c2(0x28e),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x5506c2(0x33e),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x5506c2(0x3ef),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x5506c2(0x238)};_0x325ac7[_0x39be9a]?(_0x38fcdf=_0x325ac7[_0x39be9a],this[_0x5506c2(0x2a3)][_0x5506c2(0x5da)](this[_0x5506c2(0x261)]+'\x20('+this[_0x5506c2(0x19b)][_0x5506c2(0x473)]+_0x5506c2(0x27e)+_0x38fcdf)):(_0x38fcdf='.error',this[_0x5506c2(0x2a3)][_0x5506c2(0x5da)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5506c2(0x338)+_0x38fcdf)),_0x4e6d37+=_0x38fcdf,this['logger']['verbose'](this[_0x5506c2(0x261)]+'\x20('+this[_0x5506c2(0x19b)][_0x5506c2(0x473)]+_0x5506c2(0x111)+_0x4e6d37);let _0x4b5c06=this[_0x5506c2(0x29f)]['get'](_0x5506c2(0x1d0))['URL'];if(!_0x4b5c06){let _0x1f817d=this[_0x5506c2(0x29f)][_0x5506c2(0x30a)](_0x5506c2(0x1c4));_0x4b5c06=_0x5506c2(0x1ed)+(_0x1f817d&&_0x1f817d[_0x5506c2(0x213)][_0x5506c2(0x3d2)]('/')[0x4]);}let _0x1de863=Buffer[_0x5506c2(0x50c)](_0xd2d23[_0x5506c2(0x71b)]);await this[_0x5506c2(0x142)](_0x1de863,_0x4e6d37);let _0x3e8384=_0x5506c2(0x3b2)+_0x4e6d37;_0x3e8384=''+_0x4b5c06+_0x3e8384,_0x4a5c59={'fileUrl':_0x3e8384},_0x22b959[_0x5506c2(0x465)][_0x5506c2(0x1cd)][_0x5506c2(0x6bb)]=_0x3e8384;let _0x5148f7=_0x22b959[_0x5506c2(0x465)][_0x5506c2(0x1cd)],_0x1e933d=this['flattenObject'](_0x4a5c59);return Object['assign'](_0x5148f7,_0x1e933d),_0x22b959[_0x5506c2(0x465)][_0x5506c2(0x1cd)]=_0x5148f7,_0x4ecee2={'error':!0x1,'apiResponse':{'fileUrl':_0x3e8384}},this['updateConversation'](_0x22b959,_0x3781eb,_0x4ecee2),_0x4a5c59;}}catch(_0x3bdbbf){console[_0x5506c2(0x382)](_0x5506c2(0x35b),_0x3bdbbf[_0x5506c2(0x5a7)]),_0x3bdbbf[_0x5506c2(0x657)]&&(_0x4a5c59=_0x3bdbbf[_0x5506c2(0x657)]['data']);let _0x2d6f81=_0x22b959[_0x5506c2(0x465)]['realVariables'],_0x2d9f62=this[_0x5506c2(0x43e)](_0x4a5c59);return Object[_0x5506c2(0x3f4)](_0x2d6f81,_0x2d9f62),_0x22b959[_0x5506c2(0x465)][_0x5506c2(0x1cd)]=_0x2d6f81,_0x4ecee2={'error':!0x0,'errorLog':_0x3bdbbf['toString'](),'apiResponse':_0x4a5c59},this[_0x5506c2(0x790)](_0x22b959,_0x3781eb,_0x4ecee2),{'success':!0x1};}}[a0_0x27193d(0x23e)](_0x46901b,_0x263b84){const _0xf678fd=a0_0x27193d;let _0x316ef7=_0x593cb8=>{const _0x2fd521=a0_0x4236;let _0x297df9=_0x593cb8[_0x2fd521(0x468)](/[^0-9.,-]/g,'')[_0x2fd521(0x468)](',','.'),_0x1e5265=parseFloat(_0x297df9);return isNaN(_0x1e5265)?null:_0x1e5265;},_0x46a4b8=_0x263b84[_0xf678fd(0x1ef)],_0xf8257a=_0x263b84[_0xf678fd(0x650)];typeof _0x46a4b8==_0xf678fd(0x39f)&&(_0x46a4b8=this[_0xf678fd(0x6ca)](_0x46a4b8,_0x46901b[_0xf678fd(0x465)][_0xf678fd(0x1cd)])??''),typeof _0xf8257a==_0xf678fd(0x39f)&&(_0xf8257a=this[_0xf678fd(0x6ca)](_0xf8257a,_0x46901b[_0xf678fd(0x465)][_0xf678fd(0x1cd)])??'');let _0x5a76c8=null;if(!_0x263b84[_0xf678fd(0x67b)])return null;switch(this[_0xf678fd(0x2a3)][_0xf678fd(0x5da)](this[_0xf678fd(0x261)]+'\x20('+this['instance'][_0xf678fd(0x473)]+_0xf678fd(0x32d)+_0x46a4b8),this[_0xf678fd(0x2a3)][_0xf678fd(0x5da)](this[_0xf678fd(0x261)]+'\x20('+this[_0xf678fd(0x19b)][_0xf678fd(0x473)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0xf8257a),_0x263b84[_0xf678fd(0x67b)]){case'+':case'-':case'*':case'/':let _0x1eb72a=_0x316ef7(_0x46a4b8||'0'),_0x1682e1=_0x316ef7(_0xf8257a||'0');if(_0x1eb72a===null)return null;switch(_0x263b84[_0xf678fd(0x67b)]){case'+':_0x5a76c8=_0x1eb72a+(_0x1682e1??0x0);break;case'-':_0x5a76c8=_0x1eb72a-(_0x1682e1??0x0);break;case'*':_0x5a76c8=_0x1eb72a*(_0x1682e1??0x1);break;case'/':_0x1682e1!==0x0&&(_0x5a76c8=_0x1eb72a/(_0x1682e1??0x1));break;}break;case'findAndReplace':case _0xf678fd(0x2fe):let _0x53239f=_0xf8257a,_0x1a610b=_0x263b84[_0xf678fd(0x691)];if(typeof _0x1a610b==_0xf678fd(0x39f)&&(_0x1a610b=this[_0xf678fd(0x6ca)](_0x1a610b,_0x46901b[_0xf678fd(0x465)][_0xf678fd(0x1cd)])??''),_0x53239f&&_0x1a610b!==void 0x0){let _0x3c94e9=_0x263b84[_0xf678fd(0x67b)]==='findAndReplace'?new RegExp(_0x53239f[_0xf678fd(0x468)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x53239f,'g');_0x5a76c8=_0x46a4b8[_0xf678fd(0x468)](_0x3c94e9,_0x1a610b);}else console[_0xf678fd(0x4a4)](_0xf678fd(0x402));break;case _0xf678fd(0x599):_0x5a76c8=_0xf8257a;break;case'extractRegex':let _0x4a5a4f=_0x46a4b8[_0xf678fd(0x243)](new RegExp(_0xf8257a||''));_0x5a76c8=_0x4a5a4f?_0x4a5a4f[0x0]:'';break;case _0xf678fd(0x15b):_0x5a76c8=_0x46a4b8['slice'](0x0,parseInt(_0xf8257a||'0'));break;case _0xf678fd(0x395):let _0x28a971=parseInt(_0xf8257a||'0');_0x5a76c8=_0x46a4b8[_0xf678fd(0x3ee)](_0x46a4b8[_0xf678fd(0x237)]-_0x28a971);break;case _0xf678fd(0x710):let _0x5f2dbb=_0x316ef7(_0x46a4b8),_0x2b5a5e=parseInt(_0xf8257a||'0');_0x2b5a5e=Math[_0xf678fd(0x31d)](_0x2b5a5e),_0x5f2dbb!==null?_0x5a76c8=_0x5f2dbb[_0xf678fd(0x73d)](_0xf678fd(0x570),{'minimumFractionDigits':_0x2b5a5e,'maximumFractionDigits':_0x2b5a5e}):(console[_0xf678fd(0x4a4)](_0xf678fd(0x32a)+_0x46a4b8),_0x5a76c8=null);break;case'toBRL':let _0x2acaab=_0x316ef7(_0x46a4b8);_0x2acaab!==null?_0x5a76c8=_0x2acaab[_0xf678fd(0x73d)](_0xf678fd(0x570),{'style':_0xf678fd(0x1bf),'currency':_0xf678fd(0x3aa)}):(console[_0xf678fd(0x4a4)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x46a4b8),_0x5a76c8=null);break;case'upperCase':_0x5a76c8=_0x46a4b8['toUpperCase']();break;case'lowerCase':_0x5a76c8=_0x46a4b8[_0xf678fd(0x446)]();break;case _0xf678fd(0x6c4):_0x5a76c8=_0x46a4b8['split']('\x20')[_0xf678fd(0x5e5)](_0x23aa8c=>_0x23aa8c[_0xf678fd(0x780)](0x0)[_0xf678fd(0x374)]()+_0x23aa8c['slice'](0x1)[_0xf678fd(0x446)]())['join']('\x20');break;case _0xf678fd(0x772):_0x5a76c8=_0x46a4b8[_0xf678fd(0x19c)]();break;default:_0x5a76c8=_0x46a4b8;}return _0x5a76c8!==null?_0x5a76c8[_0xf678fd(0x1ec)]():null;}async[a0_0x27193d(0x427)](_0x2b1e7c,_0x176a6c){const _0x9f045c=a0_0x27193d;try{let _0x2ceec5=_0x2b1e7c[_0x9f045c(0x6a7)]?.[_0x9f045c(0x46c)](_0x48482e=>_0x48482e[_0x9f045c(0x517)]===_0x176a6c[_0x9f045c(0x310)]?.['toString']())||[],_0x2e1fd6=_0x176a6c['saveVariable'],_0x5daa64=null,_0x36bf68=[],_0x35967a=_0x2b1e7c[_0x9f045c(0x465)][_0x9f045c(0x1cd)][_0x2e1fd6];_0x36bf68[_0x9f045c(0x7b6)]('Valor\x20inicial:\x20\x22'+_0x35967a+'\x22');for(let _0x1942ca of _0x2ceec5){_0x1942ca[_0x9f045c(0x1ef)]=_0x35967a,_0x5daa64=_0x1942ca[_0x9f045c(0x1ef)];let _0x5a0086;try{_0x5a0086=this[_0x9f045c(0x23e)](_0x2b1e7c,_0x1942ca);}catch(_0x1c5262){console['error'](_0x9f045c(0x141)+_0x1c5262[_0x9f045c(0x5a7)]);continue;}if(_0x5a0086!==null){let _0x46bc1f=_0x9f045c(0x5f9)+_0x1942ca[_0x9f045c(0x67b)]+'\x22',_0x596397=[_0x9f045c(0x753),_0x9f045c(0x7cc),'lowerCase',_0x9f045c(0x6c4),_0x9f045c(0x772)];_0x1942ca[_0x9f045c(0x67b)]===_0x9f045c(0x181)||_0x1942ca[_0x9f045c(0x67b)]===_0x9f045c(0x2fe)?_0x46bc1f+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x1942ca[_0x9f045c(0x650)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1942ca[_0x9f045c(0x691)]+'\x22':!_0x596397[_0x9f045c(0x53b)](_0x1942ca[_0x9f045c(0x67b)])&&_0x1942ca['secondValue']!==null&&_0x1942ca[_0x9f045c(0x650)]!==void 0x0&&(_0x46bc1f+=_0x9f045c(0x3e4)+_0x1942ca['secondValue']+'\x22'),_0x46bc1f+=_0x9f045c(0x3c8)+_0x5a0086+'.',_0x36bf68[_0x9f045c(0x7b6)](_0x46bc1f);}_0x5a0086!==null&&(_0x35967a=_0x5a0086);}if(_0x2b1e7c[_0x9f045c(0x465)]['realVariables']&&_0x176a6c[_0x9f045c(0x2c6)]){_0x2b1e7c['chatLog']['realVariables'][_0x176a6c[_0x9f045c(0x2c6)]]=_0x35967a;let _0x268803={'variable':_0x176a6c[_0x9f045c(0x2c6)],'oldValue':_0x5daa64,'newValue':_0x35967a,'moreLogs':_0x36bf68};try{this['updateConversation'](_0x2b1e7c,_0x176a6c,_0x268803);}catch(_0x25a1fa){console['error'](_0x9f045c(0x2d6)+_0x25a1fa[_0x9f045c(0x5a7)]);}}return _0x2e1fd6;}catch(_0x422630){return console[_0x9f045c(0x382)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x422630[_0x9f045c(0x5a7)]),null;}}async[a0_0x27193d(0x78b)](_0x37d177,_0x3297b3){const _0x259fff=a0_0x27193d;try{let _0x39ab06=[],_0x397ec1=_0x37d177[_0x259fff(0x48a)][_0x259fff(0x46c)](_0x132e8f=>_0x132e8f[_0x259fff(0x517)]===_0x3297b3['_id'][_0x259fff(0x1ec)]()),_0x5bd8d4=null,_0x36336a=!0x1;for(let _0x21b709 of _0x397ec1){let _0x286350=this[_0x259fff(0x30e)](_0x37d177,_0x21b709);_0x39ab06[_0x259fff(0x7b6)]('Primeiro\x20Valor:\x20'+_0x21b709['firstValue']+_0x259fff(0x4bb)+_0x21b709[_0x259fff(0x275)]+_0x259fff(0x2d2)+_0x21b709['secondValue']+_0x259fff(0x3d9)+_0x286350),_0x5bd8d4===null?_0x5bd8d4=_0x286350:_0x21b709[_0x259fff(0x431)]===_0x259fff(0x295)?(_0x5bd8d4=_0x5bd8d4&&_0x286350,_0x286350||(_0x36336a=!0x0)):_0x21b709[_0x259fff(0x431)]==='or'&&(_0x36336a||(_0x5bd8d4=_0x5bd8d4||_0x286350));}_0x5bd8d4===null&&(_0x5bd8d4=!0x0);let _0x2e1df0={'moreLogs':_0x39ab06};_0x37d177[_0x259fff(0x465)]['lastCondition']=_0x5bd8d4,await this[_0x259fff(0x790)](_0x37d177,_0x3297b3,_0x2e1df0);}catch(_0x259320){this[_0x259fff(0x2a3)]['error'](this[_0x259fff(0x261)]+'\x20('+this['instance'][_0x259fff(0x473)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x259320 instanceof Error?_0x259320[_0x259fff(0x5a7)]:JSON[_0x259fff(0x4e8)](_0x259320,null,0x2)));}}[a0_0x27193d(0x30e)](_0x27890d,_0x2501ba){const _0x4e82f5=a0_0x27193d;let _0x39a51a=_0x2501ba['firstValue'],_0x12d7c1=_0x2501ba[_0x4e82f5(0x650)];typeof _0x39a51a==_0x4e82f5(0x39f)&&(_0x39a51a=this[_0x4e82f5(0x6ca)](_0x39a51a,_0x27890d[_0x4e82f5(0x465)][_0x4e82f5(0x1cd)])??''),typeof _0x12d7c1==_0x4e82f5(0x39f)&&(_0x12d7c1=this[_0x4e82f5(0x6ca)](_0x12d7c1,_0x27890d[_0x4e82f5(0x465)][_0x4e82f5(0x1cd)])??'');try{switch(_0x2501ba['expression']){case _0x4e82f5(0x587):return _0x39a51a===_0x12d7c1;case'notEqual':return _0x39a51a!==_0x12d7c1;case _0x4e82f5(0x626):return this[_0x4e82f5(0x626)](_0x39a51a,_0x12d7c1);case _0x4e82f5(0x270):return!this[_0x4e82f5(0x626)](_0x39a51a,_0x12d7c1);case _0x4e82f5(0x163):return parseFloat(_0x39a51a)>parseFloat(_0x12d7c1);case _0x4e82f5(0x604):return parseFloat(_0x39a51a)<parseFloat(_0x12d7c1);case'notEmpty':return _0x39a51a!=='';case _0x4e82f5(0x11f):return _0x39a51a==='';case'matchRegex':return new RegExp(_0x12d7c1)[_0x4e82f5(0x40a)](_0x39a51a);case _0x4e82f5(0x179):return!new RegExp(_0x12d7c1)[_0x4e82f5(0x40a)](_0x39a51a);default:return!0x1;}}catch(_0x1717f9){return console['error'](_0x4e82f5(0x58b)+_0x1717f9),!0x1;}}[a0_0x27193d(0x626)](_0x12856b,_0x5a6c0e){const _0x1c9789=a0_0x27193d;if(_0x12856b===_0x5a6c0e&&/^\d+$/[_0x1c9789(0x40a)](_0x12856b))return!0x0;if(this[_0x1c9789(0x54d)](_0x12856b)&&/^\d+$/[_0x1c9789(0x40a)](_0x5a6c0e)){let _0x5bed0f=_0x12856b[_0x1c9789(0x3d2)](',')[_0x1c9789(0x5e5)](_0x441a23=>parseInt(_0x441a23[_0x1c9789(0x19c)]())),_0x1bbc54=parseInt(_0x5a6c0e);return _0x5bed0f[_0x1c9789(0x53b)](_0x1bbc54);}return _0x12856b[_0x1c9789(0x53b)](_0x5a6c0e);}[a0_0x27193d(0x54d)](_0x3e71ef){const _0x53775f=a0_0x27193d;return/^\d+(,\d+)*$/[_0x53775f(0x40a)](_0x3e71ef);}[a0_0x27193d(0x185)](_0xeb8548){const _0x498cd9=a0_0x27193d;let _0x692f5c=!0x0,_0x43d15f=null;for(let _0x3227ee of _0xeb8548){let _0x10e2d1=this[_0x498cd9(0x651)](_0x3227ee);if(_0x43d15f==='or'&&_0x10e2d1){_0x692f5c=!0x0;break;}if(_0x43d15f==='and'&&!_0x10e2d1){_0x692f5c=!0x1;break;}_0x43d15f=_0x3227ee[_0x498cd9(0x431)];}return _0x692f5c;}[a0_0x27193d(0x651)](_0x3ef046){const _0x2844ab=a0_0x27193d;let _0x314817=_0x3ef046[_0x2844ab(0x1ef)],_0x4e249b=_0x3ef046[_0x2844ab(0x650)];try{switch(_0x3ef046['expression']){case _0x2844ab(0x587):return String(_0x314817)===String(_0x4e249b);case _0x2844ab(0x381):return String(_0x314817)!==String(_0x4e249b);case'contains':return String(_0x314817)['includes'](String(_0x4e249b));case'notContains':return!String(_0x314817)[_0x2844ab(0x53b)](String(_0x4e249b));case'greater':return parseFloat(String(_0x314817))>parseFloat(String(_0x4e249b));case _0x2844ab(0x604):return parseFloat(String(_0x314817))<parseFloat(String(_0x4e249b));case _0x2844ab(0x700):return String(_0x314817)!=='';case _0x2844ab(0x11f):return String(_0x314817)==='';case'matchRegex':return new RegExp(String(_0x4e249b))[_0x2844ab(0x40a)](String(_0x314817));case'notMatchRegex':return!new RegExp(String(_0x4e249b))[_0x2844ab(0x40a)](String(_0x314817));default:return!0x1;}}catch(_0x4afd2e){return console[_0x2844ab(0x382)](_0x2844ab(0x58b)+_0x4afd2e),!0x1;}}async[a0_0x27193d(0x775)](_0x319c2d,_0x5557cc){const _0xda74b7=a0_0x27193d;if(this[_0xda74b7(0x2a3)][_0xda74b7(0x5da)](this[_0xda74b7(0x261)]+'\x20('+this[_0xda74b7(0x19b)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x319c2d||!_0x5557cc)return this[_0xda74b7(0x2a3)][_0xda74b7(0x382)](this[_0xda74b7(0x261)]+'\x20('+this['instance']['wuid']+_0xda74b7(0x56d)),null;let _0x571806=_0x5557cc['saveVariable'],_0x159526=_0x319c2d[_0xda74b7(0x465)][_0xda74b7(0x6a8)][_0xda74b7(0x69b)]||_0x319c2d[_0xda74b7(0x465)][_0xda74b7(0x6a8)][_0xda74b7(0x477)]||_0x319c2d[_0xda74b7(0x465)]['lastReceivedMessage']['vote'];try{_0x319c2d[_0xda74b7(0x465)][_0xda74b7(0x1cd)]||(_0x319c2d[_0xda74b7(0x465)]['realVariables']={});let _0x334560=_0x319c2d['chatLog'][_0xda74b7(0x1cd)][_0x571806];_0x319c2d[_0xda74b7(0x465)][_0xda74b7(0x1cd)][_0x571806]=_0x159526;let _0x20f723={'variable':_0x571806,'oldValue':_0x334560,'newValue':_0x159526};this['updateConversation'](_0x319c2d,_0x5557cc,_0x20f723),this[_0xda74b7(0x2a3)][_0xda74b7(0x5da)](this['instanceName']+'\x20('+this[_0xda74b7(0x19b)][_0xda74b7(0x473)]+_0xda74b7(0x68e));}catch(_0xd43983){let _0x3930af={'error':!0x0,'errorLog':_0xd43983[_0xda74b7(0x1ec)]()};return this[_0xda74b7(0x790)](_0x319c2d,_0x5557cc,_0x3930af),this[_0xda74b7(0x2a3)]['error'](this[_0xda74b7(0x261)]+'\x20('+this['instance'][_0xda74b7(0x473)]+_0xda74b7(0x23c)+(_0xd43983 instanceof Error?_0xd43983['message']:JSON[_0xda74b7(0x4e8)](_0xd43983,null,0x2))),null;}}async[a0_0x27193d(0x2b9)](_0x575ddd,_0x373dc9){const _0x495614=a0_0x27193d;if(this[_0x495614(0x2a3)]['verbose'](this[_0x495614(0x261)]+'\x20('+this[_0x495614(0x19b)][_0x495614(0x473)]+_0x495614(0x4d0)),!_0x575ddd||!_0x373dc9)return this[_0x495614(0x2a3)][_0x495614(0x382)](this['instanceName']+'\x20('+this[_0x495614(0x19b)][_0x495614(0x473)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4d84c0=Date[_0x495614(0x23b)](),_0x370cdb=parseInt(_0x373dc9[_0x495614(0x272)],0xa);if(isNaN(_0x370cdb))return this[_0x495614(0x2a3)][_0x495614(0x382)](this[_0x495614(0x261)]+'\x20('+this[_0x495614(0x19b)][_0x495614(0x473)]+_0x495614(0x46b)),null;let _0x115955={'newStoppedUntil':_0x4d84c0+_0x370cdb*0x3c*0x3e8};return await this[_0x495614(0x790)](_0x575ddd,_0x373dc9,_0x115955,!0x0),null;}async[a0_0x27193d(0x617)](_0x1ed750,_0x3a51fc){const _0x414461=a0_0x27193d;try{switch(_0x3a51fc[_0x414461(0x47e)]['command']){case _0x414461(0x165):await this[_0x414461(0x643)](_0x1ed750,_0x3a51fc);break;case'sendMedia':await this[_0x414461(0x1e2)](_0x1ed750,_0x3a51fc);break;case _0x414461(0x70f):await this[_0x414461(0x252)](_0x1ed750,_0x3a51fc);break;case'sendAudio':await this[_0x414461(0x55e)](_0x1ed750,_0x3a51fc);break;case'sendContact':await this[_0x414461(0x304)](_0x1ed750,_0x3a51fc);break;case'sendPoll':await this[_0x414461(0x33c)](_0x1ed750,_0x3a51fc);break;case _0x414461(0x571):await this[_0x414461(0x33c)](_0x1ed750,_0x3a51fc);break;case _0x414461(0x642):await this[_0x414461(0x322)](_0x1ed750,_0x3a51fc);break;default:this[_0x414461(0x2a3)][_0x414461(0x382)](this[_0x414461(0x261)]+'\x20('+this[_0x414461(0x19b)][_0x414461(0x473)]+_0x414461(0x337)+_0x3a51fc[_0x414461(0x47e)]['command']);}}catch(_0x5a5c30){this['logger'][_0x414461(0x382)](this[_0x414461(0x261)]+'\x20('+this['instance'][_0x414461(0x473)]+_0x414461(0x672)+(_0x5a5c30 instanceof Error?_0x5a5c30[_0x414461(0x5a7)]:JSON[_0x414461(0x4e8)](_0x5a5c30,null,0x2)));}}async[a0_0x27193d(0x790)](_0x24d7d3,_0x4739af,_0x38e80b,_0x1a47bd=!0x1,_0x850b12=!0x1){const _0x4620d6=a0_0x27193d;_0x24d7d3['chatLog']['blockLogs']||(_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x79f)]=[]);let _0x3f0c78=(_0x24d7d3[_0x4620d6(0x465)]['blockLogs']?.[_0x4620d6(0x237)]??0x0)+0x1,_0x4afacd=_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x79f)][_0x4620d6(0x46c)](_0xe8cfc1=>String(_0xe8cfc1[_0x4620d6(0x517)])===String(_0x4739af[_0x4620d6(0x310)]))[_0x4620d6(0x237)]+0x1,_0x5a39b0=_0x38e80b?.[_0x4620d6(0x42f)]??Date[_0x4620d6(0x23b)](),_0x197de2=_0x38e80b?.[_0x4620d6(0x382)]?_0x38e80b[_0x4620d6(0x1d9)]??_0x38e80b[_0x4620d6(0x382)]['toString']():void 0x0,_0x4dbb63={'onTime':_0x5a39b0,'blockId':_0x4739af[_0x4620d6(0x310)],'order':_0x3f0c78,'activatedCount':_0x4afacd,'error':_0x38e80b?.[_0x4620d6(0x382)]??!0x1,'messageId':_0x38e80b?.[_0x4620d6(0x149)],'apiResponse':_0x38e80b?.[_0x4620d6(0x5d9)],'apiResponseString':_0x38e80b?.[_0x4620d6(0x5d9)]?JSON[_0x4620d6(0x4e8)](_0x38e80b?.[_0x4620d6(0x5d9)]):void 0x0,'variable':_0x38e80b?.[_0x4620d6(0x2ea)],'oldValue':_0x38e80b?.['oldValue'],'newValue':_0x38e80b?.['newValue'],'newStoppedUntil':_0x38e80b?.['newStoppedUntil'],'moreLogs':_0x38e80b?.[_0x4620d6(0x486)],'errorLog':_0x197de2};if(_0x38e80b['moreLogs']&&_0x38e80b[_0x4620d6(0x486)]['length']>0x0){let _0x4b638a=_0x38e80b['moreLogs']['map'](_0x109d93=>this[_0x4620d6(0x3f2)](_0x109d93,_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x1cd)]));_0x4dbb63['moreLogs']=_0x4b638a;}_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x1cd)]||(_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x1cd)]={}),_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x1cd)][_0x4620d6(0x5f4)]=String(_0x4afacd),_0x24d7d3['chatLog'][_0x4620d6(0x1cd)][_0x4620d6(0x6ba)]=String(_0x38e80b[_0x4620d6(0x382)]??!0x1),_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x79f)]['push'](_0x4dbb63),_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x1e3)]=_0x4739af['_id']['toString'](),_0x24d7d3['chatLog']['lastSendMessage']&&(_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x561)]=_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x561)]),_0x24d7d3['chatLog']['lastReceivedMessage']&&(_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x6a8)]=_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x6a8)]),_0x24d7d3[_0x4620d6(0x465)][_0x4620d6(0x75b)]&&(_0x24d7d3['chatLog'][_0x4620d6(0x75b)]=_0x24d7d3[_0x4620d6(0x465)]['lastCondition']),_0x850b12&&(_0x24d7d3[_0x4620d6(0x148)]=_0x4620d6(0x370)),_0x1a47bd?this['saveConversationToDatabase'](_0x24d7d3):this['goNextblock'](_0x24d7d3,_0x4739af);}[a0_0x27193d(0x3f2)](_0x54ba8a,_0x53319e){const _0x4d53ce=a0_0x27193d;return _0x54ba8a['replace'](/\{\{([^}]+)\}\}/g,(_0x1fbd14,_0x382f35)=>_0x53319e[_0x382f35]?'{{'+_0x382f35+'}}\x20->\x20\x22'+_0x53319e[_0x382f35]+'\x22':'{{'+_0x382f35+_0x4d53ce(0x46e));}async[a0_0x27193d(0x294)](_0x1bb240){const _0x5a2ecf=a0_0x27193d;try{let _0x1f1c0e=Object[_0x5a2ecf(0x451)](_0x1bb240[_0x5a2ecf(0x465)][_0x5a2ecf(0x1cd)])['map'](([_0x5c2b5f,_0x356e99])=>({'name':_0x5c2b5f,'value':_0x356e99})),_0x3c1f62={'status':_0x1bb240[_0x5a2ecf(0x148)],'blocks':_0x1bb240['blocks'],'waitingMenu_id':_0x1bb240['waitingMenu_id'],'waitingMenu_text':_0x1bb240[_0x5a2ecf(0x6b6)],'waitingMenu_replyOptions':_0x1bb240[_0x5a2ecf(0x6e7)],'chatLog':{'lastBlockId':_0x1bb240['chatLog']['lastBlockId'],'lastSendMessage':_0x1bb240[_0x5a2ecf(0x465)][_0x5a2ecf(0x561)],'lastReceivedMessage':_0x1bb240[_0x5a2ecf(0x465)]['lastReceivedMessage'],'lastCondition':_0x1bb240[_0x5a2ecf(0x465)][_0x5a2ecf(0x75b)],'chatVariables':_0x1f1c0e,'realVariables':_0x1bb240[_0x5a2ecf(0x465)]['realVariables'],'blockLogs':_0x1bb240[_0x5a2ecf(0x465)]['blockLogs']}},_0x55a0e1=await this[_0x5a2ecf(0x418)][_0x5a2ecf(0x450)]['updateOne'](_0x1bb240[_0x5a2ecf(0x310)],_0x3c1f62,this[_0x5a2ecf(0x19b)][_0x5a2ecf(0x473)]);if(_0x55a0e1){this[_0x5a2ecf(0x2a3)]['verbose'](this['instanceName']+'\x20('+this[_0x5a2ecf(0x19b)]['wuid']+_0x5a2ecf(0x2d0)+_0x55a0e1[_0x5a2ecf(0x310)]);try{let _0x518b53=['nome',_0x5a2ecf(0x549),_0x5a2ecf(0x6b4),_0x5a2ecf(0x652),_0x5a2ecf(0x148),_0x5a2ecf(0x749),'responsavelid',_0x5a2ecf(0x611),_0x5a2ecf(0x72f)];if(!this[_0x5a2ecf(0x3a6)]&&(await this[_0x5a2ecf(0x456)](),!this[_0x5a2ecf(0x3a6)]))throw new Error(_0x5a2ecf(0x6b3));let _0xcd70e7=this[_0x5a2ecf(0x3a6)]?.[_0x5a2ecf(0x1aa)][_0x5a2ecf(0x5e5)](_0xc7ed9c=>_0xc7ed9c[_0x5a2ecf(0x1d6)]),_0x2f1a55={};Object[_0x5a2ecf(0x451)](_0x1bb240[_0x5a2ecf(0x465)][_0x5a2ecf(0x1cd)])[_0x5a2ecf(0x6ff)](([_0x4241e6,_0x7504cc])=>{const _0x22715a=_0x5a2ecf;_0x518b53['includes'](_0x4241e6)&&(_0x4241e6===_0x22715a(0x611)&&typeof _0x7504cc==_0x22715a(0x39f)?_0x2f1a55[_0x4241e6]=_0x7504cc[_0x22715a(0x3d2)](',')[_0x22715a(0x5e5)](_0x29e9a0=>_0x29e9a0[_0x22715a(0x19c)]())[_0x22715a(0x46c)](_0x4161a1=>_0x4161a1!==''):_0x4241e6==='etiquetas'&&typeof _0x7504cc=='string'?_0x2f1a55[_0x4241e6]=_0x7504cc[_0x22715a(0x3d2)](',')[_0x22715a(0x5e5)](_0x575913=>_0x575913['trim']())['filter'](_0x52d066=>_0x52d066!==''):_0x2f1a55[_0x4241e6]=_0x7504cc);});let _0x22a1b4=_0x1bb240[_0x5a2ecf(0x465)][_0x5a2ecf(0x79f)][_0x1bb240['chatLog'][_0x5a2ecf(0x79f)]['length']-0x1];if(_0x22a1b4){let _0xf713f5=_0x22a1b4[_0x5a2ecf(0x6f9)];_0xf713f5!==void 0x0&&(_0x2f1a55[_0x5a2ecf(0x108)]=_0xf713f5['toString']());}let _0xf61650=_0x1f1c0e['filter'](_0x460316=>_0xcd70e7[_0x5a2ecf(0x53b)](_0x460316[_0x5a2ecf(0x1d6)]));this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x5da)](this[_0x5a2ecf(0x261)]+'\x20('+this[_0x5a2ecf(0x19b)][_0x5a2ecf(0x473)]+'):\x20leadInfoVariables'),this['logger'][_0x5a2ecf(0x5da)](_0x2f1a55),this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x5a2ecf(0x473)]+_0x5a2ecf(0x2c7)),this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x5da)](_0xf61650);let _0x3169ca=_0xf61650[_0x5a2ecf(0x5e5)](_0x52a71d=>{const _0x57660a=_0x5a2ecf;let _0x35b181=this[_0x57660a(0x3a6)]?.[_0x57660a(0x1aa)]['find'](_0x221ed5=>_0x221ed5['name']===_0x52a71d[_0x57660a(0x1d6)]);if(!_0x35b181)throw new Error(_0x57660a(0x4c5)+_0x52a71d['name']);return{'_id':_0x35b181[_0x57660a(0x310)],'value':_0x52a71d['value']};});this['logger'][_0x5a2ecf(0x5da)](this[_0x5a2ecf(0x261)]+'\x20('+this[_0x5a2ecf(0x19b)][_0x5a2ecf(0x473)]+_0x5a2ecf(0x399)),this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x5da)](_0x3169ca),await this['saveChatVariables'](_0x1bb240[_0x5a2ecf(0x682)],_0x2f1a55,_0x3169ca);}catch(_0x1a24ce){this['logger'][_0x5a2ecf(0x382)](this['instanceName']+'\x20('+this[_0x5a2ecf(0x19b)][_0x5a2ecf(0x473)]+_0x5a2ecf(0x750)+(_0x1a24ce instanceof Error?_0x1a24ce[_0x5a2ecf(0x5a7)]:JSON[_0x5a2ecf(0x4e8)](_0x1a24ce,null,0x2)));}}else this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x382)](this[_0x5a2ecf(0x261)]+'\x20('+this[_0x5a2ecf(0x19b)][_0x5a2ecf(0x473)]+_0x5a2ecf(0x607));}catch(_0x4fb486){this[_0x5a2ecf(0x2a3)][_0x5a2ecf(0x382)](this['instanceName']+'\x20('+this['instance'][_0x5a2ecf(0x473)]+_0x5a2ecf(0x5b7)+(_0x4fb486 instanceof Error?_0x4fb486[_0x5a2ecf(0x5a7)]:JSON[_0x5a2ecf(0x4e8)](_0x4fb486,null,0x2)));}}async['saveChatVariables'](_0x13585b,_0x2055ec,_0x4c2acc){const _0x3b51a2=a0_0x27193d;try{let _0x3a1f0b={'leadInfo.leadnome':_0x2055ec['nome'],'leadInfo.nomecompleto':_0x2055ec['nomecompleto'],'leadInfo.email':_0x2055ec[_0x3b51a2(0x6b4)],'leadInfo.cpf':_0x2055ec[_0x3b51a2(0x652)],'leadInfo.status':_0x2055ec['status'],'leadInfo.notas':_0x2055ec['notas'],'leadInfo.responsavelid':_0x2055ec[_0x3b51a2(0x65d)],'leadInfo.tags':_0x2055ec[_0x3b51a2(0x611)],'leadInfo.etiquetas':_0x2055ec[_0x3b51a2(0x72f)],'leadInfo.customFields':_0x4c2acc},_0x53a653=await this[_0x3b51a2(0x418)][_0x3b51a2(0x396)][_0x3b51a2(0x5d3)]({'where':{'_id':_0x13585b}},this[_0x3b51a2(0x19b)][_0x3b51a2(0x473)]),_0xf32a12=new Set(_0x53a653[_0x3b51a2(0x5c0)][_0x3b51a2(0x72f)]||[]),_0x14507f=new Set(_0x2055ec['etiquetas']||[]),_0x3c621c=await this[_0x3b51a2(0x418)]['label'][_0x3b51a2(0x76e)]({'where':{}},this[_0x3b51a2(0x19b)][_0x3b51a2(0x473)]),_0x2e42b1=new Set(_0x3c621c[_0x3b51a2(0x5e5)](_0x55d200=>_0x55d200[_0x3b51a2(0x310)])),_0x2796b0=[..._0x14507f]['filter'](_0x266608=>!_0xf32a12[_0x3b51a2(0x4a9)](_0x266608)&&_0x2e42b1[_0x3b51a2(0x4a9)](_0x266608)),_0x4f71a3=[..._0xf32a12]['filter'](_0x370fa5=>!_0x14507f[_0x3b51a2(0x4a9)](_0x370fa5));for(let _0x1ca4c1 of _0x2796b0)await this[_0x3b51a2(0x4e0)](_0x1ca4c1,_0x53a653['_id']),_0xf32a12[_0x3b51a2(0x173)](_0x1ca4c1);for(let _0x480ec7 of _0x4f71a3)await this[_0x3b51a2(0x2b7)](_0x480ec7,_0x53a653[_0x3b51a2(0x310)]),_0xf32a12['delete'](_0x480ec7);if(_0x3b51a2(0x108)in _0x2055ec){let _0x3458c8=_0x2055ec[_0x3b51a2(0x108)];_0x3a1f0b[_0x3b51a2(0x227)]=_0x3458c8?Number(_0x3458c8):null;}let _0x3714fa=await this['repository'][_0x3b51a2(0x396)]['updateOne']({'where':{'_id':_0x13585b}},_0x3a1f0b,this[_0x3b51a2(0x19b)][_0x3b51a2(0x473)]);_0x3714fa?(this[_0x3b51a2(0x2a3)][_0x3b51a2(0x5da)](this[_0x3b51a2(0x261)]+'\x20('+this[_0x3b51a2(0x19b)][_0x3b51a2(0x473)]+_0x3b51a2(0x3a7)+_0x3714fa[_0x3b51a2(0x310)]),U(this[_0x3b51a2(0x261)],_0x3b51a2(0x4f9),{'chat':_0x3714fa})):this[_0x3b51a2(0x2a3)][_0x3b51a2(0x382)](this['instanceName']+'\x20('+this[_0x3b51a2(0x19b)][_0x3b51a2(0x473)]+_0x3b51a2(0x738));}catch(_0x105f1e){this['logger'][_0x3b51a2(0x382)](this[_0x3b51a2(0x261)]+'\x20('+this['instance'][_0x3b51a2(0x473)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x105f1e instanceof Error?_0x105f1e['message']:JSON[_0x3b51a2(0x4e8)](_0x105f1e,null,0x2)));}}async['updateStopChat'](_0x34616f,_0x40c3e8){const _0x4e6d94=a0_0x27193d;this['logger'][_0x4e6d94(0x5da)](this[_0x4e6d94(0x261)]+'\x20('+this[_0x4e6d94(0x19b)]['wuid']+_0x4e6d94(0x167)+_0x40c3e8);try{let _0x5848e9=await this[_0x4e6d94(0x418)][_0x4e6d94(0x396)]['updateOne']({'where':{'_id':_0x34616f[_0x4e6d94(0x682)]}},{'leadInfo.desativadoFluxoAte':_0x40c3e8},this[_0x4e6d94(0x19b)][_0x4e6d94(0x473)]);this[_0x4e6d94(0x2a3)][_0x4e6d94(0x5da)](this['instanceName']+'\x20('+this[_0x4e6d94(0x19b)][_0x4e6d94(0x473)]+_0x4e6d94(0x342)+_0x34616f[_0x4e6d94(0x310)]),this[_0x4e6d94(0x2a3)][_0x4e6d94(0x5da)](this[_0x4e6d94(0x261)]+'\x20('+this['instance'][_0x4e6d94(0x473)]+_0x4e6d94(0x167)+JSON['stringify'](_0x5848e9,null,0x2)),_0x5848e9&&U(this[_0x4e6d94(0x261)],_0x4e6d94(0x4f9),{'chat':_0x5848e9});}catch(_0x757f8a){this['logger']['error'](this[_0x4e6d94(0x261)]+'\x20('+this[_0x4e6d94(0x19b)][_0x4e6d94(0x473)]+_0x4e6d94(0x67f)+(_0x757f8a instanceof Error?_0x757f8a['message']:JSON[_0x4e6d94(0x4e8)](_0x757f8a,null,0x2)));}}async[a0_0x27193d(0x63a)](_0x584ca2){const _0x28bed1=a0_0x27193d;try{this['logger'][_0x28bed1(0x5da)](this[_0x28bed1(0x261)]+'\x20('+this[_0x28bed1(0x19b)][_0x28bed1(0x473)]+_0x28bed1(0x695));let _0x12b4e7=_0x584ca2[_0x28bed1(0x468)](/\D/g,''),_0x342baf=await this['repository'][_0x28bed1(0x4c0)][_0x28bed1(0x5d3)]({'where':{'testingWith':_0x12b4e7}},this[_0x28bed1(0x19b)][_0x28bed1(0x473)]);return _0x342baf||(this['logger']['verbose'](this[_0x28bed1(0x261)]+'\x20('+this[_0x28bed1(0x19b)][_0x28bed1(0x473)]+_0x28bed1(0x4d3)),_0x342baf=await this[_0x28bed1(0x418)][_0x28bed1(0x4c0)][_0x28bed1(0x5d3)]({'where':{'default':!0x0}},this[_0x28bed1(0x19b)]['wuid'])),_0x342baf||(this[_0x28bed1(0x2a3)][_0x28bed1(0x5da)](this[_0x28bed1(0x261)]+'\x20('+this['instance'][_0x28bed1(0x473)]+_0x28bed1(0x632)),null);}catch(_0x45952c){return this[_0x28bed1(0x2a3)]['error'](this[_0x28bed1(0x261)]+'\x20('+this['instance'][_0x28bed1(0x473)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x45952c instanceof Error?_0x45952c[_0x28bed1(0x5a7)]:JSON[_0x28bed1(0x4e8)](_0x45952c,null,0x2))),null;}}async[a0_0x27193d(0x240)](_0x33b4c9,_0x4c3c8a){const _0x447fdb=a0_0x27193d;try{let _0x2cdb13=!!_0x4c3c8a[_0x447fdb(0x2cd)],_0x5d4de0=_0x4c3c8a[_0x447fdb(0x478)],_0x214163=null;if(this[_0x447fdb(0x2a3)]['verbose'](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x59c)+_0x2cdb13+_0x447fdb(0x59b)+_0x5d4de0),_0x2cdb13){this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x39e));let _0x2e5400={'where':{'remoteJid':_0x33b4c9,'waitingMenu_id':_0x5d4de0}};if(_0x214163=await this[_0x447fdb(0x418)][_0x447fdb(0x450)]['findOne'](_0x2e5400,this[_0x447fdb(0x19b)][_0x447fdb(0x473)]),!_0x214163)return this['logger']['verbose'](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)]['wuid']+_0x447fdb(0x70d)),null;let _0x4fd15a=Date[_0x447fdb(0x23b)](),_0x381348=_0x214163?.[_0x447fdb(0x4ba)]||0x0,_0x414d9b=_0x4fd15a-_0x381348*0x3c*0x3e8;if(_0x214163[_0x447fdb(0x117)]<_0x414d9b){this['logger'][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)]['wuid']+_0x447fdb(0x630));let _0x40af3a={'number':_0x214163['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x214163['waitingMenu_ExpiredMessage']}};await this[_0x447fdb(0x531)](_0x40af3a);let _0x5c80cc={'status':_0x447fdb(0x370),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x447fdb(0x418)][_0x447fdb(0x450)][_0x447fdb(0x5f2)](_0x214163[_0x447fdb(0x310)],_0x5c80cc,this[_0x447fdb(0x19b)][_0x447fdb(0x473)]),null;}return _0x214163[_0x447fdb(0x117)]=Date[_0x447fdb(0x23b)](),_0x214163['chatLog'][_0x447fdb(0x6a8)]=_0x4c3c8a,_0x214163;}else{this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x4d5)+this[_0x447fdb(0x19b)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x6ef));let _0x524677={'where':{'remoteJid':_0x33b4c9,'status':_0x447fdb(0x665)}};if(_0x214163=await this['repository']['flowConversation']['findOne'](_0x524677,this[_0x447fdb(0x19b)][_0x447fdb(0x473)]),!_0x214163){let _0x1e765c=await this['findFlow'](_0x33b4c9);if(_0x1e765c&&(_0x214163=await this[_0x447fdb(0x684)](_0x1e765c,_0x4c3c8a[_0x447fdb(0x721)],_0x4c3c8a)),!_0x214163)return null;}let _0x1d1d11=Date[_0x447fdb(0x23b)](),_0x93a0bd=_0x214163?.[_0x447fdb(0x4ba)]||0x0,_0x1f573c=_0x1d1d11-_0x93a0bd*0x3c*0x3e8;if(this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this['instance'][_0x447fdb(0x473)]+_0x447fdb(0x369)+_0x1d1d11+_0x447fdb(0x697)+_0x93a0bd+_0x447fdb(0x4c8)+_0x1f573c),this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x447fdb(0x473)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x447fdb(0x2a3)][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this['instance'][_0x447fdb(0x473)]+_0x447fdb(0x379)+_0x214163[_0x447fdb(0x117)]),this[_0x447fdb(0x2a3)]['verbose'](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x74b)+_0x1f573c),_0x214163[_0x447fdb(0x117)]<_0x1f573c){this['logger'][_0x447fdb(0x5da)](this[_0x447fdb(0x261)]+'\x20('+this[_0x447fdb(0x19b)][_0x447fdb(0x473)]+_0x447fdb(0x2f7));let _0xc6beb5=await this[_0x447fdb(0x63a)](_0x33b4c9);if(_0xc6beb5===null)return null;_0x214163&&await this[_0x447fdb(0x418)]['flowConversation'][_0x447fdb(0x5f2)](_0x214163['_id'],{'status':_0x447fdb(0x370)},this[_0x447fdb(0x19b)]['wuid']),_0x214163=await this[_0x447fdb(0x684)](_0xc6beb5,_0x4c3c8a['key'],_0x4c3c8a);}return _0x214163[_0x447fdb(0x117)]=_0x1d1d11,_0x214163['chatLog'][_0x447fdb(0x6a8)]=_0x4c3c8a,_0x214163;}}catch(_0x5c2d95){return this[_0x447fdb(0x2a3)]['error'](this[_0x447fdb(0x261)]+'\x20('+this['instance']['wuid']+_0x447fdb(0x168)+(_0x5c2d95 instanceof Error?_0x5c2d95[_0x447fdb(0x5a7)]:JSON[_0x447fdb(0x4e8)](_0x5c2d95,null,0x2))),null;}}async[a0_0x27193d(0x684)](_0xd327ba,_0x23579d,_0x2b8ee9){const _0x3aab88=a0_0x27193d;this[_0x3aab88(0x2a3)][_0x3aab88(0x5da)](this['instanceName']+'\x20('+this[_0x3aab88(0x19b)]['wuid']+_0x3aab88(0x496));try{let _0x281ff0=require('mongodb')['ObjectId'],_0x59fa7b=Date[_0x3aab88(0x23b)](),_0x22c4c3='start',_0x58717e=_0x23579d[_0x3aab88(0x3a3)]?null:_0x2b8ee9,_0x453de3=_0x23579d['fromMe']?_0x2b8ee9:null,_0x46f581=_0x23579d[_0x3aab88(0x682)];await this[_0x3aab88(0x40b)](_0x46f581);let _0x2c17c7={..._0xd327ba,'chatLog':null},_0x3efd5c=await this[_0x3aab88(0x2c4)](_0x2c17c7[_0x3aab88(0x1a2)]),_0x1adfa6=await this[_0x3aab88(0x11b)](_0x46f581),_0x5cf75e={..._0x3efd5c,..._0x1adfa6,'_remoteJid':_0x46f581},_0x214287={'lastReceivedMessage':_0x58717e,'lastSendMessage':_0x453de3,'lastBlockId':_0x22c4c3,'lastCondition':!0x0,'realVariables':_0x5cf75e};_0x2c17c7['chatLog']=_0x214287,delete _0x2c17c7['_id'],_0x2c17c7[_0x3aab88(0x310)]=new _0x281ff0(),_0x2c17c7[_0x3aab88(0x117)]=_0x59fa7b,_0x2c17c7[_0x3aab88(0x148)]=_0x3aab88(0x665),_0x2c17c7['remoteJid']=_0x46f581;let _0x374a01=await this[_0x3aab88(0x418)][_0x3aab88(0x450)]['updateOne'](_0x2c17c7[_0x3aab88(0x310)],_0x2c17c7,this[_0x3aab88(0x19b)][_0x3aab88(0x473)]);return this[_0x3aab88(0x2a3)]['verbose'](this[_0x3aab88(0x261)]+'\x20('+this[_0x3aab88(0x19b)][_0x3aab88(0x473)]+_0x3aab88(0x138)),_0x374a01?_0x2c17c7:null;}catch(_0x4591bc){return this[_0x3aab88(0x2a3)][_0x3aab88(0x382)](this[_0x3aab88(0x261)]+'\x20('+this[_0x3aab88(0x19b)]['wuid']+_0x3aab88(0x45f)+(_0x4591bc instanceof Error?_0x4591bc['message']:JSON[_0x3aab88(0x4e8)](_0x4591bc,null,0x2))),_0x4591bc;}}async[a0_0x27193d(0x643)](_0x4e4ccf,_0x31d4b4){const _0x45dcc9=a0_0x27193d;let _0x5c5c25=_0x4e4ccf[_0x45dcc9(0x682)];_0x31d4b4['uazapi'][_0x45dcc9(0x682)]&&_0x31d4b4[_0x45dcc9(0x47e)][_0x45dcc9(0x682)][_0x45dcc9(0x19c)]()!==''&&(_0x5c5c25=_0x31d4b4[_0x45dcc9(0x47e)][_0x45dcc9(0x682)]['trim']()),this[_0x45dcc9(0x2a3)]['verbose'](this[_0x45dcc9(0x261)]+'\x20('+this[_0x45dcc9(0x19b)][_0x45dcc9(0x473)]+'):\x20Enviando\x20texto');let _0xabc8f={'number':_0x5c5c25,'options':{'delay':_0x31d4b4[_0x45dcc9(0x47e)][_0x45dcc9(0x287)]},'textMessage':{'text':_0x31d4b4[_0x45dcc9(0x47e)][_0x45dcc9(0x69b)]}};try{let _0x40b381=await this[_0x45dcc9(0x531)](_0xabc8f);if(_0x40b381){let _0x1efc64={'_id':_0x40b381[_0x45dcc9(0x721)]['id'],'_fromMe':_0x40b381[_0x45dcc9(0x721)][_0x45dcc9(0x3a3)],'_remoteJid':_0x40b381[_0x45dcc9(0x721)][_0x45dcc9(0x682)]},_0x759f7c=(0x0,m[_0x45dcc9(0x2ec)])(_0x40b381['message']),_0x55ad28=(0x0,m[_0x45dcc9(0x1f2)])(_0x759f7c);_0x4e4ccf['chatLog']['lastBlockId']=_0x31d4b4[_0x45dcc9(0x310)][_0x45dcc9(0x1ec)]();let {message_normalized:_0x3d643b}=this[_0x45dcc9(0x409)](_0x759f7c,_0x55ad28,null);_0x4e4ccf[_0x45dcc9(0x465)][_0x45dcc9(0x561)]=await _0x3d643b;let _0x561241={'messageId':_0x40b381['key']['id']},_0x2283da=_0x4e4ccf['chatLog']['realVariables'];Object[_0x45dcc9(0x3f4)](_0x2283da,_0x1efc64),_0x4e4ccf['chatLog'][_0x45dcc9(0x1cd)]=_0x2283da,this['updateConversation'](_0x4e4ccf,_0x31d4b4,_0x561241);}else{let _0x349906={'error':!0x0};this[_0x45dcc9(0x790)](_0x4e4ccf,_0x31d4b4,_0x349906),this[_0x45dcc9(0x2a3)]['error'](this['instanceName']+'\x20('+this[_0x45dcc9(0x19b)][_0x45dcc9(0x473)]+_0x45dcc9(0x731));}}catch(_0x37dba9){let _0xd69453={'error':!0x0,'errorLog':_0x37dba9['toString']()};this[_0x45dcc9(0x790)](_0x4e4ccf,_0x31d4b4,_0xd69453),this[_0x45dcc9(0x2a3)]['error'](this[_0x45dcc9(0x261)]+'\x20('+this[_0x45dcc9(0x19b)][_0x45dcc9(0x473)]+_0x45dcc9(0x31c)+(_0x37dba9 instanceof Error?_0x37dba9[_0x45dcc9(0x5a7)]:JSON[_0x45dcc9(0x4e8)](_0x37dba9,null,0x2)));}}async[a0_0x27193d(0x1e2)](_0x1fd3da,_0x268b90){const _0x5e4ff6=a0_0x27193d;let _0x3ca56c=_0x1fd3da['remoteJid'];_0x268b90[_0x5e4ff6(0x47e)][_0x5e4ff6(0x682)]&&_0x268b90['uazapi'][_0x5e4ff6(0x682)][_0x5e4ff6(0x19c)]()!==''&&(_0x3ca56c=_0x268b90[_0x5e4ff6(0x47e)]['remoteJid'][_0x5e4ff6(0x19c)]()),this[_0x5e4ff6(0x2a3)][_0x5e4ff6(0x5da)](this[_0x5e4ff6(0x261)]+'\x20('+this[_0x5e4ff6(0x19b)][_0x5e4ff6(0x473)]+'):\x20Enviando\x20mídia');let _0x1b6725={'number':_0x3ca56c,'options':{'delay':_0x268b90[_0x5e4ff6(0x47e)][_0x5e4ff6(0x287)]},'mediaMessage':{'mediatype':_0x268b90[_0x5e4ff6(0x47e)]['mediatype'],'caption':_0x268b90['uazapi'][_0x5e4ff6(0x477)],'media':_0x268b90[_0x5e4ff6(0x47e)][_0x5e4ff6(0x62e)],'fileName':_0x268b90[_0x5e4ff6(0x47e)][_0x5e4ff6(0x159)]}};try{let _0x5868b5=await this[_0x5e4ff6(0x166)](_0x1b6725);if(_0x5868b5){let _0x303247={'_id':_0x5868b5[_0x5e4ff6(0x721)]['id'],'_fromMe':_0x5868b5[_0x5e4ff6(0x721)][_0x5e4ff6(0x3a3)],'_remoteJid':_0x5868b5[_0x5e4ff6(0x721)][_0x5e4ff6(0x682)]},_0x3fd406=(0x0,m[_0x5e4ff6(0x2ec)])(_0x5868b5[_0x5e4ff6(0x5a7)]),_0x517f57=(0x0,m['getContentType'])(_0x3fd406);_0x1fd3da['chatLog'][_0x5e4ff6(0x1e3)]=_0x268b90[_0x5e4ff6(0x310)][_0x5e4ff6(0x1ec)]();let {message_normalized:_0x2234c4}=this[_0x5e4ff6(0x409)](_0x3fd406,_0x517f57,null);_0x1fd3da[_0x5e4ff6(0x465)][_0x5e4ff6(0x561)]=await _0x2234c4;let _0x395553={'messageId':_0x5868b5[_0x5e4ff6(0x721)]['id']},_0x2ed549=_0x1fd3da[_0x5e4ff6(0x465)][_0x5e4ff6(0x1cd)];Object[_0x5e4ff6(0x3f4)](_0x2ed549,_0x303247),_0x1fd3da[_0x5e4ff6(0x465)]['realVariables']=_0x2ed549,this[_0x5e4ff6(0x790)](_0x1fd3da,_0x268b90,_0x395553);}else{let _0x1cd6a9={'error':!0x0};this['updateConversation'](_0x1fd3da,_0x268b90,_0x1cd6a9),this[_0x5e4ff6(0x2a3)][_0x5e4ff6(0x382)](this[_0x5e4ff6(0x261)]+'\x20('+this[_0x5e4ff6(0x19b)][_0x5e4ff6(0x473)]+_0x5e4ff6(0x764));}}catch(_0xa89762){let _0x2237fc={'error':!0x0,'errorLog':_0xa89762['toString']()};this[_0x5e4ff6(0x790)](_0x1fd3da,_0x268b90,_0x2237fc),this[_0x5e4ff6(0x2a3)][_0x5e4ff6(0x382)](this[_0x5e4ff6(0x261)]+'\x20('+this['instance'][_0x5e4ff6(0x473)]+_0x5e4ff6(0x591)+(_0xa89762 instanceof Error?_0xa89762['message']:JSON[_0x5e4ff6(0x4e8)](_0xa89762,null,0x2)));}}async[a0_0x27193d(0x252)](_0x2ac2da,_0x4134e5){const _0x45696a=a0_0x27193d;let _0x2176af=_0x2ac2da[_0x45696a(0x682)];_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x682)]&&_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x682)][_0x45696a(0x19c)]()!==''&&(_0x2176af=_0x4134e5[_0x45696a(0x47e)]['remoteJid'][_0x45696a(0x19c)]()),this[_0x45696a(0x2a3)]['verbose'](this[_0x45696a(0x261)]+'\x20('+this[_0x45696a(0x19b)][_0x45696a(0x473)]+_0x45696a(0x762));let _0xef14fe={'number':_0x2176af,'options':{'delay':_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x287)]},'locationMessage':{'name':_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x1d6)],'address':_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x140)],'latitude':_0x4134e5[_0x45696a(0x47e)][_0x45696a(0x356)],'longitude':_0x4134e5['uazapi'][_0x45696a(0x671)]}};try{let _0x44c813=await this[_0x45696a(0x739)](_0xef14fe);if(_0x44c813){let _0x1e9867={'_id':_0x44c813[_0x45696a(0x721)]['id'],'_fromMe':_0x44c813[_0x45696a(0x721)][_0x45696a(0x3a3)],'_remoteJid':_0x44c813['key'][_0x45696a(0x682)]},_0x573b06=(0x0,m[_0x45696a(0x2ec)])(_0x44c813[_0x45696a(0x5a7)]),_0x3f69ce=(0x0,m['getContentType'])(_0x573b06);_0x2ac2da[_0x45696a(0x465)]['lastBlockId']=_0x4134e5[_0x45696a(0x310)]['toString']();let {message_normalized:_0xd8b577}=this['normalizeMessage'](_0x573b06,_0x3f69ce,null);_0x2ac2da[_0x45696a(0x465)]['lastSendMessage']=await _0xd8b577;let _0x5c64e6={'messageId':_0x44c813[_0x45696a(0x721)]['id']},_0x4616e4=_0x2ac2da[_0x45696a(0x465)]['realVariables'];Object[_0x45696a(0x3f4)](_0x4616e4,_0x1e9867),_0x2ac2da[_0x45696a(0x465)][_0x45696a(0x1cd)]=_0x4616e4,this[_0x45696a(0x790)](_0x2ac2da,_0x4134e5,_0x5c64e6);}else{let _0x488495={'error':!0x0};this[_0x45696a(0x790)](_0x2ac2da,_0x4134e5,_0x488495),this['logger'][_0x45696a(0x382)](this[_0x45696a(0x261)]+'\x20('+this[_0x45696a(0x19b)][_0x45696a(0x473)]+_0x45696a(0x3fd));}}catch(_0x46a996){let _0x4afad8={'error':!0x0,'errorLog':_0x46a996[_0x45696a(0x1ec)]()};this['updateConversation'](_0x2ac2da,_0x4134e5,_0x4afad8),this['logger']['error'](this[_0x45696a(0x261)]+'\x20('+this[_0x45696a(0x19b)][_0x45696a(0x473)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x46a996 instanceof Error?_0x46a996[_0x45696a(0x5a7)]:JSON['stringify'](_0x46a996,null,0x2)));}}async[a0_0x27193d(0x55e)](_0x1a4133,_0x35520f){const _0x1af6ef=a0_0x27193d;let _0x89f9f0=_0x1a4133[_0x1af6ef(0x682)];_0x35520f[_0x1af6ef(0x47e)]['remoteJid']&&_0x35520f[_0x1af6ef(0x47e)][_0x1af6ef(0x682)][_0x1af6ef(0x19c)]()!==''&&(_0x89f9f0=_0x35520f[_0x1af6ef(0x47e)][_0x1af6ef(0x682)][_0x1af6ef(0x19c)]()),this[_0x1af6ef(0x2a3)]['verbose'](this[_0x1af6ef(0x261)]+'\x20('+this[_0x1af6ef(0x19b)]['wuid']+_0x1af6ef(0x245));let _0x5da348={'number':_0x89f9f0,'options':{'delay':_0x35520f['uazapi']['delay']},'audioMessage':{'audio':_0x35520f[_0x1af6ef(0x47e)][_0x1af6ef(0x542)]}};try{let _0x4d16f6=await this[_0x1af6ef(0x698)](_0x5da348);if(_0x4d16f6){let _0x2e4737={'_id':_0x4d16f6[_0x1af6ef(0x721)]['id'],'_fromMe':_0x4d16f6['key']['fromMe'],'_remoteJid':_0x4d16f6[_0x1af6ef(0x721)]['remoteJid']},_0x4a520e=(0x0,m[_0x1af6ef(0x2ec)])(_0x4d16f6[_0x1af6ef(0x5a7)]),_0x402743=(0x0,m['getContentType'])(_0x4a520e);_0x1a4133[_0x1af6ef(0x465)][_0x1af6ef(0x1e3)]=_0x35520f['_id']['toString']();let {message_normalized:_0x508514}=this[_0x1af6ef(0x409)](_0x4a520e,_0x402743,null);_0x1a4133['chatLog'][_0x1af6ef(0x561)]=await _0x508514;let _0xebb5d0={'messageId':_0x4d16f6['key']['id']},_0x1763b8=_0x1a4133[_0x1af6ef(0x465)][_0x1af6ef(0x1cd)];Object[_0x1af6ef(0x3f4)](_0x1763b8,_0x2e4737),_0x1a4133[_0x1af6ef(0x465)][_0x1af6ef(0x1cd)]=_0x1763b8,this['updateConversation'](_0x1a4133,_0x35520f,_0xebb5d0);}else{let _0xde61aa={'error':!0x0};this[_0x1af6ef(0x790)](_0x1a4133,_0x35520f,_0xde61aa),this[_0x1af6ef(0x2a3)][_0x1af6ef(0x382)](this['instanceName']+'\x20('+this[_0x1af6ef(0x19b)][_0x1af6ef(0x473)]+_0x1af6ef(0x646));}}catch(_0x1a6d9b){let _0x1f4a05={'error':!0x0,'errorLog':_0x1a6d9b['toString']()};this[_0x1af6ef(0x790)](_0x1a4133,_0x35520f,_0x1f4a05),this[_0x1af6ef(0x2a3)][_0x1af6ef(0x382)](this['instanceName']+'\x20('+this[_0x1af6ef(0x19b)]['wuid']+_0x1af6ef(0x296)+(_0x1a6d9b instanceof Error?_0x1a6d9b[_0x1af6ef(0x5a7)]:JSON[_0x1af6ef(0x4e8)](_0x1a6d9b,null,0x2)));}}async[a0_0x27193d(0x304)](_0x270919,_0x13fe4a){const _0x22ef05=a0_0x27193d;let _0x327aed=_0x270919[_0x22ef05(0x682)];_0x13fe4a[_0x22ef05(0x47e)]['remoteJid']&&_0x13fe4a['uazapi'][_0x22ef05(0x682)][_0x22ef05(0x19c)]()!==''&&(_0x327aed=_0x13fe4a[_0x22ef05(0x47e)][_0x22ef05(0x682)]['trim']()),this[_0x22ef05(0x2a3)][_0x22ef05(0x5da)](this['instanceName']+'\x20('+this[_0x22ef05(0x19b)][_0x22ef05(0x473)]+'):\x20Enviando\x20contato');let _0x5a6bcf={'number':_0x327aed,'options':{'delay':_0x13fe4a['uazapi']['delay']},'contactMessage':[{'fullName':_0x13fe4a['uazapi'][_0x22ef05(0x11e)],'phoneNumber':_0x13fe4a[_0x22ef05(0x47e)][_0x22ef05(0x1f9)]}]};try{let _0x5c45ec=await this[_0x22ef05(0x195)](_0x5a6bcf);if(_0x5c45ec){let _0x5bdb07={'_id':_0x5c45ec[_0x22ef05(0x721)]['id'],'_fromMe':_0x5c45ec[_0x22ef05(0x721)][_0x22ef05(0x3a3)],'_remoteJid':_0x5c45ec[_0x22ef05(0x721)][_0x22ef05(0x682)]},_0xfe4c0d=(0x0,m[_0x22ef05(0x2ec)])(_0x5c45ec[_0x22ef05(0x5a7)]),_0x572d44=(0x0,m[_0x22ef05(0x1f2)])(_0xfe4c0d);_0x270919['chatLog']['lastBlockId']=_0x13fe4a[_0x22ef05(0x310)]['toString']();let {message_normalized:_0x13545a}=this[_0x22ef05(0x409)](_0xfe4c0d,_0x572d44,null);_0x270919['chatLog'][_0x22ef05(0x561)]=await _0x13545a;let _0x4af9da={'messageId':_0x5c45ec[_0x22ef05(0x721)]['id']},_0x1c00f3=_0x270919[_0x22ef05(0x465)][_0x22ef05(0x1cd)];Object[_0x22ef05(0x3f4)](_0x1c00f3,_0x5bdb07),_0x270919[_0x22ef05(0x465)][_0x22ef05(0x1cd)]=_0x1c00f3,this['updateConversation'](_0x270919,_0x13fe4a,_0x4af9da);}else{let _0x4d6837={'error':!0x0};this['updateConversation'](_0x270919,_0x13fe4a,_0x4d6837),this[_0x22ef05(0x2a3)][_0x22ef05(0x382)](this[_0x22ef05(0x261)]+'\x20('+this[_0x22ef05(0x19b)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0xc5ac95){let _0x4f9f9f={'error':!0x0,'errorLog':_0xc5ac95[_0x22ef05(0x1ec)]()};this[_0x22ef05(0x790)](_0x270919,_0x13fe4a,_0x4f9f9f),this[_0x22ef05(0x2a3)][_0x22ef05(0x382)](this['instanceName']+'\x20('+this['instance'][_0x22ef05(0x473)]+_0x22ef05(0x3b5)+(_0xc5ac95 instanceof Error?_0xc5ac95['message']:JSON[_0x22ef05(0x4e8)](_0xc5ac95,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x2ff4b2,_0x1adc1f){const _0x367f37=a0_0x27193d;for(let _0x79b478 of _0x2ff4b2)_0x79b478[_0x367f37(0x74c)]&&(_0x79b478[_0x367f37(0x74c)]=this[_0x367f37(0x6ca)](_0x79b478[_0x367f37(0x74c)],_0x1adc1f)),_0x79b478[_0x367f37(0x76a)]&&(_0x79b478[_0x367f37(0x76a)]=this[_0x367f37(0x6ca)](_0x79b478['optionDescription'],_0x1adc1f));}async[a0_0x27193d(0x33c)](_0x2b8d09,_0x4b5d0b){const _0x1d6b8a=a0_0x27193d;let _0x4abe8a=_0x2b8d09['remoteJid'];_0x4b5d0b[_0x1d6b8a(0x47e)]['remoteJid']&&_0x4b5d0b['uazapi'][_0x1d6b8a(0x682)][_0x1d6b8a(0x19c)]()!==''&&(_0x4abe8a=_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x682)]['trim']()),this['logger'][_0x1d6b8a(0x5da)](this[_0x1d6b8a(0x261)]+'\x20('+this['instance'][_0x1d6b8a(0x473)]+_0x1d6b8a(0x1e0));let _0x582d2a=_0x2b8d09[_0x1d6b8a(0x533)]['filter'](_0xd6b4cb=>_0xd6b4cb['blockId']===_0x4b5d0b[_0x1d6b8a(0x310)])[_0x1d6b8a(0x522)]((_0x517931,_0x44dfcf)=>_0x517931['order']-_0x44dfcf[_0x1d6b8a(0x2cc)]);this[_0x1d6b8a(0x75a)](_0x582d2a,_0x2b8d09[_0x1d6b8a(0x465)][_0x1d6b8a(0x1cd)]);let _0x168923=_0x582d2a['map'](_0x45c247=>_0x45c247[_0x1d6b8a(0x74c)]),_0x433fce={'number':_0x4abe8a,'menuMessage':{'type':_0x4b5d0b['uazapi'][_0x1d6b8a(0x14a)]||_0x1d6b8a(0x106),'text':_0x4b5d0b[_0x1d6b8a(0x47e)]['text']||_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x1d6)],'footerText':_0x4b5d0b['uazapi'][_0x1d6b8a(0x35c)],'buttonText':_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x21b)],'selectableCount':0x1,'choices':_0x168923},'options':{'delay':_0x4b5d0b['uazapi']['delay']}};try{let _0x333c02=await this['menuMessage'](_0x433fce);if(_0x333c02){let _0x4c7020={'_id':_0x333c02[_0x1d6b8a(0x721)]['id'],'_fromMe':_0x333c02[_0x1d6b8a(0x721)][_0x1d6b8a(0x3a3)],'_remoteJid':_0x333c02[_0x1d6b8a(0x721)][_0x1d6b8a(0x682)]};_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x18e)]===!0x0&&(_0x2b8d09['status']=_0x1d6b8a(0x27d),this[_0x1d6b8a(0x2a3)][_0x1d6b8a(0x5da)](this[_0x1d6b8a(0x261)]+'\x20('+this['instance'][_0x1d6b8a(0x473)]+'):\x20conversation.status:\x20'+_0x2b8d09[_0x1d6b8a(0x148)])),this[_0x1d6b8a(0x2a3)][_0x1d6b8a(0x5da)](this[_0x1d6b8a(0x261)]+'\x20('+this[_0x1d6b8a(0x19b)]['wuid']+_0x1d6b8a(0x2fa)+(_0x4b5d0b['uazapi'][_0x1d6b8a(0x1d6)]||_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x69b)])),_0x2b8d09[_0x1d6b8a(0x284)]=_0x333c02[_0x1d6b8a(0x721)]['id'],_0x2b8d09[_0x1d6b8a(0x6b6)]=_0x4b5d0b['uazapi'][_0x1d6b8a(0x1d6)]||_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x69b)],_0x2b8d09[_0x1d6b8a(0x6e7)]=_0x582d2a,_0x4b5d0b[_0x1d6b8a(0x47e)][_0x1d6b8a(0x3ec)]&&(_0x2b8d09[_0x1d6b8a(0x33a)]=_0x4b5d0b[_0x1d6b8a(0x47e)]['menuExpiredMessage']),this[_0x1d6b8a(0x2a3)][_0x1d6b8a(0x5da)](this[_0x1d6b8a(0x261)]+'\x20('+this[_0x1d6b8a(0x19b)][_0x1d6b8a(0x473)]+_0x1d6b8a(0x11c)+_0x2b8d09[_0x1d6b8a(0x6b6)]);let _0x1cac69=(0x0,m[_0x1d6b8a(0x2ec)])(_0x333c02[_0x1d6b8a(0x5a7)]),_0x1ac47f=(0x0,m[_0x1d6b8a(0x1f2)])(_0x1cac69);_0x2b8d09['chatLog'][_0x1d6b8a(0x1e3)]=_0x4b5d0b[_0x1d6b8a(0x310)]['toString']();let {message_normalized:_0x333a6f}=this[_0x1d6b8a(0x409)](_0x1cac69,_0x1ac47f,null);_0x2b8d09['chatLog'][_0x1d6b8a(0x561)]=await _0x333a6f;let _0x428e51={'messageId':_0x333c02[_0x1d6b8a(0x721)]['id']},_0x27fe00=_0x2b8d09['chatLog'][_0x1d6b8a(0x1cd)];Object[_0x1d6b8a(0x3f4)](_0x27fe00,_0x4c7020),_0x2b8d09[_0x1d6b8a(0x465)]['realVariables']=_0x27fe00,this[_0x1d6b8a(0x790)](_0x2b8d09,_0x4b5d0b,_0x428e51);}else{let _0x33c50b={'error':!0x0};this['updateConversation'](_0x2b8d09,_0x4b5d0b,_0x33c50b),this[_0x1d6b8a(0x2a3)][_0x1d6b8a(0x382)](this[_0x1d6b8a(0x261)]+'\x20('+this[_0x1d6b8a(0x19b)][_0x1d6b8a(0x473)]+_0x1d6b8a(0x503));}}catch(_0x166af5){let _0x23924d={'error':!0x0,'errorLog':_0x166af5 instanceof Error?_0x166af5[_0x1d6b8a(0x5a7)]:JSON[_0x1d6b8a(0x4e8)](_0x166af5,null,0x2)};this[_0x1d6b8a(0x790)](_0x2b8d09,_0x4b5d0b,_0x23924d),this[_0x1d6b8a(0x2a3)][_0x1d6b8a(0x382)](this[_0x1d6b8a(0x261)]+'\x20('+this[_0x1d6b8a(0x19b)][_0x1d6b8a(0x473)]+_0x1d6b8a(0x2e4)+(_0x166af5 instanceof Error?_0x166af5['message']:JSON[_0x1d6b8a(0x4e8)](_0x166af5,null,0x2)));}}async[a0_0x27193d(0x322)](_0x323dd9,_0x284d43){const _0x5e28a5=a0_0x27193d;this['logger'][_0x5e28a5(0x5da)](this[_0x5e28a5(0x261)]+'\x20('+this[_0x5e28a5(0x19b)][_0x5e28a5(0x473)]+_0x5e28a5(0x54e));let _0x3c4c16=_0x323dd9[_0x5e28a5(0x465)][_0x5e28a5(0x79f)]['find'](_0x206562=>_0x206562['blockId']['toString']()===_0x284d43[_0x5e28a5(0x47e)][_0x5e28a5(0x517)][_0x5e28a5(0x1ec)]()),_0x5d3895={'id':_0x3c4c16[_0x5e28a5(0x149)],'remoteJid':_0x3c4c16['remoteJid'],'fromMe':_0x3c4c16['fromMe']};try{let _0x5c06b1=await this['deleteMessage'](_0x5d3895);if(_0x5c06b1){let _0x28bb8c=(0x0,m['normalizeMessageContent'])(_0x5c06b1['message']),_0x31f5b8=(0x0,m[_0x5e28a5(0x1f2)])(_0x28bb8c);_0x323dd9[_0x5e28a5(0x465)][_0x5e28a5(0x1e3)]=_0x284d43[_0x5e28a5(0x310)][_0x5e28a5(0x1ec)]();let {message_normalized:_0x5b862d}=this['normalizeMessage'](_0x28bb8c,_0x31f5b8,null);_0x323dd9[_0x5e28a5(0x465)][_0x5e28a5(0x561)]=await _0x5b862d;let _0x3fb039={};this[_0x5e28a5(0x790)](_0x323dd9,_0x284d43,_0x3fb039);}else{let _0x522a8d={'error':!0x0};this[_0x5e28a5(0x790)](_0x323dd9,_0x284d43,_0x522a8d),this[_0x5e28a5(0x2a3)]['error'](this[_0x5e28a5(0x261)]+'\x20('+this[_0x5e28a5(0x19b)][_0x5e28a5(0x473)]+_0x5e28a5(0x3a2));}}catch(_0x8aa06f){let _0x306ce8={'error':!0x0,'errorLog':_0x8aa06f instanceof Error?_0x8aa06f[_0x5e28a5(0x5a7)]:JSON['stringify'](_0x8aa06f,null,0x2)};this[_0x5e28a5(0x790)](_0x323dd9,_0x284d43,_0x306ce8),this['logger']['error'](this['instanceName']+'\x20('+this[_0x5e28a5(0x19b)][_0x5e28a5(0x473)]+_0x5e28a5(0x225)+(_0x8aa06f instanceof Error?_0x8aa06f[_0x5e28a5(0x5a7)]:JSON['stringify'](_0x8aa06f,null,0x2)));}}async[a0_0x27193d(0x38f)](_0x4bff1d){const _0x2e95f5=a0_0x27193d;if(!_0x4bff1d[_0x2e95f5(0x1d6)])throw new w(_0x2e95f5(0x5c3));if(await this[_0x2e95f5(0x418)][_0x2e95f5(0x4c0)][_0x2e95f5(0x5d3)]({'where':{'name':_0x4bff1d[_0x2e95f5(0x1d6)]}},this[_0x2e95f5(0x19b)][_0x2e95f5(0x473)]))throw new w(_0x2e95f5(0x36c));return _0x2e95f5(0x1d6)in _0x4bff1d&&_0x2e95f5(0x6da)in _0x4bff1d&&_0x2e95f5(0x7a4)in _0x4bff1d&&Object[_0x2e95f5(0x28f)](_0x4bff1d)[_0x2e95f5(0x237)]===0x3?this['createSharedFlow'](_0x4bff1d[_0x2e95f5(0x7a4)],_0x4bff1d[_0x2e95f5(0x6da)],_0x4bff1d[_0x2e95f5(0x1d6)]):this['createRegularFlow'](_0x4bff1d);}async['createSharedFlow'](_0x4c204e,_0x393bbc,_0x52fab0){const _0x7316e8=a0_0x27193d;try{this[_0x7316e8(0x2a3)]['verbose'](this['instanceName']+'\x20('+this[_0x7316e8(0x19b)][_0x7316e8(0x473)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x4e3c62=await this['repository']['flow']['findOne']({'where':{'name':_0x52fab0,'sharePass':_0x393bbc}},_0x4c204e);if(!_0x4e3c62)throw new w(_0x7316e8(0x335));let _0x2cab52={..._0x4e3c62};return _0x2cab52[_0x7316e8(0x7a4)]=this['instance']['wuid'],_0x2cab52[_0x7316e8(0x7b9)]=Array[_0x7316e8(0x50c)](new Set([..._0x4e3c62[_0x7316e8(0x7b9)]||[],_0x4e3c62['owner'],this['instance'][_0x7316e8(0x473)]])),_0x4e3c62[_0x7316e8(0x7b9)]=_0x2cab52['shareOwners'],await this['repository'][_0x7316e8(0x4c0)][_0x7316e8(0x5f2)](_0x4e3c62['_id'],{'shareOwners':_0x4e3c62['shareOwners']},_0x4e3c62['owner']),_0x4e3c62[_0x7316e8(0x359)]===!0x0&&await this[_0x7316e8(0x418)]['flow'][_0x7316e8(0x1dc)]({},{'default':!0x1},this[_0x7316e8(0x19b)][_0x7316e8(0x473)]),await this[_0x7316e8(0x418)][_0x7316e8(0x4c0)][_0x7316e8(0x3e0)](_0x2cab52,this[_0x7316e8(0x19b)][_0x7316e8(0x473)]);}catch(_0x1d773c){throw this[_0x7316e8(0x2a3)]['error'](this[_0x7316e8(0x261)]+'\x20('+this['instance'][_0x7316e8(0x473)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x1d773c),new w('Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x1d773c);}}async[a0_0x27193d(0x513)](_0x3f01e1){const _0x18e1ad=a0_0x27193d;try{this[_0x18e1ad(0x2a3)][_0x18e1ad(0x5da)](this[_0x18e1ad(0x261)]+'\x20('+this[_0x18e1ad(0x19b)][_0x18e1ad(0x473)]+_0x18e1ad(0x17c)),delete _0x3f01e1[_0x18e1ad(0x7b9)],delete _0x3f01e1[_0x18e1ad(0x6da)],delete _0x3f01e1[_0x18e1ad(0x7a4)],_0x3f01e1[_0x18e1ad(0x359)]===!0x0&&await this[_0x18e1ad(0x418)][_0x18e1ad(0x4c0)][_0x18e1ad(0x1dc)]({},{'default':!0x1},this[_0x18e1ad(0x19b)][_0x18e1ad(0x473)]);let _0x50955b=new le[(_0x18e1ad(0x178))]['ObjectId'](),_0x4c0e41={'_id':_0x50955b,'default':!0x0,'title':_0x18e1ad(0x53c),'x':0x0,'y':0x0},_0x4baeac={'_id':new le[(_0x18e1ad(0x178))][(_0x18e1ad(0x623))](),'order':0x1,'groupId':_0x50955b['toString'](),'type':'start'},_0x65583d={'_id':new le['Types'][(_0x18e1ad(0x623))](),'owner':this[_0x18e1ad(0x19b)]['wuid'],'name':_0x3f01e1['name'],'groups':[_0x4c0e41],'blocks':[_0x4baeac],..._0x3f01e1};return await this[_0x18e1ad(0x418)]['flow']['createAndSave'](_0x65583d,this['instance'][_0x18e1ad(0x473)]);}catch(_0x3c483d){throw this[_0x18e1ad(0x2a3)][_0x18e1ad(0x382)](this[_0x18e1ad(0x261)]+'\x20('+this[_0x18e1ad(0x19b)]['wuid']+_0x18e1ad(0x36d)+_0x3c483d),new w(_0x18e1ad(0x66d)+_0x3c483d);}}async[a0_0x27193d(0x777)](_0x39d402,_0x4ac011){const _0xa6a8df=a0_0x27193d;try{let _0x196020=await this[_0xa6a8df(0x418)][_0xa6a8df(0x4c0)][_0xa6a8df(0x5d3)]({'where':{'_id':_0x39d402}},_0x4ac011);if(_0x196020&&_0x196020[_0xa6a8df(0x7b9)]){for(let _0x525a7b of _0x196020[_0xa6a8df(0x7b9)])if(_0x525a7b!==_0x4ac011){let _0x1a0d89={..._0x196020,'owner':_0x525a7b};await this[_0xa6a8df(0x418)][_0xa6a8df(0x4c0)][_0xa6a8df(0x524)](_0x39d402,_0x1a0d89,_0x525a7b);}}}catch(_0x984b81){this[_0xa6a8df(0x2a3)][_0xa6a8df(0x382)](_0xa6a8df(0x499)+_0x984b81);}}async[a0_0x27193d(0x116)](_0x59c14c){const _0x4672ff=a0_0x27193d;try{this[_0x4672ff(0x2a3)][_0x4672ff(0x5da)](this[_0x4672ff(0x261)]+'\x20('+this[_0x4672ff(0x19b)][_0x4672ff(0x473)]+_0x4672ff(0x1b9));let _0x5bf2e6=await this[_0x4672ff(0x418)][_0x4672ff(0x4c0)][_0x4672ff(0x5d3)]({'where':{'name':_0x59c14c}},this[_0x4672ff(0x19b)]['wuid']);if(_0x5bf2e6&&_0x5bf2e6[_0x4672ff(0x7b9)]&&_0x5bf2e6[_0x4672ff(0x7b9)][_0x4672ff(0x237)]>0x1){for(let _0x8450b0 of _0x5bf2e6[_0x4672ff(0x7b9)])if(_0x8450b0!==this[_0x4672ff(0x19b)][_0x4672ff(0x473)]){let _0x148c6b=await this[_0x4672ff(0x418)]['flow']['findOne']({'where':{'sharePass':_0x5bf2e6[_0x4672ff(0x6da)]}},_0x8450b0);_0x148c6b&&(_0x148c6b['shareOwners']=_0x148c6b[_0x4672ff(0x7b9)][_0x4672ff(0x46c)](_0x2b6a65=>_0x2b6a65!==_0x5bf2e6[_0x4672ff(0x7a4)]),await this[_0x4672ff(0x418)][_0x4672ff(0x4c0)][_0x4672ff(0x5f2)](_0x148c6b['_id'],{'shareOwners':_0x148c6b['shareOwners']},_0x8450b0));}}return await this['repository'][_0x4672ff(0x4c0)][_0x4672ff(0x40d)]({'where':{'name':_0x59c14c}},this[_0x4672ff(0x19b)][_0x4672ff(0x473)]);}catch(_0x1e0834){return this[_0x4672ff(0x2a3)][_0x4672ff(0x382)](this[_0x4672ff(0x261)]+'\x20('+this['instance'][_0x4672ff(0x473)]+_0x4672ff(0x113)+(_0x1e0834 instanceof Error?_0x1e0834[_0x4672ff(0x5a7)]:JSON[_0x4672ff(0x4e8)](_0x1e0834,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x1e0834};}}async[a0_0x27193d(0x74f)](_0x5cdf96){const _0x31314c=a0_0x27193d;try{this[_0x31314c(0x2a3)][_0x31314c(0x5da)](this[_0x31314c(0x261)]+'\x20('+this[_0x31314c(0x19b)][_0x31314c(0x473)]+_0x31314c(0x695));let _0x5dbd12=await this['repository'][_0x31314c(0x4c0)][_0x31314c(0x5d3)]({'where':{'name':_0x5cdf96}},this[_0x31314c(0x19b)]['wuid']);if(!_0x5dbd12)throw new Error(_0x31314c(0x4f5));if(!this['AutomateSystem']&&(await this[_0x31314c(0x456)](),!this[_0x31314c(0x3a6)]))return null;let _0x202fee=this[_0x31314c(0x3a6)]?.[_0x31314c(0x1aa)][_0x31314c(0x5e5)](_0x3ff6ed=>_0x3ff6ed[_0x31314c(0x1d6)]),_0x3427e6=['nome',_0x31314c(0x549),_0x31314c(0x6b4),'cpf','status',_0x31314c(0x749),_0x31314c(0x65d),_0x31314c(0x611),_0x31314c(0x72f)];_0x5dbd12['variables']=_0x5dbd12[_0x31314c(0x1a2)][_0x31314c(0x46c)](_0x2ff3f9=>!(_0x2ff3f9[_0x31314c(0x4e1)]===_0x31314c(0x5c0)||_0x2ff3f9[_0x31314c(0x5c0)])),_0x3427e6[_0x31314c(0x6ff)](_0x5c3667=>{const _0x308311=_0x31314c;_0x5dbd12[_0x308311(0x1a2)][_0x308311(0x7b6)]({'folder':_0x308311(0x5c0),'name':_0x5c3667,'value':'','doc':'','leadInfo':!0x0});}),_0x202fee[_0x31314c(0x6ff)](_0x10197e=>{const _0x20bb2f=_0x31314c;let _0x2035ea=_0x5dbd12[_0x20bb2f(0x1a2)][_0x20bb2f(0x34e)](_0x3fde19=>_0x3fde19[_0x20bb2f(0x1d6)]===_0x10197e);_0x2035ea===-0x1?_0x5dbd12[_0x20bb2f(0x1a2)][_0x20bb2f(0x7b6)]({'folder':_0x20bb2f(0x5c0),'name':_0x10197e,'value':'','doc':'','leadInfo':!0x0}):(_0x5dbd12['variables'][_0x2035ea][_0x20bb2f(0x4e1)]=_0x20bb2f(0x5c0),_0x5dbd12[_0x20bb2f(0x1a2)][_0x2035ea]['leadInfo']=!0x0);}),_0x5dbd12[_0x31314c(0x224)]&&_0x5dbd12['blocks'][_0x31314c(0x237)]>0x0&&_0x5dbd12['blocks'][_0x31314c(0x6ff)](_0x4c2fd4=>{const _0x33e4c9=_0x31314c;_0x4c2fd4[_0x33e4c9(0x7a8)]&&_0x4c2fd4[_0x33e4c9(0x4c3)]&&_0x4c2fd4['groupId']===_0x4c2fd4[_0x33e4c9(0x4c3)]&&(_0x4c2fd4[_0x33e4c9(0x4c3)]=null);});let _0xde00c3=await this['repository'][_0x31314c(0x4c0)][_0x31314c(0x5f2)](_0x5dbd12[_0x31314c(0x310)],_0x5dbd12,this[_0x31314c(0x19b)][_0x31314c(0x473)]);if(!_0xde00c3)throw new Error(_0x31314c(0x469));return _0xde00c3;}catch(_0xbff0f9){throw this[_0x31314c(0x2a3)]['error'](this[_0x31314c(0x261)]+'\x20('+this[_0x31314c(0x19b)][_0x31314c(0x473)]+_0x31314c(0x516)+(_0xbff0f9 instanceof Error?_0xbff0f9['message']:JSON[_0x31314c(0x4e8)](_0xbff0f9,null,0x2))),new w(_0x31314c(0x3f7)+_0xbff0f9);}}async[a0_0x27193d(0x38d)](){const _0x3116be=a0_0x27193d;try{return this[_0x3116be(0x2a3)]['verbose'](this[_0x3116be(0x261)]+'\x20('+this[_0x3116be(0x19b)][_0x3116be(0x473)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this['repository'][_0x3116be(0x4c0)][_0x3116be(0x37d)](this['instance'][_0x3116be(0x473)]),await this['repository'][_0x3116be(0x4c0)][_0x3116be(0x44f)]({'where':{}},this[_0x3116be(0x19b)][_0x3116be(0x473)]);}catch(_0x293171){return this['logger'][_0x3116be(0x382)](this[_0x3116be(0x261)]+'\x20('+this[_0x3116be(0x19b)][_0x3116be(0x473)]+_0x3116be(0x10b)+(_0x293171 instanceof Error?_0x293171[_0x3116be(0x5a7)]:JSON[_0x3116be(0x4e8)](_0x293171,null,0x2))),{'message':_0x3116be(0x424)+_0x293171};}}async[a0_0x27193d(0x63b)](_0x69585){const _0x5bef6b=a0_0x27193d;try{this[_0x5bef6b(0x2a3)][_0x5bef6b(0x5da)](this[_0x5bef6b(0x261)]+'\x20('+this[_0x5bef6b(0x19b)][_0x5bef6b(0x473)]+_0x5bef6b(0x17e));let _0x1ec672=await this['repository']['flow'][_0x5bef6b(0x5d3)]({'where':{'name':_0x69585[_0x5bef6b(0x1d6)]}},this['instance']['wuid']);if(!_0x1ec672)return{'message':_0x5bef6b(0x467)};_0x69585[_0x5bef6b(0x359)]===!0x0&&await this['repository'][_0x5bef6b(0x4c0)][_0x5bef6b(0x1dc)]({},{'default':!0x1},this[_0x5bef6b(0x19b)][_0x5bef6b(0x473)]),delete _0x69585[_0x5bef6b(0x7b9)],delete _0x69585[_0x5bef6b(0x6da)];let _0x56f1c7=await this[_0x5bef6b(0x418)][_0x5bef6b(0x4c0)][_0x5bef6b(0x5f2)](_0x1ec672['_id'],_0x69585,this['instance'][_0x5bef6b(0x473)]);return _0x56f1c7&&_0x56f1c7[_0x5bef6b(0x7b9)]&&_0x56f1c7[_0x5bef6b(0x7b9)][_0x5bef6b(0x237)]>0x1&&this[_0x5bef6b(0x777)](_0x56f1c7[_0x5bef6b(0x310)],this[_0x5bef6b(0x19b)][_0x5bef6b(0x473)]),_0x56f1c7;}catch(_0xfd96ac){throw this[_0x5bef6b(0x2a3)][_0x5bef6b(0x382)](this[_0x5bef6b(0x261)]+'\x20('+this['instance'][_0x5bef6b(0x473)]+_0x5bef6b(0x1d8)+(_0xfd96ac instanceof Error?_0xfd96ac[_0x5bef6b(0x5a7)]:JSON['stringify'](_0xfd96ac,null,0x2))),new w(_0x5bef6b(0x43c)+(_0xfd96ac instanceof Error?_0xfd96ac[_0x5bef6b(0x5a7)]:JSON[_0x5bef6b(0x4e8)](_0xfd96ac,null,0x2)));}}async[a0_0x27193d(0x33f)](_0x5ce290){const _0xeaaa9a=a0_0x27193d;try{this['logger'][_0xeaaa9a(0x5da)](this[_0xeaaa9a(0x261)]+'\x20('+this['instance'][_0xeaaa9a(0x473)]+_0xeaaa9a(0x6aa));let _0x29cf8b=await this[_0xeaaa9a(0x418)][_0xeaaa9a(0x4c0)]['findOne']({'where':{'name':_0x5ce290['name']}},this[_0xeaaa9a(0x19b)][_0xeaaa9a(0x473)]);_0x29cf8b||this[_0xeaaa9a(0x264)](_0xeaaa9a(0x4f5));let {block:_0x2096d9}=_0x5ce290;_0x2096d9?.[_0xeaaa9a(0x5a4)]?this[_0xeaaa9a(0x7bc)](_0x29cf8b,_0x5ce290):_0x2096d9?.[_0xeaaa9a(0x1f4)]?this[_0xeaaa9a(0x756)](_0x29cf8b,_0x5ce290):_0x2096d9[_0xeaaa9a(0x310)]?await this[_0xeaaa9a(0x692)](_0x29cf8b,_0x5ce290):this[_0xeaaa9a(0x757)](_0x29cf8b,_0x5ce290);let _0x32fb86=await this[_0xeaaa9a(0x418)][_0xeaaa9a(0x4c0)][_0xeaaa9a(0x5f2)](_0x29cf8b[_0xeaaa9a(0x310)],_0x29cf8b,this[_0xeaaa9a(0x19b)]['wuid']);if(_0x32fb86&&_0x32fb86[_0xeaaa9a(0x7b9)]&&_0x32fb86[_0xeaaa9a(0x7b9)]['length']>0x1&&this[_0xeaaa9a(0x777)](_0x32fb86[_0xeaaa9a(0x310)],this[_0xeaaa9a(0x19b)][_0xeaaa9a(0x473)]),!_0x32fb86)throw new Error(_0xeaaa9a(0x469));return _0x32fb86;}catch(_0x1c4ba1){this['throwAndLogError'](_0xeaaa9a(0x6f8)+_0x1c4ba1);}}async[a0_0x27193d(0x7bc)](_0x5d5817,_0x4ca11d){const _0x1bf008=a0_0x27193d;let _0x39f88e=_0x4ca11d[_0x1bf008(0x464)][_0x1bf008(0x310)],_0x4dd60b=_0x5d5817[_0x1bf008(0x224)][_0x1bf008(0x76e)](_0x2868ad=>_0x2868ad[_0x1bf008(0x310)][_0x1bf008(0x1ec)]()===_0x39f88e);if(!_0x4dd60b){this['logger'][_0x1bf008(0x382)](this[_0x1bf008(0x261)]+'\x20('+this[_0x1bf008(0x19b)][_0x1bf008(0x473)]+_0x1bf008(0x709)+_0x39f88e+_0x1bf008(0x6f0));return;}this[_0x1bf008(0x2a3)][_0x1bf008(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x1bf008(0x473)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x1bf008(0x4e8)](_0x4dd60b));let _0xef9d5e=JSON['parse'](JSON[_0x1bf008(0x4e8)](_0x4dd60b));_0xef9d5e['_id']=new le[(_0x1bf008(0x359))][(_0x1bf008(0x178))]['ObjectId'](),this[_0x1bf008(0x2a3)]['verbose'](this[_0x1bf008(0x261)]+'\x20('+this['instance'][_0x1bf008(0x473)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x1bf008(0x4e8)](_0xef9d5e)),_0x5d5817['blocks']['push'](_0xef9d5e),this[_0x1bf008(0x38e)](_0x5d5817['blocks'],_0xef9d5e[_0x1bf008(0x7a8)]);}[a0_0x27193d(0x264)](_0x275f1c){const _0x3e1ac9=a0_0x27193d;throw this[_0x3e1ac9(0x2a3)][_0x3e1ac9(0x382)](this['instanceName']+'\x20('+this['instance'][_0x3e1ac9(0x473)]+_0x3e1ac9(0x4d5)+_0x275f1c),new w(_0x275f1c);}['deleteBlock'](_0x33f216,_0x3530ac){const _0x34237b=a0_0x27193d;let {block:_0x5c37a0}=_0x3530ac;if(_0x5c37a0[_0x34237b(0x25b)]==='start'){this[_0x34237b(0x264)](_0x34237b(0x614));return;}if(!_0x5c37a0[_0x34237b(0x310)]){this[_0x34237b(0x264)](_0x34237b(0x53a));return;}let _0x1581b7=_0x33f216['blocks']['find'](_0x569bfb=>_0x569bfb[_0x34237b(0x310)][_0x34237b(0x1ec)]()===_0x3530ac['block'][_0x34237b(0x310)][_0x34237b(0x1ec)]());if(!_0x1581b7){this[_0x34237b(0x264)](_0x34237b(0x758)+_0x5c37a0['_id']+_0x34237b(0x292));return;}_0x33f216[_0x34237b(0x224)]=_0x33f216[_0x34237b(0x224)]['filter'](_0x44289e=>_0x44289e[_0x34237b(0x310)][_0x34237b(0x1ec)]()!==_0x3530ac[_0x34237b(0x464)][_0x34237b(0x310)][_0x34237b(0x1ec)]()),_0x33f216[_0x34237b(0x48a)]=_0x33f216[_0x34237b(0x48a)][_0x34237b(0x46c)](_0x341774=>_0x341774[_0x34237b(0x517)]!==_0x5c37a0[_0x34237b(0x310)][_0x34237b(0x1ec)]()),_0x33f216[_0x34237b(0x6a7)]=_0x33f216[_0x34237b(0x6a7)][_0x34237b(0x46c)](_0x5dfb0a=>_0x5dfb0a[_0x34237b(0x517)]!==_0x5c37a0[_0x34237b(0x310)][_0x34237b(0x1ec)]()),_0x33f216[_0x34237b(0x533)]=_0x33f216[_0x34237b(0x533)]['filter'](_0x1002c0=>_0x1002c0[_0x34237b(0x517)]!==_0x5c37a0[_0x34237b(0x310)][_0x34237b(0x1ec)]()),this[_0x34237b(0x38e)](_0x33f216[_0x34237b(0x224)],_0x1581b7[_0x34237b(0x7a8)]);}async[a0_0x27193d(0x692)](_0x4cea8f,_0xf8bed0){const _0x3e4835=a0_0x27193d;let _0x27ce7e=_0x4cea8f[_0x3e4835(0x224)][_0x3e4835(0x34e)](_0x257a92=>_0x257a92[_0x3e4835(0x310)][_0x3e4835(0x1ec)]()===_0xf8bed0[_0x3e4835(0x464)]['_id'][_0x3e4835(0x1ec)]());if(this[_0x3e4835(0x2a3)]['verbose'](this[_0x3e4835(0x261)]+'\x20('+this['instance'][_0x3e4835(0x473)]+_0x3e4835(0x72e)+_0x27ce7e),_0x27ce7e===-0x1){this['logger'][_0x3e4835(0x5da)](_0x3e4835(0x758)+_0xf8bed0[_0x3e4835(0x464)][_0x3e4835(0x310)]+_0x3e4835(0x378));return;}if(_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x25b)]==='start'){let _0x304fb8=Object[_0x3e4835(0x28f)](_0xf8bed0[_0x3e4835(0x464)]);if(_0x304fb8[_0x3e4835(0x237)]>0x2||_0x304fb8['length']===0x2&&!_0x304fb8[_0x3e4835(0x53b)](_0x3e4835(0x4c3))){this[_0x3e4835(0x264)](_0x3e4835(0x5ea));return;}}let _0x55045e=_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x7a8)];for(let _0x261edc in _0xf8bed0[_0x3e4835(0x464)])_0xf8bed0[_0x3e4835(0x464)]['hasOwnProperty'](_0x261edc)&&(_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x261edc]=_0xf8bed0[_0x3e4835(0x464)][_0x261edc]);if(this[_0x3e4835(0x2a3)][_0x3e4835(0x5da)](this[_0x3e4835(0x261)]+'\x20('+this['instance'][_0x3e4835(0x473)]+_0x3e4835(0x1a6)+JSON[_0x3e4835(0x4e8)](_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e])),_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]&&'header'in _0x4cea8f[_0x3e4835(0x224)][_0x27ce7e]['apirequest']){this[_0x3e4835(0x2a3)]['verbose'](this[_0x3e4835(0x261)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2754ff=JSON[_0x3e4835(0x4e8)](_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]['header'],null,0x1);_0x2754ff[_0x3e4835(0x237)]>0x2&&(_0x2754ff=_0x2754ff[_0x3e4835(0x207)](0x1,_0x2754ff['length']-0x1)[_0x3e4835(0x19c)]()),_0x4cea8f['blocks'][_0x27ce7e][_0x3e4835(0x4b0)]['headerString']=_0x2754ff;}if(_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]&&_0x3e4835(0x39d)in _0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]&&!(_0x3e4835(0x2dc)in _0x4cea8f['blocks'][_0x27ce7e][_0x3e4835(0x4b0)])){this[_0x3e4835(0x2a3)]['verbose'](this[_0x3e4835(0x261)]+'\x20('+this[_0x3e4835(0x19b)][_0x3e4835(0x473)]+_0x3e4835(0x123)),_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)][_0x3e4835(0x3ba)]=!0x1;let _0x4e3407=JSON['stringify'](_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)][_0x3e4835(0x39d)],null,0x2);_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)][_0x3e4835(0x2dc)]=_0x4e3407;}if(_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e]['apirequest']&&_0x3e4835(0x2dc)in _0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]){_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]['bodyStringErrorParse']=!0x1;let _0x4ecad9=_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e]['apirequest'][_0x3e4835(0x2dc)],_0x544db6=this[_0x3e4835(0x1ff)](_0x4ecad9);_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)][_0x3e4835(0x2dc)]=_0x544db6['result'],_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e][_0x3e4835(0x4b0)]['bodyStringErrorParse']=_0x544db6['error'];}let _0x4fd4fb=_0x4cea8f[_0x3e4835(0x224)][_0x27ce7e]['groupId'];_0x55045e!==_0x4fd4fb?(this[_0x3e4835(0x38e)](_0x4cea8f[_0x3e4835(0x224)],_0x55045e),this[_0x3e4835(0x38e)](_0x4cea8f[_0x3e4835(0x224)],_0x4fd4fb)):this[_0x3e4835(0x38e)](_0x4cea8f[_0x3e4835(0x224)],_0x55045e);}[a0_0x27193d(0x1ff)](_0x8a4dda){const _0x13d4c6=a0_0x27193d;let _0x4d0d80='\u205f',_0x3d7358=!0x1,_0x5d2e96='';for(let _0x5a8f20=0x0;_0x5a8f20<_0x8a4dda[_0x13d4c6(0x237)];_0x5a8f20++){let _0x15dd41=_0x8a4dda[_0x5a8f20];_0x15dd41==='\x22'&&(_0x5a8f20===0x0||_0x8a4dda[_0x5a8f20-0x1]!=='\x5c')&&(_0x3d7358=!_0x3d7358),!(!_0x3d7358&&(_0x15dd41==='\x0a'||_0x15dd41==='\x20'||_0x15dd41===_0x4d0d80))&&(_0x5d2e96+=_0x15dd41);}let _0x21bdba={},_0x39f449=9876543210.1234,_0xc4425c=_0x5d2e96[_0x13d4c6(0x468)](/\{\{([^}]+)\}\}/g,_0xa1350d=>{let _0x8e850a=_0xa1350d,_0x2b3765=''+_0x39f449;return _0x21bdba[_0x2b3765]=_0x8e850a,_0x39f449+=0.0001,_0x2b3765;}),_0x164460='',_0x23f4a8=!0x1;try{let _0x30ea55=JSON[_0x13d4c6(0x305)](_0xc4425c);_0x164460=JSON['stringify'](_0x30ea55,null,0x2),_0x164460=_0x164460[_0x13d4c6(0x468)](/\n( +)/g,(_0x261332,_0x536b78)=>{const _0x2b8dba=_0x13d4c6;let _0x6f8c6c=_0x536b78[_0x2b8dba(0x237)];return'\x0a'+_0x4d0d80[_0x2b8dba(0x29d)](_0x6f8c6c*0x2);}),_0x164460=_0x164460[_0x13d4c6(0x468)](/(\d{10,}\.\d+)/g,_0x575f64=>_0x21bdba[_0x575f64]||_0x575f64);}catch(_0x3efe0d){console[_0x13d4c6(0x382)](_0x13d4c6(0x4ab),_0x3efe0d),_0x164460=_0x8a4dda,_0x23f4a8=!0x0;}return{'result':_0x164460,'error':_0x23f4a8};}[a0_0x27193d(0x757)](_0x4a75fc,_0x5af6fa){const _0x436978=a0_0x27193d;if(_0x5af6fa[_0x436978(0x464)]['type']==='start'){this['throwAndLogError'](_0x436978(0x362));return;}if(_0x5af6fa[_0x436978(0x464)]['apirequest']&&'header'in _0x5af6fa[_0x436978(0x464)][_0x436978(0x4b0)]){this['logger'][_0x436978(0x5da)](this[_0x436978(0x261)]+'\x20('+this[_0x436978(0x19b)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4b3a01=JSON['stringify'](_0x5af6fa[_0x436978(0x464)]['apirequest']['header'],null,0x1);_0x4b3a01['length']>0x2&&(_0x4b3a01=_0x4b3a01[_0x436978(0x207)](0x1,_0x4b3a01[_0x436978(0x237)]-0x1)[_0x436978(0x19c)]()),_0x5af6fa['block'][_0x436978(0x4b0)][_0x436978(0x73b)]=_0x4b3a01;}_0x5af6fa['block'][_0x436978(0x4b0)]&&_0x436978(0x39d)in _0x5af6fa[_0x436978(0x464)]['apirequest']&&(this['logger'][_0x436978(0x5da)](this[_0x436978(0x261)]+'\x20('+this[_0x436978(0x19b)][_0x436978(0x473)]+_0x436978(0x123)),_0x5af6fa[_0x436978(0x464)][_0x436978(0x4b0)]['bodyString']=JSON[_0x436978(0x4e8)](_0x5af6fa[_0x436978(0x464)][_0x436978(0x4b0)][_0x436978(0x39d)],null,0x1)[_0x436978(0x19c)]()),_0x4a75fc['blocks'][_0x436978(0x7b6)](_0x5af6fa[_0x436978(0x464)]),this[_0x436978(0x38e)](_0x4a75fc[_0x436978(0x224)],_0x5af6fa[_0x436978(0x464)]['groupId']);}[a0_0x27193d(0x38e)](_0x36b4eb,_0x206caf){const _0x4f63aa=a0_0x27193d;let _0x16fcae=_0x36b4eb[_0x4f63aa(0x46c)](_0x18ec1d=>_0x18ec1d['groupId']===_0x206caf);_0x16fcae[_0x4f63aa(0x522)]((_0x588988,_0x44b19a)=>_0x588988[_0x4f63aa(0x2cc)]-_0x44b19a[_0x4f63aa(0x2cc)]),_0x16fcae['forEach']((_0x5848c8,_0x4a6a59)=>_0x5848c8[_0x4f63aa(0x2cc)]=_0x4a6a59+0x1);}async[a0_0x27193d(0x69d)](_0x2a4fbe){const _0x326e10=a0_0x27193d;try{if(this[_0x326e10(0x2a3)]['verbose'](this[_0x326e10(0x261)]+'\x20('+this[_0x326e10(0x19b)][_0x326e10(0x473)]+_0x326e10(0x210)),!_0x2a4fbe||!_0x2a4fbe[_0x326e10(0x2d1)]){this[_0x326e10(0x264)](_0x326e10(0x535));return;}let _0x37d57d=await this[_0x326e10(0x418)][_0x326e10(0x4c0)]['findOne']({'where':{'name':_0x2a4fbe[_0x326e10(0x1d6)]}},this[_0x326e10(0x19b)]['wuid']);_0x37d57d||this[_0x326e10(0x264)](_0x326e10(0x4f5));let {replyOption:_0x46c5da}=_0x2a4fbe;_0x46c5da?.['delete']?(this['deleteReplyOption'](_0x37d57d,_0x2a4fbe),this[_0x326e10(0x6b1)](_0x37d57d[_0x326e10(0x533)],_0x2a4fbe[_0x326e10(0x2d1)]['blockId'])):_0x46c5da['_id']?(await this['updateReplyOption'](_0x37d57d,_0x2a4fbe),this[_0x326e10(0x6b1)](_0x37d57d[_0x326e10(0x533)],_0x2a4fbe['replyOption'][_0x326e10(0x517)])):(this[_0x326e10(0x1af)](_0x37d57d,_0x2a4fbe),this[_0x326e10(0x6b1)](_0x37d57d['replyOptions'],_0x2a4fbe['replyOption']['blockId']));let _0x5d54ed=await this[_0x326e10(0x418)][_0x326e10(0x4c0)][_0x326e10(0x5f2)](_0x37d57d['_id'],_0x37d57d,this['instance'][_0x326e10(0x473)]);if(_0x5d54ed&&_0x5d54ed[_0x326e10(0x7b9)]&&_0x5d54ed[_0x326e10(0x7b9)][_0x326e10(0x237)]>0x1&&this[_0x326e10(0x777)](_0x5d54ed['_id'],this[_0x326e10(0x19b)][_0x326e10(0x473)]),!_0x5d54ed)throw new Error(_0x326e10(0x469));return _0x5d54ed;}catch(_0x4778d1){this[_0x326e10(0x264)](_0x326e10(0x51c)+_0x4778d1);}}[a0_0x27193d(0x6b1)](_0x3249bf,_0x16363c){const _0x33f84f=a0_0x27193d;console[_0x33f84f(0x5c8)](_0x33f84f(0x6c0),_0x16363c),_0x3249bf[_0x33f84f(0x6ff)](_0x5d30d3=>{const _0x1404e3=_0x33f84f;_0x5d30d3['blockId']===_0x16363c&&_0x5d30d3[_0x1404e3(0x2cc)]===void 0x0&&(_0x5d30d3[_0x1404e3(0x2cc)]=0x270f);});let _0x37eb12=_0x3249bf[_0x33f84f(0x46c)](_0x14a2b2=>_0x14a2b2['blockId']===_0x16363c);_0x37eb12['sort']((_0x53f7d3,_0x65ea97)=>_0x53f7d3['order']-_0x65ea97['order']),_0x37eb12['forEach']((_0x16bbdf,_0x426c45)=>{const _0x59cf40=_0x33f84f;_0x16bbdf[_0x59cf40(0x2cc)]=_0x426c45+0x1;}),_0x3249bf[_0x33f84f(0x6ff)](_0x45d5ad=>{const _0x335a51=_0x33f84f;if(_0x45d5ad[_0x335a51(0x517)]===_0x16363c){let _0x480ae7=_0x37eb12[_0x335a51(0x76e)](_0x52b49f=>_0x52b49f[_0x335a51(0x310)]&&_0x45d5ad[_0x335a51(0x310)]&&_0x52b49f[_0x335a51(0x310)][_0x335a51(0x1ec)]()===_0x45d5ad['_id'][_0x335a51(0x1ec)]());_0x480ae7&&(_0x45d5ad[_0x335a51(0x2cc)]=_0x480ae7['order']);}}),console[_0x33f84f(0x5c8)](_0x33f84f(0x34f),_0x3249bf);}[a0_0x27193d(0x20f)](_0x5f0aa3,_0x145603){const _0x2fc779=a0_0x27193d;let {replyOption:_0x4d1baf}=_0x145603;if(!_0x4d1baf[_0x2fc779(0x310)]){this['throwAndLogError'](_0x2fc779(0x51b));return;}if(!_0x5f0aa3['replyOptions'][_0x2fc779(0x76e)](_0x515606=>_0x515606[_0x2fc779(0x310)][_0x2fc779(0x1ec)]()===_0x145603[_0x2fc779(0x2d1)][_0x2fc779(0x310)][_0x2fc779(0x1ec)]())){this[_0x2fc779(0x264)](_0x2fc779(0x765)+_0x4d1baf[_0x2fc779(0x310)]+'\x20não\x20encontrado');return;}_0x5f0aa3['replyOptions']=_0x5f0aa3['replyOptions'][_0x2fc779(0x46c)](_0x5e7f8d=>_0x5e7f8d[_0x2fc779(0x310)][_0x2fc779(0x1ec)]()!==_0x145603[_0x2fc779(0x2d1)][_0x2fc779(0x310)][_0x2fc779(0x1ec)]());}async['updateReplyOption'](_0x941e78,_0x5d0fe9){const _0xd55c7=a0_0x27193d;let _0x159ce4=_0x941e78['replyOptions'][_0xd55c7(0x34e)](_0x19dc18=>_0x19dc18[_0xd55c7(0x310)][_0xd55c7(0x1ec)]()===_0x5d0fe9[_0xd55c7(0x2d1)][_0xd55c7(0x310)]['toString']());if(_0x159ce4===-0x1){this[_0xd55c7(0x264)](_0xd55c7(0x765)+_0x5d0fe9[_0xd55c7(0x2d1)][_0xd55c7(0x310)]+_0xd55c7(0x378));return;}for(let _0x5053ca in _0x5d0fe9[_0xd55c7(0x2d1)])_0x5d0fe9[_0xd55c7(0x2d1)][_0xd55c7(0x453)](_0x5053ca)&&(_0x941e78[_0xd55c7(0x533)][_0x159ce4][_0x5053ca]=_0x5d0fe9['replyOption'][_0x5053ca]);}[a0_0x27193d(0x1af)](_0x27556a,_0x26150d){const _0x21c8c6=a0_0x27193d;_0x27556a['replyOptions'][_0x21c8c6(0x7b6)](_0x26150d[_0x21c8c6(0x2d1)]);}async[a0_0x27193d(0x5df)](_0x5e7dd7){const _0x20cf31=a0_0x27193d;this[_0x20cf31(0x2a3)][_0x20cf31(0x5da)](this['instanceName']+'\x20('+this[_0x20cf31(0x19b)][_0x20cf31(0x473)]+_0x20cf31(0x52a)+_0x5e7dd7);try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x20cf31(0x19b)][_0x20cf31(0x473)]+_0x20cf31(0x14c));let _0x4868b7=await this[_0x20cf31(0x418)][_0x20cf31(0x4c0)][_0x20cf31(0x5d3)]({'where':{'name':_0x5e7dd7[_0x20cf31(0x1d6)]}},this[_0x20cf31(0x19b)][_0x20cf31(0x473)]);if(!_0x4868b7)throw new Error(_0x20cf31(0x4f5));if(_0x5e7dd7[_0x20cf31(0x197)]&&_0x5e7dd7[_0x20cf31(0x197)]?.[_0x20cf31(0x1f4)]===!0x0){if(this[_0x20cf31(0x2a3)]['verbose'](this[_0x20cf31(0x261)]+'\x20('+this[_0x20cf31(0x19b)][_0x20cf31(0x473)]+'):\x20delete\x20=\x20true'),_0x5e7dd7[_0x20cf31(0x197)][_0x20cf31(0x359)]===!0x0)return{'message':_0x20cf31(0x3f5)};if(_0x4868b7[_0x20cf31(0x224)][_0x20cf31(0x598)](_0x2c0130=>_0x2c0130[_0x20cf31(0x7a8)][_0x20cf31(0x1ec)]()===_0x5e7dd7[_0x20cf31(0x197)][_0x20cf31(0x310)]))return this['logger'][_0x20cf31(0x5da)](this[_0x20cf31(0x261)]+'\x20('+this['instance'][_0x20cf31(0x473)]+_0x20cf31(0x48e)),{'message':_0x20cf31(0x2c8)};_0x4868b7[_0x20cf31(0x1c7)]=_0x4868b7[_0x20cf31(0x1c7)][_0x20cf31(0x46c)](_0x5cc4ec=>_0x5cc4ec['_id'][_0x20cf31(0x1ec)]()!==_0x5e7dd7[_0x20cf31(0x197)][_0x20cf31(0x310)]);}else{if(_0x5e7dd7[_0x20cf31(0x197)]){if(_0x5e7dd7[_0x20cf31(0x197)][_0x20cf31(0x359)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5e7dd7[_0x20cf31(0x197)][_0x20cf31(0x310)]){let _0xe2b00f=_0x4868b7[_0x20cf31(0x1c7)][_0x20cf31(0x76e)](_0x532b7d=>_0x532b7d['_id']['toString']()===_0x5e7dd7['group'][_0x20cf31(0x310)]);_0xe2b00f&&(_0x5e7dd7[_0x20cf31(0x197)]['x']<0x0&&(_0x5e7dd7[_0x20cf31(0x197)]['x']=0x0),_0x5e7dd7['group']['y']<0x0&&(_0x5e7dd7['group']['y']=0x0),Object[_0x20cf31(0x3f4)](_0xe2b00f,_0x5e7dd7['group']));}else _0x4868b7[_0x20cf31(0x1c7)][_0x20cf31(0x7b6)](_0x5e7dd7['group']);}}let _0x1b4687=await this[_0x20cf31(0x418)][_0x20cf31(0x4c0)][_0x20cf31(0x5f2)](_0x4868b7[_0x20cf31(0x310)],_0x4868b7,this[_0x20cf31(0x19b)][_0x20cf31(0x473)]);if(_0x1b4687&&_0x1b4687[_0x20cf31(0x7b9)]&&_0x1b4687[_0x20cf31(0x7b9)][_0x20cf31(0x237)]>0x1&&this[_0x20cf31(0x777)](_0x1b4687[_0x20cf31(0x310)],this[_0x20cf31(0x19b)][_0x20cf31(0x473)]),!_0x1b4687)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1b4687;}catch(_0x499964){throw this[_0x20cf31(0x2a3)]['error'](this[_0x20cf31(0x261)]+'\x20('+this[_0x20cf31(0x19b)][_0x20cf31(0x473)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x499964 instanceof Error?_0x499964[_0x20cf31(0x5a7)]:JSON[_0x20cf31(0x4e8)](_0x499964,null,0x2))),new w('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x499964 instanceof Error?_0x499964[_0x20cf31(0x5a7)]:JSON[_0x20cf31(0x4e8)](_0x499964,null,0x2)));}}async[a0_0x27193d(0x2f5)](_0x387e71){const _0x52ed9f=a0_0x27193d;try{this[_0x52ed9f(0x2a3)][_0x52ed9f(0x5da)](this[_0x52ed9f(0x261)]+'\x20('+this[_0x52ed9f(0x19b)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2a147c=await this[_0x52ed9f(0x418)][_0x52ed9f(0x4c0)][_0x52ed9f(0x5d3)]({'where':{'name':_0x387e71[_0x52ed9f(0x1d6)]}},this[_0x52ed9f(0x19b)][_0x52ed9f(0x473)]);if(!_0x2a147c)throw new Error(_0x52ed9f(0x4f5));let _0x1530a2=!0x1;if(_0x387e71[_0x52ed9f(0x371)]?.[_0x52ed9f(0x1f4)]===!0x0)_0x2a147c[_0x52ed9f(0x48a)]=_0x2a147c[_0x52ed9f(0x48a)][_0x52ed9f(0x46c)](_0x1346e6=>_0x1346e6&&_0x387e71[_0x52ed9f(0x371)]&&_0x1346e6[_0x52ed9f(0x310)]&&_0x387e71['condition'][_0x52ed9f(0x310)]&&_0x1346e6['_id'][_0x52ed9f(0x1ec)]()!==_0x387e71[_0x52ed9f(0x371)][_0x52ed9f(0x310)][_0x52ed9f(0x1ec)]()),_0x1530a2=!0x0;else{let _0x3f0ab6=_0x2a147c['conditions'][_0x52ed9f(0x76e)](_0x388cc6=>_0x388cc6&&_0x387e71['condition']&&_0x388cc6[_0x52ed9f(0x310)]&&_0x387e71['condition'][_0x52ed9f(0x310)]&&_0x388cc6['_id'][_0x52ed9f(0x1ec)]()===_0x387e71[_0x52ed9f(0x371)][_0x52ed9f(0x310)][_0x52ed9f(0x1ec)]());_0x3f0ab6?(_0x1530a2=_0x3f0ab6['order']!==_0x387e71[_0x52ed9f(0x371)]['order'],Object[_0x52ed9f(0x3f4)](_0x3f0ab6,_0x387e71[_0x52ed9f(0x371)])):(_0x2a147c[_0x52ed9f(0x48a)][_0x52ed9f(0x7b6)](_0x387e71[_0x52ed9f(0x371)]),_0x1530a2=!0x0);}if(_0x1530a2){_0x2a147c[_0x52ed9f(0x48a)][_0x52ed9f(0x522)]((_0x101ec4,_0x4ed2d5)=>_0x101ec4[_0x52ed9f(0x2cc)]>_0x4ed2d5['order']?0x1:_0x4ed2d5[_0x52ed9f(0x2cc)]>_0x101ec4[_0x52ed9f(0x2cc)]?-0x1:0x0);for(let _0x5950ef=0x0;_0x5950ef<_0x2a147c[_0x52ed9f(0x48a)]['length'];_0x5950ef++)_0x2a147c['conditions'][_0x5950ef][_0x52ed9f(0x2cc)]=_0x5950ef+0x1;_0x2a147c[_0x52ed9f(0x48a)][_0x52ed9f(0x237)]>0x0&&(_0x2a147c[_0x52ed9f(0x48a)][0x0][_0x52ed9f(0x431)]='and');}let _0x10d2d1=await this[_0x52ed9f(0x418)][_0x52ed9f(0x4c0)][_0x52ed9f(0x5f2)](_0x2a147c[_0x52ed9f(0x310)],_0x2a147c,this[_0x52ed9f(0x19b)][_0x52ed9f(0x473)]);if(_0x10d2d1&&_0x10d2d1['shareOwners']&&_0x10d2d1[_0x52ed9f(0x7b9)][_0x52ed9f(0x237)]>0x1&&this[_0x52ed9f(0x777)](_0x10d2d1[_0x52ed9f(0x310)],this['instance'][_0x52ed9f(0x473)]),!_0x10d2d1)throw new Error(_0x52ed9f(0x469));return _0x10d2d1;}catch(_0x30c500){throw this[_0x52ed9f(0x2a3)][_0x52ed9f(0x382)](this[_0x52ed9f(0x261)]+'\x20('+this[_0x52ed9f(0x19b)][_0x52ed9f(0x473)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x30c500 instanceof Error?_0x30c500[_0x52ed9f(0x5a7)]:JSON['stringify'](_0x30c500,null,0x2))),new Error(_0x52ed9f(0x36f)+(_0x30c500 instanceof Error?_0x30c500[_0x52ed9f(0x5a7)]:JSON[_0x52ed9f(0x4e8)](_0x30c500,null,0x2)));}}async[a0_0x27193d(0x1b3)](_0x55e52b){const _0x327781=a0_0x27193d;try{this['logger'][_0x327781(0x5da)](this[_0x327781(0x261)]+'\x20('+this[_0x327781(0x19b)][_0x327781(0x473)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x4df00a=await this[_0x327781(0x418)][_0x327781(0x4c0)][_0x327781(0x5d3)]({'where':{'name':_0x55e52b['name']}},this[_0x327781(0x19b)][_0x327781(0x473)]);if(!_0x4df00a)throw new Error(_0x327781(0x4f5));let _0x5b104b=!0x1;if(_0x55e52b[_0x327781(0x7bb)]?.['delete']===!0x0)_0x4df00a[_0x327781(0x6a7)]=_0x4df00a[_0x327781(0x6a7)][_0x327781(0x46c)](_0x14ac55=>_0x14ac55&&_0x55e52b['varedit']&&_0x14ac55[_0x327781(0x310)]&&_0x55e52b['varedit'][_0x327781(0x310)]&&_0x14ac55['_id']['toString']()!==_0x55e52b[_0x327781(0x7bb)][_0x327781(0x310)][_0x327781(0x1ec)]()),_0x5b104b=!0x0;else{let _0x39b582=_0x4df00a['varedits'][_0x327781(0x76e)](_0x5a2017=>_0x5a2017&&_0x55e52b['varedit']&&_0x5a2017[_0x327781(0x310)]&&_0x55e52b[_0x327781(0x7bb)][_0x327781(0x310)]&&_0x5a2017['_id'][_0x327781(0x1ec)]()===_0x55e52b['varedit']['_id'][_0x327781(0x1ec)]());_0x39b582?(_0x5b104b=_0x39b582[_0x327781(0x2cc)]!==_0x55e52b[_0x327781(0x7bb)][_0x327781(0x2cc)],Object['assign'](_0x39b582,_0x55e52b['varedit'])):(_0x4df00a['varedits'][_0x327781(0x7b6)](_0x55e52b[_0x327781(0x7bb)]),_0x5b104b=!0x0);}if(_0x5b104b){_0x4df00a[_0x327781(0x6a7)][_0x327781(0x522)]((_0x6033d,_0x213120)=>_0x6033d[_0x327781(0x2cc)]>_0x213120[_0x327781(0x2cc)]?0x1:_0x213120[_0x327781(0x2cc)]>_0x6033d['order']?-0x1:0x0);for(let _0x5d0ee8=0x0;_0x5d0ee8<_0x4df00a['varedits']['length'];_0x5d0ee8++)_0x4df00a[_0x327781(0x6a7)][_0x5d0ee8][_0x327781(0x2cc)]=_0x5d0ee8+0x1;}let _0xcf7a79=await this['repository']['flow'][_0x327781(0x5f2)](_0x4df00a[_0x327781(0x310)],_0x4df00a,this[_0x327781(0x19b)]['wuid']);if(_0xcf7a79&&_0xcf7a79[_0x327781(0x7b9)]&&_0xcf7a79[_0x327781(0x7b9)]['length']>0x1&&this['synchronizeFlows'](_0xcf7a79['_id'],this['instance']['wuid']),!_0xcf7a79)throw new Error(_0x327781(0x469));return _0xcf7a79;}catch(_0x1354e7){throw this[_0x327781(0x2a3)][_0x327781(0x382)](this[_0x327781(0x261)]+'\x20('+this[_0x327781(0x19b)]['wuid']+_0x327781(0x28b)+(_0x1354e7 instanceof Error?_0x1354e7[_0x327781(0x5a7)]:JSON[_0x327781(0x4e8)](_0x1354e7,null,0x2))),new w(_0x327781(0x36f)+(_0x1354e7 instanceof Error?_0x1354e7[_0x327781(0x5a7)]:JSON[_0x327781(0x4e8)](_0x1354e7,null,0x2)));}}async['editFlowVariable'](_0x2279e1){const _0x1387e8=a0_0x27193d;try{this[_0x1387e8(0x2a3)]['verbose'](this[_0x1387e8(0x261)]+'\x20('+this['instance'][_0x1387e8(0x473)]+_0x1387e8(0x5bb));let _0x51ce2a=await this[_0x1387e8(0x418)][_0x1387e8(0x4c0)]['findOne']({'where':{'name':_0x2279e1[_0x1387e8(0x1d6)]}},this[_0x1387e8(0x19b)][_0x1387e8(0x473)]);if(!_0x51ce2a)throw new Error(_0x1387e8(0x4f5));_0x2279e1[_0x1387e8(0x2ea)]['name']=_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)][_0x1387e8(0x19c)](),_0x2279e1[_0x1387e8(0x2ea)]['name'][_0x1387e8(0x212)]('_')&&(_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)]=_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)][_0x1387e8(0x207)](0x1)),_0x2279e1['variable'][_0x1387e8(0x1d6)]=_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)][_0x1387e8(0x19c)]();let _0x2fe2f4=_0x51ce2a['variables'][_0x1387e8(0x76e)](_0x1c69a1=>_0x1c69a1['name']===_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)]);if(_0x2fe2f4?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x2279e1[_0x1387e8(0x2ea)]?.['delete']===!0x0){if(!_0x2fe2f4)return{'message':'Variável\x20não\x20encontrada!'};_0x51ce2a['variables']=_0x51ce2a[_0x1387e8(0x1a2)]['filter'](_0xdda09f=>_0xdda09f[_0x1387e8(0x1d6)]!==_0x2279e1[_0x1387e8(0x2ea)][_0x1387e8(0x1d6)]);}else _0x2fe2f4?Object[_0x1387e8(0x3f4)](_0x2fe2f4,_0x2279e1['variable']):_0x51ce2a[_0x1387e8(0x1a2)]['push'](_0x2279e1[_0x1387e8(0x2ea)]);let _0x1a156c=await this[_0x1387e8(0x418)]['flow'][_0x1387e8(0x5f2)](_0x51ce2a['_id'],_0x51ce2a,this[_0x1387e8(0x19b)][_0x1387e8(0x473)]);if(_0x1a156c&&_0x1a156c['shareOwners']&&_0x1a156c[_0x1387e8(0x7b9)]['length']>0x1&&this[_0x1387e8(0x777)](_0x1a156c['_id'],this[_0x1387e8(0x19b)][_0x1387e8(0x473)]),!_0x1a156c)throw new Error(_0x1387e8(0x469));return _0x1a156c;}catch(_0x2b1557){throw this[_0x1387e8(0x2a3)]['error'](this[_0x1387e8(0x261)]+'\x20('+this[_0x1387e8(0x19b)]['wuid']+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x2b1557 instanceof Error?_0x2b1557['message']:JSON['stringify'](_0x2b1557,null,0x2))),new w(_0x1387e8(0x127)+(_0x2b1557 instanceof Error?_0x2b1557[_0x1387e8(0x5a7)]:JSON['stringify'](_0x2b1557,null,0x2)));}}async[a0_0x27193d(0x5dc)](_0x2dbc87){const _0x186bc4=a0_0x27193d;let _0x52b642=null;try{if(!this[_0x186bc4(0x3a6)]?.[_0x186bc4(0x2ae)][_0x186bc4(0x59d)])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x186bc4(0x2a3)]['verbose'](this['instanceName']+'\x20('+this[_0x186bc4(0x19b)][_0x186bc4(0x473)]+_0x186bc4(0x36b));let _0x5b57aa=(await this[_0x186bc4(0x5e1)]({'numbers':[_0x2dbc87[_0x186bc4(0x682)]]}))[0x0];if(!_0x5b57aa['exists']&&!(0x0,m['isJidGroup'])(_0x5b57aa[_0x186bc4(0x22b)])&&!_0x5b57aa[_0x186bc4(0x22b)][_0x186bc4(0x53b)]('@broadcast'))throw _0x52b642=JSON[_0x186bc4(0x4e8)](_0x5b57aa,null,0x2),new w(_0x5b57aa);let _0x3e3288=await this['repository'][_0x186bc4(0x4c0)][_0x186bc4(0x5d3)]({'where':{'name':_0x2dbc87[_0x186bc4(0x1d6)]}},this[_0x186bc4(0x19b)][_0x186bc4(0x473)]);if(!_0x3e3288)return this[_0x186bc4(0x2a3)][_0x186bc4(0x382)](this[_0x186bc4(0x261)]+'\x20('+this[_0x186bc4(0x19b)][_0x186bc4(0x473)]+_0x186bc4(0x637)),{'message':_0x186bc4(0x4f5)};let _0x59ceee=await this[_0x186bc4(0x6dd)](_0x3e3288,_0x5b57aa[_0x186bc4(0x22b)],_0x2dbc87[_0x186bc4(0x4f7)]);if(_0x59ceee){this[_0x186bc4(0x2a3)]['verbose'](this[_0x186bc4(0x261)]+'\x20('+this[_0x186bc4(0x19b)][_0x186bc4(0x473)]+_0x186bc4(0x723));let _0x549d5a=await this[_0x186bc4(0x7c4)](_0x59ceee);return _0x549d5a&&await this[_0x186bc4(0x429)](_0x59ceee,_0x549d5a),{'message':_0x186bc4(0x51e)+_0x2dbc87[_0x186bc4(0x682)]};}}catch(_0x5a392c){if(this['logger'][_0x186bc4(0x382)](this[_0x186bc4(0x261)]+'\x20('+this[_0x186bc4(0x19b)][_0x186bc4(0x473)]+_0x186bc4(0x4b4)+(_0x5a392c instanceof Error?_0x5a392c[_0x186bc4(0x5a7)]:JSON[_0x186bc4(0x4e8)](_0x5a392c,null,0x2))),_0x52b642=_0x5a392c instanceof Error?_0x5a392c['message']:JSON[_0x186bc4(0x4e8)](_0x5a392c,null,0x2),_0x52b642)throw new w(_0x186bc4(0x233)+_0x52b642);}}async[a0_0x27193d(0x40b)](_0x4aeb86){const _0x537855=a0_0x27193d;try{let _0x2ce92d={'remoteJid':_0x4aeb86,'status':_0x537855(0x665)},_0xefe8d1={'status':_0x537855(0x370)},_0x582c81=await this[_0x537855(0x418)][_0x537855(0x450)][_0x537855(0x1dc)](_0x2ce92d,_0xefe8d1,this[_0x537855(0x19b)]['wuid']);return this[_0x537855(0x2a3)]['verbose'](this[_0x537855(0x261)]+'\x20('+this['instance']['wuid']+_0x537855(0x334)),_0x582c81;}catch(_0x4bf7df){throw this[_0x537855(0x2a3)]['error'](this[_0x537855(0x261)]+'\x20('+this[_0x537855(0x19b)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4bf7df['message']),_0x4bf7df;}}async[a0_0x27193d(0x6dd)](_0x119e59,_0x93f016,_0x5d3a76){const _0x200aa0=a0_0x27193d;this['logger']['verbose'](this[_0x200aa0(0x261)]+'\x20('+this[_0x200aa0(0x19b)][_0x200aa0(0x473)]+_0x200aa0(0x26a)),await this[_0x200aa0(0x40b)](_0x93f016);try{let _0x36023d=require(_0x200aa0(0x759))['ObjectId'],_0x366eae=Date[_0x200aa0(0x23b)](),_0x1240b8=_0x200aa0(0x5b3),_0x2b8c14={},_0x2f155d={},_0x270a8b={..._0x119e59,'chatLog':null},_0x29c810=await this[_0x200aa0(0x2c4)](_0x270a8b['variables']),_0x3b1e65=await this[_0x200aa0(0x11b)](_0x93f016),_0x2dd16d={..._0x29c810,..._0x3b1e65,'_remoteJid':_0x93f016},_0x802c66={'lastReceivedMessage':_0x2b8c14,'lastSendMessage':_0x2f155d,'lastBlockId':_0x1240b8,'lastCondition':!0x0,'realVariables':_0x2dd16d};_0x270a8b[_0x200aa0(0x465)]=_0x802c66,_0x270a8b['chatLog'][_0x200aa0(0x1cd)]={..._0x2dd16d,..._0x5d3a76},delete _0x270a8b[_0x200aa0(0x310)],_0x270a8b[_0x200aa0(0x310)]=new _0x36023d(),_0x270a8b[_0x200aa0(0x117)]=_0x366eae,_0x270a8b[_0x200aa0(0x148)]=_0x200aa0(0x665),_0x270a8b[_0x200aa0(0x682)]=_0x93f016;let _0x202118=await this[_0x200aa0(0x418)]['flowConversation'][_0x200aa0(0x5f2)](_0x270a8b[_0x200aa0(0x310)],_0x270a8b,this[_0x200aa0(0x19b)][_0x200aa0(0x473)]);return this['logger'][_0x200aa0(0x5da)](this[_0x200aa0(0x261)]+'\x20('+this['instance'][_0x200aa0(0x473)]+_0x200aa0(0x138)),_0x202118?_0x270a8b:null;}catch(_0x21c50c){throw this[_0x200aa0(0x2a3)][_0x200aa0(0x382)](this[_0x200aa0(0x261)]+'\x20('+this[_0x200aa0(0x19b)][_0x200aa0(0x473)]+_0x200aa0(0x45f)+(_0x21c50c instanceof Error?_0x21c50c[_0x200aa0(0x5a7)]:JSON[_0x200aa0(0x4e8)](_0x21c50c,null,0x2))),new w(_0x21c50c['message']);}}async[a0_0x27193d(0x79c)](_0x1a233a){const _0x1737f7=a0_0x27193d;try{this['logger'][_0x1737f7(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x1737f7(0x473)]+_0x1737f7(0x37f)),this[_0x1737f7(0x2a3)]['verbose'](this[_0x1737f7(0x261)]+'\x20('+this[_0x1737f7(0x19b)][_0x1737f7(0x473)]+_0x1737f7(0x2bb)+_0x1a233a);let _0x2b1ebf={'where':{'_id':_0x1a233a}};return await this['repository'][_0x1737f7(0x450)][_0x1737f7(0x5d3)](_0x2b1ebf,this['instance']['wuid']);}catch(_0x364bc4){throw this[_0x1737f7(0x2a3)][_0x1737f7(0x382)](this[_0x1737f7(0x261)]+'\x20('+this[_0x1737f7(0x19b)][_0x1737f7(0x473)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x364bc4 instanceof Error?_0x364bc4['message']:JSON[_0x1737f7(0x4e8)](_0x364bc4,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x364bc4[_0x1737f7(0x5a7)]);}}async['fetchConversation'](_0xd5072d){const _0x4181ad=a0_0x27193d;try{return this[_0x4181ad(0x2a3)]['verbose'](this[_0x4181ad(0x261)]+'\x20('+this[_0x4181ad(0x19b)][_0x4181ad(0x473)]+_0x4181ad(0x19f)),await this[_0x4181ad(0x418)]['flowConversation'][_0x4181ad(0x76e)](_0xd5072d,this[_0x4181ad(0x19b)][_0x4181ad(0x473)]);}catch(_0x2c5dd5){throw this[_0x4181ad(0x2a3)][_0x4181ad(0x382)](this[_0x4181ad(0x261)]+'\x20('+this['instance']['wuid']+_0x4181ad(0x488)+(_0x2c5dd5 instanceof Error?_0x2c5dd5[_0x4181ad(0x5a7)]:JSON[_0x4181ad(0x4e8)](_0x2c5dd5,null,0x2))),new w(_0x4181ad(0x5ae)+_0x2c5dd5[_0x4181ad(0x5a7)]);}}async['deleteConversation'](_0x199ca2){const _0x3d2ab2=a0_0x27193d;try{return this[_0x3d2ab2(0x2a3)][_0x3d2ab2(0x5da)](this[_0x3d2ab2(0x261)]+'\x20('+this[_0x3d2ab2(0x19b)][_0x3d2ab2(0x473)]+_0x3d2ab2(0x601)),this[_0x3d2ab2(0x2a3)]['verbose'](this[_0x3d2ab2(0x261)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:'+_0x199ca2),(await this[_0x3d2ab2(0x418)][_0x3d2ab2(0x450)][_0x3d2ab2(0x40d)]({'where':{'_id':_0x199ca2}},this[_0x3d2ab2(0x19b)][_0x3d2ab2(0x473)]))[_0x3d2ab2(0x398)]===0x0?{'message':_0x3d2ab2(0x2c1)}:{'message':_0x3d2ab2(0x590)};}catch(_0x450e5d){throw this[_0x3d2ab2(0x2a3)][_0x3d2ab2(0x382)](this[_0x3d2ab2(0x261)]+'\x20('+this[_0x3d2ab2(0x19b)][_0x3d2ab2(0x473)]+_0x3d2ab2(0x3e3)+(_0x450e5d instanceof Error?_0x450e5d[_0x3d2ab2(0x5a7)]:JSON[_0x3d2ab2(0x4e8)](_0x450e5d,null,0x2))),new w(_0x3d2ab2(0x298)+_0x450e5d[_0x3d2ab2(0x5a7)]);}}async[a0_0x27193d(0x1bd)](_0x321019){const _0x192904=a0_0x27193d;try{let {_id:_0x24b247,chatLog:_0xe549bf,status:_0x47fc04}=_0x321019;if(!_0x24b247)return{'message':_0x192904(0x661)};let _0x3ce479={};if(_0x47fc04!==void 0x0&&(_0x3ce479[_0x192904(0x148)]=_0x47fc04),Object['keys'](_0x3ce479)['length']===0x0)return{'message':_0x192904(0x454)};let _0xf15082=await this[_0x192904(0x418)][_0x192904(0x450)]['updateOne'](_0x24b247,_0x3ce479,this['instance'][_0x192904(0x473)]);return _0xf15082||{'message':_0x192904(0x528)};}catch(_0x1e6906){throw this[_0x192904(0x2a3)][_0x192904(0x382)](this[_0x192904(0x261)]+'\x20('+this[_0x192904(0x19b)]['wuid']+_0x192904(0x2e7)+(_0x1e6906 instanceof Error?_0x1e6906[_0x192904(0x5a7)]:JSON[_0x192904(0x4e8)](_0x1e6906,null,0x2))),new w(_0x192904(0x54f)+_0x1e6906[_0x192904(0x5a7)]);}}async['editChat'](_0x49c3bd){const _0x28e334=a0_0x27193d;console[_0x28e334(0x5c8)](_0x49c3bd);try{_0x49c3bd[_0x28e334(0x310)]=this['createJid'](_0x49c3bd[_0x28e334(0x310)]);let _0x5843a7=await this[_0x28e334(0x418)][_0x28e334(0x396)]['findOne']({'where':{'_id':_0x49c3bd[_0x28e334(0x310)]}},this[_0x28e334(0x19b)][_0x28e334(0x473)]);if(!_0x5843a7)throw new w(_0x28e334(0x4f1));let {_id:_0x5462a5,leadInfo:_0x169225}=_0x49c3bd;if(!_0x5462a5)throw new Error(_0x28e334(0x4f6));if(_0x49c3bd[_0x28e334(0x1f4)]){if(_0x49c3bd=await this['repository'][_0x28e334(0x396)][_0x28e334(0x5f2)]({'where':{'_id':_0x49c3bd[_0x28e334(0x310)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x28e334(0x19b)][_0x28e334(0x473)]),U(this['instanceName'],_0x28e334(0x4f9),{'chat':_0x49c3bd}),_0x49c3bd['delete']===_0x28e334(0x60e))return await this['repository'][_0x28e334(0x396)][_0x28e334(0x1f4)]({'where':{'_id':_0x49c3bd[_0x28e334(0x310)]}},this[_0x28e334(0x19b)][_0x28e334(0x473)]),await this[_0x28e334(0x418)][_0x28e334(0x5a7)][_0x28e334(0x1f4)]({'where':{'key':{'remoteJid':_0x49c3bd[_0x28e334(0x310)]}}},this['instance']['wuid']),{'message':_0x28e334(0x30f)};if(_0x49c3bd['delete']===_0x28e334(0x6ab))return await this[_0x28e334(0x418)][_0x28e334(0x5a7)][_0x28e334(0x1f4)]({'where':{'key':{'remoteJid':_0x49c3bd[_0x28e334(0x310)]}}},this[_0x28e334(0x19b)]['wuid']),{'message':_0x28e334(0x33d)};}let _0x2157e2=(_0x2227c6,_0xdf71e3,_0x2ead02)=>{const _0x33234f=_0x28e334;_0x2227c6&&_0x2ead02[_0x33234f(0x6ff)](_0x139106=>{const _0x507b1a=_0x33234f;_0x2227c6[_0x139106]!==void 0x0&&(_0xdf71e3[_0x507b1a(0x1e6)+_0x139106]=_0x2227c6[_0x139106]);});},_0x37a43a={};if(_0x169225&&(_0x2157e2(_0x169225,_0x37a43a,['nome','nomecompleto','email','cpf',_0x28e334(0x148),_0x28e334(0x749),'tags',_0x28e334(0x6b9),'responsavelid',_0x28e334(0x72f)]),Array[_0x28e334(0x215)](_0x169225['customFields'])&&(_0x37a43a[_0x28e334(0x3bf)]=_0x169225[_0x28e334(0x1aa)]['map'](_0x48f430=>({'_id':_0x48f430['_id'],'value':_0x48f430[_0x28e334(0x425)]}))),_0x49c3bd[_0x28e334(0x5c0)]['etiquetas']!==void 0x0)){let _0xb4f797=await this[_0x28e334(0x418)][_0x28e334(0x79a)][_0x28e334(0x76e)]({'where':{}},this['instance']['wuid']),_0x5855f6=new Set(_0x49c3bd[_0x28e334(0x5c0)][_0x28e334(0x72f)]||[]),_0x2cec8d=new Set(_0x49c3bd['leadInfo'][_0x28e334(0x72f)]),_0x52e50a=new Set(_0xb4f797[_0x28e334(0x5e5)](_0xa07385=>_0xa07385[_0x28e334(0x310)])),_0x3e5dd4=[..._0x2cec8d]['filter'](_0x56e3d5=>!_0x5855f6['has'](_0x56e3d5)&&_0x52e50a[_0x28e334(0x4a9)](_0x56e3d5)),_0xe3bed6=[..._0x5855f6]['filter'](_0x3506c3=>!_0x2cec8d['has'](_0x3506c3));if(_0x37a43a[_0x28e334(0x3ca)]=[..._0x5855f6],_0x5843a7&&!_0x5843a7[_0x28e334(0x6be)]){for(let _0x4d2075 of _0x3e5dd4)await this['AddChatLabel'](_0x4d2075,_0x49c3bd[_0x28e334(0x310)]),_0x5855f6['add'](_0x4d2075);for(let _0x32be4f of _0xe3bed6)await this[_0x28e334(0x2b7)](_0x32be4f,_0x49c3bd[_0x28e334(0x310)]),_0x5855f6[_0x28e334(0x1f4)](_0x32be4f);}}if(_0x49c3bd[_0x28e334(0x4d2)]!==void 0x0&&(_0x37a43a[_0x28e334(0x4d2)]=Number(_0x49c3bd[_0x28e334(0x4d2)])),Object[_0x28e334(0x28f)](_0x37a43a)[_0x28e334(0x237)]===0x0)throw new Error(_0x28e334(0x454));let _0x3accb9=await this['repository'][_0x28e334(0x396)][_0x28e334(0x5f2)]({'where':{'_id':_0x49c3bd[_0x28e334(0x310)]}},_0x37a43a,this[_0x28e334(0x19b)][_0x28e334(0x473)]);return _0x3accb9&&U(this[_0x28e334(0x261)],_0x28e334(0x4f9),{'chat':_0x3accb9}),_0x3accb9?(this[_0x28e334(0x2a3)][_0x28e334(0x5da)](this[_0x28e334(0x261)]+'\x20('+this[_0x28e334(0x19b)][_0x28e334(0x473)]+_0x28e334(0x4d5)+JSON[_0x28e334(0x4e8)](_0x3accb9,null,0x2)),_0x3accb9):{'message':_0x28e334(0x4df)};}catch(_0x560bbe){throw this[_0x28e334(0x2a3)]['error'](this[_0x28e334(0x261)]+'\x20('+this[_0x28e334(0x19b)][_0x28e334(0x473)]+_0x28e334(0x1a5)+(_0x560bbe instanceof Error?_0x560bbe[_0x28e334(0x5a7)]:JSON[_0x28e334(0x4e8)](_0x560bbe,null,0x2))),new w(_0x28e334(0x22a)+_0x560bbe[_0x28e334(0x5a7)]);}}async[a0_0x27193d(0x4e0)](_0x32e838,_0x552e07){const _0x219af7=a0_0x27193d;try{await this['client'][_0x219af7(0x579)](_0x552e07,_0x32e838),console['log'](_0x219af7(0x5e3)+_0x32e838+_0x219af7(0x328)+_0x552e07+_0x219af7(0x613));}catch(_0xf72f6b){console[_0x219af7(0x382)](_0x219af7(0x39b)+_0x32e838+_0x219af7(0x23a)+_0x552e07+':',_0xf72f6b);}}async[a0_0x27193d(0x2b7)](_0x4e7245,_0xcf52db){const _0x27b9b9=a0_0x27193d;try{await this[_0x27b9b9(0x5e0)][_0x27b9b9(0x5fe)](_0xcf52db,_0x4e7245),console['log'](_0x27b9b9(0x5e3)+_0x4e7245+'\x20removido\x20do\x20chat\x20'+_0xcf52db+'\x20com\x20sucesso.');}catch(_0x336165){console[_0x27b9b9(0x382)](_0x27b9b9(0x289)+_0x4e7245+_0x27b9b9(0x60f)+_0xcf52db+':',_0x336165);}}async[a0_0x27193d(0x583)](_0x186ce9){const _0x12299b=a0_0x27193d;try{let _0x2a28d3=await this[_0x12299b(0x418)]['automateSystem'][_0x12299b(0x39a)](this['instance'][_0x12299b(0x473)]),_0x208662=_0x186ce9['_id']?_0x2a28d3['agents']['findIndex'](_0x2ddbbe=>_0x2ddbbe['_id']===_0x186ce9[_0x12299b(0x310)]):-0x1;if(_0x186ce9[_0x12299b(0x1f4)]&&_0x208662>-0x1)_0x2a28d3[_0x12299b(0x560)]['splice'](_0x208662,0x1);else{if(_0x208662>-0x1){let _0x3a1577=_0x2a28d3[_0x12299b(0x560)][_0x208662];_0x186ce9[_0x12299b(0x6ec)]&&(_0x3a1577[_0x12299b(0x6ec)]=_0x186ce9[_0x12299b(0x6ec)]),_0x186ce9[_0x12299b(0x1d6)]&&(_0x3a1577[_0x12299b(0x1d6)]=_0x186ce9[_0x12299b(0x1d6)]),_0x186ce9[_0x12299b(0x6b4)]&&(_0x3a1577[_0x12299b(0x6b4)]=_0x186ce9['email']),_0x186ce9[_0x12299b(0x68d)]&&(_0x3a1577[_0x12299b(0x68d)]=_0x186ce9['role']);}else _0x2a28d3[_0x12299b(0x560)][_0x12299b(0x7b6)]({'_id':_0x186ce9[_0x12299b(0x310)]||new le[(_0x12299b(0x359))]['Types'][(_0x12299b(0x623))]()[_0x12299b(0x1ec)](),'fone':_0x186ce9[_0x12299b(0x6ec)],'name':_0x186ce9[_0x12299b(0x1d6)],'email':_0x186ce9[_0x12299b(0x6b4)],'role':_0x186ce9[_0x12299b(0x68d)]});}let _0x41835a={'agents':_0x2a28d3['agents']},_0x238693=await this[_0x12299b(0x418)][_0x12299b(0x11d)][_0x12299b(0x31e)](_0x41835a,this[_0x12299b(0x19b)]['wuid']);return this[_0x12299b(0x3a6)]=_0x238693,this[_0x12299b(0x2a3)][_0x12299b(0x5da)](this[_0x12299b(0x261)]+'\x20('+this[_0x12299b(0x19b)][_0x12299b(0x473)]+_0x12299b(0x6a0)),this[_0x12299b(0x2a3)][_0x12299b(0x5da)](this[_0x12299b(0x261)]+'\x20('+this[_0x12299b(0x19b)]['wuid']+_0x12299b(0x4d5)+this[_0x12299b(0x3a6)]),_0x238693;}catch(_0x13bf8b){throw this[_0x12299b(0x2a3)][_0x12299b(0x382)](this[_0x12299b(0x261)]+'\x20('+this[_0x12299b(0x19b)][_0x12299b(0x473)]+_0x12299b(0x360)+(_0x13bf8b instanceof Error?_0x13bf8b[_0x12299b(0x5a7)]:JSON[_0x12299b(0x4e8)](_0x13bf8b,null,0x2))),new w('Erro\x20ao\x20editar\x20agentes:\x20'+_0x13bf8b[_0x12299b(0x5a7)]);}}async[a0_0x27193d(0x4b1)](_0x4d1abf){const _0x2ec2ef=a0_0x27193d;try{let _0x192903=await this['repository'][_0x2ec2ef(0x11d)][_0x2ec2ef(0x39a)](this['instance'][_0x2ec2ef(0x473)]),_0x30aca1=_0x4d1abf[_0x2ec2ef(0x310)]?_0x192903['customFields'][_0x2ec2ef(0x34e)](_0x29c122=>_0x29c122[_0x2ec2ef(0x310)]===_0x4d1abf[_0x2ec2ef(0x310)]):-0x1,_0x205baa=!0x1,_0x30a00c=_0x192903['customFields'][_0x2ec2ef(0x598)](_0xb953da=>_0xb953da[_0x2ec2ef(0x2cc)]===_0x4d1abf[_0x2ec2ef(0x2cc)]);if(_0x4d1abf['delete']&&_0x30aca1>-0x1)_0x192903['customFields'][_0x2ec2ef(0x463)](_0x30aca1,0x1),_0x205baa=!0x0;else{if(_0x30aca1>-0x1){if(_0x192903[_0x2ec2ef(0x1aa)][_0x2ec2ef(0x598)](_0x3bd075=>_0x3bd075[_0x2ec2ef(0x1d6)]===_0x4d1abf['name']&&_0x3bd075[_0x2ec2ef(0x310)]!==_0x4d1abf[_0x2ec2ef(0x310)]))throw new Error(_0x2ec2ef(0x71e));let _0x4f2e5c=_0x192903[_0x2ec2ef(0x1aa)][_0x30aca1];_0x4d1abf['order']&&(_0x30a00c||!Number['isInteger'](_0x4d1abf[_0x2ec2ef(0x2cc)]))&&(_0x4f2e5c[_0x2ec2ef(0x2cc)]=_0x4d1abf[_0x2ec2ef(0x2cc)],_0x205baa=!0x0),_0x4d1abf[_0x2ec2ef(0x1d6)]&&(_0x4f2e5c[_0x2ec2ef(0x1d6)]=_0x4d1abf[_0x2ec2ef(0x1d6)]);}else{if(_0x192903['customFields'][_0x2ec2ef(0x598)](_0x3ca16f=>_0x3ca16f[_0x2ec2ef(0x1d6)]===_0x4d1abf[_0x2ec2ef(0x1d6)]&&_0x3ca16f[_0x2ec2ef(0x310)]!==_0x4d1abf[_0x2ec2ef(0x310)]))throw new Error(_0x2ec2ef(0x71e));_0x192903['customFields'][_0x2ec2ef(0x7b6)]({'_id':_0x4d1abf[_0x2ec2ef(0x310)]||new le[(_0x2ec2ef(0x359))]['Types'][(_0x2ec2ef(0x623))]()['toString'](),'order':_0x4d1abf[_0x2ec2ef(0x2cc)],'name':_0x4d1abf['name']}),_0x205baa=!0x0;}}if(_0x205baa){_0x192903['customFields'][_0x2ec2ef(0x522)]((_0x117ea9,_0x23b07b)=>_0x117ea9[_0x2ec2ef(0x2cc)]>_0x23b07b[_0x2ec2ef(0x2cc)]?0x1:_0x23b07b[_0x2ec2ef(0x2cc)]>_0x117ea9[_0x2ec2ef(0x2cc)]?-0x1:0x0);for(let _0x20fe6a=0x0;_0x20fe6a<_0x192903['customFields'][_0x2ec2ef(0x237)];_0x20fe6a++)_0x192903['customFields'][_0x20fe6a][_0x2ec2ef(0x2cc)]=_0x20fe6a+0x1;}let _0x16583d=await this[_0x2ec2ef(0x418)]['automateSystem'][_0x2ec2ef(0x31e)](_0x192903,this['instance']['wuid']);return this['AutomateSystem']=_0x16583d,this['logger']['verbose'](this[_0x2ec2ef(0x261)]+'\x20('+this['instance'][_0x2ec2ef(0x473)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x2ec2ef(0x2a3)]['verbose'](this[_0x2ec2ef(0x261)]+'\x20('+this[_0x2ec2ef(0x19b)]['wuid']+_0x2ec2ef(0x4d5)+this[_0x2ec2ef(0x3a6)]),_0x16583d;}catch(_0x5137ce){throw this[_0x2ec2ef(0x2a3)]['error'](this[_0x2ec2ef(0x261)]+'\x20('+this[_0x2ec2ef(0x19b)][_0x2ec2ef(0x473)]+_0x2ec2ef(0x5dd)+(_0x5137ce instanceof Error?_0x5137ce[_0x2ec2ef(0x5a7)]:JSON['stringify'](_0x5137ce,null,0x2))),new w(_0x2ec2ef(0x736)+_0x5137ce[_0x2ec2ef(0x5a7)]);}}async[a0_0x27193d(0x3c7)](_0x1698b1){const _0x39fc19=a0_0x27193d;try{let _0x331ed2=await this[_0x39fc19(0x418)]['automateSystem'][_0x39fc19(0x39a)](this['instance'][_0x39fc19(0x473)]);if(!_0x331ed2)throw new Error(_0x39fc19(0x7a0));let _0x274715={'_id':_0x331ed2[_0x39fc19(0x310)],'flowConfig':{'enabled':_0x1698b1['enabled']??_0x331ed2[_0x39fc19(0x2ae)][_0x39fc19(0x59d)],'ignoreGroups':_0x1698b1['ignoreGroups']??_0x331ed2[_0x39fc19(0x2ae)][_0x39fc19(0x63c)],'prefixCommand':_0x1698b1[_0x39fc19(0x267)]??_0x331ed2['flowConfig'][_0x39fc19(0x267)],'stopConversation':_0x1698b1[_0x39fc19(0x2b9)]??_0x331ed2[_0x39fc19(0x2ae)][_0x39fc19(0x2b9)],'stopMinutes':_0x1698b1[_0x39fc19(0x272)]??_0x331ed2['flowConfig'][_0x39fc19(0x272)],'stopWhenYouSendMsg':_0x1698b1[_0x39fc19(0x735)]??_0x331ed2['flowConfig'][_0x39fc19(0x735)]}},_0x51e964=await this[_0x39fc19(0x418)][_0x39fc19(0x11d)][_0x39fc19(0x31e)](_0x274715,this[_0x39fc19(0x19b)][_0x39fc19(0x473)]);return this[_0x39fc19(0x3a6)]=_0x51e964,this['logger'][_0x39fc19(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x39fc19(0x473)]+_0x39fc19(0x6a0)),this['logger']['verbose'](this[_0x39fc19(0x261)]+'\x20('+this[_0x39fc19(0x19b)]['wuid']+_0x39fc19(0x4d5)+this[_0x39fc19(0x3a6)]),setTimeout(()=>this[_0x39fc19(0x1d7)](),0x7d0),_0x51e964;}catch(_0x3a1306){throw this[_0x39fc19(0x2a3)]['error'](this[_0x39fc19(0x261)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x3a1306 instanceof Error?_0x3a1306['message']:JSON[_0x39fc19(0x4e8)](_0x3a1306,null,0x2))),new w(_0x39fc19(0x77d)+_0x3a1306[_0x39fc19(0x5a7)]);}}async[a0_0x27193d(0x456)](){const _0x3a0a7b=a0_0x27193d;try{let _0x129762=await this[_0x3a0a7b(0x418)][_0x3a0a7b(0x11d)][_0x3a0a7b(0x39a)](this[_0x3a0a7b(0x19b)][_0x3a0a7b(0x473)]);return this[_0x3a0a7b(0x3a6)]=_0x129762,this[_0x3a0a7b(0x2a3)]['verbose'](this[_0x3a0a7b(0x261)]+'\x20('+this[_0x3a0a7b(0x19b)]['wuid']+_0x3a0a7b(0x633)),this['logger'][_0x3a0a7b(0x5da)](this['AutomateSystem']),_0x129762;}catch(_0x309e2b){throw this[_0x3a0a7b(0x2a3)][_0x3a0a7b(0x382)](this[_0x3a0a7b(0x261)]+'\x20('+this[_0x3a0a7b(0x19b)][_0x3a0a7b(0x473)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x309e2b instanceof Error?_0x309e2b[_0x3a0a7b(0x5a7)]:JSON[_0x3a0a7b(0x4e8)](_0x309e2b,null,0x2))),new w(_0x3a0a7b(0x3b3)+_0x309e2b[_0x3a0a7b(0x5a7)]);}}async[a0_0x27193d(0x3e5)](){const _0x115ff5=a0_0x27193d;this[_0x115ff5(0x19b)][_0x115ff5(0x6ac)][_0x115ff5(0x5be)]&&clearTimeout(this[_0x115ff5(0x19b)][_0x115ff5(0x6ac)][_0x115ff5(0x5be)]),this['instance'][_0x115ff5(0x6ac)][_0x115ff5(0x5be)]=setTimeout(()=>{const _0x4d32cf=_0x115ff5;this[_0x4d32cf(0x605)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x27193d(0x605)](){const _0x1c50a4=a0_0x27193d;Date[_0x1c50a4(0x23b)]()-this['instance'][_0x1c50a4(0x6ac)][_0x1c50a4(0x500)]>=0x1d4c0&&(this[_0x1c50a4(0x2a3)][_0x1c50a4(0x5da)](this[_0x1c50a4(0x261)]+'\x20('+this['instance'][_0x1c50a4(0x473)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x1c50a4(0x19b)]['ScheduleMessage'][_0x1c50a4(0x493)]=null,this[_0x1c50a4(0x19b)][_0x1c50a4(0x6ac)][_0x1c50a4(0x500)]=0x0,this['instance'][_0x1c50a4(0x6ac)]['delayMessage']=0x0,await this[_0x1c50a4(0x1d7)]());}async[a0_0x27193d(0x1d7)](){const _0x411ddd=a0_0x27193d;let _0x2bc4f2=()=>{const _0x3f0136=a0_0x4236;this[_0x3f0136(0x2a3)][_0x3f0136(0x5da)](this['instanceName']+'\x20('+this[_0x3f0136(0x19b)][_0x3f0136(0x473)]+'):\x20this.processing_id:\x20'+this['instance'][_0x3f0136(0x6ac)][_0x3f0136(0x493)]+'\x20saindo\x20da\x20função');},_0x238c75=async()=>{const _0xafa0e5=a0_0x4236;this[_0xafa0e5(0x2a3)][_0xafa0e5(0x5da)](this['instanceName']+'\x20('+this[_0xafa0e5(0x19b)]['wuid']+_0xafa0e5(0x6d7));let _0x432a58=Date[_0xafa0e5(0x23b)]()-0xc*0x3c*0x3c*0x3e8,_0x4ed244={'where':{'status':{'$in':[_0xafa0e5(0x6eb),_0xafa0e5(0x18c)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x432a58}},{'when':0x0}]}};return await this[_0xafa0e5(0x418)]['scheduleMessage']['find'](_0x4ed244,this[_0xafa0e5(0x19b)][_0xafa0e5(0x473)]);},_0x4fa50c=async _0x5f1f96=>{const _0x34f9af=a0_0x4236;for(let _0x316a8e of _0x5f1f96){let _0x3c29eb={'_id':_0x316a8e[_0x34f9af(0x310)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x34f9af(0x23b)]()-0x1770}}]},_0x2d29d1={'startSend':Date[_0x34f9af(0x23b)]()};if(!await this[_0x34f9af(0x418)][_0x34f9af(0x4e2)][_0x34f9af(0x5f2)](_0x3c29eb,_0x2d29d1,this[_0x34f9af(0x19b)]['wuid']))return;if(!this[_0x34f9af(0x19b)][_0x34f9af(0x6ac)][_0x34f9af(0x515)]){this['logger'][_0x34f9af(0x5da)](this[_0x34f9af(0x261)]+'\x20('+this[_0x34f9af(0x19b)][_0x34f9af(0x473)]+_0x34f9af(0x6ea));break;}if(_0x316a8e[_0x34f9af(0x25b)]===_0x34f9af(0x4c0)&&!this[_0x34f9af(0x3a6)]?.[_0x34f9af(0x2ae)][_0x34f9af(0x59d)]){this['logger']['error'](this[_0x34f9af(0x261)]+'\x20('+this[_0x34f9af(0x19b)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x316a8e['remoteJidsRemaining']||_0x316a8e[_0x34f9af(0x7ce)][_0x34f9af(0x237)]===0x0)&&(_0x316a8e=await this[_0x34f9af(0x418)]['scheduleMessage'][_0x34f9af(0x22f)](_0x316a8e[_0x34f9af(0x310)],{'status':_0x34f9af(0x18c),'remoteJidsRemaining':[..._0x316a8e[_0x34f9af(0x145)]]},this[_0x34f9af(0x19b)]['wuid']));for(let _0x46959e of _0x316a8e[_0x34f9af(0x7ce)]){if(await this[_0x34f9af(0x3e5)](),this['instance'][_0x34f9af(0x6ac)][_0x34f9af(0x500)]=Date[_0x34f9af(0x23b)](),this[_0x34f9af(0x19b)][_0x34f9af(0x6ac)][_0x34f9af(0x558)]===_0x46959e){this[_0x34f9af(0x2a3)][_0x34f9af(0x382)](this['instanceName']+'\x20('+this[_0x34f9af(0x19b)][_0x34f9af(0x473)]+_0x34f9af(0x68f)+_0x46959e+_0x34f9af(0x644));let _0x2b7e58={'$push':{'messagesSend':{'remoteJid':_0x46959e,'error':!0x0,'id':null,'error_log':_0x34f9af(0x732),'log_timestamp':Date[_0x34f9af(0x23b)]()}},'$pull':{'remoteJidsRemaining':_0x46959e}};await this[_0x34f9af(0x418)]['scheduleMessage'][_0x34f9af(0x22f)](_0x316a8e['_id'],_0x2b7e58,this['instance'][_0x34f9af(0x473)]);continue;}if(this[_0x34f9af(0x19b)][_0x34f9af(0x6ac)]['ultimaTentativaRemoteJid']=_0x46959e,_0x316a8e[_0x34f9af(0x13b)][_0x34f9af(0x598)](_0x306026=>_0x306026[_0x34f9af(0x682)]===_0x46959e)){this[_0x34f9af(0x2a3)][_0x34f9af(0x5da)](this['instanceName']+'\x20('+this[_0x34f9af(0x19b)][_0x34f9af(0x473)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x46959e+_0x34f9af(0x1c3));continue;}if(!this[_0x34f9af(0x19b)][_0x34f9af(0x6ac)][_0x34f9af(0x515)]){this[_0x34f9af(0x2a3)]['verbose'](this['instanceName']+'\x20('+this[_0x34f9af(0x19b)][_0x34f9af(0x473)]+_0x34f9af(0x75d));break;}if(!this['instance'][_0x34f9af(0x6ac)]['processing_id']){this[_0x34f9af(0x2a3)][_0x34f9af(0x5da)](this[_0x34f9af(0x261)]+'\x20('+this[_0x34f9af(0x19b)][_0x34f9af(0x473)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x316a8e[_0x34f9af(0x310)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x316a8e[_0x34f9af(0x25b)]===_0x34f9af(0x4c0)&&!this[_0x34f9af(0x3a6)]?.[_0x34f9af(0x2ae)]['enabled']){this[_0x34f9af(0x2a3)][_0x34f9af(0x382)](this[_0x34f9af(0x261)]+'\x20('+this['instance'][_0x34f9af(0x473)]+_0x34f9af(0x13d));break;}let _0x4bc6d5={'remoteJid':_0x46959e,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x2c65cb=null;try{let _0x21476f=await this[_0x34f9af(0x43f)](_0x46959e,_0x316a8e);_0x4bc6d5[_0x34f9af(0x382)]=_0x21476f[_0x34f9af(0x382)],_0x4bc6d5['id']=_0x21476f[_0x34f9af(0x382)]?null:_0x21476f['id'],_0x4bc6d5[_0x34f9af(0x25c)]=_0x21476f[_0x34f9af(0x382)]?_0x21476f[_0x34f9af(0x2a7)]?_0x21476f[_0x34f9af(0x2a7)]['toString']():'':null;let _0x14000c={'$push':{'messagesSend':_0x4bc6d5},'$pull':{'remoteJidsRemaining':_0x46959e}},_0x271010=_0x316a8e[_0x34f9af(0x310)];if(_0x2c65cb=await this['repository']['scheduleMessage'][_0x34f9af(0x22f)](_0x271010,_0x14000c,this['instance'][_0x34f9af(0x473)]),_0x21476f[_0x34f9af(0x382)])continue;let _0x194128=this['getDelay'](_0x316a8e[_0x34f9af(0x3d6)],_0x316a8e['delaySecMax']);await this[_0x34f9af(0x719)](_0x194128);}catch(_0x172931){this[_0x34f9af(0x2a3)]['error'](this[_0x34f9af(0x261)]+'\x20('+this['instance']['wuid']+_0x34f9af(0x10e)+_0x46959e+':\x20'+(_0x172931 instanceof Error?_0x172931[_0x34f9af(0x5a7)]:JSON['stringify'](_0x172931,null,0x2))),_0x4bc6d5[_0x34f9af(0x382)]=!0x0,_0x4bc6d5[_0x34f9af(0x25c)]=_0x172931[_0x34f9af(0x5a7)];let _0x348d5f={'$push':{'messagesSend':_0x4bc6d5},'$pull':{'remoteJidsRemaining':_0x46959e}},_0x3168f1=_0x316a8e[_0x34f9af(0x310)];_0x2c65cb=await this[_0x34f9af(0x418)][_0x34f9af(0x4e2)][_0x34f9af(0x22f)](_0x3168f1,_0x348d5f,this['instance'][_0x34f9af(0x473)]);}finally{if(_0x2c65cb&&_0x2c65cb[_0x34f9af(0x148)]===_0x34f9af(0x73a)){this[_0x34f9af(0x2a3)][_0x34f9af(0x5da)](this[_0x34f9af(0x261)]+'\x20('+this[_0x34f9af(0x19b)]['wuid']+_0x34f9af(0x67c)+_0x316a8e['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x36666d=await this[_0x34f9af(0x418)][_0x34f9af(0x4e2)]['findById'](_0x316a8e[_0x34f9af(0x310)],this[_0x34f9af(0x19b)][_0x34f9af(0x473)]);if(_0x36666d['remoteJidsRemaining'][_0x34f9af(0x237)]===0x0&&_0x36666d[_0x34f9af(0x148)]!==_0x34f9af(0x73a)){this[_0x34f9af(0x19b)][_0x34f9af(0x6ac)]['ultimaTentativaRemoteJid']=null;let _0x1e4378={'$set':{'status':_0x34f9af(0x1ac)}},_0x5d73e0=_0x36666d[_0x34f9af(0x310)];await this[_0x34f9af(0x418)]['scheduleMessage'][_0x34f9af(0x22f)](_0x5d73e0,_0x1e4378,this[_0x34f9af(0x19b)][_0x34f9af(0x473)]);}await new Promise(_0x2a8be2=>setTimeout(_0x2a8be2,0x1388));}},_0x5d6443=async()=>{const _0x4e2845=a0_0x4236;let _0x307e63={'where':{'status':_0x4e2845(0x6eb),'when':{'$gt':Date[_0x4e2845(0x23b)]()}}},_0x30e3cb=await this['repository'][_0x4e2845(0x4e2)][_0x4e2845(0x5d3)](_0x307e63,this[_0x4e2845(0x19b)][_0x4e2845(0x473)]);_0x30e3cb&&_0x30e3cb[_0x4e2845(0x6fb)]-Date[_0x4e2845(0x23b)]()<=0x5265c00?this[_0x4e2845(0x19b)]['ScheduleMessage'][_0x4e2845(0x2f0)]=_0x30e3cb[_0x4e2845(0x6fb)]-Date[_0x4e2845(0x23b)]():this[_0x4e2845(0x19b)][_0x4e2845(0x6ac)][_0x4e2845(0x2f0)]=(0x3c+Math[_0x4e2845(0x743)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x4e2845(0x19b)]['ScheduleMessage'][_0x4e2845(0x2f0)]=Math[_0x4e2845(0x656)](this[_0x4e2845(0x19b)][_0x4e2845(0x6ac)][_0x4e2845(0x2f0)],0x7d0);let _0x239c19=Math[_0x4e2845(0x282)](this[_0x4e2845(0x19b)]['ScheduleMessage'][_0x4e2845(0x2f0)]/0xea60);if(_0x30e3cb){let _0x167b15=new Date(_0x30e3cb[_0x4e2845(0x6fb)])[_0x4e2845(0x73d)]();this[_0x4e2845(0x2a3)][_0x4e2845(0x5da)](this['instanceName']+'\x20('+this['instance'][_0x4e2845(0x473)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x167b15+_0x4e2845(0x53f)+_0x239c19+_0x4e2845(0x783));}else this[_0x4e2845(0x2a3)][_0x4e2845(0x5da)](this[_0x4e2845(0x261)]+'\x20('+this['instance']['wuid']+_0x4e2845(0x1e5)+_0x239c19+_0x4e2845(0x783));setTimeout(()=>this[_0x4e2845(0x1d7)](),this[_0x4e2845(0x19b)]['ScheduleMessage']['delayMessage']);};if(this['instance']['ScheduleMessage']['processing_id']){await this[_0x411ddd(0x3e5)](),_0x2bc4f2();return;}if(!this[_0x411ddd(0x19b)]['ScheduleMessage'][_0x411ddd(0x515)]){this[_0x411ddd(0x2a3)][_0x411ddd(0x5da)](this[_0x411ddd(0x261)]+'\x20('+this[_0x411ddd(0x19b)][_0x411ddd(0x473)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x411ddd(0x19b)]['ScheduleMessage'][_0x411ddd(0x493)]=null,this[_0x411ddd(0x19b)]['ScheduleMessage'][_0x411ddd(0x500)]=0x0,this[_0x411ddd(0x19b)][_0x411ddd(0x6ac)][_0x411ddd(0x2f0)]=0x0,this[_0x411ddd(0x19b)]['ScheduleMessage']['ultimaTentativaRemoteJid']=null;return;}try{let _0x19f22c=await _0x238c75();_0x19f22c['length']===0x0?this['logger'][_0x411ddd(0x5da)](this[_0x411ddd(0x261)]+'\x20('+this[_0x411ddd(0x19b)][_0x411ddd(0x473)]+_0x411ddd(0x171)):(this[_0x411ddd(0x19b)][_0x411ddd(0x6ac)][_0x411ddd(0x493)]=_0x19f22c[0x0][_0x411ddd(0x310)],await _0x4fa50c(_0x19f22c)),await _0x5d6443(),this['instance'][_0x411ddd(0x6ac)][_0x411ddd(0x493)]=null,this[_0x411ddd(0x19b)][_0x411ddd(0x6ac)][_0x411ddd(0x558)]=null;}catch(_0x16b36d){this[_0x411ddd(0x2a3)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x16b36d instanceof Error?_0x16b36d['message']:JSON[_0x411ddd(0x4e8)](_0x16b36d,null,0x2)));}}[a0_0x27193d(0x182)](_0x314bbc,_0x209f1c){const _0x15304f=a0_0x27193d;return _0x314bbc=Math[_0x15304f(0x656)](0.5,_0x314bbc),_0x209f1c=Math['min'](Math['max'](0x3,_0x209f1c),0x78),Math[_0x15304f(0x743)](Math[_0x15304f(0x303)]()*(_0x209f1c-_0x314bbc+0x1)+_0x314bbc)*0x3e8;}[a0_0x27193d(0x719)](_0x1346d5){return new Promise(_0x38a8cd=>setTimeout(_0x38a8cd,_0x1346d5));}async['getVariablesChat'](_0x4a35a4){const _0xf82e89=a0_0x27193d;if(!this[_0xf82e89(0x3a6)]&&(await this['getAutomateSystem'](),!this[_0xf82e89(0x3a6)]))return null;_0x4a35a4=this[_0xf82e89(0x110)](_0x4a35a4);let _0x1f6f6b=await this[_0xf82e89(0x418)][_0xf82e89(0x396)][_0xf82e89(0x5d3)]({'where':{'_id':_0x4a35a4}},this[_0xf82e89(0x19b)][_0xf82e89(0x473)]),_0x5902f9={};if(_0x1f6f6b&&_0x1f6f6b[_0xf82e89(0x5c0)]){let _0x128e4b=_0x1f6f6b[_0xf82e89(0x5c0)];typeof _0x128e4b[_0xf82e89(0x3c6)]==_0xf82e89(0x39f)&&(_0x5902f9[_0xf82e89(0x3c6)]=_0x128e4b[_0xf82e89(0x3c6)]),typeof _0x128e4b[_0xf82e89(0x549)]==_0xf82e89(0x39f)&&(_0x5902f9['nomecompleto']=_0x128e4b[_0xf82e89(0x549)]),typeof _0x128e4b['email']==_0xf82e89(0x39f)&&(_0x5902f9['email']=_0x128e4b[_0xf82e89(0x6b4)]),typeof _0x128e4b[_0xf82e89(0x652)]=='string'&&(_0x5902f9[_0xf82e89(0x652)]=_0x128e4b['cpf']),typeof _0x128e4b['status']==_0xf82e89(0x39f)&&(_0x5902f9[_0xf82e89(0x148)]=_0x128e4b[_0xf82e89(0x148)]),typeof _0x128e4b['notas']==_0xf82e89(0x39f)&&(_0x5902f9[_0xf82e89(0x749)]=_0x128e4b[_0xf82e89(0x749)]),typeof _0x128e4b[_0xf82e89(0x65d)]==_0xf82e89(0x39f)&&(_0x5902f9[_0xf82e89(0x65d)]=_0x128e4b[_0xf82e89(0x65d)]),Array[_0xf82e89(0x215)](_0x128e4b[_0xf82e89(0x611)])&&(_0x5902f9['tags']=_0x128e4b[_0xf82e89(0x611)][_0xf82e89(0x5aa)](',\x20')),Array[_0xf82e89(0x215)](_0x128e4b[_0xf82e89(0x72f)])&&(_0x5902f9[_0xf82e89(0x72f)]=_0x128e4b[_0xf82e89(0x72f)]['join'](',\x20'));}return _0x1f6f6b&&_0x1f6f6b['leadInfo']&&_0x1f6f6b[_0xf82e89(0x5c0)][_0xf82e89(0x1aa)]&&_0x1f6f6b[_0xf82e89(0x5c0)][_0xf82e89(0x1aa)]['forEach'](_0x2996af=>{const _0x3d2f03=_0xf82e89;let _0xa1e50d=this[_0x3d2f03(0x3a6)]?.['customFields'][_0x3d2f03(0x76e)](_0x37a852=>_0x37a852[_0x3d2f03(0x310)]===_0x2996af[_0x3d2f03(0x310)]);_0xa1e50d&&(_0x5902f9[_0xa1e50d['name']]=_0x2996af[_0x3d2f03(0x425)]);}),_0x5902f9;}async[a0_0x27193d(0x313)](_0x1950a1,_0x1edf5d){const _0x2e7988=a0_0x27193d;let _0x165247=await this['getVariablesChat'](_0x1edf5d);return this[_0x2e7988(0x6ca)](_0x1950a1,_0x165247);}async[a0_0x27193d(0x2e9)](_0x21d988){const _0x2524a5=a0_0x27193d;try{if(this['logger'][_0x2524a5(0x5da)](this[_0x2524a5(0x261)]+'\x20('+this['instance'][_0x2524a5(0x473)]+_0x2524a5(0x1fe)),_0x21d988['delete']&&_0x21d988[_0x2524a5(0x310)]){if(this[_0x2524a5(0x19b)][_0x2524a5(0x6ac)][_0x2524a5(0x493)]===_0x21d988[_0x2524a5(0x310)][_0x2524a5(0x1ec)]())throw new Error(_0x2524a5(0x5db));let _0x54375e=await this[_0x2524a5(0x418)]['scheduleMessage'][_0x2524a5(0x40d)](_0x21d988[_0x2524a5(0x310)],this[_0x2524a5(0x19b)][_0x2524a5(0x473)]);return setTimeout(()=>this[_0x2524a5(0x1d7)](),0x7d0),_0x54375e;}let _0x4557a7;if(_0x21d988[_0x2524a5(0x310)]&&(_0x4557a7=await this[_0x2524a5(0x418)][_0x2524a5(0x4e2)][_0x2524a5(0x21e)](_0x21d988[_0x2524a5(0x310)],this[_0x2524a5(0x19b)][_0x2524a5(0x473)])),_0x4557a7){let _0x47cbb2;if(this[_0x2524a5(0x19b)][_0x2524a5(0x6ac)][_0x2524a5(0x493)]===_0x4557a7['_id'][_0x2524a5(0x1ec)]())_0x47cbb2={'$set':{'status':_0x21d988[_0x2524a5(0x148)]}};else{let {_id:_0x4eaf47,..._0x22f91e}=_0x21d988;_0x47cbb2={'$set':_0x22f91e};}let _0x40d3a8=await this['repository']['scheduleMessage'][_0x2524a5(0x22f)](_0x21d988[_0x2524a5(0x310)],_0x47cbb2,this[_0x2524a5(0x19b)][_0x2524a5(0x473)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x40d3a8;}else{_0x21d988[_0x2524a5(0x7a4)]=this[_0x2524a5(0x19b)][_0x2524a5(0x473)];let _0x487864=await this['repository'][_0x2524a5(0x4e2)]['createAndSave'](_0x21d988,this[_0x2524a5(0x19b)][_0x2524a5(0x473)]);return setTimeout(()=>this[_0x2524a5(0x1d7)](),0x7d0),_0x487864;}}catch(_0xfebec7){throw this[_0x2524a5(0x2a3)][_0x2524a5(0x382)](this['instanceName']+'\x20('+this[_0x2524a5(0x19b)][_0x2524a5(0x473)]+_0x2524a5(0x504)+(_0xfebec7 instanceof Error?_0xfebec7[_0x2524a5(0x5a7)]:JSON[_0x2524a5(0x4e8)](_0xfebec7,null,0x2))),new w('Erro:'+_0xfebec7[_0x2524a5(0x5a7)]);}}async[a0_0x27193d(0x7cf)](){const _0x48d3e1=a0_0x27193d;try{return await this[_0x48d3e1(0x418)]['scheduleMessage'][_0x48d3e1(0x76e)]({'where':{}},this['instance'][_0x48d3e1(0x473)]);}catch(_0x44b111){throw this[_0x48d3e1(0x2a3)]['error'](this[_0x48d3e1(0x261)]+'\x20('+this[_0x48d3e1(0x19b)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x44b111 instanceof Error?_0x44b111[_0x48d3e1(0x5a7)]:JSON[_0x48d3e1(0x4e8)](_0x44b111,null,0x2))),new w(_0x48d3e1(0x57f)+_0x44b111[_0x48d3e1(0x5a7)]);}}async[a0_0x27193d(0x291)](){const _0x51b193=a0_0x27193d;try{let _0x3c46b3={'status':_0x51b193(0x1ac)},_0x516734=await this[_0x51b193(0x418)][_0x51b193(0x4e2)]['deleteMany'](_0x3c46b3,this[_0x51b193(0x19b)][_0x51b193(0x473)]);if(!_0x516734[_0x51b193(0x382)])this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x51b193(0x473)]+_0x51b193(0x7c1));else throw new Error(_0x516734[_0x51b193(0x382)][_0x51b193(0x5a7)]||_0x51b193(0x628));return this[_0x51b193(0x7cf)]();}catch(_0x336a4b){throw this[_0x51b193(0x2a3)][_0x51b193(0x382)](this[_0x51b193(0x261)]+'\x20('+this[_0x51b193(0x19b)][_0x51b193(0x473)]+_0x51b193(0x2a0)+(_0x336a4b instanceof Error?_0x336a4b['message']:JSON[_0x51b193(0x4e8)](_0x336a4b,null,0x2))),new w(_0x51b193(0x57f)+_0x336a4b[_0x51b193(0x5a7)]);}}async[a0_0x27193d(0x43f)](_0x44f927,_0xa44250){const _0xab01e9=a0_0x27193d;try{if(_0xa44250[_0xab01e9(0x25b)]===_0xab01e9(0x4c0)&&!this[_0xab01e9(0x3a6)]?.[_0xab01e9(0x2ae)][_0xab01e9(0x59d)])return this[_0xab01e9(0x2a3)]['error'](this[_0xab01e9(0x261)]+'\x20('+this[_0xab01e9(0x19b)][_0xab01e9(0x473)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0xab01e9(0x1ab)};switch(_0xa44250[_0xab01e9(0x25b)]){case _0xab01e9(0x69b):return await this['scheduleSendText'](_0xa44250,_0x44f927);case _0xab01e9(0x62e):return await this['scheduleSendMedia'](_0xa44250,_0x44f927);case _0xab01e9(0x542):return await this[_0xab01e9(0x70e)](_0xa44250,_0x44f927);case _0xab01e9(0x4c0):let _0x3dff44=new je();return _0x3dff44['name']=_0xa44250[_0xab01e9(0x1f3)],_0x3dff44[_0xab01e9(0x682)]=_0x44f927,await this['startFlow'](_0x3dff44);break;default:return this[_0xab01e9(0x2a3)][_0xab01e9(0x382)](this[_0xab01e9(0x261)]+'\x20('+this[_0xab01e9(0x19b)][_0xab01e9(0x473)]+_0xab01e9(0x337)+_0xa44250[_0xab01e9(0x25b)]),{'error':!0x0,'detail':_0xab01e9(0x119)};}}catch(_0x97b2e1){return this[_0xab01e9(0x2a3)][_0xab01e9(0x382)](this[_0xab01e9(0x261)]+'\x20('+this[_0xab01e9(0x19b)][_0xab01e9(0x473)]+_0xab01e9(0x3ac)+(_0x97b2e1 instanceof Error?_0x97b2e1[_0xab01e9(0x5a7)]:JSON['stringify'](_0x97b2e1,null,0x2))),{'error':!0x0,'detail':_0x97b2e1[_0xab01e9(0x5a7)]};}}['getRandomText'](_0x4b22f1){const _0x5ec784=a0_0x27193d;let _0x1c7c7b=_0x4b22f1[_0x5ec784(0x3d2)]('|'),_0x5eda70=Math[_0x5ec784(0x743)](Math[_0x5ec784(0x303)]()*_0x1c7c7b['length']);return _0x1c7c7b[_0x5eda70][_0x5ec784(0x19c)]();}async[a0_0x27193d(0x271)](_0x135310,_0x216378){const _0x6491a8=a0_0x27193d;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x6491a8(0x19b)][_0x6491a8(0x473)]+_0x6491a8(0x1e9)),!_0x135310[_0x6491a8(0x5a7)][_0x6491a8(0x69b)]||_0x135310[_0x6491a8(0x5a7)][_0x6491a8(0x69b)]['length']===0x0)return{'error':!0x0,'detail':_0x6491a8(0x21f)};let _0x59a20f=this[_0x6491a8(0x1ca)](_0x135310[_0x6491a8(0x5a7)][_0x6491a8(0x69b)]),_0x2e6867=await this[_0x6491a8(0x313)](_0x59a20f,_0x216378),_0x3784d2={'number':_0x216378,'options':{'delay':_0x135310[_0x6491a8(0x5a7)][_0x6491a8(0x287)]},'textMessage':{'text':_0x2e6867}},_0x3575f=null;try{let _0x1b3c44=await this[_0x6491a8(0x531)](_0x3784d2);if(_0x1b3c44&&_0x1b3c44[_0x6491a8(0x148)])return{'error':!0x1,'id':_0x1b3c44[_0x6491a8(0x721)]['id']};_0x3575f=JSON[_0x6491a8(0x4e8)](_0x1b3c44),this[_0x6491a8(0x2a3)]['verbose'](this[_0x6491a8(0x261)]+'\x20('+this['instance']['wuid']+_0x6491a8(0x4d5)+_0x3575f);}catch(_0x156857){this['logger'][_0x6491a8(0x382)](this[_0x6491a8(0x261)]+'\x20('+this[_0x6491a8(0x19b)][_0x6491a8(0x473)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x156857 instanceof Error?_0x156857[_0x6491a8(0x5a7)]:JSON[_0x6491a8(0x4e8)](_0x156857,null,0x2))),_0x3575f=_0x156857['message'];}if(_0x3575f)return{'error':!0x0,'detail':(typeof _0x3575f==_0x6491a8(0x426)?JSON[_0x6491a8(0x4e8)](_0x3575f,null,0x2):_0x3575f)['replace'](/[\[\]{}\n]/g,'\x20')[_0x6491a8(0x468)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x2d610f,_0x505910){const _0x1b7cb7=a0_0x27193d;this[_0x1b7cb7(0x2a3)][_0x1b7cb7(0x5da)](this[_0x1b7cb7(0x261)]+'\x20('+this[_0x1b7cb7(0x19b)]['wuid']+_0x1b7cb7(0x50a));let _0x387ee8;if(_0x2d610f[_0x1b7cb7(0x5a7)][_0x1b7cb7(0x69b)]&&_0x2d610f[_0x1b7cb7(0x5a7)]['text'][_0x1b7cb7(0x237)]>0x0){let _0x2b8632=this[_0x1b7cb7(0x1ca)](_0x2d610f['message']['text']);_0x387ee8=await this[_0x1b7cb7(0x313)](_0x2b8632,_0x505910);}let _0x4b433f={'number':_0x505910,'options':{'delay':_0x2d610f[_0x1b7cb7(0x5a7)]['delay']},'mediaMessage':{'mediatype':_0x2d610f[_0x1b7cb7(0x5a7)][_0x1b7cb7(0x6a5)],'caption':_0x387ee8,'media':_0x2d610f['message'][_0x1b7cb7(0x35e)]}},_0x433edd=null;try{let _0x251a14=await this[_0x1b7cb7(0x166)](_0x4b433f);if(_0x251a14&&_0x251a14[_0x1b7cb7(0x148)])return{'error':!0x1,'id':_0x251a14[_0x1b7cb7(0x721)]['id']};_0x433edd=JSON[_0x1b7cb7(0x4e8)](_0x251a14),this['logger'][_0x1b7cb7(0x5da)](this[_0x1b7cb7(0x261)]+'\x20('+this['instance'][_0x1b7cb7(0x473)]+_0x1b7cb7(0x4d5)+_0x433edd);}catch(_0x2207c7){this[_0x1b7cb7(0x2a3)][_0x1b7cb7(0x382)](this[_0x1b7cb7(0x261)]+'\x20('+this[_0x1b7cb7(0x19b)][_0x1b7cb7(0x473)]+_0x1b7cb7(0x22d)+(_0x2207c7 instanceof Error?_0x2207c7['message']:JSON['stringify'](_0x2207c7,null,0x2))),_0x433edd=_0x2207c7[_0x1b7cb7(0x5a7)];}if(_0x433edd)return{'error':!0x0,'detail':(typeof _0x433edd==_0x1b7cb7(0x426)?JSON['stringify'](_0x433edd,null,0x2):_0x433edd)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1b7cb7(0x468)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0xc2742b,_0x5b9d03){const _0x4fb5fd=a0_0x27193d;this[_0x4fb5fd(0x2a3)][_0x4fb5fd(0x5da)](this[_0x4fb5fd(0x261)]+'\x20('+this['instance'][_0x4fb5fd(0x473)]+'):\x20Enviando\x20áudio');let _0x3cd1a6={'number':_0x5b9d03,'options':{'delay':_0xc2742b['message'][_0x4fb5fd(0x287)]},'audioMessage':{'audio':_0xc2742b['message'][_0x4fb5fd(0x35e)]}},_0x3b194a=null;try{let _0x327b46=await this[_0x4fb5fd(0x698)](_0x3cd1a6);if(_0x327b46&&_0x327b46[_0x4fb5fd(0x148)])return{'error':!0x1,'id':_0x327b46['key']['id']};_0x3b194a=JSON['stringify'](_0x327b46),this[_0x4fb5fd(0x2a3)][_0x4fb5fd(0x5da)](this[_0x4fb5fd(0x261)]+'\x20('+this[_0x4fb5fd(0x19b)][_0x4fb5fd(0x473)]+_0x4fb5fd(0x4d5)+_0x3b194a);}catch(_0x479e71){this[_0x4fb5fd(0x2a3)][_0x4fb5fd(0x382)](this['instanceName']+'\x20('+this[_0x4fb5fd(0x19b)]['wuid']+_0x4fb5fd(0x26e)+(_0x479e71 instanceof Error?_0x479e71['message']:JSON[_0x4fb5fd(0x4e8)](_0x479e71,null,0x2))),_0x3b194a=_0x479e71[_0x4fb5fd(0x5a7)];}if(_0x3b194a)return{'error':!0x0,'detail':(typeof _0x3b194a=='object'?JSON[_0x4fb5fd(0x4e8)](_0x3b194a,null,0x2):_0x3b194a)[_0x4fb5fd(0x468)](/[\[\]{}\n]/g,'\x20')[_0x4fb5fd(0x468)](/  +/g,'\x20')};}},Ut=class c{constructor(_0x25ce97,_0x9a75ca,_0x26c37b){const _0x5843bd=a0_0x27193d;this[_0x5843bd(0x34b)]=_0x25ce97,this[_0x5843bd(0x29f)]=_0x9a75ca,this['repository']=_0x26c37b,this['db']={},this[_0x5843bd(0x125)]={},this[_0x5843bd(0x2a3)]=new v(c[_0x5843bd(0x1d6)]),this[_0x5843bd(0x1bc)]={},(this['removeInstance'](),this[_0x5843bd(0x553)](),Object[_0x5843bd(0x3f4)](this['db'],_0x9a75ca[_0x5843bd(0x30a)](_0x5843bd(0x647))),Object[_0x5843bd(0x3f4)](this['redis'],_0x9a75ca[_0x5843bd(0x30a)](_0x5843bd(0x41f))),this[_0x5843bd(0x230)]=this['db'][_0x5843bd(0x323)]?this[_0x5843bd(0x418)][_0x5843bd(0x31a)]?.['db'](this['db'][_0x5843bd(0x32c)][_0x5843bd(0x6e5)]+_0x5843bd(0x306)):void 0x0,this[_0x5843bd(0x5ed)]=this['redis'][_0x5843bd(0x323)]?new ne(this['redis']):void 0x0);}async[a0_0x27193d(0x27f)](_0x787864){const _0x38c62e=a0_0x27193d;if(_0x787864&&!this[_0x38c62e(0x1bc)][_0x787864])throw new j(_0x38c62e(0x318)+_0x787864+'\x22\x20not\x20found');let _0x5098b9=[];for await(let [_0x250c70,_0x47ab82]of Object[_0x38c62e(0x451)](this[_0x38c62e(0x1bc)]))if(_0x47ab82&&_0x47ab82[_0x38c62e(0x5cb)][_0x38c62e(0x754)]===_0x38c62e(0x665)){let _0x339334=await this[_0x38c62e(0x418)]['auth'][_0x38c62e(0x76e)](_0x250c70);_0x5098b9[_0x38c62e(0x7b6)]({'instance':{'instanceName':_0x250c70,'apikey':_0x339334[_0x38c62e(0x26b)],'owner':_0x47ab82['wuid'],'profileName':await _0x47ab82[_0x38c62e(0x172)]()||_0x38c62e(0x789),'profilePictureUrl':_0x47ab82[_0x38c62e(0x20c)]}});}return _0x5098b9['find'](_0x595ef9=>_0x595ef9[_0x38c62e(0x19b)][_0x38c62e(0x261)]===_0x787864)??_0x5098b9;}async[a0_0x27193d(0x49c)](_0x164641){const _0x3e1478=a0_0x27193d;if(this['db'][_0x3e1478(0x323)]&&(await this[_0x3e1478(0x418)][_0x3e1478(0x31a)]['connect'](),(await this['dbInstance'][_0x3e1478(0x77f)]())[_0x3e1478(0x237)]>0x0&&await this[_0x3e1478(0x230)][_0x3e1478(0x146)](_0x164641)),this[_0x3e1478(0x125)][_0x3e1478(0x323)]){this[_0x3e1478(0x5ed)][_0x3e1478(0x3df)]=_0x164641,await this[_0x3e1478(0x5ed)][_0x3e1478(0x641)]();return;}}async[a0_0x27193d(0x4cf)](){const _0x8ef27a=a0_0x27193d;await this[_0x8ef27a(0x2ef)]();let _0x4a2b2d=async _0x184b16=>{const _0x5ac2fd=_0x8ef27a;let _0xd5f9d8=new be(this[_0x5ac2fd(0x29f)],this[_0x5ac2fd(0x34b)],this[_0x5ac2fd(0x418)]);_0xd5f9d8[_0x5ac2fd(0x261)]=_0x184b16,await _0xd5f9d8['connectToWhatsapp'](),this['waInstances'][_0x184b16]=_0xd5f9d8;};try{if(this[_0x8ef27a(0x125)][_0x8ef27a(0x323)]){let _0x19f541=await this[_0x8ef27a(0x5ed)]['instanceKeys']();_0x19f541?.[_0x8ef27a(0x237)]>0x0&&_0x19f541['forEach'](async _0x5e3deb=>await _0x4a2b2d(_0x5e3deb[_0x8ef27a(0x3d2)](':')[0x1]));return;}if(this['db'][_0x8ef27a(0x323)]){await this[_0x8ef27a(0x418)]['dbServer']['connect']();let _0x253263=await this[_0x8ef27a(0x230)]['collections']();_0x253263[_0x8ef27a(0x237)]>0x0&&_0x253263[_0x8ef27a(0x6ff)](async _0x4a6466=>await _0x4a2b2d(_0x4a6466[_0x8ef27a(0x258)][_0x8ef27a(0x468)](/^[\w-]+\./,'')));return;}}catch(_0x12d041){this['logger'][_0x8ef27a(0x382)](_0x12d041);}}async[a0_0x27193d(0x618)](){const _0x2c3315=a0_0x27193d;let _0x39a5c4=await this['repository'][_0x2c3315(0x3e9)]['findAll'](),_0xe20f90=_0x39a5c4['filter'](_0x40e09a=>!this[_0x2c3315(0x1bc)][_0x40e09a[_0x2c3315(0x310)]]&&(_0x40e09a[_0x2c3315(0x797)]||typeof _0x40e09a[_0x2c3315(0x797)]>'u'));_0xe20f90[_0x2c3315(0x237)]>0x0&&await Promise[_0x2c3315(0x60e)](_0xe20f90[_0x2c3315(0x5e5)](async _0x3b43ee=>{const _0x2028d7=_0x2c3315;let _0x292da0={'online':!0x1,'lastDisconnect':Date[_0x2028d7(0x23b)]()};await this[_0x2028d7(0x418)][_0x2028d7(0x3e9)][_0x2028d7(0x29c)](_0x292da0,_0x3b43ee['_id']);}));let _0x442dd9=Date[_0x2c3315(0x23b)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x33aaac=_0x39a5c4[_0x2c3315(0x46c)](_0x17f034=>!this[_0x2c3315(0x1bc)][_0x17f034['_id']]&&typeof _0x17f034['lastDisconnect']<'u'&&_0x17f034[_0x2c3315(0x434)]<_0x442dd9);_0x33aaac[_0x2c3315(0x237)]>0x0&&await Promise[_0x2c3315(0x60e)](_0x33aaac[_0x2c3315(0x5e5)](async _0xf075d7=>{}));}async['InstancesAlterarTodas'](){const _0x4d8507=a0_0x27193d;try{let _0x52c715={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x49ca02={'online':!0x1,'lastDisconnect':Date[_0x4d8507(0x23b)]()},_0x35268e=await this[_0x4d8507(0x418)]['auth']['updateAll'](_0x52c715,_0x49ca02);console[_0x4d8507(0x5c8)](_0x4d8507(0x13f)+_0x35268e[_0x4d8507(0x659)]),await this[_0x4d8507(0x1f7)]();}catch(_0x230510){console[_0x4d8507(0x382)](_0x4d8507(0x3c1),_0x230510);}}async['removeOlderDisconnectedInstances'](){const _0x1721d9=a0_0x27193d;try{let _0xdeea90={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x513d10=await this['repository'][_0x1721d9(0x3e9)][_0x1721d9(0x2f2)](_0xdeea90);console['log'](_0x1721d9(0x548)+_0x513d10[_0x1721d9(0x659)]);}catch(_0x15d2f4){console[_0x1721d9(0x382)](_0x1721d9(0x367),_0x15d2f4);}}['removeInstance'](){const _0x56e2a8=a0_0x27193d;this[_0x56e2a8(0x34b)]['on']('remove.instance',async _0x21b8eb=>{const _0x5b7bf8=_0x56e2a8;try{this['waInstances'][_0x21b8eb]=void 0x0;}catch{}try{this[_0x5b7bf8(0x49c)](_0x21b8eb);}finally{this[_0x5b7bf8(0x2a3)][_0x5b7bf8(0x4a4)](_0x5b7bf8(0x318)+_0x21b8eb+_0x5b7bf8(0x1ad));}});}['noConnection'](){const _0x4fb7e3=a0_0x27193d;this[_0x4fb7e3(0x34b)]['on']('no.connection',async _0x700307=>{const _0x36c0eb=_0x4fb7e3;try{this[_0x36c0eb(0x1bc)][_0x700307]=void 0x0;}catch{}try{this[_0x36c0eb(0x49c)](_0x700307);}finally{this[_0x36c0eb(0x2a3)]['warn'](_0x36c0eb(0x318)+_0x700307+_0x36c0eb(0x694));}});}},qt=class extends D{[a0_0x27193d(0x506)](_0x269039){return Qs(_0x269039);}async[a0_0x27193d(0x12e)](_0x313daf){const _0x4c94d3=a0_0x27193d;if(_0x313daf[_0x4c94d3(0x237)]!==0x0)try{return{'insertCount':(await this[_0x4c94d3(0x506)](_0x313daf[0x0][_0x4c94d3(0x7a4)])[_0x4c94d3(0x696)]([..._0x313daf]))[_0x4c94d3(0x237)]};}catch(_0x506348){return _0x506348;}}async[a0_0x27193d(0x76e)](_0x4fa555,_0x5276b4){const _0x25e75b=a0_0x27193d;try{let _0x48bf90=this[_0x25e75b(0x506)](_0x5276b4),_0x1aa73d=A(_0x4fa555[_0x25e75b(0x3d7)]);return await _0x48bf90['find'](_0x1aa73d)['sort']({'lastmsg':-0x1})[_0x25e75b(0x410)](_0x4fa555?.[_0x25e75b(0x410)]??0x0)['lean']();}catch{return[];}}async[a0_0x27193d(0x1f4)](_0x579176,_0x4d27a5){const _0x52fd5a=a0_0x27193d;try{return{'deletedCount':(await this[_0x52fd5a(0x506)](_0x4d27a5)[_0x52fd5a(0x2f2)]({..._0x579176[_0x52fd5a(0x3d7)]}))['deletedCount']};}catch(_0x28b258){return{'error':_0x28b258?.[_0x52fd5a(0x1ec)]()};}}async[a0_0x27193d(0x375)](_0x5515fb,_0x43a6c3){const _0x3db789=a0_0x27193d;try{return await this[_0x3db789(0x506)](_0x43a6c3)[_0x3db789(0x2f2)]({..._0x5515fb['where']}),[];}catch(_0x82cbf6){return{'error':_0x82cbf6?.[_0x3db789(0x1ec)]()};}}async['findOne'](_0x263652,_0x5eaa19){const _0x1dbc76=a0_0x27193d;try{let _0x15d109=this[_0x1dbc76(0x506)](_0x5eaa19),_0x52a334=A(_0x263652[_0x1dbc76(0x3d7)]);return await _0x15d109['findOne'](_0x52a334)[_0x1dbc76(0x72a)]();}catch{return null;}}async[a0_0x27193d(0x5f2)](_0x166a07,_0x2f57d5,_0x14cee6,_0xf930e8,_0x59ff51='$set'){const _0x1b6440=a0_0x27193d;try{let _0x593b46={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xf930e8},_0x51464a=this[_0x1b6440(0x506)](_0x14cee6),_0x2cdf7f=A(_0x166a07[_0x1b6440(0x3d7)]);Object[_0x1b6440(0x28f)](_0x2f57d5)[_0x1b6440(0x6ff)](_0x48fbff=>{_0x2f57d5[_0x48fbff]==null&&delete _0x2f57d5[_0x48fbff];});let _0x36cee8={};return _0x36cee8[_0x59ff51]=_0x2f57d5,await _0x51464a[_0x1b6440(0x2a1)](_0x2cdf7f,_0x36cee8,_0x593b46);}catch(_0x2fd488){return console['error'](_0x2fd488),null;}}async[a0_0x27193d(0x1dc)](_0x3c7ae2){const _0x3c45ee=a0_0x27193d;try{let _0xe76b39=this['getChatModelForOwner'](_0x3c7ae2[0x0][_0x3c45ee(0x674)]['where'][_0x3c45ee(0x7a4)]),_0x227879=_0x3c7ae2[_0x3c45ee(0x5e5)](_0xdf9c27=>({'updateOne':{'filter':{..._0xdf9c27[_0x3c45ee(0x674)]['where']},'update':{'$set':_0xdf9c27['update']},'upsert':!0x0}})),_0x454836=await _0xe76b39[_0x3c45ee(0x35d)](_0x227879);return _0x454836['modifiedCount']+_0x454836[_0x3c45ee(0x22e)];}catch(_0x54955d){return console['error'](_0x54955d),0x0;}}async['updateMissingLabels'](_0x52292a){const _0x25146e=a0_0x27193d;try{let _0x1ed4be=this['getChatModelForOwner'](_0x52292a),_0x7d92aa={'labels':{'$exists':!0x0}},_0x393306={'$unset':{'labels':''}};return(await _0x1ed4be[_0x25146e(0x1dc)](_0x7d92aa,_0x393306))[_0x25146e(0x794)];}catch(_0x37f749){return console['error'](_0x37f749),0x0;}}async[a0_0x27193d(0x2db)](_0x3785d2){const _0x56e59d=a0_0x27193d;try{let _0x1288d6=this[_0x56e59d(0x506)](_0x3785d2),_0x477582={'leadInfo.etiquetas':{'$exists':!0x1}},_0x40a484={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1288d6[_0x56e59d(0x1dc)](_0x477582,_0x40a484))['modifiedCount'];}catch(_0x2fbb82){return console[_0x56e59d(0x382)](_0x2fbb82),0x0;}}async[a0_0x27193d(0x4ad)](_0x2bdeae){const _0x1494d9=a0_0x27193d;try{let _0x2f14c9=this[_0x1494d9(0x506)](_0x2bdeae),_0x401c1f={'leadInfo.tags':{'$exists':!0x1}},_0x341a23={'$set':{'leadInfo.tags':[]}};return(await _0x2f14c9[_0x1494d9(0x1dc)](_0x401c1f,_0x341a23))[_0x1494d9(0x794)];}catch(_0x26b295){return console[_0x1494d9(0x382)](_0x26b295),0x0;}}async[a0_0x27193d(0x562)](_0x3ac961){const _0x5df69c=a0_0x27193d;try{let _0x50a5c1=this[_0x5df69c(0x506)](_0x3ac961),_0x21e18d={'leadInfo.customFields':{'$exists':!0x1}},_0x1d727d={'$set':{'leadInfo.customFields':[]}};return(await _0x50a5c1['updateMany'](_0x21e18d,_0x1d727d))['modifiedCount'];}catch(_0x46db2e){return console[_0x5df69c(0x382)](_0x46db2e),0x0;}}async[a0_0x27193d(0x696)](_0x207904,_0x58f218){const _0x2fcd14=a0_0x27193d;if(!Array[_0x2fcd14(0x215)](_0x207904)||_0x207904[_0x2fcd14(0x237)]===0x0)throw new Error(_0x2fcd14(0x276));try{return(await this[_0x2fcd14(0x506)](_0x58f218)['insertMany'](_0x207904))['length'];}catch(_0x36dfa1){throw console[_0x2fcd14(0x382)](_0x2fcd14(0x329),_0x36dfa1),_0x36dfa1;}}async[a0_0x27193d(0x340)](_0x489d07,_0x2f31b3){const _0x2a7240=a0_0x27193d;try{await this[_0x2a7240(0x506)](_0x2f31b3)[_0x2a7240(0x40d)]({'_id':_0x489d07});}catch(_0x5c2953){throw console[_0x2a7240(0x382)](_0x2a7240(0x52b),_0x5c2953),_0x5c2953;}}},Jt=class extends D{constructor(_0x33273f,_0x30218b,_0x3c8eea){const _0x319227=a0_0x27193d;super(_0x30218b),this[_0x319227(0x622)]=_0x33273f,this[_0x319227(0x29f)]=_0x30218b,this[_0x319227(0x277)]=_0x3c8eea;}async[a0_0x27193d(0x12e)](_0x2a2a5f){const _0x659052=a0_0x27193d;if(_0x2a2a5f[_0x659052(0x237)]!==0x0)try{return{'insertCount':(await this[_0x659052(0x622)]['insertMany']([..._0x2a2a5f]))['length']};}catch(_0x6af9c9){return _0x6af9c9;}}async[a0_0x27193d(0x31e)](_0x2e7291,_0x371777){const _0x268473=a0_0x27193d;try{let _0x4477a0=A(_0x2e7291[_0x268473(0x3d7)]);return{'updatedCount':(await this[_0x268473(0x622)][_0x268473(0x1dc)](_0x4477a0,{'$set':_0x371777}))[_0x268473(0x794)]};}catch(_0x303aec){return console[_0x268473(0x382)]('Error\x20updating\x20cache\x20contact:',_0x303aec),{'error':_0x303aec[_0x268473(0x1ec)]()};}}async[a0_0x27193d(0x36e)](_0x3295a1){const _0x16842d=a0_0x27193d;try{let _0x3cddc2={'_id':{'$in':_0x3295a1}};return await this['cacheContactModel'][_0x16842d(0x76e)](_0x3cddc2)[_0x16842d(0x72a)]();}catch(_0x13df45){return console[_0x16842d(0x382)](_0x16842d(0x4dd),_0x13df45),[];}}async[a0_0x27193d(0x1f4)](_0x7888b9){const _0x4b671f=a0_0x27193d;try{return{'deletedCount':(await this[_0x4b671f(0x622)][_0x4b671f(0x2f2)]({..._0x7888b9['where']}))[_0x4b671f(0x398)]};}catch(_0x434ccb){return{'error':_0x434ccb?.[_0x4b671f(0x1ec)]()};}}async[a0_0x27193d(0x76e)](_0x2cde29){const _0x2d24bb=a0_0x27193d;try{let _0x3b59c2=A(_0x2cde29[_0x2d24bb(0x3d7)]);return await this['cacheContactModel']['find'](_0x3b59c2)[_0x2d24bb(0x410)](_0x2cde29?.[_0x2d24bb(0x410)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x5e8afe){const _0x263ba4=a0_0x27193d;try{let _0x3fd243=A(_0x5e8afe[_0x263ba4(0x3d7)]);return await this[_0x263ba4(0x622)][_0x263ba4(0x5d3)](_0x3fd243)[_0x263ba4(0x72a)]();}catch{return null;}}},Vt=class extends D{[a0_0x27193d(0x7ba)](_0x11ffe4){return Ea(_0x11ffe4);}async['updateOne'](_0x331d12,_0x359b87,_0x3b4c20,_0x4b8aae){const _0x2a696c=a0_0x27193d;try{let _0x2135b5={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4b8aae},_0x2ed2af=this[_0x2a696c(0x7ba)](_0x3b4c20),_0x336d1c=A(_0x331d12[_0x2a696c(0x3d7)]);return await _0x2ed2af[_0x2a696c(0x2a1)](_0x336d1c,{'$set':_0x359b87},_0x2135b5);}catch(_0x1e1d2a){return console[_0x2a696c(0x382)](_0x1e1d2a),null;}}async[a0_0x27193d(0x76e)](_0x38bcd4,_0x3a090e){const _0x5630fe=a0_0x27193d;try{let _0x2fd8f7=this[_0x5630fe(0x7ba)](_0x3a090e),_0x24ccad=A(_0x38bcd4[_0x5630fe(0x3d7)]);return await _0x2fd8f7['find'](_0x24ccad);}catch(_0x37dce8){console[_0x5630fe(0x382)](_0x37dce8);}}async['delete'](_0x39cb67,_0xf14537){const _0x344386=a0_0x27193d;try{let _0x35897b=this[_0x344386(0x7ba)](_0xf14537),_0x407559=A(_0x39cb67['where']);await _0x35897b[_0x344386(0x2f2)](_0x407559);}catch(_0xae5e6c){console[_0x344386(0x382)](_0xae5e6c);}}async[a0_0x27193d(0x375)](_0x28d5c2){const _0x5e52b5=a0_0x27193d;try{return await this[_0x5e52b5(0x7ba)](_0x28d5c2)['collection']['drop'](),{'success':!0x0};}catch(_0x30c243){return console[_0x5e52b5(0x382)](_0x30c243),{'success':!0x1,'error':_0x30c243};}}},Bt=class{constructor(_0x85abd0){this['waMonitor']=_0x85abd0;}async[a0_0x27193d(0x726)]({instanceName:_0x2dcfa2},_0x523cb9){const _0x1b2d7f=a0_0x27193d;return await this[_0x1b2d7f(0x6c1)][_0x1b2d7f(0x1bc)][_0x2dcfa2][_0x1b2d7f(0x726)](_0x523cb9);}async[a0_0x27193d(0x5e1)]({instanceName:_0x400d74},_0x1c28f9){const _0xbd01b6=a0_0x27193d;return await this[_0xbd01b6(0x6c1)][_0xbd01b6(0x1bc)][_0x400d74][_0xbd01b6(0x5e1)](_0x1c28f9);}async[a0_0x27193d(0x538)]({instanceName:_0x4b5e30},_0x380480){return await this['waMonitor']['waInstances'][_0x4b5e30]['importChats'](_0x380480);}async[a0_0x27193d(0x449)]({instanceName:_0x3486c2},_0x529f07){const _0x46bc3a=a0_0x27193d;return await this[_0x46bc3a(0x6c1)]['waInstances'][_0x3486c2][_0x46bc3a(0x45d)](_0x529f07);}async['archiveChat']({instanceName:_0x3f7dd6},_0x241ffc){const _0x55d783=a0_0x27193d;return await this[_0x55d783(0x6c1)]['waInstances'][_0x3f7dd6]['archiveChat'](_0x241ffc);}async[a0_0x27193d(0x642)]({instanceName:_0x18d8fa},_0x4b1193){const _0x4cce9e=a0_0x27193d;return await this['waMonitor'][_0x4cce9e(0x1bc)][_0x18d8fa][_0x4cce9e(0x642)](_0x4b1193);}async[a0_0x27193d(0x221)]({instanceName:_0x3d0f49},_0x82b16d){const _0x32658a=a0_0x27193d;return await this[_0x32658a(0x6c1)][_0x32658a(0x1bc)][_0x3d0f49][_0x32658a(0x324)](_0x82b16d['number']);}async['fetchProfile']({instanceName:_0x2b46bd},_0x241f11){const _0x3f3b43=a0_0x27193d;return await this['waMonitor'][_0x3f3b43(0x1bc)][_0x2b46bd][_0x3f3b43(0x476)](_0x241f11[_0x3f3b43(0x520)]);}async['updatePresence']({instanceName:_0x196456},_0x33c920){const _0x50473f=a0_0x27193d;return await this[_0x50473f(0x6c1)]['waInstances'][_0x196456][_0x50473f(0x133)](_0x33c920);}async['fetchContacts']({instanceName:_0x544dc7},_0x1bc5a9){const _0x3fe81b=a0_0x27193d;return await this[_0x3fe81b(0x6c1)][_0x3fe81b(0x1bc)][_0x544dc7][_0x3fe81b(0x307)](_0x1bc5a9);}async['getBase64FromMediaMessage']({instanceName:_0xa898a3},_0x1f14ab){const _0x1546c3=a0_0x27193d;return await this['waMonitor'][_0x1546c3(0x1bc)][_0xa898a3][_0x1546c3(0x1df)](_0x1f14ab);}async[a0_0x27193d(0x4a6)]({instanceName:_0x12ec28},_0x20d52c){const _0x111890=a0_0x27193d;return await this['waMonitor'][_0x111890(0x1bc)][_0x12ec28][_0x111890(0x4a6)](_0x20d52c);}async[a0_0x27193d(0x364)]({instanceName:_0x46f5ca}){const _0x5f079d=a0_0x27193d;return await this[_0x5f079d(0x6c1)][_0x5f079d(0x1bc)][_0x46f5ca][_0x5f079d(0x364)]();}async[a0_0x27193d(0x1a1)]({instanceName:_0x32c6fe}){const _0x505734=a0_0x27193d;return await this[_0x505734(0x6c1)][_0x505734(0x1bc)][_0x32c6fe][_0x505734(0x1a1)]();}async[a0_0x27193d(0x27b)]({instanceName:_0x13d673}){const _0x233d6a=a0_0x27193d;return await this[_0x233d6a(0x6c1)]['waInstances'][_0x13d673][_0x233d6a(0x27b)]();}async[a0_0x27193d(0x42a)]({instanceName:_0x33f8bb},_0x2d3100){const _0x3f7ce6=a0_0x27193d;return await this[_0x3f7ce6(0x6c1)][_0x3f7ce6(0x1bc)][_0x33f8bb][_0x3f7ce6(0x42a)](_0x2d3100);}async[a0_0x27193d(0x3bd)]({instanceName:_0x4bc138},_0x2f57a8){const _0x3ec00d=a0_0x27193d;return await this['waMonitor'][_0x3ec00d(0x1bc)][_0x4bc138][_0x3ec00d(0x3bd)](_0x2f57a8[_0x3ec00d(0x520)]);}async[a0_0x27193d(0x4ee)]({instanceName:_0x3f9d3a},_0x29a81a){const _0x59018d=a0_0x27193d;return await this['waMonitor']['waInstances'][_0x3f9d3a][_0x59018d(0x4ee)](_0x29a81a[_0x59018d(0x1d6)]);}async[a0_0x27193d(0x2c3)]({instanceName:_0x43f0cf},_0x3dbcf6){const _0x3bba12=a0_0x27193d;return await this['waMonitor'][_0x3bba12(0x1bc)][_0x43f0cf][_0x3bba12(0x2c3)](_0x3dbcf6[_0x3bba12(0x148)]);}async[a0_0x27193d(0x597)]({instanceName:_0x5c25fc},_0x2546c1){const _0x53d70e=a0_0x27193d;return await this['waMonitor'][_0x53d70e(0x1bc)][_0x5c25fc][_0x53d70e(0x597)](_0x2546c1['picture']);}async[a0_0x27193d(0x349)]({instanceName:_0x41dec4},_0x307277){const _0x4c0852=a0_0x27193d;return await this['waMonitor'][_0x4c0852(0x1bc)][_0x41dec4][_0x4c0852(0x349)]();}},Ps=require(a0_0x27193d(0x190)),Gt=class c{constructor(_0x4eeed3,_0x26443d,_0x3fad23,_0x23673c,_0x1288f9){const _0x430846=a0_0x27193d;this['waMonitor']=_0x4eeed3,this['configService']=_0x26443d,this[_0x430846(0x418)]=_0x3fad23,this[_0x430846(0x34b)]=_0x23673c,this[_0x430846(0x6e8)]=_0x1288f9,this['logger']=new v(c[_0x430846(0x1d6)]);}async[a0_0x27193d(0x5b0)]({instanceName:_0x5b8181,apikey:_0x224307,number:_0x516836,proxy:_0x1a508a=!0x0}){const _0x2e2cd0=a0_0x27193d;try{let _0x306ed0=new be(this[_0x2e2cd0(0x29f)],this[_0x2e2cd0(0x34b)],this[_0x2e2cd0(0x418)]);_0x306ed0[_0x2e2cd0(0x261)]=_0x5b8181,this[_0x2e2cd0(0x6c1)][_0x2e2cd0(0x1bc)][_0x306ed0[_0x2e2cd0(0x261)]]=_0x306ed0;let _0x3ab225={};_0x224307?(await this[_0x2e2cd0(0x418)]['auth'][_0x2e2cd0(0x29c)]({'apikey':_0x224307},_0x5b8181),_0x3ab225[_0x2e2cd0(0x26b)]=_0x224307):_0x3ab225=await this['authService']['generateHash']({'instanceName':_0x306ed0[_0x2e2cd0(0x261)]});let _0x5c9e52;if(_0x516836){if(_0x5c9e52=await this[_0x2e2cd0(0x60c)](_0x516836),_0x5c9e52[_0x2e2cd0(0x382)])throw new I(_0x5c9e52['error']['toString']());_0x516836=_0x5c9e52['number'];}let _0x20cf44;return await _0x306ed0[_0x2e2cd0(0x5d1)](_0x516836),await(0x0,Ps['delay'])(0x7d0),_0x20cf44=_0x306ed0['qrCode'],{'instance':{'instanceName':_0x306ed0[_0x2e2cd0(0x261)],'status':_0x2e2cd0(0x4fd)},'hash':_0x3ab225,'qrcode':_0x20cf44};}catch(_0x32756b){throw this['logger']['error'](_0x32756b),_0x32756b;}}async[a0_0x27193d(0x332)]({instanceName:_0x17c61f,number:_0x4ff7f2=null}){const _0x423893=a0_0x27193d;try{let _0x217b08=this[_0x423893(0x6c1)][_0x423893(0x1bc)][_0x17c61f];switch(_0x217b08?.[_0x423893(0x5cb)]?.[_0x423893(0x754)]){case'close':return await _0x217b08[_0x423893(0x5d1)](_0x4ff7f2),await(0x0,Ps[_0x423893(0x287)])(0x7d0),_0x217b08[_0x423893(0x2a9)];case _0x423893(0x799):return _0x217b08[_0x423893(0x2a9)];default:return await this[_0x423893(0x494)]({'instanceName':_0x17c61f});}}catch(_0x4608fa){this[_0x423893(0x2a3)][_0x423893(0x5c8)](_0x4608fa);}}async['connectionState']({instanceName:_0xeb6634}){const _0x351306=a0_0x27193d;let _0x37278b=this[_0x351306(0x6c1)][_0x351306(0x1bc)][_0xeb6634][_0x351306(0x5cb)],_0x464152=null;_0x37278b[_0x351306(0x754)]===_0x351306(0x665)&&_0xeb6634&&(_0x464152=await this[_0x351306(0x6c1)]['instanceInfo'](_0xeb6634));let _0x5076ad=null;return _0x37278b[_0x351306(0x754)]===_0x351306(0x799)&&_0xeb6634&&(_0x5076ad=this[_0x351306(0x6c1)][_0x351306(0x1bc)][_0xeb6634]['qrCode']),{'instance':_0xeb6634,'connectionStatus':_0x37278b,'instanceInfo':_0x464152,'qrcode':_0x5076ad};}async[a0_0x27193d(0x60c)](_0x693bd7){const _0x53e0ad=a0_0x27193d;_0x693bd7=_0x693bd7[_0x53e0ad(0x468)](/\D/g,'');let _0x3a3da5=Object['keys'](this[_0x53e0ad(0x6c1)][_0x53e0ad(0x1bc)])[_0x53e0ad(0x46c)](_0x23eab9=>{const _0x54372e=_0x53e0ad;let _0x4d6523=this[_0x54372e(0x6c1)][_0x54372e(0x1bc)][_0x23eab9];return _0x4d6523&&_0x4d6523['connectionStatus']&&_0x4d6523[_0x54372e(0x5cb)][_0x54372e(0x754)]==='open';});if(_0x3a3da5['length']===0x0)return{'number':this[_0x53e0ad(0x2bf)](_0x693bd7)};let _0x331803=Math[_0x53e0ad(0x743)](Math[_0x53e0ad(0x303)]()*_0x3a3da5['length']),_0x244205=_0x3a3da5[_0x331803];try{let _0x3bed9e=(await this[_0x53e0ad(0x6c1)][_0x53e0ad(0x1bc)][_0x244205]['whatsappNumber']({'numbers':[_0x693bd7]}))[_0x53e0ad(0x65f)]();return _0x3bed9e[_0x53e0ad(0x6d4)]?{'number':_0x3bed9e[_0x53e0ad(0x22b)][_0x53e0ad(0x468)](_0x53e0ad(0x7c8),'')}:{'number':_0x693bd7,'error':_0x53e0ad(0x406)};}catch(_0x10f7f3){return this[_0x53e0ad(0x2a3)][_0x53e0ad(0x382)](_0x53e0ad(0x514)+_0x10f7f3),{'number':_0x693bd7,'error':_0x53e0ad(0x3cf)};}}[a0_0x27193d(0x2bf)](_0x58936e){const _0x51e65e=a0_0x27193d;let _0x186a7f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x51e65e(0x57b)](_0x58936e);if(_0x186a7f&&_0x186a7f[0x1]==='55'){let _0x1367d6=_0x186a7f[0x2],_0x3f3a41=_0x186a7f[0x3],_0x303dd2=_0x186a7f[0x4];if(parseInt(_0x1367d6)>=0x1f&&_0x3f3a41==='9')return _0x186a7f[0x1]+_0x1367d6+_0x303dd2;}return _0x58936e;}async['restartInstance']({instanceName:_0xcba9cc}){const _0x425bf1=a0_0x27193d;try{return this[_0x425bf1(0x6c1)]['waInstances'][_0xcba9cc]?.[_0x425bf1(0x5e0)]?.['ws']?.[_0x425bf1(0x788)](),{'status':_0x425bf1(0x357),'error':!0x1,'response':{'message':_0x425bf1(0x353)}};}catch(_0x525450){this[_0x425bf1(0x2a3)][_0x425bf1(0x382)](_0x525450);}}async[a0_0x27193d(0x285)]({instanceName:_0x301d1d}){const _0x21180d=a0_0x27193d;return _0x301d1d?this[_0x21180d(0x6c1)]['instanceInfo'](_0x301d1d):this[_0x21180d(0x6c1)][_0x21180d(0x27f)]();}async[a0_0x27193d(0x6c7)]({instanceName:_0x482ea7}){const _0x9760cb=a0_0x27193d;try{return await this['waMonitor']['waInstances'][_0x482ea7]?.[_0x9760cb(0x5e0)]?.[_0x9760cb(0x6c7)](_0x9760cb(0x428)+_0x482ea7),{'error':!0x1,'message':_0x9760cb(0x62f)};}catch(_0x10a331){throw new I(_0x10a331['toString']());}}async[a0_0x27193d(0x1db)]({instanceName:_0xf2fb2}){const _0x1db984=a0_0x27193d;if((await this['connectionState']({'instanceName':_0xf2fb2}))['connectionStatus'][_0x1db984(0x754)]==='open')throw new w([_0x1db984(0x229),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1db984(0x6c1)][_0x1db984(0x1bc)][_0xf2fb2],{'error':!0x1,'message':_0x1db984(0x1fa)};}catch(_0x2d9d2b){throw new w(_0x2d9d2b['toString']());}}},ee=require('class-validator'),Wt=class{constructor(_0x348e61){const _0x24b71d=a0_0x27193d;this[_0x24b71d(0x6c1)]=_0x348e61;}async['sendText']({instanceName:_0x4c83b6},_0x5176d2){const _0x1de017=a0_0x27193d;return await this['waMonitor'][_0x1de017(0x1bc)][_0x4c83b6][_0x1de017(0x531)](_0x5176d2);}async['sendMenu']({instanceName:_0x2fd057},_0xbd31f0){const _0x1c3609=a0_0x27193d;return await this['waMonitor']['waInstances'][_0x2fd057][_0x1c3609(0x15e)](_0xbd31f0);}async[a0_0x27193d(0x3f8)]({instanceName:_0xf5deb6},_0x19a6ff){const _0x396811=a0_0x27193d;if((0x0,ee[_0x396811(0x42c)])(_0x19a6ff?.['mediaMessage']?.[_0x396811(0x62e)])&&!_0x19a6ff?.[_0x396811(0x166)]?.[_0x396811(0x159)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ee[_0x396811(0x3bb)])(_0x19a6ff?.[_0x396811(0x166)]?.[_0x396811(0x62e)])||(0x0,ee[_0x396811(0x42c)])(_0x19a6ff?.['mediaMessage']?.[_0x396811(0x62e)]))return await this[_0x396811(0x6c1)][_0x396811(0x1bc)][_0xf5deb6][_0x396811(0x166)](_0x19a6ff);throw new w(_0x396811(0x61f));}async['sendSticker']({instanceName:_0x5e83da},_0x5e96ff){const _0x648d61=a0_0x27193d;if((0x0,ee['isURL'])(_0x5e96ff[_0x648d61(0x7b2)][_0x648d61(0x67e)])||(0x0,ee[_0x648d61(0x42c)])(_0x5e96ff[_0x648d61(0x7b2)]['image']))return await this[_0x648d61(0x6c1)]['waInstances'][_0x5e83da][_0x648d61(0x7b3)](_0x5e96ff);throw new w(_0x648d61(0x61f));}async[a0_0x27193d(0x36a)]({instanceName:_0x27cbd8},_0x40b785){const _0x81ad3e=a0_0x27193d;if((0x0,ee[_0x81ad3e(0x3bb)])(_0x40b785[_0x81ad3e(0x4ea)][_0x81ad3e(0x542)])||(0x0,ee[_0x81ad3e(0x42c)])(_0x40b785[_0x81ad3e(0x4ea)][_0x81ad3e(0x542)]))return await this[_0x81ad3e(0x6c1)][_0x81ad3e(0x1bc)][_0x27cbd8][_0x81ad3e(0x698)](_0x40b785);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x2e5178},_0x142d71){const _0x56ba81=a0_0x27193d;if((0x0,ee[_0x56ba81(0x42c)])(_0x142d71[_0x56ba81(0x19a)][_0x56ba81(0x166)]?.[_0x56ba81(0x62e)])&&!_0x142d71[_0x56ba81(0x19a)][_0x56ba81(0x166)]?.[_0x56ba81(0x159)])throw new w(_0x56ba81(0x5d4));return await this[_0x56ba81(0x6c1)][_0x56ba81(0x1bc)][_0x2e5178][_0x56ba81(0x19a)](_0x142d71);}async[a0_0x27193d(0x70f)]({instanceName:_0x93b239},_0x11079d){const _0x3d35e0=a0_0x27193d;return await this['waMonitor'][_0x3d35e0(0x1bc)][_0x93b239][_0x3d35e0(0x739)](_0x11079d);}async[a0_0x27193d(0x288)]({instanceName:_0x45f791},_0x2b8932){const _0x38c2ae=a0_0x27193d;return await this[_0x38c2ae(0x6c1)][_0x38c2ae(0x1bc)][_0x45f791]['pollMessage'](_0x2b8932);}async['sendList']({instanceName:_0x2d7dd8},_0x24cf2c){const _0x2a87f5=a0_0x27193d;return await this[_0x2a87f5(0x6c1)][_0x2a87f5(0x1bc)][_0x2d7dd8][_0x2a87f5(0x3f6)](_0x24cf2c);}async[a0_0x27193d(0x3e8)]({instanceName:_0xece949},_0x27d95d){const _0x5cf9a0=a0_0x27193d;return await this[_0x5cf9a0(0x6c1)][_0x5cf9a0(0x1bc)][_0xece949]['contactMessage'](_0x27d95d);}async['sendReaction']({instanceName:_0xd5a236},_0x90900e){const _0x374f2c=a0_0x27193d;if(!_0x90900e['reactionMessage'][_0x374f2c(0x29a)][_0x374f2c(0x243)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x374f2c(0x388));return await this[_0x374f2c(0x6c1)]['waInstances'][_0xd5a236][_0x374f2c(0x5ad)](_0x90900e);}async[a0_0x27193d(0x5b2)]({instanceName:_0x4383d0},_0xd850c8){const _0x514a37=a0_0x27193d;return await this[_0x514a37(0x6c1)]['waInstances'][_0x4383d0]['statusMessage'](_0xd850c8);}},Dr=require(a0_0x27193d(0x5e7)),$s=require(a0_0x27193d(0x5a6)),zt=class c{constructor(_0x2d20ce,_0x179ac4,_0x51155d){const _0x4b53d0=a0_0x27193d;this[_0x4b53d0(0x29f)]=_0x2d20ce,this[_0x4b53d0(0x6c1)]=_0x179ac4,this[_0x4b53d0(0x418)]=_0x51155d,this[_0x4b53d0(0x2a3)]=new v(c['name']);}async['jwt'](_0x172da5){const _0x2be83c=a0_0x27193d;let _0x3dc845=this[_0x2be83c(0x29f)][_0x2be83c(0x30a)](_0x2be83c(0x5b8))[_0x2be83c(0x1d2)],_0x542b45=(0x0,Dr[_0x2be83c(0x220)])({'instanceName':_0x172da5[_0x2be83c(0x261)],'apiName':Ze,'tokenId':(0x0,$s['v4'])()},_0x3dc845[_0x2be83c(0x20b)],{'expiresIn':_0x3dc845[_0x2be83c(0x12c)],'encoding':_0x2be83c(0x383),'subject':_0x2be83c(0x41b)}),_0x944f31=await this[_0x2be83c(0x418)][_0x2be83c(0x3e9)]['create']({'jwt':_0x542b45},_0x172da5[_0x2be83c(0x261)]);if(_0x944f31[_0x2be83c(0x382)])throw this[_0x2be83c(0x2a3)][_0x2be83c(0x382)]({'localError':c[_0x2be83c(0x1d6)]+_0x2be83c(0x567),'error':_0x944f31['error']}),new w(_0x2be83c(0x423),_0x944f31[_0x2be83c(0x382)]?.[_0x2be83c(0x1ec)]());return{'jwt':_0x542b45};}async['apikey'](_0x47f2ef){const _0x5df620=a0_0x27193d;let _0xffdbdd=(0x0,$s['v4'])()['toUpperCase'](),_0x14c901=await this[_0x5df620(0x418)]['auth'][_0x5df620(0x29c)]({'apikey':_0xffdbdd},_0x47f2ef['instanceName']);if(_0x14c901['error'])throw this[_0x5df620(0x2a3)][_0x5df620(0x382)]({'localError':c[_0x5df620(0x1d6)]+_0x5df620(0x567),'error':_0x14c901[_0x5df620(0x382)]}),new w(_0x5df620(0x423),_0x14c901[_0x5df620(0x382)]?.['toString']());return{'apikey':_0xffdbdd};}async[a0_0x27193d(0x17a)](_0x43f6ca){const _0x24f1ec=a0_0x27193d;let _0x17a901=this['configService'][_0x24f1ec(0x30a)](_0x24f1ec(0x5b8));return await this[_0x17a901[_0x24f1ec(0x4b6)]](_0x43f6ca);}},Ht=class{constructor(_0x5a513b){const _0x44c6ed=a0_0x27193d;this[_0x44c6ed(0x6c1)]=_0x5a513b;}async['createGroup'](_0x39117f,_0x4cdb85){const _0x42c3b1=a0_0x27193d;return await this[_0x42c3b1(0x6c1)]['waInstances'][_0x39117f[_0x42c3b1(0x261)]]['createGroup'](_0x4cdb85);}async[a0_0x27193d(0x3cd)](_0x5658c9,_0x1a538e){const _0x3e6c73=a0_0x27193d;return await this[_0x3e6c73(0x6c1)][_0x3e6c73(0x1bc)][_0x5658c9[_0x3e6c73(0x261)]][_0x3e6c73(0x3cd)](_0x1a538e);}async[a0_0x27193d(0x532)](_0x1347f0,_0x1d69df){const _0x2ffe7=a0_0x27193d;return await this['waMonitor'][_0x2ffe7(0x1bc)][_0x1347f0['instanceName']][_0x2ffe7(0x532)](_0x1d69df);}async[a0_0x27193d(0x782)](_0x2281b9,_0x46d210){const _0x5567e2=a0_0x27193d;return await this[_0x5567e2(0x6c1)]['waInstances'][_0x2281b9['instanceName']][_0x5567e2(0x782)](_0x46d210);}async[a0_0x27193d(0x38b)](_0x232e55,_0x357fe4){const _0xc9d9d3=a0_0x27193d;return await this[_0xc9d9d3(0x6c1)]['waInstances'][_0x232e55['instanceName']][_0xc9d9d3(0x38b)](_0x357fe4);}async[a0_0x27193d(0x2f8)](_0x45d60f,_0x59f526){const _0x514163=a0_0x27193d;return await this[_0x514163(0x6c1)][_0x514163(0x1bc)][_0x45d60f[_0x514163(0x261)]][_0x514163(0x2f8)](_0x59f526);}async[a0_0x27193d(0x3b1)](_0x3b8e50,_0x4101f8){const _0x769c13=a0_0x27193d;return await this[_0x769c13(0x6c1)]['waInstances'][_0x3b8e50[_0x769c13(0x261)]][_0x769c13(0x654)](_0x4101f8);}async['findGroups'](_0x2d5f04){const _0x18f1d4=a0_0x27193d;return await this[_0x18f1d4(0x6c1)][_0x18f1d4(0x1bc)][_0x2d5f04[_0x18f1d4(0x261)]]['findGroups']();}async[a0_0x27193d(0x10d)](_0xebe416,_0x2c32d8){const _0x1d9681=a0_0x27193d;return await this[_0x1d9681(0x6c1)]['waInstances'][_0xebe416[_0x1d9681(0x261)]][_0x1d9681(0x10d)](_0x2c32d8);}async[a0_0x27193d(0x7ae)](_0x119dc1,_0x4b385a){const _0x48c560=a0_0x27193d;return await this[_0x48c560(0x6c1)][_0x48c560(0x1bc)][_0x119dc1[_0x48c560(0x261)]][_0x48c560(0x7ae)](_0x4b385a);}async[a0_0x27193d(0x77c)](_0x2fda2c,_0xedbfac){const _0x23abe1=a0_0x27193d;return await this[_0x23abe1(0x6c1)][_0x23abe1(0x1bc)][_0x2fda2c[_0x23abe1(0x261)]][_0x23abe1(0x77c)](_0xedbfac);}async['revokeInviteCode'](_0x244926,_0x2adc31){const _0x18cc60=a0_0x27193d;return await this[_0x18cc60(0x6c1)][_0x18cc60(0x1bc)][_0x244926[_0x18cc60(0x261)]][_0x18cc60(0x667)](_0x2adc31);}async[a0_0x27193d(0x71d)](_0xc0a4e6,_0x28b88b){const _0x5d530a=a0_0x27193d;return await this[_0x5d530a(0x6c1)]['waInstances'][_0xc0a4e6[_0x5d530a(0x261)]][_0x5d530a(0x71d)](_0x28b88b);}async['updateGParticipate'](_0x56c715,_0x5d318e){const _0x5b5c2d=a0_0x27193d;return await this['waMonitor']['waInstances'][_0x56c715[_0x5b5c2d(0x261)]]['updateGParticipant'](_0x5d318e);}async['toggleEphemeral'](_0x292ceb,_0x149cc5){const _0x136ef0=a0_0x27193d;return await this[_0x136ef0(0x6c1)][_0x136ef0(0x1bc)][_0x292ceb['instanceName']]['toggleEphemeral'](_0x149cc5);}async[a0_0x27193d(0x158)](_0x418c8f,_0x580288){return await this['waMonitor']['waInstances'][_0x418c8f['instanceName']]['leaveGroup'](_0x580288);}},Kt=class{constructor(_0x17384e){const _0x24a72e=a0_0x27193d;this[_0x24a72e(0x6c1)]=_0x17384e;}[a0_0x27193d(0x29c)](_0x41d0eb,_0x1ca49d){const _0xbb7fb1=a0_0x27193d;return this[_0xbb7fb1(0x6c1)][_0xbb7fb1(0x1bc)][_0x41d0eb[_0xbb7fb1(0x261)]][_0xbb7fb1(0x677)](_0x1ca49d);}async['find'](_0x2b24d8){const _0x34818c=a0_0x27193d;try{return await this[_0x34818c(0x6c1)]['waInstances'][_0x2b24d8[_0x34818c(0x261)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},fp=new v('FlowController'),Qt=class{constructor(_0x39cd77){const _0x4a0bff=a0_0x27193d;this[_0x4a0bff(0x6c1)]=_0x39cd77;}async[a0_0x27193d(0x2e9)](_0x978a7,_0xbc2d05){const _0x377bbd=a0_0x27193d;return await this[_0x377bbd(0x6c1)][_0x377bbd(0x1bc)][_0x978a7[_0x377bbd(0x261)]]['editScheduleMessage'](_0xbc2d05);}async['getScheduleMessage'](_0x6099b7){const _0x29f436=a0_0x27193d;return await this[_0x29f436(0x6c1)]['waInstances'][_0x6099b7['instanceName']]['getScheduleMessage']();}async[a0_0x27193d(0x291)](_0x2730da){const _0x105e0e=a0_0x27193d;return await this['waMonitor'][_0x105e0e(0x1bc)][_0x2730da[_0x105e0e(0x261)]][_0x105e0e(0x291)]();}async[a0_0x27193d(0x456)](_0x365329){const _0x42ec35=a0_0x27193d;return await this[_0x42ec35(0x6c1)][_0x42ec35(0x1bc)][_0x365329[_0x42ec35(0x261)]][_0x42ec35(0x456)]();}async['updateAgent'](_0x4322ed,_0x19cc40){const _0x3f4fba=a0_0x27193d;return await this['waMonitor'][_0x3f4fba(0x1bc)][_0x4322ed[_0x3f4fba(0x261)]][_0x3f4fba(0x583)](_0x19cc40);}async['updateCustomFields'](_0x55ffcd,_0x32a87a){const _0xe306ff=a0_0x27193d;return await this[_0xe306ff(0x6c1)][_0xe306ff(0x1bc)][_0x55ffcd[_0xe306ff(0x261)]][_0xe306ff(0x4b1)](_0x32a87a);}async[a0_0x27193d(0x3c7)](_0x53c7a3,_0x22d1de){const _0x336bea=a0_0x27193d;return await this['waMonitor'][_0x336bea(0x1bc)][_0x53c7a3[_0x336bea(0x261)]][_0x336bea(0x3c7)](_0x22d1de);}async[a0_0x27193d(0x5dc)](_0x383a2c,_0x82608){const _0x103d28=a0_0x27193d;return await this[_0x103d28(0x6c1)][_0x103d28(0x1bc)][_0x383a2c['instanceName']]['startFlow'](_0x82608);}async['getConversation'](_0x26870d,_0x5df656){const _0x1fcbef=a0_0x27193d;return await this[_0x1fcbef(0x6c1)][_0x1fcbef(0x1bc)][_0x26870d[_0x1fcbef(0x261)]][_0x1fcbef(0x79c)](_0x5df656);}async[a0_0x27193d(0x3f0)](_0x5e71dc,_0x367d1c){const _0x4d3db7=a0_0x27193d;return await this[_0x4d3db7(0x6c1)][_0x4d3db7(0x1bc)][_0x5e71dc[_0x4d3db7(0x261)]][_0x4d3db7(0x3f0)](_0x367d1c);}async[a0_0x27193d(0x1bd)](_0x138d12,_0x30a37f){const _0x800736=a0_0x27193d;return await this['waMonitor'][_0x800736(0x1bc)][_0x138d12['instanceName']][_0x800736(0x1bd)](_0x30a37f);}async[a0_0x27193d(0x6fc)](_0x45d126,_0x4397ef){const _0x5c1120=a0_0x27193d;return await this['waMonitor'][_0x5c1120(0x1bc)][_0x45d126[_0x5c1120(0x261)]]['deleteConversation'](_0x4397ef);}async[a0_0x27193d(0x74f)](_0x1be479,_0x2f9b84){const _0x3c418b=a0_0x27193d;return await this[_0x3c418b(0x6c1)][_0x3c418b(0x1bc)][_0x1be479[_0x3c418b(0x261)]][_0x3c418b(0x74f)](_0x2f9b84[_0x3c418b(0x1d6)]);}async[a0_0x27193d(0x38f)](_0x184fe5,_0x999726){const _0x184e83=a0_0x27193d;return await this[_0x184e83(0x6c1)]['waInstances'][_0x184fe5[_0x184e83(0x261)]]['createFlow'](_0x999726);}async[a0_0x27193d(0x63b)](_0xe6c916,_0x2bc51e){const _0x3ceef8=a0_0x27193d;return await this[_0x3ceef8(0x6c1)]['waInstances'][_0xe6c916[_0x3ceef8(0x261)]][_0x3ceef8(0x63b)](_0x2bc51e);}async['editFlowBlock'](_0x4d742b,_0xcc00af){const _0x467943=a0_0x27193d;return await this[_0x467943(0x6c1)]['waInstances'][_0x4d742b['instanceName']][_0x467943(0x33f)](_0xcc00af);}async[a0_0x27193d(0x69d)](_0x366467,_0x2b961f){const _0x373cc5=a0_0x27193d;return await this[_0x373cc5(0x6c1)]['waInstances'][_0x366467[_0x373cc5(0x261)]][_0x373cc5(0x69d)](_0x2b961f);}async['editFlowGroup'](_0xbd7eca,_0x4e3e8d){const _0x2f982c=a0_0x27193d;return await this[_0x2f982c(0x6c1)][_0x2f982c(0x1bc)][_0xbd7eca[_0x2f982c(0x261)]][_0x2f982c(0x5df)](_0x4e3e8d);}async[a0_0x27193d(0x2f5)](_0x2f859b,_0x306cf8){const _0x45f110=a0_0x27193d;return await this[_0x45f110(0x6c1)][_0x45f110(0x1bc)][_0x2f859b[_0x45f110(0x261)]]['editFlowCondition'](_0x306cf8);}async[a0_0x27193d(0x1b3)](_0x32aeef,_0x4e11cc){const _0x48e5da=a0_0x27193d;return await this[_0x48e5da(0x6c1)]['waInstances'][_0x32aeef[_0x48e5da(0x261)]][_0x48e5da(0x1b3)](_0x4e11cc);}async[a0_0x27193d(0x6e3)](_0x2c43e4,_0x3deb07){const _0x479124=a0_0x27193d;return await this['waMonitor']['waInstances'][_0x2c43e4[_0x479124(0x261)]][_0x479124(0x6e3)](_0x3deb07);}async[a0_0x27193d(0x116)](_0x1d1fed,_0x19ed1f){const _0x1c61a6=a0_0x27193d;return await this[_0x1c61a6(0x6c1)][_0x1c61a6(0x1bc)][_0x1d1fed[_0x1c61a6(0x261)]][_0x1c61a6(0x116)](_0x19ed1f['name']);}async['allFlows'](_0xfdb110){const _0x13110e=a0_0x27193d;return await this[_0x13110e(0x6c1)]['waInstances'][_0xfdb110[_0x13110e(0x261)]][_0x13110e(0x38d)]();}},Yt=class{constructor(_0x322fca){const _0x3d66af=a0_0x27193d;this[_0x3d66af(0x727)]=_0x322fca;}async[a0_0x27193d(0x209)](_0x14625a,_0x5099eb){const _0xd27538=a0_0x27193d;return this[_0xd27538(0x727)]['create'](_0x14625a,_0x5099eb);}async[a0_0x27193d(0x206)](_0x4ae87b){const _0x14465e=a0_0x27193d;return this[_0x14465e(0x727)][_0x14465e(0x76e)](_0x4ae87b);}},Xt=class extends D{constructor(_0x58d8ba,_0x143a99){const _0x5ca2a9=a0_0x27193d;super(_0x143a99),this[_0x5ca2a9(0x505)]=_0x58d8ba,this['configService']=_0x143a99;}async[a0_0x27193d(0x29c)](_0x4ae540,_0xd6d4ce){const _0x3246cf=a0_0x27193d;try{return this[_0x3246cf(0x479)][_0x3246cf(0x323)]?{'insertCount':(await this['webhookModel'][_0x3246cf(0x524)]({'_id':_0xd6d4ce},{..._0x4ae540},{'upsert':!0x0}))[_0x3246cf(0x794)]}:{'insertCount':0x1};}catch(_0x3e5168){return _0x3e5168;}}async[a0_0x27193d(0x1f4)](_0x580d89){const _0x3b0a4d=a0_0x27193d;try{if(this[_0x3b0a4d(0x479)][_0x3b0a4d(0x323)]){await this['webhookModel'][_0x3b0a4d(0x40d)]({'_id':_0x580d89});return;}}catch(_0x22f02e){return{'error':_0x22f02e};}}async[a0_0x27193d(0x76e)](_0x3fbedd){const _0x1e4f56=a0_0x27193d;try{if(this[_0x1e4f56(0x479)][_0x1e4f56(0x323)])return await this[_0x1e4f56(0x505)][_0x1e4f56(0x5d3)]({'_id':_0x3fbedd});}catch{return{};}}},Zt=class extends D{constructor(_0x1c9b92,_0x3dbb84){const _0x178013=a0_0x27193d;super(_0x3dbb84),this['authModel']=_0x1c9b92,this[_0x178013(0x29f)]=_0x3dbb84,this[_0x178013(0x3e9)]=_0x3dbb84[_0x178013(0x30a)](_0x178013(0x5b8));}async[a0_0x27193d(0x29c)](_0x16eec8,_0x428783){const _0xa7f522=a0_0x27193d;try{if(this['dbSettings'][_0xa7f522(0x323)])return{'insertCount':(await this[_0xa7f522(0x27c)]['updateOne']({'_id':_0x428783},{'$set':{..._0x16eec8}},{'upsert':!0x0}))[_0xa7f522(0x794)]};}catch(_0x2a4f0a){return{'error':_0x2a4f0a};}}async[a0_0x27193d(0x25d)](_0xa79470,_0x5cabb0){const _0x546a59=a0_0x27193d;try{if(this[_0x546a59(0x479)][_0x546a59(0x323)])return{'insertCount':(await this['authModel']['updateMany'](_0xa79470,{'$set':_0x5cabb0},{'upsert':!0x1}))[_0x546a59(0x794)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x2eb372){return{'error':_0x2eb372};}}async['deleteMany'](_0x3d424c){const _0x32bb65=a0_0x27193d;try{if(this[_0x32bb65(0x479)][_0x32bb65(0x323)])return{'insertCount':(await this[_0x32bb65(0x27c)]['deleteMany'](_0x3d424c))['deletedCount']};throw new Error(_0x32bb65(0x4db));}catch(_0x2797c4){return{'error':_0x2797c4};}}async[a0_0x27193d(0x1f4)](_0xcb08ca){const _0x3b7768=a0_0x27193d;try{if(this[_0x3b7768(0x479)][_0x3b7768(0x323)]){await this[_0x3b7768(0x27c)][_0x3b7768(0x40d)]({'_id':_0xcb08ca});return;}}catch(_0x181021){return{'error':_0x181021};}}async['find'](_0x14f320){const _0x31aeb0=a0_0x27193d;try{if(this[_0x31aeb0(0x479)][_0x31aeb0(0x323)])return await this[_0x31aeb0(0x27c)][_0x31aeb0(0x5d3)]({'_id':_0x14f320});}catch{return{};}}async[a0_0x27193d(0x44f)](){const _0x399881=a0_0x27193d;try{if(this[_0x399881(0x479)]['ENABLED'])return await this[_0x399881(0x27c)]['find']();}catch{return[];}}},es=class extends D{[a0_0x27193d(0x2a5)](_0x3681c4){return ha(_0x3681c4);}async[a0_0x27193d(0x645)](_0x1d8c1f){const _0x4b61c9=a0_0x27193d;try{let _0x2e37d3=ga,_0x49793b=this[_0x4b61c9(0x2a5)](_0x1d8c1f),_0x4430fc=await _0x2e37d3['find']({'owner':_0x1d8c1f})[_0x4b61c9(0x72a)](),_0x579de4=[],_0x382e10=[];for(let _0x4950d4 of _0x4430fc)await _0x49793b[_0x4b61c9(0x21e)](_0x4950d4[_0x4b61c9(0x310)])[_0x4b61c9(0x72a)]()||(_0x579de4['push'](_0x4950d4),_0x382e10[_0x4b61c9(0x7b6)](_0x4950d4[_0x4b61c9(0x310)]));return _0x579de4[_0x4b61c9(0x237)]>0x0&&await _0x49793b[_0x4b61c9(0x696)](_0x579de4,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4bda9b){return console['error'](_0x4b61c9(0x7c0),_0x4bda9b),{'success':!0x1,'error':_0x4bda9b};}}async[a0_0x27193d(0x1f4)](_0x3bb1f9,_0x25b1a0){const _0x3384e0=a0_0x27193d;try{let _0x1f9e66=this[_0x3384e0(0x2a5)](_0x25b1a0),_0x64ee06=A(_0x3bb1f9['where']);return{'deletedCount':(await _0x1f9e66[_0x3384e0(0x2f2)](_0x64ee06))['deletedCount']};}catch(_0x4ee353){return{'error':_0x4ee353?.[_0x3384e0(0x1ec)]()};}}async[a0_0x27193d(0x40d)](_0x570877,_0x42f3c8){const _0x3caac3=a0_0x27193d;try{let _0x56922f=this[_0x3caac3(0x2a5)](_0x42f3c8),_0x26945c=A(_0x570877[_0x3caac3(0x3d7)]);return{'deletedCount':(await _0x56922f[_0x3caac3(0x40d)](_0x26945c))[_0x3caac3(0x398)]};}catch(_0x5e5111){return{'error':_0x5e5111?.[_0x3caac3(0x1ec)]()};}}async[a0_0x27193d(0x524)](_0x29c587,_0x38b585,_0x139587){const _0x258a85=a0_0x27193d;try{let _0xb39a85=await this[_0x258a85(0x2a5)](_0x139587)[_0x258a85(0x35a)](_0x29c587,_0x38b585,{'overwrite':!0x0,'new':!0x0});return _0xb39a85||(console[_0x258a85(0x382)](_0x258a85(0x61b),_0x29c587),null);}catch(_0x309414){return console[_0x258a85(0x382)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x309414),null;}}async[a0_0x27193d(0x5f2)](_0x5e41c0,_0x10955f,_0x5e3247){const _0x49d5f2=a0_0x27193d;try{let _0x110763=await this[_0x49d5f2(0x2a5)](_0x5e3247)[_0x49d5f2(0x21e)](_0x5e41c0);return _0x110763?(Object['assign'](_0x110763,_0x10955f),await _0x110763[_0x49d5f2(0x20a)]()):(console[_0x49d5f2(0x382)](_0x49d5f2(0x34a),_0x5e41c0),null);}catch(_0x40ebc0){return console['error'](_0x49d5f2(0x33b),_0x40ebc0),null;}}async[a0_0x27193d(0x37d)](_0x42d269){const _0x5a5fdd=a0_0x27193d;try{let _0x5c8bb5=this['getFlowModelForOwner'](_0x42d269),_0x464124={'shareOwners':{'$exists':!0x1}},_0x5c1ec8={'$set':{'shareOwners':[]}};return(await _0x5c8bb5['updateMany'](_0x464124,_0x5c1ec8))['modifiedCount'];}catch(_0x23996d){return console[_0x5a5fdd(0x382)](_0x23996d),0x0;}}async[a0_0x27193d(0x3e0)](_0x2d33dc,_0x25885a){const _0x4ee927=a0_0x27193d;try{let _0x10cb3f=this[_0x4ee927(0x2a5)](_0x25885a);return await new _0x10cb3f(_0x2d33dc)[_0x4ee927(0x20a)]();}catch(_0x506301){return console[_0x4ee927(0x382)](_0x4ee927(0x7a3),_0x506301),null;}}async[a0_0x27193d(0x1dc)](_0x40b456,_0x5704d0,_0x1abe24){const _0x35392e=a0_0x27193d;try{return{'modifiedCount':(await this[_0x35392e(0x2a5)](_0x1abe24)['updateMany'](_0x40b456,{'$set':_0x5704d0}))['modifiedCount']};}catch(_0x564184){return console[_0x35392e(0x382)](_0x35392e(0x2ac),_0x564184),{'error':_0x564184};}}async[a0_0x27193d(0x44f)](_0x16ce70,_0x4b90d5){const _0x4dd865=a0_0x27193d;try{let _0x16d063=this[_0x4dd865(0x2a5)](_0x4b90d5),_0x59d097=A(_0x16ce70[_0x4dd865(0x3d7)]);return await _0x16d063[_0x4dd865(0x76e)](_0x59d097)[_0x4dd865(0x410)](_0x16ce70?.[_0x4dd865(0x410)]??0x0)[_0x4dd865(0x72a)]();}catch{return[];}}async[a0_0x27193d(0x5d3)](_0x1da9a2,_0x3d39bc){const _0x52fa6e=a0_0x27193d;try{let _0x12e2ff=this[_0x52fa6e(0x2a5)](_0x3d39bc),_0x3cc68c=A(_0x1da9a2[_0x52fa6e(0x3d7)]);return await _0x12e2ff['findOne'](_0x3cc68c)[_0x52fa6e(0x72a)]();}catch{return null;}}async[a0_0x27193d(0x375)](_0x5b29be){const _0x39b9de=a0_0x27193d;try{return await this[_0x39b9de(0x2a5)](_0x5b29be)['collection'][_0x39b9de(0x5eb)](),{'success':!0x0};}catch(_0x1b1e6d){return console['error'](_0x1b1e6d),{'success':!0x1,'error':_0x1b1e6d};}}},ts=class extends D{[a0_0x27193d(0x79b)](_0x948f70){return fa(_0x948f70);}async['copyDataToNewModel'](_0x466de5){const _0x4321ff=a0_0x27193d;try{let _0x459695=wa,_0xb3dc10=this[_0x4321ff(0x79b)](_0x466de5),_0xa9805b=await _0x459695[_0x4321ff(0x76e)]({'owner':_0x466de5})['lean'](),_0x194519=[],_0x3943ca=[];for(let _0x45e742 of _0xa9805b)await _0xb3dc10[_0x4321ff(0x21e)](_0x45e742[_0x4321ff(0x310)])[_0x4321ff(0x72a)]()||(_0x194519['push'](_0x45e742),_0x3943ca['push'](_0x45e742[_0x4321ff(0x310)]));return _0x194519[_0x4321ff(0x237)]>0x0&&await _0xb3dc10[_0x4321ff(0x696)](_0x194519,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2f9181){return console['error'](_0x4321ff(0x7c0),_0x2f9181),{'success':!0x1,'error':_0x2f9181};}}async[a0_0x27193d(0x12e)](_0x17554a){const _0x2c31c3=a0_0x27193d;if(_0x17554a[_0x2c31c3(0x237)]!==0x0)try{return{'insertCount':(await this[_0x2c31c3(0x79b)](_0x17554a[0x0]['owner'])[_0x2c31c3(0x696)]([..._0x17554a]))[_0x2c31c3(0x237)]};}catch(_0x8d2f2a){return _0x8d2f2a;}}async[a0_0x27193d(0x1f4)](_0x319022,_0x41a510){const _0x8dff60=a0_0x27193d;try{let _0x5308ab=this[_0x8dff60(0x79b)](_0x41a510),_0x11b40b=A(_0x319022[_0x8dff60(0x3d7)]);return{'deletedCount':(await _0x5308ab[_0x8dff60(0x2f2)](_0x11b40b))[_0x8dff60(0x398)]};}catch(_0x1b7dbc){return{'error':_0x1b7dbc?.[_0x8dff60(0x1ec)]()};}}async[a0_0x27193d(0x40d)](_0x37c925,_0x5a7f18){const _0x1a9b6c=a0_0x27193d;try{let _0x704fd9=this[_0x1a9b6c(0x79b)](_0x5a7f18),_0x2743a3=A(_0x37c925[_0x1a9b6c(0x3d7)]);return{'deletedCount':(await _0x704fd9['deleteOne'](_0x2743a3))[_0x1a9b6c(0x398)]};}catch(_0x1e8054){return{'error':_0x1e8054?.['toString']()};}}async[a0_0x27193d(0x31e)](_0x5e4706,_0xb3e8b9){const _0x2f6351=a0_0x27193d;try{if(_0x5e4706[_0x2f6351(0x237)]===0x0)return;let _0x3a4f3d=this[_0x2f6351(0x79b)](_0xb3e8b9),_0x7343c7=_0x5e4706[_0x2f6351(0x5e5)](_0x191847=>({'updateOne':{'filter':{'name':_0x191847[_0x2f6351(0x1d6)],'owner':_0xb3e8b9},'update':{..._0x191847}}})),{modifiedCount:_0x2c05df}=await _0x3a4f3d[_0x2f6351(0x35d)](_0x7343c7);return{'insertCount':_0x2c05df};}catch{return;}}async[a0_0x27193d(0x1dc)](_0x56fb22,_0x338c01,_0x226016){const _0x48c952=a0_0x27193d;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x226016)[_0x48c952(0x1dc)](_0x56fb22,{'$set':_0x338c01}))['modifiedCount']};}catch(_0x4bcea7){return console[_0x48c952(0x382)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x4bcea7),{'error':_0x4bcea7};}}async[a0_0x27193d(0x5f2)](_0x207a59,_0x3eeba8,_0x713d8a){const _0x2dda16=a0_0x27193d;try{return await this['getConversationModelForOwner'](_0x713d8a)['findOneAndUpdate']({'_id':_0x207a59},{'$set':_0x3eeba8},{'new':!0x0,'upsert':!0x0})[_0x2dda16(0x72a)]();}catch(_0x5d600e){return console[_0x2dda16(0x382)](_0x5d600e),null;}}async[a0_0x27193d(0x76e)](_0x53a078,_0x1cb470){const _0x24a1f7=a0_0x27193d;try{return await this['getConversationModelForOwner'](_0x1cb470)[_0x24a1f7(0x76e)](_0x53a078)['sort']({'lastInteraction':-0x1})[_0x24a1f7(0x72a)]();}catch{return[];}}async[a0_0x27193d(0x5d3)](_0x4e9b84,_0x4812c5){const _0x5d3abe=a0_0x27193d;try{return await this[_0x5d3abe(0x79b)](_0x4812c5)[_0x5d3abe(0x5d3)]({..._0x4e9b84[_0x5d3abe(0x3d7)]})[_0x5d3abe(0x72a)]();}catch{return null;}}async[a0_0x27193d(0x375)](_0x42fb66){const _0x42bab4=a0_0x27193d;try{return await this['getConversationModelForOwner'](_0x42fb66)['collection'][_0x42bab4(0x5eb)](),{'success':!0x0};}catch(_0x46554f){return console[_0x42bab4(0x382)](_0x46554f),{'success':!0x1,'error':_0x46554f};}}},ss=class extends D{['getScheduleMessageModelForOwner'](_0x2a51a9){return ba(_0x2a51a9);}async[a0_0x27193d(0x645)](_0x5d96a5){const _0x117c9f=a0_0x27193d;try{let _0x5f1547=Sa,_0x417408=this[_0x117c9f(0x6a3)](_0x5d96a5),_0x937299=await _0x5f1547[_0x117c9f(0x76e)]({'owner':_0x5d96a5})[_0x117c9f(0x72a)](),_0x29a75a=[],_0x1d722c=[];for(let _0x20e731 of _0x937299)await _0x417408[_0x117c9f(0x21e)](_0x20e731['_id'])[_0x117c9f(0x72a)]()||(_0x29a75a[_0x117c9f(0x7b6)](_0x20e731),_0x1d722c['push'](_0x20e731[_0x117c9f(0x310)]));return _0x29a75a[_0x117c9f(0x237)]>0x0&&await _0x417408[_0x117c9f(0x696)](_0x29a75a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x526bd0){return console[_0x117c9f(0x382)]('Erro\x20ao\x20copiar\x20dados:',_0x526bd0),{'success':!0x1,'error':_0x526bd0};}}async[a0_0x27193d(0x3e0)](_0x1a6b4e,_0x504139){const _0x28e225=a0_0x27193d;try{let _0x5b3544=this['getScheduleMessageModelForOwner'](_0x504139);return await new _0x5b3544(_0x1a6b4e)[_0x28e225(0x20a)]();}catch(_0x2b374e){return console[_0x28e225(0x382)](_0x28e225(0x7a3),_0x2b374e),null;}}async['deleteOne'](_0x2e0d2f,_0x499165){const _0x28a1a6=a0_0x27193d;try{return await this[_0x28a1a6(0x6a3)](_0x499165)['findByIdAndDelete'](_0x2e0d2f),{};}catch(_0x52ea67){return{'error':_0x52ea67?.[_0x28a1a6(0x1ec)]()};}}async[a0_0x27193d(0x5f2)](_0x269304,_0x37323a,_0x560625){const _0x13a677=a0_0x27193d;try{return await this['getScheduleMessageModelForOwner'](_0x560625)[_0x13a677(0x2a1)](_0x269304,{'$set':_0x37323a},{'new':!0x0})['lean']();}catch(_0x16c72e){return console[_0x13a677(0x382)](_0x13a677(0x631),_0x16c72e),null;}}async[a0_0x27193d(0x22f)](_0x222601,_0x3bf130,_0x16eb50){const _0x4635dd=a0_0x27193d;try{return await this[_0x4635dd(0x6a3)](_0x16eb50)[_0x4635dd(0x35a)](_0x222601,_0x3bf130,{'new':!0x0})[_0x4635dd(0x72a)]();}catch(_0x199bc4){return console['error'](_0x4635dd(0x631),_0x199bc4),null;}}async[a0_0x27193d(0x76e)](_0x6b15e3,_0x4e61a8){const _0x30546a=a0_0x27193d;try{return await this[_0x30546a(0x6a3)](_0x4e61a8)['find'](_0x6b15e3[_0x30546a(0x3d7)])[_0x30546a(0x410)](_0x6b15e3?.[_0x30546a(0x410)]??0x0)[_0x30546a(0x522)]({'when':0x1})[_0x30546a(0x72a)]();}catch{return[];}}async[a0_0x27193d(0x5d3)](_0xe709d6,_0x4b2e42){const _0x4b3153=a0_0x27193d;try{return await this[_0x4b3153(0x6a3)](_0x4b2e42)[_0x4b3153(0x5d3)](_0xe709d6[_0x4b3153(0x3d7)])[_0x4b3153(0x522)]({'when':0x1})[_0x4b3153(0x72a)]();}catch{return null;}}async[a0_0x27193d(0x21e)](_0x52b5f7,_0x22d2fc){const _0x53d372=a0_0x27193d;try{return await this['getScheduleMessageModelForOwner'](_0x22d2fc)[_0x53d372(0x21e)](_0x52b5f7)[_0x53d372(0x72a)]();}catch{return null;}}async[a0_0x27193d(0x2f2)](_0x4909aa,_0x528f7e){const _0x40903a=a0_0x27193d;try{return{'deletedCount':(await this[_0x40903a(0x6a3)](_0x528f7e)['deleteMany'](_0x4909aa))[_0x40903a(0x398)]};}catch(_0x193e62){return console[_0x40903a(0x382)](_0x40903a(0x4e5),_0x193e62),{'error':_0x193e62};}}async[a0_0x27193d(0x375)](_0x8c16c1){const _0x5ecc73=a0_0x27193d;try{return await this[_0x5ecc73(0x6a3)](_0x8c16c1)[_0x5ecc73(0x2d3)][_0x5ecc73(0x5eb)](),{'success':!0x0};}catch(_0x4b7283){return console[_0x5ecc73(0x382)](_0x4b7283),{'success':!0x1,'error':_0x4b7283};}}},as=class extends D{async[a0_0x27193d(0x31e)](_0x4fbe76,_0x138968){const _0x12cb64=a0_0x27193d;try{if(this[_0x12cb64(0x479)][_0x12cb64(0x323)]){let _0x317c36=await Ue[_0x12cb64(0x2a1)]({'_id':_0x138968},{'$set':_0x4fbe76},{'new':!0x0});return console[_0x12cb64(0x5c8)](_0x12cb64(0x180),_0x317c36),_0x317c36;}}catch(_0x1d70b8){throw console[_0x12cb64(0x382)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x1d70b8),_0x1d70b8;}}async['findOrCreate'](_0x2b21a7){const _0x5ea846=a0_0x27193d;try{let _0x3aef59=await Ue[_0x5ea846(0x21e)](_0x2b21a7);return _0x3aef59||(_0x3aef59=new Ue({'_id':_0x2b21a7}),await _0x3aef59['save']()),_0x3aef59;}catch(_0x4cf25f){return console[_0x5ea846(0x382)](_0x5ea846(0x74a),_0x4cf25f),null;}}},Ai=new v('WA\x20MODULE'),Ii=new Ve(b),xi=new qt(b),Di=new st(b),_i=new Jt(ea,b),Pi=new Xt(na,b),$i=new Zt(ra,b),ki=new es(b),Li=new Vt(b),ji=new ts(b),Fi=new ss(b),Ui=new as(b),ue=new qe(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,N?.[a0_0x27193d(0x268)]()),B=new Ut(ls,b,ue),qi=new zt(b,B,ue),Ji=new Kt(B),Es=new Yt(Ji),x=new Qt(B),oe=new Gt(B,b,ue,ls,qi),G=new Wt(B),_=new Bt(B),F=new Ht(B);Ai[a0_0x27193d(0x551)]('Module\x20-\x20ON');var _h=require(a0_0x27193d(0x4da)),ks=require('fs'),_r=O(require(a0_0x27193d(0x6f6))),Pr=O(require(a0_0x27193d(0x685))),Oe=class c{static #e;static set[a0_0x27193d(0x6b5)](_0x51cb06){this.#e=_0x51cb06;}static get[a0_0x27193d(0x6f6)](){const _0x566a9c=a0_0x27193d;let {FULLCHAIN:_0x2a09c,PRIVKEY:_0x58c0d1}=b['get'](_0x566a9c(0x1c4));return _r[_0x566a9c(0x3af)]({'cert':(0x0,ks[_0x566a9c(0x4af)])(_0x2a09c),'key':(0x0,ks[_0x566a9c(0x4af)])(_0x58c0d1)},c.#e);}static get[a0_0x27193d(0x685)](){const _0x19434a=a0_0x27193d;return Pr[_0x19434a(0x3af)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x27193d(0x107))),Ae=O(require(a0_0x27193d(0x343))),xe=O(require(a0_0x27193d(0x1fb))),De=require(a0_0x27193d(0x1b1));function Vi(){const _0xfe8001=a0_0x27193d;B['loadInstance']();let _0x56531a=xe['default'][_0xfe8001(0x5aa)](__dirname,_0xfe8001(0x12d));Fr(_0x56531a);}var Fr=_0x42aac3=>{const _0x2a1bf7=a0_0x27193d;let _0x305772=pe[_0x2a1bf7(0x359)]['readdirSync'](_0x42aac3),_0x48b351=0xc*0x3c*0x3c*0x3e8,_0x56af68=0x2*0x3c*0x3c*0x3e8,_0x2c7ab2=new Date()[_0x2a1bf7(0x4cc)]();_0x305772[_0x2a1bf7(0x6ff)](_0x396563=>{const _0x53ca13=_0x2a1bf7;let _0x3950ed=xe[_0x53ca13(0x359)]['join'](_0x42aac3,_0x396563),_0x5c1810=pe['default'][_0x53ca13(0x25f)](_0x3950ed)[_0x53ca13(0x417)][_0x53ca13(0x4cc)]();_0x2c7ab2-_0x5c1810>_0x48b351&&(pe[_0x53ca13(0x359)][_0x53ca13(0x521)](_0x3950ed),console[_0x53ca13(0x5c8)]('Deleted\x20'+_0x396563));}),setTimeout(()=>Fr(_0x42aac3),_0x56af68);};function Bi(){const _0x402161=a0_0x27193d;let _0x528db1=new v(_0x402161(0x1d0)),_0x4ef66c=(0x0,he[_0x402161(0x359)])();_0x4ef66c[_0x402161(0x555)]((0x0,jr[_0x402161(0x359)])({'origin'(_0x37d059,_0x26b830){const _0x3c1d5c=_0x402161;let {ORIGIN:_0x177641}=b[_0x3c1d5c(0x30a)]('CORS');return _0x37d059||(_0x37d059='*'),_0x177641[_0x3c1d5c(0x6cb)]('*')!==-0x1||_0x177641['indexOf'](_0x37d059)!==-0x1?_0x26b830(null,!0x0):_0x26b830(new Error(_0x3c1d5c(0x256)));},'methods':[...b[_0x402161(0x30a)](_0x402161(0x15c))[_0x402161(0x346)]],'credentials':b[_0x402161(0x30a)]('CORS')[_0x402161(0x6a6)]}),(0x0,he[_0x402161(0x7b5)])({'extended':!0x0,'limit':_0x402161(0x45c)}),(0x0,he[_0x402161(0x688)])({'limit':'50mb'})),_0x4ef66c[_0x402161(0x555)]((_0x60611a,_0x4c4211,_0x250fb4)=>{const _0x5ab503=_0x402161;_0x60611a['path'][_0x5ab503(0x212)]('/events')?_0x250fb4():(0x0,Lr['default'])()(_0x60611a,_0x4c4211,_0x250fb4);}),_0x4ef66c[_0x402161(0x2c0)](_0x402161(0x430),_0x402161(0x43b)),_0x4ef66c[_0x402161(0x2c0)](_0x402161(0x4cd),(0x0,js[_0x402161(0x5aa)])(ie,_0x402161(0x4cd))),_0x4ef66c[_0x402161(0x555)](he['default'][_0x402161(0x278)]((0x0,js[_0x402161(0x5aa)])(ie,'public'))),_0x4ef66c['use']((_0x49b504,_0x1864d0,_0x4ebcd1)=>{const _0x45c5c0=_0x402161;let _0x306a9c=_0x1864d0[_0x45c5c0(0x389)];_0x1864d0['send']=function(_0x589c7d){const _0x17d4df=_0x45c5c0;if(_0x49b504[_0x17d4df(0x674)]['convert']===_0x17d4df(0x47a)||_0x49b504[_0x17d4df(0x130)][_0x17d4df(0x47e)]===_0x17d4df(0x47a)){let _0x33f31e=JSON[_0x17d4df(0x305)](_0x589c7d);_0x589c7d=JSON['stringify'](_0xa6ef21(_0x33f31e));}return _0x306a9c['apply'](_0x1864d0,[_0x589c7d]);},_0x4ebcd1();}),_0x4ef66c['use']('/',It),_0x4ef66c[_0x402161(0x555)]((_0x6b5917,_0x105555,_0x593e25,_0x287c44)=>{const _0x4d00b4=_0x402161;if(_0x6b5917)return _0x593e25[_0x4d00b4(0x148)](_0x6b5917[_0x4d00b4(0x148)]||0x1f4)[_0x4d00b4(0x688)](_0x6b5917);},(_0xafb492,_0x331821,_0x20472f)=>{const _0x1cd544=_0x402161;let {method:_0x392b42,url:_0x1fd300}=_0xafb492;_0x331821['status'](0x194)['json']({'status':0x194,'message':_0x1cd544(0x5ab)+_0x392b42[_0x1cd544(0x374)]()+'\x20'+_0x1fd300,'error':_0x1cd544(0x5b5)}),_0x20472f();});let _0xa6ef21=(_0xeaaf5b,_0x1b1889='_p_')=>{const _0x1fabc2=_0x402161;let _0x2fc790=(_0x14cac9,_0x530545=null,_0x2d3570=!0x1)=>{const _0x38f6e2=a0_0x4236;let _0x38f496={};return Object[_0x38f6e2(0x28f)](_0x14cac9)[_0x38f6e2(0x6ff)](_0x226aa7=>{const _0x74ce45=_0x38f6e2;let _0x290f3a=_0x14cac9[_0x226aa7],_0x3e3221=''+_0x1b1889+_0x226aa7;_0x530545&&!_0x2d3570&&(_0x3e3221=_0x530545+'.'+_0x226aa7),!_0x290f3a&&_0x290f3a!==0x0&&_0x290f3a!==!0x1||typeof _0x290f3a>'u'?_0x38f496[_0x3e3221]=null:typeof _0x290f3a!=_0x74ce45(0x426)&&!Array[_0x74ce45(0x215)](_0x290f3a)?_0x38f496[_0x3e3221]=_0x290f3a:typeof _0x290f3a==_0x74ce45(0x426)&&!Array['isArray'](_0x290f3a)?_0x38f496=Object[_0x74ce45(0x3f4)](_0x38f496,_0x2fc790(_0x290f3a,_0x3e3221)):Array[_0x74ce45(0x215)](_0x290f3a)&&(typeof _0x290f3a[0x0]==_0x74ce45(0x426)?(_0x38f496[_0x3e3221]=[],_0x290f3a[_0x74ce45(0x6ff)](_0x151caa=>{_0x38f496[_0x3e3221]['push'](_0x2fc790(_0x151caa,_0x3e3221,!0x0));})):_0x38f496[_0x3e3221]=_0x290f3a);}),_0x38f496;};return Array[_0x1fabc2(0x215)](_0xeaaf5b)?_0xeaaf5b[_0x1fabc2(0x5e5)](_0x20d09d=>_0x2fc790(_0x20d09d)):typeof _0xeaaf5b==_0x1fabc2(0x426)&&_0xeaaf5b!==null?_0x2fc790(_0xeaaf5b):{};},_0x2bb4ea=b[_0x402161(0x30a)](_0x402161(0x1d0));Oe[_0x402161(0x6b5)]=_0x4ef66c;let _0x51bbea=Oe[_0x2bb4ea[_0x402161(0x4b6)]],_0x5d5e16=_0x402161(0x5b1);_0x51bbea[_0x402161(0x59f)](_0x2bb4ea[_0x402161(0x5cc)],()=>{const _0x181888=_0x402161;_0x528db1[_0x181888(0x5c8)](_0x5d5e16),_0x528db1[_0x181888(0x5c8)](_0x2bb4ea[_0x181888(0x4b6)][_0x181888(0x374)]()+_0x181888(0x452)+_0x2bb4ea['PORT']);}),Vi(),Hs();}var Gi=a0_0x27193d(0x7c5),Wi=xe['default'][a0_0x27193d(0x5aa)](__dirname,a0_0x27193d(0x6a1)),Ie=null;function zi(){return new Promise((_0x158381,_0x271fa1)=>{const _0x4146e5=a0_0x4236;pe['default'][_0x4146e5(0x3dc)](Wi,_0x4146e5(0x65a),(_0x44768d,_0x5314a7)=>{const _0xb407d1=_0x4146e5;if(_0x44768d){Ie=_0x44768d,_0x158381();return;}Ur[_0xb407d1(0x359)][_0xb407d1(0x305)](_0x5314a7)['remote\x20\x22origin\x22'][_0xb407d1(0x474)]===Gi?(Ie=null,_0x158381()):(Ie=new Error(_0xb407d1(0x61a)),_0x158381());});});}async function Hi(){const _0x507124=a0_0x27193d;try{await zi(),await Fs();}catch(_0x868a88){console['error'](_0x507124(0x46f)+_0x868a88),process[_0x507124(0x66e)](0x1);}}Hi();async function qr(){const _0x4995a8=a0_0x27193d;let _0x11294e;try{_0x11294e=(await Ae[_0x4995a8(0x359)][_0x4995a8(0x30a)]('https://jsonip.com'))[_0x4995a8(0x71b)]['ip'];}catch(_0x48ac78){console['error'](_0x48ac78);try{_0x11294e=(await Ae[_0x4995a8(0x359)][_0x4995a8(0x30a)](_0x4995a8(0x50b)))[_0x4995a8(0x71b)]['ip'];}catch(_0x54565a){console[_0x4995a8(0x382)](_0x54565a);try{_0x11294e=(await Ae[_0x4995a8(0x359)][_0x4995a8(0x30a)](_0x4995a8(0x7cd)))[_0x4995a8(0x71b)][_0x4995a8(0x243)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x52071c){return console[_0x4995a8(0x382)](_0x52071c),!0x1;}}}return _0x11294e;}var $r=0x0;async function Ki(){const _0x29cac8=a0_0x27193d;let _0x4e90cf=await new ne(b[_0x29cac8(0x30a)](_0x29cac8(0x41f)))[_0x29cac8(0x397)]();return console['log']('instancias:\x20',_0x4e90cf['length']),_0x4e90cf['length'];}function Qi(_0x35cd9c){const _0x339b98=a0_0x27193d;let _0x1ae5db=_0x35cd9c[_0x339b98(0x30a)]('SERVER')['URL'],_0x2f2c55=_0x35cd9c[_0x339b98(0x30a)](_0x339b98(0x1c4)),_0x531e16;if(_0x1ae5db){let _0x122ec1=_0x1ae5db[_0x339b98(0x243)](/\/\/(.*?)\./);_0x122ec1&&_0x122ec1[0x1]&&(_0x531e16=_0x122ec1[0x1]);}if(!_0x531e16&&_0x2f2c55&&_0x2f2c55[_0x339b98(0x213)]){let _0x529a94=_0x2f2c55[_0x339b98(0x213)][_0x339b98(0x3d2)]('/'),_0x4dff9d=_0x529a94[_0x529a94[_0x339b98(0x237)]-0x2];if(_0x4dff9d){let _0x185f35=_0x4dff9d['split']('.');_0x185f35['length']>0x2&&(_0x531e16=_0x185f35[0x0]);}}return _0x531e16;}var _s=Qi(b);async function Yi(){const _0x3ec5b5=a0_0x27193d;let _0x2954f1=b[_0x3ec5b5(0x30a)](_0x3ec5b5(0x41f)),_0x5d1194=b[_0x3ec5b5(0x30a)]('AUTHENTICATION')['API_KEY'][_0x3ec5b5(0x407)],_0x503001=b[_0x3ec5b5(0x30a)]('SSL_CONF'),_0x2b7c9b=await qr(),_0x3e08f0=b[_0x3ec5b5(0x30a)](_0x3ec5b5(0x1d0))[_0x3ec5b5(0x5cc)],_0x54241d=b[_0x3ec5b5(0x30a)]('SERVER')[_0x3ec5b5(0x6e2)];try{let _0x20887f={'ip':_0x2b7c9b||null,'redis_enable':_0x2954f1?.[_0x3ec5b5(0x323)]||null,'apikey':_0x5d1194||null,'ssl':_0x503001?.[_0x3ec5b5(0x441)]||null,'lastupdate':Jr||null,'port':_0x3e08f0||null,'gitInstallError':Ie?.[_0x3ec5b5(0x5a7)]||null,'url':_0x54241d||null};if(console[_0x3ec5b5(0x5c8)]('ip:\x20',_0x20887f['ip']),_0x2954f1&&_0x2954f1[_0x3ec5b5(0x323)]){let _0x3fc1d0=await Ki();_0x20887f[_0x3ec5b5(0x2a6)]=_0x3fc1d0||null;}for(let _0x56c176 in _0x20887f)_0x20887f[_0x3ec5b5(0x453)](_0x56c176)&&_0x56c176!=='ip'&&(_0x20887f[_0x56c176]=JSON[_0x3ec5b5(0x4e8)](_0x20887f[_0x56c176]));return(await Ae[_0x3ec5b5(0x359)][_0x3ec5b5(0x263)](_0x3ec5b5(0x584),_0x20887f))[_0x3ec5b5(0x71b)];}catch(_0x1e8c59){return console['error'](_0x1e8c59),!0x1;}}function a0_0x4236(_0x103dd2,_0x446328){const _0x247134=a0_0x2471();return a0_0x4236=function(_0x423690,_0xadb90c){_0x423690=_0x423690-0x106;let _0xb08601=_0x247134[_0x423690];return _0xb08601;},a0_0x4236(_0x103dd2,_0x446328);}var Ls=!0x1,Jr=0x233,Xi=0x3,kr=0x1b7740;async function Fs(){const _0x168bc0=a0_0x27193d;if(!await qr())return console[_0x168bc0(0x382)](_0x168bc0(0x5d0)),'NO_IP';let _0xf94891=await Yi();if(_0xf94891){if(_0xf94891['response'][_0x168bc0(0x6ed)]===!0x0){let _0x2f109e=b[_0x168bc0(0x30a)](_0x168bc0(0x1c4)),_0x278a76=b[_0x168bc0(0x30a)]('SERVER')[_0x168bc0(0x6e2)];_0x2f109e&&_0x2f109e?.[_0x168bc0(0x441)]?.[_0x168bc0(0x53b)](_0x168bc0(0x58d))&&_0xf94891[_0x168bc0(0x657)][_0x168bc0(0x234)]&&!_0x278a76&&(await to(_0xf94891[_0x168bc0(0x657)]['subdomain'],eo),await so(_0x168bc0(0x612),_0xf94891[_0x168bc0(0x657)]['subdomain']),console[_0x168bc0(0x5c8)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>ro(),0x2710)),Ie===null&&_0xf94891[_0x168bc0(0x657)]['last_update']-Jr>0x0&&await Zi(),Ls||(Ls=!0x0,Bi());let _0x59cf03=0x24*0x3c*0x3c,_0x1658aa=_0xf94891[_0x168bc0(0x657)][_0x168bc0(0x768)]>_0x59cf03?_0x59cf03:_0xf94891['response'][_0x168bc0(0x768)],_0x2a4636=Number(_0x1658aa);if(isNaN(_0x2a4636)){console[_0x168bc0(0x382)](_0x168bc0(0x748));return;}let _0x4441a0=Math[_0x168bc0(0x743)](_0x2a4636/0xe10),_0x348166=Math[_0x168bc0(0x743)](_0x2a4636%0xe10/0x3c),_0x1b6e53=new Date(Date[_0x168bc0(0x23b)]()+_0x2a4636*0x3e8);setTimeout(Fs,_0x2a4636*0x3e8);let _0x220ca7=_0x44fe5b=>_0x44fe5b[_0x168bc0(0x1ec)]()['padStart'](0x2,'0'),_0x5fb002=_0x168bc0(0x6cd)+_0x220ca7(_0x4441a0)+_0x168bc0(0x4a8)+_0x220ca7(_0x348166)+'\x20minutos.\x20Será\x20às\x20'+_0x220ca7(_0x1b6e53[_0x168bc0(0x5ca)]())+':'+_0x220ca7(_0x1b6e53[_0x168bc0(0x720)]())+'.';console['log'](_0x5fb002);}else return console[_0x168bc0(0x5c8)](_0x168bc0(0x41e)),Ls&&(console[_0x168bc0(0x5c8)](_0x168bc0(0x2ba)),process['exit']()),_0x168bc0(0x56a);}else{if($r++,$r<Xi)console[_0x168bc0(0x5c8)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+kr/0xea60+'\x20minutos...'),setTimeout(Fs,kr);else return console[_0x168bc0(0x382)](_0x168bc0(0x205)),_0x168bc0(0x580);}}async function Zi(){const _0x1eef0f=a0_0x27193d;console[_0x1eef0f(0x5c8)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x4ddec4=(0x0,De[_0x1eef0f(0x319)])(_0x1eef0f(0x7c9),{'shell':!0x0});_0x4ddec4[_0x1eef0f(0x2e2)]['on'](_0x1eef0f(0x71b),_0x46b5bd=>{const _0x3e33e6=_0x1eef0f;console[_0x3e33e6(0x5c8)](_0x3e33e6(0x3e1)+_0x46b5bd);}),_0x4ddec4[_0x1eef0f(0x45a)]['on'](_0x1eef0f(0x71b),_0x4e7f98=>{const _0x26b890=_0x1eef0f;console[_0x26b890(0x382)](_0x26b890(0x134)+_0x4e7f98);}),_0x4ddec4['on'](_0x1eef0f(0x66e),_0x4a5022=>{const _0x2ecb7f=_0x1eef0f;_0x4a5022!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x4a5022):console['log'](_0x2ecb7f(0x137)),console[_0x2ecb7f(0x5c8)](_0x2ecb7f(0x574)),setTimeout(()=>process[_0x2ecb7f(0x66e)](),0x2710);});}var eo=xe['default'][a0_0x27193d(0x5aa)](__dirname,a0_0x27193d(0x193));async function to(_0x2573f6,_0x3d6f3c){const _0x3d6776=a0_0x27193d;let _0x36b42b=ao();_0x2573f6=_0x2573f6[_0x3d6776(0x468)]('.uazapi.dev','');try{let _0x235ed6=pe['default']['readFileSync'](_0x3d6f3c,_0x3d6776(0x383));_0x235ed6=_0x235ed6[_0x3d6776(0x468)](/<apikey>/,_0x36b42b),_0x235ed6=_0x235ed6[_0x3d6776(0x468)](/<subdomain>/g,_0x2573f6),pe[_0x3d6776(0x359)][_0x3d6776(0x347)](_0x3d6f3c,_0x235ed6,_0x3d6776(0x383)),console[_0x3d6776(0x5c8)](_0x3d6776(0x701));}catch(_0x43e0ee){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x43e0ee);}}function so(_0x1c3b7b,_0x4d04f7){return new Promise((_0x1ac90b,_0x5b7db6)=>{const _0x10bacf=a0_0x4236;let _0x14ba22=(0x0,De['spawn'])(_0x10bacf(0x540),[_0x10bacf(0x7c2),_0x10bacf(0x3cc),'-m',_0x1c3b7b,_0x10bacf(0x5ac),'-d',_0x4d04f7]);_0x14ba22['stdout']['on']('data',_0x525033=>{const _0xaa5cc1=_0x10bacf;console[_0xaa5cc1(0x5c8)](_0xaa5cc1(0x776)+_0x525033['toString']());}),_0x14ba22['stderr']['on'](_0x10bacf(0x71b),_0x29ac9e=>{const _0x2b0c9c=_0x10bacf;console[_0x2b0c9c(0x382)]('Erro\x20do\x20Certbot:\x20'+_0x29ac9e[_0x2b0c9c(0x1ec)]());}),_0x14ba22['on']('close',_0x30952c=>{const _0x2d8895=_0x10bacf;_0x30952c!==0x0?(console[_0x2d8895(0x382)](_0x2d8895(0x1cf)+_0x30952c),_0x5b7db6('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x30952c)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x1ac90b());});});}function ao(_0x23ccce=0x32){const _0x1df314=a0_0x27193d;let _0x263369='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x12ac84='';for(let _0x2fdbab=0x0;_0x2fdbab<_0x23ccce;_0x2fdbab++)_0x12ac84+=_0x263369[_0x1df314(0x780)](Math[_0x1df314(0x743)](Math[_0x1df314(0x303)]()*_0x263369[_0x1df314(0x237)]));return _0x12ac84;}function ro(){const _0x5d04a9=a0_0x27193d;(0x0,De[_0x5d04a9(0x57b)])(_0x5d04a9(0x507),(_0x2e5c64,_0x5c6907,_0x5650b9)=>{const _0x1b34b0=_0x5d04a9;if(_0x2e5c64){console[_0x1b34b0(0x382)](_0x1b34b0(0x716)+_0x2e5c64);return;}if(_0x5650b9){console[_0x1b34b0(0x382)](_0x1b34b0(0x796)+_0x5650b9);return;}console[_0x1b34b0(0x5c8)](_0x1b34b0(0x2cb)+_0x5c6907);});}0x0&&(module[a0_0x27193d(0x16c)]={'subdomain':subdomain});