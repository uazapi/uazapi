const a0_0x187b1e=a0_0xf8f0;(function(_0x405b20,_0x5d63ba){const _0x3d620b=a0_0xf8f0,_0x3a7765=_0x405b20();while(!![]){try{const _0x1cc793=-parseInt(_0x3d620b(0x5bb))/0x1+parseInt(_0x3d620b(0x312))/0x2*(parseInt(_0x3d620b(0x5dc))/0x3)+parseInt(_0x3d620b(0xd1))/0x4+parseInt(_0x3d620b(0x2f5))/0x5*(-parseInt(_0x3d620b(0x472))/0x6)+-parseInt(_0x3d620b(0x165))/0x7*(-parseInt(_0x3d620b(0x5e4))/0x8)+parseInt(_0x3d620b(0x188))/0x9+-parseInt(_0x3d620b(0x56a))/0xa;if(_0x1cc793===_0x5d63ba)break;else _0x3a7765['push'](_0x3a7765['shift']());}catch(_0x589d0b){_0x3a7765['push'](_0x3a7765['shift']());}}}(a0_0x112b,0x4978e));var Lo=Object['create'],ke=Object['defineProperty'],Fo=Object[a0_0x187b1e(0xd3)],Uo=Object[a0_0x187b1e(0x2d8)],Jo=Object[a0_0x187b1e(0x2eb)],qo=Object[a0_0x187b1e(0x42e)][a0_0x187b1e(0x1f1)],Vo=(_0x340872,_0x3e31fb)=>{for(var _0x28090d in _0x3e31fb)ke(_0x340872,_0x28090d,{'get':_0x3e31fb[_0x28090d],'enumerable':!0x0});},Fs=(_0x1da4e7,_0x45f03c,_0x83ceae,_0x5d9e84)=>{const _0xf3e10a=a0_0x187b1e;if(_0x45f03c&&typeof _0x45f03c==_0xf3e10a(0x5ad)||typeof _0x45f03c==_0xf3e10a(0x2e3)){for(let _0x517a9f of Uo(_0x45f03c))!qo['call'](_0x1da4e7,_0x517a9f)&&_0x517a9f!==_0x83ceae&&ke(_0x1da4e7,_0x517a9f,{'get':()=>_0x45f03c[_0x517a9f],'enumerable':!(_0x5d9e84=Fo(_0x45f03c,_0x517a9f))||_0x5d9e84[_0xf3e10a(0xc6)]});}return _0x1da4e7;},T=(_0x192e65,_0xd542e4,_0xeed5f9)=>(_0xeed5f9=_0x192e65!=null?Lo(Jo(_0x192e65)):{},Fs(_0xd542e4||!_0x192e65||!_0x192e65[a0_0x187b1e(0x121)]?ke(_0xeed5f9,a0_0x187b1e(0x605),{'value':_0x192e65,'enumerable':!0x0}):_0xeed5f9,_0x192e65)),Go=_0x51a0d7=>Fs(ke({},a0_0x187b1e(0x121),{'value':!0x0}),_0x51a0d7),ai={};Vo(ai,{'subdomain':()=>xs}),module[a0_0x187b1e(0x1b4)]=Go(ai);var Io=T(require('compression')),Js=require('fs'),qs=require(a0_0x187b1e(0x6e9)),Vs=require(a0_0x187b1e(0x150)),je=require(a0_0x187b1e(0x150)),ne=process[a0_0x187b1e(0x2df)](),me=(0x0,je[a0_0x187b1e(0x119)])(ne,a0_0x187b1e(0x3bb)),Us=(0x0,je['join'])(ne,a0_0x187b1e(0x533)),Ki=(0x0,je['join'])(ne,a0_0x187b1e(0x748),a0_0x187b1e(0x207)),ns=class{constructor(){const _0x28142a=a0_0x187b1e;this[_0x28142a(0x2fb)]();}[a0_0x187b1e(0x8e)](_0x5956dc){const _0x3925e0=a0_0x187b1e;return this[_0x3925e0(0x392)][_0x5956dc];}[a0_0x187b1e(0x2fb)](){const _0x24d67c=a0_0x187b1e;this[_0x24d67c(0x392)]=process[_0x24d67c(0x392)]?.[_0x24d67c(0x36d)]!=='true'?this[_0x24d67c(0x4a1)]():this[_0x24d67c(0x325)](),process[_0x24d67c(0x392)]?.['DOCKER_ENV']===_0x24d67c(0x410)&&(this['env'][_0x24d67c(0x273)][_0x24d67c(0x22c)]='http',this['env'][_0x24d67c(0x273)][_0x24d67c(0x23e)]=Number[_0x24d67c(0x145)](process[_0x24d67c(0x392)]?.[_0x24d67c(0x209)]??_0x24d67c(0x6d8)));}[a0_0x187b1e(0x4a1)](){const _0x3807b8=a0_0x187b1e;return(0x0,qs['load'])((0x0,Js[_0x3807b8(0x50e)])((0x0,Vs[_0x3807b8(0x119)])(Us,_0x3807b8(0xc3)),{'encoding':_0x3807b8(0x21f)}));}[a0_0x187b1e(0x325)](){const _0x3e4a47=a0_0x187b1e;return{'SERVER':{'TYPE':process[_0x3e4a47(0x392)]['SERVER_TYPE'],'PORT':Number[_0x3e4a47(0x145)](process[_0x3e4a47(0x392)][_0x3e4a47(0x209)]),'URL':process[_0x3e4a47(0x392)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x3e4a47(0x392)][_0x3e4a47(0x538)][_0x3e4a47(0x214)](','),'METHODS':process['env'][_0x3e4a47(0x6a2)][_0x3e4a47(0x214)](','),'CREDENTIALS':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x266)]===_0x3e4a47(0x410)},'SSL_CONF':{'PRIVKEY':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x521)],'FULLCHAIN':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x4b6)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x1ae)])?Number[_0x3e4a47(0x145)](process[_0x3e4a47(0x392)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.[_0x3e4a47(0x81)]===_0x3e4a47(0x410),'CONTACTS':process[_0x3e4a47(0x392)]?.['STORE_CONTACTS']===_0x3e4a47(0x410),'CHATS':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x743)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x617)],'PORT':Number[_0x3e4a47(0x145)](process[_0x3e4a47(0x392)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x3e4a47(0x392)][_0x3e4a47(0x554)],'PASSWORD':process[_0x3e4a47(0x392)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x3e4a47(0x392)][_0x3e4a47(0x302)],'DB_PREFIX_NAME':process[_0x3e4a47(0x392)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0xd5)]===_0x3e4a47(0x410)},'REDIS':{'ENABLED':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x2af)]==='true','URI':process[_0x3e4a47(0x392)]['REDIS_URI']||_0x3e4a47(0x2ae),'PREFIX_KEY':process['env'][_0x3e4a47(0x64b)]||_0x3e4a47(0x257)},'LOG':{'LEVEL':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x3f2)][_0x3e4a47(0x214)](','),'COLOR':process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x223)]===_0x3e4a47(0x410)},'PROXY':Number[_0x3e4a47(0x145)](process[_0x3e4a47(0x392)]?.[_0x3e4a47(0x6cd)]),'AUTHENTICATION':{'TYPE':process[_0x3e4a47(0x392)][_0x3e4a47(0x311)],'API_KEY':{'KEY':process[_0x3e4a47(0x392)][_0x3e4a47(0x2b9)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x3e4a47(0x72f)])?Number[_0x3e4a47(0x145)](process['env'][_0x3e4a47(0x72f)]):0xe10,'SECRET':process['env'][_0x3e4a47(0x57b)]}}};}},b=new ns(),xo=T(require(a0_0x187b1e(0x20a))),ge=T(require(a0_0x187b1e(0x2ef))),js=require(a0_0x187b1e(0x150)),cs=T(require(a0_0x187b1e(0x517))),ls=(_0x49a9bd=>(_0x49a9bd[a0_0x187b1e(0x192)]=a0_0x187b1e(0x762),_0x49a9bd['INFO']=a0_0x187b1e(0x509),_0x49a9bd['WARN']=a0_0x187b1e(0x747),_0x49a9bd[a0_0x187b1e(0x221)]=a0_0x187b1e(0x6a5),_0x49a9bd[a0_0x187b1e(0x6b3)]='\x1b[36m',_0x49a9bd['VERBOSE']=a0_0x187b1e(0x269),_0x49a9bd['DARK']=a0_0x187b1e(0x310),_0x49a9bd))(ls||{}),Gs=(_0x28e9e2=>(_0x28e9e2['LOG']='\x1b[32m%s\x1b[0m',_0x28e9e2['DARK']=a0_0x187b1e(0x41d),_0x28e9e2[a0_0x187b1e(0x558)]=a0_0x187b1e(0x9c),_0x28e9e2['WARN']='\x1b[33m%s\x1b[0m',_0x28e9e2[a0_0x187b1e(0x221)]=a0_0x187b1e(0x342),_0x28e9e2['DEBUG']=a0_0x187b1e(0xa7),_0x28e9e2['VERBOSE']=a0_0x187b1e(0x49b),_0x28e9e2))(Gs||{}),Bs=(_0x44de20=>(_0x44de20[a0_0x187b1e(0x192)]='LOG',_0x44de20['WARN']=a0_0x187b1e(0x59f),_0x44de20['INFO']=a0_0x187b1e(0x558),_0x44de20[a0_0x187b1e(0x6d2)]=a0_0x187b1e(0x6d2),_0x44de20[a0_0x187b1e(0x221)]=a0_0x187b1e(0x221),_0x44de20[a0_0x187b1e(0x6b3)]=a0_0x187b1e(0x6b3),_0x44de20['VERBOSE']=a0_0x187b1e(0xef),_0x44de20))(Bs||{}),Ws=(_0x504575=>(_0x504575['LOG']=a0_0x187b1e(0x496),_0x504575['INFO']='\x1b[44m',_0x504575['WARN']=a0_0x187b1e(0x536),_0x504575[a0_0x187b1e(0x6d2)]=a0_0x187b1e(0x29d),_0x504575[a0_0x187b1e(0x221)]='\x1b[41m',_0x504575[a0_0x187b1e(0x6b3)]='\x1b[46m',_0x504575[a0_0x187b1e(0xef)]=a0_0x187b1e(0x331),_0x504575))(Ws||{}),R=class{constructor(_0xf82d5f=a0_0x187b1e(0x70b)){const _0xd1f051=a0_0x187b1e;this[_0xd1f051(0x5f5)]=_0xf82d5f,this[_0xd1f051(0x684)]=b;}['setContext'](_0x4b4aa6){const _0x4bb25f=a0_0x187b1e;this[_0x4bb25f(0x5f5)]=_0x4b4aa6;}[a0_0x187b1e(0x360)](_0x273090,_0x1462c4){const _0x3b5210=a0_0x187b1e;let _0x3202b2=[];this[_0x3b5210(0x684)][_0x3b5210(0x8e)](_0x3b5210(0x192))[_0x3b5210(0x38f)][_0x3b5210(0x4d6)](_0x27ad9c=>_0x3202b2[_0x3b5210(0x764)](Bs[_0x27ad9c]));let _0x4a4791=typeof _0x273090;_0x3202b2[_0x3b5210(0x7e)](_0x1462c4)&&(b[_0x3b5210(0x8e)](_0x3b5210(0x192))[_0x3b5210(0x530)]?(console[_0x3b5210(0x1e1)](_0x3b5210(0x68d)+Gs[_0x1462c4],_0x3b5210(0x13a),(0x0,cs[_0x3b5210(0x605)])()[_0x3b5210(0x433)](_0x3b5210(0x227)),_0x3b5210(0x39d),ls[_0x1462c4]+Ws[_0x1462c4]+_0x3b5210(0x68d),_0x1462c4+_0x3b5210(0x545),'\x1b[33m\x1b[1m',this[_0x3b5210(0x5f5)]+_0x3b5210(0x39d),ls[_0x1462c4],_0x4a4791!==_0x3b5210(0x5ad)?_0x273090:'',_0x3b5210(0x39d)),_0x4a4791===_0x3b5210(0x5ad)&&console[_0x3b5210(0x1e1)](_0x273090,'\x0a')):console['log']((0x0,cs[_0x3b5210(0x605)])()[_0x3b5210(0x433)](_0x3b5210(0x211)),_0x1462c4+'\x20',''+this[_0x3b5210(0x5f5)],_0x273090));}[a0_0x187b1e(0x1e1)](_0x28c1fe){const _0x20697d=a0_0x187b1e;this[_0x20697d(0x360)](_0x28c1fe,'LOG');}[a0_0x187b1e(0x12a)](_0x239c25){const _0x34b93e=a0_0x187b1e;this[_0x34b93e(0x360)](_0x239c25,_0x34b93e(0x558));}[a0_0x187b1e(0x436)](_0x827b01){const _0x40e9ee=a0_0x187b1e;this[_0x40e9ee(0x360)](_0x827b01,'WARN');}[a0_0x187b1e(0x57d)](_0x5d55cf){const _0x312903=a0_0x187b1e;this[_0x312903(0x360)](_0x5d55cf,_0x312903(0x221));}['verbose'](_0xb7a86b){const _0x1da5fe=a0_0x187b1e;this['console'](_0xb7a86b,_0x1da5fe(0xef));}[a0_0x187b1e(0x4b2)](_0x5dce99){const _0x4ab702=a0_0x187b1e;this[_0x4ab702(0x360)](_0x5dce99,_0x4ab702(0x6b3));}[a0_0x187b1e(0x400)](_0x4db6c7){const _0x12b926=a0_0x187b1e;this[_0x12b926(0x360)](_0x4db6c7,_0x12b926(0x6d2));}};function zs(){const _0x3e6d0c=a0_0x187b1e;process['on'](_0x3e6d0c(0x47a),(_0x575bff,_0x164fd7)=>{const _0x500d92=_0x3e6d0c;new R(_0x500d92(0x47a))[_0x500d92(0x57d)]({'origin':_0x164fd7,'stderr':process[_0x500d92(0xf6)]['fd'],'error':_0x575bff});}),process['on'](_0x3e6d0c(0x1d5),(_0x131721,_0xadfb98)=>{const _0x5efdf0=_0x3e6d0c;new R(_0x5efdf0(0x1d5))[_0x5efdf0(0x57d)]({'origin':_0xadfb98,'stderr':process[_0x5efdf0(0xf6)]['fd'],'error':_0x131721});});}var Hs=T(require(a0_0x187b1e(0xa6))),us=new Hs[(a0_0x187b1e(0x605))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x187b1e(0x1fa)),Ce=T(require(a0_0x187b1e(0x1fa))),Le=new R(a0_0x187b1e(0x5ec)),L=b[a0_0x187b1e(0x8e)](a0_0x187b1e(0x228)),O=L[a0_0x187b1e(0x6ad)]?L['CONNECTION'][a0_0x187b1e(0x26e)]?Ce['default'][a0_0x187b1e(0x2a0)](L['CONNECTION'][a0_0x187b1e(0x26e)],{'dbName':L['CONNECTION'][a0_0x187b1e(0x4e3)]+a0_0x187b1e(0x55e)}):Ce[a0_0x187b1e(0x605)][a0_0x187b1e(0x2a0)](a0_0x187b1e(0x4c9)+L[a0_0x187b1e(0x7f)][a0_0x187b1e(0x551)]+':'+L[a0_0x187b1e(0x7f)][a0_0x187b1e(0x23e)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x187b1e(0x5ae)],'pass':L['CONNECTION']['PASSWORD'],'dbName':L[a0_0x187b1e(0x7f)]['DB_PREFIX_NAME']+a0_0x187b1e(0x55e)}):null;L[a0_0x187b1e(0x6ad)]&&Le[a0_0x187b1e(0x12a)](a0_0x187b1e(0x6b8)+O[a0_0x187b1e(0x25e)]);var fe=L[a0_0x187b1e(0x6ad)]?L['CONNECTION'][a0_0x187b1e(0x26e)]?Ce['default'][a0_0x187b1e(0x2a0)](L[a0_0x187b1e(0x7f)][a0_0x187b1e(0x26e)],{'dbName':a0_0x187b1e(0x621)}):Ce[a0_0x187b1e(0x605)][a0_0x187b1e(0x2a0)](a0_0x187b1e(0x4c9)+L[a0_0x187b1e(0x7f)][a0_0x187b1e(0x551)]+':'+L[a0_0x187b1e(0x7f)][a0_0x187b1e(0x23e)]+a0_0x187b1e(0x4ee),{'user':L[a0_0x187b1e(0x7f)]['USER'],'pass':L[a0_0x187b1e(0x7f)][a0_0x187b1e(0xca)],'dbName':a0_0x187b1e(0x316)}):null;fe&&Le[a0_0x187b1e(0x12a)](a0_0x187b1e(0x6b8)+fe[a0_0x187b1e(0x25e)]),process['on'](a0_0x187b1e(0x69c),()=>{const _0x4c39e0=a0_0x187b1e;O&&O[_0x4c39e0(0x750)](()=>{const _0x308cd5=_0x4c39e0;Le[_0x308cd5(0x12a)](_0x308cd5(0x7c));}),fe&&fe[_0x4c39e0(0x750)](()=>{const _0x17fa68=_0x4c39e0;Le['info'](_0x17fa68(0x484));});});var Bo=new we[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we[(a0_0x187b1e(0x52c))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x187b1e(0x52c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x25865c=>{const _0x4c8ce=a0_0x187b1e;let _0x235daf='z_'+_0x25865c+_0x4c8ce(0xe8);return O?.[_0x4c8ce(0x5b6)](_0x4c8ce(0x5b1),Ko,_0x235daf);},Qs=require(a0_0x187b1e(0x1fa)),Qo=new Qs[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x389175=>{let _0x34a525='z_'+_0x389175+'_Contacts';return O?.['model']('ContactModel',Qo,_0x34a525);},Xs=require(a0_0x187b1e(0x1fa)),ds=class{},Yo=new Xs[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x187b1e(0x5b6)](ds[a0_0x187b1e(0x19a)],Yo,'ContactsAndGroups'),ea=require(a0_0x187b1e(0x1fa)),Xo=new ea[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x3dedef=>{const _0x5c87bf=a0_0x187b1e;let _0x1266d0='z_'+_0x3dedef+_0x5c87bf(0x6e6);return O?.[_0x5c87bf(0x5b6)](_0x5c87bf(0x4ac),Xo,_0x1266d0);},sa=require(a0_0x187b1e(0x1fa)),ps=class{},Zo=new sa[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=O?.[a0_0x187b1e(0x5b6)](ps['name'],Zo,'authentication'),oa=require(a0_0x187b1e(0x1fa)),hs=class{},ra=new oa[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x187b1e(0x6d1)](a0_0x187b1e(0x2d4),function(_0x4ba12e){const _0x25592a=a0_0x187b1e;delete this['flowActive'],delete this[_0x25592a(0x1c7)],delete this['flowPrefixCommand'],delete this[_0x25592a(0x637)],delete this['flowStopMinutes'],_0x4ba12e();});function a0_0xf8f0(_0x818ea0,_0x5f320b){const _0x112b30=a0_0x112b();return a0_0xf8f0=function(_0xf8f0a0,_0x12074e){_0xf8f0a0=_0xf8f0a0-0x7c;let _0x28d8b9=_0x112b30[_0xf8f0a0];return _0x28d8b9;},a0_0xf8f0(_0x818ea0,_0x5f320b);}var ia=O?.[a0_0x187b1e(0x5b6)](hs['name'],ra,'webhook'),k=require(a0_0x187b1e(0x1fa)),na=require('uuid'),Fe=class{},ca=new k['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new k[(a0_0x187b1e(0x52c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x187b1e(0x22f)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x187b1e(0x40c)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x187b1e(0xbb)},'pollErrorMessage':{'type':String,'default':a0_0x187b1e(0x3d4)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x187b1e(0x52c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new k[(a0_0x187b1e(0x52c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new k['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new k['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ua=new k[(a0_0x187b1e(0x52c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new k[(a0_0x187b1e(0x52c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x187b1e(0x506)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x31bc5c=a0_0x187b1e;return _0x31bc5c(0x4df)+Math[_0x31bc5c(0x1ca)]()[_0x31bc5c(0x56e)](0x24)[_0x31bc5c(0x634)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x187b1e(0x6d1)](a0_0x187b1e(0x2d4),function(_0x17886d){const _0x1a444f=a0_0x187b1e;let _0x36f87c=new Set(),_0xd5ec2a=new Set(this[_0x1a444f(0x58d)]?.[_0x1a444f(0x687)](_0x3d7e9d=>_0x3d7e9d[_0x1a444f(0x19a)])),_0x27ba5f=JSON['stringify'](this),_0x2153e9=/{{(?!_)([^}]*)}}/g,_0x40aa2b;for(;(_0x40aa2b=_0x2153e9[_0x1a444f(0x43e)](_0x27ba5f))!==null;)_0xd5ec2a[_0x1a444f(0x69f)](_0x40aa2b[0x1])||_0x36f87c[_0x1a444f(0x494)](_0x40aa2b[0x1]);_0x36f87c['size']>0x0?(console[_0x1a444f(0x436)](_0x1a444f(0x6d7),Array[_0x1a444f(0x4d0)](_0x36f87c)),this[_0x1a444f(0x59e)]=Array[_0x1a444f(0x4d0)](_0x36f87c)):this[_0x1a444f(0x59e)]=[],_0x17886d();}),ws[a0_0x187b1e(0x6d1)](a0_0x187b1e(0x56d),function(_0x4dbc0c){const _0x494079=a0_0x187b1e;let _0x445792=this[_0x494079(0xe1)]();if(_0x445792&&typeof _0x445792==_0x494079(0x5ad)&&_0x494079(0x3fe)in _0x445792){let _0x304b67=_0x445792[_0x494079(0x3fe)];if(_0x304b67){let _0x3e7aa2=new Set(),_0x1d0c1c=new Set(_0x304b67[_0x494079(0x58d)]?.[_0x494079(0x687)](_0x268421=>_0x268421[_0x494079(0x19a)])),_0x5f34d3=JSON['stringify'](_0x304b67),_0x43cd62=/{{(?!_)([^}]*)}}/g,_0x571ad5;for(;(_0x571ad5=_0x43cd62[_0x494079(0x43e)](_0x5f34d3))!==null;)_0x1d0c1c[_0x494079(0x69f)](_0x571ad5[0x1])||_0x3e7aa2['add'](_0x571ad5[0x1]);_0x3e7aa2[_0x494079(0x449)]>0x0?(console[_0x494079(0x436)](_0x494079(0x6d7),Array[_0x494079(0x4d0)](_0x3e7aa2)),_0x304b67[_0x494079(0x59e)]=Array['from'](_0x3e7aa2)):_0x304b67[_0x494079(0x59e)]=[],this[_0x494079(0x376)]({'$set':_0x304b67});}}_0x4dbc0c();});var pa=_0x5d2982=>{const _0x31460d=a0_0x187b1e;let _0x25427d='z_'+_0x5d2982+_0x31460d(0x615);return O?.[_0x31460d(0x5b6)]('FlowModel',ws,_0x25427d);},ar=new k['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),or=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]},'chatLog':ar,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x187b1e(0xbb)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x5d87ba=>{const _0x5c2770=a0_0x187b1e;let _0x368fb8='z_'+_0x5d87ba+_0x5c2770(0x532);return O?.[_0x5c2770(0x5b6)](_0x5c2770(0x1b3),or,_0x368fb8);},rr=new k[(a0_0x187b1e(0x52c))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ir=new k['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),nr=new k[(a0_0x187b1e(0x52c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x187b1e(0x403)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ir,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[rr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x1a4544=>{const _0x578c3a=a0_0x187b1e;let _0x2ccc97='z_'+_0x1a4544+_0x578c3a(0x322);return O?.['model'](_0x578c3a(0x299),nr,_0x2ccc97);},ms=class{},En=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),cr=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),lr=new k[(a0_0x187b1e(0x52c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x187b1e(0x674)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ur=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),dr=new k[(a0_0x187b1e(0x52c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ur]},'customFields':{'type':[cr]},'flowConfig':{'type':lr,'default':{}}}),Ue=O?.[a0_0x187b1e(0x5b6)](ms[a0_0x187b1e(0x19a)],dr,'AutomateSystem'),ma=require(a0_0x187b1e(0x1fa)),pr=new ma[(a0_0x187b1e(0x52c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x17e38f=>{const _0xf69e84=a0_0x187b1e;let _0x36ef34='z_'+_0x17e38f+_0xf69e84(0x4da);return O?.[_0xf69e84(0x5b6)](_0xf69e84(0x290),pr,_0x36ef34);},x=class{constructor(_0x352c62){const _0x21a8c3=a0_0x187b1e;this[_0x21a8c3(0x176)]=_0x352c62[_0x21a8c3(0x8e)](_0x21a8c3(0x228));}};function $(_0x16c1b6){const _0x1c37a0=a0_0x187b1e;let _0x337e0c={};for(let [_0x23d5f5,_0x4fbb8c]of Object['entries'](_0x16c1b6))if(typeof _0x4fbb8c=='object'&&!Array['isArray'](_0x4fbb8c)){for(let [_0x885355,_0xae4dd9]of Object[_0x1c37a0(0x466)](_0x4fbb8c))_0x337e0c[_0x23d5f5+'.'+_0x885355]=_0xae4dd9;}else _0x337e0c[_0x23d5f5]=_0x4fbb8c;return _0x337e0c;}var Je=class{constructor(_0x1f8ef0,_0x5afaf7,_0x3324c7,_0x3a7948,_0x48096a,_0x376a57,_0x53d762,_0x105808,_0x358c05,_0x1b8a68,_0x423607,_0x21fbe3){const _0x4fb969=a0_0x187b1e;this[_0x4fb969(0x3df)]=_0x1f8ef0,this[_0x4fb969(0x30d)]=_0x5afaf7,this[_0x4fb969(0x402)]=_0x3324c7,this['cacheContact']=_0x3a7948,this[_0x4fb969(0x2f3)]=_0x48096a,this['auth']=_0x376a57,this[_0x4fb969(0x70a)]=_0x53d762,this[_0x4fb969(0x2a2)]=_0x105808,this['label']=_0x358c05,this[_0x4fb969(0x40e)]=_0x1b8a68,this[_0x4fb969(0x6cf)]=_0x423607,this['dbClient']=_0x21fbe3;}get[a0_0x187b1e(0x37d)](){const _0x1607f3=a0_0x187b1e;return this[_0x1607f3(0x5fb)];}},qe=class{},Ve=class extends x{[a0_0x187b1e(0x42d)](_0x3e935e){return ta(_0x3e935e);}async[a0_0x187b1e(0x37c)](_0x41e2aa,_0x5d61ad){const _0x839b3a=a0_0x187b1e;if(_0x41e2aa[_0x839b3a(0x6ab)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x839b3a(0x42d)](_0x5d61ad)['insertMany']([..._0x41e2aa]))[_0x839b3a(0x6ab)]};}catch(_0x55d38e){return _0x55d38e;}}async[a0_0x187b1e(0x528)](_0x55fb4e,_0x3eeab7){const _0x276355=a0_0x187b1e;try{let _0x791ef5=this['getMessageModelForOwner'](_0x3eeab7),_0x1e019e=$(_0x55fb4e[_0x276355(0x80)]);return await _0x791ef5[_0x276355(0x528)](_0x1e019e)[_0x276355(0x32e)]({'messageTimestamp':-0x1})[_0x276355(0x3a2)](_0x55fb4e?.['limit']??0x0)[_0x276355(0x60c)]();}catch{return[];}}async['delete'](_0x5c7749,_0x141fae){const _0x5f1f8f=a0_0x187b1e;try{let _0x5a8b47=this['getMessageModelForOwner'](_0x141fae),_0x510056=$(_0x5c7749['where']);await _0x5a8b47[_0x5f1f8f(0x526)](_0x510056);}catch(_0x19eb57){console[_0x5f1f8f(0x57d)](_0x19eb57);}}async[a0_0x187b1e(0x297)](_0xa27e6e,_0x252d23,_0x5c7e03){const _0x2b309d=a0_0x187b1e;try{let _0x4cee11=this[_0x2b309d(0x42d)](_0x5c7e03),_0x14ead1=$(_0xa27e6e[_0x2b309d(0x80)]);return await _0x4cee11[_0x2b309d(0x56d)](_0x14ead1,{'$set':_0x252d23},{'new':!0x0});}catch(_0x3e6c3c){throw console['error'](_0x3e6c3c),_0x3e6c3c;}}async[a0_0x187b1e(0x2a6)](_0x45fbe2,_0x5c5dbf){const _0x214719=a0_0x187b1e;if(_0x45fbe2[_0x214719(0x6ab)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x214719(0x42d)](_0x5c5dbf)[_0x214719(0x2a6)]([..._0x45fbe2]))[_0x214719(0x6ab)]};}catch(_0x19e1e7){return console[_0x214719(0x1e1)](_0x214719(0x14b),_0x19e1e7),_0x19e1e7;}}async['deleteAll'](_0x4428eb){const _0x5c8387=a0_0x187b1e;try{return await this[_0x5c8387(0x42d)](_0x4428eb)[_0x5c8387(0x354)][_0x5c8387(0x640)](),{'success':!0x0};}catch(_0x3b5c18){return console[_0x5c8387(0x57d)](_0x3b5c18),{'success':!0x1,'error':_0x3b5c18};}}},Os=T(require(a0_0x187b1e(0x451))),f=T(require('@whiskeysockets/baileys')),Te=require('fs'),F=T(require(a0_0x187b1e(0x150))),K=T(require(a0_0x187b1e(0x5f1))),Co=require(a0_0x187b1e(0x66e)),Eo=T(require(a0_0x187b1e(0x244))),vo=T(require(a0_0x187b1e(0xa3))),wa=[a0_0x187b1e(0x6d9),'documentMessage','audioMessage',a0_0x187b1e(0x4ae),'stickerMessage'],ya=[a0_0x187b1e(0xc5),a0_0x187b1e(0x53a),'viewOnceMessage','viewOnceMessageV2'],Ts=require('os'),Pt=T(require('pino')),$e=require(a0_0x187b1e(0x2c1)),kt=require('node-mime-types'),re=T(require(a0_0x187b1e(0x1fa))),P=require(a0_0x187b1e(0x5a3)),ye=class{constructor(_0x1698e1,_0x4cd610,_0xce5af3){const _0x2113ba=a0_0x187b1e;this[_0x2113ba(0x2b0)]=_0x1698e1,this[_0x2113ba(0x620)]=_0x4cd610,this[_0x2113ba(0x19a)]=_0xce5af3;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},be=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require(a0_0x187b1e(0x2ef))),ba=require('fs'),Sa=require(a0_0x187b1e(0x150));async function Xe(_0x25a22c){const _0x1a2e3e=a0_0x187b1e;let _0x8b17ac=G[_0x1a2e3e(0x3e0)][_0x25a22c];if(L[_0x1a2e3e(0x6ad)]){let _0x3e03db=O[_0x1a2e3e(0x72e)]()['db'](L[_0x1a2e3e(0x7f)][_0x1a2e3e(0x4e3)]+'-instances')[_0x1a2e3e(0x354)](_0x25a22c);return _0x8b17ac||(await _0x3e03db['find']({})[_0x1a2e3e(0x3dd)]())[_0x1a2e3e(0x6ab)]>0x0;}return _0x8b17ac||(0x0,ba[_0x1a2e3e(0x516)])((0x0,Sa[_0x1a2e3e(0x119)])(me,_0x25a22c));}async function Ma(_0x1ed3c9,_0x338f71,_0x134073){const _0x3fd4c8=a0_0x187b1e;if(_0x1ed3c9['originalUrl']['includes'](_0x3fd4c8(0xd8))||_0x1ed3c9['originalUrl'][_0x3fd4c8(0x7e)](_0x3fd4c8(0x47e))||_0x1ed3c9[_0x3fd4c8(0x82)][_0x3fd4c8(0x7e)](_0x3fd4c8(0xe2))||_0x1ed3c9[_0x3fd4c8(0x82)][_0x3fd4c8(0x7e)](_0x3fd4c8(0x28c))||_0x1ed3c9[_0x3fd4c8(0x82)][_0x3fd4c8(0x7e)](_0x3fd4c8(0x55c))||_0x1ed3c9[_0x3fd4c8(0x82)][_0x3fd4c8(0x7e)](_0x3fd4c8(0x757))||_0x1ed3c9[_0x3fd4c8(0x82)][_0x3fd4c8(0x7e)](_0x3fd4c8(0x4c3)))return _0x134073();let _0x393acb=_0x1ed3c9['params'];if(!_0x393acb?.[_0x3fd4c8(0x5a5)])throw new m(_0x3fd4c8(0x1d4));if(!await Xe(_0x393acb[_0x3fd4c8(0x5a5)]))throw new J(_0x3fd4c8(0x37e)+_0x393acb[_0x3fd4c8(0x5a5)]+_0x3fd4c8(0x593));_0x134073();}async function Ca(_0x171446,_0x527ee9,_0xfd5fd1){const _0xf3618f=a0_0x187b1e;if(_0x171446[_0xf3618f(0x82)][_0xf3618f(0x7e)]('/instance/create')){let _0x4124ac=_0x171446['body'];if(await Xe(_0x4124ac[_0xf3618f(0x5a5)]))throw new Q(_0xf3618f(0x510)+_0x4124ac[_0xf3618f(0x5a5)]+_0xf3618f(0x555));G[_0xf3618f(0x3e0)][_0x4124ac[_0xf3618f(0x5a5)]]&&delete G[_0xf3618f(0x3e0)][_0x4124ac[_0xf3618f(0x5a5)]];}_0xfd5fd1();}var Ea=require(a0_0x187b1e(0x5a3)),va=T(require(a0_0x187b1e(0x3e9))),Ze='uazapi',gr=new R(a0_0x187b1e(0x18c));async function mr(_0x5cd08a,_0x40bc9c,_0x563590){const _0x57eac9=a0_0x187b1e;let _0x3a8492=_0x5cd08a['get']('apikey');if(_0x3a8492&&b['get']('AUTHENTICATION')[_0x57eac9(0x9d)][_0x57eac9(0x649)]!==_0x3a8492)throw new se();if(b[_0x57eac9(0x8e)](_0x57eac9(0x5ab))['API_KEY']['KEY']===_0x3a8492)return _0x563590();if((_0x5cd08a[_0x57eac9(0x82)][_0x57eac9(0x7e)](_0x57eac9(0xd8))||_0x5cd08a[_0x57eac9(0x82)][_0x57eac9(0x7e)]('/instance/fetchInstances'))&&!_0x3a8492)throw new Q(_0x57eac9(0x25b),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x38346a=b['get'](_0x57eac9(0x5ab))['JWT'];try{let [_0x21f118,_0x324132]=_0x5cd08a[_0x57eac9(0x8e)](_0x57eac9(0x4c4))[_0x57eac9(0x214)]('\x20');if(_0x21f118[_0x57eac9(0x464)]()!==_0x57eac9(0x4bf))throw new se();if(!(0x0,Ea[_0x57eac9(0x2e5)])(_0x324132))throw new se();let _0x1224a2=_0x5cd08a['params'],_0x3048f4=va[_0x57eac9(0x605)][_0x57eac9(0x6a6)](_0x324132,_0x38346a[_0x57eac9(0x3b3)],{'ignoreExpiration':_0x38346a[_0x57eac9(0x4b8)]===0x0});if(_0x1224a2[_0x57eac9(0x5a5)]!==_0x3048f4[_0x57eac9(0x5a5)]||Ze!==_0x3048f4[_0x57eac9(0x639)])throw new se();return _0x563590();}catch(_0x464a98){throw gr[_0x57eac9(0x57d)](_0x464a98),new se();}}async function fr(_0x530a78,_0x270bec,_0x208774){const _0x2b00eb=a0_0x187b1e;let _0x1299fc=b[_0x2b00eb(0x8e)](_0x2b00eb(0x5ab))[_0x2b00eb(0x9d)],_0x50ec87=_0x530a78[_0x2b00eb(0x8e)]('apikey');if(_0x1299fc[_0x2b00eb(0x649)]===_0x50ec87)return _0x208774();if(_0x530a78[_0x2b00eb(0x82)]['includes'](_0x2b00eb(0xd8))){let _0x418beb=et,_0x4bb094=_0x530a78[_0x2b00eb(0x151)][_0x2b00eb(0x5a5)];if(_0x418beb&&_0x4bb094[_0x2b00eb(0x464)]()[_0x2b00eb(0x375)](_0x418beb[_0x2b00eb(0x464)]()))return _0x208774();if(!_0x50ec87)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x530a78[_0x2b00eb(0x82)][_0x2b00eb(0x7e)]('/instance/fetchInstances')&&!_0x50ec87)throw new Q('Missing\x20global\x20api\x20key',_0x2b00eb(0x265));if(_0x530a78[_0x2b00eb(0x82)][_0x2b00eb(0x7e)](_0x2b00eb(0xe2))&&!_0x50ec87)throw new Q('Missing\x20global\x20api\x20key',_0x2b00eb(0x265));if(_0x530a78['originalUrl'][_0x2b00eb(0x7e)]('/config')&&!_0x50ec87)throw new Q(_0x2b00eb(0x25b),_0x2b00eb(0x265));try{let _0x57d5ee=_0x530a78[_0x2b00eb(0x3a8)],_0x59203e=await de[_0x2b00eb(0x207)][_0x2b00eb(0x528)](_0x57d5ee[_0x2b00eb(0x5a5)]);if(_0x59203e&&_0x59203e[_0x2b00eb(0x704)]===_0x50ec87)return _0x208774();}catch{}throw new se();}var Na={'jwt':mr,'apikey':fr},ro=require('express'),v=require('uuid'),E=(..._0x315e23)=>{const _0x4e3f63=a0_0x187b1e;let _0x582be7={};return _0x315e23[_0x4e3f63(0x4d6)](_0x5bfa7c=>_0x582be7[_0x5bfa7c]={'minLength':0x1,'description':'The\x20\x22'+_0x5bfa7c+_0x4e3f63(0x3ec)}),{'if':{'propertyNames':{'enum':[..._0x315e23]}},'then':{'properties':_0x582be7}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'instanceName':{'type':a0_0x187b1e(0x36c)}},...E('instanceName')},ic={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'oldToken':{'type':a0_0x187b1e(0x36c)}},'required':['oldToken'],...E(a0_0x187b1e(0x523))},nc={'properties':{'key':{'type':a0_0x187b1e(0x5ad),'properties':{'id':{'type':a0_0x187b1e(0x36c)},'remoteJid':{'type':a0_0x187b1e(0x36c)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x187b1e(0x635)],...E('id','remoteJid')},'message':{'type':a0_0x187b1e(0x5ad)}}},Y={'properties':{'delay':{'type':'integer','description':a0_0x187b1e(0xb4)},'presence':{'type':a0_0x187b1e(0x36c),'enum':['unavailable',a0_0x187b1e(0x5bd),a0_0x187b1e(0x425),a0_0x187b1e(0x178),a0_0x187b1e(0x1fb)]}}},z={'type':a0_0x187b1e(0x36c),'description':'Invalid\x20format'},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'text':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x54d)],...E(a0_0x187b1e(0x54d))}},'required':[a0_0x187b1e(0x60b),a0_0x187b1e(0x4e6)]},Oa={'type':'string','pattern':a0_0x187b1e(0x55d),'description':a0_0x187b1e(0x20c)},cc={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...Oa},'options':{...Y},'textMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'text':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x54d)],...E(a0_0x187b1e(0x54d))}},'required':[a0_0x187b1e(0x60b),a0_0x187b1e(0x4e6)]},lc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Oa},'options':{...Y},'mediaMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'mediatype':{'type':a0_0x187b1e(0x36c),'enum':[a0_0x187b1e(0x705),'document',a0_0x187b1e(0x112),a0_0x187b1e(0x6d6)]},'media':{'type':a0_0x187b1e(0x36c)},'fileName':{'type':a0_0x187b1e(0x36c)},'caption':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x756),a0_0x187b1e(0x531)],...E(a0_0x187b1e(0x5d0),a0_0x187b1e(0x177),a0_0x187b1e(0x531))}},'required':[a0_0x187b1e(0x4f9),'number']},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'image':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x705)],...E(a0_0x187b1e(0x705))}},'required':['stickerMessage','number']},$a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x187b1e(0x54d),'image',a0_0x187b1e(0x6d6),a0_0x187b1e(0x112)]},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x187b1e(0x36c)},'font':{'type':a0_0x187b1e(0x539),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x36c),'pattern':'^\x5cd+','description':a0_0x187b1e(0xf7)}},'allContacts':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]}},'required':[a0_0x187b1e(0x5d3),a0_0x187b1e(0x34e)],...E(a0_0x187b1e(0x5d3),a0_0x187b1e(0x34e))}},'required':[a0_0x187b1e(0x103)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'mediatype':{'type':a0_0x187b1e(0x36c),'enum':['image',a0_0x187b1e(0x3c0),'video',a0_0x187b1e(0x6d6)]},'media':{'type':a0_0x187b1e(0x36c)},'fileName':{'type':a0_0x187b1e(0x36c)},'caption':{'type':'string'}},'required':[a0_0x187b1e(0x756),a0_0x187b1e(0x531)],...E(a0_0x187b1e(0x5d0),'caption',a0_0x187b1e(0x531))}},'required':[a0_0x187b1e(0x4f9),a0_0x187b1e(0x4e6)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x6d6)],...E(a0_0x187b1e(0x6d6))}},'required':[a0_0x187b1e(0x738),'number']},xa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'pollMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'name':{'type':a0_0x187b1e(0x36c)},'selectableCount':{'type':a0_0x187b1e(0x4e6)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x187b1e(0x19a),'selectableCount','values'],...E(a0_0x187b1e(0x19a),a0_0x187b1e(0x457),a0_0x187b1e(0x651))}},'required':['number',a0_0x187b1e(0x6eb)]},Da={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'menuMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'text':{'type':a0_0x187b1e(0x36c)},'choices':{'type':a0_0x187b1e(0x43c),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x187b1e(0x148)],...E(a0_0x187b1e(0x54d),a0_0x187b1e(0x148))}},'required':['number',a0_0x187b1e(0x2ce)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'title':{'type':a0_0x187b1e(0x36c)},'description':{'type':a0_0x187b1e(0x36c)},'footerText':{'type':a0_0x187b1e(0x36c)},'buttons':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x5ad),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x734),a0_0x187b1e(0x2d0)],...E('buttonText',a0_0x187b1e(0x2d0))}},'mediaMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'media':{'type':a0_0x187b1e(0x36c)},'fileName':{'type':a0_0x187b1e(0x36c)},'mediatype':{'type':a0_0x187b1e(0x36c),'enum':['image','document',a0_0x187b1e(0x112)]}},'required':[a0_0x187b1e(0x531),'mediatype'],...E(a0_0x187b1e(0x531),a0_0x187b1e(0x5d0))}},'required':['title',a0_0x187b1e(0x4e4)],...E(a0_0x187b1e(0x5f2),a0_0x187b1e(0x46a))}},'required':[a0_0x187b1e(0x4e6),'buttonMessage']},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x187b1e(0x36c)},'address':{'type':'string'}},'required':[a0_0x187b1e(0x395),a0_0x187b1e(0x5f3)],...E(a0_0x187b1e(0x19a),a0_0x187b1e(0x4be))}},'required':[a0_0x187b1e(0x4e6),a0_0x187b1e(0x96)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'title':{'type':a0_0x187b1e(0x36c)},'description':{'type':a0_0x187b1e(0x36c)},'footerText':{'type':a0_0x187b1e(0x36c)},'buttonText':{'type':a0_0x187b1e(0x36c)},'sections':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x5ad),'properties':{'title':{'type':a0_0x187b1e(0x36c)},'rows':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x5ad),'properties':{'title':{'type':a0_0x187b1e(0x36c)},'description':{'type':a0_0x187b1e(0x36c)},'rowId':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x5f2),a0_0x187b1e(0x519)],...E(a0_0x187b1e(0x5f2),a0_0x187b1e(0x519))}}},'required':[a0_0x187b1e(0x5f2),a0_0x187b1e(0x125)],...E(a0_0x187b1e(0x5f2))}}},'required':[a0_0x187b1e(0x5f2),a0_0x187b1e(0x46a),a0_0x187b1e(0x734),'sections'],...E('title',a0_0x187b1e(0x46a),a0_0x187b1e(0x734),'footerText')}},'required':[a0_0x187b1e(0x4e6),'listMessage']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x187b1e(0x43c),'items':{'type':a0_0x187b1e(0x5ad),'properties':{'fullName':{'type':a0_0x187b1e(0x36c)},'phoneNumber':{'type':a0_0x187b1e(0x36c),'minLength':0xa}},'required':['fullName','phoneNumber'],...E(a0_0x187b1e(0x315))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x187b1e(0x3af)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'reactionMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'key':{'type':a0_0x187b1e(0x5ad),'properties':{'id':{'type':a0_0x187b1e(0x36c)},'remoteJid':{'type':a0_0x187b1e(0x36c)},'fromMe':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x187b1e(0x580),'fromMe'],...E('id',a0_0x187b1e(0x580))},'reaction':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0xfe),'reaction'],...E(a0_0x187b1e(0x68f))}},'required':[a0_0x187b1e(0x181)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'numbers':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x36c),'pattern':'^\x5cd+','description':a0_0x187b1e(0x3e4)}}}},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x187b1e(0x36c)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x187b1e(0x36c)}},'required':['id',a0_0x187b1e(0x635),a0_0x187b1e(0x580)],...E('id',a0_0x187b1e(0x580))}}},'required':['readMessages']},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x187b1e(0x372),a0_0x187b1e(0x10a)]},'profile':{'type':a0_0x187b1e(0x36c),'enum':['all',a0_0x187b1e(0x542),a0_0x187b1e(0x3b8),a0_0x187b1e(0x10a)]},'status':{'type':a0_0x187b1e(0x36c),'enum':['all','contacts',a0_0x187b1e(0x3b8),'none']},'online':{'type':a0_0x187b1e(0x36c),'enum':['all',a0_0x187b1e(0x6c8)]},'last':{'type':a0_0x187b1e(0x36c),'enum':[a0_0x187b1e(0x372),a0_0x187b1e(0x542),a0_0x187b1e(0x3b8),a0_0x187b1e(0x10a)]},'groupadd':{'type':a0_0x187b1e(0x36c),'enum':[a0_0x187b1e(0x372),a0_0x187b1e(0x542),a0_0x187b1e(0x3b8),a0_0x187b1e(0x10a)]}},'required':[a0_0x187b1e(0x28b),a0_0x187b1e(0x39c),a0_0x187b1e(0x391),a0_0x187b1e(0x1d2),a0_0x187b1e(0x18f),a0_0x187b1e(0x10e)],...E(a0_0x187b1e(0x28b),a0_0x187b1e(0x39c),'status',a0_0x187b1e(0x1d2),a0_0x187b1e(0x18f),a0_0x187b1e(0x10e))}},'required':['privacySettings']},qa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'lastMessage':{'type':a0_0x187b1e(0x5ad),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x187b1e(0x36c)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x187b1e(0x635),'remoteJid'],...E('id',a0_0x187b1e(0x580))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E(a0_0x187b1e(0x5f4))},'archive':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x187b1e(0x232)]},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x187b1e(0x36c)},'fromMe':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x187b1e(0x36c)},'participant':{'type':a0_0x187b1e(0x36c)}},'required':['id',a0_0x187b1e(0x635),a0_0x187b1e(0x580)],...E('id',a0_0x187b1e(0x580),a0_0x187b1e(0x471))},Ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x187b1e(0x5ad),'properties':{'_id':{'type':a0_0x187b1e(0x36c),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x187b1e(0x36c),'minLength':0x1}},...E(a0_0x187b1e(0xf5),'id',a0_0x187b1e(0x168))}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'name':{'type':a0_0x187b1e(0x36c)}},...E(a0_0x187b1e(0x19a))},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'status':{'type':'string'}},...E(a0_0x187b1e(0x391))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{'type':a0_0x187b1e(0x36c)},'picture':{'type':a0_0x187b1e(0x36c)}}},za={'type':a0_0x187b1e(0x5ad),'properties':{'wuid':{'type':a0_0x187b1e(0x36c)},'name':{'type':a0_0x187b1e(0x36c)},'picture':{'type':a0_0x187b1e(0x36c)},'status':{'type':a0_0x187b1e(0x36c)},'isBusiness':{'type':a0_0x187b1e(0x1e4)}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'where':{'type':a0_0x187b1e(0x5ad),'properties':{'_id':{'type':a0_0x187b1e(0x36c),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x187b1e(0x635),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x187b1e(0x36c),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x187b1e(0x36c),'minLength':0x1,'description':a0_0x187b1e(0x2be)},'fromMe':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x187b1e(0x5ad)}},...E(a0_0x187b1e(0xf5))},'limit':{'type':a0_0x187b1e(0x539)}}},uc={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'where':{'type':a0_0x187b1e(0x5ad),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x187b1e(0x36c)},'id':{'type':a0_0x187b1e(0x36c)},'fromMe':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x187b1e(0x36c)},'status':{'type':a0_0x187b1e(0x36c),'enum':['ERROR',a0_0x187b1e(0x507),a0_0x187b1e(0x741),'DELIVERY_ACK',a0_0x187b1e(0x717),a0_0x187b1e(0x755)]}},...E(a0_0x187b1e(0xf5),'remoteJid','id','status')},'limit':{'type':a0_0x187b1e(0x539)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x187b1e(0x527),a0_0x187b1e(0x5bd),a0_0x187b1e(0x425),a0_0x187b1e(0x178),a0_0x187b1e(0x1fb)]}},'required':[a0_0x187b1e(0x3c2),a0_0x187b1e(0x4e6)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'subject':{'type':a0_0x187b1e(0x36c)},'description':{'type':a0_0x187b1e(0x36c)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x36c),'minLength':0xa,'pattern':a0_0x187b1e(0x4e5),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x187b1e(0x4db)],...E(a0_0x187b1e(0x760),a0_0x187b1e(0x46a),a0_0x187b1e(0x5f6))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'groupJid':{'type':a0_0x187b1e(0x36c),'pattern':a0_0x187b1e(0x4e2)}},'required':[a0_0x187b1e(0x6ed)],...E(a0_0x187b1e(0x6ed))},Ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x187b1e(0x494),a0_0x187b1e(0x409),'promote','demote','reject',a0_0x187b1e(0x492)]},'participants':{'type':a0_0x187b1e(0x43c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x187b1e(0x36c),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x187b1e(0x180)}}},'required':[a0_0x187b1e(0x6ed),'action',a0_0x187b1e(0x4db)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0xcb))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'groupJid':{'type':a0_0x187b1e(0x36c)},'expiration':{'type':a0_0x187b1e(0x4e6),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x187b1e(0x215)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0x215))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'groupJid':{'type':a0_0x187b1e(0x36c)},'image':{'type':'string'}},'required':['groupJid',a0_0x187b1e(0x705)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0x705))},eo={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x187b1e(0x36c)},'description':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x6ed),a0_0x187b1e(0x46a)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0x46a))},to={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'groupJid':{'type':a0_0x187b1e(0x36c)},'name':{'type':a0_0x187b1e(0x36c)}},'required':['groupJid',a0_0x187b1e(0x19a)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0x19a))},so={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x187b1e(0x36c),'enum':['announcement',a0_0x187b1e(0x2a5),a0_0x187b1e(0x5d2),'locked']}},'required':[a0_0x187b1e(0x6ed),a0_0x187b1e(0x2fc)],...E(a0_0x187b1e(0x6ed),a0_0x187b1e(0x2fc))},ao={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x187b1e(0x36c)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x187b1e(0x1e4)},'joinApprovalMode':{'type':a0_0x187b1e(0x1e4)},'expiration':{'type':a0_0x187b1e(0x539),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x187b1e(0x36c)},'image':{'type':a0_0x187b1e(0x36c)}}},ys={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'inviteCode':{'type':a0_0x187b1e(0x36c)}},'required':[a0_0x187b1e(0x463)],...E('inviteCode')},oo={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x187b1e(0x3b2),a0_0x187b1e(0x5bc)]},dc={'$id':(0x0,v['v4'])(),'type':a0_0x187b1e(0x5ad),'properties':{'local_map':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x187b1e(0x1e4),'enum':[!0x0,!0x1]}},'required':[a0_0x187b1e(0x588),'STATUS_INSTANCE',a0_0x187b1e(0x3ff),'MESSAGES_SET',a0_0x187b1e(0x12e),'MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x187b1e(0x15a),a0_0x187b1e(0x172),'CHATS_UPSERT',a0_0x187b1e(0x6c6),'CHATS_DELETE',a0_0x187b1e(0xfc),a0_0x187b1e(0x462),a0_0x187b1e(0x614),a0_0x187b1e(0x272)],...E(a0_0x187b1e(0x588),a0_0x187b1e(0x5b8),a0_0x187b1e(0x3ff),'MESSAGES_SET',a0_0x187b1e(0x12e),a0_0x187b1e(0x69b),'SEND_MESSAGE',a0_0x187b1e(0x349),a0_0x187b1e(0x99),a0_0x187b1e(0x49d),a0_0x187b1e(0x15a),'CHATS_SET','CHATS_UPSERT',a0_0x187b1e(0x6c6),'CHATS_DELETE',a0_0x187b1e(0xfc),a0_0x187b1e(0x462),a0_0x187b1e(0x614),a0_0x187b1e(0x272))},tt=class{},st=class extends x{[a0_0x187b1e(0x216)](_0x12a01c){return Ys(_0x12a01c);}async[a0_0x187b1e(0x37c)](_0x16bcdd){const _0x4d6adb=a0_0x187b1e;if(_0x16bcdd[_0x4d6adb(0x6ab)]!==0x0)try{return{'insertCount':(await this[_0x4d6adb(0x216)](_0x16bcdd[0x0][_0x4d6adb(0xdd)])[_0x4d6adb(0x2a6)]([..._0x16bcdd]))[_0x4d6adb(0x6ab)]};}catch(_0x23b290){return _0x23b290;}}async[a0_0x187b1e(0x6c5)](_0x228d26,_0x4178ed){const _0x47e7c2=a0_0x187b1e;try{return{'deletedCount':(await this[_0x47e7c2(0x216)](_0x4178ed)['deleteMany']({..._0x228d26[_0x47e7c2(0x80)]}))[_0x47e7c2(0x491)]};}catch(_0x2d2768){return{'error':_0x2d2768?.[_0x47e7c2(0x56e)]()};}}async[a0_0x187b1e(0x297)](_0x217329,_0x35a116){const _0x334146=a0_0x187b1e;try{if(_0x217329['length']===0x0)return;let _0x36f831=this[_0x334146(0x216)](_0x35a116),_0x1e7cb3=_0x217329[_0x334146(0x687)](_0x4e88c3=>({'updateOne':{'filter':{'_id':_0x4e88c3[_0x334146(0xf5)],'owner':_0x35a116},'update':{..._0x4e88c3}}})),{modifiedCount:_0x3139c1}=await _0x36f831[_0x334146(0x18e)](_0x1e7cb3);return{'insertCount':_0x3139c1};}catch{return;}}async[a0_0x187b1e(0x528)](_0x193029,_0x464380){const _0x113630=a0_0x187b1e;try{let _0x189c94=this[_0x113630(0x216)](_0x464380),_0x395a69=$(_0x193029['where']);return await _0x189c94[_0x113630(0x528)](_0x395a69)[_0x113630(0x3a2)](_0x193029?.['limit']??0x0)[_0x113630(0x60c)]();}catch{return[];}}async[a0_0x187b1e(0x525)](_0x359b92,_0x4ed054){const _0x323b11=a0_0x187b1e;try{let _0x29d633=this[_0x323b11(0x216)](_0x4ed054),_0x15524a=$(_0x359b92[_0x323b11(0x80)]);return await _0x29d633[_0x323b11(0x525)](_0x15524a)['lean']();}catch{return null;}}async[a0_0x187b1e(0x2a7)](_0x2765d9){const _0x3fd209=a0_0x187b1e;try{return await this[_0x3fd209(0x216)](_0x2765d9)['collection'][_0x3fd209(0x640)](),{'success':!0x0};}catch(_0x51090e){return console['error'](_0x51090e),{'success':!0x1,'error':_0x51090e};}}},at=require(a0_0x187b1e(0x4a0)),Sc=require(a0_0x187b1e(0x560)),bs=new R(a0_0x187b1e(0x195)),V=class{[a0_0x187b1e(0x1a6)](_0xba55ca,_0x8812b4=!0x0){const _0x46a214=a0_0x187b1e;let _0x5a7d0b='/'+_0xba55ca;return _0x8812b4&&(_0x5a7d0b+=_0x46a214(0xb6)),_0x5a7d0b;}async[a0_0x187b1e(0x1e9)](_0x30f70e){const _0x5f9b43=a0_0x187b1e;let {request:_0x598cda,schema:_0x538b7b,ClassRef:_0x14054c,execute:_0x251aab}=_0x30f70e,_0x1d9dfc=new _0x14054c(),_0x36d857=_0x598cda['body'],_0x5d3951=_0x598cda[_0x5f9b43(0x3a8)];_0x598cda?.[_0x5f9b43(0x4ba)]&&Object[_0x5f9b43(0xcf)](_0x598cda[_0x5f9b43(0x4ba)])[_0x5f9b43(0x6ab)]>0x0&&Object['assign'](_0x5d3951,_0x598cda[_0x5f9b43(0x4ba)]),_0x598cda[_0x5f9b43(0x82)]['includes'](_0x5f9b43(0xd8))&&Object[_0x5f9b43(0x5af)](_0x5d3951,_0x36d857),Object[_0x5f9b43(0x5af)](_0x1d9dfc,_0x36d857);let _0x3345ce=_0x538b7b?(0x0,at['validate'])(_0x1d9dfc,_0x538b7b):{'valid':!0x0,'errors':[]};if(!_0x3345ce[_0x5f9b43(0x38e)]){let _0x25c1e8=_0x3345ce[_0x5f9b43(0x504)][_0x5f9b43(0x687)](({property:_0x328dc1,stack:_0x384844,schema:_0x280a7d})=>{const _0x36ca73=_0x5f9b43;let _0x2b6e40;return _0x280a7d[_0x36ca73(0x46a)]?_0x2b6e40=_0x280a7d[_0x36ca73(0x46a)]:_0x2b6e40=_0x384844[_0x36ca73(0x2f2)](_0x36ca73(0x1d6),''),{'property':_0x328dc1[_0x36ca73(0x2f2)](_0x36ca73(0x1d6),''),'message':_0x2b6e40};});throw bs[_0x5f9b43(0x57d)]([..._0x25c1e8]),new m(..._0x25c1e8);}return await _0x251aab(_0x5d3951,_0x1d9dfc);}async['groupValidate'](_0x4eac89){const _0x39ed50=a0_0x187b1e;let {request:_0x5cc879,ClassRef:_0x5f1744,schema:_0x3731d9,execute:_0x54b2be}=_0x4eac89,_0x59d9b3=_0x5cc879['query'];if(!_0x59d9b3?.[_0x39ed50(0x6ed)])throw new m(_0x39ed50(0x14d),_0x39ed50(0x456));let _0x1c2076=_0x5cc879[_0x39ed50(0x3a8)],_0x56aa22=_0x5cc879[_0x39ed50(0x151)],_0x2b375e=new _0x5f1744();Object['assign'](_0x56aa22,_0x59d9b3),Object[_0x39ed50(0x5af)](_0x2b375e,_0x56aa22);let _0x2d8014=(0x0,at[_0x39ed50(0x574)])(_0x2b375e,_0x3731d9);if(!_0x2d8014['valid']){let _0x492331=_0x2d8014['errors'][_0x39ed50(0x687)](({property:_0x24c64f,stack:_0x5025fb,schema:_0xf48067})=>{const _0xcf0a07=_0x39ed50;let _0x36977f;return _0xf48067[_0xcf0a07(0x46a)]?_0x36977f=_0xf48067[_0xcf0a07(0x46a)]:_0x36977f=_0x5025fb[_0xcf0a07(0x2f2)](_0xcf0a07(0x1d6),''),{'property':_0x24c64f[_0xcf0a07(0x2f2)](_0xcf0a07(0x1d6),''),'message':_0x36977f};});throw bs[_0x39ed50(0x57d)]([..._0x492331]),new m(..._0x492331);}return await _0x54b2be(_0x1c2076,_0x2b375e);}async[a0_0x187b1e(0x3de)](_0x298f94){const _0x85b11=a0_0x187b1e;let {request:_0x422019,ClassRef:_0x12b842,schema:_0xf89248,execute:_0x23c2d1}=_0x298f94,_0x430d6d=_0x422019[_0x85b11(0x151)];if(!_0x430d6d?.[_0x85b11(0x463)])throw new m(_0x85b11(0x2e9),_0x85b11(0x470));let _0x5d5b3e=_0x422019[_0x85b11(0x3a8)],_0x165b58=_0x422019[_0x85b11(0x151)],_0x444c93=new _0x12b842();Object[_0x85b11(0x5af)](_0x165b58,_0x430d6d),Object[_0x85b11(0x5af)](_0x444c93,_0x165b58);let _0x32c977=(0x0,at['validate'])(_0x444c93,_0xf89248);if(!_0x32c977[_0x85b11(0x38e)]){let _0x419ed1=_0x32c977[_0x85b11(0x504)]['map'](({property:_0xcb043,stack:_0x45e8cb,schema:_0x5df79e})=>{const _0x24ad53=_0x85b11;let _0x15ae2a;return _0x5df79e['description']?_0x15ae2a=_0x5df79e[_0x24ad53(0x46a)]:_0x15ae2a=_0x45e8cb[_0x24ad53(0x2f2)](_0x24ad53(0x1d6),''),{'property':_0xcb043[_0x24ad53(0x2f2)]('instance.',''),'message':_0x15ae2a};});throw bs[_0x85b11(0x57d)]([..._0x419ed1]),new m(..._0x419ed1);}return await _0x23c2d1(_0x5d5b3e,_0x444c93);}},C=class{},Pc=new R(a0_0x187b1e(0x454)),ot=class extends V{constructor(..._0x48ea03){const _0x4fb64b=a0_0x187b1e;super(),this[_0x4fb64b(0x729)]=(0x0,ro['Router'])(),this[_0x4fb64b(0x729)][_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)]('updatePresence'),..._0x48ea03,async(_0x1aff99,_0xf04e1e)=>{const _0x828cf8=_0x4fb64b;let _0x100bc8=await this['dataValidate']({'request':_0x1aff99,'schema':Ka,'ClassRef':Ge,'execute':(_0x16bb30,_0x46d039)=>_['updatePresence'](_0x16bb30,_0x46d039)});return _0xf04e1e[_0x828cf8(0x391)](0xc9)[_0x828cf8(0x5c7)](_0x100bc8);})[_0x4fb64b(0x682)](this['routerPath'](_0x4fb64b(0x1c4)),..._0x48ea03,async(_0x3c0d6c,_0x1ec0e0)=>{const _0x15f92d=_0x4fb64b;let _0x419c9e=await this[_0x15f92d(0x1e9)]({'request':_0x3c0d6c,'schema':Fa,'ClassRef':Be,'execute':(_0x54ecd8,_0x108f31)=>_[_0x15f92d(0x696)](_0x54ecd8,_0x108f31)});return _0x1ec0e0[_0x15f92d(0x391)](0xc9)[_0x15f92d(0x5c7)](_0x419c9e);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)]('editChat'),..._0x48ea03,async(_0x3a28f2,_0x1acec9)=>{const _0x2df25f=_0x4fb64b;let _0x9dc559=await this[_0x2df25f(0x1e9)]({'request':_0x3a28f2,'schema':N,'ClassRef':C,'execute':(_0x4a9b4c,_0x114af1)=>_[_0x2df25f(0x1f3)](_0x4a9b4c,_0x114af1)});return _0x1acec9[_0x2df25f(0x391)](0xc9)['json'](_0x9dc559);})[_0x4fb64b(0x670)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x255)),..._0x48ea03,async(_0x21e81d,_0x31b90e)=>{const _0xb1e613=_0x4fb64b;let _0x4b0b9f=await this['dataValidate']({'request':_0x21e81d,'schema':Ua,'ClassRef':He,'execute':(_0x233507,_0x4e628a)=>_[_0xb1e613(0x361)](_0x233507,_0x4e628a)});return _0x31b90e[_0xb1e613(0x391)](0xc9)[_0xb1e613(0x5c7)](_0x4b0b9f);})[_0x4fb64b(0x670)](this[_0x4fb64b(0x1a6)]('archiveChat'),..._0x48ea03,async(_0x1cba27,_0x1b2d24)=>{const _0x1f9848=_0x4fb64b;let _0x4dff1a=await this[_0x1f9848(0x1e9)]({'request':_0x1cba27,'schema':qa,'ClassRef':Ke,'execute':(_0x160dba,_0x70664f)=>_[_0x1f9848(0x9a)](_0x160dba,_0x70664f)});return _0x1b2d24[_0x1f9848(0x391)](0xc9)[_0x1f9848(0x5c7)](_0x4dff1a);})[_0x4fb64b(0x6c5)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x4fb)),..._0x48ea03,async(_0x2c7622,_0x4b3cc3)=>{const _0x2efeef=_0x4fb64b;let _0x478199=await this['dataValidate']({'request':_0x2c7622,'schema':Va,'ClassRef':Ye,'execute':(_0x2ec012,_0x3ae570)=>_[_0x2efeef(0x1cc)](_0x2ec012,_0x3ae570)});return _0x4b3cc3['status'](0xc9)[_0x2efeef(0x5c7)](_0x478199);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x277)),..._0x48ea03,async(_0x3e3a95,_0x424f63)=>{const _0x39b3d8=_0x4fb64b;let _0x23fe60=await this[_0x39b3d8(0x1e9)]({'request':_0x3e3a95,'schema':ve,'ClassRef':Ee,'execute':(_0x4faa14,_0x21e953)=>_[_0x39b3d8(0x155)](_0x4faa14,_0x21e953)});return _0x424f63['status'](0xc8)[_0x39b3d8(0x5c7)](_0x23fe60);})['post'](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x278)),..._0x48ea03,async(_0xa82ff4,_0x3ef7f8)=>{const _0x4b99f7=_0x4fb64b;let _0x4d00e7=await this['dataValidate']({'request':_0xa82ff4,'schema':za,'ClassRef':Ee,'execute':(_0x2e33bf,_0x4fce1b)=>_[_0x4b99f7(0x278)](_0x2e33bf,_0x4fce1b)});return _0x3ef7f8[_0x4b99f7(0x391)](0xc8)[_0x4b99f7(0x5c7)](_0x4d00e7);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x4f0)),..._0x48ea03,async(_0x76848b,_0x6d0b27)=>{const _0x3b50dd=_0x4fb64b;let _0x2dbc77=await this[_0x3b50dd(0x1e9)]({'request':_0x76848b,'schema':Ga,'ClassRef':tt,'execute':(_0x271353,_0x3bdd96)=>_[_0x3b50dd(0x33a)](_0x271353,_0x3bdd96)});return _0x6d0b27[_0x3b50dd(0x391)](0xc8)['json'](_0x2dbc77);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x1b1)),..._0x48ea03,async(_0x3d0206,_0x3dfb25)=>{const _0x57c20d=_0x4fb64b;let _0x46967f=await this[_0x57c20d(0x1e9)]({'request':_0x3d0206,'schema':null,'ClassRef':Object,'execute':(_0xdb361f,_0x51f37c)=>_['getBase64FromMediaMessage'](_0xdb361f,_0x51f37c)});return _0x3dfb25[_0x57c20d(0x391)](0xc9)[_0x57c20d(0x5c7)](_0x46967f);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x442)),..._0x48ea03,async(_0x5daa00,_0x379ee0)=>{const _0x243554=_0x4fb64b;let _0xbcea56=await this['dataValidate']({'request':_0x5daa00,'schema':Ha,'ClassRef':qe,'execute':(_0x45ca9f,_0x2ab0f5)=>_['fetchMessages'](_0x45ca9f,_0x2ab0f5)});return _0x379ee0[_0x243554(0x391)](0xc8)[_0x243554(0x5c7)](_0xbcea56);})[_0x4fb64b(0x8e)](this['routerPath'](_0x4fb64b(0x4a4)),..._0x48ea03,async(_0x59582d,_0x101c80)=>{const _0x287e3a=_0x4fb64b;let _0x4b135a=await this[_0x287e3a(0x1e9)]({'request':_0x59582d,'schema':null,'ClassRef':C,'execute':_0x81b3b8=>_[_0x287e3a(0x219)](_0x81b3b8)});return _0x101c80[_0x287e3a(0x391)](0xc8)[_0x287e3a(0x5c7)](_0x4b135a);})[_0x4fb64b(0x8e)](this['routerPath']('findLabels'),..._0x48ea03,async(_0x1a7c6a,_0x4af907)=>{const _0x29aa47=_0x4fb64b;let _0xa23fb4=await this['dataValidate']({'request':_0x1a7c6a,'schema':null,'ClassRef':C,'execute':_0x2983e2=>_[_0x29aa47(0x4c2)](_0x2983e2)});return _0x4af907['status'](0xc8)[_0x29aa47(0x5c7)](_0xa23fb4);})[_0x4fb64b(0x670)](this['routerPath']('importChats'),..._0x48ea03,async(_0x88b3d3,_0x100efb)=>{const _0x33a716=_0x4fb64b;let _0x255fd0=await this[_0x33a716(0x1e9)]({'request':_0x88b3d3,'schema':null,'ClassRef':Array,'execute':(_0x2fb499,_0x2fe099)=>_['importChats'](_0x2fb499,_0x2fe099)});return _0x100efb[_0x33a716(0x391)](0xc8)[_0x33a716(0x5c7)](_0x255fd0);})['get'](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x229)),..._0x48ea03,async(_0x1c80b3,_0x4f1674)=>{const _0x309f73=_0x4fb64b;let _0x4fbe7f=await this[_0x309f73(0x1e9)]({'request':_0x1c80b3,'schema':null,'ClassRef':C,'execute':_0x3d3413=>_[_0x309f73(0x229)](_0x3d3413)});return _0x4f1674[_0x309f73(0x391)](0xc8)[_0x309f73(0x5c7)](_0x4fbe7f);})['put'](this['routerPath'](_0x4fb64b(0x569)),..._0x48ea03,async(_0x256820,_0x1822b3)=>{const _0x22b30e=_0x4fb64b;let _0x2bb67b=await this[_0x22b30e(0x1e9)]({'request':_0x256820,'schema':Ja,'ClassRef':Qe,'execute':(_0x462a6e,_0x1b4ae2)=>_[_0x22b30e(0x569)](_0x462a6e,_0x1b4ae2)});return _0x1822b3['status'](0xc9)[_0x22b30e(0x5c7)](_0x2bb67b);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x296)),..._0x48ea03,async(_0x5301f2,_0x3e0a53)=>{const _0x4ef866=_0x4fb64b;let _0x1bdafd=await this['dataValidate']({'request':_0x5301f2,'schema':ve,'ClassRef':be,'execute':(_0x3a1c2d,_0x1b9a59)=>_['fetchBusinessProfile'](_0x3a1c2d,_0x1b9a59)});return _0x3e0a53[_0x4ef866(0x391)](0xc8)['json'](_0x1bdafd);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)]('updateProfileName'),..._0x48ea03,async(_0x53602b,_0x1011cb)=>{const _0x5491c0=_0x4fb64b;let _0x487ec1=await this['dataValidate']({'request':_0x53602b,'schema':Ba,'ClassRef':We,'execute':(_0x3dbd67,_0x38b082)=>_['updateProfileName'](_0x3dbd67,_0x38b082)});return _0x1011cb[_0x5491c0(0x391)](0xc8)[_0x5491c0(0x5c7)](_0x487ec1);})[_0x4fb64b(0x682)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x5a9)),..._0x48ea03,async(_0x2849b9,_0x3b598e)=>{const _0x258130=_0x4fb64b;let _0x11b24d=await this[_0x258130(0x1e9)]({'request':_0x2849b9,'schema':Wa,'ClassRef':ze,'execute':(_0x3aff2f,_0x3db0dc)=>_[_0x258130(0x5a9)](_0x3aff2f,_0x3db0dc)});return _0x3b598e['status'](0xc8)[_0x258130(0x5c7)](_0x11b24d);})[_0x4fb64b(0x670)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x4d4)),..._0x48ea03,async(_0x2016cf,_0x49473c)=>{const _0x4310e5=_0x4fb64b;let _0x154834=await this[_0x4310e5(0x1e9)]({'request':_0x2016cf,'schema':ve,'ClassRef':be,'execute':(_0x331100,_0x383d86)=>_[_0x4310e5(0x4d4)](_0x331100,_0x383d86)});return _0x49473c[_0x4310e5(0x391)](0xc8)['json'](_0x154834);})[_0x4fb64b(0x6c5)](this[_0x4fb64b(0x1a6)](_0x4fb64b(0x1ef)),..._0x48ea03,async(_0x3cecea,_0x4af220)=>{const _0x5e115f=_0x4fb64b;let _0xebc652=await this[_0x5e115f(0x1e9)]({'request':_0x3cecea,'schema':ve,'ClassRef':be,'execute':(_0xd32eda,_0x4d96b5)=>_['removeProfilePicture'](_0xd32eda,_0x4d96b5)});return _0x4af220[_0x5e115f(0x391)](0xc8)[_0x5e115f(0x5c7)](_0xebc652);});}},io=require(a0_0x187b1e(0x2ef)),rt=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x4a9b6d){const _0x371cc1=a0_0x187b1e;super(),this['router']=(0x0,io['Router'])(),this[_0x371cc1(0x729)]['post'](this['routerPath'](_0x371cc1(0x57f)),..._0x4a9b6d,async(_0x21a856,_0x41fd56)=>{const _0x498c42=_0x371cc1;let _0x8e9c84=await this[_0x498c42(0x1e9)]({'request':_0x21a856,'schema':Qa,'ClassRef':rt,'execute':(_0x15663f,_0x3bd340)=>q[_0x498c42(0x1bb)](_0x15663f,_0x3bd340)});_0x41fd56[_0x498c42(0x391)](0xc9)[_0x498c42(0x5c7)](_0x8e9c84);})['put'](this[_0x371cc1(0x1a6)](_0x371cc1(0x618)),..._0x4a9b6d,async(_0x4bcab9,_0x161e4a)=>{const _0x35660e=_0x371cc1;let _0x1a2cb3=await this[_0x35660e(0x60a)]({'request':_0x4bcab9,'schema':Za,'ClassRef':it,'execute':(_0x2acdc9,_0x37c2ae)=>q[_0x35660e(0x618)](_0x2acdc9,_0x37c2ae)});_0x161e4a[_0x35660e(0x391)](0xc9)[_0x35660e(0x5c7)](_0x1a2cb3);})['put'](this[_0x371cc1(0x1a6)](_0x371cc1(0x2c3)),..._0x4a9b6d,async(_0xa50230,_0x32b3b4)=>{const _0x488bd9=_0x371cc1;let _0x5a736e=await this[_0x488bd9(0x60a)]({'request':_0xa50230,'schema':eo,'ClassRef':nt,'execute':(_0xda6d47,_0x1c7ff2)=>q[_0x488bd9(0x2c3)](_0xda6d47,_0x1c7ff2)});_0x32b3b4[_0x488bd9(0x391)](0xc9)[_0x488bd9(0x5c7)](_0x5a736e);})[_0x371cc1(0x670)](this['routerPath'](_0x371cc1(0x89)),..._0x4a9b6d,async(_0x4a315e,_0x162d69)=>{const _0x419b6c=_0x371cc1;let _0x49a593=await this[_0x419b6c(0x60a)]({'request':_0x4a315e,'schema':to,'ClassRef':ct,'execute':(_0x1b47f7,_0xb87181)=>q[_0x419b6c(0x89)](_0x1b47f7,_0xb87181)});_0x162d69[_0x419b6c(0x391)](0xc9)[_0x419b6c(0x5c7)](_0x49a593);})[_0x371cc1(0x670)](this[_0x371cc1(0x1a6)](_0x371cc1(0x140)),..._0x4a9b6d,async(_0x44028d,_0x1efcb1)=>{const _0x4a2837=_0x371cc1;let _0x31f969=await this[_0x4a2837(0x60a)]({'request':_0x44028d,'schema':ao,'ClassRef':ut,'execute':(_0x38ecb5,_0x4b17aa)=>q[_0x4a2837(0x140)](_0x38ecb5,_0x4b17aa)});_0x1efcb1['status'](0xc9)['json'](_0x31f969);})['put'](this[_0x371cc1(0x1a6)](_0x371cc1(0x65d)),..._0x4a9b6d,async(_0x273bf9,_0x3f3479)=>{const _0x4fe90a=_0x371cc1;let _0xdbba58=await this[_0x4fe90a(0x60a)]({'request':_0x273bf9,'schema':so,'ClassRef':lt,'execute':(_0x2b9200,_0x5e5861)=>q[_0x4fe90a(0x65d)](_0x2b9200,_0x5e5861)});_0x3f3479[_0x4fe90a(0x391)](0xc9)['json'](_0xdbba58);})[_0x371cc1(0x670)](this[_0x371cc1(0x1a6)](_0x371cc1(0x41a)),..._0x4a9b6d,async(_0x59c46f,_0xa61ca6)=>{const _0x29a28a=_0x371cc1;let _0x36a60d=await this[_0x29a28a(0x60a)]({'request':_0x59c46f,'schema':Xa,'ClassRef':pt,'execute':(_0x1b99ec,_0xcef621)=>q[_0x29a28a(0x41a)](_0x1b99ec,_0xcef621)});_0xa61ca6[_0x29a28a(0x391)](0xc9)[_0x29a28a(0x5c7)](_0x36a60d);})[_0x371cc1(0x8e)](this[_0x371cc1(0x1a6)](_0x371cc1(0x71f)),..._0x4a9b6d,async(_0x2c68ad,_0xfc3d56)=>{const _0x5660d9=_0x371cc1;let _0x161a38=await this[_0x5660d9(0x60a)]({'request':_0x2c68ad,'schema':Ne,'ClassRef':X,'execute':(_0x41ffcb,_0x5abf11)=>q[_0x5660d9(0x136)](_0x41ffcb,_0x5abf11)});_0xfc3d56['status'](0xc8)[_0x5660d9(0x5c7)](_0x161a38);})['get'](this[_0x371cc1(0x1a6)]('findGroups'),..._0x4a9b6d,async(_0x4715fe,_0x47a9ed)=>{const _0x46ed10=_0x371cc1;let _0x496d06=await this['dataValidate']({'request':_0x4715fe,'schema':N,'ClassRef':C,'execute':_0x2bab6d=>q[_0x46ed10(0x434)](_0x2bab6d)});_0x47a9ed['status'](0xc8)[_0x46ed10(0x5c7)](_0x496d06);})['get'](this[_0x371cc1(0x1a6)]('participants'),..._0x4a9b6d,async(_0x8631a8,_0x30cefb)=>{const _0x183a77=_0x371cc1;let _0x41e65c=await this[_0x183a77(0x60a)]({'request':_0x8631a8,'schema':Ne,'ClassRef':X,'execute':(_0x221a24,_0x1e574a)=>q[_0x183a77(0x2c8)](_0x221a24,_0x1e574a)});_0x30cefb[_0x183a77(0x391)](0xc8)[_0x183a77(0x5c7)](_0x41e65c);})[_0x371cc1(0x8e)](this['routerPath'](_0x371cc1(0x463)),..._0x4a9b6d,async(_0x5b385e,_0x32c0ff)=>{const _0x238e24=_0x371cc1;let _0x209803=await this[_0x238e24(0x60a)]({'request':_0x5b385e,'schema':Ne,'ClassRef':X,'execute':(_0x47cbad,_0x58e33a)=>q['inviteCode'](_0x47cbad,_0x58e33a)});_0x32c0ff['status'](0xc8)['json'](_0x209803);})[_0x371cc1(0x682)](this[_0x371cc1(0x1a6)](_0x371cc1(0x489)),..._0x4a9b6d,async(_0x546cef,_0x48768c)=>{const _0x142003=_0x371cc1;let _0x334d13=await this[_0x142003(0x3de)]({'request':_0x546cef,'schema':ys,'ClassRef':Re,'execute':(_0x3958a5,_0x3b1a13)=>q[_0x142003(0x251)](_0x3958a5,_0x3b1a13)});_0x48768c[_0x142003(0x391)](0xc9)[_0x142003(0x5c7)](_0x334d13);})[_0x371cc1(0x670)](this[_0x371cc1(0x1a6)](_0x371cc1(0x3ce)),..._0x4a9b6d,async(_0xb0e8d2,_0x57352b)=>{const _0x38c1d2=_0x371cc1;let _0x49c0cd=await this[_0x38c1d2(0x3de)]({'request':_0xb0e8d2,'schema':ys,'ClassRef':Re,'execute':(_0x468701,_0x4d521b)=>q['joinGroup'](_0x468701,_0x4d521b)});_0x57352b[_0x38c1d2(0x391)](0xc9)[_0x38c1d2(0x5c7)](_0x49c0cd);})[_0x371cc1(0x670)](this[_0x371cc1(0x1a6)](_0x371cc1(0x1e2)),..._0x4a9b6d,async(_0x34d04a,_0x94b060)=>{const _0x4b4b37=_0x371cc1;let _0x341753=await this[_0x4b4b37(0x60a)]({'request':_0x34d04a,'schema':Ne,'ClassRef':X,'execute':(_0x41132b,_0xacbcc3)=>q['revokeInviteCode'](_0x41132b,_0xacbcc3)});_0x94b060[_0x4b4b37(0x391)](0xc9)['json'](_0x341753);})[_0x371cc1(0x670)](this[_0x371cc1(0x1a6)](_0x371cc1(0x2b7)),..._0x4a9b6d,async(_0x192611,_0x19f8c0)=>{const _0x5963e4=_0x371cc1;let _0x4b1c9f=await this['groupValidate']({'request':_0x192611,'schema':Ya,'ClassRef':dt,'execute':(_0xb054da,_0x46994e)=>q[_0x5963e4(0x1dd)](_0xb054da,_0x46994e)});_0x19f8c0[_0x5963e4(0x391)](0xc9)[_0x5963e4(0x5c7)](_0x4b1c9f);})[_0x371cc1(0x6c5)](this[_0x371cc1(0x1a6)](_0x371cc1(0x54b)),..._0x4a9b6d,async(_0x2d5756,_0x20347d)=>{const _0x2a40a4=_0x371cc1;let _0x5671b8=await this[_0x2a40a4(0x60a)]({'request':_0x2d5756,'schema':{},'ClassRef':X,'execute':(_0xf7bfe,_0x16ffa1)=>q[_0x2a40a4(0x54b)](_0xf7bfe,_0x16ffa1)});_0x20347d['status'](0xc8)[_0x2a40a4(0x5c7)](_0x5671b8);});}},no=require('express'),gt=class extends V{constructor(_0x258281,..._0x299925){const _0x33e294=a0_0x187b1e;super(),this[_0x33e294(0x684)]=_0x258281,this['router']=(0x0,no[_0x33e294(0x1b7)])();let _0x27eec9=_0x258281['get'](_0x33e294(0x5ab));this['router'][_0x33e294(0x682)]('/create',..._0x299925,async(_0xe01c6c,_0x224e16)=>{const _0x118fe4=_0x33e294;let {instanceName:_0x461ce3,apikey:_0x444227,number:_0x4b408d}=_0xe01c6c[_0x118fe4(0x151)],_0x23c4ca=await ce[_0x118fe4(0x1b8)]({'instanceName':_0x461ce3,'apikey':_0x444227,'number':_0x4b408d});return _0x224e16[_0x118fe4(0x391)](0xc9)[_0x118fe4(0x5c7)](_0x23c4ca);})[_0x33e294(0x670)](this[_0x33e294(0x1a6)]('restart'),..._0x299925,async(_0x3f6be3,_0x2f52a9)=>{const _0x5eefc0=_0x33e294;let _0x6aa611=await this[_0x5eefc0(0x1e9)]({'request':_0x3f6be3,'schema':N,'ClassRef':C,'execute':_0x2ef450=>ce[_0x5eefc0(0x5c2)](_0x2ef450)});return _0x2f52a9[_0x5eefc0(0x391)](0xc8)[_0x5eefc0(0x5c7)](_0x6aa611);})['get'](this['routerPath'](_0x33e294(0x587)),..._0x299925,async(_0x2353cc,_0xb91933)=>{const _0x48aca0=_0x33e294;let _0x5452d0=await this[_0x48aca0(0x1e9)]({'request':_0x2353cc,'schema':N,'ClassRef':C,'execute':_0x54d8ea=>ce['connectToWhatsappController'](_0x54d8ea)});return _0xb91933[_0x48aca0(0x391)](0xc8)[_0x48aca0(0x5c7)](_0x5452d0);})[_0x33e294(0x8e)](this[_0x33e294(0x1a6)](_0x33e294(0x5d9)),..._0x299925,async(_0x38b0d2,_0x1ae9ab)=>{const _0xe88c22=_0x33e294;let _0x59d4f3=await this['dataValidate']({'request':_0x38b0d2,'schema':N,'ClassRef':C,'execute':_0x22bd53=>ce['connectionState'](_0x22bd53)});return _0x1ae9ab[_0xe88c22(0x391)](0xc8)[_0xe88c22(0x5c7)](_0x59d4f3);})[_0x33e294(0x8e)](this[_0x33e294(0x1a6)](_0x33e294(0x108),!0x1),..._0x299925,async(_0x520247,_0x441924)=>{const _0x4083e4=_0x33e294;let _0x12f439=await this[_0x4083e4(0x1e9)]({'request':_0x520247,'schema':null,'ClassRef':C,'execute':_0x1d0a43=>ce[_0x4083e4(0x108)](_0x1d0a43)});return _0x441924[_0x4083e4(0x391)](0xc8)[_0x4083e4(0x5c7)](_0x12f439);})[_0x33e294(0x6c5)](this[_0x33e294(0x1a6)](_0x33e294(0x4d3)),..._0x299925,async(_0x20ca35,_0x520b70)=>{const _0xd2a91f=_0x33e294;let _0x5092d8=await this[_0xd2a91f(0x1e9)]({'request':_0x20ca35,'schema':N,'ClassRef':C,'execute':_0x3569f1=>ce[_0xd2a91f(0x4d3)](_0x3569f1)});return _0x520b70[_0xd2a91f(0x391)](0xc8)[_0xd2a91f(0x5c7)](_0x5092d8);})[_0x33e294(0x6c5)](this[_0x33e294(0x1a6)](_0x33e294(0x6c5)),..._0x299925,async(_0x4595d7,_0x133690)=>{const _0x67a3ed=_0x33e294;let _0x1705ec=await this['dataValidate']({'request':_0x4595d7,'schema':N,'ClassRef':C,'execute':_0x24449f=>ce['deleteInstance'](_0x24449f)});return _0x133690[_0x67a3ed(0x391)](0xc8)[_0x67a3ed(0x5c7)](_0x1705ec);});}},co=require(a0_0x187b1e(0x2ef)),Ss=class{},W=class extends Ss{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Oe=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x4b695f){const _0x1769d7=a0_0x187b1e;super(),this[_0x1769d7(0x729)]=(0x0,co['Router'])(),this[_0x1769d7(0x729)][_0x1769d7(0x682)](this[_0x1769d7(0x1a6)]('sendText'),..._0x4b695f,async(_0x344c38,_0x122b13)=>{const _0x10bc41=_0x1769d7;let _0x5ded35=await this[_0x10bc41(0x1e9)]({'request':_0x344c38,'schema':Ra,'ClassRef':mt,'execute':(_0x2921fd,_0x5e4f24)=>B[_0x10bc41(0x202)](_0x2921fd,_0x5e4f24)});return _0x122b13[_0x10bc41(0x391)](0xc9)['json'](_0x5ded35);})['post'](this[_0x1769d7(0x1a6)](_0x1769d7(0x5fa)),..._0x4b695f,async(_0x40f05b,_0x52bb7e)=>{const _0x3e5604=_0x1769d7;let _0x3aa949=await this[_0x3e5604(0x1e9)]({'request':_0x40f05b,'schema':Aa,'ClassRef':Oe,'execute':(_0x23d323,_0x3c76eb)=>B[_0x3e5604(0x5fa)](_0x23d323,_0x3c76eb)});return _0x52bb7e['status'](0xc9)[_0x3e5604(0x5c7)](_0x3aa949);})['post'](this[_0x1769d7(0x1a6)](_0x1769d7(0x591)),..._0x4b695f,async(_0xed4957,_0x387440)=>{const _0x5a5184=_0x1769d7;let _0xf23011=await this[_0x5a5184(0x1e9)]({'request':_0xed4957,'schema':Da,'ClassRef':yt,'execute':(_0x29a3be,_0x257776)=>B[_0x5a5184(0x591)](_0x29a3be,_0x257776)});return _0x387440['status'](0xc9)[_0x5a5184(0x5c7)](_0xf23011);})[_0x1769d7(0x682)](this['routerPath']('sendWhatsAppAudio'),..._0x4b695f,async(_0x274bcd,_0x1b733c)=>{const _0xf708f6=_0x1769d7;let _0x518a24=await this[_0xf708f6(0x1e9)]({'request':_0x274bcd,'schema':Ia,'ClassRef':Oe,'execute':(_0xcc8061,_0x3dd015)=>B[_0xf708f6(0x4dd)](_0xcc8061,_0x3dd015)});return _0x1b733c['status'](0xc9)[_0xf708f6(0x5c7)](_0x518a24);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)](_0x1769d7(0x548)),..._0x4b695f,async(_0x216e4a,_0x13ab9f)=>{const _0x7b988a=_0x1769d7;let _0x2cb5b0=await this[_0x7b988a(0x1e9)]({'request':_0x216e4a,'schema':_a,'ClassRef':St,'execute':(_0xb7e938,_0xf472bc)=>B[_0x7b988a(0x548)](_0xb7e938,_0xf472bc)});return _0x13ab9f[_0x7b988a(0x391)](0xc9)['json'](_0x2cb5b0);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)](_0x1769d7(0x164)),..._0x4b695f,async(_0x53d40b,_0x4ad45c)=>{const _0xe428dd=_0x1769d7;let _0x355f10=await this['dataValidate']({'request':_0x53d40b,'schema':Pa,'ClassRef':Mt,'execute':(_0x50e220,_0x470940)=>B[_0xe428dd(0x164)](_0x50e220,_0x470940)});return _0x4ad45c[_0xe428dd(0x391)](0xc9)[_0xe428dd(0x5c7)](_0x355f10);})[_0x1769d7(0x682)](this['routerPath'](_0x1769d7(0x3bd)),..._0x4b695f,async(_0x8141fa,_0x18147b)=>{const _0x4b14b7=_0x1769d7;let _0xc6b782=await this[_0x4b14b7(0x1e9)]({'request':_0x8141fa,'schema':ka,'ClassRef':Ct,'execute':(_0x4be6ad,_0x3326cf)=>B[_0x4b14b7(0x3bd)](_0x4be6ad,_0x3326cf)});return _0x18147b[_0x4b14b7(0x391)](0xc9)[_0x4b14b7(0x5c7)](_0xc6b782);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)]('sendContact'),..._0x4b695f,async(_0x2f9ba1,_0x5c5cbe)=>{const _0x561996=_0x1769d7;let _0x368377=await this[_0x561996(0x1e9)]({'request':_0x2f9ba1,'schema':ja,'ClassRef':Et,'execute':(_0x107488,_0xaa76ff)=>B[_0x561996(0x612)](_0x107488,_0xaa76ff)});return _0x5c5cbe[_0x561996(0x391)](0xc9)[_0x561996(0x5c7)](_0x368377);})['post'](this[_0x1769d7(0x1a6)]('sendReaction'),..._0x4b695f,async(_0xa1f0b5,_0x483799)=>{const _0x5c6a7c=_0x1769d7;let _0x33c3e7=await this[_0x5c6a7c(0x1e9)]({'request':_0xa1f0b5,'schema':La,'ClassRef':vt,'execute':(_0x576358,_0x108220)=>B[_0x5c6a7c(0x646)](_0x576358,_0x108220)});return _0x483799[_0x5c6a7c(0x391)](0xc9)['json'](_0x33c3e7);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)](_0x1769d7(0x3ad)),..._0x4b695f,async(_0x4be40e,_0xe39c5e)=>{const _0x6355d1=_0x1769d7;let _0x4bbd86=await this[_0x6355d1(0x1e9)]({'request':_0x4be40e,'schema':xa,'ClassRef':wt,'execute':(_0x548bfd,_0x533ff2)=>B[_0x6355d1(0x3ad)](_0x548bfd,_0x533ff2)});return _0xe39c5e[_0x6355d1(0x391)](0xc9)['json'](_0x4bbd86);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)]('sendStatus'),..._0x4b695f,async(_0x2497de,_0x49b3ef)=>{const _0x13c6a2=_0x1769d7;let _0xcb46a2=await this[_0x13c6a2(0x1e9)]({'request':_0x2497de,'schema':$a,'ClassRef':ft,'execute':(_0x29fb4e,_0x5071d7)=>B[_0x13c6a2(0x371)](_0x29fb4e,_0x5071d7)});return _0x49b3ef[_0x13c6a2(0x391)](0xc9)[_0x13c6a2(0x5c7)](_0xcb46a2);})[_0x1769d7(0x682)](this[_0x1769d7(0x1a6)](_0x1769d7(0x243)),..._0x4b695f,async(_0x48bb3c,_0x244d1d)=>{const _0x13a68f=_0x1769d7;let _0x2ae906=await this[_0x13a68f(0x1e9)]({'request':_0x48bb3c,'schema':Ta,'ClassRef':bt,'execute':(_0x13d50b,_0x2ba69b)=>B[_0x13a68f(0x243)](_0x13d50b,_0x2ba69b)});return _0x244d1d['status'](0xc9)[_0x13a68f(0x5c7)](_0x2ae906);});}},lo=require(a0_0x187b1e(0x2ef)),Rt=class{},Ot=class extends V{constructor(..._0x5122c0){const _0xb0f08b=a0_0x187b1e;super(),this[_0xb0f08b(0x729)]=(0x0,lo[_0xb0f08b(0x1b7)])(),this[_0xb0f08b(0x729)][_0xb0f08b(0x682)](this[_0xb0f08b(0x1a6)](_0xb0f08b(0x175)),..._0x5122c0,async(_0x25d6ed,_0x444fe9)=>{const _0x4a1f93=_0xb0f08b;let _0x231548=await this[_0x4a1f93(0x1e9)]({'request':_0x25d6ed,'schema':oo,'ClassRef':Rt,'execute':(_0x193d79,_0x22c327)=>Ms[_0x4a1f93(0x459)](_0x193d79,_0x22c327)});_0x444fe9['status'](0xc9)[_0x4a1f93(0x5c7)](_0x231548);})['get'](this[_0xb0f08b(0x1a6)]('find'),..._0x5122c0,async(_0x4516ec,_0x3ad328)=>{const _0x5c589c=_0xb0f08b;let _0x306202=await this[_0x5c589c(0x1e9)]({'request':_0x4516ec,'schema':N,'ClassRef':C,'execute':_0x52fff4=>Ms['findWebhook'](_0x52fff4)});_0x3ad328[_0x5c589c(0x391)](0xc8)['json'](_0x306202);});}},uo=require(a0_0x187b1e(0x2ef)),y=new R(a0_0x187b1e(0x35c)),Tt=class extends V{constructor(..._0x41ebd5){const _0x8ee858=a0_0x187b1e;super(),this[_0x8ee858(0x729)]=(0x0,uo['Router'])(),this[_0x8ee858(0x729)]['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x40e)),..._0x41ebd5,async(_0x3d9602,_0x2825a9)=>{const _0x2be575=_0x8ee858;let _0x579d36=_0x3d9602[_0x2be575(0x151)];y[_0x2be575(0x4e0)](_0x2be575(0x35d)),y[_0x2be575(0x4e0)](_0x2be575(0x3f1)),y[_0x2be575(0x4e0)](_0x3d9602[_0x2be575(0x151)]);let _0x57c4c2=await this[_0x2be575(0x1e9)]({'request':_0x3d9602,'schema':N,'ClassRef':C,'execute':_0xbe6c5e=>A[_0x2be575(0xd0)](_0xbe6c5e,_0x579d36)});_0x2825a9[_0x2be575(0x391)](0xc8)['json'](_0x57c4c2);})['get'](this[_0x8ee858(0x1a6)]('scheduleMessage'),..._0x41ebd5,async(_0x4dd73c,_0x1da414)=>{const _0x15791c=_0x8ee858;let _0x3a4b8f=await this[_0x15791c(0x1e9)]({'request':_0x4dd73c,'schema':N,'ClassRef':C,'execute':_0x5a7d09=>A[_0x15791c(0x669)](_0x5a7d09)});_0x1da414[_0x15791c(0x391)](0xc8)[_0x15791c(0x5c7)](_0x3a4b8f);})[_0x8ee858(0x6c5)](this[_0x8ee858(0x1a6)](_0x8ee858(0x597)),..._0x41ebd5,async(_0xe27386,_0xfb6276)=>{const _0x2647bf=_0x8ee858;y['verbose'](_0x2647bf(0x3d9));let _0x5d7b33=await this['dataValidate']({'request':_0xe27386,'schema':N,'ClassRef':C,'execute':_0x29ff1a=>A[_0x2647bf(0x597)](_0x29ff1a)});_0xfb6276[_0x2647bf(0x391)](0xc8)[_0x2647bf(0x5c7)](_0x5d7b33);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x577)),..._0x41ebd5,async(_0x54e2b1,_0xfa3101)=>{const _0x4acf91=_0x8ee858;let _0x5a2644=_0x54e2b1['body'];y['verbose'](_0x4acf91(0x34f)),y['verbose'](_0x4acf91(0x3f1)),y[_0x4acf91(0x4e0)](_0x54e2b1[_0x4acf91(0x151)]);let _0x1f3845=await this[_0x4acf91(0x1e9)]({'request':_0x54e2b1,'schema':N,'ClassRef':C,'execute':_0x48f3fc=>A[_0x4acf91(0x577)](_0x48f3fc,_0x5a2644)});_0xfa3101[_0x4acf91(0x391)](0xc8)['json'](_0x1f3845);})['get'](this[_0x8ee858(0x1a6)]('getAutomateSystem'),..._0x41ebd5,async(_0x519a8a,_0x4e4624)=>{const _0x3ddeac=_0x8ee858;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0xd4bf3f=await this['dataValidate']({'request':_0x519a8a,'schema':N,'ClassRef':C,'execute':_0x191f28=>A[_0x3ddeac(0x1a3)](_0x191f28)});_0x4e4624[_0x3ddeac(0x391)](0xc8)['json'](_0xd4bf3f);})[_0x8ee858(0x8e)](this[_0x8ee858(0x1a6)](_0x8ee858(0x5ea)),..._0x41ebd5,async(_0x2f2f6c,_0x7866a4)=>{const _0x3c049b=_0x8ee858;y[_0x3c049b(0x4e0)](_0x3c049b(0x50a));let _0x56f1f5=await this[_0x3c049b(0x1e9)]({'request':_0x2f2f6c,'schema':N,'ClassRef':C,'execute':_0x1f3625=>A['getAutomateSystem'](_0x1f3625)});_0x7866a4['status'](0xc8)[_0x3c049b(0x5c7)](_0x56f1f5);})['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x6d0)),..._0x41ebd5,async(_0x2acf12,_0x111c5d)=>{const _0x39a021=_0x8ee858;let _0x14d62a=_0x2acf12[_0x39a021(0x151)];y[_0x39a021(0x4e0)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x39a021(0x3f1)),y['verbose'](_0x2acf12[_0x39a021(0x151)]);let _0x123c8e=await this[_0x39a021(0x1e9)]({'request':_0x2acf12,'schema':N,'ClassRef':C,'execute':_0x204aed=>A[_0x39a021(0x6d0)](_0x204aed,_0x14d62a)});_0x111c5d['status'](0xc8)[_0x39a021(0x5c7)](_0x123c8e);})['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x5c9)),..._0x41ebd5,async(_0x51f888,_0xb94b4d)=>{const _0xa0ba2c=_0x8ee858;let _0x5a79c4=_0x51f888[_0xa0ba2c(0x151)];y[_0xa0ba2c(0x4e0)](_0xa0ba2c(0x71c)),y[_0xa0ba2c(0x4e0)]('request\x20body:\x20'),y[_0xa0ba2c(0x4e0)](_0x51f888['body']);let _0x35cb39=await this[_0xa0ba2c(0x1e9)]({'request':_0x51f888,'schema':N,'ClassRef':C,'execute':_0x51127f=>A['updateCustomFields'](_0x51127f,_0x5a79c4)});_0xb94b4d[_0xa0ba2c(0x391)](0xc8)[_0xa0ba2c(0x5c7)](_0x35cb39);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)]('updateAutoCompleteMessages'),..._0x41ebd5,async(_0x1063bd,_0x1bc76b)=>{const _0x56d4de=_0x8ee858;let _0x2308e2=_0x1063bd['body'];y['verbose'](_0x56d4de(0x42f)),y['verbose'](_0x56d4de(0x3f1)),y['verbose'](_0x1063bd['body']);let _0x323f1e=await this[_0x56d4de(0x1e9)]({'request':_0x1063bd,'schema':N,'ClassRef':C,'execute':_0xfbeb1=>A[_0x56d4de(0x740)](_0xfbeb1,_0x2308e2)});_0x1bc76b[_0x56d4de(0x391)](0xc8)[_0x56d4de(0x5c7)](_0x323f1e);})[_0x8ee858(0x682)](this['routerPath'](_0x8ee858(0x5be)),..._0x41ebd5,async(_0x13fc06,_0x5ee963)=>{const _0x17ed33=_0x8ee858;let _0xb1746e=_0x13fc06[_0x17ed33(0x151)];y[_0x17ed33(0x4e0)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x17ed33(0x4e0)]('request\x20body:\x20'),y[_0x17ed33(0x4e0)](_0x13fc06[_0x17ed33(0x151)]);let _0x2147aa=await this[_0x17ed33(0x1e9)]({'request':_0x13fc06,'schema':N,'ClassRef':C,'execute':_0x1eeef1=>A[_0x17ed33(0x5be)](_0x1eeef1,_0xb1746e)});_0x5ee963[_0x17ed33(0x391)](0xc8)['json'](_0x2147aa);})[_0x8ee858(0x682)](this['routerPath'](_0x8ee858(0x323)),..._0x41ebd5,async(_0x5b0e03,_0x2e3ddb)=>{const _0x5cc8d7=_0x8ee858;let _0x334eca=_0x5b0e03[_0x5cc8d7(0x151)];y[_0x5cc8d7(0x4e0)]('request\x20received\x20in\x20getConversation'),y[_0x5cc8d7(0x4e0)](_0x5cc8d7(0x3f1)),y[_0x5cc8d7(0x4e0)](_0x5b0e03[_0x5cc8d7(0x151)]);let _0x242922=await this[_0x5cc8d7(0x1e9)]({'request':_0x5b0e03,'schema':N,'ClassRef':C,'execute':_0xb6e2ec=>A[_0x5cc8d7(0x323)](_0xb6e2ec,_0x334eca)});_0x2e3ddb['status'](0xc8)[_0x5cc8d7(0x5c7)](_0x242922);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)]('fetchConversation'),..._0x41ebd5,async(_0x59f430,_0x31ca4d)=>{const _0x23574d=_0x8ee858;let _0x18d70c=_0x59f430[_0x23574d(0x151)];y[_0x23574d(0x4e0)](_0x23574d(0x5e3)),y[_0x23574d(0x4e0)](_0x23574d(0x3f1)),y[_0x23574d(0x4e0)](_0x59f430[_0x23574d(0x151)]);let _0x143a17=await this[_0x23574d(0x1e9)]({'request':_0x59f430,'schema':N,'ClassRef':C,'execute':_0xbd6454=>A[_0x23574d(0x1da)](_0xbd6454,_0x18d70c)});_0x31ca4d[_0x23574d(0x391)](0xc8)[_0x23574d(0x5c7)](_0x143a17);})['post'](this[_0x8ee858(0x1a6)]('editConversation'),..._0x41ebd5,async(_0x5577f7,_0x1a2134)=>{const _0x5dec7b=_0x8ee858;let _0x5a306d=_0x5577f7['body'];y[_0x5dec7b(0x4e0)](_0x5dec7b(0x520)),y[_0x5dec7b(0x4e0)](_0x5dec7b(0x3f1)),y['verbose'](_0x5577f7[_0x5dec7b(0x151)]);let _0x3d3be6=await this['dataValidate']({'request':_0x5577f7,'schema':N,'ClassRef':C,'execute':_0x8f572d=>A[_0x5dec7b(0x3a1)](_0x8f572d,_0x5a306d)});_0x1a2134['status'](0xc8)[_0x5dec7b(0x5c7)](_0x3d3be6);})[_0x8ee858(0x6c5)](this[_0x8ee858(0x1a6)](_0x8ee858(0x3c9)),..._0x41ebd5,async(_0x353c46,_0x55db12)=>{const _0x236193=_0x8ee858;let _0x9b79d2=_0x353c46[_0x236193(0x151)];y[_0x236193(0x4e0)]('request\x20received\x20in\x20deleteConversation'),y[_0x236193(0x4e0)]('request\x20body:\x20'),y[_0x236193(0x4e0)](_0x353c46[_0x236193(0x151)]);let _0x36f080=await this['dataValidate']({'request':_0x353c46,'schema':N,'ClassRef':C,'execute':_0x4ae105=>A['deleteConversation'](_0x4ae105,_0x9b79d2)});_0x55db12[_0x236193(0x391)](0xc8)[_0x236193(0x5c7)](_0x36f080);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)]('createflow'),..._0x41ebd5,async(_0x5267b5,_0x230ec4)=>{const _0x402060=_0x8ee858;let _0x3703cd=_0x5267b5[_0x402060(0x151)],_0x3a169d=_0x5267b5[_0x402060(0x301)][_0x402060(0x704)];y[_0x402060(0x4e0)](_0x402060(0xdf)),y[_0x402060(0x4e0)]('request\x20body:\x20'),y[_0x402060(0x4e0)](_0x5267b5['body']);let _0x56cac5=await this[_0x402060(0x1e9)]({'request':_0x5267b5,'schema':N,'ClassRef':C,'execute':_0x44a7f4=>A[_0x402060(0x690)](_0x44a7f4,_0x3703cd,_0x3a169d)});_0x230ec4[_0x402060(0x391)](0xc8)['json'](_0x56cac5);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x619)),..._0x41ebd5,async(_0x354611,_0x272396)=>{const _0x4f2fb8=_0x8ee858;let _0x2df9cc=_0x354611[_0x4f2fb8(0x151)],_0x4e79ba=_0x354611['headers']['apikey'];y[_0x4f2fb8(0x4e0)]('request\x20received\x20in\x20editFlow'),y[_0x4f2fb8(0x4e0)](_0x4f2fb8(0x3f1)),y[_0x4f2fb8(0x4e0)](_0x354611['body']),delete _0x2df9cc[_0x4f2fb8(0x5d7)],delete _0x2df9cc[_0x4f2fb8(0x58d)],delete _0x2df9cc[_0x4f2fb8(0x143)],delete _0x2df9cc[_0x4f2fb8(0x458)];let _0x298bc8=await this[_0x4f2fb8(0x1e9)]({'request':_0x354611,'schema':N,'ClassRef':C,'execute':_0x29ad2b=>A['editFlow'](_0x29ad2b,_0x2df9cc,_0x4e79ba)});_0x272396[_0x4f2fb8(0x391)](0xc8)['json'](_0x298bc8);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x1a8)),..._0x41ebd5,async(_0x695aed,_0x1fb95c)=>{const _0x38af02=_0x8ee858;let _0x3edcda=_0x695aed[_0x38af02(0x151)],_0x375704=_0x695aed[_0x38af02(0x301)]['apikey'];y[_0x38af02(0x4e0)]('request\x20received\x20in\x20editFlow'),y[_0x38af02(0x4e0)](_0x38af02(0x3f1)),y[_0x38af02(0x4e0)](_0x695aed[_0x38af02(0x151)]);let _0x50ccb6=await this[_0x38af02(0x1e9)]({'request':_0x695aed,'schema':N,'ClassRef':C,'execute':_0xe1a70e=>A[_0x38af02(0x4e8)](_0xe1a70e,_0x3edcda,_0x375704)});_0x1fb95c['status'](0xc8)[_0x38af02(0x5c7)](_0x50ccb6);})['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x405)),..._0x41ebd5,async(_0x456072,_0x2fdd15)=>{const _0x33ed29=_0x8ee858;let _0x3bd582=_0x456072[_0x33ed29(0x151)],_0x2f1dfc=_0x456072[_0x33ed29(0x301)]['apikey'];y['verbose'](_0x33ed29(0x2f9)),y[_0x33ed29(0x4e0)]('request\x20body:\x20'),y[_0x33ed29(0x4e0)](_0x456072[_0x33ed29(0x151)]);let _0x3ba82d=await this['dataValidate']({'request':_0x456072,'schema':N,'ClassRef':C,'execute':_0x15a7e9=>A[_0x33ed29(0x5c5)](_0x15a7e9,_0x3bd582,_0x2f1dfc)});_0x2fdd15[_0x33ed29(0x391)](0xc8)['json'](_0x3ba82d);})['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x31d)),..._0x41ebd5,async(_0x2b8bc8,_0xd20589)=>{const _0x255ba0=_0x8ee858;let _0x6a6a70=_0x2b8bc8[_0x255ba0(0x151)],_0x480ce6=_0x2b8bc8[_0x255ba0(0x301)]['apikey'];y[_0x255ba0(0x4e0)](_0x255ba0(0x2f9)),y[_0x255ba0(0x4e0)](_0x255ba0(0x3f1)),y[_0x255ba0(0x4e0)](_0x2b8bc8[_0x255ba0(0x151)]);let _0x256917=await this[_0x255ba0(0x1e9)]({'request':_0x2b8bc8,'schema':N,'ClassRef':C,'execute':_0x3a6b2d=>A[_0x255ba0(0x600)](_0x3a6b2d,_0x6a6a70,_0x480ce6)});_0xd20589[_0x255ba0(0x391)](0xc8)['json'](_0x256917);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x11c)),..._0x41ebd5,async(_0x44e296,_0x4071fe)=>{const _0x26ee8f=_0x8ee858;let _0x2a83d5=_0x44e296[_0x26ee8f(0x151)],_0x320615=_0x44e296[_0x26ee8f(0x301)][_0x26ee8f(0x704)];y['verbose'](_0x26ee8f(0x109)),y[_0x26ee8f(0x4e0)]('request\x20body:\x20'),y['verbose'](_0x44e296[_0x26ee8f(0x151)]);let _0x535367=await this[_0x26ee8f(0x1e9)]({'request':_0x44e296,'schema':N,'ClassRef':C,'execute':_0x53b5cd=>A[_0x26ee8f(0x73b)](_0x53b5cd,_0x2a83d5,_0x320615)});_0x4071fe[_0x26ee8f(0x391)](0xc8)[_0x26ee8f(0x5c7)](_0x535367);})['post'](this[_0x8ee858(0x1a6)](_0x8ee858(0x3ea)),..._0x41ebd5,async(_0x124042,_0xb6e36)=>{const _0x24c2e5=_0x8ee858;let _0x49e97d=_0x124042['body'],_0x2a5508=_0x124042['headers'][_0x24c2e5(0x704)];y[_0x24c2e5(0x4e0)](_0x24c2e5(0x346)),y[_0x24c2e5(0x4e0)](_0x24c2e5(0x3f1)),y['verbose'](_0x124042[_0x24c2e5(0x151)]);let _0x3a745a=await this[_0x24c2e5(0x1e9)]({'request':_0x124042,'schema':N,'ClassRef':C,'execute':_0x27519d=>A[_0x24c2e5(0x761)](_0x27519d,_0x49e97d,_0x2a5508)});_0xb6e36['status'](0xc8)[_0x24c2e5(0x5c7)](_0x3a745a);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x1f8)),..._0x41ebd5,async(_0x156386,_0xcf62b5)=>{const _0x3503d3=_0x8ee858;let _0x39cb88=_0x156386[_0x3503d3(0x151)],_0x1e5b5f=_0x156386[_0x3503d3(0x301)]['apikey'];y[_0x3503d3(0x4e0)](_0x3503d3(0x45e)),y['verbose'](_0x3503d3(0x3f1)),y[_0x3503d3(0x4e0)](_0x156386[_0x3503d3(0x151)]);let _0x46f372=await this[_0x3503d3(0x1e9)]({'request':_0x156386,'schema':N,'ClassRef':C,'execute':_0x276ea9=>A['editFlowVariable'](_0x276ea9,_0x39cb88,_0x1e5b5f)});_0xcf62b5[_0x3503d3(0x391)](0xc8)[_0x3503d3(0x5c7)](_0x46f372);})[_0x8ee858(0x682)](this[_0x8ee858(0x1a6)](_0x8ee858(0x383)),..._0x41ebd5,async(_0x267620,_0x439edd)=>{const _0x439f31=_0x8ee858;let _0x8c7780=_0x267620['body'];y[_0x439f31(0x4e0)](_0x439f31(0x1cd)),y[_0x439f31(0x4e0)](_0x439f31(0x3f1)),y[_0x439f31(0x4e0)](_0x267620[_0x439f31(0x151)]);let _0x455e4e=await this[_0x439f31(0x1e9)]({'request':_0x267620,'schema':N,'ClassRef':C,'execute':_0xf1b523=>A['getFlow'](_0xf1b523,_0x8c7780)});_0x439edd[_0x439f31(0x391)](0xc8)[_0x439f31(0x5c7)](_0x455e4e);})[_0x8ee858(0x6c5)](this['routerPath'](_0x8ee858(0x2e0)),..._0x41ebd5,async(_0x190e04,_0xf51a00)=>{const _0x1a1eb6=_0x8ee858;let _0x1ad348=_0x190e04[_0x1a1eb6(0x151)],_0x48d906=_0x190e04[_0x1a1eb6(0x301)]['apikey'];y[_0x1a1eb6(0x4e0)](_0x1a1eb6(0x1ab)),y[_0x1a1eb6(0x4e0)]('request\x20body:\x20'),y['verbose'](_0x190e04[_0x1a1eb6(0x151)]);let _0x573800=await this[_0x1a1eb6(0x1e9)]({'request':_0x190e04,'schema':N,'ClassRef':C,'execute':_0x346bf=>A[_0x1a1eb6(0x1df)](_0x346bf,_0x1ad348,_0x48d906)});_0xf51a00['status'](0xc8)[_0x1a1eb6(0x5c7)](_0x573800);})['get'](this[_0x8ee858(0x1a6)](_0x8ee858(0x561)),..._0x41ebd5,async(_0x2d7e6f,_0x20f0b5)=>{const _0x514446=_0x8ee858;y[_0x514446(0x4e0)]('request\x20received\x20in\x20allFlows');let _0x482ef6=await this[_0x514446(0x1e9)]({'request':_0x2d7e6f,'schema':N,'ClassRef':C,'execute':_0x55e6b2=>A[_0x514446(0x47b)](_0x55e6b2)});_0x20f0b5['status'](0xc8)['json'](_0x482ef6);});}},mo=T(require(a0_0x187b1e(0x150))),Z={};function po(_0x120630,_0x198e79,_0x4f9bcc,_0x11e389){Z[_0x120630]||(Z[_0x120630]={}),Z[_0x120630][_0x198e79]={'id':_0x198e79,'response':_0x4f9bcc,'events':_0x11e389};}function ho(_0x2ac799,_0x3505bc){!Z[_0x2ac799]||!Z[_0x2ac799][_0x3505bc]||delete Z[_0x2ac799][_0x3505bc];}function U(_0x4a3168,_0x34dde5,_0x7e069d){const _0x240340=a0_0x187b1e;if(!Z[_0x4a3168])return;let _0xb810ab=_0x240340(0x66c)+JSON[_0x240340(0x126)](_0x7e069d)+'\x0a\x0a';Object[_0x240340(0x651)](Z[_0x4a3168])[_0x240340(0x4d6)](_0x48f8f7=>{const _0x5927ff=_0x240340;_0x48f8f7[_0x5927ff(0x4ef)][_0x5927ff(0x7e)](_0x34dde5)&&_0x48f8f7[_0x5927ff(0x359)]['write'](_0xb810ab);});}function go(){const _0x3bf368=a0_0x187b1e;let _0x18f0ae={};for(let _0x3a4ec2 in Z)_0x18f0ae[_0x3a4ec2]=Object[_0x3bf368(0x651)](Z[_0x3a4ec2])['map'](_0x487ae6=>({'id':_0x487ae6['id'],'events':_0x487ae6['events']}));return _0x18f0ae;}var fo=require(a0_0x187b1e(0x66e)),Es=require('mongoose'),Cs=class{},wr=new Es[(a0_0x187b1e(0x52c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yr=new Es['Schema']({'_id':{'type':String,'default':a0_0x187b1e(0x4bd)},'WebhookGlobal':{'type':wr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=O?.[a0_0x187b1e(0x5b6)](Cs[a0_0x187b1e(0x19a)],yr,a0_0x187b1e(0x23c)),br=mo[a0_0x187b1e(0x605)][a0_0x187b1e(0x119)](__dirname,'downloads'),At=(0x0,$t[a0_0x187b1e(0x1b7)])(),Sr=b[a0_0x187b1e(0x8e)](a0_0x187b1e(0x5ab))[a0_0x187b1e(0x22c)],ae=[Ma,Ca,Na[Sr]];At[a0_0x187b1e(0x6b4)](a0_0x187b1e(0x3c1),$t[a0_0x187b1e(0x605)]['static'](br))['get'](a0_0x187b1e(0x2b8),async(_0x3cafc9,_0x3f765b)=>{const _0xe6f572=a0_0x187b1e;console[_0xe6f572(0x1e1)](_0xe6f572(0x753));let _0x15e8f9=_0x3cafc9[_0xe6f572(0x3a8)][_0xe6f572(0x144)],_0x48a668=(_0x3cafc9[_0xe6f572(0x4ba)][_0xe6f572(0x4ef)]||'')[_0xe6f572(0x214)](','),_0x53a335=(0x0,fo['v4'])();console[_0xe6f572(0x1e1)](_0xe6f572(0x553),_0x15e8f9),console[_0xe6f572(0x1e1)](_0xe6f572(0x254),_0x48a668);let _0x22661f=b[_0xe6f572(0x8e)](_0xe6f572(0x5ab))[_0xe6f572(0x9d)],_0x2287c9=_0x3cafc9[_0xe6f572(0x4ba)][_0xe6f572(0x704)];if(console[_0xe6f572(0x1e1)](_0xe6f572(0x606),_0x2287c9),_0x22661f[_0xe6f572(0x649)]!==_0x2287c9){console[_0xe6f572(0x1e1)]('env.KEY\x20!==\x20key');try{let _0x2e42da=await de['auth']['find'](_0x15e8f9);if(console[_0xe6f572(0x1e1)](_0xe6f572(0x667),_0x2e42da),!_0x2e42da||_0x2e42da[_0xe6f572(0x704)]!==_0x2287c9)return console[_0xe6f572(0x1e1)](_0xe6f572(0x4ea)),_0x3f765b[_0xe6f572(0x391)](0x191)['send']('API\x20Key\x20invlida.');}catch(_0x16e74e){return console[_0xe6f572(0x57d)](_0xe6f572(0x14a),_0x16e74e),_0x3f765b[_0xe6f572(0x391)](0x191)['send'](_0xe6f572(0x225));}}if(!await Xe(_0x15e8f9))return _0x3f765b['status'](0x194)[_0xe6f572(0x540)](_0xe6f572(0x2b4));_0x3f765b[_0xe6f572(0x74a)](_0xe6f572(0x237),_0xe6f572(0x3fc)),_0x3f765b[_0xe6f572(0x74a)](_0xe6f572(0x2cf),_0xe6f572(0x4fc)),_0x3f765b['setHeader']('Connection',_0xe6f572(0x2f4)),_0x3f765b[_0xe6f572(0x742)]();let _0x4da7d3=_0xe6f572(0x66c)+JSON['stringify']({'info':'Conexo\x20estabelecida'})+'\x0a\x0a';_0x3f765b[_0xe6f572(0x363)](_0x4da7d3),po(_0x15e8f9,_0x53a335,_0x3f765b,_0x48a668),_0x3cafc9['on']('close',()=>{const _0x5dd4eb=_0xe6f572;console[_0x5dd4eb(0x1e1)](_0x5dd4eb(0x159)+_0x15e8f9),ho(_0x15e8f9,_0x53a335);});}),At[a0_0x187b1e(0x8e)](a0_0x187b1e(0x483),(_0x151049,_0x301ef0)=>{const _0x1f54d0=a0_0x187b1e;let _0x1db726=go();_0x301ef0[_0x1f54d0(0x5c7)](_0x1db726);})['get']('/',(_0x197212,_0x5c14ad)=>{const _0x27b9ac=a0_0x187b1e;let _0x1c2cef=b[_0x27b9ac(0x8e)]('SERVER')['URL'];if(_0x1c2cef){let _0x2705f5=encodeURIComponent(''+_0x1c2cef);_0x5c14ad[_0x27b9ac(0x3f0)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x2705f5);return;}let _0x58a978=b[_0x27b9ac(0x8e)]('SSL_CONF'),_0x541cde=_0x58a978&&_0x58a978[_0x27b9ac(0x6cb)][_0x27b9ac(0x214)]('/')[0x4];if(_0x541cde){let _0x47fca7=encodeURIComponent(_0x27b9ac(0x2a1)+_0x541cde);_0x5c14ad[_0x27b9ac(0x3f0)](_0x27b9ac(0xd2)+_0x47fca7);}else _0x5c14ad[_0x27b9ac(0x3f0)](_0x27b9ac(0x1c0));})[a0_0x187b1e(0x670)]('/exit',...ae,async(_0x599ce1,_0x18a0cf)=>{const _0x3a13a0=a0_0x187b1e;try{console[_0x3a13a0(0x1e1)]('Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit'),_0x18a0cf[_0x3a13a0(0x391)](0xc8)[_0x3a13a0(0x5c7)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x18a0cf['on'](_0x3a13a0(0x61d),()=>process[_0x3a13a0(0x305)](0x0));}catch(_0xe8fef7){console[_0x3a13a0(0x57d)](_0x3a13a0(0x5f7),_0xe8fef7),_0x18a0cf[_0x3a13a0(0x391)](0x1f4)[_0x3a13a0(0x5c7)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x187b1e(0x670)](a0_0x187b1e(0x28c),...ae,async(_0x576be8,_0x2dd552)=>{const _0x99ad9a=a0_0x187b1e;try{let _0x359c81=_0x576be8[_0x99ad9a(0x151)];await Se[_0x99ad9a(0x190)]({},{'$set':_0x359c81},{'upsert':!0x0});let _0x3090b5=await Se[_0x99ad9a(0x525)]();_0x2dd552[_0x99ad9a(0x5c7)](_0x3090b5);}catch(_0x15c79c){_0x2dd552[_0x99ad9a(0x391)](0x190)[_0x99ad9a(0x540)](_0x15c79c[_0x99ad9a(0x3df)]);}})[a0_0x187b1e(0x8e)](a0_0x187b1e(0x28c),...ae,async(_0x193244,_0x55ba3c)=>{const _0x9059a4=a0_0x187b1e;try{let _0x5cc30a=await Se[_0x9059a4(0x525)]();if(!_0x5cc30a)return _0x55ba3c[_0x9059a4(0x5c7)]({});_0x55ba3c[_0x9059a4(0x5c7)](_0x5cc30a);}catch(_0x53b5e4){_0x55ba3c[_0x9059a4(0x391)](0x1f4)['send'](_0x53b5e4[_0x9059a4(0x3df)]);}})[a0_0x187b1e(0x6b4)]('/instance',new gt(b,...ae)[a0_0x187b1e(0x729)])[a0_0x187b1e(0x6b4)]('/message',new Nt(...ae)[a0_0x187b1e(0x729)])[a0_0x187b1e(0x6b4)]('/chat',new ot(...ae)[a0_0x187b1e(0x729)])[a0_0x187b1e(0x6b4)](a0_0x187b1e(0x603),new ht(...ae)['router'])['use']('/webhook',new Ot(...ae)['router'])[a0_0x187b1e(0x6b4)](a0_0x187b1e(0x446),new Tt(...ae)[a0_0x187b1e(0x729)]);var m=class{constructor(..._0x115192){const _0x23cd9e=a0_0x187b1e;throw{'status':0x190,'error':_0x23cd9e(0x113),'message':_0x115192[_0x23cd9e(0x6ab)]>0x0?_0x115192:void 0x0};}},se=class{constructor(..._0x5e44fb){const _0x3b38d0=a0_0x187b1e;throw{'status':0x191,'error':_0x3b38d0(0x685),'message':_0x5e44fb['length']>0x0?_0x5e44fb:void 0x0};}},Q=class{constructor(..._0x1c29df){const _0x4bcb2c=a0_0x187b1e;throw{'status':0x193,'error':_0x4bcb2c(0xda),'message':_0x1c29df[_0x4bcb2c(0x6ab)]>0x0?_0x1c29df:void 0x0};}},J=class{constructor(..._0x5844db){const _0xed5d98=a0_0x187b1e;throw{'status':0x194,'error':_0xed5d98(0x570),'message':_0x5844db['length']>0x0?_0x5844db:void 0x0};}},I=class{constructor(..._0x4cb9cf){const _0x3937ba=a0_0x187b1e;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4cb9cf[_0x3937ba(0x6ab)]>0x0?_0x4cb9cf:void 0x0};}},pe=require(a0_0x187b1e(0x33b));async function vs(_0x52651f){const _0x4531e9=a0_0x187b1e;let _0x3a3ad6=new R(vs[_0x4531e9(0x19a)]),_0x56a73f=O[_0x4531e9(0x72e)](),_0x1309c9=_0x56a73f['db'](b['get'](_0x4531e9(0x228))[_0x4531e9(0x7f)][_0x4531e9(0x4e3)]+'-instances')[_0x4531e9(0x354)](_0x52651f),_0x144e61=async(_0x57b1f6,_0x1efd43)=>{const _0x4c6e55=_0x4531e9;try{return await _0x56a73f[_0x4c6e55(0x587)](),await _0x1309c9[_0x4c6e55(0x3b5)]({'_id':_0x1efd43},JSON[_0x4c6e55(0x329)](JSON[_0x4c6e55(0x126)](_0x57b1f6,pe[_0x4c6e55(0x416)][_0x4c6e55(0x607)])),{'upsert':!0x0});}catch{}},_0x25d363=async _0xfe677c=>{const _0x3b503d=_0x4531e9;try{await _0x56a73f[_0x3b503d(0x587)]();let _0x54bec1=await _0x1309c9[_0x3b503d(0x525)]({'_id':_0xfe677c}),_0x2bf572=JSON[_0x3b503d(0x126)](_0x54bec1);return JSON[_0x3b503d(0x329)](_0x2bf572,pe[_0x3b503d(0x416)][_0x3b503d(0x39f)]);}catch{}},_0x140a18=async _0x1a547c=>{const _0x326bc1=_0x4531e9;try{return await _0x56a73f[_0x326bc1(0x587)](),await _0x1309c9[_0x326bc1(0x584)]({'_id':_0x1a547c});}catch{}},_0x170406=await _0x25d363(_0x4531e9(0xa1))||(0x0,pe['initAuthCreds'])();return{'state':{'creds':_0x170406,'keys':{'get':async(_0x34530c,_0x5e0374)=>{const _0x521fad=_0x4531e9;let _0x38bc0e={};return await Promise[_0x521fad(0x372)](_0x5e0374[_0x521fad(0x687)](async _0x24cef2=>{const _0xb95c68=_0x521fad;let _0x28f029=await _0x25d363(_0x34530c+'-'+_0x24cef2);_0x34530c===_0xb95c68(0x19e)&&_0x28f029&&(_0x28f029=pe['proto'][_0xb95c68(0x482)][_0xb95c68(0x23f)][_0xb95c68(0x46d)](_0x28f029)),_0x38bc0e[_0x24cef2]=_0x28f029;})),_0x38bc0e;},'set':async _0x2747ac=>{const _0x44c2ed=_0x4531e9;let _0x5b7195=[];for(let _0x517a0c in _0x2747ac)for(let _0x44bf27 in _0x2747ac[_0x517a0c]){let _0x10eddb=_0x2747ac[_0x517a0c][_0x44bf27],_0x45cfe4=_0x517a0c+'-'+_0x44bf27;_0x5b7195[_0x44c2ed(0x764)](_0x10eddb?_0x144e61(_0x10eddb,_0x45cfe4):_0x140a18(_0x45cfe4));}await Promise[_0x44c2ed(0x372)](_0x5b7195);}}},'saveCreds':async()=>_0x144e61(_0x170406,_0x4531e9(0xa1))};}var $s=T(require(a0_0x187b1e(0x3a4))),As=T(require(a0_0x187b1e(0x4f7))),Dt=require(a0_0x187b1e(0x33b)),wo=require(a0_0x187b1e(0x1f2)),xt=require(a0_0x187b1e(0x33b)),It;function Mr(_0xe2ac1d){const _0x2b67e9=a0_0x187b1e;return It||(It=(0x0,wo[_0x2b67e9(0x1eb)])({'url':_0xe2ac1d[_0x2b67e9(0x26e)]}),It[_0x2b67e9(0x587)]()),It;}var le=class c{constructor(_0x26336f,_0x50d666){const _0x2bbeed=a0_0x187b1e;this[_0x2bbeed(0xbc)]=_0x26336f,this[_0x2bbeed(0x5a5)]=_0x50d666,this[_0x2bbeed(0x4c0)]=new R(c[_0x2bbeed(0x19a)]),this[_0x2bbeed(0x27d)]=Mr(_0x26336f);}set[a0_0x187b1e(0xe3)](_0x51e06b){const _0x45fb2c=a0_0x187b1e;this[_0x45fb2c(0x5a5)]=_0x51e06b;}async[a0_0x187b1e(0x541)](){const _0x5204d2=a0_0x187b1e;try{return await this['client'][_0x5204d2(0x3e2)]([_0x5204d2(0xcf),this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0x14a81c){this['logger'][_0x5204d2(0x57d)](_0x14a81c);}}async[a0_0x187b1e(0x5b5)](_0x45cc5d,_0x226c36){const _0x3c2090=a0_0x187b1e;try{let _0x3db31b=JSON[_0x3c2090(0x126)](_0x226c36,xt[_0x3c2090(0x416)][_0x3c2090(0x607)]);return await this[_0x3c2090(0x27d)]['hSet'](this[_0x3c2090(0xbc)][_0x3c2090(0x1f7)]+':'+this[_0x3c2090(0x5a5)],_0x45cc5d,_0x3db31b);}catch(_0x5e08e7){this[_0x3c2090(0x4c0)][_0x3c2090(0x57d)](_0x5e08e7);}}async[a0_0x187b1e(0x183)](){const _0x3c1a0d=a0_0x187b1e;try{let _0x3d8abd=await this[_0x3c1a0d(0x27d)]['hGetAll'](this[_0x3c1a0d(0xbc)][_0x3c1a0d(0x1f7)]+':'+this[_0x3c1a0d(0x5a5)]);if(_0x3d8abd){for(let _0x46e50d in _0x3d8abd)Object[_0x3c1a0d(0x42e)]['hasOwnProperty'][_0x3c1a0d(0x137)](_0x3d8abd,_0x46e50d)&&(_0x3d8abd[_0x46e50d]=JSON[_0x3c1a0d(0x329)](_0x3d8abd[_0x46e50d],xt[_0x3c1a0d(0x416)][_0x3c1a0d(0x39f)]));return _0x3d8abd;}}catch(_0x176b2a){this[_0x3c1a0d(0x4c0)][_0x3c1a0d(0x57d)](_0x176b2a);}}async[a0_0x187b1e(0x739)](_0x40d587){const _0x1451c4=a0_0x187b1e;try{let _0x31d61e=await this[_0x1451c4(0x27d)][_0x1451c4(0x477)](this[_0x1451c4(0xbc)][_0x1451c4(0x1f7)]+':'+this['instanceName'],_0x40d587);if(_0x31d61e)return JSON['parse'](_0x31d61e,xt[_0x1451c4(0x416)][_0x1451c4(0x39f)]);}catch(_0x46c3a8){this[_0x1451c4(0x4c0)][_0x1451c4(0x57d)](_0x46c3a8);}}async[a0_0x187b1e(0x63f)](_0x362cb9){const _0xa843ac=a0_0x187b1e;try{return await this['client'][_0xa843ac(0x4d2)](this[_0xa843ac(0xbc)][_0xa843ac(0x1f7)]+':'+this[_0xa843ac(0x5a5)],_0x362cb9);}catch(_0x334018){this[_0xa843ac(0x4c0)][_0xa843ac(0x57d)](_0x334018);}}async[a0_0x187b1e(0x675)](_0x25f06e){const _0x25e714=a0_0x187b1e;try{return await this['client']['del'](_0x25f06e||this['redisEnv'][_0x25e714(0x1f7)]+':'+this['instanceName']);}catch(_0x2cc9cf){this[_0x25e714(0x4c0)]['error'](_0x2cc9cf);}}};async function Ns(_0x1364b8,_0x467425){const _0x3a5ac4=a0_0x187b1e;let _0x243fdc=new R(Ns[_0x3a5ac4(0x19a)]),_0x457e3c=new le(_0x1364b8,_0x467425),_0x23de8a=async(_0x5a3705,_0x1e604a)=>{const _0xeff8a9=_0x3a5ac4;try{return await _0x457e3c[_0xeff8a9(0x5b5)](_0x1e604a,_0x5a3705);}catch(_0x3cc693){return _0x243fdc['error']({'localError':_0xeff8a9(0x5b5),'error':_0x3cc693});}},_0x281f3a=async _0x2ed84d=>{const _0x2410d8=_0x3a5ac4;try{return await _0x457e3c[_0x2410d8(0x739)](_0x2ed84d);}catch(_0x3fc670){_0x243fdc['error']({'readData':_0x2410d8(0x5b5),'error':_0x3fc670});return;}},_0xc60fd=async _0x262574=>{const _0x3d5567=_0x3a5ac4;try{return await _0x457e3c[_0x3d5567(0x63f)](_0x262574);}catch(_0x91961c){_0x243fdc['error']({'readData':'removeData','error':_0x91961c});}},_0x415a71=await _0x281f3a('creds')||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x415a71,'keys':{'get':async(_0x591b7e,_0x19acdb)=>{const _0x2875fc=_0x3a5ac4;let _0x424684={};return await Promise[_0x2875fc(0x372)](_0x19acdb[_0x2875fc(0x687)](async _0x596593=>{const _0x42d901=_0x2875fc;let _0x37e472=await _0x281f3a(_0x591b7e+'-'+_0x596593);_0x591b7e==='app-state-sync-key'&&_0x37e472&&(_0x37e472=Dt['proto'][_0x42d901(0x482)]['AppStateSyncKeyData'][_0x42d901(0x46d)](_0x37e472)),_0x424684[_0x596593]=_0x37e472;})),_0x424684;},'set':async _0x3e8e61=>{const _0x4a318a=_0x3a5ac4;let _0x2bbee3=[];for(let _0x454f29 in _0x3e8e61)for(let _0x34f822 in _0x3e8e61[_0x454f29]){let _0x4d5299=_0x3e8e61[_0x454f29][_0x34f822],_0x1fec22=_0x454f29+'-'+_0x34f822;_0x2bbee3[_0x4a318a(0x764)](_0x4d5299?await _0x23de8a(_0x4d5299,_0x1fec22):await _0xc60fd(_0x1fec22));}await Promise[_0x4a318a(0x372)](_0x2bbee3);}}},'saveCreds':async()=>await _0x23de8a(_0x415a71,_0x3a5ac4(0xa1))};}var j=T(require('fs')),jt=require('uuid'),Lt=T(require(a0_0x187b1e(0x2b3))),Ft=require(a0_0x187b1e(0x24f)),Cr=a0_0x187b1e(0x2dd)[a0_0x187b1e(0x689)](),_t=Cr['split']('\x0a')['map'](_0x48e2ac=>{const _0x5d7cdc=a0_0x187b1e;let _0x382fe1=_0x48e2ac['split'](':'),_0x3fa493={'host':_0x382fe1[0x0],'port':_0x382fe1[0x1],'protocol':_0x5d7cdc(0x6a3)};return _0x382fe1[_0x5d7cdc(0x6ab)]===0x4&&(_0x3fa493[_0x5d7cdc(0x631)]=_0x382fe1[0x2],_0x3fa493['password']=_0x382fe1[0x3]),_0x3fa493;});function yo(_0x2e4cff){const _0x2fc9cb=a0_0x187b1e;return _t[_0x2fc9cb(0x528)](_0x1f082b=>_0x1f082b[_0x2fc9cb(0x1db)]===_0x2e4cff)||null;}function bo(){const _0x146b0f=a0_0x187b1e;if(_t[_0x146b0f(0x6ab)]===0x0)return null;let _0x3af9f=Math[_0x146b0f(0x3c4)](Math[_0x146b0f(0x1ca)]()*_t['length']);return _t[_0x3af9f];}function Rs(_0x1ae68c){const _0x390a32=a0_0x187b1e;let _0x2bab48=_0x742fc7=>typeof _0x742fc7==_0x390a32(0x36c)&&_0x742fc7[_0x390a32(0x6ab)]>0x0,_0x11ba3a=_0x1d2aef=>{let _0xe423bc=parseInt(_0x1d2aef,0xa);return!isNaN(_0xe423bc)&&_0xe423bc>0x0&&_0xe423bc<=0xffff;},_0x24f401=_0x36ca6b=>typeof _0x36ca6b==_0x390a32(0x36c)&&_0x36ca6b['length']>0x0;return _0x1ae68c&&_0x2bab48(_0x1ae68c['host'])&&_0x11ba3a(_0x1ae68c['port'])&&(!_0x1ae68c['username']||_0x24f401(_0x1ae68c[_0x390a32(0x631)]))&&(!_0x1ae68c[_0x390a32(0x264)]||_0x24f401(_0x1ae68c['password']))&&(_0x1ae68c[_0x390a32(0x74f)]===_0x390a32(0x6a3)||_0x1ae68c['protocol']===_0x390a32(0x127));}var Ut=require(a0_0x187b1e(0x72d)),Is='Safari',No,ue=null,So=null,et=null,Er=0x3,vr=null,ee=b['get']('AUTHENTICATION')[a0_0x187b1e(0x9d)][a0_0x187b1e(0x649)];async function Nr(){const _0x498ac8=a0_0x187b1e;let _0x457d56=await Se[_0x498ac8(0x525)]();ue=_0x457d56?.['WebhookGlobal']??null,vr=_0x457d56?.[_0x498ac8(0x565)]??null,Is=_0x457d56?.[_0x498ac8(0x15f)]??_0x498ac8(0x5c0),No=_0x457d56?.['connectedName']??xs??_0x498ac8(0x257),console[_0x498ac8(0x1e1)](_0x457d56);}async function Rr(){await Nr();}Rr();var Mo={},oe={},Me=class c{constructor(_0x5d5e95,_0x55b456,_0x2e5462){const _0x48ffe1=a0_0x187b1e;this[_0x48ffe1(0x684)]=_0x5d5e95,this['eventEmitter']=_0x55b456,this['repository']=_0x2e5462,this[_0x48ffe1(0x599)]=null,this['logger']=new R(c[_0x48ffe1(0x19a)]),this[_0x48ffe1(0x144)]={},this[_0x48ffe1(0xff)]={},this['stateConnection']={'state':_0x48ffe1(0x750)},this[_0x48ffe1(0x5cd)]=(0x0,F[_0x48ffe1(0x119)])(ne,'downloads'),this['msgRetryCounterCache']=new As[(_0x48ffe1(0x605))](),this[_0x48ffe1(0x42a)]=new As[(_0x48ffe1(0x605))](),this[_0x48ffe1(0x6f0)]=!0x1,this[_0x48ffe1(0x1ce)]={'status.instance':'/wa-connection-update','connection.update':'/wa-connection-update','qrcode.updated':_0x48ffe1(0x724),'messages.upsert':_0x48ffe1(0xe9),'send.message':_0x48ffe1(0xe9),'messages.update':_0x48ffe1(0x3ba),'group.upsert':'/wa-groups','group.update':_0x48ffe1(0x3f9),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0x48ffe1(0x2f0),'contacts.upsert':'/wa-contacts','contacts.update':_0x48ffe1(0x2f0),'presence.update':_0x48ffe1(0x70c),'chats.set':_0x48ffe1(0x1d7),'chats.update':'/wa-chats','chats.upsert':_0x48ffe1(0x1d7),'chats.delete':_0x48ffe1(0x1d7)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this[_0x48ffe1(0x745)]=0xa,this[_0x48ffe1(0xad)]=0xea60,this[_0x48ffe1(0x5a2)]=!0x1,this[_0x48ffe1(0x6f8)]={'chats.upsert':async(_0x206d40,_0x4f21f2)=>{const _0x55135d=_0x48ffe1;let _0x550b2a=[];for await(let _0x5caed7 of _0x206d40)_0x550b2a[_0x55135d(0x764)]({'_id':_0x5caed7['id'],'owner':this[_0x55135d(0x144)][_0x55135d(0x6c3)],'group':_0x5caed7['id'][_0x55135d(0x43f)](_0x55135d(0x2bc)),'name':_0x5caed7[_0x55135d(0x19a)]||_0x5caed7[_0x55135d(0x5ed)]||null,'contactname':null,'lastmsg':_0x5caed7[_0x55135d(0x238)]&&_0x5caed7[_0x55135d(0x238)][_0x55135d(0x56e)]()['length']<0xd?_0x5caed7[_0x55135d(0x238)]*0x3e8:_0x5caed7[_0x55135d(0x238)]||null,'archived':_0x5caed7[_0x55135d(0x385)]||!0x1,'unreadcount':_0x5caed7['unreadCount']||0x0,'ephemeralExpiration':_0x5caed7['ephemeralExpiration']||0x0});this[_0x55135d(0x4d7)](_0x55135d(0x58a),_0x550b2a);},'chats.update':async(_0x1b78e1,_0x4d23e4)=>{const _0x2851c3=_0x48ffe1;for(let _0x48f76b of _0x1b78e1){let _0x519732={'_id':_0x48f76b['id'],'owner':this['instance'][_0x2851c3(0x6c3)],'archived':_0x48f76b['archived'],'muteEndTime':_0x48f76b[_0x2851c3(0x4d9)],'ephemeralExpiration':_0x48f76b[_0x2851c3(0x423)]},_0x59e4d6=!0x1,_0x4da0f7={};_0x519732['archived']!=null&&(this[_0x2851c3(0x4c0)][_0x2851c3(0x4e0)](this['instanceName']+'\x20('+this[_0x2851c3(0x144)]['wuid']+_0x2851c3(0x171)+_0x48f76b['id']+_0x2851c3(0xc1)+_0x48f76b[_0x2851c3(0x385)]),_0x59e4d6=!0x0,_0x4da0f7[_0x2851c3(0x385)]=_0x48f76b[_0x2851c3(0x385)]),'muteEndTime'in _0x48f76b&&(this[_0x2851c3(0x4c0)][_0x2851c3(0x4e0)](this[_0x2851c3(0x5a5)]+'\x20('+this[_0x2851c3(0x144)][_0x2851c3(0x6c3)]+'):\x20teve\x20mudanas\x20chat.muteEndTime:\x20'+_0x48f76b['id']+_0x2851c3(0xc1)+(_0x48f76b[_0x2851c3(0x4d9)]??'0')),_0x59e4d6=!0x0,_0x4da0f7[_0x2851c3(0x4d9)]=_0x48f76b[_0x2851c3(0x4d9)]??0x0),_0x2851c3(0x423)in _0x48f76b&&(this['logger'][_0x2851c3(0x4e0)](this['instanceName']+'\x20('+this[_0x2851c3(0x144)][_0x2851c3(0x6c3)]+_0x2851c3(0x390)+_0x48f76b['id']+'\x20:\x20'+(_0x48f76b[_0x2851c3(0x423)]!==void 0x0?_0x48f76b[_0x2851c3(0x423)]:_0x2851c3(0x1ea))),_0x4da0f7[_0x2851c3(0x423)]=_0x48f76b['ephemeralExpiration']===null?0x0:_0x48f76b[_0x2851c3(0x423)],_0x59e4d6=!0x0);let _0x49c584;_0x59e4d6&&(_0x49c584=await this[_0x2851c3(0x2ed)][_0x2851c3(0x30d)][_0x2851c3(0x190)]({'where':{'_id':_0x48f76b['id']}},_0x4da0f7,this[_0x2851c3(0x144)]['wuid'])),_0x49c584&&U(this[_0x2851c3(0x5a5)],_0x2851c3(0x196),{'chat':_0x49c584});}},'chats.delete':async _0x473182=>{const _0x33cd7b=_0x48ffe1;for(let _0x56e6b9 of _0x473182)if(_0x56e6b9['endsWith'](_0x33cd7b(0x2bc))){await this['repository'][_0x33cd7b(0x30d)]['delete']({'where':{'_id':_0x56e6b9}},this[_0x33cd7b(0x144)]['wuid']);let _0x22ad09={'where':{'key':{'remoteJid':_0x56e6b9}}};await this[_0x33cd7b(0x2ed)][_0x33cd7b(0x3df)][_0x33cd7b(0x6c5)](_0x22ad09,this[_0x33cd7b(0x144)][_0x33cd7b(0x6c3)]);}else{await this[_0x33cd7b(0x2ed)][_0x33cd7b(0x30d)][_0x33cd7b(0x190)]({'where':{'_id':_0x56e6b9}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x33cd7b(0x144)]['wuid']);let _0x2b7beb={'where':{'key':{'remoteJid':_0x56e6b9}}};await this[_0x33cd7b(0x2ed)]['message'][_0x33cd7b(0x6c5)](_0x2b7beb,this[_0x33cd7b(0x144)]['wuid']);}this[_0x33cd7b(0x4d7)](_0x33cd7b(0x15d),[..._0x473182]);}},this[_0x48ffe1(0x714)]={'contacts.upsert':async(_0xa43be9,_0x40a4de)=>{const _0x151299=_0x48ffe1;let _0xf25759=await this[_0x151299(0x2ed)][_0x151299(0x402)][_0x151299(0x528)]({'where':{}},this[_0x151299(0x144)]['wuid']),_0x21ab6b=[];for await(let _0x593696 of _0xa43be9)_0xf25759[_0x151299(0x528)](_0x62cd9=>_0x62cd9[_0x151299(0xf5)]===_0x593696['id'])||_0x21ab6b[_0x151299(0x764)]({'_id':_0x593696['id'],'pushName':_0x593696?.[_0x151299(0x19a)]||_0x593696?.[_0x151299(0x41b)],'owner':this['instance'][_0x151299(0x6c3)]});this[_0x151299(0x4d7)](_0x151299(0x4c6),_0x21ab6b),await this[_0x151299(0x2ed)]['contact']['insert'](_0x21ab6b);},'contacts.update':async(_0x2cf91f,_0x3cf486)=>{const _0x1cb84b=_0x48ffe1;let _0x5e1a44=[];for await(let _0x40720d of _0x2cf91f)_0x5e1a44[_0x1cb84b(0x764)]({'_id':_0x40720d['id'],'pushName':_0x40720d?.[_0x1cb84b(0x19a)]??_0x40720d?.['verifiedName'],'owner':this[_0x1cb84b(0x144)][_0x1cb84b(0x6c3)]});this[_0x1cb84b(0x4d7)](_0x1cb84b(0x5e9),_0x5e1a44);}},this[_0x48ffe1(0x465)]={'messaging-history.set':async({messages:_0x3242ef,chats:_0x1cbde6,isLatest:_0x539d01},_0x1ebe71)=>{const _0xc8bf7c=_0x48ffe1;if(_0x539d01){let _0x5e3f5c=await Promise[_0xc8bf7c(0x372)](_0x1cbde6[_0xc8bf7c(0x687)](async _0xfe1861=>({'_id':_0xfe1861['id'],'owner':this[_0xc8bf7c(0x144)][_0xc8bf7c(0x6c3)],'group':_0xfe1861['id']['endsWith'](_0xc8bf7c(0x2bc)),'name':_0xfe1861[_0xc8bf7c(0x19a)]||_0xfe1861[_0xc8bf7c(0x5ed)]||_0xfe1861[_0xc8bf7c(0x631)]||null,'contactname':null,'lastmsg':_0xfe1861[_0xc8bf7c(0x238)]&&_0xfe1861[_0xc8bf7c(0x238)][_0xc8bf7c(0x56e)]()[_0xc8bf7c(0x6ab)]<0xd?_0xfe1861['conversationTimestamp']*0x3e8:_0xfe1861[_0xc8bf7c(0x238)]||null,'archived':_0xfe1861[_0xc8bf7c(0x385)]||!0x1,'unreadcount':_0xfe1861[_0xc8bf7c(0x581)]||0x0,'ephemeralExpiration':_0xfe1861['ephemeralExpiration']||0x0,'muteEndTime':_0xfe1861['muteEndTime']||0x0})));this[_0xc8bf7c(0x4d7)](_0xc8bf7c(0xbe),_0x5e3f5c),await this['upsertChats'](_0x5e3f5c,_0x1ebe71);}let _0x31df5d=[],_0x4de5d2=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2c36dd]of Object[_0xc8bf7c(0x466)](_0x3242ef)){if(_0x2c36dd[_0xc8bf7c(0x3df)]?.[_0xc8bf7c(0x6f3)]||_0x2c36dd['message']?.['senderKeyDistributionMessage']||!_0x2c36dd[_0xc8bf7c(0x3df)]||_0x2c36dd[_0xc8bf7c(0xfe)][_0xc8bf7c(0x580)]==='status@broadcast'||($s[_0xc8bf7c(0x605)][_0xc8bf7c(0x22b)](_0x2c36dd?.[_0xc8bf7c(0x5f4)])&&(_0x2c36dd[_0xc8bf7c(0x5f4)]=_0x2c36dd[_0xc8bf7c(0x5f4)]?.[_0xc8bf7c(0x759)]()),_0x2c36dd[_0xc8bf7c(0x5f4)]&&_0x2c36dd[_0xc8bf7c(0x5f4)]['toString']()['length']<0xd&&(_0x2c36dd[_0xc8bf7c(0x5f4)]=_0x2c36dd[_0xc8bf7c(0x5f4)]*0x3e8),_0x2c36dd[_0xc8bf7c(0x5f4)]<_0x4de5d2))continue;let _0x29836b=(0x0,f[_0xc8bf7c(0x610)])(_0x2c36dd[_0xc8bf7c(0x3df)]),_0x287818=(0x0,f[_0xc8bf7c(0xac)])(_0x29836b),{message_normalized:_0x147199}=this['normalizeMessage'](_0x29836b,_0x287818,null);Object[_0xc8bf7c(0xcf)](_0x147199)[_0xc8bf7c(0x6ab)]>0x0&&_0x31df5d[_0xc8bf7c(0x764)]({'_id':_0x2c36dd['key']['id'],'key':_0x2c36dd[_0xc8bf7c(0xfe)],'pushName':_0x2c36dd[_0xc8bf7c(0x168)],'participant':_0x2c36dd[_0xc8bf7c(0x471)],'message':_0x29836b,'messageType':_0x287818,'message_normalized':{'key':_0x2c36dd[_0xc8bf7c(0xfe)],'pushName':_0x2c36dd[_0xc8bf7c(0x168)],'messageTimestamp':_0x2c36dd[_0xc8bf7c(0x5f4)],..._0x147199},'messageTimestamp':_0x2c36dd[_0xc8bf7c(0x5f4)],'owner':this[_0xc8bf7c(0x144)]['wuid']});}_0x1ebe71[_0xc8bf7c(0x6ad)]&&_0x31df5d[_0xc8bf7c(0x6ab)]>0x0&&(this[_0xc8bf7c(0x4c0)][_0xc8bf7c(0x4e0)](this[_0xc8bf7c(0x5a5)]+'\x20('+this[_0xc8bf7c(0x144)][_0xc8bf7c(0x6c3)]+'):\x20'+_0x31df5d[_0xc8bf7c(0x6ab)]+'\x20mensagens\x20de\x20'+this[_0xc8bf7c(0x144)][_0xc8bf7c(0x6c3)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0xc8bf7c(0x2ed)]['message'][_0xc8bf7c(0x37c)]([..._0x31df5d],this['instance']['wuid'])),this[_0xc8bf7c(0x4d7)](_0xc8bf7c(0x749),[..._0x31df5d]),_0x3242ef=void 0x0;},'messages.upsert':async({messages:_0x58d4bd,type:_0x446af4},_0xb99040)=>{const _0x4467e5=_0x48ffe1;let _0x1a0305=_0x58d4bd[0x0],_0x182c57=_0x1a0305[_0x4467e5(0xfe)]['id'],_0x11e154=_0x1a0305['messageStubType']===0x2,_0x4583d5=0xb;if(this[_0x4467e5(0xff)]?.['groups_ignore']&&_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)][_0x4467e5(0x7e)]('@g.us')){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4467e5(0x144)][_0x4467e5(0x6c3)]+_0x4467e5(0x6db));return;}if(_0x11e154){if(oe[_0x182c57]||(oe[_0x182c57]=0x0),oe[_0x182c57]++,this[_0x4467e5(0x4c0)][_0x4467e5(0x57d)](this[_0x4467e5(0x5a5)]+'\x20('+this[_0x4467e5(0x144)][_0x4467e5(0x6c3)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)]+'\x20e\x20ID='+_0x182c57+':\x20'+oe[_0x182c57]+'/'+_0x4583d5),oe[_0x182c57]>=_0x4583d5){this[_0x4467e5(0x4c0)][_0x4467e5(0x57d)](this[_0x4467e5(0x5a5)]+'\x20('+this[_0x4467e5(0x144)][_0x4467e5(0x6c3)]+'):\x20[ERROR]:\x20No\x20foi\x20possvel\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)]+'\x20e\x20ID='+_0x182c57+'.');let _0x1e9efc={'key':{..._0x1a0305['key']},'message':{'conversation':_0x4467e5(0x31b)+_0x182c57+_0x4467e5(0x21d)}};this['client']['ev'][_0x4467e5(0x5d1)](_0x4467e5(0x36a),{'messages':[_0x1e9efc],'type':_0x4467e5(0x32b)}),delete oe[_0x182c57];}}else oe[_0x182c57]&&(this['logger']['warn'](_0x4467e5(0x27e)+oe[_0x182c57]+_0x4467e5(0x1ba)+_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)]+_0x4467e5(0x230)+_0x182c57),delete oe[_0x182c57]);if(_0x446af4!==_0x4467e5(0x32b)||!_0x1a0305?.[_0x4467e5(0x3df)]||_0x1a0305[_0x4467e5(0x3df)]?.[_0x4467e5(0x6f3)]||_0x1a0305[_0x4467e5(0x3df)]['senderKeyDistributionMessage']||_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)]===_0x4467e5(0x407))return;let _0x41d60a=null,_0x293077=null;try{_0x41d60a=await this[_0x4467e5(0x490)](_0x1a0305),_0x293077=_0x41d60a?_0x41d60a[_0x4467e5(0x119)](','):null;}catch(_0x1c867c){this[_0x4467e5(0x4c0)][_0x4467e5(0x4e0)](this['instanceName']+'\x20('+this[_0x4467e5(0x144)][_0x4467e5(0x6c3)]+'):\x20'+(_0x1c867c instanceof Error?_0x1c867c[_0x4467e5(0x3df)]:JSON[_0x4467e5(0x126)](_0x1c867c,null,0x2))),_0x293077='error\x20get\x20vote';}this['client']['sendPresenceUpdate'](_0x4467e5(0x527)),$s[_0x4467e5(0x605)][_0x4467e5(0x22b)](_0x1a0305[_0x4467e5(0x5f4)])&&(_0x1a0305[_0x4467e5(0x5f4)]=_0x1a0305[_0x4467e5(0x5f4)]?.[_0x4467e5(0x759)]()),_0x1a0305['messageTimestamp']&&_0x1a0305[_0x4467e5(0x5f4)][_0x4467e5(0x56e)]()[_0x4467e5(0x6ab)]<0xd&&(_0x1a0305[_0x4467e5(0x5f4)]=_0x1a0305[_0x4467e5(0x5f4)]*0x3e8);let _0x42b8d6=_0x1a0305['message'],_0x3986f5=(0x0,f[_0x4467e5(0x610)])(_0x42b8d6),_0x37ccb0=(0x0,f[_0x4467e5(0xac)])(_0x3986f5),{messageContent:_0x16c457,message_normalized:_0x357268}=this[_0x4467e5(0x2d5)](_0x3986f5,_0x37ccb0,_0x293077);_0x37ccb0==='protocolMessage'&&_0x16c457?.[_0x4467e5(0x5ac)]&&(_0x37ccb0=_0x4467e5(0x5ac));let _0x540b0b,_0x4014df=_0x1a0305[_0x4467e5(0xfe)][_0x4467e5(0x580)][_0x4467e5(0x43f)](_0x4467e5(0x2bc));if(_0x1a0305[_0x4467e5(0xfe)]['fromMe'])_0x540b0b=this[_0x4467e5(0x144)]['profilePictureUrl'];else{let _0x33fb79=_0x4014df?_0x1a0305[_0x4467e5(0xfe)]['participant']:_0x1a0305['key'][_0x4467e5(0x580)];_0x540b0b=(await this[_0x4467e5(0x91)](_0x33fb79,_0x1a0305[_0x4467e5(0x168)],!0x1))[_0x4467e5(0x37b)][_0x4467e5(0x36f)];}let _0x2bacd5={'_id':_0x1a0305[_0x4467e5(0xfe)]['id'],'key':_0x1a0305[_0x4467e5(0xfe)],'isGroup':_0x4014df,'profilePictureUrl':_0x540b0b,'pushName':_0x1a0305[_0x4467e5(0x168)],'message':_0x3986f5,'messageType':_0x37ccb0,'message_normalized':{'key':_0x1a0305[_0x4467e5(0xfe)],'pushName':_0x1a0305[_0x4467e5(0x168)],'messageTimestamp':_0x1a0305[_0x4467e5(0x5f4)],'source':(0x0,f['getDevice'])(_0x1a0305[_0x4467e5(0xfe)]['id']),..._0x357268},'messageTimestamp':_0x1a0305[_0x4467e5(0x5f4)],'owner':this[_0x4467e5(0x144)]['wuid'],'source':(0x0,f[_0x4467e5(0x2e2)])(_0x1a0305[_0x4467e5(0xfe)]['id']),'expiration':_0x16c457?.['contextInfo']?.[_0x4467e5(0x215)]||0x0};_0x16c457||(console[_0x4467e5(0x57d)]('Mensagem\x20no\x20suportada'),this[_0x4467e5(0x4c0)][_0x4467e5(0x57d)](_0x2bacd5)),this['logger'][_0x4467e5(0x1e1)](this['instanceName']+'\x20('+this[_0x4467e5(0x144)]['wuid']+_0x4467e5(0x468)+(_0x2bacd5[_0x4467e5(0xfe)]?.[_0x4467e5(0x635)]?'enviado\x20para':'recebido\x20de')+'\x20['+_0x2bacd5[_0x4467e5(0xfe)]?.[_0x4467e5(0x580)]['replace'](_0x4467e5(0x40a),'')+']\x20('+_0x2bacd5[_0x4467e5(0x25f)]+')'),_0x2bacd5[_0x4467e5(0x67c)]?.[_0x4467e5(0x54d)]&&this[_0x4467e5(0x4c0)]['log'](_0x182c57+':\x20'+_0x2bacd5[_0x4467e5(0x67c)]?.[_0x4467e5(0x54d)]),await this[_0x4467e5(0x2ed)][_0x4467e5(0x3df)]['insert']([_0x2bacd5],this['instance']['wuid']),this[_0x4467e5(0x4d7)](_0x4467e5(0x36a),_0x2bacd5),U(this['instanceName'],_0x4467e5(0x522),{'message':_0x2bacd5}),_0x1a0305['key'][_0x4467e5(0x580)]!==_0x4467e5(0x407)&&await this[_0x4467e5(0x374)](_0xb99040,_0x2bacd5,'MESSAGES_UPSERT');},'messages.update':async(_0x10c187,_0x5444bb)=>{const _0x5808d5=_0x48ffe1;let _0x21315a={0x0:_0x5808d5(0x221),0x1:_0x5808d5(0x507),0x2:_0x5808d5(0x741),0x3:'DELIVERY_ACK',0x4:_0x5808d5(0x717),0x5:_0x5808d5(0x755)};for await(let {key:_0x2a3e17,update:_0x47a2a5}of _0x10c187){if(this[_0x5808d5(0xff)]?.['groups_ignore']&&_0x2a3e17['remoteJid'][_0x5808d5(0x7e)](_0x5808d5(0x2bc))){this[_0x5808d5(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x5808d5(0x144)]['wuid']+_0x5808d5(0x60e));return;}if(_0x2a3e17[_0x5808d5(0x580)]!==_0x5808d5(0x407)){let _0x32ec52=Date[_0x5808d5(0x34b)](),_0x14de6d;_0x47a2a5[_0x5808d5(0x3df)]===null&&_0x47a2a5['status']===void 0x0?_0x14de6d=_0x5808d5(0x51f):_0x14de6d=_0x21315a[_0x47a2a5[_0x5808d5(0x391)]];let _0x3dbf49=_0x2a3e17[_0x5808d5(0x580)][_0x5808d5(0x2f2)](/:\d{1,2}@/g,'@'),_0x479758={..._0x2a3e17,'remoteJid':_0x3dbf49,'status':_0x14de6d,'datetime':_0x32ec52,'owner':this[_0x5808d5(0x144)][_0x5808d5(0x6c3)]};this[_0x5808d5(0x4d7)](_0x5808d5(0x6b9),_0x479758),await this[_0x5808d5(0x28f)](_0x2a3e17,_0x479758);}}},'labels.association':async({type:_0xb14da8,association:_0x1067ef})=>{const _0x331ba0=_0x48ffe1;if(_0x1067ef['type']==='label_jid'){let _0x174151,_0x5ac4c4=0x0;for(;!_0x174151&&_0x5ac4c4<this[_0x331ba0(0x3f5)];)_0x174151=await this[_0x331ba0(0x2ed)][_0x331ba0(0x30d)]['findOne']({'where':{'_id':_0x1067ef[_0x331ba0(0x61b)]}},this[_0x331ba0(0x144)][_0x331ba0(0x6c3)]),_0x174151||(_0x5ac4c4++,this[_0x331ba0(0x4c0)][_0x331ba0(0x12a)](this['instanceName']+'\x20('+this[_0x331ba0(0x144)]['wuid']+'):\x20Chat\x20'+_0x1067ef[_0x331ba0(0x61b)]+_0x331ba0(0x625)+this['delayChatLabel_RETRY_DELAY_MS']+_0x331ba0(0xe6)+_0x5ac4c4+'/'+this[_0x331ba0(0x3f5)]+')'),await this[_0x331ba0(0x3ab)](this[_0x331ba0(0x47f)]));if(!_0x174151){console[_0x331ba0(0x57d)](_0x331ba0(0x1b2)+_0x1067ef[_0x331ba0(0x61b)]+_0x331ba0(0x249)+this['delayChatLabel_MAX_RETRIES']+_0x331ba0(0x1f9));return;}switch(_0xb14da8){case _0x331ba0(0x494):console[_0x331ba0(0x1e1)](_0x1067ef),await this['repository'][_0x331ba0(0x30d)][_0x331ba0(0x190)]({'where':{'_id':_0x1067ef['chatId']}},{'leadInfo.etiquetas':_0x1067ef[_0x331ba0(0x452)]},this['instance'][_0x331ba0(0x6c3)],void 0x0,'$addToSet');break;case _0x331ba0(0x409):console[_0x331ba0(0x1e1)](_0x1067ef),await this['repository'][_0x331ba0(0x30d)][_0x331ba0(0x190)]({'where':{'_id':_0x1067ef[_0x331ba0(0x61b)]}},{'leadInfo.etiquetas':_0x1067ef['labelId']},this[_0x331ba0(0x144)]['wuid'],void 0x0,_0x331ba0(0x40d));break;default:console[_0x331ba0(0x57d)](_0x331ba0(0x438)+_0xb14da8+']');}}},'labels.edit':async _0x5cc4bb=>{const _0x4f24fb=_0x48ffe1;if(!_0x5cc4bb||!_0x5cc4bb['id']){console[_0x4f24fb(0x57d)](_0x4f24fb(0x252));return;}if(!_0x5cc4bb[_0x4f24fb(0x4ce)]){let _0x1d2e48=[_0x4f24fb(0x537),_0x4f24fb(0x1b5),_0x4f24fb(0x4ca),_0x4f24fb(0xb0),'#9ab6c1','#56ccb4',_0x4f24fb(0x9f),_0x4f24fb(0x6bb),'#6f7bcf',_0x4f24fb(0x13b),_0x4f24fb(0x49f),_0x4f24fb(0x461),_0x4f24fb(0x2fd),_0x4f24fb(0x49c),'#00a1f2','#83e421','#ffae04','#b4ebff',_0x4f24fb(0x653),_0x4f24fb(0x63b)],_0x2c2c80;typeof _0x5cc4bb[_0x4f24fb(0x3cb)]==_0x4f24fb(0x4e6)&&_0x5cc4bb[_0x4f24fb(0x3cb)]>=0x0&&_0x5cc4bb[_0x4f24fb(0x3cb)]<_0x1d2e48['length']?_0x2c2c80=_0x1d2e48[_0x5cc4bb['color']]:(console['error'](_0x4f24fb(0x1f0),_0x5cc4bb[_0x4f24fb(0x3cb)]),_0x2c2c80='#000000');let _0x185361={'_id':_0x5cc4bb['id'],'colorHex':_0x2c2c80,'color':_0x5cc4bb?.[_0x4f24fb(0x3cb)],'name':_0x5cc4bb?.[_0x4f24fb(0x19a)],'owner':this[_0x4f24fb(0x144)]['wuid']};await this['repository'][_0x4f24fb(0x3ca)][_0x4f24fb(0x190)]({'where':{'_id':_0x5cc4bb['id']}},_0x185361,this[_0x4f24fb(0x144)][_0x4f24fb(0x6c3)]),this[_0x4f24fb(0x4c0)][_0x4f24fb(0x12a)](this[_0x4f24fb(0x5a5)]+'\x20('+this[_0x4f24fb(0x144)]['wuid']+'):\x20Rtulo\x20atualizado:\x20'+_0x5cc4bb);}_0x5cc4bb[_0x4f24fb(0x4ce)]&&(await this[_0x4f24fb(0x2ed)][_0x4f24fb(0x3ca)][_0x4f24fb(0x6c5)]({'where':{'_id':_0x5cc4bb['id']}},this[_0x4f24fb(0x144)][_0x4f24fb(0x6c3)]),this[_0x4f24fb(0x4c0)][_0x4f24fb(0x12a)](_0x4f24fb(0x3d5)+_0x5cc4bb['id']));}},this[_0x48ffe1(0x486)]={'groups.upsert':async _0x1ec2c6=>{const _0x253d76=_0x48ffe1;this[_0x253d76(0xff)]?.['groups_ignore']||this[_0x253d76(0x4d7)]('groups.upsert',_0x1ec2c6);for(let _0x302ae1 of _0x1ec2c6)await this['updateGroupWebhook'](_0x302ae1);},'groups.update':async _0xaa3078=>{const _0x544cf7=_0x48ffe1;this[_0x544cf7(0xff)]?.['groups_ignore']||this[_0x544cf7(0x4d7)](_0x544cf7(0x1cf),_0xaa3078);for(let _0x1c6619 of _0xaa3078)await this[_0x544cf7(0x160)](_0x1c6619);},'group-participants.update':async _0x354b71=>{const _0x3abced=_0x48ffe1;this['localWebhook']?.['groups_ignore']||this['sendDataWebhook'](_0x3abced(0xe4),_0x354b71),await this[_0x3abced(0x6b5)](_0x354b71);}},this[_0x48ffe1(0x3f5)]=0x5,this[_0x48ffe1(0x47f)]=0x1388,this[_0x48ffe1(0x490)]=async _0x504cf6=>{const _0x319623=_0x48ffe1;if(_0x504cf6[_0x319623(0x3df)]?.[_0x319623(0x179)]){let _0x2ddfa9=await this[_0x319623(0x594)](_0x504cf6[_0x319623(0x3df)][_0x319623(0x179)][_0x319623(0x337)],!0x0);if(_0x2ddfa9){let _0x391251=_0x2ddfa9[_0x319623(0xfe)]['fromMe']?this[_0x319623(0x144)][_0x319623(0x6c3)]+_0x319623(0x40a):_0x2ddfa9[_0x319623(0xfe)][_0x319623(0x471)]||_0x2ddfa9[_0x319623(0xfe)][_0x319623(0x580)],_0x3a8566=_0x2ddfa9[_0x319623(0xfe)]['id'],_0x25c9de=_0x2ddfa9['message'],_0x393eed=Buffer[_0x319623(0x4d0)](_0x25c9de[_0x319623(0x4a7)]['messageSecret']['toString'](_0x319623(0x5ba)),_0x319623(0x5ba)),_0x7431c1=(0x0,f[_0x319623(0x336)])(_0x504cf6[_0x319623(0x3df)][_0x319623(0x179)][_0x319623(0x54c)],{'pollCreatorJid':_0x391251,'pollMsgId':_0x3a8566,'pollEncKey':_0x393eed,'voterJid':_0x504cf6[_0x319623(0xfe)][_0x319623(0x635)]?this[_0x319623(0x144)][_0x319623(0x6c3)]+_0x319623(0x40a):_0x504cf6[_0x319623(0xfe)][_0x319623(0x580)]['endsWith']('g.us')?_0x504cf6[_0x319623(0xfe)][_0x319623(0x471)]:_0x504cf6[_0x319623(0xfe)][_0x319623(0x580)]}),_0x288dfc=[],_0x8cda17=_0x7431c1[_0x319623(0x29b)][_0x319623(0x687)](_0x210d8e=>Buffer[_0x319623(0x4d0)](_0x210d8e)[_0x319623(0x56e)]('hex'));for(let {optionName:_0x40bb74}of _0x25c9de['pollCreationMessage']?.[_0x319623(0x340)]||_0x25c9de['pollCreationMessageV3']?.[_0x319623(0x340)]||_0x25c9de[_0x319623(0x101)]?.[_0x319623(0x340)])_0x8cda17[_0x319623(0x191)]((0x0,f['sha256'])(Buffer[_0x319623(0x4d0)](_0x40bb74))[_0x319623(0x56e)](_0x319623(0x5ba)))>-0x1&&_0x288dfc[_0x319623(0x764)](_0x40bb74);return _0x288dfc;}}return null;},this[_0x48ffe1(0x2d5)]=(_0x112ef0,_0x10980c,_0x5f5879)=>{const _0x1a5372=_0x48ffe1;try{let _0x37637c=_0x112ef0?(0x0,f[_0x1a5372(0x33e)])(_0x112ef0)[_0x10980c]:void 0x0,_0xedbc91={},_0x3dc258=null,_0xf4b342=null,_0x316e2f=null;_0x10980c===_0x1a5372(0x6f3)&&_0x37637c?.[_0x1a5372(0x5ac)]&&(_0x10980c=(0x0,f[_0x1a5372(0xac)])(_0x37637c['editedMessage']),_0x3dc258=_0x112ef0[_0x1a5372(0x6f3)][_0x1a5372(0xfe)]['id'],_0x37637c=_0x112ef0[_0x1a5372(0x6f3)][_0x1a5372(0x5ac)][_0x10980c]),_0x112ef0[_0x10980c]?.[_0x1a5372(0x455)]?.[_0x1a5372(0x6ae)]&&_0x112ef0[_0x10980c]?.[_0x1a5372(0x455)]?.[_0x1a5372(0x31f)]&&(_0xf4b342=_0x112ef0[_0x10980c]['contextInfo'][_0x1a5372(0x6ae)]),_0x112ef0[_0x1a5372(0x181)]&&(_0x316e2f=_0x112ef0[_0x1a5372(0x181)][_0x1a5372(0xfe)]['id']);let _0x576419;if(_0x37637c&&typeof _0x37637c=='object'&&'pollCreationMessageKey'in _0x37637c&&({pollCreationMessageKey:_0x576419}=_0x37637c),_0x10980c==='pollCreationMessage'||_0x10980c===_0x1a5372(0x101)||_0x10980c===_0x1a5372(0x4c5)){let _0x575965=_0x37637c['options'][_0x1a5372(0x687)](_0x5e85ec=>_0x5e85ec['optionName'])[_0x1a5372(0x119)]('|');_0xedbc91['convertedOptions']=_0x575965;}let _0x70142d='';if(_0x37637c&&(_0x70142d+=_0x37637c[_0x1a5372(0x19a)]?_0x37637c[_0x1a5372(0x19a)]:'',_0x70142d+=_0x37637c[_0x1a5372(0x177)]?'\x20'+_0x37637c[_0x1a5372(0x177)]:'',_0x70142d+=_0x37637c[_0x1a5372(0x24a)]?'\x20'+_0x37637c['conversation']:'',_0x70142d+=_0x37637c[_0x1a5372(0x5ed)]?'\x20'+_0x37637c[_0x1a5372(0x5ed)]:''),_0x10980c===_0x1a5372(0x17f)){_0x70142d=(_0x37637c[_0x1a5372(0x5f2)]||'')+'\x0a'+(_0x37637c['description']||'')+'\x0a'+(_0x37637c[_0x1a5372(0x3d8)]||'');let _0x4e40e9=this[_0x1a5372(0x650)](_0x37637c[_0x1a5372(0x445)]);_0xedbc91[_0x1a5372(0x276)]=_0x4e40e9;}if(_0x10980c==='listResponseMessage'&&(_0x5f5879=_0x37637c['title']),_0x37637c&&_0x37637c[_0x1a5372(0x5a6)]){let _0xca7a4c=this[_0x1a5372(0x5bf)](JSON[_0x1a5372(0x126)](_0x37637c[_0x1a5372(0x5a6)],null,0x2));_0x70142d=_0x70142d+'\x0a'+_0xca7a4c;}if(_0x37637c){let {sections:_0x3224b0,listType:_0xcfd08,displayName:_0x1d1a95,vcard:_0x140ced,contactVcard:_0x84d3a0,name:_0x51b1b9,caption:_0x136872,conversation:_0x1120b1,pollCreationMessageKey:_0x5a88c2,footerText:_0x493326,contentText:_0x58cead,pageCount:_0x3750df,headerType:_0x5b1ed8,isAvatar:_0x7eded,isAnimated:_0x5a6be7,fallbackLc:_0x578036,fallbackLg:_0x1466fb,namespace:_0x1532f7,elementName:_0xa86958,localizableParams:_0x2d0937,viewOnce:_0x1b2176,height:_0x13e317,width:_0x212a91,key:_0x33493b,firstScanLength:_0x2aac7c,firstScanSidecar:_0x3ee5f7,gifPlayback:_0x3ff098,gifAttribution:_0x1e2cce,midQualityFileSha256:_0x561f56,scansSidecar:_0x395cc8,streamingSidecar:_0x36bcc6,thumbnailHeight:_0x113227,thumbnailWidth:_0x39fcb6,thumbnailEncSha256:_0x301c65,thumbnailDirectPath:_0x4e0ed0,canonicalUrl:_0x5b1b89,matchedText:_0x54025a,previewType:_0x470657,thumbnailSha256:_0xad2f09,deviceListMetadataVersion:_0x144cf7,inviteLinkGroupTypeV2:_0x534345,interactiveAnnotations:_0x3116a4,scanLengths:_0x38a9b2,jpegThumbnail:_0x199277,url:_0x39d8c0,mediaKeyTimestamp:_0x36bcb6,waveform:_0xbd7f2a,stickerSentTs:_0x25a3db,firstFrameLength:_0xc14964,fileEncSha256:_0x7f8671,contextInfo:_0x453357,firstFrameSidecar:_0x25e110,directPath:_0x59feab,fileSha256:_0x2cf41a,mediaKey:_0x35086d,senderTimestampMs:_0xece0ab,..._0x31a403}=_0x37637c;(_0x10980c===_0x1a5372(0x17f)||_0x10980c===_0x1a5372(0xb9))&&(delete _0x31a403['title'],delete _0x31a403[_0x1a5372(0x46a)]),typeof _0x37637c=='string'?_0xedbc91={'text':_0x37637c,'type':_0x10980c||_0x1a5372(0x24a),..._0x3dc258&&{'edited':_0x3dc258},..._0xf4b342&&{'quoted':_0xf4b342},..._0x316e2f&&{'reaction':_0x316e2f}}:_0xedbc91={'text':_0x70142d,..._0x31a403,..._0x10980c===_0x1a5372(0x179)?{'poll_id':_0x37637c[_0x1a5372(0x337)]['id'],'quoted':_0x37637c[_0x1a5372(0x337)]['id'],'vote':_0x5f5879}:{},..._0x10980c===_0x1a5372(0xb9)?{'vote':_0x5f5879}:{},'type':_0x10980c,..._0x3dc258&&{'edited':_0x3dc258},..._0xf4b342&&{'quoted':_0xf4b342},..._0x316e2f&&{'reaction':_0x316e2f},...(_0x10980c==='pollCreationMessage'||_0x10980c==='pollCreationMessageV2'||_0x10980c===_0x1a5372(0x4c5)||_0x10980c===_0x1a5372(0x17f))&&{'convertedOptions':_0xedbc91[_0x1a5372(0x276)]}};}return{'messageType':_0x10980c,'messageContent':_0x37637c,'message_normalized':_0xedbc91};}catch(_0x22a0e7){return console[_0x1a5372(0x57d)](_0x1a5372(0x142),_0x22a0e7),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x48ffe1(0x6a7)](),this['instance'][_0x48ffe1(0x244)]={'count':0x0},this[_0x48ffe1(0x144)][_0x48ffe1(0x35e)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x187b1e(0x5a5)](_0x24ff23){const _0x5aa60f=a0_0x187b1e;if(!_0x24ff23){this[_0x5aa60f(0x144)]['name']=(0x0,Co['v4'])();return;}this['instance'][_0x5aa60f(0x19a)]=_0x24ff23,this[_0x5aa60f(0x4d7)](_0x5aa60f(0x1fc),{'instance':this[_0x5aa60f(0x144)][_0x5aa60f(0x19a)],'status':_0x5aa60f(0x5c3)});}get[a0_0x187b1e(0x5a5)](){const _0x1f6d19=a0_0x187b1e;return this['instance'][_0x1f6d19(0x19a)];}get[a0_0x187b1e(0x6c3)](){const _0x230522=a0_0x187b1e;return this[_0x230522(0x144)]['wuid'];}async[a0_0x187b1e(0x42b)](){const _0x140370=a0_0x187b1e;let _0x2db094=this['client']['user']?.['name']??this[_0x140370(0x27d)][_0x140370(0x282)]?.[_0x140370(0x41b)];if(!_0x2db094){if(this[_0x140370(0x684)]['get'](_0x140370(0x228))['ENABLED']){let _0x143c37=await O['getClient']()['db'](this['configService'][_0x140370(0x8e)](_0x140370(0x228))[_0x140370(0x7f)][_0x140370(0x4e3)]+_0x140370(0x3c5))['collection'](this[_0x140370(0x5a5)])[_0x140370(0x525)]({'_id':_0x140370(0xa1)});if(_0x143c37){let _0x536473=JSON[_0x140370(0x329)](JSON[_0x140370(0x126)](_0x143c37),f['BufferJSON'][_0x140370(0x39f)]);_0x2db094=_0x536473['me']?.[_0x140370(0x19a)]||_0x536473['me']?.[_0x140370(0x41b)];}}else{if((0x0,Te[_0x140370(0x516)])((0x0,F[_0x140370(0x119)])(me,this['instanceName'],_0x140370(0x5a0)))){let _0x326863=JSON[_0x140370(0x329)]((0x0,Te['readFileSync'])((0x0,F[_0x140370(0x119)])(me,this['instanceName'],'creds.json'),{'encoding':_0x140370(0x21f)}));_0x2db094=_0x326863['me']?.['name']||_0x326863['me']?.[_0x140370(0x41b)];}}}return _0x2db094;}get[a0_0x187b1e(0x1ed)](){const _0x4085ea=a0_0x187b1e;return this[_0x4085ea(0x144)][_0x4085ea(0x1ed)];}get[a0_0x187b1e(0x75f)](){const _0x593f96=a0_0x187b1e;return this[_0x593f96(0x144)][_0x593f96(0x244)]?.['pairingCode']?{'pairingCode':this[_0x593f96(0x144)][_0x593f96(0x244)]?.[_0x593f96(0x1d8)]}:{'code':this[_0x593f96(0x144)][_0x593f96(0x244)]?.[_0x593f96(0x31a)],'base64':this[_0x593f96(0x144)][_0x593f96(0x244)]?.['base64']};}async[a0_0x187b1e(0x36b)](){const _0x5a0fbe=a0_0x187b1e;let _0x264033=await this[_0x5a0fbe(0x2ed)][_0x5a0fbe(0x2f3)]['find'](this[_0x5a0fbe(0x5a5)]);this[_0x5a0fbe(0xff)][_0x5a0fbe(0x3b2)]=_0x264033?.[_0x5a0fbe(0x3b2)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x5bc)]=_0x264033?.[_0x5a0fbe(0x5bc)],this['localWebhook'][_0x5a0fbe(0x588)]=_0x264033?.[_0x5a0fbe(0x588)],this[_0x5a0fbe(0xff)]['STATUS_INSTANCE']=_0x264033?.[_0x5a0fbe(0x5b8)],this[_0x5a0fbe(0xff)]['QRCODE_UPDATED']=_0x264033?.[_0x5a0fbe(0x3ff)],this['localWebhook']['SEND_MESSAGE']=_0x264033?.[_0x5a0fbe(0x679)],this['localWebhook'][_0x5a0fbe(0x69b)]=_0x264033?.[_0x5a0fbe(0x69b)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x12e)]=_0x264033?.[_0x5a0fbe(0x12e)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x462)]=_0x264033?.['GROUPS_UPSERT'],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x614)]=_0x264033?.[_0x5a0fbe(0x614)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x272)]=_0x264033?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x172)]=_0x264033?.['CHATS_SET'],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x2bf)]=_0x264033?.[_0x5a0fbe(0x2bf)],this['localWebhook'][_0x5a0fbe(0x6c6)]=_0x264033?.[_0x5a0fbe(0x6c6)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x1a0)]=_0x264033?.['CHATS_DELETE'],this[_0x5a0fbe(0xff)]['CONTACTS_SET']=_0x264033?.[_0x5a0fbe(0x349)],this['localWebhook'][_0x5a0fbe(0x99)]=_0x264033?.[_0x5a0fbe(0x99)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x49d)]=_0x264033?.[_0x5a0fbe(0x49d)],this['localWebhook']['PRESENCE_UPDATE']=_0x264033?.[_0x5a0fbe(0x15a)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0x5a8)]=_0x264033?.[_0x5a0fbe(0x5a8)],this[_0x5a0fbe(0xff)][_0x5a0fbe(0xfc)]=_0x264033?.[_0x5a0fbe(0xfc)],this['localWebhook'][_0x5a0fbe(0x29e)]=_0x264033?.[_0x5a0fbe(0x29e)];}async['setWebhook'](_0x280134){const _0x3827a3=a0_0x187b1e;let _0x1084a0=[_0x3827a3(0xf5),_0x3827a3(0x3b2),_0x3827a3(0x5bc),'local_map',_0x3827a3(0x5b8),_0x3827a3(0x3ff),'MESSAGES_UPDATE',_0x3827a3(0x69b),_0x3827a3(0x679),_0x3827a3(0x462),_0x3827a3(0x614),'GROUP_PARTICIPANTS_UPDATE',_0x3827a3(0x172),_0x3827a3(0x2bf),_0x3827a3(0x6c6),_0x3827a3(0x1a0),'CONTACTS_SET',_0x3827a3(0x99),_0x3827a3(0x49d),_0x3827a3(0x15a),'MESSAGES_SET',_0x3827a3(0xfc),_0x3827a3(0x29e)],_0x43240d={};return _0x1084a0[_0x3827a3(0x4d6)](_0x228878=>{_0x280134[_0x228878]!==void 0x0&&(_0x43240d[_0x228878]=_0x280134[_0x228878]);}),_0x43240d[_0x3827a3(0x3b2)]&&(_0x43240d[_0x3827a3(0x3b2)]=_0x43240d['url'][_0x3827a3(0x689)]()),await this[_0x3827a3(0x2ed)][_0x3827a3(0x2f3)][_0x3827a3(0x57f)](_0x43240d,this[_0x3827a3(0x5a5)]),Object[_0x3827a3(0x5af)](this[_0x3827a3(0xff)],_0x43240d),await this[_0x3827a3(0x2ed)]['webhook']['find'](this[_0x3827a3(0x5a5)]);}async['findWebhook'](){const _0x343847=a0_0x187b1e;return await this[_0x343847(0x2ed)][_0x343847(0x2f3)][_0x343847(0x528)](this[_0x343847(0x5a5)]);}async[a0_0x187b1e(0x4d7)](_0x114fe0,_0x59c95d){const _0x4c2481=a0_0x187b1e;let _0x18df14=_0x114fe0[_0x4c2481(0x2f2)](/[\.-]/gm,'_')[_0x4c2481(0x529)](),_0x3e4c1d=this['localWebhook']['enabled']&&(0x0,P[_0x4c2481(0x330)])(this[_0x4c2481(0xff)][_0x4c2481(0x3b2)])?this[_0x4c2481(0xff)]['url']+(this[_0x4c2481(0xff)][_0x4c2481(0x588)]?this['webhookMap'][_0x114fe0]:''):null,_0x3dec49=this[_0x4c2481(0xff)][_0x18df14],_0x4b892d=ue&&ue[_0x4c2481(0x5bc)]&&(0x0,P['isURL'])(ue[_0x4c2481(0x3b2)])?ue['url']+(ue[_0x4c2481(0x588)]?this[_0x4c2481(0x1ce)][_0x114fe0]:''):null,_0x1c996f=ue?ue[_0x18df14]:null;if(_0x3dec49&&_0x3e4c1d)try{await K['default']['create']({'baseURL':_0x3e4c1d})[_0x4c2481(0x682)]('',{'event':_0x114fe0,'instance':this[_0x4c2481(0x144)][_0x4c2481(0x19a)],'apikey':this[_0x4c2481(0x144)]['apikey'],'data':_0x59c95d}),this['logger'][_0x4c2481(0x1e1)](this[_0x4c2481(0x5a5)]+'\x20('+this['instance'][_0x4c2481(0x6c3)]+_0x4c2481(0x488)+_0x114fe0+':\x20'+_0x3e4c1d);}catch{this[_0x4c2481(0x4c0)][_0x4c2481(0x57d)](this['instanceName']+'\x20('+this[_0x4c2481(0x144)][_0x4c2481(0x6c3)]+_0x4c2481(0x671)+_0x114fe0+':\x20'+_0x3e4c1d);}if(_0x1c996f&&_0x4b892d)try{await K[_0x4c2481(0x605)][_0x4c2481(0x57f)]({'baseURL':_0x4b892d})['post']('',{'event':_0x114fe0,'instance':this[_0x4c2481(0x144)][_0x4c2481(0x19a)],'apikey':this[_0x4c2481(0x144)][_0x4c2481(0x704)],'data':_0x59c95d}),this['logger'][_0x4c2481(0x1e1)](this[_0x4c2481(0x5a5)]+'\x20('+this[_0x4c2481(0x144)][_0x4c2481(0x6c3)]+_0x4c2481(0x18b)+_0x114fe0+':\x20'+_0x4b892d);}catch{this[_0x4c2481(0x4c0)][_0x4c2481(0x57d)](this[_0x4c2481(0x5a5)]+'\x20('+this[_0x4c2481(0x144)][_0x4c2481(0x6c3)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x114fe0+':\x20'+_0x4b892d);}}async['connectionUpdate']({qr:_0x3bfc75,connection:_0x3c628f,lastDisconnect:_0x2d479a}){const _0x16866a=a0_0x187b1e;if(_0x3bfc75){if(this['instance'][_0x16866a(0x244)][_0x16866a(0x92)]===Er)return this[_0x16866a(0x4d7)](_0x16866a(0x68c),{'message':_0x16866a(0x52a),'statusCode':f[_0x16866a(0x23b)][_0x16866a(0x3d0)]}),this[_0x16866a(0x271)]={'state':_0x16866a(0x2d3),'statusReason':f[_0x16866a(0x23b)][_0x16866a(0x74c)]},this[_0x16866a(0x4d7)](_0x16866a(0x2b5),{'instance':this['instance'][_0x16866a(0x19a)],...this[_0x16866a(0x271)]}),this[_0x16866a(0x4d7)](_0x16866a(0x1fc),{'instance':this['instance']['name'],'status':_0x16866a(0x4aa)}),this['repository'][_0x16866a(0x207)][_0x16866a(0x57f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x16866a(0x34b)]()},this[_0x16866a(0x144)][_0x16866a(0x19a)]),this[_0x16866a(0x6f0)]=!0x0,this[_0x16866a(0x3e3)]['emit'](_0x16866a(0x94),this[_0x16866a(0x144)]['name']);this[_0x16866a(0x144)][_0x16866a(0x244)][_0x16866a(0x92)]++;let _0x3b908a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x16866a(0x718),'dark':_0x16866a(0x744)}};Eo[_0x16866a(0x605)][_0x16866a(0x3cf)](_0x3bfc75,_0x3b908a,(_0x49cefa,_0x52ddcd)=>{const _0x124147=_0x16866a;if(_0x49cefa){this[_0x124147(0x4c0)][_0x124147(0x57d)](this[_0x124147(0x5a5)]+'\x20('+this['instance'][_0x124147(0x6c3)]+_0x124147(0x75b)+(_0x49cefa instanceof Error?_0x49cefa[_0x124147(0x3df)]:JSON[_0x124147(0x126)](_0x49cefa,null,0x2)));return;}this[_0x124147(0x144)][_0x124147(0x244)][_0x124147(0x139)]=_0x52ddcd,this[_0x124147(0x144)][_0x124147(0x244)]['code']=_0x3bfc75,!this[_0x124147(0x487)]&&this['sendDataWebhook'](_0x124147(0x68c),{'qrcode':{'instance':this[_0x124147(0x144)]['name'],'pairingCode':this[_0x124147(0x144)][_0x124147(0x244)][_0x124147(0x1d8)],'code':_0x3bfc75,'base64':_0x52ddcd}});}),this[_0x16866a(0x487)]?this['instance']['qrcode'][_0x16866a(0x1d8)]||(await(0x0,f[_0x16866a(0x185)])(0x7d0),this[_0x16866a(0x144)]['qrcode'][_0x16866a(0x1d8)]=await this[_0x16866a(0x27d)][_0x16866a(0x11f)](this['phoneNumber'])):this['instance'][_0x16866a(0x244)][_0x16866a(0x1d8)]=null,vo['default']['generate'](_0x3bfc75,{'small':!0x0},_0x4ef0c2=>this[_0x16866a(0x4c0)][_0x16866a(0x1e1)](_0x16866a(0x411)+this['instance'][_0x16866a(0x19a)]+_0x16866a(0x4fd)+this[_0x16866a(0x144)][_0x16866a(0x244)][_0x16866a(0x92)]+',\x20pairCode:\x20'+this[_0x16866a(0x144)][_0x16866a(0x244)]['pairingCode']+_0x16866a(0x3ee)+_0x4ef0c2));}if(_0x3c628f&&(this[_0x16866a(0x271)]={'state':_0x3c628f,'statusReason':_0x2d479a?.['error']?.[_0x16866a(0x16f)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x16866a(0x2b5),{'instance':this['instance'][_0x16866a(0x19a)],...this[_0x16866a(0x271)]})),_0x3c628f===_0x16866a(0x750)){if(this['reconnectAttempts']++,this['reconnectTimestamps'][_0x16866a(0x764)](Date[_0x16866a(0x34b)]()),this[_0x16866a(0x67e)]=this[_0x16866a(0x67e)][_0x16866a(0x348)](_0x55d991=>Date[_0x16866a(0x34b)]()-_0x55d991<this[_0x16866a(0xad)]),_0x2d479a[_0x16866a(0x57d)]?.[_0x16866a(0x16f)]?.[_0x16866a(0x170)]!==f[_0x16866a(0x23b)][_0x16866a(0x10c)]&&this[_0x16866a(0x67e)][_0x16866a(0x6ab)]<=this[_0x16866a(0x745)])console[_0x16866a(0x1e1)](this[_0x16866a(0x5a5)]+_0x16866a(0x35b)+this['reconnectAttempts']+'/'+this[_0x16866a(0x745)]+_0x16866a(0x12b)),console[_0x16866a(0x1e1)](_0x16866a(0xe0)),await this[_0x16866a(0x20b)]();else{this[_0x16866a(0x4d7)]('status.instance',{'instance':this[_0x16866a(0x144)][_0x16866a(0x19a)],'status':_0x16866a(0x4aa)}),this[_0x16866a(0x144)][_0x16866a(0x35e)][_0x16866a(0x25c)]=!0x1,this[_0x16866a(0x2ed)][_0x16866a(0x2f3)][_0x16866a(0x6c5)](this[_0x16866a(0x5a5)]),this[_0x16866a(0x2ed)][_0x16866a(0x207)][_0x16866a(0x57f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x16866a(0x34b)]()},this[_0x16866a(0x144)]['name']);try{this['logger'][_0x16866a(0x4e0)](this[_0x16866a(0x5a5)]+'\x20('+this[_0x16866a(0x144)][_0x16866a(0x6c3)]+_0x16866a(0x4f3));let _0x735255=await this['repository'][_0x16866a(0x3df)][_0x16866a(0x2a7)](this[_0x16866a(0x144)][_0x16866a(0x6c3)]);_0x735255[_0x16866a(0x38a)]?this[_0x16866a(0x4c0)][_0x16866a(0x4e0)](this['instanceName']+'\x20('+this[_0x16866a(0x144)][_0x16866a(0x6c3)]+_0x16866a(0x4b5)):console[_0x16866a(0x57d)](_0x16866a(0x6fb),_0x735255['error']);}catch(_0xaf381d){console[_0x16866a(0x57d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0xaf381d[_0x16866a(0x3df)]);}this[_0x16866a(0x144)]['ScheduleMessage']['delayMessage']!==null&&(this[_0x16866a(0x4c0)]['verbose'](this[_0x16866a(0x5a5)]+'\x20('+this['instance'][_0x16866a(0x6c3)]+_0x16866a(0x22a)),clearInterval(this[_0x16866a(0x144)][_0x16866a(0x35e)][_0x16866a(0x344)]),this['instance'][_0x16866a(0x35e)]['delayMessage']=null),this[_0x16866a(0x4c0)][_0x16866a(0x4e0)](this[_0x16866a(0x5a5)]+'\x20('+this[_0x16866a(0x144)]['wuid']+_0x16866a(0xc2)),this[_0x16866a(0x599)]=null,this[_0x16866a(0x3e3)][_0x16866a(0x5d1)](_0x16866a(0x3cc),this[_0x16866a(0x144)]['name'],_0x16866a(0x339)),this[_0x16866a(0x27d)]?.['ws']?.[_0x16866a(0x750)](),this[_0x16866a(0x27d)]['end'](new Error('Close\x20connection'));}}if(_0x3c628f===_0x16866a(0xa5)){this[_0x16866a(0x27d)]['ev'][_0x16866a(0x429)](),this[_0x16866a(0x3be)],this['instance'][_0x16866a(0x6c3)]=this[_0x16866a(0x27d)][_0x16866a(0x282)]['id'][_0x16866a(0x2f2)](/:\d+/,'')[_0x16866a(0x2f2)](_0x16866a(0x40a),''),this[_0x16866a(0x144)][_0x16866a(0x1ed)]=(await this[_0x16866a(0x5f6)](this['instance']['wuid']+'@s.whatsapp.net'))[_0x16866a(0x1ed)],this[_0x16866a(0x2ed)][_0x16866a(0x207)][_0x16866a(0x57f)]({'online':!0x0,'owner':this['instance'][_0x16866a(0x6c3)],'lastDisconnect':null},this[_0x16866a(0x144)][_0x16866a(0x19a)]);let _0x32050a=_0x16866a(0x158)+this[_0x16866a(0x144)][_0x16866a(0x6c3)],_0x1ece12=0x28,_0x41ddb5=Math[_0x16866a(0x3c4)]((_0x1ece12-_0x32050a['length'])/0x2),_0x3a30f1='\x20'[_0x16866a(0x668)](_0x41ddb5),_0x1a6b45=_0x16866a(0x3fd),_0xb0f32=_0x16866a(0x68e)+this[_0x16866a(0x144)][_0x16866a(0x19a)],_0x33f557=(''+_0x3a30f1+_0x32050a+_0x3a30f1)['padEnd'](_0x1ece12,'\x20'),_0x2ea536=(''+_0x3a30f1+_0x1a6b45+_0x3a30f1)[_0x16866a(0x644)](_0x1ece12,'\x20'),_0x2b19c5=(''+_0x3a30f1+_0xb0f32+_0x3a30f1)['padEnd'](_0x1ece12,'\x20'),_0x1d1bce=Math[_0x16866a(0x5cf)](_0x33f557[_0x16866a(0x6ab)],_0x2ea536[_0x16866a(0x6ab)],_0x2b19c5['length']),_0xdd7bd6=_0x33f557[_0x16866a(0x644)](_0x1d1bce,'\x20'),_0x39aa0f=_0x2ea536[_0x16866a(0x644)](_0x1d1bce,'\x20'),_0x5baf76=_0x2b19c5['padEnd'](_0x1d1bce,'\x20');this[_0x16866a(0x4c0)][_0x16866a(0x12a)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x16866a(0x668)](_0x1d1bce)+_0x16866a(0x2c4)+_0x39aa0f+_0x16866a(0x213)+_0x5baf76+_0x16866a(0x213)+_0xdd7bd6+_0x16866a(0x65c)+''['repeat'](_0x1d1bce)+'')[_0x16866a(0x2f2)](/^ +/gm,'\x20\x20')),this[_0x16866a(0x250)](),this[_0x16866a(0x144)][_0x16866a(0x35e)][_0x16866a(0x25c)]=!0x0;}}[a0_0x187b1e(0x3be)](){const _0x3265af=a0_0x187b1e;this[_0x3265af(0x35f)]=0x0,this[_0x3265af(0x67e)]=[];}async[a0_0x187b1e(0x594)](_0x472a9e,_0x584de2=!0x1){const _0x451a7b=a0_0x187b1e;try{let _0x30f4a5=await this['repository'][_0x451a7b(0x3df)][_0x451a7b(0x528)]({'where':{'_id':_0x472a9e['id']}},this['instance']['wuid']);return _0x584de2?_0x30f4a5[0x0]:_0x30f4a5[0x0][_0x451a7b(0x3df)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x33b296=a0_0x187b1e;let _0x309015=this[_0x33b296(0x684)][_0x33b296(0x8e)](_0x33b296(0x2d1)),_0x17f671=this[_0x33b296(0x684)]['get'](_0x33b296(0x228));_0x309015?.[_0x33b296(0x5f9)]&&!_0x17f671[_0x33b296(0x6ad)]&&setInterval(()=>{const _0x4fd1aa=_0x33b296;try{for(let [_0x332475,_0x56928e]of Object[_0x4fd1aa(0x466)](_0x309015))_0x56928e===!0x0&&(0x0,$e['execSync'])(_0x4fd1aa(0x426)+(0x0,F['join'])(this[_0x4fd1aa(0x5cd)],_0x332475[_0x4fd1aa(0x464)](),this[_0x4fd1aa(0x144)][_0x4fd1aa(0x6c3)])+_0x4fd1aa(0x107));}catch{}},(_0x309015?.[_0x33b296(0x5f9)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x5289bf=a0_0x187b1e;let _0x3ad551=this[_0x5289bf(0x684)]['get'](_0x5289bf(0x228)),_0x10cd94=this[_0x5289bf(0x684)][_0x5289bf(0x8e)](_0x5289bf(0x2a4));return _0x10cd94?.[_0x5289bf(0x6ad)]?await Ns(_0x10cd94,this[_0x5289bf(0x144)][_0x5289bf(0x19a)]):_0x3ad551[_0x5289bf(0x6ad)]?await vs(this[_0x5289bf(0x144)][_0x5289bf(0x19a)]):await(0x0,f[_0x5289bf(0x69d)])((0x0,F[_0x5289bf(0x119)])(me,this['instance']['name']));}async['AutomateFunctions'](){const _0x1d12a7=a0_0x187b1e;let _0x5b7379=()=>Math[_0x1d12a7(0x3c4)](Math[_0x1d12a7(0x1ca)]()*0x2711)+0x7d0,_0x53b61f=async()=>{const _0x43e82e=_0x1d12a7;if(!this[_0x43e82e(0x144)][_0x43e82e(0x35e)][_0x43e82e(0x25c)]){this[_0x43e82e(0x4c0)][_0x43e82e(0x4e0)](_0x43e82e(0x3a3)),this[_0x43e82e(0x5a2)]=!0x1;return;}if(this[_0x43e82e(0x144)]['wuid']&&this['AutomateSystem']&&this[_0x43e82e(0x144)]['ScheduleMessage'][_0x43e82e(0x344)]!==null&&this[_0x43e82e(0x144)][_0x43e82e(0x35e)][_0x43e82e(0x344)]!==void 0x0){let _0x5e8291=Math['round'](this[_0x43e82e(0x144)][_0x43e82e(0x35e)][_0x43e82e(0x344)]/0xea60);this[_0x43e82e(0x4c0)]['verbose'](this[_0x43e82e(0x5a5)]+'\x20('+this[_0x43e82e(0x144)][_0x43e82e(0x6c3)]+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x5e8291+_0x43e82e(0x313)),this[_0x43e82e(0x5a2)]=!0x1;return;}else this['instance'][_0x43e82e(0x6c3)]&&(this[_0x43e82e(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x43e82e(0x144)][_0x43e82e(0x6c3)]+_0x43e82e(0x2c7)),this['AutomateSystem']||(await this[_0x43e82e(0x1a3)](),this[_0x43e82e(0x434)]()),(this[_0x43e82e(0x144)][_0x43e82e(0x35e)][_0x43e82e(0x344)]===null||this['instance'][_0x43e82e(0x35e)][_0x43e82e(0x344)]===void 0x0)&&await this[_0x43e82e(0x695)]());if(this['isRunning']){let _0x3e8b72=_0x5b7379();this['logger'][_0x43e82e(0x4e0)](this[_0x43e82e(0x5a5)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3e8b72/0x3e8+_0x43e82e(0x11a)),setTimeout(_0x53b61f,_0x3e8b72);}};if(this[_0x1d12a7(0x5a2)])return;this['isRunning']=!0x0;let _0x16d509=_0x5b7379();setTimeout(_0x53b61f,_0x16d509);}async[a0_0x187b1e(0x616)](_0x4d961e=0x0,_0x3624a2=!0x1){const _0x4805eb=a0_0x187b1e;try{let _0x4276d4=this[_0x4805eb(0x684)][_0x4805eb(0x8e)](_0x4805eb(0x6cd));if(_0x4276d4!==0x1||typeof _0x4276d4>'u'||_0x4d961e>=0x5)return this[_0x4805eb(0x4c0)]['warn'](_0x4805eb(0x84)),this['repository']['auth'][_0x4805eb(0x57f)]({'ip':null},this['instance'][_0x4805eb(0x19a)]),{};this[_0x4805eb(0x4c0)][_0x4805eb(0x4e0)](this[_0x4805eb(0x5a5)]+_0x4805eb(0x6ea)+(_0x4d961e+0x1)+_0x4805eb(0xc7));let _0x84747;if(!_0x3624a2){let _0x23101c=await this['repository'][_0x4805eb(0x207)]['find'](this[_0x4805eb(0x5a5)]);_0x23101c&&_0x23101c['ip']&&(_0x84747=yo(_0x23101c['ip']));}if((!_0x84747||!Rs(_0x84747))&&(this[_0x4805eb(0x4c0)][_0x4805eb(0x436)](this[_0x4805eb(0x5a5)]+':\x20no\x20h\x20IP\x20salvo,\x20ou\x20est\x20invlido,\x20selecionando\x20um\x20IP\x20aleatrio.'),_0x84747=bo()),_0x84747&&Rs(_0x84747)){let _0x15d2ab=_0x84747[_0x4805eb(0x631)]&&_0x84747[_0x4805eb(0x264)]?_0x84747[_0x4805eb(0x74f)]+_0x4805eb(0x65a)+_0x84747[_0x4805eb(0x631)]+':'+_0x84747[_0x4805eb(0x264)]+'@'+_0x84747[_0x4805eb(0x1db)]+':'+_0x84747[_0x4805eb(0xf4)]:_0x84747[_0x4805eb(0x74f)]+_0x4805eb(0x65a)+_0x84747[_0x4805eb(0x1db)]+':'+_0x84747['port'];return await this['testProxy'](_0x15d2ab,_0x84747[_0x4805eb(0x1db)])?(this[_0x4805eb(0x4c0)][_0x4805eb(0x4e0)](this[_0x4805eb(0x5a5)]+':\x20IP\x20funcionando!'),this['repository'][_0x4805eb(0x207)][_0x4805eb(0x57f)]({'ip':_0x84747[_0x4805eb(0x1db)]},this['instance']['name']),{'agent':new Ft[(_0x4805eb(0x443))](_0x15d2ab),'fetchAgent':new Ft[(_0x4805eb(0x443))](_0x15d2ab)}):(this['logger']['warn'](this[_0x4805eb(0x5a5)]+_0x4805eb(0x5fe)),await(0x0,f[_0x4805eb(0x185)])(0xc8),this[_0x4805eb(0x616)](_0x4d961e+0x1,!0x0));}else return this[_0x4805eb(0x4c0)][_0x4805eb(0x436)](this[_0x4805eb(0x5a5)]+_0x4805eb(0x355)),await(0x0,f[_0x4805eb(0x185)])(0xc8),this[_0x4805eb(0x616)](_0x4d961e+0x1,!0x0);}catch(_0x295640){return this['logger'][_0x4805eb(0x57d)](this[_0x4805eb(0x5a5)]+_0x4805eb(0x5f8)+_0x295640[_0x4805eb(0x3df)]),{};}}async[a0_0x187b1e(0x2fe)](_0x410806,_0x19d8fc){const _0x21e40a=a0_0x187b1e;let _0x339ee6=new Ft[(_0x21e40a(0x443))](_0x410806),_0x4ae308=0x1388,_0x3000b1=[{'url':'https://jsonip.com','parse':_0x5c748a=>_0x5c748a['ip']},{'url':_0x21e40a(0x141),'parse':_0x398ae3=>_0x398ae3['ip']},{'url':_0x21e40a(0x622),'parse':_0x8ee53d=>_0x8ee53d['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x21e40a(0x15b),'parse':_0x3ca059=>_0x3ca059['ip']},{'url':_0x21e40a(0x373),'parse':_0x2114d2=>_0x2114d2[_0x21e40a(0x689)]()},{'url':'http://ipecho.net/plain','parse':_0x415318=>_0x415318[_0x21e40a(0x689)]()},{'url':'http://ip-api.com/json','parse':_0x2ae845=>_0x2ae845['query']},{'url':_0x21e40a(0x21a),'parse':_0x5cb1de=>_0x5cb1de['trim']()},{'url':_0x21e40a(0x656),'parse':_0x5a0756=>_0x5a0756[_0x21e40a(0x689)]()}],_0x4521ef=_0x3000b1[Math[_0x21e40a(0x3c4)](Math[_0x21e40a(0x1ca)]()*_0x3000b1[_0x21e40a(0x6ab)])];try{let _0x52173b=await K[_0x21e40a(0x605)][_0x21e40a(0x8e)](_0x4521ef[_0x21e40a(0x3b2)],{'httpsAgent':_0x339ee6,'timeout':_0x4ae308}),_0x4b381e=_0x4521ef[_0x21e40a(0x329)](_0x52173b[_0x21e40a(0x3a5)]);return _0x4b381e===_0x19d8fc?(this['logger'][_0x21e40a(0x4e0)](this[_0x21e40a(0x5a5)]+_0x21e40a(0x421)+_0x19d8fc+_0x21e40a(0x2c0)+_0x4b381e+_0x21e40a(0x16c)),!0x0):(this[_0x21e40a(0x4c0)]['error'](this[_0x21e40a(0x5a5)]+_0x21e40a(0x421)+_0x19d8fc+_0x21e40a(0x2c0)+_0x4b381e+_0x21e40a(0x110)),!0x1);}catch(_0x5bd623){return this[_0x21e40a(0x4c0)]['error'](this[_0x21e40a(0x5a5)]+_0x21e40a(0x2ea)+_0x4521ef['url']+':\x20'+_0x5bd623[_0x21e40a(0x3df)]),!0x1;}}async[a0_0x187b1e(0x20b)](_0x12a213){const _0x20fe95=a0_0x187b1e;try{let _0x4348c2=await this[_0x20fe95(0x616)]();this[_0x20fe95(0x36b)](),this[_0x20fe95(0x144)]['apikey']=(await this[_0x20fe95(0x2ed)][_0x20fe95(0x207)][_0x20fe95(0x528)](this[_0x20fe95(0x144)][_0x20fe95(0x19a)]))[_0x20fe95(0x704)],this[_0x20fe95(0x144)]['authState']=await this[_0x20fe95(0x205)]();let {version:_0x364f9e}=await(0x0,f[_0x20fe95(0x6fd)])(),_0x2c1027=[No,Is,(0x0,Ts[_0x20fe95(0x6dd)])()],_0x111e17={..._0x4348c2,'auth':{'creds':this[_0x20fe95(0x144)][_0x20fe95(0x735)][_0x20fe95(0x713)][_0x20fe95(0xa1)],'keys':(0x0,f[_0x20fe95(0x719)])(this[_0x20fe95(0x144)][_0x20fe95(0x735)][_0x20fe95(0x713)]['keys'],(0x0,Pt[_0x20fe95(0x605)])({'level':_0x20fe95(0x57d)}))},'logger':(0x0,Pt[_0x20fe95(0x605)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x12a213?[_0x20fe95(0x661),Is,(0x0,Ts['release'])()]:_0x2c1027,'version':_0x364f9e,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x46a471=>{const _0x276097=_0x20fe95;let _0xda3393=_0x46a471[_0x276097(0x43f)](_0x276097(0x58b)),_0x2db01b=this[_0x276097(0xff)]?.[_0x276097(0x29e)]&&_0x46a471[_0x276097(0x43f)](_0x276097(0x2bc));return _0xda3393||(0x0,f[_0x276097(0x628)])(_0x46a471)||_0x2db01b;},'msgRetryCounterCache':this[_0x20fe95(0x27f)],'getMessage':async _0x4330ec=>await this[_0x20fe95(0x594)](_0x4330ec),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x20fe95(0x42a)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4b4675=>(_0x4b4675[_0x20fe95(0x17f)]?.[_0x20fe95(0x218)]==f[_0x20fe95(0x270)]['Message'][_0x20fe95(0x476)][_0x20fe95(0x64e)][_0x20fe95(0x61f)]&&(_0x4b4675=JSON[_0x20fe95(0x329)](JSON[_0x20fe95(0x126)](_0x4b4675)),_0x4b4675[_0x20fe95(0x17f)]['listType']=f['proto'][_0x20fe95(0x482)][_0x20fe95(0x476)][_0x20fe95(0x64e)]['SINGLE_SELECT']),_0x4b4675)};return this[_0x20fe95(0x6f0)]=!0x1,this[_0x20fe95(0x27d)]=(0x0,f[_0x20fe95(0x605)])(_0x111e17),this[_0x20fe95(0x24c)](),this[_0x20fe95(0x487)]=_0x12a213,this[_0x20fe95(0x27d)];}catch(_0x24d74b){let _0x247ead=_0x20fe95(0x245),_0x431f43=_0x24d74b instanceof Error?_0x24d74b[_0x20fe95(0x3df)]:typeof _0x24d74b==_0x20fe95(0x5ad)?JSON[_0x20fe95(0x126)](_0x24d74b):_0x24d74b,_0x1935e7=_0x247ead+':\x20'+_0x431f43;throw this[_0x20fe95(0x4c0)][_0x20fe95(0x57d)](this[_0x20fe95(0x5a5)]+'\x20('+this[_0x20fe95(0x144)][_0x20fe95(0x6c3)]+_0x20fe95(0x468)+_0x1935e7),new I(_0x1935e7);}}[a0_0x187b1e(0x24c)](){this['client']['ev']['process'](_0x267424=>{const _0x5ca011=a0_0xf8f0;if(!this['endSession']){let _0x96b7d0=this[_0x5ca011(0x684)]['get'](_0x5ca011(0x228));if(_0x267424['labels.edit']){let _0x4b2805=_0x267424[_0x5ca011(0x4ec)];this[_0x5ca011(0x465)][_0x5ca011(0x4ec)](_0x4b2805);}if(_0x267424[_0x5ca011(0xee)]){let _0x5ce4ef=_0x267424[_0x5ca011(0xee)];this[_0x5ca011(0x465)][_0x5ca011(0xee)](_0x5ce4ef);}if(_0x267424[_0x5ca011(0x2b5)]&&this[_0x5ca011(0x20d)](_0x267424['connection.update']),_0x267424['creds.update']&&this[_0x5ca011(0x144)][_0x5ca011(0x735)]['saveCreds'](),_0x267424[_0x5ca011(0x474)]){let _0x42c54e=_0x267424[_0x5ca011(0x474)];this[_0x5ca011(0x465)][_0x5ca011(0x474)](_0x42c54e,_0x96b7d0);}if(_0x267424['messages.upsert']){let _0x4b9ed8=_0x267424['messages.upsert'];this['messageHandle'][_0x5ca011(0x36a)](_0x4b9ed8,_0x96b7d0);}if(_0x267424[_0x5ca011(0x6b9)]){let _0x1f9f7d=_0x267424[_0x5ca011(0x6b9)];_0x1f9f7d[_0x5ca011(0x4d6)](_0x16f5c6=>{const _0x55b891=_0x5ca011;if(Mo[_0x16f5c6[_0x55b891(0xfe)]['id']]){this[_0x55b891(0x27d)]['ev'][_0x55b891(0x5d1)](_0x55b891(0x36a),{'messages':[_0x16f5c6],'type':'notify'}),delete Mo[_0x16f5c6[_0x55b891(0xfe)]['id']];return;}}),this[_0x5ca011(0x465)]['messages.update'](_0x1f9f7d,_0x96b7d0);}if(_0x267424[_0x5ca011(0x95)]){let _0x4bc8ce=_0x267424[_0x5ca011(0x95)];if(this[_0x5ca011(0xff)]?.['groups_ignore']&&_0x4bc8ce['id']['includes']('@g.us'))return;this[_0x5ca011(0x4d7)](_0x5ca011(0x95),_0x4bc8ce);}if(_0x267424[_0x5ca011(0xab)]){let _0x2217e7=_0x267424[_0x5ca011(0xab)];this[_0x5ca011(0x486)][_0x5ca011(0xab)](_0x2217e7);}if(_0x267424[_0x5ca011(0x1cf)]){let _0x1d9321=_0x267424[_0x5ca011(0x1cf)];this['groupHandler']['groups.update'](_0x1d9321);}if(_0x267424[_0x5ca011(0xe4)]){let _0x3a6480=_0x267424[_0x5ca011(0xe4)];this[_0x5ca011(0x486)][_0x5ca011(0xe4)](_0x3a6480);}if(_0x267424[_0x5ca011(0x58a)]){let _0x14a0d0=_0x267424[_0x5ca011(0x58a)];this['chatHandle'][_0x5ca011(0x58a)](_0x14a0d0,_0x96b7d0);}if(_0x267424['chats.update']){let _0x555b30=_0x267424[_0x5ca011(0x2b6)];this[_0x5ca011(0x6f8)][_0x5ca011(0x2b6)](_0x555b30,_0x96b7d0);}if(_0x267424['chats.delete']){let _0x394828=_0x267424['chats.delete'];this[_0x5ca011(0x6f8)][_0x5ca011(0x15d)](_0x394828);}if(_0x267424['contacts.upsert']){let _0x3309dd=_0x267424[_0x5ca011(0x4c6)];this[_0x5ca011(0x714)][_0x5ca011(0x4c6)](_0x3309dd,_0x96b7d0);}if(_0x267424[_0x5ca011(0x5e9)]){let _0x5531c6=_0x267424[_0x5ca011(0x5e9)];this[_0x5ca011(0x714)][_0x5ca011(0x5e9)](_0x5531c6,_0x96b7d0);}}});}[a0_0x187b1e(0x3ab)](_0x23d29e){return new Promise(_0x4a0bce=>setTimeout(_0x4a0bce,_0x23d29e));}[a0_0x187b1e(0x6bc)](_0x1e33c1){const _0x1c0bee=a0_0x187b1e;_0x1e33c1=_0x1e33c1[_0x1c0bee(0x2f2)](/\D/g,'');let _0x32b70b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1c0bee(0x43e)](_0x1e33c1);if(_0x32b70b&&_0x32b70b[0x1]==='55'){let _0x4f0ff8=_0x32b70b[0x2],_0x250ece=_0x32b70b[0x3],_0xe3dbee=_0x32b70b[0x4];if(parseInt(_0x4f0ff8)>=0x1f&&_0x250ece==='9')return _0x32b70b[0x1]+_0x4f0ff8+_0xe3dbee;}return _0x1e33c1;}[a0_0x187b1e(0x253)](_0x7787de){const _0x3ff781=a0_0x187b1e;return _0x7787de[_0x3ff781(0x7e)](_0x3ff781(0x2bc))||_0x7787de[_0x3ff781(0x7e)](_0x3ff781(0x40a))||_0x7787de[_0x3ff781(0x7e)](_0x3ff781(0x4a8))?_0x7787de:(_0x7787de=_0x7787de?.[_0x3ff781(0x2f2)](/\s/g,'')[_0x3ff781(0x2f2)](/\+/g,'')[_0x3ff781(0x2f2)](/\(/g,'')[_0x3ff781(0x2f2)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x7787de[_0x3ff781(0x6ab)]>=0x12?(_0x7787de=_0x7787de[_0x3ff781(0x2f2)](/[^\d-]/g,''),_0x7787de+_0x3ff781(0x2bc)):(_0x7787de=_0x7787de[_0x3ff781(0x2f2)](/\D/g,''),_0x7787de+_0x3ff781(0x40a)));}async[a0_0x187b1e(0x4bc)](_0x340a81){const _0x3aa71c=a0_0x187b1e;let _0x56da92=(await this['whatsappNumber']({'numbers':[_0x340a81[_0x3aa71c(0x4e6)]]}))[0x0];if(!_0x56da92[_0x3aa71c(0x620)]&&!(0x0,f['isJidGroup'])(_0x56da92[_0x3aa71c(0x2b0)])&&!_0x56da92[_0x3aa71c(0x2b0)][_0x3aa71c(0x7e)](_0x3aa71c(0x4a8)))throw new m(_0x56da92);let _0x358310=_0x56da92[_0x3aa71c(0x2b0)];try{return await this['client'][_0x3aa71c(0x43d)](_0x358310),await this[_0x3aa71c(0x27d)][_0x3aa71c(0x6e5)](_0x340a81[_0x3aa71c(0x3c2)],_0x358310),{'status':0xc8,'presence':_0x340a81['presence']};}catch(_0x47b401){let _0x21d045='Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence',_0x3a5bf1=_0x47b401 instanceof Error?_0x47b401['message']:typeof _0x47b401==_0x3aa71c(0x5ad)?JSON[_0x3aa71c(0x126)](_0x47b401):_0x47b401,_0x40ca1d=_0x21d045+':\x20'+_0x3a5bf1;throw this['logger']['error'](this[_0x3aa71c(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x40ca1d),new m(_0x40ca1d);}}async[a0_0x187b1e(0x91)](_0x93747b,_0x1f66f6,_0x335401,_0x2ba87c=!0x0){const _0x1a5d32=a0_0x187b1e;let _0x4aba68=await this['repository'][_0x1a5d32(0xfa)][_0x1a5d32(0x525)]({'where':{'_id':_0x93747b}});if(!_0x4aba68&&!_0x2ba87c)return;let _0x56c106={'lastUpdate':Date['now']()};if(_0x335401||!_0x4aba68?.['lastUpdate']||Date[_0x1a5d32(0x34b)]()-_0x4aba68['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x1e963e=(await this[_0x1a5d32(0x5f6)](_0x93747b))[_0x1a5d32(0x1ed)];_0x56c106[_0x1a5d32(0x36f)]=_0x1e963e;}catch(_0x2b716f){let _0xb198dd=_0x1a5d32(0x598),_0xf5b652=_0x2b716f instanceof Error?_0x2b716f[_0x1a5d32(0x3df)]:typeof _0x2b716f=='object'?JSON[_0x1a5d32(0x126)](_0x2b716f):_0x2b716f,_0x4faa86=_0xb198dd+':\x20'+_0xf5b652;throw this[_0x1a5d32(0x4c0)][_0x1a5d32(0x57d)](this[_0x1a5d32(0x5a5)]+'\x20('+this['instance'][_0x1a5d32(0x6c3)]+_0x1a5d32(0x468)+_0x4faa86),new m(_0x4faa86);}return _0x1f66f6&&_0x4aba68?.['name']!==_0x1f66f6&&(_0x56c106[_0x1a5d32(0x19a)]=_0x1f66f6),Object['keys'](_0x56c106)['length']>0x1&&(_0x4aba68?await this[_0x1a5d32(0x2ed)][_0x1a5d32(0xfa)]['update']({'where':{'_id':_0x93747b}},_0x56c106):await this[_0x1a5d32(0x2ed)][_0x1a5d32(0xfa)]['insert']([{'_id':_0x93747b,..._0x56c106}]),_0x4aba68={..._0x4aba68,..._0x56c106}),{'cachedContact':_0x4aba68};}async['profilePicture'](_0x3e9ba7){const _0x4e3c75=a0_0x187b1e;let _0x163605=this[_0x4e3c75(0x253)](_0x3e9ba7);try{return{'wuid':_0x163605,'profilePictureUrl':await this[_0x4e3c75(0x27d)]['profilePictureUrl'](_0x163605,'image')};}catch{return{'wuid':_0x163605,'profilePictureUrl':null};}}async[a0_0x187b1e(0x45b)](_0xd8c66b,_0x57b119,_0x458172){const _0x593c3c=a0_0x187b1e;_0x458172||(_0x458172={});let _0x4da08f=(await this[_0x593c3c(0x696)]({'numbers':[_0xd8c66b]}))[0x0];if(!_0x4da08f[_0x593c3c(0x620)]&&!(0x0,f[_0x593c3c(0x378)])(_0x4da08f['jid'])&&!_0x4da08f[_0x593c3c(0x2b0)][_0x593c3c(0x7e)](_0x593c3c(0x4a8)))throw new m(_0x4da08f);let _0x516481=_0x4da08f[_0x593c3c(0x2b0)];try{if(_0x458172?.[_0x593c3c(0x185)]){await this['client'][_0x593c3c(0x43d)](_0x516481),await this['client']['sendPresenceUpdate'](_0x458172?.[_0x593c3c(0x3c2)]??_0x593c3c(0x425),_0x516481);let _0x34a580=Math[_0x593c3c(0x2c2)](_0x458172[_0x593c3c(0x185)],0x2710);await(0x0,f['delay'])(_0x34a580),await this[_0x593c3c(0x27d)][_0x593c3c(0x6e5)](_0x593c3c(0x1fb),_0x516481);}let _0x159153=_0x458172?.[_0x593c3c(0x86)]!=!0x1?void 0x0:!0x1,_0x5ce89f;if(_0x458172?.[_0x593c3c(0x6f4)]){let _0x56c112=_0x458172?.[_0x593c3c(0x6f4)],_0x130016=_0x56c112?.['message']?_0x56c112:await this[_0x593c3c(0x594)](_0x56c112[_0x593c3c(0xfe)],!0x0);if(!_0x130016)throw _0x593c3c(0x1ac);_0x5ce89f=_0x130016;}let _0x42675d;if((0x0,f['isJidGroup'])(_0x516481))try{let _0x3058ea=(await this['repository']['chat'][_0x593c3c(0x525)]({'where':{'_id':_0x516481}},this['instance'][_0x593c3c(0x6c3)]))[_0x593c3c(0x1dc)];if(!_0x3058ea)throw new J('Group\x20not\x20found');_0x458172?.['mentions']&&(_0x458172[_0x593c3c(0x44b)]?.['everyOne']?_0x42675d=_0x3058ea[_0x593c3c(0x4db)][_0x593c3c(0x687)](_0x3a907c=>_0x3a907c['id']):_0x458172[_0x593c3c(0x44b)]?.['mentioned']?.[_0x593c3c(0x6ab)]&&(_0x42675d=_0x458172['mentions'][_0x593c3c(0x564)][_0x593c3c(0x687)](_0x361cad=>{const _0x53b75f=_0x593c3c;let _0x516345=this[_0x53b75f(0x253)](_0x361cad);return(0x0,f[_0x53b75f(0x378)])(_0x516345)?null:_0x516345;})));}catch{throw new J('Group\x20not\x20found');}let _0x3e4225=await this[_0x593c3c(0x2ed)][_0x593c3c(0x30d)]['findOne']({'where':{'_id':_0x516481}},this['instance'][_0x593c3c(0x6c3)]),_0x7263b2=await((async()=>{const _0x220204=_0x593c3c;let _0x29fd1a={'quoted':_0x5ce89f,'ephemeralExpiration':_0x3e4225?.[_0x220204(0x423)]??0x0};if(!_0x57b119[_0x220204(0x6d6)]&&!_0x57b119[_0x220204(0x4eb)]&&!_0x57b119['sticker']&&!_0x57b119['conversation']&&_0x516481!==_0x220204(0x407)&&!_0x57b119[_0x220204(0x6d6)])return await this['client'][_0x220204(0x71a)](_0x516481,{'forward':{'key':{'remoteJid':this[_0x220204(0x144)][_0x220204(0x6c3)],'fromMe':!0x0},'message':_0x57b119},'mentions':_0x42675d},_0x29fd1a);if(_0x57b119[_0x220204(0x181)])return await this[_0x220204(0x27d)][_0x220204(0x71a)](_0x516481,{'react':{'text':_0x57b119[_0x220204(0x181)][_0x220204(0x54d)],'key':_0x57b119[_0x220204(0x181)][_0x220204(0xfe)]}},_0x29fd1a);if(_0x57b119[_0x220204(0x24a)]){let _0x52e55b=_0x57b119[_0x220204(0x24a)];return _0x458172?.['changeVariables']&&(_0x52e55b=await this[_0x220204(0x161)](_0x52e55b,_0x516481)),await this[_0x220204(0x27d)][_0x220204(0x71a)](_0x516481,{'text':_0x52e55b,'mentions':_0x42675d,'linkPreview':_0x159153},_0x29fd1a);}return _0x516481===_0x220204(0x407)?await this['client']['sendMessage'](_0x516481,_0x57b119[_0x220204(0x391)][_0x220204(0x34e)],{'backgroundColor':_0x57b119[_0x220204(0x391)][_0x220204(0x38b)]['backgroundColor'],'font':_0x57b119[_0x220204(0x391)]['option'][_0x220204(0x440)],'statusJidList':_0x57b119[_0x220204(0x391)][_0x220204(0x38b)]['statusJidList']}):await this[_0x220204(0x27d)][_0x220204(0x71a)](_0x516481,_0x57b119,_0x29fd1a);})()),_0x1c83f7=(0x0,f[_0x593c3c(0x610)])(_0x7263b2[_0x593c3c(0x3df)]),_0x42ba9c=(0x0,f['getContentType'])(_0x1c83f7),{message_normalized:_0x3c3f6d}=this[_0x593c3c(0x2d5)](_0x1c83f7,_0x42ba9c,null),_0x1457f3={'_id':_0x7263b2[_0x593c3c(0xfe)]['id'],'key':_0x7263b2[_0x593c3c(0xfe)],'pushName':_0x7263b2[_0x593c3c(0x168)],'isGroup':_0x7263b2['key'][_0x593c3c(0x580)][_0x593c3c(0x43f)]('@g.us'),'profilePictureUrl':this['instance'][_0x593c3c(0x1ed)],'message':_0x1c83f7,'messageType':_0x42ba9c,'message_normalized':{'key':_0x7263b2[_0x593c3c(0xfe)],'pushName':_0x7263b2[_0x593c3c(0x168)],'messageTimestamp':_0x7263b2[_0x593c3c(0x5f4)]&&_0x7263b2[_0x593c3c(0x5f4)][_0x593c3c(0x56e)]()['length']<0xd?_0x7263b2['messageTimestamp']*0x3e8:_0x7263b2['messageTimestamp']||null,'source':(0x0,f['getDevice'])(_0x7263b2[_0x593c3c(0xfe)]['id']),..._0x3c3f6d},'messageTimestamp':_0x7263b2[_0x593c3c(0x5f4)]&&_0x7263b2[_0x593c3c(0x5f4)][_0x593c3c(0x56e)]()[_0x593c3c(0x6ab)]<0xd?_0x7263b2['messageTimestamp']*0x3e8:_0x7263b2[_0x593c3c(0x5f4)]||null,'owner':this[_0x593c3c(0x144)][_0x593c3c(0x6c3)],'source':(0x0,f[_0x593c3c(0x2e2)])(_0x7263b2['key']['id'])};return this[_0x593c3c(0x4c0)][_0x593c3c(0x436)](this[_0x593c3c(0x5a5)]+'\x20('+this[_0x593c3c(0x144)][_0x593c3c(0x6c3)]+_0x593c3c(0x4dc)+_0x1457f3['key']?.[_0x593c3c(0x580)][_0x593c3c(0x2f2)](_0x593c3c(0x40a),'')+_0x593c3c(0xcd)+_0x1457f3[_0x593c3c(0x25f)]+')'),_0x1457f3[_0x593c3c(0x67c)]?.['text']&&this['logger'][_0x593c3c(0x436)](_0x1457f3[_0x593c3c(0x67c)]?.['text']),this['sendDataWebhook'](_0x593c3c(0x352),_0x1457f3),U(this[_0x593c3c(0x5a5)],'messages',{'message':_0x1457f3}),this[_0x593c3c(0x374)](this[_0x593c3c(0x684)][_0x593c3c(0x8e)]('DATABASE'),_0x1457f3,_0x593c3c(0x679),_0x3e4225),await this[_0x593c3c(0x2ed)]['message'][_0x593c3c(0x37c)]([_0x1457f3],this[_0x593c3c(0x144)][_0x593c3c(0x6c3)]),_0x7263b2;}catch(_0x18f04b){let _0x2d089e=_0x593c3c(0x515),_0x409c35=_0x18f04b instanceof Error?_0x18f04b[_0x593c3c(0x3df)]:typeof _0x18f04b=='object'?JSON[_0x593c3c(0x126)](_0x18f04b):_0x18f04b,_0x20189e=_0x2d089e+':\x20'+_0x409c35;throw this['logger'][_0x593c3c(0x57d)](this['instanceName']+'\x20('+this['instance'][_0x593c3c(0x6c3)]+_0x593c3c(0x468)+_0x20189e),new m(_0x20189e);}}get['connectionStatus'](){const _0x1810ab=a0_0x187b1e;return this[_0x1810ab(0x271)];}async['textMessage'](_0x4c56ee){const _0x9c6e1f=a0_0x187b1e;let _0x5bfe07=So,_0x4f45c1=et;return _0x4f45c1&&this[_0x9c6e1f(0x5a5)][_0x9c6e1f(0x464)]()[_0x9c6e1f(0x7e)](_0x4f45c1[_0x9c6e1f(0x464)]())&&(_0x4c56ee[_0x9c6e1f(0x60b)][_0x9c6e1f(0x54d)]+='\x0a\x0a'+_0x5bfe07),await this[_0x9c6e1f(0x45b)](_0x4c56ee[_0x9c6e1f(0x4e6)],{'conversation':_0x4c56ee[_0x9c6e1f(0x60b)][_0x9c6e1f(0x54d)]},_0x4c56ee?.[_0x9c6e1f(0x340)]);}async[a0_0x187b1e(0x27b)](_0x47c764){const _0x7f2f5a=a0_0x187b1e;if(!_0x47c764['type'])throw new m(_0x7f2f5a(0x3b1));if(!_0x47c764['content'])throw new m(_0x7f2f5a(0x1d3));if(_0x47c764[_0x7f2f5a(0x193)]){let _0x4ef1b4=await this[_0x7f2f5a(0x2ed)][_0x7f2f5a(0x402)][_0x7f2f5a(0x528)]({'where':{}},this[_0x7f2f5a(0x144)][_0x7f2f5a(0x6c3)]);if(!_0x4ef1b4[_0x7f2f5a(0x6ab)])throw new m(_0x7f2f5a(0x2cd));_0x47c764['statusJidList']=_0x4ef1b4[_0x7f2f5a(0x348)](_0x154c79=>_0x154c79[_0x7f2f5a(0x168)])['map'](_0x18b866=>_0x18b866[_0x7f2f5a(0xf5)]);}if(!_0x47c764['statusJidList']?.[_0x7f2f5a(0x6ab)]&&!_0x47c764['allContacts'])throw new m(_0x7f2f5a(0x3b9));if(_0x47c764[_0x7f2f5a(0x5d3)]==='text'){if(!_0x47c764[_0x7f2f5a(0x62d)])throw new m(_0x7f2f5a(0x367));if(!_0x47c764[_0x7f2f5a(0x440)])throw new m(_0x7f2f5a(0x6ce));return{'content':{'text':_0x47c764[_0x7f2f5a(0x34e)]},'option':{'backgroundColor':_0x47c764[_0x7f2f5a(0x62d)],'font':_0x47c764[_0x7f2f5a(0x440)],'statusJidList':_0x47c764[_0x7f2f5a(0x100)]}};}if(_0x47c764['type']==='image')return{'content':{'image':{'url':_0x47c764[_0x7f2f5a(0x34e)]},'caption':_0x47c764[_0x7f2f5a(0x177)]},'option':{'statusJidList':_0x47c764[_0x7f2f5a(0x100)]}};if(_0x47c764[_0x7f2f5a(0x5d3)]==='video')return{'content':{'video':{'url':_0x47c764['content']},'caption':_0x47c764['caption']},'option':{'statusJidList':_0x47c764[_0x7f2f5a(0x100)]}};if(_0x47c764['type']===_0x7f2f5a(0x6d6)){this[_0x7f2f5a(0x4c0)]['verbose'](_0x7f2f5a(0x583)),this[_0x7f2f5a(0x4c0)][_0x7f2f5a(0x4e0)](_0x7f2f5a(0x2d2));let _0x5a426c=await this[_0x7f2f5a(0x293)](_0x47c764[_0x7f2f5a(0x34e)]);if(typeof _0x5a426c=='string'){this['logger']['verbose'](_0x7f2f5a(0x655));let _0x34c827=j['readFileSync'](_0x5a426c)[_0x7f2f5a(0x56e)](_0x7f2f5a(0x139));return{'content':{'audio':Buffer[_0x7f2f5a(0x4d0)](_0x34c827,_0x7f2f5a(0x139)),'ptt':!0x0,'mimetype':_0x7f2f5a(0x500)},'option':{'statusJidList':_0x47c764['statusJidList']}};}else throw new I(_0x5a426c);}throw new m(_0x7f2f5a(0x485));}async['statusMessage'](_0x449b2b){const _0x4c6ada=a0_0x187b1e;return await this[_0x4c6ada(0x45b)]('status@broadcast',{'status':await this['formatStatusMessage'](_0x449b2b[_0x4c6ada(0x103)])});}async['prepareMediaMessage'](_0x5223c0){const _0x3a12c7=a0_0x187b1e;try{let _0x2ad6e4=await(0x0,f[_0x3a12c7(0x51b)])({[_0x5223c0[_0x3a12c7(0x756)]]:(0x0,P[_0x3a12c7(0x330)])(_0x5223c0[_0x3a12c7(0x531)])?{'url':_0x5223c0[_0x3a12c7(0x531)]}:Buffer['from'](_0x5223c0['media'],_0x3a12c7(0x139))},{'upload':this[_0x3a12c7(0x27d)][_0x3a12c7(0x448)]}),_0x6b5810=_0x5223c0[_0x3a12c7(0x756)]+_0x3a12c7(0x482);if(_0x5223c0['mediatype']===_0x3a12c7(0x3c0)&&!_0x5223c0[_0x3a12c7(0x5d0)]){let _0x2c8537=new RegExp(/.*\/(.+?)\./)[_0x3a12c7(0x43e)](_0x5223c0['media']);_0x5223c0[_0x3a12c7(0x5d0)]=_0x2c8537?_0x2c8537[0x1]:null;}let _0x29119b=(0x0,P[_0x3a12c7(0x330)])(_0x5223c0[_0x3a12c7(0x531)])?_0x5223c0[_0x3a12c7(0x531)][_0x3a12c7(0x214)]('?')[0x0]:_0x5223c0['media'];this['logger'][_0x3a12c7(0x4e0)](_0x3a12c7(0x17d)+_0x29119b);let _0xd4d5f3;(0x0,P[_0x3a12c7(0x330)])(_0x5223c0[_0x3a12c7(0x531)])?_0xd4d5f3=(0x0,kt[_0x3a12c7(0x72a)])(_0x29119b):_0x5223c0[_0x3a12c7(0x5d0)]&&_0x5223c0[_0x3a12c7(0x5d0)]['includes']('.')?_0xd4d5f3=(0x0,kt['getMIMEType'])(_0x5223c0[_0x3a12c7(0x5d0)]):_0xd4d5f3=(0x0,kt[_0x3a12c7(0x72a)])(_0x5223c0[_0x3a12c7(0x531)]);let _0x556cbd=So,_0x14a7a9=et;return _0x14a7a9&&this[_0x3a12c7(0x5a5)][_0x3a12c7(0x464)]()[_0x3a12c7(0x7e)](_0x14a7a9['toLowerCase']())&&(_0x5223c0[_0x3a12c7(0x177)]+='\x0a\x0a'+_0x556cbd),_0x2ad6e4[_0x6b5810][_0x3a12c7(0x177)]=_0x5223c0?.['caption'],_0x2ad6e4[_0x6b5810]['mimetype']=_0xd4d5f3,_0x2ad6e4[_0x6b5810]['fileName']=_0x5223c0[_0x3a12c7(0x5d0)],_0x5223c0[_0x3a12c7(0x756)]==='video'&&(_0x2ad6e4[_0x6b5810]['jpegThumbnail']=Uint8Array[_0x3a12c7(0x4d0)]((0x0,Te[_0x3a12c7(0x50e)])((0x0,F[_0x3a12c7(0x119)])(process[_0x3a12c7(0x2df)](),_0x3a12c7(0x59a)))),_0x2ad6e4[_0x6b5810][_0x3a12c7(0x55b)]=!0x1),(0x0,f[_0x3a12c7(0x1c2)])('',{[_0x6b5810]:{..._0x2ad6e4[_0x6b5810]}},{'userJid':this[_0x3a12c7(0x144)][_0x3a12c7(0x6c3)]});}catch(_0x1995da){let _0x50ae56=_0x3a12c7(0x4a5),_0x35704e=_0x1995da instanceof Error?_0x1995da['message']:typeof _0x1995da=='object'?JSON['stringify'](_0x1995da):_0x1995da,_0x1dfc6d=_0x50ae56+':\x20'+_0x35704e;throw this[_0x3a12c7(0x4c0)][_0x3a12c7(0x57d)](this['instanceName']+'\x20('+this['instance'][_0x3a12c7(0x6c3)]+_0x3a12c7(0x468)+_0x1dfc6d),new I(_0x1dfc6d);}}async['mediaMessage'](_0x379a78){const _0x2289fc=a0_0x187b1e;let _0x4bd4f9=await this['prepareMediaMessage'](_0x379a78['mediaMessage']);return await this[_0x2289fc(0x45b)](_0x379a78[_0x2289fc(0x4e6)],{..._0x4bd4f9[_0x2289fc(0x3df)]},_0x379a78?.[_0x2289fc(0x340)]);}async[a0_0x187b1e(0x71b)](_0x54a576,_0x328bc2){const _0x56a3e8=a0_0x187b1e;try{this['logger'][_0x56a3e8(0x4e0)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x10fca4,_0x3e05da=_0x328bc2+'-'+new Date()[_0x56a3e8(0x501)]();this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x4f4)+_0x3e05da);let _0x19b16f=''+(0x0,F[_0x56a3e8(0x119)])(this[_0x56a3e8(0x5cd)],_0x3e05da+_0x56a3e8(0x534));if(this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x2b1)+_0x19b16f),(0x0,P[_0x56a3e8(0x556)])(_0x54a576)){this['logger']['verbose'](_0x56a3e8(0x711));let _0x3e0783=_0x54a576['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x44987b=Buffer[_0x56a3e8(0x4d0)](_0x3e0783,_0x56a3e8(0x139));_0x10fca4=''+(0x0,F[_0x56a3e8(0x119)])(this[_0x56a3e8(0x5cd)],'temp-'+_0x3e05da+_0x56a3e8(0x292)),this['logger']['verbose']('Image\x20path:\x20'+_0x10fca4),await(0x0,Lt[_0x56a3e8(0x605)])(_0x44987b)['toFile'](_0x10fca4),this[_0x56a3e8(0x4c0)]['verbose'](_0x56a3e8(0x6f9));}else{this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x382));let _0x5e8892=new Date()[_0x56a3e8(0x501)](),_0x20e1aa=_0x54a576+_0x56a3e8(0x40f)+_0x5e8892;this[_0x56a3e8(0x4c0)]['verbose'](_0x56a3e8(0x50b)+_0x20e1aa);let _0x565749=await K[_0x56a3e8(0x605)][_0x56a3e8(0x8e)](_0x20e1aa,{'responseType':_0x56a3e8(0x52b)});this[_0x56a3e8(0x4c0)]['verbose']('Getting\x20image\x20from\x20url');let _0x2c719c=Buffer['from'](_0x565749[_0x56a3e8(0x3a5)],'binary');_0x10fca4=''+(0x0,F[_0x56a3e8(0x119)])(this[_0x56a3e8(0x5cd)],'temp-'+_0x3e05da+_0x56a3e8(0x292)),this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x3ef)+_0x10fca4),await(0x0,Lt[_0x56a3e8(0x605)])(_0x2c719c)[_0x56a3e8(0x688)](_0x10fca4),this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x6f9));}return await(0x0,Lt['default'])(_0x10fca4)['webp']()[_0x56a3e8(0x688)](_0x19b16f),this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)]('Image\x20converted\x20to\x20WebP'),j[_0x56a3e8(0x53b)](_0x10fca4),this[_0x56a3e8(0x4c0)][_0x56a3e8(0x4e0)](_0x56a3e8(0x5cc)),_0x19b16f;}catch(_0xf62b75){let _0x19df1a=_0x56a3e8(0x123),_0xe4c856=_0xf62b75 instanceof Error?_0xf62b75[_0x56a3e8(0x3df)]:typeof _0xf62b75=='object'?JSON[_0x56a3e8(0x126)](_0xf62b75):_0xf62b75,_0x18cab2=_0x19df1a+':\x20'+_0xe4c856;this[_0x56a3e8(0x4c0)][_0x56a3e8(0x57d)](this['instanceName']+'\x20('+this[_0x56a3e8(0x144)][_0x56a3e8(0x6c3)]+'):\x20'+_0x18cab2);}}async['mediaSticker'](_0x3a848f){const _0x276825=a0_0x187b1e;let _0x55f390=await this['convertToWebP'](_0x3a848f['stickerMessage'][_0x276825(0x705)],_0x3a848f[_0x276825(0x4e6)]),_0x1c2bde=await this[_0x276825(0x45b)](_0x3a848f[_0x276825(0x4e6)],{'sticker':{'url':_0x55f390}},_0x3a848f?.[_0x276825(0x340)]);return j[_0x276825(0x53b)](_0x55f390),this[_0x276825(0x4c0)]['verbose'](_0x276825(0x61c)),_0x1c2bde;}async[a0_0x187b1e(0x6da)](_0x17fd6c){const _0x26864e=a0_0x187b1e;if(this[_0x26864e(0x4c0)][_0x26864e(0x4e0)](_0x26864e(0x654)),!_0x17fd6c['options']?.[_0x26864e(0x8b)]&&_0x17fd6c[_0x26864e(0x340)]?.['encoding']!==!0x1&&(_0x17fd6c[_0x26864e(0x340)][_0x26864e(0x8b)]=!0x0),_0x17fd6c['options']?.['encoding']){let _0x47ed4b=await this[_0x26864e(0x293)](_0x17fd6c[_0x26864e(0x738)][_0x26864e(0x6d6)]);if(typeof _0x47ed4b==_0x26864e(0x36c)){let _0x533cc4=j[_0x26864e(0x50e)](_0x47ed4b)[_0x26864e(0x56e)](_0x26864e(0x139));return this[_0x26864e(0x45b)](_0x17fd6c[_0x26864e(0x4e6)],{'audio':Buffer[_0x26864e(0x4d0)](_0x533cc4,_0x26864e(0x139)),'ptt':!0x0,'mimetype':_0x26864e(0xb8)},{'presence':_0x26864e(0x178),'delay':_0x17fd6c?.[_0x26864e(0x340)]?.[_0x26864e(0x185)]});}else throw new I(_0x47ed4b);}return await this[_0x26864e(0x45b)](_0x17fd6c[_0x26864e(0x4e6)],{'audio':(0x0,P[_0x26864e(0x330)])(_0x17fd6c['audioMessage']['audio'])?{'url':_0x17fd6c[_0x26864e(0x738)]['audio']}:Buffer[_0x26864e(0x4d0)](_0x17fd6c[_0x26864e(0x738)]['audio'],_0x26864e(0x139)),'ptt':!0x0,'mimetype':_0x26864e(0xb8)},{'presence':'recording','delay':_0x17fd6c?.[_0x26864e(0x340)]?.[_0x26864e(0x185)]});}async[a0_0x187b1e(0x293)](_0xc3191c){const _0x4efe46=a0_0x187b1e;this['logger'][_0x4efe46(0x4e0)]('Processing\x20audio');let _0x2c6e53=(0x0,P[_0x4efe46(0x330)])(_0xc3191c)?(0x0,Ut[_0x4efe46(0xdc)])(_0x4efe46(0xbf))[_0x4efe46(0x297)](_0xc3191c)[_0x4efe46(0x28e)](_0x4efe46(0x5ba)):(0x0,Ut[_0x4efe46(0xdc)])(_0x4efe46(0xbf))[_0x4efe46(0x297)](_0xc3191c)[_0x4efe46(0x28e)](_0x4efe46(0x5ba)),_0x2e2a56=''+(0x0,F['join'])(this['storePath'],_0x2c6e53+'.ogg');if(j[_0x4efe46(0x516)](_0x2e2a56))return this[_0x4efe46(0x4c0)][_0x4efe46(0x4e0)](_0x4efe46(0x201)),_0x2e2a56;let _0x7ead11=''+(0x0,F[_0x4efe46(0x119)])(this['storePath'],_0x4efe46(0x712)+(0x0,jt['v4'])()+_0x4efe46(0x333));if((0x0,P['isURL'])(_0xc3191c)){let _0x5b59f6=new Date()['getTime'](),_0x675b70=_0xc3191c+_0x4efe46(0x40f)+_0x5b59f6,_0x3dbfae=await K[_0x4efe46(0x605)]['get'](_0x675b70,{'responseType':'arraybuffer'});j['writeFileSync'](_0x7ead11,_0x3dbfae['data']);}else{let _0x2fc053=Buffer['from'](_0xc3191c,'base64');j['writeFileSync'](_0x7ead11,_0x2fc053);}return new Promise((_0x4e9e2f,_0x34d5ac)=>{const _0x1d0491=_0x4efe46;(0x0,$e[_0x1d0491(0x43e)])(Os[_0x1d0491(0x605)]['path']+_0x1d0491(0x16b)+_0x7ead11+_0x1d0491(0x5b3)+_0x2e2a56+_0x1d0491(0x6bd),_0x4e7563=>{const _0x390ed0=_0x1d0491;if(j[_0x390ed0(0x53b)](_0x7ead11),_0x4e7563){this['logger']['verbose'](_0x390ed0(0x149)),_0x34d5ac(_0x4e7563);return;}this[_0x390ed0(0x4c0)]['verbose'](_0x390ed0(0x508)),_0x4e9e2f(_0x2e2a56);});});}async[a0_0x187b1e(0x73d)](_0x1c9f62){const _0x435768=a0_0x187b1e;this[_0x435768(0x4c0)][_0x435768(0x4e0)](_0x435768(0x2d2));let _0x5ac483=(0x0,Ut['createHash'])('sha256')[_0x435768(0x297)](_0x1c9f62)[_0x435768(0x28e)](_0x435768(0x5ba)),_0x325d09=''+(0x0,F[_0x435768(0x119)])(this[_0x435768(0x5cd)],_0x5ac483+_0x435768(0x333));if(j[_0x435768(0x516)](_0x325d09))return this[_0x435768(0x4c0)]['verbose']('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),F[_0x435768(0x605)]['basename'](_0x325d09);let _0x1e06da=''+(0x0,F[_0x435768(0x119)])(this[_0x435768(0x5cd)],_0x435768(0x712)+_0x5ac483+_0x435768(0x752));if((0x0,P[_0x435768(0x330)])(_0x1c9f62)){let _0xfe5300=new Date()[_0x435768(0x501)](),_0x4c0d9c=_0x1c9f62+_0x435768(0x40f)+_0xfe5300,_0x4a8ef9=await K[_0x435768(0x605)]['get'](_0x4c0d9c,{'responseType':_0x435768(0x52b)});j[_0x435768(0x53c)](_0x1e06da,_0x4a8ef9[_0x435768(0x3a5)]);}else{let _0x2a24b0=Buffer[_0x435768(0x4d0)](_0x1c9f62,'base64');j[_0x435768(0x53c)](_0x1e06da,_0x2a24b0);}return new Promise((_0x2de7c1,_0x33757b)=>{const _0x5b7da1=_0x435768;(0x0,$e[_0x5b7da1(0x43e)])(Os[_0x5b7da1(0x605)][_0x5b7da1(0x150)]+_0x5b7da1(0x16b)+_0x1e06da+_0x5b7da1(0x90)+_0x325d09+_0x5b7da1(0x6bd),_0x2d8333=>{const _0x430ea3=_0x5b7da1;if(j[_0x430ea3(0x53b)](_0x1e06da),_0x2d8333){this[_0x430ea3(0x4c0)][_0x430ea3(0x4e0)](_0x430ea3(0x149)),_0x33757b(_0x2d8333);return;}this[_0x430ea3(0x4c0)]['verbose'](_0x430ea3(0x508)),_0x2de7c1(F[_0x430ea3(0x605)][_0x430ea3(0x88)](_0x325d09));});});}async['buttonMessage'](_0x1826dd){const _0x461afb=a0_0x187b1e;let _0x517f23={},_0x4f6b52=_0x461afb(0x1f6);if(_0x1826dd['buttonMessage']?.[_0x461afb(0x4f9)]){_0x4f6b52=_0x1826dd['buttonMessage'][_0x461afb(0x4f9)]?.[_0x461afb(0x756)][_0x461afb(0x529)]()??_0x461afb(0x1f6),_0x517f23['mediaKey']=_0x4f6b52[_0x461afb(0x464)]()+_0x461afb(0x482);let _0x3c204d=await this[_0x461afb(0x763)](_0x1826dd['buttonMessage'][_0x461afb(0x4f9)]);_0x517f23['message']=_0x3c204d[_0x461afb(0x3df)][_0x517f23['mediaKey']],_0x517f23[_0x461afb(0x30b)]='*'+_0x1826dd[_0x461afb(0x74e)][_0x461afb(0x5f2)]+_0x461afb(0x26b)+_0x1826dd[_0x461afb(0x74e)][_0x461afb(0x46a)];}let _0x4c9c7f={'text':_0x1826dd[_0x461afb(0x74e)][_0x461afb(0x4e4)]['map'](_0x56f7c8=>_0x56f7c8[_0x461afb(0x734)]),'ids':_0x1826dd[_0x461afb(0x74e)][_0x461afb(0x4e4)]['map'](_0x3f5e90=>_0x3f5e90[_0x461afb(0x2d0)])};if(!(0x0,P[_0x461afb(0x2ba)])(_0x4c9c7f['text'])||!(0x0,P[_0x461afb(0x2ba)])(_0x4c9c7f['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x461afb(0x518));return await this['sendMessageWithTyping'](_0x1826dd[_0x461afb(0x4e6)],{'buttonsMessage':{'text':_0x517f23?.[_0x461afb(0x66f)]?void 0x0:_0x1826dd['buttonMessage'][_0x461afb(0x5f2)],'contentText':_0x517f23?.[_0x461afb(0x30b)]??_0x1826dd['buttonMessage']['description'],'footerText':_0x1826dd[_0x461afb(0x74e)]?.['footerText'],'buttons':_0x1826dd['buttonMessage']['buttons'][_0x461afb(0x687)](_0xebf99e=>({'buttonText':{'displayText':_0xebf99e[_0x461afb(0x734)]},'buttonId':_0xebf99e[_0x461afb(0x2d0)],'type':0x1})),'headerType':f['proto']['Message'][_0x461afb(0x300)][_0x461afb(0x6ff)][_0x4f6b52],[_0x517f23?.[_0x461afb(0x66f)]]:_0x517f23?.[_0x461afb(0x3df)]}},_0x1826dd?.[_0x461afb(0x340)]);}async[a0_0x187b1e(0x96)](_0x1f45e8){const _0x365907=a0_0x187b1e;return await this[_0x365907(0x45b)](_0x1f45e8[_0x365907(0x4e6)],{'locationMessage':{'degreesLatitude':_0x1f45e8['locationMessage'][_0x365907(0x395)],'degreesLongitude':_0x1f45e8[_0x365907(0x96)][_0x365907(0x5f3)],'name':_0x1f45e8[_0x365907(0x96)]?.[_0x365907(0x19a)],'address':_0x1f45e8[_0x365907(0x96)]?.[_0x365907(0x4c8)]}},_0x1f45e8?.[_0x365907(0x340)]);}async['contactMessage'](_0x3b602c){const _0x33e71d=a0_0x187b1e;let _0x53cd49={},_0x3ee8a4=async _0x58abf8=>{const _0x59ec2f=a0_0xf8f0;let _0x3cbfdf=_0x59ec2f(0x328)+_0x58abf8[_0x59ec2f(0x315)]+_0x59ec2f(0x41f)+_0x58abf8[_0x59ec2f(0x315)]+'\x0a';_0x58abf8[_0x59ec2f(0x550)]&&(_0x3cbfdf+='ORG:'+_0x58abf8['organization']+';\x0a'),_0x58abf8[_0x59ec2f(0x571)]&&(_0x3cbfdf+='EMAIL:'+_0x58abf8['email']+'\x0a'),_0x58abf8['url']&&(_0x3cbfdf+=_0x59ec2f(0x261)+_0x58abf8[_0x59ec2f(0x3b2)]+'\x0a');let _0x182f7a='',_0x33894c=0x1;if(_0x58abf8['phoneNumber']){let _0x3eedde=_0x58abf8[_0x59ec2f(0x487)][_0x59ec2f(0x214)]('|');for(let _0x1d1a1c of _0x3eedde){let _0xfd5fb3=await this[_0x59ec2f(0x696)]({'numbers':[_0x1d1a1c]}),_0x14129a=(_0xfd5fb3[_0x59ec2f(0x6ab)]>0x0?_0xfd5fb3[0x0][_0x59ec2f(0x2b0)]:this[_0x59ec2f(0x253)](_0x1d1a1c))[_0x59ec2f(0x2f2)](_0x59ec2f(0x40a),'');_0x182f7a+=_0x59ec2f(0x194)+_0x33894c+'.TEL;waid='+_0x14129a+':'+_0x1d1a1c+_0x59ec2f(0x2f8)+_0x33894c+'.X-ABLabel:Celular\x0a',_0x33894c++;}}return _0x3cbfdf+=_0x182f7a+_0x59ec2f(0x645),_0x3cbfdf;};return _0x3b602c[_0x33e71d(0x3af)][_0x33e71d(0x6ab)]===0x1?_0x53cd49[_0x33e71d(0x3af)]={'displayName':_0x3b602c[_0x33e71d(0x3af)][0x0][_0x33e71d(0x315)],'vcard':await _0x3ee8a4(_0x3b602c[_0x33e71d(0x3af)][0x0])}:_0x53cd49['contactsArrayMessage']={'displayName':_0x3b602c[_0x33e71d(0x3af)][_0x33e71d(0x6ab)]+_0x33e71d(0x31e),'contacts':await Promise[_0x33e71d(0x372)](_0x3b602c['contactMessage'][_0x33e71d(0x687)](async _0x264b5f=>({'displayName':_0x264b5f[_0x33e71d(0x315)],'vcard':await _0x3ee8a4(_0x264b5f)})))},await this[_0x33e71d(0x45b)](_0x3b602c[_0x33e71d(0x4e6)],{..._0x53cd49},_0x3b602c?.['options']);}async[a0_0x187b1e(0x181)](_0x2fa7b){const _0x3136af=a0_0x187b1e;return await this['sendMessageWithTyping'](_0x2fa7b[_0x3136af(0x181)][_0x3136af(0xfe)][_0x3136af(0x580)],{'reactionMessage':{'key':_0x2fa7b['reactionMessage'][_0x3136af(0xfe)],'text':_0x2fa7b[_0x3136af(0x181)][_0x3136af(0x68f)]}});}async[a0_0x187b1e(0x696)](_0x439937){const _0x50e325=a0_0x187b1e;let _0x2737ef=[];for await(let _0x4b1bcf of _0x439937[_0x50e325(0x3db)]){let _0x610480=this[_0x50e325(0x253)](_0x4b1bcf),_0x4a3764=!0x1;try{if((0x0,f[_0x50e325(0x378)])(_0x610480)){let _0x3ac799=(await this[_0x50e325(0x2ed)][_0x50e325(0x30d)][_0x50e325(0x525)]({'where':{'_id':_0x610480}},this[_0x50e325(0x144)][_0x50e325(0x6c3)]))[_0x50e325(0x1dc)];_0x4a3764=!!_0x3ac799?.['id']&&!!_0x3ac799?.[_0x50e325(0xcc)],_0x2737ef[_0x50e325(0x764)](new ye(_0x3ac799['id'],_0x4a3764,_0x3ac799?.['subject']));}else{let _0x3c1fc2=(await this[_0x50e325(0x27d)][_0x50e325(0x387)](_0x610480))[0x0];_0x4a3764=_0x3c1fc2[_0x50e325(0x620)],_0x2737ef[_0x50e325(0x764)](new ye(_0x3c1fc2[_0x50e325(0x2b0)],_0x4a3764));}}catch{(0x0,f[_0x50e325(0x378)])(_0x610480)||await this[_0x50e325(0x24d)](_0x610480,_0x4a3764),_0x2737ef[_0x50e325(0x764)](new ye(_0x4b1bcf,!0x1));}}return _0x2737ef;}async[a0_0x187b1e(0x24d)](_0x5a4c31,_0x3b6b28){const _0x473c53=a0_0x187b1e;try{await this['repository']['chat'][_0x473c53(0x525)]({'where':{'_id':_0x5a4c31,'imported':!0x0}},this[_0x473c53(0x144)][_0x473c53(0x6c3)])&&(_0x3b6b28||(await this[_0x473c53(0x2ed)][_0x473c53(0x30d)]['deleteChat'](_0x5a4c31,this[_0x473c53(0x144)][_0x473c53(0x6c3)]),this[_0x473c53(0x4c0)]['info']('Chat\x20com\x20ID\x20'+_0x5a4c31+_0x473c53(0x162))));}catch(_0x5d397c){let _0x300ba5=_0x473c53(0x3a9),_0x382cf2=_0x5d397c instanceof Error?_0x5d397c['message']:typeof _0x5d397c==_0x473c53(0x5ad)?JSON['stringify'](_0x5d397c):_0x5d397c,_0x4418b=_0x300ba5+':\x20'+_0x382cf2;this[_0x473c53(0x4c0)][_0x473c53(0x57d)](this[_0x473c53(0x5a5)]+'\x20('+this[_0x473c53(0x144)][_0x473c53(0x6c3)]+_0x473c53(0x468)+_0x4418b);}}async[a0_0x187b1e(0x255)](_0x18946f){const _0xfea15e=a0_0x187b1e;try{let _0x1ba5b5=_0x18946f[_0xfea15e(0x557)][_0xfea15e(0x348)](_0x42aa6f=>(0x0,f['isJidGroup'])(_0x42aa6f[_0xfea15e(0x580)])||(0x0,f[_0xfea15e(0x1de)])(_0x42aa6f['remoteJid']))['map'](_0x159a29=>({'remoteJid':_0x159a29[_0xfea15e(0x580)],'fromMe':_0x159a29[_0xfea15e(0x635)],'id':_0x159a29['id']}));await this[_0xfea15e(0x27d)]['readMessages'](_0x1ba5b5);let _0x1a293b=_0x1ba5b5['map'](_0x5bb11b=>this['updateMessage'](_0x5bb11b,{'status':'READ','owner':this[_0xfea15e(0x144)][_0xfea15e(0x6c3)]})),_0x45d5e9=_0x1ba5b5[_0xfea15e(0x687)](_0x44233f=>this['repository'][_0xfea15e(0x30d)][_0xfea15e(0x190)]({'where':{'_id':_0x44233f[_0xfea15e(0x580)]}},{'unreadcount':0x0},this[_0xfea15e(0x144)][_0xfea15e(0x6c3)])),[_0xd67206,_0x321149]=await Promise[_0xfea15e(0x372)]([Promise['all'](_0x1a293b),Promise[_0xfea15e(0x372)](_0x45d5e9)]);return _0x321149[_0xfea15e(0x348)](_0x4e601b=>_0x4e601b!==null)['forEach'](_0x529e39=>{const _0x44eca0=_0xfea15e;U(this[_0x44eca0(0x5a5)],_0x44eca0(0x196),{'chat':_0x529e39});}),{'message':_0xfea15e(0x1e3),'read':_0xfea15e(0x38a)};}catch(_0x46d40e){let _0x1d7f9e=_0xfea15e(0x246),_0x563e28=_0x46d40e instanceof Error?_0x46d40e[_0xfea15e(0x3df)]:typeof _0x46d40e==_0xfea15e(0x5ad)?JSON[_0xfea15e(0x126)](_0x46d40e):_0x46d40e,_0x32bc66=_0x1d7f9e+':\x20'+_0x563e28;throw this[_0xfea15e(0x4c0)][_0xfea15e(0x57d)](this[_0xfea15e(0x5a5)]+'\x20('+this[_0xfea15e(0x144)][_0xfea15e(0x6c3)]+_0xfea15e(0x468)+_0x32bc66),new I(_0x32bc66);}}async[a0_0x187b1e(0x6ac)](_0x730cb2){const _0x3fb8e6=a0_0x187b1e;let _0x591072={'where':{'key':{'remoteJid':_0x730cb2}},'limit':0x1},_0x5adfae=await this[_0x3fb8e6(0x710)](_0x591072);return _0x5adfae||(console[_0x3fb8e6(0x57d)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x730cb2),null);}async[a0_0x187b1e(0x9a)](_0x15b263){const _0x2208a1=a0_0x187b1e;this['logger'][_0x2208a1(0x4e0)]('Archiving\x20chat');try{let _0x5dadaa=_0x15b263[_0x2208a1(0x4c7)],_0x2d78a7=_0x15b263[_0x2208a1(0x30d)];if(!_0x5dadaa&&_0x2d78a7?_0x5dadaa=await this[_0x2208a1(0x6ac)](_0x2d78a7):(_0x5dadaa=_0x15b263[_0x2208a1(0x4c7)],_0x5dadaa['messageTimestamp']=_0x5dadaa?.[_0x2208a1(0x5f4)]??Date[_0x2208a1(0x34b)](),_0x2d78a7=_0x5dadaa?.['key']?.[_0x2208a1(0x580)]),!_0x5dadaa||Object[_0x2208a1(0xcf)](_0x5dadaa)[_0x2208a1(0x6ab)]===0x0)throw new J('Last\x20message\x20not\x20found');this[_0x2208a1(0x4c0)][_0x2208a1(0x4e0)](_0x2208a1(0x239)+_0x2d78a7);try{await this[_0x2208a1(0x27d)][_0x2208a1(0x62e)]({'archive':_0x15b263[_0x2208a1(0x232)],'lastMessages':[_0x5dadaa]},this[_0x2208a1(0x253)](_0x2d78a7));}catch(_0x5ba01a){let _0x556ff1=_0x2208a1(0x368)+_0x2d78a7,_0x3cad1c=_0x5ba01a instanceof Error?_0x5ba01a[_0x2208a1(0x3df)]:typeof _0x5ba01a==_0x2208a1(0x5ad)?JSON[_0x2208a1(0x126)](_0x5ba01a):_0x5ba01a,_0x5c26c5=_0x556ff1+':\x20'+_0x3cad1c;this[_0x2208a1(0x4c0)]['error'](this[_0x2208a1(0x5a5)]+'\x20('+this['instance'][_0x2208a1(0x6c3)]+_0x2208a1(0x468)+_0x5c26c5);}this[_0x2208a1(0x4c0)][_0x2208a1(0x4e0)](_0x2208a1(0x6e7)+_0x2d78a7);let _0x2fdda6=await this['repository'][_0x2208a1(0x30d)][_0x2208a1(0x190)]({'where':{'_id':_0x5dadaa?.[_0x2208a1(0xfe)]?.[_0x2208a1(0x580)]}},{'archived':_0x15b263['archive']},this[_0x2208a1(0x144)][_0x2208a1(0x6c3)]);return _0x2fdda6?(this[_0x2208a1(0x4c0)][_0x2208a1(0x4e0)](_0x2208a1(0x174)+JSON[_0x2208a1(0x126)](_0x2fdda6)),U(this[_0x2208a1(0x5a5)],'chats',{'chat':_0x2fdda6})):this[_0x2208a1(0x4c0)][_0x2208a1(0x57d)](_0x2208a1(0x224)+_0x2d78a7),{'chatId':_0x2d78a7,'archived':_0x15b263['archive']};}catch(_0x33f08c){let _0x1ad688=_0x2208a1(0x124),_0x1985dd=_0x33f08c instanceof Error?_0x33f08c['message']:typeof _0x33f08c=='object'?JSON[_0x2208a1(0x126)](_0x33f08c):_0x33f08c,_0x1c5ccf=_0x1ad688+':\x20'+_0x1985dd;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2208a1(0x144)][_0x2208a1(0x6c3)]+_0x2208a1(0x468)+_0x1c5ccf),new I(_0x1c5ccf);}}async[a0_0x187b1e(0x3bf)](_0x343da7){const _0x4bf46b=a0_0x187b1e;this['logger'][_0x4bf46b(0x4e0)]('Delete\x20chat');try{let _0x5b791a=await this[_0x4bf46b(0x6ac)](_0x343da7);if(!_0x5b791a||Object[_0x4bf46b(0xcf)](_0x5b791a)[_0x4bf46b(0x6ab)]===0x0)throw new J(_0x4bf46b(0x48a));let _0x58b9df=_0x5b791a[0x0];this[_0x4bf46b(0x4c0)][_0x4bf46b(0x4e0)](_0x4bf46b(0x2ac)+_0x343da7);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x58b9df[_0x4bf46b(0xfe)],'messageTimestamp':_0x58b9df[_0x4bf46b(0x5f4)]}]},this['createJid'](_0x343da7));}catch(_0x175469){this['logger'][_0x4bf46b(0x57d)](_0x4bf46b(0x368)+_0x343da7+':\x20'+_0x175469['toString']());}this[_0x4bf46b(0x4c0)][_0x4bf46b(0x4e0)](_0x4bf46b(0x6e7)+_0x343da7);return;}catch(_0x953582){throw this[_0x4bf46b(0x4c0)][_0x4bf46b(0x57d)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x953582[_0x4bf46b(0x56e)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x953582['toString']()]});}}async['deleteMessage'](_0x413d06){const _0x545f89=a0_0x187b1e;try{let _0x1dc5eb=await this[_0x545f89(0x27d)][_0x545f89(0x71a)](_0x413d06[_0x545f89(0x580)],{'delete':_0x413d06});try{let _0x48eea8=await this[_0x545f89(0x28f)](_0x413d06,{'status':_0x545f89(0x51f),'owner':this[_0x545f89(0x144)][_0x545f89(0x6c3)]});this['logger'][_0x545f89(0x4e0)](this['instanceName']+'\x20('+this[_0x545f89(0x144)][_0x545f89(0x6c3)]+_0x545f89(0x6c1)+_0x48eea8);}catch(_0x44ac53){console[_0x545f89(0x57d)](_0x545f89(0x286),_0x44ac53);}return _0x1dc5eb;}catch(_0x3b3a0b){throw new I(_0x545f89(0x197),_0x3b3a0b?.[_0x545f89(0x56e)]());}}async[a0_0x187b1e(0x1b1)](_0x44c069){const _0x1eccd5=a0_0x187b1e;try{let _0x29864c=_0x44c069?.['message']?_0x44c069:await this[_0x1eccd5(0x594)](_0x44c069[_0x1eccd5(0xfe)],!0x0);for(let _0x3c652a of ya)_0x29864c['message'][_0x3c652a]&&(_0x29864c['message']=_0x29864c['message'][_0x3c652a][_0x1eccd5(0x3df)]);let _0x269ff4,_0x167bd8;for(let _0x1493a3 of wa)if(_0x269ff4=_0x29864c['message'][_0x1493a3],_0x269ff4){_0x167bd8=_0x1493a3;break;}if(!_0x269ff4)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x269ff4['mediaKey']==_0x1eccd5(0x5ad)&&(_0x29864c[_0x1eccd5(0x3df)]=JSON[_0x1eccd5(0x329)](JSON[_0x1eccd5(0x126)](_0x29864c[_0x1eccd5(0x3df)])));let _0x3400a5=await(0x0,f[_0x1eccd5(0x699)])({'key':_0x29864c?.[_0x1eccd5(0xfe)],'message':_0x29864c?.[_0x1eccd5(0x3df)]},_0x1eccd5(0x3aa),{},{'logger':(0x0,Pt[_0x1eccd5(0x605)])({'level':_0x1eccd5(0x4a6)}),'reuploadRequest':this[_0x1eccd5(0x27d)][_0x1eccd5(0xa2)]});if(!(_0x3400a5 instanceof Buffer))throw new Error(_0x1eccd5(0x4ad));let _0x527f97=this[_0x1eccd5(0x684)]['get'](_0x1eccd5(0x228)),_0x1ee8c2,_0x24e0ca;if(_0x269ff4[_0x1eccd5(0x5d0)])_0x1ee8c2=_0x269ff4[_0x1eccd5(0x5d0)];else{let _0x2c5c0c=_0x269ff4[_0x1eccd5(0x1b9)]?.[_0x1eccd5(0xb1)](/\/(\w+)/),_0x3bddca=_0x2c5c0c?_0x2c5c0c[0x1]:null;if(!_0x3bddca)throw new Error(_0x1eccd5(0x5ce));_0x1ee8c2=(0x0,jt['v4'])()+'.'+_0x3bddca;}_0x167bd8===_0x1eccd5(0x738)?_0x24e0ca=_0x1eccd5(0x275)+await this[_0x1eccd5(0x73d)](_0x3400a5['toString'](_0x1eccd5(0x139))):(await this['saveMediaToFile'](_0x3400a5,_0x1ee8c2),_0x24e0ca=_0x1eccd5(0x275)+_0x1ee8c2);let _0x135d9a=this['configService'][_0x1eccd5(0x8e)](_0x1eccd5(0x273))[_0x1eccd5(0x4cb)];if(!_0x135d9a){let _0x566f38=this[_0x1eccd5(0x684)]['get'](_0x1eccd5(0x566));_0x135d9a=_0x1eccd5(0x2a1)+(_0x566f38&&_0x566f38[_0x1eccd5(0x6cb)][_0x1eccd5(0x214)]('/')[0x4]);}_0x24e0ca=''+_0x135d9a+_0x24e0ca;let _0x3be3db=0xc*0x3c*0x3c*0x3e8,_0x41666d={'where':{'_id':_0x29864c[_0x1eccd5(0xfe)]['id']}},_0xa5e784={'message_normalized.fileUrl':_0x24e0ca,'message_normalized.expires_fileUrl':Date[_0x1eccd5(0x34b)]()+_0x3be3db};try{let _0xbfb31c=await this[_0x1eccd5(0x2ed)][_0x1eccd5(0x3df)][_0x1eccd5(0x297)](_0x41666d,_0xa5e784,this[_0x1eccd5(0x144)][_0x1eccd5(0x6c3)]);_0xbfb31c&&U(this[_0x1eccd5(0x5a5)],'messages',{'message':_0xbfb31c});}catch(_0x56dfcc){let _0x2a65d7=_0x1eccd5(0x66a),_0x4b3fc5=_0x56dfcc instanceof Error?_0x56dfcc['message']:typeof _0x56dfcc==_0x1eccd5(0x5ad)?JSON['stringify'](_0x56dfcc):_0x56dfcc,_0x20f30c=_0x2a65d7+':\x20'+_0x4b3fc5;this['logger'][_0x1eccd5(0x57d)](this[_0x1eccd5(0x5a5)]+'\x20('+this[_0x1eccd5(0x144)][_0x1eccd5(0x6c3)]+_0x1eccd5(0x468)+_0x20f30c);}return{'mediaType':_0x167bd8,'fileName':_0x269ff4[_0x1eccd5(0x5d0)],'caption':_0x269ff4['caption'],'size':{'fileLength':_0x269ff4['fileLength'],'height':_0x269ff4['height'],'width':_0x269ff4[_0x1eccd5(0x341)]},'mimetype':_0x269ff4[_0x1eccd5(0x1b9)],'base64':_0x3400a5[_0x1eccd5(0x56e)](_0x1eccd5(0x139)),'fileUrl':_0x24e0ca,'expires_fileUrl':Date[_0x1eccd5(0x34b)]()+_0x3be3db};}catch(_0x5b1b4e){let _0x3bf7f4=_0x1eccd5(0x46c),_0x5cf9f5=_0x5b1b4e instanceof Error?_0x5b1b4e['message']:typeof _0x5b1b4e==_0x1eccd5(0x5ad)?JSON[_0x1eccd5(0x126)](_0x5b1b4e):_0x5b1b4e,_0xb69f05=_0x3bf7f4+':\x20'+_0x5cf9f5;throw this['logger'][_0x1eccd5(0x57d)](this[_0x1eccd5(0x5a5)]+'\x20('+this['instance'][_0x1eccd5(0x6c3)]+_0x1eccd5(0x468)+_0xb69f05),new m(_0xb69f05);}}async['saveMediaToFile'](_0x136b43,_0x10a98c){const _0x3b1126=a0_0x187b1e;let _0x432e4b=F['default'][_0x3b1126(0x119)](__dirname,_0x3b1126(0x44e));j[_0x3b1126(0x516)](_0x432e4b)||j[_0x3b1126(0x134)](_0x432e4b,{'recursive':!0x0});let _0x49a559=F[_0x3b1126(0x605)][_0x3b1126(0x119)](_0x432e4b,_0x10a98c);return new Promise((_0x61cb00,_0x4352d1)=>{j['writeFile'](_0x49a559,_0x136b43,_0x266545=>{const _0x4fd73f=a0_0xf8f0;_0x266545?(this['logger']['error']('Error\x20writing\x20file:\x20'+(_0x266545 instanceof Error?_0x266545['message']:JSON[_0x4fd73f(0x126)](_0x266545,null,0x2))),_0x4352d1(_0x266545)):(this[_0x4fd73f(0x4c0)][_0x4fd73f(0x1e1)](_0x4fd73f(0x39a)+_0x49a559),_0x61cb00(_0x49a559));});});}async[a0_0x187b1e(0x33a)](_0x15c2c3){const _0x144fe5=a0_0x187b1e;return await this[_0x144fe5(0x2ed)][_0x144fe5(0x402)][_0x144fe5(0x528)](_0x15c2c3,this[_0x144fe5(0x144)][_0x144fe5(0x6c3)]);}async[a0_0x187b1e(0x4c2)](){const _0x3f0b84=a0_0x187b1e;return await this[_0x3f0b84(0x2ed)][_0x3f0b84(0x3ca)]['find']({'where':{}},this[_0x3f0b84(0x144)]['wuid']);}async['fetchMessages'](_0x33baad){const _0x1d15f5=a0_0x187b1e;return await this[_0x1d15f5(0x2ed)][_0x1d15f5(0x3df)][_0x1d15f5(0x528)](_0x33baad,this[_0x1d15f5(0x144)][_0x1d15f5(0x6c3)]);}async['fetchChats'](){const _0x325762=a0_0x187b1e;return this[_0x325762(0x2ed)]['chat'][_0x325762(0x1a9)](this['instance'][_0x325762(0x6c3)]),this[_0x325762(0x2ed)][_0x325762(0x30d)]['updateMissingEtiquetas'](this['instance'][_0x325762(0x6c3)]),this[_0x325762(0x2ed)][_0x325762(0x30d)]['updateMissingTags'](this[_0x325762(0x144)]['wuid']),this['repository'][_0x325762(0x30d)][_0x325762(0x1bd)](this[_0x325762(0x144)][_0x325762(0x6c3)]),await this[_0x325762(0x2ed)][_0x325762(0x30d)][_0x325762(0x528)]({'where':{}},this[_0x325762(0x144)][_0x325762(0x6c3)]);}async[a0_0x187b1e(0x406)](_0x2bd5f3){const _0x1eb7eb=a0_0x187b1e;try{if(!Array[_0x1eb7eb(0x414)](_0x2bd5f3)||_0x2bd5f3[_0x1eb7eb(0x6ab)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x46e71b=[],_0x28cadc=[];for(let _0x4e7e3f of _0x2bd5f3){if(_0x4e7e3f[_0x1eb7eb(0xf5)])_0x4e7e3f[_0x1eb7eb(0xf5)]=this[_0x1eb7eb(0x253)](_0x4e7e3f[_0x1eb7eb(0xf5)]);else continue;await this[_0x1eb7eb(0x2ed)][_0x1eb7eb(0x30d)][_0x1eb7eb(0x525)]({'where':{'_id':_0x4e7e3f['_id']}},this[_0x1eb7eb(0x144)][_0x1eb7eb(0x6c3)])?_0x28cadc[_0x1eb7eb(0x764)]({'_id':_0x4e7e3f[_0x1eb7eb(0xf5)],'leadInfo':_0x4e7e3f[_0x1eb7eb(0x2ad)],'owner':this[_0x1eb7eb(0x144)][_0x1eb7eb(0x6c3)]}):_0x46e71b[_0x1eb7eb(0x764)]({'_id':_0x4e7e3f[_0x1eb7eb(0xf5)],'owner':this[_0x1eb7eb(0x144)]['wuid'],'leadInfo':_0x4e7e3f[_0x1eb7eb(0x2ad)],'imported':!0x0});}return _0x28cadc[_0x1eb7eb(0x6ab)]>0x0&&await this[_0x1eb7eb(0x2ed)][_0x1eb7eb(0x30d)][_0x1eb7eb(0x5cb)](_0x28cadc[_0x1eb7eb(0x687)](_0x493f37=>({'query':{'where':{'_id':_0x493f37[_0x1eb7eb(0xf5)],'owner':this[_0x1eb7eb(0x144)][_0x1eb7eb(0x6c3)]}},'update':_0x493f37}))),_0x46e71b['length']>0x0&&await this[_0x1eb7eb(0x2ed)]['chat'][_0x1eb7eb(0x2a6)](_0x46e71b,this[_0x1eb7eb(0x144)][_0x1eb7eb(0x6c3)]),{'updated':_0x28cadc[_0x1eb7eb(0x6ab)],'inserted':_0x46e71b[_0x1eb7eb(0x6ab)]};}catch(_0x25f0f3){let _0x5848d3=_0x1eb7eb(0x691),_0x4b7350=_0x25f0f3 instanceof Error?_0x25f0f3[_0x1eb7eb(0x3df)]:typeof _0x25f0f3=='object'?JSON[_0x1eb7eb(0x126)](_0x25f0f3):_0x25f0f3,_0x5f4c71=_0x5848d3+':\x20'+_0x4b7350;throw this['logger']['error'](this[_0x1eb7eb(0x5a5)]+'\x20('+this[_0x1eb7eb(0x144)][_0x1eb7eb(0x6c3)]+_0x1eb7eb(0x468)+_0x5f4c71),new m(_0x5f4c71);}}async[a0_0x187b1e(0x163)](_0x224674){const _0x4ad0a3=a0_0x187b1e;try{if(!Array[_0x4ad0a3(0x414)](_0x224674)||_0x224674[_0x4ad0a3(0x6ab)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x485cfd=0x64,_0x4a9611=0x0;for(let _0x9cd928=0x0;_0x9cd928<_0x224674[_0x4ad0a3(0x6ab)];_0x9cd928+=_0x485cfd){let _0x30e63e=_0x224674[_0x4ad0a3(0x634)](_0x9cd928,_0x9cd928+_0x485cfd),{updated:_0x182156}=await this[_0x4ad0a3(0x3e7)](_0x30e63e);_0x4a9611+=_0x182156;}return{'updated':_0x4a9611};}catch(_0x4a2c53){let _0x46defd='Erro\x20ao\x20importar\x20chats',_0x225d4b=_0x4a2c53 instanceof Error?_0x4a2c53[_0x4ad0a3(0x3df)]:typeof _0x4a2c53==_0x4ad0a3(0x5ad)?JSON[_0x4ad0a3(0x126)](_0x4a2c53):_0x4a2c53,_0x885a74=_0x46defd+':\x20'+_0x225d4b;throw this[_0x4ad0a3(0x4c0)]['error'](this[_0x4ad0a3(0x5a5)]+'\x20('+this['instance'][_0x4ad0a3(0x6c3)]+_0x4ad0a3(0x468)+_0x885a74),new m(_0x885a74);}}async[a0_0x187b1e(0x3e7)](_0x24d96b){const _0xcf8b0=a0_0x187b1e;try{let _0x176224=await this[_0xcf8b0(0x2ed)][_0xcf8b0(0x3ca)][_0xcf8b0(0x528)]({'where':{}},this['instance'][_0xcf8b0(0x6c3)]),_0x3d0b31=new Set(_0x176224[_0xcf8b0(0x687)](_0xd90815=>_0xd90815[_0xcf8b0(0xf5)])),_0x1d177b=[],_0x7e9679=[];for(let _0xe1d71a of _0x24d96b){if(!_0xe1d71a[_0xcf8b0(0xf5)])continue;_0xe1d71a['_id']=this['createJid'](_0xe1d71a[_0xcf8b0(0xf5)]);let _0x57f197=await this['repository']['chat'][_0xcf8b0(0x525)]({'where':{'_id':_0xe1d71a[_0xcf8b0(0xf5)]}},this[_0xcf8b0(0x144)][_0xcf8b0(0x6c3)]),_0x1df14a={};if(Object[_0xcf8b0(0x466)](_0xe1d71a['leadInfo'])[_0xcf8b0(0x4d6)](([_0x17c838,_0x2892ec])=>{_0x1df14a['leadInfo.'+_0x17c838]=_0x2892ec;}),_0x57f197&&!_0x57f197[_0xcf8b0(0x720)]){let _0x1d8120=(_0xe1d71a['leadInfo'][_0xcf8b0(0x596)]||[])[_0xcf8b0(0x348)](_0x444783=>_0x3d0b31[_0xcf8b0(0x69f)](_0x444783)),_0x19806c=new Set(_0x57f197['leadInfo']['etiquetas']||[]),_0xd12212=_0x1d8120['filter'](_0x1a10e2=>!_0x19806c[_0xcf8b0(0x69f)](_0x1a10e2)),_0x888ad3=[..._0x19806c][_0xcf8b0(0x348)](_0x185332=>!_0x1d8120[_0xcf8b0(0x7e)](_0x185332));_0x7e9679[_0xcf8b0(0x764)](..._0xd12212[_0xcf8b0(0x687)](_0x4a5f63=>this['AddChatLabel'](_0x4a5f63,_0xe1d71a[_0xcf8b0(0xf5)]))),_0x7e9679[_0xcf8b0(0x764)](..._0x888ad3[_0xcf8b0(0x687)](_0x465341=>this[_0xcf8b0(0x1bf)](_0x465341,_0xe1d71a[_0xcf8b0(0xf5)]))),_0xe1d71a[_0xcf8b0(0x2ad)][_0xcf8b0(0x596)]=_0x1d8120,_0x1d177b['push']({'query':{'where':{'_id':_0xe1d71a[_0xcf8b0(0xf5)],'owner':this[_0xcf8b0(0x144)][_0xcf8b0(0x6c3)]}},'update':_0x1df14a});}else _0x1df14a[_0xcf8b0(0x720)]=!0x0,_0x1d177b['push']({'query':{'where':{'_id':_0xe1d71a['_id'],'owner':this[_0xcf8b0(0x144)][_0xcf8b0(0x6c3)]}},'update':_0x1df14a});}let _0x3b8c28=await this[_0xcf8b0(0x2ed)][_0xcf8b0(0x30d)][_0xcf8b0(0x5cb)](_0x1d177b);return await Promise['all'](_0x7e9679),{'updated':_0x3b8c28};}catch(_0x264929){let _0x5409ec='Erro\x20ao\x20importar\x20chats',_0x327e89=_0x264929 instanceof Error?_0x264929[_0xcf8b0(0x3df)]:typeof _0x264929=='object'?JSON[_0xcf8b0(0x126)](_0x264929):_0x264929,_0x136b70=_0x5409ec+':\x20'+_0x327e89;throw this[_0xcf8b0(0x4c0)][_0xcf8b0(0x57d)](this[_0xcf8b0(0x5a5)]+'\x20('+this['instance'][_0xcf8b0(0x6c3)]+_0xcf8b0(0x468)+_0x136b70),new m(_0x136b70);}}async['fetchPrivacySettings'](){const _0x3ecc9a=a0_0x187b1e;return await this[_0x3ecc9a(0x27d)]['fetchPrivacySettings']();}async[a0_0x187b1e(0x569)](_0x4c8c8a){const _0x51f0c1=a0_0x187b1e;try{return await this[_0x51f0c1(0x27d)][_0x51f0c1(0xdb)](_0x4c8c8a[_0x51f0c1(0x5c4)]['readreceipts']),await this[_0x51f0c1(0x27d)][_0x51f0c1(0x33c)](_0x4c8c8a[_0x51f0c1(0x5c4)][_0x51f0c1(0x39c)]),await this['client']['updateStatusPrivacy'](_0x4c8c8a['privacySettings']['status']),await this[_0x51f0c1(0x27d)][_0x51f0c1(0xea)](_0x4c8c8a['privacySettings']['online']),await this[_0x51f0c1(0x27d)][_0x51f0c1(0x6d4)](_0x4c8c8a[_0x51f0c1(0x5c4)][_0x51f0c1(0x18f)]),await this[_0x51f0c1(0x27d)][_0x51f0c1(0x56b)](_0x4c8c8a[_0x51f0c1(0x5c4)]['groupadd']),this[_0x51f0c1(0x27d)]?.['ws']?.[_0x51f0c1(0x750)](),{'update':'success','data':{'readreceipts':_0x4c8c8a[_0x51f0c1(0x5c4)][_0x51f0c1(0x28b)],'profile':_0x4c8c8a['privacySettings']['profile'],'status':_0x4c8c8a[_0x51f0c1(0x5c4)][_0x51f0c1(0x391)],'online':_0x4c8c8a['privacySettings']['online'],'last':_0x4c8c8a[_0x51f0c1(0x5c4)][_0x51f0c1(0x18f)],'groupadd':_0x4c8c8a[_0x51f0c1(0x5c4)]['groupadd']}};}catch(_0xd70257){let _0x3b6b07=_0x51f0c1(0x6cc),_0x4920fe=_0xd70257 instanceof Error?_0xd70257[_0x51f0c1(0x3df)]:typeof _0xd70257==_0x51f0c1(0x5ad)?JSON[_0x51f0c1(0x126)](_0xd70257):_0xd70257,_0x4ef3f7=_0x3b6b07+':\x20'+_0x4920fe;throw this[_0x51f0c1(0x4c0)][_0x51f0c1(0x57d)](this[_0x51f0c1(0x5a5)]+'\x20('+this[_0x51f0c1(0x144)][_0x51f0c1(0x6c3)]+'):\x20'+_0x4ef3f7),new m(_0x4ef3f7);}}async[a0_0x187b1e(0x278)](_0x5438e7){const _0x4c9435=a0_0x187b1e;let _0x32bbff=(_0x5438e7?this['createJid'](_0x5438e7):this[_0x4c9435(0x27d)]?.['user']?.['id'])[_0x4c9435(0x2f2)](/:\d{1,2}@/g,'@');this[_0x4c9435(0x4c0)]['verbose'](_0x4c9435(0x2db)+_0x32bbff);let _0x591757=await this[_0x4c9435(0x2ed)][_0x4c9435(0x402)]['findOne']({'where':{'_id':_0x32bbff}},this[_0x4c9435(0x144)][_0x4c9435(0x6c3)]),_0x4df8d1=_0x591757?_0x591757[_0x4c9435(0x168)]:null;try{let _0x54c772=(await this[_0x4c9435(0x696)]({'numbers':[_0x32bbff]}))?.[_0x4c9435(0x648)](),_0x52f175=(await this[_0x4c9435(0x91)](_0x32bbff,null,!0x1))[_0x4c9435(0x37b)][_0x4c9435(0x36f)],_0x48cb42=await this['getStatus'](_0x54c772?.['jid']),_0x4c1bc5=await this['fetchBusinessProfile'](_0x54c772?.[_0x4c9435(0x2b0)]),_0x2a775a=(await this[_0x4c9435(0x91)](_0x32bbff,null,!0x1))[_0x4c9435(0x37b)][_0x4c9435(0x19a)],_0x423dc9=await this['repository'][_0x4c9435(0x30d)][_0x4c9435(0x525)]({'where':{'_id':_0x32bbff}},this[_0x4c9435(0x144)][_0x4c9435(0x6c3)]),_0x2a07b5={'imagechat':_0x52f175,'contactname':_0x4df8d1||null,'pushName':_0x2a775a,'status':_0x48cb42?.[_0x4c9435(0x391)],'isBusiness':_0x4c1bc5[_0x4c9435(0x56f)],'email':_0x4c1bc5?.[_0x4c9435(0x571)],'description':_0x4c1bc5?.['description'],'website':_0x4c1bc5?.['website']?.[_0x4c9435(0x648)](),'lastcache':Date[_0x4c9435(0x34b)](),'imported':!_0x423dc9},_0x47659e=await this[_0x4c9435(0x2ed)][_0x4c9435(0x30d)][_0x4c9435(0x190)]({'where':{'_id':_0x32bbff}},_0x2a07b5,this[_0x4c9435(0x144)][_0x4c9435(0x6c3)]),_0x3b9b72={'owner':this[_0x4c9435(0x144)][_0x4c9435(0x6c3)],'_id':_0x32bbff,'profilePictureUrl':_0x52f175,'status':_0x48cb42?.[_0x4c9435(0x391)]};return this[_0x4c9435(0x2ed)][_0x4c9435(0x402)]['update']([_0x3b9b72],this[_0x4c9435(0x144)]['wuid']),_0x47659e&&U(this['instanceName'],_0x4c9435(0x196),{'chat':_0x47659e}),{'wuid':_0x54c772?.[_0x4c9435(0x2b0)]||_0x32bbff,'name':_0x54c772?.[_0x4c9435(0x19a)],'pushName':_0x2a775a,'numberExists':_0x54c772?.[_0x4c9435(0x620)],'picture':_0x52f175,'status':_0x48cb42?.[_0x4c9435(0x391)],'isBusiness':_0x4c1bc5[_0x4c9435(0x56f)],'email':_0x4c1bc5?.[_0x4c9435(0x571)],'description':_0x4c1bc5?.['description'],'website':_0x4c1bc5?.['website']?.['shift']()};}catch(_0x50a16d){return this[_0x4c9435(0x4c0)]['error'](_0x4c9435(0x241)+(_0x50a16d instanceof Error?_0x50a16d[_0x4c9435(0x3df)]:JSON['stringify'](_0x50a16d,null,0x2))),{};}}async['fetchBusinessProfile'](_0x10b16d){const _0x55d12b=a0_0x187b1e;this[_0x55d12b(0x4c0)][_0x55d12b(0x4e0)](_0x55d12b(0x499));try{let _0x21ee09=_0x10b16d?this[_0x55d12b(0x253)](_0x10b16d):this[_0x55d12b(0x144)][_0x55d12b(0x6c3)],_0xa18e82=await this[_0x55d12b(0x27d)][_0x55d12b(0x280)](_0x21ee09);return this[_0x55d12b(0x4c0)][_0x55d12b(0x4e0)](_0x55d12b(0x377)),_0xa18e82?(this[_0x55d12b(0x4c0)][_0x55d12b(0x4e0)](_0x55d12b(0x408)),{'isBusiness':!0x0,..._0xa18e82}):{'isBusiness':!0x1,'message':_0x55d12b(0x4de),...(await this[_0x55d12b(0x696)]({'numbers':[_0x21ee09]}))?.[_0x55d12b(0x648)]()};}catch(_0x3840e4){let _0x450791=_0x55d12b(0x30a),_0x1a6778=_0x3840e4 instanceof Error?_0x3840e4['message']:typeof _0x3840e4=='object'?JSON[_0x55d12b(0x126)](_0x3840e4):_0x3840e4,_0x5265c8=_0x450791+':\x20'+_0x1a6778;throw this['logger']['error'](this[_0x55d12b(0x5a5)]+'\x20('+this[_0x55d12b(0x144)][_0x55d12b(0x6c3)]+_0x55d12b(0x468)+_0x5265c8),new I(_0x5265c8);}}async[a0_0x187b1e(0x6f6)](_0x560f49){const _0x7527cb=a0_0x187b1e;let _0x58e51b=this[_0x7527cb(0x253)](_0x560f49);try{return{'wuid':_0x58e51b,'status':(await this[_0x7527cb(0x27d)][_0x7527cb(0x567)](_0x58e51b))?.[_0x7527cb(0x391)]};}catch{return{'wuid':_0x58e51b,'status':null};}}async[a0_0x187b1e(0x563)](_0x1e1243){const _0x198d37=a0_0x187b1e;try{return await this[_0x198d37(0x27d)][_0x198d37(0x563)](_0x1e1243),{'update':_0x198d37(0x38a)};}catch(_0x18cc1c){let _0x582173='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName',_0x3074b6=_0x18cc1c instanceof Error?_0x18cc1c['message']:typeof _0x18cc1c==_0x198d37(0x5ad)?JSON[_0x198d37(0x126)](_0x18cc1c):_0x18cc1c,_0x5ec0f6=_0x582173+':\x20'+_0x3074b6;throw this[_0x198d37(0x4c0)]['error'](this[_0x198d37(0x5a5)]+'\x20('+this[_0x198d37(0x144)][_0x198d37(0x6c3)]+_0x198d37(0x468)+_0x5ec0f6),new I(_0x5ec0f6);}}async[a0_0x187b1e(0x5a9)](_0x253b1a){const _0x5caab7=a0_0x187b1e;try{return await this[_0x5caab7(0x27d)][_0x5caab7(0x5a9)](_0x253b1a),{'update':_0x5caab7(0x38a)};}catch(_0x50c3bb){let _0x138354=_0x5caab7(0x274),_0x4659f6=_0x50c3bb instanceof Error?_0x50c3bb[_0x5caab7(0x3df)]:typeof _0x50c3bb==_0x5caab7(0x5ad)?JSON['stringify'](_0x50c3bb):_0x50c3bb,_0x4590fd=_0x138354+':\x20'+_0x4659f6;throw this[_0x5caab7(0x4c0)][_0x5caab7(0x57d)](this[_0x5caab7(0x5a5)]+'\x20('+this[_0x5caab7(0x144)][_0x5caab7(0x6c3)]+_0x5caab7(0x468)+_0x4590fd),new I(_0x4590fd);}}async[a0_0x187b1e(0x4d4)](_0x20a978){const _0xa5eb28=a0_0x187b1e;try{let _0x1a2901;if((0x0,P[_0xa5eb28(0x330)])(_0x20a978)){let _0x1b35d3=new Date()[_0xa5eb28(0x501)](),_0x455fa3=_0x20a978+_0xa5eb28(0x40f)+_0x1b35d3;_0x1a2901=(await K[_0xa5eb28(0x605)][_0xa5eb28(0x8e)](_0x455fa3,{'responseType':_0xa5eb28(0x52b)}))[_0xa5eb28(0x3a5)];}else{if((0x0,P[_0xa5eb28(0x556)])(_0x20a978))_0x1a2901=Buffer['from'](_0x20a978,_0xa5eb28(0x139));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0xa5eb28(0x4d4)](this[_0xa5eb28(0x144)]['wuid'],_0x1a2901),{'update':_0xa5eb28(0x38a)};}catch(_0x11d3e4){let _0xffa45b='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture',_0xb0b6a7=_0x11d3e4 instanceof Error?_0x11d3e4[_0xa5eb28(0x3df)]:typeof _0x11d3e4==_0xa5eb28(0x5ad)?JSON[_0xa5eb28(0x126)](_0x11d3e4):_0x11d3e4,_0x293382=_0xffa45b+':\x20'+_0xb0b6a7;throw this[_0xa5eb28(0x4c0)][_0xa5eb28(0x57d)](this[_0xa5eb28(0x5a5)]+'\x20('+this[_0xa5eb28(0x144)][_0xa5eb28(0x6c3)]+_0xa5eb28(0x468)+_0x293382),new I(_0x293382);}}async[a0_0x187b1e(0x1ef)](){const _0x5a2c45=a0_0x187b1e;try{return await this[_0x5a2c45(0x27d)][_0x5a2c45(0x1ef)](this['instance'][_0x5a2c45(0x6c3)]),{'update':_0x5a2c45(0x38a)};}catch(_0x397604){let _0x377222=_0x5a2c45(0x716),_0x3de7ca=_0x397604 instanceof Error?_0x397604[_0x5a2c45(0x3df)]:typeof _0x397604==_0x5a2c45(0x5ad)?JSON[_0x5a2c45(0x126)](_0x397604):_0x397604,_0x286701=_0x377222+':\x20'+_0x3de7ca;throw this[_0x5a2c45(0x4c0)][_0x5a2c45(0x57d)](this[_0x5a2c45(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5a2c45(0x468)+_0x286701),new I(_0x286701);}}async[a0_0x187b1e(0x1bb)](_0xb24bc4){const _0x36b8f6=a0_0x187b1e;try{let _0xf058ae=(await this[_0x36b8f6(0x696)]({'numbers':_0xb24bc4[_0x36b8f6(0x4db)]}))[_0x36b8f6(0x348)](_0x3b5b40=>_0x3b5b40['exists'])[_0x36b8f6(0x687)](_0x41f955=>_0x41f955['jid']),{id:_0x1e36f0}=await this[_0x36b8f6(0x27d)][_0x36b8f6(0x568)](_0xb24bc4[_0x36b8f6(0x760)],_0xf058ae);_0xb24bc4?.[_0x36b8f6(0x46a)]&&await this[_0x36b8f6(0x27d)][_0x36b8f6(0x725)](_0x1e36f0,_0xb24bc4[_0x36b8f6(0x46a)]);let _0x46a807=await this[_0x36b8f6(0x27d)][_0x36b8f6(0x106)](_0x1e36f0);return _0x46a807['awaitingApproval']=[],{'metadata':_0x46a807};}catch(_0x347a0c){let _0x52639d=_0x36b8f6(0x420),_0x2f7a79=_0x347a0c instanceof Error?_0x347a0c['message']:typeof _0x347a0c==_0x36b8f6(0x5ad)?JSON[_0x36b8f6(0x126)](_0x347a0c):_0x347a0c,_0x28373b=_0x52639d+':\x20'+_0x2f7a79;throw this[_0x36b8f6(0x4c0)][_0x36b8f6(0x57d)](this['instanceName']+'\x20('+this[_0x36b8f6(0x144)]['wuid']+_0x36b8f6(0x468)+_0x28373b),new I(_0x28373b);}}async[a0_0x187b1e(0x618)](_0x3a0eda){const _0x392a8b=a0_0x187b1e;try{let _0x1fbbfa;if((0x0,P[_0x392a8b(0x330)])(_0x3a0eda[_0x392a8b(0x705)])){let _0x1c267a=new Date()[_0x392a8b(0x501)](),_0x5533b7=_0x3a0eda[_0x392a8b(0x705)]+_0x392a8b(0x40f)+_0x1c267a;_0x1fbbfa=(await K['default']['get'](_0x5533b7,{'responseType':_0x392a8b(0x52b)}))['data'];}else{if((0x0,P[_0x392a8b(0x556)])(_0x3a0eda['image']))_0x1fbbfa=Buffer[_0x392a8b(0x4d0)](_0x3a0eda['image'],_0x392a8b(0x139));else throw new m(_0x392a8b(0x24e));}return await this[_0x392a8b(0x27d)][_0x392a8b(0x4d4)](_0x3a0eda['groupJid'],_0x1fbbfa),{'update':'success'};}catch(_0x12196f){let _0x3e2b82=_0x392a8b(0x708),_0x508c7f=_0x12196f instanceof Error?_0x12196f[_0x392a8b(0x3df)]:typeof _0x12196f==_0x392a8b(0x5ad)?JSON[_0x392a8b(0x126)](_0x12196f):_0x12196f,_0x4414de=_0x3e2b82+':\x20'+_0x508c7f;throw this[_0x392a8b(0x4c0)][_0x392a8b(0x57d)](this[_0x392a8b(0x5a5)]+'\x20('+this[_0x392a8b(0x144)][_0x392a8b(0x6c3)]+_0x392a8b(0x468)+_0x4414de),new I(_0x4414de);}}async[a0_0x187b1e(0x140)](_0x58ea69){const _0x352a83=a0_0x187b1e;try{if(_0x58ea69['restrict']===!0x0&&await this[_0x352a83(0x27d)][_0x352a83(0x48e)](_0x58ea69[_0x352a83(0x6ed)],_0x352a83(0xf2)),_0x58ea69[_0x352a83(0x262)]===!0x1&&await this['client'][_0x352a83(0x48e)](_0x58ea69['groupJid'],_0x352a83(0x5d2)),_0x58ea69[_0x352a83(0x49a)]===!0x0&&await this[_0x352a83(0x27d)]['groupSettingUpdate'](_0x58ea69[_0x352a83(0x6ed)],'announcement'),_0x58ea69[_0x352a83(0x49a)]===!0x1&&await this['client'][_0x352a83(0x48e)](_0x58ea69[_0x352a83(0x6ed)],_0x352a83(0x2a5)),_0x58ea69[_0x352a83(0x503)]===!0x0&&await this[_0x352a83(0x27d)][_0x352a83(0x64d)](_0x58ea69['groupJid'],_0x352a83(0x5fc)),_0x58ea69[_0x352a83(0x503)]===!0x1&&await this['client']['groupMemberAddMode'](_0x58ea69[_0x352a83(0x6ed)],_0x352a83(0x5b2)),_0x58ea69[_0x352a83(0x21c)]===!0x0&&await this[_0x352a83(0x27d)][_0x352a83(0x5e1)](_0x58ea69[_0x352a83(0x6ed)],'on'),_0x58ea69[_0x352a83(0x21c)]===!0x1&&await this['client'][_0x352a83(0x5e1)](_0x58ea69[_0x352a83(0x6ed)],_0x352a83(0x1c9)),typeof _0x58ea69[_0x352a83(0x215)]<'u'&&_0x58ea69[_0x352a83(0x215)]!==null&&await this[_0x352a83(0x27d)]['groupToggleEphemeral'](_0x58ea69['groupJid'],_0x58ea69['expiration']),_0x58ea69[_0x352a83(0x19a)]&&await this['client'][_0x352a83(0x47c)](_0x58ea69['groupJid'],_0x58ea69[_0x352a83(0x19a)]),_0x58ea69[_0x352a83(0x46a)]&&await this[_0x352a83(0x27d)][_0x352a83(0x725)](_0x58ea69[_0x352a83(0x6ed)],_0x58ea69[_0x352a83(0x46a)]),_0x58ea69['image']){let _0x30593d;if((0x0,P[_0x352a83(0x330)])(_0x58ea69['image'])){let _0x565042=new Date()[_0x352a83(0x501)](),_0xb9eaab=_0x58ea69['image']+_0x352a83(0x40f)+_0x565042;_0x30593d=(await K[_0x352a83(0x605)][_0x352a83(0x8e)](_0xb9eaab,{'responseType':_0x352a83(0x52b)}))['data'];}else{if((0x0,P[_0x352a83(0x556)])(_0x58ea69['image']))_0x30593d=Buffer[_0x352a83(0x4d0)](_0x58ea69[_0x352a83(0x705)],_0x352a83(0x139));else throw new m(_0x352a83(0x24e));}await this[_0x352a83(0x27d)][_0x352a83(0x4d4)](_0x58ea69[_0x352a83(0x6ed)],_0x30593d);}return await this[_0x352a83(0x48b)]({'groupJid':_0x58ea69['groupJid']});}catch(_0x512ac8){let _0x263927=_0x352a83(0x281),_0x4b0498=_0x512ac8 instanceof Error?_0x512ac8[_0x352a83(0x3df)]:typeof _0x512ac8==_0x352a83(0x5ad)?JSON['stringify'](_0x512ac8):_0x512ac8,_0x3d00f9=_0x263927+':\x20'+_0x4b0498;throw this[_0x352a83(0x4c0)][_0x352a83(0x57d)](this['instanceName']+'\x20('+this[_0x352a83(0x144)]['wuid']+'):\x20'+_0x3d00f9),new I(_0x3d00f9);}}async[a0_0x187b1e(0x42c)](_0x267e71){const _0x5d5f49=a0_0x187b1e;try{if(_0x267e71[_0x5d5f49(0xcb)]===_0x5d5f49(0x492)||_0x267e71['action']==='reject'){let _0x261576=_0x267e71[_0x5d5f49(0x4db)][_0x5d5f49(0x687)](_0x255d3f=>this[_0x5d5f49(0x253)](_0x255d3f));await this[_0x5d5f49(0x27d)]['groupRequestParticipantsUpdate'](_0x267e71['groupJid'],_0x261576,_0x267e71[_0x5d5f49(0xcb)]);}else{if(_0x267e71[_0x5d5f49(0xcb)]===_0x5d5f49(0x494)){let _0x32ea57=(await this[_0x5d5f49(0x696)]({'numbers':_0x267e71[_0x5d5f49(0x4db)]}))[_0x5d5f49(0x348)](_0x136b92=>_0x136b92[_0x5d5f49(0x620)])[_0x5d5f49(0x687)](_0xbe7a23=>this[_0x5d5f49(0x253)](_0xbe7a23[_0x5d5f49(0x2b0)]));if(_0x32ea57['length']===0x0)throw new m(_0x5d5f49(0x4b1));await this[_0x5d5f49(0x27d)][_0x5d5f49(0x497)](_0x267e71[_0x5d5f49(0x6ed)],_0x32ea57,_0x5d5f49(0x494));}else{let _0xb0d15f=_0x267e71[_0x5d5f49(0x4db)][_0x5d5f49(0x687)](_0x30e369=>this['createJid'](_0x30e369));await this[_0x5d5f49(0x27d)][_0x5d5f49(0x497)](_0x267e71['groupJid'],_0xb0d15f,_0x267e71[_0x5d5f49(0xcb)]);}}return await this['findGroup']({'groupJid':_0x267e71[_0x5d5f49(0x6ed)]});}catch(_0x15c8b7){let _0x359716=_0x5d5f49(0x133),_0x4d4ebf=_0x15c8b7 instanceof Error?_0x15c8b7['message']:typeof _0x15c8b7==_0x5d5f49(0x5ad)?JSON[_0x5d5f49(0x126)](_0x15c8b7):_0x15c8b7,_0x52effe=_0x359716+':\x20'+_0x4d4ebf;throw this[_0x5d5f49(0x4c0)][_0x5d5f49(0x57d)](this['instanceName']+'\x20('+this[_0x5d5f49(0x144)][_0x5d5f49(0x6c3)]+'):\x20'+_0x52effe),new m(_0x52effe);}}async[a0_0x187b1e(0x251)](_0x28e42c){const _0x237bbb=a0_0x187b1e;try{return await this[_0x237bbb(0x27d)][_0x237bbb(0x251)](_0x28e42c[_0x237bbb(0x463)]);}catch(_0x253b96){let _0xdd5a20=_0x237bbb(0x358),_0x5991a2=_0x253b96 instanceof Error?_0x253b96[_0x237bbb(0x3df)]:typeof _0x253b96==_0x237bbb(0x5ad)?JSON[_0x237bbb(0x126)](_0x253b96):_0x253b96,_0xda9aca=_0xdd5a20+':\x20'+_0x5991a2;throw this[_0x237bbb(0x4c0)][_0x237bbb(0x57d)](this[_0x237bbb(0x5a5)]+'\x20('+this[_0x237bbb(0x144)][_0x237bbb(0x6c3)]+_0x237bbb(0x468)+_0xda9aca),new m(_0xda9aca);}}async['findGroup'](_0x4a998b,_0x43298e=a0_0x187b1e(0x1a5)){const _0xa444ca=a0_0x187b1e;try{let _0x211cd7=await this[_0xa444ca(0x2ed)][_0xa444ca(0x30d)][_0xa444ca(0x525)]({'where':{'_id':_0x4a998b[_0xa444ca(0x6ed)]}},this[_0xa444ca(0x144)][_0xa444ca(0x6c3)]),_0x30ab89=_0x211cd7?_0x211cd7[_0xa444ca(0x1dc)]:null,_0x47c5f4=0x18*0x3c*0x3c*0x3e8;if(!_0x30ab89||_0x30ab89[_0xa444ca(0x2aa)]&&Date['now']()-_0x30ab89[_0xa444ca(0x2aa)]>_0x47c5f4){let _0x2e1170=await this[_0xa444ca(0x27d)]['groupMetadata'](_0x4a998b[_0xa444ca(0x6ed)]);if(_0x2e1170[_0xa444ca(0x1b0)]=_0x2e1170?.[_0xa444ca(0x1b0)]&&_0x2e1170[_0xa444ca(0x1b0)][_0xa444ca(0x56e)]()[_0xa444ca(0x6ab)]<0xd?_0x2e1170?.['subjectTime']*0x3e8:_0x2e1170?.[_0xa444ca(0x1b0)]||null,_0x2e1170['creation']=_0x2e1170?.[_0xa444ca(0x43a)]&&_0x2e1170[_0xa444ca(0x43a)][_0xa444ca(0x56e)]()[_0xa444ca(0x6ab)]<0xd?_0x2e1170?.[_0xa444ca(0x43a)]*0x3e8:_0x2e1170?.[_0xa444ca(0x43a)]||null,_0x30ab89={..._0x2e1170,'lastUpdate':Date['now']()},!_0x2e1170)return;}let _0x40e2fa=_0x30ab89[_0xa444ca(0x4db)][_0xa444ca(0x559)](_0x7869db=>_0x7869db['id']===this[_0xa444ca(0x144)][_0xa444ca(0x6c3)]+_0xa444ca(0x40a)&&_0x7869db[_0xa444ca(0x263)]!=null);!_0x30ab89[_0xa444ca(0x463)]&&_0x40e2fa&&(_0x30ab89[_0xa444ca(0x463)]=(await this[_0xa444ca(0x463)](_0x4a998b,!0x1))[_0xa444ca(0x247)]);let _0x2971a0=(!_0x30ab89[_0xa444ca(0x49a)]||_0x40e2fa)&&(!_0x30ab89[_0xa444ca(0x9e)]||_0x30ab89[_0xa444ca(0x9e)]&&_0x30ab89['isCommunityAnnounce']&&_0x40e2fa);_0x30ab89[_0xa444ca(0x49e)]=_0x40e2fa,_0x30ab89[_0xa444ca(0xcc)]=_0x2971a0;let _0x444e52=[];if(_0x40e2fa&&_0x30ab89['joinApprovalMode'])try{_0x444e52=await this[_0xa444ca(0x27d)][_0xa444ca(0x203)](_0x4a998b[_0xa444ca(0x6ed)]),_0x30ab89[_0xa444ca(0x85)]=Date[_0xa444ca(0x34b)]();}catch(_0x26d9b3){this[_0xa444ca(0x4c0)][_0xa444ca(0x4e0)](this['instanceName']+'\x20('+this[_0xa444ca(0x144)]['wuid']+_0xa444ca(0x6c4)+_0x4a998b[_0xa444ca(0x6ed)]+':\x20'+(_0x26d9b3 instanceof Error?_0x26d9b3['message']:JSON[_0xa444ca(0x126)](_0x26d9b3,null,0x2)));}try{_0x30ab89[_0xa444ca(0x705)]=(await this[_0xa444ca(0x91)](_0x4a998b['groupJid'],null,!0x0))[_0xa444ca(0x37b)][_0xa444ca(0x36f)];}catch(_0x436bc2){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xa444ca(0x144)][_0xa444ca(0x6c3)]+_0xa444ca(0x1c6)+_0x4a998b[_0xa444ca(0x6ed)]+':\x20'+(_0x436bc2 instanceof Error?_0x436bc2[_0xa444ca(0x3df)]:JSON[_0xa444ca(0x126)](_0x436bc2,null,0x2)));}let _0x4d433e=_0x30ab89['participants'][_0xa444ca(0x687)](_0x3d7f5b=>_0x3d7f5b['id']),_0x4e0ce3=_0x444e52[_0xa444ca(0x687)](_0x1fa8a5=>_0x1fa8a5[_0xa444ca(0x2b0)]),_0x4f6aeb=await this[_0xa444ca(0x2ed)][_0xa444ca(0xfa)]['findManyByIds']([..._0x4d433e,..._0x4e0ce3]);_0x30ab89[_0xa444ca(0x4db)]=_0x30ab89[_0xa444ca(0x4db)][_0xa444ca(0x687)](_0x516118=>{const _0x3e8a8c=_0xa444ca;let _0x18f2e4=_0x4f6aeb[_0x3e8a8c(0x528)](_0x490a9e=>_0x490a9e[_0x3e8a8c(0xf5)]===_0x516118['id']);return{'id':_0x516118['id'],'isAdmin':[_0x3e8a8c(0x263),_0x3e8a8c(0x2bd)][_0x3e8a8c(0x7e)](_0x516118[_0x3e8a8c(0x263)]),'admin':_0x516118[_0x3e8a8c(0x263)],'pushName':_0x18f2e4?.[_0x3e8a8c(0x19a)],'profilePictureUrl':_0x18f2e4?.['pictureUrl']};}),_0x30ab89[_0xa444ca(0x47d)]=_0x444e52[_0xa444ca(0x687)](_0x4bf60d=>{const _0x440d03=_0xa444ca;let _0x13848e=_0x4f6aeb['find'](_0x5c8293=>_0x5c8293[_0x440d03(0xf5)]===_0x4bf60d[_0x440d03(0x2b0)]);return{'id':_0x4bf60d['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x13848e?.[_0x440d03(0x19a)],'profilePictureUrl':_0x13848e?.[_0x440d03(0x36f)],'request_method':_0x4bf60d[_0x440d03(0x64c)],'request_time':_0x4bf60d[_0x440d03(0x680)]};});let _0x414782=await this[_0xa444ca(0x2ed)][_0xa444ca(0x30d)][_0xa444ca(0x190)]({'where':{'_id':_0x4a998b[_0xa444ca(0x6ed)]}},{'imagechat':_0x30ab89[_0xa444ca(0x705)],'name':_0x30ab89[_0xa444ca(0x760)],'lastcache':Date[_0xa444ca(0x34b)](),'groupdata':_0x30ab89},this[_0xa444ca(0x144)][_0xa444ca(0x6c3)]);return U(this[_0xa444ca(0x5a5)],_0xa444ca(0x196),{'chat':_0x414782}),{'metadata':_0x30ab89};}catch(_0xb9b5ef){if(_0x43298e===_0xa444ca(0x339))return;throw new J('Error\x20fetching\x20group',_0xb9b5ef[_0xa444ca(0x3df)][_0xa444ca(0x56e)]());}}async[a0_0x187b1e(0x434)](){const _0x4e3c14=a0_0x187b1e;try{let _0x424537=[],_0x9a9924=await this[_0x4e3c14(0x27d)][_0x4e3c14(0x5db)](),_0x21a408=Object[_0x4e3c14(0x651)](_0x9a9924),_0x40c2c2=_0x21a408[_0x4e3c14(0x348)](_0x3c16d9=>(0x0,f[_0x4e3c14(0x378)])(_0x3c16d9?.['id']))['map'](async _0x47c475=>{const _0x21db65=_0x4e3c14;try{return await this['client'][_0x21db65(0x1ed)](_0x47c475['id'],'preview');}catch(_0x134281){return this[_0x21db65(0x4c0)]['verbose'](this[_0x21db65(0x5a5)]+'\x20('+this[_0x21db65(0x144)][_0x21db65(0x6c3)]+_0x21db65(0x1c6)+_0x47c475['id']+':\x20'+(_0x134281 instanceof Error?_0x134281[_0x21db65(0x3df)]:JSON[_0x21db65(0x126)](_0x134281,null,0x2))),null;}}),_0x26652d=await Promise[_0x4e3c14(0x372)](_0x40c2c2);for(let _0x3cecbe=0x0;_0x3cecbe<_0x21a408[_0x4e3c14(0x6ab)];_0x3cecbe++){let _0x2e1faa=_0x21a408[_0x3cecbe];(0x0,f[_0x4e3c14(0x378)])(_0x2e1faa?.['id'])&&(_0x424537[_0x4e3c14(0x764)]({'groupJid':_0x2e1faa?.['id'],'subject':_0x2e1faa?.[_0x4e3c14(0x760)],'subjectOwner':_0x2e1faa?.[_0x4e3c14(0x335)]?.[_0x4e3c14(0x214)]('@')[0x0],'subjectTime':_0x2e1faa?.[_0x4e3c14(0x1b0)],'creation':_0x2e1faa?.[_0x4e3c14(0x43a)],'size':_0x2e1faa?.[_0x4e3c14(0x4db)]?.[_0x4e3c14(0x6ab)],'owner':_0x2e1faa?.[_0x4e3c14(0xdd)]?.[_0x4e3c14(0x214)]('@')[0x0],'desc':_0x2e1faa?.[_0x4e3c14(0x63c)],'restrict':_0x2e1faa?.[_0x4e3c14(0x262)],'announce':_0x2e1faa?.[_0x4e3c14(0x49a)],'image':_0x26652d[_0x3cecbe],'isCommunity':_0x2e1faa?.[_0x4e3c14(0x9e)],'joinApprovalMode':_0x2e1faa?.[_0x4e3c14(0x21c)],'memberCanAddParticipant':_0x2e1faa?.[_0x4e3c14(0x503)],'participants':_0x2e1faa?.[_0x4e3c14(0x4db)],'descOwner':_0x2e1faa?.[_0x4e3c14(0x57c)],'descId':_0x2e1faa?.[_0x4e3c14(0x698)],'memberAddMode':_0x2e1faa?.[_0x4e3c14(0x503)],'isCommunityAnnounce':_0x2e1faa?.[_0x4e3c14(0x111)],'ephemeralDuration':_0x2e1faa?.[_0x4e3c14(0x5b4)]||0x0,'author':_0x2e1faa?.[_0x4e3c14(0x19c)]}),this[_0x4e3c14(0x69a)](_0x21a408[_0x3cecbe]));}return _0x424537;}catch(_0x127442){let _0x3b5c0d=_0x4e3c14(0x30c),_0x31400c=_0x127442 instanceof Error?_0x127442[_0x4e3c14(0x3df)]:typeof _0x127442=='object'?JSON[_0x4e3c14(0x126)](_0x127442):_0x127442,_0x216427=_0x3b5c0d+':\x20'+_0x31400c;throw this['logger'][_0x4e3c14(0x57d)](this[_0x4e3c14(0x5a5)]+'\x20('+this[_0x4e3c14(0x144)][_0x4e3c14(0x6c3)]+_0x4e3c14(0x468)+_0x216427),new J(_0x216427);}}async[a0_0x187b1e(0x69a)](_0x24fca4){const _0x3bd348=a0_0x187b1e;let _0xe3f33a=await this[_0x3bd348(0x2ed)]['chat'][_0x3bd348(0x525)]({'where':{'_id':_0x24fca4['id']}},this[_0x3bd348(0x144)]['wuid']);_0x24fca4['subjectTime']=_0x24fca4?.[_0x3bd348(0x1b0)]&&_0x24fca4[_0x3bd348(0x1b0)][_0x3bd348(0x56e)]()[_0x3bd348(0x6ab)]<0xd?_0x24fca4?.[_0x3bd348(0x1b0)]*0x3e8:_0x24fca4?.[_0x3bd348(0x1b0)]||null,_0x24fca4['creation']=_0x24fca4?.[_0x3bd348(0x43a)]&&_0x24fca4['creation'][_0x3bd348(0x56e)]()[_0x3bd348(0x6ab)]<0xd?_0x24fca4?.['creation']*0x3e8:_0x24fca4?.[_0x3bd348(0x43a)]||null;let _0x48d11d=_0xe3f33a?.[_0x3bd348(0x1dc)]?.['awaitingApproval']||[],_0x10aa20=_0xe3f33a?.[_0x3bd348(0x1dc)]?.[_0x3bd348(0x85)],_0x4ae776=_0x24fca4['participants'][_0x3bd348(0x687)](_0x394000=>{const _0x10ed78=_0x3bd348;let _0x43ea7f=_0xe3f33a?.[_0x10ed78(0x1dc)]?.['participants']['find'](_0x3838c0=>_0x3838c0['id']===_0x394000['id']);return{..._0x394000,'isAdmin':[_0x10ed78(0x263),_0x10ed78(0x2bd)][_0x10ed78(0x7e)](_0x394000['admin']),'admin':_0x394000[_0x10ed78(0x263)],'name':_0x43ea7f?.[_0x10ed78(0x19a)]||_0x394000[_0x10ed78(0x19a)],'imgUrl':_0x43ea7f?.[_0x10ed78(0x41e)]||_0x394000[_0x10ed78(0x41e)]};}),_0x4d66c8=_0x4ae776[_0x3bd348(0x559)](_0x2f3eb3=>_0x2f3eb3['id']===this[_0x3bd348(0x144)]['wuid']+_0x3bd348(0x40a)&&_0x2f3eb3[_0x3bd348(0x49e)]),_0x1ebf03=(!_0x24fca4[_0x3bd348(0x49a)]||_0x4d66c8)&&(!_0x24fca4[_0x3bd348(0x9e)]||_0x24fca4[_0x3bd348(0x9e)]&&_0x24fca4[_0x3bd348(0x111)]&&_0x4d66c8),_0xb001d9={..._0x24fca4,'participants':_0x4ae776,'awaitingApproval':_0x48d11d,'lastFetchAwaitingApproval':_0x10aa20,'isAdmin':_0x4d66c8,'canSendMessage':_0x1ebf03,'lastUpdate':Date[_0x3bd348(0x34b)]()};await this[_0x3bd348(0x2ed)]['chat']['updateOne']({'where':{'_id':_0x24fca4['id']}},{'name':_0x24fca4[_0x3bd348(0x760)],'group':!0x0,'groupdata':_0xb001d9,'lastcache':Date[_0x3bd348(0x34b)]()},this[_0x3bd348(0x144)][_0x3bd348(0x6c3)]),U(this[_0x3bd348(0x5a5)],_0x3bd348(0x196),{'chat':_0x24fca4});}async['updateGroupWebhook'](_0x2bc0ea){const _0x3fa079=a0_0x187b1e;let _0x2f163c=await this[_0x3fa079(0x2ed)][_0x3fa079(0x30d)][_0x3fa079(0x525)]({'where':{'_id':_0x2bc0ea['id']}},this['instance'][_0x3fa079(0x6c3)]);_0x2bc0ea[_0x3fa079(0x1b0)]=_0x2bc0ea?.[_0x3fa079(0x1b0)]&&_0x2bc0ea[_0x3fa079(0x1b0)][_0x3fa079(0x56e)]()[_0x3fa079(0x6ab)]<0xd?_0x2bc0ea?.[_0x3fa079(0x1b0)]*0x3e8:_0x2bc0ea?.[_0x3fa079(0x1b0)]||null,_0x2bc0ea[_0x3fa079(0x43a)]=_0x2bc0ea?.[_0x3fa079(0x43a)]&&_0x2bc0ea[_0x3fa079(0x43a)][_0x3fa079(0x56e)]()[_0x3fa079(0x6ab)]<0xd?_0x2bc0ea?.[_0x3fa079(0x43a)]*0x3e8:_0x2bc0ea?.[_0x3fa079(0x43a)]||null,_0x2bc0ea[_0x3fa079(0x463)]&&(_0x2bc0ea[_0x3fa079(0x463)]=_0x3fa079(0x5df)+_0x2bc0ea[_0x3fa079(0x463)]);let _0x3c086b=_0x2f163c?.[_0x3fa079(0x1dc)]?{..._0x2f163c['groupdata']}:{};Object[_0x3fa079(0xcf)](_0x2bc0ea)[_0x3fa079(0x4d6)](_0x175d94=>{_0x175d94!=='id'&&(_0x3c086b[_0x175d94]=_0x2bc0ea[_0x175d94]);});let _0x5e0cd4=_0x3c086b[_0x3fa079(0x4db)]?.[_0x3fa079(0x559)](_0x3421c6=>_0x3421c6['id']===this[_0x3fa079(0x144)][_0x3fa079(0x6c3)]+'@s.whatsapp.net'&&_0x3421c6[_0x3fa079(0x49e)])||!0x1;_0x3c086b['isAdmin']=_0x5e0cd4;let _0x4c9913=(!_0x3c086b['announce']||_0x5e0cd4)&&(!_0x3c086b['isCommunity']||_0x3c086b[_0x3fa079(0x9e)]&&_0x3c086b[_0x3fa079(0x111)]&&_0x5e0cd4);_0x3c086b['canSendMessage']=_0x4c9913;let _0x2eda95={'group':!0x0,'groupdata':_0x3c086b};_0x2bc0ea[_0x3fa079(0x760)]&&(_0x2eda95[_0x3fa079(0x19a)]=_0x2bc0ea[_0x3fa079(0x760)]),await this['repository'][_0x3fa079(0x30d)][_0x3fa079(0x190)]({'where':{'_id':_0x2bc0ea['id']}},_0x2eda95,this[_0x3fa079(0x144)]['wuid'],{'upsert':!0x0}),U(this['instanceName'],'chats',{'chat':_0x2eda95});}async[a0_0x187b1e(0x6b5)](_0x4cc101){const _0xaa1c09=a0_0x187b1e;let _0xcdaa1b=await this['repository'][_0xaa1c09(0x30d)][_0xaa1c09(0x525)]({'where':{'_id':_0x4cc101['id']}},this[_0xaa1c09(0x144)]['wuid']);if(!_0xcdaa1b||!_0xcdaa1b[_0xaa1c09(0x1dc)]){this[_0xaa1c09(0x4c0)]['info'](this[_0xaa1c09(0x5a5)]+'\x20('+this['instance'][_0xaa1c09(0x6c3)]+_0xaa1c09(0x184)+_0x4cc101['id']);return;}let _0x2ff9e4=await this[_0xaa1c09(0x2ed)][_0xaa1c09(0xfa)][_0xaa1c09(0x1af)](_0x4cc101['participants']),_0x3a6afc=[..._0xcdaa1b['groupdata']?.[_0xaa1c09(0x4db)]];switch(_0x4cc101[_0xaa1c09(0xcb)]){case _0xaa1c09(0x494):let _0x28643b=_0x2ff9e4[_0xaa1c09(0x687)](_0x44e3a4=>({'id':_0x44e3a4['_id'],'isAdmin':!0x1,'name':_0x44e3a4[_0xaa1c09(0x19a)],'imgUrl':_0x44e3a4['pictureUrl']}));_0x3a6afc=[..._0x3a6afc,..._0x28643b];break;case _0xaa1c09(0x409):_0x3a6afc=_0x3a6afc['filter'](_0x28e0af=>!_0x4cc101['participants'][_0xaa1c09(0x7e)](_0x28e0af['id']));break;case _0xaa1c09(0x29f):case'demote':_0x3a6afc=_0x3a6afc['map'](_0x2411f2=>_0x4cc101[_0xaa1c09(0x4db)][_0xaa1c09(0x7e)](_0x2411f2['id'])?{..._0x2411f2,'isAdmin':_0x4cc101['action']===_0xaa1c09(0x29f)}:_0x2411f2);break;}let _0x4fcf39=_0x3a6afc['length'],_0x75640=_0x3a6afc[_0xaa1c09(0x559)](_0x5902d3=>_0x5902d3['id']===this[_0xaa1c09(0x144)][_0xaa1c09(0x6c3)]+'@s.whatsapp.net'),_0x92bdd=_0x75640&&_0x3a6afc[_0xaa1c09(0x559)](_0x29ba84=>_0x29ba84['id']===this[_0xaa1c09(0x144)][_0xaa1c09(0x6c3)]+_0xaa1c09(0x40a)&&_0x29ba84[_0xaa1c09(0x49e)]),_0x3c5f60=_0x75640&&(!_0xcdaa1b[_0xaa1c09(0x1dc)][_0xaa1c09(0x49a)]||_0x92bdd)&&(!_0xcdaa1b['groupdata'][_0xaa1c09(0x9e)]||_0xcdaa1b[_0xaa1c09(0x1dc)][_0xaa1c09(0x9e)]&&_0x92bdd);await this[_0xaa1c09(0x2ed)]['chat']['updateOne']({'where':{'_id':_0x4cc101['id']}},{'groupdata':{..._0xcdaa1b[_0xaa1c09(0x1dc)],'participants':_0x3a6afc,'size':_0x4fcf39,'isAdmin':_0x92bdd,'canSendMessage':_0x3c5f60}},this[_0xaa1c09(0x144)][_0xaa1c09(0x6c3)]),this[_0xaa1c09(0x4c0)]['info'](this[_0xaa1c09(0x5a5)]+'\x20('+this[_0xaa1c09(0x144)]['wuid']+'):\x20Grupo\x20'+_0x4cc101['id']+_0xaa1c09(0x122)+_0x4cc101[_0xaa1c09(0xcb)]+',\x20Novo\x20tamanho:\x20'+_0x4fcf39+',\x20isAdmin:\x20'+_0x92bdd+',\x20canSendMessage:\x20'+_0x3c5f60);}async[a0_0x187b1e(0x463)](_0x1d5bd0,_0x42080a=!0x0){const _0x3d9747=a0_0x187b1e;try{let _0x22b830=await this['client'][_0x3d9747(0x701)](_0x1d5bd0[_0x3d9747(0x6ed)]),_0x2fd3c3={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x22b830};if(_0x42080a){let _0x36ab41=await this[_0x3d9747(0x2ed)][_0x3d9747(0x30d)][_0x3d9747(0x190)]({'where':{'_id':_0x1d5bd0[_0x3d9747(0x6ed)]}},_0x2fd3c3,this['instance']['wuid']);}return{'inviteUrl':_0x3d9747(0x5df)+_0x22b830,'inviteCode':_0x22b830};}catch(_0x14f391){let _0x2d63e5=_0x3d9747(0xf8),_0x2dc429=_0x14f391 instanceof Error?_0x14f391[_0x3d9747(0x3df)]:typeof _0x14f391=='object'?JSON[_0x3d9747(0x126)](_0x14f391):_0x14f391,_0xe3a4b7=_0x2d63e5+':\x20'+_0x2dc429;throw this[_0x3d9747(0x4c0)][_0x3d9747(0x57d)](this[_0x3d9747(0x5a5)]+'\x20('+this[_0x3d9747(0x144)][_0x3d9747(0x6c3)]+_0x3d9747(0x468)+_0xe3a4b7),new J(_0xe3a4b7);}}async[a0_0x187b1e(0x1e2)](_0x1d7ce6){const _0x1eb21b=a0_0x187b1e;try{let _0x286f74=await this['client']['groupRevokeInvite'](_0x1d7ce6[_0x1eb21b(0x6ed)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x286f74,'inviteCode':_0x286f74};}catch(_0x3bfb70){let _0x20738f=_0x1eb21b(0x17b),_0x1908bd=_0x3bfb70 instanceof Error?_0x3bfb70[_0x1eb21b(0x3df)]:typeof _0x3bfb70==_0x1eb21b(0x5ad)?JSON[_0x1eb21b(0x126)](_0x3bfb70):_0x3bfb70,_0x44417c=_0x20738f+':\x20'+_0x1908bd;throw this[_0x1eb21b(0x4c0)][_0x1eb21b(0x57d)](this[_0x1eb21b(0x5a5)]+'\x20('+this[_0x1eb21b(0x144)][_0x1eb21b(0x6c3)]+_0x1eb21b(0x468)+_0x44417c),new J(_0x44417c);}}async[a0_0x187b1e(0x3ce)](_0x5beabd){const _0x45ea7e=a0_0x187b1e;try{if((0x0,P[_0x45ea7e(0x330)])(_0x5beabd[_0x45ea7e(0x463)]))var _0x5618f3=_0x5beabd[_0x45ea7e(0x463)]['split']('/')[0x3];else var _0x5618f3=_0x5beabd['inviteCode'];let _0x432d3a=await this[_0x45ea7e(0x27d)][_0x45ea7e(0x513)](_0x5618f3);return this['logger']['verbose'](this[_0x45ea7e(0x5a5)]+'\x20('+this[_0x45ea7e(0x144)][_0x45ea7e(0x6c3)]+_0x45ea7e(0x468)+_0x432d3a),{'join':!0x0,'inviteCode':_0x5618f3,'groupJid':_0x432d3a};}catch(_0x286cc8){let _0x3cf919=_0x45ea7e(0x623),_0xaca93c=_0x286cc8 instanceof Error?_0x286cc8[_0x45ea7e(0x3df)]:typeof _0x286cc8==_0x45ea7e(0x5ad)?JSON[_0x45ea7e(0x126)](_0x286cc8):_0x286cc8,_0x38010a=_0x3cf919+':\x20'+_0xaca93c;throw this[_0x45ea7e(0x4c0)]['error'](this[_0x45ea7e(0x5a5)]+'\x20('+this[_0x45ea7e(0x144)][_0x45ea7e(0x6c3)]+'):\x20'+_0x38010a),new J(_0x38010a);}}async[a0_0x187b1e(0x2c8)](_0x216e01){const _0x1f942c=a0_0x187b1e;try{return{'participants':(await this['client']['groupMetadata'](_0x216e01[_0x1f942c(0x6ed)]))[_0x1f942c(0x4db)]};}catch(_0x3481f6){let _0x30ae53=_0x1f942c(0x26c),_0x1edee9=_0x3481f6 instanceof Error?_0x3481f6[_0x1f942c(0x3df)]:typeof _0x3481f6==_0x1f942c(0x5ad)?JSON[_0x1f942c(0x126)](_0x3481f6):_0x3481f6,_0x3e1b35=_0x30ae53+':\x20'+_0x1edee9;throw this[_0x1f942c(0x4c0)][_0x1f942c(0x57d)](this[_0x1f942c(0x5a5)]+'\x20('+this['instance']['wuid']+_0x1f942c(0x468)+_0x3e1b35),new J(_0x3e1b35);}}async[a0_0x187b1e(0x54b)](_0x4ca901){const _0x403a0b=a0_0x187b1e;try{return await this[_0x403a0b(0x27d)][_0x403a0b(0x7d)](_0x4ca901['groupJid']),{'groupJid':_0x4ca901[_0x403a0b(0x6ed)],'leave':!0x0};}catch(_0x298278){let _0x540a69=_0x403a0b(0x72c),_0x22db1f=_0x298278 instanceof Error?_0x298278[_0x403a0b(0x3df)]:typeof _0x298278=='object'?JSON[_0x403a0b(0x126)](_0x298278):_0x298278,_0x11e895=_0x540a69+':\x20'+_0x22db1f;throw this[_0x403a0b(0x4c0)][_0x403a0b(0x57d)](this[_0x403a0b(0x5a5)]+'\x20('+this[_0x403a0b(0x144)]['wuid']+_0x403a0b(0x468)+_0x11e895),new m(_0x11e895);}}async[a0_0x187b1e(0x6eb)](_0x2f1ef2){const _0x1627ab=a0_0x187b1e;return await this[_0x1627ab(0x45b)](_0x2f1ef2[_0x1627ab(0x4e6)],{'poll':{'name':_0x2f1ef2[_0x1627ab(0x6eb)]?.[_0x1627ab(0x19a)],'selectableCount':_0x2f1ef2[_0x1627ab(0x6eb)]['selectableCount'],'values':_0x2f1ef2['pollMessage']['values']}},_0x2f1ef2?.[_0x1627ab(0x340)]);}async[a0_0x187b1e(0x17f)](_0x4b796b){const _0x3282f7=a0_0x187b1e;return await this[_0x3282f7(0x45b)](_0x4b796b['number'],{'listMessage':{'title':_0x4b796b[_0x3282f7(0x17f)][_0x3282f7(0x5f2)],'description':_0x4b796b['listMessage']['description'],'buttonText':_0x4b796b[_0x3282f7(0x17f)]?.[_0x3282f7(0x734)],'footerText':_0x4b796b[_0x3282f7(0x17f)]?.[_0x3282f7(0x3d8)],'sections':_0x4b796b[_0x3282f7(0x17f)][_0x3282f7(0x445)],'listType':0x2}},_0x4b796b?.[_0x3282f7(0x340)]);}async[a0_0x187b1e(0x2ce)](_0x5bc571){const _0x57fdd7=a0_0x187b1e;let _0xc681ba;if(_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x5d3)]==='list'){let _0x14e301=_0x5bc571['menuMessage'][_0x57fdd7(0x54d)]['indexOf']('\x0a'),_0xf62ec3='',_0x169ab1='';_0x14e301!==-0x1?(_0xf62ec3=_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x54d)]['substring'](0x0,_0x14e301)[_0x57fdd7(0x689)](),_0x169ab1=_0x5bc571[_0x57fdd7(0x2ce)]['text'][_0x57fdd7(0x731)](_0x14e301+0x1)):_0x169ab1=_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x54d)];let _0x48ec9f=_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x148)]['filter'](_0x110709=>_0x110709['trim']()!==''),_0x24cee0=this['createSectionsFromValues'](_0x48ec9f);_0xc681ba={'listMessage':{'title':_0xf62ec3,'description':_0x169ab1,'buttonText':_0x5bc571['menuMessage']['buttonText']||'Selecione','footerText':_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x3d8)],'sections':_0x24cee0,'listType':0x2}};}else{if(_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x5d3)]==='poll'){let _0x12829b=_0x5bc571[_0x57fdd7(0x2ce)][_0x57fdd7(0x148)][_0x57fdd7(0x348)](_0x5f2d3c=>!(_0x5f2d3c[_0x57fdd7(0x375)]('[')&&_0x5f2d3c['endsWith'](']'))&&_0x5f2d3c[_0x57fdd7(0x689)]()!=='')[_0x57fdd7(0x687)](_0xca061c=>_0xca061c[_0x57fdd7(0x214)]('\x0a')[0x0]);_0xc681ba={'poll':{'name':_0x5bc571['menuMessage']['text'],'selectableCount':_0x5bc571['menuMessage']['selectableCount']||0x1,'values':_0x12829b}};}}return await this['sendMessageWithTyping'](_0x5bc571[_0x57fdd7(0x4e6)],_0xc681ba,_0x5bc571?.[_0x57fdd7(0x340)]);}[a0_0x187b1e(0x693)](_0x22211a){const _0x388606=a0_0x187b1e;let _0x3195bb=[],_0x449e5f={'rows':[]};return _0x22211a[_0x388606(0x4d6)](_0x2eae6b=>{const _0x4e7bfa=_0x388606;if(_0x2eae6b['startsWith']('[')&&_0x2eae6b['endsWith'](']'))_0x449e5f[_0x4e7bfa(0x125)][_0x4e7bfa(0x6ab)]>0x0&&_0x3195bb['push'](_0x449e5f),_0x449e5f={'title':_0x2eae6b[_0x4e7bfa(0x634)](0x1,-0x1),'rows':[]};else{let _0x132348=_0x2eae6b['split']('\x0a')[_0x4e7bfa(0x687)](_0x41ecb9=>_0x41ecb9[_0x4e7bfa(0x689)]()),_0x11cb3d=_0x132348[0x0],_0x3c2c7a=_0x132348[0x1]||null,_0x9e300c=_0x132348[0x2]||_0x11cb3d;_0x449e5f[_0x4e7bfa(0x125)][_0x4e7bfa(0x764)]({'title':_0x11cb3d,'description':_0x3c2c7a,'rowId':_0x9e300c});}}),_0x449e5f[_0x388606(0x125)][_0x388606(0x6ab)]>0x0&&_0x3195bb['push'](_0x449e5f),_0x3195bb;}async[a0_0x187b1e(0x28f)](_0x5213d5,_0x160e4d){const _0x4e40a8=a0_0x187b1e;if(await this['getMessage'](_0x5213d5,!0x0)){let _0x5266fb={'where':{'_id':_0x5213d5['id']}},_0x538b57={'status':[_0x160e4d['status']][0x0]};try{let _0x1bdaaa=await this['repository']['message']['update'](_0x5266fb,_0x538b57,this['instance'][_0x4e40a8(0x6c3)]);_0x1bdaaa&&U(this[_0x4e40a8(0x5a5)],_0x4e40a8(0x522),{'message':_0x1bdaaa});}catch{}}}[a0_0x187b1e(0x650)](_0x25a8a3){const _0x4a3325=a0_0x187b1e;let _0xda2164=[];return _0x25a8a3['forEach'](_0x2e98f5=>{const _0x5225b6=a0_0xf8f0;_0x2e98f5[_0x5225b6(0x5f2)]&&_0xda2164[_0x5225b6(0x764)]('['+_0x2e98f5[_0x5225b6(0x5f2)]+']'),_0x2e98f5[_0x5225b6(0x125)]['forEach'](_0x15e44a=>{const _0x54e348=_0x5225b6;_0xda2164[_0x54e348(0x764)](_0x15e44a[_0x54e348(0x5f2)]);});}),_0xda2164[_0x4a3325(0x119)]('|');}[a0_0x187b1e(0x5bf)](_0x2e1a96){const _0x482713=a0_0x187b1e;let _0x4e088c=_0x2e1a96[_0x482713(0x2f2)](/\\n/g,'\x0a')[_0x482713(0x214)]('\x0a')[_0x482713(0x348)](_0x22d04d=>_0x22d04d[_0x482713(0x7e)](_0x482713(0x63d))||_0x22d04d[_0x482713(0x7e)]('EMAIL')),_0x3c6afc='';return _0x4e088c['forEach'](_0x5e0f6d=>{const _0x2d3145=_0x482713;let _0x4718d9=/TEL(?:.*):(.+)/,_0x48d629=/EMAIL(?:.*):(.+)/,_0x57a5a9=_0x5e0f6d[_0x2d3145(0xb1)](_0x4718d9),_0x13ecc9=_0x5e0f6d['match'](_0x48d629);if(_0x57a5a9){let _0x292f85=_0x57a5a9[0x1][_0x2d3145(0x2f2)](/-| |\+|\(|\)/g,'')['trim']();_0x3c6afc+='Telefone:\x20'+_0x292f85+'\x0a';}else{if(_0x13ecc9){let _0x35ed64=_0x13ecc9[0x1][_0x2d3145(0x689)]();_0x3c6afc+='E-mail:\x20'+_0x35ed64+'\x0a';}}}),_0x3c6afc['trim']();}async[a0_0x187b1e(0x374)](_0x2f8222,_0x4cd5f3,_0x47d83f,_0x88ddea=null){const _0x50c67a=a0_0x187b1e;if(!_0x2f8222[_0x50c67a(0x6ad)])return;let _0x5e9959=_0x4cd5f3[_0x50c67a(0xfe)][_0x50c67a(0x580)][_0x50c67a(0x2f2)](/:\d{1,2}@/g,'@'),_0x6d2951=_0x4cd5f3[_0x50c67a(0xfe)][_0x50c67a(0x635)],_0x49c94c=_0x5e9959[_0x50c67a(0x43f)](_0x50c67a(0x2bc)),_0x95d740=_0x4cd5f3['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3d4f05=_0x4cd5f3[_0x50c67a(0x67c)]?.[_0x50c67a(0x54d)]||_0x4cd5f3['message_normalized']?.['caption']||_0x4cd5f3[_0x50c67a(0x67c)]?.[_0x50c67a(0x54c)]||_0x4cd5f3[_0x50c67a(0x67c)]?.[_0x50c67a(0x19a)],_0x4160ad={'_id':_0x4cd5f3[_0x50c67a(0xf5)],'remoteJid':_0x6d2951?this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]:_0x49c94c?_0x95d740:_0x5e9959,'pushName':_0x6d2951?this[_0x50c67a(0x144)][_0x50c67a(0x502)]||'Eu':_0x4cd5f3[_0x50c67a(0x168)],'text':_0x3d4f05,'type':_0x4cd5f3[_0x50c67a(0x25f)],'when':_0x4cd5f3[_0x50c67a(0x5f4)]||Date[_0x50c67a(0x34b)]()};_0x88ddea||(_0x88ddea=await this[_0x50c67a(0x2ed)][_0x50c67a(0x30d)][_0x50c67a(0x525)]({'where':{'_id':_0x5e9959}},this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]));let _0x14255f=_0x88ddea?_0x6d2951?_0x88ddea[_0x50c67a(0x13c)]:(_0x88ddea[_0x50c67a(0x13c)]||0x0)+0x1:_0x6d2951?0x0:0x1,_0x583427={'lastmsg':_0x4cd5f3['messageTimestamp']||Date[_0x50c67a(0x34b)](),'ephemeralExpiration':_0x4cd5f3[_0x50c67a(0x215)],'lastMessage':_0x4160ad,'unreadcount':_0x14255f,..._0x6d2951||_0x49c94c?{}:{'name':_0x4cd5f3[_0x50c67a(0x168)]},..._0x49c94c?{'group':_0x49c94c}:{},...!_0x6d2951&&!_0x49c94c&&_0x4cd5f3[_0x50c67a(0x1ed)]?{'imagechat':_0x4cd5f3['profilePictureUrl']}:{}};if(!_0x49c94c&&(!_0x88ddea?.[_0x50c67a(0x2ad)]||!_0x88ddea[_0x50c67a(0x2ad)][_0x50c67a(0x5b0)])&&_0x4cd5f3[_0x50c67a(0x168)]&&!_0x6d2951&&(_0x583427={..._0x583427,'leadInfo.nome':_0x4cd5f3[_0x50c67a(0x168)]}),_0x88ddea?.[_0x50c67a(0x2ad)]['etiquetas']||(_0x583427={..._0x583427,'leadInfo.etiquetas':[]}),_0x88ddea?.[_0x50c67a(0x2ad)][_0x50c67a(0x115)]||(_0x583427={..._0x583427,'leadInfo.customFields':[]}),_0x88ddea?.[_0x50c67a(0x2ad)][_0x50c67a(0x233)]||(_0x583427={..._0x583427,'leadInfo.tags':[]}),_0x88ddea&&_0x88ddea?.['imported']){let _0x45e75b=await this[_0x50c67a(0x2ed)][_0x50c67a(0x3ca)][_0x50c67a(0x528)]({'where':{}},this[_0x50c67a(0x144)]['wuid']),_0x1f7f95=new Set(_0x45e75b[_0x50c67a(0x687)](_0x369e63=>_0x369e63['_id'])),_0x2ee753=(_0x88ddea[_0x50c67a(0x2ad)]?.[_0x50c67a(0x596)]||[])[_0x50c67a(0x348)](_0x42967c=>_0x1f7f95[_0x50c67a(0x69f)](_0x42967c));_0x583427={..._0x583427,'imported':!0x1,'leadInfo.etiquetas':_0x2ee753};for(let _0x355755 of _0x2ee753)await this['AddChatLabel'](_0x355755,_0x5e9959);}if(_0x47d83f===_0x50c67a(0x69b)&&_0x6d2951&&this[_0x50c67a(0x599)]?.['flowConfig'][_0x50c67a(0x5bc)]&&!_0x3d4f05['startsWith'](this[_0x50c67a(0x599)]?.[_0x50c67a(0x15c)][_0x50c67a(0x549)])){let _0xac4302=(this[_0x50c67a(0x599)]?.['flowConfig'][_0x50c67a(0x2cc)]||0x5)*0xea60,_0x4865f2=Date[_0x50c67a(0x34b)]()+_0xac4302;_0x88ddea?.[_0x50c67a(0x2ad)]?.[_0x50c67a(0x279)]===0x0||(_0x583427={..._0x583427,'leadInfo.desativadoFluxoAte':_0x4865f2},this[_0x50c67a(0x4c0)][_0x50c67a(0x4e0)](this['instanceName']+'\x20('+this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]+_0x50c67a(0x32a)+_0x4865f2+'.'));}if(_0x88ddea=await this['repository'][_0x50c67a(0x30d)][_0x50c67a(0x190)]({'where':{'_id':_0x5e9959}},_0x583427,this[_0x50c67a(0x144)][_0x50c67a(0x6c3)],{'new':!0x0,'upsert':!0x0}),_0x88ddea)U(this[_0x50c67a(0x5a5)],_0x50c67a(0x196),{'chat':_0x88ddea});else{this[_0x50c67a(0x4c0)][_0x50c67a(0x57d)](this[_0x50c67a(0x5a5)]+'\x20('+this[_0x50c67a(0x144)]['wuid']+_0x50c67a(0x5f0));return;}if(!this['AutomateSystem']?.[_0x50c67a(0x15c)][_0x50c67a(0x5bc)])return this[_0x50c67a(0x4c0)][_0x50c67a(0x4e0)](this['instanceName']+'\x20('+this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]+_0x50c67a(0x737)),null;if(_0x88ddea['_id'][_0x50c67a(0x7e)](_0x50c67a(0x2bc))&&this[_0x50c67a(0x599)]?.[_0x50c67a(0x15c)][_0x50c67a(0x1a1)]===!0x0)return this[_0x50c67a(0x4c0)][_0x50c67a(0x4e0)](this[_0x50c67a(0x5a5)]+'\x20('+this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]+_0x50c67a(0x2cb)),null;if(_0x88ddea[_0x50c67a(0x2ad)]){if(_0x88ddea['leadInfo'][_0x50c67a(0x279)]===0x0||_0x88ddea[_0x50c67a(0x2ad)][_0x50c67a(0x662)])return this[_0x50c67a(0x4c0)][_0x50c67a(0x4e0)](this[_0x50c67a(0x5a5)]+'\x20('+this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]+_0x50c67a(0x117)+_0x5e9959+_0x50c67a(0x5e7)),null;if(_0x88ddea[_0x50c67a(0x2ad)][_0x50c67a(0x279)]>Date[_0x50c67a(0x34b)]()&&!_0x4cd5f3[_0x50c67a(0x67c)]?.[_0x50c67a(0x54c)])return this[_0x50c67a(0x4c0)]['verbose'](this[_0x50c67a(0x5a5)]+'\x20('+this[_0x50c67a(0x144)][_0x50c67a(0x6c3)]+'):\x20Est\x20configurado\x20para\x20parar\x20at\x20'+new Date(_0x88ddea[_0x50c67a(0x2ad)][_0x50c67a(0x279)])[_0x50c67a(0x652)]()+_0x50c67a(0x5e7)),null;}this[_0x50c67a(0x4c0)][_0x50c67a(0x4e0)](this['instanceName']+'\x20('+this[_0x50c67a(0x144)]['wuid']+_0x50c67a(0x118)),this[_0x50c67a(0x285)](_0x47d83f,_0x4cd5f3);}async[a0_0x187b1e(0x692)](_0xee52da,_0x5c4c78){const _0x1360da=a0_0x187b1e;if(_0x5c4c78[_0x1360da(0x6ad)]){let _0x58978b=_0xee52da[_0x1360da(0x687)](async _0x41a00d=>{const _0x285132=_0x1360da;try{let _0x119f2f={'_id':_0x41a00d['_id'],'owner':_0x41a00d['owner'],'lastcache':0x0};if(Object[_0x285132(0xcf)](_0x41a00d)['forEach'](_0x3051d3=>{_0x41a00d[_0x3051d3]!==null&&(_0x119f2f[_0x3051d3]=_0x41a00d[_0x3051d3]);}),_0x119f2f[_0x285132(0xd7)]===null&&(_0x119f2f[_0x285132(0xd7)]='Imagem\x20no\x20encontrada'),Object['keys'](_0x119f2f)['length']>0x0)return await this[_0x285132(0x2ed)][_0x285132(0x30d)]['updateOne']({'where':{'_id':_0x41a00d['_id']}},_0x119f2f,this[_0x285132(0x144)][_0x285132(0x6c3)]);}catch(_0x55a93c){let _0x544c7d=_0x285132(0x226)+_0x41a00d[_0x285132(0xf5)],_0x4f4a4f=_0x55a93c instanceof Error?_0x55a93c['message']:typeof _0x55a93c==_0x285132(0x5ad)?JSON['stringify'](_0x55a93c):_0x55a93c,_0x475cf5=_0x544c7d+':\x20'+_0x4f4a4f;return this['logger'][_0x285132(0x57d)](this[_0x285132(0x5a5)]+'\x20('+this[_0x285132(0x144)]['wuid']+_0x285132(0x468)+_0x475cf5),null;}}),_0x518d82=(await Promise[_0x1360da(0x372)](_0x58978b))[_0x1360da(0x348)](_0x12840e=>_0x12840e!==null)[_0x1360da(0x6ab)];this['logger']['verbose'](this[_0x1360da(0x5a5)]+'\x20('+this['instance']['wuid']+_0x1360da(0x468)+_0x518d82+_0x1360da(0x5c1)+this[_0x1360da(0x144)][_0x1360da(0x6c3)]+_0x1360da(0x3b7));}}async[a0_0x187b1e(0x658)](_0x6cf6c5){const _0x46402b=a0_0x187b1e;this[_0x46402b(0x4c0)]['verbose'](this[_0x46402b(0x5a5)]+'\x20('+this[_0x46402b(0x144)][_0x46402b(0x6c3)]+_0x46402b(0x5a1));let _0xe6c3e={'readMessages':[{'remoteJid':_0x6cf6c5['chatLog']['lastReceivedMessage'][_0x46402b(0xfe)][_0x46402b(0x580)],'fromMe':_0x6cf6c5['chatLog'][_0x46402b(0x295)][_0x46402b(0xfe)][_0x46402b(0x635)],'id':_0x6cf6c5[_0x46402b(0x595)][_0x46402b(0x295)][_0x46402b(0xfe)]['id']}]};await this[_0x46402b(0x255)](_0xe6c3e);}async[a0_0x187b1e(0x285)](_0x38d34a,_0x3ec1d3){const _0x1de727=a0_0x187b1e;try{let {key:_0x58139f,message_normalized:_0x4511b0}=_0x3ec1d3,_0x4cdd43=_0x4511b0,_0x21ab43=_0x4511b0[_0x1de727(0x54d)]||_0x4511b0[_0x1de727(0x177)]||_0x4511b0[_0x1de727(0x54c)]||_0x4511b0[_0x1de727(0x19a)],_0x44015c=_0x58139f[_0x1de727(0x580)],_0x1002dc;if(_0x4cdd43[_0x1de727(0xfe)]['fromMe']&&_0x21ab43[_0x1de727(0x689)]()!==this[_0x1de727(0x599)]?.['flowConfig'][_0x1de727(0x59c)][_0x1de727(0x689)]())return this[_0x1de727(0x4c0)][_0x1de727(0x4e0)](this[_0x1de727(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.'),null;if(_0x4cdd43[_0x1de727(0xfe)]['fromMe']&&_0x21ab43[_0x1de727(0x689)]()===this[_0x1de727(0x599)]?.[_0x1de727(0x15c)][_0x1de727(0x59c)][_0x1de727(0x689)]()){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x5d15bd=await this[_0x1de727(0x2ed)][_0x1de727(0x2a2)][_0x1de727(0x528)]({'remoteJid':_0x44015c,'status':_0x1de727(0xa5)},this[_0x1de727(0x144)][_0x1de727(0x6c3)]);this[_0x1de727(0x4c0)][_0x1de727(0x4e0)](this[_0x1de727(0x5a5)]+'\x20('+this[_0x1de727(0x144)][_0x1de727(0x6c3)]+_0x1de727(0x2de)+_0x5d15bd);let _0x1ab636=Date['now'](),_0x5970ae;return this['AutomateSystem']?.[_0x1de727(0x15c)][_0x1de727(0x3b0)]===0x0?_0x5970ae={'stoppedUntil':_0x1ab636+0x7591f6200}:_0x5970ae={'stoppedUntil':_0x1ab636+this['AutomateSystem']?.[_0x1de727(0x15c)][_0x1de727(0x3b0)]*0x3c*0x3e8},this[_0x1de727(0x4c0)][_0x1de727(0x4e0)](this[_0x1de727(0x5a5)]+'\x20('+this[_0x1de727(0x144)][_0x1de727(0x6c3)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x5970ae),this[_0x1de727(0x1aa)](_0x1002dc,_0x5970ae['stoppedUntil']),null;}if(_0x21ab43&&_0x21ab43['startsWith'](this[_0x1de727(0x599)]?.['flowConfig'][_0x1de727(0x549)])&&_0x21ab43[_0x1de727(0x6ab)]>0x4){let _0x2c3be7=await this[_0x1de727(0x2ed)][_0x1de727(0x70a)][_0x1de727(0x525)]({'where':{'startCommandWord':_0x21ab43}},this[_0x1de727(0x144)][_0x1de727(0x6c3)]);if(this[_0x1de727(0x4c0)][_0x1de727(0x4e0)](this[_0x1de727(0x5a5)]+'\x20('+this[_0x1de727(0x144)]['wuid']+_0x1de727(0x3cd)),_0x2c3be7)_0x1002dc=await this[_0x1de727(0x389)](_0x2c3be7,_0x4cdd43[_0x1de727(0xfe)],_0x4cdd43);else return this['logger'][_0x1de727(0x4e0)](this['instanceName']+'\x20('+this[_0x1de727(0x144)][_0x1de727(0x6c3)]+'):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x1002dc=await this[_0x1de727(0x1c5)](_0x44015c,_0x4cdd43);if(_0x1002dc){this['logger'][_0x1de727(0x4e0)](this[_0x1de727(0x5a5)]+'\x20('+this[_0x1de727(0x144)]['wuid']+_0x1de727(0x428)),!_0x58139f['fromMe']&&_0x1002dc[_0x1de727(0x557)]&&this['readMessageBot'](_0x1002dc);let _0x14232d=await this[_0x1de727(0x4a2)](_0x1002dc);_0x14232d&&await this['processblock'](_0x1002dc,_0x14232d);}}catch(_0x354889){this[_0x1de727(0x4c0)][_0x1de727(0x57d)](this[_0x1de727(0x5a5)]+'\x20('+this[_0x1de727(0x144)]['wuid']+_0x1de727(0x51a)+(_0x354889 instanceof Error?_0x354889[_0x1de727(0x3df)]:JSON['stringify'](_0x354889,null,0x2)));}}[a0_0x187b1e(0x22e)](_0x5a519a,_0x4b3be8='',_0x3588ad={}){const _0x333554=a0_0x187b1e;return typeof _0x5a519a!=_0x333554(0x5ad)||_0x5a519a===null?(_0x4b3be8&&(_0x3588ad[_0x4b3be8]=_0x5a519a),_0x3588ad):(Object[_0x333554(0x466)](_0x5a519a)[_0x333554(0x4d6)](([_0x370db1,_0x183650])=>{const _0x28fdfa=_0x333554;let _0x2abea1=_0x4b3be8?_0x4b3be8+'.'+_0x370db1:'_'+_0x370db1;Array[_0x28fdfa(0x414)](_0x183650)?_0x183650[_0x28fdfa(0x4d6)]((_0x1d9088,_0x3f3e07)=>{const _0x398e2e=_0x28fdfa;this[_0x398e2e(0x22e)](_0x1d9088,_0x2abea1+'['+_0x3f3e07+']',_0x3588ad);}):typeof _0x183650==_0x28fdfa(0x5ad)&&_0x183650!==null?this[_0x28fdfa(0x22e)](_0x183650,_0x2abea1,_0x3588ad):_0x3588ad[_0x2abea1]=String(_0x183650);}),_0x3588ad);}[a0_0x187b1e(0x664)](_0x95b8df){const _0x307627=a0_0x187b1e;let _0x58ed47={};for(let _0x2679b0 of _0x95b8df)typeof _0x2679b0[_0x307627(0x19a)]=='string'&&typeof _0x2679b0[_0x307627(0x189)]==_0x307627(0x36c)&&(_0x58ed47[_0x2679b0['name']]=_0x2679b0[_0x307627(0x189)]);return _0x58ed47;}async['NextBlock'](_0x52531c){const _0x3c8452=a0_0x187b1e;if(!this['AutomateSystem']?.[_0x3c8452(0x15c)]['enabled']||_0x52531c[_0x3c8452(0x391)]!==_0x3c8452(0xa5)&&_0x52531c['waitingMenu_id']==='')return null;let _0x2ef638=_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x5d6)]||_0x3c8452(0x3dc);typeof _0x52531c[_0x3c8452(0x595)][_0x3c8452(0x73c)]>'u'&&(_0x52531c['chatLog'][_0x3c8452(0x73c)]=!0x0);let _0x571ab3=_0x52531c['chatLog'][_0x3c8452(0x73c)];this[_0x3c8452(0x4c0)]['verbose'](this[_0x3c8452(0x5a5)]+'\x20('+this[_0x3c8452(0x144)]['wuid']+'):\x20lastBlockId:\x20'+_0x2ef638+_0x3c8452(0x20e)+_0x571ab3);let _0x55e5fa=_0x2ef638===_0x3c8452(0x3dc)?_0x52531c[_0x3c8452(0x5d7)]['find'](_0x2c773a=>_0x2c773a[_0x3c8452(0x5d3)]===_0x3c8452(0x3dc)):_0x52531c[_0x3c8452(0x5d7)][_0x3c8452(0x528)](_0x2bf42f=>_0x2bf42f[_0x3c8452(0xf5)][_0x3c8452(0x56e)]()===_0x2ef638['toString']());if(!_0x55e5fa)return this[_0x3c8452(0x4c0)]['error'](this[_0x3c8452(0x5a5)]+'\x20('+this['instance']['wuid']+_0x3c8452(0x35a)+_0x2ef638),null;let _0x3e82ab={'_pushName':_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x295)][_0x3c8452(0x168)],..._0x52531c[_0x3c8452(0x595)]['realVariables']},_0x4a1824=null;if(_0x52531c['waitingMenu_id']){let _0x3f4edb=_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x295)][_0x3c8452(0x54c)],_0x457eef=_0x52531c[_0x3c8452(0x46b)][_0x3c8452(0x528)](_0x40ab44=>_0x40ab44[_0x3c8452(0x38b)]===_0x3f4edb);if(_0x457eef){let _0x305dec=_0x457eef['next_groupId'];if(_0x4a1824=_0x52531c[_0x3c8452(0x5d7)][_0x3c8452(0x528)](_0xdfdc84=>_0xdfdc84[_0x3c8452(0x27a)]===_0x305dec&&_0xdfdc84[_0x3c8452(0x736)]===0x1),_0x55e5fa[_0x3c8452(0x257)][_0x3c8452(0x1c8)]){let _0x307018={'id':_0x52531c[_0x3c8452(0x660)],'remoteJid':_0x52531c['remoteJid'],'fromMe':!0x0};await this[_0x3c8452(0x1cc)](_0x307018);}if(_0x55e5fa[_0x3c8452(0x257)][_0x3c8452(0x1c8)]&&_0x55e5fa[_0x3c8452(0x257)][_0x3c8452(0x4bb)]&&_0x55e5fa['uazapi'][_0x3c8452(0x6ba)]==='poll'){let _0x44e84b={'number':_0x52531c[_0x3c8452(0x580)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x52531c[_0x3c8452(0x632)]+_0x3c8452(0x727)+_0x3f4edb}};await this['textMessage'](_0x44e84b);}_0x52531c[_0x3c8452(0x391)]=_0x3c8452(0xa5),_0x52531c[_0x3c8452(0x660)]='',_0x52531c[_0x3c8452(0x632)]='',_0x52531c[_0x3c8452(0x46b)]=[];}else{this[_0x3c8452(0x4c0)][_0x3c8452(0x4e0)](this['instanceName']+'\x20('+this[_0x3c8452(0x144)][_0x3c8452(0x6c3)]+_0x3c8452(0xf1));let _0x3ad368={'activatedCount':_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x431)]['filter'](_0x4b91a9=>String(_0x4b91a9[_0x3c8452(0x63a)])===String(_0x2ef638))[_0x3c8452(0x6ab)],'moreLogs':[_0x3c8452(0x3e8)]};if(_0x55e5fa[_0x3c8452(0x257)][_0x3c8452(0x601)]){let _0x43ae91={'number':_0x52531c[_0x3c8452(0x580)],'options':{'delay':0x0},'textMessage':{'text':_0x55e5fa['uazapi'][_0x3c8452(0x601)]}};await this[_0x3c8452(0x60b)](_0x43ae91);}if(_0x55e5fa[_0x3c8452(0x14e)]!==void 0x0&&_0x3ad368[_0x3c8452(0x4f2)]>=_0x55e5fa[_0x3c8452(0x14e)]){let _0x560fcd=Date[_0x3c8452(0x34b)](),_0x4f04af=_0x55e5fa[_0x3c8452(0x208)]??0xa;isNaN(_0x4f04af)&&(_0x4f04af=0xa);let _0x1da501=_0x560fcd+_0x4f04af*0x3c*0x3e8;_0x3ad368[_0x3c8452(0x182)]=_0x1da501,_0x3ad368[_0x3c8452(0x6b0)][_0x3c8452(0x764)](_0x3c8452(0x686)),this[_0x3c8452(0x1aa)](_0x52531c,_0x1da501),_0x52531c[_0x3c8452(0x660)]='',_0x52531c[_0x3c8452(0x632)]='',_0x52531c['waitingMenu_replyOptions']=[];}return this[_0x3c8452(0x186)](_0x52531c,_0x55e5fa,_0x3ad368,!0x0),null;}}if(_0x571ab3&&_0x55e5fa[_0x3c8452(0x3ac)]&&!_0x52531c[_0x3c8452(0x660)]){let _0x4df64d=_0x52531c[_0x3c8452(0x5d7)][_0x3c8452(0x348)](_0x3ac3c9=>_0x3ac3c9['groupId']['toString']()===_0x55e5fa[_0x3c8452(0x3ac)][_0x3c8452(0x56e)]())[_0x3c8452(0x32e)]((_0x3bc9cc,_0x57c9a1)=>_0x3bc9cc[_0x3c8452(0x736)]-_0x57c9a1[_0x3c8452(0x736)]);_0x4df64d[_0x3c8452(0x6ab)]>0x0&&(_0x4a1824=_0x4df64d[0x0]);}if(!_0x4a1824){let _0x3aa870=_0x55e5fa[_0x3c8452(0x27a)],_0x120cca=_0x52531c[_0x3c8452(0x5d7)][_0x3c8452(0x348)](_0x7af17e=>_0x7af17e[_0x3c8452(0x27a)]===_0x3aa870&&_0x7af17e[_0x3c8452(0x736)]>_0x55e5fa[_0x3c8452(0x736)])[_0x3c8452(0x32e)]((_0x3c8225,_0x37c687)=>_0x3c8225[_0x3c8452(0x736)]-_0x37c687[_0x3c8452(0x736)]);_0x120cca[_0x3c8452(0x6ab)]>0x0&&(_0x4a1824=_0x120cca[0x0]);}if(!_0x4a1824)return _0x52531c['status']='closed',null;_0x52531c[_0x3c8452(0x595)]['realVariables']=_0x3e82ab;let _0x395878=JSON[_0x3c8452(0x329)](JSON[_0x3c8452(0x126)](_0x4a1824));return this[_0x3c8452(0x67a)](_0x395878,_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x5d5)]),_0x52531c['chatLog']['lastBlockId']=_0x395878['_id'],_0x52531c[_0x3c8452(0x595)][_0x3c8452(0x73c)]=!0x0,_0x395878;}[a0_0x187b1e(0x702)](_0x90d791,_0x139b2a){const _0x1d2bf2=a0_0x187b1e;return _0x90d791[_0x1d2bf2(0x2f2)](/\{\{([^}]+)\}\}/g,(_0x18d98b,_0x684f3d)=>_0x139b2a[_0x684f3d]||'');}[a0_0x187b1e(0x67a)](_0x3f2486,_0x37ab08){const _0x301908=a0_0x187b1e;for(let _0x215731 in _0x3f2486)typeof _0x3f2486[_0x215731]==_0x301908(0x36c)?_0x3f2486[_0x215731]=this[_0x301908(0x702)](_0x3f2486[_0x215731],_0x37ab08):typeof _0x3f2486[_0x215731]==_0x301908(0x5ad)&&this[_0x301908(0x67a)](_0x3f2486[_0x215731],_0x37ab08);}async['goNextblock'](_0x5f20e1,_0x48c832){const _0x1ccc9c=a0_0x187b1e;let _0x157c30=_0x48c832[_0x1ccc9c(0xf5)];if(_0x5f20e1['chatLog']&&_0x5f20e1[_0x1ccc9c(0x595)][_0x1ccc9c(0x431)]){let _0x4d2754=_0x5f20e1[_0x1ccc9c(0x595)]['blockLogs'][_0x1ccc9c(0x348)](_0x2a3746=>String(_0x2a3746[_0x1ccc9c(0x63a)])===String(_0x157c30))[_0x1ccc9c(0x319)]();if(_0x4d2754&&_0x4d2754[_0x1ccc9c(0x57d)]&&_0x48c832[_0x1ccc9c(0x514)])return _0x5f20e1[_0x1ccc9c(0x391)]=_0x1ccc9c(0x2f1),await this[_0x1ccc9c(0x562)](_0x5f20e1),null;}if(_0x48c832['type']===_0x1ccc9c(0x257)&&_0x48c832[_0x1ccc9c(0x257)][_0x1ccc9c(0x114)]===_0x1ccc9c(0x3ad)&&_0x5f20e1['waitingMenu_id'])return _0x5f20e1[_0x1ccc9c(0x595)][_0x1ccc9c(0x5d6)]=_0x157c30,await this[_0x1ccc9c(0x562)](_0x5f20e1),null;let _0x2efa87=await this[_0x1ccc9c(0x4a2)](_0x5f20e1);if(_0x5f20e1['chatLog']&&_0x5f20e1[_0x1ccc9c(0x595)]['blockLogs']){let _0x3d1f1a=_0x5f20e1[_0x1ccc9c(0x595)][_0x1ccc9c(0x431)][_0x1ccc9c(0x348)](_0x25229b=>String(_0x25229b['blockId'])===String(_0x157c30))[_0x1ccc9c(0x6ab)];if(_0x48c832[_0x1ccc9c(0x14e)]!==void 0x0&&_0x3d1f1a>=_0x48c832[_0x1ccc9c(0x14e)]){let _0x411b48=Date[_0x1ccc9c(0x34b)](),_0x2a8d68=_0x48c832[_0x1ccc9c(0x208)]??0xa;isNaN(_0x2a8d68)&&(_0x2a8d68=0xa);let _0x150024=_0x411b48+_0x2a8d68*0x3c*0x3e8,_0x2f08f7={'newStoppedUntil':_0x150024};return this[_0x1ccc9c(0x1aa)](_0x5f20e1,_0x150024),this[_0x1ccc9c(0x186)](_0x5f20e1,_0x48c832,_0x2f08f7,!0x0),null;}}_0x2efa87&&_0x2efa87['type']!==_0x1ccc9c(0x2d4)&&await this['processblock'](_0x5f20e1,_0x2efa87),_0x2efa87||await this[_0x1ccc9c(0x562)](_0x5f20e1),_0x2efa87&&_0x2efa87[_0x1ccc9c(0x5d3)]===_0x1ccc9c(0x2d4)&&(_0x5f20e1[_0x1ccc9c(0x595)][_0x1ccc9c(0x5d6)]=_0x157c30,await this['saveConversationToDatabase'](_0x5f20e1));}async[a0_0x187b1e(0x64a)](_0x4bed06,_0x159855){const _0x4d6e90=a0_0x187b1e;try{let _0xbf0f7a=_0x159855[_0x4d6e90(0x5d3)];this[_0x4d6e90(0x4c0)]['verbose'](this[_0x4d6e90(0x5a5)]+'\x20('+this[_0x4d6e90(0x144)][_0x4d6e90(0x6c3)]+'):\x20Going\x20to\x20'+_0xbf0f7a);let _0x1b32cf={'uazapi':()=>this[_0x4d6e90(0x380)](_0x4bed06,_0x159855),'save':()=>this[_0x4d6e90(0x16d)](_0x4bed06,_0x159855),'stop':()=>this['stopConversation'](_0x4bed06,_0x159855),'condition':()=>this['processConditions'](_0x4bed06,_0x159855),'varedit':()=>this[_0x4d6e90(0xb2)](_0x4bed06,_0x159855),'apirequest':()=>this['processApiRequest'](_0x4bed06,_0x159855),'goToFlow':()=>this['processgoToFlow'](_0x4bed06,_0x159855),'awaitSeconds':()=>this['processawaitSeconds'](_0x4bed06,_0x159855),'clearVariables':()=>this[_0x4d6e90(0x13f)](_0x4bed06,_0x159855)}[_0xbf0f7a];_0x1b32cf&&await _0x1b32cf();}catch(_0xc0df28){this[_0x4d6e90(0x4c0)][_0x4d6e90(0x57d)](this[_0x4d6e90(0x5a5)]+'\x20('+this[_0x4d6e90(0x144)][_0x4d6e90(0x6c3)]+_0x4d6e90(0x404)+(_0xc0df28 instanceof Error?_0xc0df28[_0x4d6e90(0x3df)]:JSON[_0x4d6e90(0x126)](_0xc0df28,null,0x2)));}}async['processawaitSeconds'](_0x1e38d4,_0x471bcf){const _0x209d6a=a0_0x187b1e;if(this[_0x209d6a(0x4c0)][_0x209d6a(0x4e0)](this[_0x209d6a(0x5a5)]+'\x20('+this[_0x209d6a(0x144)][_0x209d6a(0x6c3)]+_0x209d6a(0x544)),!_0x1e38d4||!_0x471bcf)return this['logger'][_0x209d6a(0x57d)](this[_0x209d6a(0x5a5)]+'\x20('+this[_0x209d6a(0x144)]['wuid']+_0x209d6a(0x579)),null;let _0x461da3=+_0x471bcf[_0x209d6a(0x332)];isNaN(_0x461da3)&&(_0x461da3=0x0),_0x461da3=Math[_0x209d6a(0x2c2)](_0x461da3,0x3c),await(0x0,f[_0x209d6a(0x185)])(_0x461da3*0x3e8);let _0x45b48c={'moreLogs':[_0x209d6a(0x5c8)+_0x461da3+_0x209d6a(0x11a)]};return await this[_0x209d6a(0x186)](_0x1e38d4,_0x471bcf,_0x45b48c),_0x461da3;}async[a0_0x187b1e(0x13f)](_0x134764,_0x128453){const _0x321e9b=a0_0x187b1e;if(this[_0x321e9b(0x4c0)][_0x321e9b(0x4e0)](this[_0x321e9b(0x5a5)]+'\x20('+this['instance']['wuid']+_0x321e9b(0x5ca)),!_0x134764||!_0x128453)return this['logger']['error'](this[_0x321e9b(0x5a5)]+'\x20('+this[_0x321e9b(0x144)][_0x321e9b(0x6c3)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x5ac2a5=[];if(_0x128453['clearVariables'][_0x321e9b(0x689)]()===_0x321e9b(0x6a4)){let _0x350598=[_0x321e9b(0x152),'_error',_0x321e9b(0x3e6),'_remoteJid',_0x321e9b(0xf5),_0x321e9b(0x6b7)];_0x5ac2a5=Object[_0x321e9b(0xcf)](_0x134764[_0x321e9b(0x595)][_0x321e9b(0x5d5)])[_0x321e9b(0x348)](_0x527ec0=>_0x527ec0[_0x321e9b(0x375)]('_')&&!_0x350598[_0x321e9b(0x7e)](_0x527ec0));}else _0x5ac2a5=_0x128453['clearVariables']['split']('|')['map'](_0x573387=>(_0x573387=_0x573387[_0x321e9b(0x2f2)](/[{}]/g,'')[_0x321e9b(0x689)](),_0x573387[_0x321e9b(0x375)]('_')?_0x573387:'_'+_0x573387));let _0x419001=[];_0x5ac2a5['forEach'](_0x13526b=>{const _0x10bde5=_0x321e9b;_0x13526b in _0x134764['chatLog'][_0x10bde5(0x5d5)]&&(delete _0x134764['chatLog']['realVariables'][_0x13526b],_0x419001[_0x10bde5(0x764)](_0x13526b));}),_0x419001[_0x321e9b(0x6ab)]>0x0?this[_0x321e9b(0x4c0)][_0x321e9b(0x4e0)](this[_0x321e9b(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20'+_0x419001['join'](',\x20')):this[_0x321e9b(0x4c0)][_0x321e9b(0x4e0)](this[_0x321e9b(0x5a5)]+'\x20('+this['instance'][_0x321e9b(0x6c3)]+_0x321e9b(0x39b));let _0x2ad107={'moreLogs':[_0x321e9b(0x130)+_0x419001[_0x321e9b(0x119)](',\x20')]};return await this[_0x321e9b(0x186)](_0x134764,_0x128453,_0x2ad107),null;}async['processgoToFlow'](_0xe989b,_0x2deb62){const _0x1deb80=a0_0x187b1e;if(this[_0x1deb80(0x4c0)][_0x1deb80(0x4e0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1deb80(0x636)),!_0xe989b||!_0x2deb62)return this[_0x1deb80(0x4c0)][_0x1deb80(0x57d)](this[_0x1deb80(0x5a5)]+'\x20('+this[_0x1deb80(0x144)][_0x1deb80(0x6c3)]+_0x1deb80(0x579)),null;await this[_0x1deb80(0x186)](_0xe989b,_0x2deb62,{},!0x0,!0x0);let _0x352390=_0x2deb62[_0x1deb80(0x5c6)];_0xe989b=await this[_0x1deb80(0xc9)](_0x352390,_0xe989b[_0x1deb80(0x580)],_0xe989b[_0x1deb80(0x595)]['realVariables']),this[_0x1deb80(0x4c0)][_0x1deb80(0x4e0)](this[_0x1deb80(0x5a5)]+'\x20('+this[_0x1deb80(0x144)][_0x1deb80(0x6c3)]+_0x1deb80(0x5e5));let _0x48b7ec=await this[_0x1deb80(0x4a2)](_0xe989b);_0x48b7ec&&await this[_0x1deb80(0x64a)](_0xe989b,_0x48b7ec);}async[a0_0x187b1e(0xc9)](_0x501dde,_0x547637,_0x3b7a40){const _0x441394=a0_0x187b1e;this['logger'][_0x441394(0x4e0)](this[_0x441394(0x5a5)]+'\x20('+this[_0x441394(0x144)]['wuid']+_0x441394(0x384));try{if(_0x501dde=await this[_0x441394(0x2ed)][_0x441394(0x70a)][_0x441394(0x525)]({'where':{'name':_0x501dde}},this[_0x441394(0x144)][_0x441394(0x6c3)]),!_0x501dde)return this['logger'][_0x441394(0x57d)](this[_0x441394(0x5a5)]+'\x20('+this[_0x441394(0x144)][_0x441394(0x6c3)]+_0x441394(0x260)),null;let _0x2d9648=require(_0x441394(0x74d))[_0x441394(0x3f6)],_0x479b08=Date[_0x441394(0x34b)](),_0xdb155f='start',_0x400ba2={},_0x44b6c6={},_0x3ba709={..._0x501dde,'chatLog':null},_0x29016a={'lastReceivedMessage':_0x400ba2,'lastSendMessage':_0x44b6c6,'lastBlockId':_0xdb155f,'lastCondition':!0x0,'realVariables':_0x3b7a40};_0x3ba709[_0x441394(0x595)]=_0x29016a,_0x3ba709[_0x441394(0x595)]['realVariables']={..._0x3b7a40},delete _0x3ba709[_0x441394(0xf5)],_0x3ba709['_id']=new _0x2d9648(),_0x3ba709[_0x441394(0x3c7)]=_0x479b08,_0x3ba709['status']=_0x441394(0xa5),_0x3ba709['remoteJid']=_0x547637;let _0x548b9b=await this[_0x441394(0x2ed)][_0x441394(0x2a2)][_0x441394(0x190)](_0x3ba709[_0x441394(0xf5)],_0x3ba709,this[_0x441394(0x144)][_0x441394(0x6c3)]);return this['logger'][_0x441394(0x4e0)](this[_0x441394(0x5a5)]+'\x20('+this[_0x441394(0x144)]['wuid']+_0x441394(0x3eb)),_0x548b9b?_0x3ba709:null;}catch(_0x5c6bc6){let _0x47c523=_0x441394(0x48d),_0x1a7a5d=_0x5c6bc6 instanceof Error?_0x5c6bc6[_0x441394(0x3df)]:typeof _0x5c6bc6==_0x441394(0x5ad)?JSON[_0x441394(0x126)](_0x5c6bc6):_0x5c6bc6,_0xf78471=_0x47c523+':\x20'+_0x1a7a5d;throw this[_0x441394(0x4c0)][_0x441394(0x57d)](this[_0x441394(0x5a5)]+'\x20('+this[_0x441394(0x144)]['wuid']+'):\x20'+_0xf78471),new m(_0xf78471);}}async[a0_0x187b1e(0x5d4)](_0x5330b1,_0x559778){const _0x9e8b14=a0_0x187b1e;let _0x3988f2,_0x468d93;try{let _0x3eb7ac=_0x559778[_0x9e8b14(0x51d)];if(!_0x3eb7ac||!_0x3eb7ac[_0x9e8b14(0x3b2)]||!_0x3eb7ac[_0x9e8b14(0x87)])throw new Error(_0x9e8b14(0x67b));let _0x36a818;([_0x9e8b14(0x602),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x9e8b14(0x559)](_0x51787d=>_0x3eb7ac[_0x9e8b14(0x3b2)]['includes'](_0x51787d))||_0x3eb7ac['requestFile'])&&(_0x36a818=_0x9e8b14(0x52b));let _0x39695e='\u205f',_0x21d31d;try{_0x21d31d=JSON[_0x9e8b14(0x329)](_0x3eb7ac['bodyString'][_0x9e8b14(0x2f2)](new RegExp(_0x39695e,'g'),''));}catch(_0xfb945e){throw _0xfb945e;}let _0x26f7c3={'method':_0x3eb7ac[_0x9e8b14(0x87)],'url':_0x3eb7ac[_0x9e8b14(0x3b2)],'headers':_0x3eb7ac[_0x9e8b14(0x417)]||{},..._0x3eb7ac[_0x9e8b14(0x87)]['toUpperCase']()!=='GET'&&_0x3eb7ac[_0x9e8b14(0x6e3)]?{'data':JSON[_0x9e8b14(0x329)](_0x3eb7ac[_0x9e8b14(0x6e3)]['replace'](new RegExp(_0x39695e,'g'),''))}:{},..._0x36a818&&{'responseType':_0x36a818}},_0x2f738f=await(0x0,K[_0x9e8b14(0x605)])(_0x26f7c3),_0x27fdd5=_0x2f738f[_0x9e8b14(0x301)][_0x9e8b14(0x672)];if(_0x27fdd5&&_0x27fdd5[_0x9e8b14(0x7e)]('application/json')||typeof _0x2f738f['data']==_0x9e8b14(0x36c)){if(typeof _0x2f738f['data']==_0x9e8b14(0x36c)){let _0x5a4b99=_0x2f738f['data'][_0x9e8b14(0x2f2)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x9e8b14(0x689)]();try{_0x3988f2=JSON[_0x9e8b14(0x329)](_0x5a4b99);}catch(_0x760826){console['error'](_0x9e8b14(0x4f8)+_0x760826[_0x9e8b14(0x3df)]),_0x3988f2={'_apiResponse':_0x2f738f[_0x9e8b14(0x3a5)]};}}else _0x3988f2=_0x2f738f[_0x9e8b14(0x3a5)];let _0x567307=_0x5330b1[_0x9e8b14(0x595)]['realVariables'],_0x103d2f=this[_0x9e8b14(0x22e)](_0x3988f2);return Object['assign'](_0x567307,_0x103d2f),_0x5330b1[_0x9e8b14(0x595)][_0x9e8b14(0x5d5)]=_0x567307,_0x468d93={'error':!0x1,'apiResponse':_0x3988f2},this[_0x9e8b14(0x186)](_0x5330b1,_0x559778,_0x468d93),_0x3988f2;}if(_0x27fdd5&&(_0x27fdd5[_0x9e8b14(0x7e)](_0x9e8b14(0xde))||_0x27fdd5['includes']('image')||_0x27fdd5[_0x9e8b14(0x7e)]('audio')||_0x27fdd5[_0x9e8b14(0x7e)](_0x9e8b14(0x112)))){this['logger'][_0x9e8b14(0x4e0)](this[_0x9e8b14(0x5a5)]+'\x20('+this[_0x9e8b14(0x144)][_0x9e8b14(0x6c3)]+'):\x20Tipo\x20de\x20contedo\x20identificado:\x20'+_0x27fdd5);let _0x59cff8=(0x0,jt['v4'])(),_0x109ab3='',_0x495b6f={'image/jpeg':_0x9e8b14(0x6c2),'image/png':_0x9e8b14(0x292),'image/gif':_0x9e8b14(0x2a9),'image/webp':_0x9e8b14(0x534),'image/svg+xml':'.svg','audio/mpeg':_0x9e8b14(0x333),'audio/ogg':'.ogg','audio/wav':_0x9e8b14(0x535),'video/mp4':'.mp4','video/webm':_0x9e8b14(0x4b7),'video/ogg':_0x9e8b14(0x63e),'text/plain':'.txt','application/pdf':_0x9e8b14(0x4e1),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x9e8b14(0x21b),'application/vnd.ms-excel':_0x9e8b14(0x18d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x9e8b14(0x3a7),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x9e8b14(0x97)};_0x495b6f[_0x27fdd5]?(_0x109ab3=_0x495b6f[_0x27fdd5],this[_0x9e8b14(0x4c0)][_0x9e8b14(0x4e0)](this[_0x9e8b14(0x5a5)]+'\x20('+this[_0x9e8b14(0x144)]['wuid']+_0x9e8b14(0x505)+_0x109ab3)):(_0x109ab3=_0x9e8b14(0x32f),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9e8b14(0x34a)+_0x109ab3)),_0x59cff8+=_0x109ab3,this[_0x9e8b14(0x4c0)]['verbose'](this[_0x9e8b14(0x5a5)]+'\x20('+this[_0x9e8b14(0x144)][_0x9e8b14(0x6c3)]+_0x9e8b14(0x68a)+_0x59cff8);let _0x59a806=this['configService'][_0x9e8b14(0x8e)](_0x9e8b14(0x273))[_0x9e8b14(0x4cb)];if(!_0x59a806){let _0x7353e5=this[_0x9e8b14(0x684)]['get'](_0x9e8b14(0x566));_0x59a806=_0x9e8b14(0x2a1)+(_0x7353e5&&_0x7353e5[_0x9e8b14(0x6cb)][_0x9e8b14(0x214)]('/')[0x4]);}let _0x531d3b=Buffer[_0x9e8b14(0x4d0)](_0x2f738f[_0x9e8b14(0x3a5)]);await this[_0x9e8b14(0x13d)](_0x531d3b,_0x59cff8);let _0x2af55e=_0x9e8b14(0x275)+_0x59cff8;_0x2af55e=''+_0x59a806+_0x2af55e,_0x3988f2={'fileUrl':_0x2af55e},_0x5330b1['chatLog'][_0x9e8b14(0x5d5)]['fileUrl']=_0x2af55e;let _0x49c8e0=_0x5330b1[_0x9e8b14(0x595)][_0x9e8b14(0x5d5)],_0x52ccbc=this[_0x9e8b14(0x22e)](_0x3988f2);return Object[_0x9e8b14(0x5af)](_0x49c8e0,_0x52ccbc),_0x5330b1[_0x9e8b14(0x595)][_0x9e8b14(0x5d5)]=_0x49c8e0,_0x468d93={'error':!0x1,'apiResponse':{'fileUrl':_0x2af55e}},this[_0x9e8b14(0x186)](_0x5330b1,_0x559778,_0x468d93),_0x3988f2;}}catch(_0x3fded1){console[_0x9e8b14(0x57d)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x3fded1[_0x9e8b14(0x3df)]),_0x3fded1[_0x9e8b14(0x359)]&&(_0x3988f2=_0x3fded1[_0x9e8b14(0x359)][_0x9e8b14(0x3a5)]);let _0xc17cd3=_0x5330b1[_0x9e8b14(0x595)][_0x9e8b14(0x5d5)],_0x578929=this[_0x9e8b14(0x22e)](_0x3988f2);return Object[_0x9e8b14(0x5af)](_0xc17cd3,_0x578929),_0x5330b1[_0x9e8b14(0x595)][_0x9e8b14(0x5d5)]=_0xc17cd3,_0x468d93={'error':!0x0,'errorLog':_0x3fded1[_0x9e8b14(0x56e)](),'apiResponse':_0x3988f2},this[_0x9e8b14(0x186)](_0x5330b1,_0x559778,_0x468d93),{'success':!0x1};}}[a0_0x187b1e(0x61a)](_0x28ebbb,_0xe5eb22){const _0x533f47=a0_0x187b1e;let _0x1e61d5=_0x6f4eaf=>{const _0xf79090=a0_0xf8f0;let _0x171461=_0x6f4eaf[_0xf79090(0x2f2)](/[^0-9.,-]/g,'')[_0xf79090(0x2f2)](',','.'),_0x1ba6fc=parseFloat(_0x171461);return isNaN(_0x1ba6fc)?null:_0x1ba6fc;},_0x3c2783=_0xe5eb22['firstValue'],_0x448b44=_0xe5eb22['secondValue'];typeof _0x3c2783==_0x533f47(0x36c)&&(_0x3c2783=this[_0x533f47(0x702)](_0x3c2783,_0x28ebbb[_0x533f47(0x595)][_0x533f47(0x5d5)])??''),typeof _0x448b44=='string'&&(_0x448b44=this['replaceVariables'](_0x448b44,_0x28ebbb[_0x533f47(0x595)]['realVariables'])??'');let _0x16a2fa=null;if(!_0xe5eb22[_0x533f47(0x386)])return null;switch(this['logger']['verbose'](this[_0x533f47(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20newFirstValue\x20aps\x20replaceVariables:'+_0x3c2783),this['logger'][_0x533f47(0x4e0)](this[_0x533f47(0x5a5)]+'\x20('+this[_0x533f47(0x144)][_0x533f47(0x6c3)]+'):\x20newSecondValue\x20aps\x20replaceVariables:'+_0x448b44),_0xe5eb22[_0x533f47(0x386)]){case'+':case'-':case'*':case'/':let _0x1a10e4=_0x1e61d5(_0x3c2783||'0'),_0x654cb0=_0x1e61d5(_0x448b44||'0');if(_0x1a10e4===null)return null;switch(_0xe5eb22[_0x533f47(0x386)]){case'+':_0x16a2fa=_0x1a10e4+(_0x654cb0??0x0);break;case'-':_0x16a2fa=_0x1a10e4-(_0x654cb0??0x0);break;case'*':_0x16a2fa=_0x1a10e4*(_0x654cb0??0x1);break;case'/':_0x654cb0!==0x0&&(_0x16a2fa=_0x1a10e4/(_0x654cb0??0x1));break;}break;case _0x533f47(0x36e):case _0x533f47(0x4b4):let _0x7c115c=_0x448b44,_0x7a9790=_0xe5eb22[_0x533f47(0x73a)];if(typeof _0x7a9790=='string'&&(_0x7a9790=this['replaceVariables'](_0x7a9790,_0x28ebbb[_0x533f47(0x595)]['realVariables'])??''),_0x7c115c&&_0x7a9790!==void 0x0){let _0x25b3c5=_0xe5eb22[_0x533f47(0x386)]===_0x533f47(0x36e)?new RegExp(_0x7c115c[_0x533f47(0x2f2)](/[-\/\\^$*+?.()|[\]{}]/g,_0x533f47(0x665)),'g'):new RegExp(_0x7c115c,'g');_0x16a2fa=_0x3c2783[_0x533f47(0x2f2)](_0x25b3c5,_0x7a9790);}else console[_0x533f47(0x436)](_0x533f47(0x5a4));break;case'setNewValue':_0x16a2fa=_0x448b44;break;case _0x533f47(0x66d):let _0x219402=_0x3c2783['match'](new RegExp(_0x448b44||''));_0x16a2fa=_0x219402?_0x219402[0x0]:'';break;case _0x533f47(0x1e6):_0x16a2fa=_0x3c2783[_0x533f47(0x634)](0x0,parseInt(_0x448b44||'0'));break;case _0x533f47(0x17e):let _0x553fad=parseInt(_0x448b44||'0');_0x16a2fa=_0x3c2783[_0x533f47(0x634)](_0x3c2783['length']-_0x553fad);break;case _0x533f47(0x460):let _0x568701=_0x1e61d5(_0x3c2783),_0x424efd=parseInt(_0x448b44||'0');_0x424efd=Math[_0x533f47(0x2e4)](_0x424efd),_0x568701!==null?_0x16a2fa=_0x568701['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x424efd,'maximumFractionDigits':_0x424efd}):(console[_0x533f47(0x436)](_0x533f47(0x478)+_0x3c2783),_0x16a2fa=null);break;case _0x533f47(0x3f8):let _0x564955=_0x1e61d5(_0x3c2783);_0x564955!==null?_0x16a2fa=_0x564955[_0x533f47(0x652)](_0x533f47(0x248),{'style':_0x533f47(0x309),'currency':_0x533f47(0x5a7)}):(console[_0x533f47(0x436)](_0x533f47(0x2a8)+_0x3c2783),_0x16a2fa=null);break;case _0x533f47(0x75e):_0x16a2fa=_0x3c2783[_0x533f47(0x529)]();break;case _0x533f47(0x9b):_0x16a2fa=_0x3c2783['toLowerCase']();break;case _0x533f47(0x441):_0x16a2fa=_0x3c2783[_0x533f47(0x214)]('\x20')[_0x533f47(0x687)](_0x5cbe84=>_0x5cbe84[_0x533f47(0x14c)](0x0)[_0x533f47(0x529)]()+_0x5cbe84[_0x533f47(0x634)](0x1)['toLowerCase']())['join']('\x20');break;case'trimmed':_0x16a2fa=_0x3c2783[_0x533f47(0x689)]();break;default:_0x16a2fa=_0x3c2783;}return _0x16a2fa!==null?_0x16a2fa['toString']():null;}async[a0_0x187b1e(0xb2)](_0x1ef0d8,_0x7a1f2f){const _0x17bebe=a0_0x187b1e;try{let _0x369f45=_0x1ef0d8[_0x17bebe(0x73e)]?.['filter'](_0xeeda51=>_0xeeda51['blockId']===_0x7a1f2f[_0x17bebe(0xf5)]?.['toString']())||[],_0x157517=_0x7a1f2f[_0x17bebe(0x1bc)],_0x3a1376=null,_0x125069=[],_0x525374=_0x1ef0d8['chatLog'][_0x17bebe(0x5d5)][_0x157517];_0x125069[_0x17bebe(0x764)](_0x17bebe(0x167)+_0x525374+'\x22');for(let _0x3aa89b of _0x369f45){_0x3aa89b[_0x17bebe(0x413)]=_0x525374,_0x3a1376=_0x3aa89b[_0x17bebe(0x413)];let _0x3ad2d2;try{_0x3ad2d2=this[_0x17bebe(0x61a)](_0x1ef0d8,_0x3aa89b);}catch(_0x28cb0b){console[_0x17bebe(0x57d)](_0x17bebe(0x707)+_0x28cb0b['message']);continue;}if(_0x3ad2d2!==null){let _0x129378=_0x17bebe(0x592)+_0x3aa89b[_0x17bebe(0x386)]+'\x22',_0xc7fd87=[_0x17bebe(0x3f8),_0x17bebe(0x75e),'lowerCase',_0x17bebe(0x441),_0x17bebe(0x68b)];_0x3aa89b['editOperator']==='findAndReplace'||_0x3aa89b[_0x17bebe(0x386)]==='findAndReplaceRegex'?_0x129378+=_0x17bebe(0x2da)+_0x3aa89b[_0x17bebe(0x6c0)]+_0x17bebe(0x4d8)+_0x3aa89b[_0x17bebe(0x73a)]+'\x22':!_0xc7fd87[_0x17bebe(0x7e)](_0x3aa89b[_0x17bebe(0x386)])&&_0x3aa89b[_0x17bebe(0x6c0)]!==null&&_0x3aa89b[_0x17bebe(0x6c0)]!==void 0x0&&(_0x129378+=',\x20valor\x20passado:\x20\x22'+_0x3aa89b['secondValue']+'\x22'),_0x129378+=_0x17bebe(0x419)+_0x3ad2d2+'.',_0x125069['push'](_0x129378);}_0x3ad2d2!==null&&(_0x525374=_0x3ad2d2);}if(_0x1ef0d8[_0x17bebe(0x595)]['realVariables']&&_0x7a1f2f[_0x17bebe(0x1bc)]){_0x1ef0d8['chatLog'][_0x17bebe(0x5d5)][_0x7a1f2f[_0x17bebe(0x1bc)]]=_0x525374;let _0x1df7ee={'variable':_0x7a1f2f['saveVariable'],'oldValue':_0x3a1376,'newValue':_0x525374,'moreLogs':_0x125069};try{this[_0x17bebe(0x186)](_0x1ef0d8,_0x7a1f2f,_0x1df7ee);}catch(_0x3fa79c){console[_0x17bebe(0x57d)](_0x17bebe(0x677)+_0x3fa79c[_0x17bebe(0x3df)]);}}return _0x157517;}catch(_0x46af9a){return console[_0x17bebe(0x57d)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x46af9a[_0x17bebe(0x3df)]),null;}}async[a0_0x187b1e(0x3a0)](_0x3bf14d,_0xc72ae8){const _0x200586=a0_0x187b1e;try{let _0x5ab005=[],_0x3d6410=_0x3bf14d[_0x200586(0x458)][_0x200586(0x348)](_0x311efd=>_0x311efd[_0x200586(0x63a)]===_0xc72ae8[_0x200586(0xf5)][_0x200586(0x56e)]()),_0x166818=null,_0x18872d=!0x1;for(let _0x3e5fc0 of _0x3d6410){let _0x1b4e32=this[_0x200586(0xed)](_0x3bf14d,_0x3e5fc0);_0x5ab005['push'](_0x200586(0x8f)+_0x3e5fc0[_0x200586(0x413)]+_0x200586(0x52f)+_0x3e5fc0[_0x200586(0x1fe)]+_0x200586(0x72b)+_0x3e5fc0['secondValue']+_0x200586(0x38c)+_0x1b4e32),_0x166818===null?_0x166818=_0x1b4e32:_0x3e5fc0[_0x200586(0x23a)]===_0x200586(0x4b3)?(_0x166818=_0x166818&&_0x1b4e32,_0x1b4e32||(_0x18872d=!0x0)):_0x3e5fc0[_0x200586(0x23a)]==='or'&&(_0x18872d||(_0x166818=_0x166818||_0x1b4e32));}_0x166818===null&&(_0x166818=!0x0);let _0x177292={'moreLogs':_0x5ab005};_0x3bf14d[_0x200586(0x595)]['lastCondition']=_0x166818,await this[_0x200586(0x186)](_0x3bf14d,_0xc72ae8,_0x177292);}catch(_0x4b5b83){this[_0x200586(0x4c0)][_0x200586(0x57d)](this[_0x200586(0x5a5)]+'\x20('+this[_0x200586(0x144)][_0x200586(0x6c3)]+_0x200586(0x721)+(_0x4b5b83 instanceof Error?_0x4b5b83[_0x200586(0x3df)]:JSON[_0x200586(0x126)](_0x4b5b83,null,0x2)));}}[a0_0x187b1e(0xed)](_0x27281c,_0x276a4e){const _0x32514b=a0_0x187b1e;let _0x390f7b=_0x276a4e['firstValue'],_0x2e7024=_0x276a4e[_0x32514b(0x6c0)];typeof _0x390f7b==_0x32514b(0x36c)&&(_0x390f7b=this['replaceVariables'](_0x390f7b,_0x27281c[_0x32514b(0x595)][_0x32514b(0x5d5)])??''),typeof _0x2e7024==_0x32514b(0x36c)&&(_0x2e7024=this['replaceVariables'](_0x2e7024,_0x27281c[_0x32514b(0x595)][_0x32514b(0x5d5)])??'');try{switch(_0x276a4e[_0x32514b(0x1fe)]){case _0x32514b(0x3f4):return _0x390f7b===_0x2e7024;case _0x32514b(0x16a):return _0x390f7b!==_0x2e7024;case _0x32514b(0x74b):return this[_0x32514b(0x74b)](_0x390f7b,_0x2e7024);case _0x32514b(0x4b9):return!this[_0x32514b(0x74b)](_0x390f7b,_0x2e7024);case _0x32514b(0x728):return parseFloat(_0x390f7b)>parseFloat(_0x2e7024);case _0x32514b(0xe5):return parseFloat(_0x390f7b)<parseFloat(_0x2e7024);case _0x32514b(0x6a9):return _0x390f7b!=='';case _0x32514b(0x75d):return _0x390f7b==='';case'matchRegex':return new RegExp(_0x2e7024)[_0x32514b(0x12c)](_0x390f7b);case'notMatchRegex':return!new RegExp(_0x2e7024)[_0x32514b(0x12c)](_0x390f7b);default:return!0x1;}}catch(_0x1b1cb3){return console[_0x32514b(0x57d)](_0x32514b(0x283)+_0x1b1cb3),!0x1;}}[a0_0x187b1e(0x74b)](_0x5e884e,_0x340121){const _0x89b736=a0_0x187b1e;if(_0x5e884e===_0x340121&&/^\d+$/[_0x89b736(0x12c)](_0x5e884e))return!0x0;if(this[_0x89b736(0x154)](_0x5e884e)&&/^\d+$/[_0x89b736(0x12c)](_0x340121)){let _0x46f475=_0x5e884e[_0x89b736(0x214)](',')[_0x89b736(0x687)](_0xb8fbbc=>parseInt(_0xb8fbbc['trim']())),_0x29b600=parseInt(_0x340121);return _0x46f475[_0x89b736(0x7e)](_0x29b600);}return _0x5e884e[_0x89b736(0x7e)](_0x340121);}[a0_0x187b1e(0x154)](_0x37d225){const _0x1a389d=a0_0x187b1e;return/^\d+(,\d+)*$/[_0x1a389d(0x12c)](_0x37d225);}['processConditionsTest'](_0x254985){const _0x317132=a0_0x187b1e;let _0x12eaab=!0x0,_0x40ed48=null;for(let _0x2d67cb of _0x254985){let _0xd0786e=this[_0x317132(0x199)](_0x2d67cb);if(_0x40ed48==='or'&&_0xd0786e){_0x12eaab=!0x0;break;}if(_0x40ed48===_0x317132(0x4b3)&&!_0xd0786e){_0x12eaab=!0x1;break;}_0x40ed48=_0x2d67cb[_0x317132(0x23a)];}return _0x12eaab;}['evaluateConditionTest'](_0x21577f){const _0x2e0082=a0_0x187b1e;let _0x552b1f=_0x21577f[_0x2e0082(0x413)],_0x2016e1=_0x21577f[_0x2e0082(0x6c0)];try{switch(_0x21577f['expression']){case _0x2e0082(0x3f4):return String(_0x552b1f)===String(_0x2016e1);case _0x2e0082(0x16a):return String(_0x552b1f)!==String(_0x2016e1);case _0x2e0082(0x74b):return String(_0x552b1f)[_0x2e0082(0x7e)](String(_0x2016e1));case _0x2e0082(0x4b9):return!String(_0x552b1f)[_0x2e0082(0x7e)](String(_0x2016e1));case'greater':return parseFloat(String(_0x552b1f))>parseFloat(String(_0x2016e1));case _0x2e0082(0xe5):return parseFloat(String(_0x552b1f))<parseFloat(String(_0x2016e1));case'notEmpty':return String(_0x552b1f)!=='';case _0x2e0082(0x75d):return String(_0x552b1f)==='';case'matchRegex':return new RegExp(String(_0x2016e1))[_0x2e0082(0x12c)](String(_0x552b1f));case'notMatchRegex':return!new RegExp(String(_0x2016e1))[_0x2e0082(0x12c)](String(_0x552b1f));default:return!0x1;}}catch(_0x4cdae8){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x4cdae8),!0x1;}}async[a0_0x187b1e(0x16d)](_0x5e35da,_0x5169c2){const _0x300ebe=a0_0x187b1e;if(this[_0x300ebe(0x4c0)][_0x300ebe(0x4e0)](this['instanceName']+'\x20('+this[_0x300ebe(0x144)][_0x300ebe(0x6c3)]+_0x300ebe(0x1a4)),!_0x5e35da||!_0x5169c2)return this['logger'][_0x300ebe(0x57d)](this[_0x300ebe(0x5a5)]+'\x20('+this[_0x300ebe(0x144)][_0x300ebe(0x6c3)]+_0x300ebe(0x579)),null;let _0x54f193=_0x5e35da[_0x300ebe(0x595)]['lastReceivedMessage'][_0x300ebe(0xfe)]['id'];this[_0x300ebe(0x4c0)][_0x300ebe(0x4e0)](this[_0x300ebe(0x5a5)]+'\x20('+this[_0x300ebe(0x144)][_0x300ebe(0x6c3)]+_0x300ebe(0x546)+_0x54f193);let _0x4f26d4={'key':{'id':_0x54f193}},_0x4e9202=_0x5169c2[_0x300ebe(0x1bc)];_0x5e35da['chatLog'][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x37f)]=null,_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x287)]=null,_0x5e35da['chatLog'][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x4ff)]=null,_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x37a)]=_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x295)][_0x300ebe(0x5d3)];try{let _0x45d5f0=await this['getBase64FromMediaMessage'](_0x4f26d4);this[_0x300ebe(0x4c0)][_0x300ebe(0x4e0)](this['instanceName']+'\x20('+this[_0x300ebe(0x144)]['wuid']+_0x300ebe(0x198)),_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x379)]=_0x45d5f0[_0x300ebe(0x291)],_0x5e35da['chatLog'][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x287)]=_0x45d5f0['mimetype'];let _0x4e2e12=_0x45d5f0[_0x300ebe(0x1b9)]['match'](/\/(\w+)$/),_0x28d3ac=_0x4e2e12?_0x4e2e12[0x1]:null;_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]['_'+_0x4e9202+_0x300ebe(0x4ff)]=_0x28d3ac,this[_0x300ebe(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x300ebe(0x144)][_0x300ebe(0x6c3)]+'):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27'+_0x4e9202+'\x27.');}catch(_0x65f94f){this[_0x300ebe(0x4c0)][_0x300ebe(0x57d)](this[_0x300ebe(0x5a5)]+'\x20('+this['instance'][_0x300ebe(0x6c3)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20'+_0x65f94f);}let _0x3fdb6f=_0x5e35da[_0x300ebe(0x595)]['lastReceivedMessage'][_0x300ebe(0x54d)]||_0x5e35da['chatLog'][_0x300ebe(0x295)]['caption']||_0x5e35da['chatLog']['lastReceivedMessage']['vote'];try{_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]||(_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)]={});let _0x2f49f3=_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)][_0x4e9202];_0x5e35da[_0x300ebe(0x595)][_0x300ebe(0x5d5)][_0x4e9202]=_0x3fdb6f;let _0x202b81={'variable':_0x4e9202,'oldValue':_0x2f49f3,'newValue':_0x3fdb6f};this[_0x300ebe(0x186)](_0x5e35da,_0x5169c2,_0x202b81),this[_0x300ebe(0x4c0)][_0x300ebe(0x4e0)](this[_0x300ebe(0x5a5)]+'\x20('+this[_0x300ebe(0x144)]['wuid']+_0x300ebe(0x700));}catch(_0x3a7625){let _0x17d6c4={'error':!0x0,'errorLog':_0x3a7625[_0x300ebe(0x56e)]()};return this[_0x300ebe(0x186)](_0x5e35da,_0x5169c2,_0x17d6c4),this[_0x300ebe(0x4c0)][_0x300ebe(0x57d)](this[_0x300ebe(0x5a5)]+'\x20('+this[_0x300ebe(0x144)][_0x300ebe(0x6c3)]+'):\x20Erro\x20durante\x20a\x20atualizao:\x20'+(_0x3a7625 instanceof Error?_0x3a7625[_0x300ebe(0x3df)]:JSON['stringify'](_0x3a7625,null,0x2))),null;}}async[a0_0x187b1e(0x59c)](_0x4f7fb9,_0x21f113){const _0x3ea581=a0_0x187b1e;if(this[_0x3ea581(0x4c0)]['verbose'](this[_0x3ea581(0x5a5)]+'\x20('+this['instance']['wuid']+_0x3ea581(0x58c)),!_0x4f7fb9||!_0x21f113)return this[_0x3ea581(0x4c0)]['error'](this['instanceName']+'\x20('+this[_0x3ea581(0x144)][_0x3ea581(0x6c3)]+_0x3ea581(0x579)),null;let _0x573f4c=Date[_0x3ea581(0x34b)](),_0x10ded2=parseInt(_0x21f113[_0x3ea581(0x3b0)],0xa);if(isNaN(_0x10ded2))return this['logger'][_0x3ea581(0x57d)](this[_0x3ea581(0x5a5)]+'\x20('+this['instance'][_0x3ea581(0x6c3)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero'),null;let _0x233b55={'newStoppedUntil':_0x573f4c+_0x10ded2*0x3c*0x3e8};return await this[_0x3ea581(0x186)](_0x4f7fb9,_0x21f113,_0x233b55,!0x0),null;}async[a0_0x187b1e(0x380)](_0x5bd243,_0x41a359){const _0x51601f=a0_0x187b1e;try{switch(_0x41a359[_0x51601f(0x257)]['command']){case _0x51601f(0x202):await this['uazapiSendText'](_0x5bd243,_0x41a359);break;case _0x51601f(0x5fa):await this[_0x51601f(0x4fa)](_0x5bd243,_0x41a359);break;case _0x51601f(0x164):await this['uazapiSendLocation'](_0x5bd243,_0x41a359);break;case _0x51601f(0x1ec):await this['uazapiSendAudio'](_0x5bd243,_0x41a359);break;case _0x51601f(0x612):await this['uazapiSendContact'](_0x5bd243,_0x41a359);break;case _0x51601f(0x3ad):await this[_0x51601f(0x1be)](_0x5bd243,_0x41a359);break;case _0x51601f(0x591):await this[_0x51601f(0x1be)](_0x5bd243,_0x41a359);break;case _0x51601f(0x1cc):await this[_0x51601f(0xf0)](_0x5bd243,_0x41a359);break;default:this[_0x51601f(0x4c0)]['error'](this['instanceName']+'\x20('+this[_0x51601f(0x144)][_0x51601f(0x6c3)]+'):\x20Comando\x20desconhecido:\x20'+_0x41a359[_0x51601f(0x257)][_0x51601f(0x114)]);}}catch(_0x380fb2){this[_0x51601f(0x4c0)][_0x51601f(0x57d)](this[_0x51601f(0x5a5)]+'\x20('+this[_0x51601f(0x144)]['wuid']+_0x51601f(0x298)+(_0x380fb2 instanceof Error?_0x380fb2[_0x51601f(0x3df)]:JSON[_0x51601f(0x126)](_0x380fb2,null,0x2)));}}async[a0_0x187b1e(0x186)](_0x2667b3,_0x687920,_0x5dc332,_0x52ad63=!0x1,_0x1905c9=!0x1){const _0x4385d3=a0_0x187b1e;_0x2667b3[_0x4385d3(0x595)]['blockLogs']||(_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x431)]=[]);let _0x519249=(_0x2667b3['chatLog']['blockLogs']?.[_0x4385d3(0x6ab)]??0x0)+0x1,_0x1798a2=_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x431)][_0x4385d3(0x348)](_0x3211aa=>String(_0x3211aa['blockId'])===String(_0x687920['_id']))[_0x4385d3(0x6ab)]+0x1,_0x2e4380=_0x5dc332?.[_0x4385d3(0x5da)]??Date['now'](),_0x435c09=_0x5dc332?.[_0x4385d3(0x57d)]?_0x5dc332[_0x4385d3(0x98)]??_0x5dc332[_0x4385d3(0x57d)]['toString']():void 0x0,_0x532025={'onTime':_0x2e4380,'blockId':_0x687920[_0x4385d3(0xf5)],'order':_0x519249,'activatedCount':_0x1798a2,'error':_0x5dc332?.[_0x4385d3(0x57d)]??!0x1,'messageId':_0x5dc332?.[_0x4385d3(0x481)],'apiResponse':_0x5dc332?.[_0x4385d3(0x1fd)],'apiResponseString':_0x5dc332?.[_0x4385d3(0x1fd)]?JSON[_0x4385d3(0x126)](_0x5dc332?.[_0x4385d3(0x1fd)]):void 0x0,'variable':_0x5dc332?.[_0x4385d3(0x327)],'oldValue':_0x5dc332?.[_0x4385d3(0x157)],'newValue':_0x5dc332?.['newValue'],'newStoppedUntil':_0x5dc332?.[_0x4385d3(0x182)],'moreLogs':_0x5dc332?.[_0x4385d3(0x6b0)],'errorLog':_0x435c09};if(_0x5dc332['moreLogs']&&_0x5dc332['moreLogs'][_0x4385d3(0x6ab)]>0x0){let _0x195298=_0x5dc332['moreLogs'][_0x4385d3(0x687)](_0x2c350f=>this[_0x4385d3(0x638)](_0x2c350f,_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x5d5)]));_0x532025[_0x4385d3(0x6b0)]=_0x195298;}_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x5d5)]||(_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x5d5)]={}),_0x2667b3[_0x4385d3(0x595)]['realVariables'][_0x4385d3(0x647)]=String(_0x1798a2),_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x5d5)][_0x4385d3(0x589)]=String(_0x5dc332[_0x4385d3(0x57d)]??!0x1),_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x431)][_0x4385d3(0x764)](_0x532025),_0x2667b3['chatLog'][_0x4385d3(0x5d6)]=_0x687920[_0x4385d3(0xf5)][_0x4385d3(0x56e)](),_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x2e8)]&&(_0x2667b3[_0x4385d3(0x595)]['lastSendMessage']=_0x2667b3['chatLog']['lastSendMessage']),_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x295)]&&(_0x2667b3[_0x4385d3(0x595)]['lastReceivedMessage']=_0x2667b3[_0x4385d3(0x595)]['lastReceivedMessage']),_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x73c)]&&(_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x73c)]=_0x2667b3[_0x4385d3(0x595)][_0x4385d3(0x73c)]),_0x1905c9&&(_0x2667b3[_0x4385d3(0x391)]=_0x4385d3(0x2f1)),_0x52ad63?this[_0x4385d3(0x562)](_0x2667b3):this[_0x4385d3(0x427)](_0x2667b3,_0x687920);}['replaceVariablesLogs'](_0x5a4e0c,_0x37da3a){const _0x591f50=a0_0x187b1e;return _0x5a4e0c['replace'](/\{\{([^}]+)\}\}/g,(_0x52ac7a,_0x47c2ae)=>_0x37da3a[_0x47c2ae]?'{{'+_0x47c2ae+'}}\x20->\x20\x22'+_0x37da3a[_0x47c2ae]+'\x22':'{{'+_0x47c2ae+_0x591f50(0x289));}async[a0_0x187b1e(0x562)](_0x3d0055){const _0x28fa23=a0_0x187b1e;try{let _0x13152f=Object[_0x28fa23(0x466)](_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x5d5)])['map'](([_0x2f03c7,_0x9ac739])=>({'name':_0x2f03c7,'value':_0x9ac739})),_0x547322={'status':_0x3d0055[_0x28fa23(0x391)],'blocks':_0x3d0055[_0x28fa23(0x5d7)],'waitingMenu_id':_0x3d0055[_0x28fa23(0x660)],'waitingMenu_text':_0x3d0055['waitingMenu_text'],'waitingMenu_replyOptions':_0x3d0055['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x5d6)],'lastSendMessage':_0x3d0055[_0x28fa23(0x595)]['lastSendMessage'],'lastReceivedMessage':_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x295)],'lastCondition':_0x3d0055[_0x28fa23(0x595)]['lastCondition'],'chatVariables':_0x13152f,'realVariables':_0x3d0055[_0x28fa23(0x595)]['realVariables'],'blockLogs':_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x431)]}},_0x341561=await this['repository']['flowConversation'][_0x28fa23(0x190)](_0x3d0055[_0x28fa23(0xf5)],_0x547322,this['instance'][_0x28fa23(0x6c3)]);if(_0x341561){this[_0x28fa23(0x4c0)][_0x28fa23(0x4e0)](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)][_0x28fa23(0x6c3)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x341561[_0x28fa23(0xf5)]);try{let _0x48ee6f=[_0x28fa23(0x5b0),_0x28fa23(0x709),'email',_0x28fa23(0x50d),'status',_0x28fa23(0xb7),_0x28fa23(0x22d),_0x28fa23(0x233),_0x28fa23(0x596)];if(!this[_0x28fa23(0x599)]&&(await this['getAutomateSystem'](),!this[_0x28fa23(0x599)]))throw new Error(_0x28fa23(0x93));let _0x174774=this[_0x28fa23(0x599)]?.[_0x28fa23(0x115)][_0x28fa23(0x687)](_0x4e7fe1=>_0x4e7fe1[_0x28fa23(0x19a)]),_0x5750a8={};Object[_0x28fa23(0x466)](_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x5d5)])[_0x28fa23(0x4d6)](([_0x1bfbe4,_0x3eaefc])=>{const _0x3dd5d8=_0x28fa23;_0x48ee6f[_0x3dd5d8(0x7e)](_0x1bfbe4)&&(_0x1bfbe4===_0x3dd5d8(0x233)&&typeof _0x3eaefc==_0x3dd5d8(0x36c)?_0x5750a8[_0x1bfbe4]=_0x3eaefc['split'](',')[_0x3dd5d8(0x687)](_0x3c2ba6=>_0x3c2ba6[_0x3dd5d8(0x689)]())['filter'](_0x450ac2=>_0x450ac2!==''):_0x1bfbe4===_0x3dd5d8(0x596)&&typeof _0x3eaefc==_0x3dd5d8(0x36c)?_0x5750a8[_0x1bfbe4]=_0x3eaefc[_0x3dd5d8(0x214)](',')[_0x3dd5d8(0x687)](_0x377523=>_0x377523[_0x3dd5d8(0x689)]())[_0x3dd5d8(0x348)](_0x1f8068=>_0x1f8068!==''):_0x5750a8[_0x1bfbe4]=_0x3eaefc);});let _0x166502=_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x431)][_0x3d0055[_0x28fa23(0x595)][_0x28fa23(0x431)][_0x28fa23(0x6ab)]-0x1];if(_0x166502){let _0x17b5ab=_0x166502[_0x28fa23(0x182)];_0x17b5ab!==void 0x0&&(_0x5750a8[_0x28fa23(0x279)]=_0x17b5ab['toString']());}let _0x5884df=_0x13152f[_0x28fa23(0x348)](_0x1b7753=>_0x174774['includes'](_0x1b7753[_0x28fa23(0x19a)]));this[_0x28fa23(0x4c0)][_0x28fa23(0x4e0)](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)][_0x28fa23(0x6c3)]+'):\x20leadInfoVariables'),this['logger']['verbose'](_0x5750a8),this[_0x28fa23(0x4c0)][_0x28fa23(0x4e0)](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)][_0x28fa23(0x6c3)]+'):\x20customFieldVariables'),this[_0x28fa23(0x4c0)]['verbose'](_0x5884df);let _0x6ad934=_0x5884df['map'](_0x785a0b=>{const _0x322b9f=_0x28fa23;let _0x54b734=this[_0x322b9f(0x599)]?.[_0x322b9f(0x115)][_0x322b9f(0x528)](_0x45b35c=>_0x45b35c['name']===_0x785a0b[_0x322b9f(0x19a)]);if(!_0x54b734)throw new Error(_0x322b9f(0x681)+_0x785a0b[_0x322b9f(0x19a)]);return{'_id':_0x54b734[_0x322b9f(0xf5)],'value':_0x785a0b[_0x322b9f(0x189)]};});this[_0x28fa23(0x4c0)][_0x28fa23(0x4e0)](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)][_0x28fa23(0x6c3)]+_0x28fa23(0x11d)),this[_0x28fa23(0x4c0)][_0x28fa23(0x4e0)](_0x6ad934),await this['saveChatVariables'](_0x3d0055[_0x28fa23(0x580)],_0x5750a8,_0x6ad934);}catch(_0x274a50){this[_0x28fa23(0x4c0)][_0x28fa23(0x57d)](this[_0x28fa23(0x5a5)]+'\x20('+this['instance'][_0x28fa23(0x6c3)]+_0x28fa23(0x10f)+(_0x274a50 instanceof Error?_0x274a50[_0x28fa23(0x3df)]:JSON['stringify'](_0x274a50,null,0x2)));}}else this[_0x28fa23(0x4c0)][_0x28fa23(0x57d)](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)][_0x28fa23(0x6c3)]+_0x28fa23(0x582));}catch(_0x3a0a56){this[_0x28fa23(0x4c0)]['error'](this[_0x28fa23(0x5a5)]+'\x20('+this[_0x28fa23(0x144)]['wuid']+_0x28fa23(0x65e)+(_0x3a0a56 instanceof Error?_0x3a0a56['message']:JSON['stringify'](_0x3a0a56,null,0x2)));}}async['saveChatVariables'](_0x4f3c90,_0x4b9b12,_0x5498e4){const _0xfb850b=a0_0x187b1e;try{let _0x37e679={'leadInfo.leadnome':_0x4b9b12[_0xfb850b(0x5b0)],'leadInfo.nomecompleto':_0x4b9b12[_0xfb850b(0x709)],'leadInfo.email':_0x4b9b12[_0xfb850b(0x571)],'leadInfo.cpf':_0x4b9b12[_0xfb850b(0x50d)],'leadInfo.status':_0x4b9b12[_0xfb850b(0x391)],'leadInfo.notas':_0x4b9b12[_0xfb850b(0xb7)],'leadInfo.responsavelid':_0x4b9b12[_0xfb850b(0x22d)],'leadInfo.tags':_0x4b9b12['tags'],'leadInfo.etiquetas':_0x4b9b12[_0xfb850b(0x596)],'leadInfo.customFields':_0x5498e4},_0xab514e=await this[_0xfb850b(0x2ed)][_0xfb850b(0x30d)][_0xfb850b(0x525)]({'where':{'_id':_0x4f3c90}},this[_0xfb850b(0x144)][_0xfb850b(0x6c3)]),_0x2aec52=new Set(_0xab514e[_0xfb850b(0x2ad)][_0xfb850b(0x596)]||[]),_0x3e38db=new Set(_0x4b9b12['etiquetas']||[]),_0x4b910a=await this[_0xfb850b(0x2ed)]['label'][_0xfb850b(0x528)]({'where':{}},this[_0xfb850b(0x144)][_0xfb850b(0x6c3)]),_0x23e61b=new Set(_0x4b910a[_0xfb850b(0x687)](_0x5866d7=>_0x5866d7['_id'])),_0x20559c=[..._0x3e38db][_0xfb850b(0x348)](_0x249ee6=>!_0x2aec52[_0xfb850b(0x69f)](_0x249ee6)&&_0x23e61b['has'](_0x249ee6)),_0x54111b=[..._0x2aec52]['filter'](_0x10aaae=>!_0x3e38db[_0xfb850b(0x69f)](_0x10aaae));for(let _0x2082cf of _0x20559c)await this['AddChatLabel'](_0x2082cf,_0xab514e[_0xfb850b(0xf5)]),_0x2aec52['add'](_0x2082cf);for(let _0x56228a of _0x54111b)await this[_0xfb850b(0x1bf)](_0x56228a,_0xab514e['_id']),_0x2aec52[_0xfb850b(0x6c5)](_0x56228a);if(_0xfb850b(0x279)in _0x4b9b12){let _0xe9e801=_0x4b9b12[_0xfb850b(0x279)];_0x37e679[_0xfb850b(0x25a)]=_0xe9e801?Number(_0xe9e801):null;}let _0x58b19d=await this['repository']['chat'][_0xfb850b(0x190)]({'where':{'_id':_0x4f3c90}},_0x37e679,this[_0xfb850b(0x144)][_0xfb850b(0x6c3)]);_0x58b19d?(this[_0xfb850b(0x4c0)][_0xfb850b(0x4e0)](this[_0xfb850b(0x5a5)]+'\x20('+this['instance'][_0xfb850b(0x6c3)]+_0xfb850b(0xc4)+_0x58b19d['_id']),U(this['instanceName'],_0xfb850b(0x196),{'chat':_0x58b19d})):this['logger'][_0xfb850b(0x57d)](this[_0xfb850b(0x5a5)]+'\x20('+this['instance'][_0xfb850b(0x6c3)]+_0xfb850b(0x543));}catch(_0xef11c1){this[_0xfb850b(0x4c0)][_0xfb850b(0x57d)](this[_0xfb850b(0x5a5)]+'\x20('+this[_0xfb850b(0x144)][_0xfb850b(0x6c3)]+_0xfb850b(0x3fb)+(_0xef11c1 instanceof Error?_0xef11c1[_0xfb850b(0x3df)]:JSON[_0xfb850b(0x126)](_0xef11c1,null,0x2)));}}async[a0_0x187b1e(0x1aa)](_0x2f3f74,_0x369343){const _0x1a9693=a0_0x187b1e;this['logger'][_0x1a9693(0x4e0)](this[_0x1a9693(0x5a5)]+'\x20('+this[_0x1a9693(0x144)][_0x1a9693(0x6c3)]+'):\x20atualizao\x20chat:\x20'+_0x369343);try{let _0x36e46c=await this['repository'][_0x1a9693(0x30d)][_0x1a9693(0x190)]({'where':{'_id':_0x2f3f74[_0x1a9693(0x580)]}},{'leadInfo.desativadoFluxoAte':_0x369343},this['instance']['wuid']);this['logger'][_0x1a9693(0x4e0)](this[_0x1a9693(0x5a5)]+'\x20('+this[_0x1a9693(0x144)][_0x1a9693(0x6c3)]+_0x1a9693(0x156)+_0x2f3f74['_id']),this[_0x1a9693(0x4c0)][_0x1a9693(0x4e0)](this[_0x1a9693(0x5a5)]+'\x20('+this[_0x1a9693(0x144)]['wuid']+_0x1a9693(0x351)+JSON[_0x1a9693(0x126)](_0x36e46c,null,0x2)),_0x36e46c&&U(this[_0x1a9693(0x5a5)],_0x1a9693(0x196),{'chat':_0x36e46c});}catch(_0x565cee){this[_0x1a9693(0x4c0)][_0x1a9693(0x57d)](this[_0x1a9693(0x5a5)]+'\x20('+this[_0x1a9693(0x144)][_0x1a9693(0x6c3)]+_0x1a9693(0x169)+(_0x565cee instanceof Error?_0x565cee[_0x1a9693(0x3df)]:JSON['stringify'](_0x565cee,null,0x2)));}}async['findFlow'](_0x25ec49){const _0x26004b=a0_0x187b1e;try{this[_0x26004b(0x4c0)][_0x26004b(0x4e0)](this[_0x26004b(0x5a5)]+'\x20('+this[_0x26004b(0x144)][_0x26004b(0x6c3)]+_0x26004b(0x4cc));let _0x5aec6b=_0x25ec49[_0x26004b(0x2f2)](/\D/g,''),_0x1fa854=await this['repository'][_0x26004b(0x70a)][_0x26004b(0x525)]({'where':{'testingWith':_0x5aec6b}},this[_0x26004b(0x144)][_0x26004b(0x6c3)]);return _0x1fa854||(this['logger'][_0x26004b(0x4e0)](this[_0x26004b(0x5a5)]+'\x20('+this[_0x26004b(0x144)][_0x26004b(0x6c3)]+_0x26004b(0x4fe)),_0x1fa854=await this[_0x26004b(0x2ed)]['flow'][_0x26004b(0x525)]({'where':{'default':!0x0}},this[_0x26004b(0x144)]['wuid'])),_0x1fa854||(this[_0x26004b(0x4c0)]['verbose'](this[_0x26004b(0x5a5)]+'\x20('+this['instance'][_0x26004b(0x6c3)]+_0x26004b(0x62c)),null);}catch(_0x43e5a1){return this[_0x26004b(0x4c0)][_0x26004b(0x57d)](this[_0x26004b(0x5a5)]+'\x20('+this[_0x26004b(0x144)][_0x26004b(0x6c3)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x43e5a1 instanceof Error?_0x43e5a1[_0x26004b(0x3df)]:JSON[_0x26004b(0x126)](_0x43e5a1,null,0x2))),null;}}async[a0_0x187b1e(0x1c5)](_0x2b2097,_0x3d8614){const _0x43997e=a0_0x187b1e;try{let _0x4c3b63=!!_0x3d8614[_0x43997e(0x54c)],_0x217836=_0x3d8614[_0x43997e(0x6f4)],_0x324cbc=null;if(this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)]['wuid']+_0x43997e(0xce)+_0x4c3b63+'\x20quoted:\x20'+_0x217836),_0x4c3b63){this['logger'][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this['instance'][_0x43997e(0x6c3)]+_0x43997e(0x234));let _0xfec8d7={'where':{'remoteJid':_0x2b2097,'waitingMenu_id':_0x217836}};if(_0x324cbc=await this[_0x43997e(0x2ed)][_0x43997e(0x2a2)][_0x43997e(0x525)](_0xfec8d7,this['instance'][_0x43997e(0x6c3)]),!_0x324cbc)return this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this['instanceName']+'\x20('+this[_0x43997e(0x144)]['wuid']+'):\x20no\x20encontrou'),null;let _0x10c62f=Date['now'](),_0x427459=_0x324cbc?.[_0x43997e(0x17a)]||0x0,_0xef9db7=_0x10c62f-_0x427459*0x3c*0x3e8;if(_0x324cbc['lastInteraction']<_0xef9db7){this['logger'][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this['instance'][_0x43997e(0x6c3)]+'):\x20Conversa\x20est\x20expirada\x20-\x20voto');let _0xd31172={'number':_0x324cbc['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x324cbc[_0x43997e(0x52e)]}};await this[_0x43997e(0x60b)](_0xd31172);let _0xa4625={'status':_0x43997e(0x2f1),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x43997e(0x2ed)][_0x43997e(0x2a2)]['updateOne'](_0x324cbc[_0x43997e(0xf5)],_0xa4625,this['instance'][_0x43997e(0x6c3)]),null;}return _0x324cbc[_0x43997e(0x3c7)]=Date[_0x43997e(0x34b)](),_0x324cbc['chatLog'][_0x43997e(0x295)]=_0x3d8614,_0x324cbc;}else{this['logger'][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+_0x43997e(0x468)+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+_0x43997e(0x370)),this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+'):\x20Procurando\x20conversa');let _0x5e8dd5={'where':{'remoteJid':_0x2b2097,'status':_0x43997e(0xa5)}};if(_0x324cbc=await this[_0x43997e(0x2ed)][_0x43997e(0x2a2)][_0x43997e(0x525)](_0x5e8dd5,this[_0x43997e(0x144)][_0x43997e(0x6c3)]),!_0x324cbc){let _0x302d8a=await this[_0x43997e(0x6fc)](_0x2b2097);if(_0x302d8a&&(_0x324cbc=await this[_0x43997e(0x389)](_0x302d8a,_0x3d8614[_0x43997e(0xfe)],_0x3d8614)),!_0x324cbc)return null;}let _0x360a85=Date['now'](),_0x2973fc=_0x324cbc?.[_0x43997e(0x17a)]||0x0,_0x120cf6=_0x360a85-_0x2973fc*0x3c*0x3e8;if(this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+_0x43997e(0x25d)+_0x360a85+_0x43997e(0x20f)+_0x2973fc+_0x43997e(0x576)+_0x120cf6),this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+'):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot'),this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+'):\x20conversation.lastInteraction:\x20'+_0x324cbc['lastInteraction']),this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this['instance'][_0x43997e(0x6c3)]+_0x43997e(0x3d1)+_0x120cf6),_0x324cbc['lastInteraction']<_0x120cf6){this[_0x43997e(0x4c0)][_0x43997e(0x4e0)](this[_0x43997e(0x5a5)]+'\x20('+this[_0x43997e(0x144)][_0x43997e(0x6c3)]+_0x43997e(0x10b));let _0x62dec6=await this[_0x43997e(0x6fc)](_0x2b2097);if(_0x62dec6===null)return null;_0x324cbc&&await this[_0x43997e(0x2ed)][_0x43997e(0x2a2)]['updateOne'](_0x324cbc[_0x43997e(0xf5)],{'status':'closed'},this[_0x43997e(0x144)][_0x43997e(0x6c3)]),_0x324cbc=await this[_0x43997e(0x389)](_0x62dec6,_0x3d8614[_0x43997e(0xfe)],_0x3d8614);}return _0x324cbc[_0x43997e(0x3c7)]=_0x360a85,_0x324cbc[_0x43997e(0x595)][_0x43997e(0x295)]=_0x3d8614,_0x324cbc;}}catch(_0x2996de){return this[_0x43997e(0x4c0)]['error'](this['instanceName']+'\x20('+this['instance'][_0x43997e(0x6c3)]+_0x43997e(0x69e)+(_0x2996de instanceof Error?_0x2996de[_0x43997e(0x3df)]:JSON[_0x43997e(0x126)](_0x2996de,null,0x2))),null;}}async[a0_0x187b1e(0x389)](_0xa07c1a,_0x3e35d6,_0x5dbba1){const _0x50e13f=a0_0x187b1e;this[_0x50e13f(0x4c0)][_0x50e13f(0x4e0)](this[_0x50e13f(0x5a5)]+'\x20('+this[_0x50e13f(0x144)][_0x50e13f(0x6c3)]+_0x50e13f(0x304));try{let _0x2cb738=require('mongodb')[_0x50e13f(0x3f6)],_0x36e7c3=Date[_0x50e13f(0x34b)](),_0x96caa6=_0x50e13f(0x3dc),_0x4522c6=_0x3e35d6[_0x50e13f(0x635)]?null:_0x5dbba1,_0x26e027=_0x3e35d6['fromMe']?_0x5dbba1:null,_0x4c7581=_0x3e35d6[_0x50e13f(0x580)];await this['closeExistingConversations'](_0x4c7581);let _0x5af9be={..._0xa07c1a,'chatLog':null},_0x3ce645=await this['variablesToObject'](_0x5af9be[_0x50e13f(0x58d)]),_0x3f8048=await this[_0x50e13f(0x642)](_0x4c7581),_0x22570a={..._0x3ce645,..._0x3f8048,'_remoteJid':_0x4c7581},_0x55f798={'lastReceivedMessage':_0x4522c6,'lastSendMessage':_0x26e027,'lastBlockId':_0x96caa6,'lastCondition':!0x0,'realVariables':_0x22570a};_0x5af9be[_0x50e13f(0x595)]=_0x55f798,delete _0x5af9be[_0x50e13f(0xf5)],_0x5af9be[_0x50e13f(0xf5)]=new _0x2cb738(),_0x5af9be[_0x50e13f(0x3c7)]=_0x36e7c3,_0x5af9be[_0x50e13f(0x391)]=_0x50e13f(0xa5),_0x5af9be[_0x50e13f(0x580)]=_0x4c7581;let _0x12e6a8=await this[_0x50e13f(0x2ed)][_0x50e13f(0x2a2)]['updateOne'](_0x5af9be[_0x50e13f(0xf5)],_0x5af9be,this[_0x50e13f(0x144)][_0x50e13f(0x6c3)]);return this[_0x50e13f(0x4c0)][_0x50e13f(0x4e0)](this[_0x50e13f(0x5a5)]+'\x20('+this['instance']['wuid']+_0x50e13f(0x3eb)),_0x12e6a8?_0x5af9be:null;}catch(_0xfbff6){return this[_0x50e13f(0x4c0)][_0x50e13f(0x57d)](this[_0x50e13f(0x5a5)]+'\x20('+this[_0x50e13f(0x144)]['wuid']+_0x50e13f(0x678)+(_0xfbff6 instanceof Error?_0xfbff6[_0x50e13f(0x3df)]:JSON[_0x50e13f(0x126)](_0xfbff6,null,0x2))),_0xfbff6;}}async[a0_0x187b1e(0x43b)](_0x2cbde3,_0x1d6558){const _0x3c233f=a0_0x187b1e;let _0x272e84=_0x2cbde3[_0x3c233f(0x580)];_0x1d6558['uazapi'][_0x3c233f(0x580)]&&_0x1d6558[_0x3c233f(0x257)]['remoteJid'][_0x3c233f(0x689)]()!==''&&(_0x272e84=_0x1d6558[_0x3c233f(0x257)]['remoteJid']['trim']()),this[_0x3c233f(0x4c0)][_0x3c233f(0x4e0)](this[_0x3c233f(0x5a5)]+'\x20('+this[_0x3c233f(0x144)][_0x3c233f(0x6c3)]+'):\x20Enviando\x20texto');let _0x430f24={'number':_0x272e84,'options':{'delay':_0x1d6558['uazapi'][_0x3c233f(0x185)],'linkPreview':_0x1d6558[_0x3c233f(0x257)][_0x3c233f(0x86)]},'textMessage':{'text':_0x1d6558['uazapi'][_0x3c233f(0x54d)]}};try{let _0x1667d9=await this['textMessage'](_0x430f24);if(_0x1667d9){let _0x57a6f0={'_id':_0x1667d9['key']['id'],'_fromMe':_0x1667d9[_0x3c233f(0xfe)]['fromMe'],'_remoteJid':_0x1667d9[_0x3c233f(0xfe)][_0x3c233f(0x580)]},_0x503395=(0x0,f['normalizeMessageContent'])(_0x1667d9[_0x3c233f(0x3df)]),_0x346e9e=(0x0,f[_0x3c233f(0xac)])(_0x503395);_0x2cbde3[_0x3c233f(0x595)][_0x3c233f(0x5d6)]=_0x1d6558['_id'][_0x3c233f(0x56e)]();let {message_normalized:_0x6ba2d}=this['normalizeMessage'](_0x503395,_0x346e9e,null);_0x2cbde3['chatLog'][_0x3c233f(0x2e8)]=await _0x6ba2d;let _0x181e2c={'messageId':_0x1667d9[_0x3c233f(0xfe)]['id']},_0x1615bc=_0x2cbde3['chatLog'][_0x3c233f(0x5d5)];Object[_0x3c233f(0x5af)](_0x1615bc,_0x57a6f0),_0x2cbde3[_0x3c233f(0x595)]['realVariables']=_0x1615bc,this[_0x3c233f(0x186)](_0x2cbde3,_0x1d6558,_0x181e2c);}else{let _0x189f81={'error':!0x0};this[_0x3c233f(0x186)](_0x2cbde3,_0x1d6558,_0x189f81),this['logger']['error'](this[_0x3c233f(0x5a5)]+'\x20('+this[_0x3c233f(0x144)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x58cdec){let _0x557596={'error':!0x0,'errorLog':_0x58cdec[_0x3c233f(0x56e)]()};this[_0x3c233f(0x186)](_0x2cbde3,_0x1d6558,_0x557596),this[_0x3c233f(0x4c0)][_0x3c233f(0x57d)](this[_0x3c233f(0x5a5)]+'\x20('+this[_0x3c233f(0x144)]['wuid']+_0x3c233f(0x48f)+(_0x58cdec instanceof Error?_0x58cdec['message']:JSON[_0x3c233f(0x126)](_0x58cdec,null,0x2)));}}async['uazapiSendMedia'](_0x13dfd6,_0x568909){const _0x149ff6=a0_0x187b1e;let _0x5677e0=_0x13dfd6['remoteJid'];_0x568909[_0x149ff6(0x257)][_0x149ff6(0x580)]&&_0x568909[_0x149ff6(0x257)][_0x149ff6(0x580)][_0x149ff6(0x689)]()!==''&&(_0x5677e0=_0x568909[_0x149ff6(0x257)]['remoteJid'][_0x149ff6(0x689)]()),this[_0x149ff6(0x4c0)]['verbose'](this[_0x149ff6(0x5a5)]+'\x20('+this['instance'][_0x149ff6(0x6c3)]+_0x149ff6(0x307));let _0x1a2216={'number':_0x5677e0,'options':{'delay':_0x568909[_0x149ff6(0x257)][_0x149ff6(0x185)],'linkPreview':_0x568909[_0x149ff6(0x257)]['linkPreview']},'mediaMessage':{'mediatype':_0x568909[_0x149ff6(0x257)][_0x149ff6(0x756)],'caption':_0x568909[_0x149ff6(0x257)][_0x149ff6(0x177)],'media':_0x568909[_0x149ff6(0x257)][_0x149ff6(0x531)],'fileName':_0x568909[_0x149ff6(0x257)][_0x149ff6(0x5d0)]}};try{let _0x35b880=await this[_0x149ff6(0x4f9)](_0x1a2216);if(_0x35b880){let _0x20e22b={'_id':_0x35b880[_0x149ff6(0xfe)]['id'],'_fromMe':_0x35b880[_0x149ff6(0xfe)][_0x149ff6(0x635)],'_remoteJid':_0x35b880['key'][_0x149ff6(0x580)]},_0xbccba0=(0x0,f['normalizeMessageContent'])(_0x35b880['message']),_0x4d07e0=(0x0,f[_0x149ff6(0xac)])(_0xbccba0);_0x13dfd6[_0x149ff6(0x595)]['lastBlockId']=_0x568909['_id'][_0x149ff6(0x56e)]();let {message_normalized:_0x281046}=this[_0x149ff6(0x2d5)](_0xbccba0,_0x4d07e0,null);_0x13dfd6[_0x149ff6(0x595)]['lastSendMessage']=await _0x281046;let _0x2f00d0={'messageId':_0x35b880[_0x149ff6(0xfe)]['id']},_0x430588=_0x13dfd6['chatLog']['realVariables'];Object[_0x149ff6(0x5af)](_0x430588,_0x20e22b),_0x13dfd6[_0x149ff6(0x595)][_0x149ff6(0x5d5)]=_0x430588,this[_0x149ff6(0x186)](_0x13dfd6,_0x568909,_0x2f00d0);}else{let _0x303230={'error':!0x0};this[_0x149ff6(0x186)](_0x13dfd6,_0x568909,_0x303230),this[_0x149ff6(0x4c0)]['error'](this[_0x149ff6(0x5a5)]+'\x20('+this[_0x149ff6(0x144)][_0x149ff6(0x6c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.');}}catch(_0x2b3a8b){let _0x3641ec={'error':!0x0,'errorLog':_0x2b3a8b[_0x149ff6(0x56e)]()};this[_0x149ff6(0x186)](_0x13dfd6,_0x568909,_0x3641ec),this[_0x149ff6(0x4c0)]['error'](this[_0x149ff6(0x5a5)]+'\x20('+this[_0x149ff6(0x144)][_0x149ff6(0x6c3)]+_0x149ff6(0x23d)+(_0x2b3a8b instanceof Error?_0x2b3a8b[_0x149ff6(0x3df)]:JSON[_0x149ff6(0x126)](_0x2b3a8b,null,0x2)));}}async[a0_0x187b1e(0x732)](_0x42f411,_0x1051ca){const _0x5a1d25=a0_0x187b1e;let _0x436c2f=_0x42f411[_0x5a1d25(0x580)];_0x1051ca['uazapi'][_0x5a1d25(0x580)]&&_0x1051ca[_0x5a1d25(0x257)][_0x5a1d25(0x580)]['trim']()!==''&&(_0x436c2f=_0x1051ca[_0x5a1d25(0x257)][_0x5a1d25(0x580)][_0x5a1d25(0x689)]()),this[_0x5a1d25(0x4c0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5a1d25(0x6c3)]+_0x5a1d25(0x21e));let _0x1051fc={'number':_0x436c2f,'options':{'delay':_0x1051ca['uazapi'][_0x5a1d25(0x185)]},'locationMessage':{'name':_0x1051ca[_0x5a1d25(0x257)][_0x5a1d25(0x19a)],'address':_0x1051ca[_0x5a1d25(0x257)][_0x5a1d25(0x4c8)],'latitude':_0x1051ca['uazapi'][_0x5a1d25(0x395)],'longitude':_0x1051ca[_0x5a1d25(0x257)][_0x5a1d25(0x5f3)]}};try{let _0xef25f4=await this[_0x5a1d25(0x96)](_0x1051fc);if(_0xef25f4){let _0x2b30ba={'_id':_0xef25f4[_0x5a1d25(0xfe)]['id'],'_fromMe':_0xef25f4[_0x5a1d25(0xfe)]['fromMe'],'_remoteJid':_0xef25f4[_0x5a1d25(0xfe)][_0x5a1d25(0x580)]},_0x537c7c=(0x0,f[_0x5a1d25(0x610)])(_0xef25f4[_0x5a1d25(0x3df)]),_0xe64ebb=(0x0,f[_0x5a1d25(0xac)])(_0x537c7c);_0x42f411[_0x5a1d25(0x595)]['lastBlockId']=_0x1051ca['_id'][_0x5a1d25(0x56e)]();let {message_normalized:_0x4fc2f4}=this[_0x5a1d25(0x2d5)](_0x537c7c,_0xe64ebb,null);_0x42f411[_0x5a1d25(0x595)][_0x5a1d25(0x2e8)]=await _0x4fc2f4;let _0x4b62a0={'messageId':_0xef25f4[_0x5a1d25(0xfe)]['id']},_0x2b0185=_0x42f411[_0x5a1d25(0x595)]['realVariables'];Object['assign'](_0x2b0185,_0x2b30ba),_0x42f411[_0x5a1d25(0x595)][_0x5a1d25(0x5d5)]=_0x2b0185,this[_0x5a1d25(0x186)](_0x42f411,_0x1051ca,_0x4b62a0);}else{let _0x585882={'error':!0x0};this[_0x5a1d25(0x186)](_0x42f411,_0x1051ca,_0x585882),this[_0x5a1d25(0x4c0)][_0x5a1d25(0x57d)](this[_0x5a1d25(0x5a5)]+'\x20('+this['instance'][_0x5a1d25(0x6c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.');}}catch(_0x35c379){let _0x36f003={'error':!0x0,'errorLog':_0x35c379[_0x5a1d25(0x56e)]()};this[_0x5a1d25(0x186)](_0x42f411,_0x1051ca,_0x36f003),this[_0x5a1d25(0x4c0)][_0x5a1d25(0x57d)](this['instanceName']+'\x20('+this[_0x5a1d25(0x144)][_0x5a1d25(0x6c3)]+_0x5a1d25(0x45f)+(_0x35c379 instanceof Error?_0x35c379[_0x5a1d25(0x3df)]:JSON[_0x5a1d25(0x126)](_0x35c379,null,0x2)));}}async[a0_0x187b1e(0x1f4)](_0x2eda33,_0x556270){const _0x4cfbab=a0_0x187b1e;let _0x10ec0a=_0x2eda33['remoteJid'];_0x556270[_0x4cfbab(0x257)][_0x4cfbab(0x580)]&&_0x556270['uazapi'][_0x4cfbab(0x580)][_0x4cfbab(0x689)]()!==''&&(_0x10ec0a=_0x556270['uazapi'][_0x4cfbab(0x580)]['trim']()),this[_0x4cfbab(0x4c0)][_0x4cfbab(0x4e0)](this[_0x4cfbab(0x5a5)]+'\x20('+this[_0x4cfbab(0x144)]['wuid']+_0x4cfbab(0x624));let _0xb8a9e0={'number':_0x10ec0a,'options':{'delay':_0x556270[_0x4cfbab(0x257)]['delay']},'audioMessage':{'audio':_0x556270[_0x4cfbab(0x257)][_0x4cfbab(0x6d6)]}};try{let _0x2b0d35=await this[_0x4cfbab(0x6da)](_0xb8a9e0);if(_0x2b0d35){let _0xb883a2={'_id':_0x2b0d35[_0x4cfbab(0xfe)]['id'],'_fromMe':_0x2b0d35[_0x4cfbab(0xfe)][_0x4cfbab(0x635)],'_remoteJid':_0x2b0d35[_0x4cfbab(0xfe)][_0x4cfbab(0x580)]},_0x436751=(0x0,f['normalizeMessageContent'])(_0x2b0d35[_0x4cfbab(0x3df)]),_0x3ec1fb=(0x0,f[_0x4cfbab(0xac)])(_0x436751);_0x2eda33[_0x4cfbab(0x595)][_0x4cfbab(0x5d6)]=_0x556270[_0x4cfbab(0xf5)][_0x4cfbab(0x56e)]();let {message_normalized:_0x40371f}=this[_0x4cfbab(0x2d5)](_0x436751,_0x3ec1fb,null);_0x2eda33[_0x4cfbab(0x595)]['lastSendMessage']=await _0x40371f;let _0x512359={'messageId':_0x2b0d35['key']['id']},_0x5d00d1=_0x2eda33['chatLog'][_0x4cfbab(0x5d5)];Object[_0x4cfbab(0x5af)](_0x5d00d1,_0xb883a2),_0x2eda33[_0x4cfbab(0x595)][_0x4cfbab(0x5d5)]=_0x5d00d1,this[_0x4cfbab(0x186)](_0x2eda33,_0x556270,_0x512359);}else{let _0x4ebc3d={'error':!0x0};this[_0x4cfbab(0x186)](_0x2eda33,_0x556270,_0x4ebc3d),this[_0x4cfbab(0x4c0)][_0x4cfbab(0x57d)](this[_0x4cfbab(0x5a5)]+'\x20('+this[_0x4cfbab(0x144)][_0x4cfbab(0x6c3)]+_0x4cfbab(0x2e6));}}catch(_0x468fcb){let _0xd2a260={'error':!0x0,'errorLog':_0x468fcb[_0x4cfbab(0x56e)]()};this[_0x4cfbab(0x186)](_0x2eda33,_0x556270,_0xd2a260),this['logger'][_0x4cfbab(0x57d)](this[_0x4cfbab(0x5a5)]+'\x20('+this[_0x4cfbab(0x144)]['wuid']+_0x4cfbab(0x754)+(_0x468fcb instanceof Error?_0x468fcb[_0x4cfbab(0x3df)]:JSON[_0x4cfbab(0x126)](_0x468fcb,null,0x2)));}}async[a0_0x187b1e(0x71e)](_0x24ef08,_0x2cc607){const _0x403d25=a0_0x187b1e;let _0x31923a=_0x24ef08[_0x403d25(0x580)];_0x2cc607[_0x403d25(0x257)][_0x403d25(0x580)]&&_0x2cc607[_0x403d25(0x257)]['remoteJid'][_0x403d25(0x689)]()!==''&&(_0x31923a=_0x2cc607[_0x403d25(0x257)]['remoteJid'][_0x403d25(0x689)]()),this[_0x403d25(0x4c0)][_0x403d25(0x4e0)](this['instanceName']+'\x20('+this[_0x403d25(0x144)]['wuid']+'):\x20Enviando\x20contato');let _0x5c1080={'number':_0x31923a,'options':{'delay':_0x2cc607[_0x403d25(0x257)][_0x403d25(0x185)]},'contactMessage':[{'fullName':_0x2cc607[_0x403d25(0x257)][_0x403d25(0x315)],'phoneNumber':_0x2cc607[_0x403d25(0x257)][_0x403d25(0x487)]}]};try{let _0x359802=await this[_0x403d25(0x3af)](_0x5c1080);if(_0x359802){let _0x424fa0={'_id':_0x359802[_0x403d25(0xfe)]['id'],'_fromMe':_0x359802[_0x403d25(0xfe)][_0x403d25(0x635)],'_remoteJid':_0x359802[_0x403d25(0xfe)][_0x403d25(0x580)]},_0x1bf501=(0x0,f['normalizeMessageContent'])(_0x359802[_0x403d25(0x3df)]),_0x4b05ca=(0x0,f[_0x403d25(0xac)])(_0x1bf501);_0x24ef08[_0x403d25(0x595)][_0x403d25(0x5d6)]=_0x2cc607[_0x403d25(0xf5)]['toString']();let {message_normalized:_0x15f43c}=this[_0x403d25(0x2d5)](_0x1bf501,_0x4b05ca,null);_0x24ef08[_0x403d25(0x595)][_0x403d25(0x2e8)]=await _0x15f43c;let _0x4861d7={'messageId':_0x359802[_0x403d25(0xfe)]['id']},_0x4f9f54=_0x24ef08[_0x403d25(0x595)][_0x403d25(0x5d5)];Object[_0x403d25(0x5af)](_0x4f9f54,_0x424fa0),_0x24ef08[_0x403d25(0x595)][_0x403d25(0x5d5)]=_0x4f9f54,this[_0x403d25(0x186)](_0x24ef08,_0x2cc607,_0x4861d7);}else{let _0x4cbb3a={'error':!0x0};this[_0x403d25(0x186)](_0x24ef08,_0x2cc607,_0x4cbb3a),this[_0x403d25(0x4c0)][_0x403d25(0x57d)](this[_0x403d25(0x5a5)]+'\x20('+this['instance'][_0x403d25(0x6c3)]+_0x403d25(0x694));}}catch(_0x51dd29){let _0x1d9f58={'error':!0x0,'errorLog':_0x51dd29[_0x403d25(0x56e)]()};this[_0x403d25(0x186)](_0x24ef08,_0x2cc607,_0x1d9f58),this[_0x403d25(0x4c0)][_0x403d25(0x57d)](this[_0x403d25(0x5a5)]+'\x20('+this[_0x403d25(0x144)][_0x403d25(0x6c3)]+_0x403d25(0x220)+(_0x51dd29 instanceof Error?_0x51dd29[_0x403d25(0x3df)]:JSON[_0x403d25(0x126)](_0x51dd29,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x512dd6,_0x2408f9){const _0x23f951=a0_0x187b1e;for(let _0x1e5d6e of _0x512dd6)_0x1e5d6e[_0x23f951(0x38b)]&&(_0x1e5d6e[_0x23f951(0x38b)]=this[_0x23f951(0x702)](_0x1e5d6e[_0x23f951(0x38b)],_0x2408f9)),_0x1e5d6e['optionDescription']&&(_0x1e5d6e[_0x23f951(0x2c6)]=this[_0x23f951(0x702)](_0x1e5d6e[_0x23f951(0x2c6)],_0x2408f9));}async['uazapiSendMenu'](_0x5eb8c2,_0xb0fbfc){const _0x75c9ed=a0_0x187b1e;let _0x5a0326=_0x5eb8c2[_0x75c9ed(0x580)];_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x580)]&&_0xb0fbfc['uazapi'][_0x75c9ed(0x580)]['trim']()!==''&&(_0x5a0326=_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x580)][_0x75c9ed(0x689)]()),this[_0x75c9ed(0x4c0)][_0x75c9ed(0x4e0)](this[_0x75c9ed(0x5a5)]+'\x20('+this[_0x75c9ed(0x144)]['wuid']+'):\x20Enviando\x20enquete');let _0x334abb=_0x5eb8c2[_0x75c9ed(0x5dd)][_0x75c9ed(0x348)](_0x265d95=>_0x265d95['blockId']===_0xb0fbfc[_0x75c9ed(0xf5)])[_0x75c9ed(0x32e)]((_0x17f8da,_0x4daf5c)=>_0x17f8da[_0x75c9ed(0x736)]-_0x4daf5c[_0x75c9ed(0x736)]);this[_0x75c9ed(0x60f)](_0x334abb,_0x5eb8c2[_0x75c9ed(0x595)][_0x75c9ed(0x5d5)]);let _0xb64f4c=_0x334abb[_0x75c9ed(0x687)](_0x16533a=>_0x16533a[_0x75c9ed(0x38b)]),_0x15bbe4={'number':_0x5a0326,'menuMessage':{'type':_0xb0fbfc[_0x75c9ed(0x257)]['menuType']||_0x75c9ed(0x4eb),'text':_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x54d)]||_0xb0fbfc['uazapi']['name'],'footerText':_0xb0fbfc['uazapi'][_0x75c9ed(0x3d8)],'buttonText':_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x734)],'selectableCount':0x1,'choices':_0xb64f4c},'options':{'delay':_0xb0fbfc[_0x75c9ed(0x257)]['delay']}};try{let _0x38fb0d=await this[_0x75c9ed(0x2ce)](_0x15bbe4);if(_0x38fb0d){let _0x56b93a={'_id':_0x38fb0d[_0x75c9ed(0xfe)]['id'],'_fromMe':_0x38fb0d['key']['fromMe'],'_remoteJid':_0x38fb0d[_0x75c9ed(0xfe)][_0x75c9ed(0x580)]};_0xb0fbfc['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x5eb8c2[_0x75c9ed(0x391)]=_0x75c9ed(0x1c3),this[_0x75c9ed(0x4c0)]['verbose'](this[_0x75c9ed(0x5a5)]+'\x20('+this[_0x75c9ed(0x144)]['wuid']+_0x75c9ed(0x27c)+_0x5eb8c2[_0x75c9ed(0x391)])),this[_0x75c9ed(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x75c9ed(0x144)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x19a)]||_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x54d)])),_0x5eb8c2['waitingMenu_id']=_0x38fb0d['key']['id'],_0x5eb8c2[_0x75c9ed(0x632)]=_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x19a)]||_0xb0fbfc['uazapi'][_0x75c9ed(0x54d)],_0x5eb8c2[_0x75c9ed(0x46b)]=_0x334abb,_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x369)]&&(_0x5eb8c2[_0x75c9ed(0x52e)]=_0xb0fbfc[_0x75c9ed(0x257)][_0x75c9ed(0x369)]),this[_0x75c9ed(0x4c0)][_0x75c9ed(0x4e0)](this[_0x75c9ed(0x5a5)]+'\x20('+this['instance'][_0x75c9ed(0x6c3)]+_0x75c9ed(0x2b2)+_0x5eb8c2[_0x75c9ed(0x632)]);let _0x74a3da=(0x0,f['normalizeMessageContent'])(_0x38fb0d[_0x75c9ed(0x3df)]),_0x3adc35=(0x0,f[_0x75c9ed(0xac)])(_0x74a3da);_0x5eb8c2['chatLog'][_0x75c9ed(0x5d6)]=_0xb0fbfc['_id'][_0x75c9ed(0x56e)]();let {message_normalized:_0x30a4d6}=this[_0x75c9ed(0x2d5)](_0x74a3da,_0x3adc35,null);_0x5eb8c2[_0x75c9ed(0x595)][_0x75c9ed(0x2e8)]=await _0x30a4d6;let _0x490400={'messageId':_0x38fb0d['key']['id']},_0x303ad9=_0x5eb8c2['chatLog'][_0x75c9ed(0x5d5)];Object['assign'](_0x303ad9,_0x56b93a),_0x5eb8c2[_0x75c9ed(0x595)][_0x75c9ed(0x5d5)]=_0x303ad9,this[_0x75c9ed(0x186)](_0x5eb8c2,_0xb0fbfc,_0x490400);}else{let _0x214f7a={'error':!0x0};this[_0x75c9ed(0x186)](_0x5eb8c2,_0xb0fbfc,_0x214f7a),this['logger'][_0x75c9ed(0x57d)](this[_0x75c9ed(0x5a5)]+'\x20('+this[_0x75c9ed(0x144)][_0x75c9ed(0x6c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x2b4bda){let _0x582d53={'error':!0x0,'errorLog':_0x2b4bda instanceof Error?_0x2b4bda[_0x75c9ed(0x3df)]:JSON[_0x75c9ed(0x126)](_0x2b4bda,null,0x2)};this[_0x75c9ed(0x186)](_0x5eb8c2,_0xb0fbfc,_0x582d53),this[_0x75c9ed(0x4c0)][_0x75c9ed(0x57d)](this[_0x75c9ed(0x5a5)]+'\x20('+this[_0x75c9ed(0x144)][_0x75c9ed(0x6c3)]+_0x75c9ed(0xf9)+(_0x2b4bda instanceof Error?_0x2b4bda[_0x75c9ed(0x3df)]:JSON[_0x75c9ed(0x126)](_0x2b4bda,null,0x2)));}}async[a0_0x187b1e(0xf0)](_0x36b0c6,_0x382964){const _0x506500=a0_0x187b1e;this[_0x506500(0x4c0)][_0x506500(0x4e0)](this[_0x506500(0x5a5)]+'\x20('+this[_0x506500(0x144)]['wuid']+_0x506500(0x498));let _0x50805e=_0x36b0c6['chatLog'][_0x506500(0x431)]['find'](_0x1f9764=>_0x1f9764['blockId'][_0x506500(0x56e)]()===_0x382964['uazapi']['blockId'][_0x506500(0x56e)]()),_0x5cfdfa={'id':_0x50805e['messageId'],'remoteJid':_0x50805e[_0x506500(0x580)],'fromMe':_0x50805e['fromMe']};try{let _0x4f411d=await this[_0x506500(0x1cc)](_0x5cfdfa);if(_0x4f411d){let _0x239ba5=(0x0,f[_0x506500(0x610)])(_0x4f411d[_0x506500(0x3df)]),_0x639c7b=(0x0,f[_0x506500(0xac)])(_0x239ba5);_0x36b0c6[_0x506500(0x595)][_0x506500(0x5d6)]=_0x382964[_0x506500(0xf5)][_0x506500(0x56e)]();let {message_normalized:_0x1a1875}=this[_0x506500(0x2d5)](_0x239ba5,_0x639c7b,null);_0x36b0c6[_0x506500(0x595)][_0x506500(0x2e8)]=await _0x1a1875;let _0x2768fa={};this['updateConversation'](_0x36b0c6,_0x382964,_0x2768fa);}else{let _0xd24e21={'error':!0x0};this[_0x506500(0x186)](_0x36b0c6,_0x382964,_0xd24e21),this[_0x506500(0x4c0)][_0x506500(0x57d)](this['instanceName']+'\x20('+this[_0x506500(0x144)][_0x506500(0x6c3)]+_0x506500(0x2f7));}}catch(_0x31c803){let _0x27bd91={'error':!0x0,'errorLog':_0x31c803 instanceof Error?_0x31c803['message']:JSON[_0x506500(0x126)](_0x31c803,null,0x2)};this['updateConversation'](_0x36b0c6,_0x382964,_0x27bd91),this['logger'][_0x506500(0x57d)](this['instanceName']+'\x20('+this[_0x506500(0x144)][_0x506500(0x6c3)]+_0x506500(0x673)+(_0x31c803 instanceof Error?_0x31c803['message']:JSON['stringify'](_0x31c803,null,0x2)));}}async[a0_0x187b1e(0x690)](_0x28eb0f,_0x36a1da){const _0x47c5c9=a0_0x187b1e;if(!_0x28eb0f[_0x47c5c9(0x19a)])throw new m(_0x47c5c9(0x66b));let _0x3bac2d=_0x28eb0f?.[_0x47c5c9(0x418)]?.[_0x47c5c9(0x689)]()===_0x47c5c9(0x410)?_0x47c5c9(0x418):this['instance']['wuid'],_0x389314=await this['repository'][_0x47c5c9(0x70a)][_0x47c5c9(0x525)]({'where':{'name':_0x28eb0f[_0x47c5c9(0x19a)]}},_0x3bac2d);if(_0x36a1da!==ee&&_0x28eb0f?.[_0x47c5c9(0x418)]===_0x47c5c9(0x410))throw new m(_0x47c5c9(0x3c3));if(_0x28eb0f?.[_0x47c5c9(0x418)]!==_0x47c5c9(0x410)&&(_0x28eb0f[_0x47c5c9(0x418)]=_0x47c5c9(0x506)),_0x389314)throw new m('J\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x47c5c9(0x19a)in _0x28eb0f&&_0x47c5c9(0x643)in _0x28eb0f&&_0x47c5c9(0xdd)in _0x28eb0f?this['createSharedFlow'](_0x28eb0f[_0x47c5c9(0xdd)],_0x28eb0f[_0x47c5c9(0x643)],_0x28eb0f['name']):this[_0x47c5c9(0x604)](_0x28eb0f);}async['createSharedFlow'](_0x27b393,_0x43725c,_0x174dc6){const _0x5e02da=a0_0x187b1e;try{this[_0x5e02da(0x4c0)]['verbose'](this[_0x5e02da(0x5a5)]+'\x20('+this['instance'][_0x5e02da(0x6c3)]+_0x5e02da(0x324));let _0x59672b=await this[_0x5e02da(0x2ed)][_0x5e02da(0x70a)][_0x5e02da(0x525)]({'where':{'sharePass':_0x43725c}},_0x27b393);if(!_0x59672b)throw new m(_0x5e02da(0x6dc));let _0x53019c={..._0x59672b};_0x53019c['owner']=this[_0x5e02da(0x144)][_0x5e02da(0x6c3)];let _0x567d23=_0x59672b['global']===_0x5e02da(0x410)?_0x5e02da(0x418):_0x59672b[_0x5e02da(0xdd)];return(_0x27b393==='global'||_0x59672b['global']===_0x5e02da(0x410))&&(_0x53019c[_0x5e02da(0x418)]=_0x5e02da(0x3da),_0x53019c[_0x5e02da(0xdd)]=_0x5e02da(0x418)),_0x53019c['shareOwners']=Array[_0x5e02da(0x4d0)](new Set([..._0x59672b[_0x5e02da(0x8c)]||[],_0x567d23,this[_0x5e02da(0x144)][_0x5e02da(0x6c3)]])),_0x59672b['shareOwners']=_0x53019c[_0x5e02da(0x8c)],await this[_0x5e02da(0x2ed)][_0x5e02da(0x70a)][_0x5e02da(0x190)](_0x59672b['_id'],{'shareOwners':_0x59672b[_0x5e02da(0x8c)]},_0x567d23),_0x59672b[_0x5e02da(0x605)]===!0x0&&await this['repository'][_0x5e02da(0x70a)][_0x5e02da(0x5cb)]({},{'default':!0x1},this[_0x5e02da(0x144)][_0x5e02da(0x6c3)]),await this[_0x5e02da(0x2ed)]['flow']['createAndSave'](_0x53019c,this[_0x5e02da(0x144)][_0x5e02da(0x6c3)]);}catch(_0x55bc47){let _0x2b5f2b='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x1c9fac=_0x55bc47 instanceof Error?_0x55bc47[_0x5e02da(0x3df)]:typeof _0x55bc47==_0x5e02da(0x5ad)?JSON[_0x5e02da(0x126)](_0x55bc47):_0x55bc47,_0x4eee14=_0x2b5f2b+':\x20'+_0x1c9fac;throw this[_0x5e02da(0x4c0)][_0x5e02da(0x57d)](this[_0x5e02da(0x5a5)]+'\x20('+this[_0x5e02da(0x144)][_0x5e02da(0x6c3)]+_0x5e02da(0x468)+_0x4eee14),new m(_0x4eee14);}}async[a0_0x187b1e(0x604)](_0x36d28a){const _0x530077=a0_0x187b1e;try{this['logger']['verbose'](this[_0x530077(0x5a5)]+'\x20('+this[_0x530077(0x144)][_0x530077(0x6c3)]+_0x530077(0x187));let _0x5a6df3=_0x36d28a?.['global']===_0x530077(0x410)?_0x530077(0x418):this[_0x530077(0x144)][_0x530077(0x6c3)];delete _0x36d28a[_0x530077(0x8c)],delete _0x36d28a[_0x530077(0x643)],delete _0x36d28a[_0x530077(0xdd)],_0x36d28a[_0x530077(0x605)]===!0x0&&await this['repository'][_0x530077(0x70a)]['updateMany']({},{'default':!0x1},this['instance']['wuid']);let _0x49f4f3=new re[(_0x530077(0x204))][(_0x530077(0x3f6))](),_0x5100da={'_id':_0x49f4f3,'default':!0x0,'title':_0x530077(0x524),'x':0x0,'y':0x0},_0x23a700={'_id':new re[(_0x530077(0x204))][(_0x530077(0x3f6))](),'order':0x1,'groupId':_0x49f4f3['toString'](),'type':_0x530077(0x3dc)},_0x6fb56d={'_id':new re[(_0x530077(0x204))]['ObjectId'](),'owner':this['instance'][_0x530077(0x6c3)],'name':_0x36d28a[_0x530077(0x19a)],'groups':[_0x5100da],'blocks':[_0x23a700],..._0x36d28a};return await this[_0x530077(0x2ed)][_0x530077(0x70a)]['createAndSave'](_0x6fb56d,_0x5a6df3);}catch(_0x4293a6){let _0x4b1568=_0x530077(0x51e),_0x184a02=_0x4293a6 instanceof Error?_0x4293a6[_0x530077(0x3df)]:typeof _0x4293a6==_0x530077(0x5ad)?JSON[_0x530077(0x126)](_0x4293a6):_0x4293a6,_0x3ceddc=_0x4b1568+':\x20'+_0x184a02;throw this['logger'][_0x530077(0x57d)](this['instanceName']+'\x20('+this[_0x530077(0x144)][_0x530077(0x6c3)]+_0x530077(0x468)+_0x3ceddc),new m(_0x3ceddc);}}async[a0_0x187b1e(0x450)](_0x18cf9e,_0x5d680c){const _0x273ca6=a0_0x187b1e;this['logger']['info'](_0x273ca6(0x475));try{let _0x273075=await this[_0x273ca6(0x2ed)][_0x273ca6(0x70a)][_0x273ca6(0x525)]({'where':{'_id':_0x18cf9e}},_0x5d680c);if(delete _0x273075[_0x273ca6(0x605)],delete _0x273075['startCommandWord'],delete _0x273075[_0x273ca6(0x67d)],delete _0x273075[_0x273ca6(0x17a)],delete _0x273075['readMessages'],_0x273075[_0x273ca6(0x418)]===_0x273ca6(0x410)&&(_0x273075[_0x273ca6(0x418)]=_0x273ca6(0x3da)),_0x273075&&_0x273075[_0x273ca6(0x8c)]){for(let _0x1b8632 of _0x273075[_0x273ca6(0x8c)])if(_0x1b8632!==_0x5d680c){let _0x3c3983={..._0x273075,'owner':_0x1b8632};await this[_0x273ca6(0x2ed)][_0x273ca6(0x70a)][_0x273ca6(0x2f6)](_0x273075[_0x273ca6(0xf5)],_0x3c3983,_0x1b8632);}}}catch(_0xc10b59){this['logger'][_0x273ca6(0x57d)](_0x273ca6(0x138)+_0xc10b59);}}async[a0_0x187b1e(0x1df)](_0x5673ab,_0x1d319,_0x40c55a){const _0x2b1c97=a0_0x187b1e;try{this[_0x2b1c97(0x4c0)][_0x2b1c97(0x4e0)](this['instanceName']+'\x20('+this[_0x2b1c97(0x144)]['wuid']+_0x2b1c97(0x722));let _0x4cb767=_0x40c55a[_0x2b1c97(0x689)]()===_0x2b1c97(0x410)?_0x2b1c97(0x418):this[_0x2b1c97(0x144)]['wuid'],_0x258728=await this[_0x2b1c97(0x2ed)][_0x2b1c97(0x70a)][_0x2b1c97(0x525)]({'where':{'name':_0x5673ab}},_0x4cb767);if(!_0x258728)throw new m(_0x2b1c97(0x32c));if(_0x1d319!==ee&&_0x258728?.[_0x2b1c97(0x418)]===_0x2b1c97(0x410)&&_0x258728?.[_0x2b1c97(0xdd)]!==this[_0x2b1c97(0x144)][_0x2b1c97(0x6c3)])throw new m(_0x2b1c97(0x6aa));if(_0x258728&&_0x258728[_0x2b1c97(0x8c)]&&_0x258728[_0x2b1c97(0x8c)]['length']>0x1){for(let _0x2b624a of _0x258728[_0x2b1c97(0x8c)])if(_0x2b624a!==this['instance'][_0x2b1c97(0x6c3)]){let _0x269840=await this[_0x2b1c97(0x2ed)][_0x2b1c97(0x70a)][_0x2b1c97(0x525)]({'where':{'sharePass':_0x258728[_0x2b1c97(0x643)]}},_0x2b624a);_0x269840&&(_0x269840[_0x2b1c97(0x8c)]=_0x269840[_0x2b1c97(0x8c)]['filter'](_0x1d79f8=>_0x1d79f8!==_0x258728[_0x2b1c97(0xdd)]),await this[_0x2b1c97(0x2ed)][_0x2b1c97(0x70a)]['updateOne'](_0x269840[_0x2b1c97(0xf5)],{'shareOwners':_0x269840['shareOwners'],'global':_0x2b1c97(0x506)},_0x2b624a));}}return await this[_0x2b1c97(0x2ed)][_0x2b1c97(0x70a)]['deleteOne']({'where':{'name':_0x5673ab}},_0x4cb767);}catch(_0x10f22e){return this[_0x2b1c97(0x4c0)]['error'](this[_0x2b1c97(0x5a5)]+'\x20('+this[_0x2b1c97(0x144)][_0x2b1c97(0x6c3)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x10f22e instanceof Error?_0x10f22e['message']:JSON[_0x2b1c97(0x126)](_0x10f22e,null,0x2))),{'message':_0x2b1c97(0x3ed)+_0x10f22e['message']};}}async['getFlow'](_0x128cc1,_0x297ef0){const _0x2d7fa2=a0_0x187b1e;try{this[_0x2d7fa2(0x4c0)][_0x2d7fa2(0x4e0)](this[_0x2d7fa2(0x5a5)]+'\x20('+this['instance'][_0x2d7fa2(0x6c3)]+'):\x20Buscando\x20flow...');let _0x4cb3a5=_0x297ef0?.[_0x2d7fa2(0x689)]()===_0x2d7fa2(0x410)?_0x2d7fa2(0x418):this[_0x2d7fa2(0x144)]['wuid'],_0x469cf0=await this[_0x2d7fa2(0x2ed)][_0x2d7fa2(0x70a)]['findOne']({'where':{'name':_0x128cc1}},_0x4cb3a5);if(!_0x469cf0)throw new Error(_0x2d7fa2(0x83));if(!this['AutomateSystem']&&(await this[_0x2d7fa2(0x1a3)](),!this[_0x2d7fa2(0x599)]))return null;let _0x21bcb3=this[_0x2d7fa2(0x599)]?.[_0x2d7fa2(0x115)][_0x2d7fa2(0x687)](_0xa34ace=>_0xa34ace[_0x2d7fa2(0x19a)]),_0x8e09e0=[_0x2d7fa2(0x5b0),_0x2d7fa2(0x709),_0x2d7fa2(0x571),'cpf',_0x2d7fa2(0x391),'notas',_0x2d7fa2(0x22d),_0x2d7fa2(0x233),'etiquetas'];_0x469cf0[_0x2d7fa2(0x58d)]=_0x469cf0[_0x2d7fa2(0x58d)][_0x2d7fa2(0x348)](_0x4a8dd6=>!(_0x4a8dd6[_0x2d7fa2(0xd4)]==='leadInfo'||_0x4a8dd6[_0x2d7fa2(0x2ad)])),_0x8e09e0[_0x2d7fa2(0x4d6)](_0x4c1ba4=>{const _0x1fbea5=_0x2d7fa2;_0x469cf0[_0x1fbea5(0x58d)]['push']({'folder':_0x1fbea5(0x2ad),'name':_0x4c1ba4,'value':'','doc':'','leadInfo':!0x0});}),_0x21bcb3['forEach'](_0x318aae=>{const _0x2a9193=_0x2d7fa2;let _0x220d7b=_0x469cf0[_0x2a9193(0x58d)][_0x2a9193(0x314)](_0x5291b7=>_0x5291b7['name']===_0x318aae);_0x220d7b===-0x1?_0x469cf0[_0x2a9193(0x58d)]['push']({'folder':_0x2a9193(0x2ad),'name':_0x318aae,'value':'','doc':'','leadInfo':!0x0}):(_0x469cf0[_0x2a9193(0x58d)][_0x220d7b][_0x2a9193(0xd4)]=_0x2a9193(0x2ad),_0x469cf0['variables'][_0x220d7b][_0x2a9193(0x2ad)]=!0x0);}),_0x469cf0[_0x2d7fa2(0x5d7)]&&_0x469cf0[_0x2d7fa2(0x5d7)]['length']>0x0&&_0x469cf0[_0x2d7fa2(0x5d7)]['forEach'](_0x3b1a73=>{const _0x3c84a3=_0x2d7fa2;_0x3b1a73[_0x3c84a3(0x27a)]&&_0x3b1a73[_0x3c84a3(0x3ac)]&&_0x3b1a73['groupId']===_0x3b1a73[_0x3c84a3(0x3ac)]&&(_0x3b1a73[_0x3c84a3(0x3ac)]=null);});let _0x1f4b54=await this[_0x2d7fa2(0x2ed)][_0x2d7fa2(0x70a)]['updateOne'](_0x469cf0[_0x2d7fa2(0xf5)],_0x469cf0,_0x4cb3a5);if(!_0x1f4b54)throw new Error(_0x2d7fa2(0x703));return _0x1f4b54;}catch(_0x15f60d){let _0x4dba81='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x5c5a56=_0x15f60d instanceof Error?_0x15f60d[_0x2d7fa2(0x3df)]:typeof _0x15f60d==_0x2d7fa2(0x5ad)?JSON[_0x2d7fa2(0x126)](_0x15f60d):_0x15f60d,_0x42d8d0=_0x4dba81+':\x20'+_0x5c5a56;throw this[_0x2d7fa2(0x4c0)][_0x2d7fa2(0x57d)](this[_0x2d7fa2(0x5a5)]+'\x20('+this[_0x2d7fa2(0x144)][_0x2d7fa2(0x6c3)]+_0x2d7fa2(0x468)+_0x42d8d0),new m(_0x42d8d0);}}async[a0_0x187b1e(0x47b)](){const _0xaa5a59=a0_0x187b1e;try{this[_0xaa5a59(0x4c0)]['verbose'](this[_0xaa5a59(0x5a5)]+'\x20('+this['instance'][_0xaa5a59(0x6c3)]+_0xaa5a59(0x394)),await this['repository']['flow'][_0xaa5a59(0x166)](this[_0xaa5a59(0x144)][_0xaa5a59(0x6c3)]);let _0x2385c0=await this['repository'][_0xaa5a59(0x70a)]['findAll']({'where':{}},this[_0xaa5a59(0x144)][_0xaa5a59(0x6c3)]),_0x7b4cac=await this[_0xaa5a59(0x2ed)]['flow'][_0xaa5a59(0x6b2)]({'where':{}},'global');return _0x2385c0[_0xaa5a59(0x575)](_0x7b4cac);}catch(_0x2bbaa0){return this[_0xaa5a59(0x4c0)][_0xaa5a59(0x57d)](this[_0xaa5a59(0x5a5)]+'\x20('+this[_0xaa5a59(0x144)]['wuid']+_0xaa5a59(0x45d)+(_0x2bbaa0 instanceof Error?_0x2bbaa0[_0xaa5a59(0x3df)]:JSON[_0xaa5a59(0x126)](_0x2bbaa0,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x2bbaa0[_0xaa5a59(0x3df)]};}}async['editFlow'](_0x34ec85,_0x5b8cf7){const _0x4e2892=a0_0x187b1e;try{this[_0x4e2892(0x4c0)][_0x4e2892(0x4e0)](this['instanceName']+'\x20('+this[_0x4e2892(0x144)][_0x4e2892(0x6c3)]+_0x4e2892(0x236));let _0xf76d27=_0x34ec85?.[_0x4e2892(0x418)]?.[_0x4e2892(0x689)]()===_0x4e2892(0x410)?'global':this[_0x4e2892(0x144)][_0x4e2892(0x6c3)],_0x338b1d=await this[_0x4e2892(0x2ed)][_0x4e2892(0x70a)]['findOne']({'where':{'name':_0x34ec85[_0x4e2892(0x19a)]}},_0xf76d27);if(!_0x338b1d)return{'message':'Fluxo\x20no\x20encontrado'};if(_0x5b8cf7!==ee&&_0x338b1d?.[_0x4e2892(0x418)]==='true'&&_0x338b1d?.[_0x4e2892(0xdd)]!==this[_0x4e2892(0x144)]['wuid'])throw new m(_0x4e2892(0x28d));_0x338b1d?.[_0x4e2892(0x418)]==='sync'&&(_0x34ec85={'default':_0x34ec85[_0x4e2892(0x605)],'minutesToClose':_0x34ec85['minutesToClose'],'readMessages':_0x34ec85[_0x4e2892(0x557)],'testingWith':_0x34ec85[_0x4e2892(0x67d)],'startCommandWord':_0x34ec85[_0x4e2892(0x39e)]}),_0x34ec85[_0x4e2892(0x605)]===!0x0&&_0x338b1d?.[_0x4e2892(0x418)]!=='true'&&await this[_0x4e2892(0x2ed)]['flow'][_0x4e2892(0x5cb)]({},{'default':!0x1},_0xf76d27),delete _0x34ec85['shareOwners'],delete _0x34ec85[_0x4e2892(0x643)],delete _0x34ec85['global'];let _0x3d4fbd=await this[_0x4e2892(0x2ed)]['flow']['updateOne'](_0x338b1d['_id'],_0x34ec85,_0xf76d27);return _0x3d4fbd&&_0x3d4fbd[_0x4e2892(0x8c)]&&_0x3d4fbd[_0x4e2892(0x8c)][_0x4e2892(0x6ab)]>0x1&&_0x3d4fbd['global']!==_0x4e2892(0x3da)&&this[_0x4e2892(0x450)](_0x3d4fbd['_id'],_0xf76d27),_0x3d4fbd;}catch(_0x128e06){let _0x39e544=_0x4e2892(0xfd),_0x3a4ec0=_0x128e06 instanceof Error?_0x128e06[_0x4e2892(0x3df)]:typeof _0x128e06==_0x4e2892(0x5ad)?JSON['stringify'](_0x128e06):_0x128e06,_0x318502=_0x39e544+':\x20'+_0x3a4ec0;throw this['logger'][_0x4e2892(0x57d)](this[_0x4e2892(0x5a5)]+'\x20('+this[_0x4e2892(0x144)]['wuid']+'):\x20'+_0x318502),new m(_0x318502);}}async[a0_0x187b1e(0x4e8)](_0x46e741,_0x4a716e){const _0x4b5516=a0_0x187b1e;try{this[_0x4b5516(0x4c0)][_0x4b5516(0x4e0)](this[_0x4b5516(0x5a5)]+'\x20('+this[_0x4b5516(0x144)][_0x4b5516(0x6c3)]+_0x4b5516(0x54f));let _0x5dd937=_0x46e741?.[_0x4b5516(0x418)]?.[_0x4b5516(0x689)]()===_0x4b5516(0x410)?_0x4b5516(0x418):this[_0x4b5516(0x144)][_0x4b5516(0x6c3)],_0x560adc=await this['repository'][_0x4b5516(0x70a)]['findOne']({'where':{'name':_0x46e741['name']}},_0x5dd937);if(_0x560adc||this['throwAndLogError']('Flow\x20no\x20encontrado'),_0x560adc?.[_0x4b5516(0x418)]===_0x4b5516(0x3da))throw new m(_0x4b5516(0x3f7));if(_0x4a716e!==ee&&_0x560adc?.[_0x4b5516(0x418)]===_0x4b5516(0x410)&&_0x560adc?.['owner']!==this[_0x4b5516(0x144)][_0x4b5516(0x6c3)])throw new m(_0x4b5516(0x28d));let {block:_0x146234}=_0x46e741;_0x146234?.[_0x4b5516(0x1d1)]?this[_0x4b5516(0x5b9)](_0x560adc,_0x46e741):_0x146234?.[_0x4b5516(0x6c5)]?this[_0x4b5516(0x41c)](_0x560adc,_0x46e741):_0x146234[_0x4b5516(0xf5)]?await this[_0x4b5516(0x34c)](_0x560adc,_0x46e741):this[_0x4b5516(0x424)](_0x560adc,_0x46e741);let _0x3a15ca=await this[_0x4b5516(0x2ed)][_0x4b5516(0x70a)][_0x4b5516(0x190)](_0x560adc[_0x4b5516(0xf5)],_0x560adc,_0x5dd937);if(_0x3a15ca&&_0x3a15ca[_0x4b5516(0x8c)]&&_0x3a15ca[_0x4b5516(0x8c)]['length']>0x1&&this['synchronizeFlows'](_0x3a15ca[_0x4b5516(0xf5)],this['instance'][_0x4b5516(0x6c3)]),!_0x3a15ca)throw new Error(_0x4b5516(0x703));return _0x3a15ca;}catch(_0x425c0c){this[_0x4b5516(0x6b1)](_0x4b5516(0x73f)+_0x425c0c[_0x4b5516(0x3df)]);}}async[a0_0x187b1e(0x5b9)](_0x293438,_0x49b304){const _0xdf0da1=a0_0x187b1e;let _0x56cba8=_0x49b304[_0xdf0da1(0x495)][_0xdf0da1(0xf5)],_0x3bc0a7=_0x293438[_0xdf0da1(0x5d7)][_0xdf0da1(0x528)](_0x32527c=>_0x32527c[_0xdf0da1(0xf5)]['toString']()===_0x56cba8);if(!_0x3bc0a7){this[_0xdf0da1(0x4c0)][_0xdf0da1(0x57d)](this[_0xdf0da1(0x5a5)]+'\x20('+this['instance'][_0xdf0da1(0x6c3)]+_0xdf0da1(0x58e)+_0x56cba8+_0xdf0da1(0x6e0));return;}this[_0xdf0da1(0x4c0)][_0xdf0da1(0x4e0)](this[_0xdf0da1(0x5a5)]+'\x20('+this[_0xdf0da1(0x144)][_0xdf0da1(0x6c3)]+_0xdf0da1(0x30e)+JSON[_0xdf0da1(0x126)](_0x3bc0a7));let _0x31a7fb=JSON[_0xdf0da1(0x329)](JSON['stringify'](_0x3bc0a7));_0x31a7fb[_0xdf0da1(0xf5)]=new re[(_0xdf0da1(0x605))]['Types']['ObjectId'](),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xdf0da1(0x144)][_0xdf0da1(0x6c3)]+_0xdf0da1(0x444)+JSON[_0xdf0da1(0x126)](_0x31a7fb)),_0x293438[_0xdf0da1(0x5d7)]['push'](_0x31a7fb),this[_0xdf0da1(0x3ae)](_0x293438[_0xdf0da1(0x5d7)],_0x31a7fb['groupId']);}['throwAndLogError'](_0x529700){const _0x1ac323=a0_0x187b1e;throw this[_0x1ac323(0x4c0)]['error'](this[_0x1ac323(0x5a5)]+'\x20('+this[_0x1ac323(0x144)][_0x1ac323(0x6c3)]+_0x1ac323(0x468)+_0x529700),new m(_0x529700);}[a0_0x187b1e(0x41c)](_0x19b8cc,_0x507231){const _0x53c4ee=a0_0x187b1e;let {block:_0x4d2c2e}=_0x507231;if(_0x4d2c2e[_0x53c4ee(0x5d3)]===_0x53c4ee(0x3dc)){this[_0x53c4ee(0x6b1)]('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x4d2c2e[_0x53c4ee(0xf5)]){this[_0x53c4ee(0x6b1)](_0x53c4ee(0x5ee));return;}let _0x2305d7=_0x19b8cc[_0x53c4ee(0x5d7)][_0x53c4ee(0x528)](_0x1114be=>_0x1114be[_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]()===_0x507231[_0x53c4ee(0x495)][_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]());if(!_0x2305d7){this[_0x53c4ee(0x6b1)](_0x53c4ee(0x6d5)+_0x4d2c2e[_0x53c4ee(0xf5)]+'\x20no\x20encontrado');return;}_0x19b8cc[_0x53c4ee(0x5d7)]=_0x19b8cc[_0x53c4ee(0x5d7)]['filter'](_0xfec584=>_0xfec584[_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]()!==_0x507231[_0x53c4ee(0x495)][_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]()),_0x19b8cc['conditions']=_0x19b8cc[_0x53c4ee(0x458)][_0x53c4ee(0x348)](_0x208d30=>_0x208d30['blockId']!==_0x4d2c2e[_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]()),_0x19b8cc[_0x53c4ee(0x73e)]=_0x19b8cc[_0x53c4ee(0x73e)][_0x53c4ee(0x348)](_0x3d9ae3=>_0x3d9ae3[_0x53c4ee(0x63a)]!==_0x4d2c2e['_id'][_0x53c4ee(0x56e)]()),_0x19b8cc[_0x53c4ee(0x5dd)]=_0x19b8cc['replyOptions'][_0x53c4ee(0x348)](_0x582d38=>_0x582d38[_0x53c4ee(0x63a)]!==_0x4d2c2e[_0x53c4ee(0xf5)][_0x53c4ee(0x56e)]()),this['reorderBlocks'](_0x19b8cc[_0x53c4ee(0x5d7)],_0x2305d7[_0x53c4ee(0x27a)]);}async[a0_0x187b1e(0x34c)](_0x35690b,_0x58257c){const _0x5a1ba2=a0_0x187b1e;let _0x59d7df=_0x35690b[_0x5a1ba2(0x5d7)][_0x5a1ba2(0x314)](_0xe27325=>_0xe27325[_0x5a1ba2(0xf5)]['toString']()===_0x58257c['block']['_id'][_0x5a1ba2(0x56e)]());if(this['logger'][_0x5a1ba2(0x4e0)](this[_0x5a1ba2(0x5a5)]+'\x20('+this[_0x5a1ba2(0x144)][_0x5a1ba2(0x6c3)]+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x59d7df),_0x59d7df===-0x1){this[_0x5a1ba2(0x4c0)][_0x5a1ba2(0x4e0)](_0x5a1ba2(0x6d5)+_0x58257c[_0x5a1ba2(0x495)][_0x5a1ba2(0xf5)]+_0x5a1ba2(0x53d));return;}if(_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df]['type']===_0x5a1ba2(0x3dc)){let _0x1b8974=Object[_0x5a1ba2(0xcf)](_0x58257c[_0x5a1ba2(0x495)]);if(_0x1b8974[_0x5a1ba2(0x6ab)]>0x2||_0x1b8974['length']===0x2&&!_0x1b8974['includes'](_0x5a1ba2(0x3ac))){this[_0x5a1ba2(0x6b1)](_0x5a1ba2(0x5fd));return;}}let _0xe73ad1=_0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x27a)];for(let _0x5dfad0 in _0x58257c[_0x5a1ba2(0x495)])_0x58257c[_0x5a1ba2(0x495)][_0x5a1ba2(0x1f1)](_0x5dfad0)&&(_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5dfad0]=_0x58257c[_0x5a1ba2(0x495)][_0x5dfad0]);if(this[_0x5a1ba2(0x4c0)][_0x5a1ba2(0x4e0)](this[_0x5a1ba2(0x5a5)]+'\x20('+this[_0x5a1ba2(0x144)]['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x35690b['blocks'][_0x59d7df])),_0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]&&_0x5a1ba2(0x417)in _0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]){this[_0x5a1ba2(0x4c0)][_0x5a1ba2(0x4e0)](this[_0x5a1ba2(0x5a5)]+'\x20('+this[_0x5a1ba2(0x144)]['wuid']+_0x5a1ba2(0x303));let _0x5e179e=JSON[_0x5a1ba2(0x126)](_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x51d)][_0x5a1ba2(0x417)],null,0x1);_0x5e179e[_0x5a1ba2(0x6ab)]>0x2&&(_0x5e179e=_0x5e179e['substring'](0x1,_0x5e179e[_0x5a1ba2(0x6ab)]-0x1)[_0x5a1ba2(0x689)]()),_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df]['apirequest'][_0x5a1ba2(0xa8)]=_0x5e179e;}if(_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x51d)]&&_0x5a1ba2(0x151)in _0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]&&!('bodyString'in _0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x51d)])){this[_0x5a1ba2(0x4c0)]['verbose'](this[_0x5a1ba2(0x5a5)]+'\x20('+this['instance'][_0x5a1ba2(0x6c3)]+_0x5a1ba2(0x116)),_0x35690b['blocks'][_0x59d7df]['apirequest'][_0x5a1ba2(0x59d)]=!0x1;let _0x30a73a=JSON['stringify'](_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x51d)][_0x5a1ba2(0x151)],null,0x2);_0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]['bodyString']=_0x30a73a;}if(_0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]&&'bodyString'in _0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]){_0x35690b['blocks'][_0x59d7df]['apirequest'][_0x5a1ba2(0x59d)]=!0x1;let _0x2bd7f3=_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x51d)][_0x5a1ba2(0x6e3)],_0x11aad1=this[_0x5a1ba2(0x31c)](_0x2bd7f3);_0x35690b['blocks'][_0x59d7df][_0x5a1ba2(0x51d)]['bodyString']=_0x11aad1[_0x5a1ba2(0x6d3)],_0x35690b['blocks'][_0x59d7df]['apirequest'][_0x5a1ba2(0x59d)]=_0x11aad1[_0x5a1ba2(0x57d)];}let _0x3f17f0=_0x35690b[_0x5a1ba2(0x5d7)][_0x59d7df][_0x5a1ba2(0x27a)];_0xe73ad1!==_0x3f17f0?(this[_0x5a1ba2(0x3ae)](_0x35690b[_0x5a1ba2(0x5d7)],_0xe73ad1),this['reorderBlocks'](_0x35690b[_0x5a1ba2(0x5d7)],_0x3f17f0)):this[_0x5a1ba2(0x3ae)](_0x35690b[_0x5a1ba2(0x5d7)],_0xe73ad1);}[a0_0x187b1e(0x31c)](_0x1d4e61){const _0x2c4007=a0_0x187b1e;let _0x27f3eb='\u205f',_0xb1d912=!0x1,_0x250c74='';for(let _0x20479d=0x0;_0x20479d<_0x1d4e61[_0x2c4007(0x6ab)];_0x20479d++){let _0x5cbf09=_0x1d4e61[_0x20479d];_0x5cbf09==='\x22'&&(_0x20479d===0x0||_0x1d4e61[_0x20479d-0x1]!=='\x5c')&&(_0xb1d912=!_0xb1d912),!(!_0xb1d912&&(_0x5cbf09==='\x0a'||_0x5cbf09==='\x20'||_0x5cbf09===_0x27f3eb))&&(_0x250c74+=_0x5cbf09);}let _0x47d35b={},_0x432e21=9876543210.1234,_0x47b448=_0x250c74['replace'](/\{\{([^}]+)\}\}/g,_0x483e85=>{let _0x5f1072=_0x483e85,_0x167d52=''+_0x432e21;return _0x47d35b[_0x167d52]=_0x5f1072,_0x432e21+=0.0001,_0x167d52;}),_0x432742='',_0x24b77e=!0x1;try{let _0x173adf=JSON[_0x2c4007(0x329)](_0x47b448);_0x432742=JSON[_0x2c4007(0x126)](_0x173adf,null,0x2),_0x432742=_0x432742[_0x2c4007(0x2f2)](/\n( +)/g,(_0x5b2f56,_0x5d3bc6)=>{const _0x589f88=_0x2c4007;let _0x41ef1b=_0x5d3bc6[_0x589f88(0x6ab)];return'\x0a'+_0x27f3eb[_0x589f88(0x668)](_0x41ef1b*0x2);}),_0x432742=_0x432742[_0x2c4007(0x2f2)](/(\d{10,}\.\d+)/g,_0x381c5e=>_0x47d35b[_0x381c5e]||_0x381c5e);}catch(_0x1318d5){console[_0x2c4007(0x57d)](_0x2c4007(0x5e0),_0x1318d5),_0x432742=_0x1d4e61,_0x24b77e=!0x0;}return{'result':_0x432742,'error':_0x24b77e};}[a0_0x187b1e(0x424)](_0x4fab6a,_0x545360){const _0x11ea88=a0_0x187b1e;if(_0x545360['block']['type']===_0x11ea88(0x3dc)){this[_0x11ea88(0x6b1)](_0x11ea88(0x6a1));return;}if(_0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)]&&_0x11ea88(0x417)in _0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)]){this[_0x11ea88(0x4c0)]['verbose'](this[_0x11ea88(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4928ce=JSON[_0x11ea88(0x126)](_0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)]['header'],null,0x1);_0x4928ce['length']>0x2&&(_0x4928ce=_0x4928ce['substring'](0x1,_0x4928ce[_0x11ea88(0x6ab)]-0x1)['trim']()),_0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)][_0x11ea88(0xa8)]=_0x4928ce;}_0x545360['block']['apirequest']&&_0x11ea88(0x151)in _0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)]&&(this['logger'][_0x11ea88(0x4e0)](this['instanceName']+'\x20('+this[_0x11ea88(0x144)]['wuid']+_0x11ea88(0x116)),_0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)]['bodyString']=JSON[_0x11ea88(0x126)](_0x545360[_0x11ea88(0x495)][_0x11ea88(0x51d)][_0x11ea88(0x151)],null,0x1)[_0x11ea88(0x689)]()),_0x4fab6a['blocks'][_0x11ea88(0x764)](_0x545360[_0x11ea88(0x495)]),this[_0x11ea88(0x3ae)](_0x4fab6a['blocks'],_0x545360[_0x11ea88(0x495)][_0x11ea88(0x27a)]);}['reorderBlocks'](_0x15f814,_0xfdaab3){const _0x4145ba=a0_0x187b1e;let _0x336ac8=_0x15f814[_0x4145ba(0x348)](_0x2ce4fb=>_0x2ce4fb[_0x4145ba(0x27a)]===_0xfdaab3);_0x336ac8[_0x4145ba(0x32e)]((_0x773de7,_0x3d9d7b)=>_0x773de7[_0x4145ba(0x736)]-_0x3d9d7b[_0x4145ba(0x736)]),_0x336ac8[_0x4145ba(0x4d6)]((_0x56e924,_0x4805c6)=>_0x56e924['order']=_0x4805c6+0x1);}async[a0_0x187b1e(0x5c5)](_0x356dc4,_0x41691e){const _0x32b427=a0_0x187b1e;try{this[_0x32b427(0x4c0)]['verbose'](this[_0x32b427(0x5a5)]+'\x20('+this['instance'][_0x32b427(0x6c3)]+_0x32b427(0x706));let _0x12f193=_0x356dc4?.[_0x32b427(0x418)][_0x32b427(0x689)]()===_0x32b427(0x410)?_0x32b427(0x418):this[_0x32b427(0x144)][_0x32b427(0x6c3)];if(!_0x356dc4||!_0x356dc4[_0x32b427(0x33f)]){this[_0x32b427(0x6b1)](_0x32b427(0x46e));return;}let _0x277889=await this[_0x32b427(0x2ed)][_0x32b427(0x70a)]['findOne']({'where':{'name':_0x356dc4[_0x32b427(0x19a)]}},_0x12f193);if(_0x277889||this['throwAndLogError'](_0x32b427(0x83)),_0x277889?.[_0x32b427(0x418)]==='sync')throw new m(_0x32b427(0x3f7));if(_0x41691e!==ee&&_0x277889?.[_0x32b427(0x418)]===_0x32b427(0x410)&&_0x277889?.[_0x32b427(0xdd)]!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0x5d54ae}=_0x356dc4;_0x5d54ae?.[_0x32b427(0x6c5)]?(this['deleteReplyOption'](_0x277889,_0x356dc4),this[_0x32b427(0xfb)](_0x277889[_0x32b427(0x5dd)],_0x356dc4[_0x32b427(0x33f)][_0x32b427(0x63a)])):_0x5d54ae[_0x32b427(0xf5)]?(await this['updateReplyOption'](_0x277889,_0x356dc4),this['reorderReplyOptions'](_0x277889[_0x32b427(0x5dd)],_0x356dc4[_0x32b427(0x33f)][_0x32b427(0x63a)])):(this['addReplyOption'](_0x277889,_0x356dc4),this[_0x32b427(0xfb)](_0x277889['replyOptions'],_0x356dc4[_0x32b427(0x33f)][_0x32b427(0x63a)]));let _0x1ba41f=await this['repository'][_0x32b427(0x70a)]['updateOne'](_0x277889[_0x32b427(0xf5)],_0x277889,_0x12f193);if(_0x1ba41f&&_0x1ba41f[_0x32b427(0x8c)]&&_0x1ba41f[_0x32b427(0x8c)][_0x32b427(0x6ab)]>0x1&&_0x1ba41f['global']!==_0x32b427(0x3da)&&this['synchronizeFlows'](_0x1ba41f['_id'],_0x12f193),!_0x1ba41f)throw new Error(_0x32b427(0x703));return _0x1ba41f;}catch(_0xa63f4d){this[_0x32b427(0x6b1)](_0x32b427(0x683)+_0xa63f4d);}}[a0_0x187b1e(0xfb)](_0x5c0f35,_0x403cb6){const _0x240b90=a0_0x187b1e;_0x5c0f35['forEach'](_0x39858e=>{const _0x56b7df=a0_0xf8f0;_0x39858e[_0x56b7df(0x63a)]===_0x403cb6&&_0x39858e[_0x56b7df(0x736)]===void 0x0&&(_0x39858e['order']=0x270f);});let _0x10b2b7=_0x5c0f35['filter'](_0x82c674=>_0x82c674[_0x240b90(0x63a)]===_0x403cb6);_0x10b2b7[_0x240b90(0x32e)]((_0x2db367,_0x10f126)=>_0x2db367[_0x240b90(0x736)]-_0x10f126[_0x240b90(0x736)]),_0x10b2b7[_0x240b90(0x4d6)]((_0x48f0af,_0x106de5)=>{_0x48f0af['order']=_0x106de5+0x1;}),_0x5c0f35['forEach'](_0x13cfef=>{const _0x5db7ec=_0x240b90;if(_0x13cfef[_0x5db7ec(0x63a)]===_0x403cb6){let _0x59471a=_0x10b2b7['find'](_0x214c04=>_0x214c04[_0x5db7ec(0xf5)]&&_0x13cfef[_0x5db7ec(0xf5)]&&_0x214c04[_0x5db7ec(0xf5)]['toString']()===_0x13cfef['_id'][_0x5db7ec(0x56e)]());_0x59471a&&(_0x13cfef['order']=_0x59471a[_0x5db7ec(0x736)]);}});}[a0_0x187b1e(0x56c)](_0x3abf57,_0x1e0698){const _0x33ed10=a0_0x187b1e;let {replyOption:_0x54a647}=_0x1e0698;if(!_0x54a647['_id']){this[_0x33ed10(0x6b1)](_0x33ed10(0x6e1));return;}if(!_0x3abf57[_0x33ed10(0x5dd)][_0x33ed10(0x528)](_0x296fe2=>_0x296fe2[_0x33ed10(0xf5)][_0x33ed10(0x56e)]()===_0x1e0698[_0x33ed10(0x33f)][_0x33ed10(0xf5)][_0x33ed10(0x56e)]())){this[_0x33ed10(0x6b1)](_0x33ed10(0x128)+_0x54a647[_0x33ed10(0xf5)]+_0x33ed10(0x1a7));return;}_0x3abf57[_0x33ed10(0x5dd)]=_0x3abf57[_0x33ed10(0x5dd)][_0x33ed10(0x348)](_0x29d233=>_0x29d233[_0x33ed10(0xf5)][_0x33ed10(0x56e)]()!==_0x1e0698['replyOption'][_0x33ed10(0xf5)][_0x33ed10(0x56e)]());}async[a0_0x187b1e(0xd9)](_0x2a27a1,_0x431011){const _0x1edc71=a0_0x187b1e;let _0x55c9e1=_0x2a27a1[_0x1edc71(0x5dd)]['findIndex'](_0x570ed5=>_0x570ed5[_0x1edc71(0xf5)][_0x1edc71(0x56e)]()===_0x431011[_0x1edc71(0x33f)][_0x1edc71(0xf5)][_0x1edc71(0x56e)]());if(_0x55c9e1===-0x1){this['throwAndLogError'](_0x1edc71(0x128)+_0x431011[_0x1edc71(0x33f)]['_id']+_0x1edc71(0x53d));return;}for(let _0x1df1c3 in _0x431011[_0x1edc71(0x33f)])_0x431011[_0x1edc71(0x33f)][_0x1edc71(0x1f1)](_0x1df1c3)&&(_0x2a27a1['replyOptions'][_0x55c9e1][_0x1df1c3]=_0x431011[_0x1edc71(0x33f)][_0x1df1c3]);}[a0_0x187b1e(0x4f1)](_0x3db6de,_0x2422ea){const _0x55b2be=a0_0x187b1e;_0x3db6de[_0x55b2be(0x5dd)]['push'](_0x2422ea[_0x55b2be(0x33f)]);}async[a0_0x187b1e(0x73b)](_0x1fd48c,_0x3faecb){const _0x362399=a0_0x187b1e;let _0x188f7b=_0x1fd48c?.[_0x362399(0x418)]['trim']()===_0x362399(0x410)?_0x362399(0x418):this[_0x362399(0x144)][_0x362399(0x6c3)];this[_0x362399(0x4c0)][_0x362399(0x4e0)](this['instanceName']+'\x20('+this[_0x362399(0x144)]['wuid']+_0x362399(0xa4)+_0x188f7b+',\x20apikey:\x20'+_0x3faecb+_0x362399(0x105)+JSON['stringify'](_0x1fd48c,null,0x2));try{this[_0x362399(0x4c0)]['verbose'](this[_0x362399(0x5a5)]+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+_0x362399(0x26d));let _0x56364f=await this[_0x362399(0x2ed)][_0x362399(0x70a)]['findOne']({'where':{'name':_0x1fd48c[_0x362399(0x19a)]}},_0x188f7b);if(!_0x56364f)throw this[_0x362399(0x4c0)][_0x362399(0x4e0)](this[_0x362399(0x5a5)]+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+_0x362399(0x260)),new Error(_0x362399(0x83));if(_0x56364f?.[_0x362399(0x418)]===_0x362399(0x3da))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+'):\x20A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.'),new m(_0x362399(0x1a2));if(_0x3faecb!==ee&&_0x56364f?.[_0x362399(0x418)]===_0x362399(0x410)&&_0x56364f?.[_0x362399(0xdd)]!==this[_0x362399(0x144)]['wuid'])throw this[_0x362399(0x4c0)][_0x362399(0x4e0)](this[_0x362399(0x5a5)]+'\x20('+this['instance']['wuid']+_0x362399(0x259)),new m(_0x362399(0x28d));if(_0x1fd48c['group']&&_0x1fd48c[_0x362399(0x608)]?.[_0x362399(0x6c5)]===!0x0){if(this[_0x362399(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+_0x362399(0x4e7)),_0x1fd48c[_0x362399(0x608)][_0x362399(0x605)]===!0x0)return{'message':_0x362399(0xba)};if(_0x56364f[_0x362399(0x5d7)][_0x362399(0x559)](_0xd2ee23=>_0xd2ee23[_0x362399(0x27a)][_0x362399(0x56e)]()===_0x1fd48c[_0x362399(0x608)][_0x362399(0xf5)]))return this[_0x362399(0x4c0)][_0x362399(0x4e0)](this[_0x362399(0x5a5)]+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+_0x362399(0x5e6)),{'message':_0x362399(0x212)};_0x56364f['groups']=_0x56364f['groups'][_0x362399(0x348)](_0x33d79d=>_0x33d79d[_0x362399(0xf5)][_0x362399(0x56e)]()!==_0x1fd48c[_0x362399(0x608)][_0x362399(0xf5)]);}else{if(_0x1fd48c[_0x362399(0x608)]){if(_0x1fd48c[_0x362399(0x608)]['default']===!0x0)return{'message':'No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro'};if(_0x1fd48c[_0x362399(0x608)]['_id']){let _0x2524da=_0x56364f[_0x362399(0x143)]['find'](_0x2d9c93=>_0x2d9c93['_id'][_0x362399(0x56e)]()===_0x1fd48c[_0x362399(0x608)][_0x362399(0xf5)]);_0x2524da&&(_0x1fd48c[_0x362399(0x608)]['x']<0x0&&(_0x1fd48c[_0x362399(0x608)]['x']=0x0),_0x1fd48c['group']['y']<0x0&&(_0x1fd48c[_0x362399(0x608)]['y']=0x0),Object['assign'](_0x2524da,_0x1fd48c[_0x362399(0x608)]));}else _0x56364f[_0x362399(0x143)]['push'](_0x1fd48c['group']);}}let _0x1a72bf=await this[_0x362399(0x2ed)][_0x362399(0x70a)][_0x362399(0x190)](_0x56364f[_0x362399(0xf5)],_0x56364f,_0x188f7b);if(_0x1a72bf&&_0x1a72bf[_0x362399(0x8c)]&&_0x1a72bf[_0x362399(0x8c)][_0x362399(0x6ab)]>0x1&&_0x1a72bf[_0x362399(0x418)]!=='sync'&&this['synchronizeFlows'](_0x1a72bf[_0x362399(0xf5)],_0x188f7b),!_0x1a72bf)throw new Error(_0x362399(0x703));return _0x1a72bf;}catch(_0x4b4881){let _0x49cbf4=_0x362399(0x6f5),_0x22b5fb=_0x4b4881 instanceof Error?_0x4b4881[_0x362399(0x3df)]:typeof _0x4b4881=='object'?JSON[_0x362399(0x126)](_0x4b4881):_0x4b4881,_0x3641fc=_0x49cbf4+':\x20'+_0x22b5fb;throw this[_0x362399(0x4c0)][_0x362399(0x57d)](this[_0x362399(0x5a5)]+'\x20('+this[_0x362399(0x144)][_0x362399(0x6c3)]+_0x362399(0x468)+_0x3641fc),new m(_0x3641fc);}}async[a0_0x187b1e(0x761)](_0x4ac763,_0x4a872c){const _0x492650=a0_0x187b1e;try{this[_0x492650(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x492650(0x144)]['wuid']+'):\x20Editando\x20condio\x20do\x20fluxo...');let _0x5c6304=_0x4ac763?.[_0x492650(0x418)]['trim']()===_0x492650(0x410)?'global':this[_0x492650(0x144)][_0x492650(0x6c3)],_0x88321=await this[_0x492650(0x2ed)][_0x492650(0x70a)][_0x492650(0x525)]({'where':{'name':_0x4ac763[_0x492650(0x19a)]}},_0x5c6304);if(!_0x88321)throw new Error(_0x492650(0x83));if(_0x88321?.['global']==='sync')throw new m('A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.');if(_0x4a872c!==ee&&_0x88321?.[_0x492650(0x418)]==='true'&&_0x88321?.[_0x492650(0xdd)]!==this[_0x492650(0x144)]['wuid'])throw new m(_0x492650(0x28d));let _0x5b8f49=!0x1;if(_0x4ac763[_0x492650(0x2ee)]?.[_0x492650(0x6c5)]===!0x0)_0x88321[_0x492650(0x458)]=_0x88321['conditions'][_0x492650(0x348)](_0x3b5998=>_0x3b5998&&_0x4ac763['condition']&&_0x3b5998[_0x492650(0xf5)]&&_0x4ac763['condition']['_id']&&_0x3b5998[_0x492650(0xf5)][_0x492650(0x56e)]()!==_0x4ac763['condition'][_0x492650(0xf5)][_0x492650(0x56e)]()),_0x5b8f49=!0x0;else{let _0x2ad0be=_0x88321['conditions'][_0x492650(0x528)](_0x206466=>_0x206466&&_0x4ac763[_0x492650(0x2ee)]&&_0x206466[_0x492650(0xf5)]&&_0x4ac763['condition'][_0x492650(0xf5)]&&_0x206466[_0x492650(0xf5)][_0x492650(0x56e)]()===_0x4ac763[_0x492650(0x2ee)][_0x492650(0xf5)][_0x492650(0x56e)]());_0x2ad0be?(_0x5b8f49=_0x2ad0be[_0x492650(0x736)]!==_0x4ac763['condition'][_0x492650(0x736)],Object[_0x492650(0x5af)](_0x2ad0be,_0x4ac763['condition'])):(_0x88321[_0x492650(0x458)][_0x492650(0x764)](_0x4ac763[_0x492650(0x2ee)]),_0x5b8f49=!0x0);}if(_0x5b8f49){_0x88321[_0x492650(0x458)]['sort']((_0x498197,_0x8d0a65)=>_0x498197[_0x492650(0x736)]>_0x8d0a65['order']?0x1:_0x8d0a65[_0x492650(0x736)]>_0x498197['order']?-0x1:0x0);for(let _0x3b1ee0=0x0;_0x3b1ee0<_0x88321['conditions'][_0x492650(0x6ab)];_0x3b1ee0++)_0x88321[_0x492650(0x458)][_0x3b1ee0][_0x492650(0x736)]=_0x3b1ee0+0x1;_0x88321['conditions']['length']>0x0&&(_0x88321['conditions'][0x0][_0x492650(0x23a)]=_0x492650(0x4b3));}let _0x1cabe2=await this[_0x492650(0x2ed)]['flow'][_0x492650(0x190)](_0x88321[_0x492650(0xf5)],_0x88321,_0x5c6304);if(_0x1cabe2&&_0x1cabe2[_0x492650(0x8c)]&&_0x1cabe2[_0x492650(0x8c)][_0x492650(0x6ab)]>0x1&&_0x1cabe2[_0x492650(0x418)]!==_0x492650(0x3da)&&this[_0x492650(0x450)](_0x1cabe2[_0x492650(0xf5)],_0x5c6304),!_0x1cabe2)throw new Error(_0x492650(0x703));return _0x1cabe2;}catch(_0x5beb0d){let _0x236318=_0x492650(0x11e),_0x1405c2=_0x5beb0d instanceof Error?_0x5beb0d[_0x492650(0x3df)]:typeof _0x5beb0d==_0x492650(0x5ad)?JSON[_0x492650(0x126)](_0x5beb0d):_0x5beb0d,_0x1db0a2=_0x236318+':\x20'+_0x1405c2;throw this[_0x492650(0x4c0)][_0x492650(0x57d)](this['instanceName']+'\x20('+this['instance'][_0x492650(0x6c3)]+_0x492650(0x468)+_0x1db0a2),new m(_0x1db0a2);}}async[a0_0x187b1e(0x600)](_0x23581b,_0x1d3eaf){const _0x3dae6a=a0_0x187b1e;try{this[_0x3dae6a(0x4c0)][_0x3dae6a(0x4e0)](this[_0x3dae6a(0x5a5)]+'\x20('+this[_0x3dae6a(0x144)][_0x3dae6a(0x6c3)]+_0x3dae6a(0x50c));let _0x43b7fe=_0x23581b?.['global'][_0x3dae6a(0x689)]()===_0x3dae6a(0x410)?_0x3dae6a(0x418):this[_0x3dae6a(0x144)][_0x3dae6a(0x6c3)],_0x4ebf20=await this[_0x3dae6a(0x2ed)]['flow'][_0x3dae6a(0x525)]({'where':{'name':_0x23581b[_0x3dae6a(0x19a)]}},_0x43b7fe);if(!_0x4ebf20)throw new Error(_0x3dae6a(0x83));if(_0x4ebf20?.['global']===_0x3dae6a(0x3da))throw new m(_0x3dae6a(0x3f7));if(_0x1d3eaf!==ee&&_0x4ebf20?.['global']==='true'&&_0x4ebf20?.[_0x3dae6a(0xdd)]!==this['instance'][_0x3dae6a(0x6c3)])throw new m(_0x3dae6a(0x28d));let _0x212f01=!0x1;if(_0x23581b['varedit']?.[_0x3dae6a(0x6c5)]===!0x0)_0x4ebf20['varedits']=_0x4ebf20['varedits'][_0x3dae6a(0x348)](_0x9bb226=>_0x9bb226&&_0x23581b[_0x3dae6a(0x70d)]&&_0x9bb226['_id']&&_0x23581b[_0x3dae6a(0x70d)][_0x3dae6a(0xf5)]&&_0x9bb226['_id'][_0x3dae6a(0x56e)]()!==_0x23581b[_0x3dae6a(0x70d)][_0x3dae6a(0xf5)][_0x3dae6a(0x56e)]()),_0x212f01=!0x0;else{let _0x3c2b1e=_0x4ebf20['varedits'][_0x3dae6a(0x528)](_0x2c00e5=>_0x2c00e5&&_0x23581b[_0x3dae6a(0x70d)]&&_0x2c00e5[_0x3dae6a(0xf5)]&&_0x23581b['varedit'][_0x3dae6a(0xf5)]&&_0x2c00e5[_0x3dae6a(0xf5)][_0x3dae6a(0x56e)]()===_0x23581b[_0x3dae6a(0x70d)][_0x3dae6a(0xf5)]['toString']());_0x3c2b1e?(_0x212f01=_0x3c2b1e[_0x3dae6a(0x736)]!==_0x23581b[_0x3dae6a(0x70d)][_0x3dae6a(0x736)],Object[_0x3dae6a(0x5af)](_0x3c2b1e,_0x23581b['varedit'])):(_0x4ebf20[_0x3dae6a(0x73e)][_0x3dae6a(0x764)](_0x23581b[_0x3dae6a(0x70d)]),_0x212f01=!0x0);}if(_0x212f01){_0x4ebf20[_0x3dae6a(0x73e)][_0x3dae6a(0x32e)]((_0x2d2a31,_0x212614)=>_0x2d2a31[_0x3dae6a(0x736)]>_0x212614[_0x3dae6a(0x736)]?0x1:_0x212614[_0x3dae6a(0x736)]>_0x2d2a31['order']?-0x1:0x0);for(let _0x562826=0x0;_0x562826<_0x4ebf20['varedits']['length'];_0x562826++)_0x4ebf20[_0x3dae6a(0x73e)][_0x562826][_0x3dae6a(0x736)]=_0x562826+0x1;}let _0x535dfb=await this[_0x3dae6a(0x2ed)][_0x3dae6a(0x70a)][_0x3dae6a(0x190)](_0x4ebf20[_0x3dae6a(0xf5)],_0x4ebf20,_0x43b7fe);if(_0x535dfb&&_0x535dfb[_0x3dae6a(0x8c)]&&_0x535dfb[_0x3dae6a(0x8c)][_0x3dae6a(0x6ab)]>0x1&&_0x535dfb[_0x3dae6a(0x418)]!==_0x3dae6a(0x3da)&&this[_0x3dae6a(0x450)](_0x535dfb[_0x3dae6a(0xf5)],_0x43b7fe),!_0x535dfb)throw new Error(_0x3dae6a(0x703));return _0x535dfb;}catch(_0x13bfd8){let _0x370478=_0x3dae6a(0x11e),_0xe2f178=_0x13bfd8 instanceof Error?_0x13bfd8['message']:typeof _0x13bfd8==_0x3dae6a(0x5ad)?JSON['stringify'](_0x13bfd8):_0x13bfd8,_0x431182=_0x370478+':\x20'+_0xe2f178;throw this['logger'][_0x3dae6a(0x57d)](this[_0x3dae6a(0x5a5)]+'\x20('+this[_0x3dae6a(0x144)][_0x3dae6a(0x6c3)]+_0x3dae6a(0x468)+_0x431182),new m(_0x431182);}}async[a0_0x187b1e(0x29a)](_0x18f8dc,_0x8ca021){const _0x135881=a0_0x187b1e;try{this[_0x135881(0x4c0)][_0x135881(0x4e0)](this['instanceName']+'\x20('+this[_0x135881(0x144)][_0x135881(0x6c3)]+_0x135881(0x57a));let _0x163cc0=_0x18f8dc?.[_0x135881(0x418)][_0x135881(0x689)]()==='true'?_0x135881(0x418):this[_0x135881(0x144)][_0x135881(0x6c3)],_0x145c78=await this[_0x135881(0x2ed)][_0x135881(0x70a)][_0x135881(0x525)]({'where':{'name':_0x18f8dc[_0x135881(0x19a)]}},_0x163cc0);if(!_0x145c78)throw new Error('Flow\x20no\x20encontrado');if(_0x145c78?.['global']==='sync')throw new m(_0x135881(0x3f7));if(_0x8ca021!==ee&&_0x145c78?.['global']===_0x135881(0x410)&&_0x145c78?.[_0x135881(0xdd)]!==this[_0x135881(0x144)][_0x135881(0x6c3)])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x8ca021!==ee&&_0x145c78?.[_0x135881(0x418)]===_0x135881(0x410)&&_0x145c78?.[_0x135881(0xdd)]!==this[_0x135881(0x144)]['wuid'])throw new m(_0x135881(0x28d));_0x18f8dc[_0x135881(0x327)]['name']=_0x18f8dc[_0x135881(0x327)]['name'][_0x135881(0x689)](),_0x18f8dc[_0x135881(0x327)][_0x135881(0x19a)]['startsWith']('_')&&(_0x18f8dc['variable'][_0x135881(0x19a)]=_0x18f8dc['variable'][_0x135881(0x19a)]['substring'](0x1)),_0x18f8dc[_0x135881(0x327)]['name']=_0x18f8dc[_0x135881(0x327)][_0x135881(0x19a)][_0x135881(0x689)]();let _0x11af02=_0x145c78[_0x135881(0x58d)]['find'](_0x26e1b6=>_0x26e1b6[_0x135881(0x19a)]===_0x18f8dc['variable'][_0x135881(0x19a)]);if(_0x11af02?.[_0x135881(0x2ad)]===!0x0)throw new Error(_0x135881(0x64f));if(_0x18f8dc[_0x135881(0x327)]?.[_0x135881(0x6c5)]===!0x0){if(!_0x11af02)return{'message':'Varivel\x20no\x20encontrada!'};_0x145c78[_0x135881(0x58d)]=_0x145c78[_0x135881(0x58d)][_0x135881(0x348)](_0x2746ca=>_0x2746ca[_0x135881(0x19a)]!==_0x18f8dc[_0x135881(0x327)][_0x135881(0x19a)]);}else _0x11af02?Object[_0x135881(0x5af)](_0x11af02,_0x18f8dc['variable']):_0x145c78['variables'][_0x135881(0x764)](_0x18f8dc['variable']);let _0x1b78d5=await this[_0x135881(0x2ed)][_0x135881(0x70a)][_0x135881(0x190)](_0x145c78[_0x135881(0xf5)],_0x145c78,_0x163cc0);if(_0x1b78d5&&_0x1b78d5[_0x135881(0x8c)]&&_0x1b78d5[_0x135881(0x8c)][_0x135881(0x6ab)]>0x1&&_0x1b78d5[_0x135881(0x418)]!==_0x135881(0x3da)&&this[_0x135881(0x450)](_0x1b78d5['_id'],_0x163cc0),!_0x1b78d5)throw new Error(_0x135881(0x703));return _0x1b78d5;}catch(_0x242781){let _0x52df7f=_0x135881(0x65f),_0x63c580=_0x242781 instanceof Error?_0x242781['message']:typeof _0x242781==_0x135881(0x5ad)?JSON['stringify'](_0x242781):_0x242781,_0x5012f9=_0x52df7f+':\x20'+_0x63c580;throw this[_0x135881(0x4c0)]['error'](this[_0x135881(0x5a5)]+'\x20('+this[_0x135881(0x144)][_0x135881(0x6c3)]+_0x135881(0x468)+_0x5012f9),new m(_0x5012f9);}}async[a0_0x187b1e(0x577)](_0x6d1bdd){const _0x2d9c1c=a0_0x187b1e;let _0x587e8b=null;try{if(!this[_0x2d9c1c(0x599)]?.[_0x2d9c1c(0x15c)][_0x2d9c1c(0x5bc)])throw new m(_0x2d9c1c(0x723));this[_0x2d9c1c(0x4c0)]['verbose'](this[_0x2d9c1c(0x5a5)]+'\x20('+this[_0x2d9c1c(0x144)][_0x2d9c1c(0x6c3)]+_0x2d9c1c(0x26f));let _0x22dd63=(await this['whatsappNumber']({'numbers':[_0x6d1bdd[_0x2d9c1c(0x580)]]}))[0x0];if(!_0x22dd63['exists']&&!(0x0,f[_0x2d9c1c(0x378)])(_0x22dd63[_0x2d9c1c(0x2b0)])&&!_0x22dd63[_0x2d9c1c(0x2b0)][_0x2d9c1c(0x7e)](_0x2d9c1c(0x4a8)))throw _0x587e8b=JSON[_0x2d9c1c(0x126)](_0x22dd63,null,0x2),new m(_0x22dd63);let _0x295910=await this[_0x2d9c1c(0x2ed)][_0x2d9c1c(0x70a)][_0x2d9c1c(0x525)]({'where':{'name':_0x6d1bdd[_0x2d9c1c(0x19a)]}},this[_0x2d9c1c(0x144)][_0x2d9c1c(0x6c3)]);if(!_0x295910)return this[_0x2d9c1c(0x4c0)]['error'](this['instanceName']+'\x20('+this[_0x2d9c1c(0x144)][_0x2d9c1c(0x6c3)]+'):\x20Flow\x20no\x20encontrado'),{'message':'Flow\x20no\x20encontrado'};let _0x29199f=await this[_0x2d9c1c(0x666)](_0x295910,_0x22dd63[_0x2d9c1c(0x2b0)],_0x6d1bdd[_0x2d9c1c(0x629)]);if(_0x29199f){this[_0x2d9c1c(0x4c0)]['verbose'](this[_0x2d9c1c(0x5a5)]+'\x20('+this['instance']['wuid']+_0x2d9c1c(0x12f));let _0x5d5511=await this[_0x2d9c1c(0x4a2)](_0x29199f);return _0x5d5511&&await this[_0x2d9c1c(0x64a)](_0x29199f,_0x5d5511),{'message':_0x2d9c1c(0x267)+_0x6d1bdd[_0x2d9c1c(0x580)]};}}catch(_0x59cd9b){if(this[_0x2d9c1c(0x4c0)]['error'](this[_0x2d9c1c(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x59cd9b instanceof Error?_0x59cd9b[_0x2d9c1c(0x3df)]:JSON[_0x2d9c1c(0x126)](_0x59cd9b,null,0x2))),_0x587e8b=_0x59cd9b instanceof Error?_0x59cd9b['message']:JSON['stringify'](_0x59cd9b,null,0x2),_0x587e8b)throw new m(_0x2d9c1c(0x71d)+_0x587e8b);}}async[a0_0x187b1e(0x362)](_0x13be4f){const _0x632a7a=a0_0x187b1e;try{let _0x48b33b={'remoteJid':_0x13be4f,'status':'open'},_0x50fc65={'status':_0x632a7a(0x2f1)},_0x3750b6=await this[_0x632a7a(0x2ed)][_0x632a7a(0x2a2)][_0x632a7a(0x5cb)](_0x48b33b,_0x50fc65,this[_0x632a7a(0x144)][_0x632a7a(0x6c3)]);return this[_0x632a7a(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x632a7a(0x144)]['wuid']+_0x632a7a(0x129)),_0x3750b6;}catch(_0x485b3b){throw this[_0x632a7a(0x4c0)][_0x632a7a(0x57d)](this[_0x632a7a(0x5a5)]+'\x20('+this[_0x632a7a(0x144)][_0x632a7a(0x6c3)]+_0x632a7a(0x453)+_0x485b3b[_0x632a7a(0x3df)]),_0x485b3b;}}async[a0_0x187b1e(0x666)](_0x2dd588,_0xad5525,_0x92ce9b){const _0x5ee76b=a0_0x187b1e;this[_0x5ee76b(0x4c0)][_0x5ee76b(0x4e0)](this['instanceName']+'\x20('+this[_0x5ee76b(0x144)][_0x5ee76b(0x6c3)]+_0x5ee76b(0x34d)),await this[_0x5ee76b(0x362)](_0xad5525);try{let _0x1a2b47=require('mongodb')[_0x5ee76b(0x3f6)],_0xadf228=Date[_0x5ee76b(0x34b)](),_0x47596a=_0x5ee76b(0x3dc),_0x224242={},_0x4a1864={},_0x292207={..._0x2dd588,'chatLog':null},_0x153397=await this[_0x5ee76b(0x664)](_0x292207[_0x5ee76b(0x58d)]),_0x39cc8b=await this[_0x5ee76b(0x642)](_0xad5525),_0x3c13e9={..._0x153397,..._0x39cc8b,'_remoteJid':_0xad5525},_0x33c301={'lastReceivedMessage':_0x224242,'lastSendMessage':_0x4a1864,'lastBlockId':_0x47596a,'lastCondition':!0x0,'realVariables':_0x3c13e9};_0x292207[_0x5ee76b(0x595)]=_0x33c301,_0x292207[_0x5ee76b(0x595)][_0x5ee76b(0x5d5)]={..._0x3c13e9,..._0x92ce9b},delete _0x292207[_0x5ee76b(0xf5)],_0x292207['_id']=new _0x1a2b47(),_0x292207['lastInteraction']=_0xadf228,_0x292207[_0x5ee76b(0x391)]=_0x5ee76b(0xa5),_0x292207[_0x5ee76b(0x580)]=_0xad5525;let _0x234d40=await this[_0x5ee76b(0x2ed)][_0x5ee76b(0x2a2)][_0x5ee76b(0x190)](_0x292207['_id'],_0x292207,this[_0x5ee76b(0x144)][_0x5ee76b(0x6c3)]);return this[_0x5ee76b(0x4c0)]['verbose'](this['instanceName']+'\x20('+this[_0x5ee76b(0x144)]['wuid']+_0x5ee76b(0x3eb)),_0x234d40?_0x292207:null;}catch(_0x5c8ef1){let _0x2ab1af=_0x5ee76b(0x48d),_0x577075=_0x5c8ef1 instanceof Error?_0x5c8ef1[_0x5ee76b(0x3df)]:typeof _0x5c8ef1=='object'?JSON[_0x5ee76b(0x126)](_0x5c8ef1):_0x5c8ef1,_0x133534=_0x2ab1af+':\x20'+_0x577075;throw this['logger'][_0x5ee76b(0x57d)](this[_0x5ee76b(0x5a5)]+'\x20('+this[_0x5ee76b(0x144)][_0x5ee76b(0x6c3)]+'):\x20'+_0x133534),new m(_0x133534);}}async['getConversation'](_0x5e079){const _0x51f98e=a0_0x187b1e;try{this[_0x51f98e(0x4c0)]['verbose'](this[_0x51f98e(0x5a5)]+'\x20('+this[_0x51f98e(0x144)][_0x51f98e(0x6c3)]+_0x51f98e(0x3e5)),this[_0x51f98e(0x4c0)][_0x51f98e(0x4e0)](this['instanceName']+'\x20('+this['instance'][_0x51f98e(0x6c3)]+_0x51f98e(0x54a)+_0x5e079);let _0x280592={'where':{'_id':_0x5e079}};return await this[_0x51f98e(0x2ed)]['flowConversation'][_0x51f98e(0x525)](_0x280592,this[_0x51f98e(0x144)]['wuid']);}catch(_0x376fdb){let _0x5da37f='Erro\x20ao\x20buscar\x20a\x20conversa',_0x43b662=_0x376fdb instanceof Error?_0x376fdb[_0x51f98e(0x3df)]:typeof _0x376fdb==_0x51f98e(0x5ad)?JSON[_0x51f98e(0x126)](_0x376fdb):_0x376fdb,_0x1b4300=_0x5da37f+':\x20'+_0x43b662;throw this[_0x51f98e(0x4c0)][_0x51f98e(0x57d)](this[_0x51f98e(0x5a5)]+'\x20('+this['instance'][_0x51f98e(0x6c3)]+_0x51f98e(0x468)+_0x1b4300),new m(_0x1b4300);}}async['fetchConversation'](_0x1f3b75){const _0x28b894=a0_0x187b1e;try{return this[_0x28b894(0x4c0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x28b894(0x6c3)]+'):\x20Buscando\x20conversas...'),await this[_0x28b894(0x2ed)]['flowConversation'][_0x28b894(0x528)](_0x1f3b75,this[_0x28b894(0x144)][_0x28b894(0x6c3)]);}catch(_0x421501){let _0x3d1b05=_0x28b894(0x2c9),_0x4133f2=_0x421501 instanceof Error?_0x421501['message']:typeof _0x421501==_0x28b894(0x5ad)?JSON[_0x28b894(0x126)](_0x421501):_0x421501,_0x431a21=_0x3d1b05+':\x20'+_0x4133f2;throw this[_0x28b894(0x4c0)]['error'](this[_0x28b894(0x5a5)]+'\x20('+this['instance'][_0x28b894(0x6c3)]+'):\x20'+_0x431a21),new m(_0x431a21);}}async['deleteConversation'](_0x1f1609){const _0x19e2f9=a0_0x187b1e;try{return this['logger'][_0x19e2f9(0x4e0)](this[_0x19e2f9(0x5a5)]+'\x20('+this['instance'][_0x19e2f9(0x6c3)]+_0x19e2f9(0xae)),this[_0x19e2f9(0x4c0)][_0x19e2f9(0x4e0)](this[_0x19e2f9(0x5a5)]+'\x20('+this['instance']['wuid']+_0x19e2f9(0x1cb)+_0x1f1609),(await this['repository'][_0x19e2f9(0x2a2)][_0x19e2f9(0x584)]({'where':{'_id':_0x1f1609}},this['instance'][_0x19e2f9(0x6c3)]))['deletedCount']===0x0?{'message':_0x19e2f9(0x55a)}:{'message':_0x19e2f9(0x59b)};}catch(_0x43c1f7){let _0xffad54=_0x19e2f9(0x412),_0x1b1a08=_0x43c1f7 instanceof Error?_0x43c1f7[_0x19e2f9(0x3df)]:typeof _0x43c1f7==_0x19e2f9(0x5ad)?JSON[_0x19e2f9(0x126)](_0x43c1f7):_0x43c1f7,_0x2afd57=_0xffad54+':\x20'+_0x1b1a08;throw this['logger'][_0x19e2f9(0x57d)](this[_0x19e2f9(0x5a5)]+'\x20('+this[_0x19e2f9(0x144)][_0x19e2f9(0x6c3)]+_0x19e2f9(0x468)+_0x2afd57),new m(_0x2afd57);}}async['editConversation'](_0x12bc4e){const _0xa7c471=a0_0x187b1e;try{let {_id:_0x1174b1,chatLog:_0x5904e8,status:_0x3868ef}=_0x12bc4e;if(!_0x1174b1)return{'message':'O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.'};let _0x48d5dc={};if(_0x3868ef!==void 0x0&&(_0x48d5dc[_0xa7c471(0x391)]=_0x3868ef),Object['keys'](_0x48d5dc)['length']===0x0)return{'message':_0xa7c471(0x2ec)};let _0x612771=await this[_0xa7c471(0x2ed)][_0xa7c471(0x2a2)][_0xa7c471(0x190)](_0x1174b1,_0x48d5dc,this[_0xa7c471(0x144)][_0xa7c471(0x6c3)]);return _0x612771||{'message':_0xa7c471(0x62b)};}catch(_0x1a2727){let _0x51900d='Erro\x20ao\x20editar\x20a\x20conversa',_0x298507=_0x1a2727 instanceof Error?_0x1a2727['message']:typeof _0x1a2727==_0xa7c471(0x5ad)?JSON[_0xa7c471(0x126)](_0x1a2727):_0x1a2727,_0x105013=_0x51900d+':\x20'+_0x298507;throw this[_0xa7c471(0x4c0)][_0xa7c471(0x57d)](this['instanceName']+'\x20('+this[_0xa7c471(0x144)][_0xa7c471(0x6c3)]+_0xa7c471(0x468)+_0x105013),new m(_0x105013);}}async[a0_0x187b1e(0x1f3)](_0x446716){const _0x3b1b6d=a0_0x187b1e;try{_0x446716[_0x3b1b6d(0xf5)]=this[_0x3b1b6d(0x253)](_0x446716[_0x3b1b6d(0xf5)]);let _0x5322fd=await this[_0x3b1b6d(0x2ed)]['chat'][_0x3b1b6d(0x525)]({'where':{'_id':_0x446716[_0x3b1b6d(0xf5)]}},this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]);if(!_0x5322fd)throw new m('Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo');let {_id:_0x29f5c1,leadInfo:_0x4e7f8b}=_0x446716;if(!_0x29f5c1)throw new Error(_0x3b1b6d(0x54e));if(_0x446716[_0x3b1b6d(0x6c5)]==='all')return await this[_0x3b1b6d(0x3bf)](_0x446716[_0x3b1b6d(0xf5)]),await this['repository'][_0x3b1b6d(0x30d)]['delete']({'where':{'_id':_0x446716[_0x3b1b6d(0xf5)]}},this[_0x3b1b6d(0x144)]['wuid']),await this[_0x3b1b6d(0x2ed)][_0x3b1b6d(0x3df)][_0x3b1b6d(0x6c5)]({'where':{'key':{'remoteJid':_0x446716[_0x3b1b6d(0xf5)]}}},this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]),_0x446716=await this['repository'][_0x3b1b6d(0x30d)][_0x3b1b6d(0x190)]({'where':{'_id':_0x446716[_0x3b1b6d(0xf5)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3b1b6d(0x6c3)]),U(this['instanceName'],_0x3b1b6d(0x196),{'chat':_0x446716}),{'message':_0x3b1b6d(0x2ff)};if(_0x446716[_0x3b1b6d(0x6c5)]===_0x3b1b6d(0x522))return await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0x446716['_id']}}},this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]),_0x446716=await this['repository'][_0x3b1b6d(0x30d)][_0x3b1b6d(0x190)]({'where':{'_id':_0x446716[_0x3b1b6d(0xf5)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]),U(this['instanceName'],_0x3b1b6d(0x196),{'chat':_0x446716}),{'message':_0x3b1b6d(0x235)};let _0x30b389=(_0x5b33ff,_0x5cad80,_0x124085)=>{_0x5b33ff&&_0x124085['forEach'](_0x2bf68d=>{_0x5b33ff[_0x2bf68d]!==void 0x0&&(_0x5cad80['leadInfo.'+_0x2bf68d]=_0x5b33ff[_0x2bf68d]);});},_0x39cc0d={};if(_0x3b1b6d(0x4d9)in _0x446716&&(this[_0x3b1b6d(0x4c0)]['verbose'](_0x3b1b6d(0x547)+_0x446716['_id']),_0x446716['muteEndTime']=_0x446716['muteEndTime']===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x446716[_0x3b1b6d(0x4d9)]},_0x446716[_0x3b1b6d(0xf5)]),_0x39cc0d[_0x3b1b6d(0x4d9)]=Number(_0x446716[_0x3b1b6d(0x4d9)])),_0x4e7f8b&&(_0x30b389(_0x4e7f8b,_0x39cc0d,[_0x3b1b6d(0x5b0),_0x3b1b6d(0x709),_0x3b1b6d(0x571),_0x3b1b6d(0x50d),_0x3b1b6d(0x391),_0x3b1b6d(0xb7),'tags','atendimentoAberto',_0x3b1b6d(0x22d),_0x3b1b6d(0x596)]),Array['isArray'](_0x4e7f8b[_0x3b1b6d(0x115)])&&(_0x39cc0d[_0x3b1b6d(0xb5)]=_0x4e7f8b[_0x3b1b6d(0x115)][_0x3b1b6d(0x687)](_0x292393=>({'_id':_0x292393['_id'],'value':_0x292393[_0x3b1b6d(0x189)]}))),_0x446716[_0x3b1b6d(0x2ad)][_0x3b1b6d(0x596)]!==void 0x0)){let _0x38f481=await this[_0x3b1b6d(0x2ed)][_0x3b1b6d(0x3ca)]['find']({'where':{}},this['instance']['wuid']),_0x160c34=new Set(_0x446716['leadInfo'][_0x3b1b6d(0x596)]||[]),_0x37f39b=new Set(_0x446716[_0x3b1b6d(0x2ad)][_0x3b1b6d(0x596)]),_0x251d18=new Set(_0x38f481['map'](_0x30adab=>_0x30adab[_0x3b1b6d(0xf5)])),_0x555437=[..._0x37f39b][_0x3b1b6d(0x348)](_0x2f524d=>!_0x160c34[_0x3b1b6d(0x69f)](_0x2f524d)&&_0x251d18['has'](_0x2f524d)),_0x19560f=[..._0x160c34][_0x3b1b6d(0x348)](_0x13c465=>!_0x37f39b[_0x3b1b6d(0x69f)](_0x13c465));if(_0x39cc0d[_0x3b1b6d(0x3fa)]=[..._0x160c34],_0x5322fd&&!_0x5322fd[_0x3b1b6d(0x720)]){for(let _0x1176ed of _0x555437)await this[_0x3b1b6d(0x258)](_0x1176ed,_0x446716[_0x3b1b6d(0xf5)]),_0x160c34[_0x3b1b6d(0x494)](_0x1176ed);for(let _0x8f96b3 of _0x19560f)await this[_0x3b1b6d(0x1bf)](_0x8f96b3,_0x446716['_id']),_0x160c34[_0x3b1b6d(0x6c5)](_0x8f96b3);}}if(_0x446716['unreadcount']!==void 0x0&&(_0x39cc0d['unreadcount']=Number(_0x446716[_0x3b1b6d(0x13c)])),Object[_0x3b1b6d(0xcf)](_0x39cc0d)[_0x3b1b6d(0x6ab)]===0x0)throw new Error(_0x3b1b6d(0x2ec));let _0x4ea348=await this[_0x3b1b6d(0x2ed)][_0x3b1b6d(0x30d)][_0x3b1b6d(0x190)]({'where':{'_id':_0x446716[_0x3b1b6d(0xf5)]}},_0x39cc0d,this['instance'][_0x3b1b6d(0x6c3)]);return _0x4ea348&&U(this[_0x3b1b6d(0x5a5)],'chats',{'chat':_0x4ea348}),_0x4ea348?(this['logger'][_0x3b1b6d(0x4e0)](this[_0x3b1b6d(0x5a5)]+'\x20('+this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]+_0x3b1b6d(0x468)+JSON[_0x3b1b6d(0x126)](_0x4ea348,null,0x2)),_0x4ea348):{'message':_0x3b1b6d(0x627)};}catch(_0x7600ec){let _0x2fb93c=_0x3b1b6d(0x345),_0x3afc51=_0x7600ec instanceof Error?_0x7600ec[_0x3b1b6d(0x3df)]:typeof _0x7600ec==_0x3b1b6d(0x5ad)?JSON[_0x3b1b6d(0x126)](_0x7600ec):_0x7600ec,_0x8eca57=_0x2fb93c+':\x20'+_0x3afc51;throw this[_0x3b1b6d(0x4c0)][_0x3b1b6d(0x57d)](this[_0x3b1b6d(0x5a5)]+'\x20('+this[_0x3b1b6d(0x144)][_0x3b1b6d(0x6c3)]+_0x3b1b6d(0x468)+_0x8eca57),new m(_0x8eca57);}}async[a0_0x187b1e(0x258)](_0x2055c0,_0x313111){const _0x35d23d=a0_0x187b1e;try{await this[_0x35d23d(0x27d)][_0x35d23d(0x511)](_0x313111,_0x2055c0),this['logger']['info'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x35d23d(0x52d)+_0x2055c0+_0x35d23d(0xa9)+_0x313111+_0x35d23d(0x626));}catch(_0x5de969){console['error'](_0x35d23d(0x338)+_0x2055c0+'\x20ao\x20chat\x20'+_0x313111+':',_0x5de969);}}async['RemoveChatLabel'](_0x4164e1,_0x669b1){const _0x2886e3=a0_0x187b1e;try{await this[_0x2886e3(0x27d)][_0x2886e3(0x350)](_0x669b1,_0x4164e1),this[_0x2886e3(0x4c0)][_0x2886e3(0x12a)](this[_0x2886e3(0x5a5)]+'\x20('+this[_0x2886e3(0x144)][_0x2886e3(0x6c3)]+'):\x20Label\x20'+_0x4164e1+_0x2886e3(0x473)+_0x669b1+_0x2886e3(0x626));}catch(_0x158de5){console[_0x2886e3(0x57d)](_0x2886e3(0x11b)+_0x4164e1+'\x20do\x20chat\x20'+_0x669b1+':',_0x158de5);}}async[a0_0x187b1e(0x6d0)](_0x1669dc){const _0x3d3201=a0_0x187b1e;try{let _0x5bd73f=await this[_0x3d3201(0x2ed)][_0x3d3201(0x6cf)][_0x3d3201(0x50f)](this[_0x3d3201(0x144)]['wuid']),_0x34778e=_0x1669dc[_0x3d3201(0xf5)]?_0x5bd73f['agents'][_0x3d3201(0x314)](_0x356467=>_0x356467[_0x3d3201(0xf5)]===_0x1669dc[_0x3d3201(0xf5)]):-0x1;if(_0x1669dc[_0x3d3201(0x6c5)]&&_0x34778e>-0x1)_0x5bd73f[_0x3d3201(0x364)]['splice'](_0x34778e,0x1);else{if(_0x34778e>-0x1){let _0x4f5cd4=_0x5bd73f[_0x3d3201(0x364)][_0x34778e];_0x1669dc[_0x3d3201(0x512)]&&(_0x4f5cd4[_0x3d3201(0x512)]=_0x1669dc['fone']),_0x1669dc[_0x3d3201(0x19a)]&&(_0x4f5cd4[_0x3d3201(0x19a)]=_0x1669dc[_0x3d3201(0x19a)]),_0x1669dc['email']&&(_0x4f5cd4[_0x3d3201(0x571)]=_0x1669dc[_0x3d3201(0x571)]),_0x1669dc[_0x3d3201(0x715)]&&(_0x4f5cd4[_0x3d3201(0x715)]=_0x1669dc[_0x3d3201(0x715)]);}else _0x5bd73f['agents'][_0x3d3201(0x764)]({'_id':_0x1669dc[_0x3d3201(0xf5)]||new re[(_0x3d3201(0x605))]['Types'][(_0x3d3201(0x3f6))]()['toString'](),'fone':_0x1669dc['fone'],'name':_0x1669dc[_0x3d3201(0x19a)],'email':_0x1669dc[_0x3d3201(0x571)],'role':_0x1669dc[_0x3d3201(0x715)]});}let _0x1f79cb={'agents':_0x5bd73f[_0x3d3201(0x364)]},_0x31bca4=await this[_0x3d3201(0x2ed)][_0x3d3201(0x6cf)]['update'](_0x1f79cb,this[_0x3d3201(0x144)][_0x3d3201(0x6c3)]);return this[_0x3d3201(0x599)]=_0x31bca4,this['logger'][_0x3d3201(0x4e0)](this[_0x3d3201(0x5a5)]+'\x20('+this[_0x3d3201(0x144)][_0x3d3201(0x6c3)]+_0x3d3201(0x321)),this['logger'][_0x3d3201(0x4e0)](this['instanceName']+'\x20('+this[_0x3d3201(0x144)][_0x3d3201(0x6c3)]+'):\x20'+this[_0x3d3201(0x599)]),_0x31bca4;}catch(_0x44b40b){let _0x2cb080=_0x3d3201(0x5b7),_0x586247=_0x44b40b instanceof Error?_0x44b40b[_0x3d3201(0x3df)]:typeof _0x44b40b==_0x3d3201(0x5ad)?JSON[_0x3d3201(0x126)](_0x44b40b):_0x44b40b,_0x3647d4=_0x2cb080+':\x20'+_0x586247;throw this['logger'][_0x3d3201(0x57d)](this[_0x3d3201(0x5a5)]+'\x20('+this[_0x3d3201(0x144)][_0x3d3201(0x6c3)]+_0x3d3201(0x468)+_0x3647d4),new m(_0x3647d4);}}async[a0_0x187b1e(0x5c9)](_0x13d6b5){const _0x41034d=a0_0x187b1e;try{let _0x4a3d7c=await this[_0x41034d(0x2ed)][_0x41034d(0x6cf)]['findOrCreate'](this[_0x41034d(0x144)]['wuid']),_0x35f4fb=_0x13d6b5[_0x41034d(0xf5)]?_0x4a3d7c['customFields'][_0x41034d(0x314)](_0x3b4b0e=>_0x3b4b0e[_0x41034d(0xf5)]===_0x13d6b5[_0x41034d(0xf5)]):-0x1,_0x25a44f=!0x1,_0x2c92d5=_0x4a3d7c['customFields'][_0x41034d(0x559)](_0x5cb5f5=>_0x5cb5f5['order']===_0x13d6b5[_0x41034d(0x736)]);if(_0x13d6b5[_0x41034d(0x6c5)]&&_0x35f4fb>-0x1)_0x4a3d7c['customFields'][_0x41034d(0x4af)](_0x35f4fb,0x1),_0x25a44f=!0x0;else{if(_0x35f4fb>-0x1){if(_0x4a3d7c[_0x41034d(0x115)][_0x41034d(0x559)](_0x2e4e64=>_0x2e4e64[_0x41034d(0x19a)]===_0x13d6b5['name']&&_0x2e4e64[_0x41034d(0xf5)]!==_0x13d6b5[_0x41034d(0xf5)]))throw new Error(_0x41034d(0x6e2));let _0x46456c=_0x4a3d7c[_0x41034d(0x115)][_0x35f4fb];_0x13d6b5[_0x41034d(0x736)]&&(_0x2c92d5||!Number[_0x41034d(0x3c6)](_0x13d6b5[_0x41034d(0x736)]))&&(_0x46456c[_0x41034d(0x736)]=_0x13d6b5[_0x41034d(0x736)],_0x25a44f=!0x0),_0x13d6b5[_0x41034d(0x19a)]&&(_0x46456c['name']=_0x13d6b5[_0x41034d(0x19a)]);}else{if(_0x4a3d7c['customFields'][_0x41034d(0x559)](_0x4dc005=>_0x4dc005[_0x41034d(0x19a)]===_0x13d6b5[_0x41034d(0x19a)]&&_0x4dc005[_0x41034d(0xf5)]!==_0x13d6b5[_0x41034d(0xf5)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20j\x20existe.');_0x4a3d7c[_0x41034d(0x115)][_0x41034d(0x764)]({'_id':_0x13d6b5[_0x41034d(0xf5)]||new re[(_0x41034d(0x605))][(_0x41034d(0x204))][(_0x41034d(0x3f6))]()['toString'](),'order':_0x13d6b5[_0x41034d(0x736)],'name':_0x13d6b5[_0x41034d(0x19a)]}),_0x25a44f=!0x0;}}if(_0x25a44f){_0x4a3d7c[_0x41034d(0x115)][_0x41034d(0x32e)]((_0x5a98fa,_0xeb830d)=>_0x5a98fa[_0x41034d(0x736)]>_0xeb830d['order']?0x1:_0xeb830d['order']>_0x5a98fa[_0x41034d(0x736)]?-0x1:0x0);for(let _0x5011b5=0x0;_0x5011b5<_0x4a3d7c['customFields'][_0x41034d(0x6ab)];_0x5011b5++)_0x4a3d7c[_0x41034d(0x115)][_0x5011b5][_0x41034d(0x736)]=_0x5011b5+0x1;}let _0x4b0cdd=await this['repository']['automateSystem'][_0x41034d(0x297)](_0x4a3d7c,this[_0x41034d(0x144)][_0x41034d(0x6c3)]);return this[_0x41034d(0x599)]=_0x4b0cdd,this[_0x41034d(0x4c0)][_0x41034d(0x4e0)](this[_0x41034d(0x5a5)]+'\x20('+this['instance'][_0x41034d(0x6c3)]+_0x41034d(0x40b)),this[_0x41034d(0x4c0)][_0x41034d(0x4e0)](this[_0x41034d(0x5a5)]+'\x20('+this[_0x41034d(0x144)][_0x41034d(0x6c3)]+_0x41034d(0x468)+this[_0x41034d(0x599)]),_0x4b0cdd;}catch(_0x32f8c4){let _0x1f7137=_0x41034d(0x6f2),_0x2b7db6=_0x32f8c4 instanceof Error?_0x32f8c4[_0x41034d(0x3df)]:typeof _0x32f8c4==_0x41034d(0x5ad)?JSON['stringify'](_0x32f8c4):_0x32f8c4,_0x470919=_0x1f7137+':\x20'+_0x2b7db6;throw this[_0x41034d(0x4c0)][_0x41034d(0x57d)](this[_0x41034d(0x5a5)]+'\x20('+this[_0x41034d(0x144)][_0x41034d(0x6c3)]+'):\x20'+_0x470919),new m(_0x470919);}}async[a0_0x187b1e(0x740)](_0x1e5feb){const _0x95fbd1=a0_0x187b1e;try{let _0x4c574c=await this['repository'][_0x95fbd1(0x6cf)][_0x95fbd1(0x50f)](this['instance'][_0x95fbd1(0x6c3)]),_0x2ed0b3=_0x4c574c?.[_0x95fbd1(0x15e)]?.[_0x95fbd1(0x314)](_0x44d3d1=>_0x44d3d1[_0x95fbd1(0xf5)]===_0x1e5feb?.['_id']);if(_0x1e5feb?.['delete'])_0x2ed0b3>-0x1&&_0x4c574c?.[_0x95fbd1(0x15e)]?.[_0x95fbd1(0x4af)](_0x2ed0b3,0x1);else{if(_0x2ed0b3>-0x1){let _0x1df00c=_0x4c574c[_0x95fbd1(0x15e)][_0x2ed0b3];_0x1df00c[_0x95fbd1(0x736)]=_0x1e5feb?.[_0x95fbd1(0x736)]||_0x1df00c[_0x95fbd1(0x736)],_0x1df00c[_0x95fbd1(0x114)]=_0x1e5feb?.[_0x95fbd1(0x114)]||_0x1df00c[_0x95fbd1(0x114)],_0x1df00c[_0x95fbd1(0x3df)]=_0x1e5feb?.[_0x95fbd1(0x3df)]||_0x1df00c[_0x95fbd1(0x3df)];}else{let _0x31e08c={'_id':_0x1e5feb?.[_0x95fbd1(0xf5)]||new re[(_0x95fbd1(0x605))][(_0x95fbd1(0x204))]['ObjectId']()['toString'](),'order':_0x1e5feb?.[_0x95fbd1(0x736)],'command':_0x1e5feb?.[_0x95fbd1(0x114)],'message':_0x1e5feb?.[_0x95fbd1(0x3df)]};_0x4c574c?.['autoCompleteMessages']?.[_0x95fbd1(0x764)](_0x31e08c);}}_0x4c574c?.[_0x95fbd1(0x15e)]?.[_0x95fbd1(0x32e)]((_0xaca086,_0xcf0a54)=>_0xaca086['order']-_0xcf0a54['order']);let _0x45360c=await this[_0x95fbd1(0x2ed)][_0x95fbd1(0x6cf)][_0x95fbd1(0x297)](_0x4c574c,this[_0x95fbd1(0x144)][_0x95fbd1(0x6c3)]);return this[_0x95fbd1(0x599)]=_0x45360c,this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x95fbd1(0x6c3)]+_0x95fbd1(0x40b)),_0x45360c;}catch(_0x54325a){let _0x38aaa7=_0x95fbd1(0x1e5),_0x4600e8=_0x54325a instanceof Error?_0x54325a[_0x95fbd1(0x3df)]:typeof _0x54325a==_0x95fbd1(0x5ad)?JSON[_0x95fbd1(0x126)](_0x54325a):_0x54325a,_0x1c245e=_0x38aaa7+':\x20'+_0x4600e8;throw this[_0x95fbd1(0x4c0)][_0x95fbd1(0x57d)](this[_0x95fbd1(0x5a5)]+'\x20('+this[_0x95fbd1(0x144)][_0x95fbd1(0x6c3)]+_0x95fbd1(0x468)+_0x1c245e),new m(_0x1c245e);}}async[a0_0x187b1e(0x5be)](_0x563304){const _0x4ca9fc=a0_0x187b1e;try{let _0x29dce5=await this[_0x4ca9fc(0x2ed)][_0x4ca9fc(0x6cf)]['findOrCreate'](this['instance'][_0x4ca9fc(0x6c3)]);if(!_0x29dce5)throw new Error(_0x4ca9fc(0x641));let _0x24f177={'_id':_0x29dce5['_id'],'flowConfig':{'enabled':_0x563304[_0x4ca9fc(0x5bc)]??_0x29dce5['flowConfig'][_0x4ca9fc(0x5bc)],'ignoreGroups':_0x563304[_0x4ca9fc(0x1a1)]??_0x29dce5[_0x4ca9fc(0x15c)][_0x4ca9fc(0x1a1)],'prefixCommand':_0x563304[_0x4ca9fc(0x549)]??_0x29dce5['flowConfig'][_0x4ca9fc(0x549)],'stopConversation':_0x563304[_0x4ca9fc(0x59c)]??_0x29dce5[_0x4ca9fc(0x15c)]['stopConversation'],'stopMinutes':_0x563304[_0x4ca9fc(0x3b0)]??_0x29dce5[_0x4ca9fc(0x15c)][_0x4ca9fc(0x3b0)],'stopWhenYouSendMsg':_0x563304[_0x4ca9fc(0x2cc)]??_0x29dce5[_0x4ca9fc(0x15c)][_0x4ca9fc(0x2cc)]}},_0x51f216=await this[_0x4ca9fc(0x2ed)][_0x4ca9fc(0x6cf)][_0x4ca9fc(0x297)](_0x24f177,this[_0x4ca9fc(0x144)][_0x4ca9fc(0x6c3)]);return this['AutomateSystem']=_0x51f216,this['logger'][_0x4ca9fc(0x4e0)](this['instanceName']+'\x20('+this[_0x4ca9fc(0x144)]['wuid']+_0x4ca9fc(0x321)),this[_0x4ca9fc(0x4c0)][_0x4ca9fc(0x4e0)](this[_0x4ca9fc(0x5a5)]+'\x20('+this[_0x4ca9fc(0x144)]['wuid']+_0x4ca9fc(0x468)+this['AutomateSystem']),setTimeout(()=>this[_0x4ca9fc(0x695)](),0x7d0),_0x51f216;}catch(_0x42638e){let _0x26c79c=_0x4ca9fc(0x5e2),_0x5da079=_0x42638e instanceof Error?_0x42638e['message']:typeof _0x42638e==_0x4ca9fc(0x5ad)?JSON['stringify'](_0x42638e):_0x42638e,_0x26ce48=_0x26c79c+':\x20'+_0x5da079;throw this['logger']['error'](this[_0x4ca9fc(0x5a5)]+'\x20('+this[_0x4ca9fc(0x144)]['wuid']+_0x4ca9fc(0x468)+_0x26ce48),new m(_0x26ce48);}}async[a0_0x187b1e(0x1a3)](){const _0x1e0ea2=a0_0x187b1e;try{let _0x54bf26=await this[_0x1e0ea2(0x2ed)][_0x1e0ea2(0x6cf)][_0x1e0ea2(0x50f)](this[_0x1e0ea2(0x144)]['wuid']);return this[_0x1e0ea2(0x599)]=_0x54bf26,this[_0x1e0ea2(0x4c0)][_0x1e0ea2(0x4e0)](this[_0x1e0ea2(0x5a5)]+'\x20('+this[_0x1e0ea2(0x144)]['wuid']+_0x1e0ea2(0x469)),this[_0x1e0ea2(0x4c0)][_0x1e0ea2(0x4e0)](this[_0x1e0ea2(0x599)]),_0x54bf26;}catch(_0x37b07c){let _0x457953=_0x1e0ea2(0x75c),_0x3ee6ce=_0x37b07c instanceof Error?_0x37b07c[_0x1e0ea2(0x3df)]:typeof _0x37b07c==_0x1e0ea2(0x5ad)?JSON[_0x1e0ea2(0x126)](_0x37b07c):_0x37b07c,_0x2d19f0=_0x457953+':\x20'+_0x3ee6ce;throw this['logger']['error'](this[_0x1e0ea2(0x5a5)]+'\x20('+this[_0x1e0ea2(0x144)][_0x1e0ea2(0x6c3)]+_0x1e0ea2(0x468)+_0x2d19f0),new m(_0x2d19f0);}}async[a0_0x187b1e(0x393)](){const _0x142c6b=a0_0x187b1e;this[_0x142c6b(0x144)]['ScheduleMessage']['timeout']&&clearTimeout(this['instance']['ScheduleMessage']['timeout']),this[_0x142c6b(0x144)][_0x142c6b(0x35e)]['timeout']=setTimeout(()=>{const _0x42f99a=_0x142c6b;this[_0x42f99a(0x55f)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x187b1e(0x55f)](){const _0x2ea38c=a0_0x187b1e;Date[_0x2ea38c(0x34b)]()-this[_0x2ea38c(0x144)][_0x2ea38c(0x35e)]['lastSend']>=0x1d4c0&&(this[_0x2ea38c(0x4c0)][_0x2ea38c(0x4e0)](this[_0x2ea38c(0x5a5)]+'\x20('+this[_0x2ea38c(0x144)][_0x2ea38c(0x6c3)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x2ea38c(0x144)][_0x2ea38c(0x35e)][_0x2ea38c(0x24b)]=null,this[_0x2ea38c(0x144)][_0x2ea38c(0x35e)][_0x2ea38c(0x2ca)]=0x0,this[_0x2ea38c(0x144)][_0x2ea38c(0x35e)][_0x2ea38c(0x344)]=0x0,await this[_0x2ea38c(0x695)]());}async[a0_0x187b1e(0x695)](){const _0x16bf3c=a0_0x187b1e;let _0x128022=()=>{const _0x1000ec=a0_0xf8f0;this[_0x1000ec(0x4c0)][_0x1000ec(0x4e0)](this[_0x1000ec(0x5a5)]+'\x20('+this[_0x1000ec(0x144)][_0x1000ec(0x6c3)]+_0x1000ec(0xc0)+this[_0x1000ec(0x144)][_0x1000ec(0x35e)][_0x1000ec(0x24b)]+_0x1000ec(0x19b));},_0x1fe1bc=async()=>{const _0x39a4ff=a0_0xf8f0;this[_0x39a4ff(0x4c0)][_0x39a4ff(0x4e0)](this[_0x39a4ff(0x5a5)]+'\x20('+this[_0x39a4ff(0x144)][_0x39a4ff(0x6c3)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x58a14e=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x5763e9={'where':{'status':{'$in':[_0x39a4ff(0x403),_0x39a4ff(0x5ef)]},'$or':[{'when':{'$lte':Date[_0x39a4ff(0x34b)](),'$gte':_0x58a14e}},{'when':0x0}]}};return await this[_0x39a4ff(0x2ed)][_0x39a4ff(0x40e)][_0x39a4ff(0x528)](_0x5763e9,this[_0x39a4ff(0x144)][_0x39a4ff(0x6c3)]);},_0x211333=async _0x41772c=>{const _0x5af4a7=a0_0xf8f0;for(let _0x298156 of _0x41772c){let _0x589890={'_id':_0x298156[_0x5af4a7(0xf5)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5af4a7(0x34b)]()-0x1770}}]},_0x2429bf={'startSend':Date[_0x5af4a7(0x34b)]()};if(!await this[_0x5af4a7(0x2ed)][_0x5af4a7(0x40e)][_0x5af4a7(0x190)](_0x589890,_0x2429bf,this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]))return;if(!this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x25c)]){this[_0x5af4a7(0x4c0)][_0x5af4a7(0x4e0)](this['instanceName']+'\x20('+this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]+_0x5af4a7(0x6be));break;}if(_0x298156[_0x5af4a7(0x5d3)]===_0x5af4a7(0x70a)&&!this[_0x5af4a7(0x599)]?.[_0x5af4a7(0x15c)]['enabled']){this[_0x5af4a7(0x4c0)]['error'](this[_0x5af4a7(0x5a5)]+'\x20('+this['instance'][_0x5af4a7(0x6c3)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x298156['remoteJidsRemaining']||_0x298156[_0x5af4a7(0x29c)][_0x5af4a7(0x6ab)]===0x0)&&(_0x298156=await this[_0x5af4a7(0x2ed)][_0x5af4a7(0x40e)][_0x5af4a7(0x132)](_0x298156[_0x5af4a7(0xf5)],{'status':_0x5af4a7(0x5ef),'remoteJidsRemaining':[..._0x298156[_0x5af4a7(0x75a)]]},this[_0x5af4a7(0x144)]['wuid']));for(let _0x45b827 of _0x298156[_0x5af4a7(0x29c)]){if(await this['setRestartTimeout'](),this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x2ca)]=Date[_0x5af4a7(0x34b)](),this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x4f6)]===_0x45b827){this[_0x5af4a7(0x4c0)][_0x5af4a7(0x57d)](this[_0x5af4a7(0x5a5)]+'\x20('+this[_0x5af4a7(0x144)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x45b827+_0x5af4a7(0x65b));let _0x12f21b={'$push':{'messagesSend':{'remoteJid':_0x45b827,'error':!0x0,'id':null,'error_log':_0x5af4a7(0x5eb),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x45b827}};await this[_0x5af4a7(0x2ed)][_0x5af4a7(0x40e)]['updateOneById'](_0x298156[_0x5af4a7(0xf5)],_0x12f21b,this['instance'][_0x5af4a7(0x6c3)]);continue;}if(this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x4f6)]=_0x45b827,_0x298156[_0x5af4a7(0xa0)]['some'](_0xe3a6c8=>_0xe3a6c8[_0x5af4a7(0x580)]===_0x45b827)){this['logger'][_0x5af4a7(0x4e0)](this[_0x5af4a7(0x5a5)]+'\x20('+this['instance'][_0x5af4a7(0x6c3)]+_0x5af4a7(0x657)+_0x45b827+_0x5af4a7(0x240));continue;}if(!this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x25c)]){this['logger']['verbose'](this[_0x5af4a7(0x5a5)]+'\x20('+this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]+_0x5af4a7(0x210));break;}if(!this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)]['processing_id']){this[_0x5af4a7(0x4c0)][_0x5af4a7(0x4e0)](this[_0x5af4a7(0x5a5)]+'\x20('+this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]+_0x5af4a7(0x3bc)+_0x298156[_0x5af4a7(0xf5)]+_0x5af4a7(0x479));break;}if(_0x298156[_0x5af4a7(0x5d3)]===_0x5af4a7(0x70a)&&!this['AutomateSystem']?.['flowConfig']['enabled']){this['logger']['error'](this[_0x5af4a7(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5af4a7(0x38d));break;}let _0x3c26fa={'remoteJid':_0x45b827,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x5af4a7(0x34b)]()},_0x46e6ef=null;try{let _0x206240=await this[_0x5af4a7(0x1b6)](_0x45b827,_0x298156);_0x3c26fa[_0x5af4a7(0x57d)]=_0x206240[_0x5af4a7(0x57d)],_0x3c26fa['id']=_0x206240[_0x5af4a7(0x57d)]?null:_0x206240['id'],_0x3c26fa[_0x5af4a7(0xc8)]=_0x206240['error']?_0x206240[_0x5af4a7(0x6f1)]?_0x206240[_0x5af4a7(0x6f1)][_0x5af4a7(0x56e)]():'':null;let _0x4daf45={'$push':{'messagesSend':_0x3c26fa},'$pull':{'remoteJidsRemaining':_0x45b827}},_0x2e590b=_0x298156[_0x5af4a7(0xf5)];if(_0x46e6ef=await this[_0x5af4a7(0x2ed)][_0x5af4a7(0x40e)][_0x5af4a7(0x132)](_0x2e590b,_0x4daf45,this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]),_0x206240[_0x5af4a7(0x57d)])continue;let _0x212894=this[_0x5af4a7(0x422)](_0x298156[_0x5af4a7(0x2d7)],_0x298156[_0x5af4a7(0x6f7)]);await this[_0x5af4a7(0x19f)](_0x212894);}catch(_0x29a26c){this['logger']['error'](this[_0x5af4a7(0x5a5)]+'\x20('+this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]+_0x5af4a7(0x1e0)+_0x45b827+':\x20'+(_0x29a26c instanceof Error?_0x29a26c[_0x5af4a7(0x3df)]:JSON[_0x5af4a7(0x126)](_0x29a26c,null,0x2))),_0x3c26fa[_0x5af4a7(0x57d)]=!0x0,_0x3c26fa[_0x5af4a7(0xc8)]=_0x29a26c[_0x5af4a7(0x3df)];let _0x51fa13={'$push':{'messagesSend':_0x3c26fa},'$pull':{'remoteJidsRemaining':_0x45b827}},_0x170b86=_0x298156[_0x5af4a7(0xf5)];_0x46e6ef=await this[_0x5af4a7(0x2ed)]['scheduleMessage'][_0x5af4a7(0x132)](_0x170b86,_0x51fa13,this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]);}finally{if(_0x46e6ef&&_0x46e6ef[_0x5af4a7(0x391)]===_0x5af4a7(0x44d)){this[_0x5af4a7(0x4c0)]['verbose'](this[_0x5af4a7(0x5a5)]+'\x20('+this[_0x5af4a7(0x144)]['wuid']+_0x5af4a7(0x3bc)+_0x298156['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0xbc2200=await this['repository'][_0x5af4a7(0x40e)][_0x5af4a7(0x308)](_0x298156['_id'],this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]);if(_0xbc2200[_0x5af4a7(0x29c)]['length']===0x0&&_0xbc2200[_0x5af4a7(0x391)]!==_0x5af4a7(0x44d)){this[_0x5af4a7(0x144)][_0x5af4a7(0x35e)][_0x5af4a7(0x4f6)]=null;let _0x1ca17e={'$set':{'status':_0x5af4a7(0xec)}},_0xe405c9=_0xbc2200[_0x5af4a7(0xf5)];await this[_0x5af4a7(0x2ed)]['scheduleMessage'][_0x5af4a7(0x132)](_0xe405c9,_0x1ca17e,this[_0x5af4a7(0x144)][_0x5af4a7(0x6c3)]);}await new Promise(_0x419cda=>setTimeout(_0x419cda,0x1388));}},_0x42be96=async()=>{const _0x3c1a85=a0_0xf8f0;let _0x409cbf={'where':{'status':_0x3c1a85(0x403),'when':{'$gt':Date[_0x3c1a85(0x34b)]()}}},_0x406f60=await this['repository'][_0x3c1a85(0x40e)][_0x3c1a85(0x525)](_0x409cbf,this[_0x3c1a85(0x144)]['wuid']);_0x406f60&&_0x406f60[_0x3c1a85(0x663)]-Date[_0x3c1a85(0x34b)]()<=0x5265c00?this[_0x3c1a85(0x144)][_0x3c1a85(0x35e)][_0x3c1a85(0x344)]=_0x406f60[_0x3c1a85(0x663)]-Date[_0x3c1a85(0x34b)]():this[_0x3c1a85(0x144)][_0x3c1a85(0x35e)][_0x3c1a85(0x344)]=(0x3c+Math[_0x3c1a85(0x3c4)](Math['random']()*0x3c))*0x3c*0x3e8,this['instance'][_0x3c1a85(0x35e)][_0x3c1a85(0x344)]=Math[_0x3c1a85(0x5cf)](this['instance'][_0x3c1a85(0x35e)][_0x3c1a85(0x344)],0x7d0);let _0x5c40c0=Math[_0x3c1a85(0x102)](this['instance']['ScheduleMessage']['delayMessage']/0xea60);if(_0x406f60){let _0x5a8d95=new Date(_0x406f60[_0x3c1a85(0x663)])[_0x3c1a85(0x652)]();this['logger']['verbose'](this[_0x3c1a85(0x5a5)]+'\x20('+this[_0x3c1a85(0x144)][_0x3c1a85(0x6c3)]+_0x3c1a85(0x284)+_0x5a8d95+',\x20far\x20nova\x20verificao\x20em\x20'+_0x5c40c0+'\x20minutos');}else this['logger'][_0x3c1a85(0x4e0)](this[_0x3c1a85(0x5a5)]+'\x20('+this[_0x3c1a85(0x144)][_0x3c1a85(0x6c3)]+'):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20'+_0x5c40c0+_0x3c1a85(0x217));setTimeout(()=>this[_0x3c1a85(0x695)](),this[_0x3c1a85(0x144)][_0x3c1a85(0x35e)][_0x3c1a85(0x344)]);};if(this['instance'][_0x16bf3c(0x35e)][_0x16bf3c(0x24b)]){await this[_0x16bf3c(0x393)](),_0x128022();return;}if(!this[_0x16bf3c(0x144)][_0x16bf3c(0x35e)]['isConnected']){this[_0x16bf3c(0x4c0)][_0x16bf3c(0x4e0)](this[_0x16bf3c(0x5a5)]+'\x20('+this[_0x16bf3c(0x144)][_0x16bf3c(0x6c3)]+_0x16bf3c(0x6e4)),this[_0x16bf3c(0x144)][_0x16bf3c(0x35e)][_0x16bf3c(0x24b)]=null,this['instance'][_0x16bf3c(0x35e)]['lastSend']=0x0,this['instance'][_0x16bf3c(0x35e)][_0x16bf3c(0x344)]=0x0,this[_0x16bf3c(0x144)]['ScheduleMessage'][_0x16bf3c(0x4f6)]=null;return;}try{let _0x3007ff=await _0x1fe1bc();_0x3007ff[_0x16bf3c(0x6ab)]===0x0?this[_0x16bf3c(0x4c0)]['verbose'](this[_0x16bf3c(0x5a5)]+'\x20('+this[_0x16bf3c(0x144)][_0x16bf3c(0x6c3)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x16bf3c(0x144)]['ScheduleMessage']['processing_id']=_0x3007ff[0x0][_0x16bf3c(0xf5)],await _0x211333(_0x3007ff)),await _0x42be96(),this[_0x16bf3c(0x144)][_0x16bf3c(0x35e)]['processing_id']=null,this[_0x16bf3c(0x144)][_0x16bf3c(0x35e)]['ultimaTentativaRemoteJid']=null;}catch(_0x456996){this['logger'][_0x16bf3c(0x57d)](_0x16bf3c(0x6a8)+(_0x456996 instanceof Error?_0x456996[_0x16bf3c(0x3df)]:JSON[_0x16bf3c(0x126)](_0x456996,null,0x2)));}}['getDelay'](_0x4e24dc,_0x187a4a){const _0x550aa7=a0_0x187b1e;return _0x4e24dc=Math[_0x550aa7(0x5cf)](0.5,_0x4e24dc),_0x187a4a=Math[_0x550aa7(0x2c2)](Math['max'](0x3,_0x187a4a),0x78),Math[_0x550aa7(0x3c4)](Math[_0x550aa7(0x1ca)]()*(_0x187a4a-_0x4e24dc+0x1)+_0x4e24dc)*0x3e8;}['sleep'](_0x4eea28){return new Promise(_0x31e898=>setTimeout(_0x31e898,_0x4eea28));}async['getVariablesChat'](_0x5be936){const _0x1a54d2=a0_0x187b1e;if(!this[_0x1a54d2(0x599)]&&(await this[_0x1a54d2(0x1a3)](),!this[_0x1a54d2(0x599)]))return null;_0x5be936=this[_0x1a54d2(0x253)](_0x5be936);let _0x4cc656=await this[_0x1a54d2(0x2ed)][_0x1a54d2(0x30d)][_0x1a54d2(0x525)]({'where':{'_id':_0x5be936}},this[_0x1a54d2(0x144)][_0x1a54d2(0x6c3)]),_0x41e9af={};if(_0x4cc656&&_0x4cc656['leadInfo']){let _0x455c8d=_0x4cc656[_0x1a54d2(0x2ad)];typeof _0x455c8d[_0x1a54d2(0x5b0)]==_0x1a54d2(0x36c)&&(_0x41e9af[_0x1a54d2(0x5b0)]=_0x455c8d['nome']),typeof _0x455c8d['nomecompleto']==_0x1a54d2(0x36c)&&(_0x41e9af[_0x1a54d2(0x709)]=_0x455c8d[_0x1a54d2(0x709)]),typeof _0x455c8d['email']==_0x1a54d2(0x36c)&&(_0x41e9af[_0x1a54d2(0x571)]=_0x455c8d['email']),typeof _0x455c8d['cpf']=='string'&&(_0x41e9af[_0x1a54d2(0x50d)]=_0x455c8d[_0x1a54d2(0x50d)]),typeof _0x455c8d[_0x1a54d2(0x391)]=='string'&&(_0x41e9af['status']=_0x455c8d[_0x1a54d2(0x391)]),typeof _0x455c8d[_0x1a54d2(0xb7)]==_0x1a54d2(0x36c)&&(_0x41e9af['notas']=_0x455c8d[_0x1a54d2(0xb7)]),typeof _0x455c8d[_0x1a54d2(0x22d)]==_0x1a54d2(0x36c)&&(_0x41e9af[_0x1a54d2(0x22d)]=_0x455c8d[_0x1a54d2(0x22d)]),Array[_0x1a54d2(0x414)](_0x455c8d[_0x1a54d2(0x233)])&&(_0x41e9af[_0x1a54d2(0x233)]=_0x455c8d[_0x1a54d2(0x233)]['join'](',\x20')),Array[_0x1a54d2(0x414)](_0x455c8d[_0x1a54d2(0x596)])&&(_0x41e9af[_0x1a54d2(0x596)]=_0x455c8d[_0x1a54d2(0x596)][_0x1a54d2(0x119)](',\x20'));}return _0x4cc656&&_0x4cc656[_0x1a54d2(0x2ad)]&&_0x4cc656[_0x1a54d2(0x2ad)]['customFields']&&_0x4cc656[_0x1a54d2(0x2ad)]['customFields'][_0x1a54d2(0x4d6)](_0x1f51f4=>{const _0x367803=_0x1a54d2;let _0x2d2b31=this[_0x367803(0x599)]?.[_0x367803(0x115)][_0x367803(0x528)](_0x23ba95=>_0x23ba95[_0x367803(0xf5)]===_0x1f51f4[_0x367803(0xf5)]);_0x2d2b31&&(_0x41e9af[_0x2d2b31[_0x367803(0x19a)]]=_0x1f51f4[_0x367803(0x189)]);}),_0x41e9af;}async[a0_0x187b1e(0x161)](_0x35f809,_0x173496){const _0x112724=a0_0x187b1e;try{let _0x2143cc=await this[_0x112724(0x642)](_0x173496);return this[_0x112724(0x702)](_0x35f809,_0x2143cc);}catch(_0x178e13){return this[_0x112724(0x4c0)]['error'](_0x112724(0x388)+_0x173496+':\x20'+_0x178e13),_0x35f809;}}async[a0_0x187b1e(0xd0)](_0x235183){const _0x430793=a0_0x187b1e;try{if(this[_0x430793(0x4c0)][_0x430793(0x4e0)](this[_0x430793(0x5a5)]+'\x20('+this[_0x430793(0x144)]['wuid']+_0x430793(0x1e7)),_0x235183[_0x430793(0x6c5)]&&_0x235183['_id']){if(this[_0x430793(0x144)][_0x430793(0x35e)][_0x430793(0x24b)]===_0x235183['_id'][_0x430793(0x56e)]())throw new Error(_0x430793(0x53f));let _0x137309=await this[_0x430793(0x2ed)][_0x430793(0x40e)][_0x430793(0x584)](_0x235183[_0x430793(0xf5)],this[_0x430793(0x144)][_0x430793(0x6c3)]);return setTimeout(()=>this[_0x430793(0x695)](),0x7d0),_0x137309;}let _0x2da9ad;if(_0x235183[_0x430793(0xf5)]&&(_0x2da9ad=await this[_0x430793(0x2ed)][_0x430793(0x40e)][_0x430793(0x308)](_0x235183[_0x430793(0xf5)],this['instance'][_0x430793(0x6c3)])),_0x2da9ad){let _0x438ed;if(this[_0x430793(0x144)][_0x430793(0x35e)][_0x430793(0x24b)]===_0x2da9ad['_id'][_0x430793(0x56e)]())_0x438ed={'$set':{'status':_0x235183[_0x430793(0x391)]}};else{let {_id:_0x384359,..._0x35a2aa}=_0x235183;_0x438ed={'$set':_0x35a2aa};}let _0x5abdcf=await this['repository'][_0x430793(0x40e)][_0x430793(0x132)](_0x235183[_0x430793(0xf5)],_0x438ed,this['instance'][_0x430793(0x6c3)]);return setTimeout(()=>this[_0x430793(0x695)](),0x7d0),_0x5abdcf;}else{_0x235183['owner']=this['instance'][_0x430793(0x6c3)];let _0x1eda4b=await this[_0x430793(0x2ed)]['scheduleMessage'][_0x430793(0x578)](_0x235183,this[_0x430793(0x144)][_0x430793(0x6c3)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1eda4b;}}catch(_0x4fb3e6){let _0x151c8b='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x54be07=_0x4fb3e6 instanceof Error?_0x4fb3e6['message']:typeof _0x4fb3e6=='object'?JSON[_0x430793(0x126)](_0x4fb3e6):_0x4fb3e6,_0x420d23=_0x151c8b+':\x20'+_0x54be07;throw this['logger'][_0x430793(0x57d)](this['instanceName']+'\x20('+this[_0x430793(0x144)][_0x430793(0x6c3)]+'):\x20'+_0x420d23),new m(_0x420d23);}}async[a0_0x187b1e(0x669)](){const _0x380c9c=a0_0x187b1e;try{return await this[_0x380c9c(0x2ed)][_0x380c9c(0x40e)][_0x380c9c(0x528)]({'where':{}},this[_0x380c9c(0x144)][_0x380c9c(0x6c3)]);}catch(_0x2b7b38){let _0x1c3d8c='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x5da7e9=_0x2b7b38 instanceof Error?_0x2b7b38['message']:typeof _0x2b7b38==_0x380c9c(0x5ad)?JSON[_0x380c9c(0x126)](_0x2b7b38):_0x2b7b38,_0x277e9f=_0x1c3d8c+':\x20'+_0x5da7e9;throw this['logger']['error'](this[_0x380c9c(0x5a5)]+'\x20('+this[_0x380c9c(0x144)][_0x380c9c(0x6c3)]+_0x380c9c(0x468)+_0x277e9f),new m(_0x277e9f);}}async[a0_0x187b1e(0x597)](){const _0x2de72e=a0_0x187b1e;try{let _0x104bac={'status':'done'},_0x278cf5=await this[_0x2de72e(0x2ed)]['scheduleMessage'][_0x2de72e(0x526)](_0x104bac,this['instance'][_0x2de72e(0x6c3)]);if(!_0x278cf5[_0x2de72e(0x57d)])this['logger'][_0x2de72e(0x4e0)](this[_0x2de72e(0x5a5)]+'\x20('+this[_0x2de72e(0x144)][_0x2de72e(0x6c3)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x278cf5[_0x2de72e(0x57d)]['message']||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x35fbd6){let _0x5d69b5=_0x2de72e(0x3c8),_0x5b6e28=_0x35fbd6 instanceof Error?_0x35fbd6['message']:typeof _0x35fbd6=='object'?JSON[_0x2de72e(0x126)](_0x35fbd6):_0x35fbd6,_0x428382=_0x5d69b5+':\x20'+_0x5b6e28;throw this[_0x2de72e(0x4c0)][_0x2de72e(0x57d)](this[_0x2de72e(0x5a5)]+'\x20('+this[_0x2de72e(0x144)]['wuid']+'):\x20'+_0x428382),new m(_0x428382);}}async[a0_0x187b1e(0x1b6)](_0x32b2bf,_0x4797bb){const _0x4a8ee7=a0_0x187b1e;try{if(_0x4797bb[_0x4a8ee7(0x5d3)]===_0x4a8ee7(0x70a)&&!this['AutomateSystem']?.[_0x4a8ee7(0x15c)][_0x4a8ee7(0x5bc)])return this[_0x4a8ee7(0x4c0)][_0x4a8ee7(0x57d)](this[_0x4a8ee7(0x5a5)]+'\x20('+this[_0x4a8ee7(0x144)]['wuid']+_0x4a8ee7(0x1ff)),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x4797bb['type']){case _0x4a8ee7(0x54d):return await this[_0x4a8ee7(0x6fe)](_0x4797bb,_0x32b2bf);case'media':return await this['scheduleSendMedia'](_0x4797bb,_0x32b2bf);case _0x4a8ee7(0x6d6):return await this['scheduleSendAudio'](_0x4797bb,_0x32b2bf);case _0x4a8ee7(0x70a):let _0x1a3cc8=new Fe();return _0x1a3cc8[_0x4a8ee7(0x19a)]=_0x4797bb['flowName'],_0x1a3cc8[_0x4a8ee7(0x580)]=_0x32b2bf,await this[_0x4a8ee7(0x577)](_0x1a3cc8);break;default:return this[_0x4a8ee7(0x4c0)][_0x4a8ee7(0x57d)](this[_0x4a8ee7(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x4797bb[_0x4a8ee7(0x5d3)]),{'error':!0x0,'detail':_0x4a8ee7(0x334)};}}catch(_0x5924fb){return this[_0x4a8ee7(0x4c0)][_0x4a8ee7(0x57d)](this[_0x4a8ee7(0x5a5)]+'\x20('+this[_0x4a8ee7(0x144)][_0x4a8ee7(0x6c3)]+_0x4a8ee7(0x396)+(_0x5924fb instanceof Error?_0x5924fb[_0x4a8ee7(0x3df)]:JSON['stringify'](_0x5924fb,null,0x2))),{'error':!0x0,'detail':_0x5924fb[_0x4a8ee7(0x3df)]};}}[a0_0x187b1e(0x173)](_0x467c50){const _0x59b17e=a0_0x187b1e;let _0x12b11=_0x467c50[_0x59b17e(0x214)]('|'),_0x290aef=Math[_0x59b17e(0x3c4)](Math['random']()*_0x12b11['length']);return _0x12b11[_0x290aef][_0x59b17e(0x689)]();}async['scheduleSendText'](_0x343cc5,_0x15aa14){const _0x3b509b=a0_0x187b1e;if(this[_0x3b509b(0x4c0)]['verbose'](this[_0x3b509b(0x5a5)]+'\x20('+this['instance'][_0x3b509b(0x6c3)]+_0x3b509b(0x493)),!_0x343cc5[_0x3b509b(0x3df)]['text']||_0x343cc5[_0x3b509b(0x3df)]['text'][_0x3b509b(0x6ab)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x345dd7=this[_0x3b509b(0x173)](_0x343cc5['message'][_0x3b509b(0x54d)]),_0x42d589=await this[_0x3b509b(0x161)](_0x345dd7,_0x15aa14),_0x3bfb33={'number':_0x15aa14,'options':{'delay':_0x343cc5[_0x3b509b(0x3df)]['delay'],'linkPreview':_0x343cc5[_0x3b509b(0x3df)][_0x3b509b(0x86)]},'textMessage':{'text':_0x42d589}},_0x44e84f=null;try{let _0x30ff6f=await this[_0x3b509b(0x60b)](_0x3bfb33);if(_0x30ff6f&&_0x30ff6f[_0x3b509b(0x391)])return{'error':!0x1,'id':_0x30ff6f[_0x3b509b(0xfe)]['id']};_0x44e84f=JSON['stringify'](_0x30ff6f),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3b509b(0x144)][_0x3b509b(0x6c3)]+_0x3b509b(0x468)+_0x44e84f);}catch(_0x4a8514){this[_0x3b509b(0x4c0)][_0x3b509b(0x57d)](this[_0x3b509b(0x5a5)]+'\x20('+this[_0x3b509b(0x144)][_0x3b509b(0x6c3)]+_0x3b509b(0x62f)+(_0x4a8514 instanceof Error?_0x4a8514[_0x3b509b(0x3df)]:JSON[_0x3b509b(0x126)](_0x4a8514,null,0x2))),_0x44e84f=_0x4a8514[_0x3b509b(0x3df)];}if(_0x44e84f)return{'error':!0x0,'detail':(typeof _0x44e84f==_0x3b509b(0x5ad)?JSON[_0x3b509b(0x126)](_0x44e84f,null,0x2):_0x44e84f)[_0x3b509b(0x2f2)](/[\[\]{}\n]/g,'\x20')[_0x3b509b(0x2f2)](/  +/g,'\x20')};}async[a0_0x187b1e(0x439)](_0x30b5cb,_0x46d856){const _0x2176d9=a0_0x187b1e;this['logger'][_0x2176d9(0x4e0)](this[_0x2176d9(0x5a5)]+'\x20('+this['instance']['wuid']+_0x2176d9(0x307));let _0x3bd8bf;if(_0x30b5cb[_0x2176d9(0x3df)][_0x2176d9(0x54d)]&&_0x30b5cb['message'][_0x2176d9(0x54d)][_0x2176d9(0x6ab)]>0x0){let _0x3c9294=this[_0x2176d9(0x173)](_0x30b5cb[_0x2176d9(0x3df)][_0x2176d9(0x54d)]);_0x3bd8bf=await this[_0x2176d9(0x161)](_0x3c9294,_0x46d856);}let _0x1f876e={'number':_0x46d856,'options':{'delay':_0x30b5cb[_0x2176d9(0x3df)][_0x2176d9(0x185)],'linkPreview':_0x30b5cb[_0x2176d9(0x3df)][_0x2176d9(0x86)]},'mediaMessage':{'mediatype':_0x30b5cb['message'][_0x2176d9(0x756)],'caption':_0x3bd8bf,'media':_0x30b5cb['message']['urlOrBase64']}},_0x55c44d=null;try{let _0x5c0191=await this[_0x2176d9(0x4f9)](_0x1f876e);if(_0x5c0191&&_0x5c0191['status'])return{'error':!0x1,'id':_0x5c0191[_0x2176d9(0xfe)]['id']};_0x55c44d=JSON[_0x2176d9(0x126)](_0x5c0191),this[_0x2176d9(0x4c0)][_0x2176d9(0x4e0)](this[_0x2176d9(0x5a5)]+'\x20('+this[_0x2176d9(0x144)][_0x2176d9(0x6c3)]+_0x2176d9(0x468)+_0x55c44d);}catch(_0x2df894){this[_0x2176d9(0x4c0)][_0x2176d9(0x57d)](this[_0x2176d9(0x5a5)]+'\x20('+this['instance']['wuid']+_0x2176d9(0x613)+(_0x2df894 instanceof Error?_0x2df894[_0x2176d9(0x3df)]:JSON[_0x2176d9(0x126)](_0x2df894,null,0x2))),_0x55c44d=_0x2df894['message'];}if(_0x55c44d)return{'error':!0x0,'detail':(typeof _0x55c44d==_0x2176d9(0x5ad)?JSON[_0x2176d9(0x126)](_0x55c44d,null,0x2):_0x55c44d)[_0x2176d9(0x2f2)](/[\[\]{}\n]/g,'\x20')[_0x2176d9(0x2f2)](/  +/g,'\x20')};}async[a0_0x187b1e(0x6c9)](_0x2de9de,_0xc2a5a9){const _0x1b8eac=a0_0x187b1e;this[_0x1b8eac(0x4c0)][_0x1b8eac(0x4e0)](this[_0x1b8eac(0x5a5)]+'\x20('+this[_0x1b8eac(0x144)][_0x1b8eac(0x6c3)]+_0x1b8eac(0x624));let _0x50e897={'number':_0xc2a5a9,'options':{'delay':_0x2de9de[_0x1b8eac(0x3df)][_0x1b8eac(0x185)]},'audioMessage':{'audio':_0x2de9de[_0x1b8eac(0x3df)][_0x1b8eac(0x146)]}},_0x205ba2=null;try{let _0x1783df=await this['audioWhatsapp'](_0x50e897);if(_0x1783df&&_0x1783df['status'])return{'error':!0x1,'id':_0x1783df['key']['id']};_0x205ba2=JSON[_0x1b8eac(0x126)](_0x1783df),this[_0x1b8eac(0x4c0)]['verbose'](this[_0x1b8eac(0x5a5)]+'\x20('+this['instance'][_0x1b8eac(0x6c3)]+'):\x20'+_0x205ba2);}catch(_0x473ccc){this[_0x1b8eac(0x4c0)][_0x1b8eac(0x57d)](this['instanceName']+'\x20('+this[_0x1b8eac(0x144)]['wuid']+_0x1b8eac(0x726)+(_0x473ccc instanceof Error?_0x473ccc['message']:JSON[_0x1b8eac(0x126)](_0x473ccc,null,0x2))),_0x205ba2=_0x473ccc[_0x1b8eac(0x3df)];}if(_0x205ba2)return{'error':!0x0,'detail':(typeof _0x205ba2==_0x1b8eac(0x5ad)?JSON[_0x1b8eac(0x126)](_0x205ba2,null,0x2):_0x205ba2)[_0x1b8eac(0x2f2)](/[\[\]{}\n]/g,'\x20')[_0x1b8eac(0x2f2)](/  +/g,'\x20')};}async[a0_0x187b1e(0x2c3)](_0x1c1a4f){const _0x3b3593=a0_0x187b1e;try{return await this['client']['groupUpdateDescription'](_0x1c1a4f[_0x3b3593(0x6ed)],_0x1c1a4f[_0x3b3593(0x46a)]),{'update':_0x3b3593(0x38a)};}catch(_0x33b549){let _0x5e1400='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc',_0x47752a=_0x33b549 instanceof Error?_0x33b549[_0x3b3593(0x3df)]:typeof _0x33b549=='object'?JSON[_0x3b3593(0x126)](_0x33b549):_0x33b549,_0x546f66=_0x5e1400+':\x20'+_0x47752a;throw this[_0x3b3593(0x4c0)]['error'](this[_0x3b3593(0x5a5)]+'\x20('+this[_0x3b3593(0x144)]['wuid']+'):\x20'+_0x546f66),new I(_0x546f66);}}async[a0_0x187b1e(0x89)](_0x48af62){const _0x59b1d1=a0_0x187b1e;try{return await this[_0x59b1d1(0x27d)][_0x59b1d1(0x47c)](_0x48af62[_0x59b1d1(0x6ed)],_0x48af62[_0x59b1d1(0x19a)]),{'update':_0x59b1d1(0x38a)};}catch(_0x235292){let _0x103148='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName',_0x5d8529=_0x235292 instanceof Error?_0x235292[_0x59b1d1(0x3df)]:typeof _0x235292=='object'?JSON[_0x59b1d1(0x126)](_0x235292):_0x235292,_0x129f32=_0x103148+':\x20'+_0x5d8529;throw this[_0x59b1d1(0x4c0)]['error'](this[_0x59b1d1(0x5a5)]+'\x20('+this[_0x59b1d1(0x144)][_0x59b1d1(0x6c3)]+_0x59b1d1(0x468)+_0x129f32),new I(_0x129f32);}}async[a0_0x187b1e(0x41a)](_0x1469cc){const _0x379b9e=a0_0x187b1e;try{let _0x35f7fe=await this[_0x379b9e(0x27d)][_0x379b9e(0x2d9)](_0x1469cc[_0x379b9e(0x6ed)],_0x1469cc['expiration']);return{'success':!0x0};}catch(_0x49478c){let _0xdec4d1=_0x379b9e(0x4f5),_0x431786=_0x49478c instanceof Error?_0x49478c[_0x379b9e(0x3df)]:typeof _0x49478c==_0x379b9e(0x5ad)?JSON[_0x379b9e(0x126)](_0x49478c):_0x49478c,_0x29bd01=_0xdec4d1+':\x20'+_0x431786;throw this['logger'][_0x379b9e(0x57d)](this[_0x379b9e(0x5a5)]+'\x20('+this[_0x379b9e(0x144)][_0x379b9e(0x6c3)]+_0x379b9e(0x468)+_0x29bd01),new I(_0x29bd01);}}async[a0_0x187b1e(0x65d)](_0x3a12fd){const _0x3dca22=a0_0x187b1e;try{return await this[_0x3dca22(0x27d)][_0x3dca22(0x48e)](_0x3a12fd[_0x3dca22(0x6ed)],_0x3a12fd['setting']),{'update':_0x3dca22(0x38a)};}catch(_0x3d3606){let _0x9e1f5c='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting',_0x562338=_0x3d3606 instanceof Error?_0x3d3606[_0x3dca22(0x3df)]:typeof _0x3d3606==_0x3dca22(0x5ad)?JSON[_0x3dca22(0x126)](_0x3d3606):_0x3d3606,_0x1039de=_0x9e1f5c+':\x20'+_0x562338;throw this[_0x3dca22(0x4c0)][_0x3dca22(0x57d)](this[_0x3dca22(0x5a5)]+'\x20('+this[_0x3dca22(0x144)][_0x3dca22(0x6c3)]+_0x3dca22(0x468)+_0x1039de),new I(_0x1039de);}}},Jt=class c{constructor(_0x213a85,_0x1b2192,_0x5e8d8d){const _0x4c0f18=a0_0x187b1e;this[_0x4c0f18(0x3e3)]=_0x213a85,this[_0x4c0f18(0x684)]=_0x1b2192,this['repository']=_0x5e8d8d,this['db']={},this[_0x4c0f18(0x6af)]={},this['logger']=new R(c[_0x4c0f18(0x19a)]),this[_0x4c0f18(0x3e0)]={},(this[_0x4c0f18(0x206)](),this['noConnection'](),Object[_0x4c0f18(0x5af)](this['db'],_0x1b2192[_0x4c0f18(0x8e)](_0x4c0f18(0x228))),Object[_0x4c0f18(0x5af)](this['redis'],_0x1b2192[_0x4c0f18(0x8e)](_0x4c0f18(0x2a4))),this['dbInstance']=this['db'][_0x4c0f18(0x6ad)]?this[_0x4c0f18(0x2ed)][_0x4c0f18(0x37d)]?.['db'](this['db'][_0x4c0f18(0x7f)][_0x4c0f18(0x4e3)]+_0x4c0f18(0x3c5)):void 0x0,this['cache']=this[_0x4c0f18(0x6af)][_0x4c0f18(0x6ad)]?new le(this[_0x4c0f18(0x6af)]):void 0x0);}async[a0_0x187b1e(0xb3)](_0x1807f8){const _0x2c546c=a0_0x187b1e;if(_0x1807f8&&!this[_0x2c546c(0x3e0)][_0x1807f8])throw new J('Instance\x20\x22'+_0x1807f8+_0x2c546c(0x44f));let _0xc6a23e=[];for await(let [_0x1ef2c9,_0x47cf35]of Object[_0x2c546c(0x466)](this[_0x2c546c(0x3e0)]))if(_0x47cf35&&_0x47cf35[_0x2c546c(0x2e7)][_0x2c546c(0x713)]===_0x2c546c(0xa5)){let _0x3d42f1=await this[_0x2c546c(0x2ed)][_0x2c546c(0x207)][_0x2c546c(0x528)](_0x1ef2c9);_0xc6a23e[_0x2c546c(0x764)]({'instance':{'instanceName':_0x1ef2c9,'apikey':_0x3d42f1['apikey'],'owner':_0x47cf35['wuid'],'profileName':await _0x47cf35['getProfileName']()||_0x2c546c(0xe7),'profilePictureUrl':_0x47cf35[_0x2c546c(0x1ed)]}});}return _0xc6a23e['find'](_0x444408=>_0x444408[_0x2c546c(0x144)]['instanceName']===_0x1807f8)??_0xc6a23e;}async[a0_0x187b1e(0x6df)](_0x491894){const _0x4504db=a0_0x187b1e;if(this['db']['ENABLED']&&(await this[_0x4504db(0x2ed)][_0x4504db(0x37d)][_0x4504db(0x587)](),(await this['dbInstance'][_0x4504db(0x61e)]())[_0x4504db(0x6ab)]>0x0&&await this[_0x4504db(0x611)][_0x4504db(0x4ab)](_0x491894)),this[_0x4504db(0x6af)][_0x4504db(0x6ad)]){this[_0x4504db(0x4e9)][_0x4504db(0xe3)]=_0x491894,await this[_0x4504db(0x4e9)][_0x4504db(0x675)]();return;}}async[a0_0x187b1e(0x19d)](){const _0x50dafb=a0_0x187b1e;await this['InstancesAlterarTodas']();let _0x115eb2=async _0x2945c6=>{const _0xd1e9cf=a0_0xf8f0;let _0x4fde0e=new Me(this[_0xd1e9cf(0x684)],this['eventEmitter'],this[_0xd1e9cf(0x2ed)]);_0x4fde0e[_0xd1e9cf(0x5a5)]=_0x2945c6,await _0x4fde0e[_0xd1e9cf(0x20b)](),this['waInstances'][_0x2945c6]=_0x4fde0e;};try{if(this[_0x50dafb(0x6af)][_0x50dafb(0x6ad)]){let _0x31a3b5=await this[_0x50dafb(0x4e9)][_0x50dafb(0x541)]();_0x31a3b5?.[_0x50dafb(0x6ab)]>0x0&&_0x31a3b5[_0x50dafb(0x4d6)](async _0x27c117=>await _0x115eb2(_0x27c117[_0x50dafb(0x214)](':')[0x1]));return;}if(this['db'][_0x50dafb(0x6ad)]){await this[_0x50dafb(0x2ed)][_0x50dafb(0x37d)]['connect']();let _0x29a044=await this[_0x50dafb(0x611)][_0x50dafb(0x61e)]();_0x29a044[_0x50dafb(0x6ab)]>0x0&&_0x29a044[_0x50dafb(0x4d6)](async _0x2d0c13=>await _0x115eb2(_0x2d0c13['namespace'][_0x50dafb(0x2f2)](/^[\w-]+\./,'')));return;}}catch(_0xe35f05){this[_0x50dafb(0x4c0)][_0x50dafb(0x57d)](_0xe35f05);}}async['InstancesAsDisconnectedX'](){const _0x449922=a0_0x187b1e;let _0x1f3a9a=await this[_0x449922(0x2ed)][_0x449922(0x207)][_0x449922(0x6b2)](),_0x56a157=_0x1f3a9a['filter'](_0x392720=>!this[_0x449922(0x3e0)][_0x392720[_0x449922(0xf5)]]&&(_0x392720[_0x449922(0x1d2)]||typeof _0x392720['online']>'u'));_0x56a157[_0x449922(0x6ab)]>0x0&&await Promise[_0x449922(0x372)](_0x56a157[_0x449922(0x687)](async _0x128c3f=>{const _0x429c8b=_0x449922;let _0x1e5712={'online':!0x1,'lastDisconnect':Date[_0x429c8b(0x34b)]()};await this[_0x429c8b(0x2ed)][_0x429c8b(0x207)][_0x429c8b(0x57f)](_0x1e5712,_0x128c3f['_id']);}));let _0x28d9ce=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x455eb1=_0x1f3a9a['filter'](_0x60701e=>!this[_0x449922(0x3e0)][_0x60701e['_id']]&&typeof _0x60701e['lastDisconnect']<'u'&&_0x60701e[_0x449922(0x17c)]<_0x28d9ce);_0x455eb1['length']>0x0&&await Promise[_0x449922(0x372)](_0x455eb1[_0x449922(0x687)](async _0x27ff53=>{}));}async[a0_0x187b1e(0x294)](){const _0x28a43e=a0_0x187b1e;try{let _0x4d8102={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1aebf3={'online':!0x1,'lastDisconnect':Date[_0x28a43e(0x34b)]()},_0x3de1e5=await this[_0x28a43e(0x2ed)][_0x28a43e(0x207)][_0x28a43e(0x5de)](_0x4d8102,_0x1aebf3);console[_0x28a43e(0x1e1)]('Instncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x3de1e5[_0x28a43e(0x415)]),await this[_0x28a43e(0x357)]();}catch(_0x24cd00){console[_0x28a43e(0x57d)](_0x28a43e(0x147),_0x24cd00);}}async['removeOlderDisconnectedInstances'](){const _0x55d481=a0_0x187b1e;try{let _0x1135d2={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x513127=await this[_0x55d481(0x2ed)][_0x55d481(0x207)]['deleteMany'](_0x1135d2);console[_0x55d481(0x1e1)](_0x55d481(0x572)+_0x513127[_0x55d481(0x415)]);}catch(_0x294bc0){console['error'](_0x55d481(0x5e8),_0x294bc0);}}[a0_0x187b1e(0x206)](){const _0x3dfc4c=a0_0x187b1e;this[_0x3dfc4c(0x3e3)]['on']('remove.instance',async _0x152802=>{const _0x255cf1=_0x3dfc4c;try{this[_0x255cf1(0x3e0)][_0x152802]=void 0x0;}catch{}try{this[_0x255cf1(0x6df)](_0x152802);}finally{this[_0x255cf1(0x4c0)][_0x255cf1(0x436)](_0x255cf1(0x398)+_0x152802+'\x22\x20-\x20REMOVED');}});}[a0_0x187b1e(0x14f)](){const _0x149bcc=a0_0x187b1e;this['eventEmitter']['on'](_0x149bcc(0x94),async _0x3072e1=>{const _0x281d87=_0x149bcc;try{this[_0x281d87(0x3e0)][_0x3072e1]=void 0x0;}catch{}try{this[_0x281d87(0x6df)](_0x3072e1);}finally{this[_0x281d87(0x4c0)]['warn'](_0x281d87(0x398)+_0x3072e1+_0x281d87(0x6ca));}});}},qt=class extends x{[a0_0x187b1e(0x57e)](_0x4c12ba){return Ks(_0x4c12ba);}async['insert'](_0x56fe76){const _0x3db771=a0_0x187b1e;if(_0x56fe76[_0x3db771(0x6ab)]!==0x0)try{return{'insertCount':(await this[_0x3db771(0x57e)](_0x56fe76[0x0]['owner'])['insertMany']([..._0x56fe76]))[_0x3db771(0x6ab)]};}catch(_0x3585ba){return _0x3585ba;}}async['find'](_0xb188a1,_0x2e13fb){const _0x1b2eec=a0_0x187b1e;try{let _0x1ca97b=this[_0x1b2eec(0x57e)](_0x2e13fb),_0x175158=$(_0xb188a1[_0x1b2eec(0x80)]);return await _0x1ca97b[_0x1b2eec(0x528)](_0x175158)['sort']({'lastmsg':-0x1})[_0x1b2eec(0x3a2)](_0xb188a1?.['limit']??0x0)[_0x1b2eec(0x60c)]();}catch{return[];}}async['delete'](_0x511813,_0x380ac0){const _0x2812e9=a0_0x187b1e;try{return{'deletedCount':(await this[_0x2812e9(0x57e)](_0x380ac0)[_0x2812e9(0x526)]({..._0x511813[_0x2812e9(0x80)]}))['deletedCount']};}catch(_0x3287fd){return{'error':_0x3287fd?.[_0x2812e9(0x56e)]()};}}async[a0_0x187b1e(0x2a7)](_0x41f47d,_0x18b7fe){const _0xfb020=a0_0x187b1e;try{return await this[_0xfb020(0x57e)](_0x18b7fe)[_0xfb020(0x526)]({..._0x41f47d['where']}),[];}catch(_0x4c45ee){return{'error':_0x4c45ee?.[_0xfb020(0x56e)]()};}}async[a0_0x187b1e(0x525)](_0x3e949f,_0x29d747){const _0x3a9b6b=a0_0x187b1e;try{let _0x1395bd=this[_0x3a9b6b(0x57e)](_0x29d747),_0x4dced8=$(_0x3e949f[_0x3a9b6b(0x80)]);return await _0x1395bd['findOne'](_0x4dced8)[_0x3a9b6b(0x60c)]();}catch{return null;}}async[a0_0x187b1e(0x190)](_0x5bd8cf,_0x2fd5fa,_0x2d6b75,_0x3d10fe,_0x3e116f=a0_0x187b1e(0x3fe)){const _0x5a14ef=a0_0x187b1e;try{let _0x1bc639={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3d10fe},_0x226161=this[_0x5a14ef(0x57e)](_0x2d6b75),_0x2a0935=$(_0x5bd8cf['where']);Object[_0x5a14ef(0xcf)](_0x2fd5fa)[_0x5a14ef(0x4d6)](_0xc48ad9=>{_0x2fd5fa[_0xc48ad9]==null&&delete _0x2fd5fa[_0xc48ad9];});let _0x14cd0b={};return _0x14cd0b[_0x3e116f]=_0x2fd5fa,await _0x226161[_0x5a14ef(0x56d)](_0x2a0935,_0x14cd0b,_0x1bc639);}catch(_0xf6bb63){return console[_0x5a14ef(0x57d)](_0xf6bb63),null;}}async[a0_0x187b1e(0x5cb)](_0x3cede1){const _0x172e1f=a0_0x187b1e;try{let _0x32d6e4=this['getChatModelForOwner'](_0x3cede1[0x0][_0x172e1f(0x4ba)][_0x172e1f(0x80)][_0x172e1f(0xdd)]),_0x45f34d=_0x3cede1[_0x172e1f(0x687)](_0x45782a=>({'updateOne':{'filter':{..._0x45782a[_0x172e1f(0x4ba)][_0x172e1f(0x80)]},'update':{'$set':_0x45782a[_0x172e1f(0x297)]},'upsert':!0x0}})),_0x5d6ab1=await _0x32d6e4['bulkWrite'](_0x45f34d);return _0x5d6ab1['modifiedCount']+_0x5d6ab1[_0x172e1f(0x3e1)];}catch(_0x246f89){return console[_0x172e1f(0x57d)](_0x246f89),0x0;}}async[a0_0x187b1e(0x1a9)](_0x188c0a){const _0x58d75b=a0_0x187b1e;try{let _0x4ae452={'group_isCommunity':'','group_announce':'','group_size':''},_0x2cfe1b={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x549544={'$unset':_0x4ae452};return(await this[_0x58d75b(0x57e)](_0x188c0a)['updateMany'](_0x2cfe1b,_0x549544))[_0x58d75b(0x590)];}catch(_0x2a4170){return console['error']('Error\x20removing\x20unused\x20chat\x20fields:',_0x2a4170),0x0;}}async[a0_0x187b1e(0x4cf)](_0xe0694b){const _0x4439d7=a0_0x187b1e;try{let _0xbe9a=this['getChatModelForOwner'](_0xe0694b),_0x353482={'leadInfo.etiquetas':{'$exists':!0x1}},_0xb654a4={'$set':{'leadInfo.etiquetas':[]}};return(await _0xbe9a[_0x4439d7(0x5cb)](_0x353482,_0xb654a4))[_0x4439d7(0x590)];}catch(_0x4ed48a){return console[_0x4439d7(0x57d)](_0x4ed48a),0x0;}}async[a0_0x187b1e(0x347)](_0x1040fe){const _0x4ed9cd=a0_0x187b1e;try{let _0x5146c6=this[_0x4ed9cd(0x57e)](_0x1040fe),_0x858c1={'leadInfo.tags':{'$exists':!0x1}},_0xbcf606={'$set':{'leadInfo.tags':[]}};return(await _0x5146c6[_0x4ed9cd(0x5cb)](_0x858c1,_0xbcf606))[_0x4ed9cd(0x590)];}catch(_0x5421f5){return console[_0x4ed9cd(0x57d)](_0x5421f5),0x0;}}async[a0_0x187b1e(0x1bd)](_0x4675d9){const _0x8e9de4=a0_0x187b1e;try{let _0x38d524=this['getChatModelForOwner'](_0x4675d9),_0x21c3c5={'leadInfo.customFields':{'$exists':!0x1}},_0x4079a4={'$set':{'leadInfo.customFields':[]}};return(await _0x38d524[_0x8e9de4(0x5cb)](_0x21c3c5,_0x4079a4))[_0x8e9de4(0x590)];}catch(_0x175480){return console[_0x8e9de4(0x57d)](_0x175480),0x0;}}async[a0_0x187b1e(0x2a6)](_0xc57598,_0x220b58){const _0x5dd6ff=a0_0x187b1e;if(!Array[_0x5dd6ff(0x414)](_0xc57598)||_0xc57598['length']===0x0)throw new Error(_0x5dd6ff(0x659));try{return(await this[_0x5dd6ff(0x57e)](_0x220b58)[_0x5dd6ff(0x2a6)](_0xc57598))[_0x5dd6ff(0x6ab)];}catch(_0x4e437a){throw console[_0x5dd6ff(0x57d)](_0x5dd6ff(0x437),_0x4e437a),_0x4e437a;}}async['deleteChat'](_0x402cac,_0x2baa31){const _0x499a0a=a0_0x187b1e;try{await this[_0x499a0a(0x57e)](_0x2baa31)[_0x499a0a(0x584)]({'_id':_0x402cac});}catch(_0x397bbd){throw console[_0x499a0a(0x57d)](_0x499a0a(0xaf),_0x397bbd),_0x397bbd;}}},Vt=class extends x{constructor(_0x2de322,_0x2e3cd6,_0x388d38){const _0x1880c3=a0_0x187b1e;super(_0x2e3cd6),this[_0x1880c3(0x2bb)]=_0x2de322,this[_0x1880c3(0x684)]=_0x2e3cd6,this['dbConnection']=_0x388d38;}async[a0_0x187b1e(0x37c)](_0xe9ac97){const _0x52f693=a0_0x187b1e;if(_0xe9ac97[_0x52f693(0x6ab)]!==0x0)try{return{'insertCount':(await this[_0x52f693(0x2bb)][_0x52f693(0x2a6)]([..._0xe9ac97]))[_0x52f693(0x6ab)]};}catch(_0x2e6e2c){return _0x2e6e2c;}}async[a0_0x187b1e(0x297)](_0x1becec,_0x4e78d5){const _0x38aeda=a0_0x187b1e;try{let _0x4b0570=$(_0x1becec['where']);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x4b0570,{'$set':_0x4e78d5}))[_0x38aeda(0x590)]};}catch(_0x4aba8d){return console['error'](_0x38aeda(0xeb),_0x4aba8d),{'error':_0x4aba8d[_0x38aeda(0x56e)]()};}}async[a0_0x187b1e(0x1af)](_0x3b37fa){const _0x1bd26f=a0_0x187b1e;try{let _0x1d3ade={'_id':{'$in':_0x3b37fa}};return await this[_0x1bd26f(0x2bb)][_0x1bd26f(0x528)](_0x1d3ade)[_0x1bd26f(0x60c)]();}catch(_0x36006d){return console['error'](_0x1bd26f(0x6ef),_0x36006d),[];}}async[a0_0x187b1e(0x6c5)](_0x28f58d){const _0x3e8085=a0_0x187b1e;try{return{'deletedCount':(await this[_0x3e8085(0x2bb)]['deleteMany']({..._0x28f58d[_0x3e8085(0x80)]}))[_0x3e8085(0x491)]};}catch(_0x33f0f2){return{'error':_0x33f0f2?.[_0x3e8085(0x56e)]()};}}async[a0_0x187b1e(0x528)](_0x2dc609){const _0x2b0e56=a0_0x187b1e;try{let _0x10fe72=$(_0x2dc609['where']);return await this[_0x2b0e56(0x2bb)]['find'](_0x10fe72)[_0x2b0e56(0x3a2)](_0x2dc609?.[_0x2b0e56(0x3a2)]??0x0)[_0x2b0e56(0x60c)]();}catch{return[];}}async['findOne'](_0x3b4989){const _0x5268b3=a0_0x187b1e;try{let _0x10b8f0=$(_0x3b4989[_0x5268b3(0x80)]);return await this['cacheContactModel'][_0x5268b3(0x525)](_0x10b8f0)[_0x5268b3(0x60c)]();}catch{return null;}}},Gt=class extends x{[a0_0x187b1e(0x2e1)](_0x2e97a2){return fa(_0x2e97a2);}async[a0_0x187b1e(0x190)](_0x46e2c1,_0x3b24b7,_0x28a124,_0x42cc26){const _0x1f58f8=a0_0x187b1e;try{let _0x8f30dd={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x42cc26},_0x72883b=this[_0x1f58f8(0x2e1)](_0x28a124),_0x1293fa=$(_0x46e2c1['where']);return await _0x72883b[_0x1f58f8(0x56d)](_0x1293fa,{'$set':_0x3b24b7},_0x8f30dd);}catch(_0x427abf){return console[_0x1f58f8(0x57d)](_0x427abf),null;}}async['find'](_0x761ce3,_0x18d806){const _0x10b322=a0_0x187b1e;try{let _0x225210=this['getLabelModelForOwner'](_0x18d806),_0x255f93=$(_0x761ce3[_0x10b322(0x80)]);return await _0x225210[_0x10b322(0x528)](_0x255f93);}catch(_0x364241){console[_0x10b322(0x57d)](_0x364241);}}async['delete'](_0x29420c,_0x5db989){const _0x580642=a0_0x187b1e;try{let _0x4fcc39=this['getLabelModelForOwner'](_0x5db989),_0x274482=$(_0x29420c['where']);await _0x4fcc39[_0x580642(0x526)](_0x274482);}catch(_0x629b90){console['error'](_0x629b90);}}async[a0_0x187b1e(0x2a7)](_0x286e80){const _0x2cf640=a0_0x187b1e;try{return await this[_0x2cf640(0x2e1)](_0x286e80)[_0x2cf640(0x354)]['drop'](),{'success':!0x0};}catch(_0x221516){return console['error'](_0x221516),{'success':!0x1,'error':_0x221516};}}},Bt=class{constructor(_0x593061){const _0x446c3b=a0_0x187b1e;this[_0x446c3b(0x751)]=_0x593061;}async['editChat']({instanceName:_0x3cae29},_0x5d54fc){const _0x262e14=a0_0x187b1e;return await this[_0x262e14(0x751)]['waInstances'][_0x3cae29][_0x262e14(0x1f3)](_0x5d54fc);}async[a0_0x187b1e(0x696)]({instanceName:_0x43b6d2},_0x51a355){const _0x28aa8d=a0_0x187b1e;return await this[_0x28aa8d(0x751)][_0x28aa8d(0x3e0)][_0x43b6d2]['whatsappNumber'](_0x51a355);}async[a0_0x187b1e(0x163)]({instanceName:_0x51ca85},_0x23e495){const _0x1e332f=a0_0x187b1e;return await this[_0x1e332f(0x751)][_0x1e332f(0x3e0)][_0x51ca85][_0x1e332f(0x163)](_0x23e495);}async[a0_0x187b1e(0x361)]({instanceName:_0xc9cb32},_0xe825b0){const _0x39f91e=a0_0x187b1e;return await this[_0x39f91e(0x751)]['waInstances'][_0xc9cb32]['markMessageAsRead'](_0xe825b0);}async[a0_0x187b1e(0x9a)]({instanceName:_0x2fee7c},_0x325af9){const _0x55e292=a0_0x187b1e;return await this[_0x55e292(0x751)][_0x55e292(0x3e0)][_0x2fee7c][_0x55e292(0x9a)](_0x325af9);}async[a0_0x187b1e(0x1cc)]({instanceName:_0x4874ce},_0x308a3a){return await this['waMonitor']['waInstances'][_0x4874ce]['deleteMessage'](_0x308a3a);}async[a0_0x187b1e(0x155)]({instanceName:_0x21a09a},_0x5a04de){const _0x2ebab9=a0_0x187b1e;return await this[_0x2ebab9(0x751)][_0x2ebab9(0x3e0)][_0x21a09a][_0x2ebab9(0x5f6)](_0x5a04de[_0x2ebab9(0x4e6)]);}async[a0_0x187b1e(0x278)]({instanceName:_0x2b4686},_0x181ba7){const _0x40fc0e=a0_0x187b1e;return await this[_0x40fc0e(0x751)][_0x40fc0e(0x3e0)][_0x2b4686][_0x40fc0e(0x278)](_0x181ba7['number']);}async['updatePresence']({instanceName:_0x164ee0},_0x5733e2){const _0x10ce53=a0_0x187b1e;return await this[_0x10ce53(0x751)][_0x10ce53(0x3e0)][_0x164ee0][_0x10ce53(0x4bc)](_0x5733e2);}async[a0_0x187b1e(0x33a)]({instanceName:_0x59720f},_0xfb7601){const _0x20ab13=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0x59720f][_0x20ab13(0x33a)](_0xfb7601);}async[a0_0x187b1e(0x1b1)]({instanceName:_0x36c605},_0x8e7328){const _0x57ec99=a0_0x187b1e;return await this['waMonitor'][_0x57ec99(0x3e0)][_0x36c605]['getBase64FromMediaMessage'](_0x8e7328);}async['fetchMessages']({instanceName:_0x527371},_0x30179a){const _0x4c397a=a0_0x187b1e;return await this[_0x4c397a(0x751)][_0x4c397a(0x3e0)][_0x527371][_0x4c397a(0x710)](_0x30179a);}async['fetchLabels']({instanceName:_0x25990e}){const _0x5cc39c=a0_0x187b1e;return await this[_0x5cc39c(0x751)][_0x5cc39c(0x3e0)][_0x25990e]['fetchLabels']();}async[a0_0x187b1e(0x219)]({instanceName:_0x2d4083}){const _0xf4831=a0_0x187b1e;return await this[_0xf4831(0x751)][_0xf4831(0x3e0)][_0x2d4083]['fetchChats']();}async[a0_0x187b1e(0x229)]({instanceName:_0x2be48a}){const _0x196d5d=a0_0x187b1e;return await this[_0x196d5d(0x751)][_0x196d5d(0x3e0)][_0x2be48a]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x4c4165},_0x58032c){const _0x5dfdfb=a0_0x187b1e;return await this[_0x5dfdfb(0x751)][_0x5dfdfb(0x3e0)][_0x4c4165][_0x5dfdfb(0x569)](_0x58032c);}async[a0_0x187b1e(0x296)]({instanceName:_0x4ad21d},_0x3e606a){const _0x570972=a0_0x187b1e;return await this['waMonitor'][_0x570972(0x3e0)][_0x4ad21d][_0x570972(0x296)](_0x3e606a['number']);}async[a0_0x187b1e(0x563)]({instanceName:_0x46e05a},_0x167a0d){const _0x3012b6=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0x46e05a][_0x3012b6(0x563)](_0x167a0d[_0x3012b6(0x19a)]);}async[a0_0x187b1e(0x5a9)]({instanceName:_0x1119ec},_0xdfd5ba){const _0x472c52=a0_0x187b1e;return await this[_0x472c52(0x751)][_0x472c52(0x3e0)][_0x1119ec][_0x472c52(0x5a9)](_0xdfd5ba[_0x472c52(0x391)]);}async[a0_0x187b1e(0x4d4)]({instanceName:_0x2649fa},_0x1485b7){const _0x130203=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0x2649fa][_0x130203(0x4d4)](_0x1485b7[_0x130203(0x609)]);}async['removeProfilePicture']({instanceName:_0xcf2127},_0x235d00){const _0x37ee9e=a0_0x187b1e;return await this[_0x37ee9e(0x751)]['waInstances'][_0xcf2127][_0x37ee9e(0x1ef)]();}},Ds=require('@whiskeysockets/baileys'),Wt=class c{constructor(_0x259592,_0x20c193,_0x2599e4,_0x5a6dda,_0x14b835){const _0x405714=a0_0x187b1e;this['waMonitor']=_0x259592,this[_0x405714(0x684)]=_0x20c193,this[_0x405714(0x2ed)]=_0x2599e4,this['eventEmitter']=_0x5a6dda,this[_0x405714(0xaa)]=_0x14b835,this[_0x405714(0x4c0)]=new R(c[_0x405714(0x19a)]);}async[a0_0x187b1e(0x1b8)]({instanceName:_0x54d2d2,apikey:_0x49e92c,number:_0x242070,proxy:_0x142fdc=!0x0}){const _0x3834f9=a0_0x187b1e;try{let _0x31fb6e=new Me(this['configService'],this[_0x3834f9(0x3e3)],this['repository']);_0x31fb6e[_0x3834f9(0x5a5)]=_0x54d2d2,this[_0x3834f9(0x751)][_0x3834f9(0x3e0)][_0x31fb6e[_0x3834f9(0x5a5)]]=_0x31fb6e;let _0x48e3f8={};_0x49e92c?(await this[_0x3834f9(0x2ed)]['auth'][_0x3834f9(0x57f)]({'apikey':_0x49e92c},_0x54d2d2),_0x48e3f8[_0x3834f9(0x704)]=_0x49e92c):_0x48e3f8=await this['authService'][_0x3834f9(0x6fa)]({'instanceName':_0x31fb6e[_0x3834f9(0x5a5)]});let _0x49e6dd;if(_0x242070){if(_0x49e6dd=await this[_0x3834f9(0x242)](_0x242070),_0x49e6dd[_0x3834f9(0x57d)])throw new I(_0x49e6dd[_0x3834f9(0x57d)]['toString']());_0x242070=_0x49e6dd[_0x3834f9(0x4e6)];}let _0x51ab05;return await _0x31fb6e[_0x3834f9(0x20b)](_0x242070),await(0x0,Ds[_0x3834f9(0x185)])(0x7d0),_0x51ab05=_0x31fb6e[_0x3834f9(0x75f)],{'instance':{'instanceName':_0x31fb6e[_0x3834f9(0x5a5)],'status':_0x3834f9(0x5c3)},'hash':_0x48e3f8,'qrcode':_0x51ab05};}catch(_0x481ad5){throw this[_0x3834f9(0x4c0)][_0x3834f9(0x57d)](_0x481ad5),_0x481ad5;}}async[a0_0x187b1e(0x5d8)]({instanceName:_0x2b21ce,number:_0x15ce85=null}){const _0x1ce348=a0_0x187b1e;try{let _0x141afd=this[_0x1ce348(0x751)][_0x1ce348(0x3e0)][_0x2b21ce];switch(_0x141afd?.['connectionStatus']?.['state']){case _0x1ce348(0x750):return await _0x141afd['connectToWhatsapp'](_0x15ce85),await(0x0,Ds[_0x1ce348(0x185)])(0x7d0),_0x141afd['qrCode'];case _0x1ce348(0x70e):return _0x141afd[_0x1ce348(0x75f)];default:return await this[_0x1ce348(0x5d9)]({'instanceName':_0x2b21ce});}}catch(_0x30d1d7){this[_0x1ce348(0x4c0)][_0x1ce348(0x1e1)](_0x30d1d7);}}async[a0_0x187b1e(0x5d9)]({instanceName:_0x524a87}){const _0x1edb29=a0_0x187b1e;let _0x49961b=this[_0x1edb29(0x751)][_0x1edb29(0x3e0)][_0x524a87]['connectionStatus'],_0x351001=null;_0x49961b['state']==='open'&&_0x524a87&&(_0x351001=await this['waMonitor'][_0x1edb29(0xb3)](_0x524a87));let _0x57dfe1=null;return _0x49961b['state']===_0x1edb29(0x70e)&&_0x524a87&&(_0x57dfe1=this['waMonitor'][_0x1edb29(0x3e0)][_0x524a87][_0x1edb29(0x75f)]),{'instance':_0x524a87,'connectionStatus':_0x49961b,'instanceInfo':_0x351001,'qrcode':_0x57dfe1};}async[a0_0x187b1e(0x242)](_0x445e37){const _0x22106e=a0_0x187b1e;_0x445e37=_0x445e37[_0x22106e(0x2f2)](/\D/g,'');let _0x311fe8=Object[_0x22106e(0xcf)](this['waMonitor'][_0x22106e(0x3e0)])[_0x22106e(0x348)](_0x114850=>{const _0x634a19=_0x22106e;let _0x305868=this[_0x634a19(0x751)][_0x634a19(0x3e0)][_0x114850];return _0x305868&&_0x305868[_0x634a19(0x2e7)]&&_0x305868[_0x634a19(0x2e7)][_0x634a19(0x713)]===_0x634a19(0xa5);});if(_0x311fe8[_0x22106e(0x6ab)]===0x0)return{'number':this[_0x22106e(0x6bc)](_0x445e37)};let _0x583516=Math['floor'](Math[_0x22106e(0x1ca)]()*_0x311fe8['length']),_0x1c1bec=_0x311fe8[_0x583516];try{let _0x2775c7=(await this[_0x22106e(0x751)][_0x22106e(0x3e0)][_0x1c1bec]['whatsappNumber']({'numbers':[_0x445e37]}))['shift']();return _0x2775c7[_0x22106e(0x620)]?{'number':_0x2775c7[_0x22106e(0x2b0)]['replace'](_0x22106e(0x40a),'')}:{'number':_0x445e37,'error':_0x22106e(0x48c)};}catch(_0x4e72b7){return this[_0x22106e(0x4c0)][_0x22106e(0x57d)](_0x22106e(0x10d)+_0x4e72b7),{'number':_0x445e37,'error':_0x22106e(0x381)};}}[a0_0x187b1e(0x6bc)](_0x178d72){const _0x1a3d50=a0_0x187b1e;let _0x4f8872=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1a3d50(0x43e)](_0x178d72);if(_0x4f8872&&_0x4f8872[0x1]==='55'){let _0x607ba4=_0x4f8872[0x2],_0x2401e5=_0x4f8872[0x3],_0x4cf173=_0x4f8872[0x4];if(parseInt(_0x607ba4)>=0x1f&&_0x2401e5==='9')return _0x4f8872[0x1]+_0x607ba4+_0x4cf173;}return _0x178d72;}async[a0_0x187b1e(0x5c2)]({instanceName:_0x1bc5b1}){const _0x242a9b=a0_0x187b1e;try{return this[_0x242a9b(0x751)][_0x242a9b(0x3e0)][_0x1bc5b1]?.['client']?.['ws']?.[_0x242a9b(0x750)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x242a9b(0x676)}};}catch(_0x51ad1f){this[_0x242a9b(0x4c0)][_0x242a9b(0x57d)](_0x51ad1f);}}async['fetchInstances']({instanceName:_0x1cca87}){const _0x5a8ad0=a0_0x187b1e;return _0x1cca87?this[_0x5a8ad0(0x751)][_0x5a8ad0(0xb3)](_0x1cca87):this[_0x5a8ad0(0x751)]['instanceInfo']();}async[a0_0x187b1e(0x4d3)]({instanceName:_0x34087b}){const _0x178c4c=a0_0x187b1e;try{return await this['waMonitor'][_0x178c4c(0x3e0)][_0x34087b]?.[_0x178c4c(0x27d)]?.[_0x178c4c(0x4d3)]('Log\x20out\x20instance:\x20'+_0x34087b),{'error':!0x1,'message':_0x178c4c(0x12d)};}catch(_0x5ba749){throw new I(_0x5ba749[_0x178c4c(0x56e)]());}}async['deleteInstance']({instanceName:_0x3b8435}){const _0x390909=a0_0x187b1e;if((await this[_0x390909(0x5d9)]({'instanceName':_0x3b8435}))[_0x390909(0x2e7)][_0x390909(0x713)]==='open')throw new m([_0x390909(0x447),_0x390909(0x6bf)]);try{return delete this[_0x390909(0x751)][_0x390909(0x3e0)][_0x3b8435],{'error':!0x1,'message':_0x390909(0x733)};}catch(_0x11c843){throw new m(_0x11c843[_0x390909(0x56e)]());}}},te=require(a0_0x187b1e(0x5a3)),zt=class{constructor(_0x47c9af){this['waMonitor']=_0x47c9af;}async[a0_0x187b1e(0x202)]({instanceName:_0x3d9257},_0x1a681b){const _0x97ab09=a0_0x187b1e;return await this[_0x97ab09(0x751)]['waInstances'][_0x3d9257]['textMessage'](_0x1a681b);}async[a0_0x187b1e(0x591)]({instanceName:_0x6d9ddb},_0x91a69a){const _0x4c7fce=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0x6d9ddb][_0x4c7fce(0x2ce)](_0x91a69a);}async[a0_0x187b1e(0x5fa)]({instanceName:_0x59992d},_0x1796c7){const _0x4dc99c=a0_0x187b1e;if((0x0,te['isBase64'])(_0x1796c7?.[_0x4dc99c(0x4f9)]?.[_0x4dc99c(0x531)])&&!_0x1796c7?.[_0x4dc99c(0x4f9)]?.[_0x4dc99c(0x5d0)])throw new m(_0x4dc99c(0x6ee));if((0x0,te['isURL'])(_0x1796c7?.[_0x4dc99c(0x4f9)]?.[_0x4dc99c(0x531)])||(0x0,te['isBase64'])(_0x1796c7?.[_0x4dc99c(0x4f9)]?.[_0x4dc99c(0x531)]))return await this[_0x4dc99c(0x751)]['waInstances'][_0x59992d][_0x4dc99c(0x4f9)](_0x1796c7);throw new m(_0x4dc99c(0x3b6));}async[a0_0x187b1e(0x243)]({instanceName:_0x404376},_0xec708a){const _0x5c64bb=a0_0x187b1e;if((0x0,te[_0x5c64bb(0x330)])(_0xec708a[_0x5c64bb(0x222)][_0x5c64bb(0x705)])||(0x0,te[_0x5c64bb(0x556)])(_0xec708a[_0x5c64bb(0x222)][_0x5c64bb(0x705)]))return await this[_0x5c64bb(0x751)]['waInstances'][_0x404376][_0x5c64bb(0x552)](_0xec708a);throw new m(_0x5c64bb(0x3b6));}async[a0_0x187b1e(0x4dd)]({instanceName:_0x5bd314},_0x329a0f){const _0x2cb736=a0_0x187b1e;if((0x0,te['isURL'])(_0x329a0f['audioMessage'][_0x2cb736(0x6d6)])||(0x0,te[_0x2cb736(0x556)])(_0x329a0f[_0x2cb736(0x738)][_0x2cb736(0x6d6)]))return await this[_0x2cb736(0x751)]['waInstances'][_0x5bd314][_0x2cb736(0x6da)](_0x329a0f);throw new m(_0x2cb736(0x3b6));}async[a0_0x187b1e(0x548)]({instanceName:_0xebf71b},_0x52fe63){const _0x7116b3=a0_0x187b1e;if((0x0,te[_0x7116b3(0x556)])(_0x52fe63[_0x7116b3(0x74e)][_0x7116b3(0x4f9)]?.[_0x7116b3(0x531)])&&!_0x52fe63[_0x7116b3(0x74e)][_0x7116b3(0x4f9)]?.[_0x7116b3(0x5d0)])throw new m(_0x7116b3(0x6ee));return await this[_0x7116b3(0x751)]['waInstances'][_0xebf71b][_0x7116b3(0x74e)](_0x52fe63);}async[a0_0x187b1e(0x164)]({instanceName:_0x17832d},_0x1853f6){const _0x5b7b72=a0_0x187b1e;return await this[_0x5b7b72(0x751)][_0x5b7b72(0x3e0)][_0x17832d][_0x5b7b72(0x96)](_0x1853f6);}async[a0_0x187b1e(0x3ad)]({instanceName:_0x212916},_0x5bfb27){const _0x12c49c=a0_0x187b1e;return await this[_0x12c49c(0x751)][_0x12c49c(0x3e0)][_0x212916][_0x12c49c(0x6eb)](_0x5bfb27);}async['sendList']({instanceName:_0x305039},_0x52faf6){const _0x363347=a0_0x187b1e;return await this['waMonitor'][_0x363347(0x3e0)][_0x305039][_0x363347(0x17f)](_0x52faf6);}async[a0_0x187b1e(0x612)]({instanceName:_0x392d07},_0x5c1364){const _0x1525a9=a0_0x187b1e;return await this['waMonitor'][_0x1525a9(0x3e0)][_0x392d07][_0x1525a9(0x3af)](_0x5c1364);}async[a0_0x187b1e(0x646)]({instanceName:_0x41c756},_0x92d928){const _0x451ab2=a0_0x187b1e;if(!_0x92d928['reactionMessage']['reaction'][_0x451ab2(0xb1)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x451ab2(0x630));return await this['waMonitor'][_0x451ab2(0x3e0)][_0x41c756][_0x451ab2(0x181)](_0x92d928);}async['sendStatus']({instanceName:_0x5df8f8},_0x3d5739){const _0x4b6a84=a0_0x187b1e;return await this[_0x4b6a84(0x751)]['waInstances'][_0x5df8f8][_0x4b6a84(0x103)](_0x3d5739);}},Ro=require(a0_0x187b1e(0x3e9)),_s=require(a0_0x187b1e(0x66e)),Ht=class c{constructor(_0x37a78e,_0x48b06a,_0x582bb5){const _0x288ea2=a0_0x187b1e;this[_0x288ea2(0x684)]=_0x37a78e,this[_0x288ea2(0x751)]=_0x48b06a,this[_0x288ea2(0x2ed)]=_0x582bb5,this[_0x288ea2(0x4c0)]=new R(c[_0x288ea2(0x19a)]);}async[a0_0x187b1e(0x8a)](_0x321873){const _0x43ee15=a0_0x187b1e;let _0x27cd0d=this[_0x43ee15(0x684)][_0x43ee15(0x8e)]('AUTHENTICATION')[_0x43ee15(0x153)],_0x95e1eb=(0x0,Ro[_0x43ee15(0x200)])({'instanceName':_0x321873[_0x43ee15(0x5a5)],'apiName':Ze,'tokenId':(0x0,_s['v4'])()},_0x27cd0d['SECRET'],{'expiresIn':_0x27cd0d[_0x43ee15(0x4b8)],'encoding':'utf8','subject':_0x43ee15(0x365)}),_0x2349be=await this[_0x43ee15(0x2ed)][_0x43ee15(0x207)]['create']({'jwt':_0x95e1eb},_0x321873[_0x43ee15(0x5a5)]);if(_0x2349be['error'])throw this[_0x43ee15(0x4c0)]['error']({'localError':c[_0x43ee15(0x19a)]+_0x43ee15(0x8d),'error':_0x2349be[_0x43ee15(0x57d)]}),new m('Authentication\x20error',_0x2349be[_0x43ee15(0x57d)]?.[_0x43ee15(0x56e)]());return{'jwt':_0x95e1eb};}async['apikey'](_0x51cc23){const _0x291878=a0_0x187b1e;let _0x39c872=(0x0,_s['v4'])()[_0x291878(0x529)](),_0x3a825a=await this[_0x291878(0x2ed)]['auth'][_0x291878(0x57f)]({'apikey':_0x39c872},_0x51cc23[_0x291878(0x5a5)]);if(_0x3a825a['error'])throw this[_0x291878(0x4c0)][_0x291878(0x57d)]({'localError':c[_0x291878(0x19a)]+'.jwt','error':_0x3a825a[_0x291878(0x57d)]}),new m(_0x291878(0x28a),_0x3a825a['error']?.[_0x291878(0x56e)]());return{'apikey':_0x39c872};}async[a0_0x187b1e(0x6fa)](_0x26e33b){const _0x58d3eb=a0_0x187b1e;let _0x55b473=this[_0x58d3eb(0x684)][_0x58d3eb(0x8e)](_0x58d3eb(0x5ab));return await this[_0x55b473[_0x58d3eb(0x22c)]](_0x26e33b);}},Kt=class{constructor(_0x119c68){const _0x3556bc=a0_0x187b1e;this[_0x3556bc(0x751)]=_0x119c68;}async[a0_0x187b1e(0x1bb)](_0x28a70b,_0x3cd250){const _0x5db2d7=a0_0x187b1e;return await this[_0x5db2d7(0x751)][_0x5db2d7(0x3e0)][_0x28a70b[_0x5db2d7(0x5a5)]][_0x5db2d7(0x1bb)](_0x3cd250);}async[a0_0x187b1e(0x618)](_0x57387e,_0xd769a8){const _0x44f517=a0_0x187b1e;return await this[_0x44f517(0x751)][_0x44f517(0x3e0)][_0x57387e[_0x44f517(0x5a5)]][_0x44f517(0x618)](_0xd769a8);}async['groupDesc'](_0x2f1f63,_0x28841b){const _0x3c8a7a=a0_0x187b1e;return await this[_0x3c8a7a(0x751)][_0x3c8a7a(0x3e0)][_0x2f1f63['instanceName']][_0x3c8a7a(0x2c3)](_0x28841b);}async[a0_0x187b1e(0x89)](_0x5e4424,_0x6987c1){const _0x488a2c=a0_0x187b1e;return await this['waMonitor'][_0x488a2c(0x3e0)][_0x5e4424[_0x488a2c(0x5a5)]][_0x488a2c(0x89)](_0x6987c1);}async[a0_0x187b1e(0x140)](_0x1cfe1a,_0x54bac3){const _0x1dcfb8=a0_0x187b1e;return await this[_0x1dcfb8(0x751)][_0x1dcfb8(0x3e0)][_0x1cfe1a['instanceName']]['groupBetterSetting'](_0x54bac3);}async[a0_0x187b1e(0x65d)](_0x2c0485,_0x5afc32){const _0xd55fa5=a0_0x187b1e;return await this['waMonitor'][_0xd55fa5(0x3e0)][_0x2c0485[_0xd55fa5(0x5a5)]]['groupSetting'](_0x5afc32);}async[a0_0x187b1e(0x136)](_0x2e95b7,_0x437f53){const _0x860f9d=a0_0x187b1e;return await this[_0x860f9d(0x751)]['waInstances'][_0x2e95b7[_0x860f9d(0x5a5)]][_0x860f9d(0x48b)](_0x437f53);}async[a0_0x187b1e(0x434)](_0x923e34){const _0x156641=a0_0x187b1e;return await this[_0x156641(0x751)][_0x156641(0x3e0)][_0x923e34[_0x156641(0x5a5)]][_0x156641(0x434)]();}async['inviteCode'](_0x54a1ff,_0x3c467f){const _0x5627e1=a0_0x187b1e;return await this[_0x5627e1(0x751)]['waInstances'][_0x54a1ff[_0x5627e1(0x5a5)]]['inviteCode'](_0x3c467f);}async['joinGroup'](_0x2e1497,_0xfc00ef){const _0x2f6a87=a0_0x187b1e;return await this['waMonitor'][_0x2f6a87(0x3e0)][_0x2e1497[_0x2f6a87(0x5a5)]][_0x2f6a87(0x3ce)](_0xfc00ef);}async[a0_0x187b1e(0x251)](_0x32eb47,_0x535589){const _0x5670fe=a0_0x187b1e;return await this[_0x5670fe(0x751)][_0x5670fe(0x3e0)][_0x32eb47[_0x5670fe(0x5a5)]]['groupGetInviteInfo'](_0x535589);}async[a0_0x187b1e(0x1e2)](_0x2b6bf0,_0x1ff7e2){const _0x1b6259=a0_0x187b1e;return await this['waMonitor'][_0x1b6259(0x3e0)][_0x2b6bf0[_0x1b6259(0x5a5)]][_0x1b6259(0x1e2)](_0x1ff7e2);}async[a0_0x187b1e(0x2c8)](_0x4b2f46,_0x1cef97){const _0x3b552d=a0_0x187b1e;return await this['waMonitor'][_0x3b552d(0x3e0)][_0x4b2f46[_0x3b552d(0x5a5)]][_0x3b552d(0x2c8)](_0x1cef97);}async[a0_0x187b1e(0x1dd)](_0x11c9dd,_0x2e30a5){const _0x2da7ce=a0_0x187b1e;return await this[_0x2da7ce(0x751)]['waInstances'][_0x11c9dd['instanceName']][_0x2da7ce(0x42c)](_0x2e30a5);}async[a0_0x187b1e(0x41a)](_0x391067,_0x49f3f6){const _0x3debf4=a0_0x187b1e;return await this[_0x3debf4(0x751)][_0x3debf4(0x3e0)][_0x391067[_0x3debf4(0x5a5)]]['toggleEphemeral'](_0x49f3f6);}async[a0_0x187b1e(0x54b)](_0x3fff29,_0x32db5e){const _0x32b66e=a0_0x187b1e;return await this[_0x32b66e(0x751)][_0x32b66e(0x3e0)][_0x3fff29[_0x32b66e(0x5a5)]][_0x32b66e(0x54b)](_0x32db5e);}},Qt=class{constructor(_0x1a7439){const _0x16cd1b=a0_0x187b1e;this[_0x16cd1b(0x751)]=_0x1a7439;}[a0_0x187b1e(0x57f)](_0x2f61fd,_0x404495){const _0x58c681=a0_0x187b1e;return this['waMonitor'][_0x58c681(0x3e0)][_0x2f61fd['instanceName']][_0x58c681(0x32d)](_0x404495);}async[a0_0x187b1e(0x528)](_0x407f54){const _0x172b85=a0_0x187b1e;try{return await this[_0x172b85(0x751)][_0x172b85(0x3e0)][_0x407f54[_0x172b85(0x5a5)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Ep=new R(a0_0x187b1e(0x4a3)),Yt=class{constructor(_0x212715){this['waMonitor']=_0x212715;}async[a0_0x187b1e(0xd0)](_0x124c98,_0x19e866){const _0x5c218e=a0_0x187b1e;return await this[_0x5c218e(0x751)][_0x5c218e(0x3e0)][_0x124c98[_0x5c218e(0x5a5)]]['editScheduleMessage'](_0x19e866);}async[a0_0x187b1e(0x669)](_0x515e05){const _0x1cf780=a0_0x187b1e;return await this[_0x1cf780(0x751)][_0x1cf780(0x3e0)][_0x515e05[_0x1cf780(0x5a5)]][_0x1cf780(0x669)]();}async[a0_0x187b1e(0x597)](_0x53f280){const _0x591e35=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0x53f280[_0x591e35(0x5a5)]]['deleteDoneMessages']();}async[a0_0x187b1e(0x1a3)](_0x1c6233){const _0x580933=a0_0x187b1e;return await this[_0x580933(0x751)][_0x580933(0x3e0)][_0x1c6233['instanceName']][_0x580933(0x1a3)]();}async['updateAgent'](_0x11b9d2,_0x4d4cde){const _0x70fe04=a0_0x187b1e;return await this[_0x70fe04(0x751)][_0x70fe04(0x3e0)][_0x11b9d2['instanceName']][_0x70fe04(0x6d0)](_0x4d4cde);}async[a0_0x187b1e(0x5c9)](_0x5312a6,_0x3331e8){const _0xb5c40=a0_0x187b1e;return await this['waMonitor'][_0xb5c40(0x3e0)][_0x5312a6['instanceName']][_0xb5c40(0x5c9)](_0x3331e8);}async['updateAutoCompleteMessages'](_0x47edf3,_0x2fb8be){const _0x8beec1=a0_0x187b1e;return await this[_0x8beec1(0x751)][_0x8beec1(0x3e0)][_0x47edf3[_0x8beec1(0x5a5)]][_0x8beec1(0x740)](_0x2fb8be);}async['updateFlowConfig'](_0xc08d1f,_0x5e80bd){const _0x1459d6=a0_0x187b1e;return await this['waMonitor']['waInstances'][_0xc08d1f['instanceName']][_0x1459d6(0x5be)](_0x5e80bd);}async['startFlow'](_0x1d4859,_0xc5ab26){const _0x5cae9c=a0_0x187b1e;return await this['waMonitor'][_0x5cae9c(0x3e0)][_0x1d4859[_0x5cae9c(0x5a5)]][_0x5cae9c(0x577)](_0xc5ab26);}async[a0_0x187b1e(0x323)](_0x53a86b,_0x4b8feb){const _0x78d073=a0_0x187b1e;return await this[_0x78d073(0x751)][_0x78d073(0x3e0)][_0x53a86b[_0x78d073(0x5a5)]]['getConversation'](_0x4b8feb);}async[a0_0x187b1e(0x1da)](_0x5ea6b5,_0x44d152){const _0xba5255=a0_0x187b1e;return await this[_0xba5255(0x751)][_0xba5255(0x3e0)][_0x5ea6b5[_0xba5255(0x5a5)]][_0xba5255(0x1da)](_0x44d152);}async[a0_0x187b1e(0x3a1)](_0x420bce,_0x3d4d2c){const _0x575639=a0_0x187b1e;return await this[_0x575639(0x751)][_0x575639(0x3e0)][_0x420bce[_0x575639(0x5a5)]][_0x575639(0x3a1)](_0x3d4d2c);}async[a0_0x187b1e(0x3c9)](_0x5b6cb4,_0x5dea44){const _0x74976e=a0_0x187b1e;return await this['waMonitor'][_0x74976e(0x3e0)][_0x5b6cb4['instanceName']]['deleteConversation'](_0x5dea44);}async[a0_0x187b1e(0x353)](_0x282b5e,_0x477665){const _0x285235=a0_0x187b1e;return await this[_0x285235(0x751)][_0x285235(0x3e0)][_0x282b5e[_0x285235(0x5a5)]][_0x285235(0x353)](_0x477665[_0x285235(0x19a)],_0x477665['global']);}async[a0_0x187b1e(0x690)](_0x25332d,_0x56bf7,_0x30c33c){const _0x454983=a0_0x187b1e;return await this['waMonitor'][_0x454983(0x3e0)][_0x25332d[_0x454983(0x5a5)]][_0x454983(0x690)](_0x56bf7,_0x30c33c);}async['editFlow'](_0x2f4fe9,_0x4a3568,_0x506257){const _0x2af8ee=a0_0x187b1e;return await this[_0x2af8ee(0x751)][_0x2af8ee(0x3e0)][_0x2f4fe9[_0x2af8ee(0x5a5)]][_0x2af8ee(0x765)](_0x4a3568,_0x506257);}async[a0_0x187b1e(0x4e8)](_0x2548d2,_0x35c0cf,_0x56e3c3){const _0x387140=a0_0x187b1e;return await this[_0x387140(0x751)][_0x387140(0x3e0)][_0x2548d2[_0x387140(0x5a5)]][_0x387140(0x4e8)](_0x35c0cf,_0x56e3c3);}async[a0_0x187b1e(0x5c5)](_0x237128,_0x2f66ae,_0x556d76){const _0x28b690=a0_0x187b1e;return await this[_0x28b690(0x751)][_0x28b690(0x3e0)][_0x237128[_0x28b690(0x5a5)]][_0x28b690(0x5c5)](_0x2f66ae,_0x556d76);}async[a0_0x187b1e(0x73b)](_0x3f1393,_0x28f541,_0x5223af){const _0x2dcb29=a0_0x187b1e;return await this[_0x2dcb29(0x751)][_0x2dcb29(0x3e0)][_0x3f1393[_0x2dcb29(0x5a5)]][_0x2dcb29(0x73b)](_0x28f541,_0x5223af);}async[a0_0x187b1e(0x761)](_0x39e938,_0x3b3c90,_0x2b22f5){const _0x583281=a0_0x187b1e;return await this[_0x583281(0x751)][_0x583281(0x3e0)][_0x39e938['instanceName']]['editFlowCondition'](_0x3b3c90,_0x2b22f5);}async[a0_0x187b1e(0x600)](_0x3011f1,_0x39065f,_0x192d8e){const _0x2ff2ac=a0_0x187b1e;return await this[_0x2ff2ac(0x751)]['waInstances'][_0x3011f1['instanceName']]['editFlowVaredit'](_0x39065f,_0x192d8e);}async[a0_0x187b1e(0x29a)](_0x2647d8,_0x16dea7,_0x34a878){const _0x37e2c2=a0_0x187b1e;return await this['waMonitor'][_0x37e2c2(0x3e0)][_0x2647d8[_0x37e2c2(0x5a5)]][_0x37e2c2(0x29a)](_0x16dea7,_0x34a878);}async['deleteFlow'](_0x307ff1,_0x5cf54d,_0xfcd673){const _0x108199=a0_0x187b1e;return await this['waMonitor'][_0x108199(0x3e0)][_0x307ff1[_0x108199(0x5a5)]]['deleteFlow'](_0x5cf54d,_0xfcd673,_0x5cf54d['global']);}async[a0_0x187b1e(0x47b)](_0x2ca67a){const _0x220f76=a0_0x187b1e;return await this['waMonitor'][_0x220f76(0x3e0)][_0x2ca67a[_0x220f76(0x5a5)]]['allFlows']();}},Xt=class{constructor(_0x3818f8){const _0x5677b0=a0_0x187b1e;this[_0x5677b0(0x399)]=_0x3818f8;}async[a0_0x187b1e(0x459)](_0x38d608,_0x25c64d){const _0x13d5ab=a0_0x187b1e;return this['webhookService'][_0x13d5ab(0x57f)](_0x38d608,_0x25c64d);}async[a0_0x187b1e(0x53e)](_0x1dce8e){const _0x516313=a0_0x187b1e;return this[_0x516313(0x399)][_0x516313(0x528)](_0x1dce8e);}},Zt=class extends x{constructor(_0x2ab4cd,_0x473074){const _0xb0072=a0_0x187b1e;super(_0x473074),this[_0xb0072(0x6de)]=_0x2ab4cd,this[_0xb0072(0x684)]=_0x473074;}async[a0_0x187b1e(0x57f)](_0x5eaac5,_0x4b8691){const _0xda6b48=a0_0x187b1e;try{return this[_0xda6b48(0x176)][_0xda6b48(0x6ad)]?{'insertCount':(await this[_0xda6b48(0x6de)][_0xda6b48(0x3b5)]({'_id':_0x4b8691},{..._0x5eaac5},{'upsert':!0x0}))[_0xda6b48(0x590)]}:{'insertCount':0x1};}catch(_0x3dbe8d){return _0x3dbe8d;}}async['delete'](_0x3375fc){const _0x13d4a2=a0_0x187b1e;try{if(this[_0x13d4a2(0x176)][_0x13d4a2(0x6ad)]){await this[_0x13d4a2(0x6de)][_0x13d4a2(0x584)]({'_id':_0x3375fc});return;}}catch(_0x2780aa){return{'error':_0x2780aa};}}async[a0_0x187b1e(0x528)](_0x3682a8){const _0x36db60=a0_0x187b1e;try{if(this[_0x36db60(0x176)][_0x36db60(0x6ad)])return await this['webhookModel'][_0x36db60(0x525)]({'_id':_0x3682a8});}catch{return{};}}},es=class extends x{constructor(_0x8809d7,_0x2a8ad7){const _0x1529c1=a0_0x187b1e;super(_0x2a8ad7),this[_0x1529c1(0x288)]=_0x8809d7,this['configService']=_0x2a8ad7,this['auth']=_0x2a8ad7[_0x1529c1(0x8e)](_0x1529c1(0x5ab));}async[a0_0x187b1e(0x57f)](_0x4986ee,_0x4d4fc1){const _0xe91a21=a0_0x187b1e;try{if(this['dbSettings'][_0xe91a21(0x6ad)])return{'insertCount':(await this['authModel'][_0xe91a21(0x190)]({'_id':_0x4d4fc1},{'$set':{..._0x4986ee}},{'upsert':!0x0}))[_0xe91a21(0x590)]};}catch(_0x13fd07){return{'error':_0x13fd07};}}async['updateAll'](_0x3578a9,_0x2e8374){const _0x3fcd40=a0_0x187b1e;try{if(this[_0x3fcd40(0x176)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x3fcd40(0x5cb)](_0x3578a9,{'$set':_0x2e8374},{'upsert':!0x1}))[_0x3fcd40(0x590)]};throw new Error(_0x3fcd40(0x2d6));}catch(_0x2a869d){return{'error':_0x2a869d};}}async[a0_0x187b1e(0x526)](_0x464e6b){const _0x104c9d=a0_0x187b1e;try{if(this[_0x104c9d(0x176)][_0x104c9d(0x6ad)])return{'insertCount':(await this['authModel']['deleteMany'](_0x464e6b))['deletedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x5abaa0){return{'error':_0x5abaa0};}}async[a0_0x187b1e(0x6c5)](_0xd93d0d){const _0x16e565=a0_0x187b1e;try{if(this[_0x16e565(0x176)][_0x16e565(0x6ad)]){await this[_0x16e565(0x288)][_0x16e565(0x584)]({'_id':_0xd93d0d});return;}}catch(_0x5ddbfa){return{'error':_0x5ddbfa};}}async[a0_0x187b1e(0x528)](_0x28daf1){const _0x36309c=a0_0x187b1e;try{if(this[_0x36309c(0x176)][_0x36309c(0x6ad)])return await this[_0x36309c(0x288)][_0x36309c(0x525)]({'_id':_0x28daf1});}catch{return{};}}async[a0_0x187b1e(0x6b2)](){const _0x564221=a0_0x187b1e;try{if(this[_0x564221(0x176)][_0x564221(0x6ad)])return await this['authModel'][_0x564221(0x528)]();}catch{return[];}}},ts=class extends x{['getFlowModelForOwner'](_0x5c38ec){return pa(_0x5c38ec);}async[a0_0x187b1e(0x6c5)](_0x281648,_0x442c2f){const _0x48da81=a0_0x187b1e;try{let _0x624d74=this[_0x48da81(0x366)](_0x442c2f),_0x4e3497=$(_0x281648[_0x48da81(0x80)]);return{'deletedCount':(await _0x624d74[_0x48da81(0x526)](_0x4e3497))[_0x48da81(0x491)]};}catch(_0x569107){return{'error':_0x569107?.[_0x48da81(0x56e)]()};}}async['deleteOne'](_0x45eeb3,_0x59d48e){const _0x224fb7=a0_0x187b1e;try{let _0x4cbdbd=this[_0x224fb7(0x366)](_0x59d48e),_0xeee6a=$(_0x45eeb3[_0x224fb7(0x80)]);return{'deletedCount':(await _0x4cbdbd[_0x224fb7(0x584)](_0xeee6a))[_0x224fb7(0x491)]};}catch(_0xe05005){return{'error':_0xe05005?.[_0x224fb7(0x56e)]()};}}async[a0_0x187b1e(0x3b5)](_0x4ad0e9,_0x598507,_0x41f7ad){const _0x36aff4=a0_0x187b1e;try{let _0x4a30db=await this[_0x36aff4(0x366)](_0x41f7ad)['findByIdAndUpdate'](_0x4ad0e9,_0x598507,{'overwrite':!0x0,'new':!0x0});return _0x4a30db||(console[_0x36aff4(0x57d)]('Fluxo\x20no\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x4ad0e9),null);}catch(_0x421302){return console[_0x36aff4(0x57d)](_0x36aff4(0x1d0),_0x421302),null;}}async[a0_0x187b1e(0x190)](_0x4d3bf2,_0x133096,_0x28688f){const _0x22acb1=a0_0x187b1e;try{let _0x3c11d2=await this['getFlowModelForOwner'](_0x28688f)['findById'](_0x4d3bf2);return _0x3c11d2?(Object[_0x22acb1(0x5af)](_0x3c11d2,_0x133096),await _0x3c11d2[_0x22acb1(0x2d4)]()):(console[_0x22acb1(0x57d)]('Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:',_0x4d3bf2),null);}catch(_0x5b388f){return console[_0x22acb1(0x57d)](_0x22acb1(0x1d0),_0x5b388f),null;}}async[a0_0x187b1e(0x2f6)](_0x1eb4a7,_0xeaa85,_0x5a6e7e){const _0x47b94a=a0_0x187b1e;try{let _0x2737a9=this[_0x47b94a(0x366)](_0x5a6e7e),_0x471695=await _0x2737a9[_0x47b94a(0x308)](_0x1eb4a7),_0x2de1eb=await _0x2737a9['findOneAndUpdate']({'_id':_0x1eb4a7},_0xeaa85,{'new':!0x0,'runValidators':!0x0});return _0x2de1eb||(console[_0x47b94a(0x1e1)](_0x47b94a(0x1c1)+_0x1eb4a7+'\x20e\x20proprietrio\x20'+_0x5a6e7e+'\x20no\x20encontrado.'),null);}catch(_0x597520){throw console[_0x47b94a(0x57d)](_0x47b94a(0x4ed),_0x597520),_0x597520;}}async[a0_0x187b1e(0x166)](_0x18a4b1){const _0x351f1c=a0_0x187b1e;try{let _0x51cf1c=this[_0x351f1c(0x366)](_0x18a4b1),_0x48b527={'shareOwners':{'$exists':!0x1}},_0x2f65e5={'$set':{'shareOwners':[]}};return(await _0x51cf1c[_0x351f1c(0x5cb)](_0x48b527,_0x2f65e5))[_0x351f1c(0x590)];}catch(_0x512809){return console[_0x351f1c(0x57d)](_0x512809),0x0;}}async['createAndSave'](_0x3885af,_0x2515c5){const _0x1daed1=a0_0x187b1e;try{let _0x3f3615=this[_0x1daed1(0x366)](_0x2515c5);return await new _0x3f3615(_0x3885af)[_0x1daed1(0x2d4)]();}catch(_0x2e967d){return console[_0x1daed1(0x57d)](_0x1daed1(0x45c),_0x2e967d),null;}}async[a0_0x187b1e(0x5cb)](_0x3e42e6,_0x634d57,_0x3efd6e){const _0x1cfd7e=a0_0x187b1e;try{return{'modifiedCount':(await this[_0x1cfd7e(0x366)](_0x3efd6e)[_0x1cfd7e(0x5cb)](_0x3e42e6,{'$set':_0x634d57}))[_0x1cfd7e(0x590)]};}catch(_0x78df83){return console[_0x1cfd7e(0x57d)]('Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:',_0x78df83),{'error':_0x78df83};}}async[a0_0x187b1e(0x6b2)](_0x3cabd7,_0x1c7655){const _0x236707=a0_0x187b1e;try{let _0x459cb6=this['getFlowModelForOwner'](_0x1c7655),_0x2afa8d=$(_0x3cabd7['where']);return await _0x459cb6[_0x236707(0x528)](_0x2afa8d)[_0x236707(0x3a2)](_0x3cabd7?.[_0x236707(0x3a2)]??0x0)[_0x236707(0x60c)]();}catch{return[];}}async['findOne'](_0x150f12,_0x367404){const _0x353011=a0_0x187b1e;try{let _0x30af24=this[_0x353011(0x366)](_0x367404),_0x47d170=$(_0x150f12[_0x353011(0x80)]);return await _0x30af24['findOne'](_0x47d170)[_0x353011(0x60c)]();}catch{return null;}}async['deleteAll'](_0x14bfbe){const _0x34cd2d=a0_0x187b1e;try{return await this[_0x34cd2d(0x366)](_0x14bfbe)[_0x34cd2d(0x354)][_0x34cd2d(0x640)](),{'success':!0x0};}catch(_0x1dac38){return console[_0x34cd2d(0x57d)](_0x1dac38),{'success':!0x1,'error':_0x1dac38};}}},ss=class extends x{['getConversationModelForOwner'](_0x15a73f){return ha(_0x15a73f);}async['insert'](_0x126a02){const _0x3e7025=a0_0x187b1e;if(_0x126a02[_0x3e7025(0x6ab)]!==0x0)try{return{'insertCount':(await this[_0x3e7025(0x62a)](_0x126a02[0x0][_0x3e7025(0xdd)])[_0x3e7025(0x2a6)]([..._0x126a02]))[_0x3e7025(0x6ab)]};}catch(_0x25bb0a){return _0x25bb0a;}}async[a0_0x187b1e(0x6c5)](_0xb5b417,_0x3d4139){const _0x13ac5f=a0_0x187b1e;try{let _0xddb931=this[_0x13ac5f(0x62a)](_0x3d4139),_0x82bbc8=$(_0xb5b417[_0x13ac5f(0x80)]);return{'deletedCount':(await _0xddb931[_0x13ac5f(0x526)](_0x82bbc8))[_0x13ac5f(0x491)]};}catch(_0x110ed0){return{'error':_0x110ed0?.[_0x13ac5f(0x56e)]()};}}async['deleteOne'](_0x399273,_0x45d279){const _0x4e6b54=a0_0x187b1e;try{let _0x35e9ef=this[_0x4e6b54(0x62a)](_0x45d279),_0x518e10=$(_0x399273['where']);return{'deletedCount':(await _0x35e9ef[_0x4e6b54(0x584)](_0x518e10))['deletedCount']};}catch(_0x2ce303){return{'error':_0x2ce303?.['toString']()};}}async[a0_0x187b1e(0x297)](_0x11c766,_0x413fb4){const _0x34b940=a0_0x187b1e;try{if(_0x11c766['length']===0x0)return;let _0x1524c8=this[_0x34b940(0x62a)](_0x413fb4),_0xf83371=_0x11c766[_0x34b940(0x687)](_0xe11675=>({'updateOne':{'filter':{'name':_0xe11675['name'],'owner':_0x413fb4},'update':{..._0xe11675}}})),{modifiedCount:_0x301105}=await _0x1524c8[_0x34b940(0x18e)](_0xf83371);return{'insertCount':_0x301105};}catch{return;}}async['updateMany'](_0x21bc25,_0x21bb0a,_0x327ec6){const _0x384751=a0_0x187b1e;try{return{'modifiedCount':(await this[_0x384751(0x62a)](_0x327ec6)[_0x384751(0x5cb)](_0x21bc25,{'$set':_0x21bb0a}))[_0x384751(0x590)]};}catch(_0x8a3518){return console[_0x384751(0x57d)](_0x384751(0x3d6),_0x8a3518),{'error':_0x8a3518};}}async[a0_0x187b1e(0x190)](_0x62dacd,_0x1b78e8,_0x36471e){const _0x4a2fec=a0_0x187b1e;try{return await this['getConversationModelForOwner'](_0x36471e)[_0x4a2fec(0x56d)]({'_id':_0x62dacd},{'$set':_0x1b78e8},{'new':!0x0,'upsert':!0x0})[_0x4a2fec(0x60c)]();}catch(_0x588bd9){return console['error'](_0x588bd9),null;}}async[a0_0x187b1e(0x528)](_0x20308f,_0xd1be37){const _0x1c6718=a0_0x187b1e;try{return await this['getConversationModelForOwner'](_0xd1be37)['find'](_0x20308f)[_0x1c6718(0x32e)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x187b1e(0x525)](_0x2de5c0,_0xe049de){const _0x29ce9f=a0_0x187b1e;try{return await this[_0x29ce9f(0x62a)](_0xe049de)[_0x29ce9f(0x525)]({..._0x2de5c0[_0x29ce9f(0x80)]})[_0x29ce9f(0x60c)]();}catch{return null;}}async[a0_0x187b1e(0x2a7)](_0x493f45){const _0x12fa82=a0_0x187b1e;try{return await this[_0x12fa82(0x62a)](_0x493f45)[_0x12fa82(0x354)][_0x12fa82(0x640)](),{'success':!0x0};}catch(_0x426a56){return console['error'](_0x426a56),{'success':!0x1,'error':_0x426a56};}}},as=class extends x{[a0_0x187b1e(0x2dc)](_0x3dbe43){return ga(_0x3dbe43);}async[a0_0x187b1e(0x578)](_0x4aa527,_0x855d71){const _0x421d07=a0_0x187b1e;try{let _0x379b8f=this['getScheduleMessageModelForOwner'](_0x855d71);return await new _0x379b8f(_0x4aa527)[_0x421d07(0x2d4)]();}catch(_0x6a527b){return console[_0x421d07(0x57d)](_0x421d07(0x45c),_0x6a527b),null;}}async[a0_0x187b1e(0x584)](_0x356b78,_0x2e5b57){const _0x36b674=a0_0x187b1e;try{return await this['getScheduleMessageModelForOwner'](_0x2e5b57)['findByIdAndDelete'](_0x356b78),{};}catch(_0x58a0cb){return{'error':_0x58a0cb?.[_0x36b674(0x56e)]()};}}async[a0_0x187b1e(0x190)](_0x466f25,_0x511d13,_0x3aaf36){const _0x2c7f49=a0_0x187b1e;try{return await this[_0x2c7f49(0x2dc)](_0x3aaf36)[_0x2c7f49(0x56d)](_0x466f25,{'$set':_0x511d13},{'new':!0x0})[_0x2c7f49(0x60c)]();}catch(_0x16a009){return console[_0x2c7f49(0x57d)](_0x2c7f49(0x131),_0x16a009),null;}}async[a0_0x187b1e(0x132)](_0x55cbac,_0x3f0701,_0x5b5c17){const _0x4cd5fc=a0_0x187b1e;try{return await this[_0x4cd5fc(0x2dc)](_0x5b5c17)[_0x4cd5fc(0x4a9)](_0x55cbac,_0x3f0701,{'new':!0x0})[_0x4cd5fc(0x60c)]();}catch(_0x480899){return console[_0x4cd5fc(0x57d)](_0x4cd5fc(0x131),_0x480899),null;}}async[a0_0x187b1e(0x528)](_0x5425b2,_0x2ef45d){const _0x4cd042=a0_0x187b1e;try{return await this['getScheduleMessageModelForOwner'](_0x2ef45d)['find'](_0x5425b2[_0x4cd042(0x80)])[_0x4cd042(0x3a2)](_0x5425b2?.[_0x4cd042(0x3a2)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x187b1e(0x525)](_0x346702,_0x2ecb74){const _0x471d27=a0_0x187b1e;try{return await this[_0x471d27(0x2dc)](_0x2ecb74)['findOne'](_0x346702['where'])[_0x471d27(0x32e)]({'when':0x1})[_0x471d27(0x60c)]();}catch{return null;}}async[a0_0x187b1e(0x308)](_0xe28823,_0x125726){const _0x33421e=a0_0x187b1e;try{return await this[_0x33421e(0x2dc)](_0x125726)[_0x33421e(0x308)](_0xe28823)[_0x33421e(0x60c)]();}catch{return null;}}async[a0_0x187b1e(0x526)](_0x33b460,_0x6964b1){const _0x5efde4=a0_0x187b1e;try{return{'deletedCount':(await this[_0x5efde4(0x2dc)](_0x6964b1)[_0x5efde4(0x526)](_0x33b460))['deletedCount']};}catch(_0x132164){return console[_0x5efde4(0x57d)](_0x5efde4(0x2ab),_0x132164),{'error':_0x132164};}}async['deleteAll'](_0x3547c5){const _0x114baf=a0_0x187b1e;try{return await this[_0x114baf(0x2dc)](_0x3547c5)[_0x114baf(0x354)][_0x114baf(0x640)](),{'success':!0x0};}catch(_0x109b69){return console[_0x114baf(0x57d)](_0x109b69),{'success':!0x1,'error':_0x109b69};}}},os=class extends x{async[a0_0x187b1e(0x297)](_0x14f3b6,_0x452895){const _0x2d2149=a0_0x187b1e;try{if(this['dbSettings'][_0x2d2149(0x6ad)]){let _0x575b9b=await Ue[_0x2d2149(0x56d)]({'_id':_0x452895},{'$set':_0x14f3b6},{'new':!0x0});return console['log'](_0x2d2149(0x746),_0x575b9b),_0x575b9b;}}catch(_0x29c24b){throw console[_0x2d2149(0x57d)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x29c24b),_0x29c24b;}}async[a0_0x187b1e(0x50f)](_0x5120a3){const _0x25adea=a0_0x187b1e;try{let _0x34f458=await Ue[_0x25adea(0x308)](_0x5120a3);return _0x34f458||(_0x34f458=new Ue({'_id':_0x5120a3,'autoCompleteMessages':[]}),await _0x34f458['save']()),_0x34f458;}catch(_0xd475ce){return console[_0x25adea(0x57d)](_0x25adea(0x46f),_0xd475ce),null;}}},Or=new R(a0_0x187b1e(0x4cd)),Tr=new Ve(b),$r=new qt(b),Ar=new st(b),Ir=new Vt(Zs,b),xr=new Zt(ia,b),Dr=new es(aa,b),_r=new ts(b),Pr=new Gt(b),kr=new ss(b),jr=new as(b),Lr=new os(b),de=new Je(Tr,$r,Ar,Ir,xr,Dr,_r,kr,Pr,jr,Lr,O?.[a0_0x187b1e(0x72e)]()),G=new Jt(us,b,de),Fr=new Ht(b,G,de),Ur=new Qt(G),Ms=new Xt(Ur),A=new Yt(G),ce=new Wt(G,b,de,us,Fr),B=new zt(G),_=new Bt(G),q=new Kt(G);Or[a0_0x187b1e(0x12a)](a0_0x187b1e(0x432));var Uh=require('express-async-errors'),Ps=require('fs'),Oo=T(require(a0_0x187b1e(0x127))),To=T(require(a0_0x187b1e(0x6a3))),Ae=class c{static #e;static set[a0_0x187b1e(0x51c)](_0x4cba98){this.#e=_0x4cba98;}static get['https'](){const _0x2fb705=a0_0x187b1e;let {FULLCHAIN:_0xb13c3c,PRIVKEY:_0x25e186}=b[_0x2fb705(0x8e)](_0x2fb705(0x566));return Oo[_0x2fb705(0x430)]({'cert':(0x0,Ps[_0x2fb705(0x50e)])(_0xb13c3c),'key':(0x0,Ps[_0x2fb705(0x50e)])(_0x25e186)},c.#e);}static get['http'](){const _0x23d99d=a0_0x187b1e;return To[_0x23d99d(0x430)](c.#e);}},he=T(require('fs')),_o=T(require(a0_0x187b1e(0x120))),Ie=T(require('axios')),De=T(require('path')),_e=require(a0_0x187b1e(0x2c1));function Jr(){const _0x591f92=a0_0x187b1e;G['loadInstance']();let _0x1d1725=De['default'][_0x591f92(0x119)](__dirname,'downloads');Do(_0x1d1725);}var Do=_0x243fc3=>{const _0x6da987=a0_0x187b1e;let _0x413b2e=he[_0x6da987(0x605)][_0x6da987(0x3f3)](_0x243fc3),_0x49295d=0xc*0x3c*0x3c*0x3e8,_0x3a4e4b=0x2*0x3c*0x3c*0x3e8,_0x5445c6=new Date()[_0x6da987(0x501)]();_0x413b2e[_0x6da987(0x4d6)](_0x1fe554=>{const _0x2141fc=_0x6da987;let _0x5c9038=De[_0x2141fc(0x605)][_0x2141fc(0x119)](_0x243fc3,_0x1fe554),_0x584b3c=he[_0x2141fc(0x605)][_0x2141fc(0x480)](_0x5c9038)[_0x2141fc(0x467)][_0x2141fc(0x501)]();_0x5445c6-_0x584b3c>_0x49295d&&(he['default'][_0x2141fc(0x53b)](_0x5c9038),console[_0x2141fc(0x1e1)](_0x2141fc(0xbd)+_0x1fe554));}),setTimeout(()=>Do(_0x243fc3),_0x3a4e4b);};function qr(){const _0x3cb508=a0_0x187b1e;let _0x212aac=new R(_0x3cb508(0x273)),_0x540056=(0x0,ge[_0x3cb508(0x605)])();_0x540056[_0x3cb508(0x6b4)]((0x0,xo[_0x3cb508(0x605)])({'origin'(_0x126146,_0x36a886){const _0x552dbe=_0x3cb508;let {ORIGIN:_0x2d3405}=b[_0x552dbe(0x8e)](_0x552dbe(0x320));return _0x126146||(_0x126146='*'),_0x2d3405['indexOf']('*')!==-0x1||_0x2d3405['indexOf'](_0x126146)!==-0x1?_0x36a886(null,!0x0):_0x36a886(new Error(_0x552dbe(0x33d)));},'methods':[...b[_0x3cb508(0x8e)]('CORS')[_0x3cb508(0x67f)]],'credentials':b[_0x3cb508(0x8e)](_0x3cb508(0x320))[_0x3cb508(0x2a3)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':'50mb'}),(0x0,ge['json'])({'limit':'50mb'})),_0x540056[_0x3cb508(0x6b4)]((_0x29f514,_0x35f002,_0x1efc34)=>{const _0x267a58=_0x3cb508;_0x29f514['path'][_0x267a58(0x375)](_0x267a58(0x45a))?_0x1efc34():(0x0,Io[_0x267a58(0x605)])()(_0x29f514,_0x35f002,_0x1efc34);}),_0x540056[_0x3cb508(0x175)]('view\x20engine',_0x3cb508(0x4c1)),_0x540056[_0x3cb508(0x175)](_0x3cb508(0x3a6),(0x0,js['join'])(ne,'views')),_0x540056[_0x3cb508(0x6b4)](ge[_0x3cb508(0x605)]['static']((0x0,js[_0x3cb508(0x119)])(ne,_0x3cb508(0x6ec)))),_0x540056[_0x3cb508(0x6b4)]((_0x41dc15,_0x28b62d,_0xcd1fc0)=>{const _0x2e4fa9=_0x3cb508;let _0x5d85ad=_0x28b62d[_0x2e4fa9(0x540)];_0x28b62d[_0x2e4fa9(0x540)]=function(_0x361f9c){const _0x23014=_0x2e4fa9;if(_0x41dc15[_0x23014(0x4ba)][_0x23014(0x1d9)]===_0x23014(0x410)||_0x41dc15['headers'][_0x23014(0x257)]===_0x23014(0x410)){let _0x379bcf=JSON[_0x23014(0x329)](_0x361f9c);_0x361f9c=JSON[_0x23014(0x126)](_0x5acfde(_0x379bcf));}return _0x5d85ad[_0x23014(0x44a)](_0x28b62d,[_0x361f9c]);},_0xcd1fc0();}),_0x540056['use']('/',At),_0x540056[_0x3cb508(0x6b4)]((_0x2f87da,_0x4a4af9,_0x38bc7c,_0x42c8bf)=>{const _0x5d7afa=_0x3cb508;if(_0x2f87da)return _0x38bc7c[_0x5d7afa(0x391)](_0x2f87da[_0x5d7afa(0x391)]||0x1f4)['json'](_0x2f87da);},(_0x13496f,_0x10b0c0,_0x17c5a2)=>{const _0x3c39e3=_0x3cb508;let {method:_0x20b065,url:_0x3511bc}=_0x13496f;_0x10b0c0[_0x3c39e3(0x391)](0x194)[_0x3c39e3(0x5c7)]({'status':0x194,'message':'Cannot\x20'+_0x20b065[_0x3c39e3(0x529)]()+'\x20'+_0x3511bc,'error':_0x3c39e3(0x570)}),_0x17c5a2();});let _0x5acfde=(_0x51fe4a,_0x5b8db3=_0x3cb508(0x26a))=>{const _0x263d33=_0x3cb508;let _0x2fc925=(_0x4fbc4e,_0x3e3786=null,_0x198efc=!0x1)=>{const _0x33ee80=a0_0xf8f0;let _0x1438f7={};return Object[_0x33ee80(0xcf)](_0x4fbc4e)[_0x33ee80(0x4d6)](_0x21a9f9=>{const _0x11e228=_0x33ee80;let _0x2ba0a4=_0x4fbc4e[_0x21a9f9],_0x5970ab=''+_0x5b8db3+_0x21a9f9;_0x3e3786&&!_0x198efc&&(_0x5970ab=_0x3e3786+'.'+_0x21a9f9),!_0x2ba0a4&&_0x2ba0a4!==0x0&&_0x2ba0a4!==!0x1||typeof _0x2ba0a4>'u'?_0x1438f7[_0x5970ab]=null:typeof _0x2ba0a4!=_0x11e228(0x5ad)&&!Array[_0x11e228(0x414)](_0x2ba0a4)?_0x1438f7[_0x5970ab]=_0x2ba0a4:typeof _0x2ba0a4==_0x11e228(0x5ad)&&!Array[_0x11e228(0x414)](_0x2ba0a4)?_0x1438f7=Object['assign'](_0x1438f7,_0x2fc925(_0x2ba0a4,_0x5970ab)):Array[_0x11e228(0x414)](_0x2ba0a4)&&(typeof _0x2ba0a4[0x0]==_0x11e228(0x5ad)?(_0x1438f7[_0x5970ab]=[],_0x2ba0a4[_0x11e228(0x4d6)](_0x2993ed=>{const _0x36a900=_0x11e228;_0x1438f7[_0x5970ab][_0x36a900(0x764)](_0x2fc925(_0x2993ed,_0x5970ab,!0x0));})):_0x1438f7[_0x5970ab]=_0x2ba0a4);}),_0x1438f7;};return Array['isArray'](_0x51fe4a)?_0x51fe4a[_0x263d33(0x687)](_0x25e6dd=>_0x2fc925(_0x25e6dd)):typeof _0x51fe4a==_0x263d33(0x5ad)&&_0x51fe4a!==null?_0x2fc925(_0x51fe4a):{};},_0x1db320=b[_0x3cb508(0x8e)]('SERVER');Ae['app']=_0x540056;let _0x865d05=Ae[_0x1db320[_0x3cb508(0x22c)]],_0x33d1d0=_0x3cb508(0x318);_0x865d05[_0x3cb508(0x356)](_0x1db320[_0x3cb508(0x23e)],()=>{const _0x2b4f1c=_0x3cb508;_0x212aac[_0x2b4f1c(0x1e1)](_0x33d1d0),_0x212aac[_0x2b4f1c(0x1e1)](_0x1db320['TYPE'][_0x2b4f1c(0x529)]()+_0x2b4f1c(0x317)+_0x1db320[_0x2b4f1c(0x23e)]);}),Jr(),zs();}var Vr=a0_0x187b1e(0x326),Gr=De['default'][a0_0x187b1e(0x119)](__dirname,a0_0x187b1e(0x6e8)),xe=null;function Br(){return new Promise((_0x28eaad,_0x33b6e6)=>{const _0x2d0828=a0_0xf8f0;he['default'][_0x2d0828(0x1e8)](Gr,_0x2d0828(0x21f),(_0x366099,_0x18701a)=>{const _0xc85a30=_0x2d0828;if(_0x366099){xe=_0x366099,_0x28eaad();return;}_o[_0xc85a30(0x605)][_0xc85a30(0x329)](_0x18701a)['remote\x20\x22origin\x22'][_0xc85a30(0x3b2)]===Vr?(xe=null,_0x28eaad()):(xe=new Error(_0xc85a30(0x573)),_0x28eaad());});});}async function Wr(){const _0x298734=a0_0x187b1e;try{await Br(),await Ls();}catch(_0x169948){console[_0x298734(0x57d)]('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x169948),process['exit'](0x1);}}Wr();async function Po(){const _0x4833c7=a0_0x187b1e;let _0x27b738;try{_0x27b738=(await Ie[_0x4833c7(0x605)][_0x4833c7(0x8e)](_0x4833c7(0x401)))['data']['ip'];}catch(_0x30e64f){console[_0x4833c7(0x57d)](_0x30e64f);try{_0x27b738=(await Ie['default'][_0x4833c7(0x8e)](_0x4833c7(0x141)))[_0x4833c7(0x3a5)]['ip'];}catch(_0x3d07d1){console[_0x4833c7(0x57d)](_0x3d07d1);try{_0x27b738=(await Ie[_0x4833c7(0x605)][_0x4833c7(0x8e)](_0x4833c7(0x622)))[_0x4833c7(0x3a5)][_0x4833c7(0xb1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4a4258){return console[_0x4833c7(0x57d)](_0x4a4258),!0x1;}}}return _0x27b738;}var $o=0x0;async function zr(){const _0x358cbb=a0_0x187b1e;let _0x495d27=await new le(b[_0x358cbb(0x8e)](_0x358cbb(0x2a4)))['instanceKeys']();return console[_0x358cbb(0x1e1)](_0x358cbb(0x435),_0x495d27[_0x358cbb(0x6ab)]),_0x495d27[_0x358cbb(0x6ab)];}function Hr(_0x26e16f){const _0x2d2690=a0_0x187b1e;let _0x106a61=_0x26e16f[_0x2d2690(0x8e)](_0x2d2690(0x273))[_0x2d2690(0x4cb)],_0x2ea64a=_0x26e16f[_0x2d2690(0x8e)](_0x2d2690(0x566)),_0x8d10dd;if(_0x106a61){let _0x267710=_0x106a61['match'](/\/\/(.*?)\./);_0x267710&&_0x267710[0x1]&&(_0x8d10dd=_0x267710[0x1]);}if(!_0x8d10dd&&_0x2ea64a&&_0x2ea64a[_0x2d2690(0x6cb)]){let _0x58511f=_0x2ea64a[_0x2d2690(0x6cb)][_0x2d2690(0x214)]('/'),_0x2fb034=_0x58511f[_0x58511f['length']-0x2];if(_0x2fb034){let _0x4fbcab=_0x2fb034['split']('.');_0x4fbcab[_0x2d2690(0x6ab)]>0x2&&(_0x8d10dd=_0x4fbcab[0x0]);}}return _0x8d10dd;}var xs=Hr(b);async function Kr(){const _0x2c9005=a0_0x187b1e;let _0x2685e3=b['get'](_0x2c9005(0x2a4)),_0x4bb344=b[_0x2c9005(0x8e)](_0x2c9005(0x5ab))[_0x2c9005(0x9d)][_0x2c9005(0x649)],_0x1b2261=b[_0x2c9005(0x8e)](_0x2c9005(0x566)),_0x26f6d1=await Po(),_0x28309c=b[_0x2c9005(0x8e)](_0x2c9005(0x273))['PORT'],_0x2d2de8=b[_0x2c9005(0x8e)](_0x2c9005(0x273))[_0x2c9005(0x4cb)];try{let _0x549cb2={'ip':_0x26f6d1||null,'redis_enable':_0x2685e3?.[_0x2c9005(0x6ad)]||null,'apikey':_0x4bb344||null,'ssl':_0x1b2261?.[_0x2c9005(0x730)]||null,'lastupdate':ko||null,'port':_0x28309c||null,'gitInstallError':xe?.[_0x2c9005(0x3df)]||null,'url':_0x2d2de8||null};if(console['log']('ip:\x20',_0x549cb2['ip']),_0x2685e3&&_0x2685e3[_0x2c9005(0x6ad)]){let _0x46c753=await zr();_0x549cb2[_0x2c9005(0x633)]=_0x46c753||null;}for(let _0xd6f2a0 in _0x549cb2)_0x549cb2[_0x2c9005(0x1f1)](_0xd6f2a0)&&_0xd6f2a0!=='ip'&&(_0x549cb2[_0xd6f2a0]=JSON[_0x2c9005(0x126)](_0x549cb2[_0xd6f2a0]));return(await Ie[_0x2c9005(0x605)][_0x2c9005(0x682)](_0x2c9005(0x3d7),_0x549cb2))['data'];}catch(_0x4a7d3e){return console[_0x2c9005(0x57d)](_0x4a7d3e),!0x1;}}var ks=!0x1,ko=0x23f,Qr=0x3,Ao=0x1b7740;async function Ls(){const _0x47336c=a0_0x187b1e;if(!await Po())return console[_0x47336c(0x57d)](_0x47336c(0x5ff)),_0x47336c(0x58f);let _0x37742e=await Kr();if(_0x37742e){if(_0x37742e[_0x47336c(0x359)][_0x47336c(0x104)]===!0x0){let _0x535d4c=b[_0x47336c(0x8e)](_0x47336c(0x566)),_0x18b202=b[_0x47336c(0x8e)](_0x47336c(0x273))[_0x47336c(0x4cb)];_0x535d4c&&_0x535d4c?.['PRIVKEY']?.['includes'](_0x47336c(0x5aa))&&_0x37742e[_0x47336c(0x359)][_0x47336c(0x6b6)]&&!_0x18b202&&(await Zr(_0x37742e[_0x47336c(0x359)]['subdomain'],Xr),await ei('augusto.fcs@gmail.com',_0x37742e[_0x47336c(0x359)][_0x47336c(0x6b6)]),console[_0x47336c(0x1e1)](_0x47336c(0x16e)),setTimeout(()=>si(),0x2710)),xe===null&&_0x37742e[_0x47336c(0x359)][_0x47336c(0x30f)]-ko>0x0&&await Yr(),ks||(ks=!0x0,qr());let _0x49f4ac=0x24*0x3c*0x3c,_0x353c10=_0x37742e[_0x47336c(0x359)][_0x47336c(0xd6)]>_0x49f4ac?_0x49f4ac:_0x37742e[_0x47336c(0x359)]['segundos'],_0x17f8bb=Number(_0x353c10);if(isNaN(_0x17f8bb)){console['error']('interval\x20no\x20\x20um\x20nmero');return;}let _0x42a6a8=Math[_0x47336c(0x3c4)](_0x17f8bb/0xe10),_0x293ad5=Math[_0x47336c(0x3c4)](_0x17f8bb%0xe10/0x3c),_0x311873=new Date(Date[_0x47336c(0x34b)]()+_0x17f8bb*0x3e8);setTimeout(Ls,_0x17f8bb*0x3e8);let _0x40028b=_0x3f79f1=>_0x3f79f1[_0x47336c(0x56e)]()['padStart'](0x2,'0'),_0x255cac='Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20'+_0x40028b(_0x42a6a8)+_0x47336c(0x343)+_0x40028b(_0x293ad5)+_0x47336c(0x4d1)+_0x40028b(_0x311873[_0x47336c(0x231)]())+':'+_0x40028b(_0x311873[_0x47336c(0x1ee)]())+'.';console[_0x47336c(0x1e1)](_0x255cac);}else return console[_0x47336c(0x1e1)](_0x47336c(0x3b4)),ks&&(console[_0x47336c(0x1e1)](_0x47336c(0x586)),process[_0x47336c(0x305)]()),_0x47336c(0x3d2);}else{if($o++,$o<Qr)console[_0x47336c(0x1e1)](_0x47336c(0x2c5)+Ao/0xea60+_0x47336c(0x2fa)),setTimeout(Ls,Ao);else return console[_0x47336c(0x57d)]('No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.'),_0x47336c(0x585);}}async function Yr(){const _0x3e37ab=a0_0x187b1e;console[_0x3e37ab(0x1e1)](_0x3e37ab(0x697));let _0x144f9d=(0x0,_e[_0x3e37ab(0x1f5)])(_0x3e37ab(0x4b0),{'shell':!0x0});_0x144f9d[_0x3e37ab(0x4d5)]['on'](_0x3e37ab(0x3a5),_0x1ceaeb=>{const _0x157333=_0x3e37ab;console[_0x157333(0x1e1)](_0x157333(0x135)+_0x1ceaeb);}),_0x144f9d[_0x3e37ab(0xf6)]['on'](_0x3e37ab(0x3a5),_0x3a3fcc=>{const _0x3eb769=_0x3e37ab;console[_0x3eb769(0x57d)]('Erro\x20de\x20atualizao:\x20'+_0x3a3fcc);}),_0x144f9d['on'](_0x3e37ab(0x305),_0x29a331=>{const _0x42f3af=_0x3e37ab;_0x29a331!==0x0?console[_0x42f3af(0x57d)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20'+_0x29a331):console[_0x42f3af(0x1e1)](_0x42f3af(0x306)),console[_0x42f3af(0x1e1)](_0x42f3af(0x268)),setTimeout(()=>process['exit'](),0x2710);});}var Xr=De[a0_0x187b1e(0x605)][a0_0x187b1e(0x119)](__dirname,a0_0x187b1e(0x6c7));async function Zr(_0x5417df,_0x10b1b5){const _0x2f3fd2=a0_0x187b1e;let _0x2088bd=ti();_0x5417df=_0x5417df[_0x2f3fd2(0x2f2)](_0x2f3fd2(0x3d3),'');try{let _0x39285c=he[_0x2f3fd2(0x605)][_0x2f3fd2(0x50e)](_0x10b1b5,_0x2f3fd2(0x6a0));_0x39285c=_0x39285c[_0x2f3fd2(0x2f2)](/<apikey>/,_0x2088bd),_0x39285c=_0x39285c[_0x2f3fd2(0x2f2)](/<subdomain>/g,_0x5417df),he[_0x2f3fd2(0x605)][_0x2f3fd2(0x53c)](_0x10b1b5,_0x39285c,_0x2f3fd2(0x6a0)),console[_0x2f3fd2(0x1e1)](_0x2f3fd2(0x1ad));}catch(_0x507416){console[_0x2f3fd2(0x57d)](_0x2f3fd2(0xf3),_0x507416);}}function ei(_0x57501e,_0x4cbdc2){return new Promise((_0x1faf65,_0x36d4f1)=>{const _0x333d73=a0_0xf8f0;let _0x22f787=(0x0,_e[_0x333d73(0x1f5)])('certbot',[_0x333d73(0x70f),'--standalone','-m',_0x57501e,_0x333d73(0x397),'-d',_0x4cbdc2]);_0x22f787[_0x333d73(0x4d5)]['on']('data',_0x39a3b2=>{const _0x5d2fad=_0x333d73;console[_0x5d2fad(0x1e1)]('Certbot:\x20'+_0x39a3b2[_0x5d2fad(0x56e)]());}),_0x22f787[_0x333d73(0xf6)]['on'](_0x333d73(0x3a5),_0x15b7c0=>{const _0x42f9b3=_0x333d73;console[_0x42f9b3(0x57d)](_0x42f9b3(0x758)+_0x15b7c0[_0x42f9b3(0x56e)]());}),_0x22f787['on'](_0x333d73(0x750),_0x191b25=>{const _0x18c11b=_0x333d73;_0x191b25!==0x0?(console[_0x18c11b(0x57d)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0x191b25),_0x36d4f1(_0x18c11b(0x13e)+_0x191b25)):(console[_0x18c11b(0x1e1)](_0x18c11b(0x60d)),_0x1faf65());});});}function ti(_0xa4b382=0x32){const _0x1b422e=a0_0x187b1e;let _0x3ac590='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x583174='';for(let _0x1dd56e=0x0;_0x1dd56e<_0xa4b382;_0x1dd56e++)_0x583174+=_0x3ac590['charAt'](Math[_0x1b422e(0x3c4)](Math[_0x1b422e(0x1ca)]()*_0x3ac590[_0x1b422e(0x6ab)]));return _0x583174;}function si(){const _0x1d3271=a0_0x187b1e;(0x0,_e[_0x1d3271(0x43e)])(_0x1d3271(0x18a),(_0xdb940c,_0x4d472c,_0x2f8e14)=>{const _0x320465=_0x1d3271;if(_0xdb940c){console[_0x320465(0x57d)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20'+_0xdb940c);return;}if(_0x2f8e14){console['error'](_0x320465(0x44c)+_0x2f8e14);return;}console[_0x320465(0x1e1)](_0x320465(0x256)+_0x4d472c);});}function a0_0x112b(){const _0x4b2bc2=['concat',',\x20Expiration\x20Time:\x20','startFlow','createAndSave','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20Editando\x20varivel\x20do\x20fluxo...','AUTHENTICATION_JWT_SECRET','descOwner','error','getChatModelForOwner','create','remoteJid','unreadCount','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','Type\x20defined\x20as\x20audio','deleteOne','SERVER_OFFLINE','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','connect','local_map','_error','chats.upsert','@newsletter','):\x20Entrou\x20na\x20funo\x20stop','variables','):\x20Bloco\x20com\x20ID\x20','NO_IP','modifiedCount','sendMenu','Operador:\x20\x22','\x20instance\x20does\x20not\x20exist','getMessage','chatLog','etiquetas','deleteDoneMessages','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','AutomateSystem','video-cover.png','Conversa\x20deletada\x20com\x20sucesso.','stopConversation','bodyStringErrorParse','variablesNotFound','WARN','creds.json','):\x20Ler\x20mensagem','isRunning','class-validator','Valor\x20de\x20find\x20ou\x20replace\x20ausente','instanceName','vcard','BRL','MESSAGES_SET','updateProfileStatus','<subdomain>','AUTHENTICATION','editedMessage','object','USER','assign','nome','ChatModel','admin_add','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','ephemeralDuration','writeData','model','Erro\x20ao\x20editar\x20agentes','STATUS_INSTANCE','copyBlock','hex','422898smgllD','enabled','available','updateFlowConfig','formatVCard','Safari','\x20chats\x20de\x20','restartInstance','created','privacySettings','editFlowReply','goToFlow','json','Pausado\x20por\x20','updateCustomFields','):\x20Entrou\x20na\x20funo\x20clearVariables','updateMany','Temp\x20image\x20deleted','storePath','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','max','fileName','emit','unlocked','type','processApiRequest','realVariables','lastBlockId','blocks','connectToWhatsappController','connectionState','onTime','groupFetchAllParticipating','3ifEIED','replyOptions','updateAll','https://chat.whatsapp.com/','Error\x20parsing\x20JSON:','groupJoinApprovalMode','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','request\x20received\x20in\x20fetchConversation','4401112tFbyPI','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20tem\x20blocks',',\x20saindo.','Erro\x20ao\x20remover\x20instncias\x20antigas:','contacts.update','getTicketSystem','Falha\x20aps\x20vrias\x20tentativas.','Db\x20Connection','displayName','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','sending','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','axios','title','longitude','messageTimestamp','context','profilePicture','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',':\x20Erro\x20durante\x20loadproxy\x20-\x20','CLEANING_INTERVAL','sendMedia','dbClient','all_member_add','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro',':\x20IP\x20falhou.\x20Tentando\x20o\x20prximo...','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','editFlowVaredit','pollErrorMessage','https://api.openai.com/v1/audio/speech','/group','createRegularFlow','default','API\x20Key\x20from\x20Request:','replacer','group','picture','groupValidate','textMessage','lean','Certbot\x20executado\x20com\x20sucesso.','):\x20[messages.update]\x20group\x20ignored','replaceVariablesInReplyOptions','normalizeMessageContent','dbInstance','sendContact','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','GROUPS_UPDATE','_Flows','loadproxy','DATABASE_CONNECTION_HOST','updateGroupPicture','editflow','applyvaredit','chatId','Converted\x20image\x20deleted','finish','collections','PRODUCT_LIST','exists','cachedData-whatsapp','http://checkip.dyndns.org','Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Enviando\x20udio','\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','\x20com\x20sucesso.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','isJidBroadcast','changeVariables','getConversationModelForOwner','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','):\x20No\x20achou\x20nenhum\x20flow','backgroundColor','chatModify','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','username','waitingMenu_text','instanceCount','slice','fromMe','):\x20Entrou\x20na\x20funo\x20goToFlow','flowStopConversation','replaceVariablesLogs','apiName','blockId','#9568cf','desc','TEL','.ogv','removeData','drop','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','getVariablesChat','sharePass','padEnd','END:VCARD','sendReaction','_activatedCount','shift','KEY','processblock','REDIS_PREFIX_KEY','request_method','groupMemberAddMode','ListType','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','sectionsToString','values','toLocaleString','#9ba6ff','Sending\x20audio\x20whatsapp','Audio\x20processed','http://icanhazip.com/','):\x20Mensagem\x20j\x20enviada\x20para\x20','readMessageBot','Nenhum\x20chat\x20fornecido\x20para\x20insero.','://','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','groupSetting','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo','waitingMenu_id','Mac\x20OS','atendimentoAberto','when','variablesToObject','\x5c$&','createConversationforStartFlow','Instance\x20Key\x20from\x20DB:','repeat','getScheduleMessage','Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage','O\x20nome\x20do\x20fluxo\x20\x20obrigatrio','data:\x20','extractRegex','uuid','mediaKey','put','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','content-type','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','!stop','delAll','Instance\x20restarted','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','SEND_MESSAGE','replaceVariablesInObject','Falta\x20informao\x20para\x20a\x20chamada\x20API','message_normalized','testingWith','reconnectTimestamps','METHODS','request_time','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','post','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','configService','Unauthorized','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','map','toFile','trim','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','trimmed','qrcode.updated','\x1b[1m','Instncia:\x20','reaction','createFlow','Erro\x20ao\x20importar\x20chats','upsertChats','createSectionsFromValues','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','scheduleNextCheck','whatsappNumber','Parando\x20aplicao,\x20atualizao\x20recebida','descId','downloadMediaMessage','updateChatGroupData','MESSAGES_UPSERT','beforeExit','useMultiFileAuthState','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','has','utf8','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','CORS_METHODS','http','[all]','\x1b[31m','verify','cleanStore','Error\x20in\x20scheduleNextCheck:\x20','notEmpty','Esse\x20fluxo\x20\x20global,\x20para\x20deleta-lo\x20voc\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','length','getLastMessage','ENABLED','stanzaId','redis','moreLogs','throwAndLogError','findAll','DEBUG','use','updateGroupParticipantsWebhook','subdomain','_fromMe','ON\x20-\x20dbName:\x20','messages.update','menuType','#d3a91f','formatBRNumber','\x20-y','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','The\x20instance\x20needs\x20to\x20be\x20disconnected','secondValue','):\x20updateResult:','.jpg','wuid','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','delete','CHATS_UPDATE','env.yml','match_last_seen','scheduleSendAudio','\x22\x20-\x20NOT\x20CONNECTION','FULLCHAIN','Erro\x20ao\x20alterar\x20privacidade','PROXY','Font\x20is\x20required','automateSystem','updateAgent','pre','DARK','result','updateLastSeenPrivacy','Bloco\x20com\x20ID\x20','audio','Variveis\x20no\x20encontradas:','8080','imageMessage','audioWhatsapp','):\x20[messages.upsert]\x20group\x20ignored','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','release','webhookModel','cleaningUp','\x20no\x20encontrado\x20para\x20cpia','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','bodyString','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','sendPresenceUpdate','_Messages','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','./.git/config','js-yaml',':\x20Tentativa\x20','pollMessage','public','groupJid','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Error\x20finding\x20many\x20contacts:','endSession','detail','Erro\x20ao\x20tentar\x20updateCustomFields','protocolMessage','quoted','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','getStatus','delaySecMax','chatHandle','Image\x20created','generateHash','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','findFlow','fetchLatestBaileysVersion','scheduleSendText','HeaderType','):\x20Conversa\x20atualizada\x20em\x20memria','groupInviteCode','replaceVariables','Erro\x20ao\x20atualizar\x20o\x20flow.','apikey','image','):\x20Editando\x20replyOption...','Erro\x20ao\x20aplicar\x20varedit:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','nomecompleto','flow','Logger','/wa-presence','varedit','connecting','certonly','fetchMessages','Image\x20is\x20base64','temp-','state','contactHandle','role','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','READ','#ffffff','makeCacheableSignalKeyStore','sendMessage','convertToWebP','request\x20received\x20in\x20updateCustomFields','Erro\x20ao\x20iniciar\x20fluxo:\x20','uazapiSendContact','findGroupInfos','imported','):\x20Error\x20processing\x20conditions:\x20','):\x20Deletando\x20fluxo...','Fluxos\x20no\x20esto\x20ativados','/wa-qrcode','groupUpdateDescription','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','\x0a*Voc\x20respondeu*:\x0a','greater','router','getMIMEType',',\x20Segundo\x20Valor:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','crypto','getClient','AUTHENTICATION_JWT_EXPIRIN_IN','PRIVKEY','substring','uazapiSendLocation','Instance\x20deleted','buttonText','authState','order','):\x20Flow\x20desativado','audioMessage','readData','replaceValue','editFlowGroup','lastCondition','convertaudioMP3','varedits','Erro\x20ao\x20editar\x20o\x20bloco:\x20','updateAutoCompleteMessages','SERVER_ACK','flushHeaders','STORE_CHATS','#000000','MAX_RECONNECT_ATTEMPTS','Resultado\x20da\x20atualizao:','\x1b[33m','store','messages.set','setHeader','contains','connectionClosed','mongodb','buttonMessage','protocol','close','waMonitor','.ogg','bateu\x20events','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','PLAYED','mediatype','/instance/connectionState','Erro\x20do\x20Certbot:\x20','toNumber','remoteJids','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','empty','upperCase','qrCode','subject','editFlowCondition','\x1b[32m','prepareMediaMessage','push','editFlow','Database\x20connection\x20closed.','groupLeave','includes','CONNECTION','where','STORE_MESSAGE','originalUrl','Flow\x20no\x20encontrado','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','lastFetchAwaitingApproval','linkPreview','method','basename','groupName','jwt','encoding','shareOwners','.jwt','get','Primeiro\x20Valor:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','findAndUpdateCacheContact','count','AutomateSystem\x20no\x20foi\x20inicializado','no.connection','presence.update','locationMessage','.pptx','errorLog','CONTACTS_UPSERT','archiveChat','lowerCase','\x1b[34m%s\x1b[0m','API_KEY','isCommunity','#fe9dfe','messagesSend','creds','updateMediaMessage','qrcode-terminal','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','open','eventemitter2','\x1b[36m%s\x1b[0m','headerString','\x20adicionado\x20ao\x20chat\x20','authService','groups.upsert','getContentType','RECONNECT_TIME_FRAME','):\x20Deletando\x20conversa...','Erro\x20ao\x20deletar\x20chat:','#dfaef0','match','processvaredits','instanceInfo','Enter\x20a\x20value\x20in\x20milliseconds','leadInfo.customFields','/:instanceName','notas','audio/ogg;\x20codecs=opus','listResponseMessage','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','Esse\x20fluxo\x20expirou','redisEnv','Deleted\x20','chats.set','sha256','):\x20this.processing_id:\x20','\x20:\x20','):\x20Limpando\x20AutomateSystem','../env.yml','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','ephemeralMessage','enumerable','\x20de\x20conectar\x20com\x20IP\x20extra.','error_log','createConversationforgoToFlow','PASSWORD','action','canSendMessage',']\x20(','):\x20isVote:\x20','keys','editScheduleMessage','1123080LKntkN','https://uazapi-plugin.bubbleapps.io/?url=','getOwnPropertyDescriptor','folder','DATABASE_ENABLED','segundos','imagechat','/instance/create','updateReplyOption','Forbidden','updateReadReceiptsPrivacy','createHash','owner','application/octet-stream','request\x20received\x20in\x20createFlow','Tentando\x20reconectar...','getUpdate','/exit','reference','group-participants.update','less','ms\x20(tentativa\x20','not\x20loaded','_Chats','/wa-message','updateOnlinePrivacy','Error\x20updating\x20cache\x20contact:','done','evaluateCondition','labels.association','VERBOSE','uazapiDeleteMessage','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','locked','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','port','_id','stderr','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','cacheContact','reorderReplyOptions','CONNECTION_UPDATE','Erro\x20ao\x20alterar\x20fluxo','key','localWebhook','statusJidList','pollCreationMessageV2','round','statusMessage','licenca',',\x20data:\x20','groupMetadata','/*.json','fetchInstances','request\x20received\x20in\x20editFlowgroup','none','):\x20Conversa\x20est\x20expirada','loggedOut','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:','groupadd','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','\x20->\x20NO\x20CORRESPONDE.','isCommunityAnnounce','video','Bad\x20Request','command','customFields','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','join','\x20segundos','Erro\x20ao\x20remover\x20label\x20','editflowgroup','):\x20transformedCustomFieldVariables','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','requestPairingCode','ini','__esModule','\x20atualizado\x20com\x20sucesso.\x20Ao:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','Erro\x20ao\x20arquivar\x20chat','rows','stringify','https','ReplyOption\x20com\x20ID\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','info','.\x20Aguardando\x20antes\x20de\x20reconectar...','test','Instance\x20logged\x20out','MESSAGES_UPDATE','):\x20Criou\x20conversa\x20no\x20startFlow:','Removidas\x20as\x20variveis:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','updateOneById','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','mkdirSync','Atualizao:\x20','findGroupInfo','call','Erro\x20ao\x20sincronizar\x20fluxos:\x20','base64','\x1b[1m\x1b[37m','#d8e651','unreadcount','saveMediaToFile','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','processclearVariables','groupBetterSetting','https://api.ipify.org?format=json','Erro\x20ao\x20normalizar\x20a\x20mensagem:','groups','instance','parseInt','urlOrBase64','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','choices','Error\x20in\x20converting\x20audio','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','ERROR:\x20','charAt','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','maxActives','noConnection','path','body','_pushName','JWT','isListOfNumbers','fetchProfilePicture','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','oldValue','Nmero:\x20','Connection\x20closed\x20for\x20instance:\x20','PRESENCE_UPDATE','https://ipinfo.io/json','flowConfig','chats.delete','autoCompleteMessages','connectedClient','updateGroupWebhook','replaceVariablesChat','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','importChats','sendLocation','7JUkUuZ','updateMissingShareOwners','Valor\x20inicial:\x20\x22','pushName','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','notEqual','\x20-i\x20','\x20->\x20CONFIRMADO.','saveTextReply','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','output','statusCode','):\x20teve\x20mudanas\x20chat.archived:\x20','CHATS_SET','getRandomText','Notifying\x20clients\x20for\x20chat:\x20','set','dbSettings','caption','recording','pollUpdateMessage','minutesToClose','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','lastDisconnect','URL\x20limpa:\x20','truncatedtoEnd','listMessage','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','reactionMessage','newStoppedUntil','getAllData','):\x20\x27Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x27,\x20','delay','updateConversation','):\x20Criando\x20fluxo\x20regular...','5126472wUqzmY','value','shutdown\x20-r\x20now','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','GUARD','.xls','bulkWrite','last','updateOne','indexOf','LOG','allContacts','item','Validate','chats','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','evaluateConditionTest','name','\x20saindo\x20da\x20funo','author','loadInstance','app-state-sync-key','sleep','CHATS_DELETE','ignoreGroups','A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.','getAutomateSystem','):\x20Entrou\x20na\x20funo\x20saveReply','out','routerPath','\x20no\x20encontrado','editflowblock','removeUnusedChatFields','updateStopChat','request\x20received\x20in\x20deleteFlow','Message\x20not\x20found','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','STORE_CLEANING_TERMINAL','findManyByIds','subjectTime','getBase64FromMediaMessage','Falhou\x20ao\x20encontrar\x20chat\x20','ConversationModel','exports','#64c4ff','SendScheduleMessage','Router','createInstance','mimetype','\x20tentativas:\x20remotejid=','createGroup','saveVariable','updateMissingCustomFields','uazapiSendMenu','RemoveChatLabel','https://uazapi-plugin.bubbleapps.io/','Documento\x20com\x20ID\x20','generateWAMessageFromContent','waitingForReplyMenu','whatsappNumbers','findConversation','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','flowIgnoreGroups','pollOnReplyDelete','off','random','):\x20Query\x20params:','deleteMessage','request\x20received\x20in\x20getFlow','webhookMap','groups.update','Erro\x20ao\x20atualizar\x20o\x20fluxo:','copy','online','Content\x20is\x20required','instanceName\x20not\x20provided.','unhandledRejection','instance.','/wa-chats','pairingCode','convert','fetchConversation','host','groupdata','updateGParticipate','isJidUser','deleteFlow','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','log','revokeInviteCode','Read\x20messages','boolean','Erro\x20ao\x20tentar\x20autoCompleteMessages','truncatedto','):\x20Edit\x20schedule\x20message...','readFile','dataValidate','undefined','createClient','sendAudio','profilePictureUrl','getMinutes','removeProfilePicture','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','hasOwnProperty','@redis/client','editChat','uazapiSendAudio','spawn','TEXT','PREFIX_KEY','editflowvariable','\x20tentativas.','mongoose','paused','status.instance','apiResponse','expression','):\x20Fluxos\x20no\x20esto\x20ativados','sign','Cached\x20audio\x20found,\x20returning\x20existing\x20file','sendText','groupRequestParticipantsList','Types','defineAuthState','removeInstance','auth','stopMinutesMaxActives','SERVER_PORT','cors','connectToWhatsapp','Invalid\x20format','connectionUpdate',',\x20lastCondition:\x20',',\x20Minutes\x20to\x20Close:\x20','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','HH:mm:ss','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','split','expiration','getContactModelForOwner','\x20minutos','listType','fetchChats','http://myexternalip.com/raw','.docx','joinApprovalMode','\x22,\x20porm\x20no\x20foi\x20possvel\x20descriptograf-la,\x20sendo\x20impossvel\x20ver\x20seu\x20contedo.','):\x20Enviando\x20localizao','utf-8','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','ERROR','stickerMessage','LOG_COLOR','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','DD/MM\x20HH:mm:ss','DATABASE','fetchPrivacySettings','):\x20Limpando\x20delayMessage','isLong','TYPE','responsavelid','flattenObject','list','\x20e\x20ID=','getHours','archive','tags','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20Alterando\x20fluxo...','Content-Type','conversationTimestamp','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','OrAnd','DisconnectReason','All_Instances_Config','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','PORT','AppStateSyncKeyData','.\x20Pulando.','Error\x20fetching\x20and\x20updating\x20profile:\x20','verifyWhatsAppNumber','sendSticker','qrcode','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','inviteUrl','pt-BR','\x20depois\x20','conversation','processing_id','eventHandler','deleteImportedChat','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','https-proxy-agent','AutomateFunctions','groupGetInviteInfo','Rtulo\x20invlido\x20ou\x20sem\x20ID.','createJid','Subscribed\x20Events:','markMessageAsRead','Reinicializao\x20iniciada:\x20','uazapi','AddChatLabel','):\x20Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.','leadInfo.desativadoFluxoAte','Missing\x20global\x20api\x20key','isConnected','):\x20Current\x20Time:\x20','$dbName','messageType','):\x20Flow\x20no\x20encontrado','URL:','restrict','admin','password','The\x20global\x20api\x20key\x20must\x20be\x20set','CORS_CREDENTIALS','Flow\x20iniciado\x20com\x20','Parando\x20aplicao...','\x1b[37m','_p_','*\x0a\x0a','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','):\x20Editando\x20grupo\x20do\x20fluxo...','URI','):\x20Iniciando\x20bot...','proto','stateConnection','GROUP_PARTICIPANTS_UPDATE','SERVER','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','/media/','convertedOptions','fetchProfilePictureUrl','fetchProfile','desativadoFluxoAte','groupId','formatStatusMessage','):\x20conversation.status:\x20','client','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','msgRetryCounterCache','getBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','user','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','StartBot','Error\x20updating\x20message\x20status:','.mimetype','authModel','}}\x20->\x20valor\x20no\x20encontrado','Authentication\x20error','readreceipts','/config','Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.','digest','updateMessage','LabelModel','fileUrl','.png','convertaudio','InstancesAlterarTodas','lastReceivedMessage','fetchBusinessProfile','update','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','ScheduleMessageModel','editFlowVariable','selectedOptions','remoteJidsRemaining','\x1b[40m','groups_ignore','promote','createConnection','https://','flowConversation','CREDENTIALS','REDIS','not_announcement','insertMany','deleteAll','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','.gif','lastUpdate','Erro\x20ao\x20deletar\x20mensagens:','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','leadInfo','redis://127.0.0.1:6379','REDIS_ENABLED','jid','Output\x20path:\x20','):\x20conversation.waitingMenu_name','sharp','Instncia\x20no\x20encontrada.','connection.update','chats.update','updateParticipant','/events/:instance','AUTHENTICATION_API_KEY','arrayUnique','cacheContactModel','@g.us','superadmin','The\x20property\x20cannot\x20be\x20empty','CHATS_UPSERT','\x20-\x20retornado:\x20','child_process','min','groupDesc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','optionDescription','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','findParticipants','Erro\x20ao\x20buscar\x20conversas','lastSend','):\x20Ignoring\x20group\x20messages.','stopWhenYouSendMsg','Contacts\x20not\x20found','menuMessage','Cache-Control','buttonId','STORE','Processing\x20audio','refused','save','normalizeMessage','Database\x20is\x20not\x20enabled','delaySecMin','getOwnPropertyNames','groupToggleEphemeral',',\x20valor\x20a\x20encontrar:\x20\x22','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','getScheduleMessageModelForOwner','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','):\x20Conversas\x20encontradas:','cwd','deleteflow','getLabelModelForOwner','getDevice','function','abs','isJWT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','connectionStatus','lastSendMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','getPrototypeOf','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','repository','condition','express','/wa-contacts','closed','replace','webhook','keep-alive','2986805sGaPac','findAndUpdate','):\x20Falha\x20ao\x20deletar\x20mensagem.','\x0aitem','request\x20received\x20in\x20editFlow','\x20minutos...','loadEnv','setting','#92ceac','testProxy','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','ButtonsMessage','headers','DATABASE_CONNECTION_URI','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Criando\x20nova\x20conversa[createNewConversation]','exit','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Enviando\x20mdia','findById','currency','Falha\x20ao\x20processar\x20fetchBusinessProfile','contentText','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','chat','):\x20Bloco\x20original\x20para\x20cpia:\x20','last_update','\x1b[30m','AUTHENTICATION_TYPE','871358wpxgYA','\x20minutos\x20verificar\x20novas\x20mensagens','findIndex','fullName','cachedContacts-whatsapp','\x20-\x20ON:\x20','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','pop','code','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','beautifyWithPlaceholders','editflowvaredit','\x20contacts','quotedMessage','CORS','):\x20alterando\x20this.AutomateSystem','_ScheduleMessages','getConversation','):\x20Criando\x20fluxo\x20compartilhado...','envProcess','https://github.com/uazapi/uazapi.git','variable','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','parse','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','notify','Fluxo\x20no\x20encontrado.','setWebhook','sort','.error','isURL','\x1b[47m','awaitSeconds','.mp3','Comando\x20desconhecido','subjectOwner','decryptPollVote','pollCreationMessageKey','Erro\x20ao\x20adicionar\x20label\x20','inner','fetchContacts','@whiskeysockets/baileys','updateProfilePicturePrivacy','Not\x20allowed\x20by\x20CORS','extractMessageContent','replyOption','options','width','\x1b[31m%s\x1b[0m','\x20horas\x20e\x20','delayMessage','Erro\x20ao\x20editar\x20o\x20chat','request\x20received\x20in\x20editFlowcondition','updateMissingTags','filter','CONTACTS_SET','):\x20Usando\x20extenso\x20padro:\x20','now','updateBlock','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','content','request\x20received\x20in\x20starFlow','removeChatLabel','):\x20atualizao\x20chat:\x20','send.message','getFlow','collection',':\x20Configurao\x20do\x20IP\x20invlida.\x20Tentando\x20o\x20prximo...','listen','removeOlderDisconnectedInstances','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','response','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','\x20Tentativa\x20de\x20reconexo\x20','FlowRouter','request\x20received\x20in\x20scheduleMessage','ScheduleMessage','reconnectAttempts','console','readMessage','closeExistingConversations','write','agents','g-t','getFlowModelForOwner','Background\x20color\x20is\x20required','Error\x20in\x20chatModify\x20for\x20number\x20','menuExpiredMessage','messages.upsert','loadWebhook','string','DOCKER_ENV','findAndReplace','pictureUrl','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','sendStatus','all','http://ifconfig.me/ip','updateChatWithMessage','startsWith','setUpdate','Trying\x20to\x20get\x20business\x20profile','isJidGroup','.url','.type','cachedContact','insert','dbServer','The\x20','.fileUrl','processUazapi','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.','Image\x20is\x20url','getflow','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','archived','editOperator','onWhatsApp','Erro\x20ao\x20substituir\x20variveis\x20para\x20','createNewConversation','success','option',',\x20Resultado:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','valid','LEVEL','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','status','env','setRestartTimeout','):\x20Buscando\x20todos\x20os\x20fluxos...','latitude','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','--agree-tos','Instance\x20\x22','webhookService','File\x20written\x20to\x20path:\x20','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','profile','\x1b[0m','startCommandWord','reviver','processConditions','editConversation','limit','Desconectado,\x20parando\x20execuo.','long','data','views','.ppt','params','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','buffer','delayChatLabel','next_groupId','sendPoll','reorderBlocks','contactMessage','stopMinutes','Type\x20is\x20required','url','SECRET','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','replaceOne','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20inseridos\x20no\x20banco\x20de\x20dados...','contact_blacklist','StatusJidList\x20is\x20required','/wa-message-update','instances','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','sendList','resetReconnectionVariables','deleteChat','document','/media','presence','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','floor','-instances','isInteger','lastInteraction','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','deleteConversation','label','color','remove.instance','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','joinGroup','toDataURL','badSession','):\x20expirationTime:\x20','LICENSE_INVALID','.uazapi.dev','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','Rtulo\x20deletado:\x27,\x20','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','footerText','request\x20received\x20in\x20deleteDoneMessages','sync','numbers','start','toArray','joinGroupValidate','message','waInstances','upsertedCount','sendCommand','eventEmitter','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Buscando\x20conversa...','_activedCount','importChatsBatch','No\x20respondeu\x20com\x20a\x20enquete.','jsonwebtoken','editflowcondition','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x22\x20cannot\x20be\x20empty','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x20}\x0a','Image\x20path:\x20','redirect','request\x20body:\x20','LOG_LEVEL','readdirSync','equal','delayChatLabel_MAX_RETRIES','ObjectId','A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.','toBRL','/wa-groups','leadInfo.etiquetas','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','text/event-stream','CONECTADO\x20\x20UAZAPI','$set','QRCODE_UPDATED','dark','https://jsonip.com','contact','scheduled','):\x20Error\x20processing\x20the\x20block:\x20','editflowreply','importChatsAntigo','status@broadcast','Business\x20profile\x20fetched','remove','@s.whatsapp.net','):\x20debug\x20alterando\x20this.AutomateSystem','Selecione','$pull','scheduleMessage','?timestamp=','true','\x0a{\x20instance:\x20','Erro\x20ao\x20deletar\x20a\x20conversa','firstValue','isArray','insertCount','BufferJSON','header','global',',\x20resultado:\x20','toggleEphemeral','verifiedName','deleteBlock','\x1b[30m%s\x1b[0m','imgUrl','\x0aFN:','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup',':\x20IP\x20configurado:\x20','getDelay','ephemeralExpiration','addBlock','composing','rm\x20-rf\x20','goNextblock','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','flush','userDevicesCache','getProfileName','updateGParticipant','getMessageModelForOwner','prototype','request\x20received\x20in\x20updateAutoCompleteMessages','createServer','blockLogs','Module\x20-\x20ON','format','findGroups','instancias:\x20','warn','Erro\x20ao\x20inserir\x20chats:','unknown\x20operation\x20type\x20[','scheduleSendMedia','creation','uazapiSendText','array','presenceSubscribe','exec','endsWith','font','capitalizedWords','findMessages','HttpsProxyAgent','):\x20Bloco\x20copiado:\x20','sections','/automate','Deletion\x20failed','waUploadToServer','size','apply','mentions','Erro\x20de\x20reinicializao:\x20','stopped','downloads','\x22\x20not\x20found','synchronizeFlows','@ffmpeg-installer/ffmpeg','labelId','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','ChatRouter','contextInfo','ex:\x20\x22groupJid=120362@g.us\x22','selectableCount','conditions','createWebhook','/events','sendMessageWithTyping','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','request\x20received\x20in\x20editFlowvariable','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','toBrazilianNumberFormat','#ffc5c7','GROUPS_UPSERT','inviteCode','toLowerCase','messageHandle','entries','birthtime','):\x20','):\x20Visualizando\x20AutomateSystem','description','waitingMenu_replyOptions','Falha\x20ao\x20processar\x20a\x20solicitao','fromObject','Data\x20invlida\x20fornecida','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','participant','6yFiWkw','\x20removido\x20do\x20chat\x20','messaging-history.set','entrou\x20na\x20funo\x20de\x20sincronizar\x20fluxos','ListMessage','hGet','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','\x20foi\x20interrompido\x20pelo\x20usurio.','uncaughtException','allFlows','groupUpdateSubject','awaitingApproval','/instance/fetchInstances','delayChatLabel_RETRY_DELAY_MS','statSync','messageId','Message','/clients-info','CacheContacts\x20database\x20connection\x20closed.','Type\x20not\x20found','groupHandler','phoneNumber','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','inviteCodeDetails','Last\x20message\x20not\x20found','findGroup','Nmero\x20no\x20possui\x20WhatsApp.','Erro\x20ao\x20copiar\x20o\x20documento','groupSettingUpdate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','processPollUpdateMessage','deletedCount','approve','):\x20Enviando\x20texto','add','block','\x1b[42m','groupParticipantsUpdate','):\x20Deletando\x20mensagem','Fetching\x20business\x20profile','announce','\x1b[37m%s\x1b[0m','#f64847','CONTACTS_UPDATE','isAdmin','#01d0e2','jsonschema','envYaml','NextBlock','FlowController','findChats','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','silent','messageContextInfo','@broadcast','findByIdAndUpdate','removed','dropCollection','MessageModel','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','videoMessage','splice','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Nenhum\x20participante\x20vlido\x20encontrado.','debug','and','findAndReplaceRegex','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','SSL_CONF_FULLCHAIN','.webm','EXPIRIN_IN','notContains','query','pollMessageOnDelete','updatePresence','config','addresss','bearer','logger','hbs','fetchLabels','/instance/delete','authorization','pollCreationMessageV3','contacts.upsert','lastMessage','address','mongodb://','#fed428','URL','):\x20Buscando\x20flow...','WA\x20MODULE','deleted','updateMissingEtiquetas','from','\x20minutos.\x20Ser\x20s\x20','hDel','logout','updateProfilePicture','stdout','forEach','sendDataWebhook','\x22,\x20valor\x20a\x20substituir:\x20\x22','muteEndTime','_Labels','participants','):\x20enviado\x20para\x20[','sendWhatsAppAudio','Not\x20is\x20business\x20profile','!cmd_','verbose','.pdf','^\x5cd+([-]\x5cd+)*@g.us$','DB_PREFIX_NAME','buttons','\x5cd+','number','):\x20delete\x20=\x20true','editFlowBlock','cache','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','poll','labels.edit','Erro\x20ao\x20atualizar\x20o\x20documento:','?authSource=admin&readPreference=primary&directConnection=true','events','findContacts','addReplyOption','activatedCount','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Hash\x20to\x20image\x20name:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','ultimaTentativaRemoteJid','node-cache','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','mediaMessage','uazapiSendMedia','deleteMessageForEveryone','no-cache',',\x20qrcodeCount:\x20','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','.extension','audio/ogg','getTime','profileName','memberAddMode','errors','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','false','PENDING','Audio\x20converted\x20and\x20stored\x20in\x20cache','\x1b[34m','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','including\x20timestamp\x20in\x20url:\x20','):\x20Editando\x20edio\x20do\x20fluxo...','cpf','readFileSync','findOrCreate','This\x20name\x20','addChatLabel','fone','groupAcceptInvite','stopIfLastReturnedError','Falha\x20ao\x20processar\x20a\x20solicitao\x20messages.upsert','existsSync','dayjs','Button\x20IDs\x20cannot\x20be\x20repeated.','rowId','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','prepareWAMessageMedia','app','apirequest','Erro\x20ao\x20criar\x20fluxo\x20regular','DELETED','request\x20received\x20in\x20editConversation','SSL_CONF_PRIVKEY','messages','oldToken','Incio','findOne','deleteMany','unavailable','find','toUpperCase','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','arraybuffer','Schema','):\x20Label\x20','waitingMenu_ExpiredMessage',',\x20Comparador:\x20','COLOR','media','_FlowHistorico','src','.webp','.wav','\x1b[43m','#ff9484','CORS_ORIGIN','integer','documentWithCaptionMessage','unlinkSync','writeFileSync','\x20no\x20encontrado\x20para\x20atualizao.','findWebhook','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','send','instanceKeys','contacts','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','):\x20Entrou\x20na\x20funo\x20processawaitSeconds','\x20\x1b[0m','):\x20mediaMessageInfoId\x20:\x20','Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','sendButtons','prefixCommand','):\x20Query\x20params:\x20','leaveGroup','vote','text','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','):\x20Editando\x20bloco...','organization','HOST','mediaSticker','Instance\x20ID:','DATABASE_CONNECTION_USER','\x20is\x20already\x20in\x20use.','isBase64','readMessages','INFO','some','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','gifPlayback','/instance/connect','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','-whatsapp-api','checkAndRestartProcess','express-async-errors','allflows','saveConversationToDatabase','updateProfileName','mentioned','DaysToDelete','SSL_CONF','fetchStatus','groupCreate','updatePrivacySettings','5149950RMLjfN','updateGroupsAddPrivacy','deleteReplyOption','findOneAndUpdate','toString','isBusiness','Not\x20Found','email','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','validate'];a0_0x112b=function(){return _0x4b2bc2;};return a0_0x112b();}0x0&&(module[a0_0x187b1e(0x1b4)]={'subdomain':subdomain});