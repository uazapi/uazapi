const a0_0x2ec1ea=a0_0x5390;(function(_0x467cc9,_0x5ca2d5){const _0x518998=a0_0x5390,_0x55abee=_0x467cc9();while(!![]){try{const _0x307d7f=parseInt(_0x518998(0x7f2))/0x1+parseInt(_0x518998(0x293))/0x2*(-parseInt(_0x518998(0x6de))/0x3)+parseInt(_0x518998(0x421))/0x4+parseInt(_0x518998(0xd2))/0x5+parseInt(_0x518998(0x61c))/0x6+-parseInt(_0x518998(0x284))/0x7*(-parseInt(_0x518998(0x4aa))/0x8)+-parseInt(_0x518998(0x1ff))/0x9;if(_0x307d7f===_0x5ca2d5)break;else _0x55abee['push'](_0x55abee['shift']());}catch(_0x1fd9c8){_0x55abee['push'](_0x55abee['shift']());}}}(a0_0x1dce,0x38ee0));var zi=Object[a0_0x2ec1ea(0x14b)],Ge=Object[a0_0x2ec1ea(0x668)],Hi=Object[a0_0x2ec1ea(0x77c)],Ki=Object[a0_0x2ec1ea(0x22b)],Qi=Object[a0_0x2ec1ea(0x27e)],Yi=Object[a0_0x2ec1ea(0x410)][a0_0x2ec1ea(0x7d4)],Xi=(_0x4a4aea,_0x58bb66)=>{for(var _0x4e4d81 in _0x58bb66)Ge(_0x4a4aea,_0x4e4d81,{'get':_0x58bb66[_0x4e4d81],'enumerable':!0x0});},Ws=(_0x1a8f53,_0x5a50b5,_0x3c597c,_0x326e80)=>{const _0x104707=a0_0x2ec1ea;if(_0x5a50b5&&typeof _0x5a50b5==_0x104707(0x7d9)||typeof _0x5a50b5==_0x104707(0x1e0)){for(let _0x541e5b of Ki(_0x5a50b5))!Yi['call'](_0x1a8f53,_0x541e5b)&&_0x541e5b!==_0x3c597c&&Ge(_0x1a8f53,_0x541e5b,{'get':()=>_0x5a50b5[_0x541e5b],'enumerable':!(_0x326e80=Hi(_0x5a50b5,_0x541e5b))||_0x326e80[_0x104707(0x7cc)]});}return _0x1a8f53;},A=(_0x45ccd7,_0x718510,_0x4dbbf4)=>(_0x4dbbf4=_0x45ccd7!=null?zi(Qi(_0x45ccd7)):{},Ws(_0x718510||!_0x45ccd7||!_0x45ccd7[a0_0x2ec1ea(0x45a)]?Ge(_0x4dbbf4,'default',{'value':_0x45ccd7,'enumerable':!0x0}):_0x4dbbf4,_0x45ccd7)),Zi=_0x3ff286=>Ws(Ge({},a0_0x2ec1ea(0x45a),{'value':!0x0}),_0x3ff286),hr={};Xi(hr,{'fullURL':()=>Gs,'subdomain':()=>K}),module[a0_0x2ec1ea(0x20a)]=Zi(hr);var Ji=A(require(a0_0x2ec1ea(0x462))),Hs=require('fs'),Ks=require(a0_0x2ec1ea(0x223)),Qs=require(a0_0x2ec1ea(0x258)),Be=require('path'),le=process['cwd'](),Se=(0x0,Be[a0_0x2ec1ea(0x2ed)])(le,a0_0x2ec1ea(0x353)),zs=(0x0,Be[a0_0x2ec1ea(0x2ed)])(le,'src'),sn=(0x0,Be['join'])(le,'store','auth'),ps=class{constructor(){const _0x103235=a0_0x2ec1ea;this[_0x103235(0x60b)]();}[a0_0x2ec1ea(0x63f)](_0x20d814){const _0x457056=a0_0x2ec1ea;return this[_0x457056(0x304)][_0x20d814];}[a0_0x2ec1ea(0x60b)](){const _0x4b7178=a0_0x2ec1ea;this[_0x4b7178(0x304)]=process[_0x4b7178(0x304)]?.['DOCKER_ENV']!==_0x4b7178(0x79f)?this[_0x4b7178(0x6dd)]():this[_0x4b7178(0x5bc)](),process[_0x4b7178(0x304)]?.[_0x4b7178(0x252)]===_0x4b7178(0x79f)&&(this[_0x4b7178(0x304)][_0x4b7178(0x568)][_0x4b7178(0x30b)]=_0x4b7178(0x5a2),this[_0x4b7178(0x304)][_0x4b7178(0x568)][_0x4b7178(0x38a)]=Number[_0x4b7178(0x5aa)](process[_0x4b7178(0x304)]?.['SERVER_PORT']??_0x4b7178(0x5b4)));}[a0_0x2ec1ea(0x6dd)](){const _0x3e5be8=a0_0x2ec1ea;return(0x0,Ks[_0x3e5be8(0xf5)])((0x0,Hs[_0x3e5be8(0x565)])((0x0,Qs[_0x3e5be8(0x2ed)])(zs,_0x3e5be8(0x7c6)),{'encoding':_0x3e5be8(0xeb)}));}[a0_0x2ec1ea(0x5bc)](){const _0x2a8cf6=a0_0x2ec1ea;return{'SERVER':{'TYPE':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x5eb)],'PORT':Number[_0x2a8cf6(0x5aa)](process[_0x2a8cf6(0x304)][_0x2a8cf6(0x709)]),'URL':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x5a6)]},'CORS':{'ORIGIN':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x3f9)]['split'](','),'METHODS':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x67b)][_0x2a8cf6(0x1e1)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x2a8cf6(0x79f)},'SSL_CONF':{'PRIVKEY':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x6a3)],'FULLCHAIN':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x30d)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2a8cf6(0x1dc)](process['env']?.[_0x2a8cf6(0x4ce)])?Number[_0x2a8cf6(0x5aa)](process[_0x2a8cf6(0x304)][_0x2a8cf6(0x4ce)]):void 0x0,'MESSAGES':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x59f)]===_0x2a8cf6(0x79f),'CONTACTS':process[_0x2a8cf6(0x304)]?.['STORE_CONTACTS']===_0x2a8cf6(0x79f),'CHATS':process['env']?.['STORE_CHATS']===_0x2a8cf6(0x79f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x150)],'PORT':Number[_0x2a8cf6(0x5aa)](process['env']?.[_0x2a8cf6(0x150)]),'USER':process['env'][_0x2a8cf6(0x7a4)],'PASSWORD':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x379)],'URI':process[_0x2a8cf6(0x304)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x2a8cf6(0x712)]},'ENABLED':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x49f)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x2a8cf6(0x6fc)]==='true','URI':process[_0x2a8cf6(0x304)]['REDIS_URI']||_0x2a8cf6(0x122),'PREFIX_KEY':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x7f1)]||_0x2a8cf6(0x436)},'LOG':{'LEVEL':process['env']?.[_0x2a8cf6(0xba)]['split'](','),'COLOR':process['env']?.[_0x2a8cf6(0x7b0)]===_0x2a8cf6(0x79f)},'PROXY':process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x749)]===_0x2a8cf6(0x79f),'AUTHENTICATION':{'TYPE':process[_0x2a8cf6(0x304)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x2a8cf6(0x304)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x2a8cf6(0x1dc)](process[_0x2a8cf6(0x304)]?.[_0x2a8cf6(0x5df)])?Number[_0x2a8cf6(0x5aa)](process['env'][_0x2a8cf6(0x5df)]):0xe10,'SECRET':process[_0x2a8cf6(0x304)][_0x2a8cf6(0x7b7)]}}};}},b=new ps(),qi=A(require(a0_0x2ec1ea(0x519))),be=A(require(a0_0x2ec1ea(0x708))),qs=require(a0_0x2ec1ea(0x258)),hs=A(require(a0_0x2ec1ea(0x748))),gs=(_0x253034=>(_0x253034[a0_0x2ec1ea(0x161)]=a0_0x2ec1ea(0x31c),_0x253034[a0_0x2ec1ea(0x254)]=a0_0x2ec1ea(0x185),_0x253034[a0_0x2ec1ea(0x59c)]=a0_0x2ec1ea(0x3f4),_0x253034['ERROR']=a0_0x2ec1ea(0x76f),_0x253034[a0_0x2ec1ea(0x265)]=a0_0x2ec1ea(0x6c9),_0x253034[a0_0x2ec1ea(0x271)]=a0_0x2ec1ea(0x14c),_0x253034[a0_0x2ec1ea(0x60f)]='\x1b[30m',_0x253034))(gs||{}),Ys=(_0xe09e2=>(_0xe09e2[a0_0x2ec1ea(0x161)]=a0_0x2ec1ea(0x12c),_0xe09e2['DARK']=a0_0x2ec1ea(0x715),_0xe09e2['INFO']=a0_0x2ec1ea(0x701),_0xe09e2[a0_0x2ec1ea(0x59c)]=a0_0x2ec1ea(0x199),_0xe09e2['ERROR']='\x1b[31m%s\x1b[0m',_0xe09e2[a0_0x2ec1ea(0x265)]='\x1b[36m%s\x1b[0m',_0xe09e2['VERBOSE']=a0_0x2ec1ea(0x240),_0xe09e2))(Ys||{}),Xs=(_0x1ad1a8=>(_0x1ad1a8[a0_0x2ec1ea(0x161)]=a0_0x2ec1ea(0x161),_0x1ad1a8['WARN']=a0_0x2ec1ea(0x59c),_0x1ad1a8[a0_0x2ec1ea(0x254)]=a0_0x2ec1ea(0x254),_0x1ad1a8[a0_0x2ec1ea(0x60f)]=a0_0x2ec1ea(0x60f),_0x1ad1a8[a0_0x2ec1ea(0x473)]=a0_0x2ec1ea(0x473),_0x1ad1a8[a0_0x2ec1ea(0x265)]=a0_0x2ec1ea(0x265),_0x1ad1a8[a0_0x2ec1ea(0x271)]='VERBOSE',_0x1ad1a8))(Xs||{}),Zs=(_0x12abc4=>(_0x12abc4[a0_0x2ec1ea(0x161)]=a0_0x2ec1ea(0x5ce),_0x12abc4['INFO']=a0_0x2ec1ea(0x121),_0x12abc4[a0_0x2ec1ea(0x59c)]='\x1b[43m',_0x12abc4[a0_0x2ec1ea(0x60f)]=a0_0x2ec1ea(0x432),_0x12abc4[a0_0x2ec1ea(0x473)]='\x1b[41m',_0x12abc4[a0_0x2ec1ea(0x265)]='\x1b[46m',_0x12abc4[a0_0x2ec1ea(0x271)]='\x1b[47m',_0x12abc4))(Zs||{}),$=class{constructor(_0x3c6877=a0_0x2ec1ea(0x3e9)){this['context']=_0x3c6877,this['configService']=b;}[a0_0x2ec1ea(0x51e)](_0x8e60c4){const _0x405ff5=a0_0x2ec1ea;this[_0x405ff5(0x195)]=_0x8e60c4;}[a0_0x2ec1ea(0x24d)](_0x2b1e4e,_0x5307e7){const _0x2fec8d=a0_0x2ec1ea;let _0x1f8c42=[];this[_0x2fec8d(0x426)]['get'](_0x2fec8d(0x161))[_0x2fec8d(0x1a3)][_0x2fec8d(0x487)](_0x60aef=>_0x1f8c42['push'](Xs[_0x60aef]));let _0x51506f=typeof _0x2b1e4e;_0x1f8c42['includes'](_0x5307e7)&&(b['get'](_0x2fec8d(0x161))[_0x2fec8d(0x3a3)]?(console[_0x2fec8d(0x6d4)](_0x2fec8d(0x534)+Ys[_0x5307e7],_0x2fec8d(0x56f),(0x0,hs[_0x2fec8d(0x4d4)])()[_0x2fec8d(0x45e)](_0x2fec8d(0x1a0)),_0x2fec8d(0x7ab),gs[_0x5307e7]+Zs[_0x5307e7]+_0x2fec8d(0x534),_0x5307e7+_0x2fec8d(0x171),_0x2fec8d(0x6b9),this[_0x2fec8d(0x195)]+_0x2fec8d(0x7ab),gs[_0x5307e7],_0x51506f!==_0x2fec8d(0x7d9)?_0x2b1e4e:'',_0x2fec8d(0x7ab)),_0x51506f===_0x2fec8d(0x7d9)&&console[_0x2fec8d(0x6d4)](_0x2b1e4e,'\x0a')):console[_0x2fec8d(0x6d4)]((0x0,hs[_0x2fec8d(0x4d4)])()[_0x2fec8d(0x45e)]('HH:mm:ss'),_0x5307e7+'\x20',''+this[_0x2fec8d(0x195)],_0x2b1e4e));}['log'](_0x35e24e){const _0x15f4c0=a0_0x2ec1ea;this[_0x15f4c0(0x24d)](_0x35e24e,_0x15f4c0(0x161));}[a0_0x2ec1ea(0x202)](_0x2abaf0){const _0x572eef=a0_0x2ec1ea;this[_0x572eef(0x24d)](_0x2abaf0,_0x572eef(0x254));}[a0_0x2ec1ea(0x3bf)](_0x504346){const _0x3a9b67=a0_0x2ec1ea;this[_0x3a9b67(0x24d)](_0x504346,_0x3a9b67(0x59c));}[a0_0x2ec1ea(0x3cc)](_0x45f316){const _0x3e6792=a0_0x2ec1ea;this[_0x3e6792(0x24d)](_0x45f316,_0x3e6792(0x473));}[a0_0x2ec1ea(0x28b)](_0x549a92){const _0x1394d2=a0_0x2ec1ea;this['console'](_0x549a92,_0x1394d2(0x271));}[a0_0x2ec1ea(0x139)](_0x2be1e9){const _0x578e32=a0_0x2ec1ea;this[_0x578e32(0x24d)](_0x2be1e9,'DEBUG');}['dark'](_0x5dfaec){const _0x44c652=a0_0x2ec1ea;this['console'](_0x5dfaec,_0x44c652(0x60f));}};function ea(){const _0x3bd8e4=a0_0x2ec1ea;process['on']('uncaughtException',(_0x1e4726,_0xb8b1a7)=>{const _0x752460=a0_0x5390;new $('uncaughtException')[_0x752460(0x3cc)]({'origin':_0xb8b1a7,'stderr':process[_0x752460(0x5c8)]['fd'],'error':_0x1e4726});}),process['on'](_0x3bd8e4(0x5ba),(_0x4687bd,_0x5ee0f3)=>{const _0x11e927=_0x3bd8e4;new $(_0x11e927(0x5ba))[_0x11e927(0x3cc)]({'origin':_0x5ee0f3,'stderr':process[_0x11e927(0x5c8)]['fd'],'error':_0x4687bd});});}var ta=A(require('eventemitter2')),ms=new ta[(a0_0x2ec1ea(0x4d4))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x2ec1ea(0x3f3)),Ae=A(require(a0_0x2ec1ea(0x3f3))),We=new $(a0_0x2ec1ea(0x6fb)),F=b['get']('DATABASE'),R=F[a0_0x2ec1ea(0x4d5)]?F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x619)]?Ae[a0_0x2ec1ea(0x4d4)]['createConnection'](F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x619)],{'dbName':F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x6f4)]+'-whatsapp-api'}):Ae[a0_0x2ec1ea(0x4d4)][a0_0x2ec1ea(0x368)](a0_0x2ec1ea(0x637)+F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x477)]+':'+F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x38a)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x3de)],'pass':F[a0_0x2ec1ea(0x533)]['PASSWORD'],'dbName':F['CONNECTION'][a0_0x2ec1ea(0x6f4)]+a0_0x2ec1ea(0x296)}):null;F['ENABLED']&&We['info']('ON\x20-\x20dbName:\x20'+R[a0_0x2ec1ea(0x6f6)]);var ue=F['ENABLED']?F['CONNECTION'][a0_0x2ec1ea(0x619)]?Ae[a0_0x2ec1ea(0x4d4)][a0_0x2ec1ea(0x368)](F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x619)],{'dbName':a0_0x2ec1ea(0x290)}):Ae[a0_0x2ec1ea(0x4d4)][a0_0x2ec1ea(0x368)](a0_0x2ec1ea(0x637)+F['CONNECTION'][a0_0x2ec1ea(0x477)]+':'+F['CONNECTION'][a0_0x2ec1ea(0x38a)]+a0_0x2ec1ea(0x5e0),{'user':F[a0_0x2ec1ea(0x533)][a0_0x2ec1ea(0x3de)],'pass':F[a0_0x2ec1ea(0x533)]['PASSWORD'],'dbName':a0_0x2ec1ea(0x625)}):null;ue&&We[a0_0x2ec1ea(0x202)](a0_0x2ec1ea(0x5b5)+ue['$dbName']),process['on'](a0_0x2ec1ea(0x769),()=>{const _0x5b6473=a0_0x2ec1ea;R&&R[_0x5b6473(0x675)](()=>{const _0x11d924=_0x5b6473;We['info'](_0x11d924(0x340));}),ue&&ue[_0x5b6473(0x675)](()=>{const _0xa9c1f2=_0x5b6473;We['info'](_0xa9c1f2(0x361));});});var eo=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),to=new Me[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),so=new Me['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ao=new Me[(a0_0x2ec1ea(0x50f))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[eo],'default':[]}},{'_id':!0x1}),io=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ao,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':to},'groupdata':{'type':so,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x23421f=>{const _0x5d17a3=a0_0x2ec1ea;let _0x280560='z_'+_0x23421f+_0x5d17a3(0x283);return R?.[_0x5d17a3(0x442)](_0x5d17a3(0x1ed),io,_0x280560);},aa=require(a0_0x2ec1ea(0x3f3)),oo=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x128019=>{const _0x19b574=a0_0x2ec1ea;let _0x434f07='z_'+_0x128019+_0x19b574(0x414);return R?.['model'](_0x19b574(0x2d3),oo,_0x434f07);},oa=require(a0_0x2ec1ea(0x3f3)),fs=class{},ro=new oa[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=ue?.['model'](fs['name'],ro,a0_0x2ec1ea(0x2e8)),na=require('mongoose'),ws=class{},no=new na['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),ze=ue?.['model'](ws[a0_0x2ec1ea(0x582)],no,'instances'),ca=require(a0_0x2ec1ea(0x3f3)),co=new ca[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x404f65=>{const _0x30872e=a0_0x2ec1ea;let _0x1dc311='z_'+_0x404f65+_0x30872e(0x37d);return R?.[_0x30872e(0x442)](_0x30872e(0x544),co,_0x1dc311);},ua=require(a0_0x2ec1ea(0x3f3)),ys=class{},lo=new ua[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=R?.['model'](ys[a0_0x2ec1ea(0x582)],lo,'authentication'),pa=require(a0_0x2ec1ea(0x3f3)),bs=class{},ha=new pa[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha[a0_0x2ec1ea(0x260)]('save',function(_0x37e8d8){const _0x3f3c71=a0_0x2ec1ea;delete this[_0x3f3c71(0x21e)],delete this['flowIgnoreGroups'],delete this[_0x3f3c71(0x51c)],delete this[_0x3f3c71(0xa4)],delete this[_0x3f3c71(0x295)],_0x37e8d8();});var ga=R?.[a0_0x2ec1ea(0x442)](bs[a0_0x2ec1ea(0x582)],ha,a0_0x2ec1ea(0x598)),D=require(a0_0x2ec1ea(0x3f3)),Ss=require('uuid'),He=class{},fa=new D[(a0_0x2ec1ea(0x50f))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2ec1ea(0x4a3)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2ec1ea(0x243)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2ec1ea(0x7a0)},'pollErrorMessage':{'type':String,'default':a0_0x2ec1ea(0x615)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new D[(a0_0x2ec1ea(0x50f))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new D[(a0_0x2ec1ea(0x50f))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new D[(a0_0x2ec1ea(0x50f))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D[(a0_0x2ec1ea(0x50f))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new D[(a0_0x2ec1ea(0x50f))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new D[(a0_0x2ec1ea(0x50f))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x15d11b=a0_0x2ec1ea;return _0x15d11b(0x567)+Math['random']()['toString'](0x24)[_0x15d11b(0x604)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa[a0_0x2ec1ea(0x260)](a0_0x2ec1ea(0x1f9),function(_0x56b67b){const _0x4c5833=a0_0x2ec1ea;let _0x4759ca=this[_0x4c5833(0x743)]();if(_0x4759ca&&typeof _0x4759ca==_0x4c5833(0x7d9)&&_0x4c5833(0x406)in _0x4759ca){let _0x581814=_0x4759ca[_0x4c5833(0x406)];if(_0x581814){let _0x4be5e9=new Set(),_0x3124fe=new Set(_0x581814[_0x4c5833(0x492)]?.['map'](_0x2adc1e=>_0x2adc1e[_0x4c5833(0x582)])),_0x1a790a=JSON['stringify'](_0x581814),_0x487e77=/{{(?!_)([^}]*)}}/g,_0x5ad073;for(;(_0x5ad073=_0x487e77[_0x4c5833(0x11f)](_0x1a790a))!==null;)_0x3124fe['has'](_0x5ad073[0x1])||_0x4be5e9[_0x4c5833(0x2fc)](_0x5ad073[0x1]);_0x4be5e9[_0x4c5833(0x2a8)]>0x0?(console[_0x4c5833(0x3bf)](_0x4c5833(0x215),Array['from'](_0x4be5e9)),_0x581814['variablesNotFound']=Array['from'](_0x4be5e9)):_0x581814[_0x4c5833(0x259)]=[],this[_0x4c5833(0x268)]({'$set':_0x581814});}}_0x56b67b();});var Ce=R?.['model'](Cs[a0_0x2ec1ea(0x582)],Sa,'allFlows'),mo=new D[(a0_0x2ec1ea(0x50f))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2ec1ea(0x763)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2ec1ea(0x7a0)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x259f51=>{const _0x5dcdef=a0_0x2ec1ea;let _0x4cea46='z_'+_0x259f51+_0x5dcdef(0x68e);return R?.[_0x5dcdef(0x442)](_0x5dcdef(0x665),fo,_0x4cea46);},wo=new D[(a0_0x2ec1ea(0x50f))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x23dc54=>{const _0x483a19=a0_0x2ec1ea;let _0x3e6ab2='z_'+_0x23dc54+_0x483a19(0x718);return R?.[_0x483a19(0x442)]('ScheduleMessageModel',yo,_0x3e6ab2);},Es=class{},bo=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x2ec1ea(0x424)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Eo=new D[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),vo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Eo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Ie=R?.[a0_0x2ec1ea(0x442)](Es[a0_0x2ec1ea(0x582)],vo,a0_0x2ec1ea(0x3a1)),Ea=require(a0_0x2ec1ea(0x3f3)),No=new Ea[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x4015f7=>{const _0x509275=a0_0x2ec1ea;let _0x29630e='z_'+_0x4015f7+'_Labels';return R?.[_0x509275(0x442)](_0x509275(0x71f),No,_0x29630e);},_=class{constructor(_0xed3ddf){const _0x2a6802=a0_0x2ec1ea;this[_0x2a6802(0xb8)]=_0xed3ddf[_0x2a6802(0x63f)]('DATABASE');}};function I(_0x4526e6){const _0x29c761=a0_0x2ec1ea;let _0x5e6a05={};for(let [_0x210b12,_0x4fd47e]of Object[_0x29c761(0x7bc)](_0x4526e6))if(typeof _0x4fd47e==_0x29c761(0x7d9)&&!Array['isArray'](_0x4fd47e)){for(let [_0x543744,_0x33fa2e]of Object[_0x29c761(0x7bc)](_0x4fd47e))_0x5e6a05[_0x210b12+'.'+_0x543744]=_0x33fa2e;}else _0x5e6a05[_0x210b12]=_0x4fd47e;return _0x5e6a05;}var Ke=class{constructor(_0x44e275,_0xc33b90,_0x1b3517,_0x2d6378,_0x274720,_0x383605,_0x56bf05,_0x21d4d3,_0x308ca2,_0x277ac5,_0x5b7e66,_0x4812da,_0xcf0101){const _0x439669=a0_0x2ec1ea;this['message']=_0x44e275,this[_0x439669(0x107)]=_0xc33b90,this[_0x439669(0x11a)]=_0x1b3517,this['cacheContact']=_0x2d6378,this[_0x439669(0x598)]=_0x274720,this[_0x439669(0x39c)]=_0x383605,this['instance']=_0x56bf05,this[_0x439669(0x429)]=_0x21d4d3,this[_0x439669(0x73f)]=_0x308ca2,this[_0x439669(0x67f)]=_0x277ac5,this['scheduleMessage']=_0x5b7e66,this[_0x439669(0x5e2)]=_0x4812da,this['dbClient']=_0xcf0101;}get[a0_0x2ec1ea(0x4a7)](){const _0x57218e=a0_0x2ec1ea;return this[_0x57218e(0x2bb)];}},Qe=class{},Ye=class extends _{['getMessageModelForOwner'](_0x1ebcf5){return la(_0x1ebcf5);}async['insert'](_0x291e42,_0x18f5d2){const _0x30887c=a0_0x2ec1ea;if(_0x291e42['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x18f5d2)['insertMany']([..._0x291e42]))[_0x30887c(0x54d)]};}catch(_0x44a0e5){return _0x44a0e5;}}async[a0_0x2ec1ea(0x3f1)](_0x4962c8,_0x3928a5){const _0x4de2ff=a0_0x2ec1ea;try{let _0xd93818=this['getMessageModelForOwner'](_0x3928a5),_0x4f6388=I(_0x4962c8['where']);return await _0xd93818[_0x4de2ff(0x3f1)](_0x4f6388)[_0x4de2ff(0x1c4)]({'messageTimestamp':-0x1})['limit'](_0x4962c8?.[_0x4de2ff(0x497)]??0x0)['lean']();}catch{return[];}}async[a0_0x2ec1ea(0x31e)](_0x91727d,_0x3473ed){const _0x51fbfa=a0_0x2ec1ea;try{let _0x54a341=this['getMessageModelForOwner'](_0x3473ed),_0x1a2e18=I(_0x91727d['where']);await _0x54a341['deleteMany'](_0x1a2e18);}catch(_0x50a85d){console[_0x51fbfa(0x3cc)](_0x50a85d);}}async[a0_0x2ec1ea(0x4d2)](_0x1db868,_0x214c74,_0x543395){const _0x2b2367=a0_0x2ec1ea;try{let _0x5f52e9=this[_0x2b2367(0x494)](_0x543395),_0x209339=I(_0x1db868['where']);return await _0x5f52e9[_0x2b2367(0x1f9)](_0x209339,{'$set':_0x214c74},{'new':!0x0});}catch(_0x260867){throw console[_0x2b2367(0x3cc)](_0x260867),_0x260867;}}async[a0_0x2ec1ea(0x586)](_0xccc6a4,_0x23e798){const _0x5afe1a=a0_0x2ec1ea;if(_0xccc6a4[_0x5afe1a(0x54d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5afe1a(0x494)](_0x23e798)[_0x5afe1a(0x586)]([..._0xccc6a4]))[_0x5afe1a(0x54d)]};}catch(_0x142e35){return console[_0x5afe1a(0x6d4)](_0x5afe1a(0x32f),_0x142e35),_0x142e35;}}async[a0_0x2ec1ea(0x63a)](_0x439be1){const _0x72ef49=a0_0x2ec1ea;try{return await this['getMessageModelForOwner'](_0x439be1)[_0x72ef49(0x154)][_0x72ef49(0x635)](),{'success':!0x0};}catch(_0x3723f9){return console['error'](_0x3723f9),{'success':!0x1,'error':_0x3723f9};}}},Ds=A(require('@ffmpeg-installer/ffmpeg')),w=A(require(a0_0x2ec1ea(0x117))),Le=require('fs'),j=A(require(a0_0x2ec1ea(0x258))),Z=A(require(a0_0x2ec1ea(0x41a))),Oi=require('uuid'),_i=A(require('qrcode')),xi=A(require('qrcode-terminal')),Na=[a0_0x2ec1ea(0x540),a0_0x2ec1ea(0x681),'audioMessage',a0_0x2ec1ea(0x112),a0_0x2ec1ea(0x17c)],$a=[a0_0x2ec1ea(0x113),a0_0x2ec1ea(0x58d),a0_0x2ec1ea(0x50b),a0_0x2ec1ea(0x6f7)],Ps=require('os'),Jt=A(require(a0_0x2ec1ea(0x4cb))),Fe=require(a0_0x2ec1ea(0x16c)),Di=require(a0_0x2ec1ea(0x2ad)),me=A(require(a0_0x2ec1ea(0x3f3))),k=require(a0_0x2ec1ea(0x690)),de=class{constructor(_0x265e38,_0x2563f8,_0x5bc541){const _0x4e4679=a0_0x2ec1ea;this[_0x4e4679(0x279)]=_0x265e38,this['exists']=_0x2563f8,this[_0x4e4679(0x582)]=_0x5bc541;}},Xe=class{},Ze=class{},Te=class{},et=class{},tt=class{},Ee=class{},st=class{},at=class{},it=class{},ot=class{},Pt=A(require(a0_0x2ec1ea(0x708))),Ra=require('fs'),Aa=require('path');async function Oe(_0x13230f){const _0x2ebb7c=a0_0x2ec1ea;let _0x1dbc15=z[_0x2ebb7c(0x10a)][_0x13230f];if(F[_0x2ebb7c(0x4d5)]){let _0x252498=R[_0x2ebb7c(0x2f9)]()['db'](F[_0x2ebb7c(0x533)][_0x2ebb7c(0x6f4)]+_0x2ebb7c(0x3c0))[_0x2ebb7c(0x154)](_0x13230f);return _0x1dbc15||(await _0x252498[_0x2ebb7c(0x3f1)]({})[_0x2ebb7c(0x793)]())[_0x2ebb7c(0x54d)]>0x0;}return _0x1dbc15||(0x0,Ra[_0x2ebb7c(0x227)])((0x0,Aa['join'])(Se,_0x13230f));}async function Ia(_0x7a47ac,_0x1a3199,_0x8f0deb){const _0x4e7ae0=a0_0x2ec1ea;if(_0x7a47ac[_0x4e7ae0(0x18c)][_0x4e7ae0(0x7de)]('/instance/create')||_0x7a47ac['originalUrl'][_0x4e7ae0(0x7de)]('/instance/fetchInstances')||_0x7a47ac['originalUrl'][_0x4e7ae0(0x7de)](_0x4e7ae0(0x765))||_0x7a47ac[_0x4e7ae0(0x18c)][_0x4e7ae0(0x7de)](_0x4e7ae0(0x144))||_0x7a47ac[_0x4e7ae0(0x18c)][_0x4e7ae0(0x7de)](_0x4e7ae0(0x56c))||_0x7a47ac[_0x4e7ae0(0x18c)][_0x4e7ae0(0x7de)]('/instance/connectionState')||_0x7a47ac[_0x4e7ae0(0x18c)]['includes'](_0x4e7ae0(0x3ed)))return _0x8f0deb();let _0x15bd71=_0x7a47ac[_0x4e7ae0(0x1c2)];if(!_0x15bd71?.[_0x4e7ae0(0x52d)])throw new m(_0x4e7ae0(0x5ee));if(!await Oe(_0x15bd71[_0x4e7ae0(0x52d)]))throw new J(_0x4e7ae0(0x77e)+_0x15bd71[_0x4e7ae0(0x52d)]+_0x4e7ae0(0x2f6));_0x8f0deb();}async function Ta(_0x3186df,_0x36818e,_0x32fcce){const _0x3f4f44=a0_0x2ec1ea;if(_0x3186df['originalUrl']['includes'](_0x3f4f44(0x67e))){let _0x21af7e=_0x3186df[_0x3f4f44(0x40e)];if(await Oe(_0x21af7e[_0x3f4f44(0x52d)]))throw new te('This\x20name\x20'+_0x21af7e['instanceName']+_0x3f4f44(0x3e5));z[_0x3f4f44(0x10a)][_0x21af7e[_0x3f4f44(0x52d)]]&&delete z[_0x3f4f44(0x10a)][_0x21af7e[_0x3f4f44(0x52d)]];}_0x32fcce();}var Oa=require(a0_0x2ec1ea(0x690)),_a=A(require(a0_0x2ec1ea(0x5e3))),rt=a0_0x2ec1ea(0x436),Ro=new $(a0_0x2ec1ea(0x1ca));async function Ao(_0x472703,_0x1d2350,_0x29b788){const _0x3e1ef6=a0_0x2ec1ea;let _0x55a434=_0x472703[_0x3e1ef6(0x63f)]('apikey');if(_0x55a434&&b[_0x3e1ef6(0x63f)](_0x3e1ef6(0x5ad))[_0x3e1ef6(0x566)][_0x3e1ef6(0x2a0)]!==_0x55a434)throw new ne();if(b[_0x3e1ef6(0x63f)](_0x3e1ef6(0x5ad))[_0x3e1ef6(0x566)]['KEY']===_0x55a434)return _0x29b788();if((_0x472703[_0x3e1ef6(0x18c)][_0x3e1ef6(0x7de)]('/instance/create')||_0x472703['originalUrl'][_0x3e1ef6(0x7de)]('/instance/fetchInstances'))&&!_0x55a434)throw new te(_0x3e1ef6(0x405),_0x3e1ef6(0x784));let _0x161fa1=b[_0x3e1ef6(0x63f)](_0x3e1ef6(0x5ad))[_0x3e1ef6(0xd7)];try{let [_0x1a54cc,_0x24d51c]=_0x472703[_0x3e1ef6(0x63f)](_0x3e1ef6(0x5f1))[_0x3e1ef6(0x1e1)]('\x20');if(_0x1a54cc[_0x3e1ef6(0x3b6)]()!==_0x3e1ef6(0x47e))throw new ne();if(!(0x0,Oa[_0x3e1ef6(0x5f4)])(_0x24d51c))throw new ne();let _0xb1e63=_0x472703['params'],_0x457a09=_a['default'][_0x3e1ef6(0x3bc)](_0x24d51c,_0x161fa1[_0x3e1ef6(0x7d3)],{'ignoreExpiration':_0x161fa1[_0x3e1ef6(0x25e)]===0x0});if(_0xb1e63[_0x3e1ef6(0x52d)]!==_0x457a09['instanceName']||rt!==_0x457a09[_0x3e1ef6(0x289)])throw new ne();return _0x29b788();}catch(_0x389e91){throw Ro[_0x3e1ef6(0x3cc)](_0x389e91),new ne();}}async function Io(_0x423667,_0x4abfa7,_0x1fdfa6){const _0x1f40e2=a0_0x2ec1ea;let _0x4433b3=b['get'](_0x1f40e2(0x5ad))[_0x1f40e2(0x566)],_0x5b23d6=_0x423667[_0x1f40e2(0x63f)](_0x1f40e2(0x60d));if(_0x4433b3[_0x1f40e2(0x2a0)]===_0x5b23d6)return _0x1fdfa6();if(_0x423667[_0x1f40e2(0x18c)][_0x1f40e2(0x7de)]('/instance/create')){let _0x688ca4=Da,_0x35c4fc=_0x423667[_0x1f40e2(0x40e)][_0x1f40e2(0x52d)];if(_0x688ca4&&_0x35c4fc[_0x1f40e2(0x3b6)]()['startsWith'](_0x688ca4[_0x1f40e2(0x3b6)]()))return _0x1fdfa6();if(!_0x5b23d6)throw new te(_0x1f40e2(0x405),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x423667[_0x1f40e2(0x18c)][_0x1f40e2(0x7de)](_0x1f40e2(0xf2))&&!_0x5b23d6)throw new te(_0x1f40e2(0x405),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x423667[_0x1f40e2(0x18c)][_0x1f40e2(0x7de)](_0x1f40e2(0x765))&&!_0x5b23d6)throw new te(_0x1f40e2(0x405),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x423667[_0x1f40e2(0x18c)][_0x1f40e2(0x7de)](_0x1f40e2(0x144))&&!_0x5b23d6)throw new te('Missing\x20global\x20api\x20key',_0x1f40e2(0x784));try{let _0x290a60=_0x423667[_0x1f40e2(0x1c2)],_0x16904e=await we[_0x1f40e2(0x39c)][_0x1f40e2(0x3f1)](_0x290a60[_0x1f40e2(0x52d)]);if(_0x16904e&&_0x16904e[_0x1f40e2(0x60d)]===_0x5b23d6)return _0x1fdfa6();}catch{}throw new ne();}var xa={'jwt':Ao,'apikey':Io},gi=require(a0_0x2ec1ea(0x708)),v=require(a0_0x2ec1ea(0x520)),E=(..._0xe886ba)=>{const _0x39b70d=a0_0x2ec1ea;let _0x5ca3d6={};return _0xe886ba[_0x39b70d(0x487)](_0x44c69d=>_0x5ca3d6[_0x44c69d]={'minLength':0x1,'description':_0x39b70d(0x4df)+_0x44c69d+_0x39b70d(0x737)}),{'if':{'propertyNames':{'enum':[..._0xe886ba]}},'then':{'properties':_0x5ca3d6}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'instanceName':{'type':a0_0x2ec1ea(0x2a7)}},...E('instanceName')},mc={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'oldToken':{'type':a0_0x2ec1ea(0x2a7)}},'required':['oldToken'],...E(a0_0x2ec1ea(0x438))},fc={'properties':{'key':{'type':a0_0x2ec1ea(0x7d9),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2ec1ea(0x48b),'fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x2ec1ea(0x7d9)}}},se={'properties':{'delay':{'type':a0_0x2ec1ea(0x43c),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x2ec1ea(0x6af),'available','composing','recording',a0_0x2ec1ea(0x2cc)]}}},Y={'type':a0_0x2ec1ea(0x2a7),'description':a0_0x2ec1ea(0x457)},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'textMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'text':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x2e7)],...E(a0_0x2ec1ea(0x2e7))}},'required':[a0_0x2ec1ea(0x4f3),'number']},ka={'type':a0_0x2ec1ea(0x2a7),'pattern':a0_0x2ec1ea(0x444),'description':a0_0x2ec1ea(0x457)},wc={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...ka},'options':{...se},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x2ec1ea(0x2e7)],...E(a0_0x2ec1ea(0x2e7))}},'required':[a0_0x2ec1ea(0x4f3),'number']},yc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...ka},'options':{...se},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x6da),'document',a0_0x2ec1ea(0x17e),a0_0x2ec1ea(0x618)]},'media':{'type':'string'},'fileName':{'type':a0_0x2ec1ea(0x2a7)},'caption':{'type':a0_0x2ec1ea(0x2a7)}},'required':['mediatype','media'],...E(a0_0x2ec1ea(0x51b),a0_0x2ec1ea(0x71b),'media')}},'required':[a0_0x2ec1ea(0x187),a0_0x2ec1ea(0x2fa)]},La={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...se},'stickerMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'image':{'type':'string'}},'required':[a0_0x2ec1ea(0x6da)],...E(a0_0x2ec1ea(0x6da))}},'required':[a0_0x2ec1ea(0x17c),a0_0x2ec1ea(0x2fa)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x2e7),'image',a0_0x2ec1ea(0x618),a0_0x2ec1ea(0x17e)]},'content':{'type':a0_0x2ec1ea(0x2a7)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x2ec1ea(0x2a7)},'font':{'type':a0_0x2ec1ea(0x43c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x2a7),'pattern':a0_0x2ec1ea(0x132),'description':a0_0x2ec1ea(0x42c)}},'allContacts':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':['type',a0_0x2ec1ea(0x580)],...E(a0_0x2ec1ea(0x6e6),a0_0x2ec1ea(0x580))}},'required':[a0_0x2ec1ea(0x56e)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x2ec1ea(0x6da),a0_0x2ec1ea(0x72f),a0_0x2ec1ea(0x17e),a0_0x2ec1ea(0x618)]},'media':{'type':a0_0x2ec1ea(0x2a7)},'fileName':{'type':a0_0x2ec1ea(0x2a7)},'caption':{'type':'string'}},'required':['mediatype','media'],...E(a0_0x2ec1ea(0x51b),'caption','media')}},'required':[a0_0x2ec1ea(0x187),'number']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'audioMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'audio':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x618)],...E(a0_0x2ec1ea(0x618))}},'required':[a0_0x2ec1ea(0x768),a0_0x2ec1ea(0x2fa)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'pollMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'name':{'type':a0_0x2ec1ea(0x2a7)},'selectableCount':{'type':a0_0x2ec1ea(0x2fa)},'values':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2ec1ea(0x582),'selectableCount','values'],...E(a0_0x2ec1ea(0x582),'selectableCount','values')}},'required':[a0_0x2ec1ea(0x2fa),'pollMessage']},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'menuMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x2ec1ea(0xe8)],...E(a0_0x2ec1ea(0x2e7),'choices')}},'required':['number',a0_0x2ec1ea(0x7a6)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'buttonMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x2ec1ea(0x2a7)},'buttons':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x7d9),'properties':{'buttonText':{'type':a0_0x2ec1ea(0x2a7)},'buttonId':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x151),a0_0x2ec1ea(0x10d)],...E(a0_0x2ec1ea(0x151),a0_0x2ec1ea(0x10d))}},'mediaMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'media':{'type':a0_0x2ec1ea(0x2a7)},'fileName':{'type':a0_0x2ec1ea(0x2a7)},'mediatype':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x6da),a0_0x2ec1ea(0x72f),a0_0x2ec1ea(0x17e)]}},'required':[a0_0x2ec1ea(0x3e1),a0_0x2ec1ea(0x176)],...E(a0_0x2ec1ea(0x3e1),a0_0x2ec1ea(0x51b))}},'required':['title','buttons'],...E('title',a0_0x2ec1ea(0x672))}},'required':[a0_0x2ec1ea(0x2fa),a0_0x2ec1ea(0x7ef)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'locationMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x2ec1ea(0x2fa)},'name':{'type':a0_0x2ec1ea(0x2a7)},'address':{'type':'string'}},'required':[a0_0x2ec1ea(0x560),a0_0x2ec1ea(0x333)],...E(a0_0x2ec1ea(0x582),a0_0x2ec1ea(0x3a4))}},'required':['number','locationMessage']},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'listMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'title':{'type':a0_0x2ec1ea(0x2a7)},'description':{'type':a0_0x2ec1ea(0x2a7)},'footerText':{'type':a0_0x2ec1ea(0x2a7)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x7d9),'properties':{'title':{'type':a0_0x2ec1ea(0x2a7)},'rows':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x2ec1ea(0x2a7)},'rowId':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x19e),a0_0x2ec1ea(0x5e4)],...E('title',a0_0x2ec1ea(0x5e4))}}},'required':[a0_0x2ec1ea(0x19e),a0_0x2ec1ea(0x530)],...E(a0_0x2ec1ea(0x19e))}}},'required':[a0_0x2ec1ea(0x19e),a0_0x2ec1ea(0x672),a0_0x2ec1ea(0x151),a0_0x2ec1ea(0x57b)],...E(a0_0x2ec1ea(0x19e),a0_0x2ec1ea(0x672),a0_0x2ec1ea(0x151),a0_0x2ec1ea(0x39f))}},'required':[a0_0x2ec1ea(0x2fa),'listMessage']},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'options':{...se},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x2ec1ea(0x2a7),'minLength':0xa}},'required':['fullName',a0_0x2ec1ea(0x476)],...E(a0_0x2ec1ea(0x162))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2ec1ea(0x2fa),a0_0x2ec1ea(0x15d)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'reactionMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'key':{'type':a0_0x2ec1ea(0x7d9),'properties':{'id':{'type':a0_0x2ec1ea(0x2a7)},'remoteJid':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x2ec1ea(0x103)],...E('id','remoteJid')},'reaction':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x2e1),'reaction'],...E(a0_0x2ec1ea(0x71e))}},'required':['reactionMessage']},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'numbers':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x2a7),'pattern':'^\x5cd+','description':a0_0x2ec1ea(0x2cd)}}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x2ec1ea(0x103),a0_0x2ec1ea(0x48b)],...E('id','remoteJid')}}},'required':[a0_0x2ec1ea(0x3e7)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'privacySettings':{'type':a0_0x2ec1ea(0x7d9),'properties':{'readreceipts':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x378),a0_0x2ec1ea(0x43e)]},'profile':{'type':'string','enum':[a0_0x2ec1ea(0x378),'contacts',a0_0x2ec1ea(0x32e),'none']},'status':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x378),'contacts',a0_0x2ec1ea(0x32e),'none']},'online':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x378),a0_0x2ec1ea(0x489)]},'last':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x378),'contacts',a0_0x2ec1ea(0x32e),'none']},'groupadd':{'type':a0_0x2ec1ea(0x2a7),'enum':['all',a0_0x2ec1ea(0x7c4),'contact_blacklist',a0_0x2ec1ea(0x43e)]}},'required':[a0_0x2ec1ea(0x348),a0_0x2ec1ea(0x39a),a0_0x2ec1ea(0x3fd),'online',a0_0x2ec1ea(0x3c2),a0_0x2ec1ea(0x336)],...E(a0_0x2ec1ea(0x348),a0_0x2ec1ea(0x39a),a0_0x2ec1ea(0x3fd),a0_0x2ec1ea(0xb6),a0_0x2ec1ea(0x3c2),a0_0x2ec1ea(0x336))}},'required':['privacySettings']},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'lastMessage':{'type':a0_0x2ec1ea(0x7d9),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x2ec1ea(0x2a7)},'remoteJid':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x2ec1ea(0x48b)],...E('id',a0_0x2ec1ea(0x48b))},'messageTimestamp':{'type':a0_0x2ec1ea(0x43c),'minLength':0x1}},'required':['key'],...E('messageTimestamp')},'archive':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':[a0_0x2ec1ea(0x274),a0_0x2ec1ea(0x3e8)]},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'id':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2ec1ea(0x2a7)},'participant':{'type':'string'}},'required':['id',a0_0x2ec1ea(0x103),a0_0x2ec1ea(0x48b)],...E('id',a0_0x2ec1ea(0x48b),'participant')},Za={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'where':{'type':a0_0x2ec1ea(0x7d9),'properties':{'_id':{'type':a0_0x2ec1ea(0x2a7),'minLength':0x1},'pushName':{'type':a0_0x2ec1ea(0x2a7),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x2ec1ea(0x6b1),'id',a0_0x2ec1ea(0x64e))}}},ei={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x2ec1ea(0x2a7)}},...E(a0_0x2ec1ea(0x582))},ti={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x2ec1ea(0x2a7)}},...E(a0_0x2ec1ea(0x3fd))},_e={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x2ec1ea(0x2a7)}}},si={'type':a0_0x2ec1ea(0x7d9),'properties':{'wuid':{'type':a0_0x2ec1ea(0x2a7)},'name':{'type':a0_0x2ec1ea(0x2a7)},'picture':{'type':'string'},'status':{'type':a0_0x2ec1ea(0x2a7)},'isBusiness':{'type':'boolean'}}},ai={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x2ec1ea(0x103),a0_0x2ec1ea(0x48b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2ec1ea(0x2a7),'minLength':0x1,'description':a0_0x2ec1ea(0x148)},'id':{'type':a0_0x2ec1ea(0x2a7),'minLength':0x1,'description':a0_0x2ec1ea(0x148)},'fromMe':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2ec1ea(0x7d9)}},...E('_id')},'limit':{'type':a0_0x2ec1ea(0x43c)}}},bc={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'where':{'type':a0_0x2ec1ea(0x7d9),'properties':{'_id':{'type':a0_0x2ec1ea(0x2a7)},'remoteJid':{'type':a0_0x2ec1ea(0x2a7)},'id':{'type':a0_0x2ec1ea(0x2a7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x2ec1ea(0x2a7)},'status':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x473),a0_0x2ec1ea(0x732),'SERVER_ACK','DELIVERY_ACK',a0_0x2ec1ea(0x21b),a0_0x2ec1ea(0x58a)]}},...E(a0_0x2ec1ea(0x6b1),'remoteJid','id',a0_0x2ec1ea(0x3fd))},'limit':{'type':a0_0x2ec1ea(0x43c)}}},ii={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'number':{...Y},'presence':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x6af),a0_0x2ec1ea(0x175),'composing',a0_0x2ec1ea(0x1d3),a0_0x2ec1ea(0x2cc)]}},'required':[a0_0x2ec1ea(0x36b),a0_0x2ec1ea(0x2fa)]},oi={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x2ec1ea(0x2a7)},'profilePicture':{'type':a0_0x2ec1ea(0x2a7)},'participants':{'type':a0_0x2ec1ea(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x2a7),'minLength':0xa,'pattern':a0_0x2ec1ea(0x224),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x2ec1ea(0x6ed),a0_0x2ec1ea(0x341)],...E(a0_0x2ec1ea(0x6ed),a0_0x2ec1ea(0x672),a0_0x2ec1ea(0x38b))},xe={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':['groupJid'],...E('groupJid')},ri={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7)},'action':{'type':'string','enum':[a0_0x2ec1ea(0x2fc),a0_0x2ec1ea(0x2a4),a0_0x2ec1ea(0xef),'demote',a0_0x2ec1ea(0x6a5),a0_0x2ec1ea(0x55c)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2ec1ea(0x2a7),'minLength':0xa,'pattern':a0_0x2ec1ea(0x224),'description':a0_0x2ec1ea(0x79e)}}},'required':[a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x581),a0_0x2ec1ea(0x341)],...E(a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x581))},ni={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7)},'expiration':{'type':a0_0x2ec1ea(0x2fa),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x7a5)],...E(a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x7a5))},ci={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x6da)],...E(a0_0x2ec1ea(0x2f3),'image')},li={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7)},'description':{'type':'string'}},'required':['groupJid',a0_0x2ec1ea(0x672)],...E(a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x672))},ui={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7)},'name':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x582)],...E('groupJid',a0_0x2ec1ea(0x582))},di={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2ec1ea(0x2a7)},'setting':{'type':a0_0x2ec1ea(0x2a7),'enum':[a0_0x2ec1ea(0x118),a0_0x2ec1ea(0x5cc),a0_0x2ec1ea(0x1cf),a0_0x2ec1ea(0x15c)]}},'required':[a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x6d9)],...E(a0_0x2ec1ea(0x2f3),a0_0x2ec1ea(0x6d9))},pi={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x2ec1ea(0x323)},'announce':{'type':a0_0x2ec1ea(0x323)},'memberAddMode':{'type':a0_0x2ec1ea(0x323)},'joinApprovalMode':{'type':a0_0x2ec1ea(0x323)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x2ec1ea(0x2a7)},'description':{'type':a0_0x2ec1ea(0x2a7)},'image':{'type':'string'}}},Ns={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'inviteCode':{'type':a0_0x2ec1ea(0x2a7)}},'required':[a0_0x2ec1ea(0x326)],...E('inviteCode')},hi={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'url':{'type':a0_0x2ec1ea(0x2a7)},'enabled':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':[a0_0x2ec1ea(0x26c),'enabled']},Sc={'$id':(0x0,v['v4'])(),'type':a0_0x2ec1ea(0x7d9),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2ec1ea(0x323),'enum':[!0x0,!0x1]}},'required':[a0_0x2ec1ea(0x281),'STATUS_INSTANCE',a0_0x2ec1ea(0x7d8),a0_0x2ec1ea(0x114),a0_0x2ec1ea(0x5fb),a0_0x2ec1ea(0x7d6),a0_0x2ec1ea(0x37b),a0_0x2ec1ea(0x36e),a0_0x2ec1ea(0x5ae),a0_0x2ec1ea(0x6dc),'PRESENCE_UPDATE','CHATS_SET',a0_0x2ec1ea(0x74d),a0_0x2ec1ea(0x472),'CHATS_DELETE',a0_0x2ec1ea(0xa5),a0_0x2ec1ea(0x605),a0_0x2ec1ea(0x2bf),a0_0x2ec1ea(0x390)],...E(a0_0x2ec1ea(0x281),a0_0x2ec1ea(0xb7),a0_0x2ec1ea(0x7d8),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x2ec1ea(0x7d6),'SEND_MESSAGE',a0_0x2ec1ea(0x36e),a0_0x2ec1ea(0x5ae),'CONTACTS_UPDATE',a0_0x2ec1ea(0x725),'CHATS_SET','CHATS_UPSERT',a0_0x2ec1ea(0x472),'CHATS_DELETE',a0_0x2ec1ea(0xa5),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},nt=class{},ct=class extends _{['getContactModelForOwner'](_0x4a5db9){return ia(_0x4a5db9);}async['insert'](_0x4b0cd3){const _0xf249a3=a0_0x2ec1ea;if(_0x4b0cd3[_0xf249a3(0x54d)]!==0x0)try{return{'insertCount':(await this[_0xf249a3(0x4c4)](_0x4b0cd3[0x0][_0xf249a3(0x4dd)])[_0xf249a3(0x586)]([..._0x4b0cd3]))[_0xf249a3(0x54d)]};}catch(_0x59029d){return _0x59029d;}}async[a0_0x2ec1ea(0x31e)](_0x2c5b3f,_0x722d45){const _0x1de8ef=a0_0x2ec1ea;try{return{'deletedCount':(await this[_0x1de8ef(0x4c4)](_0x722d45)['deleteMany']({..._0x2c5b3f[_0x1de8ef(0xa1)]}))[_0x1de8ef(0x608)]};}catch(_0x463274){return{'error':_0x463274?.[_0x1de8ef(0x4e0)]()};}}async['update'](_0x1770f8,_0x55070c){const _0x5ecf57=a0_0x2ec1ea;try{if(_0x1770f8['length']===0x0)return;let _0x563874=this[_0x5ecf57(0x4c4)](_0x55070c),_0x318a3d=_0x1770f8['map'](_0x1db230=>({'updateOne':{'filter':{'_id':_0x1db230[_0x5ecf57(0x6b1)],'owner':_0x55070c},'update':{..._0x1db230}}})),{modifiedCount:_0x39a2a2}=await _0x563874[_0x5ecf57(0x6b7)](_0x318a3d);return{'insertCount':_0x39a2a2};}catch{return;}}async[a0_0x2ec1ea(0x3f1)](_0x143cd5,_0x369b37){const _0x474fc2=a0_0x2ec1ea;try{let _0x32c920=this[_0x474fc2(0x4c4)](_0x369b37),_0x20fb03=I(_0x143cd5[_0x474fc2(0xa1)]);return await _0x32c920[_0x474fc2(0x3f1)](_0x20fb03)[_0x474fc2(0x497)](_0x143cd5?.[_0x474fc2(0x497)]??0x0)['lean']();}catch{return[];}}async[a0_0x2ec1ea(0x167)](_0x2b569a,_0x1079f8){const _0x34cddf=a0_0x2ec1ea;try{let _0x4d261f=this[_0x34cddf(0x4c4)](_0x1079f8),_0x5ef9fc=I(_0x2b569a[_0x34cddf(0xa1)]);return await _0x4d261f[_0x34cddf(0x167)](_0x5ef9fc)[_0x34cddf(0x679)]();}catch{return null;}}async['deleteAll'](_0x587831){const _0x139832=a0_0x2ec1ea;try{return await this[_0x139832(0x4c4)](_0x587831)['collection'][_0x139832(0x635)](),{'success':!0x0};}catch(_0x1708bb){return console[_0x139832(0x3cc)](_0x1708bb),{'success':!0x1,'error':_0x1708bb};}}},lt=require(a0_0x2ec1ea(0x253)),Ic=require(a0_0x2ec1ea(0x7ba)),$s=new $('Validate'),G=class{[a0_0x2ec1ea(0x58e)](_0x5ce4a0,_0x1036d3=!0x0){let _0x165773='/'+_0x5ce4a0;return _0x1036d3&&(_0x165773+='/:instanceName'),_0x165773;}async[a0_0x2ec1ea(0x261)](_0x2c0ead){const _0x1c8a82=a0_0x2ec1ea;let {request:_0xa82809,schema:_0x2a7a4c,ClassRef:_0x1ed7a2,execute:_0x3b81e8}=_0x2c0ead,_0x34d9fd=new _0x1ed7a2(),_0x1f930a=_0xa82809['body'],_0x268118=_0xa82809[_0x1c8a82(0x1c2)];_0xa82809?.['query']&&Object[_0x1c8a82(0x6b5)](_0xa82809['query'])[_0x1c8a82(0x54d)]>0x0&&Object[_0x1c8a82(0x2e2)](_0x268118,_0xa82809[_0x1c8a82(0x736)]),_0xa82809[_0x1c8a82(0x18c)][_0x1c8a82(0x7de)](_0x1c8a82(0x67e))&&Object[_0x1c8a82(0x2e2)](_0x268118,_0x1f930a),Object['assign'](_0x34d9fd,_0x1f930a);let _0x411126=_0x2a7a4c?(0x0,lt[_0x1c8a82(0x3c3)])(_0x34d9fd,_0x2a7a4c):{'valid':!0x0,'errors':[]};if(!_0x411126[_0x1c8a82(0x577)]){let _0x46b3d6=_0x411126[_0x1c8a82(0x2c5)][_0x1c8a82(0x3ac)](({property:_0x54fbb1,stack:_0x2289da,schema:_0x423e18})=>{const _0x1ee2e6=_0x1c8a82;let _0x4d10af;return _0x423e18['description']?_0x4d10af=_0x423e18[_0x1ee2e6(0x672)]:_0x4d10af=_0x2289da[_0x1ee2e6(0x19d)](_0x1ee2e6(0x74e),''),{'property':_0x54fbb1[_0x1ee2e6(0x19d)]('instance.',''),'message':_0x4d10af};});throw $s[_0x1c8a82(0x3cc)]([..._0x46b3d6]),new m(..._0x46b3d6);}return await _0x3b81e8(_0x268118,_0x34d9fd);}async[a0_0x2ec1ea(0x6a8)](_0x343ca4){const _0x3c65a6=a0_0x2ec1ea;let {request:_0x41187b,ClassRef:_0x5c137b,schema:_0x231f04,execute:_0x268e8e}=_0x343ca4,_0x2fe3b4=_0x41187b[_0x3c65a6(0x736)];if(!_0x2fe3b4?.[_0x3c65a6(0x2f3)])throw new m(_0x3c65a6(0x20d),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x3afd3c=_0x41187b[_0x3c65a6(0x1c2)],_0x27612d=_0x41187b[_0x3c65a6(0x40e)],_0x3020ec=new _0x5c137b();Object['assign'](_0x27612d,_0x2fe3b4),Object[_0x3c65a6(0x2e2)](_0x3020ec,_0x27612d);let _0x349ed3=(0x0,lt[_0x3c65a6(0x3c3)])(_0x3020ec,_0x231f04);if(!_0x349ed3[_0x3c65a6(0x577)]){let _0x42a4c2=_0x349ed3[_0x3c65a6(0x2c5)][_0x3c65a6(0x3ac)](({property:_0x183dee,stack:_0x51114a,schema:_0x3a5ff6})=>{const _0x121627=_0x3c65a6;let _0x18ff9c;return _0x3a5ff6[_0x121627(0x672)]?_0x18ff9c=_0x3a5ff6[_0x121627(0x672)]:_0x18ff9c=_0x51114a[_0x121627(0x19d)](_0x121627(0x74e),''),{'property':_0x183dee[_0x121627(0x19d)](_0x121627(0x74e),''),'message':_0x18ff9c};});throw $s[_0x3c65a6(0x3cc)]([..._0x42a4c2]),new m(..._0x42a4c2);}return await _0x268e8e(_0x3afd3c,_0x3020ec);}async[a0_0x2ec1ea(0x64f)](_0x22c861){const _0x78ea27=a0_0x2ec1ea;let {request:_0x509952,ClassRef:_0x3d95d8,schema:_0x304d37,execute:_0x4785f1}=_0x22c861,_0x3a6af2=_0x509952['body'];if(!_0x3a6af2?.['inviteCode'])throw new m(_0x78ea27(0x15b),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x310277=_0x509952[_0x78ea27(0x1c2)],_0x2b009d=_0x509952[_0x78ea27(0x40e)],_0x56eca0=new _0x3d95d8();Object[_0x78ea27(0x2e2)](_0x2b009d,_0x3a6af2),Object[_0x78ea27(0x2e2)](_0x56eca0,_0x2b009d);let _0x3caad6=(0x0,lt[_0x78ea27(0x3c3)])(_0x56eca0,_0x304d37);if(!_0x3caad6[_0x78ea27(0x577)]){let _0x4c10a3=_0x3caad6[_0x78ea27(0x2c5)][_0x78ea27(0x3ac)](({property:_0x5576f3,stack:_0x406bf8,schema:_0x40b98e})=>{const _0xaa63fc=_0x78ea27;let _0x8dbccf;return _0x40b98e[_0xaa63fc(0x672)]?_0x8dbccf=_0x40b98e[_0xaa63fc(0x672)]:_0x8dbccf=_0x406bf8[_0xaa63fc(0x19d)]('instance.',''),{'property':_0x5576f3[_0xaa63fc(0x19d)]('instance.',''),'message':_0x8dbccf};});throw $s[_0x78ea27(0x3cc)]([..._0x4c10a3]),new m(..._0x4c10a3);}return await _0x4785f1(_0x310277,_0x56eca0);}},M=class{},Gc=new $(a0_0x2ec1ea(0x450)),ut=class extends G{constructor(..._0x6f65f7){const _0x5a1ba8=a0_0x2ec1ea;super(),this['router']=(0x0,gi[_0x5a1ba8(0x483)])(),this[_0x5a1ba8(0x3be)][_0x5a1ba8(0x49d)](this['routerPath'](_0x5a1ba8(0x1a6)),..._0x6f65f7,async(_0x2cc5fd,_0x45fe7e)=>{const _0x880613=_0x5a1ba8;let _0x22d115=await this[_0x880613(0x261)]({'request':_0x2cc5fd,'schema':ii,'ClassRef':Xe,'execute':(_0x3e4c9a,_0xd3b44c)=>P[_0x880613(0x1a6)](_0x3e4c9a,_0xd3b44c)});return _0x45fe7e['status'](0xc9)[_0x880613(0x5b2)](_0x22d115);})[_0x5a1ba8(0x49d)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x51d)),..._0x6f65f7,async(_0x31b1ee,_0x5f2921)=>{const _0xfbd920=_0x5a1ba8;let _0xedf3e4=await this[_0xfbd920(0x261)]({'request':_0x31b1ee,'schema':Ha,'ClassRef':Ze,'execute':(_0x3e4dcd,_0x1cbe58)=>P[_0xfbd920(0x382)](_0x3e4dcd,_0x1cbe58)});return _0x5f2921['status'](0xc9)[_0xfbd920(0x5b2)](_0xedf3e4);})['post'](this[_0x5a1ba8(0x58e)]('editChat'),..._0x6f65f7,async(_0x2d1d40,_0x48aa8a)=>{const _0x450784=_0x5a1ba8;let _0x3b482b=await this[_0x450784(0x261)]({'request':_0x2d1d40,'schema':N,'ClassRef':M,'execute':(_0x423ff1,_0x108fbd)=>P[_0x450784(0x3cb)](_0x423ff1,_0x108fbd)});return _0x48aa8a['status'](0xc9)['json'](_0x3b482b);})[_0x5a1ba8(0x458)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x710)),..._0x6f65f7,async(_0x129fa4,_0x4cd71f)=>{const _0x266fa8=_0x5a1ba8;let _0x4b8a9a=await this[_0x266fa8(0x261)]({'request':_0x129fa4,'schema':Ka,'ClassRef':st,'execute':(_0x4151d9,_0x55ba1d)=>P[_0x266fa8(0x735)](_0x4151d9,_0x55ba1d)});return _0x4cd71f['status'](0xc9)[_0x266fa8(0x5b2)](_0x4b8a9a);})['put'](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x55f)),..._0x6f65f7,async(_0x381733,_0xa3d981)=>{const _0x2b4d29=_0x5a1ba8;let _0x3e18cf=await this[_0x2b4d29(0x261)]({'request':_0x381733,'schema':Ya,'ClassRef':at,'execute':(_0x5c8cad,_0x5f0cce)=>P[_0x2b4d29(0x55f)](_0x5c8cad,_0x5f0cce)});return _0xa3d981[_0x2b4d29(0x3fd)](0xc9)[_0x2b4d29(0x5b2)](_0x3e18cf);})['delete'](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x4c5)),..._0x6f65f7,async(_0x39d7b3,_0x3e6085)=>{const _0x466999=_0x5a1ba8;let _0x3ee601=await this[_0x466999(0x261)]({'request':_0x39d7b3,'schema':Xa,'ClassRef':ot,'execute':(_0x3625d9,_0x117c74)=>P[_0x466999(0x48a)](_0x3625d9,_0x117c74)});return _0x3e6085[_0x466999(0x3fd)](0xc9)[_0x466999(0x5b2)](_0x3ee601);})['post'](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x209)),..._0x6f65f7,async(_0x22bd61,_0x465449)=>{const _0xc9ad81=_0x5a1ba8;let _0x5a2975=await this['dataValidate']({'request':_0x22bd61,'schema':_e,'ClassRef':Te,'execute':(_0x4ae9eb,_0x37e753)=>P['fetchProfilePicture'](_0x4ae9eb,_0x37e753)});return _0x465449[_0xc9ad81(0x3fd)](0xc8)['json'](_0x5a2975);})[_0x5a1ba8(0x49d)](this['routerPath']('fetchProfile'),..._0x6f65f7,async(_0x3d41c1,_0x459f04)=>{const _0x552ef2=_0x5a1ba8;let _0xaaefb4=await this['dataValidate']({'request':_0x3d41c1,'schema':si,'ClassRef':Te,'execute':(_0x53458f,_0x5c190b)=>P[_0x552ef2(0x55a)](_0x53458f,_0x5c190b)});return _0x459f04[_0x552ef2(0x3fd)](0xc8)['json'](_0xaaefb4);})[_0x5a1ba8(0x49d)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x72e)),..._0x6f65f7,async(_0x3940cd,_0x4503bb)=>{const _0x7451cd=_0x5a1ba8;let _0x2052af=await this['dataValidate']({'request':_0x3940cd,'schema':Za,'ClassRef':nt,'execute':(_0x2a4cdd,_0x8b1101)=>P[_0x7451cd(0x25f)](_0x2a4cdd,_0x8b1101)});return _0x4503bb[_0x7451cd(0x3fd)](0xc8)['json'](_0x2052af);})[_0x5a1ba8(0x49d)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x2f5)),..._0x6f65f7,async(_0x19be51,_0xfaf041)=>{const _0x35247b=_0x5a1ba8;let _0x2bb829=await this[_0x35247b(0x261)]({'request':_0x19be51,'schema':null,'ClassRef':Object,'execute':(_0x11a0bc,_0x1431a8)=>P[_0x35247b(0x2f5)](_0x11a0bc,_0x1431a8)});return _0xfaf041[_0x35247b(0x3fd)](0xc9)['json'](_0x2bb829);})[_0x5a1ba8(0x49d)](this['routerPath']('findMessages'),..._0x6f65f7,async(_0x33cf9a,_0x1e9e03)=>{const _0x516d38=_0x5a1ba8;let _0x5907d3=await this[_0x516d38(0x261)]({'request':_0x33cf9a,'schema':ai,'ClassRef':Qe,'execute':(_0x516710,_0x4e4c6c)=>P[_0x516d38(0x36f)](_0x516710,_0x4e4c6c)});return _0x1e9e03['status'](0xc8)['json'](_0x5907d3);})[_0x5a1ba8(0x63f)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x542)),..._0x6f65f7,async(_0x183628,_0x420293)=>{const _0x3181fc=_0x5a1ba8;let _0x4eac30=await this[_0x3181fc(0x261)]({'request':_0x183628,'schema':null,'ClassRef':M,'execute':_0x261fa0=>P['fetchChats'](_0x261fa0)});return _0x420293[_0x3181fc(0x3fd)](0xc8)[_0x3181fc(0x5b2)](_0x4eac30);})['get'](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x2d6)),..._0x6f65f7,async(_0x29316c,_0x3e17ca)=>{const _0x1dec9a=_0x5a1ba8;let _0x4d9515=await this[_0x1dec9a(0x261)]({'request':_0x29316c,'schema':null,'ClassRef':M,'execute':_0x1813b1=>P[_0x1dec9a(0x789)](_0x1813b1)});return _0x3e17ca[_0x1dec9a(0x3fd)](0xc8)[_0x1dec9a(0x5b2)](_0x4d9515);})[_0x5a1ba8(0x458)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x338)),..._0x6f65f7,async(_0x27f4ec,_0x408eb4)=>{const _0x363dfa=_0x5a1ba8;let _0x118f0c=await this[_0x363dfa(0x261)]({'request':_0x27f4ec,'schema':null,'ClassRef':Array,'execute':(_0xdfcc2b,_0x35dd3f)=>P['importChats'](_0xdfcc2b,_0x35dd3f)});return _0x408eb4[_0x363dfa(0x3fd)](0xc8)[_0x363dfa(0x5b2)](_0x118f0c);})['get'](this['routerPath'](_0x5a1ba8(0x7b4)),..._0x6f65f7,async(_0x59b2ff,_0xff8e7f)=>{const _0x24eea1=_0x5a1ba8;let _0x4b2c7f=await this[_0x24eea1(0x261)]({'request':_0x59b2ff,'schema':null,'ClassRef':M,'execute':_0x5cedc7=>P[_0x24eea1(0x7b4)](_0x5cedc7)});return _0xff8e7f[_0x24eea1(0x3fd)](0xc8)[_0x24eea1(0x5b2)](_0x4b2c7f);})[_0x5a1ba8(0x458)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x2b3)),..._0x6f65f7,async(_0x72b27d,_0x21f9f3)=>{const _0x2ed4e6=_0x5a1ba8;let _0x5478ff=await this[_0x2ed4e6(0x261)]({'request':_0x72b27d,'schema':Qa,'ClassRef':it,'execute':(_0x4f400f,_0x84a771)=>P['updatePrivacySettings'](_0x4f400f,_0x84a771)});return _0x21f9f3[_0x2ed4e6(0x3fd)](0xc9)['json'](_0x5478ff);})[_0x5a1ba8(0x49d)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x6b2)),..._0x6f65f7,async(_0x320a55,_0x451878)=>{const _0x429595=_0x5a1ba8;let _0x33a593=await this['dataValidate']({'request':_0x320a55,'schema':_e,'ClassRef':Ee,'execute':(_0x2229d1,_0x571e9f)=>P[_0x429595(0x6b2)](_0x2229d1,_0x571e9f)});return _0x451878[_0x429595(0x3fd)](0xc8)[_0x429595(0x5b2)](_0x33a593);})[_0x5a1ba8(0x49d)](this['routerPath'](_0x5a1ba8(0x4bd)),..._0x6f65f7,async(_0x3e48c3,_0x7b7e3a)=>{const _0x2a13f0=_0x5a1ba8;let _0x44df61=await this['dataValidate']({'request':_0x3e48c3,'schema':ei,'ClassRef':et,'execute':(_0x53e751,_0x5d2ecd)=>P[_0x2a13f0(0x4bd)](_0x53e751,_0x5d2ecd)});return _0x7b7e3a[_0x2a13f0(0x3fd)](0xc8)['json'](_0x44df61);})[_0x5a1ba8(0x49d)](this[_0x5a1ba8(0x58e)](_0x5a1ba8(0x4d1)),..._0x6f65f7,async(_0x2e0270,_0x5eb3a6)=>{const _0x6234b0=_0x5a1ba8;let _0x5d0705=await this[_0x6234b0(0x261)]({'request':_0x2e0270,'schema':ti,'ClassRef':tt,'execute':(_0x61eb1,_0x5b166c)=>P['updateProfileStatus'](_0x61eb1,_0x5b166c)});return _0x5eb3a6[_0x6234b0(0x3fd)](0xc8)[_0x6234b0(0x5b2)](_0x5d0705);})[_0x5a1ba8(0x458)](this['routerPath'](_0x5a1ba8(0x149)),..._0x6f65f7,async(_0x391a9e,_0x2d5224)=>{const _0x3df933=_0x5a1ba8;let _0x1988eb=await this[_0x3df933(0x261)]({'request':_0x391a9e,'schema':_e,'ClassRef':Ee,'execute':(_0x14fa30,_0x5ebcff)=>P[_0x3df933(0x149)](_0x14fa30,_0x5ebcff)});return _0x2d5224[_0x3df933(0x3fd)](0xc8)['json'](_0x1988eb);})[_0x5a1ba8(0x31e)](this['routerPath'](_0x5a1ba8(0x25a)),..._0x6f65f7,async(_0x472fbd,_0x2f6fbf)=>{const _0x439423=_0x5a1ba8;let _0x17d6ed=await this[_0x439423(0x261)]({'request':_0x472fbd,'schema':_e,'ClassRef':Ee,'execute':(_0x10824a,_0x2c4148)=>P[_0x439423(0x25a)](_0x10824a,_0x2c4148)});return _0x2f6fbf['status'](0xc8)[_0x439423(0x5b2)](_0x17d6ed);});}},mi=require(a0_0x2ec1ea(0x708)),dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},ae=class{},De=class{},wt=class extends ae{},yt=class extends ae{},bt=class extends G{constructor(..._0x24c54b){const _0x2932d0=a0_0x2ec1ea;super(),this[_0x2932d0(0x3be)]=(0x0,mi[_0x2932d0(0x483)])(),this['router'][_0x2932d0(0x49d)](this[_0x2932d0(0x58e)]('create'),..._0x24c54b,async(_0x1e435e,_0xb6a9ea)=>{const _0x53f5c2=_0x2932d0;let _0x2398d4=await this[_0x53f5c2(0x261)]({'request':_0x1e435e,'schema':oi,'ClassRef':dt,'execute':(_0x5315ed,_0x57740b)=>V[_0x53f5c2(0x4c6)](_0x5315ed,_0x57740b)});_0xb6a9ea['status'](0xc9)['json'](_0x2398d4);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0x6bc)),..._0x24c54b,async(_0x5b347e,_0x57c7c6)=>{const _0x1f5d5d=_0x2932d0;let _0x7fd57f=await this['groupValidate']({'request':_0x5b347e,'schema':ci,'ClassRef':pt,'execute':(_0x9b8a19,_0x3ae590)=>V[_0x1f5d5d(0x6bc)](_0x9b8a19,_0x3ae590)});_0x57c7c6[_0x1f5d5d(0x3fd)](0xc9)[_0x1f5d5d(0x5b2)](_0x7fd57f);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0x61a)),..._0x24c54b,async(_0x203871,_0x2ae0ef)=>{const _0xe63d24=_0x2932d0;let _0x2cfe05=await this['groupValidate']({'request':_0x203871,'schema':li,'ClassRef':ht,'execute':(_0x461ef0,_0x43f3f5)=>V['groupDesc'](_0x461ef0,_0x43f3f5)});_0x2ae0ef[_0xe63d24(0x3fd)](0xc9)[_0xe63d24(0x5b2)](_0x2cfe05);})['put'](this[_0x2932d0(0x58e)]('groupName'),..._0x24c54b,async(_0x10ea27,_0x57ea82)=>{const _0xf0941f=_0x2932d0;let _0x19f858=await this[_0xf0941f(0x6a8)]({'request':_0x10ea27,'schema':ui,'ClassRef':gt,'execute':(_0x4d1b6b,_0xbe98ca)=>V[_0xf0941f(0x613)](_0x4d1b6b,_0xbe98ca)});_0x57ea82[_0xf0941f(0x3fd)](0xc9)[_0xf0941f(0x5b2)](_0x19f858);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0x6ae)),..._0x24c54b,async(_0x4d710d,_0x1d34f9)=>{const _0xd48c8b=_0x2932d0;let _0x29d95b=await this[_0xd48c8b(0x6a8)]({'request':_0x4d710d,'schema':pi,'ClassRef':ft,'execute':(_0x538833,_0x2d9aba)=>V[_0xd48c8b(0x6ae)](_0x538833,_0x2d9aba)});_0x1d34f9[_0xd48c8b(0x3fd)](0xc9)[_0xd48c8b(0x5b2)](_0x29d95b);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0xce)),..._0x24c54b,async(_0x44d81b,_0x23d972)=>{const _0xd6dd89=_0x2932d0;let _0x5a9c0c=await this[_0xd6dd89(0x6a8)]({'request':_0x44d81b,'schema':di,'ClassRef':mt,'execute':(_0x30656d,_0x3d9e1c)=>V['groupSetting'](_0x30656d,_0x3d9e1c)});_0x23d972['status'](0xc9)[_0xd6dd89(0x5b2)](_0x5a9c0c);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0x697)),..._0x24c54b,async(_0x224185,_0x4d1d39)=>{const _0x254f89=_0x2932d0;let _0x14fd83=await this[_0x254f89(0x6a8)]({'request':_0x224185,'schema':ni,'ClassRef':yt,'execute':(_0x561417,_0x2a5003)=>V[_0x254f89(0x697)](_0x561417,_0x2a5003)});_0x4d1d39['status'](0xc9)['json'](_0x14fd83);})['get'](this[_0x2932d0(0x58e)](_0x2932d0(0x6fe)),..._0x24c54b,async(_0x5be717,_0x3f1047)=>{const _0x457d6e=_0x2932d0;let _0x4da55d=await this[_0x457d6e(0x6a8)]({'request':_0x5be717,'schema':xe,'ClassRef':ae,'execute':(_0x359571,_0x14e8f1)=>V[_0x457d6e(0x1f0)](_0x359571,_0x14e8f1)});_0x3f1047[_0x457d6e(0x3fd)](0xc8)[_0x457d6e(0x5b2)](_0x4da55d);})['get'](this[_0x2932d0(0x58e)]('findGroups'),..._0x24c54b,async(_0x3b03ce,_0x70b2c9)=>{const _0x37d967=_0x2932d0;let _0x21b139=await this[_0x37d967(0x261)]({'request':_0x3b03ce,'schema':N,'ClassRef':M,'execute':_0x37c209=>V[_0x37d967(0x77d)](_0x37c209)});_0x70b2c9[_0x37d967(0x3fd)](0xc8)[_0x37d967(0x5b2)](_0x21b139);})[_0x2932d0(0x63f)](this[_0x2932d0(0x58e)](_0x2932d0(0x341)),..._0x24c54b,async(_0x35182b,_0x5c921e)=>{const _0x339f4e=_0x2932d0;let _0x39e3a9=await this[_0x339f4e(0x6a8)]({'request':_0x35182b,'schema':xe,'ClassRef':ae,'execute':(_0x34594e,_0x10edab)=>V[_0x339f4e(0x2a5)](_0x34594e,_0x10edab)});_0x5c921e['status'](0xc8)['json'](_0x39e3a9);})[_0x2932d0(0x63f)](this[_0x2932d0(0x58e)](_0x2932d0(0x326)),..._0x24c54b,async(_0x11f2df,_0x556bdb)=>{const _0x583a69=_0x2932d0;let _0x28ae1d=await this['groupValidate']({'request':_0x11f2df,'schema':xe,'ClassRef':ae,'execute':(_0x1cde9b,_0x564590)=>V[_0x583a69(0x326)](_0x1cde9b,_0x564590)});_0x556bdb[_0x583a69(0x3fd)](0xc8)[_0x583a69(0x5b2)](_0x28ae1d);})[_0x2932d0(0x49d)](this[_0x2932d0(0x58e)](_0x2932d0(0x1fe)),..._0x24c54b,async(_0x225324,_0x4aedcf)=>{const _0x11db68=_0x2932d0;let _0x7d8c74=await this[_0x11db68(0x64f)]({'request':_0x225324,'schema':Ns,'ClassRef':De,'execute':(_0x3ab06c,_0x141b05)=>V[_0x11db68(0x211)](_0x3ab06c,_0x141b05)});_0x4aedcf['status'](0xc9)[_0x11db68(0x5b2)](_0x7d8c74);})['put'](this['routerPath'](_0x2932d0(0x1d2)),..._0x24c54b,async(_0x5ec6a3,_0xa6e288)=>{const _0x413154=_0x2932d0;let _0x2f6f8c=await this[_0x413154(0x64f)]({'request':_0x5ec6a3,'schema':Ns,'ClassRef':De,'execute':(_0x1093ee,_0x19bb1b)=>V[_0x413154(0x1d2)](_0x1093ee,_0x19bb1b)});_0xa6e288[_0x413154(0x3fd)](0xc9)['json'](_0x2f6f8c);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)](_0x2932d0(0x1cc)),..._0x24c54b,async(_0x537cd0,_0x42decd)=>{const _0x4fdb6a=_0x2932d0;let _0x2b139f=await this[_0x4fdb6a(0x6a8)]({'request':_0x537cd0,'schema':xe,'ClassRef':ae,'execute':(_0x4b4d32,_0x599a30)=>V[_0x4fdb6a(0x1cc)](_0x4b4d32,_0x599a30)});_0x42decd[_0x4fdb6a(0x3fd)](0xc9)['json'](_0x2b139f);})[_0x2932d0(0x458)](this[_0x2932d0(0x58e)]('updateParticipant'),..._0x24c54b,async(_0x38b7d5,_0x3d8caf)=>{const _0x358cb2=_0x2932d0;let _0x1d0cef=await this[_0x358cb2(0x6a8)]({'request':_0x38b7d5,'schema':ri,'ClassRef':wt,'execute':(_0x4f0379,_0x4c83b0)=>V[_0x358cb2(0x372)](_0x4f0379,_0x4c83b0)});_0x3d8caf[_0x358cb2(0x3fd)](0xc9)[_0x358cb2(0x5b2)](_0x1d0cef);})['delete'](this['routerPath'](_0x2932d0(0x731)),..._0x24c54b,async(_0x25ad40,_0x44ab55)=>{const _0x5b5b67=_0x2932d0;let _0x10bf8c=await this[_0x5b5b67(0x6a8)]({'request':_0x25ad40,'schema':{},'ClassRef':ae,'execute':(_0x13f10f,_0x3a98ce)=>V[_0x5b5b67(0x731)](_0x13f10f,_0x3a98ce)});_0x44ab55[_0x5b5b67(0x3fd)](0xc8)[_0x5b5b67(0x5b2)](_0x10bf8c);});}},fi=require(a0_0x2ec1ea(0x708)),St=class extends G{constructor(_0x333408,..._0x118498){const _0x4ff3d4=a0_0x2ec1ea;super(),this[_0x4ff3d4(0x426)]=_0x333408,this['router']=(0x0,fi[_0x4ff3d4(0x483)])();let _0x3a9e05=_0x333408['get']('AUTHENTICATION');this[_0x4ff3d4(0x3be)][_0x4ff3d4(0x49d)](_0x4ff3d4(0x75d),..._0x118498,async(_0x26e072,_0x46f35f)=>{const _0x40f6d0=_0x4ff3d4;let {instanceName:_0xb10947,apikey:_0x4ba70b,number:_0x1b31c5}=_0x26e072[_0x40f6d0(0x40e)],_0x14a052=await pe['createInstance']({'instanceName':_0xb10947,'apikey':_0x4ba70b,'number':_0x1b31c5});return _0x46f35f[_0x40f6d0(0x3fd)](0xc9)['json'](_0x14a052);})[_0x4ff3d4(0x458)](this[_0x4ff3d4(0x58e)](_0x4ff3d4(0x286)),..._0x118498,async(_0x23c7c,_0x361d01)=>{const _0x20ea3e=_0x4ff3d4;let _0x2fabd0=await this['dataValidate']({'request':_0x23c7c,'schema':N,'ClassRef':M,'execute':_0x3fbc54=>pe['restartInstance'](_0x3fbc54)});return _0x361d01['status'](0xc8)[_0x20ea3e(0x5b2)](_0x2fabd0);})[_0x4ff3d4(0x63f)](this['routerPath'](_0x4ff3d4(0x312)),..._0x118498,async(_0x51c369,_0x98d707)=>{const _0x53acab=_0x4ff3d4;let _0x33b555=await this['dataValidate']({'request':_0x51c369,'schema':N,'ClassRef':M,'execute':_0x14e708=>pe[_0x53acab(0x1ba)](_0x14e708)});return _0x98d707['status'](0xc8)[_0x53acab(0x5b2)](_0x33b555);})[_0x4ff3d4(0x63f)](this[_0x4ff3d4(0x58e)]('connectionState'),..._0x118498,async(_0x55fb37,_0x299634)=>{const _0x5ba8c1=_0x4ff3d4;let _0x1acc3f=await this[_0x5ba8c1(0x261)]({'request':_0x55fb37,'schema':N,'ClassRef':M,'execute':_0x1fa35d=>pe['connectionState'](_0x1fa35d)});return _0x299634['status'](0xc8)[_0x5ba8c1(0x5b2)](_0x1acc3f);})['get'](this['routerPath'](_0x4ff3d4(0x347),!0x1),..._0x118498,async(_0x136515,_0x185ef0)=>{const _0x1536ac=_0x4ff3d4;let _0x46193d=await this[_0x1536ac(0x261)]({'request':_0x136515,'schema':null,'ClassRef':M,'execute':_0x3bdad4=>pe[_0x1536ac(0x347)](_0x3bdad4)});return _0x185ef0[_0x1536ac(0x3fd)](0xc8)['json'](_0x46193d);})[_0x4ff3d4(0x31e)](this[_0x4ff3d4(0x58e)]('logout'),..._0x118498,async(_0x268aa2,_0x2c5076)=>{const _0x4f2cf3=_0x4ff3d4;let _0xac8ea3=await this[_0x4f2cf3(0x261)]({'request':_0x268aa2,'schema':N,'ClassRef':M,'execute':_0x10df28=>pe[_0x4f2cf3(0x3a5)](_0x10df28)});return _0x2c5076['status'](0xc8)[_0x4f2cf3(0x5b2)](_0xac8ea3);})[_0x4ff3d4(0x31e)](this[_0x4ff3d4(0x58e)]('delete'),..._0x118498,async(_0x3f2fe5,_0x4cf9c3)=>{const _0x440e83=_0x4ff3d4;let _0x42f0b9=await this[_0x440e83(0x261)]({'request':_0x3f2fe5,'schema':N,'ClassRef':M,'execute':_0x54713c=>pe[_0x440e83(0x62f)](_0x54713c)});return _0x4cf9c3[_0x440e83(0x3fd)](0xc8)[_0x440e83(0x5b2)](_0x42f0b9);});}},wi=require(a0_0x2ec1ea(0x708)),Rs=class{},Q=class extends Rs{},Mt=class extends Q{},Ct=class extends Q{},Et=class extends Q{},vt=class extends Q{},Pe=class extends Q{},Nt=class extends Q{},$t=class extends Q{},Rt=class extends Q{},At=class extends Q{},It=class extends Q{},Tt=class{},Ot=class extends G{constructor(..._0x3f30a2){const _0x279acb=a0_0x2ec1ea;super(),this[_0x279acb(0x3be)]=(0x0,wi['Router'])(),this[_0x279acb(0x3be)][_0x279acb(0x49d)](this[_0x279acb(0x58e)](_0x279acb(0x1e3)),..._0x3f30a2,async(_0x18d454,_0x3772ae)=>{const _0x443434=_0x279acb;let _0x4f0a49=await this[_0x443434(0x261)]({'request':_0x18d454,'schema':Pa,'ClassRef':Mt,'execute':(_0x45dd77,_0x11044a)=>H[_0x443434(0x1e3)](_0x45dd77,_0x11044a)});return _0x3772ae[_0x443434(0x3fd)](0xc9)[_0x443434(0x5b2)](_0x4f0a49);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)]('sendMedia'),..._0x3f30a2,async(_0x4252fd,_0x54a3bd)=>{const _0x161e0c=_0x279acb;let _0x47b8f7=await this[_0x161e0c(0x261)]({'request':_0x4252fd,'schema':Ua,'ClassRef':Pe,'execute':(_0xbdef1b,_0x32dc99)=>H[_0x161e0c(0x24f)](_0xbdef1b,_0x32dc99)});return _0x54a3bd[_0x161e0c(0x3fd)](0xc9)[_0x161e0c(0x5b2)](_0x47b8f7);})[_0x279acb(0x49d)](this['routerPath'](_0x279acb(0x5ca)),..._0x3f30a2,async(_0x3596fd,_0x568259)=>{const _0x5926a5=_0x279acb;let _0x504ebb=await this[_0x5926a5(0x261)]({'request':_0x3596fd,'schema':qa,'ClassRef':vt,'execute':(_0x2f8caa,_0x3e8f0b)=>H[_0x5926a5(0x5ca)](_0x2f8caa,_0x3e8f0b)});return _0x568259[_0x5926a5(0x3fd)](0xc9)['json'](_0x504ebb);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)](_0x279acb(0x40b)),..._0x3f30a2,async(_0x1911d2,_0x21d1a3)=>{const _0x927f29=_0x279acb;let _0x4e7397=await this['dataValidate']({'request':_0x1911d2,'schema':ja,'ClassRef':Pe,'execute':(_0x4f0343,_0x5db723)=>H[_0x927f29(0x40b)](_0x4f0343,_0x5db723)});return _0x21d1a3[_0x927f29(0x3fd)](0xc9)[_0x927f29(0x5b2)](_0x4e7397);})[_0x279acb(0x49d)](this['routerPath']('sendButtons'),..._0x3f30a2,async(_0x3e4f2e,_0x4ea4ce)=>{const _0x86d22b=_0x279acb;let _0x5e5523=await this[_0x86d22b(0x261)]({'request':_0x3e4f2e,'schema':Va,'ClassRef':$t,'execute':(_0x5ac30f,_0x37c088)=>H[_0x86d22b(0x45f)](_0x5ac30f,_0x37c088)});return _0x4ea4ce[_0x86d22b(0x3fd)](0xc9)[_0x86d22b(0x5b2)](_0x5e5523);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)](_0x279acb(0x58f)),..._0x3f30a2,async(_0x11f58d,_0x29a1d6)=>{const _0x149a9f=_0x279acb;let _0x20392f=await this[_0x149a9f(0x261)]({'request':_0x11f58d,'schema':Ga,'ClassRef':Rt,'execute':(_0x4a1817,_0x97e7f8)=>H[_0x149a9f(0x58f)](_0x4a1817,_0x97e7f8)});return _0x29a1d6['status'](0xc9)['json'](_0x20392f);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)]('sendList'),..._0x3f30a2,async(_0x224db6,_0x11fbee)=>{const _0x3414e8=_0x279acb;let _0x719ab9=await this['dataValidate']({'request':_0x224db6,'schema':Ba,'ClassRef':At,'execute':(_0x3bed11,_0x3de999)=>H[_0x3414e8(0x146)](_0x3bed11,_0x3de999)});return _0x11fbee['status'](0xc9)['json'](_0x719ab9);})[_0x279acb(0x49d)](this['routerPath'](_0x279acb(0x3d8)),..._0x3f30a2,async(_0x1262ea,_0xab5a19)=>{const _0x543792=_0x279acb;let _0xd9f17b=await this[_0x543792(0x261)]({'request':_0x1262ea,'schema':Wa,'ClassRef':It,'execute':(_0x4fb13e,_0x4d5acd)=>H[_0x543792(0x3d8)](_0x4fb13e,_0x4d5acd)});return _0xab5a19[_0x543792(0x3fd)](0xc9)[_0x543792(0x5b2)](_0xd9f17b);})['post'](this[_0x279acb(0x58e)]('sendReaction'),..._0x3f30a2,async(_0x670d1c,_0x4c2e8f)=>{const _0x2817cc=_0x279acb;let _0x568fc2=await this[_0x2817cc(0x261)]({'request':_0x670d1c,'schema':za,'ClassRef':Tt,'execute':(_0x5aa8a6,_0x83fcc3)=>H['sendReaction'](_0x5aa8a6,_0x83fcc3)});return _0x4c2e8f[_0x2817cc(0x3fd)](0xc9)[_0x2817cc(0x5b2)](_0x568fc2);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)](_0x279acb(0x299)),..._0x3f30a2,async(_0x48f6b1,_0x1793df)=>{const _0x2926b2=_0x279acb;let _0x19ff3e=await this['dataValidate']({'request':_0x48f6b1,'schema':Ja,'ClassRef':Et,'execute':(_0xe76f3d,_0x35a8c2)=>H['sendPoll'](_0xe76f3d,_0x35a8c2)});return _0x1793df[_0x2926b2(0x3fd)](0xc9)[_0x2926b2(0x5b2)](_0x19ff3e);})[_0x279acb(0x49d)](this[_0x279acb(0x58e)](_0x279acb(0x2ea)),..._0x3f30a2,async(_0x548364,_0x381b60)=>{const _0x532c45=_0x279acb;let _0x511868=await this['dataValidate']({'request':_0x548364,'schema':Fa,'ClassRef':Ct,'execute':(_0x4e7466,_0x268cb9)=>H['sendStatus'](_0x4e7466,_0x268cb9)});return _0x381b60[_0x532c45(0x3fd)](0xc9)[_0x532c45(0x5b2)](_0x511868);})[_0x279acb(0x49d)](this['routerPath'](_0x279acb(0x4ea)),..._0x3f30a2,async(_0x34c85d,_0x4fece8)=>{const _0x2daf82=_0x279acb;let _0x5b237d=await this['dataValidate']({'request':_0x34c85d,'schema':La,'ClassRef':Nt,'execute':(_0x397ac2,_0x58e7d1)=>H[_0x2daf82(0x4ea)](_0x397ac2,_0x58e7d1)});return _0x4fece8['status'](0xc9)['json'](_0x5b237d);});}},yi=require(a0_0x2ec1ea(0x708)),_t=class{},xt=class extends G{constructor(..._0x296c4f){const _0x4e2c67=a0_0x2ec1ea;super(),this['router']=(0x0,yi['Router'])(),this[_0x4e2c67(0x3be)][_0x4e2c67(0x49d)](this[_0x4e2c67(0x58e)](_0x4e2c67(0x20f)),..._0x296c4f,async(_0x4d72f9,_0x12c36b)=>{const _0x23cd5f=_0x4e2c67;let _0x1ae012=await this['dataValidate']({'request':_0x4d72f9,'schema':hi,'ClassRef':_t,'execute':(_0x374162,_0x400e2f)=>As['createWebhook'](_0x374162,_0x400e2f)});_0x12c36b[_0x23cd5f(0x3fd)](0xc9)[_0x23cd5f(0x5b2)](_0x1ae012);})['get'](this['routerPath'](_0x4e2c67(0x3f1)),..._0x296c4f,async(_0x127592,_0x54a786)=>{const _0x1a913e=_0x4e2c67;let _0x3d99e5=await this[_0x1a913e(0x261)]({'request':_0x127592,'schema':N,'ClassRef':M,'execute':_0x5a738f=>As[_0x1a913e(0x3db)](_0x5a738f)});_0x54a786[_0x1a913e(0x3fd)](0xc8)['json'](_0x3d99e5);});}},bi=require(a0_0x2ec1ea(0x708)),y=new $('FlowRouter'),Dt=class extends G{constructor(..._0x1ac588){const _0x23c4fc=a0_0x2ec1ea;super(),this[_0x23c4fc(0x3be)]=(0x0,bi[_0x23c4fc(0x483)])(),this[_0x23c4fc(0x3be)][_0x23c4fc(0x49d)](this['routerPath'](_0x23c4fc(0xee)),..._0x1ac588,async(_0x257d78,_0x46c15d)=>{const _0x2806ae=_0x23c4fc;let _0x224de0=_0x257d78['body'];y[_0x2806ae(0x28b)]('request\x20received\x20in\x20scheduleMessage'),y['verbose'](_0x2806ae(0x14d)),y['verbose'](_0x257d78[_0x2806ae(0x40e)]);let _0xdb318d=await this[_0x2806ae(0x261)]({'request':_0x257d78,'schema':N,'ClassRef':M,'execute':_0x1be2cd=>T[_0x2806ae(0x138)](_0x1be2cd,_0x224de0)});_0x46c15d[_0x2806ae(0x3fd)](0xc8)[_0x2806ae(0x5b2)](_0xdb318d);})[_0x23c4fc(0x63f)](this[_0x23c4fc(0x58e)]('scheduleMessage'),..._0x1ac588,async(_0x1f1551,_0x1928be)=>{const _0x5a268e=_0x23c4fc;let _0x5071a7=await this[_0x5a268e(0x261)]({'request':_0x1f1551,'schema':N,'ClassRef':M,'execute':_0xd2768=>T[_0x5a268e(0x359)](_0xd2768)});_0x1928be[_0x5a268e(0x3fd)](0xc8)[_0x5a268e(0x5b2)](_0x5071a7);})['delete'](this[_0x23c4fc(0x58e)](_0x23c4fc(0x7d7)),..._0x1ac588,async(_0x304505,_0x125c43)=>{const _0x2e8d69=_0x23c4fc;y[_0x2e8d69(0x28b)](_0x2e8d69(0x524));let _0x29c703=await this[_0x2e8d69(0x261)]({'request':_0x304505,'schema':N,'ClassRef':M,'execute':_0x3e07d2=>T[_0x2e8d69(0x7d7)](_0x3e07d2)});_0x125c43[_0x2e8d69(0x3fd)](0xc8)[_0x2e8d69(0x5b2)](_0x29c703);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x525)),..._0x1ac588,async(_0x500a5e,_0x31c246)=>{const _0x4c8bfd=_0x23c4fc;let _0x574444=_0x500a5e['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x4c8bfd(0x28b)](_0x4c8bfd(0x14d)),y['verbose'](_0x500a5e['body']);let _0x5b4ce4=await this[_0x4c8bfd(0x261)]({'request':_0x500a5e,'schema':N,'ClassRef':M,'execute':_0x514a03=>T['startFlow'](_0x514a03,_0x574444)});_0x31c246['status'](0xc8)[_0x4c8bfd(0x5b2)](_0x5b4ce4);})[_0x23c4fc(0x63f)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x319)),..._0x1ac588,async(_0x5b2202,_0x207186)=>{const _0xc628f4=_0x23c4fc;y[_0xc628f4(0x28b)](_0xc628f4(0x6ef));let _0x1e30a4=await this[_0xc628f4(0x261)]({'request':_0x5b2202,'schema':N,'ClassRef':M,'execute':_0x21ebfe=>T[_0xc628f4(0x319)](_0x21ebfe)});_0x207186[_0xc628f4(0x3fd)](0xc8)[_0xc628f4(0x5b2)](_0x1e30a4);})[_0x23c4fc(0x63f)](this['routerPath'](_0x23c4fc(0x189)),..._0x1ac588,async(_0x3534ca,_0x1a15c1)=>{const _0x24875f=_0x23c4fc;y[_0x24875f(0x28b)](_0x24875f(0x3dd));let _0x3ecb06=await this[_0x24875f(0x261)]({'request':_0x3534ca,'schema':N,'ClassRef':M,'execute':_0x3c6b26=>T[_0x24875f(0x319)](_0x3c6b26)});_0x1a15c1[_0x24875f(0x3fd)](0xc8)[_0x24875f(0x5b2)](_0x3ecb06);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x5c6)),..._0x1ac588,async(_0x2f6a6a,_0xf0e3b)=>{const _0x2164bb=_0x23c4fc;let _0x17e4fb=_0x2f6a6a[_0x2164bb(0x40e)];y[_0x2164bb(0x28b)]('request\x20received\x20in\x20updateAgent'),y[_0x2164bb(0x28b)]('request\x20body:\x20'),y[_0x2164bb(0x28b)](_0x2f6a6a['body']);let _0x44e3d8=await this[_0x2164bb(0x261)]({'request':_0x2f6a6a,'schema':N,'ClassRef':M,'execute':_0x17c12c=>T[_0x2164bb(0x5c6)](_0x17c12c,_0x17e4fb)});_0xf0e3b['status'](0xc8)['json'](_0x44e3d8);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x13a)),..._0x1ac588,async(_0x3acd35,_0x9117bd)=>{const _0x5d451b=_0x23c4fc;let _0x58c689=_0x3acd35[_0x5d451b(0x40e)];y[_0x5d451b(0x28b)](_0x5d451b(0x1ad)),y[_0x5d451b(0x28b)](_0x5d451b(0x14d)),y[_0x5d451b(0x28b)](_0x3acd35[_0x5d451b(0x40e)]);let _0x1b7090=await this[_0x5d451b(0x261)]({'request':_0x3acd35,'schema':N,'ClassRef':M,'execute':_0x252bf0=>T[_0x5d451b(0x13a)](_0x252bf0,_0x58c689)});_0x9117bd[_0x5d451b(0x3fd)](0xc8)[_0x5d451b(0x5b2)](_0x1b7090);})['post'](this[_0x23c4fc(0x58e)](_0x23c4fc(0x704)),..._0x1ac588,async(_0x23016d,_0x686838)=>{const _0x37ca3b=_0x23c4fc;let _0x160157=_0x23016d['body'];y[_0x37ca3b(0x28b)](_0x37ca3b(0x69a)),y[_0x37ca3b(0x28b)](_0x37ca3b(0x14d)),y[_0x37ca3b(0x28b)](_0x23016d[_0x37ca3b(0x40e)]);let _0x35e01a=await this['dataValidate']({'request':_0x23016d,'schema':N,'ClassRef':M,'execute':_0x10c16a=>T[_0x37ca3b(0x704)](_0x10c16a,_0x160157)});_0x686838['status'](0xc8)[_0x37ca3b(0x5b2)](_0x35e01a);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x777)),..._0x1ac588,async(_0x1432d3,_0x149054)=>{const _0x2fce31=_0x23c4fc;let _0xe76e3a=_0x1432d3[_0x2fce31(0x40e)];y[_0x2fce31(0x28b)](_0x2fce31(0x680)),y[_0x2fce31(0x28b)](_0x2fce31(0x14d)),y['verbose'](_0x1432d3[_0x2fce31(0x40e)]);let _0x50ea1e=await this['dataValidate']({'request':_0x1432d3,'schema':N,'ClassRef':M,'execute':_0x16f17c=>T[_0x2fce31(0x777)](_0x16f17c,_0xe76e3a)});_0x149054['status'](0xc8)[_0x2fce31(0x5b2)](_0x50ea1e);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x4ee)),..._0x1ac588,async(_0x3bb817,_0x3a5e15)=>{const _0x109a53=_0x23c4fc;let _0x51519e=_0x3bb817['body'];y[_0x109a53(0x28b)](_0x109a53(0xff)),y[_0x109a53(0x28b)](_0x109a53(0x14d)),y[_0x109a53(0x28b)](_0x3bb817[_0x109a53(0x40e)]);let _0x2e8fec=await this[_0x109a53(0x261)]({'request':_0x3bb817,'schema':N,'ClassRef':M,'execute':_0x1f8742=>T[_0x109a53(0x4ee)](_0x1f8742,_0x51519e)});_0x3a5e15[_0x109a53(0x3fd)](0xc8)[_0x109a53(0x5b2)](_0x2e8fec);})[_0x23c4fc(0x49d)](this['routerPath'](_0x23c4fc(0x4b8)),..._0x1ac588,async(_0x395628,_0x306a7b)=>{const _0x3c097c=_0x23c4fc;let _0x11961b=_0x395628['body'];y[_0x3c097c(0x28b)](_0x3c097c(0x465)),y[_0x3c097c(0x28b)](_0x3c097c(0x14d)),y['verbose'](_0x395628[_0x3c097c(0x40e)]);let _0xf7e0d5=await this[_0x3c097c(0x261)]({'request':_0x395628,'schema':N,'ClassRef':M,'execute':_0x3f0932=>T[_0x3c097c(0x4b8)](_0x3f0932,_0x11961b)});_0x306a7b[_0x3c097c(0x3fd)](0xc8)[_0x3c097c(0x5b2)](_0xf7e0d5);})['post'](this[_0x23c4fc(0x58e)]('editConversation'),..._0x1ac588,async(_0x145ad3,_0x1d5205)=>{const _0x3e30eb=_0x23c4fc;let _0x50f20d=_0x145ad3[_0x3e30eb(0x40e)];y[_0x3e30eb(0x28b)](_0x3e30eb(0x4b9)),y['verbose']('request\x20body:\x20'),y[_0x3e30eb(0x28b)](_0x145ad3[_0x3e30eb(0x40e)]);let _0x29c5d3=await this[_0x3e30eb(0x261)]({'request':_0x145ad3,'schema':N,'ClassRef':M,'execute':_0x2dfc63=>T[_0x3e30eb(0x5fa)](_0x2dfc63,_0x50f20d)});_0x1d5205['status'](0xc8)[_0x3e30eb(0x5b2)](_0x29c5d3);})[_0x23c4fc(0x31e)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x19f)),..._0x1ac588,async(_0x56d1b8,_0x5e59b8)=>{const _0x1553bd=_0x23c4fc;let _0x1120d0=_0x56d1b8[_0x1553bd(0x40e)];y['verbose'](_0x1553bd(0x4a4)),y['verbose'](_0x1553bd(0x14d)),y['verbose'](_0x56d1b8[_0x1553bd(0x40e)]);let _0x2c57df=await this[_0x1553bd(0x261)]({'request':_0x56d1b8,'schema':N,'ClassRef':M,'execute':_0x23b575=>T[_0x1553bd(0x19f)](_0x23b575,_0x1120d0)});_0x5e59b8['status'](0xc8)['json'](_0x2c57df);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x6f5)),..._0x1ac588,async(_0x2dd816,_0x4d34f1)=>{const _0x5c83a9=_0x23c4fc;let _0x1a3ec5=_0x2dd816[_0x5c83a9(0x40e)],_0xdc09d=_0x2dd816['headers'][_0x5c83a9(0x60d)];y[_0x5c83a9(0x28b)]('request\x20received\x20in\x20createFlow'),y[_0x5c83a9(0x28b)](_0x5c83a9(0x14d)),y['verbose'](_0x2dd816[_0x5c83a9(0x40e)]);let _0x16adaa=await this['dataValidate']({'request':_0x2dd816,'schema':N,'ClassRef':M,'execute':_0xc21600=>T[_0x5c83a9(0x5ed)](_0xc21600,_0x1a3ec5,_0xdc09d)});_0x4d34f1[_0x5c83a9(0x3fd)](0xc8)['json'](_0x16adaa);})[_0x23c4fc(0x49d)](this['routerPath']('editflow'),..._0x1ac588,async(_0x1cd2dc,_0x12318d)=>{const _0x57ca60=_0x23c4fc;let _0x1dbf31=_0x1cd2dc['body'],_0x50782c=_0x1cd2dc[_0x57ca60(0x2bd)]['apikey'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x57ca60(0x28b)](_0x57ca60(0x14d)),y[_0x57ca60(0x28b)](_0x1cd2dc[_0x57ca60(0x40e)]),delete _0x1dbf31[_0x57ca60(0x4ed)],delete _0x1dbf31[_0x57ca60(0x492)],delete _0x1dbf31['groups'],delete _0x1dbf31['conditions'];let _0x475bcf=await this[_0x57ca60(0x261)]({'request':_0x1cd2dc,'schema':N,'ClassRef':M,'execute':_0x59b322=>T[_0x57ca60(0x18b)](_0x59b322,_0x1dbf31,_0x50782c)});_0x12318d['status'](0xc8)[_0x57ca60(0x5b2)](_0x475bcf);})[_0x23c4fc(0x49d)](this['routerPath'](_0x23c4fc(0x6fa)),..._0x1ac588,async(_0x102596,_0x5d6507)=>{const _0x3e3bb4=_0x23c4fc;let _0x3cacbc=_0x102596[_0x3e3bb4(0x40e)];y['verbose'](_0x3e3bb4(0x617)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x102596[_0x3e3bb4(0x40e)]);let _0x565ad4=await this[_0x3e3bb4(0x261)]({'request':_0x102596,'schema':N,'ClassRef':M,'execute':_0x371d72=>T[_0x3e3bb4(0x550)](_0x371d72,_0x3cacbc)});_0x5d6507[_0x3e3bb4(0x3fd)](0xc8)[_0x3e3bb4(0x5b2)](_0x565ad4);})['post'](this[_0x23c4fc(0x58e)](_0x23c4fc(0x2ae)),..._0x1ac588,async(_0x4ead3e,_0x471fbe)=>{const _0x157d9a=_0x23c4fc;let _0x2f9719=_0x4ead3e[_0x157d9a(0x40e)];y[_0x157d9a(0x28b)](_0x157d9a(0x617)),y[_0x157d9a(0x28b)](_0x157d9a(0x14d)),y['verbose'](_0x4ead3e['body']);let _0x30e3e6=await this['dataValidate']({'request':_0x4ead3e,'schema':N,'ClassRef':M,'execute':_0x17d2f7=>T[_0x157d9a(0x352)](_0x17d2f7,_0x2f9719)});_0x471fbe[_0x157d9a(0x3fd)](0xc8)[_0x157d9a(0x5b2)](_0x30e3e6);})[_0x23c4fc(0x49d)](this['routerPath'](_0x23c4fc(0x578)),..._0x1ac588,async(_0x3a9b82,_0x4becac)=>{const _0x507b4c=_0x23c4fc;let _0x33a6e4=_0x3a9b82[_0x507b4c(0x40e)];y['verbose'](_0x507b4c(0x617)),y[_0x507b4c(0x28b)]('request\x20body:\x20'),y[_0x507b4c(0x28b)](_0x3a9b82[_0x507b4c(0x40e)]);let _0x183685=await this[_0x507b4c(0x261)]({'request':_0x3a9b82,'schema':N,'ClassRef':M,'execute':_0x311131=>T[_0x507b4c(0x205)](_0x311131,_0x33a6e4)});_0x4becac['status'](0xc8)['json'](_0x183685);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)]('editflowgroup'),..._0x1ac588,async(_0x168dd0,_0x870b47)=>{const _0xf5d7a9=_0x23c4fc;let _0x30e70e=_0x168dd0[_0xf5d7a9(0x40e)];y[_0xf5d7a9(0x28b)](_0xf5d7a9(0x422)),y['verbose'](_0xf5d7a9(0x14d)),y[_0xf5d7a9(0x28b)](_0x168dd0[_0xf5d7a9(0x40e)]);let _0xc15500=await this['dataValidate']({'request':_0x168dd0,'schema':N,'ClassRef':M,'execute':_0xd473da=>T[_0xf5d7a9(0x6d6)](_0xd473da,_0x30e70e)});_0x870b47[_0xf5d7a9(0x3fd)](0xc8)[_0xf5d7a9(0x5b2)](_0xc15500);})[_0x23c4fc(0x49d)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x3d0)),..._0x1ac588,async(_0x4ec762,_0x4c15f9)=>{const _0x3e38a3=_0x23c4fc;let _0x45bcc3=_0x4ec762[_0x3e38a3(0x40e)];y[_0x3e38a3(0x28b)]('request\x20received\x20in\x20editFlowcondition'),y[_0x3e38a3(0x28b)](_0x3e38a3(0x14d)),y[_0x3e38a3(0x28b)](_0x4ec762[_0x3e38a3(0x40e)]);let _0x4727dd=await this['dataValidate']({'request':_0x4ec762,'schema':N,'ClassRef':M,'execute':_0x282aca=>T['editFlowCondition'](_0x282aca,_0x45bcc3)});_0x4c15f9['status'](0xc8)[_0x3e38a3(0x5b2)](_0x4727dd);})['post'](this[_0x23c4fc(0x58e)](_0x23c4fc(0x263)),..._0x1ac588,async(_0xf8b010,_0x18aa77)=>{const _0x214e18=_0x23c4fc;let _0x2d2a5f=_0xf8b010[_0x214e18(0x40e)];y[_0x214e18(0x28b)](_0x214e18(0x48d)),y[_0x214e18(0x28b)](_0x214e18(0x14d)),y[_0x214e18(0x28b)](_0xf8b010['body']);let _0x1d8cc9=await this[_0x214e18(0x261)]({'request':_0xf8b010,'schema':N,'ClassRef':M,'execute':_0x15e300=>T[_0x214e18(0x4a1)](_0x15e300,_0x2d2a5f)});_0x18aa77['status'](0xc8)['json'](_0x1d8cc9);})['post'](this[_0x23c4fc(0x58e)](_0x23c4fc(0x4d0)),..._0x1ac588,async(_0x3c6b45,_0x22a9d6)=>{const _0x26a8f2=_0x23c4fc;let _0x5e11a7=_0x3c6b45[_0x26a8f2(0x40e)];y[_0x26a8f2(0x28b)]('request\x20received\x20in\x20getFlow'),y[_0x26a8f2(0x28b)](_0x26a8f2(0x14d)),y[_0x26a8f2(0x28b)](_0x3c6b45['body']);let _0x332909=await this[_0x26a8f2(0x261)]({'request':_0x3c6b45,'schema':N,'ClassRef':M,'execute':_0x649b01=>T[_0x26a8f2(0x301)](_0x649b01,_0x5e11a7)});_0x22a9d6[_0x26a8f2(0x3fd)](0xc8)[_0x26a8f2(0x5b2)](_0x332909);})[_0x23c4fc(0x31e)](this[_0x23c4fc(0x58e)](_0x23c4fc(0x4bc)),..._0x1ac588,async(_0x43af5,_0x2e2926)=>{const _0x28fa13=_0x23c4fc;let _0x3ebe9d=_0x43af5[_0x28fa13(0x40e)];y[_0x28fa13(0x28b)]('request\x20received\x20in\x20deleteFlow'),y[_0x28fa13(0x28b)](_0x28fa13(0x14d)),y['verbose'](_0x43af5[_0x28fa13(0x40e)]);let _0x522a82=await this[_0x28fa13(0x261)]({'request':_0x43af5,'schema':N,'ClassRef':M,'execute':_0x28caf6=>T[_0x28fa13(0x67d)](_0x28caf6,_0x3ebe9d)});_0x2e2926['status'](0xc8)[_0x28fa13(0x5b2)](_0x522a82);})[_0x23c4fc(0x63f)](this[_0x23c4fc(0x58e)]('allflows'),..._0x1ac588,async(_0x264a85,_0x376fd7)=>{const _0x69da5a=_0x23c4fc;y[_0x69da5a(0x28b)](_0x69da5a(0x369));let _0x1c316e=await this[_0x69da5a(0x261)]({'request':_0x264a85,'schema':N,'ClassRef':M,'execute':_0x1fad84=>T['allFlows'](_0x1fad84)});_0x376fd7[_0x69da5a(0x3fd)](0xc8)[_0x69da5a(0x5b2)](_0x1c316e);});}},Ei=A(require(a0_0x2ec1ea(0x258))),ie={};function Si(_0x16e3d2,_0xba2e24,_0x27d5f6,_0xf22c8a){ie[_0x16e3d2]||(ie[_0x16e3d2]={}),ie[_0x16e3d2][_0xba2e24]={'id':_0xba2e24,'response':_0x27d5f6,'events':_0xf22c8a};}function Mi(_0x52b5fd,_0x406e0b){!ie[_0x52b5fd]||!ie[_0x52b5fd][_0x406e0b]||delete ie[_0x52b5fd][_0x406e0b];}function q(_0x1ded0b,_0x4d4f06,_0x1a74f7){const _0x5ab598=a0_0x2ec1ea;if(!ie[_0x1ded0b])return;let _0x2fc9f3=_0x5ab598(0x219)+JSON[_0x5ab598(0x46a)](_0x1a74f7)+'\x0a\x0a';Object['values'](ie[_0x1ded0b])[_0x5ab598(0x487)](_0x3500c6=>{const _0x57a7d9=_0x5ab598;_0x3500c6[_0x57a7d9(0x2f1)][_0x57a7d9(0x7de)](_0x4d4f06)&&_0x3500c6[_0x57a7d9(0xe3)]['write'](_0x2fc9f3);});}function Ci(){const _0x24bfaa=a0_0x2ec1ea;let _0x28d7b1={};for(let _0xf38962 in ie)_0x28d7b1[_0xf38962]=Object[_0x24bfaa(0x3ab)](ie[_0xf38962])[_0x24bfaa(0x3ac)](_0x45fc98=>({'id':_0x45fc98['id'],'events':_0x45fc98[_0x24bfaa(0x2f1)]}));return _0x28d7b1;}var vi=require('uuid'),Ts=require(a0_0x2ec1ea(0x3f3)),Is=class{},To=new Ts[(a0_0x2ec1ea(0x50f))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Oo=new Ts[(a0_0x2ec1ea(0x50f))]({'_id':{'type':String,'default':a0_0x2ec1ea(0x63c)},'WebhookGlobal':{'type':To},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=R?.[a0_0x2ec1ea(0x442)](Is[a0_0x2ec1ea(0x582)],Oo,'All_Instances_Config'),_o=Ei[a0_0x2ec1ea(0x4d4)][a0_0x2ec1ea(0x2ed)](__dirname,'downloads'),ke=(0x0,Pt[a0_0x2ec1ea(0x483)])(),xo=b['get'](a0_0x2ec1ea(0x5ad))[a0_0x2ec1ea(0x30b)],ce=[Ia,Ta,xa[xo]];function a0_0x1dce(){const _0x3e5fcd=['sendMessage','Erro\x20de\x20duplicidade\x20no\x20ndice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20ndice...','groupFetchAllParticipating','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','cacheInstanceRepository','setWebhook','findContacts','document','urlOrBase64','leaveGroup','PENDING','):\x20\x27Enviando\x20texto\x20para\x20\x27','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','readMessage','query','\x22\x20cannot\x20be\x20empty','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','\x20-i\x20','sim','):Business\x20profile\x20fetched','expression','testIPv6','PRIVKEY','flowConversation','):\x20Entrou\x20na\x20funo\x20stop','groupLeave','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualizao\x20do\x20git\x20e\x20npm\x20install.','getUpdate','SSL_CONF','chatId','):\x20customFieldVariables',']\x20(','dayjs','PROXY','_activedCount','Instncia\x20no\x20encontrada.','global','CHATS_UPSERT','instance.','\x20removido\x20do\x20chat\x20','sendPresenceUpdate','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','startsWith','Erro\x20ao\x20encerrar\x20a\x20API','API\x20Key\x20from\x20Request:','):\x20','subjectTime','SUCCESS','Tentando\x20reconectar...','normalizeMessage','webhookModel','insert','and','/create','Connection\x20closed\x20for\x20instance:\x20','getMessage','#9ab6c1','Error\x20removing\x20IPv6\x20address:\x20','created','open','Mensagem\x20no\x20suportada','/exit','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','updateReadReceiptsPrivacy','audioMessage','beforeExit','digest','Partes\x20do\x20caminho\x20FULLCHAIN:','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','findGroupsEspecial','Erro\x20ao\x20arquivar\x20chat','\x1b[31m','flowConfig','saveVariable','toBRL','Erro\x20ao\x20buscar\x20o\x20fluxo','docker','removeInstance','lastInteraction','updateFlowConfig','status@broadcast','processApiRequest','Erro\x20ao\x20deletar\x20mensagens:','\x20}\x0a','getOwnPropertyDescriptor','findGroups','The\x20','getScheduleMessageModelForOwner','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','hbs','/64\x20dev\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','\x27\x20do\x20banco\x20de\x20dados...','result','https','addReplyOption','fetchLabels','http://checkip.dyndns.org','Fluxo\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','bodyString','connecting','findAndUpdateCacheContact','Nenhum\x20chat\x20encontrado\x20para\x20editar.','processclearVariables','temp-','messages.upsert','toArray','value','\x20adicionado\x20ao\x20chat\x20','start','substring','):\x20Conversa\x20est\x20expirada','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','):Audio\x20processed','):\x20Grupo\x20','recebido\x20de','updateAll','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','true','Esse\x20fluxo\x20expirou','padEnd','):\x20this.processingGroup_id:\x20','URL:','DATABASE_CONNECTION_USER','expiration','menuMessage','email','No\x20respondeu\x20com\x20a\x20enquete.','):\x20Deletando\x20conversa...','findAll','\x1b[0m','updateMissingEtiquetas','reorderReplyOptions','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','/chat','LOG_COLOR','HeaderType','Last\x20message\x20not\x20found','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','fetchPrivacySettings','messaging-history.set','imagechat','AUTHENTICATION_JWT_SECRET','useMultiFileAuthState','enabled','express-async-errors','setHeader','entries','chat\x20no\x20encontrado',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Deletando\x20mensagem','ip\x20-6\x20addr\x20add\x20','idSchedule','/group','Flow\x20\x27','contacts','):\x20\x27Enviando\x20audio\x20para\x20\x27','../env.yml','Type\x20is\x20required','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','telefone','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','notEqual','enumerable','applyvaredit','Not\x20Found','off','Background\x20color\x20is\x20required','uazapiSendAudio','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','SECRET','hasOwnProperty','empty','MESSAGES_UPSERT','deleteDoneMessages','QRCODE_UPDATED','object','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','errorLog','sendCommand','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','includes','menuExpiredMessage','Removidas\x20as\x20variveis:\x20','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','updateBlock','getTime','contacts.update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isURL','SINGLE_SELECT','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','output','):Trying\x20to\x20get\x20business\x20profile','.mp4','condition','):Error\x20in\x20converting\x20audio','push','buttonMessage','redis','REDIS_PREFIX_KEY','110726ApkCeh','conversation','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','where','--------------------------------------','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','flowStopConversation','CONNECTION_UPDATE','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','cache','allContacts','replaceVariables','createConversationforStartFlow','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','cleanStore','Not\x20is\x20business\x20profile','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','content-type','fone','processConditions','inner','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):Getting\x20image\x20from\x20url','):Image\x20path:\x20','online','STATUS_INSTANCE','dbSettings','getUniqueFlowName','LOG_LEVEL','stopMinutes','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','processConditionsTest','findConversation','Instance\x20deleted','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','Subdomnio\x20no\x20encontrado','Erro\x20ao\x20executar\x20bulkWrite:','stanzaId','Primeiro\x20Valor:\x20','API\x20Key\x20invlida.','writeData','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','/media/','):Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','isCommunityAnnounce','CHATS_SET','):Notifying\x20clients\x20for\x20chat:\x20','pollCreationMessageV2','groupSetting','Cannot\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','blockId','1445350YRymLj','isListOfNumbers','importChatsAntigo','sign','extractRegex','JWT','\x20tentativas.','#fe9dfe','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','shareOwners','truncatedto','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Error\x20fetching\x20group','group-participants.update','proto','response','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','https://','):\x20Enviando\x20mensagem\x20para\x20','when','choices','DELETED','cacheContactModel','utf-8','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.',',\x20Resultado:\x20','scheduleMessage','promote','messageSecret','StartID:','/instance/fetchInstances','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','load','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','unreadcount','mentioned','/wa-message-update','noConnection','updateConversation','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20Removendo\x20\x27','request\x20received\x20in\x20getConversation','.png','groupMemberAddMode','https://api64.ipify.org?format=json','fromMe','detectIPv6PrefixAndInterface','#b4ebff','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','chat','author','randomMac','waInstances','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Fluxo\x20\x27','buttonId','header','):Sending\x20audio\x20whatsapp','processUazapi','conditions','videoMessage','ephemeralMessage','MESSAGES_SET','replyOptions','application/octet-stream','@whiskeysockets/baileys','announcement','Close\x20connection','contact','groupRevokeInvite','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','exec','contactHandle','\x1b[44m','redis://127.0.0.1:6379','onWhatsApp','XX:XX:XX:XX:XX:XX','):\x20Query\x20params:','pollCreationMessageKey','ephemeralDuration','sendReaction','groupHandler','Database\x20is\x20not\x20enabled','waitingMenu_replyOptions','\x1b[32m%s\x1b[0m','\x0aFN:','Instance\x20ID:','Erro\x20ao\x20editar\x20agentes','reference','closeExistingConversations','^\x5cd+','WA\x20MODULE','pairingCode','connectToWhatsapp','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','#56ccb4','editScheduleMessage','debug','updateCustomFields','groupToggleEphemeral','processScheduleFlow','Telefone:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','deleteOne','editedMessage','startID','last_update','Types','/config','groupdata','sendList','Erro\x20ao\x20deletar\x20chat:','The\x20property\x20cannot\x20be\x20empty','updateProfilePicture','static','create','\x1b[37m','request\x20body:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Para\x20marcar\x20esse\x20fluxo\x20como\x20visvel\x20globalmente,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20Global.','DATABASE_CONNECTION_HOST','buttonText','height','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','collection','groupCreate','_pushName','\x20do\x20chat\x20','isArray','role','joinApprovalMode','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','locked','contactMessage','request_method','Message','extractPhoneNumber','LOG','fullName','#ffc5c7','bodyStringErrorParse','cachedContact','):including\x20timestamp\x20in\x20url:\x20','findOne','connectionState','chats.update','):\x20Current\x20Time:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','child_process','\x20depois\x20','lowerCase','iniciando\x20fluxo\x20router','waitingMenu_id','\x20\x1b[0m','):\x20Conversa\x20est\x20expirada\x20-\x20voto','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','atendimentoAberto','available','mediatype','https://github.com/uazapi/uazapi.git','sendAudio','newValue','):\x20delete\x20=\x20true','createInstance','stickerMessage','onTime','video','getValidWhatsAppNumbers','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Criando\x20fluxo...','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','floor','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','\x1b[34m','Nenhum\x20chat\x20fornecido\x20para\x20insero.','mediaMessage','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','getTicketSystem','util','editFlow','originalUrl','menuType','ip6eui','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','hGet','groupJoinApprovalMode','pollErrorMessage','):Converted\x20image\x20deleted','ephemeralExpiration','context','listMessage','upperCase','stopWhenYouSendMsg','\x1b[33m%s\x1b[0m','splice','Database\x20update\x20result:','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','replace','title','deleteConversation','DD/MM\x20HH:mm:ss','save','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','LEVEL','lastReceivedMessage','Nmero:\x20','updatePresence','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','announce','removed','backgroundColor','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Not\x20allowed\x20by\x20CORS','request\x20received\x20in\x20updateCustomFields','protocolMessage','random','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','organization','Bloco\x20com\x20ID\x20','https://chat.whatsapp.com/','chats.upsert','Erro\x20inesperado\x20em\x20processvaredits:\x20','isCommunity','Erro\x20ao\x20copiar\x20o\x20documento','copy','IP\x20mismatch:\x20configured\x20','connectToWhatsappController','bateu\x20events','secondValue','.pptx','):Fetching\x20business\x20profile','nomecompleto','formatVCard','WebhookGlobal','params','groupId','sort','imported',',\x20saindo.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','findById','GUARD','etiquetas','revokeInviteCode','):\x20Enviando\x20localizao','startCommandWord','unlocked','Erro\x20de\x20atualizao:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','joinGroup','recording','variable','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','\x20minutos','connectedClient','autoCompleteMessages.command','Instncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Editando\x20mensagens\x20no\x20grupo...','Erro\x20ao\x20adicionar\x20label\x20','isInteger','allFlows','retrySendMessage','tags','function','split','audio/ogg;\x20codecs=opus','sendText','groups.update','):\x20Buscando\x20flow...',',\x20Segundo\x20Valor:\x20','creds.json','):\x20Enviando\x20udio','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','globalShow','Conexo\x20estabelecida','ChatModel','https://v6.ident.me','.ogg','findGroupInfo','upsertChats','changeVariables','):\x20Ignoring\x20group\x20messages.','count','cwd','repository','\x0a*Voc\x20respondeu*:\x0a','group','findOneAndUpdate','.mimetype','app-state-sync-key','Button\x20IDs\x20cannot\x20be\x20repeated.','No\x20suitable\x20network\x20interface\x20found','inviteCodeDetails','3039435YorRGH','notContains','):\x20Bloco\x20copiado:\x20','info','convertToWebP','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','editFlowVaredit','deleteMany','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','fetchProfilePictureUrl','exports','node-cache','lastFetchAwaitingApproval','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Fluxo\x20agendado\x20pelo\x20fluxo\x20','set',',\x20pairCode:\x20','groupGetInviteInfo','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','requestFile','getHours','Variveis\x20no\x20encontradas:','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','desativadoFluxoAte','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','data:\x20',',\x20Minutes\x20to\x20Close:\x20','READ','request_time','/wa-message','flowActive','Rtulo\x20invlido\x20ou\x20sem\x20ID.','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Going\x20to\x20','GET','js-yaml','\x5cd+','whoCanUse','readData','existsSync','./.git/config','.txt','locationMessage','getOwnPropertyNames','normalizeMessageContent','licenca','https://ipv6.jsonip.com','startFlowWebhook','restartInstance','delaySecMin','notas','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','crypto','Configurao\x20SSL\x20recuperada:','sha256','groupUpdateDescription','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','pt-BR','Erro\x20ao\x20atualizar\x20conversa:\x20','msgRetryCounterCache','mediaKey','StartBot','.jwt','delayMessage','\x1b[37m%s\x1b[0m','updateLastSeenPrivacy','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','Selecione','generateRandomIPv6','pollMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','profilePictureUrl','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Subscribed\x20Events:','sendMessageAck','stack','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','console','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','sendMedia','):\x20Editando\x20varivel\x20do\x20fluxo...','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','DOCKER_ENV','jsonschema','INFO','):Type\x20defined\x20as\x20audio','authModel','cleanDisconnectedInstances','path','variablesNotFound','removeProfilePicture','error\x20get\x20vote','/*.json','width','EXPIRIN_IN','fetchContacts','pre','dataValidate','chatLog','editflowvariable','formatStatusMessage','DEBUG','Erro\x20ao\x20importar\x20chats','descOwner','setUpdate','.doc','@broadcast','.url','url','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','findMany','ScheduleMessage','labels.edit','VERBOSE','delaySecMax','):\x20Enviando\x20mdia','lastMessage','contacts.upsert','Parando\x20aplicao,\x20atualizao\x20recebida','CREDENTIALS','editOperator','jid','namespace','localWebhook','maxActives','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','getPrototypeOf','awaitSeconds','Erro\x20ao\x20normalizar\x20a\x20mensagem:','local_map','SERVER_ACK','_Chats','526974QmAEkZ','Erro\x20ao\x20buscar\x20a\x20conversa','restart','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','connectionStatus','apiName','AddChatLabel','verbose','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','processawaitSeconds','):\x20Adicionando\x20\x27','indexOf','cachedData-whatsapp','):\x20whoCanEdit\x20before\x20validation:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','34318SIMliW','reorderMessages','flowStopMinutes','-whatsapp-api','fromObject','isJidGroup','sendPoll','):Desconectado,\x20parando\x20execuo.','undefined','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','):\x20conversation.lastInteraction:\x20','KEY','timeout','/automate','webp','remove','findParticipants','flattenObject','string','size','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','chatHandle','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','command','node-mime-types','editflowreply','inet6','\x27\x20no\x20encontrado','reconnectAttempts','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','updatePrivacySettings','shift','ObjectId','call','isJidUser','\x20com\x20sucesso.','messageHandle','saveTextReply','dbClient','DELIVERY_ACK','headers','):\x20Editando\x20replyOption...','GROUPS_UPDATE','/startFlow/:instance/:startID','silent','BufferJSON','muteEndTime','DATABASE','errors','#dfaef0','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','getContentType','scheduleSendText','BRL','state','paused','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','AddUserFlow','defineAuthState','#d3a91f','\x20quoted:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ContactModel','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','updateGroupWebhook','findLabels','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','archived','groups.upsert','Internal\x20Server\x20Error','mimetype','scheduleNextCheck','ip\x20-6\x20addr\x20show\x20dev\x20','Detalhes\x20do\x20erro:','.fileUrl','qrCode','key','assign','):\x20teve\x20mudanas\x20chat.archived:\x20','#92ceac','\x20ao\x20chat\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','text','ContactsAndGroups','contextInfo','sendStatus','from','uazapiSendMenu','join','Removendo\x20package-lock.json\x20e\x20a\x20dependncia\x20especfica...','Error\x20in\x20scheduleNextCheck:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','events','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','groupJid','deleted','getBase64FromMediaMessage','\x20instance\x20does\x20not\x20exist','.gif','getBusinessProfile','getClient','number','delAll','add','initializeQueue','isBusiness','):\x20teve\x20mudanas\x20chat.muteEndTime:\x20','Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:','getFlow','delayChatLabel','):\x20newSecondValue\x20aps\x20replaceVariables:','env','$addToSet','isValidAndUniqueIPv6','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','importChatsBatch','hex','reviver','TYPE','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','SSL_CONF_FULLCHAIN','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','fetchProfilePicture',',\x20lastCondition:\x20','toNumber','connect','vir','downloadMediaMessage','findIndex','address','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:\x20','sending','getAutomateSystem','/wa-connection-update','order','\x1b[32m','getDevice','delete','no-cache','spawn','):\x20Mensagem\x20j\x20enviada\x20para\x20','Erro\x20ao\x20buscar\x20conversas','boolean','):\x20Limpando\x20delayMessage','timeInMinutes','inviteCode','.X-ABLabel:Celular\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin','Mensagens\x20deletadas\x20com\x20sucesso.','stopConversation','):\x20Ler\x20mensagem','fileUrl','contact_blacklist','ERROR:\x20','messages.update','headerString','\x20contacts','longitude','creation','block','groupadd','Instance\x20logged\x20out','importChats','removeUnusedChatFields','public','Imagem\x20no\x20encontrada','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):\x20Fluxo\x20\x27','connectedName','Falha\x20ao\x20criar\x20IPv6.','Database\x20connection\x20closed.','participants','waMonitor','notEmpty','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','writeFileSync','.mp3','fetchInstances','readreceipts','):\x20Limpando\x20AutomateSystem','userDevicesCache','variablesToObject','instancias:\x20','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','getMIMEType','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','getStatus','pop','editFlowReply','instances','toLocaleString','createNewConversation','REDIS','Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.','createConversationforgoToFlow','getScheduleMessage','.jpg','):\x20Iniciando\x20bot...','scheduleSendAudio','leadInfo.etiquetas','CLEANING_INTERVAL','sendMessageWithTyping','folder','CacheContacts\x20database\x20connection\x20closed.','conversationTimestamp','readdirSync','https://api.openai.com/v1/images/generations','/instance','isRunning','instanceInfo','createConnection','request\x20received\x20in\x20allFlows','shareFlow','presence','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','CONTACTS_SET','fetchMessages','OrAnd','closed','updateGParticipate','apiResponse','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','reconnectTimestamps','dbInstance','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','all','DATABASE_CONNECTION_PASSWORD','awaitingApproval','SEND_MESSAGE','updateMessage','_Messages','):\x20leadInfoVariables','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','findOrCreate','replaceVariablesInObject','whatsappNumber','dbConnection','):\x20Enviando\x20texto','EMAIL','#83e421','waitingMenu_ExpiredMessage','eventEmitter','RemoveChatLabel','PORT','profilePicture','getLastMessage','process','chats.set','insertCount','GROUP_PARTICIPANTS_UPDATE','Error\x20adding\x20IPv6\x20address:\x20','qrcode.updated','Module\x20-\x20ON','waitingForReplyMenu','):\x20conversation.status:\x20','Falta\x20informao\x20para\x20a\x20chamada\x20API','removeIPv6ById','Retornando\x20grupos\x20SEM\x20cache','createIPv6','profile','equal','auth','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','fileLength','footerText','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','AutomateSystem','canSendMessage','COLOR','addresss','logout','Garbage\x20collection\x20no\x20est\x20disponvel.','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','):\x20Flow\x20\x27','):\x20whoCanUse\x20after\x20validation:\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','values','map','varedit','base64','Generated\x20IPv6:\x20','PREFIX_KEY','\x27...','Instance\x20restarted','Erro\x20ao\x20remover\x20label\x20','*Pergunta*:\x20\x0a','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','toLowerCase','privacySettings','convertedOptions','nome','pm2\x20flush','out','verify','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','router','warn','-instances','FULLCHAIN','last','validate','saveConversationToDatabase','Authentication\x20error','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','basename','Falha\x20ao\x20processar\x20a\x20solicitao\x20send_message,\x20numero:\x20','moreLogs','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','editChat','error','):Audio\x20converted\x20and\x20stored\x20in\x20cache','code','updateOne','editflowcondition','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','TEL','deleteBlock','SERVER_OFFLINE','):\x20[messages.upsert]\x20group\x20ignored','qrcode','leadInfo.','sendContact','statusCode','):\x20Rtulo\x20atualizado:\x20','findWebhook','removeData','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','USER','createServer','https://api.elevenlabs.io/v1/text-to-speech/','media','convert','replacer','findRealGroups','\x20is\x20already\x20in\x20use.','delay','readMessages','archive','Logger','Parte\x20do\x20domnio\x20do\x20caminho\x20FULLCHAIN:','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessrios.','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','/instance/delete','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','repeat','realVariables','find','sectionsToString','mongoose','\x1b[33m','):\x20transformedCustomFieldVariables','Font\x20is\x20required','checkAndRestartProcess','pow','CORS_ORIGIN','findAndReplace','trim','not\x20loaded','status','option','Log\x20out\x20instance:\x20','contentText','creds','\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','findAndReplaceRegex','Missing\x20global\x20api\x20key','$set','displayName','):\x20Entrou\x20na\x20funo\x20saveReply','waitingMenu_text','Cache\x20instance\x20update\x20result:\x20','sendWhatsAppAudio','convertaudio','flush','body','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','prototype','removeIPv6','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20','#9ba6ff','_Contacts','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','downloads','Deleted\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','scheduled','axios','firstValue','storePath','https://uazapi-plugin.bubbleapps.io/','updateChatGroupData','clearVariables','createClient','546044lVcCjL','request\x20received\x20in\x20editFlowgroup','updateGParticipant','!stop','\x20segundos\x20antes\x20de\x20reconectar...','configService','status.instance','copyBlock','flow','StatusJidList\x20is\x20required','0123456789ABCDEF','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','test','ini','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','website','\x1b[40m','yes','convertaudioMP3','generate','uazapi','labels.association','oldToken','write','):\x20Procurando\x20conversa','$pull','integer','[all]','none','toFile','):\x20Conversa\x20inserida\x20com\x20sucesso.','replaceVariablesChat','model','padStart','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','poll','desc','ff:fe','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Instance\x20\x22','unlinkSync','view\x20engine','remove.instance','):\x20Bloco\x20original\x20para\x20cpia:\x20','updateMany','Parando\x20aplicao...','ChatRouter','optionDescription','pollCreationMessageV3','error_log','webhookService',',\x20received\x20','optionName','Invalid\x20format','put','sharp','__esModule','send','reorderBlocks','cacheContact','format','sendButtons','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','jpegThumbnail','compression','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','subjectOwner','request\x20received\x20in\x20fetchConversation','matchRegex','Type\x20not\x20found','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Atualizando\x20status\x20da\x20mensagem\x20','stringify','all_member_add','\x20no\x20encontrado\x20para\x20atualizao.','ListType','Erro\x20ao\x20buscar\x20Schedule\x20Messages','@s.whatsapp.net','logger','text/event-stream','CHATS_UPDATE','ERROR','Stack\x20trace:','Erro\x20ao\x20inserir\x20chats:','phoneNumber','HOST','pollOnReplyDelete','Error\x20updating\x20message\x20status:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','selectableCount','stateConnection','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','bearer','lastBlockId','/message','):\x20Erro\x20durante\x20a\x20atualizao:\x20','senderKeyDistributionMessage','Router','AppStateSyncKeyData','success','authState','forEach','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','match_last_seen','deleteMessage','remoteJid','Erro\x20ao\x20atualizar\x20o\x20fluxo:','request\x20received\x20in\x20editFlowvariable','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','uazapiDeleteMessage','initAuthCreds','Nenhum\x20participante\x20vlido\x20encontrado.','variables','now','getMessageModelForOwner','):\x20updateResult:','leadInfo.desativadoFluxoAte','limit','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','options','EMAIL:','updateProfilePicturePrivacy','statSync','post','fetchChats','DATABASE_ENABLED','has','editFlowVariable','\x22\x20-\x20REMOVED','list','request\x20received\x20in\x20deleteConversation','Chat\x20com\x20ID\x20','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo','dbServer','Connection','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','16eWvcQz','#000000','pollCreationMessage','):\x20no\x20encontrou','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20voc\x20no\x20tem\x20permisso\x20para\x20us-lo','del','writeFile','sticker','groups','):\x20Error\x20processing\x20conditions:\x20','saveCreds','Conversa\x20deletada\x20com\x20sucesso.','.xlsx','):\x20Entrou\x20na\x20funo\x20scheduleFlow','fetchConversation','request\x20received\x20in\x20editConversation','isBase64','isAdmin','deleteflow','updateProfileName','keyPattern','trimmed','sleep','collections','ipv6Prefix','IPv6\x20recriado\x20aps\x20falhas\x20de\x20reconexo.','getContactModelForOwner','deleteMessageForEveryone','createGroup','#f64847','):\x20newFirstValue\x20aps\x20replaceVariables:','no.connection','AutomateFunctions','pino','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','_remoteJid','STORE_CLEANING_TERMINAL','superadmin','getflow','updateProfileStatus','update','stopped','default','ENABLED','vcard','method','Error\x20writing\x20file:\x20','Fluxos\x20no\x20esto\x20ativados','Content\x20is\x20required','createWebhook','loadWebhook','owner','reactionMessage','The\x20\x22','toString','webhookMap','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','customFields','isValidIPv6Config','editMessagesInGroup','):\x20Criando\x20nova\x20conversa[createNewConversation]','#fed428','apirequest','sendSticker','every','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','blocks','getConversation','oldValue','unreadCount','mkdirSync','agents','textMessage','convertToString','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','less','Flow\x20iniciado\x20com\x20','cacheInstanceModel','toBrazilianNumberFormat','processPollUpdateMessage','myAppStateKeyId','NextBlock','generateHash','METHODS','sem\x20texto\x20na\x20mensagem','addMessagesToGroup','linkPreview','):Image\x20is\x20url','):\x20Query\x20params:\x20','https://api.ipify.org?format=json','waUploadToServer','updateGroupParticipantsWebhook','Erro\x20ao\x20atualizar\x20AutomateSystem:','setNewValue','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','toDataURL','viewOnceMessage','Sistema\x20atualizado\x20com\x20sucesso!','.type','Erro\x20ao\x20limpar\x20instncias\x20desconectadas:','Schema','updateReplyOption','IPv6\x20address\x20configured:\x20','delayChatLabel_RETRY_DELAY_MS','#ffae04','https://ifconfig.me/ip','_fromMe','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','redirect','groupAcceptInvite','cors','badSession','fileName','flowPrefixCommand','whatsappNumbers','setContext','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','uuid','evaluateConditionTest','getDelay','IPv6\x20address\x20removed:\x20','request\x20received\x20in\x20deleteDoneMessages','startFlow','chats.delete','autoCompleteMessages','):\x20debug\x20alterando\x20this.AutomateSystem','quoted','dropIndex','messageId','):\x20ev.flush\x20realizado','instanceName','/wa-groups','.extension','rows','editFlowCondition','release','CONNECTION','\x1b[1m','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','#9568cf','min','\x20inseridos\x20no\x20banco\x20de\x20dados...','readMessageBot','throwAndLogError','charAt','/wa-chats','#64c4ff','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','updateOneById','imageMessage','this.reconnectAttempts:\x20','findChats','lastUpdate','MessageModel','RemoteJid:','Retornando\x20grupos\x20COM\x20cache','Novo\x20IP\x20criado:\x20','lastCondition','scheduleFlow','proxy:\x20','replaceVariablesLogs','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','length','lastRealGroupsFetch','labelId','editFlowBlock','):\x20Alterando\x20fluxo...','getLabelModelForOwner','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','verifyWhatsAppNumber','Falha\x20ao\x20processar\x20fetchBusinessProfile','ListMessage','/events/:instance','):Output\x20path:\x20','fetchProfile',',\x20Expiration\x20Time:\x20','approve','\x20segundos','messageContextInfo','archiveChat','latitude','username','exists','getProfileName','selectedOptions','readFileSync','API_KEY','!cmd_','SERVER','detail','arrayUnique','modifiedCount','/instance/connect','#ffffff','statusMessage','\x1b[1m\x1b[37m','.webp','\x20saindo\x20da\x20funo','groups_ignore','}}\x20->\x20valor\x20no\x20encontrado','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','valid','editflowvaredit','findFlow','ignoreGroups','sections','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','ReplyOption\x20com\x20ID\x20','testingWith','content','action','name','networkInterface','whoCanEdit','end','insertMany','rm\x20-rf\x20','):\x20isVote:\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','PLAYED','client','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','documentWithCaptionMessage','routerPath','sendLocation','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20alterar\x20privacidade','everyOne','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','beautifyWithPlaceholders','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','Instncia:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','webhook','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','parse','WARN','fetchLatestBaileysVersion','Nmero\x20no\x20possui\x20WhatsApp.','STORE_MESSAGE','):Archiving\x20chat','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','http','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao','max','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo','SERVER_URL','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:\x20','processblock','Incio','parseInt','generateWAMessageFromContent','groupSettingUpdate','AUTHENTICATION','CONTACTS_UPSERT','messageTimestamp','groupParticipantsUpdate','utf8','json','mongodb','8080','ON\x20-\x20dbName:\x20','getVariablesChat','cpf','Valor\x20inicial:\x20\x22','capitalizedWords','unhandledRejection','Usando\x20IP\x20existente:\x20','envProcess','ORG:','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','memberAddMode','array','Bad\x20Request','\x22reaction\x22\x20must\x20be\x20an\x20emoji','formatBRNumber','URL','Varivel\x20no\x20encontrada!','updateAgent','listen','stderr','createHash','sendMenu','buffer','not_announcement','\x20-y','\x1b[42m','color','):\x20alterando\x20this.AutomateSystem','notMatchRegex','blockLogs','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','replyOption','Cache-Control','Fluxo\x20no\x20encontrado\x20na\x20memria.','evaluateCondition','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','statusJidList','?timestamp=','lastSendMessage','unknown\x20operation\x20type\x20[','CHATS_DELETE','sendDataWebhook','AUTHENTICATION_JWT_EXPIRIN_IN','?authSource=admin&readPreference=primary&directConnection=true','removeChatLabel','automateSystem','jsonwebtoken','rowId','messageType','IPv6\x20addresses\x20detected:\x20','addBlock','configureIPv6','segundos','menuIgnoreNonVotes','SERVER_TYPE','makeCacheableSignalKeyStore','createFlow','instanceName\x20not\x20provided.','encoding','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','authorization','minutesToClose','leadInfo.customFields','isJWT','leadInfo','\x20no\x20encontrado','g.us','connection.update','50mb','editConversation','MESSAGES_UPDATE','):\x20Entrou\x20na\x20funo\x20goToFlow','listType','p-queue','\x20chats\x20de\x20','):\x20sender\x20=\x20number:\x20','):Image\x20created',',\x20Novo\x20tamanho:\x20','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','slice','GROUPS_UPSERT','mediaSticker','):Hash\x20to\x20image\x20name:\x20','deletedCount','.error','):Temp\x20image\x20deleted','loadEnv','Valor\x20de\x20find\x20ou\x20replace\x20ausente','apikey','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','DARK','buttons','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','groupName','round','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','request\x20received\x20in\x20editFlow','audio','URI','groupDesc','/wa-all-message','1672110uaDCmo','groupMetadata','scheduleSendMedia','Nenhum\x20fluxo\x20correspondente\x20encontrado.','\x20atualizado\x20com\x20sucesso.\x20Ao:\x20','chatModify','eventHandler','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','deleteChat','cachedContacts-whatsapp','decryptPollVote','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','verifiedName','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc','CORS','Error\x20in\x20chatModify\x20for\x20number\x20','Data\x20invlida\x20fornecida','loggedOut','cleaningUp','deleteInstance','Subdomnio\x20final:','varedits','#00a1f2','vote','):\x20error:\x20','drop','interval\x20no\x20\x20um\x20nmero','mongodb://','quotedMessage','triedToSend','deleteAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','config','inviteUrl','greater','get','lastSend','notify','Voc\x20no\x20tem\x20permisso\x20para\x20ver\x20o\x20fluxo\x20\x27','some','groupRequestParticipantsUpdate','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','):\x20No\x20achou\x20nenhum\x20flow','transformScheduledMessagesByType','g-t','use','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20A\x20mensagem\x20\x20\x22stopConversation\x22\x20=\x20','getConversationModelForOwner','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','pushName','joinGroupValidate','):\x20Comando\x20desconhecido:\x20','chats','video-cover.png','message','uazapiSendMedia','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','updateMissingCustomFields','processingGroup','delayChatLabel_MAX_RETRIES','LICENSE_INVALID','createSectionsFromValues','Safari','\x20minutos...','message_normalized','):\x20Enviando\x20enquete','mentions','queue','Pausado\x20por\x20','updateChatWithMessage','isConnected','redisEnv','ConversationModel','filter','InstancesAlterarTodas','defineProperty','loadInstance','Erro\x20ao\x20iniciar\x20fluxo:\x20','_p_','deleteImportedChat','):\x20Buscando\x20conversa...','):\x20Conversa\x20atualizada\x20em\x20memria','saveChatVariables','instance','createAndSave','description','createJid','connectionClosed','close','contains','\x22\x20not\x20found','.wav','lean','\x20foi\x20interrompido\x20pelo\x20usurio.','CORS_METHODS','\x5c$&','deleteFlow','/instance/create','label','request\x20received\x20in\x20updateFlowConfig','documentMessage','getAllData','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','gifPlayback','updateMediaMessage','):Processing\x20audio','endSession','getChatModelForOwner','enviado\x20para','uazapiSendLocation','updateStopChat','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','.xls','_FlowHistorico','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','class-validator','next_groupId','.pdf','):\x20Editando\x20bloco...','startCommand','arraybuffer','audio/ogg','toggleEphemeral','\x20:\x20','/clients-info','request\x20received\x20in\x20updateAutoCompleteMessages','item','DisconnectReason','audioWhatsapp','#ff9484','):\x20Buscando\x20flow,\x20id:\x20',',\x20canSendMessage:\x20','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Operador:\x20\x22','SSL_CONF_PRIVKEY','/wa-contacts','reject','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','deleteReplyOption','groupValidate','.\x20Pulando.','emit','isLong','presence.update','replaceVariablesInReplyOptions','groupBetterSetting','unavailable','\x20horas\x20e\x20','_id','fetchBusinessProfile','ip\x20-6\x20addr\x20del\x20','Erro\x20ao\x20buscar\x20fluxos:','keys','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','bulkWrite','Erro\x20ao\x20alterar\x20fluxo','\x1b[33m\x1b[1m','\x0aitem','Contacts\x20not\x20found','updateGroupPicture','stopMinutesMaxActives','truncatedtoEnd','Partes\x20do\x20domnio:','findGroup','flows','updateStatusPrivacy','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','messageStubParameters','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','\x20Tentativa\x20de\x20reconexo\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','data','\x1b[36m','toUpperCase','upsertedCount','replaceOne','prepareWAMessageMedia','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','stopIfLastReturnedError','deviceSentMessage','END:VCARD','resetReconnectionVariables','user','log','/media','editFlowGroup','addChatLabel','wuid','setting','image','hGetAll','CONTACTS_UPDATE','envYaml','69jhzNGO','restrict','processgoToFlow','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','RECONNECT_TIME_FRAME','STORE','setRestartTimeout','composing','type','createOrUpdate','):\x20\x27Deletando\x20fluxo,\x20id:\x20','authService','pictureUrl','messages','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','subject','instanceKeys','request\x20received\x20in\x20getAutomateSystem','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20excluso.','):\x20Procurando\x20mensagens\x20para\x20envio','connectionUpdate','@g.us','DB_PREFIX_NAME','createflow','$dbName','viewOnceMessageV2','match','font','editflowblock','Db\x20Connection','REDIS_ENABLED','imgUrl','findGroupInfos','Group\x20not\x20found','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','\x1b[34m%s\x1b[0m','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','fora\x20do\x20git','updateAutoCompleteMessages','newStoppedUntil','done','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','express','SERVER_PORT','saveMediaToFile','responsavelid','Unauthorized','processvaredits','participant','findManyByIds','markMessageAsRead','):\x20Flow\x20desativado','DATABASE_CONNECTION_DB_PREFIX_NAME','endsWith','execSync','\x1b[30m%s\x1b[0m','env.KEY\x20!==\x20key','exit','_ScheduleMessages','):\x20Transformao\x20de\x20mensagens\x20agendadas\x20concluda!','\x27\x20no\x20encontrado\x20na\x20memria','caption','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting','replaceValue','reaction','LabelModel','CONECTADO\x20\x20UAZAPI','):\x20Editando\x20grupo\x20do\x20fluxo...','Instance\x20Key\x20from\x20DB:','pollUpdateMessage','uazapiSendText','PRESENCE_UPDATE','synchronizeAndMapFlows','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.'];a0_0x1dce=function(){return _0x3e5fcd;};return a0_0x1dce();}ke[a0_0x2ec1ea(0x649)](a0_0x2ec1ea(0x6d5),Pt[a0_0x2ec1ea(0x4d4)]['static'](_o))[a0_0x2ec1ea(0x63f)](a0_0x2ec1ea(0x558),async(_0x11e25e,_0x3a1043)=>{const _0xcfb2e1=a0_0x2ec1ea;console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x1bb));let _0x208c64=_0x11e25e[_0xcfb2e1(0x1c2)]['instance'],_0x51bbec=(_0x11e25e[_0xcfb2e1(0x736)][_0xcfb2e1(0x2f1)]||'')[_0xcfb2e1(0x1e1)](','),_0x2420e6=(0x0,vi['v4'])();console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x12e),_0x208c64),console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x249),_0x51bbec);let _0x468fc8=b['get']('AUTHENTICATION')[_0xcfb2e1(0x566)],_0x450b6f=_0x11e25e['query'][_0xcfb2e1(0x60d)];if(console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x754),_0x450b6f),_0x468fc8['KEY']!==_0x450b6f){console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x716));try{let _0x22cc58=await we[_0xcfb2e1(0x39c)]['find'](_0x208c64);if(console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x722),_0x22cc58),!_0x22cc58||_0x22cc58['apikey']!==_0x450b6f)return console[_0xcfb2e1(0x6d4)](_0xcfb2e1(0x13e)),_0x3a1043[_0xcfb2e1(0x3fd)](0x191)[_0xcfb2e1(0x45b)](_0xcfb2e1(0xc5));}catch(_0x3ab274){return console[_0xcfb2e1(0x3cc)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x3ab274),_0x3a1043[_0xcfb2e1(0x3fd)](0x191)['send'](_0xcfb2e1(0x4f5));}}if(!await Oe(_0x208c64))return _0x3a1043[_0xcfb2e1(0x3fd)](0x194)[_0xcfb2e1(0x45b)](_0xcfb2e1(0x74b));_0x3a1043[_0xcfb2e1(0x7bb)]('Content-Type',_0xcfb2e1(0x471)),_0x3a1043[_0xcfb2e1(0x7bb)](_0xcfb2e1(0x5d5),_0xcfb2e1(0x31f)),_0x3a1043[_0xcfb2e1(0x7bb)](_0xcfb2e1(0x4a8),'keep-alive'),_0x3a1043['flushHeaders']();let _0x5607e0=_0xcfb2e1(0x219)+JSON[_0xcfb2e1(0x46a)]({'info':_0xcfb2e1(0x1ec)})+'\x0a\x0a';_0x3a1043[_0xcfb2e1(0x439)](_0x5607e0),Si(_0x208c64,_0x2420e6,_0x3a1043,_0x51bbec),_0x11e25e['on'](_0xcfb2e1(0x675),()=>{const _0x2e5998=_0xcfb2e1;console[_0x2e5998(0x6d4)](_0x2e5998(0x75e)+_0x208c64),Mi(_0x208c64,_0x2420e6);});}),ke[a0_0x2ec1ea(0x49d)](a0_0x2ec1ea(0x2c0),async(_0x2a85ec,_0x22b477)=>{const _0x3f07be=a0_0x2ec1ea;console[_0x3f07be(0x6d4)](_0x3f07be(0x16f));let _0x631c88=_0x2a85ec[_0x3f07be(0x1c2)]['instance'],_0xc43086=_0x2a85ec[_0x3f07be(0x1c2)][_0x3f07be(0x141)],_0x26eed8=_0x2a85ec[_0x3f07be(0x736)][_0x3f07be(0x48b)]||'',_0x4ec9d7=_0x2a85ec[_0x3f07be(0x40e)];console[_0x3f07be(0x6d4)]('Instance\x20Name:',_0x631c88),console['log'](_0x3f07be(0xf1),_0xc43086),console['log'](_0x3f07be(0x545),_0x26eed8),console[_0x3f07be(0x6d4)]('Request\x20Body:',_0x4ec9d7);try{if(!await Oe(_0x631c88))return _0x22b477[_0x3f07be(0x3fd)](0x194)['send']('Instncia\x20no\x20encontrada.');let _0x5e2296=await T[_0x3f07be(0x22f)](_0x631c88,_0xc43086,_0x26eed8,_0x4ec9d7);_0x22b477['send'](_0x5e2296);}catch(_0x37c137){console[_0x3f07be(0x3cc)](_0x37c137),_0x22b477[_0x3f07be(0x3fd)](0x1f4)['send'](_0x3f07be(0x33c));}}),ke[a0_0x2ec1ea(0x63f)](a0_0x2ec1ea(0x699),(_0x4f4cd6,_0x4ad173)=>{const _0x219736=a0_0x2ec1ea;let _0x14c417=Ci();_0x4ad173[_0x219736(0x5b2)](_0x14c417);})[a0_0x2ec1ea(0x63f)]('/',(_0x3e55d8,_0x21abaf)=>{const _0x4c3063=a0_0x2ec1ea;let _0x4a49f5=b[_0x4c3063(0x63f)]('SERVER')[_0x4c3063(0x5c4)];if(_0x4a49f5){let _0x40c2ea=encodeURIComponent(''+_0x4a49f5);_0x21abaf[_0x4c3063(0x517)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x40c2ea);return;}let _0x59705d=b[_0x4c3063(0x63f)](_0x4c3063(0x744)),_0x3e4f97=_0x59705d&&_0x59705d[_0x4c3063(0x3c1)][_0x4c3063(0x1e1)]('/')[0x4];if(_0x3e4f97){let _0x15c3f1=encodeURIComponent(_0x4c3063(0xe5)+_0x3e4f97);_0x21abaf[_0x4c3063(0x517)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x15c3f1);}else _0x21abaf[_0x4c3063(0x517)](_0x4c3063(0x41d));})[a0_0x2ec1ea(0x458)](a0_0x2ec1ea(0x765),...ce,async(_0x29f34e,_0x2169d0)=>{const _0x4ec930=a0_0x2ec1ea;try{console[_0x4ec930(0x6d4)](_0x4ec930(0x188)),_0x2169d0[_0x4ec930(0x3fd)](0xc8)[_0x4ec930(0x5b2)]({'message':_0x4ec930(0x248)}),_0x2169d0['on']('finish',()=>process['exit'](0x0));}catch(_0x30a515){console[_0x4ec930(0x3cc)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x30a515),_0x2169d0[_0x4ec930(0x3fd)](0x1f4)[_0x4ec930(0x5b2)]({'message':_0x4ec930(0x753)});}})[a0_0x2ec1ea(0x458)]('/config',...ce,async(_0x403821,_0x418376)=>{const _0x223941=a0_0x2ec1ea;try{let _0x52c9d7=_0x403821[_0x223941(0x40e)];await ve[_0x223941(0x3cf)]({},{'$set':_0x52c9d7},{'upsert':!0x0});let _0x3d0cfb=await ve[_0x223941(0x167)]();_0x418376[_0x223941(0x5b2)](_0x3d0cfb);}catch(_0xdef8ca){_0x418376[_0x223941(0x3fd)](0x190)['send'](_0xdef8ca[_0x223941(0x653)]);}})[a0_0x2ec1ea(0x63f)](a0_0x2ec1ea(0x144),...ce,async(_0x1f3fd3,_0x43f5f4)=>{const _0x756ed2=a0_0x2ec1ea;try{let _0x3fba0f=await ve['findOne']();if(!_0x3fba0f)return _0x43f5f4[_0x756ed2(0x5b2)]({});_0x43f5f4[_0x756ed2(0x5b2)](_0x3fba0f);}catch(_0x8a2193){_0x43f5f4['status'](0x1f4)['send'](_0x8a2193[_0x756ed2(0x653)]);}})[a0_0x2ec1ea(0x649)](a0_0x2ec1ea(0x365),new St(b,...ce)['router'])[a0_0x2ec1ea(0x649)](a0_0x2ec1ea(0x480),new Ot(...ce)['router'])[a0_0x2ec1ea(0x649)](a0_0x2ec1ea(0x7af),new ut(...ce)[a0_0x2ec1ea(0x3be)])['use'](a0_0x2ec1ea(0x7c2),new bt(...ce)['router'])[a0_0x2ec1ea(0x649)]('/webhook',new xt(...ce)[a0_0x2ec1ea(0x3be)])['use'](a0_0x2ec1ea(0x2a2),new Dt(...ce)['router']);var m=class{constructor(..._0x52a224){const _0x2af147=a0_0x2ec1ea;throw{'status':0x190,'error':_0x2af147(0x5c1),'message':_0x52a224[_0x2af147(0x54d)]>0x0?_0x52a224:void 0x0};}},ne=class{constructor(..._0x46156d){const _0x4f1418=a0_0x2ec1ea;throw{'status':0x191,'error':_0x4f1418(0x70c),'message':_0x46156d['length']>0x0?_0x46156d:void 0x0};}},te=class{constructor(..._0x4b7608){const _0x524291=a0_0x2ec1ea;throw{'status':0x193,'error':'Forbidden','message':_0x4b7608[_0x524291(0x54d)]>0x0?_0x4b7608:void 0x0};}},J=class{constructor(..._0x4e6e28){const _0x21b7b2=a0_0x2ec1ea;throw{'status':0x194,'error':_0x21b7b2(0x7ce),'message':_0x4e6e28[_0x21b7b2(0x54d)]>0x0?_0x4e6e28:void 0x0};}},x=class{constructor(..._0x1bfb07){const _0x553144=a0_0x2ec1ea;throw{'status':0x1f4,'error':_0x553144(0x2da),'message':_0x1bfb07['length']>0x0?_0x1bfb07:void 0x0};}},ye=require(a0_0x2ec1ea(0x117));async function Os(_0x1af4dd){const _0x5a83ea=a0_0x2ec1ea;let _0xf40f4a=new $(Os[_0x5a83ea(0x582)]),_0x26c378=R[_0x5a83ea(0x2f9)](),_0x9223a5=_0x26c378['db'](b[_0x5a83ea(0x63f)](_0x5a83ea(0x2c4))[_0x5a83ea(0x533)][_0x5a83ea(0x6f4)]+_0x5a83ea(0x3c0))['collection'](_0x1af4dd),_0x4864d6=async(_0x13d08f,_0x4b5920)=>{const _0x3873ce=_0x5a83ea;try{return await _0x26c378[_0x3873ce(0x312)](),await _0x9223a5['replaceOne']({'_id':_0x4b5920},JSON[_0x3873ce(0x59b)](JSON[_0x3873ce(0x46a)](_0x13d08f,ye[_0x3873ce(0x2c2)][_0x3873ce(0x3e3)])),{'upsert':!0x0});}catch{}},_0x561870=async _0x351e80=>{const _0x1f39c3=_0x5a83ea;try{await _0x26c378[_0x1f39c3(0x312)]();let _0x440337=await _0x9223a5[_0x1f39c3(0x167)]({'_id':_0x351e80}),_0x1e1739=JSON[_0x1f39c3(0x46a)](_0x440337);return JSON['parse'](_0x1e1739,ye[_0x1f39c3(0x2c2)][_0x1f39c3(0x30a)]);}catch{}},_0x1e7fa8=async _0x48685c=>{try{return await _0x26c378['connect'](),await _0x9223a5['deleteOne']({'_id':_0x48685c});}catch{}},_0x1de442=await _0x561870(_0x5a83ea(0x401))||(0x0,ye[_0x5a83ea(0x490)])();return{'state':{'creds':_0x1de442,'keys':{'get':async(_0x13c86c,_0x462aa8)=>{const _0x1a2ffd=_0x5a83ea;let _0x1c1e99={};return await Promise['all'](_0x462aa8[_0x1a2ffd(0x3ac)](async _0x122e87=>{const _0x520f92=_0x1a2ffd;let _0x4814b5=await _0x561870(_0x13c86c+'-'+_0x122e87);_0x13c86c===_0x520f92(0x1fb)&&_0x4814b5&&(_0x4814b5=ye['proto'][_0x520f92(0x15f)][_0x520f92(0x484)][_0x520f92(0x297)](_0x4814b5)),_0x1c1e99[_0x122e87]=_0x4814b5;})),_0x1c1e99;},'set':async _0x3ae9e2=>{const _0x20f960=_0x5a83ea;let _0x2577b8=[];for(let _0x150194 in _0x3ae9e2)for(let _0xd9362b in _0x3ae9e2[_0x150194]){let _0x34d6c7=_0x3ae9e2[_0x150194][_0xd9362b],_0x410ebd=_0x150194+'-'+_0xd9362b;_0x2577b8[_0x20f960(0x7ee)](_0x34d6c7?_0x4864d6(_0x34d6c7,_0x410ebd):_0x1e7fa8(_0x410ebd));}await Promise['all'](_0x2577b8);}}},'saveCreds':async()=>_0x4864d6(_0x1de442,_0x5a83ea(0x401))};}var ks=A(require('long')),Ls=A(require(a0_0x2ec1ea(0x20b))),Ft=require(a0_0x2ec1ea(0x117)),Ni=require('@redis/client'),Lt=require(a0_0x2ec1ea(0x117)),kt;function Do(_0xbf128){const _0x2bde5d=a0_0x2ec1ea;return kt||(kt=(0x0,Ni[_0x2bde5d(0x420)])({'url':_0xbf128[_0x2bde5d(0x619)]}),kt[_0x2bde5d(0x312)]()),kt;}var he=class u{constructor(_0x331089,_0x2589cd){const _0x158a42=a0_0x2ec1ea;this[_0x158a42(0x664)]=_0x331089,this[_0x158a42(0x52d)]=_0x2589cd,this[_0x158a42(0x470)]=new $(u[_0x158a42(0x582)]),this[_0x158a42(0x58b)]=Do(_0x331089);}set[a0_0x2ec1ea(0x130)](_0x3e6b05){const _0x2a8047=a0_0x2ec1ea;this[_0x2a8047(0x52d)]=_0x3e6b05;}async[a0_0x2ec1ea(0x6ee)](){const _0x47d3cd=a0_0x2ec1ea;try{return await this[_0x47d3cd(0x58b)][_0x47d3cd(0x7dc)]([_0x47d3cd(0x6b5),this['redisEnv'][_0x47d3cd(0x3b0)]+':*']);}catch(_0x349562){this['logger'][_0x47d3cd(0x3cc)](_0x349562);}}async[a0_0x2ec1ea(0xc6)](_0x2e7f0c,_0x34e2da){const _0x355179=a0_0x2ec1ea;try{let _0x2be337=JSON[_0x355179(0x46a)](_0x34e2da,Lt['BufferJSON'][_0x355179(0x3e3)]);return await this[_0x355179(0x58b)]['hSet'](this['redisEnv'][_0x355179(0x3b0)]+':'+this[_0x355179(0x52d)],_0x2e7f0c,_0x2be337);}catch(_0x149995){this[_0x355179(0x470)][_0x355179(0x3cc)](_0x149995);}}async[a0_0x2ec1ea(0x682)](){const _0x1f8acd=a0_0x2ec1ea;try{let _0xc0702=await this[_0x1f8acd(0x58b)][_0x1f8acd(0x6db)](this[_0x1f8acd(0x664)][_0x1f8acd(0x3b0)]+':'+this[_0x1f8acd(0x52d)]);if(_0xc0702){for(let _0x175740 in _0xc0702)Object[_0x1f8acd(0x410)]['hasOwnProperty'][_0x1f8acd(0x2b6)](_0xc0702,_0x175740)&&(_0xc0702[_0x175740]=JSON[_0x1f8acd(0x59b)](_0xc0702[_0x175740],Lt['BufferJSON']['reviver']));return _0xc0702;}}catch(_0x28cfb){this['logger']['error'](_0x28cfb);}}async[a0_0x2ec1ea(0x226)](_0x4d56c5){const _0x1749f5=a0_0x2ec1ea;try{let _0x1208a9=await this[_0x1749f5(0x58b)][_0x1749f5(0x190)](this['redisEnv'][_0x1749f5(0x3b0)]+':'+this['instanceName'],_0x4d56c5);if(_0x1208a9)return JSON[_0x1749f5(0x59b)](_0x1208a9,Lt[_0x1749f5(0x2c2)][_0x1749f5(0x30a)]);}catch(_0x211805){this[_0x1749f5(0x470)][_0x1749f5(0x3cc)](_0x211805);}}async[a0_0x2ec1ea(0x3dc)](_0xc05d17){const _0x564e65=a0_0x2ec1ea;try{return await this[_0x564e65(0x58b)]['hDel'](this[_0x564e65(0x664)][_0x564e65(0x3b0)]+':'+this[_0x564e65(0x52d)],_0xc05d17);}catch(_0x26fa58){this['logger'][_0x564e65(0x3cc)](_0x26fa58);}}async[a0_0x2ec1ea(0x2fb)](_0x299be1){const _0x4c1bf2=a0_0x2ec1ea;try{return await this[_0x4c1bf2(0x58b)][_0x4c1bf2(0x4af)](_0x299be1||this['redisEnv'][_0x4c1bf2(0x3b0)]+':'+this[_0x4c1bf2(0x52d)]);}catch(_0x256ad4){this[_0x4c1bf2(0x470)][_0x4c1bf2(0x3cc)](_0x256ad4);}}};async function _s(_0x1fc05a,_0x51f378){const _0x4e18fd=a0_0x2ec1ea;let _0x39d96f=new $(_s[_0x4e18fd(0x582)]),_0x12e539=new he(_0x1fc05a,_0x51f378),_0x57ae1c=async(_0x414fce,_0x2f8781)=>{const _0x5c8892=_0x4e18fd;try{return await _0x12e539[_0x5c8892(0xc6)](_0x2f8781,_0x414fce);}catch(_0x2a695e){return _0x39d96f[_0x5c8892(0x3cc)]({'localError':'writeData','error':_0x2a695e});}},_0x3f3205=async _0x1bdbd7=>{const _0x19e0c1=_0x4e18fd;try{return await _0x12e539[_0x19e0c1(0x226)](_0x1bdbd7);}catch(_0x2fb53b){_0x39d96f[_0x19e0c1(0x3cc)]({'readData':_0x19e0c1(0xc6),'error':_0x2fb53b});return;}},_0x4dce6d=async _0x2dbcbe=>{const _0x694171=_0x4e18fd;try{return await _0x12e539[_0x694171(0x3dc)](_0x2dbcbe);}catch(_0x4eaba5){_0x39d96f[_0x694171(0x3cc)]({'readData':_0x694171(0x3dc),'error':_0x4eaba5});}},_0x241d18=await _0x3f3205(_0x4e18fd(0x401))||(0x0,Ft[_0x4e18fd(0x490)])();return{'state':{'creds':_0x241d18,'keys':{'get':async(_0x55c84c,_0x41a6ee)=>{const _0x3b1335=_0x4e18fd;let _0xfeb59f={};return await Promise[_0x3b1335(0x378)](_0x41a6ee['map'](async _0x590e07=>{const _0x34bad0=_0x3b1335;let _0x1e3802=await _0x3f3205(_0x55c84c+'-'+_0x590e07);_0x55c84c===_0x34bad0(0x1fb)&&_0x1e3802&&(_0x1e3802=Ft[_0x34bad0(0xe2)][_0x34bad0(0x15f)][_0x34bad0(0x484)]['fromObject'](_0x1e3802)),_0xfeb59f[_0x590e07]=_0x1e3802;})),_0xfeb59f;},'set':async _0x1e6cf6=>{const _0x411c38=_0x4e18fd;let _0x574cc5=[];for(let _0x23688a in _0x1e6cf6)for(let _0x2a4218 in _0x1e6cf6[_0x23688a]){let _0x326050=_0x1e6cf6[_0x23688a][_0x2a4218],_0x3cc583=_0x23688a+'-'+_0x2a4218;_0x574cc5[_0x411c38(0x7ee)](_0x326050?await _0x57ae1c(_0x326050,_0x3cc583):await _0x4dce6d(_0x3cc583));}await Promise['all'](_0x574cc5);}}},'saveCreds':async()=>await _0x57ae1c(_0x241d18,'creds')};}var L=A(require('fs')),ee=require('uuid'),qt=A(require(a0_0x2ec1ea(0x459))),Vt=require(a0_0x2ec1ea(0x234)),$i=require('child_process'),Ri=require(a0_0x2ec1ea(0x18a)),Ai=A(require(a0_0x2ec1ea(0x41a))),Ne=class extends _{constructor(_0x5effc7,_0x41ab4c,_0x21d68b){const _0x1064ba=a0_0x2ec1ea;super(_0x41ab4c),this['cacheInstanceModel']=_0x5effc7,this[_0x1064ba(0x426)]=_0x41ab4c,this[_0x1064ba(0x383)]=_0x21d68b;}async[a0_0x2ec1ea(0x6e7)](_0x11e738,_0x3d47f1){const _0x4add43=a0_0x2ec1ea;try{if(this[_0x4add43(0xb8)]['ENABLED']){console[_0x4add43(0x6d4)](_0x4add43(0xf4)+_0x3d47f1+'\x20and\x20data:',_0x11e738);let _0x519018=await this[_0x4add43(0x4f8)]['findOneAndUpdate']({'_id':_0x3d47f1},{'$set':_0x11e738},{'new':!0x0,'upsert':!0x0});return console[_0x4add43(0x6d4)](_0x4add43(0x19b),_0x519018),_0x519018;}}catch(_0x4889d3){throw console['error']('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x4889d3),_0x4889d3;}return null;}async['deleteOne'](_0x1a7bc2){const _0x2e8386=a0_0x2ec1ea;try{let _0x3498d8=I(_0x1a7bc2[_0x2e8386(0xa1)]);return{'deletedCount':(await this[_0x2e8386(0x4f8)][_0x2e8386(0x13f)](_0x3498d8))[_0x2e8386(0x608)]};}catch(_0x3b1e53){return{'error':_0x3b1e53?.[_0x2e8386(0x4e0)]()};}}async[a0_0x2ec1ea(0x167)](_0x4f25f8){const _0x4160dd=a0_0x2ec1ea;try{let _0x5a5526=I(_0x4f25f8['where']);return await this['cacheInstanceModel']['findOne'](_0x5a5526)[_0x4160dd(0x679)]();}catch{return null;}}},Ut=(0x0,Ri['promisify'])($i[a0_0x2ec1ea(0x11f)]),Po=b[a0_0x2ec1ea(0x63f)](a0_0x2ec1ea(0x749)),xs=class{constructor(){const _0x37c938=a0_0x2ec1ea;this[_0x37c938(0x72c)]=new Ne(ze,b),(!this[_0x37c938(0x4c2)]||!this[_0x37c938(0x583)])&&Po&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x223a14=_0x37c938;console[_0x223a14(0x6d4)]('IPv6\x20Prefix\x20detected:\x20'+this['ipv6Prefix']),console[_0x223a14(0x6d4)]('Network\x20Interface\x20detected:\x20'+this[_0x223a14(0x583)]);})['catch'](_0x4dbd06=>{const _0x2a6a3d=_0x37c938;console[_0x2a6a3d(0x3cc)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x4dbd06[_0x2a6a3d(0x653)]);});}async[a0_0x2ec1ea(0x104)](){const _0x5b0ef2=a0_0x2ec1ea;try{let {stdout:_0x24c6b4}=await Ut('ip\x20-br\x20link\x20show');console[_0x5b0ef2(0x6d4)]('Network\x20interfaces\x20detected:\x20'+_0x24c6b4);let _0x44146f=_0x24c6b4[_0x5b0ef2(0x1e1)]('\x0a')['map'](_0x5e72b7=>_0x5e72b7['split']('\x20')[0x0])['filter'](_0x3af6c8=>!_0x3af6c8[_0x5b0ef2(0x7de)]('lo')&&!_0x3af6c8[_0x5b0ef2(0x7de)](_0x5b0ef2(0x774))&&!_0x3af6c8['includes'](_0x5b0ef2(0x313))&&!_0x3af6c8[_0x5b0ef2(0x7de)]('wl')&&!_0x3af6c8[_0x5b0ef2(0x7de)]('@'));if(console[_0x5b0ef2(0x6d4)]('Filtered\x20network\x20interfaces:\x20'+_0x44146f),_0x44146f[_0x5b0ef2(0x54d)]===0x0)throw new Error(_0x5b0ef2(0x1fd));this['networkInterface']=_0x44146f[0x0];let {stdout:_0x54c384}=await Ut(_0x5b0ef2(0x2dd)+this['networkInterface']);console[_0x5b0ef2(0x6d4)](_0x5b0ef2(0x5e6)+_0x54c384);let _0x59961b=_0x54c384[_0x5b0ef2(0x1e1)]('\x0a')['find'](_0x10b441=>_0x10b441[_0x5b0ef2(0x7de)](_0x5b0ef2(0x2af))&&_0x10b441['includes'](_0x5b0ef2(0x74c)));if(!_0x59961b)throw new Error(_0x5b0ef2(0x4e2));let _0x4b36ca=_0x59961b[_0x5b0ef2(0x6f8)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4b36ca)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x2efcd6,_0x49bce4,_0x5a9b3d]=_0x4b36ca,_0x47a14e=Math[_0x5b0ef2(0x183)](Number(_0x5a9b3d)/0x10),_0x5b054d=Number(_0x5a9b3d)%0x10,_0x16e05b=_0x49bce4['split'](':')[_0x5b0ef2(0x604)](0x0,_0x47a14e)[_0x5b0ef2(0x2ed)](':');if(_0x5b054d>0x0){let _0x19a58a=_0x49bce4[_0x5b0ef2(0x1e1)](':')[_0x47a14e],_0x1abc2a=0xffff<<0x10-_0x5b054d&0xffff,_0x4ec740=(parseInt(_0x19a58a,0x10)&_0x1abc2a)[_0x5b0ef2(0x4e0)](0x10)['padStart'](0x4,'0');_0x16e05b+=':'+_0x4ec740;}this[_0x5b0ef2(0x4c2)]=_0x16e05b+':';}catch(_0x47fe62){console[_0x5b0ef2(0x3cc)](_0x5b0ef2(0x611),_0x47fe62);}}async[a0_0x2ec1ea(0x5e8)](_0x8c51ce){const _0x39a0e2=a0_0x2ec1ea;let _0x5c7d7a=_0x39a0e2(0x7c0)+_0x8c51ce+_0x39a0e2(0x783)+this[_0x39a0e2(0x583)];try{await Ut(_0x5c7d7a),console[_0x39a0e2(0x6d4)](_0x39a0e2(0x511)+_0x8c51ce);}catch(_0x24241c){console[_0x39a0e2(0x3cc)](_0x39a0e2(0x391)+_0x24241c);}}async[a0_0x2ec1ea(0x411)](_0x2d9afd){const _0x35b998=a0_0x2ec1ea;let _0x26efc3=_0x35b998(0x6b3)+_0x2d9afd+_0x35b998(0x783)+this['networkInterface'];try{await Ut(_0x26efc3),console[_0x35b998(0x6d4)](_0x35b998(0x523)+_0x2d9afd);}catch(_0x5c0d31){console['error'](_0x35b998(0x761)+_0x5c0d31);}}[a0_0x2ec1ea(0x109)](){const _0x305077=a0_0x2ec1ea;return _0x305077(0x124)[_0x305077(0x19d)](/X/g,()=>_0x305077(0x42b)[_0x305077(0x53b)](Math[_0x305077(0x183)](Math[_0x305077(0x1af)]()*0x10)));}[a0_0x2ec1ea(0x18e)](_0xd73dfb,_0x22ea2f){const _0x4bbbb3=a0_0x2ec1ea;let _0x554473=_0x22ea2f[_0x4bbbb3(0x1e1)](':');return _0x554473[0x0]=(parseInt(_0x554473[0x0],0x10)^0x2)['toString'](0x10)['padStart'](0x2,'0'),''+_0xd73dfb+_0x554473[0x0]+_0x554473[0x1]+':'+_0x554473[0x2]+_0x4bbbb3(0x447)+_0x554473[0x3]+':'+_0x554473[0x4]+_0x554473[0x5];}[a0_0x2ec1ea(0x244)](){const _0x1318f8=a0_0x2ec1ea;let _0x468cb6=this['ipv6Prefix'];_0x468cb6[_0x1318f8(0x713)](':')||(_0x468cb6+=':');let _0x4efe8b=this[_0x1318f8(0x109)]();return this['ip6eui'](_0x468cb6,_0x4efe8b);}[a0_0x2ec1ea(0x4e5)](_0x2a7192){const _0xd54ee2=a0_0x2ec1ea;return new RegExp(_0xd54ee2(0x463))[_0xd54ee2(0x42d)](_0x2a7192);}async[a0_0x2ec1ea(0x73d)](_0x4449f5){const _0x1a9d55=a0_0x2ec1ea;let _0x17869f=[{'url':_0x1a9d55(0x22e),'parse':_0xb6c3e2=>_0xb6c3e2['ip']},{'url':_0x1a9d55(0x102),'parse':_0x33a422=>_0x33a422['ip']},{'url':_0x1a9d55(0x514),'parse':_0xa6797b=>_0xa6797b[_0x1a9d55(0x3fb)]()},{'url':_0x1a9d55(0x1ee),'parse':_0x990daa=>_0x990daa[_0x1a9d55(0x3fb)]()}],_0x28face=_0x17869f[Math[_0x1a9d55(0x183)](Math[_0x1a9d55(0x1af)]()*_0x17869f[_0x1a9d55(0x54d)])];try{let _0x5af85d=await Ai[_0x1a9d55(0x4d4)][_0x1a9d55(0x63f)](_0x28face['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x4449f5}}),_0x13be34=_0x28face[_0x1a9d55(0x59b)](_0x5af85d['data']);return _0x13be34[_0x1a9d55(0x3b6)]()===_0x4449f5[_0x1a9d55(0x3b6)]()?(console[_0x1a9d55(0x6d4)]('IP\x20confirmed:\x20'+_0x4449f5),!0x0):(console[_0x1a9d55(0x3cc)](_0x1a9d55(0x1b9)+_0x4449f5+_0x1a9d55(0x455)+_0x13be34),!0x1);}catch(_0x2b1047){return console[_0x1a9d55(0x3cc)]('Error\x20testing\x20IP\x20with\x20'+_0x28face[_0x1a9d55(0x26c)]+':\x20'+_0x2b1047['message']),!0x1;}}async['createIPv6'](_0x230fa7,_0x3ef5ec){const _0x15b0a8=a0_0x2ec1ea;if(!this[_0x15b0a8(0x4c2)]||!this[_0x15b0a8(0x583)])return console['error'](_0x15b0a8(0x554)),null;let _0x3c1d88;do _0x3c1d88=this[_0x15b0a8(0x244)](),console[_0x15b0a8(0x6d4)](_0x15b0a8(0x3af)+_0x3c1d88);while(!await this[_0x15b0a8(0x306)](_0x3c1d88));await this[_0x15b0a8(0x5e8)](_0x3c1d88),console[_0x15b0a8(0x6d4)]('Configured\x20IPv6:\x20'+_0x3c1d88);let _0x331cc4={'_id':_0x230fa7+'-'+_0x3ef5ec,'ip':_0x3c1d88},_0x50fe79=await this[_0x15b0a8(0x72c)][_0x15b0a8(0x6e7)](_0x331cc4,_0x331cc4['_id']);return console[_0x15b0a8(0x6d4)](_0x15b0a8(0x40a)+_0x50fe79),_0x3c1d88;}async['isValidAndUniqueIPv6'](_0x337ec8){const _0x2fd167=a0_0x2ec1ea;return this['isValidIPv6Config'](_0x337ec8)?!await this[_0x2fd167(0x72c)][_0x2fd167(0x167)]({'where':{'ip':_0x337ec8}}):!0x1;}async[a0_0x2ec1ea(0x397)](_0x5d183d,_0x22ee28){const _0x1a93c3=a0_0x2ec1ea;let _0x3384da=_0x5d183d+'-'+_0x22ee28,_0x1e5460=await this[_0x1a93c3(0x72c)][_0x1a93c3(0x167)]({'where':{'_id':_0x3384da}});_0x1e5460&&_0x1e5460['ip']&&(await this[_0x1a93c3(0x411)](_0x1e5460['ip']),await this['cacheInstanceRepository'][_0x1a93c3(0x13f)]({'where':{'_id':_0x3384da}}));}},ko=new xs(),oe=ko,Fs=a0_0x2ec1ea(0x65b),Pi,ge=null,Da=null,Lo=0x3,Fo=null,Ii=b[a0_0x2ec1ea(0x63f)]('AUTHENTICATION')['API_KEY'][a0_0x2ec1ea(0x2a0)],Ti=b[a0_0x2ec1ea(0x63f)]('PROXY');async function Uo(){const _0x1c3774=a0_0x2ec1ea;let _0x51b061=await ve[_0x1c3774(0x167)]();ge=_0x51b061?.[_0x1c3774(0x1c1)]??null,Fo=_0x51b061?.['DaysToDelete']??null,Fs=_0x51b061?.[_0x1c3774(0x1d7)]??'Safari',Pi=_0x51b061?.[_0x1c3774(0x33e)]??K??_0x1c3774(0x436);}async function jo(){await Uo();}jo();var jt={},$e=class u{constructor(_0x5a8ec2,_0x2d9734,_0x59cb6a){const _0x9b79f3=a0_0x2ec1ea;this[_0x9b79f3(0x426)]=_0x5a8ec2,this[_0x9b79f3(0x388)]=_0x2d9734,this[_0x9b79f3(0x1f6)]=_0x59cb6a,this[_0x9b79f3(0x3a1)]=null,this[_0x9b79f3(0x470)]=new $(u['name']),this[_0x9b79f3(0x670)]={},this[_0x9b79f3(0x27b)]={},this['stateConnection']={'state':_0x9b79f3(0x675)},this[_0x9b79f3(0x41c)]=(0x0,j['join'])(le,_0x9b79f3(0x416)),this[_0x9b79f3(0x23b)]=new Ls[(_0x9b79f3(0x4d4))](),this[_0x9b79f3(0x34a)]=new Ls[(_0x9b79f3(0x4d4))](),this[_0x9b79f3(0x687)]=!0x1,this[_0x9b79f3(0x4e1)]={'status.instance':'/wa-connection-update','connection.update':_0x9b79f3(0x31a),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x9b79f3(0x21d),'send.message':_0x9b79f3(0x21d),'messages.update':_0x9b79f3(0xf9),'group.upsert':_0x9b79f3(0x52e),'group.update':'/wa-groups','group-participants.update':'/wa-groups','messages.set':_0x9b79f3(0x61b),'contacts.set':_0x9b79f3(0x6a4),'contacts.upsert':'/wa-contacts','contacts.update':_0x9b79f3(0x6a4),'presence.update':'/wa-presence','chats.set':_0x9b79f3(0x53c),'chats.update':_0x9b79f3(0x53c),'chats.upsert':_0x9b79f3(0x53c),'chats.delete':_0x9b79f3(0x53c)},this[_0x9b79f3(0x2b1)]=0x0,this[_0x9b79f3(0x375)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this[_0x9b79f3(0x366)]=!0x1,this[_0x9b79f3(0x2aa)]={'chats.upsert':async(_0x57510a,_0x311f65)=>{const _0x57ce8f=_0x9b79f3;let _0xa780f5=[];for await(let _0x221fcc of _0x57510a)_0xa780f5['push']({'_id':_0x221fcc['id'],'owner':this['instance']['wuid'],'group':_0x221fcc['id']['endsWith']('@g.us'),'name':_0x221fcc[_0x57ce8f(0x582)]||_0x221fcc['displayName']||null,'contactname':null,'lastmsg':_0x221fcc['conversationTimestamp']&&_0x221fcc[_0x57ce8f(0x362)][_0x57ce8f(0x4e0)]()['length']<0xd?_0x221fcc[_0x57ce8f(0x362)]*0x3e8:_0x221fcc[_0x57ce8f(0x362)]||null,'archived':_0x221fcc[_0x57ce8f(0x2d8)]||!0x1,'unreadcount':_0x221fcc[_0x57ce8f(0x4f0)]||0x0,'ephemeralExpiration':_0x221fcc[_0x57ce8f(0x194)]||0x0});this['sendDataWebhook']('chats.upsert',_0xa780f5);},'chats.update':async(_0x3be4a3,_0x3e4854)=>{const _0x4338bd=_0x9b79f3;for(let _0x247905 of _0x3be4a3){let _0x41188c={'_id':_0x247905['id'],'owner':this[_0x4338bd(0x670)][_0x4338bd(0x6d8)],'archived':_0x247905['archived'],'muteEndTime':_0x247905[_0x4338bd(0x2c3)],'ephemeralExpiration':_0x247905[_0x4338bd(0x194)]},_0x38fc1a=!0x1,_0x5187c3={};_0x41188c[_0x4338bd(0x2d8)]!=null&&(this['logger'][_0x4338bd(0x28b)](this[_0x4338bd(0x52d)]+'\x20('+this[_0x4338bd(0x670)]['wuid']+_0x4338bd(0x2e3)+_0x247905['id']+'\x20:\x20'+_0x247905[_0x4338bd(0x2d8)]),_0x38fc1a=!0x0,_0x5187c3[_0x4338bd(0x2d8)]=_0x247905['archived']),_0x4338bd(0x2c3)in _0x247905&&(this['logger'][_0x4338bd(0x28b)](this['instanceName']+'\x20('+this[_0x4338bd(0x670)][_0x4338bd(0x6d8)]+_0x4338bd(0x2ff)+_0x247905['id']+_0x4338bd(0x698)+(_0x247905[_0x4338bd(0x2c3)]??'0')),_0x38fc1a=!0x0,_0x5187c3[_0x4338bd(0x2c3)]=_0x247905['muteEndTime']??0x0),_0x4338bd(0x194)in _0x247905&&(this[_0x4338bd(0x470)]['verbose'](this[_0x4338bd(0x52d)]+'\x20('+this[_0x4338bd(0x670)][_0x4338bd(0x6d8)]+_0x4338bd(0x204)+_0x247905['id']+'\x20:\x20'+(_0x247905[_0x4338bd(0x194)]!==void 0x0?_0x247905[_0x4338bd(0x194)]:_0x4338bd(0x29b))),_0x5187c3['ephemeralExpiration']=_0x247905['ephemeralExpiration']===null?0x0:_0x247905[_0x4338bd(0x194)],_0x38fc1a=!0x0);let _0x17668b;_0x38fc1a&&(_0x17668b=await this[_0x4338bd(0x1f6)][_0x4338bd(0x107)][_0x4338bd(0x3cf)]({'where':{'_id':_0x247905['id']}},_0x5187c3,this[_0x4338bd(0x670)][_0x4338bd(0x6d8)])),_0x17668b&&q(this['instanceName'],_0x4338bd(0x651),{'chat':_0x17668b});}},'chats.delete':async _0x559d21=>{const _0x5830ef=_0x9b79f3;for(let _0x2e8903 of _0x559d21)if(_0x2e8903['endsWith'](_0x5830ef(0x6f3))){await this[_0x5830ef(0x1f6)]['chat'][_0x5830ef(0x31e)]({'where':{'_id':_0x2e8903}},this[_0x5830ef(0x670)][_0x5830ef(0x6d8)]);let _0x2e5cad={'where':{'key':{'remoteJid':_0x2e8903}}};await this[_0x5830ef(0x1f6)][_0x5830ef(0x653)][_0x5830ef(0x31e)](_0x2e5cad,this[_0x5830ef(0x670)][_0x5830ef(0x6d8)]);}else{await this[_0x5830ef(0x1f6)][_0x5830ef(0x107)][_0x5830ef(0x3cf)]({'where':{'_id':_0x2e8903}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x4ceb4c={'where':{'key':{'remoteJid':_0x2e8903}}};await this[_0x5830ef(0x1f6)][_0x5830ef(0x653)][_0x5830ef(0x31e)](_0x4ceb4c,this[_0x5830ef(0x670)][_0x5830ef(0x6d8)]);}this['sendDataWebhook'](_0x5830ef(0x526),[..._0x559d21]);}},this[_0x9b79f3(0x120)]={'contacts.upsert':async(_0x2593f1,_0x279c4)=>{const _0x385244=_0x9b79f3;let _0x3e447d=await this['repository']['contact'][_0x385244(0x3f1)]({'where':{}},this[_0x385244(0x670)][_0x385244(0x6d8)]),_0x4e1d69=[];for await(let _0x13c753 of _0x2593f1)_0x3e447d['find'](_0x1b7ae9=>_0x1b7ae9[_0x385244(0x6b1)]===_0x13c753['id'])||_0x4e1d69[_0x385244(0x7ee)]({'_id':_0x13c753['id'],'pushName':_0x13c753?.[_0x385244(0x582)]||_0x13c753?.['verifiedName'],'owner':this[_0x385244(0x670)][_0x385244(0x6d8)]});this[_0x385244(0x5de)](_0x385244(0x275),_0x4e1d69),await this['repository'][_0x385244(0x11a)][_0x385244(0x75b)](_0x4e1d69);},'contacts.update':async(_0x13cba8,_0x51ec3)=>{const _0x23a06d=_0x9b79f3;let _0x23c39b=[];for await(let _0x387eb7 of _0x13cba8)_0x23c39b['push']({'_id':_0x387eb7['id'],'pushName':_0x387eb7?.[_0x23a06d(0x582)]??_0x387eb7?.[_0x23a06d(0x628)],'owner':this[_0x23a06d(0x670)][_0x23a06d(0x6d8)]});this[_0x23a06d(0x5de)](_0x23a06d(0x7e4),_0x23c39b);}},this['messageHandle']={'messaging-history.set':async({messages:_0x28b492,chats:_0x221597,isLatest:_0x810b9f},_0x5baa61)=>{const _0x470774=_0x9b79f3;if(_0x810b9f){let _0x4423fb=await Promise[_0x470774(0x378)](_0x221597[_0x470774(0x3ac)](async _0x2f95d8=>({'_id':_0x2f95d8['id'],'owner':this[_0x470774(0x670)][_0x470774(0x6d8)],'group':_0x2f95d8['id']['endsWith'](_0x470774(0x6f3)),'name':_0x2f95d8[_0x470774(0x582)]||_0x2f95d8[_0x470774(0x407)]||_0x2f95d8[_0x470774(0x561)]||null,'contactname':null,'lastmsg':_0x2f95d8['conversationTimestamp']&&_0x2f95d8[_0x470774(0x362)]['toString']()['length']<0xd?_0x2f95d8[_0x470774(0x362)]*0x3e8:_0x2f95d8['conversationTimestamp']||null,'archived':_0x2f95d8[_0x470774(0x2d8)]||!0x1,'unreadcount':_0x2f95d8[_0x470774(0x4f0)]||0x0,'ephemeralExpiration':_0x2f95d8[_0x470774(0x194)]||0x0,'muteEndTime':_0x2f95d8['muteEndTime']||0x0})));this[_0x470774(0x5de)](_0x470774(0x38e),_0x4423fb),await this[_0x470774(0x1f1)](_0x4423fb,_0x5baa61);}let _0x5021de=[],_0x39d406=Date[_0x470774(0x493)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x34eaac]of Object[_0x470774(0x7bc)](_0x28b492)){if(_0x34eaac[_0x470774(0x653)]?.[_0x470774(0x1ae)]||_0x34eaac['message']?.[_0x470774(0x482)]||!_0x34eaac[_0x470774(0x653)]||_0x34eaac['key']['remoteJid']===_0x470774(0x778)||(ks[_0x470774(0x4d4)][_0x470774(0x6ab)](_0x34eaac?.[_0x470774(0x5af)])&&(_0x34eaac['messageTimestamp']=_0x34eaac[_0x470774(0x5af)]?.[_0x470774(0x311)]()),_0x34eaac[_0x470774(0x5af)]&&_0x34eaac[_0x470774(0x5af)][_0x470774(0x4e0)]()[_0x470774(0x54d)]<0xd&&(_0x34eaac[_0x470774(0x5af)]=_0x34eaac['messageTimestamp']*0x3e8),_0x34eaac['messageTimestamp']<_0x39d406))continue;let _0x31741c=(0x0,w[_0x470774(0x22c)])(_0x34eaac[_0x470774(0x653)]),_0x2ebbb7=(0x0,w[_0x470774(0x2c8)])(_0x31741c),{message_normalized:_0x1c6bde}=this[_0x470774(0x759)](_0x31741c,_0x2ebbb7,null);Object[_0x470774(0x6b5)](_0x1c6bde)[_0x470774(0x54d)]>0x0&&_0x5021de[_0x470774(0x7ee)]({'_id':_0x34eaac[_0x470774(0x2e1)]['id'],'key':_0x34eaac[_0x470774(0x2e1)],'pushName':_0x34eaac[_0x470774(0x64e)],'participant':_0x34eaac[_0x470774(0x70e)],'message':_0x31741c,'messageType':_0x2ebbb7,'message_normalized':{'key':_0x34eaac[_0x470774(0x2e1)],'pushName':_0x34eaac[_0x470774(0x64e)],'messageTimestamp':_0x34eaac['messageTimestamp'],..._0x1c6bde},'messageTimestamp':_0x34eaac[_0x470774(0x5af)],'owner':this[_0x470774(0x670)][_0x470774(0x6d8)]});}_0x5baa61[_0x470774(0x4d5)]&&_0x5021de[_0x470774(0x54d)]>0x0&&(this[_0x470774(0x470)][_0x470774(0x28b)](this[_0x470774(0x52d)]+'\x20('+this[_0x470774(0x670)][_0x470774(0x6d8)]+_0x470774(0x755)+_0x5021de['length']+'\x20mensagens\x20de\x20'+this[_0x470774(0x670)]['wuid']+_0x470774(0x589)),await this[_0x470774(0x1f6)][_0x470774(0x653)]['insert']([..._0x5021de],this[_0x470774(0x670)][_0x470774(0x6d8)])),this[_0x470774(0x5de)]('messages.set',[..._0x5021de]),_0x28b492=void 0x0;},'messages.upsert':async({messages:_0x5c29c6,type:_0x4e3a62},_0xce6cc7)=>{const _0x5da6c2=_0x9b79f3;for(let _0x3768b0 of _0x5c29c6){if(this[_0x5da6c2(0x27b)]?.[_0x5da6c2(0x572)]&&_0x3768b0['key'][_0x5da6c2(0x48b)][_0x5da6c2(0x7de)](_0x5da6c2(0x6f3))){this['logger']['verbose'](this[_0x5da6c2(0x52d)]+'\x20('+this[_0x5da6c2(0x670)][_0x5da6c2(0x6d8)]+_0x5da6c2(0x3d5));return;}if(_0x4e3a62!==_0x5da6c2(0x641)||!_0x3768b0?.[_0x5da6c2(0x653)]||_0x3768b0[_0x5da6c2(0x653)]?.['protocolMessage']||_0x3768b0[_0x5da6c2(0x653)][_0x5da6c2(0x482)]||_0x3768b0[_0x5da6c2(0x2e1)][_0x5da6c2(0x48b)]===_0x5da6c2(0x778))return;let _0x44ea1e=null,_0x416a62=null;if(_0x3768b0['messageStubParameters']&&_0x3768b0[_0x5da6c2(0x6c4)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x5da6c2(0x3cc)](_0x5da6c2(0x5a3)),jt[_0x3768b0[_0x5da6c2(0x2e1)]['id']]=_0x3768b0,this[_0x5da6c2(0x1de)](_0x3768b0,0x0);return;}jt[_0x3768b0['key']['id']]&&(console['error'](_0x5da6c2(0x208)),delete jt[_0x3768b0[_0x5da6c2(0x2e1)]['id']]);try{_0x44ea1e=await this['processPollUpdateMessage'](_0x3768b0),_0x416a62=_0x44ea1e?_0x44ea1e[_0x5da6c2(0x2ed)](','):null;}catch(_0x2011a3){this[_0x5da6c2(0x470)][_0x5da6c2(0x28b)](this[_0x5da6c2(0x52d)]+'\x20('+this[_0x5da6c2(0x670)]['wuid']+_0x5da6c2(0x755)+(_0x2011a3 instanceof Error?_0x2011a3[_0x5da6c2(0x653)]:JSON[_0x5da6c2(0x46a)](_0x2011a3,null,0x2))),_0x416a62=_0x5da6c2(0x25b);}this[_0x5da6c2(0x58b)][_0x5da6c2(0x750)](_0x5da6c2(0x6af)),ks[_0x5da6c2(0x4d4)][_0x5da6c2(0x6ab)](_0x3768b0[_0x5da6c2(0x5af)])&&(_0x3768b0['messageTimestamp']=_0x3768b0[_0x5da6c2(0x5af)]?.[_0x5da6c2(0x311)]()),_0x3768b0[_0x5da6c2(0x5af)]&&_0x3768b0[_0x5da6c2(0x5af)][_0x5da6c2(0x4e0)]()[_0x5da6c2(0x54d)]<0xd&&(_0x3768b0['messageTimestamp']=_0x3768b0[_0x5da6c2(0x5af)]*0x3e8);let _0x2a0989=_0x3768b0['message'],_0x4a3858=(0x0,w[_0x5da6c2(0x22c)])(_0x2a0989),_0x44520a=(0x0,w[_0x5da6c2(0x2c8)])(_0x4a3858),{messageContent:_0x2b37fd,message_normalized:_0x13c01e}=this['normalizeMessage'](_0x4a3858,_0x44520a,_0x416a62);_0x44520a===_0x5da6c2(0x1ae)&&_0x2b37fd?.[_0x5da6c2(0x140)]&&(_0x44520a=_0x5da6c2(0x140));let _0x396273,_0x24f097=_0x3768b0[_0x5da6c2(0x2e1)]['remoteJid'][_0x5da6c2(0x713)](_0x5da6c2(0x6f3));if(_0x3768b0[_0x5da6c2(0x2e1)][_0x5da6c2(0x103)])_0x396273=this[_0x5da6c2(0x670)][_0x5da6c2(0x247)];else{let _0xe0fcae=_0x24f097?_0x3768b0[_0x5da6c2(0x2e1)]['participant']:_0x3768b0['key']['remoteJid'];_0x396273=(await this[_0x5da6c2(0x78e)](_0xe0fcae,_0x3768b0[_0x5da6c2(0x64e)],!0x1))[_0x5da6c2(0x165)][_0x5da6c2(0x6ea)];}let _0x9546d3={'_id':_0x3768b0[_0x5da6c2(0x2e1)]['id'],'key':_0x3768b0['key'],'isGroup':_0x24f097,'profilePictureUrl':_0x396273,'pushName':_0x3768b0['pushName'],'message':_0x4a3858,'messageType':_0x44520a,'message_normalized':{'key':_0x3768b0[_0x5da6c2(0x2e1)],'pushName':_0x3768b0[_0x5da6c2(0x64e)],'messageTimestamp':_0x3768b0[_0x5da6c2(0x5af)],'source':(0x0,w[_0x5da6c2(0x31d)])(_0x3768b0[_0x5da6c2(0x2e1)]['id']),..._0x13c01e},'messageTimestamp':_0x3768b0[_0x5da6c2(0x5af)],'owner':this[_0x5da6c2(0x670)][_0x5da6c2(0x6d8)],'source':(0x0,w['getDevice'])(_0x3768b0[_0x5da6c2(0x2e1)]['id']),'expiration':_0x2b37fd?.[_0x5da6c2(0x2e9)]?.['expiration']||0x0};_0x2b37fd||(this[_0x5da6c2(0x470)][_0x5da6c2(0x3cc)](_0x5da6c2(0x764)),this[_0x5da6c2(0x470)][_0x5da6c2(0x3cc)](_0x9546d3)),this['logger']['log'](this[_0x5da6c2(0x52d)]+'\x20('+this[_0x5da6c2(0x670)]['wuid']+_0x5da6c2(0x755)+(_0x9546d3[_0x5da6c2(0x2e1)]?.['fromMe']?_0x5da6c2(0x689):_0x5da6c2(0x79c))+'\x20['+_0x9546d3['key']?.['remoteJid'][_0x5da6c2(0x19d)](_0x5da6c2(0x46f),'')+_0x5da6c2(0x747)+_0x9546d3[_0x5da6c2(0x5e5)]+')'),_0x9546d3[_0x5da6c2(0x65d)]?.[_0x5da6c2(0x2e7)]&&this[_0x5da6c2(0x470)][_0x5da6c2(0x6d4)](_0x3768b0[_0x5da6c2(0x2e1)]['id']+':\x20'+_0x9546d3[_0x5da6c2(0x65d)]?.[_0x5da6c2(0x2e7)]),await this[_0x5da6c2(0x1f6)]['message'][_0x5da6c2(0x75b)]([_0x9546d3],this[_0x5da6c2(0x670)][_0x5da6c2(0x6d8)]),this[_0x5da6c2(0x5de)](_0x5da6c2(0x792),_0x9546d3),q(this[_0x5da6c2(0x52d)],'messages',{'message':_0x9546d3}),_0x3768b0[_0x5da6c2(0x2e1)]['remoteJid']!==_0x5da6c2(0x778)&&await this[_0x5da6c2(0x662)](_0xce6cc7,_0x9546d3,'MESSAGES_UPSERT');}},'messages.update':async(_0x54d8c6,_0x219c9f)=>{const _0x4fb7bc=_0x9b79f3;let _0x58de71={0x0:'ERROR',0x1:_0x4fb7bc(0x732),0x2:_0x4fb7bc(0x282),0x3:_0x4fb7bc(0x2bc),0x4:_0x4fb7bc(0x21b),0x5:_0x4fb7bc(0x58a)};for await(let {key:_0x1629ba,update:_0x349059}of _0x54d8c6){if(this[_0x4fb7bc(0x27b)]?.['groups_ignore']&&_0x1629ba['remoteJid']['includes'](_0x4fb7bc(0x6f3))){this['logger'][_0x4fb7bc(0x28b)](this['instanceName']+'\x20('+this[_0x4fb7bc(0x670)][_0x4fb7bc(0x6d8)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x1629ba[_0x4fb7bc(0x48b)]!==_0x4fb7bc(0x778)){let _0x3c58c3=Date[_0x4fb7bc(0x493)](),_0x52e34a;_0x349059[_0x4fb7bc(0x653)]===null&&_0x349059['status']===void 0x0?_0x52e34a=_0x4fb7bc(0xe9):_0x52e34a=_0x58de71[_0x349059[_0x4fb7bc(0x3fd)]];let _0xc76d01=_0x1629ba[_0x4fb7bc(0x48b)][_0x4fb7bc(0x19d)](/:\d{1,2}@/g,'@'),_0x3b795f={..._0x1629ba,'remoteJid':_0xc76d01,'status':_0x52e34a,'datetime':_0x3c58c3,'owner':this[_0x4fb7bc(0x670)][_0x4fb7bc(0x6d8)]};this[_0x4fb7bc(0x5de)]('messages.update',_0x3b795f),await this['updateMessage'](_0x1629ba,_0x3b795f);}}},'labels.association':async({type:_0x197bcc,association:_0x4b4efb})=>{const _0x3b767d=_0x9b79f3;if(_0x4b4efb[_0x3b767d(0x6e6)]==='label_jid'){let _0x3e61fb,_0x45a277=0x0;for(;!_0x3e61fb&&_0x45a277<this[_0x3b767d(0x658)];)_0x3e61fb=await this[_0x3b767d(0x1f6)][_0x3b767d(0x107)][_0x3b767d(0x167)]({'where':{'_id':_0x4b4efb[_0x3b767d(0x745)]}},this['instance'][_0x3b767d(0x6d8)]),_0x3e61fb||(_0x45a277++,this['logger'][_0x3b767d(0x202)](this[_0x3b767d(0x52d)]+'\x20('+this[_0x3b767d(0x670)]['wuid']+'):\x20Chat\x20'+_0x4b4efb[_0x3b767d(0x745)]+_0x3b767d(0x402)+this[_0x3b767d(0x512)]+'ms\x20(tentativa\x20'+_0x45a277+'/'+this[_0x3b767d(0x658)]+')'),await this[_0x3b767d(0x302)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x3e61fb){this[_0x3b767d(0x470)][_0x3b767d(0x3cc)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x4b4efb[_0x3b767d(0x745)]+_0x3b767d(0x16d)+this['delayChatLabel_MAX_RETRIES']+_0x3b767d(0xd8));return;}switch(_0x197bcc){case _0x3b767d(0x2fc):console[_0x3b767d(0x6d4)](_0x4b4efb),await this[_0x3b767d(0x1f6)][_0x3b767d(0x107)]['updateOne']({'where':{'_id':_0x4b4efb['chatId']}},{'leadInfo.etiquetas':_0x4b4efb[_0x3b767d(0x54f)]},this[_0x3b767d(0x670)][_0x3b767d(0x6d8)],void 0x0,_0x3b767d(0x305));break;case _0x3b767d(0x2a4):console[_0x3b767d(0x6d4)](_0x4b4efb),await this[_0x3b767d(0x1f6)][_0x3b767d(0x107)]['updateOne']({'where':{'_id':_0x4b4efb[_0x3b767d(0x745)]}},{'leadInfo.etiquetas':_0x4b4efb[_0x3b767d(0x54f)]},this['instance'][_0x3b767d(0x6d8)],void 0x0,_0x3b767d(0x43b));break;default:this[_0x3b767d(0x470)][_0x3b767d(0x3cc)](_0x3b767d(0x5dc)+_0x197bcc+']');}}},'labels.edit':async _0x1b0947=>{const _0x98e921=_0x9b79f3;if(!_0x1b0947||!_0x1b0947['id']){this[_0x98e921(0x470)][_0x98e921(0x3cc)](_0x98e921(0x21f));return;}if(!_0x1b0947[_0x98e921(0x2f4)]){let _0x363095=[_0x98e921(0x69e),_0x98e921(0x53d),_0x98e921(0x4e8),_0x98e921(0x2c6),_0x98e921(0x760),_0x98e921(0x137),_0x98e921(0xd9),_0x98e921(0x2d0),'#6f7bcf','#d8e651','#01d0e2',_0x98e921(0x163),_0x98e921(0x2e4),_0x98e921(0x4c7),_0x98e921(0x632),_0x98e921(0x386),_0x98e921(0x513),_0x98e921(0x105),_0x98e921(0x413),_0x98e921(0x536)],_0x156972;typeof _0x1b0947[_0x98e921(0x5cf)]==_0x98e921(0x2fa)&&_0x1b0947['color']>=0x0&&_0x1b0947[_0x98e921(0x5cf)]<_0x363095[_0x98e921(0x54d)]?_0x156972=_0x363095[_0x1b0947[_0x98e921(0x5cf)]]:(this[_0x98e921(0x470)][_0x98e921(0x3cc)](_0x98e921(0x317)+_0x1b0947['color']),_0x156972=_0x98e921(0x4ab));let _0x18e9c3={'_id':_0x1b0947['id'],'colorHex':_0x156972,'color':_0x1b0947?.[_0x98e921(0x5cf)],'name':_0x1b0947?.[_0x98e921(0x582)],'owner':this['instance']['wuid']};await this['repository'][_0x98e921(0x67f)][_0x98e921(0x3cf)]({'where':{'_id':_0x1b0947['id']}},_0x18e9c3,this[_0x98e921(0x670)][_0x98e921(0x6d8)]),this[_0x98e921(0x470)][_0x98e921(0x202)](this['instanceName']+'\x20('+this[_0x98e921(0x670)]['wuid']+_0x98e921(0x3da)+_0x1b0947);}_0x1b0947['deleted']&&(await this[_0x98e921(0x1f6)][_0x98e921(0x67f)]['delete']({'where':{'_id':_0x1b0947['id']}},this[_0x98e921(0x670)][_0x98e921(0x6d8)]),this[_0x98e921(0x470)][_0x98e921(0x202)]('Rtulo\x20deletado:\x27,\x20'+_0x1b0947['id']));}},this[_0x9b79f3(0x129)]={'groups.upsert':async _0x2abe8=>{const _0x19930d=_0x9b79f3;this['localWebhook']?.[_0x19930d(0x572)]||this[_0x19930d(0x5de)](_0x19930d(0x2d9),_0x2abe8);for(let _0xcd76ec of _0x2abe8)await this['updateGroupWebhook'](_0xcd76ec);},'groups.update':async _0x2b5c15=>{const _0xe25e03=_0x9b79f3;this[_0xe25e03(0x27b)]?.['groups_ignore']||this[_0xe25e03(0x5de)]('groups.update',_0x2b5c15);for(let _0x1ec18a of _0x2b5c15)await this['updateGroupWebhook'](_0x1ec18a);},'group-participants.update':async _0xf1c3a4=>{const _0x26daff=_0x9b79f3;this[_0x26daff(0x27b)]?.[_0x26daff(0x572)]||this[_0x26daff(0x5de)](_0x26daff(0xe1),_0xf1c3a4),await this[_0x26daff(0x506)](_0xf1c3a4);}},this[_0x9b79f3(0x658)]=0x5,this[_0x9b79f3(0x512)]=0x1388,this[_0x9b79f3(0x54e)]=0x0,this[_0x9b79f3(0x4fa)]=async _0x11e17c=>{const _0x32f3ea=_0x9b79f3;if(_0x11e17c[_0x32f3ea(0x653)]?.[_0x32f3ea(0x723)]){let _0x2c7f4b=await this['getMessage'](_0x11e17c[_0x32f3ea(0x653)]['pollUpdateMessage'][_0x32f3ea(0x126)],!0x0);if(_0x2c7f4b){let _0x44e527=_0x2c7f4b[_0x32f3ea(0x2e1)]['fromMe']?this['instance'][_0x32f3ea(0x6d8)]+_0x32f3ea(0x46f):_0x2c7f4b['key'][_0x32f3ea(0x70e)]||_0x2c7f4b[_0x32f3ea(0x2e1)][_0x32f3ea(0x48b)],_0x50bdc8=_0x2c7f4b[_0x32f3ea(0x2e1)]['id'],_0x3e7727=_0x2c7f4b[_0x32f3ea(0x653)],_0x21b91d=Buffer[_0x32f3ea(0x2eb)](_0x3e7727[_0x32f3ea(0x55e)][_0x32f3ea(0xf0)][_0x32f3ea(0x4e0)]('hex'),_0x32f3ea(0x309)),_0x1db899=(0x0,w[_0x32f3ea(0x626)])(_0x11e17c[_0x32f3ea(0x653)][_0x32f3ea(0x723)][_0x32f3ea(0x633)],{'pollCreatorJid':_0x44e527,'pollMsgId':_0x50bdc8,'pollEncKey':_0x21b91d,'voterJid':_0x11e17c[_0x32f3ea(0x2e1)][_0x32f3ea(0x103)]?this[_0x32f3ea(0x670)][_0x32f3ea(0x6d8)]+_0x32f3ea(0x46f):_0x11e17c[_0x32f3ea(0x2e1)][_0x32f3ea(0x48b)][_0x32f3ea(0x713)](_0x32f3ea(0x5f7))?_0x11e17c['key'][_0x32f3ea(0x70e)]:_0x11e17c[_0x32f3ea(0x2e1)][_0x32f3ea(0x48b)]}),_0x2c71c4=[],_0x276094=_0x1db899[_0x32f3ea(0x564)]['map'](_0x3523e9=>Buffer['from'](_0x3523e9)['toString'](_0x32f3ea(0x309)));for(let {optionName:_0x595626}of _0x3e7727[_0x32f3ea(0x4ac)]?.[_0x32f3ea(0x499)]||_0x3e7727[_0x32f3ea(0x452)]?.[_0x32f3ea(0x499)]||_0x3e7727[_0x32f3ea(0xcd)]?.[_0x32f3ea(0x499)])_0x276094[_0x32f3ea(0x28f)]((0x0,w[_0x32f3ea(0x236)])(Buffer[_0x32f3ea(0x2eb)](_0x595626))[_0x32f3ea(0x4e0)]('hex'))>-0x1&&_0x2c71c4[_0x32f3ea(0x7ee)](_0x595626);return _0x2c71c4;}}return null;},this[_0x9b79f3(0x759)]=(_0x50e736,_0x3d183d,_0x4d8944)=>{const _0x59ae44=_0x9b79f3;try{let _0x34062d=_0x50e736?(0x0,w['extractMessageContent'])(_0x50e736)[_0x3d183d]:void 0x0,_0x2572fe={},_0xcc2110=null,_0xe1973a=null,_0x4c5074=null;_0x3d183d==='protocolMessage'&&_0x34062d?.[_0x59ae44(0x140)]&&(_0x3d183d=(0x0,w[_0x59ae44(0x2c8)])(_0x34062d[_0x59ae44(0x140)]),_0xcc2110=_0x50e736[_0x59ae44(0x1ae)]['key']['id'],_0x34062d=_0x50e736[_0x59ae44(0x1ae)][_0x59ae44(0x140)][_0x3d183d]),_0x50e736[_0x3d183d]?.[_0x59ae44(0x2e9)]?.[_0x59ae44(0xc3)]&&_0x50e736[_0x3d183d]?.[_0x59ae44(0x2e9)]?.[_0x59ae44(0x638)]&&(_0xe1973a=_0x50e736[_0x3d183d][_0x59ae44(0x2e9)]['stanzaId']),_0x50e736[_0x59ae44(0x4de)]&&(_0x4c5074=_0x50e736[_0x59ae44(0x4de)][_0x59ae44(0x2e1)]['id']);let _0x8c8a;if(_0x34062d&&typeof _0x34062d=='object'&&_0x59ae44(0x126)in _0x34062d&&({pollCreationMessageKey:_0x8c8a}=_0x34062d),_0x3d183d===_0x59ae44(0x4ac)||_0x3d183d===_0x59ae44(0xcd)||_0x3d183d===_0x59ae44(0x452)){let _0x341aa6=_0x34062d[_0x59ae44(0x499)][_0x59ae44(0x3ac)](_0x274d6b=>_0x274d6b[_0x59ae44(0x456)])[_0x59ae44(0x2ed)]('|');_0x2572fe[_0x59ae44(0x3b8)]=_0x341aa6;}let _0xbfb8e1='';if(_0x34062d&&(_0xbfb8e1+=_0x34062d['name']?_0x34062d[_0x59ae44(0x582)]:'',_0xbfb8e1+=_0x34062d[_0x59ae44(0x71b)]?'\x20'+_0x34062d[_0x59ae44(0x71b)]:'',_0xbfb8e1+=_0x34062d[_0x59ae44(0x9e)]?'\x20'+_0x34062d[_0x59ae44(0x9e)]:'',_0xbfb8e1+=_0x34062d['displayName']?'\x20'+_0x34062d[_0x59ae44(0x407)]:''),_0x3d183d==='listMessage'){_0xbfb8e1=(_0x34062d[_0x59ae44(0x19e)]||'')+'\x0a'+(_0x34062d[_0x59ae44(0x672)]||'')+'\x0a'+(_0x34062d[_0x59ae44(0x39f)]||'');let _0x28a254=this[_0x59ae44(0x3f2)](_0x34062d[_0x59ae44(0x57b)]);_0x2572fe[_0x59ae44(0x3b8)]=_0x28a254;}if(_0x3d183d==='listResponseMessage'&&(_0x4d8944=_0x34062d[_0x59ae44(0x19e)]),_0x34062d&&_0x34062d['vcard']){let _0x11a1e5=this[_0x59ae44(0x1c0)](JSON[_0x59ae44(0x46a)](_0x34062d[_0x59ae44(0x4d6)],null,0x2));_0xbfb8e1=_0xbfb8e1+'\x0a'+_0x11a1e5;}if(_0x34062d){let {sections:_0x429a1f,listType:_0x1025e8,displayName:_0x2482bb,vcard:_0x5edeae,contactVcard:_0x57e942,name:_0x54b122,caption:_0x4fcfde,conversation:_0x4a0d5c,pollCreationMessageKey:_0x5150c4,footerText:_0x197f63,contentText:_0x5a269a,pageCount:_0x4fbdd4,headerType:_0xed958e,isAvatar:_0xe8321f,isAnimated:_0x14ec3b,fallbackLc:_0x296e10,fallbackLg:_0x17ba51,namespace:_0x4778cb,elementName:_0x542ad4,localizableParams:_0x14de82,viewOnce:_0x5eed03,height:_0x4b2ce6,width:_0x2a2638,key:_0x2904c6,firstScanLength:_0x435bc8,firstScanSidecar:_0x59fccf,gifPlayback:_0x188d2c,gifAttribution:_0xaf8173,midQualityFileSha256:_0x54a8d5,scansSidecar:_0x427c6a,streamingSidecar:_0x4aedfa,thumbnailHeight:_0x3f3ccd,thumbnailWidth:_0xa80835,thumbnailEncSha256:_0x4252eb,thumbnailDirectPath:_0x2d8f4e,canonicalUrl:_0x6d8047,matchedText:_0x3fe56e,previewType:_0x8432f,thumbnailSha256:_0xa7c468,deviceListMetadataVersion:_0xb3c584,inviteLinkGroupTypeV2:_0x24e790,interactiveAnnotations:_0x1606b7,scanLengths:_0x4ad923,jpegThumbnail:_0x597325,url:_0x3fc114,mediaKeyTimestamp:_0x54a226,waveform:_0x244b07,stickerSentTs:_0x206363,firstFrameLength:_0xddc1d1,fileEncSha256:_0x3f6882,contextInfo:_0x570c83,firstFrameSidecar:_0x2b0744,directPath:_0x5a9cf9,fileSha256:_0x4e06f3,mediaKey:_0x2dec56,senderTimestampMs:_0x41c459,..._0x2558d8}=_0x34062d;(_0x3d183d==='listMessage'||_0x3d183d==='listResponseMessage')&&(delete _0x2558d8[_0x59ae44(0x19e)],delete _0x2558d8[_0x59ae44(0x672)]),typeof _0x34062d=='string'?_0x2572fe={'text':_0x34062d,'type':_0x3d183d||'conversation',..._0xcc2110&&{'edited':_0xcc2110},..._0xe1973a&&{'quoted':_0xe1973a},..._0x4c5074&&{'reaction':_0x4c5074}}:_0x2572fe={'text':_0xbfb8e1,..._0x2558d8,..._0x3d183d===_0x59ae44(0x723)?{'poll_id':_0x34062d[_0x59ae44(0x126)]['id'],'quoted':_0x34062d[_0x59ae44(0x126)]['id'],'vote':_0x4d8944}:{},..._0x3d183d==='listResponseMessage'?{'vote':_0x4d8944}:{},'type':_0x3d183d,..._0xcc2110&&{'edited':_0xcc2110},..._0xe1973a&&{'quoted':_0xe1973a},..._0x4c5074&&{'reaction':_0x4c5074},...(_0x3d183d===_0x59ae44(0x4ac)||_0x3d183d==='pollCreationMessageV2'||_0x3d183d===_0x59ae44(0x452)||_0x3d183d==='listMessage')&&{'convertedOptions':_0x2572fe[_0x59ae44(0x3b8)]}};}return{'messageType':_0x3d183d,'messageContent':_0x34062d,'message_normalized':_0x2572fe};}catch(_0x487d23){return this[_0x59ae44(0x470)][_0x59ae44(0x3cc)](_0x59ae44(0x280)+_0x487d23),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x9b79f3(0xac)](),this[_0x9b79f3(0x2fd)](),this[_0x9b79f3(0x670)][_0x9b79f3(0x3d6)]={'count':0x0},this[_0x9b79f3(0x670)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x2ec1ea(0x52d)](_0xc8aaaf){const _0x2c32b0=a0_0x2ec1ea;if(!_0xc8aaaf){this[_0x2c32b0(0x670)]['name']=(0x0,Oi['v4'])();return;}this[_0x2c32b0(0x670)]['name']=_0xc8aaaf,this['sendDataWebhook'](_0x2c32b0(0x427),{'instance':this[_0x2c32b0(0x670)][_0x2c32b0(0x582)],'status':_0x2c32b0(0x762)});}get[a0_0x2ec1ea(0x52d)](){return this['instance']['name'];}get[a0_0x2ec1ea(0x6d8)](){const _0x45e4e1=a0_0x2ec1ea;return this[_0x45e4e1(0x670)][_0x45e4e1(0x6d8)];}async['getProfileName'](){const _0x5362af=a0_0x2ec1ea;let _0x254fe7=this[_0x5362af(0x58b)][_0x5362af(0x6d3)]?.[_0x5362af(0x582)]??this[_0x5362af(0x58b)]['user']?.[_0x5362af(0x628)];if(!_0x254fe7){if(this['configService']['get'](_0x5362af(0x2c4))['ENABLED']){let _0x17a6a9=await R[_0x5362af(0x2f9)]()['db'](this[_0x5362af(0x426)][_0x5362af(0x63f)](_0x5362af(0x2c4))[_0x5362af(0x533)]['DB_PREFIX_NAME']+_0x5362af(0x3c0))[_0x5362af(0x154)](this[_0x5362af(0x52d)])[_0x5362af(0x167)]({'_id':'creds'});if(_0x17a6a9){let _0x5f3cdf=JSON['parse'](JSON[_0x5362af(0x46a)](_0x17a6a9),w[_0x5362af(0x2c2)][_0x5362af(0x30a)]);_0x254fe7=_0x5f3cdf['me']?.[_0x5362af(0x582)]||_0x5f3cdf['me']?.[_0x5362af(0x628)];}}else{if((0x0,Le[_0x5362af(0x227)])((0x0,j[_0x5362af(0x2ed)])(Se,this['instanceName'],_0x5362af(0x1e7)))){let _0x2ebd2b=JSON[_0x5362af(0x59b)]((0x0,Le[_0x5362af(0x565)])((0x0,j['join'])(Se,this[_0x5362af(0x52d)],_0x5362af(0x1e7)),{'encoding':'utf-8'}));_0x254fe7=_0x2ebd2b['me']?.[_0x5362af(0x582)]||_0x2ebd2b['me']?.[_0x5362af(0x628)];}}}return _0x254fe7;}get[a0_0x2ec1ea(0x247)](){const _0x3de3d=a0_0x2ec1ea;return this['instance'][_0x3de3d(0x247)];}get[a0_0x2ec1ea(0x2e0)](){const _0x2c9297=a0_0x2ec1ea;return this[_0x2c9297(0x670)][_0x2c9297(0x3d6)]?.[_0x2c9297(0x134)]?{'pairingCode':this[_0x2c9297(0x670)][_0x2c9297(0x3d6)]?.[_0x2c9297(0x134)]}:{'code':this['instance']['qrcode']?.[_0x2c9297(0x3ce)],'base64':this[_0x2c9297(0x670)]['qrcode']?.[_0x2c9297(0x3ae)]};}async['loadWebhook'](){const _0x353ee1=a0_0x2ec1ea;let _0x3d0099=await this['repository'][_0x353ee1(0x598)][_0x353ee1(0x3f1)](this[_0x353ee1(0x52d)]);this['localWebhook'][_0x353ee1(0x26c)]=_0x3d0099?.[_0x353ee1(0x26c)],this[_0x353ee1(0x27b)][_0x353ee1(0x7b9)]=_0x3d0099?.[_0x353ee1(0x7b9)],this['localWebhook'][_0x353ee1(0x281)]=_0x3d0099?.[_0x353ee1(0x281)],this[_0x353ee1(0x27b)][_0x353ee1(0xb7)]=_0x3d0099?.[_0x353ee1(0xb7)],this[_0x353ee1(0x27b)][_0x353ee1(0x7d8)]=_0x3d0099?.[_0x353ee1(0x7d8)],this['localWebhook'][_0x353ee1(0x37b)]=_0x3d0099?.[_0x353ee1(0x37b)],this[_0x353ee1(0x27b)][_0x353ee1(0x7d6)]=_0x3d0099?.['MESSAGES_UPSERT'],this[_0x353ee1(0x27b)][_0x353ee1(0x5fb)]=_0x3d0099?.[_0x353ee1(0x5fb)],this[_0x353ee1(0x27b)][_0x353ee1(0x605)]=_0x3d0099?.[_0x353ee1(0x605)],this[_0x353ee1(0x27b)][_0x353ee1(0x2bf)]=_0x3d0099?.[_0x353ee1(0x2bf)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x3d0099?.[_0x353ee1(0x390)],this[_0x353ee1(0x27b)][_0x353ee1(0xcb)]=_0x3d0099?.[_0x353ee1(0xcb)],this['localWebhook'][_0x353ee1(0x74d)]=_0x3d0099?.[_0x353ee1(0x74d)],this['localWebhook'][_0x353ee1(0x472)]=_0x3d0099?.[_0x353ee1(0x472)],this[_0x353ee1(0x27b)]['CHATS_DELETE']=_0x3d0099?.[_0x353ee1(0x5dd)],this['localWebhook'][_0x353ee1(0x36e)]=_0x3d0099?.[_0x353ee1(0x36e)],this[_0x353ee1(0x27b)][_0x353ee1(0x5ae)]=_0x3d0099?.[_0x353ee1(0x5ae)],this[_0x353ee1(0x27b)][_0x353ee1(0x6dc)]=_0x3d0099?.['CONTACTS_UPDATE'],this['localWebhook'][_0x353ee1(0x725)]=_0x3d0099?.[_0x353ee1(0x725)],this[_0x353ee1(0x27b)][_0x353ee1(0x114)]=_0x3d0099?.[_0x353ee1(0x114)],this[_0x353ee1(0x27b)][_0x353ee1(0xa5)]=_0x3d0099?.['CONNECTION_UPDATE'],this['localWebhook'][_0x353ee1(0x572)]=_0x3d0099?.[_0x353ee1(0x572)];}async[a0_0x2ec1ea(0x72d)](_0x429b92){const _0x5aeb13=a0_0x2ec1ea;let _0x5ba3ab=[_0x5aeb13(0x6b1),_0x5aeb13(0x26c),_0x5aeb13(0x7b9),'local_map',_0x5aeb13(0xb7),_0x5aeb13(0x7d8),_0x5aeb13(0x5fb),'MESSAGES_UPSERT','SEND_MESSAGE','GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE',_0x5aeb13(0xcb),_0x5aeb13(0x74d),_0x5aeb13(0x472),_0x5aeb13(0x5dd),_0x5aeb13(0x36e),_0x5aeb13(0x5ae),_0x5aeb13(0x6dc),_0x5aeb13(0x725),_0x5aeb13(0x114),'CONNECTION_UPDATE',_0x5aeb13(0x572)],_0x36c09f={};return _0x5ba3ab[_0x5aeb13(0x487)](_0x426ee3=>{_0x429b92[_0x426ee3]!==void 0x0&&(_0x36c09f[_0x426ee3]=_0x429b92[_0x426ee3]);}),_0x36c09f[_0x5aeb13(0x26c)]&&(_0x36c09f['url']=_0x36c09f[_0x5aeb13(0x26c)][_0x5aeb13(0x3fb)]()),await this['repository'][_0x5aeb13(0x598)][_0x5aeb13(0x14b)](_0x36c09f,this[_0x5aeb13(0x52d)]),Object['assign'](this['localWebhook'],_0x36c09f),await this[_0x5aeb13(0x1f6)]['webhook'][_0x5aeb13(0x3f1)](this[_0x5aeb13(0x52d)]);}async[a0_0x2ec1ea(0x3db)](){const _0x5b64ed=a0_0x2ec1ea;return await this[_0x5b64ed(0x1f6)][_0x5b64ed(0x598)]['find'](this[_0x5b64ed(0x52d)]);}async[a0_0x2ec1ea(0x5de)](_0x19b518,_0x256d38){const _0x4dd8b8=a0_0x2ec1ea;let _0xe4ef41=_0x19b518['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x171e0b=this['localWebhook'][_0x4dd8b8(0x7b9)]&&(0x0,k['isURL'])(this[_0x4dd8b8(0x27b)]['url'])?this['localWebhook']['url']+(this[_0x4dd8b8(0x27b)][_0x4dd8b8(0x281)]?this['webhookMap'][_0x19b518]:''):null,_0x3daa98=this['localWebhook'][_0xe4ef41],_0x1601f9=ge&&ge[_0x4dd8b8(0x7b9)]&&(0x0,k['isURL'])(ge[_0x4dd8b8(0x26c)])?ge[_0x4dd8b8(0x26c)]+(ge[_0x4dd8b8(0x281)]?this[_0x4dd8b8(0x4e1)][_0x19b518]:''):null,_0x1a3c60=ge?ge[_0xe4ef41]:null;if(_0x3daa98&&_0x171e0b)try{await Z[_0x4dd8b8(0x4d4)][_0x4dd8b8(0x14b)]({'baseURL':_0x171e0b})['post']('',{'event':_0x19b518,'instance':this[_0x4dd8b8(0x670)][_0x4dd8b8(0x582)],'apikey':this[_0x4dd8b8(0x670)][_0x4dd8b8(0x60d)],'data':_0x256d38}),this['logger']['log'](this[_0x4dd8b8(0x52d)]+'\x20('+this[_0x4dd8b8(0x670)][_0x4dd8b8(0x6d8)]+_0x4dd8b8(0x216)+_0x19b518+':\x20'+_0x171e0b);}catch{this[_0x4dd8b8(0x470)][_0x4dd8b8(0x3cc)](this['instanceName']+'\x20('+this[_0x4dd8b8(0x670)][_0x4dd8b8(0x6d8)]+_0x4dd8b8(0x307)+_0x19b518+':\x20'+_0x171e0b);}if(_0x1a3c60&&_0x1601f9)try{await Z['default'][_0x4dd8b8(0x14b)]({'baseURL':_0x1601f9})[_0x4dd8b8(0x49d)]('',{'event':_0x19b518,'instance':this[_0x4dd8b8(0x670)][_0x4dd8b8(0x582)],'apikey':this['instance'][_0x4dd8b8(0x60d)],'data':_0x256d38}),this['logger']['log'](this[_0x4dd8b8(0x52d)]+'\x20('+this[_0x4dd8b8(0x670)]['wuid']+_0x4dd8b8(0x5be)+_0x19b518+':\x20'+_0x1601f9);}catch{this['logger'][_0x4dd8b8(0x3cc)](this['instanceName']+'\x20('+this[_0x4dd8b8(0x670)][_0x4dd8b8(0x6d8)]+_0x4dd8b8(0xf3)+_0x19b518+':\x20'+_0x1601f9);}}async[a0_0x2ec1ea(0x6f2)]({qr:_0x2a39df,connection:_0x25e8cb,lastDisconnect:_0x464cd7}){const _0xaf2be0=a0_0x2ec1ea;if(_0x2a39df){if(this[_0xaf2be0(0x670)][_0xaf2be0(0x3d6)]['count']===Lo)return this[_0xaf2be0(0x5de)](_0xaf2be0(0x392),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','statusCode':w[_0xaf2be0(0x69c)][_0xaf2be0(0x51a)]}),this[_0xaf2be0(0x47c)]={'state':'refused','statusReason':w['DisconnectReason'][_0xaf2be0(0x674)]},this[_0xaf2be0(0x5de)](_0xaf2be0(0x5f8),{'instance':this[_0xaf2be0(0x670)]['name'],...this[_0xaf2be0(0x47c)]}),this[_0xaf2be0(0x5de)](_0xaf2be0(0x427),{'instance':this['instance'][_0xaf2be0(0x582)],'status':_0xaf2be0(0x1a9)}),this[_0xaf2be0(0x1f6)][_0xaf2be0(0x39c)]['delete'](this[_0xaf2be0(0x670)][_0xaf2be0(0x582)]),this[_0xaf2be0(0x687)]=!0x0,oe[_0xaf2be0(0x397)](K,this[_0xaf2be0(0x670)][_0xaf2be0(0x582)]),this[_0xaf2be0(0x388)][_0xaf2be0(0x6aa)](_0xaf2be0(0x4c9),this[_0xaf2be0(0x670)][_0xaf2be0(0x582)]);this[_0xaf2be0(0x670)][_0xaf2be0(0x3d6)][_0xaf2be0(0x1f4)]++;let _0x3cf28c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xaf2be0(0x56d),'dark':_0xaf2be0(0x4ab)}};_i[_0xaf2be0(0x4d4)][_0xaf2be0(0x50a)](_0x2a39df,_0x3cf28c,(_0x80fb8a,_0x248627)=>{const _0x5e4b3b=_0xaf2be0;if(_0x80fb8a){this[_0x5e4b3b(0x470)][_0x5e4b3b(0x3cc)](this[_0x5e4b3b(0x52d)]+'\x20('+this[_0x5e4b3b(0x670)][_0x5e4b3b(0x6d8)]+_0x5e4b3b(0x30e)+(_0x80fb8a instanceof Error?_0x80fb8a[_0x5e4b3b(0x653)]:JSON[_0x5e4b3b(0x46a)](_0x80fb8a,null,0x2)));return;}this['instance']['qrcode'][_0x5e4b3b(0x3ae)]=_0x248627,this[_0x5e4b3b(0x670)]['qrcode']['code']=_0x2a39df,!this[_0x5e4b3b(0x476)]&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this['instance']['name'],'pairingCode':this[_0x5e4b3b(0x670)][_0x5e4b3b(0x3d6)][_0x5e4b3b(0x134)],'code':_0x2a39df,'base64':_0x248627}});}),this[_0xaf2be0(0x476)]?this['instance'][_0xaf2be0(0x3d6)][_0xaf2be0(0x134)]||(await(0x0,w[_0xaf2be0(0x3e6)])(0x7d0),this[_0xaf2be0(0x670)]['qrcode']['pairingCode']=await this[_0xaf2be0(0x58b)]['requestPairingCode'](this[_0xaf2be0(0x476)])):this['instance']['qrcode']['pairingCode']=null,xi[_0xaf2be0(0x4d4)][_0xaf2be0(0x435)](_0x2a39df,{'small':!0x0},_0x45c830=>this[_0xaf2be0(0x470)]['log']('\x0a{\x20instance:\x20'+this['instance'][_0xaf2be0(0x582)]+',\x20qrcodeCount:\x20'+this[_0xaf2be0(0x670)][_0xaf2be0(0x3d6)][_0xaf2be0(0x1f4)]+_0xaf2be0(0x210)+this[_0xaf2be0(0x670)][_0xaf2be0(0x3d6)][_0xaf2be0(0x134)]+_0xaf2be0(0x77b)+_0x45c830));}if(_0x25e8cb&&(this[_0xaf2be0(0x47c)]={'state':_0x25e8cb,'statusReason':_0x464cd7?.[_0xaf2be0(0x3cc)]?.[_0xaf2be0(0x7e9)]?.[_0xaf2be0(0x3d9)]??0xc8},this['sendDataWebhook'](_0xaf2be0(0x5f8),{'instance':this[_0xaf2be0(0x670)][_0xaf2be0(0x582)],...this[_0xaf2be0(0x47c)]})),_0x25e8cb===_0xaf2be0(0x675)){if(this['reconnectAttempts']++,this[_0xaf2be0(0x375)][_0xaf2be0(0x7ee)](Date[_0xaf2be0(0x493)]()),this[_0xaf2be0(0x375)]=this[_0xaf2be0(0x375)][_0xaf2be0(0x666)](_0x591b8f=>Date[_0xaf2be0(0x493)]()-_0x591b8f<this[_0xaf2be0(0x6e2)]),_0x464cd7[_0xaf2be0(0x3cc)]?.[_0xaf2be0(0x7e9)]?.[_0xaf2be0(0x3d9)]!==w['DisconnectReason'][_0xaf2be0(0x62d)]){let _0xa27855=this['reconnectAttempts']<=0x1?0x0:Math['min'](Math[_0xaf2be0(0x3f8)](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console[_0xaf2be0(0x6d4)](this['instanceName']+_0xaf2be0(0x6c6)+this['reconnectAttempts']+'.\x20Aguardando\x20'+_0xa27855/0x3e8+_0xaf2be0(0x425)),await new Promise(_0x232d64=>setTimeout(_0x232d64,_0xa27855)),console['log'](_0xaf2be0(0x758)),await this[_0xaf2be0(0x135)]();}else{this['sendDataWebhook'](_0xaf2be0(0x427),{'instance':this[_0xaf2be0(0x670)][_0xaf2be0(0x582)],'status':_0xaf2be0(0x1a9)}),this[_0xaf2be0(0x670)][_0xaf2be0(0x26f)][_0xaf2be0(0x663)]=!0x1,this[_0xaf2be0(0x1f6)][_0xaf2be0(0x598)][_0xaf2be0(0x31e)](this[_0xaf2be0(0x52d)]),this[_0xaf2be0(0x1f6)][_0xaf2be0(0x39c)][_0xaf2be0(0x14b)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xaf2be0(0x493)]()},this[_0xaf2be0(0x670)][_0xaf2be0(0x582)]),oe['removeIPv6ById'](K,this[_0xaf2be0(0x670)][_0xaf2be0(0x582)]);try{this['logger'][_0xaf2be0(0x28b)](this[_0xaf2be0(0x52d)]+'\x20('+this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)]+_0xaf2be0(0x590));let _0x1332b1=await this[_0xaf2be0(0x1f6)]['message'][_0xaf2be0(0x63a)](this[_0xaf2be0(0x670)]['wuid']);_0x1332b1[_0xaf2be0(0x485)]?this[_0xaf2be0(0x470)][_0xaf2be0(0x28b)](this[_0xaf2be0(0x52d)]+'\x20('+this['instance'][_0xaf2be0(0x6d8)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0xaf2be0(0x470)][_0xaf2be0(0x3cc)](_0xaf2be0(0x5a7)+_0x1332b1[_0xaf2be0(0x3cc)]);}catch(_0x4d88d1){this[_0xaf2be0(0x470)][_0xaf2be0(0x3cc)](_0xaf2be0(0x780)+_0x4d88d1[_0xaf2be0(0x653)]);}this['instance'][_0xaf2be0(0x26f)][_0xaf2be0(0x23f)]!==null&&(this[_0xaf2be0(0x470)][_0xaf2be0(0x28b)](this[_0xaf2be0(0x52d)]+'\x20('+this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)]+_0xaf2be0(0x324)),clearInterval(this['instance'][_0xaf2be0(0x26f)][_0xaf2be0(0x23f)]),this[_0xaf2be0(0x670)][_0xaf2be0(0x26f)][_0xaf2be0(0x23f)]=null),this['logger']['verbose'](this[_0xaf2be0(0x52d)]+'\x20('+this['instance'][_0xaf2be0(0x6d8)]+_0xaf2be0(0x349)),this[_0xaf2be0(0x3a1)]=null,this[_0xaf2be0(0x388)][_0xaf2be0(0x6aa)](_0xaf2be0(0x44c),this[_0xaf2be0(0x670)][_0xaf2be0(0x582)],_0xaf2be0(0xb2)),this[_0xaf2be0(0x58b)]?.['ws']?.['close'](),this[_0xaf2be0(0x58b)][_0xaf2be0(0x585)](new Error(_0xaf2be0(0x119)));}}if(_0x25e8cb===_0xaf2be0(0x763)){this[_0xaf2be0(0x470)][_0xaf2be0(0x3bf)](this[_0xaf2be0(0x52d)]+'\x20('+this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)]+_0xaf2be0(0x3bd)+this[_0xaf2be0(0x58b)][_0xaf2be0(0x486)]['creds']?.[_0xaf2be0(0x4fb)]),this[_0xaf2be0(0x58b)][_0xaf2be0(0x486)][_0xaf2be0(0x401)]?.['myAppStateKeyId']||(this[_0xaf2be0(0x470)]['warn'](this['instanceName']+'\x20('+this['instance'][_0xaf2be0(0x6d8)]+_0xaf2be0(0x52c)),this[_0xaf2be0(0x58b)]['ev'][_0xaf2be0(0x40d)]()),this[_0xaf2be0(0x6d2)],this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)]=this[_0xaf2be0(0x58b)][_0xaf2be0(0x6d3)]['id'][_0xaf2be0(0x19d)](/:\d+/,'')[_0xaf2be0(0x19d)](_0xaf2be0(0x46f),''),this['instance'][_0xaf2be0(0x247)]=(await this[_0xaf2be0(0x38b)](this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)]+_0xaf2be0(0x46f)))[_0xaf2be0(0x247)],this['repository']['auth'][_0xaf2be0(0x14b)]({'online':!0x0,'owner':this[_0xaf2be0(0x670)][_0xaf2be0(0x6d8)],'lastDisconnect':null},this['instance']['name']);let _0x424ce9=_0xaf2be0(0x1a5)+this[_0xaf2be0(0x670)]['wuid'],_0x2e9216=0x28,_0x15fa39=Math[_0xaf2be0(0x183)]((_0x2e9216-_0x424ce9[_0xaf2be0(0x54d)])/0x2),_0x3fe86c='\x20'[_0xaf2be0(0x3ef)](_0x15fa39),_0xe5036d=_0xaf2be0(0x720),_0x341798=_0xaf2be0(0x596)+this[_0xaf2be0(0x670)]['name'],_0xbeabc5=(''+_0x3fe86c+_0x424ce9+_0x3fe86c)[_0xaf2be0(0x7a1)](_0x2e9216,'\x20'),_0x4455c6=(''+_0x3fe86c+_0xe5036d+_0x3fe86c)[_0xaf2be0(0x7a1)](_0x2e9216,'\x20'),_0x4ee25e=(''+_0x3fe86c+_0x341798+_0x3fe86c)[_0xaf2be0(0x7a1)](_0x2e9216,'\x20'),_0x5a7464=Math['max'](_0xbeabc5[_0xaf2be0(0x54d)],_0x4455c6[_0xaf2be0(0x54d)],_0x4ee25e[_0xaf2be0(0x54d)]),_0x123538=_0xbeabc5[_0xaf2be0(0x7a1)](_0x5a7464,'\x20'),_0x123d65=_0x4455c6['padEnd'](_0x5a7464,'\x20'),_0x49affd=_0x4ee25e[_0xaf2be0(0x7a1)](_0x5a7464,'\x20');this[_0xaf2be0(0x470)][_0xaf2be0(0x202)]((_0xaf2be0(0x328)+''['repeat'](_0x5a7464)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x123d65+_0xaf2be0(0x14e)+_0x49affd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x123538+_0xaf2be0(0x7e5)+''[_0xaf2be0(0x3ef)](_0x5a7464)+'')[_0xaf2be0(0x19d)](/^ +/gm,'\x20\x20')),this[_0xaf2be0(0x4ca)](),this[_0xaf2be0(0x670)]['ScheduleMessage'][_0xaf2be0(0x663)]=!0x0;}}[a0_0x2ec1ea(0x6d2)](){const _0x1cfb0b=a0_0x2ec1ea;this[_0x1cfb0b(0x2b1)]=0x0,this[_0x1cfb0b(0x375)]=[];}async[a0_0x2ec1ea(0x75f)](_0x1e44d7,_0x751e79=!0x1){const _0x34dc29=a0_0x2ec1ea;try{let _0x128081=await this[_0x34dc29(0x1f6)][_0x34dc29(0x653)][_0x34dc29(0x3f1)]({'where':{'_id':_0x1e44d7['id']}},this['instance']['wuid']);return _0x751e79?_0x128081[0x0]:_0x128081[0x0][_0x34dc29(0x653)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x4f617a=a0_0x2ec1ea;let _0x1d12e1=this['configService'][_0x4f617a(0x63f)](_0x4f617a(0x6e3)),_0x54fc47=this['configService'][_0x4f617a(0x63f)](_0x4f617a(0x2c4));_0x1d12e1?.[_0x4f617a(0x35e)]&&!_0x54fc47['ENABLED']&&setInterval(()=>{const _0x2d4ec3=_0x4f617a;try{for(let [_0x1a9d5f,_0x548fcf]of Object[_0x2d4ec3(0x7bc)](_0x1d12e1))_0x548fcf===!0x0&&(0x0,Fe[_0x2d4ec3(0x714)])(_0x2d4ec3(0x587)+(0x0,j[_0x2d4ec3(0x2ed)])(this['storePath'],_0x1a9d5f[_0x2d4ec3(0x3b6)](),this['instance'][_0x2d4ec3(0x6d8)])+_0x2d4ec3(0x25c));}catch{}},(_0x1d12e1?.[_0x4f617a(0x35e)]??0xe10)*0x3e8);}async[a0_0x2ec1ea(0x2cf)](){const _0x31dc7f=a0_0x2ec1ea;let _0x52fc27=this[_0x31dc7f(0x426)][_0x31dc7f(0x63f)]('DATABASE'),_0x23d4c9=this['configService'][_0x31dc7f(0x63f)](_0x31dc7f(0x356));return _0x23d4c9?.[_0x31dc7f(0x4d5)]?await _s(_0x23d4c9,this[_0x31dc7f(0x670)][_0x31dc7f(0x582)]):_0x52fc27[_0x31dc7f(0x4d5)]?await Os(this[_0x31dc7f(0x670)][_0x31dc7f(0x582)]):await(0x0,w[_0x31dc7f(0x7b8)])((0x0,j[_0x31dc7f(0x2ed)])(Se,this['instance'][_0x31dc7f(0x582)]));}async[a0_0x2ec1ea(0x4ca)](){const _0x15913e=a0_0x2ec1ea;let _0x3ddf7d=()=>Math['floor'](Math[_0x15913e(0x1af)]()*0x4e21)+0x7d0,_0x5e7b90=async()=>{const _0x218eb3=_0x15913e;if(!this['instance'][_0x218eb3(0x26f)][_0x218eb3(0x663)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x218eb3(0x670)]['wuid']+_0x218eb3(0x29a)),this[_0x218eb3(0x366)]=!0x1;return;}if(this[_0x218eb3(0x670)][_0x218eb3(0x6d8)]&&this[_0x218eb3(0x3a1)]&&this[_0x218eb3(0x670)]['ScheduleMessage'][_0x218eb3(0x23f)]!==null&&this[_0x218eb3(0x670)][_0x218eb3(0x26f)][_0x218eb3(0x23f)]!==void 0x0){let _0x5a680c=Math[_0x218eb3(0x614)](this[_0x218eb3(0x670)][_0x218eb3(0x26f)][_0x218eb3(0x23f)]/0xea60);this['logger'][_0x218eb3(0x28b)](this[_0x218eb3(0x52d)]+'\x20('+this[_0x218eb3(0x670)][_0x218eb3(0x6d8)]+_0x218eb3(0x30c)+_0x5a680c+'\x20minutos\x20verificar\x20novas\x20mensagens'),this[_0x218eb3(0x366)]=!0x1;return;}else this[_0x218eb3(0x670)][_0x218eb3(0x6d8)]&&(this[_0x218eb3(0x470)][_0x218eb3(0x28b)](this[_0x218eb3(0x52d)]+'\x20('+this[_0x218eb3(0x670)][_0x218eb3(0x6d8)]+_0x218eb3(0x34d)),this[_0x218eb3(0x3a1)]||(await this[_0x218eb3(0x319)](),this['findRealGroups'](),this[_0x218eb3(0x726)]()),(this[_0x218eb3(0x670)]['ScheduleMessage']['delayMessage']===null||this[_0x218eb3(0x670)][_0x218eb3(0x26f)][_0x218eb3(0x23f)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x218eb3(0x366)]){let _0x5e4f75=_0x3ddf7d();this['logger'][_0x218eb3(0x28b)](this[_0x218eb3(0x52d)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x5e4f75/0x3e8+_0x218eb3(0x55d)),setTimeout(_0x5e7b90,_0x5e4f75);}};if(this[_0x15913e(0x366)])return;this[_0x15913e(0x366)]=!0x0;let _0x26e7a0=_0x3ddf7d();setTimeout(_0x5e7b90,_0x26e7a0);}async[a0_0x2ec1ea(0x726)](){const _0x1512b8=a0_0x2ec1ea;let _0x19a789=this['instance']['wuid'];try{let _0x289d56=await this[_0x1512b8(0x1f6)][_0x1512b8(0x429)]['findAll']({'where':{'$or':[{'owner':_0x19a789},{'whoCanUse':{'$in':[_0x19a789]}},{'shareOwners':{'$in':[_0x19a789]}}]}}),_0x15463d=new Map(this[_0x1512b8(0x3a1)][_0x1512b8(0x6c1)][_0x1512b8(0x3ac)](_0x3b22a9=>[_0x3b22a9[_0x1512b8(0x6b1)],_0x3b22a9])),_0x1c7178=_0x289d56['map'](_0x4e6e34=>{const _0x58c77b=_0x1512b8;let _0x290a36=_0x15463d[_0x58c77b(0x63f)](_0x4e6e34['_id']?.[_0x58c77b(0x4e0)]());return{'_id':_0x4e6e34[_0x58c77b(0x6b1)]?.[_0x58c77b(0x4e0)](),'name':_0x290a36?.['name']??_0x4e6e34[_0x58c77b(0x582)],'default':_0x290a36?.[_0x58c77b(0x4d4)]??_0x4e6e34[_0x58c77b(0x4d4)]??!0x1,'startCommand':_0x290a36?.[_0x58c77b(0x694)]??_0x4e6e34[_0x58c77b(0x1ce)],'minutesToClose':_0x290a36?.[_0x58c77b(0x5f2)]??_0x4e6e34[_0x58c77b(0x5f2)]??0xa,'readMessages':_0x290a36?.['readMessages']??_0x4e6e34[_0x58c77b(0x3e7)]??!0x1,'testingWith':_0x290a36?.[_0x58c77b(0x57f)]??_0x4e6e34[_0x58c77b(0x57f)],'canEdit':_0x4e6e34[_0x58c77b(0x4dd)]===_0x19a789||(_0x4e6e34[_0x58c77b(0x584)]??[])[_0x58c77b(0x7de)](_0x19a789),'usersCount':(_0x4e6e34[_0x58c77b(0xdc)]??[])[_0x58c77b(0x54d)]??0x0};}),_0x990270=!0x1;_0x1c7178['forEach'](_0x4fbe1d=>{const _0x11b2b2=_0x1512b8;_0x4fbe1d[_0x11b2b2(0x4d4)]&&(_0x990270?_0x4fbe1d[_0x11b2b2(0x4d4)]=!0x1:_0x990270=!0x0);}),this[_0x1512b8(0x3a1)]['flows']=_0x1c7178;let _0xabbcb7={'flows':_0x1c7178};return await this[_0x1512b8(0x1f6)]['automateSystem'][_0x1512b8(0x4d2)](_0xabbcb7,_0x19a789),this['logger'][_0x1512b8(0x28b)](this[_0x1512b8(0x52d)]+'\x20('+_0x19a789+_0x1512b8(0x7ae)),_0x1c7178[_0x1512b8(0x54d)];}catch(_0x42bf73){return this['logger'][_0x1512b8(0x3cc)](this[_0x1512b8(0x52d)]+'\x20('+_0x19a789+_0x1512b8(0x700)+(_0x42bf73 instanceof Error?_0x42bf73['message']:JSON[_0x1512b8(0x46a)](_0x42bf73,null,0x2))),{'message':_0x1512b8(0x242)+(_0x42bf73 instanceof Error?_0x42bf73[_0x1512b8(0x653)]:JSON['stringify'](_0x42bf73,null,0x2))};}}async[a0_0x2ec1ea(0x135)](_0x59fa8a){const _0x31d7a4=a0_0x2ec1ea;try{let _0x3348a4=await this[_0x31d7a4(0x1f6)][_0x31d7a4(0x670)][_0x31d7a4(0x167)]({'where':{'_id':K+'-'+this['instanceName']}}),_0x1adc13,_0x2a7116=!oe[_0x31d7a4(0x4c2)]||!oe[_0x31d7a4(0x583)];console['log'](_0x31d7a4(0xa2)),console[_0x31d7a4(0x6d4)](_0x31d7a4(0x54a),Ti),console[_0x31d7a4(0x6d4)](_0x31d7a4(0x541),this[_0x31d7a4(0x2b1)]),console[_0x31d7a4(0x6d4)](_0x31d7a4(0xa2)),Ti&&!_0x2a7116&&(this[_0x31d7a4(0x2b1)]<0x4||!this['reconnectAttempts']?_0x3348a4&&_0x3348a4['ip']?(_0x1adc13=_0x3348a4['ip'],console[_0x31d7a4(0x6d4)](_0x31d7a4(0x5bb)+_0x1adc13)):(_0x1adc13=await oe['createIPv6'](K,this[_0x31d7a4(0x670)][_0x31d7a4(0x582)]),_0x1adc13?(console[_0x31d7a4(0x6d4)](_0x31d7a4(0x547)+_0x1adc13),await(0x0,w[_0x31d7a4(0x3e6)])(0x7d0)):console['error'](_0x31d7a4(0x33f))):this['reconnectAttempts']<0x6&&(await oe[_0x31d7a4(0x397)](K,this[_0x31d7a4(0x670)]['name']),console[_0x31d7a4(0x6d4)](_0x31d7a4(0x4c3)),_0x1adc13=await oe[_0x31d7a4(0x399)](K,this[_0x31d7a4(0x670)][_0x31d7a4(0x582)]),_0x1adc13?(console[_0x31d7a4(0x6d4)](_0x31d7a4(0x547)+_0x1adc13),await(0x0,w[_0x31d7a4(0x3e6)])(0x7d0)):console['error']('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x31d7a4(0x4dc)](),this[_0x31d7a4(0x670)][_0x31d7a4(0x60d)]=(await this[_0x31d7a4(0x1f6)][_0x31d7a4(0x39c)][_0x31d7a4(0x3f1)](this[_0x31d7a4(0x670)][_0x31d7a4(0x582)]))[_0x31d7a4(0x60d)],this[_0x31d7a4(0x670)][_0x31d7a4(0x486)]=await this[_0x31d7a4(0x2cf)]();let {version:_0x4a4c42}=await(0x0,w[_0x31d7a4(0x59d)])(),_0x10191f=[Pi,Fs,(0x0,Ps[_0x31d7a4(0x532)])()],_0x45f5c1={'localAddress':_0x1adc13,'auth':{'creds':this[_0x31d7a4(0x670)]['authState']['state'][_0x31d7a4(0x401)],'keys':(0x0,w[_0x31d7a4(0x5ec)])(this['instance'][_0x31d7a4(0x486)]['state']['keys'],(0x0,Jt[_0x31d7a4(0x4d4)])({'level':_0x31d7a4(0x3cc)}))},'logger':(0x0,Jt[_0x31d7a4(0x4d4)])({'level':_0x31d7a4(0x3cc)}),'printQRInTerminal':!0x1,'browser':_0x59fa8a?['Mac\x20OS',Fs,(0x0,Ps[_0x31d7a4(0x532)])()]:_0x10191f,'version':_0x4a4c42,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x27c83a=>{const _0x45944f=_0x31d7a4;let _0x58d7d8=this[_0x45944f(0x27b)]?.[_0x45944f(0x572)]&&(0x0,w[_0x45944f(0x298)])(_0x27c83a);return(0x0,w['isJidBroadcast'])(_0x27c83a)||_0x58d7d8;},'msgRetryCounterCache':this[_0x31d7a4(0x23b)],'getMessage':async _0x370ec8=>await this[_0x31d7a4(0x75f)](_0x370ec8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x31d7a4(0x34a)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x1e136a){const _0x1a82e0=_0x31d7a4;return _0x1e136a[_0x1a82e0(0x6d0)]?.[_0x1a82e0(0x653)]?.[_0x1a82e0(0x196)]?.[_0x1a82e0(0x5fd)]===w[_0x1a82e0(0xe2)]['Message'][_0x1a82e0(0x557)][_0x1a82e0(0x46d)]['PRODUCT_LIST']&&(_0x1e136a=JSON[_0x1a82e0(0x59b)](JSON['stringify'](_0x1e136a)),_0x1e136a[_0x1a82e0(0x6d0)]['message'][_0x1a82e0(0x196)]['listType']=w[_0x1a82e0(0xe2)][_0x1a82e0(0x15f)][_0x1a82e0(0x557)][_0x1a82e0(0x46d)][_0x1a82e0(0x7e7)]),_0x1e136a[_0x1a82e0(0x196)]?.['listType']==w['proto'][_0x1a82e0(0x15f)][_0x1a82e0(0x557)][_0x1a82e0(0x46d)]['PRODUCT_LIST']&&(_0x1e136a=JSON[_0x1a82e0(0x59b)](JSON[_0x1a82e0(0x46a)](_0x1e136a)),_0x1e136a[_0x1a82e0(0x196)]['listType']=w['proto'][_0x1a82e0(0x15f)][_0x1a82e0(0x557)][_0x1a82e0(0x46d)][_0x1a82e0(0x7e7)]),_0x1e136a;}};return this[_0x31d7a4(0x687)]=!0x1,this[_0x31d7a4(0x58b)]=(0x0,w[_0x31d7a4(0x4d4)])(_0x45f5c1),this[_0x31d7a4(0x622)](),this[_0x31d7a4(0x476)]=_0x59fa8a,this[_0x31d7a4(0x58b)];}catch(_0x5c6463){let _0x3a2ce0=_0x31d7a4(0x27d),_0x5f2675=_0x5c6463 instanceof Error?_0x5c6463['message']:typeof _0x5c6463==_0x31d7a4(0x7d9)?JSON['stringify'](_0x5c6463):_0x5c6463,_0x35b8f6=_0x3a2ce0+':\x20'+_0x5f2675;throw this['logger'][_0x31d7a4(0x3cc)](this[_0x31d7a4(0x52d)]+'\x20('+this[_0x31d7a4(0x670)][_0x31d7a4(0x6d8)]+_0x31d7a4(0x755)+_0x35b8f6),console[_0x31d7a4(0x3cc)](_0x31d7a4(0x2de),_0x5c6463),_0x5c6463 instanceof Error&&console[_0x31d7a4(0x3cc)](_0x31d7a4(0x474),_0x5c6463[_0x31d7a4(0x24b)]),new x(_0x35b8f6);}}[a0_0x2ec1ea(0x622)](){const _0x5b7b64=a0_0x2ec1ea;this[_0x5b7b64(0x58b)]['ev'][_0x5b7b64(0x38d)](_0x3e4e92=>{const _0x5f2d7c=_0x5b7b64;if(!this[_0x5f2d7c(0x687)]){let _0x392de8=this[_0x5f2d7c(0x426)][_0x5f2d7c(0x63f)](_0x5f2d7c(0x2c4));if(_0x3e4e92[_0x5f2d7c(0x270)]){let _0x3d059e=_0x3e4e92[_0x5f2d7c(0x270)];this[_0x5f2d7c(0x2b9)][_0x5f2d7c(0x270)](_0x3d059e);}if(_0x3e4e92[_0x5f2d7c(0x437)]){let _0x46be26=_0x3e4e92[_0x5f2d7c(0x437)];this[_0x5f2d7c(0x2b9)]['labels.association'](_0x46be26);}if(_0x3e4e92['connection.update']&&this[_0x5f2d7c(0x6f2)](_0x3e4e92[_0x5f2d7c(0x5f8)]),_0x3e4e92['creds.update']&&this[_0x5f2d7c(0x670)][_0x5f2d7c(0x486)][_0x5f2d7c(0x4b4)](),_0x3e4e92['messaging-history.set']){let _0x12df65=_0x3e4e92[_0x5f2d7c(0x7b5)];this[_0x5f2d7c(0x2b9)][_0x5f2d7c(0x7b5)](_0x12df65,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x792)]){let _0xef0c31=_0x3e4e92['messages.upsert'];this[_0x5f2d7c(0x2b9)]['messages.upsert'](_0xef0c31,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x330)]){let _0x49644d=_0x3e4e92[_0x5f2d7c(0x330)];this['messageHandle'][_0x5f2d7c(0x330)](_0x49644d,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x6ac)]){let _0x1ad48d=_0x3e4e92[_0x5f2d7c(0x6ac)];if(this['localWebhook']?.[_0x5f2d7c(0x572)]&&_0x1ad48d['id'][_0x5f2d7c(0x7de)](_0x5f2d7c(0x6f3)))return;this[_0x5f2d7c(0x5de)](_0x5f2d7c(0x6ac),_0x1ad48d);}if(_0x3e4e92[_0x5f2d7c(0x2d9)]){let _0x5a7094=_0x3e4e92[_0x5f2d7c(0x2d9)];this[_0x5f2d7c(0x129)]['groups.upsert'](_0x5a7094);}if(_0x3e4e92['groups.update']){let _0x5647e4=_0x3e4e92[_0x5f2d7c(0x1e4)];this[_0x5f2d7c(0x129)]['groups.update'](_0x5647e4);}if(_0x3e4e92[_0x5f2d7c(0xe1)]){let _0x1efece=_0x3e4e92[_0x5f2d7c(0xe1)];this[_0x5f2d7c(0x129)][_0x5f2d7c(0xe1)](_0x1efece);}if(_0x3e4e92['chats.upsert']){let _0x1b0a70=_0x3e4e92[_0x5f2d7c(0x1b4)];this[_0x5f2d7c(0x2aa)][_0x5f2d7c(0x1b4)](_0x1b0a70,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x169)]){let _0x49dd55=_0x3e4e92['chats.update'];this['chatHandle'][_0x5f2d7c(0x169)](_0x49dd55,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x526)]){let _0x2cb38e=_0x3e4e92[_0x5f2d7c(0x526)];this[_0x5f2d7c(0x2aa)]['chats.delete'](_0x2cb38e);}if(_0x3e4e92[_0x5f2d7c(0x275)]){let _0x283284=_0x3e4e92[_0x5f2d7c(0x275)];this[_0x5f2d7c(0x120)][_0x5f2d7c(0x275)](_0x283284,_0x392de8);}if(_0x3e4e92[_0x5f2d7c(0x7e4)]){let _0x1ffc7b=_0x3e4e92[_0x5f2d7c(0x7e4)];this[_0x5f2d7c(0x120)][_0x5f2d7c(0x7e4)](_0x1ffc7b,_0x392de8);}}});}async[a0_0x2ec1ea(0x1de)](_0x234831,_0xfd9315){const _0x185b7c=a0_0x2ec1ea;if(_0xfd9315>=0xa){console[_0x185b7c(0x3cc)](this[_0x185b7c(0x52d)]+'\x20('+this['instance'][_0x185b7c(0x6d8)]+'):\x20[RETRY]:\x20Mximo\x20de\x20tentativas\x20alcanado,\x20desistindo\x20de\x20recuperar'),delete jt[_0x234831['key']['id']];return;}try{console[_0x185b7c(0x3cc)](this[_0x185b7c(0x52d)]+'\x20('+this[_0x185b7c(0x670)][_0x185b7c(0x6d8)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0xfd9315+0x1)),await this[_0x185b7c(0x58b)][_0x185b7c(0x24a)](JSON[_0x185b7c(0x59b)](_0x234831['messageStubParameters'][0x1],w[_0x185b7c(0x2c2)]['reviver'])),console['error'](_0x185b7c(0x18f));}catch(_0x4cb7ce){console[_0x185b7c(0x3cc)](this['instanceName']+'\x20('+this[_0x185b7c(0x670)][_0x185b7c(0x6d8)]+_0x185b7c(0x460)+_0x4cb7ce),setTimeout(()=>this['retrySendMessage'](_0x234831,_0xfd9315+0x1),Math[_0x185b7c(0x3f8)](0x2,_0xfd9315)*0x3e8);}}[a0_0x2ec1ea(0x302)](_0x4e0654){return new Promise(_0x5075bf=>setTimeout(_0x5075bf,_0x4e0654));}[a0_0x2ec1ea(0x5c3)](_0x51cbec){const _0xfc0b08=a0_0x2ec1ea;_0x51cbec=_0x51cbec['replace'](/\D/g,'');let _0x5cbd12=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xfc0b08(0x11f)](_0x51cbec);if(_0x5cbd12&&_0x5cbd12[0x1]==='55'){let _0x1110aa=_0x5cbd12[0x2],_0x3a0e2a=_0x5cbd12[0x3],_0x35fa31=_0x5cbd12[0x4];if(parseInt(_0x1110aa)>=0x1f&&_0x3a0e2a==='9')return _0x5cbd12[0x1]+_0x1110aa+_0x35fa31;}return _0x51cbec;}[a0_0x2ec1ea(0x673)](_0x427e88){const _0x13969b=a0_0x2ec1ea;return _0x427e88[_0x13969b(0x7de)]('@g.us')||_0x427e88[_0x13969b(0x7de)](_0x13969b(0x46f))||_0x427e88['includes'](_0x13969b(0x26a))?_0x427e88:(_0x427e88=_0x427e88?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x13969b(0x19d)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x13969b(0x1e1)]('@')[0x0],_0x427e88['length']>=0x12?(_0x427e88=_0x427e88[_0x13969b(0x19d)](/[^\d-]/g,''),_0x427e88+_0x13969b(0x6f3)):(_0x427e88=_0x427e88[_0x13969b(0x19d)](/\D/g,''),_0x427e88+_0x13969b(0x46f)));}async[a0_0x2ec1ea(0x1a6)](_0x3e5843){const _0x43a039=a0_0x2ec1ea;let _0x16896a=(await this[_0x43a039(0x382)]({'numbers':[_0x3e5843[_0x43a039(0x2fa)]]}))[0x0];if(!_0x16896a['exists']&&!(0x0,w[_0x43a039(0x298)])(_0x16896a['jid'])&&!_0x16896a['jid'][_0x43a039(0x7de)]('@broadcast'))throw new m(_0x16896a);let _0x4fa6dd=_0x16896a[_0x43a039(0x279)];try{return await this[_0x43a039(0x58b)]['presenceSubscribe'](_0x4fa6dd),await this['client'][_0x43a039(0x750)](_0x3e5843[_0x43a039(0x36b)],_0x4fa6dd),{'status':0xc8,'presence':_0x3e5843['presence']};}catch(_0x1c5ec1){let _0x228735=_0x43a039(0x1d5),_0x55a7fb=_0x1c5ec1 instanceof Error?_0x1c5ec1[_0x43a039(0x653)]:typeof _0x1c5ec1==_0x43a039(0x7d9)?JSON['stringify'](_0x1c5ec1):_0x1c5ec1,_0x24f85d=_0x228735+':\x20'+_0x55a7fb;throw this[_0x43a039(0x470)][_0x43a039(0x3cc)](this[_0x43a039(0x52d)]+'\x20('+this[_0x43a039(0x670)]['wuid']+'):\x20'+_0x24f85d),new m(_0x24f85d);}}async['findAndUpdateCacheContact'](_0x382919,_0x1ba8ed,_0x80b139,_0x2bbfc9=!0x0){const _0x3086ce=a0_0x2ec1ea;let _0x1be799=await this[_0x3086ce(0x1f6)][_0x3086ce(0x45d)]['findOne']({'where':{'_id':_0x382919}});if(!_0x1be799&&!_0x2bbfc9)return;let _0xb4c5b9={'lastUpdate':Date['now']()};if(_0x80b139||!_0x1be799?.['lastUpdate']||Date[_0x3086ce(0x493)]()-_0x1be799[_0x3086ce(0x543)]>0x18*0x3c*0x3c*0x3e8)try{let _0x5a587d=(await this[_0x3086ce(0x38b)](_0x382919))['profilePictureUrl'];_0xb4c5b9['pictureUrl']=_0x5a587d;}catch(_0x44c34c){let _0x199150='Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact',_0x4985df=_0x44c34c instanceof Error?_0x44c34c[_0x3086ce(0x653)]:typeof _0x44c34c==_0x3086ce(0x7d9)?JSON['stringify'](_0x44c34c):_0x44c34c,_0x3e74c1=_0x199150+':\x20'+_0x4985df;throw this[_0x3086ce(0x470)][_0x3086ce(0x3cc)](this['instanceName']+'\x20('+this[_0x3086ce(0x670)][_0x3086ce(0x6d8)]+_0x3086ce(0x755)+_0x3e74c1),new m(_0x3e74c1);}return _0x1ba8ed&&_0x1be799?.['name']!==_0x1ba8ed&&(_0xb4c5b9[_0x3086ce(0x582)]=_0x1ba8ed),Object['keys'](_0xb4c5b9)[_0x3086ce(0x54d)]>0x1&&(_0x1be799?await this[_0x3086ce(0x1f6)][_0x3086ce(0x45d)][_0x3086ce(0x4d2)]({'where':{'_id':_0x382919}},_0xb4c5b9):await this[_0x3086ce(0x1f6)]['cacheContact'][_0x3086ce(0x75b)]([{'_id':_0x382919,..._0xb4c5b9}]),_0x1be799={..._0x1be799,..._0xb4c5b9}),{'cachedContact':_0x1be799};}async[a0_0x2ec1ea(0x38b)](_0x551e93){const _0x6d91a4=a0_0x2ec1ea;let _0x56a56a=this[_0x6d91a4(0x673)](_0x551e93);try{return{'wuid':_0x56a56a,'profilePictureUrl':await this['client'][_0x6d91a4(0x247)](_0x56a56a,_0x6d91a4(0x6da))};}catch{return{'wuid':_0x56a56a,'profilePictureUrl':null};}}async[a0_0x2ec1ea(0x35f)](_0x56c224,_0xd31eea,_0x316c87){const _0x4e5ebf=a0_0x2ec1ea;let _0x503b33;try{let _0x28cbdf=(await this[_0x4e5ebf(0x382)]({'numbers':[_0x56c224]}))?.['shift']();if(!_0x28cbdf[_0x4e5ebf(0x562)]&&!(0x0,w[_0x4e5ebf(0x298)])(_0x28cbdf[_0x4e5ebf(0x279)])&&!_0x28cbdf[_0x4e5ebf(0x279)]['includes'](_0x4e5ebf(0x26a)))throw new m(_0x28cbdf);_0x503b33=_0x28cbdf[_0x4e5ebf(0x279)];}catch(_0x4004e6){_0x503b33=_0x56c224,this[_0x4e5ebf(0x470)]['warn'](this['instanceName']+'\x20('+this[_0x4e5ebf(0x670)][_0x4e5ebf(0x6d8)]+_0x4e5ebf(0x634)+_0x4004e6[_0x4e5ebf(0x653)]),this[_0x4e5ebf(0x470)][_0x4e5ebf(0x3bf)](this[_0x4e5ebf(0x52d)]+'\x20('+this['instance'][_0x4e5ebf(0x6d8)]+_0x4e5ebf(0x600)+_0x503b33);}try{if(_0x503b33||(_0x503b33=_0x56c224,this[_0x4e5ebf(0x470)][_0x4e5ebf(0x3bf)](this[_0x4e5ebf(0x52d)]+'\x20('+this['instance']['wuid']+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x503b33)),_0x316c87||(_0x316c87={}),_0x316c87?.[_0x4e5ebf(0x3e6)]){await this[_0x4e5ebf(0x58b)]['presenceSubscribe'](_0x503b33),await this[_0x4e5ebf(0x58b)][_0x4e5ebf(0x750)](_0x316c87?.[_0x4e5ebf(0x36b)]??_0x4e5ebf(0x6e5),_0x503b33);let _0x1e6939=Math[_0x4e5ebf(0x537)](_0x316c87[_0x4e5ebf(0x3e6)],0x2710);await(0x0,w['delay'])(_0x1e6939),await this[_0x4e5ebf(0x58b)][_0x4e5ebf(0x750)](_0x4e5ebf(0x2cc),_0x503b33);}let _0x442d05=_0x316c87?.[_0x4e5ebf(0x501)]!=!0x1?void 0x0:!0x1,_0x2eecf5;if(_0x316c87?.[_0x4e5ebf(0x529)]){let _0x44ec3a=_0x316c87?.[_0x4e5ebf(0x529)],_0x133daa=_0x44ec3a?.[_0x4e5ebf(0x653)]?_0x44ec3a:await this[_0x4e5ebf(0x75f)](_0x44ec3a[_0x4e5ebf(0x2e1)],!0x0);_0x133daa&&(_0x2eecf5=_0x133daa);}let _0x156520=await this[_0x4e5ebf(0x1f6)][_0x4e5ebf(0x107)]['findOne']({'where':{'_id':_0x503b33}},this[_0x4e5ebf(0x670)][_0x4e5ebf(0x6d8)]),_0x3522de,_0x2c6449=null;if((0x0,w['isJidGroup'])(_0x503b33))try{if(_0x2c6449=_0x156520[_0x4e5ebf(0x145)],!_0x2c6449)throw new J(_0x4e5ebf(0x6ff));_0x316c87?.['mentions']&&(_0x316c87[_0x4e5ebf(0x65f)]?.[_0x4e5ebf(0x592)]?_0x3522de=_0x2c6449['participants']['map'](_0x5bbcb6=>_0x5bbcb6['id']):_0x316c87['mentions']?.[_0x4e5ebf(0xf8)]?.['length']&&(_0x3522de=_0x316c87[_0x4e5ebf(0x65f)]['mentioned'][_0x4e5ebf(0x3ac)](_0x34bc69=>{const _0x55b3fc=_0x4e5ebf;let _0x3a0371=this[_0x55b3fc(0x673)](_0x34bc69);return(0x0,w[_0x55b3fc(0x298)])(_0x3a0371)?null:_0x3a0371;})));}catch{throw new J(_0x4e5ebf(0x6ff));}let _0x3b9153=await((async()=>{const _0x1349af=_0x4e5ebf;let _0xc5bf90={'quoted':_0x2eecf5,'ephemeralExpiration':_0x156520?.[_0x1349af(0x194)]??0x0};if(!_0xd31eea[_0x1349af(0x618)]&&!_0xd31eea['poll']&&!_0xd31eea[_0x1349af(0x4b1)]&&!_0xd31eea['conversation']&&_0x503b33!=='status@broadcast'&&_0xd31eea[_0x1349af(0x4de)])return await this[_0x1349af(0x58b)][_0x1349af(0x728)](_0x503b33,{'react':{'text':_0xd31eea[_0x1349af(0x4de)][_0x1349af(0x2e7)],'key':_0xd31eea[_0x1349af(0x4de)][_0x1349af(0x2e1)]}},_0xc5bf90);if(_0xd31eea[_0x1349af(0x9e)]){let _0x1ca6f3=_0xd31eea[_0x1349af(0x9e)];return _0x316c87?.[_0x1349af(0x1f2)]&&(_0x1ca6f3=await this['replaceVariablesChat'](_0x1ca6f3,_0x503b33)),await this[_0x1349af(0x58b)][_0x1349af(0x728)](_0x503b33,{'text':_0x1ca6f3,'mentions':_0x3522de,'linkPreview':_0x442d05},_0xc5bf90);}return!_0xd31eea['audio']&&!_0xd31eea[_0x1349af(0x445)]&&_0x503b33!='status@broadcast'?await this['client'][_0x1349af(0x728)](_0x503b33,{'forward':{'key':{'remoteJid':this[_0x1349af(0x670)][_0x1349af(0x6d8)],'fromMe':!0x0},'message':_0xd31eea},'mentions':_0x3522de},_0xc5bf90):_0x503b33===_0x1349af(0x778)?await this[_0x1349af(0x58b)][_0x1349af(0x728)](_0x503b33,_0xd31eea[_0x1349af(0x3fd)][_0x1349af(0x580)],{'backgroundColor':_0xd31eea[_0x1349af(0x3fd)][_0x1349af(0x3fe)][_0x1349af(0x1aa)],'font':_0xd31eea['status']['option'][_0x1349af(0x6f9)],'statusJidList':_0xd31eea[_0x1349af(0x3fd)]['option'][_0x1349af(0x5d9)]}):await this[_0x1349af(0x58b)][_0x1349af(0x728)](_0x503b33,_0xd31eea,_0xc5bf90);})()),_0x2624de=(0x0,w['normalizeMessageContent'])(_0x3b9153[_0x4e5ebf(0x653)]),_0x5440f5=(0x0,w[_0x4e5ebf(0x2c8)])(_0x2624de),{message_normalized:_0x59dd97}=this[_0x4e5ebf(0x759)](_0x2624de,_0x5440f5,null),_0x39b4a4={'_id':_0x3b9153['key']['id'],'key':_0x3b9153[_0x4e5ebf(0x2e1)],'pushName':_0x3b9153[_0x4e5ebf(0x64e)],'isGroup':_0x3b9153[_0x4e5ebf(0x2e1)]['remoteJid'][_0x4e5ebf(0x713)]('@g.us'),'profilePictureUrl':this['instance'][_0x4e5ebf(0x247)],'message':_0x2624de,'messageType':_0x5440f5,'message_normalized':{'key':_0x3b9153[_0x4e5ebf(0x2e1)],'pushName':_0x3b9153[_0x4e5ebf(0x64e)],'messageTimestamp':_0x3b9153['messageTimestamp']&&_0x3b9153[_0x4e5ebf(0x5af)][_0x4e5ebf(0x4e0)]()['length']<0xd?_0x3b9153[_0x4e5ebf(0x5af)]*0x3e8:_0x3b9153[_0x4e5ebf(0x5af)]||null,'source':(0x0,w[_0x4e5ebf(0x31d)])(_0x3b9153[_0x4e5ebf(0x2e1)]['id']),..._0x59dd97},'messageTimestamp':_0x3b9153['messageTimestamp']&&_0x3b9153['messageTimestamp']['toString']()['length']<0xd?_0x3b9153[_0x4e5ebf(0x5af)]*0x3e8:_0x3b9153[_0x4e5ebf(0x5af)]||null,'owner':this['instance'][_0x4e5ebf(0x6d8)],'source':(0x0,w[_0x4e5ebf(0x31d)])(_0x3b9153[_0x4e5ebf(0x2e1)]['id'])};return this[_0x4e5ebf(0x470)][_0x4e5ebf(0x3bf)](this[_0x4e5ebf(0x52d)]+'\x20('+this[_0x4e5ebf(0x670)][_0x4e5ebf(0x6d8)]+'):\x20enviado\x20para\x20['+_0x39b4a4[_0x4e5ebf(0x2e1)]?.[_0x4e5ebf(0x48b)][_0x4e5ebf(0x19d)]('@s.whatsapp.net','')+_0x4e5ebf(0x747)+_0x39b4a4[_0x4e5ebf(0x5e5)]+')'),_0x39b4a4['message_normalized']?.['text']&&this[_0x4e5ebf(0x470)][_0x4e5ebf(0x3bf)](_0x39b4a4[_0x4e5ebf(0x65d)]?.['text']),this['sendDataWebhook']('send.message',_0x39b4a4),q(this[_0x4e5ebf(0x52d)],'messages',{'message':_0x39b4a4}),this[_0x4e5ebf(0x662)](this[_0x4e5ebf(0x426)]['get'](_0x4e5ebf(0x2c4)),_0x39b4a4,_0x4e5ebf(0x37b),_0x156520),await this[_0x4e5ebf(0x1f6)][_0x4e5ebf(0x653)][_0x4e5ebf(0x75b)]([_0x39b4a4],this[_0x4e5ebf(0x670)]['wuid']),_0x3b9153;}catch(_0x5b773a){let _0x2352d0=_0x4e5ebf(0x3c8)+_0x503b33,_0x3e16f1=_0x5b773a instanceof Error?_0x5b773a[_0x4e5ebf(0x653)]:typeof _0x5b773a==_0x4e5ebf(0x7d9)?JSON[_0x4e5ebf(0x46a)](_0x5b773a):_0x5b773a,_0x3900dc=_0x2352d0+':\x20'+_0x3e16f1;throw this[_0x4e5ebf(0x470)]['error'](this[_0x4e5ebf(0x52d)]+'\x20('+this[_0x4e5ebf(0x670)]['wuid']+_0x4e5ebf(0x755)+_0x3900dc),new m(_0x3900dc);}}get[a0_0x2ec1ea(0x288)](){const _0x1d5182=a0_0x2ec1ea;return this[_0x1d5182(0x47c)];}async[a0_0x2ec1ea(0x4f3)](_0x1e0a83){const _0x54a21b=a0_0x2ec1ea;return await this['sendMessageWithTyping'](_0x1e0a83[_0x54a21b(0x2fa)],{'conversation':_0x1e0a83[_0x54a21b(0x4f3)][_0x54a21b(0x2e7)]},_0x1e0a83?.[_0x54a21b(0x499)]);}async[a0_0x2ec1ea(0x264)](_0x901649){const _0x29ecc9=a0_0x2ec1ea;if(!_0x901649[_0x29ecc9(0x6e6)])throw new m(_0x29ecc9(0x7c7));if(!_0x901649[_0x29ecc9(0x580)])throw new m(_0x29ecc9(0x4da));if(_0x901649[_0x29ecc9(0xa8)]){let _0x31adf3=await this[_0x29ecc9(0x1f6)][_0x29ecc9(0x11a)][_0x29ecc9(0x3f1)]({'where':{}},this[_0x29ecc9(0x670)][_0x29ecc9(0x6d8)]);if(!_0x31adf3[_0x29ecc9(0x54d)])throw new m(_0x29ecc9(0x6bb));_0x901649[_0x29ecc9(0x5d9)]=_0x31adf3[_0x29ecc9(0x666)](_0x200b44=>_0x200b44['pushName'])[_0x29ecc9(0x3ac)](_0x4b78ba=>_0x4b78ba[_0x29ecc9(0x6b1)]);}if(!_0x901649[_0x29ecc9(0x5d9)]?.['length']&&!_0x901649['allContacts'])throw new m(_0x29ecc9(0x42a));if(_0x901649['type']==='text'){if(!_0x901649[_0x29ecc9(0x1aa)])throw new m(_0x29ecc9(0x7d0));if(!_0x901649[_0x29ecc9(0x6f9)])throw new m(_0x29ecc9(0x3f6));return{'content':{'text':_0x901649['content']},'option':{'backgroundColor':_0x901649[_0x29ecc9(0x1aa)],'font':_0x901649['font'],'statusJidList':_0x901649[_0x29ecc9(0x5d9)]}};}if(_0x901649[_0x29ecc9(0x6e6)]===_0x29ecc9(0x6da))return{'content':{'image':{'url':_0x901649[_0x29ecc9(0x580)]},'caption':_0x901649[_0x29ecc9(0x71b)]},'option':{'statusJidList':_0x901649[_0x29ecc9(0x5d9)]}};if(_0x901649[_0x29ecc9(0x6e6)]===_0x29ecc9(0x17e))return{'content':{'video':{'url':_0x901649[_0x29ecc9(0x580)]},'caption':_0x901649[_0x29ecc9(0x71b)]},'option':{'statusJidList':_0x901649[_0x29ecc9(0x5d9)]}};if(_0x901649['type']===_0x29ecc9(0x618)){this[_0x29ecc9(0x470)][_0x29ecc9(0x28b)](this[_0x29ecc9(0x52d)]+'\x20('+this[_0x29ecc9(0x670)][_0x29ecc9(0x6d8)]+_0x29ecc9(0x255)),this['logger'][_0x29ecc9(0x28b)](this[_0x29ecc9(0x52d)]+'\x20('+this[_0x29ecc9(0x670)]['wuid']+_0x29ecc9(0x686));let _0x383cd2=await this[_0x29ecc9(0x40c)](_0x901649[_0x29ecc9(0x580)]);if(typeof _0x383cd2==_0x29ecc9(0x2a7)){this[_0x29ecc9(0x470)]['verbose'](this[_0x29ecc9(0x52d)]+'\x20('+this['instance'][_0x29ecc9(0x6d8)]+_0x29ecc9(0x79a));let _0xffbd14=L['readFileSync'](_0x383cd2)[_0x29ecc9(0x4e0)](_0x29ecc9(0x3ae));return{'content':{'audio':Buffer['from'](_0xffbd14,_0x29ecc9(0x3ae)),'ptt':!0x0,'mimetype':_0x29ecc9(0x696)},'option':{'statusJidList':_0x901649[_0x29ecc9(0x5d9)]}};}else throw new x(_0x383cd2);}throw new m(_0x29ecc9(0x467));}async[a0_0x2ec1ea(0x56e)](_0x19b3ec){const _0x56f2b6=a0_0x2ec1ea;return await this[_0x56f2b6(0x35f)](_0x56f2b6(0x778),{'status':await this['formatStatusMessage'](_0x19b3ec[_0x56f2b6(0x56e)])});}async['prepareMediaMessage'](_0x7941b9){const _0x14721b=a0_0x2ec1ea;try{let _0x42a2d9=await(0x0,w[_0x14721b(0x6cd)])({[_0x7941b9[_0x14721b(0x176)]]:(0x0,k[_0x14721b(0x7e6)])(_0x7941b9['media'])?{'url':_0x7941b9[_0x14721b(0x3e1)]}:Buffer['from'](_0x7941b9[_0x14721b(0x3e1)],'base64')},{'upload':this['client'][_0x14721b(0x505)]}),_0x45e6da=_0x7941b9[_0x14721b(0x176)]+_0x14721b(0x15f);if(_0x7941b9['mediatype']===_0x14721b(0x72f)&&!_0x7941b9[_0x14721b(0x51b)]){let _0x213fce=new RegExp(/.*\/(.+?)\./)[_0x14721b(0x11f)](_0x7941b9[_0x14721b(0x3e1)]);_0x7941b9[_0x14721b(0x51b)]=_0x213fce?_0x213fce[0x1]:null;}let _0xf6d382;return(0x0,k[_0x14721b(0x7e6)])(_0x7941b9[_0x14721b(0x3e1)])?_0xf6d382=(await Z[_0x14721b(0x4d4)][_0x14721b(0x63f)](_0x7941b9[_0x14721b(0x3e1)],{'responseType':'arraybuffer'}))[_0x14721b(0x2bd)][_0x14721b(0xaf)]:_0xf6d382=(0x0,Di[_0x14721b(0x34e)])(_0x7941b9['fileName']),_0x42a2d9[_0x45e6da][_0x14721b(0x71b)]=_0x7941b9?.[_0x14721b(0x71b)],_0x42a2d9[_0x45e6da][_0x14721b(0x2db)]=_0xf6d382,_0x42a2d9[_0x45e6da][_0x14721b(0x51b)]=_0x7941b9[_0x14721b(0x51b)],_0x7941b9[_0x14721b(0x176)]==='video'&&(_0x42a2d9[_0x45e6da][_0x14721b(0x461)]=Uint8Array[_0x14721b(0x2eb)]((0x0,Le[_0x14721b(0x565)])((0x0,j[_0x14721b(0x2ed)])(process[_0x14721b(0x1f5)](),_0x14721b(0x652)))),_0x42a2d9[_0x45e6da][_0x14721b(0x684)]=!0x1),(0x0,w[_0x14721b(0x5ab)])('',{[_0x45e6da]:{..._0x42a2d9[_0x45e6da]}},{'userJid':this[_0x14721b(0x670)][_0x14721b(0x6d8)]});}catch(_0x38a96d){let _0x5c6a5e=_0x14721b(0x212),_0x226f16=_0x38a96d instanceof Error?_0x38a96d[_0x14721b(0x653)]:typeof _0x38a96d==_0x14721b(0x7d9)?JSON[_0x14721b(0x46a)](_0x38a96d):_0x38a96d,_0x2051c1=_0x5c6a5e+':\x20'+_0x226f16;throw this['logger'][_0x14721b(0x3cc)](this[_0x14721b(0x52d)]+'\x20('+this[_0x14721b(0x670)]['wuid']+_0x14721b(0x755)+_0x2051c1),new x(_0x2051c1);}}async[a0_0x2ec1ea(0x187)](_0x3ba447){const _0x3a7624=a0_0x2ec1ea;let _0x22ac5f=await this['prepareMediaMessage'](_0x3ba447['mediaMessage']);return await this[_0x3a7624(0x35f)](_0x3ba447[_0x3a7624(0x2fa)],{..._0x22ac5f[_0x3a7624(0x653)]},_0x3ba447?.[_0x3a7624(0x499)]);}async['convertToWebP'](_0x4e1cf9,_0x53ce99){const _0x2d13f4=a0_0x2ec1ea;try{this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)]['wuid']+_0x2d13f4(0x11e));let _0x34574a,_0x55c2c3=_0x53ce99+'-'+new Date()['getTime']();this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0x607)+_0x55c2c3);let _0xd17ed1=''+(0x0,j[_0x2d13f4(0x2ed)])(this['storePath'],_0x55c2c3+_0x2d13f4(0x570));if(this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0x559)+_0xd17ed1),(0x0,k['isBase64'])(_0x4e1cf9)){this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+'):Image\x20is\x20base64');let _0x292a3c=_0x4e1cf9[_0x2d13f4(0x19d)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5ed7e3=Buffer[_0x2d13f4(0x2eb)](_0x292a3c,'base64');_0x34574a=''+(0x0,j[_0x2d13f4(0x2ed)])(this['storePath'],'temp-'+_0x55c2c3+_0x2d13f4(0x100)),this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0xb5)+_0x34574a),await(0x0,qt[_0x2d13f4(0x4d4)])(_0x5ed7e3)['toFile'](_0x34574a),this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0x601));}else{this['logger'][_0x2d13f4(0x28b)](this['instanceName']+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0x502));let _0x580ed1=new Date()['getTime'](),_0x27d11f=_0x4e1cf9+_0x2d13f4(0x5da)+_0x580ed1;this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0x166)+_0x27d11f);let _0x493f13=await Z[_0x2d13f4(0x4d4)][_0x2d13f4(0x63f)](_0x27d11f,{'responseType':_0x2d13f4(0x695)});this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this[_0x2d13f4(0x52d)]+'\x20('+this['instance']['wuid']+_0x2d13f4(0xb4));let _0x381353=Buffer['from'](_0x493f13[_0x2d13f4(0x6c8)],'binary');_0x34574a=''+(0x0,j[_0x2d13f4(0x2ed)])(this[_0x2d13f4(0x41c)],'temp-'+_0x55c2c3+'.png'),this[_0x2d13f4(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+_0x2d13f4(0xb5)+_0x34574a),await(0x0,qt[_0x2d13f4(0x4d4)])(_0x381353)[_0x2d13f4(0x43f)](_0x34574a),this[_0x2d13f4(0x470)][_0x2d13f4(0x28b)](this['instanceName']+'\x20('+this[_0x2d13f4(0x670)]['wuid']+_0x2d13f4(0x601));}return await(0x0,qt[_0x2d13f4(0x4d4)])(_0x34574a)[_0x2d13f4(0x2a3)]()[_0x2d13f4(0x43f)](_0xd17ed1),this[_0x2d13f4(0x470)]['verbose'](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+'):Image\x20converted\x20to\x20WebP'),L[_0x2d13f4(0x44a)](_0x34574a),this[_0x2d13f4(0x470)]['verbose'](this[_0x2d13f4(0x52d)]+'\x20('+this[_0x2d13f4(0x670)]['wuid']+_0x2d13f4(0x60a)),_0xd17ed1;}catch(_0x13fdab){let _0x45b2f4=_0x2d13f4(0x47a),_0x57be0c=_0x13fdab instanceof Error?_0x13fdab[_0x2d13f4(0x653)]:typeof _0x13fdab=='object'?JSON[_0x2d13f4(0x46a)](_0x13fdab):_0x13fdab,_0x1bd438=_0x45b2f4+':\x20'+_0x57be0c;this[_0x2d13f4(0x470)][_0x2d13f4(0x3cc)](this['instanceName']+'\x20('+this[_0x2d13f4(0x670)][_0x2d13f4(0x6d8)]+'):\x20'+_0x1bd438);}}async[a0_0x2ec1ea(0x606)](_0x45df0b){const _0x47b10c=a0_0x2ec1ea;let _0x4813fe=await this[_0x47b10c(0x203)](_0x45df0b['stickerMessage'][_0x47b10c(0x6da)],_0x45df0b[_0x47b10c(0x2fa)]),_0x4e7a1c=await this[_0x47b10c(0x35f)](_0x45df0b[_0x47b10c(0x2fa)],{'sticker':{'url':_0x4813fe}},_0x45df0b?.[_0x47b10c(0x499)]);return L[_0x47b10c(0x44a)](_0x4813fe),this[_0x47b10c(0x470)]['verbose'](this[_0x47b10c(0x52d)]+'\x20('+this[_0x47b10c(0x670)][_0x47b10c(0x6d8)]+_0x47b10c(0x193)),_0x4e7a1c;}async[a0_0x2ec1ea(0x69d)](_0x3d9654){const _0x315197=a0_0x2ec1ea;if(this[_0x315197(0x470)]['verbose'](this[_0x315197(0x52d)]+'\x20('+this[_0x315197(0x670)]['wuid']+_0x315197(0x10f)),!_0x3d9654['options']?.['encoding']&&_0x3d9654[_0x315197(0x499)]?.[_0x315197(0x5ef)]!==!0x1&&(_0x3d9654[_0x315197(0x499)][_0x315197(0x5ef)]=!0x0),_0x3d9654[_0x315197(0x499)]?.[_0x315197(0x5ef)]){let _0x1be942=await this['convertaudio'](_0x3d9654['audioMessage']['audio']);if(typeof _0x1be942=='string'){let _0x39fd8b=L[_0x315197(0x565)](_0x1be942)[_0x315197(0x4e0)](_0x315197(0x3ae));return this[_0x315197(0x35f)](_0x3d9654[_0x315197(0x2fa)],{'audio':Buffer[_0x315197(0x2eb)](_0x39fd8b,_0x315197(0x3ae)),'ptt':!0x0,'mimetype':_0x315197(0x1e2)},{'presence':'recording','delay':_0x3d9654?.['options']?.[_0x315197(0x3e6)]});}else throw new x(_0x1be942);}return await this['sendMessageWithTyping'](_0x3d9654[_0x315197(0x2fa)],{'audio':(0x0,k[_0x315197(0x7e6)])(_0x3d9654[_0x315197(0x768)][_0x315197(0x618)])?{'url':_0x3d9654[_0x315197(0x768)]['audio']}:Buffer[_0x315197(0x2eb)](_0x3d9654[_0x315197(0x768)][_0x315197(0x618)],_0x315197(0x3ae)),'ptt':!0x0,'mimetype':_0x315197(0x1e2)},{'presence':_0x315197(0x1d3),'delay':_0x3d9654?.[_0x315197(0x499)]?.[_0x315197(0x3e6)]});}async[a0_0x2ec1ea(0x40c)](_0xb35240){const _0x2a239a=a0_0x2ec1ea;this[_0x2a239a(0x470)][_0x2a239a(0x28b)](this['instanceName']+'\x20('+this['instance'][_0x2a239a(0x6d8)]+_0x2a239a(0x686));let _0x172baa=(0x0,k[_0x2a239a(0x7e6)])(_0xb35240)?(0x0,Vt[_0x2a239a(0x5c9)])(_0x2a239a(0x236))['update'](_0xb35240)['digest'](_0x2a239a(0x309)):(0x0,Vt[_0x2a239a(0x5c9)])(_0x2a239a(0x236))[_0x2a239a(0x4d2)](_0xb35240)[_0x2a239a(0x76a)]('hex'),_0x31263e=''+(0x0,j[_0x2a239a(0x2ed)])(this[_0x2a239a(0x41c)],_0x172baa+_0x2a239a(0x1ef));if(L[_0x2a239a(0x227)](_0x31263e))return this[_0x2a239a(0x470)]['verbose'](this[_0x2a239a(0x52d)]+'\x20('+this['instance'][_0x2a239a(0x6d8)]+_0x2a239a(0x616)),_0x31263e;let _0x508fc4=''+(0x0,j[_0x2a239a(0x2ed)])(this[_0x2a239a(0x41c)],_0x2a239a(0x791)+(0x0,ee['v4'])()+_0x2a239a(0x346));if((0x0,k[_0x2a239a(0x7e6)])(_0xb35240)){let _0x5a60d2=new Date()[_0x2a239a(0x7e3)](),_0x4f788f=_0xb35240+'?timestamp='+_0x5a60d2,_0x2b48b0=await Z[_0x2a239a(0x4d4)][_0x2a239a(0x63f)](_0x4f788f,{'responseType':_0x2a239a(0x695)});L[_0x2a239a(0x345)](_0x508fc4,_0x2b48b0[_0x2a239a(0x6c8)]);}else{let _0x1ba8c=Buffer[_0x2a239a(0x2eb)](_0xb35240,_0x2a239a(0x3ae));L[_0x2a239a(0x345)](_0x508fc4,_0x1ba8c);}return new Promise((_0x5703aa,_0x18e595)=>{const _0x538cca=_0x2a239a;(0x0,Fe[_0x538cca(0x11f)])(Ds[_0x538cca(0x4d4)][_0x538cca(0x258)]+_0x538cca(0x739)+_0x508fc4+_0x538cca(0x1c8)+_0x31263e+'\x20-y',_0x389552=>{const _0x51effe=_0x538cca;if(L[_0x51effe(0x44a)](_0x508fc4),_0x389552){this['logger'][_0x51effe(0x28b)](this['instanceName']+'\x20('+this[_0x51effe(0x670)]['wuid']+_0x51effe(0x7ed)),_0x18e595(_0x389552);return;}this[_0x51effe(0x470)][_0x51effe(0x28b)](this[_0x51effe(0x52d)]+'\x20('+this[_0x51effe(0x670)][_0x51effe(0x6d8)]+_0x51effe(0x3cd)),_0x5703aa(_0x31263e);});});}async[a0_0x2ec1ea(0x434)](_0x199b37){const _0x45d5b0=a0_0x2ec1ea;this[_0x45d5b0(0x470)]['verbose'](this[_0x45d5b0(0x52d)]+'\x20('+this[_0x45d5b0(0x670)][_0x45d5b0(0x6d8)]+'):Processing\x20audio');let _0x556844=(0x0,Vt[_0x45d5b0(0x5c9)])('sha256')[_0x45d5b0(0x4d2)](_0x199b37)[_0x45d5b0(0x76a)](_0x45d5b0(0x309)),_0x2f4784=''+(0x0,j[_0x45d5b0(0x2ed)])(this['storePath'],_0x556844+_0x45d5b0(0x346));if(L[_0x45d5b0(0x227)](_0x2f4784))return this[_0x45d5b0(0x470)][_0x45d5b0(0x28b)](this[_0x45d5b0(0x52d)]+'\x20('+this[_0x45d5b0(0x670)][_0x45d5b0(0x6d8)]+_0x45d5b0(0x616)),j[_0x45d5b0(0x4d4)][_0x45d5b0(0x3c7)](_0x2f4784);let _0x41de93=''+(0x0,j[_0x45d5b0(0x2ed)])(this['storePath'],_0x45d5b0(0x791)+_0x556844+_0x45d5b0(0x1ef));if((0x0,k[_0x45d5b0(0x7e6)])(_0x199b37)){let _0x4dbf2e=new Date()[_0x45d5b0(0x7e3)](),_0x4f9388=_0x199b37+_0x45d5b0(0x5da)+_0x4dbf2e,_0x3cecb3=await Z[_0x45d5b0(0x4d4)][_0x45d5b0(0x63f)](_0x4f9388,{'responseType':_0x45d5b0(0x695)});L[_0x45d5b0(0x345)](_0x41de93,_0x3cecb3[_0x45d5b0(0x6c8)]);}else{let _0x23cbf5=Buffer[_0x45d5b0(0x2eb)](_0x199b37,_0x45d5b0(0x3ae));L[_0x45d5b0(0x345)](_0x41de93,_0x23cbf5);}return new Promise((_0x212da0,_0x247db7)=>{const _0x592be3=_0x45d5b0;(0x0,Fe[_0x592be3(0x11f)])(Ds[_0x592be3(0x4d4)]['path']+_0x592be3(0x739)+_0x41de93+_0x592be3(0x418)+_0x2f4784+_0x592be3(0x5cd),_0x1e0cd8=>{const _0x28d998=_0x592be3;if(L[_0x28d998(0x44a)](_0x41de93),_0x1e0cd8){this[_0x28d998(0x470)][_0x28d998(0x28b)](this[_0x28d998(0x52d)]+'\x20('+this[_0x28d998(0x670)][_0x28d998(0x6d8)]+_0x28d998(0x7ed)),_0x247db7(_0x1e0cd8);return;}this[_0x28d998(0x470)][_0x28d998(0x28b)](this[_0x28d998(0x52d)]+'\x20('+this[_0x28d998(0x670)][_0x28d998(0x6d8)]+_0x28d998(0x3cd)),_0x212da0(j[_0x28d998(0x4d4)][_0x28d998(0x3c7)](_0x2f4784));});});}async['buttonMessage'](_0x4d5ef9){const _0xe12e9c=a0_0x2ec1ea;let _0x442d99={},_0x4fd7da='TEXT';if(_0x4d5ef9[_0xe12e9c(0x7ef)]?.['mediaMessage']){_0x4fd7da=_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x187)]?.[_0xe12e9c(0x176)][_0xe12e9c(0x6ca)]()??'TEXT',_0x442d99[_0xe12e9c(0x23c)]=_0x4fd7da['toLowerCase']()+_0xe12e9c(0x15f);let _0x404dfd=await this['prepareMediaMessage'](_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x187)]);_0x442d99[_0xe12e9c(0x653)]=_0x404dfd[_0xe12e9c(0x653)][_0x442d99['mediaKey']],_0x442d99['contentText']='*'+_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x19e)]+'*\x0a\x0a'+_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x672)];}let _0x15eb50={'text':_0x4d5ef9[_0xe12e9c(0x7ef)]['buttons'][_0xe12e9c(0x3ac)](_0x5c8044=>_0x5c8044[_0xe12e9c(0x151)]),'ids':_0x4d5ef9['buttonMessage'][_0xe12e9c(0x610)][_0xe12e9c(0x3ac)](_0xd20cbe=>_0xd20cbe[_0xe12e9c(0x10d)])};if(!(0x0,k[_0xe12e9c(0x56a)])(_0x15eb50[_0xe12e9c(0x2e7)])||!(0x0,k[_0xe12e9c(0x56a)])(_0x15eb50['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0xe12e9c(0x1fc));return await this[_0xe12e9c(0x35f)](_0x4d5ef9[_0xe12e9c(0x2fa)],{'buttonsMessage':{'text':_0x442d99?.[_0xe12e9c(0x23c)]?void 0x0:_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x19e)],'contentText':_0x442d99?.[_0xe12e9c(0x400)]??_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x672)],'footerText':_0x4d5ef9['buttonMessage']?.[_0xe12e9c(0x39f)],'buttons':_0x4d5ef9[_0xe12e9c(0x7ef)][_0xe12e9c(0x610)][_0xe12e9c(0x3ac)](_0x5745e0=>({'buttonText':{'displayText':_0x5745e0[_0xe12e9c(0x151)]},'buttonId':_0x5745e0[_0xe12e9c(0x10d)],'type':0x1})),'headerType':w[_0xe12e9c(0xe2)][_0xe12e9c(0x15f)]['ButtonsMessage'][_0xe12e9c(0x7b1)][_0x4fd7da],[_0x442d99?.['mediaKey']]:_0x442d99?.['message']}},_0x4d5ef9?.['options']);}async[a0_0x2ec1ea(0x22a)](_0x2e4da8){const _0x2a2427=a0_0x2ec1ea;return await this[_0x2a2427(0x35f)](_0x2e4da8[_0x2a2427(0x2fa)],{'locationMessage':{'degreesLatitude':_0x2e4da8[_0x2a2427(0x22a)][_0x2a2427(0x560)],'degreesLongitude':_0x2e4da8[_0x2a2427(0x22a)]['longitude'],'name':_0x2e4da8['locationMessage']?.[_0x2a2427(0x582)],'address':_0x2e4da8[_0x2a2427(0x22a)]?.[_0x2a2427(0x316)]}},_0x2e4da8?.['options']);}async['contactMessage'](_0x3a97bb){const _0x529981=a0_0x2ec1ea;let _0x30981c={},_0x51b9b4=async _0x12407e=>{const _0xde2a95=a0_0x5390;let _0x7f335c=_0xde2a95(0x72b)+_0x12407e[_0xde2a95(0x162)]+_0xde2a95(0x12d)+_0x12407e[_0xde2a95(0x162)]+'\x0a';_0x12407e[_0xde2a95(0x1b1)]&&(_0x7f335c+=_0xde2a95(0x5bd)+_0x12407e['organization']+';\x0a'),_0x12407e[_0xde2a95(0x7a7)]&&(_0x7f335c+=_0xde2a95(0x49a)+_0x12407e[_0xde2a95(0x7a7)]+'\x0a'),_0x12407e[_0xde2a95(0x26c)]&&(_0x7f335c+=_0xde2a95(0x7a3)+_0x12407e[_0xde2a95(0x26c)]+'\x0a');let _0xf755f7='',_0x2a4aea=0x1;if(_0x12407e[_0xde2a95(0x476)]){let _0x58053d=_0x12407e[_0xde2a95(0x476)][_0xde2a95(0x1e1)]('|');for(let _0x2ab9b9 of _0x58053d){let _0x4491bc=await this['whatsappNumber']({'numbers':[_0x2ab9b9]}),_0x5f3529=(_0x4491bc[_0xde2a95(0x54d)]>0x0?_0x4491bc[0x0][_0xde2a95(0x279)]:this['createJid'](_0x2ab9b9))[_0xde2a95(0x19d)](_0xde2a95(0x46f),'');_0xf755f7+=_0xde2a95(0x69b)+_0x2a4aea+'.TEL;waid='+_0x5f3529+':'+_0x2ab9b9+_0xde2a95(0x6ba)+_0x2a4aea+_0xde2a95(0x327),_0x2a4aea++;}}return _0x7f335c+=_0xf755f7+_0xde2a95(0x6d1),_0x7f335c;};return _0x3a97bb[_0x529981(0x15d)][_0x529981(0x54d)]===0x1?_0x30981c[_0x529981(0x15d)]={'displayName':_0x3a97bb[_0x529981(0x15d)][0x0]['fullName'],'vcard':await _0x51b9b4(_0x3a97bb[_0x529981(0x15d)][0x0])}:_0x30981c['contactsArrayMessage']={'displayName':_0x3a97bb['contactMessage'][_0x529981(0x54d)]+_0x529981(0x332),'contacts':await Promise[_0x529981(0x378)](_0x3a97bb[_0x529981(0x15d)]['map'](async _0x3ffac5=>({'displayName':_0x3ffac5[_0x529981(0x162)],'vcard':await _0x51b9b4(_0x3ffac5)})))},await this[_0x529981(0x35f)](_0x3a97bb['number'],{..._0x30981c},_0x3a97bb?.[_0x529981(0x499)]);}async['reactionMessage'](_0x3a8e3f){const _0x5d5b32=a0_0x2ec1ea;return await this[_0x5d5b32(0x35f)](_0x3a8e3f[_0x5d5b32(0x4de)][_0x5d5b32(0x2e1)][_0x5d5b32(0x48b)],{'reactionMessage':{'key':_0x3a8e3f[_0x5d5b32(0x4de)][_0x5d5b32(0x2e1)],'text':_0x3a8e3f[_0x5d5b32(0x4de)]['reaction']}});}async['whatsappNumber'](_0x510b05){const _0x3d33d9=a0_0x2ec1ea;let _0x4f0bc9=[];for await(let _0x1d2927 of _0x510b05['numbers']){let _0x1dc42b=this[_0x3d33d9(0x673)](_0x1d2927),_0xa086cf=!0x1;try{if((0x0,w[_0x3d33d9(0x298)])(_0x1dc42b)){let _0xbdfce2=(await this[_0x3d33d9(0x1f6)][_0x3d33d9(0x107)][_0x3d33d9(0x167)]({'where':{'_id':_0x1dc42b}},this[_0x3d33d9(0x670)]['wuid']))['groupdata'];_0xbdfce2?(_0xa086cf=!0x0,_0x4f0bc9[_0x3d33d9(0x7ee)](new de(_0xbdfce2['id'],_0xa086cf,_0xbdfce2?.['subject']))):(_0xbdfce2=await this[_0x3d33d9(0x6c0)]({'groupJid':_0x1dc42b},'inner'),_0x4f0bc9[_0x3d33d9(0x7ee)](new de(_0xbdfce2['id'],!!_0xbdfce2?.['id'],_0xbdfce2?.['subject'])));}else{if(_0x1dc42b[_0x3d33d9(0x7de)]('@broadcast'))_0x4f0bc9[_0x3d33d9(0x7ee)](new de(_0x1dc42b,!0x0));else{let _0x5324a5=(await this[_0x3d33d9(0x58b)][_0x3d33d9(0x123)](_0x1dc42b))[0x0];_0x4f0bc9[_0x3d33d9(0x7ee)](new de(_0x5324a5[_0x3d33d9(0x279)],_0x5324a5[_0x3d33d9(0x562)]));}}}catch{(0x0,w['isJidGroup'])(_0x1dc42b)||await this[_0x3d33d9(0x66c)](_0x1dc42b),_0x4f0bc9[_0x3d33d9(0x7ee)](new de(_0x1d2927,!0x1));}}return _0x4f0bc9;}async[a0_0x2ec1ea(0x66c)](_0x6f06ea){const _0x124686=a0_0x2ec1ea;try{await this['repository'][_0x124686(0x107)]['findOne']({'where':{'_id':_0x6f06ea,'imported':!0x0}},this[_0x124686(0x670)][_0x124686(0x6d8)])&&(await this['repository']['chat'][_0x124686(0x624)](_0x6f06ea,this[_0x124686(0x670)]['wuid']),this[_0x124686(0x470)]['info'](_0x124686(0x4a5)+_0x6f06ea+_0x124686(0x76c)));}catch(_0x4621a2){let _0x40404b=_0x124686(0x1d1),_0x1c365d=_0x4621a2 instanceof Error?_0x4621a2[_0x124686(0x653)]:typeof _0x4621a2==_0x124686(0x7d9)?JSON[_0x124686(0x46a)](_0x4621a2):_0x4621a2,_0x3b54ae=_0x40404b+':\x20'+_0x1c365d;this[_0x124686(0x470)][_0x124686(0x3cc)](this[_0x124686(0x52d)]+'\x20('+this[_0x124686(0x670)][_0x124686(0x6d8)]+_0x124686(0x755)+_0x3b54ae);}}async[a0_0x2ec1ea(0x710)](_0x316efb){const _0x452732=a0_0x2ec1ea;try{let _0x4183da=_0x316efb[_0x452732(0x3e7)][_0x452732(0x666)](_0x54eb23=>(0x0,w[_0x452732(0x298)])(_0x54eb23[_0x452732(0x48b)])||(0x0,w[_0x452732(0x2b7)])(_0x54eb23[_0x452732(0x48b)]))[_0x452732(0x3ac)](_0x187ade=>({'remoteJid':_0x187ade[_0x452732(0x48b)],'fromMe':_0x187ade[_0x452732(0x103)],'id':_0x187ade['id']}));await this[_0x452732(0x58b)]['readMessages'](_0x4183da);let _0x230192=_0x4183da['map'](_0x58a3cc=>this['updateMessage'](_0x58a3cc,{'status':_0x452732(0x21b),'owner':this[_0x452732(0x670)]['wuid']})),_0x25da10=_0x4183da[_0x452732(0x3ac)](_0x1ed9bf=>this[_0x452732(0x1f6)][_0x452732(0x107)][_0x452732(0x3cf)]({'where':{'_id':_0x1ed9bf[_0x452732(0x48b)]}},{'unreadcount':0x0},this[_0x452732(0x670)][_0x452732(0x6d8)])),[_0x42b41d,_0x52bed9]=await Promise[_0x452732(0x378)]([Promise['all'](_0x230192),Promise[_0x452732(0x378)](_0x25da10)]);return _0x52bed9[_0x452732(0x666)](_0x4b0c78=>_0x4b0c78!==null)[_0x452732(0x487)](_0x147776=>{const _0x2d296b=_0x452732;q(this[_0x2d296b(0x52d)],_0x2d296b(0x651),{'chat':_0x147776});}),{'message':'Read\x20messages','read':_0x452732(0x485)};}catch(_0x6dc7d1){let _0x32ac65=_0x452732(0x3d1),_0x21dd59=_0x6dc7d1 instanceof Error?_0x6dc7d1[_0x452732(0x653)]:typeof _0x6dc7d1==_0x452732(0x7d9)?JSON['stringify'](_0x6dc7d1):_0x6dc7d1,_0x58837f=_0x32ac65+':\x20'+_0x21dd59;throw this[_0x452732(0x470)]['error'](this[_0x452732(0x52d)]+'\x20('+this[_0x452732(0x670)]['wuid']+_0x452732(0x755)+_0x58837f),new x(_0x58837f);}}async['getLastMessage'](_0x287df8){const _0x5cdd28=a0_0x2ec1ea;let _0x231cbf={'where':{'key':{'remoteJid':_0x287df8}},'limit':0x1},_0x29ff2e=await this[_0x5cdd28(0x36f)](_0x231cbf);return _0x29ff2e||(this[_0x5cdd28(0x470)][_0x5cdd28(0x3cc)](_0x5cdd28(0x3aa)+_0x287df8),null);}async[a0_0x2ec1ea(0x55f)](_0x847a){const _0x24ce0a=a0_0x2ec1ea;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x24ce0a(0x6d8)]+_0x24ce0a(0x5a0));try{let _0x189f87=_0x847a['lastMessage'],_0x4d44ea=_0x847a[_0x24ce0a(0x107)];if(!_0x189f87&&_0x4d44ea?_0x189f87=await this['getLastMessage'](_0x4d44ea):(_0x189f87=_0x847a[_0x24ce0a(0x274)],_0x189f87[_0x24ce0a(0x5af)]=_0x189f87?.[_0x24ce0a(0x5af)]??Date[_0x24ce0a(0x493)](),_0x4d44ea=_0x189f87?.[_0x24ce0a(0x2e1)]?.[_0x24ce0a(0x48b)]),!_0x189f87||Object['keys'](_0x189f87)[_0x24ce0a(0x54d)]===0x0)throw new J(_0x24ce0a(0x7b2));this[_0x24ce0a(0x470)]['verbose'](this[_0x24ce0a(0x52d)]+'\x20('+this[_0x24ce0a(0x670)][_0x24ce0a(0x6d8)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4d44ea);try{await this['client']['chatModify']({'archive':_0x847a['archive'],'lastMessages':[_0x189f87]},this[_0x24ce0a(0x673)](_0x4d44ea));}catch(_0x586195){let _0x40acf6=_0x24ce0a(0x62b)+_0x4d44ea,_0xb7903b=_0x586195 instanceof Error?_0x586195[_0x24ce0a(0x653)]:typeof _0x586195=='object'?JSON[_0x24ce0a(0x46a)](_0x586195):_0x586195,_0xaddba7=_0x40acf6+':\x20'+_0xb7903b;this['logger'][_0x24ce0a(0x3cc)](this['instanceName']+'\x20('+this['instance'][_0x24ce0a(0x6d8)]+_0x24ce0a(0x755)+_0xaddba7);}this[_0x24ce0a(0x470)][_0x24ce0a(0x28b)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4d44ea);let _0x41ed06=await this[_0x24ce0a(0x1f6)]['chat']['updateOne']({'where':{'_id':_0x189f87?.['key']?.['remoteJid']}},{'archived':_0x847a[_0x24ce0a(0x3e8)]},this[_0x24ce0a(0x670)][_0x24ce0a(0x6d8)]);return _0x41ed06?(this[_0x24ce0a(0x470)]['verbose'](this[_0x24ce0a(0x52d)]+'\x20('+this['instance'][_0x24ce0a(0x6d8)]+_0x24ce0a(0xcc)+JSON[_0x24ce0a(0x46a)](_0x41ed06)),q(this[_0x24ce0a(0x52d)],_0x24ce0a(0x651),{'chat':_0x41ed06})):this[_0x24ce0a(0x470)][_0x24ce0a(0x3cc)](this[_0x24ce0a(0x52d)]+'\x20('+this[_0x24ce0a(0x670)][_0x24ce0a(0x6d8)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4d44ea),{'chatId':_0x4d44ea,'archived':_0x847a[_0x24ce0a(0x3e8)]};}catch(_0x15ee06){let _0x25dfc5=_0x24ce0a(0x76e),_0x2df34c=_0x15ee06 instanceof Error?_0x15ee06[_0x24ce0a(0x653)]:typeof _0x15ee06=='object'?JSON[_0x24ce0a(0x46a)](_0x15ee06):_0x15ee06,_0x3a8cc3=_0x25dfc5+':\x20'+_0x2df34c;throw this[_0x24ce0a(0x470)][_0x24ce0a(0x3cc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x24ce0a(0x755)+_0x3a8cc3),new x(_0x3a8cc3);}}async[a0_0x2ec1ea(0x624)](_0x5521eb){const _0x4c297d=a0_0x2ec1ea;this[_0x4c297d(0x470)][_0x4c297d(0x28b)](this['instanceName']+'\x20('+this[_0x4c297d(0x670)][_0x4c297d(0x6d8)]+'):Delete\x20chat');try{let _0x1e265c=await this[_0x4c297d(0x38c)](_0x5521eb);if(!_0x1e265c||Object[_0x4c297d(0x6b5)](_0x1e265c)[_0x4c297d(0x54d)]===0x0)throw new J(_0x4c297d(0x7b2));let _0x255917=_0x1e265c[0x0];this['logger']['verbose'](this[_0x4c297d(0x52d)]+'\x20('+this[_0x4c297d(0x670)][_0x4c297d(0x6d8)]+_0x4c297d(0x702)+_0x5521eb);try{await this[_0x4c297d(0x58b)][_0x4c297d(0x621)]({'delete':!0x0,'lastMessages':[{'key':_0x255917[_0x4c297d(0x2e1)],'messageTimestamp':_0x255917['messageTimestamp']}]},this[_0x4c297d(0x673)](_0x5521eb));}catch(_0x3a51f2){this['logger'][_0x4c297d(0x3cc)](_0x4c297d(0x62b)+_0x5521eb+':\x20'+_0x3a51f2['toString']());}this[_0x4c297d(0x470)][_0x4c297d(0x28b)](this[_0x4c297d(0x52d)]+'\x20('+this[_0x4c297d(0x670)]['wuid']+_0x4c297d(0x68f)+_0x5521eb);return;}catch(_0x4f50b5){throw this[_0x4c297d(0x470)]['error'](this[_0x4c297d(0x52d)]+'\x20('+this[_0x4c297d(0x670)][_0x4c297d(0x6d8)]+_0x4c297d(0x7b3)+_0x4f50b5[_0x4c297d(0x4e0)]()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x4f50b5[_0x4c297d(0x4e0)]()]});}}async[a0_0x2ec1ea(0x48a)](_0x1dc398){const _0x280c96=a0_0x2ec1ea;try{let _0x298b8b=await this[_0x280c96(0x58b)][_0x280c96(0x728)](_0x1dc398[_0x280c96(0x48b)],{'delete':_0x1dc398});try{let _0x42e20c=await this[_0x280c96(0x37c)](_0x1dc398,{'status':'DELETED','owner':this[_0x280c96(0x670)][_0x280c96(0x6d8)]});this[_0x280c96(0x470)]['verbose'](this[_0x280c96(0x52d)]+'\x20('+this['instance'][_0x280c96(0x6d8)]+_0x280c96(0x495)+_0x42e20c);}catch(_0x453e61){this[_0x280c96(0x470)][_0x280c96(0x3cc)](_0x280c96(0x479)+_0x453e61);}return _0x298b8b;}catch(_0x3892cd){throw new x(_0x280c96(0x2f0),_0x3892cd?.[_0x280c96(0x4e0)]());}}async[a0_0x2ec1ea(0x2f5)](_0x13570f){const _0x205e49=a0_0x2ec1ea;try{let _0x4ff3f8=_0x13570f?.[_0x205e49(0x653)]?_0x13570f:await this['getMessage'](_0x13570f['key'],!0x0);for(let _0x4e25f1 of $a)_0x4ff3f8[_0x205e49(0x653)][_0x4e25f1]&&(_0x4ff3f8[_0x205e49(0x653)]=_0x4ff3f8['message'][_0x4e25f1][_0x205e49(0x653)]);let _0x594885,_0x105d1b;for(let _0x38c4c7 of Na)if(_0x594885=_0x4ff3f8[_0x205e49(0x653)][_0x38c4c7],_0x594885){_0x105d1b=_0x38c4c7;break;}if(!_0x594885)throw _0x205e49(0x1c7);typeof _0x594885[_0x205e49(0x23c)]=='object'&&(_0x4ff3f8[_0x205e49(0x653)]=JSON[_0x205e49(0x59b)](JSON['stringify'](_0x4ff3f8[_0x205e49(0x653)])));let _0x667000=await(0x0,w[_0x205e49(0x314)])({'key':_0x4ff3f8?.['key'],'message':_0x4ff3f8?.[_0x205e49(0x653)]},_0x205e49(0x5cb),{},{'logger':(0x0,Jt[_0x205e49(0x4d4)])({'level':_0x205e49(0x2c1)}),'reuploadRequest':this['client'][_0x205e49(0x685)]});if(!(_0x667000 instanceof Buffer))throw new Error(_0x205e49(0x47d));let _0x2820ec=this[_0x205e49(0x426)][_0x205e49(0x63f)](_0x205e49(0x2c4)),_0x16ba62,_0x218a84;if(_0x594885[_0x205e49(0x51b)])_0x16ba62=_0x594885[_0x205e49(0x51b)];else{let _0x21a1ea=_0x594885[_0x205e49(0x2db)]?.['match'](/\/(\w+)/),_0x32eb9a=_0x21a1ea?_0x21a1ea[0x1]:null;if(!_0x32eb9a)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x16ba62=(0x0,ee['v4'])()+'.'+_0x32eb9a;}_0x105d1b==='audioMessage'?_0x218a84=_0x205e49(0xc8)+await this[_0x205e49(0x434)](_0x667000[_0x205e49(0x4e0)](_0x205e49(0x3ae))):(await this[_0x205e49(0x70a)](_0x667000,_0x16ba62),_0x218a84=_0x205e49(0xc8)+_0x16ba62);let _0x129eba=this[_0x205e49(0x426)][_0x205e49(0x63f)](_0x205e49(0x568))[_0x205e49(0x5c4)];if(!_0x129eba){let _0x2ef6b2=this[_0x205e49(0x426)][_0x205e49(0x63f)](_0x205e49(0x744));_0x129eba=_0x205e49(0xe5)+(_0x2ef6b2&&_0x2ef6b2['FULLCHAIN'][_0x205e49(0x1e1)]('/')[0x4]);}_0x218a84=''+_0x129eba+_0x218a84;let _0x23524a=0xc*0x3c*0x3c*0x3e8,_0x410f24={'where':{'_id':_0x4ff3f8[_0x205e49(0x2e1)]['id']}},_0x6de3bc={'message_normalized.fileUrl':_0x218a84,'message_normalized.expires_fileUrl':Date[_0x205e49(0x493)]()+_0x23524a};try{let _0x546ce7=await this[_0x205e49(0x1f6)][_0x205e49(0x653)][_0x205e49(0x4d2)](_0x410f24,_0x6de3bc,this[_0x205e49(0x670)][_0x205e49(0x6d8)]);_0x546ce7&&q(this[_0x205e49(0x52d)],'messages',{'message':_0x546ce7});}catch(_0x1e377f){let _0x338606='Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage',_0x589663=_0x1e377f instanceof Error?_0x1e377f[_0x205e49(0x653)]:typeof _0x1e377f==_0x205e49(0x7d9)?JSON[_0x205e49(0x46a)](_0x1e377f):_0x1e377f,_0x73aee9=_0x338606+':\x20'+_0x589663;this[_0x205e49(0x470)][_0x205e49(0x3cc)](this['instanceName']+'\x20('+this['instance'][_0x205e49(0x6d8)]+_0x205e49(0x755)+_0x73aee9);}return{'mediaType':_0x105d1b,'fileName':_0x594885[_0x205e49(0x51b)],'caption':_0x594885[_0x205e49(0x71b)],'size':{'fileLength':_0x594885[_0x205e49(0x39e)],'height':_0x594885[_0x205e49(0x152)],'width':_0x594885[_0x205e49(0x25d)]},'mimetype':_0x594885['mimetype'],'base64':_0x667000[_0x205e49(0x4e0)](_0x205e49(0x3ae)),'fileUrl':_0x218a84,'expires_fileUrl':Date[_0x205e49(0x493)]()+_0x23524a};}catch(_0x3fed16){let _0x27df65='Falha\x20ao\x20processar\x20a\x20solicitao',_0x48fcce=_0x3fed16 instanceof Error?_0x3fed16['message']:typeof _0x3fed16==_0x205e49(0x7d9)?JSON[_0x205e49(0x46a)](_0x3fed16):_0x3fed16,_0x37262a=_0x27df65+':\x20'+_0x48fcce;throw this[_0x205e49(0x470)]['error'](this['instanceName']+'\x20('+this[_0x205e49(0x670)]['wuid']+_0x205e49(0x755)+_0x37262a),new m(_0x37262a);}}async[a0_0x2ec1ea(0x70a)](_0x36ce29,_0xf4aa31){const _0x24282d=a0_0x2ec1ea;let _0x1c3687=j['default'][_0x24282d(0x2ed)](__dirname,_0x24282d(0x416));L[_0x24282d(0x227)](_0x1c3687)||L[_0x24282d(0x4f1)](_0x1c3687,{'recursive':!0x0});let _0x42386b=j[_0x24282d(0x4d4)][_0x24282d(0x2ed)](_0x1c3687,_0xf4aa31);return new Promise((_0x118071,_0x3af445)=>{const _0x358939=_0x24282d;L[_0x358939(0x4b0)](_0x42386b,_0x36ce29,_0x2250e5=>{const _0x4d5e1d=_0x358939;_0x2250e5?(this[_0x4d5e1d(0x470)][_0x4d5e1d(0x3cc)](_0x4d5e1d(0x4d8)+(_0x2250e5 instanceof Error?_0x2250e5[_0x4d5e1d(0x653)]:JSON[_0x4d5e1d(0x46a)](_0x2250e5,null,0x2))),_0x3af445(_0x2250e5)):(this[_0x4d5e1d(0x470)][_0x4d5e1d(0x6d4)]('File\x20written\x20to\x20path:\x20'+_0x42386b),_0x118071(_0x42386b));});});}async[a0_0x2ec1ea(0x25f)](_0x29772a){const _0x238bf3=a0_0x2ec1ea;return await this[_0x238bf3(0x1f6)][_0x238bf3(0x11a)]['find'](_0x29772a,this[_0x238bf3(0x670)][_0x238bf3(0x6d8)]);}async[a0_0x2ec1ea(0x789)](){const _0x5f2119=a0_0x2ec1ea;return await this['repository'][_0x5f2119(0x67f)]['find']({'where':{}},this[_0x5f2119(0x670)][_0x5f2119(0x6d8)]);}async[a0_0x2ec1ea(0x36f)](_0x572649){const _0x13950f=a0_0x2ec1ea;return await this[_0x13950f(0x1f6)][_0x13950f(0x653)][_0x13950f(0x3f1)](_0x572649,this[_0x13950f(0x670)]['wuid']);}async['fetchChats'](){const _0x4bb986=a0_0x2ec1ea;return this[_0x4bb986(0x1f6)][_0x4bb986(0x107)][_0x4bb986(0x339)](this[_0x4bb986(0x670)][_0x4bb986(0x6d8)]),this[_0x4bb986(0x1f6)]['chat'][_0x4bb986(0x7ac)](this[_0x4bb986(0x670)][_0x4bb986(0x6d8)]),this[_0x4bb986(0x1f6)][_0x4bb986(0x107)]['updateMissingTags'](this['instance'][_0x4bb986(0x6d8)]),this[_0x4bb986(0x1f6)]['chat'][_0x4bb986(0x656)](this[_0x4bb986(0x670)][_0x4bb986(0x6d8)]),await this[_0x4bb986(0x1f6)][_0x4bb986(0x107)][_0x4bb986(0x3f1)]({'where':{}},this[_0x4bb986(0x670)][_0x4bb986(0x6d8)]);}async[a0_0x2ec1ea(0xd4)](_0x1c14af){const _0x1e47db=a0_0x2ec1ea;try{if(!Array[_0x1e47db(0x158)](_0x1c14af)||_0x1c14af[_0x1e47db(0x54d)]===0x0)throw new Error(_0x1e47db(0x29d));let _0x4b9dc9=[],_0x2ac4b8=[];for(let _0x5e3400 of _0x1c14af){if(_0x5e3400[_0x1e47db(0x6b1)])_0x5e3400[_0x1e47db(0x6b1)]=this[_0x1e47db(0x673)](_0x5e3400[_0x1e47db(0x6b1)]);else continue;await this[_0x1e47db(0x1f6)][_0x1e47db(0x107)][_0x1e47db(0x167)]({'where':{'_id':_0x5e3400[_0x1e47db(0x6b1)]}},this[_0x1e47db(0x670)][_0x1e47db(0x6d8)])?_0x2ac4b8[_0x1e47db(0x7ee)]({'_id':_0x5e3400['_id'],'leadInfo':_0x5e3400[_0x1e47db(0x5f5)],'owner':this[_0x1e47db(0x670)][_0x1e47db(0x6d8)]}):_0x4b9dc9[_0x1e47db(0x7ee)]({'_id':_0x5e3400[_0x1e47db(0x6b1)],'owner':this[_0x1e47db(0x670)][_0x1e47db(0x6d8)],'leadInfo':_0x5e3400[_0x1e47db(0x5f5)],'imported':!0x0});}return _0x2ac4b8[_0x1e47db(0x54d)]>0x0&&await this[_0x1e47db(0x1f6)][_0x1e47db(0x107)][_0x1e47db(0x44e)](_0x2ac4b8[_0x1e47db(0x3ac)](_0x50accd=>({'query':{'where':{'_id':_0x50accd[_0x1e47db(0x6b1)],'owner':this['instance'][_0x1e47db(0x6d8)]}},'update':_0x50accd}))),_0x4b9dc9[_0x1e47db(0x54d)]>0x0&&await this[_0x1e47db(0x1f6)][_0x1e47db(0x107)]['insertMany'](_0x4b9dc9,this[_0x1e47db(0x670)][_0x1e47db(0x6d8)]),{'updated':_0x2ac4b8[_0x1e47db(0x54d)],'inserted':_0x4b9dc9[_0x1e47db(0x54d)]};}catch(_0x2c12d3){let _0x36d827=_0x1e47db(0x266),_0x14abe1=_0x2c12d3 instanceof Error?_0x2c12d3[_0x1e47db(0x653)]:typeof _0x2c12d3==_0x1e47db(0x7d9)?JSON[_0x1e47db(0x46a)](_0x2c12d3):_0x2c12d3,_0x194319=_0x36d827+':\x20'+_0x14abe1;throw this[_0x1e47db(0x470)][_0x1e47db(0x3cc)](this[_0x1e47db(0x52d)]+'\x20('+this[_0x1e47db(0x670)][_0x1e47db(0x6d8)]+_0x1e47db(0x755)+_0x194319),new m(_0x194319);}}async[a0_0x2ec1ea(0x338)](_0x292048){const _0x5a694b=a0_0x2ec1ea;try{if(!Array[_0x5a694b(0x158)](_0x292048)||_0x292048[_0x5a694b(0x54d)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x29ad81=0x64,_0x3acc90=0x0;for(let _0x1f2ab0=0x0;_0x1f2ab0<_0x292048[_0x5a694b(0x54d)];_0x1f2ab0+=_0x29ad81){let _0x599887=_0x292048['slice'](_0x1f2ab0,_0x1f2ab0+_0x29ad81),{updated:_0x2d12df}=await this['importChatsBatch'](_0x599887);_0x3acc90+=_0x2d12df;}return{'updated':_0x3acc90};}catch(_0x52ac27){let _0x2c58c8='Erro\x20ao\x20importar\x20chats',_0x1417e5=_0x52ac27 instanceof Error?_0x52ac27['message']:typeof _0x52ac27==_0x5a694b(0x7d9)?JSON[_0x5a694b(0x46a)](_0x52ac27):_0x52ac27,_0x3005d7=_0x2c58c8+':\x20'+_0x1417e5;throw this[_0x5a694b(0x470)][_0x5a694b(0x3cc)](this[_0x5a694b(0x52d)]+'\x20('+this[_0x5a694b(0x670)][_0x5a694b(0x6d8)]+_0x5a694b(0x755)+_0x3005d7),new m(_0x3005d7);}}async[a0_0x2ec1ea(0x308)](_0x2eb9b8){const _0x39ee6d=a0_0x2ec1ea;try{let _0x5f487f=await this[_0x39ee6d(0x1f6)]['label'][_0x39ee6d(0x3f1)]({'where':{}},this['instance'][_0x39ee6d(0x6d8)]),_0xc618c1=new Set(_0x5f487f['map'](_0x563e76=>_0x563e76[_0x39ee6d(0x6b1)])),_0x44f9d7=[],_0x2c14cb=[];for(let _0x225eb6 of _0x2eb9b8){if(!_0x225eb6[_0x39ee6d(0x6b1)])continue;_0x225eb6['_id']=this['createJid'](_0x225eb6[_0x39ee6d(0x6b1)]);let _0x1f3367=await this[_0x39ee6d(0x1f6)][_0x39ee6d(0x107)][_0x39ee6d(0x167)]({'where':{'_id':_0x225eb6['_id']}},this[_0x39ee6d(0x670)][_0x39ee6d(0x6d8)]),_0x2f98b7={};if(Object[_0x39ee6d(0x7bc)](_0x225eb6[_0x39ee6d(0x5f5)])['forEach'](([_0x447a49,_0x1a8dc9])=>{const _0x2c32b6=_0x39ee6d;_0x2f98b7[_0x2c32b6(0x3d7)+_0x447a49]=_0x1a8dc9;}),_0x1f3367&&!_0x1f3367['imported']){let _0x4c0485=(_0x225eb6['leadInfo'][_0x39ee6d(0x1cb)]||[])['filter'](_0x55f8dd=>_0xc618c1[_0x39ee6d(0x4a0)](_0x55f8dd)),_0x129360=new Set(_0x1f3367['leadInfo'][_0x39ee6d(0x1cb)]||[]),_0x52b93d=_0x4c0485['filter'](_0x1a5a79=>!_0x129360[_0x39ee6d(0x4a0)](_0x1a5a79)),_0x24c0bd=[..._0x129360][_0x39ee6d(0x666)](_0x59a739=>!_0x4c0485[_0x39ee6d(0x7de)](_0x59a739));_0x2c14cb['push'](..._0x52b93d['map'](_0x34cfa1=>this[_0x39ee6d(0x28a)](_0x34cfa1,_0x225eb6[_0x39ee6d(0x6b1)]))),_0x2c14cb[_0x39ee6d(0x7ee)](..._0x24c0bd[_0x39ee6d(0x3ac)](_0x7c88a2=>this['RemoveChatLabel'](_0x7c88a2,_0x225eb6['_id']))),_0x225eb6[_0x39ee6d(0x5f5)][_0x39ee6d(0x1cb)]=_0x4c0485,_0x44f9d7[_0x39ee6d(0x7ee)]({'query':{'where':{'_id':_0x225eb6[_0x39ee6d(0x6b1)],'owner':this['instance'][_0x39ee6d(0x6d8)]}},'update':_0x2f98b7});}else _0x2f98b7[_0x39ee6d(0x1c5)]=!0x0,_0x44f9d7[_0x39ee6d(0x7ee)]({'query':{'where':{'_id':_0x225eb6[_0x39ee6d(0x6b1)],'owner':this[_0x39ee6d(0x670)]['wuid']}},'update':_0x2f98b7});}let _0x5ce154=await this[_0x39ee6d(0x1f6)][_0x39ee6d(0x107)][_0x39ee6d(0x44e)](_0x44f9d7);return await Promise['all'](_0x2c14cb),{'updated':_0x5ce154};}catch(_0x5714a5){let _0x3471ef='Erro\x20ao\x20importar\x20chats',_0x42e950=_0x5714a5 instanceof Error?_0x5714a5[_0x39ee6d(0x653)]:typeof _0x5714a5==_0x39ee6d(0x7d9)?JSON['stringify'](_0x5714a5):_0x5714a5,_0x11db88=_0x3471ef+':\x20'+_0x42e950;throw this['logger']['error'](this[_0x39ee6d(0x52d)]+'\x20('+this[_0x39ee6d(0x670)][_0x39ee6d(0x6d8)]+_0x39ee6d(0x755)+_0x11db88),new m(_0x11db88);}}async[a0_0x2ec1ea(0x7b4)](){const _0x37478f=a0_0x2ec1ea;return await this[_0x37478f(0x58b)][_0x37478f(0x7b4)]();}async[a0_0x2ec1ea(0x2b3)](_0x49a1a2){const _0x489ba0=a0_0x2ec1ea;try{return await this[_0x489ba0(0x58b)][_0x489ba0(0x767)](_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x348)]),await this[_0x489ba0(0x58b)][_0x489ba0(0x49b)](_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x39a)]),await this[_0x489ba0(0x58b)][_0x489ba0(0x6c2)](_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x3fd)]),await this[_0x489ba0(0x58b)]['updateOnlinePrivacy'](_0x49a1a2['privacySettings'][_0x489ba0(0xb6)]),await this[_0x489ba0(0x58b)][_0x489ba0(0x241)](_0x49a1a2[_0x489ba0(0x3b7)]['last']),await this['client']['updateGroupsAddPrivacy'](_0x49a1a2[_0x489ba0(0x3b7)]['groupadd']),this[_0x489ba0(0x58b)]?.['ws']?.[_0x489ba0(0x675)](),{'update':_0x489ba0(0x485),'data':{'readreceipts':_0x49a1a2[_0x489ba0(0x3b7)]['readreceipts'],'profile':_0x49a1a2[_0x489ba0(0x3b7)]['profile'],'status':_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x3fd)],'online':_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0xb6)],'last':_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x3c2)],'groupadd':_0x49a1a2[_0x489ba0(0x3b7)][_0x489ba0(0x336)]}};}catch(_0x5254b5){let _0x50fe3d=_0x489ba0(0x591),_0x1c9aca=_0x5254b5 instanceof Error?_0x5254b5[_0x489ba0(0x653)]:typeof _0x5254b5==_0x489ba0(0x7d9)?JSON['stringify'](_0x5254b5):_0x5254b5,_0x20a036=_0x50fe3d+':\x20'+_0x1c9aca;throw this[_0x489ba0(0x470)][_0x489ba0(0x3cc)](this[_0x489ba0(0x52d)]+'\x20('+this[_0x489ba0(0x670)][_0x489ba0(0x6d8)]+_0x489ba0(0x755)+_0x20a036),new m(_0x20a036);}}async[a0_0x2ec1ea(0x55a)](_0x35d0fc){const _0x5f3d98=a0_0x2ec1ea;let _0x5b46b5=(_0x35d0fc?this['createJid'](_0x35d0fc):this[_0x5f3d98(0x58b)]?.['user']?.['id'])[_0x5f3d98(0x19d)](/:\d{1,2}@/g,'@');this[_0x5f3d98(0x470)]['verbose'](this[_0x5f3d98(0x52d)]+'\x20('+this['instance'][_0x5f3d98(0x6d8)]+_0x5f3d98(0x751)+_0x5b46b5);let _0x5934de=await this[_0x5f3d98(0x1f6)][_0x5f3d98(0x11a)][_0x5f3d98(0x167)]({'where':{'_id':_0x5b46b5}},this[_0x5f3d98(0x670)][_0x5f3d98(0x6d8)]),_0x1bae9a=_0x5934de?_0x5934de[_0x5f3d98(0x64e)]:null;try{let _0x519f76=(await this['whatsappNumber']({'numbers':[_0x5b46b5]}))?.[_0x5f3d98(0x2b4)](),_0x1673f4=(await this[_0x5f3d98(0x78e)](_0x5b46b5,null,!0x1))[_0x5f3d98(0x165)]['pictureUrl'],_0x5d7e10=await this[_0x5f3d98(0x350)](_0x519f76?.[_0x5f3d98(0x279)]),_0x16441b=await this[_0x5f3d98(0x6b2)](_0x519f76?.['jid']),_0x4eb8ad=(await this[_0x5f3d98(0x78e)](_0x5b46b5,null,!0x1))[_0x5f3d98(0x165)][_0x5f3d98(0x582)],_0x5e41a3=await this[_0x5f3d98(0x1f6)]['chat'][_0x5f3d98(0x167)]({'where':{'_id':_0x5b46b5}},this[_0x5f3d98(0x670)][_0x5f3d98(0x6d8)]),_0x1b643a={'imagechat':_0x1673f4,'contactname':_0x1bae9a||null,'pushName':_0x4eb8ad,'status':_0x5d7e10?.[_0x5f3d98(0x3fd)],'isBusiness':_0x16441b[_0x5f3d98(0x2fe)],'email':_0x16441b?.['email'],'description':_0x16441b?.[_0x5f3d98(0x672)],'website':_0x16441b?.[_0x5f3d98(0x431)]?.[_0x5f3d98(0x2b4)](),'lastcache':Date['now'](),'imported':!_0x5e41a3},_0x78f6e8=await this[_0x5f3d98(0x1f6)]['chat'][_0x5f3d98(0x3cf)]({'where':{'_id':_0x5b46b5}},_0x1b643a,this['instance']['wuid']),_0x563d63={'owner':this[_0x5f3d98(0x670)][_0x5f3d98(0x6d8)],'_id':_0x5b46b5,'profilePictureUrl':_0x1673f4,'status':_0x5d7e10?.[_0x5f3d98(0x3fd)]};return this[_0x5f3d98(0x1f6)][_0x5f3d98(0x11a)]['update']([_0x563d63],this[_0x5f3d98(0x670)][_0x5f3d98(0x6d8)]),_0x78f6e8&&q(this[_0x5f3d98(0x52d)],'chats',{'chat':_0x78f6e8}),{'wuid':_0x519f76?.[_0x5f3d98(0x279)]||_0x5b46b5,'name':_0x519f76?.[_0x5f3d98(0x582)],'pushName':_0x4eb8ad,'numberExists':_0x519f76?.['exists'],'picture':_0x1673f4,'status':_0x5d7e10?.['status'],'isBusiness':_0x16441b[_0x5f3d98(0x2fe)],'email':_0x16441b?.[_0x5f3d98(0x7a7)],'description':_0x16441b?.[_0x5f3d98(0x672)],'website':_0x16441b?.[_0x5f3d98(0x431)]?.[_0x5f3d98(0x2b4)]()};}catch(_0x42ddaa){return this[_0x5f3d98(0x470)][_0x5f3d98(0x3cc)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x42ddaa instanceof Error?_0x42ddaa[_0x5f3d98(0x653)]:JSON[_0x5f3d98(0x46a)](_0x42ddaa,null,0x2))),{};}}async[a0_0x2ec1ea(0x6b2)](_0x480bdf){const _0x566bc9=a0_0x2ec1ea;this[_0x566bc9(0x470)][_0x566bc9(0x28b)](this[_0x566bc9(0x52d)]+'\x20('+this[_0x566bc9(0x670)][_0x566bc9(0x6d8)]+_0x566bc9(0x1be));try{let _0x48cf8b=_0x480bdf?this[_0x566bc9(0x673)](_0x480bdf):this['instance'][_0x566bc9(0x6d8)],_0x10d89d=await this['client'][_0x566bc9(0x2f8)](_0x48cf8b);return this[_0x566bc9(0x470)][_0x566bc9(0x28b)](this['instanceName']+'\x20('+this[_0x566bc9(0x670)]['wuid']+_0x566bc9(0x7ea)),_0x10d89d?(this[_0x566bc9(0x470)][_0x566bc9(0x28b)](this[_0x566bc9(0x52d)]+'\x20('+this[_0x566bc9(0x670)]['wuid']+_0x566bc9(0x73b)),{'isBusiness':!0x0,..._0x10d89d}):{'isBusiness':!0x1,'message':_0x566bc9(0xad),...(await this['whatsappNumber']({'numbers':[_0x48cf8b]}))?.[_0x566bc9(0x2b4)]()};}catch(_0x3009a3){let _0x1ab565=_0x566bc9(0x556),_0x2810d9=_0x3009a3 instanceof Error?_0x3009a3[_0x566bc9(0x653)]:typeof _0x3009a3=='object'?JSON['stringify'](_0x3009a3):_0x3009a3,_0x3e1abc=_0x1ab565+':\x20'+_0x2810d9;throw this[_0x566bc9(0x470)][_0x566bc9(0x3cc)](this[_0x566bc9(0x52d)]+'\x20('+this[_0x566bc9(0x670)][_0x566bc9(0x6d8)]+'):\x20'+_0x3e1abc),new x(_0x3e1abc);}}async['getStatus'](_0x59672a){const _0x25f24d=a0_0x2ec1ea;let _0x1177e1=this['createJid'](_0x59672a);try{return{'wuid':_0x1177e1,'status':(await this[_0x25f24d(0x58b)]['fetchStatus'](_0x1177e1))[0x0]?.[_0x25f24d(0x3fd)]};}catch{return{'wuid':_0x1177e1,'status':null};}}async[a0_0x2ec1ea(0x4bd)](_0x12b2ee){const _0x307c6f=a0_0x2ec1ea;try{return await this[_0x307c6f(0x58b)][_0x307c6f(0x4bd)](_0x12b2ee),{'update':_0x307c6f(0x485)};}catch(_0xd41bd){let _0xcc6bfa='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName',_0x3dcd6d=_0xd41bd instanceof Error?_0xd41bd[_0x307c6f(0x653)]:typeof _0xd41bd==_0x307c6f(0x7d9)?JSON[_0x307c6f(0x46a)](_0xd41bd):_0xd41bd,_0x3e2e85=_0xcc6bfa+':\x20'+_0x3dcd6d;throw this[_0x307c6f(0x470)][_0x307c6f(0x3cc)](this[_0x307c6f(0x52d)]+'\x20('+this['instance'][_0x307c6f(0x6d8)]+_0x307c6f(0x755)+_0x3e2e85),new x(_0x3e2e85);}}async[a0_0x2ec1ea(0x4d1)](_0x2e3845){const _0x1e7a46=a0_0x2ec1ea;try{return await this[_0x1e7a46(0x58b)][_0x1e7a46(0x4d1)](_0x2e3845),{'update':_0x1e7a46(0x485)};}catch(_0x109c0d){let _0x34da0d=_0x1e7a46(0x2d4),_0x34a91a=_0x109c0d instanceof Error?_0x109c0d['message']:typeof _0x109c0d==_0x1e7a46(0x7d9)?JSON[_0x1e7a46(0x46a)](_0x109c0d):_0x109c0d,_0x51312e=_0x34da0d+':\x20'+_0x34a91a;throw this[_0x1e7a46(0x470)][_0x1e7a46(0x3cc)](this[_0x1e7a46(0x52d)]+'\x20('+this[_0x1e7a46(0x670)]['wuid']+'):\x20'+_0x51312e),new x(_0x51312e);}}async['updateProfilePicture'](_0x4c1015){const _0x3b1ef4=a0_0x2ec1ea;try{let _0x18c7f6;if((0x0,k[_0x3b1ef4(0x7e6)])(_0x4c1015)){let _0x15e13e=new Date()[_0x3b1ef4(0x7e3)](),_0x38969a=_0x4c1015+'?timestamp='+_0x15e13e;_0x18c7f6=(await Z[_0x3b1ef4(0x4d4)][_0x3b1ef4(0x63f)](_0x38969a,{'responseType':_0x3b1ef4(0x695)}))[_0x3b1ef4(0x6c8)];}else{if((0x0,k['isBase64'])(_0x4c1015))_0x18c7f6=Buffer[_0x3b1ef4(0x2eb)](_0x4c1015,_0x3b1ef4(0x3ae));else throw new m(_0x3b1ef4(0x509));}return await this[_0x3b1ef4(0x58b)]['updateProfilePicture'](this[_0x3b1ef4(0x670)][_0x3b1ef4(0x6d8)],_0x18c7f6),{'update':_0x3b1ef4(0x485)};}catch(_0x3fc999){let _0x5d2edd=_0x3b1ef4(0xf6),_0x9e3af6=_0x3fc999 instanceof Error?_0x3fc999[_0x3b1ef4(0x653)]:typeof _0x3fc999==_0x3b1ef4(0x7d9)?JSON[_0x3b1ef4(0x46a)](_0x3fc999):_0x3fc999,_0x278dc0=_0x5d2edd+':\x20'+_0x9e3af6;throw this['logger'][_0x3b1ef4(0x3cc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3b1ef4(0x755)+_0x278dc0),new x(_0x278dc0);}}async[a0_0x2ec1ea(0x25a)](){const _0x8f9ac6=a0_0x2ec1ea;try{return await this['client'][_0x8f9ac6(0x25a)](this['instance']['wuid']),{'update':_0x8f9ac6(0x485)};}catch(_0x38c5ab){let _0x3ca82a='Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture',_0x5a5123=_0x38c5ab instanceof Error?_0x38c5ab['message']:typeof _0x38c5ab==_0x8f9ac6(0x7d9)?JSON[_0x8f9ac6(0x46a)](_0x38c5ab):_0x38c5ab,_0x4ec42e=_0x3ca82a+':\x20'+_0x5a5123;throw this[_0x8f9ac6(0x470)][_0x8f9ac6(0x3cc)](this[_0x8f9ac6(0x52d)]+'\x20('+this['instance'][_0x8f9ac6(0x6d8)]+'):\x20'+_0x4ec42e),new x(_0x4ec42e);}}async['createGroup'](_0x471f97){const _0x330ccb=a0_0x2ec1ea;try{let _0x2ed3d3=(await this[_0x330ccb(0x382)]({'numbers':_0x471f97[_0x330ccb(0x341)]}))[_0x330ccb(0x666)](_0x3c4510=>_0x3c4510['exists'])['map'](_0x5233f3=>_0x5233f3['jid']),{id:_0x1ab266}=await this[_0x330ccb(0x58b)][_0x330ccb(0x155)](_0x471f97['subject'],_0x2ed3d3);_0x471f97?.[_0x330ccb(0x672)]&&await this['client'][_0x330ccb(0x237)](_0x1ab266,_0x471f97[_0x330ccb(0x672)]);let _0x7e93bc=await this[_0x330ccb(0x58b)][_0x330ccb(0x61d)](_0x1ab266);return _0x7e93bc[_0x330ccb(0x37a)]=[],{'metadata':_0x7e93bc};}catch(_0x39777a){let _0x3ad9e7=_0x330ccb(0x4ec),_0x30c8c8=_0x39777a instanceof Error?_0x39777a[_0x330ccb(0x653)]:typeof _0x39777a==_0x330ccb(0x7d9)?JSON[_0x330ccb(0x46a)](_0x39777a):_0x39777a,_0x15a793=_0x3ad9e7+':\x20'+_0x30c8c8;throw this[_0x330ccb(0x470)][_0x330ccb(0x3cc)](this[_0x330ccb(0x52d)]+'\x20('+this['instance'][_0x330ccb(0x6d8)]+_0x330ccb(0x755)+_0x15a793),new x(_0x15a793);}}async[a0_0x2ec1ea(0x6ae)](_0x261bca){const _0x1a3433=a0_0x2ec1ea;try{if(_0x261bca[_0x1a3433(0x6df)]===!0x0&&await this[_0x1a3433(0x58b)][_0x1a3433(0x5ac)](_0x261bca['groupJid'],'locked'),_0x261bca[_0x1a3433(0x6df)]===!0x1&&await this['client']['groupSettingUpdate'](_0x261bca['groupJid'],_0x1a3433(0x1cf)),_0x261bca[_0x1a3433(0x1a8)]===!0x0&&await this[_0x1a3433(0x58b)][_0x1a3433(0x5ac)](_0x261bca[_0x1a3433(0x2f3)],_0x1a3433(0x118)),_0x261bca[_0x1a3433(0x1a8)]===!0x1&&await this[_0x1a3433(0x58b)][_0x1a3433(0x5ac)](_0x261bca[_0x1a3433(0x2f3)],_0x1a3433(0x5cc)),_0x261bca[_0x1a3433(0x5bf)]===!0x0&&await this[_0x1a3433(0x58b)]['groupMemberAddMode'](_0x261bca[_0x1a3433(0x2f3)],_0x1a3433(0x46b)),_0x261bca[_0x1a3433(0x5bf)]===!0x1&&await this[_0x1a3433(0x58b)][_0x1a3433(0x101)](_0x261bca[_0x1a3433(0x2f3)],'admin_add'),_0x261bca[_0x1a3433(0x15a)]===!0x0&&await this[_0x1a3433(0x58b)]['groupJoinApprovalMode'](_0x261bca[_0x1a3433(0x2f3)],'on'),_0x261bca[_0x1a3433(0x15a)]===!0x1&&await this[_0x1a3433(0x58b)][_0x1a3433(0x191)](_0x261bca['groupJid'],_0x1a3433(0x7cf)),typeof _0x261bca[_0x1a3433(0x7a5)]<'u'&&_0x261bca[_0x1a3433(0x7a5)]!==null&&await this[_0x1a3433(0x58b)][_0x1a3433(0x13b)](_0x261bca[_0x1a3433(0x2f3)],_0x261bca[_0x1a3433(0x7a5)]),_0x261bca[_0x1a3433(0x582)]&&await this[_0x1a3433(0x58b)]['groupUpdateSubject'](_0x261bca[_0x1a3433(0x2f3)],_0x261bca['name']),_0x261bca[_0x1a3433(0x672)]&&await this[_0x1a3433(0x58b)][_0x1a3433(0x237)](_0x261bca[_0x1a3433(0x2f3)],_0x261bca[_0x1a3433(0x672)]),_0x261bca[_0x1a3433(0x6da)]){let _0x523f9f;if((0x0,k[_0x1a3433(0x7e6)])(_0x261bca[_0x1a3433(0x6da)])){let _0x51c27a=new Date()[_0x1a3433(0x7e3)](),_0x50f294=_0x261bca[_0x1a3433(0x6da)]+_0x1a3433(0x5da)+_0x51c27a;_0x523f9f=(await Z[_0x1a3433(0x4d4)][_0x1a3433(0x63f)](_0x50f294,{'responseType':_0x1a3433(0x695)}))[_0x1a3433(0x6c8)];}else{if((0x0,k[_0x1a3433(0x4ba)])(_0x261bca[_0x1a3433(0x6da)]))_0x523f9f=Buffer[_0x1a3433(0x2eb)](_0x261bca['image'],_0x1a3433(0x3ae));else throw new m(_0x1a3433(0x509));}await this[_0x1a3433(0x58b)][_0x1a3433(0x149)](_0x261bca[_0x1a3433(0x2f3)],_0x523f9f);}return await this[_0x1a3433(0x6c0)]({'groupJid':_0x261bca[_0x1a3433(0x2f3)]});}catch(_0x33948f){let _0x19b7a9=_0x1a3433(0x1ea),_0x520d7=_0x33948f instanceof Error?_0x33948f[_0x1a3433(0x653)]:typeof _0x33948f==_0x1a3433(0x7d9)?JSON[_0x1a3433(0x46a)](_0x33948f):_0x33948f,_0x36b02a=_0x19b7a9+':\x20'+_0x520d7;throw this[_0x1a3433(0x470)][_0x1a3433(0x3cc)](this['instanceName']+'\x20('+this[_0x1a3433(0x670)][_0x1a3433(0x6d8)]+_0x1a3433(0x755)+_0x36b02a),new x(_0x36b02a);}}async[a0_0x2ec1ea(0x423)](_0x7da8bd){const _0xa73de4=a0_0x2ec1ea;try{if(_0x7da8bd['action']==='approve'||_0x7da8bd[_0xa73de4(0x581)]===_0xa73de4(0x6a5)){let _0x3a4905=_0x7da8bd[_0xa73de4(0x341)][_0xa73de4(0x3ac)](_0x4adee1=>this['createJid'](_0x4adee1));await this['client'][_0xa73de4(0x644)](_0x7da8bd[_0xa73de4(0x2f3)],_0x3a4905,_0x7da8bd[_0xa73de4(0x581)]);}else{if(_0x7da8bd[_0xa73de4(0x581)]===_0xa73de4(0x2fc)){let _0x1fe971=(await this['whatsappNumber']({'numbers':_0x7da8bd['participants']}))['filter'](_0x533883=>_0x533883['exists'])[_0xa73de4(0x3ac)](_0x3080aa=>this[_0xa73de4(0x673)](_0x3080aa[_0xa73de4(0x279)]));if(_0x1fe971[_0xa73de4(0x54d)]===0x0)throw new m(_0xa73de4(0x491));await this['client']['groupParticipantsUpdate'](_0x7da8bd[_0xa73de4(0x2f3)],_0x1fe971,'add');}else{let _0x2e4a5c=_0x7da8bd[_0xa73de4(0x341)][_0xa73de4(0x3ac)](_0x522c9b=>this[_0xa73de4(0x673)](_0x522c9b));await this[_0xa73de4(0x58b)][_0xa73de4(0x5b0)](_0x7da8bd[_0xa73de4(0x2f3)],_0x2e4a5c,_0x7da8bd['action']);}}return await this['findGroup']({'groupJid':_0x7da8bd['groupJid']});}catch(_0x925cdc){let _0x3d7a74=_0xa73de4(0x184),_0xcc8cf2=_0x925cdc instanceof Error?_0x925cdc[_0xa73de4(0x653)]:typeof _0x925cdc==_0xa73de4(0x7d9)?JSON[_0xa73de4(0x46a)](_0x925cdc):_0x925cdc,_0x46e624=_0x3d7a74+':\x20'+_0xcc8cf2;throw this['logger'][_0xa73de4(0x3cc)](this[_0xa73de4(0x52d)]+'\x20('+this[_0xa73de4(0x670)]['wuid']+_0xa73de4(0x755)+_0x46e624),new m(_0x46e624);}}async['groupGetInviteInfo'](_0x1c8a3d){const _0x6a3e33=a0_0x2ec1ea;try{return await this[_0x6a3e33(0x58b)][_0x6a3e33(0x211)](_0x1c8a3d[_0x6a3e33(0x326)]);}catch(_0x4c0414){let _0x2db53b=_0x6a3e33(0x24e),_0x2f55d4=_0x4c0414 instanceof Error?_0x4c0414[_0x6a3e33(0x653)]:typeof _0x4c0414=='object'?JSON['stringify'](_0x4c0414):_0x4c0414,_0x18e95f=_0x2db53b+':\x20'+_0x2f55d4;throw this[_0x6a3e33(0x470)]['error'](this[_0x6a3e33(0x52d)]+'\x20('+this['instance'][_0x6a3e33(0x6d8)]+_0x6a3e33(0x755)+_0x18e95f),new m(_0x18e95f);}}async[a0_0x2ec1ea(0x6c0)](_0x21efd5,_0x5ecd31=a0_0x2ec1ea(0x3bb)){const _0x5d87bc=a0_0x2ec1ea;try{let _0x1c5a7d=await this['repository'][_0x5d87bc(0x107)][_0x5d87bc(0x167)]({'where':{'_id':_0x21efd5[_0x5d87bc(0x2f3)]}},this[_0x5d87bc(0x670)][_0x5d87bc(0x6d8)]),_0x366164=_0x1c5a7d?_0x1c5a7d['groupdata']:null,_0x35691b=0x18*0x3c*0x3c*0x3e8;if(!_0x366164||_0x366164[_0x5d87bc(0x543)]&&Date[_0x5d87bc(0x493)]()-_0x366164[_0x5d87bc(0x543)]>_0x35691b){let _0x5e56ec=await this[_0x5d87bc(0x58b)][_0x5d87bc(0x61d)](_0x21efd5[_0x5d87bc(0x2f3)]);if(_0x5e56ec[_0x5d87bc(0x756)]=_0x5e56ec?.['subjectTime']&&_0x5e56ec[_0x5d87bc(0x756)][_0x5d87bc(0x4e0)]()['length']<0xd?_0x5e56ec?.[_0x5d87bc(0x756)]*0x3e8:_0x5e56ec?.[_0x5d87bc(0x756)]||null,_0x5e56ec['creation']=_0x5e56ec?.['creation']&&_0x5e56ec[_0x5d87bc(0x334)][_0x5d87bc(0x4e0)]()[_0x5d87bc(0x54d)]<0xd?_0x5e56ec?.['creation']*0x3e8:_0x5e56ec?.[_0x5d87bc(0x334)]||null,_0x366164={..._0x5e56ec,'lastUpdate':Date[_0x5d87bc(0x493)]()},!_0x5e56ec)return;}let _0x445015=_0x366164[_0x5d87bc(0x341)][_0x5d87bc(0x643)](_0x4717bd=>_0x4717bd['id']===this['instance'][_0x5d87bc(0x6d8)]+_0x5d87bc(0x46f)&&_0x4717bd[_0x5d87bc(0x329)]!=null);!_0x366164[_0x5d87bc(0x326)]&&_0x445015&&(_0x366164[_0x5d87bc(0x326)]=(await this['inviteCode'](_0x21efd5,!0x1))[_0x5d87bc(0x63d)]);let _0x2adf2d=(!_0x366164[_0x5d87bc(0x1a8)]||_0x445015)&&(!_0x366164[_0x5d87bc(0x1b6)]||_0x366164[_0x5d87bc(0x1b6)]&&_0x366164[_0x5d87bc(0xca)]&&_0x445015);_0x366164['isAdmin']=_0x445015,_0x366164[_0x5d87bc(0x3a2)]=_0x2adf2d;let _0x473fc3=[];if(_0x445015&&_0x366164[_0x5d87bc(0x15a)])try{_0x473fc3=await this[_0x5d87bc(0x58b)]['groupRequestParticipantsList'](_0x21efd5[_0x5d87bc(0x2f3)]),_0x366164[_0x5d87bc(0x20c)]=Date[_0x5d87bc(0x493)]();}catch(_0x1d1535){this['logger'][_0x5d87bc(0x28b)](this[_0x5d87bc(0x52d)]+'\x20('+this[_0x5d87bc(0x670)]['wuid']+_0x5d87bc(0x59a)+_0x21efd5[_0x5d87bc(0x2f3)]+':\x20'+(_0x1d1535 instanceof Error?_0x1d1535[_0x5d87bc(0x653)]:JSON[_0x5d87bc(0x46a)](_0x1d1535,null,0x2)));}try{_0x366164[_0x5d87bc(0x6da)]=(await this[_0x5d87bc(0x78e)](_0x21efd5[_0x5d87bc(0x2f3)],null,!0x0))['cachedContact'][_0x5d87bc(0x6ea)];}catch(_0x237b7c){this[_0x5d87bc(0x470)]['verbose'](this[_0x5d87bc(0x52d)]+'\x20('+this[_0x5d87bc(0x670)]['wuid']+_0x5d87bc(0x60e)+_0x21efd5[_0x5d87bc(0x2f3)]+':\x20'+(_0x237b7c instanceof Error?_0x237b7c[_0x5d87bc(0x653)]:JSON[_0x5d87bc(0x46a)](_0x237b7c,null,0x2)));}let _0x55313d=_0x366164['participants'][_0x5d87bc(0x3ac)](_0x1d9eaf=>_0x1d9eaf['id']),_0x23faf3=_0x473fc3[_0x5d87bc(0x3ac)](_0x469ee2=>_0x469ee2[_0x5d87bc(0x279)]),_0x3adc5d=await this[_0x5d87bc(0x1f6)][_0x5d87bc(0x45d)][_0x5d87bc(0x70f)]([..._0x55313d,..._0x23faf3]);_0x366164[_0x5d87bc(0x341)]=_0x366164[_0x5d87bc(0x341)][_0x5d87bc(0x3ac)](_0x59fdbd=>{const _0x5c8bf6=_0x5d87bc;let _0x58468c=_0x3adc5d[_0x5c8bf6(0x3f1)](_0x11022b=>_0x11022b[_0x5c8bf6(0x6b1)]===_0x59fdbd['id']);return{'id':_0x59fdbd['id'],'isAdmin':['admin',_0x5c8bf6(0x4cf)]['includes'](_0x59fdbd[_0x5c8bf6(0x329)]),'admin':_0x59fdbd[_0x5c8bf6(0x329)],'pushName':_0x58468c?.['name'],'profilePictureUrl':_0x58468c?.['pictureUrl']};}),_0x366164[_0x5d87bc(0x37a)]=_0x473fc3[_0x5d87bc(0x3ac)](_0x177781=>{const _0x426218=_0x5d87bc;let _0x448087=_0x3adc5d['find'](_0x417e77=>_0x417e77[_0x426218(0x6b1)]===_0x177781[_0x426218(0x279)]);return{'id':_0x177781[_0x426218(0x279)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x448087?.[_0x426218(0x582)],'profilePictureUrl':_0x448087?.[_0x426218(0x6ea)],'request_method':_0x177781[_0x426218(0x15e)],'request_time':_0x177781[_0x426218(0x21c)]};});let _0x4f6629=await this[_0x5d87bc(0x1f6)][_0x5d87bc(0x107)][_0x5d87bc(0x3cf)]({'where':{'_id':_0x21efd5['groupJid']}},{'imagechat':_0x366164[_0x5d87bc(0x6da)],'name':_0x366164[_0x5d87bc(0x6ed)],'lastcache':Date[_0x5d87bc(0x493)](),'groupdata':_0x366164},this['instance'][_0x5d87bc(0x6d8)]);return q(this['instanceName'],_0x5d87bc(0x651),{'chat':_0x4f6629}),{'metadata':_0x366164};}catch(_0x3520ec){if(_0x5ecd31===_0x5d87bc(0xb2))return;throw new J(_0x5d87bc(0xe0),_0x3520ec[_0x5d87bc(0x653)][_0x5d87bc(0x4e0)]());}}async[a0_0x2ec1ea(0x77d)](){const _0x384367=a0_0x2ec1ea;try{this[_0x384367(0x470)]['info'](_0x384367(0x546));let _0x5d9fe6=Date[_0x384367(0x493)](),_0x5aefd6=0x3*0x3c*0x3c*0x3e8;return _0x5d9fe6-this[_0x384367(0x54e)]>_0x5aefd6&&(this[_0x384367(0x3e4)](),this['lastRealGroupsFetch']=_0x5d9fe6),(await this[_0x384367(0x1f6)][_0x384367(0x107)][_0x384367(0x76d)]({'where':{'group':!0x0}},this[_0x384367(0x670)][_0x384367(0x6d8)]))[_0x384367(0x3ac)](_0x57883f=>({..._0x57883f[_0x384367(0x145)],'groupJid':_0x57883f?.[_0x384367(0x6b1)],'participants':_0x57883f?.[_0x384367(0x145)]?.[_0x384367(0x341)]||[],'awaitingApproval':_0x57883f?.[_0x384367(0x145)]?.['awaitingApproval']||[],'image':_0x57883f?.[_0x384367(0x7b6)]}));}catch(_0x35be3a){let _0x56234d=_0x384367(0xab),_0x1723b3=_0x35be3a instanceof Error?_0x35be3a[_0x384367(0x653)]:typeof _0x35be3a==_0x384367(0x7d9)?JSON[_0x384367(0x46a)](_0x35be3a):_0x35be3a,_0x51e188=_0x56234d+':\x20'+_0x1723b3;throw this[_0x384367(0x470)][_0x384367(0x3cc)](this[_0x384367(0x52d)]+'\x20('+this[_0x384367(0x670)][_0x384367(0x6d8)]+'):\x20'+_0x51e188),new J(_0x51e188);}}async[a0_0x2ec1ea(0x3e4)](){const _0x23978d=a0_0x2ec1ea;try{this['logger'][_0x23978d(0x202)](_0x23978d(0x398));let _0x2803d8=[],_0x3d3548=await this[_0x23978d(0x58b)][_0x23978d(0x72a)](),_0x2b5f83=Object[_0x23978d(0x3ab)](_0x3d3548),_0x313248=_0x2b5f83[_0x23978d(0x666)](_0x4b5510=>(0x0,w['isJidGroup'])(_0x4b5510?.['id']))['map'](async _0x59fbef=>{const _0x491166=_0x23978d;try{return await this['client'][_0x491166(0x247)](_0x59fbef['id'],'preview');}catch(_0x4129ad){return this[_0x491166(0x470)]['verbose'](this[_0x491166(0x52d)]+'\x20('+this[_0x491166(0x670)][_0x491166(0x6d8)]+_0x491166(0x60e)+_0x59fbef['id']+':\x20'+(_0x4129ad instanceof Error?_0x4129ad['message']:JSON[_0x491166(0x46a)](_0x4129ad,null,0x2))),null;}}),_0x89d968=await Promise['all'](_0x313248);for(let _0x114da3=0x0;_0x114da3<_0x2b5f83[_0x23978d(0x54d)];_0x114da3++){let _0x9b4268=_0x2b5f83[_0x114da3];(0x0,w[_0x23978d(0x298)])(_0x9b4268?.['id'])&&(_0x2803d8[_0x23978d(0x7ee)]({'groupJid':_0x9b4268?.['id'],'subject':_0x9b4268?.[_0x23978d(0x6ed)],'subjectOwner':_0x9b4268?.[_0x23978d(0x464)]?.[_0x23978d(0x1e1)]('@')[0x0],'subjectTime':_0x9b4268?.[_0x23978d(0x756)],'creation':_0x9b4268?.[_0x23978d(0x334)],'size':_0x9b4268?.[_0x23978d(0x341)]?.['length'],'owner':_0x9b4268?.[_0x23978d(0x4dd)]?.[_0x23978d(0x1e1)]('@')[0x0],'desc':_0x9b4268?.[_0x23978d(0x446)],'restrict':_0x9b4268?.[_0x23978d(0x6df)],'announce':_0x9b4268?.[_0x23978d(0x1a8)],'image':_0x89d968[_0x114da3],'isCommunity':_0x9b4268?.[_0x23978d(0x1b6)],'joinApprovalMode':_0x9b4268?.['joinApprovalMode'],'memberCanAddParticipant':_0x9b4268?.[_0x23978d(0x5bf)],'participants':_0x9b4268?.[_0x23978d(0x341)],'descOwner':_0x9b4268?.[_0x23978d(0x267)],'descId':_0x9b4268?.['descId'],'memberAddMode':_0x9b4268?.[_0x23978d(0x5bf)],'isCommunityAnnounce':_0x9b4268?.[_0x23978d(0xca)],'ephemeralDuration':_0x9b4268?.[_0x23978d(0x127)]||0x0,'author':_0x9b4268?.[_0x23978d(0x108)]}),this[_0x23978d(0x41e)](_0x2b5f83[_0x114da3]));}return _0x2803d8;}catch(_0x28c908){let _0x7dec72='Falha\x20ao\x20processar\x20a\x20solicitao\x20findRealGroups',_0x2f9858=_0x28c908 instanceof Error?_0x28c908[_0x23978d(0x653)]:typeof _0x28c908==_0x23978d(0x7d9)?JSON[_0x23978d(0x46a)](_0x28c908):_0x28c908,_0xf19cfa=_0x7dec72+':\x20'+_0x2f9858;throw this[_0x23978d(0x470)][_0x23978d(0x3cc)](this['instanceName']+'\x20('+this[_0x23978d(0x670)][_0x23978d(0x6d8)]+_0x23978d(0x755)+_0xf19cfa),new J(_0xf19cfa);}}async[a0_0x2ec1ea(0x41e)](_0x188f14){const _0x184fb9=a0_0x2ec1ea;let _0x28f79a=await this[_0x184fb9(0x1f6)]['chat']['findOne']({'where':{'_id':_0x188f14['id']}},this[_0x184fb9(0x670)][_0x184fb9(0x6d8)]);_0x188f14[_0x184fb9(0x756)]=_0x188f14?.['subjectTime']&&_0x188f14[_0x184fb9(0x756)][_0x184fb9(0x4e0)]()[_0x184fb9(0x54d)]<0xd?_0x188f14?.[_0x184fb9(0x756)]*0x3e8:_0x188f14?.[_0x184fb9(0x756)]||null,_0x188f14['creation']=_0x188f14?.['creation']&&_0x188f14[_0x184fb9(0x334)][_0x184fb9(0x4e0)]()['length']<0xd?_0x188f14?.[_0x184fb9(0x334)]*0x3e8:_0x188f14?.[_0x184fb9(0x334)]||null;let _0x526560=_0x28f79a?.[_0x184fb9(0x145)]?.['awaitingApproval']||[],_0x810e32=_0x28f79a?.['groupdata']?.[_0x184fb9(0x20c)],_0x404054=_0x188f14[_0x184fb9(0x341)][_0x184fb9(0x3ac)](_0x3b3150=>{const _0x54fb14=_0x184fb9;let _0x2c1ee7=_0x28f79a?.[_0x54fb14(0x145)]?.['participants'][_0x54fb14(0x3f1)](_0x4c8095=>_0x4c8095['id']===_0x3b3150['id']);return{..._0x3b3150,'isAdmin':['admin',_0x54fb14(0x4cf)]['includes'](_0x3b3150['admin']),'admin':_0x3b3150[_0x54fb14(0x329)],'name':_0x2c1ee7?.[_0x54fb14(0x582)]||_0x3b3150[_0x54fb14(0x582)],'imgUrl':_0x2c1ee7?.[_0x54fb14(0x6fd)]||_0x3b3150[_0x54fb14(0x6fd)]};}),_0x199fb2=_0x404054[_0x184fb9(0x643)](_0xcf63df=>_0xcf63df['id']===this[_0x184fb9(0x670)][_0x184fb9(0x6d8)]+_0x184fb9(0x46f)&&_0xcf63df[_0x184fb9(0x4bb)]),_0x1333cd=(!_0x188f14[_0x184fb9(0x1a8)]||_0x199fb2)&&(!_0x188f14[_0x184fb9(0x1b6)]||_0x188f14[_0x184fb9(0x1b6)]&&_0x188f14['isCommunityAnnounce']&&_0x199fb2),_0x4fad0e={..._0x188f14,'participants':_0x404054,'awaitingApproval':_0x526560,'lastFetchAwaitingApproval':_0x810e32,'isAdmin':_0x199fb2,'canSendMessage':_0x1333cd,'lastUpdate':Date[_0x184fb9(0x493)]()};await this['repository'][_0x184fb9(0x107)][_0x184fb9(0x3cf)]({'where':{'_id':_0x188f14['id']}},{'name':_0x188f14[_0x184fb9(0x6ed)],'group':!0x0,'groupdata':_0x4fad0e,'lastcache':Date[_0x184fb9(0x493)]()},this['instance']['wuid']),q(this[_0x184fb9(0x52d)],_0x184fb9(0x651),{'chat':_0x188f14});}async[a0_0x2ec1ea(0x2d5)](_0x11203f){const _0x1da021=a0_0x2ec1ea;let _0x299f85=await this[_0x1da021(0x1f6)][_0x1da021(0x107)][_0x1da021(0x167)]({'where':{'_id':_0x11203f['id']}},this[_0x1da021(0x670)][_0x1da021(0x6d8)]);_0x11203f['subjectTime']=_0x11203f?.[_0x1da021(0x756)]&&_0x11203f[_0x1da021(0x756)][_0x1da021(0x4e0)]()[_0x1da021(0x54d)]<0xd?_0x11203f?.[_0x1da021(0x756)]*0x3e8:_0x11203f?.[_0x1da021(0x756)]||null,_0x11203f[_0x1da021(0x334)]=_0x11203f?.['creation']&&_0x11203f['creation'][_0x1da021(0x4e0)]()[_0x1da021(0x54d)]<0xd?_0x11203f?.[_0x1da021(0x334)]*0x3e8:_0x11203f?.[_0x1da021(0x334)]||null,_0x11203f[_0x1da021(0x326)]&&(_0x11203f['inviteCode']=_0x1da021(0x1b3)+_0x11203f[_0x1da021(0x326)]);let _0x1034b6=_0x299f85?.[_0x1da021(0x145)]?{..._0x299f85[_0x1da021(0x145)]}:{};Object[_0x1da021(0x6b5)](_0x11203f)[_0x1da021(0x487)](_0x241081=>{_0x241081!=='id'&&(_0x1034b6[_0x241081]=_0x11203f[_0x241081]);});let _0x4fc271=_0x1034b6[_0x1da021(0x341)]?.[_0x1da021(0x643)](_0x1e027c=>_0x1e027c['id']===this[_0x1da021(0x670)][_0x1da021(0x6d8)]+_0x1da021(0x46f)&&_0x1e027c[_0x1da021(0x4bb)])||!0x1;_0x1034b6[_0x1da021(0x4bb)]=_0x4fc271;let _0x33633e=(!_0x1034b6[_0x1da021(0x1a8)]||_0x4fc271)&&(!_0x1034b6[_0x1da021(0x1b6)]||_0x1034b6[_0x1da021(0x1b6)]&&_0x1034b6[_0x1da021(0xca)]&&_0x4fc271);_0x1034b6[_0x1da021(0x3a2)]=_0x33633e;let _0x36f8b2={'group':!0x0,'groupdata':_0x1034b6};_0x11203f[_0x1da021(0x6ed)]&&(_0x36f8b2[_0x1da021(0x582)]=_0x11203f['subject']),await this[_0x1da021(0x1f6)]['chat'][_0x1da021(0x3cf)]({'where':{'_id':_0x11203f['id']}},_0x36f8b2,this[_0x1da021(0x670)]['wuid'],{'upsert':!0x0}),q(this[_0x1da021(0x52d)],_0x1da021(0x651),{'chat':_0x36f8b2});}async[a0_0x2ec1ea(0x506)](_0x54e04f){const _0x121fce=a0_0x2ec1ea;let _0x5396dc=await this[_0x121fce(0x1f6)]['chat'][_0x121fce(0x167)]({'where':{'_id':_0x54e04f['id']}},this[_0x121fce(0x670)][_0x121fce(0x6d8)]);if(!_0x5396dc||!_0x5396dc[_0x121fce(0x145)]){this[_0x121fce(0x470)][_0x121fce(0x202)](this['instanceName']+'\x20('+this[_0x121fce(0x670)][_0x121fce(0x6d8)]+'):\x20\x27Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x27,\x20'+_0x54e04f['id']);return;}let _0x435f83=await this[_0x121fce(0x1f6)][_0x121fce(0x45d)][_0x121fce(0x70f)](_0x54e04f[_0x121fce(0x341)]),_0x3ec8c9=[..._0x5396dc['groupdata']?.[_0x121fce(0x341)]];switch(_0x54e04f[_0x121fce(0x581)]){case _0x121fce(0x2fc):let _0x5f0a6b=_0x435f83[_0x121fce(0x3ac)](_0x54eb10=>({'id':_0x54eb10['_id'],'isAdmin':!0x1,'name':_0x54eb10[_0x121fce(0x582)],'imgUrl':_0x54eb10[_0x121fce(0x6ea)]}));_0x3ec8c9=[..._0x3ec8c9,..._0x5f0a6b];break;case _0x121fce(0x2a4):_0x3ec8c9=_0x3ec8c9[_0x121fce(0x666)](_0x4afe71=>!_0x54e04f[_0x121fce(0x341)][_0x121fce(0x7de)](_0x4afe71['id']));break;case _0x121fce(0xef):case'demote':_0x3ec8c9=_0x3ec8c9[_0x121fce(0x3ac)](_0x8af38c=>_0x54e04f[_0x121fce(0x341)][_0x121fce(0x7de)](_0x8af38c['id'])?{..._0x8af38c,'isAdmin':_0x54e04f[_0x121fce(0x581)]==='promote'}:_0x8af38c);break;}let _0x3792be=_0x3ec8c9[_0x121fce(0x54d)],_0x2a528d=_0x3ec8c9[_0x121fce(0x643)](_0x10459c=>_0x10459c['id']===this['instance']['wuid']+_0x121fce(0x46f)),_0x4ec6e4=_0x2a528d&&_0x3ec8c9[_0x121fce(0x643)](_0x3a4a1d=>_0x3a4a1d['id']===this[_0x121fce(0x670)][_0x121fce(0x6d8)]+_0x121fce(0x46f)&&_0x3a4a1d[_0x121fce(0x4bb)]),_0x4fa5e0=_0x2a528d&&(!_0x5396dc[_0x121fce(0x145)][_0x121fce(0x1a8)]||_0x4ec6e4)&&(!_0x5396dc[_0x121fce(0x145)]['isCommunity']||_0x5396dc[_0x121fce(0x145)][_0x121fce(0x1b6)]&&_0x4ec6e4);await this[_0x121fce(0x1f6)][_0x121fce(0x107)][_0x121fce(0x3cf)]({'where':{'_id':_0x54e04f['id']}},{'groupdata':{..._0x5396dc[_0x121fce(0x145)],'participants':_0x3ec8c9,'size':_0x3792be,'isAdmin':_0x4ec6e4,'canSendMessage':_0x4fa5e0}},this[_0x121fce(0x670)][_0x121fce(0x6d8)]),this[_0x121fce(0x470)][_0x121fce(0x202)](this[_0x121fce(0x52d)]+'\x20('+this['instance'][_0x121fce(0x6d8)]+_0x121fce(0x79b)+_0x54e04f['id']+_0x121fce(0x620)+_0x54e04f['action']+_0x121fce(0x602)+_0x3792be+',\x20isAdmin:\x20'+_0x4ec6e4+_0x121fce(0x6a0)+_0x4fa5e0);}async[a0_0x2ec1ea(0x326)](_0x518638,_0x1582ca=!0x0){const _0x52038b=a0_0x2ec1ea;try{let _0x13d120=await this[_0x52038b(0x58b)]['groupInviteCode'](_0x518638[_0x52038b(0x2f3)]),_0x4e6701={'groupdata.inviteCode':_0x52038b(0x1b3)+_0x13d120};if(_0x1582ca){let _0x3b1c3a=await this[_0x52038b(0x1f6)]['chat'][_0x52038b(0x3cf)]({'where':{'_id':_0x518638['groupJid']}},_0x4e6701,this[_0x52038b(0x670)][_0x52038b(0x6d8)]);}return{'inviteUrl':_0x52038b(0x1b3)+_0x13d120,'inviteCode':_0x13d120};}catch(_0x2ad977){let _0x3e0820=_0x52038b(0x3ec),_0x3d2b79=_0x2ad977 instanceof Error?_0x2ad977['message']:typeof _0x2ad977==_0x52038b(0x7d9)?JSON[_0x52038b(0x46a)](_0x2ad977):_0x2ad977,_0x45f723=_0x3e0820+':\x20'+_0x3d2b79;throw this[_0x52038b(0x470)]['error'](this[_0x52038b(0x52d)]+'\x20('+this['instance']['wuid']+_0x52038b(0x755)+_0x45f723),new J(_0x45f723);}}async[a0_0x2ec1ea(0x1cc)](_0x223ce1){const _0x16a5ef=a0_0x2ec1ea;try{let _0x5eba49=await this[_0x16a5ef(0x58b)][_0x16a5ef(0x11b)](_0x223ce1[_0x16a5ef(0x2f3)]);return{'revoked':!0x0,'inviteUrl':_0x16a5ef(0x1b3)+_0x5eba49,'inviteCode':_0x5eba49};}catch(_0x3d1c78){let _0x44131b=_0x16a5ef(0xbc),_0x2d0884=_0x3d1c78 instanceof Error?_0x3d1c78['message']:typeof _0x3d1c78==_0x16a5ef(0x7d9)?JSON[_0x16a5ef(0x46a)](_0x3d1c78):_0x3d1c78,_0x75c64c=_0x44131b+':\x20'+_0x2d0884;throw this['logger'][_0x16a5ef(0x3cc)](this[_0x16a5ef(0x52d)]+'\x20('+this['instance'][_0x16a5ef(0x6d8)]+'):\x20'+_0x75c64c),new J(_0x75c64c);}}async['joinGroup'](_0x36c2e5){const _0x5da501=a0_0x2ec1ea;try{if((0x0,k[_0x5da501(0x7e6)])(_0x36c2e5[_0x5da501(0x326)]))var _0x2b979e=_0x36c2e5[_0x5da501(0x326)][_0x5da501(0x1e1)]('/')[0x3];else var _0x2b979e=_0x36c2e5[_0x5da501(0x326)];let _0x3948d1=await this[_0x5da501(0x58b)][_0x5da501(0x518)](_0x2b979e);return this[_0x5da501(0x470)][_0x5da501(0x28b)](this['instanceName']+'\x20('+this[_0x5da501(0x670)]['wuid']+_0x5da501(0x755)+_0x3948d1),{'join':!0x0,'inviteCode':_0x2b979e,'groupJid':_0x3948d1};}catch(_0x4710d1){let _0x2ac4e6='Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x1beb8b=_0x4710d1 instanceof Error?_0x4710d1[_0x5da501(0x653)]:typeof _0x4710d1==_0x5da501(0x7d9)?JSON[_0x5da501(0x46a)](_0x4710d1):_0x4710d1,_0x542c38=_0x2ac4e6+':\x20'+_0x1beb8b;throw this['logger'][_0x5da501(0x3cc)](this[_0x5da501(0x52d)]+'\x20('+this[_0x5da501(0x670)]['wuid']+_0x5da501(0x755)+_0x542c38),new J(_0x542c38);}}async[a0_0x2ec1ea(0x2a5)](_0x5914d6){const _0x1d4ee0=a0_0x2ec1ea;try{return{'participants':(await this[_0x1d4ee0(0x1f6)][_0x1d4ee0(0x107)]['findOne']({'where':{'_id':_0x5914d6[_0x1d4ee0(0x2f3)]}},this[_0x1d4ee0(0x670)]['wuid']))[_0x1d4ee0(0x145)][_0x1d4ee0(0x341)]};}catch(_0x2c6d7e){let _0x3fddff=_0x1d4ee0(0xc7),_0x37e85f=_0x2c6d7e instanceof Error?_0x2c6d7e[_0x1d4ee0(0x653)]:typeof _0x2c6d7e==_0x1d4ee0(0x7d9)?JSON[_0x1d4ee0(0x46a)](_0x2c6d7e):_0x2c6d7e,_0x36a81c=_0x3fddff+':\x20'+_0x37e85f;throw this[_0x1d4ee0(0x470)][_0x1d4ee0(0x3cc)](this[_0x1d4ee0(0x52d)]+'\x20('+this[_0x1d4ee0(0x670)][_0x1d4ee0(0x6d8)]+_0x1d4ee0(0x755)+_0x36a81c),new J(_0x36a81c);}}async['leaveGroup'](_0x14b61c){const _0x4ac9c=a0_0x2ec1ea;try{return await this['client'][_0x4ac9c(0x741)](_0x14b61c[_0x4ac9c(0x2f3)]),{'groupJid':_0x14b61c[_0x4ac9c(0x2f3)],'leave':!0x0};}catch(_0x8c0ee4){let _0xeefe50=_0x4ac9c(0x3ee),_0x1488b7=_0x8c0ee4 instanceof Error?_0x8c0ee4[_0x4ac9c(0x653)]:typeof _0x8c0ee4==_0x4ac9c(0x7d9)?JSON[_0x4ac9c(0x46a)](_0x8c0ee4):_0x8c0ee4,_0x2ced95=_0xeefe50+':\x20'+_0x1488b7;throw this[_0x4ac9c(0x470)][_0x4ac9c(0x3cc)](this[_0x4ac9c(0x52d)]+'\x20('+this[_0x4ac9c(0x670)][_0x4ac9c(0x6d8)]+'):\x20'+_0x2ced95),new m(_0x2ced95);}}async[a0_0x2ec1ea(0x245)](_0x3d1bf4){const _0x3e26ea=a0_0x2ec1ea;return await this['sendMessageWithTyping'](_0x3d1bf4['number'],{'poll':{'name':_0x3d1bf4['pollMessage']?.['name'],'selectableCount':_0x3d1bf4[_0x3e26ea(0x245)][_0x3e26ea(0x47b)],'values':_0x3d1bf4[_0x3e26ea(0x245)]['values']}},_0x3d1bf4?.[_0x3e26ea(0x499)]);}async[a0_0x2ec1ea(0x196)](_0x4fa865){const _0x5a001d=a0_0x2ec1ea;return await this[_0x5a001d(0x35f)](_0x4fa865['number'],{'listMessage':{'title':_0x4fa865[_0x5a001d(0x196)][_0x5a001d(0x19e)],'description':_0x4fa865['listMessage'][_0x5a001d(0x672)],'buttonText':_0x4fa865[_0x5a001d(0x196)]?.[_0x5a001d(0x151)],'footerText':_0x4fa865[_0x5a001d(0x196)]?.[_0x5a001d(0x39f)],'sections':_0x4fa865['listMessage']['sections'],'listType':0x2}},_0x4fa865?.['options']);}async['menuMessage'](_0x3e8c){const _0x58bce3=a0_0x2ec1ea;let _0x756bce;if(_0x3e8c[_0x58bce3(0x7a6)]['type']===_0x58bce3(0x4a3)){let _0xc2e678=_0x3e8c[_0x58bce3(0x7a6)][_0x58bce3(0x2e7)][_0x58bce3(0x28f)]('\x0a'),_0x4e597f='',_0x1f7aaf='';_0xc2e678!==-0x1?(_0x4e597f=_0x3e8c['menuMessage'][_0x58bce3(0x2e7)][_0x58bce3(0x797)](0x0,_0xc2e678)[_0x58bce3(0x3fb)](),_0x1f7aaf=_0x3e8c['menuMessage'][_0x58bce3(0x2e7)][_0x58bce3(0x797)](_0xc2e678+0x1)):_0x1f7aaf=_0x3e8c[_0x58bce3(0x7a6)]['text'];let _0x462b43=_0x3e8c[_0x58bce3(0x7a6)]['choices'][_0x58bce3(0x666)](_0x324777=>_0x324777[_0x58bce3(0x3fb)]()!==''),_0x509c5c=this[_0x58bce3(0x65a)](_0x462b43);_0x756bce={'listMessage':{'title':_0x4e597f,'description':_0x1f7aaf,'buttonText':_0x3e8c[_0x58bce3(0x7a6)]['buttonText']||_0x58bce3(0x243),'footerText':_0x3e8c[_0x58bce3(0x7a6)][_0x58bce3(0x39f)],'sections':_0x509c5c,'listType':0x2}};}else{if(_0x3e8c[_0x58bce3(0x7a6)]['type']===_0x58bce3(0x445)){let _0x21e0b0=_0x3e8c[_0x58bce3(0x7a6)][_0x58bce3(0xe8)][_0x58bce3(0x666)](_0x322c33=>!(_0x322c33[_0x58bce3(0x752)]('[')&&_0x322c33[_0x58bce3(0x713)](']'))&&_0x322c33[_0x58bce3(0x3fb)]()!=='')[_0x58bce3(0x3ac)](_0x507917=>_0x507917[_0x58bce3(0x1e1)]('\x0a')[0x0]);_0x756bce={'poll':{'name':_0x3e8c[_0x58bce3(0x7a6)][_0x58bce3(0x2e7)],'selectableCount':_0x3e8c['menuMessage']['selectableCount']||0x1,'values':_0x21e0b0}};}}return await this[_0x58bce3(0x35f)](_0x3e8c[_0x58bce3(0x2fa)],_0x756bce,_0x3e8c?.['options']);}['createSectionsFromValues'](_0x2ab816){const _0xfb34ea=a0_0x2ec1ea;let _0xe79020=[],_0x2be382={'rows':[]};return _0x2ab816['forEach'](_0x1cee2f=>{const _0xe41db8=a0_0x5390;if(_0x1cee2f['startsWith']('[')&&_0x1cee2f[_0xe41db8(0x713)](']'))_0x2be382[_0xe41db8(0x530)][_0xe41db8(0x54d)]>0x0&&_0xe79020['push'](_0x2be382),_0x2be382={'title':_0x1cee2f[_0xe41db8(0x604)](0x1,-0x1),'rows':[]};else{let _0x533a85=_0x1cee2f['split']('\x0a')[_0xe41db8(0x3ac)](_0x3a8875=>_0x3a8875['trim']()),_0x1e22da=_0x533a85[0x0],_0x427916=_0x533a85[0x1]||null,_0x3300d8=_0x533a85[0x2]||_0x1e22da;_0x2be382[_0xe41db8(0x530)][_0xe41db8(0x7ee)]({'title':_0x1e22da,'description':_0x427916,'rowId':_0x3300d8});}}),_0x2be382[_0xfb34ea(0x530)][_0xfb34ea(0x54d)]>0x0&&_0xe79020[_0xfb34ea(0x7ee)](_0x2be382),_0xe79020;}async[a0_0x2ec1ea(0x37c)](_0x19eb9d,_0x414984){const _0x50fe99=a0_0x2ec1ea;if(await this[_0x50fe99(0x75f)](_0x19eb9d,!0x0)){let _0x4b7685={'where':{'_id':_0x19eb9d['id']}},_0x273275={'status':[_0x414984[_0x50fe99(0x3fd)]][0x0]};try{let _0x3ec194=await this[_0x50fe99(0x1f6)][_0x50fe99(0x653)][_0x50fe99(0x4d2)](_0x4b7685,_0x273275,this[_0x50fe99(0x670)][_0x50fe99(0x6d8)]);_0x3ec194&&q(this[_0x50fe99(0x52d)],_0x50fe99(0x6eb),{'message':_0x3ec194});}catch{}}}[a0_0x2ec1ea(0x3f2)](_0x5d50c6){const _0x1096ce=a0_0x2ec1ea;let _0x21cd59=[];return _0x5d50c6[_0x1096ce(0x487)](_0x1a272f=>{const _0x4d2973=_0x1096ce;_0x1a272f[_0x4d2973(0x19e)]&&_0x21cd59[_0x4d2973(0x7ee)]('['+_0x1a272f[_0x4d2973(0x19e)]+']'),_0x1a272f[_0x4d2973(0x530)][_0x4d2973(0x487)](_0xe80b79=>{const _0x44e3e8=_0x4d2973;_0x21cd59['push'](_0xe80b79[_0x44e3e8(0x19e)]);});}),_0x21cd59[_0x1096ce(0x2ed)]('|');}['formatVCard'](_0x4aea57){const _0x4fc450=a0_0x2ec1ea;let _0x3d730c=_0x4aea57[_0x4fc450(0x19d)](/\\n/g,'\x0a')[_0x4fc450(0x1e1)]('\x0a')['filter'](_0x22208f=>_0x22208f['includes'](_0x4fc450(0x3d2))||_0x22208f['includes'](_0x4fc450(0x385))),_0x5de685='';return _0x3d730c[_0x4fc450(0x487)](_0x51f260=>{const _0x16dd31=_0x4fc450;let _0xefa17b=/TEL(?:.*):(.+)/,_0x41f442=/EMAIL(?:.*):(.+)/,_0x1ef41a=_0x51f260['match'](_0xefa17b),_0x10a290=_0x51f260[_0x16dd31(0x6f8)](_0x41f442);if(_0x1ef41a){let _0x80be15=_0x1ef41a[0x1][_0x16dd31(0x19d)](/-| |\+|\(|\)/g,'')[_0x16dd31(0x3fb)]();_0x5de685+=_0x16dd31(0x13d)+_0x80be15+'\x0a';}else{if(_0x10a290){let _0x19af09=_0x10a290[0x1][_0x16dd31(0x3fb)]();_0x5de685+='E-mail:\x20'+_0x19af09+'\x0a';}}}),_0x5de685[_0x4fc450(0x3fb)]();}async[a0_0x2ec1ea(0x662)](_0x5b2fe3,_0x17d99c,_0x41785c,_0x555943=null){const _0x4c0b5e=a0_0x2ec1ea;if(_0x5b2fe3['ENABLED'])try{let _0x24e152=_0x17d99c[_0x4c0b5e(0x2e1)][_0x4c0b5e(0x48b)][_0x4c0b5e(0x19d)](/:\d{1,2}@/g,'@'),_0x286535=_0x17d99c['key'][_0x4c0b5e(0x103)],_0x3f1a92=_0x24e152['endsWith'](_0x4c0b5e(0x6f3)),_0x320754=_0x17d99c[_0x4c0b5e(0x70e)]?.[_0x4c0b5e(0x19d)](/:\d{1,2}@/g,'@')||'',_0x52111b=_0x17d99c[_0x4c0b5e(0x65d)]?.[_0x4c0b5e(0x2e7)]||_0x17d99c[_0x4c0b5e(0x65d)]?.[_0x4c0b5e(0x71b)]||_0x17d99c['message_normalized']?.[_0x4c0b5e(0x633)]||_0x17d99c[_0x4c0b5e(0x65d)]?.['name']||'',_0x45161f={'_id':_0x17d99c[_0x4c0b5e(0x6b1)],'remoteJid':_0x286535?this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]:_0x3f1a92?_0x320754:_0x24e152,'pushName':_0x286535?this['instance']['profileName']||'Eu':_0x17d99c[_0x4c0b5e(0x64e)],'text':_0x52111b,'type':_0x17d99c['messageType'],'when':_0x17d99c['messageTimestamp']||Date[_0x4c0b5e(0x493)]()};_0x555943||(_0x555943=await this[_0x4c0b5e(0x1f6)][_0x4c0b5e(0x107)]['findOne']({'where':{'_id':_0x24e152}},this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]));let _0x368167=_0x555943?_0x286535?_0x555943['unreadcount']:(_0x555943[_0x4c0b5e(0xf7)]||0x0)+0x1:_0x286535?0x0:0x1,_0x3b09bf={'lastmsg':_0x17d99c[_0x4c0b5e(0x5af)]||Date[_0x4c0b5e(0x493)](),'ephemeralExpiration':_0x17d99c[_0x4c0b5e(0x7a5)],'lastMessage':_0x45161f,'unreadcount':_0x368167,..._0x286535||_0x3f1a92?{}:{'name':_0x17d99c[_0x4c0b5e(0x64e)]},..._0x3f1a92?{'group':_0x3f1a92}:{},...!_0x286535&&!_0x3f1a92&&_0x17d99c[_0x4c0b5e(0x247)]?{'imagechat':_0x17d99c[_0x4c0b5e(0x247)]}:{}};if(!_0x3f1a92&&(!_0x555943?.['leadInfo']||!_0x555943[_0x4c0b5e(0x5f5)][_0x4c0b5e(0x3b9)])&&_0x17d99c[_0x4c0b5e(0x64e)]&&!_0x286535&&(_0x3b09bf={..._0x3b09bf,'leadInfo.nome':_0x17d99c[_0x4c0b5e(0x64e)]}),_0x555943?.[_0x4c0b5e(0x5f5)][_0x4c0b5e(0x1cb)]||(_0x3b09bf={..._0x3b09bf,'leadInfo.etiquetas':[]}),_0x555943?.[_0x4c0b5e(0x5f5)][_0x4c0b5e(0x4e4)]||(_0x3b09bf={..._0x3b09bf,'leadInfo.customFields':[]}),_0x555943?.[_0x4c0b5e(0x5f5)][_0x4c0b5e(0x1df)]||(_0x3b09bf={..._0x3b09bf,'leadInfo.tags':[]}),_0x555943&&_0x555943?.[_0x4c0b5e(0x1c5)]){let _0xf5f0aa=await this[_0x4c0b5e(0x1f6)][_0x4c0b5e(0x67f)][_0x4c0b5e(0x3f1)]({'where':{}},this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]),_0xa899b2=new Set(_0xf5f0aa[_0x4c0b5e(0x3ac)](_0x175a5b=>_0x175a5b[_0x4c0b5e(0x6b1)])),_0x228336=(_0x555943[_0x4c0b5e(0x5f5)]?.['etiquetas']||[])['filter'](_0x3f1675=>_0xa899b2[_0x4c0b5e(0x4a0)](_0x3f1675));_0x3b09bf={..._0x3b09bf,'imported':!0x1,'leadInfo.etiquetas':_0x228336};for(let _0x484bfb of _0x228336)await this[_0x4c0b5e(0x28a)](_0x484bfb,_0x24e152);}if(!this['AutomateSystem'][_0x4c0b5e(0x6c1)][_0x4c0b5e(0x3f1)](_0x326834=>_0x326834['startCommand']&&_0x52111b['includes'](_0x326834[_0x4c0b5e(0x694)]))&&_0x41785c===_0x4c0b5e(0x7d6)&&_0x286535&&this['AutomateSystem']?.[_0x4c0b5e(0x770)][_0x4c0b5e(0x7b9)]&&_0x52111b[_0x4c0b5e(0x3fb)]()!==this['AutomateSystem']?.[_0x4c0b5e(0x770)][_0x4c0b5e(0x32b)]['trim']()){let _0x4246c3=(this[_0x4c0b5e(0x3a1)]?.['flowConfig'][_0x4c0b5e(0x198)]||0x0)*0xea60,_0x3c8c15=Date[_0x4c0b5e(0x493)]()+_0x4246c3;_0x555943?.[_0x4c0b5e(0x5f5)]?.['desativadoFluxoAte']===0x0||(_0x3b09bf={..._0x3b09bf,'leadInfo.desativadoFluxoAte':_0x3c8c15},this[_0x4c0b5e(0x470)][_0x4c0b5e(0x28b)](this[_0x4c0b5e(0x52d)]+'\x20('+this['instance'][_0x4c0b5e(0x6d8)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20'+_0x3c8c15+'.'));}if(_0x52111b[_0x4c0b5e(0x3fb)]()===this[_0x4c0b5e(0x3a1)]?.[_0x4c0b5e(0x770)]['stopConversation'][_0x4c0b5e(0x3fb)]()){this[_0x4c0b5e(0x470)]['verbose'](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x64b)+_0x52111b);let _0x28cd36=Date[_0x4c0b5e(0x493)]();this['AutomateSystem']?.[_0x4c0b5e(0x770)][_0x4c0b5e(0xbb)]===0x0?_0x3b09bf={..._0x3b09bf,'leadInfo.desativadoFluxoAte':_0x28cd36+0x7591f6200}:_0x3b09bf={..._0x3b09bf,'leadInfo.desativadoFluxoAte':_0x28cd36+this[_0x4c0b5e(0x3a1)]?.[_0x4c0b5e(0x770)]['stopMinutes']*0x3c*0x3e8};}if(_0x555943=await this[_0x4c0b5e(0x1f6)]['chat'][_0x4c0b5e(0x3cf)]({'where':{'_id':_0x24e152}},_0x3b09bf,this['instance'][_0x4c0b5e(0x6d8)],{'new':!0x0,'upsert':!0x0}),_0x555943)q(this['instanceName'],_0x4c0b5e(0x651),{'chat':_0x555943});else{this['logger'][_0x4c0b5e(0x3cc)](this['instanceName']+'\x20('+this[_0x4c0b5e(0x670)]['wuid']+_0x4c0b5e(0x2a9));return;}if(_0x286535)return this['logger']['verbose'](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x136)),null;if(!this[_0x4c0b5e(0x3a1)]?.[_0x4c0b5e(0x770)][_0x4c0b5e(0x7b9)])return this['logger'][_0x4c0b5e(0x28b)](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)]['wuid']+_0x4c0b5e(0x711)),null;if(_0x555943[_0x4c0b5e(0x6b1)][_0x4c0b5e(0x7de)]('@g.us')&&this[_0x4c0b5e(0x3a1)]?.['flowConfig'][_0x4c0b5e(0x57a)]===!0x0)return this[_0x4c0b5e(0x470)][_0x4c0b5e(0x28b)](this['instanceName']+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x1f3)),null;if(_0x555943[_0x4c0b5e(0x5f5)]){if(_0x555943['leadInfo']['desativadoFluxoAte']===0x0||_0x555943[_0x4c0b5e(0x5f5)][_0x4c0b5e(0x174)])return this['logger']['verbose'](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x3a7)+_0x24e152+',\x20saindo.'),null;if(_0x555943['leadInfo'][_0x4c0b5e(0x217)]>Date[_0x4c0b5e(0x493)]()&&!_0x17d99c[_0x4c0b5e(0x65d)]?.[_0x4c0b5e(0x633)])return this['logger'][_0x4c0b5e(0x28b)](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x207)+new Date(_0x555943[_0x4c0b5e(0x5f5)]['desativadoFluxoAte'])[_0x4c0b5e(0x354)]()+_0x4c0b5e(0x1c6)),null;}this['logger'][_0x4c0b5e(0x28b)](this[_0x4c0b5e(0x52d)]+'\x20('+this[_0x4c0b5e(0x670)][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x593)),this[_0x4c0b5e(0x23d)](_0x17d99c,_0x41785c);}catch(_0x1bea53){let _0x5b0891='Erro\x20na\x20funo\x20updateChatWithMessage:\x20',_0x360081=_0x1bea53 instanceof Error?_0x1bea53['message']:typeof _0x1bea53==_0x4c0b5e(0x7d9)?JSON[_0x4c0b5e(0x46a)](_0x1bea53):_0x1bea53,_0x180939=_0x5b0891+':\x20'+_0x360081;return this['logger'][_0x4c0b5e(0x3cc)](this[_0x4c0b5e(0x52d)]+'\x20('+this['instance'][_0x4c0b5e(0x6d8)]+_0x4c0b5e(0x755)+_0x180939),null;}}async[a0_0x2ec1ea(0x1f1)](_0x4ff63b,_0x2719a1){const _0x4c6740=a0_0x2ec1ea;if(_0x2719a1[_0x4c6740(0x4d5)]){let _0x7ee030=_0x4ff63b[_0x4c6740(0x3ac)](async _0x666198=>{const _0x6fa9ea=_0x4c6740;try{let _0x50cb61={'_id':_0x666198['_id'],'owner':_0x666198['owner'],'lastcache':0x0};if(Object[_0x6fa9ea(0x6b5)](_0x666198)[_0x6fa9ea(0x487)](_0x5178ef=>{_0x666198[_0x5178ef]!==null&&(_0x50cb61[_0x5178ef]=_0x666198[_0x5178ef]);}),_0x50cb61[_0x6fa9ea(0x7b6)]===null&&(_0x50cb61['imagechat']=_0x6fa9ea(0x33b)),Object[_0x6fa9ea(0x6b5)](_0x50cb61)[_0x6fa9ea(0x54d)]>0x0)return await this[_0x6fa9ea(0x1f6)][_0x6fa9ea(0x107)]['updateOne']({'where':{'_id':_0x666198['_id']}},_0x50cb61,this['instance']['wuid']);}catch(_0x213374){let _0x13384e='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x666198['_id'],_0x4adbb3=_0x213374 instanceof Error?_0x213374['message']:typeof _0x213374==_0x6fa9ea(0x7d9)?JSON[_0x6fa9ea(0x46a)](_0x213374):_0x213374,_0xfbeabb=_0x13384e+':\x20'+_0x4adbb3;return this[_0x6fa9ea(0x470)]['error'](this[_0x6fa9ea(0x52d)]+'\x20('+this[_0x6fa9ea(0x670)][_0x6fa9ea(0x6d8)]+_0x6fa9ea(0x755)+_0xfbeabb),null;}}),_0x32f087=(await Promise[_0x4c6740(0x378)](_0x7ee030))['filter'](_0x32f63e=>_0x32f63e!==null)[_0x4c6740(0x54d)];this[_0x4c6740(0x470)][_0x4c6740(0x28b)](this[_0x4c6740(0x52d)]+'\x20('+this[_0x4c6740(0x670)][_0x4c6740(0x6d8)]+_0x4c6740(0x755)+_0x32f087+_0x4c6740(0x5ff)+this['instance'][_0x4c6740(0x6d8)]+_0x4c6740(0x538));}}async['readMessageBot'](_0x3c2e2d){const _0x43e77e=a0_0x2ec1ea;this[_0x43e77e(0x470)]['verbose'](this[_0x43e77e(0x52d)]+'\x20('+this[_0x43e77e(0x670)][_0x43e77e(0x6d8)]+_0x43e77e(0x32c));let _0x47fd16={'readMessages':[{'remoteJid':_0x3c2e2d[_0x43e77e(0x262)][_0x43e77e(0x1a4)][_0x43e77e(0x2e1)]['remoteJid'],'fromMe':_0x3c2e2d[_0x43e77e(0x262)][_0x43e77e(0x1a4)][_0x43e77e(0x2e1)][_0x43e77e(0x103)],'id':_0x3c2e2d[_0x43e77e(0x262)]['lastReceivedMessage'][_0x43e77e(0x2e1)]['id']}]};await this[_0x43e77e(0x710)](_0x47fd16);}async[a0_0x2ec1ea(0x23d)](_0x258bfa,_0x458320){const _0x2c0af7=a0_0x2ec1ea;try{let {key:_0x1aa735,message_normalized:_0x141219}=_0x258bfa,_0x582f39=_0x141219,_0x55cc5b=_0x141219['text']||_0x141219[_0x2c0af7(0x71b)]||_0x141219[_0x2c0af7(0x633)]||_0x141219[_0x2c0af7(0x582)]||'',_0x4d1134=_0x1aa735[_0x2c0af7(0x48b)],_0x1e624d=null,_0x4144f0=this[_0x2c0af7(0x3a1)][_0x2c0af7(0x6c1)][_0x2c0af7(0x3f1)](_0xb76da2=>_0xb76da2[_0x2c0af7(0x694)]&&_0x55cc5b[_0x2c0af7(0x7de)](_0xb76da2[_0x2c0af7(0x694)]));if(_0x4144f0&&_0x458320===_0x2c0af7(0x7d6)){let _0x22d5f7=await this[_0x2c0af7(0x1f6)][_0x2c0af7(0x429)][_0x2c0af7(0x167)]({'where':{'_id':_0x4144f0[_0x2c0af7(0x6b1)]}});if(this[_0x2c0af7(0x470)][_0x2c0af7(0x28b)](this[_0x2c0af7(0x52d)]+'\x20('+this[_0x2c0af7(0x670)][_0x2c0af7(0x6d8)]+_0x2c0af7(0xfd)),_0x22d5f7&&_0x22d5f7[_0x2c0af7(0x225)]?.[_0x2c0af7(0x7de)](this[_0x2c0af7(0x670)][_0x2c0af7(0x6d8)]))_0x1e624d=await this[_0x2c0af7(0x355)](_0x22d5f7,_0x1aa735,_0x582f39);else return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2c0af7(0x670)][_0x2c0af7(0x6d8)]+_0x2c0af7(0x4ae)),null;}else this[_0x2c0af7(0x470)][_0x2c0af7(0x28b)](this[_0x2c0af7(0x52d)]+'\x20('+this[_0x2c0af7(0x670)]['wuid']+_0x2c0af7(0x6e1));if(_0x1e624d=await this['findConversation'](_0x4d1134,_0x582f39),_0x1e624d){this[_0x2c0af7(0x470)][_0x2c0af7(0x28b)](this[_0x2c0af7(0x52d)]+'\x20('+this[_0x2c0af7(0x670)][_0x2c0af7(0x6d8)]+_0x2c0af7(0x173)),!_0x1aa735[_0x2c0af7(0x103)]&&_0x1e624d[_0x2c0af7(0x3e7)]&&this[_0x2c0af7(0x539)](_0x1e624d);let _0x59ff6d=await this[_0x2c0af7(0x4fc)](_0x1e624d);_0x59ff6d&&await this[_0x2c0af7(0x5a8)](_0x1e624d,_0x59ff6d);}}catch(_0x44340f){this[_0x2c0af7(0x470)]['error'](this[_0x2c0af7(0x52d)]+'\x20('+this[_0x2c0af7(0x670)][_0x2c0af7(0x6d8)]+_0x2c0af7(0xa3)+(_0x44340f instanceof Error?_0x44340f[_0x2c0af7(0x653)]:JSON[_0x2c0af7(0x46a)](_0x44340f,null,0x2)));}}[a0_0x2ec1ea(0x2a6)](_0x131dd8,_0x4175a1='',_0x38946b={}){const _0x59d2fa=a0_0x2ec1ea;return typeof _0x131dd8!=_0x59d2fa(0x7d9)||_0x131dd8===null?(_0x4175a1&&(_0x38946b[_0x4175a1]=_0x131dd8),_0x38946b):(Object['entries'](_0x131dd8)[_0x59d2fa(0x487)](([_0x3150f3,_0x51fc3f])=>{const _0x12ff52=_0x59d2fa;let _0xb0eb3e=_0x4175a1?_0x4175a1+'.'+_0x3150f3:'_'+_0x3150f3;Array[_0x12ff52(0x158)](_0x51fc3f)?_0x51fc3f['forEach']((_0x4a8ff1,_0x574fef)=>{this['flattenObject'](_0x4a8ff1,_0xb0eb3e+'['+_0x574fef+']',_0x38946b);}):typeof _0x51fc3f=='object'&&_0x51fc3f!==null?this[_0x12ff52(0x2a6)](_0x51fc3f,_0xb0eb3e,_0x38946b):_0x38946b[_0xb0eb3e]=String(_0x51fc3f);}),_0x38946b);}[a0_0x2ec1ea(0x34b)](_0x12994e){const _0x38b274=a0_0x2ec1ea;let _0x491f15={};for(let _0x53441a of _0x12994e)typeof _0x53441a[_0x38b274(0x582)]==_0x38b274(0x2a7)&&typeof _0x53441a[_0x38b274(0x794)]==_0x38b274(0x2a7)&&(_0x491f15[_0x53441a['name']]=_0x53441a[_0x38b274(0x794)]);return _0x491f15;}async[a0_0x2ec1ea(0x4fc)](_0xd5bd86){const _0x17c22f=a0_0x2ec1ea;if(!this[_0x17c22f(0x3a1)]?.[_0x17c22f(0x770)]['enabled']||_0xd5bd86[_0x17c22f(0x3fd)]!==_0x17c22f(0x763)&&_0xd5bd86['waitingMenu_id']==='')return null;let _0x48ef22=_0xd5bd86[_0x17c22f(0x262)]['lastBlockId']||'start';typeof _0xd5bd86[_0x17c22f(0x262)][_0x17c22f(0x548)]>'u'&&(_0xd5bd86[_0x17c22f(0x262)][_0x17c22f(0x548)]=!0x0);let _0x2369de=_0xd5bd86['chatLog'][_0x17c22f(0x548)];this[_0x17c22f(0x470)]['verbose'](this[_0x17c22f(0x52d)]+'\x20('+this[_0x17c22f(0x670)][_0x17c22f(0x6d8)]+'):\x20lastBlockId:\x20'+_0x48ef22+_0x17c22f(0x310)+_0x2369de);let _0x20ad61=_0x48ef22==='start'?_0xd5bd86[_0x17c22f(0x4ed)][_0x17c22f(0x3f1)](_0x596257=>_0x596257['type']==='start'):_0xd5bd86[_0x17c22f(0x4ed)][_0x17c22f(0x3f1)](_0x8a5a72=>_0x8a5a72[_0x17c22f(0x6b1)][_0x17c22f(0x4e0)]()===_0x48ef22[_0x17c22f(0x4e0)]());if(!_0x20ad61)return this['logger'][_0x17c22f(0x3cc)](this[_0x17c22f(0x52d)]+'\x20('+this[_0x17c22f(0x670)][_0x17c22f(0x6d8)]+_0x17c22f(0x1e9)+_0x48ef22),null;let _0x4dd679={'_pushName':_0xd5bd86?.[_0x17c22f(0x262)]?.['lastReceivedMessage']?.[_0x17c22f(0x64e)]||'','_sender':this[_0x17c22f(0x670)][_0x17c22f(0x6d8)]||'',..._0xd5bd86['chatLog'][_0x17c22f(0x3f0)]},_0x4822ae=null;if(_0xd5bd86[_0x17c22f(0x170)]){let _0x811f7=_0xd5bd86[_0x17c22f(0x262)][_0x17c22f(0x1a4)][_0x17c22f(0x633)],_0x172220=_0xd5bd86[_0x17c22f(0x12b)][_0x17c22f(0x3f1)](_0x19dad0=>_0x19dad0[_0x17c22f(0x3fe)]===_0x811f7);if(_0x172220){let _0x5652fd=_0x172220[_0x17c22f(0x691)];if(_0x4822ae=_0xd5bd86[_0x17c22f(0x4ed)][_0x17c22f(0x3f1)](_0x73d764=>_0x73d764['groupId']===_0x5652fd&&_0x73d764['order']===0x1),_0x20ad61[_0x17c22f(0x436)]['pollOnReplyDelete']){let _0x15c20f={'id':_0xd5bd86[_0x17c22f(0x170)],'remoteJid':_0xd5bd86[_0x17c22f(0x48b)],'fromMe':!0x0};await this[_0x17c22f(0x48a)](_0x15c20f);}if(_0x20ad61[_0x17c22f(0x436)][_0x17c22f(0x478)]&&_0x20ad61[_0x17c22f(0x436)]['pollMessageOnDelete']&&_0x20ad61[_0x17c22f(0x436)][_0x17c22f(0x18d)]===_0x17c22f(0x445)){let _0x294af1={'number':_0xd5bd86[_0x17c22f(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x17c22f(0x3b4)+_0xd5bd86['waitingMenu_text']+_0x17c22f(0x1f7)+_0x811f7}};await this[_0x17c22f(0x4f3)](_0x294af1);}_0xd5bd86[_0x17c22f(0x3fd)]=_0x17c22f(0x763),_0xd5bd86['waitingMenu_id']='',_0xd5bd86[_0x17c22f(0x409)]='',_0xd5bd86['waitingMenu_replyOptions']=[];}else{this[_0x17c22f(0x470)][_0x17c22f(0x28b)](this['instanceName']+'\x20('+this[_0x17c22f(0x670)][_0x17c22f(0x6d8)]+'):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x412e23={'activatedCount':_0xd5bd86[_0x17c22f(0x262)]['blockLogs'][_0x17c22f(0x666)](_0x41064c=>String(_0x41064c[_0x17c22f(0xd1)])===String(_0x48ef22))[_0x17c22f(0x54d)],'moreLogs':[_0x17c22f(0x7a8)]};if(_0x20ad61[_0x17c22f(0x436)]['pollErrorMessage']){let _0x41a01f={'number':_0xd5bd86[_0x17c22f(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x20ad61['uazapi'][_0x17c22f(0x192)]}};await this[_0x17c22f(0x4f3)](_0x41a01f);}if(_0x20ad61[_0x17c22f(0x27c)]!==void 0x0&&_0x412e23['activatedCount']>=_0x20ad61[_0x17c22f(0x27c)]){let _0x56a02e=Date[_0x17c22f(0x493)](),_0x4eafb3=_0x20ad61[_0x17c22f(0x6bd)]??0xa;isNaN(_0x4eafb3)&&(_0x4eafb3=0xa);let _0xa1c713=_0x56a02e+_0x4eafb3*0x3c*0x3e8;_0x412e23[_0x17c22f(0x705)]=_0xa1c713,_0x412e23[_0x17c22f(0x3c9)][_0x17c22f(0x7ee)](_0x17c22f(0x6c5)),this['updateStopChat'](_0xd5bd86,_0xa1c713),_0xd5bd86['waitingMenu_id']='',_0xd5bd86['waitingMenu_text']='',_0xd5bd86[_0x17c22f(0x12b)]=[];}return this['updateConversation'](_0xd5bd86,_0x20ad61,_0x412e23,!0x0),null;}}if(_0x2369de&&_0x20ad61['next_groupId']&&!_0xd5bd86['waitingMenu_id']){let _0x16c2bb=_0xd5bd86[_0x17c22f(0x4ed)]['filter'](_0x29d0b4=>_0x29d0b4['groupId'][_0x17c22f(0x4e0)]()===_0x20ad61[_0x17c22f(0x691)][_0x17c22f(0x4e0)]())[_0x17c22f(0x1c4)]((_0x1387d4,_0x21c4f5)=>_0x1387d4[_0x17c22f(0x31b)]-_0x21c4f5[_0x17c22f(0x31b)]);_0x16c2bb[_0x17c22f(0x54d)]>0x0&&(_0x4822ae=_0x16c2bb[0x0]);}if(!_0x4822ae){let _0x13b981=_0x20ad61[_0x17c22f(0x1c3)],_0x400a74=_0xd5bd86['blocks'][_0x17c22f(0x666)](_0x3884be=>_0x3884be[_0x17c22f(0x1c3)]===_0x13b981&&_0x3884be['order']>_0x20ad61[_0x17c22f(0x31b)])[_0x17c22f(0x1c4)]((_0x41cbff,_0x5c1835)=>_0x41cbff[_0x17c22f(0x31b)]-_0x5c1835[_0x17c22f(0x31b)]);_0x400a74[_0x17c22f(0x54d)]>0x0&&(_0x4822ae=_0x400a74[0x0]);}if(!_0x4822ae)return _0xd5bd86[_0x17c22f(0x3fd)]=_0x17c22f(0x371),null;_0xd5bd86['chatLog'][_0x17c22f(0x3f0)]=_0x4dd679;let _0x368cde=JSON[_0x17c22f(0x59b)](JSON[_0x17c22f(0x46a)](_0x4822ae));return this[_0x17c22f(0x381)](_0x368cde,_0xd5bd86[_0x17c22f(0x262)][_0x17c22f(0x3f0)]),_0xd5bd86[_0x17c22f(0x262)][_0x17c22f(0x47f)]=_0x368cde[_0x17c22f(0x6b1)],_0xd5bd86['chatLog'][_0x17c22f(0x548)]=!0x0,_0x368cde;}[a0_0x2ec1ea(0xa9)](_0x3f23d0,_0x53a690){const _0x1dfdad=a0_0x2ec1ea;return _0x3f23d0[_0x1dfdad(0x19d)](/\{\{([^}]+)\}\}/g,(_0xf76b6,_0x553a3a)=>_0x53a690[_0x553a3a]||'');}[a0_0x2ec1ea(0x381)](_0xe4286f,_0x57f4c9){const _0xa0496d=a0_0x2ec1ea;for(let _0x409d55 in _0xe4286f)typeof _0xe4286f[_0x409d55]==_0xa0496d(0x2a7)?_0xe4286f[_0x409d55]=this[_0xa0496d(0xa9)](_0xe4286f[_0x409d55],_0x57f4c9):typeof _0xe4286f[_0x409d55]==_0xa0496d(0x7d9)&&this[_0xa0496d(0x381)](_0xe4286f[_0x409d55],_0x57f4c9);}async['goNextblock'](_0x5bd2ba,_0x3e3954){const _0x3738a3=a0_0x2ec1ea;let _0x2695d4=_0x3e3954[_0x3738a3(0x6b1)];if(_0x5bd2ba[_0x3738a3(0x262)]&&_0x5bd2ba[_0x3738a3(0x262)][_0x3738a3(0x5d2)]){let _0x56004f=_0x5bd2ba[_0x3738a3(0x262)][_0x3738a3(0x5d2)][_0x3738a3(0x666)](_0x5f463d=>String(_0x5f463d[_0x3738a3(0xd1)])===String(_0x2695d4))[_0x3738a3(0x351)]();if(_0x56004f&&_0x56004f[_0x3738a3(0x3cc)]&&_0x3e3954[_0x3738a3(0x6cf)])return _0x5bd2ba[_0x3738a3(0x3fd)]=_0x3738a3(0x371),await this['saveConversationToDatabase'](_0x5bd2ba),null;}if(_0x3e3954[_0x3738a3(0x6e6)]==='uazapi'&&_0x3e3954['uazapi'][_0x3738a3(0x2ac)]==='sendPoll'&&_0x5bd2ba[_0x3738a3(0x170)])return _0x5bd2ba[_0x3738a3(0x262)][_0x3738a3(0x47f)]=_0x2695d4,await this['saveConversationToDatabase'](_0x5bd2ba),null;let _0x136de=await this[_0x3738a3(0x4fc)](_0x5bd2ba);if(_0x5bd2ba[_0x3738a3(0x262)]&&_0x5bd2ba[_0x3738a3(0x262)]['blockLogs']){let _0x2b734d=_0x5bd2ba[_0x3738a3(0x262)][_0x3738a3(0x5d2)][_0x3738a3(0x666)](_0xe2b88a=>String(_0xe2b88a[_0x3738a3(0xd1)])===String(_0x2695d4))[_0x3738a3(0x54d)];if(_0x3e3954[_0x3738a3(0x27c)]!==void 0x0&&_0x2b734d>=_0x3e3954[_0x3738a3(0x27c)]){let _0x5d6070=Date[_0x3738a3(0x493)](),_0xbc1943=_0x3e3954[_0x3738a3(0x6bd)]??0xa;isNaN(_0xbc1943)&&(_0xbc1943=0xa);let _0x584271=_0x5d6070+_0xbc1943*0x3c*0x3e8,_0xe2d929={'newStoppedUntil':_0x584271};return this[_0x3738a3(0x68b)](_0x5bd2ba,_0x584271),this[_0x3738a3(0xfb)](_0x5bd2ba,_0x3e3954,_0xe2d929,!0x0),null;}}_0x136de&&_0x136de[_0x3738a3(0x6e6)]!==_0x3738a3(0x1a1)&&await this[_0x3738a3(0x5a8)](_0x5bd2ba,_0x136de),_0x136de||await this[_0x3738a3(0x3c4)](_0x5bd2ba),_0x136de&&_0x136de[_0x3738a3(0x6e6)]===_0x3738a3(0x1a1)&&(_0x5bd2ba[_0x3738a3(0x262)][_0x3738a3(0x47f)]=_0x2695d4,await this[_0x3738a3(0x3c4)](_0x5bd2ba));}async[a0_0x2ec1ea(0x5a8)](_0x22acc2,_0xc92850){const _0x25262b=a0_0x2ec1ea;try{let _0x57478e=_0xc92850[_0x25262b(0x6e6)];this[_0x25262b(0x470)][_0x25262b(0x28b)](this[_0x25262b(0x52d)]+'\x20('+this['instance'][_0x25262b(0x6d8)]+_0x25262b(0x221)+_0x57478e);let _0x2669d7={'uazapi':()=>this['processUazapi'](_0x22acc2,_0xc92850),'save':()=>this[_0x25262b(0x2ba)](_0x22acc2,_0xc92850),'stop':()=>this['stopConversation'](_0x22acc2,_0xc92850),'condition':()=>this[_0x25262b(0xb1)](_0x22acc2,_0xc92850),'varedit':()=>this['processvaredits'](_0x22acc2,_0xc92850),'apirequest':()=>this['processApiRequest'](_0x22acc2,_0xc92850),'goToFlow':()=>this[_0x25262b(0x6e0)](_0x22acc2,_0xc92850),'scheduleFlow':()=>this[_0x25262b(0x13c)](_0x22acc2,_0xc92850),'awaitSeconds':()=>this[_0x25262b(0x28d)](_0x22acc2,_0xc92850),'clearVariables':()=>this['processclearVariables'](_0x22acc2,_0xc92850)}[_0x57478e];_0x2669d7&&await _0x2669d7();}catch(_0x5d51a2){this[_0x25262b(0x470)][_0x25262b(0x3cc)](this[_0x25262b(0x52d)]+'\x20('+this[_0x25262b(0x670)][_0x25262b(0x6d8)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x5d51a2 instanceof Error?_0x5d51a2[_0x25262b(0x653)]:JSON[_0x25262b(0x46a)](_0x5d51a2,null,0x2)));}}async[a0_0x2ec1ea(0x28d)](_0x21b55a,_0x152836){const _0x29a2e0=a0_0x2ec1ea;if(this[_0x29a2e0(0x470)][_0x29a2e0(0x28b)](this[_0x29a2e0(0x52d)]+'\x20('+this['instance'][_0x29a2e0(0x6d8)]+'):\x20Entrou\x20na\x20funo\x20processawaitSeconds'),!_0x21b55a||!_0x152836)return this[_0x29a2e0(0x470)]['error'](this[_0x29a2e0(0x52d)]+'\x20('+this[_0x29a2e0(0x670)][_0x29a2e0(0x6d8)]+_0x29a2e0(0xa0)),null;let _0x134e35=+_0x152836[_0x29a2e0(0x27f)];isNaN(_0x134e35)&&(_0x134e35=0x0),_0x134e35=Math['min'](_0x134e35,0x3c),await(0x0,w['delay'])(_0x134e35*0x3e8);let _0x592fb2={'moreLogs':[_0x29a2e0(0x661)+_0x134e35+_0x29a2e0(0x55d)]};return await this[_0x29a2e0(0xfb)](_0x21b55a,_0x152836,_0x592fb2),_0x134e35;}async[a0_0x2ec1ea(0x790)](_0x538af7,_0x5dc030){const _0x51d7c0=a0_0x2ec1ea;if(this[_0x51d7c0(0x470)][_0x51d7c0(0x28b)](this['instanceName']+'\x20('+this[_0x51d7c0(0x670)]['wuid']+'):\x20Entrou\x20na\x20funo\x20clearVariables'),!_0x538af7||!_0x5dc030)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x51d7c0(0x670)][_0x51d7c0(0x6d8)]+_0x51d7c0(0xa0)),null;let _0x4651e2=[];if(_0x5dc030[_0x51d7c0(0x41f)][_0x51d7c0(0x3fb)]()===_0x51d7c0(0x43d)){let _0x1583df=['_sender',_0x51d7c0(0x156),'_error',_0x51d7c0(0x74a),_0x51d7c0(0x4cd),_0x51d7c0(0x6b1),_0x51d7c0(0x515)];_0x4651e2=Object['keys'](_0x538af7[_0x51d7c0(0x262)][_0x51d7c0(0x3f0)])['filter'](_0x465936=>_0x465936[_0x51d7c0(0x752)]('_')&&!_0x1583df[_0x51d7c0(0x7de)](_0x465936));}else _0x4651e2=_0x5dc030['clearVariables']['split']('|')['map'](_0x83504=>(_0x83504=_0x83504[_0x51d7c0(0x19d)](/[{}]/g,'')[_0x51d7c0(0x3fb)](),_0x83504['startsWith']('_')?_0x83504:'_'+_0x83504));let _0x393c5f=[];_0x4651e2['forEach'](_0x214dd7=>{const _0x149b39=_0x51d7c0;_0x214dd7 in _0x538af7[_0x149b39(0x262)][_0x149b39(0x3f0)]&&(delete _0x538af7[_0x149b39(0x262)][_0x149b39(0x3f0)][_0x214dd7],_0x393c5f['push'](_0x214dd7));}),_0x393c5f[_0x51d7c0(0x54d)]>0x0?this[_0x51d7c0(0x470)][_0x51d7c0(0x28b)](this[_0x51d7c0(0x52d)]+'\x20('+this[_0x51d7c0(0x670)][_0x51d7c0(0x6d8)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20'+_0x393c5f[_0x51d7c0(0x2ed)](',\x20')):this[_0x51d7c0(0x470)][_0x51d7c0(0x28b)](this[_0x51d7c0(0x52d)]+'\x20('+this['instance'][_0x51d7c0(0x6d8)]+_0x51d7c0(0x218));let _0xe61a5={'moreLogs':[_0x51d7c0(0x7e0)+_0x393c5f[_0x51d7c0(0x2ed)](',\x20')]};return await this[_0x51d7c0(0xfb)](_0x538af7,_0x5dc030,_0xe61a5),null;}async[a0_0x2ec1ea(0x13c)](_0x4eaf07,_0x1f349c){const _0x5133fe=a0_0x2ec1ea;if(this[_0x5133fe(0x470)][_0x5133fe(0x28b)](this[_0x5133fe(0x52d)]+'\x20('+this[_0x5133fe(0x670)][_0x5133fe(0x6d8)]+_0x5133fe(0x4b7)),!_0x4eaf07||!_0x1f349c)return this['logger'][_0x5133fe(0x3cc)](this[_0x5133fe(0x52d)]+'\x20('+this['instance'][_0x5133fe(0x6d8)]+_0x5133fe(0xa0)),null;let _0x104922=_0x4eaf07['remoteJid'];_0x1f349c[_0x5133fe(0x549)][_0x5133fe(0x48b)]&&_0x1f349c[_0x5133fe(0x549)][_0x5133fe(0x48b)][_0x5133fe(0x3fb)]()!==''&&(_0x104922=_0x1f349c[_0x5133fe(0x436)][_0x5133fe(0x48b)][_0x5133fe(0x3fb)]());let _0x515c46=_0x1f349c[_0x5133fe(0x549)][_0x5133fe(0x325)]*0xea60,_0x4753d8=Date['now']()+_0x515c46,_0x3a1b1a={'status':_0x5133fe(0x419),'info':_0x5133fe(0x20e)+_0x4eaf07[_0x5133fe(0x582)],'remoteJids':[_0x104922],'when':_0x4753d8,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5133fe(0x429),'flowName':_0x1f349c[_0x5133fe(0x549)]['flowName']};this[_0x5133fe(0x138)](_0x3a1b1a);let _0x2b9354=await this['NextBlock'](_0x4eaf07);_0x2b9354&&await this[_0x5133fe(0x5a8)](_0x4eaf07,_0x2b9354);}async[a0_0x2ec1ea(0x6e0)](_0x377e77,_0x2b1483){const _0x3377b5=a0_0x2ec1ea;if(this['logger'][_0x3377b5(0x28b)](this[_0x3377b5(0x52d)]+'\x20('+this[_0x3377b5(0x670)]['wuid']+_0x3377b5(0x5fc)),!_0x377e77||!_0x2b1483)return this[_0x3377b5(0x470)]['error'](this[_0x3377b5(0x52d)]+'\x20('+this[_0x3377b5(0x670)][_0x3377b5(0x6d8)]+_0x3377b5(0xa0)),null;await this[_0x3377b5(0xfb)](_0x377e77,_0x2b1483,{},!0x0,!0x0);let _0x5dcafb=_0x2b1483['goToFlow'];_0x377e77=await this[_0x3377b5(0x358)](_0x5dcafb,_0x377e77[_0x3377b5(0x48b)],_0x377e77[_0x3377b5(0x262)][_0x3377b5(0x3f0)]);let _0x8bca87=await this['NextBlock'](_0x377e77);_0x8bca87&&await this['processblock'](_0x377e77,_0x8bca87);}async['createConversationforgoToFlow'](_0x3eef01,_0x422301,_0x4b80c7){const _0x17830a=a0_0x2ec1ea;this[_0x17830a(0x470)][_0x17830a(0x28b)](this['instanceName']+'\x20('+this[_0x17830a(0x670)][_0x17830a(0x6d8)]+_0x17830a(0xa6));try{let _0x2488b3=this[_0x17830a(0x3a1)]['flows'][_0x17830a(0x3f1)](_0x21c2c3=>_0x21c2c3[_0x17830a(0x6b1)]===_0x3eef01);_0x2488b3||this[_0x17830a(0x470)][_0x17830a(0x3cc)](this[_0x17830a(0x52d)]+'\x20('+this[_0x17830a(0x670)][_0x17830a(0x6d8)]+'):\x20Flow\x20\x27'+_0x3eef01+_0x17830a(0x71a));let _0x512d2c=await this[_0x17830a(0x1f6)][_0x17830a(0x429)]['findOne']({'where':{'_id':_0x2488b3[_0x17830a(0x6b1)]}});if(!_0x512d2c||!_0x512d2c[_0x17830a(0x225)]?.[_0x17830a(0x7de)](this[_0x17830a(0x670)][_0x17830a(0x6d8)]))throw this[_0x17830a(0x470)][_0x17830a(0x3cc)](this['instanceName']+'\x20('+this[_0x17830a(0x670)][_0x17830a(0x6d8)]+_0x17830a(0x3a8)+_0x3eef01+_0x17830a(0x5a5)),new m(_0x17830a(0x7c3)+_0x3eef01+_0x17830a(0x5a5));let _0x4af35a=require(_0x17830a(0x5b3))[_0x17830a(0x2b5)],_0x5e572d=Date['now'](),_0x54bb15=_0x17830a(0x796),_0x3789d8={},_0x5848d2={},_0x7b3529=this['AutomateSystem'][_0x17830a(0x6c1)][_0x17830a(0x3f1)](_0x3e8b87=>_0x3e8b87[_0x17830a(0x6b1)]===_0x512d2c[_0x17830a(0x6b1)]?.[_0x17830a(0x4e0)]()),_0x580e8e=_0x7b3529?.[_0x17830a(0x5f2)]??_0x512d2c[_0x17830a(0x5f2)]??0x0,_0x2693db=_0x7b3529?.[_0x17830a(0x3e7)]??_0x512d2c[_0x17830a(0x3e7)]??!0x1,_0x224fc0={'flowId':_0x2488b3[_0x17830a(0x6b1)],'readMessages':_0x2488b3[_0x17830a(0x3e7)],..._0x512d2c,'chatLog':null},_0x433733={'lastReceivedMessage':_0x3789d8,'lastSendMessage':_0x5848d2,'lastBlockId':_0x54bb15,'lastCondition':!0x0,'realVariables':_0x4b80c7};_0x224fc0[_0x17830a(0x262)]=_0x433733,_0x224fc0[_0x17830a(0x262)]['realVariables']={..._0x4b80c7},delete _0x224fc0['_id'],_0x224fc0[_0x17830a(0x6b1)]=new _0x4af35a(),_0x224fc0[_0x17830a(0x776)]=_0x5e572d,_0x224fc0[_0x17830a(0x3fd)]=_0x17830a(0x763),_0x224fc0[_0x17830a(0x48b)]=_0x422301,_0x224fc0[_0x17830a(0x5f2)]=_0x580e8e,_0x224fc0[_0x17830a(0x3e7)]=_0x2693db;let _0x4dd724=await this['repository']['flowConversation'][_0x17830a(0x3cf)](_0x224fc0['_id'],_0x224fc0,this[_0x17830a(0x670)]['wuid']);return this['logger']['verbose'](this[_0x17830a(0x52d)]+'\x20('+this[_0x17830a(0x670)][_0x17830a(0x6d8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4dd724?_0x224fc0:null;}catch(_0x4a05d1){let _0x52d0d5=_0x17830a(0x1b7),_0x471dc0=_0x4a05d1 instanceof Error?_0x4a05d1[_0x17830a(0x653)]:typeof _0x4a05d1==_0x17830a(0x7d9)?JSON[_0x17830a(0x46a)](_0x4a05d1):_0x4a05d1,_0x3f15e5=_0x52d0d5+':\x20'+_0x471dc0;throw this[_0x17830a(0x470)]['error'](this[_0x17830a(0x52d)]+'\x20('+this[_0x17830a(0x670)][_0x17830a(0x6d8)]+'):\x20'+_0x3f15e5),new m(_0x3f15e5);}}async[a0_0x2ec1ea(0x779)](_0x442f13,_0x164fd9){const _0x4bd81f=a0_0x2ec1ea;let _0x3207cc,_0x2324c4;try{let _0x5fc06e=_0x164fd9[_0x4bd81f(0x4e9)];if(!_0x5fc06e||!_0x5fc06e[_0x4bd81f(0x26c)]||!_0x5fc06e[_0x4bd81f(0x4d7)])throw new Error(_0x4bd81f(0x396));let _0x5bd2e3;(['https://api.openai.com/v1/audio/speech',_0x4bd81f(0x364),_0x4bd81f(0x3e0)][_0x4bd81f(0x643)](_0x2ebcb7=>_0x5fc06e[_0x4bd81f(0x26c)][_0x4bd81f(0x7de)](_0x2ebcb7))||_0x5fc06e[_0x4bd81f(0x213)])&&(_0x5bd2e3=_0x4bd81f(0x695));let _0x340b4d='\u205f',_0x336541;try{_0x336541=JSON[_0x4bd81f(0x59b)](_0x5fc06e[_0x4bd81f(0x78c)][_0x4bd81f(0x19d)](new RegExp(_0x340b4d,'g'),''));}catch(_0xff4a8e){throw _0xff4a8e;}let _0x3aadf7={'method':_0x5fc06e['method'],'url':_0x5fc06e['url'],'headers':_0x5fc06e[_0x4bd81f(0x10e)]||{},..._0x5fc06e[_0x4bd81f(0x4d7)][_0x4bd81f(0x6ca)]()!==_0x4bd81f(0x222)&&_0x5fc06e[_0x4bd81f(0x78c)]?{'data':JSON[_0x4bd81f(0x59b)](_0x5fc06e[_0x4bd81f(0x78c)][_0x4bd81f(0x19d)](new RegExp(_0x340b4d,'g'),''))}:{},..._0x5bd2e3&&{'responseType':_0x5bd2e3}},_0x4b2c23=await(0x0,Z[_0x4bd81f(0x4d4)])(_0x3aadf7),_0x5e424b=_0x4b2c23[_0x4bd81f(0x2bd)][_0x4bd81f(0xaf)];if(_0x5e424b&&_0x5e424b[_0x4bd81f(0x7de)]('application/json')||typeof _0x4b2c23['data']==_0x4bd81f(0x2a7)){if(typeof _0x4b2c23[_0x4bd81f(0x6c8)]==_0x4bd81f(0x2a7)){let _0x20960f=_0x4b2c23[_0x4bd81f(0x6c8)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4bd81f(0x3fb)]();try{_0x3207cc=JSON[_0x4bd81f(0x59b)](_0x20960f);}catch(_0x2923fc){this[_0x4bd81f(0x470)][_0x4bd81f(0x3cc)](_0x4bd81f(0x403)+_0x2923fc[_0x4bd81f(0x653)]),_0x3207cc={'_apiResponse':_0x4b2c23['data']};}}else _0x3207cc=_0x4b2c23[_0x4bd81f(0x6c8)];let _0x2e8829=_0x442f13[_0x4bd81f(0x262)][_0x4bd81f(0x3f0)],_0x414865=this[_0x4bd81f(0x2a6)](_0x3207cc);return Object[_0x4bd81f(0x2e2)](_0x2e8829,_0x414865),_0x442f13[_0x4bd81f(0x262)][_0x4bd81f(0x3f0)]=_0x2e8829,_0x2324c4={'error':!0x1,'apiResponse':_0x3207cc},this[_0x4bd81f(0xfb)](_0x442f13,_0x164fd9,_0x2324c4),_0x3207cc;}if(_0x5e424b&&(_0x5e424b[_0x4bd81f(0x7de)](_0x4bd81f(0x116))||_0x5e424b[_0x4bd81f(0x7de)]('image')||_0x5e424b[_0x4bd81f(0x7de)]('audio')||_0x5e424b[_0x4bd81f(0x7de)](_0x4bd81f(0x17e)))){this[_0x4bd81f(0x470)][_0x4bd81f(0x28b)](this['instanceName']+'\x20('+this[_0x4bd81f(0x670)]['wuid']+'):\x20Tipo\x20de\x20contedo\x20identificado:\x20'+_0x5e424b);let _0xd68520=(0x0,ee['v4'])(),_0x351f1e='',_0x5dfc06={'image/jpeg':_0x4bd81f(0x35a),'image/png':_0x4bd81f(0x100),'image/gif':_0x4bd81f(0x2f7),'image/webp':_0x4bd81f(0x570),'image/svg+xml':'.svg','audio/mpeg':_0x4bd81f(0x346),'audio/ogg':_0x4bd81f(0x1ef),'audio/wav':_0x4bd81f(0x678),'video/mp4':_0x4bd81f(0x7eb),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x4bd81f(0x229),'application/pdf':_0x4bd81f(0x692),'application/msword':_0x4bd81f(0x269),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x4bd81f(0x68d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4bd81f(0x4b6),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4bd81f(0x1bd)};_0x5dfc06[_0x5e424b]?(_0x351f1e=_0x5dfc06[_0x5e424b],this[_0x4bd81f(0x470)][_0x4bd81f(0x28b)](this[_0x4bd81f(0x52d)]+'\x20('+this[_0x4bd81f(0x670)]['wuid']+_0x4bd81f(0x655)+_0x351f1e)):(_0x351f1e=_0x4bd81f(0x609),this[_0x4bd81f(0x470)][_0x4bd81f(0x28b)](this[_0x4bd81f(0x52d)]+'\x20('+this[_0x4bd81f(0x670)]['wuid']+'):\x20Usando\x20extenso\x20padro:\x20'+_0x351f1e)),_0xd68520+=_0x351f1e,this[_0x4bd81f(0x470)][_0x4bd81f(0x28b)](this['instanceName']+'\x20('+this[_0x4bd81f(0x670)][_0x4bd81f(0x6d8)]+_0x4bd81f(0x16b)+_0xd68520);let _0x32cab3=this[_0x4bd81f(0x426)][_0x4bd81f(0x63f)](_0x4bd81f(0x568))['URL'];if(!_0x32cab3){let _0x5b4b56=this[_0x4bd81f(0x426)][_0x4bd81f(0x63f)](_0x4bd81f(0x744));_0x32cab3=_0x4bd81f(0xe5)+(_0x5b4b56&&_0x5b4b56[_0x4bd81f(0x3c1)][_0x4bd81f(0x1e1)]('/')[0x4]);}let _0x429d3b=Buffer[_0x4bd81f(0x2eb)](_0x4b2c23['data']);await this['saveMediaToFile'](_0x429d3b,_0xd68520);let _0x17955='/media/'+_0xd68520;_0x17955=''+_0x32cab3+_0x17955,_0x3207cc={'fileUrl':_0x17955},_0x442f13['chatLog']['realVariables'][_0x4bd81f(0x32d)]=_0x17955;let _0x45ade4=_0x442f13['chatLog']['realVariables'],_0x5e0a5b=this[_0x4bd81f(0x2a6)](_0x3207cc);return Object[_0x4bd81f(0x2e2)](_0x45ade4,_0x5e0a5b),_0x442f13['chatLog'][_0x4bd81f(0x3f0)]=_0x45ade4,_0x2324c4={'error':!0x1,'apiResponse':{'fileUrl':_0x17955}},this[_0x4bd81f(0xfb)](_0x442f13,_0x164fd9,_0x2324c4),_0x3207cc;}}catch(_0x120bde){this[_0x4bd81f(0x470)][_0x4bd81f(0x3cc)](_0x4bd81f(0x3ca)+_0x120bde[_0x4bd81f(0x653)]),_0x120bde[_0x4bd81f(0xe3)]&&(_0x3207cc=_0x120bde[_0x4bd81f(0xe3)][_0x4bd81f(0x6c8)]);let _0x589566=_0x442f13[_0x4bd81f(0x262)][_0x4bd81f(0x3f0)],_0x51062b=this[_0x4bd81f(0x2a6)](_0x3207cc);return Object[_0x4bd81f(0x2e2)](_0x589566,_0x51062b),_0x442f13[_0x4bd81f(0x262)][_0x4bd81f(0x3f0)]=_0x589566,_0x2324c4={'error':!0x0,'errorLog':_0x120bde[_0x4bd81f(0x4e0)](),'apiResponse':_0x3207cc},this[_0x4bd81f(0xfb)](_0x442f13,_0x164fd9,_0x2324c4),{'success':!0x1};}}['applyvaredit'](_0x3aeb55,_0x48d8d3){const _0x1a46b3=a0_0x2ec1ea;let _0x225707=_0x2563f1=>{const _0x4d8f9c=a0_0x5390;let _0xe6e594=_0x2563f1[_0x4d8f9c(0x19d)](/[^0-9.,-]/g,'')[_0x4d8f9c(0x19d)](',','.'),_0x29a61d=parseFloat(_0xe6e594);return isNaN(_0x29a61d)?null:_0x29a61d;},_0x3d3d31=_0x48d8d3[_0x1a46b3(0x41b)],_0x2f6487=_0x48d8d3[_0x1a46b3(0x1bc)];typeof _0x3d3d31==_0x1a46b3(0x2a7)&&(_0x3d3d31=this[_0x1a46b3(0xa9)](_0x3d3d31,_0x3aeb55[_0x1a46b3(0x262)]['realVariables'])??''),typeof _0x2f6487==_0x1a46b3(0x2a7)&&(_0x2f6487=this[_0x1a46b3(0xa9)](_0x2f6487,_0x3aeb55['chatLog'][_0x1a46b3(0x3f0)])??'');let _0x178cee=null;if(!_0x48d8d3[_0x1a46b3(0x278)])return null;switch(this['logger'][_0x1a46b3(0x28b)](this[_0x1a46b3(0x52d)]+'\x20('+this[_0x1a46b3(0x670)][_0x1a46b3(0x6d8)]+_0x1a46b3(0x4c8)+_0x3d3d31),this[_0x1a46b3(0x470)][_0x1a46b3(0x28b)](this[_0x1a46b3(0x52d)]+'\x20('+this[_0x1a46b3(0x670)][_0x1a46b3(0x6d8)]+_0x1a46b3(0x303)+_0x2f6487),_0x48d8d3[_0x1a46b3(0x278)]){case'+':case'-':case'*':case'/':let _0x5caaab=_0x225707(_0x3d3d31||'0'),_0x43c463=_0x225707(_0x2f6487||'0');if(_0x5caaab===null)return null;switch(_0x48d8d3[_0x1a46b3(0x278)]){case'+':_0x178cee=_0x5caaab+(_0x43c463??0x0);break;case'-':_0x178cee=_0x5caaab-(_0x43c463??0x0);break;case'*':_0x178cee=_0x5caaab*(_0x43c463??0x1);break;case'/':_0x43c463!==0x0&&(_0x178cee=_0x5caaab/(_0x43c463??0x1));break;}break;case _0x1a46b3(0x3fa):case _0x1a46b3(0x404):let _0x5df68e=_0x2f6487,_0x55ed45=_0x48d8d3[_0x1a46b3(0x71d)];if(typeof _0x55ed45==_0x1a46b3(0x2a7)&&(_0x55ed45=this['replaceVariables'](_0x55ed45,_0x3aeb55[_0x1a46b3(0x262)][_0x1a46b3(0x3f0)])??''),_0x5df68e&&_0x55ed45!==void 0x0){let _0x1e02f2=_0x48d8d3['editOperator']===_0x1a46b3(0x3fa)?new RegExp(_0x5df68e[_0x1a46b3(0x19d)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1a46b3(0x67c)),'g'):new RegExp(_0x5df68e,'g');_0x178cee=_0x3d3d31[_0x1a46b3(0x19d)](_0x1e02f2,_0x55ed45);}else console[_0x1a46b3(0x3bf)](_0x1a46b3(0x60c));break;case _0x1a46b3(0x508):_0x178cee=_0x2f6487;break;case _0x1a46b3(0xd6):let _0xf4f7a4=_0x3d3d31['match'](new RegExp(_0x2f6487||''));_0x178cee=_0xf4f7a4?_0xf4f7a4[0x0]:'';break;case _0x1a46b3(0xdd):_0x178cee=_0x3d3d31[_0x1a46b3(0x604)](0x0,parseInt(_0x2f6487||'0'));break;case _0x1a46b3(0x6be):let _0x1139af=parseInt(_0x2f6487||'0');_0x178cee=_0x3d3d31[_0x1a46b3(0x604)](_0x3d3d31['length']-_0x1139af);break;case _0x1a46b3(0x4f9):let _0x9aa1eb=_0x225707(_0x3d3d31),_0x49e24a=parseInt(_0x2f6487||'0');_0x49e24a=Math['abs'](_0x49e24a),_0x9aa1eb!==null?_0x178cee=_0x9aa1eb[_0x1a46b3(0x354)](_0x1a46b3(0x239),{'minimumFractionDigits':_0x49e24a,'maximumFractionDigits':_0x49e24a}):(console[_0x1a46b3(0x3bf)](_0x1a46b3(0x430)+_0x3d3d31),_0x178cee=null);break;case _0x1a46b3(0x772):let _0x4282b5=_0x225707(_0x3d3d31);_0x4282b5!==null?_0x178cee=_0x4282b5[_0x1a46b3(0x354)](_0x1a46b3(0x239),{'style':'currency','currency':_0x1a46b3(0x2ca)}):(console['warn'](_0x1a46b3(0x34f)+_0x3d3d31),_0x178cee=null);break;case _0x1a46b3(0x197):_0x178cee=_0x3d3d31['toUpperCase']();break;case _0x1a46b3(0x16e):_0x178cee=_0x3d3d31['toLowerCase']();break;case'capitalizedWords':_0x178cee=_0x3d3d31[_0x1a46b3(0x1e1)]('\x20')[_0x1a46b3(0x3ac)](_0x2a7af8=>_0x2a7af8[_0x1a46b3(0x53b)](0x0)['toUpperCase']()+_0x2a7af8[_0x1a46b3(0x604)](0x1)[_0x1a46b3(0x3b6)]())[_0x1a46b3(0x2ed)]('\x20');break;case _0x1a46b3(0x4f4):_0x178cee=JSON[_0x1a46b3(0x46a)](_0x3d3d31);break;case _0x1a46b3(0x4bf):_0x178cee=_0x3d3d31[_0x1a46b3(0x3fb)]();break;default:_0x178cee=_0x3d3d31;}return _0x178cee!==null?_0x178cee[_0x1a46b3(0x4e0)]():null;}async[a0_0x2ec1ea(0x70d)](_0x599d6c,_0x412d83){const _0x2029a0=a0_0x2ec1ea;try{let _0x40e17d=_0x599d6c[_0x2029a0(0x631)]?.['filter'](_0x47295f=>_0x47295f[_0x2029a0(0xd1)]===_0x412d83['_id']?.[_0x2029a0(0x4e0)]())||[],_0x4c7d47=_0x412d83['saveVariable'],_0x4e6f15=null,_0x3cdcd1=[],_0x2b45f1=_0x599d6c[_0x2029a0(0x262)][_0x2029a0(0x3f0)][_0x4c7d47];_0x3cdcd1[_0x2029a0(0x7ee)](_0x2029a0(0x5b8)+_0x2b45f1+'\x22');for(let _0x5c485c of _0x40e17d){_0x5c485c['firstValue']=_0x2b45f1,_0x4e6f15=_0x5c485c[_0x2029a0(0x41b)];let _0x337746;try{_0x337746=this[_0x2029a0(0x7cd)](_0x599d6c,_0x5c485c);}catch(_0x4e59d5){this[_0x2029a0(0x470)][_0x2029a0(0x3cc)](_0x2029a0(0x597)+_0x4e59d5[_0x2029a0(0x653)]);continue;}if(_0x337746!==null){let _0x11d037=_0x2029a0(0x6a2)+_0x5c485c[_0x2029a0(0x278)]+'\x22',_0xf2cfea=[_0x2029a0(0x772),_0x2029a0(0x197),_0x2029a0(0x16e),_0x2029a0(0x5b9),_0x2029a0(0x4bf)];_0x5c485c[_0x2029a0(0x278)]===_0x2029a0(0x3fa)||_0x5c485c[_0x2029a0(0x278)]==='findAndReplaceRegex'?_0x11d037+=_0x2029a0(0x7be)+_0x5c485c[_0x2029a0(0x1bc)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x5c485c['replaceValue']+'\x22':!_0xf2cfea[_0x2029a0(0x7de)](_0x5c485c['editOperator'])&&_0x5c485c[_0x2029a0(0x1bc)]!==null&&_0x5c485c[_0x2029a0(0x1bc)]!==void 0x0&&(_0x11d037+=',\x20valor\x20passado:\x20\x22'+_0x5c485c[_0x2029a0(0x1bc)]+'\x22'),_0x11d037+=',\x20resultado:\x20'+_0x337746+'.',_0x3cdcd1[_0x2029a0(0x7ee)](_0x11d037);}_0x337746!==null&&(_0x2b45f1=_0x337746);}if(_0x599d6c['chatLog'][_0x2029a0(0x3f0)]&&_0x412d83[_0x2029a0(0x771)]){_0x599d6c[_0x2029a0(0x262)][_0x2029a0(0x3f0)][_0x412d83[_0x2029a0(0x771)]]=_0x2b45f1;let _0xf1ac83={'variable':_0x412d83[_0x2029a0(0x771)],'oldValue':_0x4e6f15,'newValue':_0x2b45f1,'moreLogs':_0x3cdcd1};try{this[_0x2029a0(0xfb)](_0x599d6c,_0x412d83,_0xf1ac83);}catch(_0x27945c){this[_0x2029a0(0x470)][_0x2029a0(0x3cc)](_0x2029a0(0x23a)+_0x27945c[_0x2029a0(0x653)]);}}return _0x4c7d47;}catch(_0x5a0ed1){return this[_0x2029a0(0x470)][_0x2029a0(0x3cc)](_0x2029a0(0x1b5)+_0x5a0ed1['message']),null;}}async['processConditions'](_0x2d7641,_0x3e5577){const _0x58acf6=a0_0x2ec1ea;try{let _0x5b4225=[],_0x56463f=_0x2d7641['conditions']['filter'](_0x24a2e9=>_0x24a2e9[_0x58acf6(0xd1)]===_0x3e5577['_id'][_0x58acf6(0x4e0)]()),_0x10eea8=null,_0x56fc4b=!0x1;for(let _0x44ebae of _0x56463f){let _0x8e8b20=this[_0x58acf6(0x5d7)](_0x2d7641,_0x44ebae);_0x5b4225[_0x58acf6(0x7ee)](_0x58acf6(0xc4)+_0x44ebae[_0x58acf6(0x41b)]+',\x20Comparador:\x20'+_0x44ebae[_0x58acf6(0x73c)]+_0x58acf6(0x1e6)+_0x44ebae[_0x58acf6(0x1bc)]+_0x58acf6(0xed)+_0x8e8b20),_0x10eea8===null?_0x10eea8=_0x8e8b20:_0x44ebae['OrAnd']===_0x58acf6(0x75c)?(_0x10eea8=_0x10eea8&&_0x8e8b20,_0x8e8b20||(_0x56fc4b=!0x0)):_0x44ebae[_0x58acf6(0x370)]==='or'&&(_0x56fc4b||(_0x10eea8=_0x10eea8||_0x8e8b20));}_0x10eea8===null&&(_0x10eea8=!0x0);let _0x4a6807={'moreLogs':_0x5b4225};_0x2d7641['chatLog']['lastCondition']=_0x10eea8,await this[_0x58acf6(0xfb)](_0x2d7641,_0x3e5577,_0x4a6807);}catch(_0x25d901){this['logger'][_0x58acf6(0x3cc)](this['instanceName']+'\x20('+this[_0x58acf6(0x670)][_0x58acf6(0x6d8)]+_0x58acf6(0x4b3)+(_0x25d901 instanceof Error?_0x25d901[_0x58acf6(0x653)]:JSON[_0x58acf6(0x46a)](_0x25d901,null,0x2)));}}['evaluateCondition'](_0x14e807,_0x58ce92){const _0x428eaa=a0_0x2ec1ea;let _0x2b101c=_0x58ce92[_0x428eaa(0x41b)],_0x5ccc83=_0x58ce92[_0x428eaa(0x1bc)];typeof _0x2b101c=='string'&&(_0x2b101c=this[_0x428eaa(0xa9)](_0x2b101c,_0x14e807[_0x428eaa(0x262)][_0x428eaa(0x3f0)])??''),typeof _0x5ccc83==_0x428eaa(0x2a7)&&(_0x5ccc83=this['replaceVariables'](_0x5ccc83,_0x14e807[_0x428eaa(0x262)][_0x428eaa(0x3f0)])??'');try{switch(_0x58ce92[_0x428eaa(0x73c)]){case'equal':return _0x2b101c===_0x5ccc83;case _0x428eaa(0x7cb):return _0x2b101c!==_0x5ccc83;case'contains':return this[_0x428eaa(0x676)](_0x2b101c,_0x5ccc83);case'notContains':return!this[_0x428eaa(0x676)](_0x2b101c,_0x5ccc83);case _0x428eaa(0x63e):return parseFloat(_0x2b101c)>parseFloat(_0x5ccc83);case _0x428eaa(0x4f6):return parseFloat(_0x2b101c)<parseFloat(_0x5ccc83);case _0x428eaa(0x343):return _0x2b101c!=='';case _0x428eaa(0x7d5):return _0x2b101c==='';case _0x428eaa(0x466):return new RegExp(_0x5ccc83)[_0x428eaa(0x42d)](_0x2b101c);case _0x428eaa(0x5d1):return!new RegExp(_0x5ccc83)[_0x428eaa(0x42d)](_0x2b101c);default:return!0x1;}}catch(_0x2aee6d){return this[_0x428eaa(0x470)][_0x428eaa(0x3cc)](_0x428eaa(0x575)+_0x2aee6d),!0x1;}}[a0_0x2ec1ea(0x676)](_0x55b1a5,_0x3b3001){const _0x143586=a0_0x2ec1ea;if(_0x55b1a5===_0x3b3001&&/^\d+$/[_0x143586(0x42d)](_0x55b1a5))return!0x0;if(this[_0x143586(0xd3)](_0x55b1a5)&&/^\d+$/[_0x143586(0x42d)](_0x3b3001)){let _0x117af5=_0x55b1a5[_0x143586(0x1e1)](',')[_0x143586(0x3ac)](_0x4e850b=>parseInt(_0x4e850b[_0x143586(0x3fb)]())),_0x1117ae=parseInt(_0x3b3001);return _0x117af5['includes'](_0x1117ae);}return _0x55b1a5[_0x143586(0x7de)](_0x3b3001);}[a0_0x2ec1ea(0xd3)](_0x42f147){return/^\d+(,\d+)*$/['test'](_0x42f147);}[a0_0x2ec1ea(0xbd)](_0x2ae93e){const _0x41d1a8=a0_0x2ec1ea;let _0x12320a=!0x0,_0x2de299=null;for(let _0x369bbd of _0x2ae93e){let _0x232605=this[_0x41d1a8(0x521)](_0x369bbd);if(_0x2de299==='or'&&_0x232605){_0x12320a=!0x0;break;}if(_0x2de299===_0x41d1a8(0x75c)&&!_0x232605){_0x12320a=!0x1;break;}_0x2de299=_0x369bbd['OrAnd'];}return _0x12320a;}[a0_0x2ec1ea(0x521)](_0x367106){const _0x28e830=a0_0x2ec1ea;let _0x1dcef8=_0x367106[_0x28e830(0x41b)],_0x15a4ae=_0x367106[_0x28e830(0x1bc)];try{switch(_0x367106['expression']){case _0x28e830(0x39b):return String(_0x1dcef8)===String(_0x15a4ae);case'notEqual':return String(_0x1dcef8)!==String(_0x15a4ae);case _0x28e830(0x676):return String(_0x1dcef8)[_0x28e830(0x7de)](String(_0x15a4ae));case _0x28e830(0x200):return!String(_0x1dcef8)[_0x28e830(0x7de)](String(_0x15a4ae));case'greater':return parseFloat(String(_0x1dcef8))>parseFloat(String(_0x15a4ae));case _0x28e830(0x4f6):return parseFloat(String(_0x1dcef8))<parseFloat(String(_0x15a4ae));case'notEmpty':return String(_0x1dcef8)!=='';case'empty':return String(_0x1dcef8)==='';case _0x28e830(0x466):return new RegExp(String(_0x15a4ae))[_0x28e830(0x42d)](String(_0x1dcef8));case _0x28e830(0x5d1):return!new RegExp(String(_0x15a4ae))[_0x28e830(0x42d)](String(_0x1dcef8));default:return!0x1;}}catch(_0x287fa9){return this['logger'][_0x28e830(0x3cc)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x287fa9),!0x1;}}async[a0_0x2ec1ea(0x2ba)](_0x4201e6,_0x3a006f){const _0x4f3641=a0_0x2ec1ea;if(this[_0x4f3641(0x470)][_0x4f3641(0x28b)](this[_0x4f3641(0x52d)]+'\x20('+this[_0x4f3641(0x670)][_0x4f3641(0x6d8)]+_0x4f3641(0x408)),!_0x4201e6||!_0x3a006f)return this['logger']['error'](this[_0x4f3641(0x52d)]+'\x20('+this[_0x4f3641(0x670)][_0x4f3641(0x6d8)]+_0x4f3641(0xa0)),null;let _0x4c98bb=_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x1a4)][_0x4f3641(0x2e1)]['id'];this['logger'][_0x4f3641(0x28b)](this[_0x4f3641(0x52d)]+'\x20('+this[_0x4f3641(0x670)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x4c98bb);let _0x172414={'key':{'id':_0x4c98bb}},_0x5078f0=_0x3a006f[_0x4f3641(0x771)];_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)]['_'+_0x5078f0+_0x4f3641(0x2df)]=null,_0x4201e6['chatLog'][_0x4f3641(0x3f0)]['_'+_0x5078f0+_0x4f3641(0x1fa)]=null,_0x4201e6['chatLog'][_0x4f3641(0x3f0)]['_'+_0x5078f0+_0x4f3641(0x52f)]=null,_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)]['_'+_0x5078f0+_0x4f3641(0x50d)]=_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x1a4)][_0x4f3641(0x6e6)];try{let _0x191455=await this[_0x4f3641(0x2f5)](_0x172414);this[_0x4f3641(0x470)][_0x4f3641(0x28b)](this[_0x4f3641(0x52d)]+'\x20('+this['instance']['wuid']+_0x4f3641(0xc0)),_0x4201e6['chatLog']['realVariables']['_'+_0x5078f0+_0x4f3641(0x26b)]=_0x191455[_0x4f3641(0x32d)],_0x4201e6[_0x4f3641(0x262)]['realVariables']['_'+_0x5078f0+'.mimetype']=_0x191455[_0x4f3641(0x2db)];let _0x552a30=_0x191455[_0x4f3641(0x2db)]['match'](/\/(\w+)$/),_0x43de07=_0x552a30?_0x552a30[0x1]:null;_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)]['_'+_0x5078f0+'.extension']=_0x43de07,this['logger'][_0x4f3641(0x28b)](this[_0x4f3641(0x52d)]+'\x20('+this[_0x4f3641(0x670)][_0x4f3641(0x6d8)]+_0x4f3641(0x11c)+_0x5078f0+'\x27.');}catch(_0x36259f){this['logger'][_0x4f3641(0x3cc)](this['instanceName']+'\x20('+this['instance'][_0x4f3641(0x6d8)]+_0x4f3641(0x412)+_0x36259f[_0x4f3641(0x653)]);}let _0x3831db=_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x1a4)]['text']||_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x1a4)][_0x4f3641(0x71b)]||_0x4201e6['chatLog'][_0x4f3641(0x1a4)][_0x4f3641(0x633)];try{_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)]||(_0x4201e6['chatLog'][_0x4f3641(0x3f0)]={});let _0x396cda=_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)][_0x5078f0];_0x4201e6[_0x4f3641(0x262)][_0x4f3641(0x3f0)][_0x5078f0]=_0x3831db;let _0x25db5c={'variable':_0x5078f0,'oldValue':_0x396cda,'newValue':_0x3831db};this[_0x4f3641(0xfb)](_0x4201e6,_0x3a006f,_0x25db5c),this[_0x4f3641(0x470)][_0x4f3641(0x28b)](this['instanceName']+'\x20('+this[_0x4f3641(0x670)][_0x4f3641(0x6d8)]+_0x4f3641(0x66e));}catch(_0x5a7406){let _0x147f86={'error':!0x0,'errorLog':_0x5a7406[_0x4f3641(0x4e0)]()};return this['updateConversation'](_0x4201e6,_0x3a006f,_0x147f86),this[_0x4f3641(0x470)][_0x4f3641(0x3cc)](this['instanceName']+'\x20('+this[_0x4f3641(0x670)]['wuid']+_0x4f3641(0x481)+(_0x5a7406 instanceof Error?_0x5a7406[_0x4f3641(0x653)]:JSON[_0x4f3641(0x46a)](_0x5a7406,null,0x2))),null;}}async['stopConversation'](_0x4c63f0,_0x23415d){const _0x28ecc5=a0_0x2ec1ea;if(this['logger'][_0x28ecc5(0x28b)](this[_0x28ecc5(0x52d)]+'\x20('+this['instance']['wuid']+_0x28ecc5(0x740)),!_0x4c63f0||!_0x23415d)return this['logger'][_0x28ecc5(0x3cc)](this[_0x28ecc5(0x52d)]+'\x20('+this[_0x28ecc5(0x670)]['wuid']+_0x28ecc5(0xa0)),null;let _0x3cbd66=Date[_0x28ecc5(0x493)](),_0x1ad8b3=parseInt(_0x23415d[_0x28ecc5(0xbb)],0xa);if(isNaN(_0x1ad8b3))return this['logger'][_0x28ecc5(0x3cc)](this[_0x28ecc5(0x52d)]+'\x20('+this['instance'][_0x28ecc5(0x6d8)]+_0x28ecc5(0x2f2)),null;let _0x5a3dd7={'newStoppedUntil':_0x3cbd66+_0x1ad8b3*0x3c*0x3e8};return await this[_0x28ecc5(0xfb)](_0x4c63f0,_0x23415d,_0x5a3dd7,!0x0),null;}async[a0_0x2ec1ea(0x110)](_0xeb5e65,_0xeecc39){const _0x1cf845=a0_0x2ec1ea;try{switch(_0xeecc39[_0x1cf845(0x436)][_0x1cf845(0x2ac)]){case _0x1cf845(0x1e3):await this[_0x1cf845(0x724)](_0xeb5e65,_0xeecc39);break;case'sendMedia':await this['uazapiSendMedia'](_0xeb5e65,_0xeecc39);break;case _0x1cf845(0x58f):await this[_0x1cf845(0x68a)](_0xeb5e65,_0xeecc39);break;case _0x1cf845(0x178):await this[_0x1cf845(0x7d1)](_0xeb5e65,_0xeecc39);break;case _0x1cf845(0x3d8):await this['uazapiSendContact'](_0xeb5e65,_0xeecc39);break;case _0x1cf845(0x299):await this['uazapiSendMenu'](_0xeb5e65,_0xeecc39);break;case _0x1cf845(0x5ca):await this[_0x1cf845(0x2ec)](_0xeb5e65,_0xeecc39);break;case'deleteMessage':await this[_0x1cf845(0x48f)](_0xeb5e65,_0xeecc39);break;default:this[_0x1cf845(0x470)][_0x1cf845(0x3cc)](this[_0x1cf845(0x52d)]+'\x20('+this['instance']['wuid']+_0x1cf845(0x650)+_0xeecc39[_0x1cf845(0x436)][_0x1cf845(0x2ac)]);}}catch(_0x449dcf){this[_0x1cf845(0x470)][_0x1cf845(0x3cc)](this[_0x1cf845(0x52d)]+'\x20('+this[_0x1cf845(0x670)][_0x1cf845(0x6d8)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x449dcf instanceof Error?_0x449dcf[_0x1cf845(0x653)]:JSON[_0x1cf845(0x46a)](_0x449dcf,null,0x2)));}}async[a0_0x2ec1ea(0xfb)](_0x52fca4,_0xdb5f15,_0x508371,_0x5c3645=!0x1,_0x408b86=!0x1){const _0x5c7c46=a0_0x2ec1ea;_0x52fca4[_0x5c7c46(0x262)]['blockLogs']||(_0x52fca4['chatLog']['blockLogs']=[]);let _0x4005b1=(_0x52fca4['chatLog'][_0x5c7c46(0x5d2)]?.[_0x5c7c46(0x54d)]??0x0)+0x1,_0x198a36=_0x52fca4['chatLog'][_0x5c7c46(0x5d2)][_0x5c7c46(0x666)](_0x1c3b22=>String(_0x1c3b22[_0x5c7c46(0xd1)])===String(_0xdb5f15[_0x5c7c46(0x6b1)]))[_0x5c7c46(0x54d)]+0x1,_0xcb172f=_0x508371?.[_0x5c7c46(0x17d)]??Date[_0x5c7c46(0x493)](),_0x497d54=_0x508371?.['error']?_0x508371[_0x5c7c46(0x7db)]??_0x508371[_0x5c7c46(0x3cc)][_0x5c7c46(0x4e0)]():void 0x0,_0x444205={'onTime':_0xcb172f,'blockId':_0xdb5f15[_0x5c7c46(0x6b1)],'order':_0x4005b1,'activatedCount':_0x198a36,'error':_0x508371?.[_0x5c7c46(0x3cc)]??!0x1,'messageId':_0x508371?.[_0x5c7c46(0x52b)],'apiResponse':_0x508371?.[_0x5c7c46(0x373)],'apiResponseString':_0x508371?.[_0x5c7c46(0x373)]?JSON[_0x5c7c46(0x46a)](_0x508371?.[_0x5c7c46(0x373)]):void 0x0,'variable':_0x508371?.['variable'],'oldValue':_0x508371?.[_0x5c7c46(0x4ef)],'newValue':_0x508371?.[_0x5c7c46(0x179)],'newStoppedUntil':_0x508371?.[_0x5c7c46(0x705)],'moreLogs':_0x508371?.['moreLogs'],'errorLog':_0x497d54};if(_0x508371['moreLogs']&&_0x508371['moreLogs'][_0x5c7c46(0x54d)]>0x0){let _0x4ff82e=_0x508371[_0x5c7c46(0x3c9)][_0x5c7c46(0x3ac)](_0x2c04c8=>this[_0x5c7c46(0x54b)](_0x2c04c8,_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)]));_0x444205[_0x5c7c46(0x3c9)]=_0x4ff82e;}if(_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)]||(_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)]={}),_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)]['_activatedCount']=String(_0x198a36),_0x52fca4['chatLog'][_0x5c7c46(0x3f0)]['_error']=String(_0x508371[_0x5c7c46(0x3cc)]??!0x1),_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x5d2)]['push'](_0x444205),_0x52fca4[_0x5c7c46(0x262)]['realVariables'][_0x5c7c46(0x7c9)]&&_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)][_0x5c7c46(0x7c9)]!==_0x52fca4[_0x5c7c46(0x48b)]){let _0x24423a=(await this[_0x5c7c46(0x382)]({'numbers':[_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)][_0x5c7c46(0x7c9)]]}))[0x0]['jid'];_0x52fca4['chatLog']['realVariables'][_0x5c7c46(0x7c9)]=_0x24423a,_0x52fca4['remoteJid']=_0x24423a;try{let _0x5d48d6={'_id':{'$ne':_0x52fca4[_0x5c7c46(0x6b1)]},'remoteJid':_0x24423a,'status':'open'},_0xa9ae55={'status':_0x5c7c46(0x371)};await this[_0x5c7c46(0x1f6)][_0x5c7c46(0x73f)][_0x5c7c46(0x44e)](_0x5d48d6,_0xa9ae55,this[_0x5c7c46(0x670)][_0x5c7c46(0x6d8)]),this[_0x5c7c46(0x470)][_0x5c7c46(0x28b)](this[_0x5c7c46(0x52d)]+'\x20('+this['instance'][_0x5c7c46(0x6d8)]+_0x5c7c46(0x53e));}catch(_0x21282c){this[_0x5c7c46(0x470)][_0x5c7c46(0x3cc)](this[_0x5c7c46(0x52d)]+'\x20('+this[_0x5c7c46(0x670)][_0x5c7c46(0x6d8)]+_0x5c7c46(0x238)+_0x21282c[_0x5c7c46(0x653)]);}try{let _0xb24496=_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x3f0)],_0x327a0f=await this[_0x5c7c46(0x5b6)](_0x24423a),_0x2229a8={..._0xb24496,..._0x327a0f,'_remoteJid':_0x24423a};_0x52fca4['chatLog'][_0x5c7c46(0x3f0)]=_0x2229a8;}catch(_0x282654){this['logger'][_0x5c7c46(0x3cc)](this[_0x5c7c46(0x52d)]+'\x20('+this[_0x5c7c46(0x670)][_0x5c7c46(0x6d8)]+_0x5c7c46(0x7da)+_0x282654[_0x5c7c46(0x653)]);}}_0x52fca4[_0x5c7c46(0x262)]['lastBlockId']=_0xdb5f15[_0x5c7c46(0x6b1)][_0x5c7c46(0x4e0)](),_0x52fca4[_0x5c7c46(0x262)]['lastSendMessage']&&(_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x5db)]=_0x52fca4[_0x5c7c46(0x262)]['lastSendMessage']),_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x1a4)]&&(_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x1a4)]=_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x1a4)]),_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x548)]&&(_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x548)]=_0x52fca4[_0x5c7c46(0x262)][_0x5c7c46(0x548)]),_0x408b86&&(_0x52fca4[_0x5c7c46(0x3fd)]=_0x5c7c46(0x371)),_0x5c3645?this['saveConversationToDatabase'](_0x52fca4):this['goNextblock'](_0x52fca4,_0xdb5f15);}[a0_0x2ec1ea(0x54b)](_0x40815b,_0x596112){const _0x4d5497=a0_0x2ec1ea;return _0x40815b[_0x4d5497(0x19d)](/\{\{([^}]+)\}\}/g,(_0x219924,_0x20df05)=>_0x596112[_0x20df05]?'{{'+_0x20df05+'}}\x20->\x20\x22'+_0x596112[_0x20df05]+'\x22':'{{'+_0x20df05+_0x4d5497(0x573));}async[a0_0x2ec1ea(0x3c4)](_0x9cdce7){const _0x370981=a0_0x2ec1ea;try{let _0x113de2=Object[_0x370981(0x7bc)](_0x9cdce7[_0x370981(0x262)][_0x370981(0x3f0)])[_0x370981(0x3ac)](([_0x5eb89d,_0x519567])=>({'name':_0x5eb89d,'value':_0x519567})),_0x4d2140={'status':_0x9cdce7[_0x370981(0x3fd)],'remoteJid':_0x9cdce7[_0x370981(0x48b)],'blocks':_0x9cdce7[_0x370981(0x4ed)],'waitingMenu_id':_0x9cdce7[_0x370981(0x170)],'waitingMenu_text':_0x9cdce7['waitingMenu_text'],'waitingMenu_replyOptions':_0x9cdce7['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x9cdce7[_0x370981(0x262)][_0x370981(0x47f)],'lastSendMessage':_0x9cdce7[_0x370981(0x262)][_0x370981(0x5db)],'lastReceivedMessage':_0x9cdce7['chatLog'][_0x370981(0x1a4)],'lastCondition':_0x9cdce7['chatLog']['lastCondition'],'chatVariables':_0x113de2,'realVariables':_0x9cdce7[_0x370981(0x262)][_0x370981(0x3f0)],'blockLogs':_0x9cdce7[_0x370981(0x262)][_0x370981(0x5d2)]}},_0x340c33=await this[_0x370981(0x1f6)][_0x370981(0x73f)][_0x370981(0x3cf)](_0x9cdce7['_id'],_0x4d2140,this[_0x370981(0x670)][_0x370981(0x6d8)]);if(_0x340c33){this[_0x370981(0x470)]['verbose'](this[_0x370981(0x52d)]+'\x20('+this[_0x370981(0x670)][_0x370981(0x6d8)]+_0x370981(0x498)+_0x340c33[_0x370981(0x6b1)]);try{let _0xc9a018=['nome',_0x370981(0x1bf),'email',_0x370981(0x5b7),_0x370981(0x3fd),_0x370981(0x232),_0x370981(0x70b),'tags',_0x370981(0x1cb),_0x370981(0x174)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x370981(0x3a1)]))throw new Error('AutomateSystem\x20no\x20foi\x20inicializado');let _0x47ed85=this[_0x370981(0x3a1)]?.[_0x370981(0x4e4)][_0x370981(0x3ac)](_0x368bee=>_0x368bee['name']),_0x5487e7={};Object[_0x370981(0x7bc)](_0x9cdce7['chatLog'][_0x370981(0x3f0)])[_0x370981(0x487)](([_0x26f0a6,_0x4ef6f4])=>{const _0x227d47=_0x370981;_0xc9a018[_0x227d47(0x7de)](_0x26f0a6)&&(_0x26f0a6===_0x227d47(0x1df)&&typeof _0x4ef6f4==_0x227d47(0x2a7)?_0x5487e7[_0x26f0a6]=_0x4ef6f4[_0x227d47(0x1e1)](',')[_0x227d47(0x3ac)](_0xab24cf=>_0xab24cf[_0x227d47(0x3fb)]())[_0x227d47(0x666)](_0x639520=>_0x639520!==''):_0x26f0a6==='etiquetas'&&typeof _0x4ef6f4==_0x227d47(0x2a7)?_0x5487e7[_0x26f0a6]=_0x4ef6f4[_0x227d47(0x1e1)](',')[_0x227d47(0x3ac)](_0x181b19=>_0x181b19['trim']())[_0x227d47(0x666)](_0x24a971=>_0x24a971!==''):_0x5487e7[_0x26f0a6]=_0x4ef6f4);});let _0x5b7345=_0x9cdce7[_0x370981(0x262)][_0x370981(0x5d2)][_0x9cdce7[_0x370981(0x262)]['blockLogs'][_0x370981(0x54d)]-0x1];if(_0x5b7345){let _0x2d29bf=_0x5b7345[_0x370981(0x705)];_0x2d29bf!==void 0x0&&(_0x5487e7['desativadoFluxoAte']=_0x2d29bf[_0x370981(0x4e0)]());}let _0x4ecab7=_0x113de2[_0x370981(0x666)](_0x80c84=>_0x47ed85['includes'](_0x80c84[_0x370981(0x582)]));this[_0x370981(0x470)]['verbose'](this[_0x370981(0x52d)]+'\x20('+this[_0x370981(0x670)][_0x370981(0x6d8)]+_0x370981(0x37e)),this[_0x370981(0x470)]['verbose'](_0x5487e7),this['logger'][_0x370981(0x28b)](this['instanceName']+'\x20('+this[_0x370981(0x670)]['wuid']+_0x370981(0x746)),this[_0x370981(0x470)][_0x370981(0x28b)](_0x4ecab7);let _0x191729=_0x4ecab7[_0x370981(0x3ac)](_0x2a070b=>{const _0x486e72=_0x370981;let _0x40d0e5=this[_0x486e72(0x3a1)]?.['customFields']['find'](_0x311b32=>_0x311b32['name']===_0x2a070b[_0x486e72(0x582)]);if(!_0x40d0e5)throw new Error(_0x486e72(0x612)+_0x2a070b[_0x486e72(0x582)]);return{'_id':_0x40d0e5[_0x486e72(0x6b1)],'value':_0x2a070b['value']};});this[_0x370981(0x470)][_0x370981(0x28b)](this[_0x370981(0x52d)]+'\x20('+this['instance'][_0x370981(0x6d8)]+_0x370981(0x3f5)),this[_0x370981(0x470)][_0x370981(0x28b)](_0x191729),await this['saveChatVariables'](_0x9cdce7[_0x370981(0x48b)],_0x5487e7,_0x191729);}catch(_0x382f59){this['logger'][_0x370981(0x3cc)](this[_0x370981(0x52d)]+'\x20('+this['instance'][_0x370981(0x6d8)]+_0x370981(0x28c)+(_0x382f59 instanceof Error?_0x382f59[_0x370981(0x653)]:JSON[_0x370981(0x46a)](_0x382f59,null,0x2)));}}else this['logger'][_0x370981(0x3cc)](this[_0x370981(0x52d)]+'\x20('+this[_0x370981(0x670)]['wuid']+_0x370981(0x415));}catch(_0x10784c){this[_0x370981(0x470)][_0x370981(0x3cc)](this[_0x370981(0x52d)]+'\x20('+this[_0x370981(0x670)][_0x370981(0x6d8)]+_0x370981(0x5d8)+(_0x10784c instanceof Error?_0x10784c[_0x370981(0x653)]:JSON[_0x370981(0x46a)](_0x10784c,null,0x2)));}}async[a0_0x2ec1ea(0x66f)](_0x48cd91,_0x58beea,_0x48440f){const _0x5ecce7=a0_0x2ec1ea;try{let _0x5c1080={'leadInfo.leadnome':_0x58beea['nome'],'leadInfo.nomecompleto':_0x58beea[_0x5ecce7(0x1bf)],'leadInfo.email':_0x58beea[_0x5ecce7(0x7a7)],'leadInfo.cpf':_0x58beea['cpf'],'leadInfo.status':_0x58beea[_0x5ecce7(0x3fd)],'leadInfo.notas':_0x58beea['notas'],'leadInfo.responsavelid':_0x58beea[_0x5ecce7(0x70b)],'leadInfo.tags':_0x58beea[_0x5ecce7(0x1df)],'leadInfo.etiquetas':_0x58beea[_0x5ecce7(0x1cb)],'leadInfo.customFields':_0x48440f,'leadInfo.atendimentoAberto':_0x58beea['atendimentoAberto']},_0x94e440=await this[_0x5ecce7(0x1f6)][_0x5ecce7(0x107)][_0x5ecce7(0x167)]({'where':{'_id':_0x48cd91}},this['instance'][_0x5ecce7(0x6d8)]);if(!_0x94e440)return _0x5ecce7(0x7bd);let _0x113a56=new Set(_0x94e440[_0x5ecce7(0x5f5)][_0x5ecce7(0x1cb)]||[]),_0x4b6177=new Set(_0x58beea[_0x5ecce7(0x1cb)]||[]),_0x47bd2d=await this['repository']['label']['find']({'where':{}},this[_0x5ecce7(0x670)][_0x5ecce7(0x6d8)]),_0x4a480e=new Set(_0x47bd2d[_0x5ecce7(0x3ac)](_0x35e251=>_0x35e251[_0x5ecce7(0x6b1)])),_0xe3436f=[..._0x4b6177]['filter'](_0x89d0b7=>!_0x113a56[_0x5ecce7(0x4a0)](_0x89d0b7)&&_0x4a480e['has'](_0x89d0b7)),_0x335f3c=[..._0x113a56][_0x5ecce7(0x666)](_0x4afe38=>!_0x4b6177['has'](_0x4afe38));for(let _0x1cf62c of _0xe3436f)await this[_0x5ecce7(0x28a)](_0x1cf62c,_0x94e440[_0x5ecce7(0x6b1)]),_0x113a56[_0x5ecce7(0x2fc)](_0x1cf62c);for(let _0x18ba1c of _0x335f3c)await this[_0x5ecce7(0x389)](_0x18ba1c,_0x94e440[_0x5ecce7(0x6b1)]),_0x113a56[_0x5ecce7(0x31e)](_0x18ba1c);if(_0x5ecce7(0x217)in _0x58beea){let _0x2fd98b=_0x58beea['desativadoFluxoAte'];_0x5c1080[_0x5ecce7(0x496)]=_0x2fd98b?Number(_0x2fd98b):null;}if(_0x5ecce7(0x174)in _0x58beea){let _0x6d0ec8=_0x58beea[_0x5ecce7(0x174)]['toLowerCase']();_0x5c1080['leadInfo.atendimentoAberto']=_0x6d0ec8==='true'||_0x6d0ec8==='1'||_0x6d0ec8===_0x5ecce7(0x433)||_0x6d0ec8===_0x5ecce7(0x73a);}let _0x3317d0=await this[_0x5ecce7(0x1f6)][_0x5ecce7(0x107)]['updateOne']({'where':{'_id':_0x48cd91}},_0x5c1080,this[_0x5ecce7(0x670)][_0x5ecce7(0x6d8)]);_0x3317d0?(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x3317d0[_0x5ecce7(0x6b1)]),q(this[_0x5ecce7(0x52d)],_0x5ecce7(0x651),{'chat':_0x3317d0})):this[_0x5ecce7(0x470)][_0x5ecce7(0x3cc)](this[_0x5ecce7(0x52d)]+'\x20('+this['instance'][_0x5ecce7(0x6d8)]+_0x5ecce7(0x576));}catch(_0x1137d0){this[_0x5ecce7(0x470)][_0x5ecce7(0x3cc)](this['instanceName']+'\x20('+this[_0x5ecce7(0x670)][_0x5ecce7(0x6d8)]+_0x5ecce7(0xe4)+(_0x1137d0 instanceof Error?_0x1137d0[_0x5ecce7(0x653)]:JSON[_0x5ecce7(0x46a)](_0x1137d0,null,0x2)));}}async[a0_0x2ec1ea(0x68b)](_0x5e5e88,_0x1ca0ca){const _0x3c8cd9=a0_0x2ec1ea;this[_0x3c8cd9(0x470)]['verbose'](this[_0x3c8cd9(0x52d)]+'\x20('+this[_0x3c8cd9(0x670)][_0x3c8cd9(0x6d8)]+'):\x20atualizao\x20chat:\x20'+_0x1ca0ca);try{let _0x286ec5=await this[_0x3c8cd9(0x1f6)][_0x3c8cd9(0x107)][_0x3c8cd9(0x3cf)]({'where':{'_id':_0x5e5e88[_0x3c8cd9(0x48b)]}},{'leadInfo.desativadoFluxoAte':_0x1ca0ca},this[_0x3c8cd9(0x670)]['wuid']);this[_0x3c8cd9(0x470)][_0x3c8cd9(0x28b)](this[_0x3c8cd9(0x52d)]+'\x20('+this[_0x3c8cd9(0x670)][_0x3c8cd9(0x6d8)]+_0x3c8cd9(0x599)+_0x5e5e88[_0x3c8cd9(0x6b1)]),this[_0x3c8cd9(0x470)][_0x3c8cd9(0x28b)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20atualizao\x20chat:\x20'+JSON['stringify'](_0x286ec5,null,0x2)),_0x286ec5&&q(this['instanceName'],_0x3c8cd9(0x651),{'chat':_0x286ec5});}catch(_0x23d2ee){this['logger'][_0x3c8cd9(0x3cc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3c8cd9(0xd0)+(_0x23d2ee instanceof Error?_0x23d2ee[_0x3c8cd9(0x653)]:JSON[_0x3c8cd9(0x46a)](_0x23d2ee,null,0x2)));}}async['findFlow'](_0x43241){const _0x3e3e3a=a0_0x2ec1ea;try{this[_0x3e3e3a(0x470)][_0x3e3e3a(0x28b)](this[_0x3e3e3a(0x52d)]+'\x20('+this['instance'][_0x3e3e3a(0x6d8)]+_0x3e3e3a(0x1e5));let _0x151bbf=_0x43241[_0x3e3e3a(0x19d)](/\D/g,''),_0x3eea4d=this[_0x3e3e3a(0x3a1)]['flows'][_0x3e3e3a(0x3f1)](_0x5e5d07=>_0x5e5d07[_0x3e3e3a(0x57f)]===_0x151bbf);if(_0x3eea4d||(this[_0x3e3e3a(0x470)][_0x3e3e3a(0x28b)](this[_0x3e3e3a(0x52d)]+'\x20('+this[_0x3e3e3a(0x670)][_0x3e3e3a(0x6d8)]+_0x3e3e3a(0x29e)),_0x3eea4d=this['AutomateSystem'][_0x3e3e3a(0x6c1)][_0x3e3e3a(0x3f1)](_0xe56283=>_0xe56283[_0x3e3e3a(0x4d4)]===!0x0)),!_0x3eea4d)return this[_0x3e3e3a(0x470)][_0x3e3e3a(0x28b)](this[_0x3e3e3a(0x52d)]+'\x20('+this[_0x3e3e3a(0x670)][_0x3e3e3a(0x6d8)]+_0x3e3e3a(0x646)),null;let _0x283b28=await this['repository']['flow'][_0x3e3e3a(0x167)]({'where':{'_id':_0x3eea4d[_0x3e3e3a(0x6b1)]}});if(!_0x283b28||!_0x283b28[_0x3e3e3a(0x225)]?.['includes'](this[_0x3e3e3a(0x670)]['wuid']))throw this[_0x3e3e3a(0x470)][_0x3e3e3a(0x3cc)](this[_0x3e3e3a(0x52d)]+'\x20('+this[_0x3e3e3a(0x670)][_0x3e3e3a(0x6d8)]+_0x3e3e3a(0x3a8)+_0x283b28[_0x3e3e3a(0x6b1)]+_0x3e3e3a(0x5a5)),new m(_0x3e3e3a(0x7c3)+_0x283b28['_id']+_0x3e3e3a(0x5a5));return _0x283b28;}catch(_0x4dd308){return this[_0x3e3e3a(0x470)]['error'](this[_0x3e3e3a(0x52d)]+'\x20('+this[_0x3e3e3a(0x670)][_0x3e3e3a(0x6d8)]+_0x3e3e3a(0x1a7)+(_0x4dd308 instanceof Error?_0x4dd308[_0x3e3e3a(0x653)]:JSON[_0x3e3e3a(0x46a)](_0x4dd308,null,0x2))),null;}}async[a0_0x2ec1ea(0xbe)](_0x2ce696,_0x32911a){const _0x1dcc8f=a0_0x2ec1ea;try{let _0x515005=!!_0x32911a[_0x1dcc8f(0x633)],_0x5ee7bc=_0x32911a[_0x1dcc8f(0x529)],_0x27da0b=null;if(this[_0x1dcc8f(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x588)+_0x515005+_0x1dcc8f(0x2d1)+_0x5ee7bc),_0x515005){this[_0x1dcc8f(0x470)][_0x1dcc8f(0x28b)](this[_0x1dcc8f(0x52d)]+'\x20('+this['instance'][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x10b));let _0x68c15b={'where':{'remoteJid':_0x2ce696,'waitingMenu_id':_0x5ee7bc}};if(_0x27da0b=await this['repository'][_0x1dcc8f(0x73f)][_0x1dcc8f(0x167)](_0x68c15b,this['instance'][_0x1dcc8f(0x6d8)]),!_0x27da0b)return this[_0x1dcc8f(0x470)][_0x1dcc8f(0x28b)](this['instanceName']+'\x20('+this[_0x1dcc8f(0x670)]['wuid']+_0x1dcc8f(0x4ad)),null;let _0x3f44a9=Date[_0x1dcc8f(0x493)](),_0x230dbf=_0x27da0b?.[_0x1dcc8f(0x5f2)]||0x0,_0x209afd=_0x3f44a9-_0x230dbf*0x3c*0x3e8;if(_0x27da0b[_0x1dcc8f(0x776)]<_0x209afd){this['logger'][_0x1dcc8f(0x28b)](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x172));let _0x10ebcc={'number':_0x27da0b[_0x1dcc8f(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x27da0b[_0x1dcc8f(0x387)]}};await this[_0x1dcc8f(0x4f3)](_0x10ebcc);let _0x292d5b={'status':_0x1dcc8f(0x371),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x1dcc8f(0x1f6)][_0x1dcc8f(0x73f)][_0x1dcc8f(0x3cf)](_0x27da0b[_0x1dcc8f(0x6b1)],_0x292d5b,this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]),null;}return _0x27da0b['lastInteraction']=Date['now'](),_0x27da0b[_0x1dcc8f(0x262)][_0x1dcc8f(0x1a4)]=_0x32911a,_0x27da0b;}else{this['logger'][_0x1dcc8f(0x28b)](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x755)+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+'\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio'),this[_0x1dcc8f(0x470)][_0x1dcc8f(0x28b)](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)]['wuid']+_0x1dcc8f(0x43a));let _0x363261={'where':{'remoteJid':_0x2ce696,'status':'open'}};if(_0x27da0b=await this['repository'][_0x1dcc8f(0x73f)][_0x1dcc8f(0x167)](_0x363261,this[_0x1dcc8f(0x670)]['wuid']),!_0x27da0b){let _0x157f24=await this[_0x1dcc8f(0x579)](_0x2ce696);if(_0x157f24&&(_0x27da0b=await this['createNewConversation'](_0x157f24,_0x32911a[_0x1dcc8f(0x2e1)],_0x32911a)),!_0x27da0b)return null;}let _0x2d9bf1=Date['now'](),_0x5b50c5=_0x27da0b?.[_0x1dcc8f(0x5f2)]||0x0,_0x562c72=_0x2d9bf1-_0x5b50c5*0x3c*0x3e8;if(this[_0x1dcc8f(0x470)]['verbose'](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x16a)+_0x2d9bf1+_0x1dcc8f(0x21a)+_0x5b50c5+_0x1dcc8f(0x55b)+_0x562c72),this[_0x1dcc8f(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x9f)),this[_0x1dcc8f(0x470)]['verbose'](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x29f)+_0x27da0b[_0x1dcc8f(0x776)]),this[_0x1dcc8f(0x470)][_0x1dcc8f(0x28b)](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)]['wuid']+'):\x20expirationTime:\x20'+_0x562c72),_0x27da0b[_0x1dcc8f(0x776)]<_0x562c72){this['logger']['verbose'](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x798));let _0x5def90=await this[_0x1dcc8f(0x579)](_0x2ce696);if(_0x5def90===null)return null;_0x27da0b&&await this[_0x1dcc8f(0x1f6)]['flowConversation'][_0x1dcc8f(0x3cf)](_0x27da0b[_0x1dcc8f(0x6b1)],{'status':_0x1dcc8f(0x371)},this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]),_0x27da0b=await this[_0x1dcc8f(0x355)](_0x5def90,_0x32911a[_0x1dcc8f(0x2e1)],_0x32911a);}return _0x27da0b['lastInteraction']=_0x2d9bf1,_0x27da0b[_0x1dcc8f(0x262)]['lastReceivedMessage']=_0x32911a,_0x27da0b;}}catch(_0x299aa2){return this[_0x1dcc8f(0x470)]['error'](this[_0x1dcc8f(0x52d)]+'\x20('+this[_0x1dcc8f(0x670)][_0x1dcc8f(0x6d8)]+_0x1dcc8f(0x5f0)+(_0x299aa2 instanceof Error?_0x299aa2[_0x1dcc8f(0x653)]:JSON[_0x1dcc8f(0x46a)](_0x299aa2,null,0x2))),null;}}async['createNewConversation'](_0x40601b,_0x5e06b9,_0x3e4882){const _0x38e09c=a0_0x2ec1ea;this['logger']['verbose'](this[_0x38e09c(0x52d)]+'\x20('+this[_0x38e09c(0x670)][_0x38e09c(0x6d8)]+_0x38e09c(0x4e7));try{let _0x30ebd2=require('mongodb')['ObjectId'],_0x49ae8b=Date['now'](),_0x5cfde4='start',_0x4212fb=_0x5e06b9[_0x38e09c(0x103)]?null:_0x3e4882,_0x3786de=_0x5e06b9[_0x38e09c(0x103)]?_0x3e4882:null,_0x4d901c=_0x5e06b9[_0x38e09c(0x48b)],_0x5ca7ad=this[_0x38e09c(0x3a1)][_0x38e09c(0x6c1)][_0x38e09c(0x3f1)](_0x32ee0b=>_0x32ee0b[_0x38e09c(0x6b1)]===_0x40601b[_0x38e09c(0x6b1)]?.[_0x38e09c(0x4e0)]()),_0xb30142=_0x5ca7ad?.[_0x38e09c(0x5f2)]??_0x40601b[_0x38e09c(0x5f2)]??0x0,_0x3d16f2=_0x5ca7ad?.[_0x38e09c(0x3e7)]??_0x40601b[_0x38e09c(0x3e7)]??!0x1;await this[_0x38e09c(0x131)](_0x4d901c);let _0x37ae6b={'flowId':_0x40601b[_0x38e09c(0x6b1)],..._0x40601b,'chatLog':null},_0x109646=await this[_0x38e09c(0x34b)](_0x37ae6b[_0x38e09c(0x492)]),_0x4a6918=await this[_0x38e09c(0x5b6)](_0x4d901c),_0x2ffb66={..._0x109646,..._0x4a6918,'_remoteJid':_0x4d901c},_0x256da0={'lastReceivedMessage':_0x4212fb,'lastSendMessage':_0x3786de,'lastBlockId':_0x5cfde4,'lastCondition':!0x0,'realVariables':_0x2ffb66};_0x37ae6b[_0x38e09c(0x262)]=_0x256da0,delete _0x37ae6b['_id'],_0x37ae6b[_0x38e09c(0x6b1)]=new _0x30ebd2(),_0x37ae6b[_0x38e09c(0x776)]=_0x49ae8b,_0x37ae6b[_0x38e09c(0x3fd)]=_0x38e09c(0x763),_0x37ae6b[_0x38e09c(0x48b)]=_0x4d901c,_0x37ae6b['minutesToClose']=_0xb30142,_0x37ae6b['readMessages']=_0x3d16f2;let _0x5f1d73=await this['repository'][_0x38e09c(0x73f)][_0x38e09c(0x3cf)](_0x37ae6b[_0x38e09c(0x6b1)],_0x37ae6b,this[_0x38e09c(0x670)]['wuid']);return this['logger'][_0x38e09c(0x28b)](this[_0x38e09c(0x52d)]+'\x20('+this[_0x38e09c(0x670)][_0x38e09c(0x6d8)]+_0x38e09c(0x440)),_0x5f1d73?_0x37ae6b:null;}catch(_0x5d39ba){return this[_0x38e09c(0x470)][_0x38e09c(0x3cc)](this[_0x38e09c(0x52d)]+'\x20('+this[_0x38e09c(0x670)][_0x38e09c(0x6d8)]+_0x38e09c(0x40f)+(_0x5d39ba instanceof Error?_0x5d39ba[_0x38e09c(0x653)]:JSON[_0x38e09c(0x46a)](_0x5d39ba,null,0x2))),_0x5d39ba;}}async[a0_0x2ec1ea(0x724)](_0x428716,_0x316073){const _0x52c743=a0_0x2ec1ea;let _0x352562=_0x428716[_0x52c743(0x48b)];_0x316073[_0x52c743(0x436)]['remoteJid']&&_0x316073[_0x52c743(0x436)][_0x52c743(0x48b)][_0x52c743(0x3fb)]()!==''&&(_0x352562=_0x316073[_0x52c743(0x436)][_0x52c743(0x48b)][_0x52c743(0x3fb)]()),this[_0x52c743(0x470)][_0x52c743(0x28b)](this[_0x52c743(0x52d)]+'\x20('+this['instance'][_0x52c743(0x6d8)]+_0x52c743(0x384));let _0x5e323b={'number':_0x352562,'options':{'delay':_0x316073['uazapi'][_0x52c743(0x3e6)],'linkPreview':_0x316073['uazapi']['linkPreview']},'textMessage':{'text':_0x316073[_0x52c743(0x436)][_0x52c743(0x2e7)]}};try{let _0x3bdfed=await this[_0x52c743(0x4f3)](_0x5e323b);if(_0x3bdfed){let _0x163e8d={'_id':_0x3bdfed[_0x52c743(0x2e1)]['id'],'_fromMe':_0x3bdfed[_0x52c743(0x2e1)]['fromMe'],'_remoteJid':_0x3bdfed[_0x52c743(0x2e1)]['remoteJid']},_0x46bfc4=(0x0,w[_0x52c743(0x22c)])(_0x3bdfed[_0x52c743(0x653)]),_0xc1d9f8=(0x0,w['getContentType'])(_0x46bfc4);_0x428716[_0x52c743(0x262)]['lastBlockId']=_0x316073[_0x52c743(0x6b1)]['toString']();let {message_normalized:_0x41238b}=this[_0x52c743(0x759)](_0x46bfc4,_0xc1d9f8,null);_0x428716[_0x52c743(0x262)][_0x52c743(0x5db)]=await _0x41238b;let _0x7fe2f8={'messageId':_0x3bdfed['key']['id']},_0x376108=_0x428716[_0x52c743(0x262)][_0x52c743(0x3f0)];Object[_0x52c743(0x2e2)](_0x376108,_0x163e8d),_0x428716[_0x52c743(0x262)][_0x52c743(0x3f0)]=_0x376108,this[_0x52c743(0xfb)](_0x428716,_0x316073,_0x7fe2f8);}else{let _0x256a7d={'error':!0x0};this['updateConversation'](_0x428716,_0x316073,_0x256a7d),this[_0x52c743(0x470)][_0x52c743(0x3cc)](this[_0x52c743(0x52d)]+'\x20('+this[_0x52c743(0x670)]['wuid']+_0x52c743(0x734));}}catch(_0x33e0e1){let _0x23d197={'error':!0x0,'errorLog':_0x33e0e1[_0x52c743(0x4e0)]()};this[_0x52c743(0xfb)](_0x428716,_0x316073,_0x23d197),this['logger'][_0x52c743(0x3cc)](this[_0x52c743(0x52d)]+'\x20('+this[_0x52c743(0x670)][_0x52c743(0x6d8)]+_0x52c743(0x623)+(_0x33e0e1 instanceof Error?_0x33e0e1[_0x52c743(0x653)]:JSON[_0x52c743(0x46a)](_0x33e0e1,null,0x2)));}}async[a0_0x2ec1ea(0x654)](_0x583ee7,_0x353f06){const _0x5bae5c=a0_0x2ec1ea;let _0x13560a=_0x583ee7[_0x5bae5c(0x48b)];_0x353f06['uazapi']['remoteJid']&&_0x353f06[_0x5bae5c(0x436)]['remoteJid'][_0x5bae5c(0x3fb)]()!==''&&(_0x13560a=_0x353f06[_0x5bae5c(0x436)][_0x5bae5c(0x48b)][_0x5bae5c(0x3fb)]()),this[_0x5bae5c(0x470)][_0x5bae5c(0x28b)](this[_0x5bae5c(0x52d)]+'\x20('+this[_0x5bae5c(0x670)][_0x5bae5c(0x6d8)]+_0x5bae5c(0x273));let _0x1823c0={'number':_0x13560a,'options':{'delay':_0x353f06['uazapi'][_0x5bae5c(0x3e6)],'linkPreview':_0x353f06[_0x5bae5c(0x436)][_0x5bae5c(0x501)]},'mediaMessage':{'mediatype':_0x353f06['uazapi'][_0x5bae5c(0x176)],'caption':_0x353f06[_0x5bae5c(0x436)][_0x5bae5c(0x71b)],'media':_0x353f06[_0x5bae5c(0x436)][_0x5bae5c(0x3e1)],'fileName':_0x353f06[_0x5bae5c(0x436)][_0x5bae5c(0x51b)]}};try{let _0x2ae358=await this[_0x5bae5c(0x187)](_0x1823c0);if(_0x2ae358){let _0x32055c={'_id':_0x2ae358[_0x5bae5c(0x2e1)]['id'],'_fromMe':_0x2ae358[_0x5bae5c(0x2e1)]['fromMe'],'_remoteJid':_0x2ae358[_0x5bae5c(0x2e1)][_0x5bae5c(0x48b)]},_0x5aa753=(0x0,w['normalizeMessageContent'])(_0x2ae358[_0x5bae5c(0x653)]),_0x537ec4=(0x0,w['getContentType'])(_0x5aa753);_0x583ee7[_0x5bae5c(0x262)]['lastBlockId']=_0x353f06['_id'][_0x5bae5c(0x4e0)]();let {message_normalized:_0xa7a6f}=this[_0x5bae5c(0x759)](_0x5aa753,_0x537ec4,null);_0x583ee7[_0x5bae5c(0x262)][_0x5bae5c(0x5db)]=await _0xa7a6f;let _0x40997b={'messageId':_0x2ae358[_0x5bae5c(0x2e1)]['id']},_0x3f84e4=_0x583ee7[_0x5bae5c(0x262)][_0x5bae5c(0x3f0)];Object['assign'](_0x3f84e4,_0x32055c),_0x583ee7[_0x5bae5c(0x262)][_0x5bae5c(0x3f0)]=_0x3f84e4,this[_0x5bae5c(0xfb)](_0x583ee7,_0x353f06,_0x40997b);}else{let _0x250d20={'error':!0x0};this[_0x5bae5c(0xfb)](_0x583ee7,_0x353f06,_0x250d20),this[_0x5bae5c(0x470)][_0x5bae5c(0x3cc)](this[_0x5bae5c(0x52d)]+'\x20('+this[_0x5bae5c(0x670)]['wuid']+_0x5bae5c(0x727));}}catch(_0xd66ec){let _0x518823={'error':!0x0,'errorLog':_0xd66ec[_0x5bae5c(0x4e0)]()};this[_0x5bae5c(0xfb)](_0x583ee7,_0x353f06,_0x518823),this['logger'][_0x5bae5c(0x3cc)](this[_0x5bae5c(0x52d)]+'\x20('+this['instance'][_0x5bae5c(0x6d8)]+_0x5bae5c(0x58c)+(_0xd66ec instanceof Error?_0xd66ec[_0x5bae5c(0x653)]:JSON['stringify'](_0xd66ec,null,0x2)));}}async[a0_0x2ec1ea(0x68a)](_0x49d6f6,_0x384717){const _0x483c79=a0_0x2ec1ea;let _0x54ca57=_0x49d6f6[_0x483c79(0x48b)];_0x384717[_0x483c79(0x436)][_0x483c79(0x48b)]&&_0x384717['uazapi'][_0x483c79(0x48b)]['trim']()!==''&&(_0x54ca57=_0x384717[_0x483c79(0x436)][_0x483c79(0x48b)][_0x483c79(0x3fb)]()),this[_0x483c79(0x470)][_0x483c79(0x28b)](this[_0x483c79(0x52d)]+'\x20('+this[_0x483c79(0x670)][_0x483c79(0x6d8)]+_0x483c79(0x1cd));let _0x1ca321={'number':_0x54ca57,'options':{'delay':_0x384717[_0x483c79(0x436)]['delay']},'locationMessage':{'name':_0x384717[_0x483c79(0x436)][_0x483c79(0x582)],'address':_0x384717[_0x483c79(0x436)][_0x483c79(0x316)],'latitude':_0x384717[_0x483c79(0x436)][_0x483c79(0x560)],'longitude':_0x384717[_0x483c79(0x436)][_0x483c79(0x333)]}};try{let _0x2cba4c=await this['locationMessage'](_0x1ca321);if(_0x2cba4c){let _0x5c383b={'_id':_0x2cba4c[_0x483c79(0x2e1)]['id'],'_fromMe':_0x2cba4c[_0x483c79(0x2e1)][_0x483c79(0x103)],'_remoteJid':_0x2cba4c[_0x483c79(0x2e1)][_0x483c79(0x48b)]},_0x3be85e=(0x0,w[_0x483c79(0x22c)])(_0x2cba4c['message']),_0x4b2800=(0x0,w['getContentType'])(_0x3be85e);_0x49d6f6[_0x483c79(0x262)][_0x483c79(0x47f)]=_0x384717[_0x483c79(0x6b1)][_0x483c79(0x4e0)]();let {message_normalized:_0x10920b}=this[_0x483c79(0x759)](_0x3be85e,_0x4b2800,null);_0x49d6f6[_0x483c79(0x262)][_0x483c79(0x5db)]=await _0x10920b;let _0x32954c={'messageId':_0x2cba4c[_0x483c79(0x2e1)]['id']},_0x176e92=_0x49d6f6[_0x483c79(0x262)][_0x483c79(0x3f0)];Object[_0x483c79(0x2e2)](_0x176e92,_0x5c383b),_0x49d6f6[_0x483c79(0x262)][_0x483c79(0x3f0)]=_0x176e92,this['updateConversation'](_0x49d6f6,_0x384717,_0x32954c);}else{let _0x10dfe6={'error':!0x0};this['updateConversation'](_0x49d6f6,_0x384717,_0x10dfe6),this[_0x483c79(0x470)][_0x483c79(0x3cc)](this[_0x483c79(0x52d)]+'\x20('+this['instance'][_0x483c79(0x6d8)]+_0x483c79(0x1a2));}}catch(_0x4e7fcb){let _0x5efbdd={'error':!0x0,'errorLog':_0x4e7fcb[_0x483c79(0x4e0)]()};this[_0x483c79(0xfb)](_0x49d6f6,_0x384717,_0x5efbdd),this[_0x483c79(0x470)][_0x483c79(0x3cc)](this[_0x483c79(0x52d)]+'\x20('+this[_0x483c79(0x670)][_0x483c79(0x6d8)]+_0x483c79(0x48e)+(_0x4e7fcb instanceof Error?_0x4e7fcb['message']:JSON['stringify'](_0x4e7fcb,null,0x2)));}}async[a0_0x2ec1ea(0x7d1)](_0x2814a3,_0x157120){const _0x205828=a0_0x2ec1ea;let _0x7cd9b7=_0x2814a3[_0x205828(0x48b)];_0x157120['uazapi'][_0x205828(0x48b)]&&_0x157120[_0x205828(0x436)]['remoteJid'][_0x205828(0x3fb)]()!==''&&(_0x7cd9b7=_0x157120[_0x205828(0x436)][_0x205828(0x48b)][_0x205828(0x3fb)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x205828(0x670)][_0x205828(0x6d8)]+_0x205828(0x1e8));let _0x32fccf={'number':_0x7cd9b7,'options':{'delay':_0x157120[_0x205828(0x436)]['delay']},'audioMessage':{'audio':_0x157120[_0x205828(0x436)][_0x205828(0x618)]}};try{let _0x2f8215=await this['audioWhatsapp'](_0x32fccf);if(_0x2f8215){let _0x112885={'_id':_0x2f8215[_0x205828(0x2e1)]['id'],'_fromMe':_0x2f8215['key']['fromMe'],'_remoteJid':_0x2f8215[_0x205828(0x2e1)][_0x205828(0x48b)]},_0x29930f=(0x0,w[_0x205828(0x22c)])(_0x2f8215[_0x205828(0x653)]),_0x1dd185=(0x0,w[_0x205828(0x2c8)])(_0x29930f);_0x2814a3[_0x205828(0x262)][_0x205828(0x47f)]=_0x157120[_0x205828(0x6b1)]['toString']();let {message_normalized:_0x4b298b}=this[_0x205828(0x759)](_0x29930f,_0x1dd185,null);_0x2814a3[_0x205828(0x262)][_0x205828(0x5db)]=await _0x4b298b;let _0x9c17dd={'messageId':_0x2f8215[_0x205828(0x2e1)]['id']},_0x3e9795=_0x2814a3[_0x205828(0x262)][_0x205828(0x3f0)];Object[_0x205828(0x2e2)](_0x3e9795,_0x112885),_0x2814a3['chatLog']['realVariables']=_0x3e9795,this[_0x205828(0xfb)](_0x2814a3,_0x157120,_0x9c17dd);}else{let _0x84d577={'error':!0x0};this[_0x205828(0xfb)](_0x2814a3,_0x157120,_0x84d577),this['logger'][_0x205828(0x3cc)](this['instanceName']+'\x20('+this[_0x205828(0x670)][_0x205828(0x6d8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0x1300f3){let _0x5413d7={'error':!0x0,'errorLog':_0x1300f3[_0x205828(0x4e0)]()};this['updateConversation'](_0x2814a3,_0x157120,_0x5413d7),this[_0x205828(0x470)][_0x205828(0x3cc)](this[_0x205828(0x52d)]+'\x20('+this[_0x205828(0x670)][_0x205828(0x6d8)]+_0x205828(0x7c8)+(_0x1300f3 instanceof Error?_0x1300f3[_0x205828(0x653)]:JSON[_0x205828(0x46a)](_0x1300f3,null,0x2)));}}async['uazapiSendContact'](_0x79b587,_0x1231af){const _0x1770da=a0_0x2ec1ea;let _0x213543=_0x79b587[_0x1770da(0x48b)];_0x1231af[_0x1770da(0x436)][_0x1770da(0x48b)]&&_0x1231af[_0x1770da(0x436)][_0x1770da(0x48b)]['trim']()!==''&&(_0x213543=_0x1231af[_0x1770da(0x436)][_0x1770da(0x48b)][_0x1770da(0x3fb)]()),this[_0x1770da(0x470)][_0x1770da(0x28b)](this['instanceName']+'\x20('+this['instance'][_0x1770da(0x6d8)]+'):\x20Enviando\x20contato');let _0x3198b0={'number':_0x213543,'options':{'delay':_0x1231af[_0x1770da(0x436)][_0x1770da(0x3e6)]},'contactMessage':[{'fullName':_0x1231af['uazapi'][_0x1770da(0x162)],'phoneNumber':_0x1231af[_0x1770da(0x436)][_0x1770da(0x476)]}]};try{let _0x287265=await this[_0x1770da(0x15d)](_0x3198b0);if(_0x287265){let _0x298089={'_id':_0x287265[_0x1770da(0x2e1)]['id'],'_fromMe':_0x287265['key'][_0x1770da(0x103)],'_remoteJid':_0x287265[_0x1770da(0x2e1)][_0x1770da(0x48b)]},_0x558d97=(0x0,w[_0x1770da(0x22c)])(_0x287265[_0x1770da(0x653)]),_0x4b93bd=(0x0,w['getContentType'])(_0x558d97);_0x79b587[_0x1770da(0x262)][_0x1770da(0x47f)]=_0x1231af['_id'][_0x1770da(0x4e0)]();let {message_normalized:_0x19cdb8}=this[_0x1770da(0x759)](_0x558d97,_0x4b93bd,null);_0x79b587[_0x1770da(0x262)][_0x1770da(0x5db)]=await _0x19cdb8;let _0x46e0c2={'messageId':_0x287265[_0x1770da(0x2e1)]['id']},_0x45d0df=_0x79b587[_0x1770da(0x262)][_0x1770da(0x3f0)];Object[_0x1770da(0x2e2)](_0x45d0df,_0x298089),_0x79b587[_0x1770da(0x262)][_0x1770da(0x3f0)]=_0x45d0df,this[_0x1770da(0xfb)](_0x79b587,_0x1231af,_0x46e0c2);}else{let _0x570a63={'error':!0x0};this[_0x1770da(0xfb)](_0x79b587,_0x1231af,_0x570a63),this[_0x1770da(0x470)][_0x1770da(0x3cc)](this[_0x1770da(0x52d)]+'\x20('+this[_0x1770da(0x670)][_0x1770da(0x6d8)]+_0x1770da(0x6b6));}}catch(_0x50451a){let _0x20ddd9={'error':!0x0,'errorLog':_0x50451a[_0x1770da(0x4e0)]()};this[_0x1770da(0xfb)](_0x79b587,_0x1231af,_0x20ddd9),this[_0x1770da(0x470)][_0x1770da(0x3cc)](this[_0x1770da(0x52d)]+'\x20('+this[_0x1770da(0x670)]['wuid']+_0x1770da(0x63b)+(_0x50451a instanceof Error?_0x50451a[_0x1770da(0x653)]:JSON[_0x1770da(0x46a)](_0x50451a,null,0x2)));}}[a0_0x2ec1ea(0x6ad)](_0x59dc2f,_0x195304){const _0x50dc05=a0_0x2ec1ea;for(let _0x2c5760 of _0x59dc2f)_0x2c5760['option']&&(_0x2c5760[_0x50dc05(0x3fe)]=this[_0x50dc05(0xa9)](_0x2c5760[_0x50dc05(0x3fe)],_0x195304)),_0x2c5760['optionDescription']&&(_0x2c5760[_0x50dc05(0x451)]=this[_0x50dc05(0xa9)](_0x2c5760['optionDescription'],_0x195304));}async[a0_0x2ec1ea(0x2ec)](_0x5b5667,_0x43bd96){const _0x6328e3=a0_0x2ec1ea;let _0x487f40=_0x5b5667['remoteJid'];_0x43bd96['uazapi'][_0x6328e3(0x48b)]&&_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x48b)][_0x6328e3(0x3fb)]()!==''&&(_0x487f40=_0x43bd96[_0x6328e3(0x436)]['remoteJid'][_0x6328e3(0x3fb)]()),this[_0x6328e3(0x470)][_0x6328e3(0x28b)](this[_0x6328e3(0x52d)]+'\x20('+this[_0x6328e3(0x670)][_0x6328e3(0x6d8)]+_0x6328e3(0x65e));let _0x119bf9=_0x5b5667['replyOptions'][_0x6328e3(0x666)](_0x7ccf95=>_0x7ccf95[_0x6328e3(0xd1)]===_0x43bd96['_id'])['sort']((_0x327659,_0x2f4e0b)=>_0x327659['order']-_0x2f4e0b[_0x6328e3(0x31b)]);this[_0x6328e3(0x6ad)](_0x119bf9,_0x5b5667['chatLog'][_0x6328e3(0x3f0)]);let _0x45138f=_0x119bf9[_0x6328e3(0x3ac)](_0x104369=>_0x104369[_0x6328e3(0x3fe)]),_0x102bf5={'number':_0x487f40,'menuMessage':{'type':_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x18d)]||_0x6328e3(0x445),'text':_0x43bd96[_0x6328e3(0x436)]['text']||_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x582)],'footerText':_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x39f)],'buttonText':_0x43bd96['uazapi'][_0x6328e3(0x151)],'selectableCount':0x1,'choices':_0x45138f},'options':{'delay':_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x3e6)]}};try{let _0x3c6098=await this[_0x6328e3(0x7a6)](_0x102bf5);if(_0x3c6098){let _0xb0ed={'_id':_0x3c6098['key']['id'],'_fromMe':_0x3c6098[_0x6328e3(0x2e1)][_0x6328e3(0x103)],'_remoteJid':_0x3c6098['key']['remoteJid']};_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x5ea)]===!0x0&&(_0x5b5667[_0x6328e3(0x3fd)]=_0x6328e3(0x394),this[_0x6328e3(0x470)][_0x6328e3(0x28b)](this[_0x6328e3(0x52d)]+'\x20('+this[_0x6328e3(0x670)][_0x6328e3(0x6d8)]+_0x6328e3(0x395)+_0x5b5667[_0x6328e3(0x3fd)])),this[_0x6328e3(0x470)][_0x6328e3(0x28b)](this[_0x6328e3(0x52d)]+'\x20('+this['instance'][_0x6328e3(0x6d8)]+'):\x20nextBlock.uazapi.name'+(_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x582)]||_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x2e7)])),_0x5b5667['waitingMenu_id']=_0x3c6098[_0x6328e3(0x2e1)]['id'],_0x5b5667[_0x6328e3(0x409)]=_0x43bd96['uazapi'][_0x6328e3(0x582)]||_0x43bd96[_0x6328e3(0x436)]['text'],_0x5b5667[_0x6328e3(0x12b)]=_0x119bf9,_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x7df)]&&(_0x5b5667['waitingMenu_ExpiredMessage']=_0x43bd96[_0x6328e3(0x436)][_0x6328e3(0x7df)]),this[_0x6328e3(0x470)][_0x6328e3(0x28b)](this[_0x6328e3(0x52d)]+'\x20('+this['instance']['wuid']+'):\x20conversation.waitingMenu_name'+_0x5b5667['waitingMenu_text']);let _0x3edb58=(0x0,w['normalizeMessageContent'])(_0x3c6098[_0x6328e3(0x653)]),_0x4cc545=(0x0,w['getContentType'])(_0x3edb58);_0x5b5667['chatLog'][_0x6328e3(0x47f)]=_0x43bd96[_0x6328e3(0x6b1)]['toString']();let {message_normalized:_0x2e3b55}=this[_0x6328e3(0x759)](_0x3edb58,_0x4cc545,null);_0x5b5667['chatLog'][_0x6328e3(0x5db)]=await _0x2e3b55;let _0x14af4d={'messageId':_0x3c6098[_0x6328e3(0x2e1)]['id']},_0x432a46=_0x5b5667[_0x6328e3(0x262)]['realVariables'];Object[_0x6328e3(0x2e2)](_0x432a46,_0xb0ed),_0x5b5667[_0x6328e3(0x262)][_0x6328e3(0x3f0)]=_0x432a46,this[_0x6328e3(0xfb)](_0x5b5667,_0x43bd96,_0x14af4d);}else{let _0x3f613b={'error':!0x0};this[_0x6328e3(0xfb)](_0x5b5667,_0x43bd96,_0x3f613b),this[_0x6328e3(0x470)][_0x6328e3(0x3cc)](this['instanceName']+'\x20('+this[_0x6328e3(0x670)][_0x6328e3(0x6d8)]+_0x6328e3(0x2d2));}}catch(_0x2d96f3){let _0x2bfff2={'error':!0x0,'errorLog':_0x2d96f3 instanceof Error?_0x2d96f3['message']:JSON['stringify'](_0x2d96f3,null,0x2)};this[_0x6328e3(0xfb)](_0x5b5667,_0x43bd96,_0x2bfff2),this[_0x6328e3(0x470)][_0x6328e3(0x3cc)](this[_0x6328e3(0x52d)]+'\x20('+this[_0x6328e3(0x670)]['wuid']+_0x6328e3(0x246)+(_0x2d96f3 instanceof Error?_0x2d96f3[_0x6328e3(0x653)]:JSON['stringify'](_0x2d96f3,null,0x2)));}}async[a0_0x2ec1ea(0x48f)](_0x152fa1,_0x1cdabe){const _0x1776a0=a0_0x2ec1ea;this[_0x1776a0(0x470)][_0x1776a0(0x28b)](this[_0x1776a0(0x52d)]+'\x20('+this[_0x1776a0(0x670)][_0x1776a0(0x6d8)]+_0x1776a0(0x7bf));let _0x530615=_0x152fa1[_0x1776a0(0x262)][_0x1776a0(0x5d2)][_0x1776a0(0x3f1)](_0x43ac35=>_0x43ac35[_0x1776a0(0xd1)]['toString']()===_0x1cdabe[_0x1776a0(0x436)]['blockId'][_0x1776a0(0x4e0)]()),_0x274090={'id':_0x530615[_0x1776a0(0x52b)],'remoteJid':_0x530615[_0x1776a0(0x48b)],'fromMe':_0x530615['fromMe']};try{let _0x390213=await this['deleteMessage'](_0x274090);if(_0x390213){let _0x2024c2=(0x0,w['normalizeMessageContent'])(_0x390213[_0x1776a0(0x653)]),_0x572e13=(0x0,w[_0x1776a0(0x2c8)])(_0x2024c2);_0x152fa1[_0x1776a0(0x262)]['lastBlockId']=_0x1cdabe[_0x1776a0(0x6b1)]['toString']();let {message_normalized:_0xe3ecd1}=this[_0x1776a0(0x759)](_0x2024c2,_0x572e13,null);_0x152fa1[_0x1776a0(0x262)]['lastSendMessage']=await _0xe3ecd1;let _0x31c606={};this[_0x1776a0(0xfb)](_0x152fa1,_0x1cdabe,_0x31c606);}else{let _0x519858={'error':!0x0};this['updateConversation'](_0x152fa1,_0x1cdabe,_0x519858),this[_0x1776a0(0x470)][_0x1776a0(0x3cc)](this[_0x1776a0(0x52d)]+'\x20('+this[_0x1776a0(0x670)][_0x1776a0(0x6d8)]+_0x1776a0(0x468));}}catch(_0x4dcd16){let _0x508412={'error':!0x0,'errorLog':_0x4dcd16 instanceof Error?_0x4dcd16[_0x1776a0(0x653)]:JSON[_0x1776a0(0x46a)](_0x4dcd16,null,0x2)};this['updateConversation'](_0x152fa1,_0x1cdabe,_0x508412),this[_0x1776a0(0x470)][_0x1776a0(0x3cc)](this[_0x1776a0(0x52d)]+'\x20('+this['instance'][_0x1776a0(0x6d8)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4dcd16 instanceof Error?_0x4dcd16[_0x1776a0(0x653)]:JSON['stringify'](_0x4dcd16,null,0x2)));}}async[a0_0x2ec1ea(0x5ed)](_0x55355f,_0x2407b8){const _0x366158=a0_0x2ec1ea;if(_0x55355f[_0x366158(0x582)]||(_0x55355f[_0x366158(0x582)]=(0x0,ee['v4'])()),_0x2407b8!==Ii&&_0x55355f?.[_0x366158(0x1eb)])throw new m(_0x366158(0x7d2));if('_id'in _0x55355f&&'owner'in _0x55355f)return this[_0x366158(0x2ce)](_0x55355f[_0x366158(0x4dd)],_0x55355f[_0x366158(0x6b1)]);this[_0x366158(0x470)][_0x366158(0x28b)](this[_0x366158(0x52d)]+'\x20('+this[_0x366158(0x670)]['wuid']+_0x366158(0x181));let _0x3b44ec=this[_0x366158(0xb9)](_0x55355f[_0x366158(0x582)]),_0x320c39=new me[(_0x366158(0x143))][(_0x366158(0x2b5))](),_0x503e32={'_id':_0x320c39,'default':!0x0,'title':_0x366158(0x5a9),'x':0x0,'y':0x0},_0x56c034={'_id':new me[(_0x366158(0x143))][(_0x366158(0x2b5))](),'order':0x1,'groupId':_0x320c39[_0x366158(0x4e0)](),'type':'start'},_0x3f03fb=this[_0x366158(0x670)][_0x366158(0x6d8)],_0x10c4cb={'_id':(0x0,ee['v4'])(),'owner':_0x3f03fb,'name':_0x3b44ec,'whoCanEdit':[_0x3f03fb],'whoCanUse':[_0x3f03fb],'groups':[_0x503e32],'blocks':[_0x56c034],..._0x55355f};try{let _0x1bcdef=await this[_0x366158(0x1f6)][_0x366158(0x429)]['createAndSave'](_0x10c4cb);return await this[_0x366158(0x726)](),_0x1bcdef;}catch(_0x1884e0){let _0x4075d4='Erro\x20ao\x20criar\x20fluxo',_0x55ffae=_0x1884e0 instanceof Error?_0x1884e0[_0x366158(0x653)]:typeof _0x1884e0==_0x366158(0x7d9)?JSON[_0x366158(0x46a)](_0x1884e0):_0x1884e0,_0x10333f=_0x4075d4+':\x20'+_0x55ffae;throw this[_0x366158(0x470)][_0x366158(0x3cc)](this[_0x366158(0x52d)]+'\x20('+this[_0x366158(0x670)]['wuid']+_0x366158(0x755)+_0x10333f),new m(_0x10333f);}}async[a0_0x2ec1ea(0x2ce)](_0x3f53bc,_0x1c3136){const _0x5de74f=a0_0x2ec1ea;try{this[_0x5de74f(0x470)][_0x5de74f(0x28b)](this[_0x5de74f(0x52d)]+'\x20('+this[_0x5de74f(0x670)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x1663c3=await this[_0x5de74f(0x1f6)][_0x5de74f(0x429)]['findOne']({'where':{'_id':_0x1c3136,'owner':_0x3f53bc}});if(!_0x1663c3)throw new m(_0x5de74f(0x61f));if(_0x1663c3[_0x5de74f(0x36a)]===!0x1&&!_0x1663c3[_0x5de74f(0x1eb)])throw new m('Esse\x20fluxo\x20no\x20permite\x20importao.');let _0xa1cfc9=new Set(_0x1663c3[_0x5de74f(0x225)]??[]);_0xa1cfc9[_0x5de74f(0x2fc)](this[_0x5de74f(0x670)]['wuid']);let _0x3ad23b=await this[_0x5de74f(0x1f6)]['flow']['updateOne'](_0x1c3136,{..._0x1663c3,'whoCanUse':Array[_0x5de74f(0x2eb)](_0xa1cfc9)});return await this[_0x5de74f(0x726)](),_0x3ad23b;}catch(_0x501755){let _0x3dcb8f=_0x5de74f(0x374),_0x5a5fff=_0x501755 instanceof Error?_0x501755['message']:typeof _0x501755==_0x5de74f(0x7d9)?JSON[_0x5de74f(0x46a)](_0x501755):_0x501755,_0x2561c4=_0x3dcb8f+':\x20'+_0x5a5fff;throw this[_0x5de74f(0x470)]['error'](this['instanceName']+'\x20('+this[_0x5de74f(0x670)][_0x5de74f(0x6d8)]+_0x5de74f(0x755)+_0x2561c4),new m(_0x2561c4);}}[a0_0x2ec1ea(0xb9)](_0x3c03d1){const _0x3c35a7=a0_0x2ec1ea;let _0x21fc5d=_0x3c03d1,_0xa9fce2=0x1;for(;this['AutomateSystem'][_0x3c35a7(0x6c1)]['some'](_0x6615db=>_0x6615db['name']===_0x21fc5d);)_0xa9fce2++,_0x21fc5d=_0x3c03d1+'\x20('+_0xa9fce2+')';return _0x21fc5d;}async[a0_0x2ec1ea(0x67d)](_0x366c4d){const _0xb46dd1=a0_0x2ec1ea;try{if(this[_0xb46dd1(0x470)]['verbose'](this[_0xb46dd1(0x52d)]+'\x20('+this['instance'][_0xb46dd1(0x6d8)]+_0xb46dd1(0x6e8)+_0x366c4d[_0xb46dd1(0x6b1)]+',\x20global:\x20'+_0x366c4d[_0xb46dd1(0x74c)]),!this[_0xb46dd1(0x3a1)][_0xb46dd1(0x6c1)]['find'](_0x3503ac=>_0x3503ac[_0xb46dd1(0x6b1)]===_0x366c4d[_0xb46dd1(0x6b1)]))throw this['logger'][_0xb46dd1(0x28b)](this[_0xb46dd1(0x52d)]+'\x20('+this[_0xb46dd1(0x670)]['wuid']+_0xb46dd1(0x33d)+_0x366c4d['_id']+_0xb46dd1(0x2b0)),new m(_0xb46dd1(0x5d6));let _0x5b359e=await this[_0xb46dd1(0x1f6)][_0xb46dd1(0x429)][_0xb46dd1(0x167)]({'where':{'_id':_0x366c4d['_id']}});if(!_0x5b359e)throw new m(_0xb46dd1(0x78b));if(this['instance']['wuid']===_0x5b359e[_0xb46dd1(0x4dd)]){this['logger'][_0xb46dd1(0x28b)](this[_0xb46dd1(0x52d)]+'\x20('+this[_0xb46dd1(0x670)][_0xb46dd1(0x6d8)]+_0xb46dd1(0x781)+_0x366c4d[_0xb46dd1(0x6b1)]+_0xb46dd1(0x785));let _0x4dac6c=await this[_0xb46dd1(0x1f6)][_0xb46dd1(0x429)][_0xb46dd1(0x13f)]({'where':{'_id':_0x366c4d[_0xb46dd1(0x6b1)]}});return await this[_0xb46dd1(0x726)](),_0x4dac6c;}return this[_0xb46dd1(0x470)]['verbose'](this[_0xb46dd1(0x52d)]+'\x20('+this[_0xb46dd1(0x670)][_0xb46dd1(0x6d8)]+_0xb46dd1(0xfe)+this['instance'][_0xb46dd1(0x6d8)]+_0xb46dd1(0x3a0)+_0x366c4d[_0xb46dd1(0x6b1)]+_0xb46dd1(0x3b1)),_0x5b359e[_0xb46dd1(0x225)]=(_0x5b359e[_0xb46dd1(0x225)]??[])[_0xb46dd1(0x666)](_0x519532=>_0x519532!==this[_0xb46dd1(0x670)]['wuid']),_0x5b359e[_0xb46dd1(0x584)]=(_0x5b359e[_0xb46dd1(0x584)]??[])[_0xb46dd1(0x666)](_0x96a78a=>_0x96a78a!==this[_0xb46dd1(0x670)][_0xb46dd1(0x6d8)]),_0x5b359e[_0xb46dd1(0x584)][_0xb46dd1(0x54d)]===0x0&&_0x5b359e[_0xb46dd1(0x225)][_0xb46dd1(0x54d)]>0x0&&(_0x5b359e[_0xb46dd1(0x584)]['push'](_0x5b359e[_0xb46dd1(0x225)][0x0]),this[_0xb46dd1(0x470)][_0xb46dd1(0x28b)](this[_0xb46dd1(0x52d)]+'\x20('+this[_0xb46dd1(0x670)][_0xb46dd1(0x6d8)]+_0xb46dd1(0x28e)+_0x5b359e[_0xb46dd1(0x225)][0x0]+_0xb46dd1(0x7ca)+_0x366c4d['_id']+'\x27...')),await this[_0xb46dd1(0x1f6)][_0xb46dd1(0x429)][_0xb46dd1(0x3cf)](_0x5b359e[_0xb46dd1(0x6b1)],_0x5b359e),await this[_0xb46dd1(0x726)](),{'message':_0xb46dd1(0x10c)+_0x366c4d[_0xb46dd1(0x582)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x45fa75){return this['logger'][_0xb46dd1(0x3cc)](this['instanceName']+'\x20('+this[_0xb46dd1(0x670)][_0xb46dd1(0x6d8)]+_0xb46dd1(0x553)+(_0x45fa75 instanceof Error?_0x45fa75[_0xb46dd1(0x653)]:JSON[_0xb46dd1(0x46a)](_0x45fa75,null,0x2))),{'message':_0xb46dd1(0x57d)+(_0x45fa75 instanceof Error?_0x45fa75[_0xb46dd1(0x653)]:JSON[_0xb46dd1(0x46a)](_0x45fa75,null,0x2))};}}async[a0_0x2ec1ea(0x301)](_0x5b30ea){const _0x58a769=a0_0x2ec1ea;try{if(this[_0x58a769(0x470)][_0x58a769(0x202)](this[_0x58a769(0x52d)]+'\x20('+this[_0x58a769(0x670)][_0x58a769(0x6d8)]+_0x58a769(0x69f)+_0x5b30ea),!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x58a769(0x3a1)]))return null;let _0x57a5a2=await this['repository']['flow'][_0x58a769(0x167)]({'where':{'_id':_0x5b30ea}});if(!_0x57a5a2)throw new m('Fluxo\x20id\x20\x27'+_0x5b30ea+_0x58a769(0x516));if(!(_0x57a5a2[_0x58a769(0x1eb)]||_0x57a5a2[_0x58a769(0x225)]?.['includes'](this['instance'][_0x58a769(0x6d8)])))throw new m(_0x58a769(0x642)+name+'\x27');_0x57a5a2[_0x58a769(0x1eb)]&&!_0x57a5a2[_0x58a769(0x225)]?.['includes'](this[_0x58a769(0x670)]['wuid'])&&(_0x57a5a2[_0x58a769(0x225)]=[..._0x57a5a2[_0x58a769(0x225)]??[],this['instance'][_0x58a769(0x6d8)]],await this[_0x58a769(0x1f6)][_0x58a769(0x429)][_0x58a769(0x3cf)](_0x57a5a2['_id'],_0x57a5a2),this[_0x58a769(0x726)]());let _0x4bf860=this['AutomateSystem']?.[_0x58a769(0x4e4)][_0x58a769(0x3ac)](_0x159943=>_0x159943['name']),_0x552042=[_0x58a769(0x3b9),_0x58a769(0x1bf),_0x58a769(0x7a7),_0x58a769(0x5b7),_0x58a769(0x3fd),'notas',_0x58a769(0x70b),'tags',_0x58a769(0x1cb),_0x58a769(0x7c9),'atendimentoAberto'];_0x57a5a2[_0x58a769(0x492)]=_0x57a5a2[_0x58a769(0x492)][_0x58a769(0x666)](_0x494212=>!(_0x494212['folder']===_0x58a769(0x5f5)||_0x494212['leadInfo'])),_0x552042['forEach'](_0x1754e2=>{_0x57a5a2['variables']['push']({'folder':'leadInfo','name':_0x1754e2,'value':'','doc':'','leadInfo':!0x0});}),_0x4bf860[_0x58a769(0x487)](_0x3a9723=>{const _0x36c5b2=_0x58a769;let _0x3a8784=_0x57a5a2['variables'][_0x36c5b2(0x315)](_0x20cf35=>_0x20cf35[_0x36c5b2(0x582)]===_0x3a9723);_0x3a8784===-0x1?_0x57a5a2[_0x36c5b2(0x492)][_0x36c5b2(0x7ee)]({'folder':_0x36c5b2(0x5f5),'name':_0x3a9723,'value':'','doc':'','leadInfo':!0x0}):(_0x57a5a2[_0x36c5b2(0x492)][_0x3a8784][_0x36c5b2(0x360)]=_0x36c5b2(0x5f5),_0x57a5a2[_0x36c5b2(0x492)][_0x3a8784][_0x36c5b2(0x5f5)]=!0x0);}),_0x57a5a2[_0x58a769(0x4ed)]&&_0x57a5a2[_0x58a769(0x4ed)][_0x58a769(0x54d)]>0x0&&_0x57a5a2[_0x58a769(0x4ed)][_0x58a769(0x487)](_0x535056=>{const _0x4281c5=_0x58a769;_0x535056[_0x4281c5(0x1c3)]&&_0x535056[_0x4281c5(0x691)]&&_0x535056[_0x4281c5(0x1c3)]===_0x535056[_0x4281c5(0x691)]&&(_0x535056[_0x4281c5(0x691)]=null);});let _0x4ffcc0=await this[_0x58a769(0x1f6)][_0x58a769(0x429)][_0x58a769(0x3cf)](_0x57a5a2['_id'],_0x57a5a2);if(!_0x4ffcc0)throw new Error(_0x58a769(0xda));return _0x4ffcc0;}catch(_0x499cf5){let _0x2f05e7=_0x58a769(0x773),_0x432f11=_0x499cf5 instanceof Error?_0x499cf5[_0x58a769(0x653)]:typeof _0x499cf5==_0x58a769(0x7d9)?JSON[_0x58a769(0x46a)](_0x499cf5):_0x499cf5,_0x37e390=_0x2f05e7+':\x20'+_0x432f11;throw this[_0x58a769(0x470)][_0x58a769(0x3cc)](this['instanceName']+'\x20('+this[_0x58a769(0x670)]['wuid']+'):\x20'+_0x37e390),new m(_0x37e390);}}async[a0_0x2ec1ea(0x1dd)](){const _0x32bd77=a0_0x2ec1ea;try{this[_0x32bd77(0x470)][_0x32bd77(0x28b)](this[_0x32bd77(0x52d)]+'\x20('+this[_0x32bd77(0x670)][_0x32bd77(0x6d8)]+_0x32bd77(0x36d)),await this[_0x32bd77(0x726)]();let _0x4c836d=await this[_0x32bd77(0x1f6)][_0x32bd77(0x429)][_0x32bd77(0x7aa)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem']['flows'],..._0x4c836d];}catch(_0x18b9d8){return this['logger'][_0x32bd77(0x3cc)](this[_0x32bd77(0x52d)]+'\x20('+this[_0x32bd77(0x670)]['wuid']+_0x32bd77(0x6c7)+(_0x18b9d8 instanceof Error?_0x18b9d8[_0x32bd77(0x653)]:JSON[_0x32bd77(0x46a)](_0x18b9d8,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x18b9d8 instanceof Error?_0x18b9d8[_0x32bd77(0x653)]:String(_0x18b9d8))};}}async[a0_0x2ec1ea(0x18b)](_0x549821,_0x3f3a98){const _0x54ee3d=a0_0x2ec1ea;try{this[_0x54ee3d(0x470)][_0x54ee3d(0x28b)](this['instanceName']+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+_0x54ee3d(0x551));let _0x5d9b23=this[_0x54ee3d(0x3a1)][_0x54ee3d(0x6c1)]['find'](_0x7e7f39=>_0x7e7f39[_0x54ee3d(0x6b1)]===_0x549821['_id']);if(!_0x5d9b23)throw this[_0x54ee3d(0x470)][_0x54ee3d(0x28b)](this['instanceName']+'\x20('+this[_0x54ee3d(0x670)]['wuid']+_0x54ee3d(0x33d)+_0x549821[_0x54ee3d(0x6b1)]+_0x54ee3d(0x2b0)),new m(_0x54ee3d(0x5d6));let _0x3c1bf5=await this['repository'][_0x54ee3d(0x429)]['findOne']({'where':{'_id':_0x549821[_0x54ee3d(0x6b1)]}});if(!_0x3c1bf5||!_0x3c1bf5['whoCanUse']?.[_0x54ee3d(0x7de)](this[_0x54ee3d(0x670)]['wuid']))throw this[_0x54ee3d(0x470)][_0x54ee3d(0x3cc)](this[_0x54ee3d(0x52d)]+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+_0x54ee3d(0x3a8)+_0x549821[_0x54ee3d(0x6b1)]+_0x54ee3d(0x5a5)),new m(_0x54ee3d(0x7c3)+_0x549821[_0x54ee3d(0x6b1)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');let _0x32a9c3=this[_0x54ee3d(0x3a1)][_0x54ee3d(0x6c1)]['findIndex'](_0x587174=>_0x587174['_id']===_0x5d9b23[_0x54ee3d(0x6b1)]);if(_0x32a9c3!==-0x1){let _0x43fbf2=this['AutomateSystem'][_0x54ee3d(0x6c1)][_0x32a9c3];if(_0x43fbf2['name']=_0x549821[_0x54ee3d(0x582)]??_0x43fbf2[_0x54ee3d(0x582)],_0x43fbf2[_0x54ee3d(0x4d4)]=_0x549821[_0x54ee3d(0x4d4)]??_0x43fbf2[_0x54ee3d(0x4d4)],_0x43fbf2[_0x54ee3d(0x57f)]=_0x549821[_0x54ee3d(0x57f)]??_0x43fbf2[_0x54ee3d(0x57f)],_0x43fbf2[_0x54ee3d(0x694)]=_0x549821[_0x54ee3d(0x1ce)]??_0x43fbf2[_0x54ee3d(0x694)],_0x43fbf2[_0x54ee3d(0x5f2)]=_0x549821[_0x54ee3d(0x5f2)]??_0x43fbf2[_0x54ee3d(0x5f2)],_0x43fbf2[_0x54ee3d(0x3e7)]=_0x549821[_0x54ee3d(0x3e7)]??_0x43fbf2[_0x54ee3d(0x3e7)],_0x549821[_0x54ee3d(0x4d4)]&&this['AutomateSystem'][_0x54ee3d(0x6c1)]['forEach']((_0x158ce6,_0xd506a9)=>{_0xd506a9!==_0x32a9c3&&(_0x158ce6['default']=!0x1);}),this['AutomateSystem'][_0x54ee3d(0x6c1)][_0x32a9c3]=_0x43fbf2,!await this['repository'][_0x54ee3d(0x5e2)]['update']({'flows':this[_0x54ee3d(0x3a1)][_0x54ee3d(0x6c1)]},this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]))throw new m(_0x54ee3d(0x51f));}let _0x3610cb=[_0x54ee3d(0x74c),'startID','sharePass',_0x54ee3d(0xdc)];for(let _0x5bfba6 of _0x3610cb)delete _0x549821[_0x5bfba6];if(_0x3c1bf5[_0x54ee3d(0x584)]?.['includes'](this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)])||(_0x549821={'_id':_0x549821[_0x54ee3d(0x6b1)]}),_0x3f3a98!==Ii&&_0x549821?.[_0x54ee3d(0x1eb)]&&!_0x3c1bf5?.[_0x54ee3d(0x1eb)])throw new m(_0x54ee3d(0x14f));let _0x2ef031=new Set(_0x549821[_0x54ee3d(0x584)]??_0x3c1bf5[_0x54ee3d(0x584)]);_0x2ef031[_0x54ee3d(0x2fc)](_0x3c1bf5[_0x54ee3d(0x4dd)]);let _0x5972d7=new Set(_0x549821[_0x54ee3d(0x225)]??_0x3c1bf5[_0x54ee3d(0x225)]??[]);_0x2ef031[_0x54ee3d(0x487)](_0x667616=>_0x5972d7[_0x54ee3d(0x2fc)](_0x667616)),_0x5972d7[_0x54ee3d(0x2fc)](_0x3c1bf5['owner']),this[_0x54ee3d(0x470)][_0x54ee3d(0x28b)](this['instanceName']+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+_0x54ee3d(0x291)+Array['from'](_0x2ef031)),this[_0x54ee3d(0x470)][_0x54ee3d(0x28b)](this[_0x54ee3d(0x52d)]+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x54ee3d(0x2eb)](_0x5972d7));let _0x3b3449=await this[_0x54ee3d(0x17f)](Array[_0x54ee3d(0x2eb)](_0x5972d7)),_0x17968d=Array[_0x54ee3d(0x2eb)](_0x2ef031)['filter'](_0xf5662f=>_0x3b3449[_0x54ee3d(0x7de)](_0xf5662f)),_0xa1fc41=Array['from'](_0x5972d7)[_0x54ee3d(0x666)](_0x105bcf=>_0x3b3449[_0x54ee3d(0x7de)](_0x105bcf));this[_0x54ee3d(0x470)][_0x54ee3d(0x28b)](this[_0x54ee3d(0x52d)]+'\x20('+this[_0x54ee3d(0x670)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x17968d),this['logger'][_0x54ee3d(0x28b)](this['instanceName']+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+_0x54ee3d(0x3a9)+_0xa1fc41);let _0x371a21={..._0x3c1bf5,..._0x549821,'whoCanEdit':_0x17968d,'whoCanUse':_0xa1fc41},_0x5eae84=await this[_0x54ee3d(0x1f6)]['flow']['updateOne'](_0x3c1bf5['_id'],_0x371a21);return await this['synchronizeAndMapFlows'](),_0x5eae84;}catch(_0x1ff448){let _0x56d300=_0x54ee3d(0x6b8),_0x17e100=_0x1ff448 instanceof Error?_0x1ff448[_0x54ee3d(0x653)]:typeof _0x1ff448==_0x54ee3d(0x7d9)?JSON[_0x54ee3d(0x46a)](_0x1ff448):_0x1ff448,_0x4f0260=_0x56d300+':\x20'+_0x17e100;throw this[_0x54ee3d(0x470)][_0x54ee3d(0x3cc)](this[_0x54ee3d(0x52d)]+'\x20('+this[_0x54ee3d(0x670)][_0x54ee3d(0x6d8)]+'):\x20'+_0x4f0260),new m(_0x4f0260);}}async[a0_0x2ec1ea(0x17f)](_0x5a706f){const _0x50f071=a0_0x2ec1ea;let _0x5cbbc5={'numbers':_0x5a706f};return(await this[_0x50f071(0x382)](_0x5cbbc5))[_0x50f071(0x666)](_0x477272=>_0x477272[_0x50f071(0x562)])['map'](_0x1ac1f1=>_0x1ac1f1[_0x50f071(0x279)])['map'](_0x47a629=>this['extractPhoneNumber'](_0x47a629));}[a0_0x2ec1ea(0x160)](_0x3a8a25){let _0x39a1dd=_0x3a8a25['match'](/\d+/);return _0x39a1dd?_0x39a1dd[0x0]:'';}async['editFlowBlock'](_0x82dee3){const _0x59e3f1=a0_0x2ec1ea;try{if(this[_0x59e3f1(0x470)]['verbose'](this[_0x59e3f1(0x52d)]+'\x20('+this['instance'][_0x59e3f1(0x6d8)]+_0x59e3f1(0x693)),!this[_0x59e3f1(0x3a1)]['flows'][_0x59e3f1(0x3f1)](_0x46d81a=>_0x46d81a[_0x59e3f1(0x6b1)]===_0x82dee3[_0x59e3f1(0x6b1)]))throw this[_0x59e3f1(0x470)]['verbose'](this[_0x59e3f1(0x52d)]+'\x20('+this['instance'][_0x59e3f1(0x6d8)]+'):\x20Fluxo\x20\x27'+_0x82dee3['_id']+_0x59e3f1(0x2b0)),new m(_0x59e3f1(0x5d6));let _0x53a742=await this['repository'][_0x59e3f1(0x429)][_0x59e3f1(0x167)]({'where':{'_id':_0x82dee3[_0x59e3f1(0x6b1)]}});if(!_0x53a742||!_0x53a742['whoCanUse']?.[_0x59e3f1(0x7de)](this[_0x59e3f1(0x670)]['wuid']))throw this[_0x59e3f1(0x470)][_0x59e3f1(0x3cc)](this[_0x59e3f1(0x52d)]+'\x20('+this[_0x59e3f1(0x670)]['wuid']+'):\x20Flow\x20\x27'+_0x82dee3[_0x59e3f1(0x6b1)]+_0x59e3f1(0x5a5)),new m('Flow\x20\x27'+_0x82dee3[_0x59e3f1(0x6b1)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x53a742['whoCanEdit']?.[_0x59e3f1(0x7de)](this['instance'][_0x59e3f1(0x6d8)]))throw new m(_0x59e3f1(0x357));let {block:_0x439dfa}=_0x82dee3;_0x439dfa?.[_0x59e3f1(0x1b8)]?this[_0x59e3f1(0x428)](_0x53a742,_0x82dee3):_0x439dfa?.[_0x59e3f1(0x31e)]?this['deleteBlock'](_0x53a742,_0x82dee3):_0x439dfa[_0x59e3f1(0x6b1)]?await this[_0x59e3f1(0x7e2)](_0x53a742,_0x82dee3):this[_0x59e3f1(0x5e7)](_0x53a742,_0x82dee3);let _0x30ddf7=await this[_0x59e3f1(0x1f6)][_0x59e3f1(0x429)]['updateOne'](_0x53a742['_id'],_0x53a742);if(!_0x30ddf7)throw new Error(_0x59e3f1(0xda));return _0x30ddf7;}catch(_0x1d404e){this[_0x59e3f1(0x53a)](_0x59e3f1(0x2e6)+_0x1d404e['message']);}}async[a0_0x2ec1ea(0x428)](_0x16596c,_0x2b5ae5){const _0x10911a=a0_0x2ec1ea;let _0x343205=_0x2b5ae5[_0x10911a(0x335)][_0x10911a(0x6b1)],_0xc52af6=_0x16596c['blocks']['find'](_0x582519=>_0x582519[_0x10911a(0x6b1)][_0x10911a(0x4e0)]()===_0x343205);if(!_0xc52af6){this[_0x10911a(0x470)][_0x10911a(0x3cc)](this[_0x10911a(0x52d)]+'\x20('+this[_0x10911a(0x670)]['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x343205+'\x20no\x20encontrado\x20para\x20cpia');return;}this[_0x10911a(0x470)][_0x10911a(0x28b)](this['instanceName']+'\x20('+this[_0x10911a(0x670)][_0x10911a(0x6d8)]+_0x10911a(0x44d)+JSON[_0x10911a(0x46a)](_0xc52af6));let _0x2d1263=JSON[_0x10911a(0x59b)](JSON[_0x10911a(0x46a)](_0xc52af6));_0x2d1263[_0x10911a(0x6b1)]=new me[(_0x10911a(0x4d4))][(_0x10911a(0x143))]['ObjectId'](),this[_0x10911a(0x470)]['verbose'](this[_0x10911a(0x52d)]+'\x20('+this[_0x10911a(0x670)][_0x10911a(0x6d8)]+_0x10911a(0x201)+JSON[_0x10911a(0x46a)](_0x2d1263)),_0x16596c[_0x10911a(0x4ed)][_0x10911a(0x7ee)](_0x2d1263),this[_0x10911a(0x45c)](_0x16596c['blocks'],_0x2d1263['groupId']);}[a0_0x2ec1ea(0x53a)](_0x3874d5){const _0x3eebc2=a0_0x2ec1ea;throw this[_0x3eebc2(0x470)][_0x3eebc2(0x3cc)](this['instanceName']+'\x20('+this['instance'][_0x3eebc2(0x6d8)]+_0x3eebc2(0x755)+_0x3874d5),new m(_0x3874d5);}[a0_0x2ec1ea(0x3d3)](_0x538c23,_0x2a5486){const _0x3a63ad=a0_0x2ec1ea;let {block:_0x1b24c8}=_0x2a5486;if(_0x1b24c8[_0x3a63ad(0x6e6)]===_0x3a63ad(0x796)){this[_0x3a63ad(0x53a)](_0x3a63ad(0x11d));return;}if(!_0x1b24c8[_0x3a63ad(0x6b1)]){this[_0x3a63ad(0x53a)](_0x3a63ad(0x6a6));return;}let _0x526f7a=_0x538c23[_0x3a63ad(0x4ed)][_0x3a63ad(0x3f1)](_0x206a57=>_0x206a57[_0x3a63ad(0x6b1)][_0x3a63ad(0x4e0)]()===_0x2a5486[_0x3a63ad(0x335)]['_id'][_0x3a63ad(0x4e0)]());if(!_0x526f7a){this[_0x3a63ad(0x53a)](_0x3a63ad(0x1b2)+_0x1b24c8[_0x3a63ad(0x6b1)]+_0x3a63ad(0x5f6));return;}_0x538c23['blocks']=_0x538c23['blocks'][_0x3a63ad(0x666)](_0x9e9f12=>_0x9e9f12[_0x3a63ad(0x6b1)]['toString']()!==_0x2a5486[_0x3a63ad(0x335)]['_id'][_0x3a63ad(0x4e0)]()),_0x538c23[_0x3a63ad(0x111)]=_0x538c23[_0x3a63ad(0x111)]['filter'](_0x1ebeaf=>_0x1ebeaf['blockId']!==_0x1b24c8[_0x3a63ad(0x6b1)]['toString']()),_0x538c23[_0x3a63ad(0x631)]=_0x538c23[_0x3a63ad(0x631)][_0x3a63ad(0x666)](_0x8eb247=>_0x8eb247[_0x3a63ad(0xd1)]!==_0x1b24c8[_0x3a63ad(0x6b1)][_0x3a63ad(0x4e0)]()),_0x538c23[_0x3a63ad(0x115)]=_0x538c23[_0x3a63ad(0x115)][_0x3a63ad(0x666)](_0x364235=>_0x364235[_0x3a63ad(0xd1)]!==_0x1b24c8['_id']['toString']()),this['reorderBlocks'](_0x538c23[_0x3a63ad(0x4ed)],_0x526f7a[_0x3a63ad(0x1c3)]);}async[a0_0x2ec1ea(0x7e2)](_0x413649,_0x4bcc8b){const _0x140610=a0_0x2ec1ea;let _0x45e069=_0x413649['blocks'][_0x140610(0x315)](_0x1b7d12=>_0x1b7d12[_0x140610(0x6b1)][_0x140610(0x4e0)]()===_0x4bcc8b[_0x140610(0x335)][_0x140610(0x6b1)][_0x140610(0x4e0)]());if(this[_0x140610(0x470)]['verbose'](this[_0x140610(0x52d)]+'\x20('+this[_0x140610(0x670)][_0x140610(0x6d8)]+_0x140610(0x180)+_0x45e069),_0x45e069===-0x1){this[_0x140610(0x470)]['verbose']('Bloco\x20com\x20ID\x20'+_0x4bcc8b[_0x140610(0x335)]['_id']+'\x20no\x20encontrado\x20para\x20atualizao.');return;}if(_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x6e6)]===_0x140610(0x796)){let _0x335378=Object[_0x140610(0x6b5)](_0x4bcc8b['block']);if(_0x335378[_0x140610(0x54d)]>0x2||_0x335378[_0x140610(0x54d)]===0x2&&!_0x335378[_0x140610(0x7de)](_0x140610(0x691))){this[_0x140610(0x53a)](_0x140610(0x64d));return;}}let _0x10366d=_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x1c3)];for(let _0x10dfc1 in _0x4bcc8b[_0x140610(0x335)])_0x4bcc8b[_0x140610(0x335)]['hasOwnProperty'](_0x10dfc1)&&(_0x413649[_0x140610(0x4ed)][_0x45e069][_0x10dfc1]=_0x4bcc8b['block'][_0x10dfc1]);if(this['logger'][_0x140610(0x28b)](this[_0x140610(0x52d)]+'\x20('+this['instance'][_0x140610(0x6d8)]+_0x140610(0x574)+JSON[_0x140610(0x46a)](_0x413649[_0x140610(0x4ed)][_0x45e069])),_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]&&_0x140610(0x10e)in _0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]){this[_0x140610(0x470)][_0x140610(0x28b)](this[_0x140610(0x52d)]+'\x20('+this[_0x140610(0x670)][_0x140610(0x6d8)]+_0x140610(0x448));let _0xed4888=JSON[_0x140610(0x46a)](_0x413649['blocks'][_0x45e069][_0x140610(0x4e9)]['header'],null,0x1);_0xed4888['length']>0x2&&(_0xed4888=_0xed4888[_0x140610(0x797)](0x1,_0xed4888['length']-0x1)[_0x140610(0x3fb)]()),_0x413649['blocks'][_0x45e069][_0x140610(0x4e9)][_0x140610(0x331)]=_0xed4888;}if(_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]&&_0x140610(0x40e)in _0x413649[_0x140610(0x4ed)][_0x45e069]['apirequest']&&!(_0x140610(0x78c)in _0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)])){this[_0x140610(0x470)][_0x140610(0x28b)](this[_0x140610(0x52d)]+'\x20('+this[_0x140610(0x670)][_0x140610(0x6d8)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]['bodyStringErrorParse']=!0x1;let _0x43194c=JSON[_0x140610(0x46a)](_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)][_0x140610(0x40e)],null,0x2);_0x413649['blocks'][_0x45e069]['apirequest'][_0x140610(0x78c)]=_0x43194c;}if(_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]&&_0x140610(0x78c)in _0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]){_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)][_0x140610(0x164)]=!0x1;let _0x1b3747=_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)]['bodyString'],_0x3f143c=this[_0x140610(0x594)](_0x1b3747);_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)][_0x140610(0x78c)]=_0x3f143c[_0x140610(0x786)],_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x4e9)][_0x140610(0x164)]=_0x3f143c[_0x140610(0x3cc)];}let _0x168d63=_0x413649[_0x140610(0x4ed)][_0x45e069][_0x140610(0x1c3)];_0x10366d!==_0x168d63?(this[_0x140610(0x45c)](_0x413649[_0x140610(0x4ed)],_0x10366d),this[_0x140610(0x45c)](_0x413649[_0x140610(0x4ed)],_0x168d63)):this[_0x140610(0x45c)](_0x413649[_0x140610(0x4ed)],_0x10366d);}['beautifyWithPlaceholders'](_0x5933a6){const _0x3a899f=a0_0x2ec1ea;let _0x2d09ef='\u205f',_0x127924=!0x1,_0x5c6923='';for(let _0x5ee3e0=0x0;_0x5ee3e0<_0x5933a6[_0x3a899f(0x54d)];_0x5ee3e0++){let _0x226bda=_0x5933a6[_0x5ee3e0];_0x226bda==='\x22'&&(_0x5ee3e0===0x0||_0x5933a6[_0x5ee3e0-0x1]!=='\x5c')&&(_0x127924=!_0x127924),!(!_0x127924&&(_0x226bda==='\x0a'||_0x226bda==='\x20'||_0x226bda===_0x2d09ef))&&(_0x5c6923+=_0x226bda);}let _0x3917d2={},_0xcbd5d3=9876543210.1234,_0x49a1c3=_0x5c6923[_0x3a899f(0x19d)](/\{\{([^}]+)\}\}/g,_0x167c77=>{let _0xdecec3=_0x167c77,_0x2b035d=''+_0xcbd5d3;return _0x3917d2[_0x2b035d]=_0xdecec3,_0xcbd5d3+=0.0001,_0x2b035d;}),_0x500111='',_0x5ec422=!0x1;try{let _0x38ff33=JSON[_0x3a899f(0x59b)](_0x49a1c3);_0x500111=JSON[_0x3a899f(0x46a)](_0x38ff33,null,0x2),_0x500111=_0x500111[_0x3a899f(0x19d)](/\n( +)/g,(_0x25e68c,_0xc20b18)=>{const _0xed463d=_0x3a899f;let _0x26cbf9=_0xc20b18[_0xed463d(0x54d)];return'\x0a'+_0x2d09ef[_0xed463d(0x3ef)](_0x26cbf9*0x2);}),_0x500111=_0x500111[_0x3a899f(0x19d)](/(\d{10,}\.\d+)/g,_0x34a3b9=>_0x3917d2[_0x34a3b9]||_0x34a3b9);}catch(_0x4d8129){this[_0x3a899f(0x470)][_0x3a899f(0x3cc)]('Error\x20parsing\x20JSON:'+_0x4d8129),_0x500111=_0x5933a6,_0x5ec422=!0x0;}return{'result':_0x500111,'error':_0x5ec422};}[a0_0x2ec1ea(0x5e7)](_0x1411db,_0x387493){const _0x925556=a0_0x2ec1ea;if(_0x387493[_0x925556(0x335)][_0x925556(0x6e6)]==='start'){this[_0x925556(0x53a)](_0x925556(0x4cc));return;}if(_0x387493[_0x925556(0x335)][_0x925556(0x4e9)]&&_0x925556(0x10e)in _0x387493[_0x925556(0x335)][_0x925556(0x4e9)]){this[_0x925556(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x925556(0x670)][_0x925556(0x6d8)]+_0x925556(0x448));let _0x9cf4e8=JSON[_0x925556(0x46a)](_0x387493[_0x925556(0x335)]['apirequest']['header'],null,0x1);_0x9cf4e8['length']>0x2&&(_0x9cf4e8=_0x9cf4e8[_0x925556(0x797)](0x1,_0x9cf4e8['length']-0x1)[_0x925556(0x3fb)]()),_0x387493[_0x925556(0x335)][_0x925556(0x4e9)]['headerString']=_0x9cf4e8;}_0x387493[_0x925556(0x335)]['apirequest']&&_0x925556(0x40e)in _0x387493[_0x925556(0x335)][_0x925556(0x4e9)]&&(this['logger'][_0x925556(0x28b)](this[_0x925556(0x52d)]+'\x20('+this[_0x925556(0x670)][_0x925556(0x6d8)]+_0x925556(0x220)),_0x387493[_0x925556(0x335)][_0x925556(0x4e9)][_0x925556(0x78c)]=JSON[_0x925556(0x46a)](_0x387493[_0x925556(0x335)][_0x925556(0x4e9)][_0x925556(0x40e)],null,0x1)[_0x925556(0x3fb)]()),_0x1411db[_0x925556(0x4ed)]['push'](_0x387493[_0x925556(0x335)]),this[_0x925556(0x45c)](_0x1411db[_0x925556(0x4ed)],_0x387493[_0x925556(0x335)][_0x925556(0x1c3)]);}[a0_0x2ec1ea(0x45c)](_0xa0830b,_0x1260f7){const _0x3a86b0=a0_0x2ec1ea;let _0x47154f=_0xa0830b['filter'](_0x1f4a45=>_0x1f4a45[_0x3a86b0(0x1c3)]===_0x1260f7);_0x47154f[_0x3a86b0(0x1c4)]((_0x41f495,_0x424bbd)=>_0x41f495[_0x3a86b0(0x31b)]-_0x424bbd[_0x3a86b0(0x31b)]),_0x47154f[_0x3a86b0(0x487)]((_0x2bbbb8,_0x4e8b53)=>_0x2bbbb8[_0x3a86b0(0x31b)]=_0x4e8b53+0x1);}async[a0_0x2ec1ea(0x352)](_0x218bd8){const _0x3b6999=a0_0x2ec1ea;try{if(this[_0x3b6999(0x470)][_0x3b6999(0x28b)](this[_0x3b6999(0x52d)]+'\x20('+this[_0x3b6999(0x670)][_0x3b6999(0x6d8)]+_0x3b6999(0x2be)),!_0x218bd8||!_0x218bd8['replyOption']){this['throwAndLogError'](_0x3b6999(0x62c));return;}if(!this['AutomateSystem'][_0x3b6999(0x6c1)][_0x3b6999(0x3f1)](_0x2a5a5d=>_0x2a5a5d['_id']===_0x218bd8[_0x3b6999(0x6b1)]))throw this[_0x3b6999(0x470)][_0x3b6999(0x28b)](this[_0x3b6999(0x52d)]+'\x20('+this[_0x3b6999(0x670)][_0x3b6999(0x6d8)]+_0x3b6999(0x33d)+_0x218bd8[_0x3b6999(0x6b1)]+_0x3b6999(0x2b0)),new m(_0x3b6999(0x5d6));let _0x51c4a2=await this[_0x3b6999(0x1f6)][_0x3b6999(0x429)][_0x3b6999(0x167)]({'where':{'_id':_0x218bd8[_0x3b6999(0x6b1)]}});if(!_0x51c4a2||!_0x51c4a2['whoCanUse']?.[_0x3b6999(0x7de)](this['instance'][_0x3b6999(0x6d8)]))throw this[_0x3b6999(0x470)]['error'](this[_0x3b6999(0x52d)]+'\x20('+this[_0x3b6999(0x670)][_0x3b6999(0x6d8)]+_0x3b6999(0x3a8)+_0x218bd8[_0x3b6999(0x6b1)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3b6999(0x7c3)+_0x218bd8[_0x3b6999(0x6b1)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x51c4a2[_0x3b6999(0x584)]?.[_0x3b6999(0x7de)](this[_0x3b6999(0x670)][_0x3b6999(0x6d8)]))throw new m('Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x55a521}=_0x218bd8;_0x55a521?.[_0x3b6999(0x31e)]?(this[_0x3b6999(0x6a7)](_0x51c4a2,_0x218bd8),this[_0x3b6999(0x7ad)](_0x51c4a2[_0x3b6999(0x115)],_0x218bd8['replyOption'][_0x3b6999(0xd1)])):_0x55a521[_0x3b6999(0x6b1)]?(await this[_0x3b6999(0x510)](_0x51c4a2,_0x218bd8),this[_0x3b6999(0x7ad)](_0x51c4a2[_0x3b6999(0x115)],_0x218bd8[_0x3b6999(0x5d4)]['blockId'])):(this['addReplyOption'](_0x51c4a2,_0x218bd8),this['reorderReplyOptions'](_0x51c4a2[_0x3b6999(0x115)],_0x218bd8['replyOption'][_0x3b6999(0xd1)]));let _0x54247f=await this['repository'][_0x3b6999(0x429)][_0x3b6999(0x3cf)](_0x51c4a2[_0x3b6999(0x6b1)],_0x51c4a2);if(!_0x54247f)throw new Error(_0x3b6999(0xda));return _0x54247f;}catch(_0x185fba){this['throwAndLogError'](_0x3b6999(0x2ab)+_0x185fba);}}['reorderReplyOptions'](_0x3b2cd2,_0x3aa5c9){const _0x1d216e=a0_0x2ec1ea;_0x3b2cd2[_0x1d216e(0x487)](_0x20f1a8=>{const _0x360932=_0x1d216e;_0x20f1a8[_0x360932(0xd1)]===_0x3aa5c9&&_0x20f1a8[_0x360932(0x31b)]===void 0x0&&(_0x20f1a8[_0x360932(0x31b)]=0x270f);});let _0x8d9a59=_0x3b2cd2[_0x1d216e(0x666)](_0x1af5b2=>_0x1af5b2['blockId']===_0x3aa5c9);_0x8d9a59['sort']((_0x40fe10,_0x4f2126)=>_0x40fe10[_0x1d216e(0x31b)]-_0x4f2126[_0x1d216e(0x31b)]),_0x8d9a59[_0x1d216e(0x487)]((_0x27954b,_0x449c3a)=>{const _0x4473f7=_0x1d216e;_0x27954b[_0x4473f7(0x31b)]=_0x449c3a+0x1;}),_0x3b2cd2[_0x1d216e(0x487)](_0x989238=>{const _0x597f82=_0x1d216e;if(_0x989238[_0x597f82(0xd1)]===_0x3aa5c9){let _0x80ed51=_0x8d9a59[_0x597f82(0x3f1)](_0x2b05b0=>_0x2b05b0['_id']&&_0x989238[_0x597f82(0x6b1)]&&_0x2b05b0[_0x597f82(0x6b1)][_0x597f82(0x4e0)]()===_0x989238[_0x597f82(0x6b1)]['toString']());_0x80ed51&&(_0x989238[_0x597f82(0x31b)]=_0x80ed51['order']);}});}[a0_0x2ec1ea(0x6a7)](_0x4be011,_0x3ebc0a){const _0x14adb7=a0_0x2ec1ea;let {replyOption:_0x53d30c}=_0x3ebc0a;if(!_0x53d30c['_id']){this['throwAndLogError']('replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4be011[_0x14adb7(0x115)]['find'](_0x2f2ff1=>_0x2f2ff1['_id'][_0x14adb7(0x4e0)]()===_0x3ebc0a[_0x14adb7(0x5d4)][_0x14adb7(0x6b1)]['toString']())){this[_0x14adb7(0x53a)](_0x14adb7(0x57e)+_0x53d30c['_id']+'\x20no\x20encontrado');return;}_0x4be011[_0x14adb7(0x115)]=_0x4be011['replyOptions'][_0x14adb7(0x666)](_0x35491e=>_0x35491e[_0x14adb7(0x6b1)][_0x14adb7(0x4e0)]()!==_0x3ebc0a[_0x14adb7(0x5d4)][_0x14adb7(0x6b1)][_0x14adb7(0x4e0)]());}async[a0_0x2ec1ea(0x510)](_0x4707e2,_0x48aed4){const _0x1ba525=a0_0x2ec1ea;let _0x24ce5f=_0x4707e2['replyOptions'][_0x1ba525(0x315)](_0x534cd3=>_0x534cd3[_0x1ba525(0x6b1)]['toString']()===_0x48aed4[_0x1ba525(0x5d4)][_0x1ba525(0x6b1)]['toString']());if(_0x24ce5f===-0x1){this[_0x1ba525(0x53a)](_0x1ba525(0x57e)+_0x48aed4[_0x1ba525(0x5d4)][_0x1ba525(0x6b1)]+_0x1ba525(0x46c));return;}for(let _0x2060e1 in _0x48aed4[_0x1ba525(0x5d4)])_0x48aed4[_0x1ba525(0x5d4)][_0x1ba525(0x7d4)](_0x2060e1)&&(_0x4707e2[_0x1ba525(0x115)][_0x24ce5f][_0x2060e1]=_0x48aed4[_0x1ba525(0x5d4)][_0x2060e1]);}[a0_0x2ec1ea(0x788)](_0x99f367,_0x36d43d){const _0x49e498=a0_0x2ec1ea;_0x99f367[_0x49e498(0x115)][_0x49e498(0x7ee)](_0x36d43d[_0x49e498(0x5d4)]);}async[a0_0x2ec1ea(0x6d6)](_0x3d4c6b){const _0x5966c2=a0_0x2ec1ea;this[_0x5966c2(0x470)]['verbose'](this[_0x5966c2(0x52d)]+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+_0x5966c2(0x4a9)+JSON[_0x5966c2(0x46a)](_0x3d4c6b,null,0x2));try{if(this[_0x5966c2(0x470)][_0x5966c2(0x28b)](this[_0x5966c2(0x52d)]+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+_0x5966c2(0x721)),!this[_0x5966c2(0x3a1)][_0x5966c2(0x6c1)][_0x5966c2(0x3f1)](_0x1830bd=>_0x1830bd[_0x5966c2(0x6b1)]===_0x3d4c6b['_id']))throw this[_0x5966c2(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+_0x5966c2(0x33d)+_0x3d4c6b[_0x5966c2(0x6b1)]+_0x5966c2(0x2b0)),new m(_0x5966c2(0x5d6));let _0x51c77b=await this['repository']['flow'][_0x5966c2(0x167)]({'where':{'_id':_0x3d4c6b[_0x5966c2(0x6b1)]}});if(!_0x51c77b||!_0x51c77b[_0x5966c2(0x225)]?.[_0x5966c2(0x7de)](this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]))throw this[_0x5966c2(0x470)][_0x5966c2(0x3cc)](this['instanceName']+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+_0x5966c2(0x3a8)+_0x3d4c6b['_id']+_0x5966c2(0x5a5)),new m(_0x5966c2(0x7c3)+_0x3d4c6b['_id']+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x51c77b['whoCanEdit']?.[_0x5966c2(0x7de)](this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]))throw new m('Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.');if(_0x3d4c6b[_0x5966c2(0x1f8)]&&_0x3d4c6b[_0x5966c2(0x1f8)]?.[_0x5966c2(0x31e)]===!0x0){if(this[_0x5966c2(0x470)][_0x5966c2(0x28b)](this[_0x5966c2(0x52d)]+'\x20('+this[_0x5966c2(0x670)]['wuid']+_0x5966c2(0x17a)),_0x3d4c6b[_0x5966c2(0x1f8)][_0x5966c2(0x4d4)]===!0x0)return{'message':_0x5966c2(0x19c)};if(_0x51c77b[_0x5966c2(0x4ed)][_0x5966c2(0x643)](_0x33727a=>_0x33727a['groupId']['toString']()===_0x3d4c6b[_0x5966c2(0x1f8)][_0x5966c2(0x6b1)]))return this[_0x5966c2(0x470)][_0x5966c2(0x28b)](this[_0x5966c2(0x52d)]+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+'):\x20tem\x20blocks'),{'message':_0x5966c2(0x3c6)};_0x51c77b[_0x5966c2(0x4b2)]=_0x51c77b[_0x5966c2(0x4b2)][_0x5966c2(0x666)](_0x56d5ec=>_0x56d5ec['_id'][_0x5966c2(0x4e0)]()!==_0x3d4c6b[_0x5966c2(0x1f8)][_0x5966c2(0x6b1)]);}else{if(_0x3d4c6b[_0x5966c2(0x1f8)]){if(_0x3d4c6b[_0x5966c2(0x1f8)]['default']===!0x0)return{'message':_0x5966c2(0x233)};if(_0x3d4c6b[_0x5966c2(0x1f8)][_0x5966c2(0x6b1)]){let _0x5d0caf=_0x51c77b[_0x5966c2(0x4b2)][_0x5966c2(0x3f1)](_0x30804a=>_0x30804a[_0x5966c2(0x6b1)][_0x5966c2(0x4e0)]()===_0x3d4c6b['group']['_id']);_0x5d0caf&&(_0x3d4c6b[_0x5966c2(0x1f8)]['x']<0x0&&(_0x3d4c6b[_0x5966c2(0x1f8)]['x']=0x0),_0x3d4c6b['group']['y']<0x0&&(_0x3d4c6b[_0x5966c2(0x1f8)]['y']=0x0),Object[_0x5966c2(0x2e2)](_0x5d0caf,_0x3d4c6b[_0x5966c2(0x1f8)]));}else _0x51c77b[_0x5966c2(0x4b2)]['push'](_0x3d4c6b[_0x5966c2(0x1f8)]);}}let _0x5ed1ee=await this[_0x5966c2(0x1f6)]['flow'][_0x5966c2(0x3cf)](_0x51c77b[_0x5966c2(0x6b1)],_0x51c77b);if(!_0x5ed1ee)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5ed1ee;}catch(_0x4dc300){let _0x38f804=_0x5966c2(0xdf),_0x207a0e=_0x4dc300 instanceof Error?_0x4dc300['message']:typeof _0x4dc300==_0x5966c2(0x7d9)?JSON['stringify'](_0x4dc300):_0x4dc300,_0x2dbe52=_0x38f804+':\x20'+_0x207a0e;throw this[_0x5966c2(0x470)][_0x5966c2(0x3cc)](this['instanceName']+'\x20('+this[_0x5966c2(0x670)][_0x5966c2(0x6d8)]+_0x5966c2(0x755)+_0x2dbe52),new m(_0x2dbe52);}}async['editFlowCondition'](_0x2dae69){const _0x2a9822=a0_0x2ec1ea;try{if(this[_0x2a9822(0x470)][_0x2a9822(0x28b)](this[_0x2a9822(0x52d)]+'\x20('+this[_0x2a9822(0x670)][_0x2a9822(0x6d8)]+'):\x20Editando\x20condio\x20do\x20fluxo...'),!this[_0x2a9822(0x3a1)][_0x2a9822(0x6c1)][_0x2a9822(0x3f1)](_0x5c7e17=>_0x5c7e17[_0x2a9822(0x6b1)]===_0x2dae69[_0x2a9822(0x6b1)]))throw this[_0x2a9822(0x470)][_0x2a9822(0x28b)](this[_0x2a9822(0x52d)]+'\x20('+this[_0x2a9822(0x670)]['wuid']+'):\x20Fluxo\x20\x27'+_0x2dae69[_0x2a9822(0x6b1)]+_0x2a9822(0x2b0)),new m(_0x2a9822(0x5d6));let _0x189eff=await this[_0x2a9822(0x1f6)][_0x2a9822(0x429)][_0x2a9822(0x167)]({'where':{'_id':_0x2dae69[_0x2a9822(0x6b1)]}});if(!_0x189eff||!_0x189eff[_0x2a9822(0x225)]?.[_0x2a9822(0x7de)](this['instance'][_0x2a9822(0x6d8)]))throw this['logger'][_0x2a9822(0x3cc)](this[_0x2a9822(0x52d)]+'\x20('+this['instance'][_0x2a9822(0x6d8)]+_0x2a9822(0x3a8)+_0x2dae69[_0x2a9822(0x6b1)]+_0x2a9822(0x5a5)),new m('Flow\x20\x27'+_0x2dae69['_id']+_0x2a9822(0x5a5));if(!_0x189eff[_0x2a9822(0x584)]?.[_0x2a9822(0x7de)](this[_0x2a9822(0x670)][_0x2a9822(0x6d8)]))throw new m(_0x2a9822(0x357));let _0x362471=!0x1;if(_0x2dae69[_0x2a9822(0x7ec)]?.['delete']===!0x0)_0x189eff['conditions']=_0x189eff[_0x2a9822(0x111)][_0x2a9822(0x666)](_0x5841db=>_0x5841db&&_0x2dae69[_0x2a9822(0x7ec)]&&_0x5841db[_0x2a9822(0x6b1)]&&_0x2dae69[_0x2a9822(0x7ec)][_0x2a9822(0x6b1)]&&_0x5841db[_0x2a9822(0x6b1)]['toString']()!==_0x2dae69[_0x2a9822(0x7ec)][_0x2a9822(0x6b1)][_0x2a9822(0x4e0)]()),_0x362471=!0x0;else{let _0x4ad936=_0x189eff[_0x2a9822(0x111)][_0x2a9822(0x3f1)](_0x4b564d=>_0x4b564d&&_0x2dae69['condition']&&_0x4b564d[_0x2a9822(0x6b1)]&&_0x2dae69['condition'][_0x2a9822(0x6b1)]&&_0x4b564d[_0x2a9822(0x6b1)][_0x2a9822(0x4e0)]()===_0x2dae69['condition'][_0x2a9822(0x6b1)][_0x2a9822(0x4e0)]());_0x4ad936?(_0x362471=_0x4ad936[_0x2a9822(0x31b)]!==_0x2dae69['condition'][_0x2a9822(0x31b)],Object['assign'](_0x4ad936,_0x2dae69['condition'])):(_0x189eff[_0x2a9822(0x111)][_0x2a9822(0x7ee)](_0x2dae69['condition']),_0x362471=!0x0);}if(_0x362471){_0x189eff['conditions']['sort']((_0x509cea,_0x279158)=>_0x509cea[_0x2a9822(0x31b)]>_0x279158[_0x2a9822(0x31b)]?0x1:_0x279158[_0x2a9822(0x31b)]>_0x509cea[_0x2a9822(0x31b)]?-0x1:0x0);for(let _0x23c7d2=0x0;_0x23c7d2<_0x189eff['conditions'][_0x2a9822(0x54d)];_0x23c7d2++)_0x189eff[_0x2a9822(0x111)][_0x23c7d2]['order']=_0x23c7d2+0x1;_0x189eff[_0x2a9822(0x111)][_0x2a9822(0x54d)]>0x0&&(_0x189eff[_0x2a9822(0x111)][0x0][_0x2a9822(0x370)]=_0x2a9822(0x75c));}let _0x2d3f26=await this[_0x2a9822(0x1f6)][_0x2a9822(0x429)]['updateOne'](_0x189eff[_0x2a9822(0x6b1)],_0x189eff);if(!_0x2d3f26)throw new Error(_0x2a9822(0xda));return _0x2d3f26;}catch(_0x3d3fb7){let _0x9be66b=_0x2a9822(0x627),_0x15ca50=_0x3d3fb7 instanceof Error?_0x3d3fb7[_0x2a9822(0x653)]:typeof _0x3d3fb7==_0x2a9822(0x7d9)?JSON[_0x2a9822(0x46a)](_0x3d3fb7):_0x3d3fb7,_0x26152f=_0x9be66b+':\x20'+_0x15ca50;throw this['logger'][_0x2a9822(0x3cc)](this[_0x2a9822(0x52d)]+'\x20('+this[_0x2a9822(0x670)][_0x2a9822(0x6d8)]+_0x2a9822(0x755)+_0x26152f),new m(_0x26152f);}}async[a0_0x2ec1ea(0x205)](_0x59f780){const _0x35ebec=a0_0x2ec1ea;try{if(this[_0x35ebec(0x470)][_0x35ebec(0x28b)](this[_0x35ebec(0x52d)]+'\x20('+this[_0x35ebec(0x670)][_0x35ebec(0x6d8)]+'):\x20Editando\x20edio\x20do\x20fluxo...'),!this[_0x35ebec(0x3a1)][_0x35ebec(0x6c1)][_0x35ebec(0x3f1)](_0x25fe11=>_0x25fe11['_id']===_0x59f780[_0x35ebec(0x6b1)]))throw this[_0x35ebec(0x470)][_0x35ebec(0x28b)](this[_0x35ebec(0x52d)]+'\x20('+this[_0x35ebec(0x670)][_0x35ebec(0x6d8)]+_0x35ebec(0x33d)+_0x59f780['_id']+_0x35ebec(0x2b0)),new m(_0x35ebec(0x5d6));let _0x1f0e2f=await this[_0x35ebec(0x1f6)][_0x35ebec(0x429)][_0x35ebec(0x167)]({'where':{'_id':_0x59f780[_0x35ebec(0x6b1)]}});if(!_0x1f0e2f||!_0x1f0e2f[_0x35ebec(0x225)]?.[_0x35ebec(0x7de)](this[_0x35ebec(0x670)][_0x35ebec(0x6d8)]))throw this[_0x35ebec(0x470)][_0x35ebec(0x3cc)](this['instanceName']+'\x20('+this[_0x35ebec(0x670)][_0x35ebec(0x6d8)]+_0x35ebec(0x3a8)+_0x59f780[_0x35ebec(0x6b1)]+_0x35ebec(0x5a5)),new m(_0x35ebec(0x7c3)+_0x59f780[_0x35ebec(0x6b1)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1f0e2f['whoCanEdit']?.[_0x35ebec(0x7de)](this[_0x35ebec(0x670)]['wuid']))throw new m(_0x35ebec(0x357));let _0x241213=!0x1;if(_0x59f780[_0x35ebec(0x3ad)]?.['delete']===!0x0)_0x1f0e2f[_0x35ebec(0x631)]=_0x1f0e2f[_0x35ebec(0x631)][_0x35ebec(0x666)](_0x3c5b7e=>_0x3c5b7e&&_0x59f780[_0x35ebec(0x3ad)]&&_0x3c5b7e[_0x35ebec(0x6b1)]&&_0x59f780['varedit'][_0x35ebec(0x6b1)]&&_0x3c5b7e[_0x35ebec(0x6b1)][_0x35ebec(0x4e0)]()!==_0x59f780[_0x35ebec(0x3ad)][_0x35ebec(0x6b1)][_0x35ebec(0x4e0)]()),_0x241213=!0x0;else{let _0x21c56a=_0x1f0e2f[_0x35ebec(0x631)][_0x35ebec(0x3f1)](_0x332ec2=>_0x332ec2&&_0x59f780[_0x35ebec(0x3ad)]&&_0x332ec2[_0x35ebec(0x6b1)]&&_0x59f780[_0x35ebec(0x3ad)][_0x35ebec(0x6b1)]&&_0x332ec2[_0x35ebec(0x6b1)][_0x35ebec(0x4e0)]()===_0x59f780[_0x35ebec(0x3ad)]['_id'][_0x35ebec(0x4e0)]());_0x21c56a?(_0x241213=_0x21c56a[_0x35ebec(0x31b)]!==_0x59f780[_0x35ebec(0x3ad)][_0x35ebec(0x31b)],Object[_0x35ebec(0x2e2)](_0x21c56a,_0x59f780['varedit'])):(_0x1f0e2f[_0x35ebec(0x631)]['push'](_0x59f780[_0x35ebec(0x3ad)]),_0x241213=!0x0);}if(_0x241213){_0x1f0e2f[_0x35ebec(0x631)][_0x35ebec(0x1c4)]((_0x4388f7,_0x127668)=>_0x4388f7[_0x35ebec(0x31b)]>_0x127668[_0x35ebec(0x31b)]?0x1:_0x127668['order']>_0x4388f7[_0x35ebec(0x31b)]?-0x1:0x0);for(let _0x3dc0a6=0x0;_0x3dc0a6<_0x1f0e2f['varedits'][_0x35ebec(0x54d)];_0x3dc0a6++)_0x1f0e2f[_0x35ebec(0x631)][_0x3dc0a6]['order']=_0x3dc0a6+0x1;}let _0x59cdc4=await this[_0x35ebec(0x1f6)]['flow'][_0x35ebec(0x3cf)](_0x1f0e2f['_id'],_0x1f0e2f);if(!_0x59cdc4)throw new Error(_0x35ebec(0xda));return _0x59cdc4;}catch(_0x3d816b){let _0x1c43bc=_0x35ebec(0x627),_0x584c7=_0x3d816b instanceof Error?_0x3d816b[_0x35ebec(0x653)]:typeof _0x3d816b==_0x35ebec(0x7d9)?JSON[_0x35ebec(0x46a)](_0x3d816b):_0x3d816b,_0x52970c=_0x1c43bc+':\x20'+_0x584c7;throw this[_0x35ebec(0x470)][_0x35ebec(0x3cc)](this['instanceName']+'\x20('+this[_0x35ebec(0x670)][_0x35ebec(0x6d8)]+'):\x20'+_0x52970c),new m(_0x52970c);}}async[a0_0x2ec1ea(0x4a1)](_0xc4bdb0){const _0x1691b8=a0_0x2ec1ea;try{if(this[_0x1691b8(0x470)]['verbose'](this[_0x1691b8(0x52d)]+'\x20('+this[_0x1691b8(0x670)]['wuid']+_0x1691b8(0x250)),!this[_0x1691b8(0x3a1)]['flows']['find'](_0x55fc49=>_0x55fc49[_0x1691b8(0x6b1)]===_0xc4bdb0[_0x1691b8(0x6b1)]))throw this[_0x1691b8(0x470)][_0x1691b8(0x28b)](this[_0x1691b8(0x52d)]+'\x20('+this[_0x1691b8(0x670)]['wuid']+_0x1691b8(0x33d)+_0xc4bdb0['_id']+_0x1691b8(0x2b0)),new m(_0x1691b8(0x5d6));let _0x2de71f=await this[_0x1691b8(0x1f6)][_0x1691b8(0x429)][_0x1691b8(0x167)]({'where':{'_id':_0xc4bdb0['_id']}});if(!_0x2de71f||!_0x2de71f[_0x1691b8(0x225)]?.['includes'](this[_0x1691b8(0x670)][_0x1691b8(0x6d8)]))throw this[_0x1691b8(0x470)][_0x1691b8(0x3cc)](this[_0x1691b8(0x52d)]+'\x20('+this['instance'][_0x1691b8(0x6d8)]+_0x1691b8(0x3a8)+_0xc4bdb0['_id']+_0x1691b8(0x5a5)),new m(_0x1691b8(0x7c3)+_0xc4bdb0['_id']+_0x1691b8(0x5a5));if(!_0x2de71f[_0x1691b8(0x584)]?.[_0x1691b8(0x7de)](this[_0x1691b8(0x670)][_0x1691b8(0x6d8)]))throw new m(_0x1691b8(0x357));_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)]=_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)]['trim'](),_0xc4bdb0[_0x1691b8(0x1d4)]['name'][_0x1691b8(0x752)]('_')&&(_0xc4bdb0[_0x1691b8(0x1d4)]['name']=_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)][_0x1691b8(0x797)](0x1)),_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)]=_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)][_0x1691b8(0x3fb)]();let _0x26c073=_0x2de71f[_0x1691b8(0x492)][_0x1691b8(0x3f1)](_0x230760=>_0x230760[_0x1691b8(0x582)]===_0xc4bdb0['variable'][_0x1691b8(0x582)]);if(_0x26c073?.['leadInfo']===!0x0)throw new Error(_0x1691b8(0x54c));if(_0xc4bdb0[_0x1691b8(0x1d4)]?.['delete']===!0x0){if(!_0x26c073)return{'message':_0x1691b8(0x5c5)};_0x2de71f[_0x1691b8(0x492)]=_0x2de71f[_0x1691b8(0x492)][_0x1691b8(0x666)](_0x2dfa3a=>_0x2dfa3a['name']!==_0xc4bdb0[_0x1691b8(0x1d4)][_0x1691b8(0x582)]);}else _0x26c073?Object[_0x1691b8(0x2e2)](_0x26c073,_0xc4bdb0['variable']):_0x2de71f[_0x1691b8(0x492)]['push'](_0xc4bdb0[_0x1691b8(0x1d4)]);let _0x2ac604=await this[_0x1691b8(0x1f6)][_0x1691b8(0x429)]['updateOne'](_0x2de71f['_id'],_0x2de71f);if(!_0x2ac604)throw new Error(_0x1691b8(0xda));return _0x2ac604;}catch(_0x3c0e58){let _0x422c9c=_0x1691b8(0x4a6),_0x3aeeb0=_0x3c0e58 instanceof Error?_0x3c0e58['message']:typeof _0x3c0e58==_0x1691b8(0x7d9)?JSON[_0x1691b8(0x46a)](_0x3c0e58):_0x3c0e58,_0x1cb01e=_0x422c9c+':\x20'+_0x3aeeb0;throw this[_0x1691b8(0x470)][_0x1691b8(0x3cc)](this[_0x1691b8(0x52d)]+'\x20('+this[_0x1691b8(0x670)][_0x1691b8(0x6d8)]+_0x1691b8(0x755)+_0x1cb01e),new m(_0x1cb01e);}}async[a0_0x2ec1ea(0x525)](_0x131854){const _0x2890eb=a0_0x2ec1ea;let _0x10fa8c=null;try{if(!this[_0x2890eb(0x3a1)]?.[_0x2890eb(0x770)][_0x2890eb(0x7b9)])throw new m(_0x2890eb(0x4d9));this[_0x2890eb(0x470)][_0x2890eb(0x28b)](this[_0x2890eb(0x52d)]+'\x20('+this['instance'][_0x2890eb(0x6d8)]+_0x2890eb(0x35b));let _0x15c35c=(await this[_0x2890eb(0x382)]({'numbers':[_0x131854[_0x2890eb(0x48b)]]}))[0x0];if(!_0x15c35c[_0x2890eb(0x562)]&&!(0x0,w[_0x2890eb(0x298)])(_0x15c35c['jid'])&&!_0x15c35c[_0x2890eb(0x279)]['includes']('@broadcast'))throw _0x10fa8c=JSON['stringify'](_0x15c35c,null,0x2),new m(_0x15c35c);let _0x2021e9;if(_0x131854[_0x2890eb(0x582)][_0x2890eb(0x54d)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x2890eb(0x42d)](_0x131854[_0x2890eb(0x582)])?_0x2021e9=this['AutomateSystem']['flows']['find'](_0x492ec2=>_0x492ec2[_0x2890eb(0x6b1)]===_0x131854[_0x2890eb(0x582)]):_0x2021e9=this['AutomateSystem'][_0x2890eb(0x6c1)]['find'](_0x956514=>_0x956514[_0x2890eb(0x582)]===_0x131854[_0x2890eb(0x582)]),!_0x2021e9)throw this[_0x2890eb(0x470)][_0x2890eb(0x28b)](this[_0x2890eb(0x52d)]+'\x20('+this[_0x2890eb(0x670)][_0x2890eb(0x6d8)]+_0x2890eb(0x33d)+_0x131854[_0x2890eb(0x582)]+_0x2890eb(0x2b0)),new m(_0x2890eb(0x5d6));let _0x122bb3=await this[_0x2890eb(0x1f6)]['flow'][_0x2890eb(0x167)]({'where':{'_id':_0x2021e9[_0x2890eb(0x6b1)]}});if(!_0x122bb3||!_0x122bb3['whoCanUse']?.[_0x2890eb(0x7de)](this[_0x2890eb(0x670)][_0x2890eb(0x6d8)]))throw this[_0x2890eb(0x470)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2890eb(0x6d8)]+_0x2890eb(0x3a8)+_0x2021e9[_0x2890eb(0x6b1)]+_0x2890eb(0x5a5)),_0x10fa8c=_0x2890eb(0x7c3)+_0x2021e9[_0x2890eb(0x6b1)]+_0x2890eb(0x5a5),new m(_0x10fa8c);let _0x72cab4=await this[_0x2890eb(0xaa)](_0x122bb3,_0x15c35c[_0x2890eb(0x279)],_0x131854[_0x2890eb(0x1f2)]);if(_0x72cab4){this[_0x2890eb(0x470)][_0x2890eb(0x28b)](this[_0x2890eb(0x52d)]+'\x20('+this[_0x2890eb(0x670)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x1be737=await this[_0x2890eb(0x4fc)](_0x72cab4);return _0x1be737&&await this['processblock'](_0x72cab4,_0x1be737),{'message':_0x2890eb(0x4f7)+_0x131854[_0x2890eb(0x48b)]};}}catch(_0x69966e){if(this[_0x2890eb(0x470)][_0x2890eb(0x3cc)](this[_0x2890eb(0x52d)]+'\x20('+this[_0x2890eb(0x670)]['wuid']+_0x2890eb(0xb3)+(_0x69966e instanceof Error?_0x69966e['message']:JSON[_0x2890eb(0x46a)](_0x69966e,null,0x2))),_0x10fa8c=_0x69966e instanceof Error?_0x69966e[_0x2890eb(0x653)]:JSON['stringify'](_0x69966e,null,0x2),_0x10fa8c)throw new m(_0x2890eb(0x66a)+_0x10fa8c);}}async[a0_0x2ec1ea(0x22f)](_0x5e4143,_0x1c81a2,_0x2e1dc8){const _0x30a939=a0_0x2ec1ea;let _0x5f3e76=null;try{if(!this['AutomateSystem']?.[_0x30a939(0x770)][_0x30a939(0x7b9)])throw new m('Fluxos\x20no\x20esto\x20ativados');if(this[_0x30a939(0x470)][_0x30a939(0x28b)](this[_0x30a939(0x52d)]+'\x20('+this[_0x30a939(0x670)][_0x30a939(0x6d8)]+'):\x20Iniciando\x20bot...'),_0x1c81a2){let _0x1d0d6b=(await this[_0x30a939(0x382)]({'numbers':[_0x1c81a2]}))[0x0];if(!_0x1d0d6b['exists']&&!(0x0,w['isJidGroup'])(_0x1d0d6b[_0x30a939(0x279)])&&!_0x1d0d6b[_0x30a939(0x279)]['includes'](_0x30a939(0x26a)))throw _0x5f3e76=JSON['stringify'](_0x1d0d6b,null,0x2),new m(_0x1d0d6b);_0x1c81a2=_0x1d0d6b[_0x30a939(0x279)];}else _0x1c81a2||(_0x1c81a2=(0x0,ee['v4'])());let _0x4243e3=await this[_0x30a939(0x1f6)]['flow'][_0x30a939(0x167)]({'where':{'_id':_0x5e4143}});if(!_0x4243e3||!_0x4243e3['whoCanUse']?.[_0x30a939(0x7de)](this[_0x30a939(0x670)][_0x30a939(0x6d8)]))throw this[_0x30a939(0x470)][_0x30a939(0x3cc)](this[_0x30a939(0x52d)]+'\x20('+this[_0x30a939(0x670)][_0x30a939(0x6d8)]+'):\x20Flow\x20\x27'+_0x5e4143+_0x30a939(0x5a5)),new m('Flow\x20\x27'+_0x5e4143+_0x30a939(0x5a5));let _0x5ed0ac=await this[_0x30a939(0xaa)](_0x4243e3,_0x1c81a2,null);if(_0x5ed0ac){this[_0x30a939(0x470)][_0x30a939(0x28b)](this[_0x30a939(0x52d)]+'\x20('+this[_0x30a939(0x670)][_0x30a939(0x6d8)]+_0x30a939(0x1ab));let _0x1decf7;if(_0x2e1dc8){let _0x4123b1=_0x5ed0ac[_0x30a939(0x262)][_0x30a939(0x3f0)],_0x333346=this[_0x30a939(0x2a6)](_0x2e1dc8);Object['assign'](_0x4123b1,_0x333346),_0x5ed0ac[_0x30a939(0x262)]['realVariables']=_0x4123b1,_0x1decf7={'error':!0x1,'apiResponse':_0x2e1dc8};}let _0x3c1ed2=await this[_0x30a939(0x4fc)](_0x5ed0ac);return _0x3c1ed2&&await this[_0x30a939(0x5a8)](_0x5ed0ac,_0x3c1ed2),{'message':'Flow\x20iniciado'};}}catch(_0x786df8){if(this[_0x30a939(0x470)][_0x30a939(0x3cc)](this[_0x30a939(0x52d)]+'\x20('+this['instance'][_0x30a939(0x6d8)]+_0x30a939(0xb3)+(_0x786df8 instanceof Error?_0x786df8[_0x30a939(0x653)]:JSON[_0x30a939(0x46a)](_0x786df8,null,0x2))),_0x5f3e76=_0x786df8 instanceof Error?_0x786df8[_0x30a939(0x653)]:JSON['stringify'](_0x786df8,null,0x2),_0x5f3e76)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x5f3e76);}}async[a0_0x2ec1ea(0x131)](_0x1bfae3){const _0xa0ab77=a0_0x2ec1ea;try{let _0x294269={'remoteJid':_0x1bfae3,'status':_0xa0ab77(0x763)},_0x4762d6={'status':_0xa0ab77(0x371)},_0x486ae9=await this['repository'][_0xa0ab77(0x73f)][_0xa0ab77(0x44e)](_0x294269,_0x4762d6,this[_0xa0ab77(0x670)]['wuid']);return this[_0xa0ab77(0x470)][_0xa0ab77(0x28b)](this['instanceName']+'\x20('+this[_0xa0ab77(0x670)]['wuid']+_0xa0ab77(0x53e)),_0x486ae9;}catch(_0x11024d){throw this[_0xa0ab77(0x470)][_0xa0ab77(0x3cc)](this[_0xa0ab77(0x52d)]+'\x20('+this[_0xa0ab77(0x670)][_0xa0ab77(0x6d8)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x11024d[_0xa0ab77(0x653)]),_0x11024d;}}async[a0_0x2ec1ea(0xaa)](_0x32df0b,_0x2110de,_0x43812a){const _0x209cf6=a0_0x2ec1ea;this[_0x209cf6(0x470)][_0x209cf6(0x28b)](this[_0x209cf6(0x52d)]+'\x20('+this[_0x209cf6(0x670)][_0x209cf6(0x6d8)]+_0x209cf6(0x2d7)),await this['closeExistingConversations'](_0x2110de);try{let _0x11266e=require(_0x209cf6(0x5b3))[_0x209cf6(0x2b5)],_0x2e77c6=Date['now'](),_0x32e5e3=_0x209cf6(0x796),_0x1640cf={},_0x220b57={},_0x636594=this[_0x209cf6(0x3a1)][_0x209cf6(0x6c1)][_0x209cf6(0x3f1)](_0x1f5f0c=>_0x1f5f0c[_0x209cf6(0x6b1)]===_0x32df0b[_0x209cf6(0x6b1)]?.[_0x209cf6(0x4e0)]()),_0x4a9f8b=_0x636594?.[_0x209cf6(0x5f2)]??_0x32df0b[_0x209cf6(0x5f2)]??0x0,_0x5d8bed=_0x636594?.[_0x209cf6(0x3e7)]??_0x32df0b[_0x209cf6(0x3e7)]??!0x1,_0x5894e1={'flowId':_0x32df0b[_0x209cf6(0x6b1)],..._0x32df0b,'chatLog':null},_0x19e59b=await this[_0x209cf6(0x34b)](_0x5894e1[_0x209cf6(0x492)]),_0x67b7df=await this['getVariablesChat'](_0x2110de),_0x16d07a={..._0x19e59b,..._0x67b7df,'_remoteJid':_0x2110de},_0x198021={'lastReceivedMessage':_0x1640cf,'lastSendMessage':_0x220b57,'lastBlockId':_0x32e5e3,'lastCondition':!0x0,'realVariables':_0x16d07a};_0x5894e1[_0x209cf6(0x262)]=_0x198021,_0x5894e1[_0x209cf6(0x262)]['realVariables']={..._0x16d07a,..._0x43812a},delete _0x5894e1[_0x209cf6(0x6b1)],_0x5894e1[_0x209cf6(0x6b1)]=new _0x11266e(),_0x5894e1['lastInteraction']=_0x2e77c6,_0x5894e1[_0x209cf6(0x3fd)]=_0x209cf6(0x763),_0x5894e1[_0x209cf6(0x48b)]=_0x2110de,_0x5894e1[_0x209cf6(0x5f2)]=_0x4a9f8b,_0x5894e1[_0x209cf6(0x3e7)]=_0x5d8bed,_0x5894e1[_0x209cf6(0x6b1)]=_0x32df0b['_id'];let _0x2630d5=await this[_0x209cf6(0x1f6)][_0x209cf6(0x73f)][_0x209cf6(0x3cf)](_0x5894e1[_0x209cf6(0x6b1)],_0x5894e1,this[_0x209cf6(0x670)][_0x209cf6(0x6d8)]);return this[_0x209cf6(0x470)]['verbose'](this[_0x209cf6(0x52d)]+'\x20('+this[_0x209cf6(0x670)][_0x209cf6(0x6d8)]+_0x209cf6(0x440)),_0x2630d5?_0x5894e1:null;}catch(_0x1a2594){let _0x32eaf1='Erro\x20ao\x20copiar\x20o\x20documento',_0x2935f3=_0x1a2594 instanceof Error?_0x1a2594['message']:typeof _0x1a2594==_0x209cf6(0x7d9)?JSON[_0x209cf6(0x46a)](_0x1a2594):_0x1a2594,_0x441408=_0x32eaf1+':\x20'+_0x2935f3;throw this['logger'][_0x209cf6(0x3cc)](this[_0x209cf6(0x52d)]+'\x20('+this[_0x209cf6(0x670)][_0x209cf6(0x6d8)]+'):\x20'+_0x441408),new m(_0x441408);}}async[a0_0x2ec1ea(0x4ee)](_0x42735b){const _0x50031a=a0_0x2ec1ea;try{this[_0x50031a(0x470)][_0x50031a(0x28b)](this[_0x50031a(0x52d)]+'\x20('+this['instance']['wuid']+_0x50031a(0x66d)),this[_0x50031a(0x470)][_0x50031a(0x28b)](this[_0x50031a(0x52d)]+'\x20('+this['instance'][_0x50031a(0x6d8)]+_0x50031a(0x503)+_0x42735b);let _0x4e0c81={'where':{'_id':_0x42735b}};return await this['repository'][_0x50031a(0x73f)][_0x50031a(0x167)](_0x4e0c81,this[_0x50031a(0x670)][_0x50031a(0x6d8)]);}catch(_0x2cd8cf){let _0x5cfe46=_0x50031a(0x285),_0x89432c=_0x2cd8cf instanceof Error?_0x2cd8cf['message']:typeof _0x2cd8cf=='object'?JSON[_0x50031a(0x46a)](_0x2cd8cf):_0x2cd8cf,_0x104d08=_0x5cfe46+':\x20'+_0x89432c;throw this[_0x50031a(0x470)][_0x50031a(0x3cc)](this['instanceName']+'\x20('+this[_0x50031a(0x670)]['wuid']+_0x50031a(0x755)+_0x104d08),new m(_0x104d08);}}async[a0_0x2ec1ea(0x4b8)](_0x34e1c3){const _0x37121c=a0_0x2ec1ea;try{return this[_0x37121c(0x470)][_0x37121c(0x28b)](this['instanceName']+'\x20('+this[_0x37121c(0x670)][_0x37121c(0x6d8)]+'):\x20Buscando\x20conversas...'),await this['repository']['flowConversation'][_0x37121c(0x3f1)](_0x34e1c3,this['instance']['wuid']);}catch(_0x3f5e7e){let _0x1e4285=_0x37121c(0x322),_0x5c0e41=_0x3f5e7e instanceof Error?_0x3f5e7e[_0x37121c(0x653)]:typeof _0x3f5e7e==_0x37121c(0x7d9)?JSON[_0x37121c(0x46a)](_0x3f5e7e):_0x3f5e7e,_0x30d502=_0x1e4285+':\x20'+_0x5c0e41;throw this[_0x37121c(0x470)][_0x37121c(0x3cc)](this[_0x37121c(0x52d)]+'\x20('+this[_0x37121c(0x670)][_0x37121c(0x6d8)]+_0x37121c(0x755)+_0x30d502),new m(_0x30d502);}}async['deleteConversation'](_0x53740c){const _0x4f0222=a0_0x2ec1ea;try{return this['logger'][_0x4f0222(0x28b)](this[_0x4f0222(0x52d)]+'\x20('+this[_0x4f0222(0x670)][_0x4f0222(0x6d8)]+_0x4f0222(0x7a9)),this['logger'][_0x4f0222(0x28b)](this[_0x4f0222(0x52d)]+'\x20('+this[_0x4f0222(0x670)][_0x4f0222(0x6d8)]+_0x4f0222(0x125)+_0x53740c),(await this[_0x4f0222(0x1f6)][_0x4f0222(0x73f)][_0x4f0222(0x13f)]({'where':{'_id':_0x53740c[_0x4f0222(0x6b1)]}},this[_0x4f0222(0x670)][_0x4f0222(0x6d8)]))[_0x4f0222(0x608)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x4f0222(0x4b5)};}catch(_0x2f12f6){let _0x2a2ab2='Erro\x20ao\x20deletar\x20a\x20conversa',_0x16a841=_0x2f12f6 instanceof Error?_0x2f12f6[_0x4f0222(0x653)]:typeof _0x2f12f6=='object'?JSON[_0x4f0222(0x46a)](_0x2f12f6):_0x2f12f6,_0x247fbe=_0x2a2ab2+':\x20'+_0x16a841;throw this[_0x4f0222(0x470)][_0x4f0222(0x3cc)](this[_0x4f0222(0x52d)]+'\x20('+this[_0x4f0222(0x670)][_0x4f0222(0x6d8)]+'):\x20'+_0x247fbe),new m(_0x247fbe);}}async[a0_0x2ec1ea(0x5fa)](_0x453e99){const _0x4e8f3e=a0_0x2ec1ea;try{let {_id:_0x571ef6,chatLog:_0x5c3c9f,status:_0xe236c1}=_0x453e99;if(!_0x571ef6)return{'message':_0x4e8f3e(0x251)};let _0x193d22={};if(_0xe236c1!==void 0x0&&(_0x193d22[_0x4e8f3e(0x3fd)]=_0xe236c1),Object[_0x4e8f3e(0x6b5)](_0x193d22)[_0x4e8f3e(0x54d)]===0x0)return{'message':'Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.'};let _0x540a03=await this['repository']['flowConversation'][_0x4e8f3e(0x3cf)](_0x571ef6,_0x193d22,this[_0x4e8f3e(0x670)][_0x4e8f3e(0x6d8)]);return _0x540a03||{'message':_0x4e8f3e(0x7dd)};}catch(_0x2f458b){let _0x499812='Erro\x20ao\x20editar\x20a\x20conversa',_0x185397=_0x2f458b instanceof Error?_0x2f458b[_0x4e8f3e(0x653)]:typeof _0x2f458b==_0x4e8f3e(0x7d9)?JSON[_0x4e8f3e(0x46a)](_0x2f458b):_0x2f458b,_0x57beb5=_0x499812+':\x20'+_0x185397;throw this[_0x4e8f3e(0x470)][_0x4e8f3e(0x3cc)](this[_0x4e8f3e(0x52d)]+'\x20('+this[_0x4e8f3e(0x670)][_0x4e8f3e(0x6d8)]+_0x4e8f3e(0x755)+_0x57beb5),new m(_0x57beb5);}}async[a0_0x2ec1ea(0x3cb)](_0x2c7a50){const _0x393563=a0_0x2ec1ea;try{_0x2c7a50[_0x393563(0x6b1)]=this[_0x393563(0x673)](_0x2c7a50[_0x393563(0x6b1)]);let _0xea23fc=await this[_0x393563(0x1f6)][_0x393563(0x107)][_0x393563(0x167)]({'where':{'_id':_0x2c7a50['_id']}},this[_0x393563(0x670)][_0x393563(0x6d8)]);if(!_0xea23fc)throw new m(_0x393563(0x57c));let {_id:_0x1d37b4,leadInfo:_0x2214d0}=_0x2c7a50;if(!_0x1d37b4)throw new Error(_0x393563(0x683));if(_0x2c7a50[_0x393563(0x31e)]===_0x393563(0x378))return await this[_0x393563(0x624)](_0x2c7a50[_0x393563(0x6b1)]),await this[_0x393563(0x1f6)][_0x393563(0x107)][_0x393563(0x31e)]({'where':{'_id':_0x2c7a50[_0x393563(0x6b1)]}},this[_0x393563(0x670)][_0x393563(0x6d8)]),await this[_0x393563(0x1f6)][_0x393563(0x653)]['delete']({'where':{'key':{'remoteJid':_0x2c7a50[_0x393563(0x6b1)]}}},this[_0x393563(0x670)][_0x393563(0x6d8)]),_0x2c7a50=await this[_0x393563(0x1f6)]['chat'][_0x393563(0x3cf)]({'where':{'_id':_0x2c7a50[_0x393563(0x6b1)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x393563(0x670)]['wuid']),q(this['instanceName'],_0x393563(0x651),{'chat':_0x2c7a50}),{'message':_0x393563(0x153)};if(_0x2c7a50['delete']===_0x393563(0x6eb))return await this[_0x393563(0x1f6)][_0x393563(0x653)][_0x393563(0x31e)]({'where':{'key':{'remoteJid':_0x2c7a50[_0x393563(0x6b1)]}}},this['instance']['wuid']),_0x2c7a50=await this[_0x393563(0x1f6)][_0x393563(0x107)]['updateOne']({'where':{'_id':_0x2c7a50[_0x393563(0x6b1)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x393563(0x670)]['wuid']),q(this[_0x393563(0x52d)],'chats',{'chat':_0x2c7a50}),{'message':_0x393563(0x32a)};let _0x2de8de=(_0x451f74,_0x509910,_0x39b6ae)=>{_0x451f74&&_0x39b6ae['forEach'](_0x4c36ab=>{const _0x2c5e81=a0_0x5390;_0x451f74[_0x4c36ab]!==void 0x0&&(_0x509910[_0x2c5e81(0x3d7)+_0x4c36ab]=_0x451f74[_0x4c36ab]);});},_0x24c50c={};if(_0x393563(0x2c3)in _0x2c7a50&&(this[_0x393563(0x470)][_0x393563(0x28b)](this[_0x393563(0x52d)]+'\x20('+this[_0x393563(0x670)]['wuid']+_0x393563(0xc9)+_0x2c7a50['_id']),_0x2c7a50[_0x393563(0x2c3)]=_0x2c7a50[_0x393563(0x2c3)]===0x0?null:-0x1,await this[_0x393563(0x58b)][_0x393563(0x621)]({'mute':_0x2c7a50[_0x393563(0x2c3)]},_0x2c7a50[_0x393563(0x6b1)]),_0x24c50c['muteEndTime']=Number(_0x2c7a50[_0x393563(0x2c3)])),_0x2214d0&&(_0x2de8de(_0x2214d0,_0x24c50c,[_0x393563(0x3b9),'nomecompleto',_0x393563(0x7a7),_0x393563(0x5b7),_0x393563(0x3fd),_0x393563(0x232),_0x393563(0x1df),'atendimentoAberto',_0x393563(0x70b),_0x393563(0x1cb),'desativadoFluxoAte']),Array[_0x393563(0x158)](_0x2214d0['customFields'])&&(_0x24c50c[_0x393563(0x5f3)]=_0x2214d0['customFields']['map'](_0x535929=>({'_id':_0x535929[_0x393563(0x6b1)],'value':_0x535929[_0x393563(0x794)]}))),_0x2c7a50['leadInfo'][_0x393563(0x1cb)]!==void 0x0)){let _0x10c04f=await this[_0x393563(0x1f6)][_0x393563(0x67f)]['find']({'where':{}},this[_0x393563(0x670)][_0x393563(0x6d8)]),_0x1a1d48=new Set(_0x2c7a50[_0x393563(0x5f5)][_0x393563(0x1cb)]||[]),_0x1491aa=new Set(_0x2c7a50['leadInfo'][_0x393563(0x1cb)]),_0x47fe2e=new Set(_0x10c04f[_0x393563(0x3ac)](_0x278ce1=>_0x278ce1[_0x393563(0x6b1)])),_0x1e81e6=[..._0x1491aa][_0x393563(0x666)](_0x491231=>!_0x1a1d48[_0x393563(0x4a0)](_0x491231)&&_0x47fe2e[_0x393563(0x4a0)](_0x491231)),_0x2b54c8=[..._0x1a1d48][_0x393563(0x666)](_0x41d5c8=>!_0x1491aa[_0x393563(0x4a0)](_0x41d5c8));if(_0x24c50c[_0x393563(0x35d)]=[..._0x1a1d48],_0xea23fc&&!_0xea23fc[_0x393563(0x1c5)]){for(let _0x62b83e of _0x1e81e6)await this[_0x393563(0x28a)](_0x62b83e,_0x2c7a50[_0x393563(0x6b1)]),_0x1a1d48['add'](_0x62b83e);for(let _0x1f87f4 of _0x2b54c8)await this[_0x393563(0x389)](_0x1f87f4,_0x2c7a50['_id']),_0x1a1d48[_0x393563(0x31e)](_0x1f87f4);}}if(_0x2c7a50[_0x393563(0xf7)]!==void 0x0&&(_0x24c50c['unreadcount']=Number(_0x2c7a50[_0x393563(0xf7)])),Object[_0x393563(0x6b5)](_0x24c50c)[_0x393563(0x54d)]===0x0)throw new Error(_0x393563(0xec));let _0x59bd61=await this[_0x393563(0x1f6)]['chat'][_0x393563(0x3cf)]({'where':{'_id':_0x2c7a50['_id']}},_0x24c50c,this[_0x393563(0x670)]['wuid']);return _0x59bd61&&q(this[_0x393563(0x52d)],'chats',{'chat':_0x59bd61}),_0x59bd61?(this[_0x393563(0x470)][_0x393563(0x28b)](this[_0x393563(0x52d)]+'\x20('+this[_0x393563(0x670)]['wuid']+_0x393563(0x755)+JSON[_0x393563(0x46a)](_0x59bd61,null,0x2)),_0x59bd61):{'message':_0x393563(0x78f)};}catch(_0x30817d){let _0x12ddc9='Erro\x20ao\x20editar\x20o\x20chat',_0x247b47=_0x30817d instanceof Error?_0x30817d[_0x393563(0x653)]:typeof _0x30817d==_0x393563(0x7d9)?JSON[_0x393563(0x46a)](_0x30817d):_0x30817d,_0xe73ba0=_0x12ddc9+':\x20'+_0x247b47;throw this[_0x393563(0x470)]['error'](this[_0x393563(0x52d)]+'\x20('+this[_0x393563(0x670)][_0x393563(0x6d8)]+_0x393563(0x755)+_0xe73ba0),new m(_0xe73ba0);}}async[a0_0x2ec1ea(0x28a)](_0x1a035d,_0x41caaf){const _0x25744b=a0_0x2ec1ea;try{await this[_0x25744b(0x58b)][_0x25744b(0x6d7)](_0x41caaf,_0x1a035d),this[_0x25744b(0x470)][_0x25744b(0x202)](this[_0x25744b(0x52d)]+'\x20('+this[_0x25744b(0x670)][_0x25744b(0x6d8)]+'):\x20Label\x20'+_0x1a035d+_0x25744b(0x795)+_0x41caaf+_0x25744b(0x2b8));}catch(_0x1bf110){this[_0x25744b(0x470)]['error'](_0x25744b(0x1db)+_0x1a035d+_0x25744b(0x2e5)+_0x41caaf+':\x20'+_0x1bf110);}}async[a0_0x2ec1ea(0x389)](_0x2f8a8c,_0x9b352f){const _0x2aecac=a0_0x2ec1ea;try{await this[_0x2aecac(0x58b)][_0x2aecac(0x5e1)](_0x9b352f,_0x2f8a8c),this[_0x2aecac(0x470)][_0x2aecac(0x202)](this[_0x2aecac(0x52d)]+'\x20('+this['instance'][_0x2aecac(0x6d8)]+'):\x20Label\x20'+_0x2f8a8c+_0x2aecac(0x74f)+_0x9b352f+_0x2aecac(0x2b8));}catch(_0x449fa3){this[_0x2aecac(0x470)][_0x2aecac(0x3cc)](_0x2aecac(0x3b3)+_0x2f8a8c+_0x2aecac(0x157)+_0x9b352f+':\x20'+_0x449fa3);}}async[a0_0x2ec1ea(0x5c6)](_0x28b464){const _0x79701b=a0_0x2ec1ea;try{let _0x3890f3=await this[_0x79701b(0x1f6)][_0x79701b(0x5e2)][_0x79701b(0x380)](this[_0x79701b(0x670)]['wuid']),_0x2992bb=_0x28b464[_0x79701b(0x6b1)]?_0x3890f3[_0x79701b(0x4f2)]['findIndex'](_0x38df3a=>_0x38df3a[_0x79701b(0x6b1)]===_0x28b464[_0x79701b(0x6b1)]):-0x1;if(_0x28b464[_0x79701b(0x31e)]&&_0x2992bb>-0x1)_0x3890f3[_0x79701b(0x4f2)][_0x79701b(0x19a)](_0x2992bb,0x1);else{if(_0x2992bb>-0x1){let _0x3a02ea=_0x3890f3[_0x79701b(0x4f2)][_0x2992bb];_0x28b464[_0x79701b(0xb0)]&&(_0x3a02ea[_0x79701b(0xb0)]=_0x28b464['fone']),_0x28b464[_0x79701b(0x582)]&&(_0x3a02ea['name']=_0x28b464[_0x79701b(0x582)]),_0x28b464[_0x79701b(0x7a7)]&&(_0x3a02ea[_0x79701b(0x7a7)]=_0x28b464['email']),_0x28b464[_0x79701b(0x159)]&&(_0x3a02ea[_0x79701b(0x159)]=_0x28b464[_0x79701b(0x159)]);}else _0x3890f3[_0x79701b(0x4f2)][_0x79701b(0x7ee)]({'_id':_0x28b464[_0x79701b(0x6b1)]||new me[(_0x79701b(0x4d4))][(_0x79701b(0x143))][(_0x79701b(0x2b5))]()[_0x79701b(0x4e0)](),'fone':_0x28b464['fone'],'name':_0x28b464['name'],'email':_0x28b464['email'],'role':_0x28b464[_0x79701b(0x159)]});}let _0xc22395={'agents':_0x3890f3[_0x79701b(0x4f2)]},_0x57a526=await this[_0x79701b(0x1f6)][_0x79701b(0x5e2)][_0x79701b(0x4d2)](_0xc22395,this['instance'][_0x79701b(0x6d8)]);return this[_0x79701b(0x3a1)]=_0x57a526,this[_0x79701b(0x470)][_0x79701b(0x28b)](this[_0x79701b(0x52d)]+'\x20('+this[_0x79701b(0x670)]['wuid']+_0x79701b(0x5d0)),this['logger'][_0x79701b(0x28b)](this[_0x79701b(0x52d)]+'\x20('+this['instance']['wuid']+_0x79701b(0x755)+this[_0x79701b(0x3a1)]),_0x57a526;}catch(_0x4134fd){let _0xa5556d=_0x79701b(0x12f),_0x229194=_0x4134fd instanceof Error?_0x4134fd[_0x79701b(0x653)]:typeof _0x4134fd=='object'?JSON[_0x79701b(0x46a)](_0x4134fd):_0x4134fd,_0x2b511b=_0xa5556d+':\x20'+_0x229194;throw this['logger'][_0x79701b(0x3cc)](this[_0x79701b(0x52d)]+'\x20('+this[_0x79701b(0x670)][_0x79701b(0x6d8)]+_0x79701b(0x755)+_0x2b511b),new m(_0x2b511b);}}async[a0_0x2ec1ea(0x13a)](_0x46fdb0){const _0xa272ef=a0_0x2ec1ea;try{let _0x56afa5=await this[_0xa272ef(0x1f6)][_0xa272ef(0x5e2)][_0xa272ef(0x380)](this['instance'][_0xa272ef(0x6d8)]),_0x20ffce=_0x46fdb0[_0xa272ef(0x6b1)]?_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x315)](_0x1e9a0c=>_0x1e9a0c[_0xa272ef(0x6b1)]===_0x46fdb0['_id']):-0x1,_0x207654=!0x1,_0x5d5cb2=_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x643)](_0xc832aa=>_0xc832aa[_0xa272ef(0x31b)]===_0x46fdb0[_0xa272ef(0x31b)]);if(_0x46fdb0[_0xa272ef(0x31e)]&&_0x20ffce>-0x1)_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x19a)](_0x20ffce,0x1),_0x207654=!0x0;else{if(_0x20ffce>-0x1){if(_0x56afa5['customFields'][_0xa272ef(0x643)](_0x1e21e1=>_0x1e21e1[_0xa272ef(0x582)]===_0x46fdb0[_0xa272ef(0x582)]&&_0x1e21e1[_0xa272ef(0x6b1)]!==_0x46fdb0['_id']))throw new Error(_0xa272ef(0x535));let _0x22e6f7=_0x56afa5[_0xa272ef(0x4e4)][_0x20ffce];_0x46fdb0['order']&&(_0x5d5cb2||!Number[_0xa272ef(0x1dc)](_0x46fdb0[_0xa272ef(0x31b)]))&&(_0x22e6f7[_0xa272ef(0x31b)]=_0x46fdb0['order'],_0x207654=!0x0),_0x46fdb0[_0xa272ef(0x582)]&&(_0x22e6f7[_0xa272ef(0x582)]=_0x46fdb0[_0xa272ef(0x582)]);}else{if(_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x643)](_0x5ab329=>_0x5ab329[_0xa272ef(0x582)]===_0x46fdb0[_0xa272ef(0x582)]&&_0x5ab329[_0xa272ef(0x6b1)]!==_0x46fdb0[_0xa272ef(0x6b1)]))throw new Error(_0xa272ef(0x535));_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x7ee)]({'_id':_0x46fdb0['_id']||new me['default'][(_0xa272ef(0x143))]['ObjectId']()[_0xa272ef(0x4e0)](),'order':_0x46fdb0[_0xa272ef(0x31b)],'name':_0x46fdb0[_0xa272ef(0x582)]}),_0x207654=!0x0;}}if(_0x207654){_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x1c4)]((_0x5ca4ff,_0x419170)=>_0x5ca4ff[_0xa272ef(0x31b)]>_0x419170[_0xa272ef(0x31b)]?0x1:_0x419170[_0xa272ef(0x31b)]>_0x5ca4ff[_0xa272ef(0x31b)]?-0x1:0x0);for(let _0xb6e2e2=0x0;_0xb6e2e2<_0x56afa5[_0xa272ef(0x4e4)][_0xa272ef(0x54d)];_0xb6e2e2++)_0x56afa5[_0xa272ef(0x4e4)][_0xb6e2e2][_0xa272ef(0x31b)]=_0xb6e2e2+0x1;}let _0x532d81=await this[_0xa272ef(0x1f6)][_0xa272ef(0x5e2)]['update'](_0x56afa5,this[_0xa272ef(0x670)][_0xa272ef(0x6d8)]);return this[_0xa272ef(0x3a1)]=_0x532d81,this[_0xa272ef(0x470)][_0xa272ef(0x28b)](this[_0xa272ef(0x52d)]+'\x20('+this[_0xa272ef(0x670)]['wuid']+_0xa272ef(0x528)),this['logger'][_0xa272ef(0x28b)](this[_0xa272ef(0x52d)]+'\x20('+this['instance'][_0xa272ef(0x6d8)]+'):\x20'+this[_0xa272ef(0x3a1)]),_0x532d81;}catch(_0x45a89d){let _0x5228de='Erro\x20ao\x20tentar\x20updateCustomFields',_0x512a31=_0x45a89d instanceof Error?_0x45a89d[_0xa272ef(0x653)]:typeof _0x45a89d==_0xa272ef(0x7d9)?JSON['stringify'](_0x45a89d):_0x45a89d,_0x287a80=_0x5228de+':\x20'+_0x512a31;throw this['logger']['error'](this[_0xa272ef(0x52d)]+'\x20('+this[_0xa272ef(0x670)][_0xa272ef(0x6d8)]+_0xa272ef(0x755)+_0x287a80),new m(_0x287a80);}}async[a0_0x2ec1ea(0x704)](_0x425d2c){const _0xe591c=a0_0x2ec1ea;try{let _0x276c1f=await this['repository'][_0xe591c(0x5e2)][_0xe591c(0x380)](this[_0xe591c(0x670)][_0xe591c(0x6d8)]),_0x279527=_0x276c1f?.['autoCompleteMessages']?.[_0xe591c(0x315)](_0x1b872f=>_0x1b872f[_0xe591c(0x6b1)]===_0x425d2c?.['_id']);if(_0x425d2c?.[_0xe591c(0x31e)])_0x279527>-0x1&&_0x276c1f?.[_0xe591c(0x527)]?.[_0xe591c(0x19a)](_0x279527,0x1);else{if(_0x279527>-0x1){let _0x49b168=_0x276c1f[_0xe591c(0x527)][_0x279527];_0x49b168[_0xe591c(0x31b)]=_0x425d2c?.[_0xe591c(0x31b)]||_0x49b168['order'],_0x49b168['command']=_0x425d2c?.['command']||_0x49b168[_0xe591c(0x2ac)],_0x49b168[_0xe591c(0x653)]=_0x425d2c?.[_0xe591c(0x653)]||_0x49b168[_0xe591c(0x653)];}else{let _0x1512ab={'_id':_0x425d2c?.[_0xe591c(0x6b1)]||new me[(_0xe591c(0x4d4))][(_0xe591c(0x143))][(_0xe591c(0x2b5))]()[_0xe591c(0x4e0)](),'order':_0x425d2c?.[_0xe591c(0x31b)],'command':_0x425d2c?.['command'],'message':_0x425d2c?.[_0xe591c(0x653)]};_0x276c1f?.['autoCompleteMessages']?.[_0xe591c(0x7ee)](_0x1512ab);}}_0x276c1f?.[_0xe591c(0x527)]?.[_0xe591c(0x1c4)]((_0x216a04,_0x42e40b)=>_0x216a04['order']-_0x42e40b[_0xe591c(0x31b)]);let _0x4f92c2=await this['repository'][_0xe591c(0x5e2)][_0xe591c(0x4d2)](_0x276c1f,this[_0xe591c(0x670)][_0xe591c(0x6d8)]);return this[_0xe591c(0x3a1)]=_0x4f92c2,this[_0xe591c(0x470)][_0xe591c(0x28b)](this[_0xe591c(0x52d)]+'\x20('+this[_0xe591c(0x670)]['wuid']+_0xe591c(0x528)),_0x4f92c2;}catch(_0x1ab784){let _0x235df1='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5cac11=_0x1ab784 instanceof Error?_0x1ab784['message']:typeof _0x1ab784==_0xe591c(0x7d9)?JSON['stringify'](_0x1ab784):_0x1ab784,_0x13a847=_0x235df1+':\x20'+_0x5cac11;throw this['logger'][_0xe591c(0x3cc)](this[_0xe591c(0x52d)]+'\x20('+this[_0xe591c(0x670)][_0xe591c(0x6d8)]+'):\x20'+_0x13a847),new m(_0x13a847);}}async[a0_0x2ec1ea(0x777)](_0x54c96f){const _0xc94951=a0_0x2ec1ea;try{let _0x3b5c51=await this['repository']['automateSystem'][_0xc94951(0x380)](this[_0xc94951(0x670)][_0xc94951(0x6d8)]);if(!_0x3b5c51)throw new Error(_0xc94951(0x68c));let _0x4e2abb={'_id':_0x3b5c51[_0xc94951(0x6b1)],'flowConfig':{'enabled':_0x54c96f['enabled']??_0x3b5c51[_0xc94951(0x770)]['enabled'],'ignoreGroups':_0x54c96f[_0xc94951(0x57a)]??_0x3b5c51['flowConfig'][_0xc94951(0x57a)],'stopConversation':_0x54c96f[_0xc94951(0x32b)][_0xc94951(0x3fb)]()??_0x3b5c51[_0xc94951(0x770)][_0xc94951(0x32b)][_0xc94951(0x3fb)](),'stopMinutes':_0x54c96f['stopMinutes']??_0x3b5c51[_0xc94951(0x770)][_0xc94951(0xbb)],'stopWhenYouSendMsg':_0x54c96f[_0xc94951(0x198)]??_0x3b5c51['flowConfig'][_0xc94951(0x198)]}},_0x5e176e=await this[_0xc94951(0x1f6)][_0xc94951(0x5e2)]['update'](_0x4e2abb,this[_0xc94951(0x670)][_0xc94951(0x6d8)]);return this[_0xc94951(0x3a1)]=_0x5e176e,this[_0xc94951(0x470)][_0xc94951(0x28b)](this[_0xc94951(0x52d)]+'\x20('+this[_0xc94951(0x670)][_0xc94951(0x6d8)]+_0xc94951(0x5d0)),this[_0xc94951(0x470)][_0xc94951(0x28b)](this[_0xc94951(0x52d)]+'\x20('+this[_0xc94951(0x670)][_0xc94951(0x6d8)]+_0xc94951(0x755)+this['AutomateSystem']),setTimeout(()=>this[_0xc94951(0x2dc)](),0x7d0),_0x5e176e;}catch(_0x228d3b){let _0xd8a348=_0xc94951(0x29c),_0x1e1dfe=_0x228d3b instanceof Error?_0x228d3b[_0xc94951(0x653)]:typeof _0x228d3b==_0xc94951(0x7d9)?JSON[_0xc94951(0x46a)](_0x228d3b):_0x228d3b,_0x1bf58f=_0xd8a348+':\x20'+_0x1e1dfe;throw this[_0xc94951(0x470)][_0xc94951(0x3cc)](this['instanceName']+'\x20('+this[_0xc94951(0x670)][_0xc94951(0x6d8)]+'):\x20'+_0x1bf58f),new m(_0x1bf58f);}}async[a0_0x2ec1ea(0x319)](){const _0x30de71=a0_0x2ec1ea;try{let _0x2c10fa=await this[_0x30de71(0x1f6)][_0x30de71(0x5e2)][_0x30de71(0x380)](this[_0x30de71(0x670)][_0x30de71(0x6d8)]);return this[_0x30de71(0x3a1)]=_0x2c10fa,_0x2c10fa;}catch(_0x5a4a2f){let _0x12b307='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x296c96=_0x5a4a2f instanceof Error?_0x5a4a2f[_0x30de71(0x653)]:typeof _0x5a4a2f==_0x30de71(0x7d9)?JSON[_0x30de71(0x46a)](_0x5a4a2f):_0x5a4a2f,_0x2483cf=_0x12b307+':\x20'+_0x296c96;throw this['logger'][_0x30de71(0x3cc)](this[_0x30de71(0x52d)]+'\x20('+this['instance'][_0x30de71(0x6d8)]+_0x30de71(0x755)+_0x2483cf),new m(_0x2483cf);}}async['initializeQueue'](){const _0x4db2b2=a0_0x2ec1ea;let _0x4158fe=(await import(_0x4db2b2(0x5fe)))[_0x4db2b2(0x4d4)];this[_0x4db2b2(0x660)]=new _0x4158fe({'concurrency':0x1});}async[a0_0x2ec1ea(0x6e4)](){const _0x522375=a0_0x2ec1ea;this[_0x522375(0x670)][_0x522375(0x26f)][_0x522375(0x2a1)]&&clearTimeout(this['instance'][_0x522375(0x26f)]['timeout']),this[_0x522375(0x670)][_0x522375(0x26f)]['timeout']=setTimeout(()=>{const _0xe28e05=_0x522375;this[_0xe28e05(0x3f7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x2ec1ea(0x3f7)](){const _0x443ead=a0_0x2ec1ea;Date['now']()-this[_0x443ead(0x670)][_0x443ead(0x26f)]['lastSend']>=0x1d4c0&&(this[_0x443ead(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x443ead(0x670)][_0x443ead(0x6d8)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['instance'][_0x443ead(0x26f)]['processingGroup']=null,this['instance'][_0x443ead(0x26f)][_0x443ead(0x640)]=0x0,this[_0x443ead(0x670)][_0x443ead(0x26f)][_0x443ead(0x23f)]=0x0,this['queue'][_0x443ead(0x2fc)](()=>this[_0x443ead(0x2dc)]()));}async[a0_0x2ec1ea(0x2dc)](){const _0x1be870=a0_0x2ec1ea;await this['transformScheduledMessagesByType']();let _0x52192f=()=>{const _0x31ac03=a0_0x5390;this[_0x31ac03(0x470)][_0x31ac03(0x28b)](this[_0x31ac03(0x52d)]+'\x20('+this[_0x31ac03(0x670)][_0x31ac03(0x6d8)]+_0x31ac03(0x7a2)+this[_0x31ac03(0x670)][_0x31ac03(0x26f)][_0x31ac03(0x657)][_0x31ac03(0x6b1)]+_0x31ac03(0x571));},_0x26ec88=async()=>{const _0x1acfc8=a0_0x5390;this[_0x1acfc8(0x470)][_0x1acfc8(0x28b)](this[_0x1acfc8(0x52d)]+'\x20('+this['instance'][_0x1acfc8(0x6d8)]+_0x1acfc8(0x6f1));let _0x19f3b0=Date[_0x1acfc8(0x493)]()-0xc*0x3c*0x3c*0x3e8,_0x2c8b18={'where':{'status':{'$in':['scheduled',_0x1acfc8(0x318)]},'$or':[{'when':{'$lte':Date[_0x1acfc8(0x493)](),'$gte':_0x19f3b0}},{'when':0x0}]}},_0x55829e=await this[_0x1acfc8(0x1f6)][_0x1acfc8(0xee)][_0x1acfc8(0x3f1)](_0x2c8b18,this[_0x1acfc8(0x670)]['wuid']);return this['logger'][_0x1acfc8(0x3bf)](this[_0x1acfc8(0x52d)]+'\x20('+this['instance'][_0x1acfc8(0x6d8)]+_0x1acfc8(0x2c7)+_0x55829e[_0x1acfc8(0x54d)]),_0x55829e;},_0x43be17=async _0x5863e0=>{const _0x515a3f=a0_0x5390;let _0x466690=Math[_0x515a3f(0x183)](Math['random']()*0x1389)+0xbb8;for(let _0x19791c of _0x5863e0){let _0x297948={'_id':_0x19791c['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x515a3f(0x493)]()-0xbb8}}]},_0x5ea793={'startSend':Date['now'](),'status':_0x515a3f(0x318)};if(!await this[_0x515a3f(0x1f6)][_0x515a3f(0xee)][_0x515a3f(0x3cf)](_0x297948,_0x5ea793,this[_0x515a3f(0x670)][_0x515a3f(0x6d8)]))return;if(!this[_0x515a3f(0x670)][_0x515a3f(0x26f)][_0x515a3f(0x663)]){this['logger'][_0x515a3f(0x28b)](this[_0x515a3f(0x52d)]+'\x20('+this['instance'][_0x515a3f(0x6d8)]+_0x515a3f(0x24c));break;}let _0x1674d4=(_0x19791c[_0x515a3f(0x6eb)]||[])[_0x515a3f(0x666)](_0x4268b1=>!_0x4268b1[_0x515a3f(0x639)])[_0x515a3f(0x1c4)]((_0x4cfcad,_0x5d31b0)=>(_0x4cfcad[_0x515a3f(0x31b)]??0x0)-(_0x5d31b0[_0x515a3f(0x31b)]??0x0));for(let _0x286545 of _0x1674d4){if(await this['setRestartTimeout'](),this[_0x515a3f(0x670)][_0x515a3f(0x26f)][_0x515a3f(0x640)]=Date[_0x515a3f(0x493)](),this[_0x515a3f(0x670)][_0x515a3f(0x26f)][_0x515a3f(0x640)]=Date[_0x515a3f(0x493)](),_0x286545[_0x515a3f(0x639)]){this[_0x515a3f(0x470)][_0x515a3f(0x28b)](this[_0x515a3f(0x52d)]+'\x20('+this[_0x515a3f(0x670)][_0x515a3f(0x6d8)]+_0x515a3f(0x321)+_0x286545[_0x515a3f(0x48b)]+_0x515a3f(0x6a9));continue;}if(!this[_0x515a3f(0x670)][_0x515a3f(0x26f)][_0x515a3f(0x663)]){this[_0x515a3f(0x470)]['warn'](this[_0x515a3f(0x52d)]+'\x20('+this[_0x515a3f(0x670)]['wuid']+_0x515a3f(0x26d));break;}if(!this[_0x515a3f(0x670)][_0x515a3f(0x26f)][_0x515a3f(0x657)]){this[_0x515a3f(0x470)][_0x515a3f(0x3bf)](this[_0x515a3f(0x52d)]+'\x20('+this[_0x515a3f(0x670)][_0x515a3f(0x6d8)]+_0x515a3f(0x287)+_0x19791c['_id']+_0x515a3f(0x67a));break;}let _0x519bbb={'idControl':_0x286545[_0x515a3f(0x6b1)],'remoteJid':_0x286545[_0x515a3f(0x48b)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x515a3f(0x493)]()},_0x49e7df=null;try{this[_0x515a3f(0x470)][_0x515a3f(0x3bf)](this['instanceName']+'\x20('+this['instance'][_0x515a3f(0x6d8)]+_0x515a3f(0xe6)+_0x286545[_0x515a3f(0x48b)]);let _0x3e73b5=await this['SendScheduleMessage'](_0x286545[_0x515a3f(0x48b)],_0x286545);_0x519bbb[_0x515a3f(0x3cc)]=_0x3e73b5['error'],_0x519bbb['id']=_0x3e73b5[_0x515a3f(0x3cc)]?null:_0x3e73b5['id'],_0x519bbb[_0x515a3f(0x453)]=_0x3e73b5[_0x515a3f(0x3cc)]?_0x3e73b5[_0x515a3f(0x569)]?_0x3e73b5[_0x515a3f(0x569)][_0x515a3f(0x4e0)]():'':null;let _0x2afa5d=_0x19791c[_0x515a3f(0x6eb)][_0x515a3f(0x315)](_0x366d16=>_0x366d16[_0x515a3f(0x6b1)]===_0x286545['_id']);_0x2afa5d!==-0x1&&(_0x19791c[_0x515a3f(0x6eb)][_0x2afa5d][_0x515a3f(0x639)]=!0x0);let _0x198569={'$push':{'messagesSend':_0x519bbb},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x18fab8=[{'elem._id':_0x286545[_0x515a3f(0x6b1)]}];if(this[_0x515a3f(0x470)][_0x515a3f(0x3bf)](this[_0x515a3f(0x52d)]+'\x20('+this[_0x515a3f(0x670)]['wuid']+_0x515a3f(0x469)+_0x286545[_0x515a3f(0x6b1)]),_0x49e7df=await this['repository'][_0x515a3f(0xee)][_0x515a3f(0x3cf)]({'_id':_0x19791c[_0x515a3f(0x6b1)]},_0x198569,this[_0x515a3f(0x670)]['wuid'],{'arrayFilters':_0x18fab8}),_0x3e73b5[_0x515a3f(0x3cc)]){this[_0x515a3f(0x470)][_0x515a3f(0x3cc)](this[_0x515a3f(0x52d)]+'\x20('+this['instance']['wuid']+_0x515a3f(0x377)+_0x3e73b5[_0x515a3f(0x569)]);continue;}let _0x5cd4b6=this[_0x515a3f(0x522)](_0x19791c[_0x515a3f(0x231)],_0x19791c[_0x515a3f(0x272)]);await this[_0x515a3f(0x4c0)](_0x5cd4b6);}catch(_0x430391){this[_0x515a3f(0x470)][_0x515a3f(0x3cc)](this[_0x515a3f(0x52d)]+'\x20('+this[_0x515a3f(0x670)]['wuid']+_0x515a3f(0x64a)+_0x286545[_0x515a3f(0x48b)]+':\x20'+(_0x430391 instanceof Error?_0x430391[_0x515a3f(0x653)]:JSON[_0x515a3f(0x46a)](_0x430391,null,0x2))),_0x519bbb['error']=!0x0,_0x519bbb[_0x515a3f(0x453)]=_0x430391[_0x515a3f(0x653)];let _0x521e63=_0x19791c['messages']['findIndex'](_0x2d3e55=>_0x2d3e55['_id']===_0x286545[_0x515a3f(0x6b1)]);_0x521e63!==-0x1&&(_0x19791c[_0x515a3f(0x6eb)][_0x521e63]['triedToSend']=!0x0);let _0xb1cb1a={'$push':{'messagesSend':_0x519bbb},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4a604c=[{'elem._id':_0x286545[_0x515a3f(0x6b1)]}];this[_0x515a3f(0x470)][_0x515a3f(0x3bf)](this[_0x515a3f(0x52d)]+'\x20('+this['instance'][_0x515a3f(0x6d8)]+_0x515a3f(0xdb)+_0x286545[_0x515a3f(0x6b1)]),_0x49e7df=await this[_0x515a3f(0x1f6)][_0x515a3f(0xee)][_0x515a3f(0x3cf)]({'_id':_0x19791c[_0x515a3f(0x6b1)]},_0xb1cb1a,this[_0x515a3f(0x670)][_0x515a3f(0x6d8)],{'arrayFilters':_0x4a604c});}finally{if(_0x49e7df&&_0x49e7df[_0x515a3f(0x3fd)]===_0x515a3f(0x4d3)){this[_0x515a3f(0x470)][_0x515a3f(0x3bf)](this[_0x515a3f(0x52d)]+'\x20('+this['instance'][_0x515a3f(0x6d8)]+_0x515a3f(0x287)+_0x286545['_id']+_0x515a3f(0x5d3));break;}let _0x449c74=_0x49e7df[_0x515a3f(0x6eb)][_0x515a3f(0x3f1)](_0x7bacbd=>_0x7bacbd['_id']===_0x286545[_0x515a3f(0x6b1)]);if(_0x449c74&&!_0x449c74['triedToSend']){let _0x560e82={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xe86290=[{'elem._id':_0x286545[_0x515a3f(0x6b1)]}];await this[_0x515a3f(0x1f6)]['scheduleMessage'][_0x515a3f(0x3cf)]({'_id':_0x49e7df[_0x515a3f(0x6b1)]},_0x560e82,this[_0x515a3f(0x670)][_0x515a3f(0x6d8)],{'arrayFilters':_0xe86290});}this['instance'][_0x515a3f(0x26f)][_0x515a3f(0x657)]=_0x49e7df;}}let _0x4bb708=await this[_0x515a3f(0x1f6)][_0x515a3f(0xee)]['findById'](_0x19791c['_id'],this[_0x515a3f(0x670)]['wuid']);if(_0x4bb708[_0x515a3f(0x6eb)][_0x515a3f(0x4eb)](_0x42fff0=>_0x42fff0[_0x515a3f(0x639)])&&_0x4bb708[_0x515a3f(0x3fd)]!=='stopped'){let _0x3eb3a5={'$set':{'status':_0x515a3f(0x706)}};await this['repository'][_0x515a3f(0xee)][_0x515a3f(0x53f)](_0x4bb708[_0x515a3f(0x6b1)],_0x3eb3a5,this['instance'][_0x515a3f(0x6d8)]);}await new Promise(_0xa0bb12=>setTimeout(_0xa0bb12,_0x466690)),global['gc']?global['gc']():console[_0x515a3f(0x3bf)](_0x515a3f(0x3a6));}},_0x2b1fce=async()=>{const _0x575c5d=a0_0x5390;this[_0x575c5d(0x470)][_0x575c5d(0x3bf)](this[_0x575c5d(0x52d)]+'\x20('+this[_0x575c5d(0x670)]['wuid']+_0x575c5d(0x6f1));let _0x5af4c5={'where':{'status':_0x575c5d(0x419),'when':{'$gt':Date[_0x575c5d(0x493)]()}}},_0x2ca7c5=await this[_0x575c5d(0x1f6)][_0x575c5d(0xee)][_0x575c5d(0x167)](_0x5af4c5,this[_0x575c5d(0x670)][_0x575c5d(0x6d8)]);_0x2ca7c5&&_0x2ca7c5[_0x575c5d(0xe7)]-Date[_0x575c5d(0x493)]()<=0x6ddd00?this[_0x575c5d(0x670)][_0x575c5d(0x26f)]['delayMessage']=_0x2ca7c5[_0x575c5d(0xe7)]-Date[_0x575c5d(0x493)]():this[_0x575c5d(0x670)][_0x575c5d(0x26f)]['delayMessage']=(0x3c+Math[_0x575c5d(0x183)](Math[_0x575c5d(0x1af)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x575c5d(0x26f)][_0x575c5d(0x23f)]=Math[_0x575c5d(0x5a4)](this[_0x575c5d(0x670)][_0x575c5d(0x26f)][_0x575c5d(0x23f)],0x1*0x2*0x3e8);let _0x3c4e0a=Math[_0x575c5d(0x614)](this['instance']['ScheduleMessage'][_0x575c5d(0x23f)]/0xea60);if(_0x2ca7c5){let _0x51e7de=new Date(_0x2ca7c5[_0x575c5d(0xe7)])[_0x575c5d(0x354)]();this['logger'][_0x575c5d(0x3bf)](this[_0x575c5d(0x52d)]+'\x20('+this[_0x575c5d(0x670)][_0x575c5d(0x6d8)]+_0x575c5d(0x603)+_0x51e7de+',\x20far\x20nova\x20verificao\x20em\x20'+_0x3c4e0a+_0x575c5d(0x1d6));}else this[_0x575c5d(0x470)][_0x575c5d(0x3bf)](this[_0x575c5d(0x52d)]+'\x20('+this[_0x575c5d(0x670)][_0x575c5d(0x6d8)]+_0x575c5d(0x182)+_0x3c4e0a+_0x575c5d(0x1d6));setTimeout(()=>this['scheduleNextCheck'](),this[_0x575c5d(0x670)][_0x575c5d(0x26f)][_0x575c5d(0x23f)]);};if(this[_0x1be870(0x670)][_0x1be870(0x26f)][_0x1be870(0x657)]){await this['setRestartTimeout'](),_0x52192f();return;}if(!this['instance'][_0x1be870(0x26f)][_0x1be870(0x663)]){this[_0x1be870(0x470)][_0x1be870(0x3bf)](this[_0x1be870(0x52d)]+'\x20('+this[_0x1be870(0x670)][_0x1be870(0x6d8)]+'):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado'),this[_0x1be870(0x670)]['ScheduleMessage'][_0x1be870(0x657)]=null,this[_0x1be870(0x670)][_0x1be870(0x26f)][_0x1be870(0x640)]=0x0,this[_0x1be870(0x670)][_0x1be870(0x26f)][_0x1be870(0x23f)]=0x0;return;}try{let _0x403e1a=await _0x26ec88();_0x403e1a['length']===0x0?this['logger'][_0x1be870(0x3bf)](this['instanceName']+'\x20('+this['instance'][_0x1be870(0x6d8)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x1be870(0x670)][_0x1be870(0x26f)][_0x1be870(0x657)]=_0x403e1a[0x0],await _0x43be17(_0x403e1a)),await _0x2b1fce(),this[_0x1be870(0x670)]['ScheduleMessage'][_0x1be870(0x657)]=null;}catch(_0x36efe2){this[_0x1be870(0x470)]['error'](_0x1be870(0x2ef)+(_0x36efe2 instanceof Error?_0x36efe2['message']:JSON[_0x1be870(0x46a)](_0x36efe2,null,0x2)));}}[a0_0x2ec1ea(0x522)](_0x512286,_0x7aef4d){const _0x26cd47=a0_0x2ec1ea;return _0x512286=Math[_0x26cd47(0x5a4)](0.5,_0x512286),_0x7aef4d=Math['min'](Math['max'](0x3,_0x7aef4d),0x78),Math[_0x26cd47(0x183)](Math[_0x26cd47(0x1af)]()*(_0x7aef4d-_0x512286+0x1)+_0x512286)*0x3e8;}['sleep'](_0x341cf5){return new Promise(_0x20c1c5=>setTimeout(_0x20c1c5,_0x341cf5));}async[a0_0x2ec1ea(0x5b6)](_0x291076){const _0x2fce71=a0_0x2ec1ea;if(!this[_0x2fce71(0x3a1)]&&(await this[_0x2fce71(0x319)](),!this[_0x2fce71(0x3a1)]))return null;_0x291076=this['createJid'](_0x291076);let _0x546fe6=await this['repository'][_0x2fce71(0x107)]['findOne']({'where':{'_id':_0x291076}},this[_0x2fce71(0x670)][_0x2fce71(0x6d8)]),_0x75e997={};if(_0x546fe6&&_0x546fe6[_0x2fce71(0x5f5)]){let _0x47939d=_0x546fe6[_0x2fce71(0x5f5)];typeof _0x47939d[_0x2fce71(0x3b9)]=='string'&&(_0x75e997[_0x2fce71(0x3b9)]=_0x47939d['nome']),typeof _0x47939d[_0x2fce71(0x1bf)]==_0x2fce71(0x2a7)&&(_0x75e997['nomecompleto']=_0x47939d[_0x2fce71(0x1bf)]),typeof _0x47939d[_0x2fce71(0x7a7)]==_0x2fce71(0x2a7)&&(_0x75e997[_0x2fce71(0x7a7)]=_0x47939d[_0x2fce71(0x7a7)]),typeof _0x47939d['cpf']=='string'&&(_0x75e997[_0x2fce71(0x5b7)]=_0x47939d[_0x2fce71(0x5b7)]),typeof _0x47939d[_0x2fce71(0x3fd)]==_0x2fce71(0x2a7)&&(_0x75e997['status']=_0x47939d[_0x2fce71(0x3fd)]),typeof _0x47939d['notas']==_0x2fce71(0x2a7)&&(_0x75e997['notas']=_0x47939d['notas']),typeof _0x47939d['responsavelid']==_0x2fce71(0x2a7)&&(_0x75e997[_0x2fce71(0x70b)]=_0x47939d[_0x2fce71(0x70b)]),Array[_0x2fce71(0x158)](_0x47939d['tags'])&&(_0x75e997[_0x2fce71(0x1df)]=_0x47939d[_0x2fce71(0x1df)]['join'](',\x20')),Array['isArray'](_0x47939d['etiquetas'])&&(_0x75e997['etiquetas']=_0x47939d[_0x2fce71(0x1cb)][_0x2fce71(0x2ed)](',\x20'));}return _0x546fe6&&_0x546fe6[_0x2fce71(0x5f5)]&&_0x546fe6['leadInfo'][_0x2fce71(0x4e4)]&&_0x546fe6['leadInfo'][_0x2fce71(0x4e4)][_0x2fce71(0x487)](_0x11a6fd=>{const _0x2f2fd0=_0x2fce71;let _0x23d538=this[_0x2f2fd0(0x3a1)]?.[_0x2f2fd0(0x4e4)]['find'](_0x52dd73=>_0x52dd73['_id']===_0x11a6fd[_0x2f2fd0(0x6b1)]);_0x23d538&&(_0x75e997[_0x23d538[_0x2f2fd0(0x582)]]=_0x11a6fd['value']);}),_0x75e997;}async[a0_0x2ec1ea(0x441)](_0x52c5b9,_0x40c56e){const _0x785c39=a0_0x2ec1ea;try{let _0x125222=await this[_0x785c39(0x5b6)](_0x40c56e);return this[_0x785c39(0xa9)](_0x52c5b9,_0x125222);}catch(_0x2d06a){return this[_0x785c39(0x470)]['error']('Erro\x20ao\x20substituir\x20variveis\x20para\x20'+_0x40c56e+':\x20'+_0x2d06a),_0x52c5b9;}}async[a0_0x2ec1ea(0x647)](){const _0x148a86=a0_0x2ec1ea;let _0xed7733=async(_0x22e851,_0x4042dc)=>{const _0x31239d=a0_0x5390;let _0x264c46=(await this[_0x31239d(0x1f6)]['scheduleMessage']['find']({'where':{'type':_0x22e851}},this[_0x31239d(0x670)]['wuid']))[_0x31239d(0x3ac)](async _0x1c6ed8=>{const _0x2482e4=_0x31239d;let _0x2c5fce=_0x4042dc(_0x1c6ed8),_0x268ae9=_0x7430d1=>/^\d+$/[_0x2482e4(0x42d)](_0x7430d1),_0x7e018=_0x1c6ed8['remoteJids'][_0x2482e4(0x666)](_0x900f99=>_0x900f99[_0x2482e4(0x713)](_0x2482e4(0x46f))?_0x900f99[_0x2482e4(0x54d)]>0x19:_0x900f99[_0x2482e4(0x713)](_0x2482e4(0x6f3))?_0x900f99['length']>0xf:_0x268ae9(_0x900f99)?_0x900f99['length']>=0xb:!0x1)['map'](_0x1de200=>({'_id':(0x0,ee['v4'])(),'idSchedule':_0x1c6ed8[_0x2482e4(0x6b1)],'type':_0x2c5fce,'remoteJid':_0x1de200,'flow':_0x1c6ed8['flowName'],'text':_0x1c6ed8[_0x2482e4(0x653)]?.['text'],'delay':_0x1c6ed8[_0x2482e4(0x653)]?.['delay'],'urlOrBase64':_0x1c6ed8['message']?.['urlOrBase64'],'linkPreview':_0x1c6ed8[_0x2482e4(0x653)]?.[_0x2482e4(0x501)],'fileName':_0x1c6ed8[_0x2482e4(0x653)]?.[_0x2482e4(0x51b)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x2482e4(0xee)][_0x2482e4(0x53f)](_0x1c6ed8['_id'],{'$set':{'messages':_0x7e018},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x2482e4(0x670)][_0x2482e4(0x6d8)]);}catch(_0x50de4a){console[_0x2482e4(0x3cc)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x1c6ed8['_id']+':',_0x50de4a);}});await Promise['all'](_0x264c46);};await _0xed7733(_0x148a86(0x2e7),_0xd5311c=>'text'),await _0xed7733('media',_0x508133=>_0x508133[_0x148a86(0x653)]?.['mediatype']||_0x148a86(0x3e1)),await _0xed7733(_0x148a86(0x618),_0x231bd6=>'audio'),await _0xed7733(_0x148a86(0x429),_0x2387f1=>_0x148a86(0x429)),await _0xed7733(_0x148a86(0x6da),_0xbfce0e=>_0x148a86(0x6da)),await _0xed7733(_0x148a86(0x17e),_0x2ff568=>'video'),await _0xed7733('document',_0x43da5a=>'document'),this['logger'][_0x148a86(0x3bf)](this[_0x148a86(0x52d)]+'\x20('+this[_0x148a86(0x670)][_0x148a86(0x6d8)]+_0x148a86(0x719));}async['editScheduleMessage'](_0x5236e0){const _0x5260ba=a0_0x2ec1ea;try{if(this[_0x5260ba(0x470)][_0x5260ba(0x3bf)](this[_0x5260ba(0x52d)]+'\x20('+this[_0x5260ba(0x670)][_0x5260ba(0x6d8)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x5236e0[_0x5260ba(0x6b1)]||(_0x5236e0[_0x5260ba(0x6b1)]=(0x0,ee['v4'])()),this[_0x5260ba(0x670)][_0x5260ba(0x26f)][_0x5260ba(0x657)]?.['_id']===_0x5236e0[_0x5260ba(0x6b1)]?.['toString']()){if(_0x5236e0[_0x5260ba(0x3fd)]===_0x5260ba(0x4d3))this[_0x5260ba(0x670)]['ScheduleMessage']['processingGroup']=null;else throw new Error('No\x20\x20possvel\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20est\x20em\x20processamento.');}if(_0x5236e0['delete']&&_0x5236e0['_id']){let _0x76cfd2=await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)]['deleteOne'](_0x5236e0[_0x5260ba(0x6b1)],this['instance'][_0x5260ba(0x6d8)]);return setTimeout(()=>this[_0x5260ba(0x2dc)](),0x7d0),_0x76cfd2;}let _0x5b01fe=null;if(_0x5236e0[_0x5260ba(0x6b1)]&&(_0x5b01fe=await this['repository'][_0x5260ba(0xee)][_0x5260ba(0x1c9)](_0x5236e0['_id'],this[_0x5260ba(0x670)][_0x5260ba(0x6d8)])),_0x5b01fe){let {_id:_0x286d17,owner:_0x1098ef,messages:_0x5e4a68,..._0x40f8ea}=_0x5236e0;if(_0x5e4a68){let _0x35d771=_0x5e4a68['filter'](_0x39a91b=>!_0x39a91b[_0x5260ba(0x6b1)]),_0x45bc52=_0x5e4a68[_0x5260ba(0x666)](_0xd26a11=>_0xd26a11[_0x5260ba(0x6b1)]&&!_0xd26a11[_0x5260ba(0x31e)]),_0x49ca30=_0x5e4a68[_0x5260ba(0x666)](_0x42c0db=>_0x42c0db[_0x5260ba(0x6b1)]&&_0x42c0db[_0x5260ba(0x31e)]);if(_0x35d771[_0x5260ba(0x54d)]>0x0&&await this[_0x5260ba(0x500)](_0x5236e0['_id'],_0x35d771),_0x45bc52['length']>0x0&&await this['editMessagesInGroup']({'_id':_0x5236e0['_id'],'messages':_0x45bc52}),_0x49ca30[_0x5260ba(0x54d)]>0x0){let _0x3f2dfb=_0x49ca30[_0x5260ba(0x3ac)](_0xb09081=>({'updateOne':{'filter':{'_id':_0x5236e0[_0x5260ba(0x6b1)]},'update':{'$pull':{'messages':{'_id':_0xb09081[_0x5260ba(0x6b1)]}}}}}));await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)][_0x5260ba(0x6b7)](_0x3f2dfb,this[_0x5260ba(0x670)][_0x5260ba(0x6d8)]);}}let _0x24993f={'$set':{..._0x40f8ea,'status':_0x5236e0[_0x5260ba(0x3fd)]||_0x5b01fe[_0x5260ba(0x3fd)]}},_0x28a9fa=await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)]['updateOneById'](_0x5236e0[_0x5260ba(0x6b1)],_0x24993f,this[_0x5260ba(0x670)]['wuid']);return _0x28a9fa&&(this[_0x5260ba(0x294)](_0x28a9fa[_0x5260ba(0x6eb)]),await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)][_0x5260ba(0x53f)](_0x28a9fa[_0x5260ba(0x6b1)],{'$set':{'messages':_0x28a9fa[_0x5260ba(0x6eb)]}},this[_0x5260ba(0x670)][_0x5260ba(0x6d8)])),setTimeout(()=>this[_0x5260ba(0x2dc)](),0x7d0),await this[_0x5260ba(0x647)](),_0x28a9fa;}else{_0x5236e0['owner']=this[_0x5260ba(0x670)][_0x5260ba(0x6d8)],_0x5236e0[_0x5260ba(0x6eb)]&&_0x5236e0[_0x5260ba(0x6eb)][_0x5260ba(0x487)](_0x388410=>{const _0x4851b5=_0x5260ba;_0x388410[_0x4851b5(0x6b1)]||(_0x388410[_0x4851b5(0x6b1)]=(0x0,ee['v4'])()),_0x388410[_0x4851b5(0x7c1)]||(_0x388410['idSchedule']=_0x5236e0[_0x4851b5(0x6b1)]),delete _0x388410[_0x4851b5(0x639)];});let _0x4b1104=await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)]['createAndSave'](_0x5236e0,this[_0x5260ba(0x670)][_0x5260ba(0x6d8)]);return _0x4b1104&&(this[_0x5260ba(0x294)](_0x4b1104[_0x5260ba(0x6eb)]),await this[_0x5260ba(0x1f6)][_0x5260ba(0xee)]['updateOneById'](_0x4b1104['_id'],{'$set':{'messages':_0x4b1104[_0x5260ba(0x6eb)]}},this[_0x5260ba(0x670)][_0x5260ba(0x6d8)])),setTimeout(()=>this[_0x5260ba(0x2dc)](),0x7d0),_0x4b1104;}}catch(_0x46bad1){let _0x153664='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x5cc617=_0x46bad1 instanceof Error?_0x46bad1[_0x5260ba(0x653)]:typeof _0x46bad1=='object'?JSON[_0x5260ba(0x46a)](_0x46bad1):_0x46bad1,_0x49c0b6=_0x153664+':\x20'+_0x5cc617;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x5260ba(0x670)][_0x5260ba(0x6d8)]+_0x5260ba(0x755)+_0x49c0b6),new m(_0x49c0b6);}}async[a0_0x2ec1ea(0x500)](_0xa8f9f8,_0x320a6b){const _0x19c02c=a0_0x2ec1ea;try{this[_0x19c02c(0x470)][_0x19c02c(0x28b)](this[_0x19c02c(0x52d)]+'\x20('+this['instance']['wuid']+_0x19c02c(0x645)),_0x320a6b[_0x19c02c(0x487)](_0x16523f=>{const _0xf795bb=_0x19c02c;_0x16523f[_0xf795bb(0x6b1)]||(_0x16523f[_0xf795bb(0x6b1)]=(0x0,ee['v4'])()),_0x16523f['idSchedule']||(_0x16523f['idSchedule']=_0xa8f9f8),delete _0x16523f['triedToSend'];});let _0x5ed8cf={'$push':{'messages':{'$each':_0x320a6b}}},_0x4fb1df=await this['repository'][_0x19c02c(0xee)][_0x19c02c(0x53f)](_0xa8f9f8,_0x5ed8cf,this['instance'][_0x19c02c(0x6d8)]);return _0x4fb1df&&(this[_0x19c02c(0x294)](_0x4fb1df[_0x19c02c(0x6eb)]),await this['repository']['scheduleMessage']['updateOneById'](_0x4fb1df['_id'],{'$set':{'messages':_0x4fb1df['messages']}},this[_0x19c02c(0x670)]['wuid'])),_0x4fb1df;}catch(_0x15459b){let _0x7d354d=_0x19c02c(0x2b2),_0x42518f=_0x15459b instanceof Error?_0x15459b[_0x19c02c(0x653)]:typeof _0x15459b==_0x19c02c(0x7d9)?JSON['stringify'](_0x15459b):_0x15459b,_0x3068c1=_0x7d354d+':\x20'+_0x42518f;throw this[_0x19c02c(0x470)][_0x19c02c(0x3cc)](this[_0x19c02c(0x52d)]+'\x20('+this[_0x19c02c(0x670)]['wuid']+'):\x20'+_0x3068c1),new m(_0x3068c1);}}async[a0_0x2ec1ea(0x4e6)](_0x1a4617){const _0x10f292=a0_0x2ec1ea;try{if(this[_0x10f292(0x470)][_0x10f292(0x28b)](this['instanceName']+'\x20('+this[_0x10f292(0x670)]['wuid']+_0x10f292(0x1da)),!_0x1a4617['_id']||!_0x1a4617[_0x10f292(0x6eb)])throw new Error('Dados\x20invlidos\x20para\x20edio\x20de\x20mensagens\x20no\x20grupo.');let _0x4486ec=_0x1a4617[_0x10f292(0x6b1)],_0x5eb6ac=_0x1a4617[_0x10f292(0x6eb)],_0x20d46f=_0x5eb6ac[_0x10f292(0x666)](_0x46f896=>!_0x46f896[_0x10f292(0x31e)])[_0x10f292(0x3ac)](_0x221ff3=>{const _0x1886e9=_0x10f292;let _0x708346=_0x221ff3[_0x1886e9(0x6b1)];if(!_0x708346)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edio.');return _0x221ff3[_0x1886e9(0x7c1)]||(_0x221ff3[_0x1886e9(0x7c1)]=_0x4486ec),delete _0x221ff3[_0x1886e9(0x639)],{'updateOne':{'filter':{'_id':_0x4486ec,'messages._id':_0x708346},'update':{'$set':{'messages.$[elem]':_0x221ff3}},'arrayFilters':[{'elem._id':_0x708346}]}};}),_0x25a1d7=_0x5eb6ac[_0x10f292(0x666)](_0x57ecc1=>_0x57ecc1['delete'])[_0x10f292(0x3ac)](_0x431aaa=>{const _0x5ee8dd=_0x10f292;let _0x5b3e53=_0x431aaa[_0x5ee8dd(0x6b1)];if(!_0x5b3e53)throw new Error(_0x5ee8dd(0x6f0));return{'updateOne':{'filter':{'_id':_0x4486ec},'update':{'$pull':{'messages':{'_id':_0x5b3e53}}}}};}),_0x217744=[..._0x20d46f,..._0x25a1d7],_0x17572c=await this[_0x10f292(0x1f6)][_0x10f292(0xee)][_0x10f292(0x6b7)](_0x217744,this[_0x10f292(0x670)]['wuid']),_0x4bb9f3=await this[_0x10f292(0x1f6)]['scheduleMessage'][_0x10f292(0x1c9)](_0x4486ec,this['instance']['wuid']);return _0x4bb9f3&&(this[_0x10f292(0x294)](_0x4bb9f3[_0x10f292(0x6eb)]),await this[_0x10f292(0x1f6)][_0x10f292(0xee)][_0x10f292(0x53f)](_0x4bb9f3[_0x10f292(0x6b1)],{'$set':{'messages':_0x4bb9f3[_0x10f292(0x6eb)]}},this[_0x10f292(0x670)]['wuid'])),_0x4bb9f3;}catch(_0x44890c){let _0x3e54ac=_0x10f292(0x344),_0xabf40c=_0x44890c instanceof Error?_0x44890c['message']:typeof _0x44890c==_0x10f292(0x7d9)?JSON[_0x10f292(0x46a)](_0x44890c):_0x44890c,_0x2f2f02=_0x3e54ac+':\x20'+_0xabf40c;throw this['logger']['error'](this[_0x10f292(0x52d)]+'\x20('+this[_0x10f292(0x670)][_0x10f292(0x6d8)]+_0x10f292(0x755)+_0x2f2f02),new m(_0x2f2f02);}}async[a0_0x2ec1ea(0x7d7)](){const _0x5dfd25=a0_0x2ec1ea;try{let _0x292f1d={'status':_0x5dfd25(0x706)},_0x10e92a=await this[_0x5dfd25(0x1f6)][_0x5dfd25(0xee)]['deleteMany'](_0x292f1d,this[_0x5dfd25(0x670)][_0x5dfd25(0x6d8)]);if(!_0x10e92a['error'])this[_0x5dfd25(0x470)]['verbose'](this[_0x5dfd25(0x52d)]+'\x20('+this[_0x5dfd25(0x670)][_0x5dfd25(0x6d8)]+_0x5dfd25(0x42f));else throw new Error(_0x10e92a[_0x5dfd25(0x3cc)][_0x5dfd25(0x653)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this['getScheduleMessage']();}catch(_0x3838b4){let _0x10d5a7=_0x5dfd25(0x3b5),_0x52f3b8=_0x3838b4 instanceof Error?_0x3838b4[_0x5dfd25(0x653)]:typeof _0x3838b4==_0x5dfd25(0x7d9)?JSON[_0x5dfd25(0x46a)](_0x3838b4):_0x3838b4,_0x1d2e44=_0x10d5a7+':\x20'+_0x52f3b8;throw this[_0x5dfd25(0x470)][_0x5dfd25(0x3cc)](this[_0x5dfd25(0x52d)]+'\x20('+this['instance'][_0x5dfd25(0x6d8)]+_0x5dfd25(0x755)+_0x1d2e44),new m(_0x1d2e44);}}async[a0_0x2ec1ea(0x359)](){const _0x235d7a=a0_0x2ec1ea;try{return await this['repository'][_0x235d7a(0xee)][_0x235d7a(0x3f1)]({'where':{}},this[_0x235d7a(0x670)]['wuid']);}catch(_0x14e643){let _0x36a9bf=_0x235d7a(0x46e),_0x9097e8=_0x14e643 instanceof Error?_0x14e643[_0x235d7a(0x653)]:typeof _0x14e643==_0x235d7a(0x7d9)?JSON['stringify'](_0x14e643):_0x14e643,_0x356c77=_0x36a9bf+':\x20'+_0x9097e8;throw this[_0x235d7a(0x470)][_0x235d7a(0x3cc)](this['instanceName']+'\x20('+this[_0x235d7a(0x670)][_0x235d7a(0x6d8)]+_0x235d7a(0x755)+_0x356c77),new m(_0x356c77);}}[a0_0x2ec1ea(0x294)](_0x43c2ba){const _0x5cefbf=a0_0x2ec1ea;_0x43c2ba[_0x5cefbf(0x1c4)]((_0x537e30,_0x342adc)=>_0x537e30[_0x5cefbf(0x31b)]-_0x342adc[_0x5cefbf(0x31b)]),_0x43c2ba[_0x5cefbf(0x487)]((_0x4cf85a,_0x45b85a)=>{const _0x220c0b=_0x5cefbf;_0x4cf85a[_0x220c0b(0x31b)]=_0x45b85a+0x1;});}async['SendScheduleMessage'](_0x14e620,_0x208d71){const _0x32795b=a0_0x2ec1ea;try{if(!_0x208d71)return this[_0x32795b(0x470)][_0x32795b(0x3cc)](this[_0x32795b(0x52d)]+'\x20('+this[_0x32795b(0x670)][_0x32795b(0x6d8)]+_0x32795b(0x6a1)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x208d71[_0x32795b(0x6e6)]===_0x32795b(0x429)&&!this[_0x32795b(0x3a1)]?.[_0x32795b(0x770)]['enabled'])return this['logger'][_0x32795b(0x3cc)](this['instanceName']+'\x20('+this[_0x32795b(0x670)][_0x32795b(0x6d8)]+'):\x20Fluxos\x20no\x20esto\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x208d71['type']){case _0x32795b(0x2e7):return await this[_0x32795b(0x2c9)](_0x208d71,_0x14e620);case _0x32795b(0x17e):case _0x32795b(0x6da):case'document':return await this[_0x32795b(0x61e)](_0x208d71,_0x14e620);case'audio':return await this[_0x32795b(0x35c)](_0x208d71,_0x14e620);case'flow':let _0x32442d=new He();return _0x32442d[_0x32795b(0x582)]=_0x208d71[_0x32795b(0x429)],_0x32442d[_0x32795b(0x48b)]=_0x14e620,await this[_0x32795b(0x525)](_0x32442d);default:return this[_0x32795b(0x470)][_0x32795b(0x3cc)](this['instanceName']+'\x20('+this[_0x32795b(0x670)][_0x32795b(0x6d8)]+_0x32795b(0x650)+_0x208d71[_0x32795b(0x6e6)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x36071b){return this['logger'][_0x32795b(0x3cc)](this[_0x32795b(0x52d)]+'\x20('+this[_0x32795b(0x670)][_0x32795b(0x6d8)]+_0x32795b(0x488)+(_0x36071b instanceof Error?_0x36071b['message']:JSON[_0x32795b(0x46a)](_0x36071b,null,0x2))),{'error':!0x0,'detail':_0x36071b[_0x32795b(0x653)]};}}async[a0_0x2ec1ea(0x2c9)](_0x13411c,_0x1ca47c){const _0x14cab6=a0_0x2ec1ea;if(this[_0x14cab6(0x470)][_0x14cab6(0x28b)](this[_0x14cab6(0x52d)]+'\x20('+this['instance'][_0x14cab6(0x6d8)]+_0x14cab6(0x733)+_0x1ca47c+'\x27'),!_0x13411c[_0x14cab6(0x2e7)]||_0x13411c[_0x14cab6(0x2e7)][_0x14cab6(0x54d)]===0x0)return{'error':!0x0,'detail':_0x14cab6(0x4ff)};let _0x345ec8=await this[_0x14cab6(0x441)](_0x13411c['text'],_0x1ca47c),_0x14eff2={'number':_0x1ca47c,'options':{'delay':_0x13411c[_0x14cab6(0x3e6)],'linkPreview':_0x13411c[_0x14cab6(0x501)]},'textMessage':{'text':_0x345ec8}},_0x423024=null;try{let _0x180f96=await this[_0x14cab6(0x4f3)](_0x14eff2);if(_0x180f96&&_0x180f96[_0x14cab6(0x3fd)])return{'error':!0x1,'id':_0x180f96['key']['id']};_0x423024=JSON[_0x14cab6(0x46a)](_0x180f96),this['logger'][_0x14cab6(0x28b)](this[_0x14cab6(0x52d)]+'\x20('+this['instance'][_0x14cab6(0x6d8)]+_0x14cab6(0x755)+_0x423024);}catch(_0x20bd93){this[_0x14cab6(0x470)][_0x14cab6(0x3cc)](this[_0x14cab6(0x52d)]+'\x20('+this['instance'][_0x14cab6(0x6d8)]+_0x14cab6(0x37f)+(_0x20bd93 instanceof Error?_0x20bd93[_0x14cab6(0x653)]:JSON[_0x14cab6(0x46a)](_0x20bd93,null,0x2))),_0x423024=_0x20bd93['message'];}if(_0x423024)return{'error':!0x0,'detail':(typeof _0x423024==_0x14cab6(0x7d9)?JSON['stringify'](_0x423024,null,0x2):_0x423024)['replace'](/[\[\]{}\n]/g,'\x20')[_0x14cab6(0x19d)](/  +/g,'\x20')};}async[a0_0x2ec1ea(0x61e)](_0x5a3ad8,_0x322a29){const _0x46d59d=a0_0x2ec1ea;this[_0x46d59d(0x470)][_0x46d59d(0x28b)](this['instanceName']+'\x20('+this['instance'][_0x46d59d(0x6d8)]+'):\x20\x27Enviando\x20mdia\x20para\x20\x27'+_0x322a29+'\x27');let _0x11154c;_0x5a3ad8[_0x46d59d(0x2e7)]&&_0x5a3ad8['text'][_0x46d59d(0x54d)]>0x0&&(_0x11154c=await this[_0x46d59d(0x441)](_0x5a3ad8['text'],_0x322a29));let _0x82a3fa={'number':_0x322a29,'options':{'delay':_0x5a3ad8[_0x46d59d(0x3e6)],'linkPreview':_0x5a3ad8[_0x46d59d(0x501)]},'mediaMessage':{'mediatype':_0x5a3ad8[_0x46d59d(0x6e6)],'caption':_0x11154c,'media':_0x5a3ad8[_0x46d59d(0x730)]}},_0x5f3c5c=null;try{let _0x2c24c0=await this[_0x46d59d(0x187)](_0x82a3fa);if(_0x2c24c0&&_0x2c24c0[_0x46d59d(0x3fd)])return{'error':!0x1,'id':_0x2c24c0[_0x46d59d(0x2e1)]['id']};_0x5f3c5c=JSON[_0x46d59d(0x46a)](_0x2c24c0),this[_0x46d59d(0x470)][_0x46d59d(0x28b)](this[_0x46d59d(0x52d)]+'\x20('+this[_0x46d59d(0x670)][_0x46d59d(0x6d8)]+'):\x20'+_0x5f3c5c);}catch(_0x2bb289){this['logger']['error'](this['instanceName']+'\x20('+this[_0x46d59d(0x670)][_0x46d59d(0x6d8)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x2bb289 instanceof Error?_0x2bb289['message']:JSON['stringify'](_0x2bb289,null,0x2))),_0x5f3c5c=_0x2bb289['message'];}if(_0x5f3c5c)return{'error':!0x0,'detail':(typeof _0x5f3c5c=='object'?JSON['stringify'](_0x5f3c5c,null,0x2):_0x5f3c5c)[_0x46d59d(0x19d)](/[\[\]{}\n]/g,'\x20')[_0x46d59d(0x19d)](/  +/g,'\x20')};}async[a0_0x2ec1ea(0x35c)](_0x584dd0,_0x2c6d9e){const _0xd2360c=a0_0x2ec1ea;this[_0xd2360c(0x470)][_0xd2360c(0x28b)](this[_0xd2360c(0x52d)]+'\x20('+this['instance'][_0xd2360c(0x6d8)]+_0xd2360c(0x7c5)+_0x2c6d9e+'\x27');let _0x43de3b={'number':_0x2c6d9e,'options':{'delay':_0x584dd0[_0xd2360c(0x3e6)]},'audioMessage':{'audio':_0x584dd0[_0xd2360c(0x730)]}},_0x2f81f1=null;try{let _0x5eece6=await this['audioWhatsapp'](_0x43de3b);if(_0x5eece6&&_0x5eece6[_0xd2360c(0x3fd)])return{'error':!0x1,'id':_0x5eece6['key']['id']};_0x2f81f1=JSON[_0xd2360c(0x46a)](_0x5eece6),this[_0xd2360c(0x470)]['verbose'](this[_0xd2360c(0x52d)]+'\x20('+this[_0xd2360c(0x670)][_0xd2360c(0x6d8)]+_0xd2360c(0x755)+_0x2f81f1);}catch(_0x4ae150){this[_0xd2360c(0x470)]['error'](this['instanceName']+'\x20('+this['instance'][_0xd2360c(0x6d8)]+_0xd2360c(0x36c)+(_0x4ae150 instanceof Error?_0x4ae150[_0xd2360c(0x653)]:JSON[_0xd2360c(0x46a)](_0x4ae150,null,0x2))),_0x2f81f1=_0x4ae150[_0xd2360c(0x653)];}if(_0x2f81f1)return{'error':!0x0,'detail':(typeof _0x2f81f1==_0xd2360c(0x7d9)?JSON[_0xd2360c(0x46a)](_0x2f81f1,null,0x2):_0x2f81f1)[_0xd2360c(0x19d)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['groupDesc'](_0x87bf3f){const _0x407cc1=a0_0x2ec1ea;try{return await this[_0x407cc1(0x58b)]['groupUpdateDescription'](_0x87bf3f[_0x407cc1(0x2f3)],_0x87bf3f['description']),{'update':_0x407cc1(0x485)};}catch(_0x5ef64c){let _0x1d709f=_0x407cc1(0x629),_0x36b3f0=_0x5ef64c instanceof Error?_0x5ef64c[_0x407cc1(0x653)]:typeof _0x5ef64c=='object'?JSON[_0x407cc1(0x46a)](_0x5ef64c):_0x5ef64c,_0x5ce7ea=_0x1d709f+':\x20'+_0x36b3f0;throw this[_0x407cc1(0x470)]['error'](this[_0x407cc1(0x52d)]+'\x20('+this[_0x407cc1(0x670)]['wuid']+_0x407cc1(0x755)+_0x5ce7ea),new x(_0x5ce7ea);}}async[a0_0x2ec1ea(0x613)](_0x5f501a){const _0x34b787=a0_0x2ec1ea;try{return await this[_0x34b787(0x58b)]['groupUpdateSubject'](_0x5f501a[_0x34b787(0x2f3)],_0x5f501a[_0x34b787(0x582)]),{'update':'success'};}catch(_0x456173){let _0x475119=_0x34b787(0xfc),_0x55ad87=_0x456173 instanceof Error?_0x456173[_0x34b787(0x653)]:typeof _0x456173=='object'?JSON[_0x34b787(0x46a)](_0x456173):_0x456173,_0x5a8a2c=_0x475119+':\x20'+_0x55ad87;throw this['logger'][_0x34b787(0x3cc)](this[_0x34b787(0x52d)]+'\x20('+this[_0x34b787(0x670)][_0x34b787(0x6d8)]+'):\x20'+_0x5a8a2c),new x(_0x5a8a2c);}}async[a0_0x2ec1ea(0x697)](_0x2cdc0b){const _0x42438b=a0_0x2ec1ea;try{let _0x978292=await this[_0x42438b(0x58b)][_0x42438b(0x13b)](_0x2cdc0b[_0x42438b(0x2f3)],_0x2cdc0b[_0x42438b(0x7a5)]);return{'success':!0x0};}catch(_0x2b82ab){let _0x479a2a='Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral',_0x15933c=_0x2b82ab instanceof Error?_0x2b82ab[_0x42438b(0x653)]:typeof _0x2b82ab==_0x42438b(0x7d9)?JSON[_0x42438b(0x46a)](_0x2b82ab):_0x2b82ab,_0x431329=_0x479a2a+':\x20'+_0x15933c;throw this[_0x42438b(0x470)][_0x42438b(0x3cc)](this[_0x42438b(0x52d)]+'\x20('+this[_0x42438b(0x670)][_0x42438b(0x6d8)]+'):\x20'+_0x431329),new x(_0x431329);}}async[a0_0x2ec1ea(0xce)](_0x20c1b1){const _0x55dd73=a0_0x2ec1ea;try{return await this[_0x55dd73(0x58b)][_0x55dd73(0x5ac)](_0x20c1b1[_0x55dd73(0x2f3)],_0x20c1b1[_0x55dd73(0x6d9)]),{'update':_0x55dd73(0x485)};}catch(_0xfd24ab){let _0x1459b8=_0x55dd73(0x71c),_0xbb496=_0xfd24ab instanceof Error?_0xfd24ab[_0x55dd73(0x653)]:typeof _0xfd24ab==_0x55dd73(0x7d9)?JSON['stringify'](_0xfd24ab):_0xfd24ab,_0x28d75f=_0x1459b8+':\x20'+_0xbb496;throw this[_0x55dd73(0x470)]['error'](this[_0x55dd73(0x52d)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x28d75f),new x(_0x28d75f);}}async[a0_0x2ec1ea(0x6bc)](_0x5eacfc){const _0x1875d5=a0_0x2ec1ea;try{let _0x38b290;if((0x0,k[_0x1875d5(0x7e6)])(_0x5eacfc[_0x1875d5(0x6da)])){let _0x302950=new Date()['getTime'](),_0x540053=_0x5eacfc['image']+'?timestamp='+_0x302950;_0x38b290=(await Z[_0x1875d5(0x4d4)][_0x1875d5(0x63f)](_0x540053,{'responseType':_0x1875d5(0x695)}))[_0x1875d5(0x6c8)];}else{if((0x0,k[_0x1875d5(0x4ba)])(_0x5eacfc[_0x1875d5(0x6da)]))_0x38b290=Buffer[_0x1875d5(0x2eb)](_0x5eacfc['image'],_0x1875d5(0x3ae));else throw new m(_0x1875d5(0x509));}return await this[_0x1875d5(0x58b)][_0x1875d5(0x149)](_0x5eacfc['groupJid'],_0x38b290),{'update':_0x1875d5(0x485)};}catch(_0x20ca7a){let _0x10f1bd=_0x1875d5(0x766),_0x2b3f8c=_0x20ca7a instanceof Error?_0x20ca7a[_0x1875d5(0x653)]:typeof _0x20ca7a==_0x1875d5(0x7d9)?JSON[_0x1875d5(0x46a)](_0x20ca7a):_0x20ca7a,_0x581d56=_0x10f1bd+':\x20'+_0x2b3f8c;throw this[_0x1875d5(0x470)]['error'](this[_0x1875d5(0x52d)]+'\x20('+this['instance'][_0x1875d5(0x6d8)]+_0x1875d5(0x755)+_0x581d56),new x(_0x581d56);}}},Gt=class u{constructor(_0x20b38a,_0x394364,_0x4be7cd){const _0x29c153=a0_0x2ec1ea;this['eventEmitter']=_0x20b38a,this['configService']=_0x394364,this[_0x29c153(0x1f6)]=_0x4be7cd,this['db']={},this[_0x29c153(0x7f0)]={},this[_0x29c153(0x470)]=new $(u[_0x29c153(0x582)]),this[_0x29c153(0x10a)]={},(this[_0x29c153(0x775)](),this[_0x29c153(0xfa)](),Object[_0x29c153(0x2e2)](this['db'],_0x394364[_0x29c153(0x63f)](_0x29c153(0x2c4))),Object['assign'](this[_0x29c153(0x7f0)],_0x394364[_0x29c153(0x63f)](_0x29c153(0x356))),this['dbInstance']=this['db'][_0x29c153(0x4d5)]?this['repository'][_0x29c153(0x4a7)]?.['db'](this['db'][_0x29c153(0x533)][_0x29c153(0x6f4)]+'-instances'):void 0x0,this['cache']=this['redis']['ENABLED']?new he(this[_0x29c153(0x7f0)]):void 0x0);}async['instanceInfo'](_0x1d4f7a){const _0x18af6e=a0_0x2ec1ea;if(_0x1d4f7a&&!this[_0x18af6e(0x10a)][_0x1d4f7a])throw new J(_0x18af6e(0x449)+_0x1d4f7a+_0x18af6e(0x677));let _0x264088=[];for await(let [_0x421035,_0xb0c60b]of Object[_0x18af6e(0x7bc)](this[_0x18af6e(0x10a)]))if(_0xb0c60b&&_0xb0c60b[_0x18af6e(0x288)][_0x18af6e(0x2cb)]===_0x18af6e(0x763)){let _0x21c20e=await this[_0x18af6e(0x1f6)][_0x18af6e(0x39c)]['find'](_0x421035);_0x264088[_0x18af6e(0x7ee)]({'instance':{'instanceName':_0x421035,'apikey':_0x21c20e['apikey'],'owner':_0xb0c60b[_0x18af6e(0x6d8)],'profileName':await _0xb0c60b[_0x18af6e(0x563)]()||_0x18af6e(0x3fc),'profilePictureUrl':_0xb0c60b[_0x18af6e(0x247)]}});}return _0x264088[_0x18af6e(0x3f1)](_0xb06980=>_0xb06980[_0x18af6e(0x670)][_0x18af6e(0x52d)]===_0x1d4f7a)??_0x264088;}async[a0_0x2ec1ea(0x62e)](_0x4d244b){const _0x305aa4=a0_0x2ec1ea;if(this['db'][_0x305aa4(0x4d5)]&&(await this['repository']['dbServer']['connect'](),(await this[_0x305aa4(0x376)][_0x305aa4(0x4c1)]())[_0x305aa4(0x54d)]>0x0&&await this[_0x305aa4(0x376)]['dropCollection'](_0x4d244b)),this[_0x305aa4(0x7f0)][_0x305aa4(0x4d5)]){this[_0x305aa4(0xa7)][_0x305aa4(0x130)]=_0x4d244b,await this['cache'][_0x305aa4(0x2fb)]();return;}}async[a0_0x2ec1ea(0x669)](){const _0xcbda2d=a0_0x2ec1ea;await this['InstancesAlterarTodas']();let _0x599d5c=async _0x241ad4=>{const _0x18847f=a0_0x5390;let _0x248d98=new $e(this['configService'],this['eventEmitter'],this['repository']);_0x248d98['instanceName']=_0x241ad4,await _0x248d98[_0x18847f(0x135)](),this[_0x18847f(0x10a)][_0x241ad4]=_0x248d98;};try{if(this[_0xcbda2d(0x7f0)]['ENABLED']){let _0x24ba7a=await this['cache'][_0xcbda2d(0x6ee)]();_0x24ba7a?.[_0xcbda2d(0x54d)]>0x0&&_0x24ba7a[_0xcbda2d(0x487)](async _0x2dd4e2=>await _0x599d5c(_0x2dd4e2[_0xcbda2d(0x1e1)](':')[0x1]));return;}if(this['db'][_0xcbda2d(0x4d5)]){await this[_0xcbda2d(0x1f6)]['dbServer']['connect']();let _0x143947=await this['dbInstance'][_0xcbda2d(0x4c1)]();_0x143947[_0xcbda2d(0x54d)]>0x0&&_0x143947[_0xcbda2d(0x487)](async _0x98e4c1=>await _0x599d5c(_0x98e4c1[_0xcbda2d(0x27a)][_0xcbda2d(0x19d)](/^[\w-]+\./,'')));return;}}catch(_0x824c28){this[_0xcbda2d(0x470)][_0xcbda2d(0x3cc)](_0x824c28);}}async[a0_0x2ec1ea(0x257)](){const _0x3d25a0=a0_0x2ec1ea;try{let _0x57f27a=await this['repository'][_0x3d25a0(0x39c)][_0x3d25a0(0x26e)]({'online':!0x1});for(let _0x5ba232 of _0x57f27a){let _0x27e5e0=_0x5ba232['_id'];await oe[_0x3d25a0(0x397)](K,_0x27e5e0);}console[_0x3d25a0(0x6d4)](_0x3d25a0(0x1d9)+_0x57f27a[_0x3d25a0(0x54d)]);let _0x53accf={'online':!0x1},_0x168815=await this[_0x3d25a0(0x1f6)][_0x3d25a0(0x39c)][_0x3d25a0(0x206)](_0x53accf);console[_0x3d25a0(0x6d4)]('Instncias\x20removidas:\x20'+_0x168815[_0x3d25a0(0x38f)]);}catch(_0x4d2ab0){console['error'](_0x3d25a0(0x50e),_0x4d2ab0);}}async[a0_0x2ec1ea(0x667)](){const _0x433acd=a0_0x2ec1ea;try{let _0x1df0ef={'online':!0x1},_0x15b4d8={'online':!0x1,'lastDisconnect':Date[_0x433acd(0x493)]()},_0x433f1e=await this['repository']['auth'][_0x433acd(0x79d)](_0x1df0ef,_0x15b4d8);await this[_0x433acd(0x257)]();}catch(_0x15b992){console[_0x433acd(0x3cc)]('Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:',_0x15b992);}}[a0_0x2ec1ea(0x775)](){const _0x53a1e2=a0_0x2ec1ea;this['eventEmitter']['on'](_0x53a1e2(0x44c),async _0x2d8474=>{const _0x254cbf=_0x53a1e2;try{this[_0x254cbf(0x10a)][_0x2d8474]=void 0x0;}catch{}try{this[_0x254cbf(0x62e)](_0x2d8474);}finally{this['logger'][_0x254cbf(0x3bf)]('Instance\x20\x22'+_0x2d8474+_0x254cbf(0x4a2));}});}['noConnection'](){const _0x237aa1=a0_0x2ec1ea;this[_0x237aa1(0x388)]['on'](_0x237aa1(0x4c9),async _0x7c2ccd=>{const _0x576ada=_0x237aa1;try{this['waInstances'][_0x7c2ccd]=void 0x0;}catch{}try{this[_0x576ada(0x62e)](_0x7c2ccd);}finally{this['logger'][_0x576ada(0x3bf)]('Instance\x20\x22'+_0x7c2ccd+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Bt=class extends _{[a0_0x2ec1ea(0x688)](_0x27b834){return sa(_0x27b834);}async[a0_0x2ec1ea(0x75b)](_0x457354){const _0x41aa05=a0_0x2ec1ea;if(_0x457354[_0x41aa05(0x54d)]!==0x0)try{return{'insertCount':(await this[_0x41aa05(0x688)](_0x457354[0x0][_0x41aa05(0x4dd)])['insertMany']([..._0x457354]))[_0x41aa05(0x54d)]};}catch(_0x1d141d){return _0x1d141d;}}async[a0_0x2ec1ea(0x3f1)](_0x178e41,_0x30ca8c){const _0x2e672d=a0_0x2ec1ea;try{let _0x410a63=this['getChatModelForOwner'](_0x30ca8c),_0x2f6995=I(_0x178e41['where']);return await _0x410a63[_0x2e672d(0x3f1)](_0x2f6995)['sort']({'lastmsg':-0x1})[_0x2e672d(0x497)](_0x178e41?.[_0x2e672d(0x497)]??0x0)['lean']();}catch{return[];}}async[a0_0x2ec1ea(0x76d)](_0x1bece8,_0x5095f){const _0x5078d8=a0_0x2ec1ea;try{let _0x1407e3=this[_0x5078d8(0x688)](_0x5095f),_0x19a0e1=I(_0x1bece8[_0x5078d8(0xa1)]);return _0x19a0e1['groupdata.participants']={'$ne':[]},await _0x1407e3['find'](_0x19a0e1)['sort']({'lastmsg':-0x1})['limit'](_0x1bece8?.[_0x5078d8(0x497)]??0x0)[_0x5078d8(0x679)]();}catch{return[];}}async[a0_0x2ec1ea(0x31e)](_0x293a0d,_0x23807c){const _0x215c6f=a0_0x2ec1ea;try{return{'deletedCount':(await this[_0x215c6f(0x688)](_0x23807c)[_0x215c6f(0x206)]({..._0x293a0d['where']}))[_0x215c6f(0x608)]};}catch(_0x53ed4f){return{'error':_0x53ed4f?.[_0x215c6f(0x4e0)]()};}}async[a0_0x2ec1ea(0x63a)](_0x53d3d5,_0x53d2e4){const _0x16bdb4=a0_0x2ec1ea;try{return await this[_0x16bdb4(0x688)](_0x53d2e4)[_0x16bdb4(0x206)]({..._0x53d3d5[_0x16bdb4(0xa1)]}),[];}catch(_0x5a8148){return{'error':_0x5a8148?.[_0x16bdb4(0x4e0)]()};}}async[a0_0x2ec1ea(0x167)](_0x43e18e,_0x4542cc){const _0x57cc53=a0_0x2ec1ea;try{let _0x290e94=this['getChatModelForOwner'](_0x4542cc),_0x59ee08=I(_0x43e18e['where']);return await _0x290e94[_0x57cc53(0x167)](_0x59ee08)[_0x57cc53(0x679)]();}catch{return null;}}async['updateOne'](_0x3cdc84,_0x1b7d7e,_0x3c2208,_0x195237,_0x3c67a8=a0_0x2ec1ea(0x406)){const _0x115245=a0_0x2ec1ea;try{let _0x295910={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x195237},_0x13e55b=this[_0x115245(0x688)](_0x3c2208),_0x444e02=I(_0x3cdc84[_0x115245(0xa1)]);Object['keys'](_0x1b7d7e)[_0x115245(0x487)](_0x130caa=>{_0x1b7d7e[_0x130caa]==null&&delete _0x1b7d7e[_0x130caa];});let _0x1e48cd={};return _0x1e48cd[_0x3c67a8]=_0x1b7d7e,await _0x13e55b[_0x115245(0x1f9)](_0x444e02,_0x1e48cd,_0x295910);}catch(_0x6cce74){return console[_0x115245(0x3cc)](_0x6cce74),null;}}async[a0_0x2ec1ea(0x44e)](_0x29a60a){const _0x478a57=a0_0x2ec1ea;try{let _0x40d99c=this[_0x478a57(0x688)](_0x29a60a[0x0][_0x478a57(0x736)][_0x478a57(0xa1)][_0x478a57(0x4dd)]),_0x44aea7=_0x29a60a[_0x478a57(0x3ac)](_0x19cd0b=>({'updateOne':{'filter':{..._0x19cd0b[_0x478a57(0x736)]['where']},'update':{'$set':_0x19cd0b[_0x478a57(0x4d2)]},'upsert':!0x0}})),_0x4e302d=await _0x40d99c[_0x478a57(0x6b7)](_0x44aea7);return _0x4e302d[_0x478a57(0x56b)]+_0x4e302d[_0x478a57(0x6cb)];}catch(_0x40caaf){return console['error'](_0x40caaf),0x0;}}async['removeUnusedChatFields'](_0xdf2323){const _0x434408=a0_0x2ec1ea;try{let _0x178074={'group_isCommunity':'','group_announce':'','group_size':''},_0xa01c6e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x14c1cb={'$unset':_0x178074};return(await this['getChatModelForOwner'](_0xdf2323)['updateMany'](_0xa01c6e,_0x14c1cb))[_0x434408(0x56b)];}catch(_0x437d92){return console['error']('Error\x20removing\x20unused\x20chat\x20fields:',_0x437d92),0x0;}}async[a0_0x2ec1ea(0x7ac)](_0x45f58f){const _0x3c9efd=a0_0x2ec1ea;try{let _0x212f01=this['getChatModelForOwner'](_0x45f58f),_0x1a3437={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5dcd7b={'$set':{'leadInfo.etiquetas':[]}};return(await _0x212f01[_0x3c9efd(0x44e)](_0x1a3437,_0x5dcd7b))[_0x3c9efd(0x56b)];}catch(_0x372263){return console[_0x3c9efd(0x3cc)](_0x372263),0x0;}}async['updateMissingTags'](_0x3be0fc){const _0x3c47b8=a0_0x2ec1ea;try{let _0x403777=this[_0x3c47b8(0x688)](_0x3be0fc),_0x1a25a2={'leadInfo.tags':{'$exists':!0x1}},_0x242e48={'$set':{'leadInfo.tags':[]}};return(await _0x403777['updateMany'](_0x1a25a2,_0x242e48))[_0x3c47b8(0x56b)];}catch(_0x543107){return console[_0x3c47b8(0x3cc)](_0x543107),0x0;}}async[a0_0x2ec1ea(0x656)](_0x56f8fb){const _0x363505=a0_0x2ec1ea;try{let _0x3195b1=this[_0x363505(0x688)](_0x56f8fb),_0x3a7dae={'leadInfo.customFields':{'$exists':!0x1}},_0x5431b5={'$set':{'leadInfo.customFields':[]}};return(await _0x3195b1[_0x363505(0x44e)](_0x3a7dae,_0x5431b5))[_0x363505(0x56b)];}catch(_0x18496f){return console[_0x363505(0x3cc)](_0x18496f),0x0;}}async['insertMany'](_0xf18c25,_0x3bdc1b){const _0x5ebc02=a0_0x2ec1ea;if(!Array[_0x5ebc02(0x158)](_0xf18c25)||_0xf18c25[_0x5ebc02(0x54d)]===0x0)throw new Error(_0x5ebc02(0x186));try{return(await this[_0x5ebc02(0x688)](_0x3bdc1b)['insertMany'](_0xf18c25))[_0x5ebc02(0x54d)];}catch(_0x232973){throw console[_0x5ebc02(0x3cc)](_0x5ebc02(0x475),_0x232973),_0x232973;}}async[a0_0x2ec1ea(0x624)](_0x24bfb3,_0x267a2b){const _0xbae8dd=a0_0x2ec1ea;try{await this[_0xbae8dd(0x688)](_0x267a2b)['deleteOne']({'_id':_0x24bfb3});}catch(_0x5d0166){throw console[_0xbae8dd(0x3cc)](_0xbae8dd(0x147),_0x5d0166),_0x5d0166;}}},Wt=class extends _{constructor(_0x1e3a80,_0x5a659a,_0x22c445){const _0x245856=a0_0x2ec1ea;super(_0x5a659a),this[_0x245856(0xea)]=_0x1e3a80,this[_0x245856(0x426)]=_0x5a659a,this[_0x245856(0x383)]=_0x22c445;}async[a0_0x2ec1ea(0x75b)](_0x5e165){const _0x29cd87=a0_0x2ec1ea;if(_0x5e165[_0x29cd87(0x54d)]!==0x0)try{return{'insertCount':(await this[_0x29cd87(0xea)][_0x29cd87(0x586)]([..._0x5e165]))['length']};}catch(_0x295010){return _0x295010;}}async[a0_0x2ec1ea(0x4d2)](_0x13bb54,_0x2f318f){const _0x34fcd0=a0_0x2ec1ea;try{let _0x1e9f5b=I(_0x13bb54[_0x34fcd0(0xa1)]);return{'updatedCount':(await this[_0x34fcd0(0xea)][_0x34fcd0(0x44e)](_0x1e9f5b,{'$set':_0x2f318f}))[_0x34fcd0(0x56b)]};}catch(_0x55a8bf){return console['error']('Error\x20updating\x20cache\x20contact:',_0x55a8bf),{'error':_0x55a8bf[_0x34fcd0(0x4e0)]()};}}async['findManyByIds'](_0x20885b){const _0x4325f0=a0_0x2ec1ea;try{let _0x52d9a8={'_id':{'$in':_0x20885b}};return await this[_0x4325f0(0xea)][_0x4325f0(0x3f1)](_0x52d9a8)['lean']();}catch(_0x54d23c){return console['error']('Error\x20finding\x20many\x20contacts:',_0x54d23c),[];}}async[a0_0x2ec1ea(0x31e)](_0xbf73fd){const _0x1db380=a0_0x2ec1ea;try{return{'deletedCount':(await this[_0x1db380(0xea)][_0x1db380(0x206)]({..._0xbf73fd[_0x1db380(0xa1)]}))[_0x1db380(0x608)]};}catch(_0x470f5e){return{'error':_0x470f5e?.[_0x1db380(0x4e0)]()};}}async[a0_0x2ec1ea(0x3f1)](_0x24374f){const _0x242d7f=a0_0x2ec1ea;try{let _0x1c0ec3=I(_0x24374f[_0x242d7f(0xa1)]);return await this[_0x242d7f(0xea)][_0x242d7f(0x3f1)](_0x1c0ec3)[_0x242d7f(0x497)](_0x24374f?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x2ec1ea(0x167)](_0x5667dd){const _0x483311=a0_0x2ec1ea;try{let _0x38a2e1=I(_0x5667dd[_0x483311(0xa1)]);return await this[_0x483311(0xea)][_0x483311(0x167)](_0x38a2e1)[_0x483311(0x679)]();}catch{return null;}}},zt=class extends _{['getLabelModelForOwner'](_0x578ddd){return va(_0x578ddd);}async['updateOne'](_0x20245e,_0x3b64fb,_0x5b3ad3,_0x3392c0){const _0x45997f=a0_0x2ec1ea;try{let _0x54a54d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3392c0},_0x6b1a1b=this['getLabelModelForOwner'](_0x5b3ad3),_0x50058b=I(_0x20245e['where']);return await _0x6b1a1b['findOneAndUpdate'](_0x50058b,{'$set':_0x3b64fb},_0x54a54d);}catch(_0x50b943){return console[_0x45997f(0x3cc)](_0x50b943),null;}}async[a0_0x2ec1ea(0x3f1)](_0x34b18c,_0x30cb20){const _0x554522=a0_0x2ec1ea;try{let _0x2b9373=this[_0x554522(0x552)](_0x30cb20),_0x337af7=I(_0x34b18c['where']);return await _0x2b9373[_0x554522(0x3f1)](_0x337af7);}catch(_0x1bd78d){console[_0x554522(0x3cc)](_0x1bd78d);}}async[a0_0x2ec1ea(0x31e)](_0x4986dc,_0x29052b){const _0x1dd873=a0_0x2ec1ea;try{let _0x3a47de=this[_0x1dd873(0x552)](_0x29052b),_0x54f771=I(_0x4986dc[_0x1dd873(0xa1)]);await _0x3a47de[_0x1dd873(0x206)](_0x54f771);}catch(_0x4bfe52){console[_0x1dd873(0x3cc)](_0x4bfe52);}}async[a0_0x2ec1ea(0x63a)](_0x56d5ca){const _0x4a445f=a0_0x2ec1ea;try{return await this[_0x4a445f(0x552)](_0x56d5ca)[_0x4a445f(0x154)][_0x4a445f(0x635)](),{'success':!0x0};}catch(_0x25b6b4){return console[_0x4a445f(0x3cc)](_0x25b6b4),{'success':!0x1,'error':_0x25b6b4};}}},Ht=class{constructor(_0x40a143){this['waMonitor']=_0x40a143;}async[a0_0x2ec1ea(0x3cb)]({instanceName:_0x2093d6},_0x447046){const _0x355020=a0_0x2ec1ea;return await this['waMonitor']['waInstances'][_0x2093d6][_0x355020(0x3cb)](_0x447046);}async[a0_0x2ec1ea(0x382)]({instanceName:_0x13741c},_0x53faaf){const _0xd5055f=a0_0x2ec1ea;return await this[_0xd5055f(0x342)][_0xd5055f(0x10a)][_0x13741c][_0xd5055f(0x382)](_0x53faaf);}async[a0_0x2ec1ea(0x338)]({instanceName:_0x495806},_0x9ad57){const _0xc4ea75=a0_0x2ec1ea;return await this[_0xc4ea75(0x342)][_0xc4ea75(0x10a)][_0x495806][_0xc4ea75(0x338)](_0x9ad57);}async[a0_0x2ec1ea(0x735)]({instanceName:_0x2fd768},_0x322a43){const _0x562d68=a0_0x2ec1ea;return await this[_0x562d68(0x342)][_0x562d68(0x10a)][_0x2fd768]['markMessageAsRead'](_0x322a43);}async['archiveChat']({instanceName:_0x4c4eb2},_0x3e9440){const _0x4c5493=a0_0x2ec1ea;return await this[_0x4c5493(0x342)][_0x4c5493(0x10a)][_0x4c4eb2]['archiveChat'](_0x3e9440);}async[a0_0x2ec1ea(0x48a)]({instanceName:_0x51f279},_0x4caa77){const _0x2c6ccf=a0_0x2ec1ea;return await this[_0x2c6ccf(0x342)][_0x2c6ccf(0x10a)][_0x51f279][_0x2c6ccf(0x48a)](_0x4caa77);}async[a0_0x2ec1ea(0x30f)]({instanceName:_0x35b0dd},_0x2b333c){const _0x184557=a0_0x2ec1ea;return await this['waMonitor'][_0x184557(0x10a)][_0x35b0dd][_0x184557(0x38b)](_0x2b333c[_0x184557(0x2fa)]);}async[a0_0x2ec1ea(0x55a)]({instanceName:_0x236226},_0x10809a){const _0x363096=a0_0x2ec1ea;return await this['waMonitor'][_0x363096(0x10a)][_0x236226]['fetchProfile'](_0x10809a[_0x363096(0x2fa)]);}async[a0_0x2ec1ea(0x1a6)]({instanceName:_0x1507fd},_0x3a2250){const _0x379111=a0_0x2ec1ea;return await this[_0x379111(0x342)][_0x379111(0x10a)][_0x1507fd][_0x379111(0x1a6)](_0x3a2250);}async[a0_0x2ec1ea(0x25f)]({instanceName:_0x2ce6a6},_0x295457){const _0x52fdd2=a0_0x2ec1ea;return await this[_0x52fdd2(0x342)][_0x52fdd2(0x10a)][_0x2ce6a6][_0x52fdd2(0x25f)](_0x295457);}async[a0_0x2ec1ea(0x2f5)]({instanceName:_0xdae1a},_0x44dd9f){const _0x2ec8ae=a0_0x2ec1ea;return await this[_0x2ec8ae(0x342)]['waInstances'][_0xdae1a][_0x2ec8ae(0x2f5)](_0x44dd9f);}async[a0_0x2ec1ea(0x36f)]({instanceName:_0x6b9be0},_0x28ebee){const _0x296d07=a0_0x2ec1ea;return await this[_0x296d07(0x342)][_0x296d07(0x10a)][_0x6b9be0]['fetchMessages'](_0x28ebee);}async[a0_0x2ec1ea(0x789)]({instanceName:_0x28124b}){const _0x1c631c=a0_0x2ec1ea;return await this[_0x1c631c(0x342)][_0x1c631c(0x10a)][_0x28124b]['fetchLabels']();}async[a0_0x2ec1ea(0x49e)]({instanceName:_0x3b2382}){const _0x227ced=a0_0x2ec1ea;return await this[_0x227ced(0x342)][_0x227ced(0x10a)][_0x3b2382]['fetchChats']();}async[a0_0x2ec1ea(0x7b4)]({instanceName:_0x345d9c}){const _0x5ec6e4=a0_0x2ec1ea;return await this[_0x5ec6e4(0x342)][_0x5ec6e4(0x10a)][_0x345d9c]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x34de99},_0x225baa){const _0x537343=a0_0x2ec1ea;return await this[_0x537343(0x342)][_0x537343(0x10a)][_0x34de99][_0x537343(0x2b3)](_0x225baa);}async[a0_0x2ec1ea(0x6b2)]({instanceName:_0x5abc44},_0xb8224b){const _0x201f2a=a0_0x2ec1ea;return await this[_0x201f2a(0x342)][_0x201f2a(0x10a)][_0x5abc44][_0x201f2a(0x6b2)](_0xb8224b['number']);}async[a0_0x2ec1ea(0x4bd)]({instanceName:_0x563db8},_0x1aeeb4){const _0x1a27e8=a0_0x2ec1ea;return await this[_0x1a27e8(0x342)][_0x1a27e8(0x10a)][_0x563db8][_0x1a27e8(0x4bd)](_0x1aeeb4[_0x1a27e8(0x582)]);}async[a0_0x2ec1ea(0x4d1)]({instanceName:_0x18cba7},_0x2b314e){const _0x56da04=a0_0x2ec1ea;return await this[_0x56da04(0x342)][_0x56da04(0x10a)][_0x18cba7][_0x56da04(0x4d1)](_0x2b314e[_0x56da04(0x3fd)]);}async['updateProfilePicture']({instanceName:_0x1809c3},_0x1f8cdb){const _0x5322bd=a0_0x2ec1ea;return await this['waMonitor'][_0x5322bd(0x10a)][_0x1809c3][_0x5322bd(0x149)](_0x1f8cdb['picture']);}async['removeProfilePicture']({instanceName:_0xe10b13},_0x5ae16e){const _0x45fc97=a0_0x2ec1ea;return await this['waMonitor']['waInstances'][_0xe10b13][_0x45fc97(0x25a)]();}},Kt=require(a0_0x2ec1ea(0x117)),Qt=class u{constructor(_0x4e782b,_0x2da13d,_0x4bb3c7,_0x53ff8e,_0x38760f){const _0x5d677c=a0_0x2ec1ea;this[_0x5d677c(0x342)]=_0x4e782b,this['configService']=_0x2da13d,this[_0x5d677c(0x1f6)]=_0x4bb3c7,this[_0x5d677c(0x388)]=_0x53ff8e,this[_0x5d677c(0x6e9)]=_0x38760f,this[_0x5d677c(0x470)]=new $(u[_0x5d677c(0x582)]);}async[a0_0x2ec1ea(0x17b)]({instanceName:_0x59e558,apikey:_0x2bab92,number:_0x50b272,proxy:_0x4903e0=!0x0}){const _0x58dd09=a0_0x2ec1ea;try{let _0x2f24b1=new $e(this[_0x58dd09(0x426)],this['eventEmitter'],this[_0x58dd09(0x1f6)]);_0x2f24b1[_0x58dd09(0x52d)]=_0x59e558,this['waMonitor'][_0x58dd09(0x10a)][_0x2f24b1['instanceName']]=_0x2f24b1;let _0x29619d={};_0x2bab92?(await this[_0x58dd09(0x1f6)][_0x58dd09(0x39c)][_0x58dd09(0x14b)]({'apikey':_0x2bab92},_0x59e558),_0x29619d[_0x58dd09(0x60d)]=_0x2bab92):_0x29619d=await this[_0x58dd09(0x6e9)][_0x58dd09(0x4fd)]({'instanceName':_0x2f24b1[_0x58dd09(0x52d)]});let _0x580647;if(_0x50b272){if(_0x580647=await this[_0x58dd09(0x555)](_0x50b272),_0x580647['error'])throw new x(_0x580647[_0x58dd09(0x3cc)][_0x58dd09(0x4e0)]());_0x50b272=_0x580647[_0x58dd09(0x2fa)];}let _0x42c9f0;return await _0x2f24b1[_0x58dd09(0x135)](_0x50b272),await(0x0,Kt['delay'])(0xfa0),_0x50b272&&await(0x0,Kt[_0x58dd09(0x3e6)])(0xbb8),_0x42c9f0=_0x2f24b1['qrCode'],{'instance':{'instanceName':_0x2f24b1['instanceName'],'status':_0x58dd09(0x762)},'hash':_0x29619d,'qrcode':_0x42c9f0};}catch(_0x194f76){throw this[_0x58dd09(0x470)]['error'](_0x194f76),_0x194f76;}}async['connectToWhatsappController']({instanceName:_0x262b83,number:_0x5423aa=null}){const _0x12ed01=a0_0x2ec1ea;try{let _0xdb3a9b=this[_0x12ed01(0x342)][_0x12ed01(0x10a)][_0x262b83];switch(_0xdb3a9b?.[_0x12ed01(0x288)]?.[_0x12ed01(0x2cb)]){case _0x12ed01(0x675):return await _0xdb3a9b[_0x12ed01(0x135)](_0x5423aa),await(0x0,Kt[_0x12ed01(0x3e6)])(0x7d0),_0xdb3a9b[_0x12ed01(0x2e0)];case _0x12ed01(0x78d):return _0xdb3a9b['qrCode'];default:return await this[_0x12ed01(0x168)]({'instanceName':_0x262b83});}}catch(_0xc341df){this['logger'][_0x12ed01(0x6d4)](_0xc341df);}}async[a0_0x2ec1ea(0x168)]({instanceName:_0x396484}){const _0x5880f4=a0_0x2ec1ea;let _0x3c93f7=this[_0x5880f4(0x342)][_0x5880f4(0x10a)][_0x396484]['connectionStatus'],_0x4a8be8=null;_0x3c93f7[_0x5880f4(0x2cb)]===_0x5880f4(0x763)&&_0x396484&&(_0x4a8be8=await this[_0x5880f4(0x342)][_0x5880f4(0x367)](_0x396484));let _0x58b12a=null;return _0x3c93f7['state']==='connecting'&&_0x396484&&(_0x58b12a=this[_0x5880f4(0x342)]['waInstances'][_0x396484]['qrCode']),{'instance':_0x396484,'connectionStatus':_0x3c93f7,'instanceInfo':_0x4a8be8,'qrcode':_0x58b12a};}async['verifyWhatsAppNumber'](_0x1e16d7){const _0x24c636=a0_0x2ec1ea;_0x1e16d7=_0x1e16d7[_0x24c636(0x19d)](/\D/g,'');let _0x49316c=Object[_0x24c636(0x6b5)](this[_0x24c636(0x342)][_0x24c636(0x10a)])[_0x24c636(0x666)](_0xa430e1=>{const _0x3036aa=_0x24c636;let _0x17d33c=this['waMonitor'][_0x3036aa(0x10a)][_0xa430e1];return _0x17d33c&&_0x17d33c[_0x3036aa(0x288)]&&_0x17d33c[_0x3036aa(0x288)][_0x3036aa(0x2cb)]==='open';});if(_0x49316c['length']===0x0)return{'number':this[_0x24c636(0x5c3)](_0x1e16d7)};let _0xf67276=Math[_0x24c636(0x183)](Math[_0x24c636(0x1af)]()*_0x49316c['length']),_0x10739d=_0x49316c[_0xf67276];try{let _0x53bee7=(await this['waMonitor']['waInstances'][_0x10739d][_0x24c636(0x382)]({'numbers':[_0x1e16d7]}))[_0x24c636(0x2b4)]();return _0x53bee7[_0x24c636(0x562)]?{'number':_0x53bee7[_0x24c636(0x279)][_0x24c636(0x19d)](_0x24c636(0x46f),'')}:{'number':_0x1e16d7,'error':_0x24c636(0x59e)};}catch(_0x296841){return this['logger'][_0x24c636(0x3cc)]('Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:'+_0x296841),{'number':_0x1e16d7,'error':'Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.'};}}[a0_0x2ec1ea(0x5c3)](_0xf7d66e){const _0x5a457f=a0_0x2ec1ea;let _0x31d7d2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5a457f(0x11f)](_0xf7d66e);if(_0x31d7d2&&_0x31d7d2[0x1]==='55'){let _0x24518d=_0x31d7d2[0x2],_0x32c24d=_0x31d7d2[0x3],_0x50928c=_0x31d7d2[0x4];if(parseInt(_0x24518d)>=0x1f&&_0x32c24d==='9')return _0x31d7d2[0x1]+_0x24518d+_0x50928c;}return _0xf7d66e;}async[a0_0x2ec1ea(0x230)]({instanceName:_0x62b453}){const _0x30c899=a0_0x2ec1ea;try{return this['waMonitor'][_0x30c899(0x10a)][_0x62b453]?.[_0x30c899(0x58b)]?.['ws']?.[_0x30c899(0x675)](),{'status':_0x30c899(0x757),'error':!0x1,'response':{'message':_0x30c899(0x3b2)}};}catch(_0x3d06e4){this['logger']['error'](_0x3d06e4);}}async[a0_0x2ec1ea(0x347)]({instanceName:_0x32512a}){const _0x1f8f3f=a0_0x2ec1ea;return _0x32512a?this[_0x1f8f3f(0x342)][_0x1f8f3f(0x367)](_0x32512a):this[_0x1f8f3f(0x342)]['instanceInfo']();}async[a0_0x2ec1ea(0x3a5)]({instanceName:_0x581dcd}){const _0x48cf05=a0_0x2ec1ea;try{return await this[_0x48cf05(0x342)][_0x48cf05(0x10a)][_0x581dcd]?.[_0x48cf05(0x58b)]?.[_0x48cf05(0x3a5)](_0x48cf05(0x3ff)+_0x581dcd),{'error':!0x1,'message':_0x48cf05(0x337)};}catch(_0x511919){throw new x(_0x511919[_0x48cf05(0x4e0)]());}}async[a0_0x2ec1ea(0x62f)]({instanceName:_0x43b177}){const _0x1009bd=a0_0x2ec1ea;if((await this['connectionState']({'instanceName':_0x43b177}))[_0x1009bd(0x288)][_0x1009bd(0x2cb)]===_0x1009bd(0x763))throw new m(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1009bd(0x342)]['waInstances'][_0x43b177],{'error':!0x1,'message':_0x1009bd(0xbf)};}catch(_0xe67c13){throw new m(_0xe67c13['toString']());}}},re=require(a0_0x2ec1ea(0x690)),Yt=class{constructor(_0x29efa2){const _0x318a6d=a0_0x2ec1ea;this[_0x318a6d(0x342)]=_0x29efa2;}async[a0_0x2ec1ea(0x1e3)]({instanceName:_0x5272e5},_0x1ddf3f){const _0x3b0163=a0_0x2ec1ea;return await this[_0x3b0163(0x342)]['waInstances'][_0x5272e5][_0x3b0163(0x4f3)](_0x1ddf3f);}async[a0_0x2ec1ea(0x5ca)]({instanceName:_0x8f2529},_0x34ffe2){const _0x440af7=a0_0x2ec1ea;return await this[_0x440af7(0x342)][_0x440af7(0x10a)][_0x8f2529][_0x440af7(0x7a6)](_0x34ffe2);}async[a0_0x2ec1ea(0x24f)]({instanceName:_0x23d5aa},_0x39503f){const _0x2a442d=a0_0x2ec1ea;if((0x0,re['isBase64'])(_0x39503f?.['mediaMessage']?.[_0x2a442d(0x3e1)])&&!_0x39503f?.[_0x2a442d(0x187)]?.[_0x2a442d(0x51b)])throw new m(_0x2a442d(0x707));if((0x0,re[_0x2a442d(0x7e6)])(_0x39503f?.['mediaMessage']?.[_0x2a442d(0x3e1)])||(0x0,re[_0x2a442d(0x4ba)])(_0x39503f?.['mediaMessage']?.[_0x2a442d(0x3e1)]))return await this['waMonitor']['waInstances'][_0x23d5aa][_0x2a442d(0x187)](_0x39503f);throw new m(_0x2a442d(0x6c3));}async[a0_0x2ec1ea(0x4ea)]({instanceName:_0x250dd0},_0x3ea8a7){const _0x5654fd=a0_0x2ec1ea;if((0x0,re[_0x5654fd(0x7e6)])(_0x3ea8a7[_0x5654fd(0x17c)]['image'])||(0x0,re[_0x5654fd(0x4ba)])(_0x3ea8a7['stickerMessage']['image']))return await this[_0x5654fd(0x342)]['waInstances'][_0x250dd0][_0x5654fd(0x606)](_0x3ea8a7);throw new m(_0x5654fd(0x6c3));}async[a0_0x2ec1ea(0x40b)]({instanceName:_0x33cb81},_0x1440b0){const _0x1e6a5d=a0_0x2ec1ea;if((0x0,re[_0x1e6a5d(0x7e6)])(_0x1440b0[_0x1e6a5d(0x768)]['audio'])||(0x0,re[_0x1e6a5d(0x4ba)])(_0x1440b0['audioMessage']['audio']))return await this[_0x1e6a5d(0x342)]['waInstances'][_0x33cb81][_0x1e6a5d(0x69d)](_0x1440b0);throw new m(_0x1e6a5d(0x6c3));}async[a0_0x2ec1ea(0x45f)]({instanceName:_0x25bdc5},_0x2ff476){const _0x328017=a0_0x2ec1ea;if((0x0,re[_0x328017(0x4ba)])(_0x2ff476[_0x328017(0x7ef)]['mediaMessage']?.[_0x328017(0x3e1)])&&!_0x2ff476[_0x328017(0x7ef)][_0x328017(0x187)]?.[_0x328017(0x51b)])throw new m(_0x328017(0x707));return await this[_0x328017(0x342)][_0x328017(0x10a)][_0x25bdc5][_0x328017(0x7ef)](_0x2ff476);}async[a0_0x2ec1ea(0x58f)]({instanceName:_0x4ca4bd},_0x755320){const _0x4b166f=a0_0x2ec1ea;return await this['waMonitor'][_0x4b166f(0x10a)][_0x4ca4bd]['locationMessage'](_0x755320);}async[a0_0x2ec1ea(0x299)]({instanceName:_0x5e58d0},_0x35610c){const _0x4e534c=a0_0x2ec1ea;return await this[_0x4e534c(0x342)][_0x4e534c(0x10a)][_0x5e58d0][_0x4e534c(0x245)](_0x35610c);}async[a0_0x2ec1ea(0x146)]({instanceName:_0x205ef5},_0x594e17){const _0x29dc00=a0_0x2ec1ea;return await this[_0x29dc00(0x342)][_0x29dc00(0x10a)][_0x205ef5][_0x29dc00(0x196)](_0x594e17);}async[a0_0x2ec1ea(0x3d8)]({instanceName:_0x2e1fa8},_0x22eac1){return await this['waMonitor']['waInstances'][_0x2e1fa8]['contactMessage'](_0x22eac1);}async[a0_0x2ec1ea(0x128)]({instanceName:_0x109bf5},_0x2bf273){const _0xd1d25b=a0_0x2ec1ea;if(!_0x2bf273[_0xd1d25b(0x4de)]['reaction'][_0xd1d25b(0x6f8)](/[^\(\)\w\s-"-\+]+/))throw new m(_0xd1d25b(0x5c2));return await this[_0xd1d25b(0x342)][_0xd1d25b(0x10a)][_0x109bf5][_0xd1d25b(0x4de)](_0x2bf273);}async[a0_0x2ec1ea(0x2ea)]({instanceName:_0x3a4957},_0xfb4fab){const _0x4568e8=a0_0x2ec1ea;return await this[_0x4568e8(0x342)]['waInstances'][_0x3a4957][_0x4568e8(0x56e)](_0xfb4fab);}},ki=require(a0_0x2ec1ea(0x5e3)),Us=require(a0_0x2ec1ea(0x520)),Xt=class u{constructor(_0x3d1ba9,_0x439ffd,_0x5679ab){const _0x36de1d=a0_0x2ec1ea;this[_0x36de1d(0x426)]=_0x3d1ba9,this[_0x36de1d(0x342)]=_0x439ffd,this[_0x36de1d(0x1f6)]=_0x5679ab,this[_0x36de1d(0x470)]=new $(u[_0x36de1d(0x582)]);}async['jwt'](_0x116789){const _0x245c14=a0_0x2ec1ea;let _0x1145f7=this[_0x245c14(0x426)][_0x245c14(0x63f)](_0x245c14(0x5ad))[_0x245c14(0xd7)],_0x1fa668=(0x0,ki[_0x245c14(0xd5)])({'instanceName':_0x116789['instanceName'],'apiName':rt,'tokenId':(0x0,Us['v4'])()},_0x1145f7[_0x245c14(0x7d3)],{'expiresIn':_0x1145f7[_0x245c14(0x25e)],'encoding':_0x245c14(0x5b1),'subject':_0x245c14(0x648)}),_0x3e1795=await this[_0x245c14(0x1f6)]['auth'][_0x245c14(0x14b)]({'jwt':_0x1fa668},_0x116789[_0x245c14(0x52d)]);if(_0x3e1795[_0x245c14(0x3cc)])throw this['logger']['error']({'localError':u[_0x245c14(0x582)]+_0x245c14(0x23e),'error':_0x3e1795[_0x245c14(0x3cc)]}),new m('Authentication\x20error',_0x3e1795['error']?.[_0x245c14(0x4e0)]());return{'jwt':_0x1fa668};}async['apikey'](_0x2edcd5){const _0xc9300a=a0_0x2ec1ea;let _0x312c4d=(0x0,Us['v4'])()[_0xc9300a(0x6ca)](),_0x44f311=await this['repository'][_0xc9300a(0x39c)][_0xc9300a(0x14b)]({'apikey':_0x312c4d},_0x2edcd5[_0xc9300a(0x52d)]);if(_0x44f311[_0xc9300a(0x3cc)])throw this[_0xc9300a(0x470)][_0xc9300a(0x3cc)]({'localError':u['name']+'.jwt','error':_0x44f311[_0xc9300a(0x3cc)]}),new m(_0xc9300a(0x3c5),_0x44f311[_0xc9300a(0x3cc)]?.[_0xc9300a(0x4e0)]());return{'apikey':_0x312c4d};}async[a0_0x2ec1ea(0x4fd)](_0x591819){const _0x930dde=a0_0x2ec1ea;let _0x516d55=this[_0x930dde(0x426)][_0x930dde(0x63f)](_0x930dde(0x5ad));return await this[_0x516d55['TYPE']](_0x591819);}},Zt=class{constructor(_0xdeb30e){const _0x203d5b=a0_0x2ec1ea;this[_0x203d5b(0x342)]=_0xdeb30e;}async[a0_0x2ec1ea(0x4c6)](_0x461ec9,_0x236842){const _0x58e881=a0_0x2ec1ea;return await this[_0x58e881(0x342)][_0x58e881(0x10a)][_0x461ec9[_0x58e881(0x52d)]]['createGroup'](_0x236842);}async[a0_0x2ec1ea(0x6bc)](_0x2f0736,_0x4e1c67){const _0x634d3e=a0_0x2ec1ea;return await this[_0x634d3e(0x342)][_0x634d3e(0x10a)][_0x2f0736[_0x634d3e(0x52d)]]['updateGroupPicture'](_0x4e1c67);}async[a0_0x2ec1ea(0x61a)](_0x5714d5,_0x3b2b46){const _0x4be9b6=a0_0x2ec1ea;return await this[_0x4be9b6(0x342)]['waInstances'][_0x5714d5[_0x4be9b6(0x52d)]][_0x4be9b6(0x61a)](_0x3b2b46);}async[a0_0x2ec1ea(0x613)](_0x34c040,_0x14197b){const _0x2ec05e=a0_0x2ec1ea;return await this['waMonitor'][_0x2ec05e(0x10a)][_0x34c040[_0x2ec05e(0x52d)]][_0x2ec05e(0x613)](_0x14197b);}async[a0_0x2ec1ea(0x6ae)](_0x59781b,_0x332a37){const _0x5042ee=a0_0x2ec1ea;return await this[_0x5042ee(0x342)][_0x5042ee(0x10a)][_0x59781b[_0x5042ee(0x52d)]][_0x5042ee(0x6ae)](_0x332a37);}async[a0_0x2ec1ea(0xce)](_0x5ddb7f,_0x30c7d4){const _0x376b01=a0_0x2ec1ea;return await this[_0x376b01(0x342)]['waInstances'][_0x5ddb7f[_0x376b01(0x52d)]][_0x376b01(0xce)](_0x30c7d4);}async['findGroupInfo'](_0x7452c3,_0x56d8ea){const _0x14b8da=a0_0x2ec1ea;return await this['waMonitor']['waInstances'][_0x7452c3[_0x14b8da(0x52d)]][_0x14b8da(0x6c0)](_0x56d8ea);}async[a0_0x2ec1ea(0x77d)](_0x1a45a2){const _0x48d2bf=a0_0x2ec1ea;return await this[_0x48d2bf(0x342)][_0x48d2bf(0x10a)][_0x1a45a2[_0x48d2bf(0x52d)]]['findGroups']();}async[a0_0x2ec1ea(0x326)](_0x3039d7,_0x4780b1){const _0x3f4516=a0_0x2ec1ea;return await this['waMonitor'][_0x3f4516(0x10a)][_0x3039d7['instanceName']][_0x3f4516(0x326)](_0x4780b1);}async[a0_0x2ec1ea(0x1d2)](_0x3a6091,_0x446083){const _0x489d0a=a0_0x2ec1ea;return await this[_0x489d0a(0x342)][_0x489d0a(0x10a)][_0x3a6091['instanceName']][_0x489d0a(0x1d2)](_0x446083);}async[a0_0x2ec1ea(0x211)](_0x2d1348,_0x593041){const _0x5c8182=a0_0x2ec1ea;return await this[_0x5c8182(0x342)][_0x5c8182(0x10a)][_0x2d1348[_0x5c8182(0x52d)]][_0x5c8182(0x211)](_0x593041);}async[a0_0x2ec1ea(0x1cc)](_0x6c39bb,_0x15277c){const _0x1e1f39=a0_0x2ec1ea;return await this[_0x1e1f39(0x342)][_0x1e1f39(0x10a)][_0x6c39bb[_0x1e1f39(0x52d)]]['revokeInviteCode'](_0x15277c);}async[a0_0x2ec1ea(0x2a5)](_0x31935b,_0x873801){const _0x1b47da=a0_0x2ec1ea;return await this[_0x1b47da(0x342)][_0x1b47da(0x10a)][_0x31935b[_0x1b47da(0x52d)]][_0x1b47da(0x2a5)](_0x873801);}async[a0_0x2ec1ea(0x372)](_0x5898df,_0x58edc8){const _0x39dbbf=a0_0x2ec1ea;return await this[_0x39dbbf(0x342)][_0x39dbbf(0x10a)][_0x5898df[_0x39dbbf(0x52d)]][_0x39dbbf(0x423)](_0x58edc8);}async[a0_0x2ec1ea(0x697)](_0x3548bc,_0x4f626f){const _0x490119=a0_0x2ec1ea;return await this[_0x490119(0x342)][_0x490119(0x10a)][_0x3548bc['instanceName']]['toggleEphemeral'](_0x4f626f);}async['leaveGroup'](_0x3980e4,_0xc41684){const _0xaffe70=a0_0x2ec1ea;return await this[_0xaffe70(0x342)][_0xaffe70(0x10a)][_0x3980e4[_0xaffe70(0x52d)]]['leaveGroup'](_0xc41684);}},es=class{constructor(_0x49c330){this['waMonitor']=_0x49c330;}[a0_0x2ec1ea(0x14b)](_0xf3665e,_0x468b6a){const _0x1d615b=a0_0x2ec1ea;return this[_0x1d615b(0x342)][_0x1d615b(0x10a)][_0xf3665e[_0x1d615b(0x52d)]][_0x1d615b(0x72d)](_0x468b6a);}async[a0_0x2ec1ea(0x3f1)](_0x47d3be){const _0x5ef68b=a0_0x2ec1ea;try{return await this[_0x5ef68b(0x342)][_0x5ef68b(0x10a)][_0x47d3be['instanceName']][_0x5ef68b(0x3db)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $('FlowController'),ts=class{constructor(_0x3a1e86){const _0x49933f=a0_0x2ec1ea;this[_0x49933f(0x342)]=_0x3a1e86;}async['editScheduleMessage'](_0x434ce3,_0x1c6742){const _0x2dbfc4=a0_0x2ec1ea;return await this[_0x2dbfc4(0x342)]['waInstances'][_0x434ce3[_0x2dbfc4(0x52d)]][_0x2dbfc4(0x138)](_0x1c6742);}async['getScheduleMessage'](_0x3e07b6){const _0x1f8e1b=a0_0x2ec1ea;return await this[_0x1f8e1b(0x342)][_0x1f8e1b(0x10a)][_0x3e07b6[_0x1f8e1b(0x52d)]][_0x1f8e1b(0x359)]();}async[a0_0x2ec1ea(0x7d7)](_0x469c43){const _0x16befe=a0_0x2ec1ea;return await this['waMonitor'][_0x16befe(0x10a)][_0x469c43[_0x16befe(0x52d)]][_0x16befe(0x7d7)]();}async[a0_0x2ec1ea(0x319)](_0x4241dd){const _0x115d5b=a0_0x2ec1ea;return await this[_0x115d5b(0x342)][_0x115d5b(0x10a)][_0x4241dd['instanceName']]['getAutomateSystem']();}async[a0_0x2ec1ea(0x5c6)](_0x3ea877,_0x13a6d3){const _0x5489a1=a0_0x2ec1ea;return await this[_0x5489a1(0x342)][_0x5489a1(0x10a)][_0x3ea877['instanceName']]['updateAgent'](_0x13a6d3);}async['updateCustomFields'](_0x1e5383,_0x387297){const _0x453ac5=a0_0x2ec1ea;return await this[_0x453ac5(0x342)][_0x453ac5(0x10a)][_0x1e5383[_0x453ac5(0x52d)]][_0x453ac5(0x13a)](_0x387297);}async['updateAutoCompleteMessages'](_0x33c0c9,_0x39f410){const _0x465d43=a0_0x2ec1ea;return await this['waMonitor'][_0x465d43(0x10a)][_0x33c0c9[_0x465d43(0x52d)]][_0x465d43(0x704)](_0x39f410);}async[a0_0x2ec1ea(0x777)](_0x45b03e,_0x247f90){const _0x4e891b=a0_0x2ec1ea;return await this[_0x4e891b(0x342)][_0x4e891b(0x10a)][_0x45b03e['instanceName']][_0x4e891b(0x777)](_0x247f90);}async[a0_0x2ec1ea(0x525)](_0x53bb6b,_0x55135c){const _0x334967=a0_0x2ec1ea;return await this[_0x334967(0x342)][_0x334967(0x10a)][_0x53bb6b['instanceName']][_0x334967(0x525)](_0x55135c);}async[a0_0x2ec1ea(0x22f)](_0x3da73b,_0x42abab,_0x4d3f90,_0x545785){const _0x3f72bf=a0_0x2ec1ea;return await this['waMonitor'][_0x3f72bf(0x10a)][_0x3da73b][_0x3f72bf(0x22f)](_0x42abab,_0x4d3f90,_0x545785);}async['getConversation'](_0x18140e,_0x2892d3){const _0x98f5cb=a0_0x2ec1ea;return await this['waMonitor']['waInstances'][_0x18140e['instanceName']][_0x98f5cb(0x4ee)](_0x2892d3);}async[a0_0x2ec1ea(0x4b8)](_0x22b6f2,_0x4a4d57){const _0x466d90=a0_0x2ec1ea;return await this[_0x466d90(0x342)]['waInstances'][_0x22b6f2['instanceName']]['fetchConversation'](_0x4a4d57);}async[a0_0x2ec1ea(0x5fa)](_0x2d5dc3,_0x523ff5){const _0x1ae6ba=a0_0x2ec1ea;return await this[_0x1ae6ba(0x342)]['waInstances'][_0x2d5dc3[_0x1ae6ba(0x52d)]][_0x1ae6ba(0x5fa)](_0x523ff5);}async[a0_0x2ec1ea(0x19f)](_0x343aa3,_0x260cb3){const _0x157dcf=a0_0x2ec1ea;return await this[_0x157dcf(0x342)][_0x157dcf(0x10a)][_0x343aa3['instanceName']]['deleteConversation'](_0x260cb3);}async[a0_0x2ec1ea(0x301)](_0x414f44,_0x3d5c79){const _0x281a6a=a0_0x2ec1ea;return await this[_0x281a6a(0x342)][_0x281a6a(0x10a)][_0x414f44[_0x281a6a(0x52d)]][_0x281a6a(0x301)](_0x3d5c79['_id']);}async['createFlow'](_0x5cece8,_0x122f0e,_0x3a8ace){const _0x2d3a12=a0_0x2ec1ea;return await this['waMonitor'][_0x2d3a12(0x10a)][_0x5cece8[_0x2d3a12(0x52d)]][_0x2d3a12(0x5ed)](_0x122f0e,_0x3a8ace);}async['editFlow'](_0x94f0b,_0x1d33e9,_0x27ce5b){const _0x3c6533=a0_0x2ec1ea;return await this[_0x3c6533(0x342)][_0x3c6533(0x10a)][_0x94f0b['instanceName']][_0x3c6533(0x18b)](_0x1d33e9,_0x27ce5b);}async[a0_0x2ec1ea(0x550)](_0x509b99,_0x471194){const _0x348e9b=a0_0x2ec1ea;return await this[_0x348e9b(0x342)][_0x348e9b(0x10a)][_0x509b99[_0x348e9b(0x52d)]][_0x348e9b(0x550)](_0x471194);}async['editFlowReply'](_0x4e62b2,_0x2ae626){const _0x4b0579=a0_0x2ec1ea;return await this[_0x4b0579(0x342)][_0x4b0579(0x10a)][_0x4e62b2['instanceName']][_0x4b0579(0x352)](_0x2ae626);}async[a0_0x2ec1ea(0x6d6)](_0x213d23,_0x42ed65){const _0x3f08b6=a0_0x2ec1ea;return await this[_0x3f08b6(0x342)][_0x3f08b6(0x10a)][_0x213d23[_0x3f08b6(0x52d)]][_0x3f08b6(0x6d6)](_0x42ed65);}async[a0_0x2ec1ea(0x531)](_0x3310d2,_0xb1033d){const _0xc7c213=a0_0x2ec1ea;return await this[_0xc7c213(0x342)][_0xc7c213(0x10a)][_0x3310d2[_0xc7c213(0x52d)]][_0xc7c213(0x531)](_0xb1033d);}async[a0_0x2ec1ea(0x205)](_0x346ce5,_0x31e7c5){const _0x3fd439=a0_0x2ec1ea;return await this['waMonitor'][_0x3fd439(0x10a)][_0x346ce5[_0x3fd439(0x52d)]][_0x3fd439(0x205)](_0x31e7c5);}async['editFlowVariable'](_0x22c279,_0xad59a2){const _0x235079=a0_0x2ec1ea;return await this[_0x235079(0x342)][_0x235079(0x10a)][_0x22c279[_0x235079(0x52d)]]['editFlowVariable'](_0xad59a2);}async[a0_0x2ec1ea(0x67d)](_0x520ec6,_0x3a732d){const _0x53863b=a0_0x2ec1ea;return await this['waMonitor'][_0x53863b(0x10a)][_0x520ec6[_0x53863b(0x52d)]][_0x53863b(0x67d)](_0x3a732d);}async['allFlows'](_0x542ae9){const _0x5f4d82=a0_0x2ec1ea;return await this[_0x5f4d82(0x342)]['waInstances'][_0x542ae9[_0x5f4d82(0x52d)]][_0x5f4d82(0x1dd)]();}},ss=class{constructor(_0x40c954){const _0x2bfbaa=a0_0x2ec1ea;this[_0x2bfbaa(0x454)]=_0x40c954;}async[a0_0x2ec1ea(0x4db)](_0x45f296,_0x31c9ef){const _0x22c254=a0_0x2ec1ea;return this[_0x22c254(0x454)][_0x22c254(0x14b)](_0x45f296,_0x31c9ef);}async[a0_0x2ec1ea(0x3db)](_0x313281){const _0x902b37=a0_0x2ec1ea;return this[_0x902b37(0x454)][_0x902b37(0x3f1)](_0x313281);}},as=class extends _{constructor(_0x59e499,_0x3d4a5){const _0x7caf97=a0_0x2ec1ea;super(_0x3d4a5),this[_0x7caf97(0x75a)]=_0x59e499,this[_0x7caf97(0x426)]=_0x3d4a5;}async['create'](_0x51dea4,_0x4c4a33){const _0x3e4ac6=a0_0x2ec1ea;try{return this[_0x3e4ac6(0xb8)][_0x3e4ac6(0x4d5)]?{'insertCount':(await this[_0x3e4ac6(0x75a)][_0x3e4ac6(0x6cc)]({'_id':_0x4c4a33},{..._0x51dea4},{'upsert':!0x0}))[_0x3e4ac6(0x56b)]}:{'insertCount':0x1};}catch(_0x9f8e78){return _0x9f8e78;}}async[a0_0x2ec1ea(0x31e)](_0x4ab92c){const _0x249cda=a0_0x2ec1ea;try{if(this[_0x249cda(0xb8)][_0x249cda(0x4d5)]){await this['webhookModel'][_0x249cda(0x13f)]({'_id':_0x4ab92c});return;}}catch(_0x3985db){return{'error':_0x3985db};}}async[a0_0x2ec1ea(0x3f1)](_0x453d00){const _0x284936=a0_0x2ec1ea;try{if(this[_0x284936(0xb8)][_0x284936(0x4d5)])return await this['webhookModel'][_0x284936(0x167)]({'_id':_0x453d00});}catch{return{};}}},is=class extends _{constructor(_0x109a0e,_0x214e83){const _0x37ced9=a0_0x2ec1ea;super(_0x214e83),this[_0x37ced9(0x256)]=_0x109a0e,this['configService']=_0x214e83,this[_0x37ced9(0x39c)]=_0x214e83[_0x37ced9(0x63f)]('AUTHENTICATION');}async[a0_0x2ec1ea(0x14b)](_0x4919da,_0x292b7c){const _0x36df8b=a0_0x2ec1ea;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x36df8b(0x256)][_0x36df8b(0x3cf)]({'_id':_0x292b7c},{'$set':{..._0x4919da}},{'upsert':!0x0}))[_0x36df8b(0x56b)]};}catch(_0x1b019a){return{'error':_0x1b019a};}}async[a0_0x2ec1ea(0x79d)](_0x14e76b,_0x23a218){const _0x1eb337=a0_0x2ec1ea;try{if(this[_0x1eb337(0xb8)]['ENABLED'])return{'insertCount':(await this[_0x1eb337(0x256)]['updateMany'](_0x14e76b,{'$set':_0x23a218},{'upsert':!0x1}))[_0x1eb337(0x56b)]};throw new Error(_0x1eb337(0x12a));}catch(_0xab6b19){return{'error':_0xab6b19};}}async['deleteMany'](_0x53c4e7){const _0x1ce6ae=a0_0x2ec1ea;try{if(this[_0x1ce6ae(0xb8)][_0x1ce6ae(0x4d5)])return{'insertCount':(await this['authModel'][_0x1ce6ae(0x206)](_0x53c4e7))[_0x1ce6ae(0x608)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x442e81){return{'error':_0x442e81};}}async['delete'](_0x5352d8){const _0x3c4838=a0_0x2ec1ea;try{if(this['dbSettings'][_0x3c4838(0x4d5)]){await this['authModel']['deleteOne']({'_id':_0x5352d8});return;}}catch(_0x2fa36d){return{'error':_0x2fa36d};}}async[a0_0x2ec1ea(0x3f1)](_0x13b391){const _0x4f28b7=a0_0x2ec1ea;try{if(this[_0x4f28b7(0xb8)]['ENABLED'])return await this[_0x4f28b7(0x256)]['findOne']({'_id':_0x13b391});}catch{return{};}}async['findAll'](){const _0x29b773=a0_0x2ec1ea;try{if(this[_0x29b773(0xb8)][_0x29b773(0x4d5)])return await this[_0x29b773(0x256)][_0x29b773(0x3f1)]();}catch{return[];}}async[a0_0x2ec1ea(0x26e)](_0x25043f){const _0x4b6e98=a0_0x2ec1ea;try{if(this[_0x4b6e98(0xb8)]['ENABLED'])return await this[_0x4b6e98(0x256)][_0x4b6e98(0x3f1)](_0x25043f);}catch{return[];}}},os=class extends _{async[a0_0x2ec1ea(0x13f)](_0x30f6fe){const _0x3b0fe1=a0_0x2ec1ea;try{let _0x4b2cec=I(_0x30f6fe[_0x3b0fe1(0xa1)]);return{'deletedCount':(await Ce[_0x3b0fe1(0x13f)](_0x4b2cec))[_0x3b0fe1(0x608)]};}catch(_0x48eaaa){return{'error':_0x48eaaa?.[_0x3b0fe1(0x4e0)]()};}}async[a0_0x2ec1ea(0x3cf)](_0xdfa809,_0x3b7a07){const _0x30fb77=a0_0x2ec1ea;try{let _0x574649=await Ce[_0x30fb77(0x1c9)](_0xdfa809);return _0x574649?(Object[_0x30fb77(0x2e2)](_0x574649,_0x3b7a07),await _0x574649[_0x30fb77(0x1a1)]()):(console[_0x30fb77(0x3cc)](_0x30fb77(0x300),_0xdfa809),null);}catch(_0x1d73cb){return console[_0x30fb77(0x3cc)](_0x30fb77(0x48c),_0x1d73cb),null;}}async[a0_0x2ec1ea(0x671)](_0x15a0e7){const _0x1d4db6=a0_0x2ec1ea;try{return await new Ce(_0x15a0e7)[_0x1d4db6(0x1a1)]();}catch(_0x4ef5ce){return console[_0x1d4db6(0x3cc)](_0x1d4db6(0x292),_0x4ef5ce),null;}}async['findAll'](_0x43c223){const _0x3bb55b=a0_0x2ec1ea;try{let _0x1754e8=_0x43c223[_0x3bb55b(0xa1)]??{};return await Ce['find'](_0x1754e8)['limit'](_0x43c223[_0x3bb55b(0x497)]??0x0)[_0x3bb55b(0x679)]();}catch(_0x2f2c88){return console[_0x3bb55b(0x3cc)](_0x3bb55b(0x6b4),_0x2f2c88),[];}}async[a0_0x2ec1ea(0x167)](_0x286702){const _0x223ed3=a0_0x2ec1ea;try{let _0x4906dd=I(_0x286702['where']);return await Ce[_0x223ed3(0x167)](_0x4906dd)['lean']();}catch{return null;}}},rs=class extends _{['getConversationModelForOwner'](_0x2b5cf1){return Ma(_0x2b5cf1);}async[a0_0x2ec1ea(0x75b)](_0x188600){const _0x2c500f=a0_0x2ec1ea;if(_0x188600[_0x2c500f(0x54d)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x188600[0x0]['owner'])[_0x2c500f(0x586)]([..._0x188600]))[_0x2c500f(0x54d)]};}catch(_0x43c61e){return _0x43c61e;}}async[a0_0x2ec1ea(0x31e)](_0x39d320,_0x5dc144){const _0x1acf5b=a0_0x2ec1ea;try{let _0x340cb3=this[_0x1acf5b(0x64c)](_0x5dc144),_0x5f5137=I(_0x39d320['where']);return{'deletedCount':(await _0x340cb3[_0x1acf5b(0x206)](_0x5f5137))[_0x1acf5b(0x608)]};}catch(_0x4fee42){return{'error':_0x4fee42?.[_0x1acf5b(0x4e0)]()};}}async[a0_0x2ec1ea(0x13f)](_0x3ca152,_0xdc7a73){const _0x156224=a0_0x2ec1ea;try{let _0x31b885=this[_0x156224(0x64c)](_0xdc7a73),_0x28a6d1=I(_0x3ca152[_0x156224(0xa1)]);return{'deletedCount':(await _0x31b885[_0x156224(0x13f)](_0x28a6d1))['deletedCount']};}catch(_0x1c8d6b){return{'error':_0x1c8d6b?.['toString']()};}}async[a0_0x2ec1ea(0x4d2)](_0xd2c3a,_0x8b7d6b){const _0x9ba548=a0_0x2ec1ea;try{if(_0xd2c3a[_0x9ba548(0x54d)]===0x0)return;let _0x4a2045=this[_0x9ba548(0x64c)](_0x8b7d6b),_0x566169=_0xd2c3a[_0x9ba548(0x3ac)](_0x45c01f=>({'updateOne':{'filter':{'name':_0x45c01f['name'],'owner':_0x8b7d6b},'update':{..._0x45c01f}}})),{modifiedCount:_0x4fa9b7}=await _0x4a2045[_0x9ba548(0x6b7)](_0x566169);return{'insertCount':_0x4fa9b7};}catch{return;}}async['updateMany'](_0x11f501,_0xdf91e,_0x585a2f){const _0x4243ed=a0_0x2ec1ea;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x585a2f)[_0x4243ed(0x44e)](_0x11f501,{'$set':_0xdf91e})['exec']())[_0x4243ed(0x56b)]};}catch(_0x39c917){return console[_0x4243ed(0x3cc)](_0x4243ed(0x738),_0x39c917),{'error':_0x39c917};}}async['updateOne'](_0xb3cf84,_0x13b57d,_0x59756a){const _0x4ae884=a0_0x2ec1ea;try{return await this[_0x4ae884(0x64c)](_0x59756a)[_0x4ae884(0x1f9)]({'_id':_0xb3cf84},{'$set':_0x13b57d},{'new':!0x0,'upsert':!0x0})[_0x4ae884(0x679)]();}catch(_0x1185c6){return console[_0x4ae884(0x3cc)](_0x1185c6),null;}}async[a0_0x2ec1ea(0x3f1)](_0x3283de,_0x46cf55){const _0x4137d7=a0_0x2ec1ea;try{return await this['getConversationModelForOwner'](_0x46cf55)[_0x4137d7(0x3f1)](_0x3283de)[_0x4137d7(0x1c4)]({'lastInteraction':-0x1})[_0x4137d7(0x679)]();}catch{return[];}}async[a0_0x2ec1ea(0x167)](_0x36fae4,_0x2a8fec){const _0x3b03a4=a0_0x2ec1ea;try{return await this[_0x3b03a4(0x64c)](_0x2a8fec)[_0x3b03a4(0x167)]({..._0x36fae4[_0x3b03a4(0xa1)]})['lean']();}catch{return null;}}async[a0_0x2ec1ea(0x63a)](_0x5d1ad0){const _0x2dea59=a0_0x2ec1ea;try{return await this[_0x2dea59(0x64c)](_0x5d1ad0)[_0x2dea59(0x154)]['drop'](),{'success':!0x0};}catch(_0x14f73a){return console[_0x2dea59(0x3cc)](_0x14f73a),{'success':!0x1,'error':_0x14f73a};}}},ns=class extends _{[a0_0x2ec1ea(0x77f)](_0x2abeb0){return Ca(_0x2abeb0);}async['bulkWrite'](_0x5c0bc8,_0x5009d6){const _0x25c2b4=a0_0x2ec1ea;try{return await this[_0x25c2b4(0x77f)](_0x5009d6)[_0x25c2b4(0x6b7)](_0x5c0bc8);}catch(_0x2538a6){return console[_0x25c2b4(0x3cc)](_0x25c2b4(0xc2),_0x2538a6),null;}}async['createAndSave'](_0x9aa552,_0x3f5f5b){const _0x4d7c97=a0_0x2ec1ea;try{let _0x4eb8f7=this['getScheduleMessageModelForOwner'](_0x3f5f5b);return await new _0x4eb8f7(_0x9aa552)[_0x4d7c97(0x1a1)]();}catch(_0x6c36ac){return console['error'](_0x4d7c97(0x4e3),_0x6c36ac),null;}}async[a0_0x2ec1ea(0x13f)](_0x3bae8,_0x31bf68){const _0x51fef4=a0_0x2ec1ea;try{return await this[_0x51fef4(0x77f)](_0x31bf68)['findByIdAndDelete'](_0x3bae8),{};}catch(_0x39e06b){return{'error':_0x39e06b?.['toString']()};}}async[a0_0x2ec1ea(0x3cf)](_0x434125,_0x464900,_0x2a6d27,_0x1b5f89={}){const _0x30e43a=a0_0x2ec1ea;try{return await this[_0x30e43a(0x77f)](_0x2a6d27)[_0x30e43a(0x1f9)](_0x434125,_0x464900,{..._0x1b5f89,'new':!0x0})[_0x30e43a(0x679)]();}catch(_0xeef84f){return console['error'](_0x30e43a(0xae),_0xeef84f),null;}}async[a0_0x2ec1ea(0x53f)](_0x2db520,_0x53f619,_0x4d243d){const _0x5ed0b1=a0_0x2ec1ea;try{return await this[_0x5ed0b1(0x77f)](_0x4d243d)['findByIdAndUpdate'](_0x2db520,_0x53f619,{'new':!0x0})[_0x5ed0b1(0x679)]();}catch(_0x51f7ef){return console[_0x5ed0b1(0x3cc)](_0x5ed0b1(0xae),_0x51f7ef),null;}}async[a0_0x2ec1ea(0x3f1)](_0x372896,_0x3bb8c9){const _0x4fac19=a0_0x2ec1ea;try{return await this[_0x4fac19(0x77f)](_0x3bb8c9)[_0x4fac19(0x3f1)](_0x372896['where'])[_0x4fac19(0x497)](_0x372896?.['limit']??0x0)[_0x4fac19(0x1c4)]({'when':0x1})[_0x4fac19(0x679)]();}catch{return[];}}async['findOne'](_0x3d0896,_0x778410){const _0x206e5b=a0_0x2ec1ea;try{return await this['getScheduleMessageModelForOwner'](_0x778410)['findOne'](_0x3d0896['where'])[_0x206e5b(0x1c4)]({'when':0x1})[_0x206e5b(0x679)]();}catch{return null;}}async[a0_0x2ec1ea(0x1c9)](_0x38e4ab,_0x465726){const _0x465530=a0_0x2ec1ea;try{return await this[_0x465530(0x77f)](_0x465726)[_0x465530(0x1c9)](_0x38e4ab)[_0x465530(0x679)]();}catch{return null;}}async[a0_0x2ec1ea(0x206)](_0x14d7d7,_0x3ae0d2){const _0x3a13a7=a0_0x2ec1ea;try{return{'deletedCount':(await this[_0x3a13a7(0x77f)](_0x3ae0d2)[_0x3a13a7(0x206)](_0x14d7d7))[_0x3a13a7(0x608)]};}catch(_0x294861){return console['error'](_0x3a13a7(0x77a),_0x294861),{'error':_0x294861};}}async[a0_0x2ec1ea(0x63a)](_0xd7f0b7){const _0x228b85=a0_0x2ec1ea;try{return await this[_0x228b85(0x77f)](_0xd7f0b7)[_0x228b85(0x154)][_0x228b85(0x635)](),{'success':!0x0};}catch(_0xef6a02){return console['error'](_0xef6a02),{'success':!0x1,'error':_0xef6a02};}}},cs=class extends _{async[a0_0x2ec1ea(0x4d2)](_0x3692a5,_0x549891){const _0x1dd494=a0_0x2ec1ea;try{if(this[_0x1dd494(0xb8)][_0x1dd494(0x4d5)])return await Ie[_0x1dd494(0x1f9)]({'_id':_0x549891},{'$set':_0x3692a5},{'new':!0x0});}catch(_0x458f28){throw console['error'](_0x1dd494(0x507),_0x458f28),_0x458f28;}}async[a0_0x2ec1ea(0x380)](_0x28d57f){const _0x17a03b=a0_0x2ec1ea;try{let _0x2680e2=await Ie[_0x17a03b(0x1c9)](_0x28d57f);return _0x2680e2?_0x2680e2[_0x17a03b(0x527)]||(_0x2680e2[_0x17a03b(0x527)]=[],await _0x2680e2['save']()):(_0x2680e2=new Ie({'_id':_0x28d57f,'autoCompleteMessages':[]}),await _0x2680e2[_0x17a03b(0x1a1)]()),_0x2680e2;}catch(_0x205900){return _0x205900[_0x17a03b(0x3ce)]===0x2af8&&_0x205900[_0x17a03b(0x4be)]&&_0x205900[_0x17a03b(0x4be)][_0x17a03b(0x1d8)]?(console['error'](_0x17a03b(0x729)),await Ie[_0x17a03b(0x154)][_0x17a03b(0x52a)]('autoCompleteMessages.command_1'),null):(console[_0x17a03b(0x3cc)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x205900),null);}}},Jo=new $(a0_0x2ec1ea(0x133)),qo=new Ye(b),Vo=new Bt(b),Go=new ct(b),Bo=new Wt(ra,b),Wo=new as(ga,b),zo=new is(da,b),Ho=new Ne(ze,b),Ko=new os(b),Qo=new zt(b),Yo=new rs(b),Xo=new ns(b),Zo=new cs(b),we=new Ke(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,R?.['getClient']()),z=new Gt(ms,b,we),er=new Xt(b,z,we),tr=new es(z),As=new ss(tr),T=new ts(z),pe=new Qt(z,b,we,ms,er),H=new Yt(z),P=new Ht(z),V=new Zt(z);Jo[a0_0x2ec1ea(0x202)](a0_0x2ec1ea(0x393));function a0_0x5390(_0x19b3df,_0x17685f){const _0x1dcefe=a0_0x1dce();return a0_0x5390=function(_0x53904b,_0x47df65){_0x53904b=_0x53904b-0x9e;let _0x2947ae=_0x1dcefe[_0x53904b];return _0x2947ae;},a0_0x5390(_0x19b3df,_0x17685f);}var ng=require('express-async-errors'),js=require('fs'),Li=A(require('https')),Fi=A(require(a0_0x2ec1ea(0x5a2))),Ue=class u{static #e;static set['app'](_0x4b6dbc){this.#e=_0x4b6dbc;}static get[a0_0x2ec1ea(0x787)](){const _0xdeaab2=a0_0x2ec1ea;let {FULLCHAIN:_0x31793f,PRIVKEY:_0x4a959f}=b[_0xdeaab2(0x63f)]('SSL_CONF');return Li[_0xdeaab2(0x3df)]({'cert':(0x0,js['readFileSync'])(_0x31793f),'key':(0x0,js[_0xdeaab2(0x565)])(_0x4a959f)},u.#e);}static get['http'](){return Fi['createServer'](u.#e);}},je=A(require('fs')),Gi=A(require(a0_0x2ec1ea(0x42e))),Je=A(require(a0_0x2ec1ea(0x41a))),us=A(require(a0_0x2ec1ea(0x258))),ls=require(a0_0x2ec1ea(0x16c));function sr(){const _0x441f43=a0_0x2ec1ea;z[_0x441f43(0x669)]();let _0x294654=us['default'][_0x441f43(0x2ed)](__dirname,_0x441f43(0x416));Vi(_0x294654);}var Vi=_0x22fc69=>{const _0x36264e=a0_0x2ec1ea;let _0x1f2429=je[_0x36264e(0x4d4)][_0x36264e(0x363)](_0x22fc69),_0x270f4b=0xc*0x3c*0x3c*0x3e8,_0x52103b=0x2*0x3c*0x3c*0x3e8,_0x2e15ab=new Date()[_0x36264e(0x7e3)]();_0x1f2429[_0x36264e(0x487)](_0x165776=>{const _0x367a93=_0x36264e;let _0x53a2c9=us[_0x367a93(0x4d4)][_0x367a93(0x2ed)](_0x22fc69,_0x165776),_0x4fe5f5=je[_0x367a93(0x4d4)][_0x367a93(0x49c)](_0x53a2c9)['birthtime'][_0x367a93(0x7e3)]();_0x2e15ab-_0x4fe5f5>_0x270f4b&&(je[_0x367a93(0x4d4)]['unlinkSync'](_0x53a2c9),console[_0x367a93(0x6d4)](_0x367a93(0x417)+_0x165776));}),setTimeout(()=>Vi(_0x22fc69),_0x52103b);};function ar(){const _0x17dff6=a0_0x2ec1ea;let _0x24962f=new $('SERVER'),_0x277bd8=(0x0,be[_0x17dff6(0x4d4)])();_0x277bd8['use']((0x0,qi[_0x17dff6(0x4d4)])({'origin'(_0x565d1b,_0x41e438){const _0x145d12=_0x17dff6;let {ORIGIN:_0x26a035}=b[_0x145d12(0x63f)](_0x145d12(0x62a));return _0x565d1b||(_0x565d1b='*'),_0x26a035['indexOf']('*')!==-0x1||_0x26a035[_0x145d12(0x28f)](_0x565d1b)!==-0x1?_0x41e438(null,!0x0):_0x41e438(new Error(_0x145d12(0x1ac)));},'methods':[...b[_0x17dff6(0x63f)](_0x17dff6(0x62a))[_0x17dff6(0x4fe)]],'credentials':b[_0x17dff6(0x63f)](_0x17dff6(0x62a))[_0x17dff6(0x277)]}),(0x0,be['urlencoded'])({'extended':!0x0,'limit':_0x17dff6(0x5f9)}),(0x0,be[_0x17dff6(0x5b2)])({'limit':_0x17dff6(0x5f9)})),_0x277bd8[_0x17dff6(0x649)]((_0x901be2,_0x1aa685,_0x41afbd)=>{const _0x281d91=_0x17dff6;_0x901be2['path'][_0x281d91(0x752)]('/events')?_0x41afbd():(0x0,Ji[_0x281d91(0x4d4)])()(_0x901be2,_0x1aa685,_0x41afbd);}),_0x277bd8['set'](_0x17dff6(0x44b),_0x17dff6(0x782)),_0x277bd8[_0x17dff6(0x20f)]('views',(0x0,qs[_0x17dff6(0x2ed)])(le,'views')),_0x277bd8[_0x17dff6(0x649)](be['default'][_0x17dff6(0x14a)]((0x0,qs[_0x17dff6(0x2ed)])(le,_0x17dff6(0x33a)))),_0x277bd8[_0x17dff6(0x649)]((_0xc3f079,_0x463974,_0x184664)=>{const _0x1c2b5e=_0x17dff6;let _0x9012a9=_0x463974[_0x1c2b5e(0x45b)];_0x463974[_0x1c2b5e(0x45b)]=function(_0x3404ae){const _0x12fcaa=_0x1c2b5e;if(_0xc3f079[_0x12fcaa(0x736)][_0x12fcaa(0x3e2)]==='true'||_0xc3f079[_0x12fcaa(0x2bd)]['uazapi']===_0x12fcaa(0x79f)){let _0x36f8c7=JSON[_0x12fcaa(0x59b)](_0x3404ae);_0x3404ae=JSON[_0x12fcaa(0x46a)](_0x1ef49f(_0x36f8c7));}return _0x9012a9['apply'](_0x463974,[_0x3404ae]);},_0x184664();}),_0x277bd8[_0x17dff6(0x649)]('/',ke),_0x277bd8[_0x17dff6(0x649)]((_0x24be86,_0x116cfb,_0x442e7b,_0x16e528)=>{const _0x1dcf63=_0x17dff6;if(_0x24be86)return _0x442e7b[_0x1dcf63(0x3fd)](_0x24be86[_0x1dcf63(0x3fd)]||0x1f4)[_0x1dcf63(0x5b2)](_0x24be86);},(_0x237dfa,_0x5cae04,_0x5144e0)=>{const _0x540b77=_0x17dff6;let {method:_0x318278,url:_0x4c2e4c}=_0x237dfa;_0x5cae04['status'](0x194)[_0x540b77(0x5b2)]({'status':0x194,'message':_0x540b77(0xcf)+_0x318278['toUpperCase']()+'\x20'+_0x4c2e4c,'error':'Not\x20Found'}),_0x5144e0();});let _0x1ef49f=(_0x48e0f3,_0x53db04=_0x17dff6(0x66b))=>{const _0x1f1792=_0x17dff6;let _0x13579a=(_0x2c6bec,_0x1042dd=null,_0x4f1352=!0x1)=>{const _0x1ad4f3=a0_0x5390;let _0x1561cd={};return Object[_0x1ad4f3(0x6b5)](_0x2c6bec)['forEach'](_0x30166c=>{const _0xed2f36=_0x1ad4f3;let _0x5e53ad=_0x2c6bec[_0x30166c],_0x1e73d1=''+_0x53db04+_0x30166c;_0x1042dd&&!_0x4f1352&&(_0x1e73d1=_0x1042dd+'.'+_0x30166c),!_0x5e53ad&&_0x5e53ad!==0x0&&_0x5e53ad!==!0x1||typeof _0x5e53ad>'u'?_0x1561cd[_0x1e73d1]=null:typeof _0x5e53ad!=_0xed2f36(0x7d9)&&!Array[_0xed2f36(0x158)](_0x5e53ad)?_0x1561cd[_0x1e73d1]=_0x5e53ad:typeof _0x5e53ad=='object'&&!Array[_0xed2f36(0x158)](_0x5e53ad)?_0x1561cd=Object[_0xed2f36(0x2e2)](_0x1561cd,_0x13579a(_0x5e53ad,_0x1e73d1)):Array['isArray'](_0x5e53ad)&&(typeof _0x5e53ad[0x0]==_0xed2f36(0x7d9)?(_0x1561cd[_0x1e73d1]=[],_0x5e53ad['forEach'](_0x2ce8c3=>{const _0x2da061=_0xed2f36;_0x1561cd[_0x1e73d1][_0x2da061(0x7ee)](_0x13579a(_0x2ce8c3,_0x1e73d1,!0x0));})):_0x1561cd[_0x1e73d1]=_0x5e53ad);}),_0x1561cd;};return Array[_0x1f1792(0x158)](_0x48e0f3)?_0x48e0f3[_0x1f1792(0x3ac)](_0xb9176f=>_0x13579a(_0xb9176f)):typeof _0x48e0f3=='object'&&_0x48e0f3!==null?_0x13579a(_0x48e0f3):{};},_0x5148ff=b[_0x17dff6(0x63f)](_0x17dff6(0x568));Ue['app']=_0x277bd8;let _0x48f9e9=Ue[_0x5148ff[_0x17dff6(0x30b)]],_0x119a21=_0x17dff6(0x106);_0x48f9e9[_0x17dff6(0x5c7)](_0x5148ff[_0x17dff6(0x38a)],()=>{const _0x5a7165=_0x17dff6;_0x24962f[_0x5a7165(0x6d4)](_0x119a21),_0x24962f[_0x5a7165(0x6d4)](_0x5148ff[_0x5a7165(0x30b)][_0x5a7165(0x6ca)]()+'\x20-\x20ON:\x20'+_0x5148ff['PORT']);}),sr(),ea();}var ir=a0_0x2ec1ea(0x177),or=us['default'][a0_0x2ec1ea(0x2ed)](__dirname,a0_0x2ec1ea(0x228)),Re=null;function rr(){return new Promise((_0x524497,_0x271310)=>{const _0x191602=a0_0x5390;je['default']['readFile'](or,_0x191602(0xeb),(_0x3841ee,_0x436d8b)=>{const _0x165508=_0x191602;if(_0x3841ee){Re=_0x3841ee,_0x524497();return;}Gi[_0x165508(0x4d4)][_0x165508(0x59b)](_0x436d8b)['remote\x20\x22origin\x22'][_0x165508(0x26c)]===ir?(Re=null,_0x524497()):(Re=new Error(_0x165508(0x1b0)),_0x524497());});});}async function nr(){const _0x29f2a5=a0_0x2ec1ea;try{await rr(),await Vs();}catch(_0x417782){console['error'](_0x29f2a5(0x6ce)+_0x417782),process[_0x29f2a5(0x717)](0x1);}}nr();async function Bi(){const _0x468a77=a0_0x2ec1ea;let _0xc45b6d;try{_0xc45b6d=(await Je[_0x468a77(0x4d4)][_0x468a77(0x63f)]('https://jsonip.com'))[_0x468a77(0x6c8)]['ip'];}catch(_0xddd5cb){console['error'](_0xddd5cb);try{_0xc45b6d=(await Je['default'][_0x468a77(0x63f)](_0x468a77(0x504)))[_0x468a77(0x6c8)]['ip'];}catch(_0x2ae886){console['error'](_0x2ae886);try{_0xc45b6d=(await Je[_0x468a77(0x4d4)][_0x468a77(0x63f)](_0x468a77(0x78a)))[_0x468a77(0x6c8)][_0x468a77(0x6f8)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x16af41){return console[_0x468a77(0x3cc)](_0x16af41),!0x1;}}}return _0xc45b6d;}var Ui=0x0;async function cr(){const _0x3043c1=a0_0x2ec1ea;let _0x3c6845=await new he(b[_0x3043c1(0x63f)](_0x3043c1(0x356)))[_0x3043c1(0x6ee)]();return console[_0x3043c1(0x6d4)](_0x3043c1(0x34c),_0x3c6845[_0x3043c1(0x54d)]),_0x3c6845[_0x3043c1(0x54d)];}function lr(_0x5f5c1e){const _0x9bcbb0=a0_0x2ec1ea;let _0x37f72b=_0x5f5c1e[_0x9bcbb0(0x63f)]('SERVER')[_0x9bcbb0(0x5c4)],_0x3c6c60=_0x5f5c1e[_0x9bcbb0(0x63f)](_0x9bcbb0(0x744));console[_0x9bcbb0(0x6d4)]('Valor\x20da\x20URL\x20recuperada:',_0x37f72b),console[_0x9bcbb0(0x6d4)](_0x9bcbb0(0x235),_0x3c6c60);let _0x128234='',_0xd14bdc=_0x37f72b||'';if(_0x37f72b){let _0x6d1f13=_0x37f72b['match'](/\/\/(.*?)\./);console[_0x9bcbb0(0x6d4)]('Resultado\x20da\x20correspondncia\x20de\x20URL:',_0x6d1f13),_0x6d1f13&&_0x6d1f13[0x1]&&(_0x128234=_0x6d1f13[0x1],console[_0x9bcbb0(0x6d4)]('Subdomnio\x20extrado\x20da\x20URL:',_0x128234));}if(!_0x128234&&_0x3c6c60&&_0x3c6c60[_0x9bcbb0(0x3c1)]){let _0x32c1a5=_0x3c6c60[_0x9bcbb0(0x3c1)][_0x9bcbb0(0x1e1)]('/');console[_0x9bcbb0(0x6d4)](_0x9bcbb0(0x76b),_0x32c1a5);let _0x444a63=_0x32c1a5[_0x32c1a5['length']-0x2];if(console['log'](_0x9bcbb0(0x3ea),_0x444a63),_0x444a63){let _0x44fb8f=_0x444a63['split']('.');console['log'](_0x9bcbb0(0x6bf),_0x44fb8f),_0x44fb8f[_0x9bcbb0(0x54d)]>0x2&&(_0x128234=_0x44fb8f[0x0],console[_0x9bcbb0(0x6d4)]('Subdomnio\x20extrado\x20do\x20caminho\x20SSL:',_0x128234),_0xd14bdc=''+_0x444a63);}}return{'subdomain':_0x128234||_0x9bcbb0(0xc1),'fullURL':_0xd14bdc||'URL\x20no\x20disponvel'};}var {subdomain:K,fullURL:Gs}=lr(b);console[a0_0x2ec1ea(0x6d4)](a0_0x2ec1ea(0x630),K),console[a0_0x2ec1ea(0x6d4)]('URL\x20completa:',Gs);async function ur(){const _0x583839=a0_0x2ec1ea;let _0x121922=b[_0x583839(0x63f)](_0x583839(0x356)),_0xc28b96=b[_0x583839(0x63f)](_0x583839(0x5ad))[_0x583839(0x566)][_0x583839(0x2a0)],_0x2d8fd9=b['get']('SSL_CONF'),_0x57b0c8=await Bi(),_0x21afaf=b['get'](_0x583839(0x568))[_0x583839(0x38a)],_0x38c423=Gs;try{let _0x1e12cc={'ip':_0x57b0c8||null,'redis_enable':_0x121922?.['ENABLED']||null,'apikey':_0xc28b96||null,'ssl':_0x2d8fd9?.[_0x583839(0x73e)]||null,'lastupdate':Wi||null,'port':_0x21afaf||null,'gitInstallError':Re?.[_0x583839(0x653)]||null,'url':_0x38c423||null,'subdomain':K};if(console[_0x583839(0x6d4)]('ip:\x20',_0x1e12cc['ip']),_0x121922&&_0x121922[_0x583839(0x4d5)]){let _0xe90524=await cr();_0x1e12cc['instanceCount']=_0xe90524||null;}for(let _0x24fb50 in _0x1e12cc)_0x1e12cc[_0x583839(0x7d4)](_0x24fb50)&&_0x24fb50!=='ip'&&(_0x1e12cc[_0x24fb50]=JSON[_0x583839(0x46a)](_0x1e12cc[_0x24fb50]));return(await Je['default']['post'](_0x583839(0x5a1),_0x1e12cc))[_0x583839(0x6c8)];}catch(_0x4d8b5b){return console[_0x583839(0x3cc)](_0x4d8b5b),!0x1;}}var Js=!0x1,Wi=0x263,dr=0x3,ji=0x1b7740;async function Vs(){const _0x2107b3=a0_0x2ec1ea;let _0x476e65=_0x2107b3(0x703);Re===null&&(_0x476e65=await Bi());let _0x30f193=await ur();if(_0x30f193){if(_0x30f193[_0x2107b3(0xe3)][_0x2107b3(0x22d)]===!0x0){Re===null&&_0x30f193[_0x2107b3(0xe3)][_0x2107b3(0x142)]-Wi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x254b31=0x24*0x3c*0x3c,_0x5d3367=_0x30f193[_0x2107b3(0xe3)][_0x2107b3(0x5e9)]>_0x254b31?_0x254b31:_0x30f193['response'][_0x2107b3(0x5e9)],_0x5f1737=Number(_0x5d3367);if(isNaN(_0x5f1737)){console[_0x2107b3(0x3cc)](_0x2107b3(0x636));return;}let _0x3a95f1=Math[_0x2107b3(0x183)](_0x5f1737/0xe10),_0x7d0d4b=Math[_0x2107b3(0x183)](_0x5f1737%0xe10/0x3c),_0x5a50d8=new Date(Date[_0x2107b3(0x493)]()+_0x5f1737*0x3e8);setTimeout(Vs,_0x5f1737*0x3e8);let _0x348dd6=_0xdac7fa=>_0xdac7fa[_0x2107b3(0x4e0)]()[_0x2107b3(0x443)](0x2,'0'),_0x64cab9=_0x2107b3(0x595)+_0x348dd6(_0x3a95f1)+_0x2107b3(0x6b0)+_0x348dd6(_0x7d0d4b)+'\x20minutos.\x20Ser\x20s\x20'+_0x348dd6(_0x5a50d8[_0x2107b3(0x214)]())+':'+_0x348dd6(_0x5a50d8['getMinutes']())+'.';console[_0x2107b3(0x6d4)](_0x64cab9);}else return console[_0x2107b3(0x6d4)]('Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x2107b3(0x6d4)](_0x2107b3(0x7e1)),process[_0x2107b3(0x717)]()),_0x2107b3(0x659);}else{if(Ui++,Ui<dr)console[_0x2107b3(0x6d4)](_0x2107b3(0x799)+ji/0xea60+_0x2107b3(0x65c)),setTimeout(Vs,ji);else return console[_0x2107b3(0x3cc)](_0x2107b3(0x6ec)),_0x2107b3(0x3d4);}}async function pr(){const _0x5dca4d=a0_0x2ec1ea;console[_0x5dca4d(0x6d4)](_0x5dca4d(0x276)),console[_0x5dca4d(0x6d4)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,ls[_0x5dca4d(0x320)])(_0x5dca4d(0x3ba),{'shell':!0x0})['on'](_0x5dca4d(0x675),_0x1a12c8=>{const _0x1e6387=_0x5dca4d;_0x1a12c8!==0x0?console[_0x1e6387(0x3cc)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x1e6387(0x6d4)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console['log'](_0x1e6387(0x2ee)),(0x0,ls[_0x1e6387(0x320)])(_0x1e6387(0x39d),{'shell':!0x0})['on']('close',_0x5bdf84=>{const _0x4bcc4a=_0x1e6387;if(_0x5bdf84!==0x0)console['error'](_0x4bcc4a(0x3eb));else{console['log'](_0x4bcc4a(0x742));let _0x3778be=(0x0,ls[_0x4bcc4a(0x320)])(_0x4bcc4a(0x7e8),{'shell':!0x0});_0x3778be['stdout']['on'](_0x4bcc4a(0x6c8),_0x5ab5bc=>{const _0x84ea92=_0x4bcc4a;console[_0x84ea92(0x6d4)]('Atualizao:\x20'+_0x5ab5bc);}),_0x3778be['stderr']['on'](_0x4bcc4a(0x6c8),_0x2a7713=>{const _0x58ee28=_0x4bcc4a;console[_0x58ee28(0x3cc)](_0x58ee28(0x1d0)+_0x2a7713);}),_0x3778be['on'](_0x4bcc4a(0x717),_0x5ecdb5=>{const _0x4cf76b=_0x4bcc4a;_0x5ecdb5!==0x0?console[_0x4cf76b(0x3cc)](_0x4cf76b(0xde)+_0x5ecdb5):console['log'](_0x4cf76b(0x50c)),console['log'](_0x4cf76b(0x44f)),setTimeout(()=>process[_0x4cf76b(0x717)](),0x2710);});}}));});}0x0&&(module[a0_0x2ec1ea(0x20a)]={'fullURL':fullURL,'subdomain':subdomain});