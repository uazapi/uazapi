const a0_0x33b913=a0_0x358b;(function(_0x1cbea2,_0x2e10da){const _0x493dfd=a0_0x358b,_0x1205c7=_0x1cbea2();while(!![]){try{const _0x53e3f7=-parseInt(_0x493dfd(0x330))/0x1*(parseInt(_0x493dfd(0x31a))/0x2)+-parseInt(_0x493dfd(0x266))/0x3+-parseInt(_0x493dfd(0x47c))/0x4*(parseInt(_0x493dfd(0x14b))/0x5)+-parseInt(_0x493dfd(0x802))/0x6*(parseInt(_0x493dfd(0x7eb))/0x7)+parseInt(_0x493dfd(0x7c3))/0x8*(parseInt(_0x493dfd(0x7b9))/0x9)+parseInt(_0x493dfd(0x7a0))/0xa+parseInt(_0x493dfd(0x679))/0xb*(parseInt(_0x493dfd(0x7cc))/0xc);if(_0x53e3f7===_0x2e10da)break;else _0x1205c7['push'](_0x1205c7['shift']());}catch(_0x8f1a58){_0x1205c7['push'](_0x1205c7['shift']());}}}(a0_0x154b,0x6fbc3));var Fi=Object[a0_0x33b913(0x2ea)],Le=Object['defineProperty'],Li=Object[a0_0x33b913(0x830)],Ui=Object[a0_0x33b913(0x2a7)],Ji=Object[a0_0x33b913(0x692)],qi=Object[a0_0x33b913(0x43a)]['hasOwnProperty'],Vi=(_0x18a5eb,_0x42a909)=>{for(var _0x8a6d5d in _0x42a909)Le(_0x18a5eb,_0x8a6d5d,{'get':_0x42a909[_0x8a6d5d],'enumerable':!0x0});},Js=(_0x469d71,_0x215709,_0x493f2e,_0x1e992c)=>{const _0x39c897=a0_0x33b913;if(_0x215709&&typeof _0x215709==_0x39c897(0x24d)||typeof _0x215709=='function'){for(let _0x30cca4 of Ui(_0x215709))!qi['call'](_0x469d71,_0x30cca4)&&_0x30cca4!==_0x493f2e&&Le(_0x469d71,_0x30cca4,{'get':()=>_0x215709[_0x30cca4],'enumerable':!(_0x1e992c=Li(_0x215709,_0x30cca4))||_0x1e992c[_0x39c897(0x5cf)]});}return _0x469d71;},T=(_0x5050fd,_0xd6bb3a,_0x275a8f)=>(_0x275a8f=_0x5050fd!=null?Fi(Ji(_0x5050fd)):{},Js(_0xd6bb3a||!_0x5050fd||!_0x5050fd[a0_0x33b913(0x6ae)]?Le(_0x275a8f,a0_0x33b913(0x876),{'value':_0x5050fd,'enumerable':!0x0}):_0x275a8f,_0x5050fd)),Gi=_0x592f86=>Js(Le({},'__esModule',{'value':!0x0}),_0x592f86),nr={};Vi(nr,{'subdomain':()=>Ps}),module['exports']=Gi(nr);var Oi=T(require('compression')),Vs=require('fs'),Gs=require(a0_0x33b913(0x4f1)),Bs=require(a0_0x33b913(0x2e5)),Ue=require(a0_0x33b913(0x2e5)),ie=process[a0_0x33b913(0x829)](),we=(0x0,Ue['join'])(ie,'instances'),qs=(0x0,Ue['join'])(ie,a0_0x33b913(0x355)),Zr=(0x0,Ue['join'])(ie,a0_0x33b913(0x744),'auth'),ns=class{constructor(){const _0x2b8218=a0_0x33b913;this[_0x2b8218(0x7ad)]();}[a0_0x33b913(0x1f0)](_0x1a552a){return this['env'][_0x1a552a];}[a0_0x33b913(0x7ad)](){const _0x107d9b=a0_0x33b913;this[_0x107d9b(0x3e7)]=process['env']?.[_0x107d9b(0x521)]!==_0x107d9b(0x274)?this['envYaml']():this['envProcess'](),process[_0x107d9b(0x3e7)]?.[_0x107d9b(0x521)]===_0x107d9b(0x274)&&(this[_0x107d9b(0x3e7)][_0x107d9b(0x38e)][_0x107d9b(0x565)]=_0x107d9b(0x735),this['env'][_0x107d9b(0x38e)]['PORT']=Number[_0x107d9b(0x7c2)](process[_0x107d9b(0x3e7)]?.[_0x107d9b(0x3cd)]??_0x107d9b(0x309)));}['envYaml'](){const _0x32264a=a0_0x33b913;return(0x0,Gs[_0x32264a(0x7b7)])((0x0,Vs['readFileSync'])((0x0,Bs[_0x32264a(0x7f8)])(qs,_0x32264a(0x562)),{'encoding':_0x32264a(0x33f)}));}[a0_0x33b913(0x21d)](){const _0x4656da=a0_0x33b913;return{'SERVER':{'TYPE':process['env'][_0x4656da(0x7f7)],'PORT':Number['parseInt'](process[_0x4656da(0x3e7)][_0x4656da(0x3cd)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x4656da(0x3e7)][_0x4656da(0x424)][_0x4656da(0x76e)](','),'METHODS':process[_0x4656da(0x3e7)][_0x4656da(0x401)][_0x4656da(0x76e)](','),'CREDENTIALS':process['env']?.[_0x4656da(0x412)]===_0x4656da(0x274)},'SSL_CONF':{'PRIVKEY':process[_0x4656da(0x3e7)]?.[_0x4656da(0x4b1)],'FULLCHAIN':process[_0x4656da(0x3e7)]?.[_0x4656da(0x732)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4656da(0x3e7)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x4656da(0x7c2)](process[_0x4656da(0x3e7)][_0x4656da(0x376)]):void 0x0,'MESSAGES':process[_0x4656da(0x3e7)]?.[_0x4656da(0x50e)]===_0x4656da(0x274),'CONTACTS':process[_0x4656da(0x3e7)]?.[_0x4656da(0x6fa)]===_0x4656da(0x274),'CHATS':process[_0x4656da(0x3e7)]?.[_0x4656da(0x70a)]===_0x4656da(0x274)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4656da(0x3e7)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x4656da(0x7c2)](process[_0x4656da(0x3e7)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x4656da(0x3e7)][_0x4656da(0x373)],'PASSWORD':process[_0x4656da(0x3e7)][_0x4656da(0x446)],'URI':process[_0x4656da(0x3e7)][_0x4656da(0x308)],'DB_PREFIX_NAME':process[_0x4656da(0x3e7)][_0x4656da(0x423)]},'ENABLED':process[_0x4656da(0x3e7)]?.[_0x4656da(0x7e1)]===_0x4656da(0x274)},'REDIS':{'ENABLED':process[_0x4656da(0x3e7)]?.[_0x4656da(0x61c)]===_0x4656da(0x274),'URI':process[_0x4656da(0x3e7)][_0x4656da(0x240)]||_0x4656da(0x6df),'PREFIX_KEY':process[_0x4656da(0x3e7)][_0x4656da(0x2db)]||_0x4656da(0x6f4)},'LOG':{'LEVEL':process[_0x4656da(0x3e7)]?.[_0x4656da(0x653)][_0x4656da(0x76e)](','),'COLOR':process[_0x4656da(0x3e7)]?.[_0x4656da(0x47e)]===_0x4656da(0x274)},'PROXY':Number[_0x4656da(0x7c2)](process[_0x4656da(0x3e7)]?.[_0x4656da(0x6fb)]),'AUTHENTICATION':{'TYPE':process[_0x4656da(0x3e7)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x4656da(0x3e7)][_0x4656da(0x524)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x4656da(0x14f)])?Number['parseInt'](process['env'][_0x4656da(0x14f)]):0xe10,'SECRET':process['env'][_0x4656da(0x7af)]}}};}},S=new ns(),Ii=T(require(a0_0x33b913(0x637))),fe=T(require(a0_0x33b913(0x13f))),Ls=require(a0_0x33b913(0x2e5)),cs=T(require(a0_0x33b913(0x19a))),ls=(_0x42d214=>(_0x42d214[a0_0x33b913(0x5f7)]=a0_0x33b913(0x2b5),_0x42d214[a0_0x33b913(0x32c)]=a0_0x33b913(0x7de),_0x42d214['WARN']='\x1b[33m',_0x42d214[a0_0x33b913(0x77f)]=a0_0x33b913(0x5bd),_0x42d214[a0_0x33b913(0x56a)]=a0_0x33b913(0x605),_0x42d214[a0_0x33b913(0x315)]=a0_0x33b913(0x82b),_0x42d214['DARK']=a0_0x33b913(0x1be),_0x42d214))(ls||{}),Ws=(_0x1a2269=>(_0x1a2269[a0_0x33b913(0x5f7)]=a0_0x33b913(0x58e),_0x1a2269[a0_0x33b913(0x359)]=a0_0x33b913(0x6cb),_0x1a2269[a0_0x33b913(0x32c)]='\x1b[34m%s\x1b[0m',_0x1a2269['WARN']='\x1b[33m%s\x1b[0m',_0x1a2269[a0_0x33b913(0x77f)]='\x1b[31m%s\x1b[0m',_0x1a2269[a0_0x33b913(0x56a)]='\x1b[36m%s\x1b[0m',_0x1a2269[a0_0x33b913(0x315)]=a0_0x33b913(0x1d6),_0x1a2269))(Ws||{}),zs=(_0x9830db=>(_0x9830db[a0_0x33b913(0x5f7)]=a0_0x33b913(0x5f7),_0x9830db[a0_0x33b913(0x3db)]=a0_0x33b913(0x3db),_0x9830db[a0_0x33b913(0x32c)]=a0_0x33b913(0x32c),_0x9830db[a0_0x33b913(0x359)]=a0_0x33b913(0x359),_0x9830db['ERROR']=a0_0x33b913(0x77f),_0x9830db[a0_0x33b913(0x56a)]=a0_0x33b913(0x56a),_0x9830db[a0_0x33b913(0x315)]=a0_0x33b913(0x315),_0x9830db))(zs||{}),Hs=(_0x15fd78=>(_0x15fd78[a0_0x33b913(0x5f7)]=a0_0x33b913(0x44a),_0x15fd78[a0_0x33b913(0x32c)]=a0_0x33b913(0x611),_0x15fd78['WARN']=a0_0x33b913(0x2dc),_0x15fd78['DARK']=a0_0x33b913(0x7c5),_0x15fd78['ERROR']='\x1b[41m',_0x15fd78[a0_0x33b913(0x56a)]=a0_0x33b913(0x346),_0x15fd78[a0_0x33b913(0x315)]=a0_0x33b913(0x284),_0x15fd78))(Hs||{}),$=class{constructor(_0x2689aa=a0_0x33b913(0x7fc)){const _0x28fe17=a0_0x33b913;this[_0x28fe17(0x403)]=_0x2689aa,this['configService']=S;}[a0_0x33b913(0x55f)](_0x301e46){this['context']=_0x301e46;}[a0_0x33b913(0x3f0)](_0x36d0e2,_0x58e1e3){const _0x49e747=a0_0x33b913;let _0x488a43=[];this[_0x49e747(0x5d4)]['get'](_0x49e747(0x5f7))[_0x49e747(0x185)][_0x49e747(0x211)](_0x2d233d=>_0x488a43[_0x49e747(0x41a)](zs[_0x2d233d]));let _0x54f0a6=typeof _0x36d0e2;_0x488a43[_0x49e747(0x798)](_0x58e1e3)&&(S[_0x49e747(0x1f0)](_0x49e747(0x5f7))['COLOR']?(console['log'](_0x49e747(0x557)+Ws[_0x58e1e3],_0x49e747(0x397),(0x0,cs[_0x49e747(0x876)])()[_0x49e747(0x2f5)](_0x49e747(0x80b)),_0x49e747(0x456),ls[_0x58e1e3]+Hs[_0x58e1e3]+_0x49e747(0x557),_0x58e1e3+'\x20\x1b[0m',_0x49e747(0x80e),this[_0x49e747(0x403)]+_0x49e747(0x456),ls[_0x58e1e3],_0x54f0a6!==_0x49e747(0x24d)?_0x36d0e2:'',_0x49e747(0x456)),_0x54f0a6===_0x49e747(0x24d)&&console[_0x49e747(0x77d)](_0x36d0e2,'\x0a')):console[_0x49e747(0x77d)]((0x0,cs[_0x49e747(0x876)])()[_0x49e747(0x2f5)](_0x49e747(0x79c)),_0x58e1e3+'\x20',''+this['context'],_0x36d0e2));}[a0_0x33b913(0x77d)](_0x35cc6d){this['console'](_0x35cc6d,'LOG');}[a0_0x33b913(0x4f3)](_0x4ae79f){const _0x2f6324=a0_0x33b913;this[_0x2f6324(0x3f0)](_0x4ae79f,_0x2f6324(0x32c));}[a0_0x33b913(0x72b)](_0xd91ee6){const _0x2ab8ad=a0_0x33b913;this[_0x2ab8ad(0x3f0)](_0xd91ee6,_0x2ab8ad(0x3db));}[a0_0x33b913(0x43c)](_0xcf9cc7){const _0x101e63=a0_0x33b913;this['console'](_0xcf9cc7,_0x101e63(0x77f));}[a0_0x33b913(0x6e9)](_0x41d96e){const _0x260fd9=a0_0x33b913;this[_0x260fd9(0x3f0)](_0x41d96e,_0x260fd9(0x315));}[a0_0x33b913(0x2ca)](_0x272e0b){this['console'](_0x272e0b,'DEBUG');}['dark'](_0x107e3e){const _0x1ae830=a0_0x33b913;this[_0x1ae830(0x3f0)](_0x107e3e,_0x1ae830(0x359));}};function Ks(){const _0x19eb82=a0_0x33b913;process['on'](_0x19eb82(0x733),(_0x3c89ba,_0x2002ca)=>{const _0x23bc0d=_0x19eb82;new $('uncaughtException')['error']({'origin':_0x2002ca,'stderr':process[_0x23bc0d(0x28f)]['fd'],'error':_0x3c89ba});}),process['on'](_0x19eb82(0x870),(_0x4db829,_0x56a5b7)=>{const _0x5a0324=_0x19eb82;new $(_0x5a0324(0x870))[_0x5a0324(0x43c)]({'origin':_0x56a5b7,'stderr':process['stderr']['fd'],'error':_0x4db829});});}var Qs=T(require('eventemitter2')),us=new Qs[(a0_0x33b913(0x876))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),be=require(a0_0x33b913(0x54d)),Ee=T(require(a0_0x33b913(0x54d))),Je=new $('Db\x20Connection'),j=S[a0_0x33b913(0x1f0)]('DATABASE'),R=j['ENABLED']?j[a0_0x33b913(0x169)]['URI']?Ee[a0_0x33b913(0x876)]['createConnection'](j[a0_0x33b913(0x169)]['URI'],{'dbName':j['CONNECTION']['DB_PREFIX_NAME']+'-whatsapp-api'}):Ee[a0_0x33b913(0x876)]['createConnection'](a0_0x33b913(0x1ac)+j[a0_0x33b913(0x169)][a0_0x33b913(0x7fe)]+':'+j[a0_0x33b913(0x169)][a0_0x33b913(0x5ac)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':j[a0_0x33b913(0x169)]['USER'],'pass':j[a0_0x33b913(0x169)][a0_0x33b913(0x691)],'dbName':j[a0_0x33b913(0x169)][a0_0x33b913(0x1b0)]+a0_0x33b913(0x5d5)}):null;j['ENABLED']&&Je['info'](a0_0x33b913(0x875)+R['$dbName']);var ye=j['ENABLED']?j[a0_0x33b913(0x169)]['URI']?Ee[a0_0x33b913(0x876)][a0_0x33b913(0x507)](j['CONNECTION'][a0_0x33b913(0x3eb)],{'dbName':a0_0x33b913(0x7ca)}):Ee['default']['createConnection']('mongodb://'+j['CONNECTION']['HOST']+':'+j['CONNECTION'][a0_0x33b913(0x5ac)]+a0_0x33b913(0x3d8),{'user':j[a0_0x33b913(0x169)][a0_0x33b913(0x5c8)],'pass':j['CONNECTION'][a0_0x33b913(0x691)],'dbName':a0_0x33b913(0x2eb)}):null;ye&&Je[a0_0x33b913(0x4f3)]('ON\x20-\x20dbName:\x20'+ye['$dbName']),process['on'](a0_0x33b913(0x705),()=>{const _0x4a9066=a0_0x33b913;R&&R[_0x4a9066(0x851)](()=>{const _0x5d88cf=_0x4a9066;Je[_0x5d88cf(0x4f3)](_0x5d88cf(0x47d));}),ye&&ye[_0x4a9066(0x851)](()=>{const _0x56e368=_0x4a9066;Je[_0x56e368(0x4f3)](_0x56e368(0x5e3));});});var Bi=new be[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wi=new be[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zi=new be['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Hi=new be[(a0_0x33b913(0x4df))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bi],'default':[]}},{'_id':!0x1}),Ki=new be[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Hi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wi},'groupdata':{'type':zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x4758a2=>{const _0x2658bb=a0_0x33b913;let _0x9a8049='z_'+_0x4758a2+_0x2658bb(0x7c1);return R?.[_0x2658bb(0x6eb)](_0x2658bb(0x701),Ki,_0x9a8049);},Xs=require(a0_0x33b913(0x54d)),Qi=new Xs[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x501db2=>{const _0x180cd8=a0_0x33b913;let _0x56b1b8='z_'+_0x501db2+'_Contacts';return R?.['model'](_0x180cd8(0x18e),Qi,_0x56b1b8);},ea=require('mongoose'),ds=class{},Yi=new ea[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=ye?.[a0_0x33b913(0x6eb)](ds[a0_0x33b913(0x382)],Yi,a0_0x33b913(0x4a5)),sa=require(a0_0x33b913(0x54d)),Xi=new sa[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x2c1152=>{const _0x55f82e=a0_0x33b913;let _0x1067ef='z_'+_0x2c1152+_0x55f82e(0x15d);return R?.[_0x55f82e(0x6eb)](_0x55f82e(0x1fb),Xi,_0x1067ef);},ia=require('mongoose'),ps=class{},Zi=new ia[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=R?.['model'](ps['name'],Zi,a0_0x33b913(0x3cc)),ra=require(a0_0x33b913(0x54d)),hs=class{},na=new ra[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x33b913(0x62e)]('save',function(_0x32ed52){const _0x10e372=a0_0x33b913;delete this[_0x10e372(0x3b9)],delete this['flowIgnoreGroups'],delete this[_0x10e372(0x279)],delete this['flowStopConversation'],delete this[_0x10e372(0x363)],_0x32ed52();});function a0_0x358b(_0x21943b,_0x3d2a31){const _0x154b4f=a0_0x154b();return a0_0x358b=function(_0x358b1,_0x57def6){_0x358b1=_0x358b1-0x134;let _0x2f2df0=_0x154b4f[_0x358b1];return _0x2f2df0;},a0_0x358b(_0x21943b,_0x3d2a31);}var ca=R?.[a0_0x33b913(0x6eb)](hs[a0_0x33b913(0x382)],na,a0_0x33b913(0x4e1)),_=require(a0_0x33b913(0x54d)),gs=require(a0_0x33b913(0x360)),qe=class{},la=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _[(a0_0x33b913(0x4df))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),eo=new _[(a0_0x33b913(0x4df))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x33b913(0x5f2)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x33b913(0x1e6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x33b913(0x1b4)},'pollErrorMessage':{'type':String,'default':a0_0x33b913(0x79f)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new _[(a0_0x33b913(0x4df))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),to=new _[(a0_0x33b913(0x4df))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),so=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new _[(a0_0x33b913(0x4df))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ao=new _[(a0_0x33b913(0x4df))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),da=new _[(a0_0x33b913(0x4df))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':eo},'apirequest':to,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ao,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),pa=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),fs=class{},bs=new _[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x4987e7=a0_0x33b913;return _0x4987e7(0x38b)+Math[_0x4987e7(0x5c9)]()[_0x4987e7(0x2fe)](0x24)[_0x4987e7(0x4b8)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x33b913(0x68d)},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]}});bs[a0_0x33b913(0x62e)](a0_0x33b913(0x285),function(_0x426dd1){const _0x4fd90d=a0_0x33b913;let _0x4f60a5=this[_0x4fd90d(0x4fa)]();if(_0x4f60a5&&typeof _0x4f60a5==_0x4fd90d(0x24d)&&'$set'in _0x4f60a5){let _0x5729b3=_0x4f60a5[_0x4fd90d(0x18a)];if(_0x5729b3){let _0x750b64=new Set(),_0x2ce4e0=new Set(_0x5729b3[_0x4fd90d(0x566)]?.[_0x4fd90d(0x6f7)](_0x3ce842=>_0x3ce842['name'])),_0x475b2b=JSON[_0x4fd90d(0x590)](_0x5729b3),_0x22fcb4=/{{(?!_)([^}]*)}}/g,_0xb0a93c;for(;(_0xb0a93c=_0x22fcb4[_0x4fd90d(0x638)](_0x475b2b))!==null;)_0x2ce4e0['has'](_0xb0a93c[0x1])||_0x750b64[_0x4fd90d(0x47b)](_0xb0a93c[0x1]);_0x750b64[_0x4fd90d(0x411)]>0x0?(console[_0x4fd90d(0x72b)](_0x4fd90d(0x311),Array[_0x4fd90d(0x496)](_0x750b64)),_0x5729b3[_0x4fd90d(0x4fb)]=Array[_0x4fd90d(0x496)](_0x750b64)):_0x5729b3[_0x4fd90d(0x4fb)]=[],this['setUpdate']({'$set':_0x5729b3});}}_0x426dd1();});var Ss=_0x3d43cd=>{const _0x55bb04=a0_0x33b913;let _0x4bbc42='z_'+_0x3d43cd+_0x55bb04(0x45a);return R?.[_0x55bb04(0x6eb)]('FlowModel',bs,_0x4bbc42);},ue=R?.[a0_0x33b913(0x6eb)](fs[a0_0x33b913(0x382)],bs,a0_0x33b913(0x474)),io=new _[(a0_0x33b913(0x4df))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[so]},{'_id':!0x1}),oo=new _[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[ms],'default':[]},'chatLog':io,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x33b913(0x6c3)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x33b913(0x1b4)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x323ecc=>{const _0x384301=a0_0x33b913;let _0x29ab49='z_'+_0x323ecc+_0x384301(0x1eb);return R?.['model'](_0x384301(0x3c6),oo,_0x29ab49);},ro=new _[(a0_0x33b913(0x4df))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),no=new _[(a0_0x33b913(0x4df))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),co=new _['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x33b913(0x293)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':no,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ro],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x55584e=>{const _0x330c9d=a0_0x33b913;let _0xaae04='z_'+_0x55584e+_0x330c9d(0x666);return R?.['model'](_0x330c9d(0x61e),co,_0xaae04);},ws=class{},lo=new _['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),uo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),po=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ho=new _[(a0_0x33b913(0x4df))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x33b913(0x780)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),go=new _[(a0_0x33b913(0x4df))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),mo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[go]},'customFields':{'type':[po]},'flowConfig':{'type':ho,'default':{}},'flows':{'type':[uo],'default':[]},'autoCompleteMessages':{'type':[lo],'default':[]}}),ve=R?.[a0_0x33b913(0x6eb)](ws[a0_0x33b913(0x382)],mo,a0_0x33b913(0x36e)),ma=require(a0_0x33b913(0x54d)),fo=new ma[(a0_0x33b913(0x4df))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x55f344=>{const _0x229ad9=a0_0x33b913;let _0x536f5b='z_'+_0x55f344+_0x229ad9(0x583);return R?.[_0x229ad9(0x6eb)](_0x229ad9(0x5f8),fo,_0x536f5b);},I=class{constructor(_0x48a16d){const _0x428f41=a0_0x33b913;this[_0x428f41(0x5b3)]=_0x48a16d[_0x428f41(0x1f0)]('DATABASE');}};function O(_0x440bde){const _0x5b1ece=a0_0x33b913;let _0x2154df={};for(let [_0x270d84,_0x4a9b2b]of Object['entries'](_0x440bde))if(typeof _0x4a9b2b=='object'&&!Array['isArray'](_0x4a9b2b)){for(let [_0x45e4f7,_0x5bfa10]of Object[_0x5b1ece(0x1e9)](_0x4a9b2b))_0x2154df[_0x270d84+'.'+_0x45e4f7]=_0x5bfa10;}else _0x2154df[_0x270d84]=_0x4a9b2b;return _0x2154df;}var Ve=class{constructor(_0x5992c9,_0x50ee81,_0x2bde75,_0x288038,_0x1316a7,_0x4e511c,_0x41bbae,_0x447df0,_0x730660,_0x4b0491,_0x552c59,_0x58d5e0){const _0x23c1e2=a0_0x33b913;this[_0x23c1e2(0x65e)]=_0x5992c9,this[_0x23c1e2(0x24b)]=_0x50ee81,this[_0x23c1e2(0x277)]=_0x2bde75,this[_0x23c1e2(0x769)]=_0x288038,this[_0x23c1e2(0x4e1)]=_0x1316a7,this[_0x23c1e2(0x394)]=_0x4e511c,this[_0x23c1e2(0x223)]=_0x41bbae,this[_0x23c1e2(0x555)]=_0x447df0,this[_0x23c1e2(0x727)]=_0x730660,this[_0x23c1e2(0x261)]=_0x4b0491,this[_0x23c1e2(0x3e2)]=_0x552c59,this['dbClient']=_0x58d5e0;}get[a0_0x33b913(0x635)](){return this['dbClient'];}},Ge=class{},Be=class extends I{[a0_0x33b913(0x2f2)](_0x552ec7){return aa(_0x552ec7);}async[a0_0x33b913(0x814)](_0x14e610,_0x11c599){const _0x203e51=a0_0x33b913;if(_0x14e610[_0x203e51(0x4ee)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x203e51(0x2f2)](_0x11c599)['insertMany']([..._0x14e610]))[_0x203e51(0x4ee)]};}catch(_0x52863b){return _0x52863b;}}async[a0_0x33b913(0x345)](_0x5114b8,_0xdbe781){const _0x420c63=a0_0x33b913;try{let _0x38a6b4=this['getMessageModelForOwner'](_0xdbe781),_0x3eb0ed=O(_0x5114b8['where']);return await _0x38a6b4[_0x420c63(0x345)](_0x3eb0ed)['sort']({'messageTimestamp':-0x1})[_0x420c63(0x3c5)](_0x5114b8?.[_0x420c63(0x3c5)]??0x0)['lean']();}catch{return[];}}async[a0_0x33b913(0x76a)](_0x4a9f06,_0x5832b9){const _0x5ebb16=a0_0x33b913;try{let _0x64605a=this[_0x5ebb16(0x2f2)](_0x5832b9),_0x2e6543=O(_0x4a9f06[_0x5ebb16(0x7fb)]);await _0x64605a[_0x5ebb16(0x238)](_0x2e6543);}catch(_0x435fe1){console[_0x5ebb16(0x43c)](_0x435fe1);}}async[a0_0x33b913(0x784)](_0x97958d,_0xdf6bc2,_0x1f8efe){const _0x54fa8b=a0_0x33b913;try{let _0x34cd96=this[_0x54fa8b(0x2f2)](_0x1f8efe),_0xcf0f5b=O(_0x97958d[_0x54fa8b(0x7fb)]);return await _0x34cd96[_0x54fa8b(0x285)](_0xcf0f5b,{'$set':_0xdf6bc2},{'new':!0x0});}catch(_0x130d75){throw console['error'](_0x130d75),_0x130d75;}}async[a0_0x33b913(0x1cb)](_0x5a31dd,_0x12b7cd){const _0xd4e01=a0_0x33b913;if(_0x5a31dd['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xd4e01(0x2f2)](_0x12b7cd)['insertMany']([..._0x5a31dd]))[_0xd4e01(0x4ee)]};}catch(_0x4ef1f2){return console['log'](_0xd4e01(0x319),_0x4ef1f2),_0x4ef1f2;}}async[a0_0x33b913(0x520)](_0x28d58b){const _0x39fc5c=a0_0x33b913;try{return await this[_0x39fc5c(0x2f2)](_0x28d58b)[_0x39fc5c(0x43b)]['drop'](),{'success':!0x0};}catch(_0x2c32b1){return console[_0x39fc5c(0x43c)](_0x2c32b1),{'success':!0x1,'error':_0x2c32b1};}}},xs=T(require(a0_0x33b913(0x697))),w=T(require(a0_0x33b913(0x155))),Ie=require('fs'),L=T(require(a0_0x33b913(0x2e5))),K=T(require(a0_0x33b913(0x636))),Mi=require('uuid'),Ci=T(require(a0_0x33b913(0x6ed))),Ei=T(require(a0_0x33b913(0x6aa))),wa=[a0_0x33b913(0x62d),a0_0x33b913(0x7a9),a0_0x33b913(0x475),a0_0x33b913(0x825),'stickerMessage'],ya=[a0_0x33b913(0x643),a0_0x33b913(0x6d3),'viewOnceMessage',a0_0x33b913(0x61d)],Os=require('os'),Pt=T(require(a0_0x33b913(0x32d))),_e=require('child_process'),kt=require(a0_0x33b913(0x6fe)),le=T(require('mongoose')),P=require(a0_0x33b913(0x4a1)),oe=class{constructor(_0x147b47,_0x16e310,_0x41566f){const _0xbf536b=a0_0x33b913;this['jid']=_0x147b47,this[_0xbf536b(0x4c3)]=_0x16e310,this[_0xbf536b(0x382)]=_0x41566f;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},Se=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=T(require(a0_0x33b913(0x13f))),ba=require('fs'),Sa=require(a0_0x33b913(0x2e5));async function $e(_0x4f3130){const _0x2e0d8b=a0_0x33b913;let _0x435da0=G[_0x2e0d8b(0x52b)][_0x4f3130];if(j[_0x2e0d8b(0x4cf)]){let _0x3949c4=R['getClient']()['db'](j['CONNECTION'][_0x2e0d8b(0x1b0)]+_0x2e0d8b(0x519))[_0x2e0d8b(0x43b)](_0x4f3130);return _0x435da0||(await _0x3949c4[_0x2e0d8b(0x345)]({})[_0x2e0d8b(0x65c)]())[_0x2e0d8b(0x4ee)]>0x0;}return _0x435da0||(0x0,ba[_0x2e0d8b(0x491)])((0x0,Sa[_0x2e0d8b(0x7f8)])(we,_0x4f3130));}async function Ma(_0xa7cc25,_0x441c1d,_0x2e7482){const _0x55bcb3=a0_0x33b913;if(_0xa7cc25['originalUrl'][_0x55bcb3(0x798)](_0x55bcb3(0x358))||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)]('/instance/fetchInstances')||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)]('/exit')||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)](_0x55bcb3(0x7b6))||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)]('/instance/connect')||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)](_0x55bcb3(0x1a9))||_0xa7cc25[_0x55bcb3(0x4dc)][_0x55bcb3(0x798)](_0x55bcb3(0x249)))return _0x2e7482();let _0xc6eeed=_0xa7cc25[_0x55bcb3(0x34e)];if(!_0xc6eeed?.[_0x55bcb3(0x6c1)])throw new m(_0x55bcb3(0x195));if(!await $e(_0xc6eeed[_0x55bcb3(0x6c1)]))throw new J(_0x55bcb3(0x418)+_0xc6eeed['instanceName']+_0x55bcb3(0x531));_0x2e7482();}async function Ca(_0x108605,_0x3f1ab1,_0x425406){const _0x136f9c=a0_0x33b913;if(_0x108605[_0x136f9c(0x4dc)][_0x136f9c(0x798)](_0x136f9c(0x358))){let _0x42f7d0=_0x108605[_0x136f9c(0x547)];if(await $e(_0x42f7d0['instanceName']))throw new Q('This\x20name\x20'+_0x42f7d0[_0x136f9c(0x6c1)]+_0x136f9c(0x5c7));G[_0x136f9c(0x52b)][_0x42f7d0[_0x136f9c(0x6c1)]]&&delete G[_0x136f9c(0x52b)][_0x42f7d0[_0x136f9c(0x6c1)]];}_0x425406();}var Ea=require(a0_0x33b913(0x4a1)),va=T(require('jsonwebtoken')),et=a0_0x33b913(0x6f4),yo=new $(a0_0x33b913(0x37f));async function bo(_0x4fcde8,_0x107bf9,_0x158ba4){const _0xd4baf4=a0_0x33b913;let _0x50957d=_0x4fcde8[_0xd4baf4(0x1f0)](_0xd4baf4(0x5d3));if(_0x50957d&&S[_0xd4baf4(0x1f0)]('AUTHENTICATION')[_0xd4baf4(0x64f)][_0xd4baf4(0x254)]!==_0x50957d)throw new se();if(S[_0xd4baf4(0x1f0)](_0xd4baf4(0x28a))[_0xd4baf4(0x64f)][_0xd4baf4(0x254)]===_0x50957d)return _0x158ba4();if((_0x4fcde8['originalUrl']['includes'](_0xd4baf4(0x358))||_0x4fcde8[_0xd4baf4(0x4dc)][_0xd4baf4(0x798)](_0xd4baf4(0x4d9)))&&!_0x50957d)throw new Q(_0xd4baf4(0x616),_0xd4baf4(0x2b4));let _0x2d6775=S['get'](_0xd4baf4(0x28a))[_0xd4baf4(0x6c6)];try{let [_0x391be0,_0x2c0529]=_0x4fcde8['get'](_0xd4baf4(0x142))['split']('\x20');if(_0x391be0[_0xd4baf4(0x815)]()!==_0xd4baf4(0x4ed))throw new se();if(!(0x0,Ea['isJWT'])(_0x2c0529))throw new se();let _0x16a882=_0x4fcde8[_0xd4baf4(0x34e)],_0x27f6dc=va[_0xd4baf4(0x876)][_0xd4baf4(0x367)](_0x2c0529,_0x2d6775[_0xd4baf4(0x1f7)],{'ignoreExpiration':_0x2d6775[_0xd4baf4(0x157)]===0x0});if(_0x16a882['instanceName']!==_0x27f6dc['instanceName']||et!==_0x27f6dc['apiName'])throw new se();return _0x158ba4();}catch(_0x246586){throw yo['error'](_0x246586),new se();}}async function So(_0x541391,_0x4ab239,_0x5b5449){const _0x5f4c85=a0_0x33b913;let _0x1c4598=S['get'](_0x5f4c85(0x28a))[_0x5f4c85(0x64f)],_0x11935b=_0x541391[_0x5f4c85(0x1f0)]('apikey');if(_0x1c4598[_0x5f4c85(0x254)]===_0x11935b)return _0x5b5449();if(_0x541391[_0x5f4c85(0x4dc)][_0x5f4c85(0x798)](_0x5f4c85(0x358))){let _0x3d5a54=$a,_0xb05dc5=_0x541391[_0x5f4c85(0x547)][_0x5f4c85(0x6c1)];if(_0x3d5a54&&_0xb05dc5['toLowerCase']()[_0x5f4c85(0x3fc)](_0x3d5a54[_0x5f4c85(0x815)]()))return _0x5b5449();if(!_0x11935b)throw new Q(_0x5f4c85(0x616),_0x5f4c85(0x2b4));}if(_0x541391['originalUrl']['includes'](_0x5f4c85(0x4d9))&&!_0x11935b)throw new Q(_0x5f4c85(0x616),_0x5f4c85(0x2b4));if(_0x541391[_0x5f4c85(0x4dc)][_0x5f4c85(0x798)](_0x5f4c85(0x26a))&&!_0x11935b)throw new Q(_0x5f4c85(0x616),_0x5f4c85(0x2b4));if(_0x541391['originalUrl']['includes']('/config')&&!_0x11935b)throw new Q(_0x5f4c85(0x616),_0x5f4c85(0x2b4));try{let _0x357b1a=_0x541391[_0x5f4c85(0x34e)],_0x29b3b7=await de[_0x5f4c85(0x394)][_0x5f4c85(0x345)](_0x357b1a[_0x5f4c85(0x6c1)]);if(_0x29b3b7&&_0x29b3b7[_0x5f4c85(0x5d3)]===_0x11935b)return _0x5b5449();}catch{}throw new se();}var Na={'jwt':bo,'apikey':So},ri=require(a0_0x33b913(0x13f)),v=require(a0_0x33b913(0x360)),E=(..._0x27f1c7)=>{const _0x42e9a1=a0_0x33b913;let _0x271b09={};return _0x27f1c7[_0x42e9a1(0x211)](_0x59db55=>_0x271b09[_0x59db55]={'minLength':0x1,'description':_0x42e9a1(0x7a8)+_0x59db55+_0x42e9a1(0x450)}),{'if':{'propertyNames':{'enum':[..._0x27f1c7]}},'then':{'properties':_0x271b09}};},N={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x33b913(0x63a)}},...E('instanceName')},lc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x867)],...E(a0_0x33b913(0x867))},uc={'properties':{'key':{'type':a0_0x33b913(0x24d),'properties':{'id':{'type':a0_0x33b913(0x63a)},'remoteJid':{'type':a0_0x33b913(0x63a)},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x33b913(0x3c9)],...E('id','remoteJid')},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x33b913(0x4c6),'description':a0_0x33b913(0x181)},'presence':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x650),a0_0x33b913(0x4d3),a0_0x33b913(0x549),a0_0x33b913(0x624),a0_0x33b913(0x278)]}}},z={'type':a0_0x33b913(0x63a),'description':'Invalid\x20format'},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x720)],...E(a0_0x33b913(0x720))}},'required':['textMessage','number']},Aa={'type':'string','pattern':a0_0x33b913(0x702),'description':a0_0x33b913(0x4e4)},dc={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...Aa},'options':{...Y},'textMessage':{'type':a0_0x33b913(0x24d),'properties':{'text':{'type':'string'}},'required':[a0_0x33b913(0x720)],...E('text')}},'required':[a0_0x33b913(0x817),a0_0x33b913(0x17a)]},pc={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...Aa},'options':{...Y},'mediaMessage':{'type':a0_0x33b913(0x24d),'properties':{'mediatype':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x42d),a0_0x33b913(0x576),a0_0x33b913(0x1c5),a0_0x33b913(0x7f3)]},'media':{'type':'string'},'fileName':{'type':a0_0x33b913(0x63a)},'caption':{'type':'string'}},'required':[a0_0x33b913(0x6bd),a0_0x33b913(0x44f)],...E('fileName','caption',a0_0x33b913(0x44f))}},'required':[a0_0x33b913(0x3f9),a0_0x33b913(0x17a)]},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x33b913(0x24d),'properties':{'image':{'type':a0_0x33b913(0x63a)}},'required':['image'],...E('image')}},'required':['stickerMessage',a0_0x33b913(0x17a)]},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':['text',a0_0x33b913(0x42d),a0_0x33b913(0x7f3),a0_0x33b913(0x1c5)]},'content':{'type':a0_0x33b913(0x63a)},'caption':{'type':a0_0x33b913(0x63a)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x33b913(0x4c6),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33b913(0x63a),'pattern':a0_0x33b913(0x758),'description':a0_0x33b913(0x1dd)}},'allContacts':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]}},'required':[a0_0x33b913(0x710),'content'],...E('type',a0_0x33b913(0x3ec))}},'required':['statusMessage']},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x33b913(0x24d),'properties':{'mediatype':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x42d),a0_0x33b913(0x576),'video',a0_0x33b913(0x7f3)]},'media':{'type':a0_0x33b913(0x63a)},'fileName':{'type':'string'},'caption':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x6bd),'media'],...E(a0_0x33b913(0x3dc),a0_0x33b913(0x669),a0_0x33b913(0x44f))}},'required':[a0_0x33b913(0x3f9),a0_0x33b913(0x17a)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x33b913(0x24d),'properties':{'audio':{'type':'string'}},'required':[a0_0x33b913(0x7f3)],...E(a0_0x33b913(0x7f3))}},'required':[a0_0x33b913(0x475),a0_0x33b913(0x17a)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x33b913(0x63a)},'selectableCount':{'type':'number'},'values':{'type':a0_0x33b913(0x3e0),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x33b913(0x3ef),a0_0x33b913(0x563)],...E(a0_0x33b913(0x382),a0_0x33b913(0x3ef),a0_0x33b913(0x563))}},'required':['number','pollMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'menuMessage':{'type':a0_0x33b913(0x24d),'properties':{'text':{'type':a0_0x33b913(0x63a)},'choices':{'type':a0_0x33b913(0x3e0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x33b913(0x720),a0_0x33b913(0x16a)],...E(a0_0x33b913(0x720),'choices')}},'required':[a0_0x33b913(0x17a),'menuMessage']},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x33b913(0x63a)},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33b913(0x24d),'properties':{'buttonText':{'type':a0_0x33b913(0x63a)},'buttonId':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x1e7),a0_0x33b913(0x352)],...E(a0_0x33b913(0x1e7),a0_0x33b913(0x352))}},'mediaMessage':{'type':a0_0x33b913(0x24d),'properties':{'media':{'type':a0_0x33b913(0x63a)},'fileName':{'type':a0_0x33b913(0x63a)},'mediatype':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x42d),a0_0x33b913(0x576),a0_0x33b913(0x1c5)]}},'required':['media',a0_0x33b913(0x6bd)],...E(a0_0x33b913(0x44f),a0_0x33b913(0x3dc))}},'required':['title',a0_0x33b913(0x3c2)],...E(a0_0x33b913(0x387),a0_0x33b913(0x3a6))}},'required':[a0_0x33b913(0x17a),a0_0x33b913(0x698)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x33b913(0x17a)},'name':{'type':a0_0x33b913(0x63a)},'address':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x518),a0_0x33b913(0x440)],...E('name','addresss')}},'required':[a0_0x33b913(0x17a),a0_0x33b913(0x175)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x33b913(0x63a)},'description':{'type':a0_0x33b913(0x63a)},'footerText':{'type':a0_0x33b913(0x63a)},'buttonText':{'type':'string'},'sections':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33b913(0x24d),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33b913(0x24d),'properties':{'title':{'type':a0_0x33b913(0x63a)},'description':{'type':a0_0x33b913(0x63a)},'rowId':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x387),a0_0x33b913(0x173)],...E(a0_0x33b913(0x387),a0_0x33b913(0x173))}}},'required':['title',a0_0x33b913(0x362)],...E(a0_0x33b913(0x387))}}},'required':['title','description','buttonText',a0_0x33b913(0x156)],...E(a0_0x33b913(0x387),a0_0x33b913(0x3a6),a0_0x33b913(0x1e7),a0_0x33b913(0x5c3))}},'required':['number',a0_0x33b913(0x172)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x33b913(0x3e0),'items':{'type':'object','properties':{'fullName':{'type':a0_0x33b913(0x63a)},'phoneNumber':{'type':a0_0x33b913(0x63a),'minLength':0xa}},'required':['fullName','phoneNumber'],...E(a0_0x33b913(0x48b))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x33b913(0x17a),a0_0x33b913(0x482)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x33b913(0x24d),'properties':{'id':{'type':a0_0x33b913(0x63a)},'remoteJid':{'type':a0_0x33b913(0x63a)},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x33b913(0x3c9)],...E('id',a0_0x33b913(0x41c))},'reaction':{'type':'string'}},'required':[a0_0x33b913(0x2cf),'reaction'],...E(a0_0x33b913(0x690))}},'required':[a0_0x33b913(0x6f3)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x33b913(0x82f)}}}},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x33b913(0x63a)}},'required':['id',a0_0x33b913(0x3c9),a0_0x33b913(0x41c)],...E('id',a0_0x33b913(0x41c))}}},'required':['readMessages']},qa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x33b913(0x63a),'enum':['all',a0_0x33b913(0x3a4)]},'profile':{'type':'string','enum':[a0_0x33b913(0x739),a0_0x33b913(0x307),a0_0x33b913(0x2d4),a0_0x33b913(0x3a4)]},'status':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x739),a0_0x33b913(0x307),a0_0x33b913(0x2d4),a0_0x33b913(0x3a4)]},'online':{'type':'string','enum':[a0_0x33b913(0x739),'match_last_seen']},'last':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x739),a0_0x33b913(0x307),a0_0x33b913(0x2d4),a0_0x33b913(0x3a4)]},'groupadd':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x739),a0_0x33b913(0x307),'contact_blacklist',a0_0x33b913(0x3a4)]}},'required':[a0_0x33b913(0x404),a0_0x33b913(0x69f),a0_0x33b913(0x615),a0_0x33b913(0x187),a0_0x33b913(0x64c),a0_0x33b913(0x753)],...E(a0_0x33b913(0x404),'profile',a0_0x33b913(0x615),a0_0x33b913(0x187),'last',a0_0x33b913(0x753))}},'required':[a0_0x33b913(0x82d)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'lastMessage':{'type':a0_0x33b913(0x24d),'properties':{'key':{'type':a0_0x33b913(0x24d),'properties':{'id':{'type':a0_0x33b913(0x63a)},'remoteJid':{'type':a0_0x33b913(0x63a)},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]}},'required':['id',a0_0x33b913(0x3c9),a0_0x33b913(0x41c)],...E('id',a0_0x33b913(0x41c))},'messageTimestamp':{'type':a0_0x33b913(0x4c6),'minLength':0x1}},'required':[a0_0x33b913(0x2cf)],...E(a0_0x33b913(0x589))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x33b913(0x4b2),'archive']},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'id':{'type':a0_0x33b913(0x63a)},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x33b913(0x63a)},'participant':{'type':a0_0x33b913(0x63a)}},'required':['id',a0_0x33b913(0x3c9),a0_0x33b913(0x41c)],...E('id',a0_0x33b913(0x41c),'participant')},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'where':{'type':a0_0x33b913(0x24d),'properties':{'_id':{'type':a0_0x33b913(0x63a),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E('_id','id',a0_0x33b913(0x4e6))}}},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'name':{'type':a0_0x33b913(0x63a)}},...E(a0_0x33b913(0x382))},za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':'string'}},...E(a0_0x33b913(0x615))},Re={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x33b913(0x63a)}}},Ha={'type':a0_0x33b913(0x24d),'properties':{'wuid':{'type':a0_0x33b913(0x63a)},'name':{'type':a0_0x33b913(0x63a)},'picture':{'type':'string'},'status':{'type':a0_0x33b913(0x63a)},'isBusiness':{'type':'boolean'}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'where':{'type':a0_0x33b913(0x24d),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x33b913(0x24d),'if':{'propertyNames':{'enum':['fromMe',a0_0x33b913(0x41c),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x33b913(0x63a),'minLength':0x1,'description':a0_0x33b913(0x226)},'id':{'type':a0_0x33b913(0x63a),'minLength':0x1,'description':a0_0x33b913(0x226)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x33b913(0x24d)}},...E('_id')},'limit':{'type':a0_0x33b913(0x4c6)}}},hc={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'where':{'type':a0_0x33b913(0x24d),'properties':{'_id':{'type':a0_0x33b913(0x63a)},'remoteJid':{'type':a0_0x33b913(0x63a)},'id':{'type':a0_0x33b913(0x63a)},'fromMe':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x33b913(0x63a)},'status':{'type':a0_0x33b913(0x63a),'enum':['ERROR',a0_0x33b913(0x4fe),a0_0x33b913(0x224),'DELIVERY_ACK','READ','PLAYED']}},...E(a0_0x33b913(0x5f6),'remoteJid','id',a0_0x33b913(0x615))},'limit':{'type':a0_0x33b913(0x4c6)}}},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'number':{...z},'presence':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x650),a0_0x33b913(0x4d3),a0_0x33b913(0x549),a0_0x33b913(0x624),a0_0x33b913(0x278)]}},'required':['presence','number']},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'subject':{'type':a0_0x33b913(0x63a)},'description':{'type':a0_0x33b913(0x63a)},'profilePicture':{'type':a0_0x33b913(0x63a)},'participants':{'type':a0_0x33b913(0x3e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33b913(0x63a),'minLength':0xa,'pattern':a0_0x33b913(0x23a),'description':a0_0x33b913(0x48a)}}},'required':[a0_0x33b913(0x7c4),'participants'],...E(a0_0x33b913(0x7c4),a0_0x33b913(0x3a6),a0_0x33b913(0x564))},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':'string','pattern':a0_0x33b913(0x405)}},'required':[a0_0x33b913(0x585)],...E(a0_0x33b913(0x585))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'action':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x47b),a0_0x33b913(0x4fd),'promote',a0_0x33b913(0x5d1),a0_0x33b913(0x23c),a0_0x33b913(0x5d8)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x33b913(0x48a)}}},'required':[a0_0x33b913(0x585),a0_0x33b913(0x78e),a0_0x33b913(0x150)],...E(a0_0x33b913(0x585),'action')},Za={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'expiration':{'type':a0_0x33b913(0x17a),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x33b913(0x1d1)],...E('groupJid',a0_0x33b913(0x1d1))},ei={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'image':{'type':'string'}},'required':[a0_0x33b913(0x585),a0_0x33b913(0x42d)],...E(a0_0x33b913(0x585),a0_0x33b913(0x42d))},ti={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'description':{'type':'string'}},'required':['groupJid',a0_0x33b913(0x3a6)],...E(a0_0x33b913(0x585),a0_0x33b913(0x3a6))},si={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'name':{'type':'string'}},'required':['groupJid',a0_0x33b913(0x382)],...E('groupJid','name')},ai={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'setting':{'type':a0_0x33b913(0x63a),'enum':[a0_0x33b913(0x862),a0_0x33b913(0x7db),a0_0x33b913(0x16e),a0_0x33b913(0x272)]}},'required':[a0_0x33b913(0x585),a0_0x33b913(0x651)],...E(a0_0x33b913(0x585),a0_0x33b913(0x651))},ii={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x33b913(0x63a)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x33b913(0x6fc)},'memberAddMode':{'type':a0_0x33b913(0x6fc)},'joinApprovalMode':{'type':a0_0x33b913(0x6fc)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x33b913(0x63a)},'description':{'type':'string'},'image':{'type':a0_0x33b913(0x63a)}}},Ms={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x33b913(0x63a)}},'required':[a0_0x33b913(0x2b6)],...E(a0_0x33b913(0x2b6))},oi={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]}},'required':['url',a0_0x33b913(0x443)]},gc={'$id':(0x0,v['v4'])(),'type':a0_0x33b913(0x24d),'properties':{'local_map':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x33b913(0x6fc),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x33b913(0x6d7),a0_0x33b913(0x81e),a0_0x33b913(0x31d),a0_0x33b913(0x857),a0_0x33b913(0x586),a0_0x33b913(0x1f8),'CONTACTS_UPSERT',a0_0x33b913(0x1f9),a0_0x33b913(0x689),a0_0x33b913(0x42a),a0_0x33b913(0x581),a0_0x33b913(0x7f6),a0_0x33b913(0x16b),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x33b913(0x398),a0_0x33b913(0x6e3)],...E(a0_0x33b913(0x3fd),a0_0x33b913(0x2a1),'QRCODE_UPDATED',a0_0x33b913(0x81e),'MESSAGES_UPDATE',a0_0x33b913(0x857),'SEND_MESSAGE',a0_0x33b913(0x1f8),a0_0x33b913(0x869),'CONTACTS_UPDATE',a0_0x33b913(0x689),'CHATS_SET','CHATS_UPSERT',a0_0x33b913(0x7f6),a0_0x33b913(0x16b),'CONNECTION_UPDATE',a0_0x33b913(0x2d8),a0_0x33b913(0x398),'GROUP_PARTICIPANTS_UPDATE')},tt=class{},st=class extends I{[a0_0x33b913(0x23f)](_0x5e3ebc){return Zs(_0x5e3ebc);}async['insert'](_0x5410f8){const _0x2395da=a0_0x33b913;if(_0x5410f8[_0x2395da(0x4ee)]!==0x0)try{return{'insertCount':(await this[_0x2395da(0x23f)](_0x5410f8[0x0][_0x2395da(0x389)])[_0x2395da(0x1cb)]([..._0x5410f8]))['length']};}catch(_0x746ee0){return _0x746ee0;}}async[a0_0x33b913(0x76a)](_0x4b24a1,_0x1bc1a6){const _0x64ca67=a0_0x33b913;try{return{'deletedCount':(await this[_0x64ca67(0x23f)](_0x1bc1a6)[_0x64ca67(0x238)]({..._0x4b24a1[_0x64ca67(0x7fb)]}))['deletedCount']};}catch(_0x51add1){return{'error':_0x51add1?.[_0x64ca67(0x2fe)]()};}}async[a0_0x33b913(0x784)](_0x43aaa5,_0x22daf2){const _0x4f7fb0=a0_0x33b913;try{if(_0x43aaa5[_0x4f7fb0(0x4ee)]===0x0)return;let _0x4188e6=this['getContactModelForOwner'](_0x22daf2),_0x3951f1=_0x43aaa5[_0x4f7fb0(0x6f7)](_0xaee86a=>({'updateOne':{'filter':{'_id':_0xaee86a[_0x4f7fb0(0x5f6)],'owner':_0x22daf2},'update':{..._0xaee86a}}})),{modifiedCount:_0x22f9c2}=await _0x4188e6['bulkWrite'](_0x3951f1);return{'insertCount':_0x22f9c2};}catch{return;}}async[a0_0x33b913(0x345)](_0x375e72,_0xbb3300){const _0x4bd8c0=a0_0x33b913;try{let _0x4fb0e4=this['getContactModelForOwner'](_0xbb3300),_0xd0d813=O(_0x375e72[_0x4bd8c0(0x7fb)]);return await _0x4fb0e4[_0x4bd8c0(0x345)](_0xd0d813)[_0x4bd8c0(0x3c5)](_0x375e72?.[_0x4bd8c0(0x3c5)]??0x0)[_0x4bd8c0(0x538)]();}catch{return[];}}async[a0_0x33b913(0x366)](_0x57c02e,_0x386f0b){const _0x4163e8=a0_0x33b913;try{let _0x22b37c=this['getContactModelForOwner'](_0x386f0b),_0x1b4b1a=O(_0x57c02e[_0x4163e8(0x7fb)]);return await _0x22b37c[_0x4163e8(0x366)](_0x1b4b1a)[_0x4163e8(0x538)]();}catch{return null;}}async[a0_0x33b913(0x520)](_0x4dbba8){const _0x3d9241=a0_0x33b913;try{return await this[_0x3d9241(0x23f)](_0x4dbba8)[_0x3d9241(0x43b)][_0x3d9241(0x377)](),{'success':!0x0};}catch(_0x32055d){return console[_0x3d9241(0x43c)](_0x32055d),{'success':!0x1,'error':_0x32055d};}}},at=require(a0_0x33b913(0x43f)),Ec=require('express-async-errors'),Cs=new $('Validate'),V=class{['routerPath'](_0x4799d3,_0x55f0ad=!0x0){let _0xc7dfff='/'+_0x4799d3;return _0x55f0ad&&(_0xc7dfff+='/:instanceName'),_0xc7dfff;}async[a0_0x33b913(0x455)](_0xd36d0e){const _0x1b04b5=a0_0x33b913;let {request:_0x32a901,schema:_0x4c475e,ClassRef:_0x3bff89,execute:_0x5a9e9a}=_0xd36d0e,_0x37aa14=new _0x3bff89(),_0x27606e=_0x32a901[_0x1b04b5(0x547)],_0x3989c8=_0x32a901[_0x1b04b5(0x34e)];_0x32a901?.[_0x1b04b5(0x17d)]&&Object['keys'](_0x32a901[_0x1b04b5(0x17d)])[_0x1b04b5(0x4ee)]>0x0&&Object[_0x1b04b5(0x794)](_0x3989c8,_0x32a901[_0x1b04b5(0x17d)]),_0x32a901[_0x1b04b5(0x4dc)]['includes'](_0x1b04b5(0x358))&&Object[_0x1b04b5(0x794)](_0x3989c8,_0x27606e),Object[_0x1b04b5(0x794)](_0x37aa14,_0x27606e);let _0x2190a8=_0x4c475e?(0x0,at['validate'])(_0x37aa14,_0x4c475e):{'valid':!0x0,'errors':[]};if(!_0x2190a8[_0x1b04b5(0x6f9)]){let _0x351012=_0x2190a8[_0x1b04b5(0x671)][_0x1b04b5(0x6f7)](({property:_0x7ad051,stack:_0x4c33fa,schema:_0x198249})=>{const _0x28aa00=_0x1b04b5;let _0x41ea07;return _0x198249[_0x28aa00(0x3a6)]?_0x41ea07=_0x198249[_0x28aa00(0x3a6)]:_0x41ea07=_0x4c33fa[_0x28aa00(0x3d1)](_0x28aa00(0x147),''),{'property':_0x7ad051[_0x28aa00(0x3d1)](_0x28aa00(0x147),''),'message':_0x41ea07};});throw Cs[_0x1b04b5(0x43c)]([..._0x351012]),new m(..._0x351012);}return await _0x5a9e9a(_0x3989c8,_0x37aa14);}async[a0_0x33b913(0x3e9)](_0x406998){const _0x1471c6=a0_0x33b913;let {request:_0x1e1cda,ClassRef:_0x136809,schema:_0x21d7f5,execute:_0x220c9f}=_0x406998,_0x537b92=_0x1e1cda['query'];if(!_0x537b92?.['groupJid'])throw new m(_0x1471c6(0x3be),_0x1471c6(0x213));let _0x106d13=_0x1e1cda[_0x1471c6(0x34e)],_0x2b9f6b=_0x1e1cda['body'],_0x4ad1ab=new _0x136809();Object[_0x1471c6(0x794)](_0x2b9f6b,_0x537b92),Object['assign'](_0x4ad1ab,_0x2b9f6b);let _0x19a803=(0x0,at[_0x1471c6(0x40f)])(_0x4ad1ab,_0x21d7f5);if(!_0x19a803['valid']){let _0xe0912d=_0x19a803[_0x1471c6(0x671)][_0x1471c6(0x6f7)](({property:_0x5ae2d5,stack:_0x480692,schema:_0x390633})=>{const _0x4e7996=_0x1471c6;let _0x30ee07;return _0x390633[_0x4e7996(0x3a6)]?_0x30ee07=_0x390633[_0x4e7996(0x3a6)]:_0x30ee07=_0x480692[_0x4e7996(0x3d1)]('instance.',''),{'property':_0x5ae2d5['replace'](_0x4e7996(0x147),''),'message':_0x30ee07};});throw Cs[_0x1471c6(0x43c)]([..._0xe0912d]),new m(..._0xe0912d);}return await _0x220c9f(_0x106d13,_0x4ad1ab);}async['joinGroupValidate'](_0x2e9804){const _0x59fc6c=a0_0x33b913;let {request:_0x497dcc,ClassRef:_0x16a278,schema:_0x36ac22,execute:_0x227878}=_0x2e9804,_0x27ac69=_0x497dcc[_0x59fc6c(0x547)];if(!_0x27ac69?.['inviteCode'])throw new m(_0x59fc6c(0x212),_0x59fc6c(0x378));let _0x5af0ca=_0x497dcc['params'],_0x1138eb=_0x497dcc[_0x59fc6c(0x547)],_0x15283c=new _0x16a278();Object[_0x59fc6c(0x794)](_0x1138eb,_0x27ac69),Object[_0x59fc6c(0x794)](_0x15283c,_0x1138eb);let _0x49429d=(0x0,at[_0x59fc6c(0x40f)])(_0x15283c,_0x36ac22);if(!_0x49429d[_0x59fc6c(0x6f9)]){let _0x210595=_0x49429d[_0x59fc6c(0x671)][_0x59fc6c(0x6f7)](({property:_0x4b3d58,stack:_0x2da62d,schema:_0x3b37ae})=>{const _0x5d9342=_0x59fc6c;let _0x1ef0b9;return _0x3b37ae[_0x5d9342(0x3a6)]?_0x1ef0b9=_0x3b37ae[_0x5d9342(0x3a6)]:_0x1ef0b9=_0x2da62d[_0x5d9342(0x3d1)](_0x5d9342(0x147),''),{'property':_0x4b3d58[_0x5d9342(0x3d1)](_0x5d9342(0x147),''),'message':_0x1ef0b9};});throw Cs['error']([..._0x210595]),new m(..._0x210595);}return await _0x227878(_0x5af0ca,_0x15283c);}},C=class{},Fc=new $('ChatRouter'),it=class extends V{constructor(..._0x5f5173){const _0x27f7e4=a0_0x33b913;super(),this[_0x27f7e4(0x87a)]=(0x0,ri[_0x27f7e4(0x332)])(),this['router']['post'](this[_0x27f7e4(0x21c)](_0x27f7e4(0x46b)),..._0x5f5173,async(_0x212304,_0x5295af)=>{const _0x588608=_0x27f7e4;let _0x325de3=await this[_0x588608(0x455)]({'request':_0x212304,'schema':Qa,'ClassRef':We,'execute':(_0x1bb97c,_0x5cd323)=>D['updatePresence'](_0x1bb97c,_0x5cd323)});return _0x5295af[_0x588608(0x615)](0xc9)['json'](_0x325de3);})[_0x27f7e4(0x36b)](this['routerPath']('whatsappNumbers'),..._0x5f5173,async(_0x8566c5,_0x3cb20c)=>{const _0x334e3a=_0x27f7e4;let _0x22ff5a=await this[_0x334e3a(0x455)]({'request':_0x8566c5,'schema':Ua,'ClassRef':ze,'execute':(_0x409611,_0x270722)=>D[_0x334e3a(0x177)](_0x409611,_0x270722)});return _0x3cb20c[_0x334e3a(0x615)](0xc9)['json'](_0x22ff5a);})[_0x27f7e4(0x36b)](this['routerPath']('editChat'),..._0x5f5173,async(_0x4cb956,_0x383e8b)=>{const _0x1469cc=_0x27f7e4;let _0x26c9cd=await this[_0x1469cc(0x455)]({'request':_0x4cb956,'schema':N,'ClassRef':C,'execute':(_0x56d6d9,_0x51245c)=>D['editChat'](_0x56d6d9,_0x51245c)});return _0x383e8b[_0x1469cc(0x615)](0xc9)[_0x1469cc(0x539)](_0x26c9cd);})[_0x27f7e4(0x797)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x290)),..._0x5f5173,async(_0x18e9eb,_0x459723)=>{const _0x3ea0bb=_0x27f7e4;let _0x3e3d79=await this[_0x3ea0bb(0x455)]({'request':_0x18e9eb,'schema':Ja,'ClassRef':Qe,'execute':(_0x360c5d,_0x323372)=>D[_0x3ea0bb(0x819)](_0x360c5d,_0x323372)});return _0x459723[_0x3ea0bb(0x615)](0xc9)[_0x3ea0bb(0x539)](_0x3e3d79);})[_0x27f7e4(0x797)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x5fb)),..._0x5f5173,async(_0x2fdee2,_0x211198)=>{const _0x51663e=_0x27f7e4;let _0x2c9e89=await this[_0x51663e(0x455)]({'request':_0x2fdee2,'schema':Va,'ClassRef':Ye,'execute':(_0x24f146,_0x8be374)=>D[_0x51663e(0x5fb)](_0x24f146,_0x8be374)});return _0x211198[_0x51663e(0x615)](0xc9)[_0x51663e(0x539)](_0x2c9e89);})[_0x27f7e4(0x76a)](this['routerPath'](_0x27f7e4(0x361)),..._0x5f5173,async(_0x1153d7,_0x1faee4)=>{const _0x3ce317=_0x27f7e4;let _0xe2c83b=await this[_0x3ce317(0x455)]({'request':_0x1153d7,'schema':Ga,'ClassRef':Ze,'execute':(_0x5e4069,_0xa1cdb8)=>D[_0x3ce317(0x587)](_0x5e4069,_0xa1cdb8)});return _0x1faee4[_0x3ce317(0x615)](0xc9)[_0x3ce317(0x539)](_0xe2c83b);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x64d)),..._0x5f5173,async(_0x4ca281,_0x554398)=>{const _0x1360c7=_0x27f7e4;let _0x37b173=await this[_0x1360c7(0x455)]({'request':_0x4ca281,'schema':Re,'ClassRef':Ne,'execute':(_0x279546,_0x1d03f4)=>D[_0x1360c7(0x740)](_0x279546,_0x1d03f4)});return _0x554398[_0x1360c7(0x615)](0xc8)[_0x1360c7(0x539)](_0x37b173);})['post'](this[_0x27f7e4(0x21c)](_0x27f7e4(0x40c)),..._0x5f5173,async(_0x56d227,_0x29e6a0)=>{const _0x5e7ea3=_0x27f7e4;let _0x2546d0=await this['dataValidate']({'request':_0x56d227,'schema':Ha,'ClassRef':Ne,'execute':(_0x360094,_0x41a150)=>D[_0x5e7ea3(0x40c)](_0x360094,_0x41a150)});return _0x29e6a0['status'](0xc8)['json'](_0x2546d0);})['post'](this[_0x27f7e4(0x21c)](_0x27f7e4(0x492)),..._0x5f5173,async(_0x338c0f,_0x508422)=>{const _0x21c7ce=_0x27f7e4;let _0xa69fb9=await this[_0x21c7ce(0x455)]({'request':_0x338c0f,'schema':Ba,'ClassRef':tt,'execute':(_0x4215fe,_0x20b31a)=>D[_0x21c7ce(0x6a8)](_0x4215fe,_0x20b31a)});return _0x508422['status'](0xc8)[_0x21c7ce(0x539)](_0xa69fb9);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)]('getBase64FromMediaMessage'),..._0x5f5173,async(_0x276cd4,_0x1b1d76)=>{const _0x22cc7e=_0x27f7e4;let _0x59e7a6=await this[_0x22cc7e(0x455)]({'request':_0x276cd4,'schema':null,'ClassRef':Object,'execute':(_0x53c1d6,_0x2f18b7)=>D[_0x22cc7e(0x4e3)](_0x53c1d6,_0x2f18b7)});return _0x1b1d76[_0x22cc7e(0x615)](0xc9)['json'](_0x59e7a6);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x6d9)),..._0x5f5173,async(_0x34b32c,_0x19308e)=>{const _0x36c844=_0x27f7e4;let _0x2740bd=await this[_0x36c844(0x455)]({'request':_0x34b32c,'schema':Ka,'ClassRef':Ge,'execute':(_0x31034a,_0xe73b23)=>D[_0x36c844(0x56f)](_0x31034a,_0xe73b23)});return _0x19308e['status'](0xc8)[_0x36c844(0x539)](_0x2740bd);})[_0x27f7e4(0x1f0)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x63c)),..._0x5f5173,async(_0x3eb585,_0x49b9f0)=>{const _0xbe1c89=_0x27f7e4;let _0x3f33f5=await this[_0xbe1c89(0x455)]({'request':_0x3eb585,'schema':null,'ClassRef':C,'execute':_0x537c42=>D[_0xbe1c89(0x752)](_0x537c42)});return _0x49b9f0['status'](0xc8)[_0xbe1c89(0x539)](_0x3f33f5);})[_0x27f7e4(0x1f0)](this['routerPath'](_0x27f7e4(0x1e3)),..._0x5f5173,async(_0x505025,_0x1698a7)=>{const _0x4cc957=_0x27f7e4;let _0x5c7cde=await this[_0x4cc957(0x455)]({'request':_0x505025,'schema':null,'ClassRef':C,'execute':_0x3c7048=>D[_0x4cc957(0x22f)](_0x3c7048)});return _0x1698a7[_0x4cc957(0x615)](0xc8)[_0x4cc957(0x539)](_0x5c7cde);})[_0x27f7e4(0x797)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x7f5)),..._0x5f5173,async(_0x322585,_0x1d655b)=>{const _0x1810b8=_0x27f7e4;let _0x2aed08=await this[_0x1810b8(0x455)]({'request':_0x322585,'schema':null,'ClassRef':Array,'execute':(_0x13edbe,_0x343334)=>D[_0x1810b8(0x7f5)](_0x13edbe,_0x343334)});return _0x1d655b['status'](0xc8)[_0x1810b8(0x539)](_0x2aed08);})[_0x27f7e4(0x1f0)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x76d)),..._0x5f5173,async(_0x386797,_0x41d5e7)=>{const _0x351b56=_0x27f7e4;let _0x2cef6e=await this[_0x351b56(0x455)]({'request':_0x386797,'schema':null,'ClassRef':C,'execute':_0x482a02=>D[_0x351b56(0x76d)](_0x482a02)});return _0x41d5e7[_0x351b56(0x615)](0xc8)[_0x351b56(0x539)](_0x2cef6e);})[_0x27f7e4(0x797)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x4d1)),..._0x5f5173,async(_0x1132d3,_0x2f1d26)=>{const _0x46c73a=_0x27f7e4;let _0x567ba5=await this[_0x46c73a(0x455)]({'request':_0x1132d3,'schema':qa,'ClassRef':Xe,'execute':(_0x3cbf58,_0x6fe601)=>D[_0x46c73a(0x4d1)](_0x3cbf58,_0x6fe601)});return _0x2f1d26[_0x46c73a(0x615)](0xc9)[_0x46c73a(0x539)](_0x567ba5);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x5ab)),..._0x5f5173,async(_0x92e788,_0x130a03)=>{const _0x4b96ec=_0x27f7e4;let _0xae8200=await this['dataValidate']({'request':_0x92e788,'schema':Re,'ClassRef':Se,'execute':(_0x5e8990,_0x56ba57)=>D[_0x4b96ec(0x5ab)](_0x5e8990,_0x56ba57)});return _0x130a03['status'](0xc8)['json'](_0xae8200);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)]('updateProfileName'),..._0x5f5173,async(_0x481792,_0x32b630)=>{const _0x5731a7=_0x27f7e4;let _0x51872d=await this['dataValidate']({'request':_0x481792,'schema':Wa,'ClassRef':He,'execute':(_0x5a2209,_0x17c23d)=>D[_0x5731a7(0x561)](_0x5a2209,_0x17c23d)});return _0x32b630['status'](0xc8)[_0x5731a7(0x539)](_0x51872d);})[_0x27f7e4(0x36b)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x6ca)),..._0x5f5173,async(_0x2d8b44,_0x18af2a)=>{const _0x45f772=_0x27f7e4;let _0xda25be=await this[_0x45f772(0x455)]({'request':_0x2d8b44,'schema':za,'ClassRef':Ke,'execute':(_0x1f7247,_0x1ff716)=>D[_0x45f772(0x6ca)](_0x1f7247,_0x1ff716)});return _0x18af2a[_0x45f772(0x615)](0xc8)[_0x45f772(0x539)](_0xda25be);})[_0x27f7e4(0x797)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x4c8)),..._0x5f5173,async(_0x3db1c0,_0x2500cc)=>{const _0x35d387=_0x27f7e4;let _0x26ec99=await this[_0x35d387(0x455)]({'request':_0x3db1c0,'schema':Re,'ClassRef':Se,'execute':(_0x5e6fa0,_0x213788)=>D[_0x35d387(0x4c8)](_0x5e6fa0,_0x213788)});return _0x2500cc[_0x35d387(0x615)](0xc8)['json'](_0x26ec99);})[_0x27f7e4(0x76a)](this[_0x27f7e4(0x21c)](_0x27f7e4(0x627)),..._0x5f5173,async(_0x4d98ca,_0x52dd83)=>{const _0xbecc84=_0x27f7e4;let _0x319aa4=await this[_0xbecc84(0x455)]({'request':_0x4d98ca,'schema':Re,'ClassRef':Se,'execute':(_0x431a50,_0x5f4ec5)=>D['removeProfilePicture'](_0x431a50,_0x5f4ec5)});return _0x52dd83[_0xbecc84(0x615)](0xc8)[_0xbecc84(0x539)](_0x319aa4);});}},ni=require(a0_0x33b913(0x13f)),ot=class{},rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Te=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x5b08ba){const _0x5ec2aa=a0_0x33b913;super(),this[_0x5ec2aa(0x87a)]=(0x0,ni[_0x5ec2aa(0x332)])(),this[_0x5ec2aa(0x87a)][_0x5ec2aa(0x36b)](this['routerPath'](_0x5ec2aa(0x2ea)),..._0x5b08ba,async(_0x401542,_0x44f027)=>{const _0x64f942=_0x5ec2aa;let _0xbd2d24=await this[_0x64f942(0x455)]({'request':_0x401542,'schema':Ya,'ClassRef':ot,'execute':(_0x4d726e,_0x56770e)=>q['createGroup'](_0x4d726e,_0x56770e)});_0x44f027[_0x64f942(0x615)](0xc9)[_0x64f942(0x539)](_0xbd2d24);})['put'](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x849)),..._0x5b08ba,async(_0xa5632f,_0x19d123)=>{const _0x2026b8=_0x5ec2aa;let _0x475504=await this[_0x2026b8(0x3e9)]({'request':_0xa5632f,'schema':ei,'ClassRef':rt,'execute':(_0x430fda,_0x2346e8)=>q['updateGroupPicture'](_0x430fda,_0x2346e8)});_0x19d123[_0x2026b8(0x615)](0xc9)[_0x2026b8(0x539)](_0x475504);})[_0x5ec2aa(0x797)](this['routerPath'](_0x5ec2aa(0x370)),..._0x5b08ba,async(_0x1f3d45,_0x8e7695)=>{const _0x5e623e=_0x5ec2aa;let _0x21109d=await this[_0x5e623e(0x3e9)]({'request':_0x1f3d45,'schema':ti,'ClassRef':nt,'execute':(_0x42b971,_0x53a98d)=>q[_0x5e623e(0x370)](_0x42b971,_0x53a98d)});_0x8e7695[_0x5e623e(0x615)](0xc9)[_0x5e623e(0x539)](_0x21109d);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x37c)),..._0x5b08ba,async(_0x230933,_0x186760)=>{const _0x3cba90=_0x5ec2aa;let _0x4ce793=await this[_0x3cba90(0x3e9)]({'request':_0x230933,'schema':si,'ClassRef':ct,'execute':(_0x1b0d3f,_0x7e362d)=>q[_0x3cba90(0x37c)](_0x1b0d3f,_0x7e362d)});_0x186760[_0x3cba90(0x615)](0xc9)[_0x3cba90(0x539)](_0x4ce793);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x33d)),..._0x5b08ba,async(_0x14f94e,_0x1d84cd)=>{const _0x30df37=_0x5ec2aa;let _0x244fb5=await this[_0x30df37(0x3e9)]({'request':_0x14f94e,'schema':ii,'ClassRef':ut,'execute':(_0x116097,_0xfd68b2)=>q[_0x30df37(0x33d)](_0x116097,_0xfd68b2)});_0x1d84cd['status'](0xc9)[_0x30df37(0x539)](_0x244fb5);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x84f)),..._0x5b08ba,async(_0xc04717,_0x36e55c)=>{const _0x901735=_0x5ec2aa;let _0x1caac0=await this[_0x901735(0x3e9)]({'request':_0xc04717,'schema':ai,'ClassRef':lt,'execute':(_0x382536,_0x24a3c4)=>q[_0x901735(0x84f)](_0x382536,_0x24a3c4)});_0x36e55c[_0x901735(0x615)](0xc9)[_0x901735(0x539)](_0x1caac0);})[_0x5ec2aa(0x797)](this['routerPath']('toggleEphemeral'),..._0x5b08ba,async(_0x491f70,_0x84a239)=>{const _0x1fd3d1=_0x5ec2aa;let _0x4e1710=await this[_0x1fd3d1(0x3e9)]({'request':_0x491f70,'schema':Za,'ClassRef':pt,'execute':(_0x361b2c,_0x53f928)=>q['toggleEphemeral'](_0x361b2c,_0x53f928)});_0x84a239[_0x1fd3d1(0x615)](0xc9)['json'](_0x4e1710);})[_0x5ec2aa(0x1f0)](this[_0x5ec2aa(0x21c)]('findGroupInfos'),..._0x5b08ba,async(_0x185f57,_0x285815)=>{let _0x13d483=await this['groupValidate']({'request':_0x185f57,'schema':Ae,'ClassRef':X,'execute':(_0x1bd167,_0x1e33e5)=>q['findGroupInfo'](_0x1bd167,_0x1e33e5)});_0x285815['status'](0xc8)['json'](_0x13d483);})[_0x5ec2aa(0x1f0)](this[_0x5ec2aa(0x21c)]('findGroups'),..._0x5b08ba,async(_0x18f65e,_0x455718)=>{const _0x1d8755=_0x5ec2aa;let _0x147eba=await this[_0x1d8755(0x455)]({'request':_0x18f65e,'schema':N,'ClassRef':C,'execute':_0x3679ee=>q['findGroups'](_0x3679ee)});_0x455718[_0x1d8755(0x615)](0xc8)[_0x1d8755(0x539)](_0x147eba);})[_0x5ec2aa(0x1f0)](this['routerPath'](_0x5ec2aa(0x150)),..._0x5b08ba,async(_0x35af36,_0x4eacf5)=>{const _0x11c1e7=_0x5ec2aa;let _0x4bc3b5=await this[_0x11c1e7(0x3e9)]({'request':_0x35af36,'schema':Ae,'ClassRef':X,'execute':(_0x41d14b,_0x56856f)=>q[_0x11c1e7(0x834)](_0x41d14b,_0x56856f)});_0x4eacf5[_0x11c1e7(0x615)](0xc8)[_0x11c1e7(0x539)](_0x4bc3b5);})[_0x5ec2aa(0x1f0)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x2b6)),..._0x5b08ba,async(_0x57dbf3,_0x59fbf2)=>{const _0xefd020=_0x5ec2aa;let _0x576452=await this['groupValidate']({'request':_0x57dbf3,'schema':Ae,'ClassRef':X,'execute':(_0x434496,_0x5f581f)=>q[_0xefd020(0x2b6)](_0x434496,_0x5f581f)});_0x59fbf2['status'](0xc8)[_0xefd020(0x539)](_0x576452);})[_0x5ec2aa(0x36b)](this[_0x5ec2aa(0x21c)]('inviteCodeDetails'),..._0x5b08ba,async(_0xcf169a,_0x415d69)=>{const _0x2647ed=_0x5ec2aa;let _0x178b8b=await this[_0x2647ed(0x78d)]({'request':_0xcf169a,'schema':Ms,'ClassRef':Te,'execute':(_0x38f88f,_0x3be995)=>q[_0x2647ed(0x7c6)](_0x38f88f,_0x3be995)});_0x415d69['status'](0xc9)[_0x2647ed(0x539)](_0x178b8b);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x60f)),..._0x5b08ba,async(_0x2e3c89,_0x31d29b)=>{const _0x3dab57=_0x5ec2aa;let _0x9c92de=await this[_0x3dab57(0x78d)]({'request':_0x2e3c89,'schema':Ms,'ClassRef':Te,'execute':(_0x189bf7,_0x562215)=>q['joinGroup'](_0x189bf7,_0x562215)});_0x31d29b[_0x3dab57(0x615)](0xc9)[_0x3dab57(0x539)](_0x9c92de);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x210)),..._0x5b08ba,async(_0xcf5b57,_0x12b253)=>{const _0xd8237a=_0x5ec2aa;let _0x10fd10=await this[_0xd8237a(0x3e9)]({'request':_0xcf5b57,'schema':Ae,'ClassRef':X,'execute':(_0x17810f,_0x3d4319)=>q[_0xd8237a(0x210)](_0x17810f,_0x3d4319)});_0x12b253[_0xd8237a(0x615)](0xc9)[_0xd8237a(0x539)](_0x10fd10);})[_0x5ec2aa(0x797)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x4e0)),..._0x5b08ba,async(_0x298e1d,_0x489092)=>{const _0x5595ec=_0x5ec2aa;let _0x4a6d1c=await this[_0x5595ec(0x3e9)]({'request':_0x298e1d,'schema':Xa,'ClassRef':dt,'execute':(_0x56eaf6,_0x171d2d)=>q[_0x5595ec(0x2b3)](_0x56eaf6,_0x171d2d)});_0x489092[_0x5595ec(0x615)](0xc9)[_0x5595ec(0x539)](_0x4a6d1c);})[_0x5ec2aa(0x76a)](this[_0x5ec2aa(0x21c)](_0x5ec2aa(0x23b)),..._0x5b08ba,async(_0x3aaecc,_0x44272a)=>{const _0x2ead39=_0x5ec2aa;let _0x212ca0=await this[_0x2ead39(0x3e9)]({'request':_0x3aaecc,'schema':{},'ClassRef':X,'execute':(_0x448c57,_0x2b7daa)=>q['leaveGroup'](_0x448c57,_0x2b7daa)});_0x44272a['status'](0xc8)['json'](_0x212ca0);});}},ci=require(a0_0x33b913(0x13f)),gt=class extends V{constructor(_0x26a756,..._0x380ea3){const _0x56c20b=a0_0x33b913;super(),this[_0x56c20b(0x5d4)]=_0x26a756,this[_0x56c20b(0x87a)]=(0x0,ci['Router'])();let _0x3b1566=_0x26a756[_0x56c20b(0x1f0)](_0x56c20b(0x28a));this[_0x56c20b(0x87a)][_0x56c20b(0x36b)](_0x56c20b(0x320),..._0x380ea3,async(_0x287112,_0x3c308e)=>{const _0x137012=_0x56c20b;let {instanceName:_0x37ff96,apikey:_0x12fab7,number:_0x123a2a}=_0x287112['body'],_0x4ea2c7=await re[_0x137012(0x1e0)]({'instanceName':_0x37ff96,'apikey':_0x12fab7,'number':_0x123a2a});return _0x3c308e[_0x137012(0x615)](0xc9)['json'](_0x4ea2c7);})[_0x56c20b(0x797)](this[_0x56c20b(0x21c)](_0x56c20b(0x487)),..._0x380ea3,async(_0x5fc1d5,_0x386d19)=>{const _0x41dea4=_0x56c20b;let _0x3f0439=await this[_0x41dea4(0x455)]({'request':_0x5fc1d5,'schema':N,'ClassRef':C,'execute':_0x2f0e8e=>re['restartInstance'](_0x2f0e8e)});return _0x386d19[_0x41dea4(0x615)](0xc8)['json'](_0x3f0439);})['get'](this[_0x56c20b(0x21c)](_0x56c20b(0x2d9)),..._0x380ea3,async(_0x108717,_0x347db6)=>{const _0x42a6ff=_0x56c20b;let _0x2f4014=await this[_0x42a6ff(0x455)]({'request':_0x108717,'schema':N,'ClassRef':C,'execute':_0x5d8dde=>re[_0x42a6ff(0x632)](_0x5d8dde)});return _0x347db6[_0x42a6ff(0x615)](0xc8)['json'](_0x2f4014);})[_0x56c20b(0x1f0)](this[_0x56c20b(0x21c)]('connectionState'),..._0x380ea3,async(_0x2eb2b4,_0x21fd87)=>{const _0x6b45fe=_0x56c20b;let _0x23700a=await this[_0x6b45fe(0x455)]({'request':_0x2eb2b4,'schema':N,'ClassRef':C,'execute':_0x21793c=>re[_0x6b45fe(0x2ee)](_0x21793c)});return _0x21fd87[_0x6b45fe(0x615)](0xc8)[_0x6b45fe(0x539)](_0x23700a);})[_0x56c20b(0x1f0)](this[_0x56c20b(0x21c)]('fetchInstances',!0x1),..._0x380ea3,async(_0x123c89,_0x2dafe5)=>{const _0x435be3=_0x56c20b;let _0x24529f=await this['dataValidate']({'request':_0x123c89,'schema':null,'ClassRef':C,'execute':_0x56fcc0=>re[_0x435be3(0x2fa)](_0x56fcc0)});return _0x2dafe5[_0x435be3(0x615)](0xc8)[_0x435be3(0x539)](_0x24529f);})[_0x56c20b(0x76a)](this[_0x56c20b(0x21c)](_0x56c20b(0x66e)),..._0x380ea3,async(_0x175a41,_0x14f0cb)=>{const _0x13e38d=_0x56c20b;let _0x346872=await this[_0x13e38d(0x455)]({'request':_0x175a41,'schema':N,'ClassRef':C,'execute':_0x4d43d8=>re[_0x13e38d(0x66e)](_0x4d43d8)});return _0x14f0cb[_0x13e38d(0x615)](0xc8)['json'](_0x346872);})[_0x56c20b(0x76a)](this[_0x56c20b(0x21c)](_0x56c20b(0x76a)),..._0x380ea3,async(_0x557acf,_0x402011)=>{const _0x3a1a4f=_0x56c20b;let _0x4ee51b=await this[_0x3a1a4f(0x455)]({'request':_0x557acf,'schema':N,'ClassRef':C,'execute':_0x48a60c=>re['deleteInstance'](_0x48a60c)});return _0x402011[_0x3a1a4f(0x615)](0xc8)[_0x3a1a4f(0x539)](_0x4ee51b);});}},li=require(a0_0x33b913(0x13f)),Es=class{},W=class extends Es{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},xe=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x335108){const _0x2530d8=a0_0x33b913;super(),this['router']=(0x0,li[_0x2530d8(0x332)])(),this[_0x2530d8(0x87a)][_0x2530d8(0x36b)](this[_0x2530d8(0x21c)](_0x2530d8(0x66c)),..._0x335108,async(_0x5cd83e,_0x58fadf)=>{const _0x5891d1=_0x2530d8;let _0x44b376=await this[_0x5891d1(0x455)]({'request':_0x5cd83e,'schema':Ra,'ClassRef':mt,'execute':(_0x584dd9,_0x5807e)=>B[_0x5891d1(0x66c)](_0x584dd9,_0x5807e)});return _0x58fadf[_0x5891d1(0x615)](0xc9)[_0x5891d1(0x539)](_0x44b376);})['post'](this[_0x2530d8(0x21c)](_0x2530d8(0x567)),..._0x335108,async(_0x134301,_0x54d484)=>{const _0x39a072=_0x2530d8;let _0x5b19f2=await this['dataValidate']({'request':_0x134301,'schema':Oa,'ClassRef':xe,'execute':(_0x4d2426,_0xc60ce2)=>B[_0x39a072(0x567)](_0x4d2426,_0xc60ce2)});return _0x54d484[_0x39a072(0x615)](0xc9)[_0x39a072(0x539)](_0x5b19f2);})['post'](this[_0x2530d8(0x21c)](_0x2530d8(0x51a)),..._0x335108,async(_0x57f25f,_0x246686)=>{const _0x190ece=_0x2530d8;let _0x291638=await this['dataValidate']({'request':_0x57f25f,'schema':Da,'ClassRef':yt,'execute':(_0x479fa0,_0x3f6187)=>B[_0x190ece(0x51a)](_0x479fa0,_0x3f6187)});return _0x246686['status'](0xc9)[_0x190ece(0x539)](_0x291638);})['post'](this['routerPath'](_0x2530d8(0x1ee)),..._0x335108,async(_0x5a3bbd,_0x194766)=>{const _0x492704=_0x2530d8;let _0x5eb732=await this[_0x492704(0x455)]({'request':_0x5a3bbd,'schema':Ia,'ClassRef':xe,'execute':(_0x38d437,_0x5b7efc)=>B[_0x492704(0x1ee)](_0x38d437,_0x5b7efc)});return _0x194766[_0x492704(0x615)](0xc9)[_0x492704(0x539)](_0x5eb732);})[_0x2530d8(0x36b)](this['routerPath'](_0x2530d8(0x26f)),..._0x335108,async(_0x49521c,_0x21f905)=>{const _0x10d2ee=_0x2530d8;let _0x3cad12=await this['dataValidate']({'request':_0x49521c,'schema':Pa,'ClassRef':St,'execute':(_0x15929d,_0x3bf6b5)=>B[_0x10d2ee(0x26f)](_0x15929d,_0x3bf6b5)});return _0x21f905[_0x10d2ee(0x615)](0xc9)[_0x10d2ee(0x539)](_0x3cad12);})[_0x2530d8(0x36b)](this[_0x2530d8(0x21c)](_0x2530d8(0x846)),..._0x335108,async(_0x3d1a76,_0x43e662)=>{const _0x4e27da=_0x2530d8;let _0x20e766=await this[_0x4e27da(0x455)]({'request':_0x3d1a76,'schema':ka,'ClassRef':Mt,'execute':(_0x572538,_0x4b3031)=>B[_0x4e27da(0x846)](_0x572538,_0x4b3031)});return _0x43e662[_0x4e27da(0x615)](0xc9)[_0x4e27da(0x539)](_0x20e766);})[_0x2530d8(0x36b)](this['routerPath'](_0x2530d8(0x244)),..._0x335108,async(_0x2e37a6,_0xff0afb)=>{const _0xc21007=_0x2530d8;let _0x58eb45=await this[_0xc21007(0x455)]({'request':_0x2e37a6,'schema':ja,'ClassRef':Ct,'execute':(_0x4f3e9e,_0x5829fd)=>B['sendList'](_0x4f3e9e,_0x5829fd)});return _0xff0afb['status'](0xc9)[_0xc21007(0x539)](_0x58eb45);})[_0x2530d8(0x36b)](this['routerPath'](_0x2530d8(0x756)),..._0x335108,async(_0x30eaf8,_0x2865f5)=>{const _0x22971a=_0x2530d8;let _0x32b8cc=await this[_0x22971a(0x455)]({'request':_0x30eaf8,'schema':Fa,'ClassRef':Et,'execute':(_0x4718c5,_0x28e8c0)=>B[_0x22971a(0x756)](_0x4718c5,_0x28e8c0)});return _0x2865f5[_0x22971a(0x615)](0xc9)[_0x22971a(0x539)](_0x32b8cc);})[_0x2530d8(0x36b)](this['routerPath'](_0x2530d8(0x49b)),..._0x335108,async(_0x22a20a,_0x38c603)=>{const _0x1425af=_0x2530d8;let _0x31db3c=await this[_0x1425af(0x455)]({'request':_0x22a20a,'schema':La,'ClassRef':vt,'execute':(_0x3a8496,_0x5a4eed)=>B[_0x1425af(0x49b)](_0x3a8496,_0x5a4eed)});return _0x38c603[_0x1425af(0x615)](0xc9)[_0x1425af(0x539)](_0x31db3c);})[_0x2530d8(0x36b)](this[_0x2530d8(0x21c)](_0x2530d8(0x1b3)),..._0x335108,async(_0x5d81a9,_0x2cdf55)=>{const _0x1fa599=_0x2530d8;let _0x504043=await this[_0x1fa599(0x455)]({'request':_0x5d81a9,'schema':_a,'ClassRef':wt,'execute':(_0x4d2372,_0x22aee4)=>B[_0x1fa599(0x1b3)](_0x4d2372,_0x22aee4)});return _0x2cdf55[_0x1fa599(0x615)](0xc9)[_0x1fa599(0x539)](_0x504043);})[_0x2530d8(0x36b)](this[_0x2530d8(0x21c)]('sendStatus'),..._0x335108,async(_0xd724a3,_0x5394d6)=>{const _0x1151a9=_0x2530d8;let _0x1545e1=await this[_0x1151a9(0x455)]({'request':_0xd724a3,'schema':xa,'ClassRef':ft,'execute':(_0x4ddfb6,_0x3e2bad)=>B[_0x1151a9(0x40b)](_0x4ddfb6,_0x3e2bad)});return _0x5394d6[_0x1151a9(0x615)](0xc9)[_0x1151a9(0x539)](_0x1545e1);})[_0x2530d8(0x36b)](this['routerPath'](_0x2530d8(0x676)),..._0x335108,async(_0x28b7c2,_0x318d6e)=>{const _0x1c35fa=_0x2530d8;let _0x331c6a=await this['dataValidate']({'request':_0x28b7c2,'schema':Ta,'ClassRef':bt,'execute':(_0x17b983,_0x357257)=>B['sendSticker'](_0x17b983,_0x357257)});return _0x318d6e[_0x1c35fa(0x615)](0xc9)[_0x1c35fa(0x539)](_0x331c6a);});}},ui=require(a0_0x33b913(0x13f)),$t=class{},Rt=class extends V{constructor(..._0x4d2acb){const _0x426399=a0_0x33b913;super(),this[_0x426399(0x87a)]=(0x0,ui[_0x426399(0x332)])(),this[_0x426399(0x87a)][_0x426399(0x36b)](this[_0x426399(0x21c)](_0x426399(0x429)),..._0x4d2acb,async(_0x2fbf0b,_0x420b26)=>{const _0x57fe39=_0x426399;let _0x302d1a=await this[_0x57fe39(0x455)]({'request':_0x2fbf0b,'schema':oi,'ClassRef':$t,'execute':(_0x59e603,_0x4fe705)=>vs['createWebhook'](_0x59e603,_0x4fe705)});_0x420b26['status'](0xc9)[_0x57fe39(0x539)](_0x302d1a);})[_0x426399(0x1f0)](this[_0x426399(0x21c)]('find'),..._0x4d2acb,async(_0x200965,_0x6e7514)=>{const _0x2be227=_0x426399;let _0xbeadbf=await this[_0x2be227(0x455)]({'request':_0x200965,'schema':N,'ClassRef':C,'execute':_0x198132=>vs[_0x2be227(0x2fc)](_0x198132)});_0x6e7514[_0x2be227(0x615)](0xc8)['json'](_0xbeadbf);});}},di=require('express'),y=new $(a0_0x33b913(0x6c0)),At=class extends V{constructor(..._0x2bde2c){const _0x548196=a0_0x33b913;super(),this['router']=(0x0,di['Router'])(),this[_0x548196(0x87a)]['post'](this['routerPath'](_0x548196(0x261)),..._0x2bde2c,async(_0x2d6bed,_0x59e218)=>{const _0x3a4420=_0x548196;let _0xf1422b=_0x2d6bed['body'];y[_0x3a4420(0x6e9)]('request\x20received\x20in\x20scheduleMessage'),y['verbose'](_0x3a4420(0x313)),y['verbose'](_0x2d6bed['body']);let _0x1e0f04=await this[_0x3a4420(0x455)]({'request':_0x2d6bed,'schema':N,'ClassRef':C,'execute':_0xdf711e=>A[_0x3a4420(0x2e9)](_0xdf711e,_0xf1422b)});_0x59e218[_0x3a4420(0x615)](0xc8)[_0x3a4420(0x539)](_0x1e0f04);})['get'](this['routerPath'](_0x548196(0x261)),..._0x2bde2c,async(_0x47fbdd,_0x464737)=>{const _0x1b7329=_0x548196;let _0x2a808a=await this['dataValidate']({'request':_0x47fbdd,'schema':N,'ClassRef':C,'execute':_0x53f13d=>A[_0x1b7329(0x680)](_0x53f13d)});_0x464737[_0x1b7329(0x615)](0xc8)[_0x1b7329(0x539)](_0x2a808a);})[_0x548196(0x76a)](this[_0x548196(0x21c)](_0x548196(0x74b)),..._0x2bde2c,async(_0x4c8942,_0x10c8d8)=>{const _0x284565=_0x548196;y['verbose'](_0x284565(0x55a));let _0x424b2e=await this[_0x284565(0x455)]({'request':_0x4c8942,'schema':N,'ClassRef':C,'execute':_0x2f1a66=>A[_0x284565(0x74b)](_0x2f1a66)});_0x10c8d8[_0x284565(0x615)](0xc8)[_0x284565(0x539)](_0x424b2e);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x250)),..._0x2bde2c,async(_0x570d87,_0x406bf6)=>{const _0x3aae9b=_0x548196;let _0x225856=_0x570d87[_0x3aae9b(0x547)];y['verbose'](_0x3aae9b(0x60e)),y['verbose'](_0x3aae9b(0x313)),y[_0x3aae9b(0x6e9)](_0x570d87[_0x3aae9b(0x547)]);let _0xdbee66=await this[_0x3aae9b(0x455)]({'request':_0x570d87,'schema':N,'ClassRef':C,'execute':_0x83ff1d=>A['startFlow'](_0x83ff1d,_0x225856)});_0x406bf6[_0x3aae9b(0x615)](0xc8)[_0x3aae9b(0x539)](_0xdbee66);})[_0x548196(0x1f0)](this[_0x548196(0x21c)](_0x548196(0x15c)),..._0x2bde2c,async(_0x57e9e6,_0x22d268)=>{const _0x36f3cb=_0x548196;y[_0x36f3cb(0x6e9)]('request\x20received\x20in\x20getAutomateSystem');let _0x582131=await this[_0x36f3cb(0x455)]({'request':_0x57e9e6,'schema':N,'ClassRef':C,'execute':_0x2ea9e7=>A[_0x36f3cb(0x15c)](_0x2ea9e7)});_0x22d268[_0x36f3cb(0x615)](0xc8)['json'](_0x582131);})[_0x548196(0x1f0)](this[_0x548196(0x21c)]('getTicketSystem'),..._0x2bde2c,async(_0x486f35,_0x425d49)=>{const _0x5a83b6=_0x548196;y[_0x5a83b6(0x6e9)](_0x5a83b6(0x5fd));let _0x44ae82=await this[_0x5a83b6(0x455)]({'request':_0x486f35,'schema':N,'ClassRef':C,'execute':_0x187276=>A['getAutomateSystem'](_0x187276)});_0x425d49['status'](0xc8)['json'](_0x44ae82);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x39e)),..._0x2bde2c,async(_0x23612f,_0x599285)=>{const _0x91241e=_0x548196;let _0x337efe=_0x23612f[_0x91241e(0x547)];y[_0x91241e(0x6e9)](_0x91241e(0x235)),y[_0x91241e(0x6e9)](_0x91241e(0x313)),y[_0x91241e(0x6e9)](_0x23612f['body']);let _0x5f158b=await this[_0x91241e(0x455)]({'request':_0x23612f,'schema':N,'ClassRef':C,'execute':_0x44552d=>A['updateAgent'](_0x44552d,_0x337efe)});_0x599285[_0x91241e(0x615)](0xc8)[_0x91241e(0x539)](_0x5f158b);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x74f)),..._0x2bde2c,async(_0x244506,_0x43add1)=>{const _0x399210=_0x548196;let _0x23f2d8=_0x244506[_0x399210(0x547)];y['verbose'](_0x399210(0x5f5)),y[_0x399210(0x6e9)](_0x399210(0x313)),y[_0x399210(0x6e9)](_0x244506[_0x399210(0x547)]);let _0x10fa98=await this[_0x399210(0x455)]({'request':_0x244506,'schema':N,'ClassRef':C,'execute':_0x3f3e74=>A[_0x399210(0x74f)](_0x3f3e74,_0x23f2d8)});_0x43add1[_0x399210(0x615)](0xc8)['json'](_0x10fa98);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x318)),..._0x2bde2c,async(_0x3c2ba3,_0x15d39f)=>{const _0x20437e=_0x548196;let _0x2f6482=_0x3c2ba3[_0x20437e(0x547)];y[_0x20437e(0x6e9)](_0x20437e(0x734)),y[_0x20437e(0x6e9)]('request\x20body:\x20'),y[_0x20437e(0x6e9)](_0x3c2ba3['body']);let _0x48be38=await this[_0x20437e(0x455)]({'request':_0x3c2ba3,'schema':N,'ClassRef':C,'execute':_0x456630=>A[_0x20437e(0x318)](_0x456630,_0x2f6482)});_0x15d39f[_0x20437e(0x615)](0xc8)[_0x20437e(0x539)](_0x48be38);})[_0x548196(0x36b)](this['routerPath'](_0x548196(0x3a3)),..._0x2bde2c,async(_0x133943,_0x5e25d5)=>{const _0x573380=_0x548196;let _0x13e1c4=_0x133943[_0x573380(0x547)];y[_0x573380(0x6e9)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x573380(0x6e9)](_0x573380(0x313)),y[_0x573380(0x6e9)](_0x133943[_0x573380(0x547)]);let _0xf2d5d8=await this[_0x573380(0x455)]({'request':_0x133943,'schema':N,'ClassRef':C,'execute':_0x1f99c8=>A[_0x573380(0x3a3)](_0x1f99c8,_0x13e1c4)});_0x5e25d5[_0x573380(0x615)](0xc8)['json'](_0xf2d5d8);})['post'](this['routerPath'](_0x548196(0x49e)),..._0x2bde2c,async(_0x5049e0,_0x2597db)=>{const _0x5a2057=_0x548196;let _0x1a735e=_0x5049e0[_0x5a2057(0x547)];y[_0x5a2057(0x6e9)]('request\x20received\x20in\x20getConversation'),y[_0x5a2057(0x6e9)](_0x5a2057(0x313)),y['verbose'](_0x5049e0[_0x5a2057(0x547)]);let _0x30c451=await this[_0x5a2057(0x455)]({'request':_0x5049e0,'schema':N,'ClassRef':C,'execute':_0x5e8c91=>A[_0x5a2057(0x49e)](_0x5e8c91,_0x1a735e)});_0x2597db[_0x5a2057(0x615)](0xc8)['json'](_0x30c451);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x544)),..._0x2bde2c,async(_0x49c417,_0x1c1c40)=>{const _0x89d4c0=_0x548196;let _0x9e1770=_0x49c417[_0x89d4c0(0x547)];y[_0x89d4c0(0x6e9)](_0x89d4c0(0x6bf)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x49c417['body']);let _0x1aaf83=await this[_0x89d4c0(0x455)]({'request':_0x49c417,'schema':N,'ClassRef':C,'execute':_0x5d6cc2=>A[_0x89d4c0(0x544)](_0x5d6cc2,_0x9e1770)});_0x1c1c40['status'](0xc8)[_0x89d4c0(0x539)](_0x1aaf83);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x729)),..._0x2bde2c,async(_0x44f3ec,_0x7c3787)=>{const _0x34b4d9=_0x548196;let _0x4b77b2=_0x44f3ec['body'];y[_0x34b4d9(0x6e9)](_0x34b4d9(0x5ef)),y['verbose']('request\x20body:\x20'),y[_0x34b4d9(0x6e9)](_0x44f3ec[_0x34b4d9(0x547)]);let _0x2a67a6=await this[_0x34b4d9(0x455)]({'request':_0x44f3ec,'schema':N,'ClassRef':C,'execute':_0x459aad=>A[_0x34b4d9(0x729)](_0x459aad,_0x4b77b2)});_0x7c3787[_0x34b4d9(0x615)](0xc8)[_0x34b4d9(0x539)](_0x2a67a6);})[_0x548196(0x76a)](this[_0x548196(0x21c)]('deleteConversation'),..._0x2bde2c,async(_0x1a8d9b,_0x450744)=>{const _0x1aca7a=_0x548196;let _0x44f0eb=_0x1a8d9b['body'];y['verbose'](_0x1aca7a(0x5f0)),y['verbose'](_0x1aca7a(0x313)),y[_0x1aca7a(0x6e9)](_0x1a8d9b['body']);let _0x18fa8d=await this['dataValidate']({'request':_0x1a8d9b,'schema':N,'ClassRef':C,'execute':_0x3b256e=>A[_0x1aca7a(0x65b)](_0x3b256e,_0x44f0eb)});_0x450744['status'](0xc8)[_0x1aca7a(0x539)](_0x18fa8d);})[_0x548196(0x36b)](this[_0x548196(0x21c)]('createflow'),..._0x2bde2c,async(_0x7c31a9,_0x299b49)=>{const _0x4c0398=_0x548196;let _0x50d8c9=_0x7c31a9[_0x4c0398(0x547)],_0x4284da=_0x7c31a9[_0x4c0398(0x292)][_0x4c0398(0x5d3)];y['verbose'](_0x4c0398(0x51e)),y[_0x4c0398(0x6e9)](_0x4c0398(0x313)),y[_0x4c0398(0x6e9)](_0x7c31a9['body']);let _0x5bf49e=await this[_0x4c0398(0x455)]({'request':_0x7c31a9,'schema':N,'ClassRef':C,'execute':_0x57cf7b=>A[_0x4c0398(0x25b)](_0x57cf7b,_0x50d8c9,_0x4284da)});_0x299b49[_0x4c0398(0x615)](0xc8)['json'](_0x5bf49e);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x749)),..._0x2bde2c,async(_0x29a871,_0x312ea1)=>{const _0x147776=_0x548196;let _0x3174bd=_0x29a871['body'],_0x4e5a0d=_0x29a871[_0x147776(0x292)]['apikey'];y[_0x147776(0x6e9)](_0x147776(0x488)),y[_0x147776(0x6e9)](_0x147776(0x313)),y[_0x147776(0x6e9)](_0x29a871['body']),delete _0x3174bd[_0x147776(0x396)],delete _0x3174bd[_0x147776(0x566)],delete _0x3174bd[_0x147776(0x343)],delete _0x3174bd[_0x147776(0x242)];let _0x28e354=await this[_0x147776(0x455)]({'request':_0x29a871,'schema':N,'ClassRef':C,'execute':_0x6b2121=>A['editFlow'](_0x6b2121,_0x3174bd,_0x4e5a0d)});_0x312ea1[_0x147776(0x615)](0xc8)['json'](_0x28e354);})[_0x548196(0x36b)](this['routerPath']('editflowblock'),..._0x2bde2c,async(_0x43a7c8,_0x53af2d)=>{const _0x26877b=_0x548196;let _0x21e313=_0x43a7c8[_0x26877b(0x547)];y['verbose'](_0x26877b(0x488)),y[_0x26877b(0x6e9)](_0x26877b(0x313)),y[_0x26877b(0x6e9)](_0x43a7c8[_0x26877b(0x547)]);let _0x14e0fd=await this[_0x26877b(0x455)]({'request':_0x43a7c8,'schema':N,'ClassRef':C,'execute':_0x524a93=>A['editFlowBlock'](_0x524a93,_0x21e313)});_0x53af2d[_0x26877b(0x615)](0xc8)[_0x26877b(0x539)](_0x14e0fd);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x6d5)),..._0x2bde2c,async(_0x2f4ef9,_0x3733bf)=>{const _0x42ea3d=_0x548196;let _0x1232a5=_0x2f4ef9[_0x42ea3d(0x547)];y[_0x42ea3d(0x6e9)](_0x42ea3d(0x488)),y[_0x42ea3d(0x6e9)](_0x42ea3d(0x313)),y[_0x42ea3d(0x6e9)](_0x2f4ef9[_0x42ea3d(0x547)]);let _0x4187fb=await this[_0x42ea3d(0x455)]({'request':_0x2f4ef9,'schema':N,'ClassRef':C,'execute':_0x109cfb=>A[_0x42ea3d(0x4ec)](_0x109cfb,_0x1232a5)});_0x3733bf[_0x42ea3d(0x615)](0xc8)[_0x42ea3d(0x539)](_0x4187fb);})[_0x548196(0x36b)](this['routerPath'](_0x548196(0x7ae)),..._0x2bde2c,async(_0x816c11,_0x1029ca)=>{const _0x3a7e58=_0x548196;let _0xaa0fed=_0x816c11[_0x3a7e58(0x547)];y[_0x3a7e58(0x6e9)](_0x3a7e58(0x488)),y[_0x3a7e58(0x6e9)](_0x3a7e58(0x313)),y[_0x3a7e58(0x6e9)](_0x816c11[_0x3a7e58(0x547)]);let _0x31f551=await this[_0x3a7e58(0x455)]({'request':_0x816c11,'schema':N,'ClassRef':C,'execute':_0x236cbf=>A['editFlowVaredit'](_0x236cbf,_0xaa0fed)});_0x1029ca[_0x3a7e58(0x615)](0xc8)['json'](_0x31f551);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x73d)),..._0x2bde2c,async(_0x15f4a4,_0x13eb3d)=>{const _0x411df7=_0x548196;let _0x48fc63=_0x15f4a4[_0x411df7(0x547)];y[_0x411df7(0x6e9)]('request\x20received\x20in\x20editFlowgroup'),y['verbose'](_0x411df7(0x313)),y[_0x411df7(0x6e9)](_0x15f4a4[_0x411df7(0x547)]);let _0x25fea5=await this[_0x411df7(0x455)]({'request':_0x15f4a4,'schema':N,'ClassRef':C,'execute':_0x638ec7=>A[_0x411df7(0x768)](_0x638ec7,_0x48fc63)});_0x13eb3d[_0x411df7(0x615)](0xc8)[_0x411df7(0x539)](_0x25fea5);})['post'](this[_0x548196(0x21c)]('editflowcondition'),..._0x2bde2c,async(_0x53d3e1,_0x2da169)=>{const _0x372c94=_0x548196;let _0x328ee5=_0x53d3e1[_0x372c94(0x547)];y[_0x372c94(0x6e9)](_0x372c94(0x628)),y[_0x372c94(0x6e9)](_0x372c94(0x313)),y[_0x372c94(0x6e9)](_0x53d3e1[_0x372c94(0x547)]);let _0x245000=await this['dataValidate']({'request':_0x53d3e1,'schema':N,'ClassRef':C,'execute':_0x523534=>A[_0x372c94(0x48e)](_0x523534,_0x328ee5)});_0x2da169['status'](0xc8)[_0x372c94(0x539)](_0x245000);})[_0x548196(0x36b)](this[_0x548196(0x21c)](_0x548196(0x23d)),..._0x2bde2c,async(_0x33a1ab,_0x261231)=>{const _0x1063bf=_0x548196;let _0x8227c=_0x33a1ab['body'];y[_0x1063bf(0x6e9)](_0x1063bf(0x500)),y['verbose']('request\x20body:\x20'),y[_0x1063bf(0x6e9)](_0x33a1ab[_0x1063bf(0x547)]);let _0x4021e5=await this[_0x1063bf(0x455)]({'request':_0x33a1ab,'schema':N,'ClassRef':C,'execute':_0x6f3fbc=>A[_0x1063bf(0x7ce)](_0x6f3fbc,_0x8227c)});_0x261231['status'](0xc8)[_0x1063bf(0x539)](_0x4021e5);})[_0x548196(0x36b)](this['routerPath'](_0x548196(0x3f4)),..._0x2bde2c,async(_0x51eeb6,_0x57609f)=>{const _0x4d216a=_0x548196;let _0x351f55=_0x51eeb6[_0x4d216a(0x547)];y[_0x4d216a(0x6e9)]('request\x20received\x20in\x20getFlow'),y[_0x4d216a(0x6e9)]('request\x20body:\x20'),y[_0x4d216a(0x6e9)](_0x51eeb6['body']);let _0x4e0883=await this[_0x4d216a(0x455)]({'request':_0x51eeb6,'schema':N,'ClassRef':C,'execute':_0x27303e=>A[_0x4d216a(0x49d)](_0x27303e,_0x351f55)});_0x57609f['status'](0xc8)[_0x4d216a(0x539)](_0x4e0883);})[_0x548196(0x76a)](this[_0x548196(0x21c)]('deleteflow'),..._0x2bde2c,async(_0x47a502,_0x5e553f)=>{const _0x3bf59a=_0x548196;let _0x239bc1=_0x47a502['body'];y[_0x3bf59a(0x6e9)](_0x3bf59a(0x21a)),y[_0x3bf59a(0x6e9)](_0x3bf59a(0x313)),y[_0x3bf59a(0x6e9)](_0x47a502[_0x3bf59a(0x547)]);let _0x21522f=await this[_0x3bf59a(0x455)]({'request':_0x47a502,'schema':N,'ClassRef':C,'execute':_0x2cab1b=>A[_0x3bf59a(0x32b)](_0x2cab1b,_0x239bc1)});_0x5e553f['status'](0xc8)['json'](_0x21522f);})[_0x548196(0x1f0)](this[_0x548196(0x21c)]('allflows'),..._0x2bde2c,async(_0x312cd5,_0x1f1e8f)=>{const _0x215837=_0x548196;y[_0x215837(0x6e9)](_0x215837(0x7f1));let _0x32f9e5=await this[_0x215837(0x455)]({'request':_0x312cd5,'schema':N,'ClassRef':C,'execute':_0x4f0ea2=>A['allFlows'](_0x4f0ea2)});_0x1f1e8f['status'](0xc8)[_0x215837(0x539)](_0x32f9e5);});}},mi=T(require(a0_0x33b913(0x2e5))),Z={};function pi(_0x4b1105,_0x5004ef,_0x3da293,_0x13483f){Z[_0x4b1105]||(Z[_0x4b1105]={}),Z[_0x4b1105][_0x5004ef]={'id':_0x5004ef,'response':_0x3da293,'events':_0x13483f};}function hi(_0x38af9b,_0x446468){!Z[_0x38af9b]||!Z[_0x38af9b][_0x446468]||delete Z[_0x38af9b][_0x446468];}function U(_0x257080,_0x72cb27,_0x3674f0){const _0x368f50=a0_0x33b913;if(!Z[_0x257080])return;let _0x6e2917=_0x368f50(0x29b)+JSON[_0x368f50(0x590)](_0x3674f0)+'\x0a\x0a';Object[_0x368f50(0x563)](Z[_0x257080])['forEach'](_0x3a176b=>{const _0x2ba964=_0x368f50;_0x3a176b['events'][_0x2ba964(0x798)](_0x72cb27)&&_0x3a176b[_0x2ba964(0x17f)][_0x2ba964(0x82c)](_0x6e2917);});}function gi(){const _0x58d3bf=a0_0x33b913;let _0x52402f={};for(let _0x1e84ba in Z)_0x52402f[_0x1e84ba]=Object[_0x58d3bf(0x563)](Z[_0x1e84ba])[_0x58d3bf(0x6f7)](_0x407008=>({'id':_0x407008['id'],'events':_0x407008[_0x58d3bf(0x153)]}));return _0x52402f;}var fi=require(a0_0x33b913(0x360)),$s=require('mongoose'),Ns=class{},Mo=new $s['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Co=new $s[(a0_0x33b913(0x4df))]({'_id':{'type':String,'default':a0_0x33b913(0x4ce)},'WebhookGlobal':{'type':Mo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=R?.['model'](Ns[a0_0x33b913(0x382)],Co,a0_0x33b913(0x7e2)),Eo=mi[a0_0x33b913(0x876)][a0_0x33b913(0x7f8)](__dirname,'downloads'),Oe=(0x0,Tt[a0_0x33b913(0x332)])(),vo=S[a0_0x33b913(0x1f0)](a0_0x33b913(0x28a))[a0_0x33b913(0x565)],ae=[Ma,Ca,Na[vo]];Oe[a0_0x33b913(0x5ec)](a0_0x33b913(0x3c0),Tt[a0_0x33b913(0x876)]['static'](Eo))[a0_0x33b913(0x1f0)](a0_0x33b913(0x241),async(_0x28146c,_0x317a15)=>{const _0x4f117b=a0_0x33b913;console[_0x4f117b(0x77d)](_0x4f117b(0x577));let _0x5081e1=_0x28146c[_0x4f117b(0x34e)][_0x4f117b(0x63b)],_0x2cba74=(_0x28146c[_0x4f117b(0x17d)][_0x4f117b(0x153)]||'')[_0x4f117b(0x76e)](','),_0x10eb3f=(0x0,fi['v4'])();console['log'](_0x4f117b(0x45d),_0x5081e1),console['log'](_0x4f117b(0x2bc),_0x2cba74);let _0x25720b=S[_0x4f117b(0x1f0)](_0x4f117b(0x28a))[_0x4f117b(0x64f)],_0x51899d=_0x28146c[_0x4f117b(0x17d)][_0x4f117b(0x5d3)];if(console[_0x4f117b(0x77d)](_0x4f117b(0x1d9),_0x51899d),_0x25720b[_0x4f117b(0x254)]!==_0x51899d){console['log'](_0x4f117b(0x842));try{let _0x4a701a=await de[_0x4f117b(0x394)][_0x4f117b(0x345)](_0x5081e1);if(console[_0x4f117b(0x77d)](_0x4f117b(0x6c5),_0x4a701a),!_0x4a701a||_0x4a701a['apikey']!==_0x51899d)return console['log'](_0x4f117b(0x51c)),_0x317a15['status'](0x191)[_0x4f117b(0x4eb)]('API\x20Key\x20invlida.');}catch(_0x55ad93){return console['error'](_0x4f117b(0x282),_0x55ad93),_0x317a15[_0x4f117b(0x615)](0x191)['send'](_0x4f117b(0x137));}}if(!await $e(_0x5081e1))return _0x317a15[_0x4f117b(0x615)](0x194)[_0x4f117b(0x4eb)]('Instncia\x20no\x20encontrada.');_0x317a15['setHeader'](_0x4f117b(0x7f2),_0x4f117b(0x2bf)),_0x317a15[_0x4f117b(0x37d)](_0x4f117b(0x36c),_0x4f117b(0x760)),_0x317a15[_0x4f117b(0x37d)](_0x4f117b(0x304),_0x4f117b(0x233)),_0x317a15[_0x4f117b(0x525)]();let _0x1ca90b=_0x4f117b(0x29b)+JSON[_0x4f117b(0x590)]({'info':_0x4f117b(0x1de)})+'\x0a\x0a';_0x317a15[_0x4f117b(0x82c)](_0x1ca90b),pi(_0x5081e1,_0x10eb3f,_0x317a15,_0x2cba74),_0x28146c['on']('close',()=>{const _0x350b05=_0x4f117b;console[_0x350b05(0x77d)](_0x350b05(0x77c)+_0x5081e1),hi(_0x5081e1,_0x10eb3f);});}),Oe['post'](a0_0x33b913(0x86e),async(_0x1121f3,_0x49dcb8)=>{const _0x256916=a0_0x33b913;console[_0x256916(0x77d)]('iniciando\x20fluxo\x20router');let _0x48c2a9=_0x1121f3[_0x256916(0x34e)][_0x256916(0x63b)],_0xc2d330=_0x1121f3[_0x256916(0x34e)]['startID'],_0x4bf19f=_0x1121f3[_0x256916(0x17d)][_0x256916(0x41c)]||'',_0x271d97=_0x1121f3[_0x256916(0x547)];console[_0x256916(0x77d)](_0x256916(0x800),_0x48c2a9),console[_0x256916(0x77d)](_0x256916(0x568),_0xc2d330),console[_0x256916(0x77d)]('RemoteJid:',_0x4bf19f),console[_0x256916(0x77d)](_0x256916(0x78f),_0x271d97);try{if(!await $e(_0x48c2a9))return _0x49dcb8[_0x256916(0x615)](0x194)[_0x256916(0x4eb)]('Instncia\x20no\x20encontrada.');let _0x2f1da1=await A[_0x256916(0x357)](_0x48c2a9,_0xc2d330,_0x4bf19f,_0x271d97);_0x49dcb8['send'](_0x2f1da1);}catch(_0x4b18b6){console[_0x256916(0x43c)](_0x4b18b6),_0x49dcb8[_0x256916(0x615)](0x1f4)[_0x256916(0x4eb)](_0x256916(0x83c));}}),Oe[a0_0x33b913(0x1f0)](a0_0x33b913(0x860),(_0x552713,_0x2a2ba1)=>{let _0x18b866=gi();_0x2a2ba1['json'](_0x18b866);})[a0_0x33b913(0x1f0)]('/',(_0x335fe4,_0x3c39f7)=>{const _0x2a82f9=a0_0x33b913;let _0x1f8420=S['get'](_0x2a82f9(0x38e))[_0x2a82f9(0x45f)];if(_0x1f8420){let _0x1daf62=encodeURIComponent(''+_0x1f8420);_0x3c39f7['redirect'](_0x2a82f9(0x3d5)+_0x1daf62);return;}let _0x590715=S['get'](_0x2a82f9(0x793)),_0x4735d7=_0x590715&&_0x590715[_0x2a82f9(0x7a4)]['split']('/')[0x4];if(_0x4735d7){let _0x4b8890=encodeURIComponent(_0x2a82f9(0x575)+_0x4735d7);_0x3c39f7['redirect'](_0x2a82f9(0x3d5)+_0x4b8890);}else _0x3c39f7['redirect'](_0x2a82f9(0x36a));})['put'](a0_0x33b913(0x26a),...ae,async(_0x345108,_0x3ca75c)=>{const _0x5a84ef=a0_0x33b913;try{console[_0x5a84ef(0x77d)](_0x5a84ef(0x62f)),_0x3ca75c['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x3ca75c['on'](_0x5a84ef(0x430),()=>process['exit'](0x0));}catch(_0x189876){console[_0x5a84ef(0x43c)](_0x5a84ef(0x505),_0x189876),_0x3ca75c[_0x5a84ef(0x615)](0x1f4)[_0x5a84ef(0x539)]({'message':_0x5a84ef(0x84c)});}})[a0_0x33b913(0x797)](a0_0x33b913(0x7b6),...ae,async(_0x2e95b8,_0x2d214a)=>{const _0x51719f=a0_0x33b913;try{let _0x2f6ce0=_0x2e95b8['body'];await Me[_0x51719f(0x6f0)]({},{'$set':_0x2f6ce0},{'upsert':!0x0});let _0x56d300=await Me['findOne']();_0x2d214a[_0x51719f(0x539)](_0x56d300);}catch(_0x2c8bde){_0x2d214a[_0x51719f(0x615)](0x190)['send'](_0x2c8bde[_0x51719f(0x65e)]);}})[a0_0x33b913(0x1f0)](a0_0x33b913(0x7b6),...ae,async(_0xdecf62,_0x3f331d)=>{const _0xd1bdef=a0_0x33b913;try{let _0x2065f1=await Me[_0xd1bdef(0x366)]();if(!_0x2065f1)return _0x3f331d['json']({});_0x3f331d['json'](_0x2065f1);}catch(_0x5b1b20){_0x3f331d[_0xd1bdef(0x615)](0x1f4)[_0xd1bdef(0x4eb)](_0x5b1b20['message']);}})[a0_0x33b913(0x5ec)](a0_0x33b913(0x35e),new gt(S,...ae)[a0_0x33b913(0x87a)])[a0_0x33b913(0x5ec)](a0_0x33b913(0x861),new Nt(...ae)[a0_0x33b913(0x87a)])['use'](a0_0x33b913(0x7e6),new it(...ae)[a0_0x33b913(0x87a)])['use']('/group',new ht(...ae)['router'])['use'](a0_0x33b913(0x336),new Rt(...ae)['router'])[a0_0x33b913(0x5ec)](a0_0x33b913(0x498),new At(...ae)['router']);var m=class{constructor(..._0x2434d3){const _0x4ee4fa=a0_0x33b913;throw{'status':0x190,'error':_0x4ee4fa(0x2e2),'message':_0x2434d3[_0x4ee4fa(0x4ee)]>0x0?_0x2434d3:void 0x0};}},se=class{constructor(..._0xa48b3d){throw{'status':0x191,'error':'Unauthorized','message':_0xa48b3d['length']>0x0?_0xa48b3d:void 0x0};}},Q=class{constructor(..._0x28c184){const _0x78e62a=a0_0x33b913;throw{'status':0x193,'error':_0x78e62a(0x314),'message':_0x28c184[_0x78e62a(0x4ee)]>0x0?_0x28c184:void 0x0};}},J=class{constructor(..._0x455c76){const _0x3187ae=a0_0x33b913;throw{'status':0x194,'error':_0x3187ae(0x7a6),'message':_0x455c76['length']>0x0?_0x455c76:void 0x0};}},x=class{constructor(..._0x2eb36e){const _0x4410ba=a0_0x33b913;throw{'status':0x1f4,'error':_0x4410ba(0x206),'message':_0x2eb36e['length']>0x0?_0x2eb36e:void 0x0};}},pe=require(a0_0x33b913(0x155));async function Rs(_0x39ec23){const _0x357f62=a0_0x33b913;let _0xd2e5cc=new $(Rs[_0x357f62(0x382)]),_0x555a21=R[_0x357f62(0x268)](),_0xed6c90=_0x555a21['db'](S['get']('DATABASE')[_0x357f62(0x169)]['DB_PREFIX_NAME']+_0x357f62(0x519))['collection'](_0x39ec23),_0xe02ebd=async(_0x23e656,_0x547a27)=>{const _0xdf371f=_0x357f62;try{return await _0x555a21[_0xdf371f(0x2d9)](),await _0xed6c90[_0xdf371f(0x13a)]({'_id':_0x547a27},JSON[_0xdf371f(0x73a)](JSON[_0xdf371f(0x590)](_0x23e656,pe[_0xdf371f(0x481)][_0xdf371f(0x6ab)])),{'upsert':!0x0});}catch{}},_0x24e1f7=async _0x2aa8c5=>{const _0x5aef28=_0x357f62;try{await _0x555a21[_0x5aef28(0x2d9)]();let _0x42f708=await _0xed6c90[_0x5aef28(0x366)]({'_id':_0x2aa8c5}),_0x51cafb=JSON[_0x5aef28(0x590)](_0x42f708);return JSON['parse'](_0x51cafb,pe[_0x5aef28(0x481)][_0x5aef28(0x824)]);}catch{}},_0x3d3f63=async _0xf364f3=>{const _0x1295f9=_0x357f62;try{return await _0x555a21[_0x1295f9(0x2d9)](),await _0xed6c90['deleteOne']({'_id':_0xf364f3});}catch{}},_0x2985a0=await _0x24e1f7(_0x357f62(0x246))||(0x0,pe[_0x357f62(0x2f1)])();return{'state':{'creds':_0x2985a0,'keys':{'get':async(_0x3a9a07,_0x2a0864)=>{const _0x969dfe=_0x357f62;let _0x252f64={};return await Promise['all'](_0x2a0864[_0x969dfe(0x6f7)](async _0x5ec420=>{const _0x475135=_0x969dfe;let _0x279483=await _0x24e1f7(_0x3a9a07+'-'+_0x5ec420);_0x3a9a07==='app-state-sync-key'&&_0x279483&&(_0x279483=pe[_0x475135(0x71a)][_0x475135(0x4b3)][_0x475135(0x4b7)]['fromObject'](_0x279483)),_0x252f64[_0x5ec420]=_0x279483;})),_0x252f64;},'set':async _0x4f3eb4=>{const _0x53a38a=_0x357f62;let _0x3dbe0d=[];for(let _0x284e45 in _0x4f3eb4)for(let _0x3971c6 in _0x4f3eb4[_0x284e45]){let _0x165039=_0x4f3eb4[_0x284e45][_0x3971c6],_0x388c92=_0x284e45+'-'+_0x3971c6;_0x3dbe0d[_0x53a38a(0x41a)](_0x165039?_0xe02ebd(_0x165039,_0x388c92):_0x3d3f63(_0x388c92));}await Promise['all'](_0x3dbe0d);}}},'saveCreds':async()=>_0xe02ebd(_0x2985a0,'creds')};}var Is=T(require('long')),_s=T(require(a0_0x33b913(0x816))),It=require(a0_0x33b913(0x155)),wi=require(a0_0x33b913(0x58b)),Ot=require(a0_0x33b913(0x155)),xt;function No(_0x1e647d){const _0x25a4cc=a0_0x33b913;return xt||(xt=(0x0,wi[_0x25a4cc(0x60d)])({'url':_0x1e647d[_0x25a4cc(0x3eb)]}),xt[_0x25a4cc(0x2d9)]()),xt;}var ne=class c{constructor(_0x14c958,_0x208dc4){const _0x490e56=a0_0x33b913;this[_0x490e56(0x7b0)]=_0x14c958,this['instanceName']=_0x208dc4,this[_0x490e56(0x5e8)]=new $(c[_0x490e56(0x382)]),this[_0x490e56(0x6cd)]=No(_0x14c958);}set[a0_0x33b913(0x3b6)](_0x507b8f){const _0x477a57=a0_0x33b913;this[_0x477a57(0x6c1)]=_0x507b8f;}async[a0_0x33b913(0x767)](){const _0x284970=a0_0x33b913;try{return await this[_0x284970(0x6cd)][_0x284970(0x31c)](['keys',this[_0x284970(0x7b0)][_0x284970(0x1f5)]+':*']);}catch(_0x23cb77){this[_0x284970(0x5e8)]['error'](_0x23cb77);}}async['writeData'](_0x43a01c,_0x49e6cc){const _0x43de13=a0_0x33b913;try{let _0x47f6df=JSON[_0x43de13(0x590)](_0x49e6cc,Ot[_0x43de13(0x481)][_0x43de13(0x6ab)]);return await this['client'][_0x43de13(0x348)](this[_0x43de13(0x7b0)][_0x43de13(0x1f5)]+':'+this[_0x43de13(0x6c1)],_0x43a01c,_0x47f6df);}catch(_0x4d6eda){this[_0x43de13(0x5e8)][_0x43de13(0x43c)](_0x4d6eda);}}async[a0_0x33b913(0x4dd)](){const _0x3b13ff=a0_0x33b913;try{let _0x48c32d=await this[_0x3b13ff(0x6cd)][_0x3b13ff(0x805)](this[_0x3b13ff(0x7b0)]['PREFIX_KEY']+':'+this[_0x3b13ff(0x6c1)]);if(_0x48c32d){for(let _0x548218 in _0x48c32d)Object[_0x3b13ff(0x43a)][_0x3b13ff(0x247)][_0x3b13ff(0x85d)](_0x48c32d,_0x548218)&&(_0x48c32d[_0x548218]=JSON[_0x3b13ff(0x73a)](_0x48c32d[_0x548218],Ot[_0x3b13ff(0x481)]['reviver']));return _0x48c32d;}}catch(_0x22dc83){this[_0x3b13ff(0x5e8)][_0x3b13ff(0x43c)](_0x22dc83);}}async[a0_0x33b913(0x848)](_0x154260){const _0x29ad5c=a0_0x33b913;try{let _0x27f910=await this[_0x29ad5c(0x6cd)][_0x29ad5c(0x5c0)](this[_0x29ad5c(0x7b0)]['PREFIX_KEY']+':'+this[_0x29ad5c(0x6c1)],_0x154260);if(_0x27f910)return JSON['parse'](_0x27f910,Ot[_0x29ad5c(0x481)][_0x29ad5c(0x824)]);}catch(_0x1e01ea){this[_0x29ad5c(0x5e8)][_0x29ad5c(0x43c)](_0x1e01ea);}}async[a0_0x33b913(0x74c)](_0x761fe6){const _0x47169c=a0_0x33b913;try{return await this[_0x47169c(0x6cd)][_0x47169c(0x52d)](this[_0x47169c(0x7b0)][_0x47169c(0x1f5)]+':'+this['instanceName'],_0x761fe6);}catch(_0x309fa4){this['logger'][_0x47169c(0x43c)](_0x309fa4);}}async['delAll'](_0x307cf4){const _0x462fdd=a0_0x33b913;try{return await this['client'][_0x462fdd(0x1db)](_0x307cf4||this[_0x462fdd(0x7b0)][_0x462fdd(0x1f5)]+':'+this[_0x462fdd(0x6c1)]);}catch(_0x2ccd8a){this[_0x462fdd(0x5e8)][_0x462fdd(0x43c)](_0x2ccd8a);}}};async function As(_0x28f570,_0x2abf8d){const _0x21d6ce=a0_0x33b913;let _0x1ef7db=new $(As[_0x21d6ce(0x382)]),_0x1528fd=new ne(_0x28f570,_0x2abf8d),_0x5d4114=async(_0x1b0b0c,_0x489c65)=>{const _0x4f633b=_0x21d6ce;try{return await _0x1528fd[_0x4f633b(0x436)](_0x489c65,_0x1b0b0c);}catch(_0x50c06d){return _0x1ef7db[_0x4f633b(0x43c)]({'localError':_0x4f633b(0x436),'error':_0x50c06d});}},_0xfc4fe0=async _0x47ae14=>{const _0x2d137a=_0x21d6ce;try{return await _0x1528fd[_0x2d137a(0x848)](_0x47ae14);}catch(_0x1b9ddb){_0x1ef7db[_0x2d137a(0x43c)]({'readData':'writeData','error':_0x1b9ddb});return;}},_0x246ba1=async _0xa6ff66=>{const _0x5e0b57=_0x21d6ce;try{return await _0x1528fd[_0x5e0b57(0x74c)](_0xa6ff66);}catch(_0x3f354e){_0x1ef7db['error']({'readData':_0x5e0b57(0x74c),'error':_0x3f354e});}},_0x461632=await _0xfc4fe0(_0x21d6ce(0x246))||(0x0,It['initAuthCreds'])();return{'state':{'creds':_0x461632,'keys':{'get':async(_0x561510,_0x461f40)=>{const _0x463a0b=_0x21d6ce;let _0x8d8dcc={};return await Promise[_0x463a0b(0x739)](_0x461f40[_0x463a0b(0x6f7)](async _0x236166=>{const _0x35130c=_0x463a0b;let _0x1381d9=await _0xfc4fe0(_0x561510+'-'+_0x236166);_0x561510===_0x35130c(0x803)&&_0x1381d9&&(_0x1381d9=It[_0x35130c(0x71a)][_0x35130c(0x4b3)][_0x35130c(0x4b7)][_0x35130c(0x161)](_0x1381d9)),_0x8d8dcc[_0x236166]=_0x1381d9;})),_0x8d8dcc;},'set':async _0x1a9ef9=>{const _0x3ec611=_0x21d6ce;let _0xdc5387=[];for(let _0x101f1e in _0x1a9ef9)for(let _0x277cdc in _0x1a9ef9[_0x101f1e]){let _0xc4872e=_0x1a9ef9[_0x101f1e][_0x277cdc],_0x19026d=_0x101f1e+'-'+_0x277cdc;_0xdc5387['push'](_0xc4872e?await _0x5d4114(_0xc4872e,_0x19026d):await _0x246ba1(_0x19026d));}await Promise[_0x3ec611(0x739)](_0xdc5387);}}},'saveCreds':async()=>await _0x5d4114(_0x461632,_0x21d6ce(0x246))};}var k=T(require('fs')),he=require(a0_0x33b913(0x360)),jt=T(require('sharp')),Ft=require(a0_0x33b913(0x4e2)),$o=a0_0x33b913(0x543)['trim'](),_t=$o[a0_0x33b913(0x76e)]('\x0a')[a0_0x33b913(0x6f7)](_0x3595ed=>{const _0x2ad862=a0_0x33b913;let _0x54416b=_0x3595ed['split'](':'),_0x4f560f={'host':_0x54416b[0x0],'port':_0x54416b[0x1],'protocol':_0x2ad862(0x735)};return _0x54416b[_0x2ad862(0x4ee)]===0x4&&(_0x4f560f[_0x2ad862(0x657)]=_0x54416b[0x2],_0x4f560f[_0x2ad862(0x24e)]=_0x54416b[0x3]),_0x4f560f;});function yi(_0x5e13b0){const _0x251ebb=a0_0x33b913;return _t[_0x251ebb(0x345)](_0x965780=>_0x965780[_0x251ebb(0x700)]===_0x5e13b0)||null;}function bi(){const _0x4a751e=a0_0x33b913;if(_t[_0x4a751e(0x4ee)]===0x0)return null;let _0x325e36=Math[_0x4a751e(0x619)](Math[_0x4a751e(0x5c9)]()*_t[_0x4a751e(0x4ee)]);return _t[_0x325e36];}function Ts(_0x43881b){const _0x19e292=a0_0x33b913;let _0x575588=_0x3b51bd=>typeof _0x3b51bd==_0x19e292(0x63a)&&_0x3b51bd[_0x19e292(0x4ee)]>0x0,_0x2a98a4=_0x4a8578=>{let _0x10cc78=parseInt(_0x4a8578,0xa);return!isNaN(_0x10cc78)&&_0x10cc78>0x0&&_0x10cc78<=0xffff;},_0x1892f3=_0x5d0ee3=>typeof _0x5d0ee3==_0x19e292(0x63a)&&_0x5d0ee3[_0x19e292(0x4ee)]>0x0;return _0x43881b&&_0x575588(_0x43881b[_0x19e292(0x700)])&&_0x2a98a4(_0x43881b[_0x19e292(0x5b6)])&&(!_0x43881b['username']||_0x1892f3(_0x43881b[_0x19e292(0x657)]))&&(!_0x43881b[_0x19e292(0x24e)]||_0x1892f3(_0x43881b[_0x19e292(0x24e)]))&&(_0x43881b[_0x19e292(0x751)]==='http'||_0x43881b[_0x19e292(0x751)]===_0x19e292(0x386));}var Lt=require(a0_0x33b913(0x5c5)),Ds=a0_0x33b913(0x5e5),vi,ce=null,$a=null,Ro=0x3,Ao=null,Si=S['get'](a0_0x33b913(0x28a))[a0_0x33b913(0x64f)]['KEY'];async function To(){const _0x270bfe=a0_0x33b913;let _0x3ad9c3=await Me['findOne']();ce=_0x3ad9c3?.[_0x270bfe(0x470)]??null,Ao=_0x3ad9c3?.[_0x270bfe(0x485)]??null,Ds=_0x3ad9c3?.[_0x270bfe(0x6ff)]??_0x270bfe(0x5e5),vi=_0x3ad9c3?.['connectedName']??Ps??_0x270bfe(0x6f4),console[_0x270bfe(0x77d)](_0x3ad9c3);}async function xo(){await To();}xo();var Dt={},Ce=class c{constructor(_0x2fb87b,_0x5a9e34,_0x35e7ef){const _0xd59f5=a0_0x33b913;this[_0xd59f5(0x5d4)]=_0x2fb87b,this['eventEmitter']=_0x5a9e34,this['repository']=_0x35e7ef,this[_0xd59f5(0x36e)]=null,this['logger']=new $(c[_0xd59f5(0x382)]),this[_0xd59f5(0x63b)]={},this[_0xd59f5(0x52a)]={},this[_0xd59f5(0x766)]={'state':_0xd59f5(0x851)},this[_0xd59f5(0x731)]=(0x0,L[_0xd59f5(0x7f8)])(ie,_0xd59f5(0x5ff)),this[_0xd59f5(0x7e3)]=new _s['default'](),this[_0xd59f5(0x19f)]=new _s[(_0xd59f5(0x876))](),this[_0xd59f5(0x1cd)]=!0x1,this[_0xd59f5(0x3bc)]={'status.instance':_0xd59f5(0x349),'connection.update':_0xd59f5(0x349),'qrcode.updated':_0xd59f5(0x480),'messages.upsert':'/wa-message','send.message':_0xd59f5(0x2bb),'messages.update':_0xd59f5(0x3fe),'group.upsert':_0xd59f5(0x66f),'group.update':_0xd59f5(0x66f),'group-participants.update':_0xd59f5(0x66f),'messages.set':_0xd59f5(0x13e),'contacts.set':_0xd59f5(0x513),'contacts.upsert':'/wa-contacts','contacts.update':_0xd59f5(0x513),'presence.update':_0xd59f5(0x621),'chats.set':_0xd59f5(0x6a2),'chats.update':'/wa-chats','chats.upsert':_0xd59f5(0x6a2),'chats.delete':_0xd59f5(0x6a2)},this['reconnectAttempts']=0x0,this[_0xd59f5(0x709)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0xd59f5(0x201)]=0xea60,this[_0xd59f5(0x836)]=!0x1,this['chatHandle']={'chats.upsert':async(_0xa7b1dc,_0x37f0b5)=>{const _0xbb3349=_0xd59f5;let _0x283362=[];for await(let _0x53e8ed of _0xa7b1dc)_0x283362[_0xbb3349(0x41a)]({'_id':_0x53e8ed['id'],'owner':this[_0xbb3349(0x63b)][_0xbb3349(0x27c)],'group':_0x53e8ed['id'][_0xbb3349(0x2ce)](_0xbb3349(0x51b)),'name':_0x53e8ed['name']||_0x53e8ed['displayName']||null,'contactname':null,'lastmsg':_0x53e8ed['conversationTimestamp']&&_0x53e8ed['conversationTimestamp']['toString']()[_0xbb3349(0x4ee)]<0xd?_0x53e8ed[_0xbb3349(0x5dc)]*0x3e8:_0x53e8ed[_0xbb3349(0x5dc)]||null,'archived':_0x53e8ed['archived']||!0x1,'unreadcount':_0x53e8ed['unreadCount']||0x0,'ephemeralExpiration':_0x53e8ed[_0xbb3349(0x3d7)]||0x0});this[_0xbb3349(0x762)](_0xbb3349(0x372),_0x283362);},'chats.update':async(_0x217fbd,_0x13a93f)=>{const _0x916b5e=_0xd59f5;for(let _0x37a44c of _0x217fbd){let _0x2f7c0c={'_id':_0x37a44c['id'],'owner':this['instance'][_0x916b5e(0x27c)],'archived':_0x37a44c[_0x916b5e(0x2da)],'muteEndTime':_0x37a44c[_0x916b5e(0x527)],'ephemeralExpiration':_0x37a44c['ephemeralExpiration']},_0x1b6d39=!0x1,_0x2596ee={};_0x2f7c0c[_0x916b5e(0x2da)]!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x916b5e(0x63b)][_0x916b5e(0x27c)]+_0x916b5e(0x42e)+_0x37a44c['id']+_0x916b5e(0x48d)+_0x37a44c[_0x916b5e(0x2da)]),_0x1b6d39=!0x0,_0x2596ee[_0x916b5e(0x2da)]=_0x37a44c['archived']),_0x916b5e(0x527)in _0x37a44c&&(this[_0x916b5e(0x5e8)][_0x916b5e(0x6e9)](this[_0x916b5e(0x6c1)]+'\x20('+this[_0x916b5e(0x63b)][_0x916b5e(0x27c)]+_0x916b5e(0x72f)+_0x37a44c['id']+_0x916b5e(0x48d)+(_0x37a44c[_0x916b5e(0x527)]??'0')),_0x1b6d39=!0x0,_0x2596ee[_0x916b5e(0x527)]=_0x37a44c[_0x916b5e(0x527)]??0x0),'ephemeralExpiration'in _0x37a44c&&(this[_0x916b5e(0x5e8)][_0x916b5e(0x6e9)](this['instanceName']+'\x20('+this[_0x916b5e(0x63b)][_0x916b5e(0x27c)]+_0x916b5e(0x5f1)+_0x37a44c['id']+_0x916b5e(0x48d)+(_0x37a44c['ephemeralExpiration']!==void 0x0?_0x37a44c[_0x916b5e(0x3d7)]:_0x916b5e(0x1b9))),_0x2596ee[_0x916b5e(0x3d7)]=_0x37a44c['ephemeralExpiration']===null?0x0:_0x37a44c[_0x916b5e(0x3d7)],_0x1b6d39=!0x0);let _0x3748e1;_0x1b6d39&&(_0x3748e1=await this['repository'][_0x916b5e(0x24b)][_0x916b5e(0x6f0)]({'where':{'_id':_0x37a44c['id']}},_0x2596ee,this['instance'][_0x916b5e(0x27c)])),_0x3748e1&&U(this['instanceName'],_0x916b5e(0x193),{'chat':_0x3748e1});}},'chats.delete':async _0x19d07f=>{const _0x18e6cf=_0xd59f5;for(let _0x4af0cd of _0x19d07f)if(_0x4af0cd[_0x18e6cf(0x2ce)]('@g.us')){await this['repository'][_0x18e6cf(0x24b)][_0x18e6cf(0x76a)]({'where':{'_id':_0x4af0cd}},this[_0x18e6cf(0x63b)][_0x18e6cf(0x27c)]);let _0xc3bf02={'where':{'key':{'remoteJid':_0x4af0cd}}};await this[_0x18e6cf(0x59c)][_0x18e6cf(0x65e)][_0x18e6cf(0x76a)](_0xc3bf02,this['instance'][_0x18e6cf(0x27c)]);}else{await this[_0x18e6cf(0x59c)]['chat']['updateOne']({'where':{'_id':_0x4af0cd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x18e6cf(0x63b)][_0x18e6cf(0x27c)]);let _0x3b8425={'where':{'key':{'remoteJid':_0x4af0cd}}};await this[_0x18e6cf(0x59c)][_0x18e6cf(0x65e)][_0x18e6cf(0x76a)](_0x3b8425,this[_0x18e6cf(0x63b)]['wuid']);}this[_0x18e6cf(0x762)](_0x18e6cf(0x742),[..._0x19d07f]);}},this['contactHandle']={'contacts.upsert':async(_0x3698c5,_0x4aba0c)=>{const _0x353c8a=_0xd59f5;let _0x197fd3=await this[_0x353c8a(0x59c)][_0x353c8a(0x277)]['find']({'where':{}},this[_0x353c8a(0x63b)][_0x353c8a(0x27c)]),_0x2625bb=[];for await(let _0x1b1c7e of _0x3698c5)_0x197fd3['find'](_0x483f22=>_0x483f22['_id']===_0x1b1c7e['id'])||_0x2625bb[_0x353c8a(0x41a)]({'_id':_0x1b1c7e['id'],'pushName':_0x1b1c7e?.[_0x353c8a(0x382)]||_0x1b1c7e?.[_0x353c8a(0x417)],'owner':this[_0x353c8a(0x63b)][_0x353c8a(0x27c)]});this['sendDataWebhook']('contacts.upsert',_0x2625bb),await this[_0x353c8a(0x59c)][_0x353c8a(0x277)][_0x353c8a(0x814)](_0x2625bb);},'contacts.update':async(_0x1f4085,_0x20e3f3)=>{const _0x106d64=_0xd59f5;let _0x1dab0d=[];for await(let _0x307042 of _0x1f4085)_0x1dab0d[_0x106d64(0x41a)]({'_id':_0x307042['id'],'pushName':_0x307042?.[_0x106d64(0x382)]??_0x307042?.[_0x106d64(0x417)],'owner':this[_0x106d64(0x63b)][_0x106d64(0x27c)]});this[_0x106d64(0x762)](_0x106d64(0x596),_0x1dab0d);}},this[_0xd59f5(0x1bf)]={'messaging-history.set':async({messages:_0x295aa9,chats:_0x9d2f45,isLatest:_0x1f24d4},_0xf4be51)=>{const _0x47bd2e=_0xd59f5;if(_0x1f24d4){let _0x24eed3=await Promise['all'](_0x9d2f45['map'](async _0x422d6a=>({'_id':_0x422d6a['id'],'owner':this[_0x47bd2e(0x63b)][_0x47bd2e(0x27c)],'group':_0x422d6a['id']['endsWith'](_0x47bd2e(0x51b)),'name':_0x422d6a[_0x47bd2e(0x382)]||_0x422d6a['displayName']||_0x422d6a[_0x47bd2e(0x657)]||null,'contactname':null,'lastmsg':_0x422d6a['conversationTimestamp']&&_0x422d6a[_0x47bd2e(0x5dc)]['toString']()['length']<0xd?_0x422d6a[_0x47bd2e(0x5dc)]*0x3e8:_0x422d6a[_0x47bd2e(0x5dc)]||null,'archived':_0x422d6a[_0x47bd2e(0x2da)]||!0x1,'unreadcount':_0x422d6a[_0x47bd2e(0x556)]||0x0,'ephemeralExpiration':_0x422d6a['ephemeralExpiration']||0x0,'muteEndTime':_0x422d6a['muteEndTime']||0x0})));this[_0x47bd2e(0x762)]('chats.set',_0x24eed3),await this[_0x47bd2e(0x21f)](_0x24eed3,_0xf4be51);}let _0x1f6b12=[],_0x52049a=Date[_0x47bd2e(0x445)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3bee03]of Object['entries'](_0x295aa9)){if(_0x3bee03[_0x47bd2e(0x65e)]?.[_0x47bd2e(0x205)]||_0x3bee03[_0x47bd2e(0x65e)]?.['senderKeyDistributionMessage']||!_0x3bee03[_0x47bd2e(0x65e)]||_0x3bee03[_0x47bd2e(0x2cf)][_0x47bd2e(0x41c)]===_0x47bd2e(0x791)||(Is[_0x47bd2e(0x876)]['isLong'](_0x3bee03?.['messageTimestamp'])&&(_0x3bee03[_0x47bd2e(0x589)]=_0x3bee03[_0x47bd2e(0x589)]?.[_0x47bd2e(0x3ae)]()),_0x3bee03[_0x47bd2e(0x589)]&&_0x3bee03[_0x47bd2e(0x589)][_0x47bd2e(0x2fe)]()[_0x47bd2e(0x4ee)]<0xd&&(_0x3bee03[_0x47bd2e(0x589)]=_0x3bee03[_0x47bd2e(0x589)]*0x3e8),_0x3bee03[_0x47bd2e(0x589)]<_0x52049a))continue;let _0x25c48c=(0x0,w[_0x47bd2e(0x785)])(_0x3bee03[_0x47bd2e(0x65e)]),_0x5cf2db=(0x0,w[_0x47bd2e(0x687)])(_0x25c48c),{message_normalized:_0x47c6d9}=this[_0x47bd2e(0x778)](_0x25c48c,_0x5cf2db,null);Object[_0x47bd2e(0x719)](_0x47c6d9)[_0x47bd2e(0x4ee)]>0x0&&_0x1f6b12['push']({'_id':_0x3bee03['key']['id'],'key':_0x3bee03[_0x47bd2e(0x2cf)],'pushName':_0x3bee03[_0x47bd2e(0x4e6)],'participant':_0x3bee03['participant'],'message':_0x25c48c,'messageType':_0x5cf2db,'message_normalized':{'key':_0x3bee03['key'],'pushName':_0x3bee03[_0x47bd2e(0x4e6)],'messageTimestamp':_0x3bee03[_0x47bd2e(0x589)],..._0x47c6d9},'messageTimestamp':_0x3bee03[_0x47bd2e(0x589)],'owner':this['instance'][_0x47bd2e(0x27c)]});}_0xf4be51[_0x47bd2e(0x4cf)]&&_0x1f6b12[_0x47bd2e(0x4ee)]>0x0&&(this[_0x47bd2e(0x5e8)][_0x47bd2e(0x6e9)](this[_0x47bd2e(0x6c1)]+'\x20('+this[_0x47bd2e(0x63b)][_0x47bd2e(0x27c)]+_0x47bd2e(0x63e)+_0x1f6b12['length']+_0x47bd2e(0x3cb)+this[_0x47bd2e(0x63b)]['wuid']+_0x47bd2e(0x5cd)),await this[_0x47bd2e(0x59c)][_0x47bd2e(0x65e)][_0x47bd2e(0x814)]([..._0x1f6b12],this[_0x47bd2e(0x63b)][_0x47bd2e(0x27c)])),this[_0x47bd2e(0x762)](_0x47bd2e(0x2ed),[..._0x1f6b12]),_0x295aa9=void 0x0;},'messages.upsert':async({messages:_0x78849b,type:_0xadad2c},_0x1dd78e)=>{const _0x3525d1=_0xd59f5;for(let _0x484aea of _0x78849b){if(this[_0x3525d1(0x52a)]?.[_0x3525d1(0x16c)]&&_0x484aea[_0x3525d1(0x2cf)][_0x3525d1(0x41c)][_0x3525d1(0x798)](_0x3525d1(0x51b))){this['logger'][_0x3525d1(0x6e9)](this['instanceName']+'\x20('+this[_0x3525d1(0x63b)]['wuid']+_0x3525d1(0x276));return;}if(_0x484aea[_0x3525d1(0x5a6)]&&_0x484aea[_0x3525d1(0x5a6)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x3525d1(0x43c)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao'),Dt[_0x484aea[_0x3525d1(0x2cf)]['id']]=_0x484aea,this[_0x3525d1(0x256)](_0x484aea,0x0);return;}if(Dt[_0x484aea[_0x3525d1(0x2cf)]['id']]&&(console[_0x3525d1(0x43c)](_0x3525d1(0x745)),delete Dt[_0x484aea[_0x3525d1(0x2cf)]['id']]),_0xadad2c!==_0x3525d1(0x878)||!_0x484aea?.[_0x3525d1(0x65e)]||_0x484aea[_0x3525d1(0x65e)]?.['protocolMessage']||_0x484aea['message']['senderKeyDistributionMessage']||_0x484aea['key'][_0x3525d1(0x41c)]==='status@broadcast')return;let _0xb448f9=null,_0x352493=null;try{_0xb448f9=await this[_0x3525d1(0x570)](_0x484aea),_0x352493=_0xb448f9?_0xb448f9[_0x3525d1(0x7f8)](','):null;}catch(_0x3e0000){this['logger'][_0x3525d1(0x6e9)](this['instanceName']+'\x20('+this[_0x3525d1(0x63b)][_0x3525d1(0x27c)]+_0x3525d1(0x63e)+(_0x3e0000 instanceof Error?_0x3e0000[_0x3525d1(0x65e)]:JSON['stringify'](_0x3e0000,null,0x2))),_0x352493=_0x3525d1(0x57b);}this[_0x3525d1(0x6cd)][_0x3525d1(0x4f0)](_0x3525d1(0x650)),Is[_0x3525d1(0x876)][_0x3525d1(0x2b1)](_0x484aea[_0x3525d1(0x589)])&&(_0x484aea[_0x3525d1(0x589)]=_0x484aea[_0x3525d1(0x589)]?.[_0x3525d1(0x3ae)]()),_0x484aea[_0x3525d1(0x589)]&&_0x484aea[_0x3525d1(0x589)]['toString']()[_0x3525d1(0x4ee)]<0xd&&(_0x484aea[_0x3525d1(0x589)]=_0x484aea[_0x3525d1(0x589)]*0x3e8);let _0x48e7b2=_0x484aea['message'],_0x3797c1=(0x0,w[_0x3525d1(0x785)])(_0x48e7b2),_0x2d4931=(0x0,w[_0x3525d1(0x687)])(_0x3797c1),{messageContent:_0x2e9069,message_normalized:_0x502fff}=this[_0x3525d1(0x778)](_0x3797c1,_0x2d4931,_0x352493);_0x2d4931===_0x3525d1(0x205)&&_0x2e9069?.[_0x3525d1(0x6a7)]&&(_0x2d4931=_0x3525d1(0x6a7));let _0x4b58c9,_0x429069=_0x484aea[_0x3525d1(0x2cf)]['remoteJid']['endsWith'](_0x3525d1(0x51b));if(_0x484aea['key'][_0x3525d1(0x3c9)])_0x4b58c9=this[_0x3525d1(0x63b)][_0x3525d1(0x3b7)];else{let _0x1ea40e=_0x429069?_0x484aea[_0x3525d1(0x2cf)]['participant']:_0x484aea[_0x3525d1(0x2cf)][_0x3525d1(0x41c)];_0x4b58c9=(await this[_0x3525d1(0x4a2)](_0x1ea40e,_0x484aea[_0x3525d1(0x4e6)],!0x1))[_0x3525d1(0x1c1)][_0x3525d1(0x33b)];}let _0x5e35ad={'_id':_0x484aea[_0x3525d1(0x2cf)]['id'],'key':_0x484aea['key'],'isGroup':_0x429069,'profilePictureUrl':_0x4b58c9,'pushName':_0x484aea[_0x3525d1(0x4e6)],'message':_0x3797c1,'messageType':_0x2d4931,'message_normalized':{'key':_0x484aea['key'],'pushName':_0x484aea[_0x3525d1(0x4e6)],'messageTimestamp':_0x484aea['messageTimestamp'],'source':(0x0,w[_0x3525d1(0x6be)])(_0x484aea[_0x3525d1(0x2cf)]['id']),..._0x502fff},'messageTimestamp':_0x484aea[_0x3525d1(0x589)],'owner':this['instance']['wuid'],'source':(0x0,w[_0x3525d1(0x6be)])(_0x484aea[_0x3525d1(0x2cf)]['id']),'expiration':_0x2e9069?.[_0x3525d1(0x35a)]?.['expiration']||0x0};_0x2e9069||(this[_0x3525d1(0x5e8)]['error']('Mensagem\x20no\x20suportada'),this[_0x3525d1(0x5e8)]['error'](_0x5e35ad)),this[_0x3525d1(0x5e8)][_0x3525d1(0x77d)](this[_0x3525d1(0x6c1)]+'\x20('+this[_0x3525d1(0x63b)][_0x3525d1(0x27c)]+_0x3525d1(0x63e)+(_0x5e35ad[_0x3525d1(0x2cf)]?.[_0x3525d1(0x3c9)]?_0x3525d1(0x45e):_0x3525d1(0x630))+'\x20['+_0x5e35ad['key']?.[_0x3525d1(0x41c)][_0x3525d1(0x3d1)]('@s.whatsapp.net','')+_0x3525d1(0x534)+_0x5e35ad['messageType']+')'),_0x5e35ad['message_normalized']?.[_0x3525d1(0x720)]&&this[_0x3525d1(0x5e8)][_0x3525d1(0x77d)](_0x484aea[_0x3525d1(0x2cf)]['id']+':\x20'+_0x5e35ad[_0x3525d1(0x2f3)]?.[_0x3525d1(0x720)]),await this[_0x3525d1(0x59c)]['message'][_0x3525d1(0x814)]([_0x5e35ad],this[_0x3525d1(0x63b)][_0x3525d1(0x27c)]),this[_0x3525d1(0x762)](_0x3525d1(0x298),_0x5e35ad),U(this[_0x3525d1(0x6c1)],'messages',{'message':_0x5e35ad}),_0x484aea[_0x3525d1(0x2cf)]['remoteJid']!==_0x3525d1(0x791)&&await this['updateChatWithMessage'](_0x1dd78e,_0x5e35ad,_0x3525d1(0x857));}},'messages.update':async(_0x35dafe,_0x5a6941)=>{const _0x339294=_0xd59f5;let _0x11a225={0x0:_0x339294(0x77f),0x1:_0x339294(0x4fe),0x2:'SERVER_ACK',0x3:_0x339294(0x746),0x4:_0x339294(0x6cc),0x5:_0x339294(0x826)};for await(let {key:_0x38e6d4,update:_0x4abeb0}of _0x35dafe){if(this[_0x339294(0x52a)]?.[_0x339294(0x16c)]&&_0x38e6d4[_0x339294(0x41c)][_0x339294(0x798)](_0x339294(0x51b))){this[_0x339294(0x5e8)][_0x339294(0x6e9)](this['instanceName']+'\x20('+this['instance'][_0x339294(0x27c)]+_0x339294(0x2df));return;}if(_0x38e6d4['remoteJid']!==_0x339294(0x791)){let _0x1c56ab=Date[_0x339294(0x445)](),_0x28e32a;_0x4abeb0[_0x339294(0x65e)]===null&&_0x4abeb0['status']===void 0x0?_0x28e32a=_0x339294(0x661):_0x28e32a=_0x11a225[_0x4abeb0['status']];let _0x261669=_0x38e6d4['remoteJid'][_0x339294(0x3d1)](/:\d{1,2}@/g,'@'),_0x41f1a0={..._0x38e6d4,'remoteJid':_0x261669,'status':_0x28e32a,'datetime':_0x1c56ab,'owner':this[_0x339294(0x63b)][_0x339294(0x27c)]};this[_0x339294(0x762)](_0x339294(0x1fe),_0x41f1a0),await this[_0x339294(0x656)](_0x38e6d4,_0x41f1a0);}}},'labels.association':async({type:_0x4eb8d1,association:_0x145c12})=>{const _0x45d38a=_0xd59f5;if(_0x145c12[_0x45d38a(0x710)]===_0x45d38a(0x27f)){let _0x10c9ba,_0x31bb12=0x0;for(;!_0x10c9ba&&_0x31bb12<this[_0x45d38a(0x4c9)];)_0x10c9ba=await this['repository'][_0x45d38a(0x24b)][_0x45d38a(0x366)]({'where':{'_id':_0x145c12['chatId']}},this[_0x45d38a(0x63b)]['wuid']),_0x10c9ba||(_0x31bb12++,this['logger'][_0x45d38a(0x4f3)](this[_0x45d38a(0x6c1)]+'\x20('+this['instance'][_0x45d38a(0x27c)]+'):\x20Chat\x20'+_0x145c12[_0x45d38a(0x183)]+'\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x45d38a(0x7a7)]+_0x45d38a(0x52c)+_0x31bb12+'/'+this[_0x45d38a(0x4c9)]+')'),await this[_0x45d38a(0x4b9)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x10c9ba){this[_0x45d38a(0x5e8)]['error'](_0x45d38a(0x191)+_0x145c12[_0x45d38a(0x183)]+_0x45d38a(0x572)+this[_0x45d38a(0x4c9)]+_0x45d38a(0x231));return;}switch(_0x4eb8d1){case'add':console['log'](_0x145c12),await this[_0x45d38a(0x59c)]['chat'][_0x45d38a(0x6f0)]({'where':{'_id':_0x145c12['chatId']}},{'leadInfo.etiquetas':_0x145c12[_0x45d38a(0x19b)]},this[_0x45d38a(0x63b)][_0x45d38a(0x27c)],void 0x0,_0x45d38a(0x439));break;case _0x45d38a(0x4fd):console[_0x45d38a(0x77d)](_0x145c12),await this['repository'][_0x45d38a(0x24b)][_0x45d38a(0x6f0)]({'where':{'_id':_0x145c12['chatId']}},{'leadInfo.etiquetas':_0x145c12['labelId']},this[_0x45d38a(0x63b)][_0x45d38a(0x27c)],void 0x0,_0x45d38a(0x85e));break;default:this[_0x45d38a(0x5e8)][_0x45d38a(0x43c)](_0x45d38a(0x790)+_0x4eb8d1+']');}}},'labels.edit':async _0x3326e1=>{const _0x1da546=_0xd59f5;if(!_0x3326e1||!_0x3326e1['id']){this[_0x1da546(0x5e8)][_0x1da546(0x43c)](_0x1da546(0x448));return;}if(!_0x3326e1[_0x1da546(0x6b4)]){let _0x1b511c=[_0x1da546(0x3ff),_0x1da546(0x5aa),_0x1da546(0x260),_0x1da546(0x7b8),_0x1da546(0x6a9),_0x1da546(0x50f),_0x1da546(0x69c),_0x1da546(0x1cf),_0x1da546(0x20c),'#d8e651',_0x1da546(0x845),_0x1da546(0x3cf),_0x1da546(0x699),_0x1da546(0x271),_0x1da546(0x5ba),_0x1da546(0x7fd),_0x1da546(0x5e0),_0x1da546(0x2a6),_0x1da546(0x71e),_0x1da546(0x795)],_0x2a4cf6;typeof _0x3326e1[_0x1da546(0x454)]==_0x1da546(0x17a)&&_0x3326e1[_0x1da546(0x454)]>=0x0&&_0x3326e1[_0x1da546(0x454)]<_0x1b511c[_0x1da546(0x4ee)]?_0x2a4cf6=_0x1b511c[_0x3326e1[_0x1da546(0x454)]]:(this[_0x1da546(0x5e8)][_0x1da546(0x43c)]('Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x3326e1[_0x1da546(0x454)]),_0x2a4cf6=_0x1da546(0x2b2));let _0xe09a={'_id':_0x3326e1['id'],'colorHex':_0x2a4cf6,'color':_0x3326e1?.[_0x1da546(0x454)],'name':_0x3326e1?.[_0x1da546(0x382)],'owner':this[_0x1da546(0x63b)][_0x1da546(0x27c)]};await this[_0x1da546(0x59c)][_0x1da546(0x727)][_0x1da546(0x6f0)]({'where':{'_id':_0x3326e1['id']}},_0xe09a,this[_0x1da546(0x63b)][_0x1da546(0x27c)]),this[_0x1da546(0x5e8)][_0x1da546(0x4f3)](this[_0x1da546(0x6c1)]+'\x20('+this[_0x1da546(0x63b)][_0x1da546(0x27c)]+_0x1da546(0x617)+_0x3326e1);}_0x3326e1[_0x1da546(0x6b4)]&&(await this[_0x1da546(0x59c)]['label'][_0x1da546(0x76a)]({'where':{'_id':_0x3326e1['id']}},this[_0x1da546(0x63b)][_0x1da546(0x27c)]),this[_0x1da546(0x5e8)][_0x1da546(0x4f3)]('Rtulo\x20deletado:\x27,\x20'+_0x3326e1['id']));}},this[_0xd59f5(0x2cd)]={'groups.upsert':async _0x5bb60d=>{const _0x402199=_0xd59f5;this[_0x402199(0x52a)]?.['groups_ignore']||this[_0x402199(0x762)](_0x402199(0x73f),_0x5bb60d);for(let _0x77e5ee of _0x5bb60d)await this[_0x402199(0x5a3)](_0x77e5ee);},'groups.update':async _0x122cee=>{const _0x2fad57=_0xd59f5;this['localWebhook']?.[_0x2fad57(0x16c)]||this['sendDataWebhook'](_0x2fad57(0x55c),_0x122cee);for(let _0x29c442 of _0x122cee)await this[_0x2fad57(0x5a3)](_0x29c442);},'group-participants.update':async _0x5c4d33=>{const _0x470e35=_0xd59f5;this['localWebhook']?.['groups_ignore']||this[_0x470e35(0x762)](_0x470e35(0x5b0),_0x5c4d33),await this[_0x470e35(0x197)](_0x5c4d33);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0xd59f5(0x7a7)]=0x1388,this[_0xd59f5(0x570)]=async _0x57d755=>{const _0x547a2c=_0xd59f5;if(_0x57d755[_0x547a2c(0x65e)]?.[_0x547a2c(0x1c2)]){let _0x4968db=await this[_0x547a2c(0x427)](_0x57d755[_0x547a2c(0x65e)][_0x547a2c(0x1c2)][_0x547a2c(0x1ea)],!0x0);if(_0x4968db){let _0x3cb971=_0x4968db[_0x547a2c(0x2cf)]['fromMe']?this[_0x547a2c(0x63b)][_0x547a2c(0x27c)]+_0x547a2c(0x86c):_0x4968db[_0x547a2c(0x2cf)]['participant']||_0x4968db[_0x547a2c(0x2cf)][_0x547a2c(0x41c)],_0xe3a522=_0x4968db[_0x547a2c(0x2cf)]['id'],_0xb4fa5f=_0x4968db[_0x547a2c(0x65e)],_0x4ef16a=Buffer[_0x547a2c(0x496)](_0xb4fa5f[_0x547a2c(0x14a)]['messageSecret'][_0x547a2c(0x2fe)](_0x547a2c(0x1e5)),_0x547a2c(0x1e5)),_0x41f23c=(0x0,w['decryptPollVote'])(_0x57d755[_0x547a2c(0x65e)][_0x547a2c(0x1c2)][_0x547a2c(0x22a)],{'pollCreatorJid':_0x3cb971,'pollMsgId':_0xe3a522,'pollEncKey':_0x4ef16a,'voterJid':_0x57d755[_0x547a2c(0x2cf)][_0x547a2c(0x3c9)]?this['instance'][_0x547a2c(0x27c)]+_0x547a2c(0x86c):_0x57d755[_0x547a2c(0x2cf)]['remoteJid'][_0x547a2c(0x2ce)](_0x547a2c(0x84d))?_0x57d755[_0x547a2c(0x2cf)][_0x547a2c(0x59d)]:_0x57d755[_0x547a2c(0x2cf)][_0x547a2c(0x41c)]}),_0x3b4f8b=[],_0xef91d6=_0x41f23c[_0x547a2c(0x2d5)][_0x547a2c(0x6f7)](_0x2fe8fc=>Buffer[_0x547a2c(0x496)](_0x2fe8fc)[_0x547a2c(0x2fe)](_0x547a2c(0x1e5)));for(let {optionName:_0x30d8e0}of _0xb4fa5f[_0x547a2c(0x715)]?.[_0x547a2c(0x1a5)]||_0xb4fa5f[_0x547a2c(0x612)]?.['options']||_0xb4fa5f[_0x547a2c(0x7d7)]?.['options'])_0xef91d6[_0x547a2c(0x560)]((0x0,w[_0x547a2c(0x76b)])(Buffer['from'](_0x30d8e0))['toString']('hex'))>-0x1&&_0x3b4f8b[_0x547a2c(0x41a)](_0x30d8e0);return _0x3b4f8b;}}return null;},this['normalizeMessage']=(_0x5bfe6c,_0xbc8c87,_0x244ff1)=>{const _0x3f0869=_0xd59f5;try{let _0x4fe583=_0x5bfe6c?(0x0,w[_0x3f0869(0x159)])(_0x5bfe6c)[_0xbc8c87]:void 0x0,_0x3405c2={},_0x34a548=null,_0x50377e=null,_0x3e71ad=null;_0xbc8c87===_0x3f0869(0x205)&&_0x4fe583?.[_0x3f0869(0x6a7)]&&(_0xbc8c87=(0x0,w[_0x3f0869(0x687)])(_0x4fe583[_0x3f0869(0x6a7)]),_0x34a548=_0x5bfe6c[_0x3f0869(0x205)][_0x3f0869(0x2cf)]['id'],_0x4fe583=_0x5bfe6c[_0x3f0869(0x205)][_0x3f0869(0x6a7)][_0xbc8c87]),_0x5bfe6c[_0xbc8c87]?.['contextInfo']?.[_0x3f0869(0x39a)]&&_0x5bfe6c[_0xbc8c87]?.['contextInfo']?.[_0x3f0869(0x80d)]&&(_0x50377e=_0x5bfe6c[_0xbc8c87][_0x3f0869(0x35a)]['stanzaId']),_0x5bfe6c[_0x3f0869(0x6f3)]&&(_0x3e71ad=_0x5bfe6c['reactionMessage'][_0x3f0869(0x2cf)]['id']);let _0x168112;if(_0x4fe583&&typeof _0x4fe583=='object'&&'pollCreationMessageKey'in _0x4fe583&&({pollCreationMessageKey:_0x168112}=_0x4fe583),_0xbc8c87==='pollCreationMessage'||_0xbc8c87===_0x3f0869(0x7d7)||_0xbc8c87==='pollCreationMessageV3'){let _0x3dda4b=_0x4fe583[_0x3f0869(0x1a5)][_0x3f0869(0x6f7)](_0x4362b5=>_0x4362b5[_0x3f0869(0x763)])[_0x3f0869(0x7f8)]('|');_0x3405c2[_0x3f0869(0x645)]=_0x3dda4b;}let _0x274e88='';if(_0x4fe583&&(_0x274e88+=_0x4fe583[_0x3f0869(0x382)]?_0x4fe583[_0x3f0869(0x382)]:'',_0x274e88+=_0x4fe583[_0x3f0869(0x669)]?'\x20'+_0x4fe583[_0x3f0869(0x669)]:'',_0x274e88+=_0x4fe583['conversation']?'\x20'+_0x4fe583[_0x3f0869(0x68b)]:'',_0x274e88+=_0x4fe583[_0x3f0869(0x79e)]?'\x20'+_0x4fe583[_0x3f0869(0x79e)]:''),_0xbc8c87===_0x3f0869(0x172)){_0x274e88=(_0x4fe583[_0x3f0869(0x387)]||'')+'\x0a'+(_0x4fe583[_0x3f0869(0x3a6)]||'')+'\x0a'+(_0x4fe583[_0x3f0869(0x5c3)]||'');let _0x46e5ab=this[_0x3f0869(0x270)](_0x4fe583[_0x3f0869(0x156)]);_0x3405c2[_0x3f0869(0x645)]=_0x46e5ab;}if(_0xbc8c87==='listResponseMessage'&&(_0x244ff1=_0x4fe583[_0x3f0869(0x387)]),_0x4fe583&&_0x4fe583[_0x3f0869(0x3b4)]){let _0x499c94=this[_0x3f0869(0x79b)](JSON['stringify'](_0x4fe583['vcard'],null,0x2));_0x274e88=_0x274e88+'\x0a'+_0x499c94;}if(_0x4fe583){let {sections:_0x3511d7,listType:_0x52fa2b,displayName:_0x3baee2,vcard:_0x3b803c,contactVcard:_0x1728bd,name:_0x14db11,caption:_0x2d3269,conversation:_0x4742a2,pollCreationMessageKey:_0x51a9c1,footerText:_0x319a5b,contentText:_0x268c12,pageCount:_0x278128,headerType:_0x3c4362,isAvatar:_0x434d87,isAnimated:_0x1cf787,fallbackLc:_0x105bd6,fallbackLg:_0x64d319,namespace:_0x4d52b3,elementName:_0x20453f,localizableParams:_0x515ee3,viewOnce:_0x9032ce,height:_0x4427e3,width:_0x454824,key:_0x5d187b,firstScanLength:_0x10ca1a,firstScanSidecar:_0x3b1f12,gifPlayback:_0x3e5acf,gifAttribution:_0x3142ba,midQualityFileSha256:_0x4a1afe,scansSidecar:_0x34e30e,streamingSidecar:_0x327988,thumbnailHeight:_0x362cc5,thumbnailWidth:_0x1a2112,thumbnailEncSha256:_0x4c8e4e,thumbnailDirectPath:_0x5cef77,canonicalUrl:_0x1d3c9b,matchedText:_0x734ac6,previewType:_0x1fba37,thumbnailSha256:_0x209eaa,deviceListMetadataVersion:_0x519f13,inviteLinkGroupTypeV2:_0x44ebeb,interactiveAnnotations:_0x54a8f4,scanLengths:_0x1e02ca,jpegThumbnail:_0x39e50b,url:_0x2c0ddd,mediaKeyTimestamp:_0x30f686,waveform:_0x163e56,stickerSentTs:_0x2f9660,firstFrameLength:_0xdc7822,fileEncSha256:_0x4c97b5,contextInfo:_0x31b7e1,firstFrameSidecar:_0x2735da,directPath:_0x4a996c,fileSha256:_0x377e40,mediaKey:_0x1937c1,senderTimestampMs:_0x3ff96c,..._0x13c0c6}=_0x4fe583;(_0xbc8c87===_0x3f0869(0x172)||_0xbc8c87===_0x3f0869(0x165))&&(delete _0x13c0c6['title'],delete _0x13c0c6['description']),typeof _0x4fe583==_0x3f0869(0x63a)?_0x3405c2={'text':_0x4fe583,'type':_0xbc8c87||_0x3f0869(0x68b),..._0x34a548&&{'edited':_0x34a548},..._0x50377e&&{'quoted':_0x50377e},..._0x3e71ad&&{'reaction':_0x3e71ad}}:_0x3405c2={'text':_0x274e88,..._0x13c0c6,..._0xbc8c87===_0x3f0869(0x1c2)?{'poll_id':_0x4fe583[_0x3f0869(0x1ea)]['id'],'quoted':_0x4fe583[_0x3f0869(0x1ea)]['id'],'vote':_0x244ff1}:{},..._0xbc8c87===_0x3f0869(0x165)?{'vote':_0x244ff1}:{},'type':_0xbc8c87,..._0x34a548&&{'edited':_0x34a548},..._0x50377e&&{'quoted':_0x50377e},..._0x3e71ad&&{'reaction':_0x3e71ad},...(_0xbc8c87==='pollCreationMessage'||_0xbc8c87===_0x3f0869(0x7d7)||_0xbc8c87===_0x3f0869(0x612)||_0xbc8c87===_0x3f0869(0x172))&&{'convertedOptions':_0x3405c2[_0x3f0869(0x645)]}};}return{'messageType':_0xbc8c87,'messageContent':_0x4fe583,'message_normalized':_0x3405c2};}catch(_0x447f4b){return this['logger'][_0x3f0869(0x43c)](_0x3f0869(0x51d)+_0x447f4b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0xd59f5(0x67e)](),this[_0xd59f5(0x63b)][_0xd59f5(0x6ed)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x33b913(0x6c1)](_0x74248b){const _0xa2d7cc=a0_0x33b913;if(!_0x74248b){this[_0xa2d7cc(0x63b)][_0xa2d7cc(0x382)]=(0x0,Mi['v4'])();return;}this[_0xa2d7cc(0x63b)]['name']=_0x74248b,this[_0xa2d7cc(0x762)](_0xa2d7cc(0x602),{'instance':this['instance'][_0xa2d7cc(0x382)],'status':_0xa2d7cc(0x663)});}get['instanceName'](){const _0x470365=a0_0x33b913;return this[_0x470365(0x63b)]['name'];}get[a0_0x33b913(0x27c)](){const _0x29917e=a0_0x33b913;return this[_0x29917e(0x63b)][_0x29917e(0x27c)];}async[a0_0x33b913(0x754)](){const _0x3ec47d=a0_0x33b913;let _0x386199=this[_0x3ec47d(0x6cd)]['user']?.['name']??this[_0x3ec47d(0x6cd)][_0x3ec47d(0x511)]?.[_0x3ec47d(0x417)];if(!_0x386199){if(this[_0x3ec47d(0x5d4)][_0x3ec47d(0x1f0)](_0x3ec47d(0x1a0))['ENABLED']){let _0x2f7042=await R[_0x3ec47d(0x268)]()['db'](this[_0x3ec47d(0x5d4)][_0x3ec47d(0x1f0)](_0x3ec47d(0x1a0))[_0x3ec47d(0x169)]['DB_PREFIX_NAME']+_0x3ec47d(0x519))[_0x3ec47d(0x43b)](this['instanceName'])['findOne']({'_id':_0x3ec47d(0x246)});if(_0x2f7042){let _0x581394=JSON['parse'](JSON[_0x3ec47d(0x590)](_0x2f7042),w[_0x3ec47d(0x481)]['reviver']);_0x386199=_0x581394['me']?.[_0x3ec47d(0x382)]||_0x581394['me']?.[_0x3ec47d(0x417)];}}else{if((0x0,Ie[_0x3ec47d(0x491)])((0x0,L[_0x3ec47d(0x7f8)])(we,this[_0x3ec47d(0x6c1)],_0x3ec47d(0x42b)))){let _0x11f083=JSON[_0x3ec47d(0x73a)]((0x0,Ie[_0x3ec47d(0x66a)])((0x0,L[_0x3ec47d(0x7f8)])(we,this[_0x3ec47d(0x6c1)],'creds.json'),{'encoding':_0x3ec47d(0x33f)}));_0x386199=_0x11f083['me']?.[_0x3ec47d(0x382)]||_0x11f083['me']?.[_0x3ec47d(0x417)];}}}return _0x386199;}get[a0_0x33b913(0x3b7)](){const _0x364315=a0_0x33b913;return this['instance'][_0x364315(0x3b7)];}get[a0_0x33b913(0x164)](){const _0x4b441d=a0_0x33b913;return this[_0x4b441d(0x63b)][_0x4b441d(0x6ed)]?.[_0x4b441d(0x3af)]?{'pairingCode':this[_0x4b441d(0x63b)][_0x4b441d(0x6ed)]?.['pairingCode']}:{'code':this[_0x4b441d(0x63b)]['qrcode']?.['code'],'base64':this['instance'][_0x4b441d(0x6ed)]?.[_0x4b441d(0x726)]};}async[a0_0x33b913(0x858)](){const _0x5c0a8b=a0_0x33b913;let _0x1ba5f4=await this[_0x5c0a8b(0x59c)][_0x5c0a8b(0x4e1)]['find'](this[_0x5c0a8b(0x6c1)]);this['localWebhook']['url']=_0x1ba5f4?.[_0x5c0a8b(0x5ad)],this[_0x5c0a8b(0x52a)]['enabled']=_0x1ba5f4?.[_0x5c0a8b(0x443)],this[_0x5c0a8b(0x52a)]['local_map']=_0x1ba5f4?.[_0x5c0a8b(0x3fd)],this[_0x5c0a8b(0x52a)]['STATUS_INSTANCE']=_0x1ba5f4?.[_0x5c0a8b(0x2a1)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x6d7)]=_0x1ba5f4?.['QRCODE_UPDATED'],this['localWebhook']['SEND_MESSAGE']=_0x1ba5f4?.[_0x5c0a8b(0x586)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x857)]=_0x1ba5f4?.[_0x5c0a8b(0x857)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x31d)]=_0x1ba5f4?.['MESSAGES_UPDATE'],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x2d8)]=_0x1ba5f4?.[_0x5c0a8b(0x2d8)],this['localWebhook']['GROUPS_UPDATE']=_0x1ba5f4?.['GROUPS_UPDATE'],this['localWebhook'][_0x5c0a8b(0x6e3)]=_0x1ba5f4?.[_0x5c0a8b(0x6e3)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x42a)]=_0x1ba5f4?.['CHATS_SET'],this[_0x5c0a8b(0x52a)]['CHATS_UPSERT']=_0x1ba5f4?.['CHATS_UPSERT'],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x7f6)]=_0x1ba5f4?.[_0x5c0a8b(0x7f6)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x16b)]=_0x1ba5f4?.[_0x5c0a8b(0x16b)],this[_0x5c0a8b(0x52a)]['CONTACTS_SET']=_0x1ba5f4?.[_0x5c0a8b(0x1f8)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x869)]=_0x1ba5f4?.[_0x5c0a8b(0x869)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x1f9)]=_0x1ba5f4?.['CONTACTS_UPDATE'],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x689)]=_0x1ba5f4?.[_0x5c0a8b(0x689)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x81e)]=_0x1ba5f4?.[_0x5c0a8b(0x81e)],this[_0x5c0a8b(0x52a)][_0x5c0a8b(0x3b5)]=_0x1ba5f4?.[_0x5c0a8b(0x3b5)],this[_0x5c0a8b(0x52a)]['groups_ignore']=_0x1ba5f4?.[_0x5c0a8b(0x16c)];}async[a0_0x33b913(0x5d7)](_0x549de5){const _0x10ba53=a0_0x33b913;let _0x28441d=[_0x10ba53(0x5f6),_0x10ba53(0x5ad),'enabled',_0x10ba53(0x3fd),_0x10ba53(0x2a1),'QRCODE_UPDATED',_0x10ba53(0x31d),_0x10ba53(0x857),_0x10ba53(0x586),_0x10ba53(0x2d8),_0x10ba53(0x398),_0x10ba53(0x6e3),_0x10ba53(0x42a),_0x10ba53(0x581),_0x10ba53(0x7f6),_0x10ba53(0x16b),_0x10ba53(0x1f8),_0x10ba53(0x869),_0x10ba53(0x1f9),_0x10ba53(0x689),_0x10ba53(0x81e),_0x10ba53(0x3b5),_0x10ba53(0x16c)],_0x5e7d8b={};return _0x28441d[_0x10ba53(0x211)](_0x1d07e3=>{_0x549de5[_0x1d07e3]!==void 0x0&&(_0x5e7d8b[_0x1d07e3]=_0x549de5[_0x1d07e3]);}),_0x5e7d8b['url']&&(_0x5e7d8b[_0x10ba53(0x5ad)]=_0x5e7d8b[_0x10ba53(0x5ad)]['trim']()),await this[_0x10ba53(0x59c)][_0x10ba53(0x4e1)][_0x10ba53(0x2ea)](_0x5e7d8b,this['instanceName']),Object['assign'](this[_0x10ba53(0x52a)],_0x5e7d8b),await this[_0x10ba53(0x59c)]['webhook']['find'](this[_0x10ba53(0x6c1)]);}async[a0_0x33b913(0x2fc)](){const _0x3f4053=a0_0x33b913;return await this[_0x3f4053(0x59c)][_0x3f4053(0x4e1)][_0x3f4053(0x345)](this['instanceName']);}async[a0_0x33b913(0x762)](_0x1e8789,_0x42a8f9){const _0x30d832=a0_0x33b913;let _0x1fcefb=_0x1e8789[_0x30d832(0x3d1)](/[\.-]/gm,'_')['toUpperCase'](),_0x7801f6=this[_0x30d832(0x52a)]['enabled']&&(0x0,P[_0x30d832(0x203)])(this[_0x30d832(0x52a)][_0x30d832(0x5ad)])?this['localWebhook'][_0x30d832(0x5ad)]+(this[_0x30d832(0x52a)][_0x30d832(0x3fd)]?this[_0x30d832(0x3bc)][_0x1e8789]:''):null,_0x4e2b94=this[_0x30d832(0x52a)][_0x1fcefb],_0x584ae9=ce&&ce[_0x30d832(0x443)]&&(0x0,P[_0x30d832(0x203)])(ce[_0x30d832(0x5ad)])?ce[_0x30d832(0x5ad)]+(ce[_0x30d832(0x3fd)]?this['webhookMap'][_0x1e8789]:''):null,_0x1d1e34=ce?ce[_0x1fcefb]:null;if(_0x4e2b94&&_0x7801f6)try{await K['default'][_0x30d832(0x2ea)]({'baseURL':_0x7801f6})[_0x30d832(0x36b)]('',{'event':_0x1e8789,'instance':this[_0x30d832(0x63b)]['name'],'apikey':this[_0x30d832(0x63b)][_0x30d832(0x5d3)],'data':_0x42a8f9}),this['logger']['log'](this[_0x30d832(0x6c1)]+'\x20('+this['instance'][_0x30d832(0x27c)]+_0x30d832(0x3da)+_0x1e8789+':\x20'+_0x7801f6);}catch{this[_0x30d832(0x5e8)][_0x30d832(0x43c)](this['instanceName']+'\x20('+this[_0x30d832(0x63b)][_0x30d832(0x27c)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x1e8789+':\x20'+_0x7801f6);}if(_0x1d1e34&&_0x584ae9)try{await K[_0x30d832(0x876)][_0x30d832(0x2ea)]({'baseURL':_0x584ae9})[_0x30d832(0x36b)]('',{'event':_0x1e8789,'instance':this[_0x30d832(0x63b)]['name'],'apikey':this[_0x30d832(0x63b)][_0x30d832(0x5d3)],'data':_0x42a8f9}),this[_0x30d832(0x5e8)][_0x30d832(0x77d)](this['instanceName']+'\x20('+this[_0x30d832(0x63b)]['wuid']+_0x30d832(0x588)+_0x1e8789+':\x20'+_0x584ae9);}catch{this['logger'][_0x30d832(0x43c)](this[_0x30d832(0x6c1)]+'\x20('+this[_0x30d832(0x63b)][_0x30d832(0x27c)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x1e8789+':\x20'+_0x584ae9);}}async[a0_0x33b913(0x222)]({qr:_0x56ad9e,connection:_0xd1e93b,lastDisconnect:_0x1f8c60}){const _0x1e4041=a0_0x33b913;if(_0x56ad9e){if(this[_0x1e4041(0x63b)]['qrcode']['count']===Ro)return this[_0x1e4041(0x762)](_0x1e4041(0x847),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','statusCode':w['DisconnectReason'][_0x1e4041(0x4a0)]}),this['stateConnection']={'state':_0x1e4041(0x551),'statusReason':w[_0x1e4041(0x2e4)][_0x1e4041(0x22c)]},this['sendDataWebhook'](_0x1e4041(0x6cf),{'instance':this['instance'][_0x1e4041(0x382)],...this['stateConnection']}),this[_0x1e4041(0x762)](_0x1e4041(0x602),{'instance':this[_0x1e4041(0x63b)][_0x1e4041(0x382)],'status':_0x1e4041(0x499)}),this['repository'][_0x1e4041(0x394)][_0x1e4041(0x2ea)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1e4041(0x63b)][_0x1e4041(0x382)]),this[_0x1e4041(0x1cd)]=!0x0,this['eventEmitter'][_0x1e4041(0x811)](_0x1e4041(0x31f),this['instance'][_0x1e4041(0x382)]);this[_0x1e4041(0x63b)][_0x1e4041(0x6ed)]['count']++;let _0x583c66={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x1e4041(0x2b2)}};Ci[_0x1e4041(0x876)]['toDataURL'](_0x56ad9e,_0x583c66,(_0x4dfbfa,_0x534fc5)=>{const _0x44b2b0=_0x1e4041;if(_0x4dfbfa){this['logger'][_0x44b2b0(0x43c)](this['instanceName']+'\x20('+this[_0x44b2b0(0x63b)]['wuid']+_0x44b2b0(0x160)+(_0x4dfbfa instanceof Error?_0x4dfbfa['message']:JSON[_0x44b2b0(0x590)](_0x4dfbfa,null,0x2)));return;}this[_0x44b2b0(0x63b)][_0x44b2b0(0x6ed)][_0x44b2b0(0x726)]=_0x534fc5,this[_0x44b2b0(0x63b)][_0x44b2b0(0x6ed)]['code']=_0x56ad9e,!this['phoneNumber']&&this['sendDataWebhook'](_0x44b2b0(0x847),{'qrcode':{'instance':this[_0x44b2b0(0x63b)]['name'],'pairingCode':this['instance']['qrcode'][_0x44b2b0(0x3af)],'code':_0x56ad9e,'base64':_0x534fc5}});}),this[_0x1e4041(0x4bd)]?this[_0x1e4041(0x63b)][_0x1e4041(0x6ed)][_0x1e4041(0x3af)]||(await(0x0,w[_0x1e4041(0x29d)])(0x7d0),this[_0x1e4041(0x63b)]['qrcode'][_0x1e4041(0x3af)]=await this[_0x1e4041(0x6cd)]['requestPairingCode'](this['phoneNumber'])):this[_0x1e4041(0x63b)][_0x1e4041(0x6ed)]['pairingCode']=null,Ei['default'][_0x1e4041(0x2d2)](_0x56ad9e,{'small':!0x0},_0x30e948=>this[_0x1e4041(0x5e8)][_0x1e4041(0x77d)]('\x0a{\x20instance:\x20'+this[_0x1e4041(0x63b)][_0x1e4041(0x382)]+_0x1e4041(0x7c9)+this[_0x1e4041(0x63b)][_0x1e4041(0x6ed)][_0x1e4041(0x554)]+',\x20pairCode:\x20'+this[_0x1e4041(0x63b)][_0x1e4041(0x6ed)][_0x1e4041(0x3af)]+'\x20}\x0a'+_0x30e948));}if(_0xd1e93b&&(this[_0x1e4041(0x766)]={'state':_0xd1e93b,'statusReason':_0x1f8c60?.['error']?.['output']?.[_0x1e4041(0x433)]??0xc8},this[_0x1e4041(0x762)](_0x1e4041(0x6cf),{'instance':this['instance'][_0x1e4041(0x382)],...this['stateConnection']})),_0xd1e93b===_0x1e4041(0x851)){if(this[_0x1e4041(0x64e)]++,this[_0x1e4041(0x709)]['push'](Date[_0x1e4041(0x445)]()),this[_0x1e4041(0x709)]=this[_0x1e4041(0x709)][_0x1e4041(0x711)](_0x3392d7=>Date[_0x1e4041(0x445)]()-_0x3392d7<this[_0x1e4041(0x201)]),_0x1f8c60['error']?.[_0x1e4041(0x5a2)]?.[_0x1e4041(0x433)]!==w['DisconnectReason'][_0x1e4041(0x217)]&&this[_0x1e4041(0x709)][_0x1e4041(0x4ee)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x1e4041(0x77d)](this[_0x1e4041(0x6c1)]+_0x1e4041(0x801)+this['reconnectAttempts']+'/'+this[_0x1e4041(0x69d)]+_0x1e4041(0x14d)),console[_0x1e4041(0x77d)](_0x1e4041(0x40a)),await this[_0x1e4041(0x2fd)]();else{this[_0x1e4041(0x762)](_0x1e4041(0x602),{'instance':this['instance'][_0x1e4041(0x382)],'status':_0x1e4041(0x499)}),this[_0x1e4041(0x63b)][_0x1e4041(0x2a2)][_0x1e4041(0x451)]=!0x1,this[_0x1e4041(0x59c)][_0x1e4041(0x4e1)][_0x1e4041(0x76a)](this[_0x1e4041(0x6c1)]),this[_0x1e4041(0x59c)][_0x1e4041(0x394)][_0x1e4041(0x2ea)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1e4041(0x445)]()},this[_0x1e4041(0x63b)][_0x1e4041(0x382)]);try{this[_0x1e4041(0x5e8)]['verbose'](this[_0x1e4041(0x6c1)]+'\x20('+this[_0x1e4041(0x63b)][_0x1e4041(0x27c)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x467510=await this['repository'][_0x1e4041(0x65e)][_0x1e4041(0x520)](this[_0x1e4041(0x63b)][_0x1e4041(0x27c)]);_0x467510[_0x1e4041(0x35f)]?this[_0x1e4041(0x5e8)]['verbose'](this[_0x1e4041(0x6c1)]+'\x20('+this[_0x1e4041(0x63b)]['wuid']+_0x1e4041(0x3d6)):this[_0x1e4041(0x5e8)][_0x1e4041(0x43c)](_0x1e4041(0x251)+_0x467510[_0x1e4041(0x43c)]);}catch(_0x25bb9f){this[_0x1e4041(0x5e8)]['error'](_0x1e4041(0x30c)+_0x25bb9f[_0x1e4041(0x65e)]);}this[_0x1e4041(0x63b)][_0x1e4041(0x2a2)]['delayMessage']!==null&&(this['logger'][_0x1e4041(0x6e9)](this[_0x1e4041(0x6c1)]+'\x20('+this[_0x1e4041(0x63b)][_0x1e4041(0x27c)]+_0x1e4041(0x384)),clearInterval(this[_0x1e4041(0x63b)][_0x1e4041(0x2a2)]['delayMessage']),this[_0x1e4041(0x63b)][_0x1e4041(0x2a2)]['delayMessage']=null),this[_0x1e4041(0x5e8)]['verbose'](this[_0x1e4041(0x6c1)]+'\x20('+this[_0x1e4041(0x63b)]['wuid']+_0x1e4041(0x3f7)),this[_0x1e4041(0x36e)]=null,this[_0x1e4041(0x852)][_0x1e4041(0x811)](_0x1e4041(0x32e),this['instance']['name'],'inner'),this['client']?.['ws']?.['close'](),this[_0x1e4041(0x6cd)][_0x1e4041(0x569)](new Error('Close\x20connection'));}}if(_0xd1e93b===_0x1e4041(0x6c3)){this['client']['ev'][_0x1e4041(0x158)](),this[_0x1e4041(0x3c7)],this[_0x1e4041(0x63b)][_0x1e4041(0x27c)]=this['client'][_0x1e4041(0x511)]['id']['replace'](/:\d+/,'')[_0x1e4041(0x3d1)](_0x1e4041(0x86c),''),this[_0x1e4041(0x63b)][_0x1e4041(0x3b7)]=(await this[_0x1e4041(0x564)](this[_0x1e4041(0x63b)][_0x1e4041(0x27c)]+'@s.whatsapp.net'))[_0x1e4041(0x3b7)],this[_0x1e4041(0x59c)][_0x1e4041(0x394)]['create']({'online':!0x0,'owner':this[_0x1e4041(0x63b)][_0x1e4041(0x27c)],'lastDisconnect':null},this[_0x1e4041(0x63b)][_0x1e4041(0x382)]);let _0x4e52f6=_0x1e4041(0x1a7)+this[_0x1e4041(0x63b)][_0x1e4041(0x27c)],_0x399363=0x28,_0x4018c7=Math[_0x1e4041(0x619)]((_0x399363-_0x4e52f6['length'])/0x2),_0x36398d='\x20'[_0x1e4041(0x237)](_0x4018c7),_0x1932f7=_0x1e4041(0x44e),_0x20f8cc=_0x1e4041(0x3ad)+this[_0x1e4041(0x63b)][_0x1e4041(0x382)],_0x570388=(''+_0x36398d+_0x4e52f6+_0x36398d)['padEnd'](_0x399363,'\x20'),_0x2b4aa1=(''+_0x36398d+_0x1932f7+_0x36398d)[_0x1e4041(0x530)](_0x399363,'\x20'),_0x2750eb=(''+_0x36398d+_0x20f8cc+_0x36398d)[_0x1e4041(0x530)](_0x399363,'\x20'),_0x5e913e=Math[_0x1e4041(0x42f)](_0x570388[_0x1e4041(0x4ee)],_0x2b4aa1['length'],_0x2750eb['length']),_0x4a7944=_0x570388[_0x1e4041(0x530)](_0x5e913e,'\x20'),_0xf1ce26=_0x2b4aa1[_0x1e4041(0x530)](_0x5e913e,'\x20'),_0x3a8614=_0x2750eb['padEnd'](_0x5e913e,'\x20');this[_0x1e4041(0x5e8)][_0x1e4041(0x4f3)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x1e4041(0x237)](_0x5e913e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf1ce26+_0x1e4041(0x47f)+_0x3a8614+_0x1e4041(0x47f)+_0x4a7944+_0x1e4041(0x257)+''[_0x1e4041(0x237)](_0x5e913e)+'')[_0x1e4041(0x3d1)](/^ +/gm,'\x20\x20')),this[_0x1e4041(0x82a)](),this[_0x1e4041(0x63b)][_0x1e4041(0x2a2)][_0x1e4041(0x451)]=!0x0;}}['resetReconnectionVariables'](){const _0x835caf=a0_0x33b913;this[_0x835caf(0x64e)]=0x0,this[_0x835caf(0x709)]=[];}async['getMessage'](_0x392f74,_0x4815e3=!0x1){const _0x44d7ad=a0_0x33b913;try{let _0x1fe7c0=await this[_0x44d7ad(0x59c)][_0x44d7ad(0x65e)][_0x44d7ad(0x345)]({'where':{'_id':_0x392f74['id']}},this[_0x44d7ad(0x63b)][_0x44d7ad(0x27c)]);return _0x4815e3?_0x1fe7c0[0x0]:_0x1fe7c0[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x33b913(0x67e)](){const _0x16a028=a0_0x33b913;let _0x18843d=this[_0x16a028(0x5d4)]['get']('STORE'),_0x2ec12f=this[_0x16a028(0x5d4)]['get'](_0x16a028(0x1a0));_0x18843d?.[_0x16a028(0x4fc)]&&!_0x2ec12f[_0x16a028(0x4cf)]&&setInterval(()=>{const _0x5a3543=_0x16a028;try{for(let [_0x364e4c,_0x1128d5]of Object[_0x5a3543(0x1e9)](_0x18843d))_0x1128d5===!0x0&&(0x0,_e[_0x5a3543(0x5b2)])('rm\x20-rf\x20'+(0x0,L[_0x5a3543(0x7f8)])(this[_0x5a3543(0x731)],_0x364e4c[_0x5a3543(0x815)](),this[_0x5a3543(0x63b)]['wuid'])+_0x5a3543(0x863));}catch{}},(_0x18843d?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4cbdb2=a0_0x33b913;let _0x2011ec=this[_0x4cbdb2(0x5d4)][_0x4cbdb2(0x1f0)](_0x4cbdb2(0x1a0)),_0x1f712f=this['configService'][_0x4cbdb2(0x1f0)]('REDIS');return _0x1f712f?.['ENABLED']?await As(_0x1f712f,this[_0x4cbdb2(0x63b)][_0x4cbdb2(0x382)]):_0x2011ec[_0x4cbdb2(0x4cf)]?await Rs(this[_0x4cbdb2(0x63b)][_0x4cbdb2(0x382)]):await(0x0,w[_0x4cbdb2(0x431)])((0x0,L['join'])(we,this['instance'][_0x4cbdb2(0x382)]));}async[a0_0x33b913(0x82a)](){const _0x49ee9f=a0_0x33b913;let _0x5050b7=()=>Math[_0x49ee9f(0x619)](Math[_0x49ee9f(0x5c9)]()*0x2711)+0x7d0,_0x34aa0c=async()=>{const _0x5d2d1d=_0x49ee9f;if(!this['instance']['ScheduleMessage']['isConnected']){this['logger'][_0x5d2d1d(0x6e9)](this[_0x5d2d1d(0x6c1)]+'\x20('+this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x27c)]+'):Desconectado,\x20parando\x20execuo.'),this[_0x5d2d1d(0x836)]=!0x1;return;}if(this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x27c)]&&this['AutomateSystem']&&this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x2a2)][_0x5d2d1d(0x747)]!==null&&this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x2a2)][_0x5d2d1d(0x747)]!==void 0x0){let _0x3cf2df=Math['round'](this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x2a2)][_0x5d2d1d(0x747)]/0xea60);this[_0x5d2d1d(0x5e8)][_0x5d2d1d(0x6e9)](this['instanceName']+'\x20('+this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x27c)]+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x3cf2df+_0x5d2d1d(0x399)),this['isRunning']=!0x1;return;}else this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x27c)]&&(this[_0x5d2d1d(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x27c)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x5d2d1d(0x36e)]||(await this[_0x5d2d1d(0x15c)](),this[_0x5d2d1d(0x1da)](),this[_0x5d2d1d(0x1fd)]()),(this['instance'][_0x5d2d1d(0x2a2)][_0x5d2d1d(0x747)]===null||this[_0x5d2d1d(0x63b)][_0x5d2d1d(0x2a2)][_0x5d2d1d(0x747)]===void 0x0)&&await this[_0x5d2d1d(0x3e1)]());if(this[_0x5d2d1d(0x836)]){let _0x16f8cd=_0x5050b7();this[_0x5d2d1d(0x5e8)]['verbose'](this[_0x5d2d1d(0x6c1)]+_0x5d2d1d(0x5e7)+_0x16f8cd/0x3e8+_0x5d2d1d(0x75c)),setTimeout(_0x34aa0c,_0x16f8cd);}};if(this['isRunning'])return;this[_0x49ee9f(0x836)]=!0x0;let _0x359c3d=_0x5050b7();setTimeout(_0x34aa0c,_0x359c3d);}async[a0_0x33b913(0x1fd)](){const _0x5def40=a0_0x33b913;let _0x2a08b2=this[_0x5def40(0x63b)][_0x5def40(0x27c)];try{let _0x3185aa=await this[_0x5def40(0x59c)][_0x5def40(0x223)][_0x5def40(0x5c1)]({'where':{'$or':[{'owner':_0x2a08b2},{'whoCanUse':{'$in':[_0x2a08b2]}},{'shareOwners':{'$in':[_0x2a08b2]}}]}}),_0x5d422c=await this[_0x5def40(0x59c)][_0x5def40(0x223)][_0x5def40(0x5c1)]({'where':{'$or':[{'owner':'global'},{'whoCanUse':{'$in':['global']}},{'shareOwners':{'$in':[_0x5def40(0x2c0)]}}]}});_0x5d422c&&_0x5d422c[_0x5def40(0x4ee)]>0x0?this[_0x5def40(0x5e8)][_0x5def40(0x6e9)](this[_0x5def40(0x6c1)]+'\x20('+this[_0x5def40(0x63b)]['wuid']+'):\x20Fluxos\x20do\x20proprietrio\x20\x27global\x27\x20j\x20existem\x20na\x20coleo\x20centralizada.'):(await this[_0x5def40(0x59c)][_0x5def40(0x223)]['migrateFlowsToCentralizedCollection'](_0x5def40(0x2c0)),this[_0x5def40(0x5e8)][_0x5def40(0x6e9)](this[_0x5def40(0x6c1)]+'\x20('+this[_0x5def40(0x63b)][_0x5def40(0x27c)]+_0x5def40(0x5fa))),_0x3185aa&&_0x3185aa[_0x5def40(0x4ee)]>0x0?this[_0x5def40(0x5e8)][_0x5def40(0x6e9)](this[_0x5def40(0x6c1)]+'\x20('+this[_0x5def40(0x63b)][_0x5def40(0x27c)]+_0x5def40(0x667)+_0x2a08b2+_0x5def40(0x3f8)):(await this[_0x5def40(0x59c)]['flow'][_0x5def40(0x7cd)](_0x2a08b2),this[_0x5def40(0x5e8)][_0x5def40(0x6e9)](this[_0x5def40(0x6c1)]+'\x20('+this[_0x5def40(0x63b)][_0x5def40(0x27c)]+_0x5def40(0x667)+_0x2a08b2+'\x27\x20transferidos\x20para\x20a\x20coleo\x20centralizada.'),_0x3185aa=await this['repository'][_0x5def40(0x223)][_0x5def40(0x5c1)]({'where':{'$or':[{'owner':_0x2a08b2},{'whoCanUse':{'$in':[_0x2a08b2]}},{'shareOwners':{'$in':[_0x2a08b2]}}]}}));let _0x18cfb1=new Map(this[_0x5def40(0x36e)][_0x5def40(0x141)][_0x5def40(0x6f7)](_0x45cb05=>[_0x45cb05[_0x5def40(0x5f6)],_0x45cb05])),_0x52e23b=_0x3185aa[_0x5def40(0x6f7)](_0x9d3249=>{const _0x32c8b4=_0x5def40;let _0x11df76=_0x18cfb1['get'](_0x9d3249['_id']?.[_0x32c8b4(0x2fe)]());return{'_id':_0x9d3249[_0x32c8b4(0x5f6)]?.[_0x32c8b4(0x2fe)](),'name':_0x11df76?.[_0x32c8b4(0x382)]??_0x9d3249[_0x32c8b4(0x382)],'default':_0x11df76?.[_0x32c8b4(0x876)]??_0x9d3249['default']??!0x1,'startCommand':_0x11df76?.['startCommand']??_0x9d3249[_0x32c8b4(0x32f)],'minutesToClose':_0x11df76?.[_0x32c8b4(0x823)]??_0x9d3249['minutesToClose']??0x0,'readMessages':_0x11df76?.[_0x32c8b4(0x879)]??_0x9d3249[_0x32c8b4(0x879)]??!0x1,'testingWith':_0x11df76?.[_0x32c8b4(0x3df)]??_0x9d3249[_0x32c8b4(0x3df)],'canEdit':_0x9d3249[_0x32c8b4(0x389)]===_0x2a08b2||(_0x9d3249[_0x32c8b4(0x5d9)]??[])[_0x32c8b4(0x798)](_0x2a08b2),'usersCount':(_0x9d3249[_0x32c8b4(0x574)]??[])[_0x32c8b4(0x4ee)]??0x0};}),_0x3469a1=!0x1;_0x52e23b[_0x5def40(0x211)](_0x2e8ac3=>{const _0x4877de=_0x5def40;_0x2e8ac3[_0x4877de(0x876)]&&(_0x3469a1?_0x2e8ac3[_0x4877de(0x876)]=!0x1:_0x3469a1=!0x0);}),this[_0x5def40(0x36e)][_0x5def40(0x141)]=_0x52e23b;let _0x1e5324={'flows':_0x52e23b};return await this[_0x5def40(0x59c)][_0x5def40(0x3e2)][_0x5def40(0x784)](_0x1e5324,_0x2a08b2),this[_0x5def40(0x5e8)][_0x5def40(0x6e9)](this[_0x5def40(0x6c1)]+'\x20('+_0x2a08b2+_0x5def40(0x252)),_0x52e23b[_0x5def40(0x4ee)];}catch(_0x119a57){return this['logger'][_0x5def40(0x43c)](this['instanceName']+'\x20('+_0x2a08b2+_0x5def40(0x654)+(_0x119a57 instanceof Error?_0x119a57['message']:JSON[_0x5def40(0x590)](_0x119a57,null,0x2))),{'message':_0x5def40(0x736)+(_0x119a57 instanceof Error?_0x119a57['message']:JSON[_0x5def40(0x590)](_0x119a57,null,0x2))};}}async['loadproxy'](_0x32307f=0x0,_0x2ced74=!0x1){const _0x1b5046=a0_0x33b913;try{let _0x9df43a=this[_0x1b5046(0x5d4)][_0x1b5046(0x1f0)](_0x1b5046(0x6fb));if(_0x9df43a!==0x1||typeof _0x9df43a>'u'||_0x32307f>=0x5)return this[_0x1b5046(0x5e8)]['warn']('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this[_0x1b5046(0x59c)][_0x1b5046(0x394)]['create']({'ip':null},this['instance'][_0x1b5046(0x382)]),{};this['logger'][_0x1b5046(0x6e9)](this[_0x1b5046(0x6c1)]+_0x1b5046(0x606)+(_0x32307f+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x5e9f18;if(!_0x2ced74){let _0x226145=await this['repository'][_0x1b5046(0x394)][_0x1b5046(0x345)](this[_0x1b5046(0x6c1)]);_0x226145&&_0x226145['ip']&&(_0x5e9f18=yi(_0x226145['ip']));}if((!_0x5e9f18||!Ts(_0x5e9f18))&&(this[_0x1b5046(0x5e8)]['warn'](this[_0x1b5046(0x6c1)]+_0x1b5046(0x425)),_0x5e9f18=bi()),_0x5e9f18&&Ts(_0x5e9f18)){let _0x13529d=_0x5e9f18[_0x1b5046(0x657)]&&_0x5e9f18[_0x1b5046(0x24e)]?_0x5e9f18['protocol']+'://'+_0x5e9f18['username']+':'+_0x5e9f18[_0x1b5046(0x24e)]+'@'+_0x5e9f18['host']+':'+_0x5e9f18[_0x1b5046(0x5b6)]:_0x5e9f18[_0x1b5046(0x751)]+_0x1b5046(0x4d4)+_0x5e9f18[_0x1b5046(0x700)]+':'+_0x5e9f18[_0x1b5046(0x5b6)];return await this['testProxy'](_0x13529d,_0x5e9f18['host'])?(this['logger'][_0x1b5046(0x6e9)](this['instanceName']+_0x1b5046(0x53c)),this[_0x1b5046(0x59c)][_0x1b5046(0x394)][_0x1b5046(0x2ea)]({'ip':_0x5e9f18[_0x1b5046(0x700)]},this['instance']['name']),{'agent':new Ft[(_0x1b5046(0x2de))](_0x13529d),'fetchAgent':new Ft[(_0x1b5046(0x2de))](_0x13529d)}):(this[_0x1b5046(0x5e8)][_0x1b5046(0x72b)](this[_0x1b5046(0x6c1)]+_0x1b5046(0x6a0)),await(0x0,w[_0x1b5046(0x29d)])(0xc8),this['loadproxy'](_0x32307f+0x1,!0x0));}else return this[_0x1b5046(0x5e8)][_0x1b5046(0x72b)](this['instanceName']+_0x1b5046(0x6ef)),await(0x0,w['delay'])(0xc8),this[_0x1b5046(0x447)](_0x32307f+0x1,!0x0);}catch(_0x1925dd){return this['logger'][_0x1b5046(0x43c)](this[_0x1b5046(0x6c1)]+_0x1b5046(0x306)+_0x1925dd['message']),{};}}async[a0_0x33b913(0x5df)](_0x1f77d9,_0x2374d6){const _0x36596d=a0_0x33b913;let _0x3ff562=new Ft[(_0x36596d(0x2de))](_0x1f77d9),_0x1e0d49=0x1388,_0xfdd992=[{'url':'https://jsonip.com','parse':_0x196dd1=>_0x196dd1['ip']},{'url':_0x36596d(0x4aa),'parse':_0x1af299=>_0x1af299['ip']},{'url':'http://checkip.dyndns.org','parse':_0x32f5b=>_0x32f5b[_0x36596d(0x328)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x36596d(0x162),'parse':_0x5ecaf0=>_0x5ecaf0['ip']},{'url':_0x36596d(0x25d),'parse':_0x8e61c6=>_0x8e61c6[_0x36596d(0x1ce)]()},{'url':_0x36596d(0x603),'parse':_0x1fd642=>_0x1fd642[_0x36596d(0x1ce)]()},{'url':_0x36596d(0x526),'parse':_0xb35e50=>_0xb35e50[_0x36596d(0x17d)]},{'url':_0x36596d(0x61b),'parse':_0x4eac54=>_0x4eac54['trim']()},{'url':_0x36596d(0x528),'parse':_0x1c8a9c=>_0x1c8a9c[_0x36596d(0x1ce)]()}],_0x193427=_0xfdd992[Math[_0x36596d(0x619)](Math[_0x36596d(0x5c9)]()*_0xfdd992[_0x36596d(0x4ee)])];try{let _0x2fa20b=await K[_0x36596d(0x876)][_0x36596d(0x1f0)](_0x193427['url'],{'httpsAgent':_0x3ff562,'timeout':_0x1e0d49}),_0x1fcd23=_0x193427[_0x36596d(0x73a)](_0x2fa20b[_0x36596d(0x4a6)]);return _0x1fcd23===_0x2374d6?(this[_0x36596d(0x5e8)][_0x36596d(0x6e9)](this[_0x36596d(0x6c1)]+_0x36596d(0x486)+_0x2374d6+'\x20-\x20retornado:\x20'+_0x1fcd23+_0x36596d(0x1e8)),!0x0):(this[_0x36596d(0x5e8)][_0x36596d(0x43c)](this[_0x36596d(0x6c1)]+':\x20IP\x20configurado:\x20'+_0x2374d6+_0x36596d(0x782)+_0x1fcd23+_0x36596d(0x434)),!0x1);}catch(_0x393b4b){return this[_0x36596d(0x5e8)][_0x36596d(0x43c)](this[_0x36596d(0x6c1)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x193427[_0x36596d(0x5ad)]+':\x20'+_0x393b4b[_0x36596d(0x65e)]),!0x1;}}async['connectToWhatsapp'](_0x85eae){const _0x1476b4=a0_0x33b913;try{let _0xfaee5=await this[_0x1476b4(0x447)]();this['loadWebhook'](),this['instance'][_0x1476b4(0x5d3)]=(await this[_0x1476b4(0x59c)][_0x1476b4(0x394)][_0x1476b4(0x345)](this[_0x1476b4(0x63b)][_0x1476b4(0x382)]))[_0x1476b4(0x5d3)],this['instance'][_0x1476b4(0x4d2)]=await this[_0x1476b4(0x63f)]();let {version:_0x5dc364}=await(0x0,w[_0x1476b4(0x1a6)])(),_0x15bc31=[vi,Ds,(0x0,Os[_0x1476b4(0x1d4)])()],_0x44938f={..._0xfaee5,'auth':{'creds':this[_0x1476b4(0x63b)]['authState'][_0x1476b4(0x182)][_0x1476b4(0x246)],'keys':(0x0,w[_0x1476b4(0x342)])(this['instance']['authState'][_0x1476b4(0x182)]['keys'],(0x0,Pt['default'])({'level':'error'}))},'logger':(0x0,Pt[_0x1476b4(0x876)])({'level':_0x1476b4(0x43c)}),'printQRInTerminal':!0x1,'browser':_0x85eae?[_0x1476b4(0x1d2),Ds,(0x0,Os[_0x1476b4(0x1d4)])()]:_0x15bc31,'version':_0x5dc364,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x52d4fc=>{const _0x2381b3=_0x1476b4;let _0x4bf521=_0x52d4fc[_0x2381b3(0x2ce)]('@newsletter'),_0x544531=this['localWebhook']?.[_0x2381b3(0x16c)]&&_0x52d4fc[_0x2381b3(0x2ce)](_0x2381b3(0x51b));return _0x4bf521||(0x0,w[_0x2381b3(0x163)])(_0x52d4fc)||_0x544531;},'msgRetryCounterCache':this[_0x1476b4(0x7e3)],'getMessage':async _0x405cf8=>await this[_0x1476b4(0x427)](_0x405cf8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1476b4(0x19f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1580ac=>(_0x1580ac['listMessage']?.[_0x1476b4(0x194)]==w[_0x1476b4(0x71a)][_0x1476b4(0x4b3)]['ListMessage'][_0x1476b4(0x13c)][_0x1476b4(0x6f8)]&&(_0x1580ac=JSON[_0x1476b4(0x73a)](JSON[_0x1476b4(0x590)](_0x1580ac)),_0x1580ac[_0x1476b4(0x172)][_0x1476b4(0x194)]=w[_0x1476b4(0x71a)]['Message'][_0x1476b4(0x1f3)][_0x1476b4(0x13c)][_0x1476b4(0x152)]),_0x1580ac)};return this['endSession']=!0x1,this[_0x1476b4(0x6cd)]=(0x0,w[_0x1476b4(0x876)])(_0x44938f),this['eventHandler'](),this[_0x1476b4(0x4bd)]=_0x85eae,this['client'];}catch(_0x69a746){let _0x37ff95=_0x1476b4(0x3de),_0x4531f7=_0x69a746 instanceof Error?_0x69a746['message']:typeof _0x69a746==_0x1476b4(0x24d)?JSON[_0x1476b4(0x590)](_0x69a746):_0x69a746,_0x4617e7=_0x37ff95+':\x20'+_0x4531f7;throw this[_0x1476b4(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x1476b4(0x63b)][_0x1476b4(0x27c)]+_0x1476b4(0x63e)+_0x4617e7),new x(_0x4617e7);}}[a0_0x33b913(0x6b0)](){const _0x411ac1=a0_0x33b913;this[_0x411ac1(0x6cd)]['ev'][_0x411ac1(0x725)](_0x3256b8=>{const _0x1c92b7=_0x411ac1;if(!this[_0x1c92b7(0x1cd)]){let _0x49d962=this[_0x1c92b7(0x5d4)]['get'](_0x1c92b7(0x1a0));if(_0x3256b8[_0x1c92b7(0x5e4)]){let _0x389736=_0x3256b8['labels.edit'];this[_0x1c92b7(0x1bf)][_0x1c92b7(0x5e4)](_0x389736);}if(_0x3256b8[_0x1c92b7(0x36d)]){let _0x1156c5=_0x3256b8[_0x1c92b7(0x36d)];this[_0x1c92b7(0x1bf)][_0x1c92b7(0x36d)](_0x1156c5);}if(_0x3256b8[_0x1c92b7(0x6cf)]&&this['connectionUpdate'](_0x3256b8['connection.update']),_0x3256b8[_0x1c92b7(0x598)]&&this[_0x1c92b7(0x63b)]['authState'][_0x1c92b7(0x4da)](),_0x3256b8[_0x1c92b7(0x2a0)]){let _0x1a244c=_0x3256b8['messaging-history.set'];this[_0x1c92b7(0x1bf)]['messaging-history.set'](_0x1a244c,_0x49d962);}if(_0x3256b8[_0x1c92b7(0x298)]){let _0x279988=_0x3256b8['messages.upsert'];this[_0x1c92b7(0x1bf)][_0x1c92b7(0x298)](_0x279988,_0x49d962);}if(_0x3256b8['messages.update']){let _0xe12ecb=_0x3256b8[_0x1c92b7(0x1fe)];this[_0x1c92b7(0x1bf)][_0x1c92b7(0x1fe)](_0xe12ecb,_0x49d962);}if(_0x3256b8[_0x1c92b7(0x5a4)]){let _0x2ab88b=_0x3256b8[_0x1c92b7(0x5a4)];if(this[_0x1c92b7(0x52a)]?.[_0x1c92b7(0x16c)]&&_0x2ab88b['id'][_0x1c92b7(0x798)](_0x1c92b7(0x51b)))return;this[_0x1c92b7(0x762)](_0x1c92b7(0x5a4),_0x2ab88b);}if(_0x3256b8[_0x1c92b7(0x73f)]){let _0x16f18c=_0x3256b8[_0x1c92b7(0x73f)];this['groupHandler']['groups.upsert'](_0x16f18c);}if(_0x3256b8[_0x1c92b7(0x55c)]){let _0x3c2c63=_0x3256b8['groups.update'];this['groupHandler'][_0x1c92b7(0x55c)](_0x3c2c63);}if(_0x3256b8['group-participants.update']){let _0x51e32c=_0x3256b8[_0x1c92b7(0x5b0)];this['groupHandler'][_0x1c92b7(0x5b0)](_0x51e32c);}if(_0x3256b8['chats.upsert']){let _0x284830=_0x3256b8[_0x1c92b7(0x372)];this[_0x1c92b7(0x26e)]['chats.upsert'](_0x284830,_0x49d962);}if(_0x3256b8[_0x1c92b7(0x221)]){let _0x2671ef=_0x3256b8['chats.update'];this[_0x1c92b7(0x26e)][_0x1c92b7(0x221)](_0x2671ef,_0x49d962);}if(_0x3256b8['chats.delete']){let _0x2262f3=_0x3256b8[_0x1c92b7(0x742)];this[_0x1c92b7(0x26e)][_0x1c92b7(0x742)](_0x2262f3);}if(_0x3256b8['contacts.upsert']){let _0x12820c=_0x3256b8[_0x1c92b7(0x1a1)];this['contactHandle'][_0x1c92b7(0x1a1)](_0x12820c,_0x49d962);}if(_0x3256b8[_0x1c92b7(0x596)]){let _0x154f24=_0x3256b8[_0x1c92b7(0x596)];this[_0x1c92b7(0x7bd)][_0x1c92b7(0x596)](_0x154f24,_0x49d962);}}});}async['retrySendMessage'](_0x59f9fc,_0x233dca){const _0x12c103=a0_0x33b913;if(_0x233dca>=0xa){console[_0x12c103(0x43c)](this[_0x12c103(0x6c1)]+'\x20('+this[_0x12c103(0x63b)][_0x12c103(0x27c)]+_0x12c103(0x673)),delete Dt[_0x59f9fc[_0x12c103(0x2cf)]['id']];return;}try{console[_0x12c103(0x43c)](this[_0x12c103(0x6c1)]+'\x20('+this[_0x12c103(0x63b)]['wuid']+_0x12c103(0x7d5)+(_0x233dca+0x1)),await this[_0x12c103(0x6cd)][_0x12c103(0x216)](JSON[_0x12c103(0x73a)](_0x59f9fc[_0x12c103(0x5a6)][0x1],w['BufferJSON'][_0x12c103(0x824)])),console[_0x12c103(0x43c)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x5422c6){console['error'](this[_0x12c103(0x6c1)]+'\x20('+this[_0x12c103(0x63b)][_0x12c103(0x27c)]+_0x12c103(0x5a5)+_0x5422c6),setTimeout(()=>this['retrySendMessage'](_0x59f9fc,_0x233dca+0x1),Math[_0x12c103(0x196)](0x2,_0x233dca)*0x3e8);}}[a0_0x33b913(0x4b9)](_0x4846c8){return new Promise(_0xa5e6c0=>setTimeout(_0xa5e6c0,_0x4846c8));}[a0_0x33b913(0x20b)](_0x188fdf){const _0x4548b8=a0_0x33b913;_0x188fdf=_0x188fdf['replace'](/\D/g,'');let _0x2e5377=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4548b8(0x638)](_0x188fdf);if(_0x2e5377&&_0x2e5377[0x1]==='55'){let _0x1f294f=_0x2e5377[0x2],_0x351c02=_0x2e5377[0x3],_0xc61ba4=_0x2e5377[0x4];if(parseInt(_0x1f294f)>=0x1f&&_0x351c02==='9')return _0x2e5377[0x1]+_0x1f294f+_0xc61ba4;}return _0x188fdf;}[a0_0x33b913(0x523)](_0x39105c){const _0x48c910=a0_0x33b913;return _0x39105c[_0x48c910(0x798)]('@g.us')||_0x39105c['includes'](_0x48c910(0x86c))||_0x39105c['includes'](_0x48c910(0x4bb))?_0x39105c:(_0x39105c=_0x39105c?.[_0x48c910(0x3d1)](/\s/g,'')[_0x48c910(0x3d1)](/\+/g,'')[_0x48c910(0x3d1)](/\(/g,'')[_0x48c910(0x3d1)](/\)/g,'')[_0x48c910(0x76e)](/\:/)[0x0][_0x48c910(0x76e)]('@')[0x0],_0x39105c[_0x48c910(0x4ee)]>=0x12?(_0x39105c=_0x39105c[_0x48c910(0x3d1)](/[^\d-]/g,''),_0x39105c+_0x48c910(0x51b)):(_0x39105c=_0x39105c[_0x48c910(0x3d1)](/\D/g,''),_0x39105c+_0x48c910(0x86c)));}async[a0_0x33b913(0x46b)](_0x13b09d){const _0x3172a4=a0_0x33b913;let _0x489d40=(await this[_0x3172a4(0x177)]({'numbers':[_0x13b09d[_0x3172a4(0x17a)]]}))[0x0];if(!_0x489d40['exists']&&!(0x0,w['isJidGroup'])(_0x489d40[_0x3172a4(0x662)])&&!_0x489d40[_0x3172a4(0x662)][_0x3172a4(0x798)](_0x3172a4(0x4bb)))throw new m(_0x489d40);let _0x132fad=_0x489d40[_0x3172a4(0x662)];try{return await this['client']['presenceSubscribe'](_0x132fad),await this[_0x3172a4(0x6cd)][_0x3172a4(0x4f0)](_0x13b09d['presence'],_0x132fad),{'status':0xc8,'presence':_0x13b09d[_0x3172a4(0x757)]};}catch(_0xf3506e){let _0x540844=_0x3172a4(0x649),_0x1c5817=_0xf3506e instanceof Error?_0xf3506e[_0x3172a4(0x65e)]:typeof _0xf3506e==_0x3172a4(0x24d)?JSON[_0x3172a4(0x590)](_0xf3506e):_0xf3506e,_0x27a689=_0x540844+':\x20'+_0x1c5817;throw this['logger'][_0x3172a4(0x43c)](this[_0x3172a4(0x6c1)]+'\x20('+this['instance'][_0x3172a4(0x27c)]+_0x3172a4(0x63e)+_0x27a689),new m(_0x27a689);}}async['findAndUpdateCacheContact'](_0x47f688,_0x2db6f3,_0x46b089,_0x4c09e6=!0x0){const _0x517820=a0_0x33b913;let _0x2718bc=await this[_0x517820(0x59c)]['cacheContact'][_0x517820(0x366)]({'where':{'_id':_0x47f688}});if(!_0x2718bc&&!_0x4c09e6)return;let _0x46a9cd={'lastUpdate':Date[_0x517820(0x445)]()};if(_0x46b089||!_0x2718bc?.[_0x517820(0x65d)]||Date[_0x517820(0x445)]()-_0x2718bc[_0x517820(0x65d)]>0x18*0x3c*0x3c*0x3e8)try{let _0x36f885=(await this[_0x517820(0x564)](_0x47f688))[_0x517820(0x3b7)];_0x46a9cd[_0x517820(0x33b)]=_0x36f885;}catch(_0x33b059){let _0x2d04b7=_0x517820(0x6e6),_0x2fd5c8=_0x33b059 instanceof Error?_0x33b059[_0x517820(0x65e)]:typeof _0x33b059==_0x517820(0x24d)?JSON[_0x517820(0x590)](_0x33b059):_0x33b059,_0x1c08d3=_0x2d04b7+':\x20'+_0x2fd5c8;throw this[_0x517820(0x5e8)][_0x517820(0x43c)](this[_0x517820(0x6c1)]+'\x20('+this[_0x517820(0x63b)]['wuid']+_0x517820(0x63e)+_0x1c08d3),new m(_0x1c08d3);}return _0x2db6f3&&_0x2718bc?.[_0x517820(0x382)]!==_0x2db6f3&&(_0x46a9cd[_0x517820(0x382)]=_0x2db6f3),Object[_0x517820(0x719)](_0x46a9cd)[_0x517820(0x4ee)]>0x1&&(_0x2718bc?await this['repository']['cacheContact'][_0x517820(0x784)]({'where':{'_id':_0x47f688}},_0x46a9cd):await this[_0x517820(0x59c)][_0x517820(0x769)][_0x517820(0x814)]([{'_id':_0x47f688,..._0x46a9cd}]),_0x2718bc={..._0x2718bc,..._0x46a9cd}),{'cachedContact':_0x2718bc};}async[a0_0x33b913(0x564)](_0x5ecee5){const _0x32ed73=a0_0x33b913;let _0x15a74d=this[_0x32ed73(0x523)](_0x5ecee5);try{return{'wuid':_0x15a74d,'profilePictureUrl':await this[_0x32ed73(0x6cd)][_0x32ed73(0x3b7)](_0x15a74d,_0x32ed73(0x42d))};}catch{return{'wuid':_0x15a74d,'profilePictureUrl':null};}}async[a0_0x33b913(0x2c3)](_0x5ce9ec,_0x485bea,_0x5ef6e9){const _0xddd4eb=a0_0x33b913;try{_0x5ef6e9||(_0x5ef6e9={});let _0x1ddc49=(await this[_0xddd4eb(0x177)]({'numbers':[_0x5ce9ec]}))[0x0];if(!_0x1ddc49[_0xddd4eb(0x4c3)]&&!(0x0,w['isJidGroup'])(_0x1ddc49[_0xddd4eb(0x662)])&&!_0x1ddc49['jid']['includes'](_0xddd4eb(0x4bb)))throw new m(_0x1ddc49);let _0x4daf34=_0x1ddc49[_0xddd4eb(0x662)];if(_0x5ef6e9?.['delay']){await this[_0xddd4eb(0x6cd)]['presenceSubscribe'](_0x4daf34),await this[_0xddd4eb(0x6cd)][_0xddd4eb(0x4f0)](_0x5ef6e9?.[_0xddd4eb(0x757)]??'composing',_0x4daf34);let _0x40eea1=Math[_0xddd4eb(0x444)](_0x5ef6e9[_0xddd4eb(0x29d)],0x2710);await(0x0,w[_0xddd4eb(0x29d)])(_0x40eea1),await this[_0xddd4eb(0x6cd)][_0xddd4eb(0x4f0)](_0xddd4eb(0x278),_0x4daf34);}let _0x13c029=_0x5ef6e9?.[_0xddd4eb(0x40e)]!=!0x1?void 0x0:!0x1,_0x5d0b88;if(_0x5ef6e9?.[_0xddd4eb(0x84e)]){let _0x185ab8=_0x5ef6e9?.['quoted'],_0x5a578c=_0x185ab8?.[_0xddd4eb(0x65e)]?_0x185ab8:await this[_0xddd4eb(0x427)](_0x185ab8['key'],!0x0);if(!_0x5a578c)throw _0xddd4eb(0x437);_0x5d0b88=_0x5a578c;}let _0x4ec381;if((0x0,w['isJidGroup'])(_0x4daf34))try{let _0x3400c2=(await this['repository']['chat'][_0xddd4eb(0x366)]({'where':{'_id':_0x4daf34}},this[_0xddd4eb(0x63b)][_0xddd4eb(0x27c)]))[_0xddd4eb(0x58d)];if(!_0x3400c2)throw new J(_0xddd4eb(0x22e));_0x5ef6e9?.['mentions']&&(_0x5ef6e9['mentions']?.[_0xddd4eb(0x30e)]?_0x4ec381=_0x3400c2[_0xddd4eb(0x150)][_0xddd4eb(0x6f7)](_0x565c8a=>_0x565c8a['id']):_0x5ef6e9[_0xddd4eb(0x335)]?.[_0xddd4eb(0x4a4)]?.['length']&&(_0x4ec381=_0x5ef6e9[_0xddd4eb(0x335)]['mentioned'][_0xddd4eb(0x6f7)](_0x54ad99=>{const _0x44ed06=_0xddd4eb;let _0xad56f9=this[_0x44ed06(0x523)](_0x54ad99);return(0x0,w[_0x44ed06(0x82e)])(_0xad56f9)?null:_0xad56f9;})));}catch{throw new J(_0xddd4eb(0x22e));}let _0x13c49e=await this[_0xddd4eb(0x59c)][_0xddd4eb(0x24b)][_0xddd4eb(0x366)]({'where':{'_id':_0x4daf34}},this[_0xddd4eb(0x63b)]['wuid']),_0xd55ab2=await((async()=>{const _0x1004aa=_0xddd4eb;let _0x2c8581={'quoted':_0x5d0b88,'ephemeralExpiration':_0x13c49e?.[_0x1004aa(0x3d7)]??0x0};if(!_0x485bea[_0x1004aa(0x7f3)]&&!_0x485bea[_0x1004aa(0x2f6)]&&!_0x485bea[_0x1004aa(0x151)]&&!_0x485bea[_0x1004aa(0x68b)]&&_0x4daf34!=='status@broadcast'&&!_0x485bea['audio'])return await this[_0x1004aa(0x6cd)][_0x1004aa(0x296)](_0x4daf34,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x485bea},'mentions':_0x4ec381},_0x2c8581);if(_0x485bea[_0x1004aa(0x6f3)])return await this[_0x1004aa(0x6cd)][_0x1004aa(0x296)](_0x4daf34,{'react':{'text':_0x485bea[_0x1004aa(0x6f3)][_0x1004aa(0x720)],'key':_0x485bea[_0x1004aa(0x6f3)][_0x1004aa(0x2cf)]}},_0x2c8581);if(_0x485bea[_0x1004aa(0x68b)]){let _0x43845b=_0x485bea[_0x1004aa(0x68b)];return _0x5ef6e9?.['changeVariables']&&(_0x43845b=await this[_0x1004aa(0x625)](_0x43845b,_0x4daf34)),await this[_0x1004aa(0x6cd)][_0x1004aa(0x296)](_0x4daf34,{'text':_0x43845b,'mentions':_0x4ec381,'linkPreview':_0x13c029},_0x2c8581);}return _0x4daf34===_0x1004aa(0x791)?await this[_0x1004aa(0x6cd)][_0x1004aa(0x296)](_0x4daf34,_0x485bea[_0x1004aa(0x615)]['content'],{'backgroundColor':_0x485bea['status'][_0x1004aa(0x5d2)][_0x1004aa(0x18b)],'font':_0x485bea[_0x1004aa(0x615)][_0x1004aa(0x5d2)]['font'],'statusJidList':_0x485bea['status'][_0x1004aa(0x5d2)][_0x1004aa(0x7aa)]}):await this[_0x1004aa(0x6cd)][_0x1004aa(0x296)](_0x4daf34,_0x485bea,_0x2c8581);})()),_0x1c527e=(0x0,w[_0xddd4eb(0x785)])(_0xd55ab2[_0xddd4eb(0x65e)]),_0x2e88ad=(0x0,w[_0xddd4eb(0x687)])(_0x1c527e),{message_normalized:_0x116d6d}=this[_0xddd4eb(0x778)](_0x1c527e,_0x2e88ad,null),_0x1acd25={'_id':_0xd55ab2[_0xddd4eb(0x2cf)]['id'],'key':_0xd55ab2[_0xddd4eb(0x2cf)],'pushName':_0xd55ab2[_0xddd4eb(0x4e6)],'isGroup':_0xd55ab2[_0xddd4eb(0x2cf)][_0xddd4eb(0x41c)]['endsWith'](_0xddd4eb(0x51b)),'profilePictureUrl':this[_0xddd4eb(0x63b)][_0xddd4eb(0x3b7)],'message':_0x1c527e,'messageType':_0x2e88ad,'message_normalized':{'key':_0xd55ab2['key'],'pushName':_0xd55ab2['pushName'],'messageTimestamp':_0xd55ab2[_0xddd4eb(0x589)]&&_0xd55ab2[_0xddd4eb(0x589)][_0xddd4eb(0x2fe)]()[_0xddd4eb(0x4ee)]<0xd?_0xd55ab2[_0xddd4eb(0x589)]*0x3e8:_0xd55ab2[_0xddd4eb(0x589)]||null,'source':(0x0,w[_0xddd4eb(0x6be)])(_0xd55ab2[_0xddd4eb(0x2cf)]['id']),..._0x116d6d},'messageTimestamp':_0xd55ab2[_0xddd4eb(0x589)]&&_0xd55ab2[_0xddd4eb(0x589)]['toString']()['length']<0xd?_0xd55ab2['messageTimestamp']*0x3e8:_0xd55ab2[_0xddd4eb(0x589)]||null,'owner':this['instance'][_0xddd4eb(0x27c)],'source':(0x0,w[_0xddd4eb(0x6be)])(_0xd55ab2['key']['id'])};return this[_0xddd4eb(0x5e8)][_0xddd4eb(0x72b)](this['instanceName']+'\x20('+this[_0xddd4eb(0x63b)][_0xddd4eb(0x27c)]+_0xddd4eb(0x442)+_0x1acd25[_0xddd4eb(0x2cf)]?.[_0xddd4eb(0x41c)][_0xddd4eb(0x3d1)](_0xddd4eb(0x86c),'')+_0xddd4eb(0x534)+_0x1acd25[_0xddd4eb(0x5e2)]+')'),_0x1acd25[_0xddd4eb(0x2f3)]?.[_0xddd4eb(0x720)]&&this[_0xddd4eb(0x5e8)]['warn'](_0x1acd25[_0xddd4eb(0x2f3)]?.[_0xddd4eb(0x720)]),this[_0xddd4eb(0x762)](_0xddd4eb(0x843),_0x1acd25),U(this[_0xddd4eb(0x6c1)],_0xddd4eb(0x21e),{'message':_0x1acd25}),this[_0xddd4eb(0x743)](this[_0xddd4eb(0x5d4)]['get'](_0xddd4eb(0x1a0)),_0x1acd25,'SEND_MESSAGE',_0x13c49e),await this['repository'][_0xddd4eb(0x65e)][_0xddd4eb(0x814)]([_0x1acd25],this[_0xddd4eb(0x63b)][_0xddd4eb(0x27c)]),_0xd55ab2;}catch(_0x187adc){let _0x153c2b=_0xddd4eb(0x5b8),_0x2b53c6=_0x187adc instanceof Error?_0x187adc[_0xddd4eb(0x65e)]:typeof _0x187adc==_0xddd4eb(0x24d)?JSON[_0xddd4eb(0x590)](_0x187adc):_0x187adc,_0x57c4ed=_0x153c2b+':\x20'+_0x2b53c6;throw this[_0xddd4eb(0x5e8)][_0xddd4eb(0x43c)](this[_0xddd4eb(0x6c1)]+'\x20('+this[_0xddd4eb(0x63b)][_0xddd4eb(0x27c)]+_0xddd4eb(0x63e)+_0x57c4ed),new m(_0x57c4ed);}}get[a0_0x33b913(0x3a9)](){const _0x3ee7e7=a0_0x33b913;return this[_0x3ee7e7(0x766)];}async[a0_0x33b913(0x817)](_0x1b3324){const _0xc13726=a0_0x33b913;return await this[_0xc13726(0x2c3)](_0x1b3324['number'],{'conversation':_0x1b3324['textMessage']['text']},_0x1b3324?.[_0xc13726(0x1a5)]);}async[a0_0x33b913(0x426)](_0x479813){const _0x29eda5=a0_0x33b913;if(!_0x479813[_0x29eda5(0x710)])throw new m(_0x29eda5(0x3bb));if(!_0x479813[_0x29eda5(0x3ec)])throw new m('Content\x20is\x20required');if(_0x479813[_0x29eda5(0x371)]){let _0x50b1a2=await this[_0x29eda5(0x59c)][_0x29eda5(0x277)][_0x29eda5(0x345)]({'where':{}},this['instance']['wuid']);if(!_0x50b1a2[_0x29eda5(0x4ee)])throw new m(_0x29eda5(0x856));_0x479813['statusJidList']=_0x50b1a2['filter'](_0x2afea9=>_0x2afea9[_0x29eda5(0x4e6)])[_0x29eda5(0x6f7)](_0x2978ee=>_0x2978ee[_0x29eda5(0x5f6)]);}if(!_0x479813[_0x29eda5(0x7aa)]?.[_0x29eda5(0x4ee)]&&!_0x479813['allContacts'])throw new m(_0x29eda5(0x4f8));if(_0x479813[_0x29eda5(0x710)]==='text'){if(!_0x479813['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x479813['font'])throw new m(_0x29eda5(0x6ec));return{'content':{'text':_0x479813[_0x29eda5(0x3ec)]},'option':{'backgroundColor':_0x479813['backgroundColor'],'font':_0x479813['font'],'statusJidList':_0x479813[_0x29eda5(0x7aa)]}};}if(_0x479813[_0x29eda5(0x710)]==='image')return{'content':{'image':{'url':_0x479813[_0x29eda5(0x3ec)]},'caption':_0x479813[_0x29eda5(0x669)]},'option':{'statusJidList':_0x479813['statusJidList']}};if(_0x479813[_0x29eda5(0x710)]===_0x29eda5(0x1c5))return{'content':{'video':{'url':_0x479813[_0x29eda5(0x3ec)]},'caption':_0x479813['caption']},'option':{'statusJidList':_0x479813[_0x29eda5(0x7aa)]}};if(_0x479813[_0x29eda5(0x710)]===_0x29eda5(0x7f3)){this[_0x29eda5(0x5e8)][_0x29eda5(0x6e9)](this[_0x29eda5(0x6c1)]+'\x20('+this[_0x29eda5(0x63b)][_0x29eda5(0x27c)]+_0x29eda5(0x1a4)),this[_0x29eda5(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x29eda5(0x63b)]['wuid']+_0x29eda5(0x1c0));let _0x252657=await this['convertaudio'](_0x479813[_0x29eda5(0x3ec)]);if(typeof _0x252657==_0x29eda5(0x63a)){this[_0x29eda5(0x5e8)]['verbose'](this[_0x29eda5(0x6c1)]+'\x20('+this[_0x29eda5(0x63b)]['wuid']+_0x29eda5(0x29c));let _0x4c9ecb=k['readFileSync'](_0x252657)[_0x29eda5(0x2fe)]('base64');return{'content':{'audio':Buffer[_0x29eda5(0x496)](_0x4c9ecb,_0x29eda5(0x726)),'ptt':!0x0,'mimetype':_0x29eda5(0x149)},'option':{'statusJidList':_0x479813[_0x29eda5(0x7aa)]}};}else throw new x(_0x252657);}throw new m(_0x29eda5(0x5bb));}async[a0_0x33b913(0x1b6)](_0x1018e2){const _0x3cf6a4=a0_0x33b913;return await this[_0x3cf6a4(0x2c3)](_0x3cf6a4(0x791),{'status':await this['formatStatusMessage'](_0x1018e2[_0x3cf6a4(0x1b6)])});}async['prepareMediaMessage'](_0x467444){const _0x1c2da9=a0_0x33b913;try{let _0x398830=await(0x0,w['prepareWAMessageMedia'])({[_0x467444[_0x1c2da9(0x6bd)]]:(0x0,P[_0x1c2da9(0x203)])(_0x467444[_0x1c2da9(0x44f)])?{'url':_0x467444[_0x1c2da9(0x44f)]}:Buffer[_0x1c2da9(0x496)](_0x467444[_0x1c2da9(0x44f)],_0x1c2da9(0x726))},{'upload':this[_0x1c2da9(0x6cd)][_0x1c2da9(0x6e2)]}),_0x38553e=_0x467444[_0x1c2da9(0x6bd)]+_0x1c2da9(0x4b3);if(_0x467444[_0x1c2da9(0x6bd)]===_0x1c2da9(0x576)&&!_0x467444['fileName']){let _0x46d8b4=new RegExp(/.*\/(.+?)\./)[_0x1c2da9(0x638)](_0x467444[_0x1c2da9(0x44f)]);_0x467444['fileName']=_0x46d8b4?_0x46d8b4[0x1]:null;}let _0x23071e=(0x0,P[_0x1c2da9(0x203)])(_0x467444[_0x1c2da9(0x44f)])?_0x467444[_0x1c2da9(0x44f)]['split']('?')[0x0]:_0x467444[_0x1c2da9(0x44f)],_0x5515c1;return(0x0,P[_0x1c2da9(0x203)])(_0x467444[_0x1c2da9(0x44f)])?_0x5515c1=(0x0,kt[_0x1c2da9(0x4f2)])(_0x23071e):_0x467444[_0x1c2da9(0x3dc)]&&_0x467444[_0x1c2da9(0x3dc)][_0x1c2da9(0x798)]('.')?_0x5515c1=(0x0,kt[_0x1c2da9(0x4f2)])(_0x467444[_0x1c2da9(0x3dc)]):_0x5515c1=(0x0,kt['getMIMEType'])(_0x467444[_0x1c2da9(0x44f)]),_0x398830[_0x38553e][_0x1c2da9(0x669)]=_0x467444?.[_0x1c2da9(0x669)],_0x398830[_0x38553e]['mimetype']=_0x5515c1,_0x398830[_0x38553e]['fileName']=_0x467444[_0x1c2da9(0x3dc)],_0x467444[_0x1c2da9(0x6bd)]===_0x1c2da9(0x1c5)&&(_0x398830[_0x38553e][_0x1c2da9(0x476)]=Uint8Array[_0x1c2da9(0x496)]((0x0,Ie[_0x1c2da9(0x66a)])((0x0,L[_0x1c2da9(0x7f8)])(process[_0x1c2da9(0x829)](),_0x1c2da9(0x402)))),_0x398830[_0x38553e][_0x1c2da9(0x44b)]=!0x1),(0x0,w[_0x1c2da9(0x5e6)])('',{[_0x38553e]:{..._0x398830[_0x38553e]}},{'userJid':this['instance'][_0x1c2da9(0x27c)]});}catch(_0x3ff2f5){let _0x1fe627=_0x1c2da9(0x1b2),_0x3b196c=_0x3ff2f5 instanceof Error?_0x3ff2f5['message']:typeof _0x3ff2f5==_0x1c2da9(0x24d)?JSON[_0x1c2da9(0x590)](_0x3ff2f5):_0x3ff2f5,_0x2e26ce=_0x1fe627+':\x20'+_0x3b196c;throw this[_0x1c2da9(0x5e8)]['error'](this[_0x1c2da9(0x6c1)]+'\x20('+this[_0x1c2da9(0x63b)][_0x1c2da9(0x27c)]+_0x1c2da9(0x63e)+_0x2e26ce),new x(_0x2e26ce);}}async[a0_0x33b913(0x3f9)](_0x4d0c81){const _0x14cea9=a0_0x33b913;let _0x516fa5=await this[_0x14cea9(0x13d)](_0x4d0c81['mediaMessage']);return await this['sendMessageWithTyping'](_0x4d0c81[_0x14cea9(0x17a)],{..._0x516fa5[_0x14cea9(0x65e)]},_0x4d0c81?.['options']);}async[a0_0x33b913(0x54f)](_0x267794,_0xff3b65){const _0x3eb941=a0_0x33b913;try{this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this['instanceName']+'\x20('+this['instance'][_0x3eb941(0x27c)]+_0x3eb941(0x44c));let _0x1d8f79,_0x447f33=_0xff3b65+'-'+new Date()['getTime']();this['logger'][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+'):Hash\x20to\x20image\x20name:\x20'+_0x447f33);let _0xe72527=''+(0x0,L[_0x3eb941(0x7f8)])(this[_0x3eb941(0x731)],_0x447f33+_0x3eb941(0x18d));if(this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+_0x3eb941(0x400)+_0xe72527),(0x0,P['isBase64'])(_0x267794)){this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this['instance'][_0x3eb941(0x27c)]+_0x3eb941(0x573));let _0x30cfee=_0x267794['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4c054f=Buffer[_0x3eb941(0x496)](_0x30cfee,_0x3eb941(0x726));_0x1d8f79=''+(0x0,L[_0x3eb941(0x7f8)])(this[_0x3eb941(0x731)],_0x3eb941(0x648)+_0x447f33+_0x3eb941(0x5ae)),this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this['instanceName']+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+_0x3eb941(0x792)+_0x1d8f79),await(0x0,jt['default'])(_0x4c054f)['toFile'](_0x1d8f79),this['logger']['verbose'](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)]['wuid']+_0x3eb941(0x761));}else{this['logger'][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this['instance']['wuid']+'):Image\x20is\x20url');let _0x16aa5f=new Date()[_0x3eb941(0x179)](),_0x3ac793=_0x267794+'?timestamp='+_0x16aa5f;this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this['instance'][_0x3eb941(0x27c)]+_0x3eb941(0x5e9)+_0x3ac793);let _0x11c8b4=await K['default'][_0x3eb941(0x1f0)](_0x3ac793,{'responseType':'arraybuffer'});this[_0x3eb941(0x5e8)]['verbose'](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+'):Getting\x20image\x20from\x20url');let _0xf264a2=Buffer[_0x3eb941(0x496)](_0x11c8b4[_0x3eb941(0x4a6)],'binary');_0x1d8f79=''+(0x0,L[_0x3eb941(0x7f8)])(this[_0x3eb941(0x731)],_0x3eb941(0x648)+_0x447f33+_0x3eb941(0x5ae)),this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+'):Image\x20path:\x20'+_0x1d8f79),await(0x0,jt['default'])(_0xf264a2)['toFile'](_0x1d8f79),this['logger'][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this['instance'][_0x3eb941(0x27c)]+_0x3eb941(0x761));}return await(0x0,jt[_0x3eb941(0x876)])(_0x1d8f79)[_0x3eb941(0x510)]()[_0x3eb941(0x65f)](_0xe72527),this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this['instanceName']+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+_0x3eb941(0x6c2)),k[_0x3eb941(0x83d)](_0x1d8f79),this[_0x3eb941(0x5e8)][_0x3eb941(0x6e9)](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+'):Temp\x20image\x20deleted'),_0xe72527;}catch(_0x5e83fe){let _0x13791c=_0x3eb941(0x738),_0xafbf58=_0x5e83fe instanceof Error?_0x5e83fe[_0x3eb941(0x65e)]:typeof _0x5e83fe=='object'?JSON[_0x3eb941(0x590)](_0x5e83fe):_0x5e83fe,_0x389ab2=_0x13791c+':\x20'+_0xafbf58;this[_0x3eb941(0x5e8)][_0x3eb941(0x43c)](this[_0x3eb941(0x6c1)]+'\x20('+this[_0x3eb941(0x63b)][_0x3eb941(0x27c)]+_0x3eb941(0x63e)+_0x389ab2);}}async[a0_0x33b913(0x23e)](_0x2bfb8b){const _0x189697=a0_0x33b913;let _0x4c3fd6=await this[_0x189697(0x54f)](_0x2bfb8b[_0x189697(0x27a)][_0x189697(0x42d)],_0x2bfb8b[_0x189697(0x17a)]),_0x3098fc=await this[_0x189697(0x2c3)](_0x2bfb8b['number'],{'sticker':{'url':_0x4c3fd6}},_0x2bfb8b?.['options']);return k[_0x189697(0x83d)](_0x4c3fd6),this[_0x189697(0x5e8)]['verbose'](this[_0x189697(0x6c1)]+'\x20('+this[_0x189697(0x63b)]['wuid']+_0x189697(0x324)),_0x3098fc;}async[a0_0x33b913(0x552)](_0x38ab8f){const _0x1d48f8=a0_0x33b913;if(this[_0x1d48f8(0x5e8)]['verbose'](this[_0x1d48f8(0x6c1)]+'\x20('+this['instance'][_0x1d48f8(0x27c)]+_0x1d48f8(0x809)),!_0x38ab8f[_0x1d48f8(0x1a5)]?.['encoding']&&_0x38ab8f[_0x1d48f8(0x1a5)]?.[_0x1d48f8(0x501)]!==!0x1&&(_0x38ab8f[_0x1d48f8(0x1a5)][_0x1d48f8(0x501)]=!0x0),_0x38ab8f['options']?.[_0x1d48f8(0x501)]){let _0x4cc3aa=await this['convertaudio'](_0x38ab8f[_0x1d48f8(0x475)][_0x1d48f8(0x7f3)]);if(typeof _0x4cc3aa==_0x1d48f8(0x63a)){let _0x13df7b=k['readFileSync'](_0x4cc3aa)[_0x1d48f8(0x2fe)]('base64');return this['sendMessageWithTyping'](_0x38ab8f[_0x1d48f8(0x17a)],{'audio':Buffer[_0x1d48f8(0x496)](_0x13df7b,_0x1d48f8(0x726)),'ptt':!0x0,'mimetype':_0x1d48f8(0x73e)},{'presence':'recording','delay':_0x38ab8f?.[_0x1d48f8(0x1a5)]?.['delay']});}else throw new x(_0x4cc3aa);}return await this[_0x1d48f8(0x2c3)](_0x38ab8f[_0x1d48f8(0x17a)],{'audio':(0x0,P['isURL'])(_0x38ab8f[_0x1d48f8(0x475)][_0x1d48f8(0x7f3)])?{'url':_0x38ab8f[_0x1d48f8(0x475)][_0x1d48f8(0x7f3)]}:Buffer[_0x1d48f8(0x496)](_0x38ab8f[_0x1d48f8(0x475)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x1d48f8(0x73e)},{'presence':_0x1d48f8(0x624),'delay':_0x38ab8f?.[_0x1d48f8(0x1a5)]?.[_0x1d48f8(0x29d)]});}async[a0_0x33b913(0x688)](_0x2eb546){const _0x4fe9d1=a0_0x33b913;this[_0x4fe9d1(0x5e8)][_0x4fe9d1(0x6e9)](this['instanceName']+'\x20('+this[_0x4fe9d1(0x63b)][_0x4fe9d1(0x27c)]+_0x4fe9d1(0x1c0));let _0xf16b88=(0x0,P[_0x4fe9d1(0x203)])(_0x2eb546)?(0x0,Lt[_0x4fe9d1(0x66b)])(_0x4fe9d1(0x76b))[_0x4fe9d1(0x784)](_0x2eb546)[_0x4fe9d1(0x1bb)](_0x4fe9d1(0x1e5)):(0x0,Lt[_0x4fe9d1(0x66b)])(_0x4fe9d1(0x76b))[_0x4fe9d1(0x784)](_0x2eb546)[_0x4fe9d1(0x1bb)](_0x4fe9d1(0x1e5)),_0x241e6b=''+(0x0,L[_0x4fe9d1(0x7f8)])(this[_0x4fe9d1(0x731)],_0xf16b88+'.ogg');if(k[_0x4fe9d1(0x491)](_0x241e6b))return this['logger'][_0x4fe9d1(0x6e9)](this[_0x4fe9d1(0x6c1)]+'\x20('+this[_0x4fe9d1(0x63b)]['wuid']+_0x4fe9d1(0x4c0)),_0x241e6b;let _0x4788f0=''+(0x0,L['join'])(this[_0x4fe9d1(0x731)],'temp-'+(0x0,he['v4'])()+_0x4fe9d1(0x6b5));if((0x0,P[_0x4fe9d1(0x203)])(_0x2eb546)){let _0x4e2ec3=new Date()['getTime'](),_0x57adb0=_0x2eb546+'?timestamp='+_0x4e2ec3,_0x48ebf3=await K['default']['get'](_0x57adb0,{'responseType':_0x4fe9d1(0x5de)});k[_0x4fe9d1(0x620)](_0x4788f0,_0x48ebf3['data']);}else{let _0x4ec993=Buffer['from'](_0x2eb546,'base64');k[_0x4fe9d1(0x620)](_0x4788f0,_0x4ec993);}return new Promise((_0x83884d,_0x5b3cb3)=>{const _0x3580eb=_0x4fe9d1;(0x0,_e['exec'])(xs[_0x3580eb(0x876)][_0x3580eb(0x2e5)]+'\x20-i\x20'+_0x4788f0+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x241e6b+_0x3580eb(0x77e),_0x2f73fa=>{const _0x50e75a=_0x3580eb;if(k[_0x50e75a(0x83d)](_0x4788f0),_0x2f73fa){this[_0x50e75a(0x5e8)][_0x50e75a(0x6e9)](this[_0x50e75a(0x6c1)]+'\x20('+this[_0x50e75a(0x63b)][_0x50e75a(0x27c)]+_0x50e75a(0x558)),_0x5b3cb3(_0x2f73fa);return;}this[_0x50e75a(0x5e8)][_0x50e75a(0x6e9)](this[_0x50e75a(0x6c1)]+'\x20('+this[_0x50e75a(0x63b)][_0x50e75a(0x27c)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x83884d(_0x241e6b);});});}async[a0_0x33b913(0x344)](_0x880046){const _0x1cdb1d=a0_0x33b913;this[_0x1cdb1d(0x5e8)][_0x1cdb1d(0x6e9)](this[_0x1cdb1d(0x6c1)]+'\x20('+this[_0x1cdb1d(0x63b)]['wuid']+_0x1cdb1d(0x1c0));let _0x513b3e=(0x0,Lt[_0x1cdb1d(0x66b)])('sha256')[_0x1cdb1d(0x784)](_0x880046)[_0x1cdb1d(0x1bb)](_0x1cdb1d(0x1e5)),_0x3659f6=''+(0x0,L['join'])(this[_0x1cdb1d(0x731)],_0x513b3e+_0x1cdb1d(0x6b5));if(k[_0x1cdb1d(0x491)](_0x3659f6))return this[_0x1cdb1d(0x5e8)][_0x1cdb1d(0x6e9)](this['instanceName']+'\x20('+this[_0x1cdb1d(0x63b)][_0x1cdb1d(0x27c)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),L[_0x1cdb1d(0x876)][_0x1cdb1d(0x6ce)](_0x3659f6);let _0x1a8e76=''+(0x0,L[_0x1cdb1d(0x7f8)])(this[_0x1cdb1d(0x731)],_0x1cdb1d(0x648)+_0x513b3e+'.ogg');if((0x0,P['isURL'])(_0x880046)){let _0x109238=new Date()[_0x1cdb1d(0x179)](),_0x20ab05=_0x880046+'?timestamp='+_0x109238,_0xef97b4=await K[_0x1cdb1d(0x876)][_0x1cdb1d(0x1f0)](_0x20ab05,{'responseType':'arraybuffer'});k[_0x1cdb1d(0x620)](_0x1a8e76,_0xef97b4[_0x1cdb1d(0x4a6)]);}else{let _0x49613c=Buffer[_0x1cdb1d(0x496)](_0x880046,_0x1cdb1d(0x726));k[_0x1cdb1d(0x620)](_0x1a8e76,_0x49613c);}return new Promise((_0x504114,_0x5a4c61)=>{const _0x3fe85d=_0x1cdb1d;(0x0,_e[_0x3fe85d(0x638)])(xs[_0x3fe85d(0x876)][_0x3fe85d(0x2e5)]+_0x3fe85d(0x618)+_0x1a8e76+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x3659f6+_0x3fe85d(0x77e),_0x239bb7=>{const _0x49883e=_0x3fe85d;if(k['unlinkSync'](_0x1a8e76),_0x239bb7){this[_0x49883e(0x5e8)][_0x49883e(0x6e9)](this[_0x49883e(0x6c1)]+'\x20('+this[_0x49883e(0x63b)][_0x49883e(0x27c)]+_0x49883e(0x558)),_0x5a4c61(_0x239bb7);return;}this['logger'][_0x49883e(0x6e9)](this['instanceName']+'\x20('+this['instance'][_0x49883e(0x27c)]+_0x49883e(0x2fb)),_0x504114(L[_0x49883e(0x876)][_0x49883e(0x6ce)](_0x3659f6));});});}async[a0_0x33b913(0x698)](_0x3a5f10){const _0x34fd40=a0_0x33b913;let _0x24fc70={},_0xf3ef57=_0x34fd40(0x56b);if(_0x3a5f10['buttonMessage']?.[_0x34fd40(0x3f9)]){_0xf3ef57=_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x3f9)]?.[_0x34fd40(0x6bd)][_0x34fd40(0x236)]()??_0x34fd40(0x56b),_0x24fc70[_0x34fd40(0x49c)]=_0xf3ef57[_0x34fd40(0x815)]()+_0x34fd40(0x4b3);let _0x1f7e28=await this['prepareMediaMessage'](_0x3a5f10['buttonMessage']['mediaMessage']);_0x24fc70[_0x34fd40(0x65e)]=_0x1f7e28['message'][_0x24fc70[_0x34fd40(0x49c)]],_0x24fc70[_0x34fd40(0x540)]='*'+_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x387)]+_0x34fd40(0x3f2)+_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x3a6)];}let _0x37a63e={'text':_0x3a5f10[_0x34fd40(0x698)]['buttons'][_0x34fd40(0x6f7)](_0x3b09f8=>_0x3b09f8[_0x34fd40(0x1e7)]),'ids':_0x3a5f10[_0x34fd40(0x698)]['buttons']['map'](_0x5e7cda=>_0x5e7cda[_0x34fd40(0x352)])};if(!(0x0,P[_0x34fd40(0x1c9)])(_0x37a63e[_0x34fd40(0x720)])||!(0x0,P[_0x34fd40(0x1c9)])(_0x37a63e[_0x34fd40(0x1f2)]))throw new m(_0x34fd40(0x1d5),_0x34fd40(0x502));return await this[_0x34fd40(0x2c3)](_0x3a5f10[_0x34fd40(0x17a)],{'buttonsMessage':{'text':_0x24fc70?.['mediaKey']?void 0x0:_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x387)],'contentText':_0x24fc70?.[_0x34fd40(0x540)]??_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x3a6)],'footerText':_0x3a5f10['buttonMessage']?.['footerText'],'buttons':_0x3a5f10[_0x34fd40(0x698)][_0x34fd40(0x3c2)][_0x34fd40(0x6f7)](_0x241732=>({'buttonText':{'displayText':_0x241732[_0x34fd40(0x1e7)]},'buttonId':_0x241732[_0x34fd40(0x352)],'type':0x1})),'headerType':w[_0x34fd40(0x71a)][_0x34fd40(0x4b3)][_0x34fd40(0x77a)]['HeaderType'][_0xf3ef57],[_0x24fc70?.[_0x34fd40(0x49c)]]:_0x24fc70?.['message']}},_0x3a5f10?.[_0x34fd40(0x1a5)]);}async[a0_0x33b913(0x175)](_0x1648e1){const _0x8f4e6b=a0_0x33b913;return await this[_0x8f4e6b(0x2c3)](_0x1648e1[_0x8f4e6b(0x17a)],{'locationMessage':{'degreesLatitude':_0x1648e1[_0x8f4e6b(0x175)][_0x8f4e6b(0x518)],'degreesLongitude':_0x1648e1[_0x8f4e6b(0x175)][_0x8f4e6b(0x440)],'name':_0x1648e1[_0x8f4e6b(0x175)]?.[_0x8f4e6b(0x382)],'address':_0x1648e1[_0x8f4e6b(0x175)]?.[_0x8f4e6b(0x245)]}},_0x1648e1?.['options']);}async[a0_0x33b913(0x482)](_0x515fd8){const _0x237e22=a0_0x33b913;let _0x4062dc={},_0x5df034=async _0x257e5f=>{const _0x474c0e=a0_0x358b;let _0x4e31f3=_0x474c0e(0x477)+_0x257e5f['fullName']+_0x474c0e(0x5dd)+_0x257e5f[_0x474c0e(0x48b)]+'\x0a';_0x257e5f[_0x474c0e(0x503)]&&(_0x4e31f3+=_0x474c0e(0x174)+_0x257e5f[_0x474c0e(0x503)]+';\x0a'),_0x257e5f[_0x474c0e(0x808)]&&(_0x4e31f3+=_0x474c0e(0x465)+_0x257e5f[_0x474c0e(0x808)]+'\x0a'),_0x257e5f[_0x474c0e(0x5ad)]&&(_0x4e31f3+=_0x474c0e(0x230)+_0x257e5f['url']+'\x0a');let _0x569dcd='',_0x10c216=0x1;if(_0x257e5f[_0x474c0e(0x4bd)]){let _0x43a5fe=_0x257e5f[_0x474c0e(0x4bd)]['split']('|');for(let _0x452249 of _0x43a5fe){let _0x1c81dc=await this[_0x474c0e(0x177)]({'numbers':[_0x452249]}),_0x1680b2=(_0x1c81dc[_0x474c0e(0x4ee)]>0x0?_0x1c81dc[0x0][_0x474c0e(0x662)]:this[_0x474c0e(0x523)](_0x452249))[_0x474c0e(0x3d1)](_0x474c0e(0x86c),'');_0x569dcd+='item'+_0x10c216+'.TEL;waid='+_0x1680b2+':'+_0x452249+'\x0aitem'+_0x10c216+_0x474c0e(0x6da),_0x10c216++;}}return _0x4e31f3+=_0x569dcd+_0x474c0e(0x6b3),_0x4e31f3;};return _0x515fd8[_0x237e22(0x482)][_0x237e22(0x4ee)]===0x1?_0x4062dc[_0x237e22(0x482)]={'displayName':_0x515fd8[_0x237e22(0x482)][0x0]['fullName'],'vcard':await _0x5df034(_0x515fd8[_0x237e22(0x482)][0x0])}:_0x4062dc[_0x237e22(0x54b)]={'displayName':_0x515fd8['contactMessage']['length']+_0x237e22(0x422),'contacts':await Promise[_0x237e22(0x739)](_0x515fd8['contactMessage'][_0x237e22(0x6f7)](async _0x477da4=>({'displayName':_0x477da4[_0x237e22(0x48b)],'vcard':await _0x5df034(_0x477da4)})))},await this['sendMessageWithTyping'](_0x515fd8[_0x237e22(0x17a)],{..._0x4062dc},_0x515fd8?.[_0x237e22(0x1a5)]);}async[a0_0x33b913(0x6f3)](_0x15c954){const _0x3158e2=a0_0x33b913;return await this[_0x3158e2(0x2c3)](_0x15c954['reactionMessage'][_0x3158e2(0x2cf)][_0x3158e2(0x41c)],{'reactionMessage':{'key':_0x15c954[_0x3158e2(0x6f3)][_0x3158e2(0x2cf)],'text':_0x15c954['reactionMessage']['reaction']}});}async[a0_0x33b913(0x177)](_0x1e187a){const _0x5bf9e5=a0_0x33b913;let _0xf3655f=[];for await(let _0x45542d of _0x1e187a['numbers']){let _0x30126c=this[_0x5bf9e5(0x523)](_0x45542d),_0x12457c=!0x1;try{if((0x0,w[_0x5bf9e5(0x82e)])(_0x30126c)){let _0x531c08=(await this[_0x5bf9e5(0x59c)][_0x5bf9e5(0x24b)]['findOne']({'where':{'_id':_0x30126c}},this[_0x5bf9e5(0x63b)]['wuid']))['groupdata'];_0x531c08?(_0x12457c=!0x0,_0xf3655f[_0x5bf9e5(0x41a)](new oe(_0x531c08['id'],_0x12457c,_0x531c08?.[_0x5bf9e5(0x7c4)]))):(_0x531c08=await this[_0x5bf9e5(0x280)]({'groupJid':_0x30126c},_0x5bf9e5(0x774)),_0xf3655f['push'](new oe(_0x531c08['id'],!!_0x531c08?.['id'],_0x531c08?.[_0x5bf9e5(0x7c4)])));}else{if(_0x30126c[_0x5bf9e5(0x798)]('@broadcast'))_0xf3655f[_0x5bf9e5(0x41a)](new oe(_0x30126c,!0x0));else{let _0x20567a=(await this['client'][_0x5bf9e5(0x26b)](_0x30126c))[0x0];_0xf3655f['push'](new oe(_0x20567a[_0x5bf9e5(0x662)],_0x20567a['exists']));}}}catch{(0x0,w['isJidGroup'])(_0x30126c)||await this[_0x5bf9e5(0x3ea)](_0x30126c,_0x12457c),_0xf3655f[_0x5bf9e5(0x41a)](new oe(_0x45542d,!0x1));}}return _0xf3655f;}async[a0_0x33b913(0x3ea)](_0x334e13,_0x4f8372){const _0x1f90c0=a0_0x33b913;try{await this[_0x1f90c0(0x59c)]['chat'][_0x1f90c0(0x366)]({'where':{'_id':_0x334e13,'imported':!0x0}},this[_0x1f90c0(0x63b)][_0x1f90c0(0x27c)])&&(_0x4f8372||(await this[_0x1f90c0(0x59c)][_0x1f90c0(0x24b)]['deleteChat'](_0x334e13,this[_0x1f90c0(0x63b)]['wuid']),this[_0x1f90c0(0x5e8)]['info'](_0x1f90c0(0x72a)+_0x334e13+_0x1f90c0(0x467))));}catch(_0x462ea0){let _0x57d4ad=_0x1f90c0(0x831),_0x35229f=_0x462ea0 instanceof Error?_0x462ea0['message']:typeof _0x462ea0==_0x1f90c0(0x24d)?JSON[_0x1f90c0(0x590)](_0x462ea0):_0x462ea0,_0x309fb6=_0x57d4ad+':\x20'+_0x35229f;this[_0x1f90c0(0x5e8)]['error'](this[_0x1f90c0(0x6c1)]+'\x20('+this[_0x1f90c0(0x63b)][_0x1f90c0(0x27c)]+'):\x20'+_0x309fb6);}}async[a0_0x33b913(0x290)](_0x2134fc){const _0x5abb49=a0_0x33b913;try{let _0x35387b=_0x2134fc[_0x5abb49(0x879)][_0x5abb49(0x711)](_0x4e98d2=>(0x0,w[_0x5abb49(0x82e)])(_0x4e98d2[_0x5abb49(0x41c)])||(0x0,w[_0x5abb49(0x7e0)])(_0x4e98d2[_0x5abb49(0x41c)]))[_0x5abb49(0x6f7)](_0x11b12f=>({'remoteJid':_0x11b12f[_0x5abb49(0x41c)],'fromMe':_0x11b12f[_0x5abb49(0x3c9)],'id':_0x11b12f['id']}));await this[_0x5abb49(0x6cd)][_0x5abb49(0x879)](_0x35387b);let _0x5254f4=_0x35387b[_0x5abb49(0x6f7)](_0x3a4ea6=>this[_0x5abb49(0x656)](_0x3a4ea6,{'status':_0x5abb49(0x6cc),'owner':this[_0x5abb49(0x63b)][_0x5abb49(0x27c)]})),_0x88d940=_0x35387b[_0x5abb49(0x6f7)](_0x8c8a62=>this['repository'][_0x5abb49(0x24b)][_0x5abb49(0x6f0)]({'where':{'_id':_0x8c8a62[_0x5abb49(0x41c)]}},{'unreadcount':0x0},this[_0x5abb49(0x63b)][_0x5abb49(0x27c)])),[_0x57afd7,_0x3e8980]=await Promise[_0x5abb49(0x739)]([Promise['all'](_0x5254f4),Promise[_0x5abb49(0x739)](_0x88d940)]);return _0x3e8980[_0x5abb49(0x711)](_0x8fedf0=>_0x8fedf0!==null)['forEach'](_0x565ed3=>{const _0x1726bd=_0x5abb49;U(this[_0x1726bd(0x6c1)],_0x1726bd(0x193),{'chat':_0x565ed3});}),{'message':_0x5abb49(0x74e),'read':'success'};}catch(_0x39a6b0){let _0x56f635=_0x5abb49(0x3f5),_0x301757=_0x39a6b0 instanceof Error?_0x39a6b0['message']:typeof _0x39a6b0==_0x5abb49(0x24d)?JSON[_0x5abb49(0x590)](_0x39a6b0):_0x39a6b0,_0x579fd4=_0x56f635+':\x20'+_0x301757;throw this['logger'][_0x5abb49(0x43c)](this['instanceName']+'\x20('+this[_0x5abb49(0x63b)]['wuid']+_0x5abb49(0x63e)+_0x579fd4),new x(_0x579fd4);}}async[a0_0x33b913(0x4b6)](_0x35db43){const _0x125e15=a0_0x33b913;let _0x4a18df={'where':{'key':{'remoteJid':_0x35db43}},'limit':0x1},_0x3b0f56=await this[_0x125e15(0x56f)](_0x4a18df);return _0x3b0f56||(this[_0x125e15(0x5e8)][_0x125e15(0x43c)](_0x125e15(0x737)+_0x35db43),null);}async[a0_0x33b913(0x5fb)](_0x13d622){const _0x3c2cb3=a0_0x33b913;this[_0x3c2cb3(0x5e8)][_0x3c2cb3(0x6e9)](this[_0x3c2cb3(0x6c1)]+'\x20('+this['instance']['wuid']+_0x3c2cb3(0x3a0));try{let _0x185902=_0x13d622[_0x3c2cb3(0x4b2)],_0x55dc18=_0x13d622[_0x3c2cb3(0x24b)];if(!_0x185902&&_0x55dc18?_0x185902=await this[_0x3c2cb3(0x4b6)](_0x55dc18):(_0x185902=_0x13d622[_0x3c2cb3(0x4b2)],_0x185902[_0x3c2cb3(0x589)]=_0x185902?.[_0x3c2cb3(0x589)]??Date[_0x3c2cb3(0x445)](),_0x55dc18=_0x185902?.['key']?.[_0x3c2cb3(0x41c)]),!_0x185902||Object['keys'](_0x185902)[_0x3c2cb3(0x4ee)]===0x0)throw new J(_0x3c2cb3(0x2ac));this[_0x3c2cb3(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]+_0x3c2cb3(0x5a0)+_0x55dc18);try{await this[_0x3c2cb3(0x6cd)][_0x3c2cb3(0x75e)]({'archive':_0x13d622[_0x3c2cb3(0x55b)],'lastMessages':[_0x185902]},this['createJid'](_0x55dc18));}catch(_0x1525ce){let _0x50430c=_0x3c2cb3(0x57d)+_0x55dc18,_0x2c9ec8=_0x1525ce instanceof Error?_0x1525ce['message']:typeof _0x1525ce==_0x3c2cb3(0x24d)?JSON[_0x3c2cb3(0x590)](_0x1525ce):_0x1525ce,_0x44916a=_0x50430c+':\x20'+_0x2c9ec8;this[_0x3c2cb3(0x5e8)][_0x3c2cb3(0x43c)](this['instanceName']+'\x20('+this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]+_0x3c2cb3(0x63e)+_0x44916a);}this['logger'][_0x3c2cb3(0x6e9)](this['instanceName']+'\x20('+this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x55dc18);let _0x22ecb2=await this[_0x3c2cb3(0x59c)][_0x3c2cb3(0x24b)][_0x3c2cb3(0x6f0)]({'where':{'_id':_0x185902?.[_0x3c2cb3(0x2cf)]?.[_0x3c2cb3(0x41c)]}},{'archived':_0x13d622[_0x3c2cb3(0x55b)]},this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]);return _0x22ecb2?(this[_0x3c2cb3(0x5e8)][_0x3c2cb3(0x6e9)](this[_0x3c2cb3(0x6c1)]+'\x20('+this[_0x3c2cb3(0x63b)]['wuid']+_0x3c2cb3(0x69a)+JSON['stringify'](_0x22ecb2)),U(this['instanceName'],_0x3c2cb3(0x193),{'chat':_0x22ecb2})):this[_0x3c2cb3(0x5e8)][_0x3c2cb3(0x43c)](this['instanceName']+'\x20('+this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]+_0x3c2cb3(0x5d6)+_0x55dc18),{'chatId':_0x55dc18,'archived':_0x13d622[_0x3c2cb3(0x55b)]};}catch(_0x14002c){let _0x44266a=_0x3c2cb3(0x1d7),_0x3d67b2=_0x14002c instanceof Error?_0x14002c['message']:typeof _0x14002c=='object'?JSON[_0x3c2cb3(0x590)](_0x14002c):_0x14002c,_0x5bd35c=_0x44266a+':\x20'+_0x3d67b2;throw this[_0x3c2cb3(0x5e8)]['error'](this[_0x3c2cb3(0x6c1)]+'\x20('+this[_0x3c2cb3(0x63b)][_0x3c2cb3(0x27c)]+_0x3c2cb3(0x63e)+_0x5bd35c),new x(_0x5bd35c);}}async[a0_0x33b913(0x7ef)](_0x4c5a65){const _0x503b9e=a0_0x33b913;this[_0x503b9e(0x5e8)][_0x503b9e(0x6e9)](this[_0x503b9e(0x6c1)]+'\x20('+this[_0x503b9e(0x63b)][_0x503b9e(0x27c)]+_0x503b9e(0x5a9));try{let _0x39e1b4=await this['getLastMessage'](_0x4c5a65);if(!_0x39e1b4||Object['keys'](_0x39e1b4)[_0x503b9e(0x4ee)]===0x0)throw new J(_0x503b9e(0x2ac));let _0x133772=_0x39e1b4[0x0];this[_0x503b9e(0x5e8)]['verbose'](this[_0x503b9e(0x6c1)]+'\x20('+this['instance'][_0x503b9e(0x27c)]+_0x503b9e(0x375)+_0x4c5a65);try{await this['client'][_0x503b9e(0x75e)]({'delete':!0x0,'lastMessages':[{'key':_0x133772[_0x503b9e(0x2cf)],'messageTimestamp':_0x133772['messageTimestamp']}]},this['createJid'](_0x4c5a65));}catch(_0x4d4d54){this[_0x503b9e(0x5e8)][_0x503b9e(0x43c)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x4c5a65+':\x20'+_0x4d4d54[_0x503b9e(0x2fe)]());}this['logger'][_0x503b9e(0x6e9)](this['instanceName']+'\x20('+this[_0x503b9e(0x63b)][_0x503b9e(0x27c)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4c5a65);return;}catch(_0x4cc683){throw this[_0x503b9e(0x5e8)][_0x503b9e(0x43c)](this[_0x503b9e(0x6c1)]+'\x20('+this[_0x503b9e(0x63b)][_0x503b9e(0x27c)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x4cc683['toString']()),new x({'archived':!0x1,'message':[_0x503b9e(0x289),_0x4cc683[_0x503b9e(0x2fe)]()]});}}async[a0_0x33b913(0x587)](_0x3e6cab){const _0x18441c=a0_0x33b913;try{let _0xa78ad6=await this[_0x18441c(0x6cd)][_0x18441c(0x296)](_0x3e6cab[_0x18441c(0x41c)],{'delete':_0x3e6cab});try{let _0x503dde=await this[_0x18441c(0x656)](_0x3e6cab,{'status':_0x18441c(0x661),'owner':this[_0x18441c(0x63b)]['wuid']});this[_0x18441c(0x5e8)][_0x18441c(0x6e9)](this['instanceName']+'\x20('+this[_0x18441c(0x63b)][_0x18441c(0x27c)]+_0x18441c(0x2ab)+_0x503dde);}catch(_0x533015){this['logger']['error'](_0x18441c(0x60c)+_0x533015);}return _0xa78ad6;}catch(_0x26bf96){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x26bf96?.['toString']());}}async['getBase64FromMediaMessage'](_0x22ca4a){const _0x57d66d=a0_0x33b913;try{let _0x4a2cfb=_0x22ca4a?.[_0x57d66d(0x65e)]?_0x22ca4a:await this[_0x57d66d(0x427)](_0x22ca4a[_0x57d66d(0x2cf)],!0x0);for(let _0x5caad3 of ya)_0x4a2cfb[_0x57d66d(0x65e)][_0x5caad3]&&(_0x4a2cfb[_0x57d66d(0x65e)]=_0x4a2cfb[_0x57d66d(0x65e)][_0x5caad3][_0x57d66d(0x65e)]);let _0x521c7d,_0x3cb414;for(let _0x37386d of wa)if(_0x521c7d=_0x4a2cfb['message'][_0x37386d],_0x521c7d){_0x3cb414=_0x37386d;break;}if(!_0x521c7d)throw _0x57d66d(0x25a);typeof _0x521c7d[_0x57d66d(0x49c)]==_0x57d66d(0x24d)&&(_0x4a2cfb[_0x57d66d(0x65e)]=JSON[_0x57d66d(0x73a)](JSON['stringify'](_0x4a2cfb[_0x57d66d(0x65e)])));let _0x411c36=await(0x0,w[_0x57d66d(0x1ab)])({'key':_0x4a2cfb?.[_0x57d66d(0x2cf)],'message':_0x4a2cfb?.[_0x57d66d(0x65e)]},_0x57d66d(0x329),{},{'logger':(0x0,Pt[_0x57d66d(0x876)])({'level':_0x57d66d(0x469)}),'reuploadRequest':this[_0x57d66d(0x6cd)][_0x57d66d(0x837)]});if(!(_0x411c36 instanceof Buffer))throw new Error(_0x57d66d(0x4c1));let _0x585499=this[_0x57d66d(0x5d4)]['get'](_0x57d66d(0x1a0)),_0x391cbb,_0x1c7794;if(_0x521c7d['fileName'])_0x391cbb=_0x521c7d[_0x57d66d(0x3dc)];else{let _0x498835=_0x521c7d[_0x57d66d(0x6d6)]?.['match'](/\/(\w+)/),_0x58455b=_0x498835?_0x498835[0x1]:null;if(!_0x58455b)throw new Error(_0x57d66d(0x2ff));_0x391cbb=(0x0,he['v4'])()+'.'+_0x58455b;}_0x3cb414===_0x57d66d(0x475)?_0x1c7794=_0x57d66d(0x435)+await this['convertaudioMP3'](_0x411c36[_0x57d66d(0x2fe)]('base64')):(await this[_0x57d66d(0x3d4)](_0x411c36,_0x391cbb),_0x1c7794='/media/'+_0x391cbb);let _0x47280d=this[_0x57d66d(0x5d4)][_0x57d66d(0x1f0)](_0x57d66d(0x38e))['URL'];if(!_0x47280d){let _0x2dbf0d=this[_0x57d66d(0x5d4)][_0x57d66d(0x1f0)](_0x57d66d(0x793));_0x47280d=_0x57d66d(0x575)+(_0x2dbf0d&&_0x2dbf0d[_0x57d66d(0x7a4)][_0x57d66d(0x76e)]('/')[0x4]);}_0x1c7794=''+_0x47280d+_0x1c7794;let _0x44be25=0xc*0x3c*0x3c*0x3e8,_0x30dd25={'where':{'_id':_0x4a2cfb[_0x57d66d(0x2cf)]['id']}},_0x496aa5={'message_normalized.fileUrl':_0x1c7794,'message_normalized.expires_fileUrl':Date['now']()+_0x44be25};try{let _0x3dc44b=await this[_0x57d66d(0x59c)]['message'][_0x57d66d(0x784)](_0x30dd25,_0x496aa5,this[_0x57d66d(0x63b)][_0x57d66d(0x27c)]);_0x3dc44b&&U(this[_0x57d66d(0x6c1)],_0x57d66d(0x21e),{'message':_0x3dc44b});}catch(_0x591b90){let _0x320c07=_0x57d66d(0x381),_0x3ac93e=_0x591b90 instanceof Error?_0x591b90['message']:typeof _0x591b90==_0x57d66d(0x24d)?JSON[_0x57d66d(0x590)](_0x591b90):_0x591b90,_0x16b4bf=_0x320c07+':\x20'+_0x3ac93e;this[_0x57d66d(0x5e8)][_0x57d66d(0x43c)](this['instanceName']+'\x20('+this[_0x57d66d(0x63b)][_0x57d66d(0x27c)]+'):\x20'+_0x16b4bf);}return{'mediaType':_0x3cb414,'fileName':_0x521c7d[_0x57d66d(0x3dc)],'caption':_0x521c7d[_0x57d66d(0x669)],'size':{'fileLength':_0x521c7d[_0x57d66d(0x14c)],'height':_0x521c7d[_0x57d66d(0x508)],'width':_0x521c7d[_0x57d66d(0x748)]},'mimetype':_0x521c7d['mimetype'],'base64':_0x411c36['toString'](_0x57d66d(0x726)),'fileUrl':_0x1c7794,'expires_fileUrl':Date[_0x57d66d(0x445)]()+_0x44be25};}catch(_0x15184e){let _0x541c13='Falha\x20ao\x20processar\x20a\x20solicitao',_0x27891b=_0x15184e instanceof Error?_0x15184e[_0x57d66d(0x65e)]:typeof _0x15184e==_0x57d66d(0x24d)?JSON[_0x57d66d(0x590)](_0x15184e):_0x15184e,_0x3d38ab=_0x541c13+':\x20'+_0x27891b;throw this[_0x57d66d(0x5e8)][_0x57d66d(0x43c)](this['instanceName']+'\x20('+this['instance'][_0x57d66d(0x27c)]+_0x57d66d(0x63e)+_0x3d38ab),new m(_0x3d38ab);}}async[a0_0x33b913(0x3d4)](_0x456c64,_0x2ccbf0){const _0x29dd63=a0_0x33b913;let _0x4ceb21=L[_0x29dd63(0x876)][_0x29dd63(0x7f8)](__dirname,_0x29dd63(0x5ff));k[_0x29dd63(0x491)](_0x4ceb21)||k[_0x29dd63(0x2b0)](_0x4ceb21,{'recursive':!0x0});let _0xb33c55=L[_0x29dd63(0x876)][_0x29dd63(0x7f8)](_0x4ceb21,_0x2ccbf0);return new Promise((_0x5e443b,_0x263d6b)=>{const _0x317108=_0x29dd63;k[_0x317108(0x7cf)](_0xb33c55,_0x456c64,_0x34e423=>{const _0x2cefd0=_0x317108;_0x34e423?(this[_0x2cefd0(0x5e8)][_0x2cefd0(0x43c)]('Error\x20writing\x20file:\x20'+(_0x34e423 instanceof Error?_0x34e423[_0x2cefd0(0x65e)]:JSON[_0x2cefd0(0x590)](_0x34e423,null,0x2))),_0x263d6b(_0x34e423)):(this[_0x2cefd0(0x5e8)][_0x2cefd0(0x77d)](_0x2cefd0(0x5d0)+_0xb33c55),_0x5e443b(_0xb33c55));});});}async[a0_0x33b913(0x6a8)](_0x521a01){const _0x1f0b9e=a0_0x33b913;return await this['repository'][_0x1f0b9e(0x277)][_0x1f0b9e(0x345)](_0x521a01,this[_0x1f0b9e(0x63b)][_0x1f0b9e(0x27c)]);}async[a0_0x33b913(0x22f)](){const _0x1f1faa=a0_0x33b913;return await this[_0x1f1faa(0x59c)][_0x1f1faa(0x727)][_0x1f1faa(0x345)]({'where':{}},this[_0x1f1faa(0x63b)][_0x1f1faa(0x27c)]);}async[a0_0x33b913(0x56f)](_0x15429d){const _0x2d6ce1=a0_0x33b913;return await this['repository'][_0x2d6ce1(0x65e)][_0x2d6ce1(0x345)](_0x15429d,this[_0x2d6ce1(0x63b)][_0x2d6ce1(0x27c)]);}async[a0_0x33b913(0x752)](){const _0x5b5e43=a0_0x33b913;return this[_0x5b5e43(0x59c)][_0x5b5e43(0x24b)]['removeUnusedChatFields'](this['instance'][_0x5b5e43(0x27c)]),this[_0x5b5e43(0x59c)]['chat'][_0x5b5e43(0x74d)](this[_0x5b5e43(0x63b)][_0x5b5e43(0x27c)]),this[_0x5b5e43(0x59c)]['chat'][_0x5b5e43(0x490)](this[_0x5b5e43(0x63b)][_0x5b5e43(0x27c)]),this[_0x5b5e43(0x59c)][_0x5b5e43(0x24b)][_0x5b5e43(0x50b)](this[_0x5b5e43(0x63b)]['wuid']),await this[_0x5b5e43(0x59c)][_0x5b5e43(0x24b)]['find']({'where':{}},this[_0x5b5e43(0x63b)]['wuid']);}async['importChatsAntigo'](_0x239735){const _0x349c95=a0_0x33b913;try{if(!Array['isArray'](_0x239735)||_0x239735[_0x349c95(0x4ee)]===0x0)throw new Error(_0x349c95(0x176));let _0x3599f1=[],_0x385889=[];for(let _0x54aebf of _0x239735){if(_0x54aebf[_0x349c95(0x5f6)])_0x54aebf[_0x349c95(0x5f6)]=this[_0x349c95(0x523)](_0x54aebf[_0x349c95(0x5f6)]);else continue;await this[_0x349c95(0x59c)][_0x349c95(0x24b)][_0x349c95(0x366)]({'where':{'_id':_0x54aebf[_0x349c95(0x5f6)]}},this[_0x349c95(0x63b)][_0x349c95(0x27c)])?_0x385889[_0x349c95(0x41a)]({'_id':_0x54aebf['_id'],'leadInfo':_0x54aebf[_0x349c95(0x19e)],'owner':this[_0x349c95(0x63b)][_0x349c95(0x27c)]}):_0x3599f1['push']({'_id':_0x54aebf[_0x349c95(0x5f6)],'owner':this[_0x349c95(0x63b)][_0x349c95(0x27c)],'leadInfo':_0x54aebf[_0x349c95(0x19e)],'imported':!0x0});}return _0x385889['length']>0x0&&await this[_0x349c95(0x59c)][_0x349c95(0x24b)][_0x349c95(0x3d9)](_0x385889[_0x349c95(0x6f7)](_0x3a354f=>({'query':{'where':{'_id':_0x3a354f[_0x349c95(0x5f6)],'owner':this[_0x349c95(0x63b)][_0x349c95(0x27c)]}},'update':_0x3a354f}))),_0x3599f1[_0x349c95(0x4ee)]>0x0&&await this['repository']['chat'][_0x349c95(0x1cb)](_0x3599f1,this[_0x349c95(0x63b)][_0x349c95(0x27c)]),{'updated':_0x385889['length'],'inserted':_0x3599f1[_0x349c95(0x4ee)]};}catch(_0x10c211){let _0xe4c068=_0x349c95(0x17e),_0x359589=_0x10c211 instanceof Error?_0x10c211[_0x349c95(0x65e)]:typeof _0x10c211==_0x349c95(0x24d)?JSON[_0x349c95(0x590)](_0x10c211):_0x10c211,_0x525716=_0xe4c068+':\x20'+_0x359589;throw this[_0x349c95(0x5e8)][_0x349c95(0x43c)](this[_0x349c95(0x6c1)]+'\x20('+this[_0x349c95(0x63b)][_0x349c95(0x27c)]+_0x349c95(0x63e)+_0x525716),new m(_0x525716);}}async[a0_0x33b913(0x7f5)](_0x1366e7){const _0x4b704b=a0_0x33b913;try{if(!Array[_0x4b704b(0x607)](_0x1366e7)||_0x1366e7[_0x4b704b(0x4ee)]===0x0)throw new Error(_0x4b704b(0x176));let _0x4dacc6=0x64,_0x3592f7=0x0;for(let _0x449845=0x0;_0x449845<_0x1366e7[_0x4b704b(0x4ee)];_0x449845+=_0x4dacc6){let _0x3198cf=_0x1366e7[_0x4b704b(0x4b8)](_0x449845,_0x449845+_0x4dacc6),{updated:_0x537cdd}=await this[_0x4b704b(0x7d8)](_0x3198cf);_0x3592f7+=_0x537cdd;}return{'updated':_0x3592f7};}catch(_0x1df13f){let _0x403c39=_0x4b704b(0x17e),_0x38d7b8=_0x1df13f instanceof Error?_0x1df13f[_0x4b704b(0x65e)]:typeof _0x1df13f==_0x4b704b(0x24d)?JSON[_0x4b704b(0x590)](_0x1df13f):_0x1df13f,_0x21852b=_0x403c39+':\x20'+_0x38d7b8;throw this[_0x4b704b(0x5e8)][_0x4b704b(0x43c)](this[_0x4b704b(0x6c1)]+'\x20('+this[_0x4b704b(0x63b)]['wuid']+'):\x20'+_0x21852b),new m(_0x21852b);}}async['importChatsBatch'](_0x3aa921){const _0x251659=a0_0x33b913;try{let _0x9017c7=await this[_0x251659(0x59c)][_0x251659(0x727)]['find']({'where':{}},this[_0x251659(0x63b)]['wuid']),_0x38c6b3=new Set(_0x9017c7['map'](_0x5d0ad3=>_0x5d0ad3[_0x251659(0x5f6)])),_0x56a2bc=[],_0x439599=[];for(let _0x57948d of _0x3aa921){if(!_0x57948d[_0x251659(0x5f6)])continue;_0x57948d['_id']=this[_0x251659(0x523)](_0x57948d[_0x251659(0x5f6)]);let _0x2d9940=await this[_0x251659(0x59c)][_0x251659(0x24b)][_0x251659(0x366)]({'where':{'_id':_0x57948d['_id']}},this['instance'][_0x251659(0x27c)]),_0x51e83b={};if(Object['entries'](_0x57948d[_0x251659(0x19e)])['forEach'](([_0x22319e,_0x28b399])=>{const _0x457162=_0x251659;_0x51e83b[_0x457162(0x755)+_0x22319e]=_0x28b399;}),_0x2d9940&&!_0x2d9940[_0x251659(0x4e8)]){let _0x3f20fe=(_0x57948d[_0x251659(0x19e)][_0x251659(0x67d)]||[])['filter'](_0x54dbac=>_0x38c6b3[_0x251659(0x136)](_0x54dbac)),_0x4ec796=new Set(_0x2d9940[_0x251659(0x19e)][_0x251659(0x67d)]||[]),_0x25d276=_0x3f20fe[_0x251659(0x711)](_0x537f4e=>!_0x4ec796['has'](_0x537f4e)),_0x5d9117=[..._0x4ec796][_0x251659(0x711)](_0x1e3cc5=>!_0x3f20fe[_0x251659(0x798)](_0x1e3cc5));_0x439599['push'](..._0x25d276[_0x251659(0x6f7)](_0x1ddd8f=>this['AddChatLabel'](_0x1ddd8f,_0x57948d[_0x251659(0x5f6)]))),_0x439599[_0x251659(0x41a)](..._0x5d9117[_0x251659(0x6f7)](_0x3218e1=>this['RemoveChatLabel'](_0x3218e1,_0x57948d[_0x251659(0x5f6)]))),_0x57948d[_0x251659(0x19e)][_0x251659(0x67d)]=_0x3f20fe,_0x56a2bc[_0x251659(0x41a)]({'query':{'where':{'_id':_0x57948d[_0x251659(0x5f6)],'owner':this[_0x251659(0x63b)][_0x251659(0x27c)]}},'update':_0x51e83b});}else _0x51e83b[_0x251659(0x4e8)]=!0x0,_0x56a2bc[_0x251659(0x41a)]({'query':{'where':{'_id':_0x57948d[_0x251659(0x5f6)],'owner':this[_0x251659(0x63b)]['wuid']}},'update':_0x51e83b});}let _0x532999=await this[_0x251659(0x59c)][_0x251659(0x24b)][_0x251659(0x3d9)](_0x56a2bc);return await Promise['all'](_0x439599),{'updated':_0x532999};}catch(_0x5ebc9b){let _0x10f270=_0x251659(0x17e),_0x2d0950=_0x5ebc9b instanceof Error?_0x5ebc9b['message']:typeof _0x5ebc9b=='object'?JSON[_0x251659(0x590)](_0x5ebc9b):_0x5ebc9b,_0x4de564=_0x10f270+':\x20'+_0x2d0950;throw this[_0x251659(0x5e8)][_0x251659(0x43c)](this[_0x251659(0x6c1)]+'\x20('+this[_0x251659(0x63b)][_0x251659(0x27c)]+'):\x20'+_0x4de564),new m(_0x4de564);}}async['fetchPrivacySettings'](){const _0x42a655=a0_0x33b913;return await this[_0x42a655(0x6cd)][_0x42a655(0x76d)]();}async['updatePrivacySettings'](_0x4c0d52){const _0x5ec9f9=a0_0x33b913;try{return await this[_0x5ec9f9(0x6cd)][_0x5ec9f9(0x773)](_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x404)]),await this[_0x5ec9f9(0x6cd)][_0x5ec9f9(0x57f)](_0x4c0d52[_0x5ec9f9(0x82d)]['profile']),await this['client'][_0x5ec9f9(0x779)](_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x615)]),await this['client'][_0x5ec9f9(0x37b)](_0x4c0d52[_0x5ec9f9(0x82d)]['online']),await this[_0x5ec9f9(0x6cd)][_0x5ec9f9(0x844)](_0x4c0d52[_0x5ec9f9(0x82d)]['last']),await this[_0x5ec9f9(0x6cd)]['updateGroupsAddPrivacy'](_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x753)]),this[_0x5ec9f9(0x6cd)]?.['ws']?.['close'](),{'update':_0x5ec9f9(0x35f),'data':{'readreceipts':_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x404)],'profile':_0x4c0d52[_0x5ec9f9(0x82d)]['profile'],'status':_0x4c0d52[_0x5ec9f9(0x82d)]['status'],'online':_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x187)],'last':_0x4c0d52[_0x5ec9f9(0x82d)]['last'],'groupadd':_0x4c0d52[_0x5ec9f9(0x82d)][_0x5ec9f9(0x753)]}};}catch(_0x20bada){let _0x125b40=_0x5ec9f9(0x7b5),_0x4c29db=_0x20bada instanceof Error?_0x20bada[_0x5ec9f9(0x65e)]:typeof _0x20bada=='object'?JSON[_0x5ec9f9(0x590)](_0x20bada):_0x20bada,_0x180be8=_0x125b40+':\x20'+_0x4c29db;throw this[_0x5ec9f9(0x5e8)][_0x5ec9f9(0x43c)](this[_0x5ec9f9(0x6c1)]+'\x20('+this['instance']['wuid']+_0x5ec9f9(0x63e)+_0x180be8),new m(_0x180be8);}}async[a0_0x33b913(0x40c)](_0x164218){const _0x34f60d=a0_0x33b913;let _0x55f70c=(_0x164218?this['createJid'](_0x164218):this[_0x34f60d(0x6cd)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x34f60d(0x5e8)][_0x34f60d(0x6e9)](this[_0x34f60d(0x6c1)]+'\x20('+this['instance'][_0x34f60d(0x27c)]+_0x34f60d(0x4f9)+_0x55f70c);let _0x1e6428=await this['repository'][_0x34f60d(0x277)][_0x34f60d(0x366)]({'where':{'_id':_0x55f70c}},this[_0x34f60d(0x63b)][_0x34f60d(0x27c)]),_0x18986f=_0x1e6428?_0x1e6428['pushName']:null;try{let _0x48db06=(await this['whatsappNumber']({'numbers':[_0x55f70c]}))?.[_0x34f60d(0x5c2)](),_0x452065=(await this[_0x34f60d(0x4a2)](_0x55f70c,null,!0x1))[_0x34f60d(0x1c1)][_0x34f60d(0x33b)],_0x2a409c=await this['getStatus'](_0x48db06?.[_0x34f60d(0x662)]),_0x43f964=await this[_0x34f60d(0x5ab)](_0x48db06?.[_0x34f60d(0x662)]),_0x59694e=(await this[_0x34f60d(0x4a2)](_0x55f70c,null,!0x1))[_0x34f60d(0x1c1)][_0x34f60d(0x382)],_0xa24e01=await this[_0x34f60d(0x59c)]['chat']['findOne']({'where':{'_id':_0x55f70c}},this[_0x34f60d(0x63b)][_0x34f60d(0x27c)]),_0x1d464b={'imagechat':_0x452065,'contactname':_0x18986f||null,'pushName':_0x59694e,'status':_0x2a409c?.[_0x34f60d(0x615)],'isBusiness':_0x43f964['isBusiness'],'email':_0x43f964?.[_0x34f60d(0x808)],'description':_0x43f964?.[_0x34f60d(0x3a6)],'website':_0x43f964?.[_0x34f60d(0x2f9)]?.[_0x34f60d(0x5c2)](),'lastcache':Date[_0x34f60d(0x445)](),'imported':!_0xa24e01},_0xeafa69=await this['repository'][_0x34f60d(0x24b)][_0x34f60d(0x6f0)]({'where':{'_id':_0x55f70c}},_0x1d464b,this[_0x34f60d(0x63b)]['wuid']),_0x1f5017={'owner':this[_0x34f60d(0x63b)]['wuid'],'_id':_0x55f70c,'profilePictureUrl':_0x452065,'status':_0x2a409c?.[_0x34f60d(0x615)]};return this['repository']['contact'][_0x34f60d(0x784)]([_0x1f5017],this[_0x34f60d(0x63b)][_0x34f60d(0x27c)]),_0xeafa69&&U(this[_0x34f60d(0x6c1)],'chats',{'chat':_0xeafa69}),{'wuid':_0x48db06?.[_0x34f60d(0x662)]||_0x55f70c,'name':_0x48db06?.[_0x34f60d(0x382)],'pushName':_0x59694e,'numberExists':_0x48db06?.[_0x34f60d(0x4c3)],'picture':_0x452065,'status':_0x2a409c?.['status'],'isBusiness':_0x43f964['isBusiness'],'email':_0x43f964?.[_0x34f60d(0x808)],'description':_0x43f964?.[_0x34f60d(0x3a6)],'website':_0x43f964?.[_0x34f60d(0x2f9)]?.[_0x34f60d(0x5c2)]()};}catch(_0x111bba){return this[_0x34f60d(0x5e8)][_0x34f60d(0x43c)](_0x34f60d(0x770)+(_0x111bba instanceof Error?_0x111bba[_0x34f60d(0x65e)]:JSON[_0x34f60d(0x590)](_0x111bba,null,0x2))),{};}}async[a0_0x33b913(0x5ab)](_0x22a115){const _0x39536a=a0_0x33b913;this[_0x39536a(0x5e8)][_0x39536a(0x6e9)](this['instanceName']+'\x20('+this[_0x39536a(0x63b)][_0x39536a(0x27c)]+_0x39536a(0x323));try{let _0x2bc175=_0x22a115?this[_0x39536a(0x523)](_0x22a115):this[_0x39536a(0x63b)]['wuid'],_0x3a1a96=await this[_0x39536a(0x6cd)][_0x39536a(0x3fa)](_0x2bc175);return this[_0x39536a(0x5e8)][_0x39536a(0x6e9)](this[_0x39536a(0x6c1)]+'\x20('+this[_0x39536a(0x63b)]['wuid']+_0x39536a(0x33c)),_0x3a1a96?(this[_0x39536a(0x5e8)][_0x39536a(0x6e9)](this[_0x39536a(0x6c1)]+'\x20('+this[_0x39536a(0x63b)][_0x39536a(0x27c)]+_0x39536a(0x3c3)),{'isBusiness':!0x0,..._0x3a1a96}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x39536a(0x177)]({'numbers':[_0x2bc175]}))?.[_0x39536a(0x5c2)]()};}catch(_0x29f963){let _0x10ffc5=_0x39536a(0x478),_0x5ccdf0=_0x29f963 instanceof Error?_0x29f963[_0x39536a(0x65e)]:typeof _0x29f963==_0x39536a(0x24d)?JSON[_0x39536a(0x590)](_0x29f963):_0x29f963,_0x3545ed=_0x10ffc5+':\x20'+_0x5ccdf0;throw this['logger'][_0x39536a(0x43c)](this['instanceName']+'\x20('+this[_0x39536a(0x63b)][_0x39536a(0x27c)]+'):\x20'+_0x3545ed),new x(_0x3545ed);}}async[a0_0x33b913(0x5ee)](_0x4b64b7){const _0x1cb016=a0_0x33b913;let _0x6da9e=this[_0x1cb016(0x523)](_0x4b64b7);try{return{'wuid':_0x6da9e,'status':(await this[_0x1cb016(0x6cd)][_0x1cb016(0x670)](_0x6da9e))?.[_0x1cb016(0x615)]};}catch{return{'wuid':_0x6da9e,'status':null};}}async['updateProfileName'](_0x2eaf38){const _0x320c96=a0_0x33b913;try{return await this[_0x320c96(0x6cd)][_0x320c96(0x561)](_0x2eaf38),{'update':_0x320c96(0x35f)};}catch(_0x2b3a5d){let _0x149377=_0x320c96(0x15b),_0x4eb078=_0x2b3a5d instanceof Error?_0x2b3a5d[_0x320c96(0x65e)]:typeof _0x2b3a5d=='object'?JSON[_0x320c96(0x590)](_0x2b3a5d):_0x2b3a5d,_0x37194b=_0x149377+':\x20'+_0x4eb078;throw this['logger'][_0x320c96(0x43c)](this[_0x320c96(0x6c1)]+'\x20('+this[_0x320c96(0x63b)][_0x320c96(0x27c)]+'):\x20'+_0x37194b),new x(_0x37194b);}}async[a0_0x33b913(0x6ca)](_0x313438){const _0x14633c=a0_0x33b913;try{return await this[_0x14633c(0x6cd)][_0x14633c(0x6ca)](_0x313438),{'update':_0x14633c(0x35f)};}catch(_0x43cf3d){let _0x3cd1c6=_0x14633c(0x458),_0x8efc56=_0x43cf3d instanceof Error?_0x43cf3d[_0x14633c(0x65e)]:typeof _0x43cf3d==_0x14633c(0x24d)?JSON[_0x14633c(0x590)](_0x43cf3d):_0x43cf3d,_0x53e868=_0x3cd1c6+':\x20'+_0x8efc56;throw this[_0x14633c(0x5e8)][_0x14633c(0x43c)](this[_0x14633c(0x6c1)]+'\x20('+this[_0x14633c(0x63b)]['wuid']+_0x14633c(0x63e)+_0x53e868),new x(_0x53e868);}}async[a0_0x33b913(0x4c8)](_0x10dcb7){const _0x17f814=a0_0x33b913;try{let _0x2c7dbd;if((0x0,P[_0x17f814(0x203)])(_0x10dcb7)){let _0x1974da=new Date()[_0x17f814(0x179)](),_0x38a11c=_0x10dcb7+_0x17f814(0x2b9)+_0x1974da;_0x2c7dbd=(await K[_0x17f814(0x876)][_0x17f814(0x1f0)](_0x38a11c,{'responseType':_0x17f814(0x5de)}))[_0x17f814(0x4a6)];}else{if((0x0,P[_0x17f814(0x3c8)])(_0x10dcb7))_0x2c7dbd=Buffer[_0x17f814(0x496)](_0x10dcb7,_0x17f814(0x726));else throw new m(_0x17f814(0x7dc));}return await this[_0x17f814(0x6cd)]['updateProfilePicture'](this[_0x17f814(0x63b)][_0x17f814(0x27c)],_0x2c7dbd),{'update':_0x17f814(0x35f)};}catch(_0x406fbd){let _0x31e94d='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture',_0x24148d=_0x406fbd instanceof Error?_0x406fbd[_0x17f814(0x65e)]:typeof _0x406fbd==_0x17f814(0x24d)?JSON[_0x17f814(0x590)](_0x406fbd):_0x406fbd,_0x114961=_0x31e94d+':\x20'+_0x24148d;throw this[_0x17f814(0x5e8)]['error'](this[_0x17f814(0x6c1)]+'\x20('+this[_0x17f814(0x63b)]['wuid']+_0x17f814(0x63e)+_0x114961),new x(_0x114961);}}async[a0_0x33b913(0x627)](){const _0x54ed74=a0_0x33b913;try{return await this[_0x54ed74(0x6cd)][_0x54ed74(0x627)](this[_0x54ed74(0x63b)][_0x54ed74(0x27c)]),{'update':_0x54ed74(0x35f)};}catch(_0x459052){let _0x2fb0bf=_0x54ed74(0x365),_0x4deb72=_0x459052 instanceof Error?_0x459052[_0x54ed74(0x65e)]:typeof _0x459052==_0x54ed74(0x24d)?JSON['stringify'](_0x459052):_0x459052,_0x2d3e99=_0x2fb0bf+':\x20'+_0x4deb72;throw this[_0x54ed74(0x5e8)][_0x54ed74(0x43c)](this['instanceName']+'\x20('+this['instance'][_0x54ed74(0x27c)]+_0x54ed74(0x63e)+_0x2d3e99),new x(_0x2d3e99);}}async['createGroup'](_0x2915df){const _0x302b3b=a0_0x33b913;try{let _0x4f1a73=(await this[_0x302b3b(0x177)]({'numbers':_0x2915df[_0x302b3b(0x150)]}))[_0x302b3b(0x711)](_0x2d67e9=>_0x2d67e9['exists'])[_0x302b3b(0x6f7)](_0x2607b=>_0x2607b[_0x302b3b(0x662)]),{id:_0x585267}=await this[_0x302b3b(0x6cd)][_0x302b3b(0x301)](_0x2915df[_0x302b3b(0x7c4)],_0x4f1a73);_0x2915df?.[_0x302b3b(0x3a6)]&&await this['client']['groupUpdateDescription'](_0x585267,_0x2915df[_0x302b3b(0x3a6)]);let _0x2bf111=await this[_0x302b3b(0x6cd)]['groupMetadata'](_0x585267);return _0x2bf111[_0x302b3b(0x337)]=[],{'metadata':_0x2bf111};}catch(_0x383c8a){let _0x388ea9='Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup',_0x5866c1=_0x383c8a instanceof Error?_0x383c8a[_0x302b3b(0x65e)]:typeof _0x383c8a==_0x302b3b(0x24d)?JSON['stringify'](_0x383c8a):_0x383c8a,_0x240d75=_0x388ea9+':\x20'+_0x5866c1;throw this[_0x302b3b(0x5e8)]['error'](this[_0x302b3b(0x6c1)]+'\x20('+this['instance'][_0x302b3b(0x27c)]+_0x302b3b(0x63e)+_0x240d75),new x(_0x240d75);}}async[a0_0x33b913(0x33d)](_0x5dd4e7){const _0x228a81=a0_0x33b913;try{if(_0x5dd4e7[_0x228a81(0x3f6)]===!0x0&&await this[_0x228a81(0x6cd)][_0x228a81(0x3b8)](_0x5dd4e7[_0x228a81(0x585)],_0x228a81(0x272)),_0x5dd4e7[_0x228a81(0x3f6)]===!0x1&&await this[_0x228a81(0x6cd)]['groupSettingUpdate'](_0x5dd4e7[_0x228a81(0x585)],_0x228a81(0x16e)),_0x5dd4e7[_0x228a81(0x81f)]===!0x0&&await this[_0x228a81(0x6cd)][_0x228a81(0x3b8)](_0x5dd4e7[_0x228a81(0x585)],_0x228a81(0x862)),_0x5dd4e7[_0x228a81(0x81f)]===!0x1&&await this[_0x228a81(0x6cd)][_0x228a81(0x3b8)](_0x5dd4e7[_0x228a81(0x585)],'not_announcement'),_0x5dd4e7[_0x228a81(0x529)]===!0x0&&await this[_0x228a81(0x6cd)][_0x228a81(0x3e6)](_0x5dd4e7[_0x228a81(0x585)],_0x228a81(0x493)),_0x5dd4e7[_0x228a81(0x529)]===!0x1&&await this['client'][_0x228a81(0x3e6)](_0x5dd4e7[_0x228a81(0x585)],_0x228a81(0x19c)),_0x5dd4e7[_0x228a81(0x2a5)]===!0x0&&await this[_0x228a81(0x6cd)][_0x228a81(0x723)](_0x5dd4e7[_0x228a81(0x585)],'on'),_0x5dd4e7[_0x228a81(0x2a5)]===!0x1&&await this[_0x228a81(0x6cd)][_0x228a81(0x723)](_0x5dd4e7[_0x228a81(0x585)],'off'),typeof _0x5dd4e7[_0x228a81(0x1d1)]<'u'&&_0x5dd4e7[_0x228a81(0x1d1)]!==null&&await this['client'][_0x228a81(0x3b3)](_0x5dd4e7['groupJid'],_0x5dd4e7[_0x228a81(0x1d1)]),_0x5dd4e7[_0x228a81(0x382)]&&await this['client'][_0x228a81(0x5db)](_0x5dd4e7[_0x228a81(0x585)],_0x5dd4e7[_0x228a81(0x382)]),_0x5dd4e7['description']&&await this[_0x228a81(0x6cd)]['groupUpdateDescription'](_0x5dd4e7[_0x228a81(0x585)],_0x5dd4e7[_0x228a81(0x3a6)]),_0x5dd4e7[_0x228a81(0x42d)]){let _0x49d845;if((0x0,P['isURL'])(_0x5dd4e7[_0x228a81(0x42d)])){let _0x15d1ae=new Date()['getTime'](),_0x171ac2=_0x5dd4e7[_0x228a81(0x42d)]+'?timestamp='+_0x15d1ae;_0x49d845=(await K[_0x228a81(0x876)][_0x228a81(0x1f0)](_0x171ac2,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P[_0x228a81(0x3c8)])(_0x5dd4e7[_0x228a81(0x42d)]))_0x49d845=Buffer['from'](_0x5dd4e7[_0x228a81(0x42d)],_0x228a81(0x726));else throw new m(_0x228a81(0x7dc));}await this[_0x228a81(0x6cd)][_0x228a81(0x4c8)](_0x5dd4e7['groupJid'],_0x49d845);}return await this[_0x228a81(0x280)]({'groupJid':_0x5dd4e7[_0x228a81(0x585)]});}catch(_0x4581e9){let _0x4a1b06='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting',_0x3aa811=_0x4581e9 instanceof Error?_0x4581e9['message']:typeof _0x4581e9=='object'?JSON[_0x228a81(0x590)](_0x4581e9):_0x4581e9,_0x517a7d=_0x4a1b06+':\x20'+_0x3aa811;throw this[_0x228a81(0x5e8)][_0x228a81(0x43c)](this[_0x228a81(0x6c1)]+'\x20('+this[_0x228a81(0x63b)][_0x228a81(0x27c)]+_0x228a81(0x63e)+_0x517a7d),new x(_0x517a7d);}}async['updateGParticipant'](_0x5fc04e){const _0x3714ca=a0_0x33b913;try{if(_0x5fc04e['action']===_0x3714ca(0x5d8)||_0x5fc04e[_0x3714ca(0x78e)]==='reject'){let _0x1f4c53=_0x5fc04e[_0x3714ca(0x150)][_0x3714ca(0x6f7)](_0x252a3a=>this[_0x3714ca(0x523)](_0x252a3a));await this['client'][_0x3714ca(0x59a)](_0x5fc04e[_0x3714ca(0x585)],_0x1f4c53,_0x5fc04e[_0x3714ca(0x78e)]);}else{if(_0x5fc04e[_0x3714ca(0x78e)]===_0x3714ca(0x47b)){let _0x230c72=(await this[_0x3714ca(0x177)]({'numbers':_0x5fc04e[_0x3714ca(0x150)]}))[_0x3714ca(0x711)](_0x2e8010=>_0x2e8010[_0x3714ca(0x4c3)])[_0x3714ca(0x6f7)](_0x15d404=>this[_0x3714ca(0x523)](_0x15d404[_0x3714ca(0x662)]));if(_0x230c72[_0x3714ca(0x4ee)]===0x0)throw new m(_0x3714ca(0x50a));await this[_0x3714ca(0x6cd)][_0x3714ca(0x34c)](_0x5fc04e[_0x3714ca(0x585)],_0x230c72,_0x3714ca(0x47b));}else{let _0x259f7c=_0x5fc04e[_0x3714ca(0x150)]['map'](_0x58c75f=>this[_0x3714ca(0x523)](_0x58c75f));await this[_0x3714ca(0x6cd)][_0x3714ca(0x34c)](_0x5fc04e[_0x3714ca(0x585)],_0x259f7c,_0x5fc04e[_0x3714ca(0x78e)]);}}return await this[_0x3714ca(0x280)]({'groupJid':_0x5fc04e[_0x3714ca(0x585)]});}catch(_0x17da0d){let _0x53a984=_0x3714ca(0x6b9),_0x4df9b4=_0x17da0d instanceof Error?_0x17da0d[_0x3714ca(0x65e)]:typeof _0x17da0d==_0x3714ca(0x24d)?JSON[_0x3714ca(0x590)](_0x17da0d):_0x17da0d,_0x315c93=_0x53a984+':\x20'+_0x4df9b4;throw this[_0x3714ca(0x5e8)][_0x3714ca(0x43c)](this[_0x3714ca(0x6c1)]+'\x20('+this[_0x3714ca(0x63b)][_0x3714ca(0x27c)]+_0x3714ca(0x63e)+_0x315c93),new m(_0x315c93);}}async[a0_0x33b913(0x7c6)](_0x484d0c){const _0xd19ca3=a0_0x33b913;try{return await this[_0xd19ca3(0x6cd)][_0xd19ca3(0x7c6)](_0x484d0c[_0xd19ca3(0x2b6)]);}catch(_0x497f10){let _0x3d39e9=_0xd19ca3(0x60b),_0x11e438=_0x497f10 instanceof Error?_0x497f10['message']:typeof _0x497f10==_0xd19ca3(0x24d)?JSON[_0xd19ca3(0x590)](_0x497f10):_0x497f10,_0x26fe12=_0x3d39e9+':\x20'+_0x11e438;throw this[_0xd19ca3(0x5e8)][_0xd19ca3(0x43c)](this[_0xd19ca3(0x6c1)]+'\x20('+this['instance'][_0xd19ca3(0x27c)]+_0xd19ca3(0x63e)+_0x26fe12),new m(_0x26fe12);}}async[a0_0x33b913(0x280)](_0x196902,_0x27c62c=a0_0x33b913(0x55e)){const _0x4239af=a0_0x33b913;try{let _0x4899e5=await this[_0x4239af(0x59c)][_0x4239af(0x24b)][_0x4239af(0x366)]({'where':{'_id':_0x196902[_0x4239af(0x585)]}},this['instance'][_0x4239af(0x27c)]),_0x333627=_0x4899e5?_0x4899e5[_0x4239af(0x58d)]:null,_0x2ff54d=0x18*0x3c*0x3c*0x3e8;if(!_0x333627||_0x333627[_0x4239af(0x65d)]&&Date[_0x4239af(0x445)]()-_0x333627['lastUpdate']>_0x2ff54d){let _0x5b3cbf=await this['client']['groupMetadata'](_0x196902['groupJid']);if(_0x5b3cbf[_0x4239af(0x140)]=_0x5b3cbf?.[_0x4239af(0x140)]&&_0x5b3cbf[_0x4239af(0x140)][_0x4239af(0x2fe)]()[_0x4239af(0x4ee)]<0xd?_0x5b3cbf?.[_0x4239af(0x140)]*0x3e8:_0x5b3cbf?.[_0x4239af(0x140)]||null,_0x5b3cbf[_0x4239af(0x1ef)]=_0x5b3cbf?.[_0x4239af(0x1ef)]&&_0x5b3cbf[_0x4239af(0x1ef)]['toString']()[_0x4239af(0x4ee)]<0xd?_0x5b3cbf?.['creation']*0x3e8:_0x5b3cbf?.['creation']||null,_0x333627={..._0x5b3cbf,'lastUpdate':Date[_0x4239af(0x445)]()},!_0x5b3cbf)return;}let _0x228764=_0x333627[_0x4239af(0x150)][_0x4239af(0x788)](_0x2ac825=>_0x2ac825['id']===this['instance'][_0x4239af(0x27c)]+_0x4239af(0x86c)&&_0x2ac825[_0x4239af(0x7d3)]!=null);!_0x333627[_0x4239af(0x2b6)]&&_0x228764&&(_0x333627[_0x4239af(0x2b6)]=(await this[_0x4239af(0x2b6)](_0x196902,!0x1))['inviteUrl']);let _0x525a20=(!_0x333627['announce']||_0x228764)&&(!_0x333627[_0x4239af(0x515)]||_0x333627[_0x4239af(0x515)]&&_0x333627[_0x4239af(0x3ac)]&&_0x228764);_0x333627['isAdmin']=_0x228764,_0x333627[_0x4239af(0x1f6)]=_0x525a20;let _0x1863d0=[];if(_0x228764&&_0x333627['joinApprovalMode'])try{_0x1863d0=await this[_0x4239af(0x6cd)][_0x4239af(0x32a)](_0x196902[_0x4239af(0x585)]),_0x333627[_0x4239af(0x714)]=Date[_0x4239af(0x445)]();}catch(_0x56dfde){this[_0x4239af(0x5e8)][_0x4239af(0x6e9)](this[_0x4239af(0x6c1)]+'\x20('+this[_0x4239af(0x63b)][_0x4239af(0x27c)]+_0x4239af(0x70b)+_0x196902[_0x4239af(0x585)]+':\x20'+(_0x56dfde instanceof Error?_0x56dfde[_0x4239af(0x65e)]:JSON[_0x4239af(0x590)](_0x56dfde,null,0x2)));}try{_0x333627['image']=(await this['findAndUpdateCacheContact'](_0x196902[_0x4239af(0x585)],null,!0x0))[_0x4239af(0x1c1)][_0x4239af(0x33b)];}catch(_0x20641d){this[_0x4239af(0x5e8)][_0x4239af(0x6e9)](this[_0x4239af(0x6c1)]+'\x20('+this[_0x4239af(0x63b)][_0x4239af(0x27c)]+_0x4239af(0x812)+_0x196902['groupJid']+':\x20'+(_0x20641d instanceof Error?_0x20641d[_0x4239af(0x65e)]:JSON[_0x4239af(0x590)](_0x20641d,null,0x2)));}let _0x2d763f=_0x333627[_0x4239af(0x150)][_0x4239af(0x6f7)](_0x41ce9d=>_0x41ce9d['id']),_0x55cf4d=_0x1863d0[_0x4239af(0x6f7)](_0x1b1897=>_0x1b1897[_0x4239af(0x662)]),_0x2b5954=await this[_0x4239af(0x59c)][_0x4239af(0x769)][_0x4239af(0x199)]([..._0x2d763f,..._0x55cf4d]);_0x333627['participants']=_0x333627[_0x4239af(0x150)][_0x4239af(0x6f7)](_0x5ac76a=>{const _0x4a08cd=_0x4239af;let _0x2a4b8f=_0x2b5954[_0x4a08cd(0x345)](_0x56d4bb=>_0x56d4bb[_0x4a08cd(0x5f6)]===_0x5ac76a['id']);return{'id':_0x5ac76a['id'],'isAdmin':['admin',_0x4a08cd(0x517)][_0x4a08cd(0x798)](_0x5ac76a[_0x4a08cd(0x7d3)]),'admin':_0x5ac76a[_0x4a08cd(0x7d3)],'pushName':_0x2a4b8f?.[_0x4a08cd(0x382)],'profilePictureUrl':_0x2a4b8f?.[_0x4a08cd(0x33b)]};}),_0x333627[_0x4239af(0x337)]=_0x1863d0[_0x4239af(0x6f7)](_0x589d27=>{const _0x18fabf=_0x4239af;let _0x37ac0b=_0x2b5954[_0x18fabf(0x345)](_0x1d7441=>_0x1d7441[_0x18fabf(0x5f6)]===_0x589d27[_0x18fabf(0x662)]);return{'id':_0x589d27['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x37ac0b?.[_0x18fabf(0x382)],'profilePictureUrl':_0x37ac0b?.[_0x18fabf(0x33b)],'request_method':_0x589d27[_0x18fabf(0x6e0)],'request_time':_0x589d27[_0x18fabf(0x639)]};});let _0x104283=await this[_0x4239af(0x59c)][_0x4239af(0x24b)][_0x4239af(0x6f0)]({'where':{'_id':_0x196902[_0x4239af(0x585)]}},{'imagechat':_0x333627[_0x4239af(0x42d)],'name':_0x333627[_0x4239af(0x7c4)],'lastcache':Date['now'](),'groupdata':_0x333627},this[_0x4239af(0x63b)][_0x4239af(0x27c)]);return U(this['instanceName'],'chats',{'chat':_0x104283}),{'metadata':_0x333627};}catch(_0x2c3f79){if(_0x27c62c==='inner')return;throw new J(_0x4239af(0x31b),_0x2c3f79[_0x4239af(0x65e)][_0x4239af(0x2fe)]());}}async[a0_0x33b913(0x1da)](){const _0xa352fd=a0_0x33b913;try{let _0x2b4870=[],_0x58ebc5=await this[_0xa352fd(0x6cd)][_0xa352fd(0x4b4)](),_0x30b889=Object[_0xa352fd(0x563)](_0x58ebc5),_0xd41782=_0x30b889[_0xa352fd(0x711)](_0x23f9df=>(0x0,w[_0xa352fd(0x82e)])(_0x23f9df?.['id']))[_0xa352fd(0x6f7)](async _0x2ffe8e=>{const _0xe5d79c=_0xa352fd;try{return await this['client'][_0xe5d79c(0x3b7)](_0x2ffe8e['id'],_0xe5d79c(0x2e1));}catch(_0x7331e1){return this[_0xe5d79c(0x5e8)][_0xe5d79c(0x6e9)](this['instanceName']+'\x20('+this[_0xe5d79c(0x63b)][_0xe5d79c(0x27c)]+_0xe5d79c(0x812)+_0x2ffe8e['id']+':\x20'+(_0x7331e1 instanceof Error?_0x7331e1[_0xe5d79c(0x65e)]:JSON['stringify'](_0x7331e1,null,0x2))),null;}}),_0x2b0f80=await Promise['all'](_0xd41782);for(let _0x2265eb=0x0;_0x2265eb<_0x30b889[_0xa352fd(0x4ee)];_0x2265eb++){let _0x1674a0=_0x30b889[_0x2265eb];(0x0,w[_0xa352fd(0x82e)])(_0x1674a0?.['id'])&&(_0x2b4870[_0xa352fd(0x41a)]({'groupJid':_0x1674a0?.['id'],'subject':_0x1674a0?.[_0xa352fd(0x7c4)],'subjectOwner':_0x1674a0?.[_0xa352fd(0x2d7)]?.[_0xa352fd(0x76e)]('@')[0x0],'subjectTime':_0x1674a0?.['subjectTime'],'creation':_0x1674a0?.[_0xa352fd(0x1ef)],'size':_0x1674a0?.['participants']?.[_0xa352fd(0x4ee)],'owner':_0x1674a0?.['owner']?.['split']('@')[0x0],'desc':_0x1674a0?.[_0xa352fd(0x29e)],'restrict':_0x1674a0?.[_0xa352fd(0x3f6)],'announce':_0x1674a0?.[_0xa352fd(0x81f)],'image':_0x2b0f80[_0x2265eb],'isCommunity':_0x1674a0?.[_0xa352fd(0x515)],'joinApprovalMode':_0x1674a0?.[_0xa352fd(0x2a5)],'memberCanAddParticipant':_0x1674a0?.[_0xa352fd(0x529)],'participants':_0x1674a0?.[_0xa352fd(0x150)],'descOwner':_0x1674a0?.[_0xa352fd(0x5be)],'descId':_0x1674a0?.['descId'],'memberAddMode':_0x1674a0?.[_0xa352fd(0x529)],'isCommunityAnnounce':_0x1674a0?.[_0xa352fd(0x3ac)],'ephemeralDuration':_0x1674a0?.[_0xa352fd(0x6d8)]||0x0,'author':_0x1674a0?.['author']}),this['updateChatGroupData'](_0x30b889[_0x2265eb]));}return _0x2b4870;}catch(_0x2b83cb){let _0x6f15d7=_0xa352fd(0x4ef),_0x3dc1fb=_0x2b83cb instanceof Error?_0x2b83cb['message']:typeof _0x2b83cb==_0xa352fd(0x24d)?JSON[_0xa352fd(0x590)](_0x2b83cb):_0x2b83cb,_0x7a4e98=_0x6f15d7+':\x20'+_0x3dc1fb;throw this[_0xa352fd(0x5e8)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x7a4e98),new J(_0x7a4e98);}}async[a0_0x33b913(0x483)](_0x11343b){const _0x51cabb=a0_0x33b913;let _0x43d6b3=await this['repository'][_0x51cabb(0x24b)]['findOne']({'where':{'_id':_0x11343b['id']}},this[_0x51cabb(0x63b)][_0x51cabb(0x27c)]);_0x11343b[_0x51cabb(0x140)]=_0x11343b?.[_0x51cabb(0x140)]&&_0x11343b[_0x51cabb(0x140)][_0x51cabb(0x2fe)]()[_0x51cabb(0x4ee)]<0xd?_0x11343b?.['subjectTime']*0x3e8:_0x11343b?.[_0x51cabb(0x140)]||null,_0x11343b[_0x51cabb(0x1ef)]=_0x11343b?.[_0x51cabb(0x1ef)]&&_0x11343b[_0x51cabb(0x1ef)][_0x51cabb(0x2fe)]()[_0x51cabb(0x4ee)]<0xd?_0x11343b?.[_0x51cabb(0x1ef)]*0x3e8:_0x11343b?.['creation']||null;let _0x4f05d5=_0x43d6b3?.['groupdata']?.[_0x51cabb(0x337)]||[],_0x2b83bd=_0x43d6b3?.[_0x51cabb(0x58d)]?.[_0x51cabb(0x714)],_0x4b6980=_0x11343b['participants'][_0x51cabb(0x6f7)](_0x99ce1a=>{const _0x124f71=_0x51cabb;let _0x4bd047=_0x43d6b3?.[_0x124f71(0x58d)]?.['participants'][_0x124f71(0x345)](_0x1e1d84=>_0x1e1d84['id']===_0x99ce1a['id']);return{..._0x99ce1a,'isAdmin':[_0x124f71(0x7d3),_0x124f71(0x517)][_0x124f71(0x798)](_0x99ce1a['admin']),'admin':_0x99ce1a[_0x124f71(0x7d3)],'name':_0x4bd047?.[_0x124f71(0x382)]||_0x99ce1a[_0x124f71(0x382)],'imgUrl':_0x4bd047?.['imgUrl']||_0x99ce1a[_0x124f71(0x85a)]};}),_0x11ea60=_0x4b6980['some'](_0x49585b=>_0x49585b['id']===this[_0x51cabb(0x63b)][_0x51cabb(0x27c)]+_0x51cabb(0x86c)&&_0x49585b[_0x51cabb(0x24a)]),_0xc53a8f=(!_0x11343b[_0x51cabb(0x81f)]||_0x11ea60)&&(!_0x11343b['isCommunity']||_0x11343b['isCommunity']&&_0x11343b[_0x51cabb(0x3ac)]&&_0x11ea60),_0x44912a={..._0x11343b,'participants':_0x4b6980,'awaitingApproval':_0x4f05d5,'lastFetchAwaitingApproval':_0x2b83bd,'isAdmin':_0x11ea60,'canSendMessage':_0xc53a8f,'lastUpdate':Date[_0x51cabb(0x445)]()};await this['repository']['chat'][_0x51cabb(0x6f0)]({'where':{'_id':_0x11343b['id']}},{'name':_0x11343b[_0x51cabb(0x7c4)],'group':!0x0,'groupdata':_0x44912a,'lastcache':Date['now']()},this[_0x51cabb(0x63b)][_0x51cabb(0x27c)]),U(this[_0x51cabb(0x6c1)],_0x51cabb(0x193),{'chat':_0x11343b});}async[a0_0x33b913(0x5a3)](_0x4024c6){const _0x4ce934=a0_0x33b913;let _0x1dbe01=await this[_0x4ce934(0x59c)][_0x4ce934(0x24b)]['findOne']({'where':{'_id':_0x4024c6['id']}},this['instance'][_0x4ce934(0x27c)]);_0x4024c6[_0x4ce934(0x140)]=_0x4024c6?.[_0x4ce934(0x140)]&&_0x4024c6['subjectTime']['toString']()[_0x4ce934(0x4ee)]<0xd?_0x4024c6?.[_0x4ce934(0x140)]*0x3e8:_0x4024c6?.['subjectTime']||null,_0x4024c6[_0x4ce934(0x1ef)]=_0x4024c6?.[_0x4ce934(0x1ef)]&&_0x4024c6[_0x4ce934(0x1ef)][_0x4ce934(0x2fe)]()['length']<0xd?_0x4024c6?.[_0x4ce934(0x1ef)]*0x3e8:_0x4024c6?.[_0x4ce934(0x1ef)]||null,_0x4024c6[_0x4ce934(0x2b6)]&&(_0x4024c6['inviteCode']=_0x4ce934(0x3ab)+_0x4024c6['inviteCode']);let _0x7fba11=_0x1dbe01?.[_0x4ce934(0x58d)]?{..._0x1dbe01['groupdata']}:{};Object[_0x4ce934(0x719)](_0x4024c6)[_0x4ce934(0x211)](_0x7f287f=>{_0x7f287f!=='id'&&(_0x7fba11[_0x7f287f]=_0x4024c6[_0x7f287f]);});let _0x24a56a=_0x7fba11[_0x4ce934(0x150)]?.[_0x4ce934(0x788)](_0x49fae5=>_0x49fae5['id']===this[_0x4ce934(0x63b)][_0x4ce934(0x27c)]+_0x4ce934(0x86c)&&_0x49fae5[_0x4ce934(0x24a)])||!0x1;_0x7fba11['isAdmin']=_0x24a56a;let _0x3d1fbf=(!_0x7fba11[_0x4ce934(0x81f)]||_0x24a56a)&&(!_0x7fba11[_0x4ce934(0x515)]||_0x7fba11[_0x4ce934(0x515)]&&_0x7fba11[_0x4ce934(0x3ac)]&&_0x24a56a);_0x7fba11[_0x4ce934(0x1f6)]=_0x3d1fbf;let _0x51fc50={'group':!0x0,'groupdata':_0x7fba11};_0x4024c6[_0x4ce934(0x7c4)]&&(_0x51fc50[_0x4ce934(0x382)]=_0x4024c6['subject']),await this['repository'][_0x4ce934(0x24b)]['updateOne']({'where':{'_id':_0x4024c6['id']}},_0x51fc50,this[_0x4ce934(0x63b)][_0x4ce934(0x27c)],{'upsert':!0x0}),U(this[_0x4ce934(0x6c1)],_0x4ce934(0x193),{'chat':_0x51fc50});}async['updateGroupParticipantsWebhook'](_0x21f8e8){const _0x17d2a5=a0_0x33b913;let _0x12ec2f=await this[_0x17d2a5(0x59c)][_0x17d2a5(0x24b)][_0x17d2a5(0x366)]({'where':{'_id':_0x21f8e8['id']}},this[_0x17d2a5(0x63b)]['wuid']);if(!_0x12ec2f||!_0x12ec2f[_0x17d2a5(0x58d)]){this['logger'][_0x17d2a5(0x4f3)](this[_0x17d2a5(0x6c1)]+'\x20('+this['instance'][_0x17d2a5(0x27c)]+_0x17d2a5(0x2b7)+_0x21f8e8['id']);return;}let _0x4d35ca=await this['repository']['cacheContact'][_0x17d2a5(0x199)](_0x21f8e8[_0x17d2a5(0x150)]),_0x1426f4=[..._0x12ec2f[_0x17d2a5(0x58d)]?.['participants']];switch(_0x21f8e8[_0x17d2a5(0x78e)]){case _0x17d2a5(0x47b):let _0x5a4a0d=_0x4d35ca['map'](_0x2f356d=>({'id':_0x2f356d[_0x17d2a5(0x5f6)],'isAdmin':!0x1,'name':_0x2f356d[_0x17d2a5(0x382)],'imgUrl':_0x2f356d['pictureUrl']}));_0x1426f4=[..._0x1426f4,..._0x5a4a0d];break;case _0x17d2a5(0x4fd):_0x1426f4=_0x1426f4['filter'](_0x454d4c=>!_0x21f8e8[_0x17d2a5(0x150)][_0x17d2a5(0x798)](_0x454d4c['id']));break;case _0x17d2a5(0x166):case _0x17d2a5(0x5d1):_0x1426f4=_0x1426f4[_0x17d2a5(0x6f7)](_0x5cc5a7=>_0x21f8e8[_0x17d2a5(0x150)][_0x17d2a5(0x798)](_0x5cc5a7['id'])?{..._0x5cc5a7,'isAdmin':_0x21f8e8[_0x17d2a5(0x78e)]===_0x17d2a5(0x166)}:_0x5cc5a7);break;}let _0x1ddeef=_0x1426f4[_0x17d2a5(0x4ee)],_0x7f7b81=_0x1426f4[_0x17d2a5(0x788)](_0x225810=>_0x225810['id']===this[_0x17d2a5(0x63b)]['wuid']+_0x17d2a5(0x86c)),_0x2b8de=_0x7f7b81&&_0x1426f4['some'](_0x916e70=>_0x916e70['id']===this[_0x17d2a5(0x63b)][_0x17d2a5(0x27c)]+_0x17d2a5(0x86c)&&_0x916e70['isAdmin']),_0x4da996=_0x7f7b81&&(!_0x12ec2f[_0x17d2a5(0x58d)][_0x17d2a5(0x81f)]||_0x2b8de)&&(!_0x12ec2f[_0x17d2a5(0x58d)][_0x17d2a5(0x515)]||_0x12ec2f[_0x17d2a5(0x58d)][_0x17d2a5(0x515)]&&_0x2b8de);await this[_0x17d2a5(0x59c)][_0x17d2a5(0x24b)][_0x17d2a5(0x6f0)]({'where':{'_id':_0x21f8e8['id']}},{'groupdata':{..._0x12ec2f['groupdata'],'participants':_0x1426f4,'size':_0x1ddeef,'isAdmin':_0x2b8de,'canSendMessage':_0x4da996}},this[_0x17d2a5(0x63b)][_0x17d2a5(0x27c)]),this[_0x17d2a5(0x5e8)][_0x17d2a5(0x4f3)](this[_0x17d2a5(0x6c1)]+'\x20('+this['instance'][_0x17d2a5(0x27c)]+_0x17d2a5(0x6db)+_0x21f8e8['id']+_0x17d2a5(0x75f)+_0x21f8e8[_0x17d2a5(0x78e)]+_0x17d2a5(0x594)+_0x1ddeef+_0x17d2a5(0x56d)+_0x2b8de+_0x17d2a5(0x3c1)+_0x4da996);}async[a0_0x33b913(0x2b6)](_0x1fbbb7,_0x491ca5=!0x0){const _0x435d1b=a0_0x33b913;try{let _0x30861a=await this[_0x435d1b(0x6cd)][_0x435d1b(0x49a)](_0x1fbbb7[_0x435d1b(0x585)]),_0x490d01={'groupdata.inviteCode':_0x435d1b(0x3ab)+_0x30861a};if(_0x491ca5){let _0x23dd89=await this[_0x435d1b(0x59c)][_0x435d1b(0x24b)]['updateOne']({'where':{'_id':_0x1fbbb7[_0x435d1b(0x585)]}},_0x490d01,this[_0x435d1b(0x63b)]['wuid']);}return{'inviteUrl':_0x435d1b(0x3ab)+_0x30861a,'inviteCode':_0x30861a};}catch(_0x559476){let _0x3d9e9f=_0x435d1b(0x604),_0x117ccf=_0x559476 instanceof Error?_0x559476[_0x435d1b(0x65e)]:typeof _0x559476==_0x435d1b(0x24d)?JSON[_0x435d1b(0x590)](_0x559476):_0x559476,_0x1d098a=_0x3d9e9f+':\x20'+_0x117ccf;throw this[_0x435d1b(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x435d1b(0x63b)]['wuid']+_0x435d1b(0x63e)+_0x1d098a),new J(_0x1d098a);}}async[a0_0x33b913(0x210)](_0x4ab422){const _0x4e9dc4=a0_0x33b913;try{let _0x868324=await this[_0x4e9dc4(0x6cd)][_0x4e9dc4(0x853)](_0x4ab422[_0x4e9dc4(0x585)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x868324,'inviteCode':_0x868324};}catch(_0x1a0a52){let _0x25f0a1=_0x4e9dc4(0x30b),_0x295c6a=_0x1a0a52 instanceof Error?_0x1a0a52[_0x4e9dc4(0x65e)]:typeof _0x1a0a52==_0x4e9dc4(0x24d)?JSON['stringify'](_0x1a0a52):_0x1a0a52,_0x38e437=_0x25f0a1+':\x20'+_0x295c6a;throw this[_0x4e9dc4(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x4e9dc4(0x63b)]['wuid']+_0x4e9dc4(0x63e)+_0x38e437),new J(_0x38e437);}}async['joinGroup'](_0x5caa87){const _0x16df73=a0_0x33b913;try{if((0x0,P[_0x16df73(0x203)])(_0x5caa87['inviteCode']))var _0x2a7f44=_0x5caa87[_0x16df73(0x2b6)]['split']('/')[0x3];else var _0x2a7f44=_0x5caa87['inviteCode'];let _0x275c5e=await this[_0x16df73(0x6cd)][_0x16df73(0x608)](_0x2a7f44);return this[_0x16df73(0x5e8)][_0x16df73(0x6e9)](this[_0x16df73(0x6c1)]+'\x20('+this[_0x16df73(0x63b)][_0x16df73(0x27c)]+_0x16df73(0x63e)+_0x275c5e),{'join':!0x0,'inviteCode':_0x2a7f44,'groupJid':_0x275c5e};}catch(_0x43638f){let _0x588a7e=_0x16df73(0x46c),_0x482a94=_0x43638f instanceof Error?_0x43638f[_0x16df73(0x65e)]:typeof _0x43638f==_0x16df73(0x24d)?JSON[_0x16df73(0x590)](_0x43638f):_0x43638f,_0x14bc45=_0x588a7e+':\x20'+_0x482a94;throw this[_0x16df73(0x5e8)][_0x16df73(0x43c)](this[_0x16df73(0x6c1)]+'\x20('+this[_0x16df73(0x63b)][_0x16df73(0x27c)]+_0x16df73(0x63e)+_0x14bc45),new J(_0x14bc45);}}async['findParticipants'](_0x1e47d8){const _0x1a63c0=a0_0x33b913;try{return{'participants':(await this[_0x1a63c0(0x59c)][_0x1a63c0(0x24b)]['findOne']({'where':{'_id':_0x1e47d8['groupJid']}},this[_0x1a63c0(0x63b)]['wuid']))['groupdata']['participants']};}catch(_0x5ce448){let _0x51b685=_0x1a63c0(0x1b1),_0x584e7c=_0x5ce448 instanceof Error?_0x5ce448['message']:typeof _0x5ce448=='object'?JSON['stringify'](_0x5ce448):_0x5ce448,_0x3927b0=_0x51b685+':\x20'+_0x584e7c;throw this[_0x1a63c0(0x5e8)][_0x1a63c0(0x43c)](this[_0x1a63c0(0x6c1)]+'\x20('+this[_0x1a63c0(0x63b)][_0x1a63c0(0x27c)]+_0x1a63c0(0x63e)+_0x3927b0),new J(_0x3927b0);}}async[a0_0x33b913(0x23b)](_0x101b50){const _0x2bf689=a0_0x33b913;try{return await this[_0x2bf689(0x6cd)][_0x2bf689(0x1f1)](_0x101b50[_0x2bf689(0x585)]),{'groupJid':_0x101b50[_0x2bf689(0x585)],'leave':!0x0};}catch(_0x25cbec){let _0x4ebcd2='Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup',_0x484e9f=_0x25cbec instanceof Error?_0x25cbec[_0x2bf689(0x65e)]:typeof _0x25cbec==_0x2bf689(0x24d)?JSON[_0x2bf689(0x590)](_0x25cbec):_0x25cbec,_0x4c8e0a=_0x4ebcd2+':\x20'+_0x484e9f;throw this[_0x2bf689(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x2bf689(0x63b)][_0x2bf689(0x27c)]+_0x2bf689(0x63e)+_0x4c8e0a),new m(_0x4c8e0a);}}async[a0_0x33b913(0x593)](_0x533b6d){const _0x1575af=a0_0x33b913;return await this[_0x1575af(0x2c3)](_0x533b6d[_0x1575af(0x17a)],{'poll':{'name':_0x533b6d[_0x1575af(0x593)]?.['name'],'selectableCount':_0x533b6d[_0x1575af(0x593)][_0x1575af(0x3ef)],'values':_0x533b6d[_0x1575af(0x593)][_0x1575af(0x563)]}},_0x533b6d?.[_0x1575af(0x1a5)]);}async[a0_0x33b913(0x172)](_0x26cc28){const _0x18087e=a0_0x33b913;return await this[_0x18087e(0x2c3)](_0x26cc28[_0x18087e(0x17a)],{'listMessage':{'title':_0x26cc28[_0x18087e(0x172)]['title'],'description':_0x26cc28['listMessage'][_0x18087e(0x3a6)],'buttonText':_0x26cc28[_0x18087e(0x172)]?.[_0x18087e(0x1e7)],'footerText':_0x26cc28['listMessage']?.['footerText'],'sections':_0x26cc28[_0x18087e(0x172)]['sections'],'listType':0x2}},_0x26cc28?.['options']);}async[a0_0x33b913(0x36f)](_0x3c444d){const _0x35c8f9=a0_0x33b913;let _0x3a19f9;if(_0x3c444d['menuMessage'][_0x35c8f9(0x710)]===_0x35c8f9(0x5f2)){let _0x23eca3=_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x720)][_0x35c8f9(0x560)]('\x0a'),_0x50e157='',_0x56d83b='';_0x23eca3!==-0x1?(_0x50e157=_0x3c444d[_0x35c8f9(0x36f)]['text'][_0x35c8f9(0x34f)](0x0,_0x23eca3)[_0x35c8f9(0x1ce)](),_0x56d83b=_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x720)][_0x35c8f9(0x34f)](_0x23eca3+0x1)):_0x56d83b=_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x720)];let _0x59da6d=_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x16a)][_0x35c8f9(0x711)](_0x554558=>_0x554558[_0x35c8f9(0x1ce)]()!==''),_0x6bc6ef=this[_0x35c8f9(0x22b)](_0x59da6d);_0x3a19f9={'listMessage':{'title':_0x50e157,'description':_0x56d83b,'buttonText':_0x3c444d['menuMessage'][_0x35c8f9(0x1e7)]||_0x35c8f9(0x1e6),'footerText':_0x3c444d[_0x35c8f9(0x36f)]['footerText'],'sections':_0x6bc6ef,'listType':0x2}};}else{if(_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x710)]==='poll'){let _0x22afea=_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x16a)]['filter'](_0x4c0b30=>!(_0x4c0b30['startsWith']('[')&&_0x4c0b30[_0x35c8f9(0x2ce)](']'))&&_0x4c0b30[_0x35c8f9(0x1ce)]()!=='')[_0x35c8f9(0x6f7)](_0x37256c=>_0x37256c[_0x35c8f9(0x76e)]('\x0a')[0x0]);_0x3a19f9={'poll':{'name':_0x3c444d[_0x35c8f9(0x36f)][_0x35c8f9(0x720)],'selectableCount':_0x3c444d['menuMessage']['selectableCount']||0x1,'values':_0x22afea}};}}return await this[_0x35c8f9(0x2c3)](_0x3c444d[_0x35c8f9(0x17a)],_0x3a19f9,_0x3c444d?.[_0x35c8f9(0x1a5)]);}[a0_0x33b913(0x22b)](_0x4ed796){const _0x5c7910=a0_0x33b913;let _0x43fa24=[],_0x3b638b={'rows':[]};return _0x4ed796[_0x5c7910(0x211)](_0x40d0c1=>{const _0xd00c5b=_0x5c7910;if(_0x40d0c1['startsWith']('[')&&_0x40d0c1[_0xd00c5b(0x2ce)](']'))_0x3b638b[_0xd00c5b(0x362)][_0xd00c5b(0x4ee)]>0x0&&_0x43fa24[_0xd00c5b(0x41a)](_0x3b638b),_0x3b638b={'title':_0x40d0c1[_0xd00c5b(0x4b8)](0x1,-0x1),'rows':[]};else{let _0x1791d9=_0x40d0c1['split']('\x0a')[_0xd00c5b(0x6f7)](_0x1320e8=>_0x1320e8[_0xd00c5b(0x1ce)]()),_0x345d4f=_0x1791d9[0x0],_0xe2ae67=_0x1791d9[0x1]||null,_0x55e082=_0x1791d9[0x2]||_0x345d4f;_0x3b638b[_0xd00c5b(0x362)]['push']({'title':_0x345d4f,'description':_0xe2ae67,'rowId':_0x55e082});}}),_0x3b638b[_0x5c7910(0x362)][_0x5c7910(0x4ee)]>0x0&&_0x43fa24[_0x5c7910(0x41a)](_0x3b638b),_0x43fa24;}async[a0_0x33b913(0x656)](_0x14c656,_0x5a0a22){const _0x27a9a8=a0_0x33b913;if(await this[_0x27a9a8(0x427)](_0x14c656,!0x0)){let _0x1b7317={'where':{'_id':_0x14c656['id']}},_0x845d14={'status':[_0x5a0a22[_0x27a9a8(0x615)]][0x0]};try{let _0xbe1ba6=await this['repository'][_0x27a9a8(0x65e)][_0x27a9a8(0x784)](_0x1b7317,_0x845d14,this[_0x27a9a8(0x63b)]['wuid']);_0xbe1ba6&&U(this['instanceName'],_0x27a9a8(0x21e),{'message':_0xbe1ba6});}catch{}}}[a0_0x33b913(0x270)](_0x58e19d){const _0x260b8f=a0_0x33b913;let _0x142520=[];return _0x58e19d[_0x260b8f(0x211)](_0x5dc923=>{const _0x1d3e34=_0x260b8f;_0x5dc923[_0x1d3e34(0x387)]&&_0x142520[_0x1d3e34(0x41a)]('['+_0x5dc923[_0x1d3e34(0x387)]+']'),_0x5dc923[_0x1d3e34(0x362)][_0x1d3e34(0x211)](_0x1302f1=>{const _0x4408ce=_0x1d3e34;_0x142520['push'](_0x1302f1[_0x4408ce(0x387)]);});}),_0x142520['join']('|');}[a0_0x33b913(0x79b)](_0x4cf34){const _0x56c6f0=a0_0x33b913;let _0x5cfe95=_0x4cf34['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x56c6f0(0x711)](_0x199e8d=>_0x199e8d[_0x56c6f0(0x798)](_0x56c6f0(0x7ea))||_0x199e8d[_0x56c6f0(0x798)]('EMAIL')),_0x1d50fc='';return _0x5cfe95[_0x56c6f0(0x211)](_0x351e73=>{const _0x597801=_0x56c6f0;let _0x2ae9a2=/TEL(?:.*):(.+)/,_0x307b4f=/EMAIL(?:.*):(.+)/,_0x15898f=_0x351e73[_0x597801(0x328)](_0x2ae9a2),_0x46e7dc=_0x351e73['match'](_0x307b4f);if(_0x15898f){let _0x443d1d=_0x15898f[0x1][_0x597801(0x3d1)](/-| |\+|\(|\)/g,'')[_0x597801(0x1ce)]();_0x1d50fc+=_0x597801(0x35d)+_0x443d1d+'\x0a';}else{if(_0x46e7dc){let _0x369da9=_0x46e7dc[0x1][_0x597801(0x1ce)]();_0x1d50fc+=_0x597801(0x62a)+_0x369da9+'\x0a';}}}),_0x1d50fc[_0x56c6f0(0x1ce)]();}async['updateChatWithMessage'](_0x15da6f,_0x394214,_0x42468a,_0x37d3f3=null){const _0x295014=a0_0x33b913;if(_0x15da6f[_0x295014(0x4cf)])try{let _0x9b7094=_0x394214[_0x295014(0x2cf)][_0x295014(0x41c)][_0x295014(0x3d1)](/:\d{1,2}@/g,'@'),_0x232a1b=_0x394214['key']['fromMe'],_0x30fc7f=_0x9b7094[_0x295014(0x2ce)](_0x295014(0x51b)),_0x165370=_0x394214[_0x295014(0x59d)]?.[_0x295014(0x3d1)](/:\d{1,2}@/g,'@')||'',_0x1843ab=_0x394214[_0x295014(0x2f3)]?.[_0x295014(0x720)]||_0x394214[_0x295014(0x2f3)]?.[_0x295014(0x669)]||_0x394214['message_normalized']?.[_0x295014(0x22a)]||_0x394214['message_normalized']?.['name']||'',_0x55c4dd={'_id':_0x394214[_0x295014(0x5f6)],'remoteJid':_0x232a1b?this[_0x295014(0x63b)][_0x295014(0x27c)]:_0x30fc7f?_0x165370:_0x9b7094,'pushName':_0x232a1b?this[_0x295014(0x63b)][_0x295014(0x84b)]||'Eu':_0x394214[_0x295014(0x4e6)],'text':_0x1843ab,'type':_0x394214[_0x295014(0x5e2)],'when':_0x394214[_0x295014(0x589)]||Date[_0x295014(0x445)]()};_0x37d3f3||(_0x37d3f3=await this['repository']['chat'][_0x295014(0x366)]({'where':{'_id':_0x9b7094}},this[_0x295014(0x63b)]['wuid']));let _0x651a19=_0x37d3f3?_0x232a1b?_0x37d3f3['unreadcount']:(_0x37d3f3['unreadcount']||0x0)+0x1:_0x232a1b?0x0:0x1,_0x134e3a={'lastmsg':_0x394214[_0x295014(0x589)]||Date[_0x295014(0x445)](),'ephemeralExpiration':_0x394214[_0x295014(0x1d1)],'lastMessage':_0x55c4dd,'unreadcount':_0x651a19,..._0x232a1b||_0x30fc7f?{}:{'name':_0x394214[_0x295014(0x4e6)]},..._0x30fc7f?{'group':_0x30fc7f}:{},...!_0x232a1b&&!_0x30fc7f&&_0x394214[_0x295014(0x3b7)]?{'imagechat':_0x394214[_0x295014(0x3b7)]}:{}};if(!_0x30fc7f&&(!_0x37d3f3?.[_0x295014(0x19e)]||!_0x37d3f3[_0x295014(0x19e)][_0x295014(0x414)])&&_0x394214[_0x295014(0x4e6)]&&!_0x232a1b&&(_0x134e3a={..._0x134e3a,'leadInfo.nome':_0x394214[_0x295014(0x4e6)]}),_0x37d3f3?.[_0x295014(0x19e)][_0x295014(0x67d)]||(_0x134e3a={..._0x134e3a,'leadInfo.etiquetas':[]}),_0x37d3f3?.[_0x295014(0x19e)][_0x295014(0x73c)]||(_0x134e3a={..._0x134e3a,'leadInfo.customFields':[]}),_0x37d3f3?.[_0x295014(0x19e)][_0x295014(0x7a5)]||(_0x134e3a={..._0x134e3a,'leadInfo.tags':[]}),_0x37d3f3&&_0x37d3f3?.[_0x295014(0x4e8)]){let _0x42aa53=await this[_0x295014(0x59c)][_0x295014(0x727)][_0x295014(0x345)]({'where':{}},this['instance'][_0x295014(0x27c)]),_0x22f999=new Set(_0x42aa53['map'](_0x50c99d=>_0x50c99d[_0x295014(0x5f6)])),_0x14d75c=(_0x37d3f3[_0x295014(0x19e)]?.[_0x295014(0x67d)]||[])[_0x295014(0x711)](_0x3d1a26=>_0x22f999['has'](_0x3d1a26));_0x134e3a={..._0x134e3a,'imported':!0x1,'leadInfo.etiquetas':_0x14d75c};for(let _0x372ab7 of _0x14d75c)await this['AddChatLabel'](_0x372ab7,_0x9b7094);}if(_0x42468a===_0x295014(0x857)&&_0x232a1b&&this[_0x295014(0x36e)]?.[_0x295014(0x5af)][_0x295014(0x443)]&&_0x1843ab[_0x295014(0x1ce)]()!==this[_0x295014(0x36e)]?.[_0x295014(0x5af)]['stopConversation'][_0x295014(0x1ce)]()){let _0x2de15a=(this[_0x295014(0x36e)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x2af4ee=Date[_0x295014(0x445)]()+_0x2de15a;_0x37d3f3?.[_0x295014(0x19e)]?.[_0x295014(0x537)]===0x0||(_0x134e3a={..._0x134e3a,'leadInfo.desativadoFluxoAte':_0x2af4ee},this[_0x295014(0x5e8)]['verbose'](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)]['wuid']+_0x295014(0x59b)+_0x2af4ee+'.'));}if(_0x1843ab[_0x295014(0x1ce)]()===this[_0x295014(0x36e)]?.['flowConfig'][_0x295014(0x379)]['trim']()){this[_0x295014(0x5e8)][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)][_0x295014(0x27c)]+_0x295014(0x7ba)+_0x1843ab);let _0x459038=Date[_0x295014(0x445)]();this[_0x295014(0x36e)]?.[_0x295014(0x5af)][_0x295014(0x835)]===0x0?_0x134e3a={..._0x134e3a,'leadInfo.desativadoFluxoAte':_0x459038+0x7591f6200}:_0x134e3a={..._0x134e3a,'leadInfo.desativadoFluxoAte':_0x459038+this['AutomateSystem']?.[_0x295014(0x5af)][_0x295014(0x835)]*0x3c*0x3e8};}if(_0x37d3f3=await this[_0x295014(0x59c)][_0x295014(0x24b)][_0x295014(0x6f0)]({'where':{'_id':_0x9b7094}},_0x134e3a,this[_0x295014(0x63b)][_0x295014(0x27c)],{'new':!0x0,'upsert':!0x0}),_0x37d3f3)U(this['instanceName'],_0x295014(0x193),{'chat':_0x37d3f3});else{this[_0x295014(0x5e8)]['error'](this[_0x295014(0x6c1)]+'\x20('+this['instance'][_0x295014(0x27c)]+_0x295014(0x2c6));return;}if(_0x232a1b)return this['logger'][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)][_0x295014(0x27c)]+_0x295014(0x263)),null;if(!this[_0x295014(0x36e)]?.['flowConfig'][_0x295014(0x443)])return this[_0x295014(0x5e8)][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)][_0x295014(0x27c)]+_0x295014(0x4f5)),null;if(_0x37d3f3['_id'][_0x295014(0x798)](_0x295014(0x51b))&&this[_0x295014(0x36e)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x295014(0x5e8)][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this['instance'][_0x295014(0x27c)]+_0x295014(0x67c)),null;if(_0x37d3f3[_0x295014(0x19e)]){if(_0x37d3f3[_0x295014(0x19e)][_0x295014(0x537)]===0x0||_0x37d3f3['leadInfo'][_0x295014(0x3b2)])return this[_0x295014(0x5e8)]['verbose'](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)]['wuid']+_0x295014(0x460)+_0x9b7094+_0x295014(0x225)),null;if(_0x37d3f3[_0x295014(0x19e)][_0x295014(0x537)]>Date[_0x295014(0x445)]()&&!_0x394214[_0x295014(0x2f3)]?.['vote'])return this[_0x295014(0x5e8)][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)]['wuid']+_0x295014(0x750)+new Date(_0x37d3f3[_0x295014(0x19e)][_0x295014(0x537)])[_0x295014(0x7f0)]()+',\x20saindo.'),null;}this[_0x295014(0x5e8)][_0x295014(0x6e9)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)][_0x295014(0x27c)]+_0x295014(0x495)),this[_0x295014(0x7a2)](_0x394214,_0x42468a);}catch(_0x2bee69){let _0x34b548='Erro\x20na\x20funo\x20updateChatWithMessage:\x20',_0x761d99=_0x2bee69 instanceof Error?_0x2bee69[_0x295014(0x65e)]:typeof _0x2bee69==_0x295014(0x24d)?JSON['stringify'](_0x2bee69):_0x2bee69,_0x2c223a=_0x34b548+':\x20'+_0x761d99;return this[_0x295014(0x5e8)][_0x295014(0x43c)](this[_0x295014(0x6c1)]+'\x20('+this[_0x295014(0x63b)][_0x295014(0x27c)]+'):\x20'+_0x2c223a),null;}}async['upsertChats'](_0x420853,_0x43f864){const _0x5323c8=a0_0x33b913;if(_0x43f864[_0x5323c8(0x4cf)]){let _0x4fabf8=_0x420853[_0x5323c8(0x6f7)](async _0x11fd9a=>{const _0x58759a=_0x5323c8;try{let _0x3cf702={'_id':_0x11fd9a[_0x58759a(0x5f6)],'owner':_0x11fd9a['owner'],'lastcache':0x0};if(Object[_0x58759a(0x719)](_0x11fd9a)[_0x58759a(0x211)](_0x201665=>{_0x11fd9a[_0x201665]!==null&&(_0x3cf702[_0x201665]=_0x11fd9a[_0x201665]);}),_0x3cf702[_0x58759a(0x84a)]===null&&(_0x3cf702[_0x58759a(0x84a)]=_0x58759a(0x6a4)),Object[_0x58759a(0x719)](_0x3cf702)[_0x58759a(0x4ee)]>0x0)return await this[_0x58759a(0x59c)][_0x58759a(0x24b)][_0x58759a(0x6f0)]({'where':{'_id':_0x11fd9a[_0x58759a(0x5f6)]}},_0x3cf702,this[_0x58759a(0x63b)]['wuid']);}catch(_0x14a1e9){let _0x4940c4=_0x58759a(0x5fc)+_0x11fd9a[_0x58759a(0x5f6)],_0x5206e6=_0x14a1e9 instanceof Error?_0x14a1e9['message']:typeof _0x14a1e9==_0x58759a(0x24d)?JSON[_0x58759a(0x590)](_0x14a1e9):_0x14a1e9,_0x2938bb=_0x4940c4+':\x20'+_0x5206e6;return this[_0x58759a(0x5e8)][_0x58759a(0x43c)](this['instanceName']+'\x20('+this[_0x58759a(0x63b)][_0x58759a(0x27c)]+'):\x20'+_0x2938bb),null;}}),_0x54f780=(await Promise[_0x5323c8(0x739)](_0x4fabf8))[_0x5323c8(0x711)](_0x577232=>_0x577232!==null)[_0x5323c8(0x4ee)];this[_0x5323c8(0x5e8)][_0x5323c8(0x6e9)](this[_0x5323c8(0x6c1)]+'\x20('+this[_0x5323c8(0x63b)][_0x5323c8(0x27c)]+'):\x20'+_0x54f780+_0x5323c8(0x86f)+this[_0x5323c8(0x63b)][_0x5323c8(0x27c)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x316dd2){const _0x19b368=a0_0x33b913;this['logger'][_0x19b368(0x6e9)](this[_0x19b368(0x6c1)]+'\x20('+this[_0x19b368(0x63b)][_0x19b368(0x27c)]+'):\x20Ler\x20mensagem');let _0x25d416={'readMessages':[{'remoteJid':_0x316dd2[_0x19b368(0x5ca)]['lastReceivedMessage']['key'][_0x19b368(0x41c)],'fromMe':_0x316dd2[_0x19b368(0x5ca)][_0x19b368(0x39b)]['key']['fromMe'],'id':_0x316dd2['chatLog'][_0x19b368(0x39b)][_0x19b368(0x2cf)]['id']}]};await this['markMessageAsRead'](_0x25d416);}async[a0_0x33b913(0x7a2)](_0x15a109,_0x20b2cf){const _0xb16f28=a0_0x33b913;try{let {key:_0x1dda5a,message_normalized:_0xf044c8}=_0x15a109,_0x1d3188=_0xf044c8,_0x50d61c=_0xf044c8[_0xb16f28(0x720)]||_0xf044c8[_0xb16f28(0x669)]||_0xf044c8['vote']||_0xf044c8['name']||'',_0x4422f3=_0x1dda5a[_0xb16f28(0x41c)],_0x217782=null,_0x516da3=this[_0xb16f28(0x36e)][_0xb16f28(0x141)][_0xb16f28(0x345)](_0x1ea517=>_0x1ea517[_0xb16f28(0x5ea)]&&_0x50d61c[_0xb16f28(0x798)](_0x1ea517[_0xb16f28(0x5ea)]));if(_0x516da3&&_0x20b2cf===_0xb16f28(0x857)){let _0x1abaf8=await this[_0xb16f28(0x59c)]['flow']['findOne']({'where':{'_id':_0x516da3[_0xb16f28(0x5f6)]}});if(this[_0xb16f28(0x5e8)][_0xb16f28(0x6e9)](this[_0xb16f28(0x6c1)]+'\x20('+this[_0xb16f28(0x63b)][_0xb16f28(0x27c)]+'):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x1abaf8&&_0x1abaf8['whoCanUse']?.['includes'](this[_0xb16f28(0x63b)][_0xb16f28(0x27c)]))_0x217782=await this[_0xb16f28(0x579)](_0x1abaf8,_0x1dda5a,_0x1d3188);else return this['logger']['verbose'](this[_0xb16f28(0x6c1)]+'\x20('+this['instance'][_0xb16f28(0x27c)]+'):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20voc\x20no\x20tem\x20permisso\x20para\x20us-lo'),null;}else this[_0xb16f28(0x5e8)][_0xb16f28(0x6e9)](this[_0xb16f28(0x6c1)]+'\x20('+this[_0xb16f28(0x63b)][_0xb16f28(0x27c)]+_0xb16f28(0x2e7));if(_0x217782=await this[_0xb16f28(0x275)](_0x4422f3,_0x1d3188),_0x217782){this[_0xb16f28(0x5e8)][_0xb16f28(0x6e9)](this[_0xb16f28(0x6c1)]+'\x20('+this[_0xb16f28(0x63b)][_0xb16f28(0x27c)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1dda5a[_0xb16f28(0x3c9)]&&_0x217782[_0xb16f28(0x879)]&&this[_0xb16f28(0x4e5)](_0x217782);let _0x133e04=await this['NextBlock'](_0x217782);_0x133e04&&await this[_0xb16f28(0x2bd)](_0x217782,_0x133e04);}}catch(_0x4ad5ae){this[_0xb16f28(0x5e8)][_0xb16f28(0x43c)](this[_0xb16f28(0x6c1)]+'\x20('+this['instance'][_0xb16f28(0x27c)]+_0xb16f28(0x7b4)+(_0x4ad5ae instanceof Error?_0x4ad5ae[_0xb16f28(0x65e)]:JSON[_0xb16f28(0x590)](_0x4ad5ae,null,0x2)));}}[a0_0x33b913(0x334)](_0x1c0b38,_0x36c9bd='',_0x4e8db6={}){const _0x810331=a0_0x33b913;return typeof _0x1c0b38!=_0x810331(0x24d)||_0x1c0b38===null?(_0x36c9bd&&(_0x4e8db6[_0x36c9bd]=_0x1c0b38),_0x4e8db6):(Object[_0x810331(0x1e9)](_0x1c0b38)[_0x810331(0x211)](([_0x24beda,_0x184486])=>{const _0x1014f2=_0x810331;let _0x2f1702=_0x36c9bd?_0x36c9bd+'.'+_0x24beda:'_'+_0x24beda;Array[_0x1014f2(0x607)](_0x184486)?_0x184486[_0x1014f2(0x211)]((_0x51ed80,_0x401536)=>{const _0x370892=_0x1014f2;this[_0x370892(0x334)](_0x51ed80,_0x2f1702+'['+_0x401536+']',_0x4e8db6);}):typeof _0x184486=='object'&&_0x184486!==null?this['flattenObject'](_0x184486,_0x2f1702,_0x4e8db6):_0x4e8db6[_0x2f1702]=String(_0x184486);}),_0x4e8db6);}['variablesToObject'](_0x1cfcd2){const _0x3cbbf3=a0_0x33b913;let _0x8f6e35={};for(let _0x4838d5 of _0x1cfcd2)typeof _0x4838d5['name']==_0x3cbbf3(0x63a)&&typeof _0x4838d5[_0x3cbbf3(0x804)]==_0x3cbbf3(0x63a)&&(_0x8f6e35[_0x4838d5[_0x3cbbf3(0x382)]]=_0x4838d5[_0x3cbbf3(0x804)]);return _0x8f6e35;}async[a0_0x33b913(0x1e4)](_0x1da442){const _0x51d0ec=a0_0x33b913;if(!this[_0x51d0ec(0x36e)]?.[_0x51d0ec(0x5af)][_0x51d0ec(0x443)]||_0x1da442[_0x51d0ec(0x615)]!=='open'&&_0x1da442[_0x51d0ec(0x339)]==='')return null;let _0x543123=_0x1da442['chatLog'][_0x51d0ec(0x655)]||_0x51d0ec(0x546);typeof _0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x828)]>'u'&&(_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x828)]=!0x0);let _0x15870d=_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x828)];this[_0x51d0ec(0x5e8)][_0x51d0ec(0x6e9)](this[_0x51d0ec(0x6c1)]+'\x20('+this['instance']['wuid']+_0x51d0ec(0x1fa)+_0x543123+_0x51d0ec(0x192)+_0x15870d);let _0x25d1bc=_0x543123===_0x51d0ec(0x546)?_0x1da442['blocks'][_0x51d0ec(0x345)](_0xf39394=>_0xf39394['type']===_0x51d0ec(0x546)):_0x1da442['blocks'][_0x51d0ec(0x345)](_0x542dca=>_0x542dca['_id'][_0x51d0ec(0x2fe)]()===_0x543123[_0x51d0ec(0x2fe)]());if(!_0x25d1bc)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x51d0ec(0x63b)][_0x51d0ec(0x27c)]+_0x51d0ec(0x33e)+_0x543123),null;let _0x5d5e44={'_pushName':_0x1da442?.[_0x51d0ec(0x5ca)]?.['lastReceivedMessage']?.['pushName']||'','_sender':this[_0x51d0ec(0x63b)]['wuid']||'',..._0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x15f)]},_0x374a46=null;if(_0x1da442[_0x51d0ec(0x339)]){let _0x192d68=_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x39b)][_0x51d0ec(0x22a)],_0x1b1a98=_0x1da442[_0x51d0ec(0x4bf)][_0x51d0ec(0x345)](_0x42824c=>_0x42824c[_0x51d0ec(0x5d2)]===_0x192d68);if(_0x1b1a98){let _0x2a6520=_0x1b1a98[_0x51d0ec(0x3d3)];if(_0x374a46=_0x1da442[_0x51d0ec(0x396)][_0x51d0ec(0x345)](_0x124283=>_0x124283[_0x51d0ec(0x6b6)]===_0x2a6520&&_0x124283[_0x51d0ec(0x707)]===0x1),_0x25d1bc[_0x51d0ec(0x6f4)][_0x51d0ec(0x67b)]){let _0x5d5002={'id':_0x1da442[_0x51d0ec(0x339)],'remoteJid':_0x1da442['remoteJid'],'fromMe':!0x0};await this[_0x51d0ec(0x587)](_0x5d5002);}if(_0x25d1bc['uazapi']['pollOnReplyDelete']&&_0x25d1bc[_0x51d0ec(0x6f4)][_0x51d0ec(0x72d)]&&_0x25d1bc[_0x51d0ec(0x6f4)][_0x51d0ec(0x4c4)]===_0x51d0ec(0x2f6)){let _0x39b08e={'number':_0x1da442[_0x51d0ec(0x41c)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x1da442['waitingMenu_text']+_0x51d0ec(0x728)+_0x192d68}};await this[_0x51d0ec(0x817)](_0x39b08e);}_0x1da442['status']='open',_0x1da442[_0x51d0ec(0x339)]='',_0x1da442['waitingMenu_text']='',_0x1da442[_0x51d0ec(0x4bf)]=[];}else{this['logger'][_0x51d0ec(0x6e9)](this[_0x51d0ec(0x6c1)]+'\x20('+this[_0x51d0ec(0x63b)]['wuid']+_0x51d0ec(0x777));let _0x4022c4={'activatedCount':_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x821)]['filter'](_0x1df8c4=>String(_0x1df8c4[_0x51d0ec(0x3a7)])===String(_0x543123))[_0x51d0ec(0x4ee)],'moreLogs':['No\x20respondeu\x20com\x20a\x20enquete.']};if(_0x25d1bc[_0x51d0ec(0x6f4)][_0x51d0ec(0x171)]){let _0x1b465b={'number':_0x1da442['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x25d1bc[_0x51d0ec(0x6f4)]['pollErrorMessage']}};await this[_0x51d0ec(0x817)](_0x1b465b);}if(_0x25d1bc[_0x51d0ec(0x7f4)]!==void 0x0&&_0x4022c4[_0x51d0ec(0x4d6)]>=_0x25d1bc[_0x51d0ec(0x7f4)]){let _0x48be90=Date[_0x51d0ec(0x445)](),_0x449803=_0x25d1bc[_0x51d0ec(0x4af)]??0xa;isNaN(_0x449803)&&(_0x449803=0xa);let _0x389d91=_0x48be90+_0x449803*0x3c*0x3e8;_0x4022c4['newStoppedUntil']=_0x389d91,_0x4022c4[_0x51d0ec(0x871)]['push'](_0x51d0ec(0x364)),this[_0x51d0ec(0x438)](_0x1da442,_0x389d91),_0x1da442[_0x51d0ec(0x339)]='',_0x1da442[_0x51d0ec(0x2f4)]='',_0x1da442[_0x51d0ec(0x4bf)]=[];}return this['updateConversation'](_0x1da442,_0x25d1bc,_0x4022c4,!0x0),null;}}if(_0x15870d&&_0x25d1bc[_0x51d0ec(0x3d3)]&&!_0x1da442['waitingMenu_id']){let _0x157518=_0x1da442[_0x51d0ec(0x396)]['filter'](_0x1470e5=>_0x1470e5['groupId'][_0x51d0ec(0x2fe)]()===_0x25d1bc['next_groupId'][_0x51d0ec(0x2fe)]())[_0x51d0ec(0x81b)]((_0x2e2c7f,_0x357778)=>_0x2e2c7f['order']-_0x357778[_0x51d0ec(0x707)]);_0x157518[_0x51d0ec(0x4ee)]>0x0&&(_0x374a46=_0x157518[0x0]);}if(!_0x374a46){let _0x39fc51=_0x25d1bc['groupId'],_0x8d1405=_0x1da442[_0x51d0ec(0x396)][_0x51d0ec(0x711)](_0x352552=>_0x352552['groupId']===_0x39fc51&&_0x352552[_0x51d0ec(0x707)]>_0x25d1bc[_0x51d0ec(0x707)])['sort']((_0x305d7f,_0x2bbb26)=>_0x305d7f[_0x51d0ec(0x707)]-_0x2bbb26[_0x51d0ec(0x707)]);_0x8d1405[_0x51d0ec(0x4ee)]>0x0&&(_0x374a46=_0x8d1405[0x0]);}if(!_0x374a46)return _0x1da442[_0x51d0ec(0x615)]=_0x51d0ec(0x584),null;_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x15f)]=_0x5d5e44;let _0x3c733d=JSON['parse'](JSON['stringify'](_0x374a46));return this['replaceVariablesInObject'](_0x3c733d,_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x15f)]),_0x1da442['chatLog'][_0x51d0ec(0x655)]=_0x3c733d['_id'],_0x1da442[_0x51d0ec(0x5ca)][_0x51d0ec(0x828)]=!0x0,_0x3c733d;}['replaceVariables'](_0x52140d,_0x24d87d){return _0x52140d['replace'](/\{\{([^}]+)\}\}/g,(_0x24ecdb,_0x31cd94)=>_0x24d87d[_0x31cd94]||'');}[a0_0x33b913(0x1ed)](_0x2cf10d,_0x2234d7){const _0x1faf69=a0_0x33b913;for(let _0x143e43 in _0x2cf10d)typeof _0x2cf10d[_0x143e43]==_0x1faf69(0x63a)?_0x2cf10d[_0x143e43]=this[_0x1faf69(0x1f4)](_0x2cf10d[_0x143e43],_0x2234d7):typeof _0x2cf10d[_0x143e43]==_0x1faf69(0x24d)&&this[_0x1faf69(0x1ed)](_0x2cf10d[_0x143e43],_0x2234d7);}async['goNextblock'](_0x26d3de,_0x4355f1){const _0x24294e=a0_0x33b913;let _0x363a1d=_0x4355f1[_0x24294e(0x5f6)];if(_0x26d3de[_0x24294e(0x5ca)]&&_0x26d3de['chatLog'][_0x24294e(0x821)]){let _0x5125f0=_0x26d3de[_0x24294e(0x5ca)][_0x24294e(0x821)][_0x24294e(0x711)](_0x2b78d9=>String(_0x2b78d9[_0x24294e(0x3a7)])===String(_0x363a1d))[_0x24294e(0x259)]();if(_0x5125f0&&_0x5125f0[_0x24294e(0x43c)]&&_0x4355f1[_0x24294e(0x64b)])return _0x26d3de['status']=_0x24294e(0x584),await this[_0x24294e(0x4c5)](_0x26d3de),null;}if(_0x4355f1[_0x24294e(0x710)]===_0x24294e(0x6f4)&&_0x4355f1[_0x24294e(0x6f4)][_0x24294e(0x647)]==='sendPoll'&&_0x26d3de[_0x24294e(0x339)])return _0x26d3de[_0x24294e(0x5ca)][_0x24294e(0x655)]=_0x363a1d,await this['saveConversationToDatabase'](_0x26d3de),null;let _0x2a25ca=await this[_0x24294e(0x1e4)](_0x26d3de);if(_0x26d3de['chatLog']&&_0x26d3de[_0x24294e(0x5ca)]['blockLogs']){let _0x3ba45c=_0x26d3de['chatLog'][_0x24294e(0x821)][_0x24294e(0x711)](_0x296450=>String(_0x296450['blockId'])===String(_0x363a1d))[_0x24294e(0x4ee)];if(_0x4355f1['maxActives']!==void 0x0&&_0x3ba45c>=_0x4355f1[_0x24294e(0x7f4)]){let _0x53aacb=Date[_0x24294e(0x445)](),_0x32b3b9=_0x4355f1[_0x24294e(0x4af)]??0xa;isNaN(_0x32b3b9)&&(_0x32b3b9=0xa);let _0x22625c=_0x53aacb+_0x32b3b9*0x3c*0x3e8,_0x4de9c0={'newStoppedUntil':_0x22625c};return this[_0x24294e(0x438)](_0x26d3de,_0x22625c),this[_0x24294e(0x3aa)](_0x26d3de,_0x4355f1,_0x4de9c0,!0x0),null;}}_0x2a25ca&&_0x2a25ca[_0x24294e(0x710)]!=='save'&&await this[_0x24294e(0x2bd)](_0x26d3de,_0x2a25ca),_0x2a25ca||await this[_0x24294e(0x4c5)](_0x26d3de),_0x2a25ca&&_0x2a25ca['type']===_0x24294e(0x79a)&&(_0x26d3de[_0x24294e(0x5ca)][_0x24294e(0x655)]=_0x363a1d,await this[_0x24294e(0x4c5)](_0x26d3de));}async[a0_0x33b913(0x2bd)](_0x392635,_0xce2fc2){const _0x397870=a0_0x33b913;try{let _0x11d77d=_0xce2fc2['type'];this[_0x397870(0x5e8)][_0x397870(0x6e9)](this[_0x397870(0x6c1)]+'\x20('+this['instance'][_0x397870(0x27c)]+_0x397870(0x634)+_0x11d77d);let _0x1697d8={'uazapi':()=>this['processUazapi'](_0x392635,_0xce2fc2),'save':()=>this[_0x397870(0x6a6)](_0x392635,_0xce2fc2),'stop':()=>this[_0x397870(0x379)](_0x392635,_0xce2fc2),'condition':()=>this['processConditions'](_0x392635,_0xce2fc2),'varedit':()=>this[_0x397870(0x7e7)](_0x392635,_0xce2fc2),'apirequest':()=>this[_0x397870(0x52e)](_0x392635,_0xce2fc2),'goToFlow':()=>this[_0x397870(0x2dd)](_0x392635,_0xce2fc2),'scheduleFlow':()=>this['processScheduleFlow'](_0x392635,_0xce2fc2),'awaitSeconds':()=>this[_0x397870(0x4d0)](_0x392635,_0xce2fc2),'clearVariables':()=>this[_0x397870(0x6a1)](_0x392635,_0xce2fc2)}[_0x11d77d];_0x1697d8&&await _0x1697d8();}catch(_0x525bad){this['logger'][_0x397870(0x43c)](this['instanceName']+'\x20('+this[_0x397870(0x63b)][_0x397870(0x27c)]+_0x397870(0x74a)+(_0x525bad instanceof Error?_0x525bad['message']:JSON[_0x397870(0x590)](_0x525bad,null,0x2)));}}async[a0_0x33b913(0x4d0)](_0x3c511e,_0x31f4d6){const _0x12a5b9=a0_0x33b913;if(this[_0x12a5b9(0x5e8)][_0x12a5b9(0x6e9)](this[_0x12a5b9(0x6c1)]+'\x20('+this[_0x12a5b9(0x63b)][_0x12a5b9(0x27c)]+'):\x20Entrou\x20na\x20funo\x20processawaitSeconds'),!_0x3c511e||!_0x31f4d6)return this['logger'][_0x12a5b9(0x43c)](this[_0x12a5b9(0x6c1)]+'\x20('+this[_0x12a5b9(0x63b)]['wuid']+_0x12a5b9(0x67a)),null;let _0x56a5fd=+_0x31f4d6[_0x12a5b9(0x461)];isNaN(_0x56a5fd)&&(_0x56a5fd=0x0),_0x56a5fd=Math['min'](_0x56a5fd,0x3c),await(0x0,w[_0x12a5b9(0x29d)])(_0x56a5fd*0x3e8);let _0x294296={'moreLogs':['Pausado\x20por\x20'+_0x56a5fd+_0x12a5b9(0x75c)]};return await this[_0x12a5b9(0x3aa)](_0x3c511e,_0x31f4d6,_0x294296),_0x56a5fd;}async['processclearVariables'](_0x4bdc99,_0x3cdc58){const _0x5b5241=a0_0x33b913;if(this[_0x5b5241(0x5e8)][_0x5b5241(0x6e9)](this[_0x5b5241(0x6c1)]+'\x20('+this[_0x5b5241(0x63b)]['wuid']+_0x5b5241(0x629)),!_0x4bdc99||!_0x3cdc58)return this[_0x5b5241(0x5e8)][_0x5b5241(0x43c)](this['instanceName']+'\x20('+this[_0x5b5241(0x63b)]['wuid']+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x5ab522=[];if(_0x3cdc58[_0x5b5241(0x4ae)][_0x5b5241(0x1ce)]()==='[all]'){let _0x5a5722=[_0x5b5241(0x146),_0x5b5241(0x71c),_0x5b5241(0x7c7),'_activedCount',_0x5b5241(0x380),_0x5b5241(0x5f6),'_fromMe'];_0x5ab522=Object[_0x5b5241(0x719)](_0x4bdc99[_0x5b5241(0x5ca)]['realVariables'])[_0x5b5241(0x711)](_0x242db7=>_0x242db7[_0x5b5241(0x3fc)]('_')&&!_0x5a5722[_0x5b5241(0x798)](_0x242db7));}else _0x5ab522=_0x3cdc58[_0x5b5241(0x4ae)]['split']('|')['map'](_0x373ec0=>(_0x373ec0=_0x373ec0[_0x5b5241(0x3d1)](/[{}]/g,'')[_0x5b5241(0x1ce)](),_0x373ec0[_0x5b5241(0x3fc)]('_')?_0x373ec0:'_'+_0x373ec0));let _0x35e8c5=[];_0x5ab522['forEach'](_0x4c6314=>{const _0x680f35=_0x5b5241;_0x4c6314 in _0x4bdc99[_0x680f35(0x5ca)][_0x680f35(0x15f)]&&(delete _0x4bdc99['chatLog']['realVariables'][_0x4c6314],_0x35e8c5[_0x680f35(0x41a)](_0x4c6314));}),_0x35e8c5[_0x5b5241(0x4ee)]>0x0?this['logger'][_0x5b5241(0x6e9)](this[_0x5b5241(0x6c1)]+'\x20('+this[_0x5b5241(0x63b)][_0x5b5241(0x27c)]+_0x5b5241(0x62c)+_0x35e8c5[_0x5b5241(0x7f8)](',\x20')):this[_0x5b5241(0x5e8)][_0x5b5241(0x6e9)](this[_0x5b5241(0x6c1)]+'\x20('+this[_0x5b5241(0x63b)][_0x5b5241(0x27c)]+_0x5b5241(0x3e8));let _0x153866={'moreLogs':[_0x5b5241(0x305)+_0x35e8c5[_0x5b5241(0x7f8)](',\x20')]};return await this[_0x5b5241(0x3aa)](_0x4bdc99,_0x3cdc58,_0x153866),null;}async['processScheduleFlow'](_0x453d56,_0xf92be2){const _0x334f59=a0_0x33b913;if(this[_0x334f59(0x5e8)][_0x334f59(0x6e9)](this[_0x334f59(0x6c1)]+'\x20('+this[_0x334f59(0x63b)][_0x334f59(0x27c)]+_0x334f59(0x522)),!_0x453d56||!_0xf92be2)return this['logger'][_0x334f59(0x43c)](this['instanceName']+'\x20('+this[_0x334f59(0x63b)]['wuid']+_0x334f59(0x67a)),null;let _0x141319=_0x453d56[_0x334f59(0x41c)];_0xf92be2[_0x334f59(0x67f)][_0x334f59(0x41c)]&&_0xf92be2[_0x334f59(0x67f)]['remoteJid'][_0x334f59(0x1ce)]()!==''&&(_0x141319=_0xf92be2[_0x334f59(0x6f4)][_0x334f59(0x41c)][_0x334f59(0x1ce)]());let _0x3701e0=_0xf92be2[_0x334f59(0x67f)][_0x334f59(0x86b)]*0xea60,_0x1014ad=Date[_0x334f59(0x445)]()+_0x3701e0,_0x65d457={'status':_0x334f59(0x293),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x453d56['name'],'remoteJids':[_0x141319],'when':_0x1014ad,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x334f59(0x223),'flowName':_0xf92be2[_0x334f59(0x67f)][_0x334f59(0x4c2)]};this['editScheduleMessage'](_0x65d457);let _0x4373ea=await this[_0x334f59(0x1e4)](_0x453d56);_0x4373ea&&await this['processblock'](_0x453d56,_0x4373ea);}async[a0_0x33b913(0x2dd)](_0x27d65e,_0x226c48){const _0x287b80=a0_0x33b913;if(this[_0x287b80(0x5e8)][_0x287b80(0x6e9)](this[_0x287b80(0x6c1)]+'\x20('+this[_0x287b80(0x63b)][_0x287b80(0x27c)]+_0x287b80(0x4cc)),!_0x27d65e||!_0x226c48)return this[_0x287b80(0x5e8)][_0x287b80(0x43c)](this[_0x287b80(0x6c1)]+'\x20('+this['instance'][_0x287b80(0x27c)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;await this[_0x287b80(0x3aa)](_0x27d65e,_0x226c48,{},!0x0,!0x0);let _0x2bf967=_0x226c48['goToFlow'];_0x27d65e=await this['createConversationforgoToFlow'](_0x2bf967,_0x27d65e[_0x287b80(0x41c)],_0x27d65e[_0x287b80(0x5ca)][_0x287b80(0x15f)]);let _0xb960bf=await this['NextBlock'](_0x27d65e);_0xb960bf&&await this[_0x287b80(0x2bd)](_0x27d65e,_0xb960bf);}async[a0_0x33b913(0x6c9)](_0x371b80,_0x2aa3df,_0x5dd542){const _0x24592e=a0_0x33b913;this[_0x24592e(0x5e8)]['verbose'](this[_0x24592e(0x6c1)]+'\x20('+this[_0x24592e(0x63b)][_0x24592e(0x27c)]+_0x24592e(0x78b));try{let _0x3059b4=this[_0x24592e(0x36e)][_0x24592e(0x141)]['find'](_0xeb4439=>_0xeb4439[_0x24592e(0x5f6)]===_0x371b80);_0x3059b4||this[_0x24592e(0x5e8)][_0x24592e(0x43c)](this[_0x24592e(0x6c1)]+'\x20('+this[_0x24592e(0x63b)][_0x24592e(0x27c)]+_0x24592e(0x533)+_0x371b80+'\x27\x20no\x20encontrado\x20na\x20memria');let _0x4e38e0=await this[_0x24592e(0x59c)]['flow'][_0x24592e(0x366)]({'where':{'_id':_0x3059b4['_id']}});if(!_0x4e38e0||!_0x4e38e0[_0x24592e(0x693)]?.[_0x24592e(0x798)](this[_0x24592e(0x63b)][_0x24592e(0x27c)]))throw this[_0x24592e(0x5e8)][_0x24592e(0x43c)](this[_0x24592e(0x6c1)]+'\x20('+this['instance'][_0x24592e(0x27c)]+'):\x20Flow\x20\x27'+_0x371b80+_0x24592e(0x25c)),new m('Flow\x20\x27'+_0x371b80+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');let _0x28decf=require('mongodb')[_0x24592e(0x58f)],_0x417c37=Date[_0x24592e(0x445)](),_0x23f5cb='start',_0x900ebd={},_0x2db2bd={},_0x32fc34=this[_0x24592e(0x36e)][_0x24592e(0x141)]['find'](_0x1339d6=>_0x1339d6[_0x24592e(0x5f6)]===_0x4e38e0['_id']?.['toString']()),_0x10992d=_0x32fc34?.['minutesToClose']??_0x4e38e0[_0x24592e(0x823)]??0x0,_0xecf0ba=_0x32fc34?.[_0x24592e(0x879)]??_0x4e38e0['readMessages']??!0x1,_0x33f42c={'flowId':_0x3059b4[_0x24592e(0x5f6)],'readMessages':_0x3059b4[_0x24592e(0x879)],..._0x4e38e0,'chatLog':null},_0x1ccbfa={'lastReceivedMessage':_0x900ebd,'lastSendMessage':_0x2db2bd,'lastBlockId':_0x23f5cb,'lastCondition':!0x0,'realVariables':_0x5dd542};_0x33f42c[_0x24592e(0x5ca)]=_0x1ccbfa,_0x33f42c[_0x24592e(0x5ca)][_0x24592e(0x15f)]={..._0x5dd542},delete _0x33f42c[_0x24592e(0x5f6)],_0x33f42c['_id']=new _0x28decf(),_0x33f42c[_0x24592e(0x874)]=_0x417c37,_0x33f42c[_0x24592e(0x615)]=_0x24592e(0x6c3),_0x33f42c['remoteJid']=_0x2aa3df,_0x33f42c[_0x24592e(0x823)]=_0x10992d,_0x33f42c['readMessages']=_0xecf0ba;let _0xc60103=await this[_0x24592e(0x59c)][_0x24592e(0x555)][_0x24592e(0x6f0)](_0x33f42c[_0x24592e(0x5f6)],_0x33f42c,this[_0x24592e(0x63b)][_0x24592e(0x27c)]);return this[_0x24592e(0x5e8)]['verbose'](this[_0x24592e(0x6c1)]+'\x20('+this[_0x24592e(0x63b)][_0x24592e(0x27c)]+_0x24592e(0x38a)),_0xc60103?_0x33f42c:null;}catch(_0x3a0a28){let _0x210f12='Erro\x20ao\x20copiar\x20o\x20documento',_0x364c3d=_0x3a0a28 instanceof Error?_0x3a0a28[_0x24592e(0x65e)]:typeof _0x3a0a28=='object'?JSON[_0x24592e(0x590)](_0x3a0a28):_0x3a0a28,_0x678467=_0x210f12+':\x20'+_0x364c3d;throw this[_0x24592e(0x5e8)]['error'](this[_0x24592e(0x6c1)]+'\x20('+this[_0x24592e(0x63b)]['wuid']+_0x24592e(0x63e)+_0x678467),new m(_0x678467);}}async[a0_0x33b913(0x52e)](_0x17b3e2,_0x4adc4f){const _0xfa1eee=a0_0x33b913;let _0x3cd253,_0x1be252;try{let _0x30bf40=_0x4adc4f['apirequest'];if(!_0x30bf40||!_0x30bf40[_0xfa1eee(0x5ad)]||!_0x30bf40[_0xfa1eee(0x83a)])throw new Error(_0xfa1eee(0x2c8));let _0x436c9e;([_0xfa1eee(0x580),'https://api.openai.com/v1/images/generations',_0xfa1eee(0x7c8)]['some'](_0x5a7e68=>_0x30bf40[_0xfa1eee(0x5ad)][_0xfa1eee(0x798)](_0x5a7e68))||_0x30bf40[_0xfa1eee(0x54c)])&&(_0x436c9e=_0xfa1eee(0x5de));let _0x14fdfa='\u205f',_0x132f4f;try{_0x132f4f=JSON[_0xfa1eee(0x73a)](_0x30bf40[_0xfa1eee(0x6f1)]['replace'](new RegExp(_0x14fdfa,'g'),''));}catch(_0x26a2c1){throw _0x26a2c1;}let _0x5e7c02={'method':_0x30bf40[_0xfa1eee(0x83a)],'url':_0x30bf40[_0xfa1eee(0x5ad)],'headers':_0x30bf40[_0xfa1eee(0x30f)]||{},..._0x30bf40[_0xfa1eee(0x83a)][_0xfa1eee(0x236)]()!==_0xfa1eee(0x4a9)&&_0x30bf40[_0xfa1eee(0x6f1)]?{'data':JSON[_0xfa1eee(0x73a)](_0x30bf40[_0xfa1eee(0x6f1)]['replace'](new RegExp(_0x14fdfa,'g'),''))}:{},..._0x436c9e&&{'responseType':_0x436c9e}},_0x2f4b67=await(0x0,K[_0xfa1eee(0x876)])(_0x5e7c02),_0x3bbdc0=_0x2f4b67[_0xfa1eee(0x292)][_0xfa1eee(0x771)];if(_0x3bbdc0&&_0x3bbdc0[_0xfa1eee(0x798)](_0xfa1eee(0x582))||typeof _0x2f4b67['data']=='string'){if(typeof _0x2f4b67[_0xfa1eee(0x4a6)]==_0xfa1eee(0x63a)){let _0x43b937=_0x2f4b67[_0xfa1eee(0x4a6)][_0xfa1eee(0x3d1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x3cd253=JSON['parse'](_0x43b937);}catch(_0x1461f3){this[_0xfa1eee(0x5e8)][_0xfa1eee(0x43c)](_0xfa1eee(0x57e)+_0x1461f3['message']),_0x3cd253={'_apiResponse':_0x2f4b67[_0xfa1eee(0x4a6)]};}}else _0x3cd253=_0x2f4b67[_0xfa1eee(0x4a6)];let _0x14c861=_0x17b3e2[_0xfa1eee(0x5ca)][_0xfa1eee(0x15f)],_0x1232d8=this[_0xfa1eee(0x334)](_0x3cd253);return Object['assign'](_0x14c861,_0x1232d8),_0x17b3e2[_0xfa1eee(0x5ca)][_0xfa1eee(0x15f)]=_0x14c861,_0x1be252={'error':!0x1,'apiResponse':_0x3cd253},this[_0xfa1eee(0x3aa)](_0x17b3e2,_0x4adc4f,_0x1be252),_0x3cd253;}if(_0x3bbdc0&&(_0x3bbdc0[_0xfa1eee(0x798)](_0xfa1eee(0x189))||_0x3bbdc0[_0xfa1eee(0x798)](_0xfa1eee(0x42d))||_0x3bbdc0[_0xfa1eee(0x798)](_0xfa1eee(0x7f3))||_0x3bbdc0[_0xfa1eee(0x798)](_0xfa1eee(0x1c5)))){this[_0xfa1eee(0x5e8)][_0xfa1eee(0x6e9)](this[_0xfa1eee(0x6c1)]+'\x20('+this[_0xfa1eee(0x63b)][_0xfa1eee(0x27c)]+_0xfa1eee(0x76c)+_0x3bbdc0);let _0x4e255e=(0x0,he['v4'])(),_0x5e4acb='',_0x1cc4df={'image/jpeg':'.jpg','image/png':_0xfa1eee(0x5ae),'image/gif':_0xfa1eee(0x21b),'image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':_0xfa1eee(0x6b5),'audio/ogg':'.ogg','audio/wav':_0xfa1eee(0x63d),'video/mp4':_0xfa1eee(0x665),'video/webm':_0xfa1eee(0x2cc),'video/ogg':_0xfa1eee(0x7ec),'text/plain':_0xfa1eee(0x28e),'application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0xfa1eee(0x6c8),'application/vnd.ms-excel':_0xfa1eee(0x6d4),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0xfa1eee(0x668),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0xfa1eee(0x5ed)};_0x1cc4df[_0x3bbdc0]?(_0x5e4acb=_0x1cc4df[_0x3bbdc0],this[_0xfa1eee(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0xfa1eee(0x63b)][_0xfa1eee(0x27c)]+_0xfa1eee(0x188)+_0x5e4acb)):(_0x5e4acb=_0xfa1eee(0x683),this[_0xfa1eee(0x5e8)][_0xfa1eee(0x6e9)](this[_0xfa1eee(0x6c1)]+'\x20('+this[_0xfa1eee(0x63b)][_0xfa1eee(0x27c)]+_0xfa1eee(0x2f0)+_0x5e4acb)),_0x4e255e+=_0x5e4acb,this['logger'][_0xfa1eee(0x6e9)](this[_0xfa1eee(0x6c1)]+'\x20('+this[_0xfa1eee(0x63b)][_0xfa1eee(0x27c)]+_0xfa1eee(0x60a)+_0x4e255e);let _0x9186e5=this[_0xfa1eee(0x5d4)]['get'](_0xfa1eee(0x38e))['URL'];if(!_0x9186e5){let _0x116aba=this[_0xfa1eee(0x5d4)]['get'](_0xfa1eee(0x793));_0x9186e5=_0xfa1eee(0x575)+(_0x116aba&&_0x116aba[_0xfa1eee(0x7a4)][_0xfa1eee(0x76e)]('/')[0x4]);}let _0x44250f=Buffer['from'](_0x2f4b67[_0xfa1eee(0x4a6)]);await this['saveMediaToFile'](_0x44250f,_0x4e255e);let _0x12d200=_0xfa1eee(0x435)+_0x4e255e;_0x12d200=''+_0x9186e5+_0x12d200,_0x3cd253={'fileUrl':_0x12d200},_0x17b3e2['chatLog'][_0xfa1eee(0x15f)][_0xfa1eee(0x76f)]=_0x12d200;let _0x245676=_0x17b3e2[_0xfa1eee(0x5ca)]['realVariables'],_0x22ad17=this[_0xfa1eee(0x334)](_0x3cd253);return Object[_0xfa1eee(0x794)](_0x245676,_0x22ad17),_0x17b3e2[_0xfa1eee(0x5ca)][_0xfa1eee(0x15f)]=_0x245676,_0x1be252={'error':!0x1,'apiResponse':{'fileUrl':_0x12d200}},this[_0xfa1eee(0x3aa)](_0x17b3e2,_0x4adc4f,_0x1be252),_0x3cd253;}}catch(_0x4f2a8b){this[_0xfa1eee(0x5e8)][_0xfa1eee(0x43c)](_0xfa1eee(0x7ee)+_0x4f2a8b[_0xfa1eee(0x65e)]),_0x4f2a8b[_0xfa1eee(0x17f)]&&(_0x3cd253=_0x4f2a8b[_0xfa1eee(0x17f)]['data']);let _0x54cc9c=_0x17b3e2[_0xfa1eee(0x5ca)]['realVariables'],_0x2df435=this['flattenObject'](_0x3cd253);return Object[_0xfa1eee(0x794)](_0x54cc9c,_0x2df435),_0x17b3e2['chatLog'][_0xfa1eee(0x15f)]=_0x54cc9c,_0x1be252={'error':!0x0,'errorLog':_0x4f2a8b[_0xfa1eee(0x2fe)](),'apiResponse':_0x3cd253},this['updateConversation'](_0x17b3e2,_0x4adc4f,_0x1be252),{'success':!0x1};}}[a0_0x33b913(0x86a)](_0x26d05a,_0x4131db){const _0x613bb8=a0_0x33b913;let _0x282de3=_0x293b2e=>{const _0x33bd45=a0_0x358b;let _0x2c26ea=_0x293b2e['replace'](/[^0-9.,-]/g,'')[_0x33bd45(0x3d1)](',','.'),_0x10ae0a=parseFloat(_0x2c26ea);return isNaN(_0x10ae0a)?null:_0x10ae0a;},_0x121b01=_0x4131db['firstValue'],_0x563d51=_0x4131db[_0x613bb8(0x7ab)];typeof _0x121b01==_0x613bb8(0x63a)&&(_0x121b01=this[_0x613bb8(0x1f4)](_0x121b01,_0x26d05a[_0x613bb8(0x5ca)][_0x613bb8(0x15f)])??''),typeof _0x563d51==_0x613bb8(0x63a)&&(_0x563d51=this[_0x613bb8(0x1f4)](_0x563d51,_0x26d05a[_0x613bb8(0x5ca)]['realVariables'])??'');let _0xe7e3b=null;if(!_0x4131db[_0x613bb8(0x41e)])return null;switch(this[_0x613bb8(0x5e8)][_0x613bb8(0x6e9)](this['instanceName']+'\x20('+this[_0x613bb8(0x63b)][_0x613bb8(0x27c)]+_0x613bb8(0x24c)+_0x121b01),this[_0x613bb8(0x5e8)][_0x613bb8(0x6e9)](this[_0x613bb8(0x6c1)]+'\x20('+this[_0x613bb8(0x63b)][_0x613bb8(0x27c)]+_0x613bb8(0x28c)+_0x563d51),_0x4131db['editOperator']){case'+':case'-':case'*':case'/':let _0x3c920f=_0x282de3(_0x121b01||'0'),_0x42d935=_0x282de3(_0x563d51||'0');if(_0x3c920f===null)return null;switch(_0x4131db['editOperator']){case'+':_0xe7e3b=_0x3c920f+(_0x42d935??0x0);break;case'-':_0xe7e3b=_0x3c920f-(_0x42d935??0x0);break;case'*':_0xe7e3b=_0x3c920f*(_0x42d935??0x1);break;case'/':_0x42d935!==0x0&&(_0xe7e3b=_0x3c920f/(_0x42d935??0x1));break;}break;case'findAndReplace':case _0x613bb8(0x6d2):let _0x352cff=_0x563d51,_0x2fff7d=_0x4131db[_0x613bb8(0x228)];if(typeof _0x2fff7d==_0x613bb8(0x63a)&&(_0x2fff7d=this['replaceVariables'](_0x2fff7d,_0x26d05a[_0x613bb8(0x5ca)][_0x613bb8(0x15f)])??''),_0x352cff&&_0x2fff7d!==void 0x0){let _0x358c57=_0x4131db[_0x613bb8(0x41e)]==='findAndReplace'?new RegExp(_0x352cff[_0x613bb8(0x3d1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x613bb8(0x865)),'g'):new RegExp(_0x352cff,'g');_0xe7e3b=_0x121b01[_0x613bb8(0x3d1)](_0x358c57,_0x2fff7d);}else console[_0x613bb8(0x72b)](_0x613bb8(0x7d6));break;case _0x613bb8(0x5f4):_0xe7e3b=_0x563d51;break;case'extractRegex':let _0x29b618=_0x121b01[_0x613bb8(0x328)](new RegExp(_0x563d51||''));_0xe7e3b=_0x29b618?_0x29b618[0x0]:'';break;case _0x613bb8(0x7e5):_0xe7e3b=_0x121b01['slice'](0x0,parseInt(_0x563d51||'0'));break;case'truncatedtoEnd':let _0x504e45=parseInt(_0x563d51||'0');_0xe7e3b=_0x121b01[_0x613bb8(0x4b8)](_0x121b01[_0x613bb8(0x4ee)]-_0x504e45);break;case _0x613bb8(0x2e8):let _0x2042e6=_0x282de3(_0x121b01),_0x540309=parseInt(_0x563d51||'0');_0x540309=Math[_0x613bb8(0x81a)](_0x540309),_0x2042e6!==null?_0xe7e3b=_0x2042e6['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x540309,'maximumFractionDigits':_0x540309}):(console['warn'](_0x613bb8(0x5c4)+_0x121b01),_0xe7e3b=null);break;case _0x613bb8(0x43d):let _0x43f688=_0x282de3(_0x121b01);_0x43f688!==null?_0xe7e3b=_0x43f688[_0x613bb8(0x7f0)](_0x613bb8(0x4f7),{'style':_0x613bb8(0x1a2),'currency':_0x613bb8(0x18f)}):(console['warn'](_0x613bb8(0x712)+_0x121b01),_0xe7e3b=null);break;case _0x613bb8(0x135):_0xe7e3b=_0x121b01[_0x613bb8(0x236)]();break;case _0x613bb8(0x6fd):_0xe7e3b=_0x121b01[_0x613bb8(0x815)]();break;case _0x613bb8(0x463):_0xe7e3b=_0x121b01[_0x613bb8(0x76e)]('\x20')['map'](_0x3ab01e=>_0x3ab01e['charAt'](0x0)[_0x613bb8(0x236)]()+_0x3ab01e['slice'](0x1)['toLowerCase']())['join']('\x20');break;case _0x613bb8(0x385):_0xe7e3b=_0x121b01[_0x613bb8(0x1ce)]();break;default:_0xe7e3b=_0x121b01;}return _0xe7e3b!==null?_0xe7e3b[_0x613bb8(0x2fe)]():null;}async[a0_0x33b913(0x7e7)](_0x2ad56b,_0x737277){const _0x217f4a=a0_0x33b913;try{let _0x2c65c8=_0x2ad56b[_0x217f4a(0x601)]?.[_0x217f4a(0x711)](_0x2483d1=>_0x2483d1['blockId']===_0x737277[_0x217f4a(0x5f6)]?.[_0x217f4a(0x2fe)]())||[],_0x1f0a6b=_0x737277[_0x217f4a(0x16d)],_0x377a5a=null,_0x52c340=[],_0x4fb4a6=_0x2ad56b['chatLog'][_0x217f4a(0x15f)][_0x1f0a6b];_0x52c340['push'](_0x217f4a(0x56e)+_0x4fb4a6+'\x22');for(let _0x1620f2 of _0x2c65c8){_0x1620f2[_0x217f4a(0x765)]=_0x4fb4a6,_0x377a5a=_0x1620f2[_0x217f4a(0x765)];let _0x42afff;try{_0x42afff=this[_0x217f4a(0x86a)](_0x2ad56b,_0x1620f2);}catch(_0x49bc8c){this[_0x217f4a(0x5e8)][_0x217f4a(0x43c)](_0x217f4a(0x50d)+_0x49bc8c['message']);continue;}if(_0x42afff!==null){let _0x420432='Operador:\x20\x22'+_0x1620f2[_0x217f4a(0x41e)]+'\x22',_0x5cb761=[_0x217f4a(0x43d),_0x217f4a(0x135),_0x217f4a(0x6fd),_0x217f4a(0x463),_0x217f4a(0x385)];_0x1620f2[_0x217f4a(0x41e)]==='findAndReplace'||_0x1620f2[_0x217f4a(0x41e)]===_0x217f4a(0x6d2)?_0x420432+=_0x217f4a(0x5bc)+_0x1620f2[_0x217f4a(0x7ab)]+_0x217f4a(0x413)+_0x1620f2[_0x217f4a(0x228)]+'\x22':!_0x5cb761[_0x217f4a(0x798)](_0x1620f2[_0x217f4a(0x41e)])&&_0x1620f2[_0x217f4a(0x7ab)]!==null&&_0x1620f2['secondValue']!==void 0x0&&(_0x420432+=_0x217f4a(0x46a)+_0x1620f2[_0x217f4a(0x7ab)]+'\x22'),_0x420432+=_0x217f4a(0x148)+_0x42afff+'.',_0x52c340['push'](_0x420432);}_0x42afff!==null&&(_0x4fb4a6=_0x42afff);}if(_0x2ad56b[_0x217f4a(0x5ca)]['realVariables']&&_0x737277[_0x217f4a(0x16d)]){_0x2ad56b[_0x217f4a(0x5ca)]['realVariables'][_0x737277[_0x217f4a(0x16d)]]=_0x4fb4a6;let _0x458aa7={'variable':_0x737277['saveVariable'],'oldValue':_0x377a5a,'newValue':_0x4fb4a6,'moreLogs':_0x52c340};try{this[_0x217f4a(0x3aa)](_0x2ad56b,_0x737277,_0x458aa7);}catch(_0x349616){this[_0x217f4a(0x5e8)][_0x217f4a(0x43c)](_0x217f4a(0x2af)+_0x349616['message']);}}return _0x1f0a6b;}catch(_0x2fbc23){return this[_0x217f4a(0x5e8)][_0x217f4a(0x43c)](_0x217f4a(0x215)+_0x2fbc23[_0x217f4a(0x65e)]),null;}}async[a0_0x33b913(0x170)](_0x481fcc,_0x4cf163){const _0x22a180=a0_0x33b913;try{let _0x3f37c1=[],_0x493f22=_0x481fcc['conditions']['filter'](_0x1dc179=>_0x1dc179['blockId']===_0x4cf163['_id'][_0x22a180(0x2fe)]()),_0x4771bc=null,_0xfa1a99=!0x1;for(let _0x2b7fcb of _0x493f22){let _0x33e07b=this[_0x22a180(0x4a3)](_0x481fcc,_0x2b7fcb);_0x3f37c1[_0x22a180(0x41a)](_0x22a180(0x664)+_0x2b7fcb[_0x22a180(0x765)]+_0x22a180(0x7d9)+_0x2b7fcb[_0x22a180(0x2a4)]+_0x22a180(0x532)+_0x2b7fcb[_0x22a180(0x7ab)]+_0x22a180(0x864)+_0x33e07b),_0x4771bc===null?_0x4771bc=_0x33e07b:_0x2b7fcb[_0x22a180(0x333)]==='and'?(_0x4771bc=_0x4771bc&&_0x33e07b,_0x33e07b||(_0xfa1a99=!0x0)):_0x2b7fcb['OrAnd']==='or'&&(_0xfa1a99||(_0x4771bc=_0x4771bc||_0x33e07b));}_0x4771bc===null&&(_0x4771bc=!0x0);let _0x1dc970={'moreLogs':_0x3f37c1};_0x481fcc[_0x22a180(0x5ca)][_0x22a180(0x828)]=_0x4771bc,await this[_0x22a180(0x3aa)](_0x481fcc,_0x4cf163,_0x1dc970);}catch(_0x52989c){this['logger'][_0x22a180(0x43c)](this['instanceName']+'\x20('+this[_0x22a180(0x63b)]['wuid']+_0x22a180(0x45c)+(_0x52989c instanceof Error?_0x52989c['message']:JSON['stringify'](_0x52989c,null,0x2)));}}[a0_0x33b913(0x4a3)](_0x4aba75,_0xfe0515){const _0x5f593f=a0_0x33b913;let _0x4dc190=_0xfe0515['firstValue'],_0x2b7560=_0xfe0515[_0x5f593f(0x7ab)];typeof _0x4dc190==_0x5f593f(0x63a)&&(_0x4dc190=this[_0x5f593f(0x1f4)](_0x4dc190,_0x4aba75[_0x5f593f(0x5ca)][_0x5f593f(0x15f)])??''),typeof _0x2b7560==_0x5f593f(0x63a)&&(_0x2b7560=this[_0x5f593f(0x1f4)](_0x2b7560,_0x4aba75[_0x5f593f(0x5ca)][_0x5f593f(0x15f)])??'');try{switch(_0xfe0515[_0x5f593f(0x2a4)]){case _0x5f593f(0x54a):return _0x4dc190===_0x2b7560;case'notEqual':return _0x4dc190!==_0x2b7560;case _0x5f593f(0x200):return this[_0x5f593f(0x200)](_0x4dc190,_0x2b7560);case _0x5f593f(0x239):return!this[_0x5f593f(0x200)](_0x4dc190,_0x2b7560);case _0x5f593f(0x6f5):return parseFloat(_0x4dc190)>parseFloat(_0x2b7560);case'less':return parseFloat(_0x4dc190)<parseFloat(_0x2b7560);case'notEmpty':return _0x4dc190!=='';case'empty':return _0x4dc190==='';case _0x5f593f(0x26d):return new RegExp(_0x2b7560)[_0x5f593f(0x504)](_0x4dc190);case _0x5f593f(0x818):return!new RegExp(_0x2b7560)[_0x5f593f(0x504)](_0x4dc190);default:return!0x1;}}catch(_0x20c26c){return this['logger'][_0x5f593f(0x43c)](_0x5f593f(0x4d5)+_0x20c26c),!0x1;}}[a0_0x33b913(0x200)](_0x4331e8,_0x4ed5a5){const _0x462ad5=a0_0x33b913;if(_0x4331e8===_0x4ed5a5&&/^\d+$/[_0x462ad5(0x504)](_0x4331e8))return!0x0;if(this[_0x462ad5(0x1cc)](_0x4331e8)&&/^\d+$/[_0x462ad5(0x504)](_0x4ed5a5)){let _0x516e04=_0x4331e8[_0x462ad5(0x76e)](',')['map'](_0x4a2745=>parseInt(_0x4a2745['trim']())),_0x446faa=parseInt(_0x4ed5a5);return _0x516e04[_0x462ad5(0x798)](_0x446faa);}return _0x4331e8[_0x462ad5(0x798)](_0x4ed5a5);}[a0_0x33b913(0x1cc)](_0xeedca1){return/^\d+(,\d+)*$/['test'](_0xeedca1);}[a0_0x33b913(0x55d)](_0x3f6c1e){const _0x256753=a0_0x33b913;let _0x3ee5e7=!0x0,_0x4e51f0=null;for(let _0x500cd8 of _0x3f6c1e){let _0x1a8b16=this['evaluateConditionTest'](_0x500cd8);if(_0x4e51f0==='or'&&_0x1a8b16){_0x3ee5e7=!0x0;break;}if(_0x4e51f0===_0x256753(0x327)&&!_0x1a8b16){_0x3ee5e7=!0x1;break;}_0x4e51f0=_0x500cd8[_0x256753(0x333)];}return _0x3ee5e7;}[a0_0x33b913(0x1ff)](_0x522ef9){const _0x17eb34=a0_0x33b913;let _0x17155f=_0x522ef9[_0x17eb34(0x765)],_0x3f9d9f=_0x522ef9[_0x17eb34(0x7ab)];try{switch(_0x522ef9[_0x17eb34(0x2a4)]){case _0x17eb34(0x54a):return String(_0x17155f)===String(_0x3f9d9f);case _0x17eb34(0x7b1):return String(_0x17155f)!==String(_0x3f9d9f);case _0x17eb34(0x200):return String(_0x17155f)[_0x17eb34(0x798)](String(_0x3f9d9f));case _0x17eb34(0x239):return!String(_0x17155f)[_0x17eb34(0x798)](String(_0x3f9d9f));case _0x17eb34(0x6f5):return parseFloat(String(_0x17155f))>parseFloat(String(_0x3f9d9f));case'less':return parseFloat(String(_0x17155f))<parseFloat(String(_0x3f9d9f));case _0x17eb34(0x686):return String(_0x17155f)!=='';case _0x17eb34(0x674):return String(_0x17155f)==='';case'matchRegex':return new RegExp(String(_0x3f9d9f))[_0x17eb34(0x504)](String(_0x17155f));case _0x17eb34(0x818):return!new RegExp(String(_0x3f9d9f))[_0x17eb34(0x504)](String(_0x17155f));default:return!0x1;}}catch(_0x26319a){return this[_0x17eb34(0x5e8)][_0x17eb34(0x43c)](_0x17eb34(0x4d5)+_0x26319a),!0x1;}}async[a0_0x33b913(0x6a6)](_0x4c9f2a,_0x192555){const _0x2964bf=a0_0x33b913;if(this[_0x2964bf(0x5e8)][_0x2964bf(0x6e9)](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)]['wuid']+_0x2964bf(0x15e)),!_0x4c9f2a||!_0x192555)return this[_0x2964bf(0x5e8)]['error'](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)][_0x2964bf(0x27c)]+_0x2964bf(0x67a)),null;let _0x3087f4=_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x39b)]['key']['id'];this[_0x2964bf(0x5e8)][_0x2964bf(0x6e9)](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)]['wuid']+_0x2964bf(0x6ee)+_0x3087f4);let _0x3683cd={'key':{'id':_0x3087f4}},_0x426d44=_0x192555[_0x2964bf(0x16d)];_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]['_'+_0x426d44+_0x2964bf(0x2c9)]=null,_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]['_'+_0x426d44+_0x2964bf(0x7e8)]=null,_0x4c9f2a['chatLog'][_0x2964bf(0x15f)]['_'+_0x426d44+'.extension']=null,_0x4c9f2a['chatLog'][_0x2964bf(0x15f)]['_'+_0x426d44+_0x2964bf(0x1aa)]=_0x4c9f2a[_0x2964bf(0x5ca)]['lastReceivedMessage'][_0x2964bf(0x710)];try{let _0x491ea9=await this['getBase64FromMediaMessage'](_0x3683cd);this['logger']['verbose'](this[_0x2964bf(0x6c1)]+'\x20('+this['instance'][_0x2964bf(0x27c)]+_0x2964bf(0x416)),_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]['_'+_0x426d44+_0x2964bf(0x395)]=_0x491ea9['fileUrl'],_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]['_'+_0x426d44+_0x2964bf(0x7e8)]=_0x491ea9[_0x2964bf(0x6d6)];let _0x433b33=_0x491ea9[_0x2964bf(0x6d6)]['match'](/\/(\w+)$/),_0x21386c=_0x433b33?_0x433b33[0x1]:null;_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]['_'+_0x426d44+'.extension']=_0x21386c,this[_0x2964bf(0x5e8)][_0x2964bf(0x6e9)](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)]['wuid']+_0x2964bf(0x253)+_0x426d44+'\x27.');}catch(_0x332532){this[_0x2964bf(0x5e8)][_0x2964bf(0x43c)](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)][_0x2964bf(0x27c)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20'+_0x332532[_0x2964bf(0x65e)]);}let _0x25da7a=_0x4c9f2a['chatLog'][_0x2964bf(0x39b)]['text']||_0x4c9f2a[_0x2964bf(0x5ca)]['lastReceivedMessage'][_0x2964bf(0x669)]||_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x39b)][_0x2964bf(0x22a)];try{_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)]||(_0x4c9f2a[_0x2964bf(0x5ca)]['realVariables']={});let _0x27a8ca=_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)][_0x426d44];_0x4c9f2a[_0x2964bf(0x5ca)][_0x2964bf(0x15f)][_0x426d44]=_0x25da7a;let _0x2d9865={'variable':_0x426d44,'oldValue':_0x27a8ca,'newValue':_0x25da7a};this[_0x2964bf(0x3aa)](_0x4c9f2a,_0x192555,_0x2d9865),this[_0x2964bf(0x5e8)]['verbose'](this[_0x2964bf(0x6c1)]+'\x20('+this[_0x2964bf(0x63b)][_0x2964bf(0x27c)]+'):\x20Conversa\x20atualizada\x20em\x20memria');}catch(_0x410ee0){let _0x23ecc9={'error':!0x0,'errorLog':_0x410ee0[_0x2964bf(0x2fe)]()};return this['updateConversation'](_0x4c9f2a,_0x192555,_0x23ecc9),this[_0x2964bf(0x5e8)][_0x2964bf(0x43c)](this[_0x2964bf(0x6c1)]+'\x20('+this['instance']['wuid']+_0x2964bf(0x415)+(_0x410ee0 instanceof Error?_0x410ee0[_0x2964bf(0x65e)]:JSON[_0x2964bf(0x590)](_0x410ee0,null,0x2))),null;}}async[a0_0x33b913(0x379)](_0x3fb333,_0x1d0201){const _0x197cc8=a0_0x33b913;if(this[_0x197cc8(0x5e8)][_0x197cc8(0x6e9)](this[_0x197cc8(0x6c1)]+'\x20('+this['instance'][_0x197cc8(0x27c)]+_0x197cc8(0x281)),!_0x3fb333||!_0x1d0201)return this[_0x197cc8(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x197cc8(0x63b)]['wuid']+_0x197cc8(0x67a)),null;let _0x30ae6f=Date[_0x197cc8(0x445)](),_0xa0c074=parseInt(_0x1d0201['stopMinutes'],0xa);if(isNaN(_0xa0c074))return this[_0x197cc8(0x5e8)][_0x197cc8(0x43c)](this[_0x197cc8(0x6c1)]+'\x20('+this[_0x197cc8(0x63b)][_0x197cc8(0x27c)]+_0x197cc8(0x873)),null;let _0x22ff90={'newStoppedUntil':_0x30ae6f+_0xa0c074*0x3c*0x3e8};return await this[_0x197cc8(0x3aa)](_0x3fb333,_0x1d0201,_0x22ff90,!0x0),null;}async[a0_0x33b913(0x659)](_0xdaf157,_0x25cdcd){const _0x1d095d=a0_0x33b913;try{switch(_0x25cdcd[_0x1d095d(0x6f4)]['command']){case _0x1d095d(0x66c):await this['uazapiSendText'](_0xdaf157,_0x25cdcd);break;case _0x1d095d(0x567):await this[_0x1d095d(0x6af)](_0xdaf157,_0x25cdcd);break;case _0x1d095d(0x846):await this[_0x1d095d(0x83b)](_0xdaf157,_0x25cdcd);break;case _0x1d095d(0x7c0):await this['uazapiSendAudio'](_0xdaf157,_0x25cdcd);break;case _0x1d095d(0x756):await this[_0x1d095d(0x2d1)](_0xdaf157,_0x25cdcd);break;case _0x1d095d(0x1b3):await this[_0x1d095d(0x69b)](_0xdaf157,_0x25cdcd);break;case'sendMenu':await this[_0x1d095d(0x69b)](_0xdaf157,_0x25cdcd);break;case'deleteMessage':await this[_0x1d095d(0x7be)](_0xdaf157,_0x25cdcd);break;default:this['logger'][_0x1d095d(0x43c)](this[_0x1d095d(0x6c1)]+'\x20('+this[_0x1d095d(0x63b)][_0x1d095d(0x27c)]+_0x1d095d(0x56c)+_0x25cdcd[_0x1d095d(0x6f4)][_0x1d095d(0x647)]);}}catch(_0x38e800){this[_0x1d095d(0x5e8)][_0x1d095d(0x43c)](this[_0x1d095d(0x6c1)]+'\x20('+this[_0x1d095d(0x63b)][_0x1d095d(0x27c)]+_0x1d095d(0x81d)+(_0x38e800 instanceof Error?_0x38e800[_0x1d095d(0x65e)]:JSON['stringify'](_0x38e800,null,0x2)));}}async[a0_0x33b913(0x3aa)](_0x232b08,_0x583d7c,_0x213127,_0x1ced21=!0x1,_0x14952f=!0x1){const _0x16a1df=a0_0x33b913;_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x821)]||(_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x821)]=[]);let _0x3915d1=(_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x821)]?.[_0x16a1df(0x4ee)]??0x0)+0x1,_0x22ef15=_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x821)][_0x16a1df(0x711)](_0xc57f25=>String(_0xc57f25[_0x16a1df(0x3a7)])===String(_0x583d7c['_id']))['length']+0x1,_0x32d0f4=_0x213127?.[_0x16a1df(0x47a)]??Date['now'](),_0x210f40=_0x213127?.[_0x16a1df(0x43c)]?_0x213127[_0x16a1df(0x599)]??_0x213127[_0x16a1df(0x43c)][_0x16a1df(0x2fe)]():void 0x0,_0x1c1c3e={'onTime':_0x32d0f4,'blockId':_0x583d7c[_0x16a1df(0x5f6)],'order':_0x3915d1,'activatedCount':_0x22ef15,'error':_0x213127?.[_0x16a1df(0x43c)]??!0x1,'messageId':_0x213127?.['messageId'],'apiResponse':_0x213127?.['apiResponse'],'apiResponseString':_0x213127?.[_0x16a1df(0x6bb)]?JSON[_0x16a1df(0x590)](_0x213127?.[_0x16a1df(0x6bb)]):void 0x0,'variable':_0x213127?.[_0x16a1df(0x775)],'oldValue':_0x213127?.[_0x16a1df(0x66d)],'newValue':_0x213127?.[_0x16a1df(0x299)],'newStoppedUntil':_0x213127?.[_0x16a1df(0x341)],'moreLogs':_0x213127?.[_0x16a1df(0x871)],'errorLog':_0x210f40};if(_0x213127[_0x16a1df(0x871)]&&_0x213127[_0x16a1df(0x871)][_0x16a1df(0x4ee)]>0x0){let _0x2d342d=_0x213127[_0x16a1df(0x871)][_0x16a1df(0x6f7)](_0x23c7fc=>this[_0x16a1df(0x83f)](_0x23c7fc,_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)]));_0x1c1c3e[_0x16a1df(0x871)]=_0x2d342d;}if(_0x232b08['chatLog'][_0x16a1df(0x15f)]||(_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)]={}),_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)][_0x16a1df(0x578)]=String(_0x22ef15),_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)]['_error']=String(_0x213127[_0x16a1df(0x43c)]??!0x1),_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x821)][_0x16a1df(0x41a)](_0x1c1c3e),_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)][_0x16a1df(0x68c)]&&_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)][_0x16a1df(0x68c)]!==_0x232b08[_0x16a1df(0x41c)]){let _0x125ad3=(await this[_0x16a1df(0x177)]({'numbers':[_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)][_0x16a1df(0x68c)]]}))[0x0][_0x16a1df(0x662)];_0x232b08['chatLog']['realVariables'][_0x16a1df(0x68c)]=_0x125ad3,_0x232b08['remoteJid']=_0x125ad3;try{let _0x2d0745={'_id':{'$ne':_0x232b08[_0x16a1df(0x5f6)]},'remoteJid':_0x125ad3,'status':_0x16a1df(0x6c3)},_0x5b59f3={'status':_0x16a1df(0x584)};await this[_0x16a1df(0x59c)][_0x16a1df(0x555)]['updateMany'](_0x2d0745,_0x5b59f3,this[_0x16a1df(0x63b)][_0x16a1df(0x27c)]),this['logger'][_0x16a1df(0x6e9)](this[_0x16a1df(0x6c1)]+'\x20('+this[_0x16a1df(0x63b)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x576dea){this['logger'][_0x16a1df(0x43c)](this[_0x16a1df(0x6c1)]+'\x20('+this[_0x16a1df(0x63b)][_0x16a1df(0x27c)]+_0x16a1df(0x839)+_0x576dea['message']);}try{let _0x1eb780=_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x15f)],_0x2d5fcb=await this[_0x16a1df(0x838)](_0x125ad3),_0x2b1500={..._0x1eb780,..._0x2d5fcb,'_remoteJid':_0x125ad3};_0x232b08['chatLog'][_0x16a1df(0x15f)]=_0x2b1500;}catch(_0x9deb36){this['logger'][_0x16a1df(0x43c)](this[_0x16a1df(0x6c1)]+'\x20('+this[_0x16a1df(0x63b)][_0x16a1df(0x27c)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x9deb36['message']);}}_0x232b08['chatLog'][_0x16a1df(0x655)]=_0x583d7c['_id'][_0x16a1df(0x2fe)](),_0x232b08['chatLog'][_0x16a1df(0x2c7)]&&(_0x232b08['chatLog']['lastSendMessage']=_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x2c7)]),_0x232b08['chatLog']['lastReceivedMessage']&&(_0x232b08['chatLog'][_0x16a1df(0x39b)]=_0x232b08['chatLog'][_0x16a1df(0x39b)]),_0x232b08[_0x16a1df(0x5ca)]['lastCondition']&&(_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x828)]=_0x232b08[_0x16a1df(0x5ca)][_0x16a1df(0x828)]),_0x14952f&&(_0x232b08[_0x16a1df(0x615)]=_0x16a1df(0x584)),_0x1ced21?this['saveConversationToDatabase'](_0x232b08):this['goNextblock'](_0x232b08,_0x583d7c);}[a0_0x33b913(0x83f)](_0x267da0,_0x2cac60){const _0x5c14c4=a0_0x33b913;return _0x267da0[_0x5c14c4(0x3d1)](/\{\{([^}]+)\}\}/g,(_0x125209,_0x2129a7)=>_0x2cac60[_0x2129a7]?'{{'+_0x2129a7+'}}\x20->\x20\x22'+_0x2cac60[_0x2129a7]+'\x22':'{{'+_0x2129a7+_0x5c14c4(0x420));}async[a0_0x33b913(0x4c5)](_0x5dbbb1){const _0x4d8edc=a0_0x33b913;try{let _0xb62b2d=Object['entries'](_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x15f)])[_0x4d8edc(0x6f7)](([_0x4b983e,_0x26d134])=>({'name':_0x4b983e,'value':_0x26d134})),_0x4c7df9={'status':_0x5dbbb1['status'],'remoteJid':_0x5dbbb1[_0x4d8edc(0x41c)],'blocks':_0x5dbbb1[_0x4d8edc(0x396)],'waitingMenu_id':_0x5dbbb1['waitingMenu_id'],'waitingMenu_text':_0x5dbbb1['waitingMenu_text'],'waitingMenu_replyOptions':_0x5dbbb1[_0x4d8edc(0x4bf)],'chatLog':{'lastBlockId':_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x655)],'lastSendMessage':_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x2c7)],'lastReceivedMessage':_0x5dbbb1[_0x4d8edc(0x5ca)]['lastReceivedMessage'],'lastCondition':_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x828)],'chatVariables':_0xb62b2d,'realVariables':_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x15f)],'blockLogs':_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x821)]}},_0x3ec108=await this[_0x4d8edc(0x59c)][_0x4d8edc(0x555)]['updateOne'](_0x5dbbb1['_id'],_0x4c7df9,this[_0x4d8edc(0x63b)]['wuid']);if(_0x3ec108){this[_0x4d8edc(0x5e8)]['verbose'](this[_0x4d8edc(0x6c1)]+'\x20('+this[_0x4d8edc(0x63b)]['wuid']+_0x4d8edc(0x207)+_0x3ec108[_0x4d8edc(0x5f6)]);try{let _0x2bddd7=[_0x4d8edc(0x414),_0x4d8edc(0x186),_0x4d8edc(0x808),_0x4d8edc(0x38c),'status','notas',_0x4d8edc(0x53e),_0x4d8edc(0x7a5),_0x4d8edc(0x67d),_0x4d8edc(0x3b2)];if(!this[_0x4d8edc(0x36e)]&&(await this[_0x4d8edc(0x15c)](),!this[_0x4d8edc(0x36e)]))throw new Error('AutomateSystem\x20no\x20foi\x20inicializado');let _0x371ce1=this[_0x4d8edc(0x36e)]?.[_0x4d8edc(0x73c)]['map'](_0x294d2f=>_0x294d2f[_0x4d8edc(0x382)]),_0x396dfd={};Object[_0x4d8edc(0x1e9)](_0x5dbbb1[_0x4d8edc(0x5ca)]['realVariables'])[_0x4d8edc(0x211)](([_0x3ffc42,_0x44c536])=>{const _0x4181e4=_0x4d8edc;_0x2bddd7[_0x4181e4(0x798)](_0x3ffc42)&&(_0x3ffc42===_0x4181e4(0x7a5)&&typeof _0x44c536==_0x4181e4(0x63a)?_0x396dfd[_0x3ffc42]=_0x44c536[_0x4181e4(0x76e)](',')['map'](_0x5d57e1=>_0x5d57e1['trim']())[_0x4181e4(0x711)](_0x5e4703=>_0x5e4703!==''):_0x3ffc42==='etiquetas'&&typeof _0x44c536=='string'?_0x396dfd[_0x3ffc42]=_0x44c536[_0x4181e4(0x76e)](',')[_0x4181e4(0x6f7)](_0x14cba7=>_0x14cba7[_0x4181e4(0x1ce)]())['filter'](_0x422733=>_0x422733!==''):_0x396dfd[_0x3ffc42]=_0x44c536);});let _0x2cbbce=_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x821)][_0x5dbbb1[_0x4d8edc(0x5ca)][_0x4d8edc(0x821)]['length']-0x1];if(_0x2cbbce){let _0x4b620f=_0x2cbbce[_0x4d8edc(0x341)];_0x4b620f!==void 0x0&&(_0x396dfd[_0x4d8edc(0x537)]=_0x4b620f[_0x4d8edc(0x2fe)]());}let _0x28c9e1=_0xb62b2d[_0x4d8edc(0x711)](_0x27a897=>_0x371ce1[_0x4d8edc(0x798)](_0x27a897[_0x4d8edc(0x382)]));this[_0x4d8edc(0x5e8)][_0x4d8edc(0x6e9)](this[_0x4d8edc(0x6c1)]+'\x20('+this['instance'][_0x4d8edc(0x27c)]+'):\x20leadInfoVariables'),this[_0x4d8edc(0x5e8)][_0x4d8edc(0x6e9)](_0x396dfd),this['logger'][_0x4d8edc(0x6e9)](this[_0x4d8edc(0x6c1)]+'\x20('+this['instance'][_0x4d8edc(0x27c)]+_0x4d8edc(0x5b9)),this[_0x4d8edc(0x5e8)][_0x4d8edc(0x6e9)](_0x28c9e1);let _0x24e6da=_0x28c9e1[_0x4d8edc(0x6f7)](_0xa239f2=>{const _0x1272dc=_0x4d8edc;let _0x56388d=this[_0x1272dc(0x36e)]?.[_0x1272dc(0x73c)][_0x1272dc(0x345)](_0x477770=>_0x477770[_0x1272dc(0x382)]===_0xa239f2[_0x1272dc(0x382)]);if(!_0x56388d)throw new Error(_0x1272dc(0x432)+_0xa239f2[_0x1272dc(0x382)]);return{'_id':_0x56388d[_0x1272dc(0x5f6)],'value':_0xa239f2['value']};});this[_0x4d8edc(0x5e8)][_0x4d8edc(0x6e9)](this['instanceName']+'\x20('+this[_0x4d8edc(0x63b)][_0x4d8edc(0x27c)]+_0x4d8edc(0x623)),this[_0x4d8edc(0x5e8)]['verbose'](_0x24e6da),await this[_0x4d8edc(0x6e5)](_0x5dbbb1['remoteJid'],_0x396dfd,_0x24e6da);}catch(_0x39b7f7){this[_0x4d8edc(0x5e8)][_0x4d8edc(0x43c)](this[_0x4d8edc(0x6c1)]+'\x20('+this['instance'][_0x4d8edc(0x27c)]+_0x4d8edc(0x419)+(_0x39b7f7 instanceof Error?_0x39b7f7[_0x4d8edc(0x65e)]:JSON[_0x4d8edc(0x590)](_0x39b7f7,null,0x2)));}}else this[_0x4d8edc(0x5e8)]['error'](this[_0x4d8edc(0x6c1)]+'\x20('+this['instance'][_0x4d8edc(0x27c)]+_0x4d8edc(0x37e));}catch(_0xca3ee5){this[_0x4d8edc(0x5e8)]['error'](this[_0x4d8edc(0x6c1)]+'\x20('+this[_0x4d8edc(0x63b)]['wuid']+_0x4d8edc(0x1ae)+(_0xca3ee5 instanceof Error?_0xca3ee5[_0x4d8edc(0x65e)]:JSON[_0x4d8edc(0x590)](_0xca3ee5,null,0x2)));}}async[a0_0x33b913(0x6e5)](_0x477afa,_0x1d564c,_0x1c3c86){const _0x33c5ba=a0_0x33b913;try{let _0x64771={'leadInfo.leadnome':_0x1d564c['nome'],'leadInfo.nomecompleto':_0x1d564c[_0x33c5ba(0x186)],'leadInfo.email':_0x1d564c[_0x33c5ba(0x808)],'leadInfo.cpf':_0x1d564c[_0x33c5ba(0x38c)],'leadInfo.status':_0x1d564c[_0x33c5ba(0x615)],'leadInfo.notas':_0x1d564c[_0x33c5ba(0x227)],'leadInfo.responsavelid':_0x1d564c[_0x33c5ba(0x53e)],'leadInfo.tags':_0x1d564c[_0x33c5ba(0x7a5)],'leadInfo.etiquetas':_0x1d564c[_0x33c5ba(0x67d)],'leadInfo.customFields':_0x1c3c86,'leadInfo.atendimentoAberto':_0x1d564c['atendimentoAberto']},_0x5340cb=await this[_0x33c5ba(0x59c)]['chat'][_0x33c5ba(0x366)]({'where':{'_id':_0x477afa}},this[_0x33c5ba(0x63b)][_0x33c5ba(0x27c)]);if(!_0x5340cb)return _0x33c5ba(0x39f);let _0x2a8162=new Set(_0x5340cb[_0x33c5ba(0x19e)][_0x33c5ba(0x67d)]||[]),_0x1e5914=new Set(_0x1d564c[_0x33c5ba(0x67d)]||[]),_0x1298a6=await this['repository'][_0x33c5ba(0x727)][_0x33c5ba(0x345)]({'where':{}},this[_0x33c5ba(0x63b)][_0x33c5ba(0x27c)]),_0x17660b=new Set(_0x1298a6[_0x33c5ba(0x6f7)](_0x8d35d9=>_0x8d35d9['_id'])),_0xed98d=[..._0x1e5914][_0x33c5ba(0x711)](_0x25a109=>!_0x2a8162[_0x33c5ba(0x136)](_0x25a109)&&_0x17660b[_0x33c5ba(0x136)](_0x25a109)),_0xf87e0f=[..._0x2a8162][_0x33c5ba(0x711)](_0x1201d3=>!_0x1e5914[_0x33c5ba(0x136)](_0x1201d3));for(let _0x22a583 of _0xed98d)await this[_0x33c5ba(0x796)](_0x22a583,_0x5340cb[_0x33c5ba(0x5f6)]),_0x2a8162[_0x33c5ba(0x47b)](_0x22a583);for(let _0x3456aa of _0xf87e0f)await this[_0x33c5ba(0x421)](_0x3456aa,_0x5340cb[_0x33c5ba(0x5f6)]),_0x2a8162[_0x33c5ba(0x76a)](_0x3456aa);if(_0x33c5ba(0x537)in _0x1d564c){let _0x558916=_0x1d564c['desativadoFluxoAte'];_0x64771[_0x33c5ba(0x71d)]=_0x558916?Number(_0x558916):null;}if(_0x33c5ba(0x3b2)in _0x1d564c){let _0x122b0f=_0x1d564c[_0x33c5ba(0x3b2)][_0x33c5ba(0x815)]();_0x64771[_0x33c5ba(0x7e4)]=_0x122b0f===_0x33c5ba(0x274)||_0x122b0f==='1'||_0x122b0f===_0x33c5ba(0x71f)||_0x122b0f===_0x33c5ba(0x18c);}let _0x3fb89f=await this[_0x33c5ba(0x59c)]['chat'][_0x33c5ba(0x6f0)]({'where':{'_id':_0x477afa}},_0x64771,this[_0x33c5ba(0x63b)][_0x33c5ba(0x27c)]);_0x3fb89f?(this[_0x33c5ba(0x5e8)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x33c5ba(0x6c4)+_0x3fb89f[_0x33c5ba(0x5f6)]),U(this['instanceName'],_0x33c5ba(0x193),{'chat':_0x3fb89f})):this[_0x33c5ba(0x5e8)][_0x33c5ba(0x43c)](this['instanceName']+'\x20('+this[_0x33c5ba(0x63b)][_0x33c5ba(0x27c)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD');}catch(_0x4f0e24){this[_0x33c5ba(0x5e8)][_0x33c5ba(0x43c)](this[_0x33c5ba(0x6c1)]+'\x20('+this['instance']['wuid']+_0x33c5ba(0x5bf)+(_0x4f0e24 instanceof Error?_0x4f0e24[_0x33c5ba(0x65e)]:JSON['stringify'](_0x4f0e24,null,0x2)));}}async[a0_0x33b913(0x438)](_0x16bd0b,_0x2a50f2){const _0x3224a7=a0_0x33b913;this[_0x3224a7(0x5e8)][_0x3224a7(0x6e9)](this[_0x3224a7(0x6c1)]+'\x20('+this[_0x3224a7(0x63b)][_0x3224a7(0x27c)]+_0x3224a7(0x4f6)+_0x2a50f2);try{let _0x47e354=await this[_0x3224a7(0x59c)][_0x3224a7(0x24b)][_0x3224a7(0x6f0)]({'where':{'_id':_0x16bd0b[_0x3224a7(0x41c)]}},{'leadInfo.desativadoFluxoAte':_0x2a50f2},this[_0x3224a7(0x63b)][_0x3224a7(0x27c)]);this['logger'][_0x3224a7(0x6e9)](this[_0x3224a7(0x6c1)]+'\x20('+this[_0x3224a7(0x63b)][_0x3224a7(0x27c)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x16bd0b[_0x3224a7(0x5f6)]),this['logger'][_0x3224a7(0x6e9)](this[_0x3224a7(0x6c1)]+'\x20('+this[_0x3224a7(0x63b)][_0x3224a7(0x27c)]+_0x3224a7(0x4f6)+JSON[_0x3224a7(0x590)](_0x47e354,null,0x2)),_0x47e354&&U(this[_0x3224a7(0x6c1)],_0x3224a7(0x193),{'chat':_0x47e354});}catch(_0x196078){this[_0x3224a7(0x5e8)][_0x3224a7(0x43c)](this[_0x3224a7(0x6c1)]+'\x20('+this[_0x3224a7(0x63b)]['wuid']+_0x3224a7(0x7b2)+(_0x196078 instanceof Error?_0x196078[_0x3224a7(0x65e)]:JSON['stringify'](_0x196078,null,0x2)));}}async[a0_0x33b913(0x77b)](_0x34a071){const _0x10f1b0=a0_0x33b913;try{this[_0x10f1b0(0x5e8)][_0x10f1b0(0x6e9)](this['instanceName']+'\x20('+this[_0x10f1b0(0x63b)][_0x10f1b0(0x27c)]+'):\x20Buscando\x20flow...');let _0xa582b4=_0x34a071[_0x10f1b0(0x3d1)](/\D/g,''),_0x1fe680=this['AutomateSystem'][_0x10f1b0(0x141)]['find'](_0x35bbb7=>_0x35bbb7[_0x10f1b0(0x3df)]===_0xa582b4);if(_0x1fe680||(this['logger'][_0x10f1b0(0x6e9)](this['instanceName']+'\x20('+this[_0x10f1b0(0x63b)][_0x10f1b0(0x27c)]+_0x10f1b0(0x535)),_0x1fe680=this[_0x10f1b0(0x36e)][_0x10f1b0(0x141)]['find'](_0x5addcb=>_0x5addcb['default']===!0x0)),!_0x1fe680)return this[_0x10f1b0(0x5e8)]['verbose'](this[_0x10f1b0(0x6c1)]+'\x20('+this[_0x10f1b0(0x63b)][_0x10f1b0(0x27c)]+'):\x20No\x20achou\x20nenhum\x20flow'),null;let _0x38a1df=await this[_0x10f1b0(0x59c)][_0x10f1b0(0x223)][_0x10f1b0(0x366)]({'where':{'_id':_0x1fe680[_0x10f1b0(0x5f6)]}});if(!_0x38a1df||!_0x38a1df['whoCanUse']?.[_0x10f1b0(0x798)](this[_0x10f1b0(0x63b)]['wuid']))throw this[_0x10f1b0(0x5e8)][_0x10f1b0(0x43c)](this[_0x10f1b0(0x6c1)]+'\x20('+this[_0x10f1b0(0x63b)][_0x10f1b0(0x27c)]+_0x10f1b0(0x533)+_0x38a1df[_0x10f1b0(0x5f6)]+_0x10f1b0(0x25c)),new m(_0x10f1b0(0x7d0)+_0x38a1df[_0x10f1b0(0x5f6)]+_0x10f1b0(0x25c));return _0x38a1df;}catch(_0x4f6313){return this[_0x10f1b0(0x5e8)]['error'](this[_0x10f1b0(0x6c1)]+'\x20('+this[_0x10f1b0(0x63b)]['wuid']+_0x10f1b0(0x7a1)+(_0x4f6313 instanceof Error?_0x4f6313[_0x10f1b0(0x65e)]:JSON['stringify'](_0x4f6313,null,0x2))),null;}}async['findConversation'](_0x335bec,_0x8d8bdc){const _0x9e0464=a0_0x33b913;try{let _0x16ab20=!!_0x8d8bdc[_0x9e0464(0x22a)],_0x44da93=_0x8d8bdc['quoted'],_0x27dcac=null;if(this[_0x9e0464(0x5e8)]['verbose'](this[_0x9e0464(0x6c1)]+'\x20('+this['instance'][_0x9e0464(0x27c)]+'):\x20isVote:\x20'+_0x16ab20+'\x20quoted:\x20'+_0x44da93),_0x16ab20){this[_0x9e0464(0x5e8)][_0x9e0464(0x6e9)](this[_0x9e0464(0x6c1)]+'\x20('+this['instance'][_0x9e0464(0x27c)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x2d571b={'where':{'remoteJid':_0x335bec,'waitingMenu_id':_0x44da93}};if(_0x27dcac=await this[_0x9e0464(0x59c)][_0x9e0464(0x555)]['findOne'](_0x2d571b,this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]),!_0x27dcac)return this[_0x9e0464(0x5e8)][_0x9e0464(0x6e9)](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)]['wuid']+_0x9e0464(0x6bc)),null;let _0x3a81e1=Date['now'](),_0x33cf1d=_0x27dcac?.[_0x9e0464(0x823)]||0x0,_0x4185d6=_0x3a81e1-_0x33cf1d*0x3c*0x3e8;if(_0x27dcac['lastInteraction']<_0x4185d6){this[_0x9e0464(0x5e8)]['verbose'](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x452));let _0xb521fe={'number':_0x27dcac[_0x9e0464(0x41c)],'options':{'delay':0x0},'textMessage':{'text':_0x27dcac['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0xb521fe);let _0x5ca528={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x9e0464(0x59c)][_0x9e0464(0x555)]['updateOne'](_0x27dcac['_id'],_0x5ca528,this[_0x9e0464(0x63b)]['wuid']),null;}return _0x27dcac[_0x9e0464(0x874)]=Date[_0x9e0464(0x445)](),_0x27dcac[_0x9e0464(0x5ca)][_0x9e0464(0x39b)]=_0x8d8bdc,_0x27dcac;}else{this[_0x9e0464(0x5e8)][_0x9e0464(0x6e9)](this['instanceName']+'\x20('+this[_0x9e0464(0x63b)]['wuid']+_0x9e0464(0x63e)+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x5da)),this[_0x9e0464(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x350));let _0x3b0331={'where':{'remoteJid':_0x335bec,'status':_0x9e0464(0x6c3)}};if(_0x27dcac=await this[_0x9e0464(0x59c)][_0x9e0464(0x555)][_0x9e0464(0x366)](_0x3b0331,this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]),!_0x27dcac){let _0x4ced48=await this[_0x9e0464(0x77b)](_0x335bec);if(_0x4ced48&&(_0x27dcac=await this['createNewConversation'](_0x4ced48,_0x8d8bdc[_0x9e0464(0x2cf)],_0x8d8bdc)),!_0x27dcac)return null;}let _0x2a720d=Date[_0x9e0464(0x445)](),_0x35fc48=_0x27dcac?.['minutesToClose']||0x0,_0x5469e3=_0x2a720d-_0x35fc48*0x3c*0x3e8;if(this[_0x9e0464(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+'):\x20Current\x20Time:\x20'+_0x2a720d+_0x9e0464(0x6ac)+_0x35fc48+_0x9e0464(0x178)+_0x5469e3),this['logger'][_0x9e0464(0x6e9)](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+'):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot'),this[_0x9e0464(0x5e8)][_0x9e0464(0x6e9)](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x46e)+_0x27dcac['lastInteraction']),this[_0x9e0464(0x5e8)]['verbose'](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x6b1)+_0x5469e3),_0x27dcac[_0x9e0464(0x874)]<_0x5469e3){this[_0x9e0464(0x5e8)][_0x9e0464(0x6e9)](this[_0x9e0464(0x6c1)]+'\x20('+this[_0x9e0464(0x63b)][_0x9e0464(0x27c)]+_0x9e0464(0x41d));let _0x3de102=await this[_0x9e0464(0x77b)](_0x335bec);if(_0x3de102===null)return null;_0x27dcac&&await this[_0x9e0464(0x59c)][_0x9e0464(0x555)][_0x9e0464(0x6f0)](_0x27dcac['_id'],{'status':_0x9e0464(0x584)},this['instance'][_0x9e0464(0x27c)]),_0x27dcac=await this[_0x9e0464(0x579)](_0x3de102,_0x8d8bdc['key'],_0x8d8bdc);}return _0x27dcac[_0x9e0464(0x874)]=_0x2a720d,_0x27dcac[_0x9e0464(0x5ca)]['lastReceivedMessage']=_0x8d8bdc,_0x27dcac;}}catch(_0x33ce96){return this[_0x9e0464(0x5e8)][_0x9e0464(0x43c)](this[_0x9e0464(0x6c1)]+'\x20('+this['instance'][_0x9e0464(0x27c)]+_0x9e0464(0x44d)+(_0x33ce96 instanceof Error?_0x33ce96[_0x9e0464(0x65e)]:JSON['stringify'](_0x33ce96,null,0x2))),null;}}async[a0_0x33b913(0x579)](_0x128b38,_0x4d5ce6,_0x44d90a){const _0x46ca85=a0_0x33b913;this[_0x46ca85(0x5e8)][_0x46ca85(0x6e9)](this['instanceName']+'\x20('+this[_0x46ca85(0x63b)][_0x46ca85(0x27c)]+_0x46ca85(0x5cc));try{let _0x17f9b3=require(_0x46ca85(0x302))['ObjectId'],_0x1ffa0d=Date[_0x46ca85(0x445)](),_0x2631fd=_0x46ca85(0x546),_0x3edcee=_0x4d5ce6[_0x46ca85(0x3c9)]?null:_0x44d90a,_0x2e6d45=_0x4d5ce6[_0x46ca85(0x3c9)]?_0x44d90a:null,_0x44e9fd=_0x4d5ce6[_0x46ca85(0x41c)],_0x29e925=this[_0x46ca85(0x36e)]['flows'][_0x46ca85(0x345)](_0x5ee2f7=>_0x5ee2f7[_0x46ca85(0x5f6)]===_0x128b38['_id']?.[_0x46ca85(0x2fe)]()),_0x19fe5e=_0x29e925?.[_0x46ca85(0x823)]??_0x128b38[_0x46ca85(0x823)]??0x0,_0x40391a=_0x29e925?.[_0x46ca85(0x879)]??_0x128b38['readMessages']??!0x1;await this[_0x46ca85(0x269)](_0x44e9fd);let _0x3da250={'flowId':_0x128b38[_0x46ca85(0x5f6)],..._0x128b38,'chatLog':null},_0x673767=await this['variablesToObject'](_0x3da250[_0x46ca85(0x566)]),_0x396291=await this['getVariablesChat'](_0x44e9fd),_0x50bcc5={..._0x673767,..._0x396291,'_remoteJid':_0x44e9fd},_0x87005f={'lastReceivedMessage':_0x3edcee,'lastSendMessage':_0x2e6d45,'lastBlockId':_0x2631fd,'lastCondition':!0x0,'realVariables':_0x50bcc5};_0x3da250[_0x46ca85(0x5ca)]=_0x87005f,delete _0x3da250[_0x46ca85(0x5f6)],_0x3da250[_0x46ca85(0x5f6)]=new _0x17f9b3(),_0x3da250[_0x46ca85(0x874)]=_0x1ffa0d,_0x3da250[_0x46ca85(0x615)]=_0x46ca85(0x6c3),_0x3da250[_0x46ca85(0x41c)]=_0x44e9fd,_0x3da250[_0x46ca85(0x823)]=_0x19fe5e,_0x3da250['readMessages']=_0x40391a;let _0x235a15=await this['repository'][_0x46ca85(0x555)][_0x46ca85(0x6f0)](_0x3da250['_id'],_0x3da250,this[_0x46ca85(0x63b)][_0x46ca85(0x27c)]);return this['logger'][_0x46ca85(0x6e9)](this[_0x46ca85(0x6c1)]+'\x20('+this[_0x46ca85(0x63b)][_0x46ca85(0x27c)]+_0x46ca85(0x38a)),_0x235a15?_0x3da250:null;}catch(_0xddd50f){return this[_0x46ca85(0x5e8)][_0x46ca85(0x43c)](this[_0x46ca85(0x6c1)]+'\x20('+this[_0x46ca85(0x63b)]['wuid']+_0x46ca85(0x232)+(_0xddd50f instanceof Error?_0xddd50f['message']:JSON[_0x46ca85(0x590)](_0xddd50f,null,0x2))),_0xddd50f;}}async[a0_0x33b913(0x59e)](_0x61ca04,_0x5eed13){const _0x33e5a4=a0_0x33b913;let _0x598062=_0x61ca04['remoteJid'];_0x5eed13[_0x33e5a4(0x6f4)][_0x33e5a4(0x41c)]&&_0x5eed13[_0x33e5a4(0x6f4)][_0x33e5a4(0x41c)]['trim']()!==''&&(_0x598062=_0x5eed13['uazapi']['remoteJid'][_0x33e5a4(0x1ce)]()),this[_0x33e5a4(0x5e8)][_0x33e5a4(0x6e9)](this[_0x33e5a4(0x6c1)]+'\x20('+this[_0x33e5a4(0x63b)][_0x33e5a4(0x27c)]+'):\x20Enviando\x20texto');let _0x2382a2={'number':_0x598062,'options':{'delay':_0x5eed13[_0x33e5a4(0x6f4)][_0x33e5a4(0x29d)],'linkPreview':_0x5eed13[_0x33e5a4(0x6f4)]['linkPreview']},'textMessage':{'text':_0x5eed13[_0x33e5a4(0x6f4)][_0x33e5a4(0x720)]}};try{let _0x201a51=await this[_0x33e5a4(0x817)](_0x2382a2);if(_0x201a51){let _0xcd4319={'_id':_0x201a51[_0x33e5a4(0x2cf)]['id'],'_fromMe':_0x201a51[_0x33e5a4(0x2cf)]['fromMe'],'_remoteJid':_0x201a51['key']['remoteJid']},_0x3f6cb4=(0x0,w[_0x33e5a4(0x785)])(_0x201a51[_0x33e5a4(0x65e)]),_0x3a62b2=(0x0,w['getContentType'])(_0x3f6cb4);_0x61ca04[_0x33e5a4(0x5ca)][_0x33e5a4(0x655)]=_0x5eed13[_0x33e5a4(0x5f6)][_0x33e5a4(0x2fe)]();let {message_normalized:_0x3caa00}=this['normalizeMessage'](_0x3f6cb4,_0x3a62b2,null);_0x61ca04[_0x33e5a4(0x5ca)][_0x33e5a4(0x2c7)]=await _0x3caa00;let _0x4599ea={'messageId':_0x201a51['key']['id']},_0x32628c=_0x61ca04['chatLog'][_0x33e5a4(0x15f)];Object[_0x33e5a4(0x794)](_0x32628c,_0xcd4319),_0x61ca04[_0x33e5a4(0x5ca)]['realVariables']=_0x32628c,this['updateConversation'](_0x61ca04,_0x5eed13,_0x4599ea);}else{let _0x515178={'error':!0x0};this[_0x33e5a4(0x3aa)](_0x61ca04,_0x5eed13,_0x515178),this[_0x33e5a4(0x5e8)][_0x33e5a4(0x43c)](this[_0x33e5a4(0x6c1)]+'\x20('+this[_0x33e5a4(0x63b)][_0x33e5a4(0x27c)]+_0x33e5a4(0x4b5));}}catch(_0x39d031){let _0x48de10={'error':!0x0,'errorLog':_0x39d031[_0x33e5a4(0x2fe)]()};this['updateConversation'](_0x61ca04,_0x5eed13,_0x48de10),this[_0x33e5a4(0x5e8)]['error'](this[_0x33e5a4(0x6c1)]+'\x20('+this['instance'][_0x33e5a4(0x27c)]+_0x33e5a4(0x1c7)+(_0x39d031 instanceof Error?_0x39d031['message']:JSON[_0x33e5a4(0x590)](_0x39d031,null,0x2)));}}async[a0_0x33b913(0x6af)](_0x524bb0,_0x186b8b){const _0x30d34e=a0_0x33b913;let _0x2d3e59=_0x524bb0['remoteJid'];_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x41c)]&&_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x41c)][_0x30d34e(0x1ce)]()!==''&&(_0x2d3e59=_0x186b8b['uazapi'][_0x30d34e(0x41c)][_0x30d34e(0x1ce)]()),this[_0x30d34e(0x5e8)][_0x30d34e(0x6e9)](this[_0x30d34e(0x6c1)]+'\x20('+this[_0x30d34e(0x63b)][_0x30d34e(0x27c)]+_0x30d34e(0x682));let _0x1182cd={'number':_0x2d3e59,'options':{'delay':_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x29d)],'linkPreview':_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x40e)]},'mediaMessage':{'mediatype':_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x6bd)],'caption':_0x186b8b[_0x30d34e(0x6f4)]['caption'],'media':_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x44f)],'fileName':_0x186b8b[_0x30d34e(0x6f4)][_0x30d34e(0x3dc)]}};try{let _0xb9cd71=await this[_0x30d34e(0x3f9)](_0x1182cd);if(_0xb9cd71){let _0x3b6e10={'_id':_0xb9cd71[_0x30d34e(0x2cf)]['id'],'_fromMe':_0xb9cd71['key'][_0x30d34e(0x3c9)],'_remoteJid':_0xb9cd71['key']['remoteJid']},_0x246a9b=(0x0,w[_0x30d34e(0x785)])(_0xb9cd71[_0x30d34e(0x65e)]),_0x4d80d3=(0x0,w['getContentType'])(_0x246a9b);_0x524bb0[_0x30d34e(0x5ca)]['lastBlockId']=_0x186b8b['_id'][_0x30d34e(0x2fe)]();let {message_normalized:_0x31e354}=this[_0x30d34e(0x778)](_0x246a9b,_0x4d80d3,null);_0x524bb0[_0x30d34e(0x5ca)]['lastSendMessage']=await _0x31e354;let _0xdda93a={'messageId':_0xb9cd71[_0x30d34e(0x2cf)]['id']},_0x223019=_0x524bb0[_0x30d34e(0x5ca)]['realVariables'];Object[_0x30d34e(0x794)](_0x223019,_0x3b6e10),_0x524bb0[_0x30d34e(0x5ca)][_0x30d34e(0x15f)]=_0x223019,this[_0x30d34e(0x3aa)](_0x524bb0,_0x186b8b,_0xdda93a);}else{let _0x56481e={'error':!0x0};this[_0x30d34e(0x3aa)](_0x524bb0,_0x186b8b,_0x56481e),this[_0x30d34e(0x5e8)][_0x30d34e(0x43c)](this[_0x30d34e(0x6c1)]+'\x20('+this['instance'][_0x30d34e(0x27c)]+_0x30d34e(0x325));}}catch(_0x343cf2){let _0x4d1925={'error':!0x0,'errorLog':_0x343cf2['toString']()};this['updateConversation'](_0x524bb0,_0x186b8b,_0x4d1925),this[_0x30d34e(0x5e8)][_0x30d34e(0x43c)](this[_0x30d34e(0x6c1)]+'\x20('+this[_0x30d34e(0x63b)]['wuid']+_0x30d34e(0x190)+(_0x343cf2 instanceof Error?_0x343cf2[_0x30d34e(0x65e)]:JSON[_0x30d34e(0x590)](_0x343cf2,null,0x2)));}}async[a0_0x33b913(0x83b)](_0x4f0911,_0x21e814){const _0x2329a9=a0_0x33b913;let _0x2c1a77=_0x4f0911[_0x2329a9(0x41c)];_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x41c)]&&_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x41c)][_0x2329a9(0x1ce)]()!==''&&(_0x2c1a77=_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x41c)][_0x2329a9(0x1ce)]()),this[_0x2329a9(0x5e8)][_0x2329a9(0x6e9)](this['instanceName']+'\x20('+this[_0x2329a9(0x63b)][_0x2329a9(0x27c)]+'):\x20Enviando\x20localizao');let _0x90d7cc={'number':_0x2c1a77,'options':{'delay':_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x29d)]},'locationMessage':{'name':_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x382)],'address':_0x21e814['uazapi'][_0x2329a9(0x245)],'latitude':_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x518)],'longitude':_0x21e814[_0x2329a9(0x6f4)][_0x2329a9(0x440)]}};try{let _0x2ed4f1=await this[_0x2329a9(0x175)](_0x90d7cc);if(_0x2ed4f1){let _0x170800={'_id':_0x2ed4f1[_0x2329a9(0x2cf)]['id'],'_fromMe':_0x2ed4f1[_0x2329a9(0x2cf)]['fromMe'],'_remoteJid':_0x2ed4f1[_0x2329a9(0x2cf)][_0x2329a9(0x41c)]},_0x164b48=(0x0,w['normalizeMessageContent'])(_0x2ed4f1['message']),_0x28937c=(0x0,w[_0x2329a9(0x687)])(_0x164b48);_0x4f0911['chatLog'][_0x2329a9(0x655)]=_0x21e814['_id'][_0x2329a9(0x2fe)]();let {message_normalized:_0x2e285e}=this[_0x2329a9(0x778)](_0x164b48,_0x28937c,null);_0x4f0911[_0x2329a9(0x5ca)]['lastSendMessage']=await _0x2e285e;let _0x587d08={'messageId':_0x2ed4f1['key']['id']},_0x3fd5b=_0x4f0911[_0x2329a9(0x5ca)]['realVariables'];Object[_0x2329a9(0x794)](_0x3fd5b,_0x170800),_0x4f0911['chatLog'][_0x2329a9(0x15f)]=_0x3fd5b,this[_0x2329a9(0x3aa)](_0x4f0911,_0x21e814,_0x587d08);}else{let _0x265f3c={'error':!0x0};this[_0x2329a9(0x3aa)](_0x4f0911,_0x21e814,_0x265f3c),this[_0x2329a9(0x5e8)][_0x2329a9(0x43c)](this[_0x2329a9(0x6c1)]+'\x20('+this[_0x2329a9(0x63b)]['wuid']+_0x2329a9(0x840));}}catch(_0x2773f4){let _0x3ae8cf={'error':!0x0,'errorLog':_0x2773f4['toString']()};this[_0x2329a9(0x3aa)](_0x4f0911,_0x21e814,_0x3ae8cf),this[_0x2329a9(0x5e8)][_0x2329a9(0x43c)](this[_0x2329a9(0x6c1)]+'\x20('+this['instance'][_0x2329a9(0x27c)]+_0x2329a9(0x641)+(_0x2773f4 instanceof Error?_0x2773f4[_0x2329a9(0x65e)]:JSON[_0x2329a9(0x590)](_0x2773f4,null,0x2)));}}async[a0_0x33b913(0x180)](_0x3760dc,_0x25a0de){const _0x4b8a37=a0_0x33b913;let _0x2193be=_0x3760dc[_0x4b8a37(0x41c)];_0x25a0de[_0x4b8a37(0x6f4)][_0x4b8a37(0x41c)]&&_0x25a0de[_0x4b8a37(0x6f4)]['remoteJid'][_0x4b8a37(0x1ce)]()!==''&&(_0x2193be=_0x25a0de['uazapi'][_0x4b8a37(0x41c)]['trim']()),this['logger'][_0x4b8a37(0x6e9)](this[_0x4b8a37(0x6c1)]+'\x20('+this[_0x4b8a37(0x63b)][_0x4b8a37(0x27c)]+'):\x20Enviando\x20udio');let _0x2b4ec0={'number':_0x2193be,'options':{'delay':_0x25a0de[_0x4b8a37(0x6f4)][_0x4b8a37(0x29d)]},'audioMessage':{'audio':_0x25a0de[_0x4b8a37(0x6f4)]['audio']}};try{let _0x3de19e=await this['audioWhatsapp'](_0x2b4ec0);if(_0x3de19e){let _0x311e36={'_id':_0x3de19e[_0x4b8a37(0x2cf)]['id'],'_fromMe':_0x3de19e[_0x4b8a37(0x2cf)]['fromMe'],'_remoteJid':_0x3de19e['key'][_0x4b8a37(0x41c)]},_0x43bcbd=(0x0,w[_0x4b8a37(0x785)])(_0x3de19e[_0x4b8a37(0x65e)]),_0x42ef37=(0x0,w[_0x4b8a37(0x687)])(_0x43bcbd);_0x3760dc[_0x4b8a37(0x5ca)][_0x4b8a37(0x655)]=_0x25a0de[_0x4b8a37(0x5f6)]['toString']();let {message_normalized:_0x56cc5d}=this['normalizeMessage'](_0x43bcbd,_0x42ef37,null);_0x3760dc['chatLog'][_0x4b8a37(0x2c7)]=await _0x56cc5d;let _0x900891={'messageId':_0x3de19e[_0x4b8a37(0x2cf)]['id']},_0x3c30af=_0x3760dc['chatLog'][_0x4b8a37(0x15f)];Object[_0x4b8a37(0x794)](_0x3c30af,_0x311e36),_0x3760dc['chatLog']['realVariables']=_0x3c30af,this['updateConversation'](_0x3760dc,_0x25a0de,_0x900891);}else{let _0x4731ae={'error':!0x0};this[_0x4b8a37(0x3aa)](_0x3760dc,_0x25a0de,_0x4731ae),this[_0x4b8a37(0x5e8)][_0x4b8a37(0x43c)](this[_0x4b8a37(0x6c1)]+'\x20('+this[_0x4b8a37(0x63b)][_0x4b8a37(0x27c)]+_0x4b8a37(0x813));}}catch(_0x5deade){let _0x576df3={'error':!0x0,'errorLog':_0x5deade[_0x4b8a37(0x2fe)]()};this[_0x4b8a37(0x3aa)](_0x3760dc,_0x25a0de,_0x576df3),this['logger']['error'](this[_0x4b8a37(0x6c1)]+'\x20('+this['instance'][_0x4b8a37(0x27c)]+_0x4b8a37(0x322)+(_0x5deade instanceof Error?_0x5deade['message']:JSON[_0x4b8a37(0x590)](_0x5deade,null,0x2)));}}async[a0_0x33b913(0x2d1)](_0x3396b5,_0x472054){const _0x56da5b=a0_0x33b913;let _0x4625d2=_0x3396b5['remoteJid'];_0x472054[_0x56da5b(0x6f4)][_0x56da5b(0x41c)]&&_0x472054[_0x56da5b(0x6f4)]['remoteJid'][_0x56da5b(0x1ce)]()!==''&&(_0x4625d2=_0x472054[_0x56da5b(0x6f4)][_0x56da5b(0x41c)][_0x56da5b(0x1ce)]()),this[_0x56da5b(0x5e8)][_0x56da5b(0x6e9)](this[_0x56da5b(0x6c1)]+'\x20('+this[_0x56da5b(0x63b)]['wuid']+_0x56da5b(0x600));let _0x22f4cd={'number':_0x4625d2,'options':{'delay':_0x472054[_0x56da5b(0x6f4)][_0x56da5b(0x29d)]},'contactMessage':[{'fullName':_0x472054[_0x56da5b(0x6f4)][_0x56da5b(0x48b)],'phoneNumber':_0x472054['uazapi'][_0x56da5b(0x4bd)]}]};try{let _0x49b58d=await this['contactMessage'](_0x22f4cd);if(_0x49b58d){let _0xea964d={'_id':_0x49b58d['key']['id'],'_fromMe':_0x49b58d[_0x56da5b(0x2cf)][_0x56da5b(0x3c9)],'_remoteJid':_0x49b58d[_0x56da5b(0x2cf)][_0x56da5b(0x41c)]},_0x1a19f7=(0x0,w[_0x56da5b(0x785)])(_0x49b58d[_0x56da5b(0x65e)]),_0x13a9f7=(0x0,w[_0x56da5b(0x687)])(_0x1a19f7);_0x3396b5[_0x56da5b(0x5ca)][_0x56da5b(0x655)]=_0x472054[_0x56da5b(0x5f6)][_0x56da5b(0x2fe)]();let {message_normalized:_0x897835}=this[_0x56da5b(0x778)](_0x1a19f7,_0x13a9f7,null);_0x3396b5[_0x56da5b(0x5ca)][_0x56da5b(0x2c7)]=await _0x897835;let _0x25d6fc={'messageId':_0x49b58d[_0x56da5b(0x2cf)]['id']},_0x56ad7f=_0x3396b5['chatLog'][_0x56da5b(0x15f)];Object[_0x56da5b(0x794)](_0x56ad7f,_0xea964d),_0x3396b5['chatLog'][_0x56da5b(0x15f)]=_0x56ad7f,this[_0x56da5b(0x3aa)](_0x3396b5,_0x472054,_0x25d6fc);}else{let _0x30fc5c={'error':!0x0};this[_0x56da5b(0x3aa)](_0x3396b5,_0x472054,_0x30fc5c),this['logger'][_0x56da5b(0x43c)](this[_0x56da5b(0x6c1)]+'\x20('+this[_0x56da5b(0x63b)][_0x56da5b(0x27c)]+_0x56da5b(0x61f));}}catch(_0x35996c){let _0x3c6ea2={'error':!0x0,'errorLog':_0x35996c[_0x56da5b(0x2fe)]()};this[_0x56da5b(0x3aa)](_0x3396b5,_0x472054,_0x3c6ea2),this[_0x56da5b(0x5e8)][_0x56da5b(0x43c)](this[_0x56da5b(0x6c1)]+'\x20('+this[_0x56da5b(0x63b)][_0x56da5b(0x27c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x35996c instanceof Error?_0x35996c['message']:JSON[_0x56da5b(0x590)](_0x35996c,null,0x2)));}}[a0_0x33b913(0x61a)](_0x61e85c,_0x2140f1){const _0x3850ab=a0_0x33b913;for(let _0x3ffb49 of _0x61e85c)_0x3ffb49['option']&&(_0x3ffb49[_0x3850ab(0x5d2)]=this[_0x3850ab(0x1f4)](_0x3ffb49['option'],_0x2140f1)),_0x3ffb49[_0x3850ab(0x4ca)]&&(_0x3ffb49[_0x3850ab(0x4ca)]=this['replaceVariables'](_0x3ffb49['optionDescription'],_0x2140f1));}async[a0_0x33b913(0x69b)](_0x35ca13,_0x2be335){const _0x25b9e2=a0_0x33b913;let _0x56781c=_0x35ca13[_0x25b9e2(0x41c)];_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x41c)]&&_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x41c)]['trim']()!==''&&(_0x56781c=_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x41c)][_0x25b9e2(0x1ce)]()),this[_0x25b9e2(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x25b9e2(0x63b)]['wuid']+_0x25b9e2(0x3ca));let _0x30c925=_0x35ca13[_0x25b9e2(0x78a)][_0x25b9e2(0x711)](_0xb1d02a=>_0xb1d02a[_0x25b9e2(0x3a7)]===_0x2be335[_0x25b9e2(0x5f6)])[_0x25b9e2(0x81b)]((_0x4ea165,_0x10d6dd)=>_0x4ea165[_0x25b9e2(0x707)]-_0x10d6dd['order']);this[_0x25b9e2(0x61a)](_0x30c925,_0x35ca13['chatLog'][_0x25b9e2(0x15f)]);let _0xa09ed4=_0x30c925[_0x25b9e2(0x6f7)](_0xcaa254=>_0xcaa254[_0x25b9e2(0x5d2)]),_0x245031={'number':_0x56781c,'menuMessage':{'type':_0x2be335[_0x25b9e2(0x6f4)]['menuType']||_0x25b9e2(0x2f6),'text':_0x2be335[_0x25b9e2(0x6f4)]['text']||_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x382)],'footerText':_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x5c3)],'buttonText':_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x1e7)],'selectableCount':0x1,'choices':_0xa09ed4},'options':{'delay':_0x2be335[_0x25b9e2(0x6f4)]['delay']}};try{let _0x74be19=await this[_0x25b9e2(0x36f)](_0x245031);if(_0x74be19){let _0x536954={'_id':_0x74be19[_0x25b9e2(0x2cf)]['id'],'_fromMe':_0x74be19[_0x25b9e2(0x2cf)]['fromMe'],'_remoteJid':_0x74be19[_0x25b9e2(0x2cf)]['remoteJid']};_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x716)]===!0x0&&(_0x35ca13[_0x25b9e2(0x615)]='waitingForReplyMenu',this[_0x25b9e2(0x5e8)][_0x25b9e2(0x6e9)](this[_0x25b9e2(0x6c1)]+'\x20('+this[_0x25b9e2(0x63b)][_0x25b9e2(0x27c)]+_0x25b9e2(0x33a)+_0x35ca13[_0x25b9e2(0x615)])),this['logger']['verbose'](this[_0x25b9e2(0x6c1)]+'\x20('+this['instance']['wuid']+_0x25b9e2(0x409)+(_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x382)]||_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x720)])),_0x35ca13[_0x25b9e2(0x339)]=_0x74be19[_0x25b9e2(0x2cf)]['id'],_0x35ca13[_0x25b9e2(0x2f4)]=_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x382)]||_0x2be335['uazapi'][_0x25b9e2(0x720)],_0x35ca13[_0x25b9e2(0x4bf)]=_0x30c925,_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x464)]&&(_0x35ca13[_0x25b9e2(0x489)]=_0x2be335[_0x25b9e2(0x6f4)][_0x25b9e2(0x464)]),this[_0x25b9e2(0x5e8)]['verbose'](this[_0x25b9e2(0x6c1)]+'\x20('+this['instance'][_0x25b9e2(0x27c)]+_0x25b9e2(0x20f)+_0x35ca13[_0x25b9e2(0x2f4)]);let _0x4ec6db=(0x0,w[_0x25b9e2(0x785)])(_0x74be19['message']),_0x50b490=(0x0,w[_0x25b9e2(0x687)])(_0x4ec6db);_0x35ca13['chatLog'][_0x25b9e2(0x655)]=_0x2be335['_id'][_0x25b9e2(0x2fe)]();let {message_normalized:_0x566c57}=this[_0x25b9e2(0x778)](_0x4ec6db,_0x50b490,null);_0x35ca13[_0x25b9e2(0x5ca)][_0x25b9e2(0x2c7)]=await _0x566c57;let _0x5efe79={'messageId':_0x74be19['key']['id']},_0x3e5dd7=_0x35ca13['chatLog'][_0x25b9e2(0x15f)];Object[_0x25b9e2(0x794)](_0x3e5dd7,_0x536954),_0x35ca13[_0x25b9e2(0x5ca)][_0x25b9e2(0x15f)]=_0x3e5dd7,this['updateConversation'](_0x35ca13,_0x2be335,_0x5efe79);}else{let _0x4c76f8={'error':!0x0};this[_0x25b9e2(0x3aa)](_0x35ca13,_0x2be335,_0x4c76f8),this['logger']['error'](this[_0x25b9e2(0x6c1)]+'\x20('+this[_0x25b9e2(0x63b)][_0x25b9e2(0x27c)]+_0x25b9e2(0x68a));}}catch(_0x56d657){let _0x41bbf8={'error':!0x0,'errorLog':_0x56d657 instanceof Error?_0x56d657[_0x25b9e2(0x65e)]:JSON[_0x25b9e2(0x590)](_0x56d657,null,0x2)};this[_0x25b9e2(0x3aa)](_0x35ca13,_0x2be335,_0x41bbf8),this[_0x25b9e2(0x5e8)]['error'](this[_0x25b9e2(0x6c1)]+'\x20('+this[_0x25b9e2(0x63b)]['wuid']+_0x25b9e2(0x53f)+(_0x56d657 instanceof Error?_0x56d657[_0x25b9e2(0x65e)]:JSON[_0x25b9e2(0x590)](_0x56d657,null,0x2)));}}async[a0_0x33b913(0x7be)](_0x4abe64,_0x1a10d2){const _0x6f64f6=a0_0x33b913;this[_0x6f64f6(0x5e8)]['verbose'](this[_0x6f64f6(0x6c1)]+'\x20('+this[_0x6f64f6(0x63b)][_0x6f64f6(0x27c)]+_0x6f64f6(0x545));let _0x2818c5=_0x4abe64[_0x6f64f6(0x5ca)][_0x6f64f6(0x821)][_0x6f64f6(0x345)](_0x2a926=>_0x2a926[_0x6f64f6(0x3a7)]['toString']()===_0x1a10d2['uazapi'][_0x6f64f6(0x3a7)][_0x6f64f6(0x2fe)]()),_0xb68176={'id':_0x2818c5[_0x6f64f6(0x264)],'remoteJid':_0x2818c5[_0x6f64f6(0x41c)],'fromMe':_0x2818c5[_0x6f64f6(0x3c9)]};try{let _0x3acb67=await this[_0x6f64f6(0x587)](_0xb68176);if(_0x3acb67){let _0x4df44c=(0x0,w['normalizeMessageContent'])(_0x3acb67[_0x6f64f6(0x65e)]),_0x7d3666=(0x0,w[_0x6f64f6(0x687)])(_0x4df44c);_0x4abe64['chatLog'][_0x6f64f6(0x655)]=_0x1a10d2['_id'][_0x6f64f6(0x2fe)]();let {message_normalized:_0x5c60e8}=this['normalizeMessage'](_0x4df44c,_0x7d3666,null);_0x4abe64[_0x6f64f6(0x5ca)][_0x6f64f6(0x2c7)]=await _0x5c60e8;let _0x22a71b={};this[_0x6f64f6(0x3aa)](_0x4abe64,_0x1a10d2,_0x22a71b);}else{let _0x26ee2b={'error':!0x0};this[_0x6f64f6(0x3aa)](_0x4abe64,_0x1a10d2,_0x26ee2b),this['logger'][_0x6f64f6(0x43c)](this[_0x6f64f6(0x6c1)]+'\x20('+this[_0x6f64f6(0x63b)]['wuid']+_0x6f64f6(0x6b7));}}catch(_0x46608e){let _0x145a1f={'error':!0x0,'errorLog':_0x46608e instanceof Error?_0x46608e[_0x6f64f6(0x65e)]:JSON[_0x6f64f6(0x590)](_0x46608e,null,0x2)};this[_0x6f64f6(0x3aa)](_0x4abe64,_0x1a10d2,_0x145a1f),this[_0x6f64f6(0x5e8)][_0x6f64f6(0x43c)](this['instanceName']+'\x20('+this[_0x6f64f6(0x63b)][_0x6f64f6(0x27c)]+_0x6f64f6(0x1c3)+(_0x46608e instanceof Error?_0x46608e[_0x6f64f6(0x65e)]:JSON[_0x6f64f6(0x590)](_0x46608e,null,0x2)));}}async[a0_0x33b913(0x25b)](_0x4eef44,_0x216c10){const _0x35d6ed=a0_0x33b913;if(_0x4eef44['name']||(_0x4eef44[_0x35d6ed(0x382)]=(0x0,he['v4'])()),_0x216c10!==Si&&_0x4eef44?.['globalShow'])throw new m(_0x35d6ed(0x317));if('_id'in _0x4eef44&&'owner'in _0x4eef44)return this['AddUserFlow'](_0x4eef44[_0x35d6ed(0x389)],_0x4eef44[_0x35d6ed(0x5f6)]);this['logger']['verbose'](this[_0x35d6ed(0x6c1)]+'\x20('+this[_0x35d6ed(0x63b)][_0x35d6ed(0x27c)]+_0x35d6ed(0x5b5));let _0x5bd79a=this[_0x35d6ed(0x646)](_0x4eef44[_0x35d6ed(0x382)]),_0x2717e8=new le[(_0x35d6ed(0x219))][(_0x35d6ed(0x58f))](),_0x27fa72={'_id':_0x2717e8,'default':!0x0,'title':'Incio','x':0x0,'y':0x0},_0x345623={'_id':new le[(_0x35d6ed(0x219))]['ObjectId'](),'order':0x1,'groupId':_0x2717e8['toString'](),'type':_0x35d6ed(0x546)},_0x4049ff=this[_0x35d6ed(0x63b)]['wuid'],_0x5d5f92={'_id':(0x0,he['v4'])(),'owner':_0x4049ff,'name':_0x5bd79a,'whoCanEdit':[_0x4049ff],'whoCanUse':[_0x4049ff],'groups':[_0x27fa72],'blocks':[_0x345623],..._0x4eef44};try{let _0x40a067=await this[_0x35d6ed(0x59c)][_0x35d6ed(0x223)]['createAndSave'](_0x5d5f92);return await this['synchronizeAndMapFlows'](),_0x40a067;}catch(_0x29d1c0){let _0x35ca0a=_0x35d6ed(0x592),_0x39bebc=_0x29d1c0 instanceof Error?_0x29d1c0[_0x35d6ed(0x65e)]:typeof _0x29d1c0==_0x35d6ed(0x24d)?JSON['stringify'](_0x29d1c0):_0x29d1c0,_0x2e0fec=_0x35ca0a+':\x20'+_0x39bebc;throw this[_0x35d6ed(0x5e8)]['error'](this[_0x35d6ed(0x6c1)]+'\x20('+this[_0x35d6ed(0x63b)]['wuid']+_0x35d6ed(0x63e)+_0x2e0fec),new m(_0x2e0fec);}}async[a0_0x33b913(0x6c7)](_0x424381,_0x428877){const _0x3e0a2d=a0_0x33b913;try{this['logger'][_0x3e0a2d(0x6e9)](this[_0x3e0a2d(0x6c1)]+'\x20('+this[_0x3e0a2d(0x63b)][_0x3e0a2d(0x27c)]+_0x3e0a2d(0x459));let _0x2b822a=await this['repository'][_0x3e0a2d(0x223)]['findOne']({'where':{'_id':_0x428877,'owner':_0x424381}});if(!_0x2b822a)throw new m(_0x3e0a2d(0x5f9));if(_0x2b822a[_0x3e0a2d(0x706)]===!0x1&&!_0x2b822a[_0x3e0a2d(0x220)])throw new m(_0x3e0a2d(0x86d));let _0x52249e=new Set(_0x2b822a[_0x3e0a2d(0x693)]??[]);_0x52249e[_0x3e0a2d(0x47b)](this[_0x3e0a2d(0x63b)][_0x3e0a2d(0x27c)]);let _0x3114ea=await this[_0x3e0a2d(0x59c)][_0x3e0a2d(0x223)][_0x3e0a2d(0x6f0)](_0x428877,{..._0x2b822a,'whoCanUse':Array[_0x3e0a2d(0x496)](_0x52249e)});return await this[_0x3e0a2d(0x1fd)](),_0x3114ea;}catch(_0x59f3dd){let _0x1a50f8=_0x3e0a2d(0x2c5),_0x288d50=_0x59f3dd instanceof Error?_0x59f3dd[_0x3e0a2d(0x65e)]:typeof _0x59f3dd==_0x3e0a2d(0x24d)?JSON[_0x3e0a2d(0x590)](_0x59f3dd):_0x59f3dd,_0x469906=_0x1a50f8+':\x20'+_0x288d50;throw this[_0x3e0a2d(0x5e8)][_0x3e0a2d(0x43c)](this['instanceName']+'\x20('+this[_0x3e0a2d(0x63b)][_0x3e0a2d(0x27c)]+'):\x20'+_0x469906),new m(_0x469906);}}['getUniqueFlowName'](_0x4ad9f1){const _0x49b81d=a0_0x33b913;let _0x29e2a0=_0x4ad9f1,_0x43b0c8=0x1;for(;this['AutomateSystem']['flows']['some'](_0x202fe8=>_0x202fe8[_0x49b81d(0x382)]===_0x29e2a0);)_0x43b0c8++,_0x29e2a0=_0x4ad9f1+'\x20('+_0x43b0c8+')';return _0x29e2a0;}async[a0_0x33b913(0x32b)](_0x21f865){const _0x48a2ba=a0_0x33b913;try{if(this['logger']['verbose'](this[_0x48a2ba(0x6c1)]+'\x20('+this['instance'][_0x48a2ba(0x27c)]+_0x48a2ba(0x2c2)+_0x21f865[_0x48a2ba(0x5f6)]+_0x48a2ba(0x678)+_0x21f865[_0x48a2ba(0x2c0)]),!this['AutomateSystem'][_0x48a2ba(0x141)][_0x48a2ba(0x345)](_0x5ef5b3=>_0x5ef5b3[_0x48a2ba(0x5f6)]===_0x21f865[_0x48a2ba(0x5f6)]))throw this[_0x48a2ba(0x5e8)][_0x48a2ba(0x6e9)](this[_0x48a2ba(0x6c1)]+'\x20('+this[_0x48a2ba(0x63b)]['wuid']+'):\x20Fluxo\x20\x27'+_0x21f865['_id']+'\x27\x20no\x20encontrado'),new m(_0x48a2ba(0x6e8));let _0x1db338=await this['repository'][_0x48a2ba(0x223)][_0x48a2ba(0x366)]({'where':{'_id':_0x21f865[_0x48a2ba(0x5f6)]}});if(!_0x1db338)throw new m(_0x48a2ba(0x53b));if(this[_0x48a2ba(0x63b)][_0x48a2ba(0x27c)]===_0x1db338[_0x48a2ba(0x389)]){this[_0x48a2ba(0x5e8)][_0x48a2ba(0x6e9)](this[_0x48a2ba(0x6c1)]+'\x20('+this[_0x48a2ba(0x63b)][_0x48a2ba(0x27c)]+_0x48a2ba(0x53d)+_0x21f865['_id']+_0x48a2ba(0x724));let _0xaddaa7=await this['repository']['flow'][_0x48a2ba(0x78c)]({'where':{'_id':_0x21f865['_id']}});return await this[_0x48a2ba(0x1fd)](),_0xaddaa7;}return this['logger'][_0x48a2ba(0x6e9)](this['instanceName']+'\x20('+this[_0x48a2ba(0x63b)]['wuid']+_0x48a2ba(0x338)+this[_0x48a2ba(0x63b)]['wuid']+_0x48a2ba(0x286)+_0x21f865[_0x48a2ba(0x5f6)]+'\x27...'),_0x1db338[_0x48a2ba(0x693)]=(_0x1db338[_0x48a2ba(0x693)]??[])[_0x48a2ba(0x711)](_0xe1da9d=>_0xe1da9d!==this[_0x48a2ba(0x63b)]['wuid']),_0x1db338[_0x48a2ba(0x5d9)]=(_0x1db338['whoCanEdit']??[])[_0x48a2ba(0x711)](_0x416d01=>_0x416d01!==this[_0x48a2ba(0x63b)][_0x48a2ba(0x27c)]),_0x1db338[_0x48a2ba(0x5d9)]['length']===0x0&&_0x1db338['whoCanUse'][_0x48a2ba(0x4ee)]>0x0&&(_0x1db338[_0x48a2ba(0x5d9)][_0x48a2ba(0x41a)](_0x1db338[_0x48a2ba(0x693)][0x0]),this['logger'][_0x48a2ba(0x6e9)](this[_0x48a2ba(0x6c1)]+'\x20('+this['instance'][_0x48a2ba(0x27c)]+_0x48a2ba(0x6d0)+_0x1db338[_0x48a2ba(0x693)][0x0]+_0x48a2ba(0x4a7)+_0x21f865['_id']+_0x48a2ba(0x841))),await this[_0x48a2ba(0x59c)][_0x48a2ba(0x223)][_0x48a2ba(0x6f0)](_0x1db338[_0x48a2ba(0x5f6)],_0x1db338),await this[_0x48a2ba(0x1fd)](),{'message':_0x48a2ba(0x3e5)+_0x21f865[_0x48a2ba(0x382)]+_0x48a2ba(0x6f2)};}catch(_0x15810c){return this[_0x48a2ba(0x5e8)][_0x48a2ba(0x43c)](this[_0x48a2ba(0x6c1)]+'\x20('+this[_0x48a2ba(0x63b)][_0x48a2ba(0x27c)]+_0x48a2ba(0x4d7)+(_0x15810c instanceof Error?_0x15810c['message']:JSON[_0x48a2ba(0x590)](_0x15810c,null,0x2))),{'message':_0x48a2ba(0x4ea)+(_0x15810c instanceof Error?_0x15810c[_0x48a2ba(0x65e)]:JSON['stringify'](_0x15810c,null,0x2))};}}async[a0_0x33b913(0x49d)](_0x5effdd){const _0x123263=a0_0x33b913;try{if(this['logger'][_0x123263(0x4f3)](this[_0x123263(0x6c1)]+'\x20('+this[_0x123263(0x63b)]['wuid']+_0x123263(0x139)+_0x5effdd),!this[_0x123263(0x36e)]&&(await this[_0x123263(0x15c)](),!this['AutomateSystem']))return null;let _0x3ecfaf=await this['repository']['flow'][_0x123263(0x366)]({'where':{'_id':_0x5effdd}});if(!_0x3ecfaf)throw new m(_0x123263(0x872)+_0x5effdd+_0x123263(0x1ad));if(!(_0x3ecfaf[_0x123263(0x220)]||_0x3ecfaf[_0x123263(0x693)]?.['includes'](this[_0x123263(0x63b)][_0x123263(0x27c)])))throw new m(_0x123263(0x4e7)+name+'\x27');_0x3ecfaf['globalShow']&&!_0x3ecfaf[_0x123263(0x693)]?.['includes'](this[_0x123263(0x63b)][_0x123263(0x27c)])&&(_0x3ecfaf[_0x123263(0x693)]=[..._0x3ecfaf[_0x123263(0x693)]??[],this[_0x123263(0x63b)]['wuid']],await this['repository']['flow'][_0x123263(0x6f0)](_0x3ecfaf['_id'],_0x3ecfaf),this[_0x123263(0x1fd)]());let _0x4698f6=this[_0x123263(0x36e)]?.[_0x123263(0x73c)][_0x123263(0x6f7)](_0x221809=>_0x221809['name']),_0x324e23=[_0x123263(0x414),_0x123263(0x186),_0x123263(0x808),_0x123263(0x38c),_0x123263(0x615),'notas','responsavelid',_0x123263(0x7a5),_0x123263(0x67d),_0x123263(0x68c),'atendimentoAberto'];_0x3ecfaf['variables']=_0x3ecfaf[_0x123263(0x566)][_0x123263(0x711)](_0x1d43c3=>!(_0x1d43c3[_0x123263(0x2e3)]===_0x123263(0x19e)||_0x1d43c3[_0x123263(0x19e)])),_0x324e23[_0x123263(0x211)](_0x38e368=>{const _0x527550=_0x123263;_0x3ecfaf[_0x527550(0x566)][_0x527550(0x41a)]({'folder':'leadInfo','name':_0x38e368,'value':'','doc':'','leadInfo':!0x0});}),_0x4698f6[_0x123263(0x211)](_0x3149e9=>{const _0x2dd8c5=_0x123263;let _0x469c37=_0x3ecfaf[_0x2dd8c5(0x566)][_0x2dd8c5(0x2d0)](_0x385cbf=>_0x385cbf['name']===_0x3149e9);_0x469c37===-0x1?_0x3ecfaf[_0x2dd8c5(0x566)]['push']({'folder':_0x2dd8c5(0x19e),'name':_0x3149e9,'value':'','doc':'','leadInfo':!0x0}):(_0x3ecfaf['variables'][_0x469c37][_0x2dd8c5(0x2e3)]=_0x2dd8c5(0x19e),_0x3ecfaf['variables'][_0x469c37][_0x2dd8c5(0x19e)]=!0x0);}),_0x3ecfaf[_0x123263(0x396)]&&_0x3ecfaf['blocks'][_0x123263(0x4ee)]>0x0&&_0x3ecfaf['blocks'][_0x123263(0x211)](_0x3e52d9=>{const _0x4be6ec=_0x123263;_0x3e52d9[_0x4be6ec(0x6b6)]&&_0x3e52d9[_0x4be6ec(0x3d3)]&&_0x3e52d9[_0x4be6ec(0x6b6)]===_0x3e52d9[_0x4be6ec(0x3d3)]&&(_0x3e52d9[_0x4be6ec(0x3d3)]=null);});let _0xa25057=await this[_0x123263(0x59c)]['flow'][_0x123263(0x6f0)](_0x3ecfaf['_id'],_0x3ecfaf);if(!_0xa25057)throw new Error(_0x123263(0x5ce));return _0xa25057;}catch(_0xa0ca75){let _0xd23e55='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x4b949b=_0xa0ca75 instanceof Error?_0xa0ca75[_0x123263(0x65e)]:typeof _0xa0ca75==_0x123263(0x24d)?JSON[_0x123263(0x590)](_0xa0ca75):_0xa0ca75,_0x3d85c1=_0xd23e55+':\x20'+_0x4b949b;throw this['logger'][_0x123263(0x43c)](this[_0x123263(0x6c1)]+'\x20('+this[_0x123263(0x63b)]['wuid']+_0x123263(0x63e)+_0x3d85c1),new m(_0x3d85c1);}}async[a0_0x33b913(0x474)](){const _0x4d0ad3=a0_0x33b913;try{this['logger'][_0x4d0ad3(0x6e9)](this[_0x4d0ad3(0x6c1)]+'\x20('+this[_0x4d0ad3(0x63b)][_0x4d0ad3(0x27c)]+_0x4d0ad3(0x2aa)),await this[_0x4d0ad3(0x1fd)]();let _0x4d9467=await this[_0x4d0ad3(0x59c)][_0x4d0ad3(0x223)][_0x4d0ad3(0x5c1)]({'where':{'globalShow':!0x0}});return[...this[_0x4d0ad3(0x36e)][_0x4d0ad3(0x141)],..._0x4d9467];}catch(_0x565fec){return this[_0x4d0ad3(0x5e8)][_0x4d0ad3(0x43c)](this['instanceName']+'\x20('+this['instance'][_0x4d0ad3(0x27c)]+_0x4d0ad3(0x2cb)+(_0x565fec instanceof Error?_0x565fec['message']:JSON[_0x4d0ad3(0x590)](_0x565fec,null,0x2))),{'message':_0x4d0ad3(0x5cb)+(_0x565fec instanceof Error?_0x565fec[_0x4d0ad3(0x65e)]:String(_0x565fec))};}}async[a0_0x33b913(0x85c)](_0x5a5bd7,_0x349267){const _0x1c52bc=a0_0x33b913;try{this[_0x1c52bc(0x5e8)]['verbose'](this[_0x1c52bc(0x6c1)]+'\x20('+this['instance'][_0x1c52bc(0x27c)]+'):\x20Alterando\x20fluxo...');let _0x2e0190=this[_0x1c52bc(0x36e)]['flows'][_0x1c52bc(0x345)](_0x53fbbb=>_0x53fbbb[_0x1c52bc(0x5f6)]===_0x5a5bd7[_0x1c52bc(0x5f6)]);if(!_0x2e0190)throw this[_0x1c52bc(0x5e8)][_0x1c52bc(0x6e9)](this[_0x1c52bc(0x6c1)]+'\x20('+this[_0x1c52bc(0x63b)][_0x1c52bc(0x27c)]+_0x1c52bc(0x7ff)+_0x5a5bd7[_0x1c52bc(0x5f6)]+_0x1c52bc(0x776)),new m(_0x1c52bc(0x6e8));let _0x1c08a4=await this[_0x1c52bc(0x59c)]['flow'][_0x1c52bc(0x366)]({'where':{'_id':_0x5a5bd7[_0x1c52bc(0x5f6)]}});if(!_0x1c08a4||!_0x1c08a4['whoCanUse']?.['includes'](this['instance'][_0x1c52bc(0x27c)]))throw this['logger'][_0x1c52bc(0x43c)](this[_0x1c52bc(0x6c1)]+'\x20('+this[_0x1c52bc(0x63b)]['wuid']+'):\x20Flow\x20\x27'+_0x5a5bd7['_id']+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1c52bc(0x7d0)+_0x5a5bd7['_id']+_0x1c52bc(0x25c));let _0x554fd6=this[_0x1c52bc(0x36e)][_0x1c52bc(0x141)][_0x1c52bc(0x2d0)](_0x302176=>_0x302176['_id']===_0x2e0190[_0x1c52bc(0x5f6)]);if(_0x554fd6!==-0x1){let _0x4b72be=this[_0x1c52bc(0x36e)]['flows'][_0x554fd6];if(_0x4b72be[_0x1c52bc(0x382)]=_0x5a5bd7[_0x1c52bc(0x382)]??_0x4b72be['name'],_0x4b72be[_0x1c52bc(0x876)]=_0x5a5bd7[_0x1c52bc(0x876)]??_0x4b72be[_0x1c52bc(0x876)],_0x4b72be['testingWith']=_0x5a5bd7[_0x1c52bc(0x3df)]??_0x4b72be[_0x1c52bc(0x3df)],_0x4b72be[_0x1c52bc(0x5ea)]=_0x5a5bd7[_0x1c52bc(0x32f)]??_0x4b72be[_0x1c52bc(0x5ea)],_0x4b72be[_0x1c52bc(0x823)]=_0x5a5bd7['minutesToClose']??_0x4b72be[_0x1c52bc(0x823)],_0x4b72be[_0x1c52bc(0x879)]=_0x5a5bd7[_0x1c52bc(0x879)]??_0x4b72be[_0x1c52bc(0x879)],_0x5a5bd7[_0x1c52bc(0x876)]&&this[_0x1c52bc(0x36e)][_0x1c52bc(0x141)]['forEach']((_0x3d0387,_0x2034bc)=>{const _0x473715=_0x1c52bc;_0x2034bc!==_0x554fd6&&(_0x3d0387[_0x473715(0x876)]=!0x1);}),this[_0x1c52bc(0x36e)][_0x1c52bc(0x141)][_0x554fd6]=_0x4b72be,!await this[_0x1c52bc(0x59c)][_0x1c52bc(0x3e2)]['update']({'flows':this[_0x1c52bc(0x36e)][_0x1c52bc(0x141)]},this['instance']['wuid']))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x758628=['global',_0x1c52bc(0x1e1),'sharePass',_0x1c52bc(0x574)];for(let _0x4d5bfc of _0x758628)delete _0x5a5bd7[_0x4d5bfc];if(!_0x1c08a4['whoCanEdit']?.[_0x1c52bc(0x798)](this[_0x1c52bc(0x63b)][_0x1c52bc(0x27c)]))return{'success':!0x0};if(_0x349267!==Si&&_0x5a5bd7?.[_0x1c52bc(0x220)]&&!_0x1c08a4?.[_0x1c52bc(0x220)])throw new m(_0x1c52bc(0x22d));let _0x1c1068=new Set(_0x5a5bd7[_0x1c52bc(0x5d9)]??_0x1c08a4[_0x1c52bc(0x5d9)]);_0x1c1068['add'](_0x1c08a4[_0x1c52bc(0x389)]);let _0x3da2c8=new Set(_0x5a5bd7[_0x1c52bc(0x693)]??_0x1c08a4[_0x1c52bc(0x693)]??[]);_0x1c1068[_0x1c52bc(0x211)](_0x25abe9=>_0x3da2c8['add'](_0x25abe9)),_0x3da2c8['add'](_0x1c08a4[_0x1c52bc(0x389)]);let _0x5b5e60=await this['getValidWhatsAppNumbers'](Array[_0x1c52bc(0x496)](_0x3da2c8)),_0x58958e=Array['from'](_0x1c1068)[_0x1c52bc(0x711)](_0x6869de=>_0x5b5e60[_0x1c52bc(0x798)](_0x6869de)),_0x306dce=Array[_0x1c52bc(0x496)](_0x3da2c8)[_0x1c52bc(0x711)](_0x1d1f84=>_0x5b5e60[_0x1c52bc(0x798)](_0x1d1f84)),_0x3cf76e={..._0x1c08a4,..._0x5a5bd7,'whoCanEdit':_0x58958e,'whoCanUse':_0x306dce},_0x2d5463=await this[_0x1c52bc(0x59c)][_0x1c52bc(0x223)][_0x1c52bc(0x6f0)](_0x1c08a4[_0x1c52bc(0x5f6)],_0x3cf76e);return await this['synchronizeAndMapFlows'](),_0x2d5463;}catch(_0x2f9477){let _0x53b116='Erro\x20ao\x20alterar\x20fluxo',_0x5d3f3e=_0x2f9477 instanceof Error?_0x2f9477['message']:typeof _0x2f9477==_0x1c52bc(0x24d)?JSON[_0x1c52bc(0x590)](_0x2f9477):_0x2f9477,_0xd96118=_0x53b116+':\x20'+_0x5d3f3e;throw this['logger'][_0x1c52bc(0x43c)](this['instanceName']+'\x20('+this[_0x1c52bc(0x63b)][_0x1c52bc(0x27c)]+'):\x20'+_0xd96118),new m(_0xd96118);}}async['getValidWhatsAppNumbers'](_0x18ce8b){const _0x2037f4=a0_0x33b913;let _0x3888f5={'numbers':_0x18ce8b};return(await this[_0x2037f4(0x177)](_0x3888f5))[_0x2037f4(0x711)](_0x39bf37=>_0x39bf37[_0x2037f4(0x4c3)])[_0x2037f4(0x6f7)](_0x2cecdb=>_0x2cecdb[_0x2037f4(0x662)])[_0x2037f4(0x6f7)](_0x137340=>this[_0x2037f4(0x2ef)](_0x137340));}[a0_0x33b913(0x2ef)](_0x2c7b83){const _0xbf56f=a0_0x33b913;let _0x208784=_0x2c7b83[_0xbf56f(0x328)](/\d+/);return _0x208784?_0x208784[0x0]:'';}async['editFlowBlock'](_0x1e2a75){const _0x2fef6f=a0_0x33b913;try{if(this[_0x2fef6f(0x5e8)][_0x2fef6f(0x6e9)](this[_0x2fef6f(0x6c1)]+'\x20('+this[_0x2fef6f(0x63b)][_0x2fef6f(0x27c)]+'):\x20Editando\x20bloco...'),!this['AutomateSystem'][_0x2fef6f(0x141)][_0x2fef6f(0x345)](_0x177cfd=>_0x177cfd[_0x2fef6f(0x5f6)]===_0x1e2a75[_0x2fef6f(0x5f6)]))throw this[_0x2fef6f(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x2fef6f(0x63b)]['wuid']+_0x2fef6f(0x7ff)+_0x1e2a75[_0x2fef6f(0x5f6)]+_0x2fef6f(0x776)),new m(_0x2fef6f(0x6e8));let _0x3216f2=await this[_0x2fef6f(0x59c)][_0x2fef6f(0x223)][_0x2fef6f(0x366)]({'where':{'_id':_0x1e2a75[_0x2fef6f(0x5f6)]}});if(!_0x3216f2||!_0x3216f2['whoCanUse']?.['includes'](this[_0x2fef6f(0x63b)]['wuid']))throw this[_0x2fef6f(0x5e8)][_0x2fef6f(0x43c)](this[_0x2fef6f(0x6c1)]+'\x20('+this[_0x2fef6f(0x63b)]['wuid']+_0x2fef6f(0x533)+_0x1e2a75[_0x2fef6f(0x5f6)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2fef6f(0x7d0)+_0x1e2a75[_0x2fef6f(0x5f6)]+_0x2fef6f(0x25c));if(!_0x3216f2['whoCanEdit']?.['includes'](this[_0x2fef6f(0x63b)][_0x2fef6f(0x27c)]))throw new m(_0x2fef6f(0x468));let {block:_0x3f997b}=_0x1e2a75;_0x3f997b?.[_0x2fef6f(0x351)]?this['copyBlock'](_0x3216f2,_0x1e2a75):_0x3f997b?.[_0x2fef6f(0x76a)]?this[_0x2fef6f(0x717)](_0x3216f2,_0x1e2a75):_0x3f997b[_0x2fef6f(0x5f6)]?await this[_0x2fef6f(0x2ba)](_0x3216f2,_0x1e2a75):this[_0x2fef6f(0x7a3)](_0x3216f2,_0x1e2a75);let _0x3dc26a=await this[_0x2fef6f(0x59c)][_0x2fef6f(0x223)]['updateOne'](_0x3216f2[_0x2fef6f(0x5f6)],_0x3216f2);if(!_0x3dc26a)throw new Error(_0x2fef6f(0x5ce));return _0x3dc26a;}catch(_0x57788c){this['throwAndLogError'](_0x2fef6f(0x49f)+_0x57788c['message']);}}async[a0_0x33b913(0x681)](_0x5db7d9,_0x32d105){const _0x591616=a0_0x33b913;let _0x4ea949=_0x32d105[_0x591616(0x145)]['_id'],_0x2b17be=_0x5db7d9['blocks']['find'](_0xc94cb=>_0xc94cb[_0x591616(0x5f6)][_0x591616(0x2fe)]()===_0x4ea949);if(!_0x2b17be){this[_0x591616(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x591616(0x63b)][_0x591616(0x27c)]+_0x591616(0x7d4)+_0x4ea949+'\x20no\x20encontrado\x20para\x20cpia');return;}this[_0x591616(0x5e8)][_0x591616(0x6e9)](this[_0x591616(0x6c1)]+'\x20('+this[_0x591616(0x63b)]['wuid']+_0x591616(0x35b)+JSON[_0x591616(0x590)](_0x2b17be));let _0x3438a8=JSON[_0x591616(0x73a)](JSON['stringify'](_0x2b17be));_0x3438a8['_id']=new le[(_0x591616(0x876))][(_0x591616(0x219))][(_0x591616(0x58f))](),this[_0x591616(0x5e8)]['verbose'](this[_0x591616(0x6c1)]+'\x20('+this[_0x591616(0x63b)][_0x591616(0x27c)]+_0x591616(0x453)+JSON['stringify'](_0x3438a8)),_0x5db7d9[_0x591616(0x396)]['push'](_0x3438a8),this[_0x591616(0x70f)](_0x5db7d9[_0x591616(0x396)],_0x3438a8['groupId']);}[a0_0x33b913(0x3b0)](_0xff001a){const _0x10edbb=a0_0x33b913;throw this['logger'][_0x10edbb(0x43c)](this[_0x10edbb(0x6c1)]+'\x20('+this[_0x10edbb(0x63b)]['wuid']+_0x10edbb(0x63e)+_0xff001a),new m(_0xff001a);}[a0_0x33b913(0x717)](_0x4b85e6,_0x12d756){const _0x2aff6a=a0_0x33b913;let {block:_0x1c646c}=_0x12d756;if(_0x1c646c[_0x2aff6a(0x710)]===_0x2aff6a(0x546)){this['throwAndLogError'](_0x2aff6a(0x658));return;}if(!_0x1c646c[_0x2aff6a(0x5f6)]){this[_0x2aff6a(0x3b0)](_0x2aff6a(0x20d));return;}let _0x153448=_0x4b85e6[_0x2aff6a(0x396)][_0x2aff6a(0x345)](_0x311b1b=>_0x311b1b['_id']['toString']()===_0x12d756[_0x2aff6a(0x145)][_0x2aff6a(0x5f6)][_0x2aff6a(0x2fe)]());if(!_0x153448){this[_0x2aff6a(0x3b0)](_0x2aff6a(0x79d)+_0x1c646c['_id']+_0x2aff6a(0x7f9));return;}_0x4b85e6[_0x2aff6a(0x396)]=_0x4b85e6[_0x2aff6a(0x396)]['filter'](_0x2c2b25=>_0x2c2b25[_0x2aff6a(0x5f6)]['toString']()!==_0x12d756[_0x2aff6a(0x145)][_0x2aff6a(0x5f6)][_0x2aff6a(0x2fe)]()),_0x4b85e6[_0x2aff6a(0x242)]=_0x4b85e6[_0x2aff6a(0x242)][_0x2aff6a(0x711)](_0x2bc476=>_0x2bc476[_0x2aff6a(0x3a7)]!==_0x1c646c[_0x2aff6a(0x5f6)][_0x2aff6a(0x2fe)]()),_0x4b85e6[_0x2aff6a(0x601)]=_0x4b85e6[_0x2aff6a(0x601)]['filter'](_0x474e05=>_0x474e05['blockId']!==_0x1c646c[_0x2aff6a(0x5f6)]['toString']()),_0x4b85e6[_0x2aff6a(0x78a)]=_0x4b85e6['replyOptions'][_0x2aff6a(0x711)](_0x1e5c4a=>_0x1e5c4a['blockId']!==_0x1c646c[_0x2aff6a(0x5f6)]['toString']()),this[_0x2aff6a(0x70f)](_0x4b85e6[_0x2aff6a(0x396)],_0x153448[_0x2aff6a(0x6b6)]);}async['updateBlock'](_0x59800b,_0x4038a6){const _0x58f328=a0_0x33b913;let _0x461328=_0x59800b[_0x58f328(0x396)][_0x58f328(0x2d0)](_0x275a43=>_0x275a43[_0x58f328(0x5f6)][_0x58f328(0x2fe)]()===_0x4038a6[_0x58f328(0x145)][_0x58f328(0x5f6)][_0x58f328(0x2fe)]());if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x58f328(0x27c)]+_0x58f328(0x20a)+_0x461328),_0x461328===-0x1){this[_0x58f328(0x5e8)]['verbose']('Bloco\x20com\x20ID\x20'+_0x4038a6[_0x58f328(0x145)][_0x58f328(0x5f6)]+_0x58f328(0x2c1));return;}if(_0x59800b[_0x58f328(0x396)][_0x461328]['type']===_0x58f328(0x546)){let _0x2d5418=Object['keys'](_0x4038a6['block']);if(_0x2d5418['length']>0x2||_0x2d5418[_0x58f328(0x4ee)]===0x2&&!_0x2d5418[_0x58f328(0x798)](_0x58f328(0x3d3))){this['throwAndLogError']('Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro');return;}}let _0x230658=_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x6b6)];for(let _0xc1c646 in _0x4038a6['block'])_0x4038a6['block'][_0x58f328(0x247)](_0xc1c646)&&(_0x59800b[_0x58f328(0x396)][_0x461328][_0xc1c646]=_0x4038a6[_0x58f328(0x145)][_0xc1c646]);if(this[_0x58f328(0x5e8)][_0x58f328(0x6e9)](this[_0x58f328(0x6c1)]+'\x20('+this[_0x58f328(0x63b)]['wuid']+_0x58f328(0x28d)+JSON[_0x58f328(0x590)](_0x59800b[_0x58f328(0x396)][_0x461328])),_0x59800b[_0x58f328(0x396)][_0x461328]['apirequest']&&_0x58f328(0x30f)in _0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)]){this[_0x58f328(0x5e8)][_0x58f328(0x6e9)](this[_0x58f328(0x6c1)]+'\x20('+this[_0x58f328(0x63b)][_0x58f328(0x27c)]+_0x58f328(0x854));let _0x1b65d8=JSON['stringify'](_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)][_0x58f328(0x30f)],null,0x1);_0x1b65d8[_0x58f328(0x4ee)]>0x2&&(_0x1b65d8=_0x1b65d8[_0x58f328(0x34f)](0x1,_0x1b65d8[_0x58f328(0x4ee)]-0x1)[_0x58f328(0x1ce)]()),_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)][_0x58f328(0x473)]=_0x1b65d8;}if(_0x59800b['blocks'][_0x461328][_0x58f328(0x5fe)]&&_0x58f328(0x547)in _0x59800b['blocks'][_0x461328][_0x58f328(0x5fe)]&&!(_0x58f328(0x6f1)in _0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)])){this[_0x58f328(0x5e8)][_0x58f328(0x6e9)](this['instanceName']+'\x20('+this[_0x58f328(0x63b)][_0x58f328(0x27c)]+_0x58f328(0x506)),_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)][_0x58f328(0x4cb)]=!0x1;let _0x5d088f=JSON['stringify'](_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)]['body'],null,0x2);_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)][_0x58f328(0x6f1)]=_0x5d088f;}if(_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)]&&_0x58f328(0x6f1)in _0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)]){_0x59800b['blocks'][_0x461328][_0x58f328(0x5fe)][_0x58f328(0x4cb)]=!0x1;let _0x2598f0=_0x59800b[_0x58f328(0x396)][_0x461328][_0x58f328(0x5fe)]['bodyString'],_0x161266=this[_0x58f328(0x1b7)](_0x2598f0);_0x59800b['blocks'][_0x461328][_0x58f328(0x5fe)]['bodyString']=_0x161266['result'],_0x59800b[_0x58f328(0x396)][_0x461328]['apirequest'][_0x58f328(0x4cb)]=_0x161266[_0x58f328(0x43c)];}let _0x4a3fa1=_0x59800b[_0x58f328(0x396)][_0x461328]['groupId'];_0x230658!==_0x4a3fa1?(this['reorderBlocks'](_0x59800b[_0x58f328(0x396)],_0x230658),this[_0x58f328(0x70f)](_0x59800b[_0x58f328(0x396)],_0x4a3fa1)):this[_0x58f328(0x70f)](_0x59800b[_0x58f328(0x396)],_0x230658);}[a0_0x33b913(0x1b7)](_0x101eac){const _0x466648=a0_0x33b913;let _0x5ed869='\u205f',_0x35a358=!0x1,_0xa266cf='';for(let _0x2d171b=0x0;_0x2d171b<_0x101eac[_0x466648(0x4ee)];_0x2d171b++){let _0x5dcf3f=_0x101eac[_0x2d171b];_0x5dcf3f==='\x22'&&(_0x2d171b===0x0||_0x101eac[_0x2d171b-0x1]!=='\x5c')&&(_0x35a358=!_0x35a358),!(!_0x35a358&&(_0x5dcf3f==='\x0a'||_0x5dcf3f==='\x20'||_0x5dcf3f===_0x5ed869))&&(_0xa266cf+=_0x5dcf3f);}let _0x29cdf4={},_0x486dfa=9876543210.1234,_0x4a02e4=_0xa266cf[_0x466648(0x3d1)](/\{\{([^}]+)\}\}/g,_0x31027f=>{let _0x54c957=_0x31027f,_0x32b400=''+_0x486dfa;return _0x29cdf4[_0x32b400]=_0x54c957,_0x486dfa+=0.0001,_0x32b400;}),_0x235814='',_0x47920c=!0x1;try{let _0x1fca5f=JSON[_0x466648(0x73a)](_0x4a02e4);_0x235814=JSON[_0x466648(0x590)](_0x1fca5f,null,0x2),_0x235814=_0x235814[_0x466648(0x3d1)](/\n( +)/g,(_0x4d9a64,_0x462767)=>{const _0x1273fc=_0x466648;let _0x30d292=_0x462767[_0x1273fc(0x4ee)];return'\x0a'+_0x5ed869[_0x1273fc(0x237)](_0x30d292*0x2);}),_0x235814=_0x235814[_0x466648(0x3d1)](/(\d{10,}\.\d+)/g,_0x3c4418=>_0x29cdf4[_0x3c4418]||_0x3c4418);}catch(_0x585dfe){this[_0x466648(0x5e8)][_0x466648(0x43c)]('Error\x20parsing\x20JSON:'+_0x585dfe),_0x235814=_0x101eac,_0x47920c=!0x0;}return{'result':_0x235814,'error':_0x47920c};}[a0_0x33b913(0x7a3)](_0x3eb216,_0x25f361){const _0x17bc38=a0_0x33b913;if(_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x710)]==='start'){this[_0x17bc38(0x3b0)](_0x17bc38(0x81c));return;}if(_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x5fe)]&&_0x17bc38(0x30f)in _0x25f361['block'][_0x17bc38(0x5fe)]){this[_0x17bc38(0x5e8)][_0x17bc38(0x6e9)](this[_0x17bc38(0x6c1)]+'\x20('+this[_0x17bc38(0x63b)][_0x17bc38(0x27c)]+_0x17bc38(0x854));let _0x5c8f4e=JSON[_0x17bc38(0x590)](_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x5fe)]['header'],null,0x1);_0x5c8f4e['length']>0x2&&(_0x5c8f4e=_0x5c8f4e['substring'](0x1,_0x5c8f4e['length']-0x1)[_0x17bc38(0x1ce)]()),_0x25f361[_0x17bc38(0x145)]['apirequest'][_0x17bc38(0x473)]=_0x5c8f4e;}_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x5fe)]&&'body'in _0x25f361[_0x17bc38(0x145)][_0x17bc38(0x5fe)]&&(this[_0x17bc38(0x5e8)][_0x17bc38(0x6e9)](this['instanceName']+'\x20('+this[_0x17bc38(0x63b)][_0x17bc38(0x27c)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x5fe)]['bodyString']=JSON[_0x17bc38(0x590)](_0x25f361['block'][_0x17bc38(0x5fe)][_0x17bc38(0x547)],null,0x1)[_0x17bc38(0x1ce)]()),_0x3eb216[_0x17bc38(0x396)][_0x17bc38(0x41a)](_0x25f361[_0x17bc38(0x145)]),this[_0x17bc38(0x70f)](_0x3eb216['blocks'],_0x25f361[_0x17bc38(0x145)][_0x17bc38(0x6b6)]);}[a0_0x33b913(0x70f)](_0x5cb641,_0x4ec77f){const _0x3fda71=a0_0x33b913;let _0x44564d=_0x5cb641[_0x3fda71(0x711)](_0x5824bf=>_0x5824bf['groupId']===_0x4ec77f);_0x44564d[_0x3fda71(0x81b)]((_0x2d3ec7,_0x2b096c)=>_0x2d3ec7[_0x3fda71(0x707)]-_0x2b096c[_0x3fda71(0x707)]),_0x44564d['forEach']((_0x2558ad,_0xbdf0b1)=>_0x2558ad[_0x3fda71(0x707)]=_0xbdf0b1+0x1);}async[a0_0x33b913(0x4ec)](_0x191a6f){const _0x11218a=a0_0x33b913;try{if(this[_0x11218a(0x5e8)][_0x11218a(0x6e9)](this['instanceName']+'\x20('+this[_0x11218a(0x63b)][_0x11218a(0x27c)]+_0x11218a(0x4ad)),!_0x191a6f||!_0x191a6f['replyOption']){this[_0x11218a(0x3b0)]('Data\x20invlida\x20fornecida');return;}if(!this['AutomateSystem'][_0x11218a(0x141)][_0x11218a(0x345)](_0x3623c6=>_0x3623c6['_id']===_0x191a6f[_0x11218a(0x5f6)]))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x11218a(0x63b)]['wuid']+'):\x20Fluxo\x20\x27'+_0x191a6f[_0x11218a(0x5f6)]+_0x11218a(0x776)),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x3630a7=await this[_0x11218a(0x59c)][_0x11218a(0x223)][_0x11218a(0x366)]({'where':{'_id':_0x191a6f[_0x11218a(0x5f6)]}});if(!_0x3630a7||!_0x3630a7[_0x11218a(0x693)]?.[_0x11218a(0x798)](this[_0x11218a(0x63b)][_0x11218a(0x27c)]))throw this[_0x11218a(0x5e8)][_0x11218a(0x43c)](this[_0x11218a(0x6c1)]+'\x20('+this['instance']['wuid']+_0x11218a(0x533)+_0x191a6f[_0x11218a(0x5f6)]+_0x11218a(0x25c)),new m(_0x11218a(0x7d0)+_0x191a6f[_0x11218a(0x5f6)]+_0x11218a(0x25c));if(!_0x3630a7[_0x11218a(0x5d9)]?.[_0x11218a(0x798)](this[_0x11218a(0x63b)][_0x11218a(0x27c)]))throw new m('Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x482193}=_0x191a6f;_0x482193?.[_0x11218a(0x76a)]?(this[_0x11218a(0x383)](_0x3630a7,_0x191a6f),this[_0x11218a(0x799)](_0x3630a7['replyOptions'],_0x191a6f['replyOption']['blockId'])):_0x482193[_0x11218a(0x5f6)]?(await this[_0x11218a(0x877)](_0x3630a7,_0x191a6f),this['reorderReplyOptions'](_0x3630a7[_0x11218a(0x78a)],_0x191a6f[_0x11218a(0x354)][_0x11218a(0x3a7)])):(this[_0x11218a(0x7d1)](_0x3630a7,_0x191a6f),this[_0x11218a(0x799)](_0x3630a7[_0x11218a(0x78a)],_0x191a6f[_0x11218a(0x354)][_0x11218a(0x3a7)]));let _0x4a6fbc=await this[_0x11218a(0x59c)][_0x11218a(0x223)][_0x11218a(0x6f0)](_0x3630a7[_0x11218a(0x5f6)],_0x3630a7);if(!_0x4a6fbc)throw new Error(_0x11218a(0x5ce));return _0x4a6fbc;}catch(_0x5a9cf9){this[_0x11218a(0x3b0)](_0x11218a(0x20e)+_0x5a9cf9);}}['reorderReplyOptions'](_0x51894a,_0x5770ce){const _0x3fd53b=a0_0x33b913;_0x51894a[_0x3fd53b(0x211)](_0x2bf313=>{const _0x35089a=_0x3fd53b;_0x2bf313[_0x35089a(0x3a7)]===_0x5770ce&&_0x2bf313[_0x35089a(0x707)]===void 0x0&&(_0x2bf313['order']=0x270f);});let _0x3203fb=_0x51894a[_0x3fd53b(0x711)](_0x351bb9=>_0x351bb9[_0x3fd53b(0x3a7)]===_0x5770ce);_0x3203fb[_0x3fd53b(0x81b)]((_0x20af9a,_0x262c58)=>_0x20af9a[_0x3fd53b(0x707)]-_0x262c58['order']),_0x3203fb[_0x3fd53b(0x211)]((_0x28c370,_0x5a85a6)=>{const _0x247b98=_0x3fd53b;_0x28c370[_0x247b98(0x707)]=_0x5a85a6+0x1;}),_0x51894a[_0x3fd53b(0x211)](_0xe70ba=>{const _0x1c755c=_0x3fd53b;if(_0xe70ba[_0x1c755c(0x3a7)]===_0x5770ce){let _0x2c96b3=_0x3203fb[_0x1c755c(0x345)](_0x3631d4=>_0x3631d4[_0x1c755c(0x5f6)]&&_0xe70ba['_id']&&_0x3631d4[_0x1c755c(0x5f6)]['toString']()===_0xe70ba[_0x1c755c(0x5f6)][_0x1c755c(0x2fe)]());_0x2c96b3&&(_0xe70ba['order']=_0x2c96b3['order']);}});}['deleteReplyOption'](_0x122252,_0xf1515b){const _0x2e634b=a0_0x33b913;let {replyOption:_0x1c5949}=_0xf1515b;if(!_0x1c5949[_0x2e634b(0x5f6)]){this['throwAndLogError']('replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x122252[_0x2e634b(0x78a)][_0x2e634b(0x345)](_0x3ec75d=>_0x3ec75d[_0x2e634b(0x5f6)][_0x2e634b(0x2fe)]()===_0xf1515b[_0x2e634b(0x354)]['_id'][_0x2e634b(0x2fe)]())){this[_0x2e634b(0x3b0)]('ReplyOption\x20com\x20ID\x20'+_0x1c5949[_0x2e634b(0x5f6)]+_0x2e634b(0x7f9));return;}_0x122252['replyOptions']=_0x122252['replyOptions'][_0x2e634b(0x711)](_0x370dc2=>_0x370dc2[_0x2e634b(0x5f6)][_0x2e634b(0x2fe)]()!==_0xf1515b['replyOption']['_id'][_0x2e634b(0x2fe)]());}async[a0_0x33b913(0x877)](_0xd50258,_0x150b04){const _0x268fd4=a0_0x33b913;let _0x367b50=_0xd50258[_0x268fd4(0x78a)][_0x268fd4(0x2d0)](_0x2c3e97=>_0x2c3e97['_id']['toString']()===_0x150b04[_0x268fd4(0x354)][_0x268fd4(0x5f6)][_0x268fd4(0x2fe)]());if(_0x367b50===-0x1){this['throwAndLogError'](_0x268fd4(0x6e7)+_0x150b04[_0x268fd4(0x354)]['_id']+_0x268fd4(0x2c1));return;}for(let _0x5d4d7b in _0x150b04[_0x268fd4(0x354)])_0x150b04[_0x268fd4(0x354)][_0x268fd4(0x247)](_0x5d4d7b)&&(_0xd50258['replyOptions'][_0x367b50][_0x5d4d7b]=_0x150b04[_0x268fd4(0x354)][_0x5d4d7b]);}[a0_0x33b913(0x7d1)](_0x40b58d,_0x5b42e8){const _0x147e0d=a0_0x33b913;_0x40b58d[_0x147e0d(0x78a)][_0x147e0d(0x41a)](_0x5b42e8['replyOption']);}async[a0_0x33b913(0x768)](_0x27a49b){const _0x2c4207=a0_0x33b913;this['logger'][_0x2c4207(0x6e9)](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)][_0x2c4207(0x27c)]+_0x2c4207(0x53a)+JSON[_0x2c4207(0x590)](_0x27a49b,null,0x2));try{if(this['logger'][_0x2c4207(0x6e9)](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)]['wuid']+_0x2c4207(0x6de)),!this[_0x2c4207(0x36e)]['flows'][_0x2c4207(0x345)](_0x913db0=>_0x913db0[_0x2c4207(0x5f6)]===_0x27a49b[_0x2c4207(0x5f6)]))throw this[_0x2c4207(0x5e8)][_0x2c4207(0x6e9)](this[_0x2c4207(0x6c1)]+'\x20('+this['instance'][_0x2c4207(0x27c)]+_0x2c4207(0x7ff)+_0x27a49b[_0x2c4207(0x5f6)]+_0x2c4207(0x776)),new m(_0x2c4207(0x6e8));let _0x21cc35=await this[_0x2c4207(0x59c)][_0x2c4207(0x223)][_0x2c4207(0x366)]({'where':{'_id':_0x27a49b[_0x2c4207(0x5f6)]}});if(!_0x21cc35||!_0x21cc35[_0x2c4207(0x693)]?.['includes'](this['instance']['wuid']))throw this[_0x2c4207(0x5e8)]['error'](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)]['wuid']+_0x2c4207(0x533)+_0x27a49b[_0x2c4207(0x5f6)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2c4207(0x7d0)+_0x27a49b['_id']+_0x2c4207(0x25c));if(!_0x21cc35[_0x2c4207(0x5d9)]?.[_0x2c4207(0x798)](this[_0x2c4207(0x63b)][_0x2c4207(0x27c)]))throw new m(_0x2c4207(0x468));if(_0x27a49b['group']&&_0x27a49b[_0x2c4207(0x273)]?.['delete']===!0x0){if(this[_0x2c4207(0x5e8)]['verbose'](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)][_0x2c4207(0x27c)]+_0x2c4207(0x374)),_0x27a49b['group'][_0x2c4207(0x876)]===!0x0)return{'message':'No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro'};if(_0x21cc35[_0x2c4207(0x396)][_0x2c4207(0x788)](_0x2dc9e9=>_0x2dc9e9[_0x2c4207(0x6b6)][_0x2c4207(0x2fe)]()===_0x27a49b[_0x2c4207(0x273)][_0x2c4207(0x5f6)]))return this[_0x2c4207(0x5e8)]['verbose'](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)]['wuid']+_0x2c4207(0x46f)),{'message':_0x2c4207(0x675)};_0x21cc35[_0x2c4207(0x343)]=_0x21cc35[_0x2c4207(0x343)]['filter'](_0x2058ad=>_0x2058ad[_0x2c4207(0x5f6)][_0x2c4207(0x2fe)]()!==_0x27a49b['group'][_0x2c4207(0x5f6)]);}else{if(_0x27a49b[_0x2c4207(0x273)]){if(_0x27a49b[_0x2c4207(0x273)][_0x2c4207(0x876)]===!0x0)return{'message':_0x2c4207(0x614)};if(_0x27a49b['group']['_id']){let _0x1aa0b5=_0x21cc35[_0x2c4207(0x343)]['find'](_0x4d81fd=>_0x4d81fd[_0x2c4207(0x5f6)][_0x2c4207(0x2fe)]()===_0x27a49b[_0x2c4207(0x273)][_0x2c4207(0x5f6)]);_0x1aa0b5&&(_0x27a49b[_0x2c4207(0x273)]['x']<0x0&&(_0x27a49b[_0x2c4207(0x273)]['x']=0x0),_0x27a49b[_0x2c4207(0x273)]['y']<0x0&&(_0x27a49b['group']['y']=0x0),Object['assign'](_0x1aa0b5,_0x27a49b[_0x2c4207(0x273)]));}else _0x21cc35[_0x2c4207(0x343)]['push'](_0x27a49b[_0x2c4207(0x273)]);}}let _0x2f6457=await this[_0x2c4207(0x59c)][_0x2c4207(0x223)][_0x2c4207(0x6f0)](_0x21cc35[_0x2c4207(0x5f6)],_0x21cc35);if(!_0x2f6457)throw new Error(_0x2c4207(0x5ce));return _0x2f6457;}catch(_0x5a6af0){let _0x23e25d='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x40b7c6=_0x5a6af0 instanceof Error?_0x5a6af0['message']:typeof _0x5a6af0==_0x2c4207(0x24d)?JSON[_0x2c4207(0x590)](_0x5a6af0):_0x5a6af0,_0x799ca5=_0x23e25d+':\x20'+_0x40b7c6;throw this[_0x2c4207(0x5e8)][_0x2c4207(0x43c)](this[_0x2c4207(0x6c1)]+'\x20('+this[_0x2c4207(0x63b)]['wuid']+_0x2c4207(0x63e)+_0x799ca5),new m(_0x799ca5);}}async[a0_0x33b913(0x48e)](_0x49e375){const _0x796ff8=a0_0x33b913;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x796ff8(0x63b)][_0x796ff8(0x27c)]+_0x796ff8(0x626)),!this['AutomateSystem'][_0x796ff8(0x141)][_0x796ff8(0x345)](_0x4e80e5=>_0x4e80e5['_id']===_0x49e375[_0x796ff8(0x5f6)]))throw this[_0x796ff8(0x5e8)]['verbose'](this[_0x796ff8(0x6c1)]+'\x20('+this[_0x796ff8(0x63b)][_0x796ff8(0x27c)]+'):\x20Fluxo\x20\x27'+_0x49e375[_0x796ff8(0x5f6)]+_0x796ff8(0x776)),new m(_0x796ff8(0x6e8));let _0x4d49c3=await this[_0x796ff8(0x59c)][_0x796ff8(0x223)][_0x796ff8(0x366)]({'where':{'_id':_0x49e375[_0x796ff8(0x5f6)]}});if(!_0x4d49c3||!_0x4d49c3[_0x796ff8(0x693)]?.['includes'](this[_0x796ff8(0x63b)][_0x796ff8(0x27c)]))throw this['logger'][_0x796ff8(0x43c)](this[_0x796ff8(0x6c1)]+'\x20('+this['instance']['wuid']+_0x796ff8(0x533)+_0x49e375[_0x796ff8(0x5f6)]+_0x796ff8(0x25c)),new m('Flow\x20\x27'+_0x49e375[_0x796ff8(0x5f6)]+_0x796ff8(0x25c));if(!_0x4d49c3['whoCanEdit']?.[_0x796ff8(0x798)](this[_0x796ff8(0x63b)][_0x796ff8(0x27c)]))throw new m('Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.');let _0x4c0cbe=!0x1;if(_0x49e375[_0x796ff8(0x441)]?.[_0x796ff8(0x76a)]===!0x0)_0x4d49c3[_0x796ff8(0x242)]=_0x4d49c3[_0x796ff8(0x242)][_0x796ff8(0x711)](_0x22a6da=>_0x22a6da&&_0x49e375[_0x796ff8(0x441)]&&_0x22a6da[_0x796ff8(0x5f6)]&&_0x49e375[_0x796ff8(0x441)]['_id']&&_0x22a6da[_0x796ff8(0x5f6)][_0x796ff8(0x2fe)]()!==_0x49e375[_0x796ff8(0x441)][_0x796ff8(0x5f6)][_0x796ff8(0x2fe)]()),_0x4c0cbe=!0x0;else{let _0x27ca6d=_0x4d49c3[_0x796ff8(0x242)][_0x796ff8(0x345)](_0x19a587=>_0x19a587&&_0x49e375[_0x796ff8(0x441)]&&_0x19a587[_0x796ff8(0x5f6)]&&_0x49e375[_0x796ff8(0x441)]['_id']&&_0x19a587['_id'][_0x796ff8(0x2fe)]()===_0x49e375['condition'][_0x796ff8(0x5f6)][_0x796ff8(0x2fe)]());_0x27ca6d?(_0x4c0cbe=_0x27ca6d['order']!==_0x49e375[_0x796ff8(0x441)][_0x796ff8(0x707)],Object[_0x796ff8(0x794)](_0x27ca6d,_0x49e375[_0x796ff8(0x441)])):(_0x4d49c3[_0x796ff8(0x242)][_0x796ff8(0x41a)](_0x49e375['condition']),_0x4c0cbe=!0x0);}if(_0x4c0cbe){_0x4d49c3[_0x796ff8(0x242)]['sort']((_0xd58a58,_0x69dc4)=>_0xd58a58[_0x796ff8(0x707)]>_0x69dc4[_0x796ff8(0x707)]?0x1:_0x69dc4[_0x796ff8(0x707)]>_0xd58a58['order']?-0x1:0x0);for(let _0x299ea8=0x0;_0x299ea8<_0x4d49c3[_0x796ff8(0x242)]['length'];_0x299ea8++)_0x4d49c3[_0x796ff8(0x242)][_0x299ea8]['order']=_0x299ea8+0x1;_0x4d49c3[_0x796ff8(0x242)][_0x796ff8(0x4ee)]>0x0&&(_0x4d49c3[_0x796ff8(0x242)][0x0][_0x796ff8(0x333)]=_0x796ff8(0x327));}let _0x555d9c=await this[_0x796ff8(0x59c)][_0x796ff8(0x223)][_0x796ff8(0x6f0)](_0x4d49c3[_0x796ff8(0x5f6)],_0x4d49c3);if(!_0x555d9c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x555d9c;}catch(_0x1d9e10){let _0x546252=_0x796ff8(0x31e),_0x38960a=_0x1d9e10 instanceof Error?_0x1d9e10[_0x796ff8(0x65e)]:typeof _0x1d9e10==_0x796ff8(0x24d)?JSON[_0x796ff8(0x590)](_0x1d9e10):_0x1d9e10,_0x47a8b6=_0x546252+':\x20'+_0x38960a;throw this[_0x796ff8(0x5e8)][_0x796ff8(0x43c)](this['instanceName']+'\x20('+this[_0x796ff8(0x63b)][_0x796ff8(0x27c)]+'):\x20'+_0x47a8b6),new m(_0x47a8b6);}}async['editFlowVaredit'](_0x36529a){const _0x3fd8e0=a0_0x33b913;try{if(this[_0x3fd8e0(0x5e8)]['verbose'](this[_0x3fd8e0(0x6c1)]+'\x20('+this['instance']['wuid']+_0x3fd8e0(0x613)),!this['AutomateSystem']['flows']['find'](_0x6cd0ad=>_0x6cd0ad[_0x3fd8e0(0x5f6)]===_0x36529a[_0x3fd8e0(0x5f6)]))throw this[_0x3fd8e0(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x3fd8e0(0x63b)][_0x3fd8e0(0x27c)]+_0x3fd8e0(0x7ff)+_0x36529a['_id']+_0x3fd8e0(0x776)),new m(_0x3fd8e0(0x6e8));let _0x1b349f=await this[_0x3fd8e0(0x59c)][_0x3fd8e0(0x223)][_0x3fd8e0(0x366)]({'where':{'_id':_0x36529a['_id']}});if(!_0x1b349f||!_0x1b349f['whoCanUse']?.[_0x3fd8e0(0x798)](this[_0x3fd8e0(0x63b)]['wuid']))throw this[_0x3fd8e0(0x5e8)]['error'](this[_0x3fd8e0(0x6c1)]+'\x20('+this['instance'][_0x3fd8e0(0x27c)]+_0x3fd8e0(0x533)+_0x36529a[_0x3fd8e0(0x5f6)]+_0x3fd8e0(0x25c)),new m(_0x3fd8e0(0x7d0)+_0x36529a[_0x3fd8e0(0x5f6)]+_0x3fd8e0(0x25c));if(!_0x1b349f[_0x3fd8e0(0x5d9)]?.[_0x3fd8e0(0x798)](this[_0x3fd8e0(0x63b)][_0x3fd8e0(0x27c)]))throw new m(_0x3fd8e0(0x468));let _0x1ee51b=!0x1;if(_0x36529a['varedit']?.[_0x3fd8e0(0x76a)]===!0x0)_0x1b349f[_0x3fd8e0(0x601)]=_0x1b349f['varedits'][_0x3fd8e0(0x711)](_0x5b5a92=>_0x5b5a92&&_0x36529a[_0x3fd8e0(0x3c4)]&&_0x5b5a92[_0x3fd8e0(0x5f6)]&&_0x36529a[_0x3fd8e0(0x3c4)][_0x3fd8e0(0x5f6)]&&_0x5b5a92['_id']['toString']()!==_0x36529a[_0x3fd8e0(0x3c4)]['_id'][_0x3fd8e0(0x2fe)]()),_0x1ee51b=!0x0;else{let _0x377886=_0x1b349f[_0x3fd8e0(0x601)][_0x3fd8e0(0x345)](_0x1b1c9c=>_0x1b1c9c&&_0x36529a[_0x3fd8e0(0x3c4)]&&_0x1b1c9c[_0x3fd8e0(0x5f6)]&&_0x36529a[_0x3fd8e0(0x3c4)][_0x3fd8e0(0x5f6)]&&_0x1b1c9c[_0x3fd8e0(0x5f6)]['toString']()===_0x36529a[_0x3fd8e0(0x3c4)][_0x3fd8e0(0x5f6)][_0x3fd8e0(0x2fe)]());_0x377886?(_0x1ee51b=_0x377886[_0x3fd8e0(0x707)]!==_0x36529a[_0x3fd8e0(0x3c4)][_0x3fd8e0(0x707)],Object['assign'](_0x377886,_0x36529a[_0x3fd8e0(0x3c4)])):(_0x1b349f['varedits'][_0x3fd8e0(0x41a)](_0x36529a[_0x3fd8e0(0x3c4)]),_0x1ee51b=!0x0);}if(_0x1ee51b){_0x1b349f[_0x3fd8e0(0x601)][_0x3fd8e0(0x81b)]((_0x123e1d,_0x5641c3)=>_0x123e1d[_0x3fd8e0(0x707)]>_0x5641c3[_0x3fd8e0(0x707)]?0x1:_0x5641c3['order']>_0x123e1d[_0x3fd8e0(0x707)]?-0x1:0x0);for(let _0x191453=0x0;_0x191453<_0x1b349f[_0x3fd8e0(0x601)][_0x3fd8e0(0x4ee)];_0x191453++)_0x1b349f[_0x3fd8e0(0x601)][_0x191453][_0x3fd8e0(0x707)]=_0x191453+0x1;}let _0x5bb28c=await this['repository'][_0x3fd8e0(0x223)][_0x3fd8e0(0x6f0)](_0x1b349f[_0x3fd8e0(0x5f6)],_0x1b349f);if(!_0x5bb28c)throw new Error(_0x3fd8e0(0x5ce));return _0x5bb28c;}catch(_0x4b0813){let _0x55ff41=_0x3fd8e0(0x31e),_0x70739b=_0x4b0813 instanceof Error?_0x4b0813[_0x3fd8e0(0x65e)]:typeof _0x4b0813==_0x3fd8e0(0x24d)?JSON[_0x3fd8e0(0x590)](_0x4b0813):_0x4b0813,_0x2b1aa8=_0x55ff41+':\x20'+_0x70739b;throw this['logger'][_0x3fd8e0(0x43c)](this[_0x3fd8e0(0x6c1)]+'\x20('+this[_0x3fd8e0(0x63b)][_0x3fd8e0(0x27c)]+'):\x20'+_0x2b1aa8),new m(_0x2b1aa8);}}async['editFlowVariable'](_0x42d29f){const _0x563d3d=a0_0x33b913;try{if(this[_0x563d3d(0x5e8)][_0x563d3d(0x6e9)](this[_0x563d3d(0x6c1)]+'\x20('+this['instance'][_0x563d3d(0x27c)]+_0x563d3d(0x3a1)),!this['AutomateSystem']['flows']['find'](_0x995adc=>_0x995adc[_0x563d3d(0x5f6)]===_0x42d29f['_id']))throw this[_0x563d3d(0x5e8)][_0x563d3d(0x6e9)](this[_0x563d3d(0x6c1)]+'\x20('+this[_0x563d3d(0x63b)][_0x563d3d(0x27c)]+_0x563d3d(0x7ff)+_0x42d29f[_0x563d3d(0x5f6)]+_0x563d3d(0x776)),new m(_0x563d3d(0x6e8));let _0x170348=await this[_0x563d3d(0x59c)]['flow']['findOne']({'where':{'_id':_0x42d29f[_0x563d3d(0x5f6)]}});if(!_0x170348||!_0x170348['whoCanUse']?.[_0x563d3d(0x798)](this[_0x563d3d(0x63b)]['wuid']))throw this[_0x563d3d(0x5e8)]['error'](this[_0x563d3d(0x6c1)]+'\x20('+this['instance'][_0x563d3d(0x27c)]+'):\x20Flow\x20\x27'+_0x42d29f[_0x563d3d(0x5f6)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x563d3d(0x7d0)+_0x42d29f[_0x563d3d(0x5f6)]+_0x563d3d(0x25c));if(!_0x170348[_0x563d3d(0x5d9)]?.['includes'](this[_0x563d3d(0x63b)][_0x563d3d(0x27c)]))throw new m('Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.');_0x42d29f[_0x563d3d(0x775)][_0x563d3d(0x382)]=_0x42d29f[_0x563d3d(0x775)]['name'][_0x563d3d(0x1ce)](),_0x42d29f[_0x563d3d(0x775)]['name'][_0x563d3d(0x3fc)]('_')&&(_0x42d29f[_0x563d3d(0x775)][_0x563d3d(0x382)]=_0x42d29f[_0x563d3d(0x775)][_0x563d3d(0x382)]['substring'](0x1)),_0x42d29f[_0x563d3d(0x775)]['name']=_0x42d29f['variable'][_0x563d3d(0x382)][_0x563d3d(0x1ce)]();let _0x4cabf9=_0x170348[_0x563d3d(0x566)][_0x563d3d(0x345)](_0x30b8ee=>_0x30b8ee[_0x563d3d(0x382)]===_0x42d29f['variable']['name']);if(_0x4cabf9?.['leadInfo']===!0x0)throw new Error('No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x42d29f[_0x563d3d(0x775)]?.[_0x563d3d(0x76a)]===!0x0){if(!_0x4cabf9)return{'message':_0x563d3d(0x27b)};_0x170348['variables']=_0x170348['variables'][_0x563d3d(0x711)](_0x17e719=>_0x17e719['name']!==_0x42d29f[_0x563d3d(0x775)][_0x563d3d(0x382)]);}else _0x4cabf9?Object[_0x563d3d(0x794)](_0x4cabf9,_0x42d29f[_0x563d3d(0x775)]):_0x170348[_0x563d3d(0x566)][_0x563d3d(0x41a)](_0x42d29f[_0x563d3d(0x775)]);let _0x3389da=await this[_0x563d3d(0x59c)]['flow'][_0x563d3d(0x6f0)](_0x170348[_0x563d3d(0x5f6)],_0x170348);if(!_0x3389da)throw new Error(_0x563d3d(0x5ce));return _0x3389da;}catch(_0x4ebe0d){let _0x5d4adb=_0x563d3d(0x7dd),_0x56391f=_0x4ebe0d instanceof Error?_0x4ebe0d[_0x563d3d(0x65e)]:typeof _0x4ebe0d==_0x563d3d(0x24d)?JSON[_0x563d3d(0x590)](_0x4ebe0d):_0x4ebe0d,_0x31da33=_0x5d4adb+':\x20'+_0x56391f;throw this[_0x563d3d(0x5e8)]['error'](this[_0x563d3d(0x6c1)]+'\x20('+this[_0x563d3d(0x63b)][_0x563d3d(0x27c)]+_0x563d3d(0x63e)+_0x31da33),new m(_0x31da33);}}async[a0_0x33b913(0x250)](_0x3f3cd2){const _0x1fd29b=a0_0x33b913;let _0x3fdb52=null;try{if(!this[_0x1fd29b(0x36e)]?.[_0x1fd29b(0x5af)][_0x1fd29b(0x443)])throw new m(_0x1fd29b(0x143));this[_0x1fd29b(0x5e8)]['verbose'](this[_0x1fd29b(0x6c1)]+'\x20('+this['instance'][_0x1fd29b(0x27c)]+_0x1fd29b(0x1a8));let _0x861a78=(await this['whatsappNumber']({'numbers':[_0x3f3cd2[_0x1fd29b(0x41c)]]}))[0x0];if(!_0x861a78[_0x1fd29b(0x4c3)]&&!(0x0,w[_0x1fd29b(0x82e)])(_0x861a78[_0x1fd29b(0x662)])&&!_0x861a78[_0x1fd29b(0x662)][_0x1fd29b(0x798)](_0x1fd29b(0x4bb)))throw _0x3fdb52=JSON[_0x1fd29b(0x590)](_0x861a78,null,0x2),new m(_0x861a78);let _0x13f855;if(_0x3f3cd2[_0x1fd29b(0x382)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x1fd29b(0x504)](_0x3f3cd2['name'])?_0x13f855=this[_0x1fd29b(0x36e)][_0x1fd29b(0x141)][_0x1fd29b(0x345)](_0x2cffe7=>_0x2cffe7[_0x1fd29b(0x5f6)]===_0x3f3cd2[_0x1fd29b(0x382)]):_0x13f855=this['AutomateSystem'][_0x1fd29b(0x141)]['find'](_0x128d1c=>_0x128d1c['name']===_0x3f3cd2['name']),!_0x13f855)throw this[_0x1fd29b(0x5e8)][_0x1fd29b(0x6e9)](this[_0x1fd29b(0x6c1)]+'\x20('+this['instance'][_0x1fd29b(0x27c)]+'):\x20Fluxo\x20\x27'+_0x3f3cd2[_0x1fd29b(0x382)]+_0x1fd29b(0x776)),new m(_0x1fd29b(0x6e8));let _0x354549=await this[_0x1fd29b(0x59c)][_0x1fd29b(0x223)]['findOne']({'where':{'_id':_0x13f855[_0x1fd29b(0x5f6)]}});if(!_0x354549||!_0x354549[_0x1fd29b(0x693)]?.[_0x1fd29b(0x798)](this[_0x1fd29b(0x63b)][_0x1fd29b(0x27c)]))throw this[_0x1fd29b(0x5e8)][_0x1fd29b(0x43c)](this[_0x1fd29b(0x6c1)]+'\x20('+this[_0x1fd29b(0x63b)]['wuid']+_0x1fd29b(0x533)+_0x13f855['_id']+_0x1fd29b(0x25c)),_0x3fdb52=_0x1fd29b(0x7d0)+_0x13f855[_0x1fd29b(0x5f6)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo',new m(_0x3fdb52);let _0x135d5f=await this[_0x1fd29b(0x428)](_0x354549,_0x861a78['jid'],_0x3f3cd2[_0x1fd29b(0x167)]);if(_0x135d5f){this['logger'][_0x1fd29b(0x6e9)](this[_0x1fd29b(0x6c1)]+'\x20('+this['instance']['wuid']+_0x1fd29b(0x3ed));let _0x37d500=await this[_0x1fd29b(0x1e4)](_0x135d5f);return _0x37d500&&await this[_0x1fd29b(0x2bd)](_0x135d5f,_0x37d500),{'message':_0x1fd29b(0x789)+_0x3f3cd2[_0x1fd29b(0x41c)]};}}catch(_0x58d90c){if(this[_0x1fd29b(0x5e8)]['error'](this[_0x1fd29b(0x6c1)]+'\x20('+this[_0x1fd29b(0x63b)][_0x1fd29b(0x27c)]+_0x1fd29b(0x19d)+(_0x58d90c instanceof Error?_0x58d90c['message']:JSON[_0x1fd29b(0x590)](_0x58d90c,null,0x2))),_0x3fdb52=_0x58d90c instanceof Error?_0x58d90c[_0x1fd29b(0x65e)]:JSON['stringify'](_0x58d90c,null,0x2),_0x3fdb52)throw new m(_0x1fd29b(0x6e1)+_0x3fdb52);}}async[a0_0x33b913(0x357)](_0x581516,_0x22c3ac,_0x2ccf93){const _0x1671a5=a0_0x33b913;let _0x483823=null;try{if(!this[_0x1671a5(0x36e)]?.[_0x1671a5(0x5af)]['enabled'])throw new m(_0x1671a5(0x143));if(this['logger'][_0x1671a5(0x6e9)](this[_0x1671a5(0x6c1)]+'\x20('+this['instance'][_0x1671a5(0x27c)]+_0x1671a5(0x1a8)),_0x22c3ac){let _0x3fcb31=(await this[_0x1671a5(0x177)]({'numbers':[_0x22c3ac]}))[0x0];if(!_0x3fcb31[_0x1671a5(0x4c3)]&&!(0x0,w[_0x1671a5(0x82e)])(_0x3fcb31[_0x1671a5(0x662)])&&!_0x3fcb31[_0x1671a5(0x662)][_0x1671a5(0x798)](_0x1671a5(0x4bb)))throw _0x483823=JSON[_0x1671a5(0x590)](_0x3fcb31,null,0x2),new m(_0x3fcb31);_0x22c3ac=_0x3fcb31['jid'];}else _0x22c3ac||(_0x22c3ac=(0x0,he['v4'])());let _0x40d993=await this[_0x1671a5(0x59c)][_0x1671a5(0x223)][_0x1671a5(0x366)]({'where':{'_id':_0x581516}});if(!_0x40d993||!_0x40d993[_0x1671a5(0x693)]?.[_0x1671a5(0x798)](this[_0x1671a5(0x63b)][_0x1671a5(0x27c)]))throw this[_0x1671a5(0x5e8)][_0x1671a5(0x43c)](this[_0x1671a5(0x6c1)]+'\x20('+this[_0x1671a5(0x63b)][_0x1671a5(0x27c)]+_0x1671a5(0x533)+_0x581516+_0x1671a5(0x25c)),new m(_0x1671a5(0x7d0)+_0x581516+_0x1671a5(0x25c));let _0x2b0bf6=await this[_0x1671a5(0x428)](_0x40d993,_0x22c3ac,null);if(_0x2b0bf6){this['logger']['verbose'](this[_0x1671a5(0x6c1)]+'\x20('+this[_0x1671a5(0x63b)][_0x1671a5(0x27c)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0xc32e01;if(_0x2ccf93){let _0x3a593a=_0x2b0bf6['chatLog'][_0x1671a5(0x15f)],_0x1194f1=this[_0x1671a5(0x334)](_0x2ccf93);Object[_0x1671a5(0x794)](_0x3a593a,_0x1194f1),_0x2b0bf6['chatLog'][_0x1671a5(0x15f)]=_0x3a593a,_0xc32e01={'error':!0x1,'apiResponse':_0x2ccf93};}let _0x4b4b75=await this['NextBlock'](_0x2b0bf6);return _0x4b4b75&&await this['processblock'](_0x2b0bf6,_0x4b4b75),{'message':'Flow\x20iniciado'};}}catch(_0x25567e){if(this[_0x1671a5(0x5e8)]['error'](this[_0x1671a5(0x6c1)]+'\x20('+this[_0x1671a5(0x63b)][_0x1671a5(0x27c)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x25567e instanceof Error?_0x25567e[_0x1671a5(0x65e)]:JSON[_0x1671a5(0x590)](_0x25567e,null,0x2))),_0x483823=_0x25567e instanceof Error?_0x25567e[_0x1671a5(0x65e)]:JSON[_0x1671a5(0x590)](_0x25567e,null,0x2),_0x483823)throw new m(_0x1671a5(0x6e1)+_0x483823);}}async[a0_0x33b913(0x269)](_0x4fec0f){const _0x3d9e5c=a0_0x33b913;try{let _0x1f3215={'remoteJid':_0x4fec0f,'status':_0x3d9e5c(0x6c3)},_0x2ccecb={'status':_0x3d9e5c(0x584)},_0x8021c4=await this[_0x3d9e5c(0x59c)][_0x3d9e5c(0x555)]['updateMany'](_0x1f3215,_0x2ccecb,this['instance'][_0x3d9e5c(0x27c)]);return this[_0x3d9e5c(0x5e8)][_0x3d9e5c(0x6e9)](this['instanceName']+'\x20('+this[_0x3d9e5c(0x63b)][_0x3d9e5c(0x27c)]+_0x3d9e5c(0x2f8)),_0x8021c4;}catch(_0x4089b7){throw this[_0x3d9e5c(0x5e8)][_0x3d9e5c(0x43c)](this['instanceName']+'\x20('+this['instance'][_0x3d9e5c(0x27c)]+_0x3d9e5c(0x839)+_0x4089b7[_0x3d9e5c(0x65e)]),_0x4089b7;}}async['createConversationforStartFlow'](_0x1442e8,_0x53c29f,_0x1cbd01){const _0x853e07=a0_0x33b913;this[_0x853e07(0x5e8)][_0x853e07(0x6e9)](this['instanceName']+'\x20('+this[_0x853e07(0x63b)][_0x853e07(0x27c)]+_0x853e07(0x72e)),await this[_0x853e07(0x269)](_0x53c29f);try{let _0x2a207b=require(_0x853e07(0x302))[_0x853e07(0x58f)],_0x45a916=Date[_0x853e07(0x445)](),_0x511bf4=_0x853e07(0x546),_0x53c60c={},_0x157ef6={},_0x84de11=this[_0x853e07(0x36e)]['flows'][_0x853e07(0x345)](_0x1832b2=>_0x1832b2[_0x853e07(0x5f6)]===_0x1442e8[_0x853e07(0x5f6)]?.['toString']()),_0x50f180=_0x84de11?.['minutesToClose']??_0x1442e8['minutesToClose']??0x0,_0xccabb7=_0x84de11?.[_0x853e07(0x879)]??_0x1442e8[_0x853e07(0x879)]??!0x1,_0xd73d72={'flowId':_0x1442e8[_0x853e07(0x5f6)],..._0x1442e8,'chatLog':null},_0x149d28=await this[_0x853e07(0x390)](_0xd73d72['variables']),_0x2c79a9=await this[_0x853e07(0x838)](_0x53c29f),_0xd288db={..._0x149d28,..._0x2c79a9,'_remoteJid':_0x53c29f},_0x57337b={'lastReceivedMessage':_0x53c60c,'lastSendMessage':_0x157ef6,'lastBlockId':_0x511bf4,'lastCondition':!0x0,'realVariables':_0xd288db};_0xd73d72[_0x853e07(0x5ca)]=_0x57337b,_0xd73d72['chatLog'][_0x853e07(0x15f)]={..._0xd288db,..._0x1cbd01},delete _0xd73d72[_0x853e07(0x5f6)],_0xd73d72[_0x853e07(0x5f6)]=new _0x2a207b(),_0xd73d72['lastInteraction']=_0x45a916,_0xd73d72[_0x853e07(0x615)]=_0x853e07(0x6c3),_0xd73d72[_0x853e07(0x41c)]=_0x53c29f,_0xd73d72['minutesToClose']=_0x50f180,_0xd73d72[_0x853e07(0x879)]=_0xccabb7,_0xd73d72[_0x853e07(0x5f6)]=_0x1442e8[_0x853e07(0x5f6)];let _0x29ede7=await this[_0x853e07(0x59c)][_0x853e07(0x555)][_0x853e07(0x6f0)](_0xd73d72[_0x853e07(0x5f6)],_0xd73d72,this['instance'][_0x853e07(0x27c)]);return this[_0x853e07(0x5e8)]['verbose'](this[_0x853e07(0x6c1)]+'\x20('+this[_0x853e07(0x63b)][_0x853e07(0x27c)]+_0x853e07(0x38a)),_0x29ede7?_0xd73d72:null;}catch(_0x3fe04a){let _0x3f6dd2=_0x853e07(0x24f),_0x3eb348=_0x3fe04a instanceof Error?_0x3fe04a[_0x853e07(0x65e)]:typeof _0x3fe04a=='object'?JSON[_0x853e07(0x590)](_0x3fe04a):_0x3fe04a,_0x331b69=_0x3f6dd2+':\x20'+_0x3eb348;throw this[_0x853e07(0x5e8)][_0x853e07(0x43c)](this[_0x853e07(0x6c1)]+'\x20('+this[_0x853e07(0x63b)][_0x853e07(0x27c)]+'):\x20'+_0x331b69),new m(_0x331b69);}}async[a0_0x33b913(0x49e)](_0x1902d4){const _0x5685bc=a0_0x33b913;try{this['logger']['verbose'](this[_0x5685bc(0x6c1)]+'\x20('+this['instance'][_0x5685bc(0x27c)]+_0x5685bc(0x198)),this[_0x5685bc(0x5e8)][_0x5685bc(0x6e9)](this[_0x5685bc(0x6c1)]+'\x20('+this[_0x5685bc(0x63b)][_0x5685bc(0x27c)]+_0x5685bc(0x7fa)+_0x1902d4);let _0x56db06={'where':{'_id':_0x1902d4}};return await this[_0x5685bc(0x59c)][_0x5685bc(0x555)][_0x5685bc(0x366)](_0x56db06,this[_0x5685bc(0x63b)]['wuid']);}catch(_0x58b8d1){let _0x21944d=_0x5685bc(0x41f),_0x17ab12=_0x58b8d1 instanceof Error?_0x58b8d1[_0x5685bc(0x65e)]:typeof _0x58b8d1==_0x5685bc(0x24d)?JSON[_0x5685bc(0x590)](_0x58b8d1):_0x58b8d1,_0x5367e3=_0x21944d+':\x20'+_0x17ab12;throw this['logger'][_0x5685bc(0x43c)](this['instanceName']+'\x20('+this[_0x5685bc(0x63b)][_0x5685bc(0x27c)]+_0x5685bc(0x63e)+_0x5367e3),new m(_0x5367e3);}}async[a0_0x33b913(0x544)](_0x43485d){const _0x4609fd=a0_0x33b913;try{return this[_0x4609fd(0x5e8)][_0x4609fd(0x6e9)](this[_0x4609fd(0x6c1)]+'\x20('+this[_0x4609fd(0x63b)][_0x4609fd(0x27c)]+_0x4609fd(0x3ce)),await this['repository'][_0x4609fd(0x555)]['find'](_0x43485d,this[_0x4609fd(0x63b)][_0x4609fd(0x27c)]);}catch(_0x141d67){let _0x24e983='Erro\x20ao\x20buscar\x20conversas',_0x2d2dda=_0x141d67 instanceof Error?_0x141d67[_0x4609fd(0x65e)]:typeof _0x141d67=='object'?JSON['stringify'](_0x141d67):_0x141d67,_0x3ee573=_0x24e983+':\x20'+_0x2d2dda;throw this['logger'][_0x4609fd(0x43c)](this[_0x4609fd(0x6c1)]+'\x20('+this[_0x4609fd(0x63b)][_0x4609fd(0x27c)]+_0x4609fd(0x63e)+_0x3ee573),new m(_0x3ee573);}}async[a0_0x33b913(0x65b)](_0x2a6f9a){const _0x2812a4=a0_0x33b913;try{return this[_0x2812a4(0x5e8)][_0x2812a4(0x6e9)](this[_0x2812a4(0x6c1)]+'\x20('+this[_0x2812a4(0x63b)][_0x2812a4(0x27c)]+_0x2812a4(0x5a1)),this[_0x2812a4(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x2812a4(0x63b)][_0x2812a4(0x27c)]+_0x2812a4(0x392)+_0x2a6f9a),(await this[_0x2812a4(0x59c)][_0x2812a4(0x555)][_0x2812a4(0x78c)]({'where':{'_id':_0x2a6f9a[_0x2812a4(0x5f6)]}},this[_0x2812a4(0x63b)][_0x2812a4(0x27c)]))[_0x2812a4(0x64a)]===0x0?{'message':_0x2812a4(0x536)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x46b8ca){let _0x496fb0='Erro\x20ao\x20deletar\x20a\x20conversa',_0xf85844=_0x46b8ca instanceof Error?_0x46b8ca[_0x2812a4(0x65e)]:typeof _0x46b8ca=='object'?JSON[_0x2812a4(0x590)](_0x46b8ca):_0x46b8ca,_0x1e79b2=_0x496fb0+':\x20'+_0xf85844;throw this[_0x2812a4(0x5e8)][_0x2812a4(0x43c)](this['instanceName']+'\x20('+this[_0x2812a4(0x63b)][_0x2812a4(0x27c)]+_0x2812a4(0x63e)+_0x1e79b2),new m(_0x1e79b2);}}async[a0_0x33b913(0x729)](_0x1d8c0b){const _0x513a81=a0_0x33b913;try{let {_id:_0x5bbac8,chatLog:_0x3caeda,status:_0xd2694a}=_0x1d8c0b;if(!_0x5bbac8)return{'message':_0x513a81(0x38f)};let _0xbf27b5={};if(_0xd2694a!==void 0x0&&(_0xbf27b5['status']=_0xd2694a),Object[_0x513a81(0x719)](_0xbf27b5)['length']===0x0)return{'message':'Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.'};let _0x34a52d=await this['repository'][_0x513a81(0x555)][_0x513a81(0x6f0)](_0x5bbac8,_0xbf27b5,this['instance'][_0x513a81(0x27c)]);return _0x34a52d||{'message':_0x513a81(0x1fc)};}catch(_0x2ebd23){let _0x293f5a=_0x513a81(0x294),_0x53ae05=_0x2ebd23 instanceof Error?_0x2ebd23['message']:typeof _0x2ebd23==_0x513a81(0x24d)?JSON[_0x513a81(0x590)](_0x2ebd23):_0x2ebd23,_0x598b50=_0x293f5a+':\x20'+_0x53ae05;throw this[_0x513a81(0x5e8)][_0x513a81(0x43c)](this[_0x513a81(0x6c1)]+'\x20('+this[_0x513a81(0x63b)][_0x513a81(0x27c)]+_0x513a81(0x63e)+_0x598b50),new m(_0x598b50);}}async['editChat'](_0x25b4ec){const _0x4847f9=a0_0x33b913;try{_0x25b4ec[_0x4847f9(0x5f6)]=this['createJid'](_0x25b4ec[_0x4847f9(0x5f6)]);let _0x402af3=await this['repository'][_0x4847f9(0x24b)][_0x4847f9(0x366)]({'where':{'_id':_0x25b4ec[_0x4847f9(0x5f6)]}},this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]);if(!_0x402af3)throw new m(_0x4847f9(0x6b2));let {_id:_0x2d440e,leadInfo:_0x25b306}=_0x25b4ec;if(!_0x2d440e)throw new Error(_0x4847f9(0x218));if(_0x25b4ec[_0x4847f9(0x76a)]===_0x4847f9(0x739))return await this[_0x4847f9(0x7ef)](_0x25b4ec[_0x4847f9(0x5f6)]),await this['repository'][_0x4847f9(0x24b)][_0x4847f9(0x76a)]({'where':{'_id':_0x25b4ec['_id']}},this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]),await this[_0x4847f9(0x59c)]['message'][_0x4847f9(0x76a)]({'where':{'key':{'remoteJid':_0x25b4ec[_0x4847f9(0x5f6)]}}},this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]),_0x25b4ec=await this[_0x4847f9(0x59c)][_0x4847f9(0x24b)]['updateOne']({'where':{'_id':_0x25b4ec[_0x4847f9(0x5f6)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x4847f9(0x27c)]),U(this[_0x4847f9(0x6c1)],_0x4847f9(0x193),{'chat':_0x25b4ec}),{'message':_0x4847f9(0x4cd)};if(_0x25b4ec[_0x4847f9(0x76a)]===_0x4847f9(0x21e))return await this[_0x4847f9(0x59c)][_0x4847f9(0x65e)][_0x4847f9(0x76a)]({'where':{'key':{'remoteJid':_0x25b4ec['_id']}}},this['instance'][_0x4847f9(0x27c)]),_0x25b4ec=await this[_0x4847f9(0x59c)][_0x4847f9(0x24b)][_0x4847f9(0x6f0)]({'where':{'_id':_0x25b4ec['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]),U(this['instanceName'],_0x4847f9(0x193),{'chat':_0x25b4ec}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x28cc90=(_0x37ea97,_0x3189ff,_0xc5018d)=>{const _0x3e0841=_0x4847f9;_0x37ea97&&_0xc5018d[_0x3e0841(0x211)](_0xd25c35=>{_0x37ea97[_0xd25c35]!==void 0x0&&(_0x3189ff['leadInfo.'+_0xd25c35]=_0x37ea97[_0xd25c35]);});},_0x39237a={};if(_0x4847f9(0x527)in _0x25b4ec&&(this[_0x4847f9(0x5e8)][_0x4847f9(0x6e9)](this[_0x4847f9(0x6c1)]+'\x20('+this[_0x4847f9(0x63b)]['wuid']+_0x4847f9(0x5b4)+_0x25b4ec['_id']),_0x25b4ec[_0x4847f9(0x527)]=_0x25b4ec[_0x4847f9(0x527)]===0x0?null:-0x1,await this['client'][_0x4847f9(0x75e)]({'mute':_0x25b4ec[_0x4847f9(0x527)]},_0x25b4ec[_0x4847f9(0x5f6)]),_0x39237a[_0x4847f9(0x527)]=Number(_0x25b4ec[_0x4847f9(0x527)])),_0x25b306&&(_0x28cc90(_0x25b306,_0x39237a,[_0x4847f9(0x414),_0x4847f9(0x186),_0x4847f9(0x808),_0x4847f9(0x38c),_0x4847f9(0x615),_0x4847f9(0x227),_0x4847f9(0x7a5),_0x4847f9(0x3b2),_0x4847f9(0x53e),_0x4847f9(0x67d)]),Array[_0x4847f9(0x607)](_0x25b306['customFields'])&&(_0x39237a[_0x4847f9(0x17c)]=_0x25b306[_0x4847f9(0x73c)]['map'](_0x12fede=>({'_id':_0x12fede[_0x4847f9(0x5f6)],'value':_0x12fede[_0x4847f9(0x804)]}))),_0x25b4ec[_0x4847f9(0x19e)][_0x4847f9(0x67d)]!==void 0x0)){let _0x2d616a=await this[_0x4847f9(0x59c)][_0x4847f9(0x727)]['find']({'where':{}},this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]),_0x148856=new Set(_0x25b4ec[_0x4847f9(0x19e)][_0x4847f9(0x67d)]||[]),_0x15ef5f=new Set(_0x25b4ec[_0x4847f9(0x19e)]['etiquetas']),_0x506109=new Set(_0x2d616a['map'](_0x83f075=>_0x83f075[_0x4847f9(0x5f6)])),_0x140fda=[..._0x15ef5f][_0x4847f9(0x711)](_0x2be922=>!_0x148856['has'](_0x2be922)&&_0x506109['has'](_0x2be922)),_0x3bce37=[..._0x148856][_0x4847f9(0x711)](_0x2aa276=>!_0x15ef5f[_0x4847f9(0x136)](_0x2aa276));if(_0x39237a[_0x4847f9(0x80f)]=[..._0x148856],_0x402af3&&!_0x402af3[_0x4847f9(0x4e8)]){for(let _0x22d2de of _0x140fda)await this[_0x4847f9(0x796)](_0x22d2de,_0x25b4ec[_0x4847f9(0x5f6)]),_0x148856[_0x4847f9(0x47b)](_0x22d2de);for(let _0xf8e1df of _0x3bce37)await this['RemoveChatLabel'](_0xf8e1df,_0x25b4ec[_0x4847f9(0x5f6)]),_0x148856['delete'](_0xf8e1df);}}if(_0x25b4ec[_0x4847f9(0x3b1)]!==void 0x0&&(_0x39237a[_0x4847f9(0x3b1)]=Number(_0x25b4ec[_0x4847f9(0x3b1)])),Object[_0x4847f9(0x719)](_0x39237a)[_0x4847f9(0x4ee)]===0x0)throw new Error(_0x4847f9(0x43e));let _0x364565=await this[_0x4847f9(0x59c)]['chat'][_0x4847f9(0x6f0)]({'where':{'_id':_0x25b4ec[_0x4847f9(0x5f6)]}},_0x39237a,this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]);return _0x364565&&U(this[_0x4847f9(0x6c1)],_0x4847f9(0x193),{'chat':_0x364565}),_0x364565?(this['logger'][_0x4847f9(0x6e9)](this[_0x4847f9(0x6c1)]+'\x20('+this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]+'):\x20'+JSON[_0x4847f9(0x590)](_0x364565,null,0x2)),_0x364565):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x4b3017){let _0x48f85a='Erro\x20ao\x20editar\x20o\x20chat',_0x5845c0=_0x4b3017 instanceof Error?_0x4b3017['message']:typeof _0x4b3017=='object'?JSON['stringify'](_0x4b3017):_0x4b3017,_0x41bfcf=_0x48f85a+':\x20'+_0x5845c0;throw this[_0x4847f9(0x5e8)]['error'](this[_0x4847f9(0x6c1)]+'\x20('+this[_0x4847f9(0x63b)][_0x4847f9(0x27c)]+_0x4847f9(0x63e)+_0x41bfcf),new m(_0x41bfcf);}}async[a0_0x33b913(0x796)](_0x5611a7,_0x5eef71){const _0x2ca37b=a0_0x33b913;try{await this[_0x2ca37b(0x6cd)]['addChatLabel'](_0x5eef71,_0x5611a7),this[_0x2ca37b(0x5e8)][_0x2ca37b(0x4f3)](this[_0x2ca37b(0x6c1)]+'\x20('+this[_0x2ca37b(0x63b)][_0x2ca37b(0x27c)]+_0x2ca37b(0x2a3)+_0x5611a7+_0x2ca37b(0x703)+_0x5eef71+'\x20com\x20sucesso.');}catch(_0x38f526){this[_0x2ca37b(0x5e8)][_0x2ca37b(0x43c)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x5611a7+'\x20ao\x20chat\x20'+_0x5eef71+':\x20'+_0x38f526);}}async[a0_0x33b913(0x421)](_0x3d39bb,_0x109d35){const _0x596f52=a0_0x33b913;try{await this[_0x596f52(0x6cd)][_0x596f52(0x5e1)](_0x109d35,_0x3d39bb),this[_0x596f52(0x5e8)]['info'](this[_0x596f52(0x6c1)]+'\x20('+this[_0x596f52(0x63b)][_0x596f52(0x27c)]+_0x596f52(0x2a3)+_0x3d39bb+_0x596f52(0x248)+_0x109d35+_0x596f52(0x16f));}catch(_0x57e1e4){this[_0x596f52(0x5e8)][_0x596f52(0x43c)](_0x596f52(0x7cb)+_0x3d39bb+_0x596f52(0x303)+_0x109d35+':\x20'+_0x57e1e4);}}async[a0_0x33b913(0x39e)](_0x213d14){const _0x19eb2d=a0_0x33b913;try{let _0x11498e=await this[_0x19eb2d(0x59c)][_0x19eb2d(0x3e2)][_0x19eb2d(0x3bd)](this[_0x19eb2d(0x63b)][_0x19eb2d(0x27c)]),_0x2a72ca=_0x213d14[_0x19eb2d(0x5f6)]?_0x11498e[_0x19eb2d(0x5c6)]['findIndex'](_0x218a2c=>_0x218a2c[_0x19eb2d(0x5f6)]===_0x213d14[_0x19eb2d(0x5f6)]):-0x1;if(_0x213d14[_0x19eb2d(0x76a)]&&_0x2a72ca>-0x1)_0x11498e[_0x19eb2d(0x5c6)]['splice'](_0x2a72ca,0x1);else{if(_0x2a72ca>-0x1){let _0x289232=_0x11498e['agents'][_0x2a72ca];_0x213d14[_0x19eb2d(0x1c4)]&&(_0x289232[_0x19eb2d(0x1c4)]=_0x213d14[_0x19eb2d(0x1c4)]),_0x213d14[_0x19eb2d(0x382)]&&(_0x289232[_0x19eb2d(0x382)]=_0x213d14[_0x19eb2d(0x382)]),_0x213d14[_0x19eb2d(0x808)]&&(_0x289232[_0x19eb2d(0x808)]=_0x213d14['email']),_0x213d14['role']&&(_0x289232[_0x19eb2d(0x204)]=_0x213d14[_0x19eb2d(0x204)]);}else _0x11498e[_0x19eb2d(0x5c6)]['push']({'_id':_0x213d14[_0x19eb2d(0x5f6)]||new le[(_0x19eb2d(0x876))]['Types'][(_0x19eb2d(0x58f))]()[_0x19eb2d(0x2fe)](),'fone':_0x213d14['fone'],'name':_0x213d14[_0x19eb2d(0x382)],'email':_0x213d14[_0x19eb2d(0x808)],'role':_0x213d14[_0x19eb2d(0x204)]});}let _0x4e5dd8={'agents':_0x11498e[_0x19eb2d(0x5c6)]},_0x46ca2b=await this[_0x19eb2d(0x59c)][_0x19eb2d(0x3e2)][_0x19eb2d(0x784)](_0x4e5dd8,this[_0x19eb2d(0x63b)]['wuid']);return this['AutomateSystem']=_0x46ca2b,this[_0x19eb2d(0x5e8)][_0x19eb2d(0x6e9)](this['instanceName']+'\x20('+this[_0x19eb2d(0x63b)][_0x19eb2d(0x27c)]+_0x19eb2d(0x7e9)),this[_0x19eb2d(0x5e8)][_0x19eb2d(0x6e9)](this[_0x19eb2d(0x6c1)]+'\x20('+this[_0x19eb2d(0x63b)]['wuid']+_0x19eb2d(0x63e)+this['AutomateSystem']),_0x46ca2b;}catch(_0xf684ee){let _0x12e808=_0x19eb2d(0x134),_0x4d1a14=_0xf684ee instanceof Error?_0xf684ee['message']:typeof _0xf684ee=='object'?JSON['stringify'](_0xf684ee):_0xf684ee,_0x2c914b=_0x12e808+':\x20'+_0x4d1a14;throw this[_0x19eb2d(0x5e8)][_0x19eb2d(0x43c)](this[_0x19eb2d(0x6c1)]+'\x20('+this['instance']['wuid']+_0x19eb2d(0x63e)+_0x2c914b),new m(_0x2c914b);}}async['updateCustomFields'](_0x3ae868){const _0x8031b4=a0_0x33b913;try{let _0xc277c9=await this[_0x8031b4(0x59c)][_0x8031b4(0x3e2)][_0x8031b4(0x3bd)](this[_0x8031b4(0x63b)][_0x8031b4(0x27c)]),_0x48cc01=_0x3ae868[_0x8031b4(0x5f6)]?_0xc277c9[_0x8031b4(0x73c)]['findIndex'](_0x304273=>_0x304273[_0x8031b4(0x5f6)]===_0x3ae868[_0x8031b4(0x5f6)]):-0x1,_0x30b277=!0x1,_0x28e709=_0xc277c9[_0x8031b4(0x73c)][_0x8031b4(0x788)](_0x13fcf1=>_0x13fcf1[_0x8031b4(0x707)]===_0x3ae868[_0x8031b4(0x707)]);if(_0x3ae868[_0x8031b4(0x76a)]&&_0x48cc01>-0x1)_0xc277c9[_0x8031b4(0x73c)][_0x8031b4(0x1ca)](_0x48cc01,0x1),_0x30b277=!0x0;else{if(_0x48cc01>-0x1){if(_0xc277c9[_0x8031b4(0x73c)][_0x8031b4(0x788)](_0x329308=>_0x329308[_0x8031b4(0x382)]===_0x3ae868[_0x8031b4(0x382)]&&_0x329308['_id']!==_0x3ae868['_id']))throw new Error(_0x8031b4(0x388));let _0x176eed=_0xc277c9['customFields'][_0x48cc01];_0x3ae868[_0x8031b4(0x707)]&&(_0x28e709||!Number[_0x8031b4(0x407)](_0x3ae868[_0x8031b4(0x707)]))&&(_0x176eed['order']=_0x3ae868[_0x8031b4(0x707)],_0x30b277=!0x0),_0x3ae868[_0x8031b4(0x382)]&&(_0x176eed[_0x8031b4(0x382)]=_0x3ae868[_0x8031b4(0x382)]);}else{if(_0xc277c9['customFields'][_0x8031b4(0x788)](_0x5c4c35=>_0x5c4c35[_0x8031b4(0x382)]===_0x3ae868['name']&&_0x5c4c35[_0x8031b4(0x5f6)]!==_0x3ae868[_0x8031b4(0x5f6)]))throw new Error(_0x8031b4(0x388));_0xc277c9['customFields'][_0x8031b4(0x41a)]({'_id':_0x3ae868['_id']||new le['default'][(_0x8031b4(0x219))][(_0x8031b4(0x58f))]()[_0x8031b4(0x2fe)](),'order':_0x3ae868[_0x8031b4(0x707)],'name':_0x3ae868[_0x8031b4(0x382)]}),_0x30b277=!0x0;}}if(_0x30b277){_0xc277c9['customFields'][_0x8031b4(0x81b)]((_0x2254ea,_0x315cbf)=>_0x2254ea[_0x8031b4(0x707)]>_0x315cbf['order']?0x1:_0x315cbf['order']>_0x2254ea[_0x8031b4(0x707)]?-0x1:0x0);for(let _0x5c161c=0x0;_0x5c161c<_0xc277c9[_0x8031b4(0x73c)][_0x8031b4(0x4ee)];_0x5c161c++)_0xc277c9[_0x8031b4(0x73c)][_0x5c161c][_0x8031b4(0x707)]=_0x5c161c+0x1;}let _0x36943a=await this[_0x8031b4(0x59c)][_0x8031b4(0x3e2)][_0x8031b4(0x784)](_0xc277c9,this[_0x8031b4(0x63b)]['wuid']);return this['AutomateSystem']=_0x36943a,this['logger'][_0x8031b4(0x6e9)](this[_0x8031b4(0x6c1)]+'\x20('+this[_0x8031b4(0x63b)][_0x8031b4(0x27c)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x8031b4(0x6e9)](this[_0x8031b4(0x6c1)]+'\x20('+this[_0x8031b4(0x63b)][_0x8031b4(0x27c)]+_0x8031b4(0x63e)+this[_0x8031b4(0x36e)]),_0x36943a;}catch(_0x4f584d){let _0x1dffbf=_0x8031b4(0x58c),_0x814234=_0x4f584d instanceof Error?_0x4f584d['message']:typeof _0x4f584d=='object'?JSON['stringify'](_0x4f584d):_0x4f584d,_0x5971f8=_0x1dffbf+':\x20'+_0x814234;throw this['logger'][_0x8031b4(0x43c)](this[_0x8031b4(0x6c1)]+'\x20('+this[_0x8031b4(0x63b)][_0x8031b4(0x27c)]+_0x8031b4(0x63e)+_0x5971f8),new m(_0x5971f8);}}async['updateAutoCompleteMessages'](_0x5f327f){const _0x56e405=a0_0x33b913;try{let _0x89dcdb=await this[_0x56e405(0x59c)][_0x56e405(0x3e2)][_0x56e405(0x3bd)](this[_0x56e405(0x63b)][_0x56e405(0x27c)]),_0x51fe7b=_0x89dcdb?.[_0x56e405(0x652)]?.[_0x56e405(0x2d0)](_0x3862e1=>_0x3862e1[_0x56e405(0x5f6)]===_0x5f327f?.[_0x56e405(0x5f6)]);if(_0x5f327f?.['delete'])_0x51fe7b>-0x1&&_0x89dcdb?.[_0x56e405(0x652)]?.[_0x56e405(0x1ca)](_0x51fe7b,0x1);else{if(_0x51fe7b>-0x1){let _0x240920=_0x89dcdb['autoCompleteMessages'][_0x51fe7b];_0x240920[_0x56e405(0x707)]=_0x5f327f?.[_0x56e405(0x707)]||_0x240920[_0x56e405(0x707)],_0x240920[_0x56e405(0x647)]=_0x5f327f?.[_0x56e405(0x647)]||_0x240920['command'],_0x240920[_0x56e405(0x65e)]=_0x5f327f?.[_0x56e405(0x65e)]||_0x240920['message'];}else{let _0x149820={'_id':_0x5f327f?.[_0x56e405(0x5f6)]||new le[(_0x56e405(0x876))][(_0x56e405(0x219))]['ObjectId']()[_0x56e405(0x2fe)](),'order':_0x5f327f?.[_0x56e405(0x707)],'command':_0x5f327f?.[_0x56e405(0x647)],'message':_0x5f327f?.[_0x56e405(0x65e)]};_0x89dcdb?.['autoCompleteMessages']?.[_0x56e405(0x41a)](_0x149820);}}_0x89dcdb?.[_0x56e405(0x652)]?.['sort']((_0x54b676,_0xd0fdc7)=>_0x54b676['order']-_0xd0fdc7[_0x56e405(0x707)]);let _0x3818c4=await this[_0x56e405(0x59c)]['automateSystem'][_0x56e405(0x784)](_0x89dcdb,this['instance']['wuid']);return this[_0x56e405(0x36e)]=_0x3818c4,this[_0x56e405(0x5e8)][_0x56e405(0x6e9)](this[_0x56e405(0x6c1)]+'\x20('+this[_0x56e405(0x63b)]['wuid']+_0x56e405(0x1b5)),_0x3818c4;}catch(_0x351020){let _0x18d72b=_0x56e405(0x2d3),_0x4742b8=_0x351020 instanceof Error?_0x351020[_0x56e405(0x65e)]:typeof _0x351020==_0x56e405(0x24d)?JSON['stringify'](_0x351020):_0x351020,_0x1cf947=_0x18d72b+':\x20'+_0x4742b8;throw this[_0x56e405(0x5e8)][_0x56e405(0x43c)](this[_0x56e405(0x6c1)]+'\x20('+this[_0x56e405(0x63b)][_0x56e405(0x27c)]+_0x56e405(0x63e)+_0x1cf947),new m(_0x1cf947);}}async[a0_0x33b913(0x3a3)](_0x4be2af){const _0x171e2c=a0_0x33b913;try{let _0x5b0940=await this['repository'][_0x171e2c(0x3e2)][_0x171e2c(0x3bd)](this[_0x171e2c(0x63b)][_0x171e2c(0x27c)]);if(!_0x5b0940)throw new Error(_0x171e2c(0x5b1));let _0x22b6b7={'_id':_0x5b0940[_0x171e2c(0x5f6)],'flowConfig':{'enabled':_0x4be2af[_0x171e2c(0x443)]??_0x5b0940[_0x171e2c(0x5af)][_0x171e2c(0x443)],'ignoreGroups':_0x4be2af['ignoreGroups']??_0x5b0940[_0x171e2c(0x5af)][_0x171e2c(0x265)],'stopConversation':_0x4be2af[_0x171e2c(0x379)][_0x171e2c(0x1ce)]()??_0x5b0940[_0x171e2c(0x5af)][_0x171e2c(0x379)][_0x171e2c(0x1ce)](),'stopMinutes':_0x4be2af[_0x171e2c(0x835)]??_0x5b0940[_0x171e2c(0x5af)]['stopMinutes'],'stopWhenYouSendMsg':_0x4be2af[_0x171e2c(0x287)]??_0x5b0940['flowConfig'][_0x171e2c(0x287)]}},_0x258f8a=await this[_0x171e2c(0x59c)][_0x171e2c(0x3e2)][_0x171e2c(0x784)](_0x22b6b7,this[_0x171e2c(0x63b)][_0x171e2c(0x27c)]);return this[_0x171e2c(0x36e)]=_0x258f8a,this[_0x171e2c(0x5e8)][_0x171e2c(0x6e9)](this[_0x171e2c(0x6c1)]+'\x20('+this[_0x171e2c(0x63b)][_0x171e2c(0x27c)]+_0x171e2c(0x7e9)),this[_0x171e2c(0x5e8)][_0x171e2c(0x6e9)](this[_0x171e2c(0x6c1)]+'\x20('+this[_0x171e2c(0x63b)][_0x171e2c(0x27c)]+'):\x20'+this[_0x171e2c(0x36e)]),setTimeout(()=>this[_0x171e2c(0x3e1)](),0x7d0),_0x258f8a;}catch(_0x214162){let _0x4a8543=_0x171e2c(0x850),_0x47c39c=_0x214162 instanceof Error?_0x214162[_0x171e2c(0x65e)]:typeof _0x214162==_0x171e2c(0x24d)?JSON[_0x171e2c(0x590)](_0x214162):_0x214162,_0x75a0bf=_0x4a8543+':\x20'+_0x47c39c;throw this[_0x171e2c(0x5e8)][_0x171e2c(0x43c)](this[_0x171e2c(0x6c1)]+'\x20('+this[_0x171e2c(0x63b)]['wuid']+_0x171e2c(0x63e)+_0x75a0bf),new m(_0x75a0bf);}}async[a0_0x33b913(0x15c)](){const _0x1ee80b=a0_0x33b913;try{let _0x149ebe=await this[_0x1ee80b(0x59c)][_0x1ee80b(0x3e2)][_0x1ee80b(0x3bd)](this[_0x1ee80b(0x63b)][_0x1ee80b(0x27c)]);return this[_0x1ee80b(0x36e)]=_0x149ebe,this['logger'][_0x1ee80b(0x6e9)](this[_0x1ee80b(0x6c1)]+'\x20('+this[_0x1ee80b(0x63b)]['wuid']+_0x1ee80b(0x72c)),this[_0x1ee80b(0x5e8)][_0x1ee80b(0x6e9)](this[_0x1ee80b(0x36e)]),_0x149ebe;}catch(_0x4308e0){let _0x362e64=_0x1ee80b(0x85f),_0x2dc814=_0x4308e0 instanceof Error?_0x4308e0[_0x1ee80b(0x65e)]:typeof _0x4308e0=='object'?JSON['stringify'](_0x4308e0):_0x4308e0,_0x49fdd7=_0x362e64+':\x20'+_0x2dc814;throw this[_0x1ee80b(0x5e8)][_0x1ee80b(0x43c)](this[_0x1ee80b(0x6c1)]+'\x20('+this[_0x1ee80b(0x63b)][_0x1ee80b(0x27c)]+_0x1ee80b(0x63e)+_0x49fdd7),new m(_0x49fdd7);}}async['setRestartTimeout'](){const _0x49bbab=a0_0x33b913;this[_0x49bbab(0x63b)][_0x49bbab(0x2a2)]['timeout']&&clearTimeout(this[_0x49bbab(0x63b)][_0x49bbab(0x2a2)][_0x49bbab(0x764)]),this[_0x49bbab(0x63b)][_0x49bbab(0x2a2)][_0x49bbab(0x764)]=setTimeout(()=>{const _0x4f03e4=_0x49bbab;this[_0x4f03e4(0x2c4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x33b913(0x2c4)](){const _0x54fa26=a0_0x33b913;Date[_0x54fa26(0x445)]()-this[_0x54fa26(0x63b)][_0x54fa26(0x2a2)][_0x54fa26(0x6a3)]>=0x1d4c0&&(this[_0x54fa26(0x5e8)][_0x54fa26(0x6e9)](this[_0x54fa26(0x6c1)]+'\x20('+this[_0x54fa26(0x63b)][_0x54fa26(0x27c)]+_0x54fa26(0x48c)),this[_0x54fa26(0x63b)][_0x54fa26(0x2a2)][_0x54fa26(0x550)]=null,this['instance']['ScheduleMessage'][_0x54fa26(0x6a3)]=0x0,this[_0x54fa26(0x63b)][_0x54fa26(0x2a2)]['delayMessage']=0x0,await this[_0x54fa26(0x3e1)]());}async[a0_0x33b913(0x3e1)](){const _0x25e568=a0_0x33b913;let _0x597c27=()=>{const _0xd5206e=a0_0x358b;this[_0xd5206e(0x5e8)][_0xd5206e(0x6e9)](this[_0xd5206e(0x6c1)]+'\x20('+this['instance'][_0xd5206e(0x27c)]+_0xd5206e(0x4bc)+this['instance'][_0xd5206e(0x2a2)]['processing_id']+_0xd5206e(0x267));},_0x368573=async()=>{const _0x33be76=a0_0x358b;this[_0x33be76(0x5e8)][_0x33be76(0x6e9)](this['instanceName']+'\x20('+this[_0x33be76(0x63b)][_0x33be76(0x27c)]+_0x33be76(0x356));let _0x844e7e=Date[_0x33be76(0x445)]()-0xc*0x3c*0x3c*0x3e8,_0x51ec89={'where':{'status':{'$in':[_0x33be76(0x293),_0x33be76(0x541)]},'$or':[{'when':{'$lte':Date[_0x33be76(0x445)](),'$gte':_0x844e7e}},{'when':0x0}]}};return await this[_0x33be76(0x59c)]['scheduleMessage']['find'](_0x51ec89,this[_0x33be76(0x63b)]['wuid']);},_0x200061=async _0x2e2581=>{const _0x46c78c=a0_0x358b;for(let _0x2751ce of _0x2e2581){let _0x48bcce={'_id':_0x2751ce[_0x46c78c(0x5f6)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x46c78c(0x445)]()-0x1770}}]},_0x54b99e={'startSend':Date[_0x46c78c(0x445)]()};if(!await this[_0x46c78c(0x59c)]['scheduleMessage'][_0x46c78c(0x6f0)](_0x48bcce,_0x54b99e,this['instance'][_0x46c78c(0x27c)]))return;if(!this[_0x46c78c(0x63b)]['ScheduleMessage']['isConnected']){this[_0x46c78c(0x5e8)][_0x46c78c(0x6e9)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)]['wuid']+_0x46c78c(0x15a));break;}if(_0x2751ce[_0x46c78c(0x710)]===_0x46c78c(0x223)&&!this[_0x46c78c(0x36e)]?.[_0x46c78c(0x5af)]['enabled']){this[_0x46c78c(0x5e8)][_0x46c78c(0x43c)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x2751ce[_0x46c78c(0x7da)]||_0x2751ce[_0x46c78c(0x7da)][_0x46c78c(0x4ee)]===0x0)&&(_0x2751ce=await this[_0x46c78c(0x59c)][_0x46c78c(0x261)][_0x46c78c(0x30d)](_0x2751ce[_0x46c78c(0x5f6)],{'status':_0x46c78c(0x541),'remoteJidsRemaining':[..._0x2751ce[_0x46c78c(0x595)]]},this[_0x46c78c(0x63b)]['wuid']));for(let _0x498342 of _0x2751ce[_0x46c78c(0x7da)]){if(await this[_0x46c78c(0x38d)](),this[_0x46c78c(0x63b)][_0x46c78c(0x2a2)][_0x46c78c(0x6a3)]=Date[_0x46c78c(0x445)](),this[_0x46c78c(0x63b)][_0x46c78c(0x2a2)][_0x46c78c(0x695)]===_0x498342){this[_0x46c78c(0x5e8)][_0x46c78c(0x43c)](this[_0x46c78c(0x6c1)]+'\x20('+this['instance'][_0x46c78c(0x27c)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x498342+_0x46c78c(0x7df));let _0x45ca51={'$push':{'messagesSend':{'remoteJid':_0x498342,'error':!0x0,'id':null,'error_log':_0x46c78c(0x6ad),'log_timestamp':Date[_0x46c78c(0x445)]()}},'$pull':{'remoteJidsRemaining':_0x498342}};await this[_0x46c78c(0x59c)][_0x46c78c(0x261)][_0x46c78c(0x30d)](_0x2751ce['_id'],_0x45ca51,this['instance'][_0x46c78c(0x27c)]);continue;}if(this[_0x46c78c(0x63b)]['ScheduleMessage']['ultimaTentativaRemoteJid']=_0x498342,_0x2751ce[_0x46c78c(0x759)][_0x46c78c(0x788)](_0x3e6137=>_0x3e6137[_0x46c78c(0x41c)]===_0x498342)){this[_0x46c78c(0x5e8)][_0x46c78c(0x6e9)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+_0x46c78c(0x3e4)+_0x498342+_0x46c78c(0x4c7));continue;}if(!this[_0x46c78c(0x63b)]['ScheduleMessage']['isConnected']){this[_0x46c78c(0x5e8)][_0x46c78c(0x6e9)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+'):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.');break;}if(!this[_0x46c78c(0x63b)]['ScheduleMessage'][_0x46c78c(0x550)]){this[_0x46c78c(0x5e8)][_0x46c78c(0x6e9)](this['instanceName']+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+_0x46c78c(0x781)+_0x2751ce[_0x46c78c(0x5f6)]+'\x20foi\x20interrompido\x20pelo\x20usurio.');break;}if(_0x2751ce['type']===_0x46c78c(0x223)&&!this['AutomateSystem']?.[_0x46c78c(0x5af)][_0x46c78c(0x443)]){this[_0x46c78c(0x5e8)][_0x46c78c(0x43c)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+_0x46c78c(0x1c6));break;}let _0x13e5cf={'remoteJid':_0x498342,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x46c78c(0x445)]()},_0x3447ef=null;try{let _0x4432bc=await this[_0x46c78c(0x713)](_0x498342,_0x2751ce);_0x13e5cf[_0x46c78c(0x43c)]=_0x4432bc['error'],_0x13e5cf['id']=_0x4432bc[_0x46c78c(0x43c)]?null:_0x4432bc['id'],_0x13e5cf[_0x46c78c(0x75a)]=_0x4432bc['error']?_0x4432bc[_0x46c78c(0x772)]?_0x4432bc[_0x46c78c(0x772)][_0x46c78c(0x2fe)]():'':null;let _0x4f1397={'$push':{'messagesSend':_0x13e5cf},'$pull':{'remoteJidsRemaining':_0x498342}},_0xea6c1c=_0x2751ce[_0x46c78c(0x5f6)];if(_0x3447ef=await this[_0x46c78c(0x59c)][_0x46c78c(0x261)][_0x46c78c(0x30d)](_0xea6c1c,_0x4f1397,this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]),_0x4432bc[_0x46c78c(0x43c)])continue;let _0x5711cc=this[_0x46c78c(0x472)](_0x2751ce['delaySecMin'],_0x2751ce['delaySecMax']);await this[_0x46c78c(0x51f)](_0x5711cc);}catch(_0x11fa88){this[_0x46c78c(0x5e8)][_0x46c78c(0x43c)](this[_0x46c78c(0x6c1)]+'\x20('+this[_0x46c78c(0x63b)]['wuid']+_0x46c78c(0x806)+_0x498342+':\x20'+(_0x11fa88 instanceof Error?_0x11fa88['message']:JSON[_0x46c78c(0x590)](_0x11fa88,null,0x2))),_0x13e5cf[_0x46c78c(0x43c)]=!0x0,_0x13e5cf['error_log']=_0x11fa88[_0x46c78c(0x65e)];let _0x5eff90={'$push':{'messagesSend':_0x13e5cf},'$pull':{'remoteJidsRemaining':_0x498342}},_0x3a90b5=_0x2751ce[_0x46c78c(0x5f6)];_0x3447ef=await this[_0x46c78c(0x59c)]['scheduleMessage'][_0x46c78c(0x30d)](_0x3a90b5,_0x5eff90,this['instance'][_0x46c78c(0x27c)]);}finally{if(_0x3447ef&&_0x3447ef[_0x46c78c(0x615)]===_0x46c78c(0x1df)){this[_0x46c78c(0x5e8)][_0x46c78c(0x6e9)](this['instanceName']+'\x20('+this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]+_0x46c78c(0x781)+_0x2751ce[_0x46c78c(0x5f6)]+_0x46c78c(0x229));break;}}}let _0x48f775=await this[_0x46c78c(0x59c)][_0x46c78c(0x261)][_0x46c78c(0x310)](_0x2751ce['_id'],this[_0x46c78c(0x63b)][_0x46c78c(0x27c)]);if(_0x48f775[_0x46c78c(0x7da)][_0x46c78c(0x4ee)]===0x0&&_0x48f775[_0x46c78c(0x615)]!==_0x46c78c(0x1df)){this['instance'][_0x46c78c(0x2a2)][_0x46c78c(0x695)]=null;let _0x225f91={'$set':{'status':'done'}},_0x45849b=_0x48f775['_id'];await this[_0x46c78c(0x59c)]['scheduleMessage'][_0x46c78c(0x30d)](_0x45849b,_0x225f91,this['instance'][_0x46c78c(0x27c)]);}await new Promise(_0x14b0f9=>setTimeout(_0x14b0f9,0x1388));}},_0x1da9ad=async()=>{const _0x4376ea=a0_0x358b;let _0x2ee661={'where':{'status':_0x4376ea(0x293),'when':{'$gt':Date[_0x4376ea(0x445)]()}}},_0x92190=await this[_0x4376ea(0x59c)][_0x4376ea(0x261)][_0x4376ea(0x366)](_0x2ee661,this['instance'][_0x4376ea(0x27c)]);_0x92190&&_0x92190[_0x4376ea(0x6b8)]-Date['now']()<=0x5265c00?this[_0x4376ea(0x63b)][_0x4376ea(0x2a2)][_0x4376ea(0x747)]=_0x92190[_0x4376ea(0x6b8)]-Date[_0x4376ea(0x445)]():this['instance'][_0x4376ea(0x2a2)][_0x4376ea(0x747)]=(0x3c+Math[_0x4376ea(0x619)](Math[_0x4376ea(0x5c9)]()*0x3c))*0x3c*0x3e8,this[_0x4376ea(0x63b)][_0x4376ea(0x2a2)][_0x4376ea(0x747)]=Math['max'](this[_0x4376ea(0x63b)][_0x4376ea(0x2a2)][_0x4376ea(0x747)],0x7d0);let _0x279ba5=Math[_0x4376ea(0x14e)](this[_0x4376ea(0x63b)][_0x4376ea(0x2a2)]['delayMessage']/0xea60);if(_0x92190){let _0xca90f8=new Date(_0x92190[_0x4376ea(0x6b8)])['toLocaleString']();this[_0x4376ea(0x5e8)]['verbose'](this['instanceName']+'\x20('+this[_0x4376ea(0x63b)][_0x4376ea(0x27c)]+'):\x20encontrado\x20prxima\x20mensagem\x20para\x20'+_0xca90f8+',\x20far\x20nova\x20verificao\x20em\x20'+_0x279ba5+_0x4376ea(0x202));}else this[_0x4376ea(0x5e8)][_0x4376ea(0x6e9)](this['instanceName']+'\x20('+this['instance'][_0x4376ea(0x27c)]+_0x4376ea(0x1dc)+_0x279ba5+_0x4376ea(0x202));setTimeout(()=>this[_0x4376ea(0x3e1)](),this[_0x4376ea(0x63b)][_0x4376ea(0x2a2)][_0x4376ea(0x747)]);};if(this['instance'][_0x25e568(0x2a2)]['processing_id']){await this[_0x25e568(0x38d)](),_0x597c27();return;}if(!this['instance']['ScheduleMessage'][_0x25e568(0x451)]){this[_0x25e568(0x5e8)][_0x25e568(0x6e9)](this['instanceName']+'\x20('+this['instance'][_0x25e568(0x27c)]+'):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado'),this[_0x25e568(0x63b)]['ScheduleMessage'][_0x25e568(0x550)]=null,this[_0x25e568(0x63b)][_0x25e568(0x2a2)][_0x25e568(0x6a3)]=0x0,this[_0x25e568(0x63b)][_0x25e568(0x2a2)]['delayMessage']=0x0,this[_0x25e568(0x63b)][_0x25e568(0x2a2)][_0x25e568(0x695)]=null;return;}try{let _0x942622=await _0x368573();_0x942622[_0x25e568(0x4ee)]===0x0?this['logger'][_0x25e568(0x6e9)](this[_0x25e568(0x6c1)]+'\x20('+this[_0x25e568(0x63b)][_0x25e568(0x27c)]+_0x25e568(0x340)):(this[_0x25e568(0x63b)][_0x25e568(0x2a2)][_0x25e568(0x550)]=_0x942622[0x0][_0x25e568(0x5f6)],await _0x200061(_0x942622)),await _0x1da9ad(),this[_0x25e568(0x63b)]['ScheduleMessage']['processing_id']=null,this['instance'][_0x25e568(0x2a2)][_0x25e568(0x695)]=null;}catch(_0x25f427){this[_0x25e568(0x5e8)][_0x25e568(0x43c)](_0x25e568(0x2d6)+(_0x25f427 instanceof Error?_0x25f427['message']:JSON[_0x25e568(0x590)](_0x25f427,null,0x2)));}}[a0_0x33b913(0x472)](_0x5d3dbe,_0x440f37){const _0x554011=a0_0x33b913;return _0x5d3dbe=Math[_0x554011(0x42f)](0.5,_0x5d3dbe),_0x440f37=Math['min'](Math[_0x554011(0x42f)](0x3,_0x440f37),0x78),Math['floor'](Math[_0x554011(0x5c9)]()*(_0x440f37-_0x5d3dbe+0x1)+_0x5d3dbe)*0x3e8;}['sleep'](_0x18990a){return new Promise(_0x48d703=>setTimeout(_0x48d703,_0x18990a));}async[a0_0x33b913(0x838)](_0x2f0e85){const _0x2becfe=a0_0x33b913;if(!this[_0x2becfe(0x36e)]&&(await this[_0x2becfe(0x15c)](),!this[_0x2becfe(0x36e)]))return null;_0x2f0e85=this[_0x2becfe(0x523)](_0x2f0e85);let _0x4e1224=await this['repository'][_0x2becfe(0x24b)][_0x2becfe(0x366)]({'where':{'_id':_0x2f0e85}},this[_0x2becfe(0x63b)][_0x2becfe(0x27c)]),_0x54bc62={};if(_0x4e1224&&_0x4e1224[_0x2becfe(0x19e)]){let _0x5ca9d0=_0x4e1224[_0x2becfe(0x19e)];typeof _0x5ca9d0[_0x2becfe(0x414)]==_0x2becfe(0x63a)&&(_0x54bc62['nome']=_0x5ca9d0[_0x2becfe(0x414)]),typeof _0x5ca9d0[_0x2becfe(0x186)]=='string'&&(_0x54bc62[_0x2becfe(0x186)]=_0x5ca9d0[_0x2becfe(0x186)]),typeof _0x5ca9d0[_0x2becfe(0x808)]==_0x2becfe(0x63a)&&(_0x54bc62[_0x2becfe(0x808)]=_0x5ca9d0['email']),typeof _0x5ca9d0['cpf']=='string'&&(_0x54bc62[_0x2becfe(0x38c)]=_0x5ca9d0[_0x2becfe(0x38c)]),typeof _0x5ca9d0[_0x2becfe(0x615)]==_0x2becfe(0x63a)&&(_0x54bc62['status']=_0x5ca9d0[_0x2becfe(0x615)]),typeof _0x5ca9d0[_0x2becfe(0x227)]==_0x2becfe(0x63a)&&(_0x54bc62[_0x2becfe(0x227)]=_0x5ca9d0[_0x2becfe(0x227)]),typeof _0x5ca9d0[_0x2becfe(0x53e)]==_0x2becfe(0x63a)&&(_0x54bc62[_0x2becfe(0x53e)]=_0x5ca9d0['responsavelid']),Array[_0x2becfe(0x607)](_0x5ca9d0['tags'])&&(_0x54bc62[_0x2becfe(0x7a5)]=_0x5ca9d0[_0x2becfe(0x7a5)][_0x2becfe(0x7f8)](',\x20')),Array['isArray'](_0x5ca9d0[_0x2becfe(0x67d)])&&(_0x54bc62[_0x2becfe(0x67d)]=_0x5ca9d0['etiquetas']['join'](',\x20'));}return _0x4e1224&&_0x4e1224[_0x2becfe(0x19e)]&&_0x4e1224[_0x2becfe(0x19e)][_0x2becfe(0x73c)]&&_0x4e1224[_0x2becfe(0x19e)]['customFields']['forEach'](_0x10e6b2=>{const _0x13470c=_0x2becfe;let _0x2bf7c8=this['AutomateSystem']?.[_0x13470c(0x73c)][_0x13470c(0x345)](_0x2d1a59=>_0x2d1a59[_0x13470c(0x5f6)]===_0x10e6b2[_0x13470c(0x5f6)]);_0x2bf7c8&&(_0x54bc62[_0x2bf7c8[_0x13470c(0x382)]]=_0x10e6b2[_0x13470c(0x804)]);}),_0x54bc62;}async['replaceVariablesChat'](_0x11918a,_0x47e488){const _0x1036ea=a0_0x33b913;try{let _0x2d84a9=await this[_0x1036ea(0x838)](_0x47e488);return this['replaceVariables'](_0x11918a,_0x2d84a9);}catch(_0x2127eb){return this[_0x1036ea(0x5e8)]['error']('Erro\x20ao\x20substituir\x20variveis\x20para\x20'+_0x47e488+':\x20'+_0x2127eb),_0x11918a;}}async[a0_0x33b913(0x2e9)](_0x1a0560){const _0x2b1273=a0_0x33b913;try{if(this['logger'][_0x2b1273(0x6e9)](this[_0x2b1273(0x6c1)]+'\x20('+this[_0x2b1273(0x63b)]['wuid']+_0x2b1273(0x6dc)),_0x1a0560[_0x2b1273(0x76a)]&&_0x1a0560[_0x2b1273(0x5f6)]){if(this[_0x2b1273(0x63b)]['ScheduleMessage'][_0x2b1273(0x550)]===_0x1a0560['_id'][_0x2b1273(0x2fe)]())throw new Error(_0x2b1273(0x6ba));let _0x3fe8f2=await this[_0x2b1273(0x59c)][_0x2b1273(0x261)][_0x2b1273(0x78c)](_0x1a0560['_id'],this[_0x2b1273(0x63b)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3fe8f2;}let _0x505292;if(_0x1a0560['_id']&&(_0x505292=await this[_0x2b1273(0x59c)]['scheduleMessage'][_0x2b1273(0x310)](_0x1a0560[_0x2b1273(0x5f6)],this[_0x2b1273(0x63b)][_0x2b1273(0x27c)])),_0x505292){let _0x1beffc;if(this[_0x2b1273(0x63b)]['ScheduleMessage'][_0x2b1273(0x550)]===_0x505292[_0x2b1273(0x5f6)][_0x2b1273(0x2fe)]())_0x1beffc={'$set':{'status':_0x1a0560[_0x2b1273(0x615)]}};else{let {_id:_0x290ed1,..._0x4c7e1e}=_0x1a0560;_0x1beffc={'$set':_0x4c7e1e};}let _0x48f21c=await this[_0x2b1273(0x59c)]['scheduleMessage']['updateOneById'](_0x1a0560[_0x2b1273(0x5f6)],_0x1beffc,this[_0x2b1273(0x63b)][_0x2b1273(0x27c)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x48f21c;}else{_0x1a0560[_0x2b1273(0x389)]=this['instance'][_0x2b1273(0x27c)];let _0x3a6028=await this[_0x2b1273(0x59c)][_0x2b1273(0x261)][_0x2b1273(0x69e)](_0x1a0560,this[_0x2b1273(0x63b)]['wuid']);return setTimeout(()=>this[_0x2b1273(0x3e1)](),0x7d0),_0x3a6028;}}catch(_0x132412){let _0x307b26=_0x2b1273(0x553),_0x2c43e8=_0x132412 instanceof Error?_0x132412['message']:typeof _0x132412==_0x2b1273(0x24d)?JSON['stringify'](_0x132412):_0x132412,_0x99f11a=_0x307b26+':\x20'+_0x2c43e8;throw this['logger'][_0x2b1273(0x43c)](this[_0x2b1273(0x6c1)]+'\x20('+this[_0x2b1273(0x63b)][_0x2b1273(0x27c)]+_0x2b1273(0x63e)+_0x99f11a),new m(_0x99f11a);}}async[a0_0x33b913(0x680)](){const _0x1fd478=a0_0x33b913;try{return await this[_0x1fd478(0x59c)][_0x1fd478(0x261)]['find']({'where':{}},this[_0x1fd478(0x63b)]['wuid']);}catch(_0x2fae2a){let _0x58a685=_0x1fd478(0x4ff),_0x35da85=_0x2fae2a instanceof Error?_0x2fae2a['message']:typeof _0x2fae2a==_0x1fd478(0x24d)?JSON[_0x1fd478(0x590)](_0x2fae2a):_0x2fae2a,_0x55b457=_0x58a685+':\x20'+_0x35da85;throw this[_0x1fd478(0x5e8)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1fd478(0x27c)]+'):\x20'+_0x55b457),new m(_0x55b457);}}async[a0_0x33b913(0x74b)](){const _0x1e0c66=a0_0x33b913;try{let _0x28301c={'status':'done'},_0x5bef60=await this[_0x1e0c66(0x59c)][_0x1e0c66(0x261)][_0x1e0c66(0x238)](_0x28301c,this['instance']['wuid']);if(!_0x5bef60[_0x1e0c66(0x43c)])this[_0x1e0c66(0x5e8)][_0x1e0c66(0x6e9)](this[_0x1e0c66(0x6c1)]+'\x20('+this[_0x1e0c66(0x63b)][_0x1e0c66(0x27c)]+_0x1e0c66(0x410));else throw new Error(_0x5bef60['error']['message']||_0x1e0c66(0x7bf));return this[_0x1e0c66(0x680)]();}catch(_0x4d3fdb){let _0x1fabe3=_0x1e0c66(0x810),_0xa4139d=_0x4d3fdb instanceof Error?_0x4d3fdb[_0x1e0c66(0x65e)]:typeof _0x4d3fdb==_0x1e0c66(0x24d)?JSON[_0x1e0c66(0x590)](_0x4d3fdb):_0x4d3fdb,_0x420bf9=_0x1fabe3+':\x20'+_0xa4139d;throw this[_0x1e0c66(0x5e8)][_0x1e0c66(0x43c)](this['instanceName']+'\x20('+this[_0x1e0c66(0x63b)][_0x1e0c66(0x27c)]+'):\x20'+_0x420bf9),new m(_0x420bf9);}}async['SendScheduleMessage'](_0x3efaa6,_0x31a336){const _0x389b8e=a0_0x33b913;try{if(_0x31a336[_0x389b8e(0x710)]===_0x389b8e(0x223)&&!this['AutomateSystem']?.[_0x389b8e(0x5af)][_0x389b8e(0x443)])return this[_0x389b8e(0x5e8)][_0x389b8e(0x43c)](this[_0x389b8e(0x6c1)]+'\x20('+this['instance'][_0x389b8e(0x27c)]+_0x389b8e(0x288)),{'error':!0x0,'detail':_0x389b8e(0x143)};switch(_0x31a336[_0x389b8e(0x710)]){case'text':return await this[_0x389b8e(0x369)](_0x31a336,_0x3efaa6);case _0x389b8e(0x44f):return await this['scheduleSendMedia'](_0x31a336,_0x3efaa6);case _0x389b8e(0x7f3):return await this[_0x389b8e(0x2a8)](_0x31a336,_0x3efaa6);case _0x389b8e(0x223):let _0x7fa3b9=new qe();return _0x7fa3b9[_0x389b8e(0x382)]=_0x31a336[_0x389b8e(0x4c2)],_0x7fa3b9[_0x389b8e(0x41c)]=_0x3efaa6,await this[_0x389b8e(0x250)](_0x7fa3b9);break;default:return this[_0x389b8e(0x5e8)][_0x389b8e(0x43c)](this['instanceName']+'\x20('+this[_0x389b8e(0x63b)][_0x389b8e(0x27c)]+'):\x20Comando\x20desconhecido:\x20'+_0x31a336[_0x389b8e(0x710)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x106293){return this[_0x389b8e(0x5e8)][_0x389b8e(0x43c)](this[_0x389b8e(0x6c1)]+'\x20('+this[_0x389b8e(0x63b)][_0x389b8e(0x27c)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x106293 instanceof Error?_0x106293[_0x389b8e(0x65e)]:JSON['stringify'](_0x106293,null,0x2))),{'error':!0x0,'detail':_0x106293[_0x389b8e(0x65e)]};}}[a0_0x33b913(0x214)](_0x216011){const _0x45d601=a0_0x33b913;let _0x63935f=_0x216011['split']('|'),_0x2b8258=Math['floor'](Math[_0x45d601(0x5c9)]()*_0x63935f['length']);return _0x63935f[_0x2b8258]['trim']();}async[a0_0x33b913(0x369)](_0x4e9a05,_0x177a31){const _0x321546=a0_0x33b913;if(this['logger'][_0x321546(0x6e9)](this[_0x321546(0x6c1)]+'\x20('+this['instance']['wuid']+_0x321546(0x39c)),!_0x4e9a05[_0x321546(0x65e)][_0x321546(0x720)]||_0x4e9a05[_0x321546(0x65e)][_0x321546(0x720)][_0x321546(0x4ee)]===0x0)return{'error':!0x0,'detail':_0x321546(0x27e)};let _0x9309af=this[_0x321546(0x214)](_0x4e9a05['message'][_0x321546(0x720)]),_0xe63754=await this['replaceVariablesChat'](_0x9309af,_0x177a31),_0x3139bf={'number':_0x177a31,'options':{'delay':_0x4e9a05[_0x321546(0x65e)][_0x321546(0x29d)],'linkPreview':_0x4e9a05[_0x321546(0x65e)]['linkPreview']},'textMessage':{'text':_0xe63754}},_0x1f5d32=null;try{let _0x1424fb=await this[_0x321546(0x817)](_0x3139bf);if(_0x1424fb&&_0x1424fb[_0x321546(0x615)])return{'error':!0x1,'id':_0x1424fb[_0x321546(0x2cf)]['id']};_0x1f5d32=JSON[_0x321546(0x590)](_0x1424fb),this['logger'][_0x321546(0x6e9)](this['instanceName']+'\x20('+this[_0x321546(0x63b)][_0x321546(0x27c)]+'):\x20'+_0x1f5d32);}catch(_0x11002e){this['logger'][_0x321546(0x43c)](this[_0x321546(0x6c1)]+'\x20('+this[_0x321546(0x63b)][_0x321546(0x27c)]+_0x321546(0x721)+(_0x11002e instanceof Error?_0x11002e['message']:JSON[_0x321546(0x590)](_0x11002e,null,0x2))),_0x1f5d32=_0x11002e[_0x321546(0x65e)];}if(_0x1f5d32)return{'error':!0x0,'detail':(typeof _0x1f5d32==_0x321546(0x24d)?JSON[_0x321546(0x590)](_0x1f5d32,null,0x2):_0x1f5d32)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x33b913(0x672)](_0x30a568,_0xf98cb1){const _0x5f0b87=a0_0x33b913;this[_0x5f0b87(0x5e8)][_0x5f0b87(0x6e9)](this[_0x5f0b87(0x6c1)]+'\x20('+this[_0x5f0b87(0x63b)][_0x5f0b87(0x27c)]+'):\x20Enviando\x20mdia');let _0x45b744;if(_0x30a568[_0x5f0b87(0x65e)][_0x5f0b87(0x720)]&&_0x30a568[_0x5f0b87(0x65e)]['text']['length']>0x0){let _0x89f175=this[_0x5f0b87(0x214)](_0x30a568['message'][_0x5f0b87(0x720)]);_0x45b744=await this[_0x5f0b87(0x625)](_0x89f175,_0xf98cb1);}let _0x1c495d={'number':_0xf98cb1,'options':{'delay':_0x30a568[_0x5f0b87(0x65e)]['delay'],'linkPreview':_0x30a568[_0x5f0b87(0x65e)]['linkPreview']},'mediaMessage':{'mediatype':_0x30a568[_0x5f0b87(0x65e)][_0x5f0b87(0x6bd)],'caption':_0x45b744,'media':_0x30a568[_0x5f0b87(0x65e)][_0x5f0b87(0x27d)]}},_0x489b64=null;try{let _0x2184f7=await this[_0x5f0b87(0x3f9)](_0x1c495d);if(_0x2184f7&&_0x2184f7[_0x5f0b87(0x615)])return{'error':!0x1,'id':_0x2184f7['key']['id']};_0x489b64=JSON[_0x5f0b87(0x590)](_0x2184f7),this[_0x5f0b87(0x5e8)][_0x5f0b87(0x6e9)](this[_0x5f0b87(0x6c1)]+'\x20('+this['instance']['wuid']+_0x5f0b87(0x63e)+_0x489b64);}catch(_0x153cc5){this['logger'][_0x5f0b87(0x43c)](this[_0x5f0b87(0x6c1)]+'\x20('+this['instance'][_0x5f0b87(0x27c)]+_0x5f0b87(0x591)+(_0x153cc5 instanceof Error?_0x153cc5[_0x5f0b87(0x65e)]:JSON[_0x5f0b87(0x590)](_0x153cc5,null,0x2))),_0x489b64=_0x153cc5['message'];}if(_0x489b64)return{'error':!0x0,'detail':(typeof _0x489b64==_0x5f0b87(0x24d)?JSON[_0x5f0b87(0x590)](_0x489b64,null,0x2):_0x489b64)[_0x5f0b87(0x3d1)](/[\[\]{}\n]/g,'\x20')[_0x5f0b87(0x3d1)](/  +/g,'\x20')};}async[a0_0x33b913(0x2a8)](_0x44121e,_0x302cfe){const _0x537a29=a0_0x33b913;this['logger'][_0x537a29(0x6e9)](this[_0x537a29(0x6c1)]+'\x20('+this[_0x537a29(0x63b)][_0x537a29(0x27c)]+_0x537a29(0x316));let _0x410dea={'number':_0x302cfe,'options':{'delay':_0x44121e[_0x537a29(0x65e)]['delay']},'audioMessage':{'audio':_0x44121e['message'][_0x537a29(0x27d)]}},_0x12d32d=null;try{let _0x2eed37=await this[_0x537a29(0x552)](_0x410dea);if(_0x2eed37&&_0x2eed37[_0x537a29(0x615)])return{'error':!0x1,'id':_0x2eed37[_0x537a29(0x2cf)]['id']};_0x12d32d=JSON[_0x537a29(0x590)](_0x2eed37),this[_0x537a29(0x5e8)][_0x537a29(0x6e9)](this[_0x537a29(0x6c1)]+'\x20('+this[_0x537a29(0x63b)][_0x537a29(0x27c)]+_0x537a29(0x63e)+_0x12d32d);}catch(_0x34ce68){this[_0x537a29(0x5e8)][_0x537a29(0x43c)](this[_0x537a29(0x6c1)]+'\x20('+this[_0x537a29(0x63b)][_0x537a29(0x27c)]+_0x537a29(0x1d3)+(_0x34ce68 instanceof Error?_0x34ce68[_0x537a29(0x65e)]:JSON[_0x537a29(0x590)](_0x34ce68,null,0x2))),_0x12d32d=_0x34ce68[_0x537a29(0x65e)];}if(_0x12d32d)return{'error':!0x0,'detail':(typeof _0x12d32d==_0x537a29(0x24d)?JSON[_0x537a29(0x590)](_0x12d32d,null,0x2):_0x12d32d)[_0x537a29(0x3d1)](/[\[\]{}\n]/g,'\x20')[_0x537a29(0x3d1)](/  +/g,'\x20')};}async[a0_0x33b913(0x370)](_0x3d2ad7){const _0x30b1f8=a0_0x33b913;try{return await this[_0x30b1f8(0x6cd)][_0x30b1f8(0x610)](_0x3d2ad7['groupJid'],_0x3d2ad7[_0x30b1f8(0x3a6)]),{'update':_0x30b1f8(0x35f)};}catch(_0x370795){let _0x3c16db=_0x30b1f8(0x548),_0x2fdfeb=_0x370795 instanceof Error?_0x370795['message']:typeof _0x370795=='object'?JSON[_0x30b1f8(0x590)](_0x370795):_0x370795,_0x2eb748=_0x3c16db+':\x20'+_0x2fdfeb;throw this[_0x30b1f8(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x30b1f8(0x63b)][_0x30b1f8(0x27c)]+_0x30b1f8(0x63e)+_0x2eb748),new x(_0x2eb748);}}async[a0_0x33b913(0x37c)](_0x186e52){const _0x458c42=a0_0x33b913;try{return await this[_0x458c42(0x6cd)][_0x458c42(0x5db)](_0x186e52[_0x458c42(0x585)],_0x186e52[_0x458c42(0x382)]),{'update':'success'};}catch(_0x1451e9){let _0x36a724=_0x458c42(0x255),_0x2570fe=_0x1451e9 instanceof Error?_0x1451e9[_0x458c42(0x65e)]:typeof _0x1451e9==_0x458c42(0x24d)?JSON[_0x458c42(0x590)](_0x1451e9):_0x1451e9,_0x582599=_0x36a724+':\x20'+_0x2570fe;throw this[_0x458c42(0x5e8)][_0x458c42(0x43c)](this[_0x458c42(0x6c1)]+'\x20('+this[_0x458c42(0x63b)][_0x458c42(0x27c)]+_0x458c42(0x63e)+_0x582599),new x(_0x582599);}}async[a0_0x33b913(0x1ec)](_0x4f3945){const _0x13f08c=a0_0x33b913;try{let _0x412451=await this['client'][_0x13f08c(0x3b3)](_0x4f3945[_0x13f08c(0x585)],_0x4f3945[_0x13f08c(0x1d1)]);return{'success':!0x0};}catch(_0x4b19fa){let _0x20e842=_0x13f08c(0x622),_0x41ddb7=_0x4b19fa instanceof Error?_0x4b19fa[_0x13f08c(0x65e)]:typeof _0x4b19fa==_0x13f08c(0x24d)?JSON[_0x13f08c(0x590)](_0x4b19fa):_0x4b19fa,_0x3fdf36=_0x20e842+':\x20'+_0x41ddb7;throw this[_0x13f08c(0x5e8)][_0x13f08c(0x43c)](this[_0x13f08c(0x6c1)]+'\x20('+this[_0x13f08c(0x63b)][_0x13f08c(0x27c)]+_0x13f08c(0x63e)+_0x3fdf36),new x(_0x3fdf36);}}async['groupSetting'](_0x3166c8){const _0x4c02fa=a0_0x33b913;try{return await this[_0x4c02fa(0x6cd)][_0x4c02fa(0x3b8)](_0x3166c8['groupJid'],_0x3166c8[_0x4c02fa(0x651)]),{'update':_0x4c02fa(0x35f)};}catch(_0x5dfc22){let _0x3d1112='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting',_0x5acccc=_0x5dfc22 instanceof Error?_0x5dfc22[_0x4c02fa(0x65e)]:typeof _0x5dfc22=='object'?JSON[_0x4c02fa(0x590)](_0x5dfc22):_0x5dfc22,_0x2eb904=_0x3d1112+':\x20'+_0x5acccc;throw this[_0x4c02fa(0x5e8)]['error'](this['instanceName']+'\x20('+this[_0x4c02fa(0x63b)][_0x4c02fa(0x27c)]+'):\x20'+_0x2eb904),new x(_0x2eb904);}}async[a0_0x33b913(0x849)](_0x225767){const _0x12c930=a0_0x33b913;try{let _0x2ecbbe;if((0x0,P[_0x12c930(0x203)])(_0x225767['image'])){let _0x209cd4=new Date()['getTime'](),_0x3afb99=_0x225767['image']+'?timestamp='+_0x209cd4;_0x2ecbbe=(await K[_0x12c930(0x876)][_0x12c930(0x1f0)](_0x3afb99,{'responseType':_0x12c930(0x5de)}))[_0x12c930(0x4a6)];}else{if((0x0,P['isBase64'])(_0x225767[_0x12c930(0x42d)]))_0x2ecbbe=Buffer['from'](_0x225767[_0x12c930(0x42d)],_0x12c930(0x726));else throw new m(_0x12c930(0x7dc));}return await this['client'][_0x12c930(0x4c8)](_0x225767[_0x12c930(0x585)],_0x2ecbbe),{'update':'success'};}catch(_0x1a83d4){let _0x2f3c29='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture',_0x464e2c=_0x1a83d4 instanceof Error?_0x1a83d4['message']:typeof _0x1a83d4==_0x12c930(0x24d)?JSON['stringify'](_0x1a83d4):_0x1a83d4,_0x507560=_0x2f3c29+':\x20'+_0x464e2c;throw this[_0x12c930(0x5e8)][_0x12c930(0x43c)](this[_0x12c930(0x6c1)]+'\x20('+this[_0x12c930(0x63b)][_0x12c930(0x27c)]+'):\x20'+_0x507560),new x(_0x507560);}}},Ut=class c{constructor(_0x420f14,_0xc429cf,_0x3502cf){const _0x353b09=a0_0x33b913;this[_0x353b09(0x852)]=_0x420f14,this[_0x353b09(0x5d4)]=_0xc429cf,this['repository']=_0x3502cf,this['db']={},this[_0x353b09(0x786)]={},this[_0x353b09(0x5e8)]=new $(c[_0x353b09(0x382)]),this[_0x353b09(0x52b)]={},(this[_0x353b09(0x168)](),this[_0x353b09(0x868)](),Object[_0x353b09(0x794)](this['db'],_0xc429cf[_0x353b09(0x1f0)](_0x353b09(0x1a0))),Object['assign'](this[_0x353b09(0x786)],_0xc429cf['get']('REDIS')),this[_0x353b09(0x83e)]=this['db'][_0x353b09(0x4cf)]?this[_0x353b09(0x59c)]['dbServer']?.['db'](this['db'][_0x353b09(0x169)][_0x353b09(0x1b0)]+_0x353b09(0x519)):void 0x0,this['cache']=this[_0x353b09(0x786)][_0x353b09(0x4cf)]?new ne(this[_0x353b09(0x786)]):void 0x0);}async['instanceInfo'](_0x24489c){const _0x24bf75=a0_0x33b913;if(_0x24489c&&!this['waInstances'][_0x24489c])throw new J(_0x24bf75(0x7d2)+_0x24489c+_0x24bf75(0x514));let _0x325545=[];for await(let [_0x323a10,_0x553b47]of Object['entries'](this[_0x24bf75(0x52b)]))if(_0x553b47&&_0x553b47[_0x24bf75(0x3a9)][_0x24bf75(0x182)]===_0x24bf75(0x6c3)){let _0x556946=await this['repository'][_0x24bf75(0x394)]['find'](_0x323a10);_0x325545['push']({'instance':{'instanceName':_0x323a10,'apikey':_0x556946[_0x24bf75(0x5d3)],'owner':_0x553b47[_0x24bf75(0x27c)],'profileName':await _0x553b47[_0x24bf75(0x754)]()||_0x24bf75(0x2e6),'profilePictureUrl':_0x553b47['profilePictureUrl']}});}return _0x325545[_0x24bf75(0x345)](_0x15637c=>_0x15637c['instance'][_0x24bf75(0x6c1)]===_0x24489c)??_0x325545;}async[a0_0x33b913(0x25e)](_0x1f3f71){const _0x249e5b=a0_0x33b913;if(this['db'][_0x249e5b(0x4cf)]&&(await this[_0x249e5b(0x59c)]['dbServer'][_0x249e5b(0x2d9)](),(await this[_0x249e5b(0x83e)][_0x249e5b(0x4ac)]())['length']>0x0&&await this[_0x249e5b(0x83e)][_0x249e5b(0x3f1)](_0x1f3f71)),this['redis'][_0x249e5b(0x4cf)]){this['cache'][_0x249e5b(0x3b6)]=_0x1f3f71,await this['cache'][_0x249e5b(0x85b)]();return;}}async[a0_0x33b913(0x2f7)](){const _0x472a38=a0_0x33b913;await this['InstancesAlterarTodas']();let _0x413fc0=async _0x844eb5=>{const _0xdc6d00=a0_0x358b;let _0x213fd5=new Ce(this[_0xdc6d00(0x5d4)],this[_0xdc6d00(0x852)],this[_0xdc6d00(0x59c)]);_0x213fd5['instanceName']=_0x844eb5,await _0x213fd5['connectToWhatsapp'](),this[_0xdc6d00(0x52b)][_0x844eb5]=_0x213fd5;};try{if(this['redis']['ENABLED']){let _0x487d78=await this['cache'][_0x472a38(0x767)]();_0x487d78?.['length']>0x0&&_0x487d78[_0x472a38(0x211)](async _0x33715b=>await _0x413fc0(_0x33715b[_0x472a38(0x76e)](':')[0x1]));return;}if(this['db'][_0x472a38(0x4cf)]){await this[_0x472a38(0x59c)]['dbServer'][_0x472a38(0x2d9)]();let _0x4e61a3=await this[_0x472a38(0x83e)][_0x472a38(0x4ac)]();_0x4e61a3[_0x472a38(0x4ee)]>0x0&&_0x4e61a3['forEach'](async _0xf84c36=>await _0x413fc0(_0xf84c36[_0x472a38(0x331)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x4c4b8e){this[_0x472a38(0x5e8)][_0x472a38(0x43c)](_0x4c4b8e);}}async['InstancesAsDisconnectedX'](){const _0x285d9a=a0_0x33b913;let _0x24b730=await this[_0x285d9a(0x59c)][_0x285d9a(0x394)][_0x285d9a(0x5c1)](),_0x1a467d=_0x24b730['filter'](_0x1e9eed=>!this[_0x285d9a(0x52b)][_0x1e9eed['_id']]&&(_0x1e9eed[_0x285d9a(0x187)]||typeof _0x1e9eed[_0x285d9a(0x187)]>'u'));_0x1a467d['length']>0x0&&await Promise[_0x285d9a(0x739)](_0x1a467d[_0x285d9a(0x6f7)](async _0x57ab3c=>{const _0x1f71d3=_0x285d9a;let _0x5ea5b2={'online':!0x1,'lastDisconnect':Date[_0x1f71d3(0x445)]()};await this[_0x1f71d3(0x59c)]['auth']['create'](_0x5ea5b2,_0x57ab3c[_0x1f71d3(0x5f6)]);}));let _0x3a2772=Date[_0x285d9a(0x445)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1e4628=_0x24b730[_0x285d9a(0x711)](_0xc5f89=>!this[_0x285d9a(0x52b)][_0xc5f89[_0x285d9a(0x5f6)]]&&typeof _0xc5f89[_0x285d9a(0x3bf)]<'u'&&_0xc5f89[_0x285d9a(0x3bf)]<_0x3a2772);_0x1e4628[_0x285d9a(0x4ee)]>0x0&&await Promise['all'](_0x1e4628[_0x285d9a(0x6f7)](async _0x1195bb=>{}));}async[a0_0x33b913(0x3d0)](){const _0x312cde=a0_0x33b913;try{let _0x35ca09={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1a8072={'online':!0x1,'lastDisconnect':Date[_0x312cde(0x445)]()},_0x5b8927=await this[_0x312cde(0x59c)][_0x312cde(0x394)][_0x312cde(0x208)](_0x35ca09,_0x1a8072);console[_0x312cde(0x77d)]('Instncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x5b8927[_0x312cde(0x4a8)]),await this[_0x312cde(0x138)]();}catch(_0x2cc819){console[_0x312cde(0x43c)](_0x312cde(0x68e),_0x2cc819);}}async[a0_0x33b913(0x138)](){const _0x32130c=a0_0x33b913;try{let _0xb85a8c={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x33e4a0=await this[_0x32130c(0x59c)][_0x32130c(0x394)][_0x32130c(0x238)](_0xb85a8c);console[_0x32130c(0x77d)](_0x32130c(0x1b8)+_0x33e4a0[_0x32130c(0x4a8)]);}catch(_0x1c781f){console[_0x32130c(0x43c)](_0x32130c(0x326),_0x1c781f);}}['removeInstance'](){const _0x48a741=a0_0x33b913;this['eventEmitter']['on'](_0x48a741(0x32e),async _0x586311=>{const _0x3bd884=_0x48a741;try{this[_0x3bd884(0x52b)][_0x586311]=void 0x0;}catch{}try{this[_0x3bd884(0x25e)](_0x586311);}finally{this[_0x3bd884(0x5e8)][_0x3bd884(0x72b)]('Instance\x20\x22'+_0x586311+'\x22\x20-\x20REMOVED');}});}[a0_0x33b913(0x868)](){const _0x1fcbc7=a0_0x33b913;this[_0x1fcbc7(0x852)]['on'](_0x1fcbc7(0x31f),async _0x1a66fa=>{const _0x462f78=_0x1fcbc7;try{this[_0x462f78(0x52b)][_0x1a66fa]=void 0x0;}catch{}try{this[_0x462f78(0x25e)](_0x1a66fa);}finally{this['logger'][_0x462f78(0x72b)](_0x462f78(0x7d2)+_0x1a66fa+_0x462f78(0x833));}});}},Jt=class extends I{['getChatModelForOwner'](_0x4a4b34){return Ys(_0x4a4b34);}async[a0_0x33b913(0x814)](_0x43dc5c){const _0x3e1a64=a0_0x33b913;if(_0x43dc5c[_0x3e1a64(0x4ee)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x43dc5c[0x0]['owner'])[_0x3e1a64(0x1cb)]([..._0x43dc5c]))[_0x3e1a64(0x4ee)]};}catch(_0x39f23f){return _0x39f23f;}}async[a0_0x33b913(0x345)](_0x3777c2,_0x49ce9a){const _0xe0a280=a0_0x33b913;try{let _0x92e04c=this[_0xe0a280(0x368)](_0x49ce9a),_0x4a15b0=O(_0x3777c2['where']);return await _0x92e04c[_0xe0a280(0x345)](_0x4a15b0)[_0xe0a280(0x81b)]({'lastmsg':-0x1})[_0xe0a280(0x3c5)](_0x3777c2?.[_0xe0a280(0x3c5)]??0x0)[_0xe0a280(0x538)]();}catch{return[];}}async['delete'](_0x2ff130,_0x390075){const _0x4687a3=a0_0x33b913;try{return{'deletedCount':(await this[_0x4687a3(0x368)](_0x390075)[_0x4687a3(0x238)]({..._0x2ff130[_0x4687a3(0x7fb)]}))[_0x4687a3(0x64a)]};}catch(_0x43a0ac){return{'error':_0x43a0ac?.[_0x4687a3(0x2fe)]()};}}async[a0_0x33b913(0x520)](_0x21d228,_0x3cf13f){const _0x1d3210=a0_0x33b913;try{return await this['getChatModelForOwner'](_0x3cf13f)[_0x1d3210(0x238)]({..._0x21d228['where']}),[];}catch(_0x304f54){return{'error':_0x304f54?.[_0x1d3210(0x2fe)]()};}}async[a0_0x33b913(0x366)](_0x5932a4,_0x2033b0){const _0x35b722=a0_0x33b913;try{let _0x5628d4=this[_0x35b722(0x368)](_0x2033b0),_0x5f09aa=O(_0x5932a4[_0x35b722(0x7fb)]);return await _0x5628d4['findOne'](_0x5f09aa)['lean']();}catch{return null;}}async[a0_0x33b913(0x6f0)](_0x4d319a,_0x1731be,_0x349593,_0x5075fe,_0x26c08e=a0_0x33b913(0x18a)){const _0x181e42=a0_0x33b913;try{let _0x484702={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5075fe},_0x2c79ce=this[_0x181e42(0x368)](_0x349593),_0x540177=O(_0x4d319a[_0x181e42(0x7fb)]);Object[_0x181e42(0x719)](_0x1731be)[_0x181e42(0x211)](_0x2902bb=>{_0x1731be[_0x2902bb]==null&&delete _0x1731be[_0x2902bb];});let _0x36cccc={};return _0x36cccc[_0x26c08e]=_0x1731be,await _0x2c79ce[_0x181e42(0x285)](_0x540177,_0x36cccc,_0x484702);}catch(_0x3c9dd9){return console[_0x181e42(0x43c)](_0x3c9dd9),null;}}async['updateMany'](_0x458673){const _0x5d06e0=a0_0x33b913;try{let _0x194c38=this[_0x5d06e0(0x368)](_0x458673[0x0][_0x5d06e0(0x17d)][_0x5d06e0(0x7fb)][_0x5d06e0(0x389)]),_0x4de753=_0x458673[_0x5d06e0(0x6f7)](_0x13588c=>({'updateOne':{'filter':{..._0x13588c[_0x5d06e0(0x17d)]['where']},'update':{'$set':_0x13588c[_0x5d06e0(0x784)]},'upsert':!0x0}})),_0x4ed66e=await _0x194c38[_0x5d06e0(0x6a5)](_0x4de753);return _0x4ed66e['modifiedCount']+_0x4ed66e[_0x5d06e0(0x497)];}catch(_0x5b1840){return console[_0x5d06e0(0x43c)](_0x5b1840),0x0;}}async[a0_0x33b913(0x6ea)](_0x32ac5e){const _0x382106=a0_0x33b913;try{let _0x4b19e9={'group_isCommunity':'','group_announce':'','group_size':''},_0x52ea41={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1c4cc7={'$unset':_0x4b19e9};return(await this[_0x382106(0x368)](_0x32ac5e)[_0x382106(0x3d9)](_0x52ea41,_0x1c4cc7))[_0x382106(0x42c)];}catch(_0x54e9da){return console[_0x382106(0x43c)](_0x382106(0x484),_0x54e9da),0x0;}}async[a0_0x33b913(0x74d)](_0xb4e78b){const _0x13365f=a0_0x33b913;try{let _0x23ccd2=this['getChatModelForOwner'](_0xb4e78b),_0x1eaceb={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1171cb={'$set':{'leadInfo.etiquetas':[]}};return(await _0x23ccd2[_0x13365f(0x3d9)](_0x1eaceb,_0x1171cb))['modifiedCount'];}catch(_0x231054){return console[_0x13365f(0x43c)](_0x231054),0x0;}}async['updateMissingTags'](_0x415602){const _0x19e635=a0_0x33b913;try{let _0x321c7a=this['getChatModelForOwner'](_0x415602),_0x2e1adf={'leadInfo.tags':{'$exists':!0x1}},_0x5b665b={'$set':{'leadInfo.tags':[]}};return(await _0x321c7a[_0x19e635(0x3d9)](_0x2e1adf,_0x5b665b))['modifiedCount'];}catch(_0x434956){return console[_0x19e635(0x43c)](_0x434956),0x0;}}async[a0_0x33b913(0x50b)](_0x1529b1){const _0x3538ab=a0_0x33b913;try{let _0x431be1=this['getChatModelForOwner'](_0x1529b1),_0x36c979={'leadInfo.customFields':{'$exists':!0x1}},_0x359bb5={'$set':{'leadInfo.customFields':[]}};return(await _0x431be1[_0x3538ab(0x3d9)](_0x36c979,_0x359bb5))['modifiedCount'];}catch(_0x21fef0){return console[_0x3538ab(0x43c)](_0x21fef0),0x0;}}async[a0_0x33b913(0x1cb)](_0x474200,_0x30bec9){const _0x1ae7b1=a0_0x33b913;if(!Array[_0x1ae7b1(0x607)](_0x474200)||_0x474200['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20insero.');try{return(await this[_0x1ae7b1(0x368)](_0x30bec9)[_0x1ae7b1(0x1cb)](_0x474200))[_0x1ae7b1(0x4ee)];}catch(_0x1b0280){throw console[_0x1ae7b1(0x43c)](_0x1ae7b1(0x5f3),_0x1b0280),_0x1b0280;}}async[a0_0x33b913(0x7ef)](_0x980568,_0x314b1a){const _0x522fa0=a0_0x33b913;try{await this['getChatModelForOwner'](_0x314b1a)[_0x522fa0(0x78c)]({'_id':_0x980568});}catch(_0x410757){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x410757),_0x410757;}}},qt=class extends I{constructor(_0x2f756f,_0x47bf90,_0x48f94c){super(_0x47bf90),this['cacheContactModel']=_0x2f756f,this['configService']=_0x47bf90,this['dbConnection']=_0x48f94c;}async['insert'](_0x58e1ea){const _0x3cb689=a0_0x33b913;if(_0x58e1ea[_0x3cb689(0x4ee)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x3cb689(0x1cb)]([..._0x58e1ea]))[_0x3cb689(0x4ee)]};}catch(_0x397ff7){return _0x397ff7;}}async[a0_0x33b913(0x784)](_0x51f385,_0x38128d){const _0x32fd07=a0_0x33b913;try{let _0x33ce69=O(_0x51f385[_0x32fd07(0x7fb)]);return{'updatedCount':(await this['cacheContactModel'][_0x32fd07(0x3d9)](_0x33ce69,{'$set':_0x38128d}))['modifiedCount']};}catch(_0x469936){return console[_0x32fd07(0x43c)](_0x32fd07(0x708),_0x469936),{'error':_0x469936[_0x32fd07(0x2fe)]()};}}async[a0_0x33b913(0x199)](_0x3062d0){const _0x1cf4fd=a0_0x33b913;try{let _0x567f38={'_id':{'$in':_0x3062d0}};return await this[_0x1cf4fd(0x741)]['find'](_0x567f38)[_0x1cf4fd(0x538)]();}catch(_0x5f0297){return console[_0x1cf4fd(0x43c)](_0x1cf4fd(0x70c),_0x5f0297),[];}}async[a0_0x33b913(0x76a)](_0x2dd425){const _0x5f597d=a0_0x33b913;try{return{'deletedCount':(await this[_0x5f597d(0x741)]['deleteMany']({..._0x2dd425[_0x5f597d(0x7fb)]}))['deletedCount']};}catch(_0xffb38){return{'error':_0xffb38?.['toString']()};}}async[a0_0x33b913(0x345)](_0x30bb84){const _0x24911b=a0_0x33b913;try{let _0x19be1c=O(_0x30bb84['where']);return await this[_0x24911b(0x741)][_0x24911b(0x345)](_0x19be1c)[_0x24911b(0x3c5)](_0x30bb84?.[_0x24911b(0x3c5)]??0x0)[_0x24911b(0x538)]();}catch{return[];}}async['findOne'](_0x193c3f){const _0x3f0172=a0_0x33b913;try{let _0x4d9ca9=O(_0x193c3f[_0x3f0172(0x7fb)]);return await this[_0x3f0172(0x741)]['findOne'](_0x4d9ca9)[_0x3f0172(0x538)]();}catch{return null;}}},Vt=class extends I{[a0_0x33b913(0x65a)](_0x4648d8){return fa(_0x4648d8);}async[a0_0x33b913(0x6f0)](_0x4bb12b,_0x82b045,_0x4fc000,_0x4cbcaf){const _0x1174ee=a0_0x33b913;try{let _0x726f71={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4cbcaf},_0x2e79b4=this[_0x1174ee(0x65a)](_0x4fc000),_0x227410=O(_0x4bb12b[_0x1174ee(0x7fb)]);return await _0x2e79b4['findOneAndUpdate'](_0x227410,{'$set':_0x82b045},_0x726f71);}catch(_0x170785){return console['error'](_0x170785),null;}}async[a0_0x33b913(0x345)](_0x46f2cd,_0x59616f){const _0xc7cf91=a0_0x33b913;try{let _0x39a91b=this[_0xc7cf91(0x65a)](_0x59616f),_0x4782ef=O(_0x46f2cd[_0xc7cf91(0x7fb)]);return await _0x39a91b[_0xc7cf91(0x345)](_0x4782ef);}catch(_0x4ac201){console[_0xc7cf91(0x43c)](_0x4ac201);}}async[a0_0x33b913(0x76a)](_0x189d36,_0x455391){const _0x5b8d78=a0_0x33b913;try{let _0x289406=this[_0x5b8d78(0x65a)](_0x455391),_0x367476=O(_0x189d36['where']);await _0x289406[_0x5b8d78(0x238)](_0x367476);}catch(_0x334841){console['error'](_0x334841);}}async[a0_0x33b913(0x520)](_0x4fa34a){const _0x5dfee3=a0_0x33b913;try{return await this['getLabelModelForOwner'](_0x4fa34a)[_0x5dfee3(0x43b)]['drop'](),{'success':!0x0};}catch(_0x33ec32){return console['error'](_0x33ec32),{'success':!0x1,'error':_0x33ec32};}}},Gt=class{constructor(_0x22b350){this['waMonitor']=_0x22b350;}async['editChat']({instanceName:_0xe924ba},_0x54cd51){const _0x51d7ed=a0_0x33b913;return await this[_0x51d7ed(0x855)][_0x51d7ed(0x52b)][_0xe924ba][_0x51d7ed(0x3fb)](_0x54cd51);}async[a0_0x33b913(0x177)]({instanceName:_0x3ba203},_0xd12ab0){const _0x35e13e=a0_0x33b913;return await this[_0x35e13e(0x855)][_0x35e13e(0x52b)][_0x3ba203]['whatsappNumber'](_0xd12ab0);}async[a0_0x33b913(0x7f5)]({instanceName:_0x6ff239},_0x46fe86){const _0x435c82=a0_0x33b913;return await this[_0x435c82(0x855)][_0x435c82(0x52b)][_0x6ff239][_0x435c82(0x7f5)](_0x46fe86);}async[a0_0x33b913(0x819)]({instanceName:_0x5f4978},_0x3e4059){const _0x5df921=a0_0x33b913;return await this[_0x5df921(0x855)][_0x5df921(0x52b)][_0x5f4978][_0x5df921(0x290)](_0x3e4059);}async['archiveChat']({instanceName:_0x400274},_0x40b784){const _0x108098=a0_0x33b913;return await this[_0x108098(0x855)][_0x108098(0x52b)][_0x400274][_0x108098(0x5fb)](_0x40b784);}async[a0_0x33b913(0x587)]({instanceName:_0x1ea8c1},_0x46e385){const _0x4d31ea=a0_0x33b913;return await this['waMonitor'][_0x4d31ea(0x52b)][_0x1ea8c1]['deleteMessage'](_0x46e385);}async[a0_0x33b913(0x740)]({instanceName:_0x592609},_0x49a77e){const _0xff4ac1=a0_0x33b913;return await this['waMonitor'][_0xff4ac1(0x52b)][_0x592609]['profilePicture'](_0x49a77e[_0xff4ac1(0x17a)]);}async[a0_0x33b913(0x40c)]({instanceName:_0x17a389},_0x45ae1e){const _0x1f164f=a0_0x33b913;return await this['waMonitor'][_0x1f164f(0x52b)][_0x17a389][_0x1f164f(0x40c)](_0x45ae1e['number']);}async[a0_0x33b913(0x46b)]({instanceName:_0x23124e},_0x50b9b5){const _0x1624c2=a0_0x33b913;return await this[_0x1624c2(0x855)]['waInstances'][_0x23124e][_0x1624c2(0x46b)](_0x50b9b5);}async[a0_0x33b913(0x6a8)]({instanceName:_0x41da99},_0x797a77){const _0x3afa08=a0_0x33b913;return await this['waMonitor'][_0x3afa08(0x52b)][_0x41da99][_0x3afa08(0x6a8)](_0x797a77);}async['getBase64FromMediaMessage']({instanceName:_0x20af9b},_0x487120){const _0x5894dc=a0_0x33b913;return await this[_0x5894dc(0x855)][_0x5894dc(0x52b)][_0x20af9b][_0x5894dc(0x4e3)](_0x487120);}async['fetchMessages']({instanceName:_0x4933f8},_0x3b5705){const _0x59d18c=a0_0x33b913;return await this['waMonitor'][_0x59d18c(0x52b)][_0x4933f8]['fetchMessages'](_0x3b5705);}async[a0_0x33b913(0x22f)]({instanceName:_0xb72711}){const _0x1a258e=a0_0x33b913;return await this[_0x1a258e(0x855)][_0x1a258e(0x52b)][_0xb72711][_0x1a258e(0x22f)]();}async[a0_0x33b913(0x752)]({instanceName:_0x493408}){const _0x30d4ac=a0_0x33b913;return await this['waMonitor'][_0x30d4ac(0x52b)][_0x493408][_0x30d4ac(0x752)]();}async[a0_0x33b913(0x76d)]({instanceName:_0x5b46e1}){const _0x10c1d0=a0_0x33b913;return await this[_0x10c1d0(0x855)][_0x10c1d0(0x52b)][_0x5b46e1]['fetchPrivacySettings']();}async[a0_0x33b913(0x4d1)]({instanceName:_0x4b237e},_0x1505b2){const _0x25fe88=a0_0x33b913;return await this['waMonitor'][_0x25fe88(0x52b)][_0x4b237e][_0x25fe88(0x4d1)](_0x1505b2);}async[a0_0x33b913(0x5ab)]({instanceName:_0x3c058d},_0xb1ef7a){const _0xdbdc01=a0_0x33b913;return await this[_0xdbdc01(0x855)][_0xdbdc01(0x52b)][_0x3c058d][_0xdbdc01(0x5ab)](_0xb1ef7a[_0xdbdc01(0x17a)]);}async['updateProfileName']({instanceName:_0x16e1eb},_0xb8b516){const _0x5791eb=a0_0x33b913;return await this['waMonitor']['waInstances'][_0x16e1eb]['updateProfileName'](_0xb8b516[_0x5791eb(0x382)]);}async[a0_0x33b913(0x6ca)]({instanceName:_0x36e07d},_0x366bc7){const _0x25e270=a0_0x33b913;return await this[_0x25e270(0x855)][_0x25e270(0x52b)][_0x36e07d][_0x25e270(0x6ca)](_0x366bc7[_0x25e270(0x615)]);}async[a0_0x33b913(0x4c8)]({instanceName:_0x25139d},_0x3f8a51){const _0x3d2b87=a0_0x33b913;return await this[_0x3d2b87(0x855)][_0x3d2b87(0x52b)][_0x25139d][_0x3d2b87(0x4c8)](_0x3f8a51['picture']);}async[a0_0x33b913(0x627)]({instanceName:_0x28d2f0},_0x649a13){const _0x88999b=a0_0x33b913;return await this[_0x88999b(0x855)][_0x88999b(0x52b)][_0x28d2f0]['removeProfilePicture']();}},Bt=require(a0_0x33b913(0x155)),Wt=class c{constructor(_0x5c6d21,_0x2a68cc,_0x28c76a,_0x2027f0,_0x30cadd){const _0x4a8947=a0_0x33b913;this[_0x4a8947(0x855)]=_0x5c6d21,this[_0x4a8947(0x5d4)]=_0x2a68cc,this[_0x4a8947(0x59c)]=_0x28c76a,this[_0x4a8947(0x852)]=_0x2027f0,this[_0x4a8947(0x29f)]=_0x30cadd,this['logger']=new $(c[_0x4a8947(0x382)]);}async[a0_0x33b913(0x1e0)]({instanceName:_0x203751,apikey:_0x22e378,number:_0x113ced,proxy:_0x5560e4=!0x0}){const _0x175933=a0_0x33b913;try{let _0x2e446a=new Ce(this[_0x175933(0x5d4)],this[_0x175933(0x852)],this[_0x175933(0x59c)]);_0x2e446a['instanceName']=_0x203751,this['waMonitor'][_0x175933(0x52b)][_0x2e446a['instanceName']]=_0x2e446a;let _0x5a6ca9={};_0x22e378?(await this[_0x175933(0x59c)][_0x175933(0x394)][_0x175933(0x2ea)]({'apikey':_0x22e378},_0x203751),_0x5a6ca9['apikey']=_0x22e378):_0x5a6ca9=await this['authService'][_0x175933(0x30a)]({'instanceName':_0x2e446a[_0x175933(0x6c1)]});let _0x1f228d;if(_0x113ced){if(_0x1f228d=await this[_0x175933(0x68f)](_0x113ced),_0x1f228d['error'])throw new x(_0x1f228d[_0x175933(0x43c)][_0x175933(0x2fe)]());_0x113ced=_0x1f228d['number'];}let _0x3a6d8f;return await _0x2e446a['connectToWhatsapp'](_0x113ced),await(0x0,Bt[_0x175933(0x29d)])(0x7d0),_0x113ced&&await(0x0,Bt[_0x175933(0x29d)])(0xbb8),_0x3a6d8f=_0x2e446a[_0x175933(0x164)],{'instance':{'instanceName':_0x2e446a[_0x175933(0x6c1)],'status':_0x175933(0x663)},'hash':_0x5a6ca9,'qrcode':_0x3a6d8f};}catch(_0x396112){throw this[_0x175933(0x5e8)][_0x175933(0x43c)](_0x396112),_0x396112;}}async['connectToWhatsappController']({instanceName:_0x295a8a,number:_0x1b64cb=null}){const _0x4e943f=a0_0x33b913;try{let _0x529413=this[_0x4e943f(0x855)][_0x4e943f(0x52b)][_0x295a8a];switch(_0x529413?.[_0x4e943f(0x3a9)]?.[_0x4e943f(0x182)]){case'close':return await _0x529413[_0x4e943f(0x2fd)](_0x1b64cb),await(0x0,Bt['delay'])(0x7d0),_0x529413[_0x4e943f(0x164)];case'connecting':return _0x529413['qrCode'];default:return await this[_0x4e943f(0x2ee)]({'instanceName':_0x295a8a});}}catch(_0x2bcbfa){this['logger'][_0x4e943f(0x77d)](_0x2bcbfa);}}async[a0_0x33b913(0x2ee)]({instanceName:_0x4e4006}){const _0x1f9317=a0_0x33b913;let _0x210c17=this[_0x1f9317(0x855)]['waInstances'][_0x4e4006]['connectionStatus'],_0x1aec83=null;_0x210c17[_0x1f9317(0x182)]==='open'&&_0x4e4006&&(_0x1aec83=await this[_0x1f9317(0x855)][_0x1f9317(0x2ec)](_0x4e4006));let _0xfe5f39=null;return _0x210c17[_0x1f9317(0x182)]===_0x1f9317(0x516)&&_0x4e4006&&(_0xfe5f39=this['waMonitor'][_0x1f9317(0x52b)][_0x4e4006][_0x1f9317(0x164)]),{'instance':_0x4e4006,'connectionStatus':_0x210c17,'instanceInfo':_0x1aec83,'qrcode':_0xfe5f39};}async[a0_0x33b913(0x68f)](_0x404df8){const _0x3b57a5=a0_0x33b913;_0x404df8=_0x404df8[_0x3b57a5(0x3d1)](/\D/g,'');let _0x1a7bb3=Object['keys'](this['waMonitor'][_0x3b57a5(0x52b)])[_0x3b57a5(0x711)](_0x1c33f1=>{const _0x16f541=_0x3b57a5;let _0x365bdd=this[_0x16f541(0x855)][_0x16f541(0x52b)][_0x1c33f1];return _0x365bdd&&_0x365bdd[_0x16f541(0x3a9)]&&_0x365bdd[_0x16f541(0x3a9)]['state']===_0x16f541(0x6c3);});if(_0x1a7bb3[_0x3b57a5(0x4ee)]===0x0)return{'number':this[_0x3b57a5(0x20b)](_0x404df8)};let _0x254f14=Math[_0x3b57a5(0x619)](Math[_0x3b57a5(0x5c9)]()*_0x1a7bb3[_0x3b57a5(0x4ee)]),_0xe6ee1=_0x1a7bb3[_0x254f14];try{let _0x50d6a3=(await this[_0x3b57a5(0x855)][_0x3b57a5(0x52b)][_0xe6ee1][_0x3b57a5(0x177)]({'numbers':[_0x404df8]}))[_0x3b57a5(0x5c2)]();return _0x50d6a3[_0x3b57a5(0x4c3)]?{'number':_0x50d6a3[_0x3b57a5(0x662)][_0x3b57a5(0x3d1)](_0x3b57a5(0x86c),'')}:{'number':_0x404df8,'error':_0x3b57a5(0x4be)};}catch(_0x4592d8){return this[_0x3b57a5(0x5e8)][_0x3b57a5(0x43c)](_0x3b57a5(0x859)+_0x4592d8),{'number':_0x404df8,'error':_0x3b57a5(0x642)};}}['formatBRNumber'](_0x27eaf4){let _0x21410c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x27eaf4);if(_0x21410c&&_0x21410c[0x1]==='55'){let _0xef126c=_0x21410c[0x2],_0x43c2b1=_0x21410c[0x3],_0x3f5b7d=_0x21410c[0x4];if(parseInt(_0xef126c)>=0x1f&&_0x43c2b1==='9')return _0x21410c[0x1]+_0xef126c+_0x3f5b7d;}return _0x27eaf4;}async[a0_0x33b913(0x827)]({instanceName:_0x70a4cf}){const _0x546542=a0_0x33b913;try{return this['waMonitor'][_0x546542(0x52b)][_0x70a4cf]?.[_0x546542(0x6cd)]?.['ws']?.[_0x546542(0x851)](),{'status':_0x546542(0x832),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x5c7916){this[_0x546542(0x5e8)][_0x546542(0x43c)](_0x5c7916);}}async[a0_0x33b913(0x2fa)]({instanceName:_0x1e2687}){const _0xfc0016=a0_0x33b913;return _0x1e2687?this[_0xfc0016(0x855)][_0xfc0016(0x2ec)](_0x1e2687):this['waMonitor']['instanceInfo']();}async[a0_0x33b913(0x66e)]({instanceName:_0x418ba6}){const _0x2c1be9=a0_0x33b913;try{return await this['waMonitor'][_0x2c1be9(0x52b)][_0x418ba6]?.[_0x2c1be9(0x6cd)]?.['logout']('Log\x20out\x20instance:\x20'+_0x418ba6),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x8b401e){throw new x(_0x8b401e[_0x2c1be9(0x2fe)]());}}async[a0_0x33b913(0x4f4)]({instanceName:_0x20f94b}){const _0x43d050=a0_0x33b913;if((await this[_0x43d050(0x2ee)]({'instanceName':_0x20f94b}))['connectionStatus'][_0x43d050(0x182)]===_0x43d050(0x6c3))throw new m(['Deletion\x20failed',_0x43d050(0x4e9)]);try{return delete this[_0x43d050(0x855)][_0x43d050(0x52b)][_0x20f94b],{'error':!0x1,'message':_0x43d050(0x391)};}catch(_0x200f32){throw new m(_0x200f32[_0x43d050(0x2fe)]());}}},ee=require(a0_0x33b913(0x4a1)),zt=class{constructor(_0x971c78){const _0x46f481=a0_0x33b913;this[_0x46f481(0x855)]=_0x971c78;}async[a0_0x33b913(0x66c)]({instanceName:_0x58655d},_0x29c417){const _0x2463c6=a0_0x33b913;return await this[_0x2463c6(0x855)][_0x2463c6(0x52b)][_0x58655d][_0x2463c6(0x817)](_0x29c417);}async[a0_0x33b913(0x51a)]({instanceName:_0x7d2bcb},_0xac6e01){const _0x2d079a=a0_0x33b913;return await this[_0x2d079a(0x855)][_0x2d079a(0x52b)][_0x7d2bcb][_0x2d079a(0x36f)](_0xac6e01);}async[a0_0x33b913(0x567)]({instanceName:_0x37b6d4},_0x9ad2cc){const _0x3d5677=a0_0x33b913;if((0x0,ee['isBase64'])(_0x9ad2cc?.[_0x3d5677(0x3f9)]?.[_0x3d5677(0x44f)])&&!_0x9ad2cc?.['mediaMessage']?.[_0x3d5677(0x3dc)])throw new m(_0x3d5677(0x660));if((0x0,ee[_0x3d5677(0x203)])(_0x9ad2cc?.[_0x3d5677(0x3f9)]?.['media'])||(0x0,ee[_0x3d5677(0x3c8)])(_0x9ad2cc?.[_0x3d5677(0x3f9)]?.['media']))return await this[_0x3d5677(0x855)]['waInstances'][_0x37b6d4][_0x3d5677(0x3f9)](_0x9ad2cc);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x33b913(0x676)]({instanceName:_0x12cdac},_0x147662){const _0x4b00bf=a0_0x33b913;if((0x0,ee[_0x4b00bf(0x203)])(_0x147662[_0x4b00bf(0x27a)][_0x4b00bf(0x42d)])||(0x0,ee['isBase64'])(_0x147662[_0x4b00bf(0x27a)][_0x4b00bf(0x42d)]))return await this[_0x4b00bf(0x855)]['waInstances'][_0x12cdac][_0x4b00bf(0x23e)](_0x147662);throw new m(_0x4b00bf(0x783));}async[a0_0x33b913(0x1ee)]({instanceName:_0x142d6f},_0x2bcb8f){const _0x4acd0c=a0_0x33b913;if((0x0,ee[_0x4acd0c(0x203)])(_0x2bcb8f[_0x4acd0c(0x475)][_0x4acd0c(0x7f3)])||(0x0,ee[_0x4acd0c(0x3c8)])(_0x2bcb8f['audioMessage'][_0x4acd0c(0x7f3)]))return await this[_0x4acd0c(0x855)][_0x4acd0c(0x52b)][_0x142d6f][_0x4acd0c(0x552)](_0x2bcb8f);throw new m(_0x4acd0c(0x783));}async['sendButtons']({instanceName:_0x573eb2},_0x5b5e7e){const _0x123aec=a0_0x33b913;if((0x0,ee[_0x123aec(0x3c8)])(_0x5b5e7e[_0x123aec(0x698)][_0x123aec(0x3f9)]?.[_0x123aec(0x44f)])&&!_0x5b5e7e[_0x123aec(0x698)][_0x123aec(0x3f9)]?.[_0x123aec(0x3dc)])throw new m(_0x123aec(0x660));return await this[_0x123aec(0x855)][_0x123aec(0x52b)][_0x573eb2][_0x123aec(0x698)](_0x5b5e7e);}async['sendLocation']({instanceName:_0x2136bb},_0x46fd5c){const _0x22c7e7=a0_0x33b913;return await this[_0x22c7e7(0x855)][_0x22c7e7(0x52b)][_0x2136bb][_0x22c7e7(0x175)](_0x46fd5c);}async['sendPoll']({instanceName:_0x4c2176},_0x57edf8){const _0x2465b3=a0_0x33b913;return await this['waMonitor'][_0x2465b3(0x52b)][_0x4c2176][_0x2465b3(0x593)](_0x57edf8);}async[a0_0x33b913(0x244)]({instanceName:_0x4bf07e},_0x314453){const _0x8a73d9=a0_0x33b913;return await this[_0x8a73d9(0x855)]['waInstances'][_0x4bf07e][_0x8a73d9(0x172)](_0x314453);}async[a0_0x33b913(0x756)]({instanceName:_0x4e081b},_0x4a9113){const _0x2a714e=a0_0x33b913;return await this['waMonitor'][_0x2a714e(0x52b)][_0x4e081b][_0x2a714e(0x482)](_0x4a9113);}async[a0_0x33b913(0x49b)]({instanceName:_0x492f85},_0x221456){const _0x14b123=a0_0x33b913;if(!_0x221456['reactionMessage'][_0x14b123(0x690)][_0x14b123(0x328)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x14b123(0x347));return await this[_0x14b123(0x855)][_0x14b123(0x52b)][_0x492f85][_0x14b123(0x6f3)](_0x221456);}async['sendStatus']({instanceName:_0x4b202d},_0x40df32){const _0x5b2928=a0_0x33b913;return await this[_0x5b2928(0x855)][_0x5b2928(0x52b)][_0x4b202d][_0x5b2928(0x1b6)](_0x40df32);}},Ni=require(a0_0x33b913(0x408)),ks=require('uuid'),Ht=class c{constructor(_0xdb89ce,_0x4ea922,_0x49a576){const _0x3d5424=a0_0x33b913;this[_0x3d5424(0x5d4)]=_0xdb89ce,this['waMonitor']=_0x4ea922,this[_0x3d5424(0x59c)]=_0x49a576,this[_0x3d5424(0x5e8)]=new $(c['name']);}async[a0_0x33b913(0x4d8)](_0x36f369){const _0x344c73=a0_0x33b913;let _0x16b510=this['configService']['get'](_0x344c73(0x28a))['JWT'],_0x5c28bf=(0x0,Ni['sign'])({'instanceName':_0x36f369[_0x344c73(0x6c1)],'apiName':et,'tokenId':(0x0,ks['v4'])()},_0x16b510['SECRET'],{'expiresIn':_0x16b510[_0x344c73(0x157)],'encoding':_0x344c73(0x70e),'subject':_0x344c73(0x449)}),_0x2aac4d=await this[_0x344c73(0x59c)][_0x344c73(0x394)][_0x344c73(0x2ea)]({'jwt':_0x5c28bf},_0x36f369[_0x344c73(0x6c1)]);if(_0x2aac4d[_0x344c73(0x43c)])throw this[_0x344c73(0x5e8)][_0x344c73(0x43c)]({'localError':c[_0x344c73(0x382)]+_0x344c73(0x571),'error':_0x2aac4d[_0x344c73(0x43c)]}),new m(_0x344c73(0x509),_0x2aac4d[_0x344c73(0x43c)]?.[_0x344c73(0x2fe)]());return{'jwt':_0x5c28bf};}async[a0_0x33b913(0x5d3)](_0x4b7780){const _0x305425=a0_0x33b913;let _0x3bb474=(0x0,ks['v4'])()['toUpperCase'](),_0x3aa0ef=await this['repository']['auth'][_0x305425(0x2ea)]({'apikey':_0x3bb474},_0x4b7780['instanceName']);if(_0x3aa0ef[_0x305425(0x43c)])throw this[_0x305425(0x5e8)]['error']({'localError':c[_0x305425(0x382)]+'.jwt','error':_0x3aa0ef[_0x305425(0x43c)]}),new m('Authentication\x20error',_0x3aa0ef['error']?.['toString']());return{'apikey':_0x3bb474};}async[a0_0x33b913(0x30a)](_0x430e1f){const _0x2c67a5=a0_0x33b913;let _0x323b66=this['configService'][_0x2c67a5(0x1f0)](_0x2c67a5(0x28a));return await this[_0x323b66[_0x2c67a5(0x565)]](_0x430e1f);}},Kt=class{constructor(_0x1b87d7){this['waMonitor']=_0x1b87d7;}async[a0_0x33b913(0x29a)](_0x2e03c9,_0x420b84){const _0x381dd1=a0_0x33b913;return await this[_0x381dd1(0x855)]['waInstances'][_0x2e03c9['instanceName']][_0x381dd1(0x29a)](_0x420b84);}async[a0_0x33b913(0x849)](_0x2e2df4,_0x5446db){const _0x288d7a=a0_0x33b913;return await this[_0x288d7a(0x855)][_0x288d7a(0x52b)][_0x2e2df4[_0x288d7a(0x6c1)]][_0x288d7a(0x849)](_0x5446db);}async[a0_0x33b913(0x370)](_0x572935,_0x49fcee){const _0x1b1983=a0_0x33b913;return await this[_0x1b1983(0x855)]['waInstances'][_0x572935[_0x1b1983(0x6c1)]][_0x1b1983(0x370)](_0x49fcee);}async[a0_0x33b913(0x37c)](_0x3af33a,_0x3b82c7){const _0x5be64a=a0_0x33b913;return await this['waMonitor'][_0x5be64a(0x52b)][_0x3af33a[_0x5be64a(0x6c1)]][_0x5be64a(0x37c)](_0x3b82c7);}async[a0_0x33b913(0x33d)](_0x28b578,_0x5b3deb){const _0x2f956d=a0_0x33b913;return await this[_0x2f956d(0x855)]['waInstances'][_0x28b578[_0x2f956d(0x6c1)]]['groupBetterSetting'](_0x5b3deb);}async[a0_0x33b913(0x84f)](_0x429003,_0x46a459){const _0x46079d=a0_0x33b913;return await this[_0x46079d(0x855)][_0x46079d(0x52b)][_0x429003[_0x46079d(0x6c1)]]['groupSetting'](_0x46a459);}async[a0_0x33b913(0x866)](_0x16d602,_0x15d1be){const _0x410ee1=a0_0x33b913;return await this[_0x410ee1(0x855)][_0x410ee1(0x52b)][_0x16d602['instanceName']][_0x410ee1(0x280)](_0x15d1be);}async[a0_0x33b913(0x1da)](_0x27aefa){const _0x434bf2=a0_0x33b913;return await this[_0x434bf2(0x855)][_0x434bf2(0x52b)][_0x27aefa[_0x434bf2(0x6c1)]][_0x434bf2(0x1da)]();}async['inviteCode'](_0x33b4ce,_0x54bac1){const _0x44ae12=a0_0x33b913;return await this[_0x44ae12(0x855)]['waInstances'][_0x33b4ce['instanceName']][_0x44ae12(0x2b6)](_0x54bac1);}async[a0_0x33b913(0x60f)](_0x1bb877,_0x5b4cf4){const _0x5ea6c0=a0_0x33b913;return await this[_0x5ea6c0(0x855)][_0x5ea6c0(0x52b)][_0x1bb877[_0x5ea6c0(0x6c1)]][_0x5ea6c0(0x60f)](_0x5b4cf4);}async[a0_0x33b913(0x7c6)](_0x3e426c,_0x161621){const _0x5aa49c=a0_0x33b913;return await this['waMonitor'][_0x5aa49c(0x52b)][_0x3e426c[_0x5aa49c(0x6c1)]]['groupGetInviteInfo'](_0x161621);}async[a0_0x33b913(0x210)](_0x117950,_0x4c7eee){const _0x4f6a22=a0_0x33b913;return await this[_0x4f6a22(0x855)]['waInstances'][_0x117950[_0x4f6a22(0x6c1)]][_0x4f6a22(0x210)](_0x4c7eee);}async[a0_0x33b913(0x834)](_0x292d7f,_0x4dd664){const _0x23843d=a0_0x33b913;return await this[_0x23843d(0x855)][_0x23843d(0x52b)][_0x292d7f['instanceName']][_0x23843d(0x834)](_0x4dd664);}async[a0_0x33b913(0x2b3)](_0x2c64a5,_0x5effc8){const _0x4f4af7=a0_0x33b913;return await this[_0x4f4af7(0x855)]['waInstances'][_0x2c64a5[_0x4f4af7(0x6c1)]][_0x4f4af7(0x57c)](_0x5effc8);}async[a0_0x33b913(0x1ec)](_0x5560f5,_0x21f378){const _0x58e9b6=a0_0x33b913;return await this['waMonitor'][_0x58e9b6(0x52b)][_0x5560f5[_0x58e9b6(0x6c1)]][_0x58e9b6(0x1ec)](_0x21f378);}async[a0_0x33b913(0x23b)](_0x571d52,_0x298cac){const _0x870040=a0_0x33b913;return await this['waMonitor'][_0x870040(0x52b)][_0x571d52[_0x870040(0x6c1)]][_0x870040(0x23b)](_0x298cac);}},Qt=class{constructor(_0x1af2eb){this['waMonitor']=_0x1af2eb;}['create'](_0x2408cd,_0x5ed1c8){const _0x2eb3ea=a0_0x33b913;return this[_0x2eb3ea(0x855)][_0x2eb3ea(0x52b)][_0x2408cd[_0x2eb3ea(0x6c1)]][_0x2eb3ea(0x5d7)](_0x5ed1c8);}async[a0_0x33b913(0x345)](_0x362598){const _0x1ed9e9=a0_0x33b913;try{return await this[_0x1ed9e9(0x855)]['waInstances'][_0x362598[_0x1ed9e9(0x6c1)]][_0x1ed9e9(0x2fc)]();}catch{return{'enabled':null,'url':''};}}},Rp=new $(a0_0x33b913(0x7ac)),Yt=class{constructor(_0x5c6f46){const _0x4b360c=a0_0x33b913;this[_0x4b360c(0x855)]=_0x5c6f46;}async[a0_0x33b913(0x2e9)](_0x4e6b63,_0x51a3e9){const _0xb80380=a0_0x33b913;return await this[_0xb80380(0x855)][_0xb80380(0x52b)][_0x4e6b63[_0xb80380(0x6c1)]][_0xb80380(0x2e9)](_0x51a3e9);}async['getScheduleMessage'](_0x1a257b){const _0x1b2b44=a0_0x33b913;return await this['waMonitor']['waInstances'][_0x1a257b[_0x1b2b44(0x6c1)]][_0x1b2b44(0x680)]();}async[a0_0x33b913(0x74b)](_0x2236d4){const _0x5f1c4c=a0_0x33b913;return await this['waMonitor'][_0x5f1c4c(0x52b)][_0x2236d4[_0x5f1c4c(0x6c1)]][_0x5f1c4c(0x74b)]();}async[a0_0x33b913(0x15c)](_0x4cfea8){const _0x5ea8d1=a0_0x33b913;return await this[_0x5ea8d1(0x855)]['waInstances'][_0x4cfea8['instanceName']][_0x5ea8d1(0x15c)]();}async[a0_0x33b913(0x39e)](_0x2dcb6c,_0x484c69){const _0x2e27ba=a0_0x33b913;return await this[_0x2e27ba(0x855)][_0x2e27ba(0x52b)][_0x2dcb6c[_0x2e27ba(0x6c1)]][_0x2e27ba(0x39e)](_0x484c69);}async[a0_0x33b913(0x74f)](_0x1344e6,_0x59fb12){const _0x522828=a0_0x33b913;return await this[_0x522828(0x855)]['waInstances'][_0x1344e6[_0x522828(0x6c1)]][_0x522828(0x74f)](_0x59fb12);}async[a0_0x33b913(0x318)](_0x4fcae9,_0x248418){const _0x316237=a0_0x33b913;return await this[_0x316237(0x855)][_0x316237(0x52b)][_0x4fcae9[_0x316237(0x6c1)]][_0x316237(0x318)](_0x248418);}async[a0_0x33b913(0x3a3)](_0x2ed03b,_0x5370a5){const _0xd3c2a8=a0_0x33b913;return await this['waMonitor'][_0xd3c2a8(0x52b)][_0x2ed03b[_0xd3c2a8(0x6c1)]][_0xd3c2a8(0x3a3)](_0x5370a5);}async[a0_0x33b913(0x250)](_0xca56f,_0x56dc32){const _0x36bee3=a0_0x33b913;return await this[_0x36bee3(0x855)][_0x36bee3(0x52b)][_0xca56f[_0x36bee3(0x6c1)]]['startFlow'](_0x56dc32);}async[a0_0x33b913(0x357)](_0x34426b,_0x22829e,_0x8d7238,_0x1d3d3f){const _0x3913ad=a0_0x33b913;return await this['waMonitor'][_0x3913ad(0x52b)][_0x34426b][_0x3913ad(0x357)](_0x22829e,_0x8d7238,_0x1d3d3f);}async[a0_0x33b913(0x49e)](_0x4e6488,_0x568b0e){const _0x336dd4=a0_0x33b913;return await this[_0x336dd4(0x855)][_0x336dd4(0x52b)][_0x4e6488[_0x336dd4(0x6c1)]][_0x336dd4(0x49e)](_0x568b0e);}async['fetchConversation'](_0xf7b21d,_0x4c5aad){const _0x34b6da=a0_0x33b913;return await this[_0x34b6da(0x855)]['waInstances'][_0xf7b21d['instanceName']][_0x34b6da(0x544)](_0x4c5aad);}async[a0_0x33b913(0x729)](_0x34b19b,_0x36f8d4){const _0x28889e=a0_0x33b913;return await this[_0x28889e(0x855)][_0x28889e(0x52b)][_0x34b19b['instanceName']][_0x28889e(0x729)](_0x36f8d4);}async[a0_0x33b913(0x65b)](_0x23c7c2,_0x3abf0a){const _0x234c75=a0_0x33b913;return await this['waMonitor'][_0x234c75(0x52b)][_0x23c7c2['instanceName']][_0x234c75(0x65b)](_0x3abf0a);}async[a0_0x33b913(0x49d)](_0x39c033,_0x1e53c5){const _0x2cdafe=a0_0x33b913;return await this[_0x2cdafe(0x855)][_0x2cdafe(0x52b)][_0x39c033[_0x2cdafe(0x6c1)]][_0x2cdafe(0x49d)](_0x1e53c5[_0x2cdafe(0x5f6)]);}async[a0_0x33b913(0x25b)](_0x24e41a,_0x65997d,_0x29121e){const _0xffd040=a0_0x33b913;return await this[_0xffd040(0x855)][_0xffd040(0x52b)][_0x24e41a[_0xffd040(0x6c1)]][_0xffd040(0x25b)](_0x65997d,_0x29121e);}async[a0_0x33b913(0x85c)](_0x42f5bb,_0xe56eb0,_0x2ebaa6){const _0xc10025=a0_0x33b913;return await this[_0xc10025(0x855)][_0xc10025(0x52b)][_0x42f5bb[_0xc10025(0x6c1)]][_0xc10025(0x85c)](_0xe56eb0,_0x2ebaa6);}async[a0_0x33b913(0x34d)](_0x224a62,_0x1b8010){const _0x43b2b3=a0_0x33b913;return await this[_0x43b2b3(0x855)][_0x43b2b3(0x52b)][_0x224a62[_0x43b2b3(0x6c1)]][_0x43b2b3(0x34d)](_0x1b8010);}async[a0_0x33b913(0x4ec)](_0x2e1cc5,_0x3e9b49){const _0xd38ef2=a0_0x33b913;return await this['waMonitor'][_0xd38ef2(0x52b)][_0x2e1cc5[_0xd38ef2(0x6c1)]][_0xd38ef2(0x4ec)](_0x3e9b49);}async[a0_0x33b913(0x768)](_0x1aaba6,_0x20fd93){const _0x29309a=a0_0x33b913;return await this['waMonitor'][_0x29309a(0x52b)][_0x1aaba6[_0x29309a(0x6c1)]][_0x29309a(0x768)](_0x20fd93);}async['editFlowCondition'](_0x2d6bc9,_0x5aefba){const _0x48f3c4=a0_0x33b913;return await this['waMonitor'][_0x48f3c4(0x52b)][_0x2d6bc9[_0x48f3c4(0x6c1)]][_0x48f3c4(0x48e)](_0x5aefba);}async[a0_0x33b913(0x730)](_0x1ec8d1,_0x52839c){const _0x5eea0b=a0_0x33b913;return await this['waMonitor']['waInstances'][_0x1ec8d1[_0x5eea0b(0x6c1)]]['editFlowVaredit'](_0x52839c);}async[a0_0x33b913(0x7ce)](_0x389f59,_0x468db4){const _0x58f3ac=a0_0x33b913;return await this['waMonitor']['waInstances'][_0x389f59[_0x58f3ac(0x6c1)]]['editFlowVariable'](_0x468db4);}async['deleteFlow'](_0x32c5cf,_0x38dcac){const _0x425cfe=a0_0x33b913;return await this['waMonitor'][_0x425cfe(0x52b)][_0x32c5cf[_0x425cfe(0x6c1)]][_0x425cfe(0x32b)](_0x38dcac);}async[a0_0x33b913(0x474)](_0x3f5bd2){const _0x1edbd2=a0_0x33b913;return await this[_0x1edbd2(0x855)]['waInstances'][_0x3f5bd2['instanceName']][_0x1edbd2(0x474)]();}},Xt=class{constructor(_0x570907){const _0x3ff178=a0_0x33b913;this[_0x3ff178(0x13b)]=_0x570907;}async[a0_0x33b913(0x312)](_0x326492,_0x39e4b6){const _0x15adb9=a0_0x33b913;return this[_0x15adb9(0x13b)]['create'](_0x326492,_0x39e4b6);}async['findWebhook'](_0x1ee620){const _0x45487a=a0_0x33b913;return this[_0x45487a(0x13b)][_0x45487a(0x345)](_0x1ee620);}},Zt=class extends I{constructor(_0x1b69e5,_0x11dcdb){const _0x2b9196=a0_0x33b913;super(_0x11dcdb),this[_0x2b9196(0x4b0)]=_0x1b69e5,this[_0x2b9196(0x5d4)]=_0x11dcdb;}async['create'](_0x13957c,_0x10ccda){const _0x2dfd07=a0_0x33b913;try{return this[_0x2dfd07(0x5b3)][_0x2dfd07(0x4cf)]?{'insertCount':(await this[_0x2dfd07(0x4b0)][_0x2dfd07(0x13a)]({'_id':_0x10ccda},{..._0x13957c},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x161cf5){return _0x161cf5;}}async[a0_0x33b913(0x76a)](_0x107d5d){const _0x2394ab=a0_0x33b913;try{if(this[_0x2394ab(0x5b3)][_0x2394ab(0x4cf)]){await this['webhookModel'][_0x2394ab(0x78c)]({'_id':_0x107d5d});return;}}catch(_0x1c738d){return{'error':_0x1c738d};}}async[a0_0x33b913(0x345)](_0x18f63b){const _0x379d72=a0_0x33b913;try{if(this[_0x379d72(0x5b3)]['ENABLED'])return await this[_0x379d72(0x4b0)][_0x379d72(0x366)]({'_id':_0x18f63b});}catch{return{};}}},es=class extends I{constructor(_0xf7ddab,_0xb38037){const _0x794db2=a0_0x33b913;super(_0xb38037),this[_0x794db2(0x787)]=_0xf7ddab,this[_0x794db2(0x5d4)]=_0xb38037,this['auth']=_0xb38037[_0x794db2(0x1f0)](_0x794db2(0x28a));}async['create'](_0x4d8eb7,_0x39ce1c){const _0x2c0631=a0_0x33b913;try{if(this[_0x2c0631(0x5b3)][_0x2c0631(0x4cf)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x39ce1c},{'$set':{..._0x4d8eb7}},{'upsert':!0x0}))[_0x2c0631(0x42c)]};}catch(_0xc8bfa5){return{'error':_0xc8bfa5};}}async[a0_0x33b913(0x208)](_0x404d36,_0x156eb7){const _0x2a1e3d=a0_0x33b913;try{if(this[_0x2a1e3d(0x5b3)][_0x2a1e3d(0x4cf)])return{'insertCount':(await this[_0x2a1e3d(0x787)][_0x2a1e3d(0x3d9)](_0x404d36,{'$set':_0x156eb7},{'upsert':!0x1}))[_0x2a1e3d(0x42c)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x16003e){return{'error':_0x16003e};}}async[a0_0x33b913(0x238)](_0x248859){const _0x41f783=a0_0x33b913;try{if(this[_0x41f783(0x5b3)]['ENABLED'])return{'insertCount':(await this['authModel']['deleteMany'](_0x248859))[_0x41f783(0x64a)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x286156){return{'error':_0x286156};}}async[a0_0x33b913(0x76a)](_0x5b395a){const _0x54a5cb=a0_0x33b913;try{if(this['dbSettings'][_0x54a5cb(0x4cf)]){await this[_0x54a5cb(0x787)][_0x54a5cb(0x78c)]({'_id':_0x5b395a});return;}}catch(_0x5f4ea0){return{'error':_0x5f4ea0};}}async[a0_0x33b913(0x345)](_0xd77396){const _0x11b28b=a0_0x33b913;try{if(this[_0x11b28b(0x5b3)][_0x11b28b(0x4cf)])return await this['authModel'][_0x11b28b(0x366)]({'_id':_0xd77396});}catch{return{};}}async['findAll'](){const _0x4dc7a8=a0_0x33b913;try{if(this[_0x4dc7a8(0x5b3)][_0x4dc7a8(0x4cf)])return await this['authModel']['find']();}catch{return[];}}},$i=require(a0_0x33b913(0x360)),ts=class extends I{async[a0_0x33b913(0x78c)](_0x5d8240){const _0x56267b=a0_0x33b913;try{let _0x39bda4=O(_0x5d8240[_0x56267b(0x7fb)]);return{'deletedCount':(await ue[_0x56267b(0x78c)](_0x39bda4))['deletedCount']};}catch(_0x33f209){return{'error':_0x33f209?.[_0x56267b(0x2fe)]()};}}async[a0_0x33b913(0x6f0)](_0xb6709a,_0x556196){const _0x11f2b0=a0_0x33b913;try{let _0x38fce4=await ue[_0x11f2b0(0x310)](_0xb6709a);return _0x38fce4?(Object[_0x11f2b0(0x794)](_0x38fce4,_0x556196),await _0x38fce4[_0x11f2b0(0x79a)]()):(console[_0x11f2b0(0x43c)](_0x11f2b0(0x4db),_0xb6709a),null);}catch(_0x229da6){return console[_0x11f2b0(0x43c)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x229da6),null;}}async['createAndSave'](_0x4fdcc7){const _0x1086eb=a0_0x33b913;try{return await new ue(_0x4fdcc7)[_0x1086eb(0x79a)]();}catch(_0x114334){return console[_0x1086eb(0x43c)](_0x1086eb(0x7b3),_0x114334),null;}}async[a0_0x33b913(0x5c1)](_0x5a2456){const _0x29751d=a0_0x33b913;try{let _0x512fc0=_0x5a2456[_0x29751d(0x7fb)]??{};return await ue['find'](_0x512fc0)['limit'](_0x5a2456[_0x29751d(0x3c5)]??0x0)[_0x29751d(0x538)]();}catch(_0xb7137e){return console[_0x29751d(0x43c)]('Erro\x20ao\x20buscar\x20fluxos:',_0xb7137e),[];}}async[a0_0x33b913(0x366)](_0x53a788){const _0x5c5ee5=a0_0x33b913;try{let _0x2d1654=O(_0x53a788[_0x5c5ee5(0x7fb)]);return await ue['findOne'](_0x2d1654)['lean']();}catch{return null;}}async[a0_0x33b913(0x520)](_0xa044d2){const _0x105fd5=a0_0x33b913;try{let _0x260a95=Ss(_0xa044d2);if(!_0x260a95){let _0x369d48=_0x105fd5(0x297)+_0xa044d2;return console[_0x105fd5(0x43c)](_0x369d48),{'success':!0x1,'error':new Error(_0x369d48)};}return await _0x260a95[_0x105fd5(0x43b)][_0x105fd5(0x377)](),{'success':!0x0};}catch(_0x3cd364){return console['error'](_0x3cd364),{'success':!0x1,'error':_0x3cd364 instanceof Error?_0x3cd364:new Error(String(_0x3cd364))};}}async['migrateFlowsToCentralizedCollection'](_0x324839){const _0x26ab3e=a0_0x33b913;try{let _0x54caab=Ss(_0x324839);if(!_0x54caab)return console[_0x26ab3e(0x43c)](_0x26ab3e(0x297)+_0x324839),0x0;let _0x27f604=await _0x54caab[_0x26ab3e(0x345)]({})[_0x26ab3e(0x538)]();if(console[_0x26ab3e(0x77d)](_0x26ab3e(0x73b)+_0x324839+_0x26ab3e(0x406)+_0x27f604['length']),!_0x27f604||_0x27f604['length']===0x0)return console[_0x26ab3e(0x77d)](_0x26ab3e(0x70d)+_0x324839),0x0;let _0x235be4=_0x27f604[_0x26ab3e(0x6f7)](_0x53e42d=>{const _0x155d05=_0x26ab3e;let {global:_0x30b5d3,startID:_0x260ad5,sharePass:_0x3c19cd,shareOwners:_0x4773bc,minutesToClose:_0x124ac7,readMessages:_0x134ae3,testingWith:_0x2fd3c0,startCommandWord:_0x308536,default:_0x525dfb,..._0x2a891a}=_0x53e42d,_0x54c0e7=Array[_0x155d05(0x496)](new Set([..._0x4773bc,_0x324839])),_0x1a3791=Array[_0x155d05(0x496)](new Set([..._0x4773bc,_0x324839]));return{..._0x2a891a,'_id':(0x0,$i['v4'])(),'owner':_0x324839,'globalShow':_0x53e42d[_0x155d05(0x2c0)]===_0x155d05(0x274),'whoCanEdit':_0x54c0e7,'whoCanUse':_0x1a3791};});return await ue[_0x26ab3e(0x1cb)](_0x235be4),await _0x54caab[_0x26ab3e(0x43b)][_0x26ab3e(0x377)](),console[_0x26ab3e(0x77d)](_0x26ab3e(0x2be)+_0x324839+_0x26ab3e(0x1d8)),_0x235be4[_0x26ab3e(0x4ee)];}catch(_0x590dc5){return console['error'](_0x26ab3e(0x696)+_0x324839+'\x27:',_0x590dc5),0x0;}}async['migrateAllOwnersFlowsToCentralizedCollection'](_0x243762){const _0x1c6384=a0_0x33b913;let _0x5ea382=0x0;for(let _0x498f7a of _0x243762){let _0x3e4cae=await this[_0x1c6384(0x7cd)](_0x498f7a);_0x5ea382+=_0x3e4cae;}return console[_0x1c6384(0x77d)](_0x1c6384(0x35c)+_0x5ea382),_0x5ea382;}},ss=class extends I{[a0_0x33b913(0x58a)](_0x50543d){return ha(_0x50543d);}async[a0_0x33b913(0x814)](_0x550227){const _0x2302c4=a0_0x33b913;if(_0x550227[_0x2302c4(0x4ee)]!==0x0)try{return{'insertCount':(await this[_0x2302c4(0x58a)](_0x550227[0x0][_0x2302c4(0x389)])['insertMany']([..._0x550227]))[_0x2302c4(0x4ee)]};}catch(_0x46b61b){return _0x46b61b;}}async[a0_0x33b913(0x76a)](_0x23319,_0x371239){const _0x3f4e03=a0_0x33b913;try{let _0x240d4f=this[_0x3f4e03(0x58a)](_0x371239),_0x14a293=O(_0x23319['where']);return{'deletedCount':(await _0x240d4f[_0x3f4e03(0x238)](_0x14a293))['deletedCount']};}catch(_0x25ccca){return{'error':_0x25ccca?.[_0x3f4e03(0x2fe)]()};}}async[a0_0x33b913(0x78c)](_0x1899bf,_0x4c3546){const _0x57af8b=a0_0x33b913;try{let _0x43ea7e=this['getConversationModelForOwner'](_0x4c3546),_0x146186=O(_0x1899bf['where']);return{'deletedCount':(await _0x43ea7e[_0x57af8b(0x78c)](_0x146186))[_0x57af8b(0x64a)]};}catch(_0x4df3c6){return{'error':_0x4df3c6?.[_0x57af8b(0x2fe)]()};}}async[a0_0x33b913(0x784)](_0x24ebc1,_0x44e857){const _0x3941f4=a0_0x33b913;try{if(_0x24ebc1[_0x3941f4(0x4ee)]===0x0)return;let _0x4576dd=this[_0x3941f4(0x58a)](_0x44e857),_0x588d84=_0x24ebc1['map'](_0x5784b7=>({'updateOne':{'filter':{'name':_0x5784b7[_0x3941f4(0x382)],'owner':_0x44e857},'update':{..._0x5784b7}}})),{modifiedCount:_0x1816dc}=await _0x4576dd[_0x3941f4(0x6a5)](_0x588d84);return{'insertCount':_0x1816dc};}catch{return;}}async[a0_0x33b913(0x3d9)](_0x598886,_0x4f581b,_0x1943e5){const _0xbf617b=a0_0x33b913;try{return{'modifiedCount':(await this[_0xbf617b(0x58a)](_0x1943e5)[_0xbf617b(0x3d9)](_0x598886,{'$set':_0x4f581b})[_0xbf617b(0x638)]())[_0xbf617b(0x42c)]};}catch(_0x3f8e85){return console['error'](_0xbf617b(0x6d1),_0x3f8e85),{'error':_0x3f8e85};}}async[a0_0x33b913(0x6f0)](_0x168c5b,_0xd662f1,_0x3e0c01){const _0x45fa28=a0_0x33b913;try{return await this[_0x45fa28(0x58a)](_0x3e0c01)[_0x45fa28(0x285)]({'_id':_0x168c5b},{'$set':_0xd662f1},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x319f48){return console[_0x45fa28(0x43c)](_0x319f48),null;}}async[a0_0x33b913(0x345)](_0x445afd,_0x4dc947){const _0xf4590c=a0_0x33b913;try{return await this[_0xf4590c(0x58a)](_0x4dc947)[_0xf4590c(0x345)](_0x445afd)[_0xf4590c(0x81b)]({'lastInteraction':-0x1})[_0xf4590c(0x538)]();}catch{return[];}}async[a0_0x33b913(0x366)](_0x99e6,_0x371372){const _0x1c195b=a0_0x33b913;try{return await this['getConversationModelForOwner'](_0x371372)['findOne']({..._0x99e6[_0x1c195b(0x7fb)]})[_0x1c195b(0x538)]();}catch{return null;}}async['deleteAll'](_0x33ae7b){const _0x56b573=a0_0x33b913;try{return await this[_0x56b573(0x58a)](_0x33ae7b)[_0x56b573(0x43b)][_0x56b573(0x377)](),{'success':!0x0};}catch(_0xfbe6b1){return console[_0x56b573(0x43c)](_0xfbe6b1),{'success':!0x1,'error':_0xfbe6b1};}}},as=class extends I{[a0_0x33b913(0x25f)](_0x48652b){return ga(_0x48652b);}async['createAndSave'](_0x153e09,_0x73da4e){const _0x14756c=a0_0x33b913;try{let _0x421417=this[_0x14756c(0x25f)](_0x73da4e);return await new _0x421417(_0x153e09)['save']();}catch(_0x42c80a){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x42c80a),null;}}async[a0_0x33b913(0x78c)](_0x578054,_0x146f91){const _0x1409d5=a0_0x33b913;try{return await this[_0x1409d5(0x25f)](_0x146f91)[_0x1409d5(0x640)](_0x578054),{};}catch(_0x349c9e){return{'error':_0x349c9e?.[_0x1409d5(0x2fe)]()};}}async[a0_0x33b913(0x6f0)](_0xc2092d,_0x298c96,_0x195592){const _0xa71d55=a0_0x33b913;try{return await this[_0xa71d55(0x25f)](_0x195592)[_0xa71d55(0x285)](_0xc2092d,{'$set':_0x298c96},{'new':!0x0})[_0xa71d55(0x538)]();}catch(_0x5b8261){return console['error'](_0xa71d55(0x1a3),_0x5b8261),null;}}async[a0_0x33b913(0x30d)](_0x25a01b,_0x370b46,_0x32f5d2){const _0x2187e5=a0_0x33b913;try{return await this[_0x2187e5(0x25f)](_0x32f5d2)[_0x2187e5(0x704)](_0x25a01b,_0x370b46,{'new':!0x0})[_0x2187e5(0x538)]();}catch(_0xa65951){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0xa65951),null;}}async[a0_0x33b913(0x345)](_0x3d9d6d,_0x5d423f){const _0x285a01=a0_0x33b913;try{return await this[_0x285a01(0x25f)](_0x5d423f)['find'](_0x3d9d6d[_0x285a01(0x7fb)])[_0x285a01(0x3c5)](_0x3d9d6d?.[_0x285a01(0x3c5)]??0x0)['sort']({'when':0x1})[_0x285a01(0x538)]();}catch{return[];}}async['findOne'](_0x20f668,_0x547250){const _0x2c5534=a0_0x33b913;try{return await this[_0x2c5534(0x25f)](_0x547250)[_0x2c5534(0x366)](_0x20f668[_0x2c5534(0x7fb)])[_0x2c5534(0x81b)]({'when':0x1})[_0x2c5534(0x538)]();}catch{return null;}}async['findById'](_0x25ebb5,_0x4ede8d){const _0x473920=a0_0x33b913;try{return await this[_0x473920(0x25f)](_0x4ede8d)[_0x473920(0x310)](_0x25ebb5)[_0x473920(0x538)]();}catch{return null;}}async[a0_0x33b913(0x238)](_0x49f4da,_0x5c4947){const _0xec2bcf=a0_0x33b913;try{return{'deletedCount':(await this[_0xec2bcf(0x25f)](_0x5c4947)['deleteMany'](_0x49f4da))[_0xec2bcf(0x64a)]};}catch(_0x5ee57b){return console['error'](_0xec2bcf(0x17b),_0x5ee57b),{'error':_0x5ee57b};}}async[a0_0x33b913(0x520)](_0x2984b6){const _0x26ae29=a0_0x33b913;try{return await this[_0x26ae29(0x25f)](_0x2984b6)['collection'][_0x26ae29(0x377)](),{'success':!0x0};}catch(_0x2751a7){return console['error'](_0x2751a7),{'success':!0x1,'error':_0x2751a7};}}},is=class extends I{async[a0_0x33b913(0x784)](_0x10e951,_0x10ccf1){const _0x512dbf=a0_0x33b913;try{if(this[_0x512dbf(0x5b3)][_0x512dbf(0x4cf)]){let _0x197f45=await ve['findOneAndUpdate']({'_id':_0x10ccf1},{'$set':_0x10e951},{'new':!0x0});return console['log']('Resultado\x20da\x20atualizao:',_0x197f45),_0x197f45;}}catch(_0x16555d){throw console[_0x512dbf(0x43c)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x16555d),_0x16555d;}}async[a0_0x33b913(0x3bd)](_0xbabf09){const _0x3c1412=a0_0x33b913;try{let _0x1c0bf2=await ve[_0x3c1412(0x310)](_0xbabf09);return _0x1c0bf2?_0x1c0bf2[_0x3c1412(0x652)]||(_0x1c0bf2['autoCompleteMessages']=[],await _0x1c0bf2[_0x3c1412(0x79a)]()):(_0x1c0bf2=new ve({'_id':_0xbabf09,'autoCompleteMessages':[]}),await _0x1c0bf2[_0x3c1412(0x79a)]()),_0x1c0bf2;}catch(_0x502ece){return _0x502ece[_0x3c1412(0x631)]===0x2af8&&_0x502ece[_0x3c1412(0x4de)]&&_0x502ece[_0x3c1412(0x4de)]['autoCompleteMessages.command']?(console[_0x3c1412(0x43c)](_0x3c1412(0x542)),await ve[_0x3c1412(0x43b)][_0x3c1412(0x807)](_0x3c1412(0x154)),null):(console[_0x3c1412(0x43c)](_0x3c1412(0x1ba),_0x502ece),null);}}},Oo=new $('WA\x20MODULE'),Io=new Be(S),_o=new Jt(S),Do=new st(S),Po=new qt(ta,S),ko=new Zt(ca,S),jo=new es(oa,S),Fo=new ts(S),Lo=new Vt(S),Uo=new ss(S),Jo=new as(S),qo=new is(S),de=new Ve(Io,_o,Do,Po,ko,jo,Fo,Uo,Lo,Jo,qo,R?.[a0_0x33b913(0x268)]()),G=new Ut(us,S,de),Vo=new Ht(S,G,de),Go=new Qt(G),vs=new Xt(Go),A=new Yt(G),re=new Wt(G,S,de,us,Vo),B=new zt(G),D=new Gt(G),q=new Kt(G);Oo[a0_0x33b913(0x4f3)](a0_0x33b913(0x209));var Vh=require(a0_0x33b913(0x45b)),js=require('fs'),Ri=T(require(a0_0x33b913(0x386))),Ai=T(require(a0_0x33b913(0x735))),De=class c{static #e;static set['app'](_0x5d65c6){this.#e=_0x5d65c6;}static get[a0_0x33b913(0x386)](){const _0x2f1e2b=a0_0x33b913;let {FULLCHAIN:_0x3b7867,PRIVKEY:_0x363786}=S[_0x2f1e2b(0x1f0)](_0x2f1e2b(0x793));return Ri[_0x2f1e2b(0x1d0)]({'cert':(0x0,js['readFileSync'])(_0x3b7867),'key':(0x0,js[_0x2f1e2b(0x66a)])(_0x363786)},c.#e);}static get['http'](){const _0x3450e4=a0_0x33b913;return Ai[_0x3450e4(0x1d0)](c.#e);}},ge=T(require('fs')),Di=T(require('ini')),Pe=T(require('axios')),je=T(require(a0_0x33b913(0x2e5))),me=require('child_process');function Bo(){const _0x326a78=a0_0x33b913;G[_0x326a78(0x2f7)]();let _0xad9aae=je[_0x326a78(0x876)][_0x326a78(0x7f8)](__dirname,_0x326a78(0x5ff));_i(_0xad9aae);}var _i=_0x3345d7=>{const _0x2ad07c=a0_0x33b913;let _0x13f20f=ge['default'][_0x2ad07c(0x633)](_0x3345d7),_0x1ddf91=0xc*0x3c*0x3c*0x3e8,_0x3a8827=0x2*0x3c*0x3c*0x3e8,_0xe21153=new Date()[_0x2ad07c(0x179)]();_0x13f20f[_0x2ad07c(0x211)](_0x34d2cd=>{const _0x2b5fdd=_0x2ad07c;let _0x3bfed7=je[_0x2b5fdd(0x876)][_0x2b5fdd(0x7f8)](_0x3345d7,_0x34d2cd),_0x4f9a34=ge[_0x2b5fdd(0x876)]['statSync'](_0x3bfed7)[_0x2b5fdd(0x3ba)]['getTime']();_0xe21153-_0x4f9a34>_0x1ddf91&&(ge[_0x2b5fdd(0x876)][_0x2b5fdd(0x83d)](_0x3bfed7),console[_0x2b5fdd(0x77d)](_0x2b5fdd(0x6dd)+_0x34d2cd));}),setTimeout(()=>_i(_0x3345d7),_0x3a8827);};function a0_0x154b(){const _0x2bb818=['text','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Removendo\x20package-lock.json\x20e\x20a\x20dependncia\x20especfica...','groupJoinApprovalMode','\x27\x20do\x20banco\x20de\x20dados...','process','base64','label','\x0a*Voc\x20respondeu*:\x0a','editConversation','Chat\x20com\x20ID\x20','warn','):\x20Visualizando\x20AutomateSystem','pollMessageOnDelete','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','):\x20teve\x20mudanas\x20chat.muteEndTime:\x20','editFlowVaredit','storePath','SSL_CONF_FULLCHAIN','uncaughtException','request\x20received\x20in\x20updateAutoCompleteMessages','http','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','all','parse','Fluxos\x20encontrados\x20de\x20\x27','customFields','editflowgroup','audio/ogg;\x20codecs=opus','groups.upsert','fetchProfilePicture','cacheContactModel','chats.delete','updateChatWithMessage','store','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','DELIVERY_ACK','delayMessage','width','editflow','):\x20Error\x20processing\x20the\x20block:\x20','deleteDoneMessages','removeData','updateMissingEtiquetas','Read\x20messages','updateCustomFields','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','protocol','fetchChats','groupadd','getProfileName','leadInfo.','sendContact','presence','^\x5cd+','messagesSend','error_log','urlencoded','\x20segundos','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','chatModify','\x20atualizado\x20com\x20sucesso.\x20Ao:\x20','no-cache','):Image\x20created','sendDataWebhook','optionName','timeout','firstValue','stateConnection','instanceKeys','editFlowGroup','cacheContact','delete','sha256','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','fetchPrivacySettings','split','fileUrl','Error\x20fetching\x20and\x20updating\x20profile:\x20','content-type','detail','updateReadReceiptsPrivacy','inner','variable','\x27\x20no\x20encontrado','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','normalizeMessage','updateStatusPrivacy','ButtonsMessage','findFlow','Connection\x20closed\x20for\x20instance:\x20','log','\x20-y','ERROR','!stop','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20-\x20retornado:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','update','normalizeMessageContent','redis','authModel','some','Flow\x20iniciado\x20com\x20','replyOptions','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','deleteOne','joinGroupValidate','action','Request\x20Body:','unknown\x20operation\x20type\x20[','status@broadcast','):Image\x20path:\x20','SSL_CONF','assign','#9568cf','AddChatLabel','put','includes','reorderReplyOptions','save','formatVCard','HH:mm:ss','Bloco\x20com\x20ID\x20','displayName','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','1840540IbXcTj','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','StartBot','addBlock','FULLCHAIN','tags','Not\x20Found','delayChatLabel_RETRY_DELAY_MS','The\x20\x22','documentMessage','statusJidList','secondValue','FlowController','loadEnv','editflowvaredit','AUTHENTICATION_JWT_SECRET','redisEnv','notEqual','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Erro\x20ao\x20alterar\x20privacidade','/config','load','#dfaef0','63dTYGWp','):\x20A\x20mensagem\x20\x20\x22stopConversation\x22\x20=\x20','CREDENTIALS','50mb','contactHandle','uazapiDeleteMessage','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','sendAudio','_Chats','parseInt','340376smxtQc','subject','\x1b[40m','groupGetInviteInfo','_error','https://api.elevenlabs.io/v1/text-to-speech/',',\x20qrcodeCount:\x20','cachedData-whatsapp','Erro\x20ao\x20remover\x20label\x20','22872wpRIJf','migrateFlowsToCentralizedCollection','editFlowVariable','writeFile','Flow\x20\x27','addReplyOption','Instance\x20\x22','admin','):\x20Bloco\x20com\x20ID\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','pollCreationMessageV2','importChatsBatch',',\x20Comparador:\x20','remoteJidsRemaining','not_announcement','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo','\x1b[34m','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','isJidUser','DATABASE_ENABLED','All_Instances_Config','msgRetryCounterCache','leadInfo.atendimentoAberto','truncatedto','/chat','processvaredits','.mimetype','):\x20alterando\x20this.AutomateSystem','TEL','2386573SdMXHQ','.ogv','app','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','deleteChat','toLocaleString','request\x20received\x20in\x20allFlows','Content-Type','audio','maxActives','importChats','CHATS_UPDATE','SERVER_TYPE','join','\x20no\x20encontrado','):\x20Query\x20params:\x20','where','Logger','#83e421','HOST','):\x20Fluxo\x20\x27','Instance\x20Name:','\x20Tentativa\x20de\x20reconexo\x20','6bNXgGc','app-state-sync-key','value','hGetAll','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','dropIndex','email','):Sending\x20audio\x20whatsapp','exit','DD/MM\x20HH:mm:ss','Cannot\x20','quotedMessage','\x1b[33m\x1b[1m','leadInfo.etiquetas','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','emit','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','insert','toLowerCase','node-cache','textMessage','notMatchRegex','readMessage','abs','sort','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','MESSAGES_SET','announce','certonly','blockLogs','LICENSE_INVALID','minutesToClose','reviver','videoMessage','PLAYED','restartInstance','lastCondition','cwd','AutomateFunctions','\x1b[37m','write','privacySettings','isJidGroup','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getOwnPropertyDescriptor','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','SUCCESS','\x22\x20-\x20NOT\x20CONNECTION','findParticipants','stopMinutes','isRunning','updateMediaMessage','getVariablesChat','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','method','uazapiSendLocation','Erro\x20ao\x20iniciar\x20o\x20fluxo.','unlinkSync','dbInstance','replaceVariablesLogs','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','\x27...','env.KEY\x20!==\x20key','send.message','updateLastSeenPrivacy','#01d0e2','sendLocation','qrcode.updated','readData','updateGroupPicture','imagechat','profileName','Erro\x20ao\x20encerrar\x20a\x20API','g.us','quoted','groupSetting','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','close','eventEmitter','groupRevokeInvite','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','waMonitor','Contacts\x20not\x20found','MESSAGES_UPSERT','loadWebhook','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:','imgUrl','delAll','editFlow','call','$pull','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','/clients-info','/message','announcement','/*.json',',\x20Resultado:\x20','\x5c$&','findGroupInfo','oldToken','noConnection','CONTACTS_UPSERT','applyvaredit','timeInMinutes','@s.whatsapp.net','Esse\x20fluxo\x20no\x20permite\x20importao.','/startFlow/:instance/:startID','\x20chats\x20de\x20','unhandledRejection','moreLogs','Fluxo\x20id\x20\x27','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','lastInteraction','ON\x20-\x20dbName:\x20','default','updateReplyOption','notify','readMessages','router','Erro\x20ao\x20editar\x20agentes','upperCase','has','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','removeOlderDisconnectedInstances','):\x20Buscando\x20flow,\x20id:\x20','replaceOne','webhookService','ListType','prepareMediaMessage','/wa-all-message','express','subjectTime','flows','authorization','Fluxos\x20no\x20esto\x20ativados','charAt','block','_sender','instance.',',\x20resultado:\x20','audio/ogg','messageContextInfo','155xXzkti','fileLength','.\x20Aguardando\x20antes\x20de\x20reconectar...','round','AUTHENTICATION_JWT_EXPIRIN_IN','participants','sticker','SINGLE_SELECT','events','autoCompleteMessages.command_1','@whiskeysockets/baileys','sections','EXPIRIN_IN','flush','extractMessageContent','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName','getAutomateSystem','_Messages','):\x20Entrou\x20na\x20funo\x20saveReply','realVariables','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','fromObject','https://ipinfo.io/json','isJidBroadcast','qrCode','listResponseMessage','promote','changeVariables','removeInstance','CONNECTION','choices','CHATS_DELETE','groups_ignore','saveVariable','unlocked','\x20com\x20sucesso.','processConditions','pollErrorMessage','listMessage','rowId','ORG:','locationMessage','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','whatsappNumber',',\x20Expiration\x20Time:\x20','getTime','number','Erro\x20ao\x20deletar\x20mensagens:','leadInfo.customFields','query','Erro\x20ao\x20importar\x20chats','response','uazapiSendAudio','Enter\x20a\x20value\x20in\x20milliseconds','state','chatId','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','LEVEL','nomecompleto','online','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','application/octet-stream','$set','backgroundColor','sim','.webp','ContactModel','BRL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','Falhou\x20ao\x20encontrar\x20chat\x20',',\x20lastCondition:\x20','chats','listType','instanceName\x20not\x20provided.','pow','updateGroupParticipantsWebhook','):\x20Buscando\x20conversa...','findManyByIds','dayjs','labelId','admin_add','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','leadInfo','userDevicesCache','DATABASE','contacts.upsert','currency','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):Type\x20defined\x20as\x20audio','options','fetchLatestBaileysVersion','Nmero:\x20','):\x20Iniciando\x20bot...','/instance/connectionState','.type','downloadMediaMessage','mongodb://','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','Reinicializao\x20iniciada:\x20','DB_PREFIX_NAME','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','sendPoll','Esse\x20fluxo\x20expirou','):\x20debug\x20alterando\x20this.AutomateSystem','statusMessage','beautifyWithPlaceholders','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','undefined','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','digest','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','padStart','\x1b[30m','messageHandle','):Processing\x20audio','cachedContact','pollUpdateMessage','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','fone','video','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Certbot:\x20','arrayUnique','splice','insertMany','isListOfNumbers','endSession','trim','#d3a91f','createServer','expiration','Mac\x20OS','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','release','Button\x20texts\x20cannot\x20be\x20repeated','\x1b[37m%s\x1b[0m','Erro\x20ao\x20arquivar\x20chat','\x27\x20para\x20a\x20coleo\x20centralizada.','API\x20Key\x20from\x20Request:','findGroups','del','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Conexo\x20estabelecida','stopped','createInstance','startID','getHours','findLabels','NextBlock','hex','Selecione','buttonText','\x20->\x20CONFIRMADO.','entries','pollCreationMessageKey','_FlowHistorico','toggleEphemeral','replaceVariablesInObject','sendWhatsAppAudio','creation','get','groupLeave','ids','ListMessage','replaceVariables','PREFIX_KEY','canSendMessage','SECRET','CONTACTS_SET','CONTACTS_UPDATE','):\x20lastBlockId:\x20','MessageModel','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','synchronizeAndMapFlows','messages.update','evaluateConditionTest','contains','RECONNECT_TIME_FRAME','\x20minutos','isURL','role','protocolMessage','Internal\x20Server\x20Error','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','updateAll','Module\x20-\x20ON','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','formatBRNumber','#6f7bcf','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20conversation.waitingMenu_name','revokeInviteCode','forEach','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22groupJid=120362@g.us\x22','getRandomText','Erro\x20inesperado\x20em\x20processvaredits:\x20','sendMessageAck','loggedOut','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','Types','request\x20received\x20in\x20deleteFlow','.gif','routerPath','envProcess','messages','upsertChats','globalShow','chats.update','connectionUpdate','flow','SERVER_ACK',',\x20saindo.','The\x20property\x20cannot\x20be\x20empty','notas','replaceValue','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','vote','createSectionsFromValues','connectionClosed','Para\x20marcar\x20esse\x20fluxo\x20como\x20visvel\x20globalmente,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20Global.','Group\x20not\x20found','fetchLabels','URL:','\x20tentativas.','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','keep-alive','Parando\x20aplicao...','request\x20received\x20in\x20updateAgent','toUpperCase','repeat','deleteMany','notContains','\x5cd+','leaveGroup','reject','editflowvariable','mediaSticker','getContactModelForOwner','REDIS_URI','/events/:instance','conditions','views','sendList','address','creds','hasOwnProperty','\x20removido\x20do\x20chat\x20','/instance/delete','isAdmin','chat','):\x20newFirstValue\x20aps\x20replaceVariables:','object','password','Erro\x20ao\x20copiar\x20o\x20documento','startFlow','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:\x20','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','KEY','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','retrySendMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','pop','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','createFlow','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo','http://ifconfig.me/ip','cleaningUp','getScheduleMessageModelForOwner','#fed428','scheduleMessage','Limpando\x20logs\x20do\x20PM2...','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','messageId','ignoreGroups','2729214nmlFHB','\x20saindo\x20da\x20funo','getClient','closeExistingConversations','/exit','onWhatsApp','Erro\x20do\x20Certbot:\x20','matchRegex','chatHandle','sendButtons','sectionsToString','#f64847','locked','group','true','findConversation','):\x20[messages.upsert]\x20group\x20ignored','contact','paused','flowPrefixCommand','stickerMessage','Varivel\x20no\x20encontrada!','wuid','urlOrBase64','sem\x20texto\x20na\x20mensagem','label_jid','findGroup','):\x20Entrou\x20na\x20funo\x20stop','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','env.yml','\x1b[47m','findOneAndUpdate','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','stopWhenYouSendMsg','):\x20Fluxos\x20no\x20esto\x20ativados','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','AUTHENTICATION','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','):\x20newSecondValue\x20aps\x20replaceVariables:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','.txt','stderr','markMessageAsRead','METHODS','headers','scheduled','Erro\x20ao\x20editar\x20a\x20conversa','Erro\x20de\x20atualizao:\x20','sendMessage','Modelo\x20de\x20proprietrio\x20no\x20pde\x20ser\x20criado\x20para:\x20','messages.upsert','newValue','createGroup','data:\x20','):Audio\x20processed','delay','desc','authService','messaging-history.set','STATUS_INSTANCE','ScheduleMessage','):\x20Label\x20','expression','joinApprovalMode','#b4ebff','getOwnPropertyNames','scheduleSendAudio','segundos','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20updateResult:','Last\x20message\x20not\x20found','Parando\x20aplicao,\x20atualizao\x20recebida','\x20minutos.\x20Ser\x20s\x20','Erro\x20ao\x20atualizar\x20conversa:\x20','mkdirSync','isLong','#000000','updateGParticipate','The\x20global\x20api\x20key\x20must\x20be\x20set','\x1b[32m','inviteCode','):\x20\x27Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x27,\x20','static','?timestamp=','updateBlock','/wa-message','Subscribed\x20Events:','processblock','Fluxos\x20transferidos\x20do\x20proprietrio\x20\x27','text/event-stream','global','\x20no\x20encontrado\x20para\x20atualizao.','):\x20\x27Deletando\x20fluxo,\x20id:\x20','sendMessageWithTyping','checkAndRestartProcess','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','lastSendMessage','Falta\x20informao\x20para\x20a\x20chamada\x20API','.fileUrl','debug','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','.webm','groupHandler','endsWith','key','findIndex','uazapiSendContact','generate','Erro\x20ao\x20tentar\x20autoCompleteMessages','contact_blacklist','selectedOptions','Error\x20in\x20scheduleNextCheck:\x20','subjectOwner','GROUPS_UPSERT','connect','archived','REDIS_PREFIX_KEY','\x1b[43m','processgoToFlow','HttpsProxyAgent','):\x20[messages.update]\x20group\x20ignored','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','preview','Bad\x20Request','folder','DisconnectReason','path','not\x20loaded','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','toBrazilianNumberFormat','editScheduleMessage','create','cachedContacts-whatsapp','instanceInfo','messages.set','connectionState','extractPhoneNumber','):\x20Usando\x20extenso\x20padro:\x20','initAuthCreds','getMessageModelForOwner','message_normalized','waitingMenu_text','format','poll','loadInstance','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','website','fetchInstances','):Audio\x20converted\x20and\x20stored\x20in\x20cache','findWebhook','connectToWhatsapp','toString','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','PRIVKEY','groupCreate','mongodb','\x20do\x20chat\x20','Connection','Removidas\x20as\x20variveis:\x20',':\x20Erro\x20durante\x20loadproxy\x20-\x20','contacts','DATABASE_CONNECTION_URI','8080','generateHash','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','updateOneById','everyOne','header','findById','Variveis\x20no\x20encontradas:','createWebhook','request\x20body:\x20','Forbidden','VERBOSE','):\x20Enviando\x20udio','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','updateAutoCompleteMessages','ERROR:\x20','105112qJIsQR','Error\x20fetching\x20group','sendCommand','MESSAGES_UPDATE','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','no.connection','/create','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','):Fetching\x20business\x20profile','):Converted\x20image\x20deleted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','Erro\x20ao\x20remover\x20instncias\x20antigas:','and','match','buffer','groupRequestParticipantsList','deleteFlow','INFO','pino','remove.instance','startCommandWord','13zpmiXe','namespace','Router','OrAnd','flattenObject','mentions','/webhook','awaitingApproval','):\x20Removendo\x20\x27','waitingMenu_id','):\x20conversation.status:\x20','pictureUrl','):Trying\x20to\x20get\x20business\x20profile','groupBetterSetting','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','utf-8','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','newStoppedUntil','makeCacheableSignalKeyStore','groups','convertaudioMP3','find','\x1b[46m','\x22reaction\x22\x20must\x20be\x20an\x20emoji','hSet','/wa-connection-update','--standalone','exports','groupParticipantsUpdate','editFlowBlock','params','substring','):\x20Procurando\x20conversa','copy','buttonId','_p_','replyOption','src','):\x20Procurando\x20mensagens\x20para\x20envio','startFlowWebhook','/instance/create','DARK','contextInfo','):\x20Bloco\x20original\x20para\x20cpia:\x20','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleo\x20centralizada:\x20','Telefone:\x20','/instance','success','uuid','deleteMessageForEveryone','rows','flowStopMinutes','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','findOne','verify','getChatModelForOwner','scheduleSendText','https://uazapi-plugin.bubbleapps.io/','post','Cache-Control','labels.association','AutomateSystem','menuMessage','groupDesc','allContacts','chats.upsert','DATABASE_CONNECTION_USER','):\x20delete\x20=\x20true','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','STORE_CLEANING_TERMINAL','drop','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','stopConversation','pm2\x20flush','updateOnlinePrivacy','groupName','setHeader','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','GUARD','_remoteJid','Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage','name','deleteReplyOption','):\x20Limpando\x20delayMessage','trimmed','https','title','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','owner','):\x20Conversa\x20inserida\x20com\x20sucesso.','!cmd_','cpf','setRestartTimeout','SERVER','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','variablesToObject','Instance\x20deleted','):\x20Query\x20params:','--agree-tos','auth','.url','blocks','\x1b[1m\x1b[37m','GROUPS_UPDATE','\x20minutos\x20verificar\x20novas\x20mensagens','stanzaId','lastReceivedMessage','):\x20Enviando\x20texto','remote\x20\x22origin\x22','updateAgent','chat\x20no\x20encontrado','):Archiving\x20chat','):\x20Editando\x20varivel\x20do\x20fluxo...','public','updateFlowConfig','none','listen','description','blockId','stdout','connectionStatus','updateConversation','https://chat.whatsapp.com/','isCommunityAnnounce','Instncia:\x20','toNumber','pairingCode','throwAndLogError','unreadcount','atendimentoAberto','groupToggleEphemeral','vcard','CONNECTION_UPDATE','reference','profilePictureUrl','groupSettingUpdate','flowActive','birthtime','Type\x20is\x20required','webhookMap','findOrCreate','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','lastDisconnect','/media',',\x20canSendMessage:\x20','buttons','):Business\x20profile\x20fetched','varedit','limit','ConversationModel','resetReconnectionVariables','isBase64','fromMe','):\x20Enviando\x20enquete','\x20mensagens\x20de\x20','authentication','SERVER_PORT','):\x20Buscando\x20conversas...','#ffc5c7','InstancesAlterarTodas','replace','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualizao\x20do\x20git\x20e\x20npm\x20install.','next_groupId','saveMediaToFile','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','ephemeralExpiration','?authSource=admin&readPreference=primary&directConnection=true','updateMany','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','WARN','fileName','apply','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','testingWith','array','scheduleNextCheck','automateSystem','licenca','):\x20Mensagem\x20j\x20enviada\x20para\x20','Fluxo\x20\x27','groupMemberAddMode','env','):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo','groupValidate','deleteImportedChat','URI','content','):\x20Criou\x20conversa\x20no\x20startFlow','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','selectableCount','console','dropCollection','*\x0a\x0a','interval\x20no\x20\x20um\x20nmero','getflow','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','restrict','):\x20Limpando\x20AutomateSystem','\x27\x20j\x20existem\x20na\x20coleo\x20centralizada.','mediaMessage','getBusinessProfile','editChat','startsWith','local_map','/wa-message-update','#ff9484','):Output\x20path:\x20','CORS_METHODS','video-cover.png','context','readreceipts','^\x5cd+([-]\x5cd+)*@g.us$','\x27\x20->\x20','isInteger','jsonwebtoken','):\x20nextBlock.uazapi.name','Tentando\x20reconectar...','sendStatus','fetchProfile','\x20minutos...','linkPreview','validate','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','size','CORS_CREDENTIALS','\x22,\x20valor\x20a\x20substituir:\x20\x22','nome','):\x20Erro\x20durante\x20a\x20atualizao:\x20','):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.','verifiedName','The\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','push','spawn','remoteJid','):\x20Conversa\x20est\x20expirada','editOperator','Erro\x20ao\x20buscar\x20a\x20conversa','}}\x20->\x20valor\x20no\x20encontrado','RemoveChatLabel','\x20contacts','DATABASE_CONNECTION_DB_PREFIX_NAME','CORS_ORIGIN',':\x20no\x20h\x20IP\x20salvo,\x20ou\x20est\x20invlido,\x20selecionando\x20um\x20IP\x20aleatrio.','formatStatusMessage','getMessage','createConversationforStartFlow','set','CHATS_SET','creds.json','modifiedCount','image','):\x20teve\x20mudanas\x20chat.archived:\x20','max','finish','useMultiFileAuthState','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','statusCode','\x20->\x20NO\x20CORRESPONDE.','/media/','writeData','Message\x20not\x20found','updateStopChat','$addToSet','prototype','collection','error','toBRL','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','jsonschema','longitude','condition','):\x20enviado\x20para\x20[','enabled','min','now','DATABASE_CONNECTION_PASSWORD','loadproxy','Rtulo\x20invlido\x20ou\x20sem\x20ID.','g-t','\x1b[42m','gifPlayback','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','CONECTADO\x20\x20UAZAPI','media','\x22\x20cannot\x20be\x20empty','isConnected','):\x20Conversa\x20est\x20expirada\x20-\x20voto','):\x20Bloco\x20copiado:\x20','color','dataValidate','\x1b[0m','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','):\x20Criando\x20fluxo\x20compartilhado...','_Flows','express-async-errors','):\x20Error\x20processing\x20conditions:\x20','Instance\x20ID:','enviado\x20para','URL','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','awaitSeconds','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','capitalizedWords','menuExpiredMessage','EMAIL:','getMinutes','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.','silent',',\x20valor\x20passado:\x20\x22','updatePresence','Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','):\x20conversation.lastInteraction:\x20','):\x20tem\x20blocks','WebhookGlobal','\x20horas\x20e\x20','getDelay','headerString','allFlows','audioMessage','jpegThumbnail','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Falha\x20ao\x20processar\x20fetchBusinessProfile','readFile','onTime','add','68140kPStRc','Database\x20connection\x20closed.','LOG_COLOR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/wa-qrcode','BufferJSON','contactMessage','updateChatGroupData','Error\x20removing\x20unused\x20chat\x20fields:','DaysToDelete',':\x20IP\x20configurado:\x20','restart','request\x20received\x20in\x20editFlow','waitingMenu_ExpiredMessage','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fullName','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x20:\x20','editFlowCondition','NO_IP','updateMissingTags','existsSync','findContacts','all_member_add','ip:\x20','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','from','upsertedCount','/automate','removed','groupInviteCode','sendReaction','mediaKey','getFlow','getConversation','Erro\x20ao\x20editar\x20o\x20bloco:\x20','badSession','class-validator','findAndUpdateCacheContact','evaluateCondition','mentioned','ContactsAndGroups','data','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','insertCount','GET','https://api.ipify.org?format=json','CORS','collections','):\x20Editando\x20replyOption...','clearVariables','stopMinutesMaxActives','webhookModel','SSL_CONF_PRIVKEY','lastMessage','Message','groupFetchAllParticipating','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','getLastMessage','AppStateSyncKeyData','slice','delayChatLabel','Atualizao:\x20','@broadcast','):\x20this.processing_id:\x20','phoneNumber','Nmero\x20no\x20possui\x20WhatsApp.','waitingMenu_replyOptions','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','flowName','exists','menuType','saveConversationToDatabase','integer','.\x20Pulando.','updateProfilePicture','delayChatLabel_MAX_RETRIES','optionDescription','bodyStringErrorParse','):\x20Entrou\x20na\x20funo\x20goToFlow','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','config','ENABLED','processawaitSeconds','updatePrivacySettings','authState','available','://','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','activatedCount','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','jwt','/instance/fetchInstances','saveCreds','Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:','originalUrl','getAllData','keyPattern','Schema','updateParticipant','webhook','https-proxy-agent','getBase64FromMediaMessage','Invalid\x20format','readMessageBot','pushName','Voc\x20no\x20tem\x20permisso\x20para\x20ver\x20o\x20fluxo\x20\x27','imported','The\x20instance\x20needs\x20to\x20be\x20disconnected','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','send','editFlowReply','bearer','length','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','sendPresenceUpdate','js-yaml','getMIMEType','info','deleteInstance','):\x20Flow\x20desativado','):\x20atualizao\x20chat:\x20','pt-BR','StatusJidList\x20is\x20required','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','getUpdate','variablesNotFound','CLEANING_INTERVAL','remove','PENDING','Erro\x20ao\x20buscar\x20Schedule\x20Messages','request\x20received\x20in\x20editFlowvariable','encoding','Button\x20IDs\x20cannot\x20be\x20repeated.','organization','test','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','createConnection','height','Authentication\x20error','Nenhum\x20participante\x20vlido\x20encontrado.','updateMissingCustomFields','Erro\x20de\x20reinicializao:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','STORE_MESSAGE','#56ccb4','webp','user','shutdown\x20-r\x20now','/wa-contacts','\x22\x20not\x20found','isCommunity','connecting','superadmin','latitude','-instances','sendMenu','@g.us','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Erro\x20ao\x20normalizar\x20a\x20mensagem:','request\x20received\x20in\x20createFlow','sleep','deleteAll','DOCKER_ENV','):\x20Entrou\x20na\x20funo\x20scheduleFlow','createJid','AUTHENTICATION_API_KEY','flushHeaders','http://ip-api.com/json','muteEndTime','http://icanhazip.com/','memberAddMode','localWebhook','waInstances','ms\x20(tentativa\x20','hDel','processApiRequest','<subdomain>','padEnd','\x20instance\x20does\x20not\x20exist',',\x20Segundo\x20Valor:\x20','):\x20Flow\x20\x27',']\x20(','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','desativadoFluxoAte','lean','json','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Fluxo\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.',':\x20IP\x20funcionando!','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','responsavelid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','contentText','sending','Erro\x20de\x20duplicidade\x20no\x20ndice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20ndice...','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','fetchConversation','):\x20Deletando\x20mensagem','start','body','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc','composing','equal','contactsArrayMessage','requestFile','mongoose','Certbot\x20executado\x20com\x20sucesso.','convertToWebP','processing_id','refused','audioWhatsapp','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','count','flowConversation','unreadCount','\x1b[1m','):Error\x20in\x20converting\x20audio','http://checkip.dyndns.org','request\x20received\x20in\x20deleteDoneMessages','archive','groups.update','processConditionsTest','out','setContext','indexOf','updateProfileName','../env.yml','values','profilePicture','TYPE','variables','sendMedia','StartID:','end','DEBUG','TEXT','):\x20Comando\x20desconhecido:\x20',',\x20isAdmin:\x20','Valor\x20inicial:\x20\x22','fetchMessages','processPollUpdateMessage','.jwt','\x20depois\x20','):Image\x20is\x20base64','shareOwners','https://','document','bateu\x20events','_activatedCount','createNewConversation','Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...','error\x20get\x20vote','updateGParticipant','Error\x20in\x20chatModify\x20for\x20number\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','updateProfilePicturePrivacy','https://api.openai.com/v1/audio/speech','CHATS_UPSERT','application/json','_Labels','closed','groupJid','SEND_MESSAGE','deleteMessage','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','messageTimestamp','getConversationModelForOwner','@redis/client','Erro\x20ao\x20tentar\x20updateCustomFields','groupdata','\x1b[32m%s\x1b[0m','ObjectId','stringify','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','Erro\x20ao\x20criar\x20fluxo','pollMessage',',\x20Novo\x20tamanho:\x20','remoteJids','contacts.update','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','creds.update','errorLog','groupRequestParticipantsUpdate','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','repository','participant','uazapiSendText','convert','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Deletando\x20conversa...','output','updateGroupWebhook','presence.update','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','messageStubParameters','instanceCount','/events','):Delete\x20chat','#64c4ff','fetchBusinessProfile','PORT','url','.png','flowConfig','group-participants.update','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','execSync','dbSettings','):Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','):\x20Criando\x20fluxo...','port','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20send_message','):\x20customFieldVariables','#00a1f2','Type\x20not\x20found',',\x20valor\x20a\x20encontrar:\x20\x22','\x1b[31m','descOwner','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','hGet','findAll','shift','footerText','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','crypto','agents','\x20is\x20already\x20in\x20use.','USER','random','chatLog','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','\x20inseridas\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20atualizar\x20o\x20flow.','enumerable','File\x20written\x20to\x20path:\x20','demote','option','apikey','configService','-whatsapp-api','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','setWebhook','approve','whoCanEdit','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','groupUpdateSubject','conversationTimestamp','\x0aFN:','arraybuffer','testProxy','#ffae04','removeChatLabel','messageType','CacheContacts\x20database\x20connection\x20closed.','labels.edit','Safari','generateWAMessageFromContent',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','logger','):including\x20timestamp\x20in\x20url:\x20','startCommand','https://github.com/uazapi/uazapi.git','use','.pptx','getStatus','request\x20received\x20in\x20editConversation','request\x20received\x20in\x20deleteConversation','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','list','Erro\x20ao\x20inserir\x20chats:','setNewValue','request\x20received\x20in\x20updateCustomFields','_id','LOG','LabelModel','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20Fluxos\x20do\x20proprietrio\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleo\x20centralizada.','archiveChat','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','apirequest','downloads','):\x20Enviando\x20contato','varedits','status.instance','http://ipecho.net/plain','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','\x1b[36m',':\x20Tentativa\x20','isArray','groupAcceptInvite','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','Error\x20updating\x20message\x20status:','createClient','request\x20received\x20in\x20starFlow','joinGroup','groupUpdateDescription','\x1b[44m','pollCreationMessageV3','):\x20Editando\x20edio\x20do\x20fluxo...','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','status','Missing\x20global\x20api\x20key','):\x20Rtulo\x20atualizado:\x20','\x20-i\x20','floor','replaceVariablesInReplyOptions','http://myexternalip.com/raw','REDIS_ENABLED','viewOnceMessageV2','ScheduleMessageModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','writeFileSync','/wa-presence','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','):\x20transformedCustomFieldVariables','recording','replaceVariablesChat','):\x20Editando\x20condio\x20do\x20fluxo...','removeProfilePicture','request\x20received\x20in\x20editFlowcondition','):\x20Entrou\x20na\x20funo\x20clearVariables','E-mail:\x20','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20','imageMessage','pre','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','recebido\x20de','code','connectToWhatsappController','readdirSync','):\x20Going\x20to\x20','dbServer','axios','cors','exec','request_time','string','instance','findChats','.wav','):\x20','defineAuthState','findByIdAndDelete','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.','ephemeralMessage','https://jsonip.com','convertedOptions','getUniqueFlowName','command','temp-','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','deletedCount','stopIfLastReturnedError','last','fetchProfilePictureUrl','reconnectAttempts','API_KEY','unavailable','setting','autoCompleteMessages','LOG_LEVEL','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','lastBlockId','updateMessage','username','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','processUazapi','getLabelModelForOwner','deleteConversation','toArray','lastUpdate','message','toFile','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','DELETED','jid','created','Primeiro\x20Valor:\x20','.mp4','_ScheduleMessages','):\x20Fluxos\x20do\x20proprietrio\x20\x27','.xlsx','caption','readFileSync','createHash','sendText','oldValue','logout','/wa-groups','fetchStatus','errors','scheduleSendMedia','):\x20[RETRY]:\x20Mximo\x20de\x20tentativas\x20alcanado,\x20desistindo\x20de\x20recuperar','empty','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','sendSticker','REDIS',',\x20global:\x20','14069XMIDSf','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','pollOnReplyDelete','):\x20Ignoring\x20group\x20messages.','etiquetas','cleanStore','scheduleFlow','getScheduleMessage','copyBlock','):\x20Enviando\x20mdia','.error','last_update','Not\x20allowed\x20by\x20CORS','notEmpty','getContentType','convertaudio','PRESENCE_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','conversation','telefone','false','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','verifyWhatsAppNumber','reaction','PASSWORD','getPrototypeOf','whoCanUse','augusto.fcs@gmail.com','ultimaTentativaRemoteJid','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietrio\x20\x27','@ffmpeg-installer/ffmpeg','buttonMessage','#92ceac','):Notifying\x20clients\x20for\x20chat:\x20','uazapiSendMenu','#fe9dfe','MAX_RECONNECT_ATTEMPTS','createAndSave','profile',':\x20IP\x20falhou.\x20Tentando\x20o\x20prximo...','processclearVariables','/wa-chats','lastSend','Imagem\x20no\x20encontrada','bulkWrite','saveTextReply','editedMessage','fetchContacts','#9ab6c1','qrcode-terminal','replacer',',\x20Minutes\x20to\x20Close:\x20','Falha\x20aps\x20vrias\x20tentativas.','__esModule','uazapiSendMedia','eventHandler','):\x20expirationTime:\x20','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','END:VCARD','deleted','.mp3','groupId','):\x20Falha\x20ao\x20deletar\x20mensagem.','when','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','apiResponse','):\x20no\x20encontrou','mediatype','getDevice','request\x20received\x20in\x20fetchConversation','FlowRouter','instanceName','):Image\x20converted\x20to\x20WebP','open','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Instance\x20Key\x20from\x20DB:','JWT','AddUserFlow','.docx','createConversationforgoToFlow','updateProfileStatus','\x1b[30m%s\x1b[0m','READ','client','basename','connection.update','):\x20Adicionando\x20\x27','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','findAndReplaceRegex','documentWithCaptionMessage','.xls','editflowreply','mimetype','QRCODE_UPDATED','ephemeralDuration','findMessages','.X-ABLabel:Celular\x0a','):\x20Grupo\x20','):\x20Edit\x20schedule\x20message...','Deleted\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','redis://127.0.0.1:6379','request_method','Erro\x20ao\x20iniciar\x20fluxo:\x20','waUploadToServer','GROUP_PARTICIPANTS_UPDATE','instancias:\x20','saveChatVariables','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','ReplyOption\x20com\x20ID\x20','Fluxo\x20no\x20encontrado\x20na\x20memria.','verbose','removeUnusedChatFields','model','Font\x20is\x20required','qrcode','):\x20mediaMessageInfoId\x20:\x20',':\x20Configurao\x20do\x20IP\x20invlida.\x20Tentando\x20o\x20prximo...','updateOne','bodyString','\x27\x20removido\x20do\x20AutomateSystem.','reactionMessage','uazapi','greater','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','map','PRODUCT_LIST','valid','STORE_CONTACTS','PROXY','boolean','lowerCase','node-mime-types','connectedClient','host','ChatModel','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','\x20adicionado\x20ao\x20chat\x20','findByIdAndUpdate','beforeExit','shareFlow','order','Error\x20updating\x20cache\x20contact:','reconnectTimestamps','STORE_CHATS','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Error\x20finding\x20many\x20contacts:','Nenhum\x20fluxo\x20encontrado\x20para:\x20','utf8','reorderBlocks','type','filter','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','SendScheduleMessage','lastFetchAwaitingApproval','pollCreationMessage','menuIgnoreNonVotes','deleteBlock','subdomain','keys','proto','\x20-\x20ON:\x20','_pushName','leadInfo.desativadoFluxoAte','#9ba6ff','yes'];a0_0x154b=function(){return _0x2bb818;};return a0_0x154b();}function Wo(){const _0x1b4074=a0_0x33b913;let _0x148190=new $(_0x1b4074(0x38e)),_0x2dd2e2=(0x0,fe[_0x1b4074(0x876)])();_0x2dd2e2[_0x1b4074(0x5ec)]((0x0,Ii[_0x1b4074(0x876)])({'origin'(_0x47eed7,_0x945152){const _0x4d1368=_0x1b4074;let {ORIGIN:_0x18f869}=S[_0x4d1368(0x1f0)]('CORS');return _0x47eed7||(_0x47eed7='*'),_0x18f869[_0x4d1368(0x560)]('*')!==-0x1||_0x18f869[_0x4d1368(0x560)](_0x47eed7)!==-0x1?_0x945152(null,!0x0):_0x945152(new Error(_0x4d1368(0x685)));},'methods':[...S['get'](_0x1b4074(0x4ab))[_0x1b4074(0x291)]],'credentials':S['get'](_0x1b4074(0x4ab))[_0x1b4074(0x7bb)]}),(0x0,fe[_0x1b4074(0x75b)])({'extended':!0x0,'limit':_0x1b4074(0x7bc)}),(0x0,fe[_0x1b4074(0x539)])({'limit':'50mb'})),_0x2dd2e2['use']((_0x28421e,_0x45348b,_0x8bce18)=>{const _0x175168=_0x1b4074;_0x28421e[_0x175168(0x2e5)][_0x175168(0x3fc)](_0x175168(0x5a8))?_0x8bce18():(0x0,Oi[_0x175168(0x876)])()(_0x28421e,_0x45348b,_0x8bce18);}),_0x2dd2e2['set']('view\x20engine','hbs'),_0x2dd2e2['set']('views',(0x0,Ls['join'])(ie,_0x1b4074(0x243))),_0x2dd2e2['use'](fe[_0x1b4074(0x876)][_0x1b4074(0x2b8)]((0x0,Ls[_0x1b4074(0x7f8)])(ie,_0x1b4074(0x3a2)))),_0x2dd2e2[_0x1b4074(0x5ec)]((_0x22c6ae,_0x5eed73,_0x326b7b)=>{const _0x3cdf40=_0x1b4074;let _0x4abb28=_0x5eed73['send'];_0x5eed73[_0x3cdf40(0x4eb)]=function(_0x580ce7){const _0x486317=_0x3cdf40;if(_0x22c6ae[_0x486317(0x17d)][_0x486317(0x59f)]===_0x486317(0x274)||_0x22c6ae['headers']['uazapi']===_0x486317(0x274)){let _0x524ada=JSON[_0x486317(0x73a)](_0x580ce7);_0x580ce7=JSON['stringify'](_0x1b0bc3(_0x524ada));}return _0x4abb28[_0x486317(0x3dd)](_0x5eed73,[_0x580ce7]);},_0x326b7b();}),_0x2dd2e2[_0x1b4074(0x5ec)]('/',Oe),_0x2dd2e2[_0x1b4074(0x5ec)]((_0x44a01c,_0x1f088e,_0x1bb1a4,_0x1384c8)=>{const _0x237233=_0x1b4074;if(_0x44a01c)return _0x1bb1a4[_0x237233(0x615)](_0x44a01c[_0x237233(0x615)]||0x1f4)[_0x237233(0x539)](_0x44a01c);},(_0x30b2a9,_0x1be6e4,_0x553b64)=>{const _0x435330=_0x1b4074;let {method:_0xf00530,url:_0x4fb692}=_0x30b2a9;_0x1be6e4['status'](0x194)[_0x435330(0x539)]({'status':0x194,'message':_0x435330(0x80c)+_0xf00530[_0x435330(0x236)]()+'\x20'+_0x4fb692,'error':_0x435330(0x7a6)}),_0x553b64();});let _0x1b0bc3=(_0x229cf4,_0x448c76=_0x1b4074(0x353))=>{const _0x181d1b=_0x1b4074;let _0x48e639=(_0x171551,_0x54908e=null,_0x433ae2=!0x1)=>{const _0x354189=a0_0x358b;let _0x4a2cb2={};return Object[_0x354189(0x719)](_0x171551)['forEach'](_0x3b673a=>{const _0x3736fd=_0x354189;let _0x4dcf23=_0x171551[_0x3b673a],_0x4c6f31=''+_0x448c76+_0x3b673a;_0x54908e&&!_0x433ae2&&(_0x4c6f31=_0x54908e+'.'+_0x3b673a),!_0x4dcf23&&_0x4dcf23!==0x0&&_0x4dcf23!==!0x1||typeof _0x4dcf23>'u'?_0x4a2cb2[_0x4c6f31]=null:typeof _0x4dcf23!='object'&&!Array[_0x3736fd(0x607)](_0x4dcf23)?_0x4a2cb2[_0x4c6f31]=_0x4dcf23:typeof _0x4dcf23=='object'&&!Array[_0x3736fd(0x607)](_0x4dcf23)?_0x4a2cb2=Object[_0x3736fd(0x794)](_0x4a2cb2,_0x48e639(_0x4dcf23,_0x4c6f31)):Array[_0x3736fd(0x607)](_0x4dcf23)&&(typeof _0x4dcf23[0x0]==_0x3736fd(0x24d)?(_0x4a2cb2[_0x4c6f31]=[],_0x4dcf23[_0x3736fd(0x211)](_0x15f8e8=>{const _0xdba279=_0x3736fd;_0x4a2cb2[_0x4c6f31][_0xdba279(0x41a)](_0x48e639(_0x15f8e8,_0x4c6f31,!0x0));})):_0x4a2cb2[_0x4c6f31]=_0x4dcf23);}),_0x4a2cb2;};return Array[_0x181d1b(0x607)](_0x229cf4)?_0x229cf4['map'](_0x551f1e=>_0x48e639(_0x551f1e)):typeof _0x229cf4=='object'&&_0x229cf4!==null?_0x48e639(_0x229cf4):{};},_0xac90fc=S[_0x1b4074(0x1f0)](_0x1b4074(0x38e));De[_0x1b4074(0x7ed)]=_0x2dd2e2;let _0x3229cb=De[_0xac90fc[_0x1b4074(0x565)]],_0x1dc14b=_0x1b4074(0x3ee);_0x3229cb[_0x1b4074(0x3a5)](_0xac90fc['PORT'],()=>{const _0x244832=_0x1b4074;_0x148190[_0x244832(0x77d)](_0x1dc14b),_0x148190[_0x244832(0x77d)](_0xac90fc['TYPE']['toUpperCase']()+_0x244832(0x71b)+_0xac90fc[_0x244832(0x5ac)]);}),Bo(),Ks();}var zo=a0_0x33b913(0x5eb),Ho=je[a0_0x33b913(0x876)][a0_0x33b913(0x7f8)](__dirname,'./.git/config'),ke=null;function Ko(){return new Promise((_0x163d8d,_0x664cc5)=>{const _0x53fae0=a0_0x358b;ge[_0x53fae0(0x876)][_0x53fae0(0x479)](Ho,_0x53fae0(0x33f),(_0x59c6dd,_0x50d11a)=>{const _0x525eca=_0x53fae0;if(_0x59c6dd){ke=_0x59c6dd,_0x163d8d();return;}Di['default'][_0x525eca(0x73a)](_0x50d11a)[_0x525eca(0x39d)]['url']===zo?(ke=null,_0x163d8d()):(ke=new Error(_0x525eca(0x457)),_0x163d8d());});});}async function Qo(){const _0xafe0bc=a0_0x33b913;try{await Ko(),await Us();}catch(_0x1df412){console['error'](_0xafe0bc(0x28b)+_0x1df412),process['exit'](0x1);}}Qo();async function Pi(){const _0x464f60=a0_0x33b913;let _0x157aab;try{_0x157aab=(await Pe['default'][_0x464f60(0x1f0)](_0x464f60(0x644)))[_0x464f60(0x4a6)]['ip'];}catch(_0xd52e19){console[_0x464f60(0x43c)](_0xd52e19);try{_0x157aab=(await Pe[_0x464f60(0x876)]['get'](_0x464f60(0x4aa)))['data']['ip'];}catch(_0xd480ff){console[_0x464f60(0x43c)](_0xd480ff);try{_0x157aab=(await Pe['default'][_0x464f60(0x1f0)](_0x464f60(0x559)))['data'][_0x464f60(0x328)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x220fda){return console['error'](_0x220fda),!0x1;}}}return _0x157aab;}var Ti=0x0;async function Yo(){const _0x14f03c=a0_0x33b913;let _0x595b5f=await new ne(S[_0x14f03c(0x1f0)](_0x14f03c(0x677)))[_0x14f03c(0x767)]();return console[_0x14f03c(0x77d)](_0x14f03c(0x6e4),_0x595b5f[_0x14f03c(0x4ee)]),_0x595b5f[_0x14f03c(0x4ee)];}function Xo(_0x481cc1){const _0x31ed06=a0_0x33b913;let _0x1ed305=_0x481cc1[_0x31ed06(0x1f0)](_0x31ed06(0x38e))[_0x31ed06(0x45f)],_0x2e68b1=_0x481cc1[_0x31ed06(0x1f0)](_0x31ed06(0x793)),_0x547e0f;if(_0x1ed305){let _0x35a99e=_0x1ed305[_0x31ed06(0x328)](/\/\/(.*?)\./);_0x35a99e&&_0x35a99e[0x1]&&(_0x547e0f=_0x35a99e[0x1]);}if(!_0x547e0f&&_0x2e68b1&&_0x2e68b1['FULLCHAIN']){let _0x3f7000=_0x2e68b1[_0x31ed06(0x7a4)][_0x31ed06(0x76e)]('/'),_0x497576=_0x3f7000[_0x3f7000[_0x31ed06(0x4ee)]-0x2];if(_0x497576){let _0x406275=_0x497576[_0x31ed06(0x76e)]('.');_0x406275[_0x31ed06(0x4ee)]>0x2&&(_0x547e0f=_0x406275[0x0]);}}return _0x547e0f;}var Ps=Xo(S);async function Zo(){const _0x268de6=a0_0x33b913;let _0x18ee62=S['get'](_0x268de6(0x677)),_0x5becce=S['get'](_0x268de6(0x28a))[_0x268de6(0x64f)][_0x268de6(0x254)],_0x5dac5c=S[_0x268de6(0x1f0)]('SSL_CONF'),_0x2eca25=await Pi(),_0x2885fd=S[_0x268de6(0x1f0)](_0x268de6(0x38e))[_0x268de6(0x5ac)],_0x5c6ef4=S['get'](_0x268de6(0x38e))[_0x268de6(0x45f)];try{let _0x4850db={'ip':_0x2eca25||null,'redis_enable':_0x18ee62?.['ENABLED']||null,'apikey':_0x5becce||null,'ssl':_0x5dac5c?.[_0x268de6(0x300)]||null,'lastupdate':ki||null,'port':_0x2885fd||null,'gitInstallError':ke?.[_0x268de6(0x65e)]||null,'url':_0x5c6ef4||null};if(console[_0x268de6(0x77d)](_0x268de6(0x494),_0x4850db['ip']),_0x18ee62&&_0x18ee62['ENABLED']){let _0x5bfee5=await Yo();_0x4850db[_0x268de6(0x5a7)]=_0x5bfee5||null;}for(let _0xd7192c in _0x4850db)_0x4850db[_0x268de6(0x247)](_0xd7192c)&&_0xd7192c!=='ip'&&(_0x4850db[_0xd7192c]=JSON['stringify'](_0x4850db[_0xd7192c]));return(await Pe[_0x268de6(0x876)]['post'](_0x268de6(0x597),_0x4850db))[_0x268de6(0x4a6)];}catch(_0x294ba0){return console[_0x268de6(0x43c)](_0x294ba0),!0x1;}}var Fs=!0x1,ki=0x249,er=0x3,xi=0x1b7740;async function Us(){const _0x1132d6=a0_0x33b913;if(!await Pi())return console[_0x1132d6(0x43c)]('No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.'),_0x1132d6(0x48f);let _0xc49634=await Zo();if(_0xc49634){if(_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x3e3)]===!0x0){let _0x2ce3e8=S['get'](_0x1132d6(0x793)),_0x46522d=S[_0x1132d6(0x1f0)](_0x1132d6(0x38e))['URL'];_0x2ce3e8&&_0x2ce3e8?.['PRIVKEY']?.[_0x1132d6(0x798)](_0x1132d6(0x52f))&&_0xc49634[_0x1132d6(0x17f)]['subdomain']&&!_0x46522d&&(await ar(_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x718)],sr),await ir(_0x1132d6(0x694),_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x718)]),console[_0x1132d6(0x77d)](_0x1132d6(0x57a)),setTimeout(()=>rr(),0x2710)),ke===null&&_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x684)]-ki>0x0&&await tr(),Fs||(Fs=!0x0,Wo());let _0x2c2985=0x24*0x3c*0x3c,_0x3fe9d4=_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x2a9)]>_0x2c2985?_0x2c2985:_0xc49634[_0x1132d6(0x17f)][_0x1132d6(0x2a9)],_0x27e6f8=Number(_0x3fe9d4);if(isNaN(_0x27e6f8)){console[_0x1132d6(0x43c)](_0x1132d6(0x3f3));return;}let _0x3c6aeb=Math[_0x1132d6(0x619)](_0x27e6f8/0xe10),_0x330d15=Math[_0x1132d6(0x619)](_0x27e6f8%0xe10/0x3c),_0x57b61b=new Date(Date['now']()+_0x27e6f8*0x3e8);setTimeout(Us,_0x27e6f8*0x3e8);let _0x2d737b=_0x48c1e3=>_0x48c1e3[_0x1132d6(0x2fe)]()[_0x1132d6(0x1bd)](0x2,'0'),_0x1d7687=_0x1132d6(0x6f6)+_0x2d737b(_0x3c6aeb)+_0x1132d6(0x471)+_0x2d737b(_0x330d15)+_0x1132d6(0x2ae)+_0x2d737b(_0x57b61b[_0x1132d6(0x1e2)]())+':'+_0x2d737b(_0x57b61b[_0x1132d6(0x466)]())+'.';console[_0x1132d6(0x77d)](_0x1d7687);}else return console[_0x1132d6(0x77d)](_0x1132d6(0x184)),Fs&&(console[_0x1132d6(0x77d)](_0x1132d6(0x46d)),process[_0x1132d6(0x80a)]()),_0x1132d6(0x822);}else{if(Ti++,Ti<er)console['log'](_0x1132d6(0x62b)+xi/0xea60+_0x1132d6(0x40d)),setTimeout(Us,xi);else return console['error'](_0x1132d6(0x609)),'SERVER_OFFLINE';}}async function tr(){const _0x57d07b=a0_0x33b913;console['log'](_0x57d07b(0x2ad)),console[_0x57d07b(0x77d)](_0x57d07b(0x262)),(0x0,me[_0x57d07b(0x41b)])(_0x57d07b(0x37a),{'shell':!0x0})['on'](_0x57d07b(0x851),_0x51e359=>{const _0x208d68=_0x57d07b;_0x51e359!==0x0?console['error']('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x208d68(0x77d)](_0x208d68(0x321)),console[_0x208d68(0x77d)](_0x208d68(0x722)),(0x0,me[_0x208d68(0x41b)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x208d68(0x851),_0x26a370=>{const _0x562a82=_0x208d68;if(_0x26a370!==0x0)console['error']('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessrios.');else{console[_0x562a82(0x77d)](_0x562a82(0x3d2));let _0x243af3=(0x0,me['spawn'])(_0x562a82(0x2e0),{'shell':!0x0});_0x243af3[_0x562a82(0x3a8)]['on']('data',_0x394f14=>{const _0x1183a2=_0x562a82;console['log'](_0x1183a2(0x4ba)+_0x394f14);}),_0x243af3[_0x562a82(0x28f)]['on'](_0x562a82(0x4a6),_0x5eca9d=>{const _0x4f4dbc=_0x562a82;console[_0x4f4dbc(0x43c)](_0x4f4dbc(0x295)+_0x5eca9d);}),_0x243af3['on']('exit',_0x36737e=>{const _0x415aea=_0x562a82;_0x36737e!==0x0?console[_0x415aea(0x43c)](_0x415aea(0x75d)+_0x36737e):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x415aea(0x77d)](_0x415aea(0x234)),setTimeout(()=>process[_0x415aea(0x80a)](),0x2710);});}}));});}var sr=je[a0_0x33b913(0x876)][a0_0x33b913(0x7f8)](__dirname,a0_0x33b913(0x283));async function ar(_0x515bfd,_0x4cc57a){const _0x51c5cb=a0_0x33b913;let _0x2551b2=or();_0x515bfd=_0x515bfd[_0x51c5cb(0x3d1)]('.uazapi.dev','');try{let _0x58be6e=ge[_0x51c5cb(0x876)][_0x51c5cb(0x66a)](_0x4cc57a,_0x51c5cb(0x70e));_0x58be6e=_0x58be6e[_0x51c5cb(0x3d1)](/<apikey>/,_0x2551b2),_0x58be6e=_0x58be6e[_0x51c5cb(0x3d1)](/<subdomain>/g,_0x515bfd),ge['default'][_0x51c5cb(0x620)](_0x4cc57a,_0x58be6e,_0x51c5cb(0x70e)),console[_0x51c5cb(0x77d)](_0x51c5cb(0x1bc));}catch(_0x2a8ac7){console['error'](_0x51c5cb(0x258),_0x2a8ac7);}}function ir(_0x3dd559,_0x495317){return new Promise((_0x1ea5f7,_0x5cde87)=>{const _0xac7e3f=a0_0x358b;let _0x4b4b9f=(0x0,me[_0xac7e3f(0x41b)])('certbot',[_0xac7e3f(0x820),_0xac7e3f(0x34a),'-m',_0x3dd559,_0xac7e3f(0x393),'-d',_0x495317]);_0x4b4b9f[_0xac7e3f(0x3a8)]['on'](_0xac7e3f(0x4a6),_0x54341f=>{const _0x40eadf=_0xac7e3f;console['log'](_0x40eadf(0x1c8)+_0x54341f[_0x40eadf(0x2fe)]());}),_0x4b4b9f[_0xac7e3f(0x28f)]['on'](_0xac7e3f(0x4a6),_0x5e1313=>{const _0x3affb2=_0xac7e3f;console[_0x3affb2(0x43c)](_0x3affb2(0x26c)+_0x5e1313[_0x3affb2(0x2fe)]());}),_0x4b4b9f['on'](_0xac7e3f(0x851),_0xe9f976=>{const _0x1ff617=_0xac7e3f;_0xe9f976!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0xe9f976),_0x5cde87('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20'+_0xe9f976)):(console[_0x1ff617(0x77d)](_0x1ff617(0x54e)),_0x1ea5f7());});});}function or(_0xf0e2e7=0x32){const _0x5e6027=a0_0x33b913;let _0x4523d3=_0x5e6027(0x462),_0x368f0b='';for(let _0x30cb36=0x0;_0x30cb36<_0xf0e2e7;_0x30cb36++)_0x368f0b+=_0x4523d3[_0x5e6027(0x144)](Math[_0x5e6027(0x619)](Math[_0x5e6027(0x5c9)]()*_0x4523d3['length']));return _0x368f0b;}function rr(){const _0x54ae06=a0_0x33b913;(0x0,me['exec'])(_0x54ae06(0x512),(_0xad3bf2,_0x42556c,_0x31209f)=>{const _0x387a73=_0x54ae06;if(_0xad3bf2){console['error'](_0x387a73(0x5b7)+_0xad3bf2);return;}if(_0x31209f){console[_0x387a73(0x43c)](_0x387a73(0x50c)+_0x31209f);return;}console[_0x387a73(0x77d)](_0x387a73(0x1af)+_0x42556c);});}0x0&&(module[a0_0x33b913(0x34b)]={'subdomain':subdomain});