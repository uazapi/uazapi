const a0_0x5de833=a0_0x26c2;(function(_0x44713b,_0x41d27b){const _0xf16ac5=a0_0x26c2,_0x166321=_0x44713b();while(!![]){try{const _0x3c3b11=-parseInt(_0xf16ac5(0x6e5))/0x1*(-parseInt(_0xf16ac5(0x2d2))/0x2)+-parseInt(_0xf16ac5(0x6f6))/0x3*(parseInt(_0xf16ac5(0x3cc))/0x4)+parseInt(_0xf16ac5(0x175))/0x5*(parseInt(_0xf16ac5(0x55b))/0x6)+-parseInt(_0xf16ac5(0x2b9))/0x7*(parseInt(_0xf16ac5(0x5d8))/0x8)+parseInt(_0xf16ac5(0x739))/0x9*(-parseInt(_0xf16ac5(0x5cb))/0xa)+parseInt(_0xf16ac5(0x394))/0xb+-parseInt(_0xf16ac5(0x68f))/0xc*(-parseInt(_0xf16ac5(0x643))/0xd);if(_0x3c3b11===_0x41d27b)break;else _0x166321['push'](_0x166321['shift']());}catch(_0x5b53b2){_0x166321['push'](_0x166321['shift']());}}}(a0_0x5809,0x1d1ca));var jo=Object['create'],Je=Object[a0_0x5de833(0x213)],Fo=Object['getOwnPropertyDescriptor'],Jo=Object[a0_0x5de833(0x68e)],Uo=Object[a0_0x5de833(0x138)],qo=Object['prototype'][a0_0x5de833(0x569)],Vo=(_0xb84300,_0x371158)=>{for(var _0x4fbe53 in _0x371158)Je(_0xb84300,_0x4fbe53,{'get':_0x371158[_0x4fbe53],'enumerable':!0x0});},Js=(_0x44b0e6,_0x46d089,_0x49f09e,_0x25cf28)=>{const _0x183b46=a0_0x5de833;if(_0x46d089&&typeof _0x46d089==_0x183b46(0x31d)||typeof _0x46d089==_0x183b46(0x58a)){for(let _0x1e9b31 of Jo(_0x46d089))!qo[_0x183b46(0x38e)](_0x44b0e6,_0x1e9b31)&&_0x1e9b31!==_0x49f09e&&Je(_0x44b0e6,_0x1e9b31,{'get':()=>_0x46d089[_0x1e9b31],'enumerable':!(_0x25cf28=Fo(_0x46d089,_0x1e9b31))||_0x25cf28[_0x183b46(0x241)]});}return _0x44b0e6;},O=(_0xda5b2e,_0x58ab2d,_0x11177d)=>(_0x11177d=_0xda5b2e!=null?jo(Uo(_0xda5b2e)):{},Js(_0x58ab2d||!_0xda5b2e||!_0xda5b2e[a0_0x5de833(0x4cc)]?Je(_0x11177d,a0_0x5de833(0x1a6),{'value':_0xda5b2e,'enumerable':!0x0}):_0x11177d,_0xda5b2e)),Go=_0x438737=>Js(Je({},'__esModule',{'value':!0x0}),_0x438737),ri={};Vo(ri,{'subdomain':()=>Ds}),module['exports']=Go(ri);var Io=O(require(a0_0x5de833(0x58e))),qs=require('fs'),Vs=require(a0_0x5de833(0x51a)),Gs=require(a0_0x5de833(0xb1)),Ue=require(a0_0x5de833(0xb1)),ne=process[a0_0x5de833(0x74a)](),me=(0x0,Ue[a0_0x5de833(0x52f)])(ne,a0_0x5de833(0x159)),Us=(0x0,Ue[a0_0x5de833(0x52f)])(ne,a0_0x5de833(0x12a)),Yi=(0x0,Ue[a0_0x5de833(0x52f)])(ne,a0_0x5de833(0x3df),'auth'),ns=class{constructor(){const _0x48c330=a0_0x5de833;this[_0x48c330(0x6ba)]();}[a0_0x5de833(0x224)](_0x291a9f){return this['env'][_0x291a9f];}['loadEnv'](){const _0x2267c5=a0_0x5de833;this['env']=process[_0x2267c5(0x608)]?.[_0x2267c5(0x4aa)]!==_0x2267c5(0x55a)?this[_0x2267c5(0x3fb)]():this[_0x2267c5(0x2b8)](),process[_0x2267c5(0x608)]?.[_0x2267c5(0x4aa)]==='true'&&(this[_0x2267c5(0x608)][_0x2267c5(0x147)][_0x2267c5(0x125)]=_0x2267c5(0x46e),this[_0x2267c5(0x608)][_0x2267c5(0x147)]['PORT']=Number['parseInt'](process['env']?.[_0x2267c5(0x4f5)]??'8080'));}[a0_0x5de833(0x3fb)](){const _0x422350=a0_0x5de833;return(0x0,Vs[_0x422350(0x4f6)])((0x0,qs[_0x422350(0x119)])((0x0,Gs[_0x422350(0x52f)])(Us,_0x422350(0x4ca)),{'encoding':_0x422350(0x259)}));}['envProcess'](){const _0x342739=a0_0x5de833;return{'SERVER':{'TYPE':process[_0x342739(0x608)][_0x342739(0x359)],'PORT':Number[_0x342739(0x313)](process[_0x342739(0x608)][_0x342739(0x4f5)]),'URL':process[_0x342739(0x608)][_0x342739(0x15a)]},'CORS':{'ORIGIN':process[_0x342739(0x608)][_0x342739(0x193)]['split'](','),'METHODS':process[_0x342739(0x608)][_0x342739(0x514)][_0x342739(0x3a3)](','),'CREDENTIALS':process['env']?.[_0x342739(0x7aa)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x342739(0x608)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x342739(0x608)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x342739(0x2d5)](process[_0x342739(0x608)]?.[_0x342739(0x30c)])?Number[_0x342739(0x313)](process[_0x342739(0x608)][_0x342739(0x30c)]):void 0x0,'MESSAGES':process[_0x342739(0x608)]?.[_0x342739(0x4ef)]===_0x342739(0x55a),'CONTACTS':process['env']?.[_0x342739(0x331)]===_0x342739(0x55a),'CHATS':process[_0x342739(0x608)]?.[_0x342739(0x395)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x342739(0x313)](process[_0x342739(0x608)]?.[_0x342739(0x73b)]),'USER':process['env'][_0x342739(0x17a)],'PASSWORD':process[_0x342739(0x608)][_0x342739(0x49a)],'URI':process['env'][_0x342739(0x321)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x342739(0x55a)},'REDIS':{'ENABLED':process['env']?.[_0x342739(0x784)]===_0x342739(0x55a),'URI':process[_0x342739(0x608)][_0x342739(0x2e1)]||_0x342739(0x216),'PREFIX_KEY':process[_0x342739(0x608)][_0x342739(0x64b)]||'uazapi'},'LOG':{'LEVEL':process[_0x342739(0x608)]?.['LOG_LEVEL']['split'](','),'COLOR':process['env']?.[_0x342739(0x12f)]===_0x342739(0x55a)},'PROXY':Number[_0x342739(0x313)](process[_0x342739(0x608)]?.[_0x342739(0x44d)]),'AUTHENTICATION':{'TYPE':process[_0x342739(0x608)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x342739(0x608)][_0x342739(0xbe)]},'JWT':{'EXPIRIN_IN':Number[_0x342739(0x2d5)](process[_0x342739(0x608)]?.[_0x342739(0x16d)])?Number[_0x342739(0x313)](process[_0x342739(0x608)][_0x342739(0x16d)]):0xe10,'SECRET':process['env'][_0x342739(0x67e)]}}};}},b=new ns(),xo=O(require(a0_0x5de833(0x400))),ge=O(require(a0_0x5de833(0x75b))),js=require(a0_0x5de833(0xb1)),cs=O(require(a0_0x5de833(0x750))),ls=(_0x4f56a1=>(_0x4f56a1[a0_0x5de833(0x3f2)]=a0_0x5de833(0x40d),_0x4f56a1[a0_0x5de833(0x431)]=a0_0x5de833(0x5f4),_0x4f56a1[a0_0x5de833(0x279)]='\x1b[33m',_0x4f56a1['ERROR']=a0_0x5de833(0x285),_0x4f56a1[a0_0x5de833(0x139)]='\x1b[36m',_0x4f56a1['VERBOSE']=a0_0x5de833(0x3c4),_0x4f56a1['DARK']=a0_0x5de833(0x9a),_0x4f56a1))(ls||{}),Bs=(_0x1f0621=>(_0x1f0621[a0_0x5de833(0x3f2)]=a0_0x5de833(0x14c),_0x1f0621[a0_0x5de833(0x545)]=a0_0x5de833(0x2be),_0x1f0621[a0_0x5de833(0x431)]=a0_0x5de833(0x526),_0x1f0621['WARN']='\x1b[33m%s\x1b[0m',_0x1f0621['ERROR']=a0_0x5de833(0x4fb),_0x1f0621['DEBUG']='\x1b[36m%s\x1b[0m',_0x1f0621[a0_0x5de833(0x353)]='\x1b[37m%s\x1b[0m',_0x1f0621))(Bs||{}),Ws=(_0x1b6ab9=>(_0x1b6ab9[a0_0x5de833(0x3f2)]='LOG',_0x1b6ab9[a0_0x5de833(0x279)]=a0_0x5de833(0x279),_0x1b6ab9['INFO']=a0_0x5de833(0x431),_0x1b6ab9[a0_0x5de833(0x545)]=a0_0x5de833(0x545),_0x1b6ab9['ERROR']='ERROR',_0x1b6ab9[a0_0x5de833(0x139)]=a0_0x5de833(0x139),_0x1b6ab9['VERBOSE']=a0_0x5de833(0x353),_0x1b6ab9))(Ws||{}),zs=(_0x3e1abf=>(_0x3e1abf['LOG']='\x1b[42m',_0x3e1abf[a0_0x5de833(0x431)]=a0_0x5de833(0x242),_0x3e1abf[a0_0x5de833(0x279)]=a0_0x5de833(0x4d4),_0x3e1abf[a0_0x5de833(0x545)]='\x1b[40m',_0x3e1abf[a0_0x5de833(0x54c)]=a0_0x5de833(0xd7),_0x3e1abf['DEBUG']=a0_0x5de833(0x40c),_0x3e1abf['VERBOSE']='\x1b[47m',_0x3e1abf))(zs||{}),R=class{constructor(_0x4d50b5='Logger'){const _0xffe569=a0_0x5de833;this[_0xffe569(0x461)]=_0x4d50b5,this[_0xffe569(0x5cc)]=b;}[a0_0x5de833(0x581)](_0x4b6135){const _0x3b15e4=a0_0x5de833;this[_0x3b15e4(0x461)]=_0x4b6135;}[a0_0x5de833(0x24b)](_0xf8a3b5,_0x27cf93){const _0x3a9f91=a0_0x5de833;let _0x49cd4d=[];this['configService'][_0x3a9f91(0x224)](_0x3a9f91(0x3f2))['LEVEL'][_0x3a9f91(0x1b4)](_0x38a4d4=>_0x49cd4d[_0x3a9f91(0x2c5)](Ws[_0x38a4d4]));let _0x7f2931=typeof _0xf8a3b5;_0x49cd4d[_0x3a9f91(0x2d8)](_0x27cf93)&&(b['get'](_0x3a9f91(0x3f2))[_0x3a9f91(0x734)]?(console['log'](_0x3a9f91(0x656)+Bs[_0x27cf93],_0x3a9f91(0x1d7),(0x0,cs[_0x3a9f91(0x1a6)])()[_0x3a9f91(0x699)](_0x3a9f91(0x3b9)),_0x3a9f91(0x451),ls[_0x27cf93]+zs[_0x27cf93]+_0x3a9f91(0x656),_0x27cf93+'\x20\x1b[0m',_0x3a9f91(0x75a),this[_0x3a9f91(0x461)]+_0x3a9f91(0x451),ls[_0x27cf93],_0x7f2931!==_0x3a9f91(0x31d)?_0xf8a3b5:'',_0x3a9f91(0x451)),_0x7f2931===_0x3a9f91(0x31d)&&console[_0x3a9f91(0x6c3)](_0xf8a3b5,'\x0a')):console['log']((0x0,cs['default'])()[_0x3a9f91(0x699)](_0x3a9f91(0x169)),_0x27cf93+'\x20',''+this[_0x3a9f91(0x461)],_0xf8a3b5));}[a0_0x5de833(0x6c3)](_0x2dc2a0){const _0x141ccb=a0_0x5de833;this['console'](_0x2dc2a0,_0x141ccb(0x3f2));}[a0_0x5de833(0x2c3)](_0x3a0f5e){const _0x23e946=a0_0x5de833;this[_0x23e946(0x24b)](_0x3a0f5e,_0x23e946(0x431));}['warn'](_0x2e263e){const _0x235a8c=a0_0x5de833;this[_0x235a8c(0x24b)](_0x2e263e,'WARN');}['error'](_0x3c5266){const _0x340769=a0_0x5de833;this[_0x340769(0x24b)](_0x3c5266,_0x340769(0x54c));}['verbose'](_0x3599f2){const _0x4c28a5=a0_0x5de833;this[_0x4c28a5(0x24b)](_0x3599f2,'VERBOSE');}['debug'](_0x5dbd4c){const _0xa84e3d=a0_0x5de833;this['console'](_0x5dbd4c,_0xa84e3d(0x139));}['dark'](_0x19e45a){const _0x572438=a0_0x5de833;this['console'](_0x19e45a,_0x572438(0x545));}};function Hs(){const _0x1b405c=a0_0x5de833;process['on'](_0x1b405c(0x639),(_0x4f73ca,_0xc6fb43)=>{const _0x4cd127=_0x1b405c;new R(_0x4cd127(0x639))['error']({'origin':_0xc6fb43,'stderr':process[_0x4cd127(0x455)]['fd'],'error':_0x4f73ca});}),process['on'](_0x1b405c(0x383),(_0x4f1f4a,_0x4522f4)=>{const _0x40c4ce=_0x1b405c;new R(_0x40c4ce(0x383))[_0x40c4ce(0x1b8)]({'origin':_0x4522f4,'stderr':process[_0x40c4ce(0x455)]['fd'],'error':_0x4f1f4a});});}var Ks=O(require('eventemitter2')),us=new Ks[(a0_0x5de833(0x1a6))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x5de833(0x1a3)),Ee=O(require(a0_0x5de833(0x1a3))),qe=new R(a0_0x5de833(0x6b8)),j=b[a0_0x5de833(0x224)]('DATABASE'),$=j[a0_0x5de833(0x34e)]?j['CONNECTION'][a0_0x5de833(0x5c4)]?Ee['default'][a0_0x5de833(0x449)](j[a0_0x5de833(0x62b)]['URI'],{'dbName':j[a0_0x5de833(0x62b)]['DB_PREFIX_NAME']+'-whatsapp-api'}):Ee[a0_0x5de833(0x1a6)][a0_0x5de833(0x449)](a0_0x5de833(0x477)+j[a0_0x5de833(0x62b)]['HOST']+':'+j[a0_0x5de833(0x62b)][a0_0x5de833(0x402)]+a0_0x5de833(0x2a5),{'user':j[a0_0x5de833(0x62b)][a0_0x5de833(0x2ef)],'pass':j[a0_0x5de833(0x62b)][a0_0x5de833(0x2ee)],'dbName':j[a0_0x5de833(0x62b)][a0_0x5de833(0x2a0)]+'-whatsapp-api'}):null;j[a0_0x5de833(0x34e)]&&qe[a0_0x5de833(0x2c3)](a0_0x5de833(0x44e)+$['$dbName']);var fe=j['ENABLED']?j[a0_0x5de833(0x62b)][a0_0x5de833(0x5c4)]?Ee[a0_0x5de833(0x1a6)]['createConnection'](j[a0_0x5de833(0x62b)][a0_0x5de833(0x5c4)],{'dbName':a0_0x5de833(0x51b)}):Ee[a0_0x5de833(0x1a6)][a0_0x5de833(0x449)](a0_0x5de833(0x477)+j['CONNECTION'][a0_0x5de833(0xa1)]+':'+j[a0_0x5de833(0x62b)][a0_0x5de833(0x402)]+a0_0x5de833(0x2a5),{'user':j[a0_0x5de833(0x62b)][a0_0x5de833(0x2ef)],'pass':j[a0_0x5de833(0x62b)][a0_0x5de833(0x2ee)],'dbName':'cachedContacts-whatsapp'}):null;fe&&qe['info']('ON\x20-\x20dbName:\x20'+fe[a0_0x5de833(0x244)]),process['on']('beforeExit',()=>{const _0x39fd9d=a0_0x5de833;$&&$[_0x39fd9d(0x44f)](()=>{const _0x5023a0=_0x39fd9d;qe[_0x5023a0(0x2c3)](_0x5023a0(0x523));}),fe&&fe[_0x39fd9d(0x44f)](()=>{const _0x388c58=_0x39fd9d;qe[_0x388c58(0x2c3)]('CacheContacts\x20database\x20connection\x20closed.');});});var Bo=new we[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x5de833(0x6b7))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0x4b7eec=>{const _0x3df64f=a0_0x5de833;let _0x9d1026='z_'+_0x4b7eec+_0x3df64f(0x56e);return $?.[_0x3df64f(0x47d)](_0x3df64f(0x614),Ko,_0x9d1026);},Ys=require(a0_0x5de833(0x1a3)),Qo=new Ys[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x27cd46=>{const _0x2cf559=a0_0x5de833;let _0x5df1d0='z_'+_0x27cd46+_0x2cf559(0x170);return $?.[_0x2cf559(0x47d)]('ContactModel',Qo,_0x5df1d0);},Zs=require('mongoose'),ds=class{},Yo=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=fe?.[a0_0x5de833(0x47d)](ds['name'],Yo,a0_0x5de833(0x1e1)),ta=require(a0_0x5de833(0x1a3)),Xo=new ta[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x2c5d59=>{const _0x21441a=a0_0x5de833;let _0x57711c='z_'+_0x2c5d59+_0x21441a(0x778);return $?.[_0x21441a(0x47d)]('MessageModel',Xo,_0x57711c);},aa=require(a0_0x5de833(0x1a3)),ps=class{},Zo=new aa[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=$?.[a0_0x5de833(0x47d)](ps[a0_0x5de833(0x40f)],Zo,a0_0x5de833(0x5d5)),ra=require(a0_0x5de833(0x1a3)),hs=class{},ia=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia['pre'](a0_0x5de833(0x62f),function(_0x3b93cf){const _0x34c4fe=a0_0x5de833;delete this[_0x34c4fe(0x5aa)],delete this[_0x34c4fe(0x1c3)],delete this[_0x34c4fe(0x24e)],delete this[_0x34c4fe(0x788)],delete this[_0x34c4fe(0x673)],_0x3b93cf();});var na=$?.[a0_0x5de833(0x47d)](hs[a0_0x5de833(0x40f)],ia,a0_0x5de833(0x629)),_=require(a0_0x5de833(0x1a3)),gs=require(a0_0x5de833(0x6cd)),Ve=class{},ca=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _[(a0_0x5de833(0x6b7))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new _[(a0_0x5de833(0x6b7))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5de833(0x62d)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5de833(0x649)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5de833(0x282)},'pollErrorMessage':{'type':String,'default':a0_0x5de833(0x11b)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _[(a0_0x5de833(0x6b7))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new _[(a0_0x5de833(0x6b7))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new _[(a0_0x5de833(0x6b7))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x5de833(0x6b7))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ar,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x31f8d6=a0_0x5de833;return _0x31f8d6(0x253)+Math[_0x31f8d6(0x64a)]()[_0x31f8d6(0x667)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x5de833(0x61e)](a0_0x5de833(0x62f),function(_0x314ace){const _0x189dc0=a0_0x5de833;let _0x572a7b=new Set(),_0x32f5db=new Set(this[_0x189dc0(0x453)]?.[_0x189dc0(0x4ba)](_0xa79870=>_0xa79870[_0x189dc0(0x40f)])),_0xd46a60=JSON[_0x189dc0(0x564)](this),_0x4fe4e7=/{{(?!_)([^}]*)}}/g,_0x10fe5a;for(;(_0x10fe5a=_0x4fe4e7['exec'](_0xd46a60))!==null;)_0x32f5db[_0x189dc0(0x3ad)](_0x10fe5a[0x1])||_0x572a7b[_0x189dc0(0x773)](_0x10fe5a[0x1]);_0x572a7b[_0x189dc0(0x33d)]>0x0?(console['warn'](_0x189dc0(0x4bb),Array[_0x189dc0(0x4a6)](_0x572a7b)),this['variablesNotFound']=Array[_0x189dc0(0x4a6)](_0x572a7b)):this[_0x189dc0(0x6c8)]=[],_0x314ace();}),ys[a0_0x5de833(0x61e)]('findOneAndUpdate',function(_0x3e5b1c){const _0x3194ae=a0_0x5de833;let _0x56734d=this['getUpdate']();if(_0x56734d&&typeof _0x56734d=='object'&&_0x3194ae(0x1da)in _0x56734d){let _0x248cc7=_0x56734d['$set'];if(_0x248cc7){let _0x4c2c8e=new Set(),_0x742013=new Set(_0x248cc7['variables']?.[_0x3194ae(0x4ba)](_0x327353=>_0x327353[_0x3194ae(0x40f)])),_0xccd540=JSON[_0x3194ae(0x564)](_0x248cc7),_0x9c419e=/{{(?!_)([^}]*)}}/g,_0x113ab6;for(;(_0x113ab6=_0x9c419e[_0x3194ae(0x571)](_0xccd540))!==null;)_0x742013['has'](_0x113ab6[0x1])||_0x4c2c8e['add'](_0x113ab6[0x1]);_0x4c2c8e['size']>0x0?(console[_0x3194ae(0x779)](_0x3194ae(0x4bb),Array[_0x3194ae(0x4a6)](_0x4c2c8e)),_0x248cc7[_0x3194ae(0x6c8)]=Array['from'](_0x4c2c8e)):_0x248cc7[_0x3194ae(0x6c8)]=[],this[_0x3194ae(0x766)]({'$set':_0x248cc7});}}_0x3e5b1c();});var pa=_0x2311ce=>{const _0x414d94=a0_0x5de833;let _0x14b06e='z_'+_0x2311ce+_0x414d94(0x3b2);return $?.[_0x414d94(0x47d)]('FlowModel',ys,_0x14b06e);},or=new _[(a0_0x5de833(0x6b7))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),rr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':or,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5de833(0x663)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x3da94f=>{const _0x57c6d3=a0_0x5de833;let _0xb7e850='z_'+_0x3da94f+_0x57c6d3(0x70f);return $?.[_0x57c6d3(0x47d)](_0x57c6d3(0x457),rr,_0xb7e850);},ir=new _[(a0_0x5de833(0x6b7))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),nr=new _[(a0_0x5de833(0x6b7))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),cr=new _[(a0_0x5de833(0x6b7))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x5de833(0x1c4)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':nr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ir],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x381a0e=>{const _0x53f183=a0_0x5de833;let _0x1a1846='z_'+_0x381a0e+'_ScheduleMessages';return $?.[_0x53f183(0x47d)](_0x53f183(0xfa),cr,_0x1a1846);},fs=class{},lr=new _[(a0_0x5de833(0x6b7))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ur=new _[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),dr=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5de833(0x705)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hr=new _[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pr]},'customFields':{'type':[ur]},'flowConfig':{'type':dr,'default':{}},'autoCompleteMessages':{'type':[lr],'default':[]}}),ve=$?.[a0_0x5de833(0x47d)](fs[a0_0x5de833(0x40f)],hr,a0_0x5de833(0x30d)),ma=require('mongoose'),gr=new ma[(a0_0x5de833(0x6b7))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x5d94b9=>{const _0x2d2c0e=a0_0x5de833;let _0x1b3f6a='z_'+_0x5d94b9+_0x2d2c0e(0x497);return $?.[_0x2d2c0e(0x47d)](_0x2d2c0e(0x3eb),gr,_0x1b3f6a);},x=class{constructor(_0x394242){const _0x2df320=a0_0x5de833;this[_0x2df320(0x448)]=_0x394242[_0x2df320(0x224)](_0x2df320(0xe9));}};function T(_0xc2659){const _0x2ac658=a0_0x5de833;let _0x56e99c={};for(let [_0x551dc1,_0x4c8769]of Object[_0x2ac658(0x286)](_0xc2659))if(typeof _0x4c8769==_0x2ac658(0x31d)&&!Array[_0x2ac658(0x529)](_0x4c8769)){for(let [_0x450de5,_0x4d0769]of Object[_0x2ac658(0x286)](_0x4c8769))_0x56e99c[_0x551dc1+'.'+_0x450de5]=_0x4d0769;}else _0x56e99c[_0x551dc1]=_0x4c8769;return _0x56e99c;}var Ge=class{constructor(_0x325c57,_0x4c688f,_0x3b5864,_0x134817,_0xae2174,_0x3c3b7a,_0x2d5442,_0x49bb8a,_0x26ea76,_0x4388e3,_0x3d0b88,_0x35ac57){const _0xb7f573=a0_0x5de833;this[_0xb7f573(0x37e)]=_0x325c57,this[_0xb7f573(0x5e6)]=_0x4c688f,this[_0xb7f573(0x432)]=_0x3b5864,this[_0xb7f573(0x428)]=_0x134817,this[_0xb7f573(0x629)]=_0xae2174,this[_0xb7f573(0x7a9)]=_0x3c3b7a,this['flow']=_0x2d5442,this[_0xb7f573(0x392)]=_0x49bb8a,this[_0xb7f573(0x702)]=_0x26ea76,this[_0xb7f573(0x556)]=_0x4388e3,this['automateSystem']=_0x3d0b88,this[_0xb7f573(0x364)]=_0x35ac57;}get[a0_0x5de833(0x2d4)](){return this['dbClient'];}},Be=class{},We=class extends x{['getMessageModelForOwner'](_0x4c828b){return sa(_0x4c828b);}async[a0_0x5de833(0x3e6)](_0x1d785d,_0x5d4fef){const _0x23ff3a=a0_0x5de833;if(_0x1d785d['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x23ff3a(0x6cc)](_0x5d4fef)[_0x23ff3a(0x10e)]([..._0x1d785d]))[_0x23ff3a(0x612)]};}catch(_0x555240){return _0x555240;}}async[a0_0x5de833(0x781)](_0x416b03,_0x93ff2c){const _0x3a5cf0=a0_0x5de833;try{let _0xf65704=this[_0x3a5cf0(0x6cc)](_0x93ff2c),_0x23e041=T(_0x416b03[_0x3a5cf0(0x171)]);return await _0xf65704[_0x3a5cf0(0x781)](_0x23e041)['sort']({'messageTimestamp':-0x1})[_0x3a5cf0(0x24c)](_0x416b03?.[_0x3a5cf0(0x24c)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x56611f,_0x2706f7){const _0x2ae95f=a0_0x5de833;try{let _0x326c1b=this['getMessageModelForOwner'](_0x2706f7),_0x4f2882=T(_0x56611f[_0x2ae95f(0x171)]);await _0x326c1b[_0x2ae95f(0x65b)](_0x4f2882);}catch(_0x253d49){console[_0x2ae95f(0x1b8)](_0x253d49);}}async[a0_0x5de833(0x5ba)](_0x3d00d8,_0x3f5b1b,_0x5aa0ed){const _0x254c93=a0_0x5de833;try{let _0x30d85f=this[_0x254c93(0x6cc)](_0x5aa0ed),_0x21aed2=T(_0x3d00d8[_0x254c93(0x171)]);return await _0x30d85f['findOneAndUpdate'](_0x21aed2,{'$set':_0x3f5b1b},{'new':!0x0});}catch(_0x146e84){throw console[_0x254c93(0x1b8)](_0x146e84),_0x146e84;}}async['insertMany'](_0x5cb735,_0x3d161a){const _0x3d1f8e=a0_0x5de833;if(_0x5cb735[_0x3d1f8e(0x612)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3d1f8e(0x6cc)](_0x3d161a)[_0x3d1f8e(0x10e)]([..._0x5cb735]))[_0x3d1f8e(0x612)]};}catch(_0x536ab8){return console[_0x3d1f8e(0x6c3)](_0x3d1f8e(0x109),_0x536ab8),_0x536ab8;}}async[a0_0x5de833(0x70e)](_0x243ffb){const _0x378906=a0_0x5de833;try{return await this['getMessageModelForOwner'](_0x243ffb)[_0x378906(0x163)][_0x378906(0x65c)](),{'success':!0x0};}catch(_0x47f07f){return console[_0x378906(0x1b8)](_0x47f07f),{'success':!0x1,'error':_0x47f07f};}}},As=O(require(a0_0x5de833(0x5d2))),f=O(require(a0_0x5de833(0x515))),xe=require('fs'),F=O(require(a0_0x5de833(0xb1))),K=O(require(a0_0x5de833(0x6bb))),Co=require(a0_0x5de833(0x6cd)),Eo=O(require(a0_0x5de833(0x521))),vo=O(require('qrcode-terminal')),wa=[a0_0x5de833(0x3fd),a0_0x5de833(0x235),a0_0x5de833(0x186),a0_0x5de833(0x417),a0_0x5de833(0x3cd)],ya=['ephemeralMessage',a0_0x5de833(0x48f),a0_0x5de833(0x73d),a0_0x5de833(0x615)],Os=require('os'),kt=O(require(a0_0x5de833(0xc0))),De=require(a0_0x5de833(0x2de)),Lt=require(a0_0x5de833(0x4b8)),re=O(require(a0_0x5de833(0x1a3))),k=require(a0_0x5de833(0x496)),ye=class{constructor(_0x477a07,_0x4bcab8,_0x328d1a){const _0x1579b2=a0_0x5de833;this[_0x1579b2(0xeb)]=_0x477a07,this['exists']=_0x4bcab8,this['name']=_0x328d1a;}},ze=class{},He=class{},Ne=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=O(require(a0_0x5de833(0x75b))),ba=require('fs'),Sa=require(a0_0x5de833(0xb1));async function Re(_0x4b949c){const _0x2d001f=a0_0x5de833;let _0x350033=G[_0x2d001f(0x3d5)][_0x4b949c];if(j[_0x2d001f(0x34e)]){let _0x528b82=$['getClient']()['db'](j[_0x2d001f(0x62b)][_0x2d001f(0x2a0)]+'-instances')['collection'](_0x4b949c);return _0x350033||(await _0x528b82[_0x2d001f(0x781)]({})[_0x2d001f(0x5dd)]())['length']>0x0;}return _0x350033||(0x0,ba['existsSync'])((0x0,Sa[_0x2d001f(0x52f)])(me,_0x4b949c));}async function Ma(_0x4318d4,_0x456ff5,_0x188580){const _0x5146e4=a0_0x5de833;if(_0x4318d4[_0x5146e4(0x13c)]['includes'](_0x5146e4(0x329))||_0x4318d4['originalUrl'][_0x5146e4(0x2d8)]('/instance/fetchInstances')||_0x4318d4[_0x5146e4(0x13c)]['includes'](_0x5146e4(0x47a))||_0x4318d4['originalUrl']['includes']('/config')||_0x4318d4[_0x5146e4(0x13c)]['includes'](_0x5146e4(0x43a))||_0x4318d4[_0x5146e4(0x13c)][_0x5146e4(0x2d8)](_0x5146e4(0x759))||_0x4318d4['originalUrl']['includes'](_0x5146e4(0x631)))return _0x188580();let _0x12881d=_0x4318d4[_0x5146e4(0x194)];if(!_0x12881d?.['instanceName'])throw new m(_0x5146e4(0x71b));if(!await Re(_0x12881d[_0x5146e4(0x198)]))throw new U(_0x5146e4(0x55f)+_0x12881d[_0x5146e4(0x198)]+_0x5146e4(0x248));_0x188580();}async function Ca(_0x4f16d1,_0x2a7d44,_0x216608){const _0x115516=a0_0x5de833;if(_0x4f16d1[_0x115516(0x13c)]['includes'](_0x115516(0x329))){let _0x21a243=_0x4f16d1['body'];if(await Re(_0x21a243['instanceName']))throw new Q('This\x20name\x20'+_0x21a243[_0x115516(0x198)]+'\x20is\x20already\x20in\x20use.');G[_0x115516(0x3d5)][_0x21a243['instanceName']]&&delete G['waInstances'][_0x21a243[_0x115516(0x198)]];}_0x216608();}var Ea=require('class-validator'),va=O(require(a0_0x5de833(0x3b0))),tt='uazapi',fr=new R(a0_0x5de833(0x1a7));async function wr(_0x5f009f,_0x15e71e,_0x2a4661){const _0x362fff=a0_0x5de833;let _0x3e0f69=_0x5f009f[_0x362fff(0x224)](_0x362fff(0x1ee));if(_0x3e0f69&&b[_0x362fff(0x224)](_0x362fff(0x260))[_0x362fff(0x60b)][_0x362fff(0x311)]!==_0x3e0f69)throw new se();if(b['get'](_0x362fff(0x260))[_0x362fff(0x60b)][_0x362fff(0x311)]===_0x3e0f69)return _0x2a4661();if((_0x5f009f[_0x362fff(0x13c)][_0x362fff(0x2d8)](_0x362fff(0x329))||_0x5f009f[_0x362fff(0x13c)][_0x362fff(0x2d8)]('/instance/fetchInstances'))&&!_0x3e0f69)throw new Q('Missing\x20global\x20api\x20key',_0x362fff(0x49f));let _0x48408=b[_0x362fff(0x224)](_0x362fff(0x260))['JWT'];try{let [_0x4cd9b0,_0x1fd07e]=_0x5f009f[_0x362fff(0x224)](_0x362fff(0x221))[_0x362fff(0x3a3)]('\x20');if(_0x4cd9b0['toLowerCase']()!==_0x362fff(0x4f2))throw new se();if(!(0x0,Ea[_0x362fff(0x2d7)])(_0x1fd07e))throw new se();let _0x3f4ae9=_0x5f009f[_0x362fff(0x194)],_0x36528e=va[_0x362fff(0x1a6)][_0x362fff(0x3ef)](_0x1fd07e,_0x48408['SECRET'],{'ignoreExpiration':_0x48408[_0x362fff(0xe8)]===0x0});if(_0x3f4ae9[_0x362fff(0x198)]!==_0x36528e['instanceName']||tt!==_0x36528e[_0x362fff(0x152)])throw new se();return _0x2a4661();}catch(_0x2e25b2){throw fr[_0x362fff(0x1b8)](_0x2e25b2),new se();}}async function yr(_0x1886a0,_0x1db5e3,_0x2e27f){const _0x294405=a0_0x5de833;let _0x14b63a=b[_0x294405(0x224)](_0x294405(0x260))[_0x294405(0x60b)],_0x46a0b6=_0x1886a0[_0x294405(0x224)](_0x294405(0x1ee));if(_0x14b63a[_0x294405(0x311)]===_0x46a0b6)return _0x2e27f();if(_0x1886a0[_0x294405(0x13c)][_0x294405(0x2d8)](_0x294405(0x329))){let _0x558e51=st,_0x1943bd=_0x1886a0[_0x294405(0x721)][_0x294405(0x198)];if(_0x558e51&&_0x1943bd[_0x294405(0x36d)]()['startsWith'](_0x558e51[_0x294405(0x36d)]()))return _0x2e27f();if(!_0x46a0b6)throw new Q(_0x294405(0x2dc),_0x294405(0x49f));}if(_0x1886a0[_0x294405(0x13c)][_0x294405(0x2d8)]('/instance/fetchInstances')&&!_0x46a0b6)throw new Q(_0x294405(0x2dc),_0x294405(0x49f));if(_0x1886a0['originalUrl'][_0x294405(0x2d8)]('/exit')&&!_0x46a0b6)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1886a0[_0x294405(0x13c)][_0x294405(0x2d8)]('/config')&&!_0x46a0b6)throw new Q(_0x294405(0x2dc),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x69d431=_0x1886a0[_0x294405(0x194)],_0x298bdc=await de[_0x294405(0x7a9)]['find'](_0x69d431[_0x294405(0x198)]);if(_0x298bdc&&_0x298bdc[_0x294405(0x1ee)]===_0x46a0b6)return _0x2e27f();}catch{}throw new se();}var Na={'jwt':wr,'apikey':yr},ro=require(a0_0x5de833(0x75b)),v=require(a0_0x5de833(0x6cd)),E=(..._0x491832)=>{const _0x3f0adc=a0_0x5de833;let _0x1560ea={};return _0x491832[_0x3f0adc(0x1b4)](_0x5de36d=>_0x1560ea[_0x5de36d]={'minLength':0x1,'description':_0x3f0adc(0x41e)+_0x5de36d+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x491832]}},'then':{'properties':_0x1560ea}};},N={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x5de833(0x1c0)}},...E('instanceName')},nc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0xef)],...E('oldToken')},cc={'properties':{'key':{'type':a0_0x5de833(0x31d),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5de833(0x1c0)},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5de833(0x572),a0_0x5de833(0x3ce)],...E('id',a0_0x5de833(0x572))},'message':{'type':a0_0x5de833(0x31d)}}},Y={'properties':{'delay':{'type':'integer','description':a0_0x5de833(0xb5)},'presence':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x664),a0_0x5de833(0x5c7),a0_0x5de833(0x456),'recording','paused']}}},z={'type':a0_0x5de833(0x1c0),'description':'Invalid\x20format'},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x5de833(0x31d),'properties':{'text':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x1d2)],...E(a0_0x5de833(0x1d2))}},'required':[a0_0x5de833(0x232),a0_0x5de833(0x256)]},$a={'type':a0_0x5de833(0x1c0),'pattern':a0_0x5de833(0x683),'description':a0_0x5de833(0x35f)},lc={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...$a},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x1d2)],...E('text')}},'required':[a0_0x5de833(0x232),a0_0x5de833(0x256)]},uc={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...$a},'options':{...Y},'mediaMessage':{'type':a0_0x5de833(0x31d),'properties':{'mediatype':{'type':a0_0x5de833(0x1c0),'enum':['image',a0_0x5de833(0x44a),'video','audio']},'media':{'type':a0_0x5de833(0x1c0)},'fileName':{'type':'string'},'caption':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x445),'media'],...E(a0_0x5de833(0x73a),'caption',a0_0x5de833(0xd6))}},'required':[a0_0x5de833(0x21a),a0_0x5de833(0x256)]},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x5de833(0x31d),'properties':{'image':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x472)],...E(a0_0x5de833(0x472))}},'required':['stickerMessage','number']},Oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x5de833(0x31d),'properties':{'type':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x1d2),a0_0x5de833(0x472),a0_0x5de833(0x5f6),'video']},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x5de833(0x1c0)},'font':{'type':a0_0x5de833(0x50e),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x1c0),'pattern':a0_0x5de833(0xee),'description':a0_0x5de833(0x6f7)}},'allContacts':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':[a0_0x5de833(0x300),a0_0x5de833(0x6ae)],...E(a0_0x5de833(0x300),a0_0x5de833(0x6ae))}},'required':[a0_0x5de833(0x304)]},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x5de833(0x31d),'properties':{'mediatype':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x472),'document',a0_0x5de833(0x635),'audio']},'media':{'type':a0_0x5de833(0x1c0)},'fileName':{'type':a0_0x5de833(0x1c0)},'caption':{'type':'string'}},'required':[a0_0x5de833(0x445),a0_0x5de833(0xd6)],...E(a0_0x5de833(0x73a),a0_0x5de833(0x156),a0_0x5de833(0xd6))}},'required':[a0_0x5de833(0x21a),a0_0x5de833(0x256)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x5de833(0x31d),'properties':{'audio':{'type':'string'}},'required':[a0_0x5de833(0x5f6)],...E(a0_0x5de833(0x5f6))}},'required':[a0_0x5de833(0x186),a0_0x5de833(0x256)]},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x5de833(0x31d),'properties':{'name':{'type':a0_0x5de833(0x1c0)},'selectableCount':{'type':'number'},'values':{'type':a0_0x5de833(0x61c),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5de833(0x40f),a0_0x5de833(0x710),a0_0x5de833(0x52b)],...E(a0_0x5de833(0x40f),a0_0x5de833(0x710),a0_0x5de833(0x52b))}},'required':['number','pollMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'menuMessage':{'type':a0_0x5de833(0x31d),'properties':{'text':{'type':a0_0x5de833(0x1c0)},'choices':{'type':a0_0x5de833(0x61c),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5de833(0x1d2),'choices'],...E(a0_0x5de833(0x1d2),'choices')}},'required':[a0_0x5de833(0x256),'menuMessage']},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x5de833(0x31d),'properties':{'title':{'type':a0_0x5de833(0x1c0)},'description':{'type':a0_0x5de833(0x1c0)},'footerText':{'type':a0_0x5de833(0x1c0)},'buttons':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x31d),'properties':{'buttonText':{'type':a0_0x5de833(0x1c0)},'buttonId':{'type':'string'}},'required':[a0_0x5de833(0x26a),'buttonId'],...E(a0_0x5de833(0x26a),'buttonId')}},'mediaMessage':{'type':a0_0x5de833(0x31d),'properties':{'media':{'type':a0_0x5de833(0x1c0)},'fileName':{'type':a0_0x5de833(0x1c0)},'mediatype':{'type':'string','enum':[a0_0x5de833(0x472),'document','video']}},'required':[a0_0x5de833(0xd6),a0_0x5de833(0x445)],...E(a0_0x5de833(0xd6),a0_0x5de833(0x73a))}},'required':[a0_0x5de833(0x628),a0_0x5de833(0x16b)],...E('title',a0_0x5de833(0x3d9))}},'required':[a0_0x5de833(0x256),a0_0x5de833(0x696)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x5de833(0x31d),'properties':{'latitude':{'type':a0_0x5de833(0x256)},'longitude':{'type':a0_0x5de833(0x256)},'name':{'type':a0_0x5de833(0x1c0)},'address':{'type':'string'}},'required':[a0_0x5de833(0x6ef),'longitude'],...E('name',a0_0x5de833(0x36a))}},'required':[a0_0x5de833(0x256),a0_0x5de833(0x45f)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x5de833(0x31d),'properties':{'title':{'type':a0_0x5de833(0x1c0)},'description':{'type':'string'},'footerText':{'type':a0_0x5de833(0x1c0)},'buttonText':{'type':a0_0x5de833(0x1c0)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x31d),'properties':{'title':{'type':a0_0x5de833(0x1c0)},'rows':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x31d),'properties':{'title':{'type':'string'},'description':{'type':'string'},'rowId':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x628),a0_0x5de833(0x5a1)],...E(a0_0x5de833(0x628),'rowId')}}},'required':[a0_0x5de833(0x628),'rows'],...E(a0_0x5de833(0x628))}}},'required':[a0_0x5de833(0x628),a0_0x5de833(0x3d9),a0_0x5de833(0x26a),a0_0x5de833(0x796)],...E(a0_0x5de833(0x628),a0_0x5de833(0x3d9),'buttonText',a0_0x5de833(0x703))}},'required':[a0_0x5de833(0x256),a0_0x5de833(0x2af)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x5de833(0x61c),'items':{'type':a0_0x5de833(0x31d),'properties':{'fullName':{'type':a0_0x5de833(0x1c0)},'phoneNumber':{'type':a0_0x5de833(0x1c0),'minLength':0xa}},'required':[a0_0x5de833(0x2e4),'phoneNumber'],...E(a0_0x5de833(0x2e4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5de833(0x256),'contactMessage']},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x5de833(0x31d),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5de833(0x1c0)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5de833(0x572),a0_0x5de833(0x3ce)],...E('id',a0_0x5de833(0x572))},'reaction':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x298),a0_0x5de833(0x5ec)],...E(a0_0x5de833(0x5ec))}},'required':[a0_0x5de833(0x68c)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'numbers':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x1c0),'pattern':a0_0x5de833(0xee),'description':a0_0x5de833(0x6e9)}}}},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5de833(0x1c0)},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5de833(0x1c0)}},'required':['id',a0_0x5de833(0x3ce),a0_0x5de833(0x572)],...E('id',a0_0x5de833(0x572))}}},'required':[a0_0x5de833(0x42c)]},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x110),a0_0x5de833(0x1a4)]},'profile':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x110),'contacts',a0_0x5de833(0xd9),'none']},'status':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x110),a0_0x5de833(0x5c0),a0_0x5de833(0xd9),a0_0x5de833(0x1a4)]},'online':{'type':a0_0x5de833(0x1c0),'enum':['all',a0_0x5de833(0x2df)]},'last':{'type':'string','enum':['all','contacts',a0_0x5de833(0xd9),a0_0x5de833(0x1a4)]},'groupadd':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x110),'contacts',a0_0x5de833(0xd9),a0_0x5de833(0x1a4)]}},'required':[a0_0x5de833(0x4fa),a0_0x5de833(0x724),'status',a0_0x5de833(0x4c5),a0_0x5de833(0x29e),'groupadd'],...E('readreceipts',a0_0x5de833(0x724),a0_0x5de833(0x620),a0_0x5de833(0x4c5),'last',a0_0x5de833(0x583))}},'required':['privacySettings']},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x5de833(0x31d),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5de833(0x1c0)},'remoteJid':{'type':a0_0x5de833(0x1c0)},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x5de833(0x572)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x5de833(0x50e),'minLength':0x1}},'required':[a0_0x5de833(0x298)],...E('messageTimestamp')},'archive':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x5de833(0x2e3)]},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x5de833(0x1c0)},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5de833(0x1c0)},'participant':{'type':a0_0x5de833(0x1c0)}},'required':['id','fromMe',a0_0x5de833(0x572)],...E('id',a0_0x5de833(0x572),'participant')},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'where':{'type':a0_0x5de833(0x31d),'properties':{'_id':{'type':a0_0x5de833(0x1c0),'minLength':0x1},'pushName':{'type':a0_0x5de833(0x1c0),'minLength':0x1},'id':{'type':a0_0x5de833(0x1c0),'minLength':0x1}},...E(a0_0x5de833(0x478),'id',a0_0x5de833(0x438))}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'name':{'type':'string'}},...E(a0_0x5de833(0x40f))},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':'string'}},...E(a0_0x5de833(0x620))},$e={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{'type':a0_0x5de833(0x1c0)},'picture':{'type':a0_0x5de833(0x1c0)}}},za={'type':a0_0x5de833(0x31d),'properties':{'wuid':{'type':a0_0x5de833(0x1c0)},'name':{'type':a0_0x5de833(0x1c0)},'picture':{'type':a0_0x5de833(0x1c0)},'status':{'type':a0_0x5de833(0x1c0)},'isBusiness':{'type':'boolean'}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5de833(0x1c0),'minLength':0x1},'key':{'type':a0_0x5de833(0x31d),'if':{'propertyNames':{'enum':[a0_0x5de833(0x3ce),a0_0x5de833(0x572),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x5de833(0x5c5)},'id':{'type':a0_0x5de833(0x1c0),'minLength':0x1,'description':a0_0x5de833(0x5c5)},'fromMe':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5de833(0x31d)}},...E(a0_0x5de833(0x478))},'limit':{'type':'integer'}}},dc={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5de833(0x1c0)},'remoteJid':{'type':a0_0x5de833(0x1c0)},'id':{'type':a0_0x5de833(0x1c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x5de833(0x1c0)},'status':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x54c),a0_0x5de833(0x641),'SERVER_ACK','DELIVERY_ACK',a0_0x5de833(0x29d),'PLAYED']}},...E(a0_0x5de833(0x478),a0_0x5de833(0x572),'id','status')},'limit':{'type':a0_0x5de833(0x50e)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'number':{...z},'presence':{'type':a0_0x5de833(0x1c0),'enum':[a0_0x5de833(0x664),'available',a0_0x5de833(0x456),'recording',a0_0x5de833(0x679)]}},'required':[a0_0x5de833(0x763),'number']},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'subject':{'type':a0_0x5de833(0x1c0)},'description':{'type':a0_0x5de833(0x1c0)},'profilePicture':{'type':a0_0x5de833(0x1c0)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x1c0),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x5de833(0x730)}}},'required':[a0_0x5de833(0x441),'participants'],...E(a0_0x5de833(0x441),a0_0x5de833(0x3d9),a0_0x5de833(0x30a))},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0),'pattern':a0_0x5de833(0x524)}},'required':[a0_0x5de833(0x502)],...E(a0_0x5de833(0x502))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'action':{'type':a0_0x5de833(0x1c0),'enum':['add',a0_0x5de833(0x2ea),a0_0x5de833(0x3e2),a0_0x5de833(0x2b6),a0_0x5de833(0x238),'approve']},'participants':{'type':a0_0x5de833(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5de833(0x1c0),'minLength':0xa,'pattern':a0_0x5de833(0xb0),'description':a0_0x5de833(0x730)}}},'required':[a0_0x5de833(0x502),a0_0x5de833(0x403),a0_0x5de833(0x762)],...E(a0_0x5de833(0x502),'action')},Xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'expiration':{'type':a0_0x5de833(0x256),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5de833(0x502),'expiration'],...E(a0_0x5de833(0x502),a0_0x5de833(0x347))},Za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'image':{'type':a0_0x5de833(0x1c0)}},'required':['groupJid',a0_0x5de833(0x472)],...E(a0_0x5de833(0x502),'image')},eo={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'description':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x502),a0_0x5de833(0x3d9)],...E(a0_0x5de833(0x502),a0_0x5de833(0x3d9))},to={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'name':{'type':a0_0x5de833(0x1c0)}},'required':[a0_0x5de833(0x502),a0_0x5de833(0x40f)],...E('groupJid',a0_0x5de833(0x40f))},so={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'setting':{'type':'string','enum':[a0_0x5de833(0x377),a0_0x5de833(0x54d),a0_0x5de833(0x2dd),a0_0x5de833(0x749)]}},'required':[a0_0x5de833(0x502),a0_0x5de833(0xe0)],...E(a0_0x5de833(0x502),a0_0x5de833(0xe0))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'groupJid':{'type':a0_0x5de833(0x1c0)},'restrict':{'type':a0_0x5de833(0x618)},'announce':{'type':a0_0x5de833(0x618)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x5de833(0x618)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x5de833(0x1c0)},'description':{'type':a0_0x5de833(0x1c0)},'image':{'type':a0_0x5de833(0x1c0)}}},bs={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'inviteCode':{'type':a0_0x5de833(0x1c0)}},'required':['inviteCode'],...E(a0_0x5de833(0x251))},oo={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'url':{'type':a0_0x5de833(0x1c0)},'enabled':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':[a0_0x5de833(0x75f),a0_0x5de833(0x4a9)]},pc={'$id':(0x0,v['v4'])(),'type':a0_0x5de833(0x31d),'properties':{'local_map':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5de833(0x618),'enum':[!0x0,!0x1]}},'required':[a0_0x5de833(0x3ab),'STATUS_INSTANCE',a0_0x5de833(0x15c),a0_0x5de833(0x23e),a0_0x5de833(0x299),a0_0x5de833(0x28b),a0_0x5de833(0x4ac),a0_0x5de833(0x3a4),a0_0x5de833(0x4f4),a0_0x5de833(0x35d),a0_0x5de833(0xa5),'CHATS_SET',a0_0x5de833(0x31f),a0_0x5de833(0x58b),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x5de833(0x513),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x5de833(0x3ab),a0_0x5de833(0x3c5),a0_0x5de833(0x15c),a0_0x5de833(0x23e),a0_0x5de833(0x299),'MESSAGES_UPSERT',a0_0x5de833(0x4ac),'CONTACTS_SET',a0_0x5de833(0x4f4),a0_0x5de833(0x35d),a0_0x5de833(0xa5),a0_0x5de833(0xa0),a0_0x5de833(0x31f),a0_0x5de833(0x58b),a0_0x5de833(0x3f7),a0_0x5de833(0x1d3),a0_0x5de833(0x513),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},at=class{},ot=class extends x{['getContactModelForOwner'](_0x1a7c8b){return Xs(_0x1a7c8b);}async[a0_0x5de833(0x3e6)](_0x4076ef){const _0x4c80d0=a0_0x5de833;if(_0x4076ef[_0x4c80d0(0x612)]!==0x0)try{return{'insertCount':(await this[_0x4c80d0(0x2fe)](_0x4076ef[0x0][_0x4c80d0(0x215)])[_0x4c80d0(0x10e)]([..._0x4076ef]))['length']};}catch(_0x52a8a1){return _0x52a8a1;}}async[a0_0x5de833(0xb9)](_0x165e5a,_0x573e89){const _0x435788=a0_0x5de833;try{return{'deletedCount':(await this[_0x435788(0x2fe)](_0x573e89)[_0x435788(0x65b)]({..._0x165e5a['where']}))[_0x435788(0x71d)]};}catch(_0x51bff6){return{'error':_0x51bff6?.['toString']()};}}async[a0_0x5de833(0x5ba)](_0x55b391,_0x310280){const _0x1c3af9=a0_0x5de833;try{if(_0x55b391[_0x1c3af9(0x612)]===0x0)return;let _0x112668=this[_0x1c3af9(0x2fe)](_0x310280),_0x4f78f4=_0x55b391[_0x1c3af9(0x4ba)](_0xf527fc=>({'updateOne':{'filter':{'_id':_0xf527fc[_0x1c3af9(0x478)],'owner':_0x310280},'update':{..._0xf527fc}}})),{modifiedCount:_0x158c73}=await _0x112668[_0x1c3af9(0x669)](_0x4f78f4);return{'insertCount':_0x158c73};}catch{return;}}async['find'](_0x348986,_0x17999f){const _0xe31a03=a0_0x5de833;try{let _0x35de5f=this[_0xe31a03(0x2fe)](_0x17999f),_0x3a18d1=T(_0x348986[_0xe31a03(0x171)]);return await _0x35de5f[_0xe31a03(0x781)](_0x3a18d1)[_0xe31a03(0x24c)](_0x348986?.[_0xe31a03(0x24c)]??0x0)[_0xe31a03(0x1f8)]();}catch{return[];}}async[a0_0x5de833(0x782)](_0x4ba2af,_0x5e1ce2){const _0x23b9f6=a0_0x5de833;try{let _0x3e8897=this['getContactModelForOwner'](_0x5e1ce2),_0x3d55f7=T(_0x4ba2af[_0x23b9f6(0x171)]);return await _0x3e8897[_0x23b9f6(0x782)](_0x3d55f7)[_0x23b9f6(0x1f8)]();}catch{return null;}}async[a0_0x5de833(0x70e)](_0x505b50){const _0x2ccedb=a0_0x5de833;try{return await this[_0x2ccedb(0x2fe)](_0x505b50)[_0x2ccedb(0x163)][_0x2ccedb(0x65c)](),{'success':!0x0};}catch(_0x1d4e3c){return console['error'](_0x1d4e3c),{'success':!0x1,'error':_0x1d4e3c};}}},rt=require('jsonschema'),Mc=require(a0_0x5de833(0x1e2)),Ss=new R(a0_0x5de833(0x723)),V=class{[a0_0x5de833(0x160)](_0x111282,_0x587b11=!0x0){const _0x4819dc=a0_0x5de833;let _0x3f83cd='/'+_0x111282;return _0x587b11&&(_0x3f83cd+=_0x4819dc(0x693)),_0x3f83cd;}async[a0_0x5de833(0x51d)](_0x37fcfe){const _0x788760=a0_0x5de833;let {request:_0x1f00c2,schema:_0xb0a764,ClassRef:_0x1cdae0,execute:_0x43039c}=_0x37fcfe,_0x397319=new _0x1cdae0(),_0x2b865e=_0x1f00c2[_0x788760(0x721)],_0x8cccea=_0x1f00c2['params'];_0x1f00c2?.[_0x788760(0x745)]&&Object[_0x788760(0x4a0)](_0x1f00c2['query'])['length']>0x0&&Object[_0x788760(0x22c)](_0x8cccea,_0x1f00c2[_0x788760(0x745)]),_0x1f00c2['originalUrl'][_0x788760(0x2d8)](_0x788760(0x329))&&Object[_0x788760(0x22c)](_0x8cccea,_0x2b865e),Object[_0x788760(0x22c)](_0x397319,_0x2b865e);let _0x19e364=_0xb0a764?(0x0,rt[_0x788760(0x9f)])(_0x397319,_0xb0a764):{'valid':!0x0,'errors':[]};if(!_0x19e364['valid']){let _0x158749=_0x19e364['errors']['map'](({property:_0x430c80,stack:_0x6d9192,schema:_0x448ced})=>{const _0x260678=_0x788760;let _0xa586e3;return _0x448ced[_0x260678(0x3d9)]?_0xa586e3=_0x448ced[_0x260678(0x3d9)]:_0xa586e3=_0x6d9192[_0x260678(0x25a)]('instance.',''),{'property':_0x430c80['replace'](_0x260678(0x747),''),'message':_0xa586e3};});throw Ss['error']([..._0x158749]),new m(..._0x158749);}return await _0x43039c(_0x8cccea,_0x397319);}async[a0_0x5de833(0x320)](_0x23e992){const _0x54c72f=a0_0x5de833;let {request:_0x64d509,ClassRef:_0x86a1a,schema:_0x5cde5e,execute:_0x154102}=_0x23e992,_0x1e43f7=_0x64d509[_0x54c72f(0x745)];if(!_0x1e43f7?.[_0x54c72f(0x502)])throw new m(_0x54c72f(0x5b3),_0x54c72f(0x3a7));let _0x48999c=_0x64d509[_0x54c72f(0x194)],_0x371855=_0x64d509['body'],_0x5d1ab5=new _0x86a1a();Object[_0x54c72f(0x22c)](_0x371855,_0x1e43f7),Object[_0x54c72f(0x22c)](_0x5d1ab5,_0x371855);let _0x1c08a2=(0x0,rt[_0x54c72f(0x9f)])(_0x5d1ab5,_0x5cde5e);if(!_0x1c08a2['valid']){let _0x7add13=_0x1c08a2[_0x54c72f(0x1f6)][_0x54c72f(0x4ba)](({property:_0x2dcb8d,stack:_0x45365d,schema:_0x1a0539})=>{const _0x75a714=_0x54c72f;let _0x2e7170;return _0x1a0539[_0x75a714(0x3d9)]?_0x2e7170=_0x1a0539[_0x75a714(0x3d9)]:_0x2e7170=_0x45365d[_0x75a714(0x25a)](_0x75a714(0x747),''),{'property':_0x2dcb8d[_0x75a714(0x25a)]('instance.',''),'message':_0x2e7170};});throw Ss[_0x54c72f(0x1b8)]([..._0x7add13]),new m(..._0x7add13);}return await _0x154102(_0x48999c,_0x5d1ab5);}async[a0_0x5de833(0xdd)](_0x5abe76){const _0x3b665f=a0_0x5de833;let {request:_0x51b13f,ClassRef:_0x2bc9b0,schema:_0x2e3861,execute:_0x1f8fc7}=_0x5abe76,_0x91fc05=_0x51b13f[_0x3b665f(0x721)];if(!_0x91fc05?.[_0x3b665f(0x251)])throw new m(_0x3b665f(0x3e0),_0x3b665f(0xdf));let _0x2b3e52=_0x51b13f[_0x3b665f(0x194)],_0x370cb7=_0x51b13f['body'],_0x3d325a=new _0x2bc9b0();Object[_0x3b665f(0x22c)](_0x370cb7,_0x91fc05),Object['assign'](_0x3d325a,_0x370cb7);let _0x22c2bc=(0x0,rt[_0x3b665f(0x9f)])(_0x3d325a,_0x2e3861);if(!_0x22c2bc[_0x3b665f(0x447)]){let _0x2f1e49=_0x22c2bc['errors'][_0x3b665f(0x4ba)](({property:_0xdc290a,stack:_0x991968,schema:_0x4c8d27})=>{const _0x51c9c3=_0x3b665f;let _0x2322d0;return _0x4c8d27[_0x51c9c3(0x3d9)]?_0x2322d0=_0x4c8d27[_0x51c9c3(0x3d9)]:_0x2322d0=_0x991968[_0x51c9c3(0x25a)](_0x51c9c3(0x747),''),{'property':_0xdc290a[_0x51c9c3(0x25a)]('instance.',''),'message':_0x2322d0};});throw Ss[_0x3b665f(0x1b8)]([..._0x2f1e49]),new m(..._0x2f1e49);}return await _0x1f8fc7(_0x2b3e52,_0x3d325a);}},C=class{},kc=new R(a0_0x5de833(0x60c)),it=class extends V{constructor(..._0x383cb4){const _0x46db6d=a0_0x5de833;super(),this[_0x46db6d(0x2bc)]=(0x0,ro['Router'])(),this[_0x46db6d(0x2bc)][_0x46db6d(0xfd)](this[_0x46db6d(0x160)](_0x46db6d(0x550)),..._0x383cb4,async(_0xb5952a,_0x572223)=>{const _0x10bd55=_0x46db6d;let _0x4b38d6=await this[_0x10bd55(0x51d)]({'request':_0xb5952a,'schema':Ka,'ClassRef':ze,'execute':(_0x4febe8,_0x24eb64)=>P[_0x10bd55(0x550)](_0x4febe8,_0x24eb64)});return _0x572223[_0x10bd55(0x620)](0xc9)[_0x10bd55(0x21c)](_0x4b38d6);})['post'](this['routerPath'](_0x46db6d(0x129)),..._0x383cb4,async(_0x2ac7e9,_0x5cb0b2)=>{const _0xdd321d=_0x46db6d;let _0x1dc073=await this['dataValidate']({'request':_0x2ac7e9,'schema':Fa,'ClassRef':He,'execute':(_0x2ba89e,_0x1d5c68)=>P[_0xdd321d(0x12d)](_0x2ba89e,_0x1d5c68)});return _0x5cb0b2[_0xdd321d(0x620)](0xc9)[_0xdd321d(0x21c)](_0x1dc073);})[_0x46db6d(0xfd)](this[_0x46db6d(0x160)]('editChat'),..._0x383cb4,async(_0x428560,_0x4fc611)=>{const _0x58473=_0x46db6d;let _0x187cfb=await this['dataValidate']({'request':_0x428560,'schema':N,'ClassRef':C,'execute':(_0xc3b6be,_0x4d3069)=>P[_0x58473(0x462)](_0xc3b6be,_0x4d3069)});return _0x4fc611['status'](0xc9)['json'](_0x187cfb);})[_0x46db6d(0x25c)](this[_0x46db6d(0x160)](_0x46db6d(0x181)),..._0x383cb4,async(_0x333649,_0x418c15)=>{const _0x178ebb=_0x46db6d;let _0x27d08c=await this[_0x178ebb(0x51d)]({'request':_0x333649,'schema':Ja,'ClassRef':Ye,'execute':(_0x3b7ab6,_0xefd0a0)=>P[_0x178ebb(0x718)](_0x3b7ab6,_0xefd0a0)});return _0x418c15[_0x178ebb(0x620)](0xc9)[_0x178ebb(0x21c)](_0x27d08c);})['put'](this[_0x46db6d(0x160)](_0x46db6d(0x349)),..._0x383cb4,async(_0x5aec3c,_0x3416e5)=>{const _0x23145c=_0x46db6d;let _0x2d09fc=await this['dataValidate']({'request':_0x5aec3c,'schema':qa,'ClassRef':Xe,'execute':(_0x2ceac2,_0x26613e)=>P[_0x23145c(0x349)](_0x2ceac2,_0x26613e)});return _0x3416e5[_0x23145c(0x620)](0xc9)['json'](_0x2d09fc);})[_0x46db6d(0xb9)](this[_0x46db6d(0x160)]('deleteMessageForEveryone'),..._0x383cb4,async(_0x1504fc,_0x437dee)=>{const _0x881eff=_0x46db6d;let _0x3214ec=await this[_0x881eff(0x51d)]({'request':_0x1504fc,'schema':Va,'ClassRef':et,'execute':(_0x37e1d7,_0x170a6e)=>P[_0x881eff(0x1cc)](_0x37e1d7,_0x170a6e)});return _0x437dee[_0x881eff(0x620)](0xc9)[_0x881eff(0x21c)](_0x3214ec);})[_0x46db6d(0xfd)](this['routerPath'](_0x46db6d(0x489)),..._0x383cb4,async(_0x3c4bba,_0x400250)=>{const _0x287458=_0x46db6d;let _0x161960=await this['dataValidate']({'request':_0x3c4bba,'schema':$e,'ClassRef':Ne,'execute':(_0x23cc24,_0x25104a)=>P[_0x287458(0x63c)](_0x23cc24,_0x25104a)});return _0x400250['status'](0xc8)['json'](_0x161960);})['post'](this[_0x46db6d(0x160)](_0x46db6d(0x56f)),..._0x383cb4,async(_0x338b08,_0x439d46)=>{const _0x2f010e=_0x46db6d;let _0x2d531a=await this[_0x2f010e(0x51d)]({'request':_0x338b08,'schema':za,'ClassRef':Ne,'execute':(_0x4c627b,_0x3e8b29)=>P[_0x2f010e(0x56f)](_0x4c627b,_0x3e8b29)});return _0x439d46[_0x2f010e(0x620)](0xc8)[_0x2f010e(0x21c)](_0x2d531a);})[_0x46db6d(0xfd)](this['routerPath'](_0x46db6d(0x6b3)),..._0x383cb4,async(_0x9577d6,_0x499990)=>{const _0xe8e3eb=_0x46db6d;let _0x4263de=await this[_0xe8e3eb(0x51d)]({'request':_0x9577d6,'schema':Ga,'ClassRef':at,'execute':(_0x20d926,_0xef2636)=>P[_0xe8e3eb(0x6e7)](_0x20d926,_0xef2636)});return _0x499990[_0xe8e3eb(0x620)](0xc8)[_0xe8e3eb(0x21c)](_0x4263de);})['post'](this[_0x46db6d(0x160)]('getBase64FromMediaMessage'),..._0x383cb4,async(_0x397f7a,_0x51433d)=>{const _0x413058=_0x46db6d;let _0x17daea=await this[_0x413058(0x51d)]({'request':_0x397f7a,'schema':null,'ClassRef':Object,'execute':(_0x555f7c,_0x136f4b)=>P['getBase64FromMediaMessage'](_0x555f7c,_0x136f4b)});return _0x51433d[_0x413058(0x620)](0xc9)[_0x413058(0x21c)](_0x17daea);})[_0x46db6d(0xfd)](this['routerPath'](_0x46db6d(0x6e6)),..._0x383cb4,async(_0xdde488,_0x2eeaaf)=>{const _0x284fa0=_0x46db6d;let _0x2837dd=await this[_0x284fa0(0x51d)]({'request':_0xdde488,'schema':Ha,'ClassRef':Be,'execute':(_0x17d3dd,_0x28dcb5)=>P['fetchMessages'](_0x17d3dd,_0x28dcb5)});return _0x2eeaaf[_0x284fa0(0x620)](0xc8)[_0x284fa0(0x21c)](_0x2837dd);})['get'](this['routerPath']('findChats'),..._0x383cb4,async(_0x40f52a,_0x1d5dd5)=>{const _0x467277=_0x46db6d;let _0xe83fa6=await this[_0x467277(0x51d)]({'request':_0x40f52a,'schema':null,'ClassRef':C,'execute':_0xcf297d=>P['fetchChats'](_0xcf297d)});return _0x1d5dd5['status'](0xc8)[_0x467277(0x21c)](_0xe83fa6);})['get'](this[_0x46db6d(0x160)](_0x46db6d(0x343)),..._0x383cb4,async(_0x27f270,_0x2a7624)=>{const _0x43b5d4=_0x46db6d;let _0xdde218=await this[_0x43b5d4(0x51d)]({'request':_0x27f270,'schema':null,'ClassRef':C,'execute':_0x2e0018=>P[_0x43b5d4(0x167)](_0x2e0018)});return _0x2a7624[_0x43b5d4(0x620)](0xc8)[_0x43b5d4(0x21c)](_0xdde218);})[_0x46db6d(0x25c)](this[_0x46db6d(0x160)]('importChats'),..._0x383cb4,async(_0x3075eb,_0x436ccf)=>{const _0x48baa7=_0x46db6d;let _0x4edca0=await this[_0x48baa7(0x51d)]({'request':_0x3075eb,'schema':null,'ClassRef':Array,'execute':(_0x393bd2,_0x24ca74)=>P[_0x48baa7(0x177)](_0x393bd2,_0x24ca74)});return _0x436ccf[_0x48baa7(0x620)](0xc8)[_0x48baa7(0x21c)](_0x4edca0);})['get'](this[_0x46db6d(0x160)](_0x46db6d(0x120)),..._0x383cb4,async(_0x389d0a,_0x4f1614)=>{const _0x5b421a=_0x46db6d;let _0x563ebe=await this[_0x5b421a(0x51d)]({'request':_0x389d0a,'schema':null,'ClassRef':C,'execute':_0x10948e=>P['fetchPrivacySettings'](_0x10948e)});return _0x4f1614[_0x5b421a(0x620)](0xc8)[_0x5b421a(0x21c)](_0x563ebe);})[_0x46db6d(0x25c)](this[_0x46db6d(0x160)]('updatePrivacySettings'),..._0x383cb4,async(_0x239b79,_0x219f66)=>{const _0x376ae0=_0x46db6d;let _0x3c312a=await this['dataValidate']({'request':_0x239b79,'schema':Ua,'ClassRef':Ze,'execute':(_0x29452f,_0x3c5f2c)=>P['updatePrivacySettings'](_0x29452f,_0x3c5f2c)});return _0x219f66[_0x376ae0(0x620)](0xc9)[_0x376ae0(0x21c)](_0x3c312a);})[_0x46db6d(0xfd)](this[_0x46db6d(0x160)](_0x46db6d(0xc4)),..._0x383cb4,async(_0x215e61,_0x55336b)=>{const _0x8e00ff=_0x46db6d;let _0x43e301=await this[_0x8e00ff(0x51d)]({'request':_0x215e61,'schema':$e,'ClassRef':be,'execute':(_0x4f9595,_0x5dd194)=>P['fetchBusinessProfile'](_0x4f9595,_0x5dd194)});return _0x55336b[_0x8e00ff(0x620)](0xc8)[_0x8e00ff(0x21c)](_0x43e301);})['post'](this[_0x46db6d(0x160)](_0x46db6d(0x367)),..._0x383cb4,async(_0x5d2bce,_0x5c3890)=>{const _0x24c132=_0x46db6d;let _0x5e86f7=await this['dataValidate']({'request':_0x5d2bce,'schema':Ba,'ClassRef':Ke,'execute':(_0x176a62,_0x233aa3)=>P['updateProfileName'](_0x176a62,_0x233aa3)});return _0x5c3890[_0x24c132(0x620)](0xc8)['json'](_0x5e86f7);})[_0x46db6d(0xfd)](this[_0x46db6d(0x160)](_0x46db6d(0x736)),..._0x383cb4,async(_0x58c5c2,_0x5adbe6)=>{const _0x1d716b=_0x46db6d;let _0x4d2367=await this[_0x1d716b(0x51d)]({'request':_0x58c5c2,'schema':Wa,'ClassRef':Qe,'execute':(_0xe3e726,_0x2e1e90)=>P[_0x1d716b(0x736)](_0xe3e726,_0x2e1e90)});return _0x5adbe6[_0x1d716b(0x620)](0xc8)[_0x1d716b(0x21c)](_0x4d2367);})[_0x46db6d(0x25c)](this['routerPath'](_0x46db6d(0x6ac)),..._0x383cb4,async(_0x1ef218,_0x49fa08)=>{const _0x33e1d3=_0x46db6d;let _0x23ba4a=await this[_0x33e1d3(0x51d)]({'request':_0x1ef218,'schema':$e,'ClassRef':be,'execute':(_0x427d0c,_0x15bfee)=>P[_0x33e1d3(0x6ac)](_0x427d0c,_0x15bfee)});return _0x49fa08[_0x33e1d3(0x620)](0xc8)['json'](_0x23ba4a);})[_0x46db6d(0xb9)](this[_0x46db6d(0x160)](_0x46db6d(0x4d7)),..._0x383cb4,async(_0x401ecc,_0x2ff127)=>{const _0xe77392=_0x46db6d;let _0x576d8f=await this[_0xe77392(0x51d)]({'request':_0x401ecc,'schema':$e,'ClassRef':be,'execute':(_0x28b866,_0x41b848)=>P['removeProfilePicture'](_0x28b866,_0x41b848)});return _0x2ff127[_0xe77392(0x620)](0xc8)['json'](_0x576d8f);});}},io=require('express'),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},X=class{},Oe=class{},ht=class extends X{},gt=class extends X{},mt=class extends V{constructor(..._0x46c224){const _0x4456e5=a0_0x5de833;super(),this['router']=(0x0,io[_0x4456e5(0x6e2)])(),this[_0x4456e5(0x2bc)]['post'](this[_0x4456e5(0x160)](_0x4456e5(0x32e)),..._0x46c224,async(_0x52cf0d,_0x1a4bad)=>{const _0x5d5fd2=_0x4456e5;let _0x45b102=await this[_0x5d5fd2(0x51d)]({'request':_0x52cf0d,'schema':Qa,'ClassRef':nt,'execute':(_0x3eed4c,_0xa3bf27)=>q[_0x5d5fd2(0x401)](_0x3eed4c,_0xa3bf27)});_0x1a4bad['status'](0xc9)[_0x5d5fd2(0x21c)](_0x45b102);})['put'](this[_0x4456e5(0x160)](_0x4456e5(0x5da)),..._0x46c224,async(_0x5c4cc9,_0x1c5944)=>{const _0x14e934=_0x4456e5;let _0xdaf270=await this[_0x14e934(0x320)]({'request':_0x5c4cc9,'schema':Za,'ClassRef':ct,'execute':(_0xb9f941,_0x11fb9b)=>q[_0x14e934(0x5da)](_0xb9f941,_0x11fb9b)});_0x1c5944[_0x14e934(0x620)](0xc9)[_0x14e934(0x21c)](_0xdaf270);})['put'](this[_0x4456e5(0x160)](_0x4456e5(0x616)),..._0x46c224,async(_0x9120b5,_0x202b99)=>{const _0x4e146c=_0x4456e5;let _0x2fbf7a=await this['groupValidate']({'request':_0x9120b5,'schema':eo,'ClassRef':lt,'execute':(_0x4a4e92,_0x3f3ad6)=>q['groupDesc'](_0x4a4e92,_0x3f3ad6)});_0x202b99[_0x4e146c(0x620)](0xc9)[_0x4e146c(0x21c)](_0x2fbf7a);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)](_0x4456e5(0x56c)),..._0x46c224,async(_0x2a3081,_0x43a7e5)=>{const _0x534f10=_0x4456e5;let _0x2fbe96=await this['groupValidate']({'request':_0x2a3081,'schema':to,'ClassRef':ut,'execute':(_0x4964c3,_0x56fac8)=>q[_0x534f10(0x56c)](_0x4964c3,_0x56fac8)});_0x43a7e5[_0x534f10(0x620)](0xc9)[_0x534f10(0x21c)](_0x2fbe96);})[_0x4456e5(0x25c)](this['routerPath']('groupBetterSetting'),..._0x46c224,async(_0x3231cd,_0x2c750b)=>{const _0x2709e4=_0x4456e5;let _0x2ca4ff=await this[_0x2709e4(0x320)]({'request':_0x3231cd,'schema':ao,'ClassRef':pt,'execute':(_0xc6defd,_0x2a94e5)=>q[_0x2709e4(0x7a0)](_0xc6defd,_0x2a94e5)});_0x2c750b[_0x2709e4(0x620)](0xc9)[_0x2709e4(0x21c)](_0x2ca4ff);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)](_0x4456e5(0x4d1)),..._0x46c224,async(_0x594e34,_0x66240a)=>{const _0x1974d4=_0x4456e5;let _0x1e3127=await this[_0x1974d4(0x320)]({'request':_0x594e34,'schema':so,'ClassRef':dt,'execute':(_0x467978,_0xa8823a)=>q[_0x1974d4(0x4d1)](_0x467978,_0xa8823a)});_0x66240a[_0x1974d4(0x620)](0xc9)[_0x1974d4(0x21c)](_0x1e3127);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)]('toggleEphemeral'),..._0x46c224,async(_0x4fcbad,_0xb53c51)=>{const _0x28d0b4=_0x4456e5;let _0x4f6c50=await this[_0x28d0b4(0x320)]({'request':_0x4fcbad,'schema':Xa,'ClassRef':gt,'execute':(_0x3552c2,_0x8792d0)=>q[_0x28d0b4(0x339)](_0x3552c2,_0x8792d0)});_0xb53c51[_0x28d0b4(0x620)](0xc9)['json'](_0x4f6c50);})[_0x4456e5(0x224)](this[_0x4456e5(0x160)]('findGroupInfos'),..._0x46c224,async(_0x58fa23,_0x6be798)=>{const _0x17866b=_0x4456e5;let _0x25e3a8=await this[_0x17866b(0x320)]({'request':_0x58fa23,'schema':Ae,'ClassRef':X,'execute':(_0x7ce685,_0x368926)=>q[_0x17866b(0x413)](_0x7ce685,_0x368926)});_0x6be798['status'](0xc8)[_0x17866b(0x21c)](_0x25e3a8);})[_0x4456e5(0x224)](this[_0x4456e5(0x160)](_0x4456e5(0x4c1)),..._0x46c224,async(_0x286d4b,_0x267f17)=>{const _0x555487=_0x4456e5;let _0x3d1e0f=await this[_0x555487(0x51d)]({'request':_0x286d4b,'schema':N,'ClassRef':C,'execute':_0x21995d=>q['findGroups'](_0x21995d)});_0x267f17[_0x555487(0x620)](0xc8)[_0x555487(0x21c)](_0x3d1e0f);})[_0x4456e5(0x224)](this[_0x4456e5(0x160)](_0x4456e5(0x762)),..._0x46c224,async(_0x37c8e6,_0x373c8f)=>{const _0x2ad3ff=_0x4456e5;let _0x146b78=await this[_0x2ad3ff(0x320)]({'request':_0x37c8e6,'schema':Ae,'ClassRef':X,'execute':(_0x582dd4,_0x428b9a)=>q[_0x2ad3ff(0x22e)](_0x582dd4,_0x428b9a)});_0x373c8f[_0x2ad3ff(0x620)](0xc8)[_0x2ad3ff(0x21c)](_0x146b78);})['get'](this[_0x4456e5(0x160)]('inviteCode'),..._0x46c224,async(_0x5cc1a8,_0x8bb4f8)=>{const _0x25b4ee=_0x4456e5;let _0x2b8fae=await this['groupValidate']({'request':_0x5cc1a8,'schema':Ae,'ClassRef':X,'execute':(_0x11cd11,_0x4a38cf)=>q[_0x25b4ee(0x251)](_0x11cd11,_0x4a38cf)});_0x8bb4f8[_0x25b4ee(0x620)](0xc8)[_0x25b4ee(0x21c)](_0x2b8fae);})[_0x4456e5(0xfd)](this['routerPath'](_0x4456e5(0x71a)),..._0x46c224,async(_0x1aea24,_0xc3916c)=>{const _0xfa05e2=_0x4456e5;let _0x12cb63=await this[_0xfa05e2(0xdd)]({'request':_0x1aea24,'schema':bs,'ClassRef':Oe,'execute':(_0x380be1,_0x193bd7)=>q[_0xfa05e2(0x19c)](_0x380be1,_0x193bd7)});_0xc3916c[_0xfa05e2(0x620)](0xc9)['json'](_0x12cb63);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)]('joinGroup'),..._0x46c224,async(_0x205431,_0x346a96)=>{const _0x57bb38=_0x4456e5;let _0x95dbe2=await this['joinGroupValidate']({'request':_0x205431,'schema':bs,'ClassRef':Oe,'execute':(_0x25b051,_0x121c6d)=>q[_0x57bb38(0x3aa)](_0x25b051,_0x121c6d)});_0x346a96[_0x57bb38(0x620)](0xc9)[_0x57bb38(0x21c)](_0x95dbe2);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)](_0x4456e5(0x646)),..._0x46c224,async(_0x594c02,_0x11f5b8)=>{const _0x21e005=_0x4456e5;let _0x54d1e0=await this[_0x21e005(0x320)]({'request':_0x594c02,'schema':Ae,'ClassRef':X,'execute':(_0x214abc,_0x16ead8)=>q[_0x21e005(0x646)](_0x214abc,_0x16ead8)});_0x11f5b8[_0x21e005(0x620)](0xc9)[_0x21e005(0x21c)](_0x54d1e0);})[_0x4456e5(0x25c)](this[_0x4456e5(0x160)](_0x4456e5(0x595)),..._0x46c224,async(_0x37f5ce,_0x59199e)=>{const _0x8cf409=_0x4456e5;let _0x57e26d=await this['groupValidate']({'request':_0x37f5ce,'schema':Ya,'ClassRef':ht,'execute':(_0x104999,_0x37e6c5)=>q[_0x8cf409(0x3a0)](_0x104999,_0x37e6c5)});_0x59199e['status'](0xc9)[_0x8cf409(0x21c)](_0x57e26d);})[_0x4456e5(0xb9)](this[_0x4456e5(0x160)](_0x4456e5(0x21d)),..._0x46c224,async(_0x9e808a,_0x2b81e5)=>{const _0x4d7970=_0x4456e5;let _0x5de645=await this[_0x4d7970(0x320)]({'request':_0x9e808a,'schema':{},'ClassRef':X,'execute':(_0x5f4977,_0x196529)=>q[_0x4d7970(0x21d)](_0x5f4977,_0x196529)});_0x2b81e5[_0x4d7970(0x620)](0xc8)[_0x4d7970(0x21c)](_0x5de645);});}},no=require('express'),ft=class extends V{constructor(_0x244af2,..._0x381975){const _0x4c3014=a0_0x5de833;super(),this[_0x4c3014(0x5cc)]=_0x244af2,this[_0x4c3014(0x2bc)]=(0x0,no[_0x4c3014(0x6e2)])();let _0x4c54db=_0x244af2['get'](_0x4c3014(0x260));this[_0x4c3014(0x2bc)]['post']('/create',..._0x381975,async(_0x281975,_0x4dfb2b)=>{const _0x5e589c=_0x4c3014;let {instanceName:_0x2605f0,apikey:_0x3e6a57,number:_0x24fe9a}=_0x281975[_0x5e589c(0x721)],_0x23d358=await ce[_0x5e589c(0x261)]({'instanceName':_0x2605f0,'apikey':_0x3e6a57,'number':_0x24fe9a});return _0x4dfb2b[_0x5e589c(0x620)](0xc9)[_0x5e589c(0x21c)](_0x23d358);})['put'](this[_0x4c3014(0x160)](_0x4c3014(0x182)),..._0x381975,async(_0x329d4f,_0x522539)=>{const _0x4023b2=_0x4c3014;let _0xbf08a2=await this[_0x4023b2(0x51d)]({'request':_0x329d4f,'schema':N,'ClassRef':C,'execute':_0x27ecc8=>ce['restartInstance'](_0x27ecc8)});return _0x522539[_0x4023b2(0x620)](0xc8)[_0x4023b2(0x21c)](_0xbf08a2);})[_0x4c3014(0x224)](this[_0x4c3014(0x160)]('connect'),..._0x381975,async(_0x496491,_0x313d18)=>{const _0x55cf93=_0x4c3014;let _0x4bd08c=await this[_0x55cf93(0x51d)]({'request':_0x496491,'schema':N,'ClassRef':C,'execute':_0x3d9ae7=>ce[_0x55cf93(0x158)](_0x3d9ae7)});return _0x313d18[_0x55cf93(0x620)](0xc8)['json'](_0x4bd08c);})[_0x4c3014(0x224)](this[_0x4c3014(0x160)]('connectionState'),..._0x381975,async(_0x6ec902,_0x4b06ed)=>{const _0x2af5bd=_0x4c3014;let _0x39c4db=await this['dataValidate']({'request':_0x6ec902,'schema':N,'ClassRef':C,'execute':_0x2205cc=>ce[_0x2af5bd(0x67a)](_0x2205cc)});return _0x4b06ed[_0x2af5bd(0x620)](0xc8)['json'](_0x39c4db);})[_0x4c3014(0x224)](this[_0x4c3014(0x160)](_0x4c3014(0x422),!0x1),..._0x381975,async(_0x468deb,_0x27d6df)=>{const _0x1fcaac=_0x4c3014;let _0x20155a=await this[_0x1fcaac(0x51d)]({'request':_0x468deb,'schema':null,'ClassRef':C,'execute':_0x17c646=>ce[_0x1fcaac(0x422)](_0x17c646)});return _0x27d6df['status'](0xc8)[_0x1fcaac(0x21c)](_0x20155a);})[_0x4c3014(0xb9)](this['routerPath'](_0x4c3014(0x467)),..._0x381975,async(_0x4a4ebd,_0x400152)=>{const _0x2f9cb3=_0x4c3014;let _0x4db87d=await this[_0x2f9cb3(0x51d)]({'request':_0x4a4ebd,'schema':N,'ClassRef':C,'execute':_0x599838=>ce[_0x2f9cb3(0x467)](_0x599838)});return _0x400152[_0x2f9cb3(0x620)](0xc8)[_0x2f9cb3(0x21c)](_0x4db87d);})[_0x4c3014(0xb9)](this[_0x4c3014(0x160)](_0x4c3014(0xb9)),..._0x381975,async(_0x199fe3,_0x1c40bb)=>{const _0x17577d=_0x4c3014;let _0x4a01fc=await this[_0x17577d(0x51d)]({'request':_0x199fe3,'schema':N,'ClassRef':C,'execute':_0x37dc65=>ce[_0x17577d(0x54a)](_0x37dc65)});return _0x1c40bb[_0x17577d(0x620)](0xc8)[_0x17577d(0x21c)](_0x4a01fc);});}},co=require('express'),Ms=class{},W=class extends Ms{},wt=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Te=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},Rt=class{},$t=class extends V{constructor(..._0x42c3fb){const _0x165d24=a0_0x5de833;super(),this[_0x165d24(0x2bc)]=(0x0,co[_0x165d24(0x6e2)])(),this[_0x165d24(0x2bc)][_0x165d24(0xfd)](this[_0x165d24(0x160)]('sendText'),..._0x42c3fb,async(_0x3d3625,_0x15639c)=>{const _0x4d838a=_0x165d24;try{let _0x5bda61=await this[_0x4d838a(0x51d)]({'request':_0x3d3625,'schema':Ra,'ClassRef':wt,'execute':(_0x1187b5,_0x53e610)=>B[_0x4d838a(0x3b3)](_0x1187b5,_0x53e610)});return _0x15639c[_0x4d838a(0x620)](0xc9)[_0x4d838a(0x21c)](_0x5bda61);}catch(_0x4cd8fe){console[_0x4d838a(0x1b8)](_0x4d838a(0x4d5),_0x4cd8fe),console['error']('Request\x20body:',_0x3d3625[_0x4d838a(0x721)]),console[_0x4d838a(0x1b8)](_0x4d838a(0x1ed),_0x3d3625[_0x4d838a(0x75f)]);}})['post'](this[_0x165d24(0x160)](_0x165d24(0x607)),..._0x42c3fb,async(_0x493de1,_0x30963a)=>{const _0x1c757c=_0x165d24;try{let _0x3b79fb=await this[_0x1c757c(0x51d)]({'request':_0x493de1,'schema':Ta,'ClassRef':Te,'execute':(_0x114a3a,_0x4bc6f2)=>B['sendMedia'](_0x114a3a,_0x4bc6f2)});return _0x30963a[_0x1c757c(0x620)](0xc9)[_0x1c757c(0x21c)](_0x3b79fb);}catch(_0x25d268){console[_0x1c757c(0x1b8)](_0x1c757c(0x57c),_0x25d268),console[_0x1c757c(0x1b8)](_0x1c757c(0x79d),_0x493de1['body']),console[_0x1c757c(0x1b8)]('url\x20completa:',_0x493de1['url']);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x3a2)),..._0x42c3fb,async(_0x20e484,_0x44da95)=>{const _0x245b38=_0x165d24;try{let _0x3d01ab=await this[_0x245b38(0x51d)]({'request':_0x20e484,'schema':Da,'ClassRef':St,'execute':(_0x24419b,_0x29a2e9)=>B[_0x245b38(0x3a2)](_0x24419b,_0x29a2e9)});return _0x44da95[_0x245b38(0x620)](0xc9)[_0x245b38(0x21c)](_0x3d01ab);}catch(_0x371874){console[_0x245b38(0x1b8)](_0x245b38(0x4d5),_0x371874),console[_0x245b38(0x1b8)](_0x245b38(0x1ef),_0x20e484[_0x245b38(0x721)]),console[_0x245b38(0x1b8)](_0x245b38(0x1ed),_0x20e484['url']);}})[_0x165d24(0xfd)](this['routerPath'](_0x165d24(0x754)),..._0x42c3fb,async(_0x6b84df,_0x147370)=>{const _0x112cd9=_0x165d24;try{let _0x3c88dd=await this[_0x112cd9(0x51d)]({'request':_0x6b84df,'schema':Ia,'ClassRef':Te,'execute':(_0x3c1c51,_0x2e32f5)=>B[_0x112cd9(0x754)](_0x3c1c51,_0x2e32f5)});return _0x147370[_0x112cd9(0x620)](0xc9)[_0x112cd9(0x21c)](_0x3c88dd);}catch(_0x4517e6){console[_0x112cd9(0x1b8)](_0x112cd9(0x4d5),_0x4517e6),console[_0x112cd9(0x1b8)](_0x112cd9(0x1ef),_0x6b84df[_0x112cd9(0x721)]),console[_0x112cd9(0x1b8)]('Complete\x20URL:',_0x6b84df[_0x112cd9(0x75f)]);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x26b)),..._0x42c3fb,async(_0x4e4664,_0x2638cf)=>{const _0x5cd418=_0x165d24;try{let _0x1febf7=await this['dataValidate']({'request':_0x4e4664,'schema':_a,'ClassRef':Ct,'execute':(_0x39f008,_0x238154)=>B[_0x5cd418(0x26b)](_0x39f008,_0x238154)});return _0x2638cf[_0x5cd418(0x620)](0xc9)[_0x5cd418(0x21c)](_0x1febf7);}catch(_0x32ae1d){console[_0x5cd418(0x1b8)]('Error\x20handling\x20sendMessage:',_0x32ae1d),console[_0x5cd418(0x1b8)](_0x5cd418(0x1ef),_0x4e4664[_0x5cd418(0x721)]),console[_0x5cd418(0x1b8)](_0x5cd418(0x1ed),_0x4e4664[_0x5cd418(0x75f)]);}})['post'](this['routerPath']('sendLocation'),..._0x42c3fb,async(_0x211cbd,_0x33859d)=>{const _0x305987=_0x165d24;try{let _0x354fea=await this[_0x305987(0x51d)]({'request':_0x211cbd,'schema':Pa,'ClassRef':Et,'execute':(_0x360de4,_0x5c52ea)=>B[_0x305987(0x10b)](_0x360de4,_0x5c52ea)});return _0x33859d[_0x305987(0x620)](0xc9)[_0x305987(0x21c)](_0x354fea);}catch(_0x356239){console[_0x305987(0x1b8)]('Error\x20handling\x20sendMessage:',_0x356239),console['error']('Request\x20body:',_0x211cbd[_0x305987(0x721)]),console['error']('Complete\x20URL:',_0x211cbd[_0x305987(0x75f)]);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x356)),..._0x42c3fb,async(_0x555afb,_0x1b9d29)=>{const _0x5bde1e=_0x165d24;try{let _0x1a16a3=await this[_0x5bde1e(0x51d)]({'request':_0x555afb,'schema':ka,'ClassRef':vt,'execute':(_0x532cfb,_0x5905e7)=>B[_0x5bde1e(0x356)](_0x532cfb,_0x5905e7)});return _0x1b9d29[_0x5bde1e(0x620)](0xc9)[_0x5bde1e(0x21c)](_0x1a16a3);}catch(_0x485169){console[_0x5bde1e(0x1b8)]('Error\x20handling\x20sendMessage:',_0x485169),console[_0x5bde1e(0x1b8)](_0x5bde1e(0x1ef),_0x555afb[_0x5bde1e(0x721)]),console['error'](_0x5bde1e(0x1ed),_0x555afb[_0x5bde1e(0x75f)]);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)]('sendContact'),..._0x42c3fb,async(_0x23c7ba,_0x39acbc)=>{const _0x557644=_0x165d24;try{let _0x1d6230=await this['dataValidate']({'request':_0x23c7ba,'schema':La,'ClassRef':Nt,'execute':(_0xe67871,_0x3b8f2f)=>B[_0x557644(0x105)](_0xe67871,_0x3b8f2f)});return _0x39acbc[_0x557644(0x620)](0xc9)[_0x557644(0x21c)](_0x1d6230);}catch(_0x2aac81){console['error'](_0x557644(0x4d5),_0x2aac81),console['error'](_0x557644(0x1ef),_0x23c7ba[_0x557644(0x721)]),console['error'](_0x557644(0x1ed),_0x23c7ba['url']);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x133)),..._0x42c3fb,async(_0x4a281d,_0x3d969d)=>{const _0x295ffe=_0x165d24;try{let _0x124106=await this[_0x295ffe(0x51d)]({'request':_0x4a281d,'schema':ja,'ClassRef':Rt,'execute':(_0x2569c7,_0x57354)=>B[_0x295ffe(0x133)](_0x2569c7,_0x57354)});return _0x3d969d[_0x295ffe(0x620)](0xc9)[_0x295ffe(0x21c)](_0x124106);}catch(_0x5579a9){console[_0x295ffe(0x1b8)](_0x295ffe(0x57c),_0x5579a9),console[_0x295ffe(0x1b8)](_0x295ffe(0x79d),_0x4a281d['body']),console[_0x295ffe(0x1b8)](_0x295ffe(0x46f),_0x4a281d[_0x295ffe(0x75f)]);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)]('sendPoll'),..._0x42c3fb,async(_0x542f51,_0x57278e)=>{const _0x4f61d0=_0x165d24;try{let _0x1deaa4=await this[_0x4f61d0(0x51d)]({'request':_0x542f51,'schema':xa,'ClassRef':bt,'execute':(_0x29bdba,_0x502b4c)=>B[_0x4f61d0(0x376)](_0x29bdba,_0x502b4c)});return _0x57278e[_0x4f61d0(0x620)](0xc9)['json'](_0x1deaa4);}catch(_0x6da10){console['error']('Error\x20handling\x20sendMessage:',_0x6da10),console['error'](_0x4f61d0(0x1ef),_0x542f51[_0x4f61d0(0x721)]),console[_0x4f61d0(0x1b8)](_0x4f61d0(0x1ed),_0x542f51[_0x4f61d0(0x75f)]);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x38d)),..._0x42c3fb,async(_0x3112c8,_0x49355f)=>{const _0x121787=_0x165d24;try{let _0x23da01=await this[_0x121787(0x51d)]({'request':_0x3112c8,'schema':Oa,'ClassRef':yt,'execute':(_0x36745c,_0x17daf0)=>B[_0x121787(0x38d)](_0x36745c,_0x17daf0)});return _0x49355f[_0x121787(0x620)](0xc9)[_0x121787(0x21c)](_0x23da01);}catch(_0x564bd1){console[_0x121787(0x1b8)]('Error\x20handling\x20sendMessage:',_0x564bd1),console[_0x121787(0x1b8)](_0x121787(0x1ef),_0x3112c8[_0x121787(0x721)]),console[_0x121787(0x1b8)](_0x121787(0x1ed),_0x3112c8['url']);}})[_0x165d24(0xfd)](this[_0x165d24(0x160)](_0x165d24(0x4e5)),..._0x42c3fb,async(_0x944720,_0xebbefa)=>{const _0x5ad8d1=_0x165d24;try{let _0x125c38=await this[_0x5ad8d1(0x51d)]({'request':_0x944720,'schema':Aa,'ClassRef':Mt,'execute':(_0x58964b,_0x9fca12)=>B['sendSticker'](_0x58964b,_0x9fca12)});return _0xebbefa[_0x5ad8d1(0x620)](0xc9)[_0x5ad8d1(0x21c)](_0x125c38);}catch(_0x4acfef){console[_0x5ad8d1(0x1b8)](_0x5ad8d1(0x4d5),_0x4acfef),console[_0x5ad8d1(0x1b8)](_0x5ad8d1(0x1ef),_0x944720['body']),console['error']('Complete\x20URL:',_0x944720[_0x5ad8d1(0x75f)]);}});}},lo=require(a0_0x5de833(0x75b)),At=class{},Ot=class extends V{constructor(..._0x1358f5){const _0x2756c0=a0_0x5de833;super(),this[_0x2756c0(0x2bc)]=(0x0,lo[_0x2756c0(0x6e2)])(),this[_0x2756c0(0x2bc)][_0x2756c0(0xfd)](this[_0x2756c0(0x160)](_0x2756c0(0x19e)),..._0x1358f5,async(_0x206f36,_0x45a95a)=>{const _0x52f59d=_0x2756c0;let _0x41ea42=await this[_0x52f59d(0x51d)]({'request':_0x206f36,'schema':oo,'ClassRef':At,'execute':(_0x514d88,_0x2ff237)=>Cs[_0x52f59d(0x153)](_0x514d88,_0x2ff237)});_0x45a95a[_0x52f59d(0x620)](0xc9)[_0x52f59d(0x21c)](_0x41ea42);})[_0x2756c0(0x224)](this[_0x2756c0(0x160)](_0x2756c0(0x781)),..._0x1358f5,async(_0x4065fb,_0x16c916)=>{const _0x2c893d=_0x2756c0;let _0x4e535a=await this['dataValidate']({'request':_0x4065fb,'schema':N,'ClassRef':C,'execute':_0x4159a1=>Cs[_0x2c893d(0x42a)](_0x4159a1)});_0x16c916[_0x2c893d(0x620)](0xc8)[_0x2c893d(0x21c)](_0x4e535a);});}},uo=require(a0_0x5de833(0x75b)),y=new R(a0_0x5de833(0x45b)),Tt=class extends V{constructor(..._0xa1a564){const _0x13dd3d=a0_0x5de833;super(),this[_0x13dd3d(0x2bc)]=(0x0,uo[_0x13dd3d(0x6e2)])(),this[_0x13dd3d(0x2bc)][_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x556)),..._0xa1a564,async(_0x846e41,_0x88388f)=>{const _0x130344=_0x13dd3d;let _0x229865=_0x846e41['body'];y[_0x130344(0x33b)](_0x130344(0x15d)),y[_0x130344(0x33b)](_0x130344(0x13b)),y[_0x130344(0x33b)](_0x846e41['body']);let _0x57299b=await this[_0x130344(0x51d)]({'request':_0x846e41,'schema':N,'ClassRef':C,'execute':_0x5c0755=>A[_0x130344(0x68b)](_0x5c0755,_0x229865)});_0x88388f[_0x130344(0x620)](0xc8)['json'](_0x57299b);})[_0x13dd3d(0x224)](this[_0x13dd3d(0x160)](_0x13dd3d(0x556)),..._0xa1a564,async(_0x5a6989,_0x109125)=>{const _0x21f4bb=_0x13dd3d;let _0x90a64e=await this[_0x21f4bb(0x51d)]({'request':_0x5a6989,'schema':N,'ClassRef':C,'execute':_0x5b896f=>A['getScheduleMessage'](_0x5b896f)});_0x109125[_0x21f4bb(0x620)](0xc8)[_0x21f4bb(0x21c)](_0x90a64e);})[_0x13dd3d(0xb9)](this['routerPath'](_0x13dd3d(0x446)),..._0xa1a564,async(_0x54200f,_0x2335b6)=>{const _0x5e7f60=_0x13dd3d;y['verbose'](_0x5e7f60(0x62a));let _0x38e3bc=await this[_0x5e7f60(0x51d)]({'request':_0x54200f,'schema':N,'ClassRef':C,'execute':_0x5b2086=>A[_0x5e7f60(0x446)](_0x5b2086)});_0x2335b6[_0x5e7f60(0x620)](0xc8)[_0x5e7f60(0x21c)](_0x38e3bc);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x61a)),..._0xa1a564,async(_0x17ece7,_0x5a3eb5)=>{const _0x33fde2=_0x13dd3d;let _0x2538f1=_0x17ece7[_0x33fde2(0x721)];y['verbose'](_0x33fde2(0x430)),y[_0x33fde2(0x33b)]('request\x20body:\x20'),y[_0x33fde2(0x33b)](_0x17ece7['body']);let _0x58ed3c=await this[_0x33fde2(0x51d)]({'request':_0x17ece7,'schema':N,'ClassRef':C,'execute':_0x1dc9c0=>A[_0x33fde2(0x61a)](_0x1dc9c0,_0x2538f1)});_0x5a3eb5[_0x33fde2(0x620)](0xc8)[_0x33fde2(0x21c)](_0x58ed3c);})[_0x13dd3d(0x224)](this[_0x13dd3d(0x160)](_0x13dd3d(0x516)),..._0xa1a564,async(_0x4ac864,_0x4252cc)=>{const _0x5bc1c6=_0x13dd3d;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x51847c=await this['dataValidate']({'request':_0x4ac864,'schema':N,'ClassRef':C,'execute':_0xaf3c13=>A[_0x5bc1c6(0x516)](_0xaf3c13)});_0x4252cc[_0x5bc1c6(0x620)](0xc8)[_0x5bc1c6(0x21c)](_0x51847c);})['get'](this[_0x13dd3d(0x160)]('getTicketSystem'),..._0xa1a564,async(_0xcad76,_0x2426bd)=>{const _0x79230d=_0x13dd3d;y[_0x79230d(0x33b)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x4b73dd=await this['dataValidate']({'request':_0xcad76,'schema':N,'ClassRef':C,'execute':_0x5a2bf1=>A[_0x79230d(0x516)](_0x5a2bf1)});_0x2426bd[_0x79230d(0x620)](0xc8)[_0x79230d(0x21c)](_0x4b73dd);})['post'](this[_0x13dd3d(0x160)](_0x13dd3d(0x141)),..._0xa1a564,async(_0x57eb63,_0x48648d)=>{const _0x2a2db0=_0x13dd3d;let _0x35e6b7=_0x57eb63['body'];y[_0x2a2db0(0x33b)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x2a2db0(0x13b)),y[_0x2a2db0(0x33b)](_0x57eb63[_0x2a2db0(0x721)]);let _0x5d4b58=await this[_0x2a2db0(0x51d)]({'request':_0x57eb63,'schema':N,'ClassRef':C,'execute':_0x2d86ec=>A[_0x2a2db0(0x141)](_0x2d86ec,_0x35e6b7)});_0x48648d[_0x2a2db0(0x620)](0xc8)[_0x2a2db0(0x21c)](_0x5d4b58);})['post'](this['routerPath'](_0x13dd3d(0x4db)),..._0xa1a564,async(_0x1f0b31,_0x45d7f2)=>{const _0x30921f=_0x13dd3d;let _0x451a82=_0x1f0b31['body'];y[_0x30921f(0x33b)](_0x30921f(0x740)),y[_0x30921f(0x33b)](_0x30921f(0x13b)),y[_0x30921f(0x33b)](_0x1f0b31[_0x30921f(0x721)]);let _0x573cc5=await this['dataValidate']({'request':_0x1f0b31,'schema':N,'ClassRef':C,'execute':_0x5ba6d4=>A['updateCustomFields'](_0x5ba6d4,_0x451a82)});_0x45d7f2['status'](0xc8)[_0x30921f(0x21c)](_0x573cc5);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x765)),..._0xa1a564,async(_0x47ebdc,_0x2709a6)=>{const _0x57f63d=_0x13dd3d;let _0x6909cb=_0x47ebdc[_0x57f63d(0x721)];y[_0x57f63d(0x33b)](_0x57f63d(0x258)),y[_0x57f63d(0x33b)](_0x57f63d(0x13b)),y[_0x57f63d(0x33b)](_0x47ebdc['body']);let _0x1cbc83=await this[_0x57f63d(0x51d)]({'request':_0x47ebdc,'schema':N,'ClassRef':C,'execute':_0xdb2a77=>A[_0x57f63d(0x765)](_0xdb2a77,_0x6909cb)});_0x2709a6[_0x57f63d(0x620)](0xc8)['json'](_0x1cbc83);})[_0x13dd3d(0xfd)](this['routerPath'](_0x13dd3d(0x1e3)),..._0xa1a564,async(_0x5381ed,_0x1e2f15)=>{const _0x2cc7ab=_0x13dd3d;let _0x26e7fd=_0x5381ed[_0x2cc7ab(0x721)];y[_0x2cc7ab(0x33b)](_0x2cc7ab(0x128)),y['verbose']('request\x20body:\x20'),y[_0x2cc7ab(0x33b)](_0x5381ed[_0x2cc7ab(0x721)]);let _0x3ff960=await this[_0x2cc7ab(0x51d)]({'request':_0x5381ed,'schema':N,'ClassRef':C,'execute':_0x1e05e1=>A[_0x2cc7ab(0x1e3)](_0x1e05e1,_0x26e7fd)});_0x1e2f15[_0x2cc7ab(0x620)](0xc8)['json'](_0x3ff960);})['post'](this[_0x13dd3d(0x160)](_0x13dd3d(0x2c7)),..._0xa1a564,async(_0x434d6a,_0x42e723)=>{const _0x3e926e=_0x13dd3d;let _0x3350c7=_0x434d6a[_0x3e926e(0x721)];y[_0x3e926e(0x33b)](_0x3e926e(0x3b5)),y[_0x3e926e(0x33b)](_0x3e926e(0x13b)),y[_0x3e926e(0x33b)](_0x434d6a[_0x3e926e(0x721)]);let _0x6612d5=await this[_0x3e926e(0x51d)]({'request':_0x434d6a,'schema':N,'ClassRef':C,'execute':_0x296d53=>A['getConversation'](_0x296d53,_0x3350c7)});_0x42e723[_0x3e926e(0x620)](0xc8)[_0x3e926e(0x21c)](_0x6612d5);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x2ab)),..._0xa1a564,async(_0xebc6d8,_0x358166)=>{const _0x221e8f=_0x13dd3d;let _0x20bf44=_0xebc6d8[_0x221e8f(0x721)];y[_0x221e8f(0x33b)](_0x221e8f(0xde)),y[_0x221e8f(0x33b)](_0x221e8f(0x13b)),y[_0x221e8f(0x33b)](_0xebc6d8[_0x221e8f(0x721)]);let _0x3e0f99=await this[_0x221e8f(0x51d)]({'request':_0xebc6d8,'schema':N,'ClassRef':C,'execute':_0x224855=>A[_0x221e8f(0x2ab)](_0x224855,_0x20bf44)});_0x358166['status'](0xc8)[_0x221e8f(0x21c)](_0x3e0f99);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x95)),..._0xa1a564,async(_0x3fb8bb,_0x52e63e)=>{const _0x2ae4a8=_0x13dd3d;let _0x1be3d6=_0x3fb8bb['body'];y[_0x2ae4a8(0x33b)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x2ae4a8(0x13b)),y[_0x2ae4a8(0x33b)](_0x3fb8bb['body']);let _0x90338d=await this[_0x2ae4a8(0x51d)]({'request':_0x3fb8bb,'schema':N,'ClassRef':C,'execute':_0x52c14b=>A[_0x2ae4a8(0x95)](_0x52c14b,_0x1be3d6)});_0x52e63e[_0x2ae4a8(0x620)](0xc8)[_0x2ae4a8(0x21c)](_0x90338d);})[_0x13dd3d(0xb9)](this[_0x13dd3d(0x160)](_0x13dd3d(0x201)),..._0xa1a564,async(_0x1d0d1a,_0x2b51ee)=>{const _0x324be1=_0x13dd3d;let _0x5c8ebe=_0x1d0d1a[_0x324be1(0x721)];y[_0x324be1(0x33b)](_0x324be1(0x4d8)),y[_0x324be1(0x33b)]('request\x20body:\x20'),y[_0x324be1(0x33b)](_0x1d0d1a[_0x324be1(0x721)]);let _0x288a9e=await this['dataValidate']({'request':_0x1d0d1a,'schema':N,'ClassRef':C,'execute':_0x3fdc5e=>A[_0x324be1(0x201)](_0x3fdc5e,_0x5c8ebe)});_0x2b51ee['status'](0xc8)[_0x324be1(0x21c)](_0x288a9e);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0xa8)),..._0xa1a564,async(_0x31f0f3,_0x1689bf)=>{const _0x28ebcc=_0x13dd3d;let _0x45988a=_0x31f0f3['body'],_0x4b5a79=_0x31f0f3['headers'][_0x28ebcc(0x1ee)];y[_0x28ebcc(0x33b)](_0x28ebcc(0x624)),y['verbose'](_0x28ebcc(0x13b)),y['verbose'](_0x31f0f3['body']);let _0xfbe779=await this[_0x28ebcc(0x51d)]({'request':_0x31f0f3,'schema':N,'ClassRef':C,'execute':_0xdcedbd=>A[_0x28ebcc(0x657)](_0xdcedbd,_0x45988a,_0x4b5a79)});_0x1689bf[_0x28ebcc(0x620)](0xc8)['json'](_0xfbe779);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x5ab)),..._0xa1a564,async(_0x35a580,_0x24802e)=>{const _0x10b872=_0x13dd3d;let _0x4bb16d=_0x35a580[_0x10b872(0x721)],_0x1c61ed=_0x35a580['headers'][_0x10b872(0x1ee)];y[_0x10b872(0x33b)]('request\x20received\x20in\x20editFlow'),y[_0x10b872(0x33b)](_0x10b872(0x13b)),y[_0x10b872(0x33b)](_0x35a580[_0x10b872(0x721)]),delete _0x4bb16d[_0x10b872(0xfb)],delete _0x4bb16d[_0x10b872(0x453)],delete _0x4bb16d[_0x10b872(0x291)],delete _0x4bb16d[_0x10b872(0x621)];let _0x295e4a=await this['dataValidate']({'request':_0x35a580,'schema':N,'ClassRef':C,'execute':_0xd53171=>A['editFlow'](_0xd53171,_0x4bb16d,_0x1c61ed)});_0x24802e[_0x10b872(0x620)](0xc8)[_0x10b872(0x21c)](_0x295e4a);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x597)),..._0xa1a564,async(_0x187d87,_0x24ec5d)=>{const _0x47fa87=_0x13dd3d;let _0x2fe0c4=_0x187d87[_0x47fa87(0x721)],_0x3ac9df=_0x187d87[_0x47fa87(0x32d)][_0x47fa87(0x1ee)];y['verbose'](_0x47fa87(0x55d)),y[_0x47fa87(0x33b)](_0x47fa87(0x13b)),y[_0x47fa87(0x33b)](_0x187d87[_0x47fa87(0x721)]);let _0x38e029=await this[_0x47fa87(0x51d)]({'request':_0x187d87,'schema':N,'ClassRef':C,'execute':_0x1564b2=>A[_0x47fa87(0x373)](_0x1564b2,_0x2fe0c4,_0x3ac9df)});_0x24ec5d['status'](0xc8)[_0x47fa87(0x21c)](_0x38e029);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x7a7)),..._0xa1a564,async(_0x1b2ef3,_0x1ef6f0)=>{const _0x31dd26=_0x13dd3d;let _0x3a8cd6=_0x1b2ef3[_0x31dd26(0x721)],_0x1c74e5=_0x1b2ef3[_0x31dd26(0x32d)]['apikey'];y[_0x31dd26(0x33b)](_0x31dd26(0x55d)),y[_0x31dd26(0x33b)]('request\x20body:\x20'),y[_0x31dd26(0x33b)](_0x1b2ef3[_0x31dd26(0x721)]);let _0x2b94b7=await this[_0x31dd26(0x51d)]({'request':_0x1b2ef3,'schema':N,'ClassRef':C,'execute':_0xc92119=>A[_0x31dd26(0x1f3)](_0xc92119,_0x3a8cd6,_0x1c74e5)});_0x1ef6f0[_0x31dd26(0x620)](0xc8)[_0x31dd26(0x21c)](_0x2b94b7);})[_0x13dd3d(0xfd)](this['routerPath'](_0x13dd3d(0x3b7)),..._0xa1a564,async(_0x14663c,_0x5890bc)=>{const _0x4cf912=_0x13dd3d;let _0x13727b=_0x14663c[_0x4cf912(0x721)],_0x3ba009=_0x14663c[_0x4cf912(0x32d)][_0x4cf912(0x1ee)];y[_0x4cf912(0x33b)](_0x4cf912(0x55d)),y[_0x4cf912(0x33b)]('request\x20body:\x20'),y['verbose'](_0x14663c[_0x4cf912(0x721)]);let _0x3d69bb=await this[_0x4cf912(0x51d)]({'request':_0x14663c,'schema':N,'ClassRef':C,'execute':_0x5ebfc4=>A['editFlowVaredit'](_0x5ebfc4,_0x13727b,_0x3ba009)});_0x5890bc[_0x4cf912(0x620)](0xc8)[_0x4cf912(0x21c)](_0x3d69bb);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x2d3)),..._0xa1a564,async(_0x7a645,_0x3c2ffd)=>{const _0x197418=_0x13dd3d;let _0x2af6db=_0x7a645[_0x197418(0x721)],_0x14b0ca=_0x7a645[_0x197418(0x32d)][_0x197418(0x1ee)];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y[_0x197418(0x33b)]('request\x20body:\x20'),y[_0x197418(0x33b)](_0x7a645[_0x197418(0x721)]);let _0x46287e=await this[_0x197418(0x51d)]({'request':_0x7a645,'schema':N,'ClassRef':C,'execute':_0x144ec0=>A['editFlowGroup'](_0x144ec0,_0x2af6db,_0x14b0ca)});_0x3c2ffd['status'](0xc8)['json'](_0x46287e);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x79b)),..._0xa1a564,async(_0x357a2c,_0x41a4fb)=>{const _0x4676f2=_0x13dd3d;let _0x3fccc9=_0x357a2c[_0x4676f2(0x721)],_0x407be5=_0x357a2c[_0x4676f2(0x32d)][_0x4676f2(0x1ee)];y['verbose'](_0x4676f2(0x278)),y[_0x4676f2(0x33b)]('request\x20body:\x20'),y[_0x4676f2(0x33b)](_0x357a2c['body']);let _0x19b04=await this['dataValidate']({'request':_0x357a2c,'schema':N,'ClassRef':C,'execute':_0x32a52b=>A['editFlowCondition'](_0x32a52b,_0x3fccc9,_0x407be5)});_0x41a4fb[_0x4676f2(0x620)](0xc8)[_0x4676f2(0x21c)](_0x19b04);})[_0x13dd3d(0xfd)](this['routerPath']('editflowvariable'),..._0xa1a564,async(_0x372912,_0x39d872)=>{const _0x4819f3=_0x13dd3d;let _0x1d0a77=_0x372912[_0x4819f3(0x721)],_0x474b63=_0x372912['headers']['apikey'];y[_0x4819f3(0x33b)](_0x4819f3(0x72c)),y[_0x4819f3(0x33b)](_0x4819f3(0x13b)),y['verbose'](_0x372912[_0x4819f3(0x721)]);let _0x4ab55a=await this[_0x4819f3(0x51d)]({'request':_0x372912,'schema':N,'ClassRef':C,'execute':_0x42a119=>A[_0x4819f3(0x52c)](_0x42a119,_0x1d0a77,_0x474b63)});_0x39d872[_0x4819f3(0x620)](0xc8)['json'](_0x4ab55a);})[_0x13dd3d(0xfd)](this[_0x13dd3d(0x160)](_0x13dd3d(0x4f8)),..._0xa1a564,async(_0x515ee9,_0x5b91ac)=>{const _0x7f257a=_0x13dd3d;let _0x22f18e=_0x515ee9[_0x7f257a(0x721)];y[_0x7f257a(0x33b)]('request\x20received\x20in\x20getFlow'),y[_0x7f257a(0x33b)](_0x7f257a(0x13b)),y['verbose'](_0x515ee9[_0x7f257a(0x721)]);let _0x2902e7=await this['dataValidate']({'request':_0x515ee9,'schema':N,'ClassRef':C,'execute':_0x29eea6=>A[_0x7f257a(0x3c6)](_0x29eea6,_0x22f18e)});_0x5b91ac[_0x7f257a(0x620)](0xc8)[_0x7f257a(0x21c)](_0x2902e7);})[_0x13dd3d(0xb9)](this[_0x13dd3d(0x160)]('deleteflow'),..._0xa1a564,async(_0x4c68ab,_0x3c5485)=>{const _0x115fab=_0x13dd3d;let _0x27040e=_0x4c68ab['body'],_0x435dc4=_0x4c68ab['headers'][_0x115fab(0x1ee)];y[_0x115fab(0x33b)](_0x115fab(0x399)),y[_0x115fab(0x33b)](_0x115fab(0x13b)),y[_0x115fab(0x33b)](_0x4c68ab['body']);let _0xbdd124=await this[_0x115fab(0x51d)]({'request':_0x4c68ab,'schema':N,'ClassRef':C,'execute':_0x136d47=>A[_0x115fab(0x31b)](_0x136d47,_0x27040e,_0x435dc4)});_0x3c5485[_0x115fab(0x620)](0xc8)['json'](_0xbdd124);})[_0x13dd3d(0x224)](this[_0x13dd3d(0x160)](_0x13dd3d(0x4ad)),..._0xa1a564,async(_0x29ca00,_0x3ba506)=>{const _0x3cd79c=_0x13dd3d;y['verbose']('request\x20received\x20in\x20allFlows');let _0x1afe3c=await this[_0x3cd79c(0x51d)]({'request':_0x29ca00,'schema':N,'ClassRef':C,'execute':_0x2f9b66=>A['allFlows'](_0x2f9b66)});_0x3ba506[_0x3cd79c(0x620)](0xc8)[_0x3cd79c(0x21c)](_0x1afe3c);});}},mo=O(require(a0_0x5de833(0xb1))),Z={};function po(_0x214e45,_0x2f7868,_0x37a403,_0x41c66e){Z[_0x214e45]||(Z[_0x214e45]={}),Z[_0x214e45][_0x2f7868]={'id':_0x2f7868,'response':_0x37a403,'events':_0x41c66e};}function ho(_0x7eee8d,_0x5222f4){!Z[_0x7eee8d]||!Z[_0x7eee8d][_0x5222f4]||delete Z[_0x7eee8d][_0x5222f4];}function J(_0x55cb97,_0x5ae1fe,_0x268126){const _0x555ab4=a0_0x5de833;if(!Z[_0x55cb97])return;let _0x3314=_0x555ab4(0x507)+JSON[_0x555ab4(0x564)](_0x268126)+'\x0a\x0a';Object[_0x555ab4(0x52b)](Z[_0x55cb97])[_0x555ab4(0x1b4)](_0x17c5e2=>{const _0x2bd33f=_0x555ab4;_0x17c5e2[_0x2bd33f(0x1dd)][_0x2bd33f(0x2d8)](_0x5ae1fe)&&_0x17c5e2['response'][_0x2bd33f(0x495)](_0x3314);});}function go(){const _0x28a2ac=a0_0x5de833;let _0x11532b={};for(let _0xbcd67d in Z)_0x11532b[_0xbcd67d]=Object[_0x28a2ac(0x52b)](Z[_0xbcd67d])[_0x28a2ac(0x4ba)](_0x26cba5=>({'id':_0x26cba5['id'],'events':_0x26cba5[_0x28a2ac(0x1dd)]}));return _0x11532b;}var fo=require(a0_0x5de833(0x6cd)),vs=require('mongoose'),Es=class{},br=new vs[(a0_0x5de833(0x6b7))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Sr=new vs[(a0_0x5de833(0x6b7))]({'_id':{'type':String,'default':a0_0x5de833(0x206)},'WebhookGlobal':{'type':br},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x5de833(0x47d)](Es['name'],Sr,'All_Instances_Config'),Mr=mo['default']['join'](__dirname,a0_0x5de833(0x60a)),Ie=(0x0,It[a0_0x5de833(0x6e2)])(),Cr=b[a0_0x5de833(0x224)](a0_0x5de833(0x260))[a0_0x5de833(0x125)],ae=[Ma,Ca,Na[Cr]];Ie[a0_0x5de833(0xf2)]('/media',It[a0_0x5de833(0x1a6)]['static'](Mr))['get']('/events/:instance',async(_0x2c94f7,_0x397bf1)=>{const _0x5cfc02=a0_0x5de833;console[_0x5cfc02(0x6c3)](_0x5cfc02(0x3a6));let _0x2450f0=_0x2c94f7[_0x5cfc02(0x194)]['instance'],_0x173817=(_0x2c94f7[_0x5cfc02(0x745)][_0x5cfc02(0x1dd)]||'')[_0x5cfc02(0x3a3)](','),_0x42011f=(0x0,fo['v4'])();console[_0x5cfc02(0x6c3)]('Instance\x20ID:',_0x2450f0),console[_0x5cfc02(0x6c3)](_0x5cfc02(0x5b5),_0x173817);let _0x395afc=b['get'](_0x5cfc02(0x260))[_0x5cfc02(0x60b)],_0x395f59=_0x2c94f7[_0x5cfc02(0x745)][_0x5cfc02(0x1ee)];if(console[_0x5cfc02(0x6c3)](_0x5cfc02(0x7b4),_0x395f59),_0x395afc[_0x5cfc02(0x311)]!==_0x395f59){console[_0x5cfc02(0x6c3)](_0x5cfc02(0x636));try{let _0x1974e1=await de[_0x5cfc02(0x7a9)][_0x5cfc02(0x781)](_0x2450f0);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x1974e1),!_0x1974e1||_0x1974e1[_0x5cfc02(0x1ee)]!==_0x395f59)return console[_0x5cfc02(0x6c3)](_0x5cfc02(0x3f6)),_0x397bf1[_0x5cfc02(0x620)](0x191)[_0x5cfc02(0x598)](_0x5cfc02(0x6b1));}catch(_0x25d0b3){return console[_0x5cfc02(0x1b8)](_0x5cfc02(0x6cf),_0x25d0b3),_0x397bf1['status'](0x191)[_0x5cfc02(0x598)](_0x5cfc02(0x4f0));}}if(!await Re(_0x2450f0))return _0x397bf1[_0x5cfc02(0x620)](0x194)[_0x5cfc02(0x598)](_0x5cfc02(0x768));_0x397bf1[_0x5cfc02(0x504)]('Content-Type',_0x5cfc02(0x357)),_0x397bf1[_0x5cfc02(0x504)](_0x5cfc02(0x6a0),_0x5cfc02(0x29f)),_0x397bf1[_0x5cfc02(0x504)](_0x5cfc02(0x76d),_0x5cfc02(0x436)),_0x397bf1[_0x5cfc02(0x2e9)]();let _0x13019f=_0x5cfc02(0x507)+JSON[_0x5cfc02(0x564)]({'info':_0x5cfc02(0x706)})+'\x0a\x0a';_0x397bf1[_0x5cfc02(0x495)](_0x13019f),po(_0x2450f0,_0x42011f,_0x397bf1,_0x173817),_0x2c94f7['on'](_0x5cfc02(0x44f),()=>{const _0x35077a=_0x5cfc02;console[_0x35077a(0x6c3)](_0x35077a(0x731)+_0x2450f0),ho(_0x2450f0,_0x42011f);});}),Ie[a0_0x5de833(0xfd)](a0_0x5de833(0x13a),async(_0x2aa673,_0xda802d)=>{const _0x2e6a14=a0_0x5de833;console[_0x2e6a14(0x6c3)](_0x2e6a14(0x47b));let _0x1faf4f=_0x2aa673[_0x2e6a14(0x194)][_0x2e6a14(0x3c2)],_0x45e31a=_0x2aa673[_0x2e6a14(0x194)]['startID'],_0x481712=_0x2aa673[_0x2e6a14(0x745)][_0x2e6a14(0x572)]||'',_0x368c51=_0x2aa673[_0x2e6a14(0x721)];console[_0x2e6a14(0x6c3)](_0x2e6a14(0x469),_0x1faf4f),console['log']('StartID:',_0x45e31a),console[_0x2e6a14(0x6c3)](_0x2e6a14(0x28a),_0x481712),console[_0x2e6a14(0x6c3)](_0x2e6a14(0x4b7),_0x368c51);try{if(!await Re(_0x1faf4f))return _0xda802d['status'](0x194)[_0x2e6a14(0x598)](_0x2e6a14(0x768));let _0x1a42d1=await A[_0x2e6a14(0x53d)](_0x1faf4f,_0x45e31a,_0x481712,_0x368c51);_0xda802d[_0x2e6a14(0x598)](_0x1a42d1);}catch(_0x39d508){console[_0x2e6a14(0x1b8)](_0x39d508),_0xda802d[_0x2e6a14(0x620)](0x1f4)[_0x2e6a14(0x598)](_0x2e6a14(0x637));}}),Ie[a0_0x5de833(0x224)](a0_0x5de833(0x274),(_0x96f065,_0x569359)=>{const _0x24ffdb=a0_0x5de833;let _0x149d07=go();_0x569359[_0x24ffdb(0x21c)](_0x149d07);})[a0_0x5de833(0x224)]('/',(_0xac077a,_0x3e0c05)=>{const _0x3bbef5=a0_0x5de833;let _0x4bef4b=b[_0x3bbef5(0x224)]('SERVER')['URL'];if(_0x4bef4b){let _0x37fe33=encodeURIComponent(''+_0x4bef4b);_0x3e0c05[_0x3bbef5(0x49c)](_0x3bbef5(0x5d4)+_0x37fe33);return;}let _0x2a48a7=b[_0x3bbef5(0x224)](_0x3bbef5(0x4ce)),_0x539919=_0x2a48a7&&_0x2a48a7['FULLCHAIN']['split']('/')[0x4];if(_0x539919){let _0x4a477f=encodeURIComponent('https://'+_0x539919);_0x3e0c05[_0x3bbef5(0x49c)](_0x3bbef5(0x5d4)+_0x4a477f);}else _0x3e0c05[_0x3bbef5(0x49c)](_0x3bbef5(0x5a2));})['put'](a0_0x5de833(0x47a),...ae,async(_0x1a3b76,_0x27ac23)=>{const _0x197880=a0_0x5de833;try{console[_0x197880(0x6c3)](_0x197880(0x6c7)),_0x27ac23[_0x197880(0x620)](0xc8)[_0x197880(0x21c)]({'message':_0x197880(0x20f)}),_0x27ac23['on'](_0x197880(0x4be),()=>process[_0x197880(0x4ab)](0x0));}catch(_0x30783d){console[_0x197880(0x1b8)](_0x197880(0x602),_0x30783d),_0x27ac23[_0x197880(0x620)](0x1f4)[_0x197880(0x21c)]({'message':_0x197880(0x510)});}})[a0_0x5de833(0x25c)](a0_0x5de833(0x492),...ae,async(_0x279e1b,_0x3d3ce4)=>{const _0x4cebde=a0_0x5de833;try{let _0x35038e=_0x279e1b[_0x4cebde(0x721)];await Se[_0x4cebde(0x4fc)]({},{'$set':_0x35038e},{'upsert':!0x0});let _0x35eb64=await Se[_0x4cebde(0x782)]();_0x3d3ce4[_0x4cebde(0x21c)](_0x35eb64);}catch(_0x287730){_0x3d3ce4[_0x4cebde(0x620)](0x190)['send'](_0x287730['message']);}})['get'](a0_0x5de833(0x492),...ae,async(_0x379ca9,_0x1ac6d1)=>{const _0x2cec17=a0_0x5de833;try{let _0x2ab8d1=await Se[_0x2cec17(0x782)]();if(!_0x2ab8d1)return _0x1ac6d1[_0x2cec17(0x21c)]({});_0x1ac6d1[_0x2cec17(0x21c)](_0x2ab8d1);}catch(_0x40b7fc){_0x1ac6d1[_0x2cec17(0x620)](0x1f4)[_0x2cec17(0x598)](_0x40b7fc[_0x2cec17(0x37e)]);}})[a0_0x5de833(0xf2)]('/instance',new ft(b,...ae)[a0_0x5de833(0x2bc)])[a0_0x5de833(0xf2)](a0_0x5de833(0x379),new $t(...ae)[a0_0x5de833(0x2bc)])[a0_0x5de833(0xf2)](a0_0x5de833(0x459),new it(...ae)[a0_0x5de833(0x2bc)])[a0_0x5de833(0xf2)](a0_0x5de833(0x4ed),new mt(...ae)[a0_0x5de833(0x2bc)])['use']('/webhook',new Ot(...ae)[a0_0x5de833(0x2bc)])[a0_0x5de833(0xf2)]('/automate',new Tt(...ae)[a0_0x5de833(0x2bc)]);var m=class{constructor(..._0x28fabc){const _0x38c110=a0_0x5de833;throw{'status':0x190,'error':_0x38c110(0x6ec),'message':_0x28fabc[_0x38c110(0x612)]>0x0?_0x28fabc:void 0x0};}},se=class{constructor(..._0x1c1711){const _0x250ce5=a0_0x5de833;throw{'status':0x191,'error':_0x250ce5(0x79e),'message':_0x1c1711['length']>0x0?_0x1c1711:void 0x0};}},Q=class{constructor(..._0x74da36){const _0x421571=a0_0x5de833;throw{'status':0x193,'error':_0x421571(0x7b2),'message':_0x74da36[_0x421571(0x612)]>0x0?_0x74da36:void 0x0};}},U=class{constructor(..._0x2f71e9){const _0x1a9840=a0_0x5de833;throw{'status':0x194,'error':_0x1a9840(0x32f),'message':_0x2f71e9[_0x1a9840(0x612)]>0x0?_0x2f71e9:void 0x0};}},I=class{constructor(..._0x46fd9c){const _0x243fc9=a0_0x5de833;throw{'status':0x1f4,'error':_0x243fc9(0x72a),'message':_0x46fd9c[_0x243fc9(0x612)]>0x0?_0x46fd9c:void 0x0};}},pe=require(a0_0x5de833(0x515));async function Ns(_0x23f3ea){const _0x380c21=a0_0x5de833;let _0x25ab0e=new R(Ns['name']),_0x2957aa=$['getClient'](),_0x1a5477=_0x2957aa['db'](b[_0x380c21(0x224)](_0x380c21(0xe9))['CONNECTION'][_0x380c21(0x2a0)]+_0x380c21(0x47c))[_0x380c21(0x163)](_0x23f3ea),_0x2ec6af=async(_0xed42f4,_0x300296)=>{const _0x37fb9e=_0x380c21;try{return await _0x2957aa[_0x37fb9e(0x53b)](),await _0x1a5477[_0x37fb9e(0x751)]({'_id':_0x300296},JSON['parse'](JSON['stringify'](_0xed42f4,pe['BufferJSON'][_0x37fb9e(0x651)])),{'upsert':!0x0});}catch{}},_0x588cea=async _0x5f0bb6=>{const _0x2dc181=_0x380c21;try{await _0x2957aa[_0x2dc181(0x53b)]();let _0x182cf6=await _0x1a5477[_0x2dc181(0x782)]({'_id':_0x5f0bb6}),_0x12887b=JSON[_0x2dc181(0x564)](_0x182cf6);return JSON[_0x2dc181(0x46c)](_0x12887b,pe['BufferJSON'][_0x2dc181(0x310)]);}catch{}},_0x2e4ccf=async _0x3c2c6f=>{const _0x1e65f7=_0x380c21;try{return await _0x2957aa['connect'](),await _0x1a5477[_0x1e65f7(0x57d)]({'_id':_0x3c2c6f});}catch{}},_0x31635e=await _0x588cea(_0x380c21(0x64f))||(0x0,pe[_0x380c21(0x7a5)])();return{'state':{'creds':_0x31635e,'keys':{'get':async(_0x5a6cc1,_0x2e2e7e)=>{const _0x3fab74=_0x380c21;let _0x1996b4={};return await Promise[_0x3fab74(0x110)](_0x2e2e7e[_0x3fab74(0x4ba)](async _0x9b5231=>{const _0x7620ee=_0x3fab74;let _0xefcc7c=await _0x588cea(_0x5a6cc1+'-'+_0x9b5231);_0x5a6cc1===_0x7620ee(0x75c)&&_0xefcc7c&&(_0xefcc7c=pe[_0x7620ee(0x6d5)][_0x7620ee(0x573)]['AppStateSyncKeyData'][_0x7620ee(0x3b8)](_0xefcc7c)),_0x1996b4[_0x9b5231]=_0xefcc7c;})),_0x1996b4;},'set':async _0x6101a7=>{const _0x56e2e9=_0x380c21;let _0x2696a8=[];for(let _0x50cd19 in _0x6101a7)for(let _0x106ed4 in _0x6101a7[_0x50cd19]){let _0x3be35c=_0x6101a7[_0x50cd19][_0x106ed4],_0x4ce3cf=_0x50cd19+'-'+_0x106ed4;_0x2696a8[_0x56e2e9(0x2c5)](_0x3be35c?_0x2ec6af(_0x3be35c,_0x4ce3cf):_0x2e4ccf(_0x4ce3cf));}await Promise[_0x56e2e9(0x110)](_0x2696a8);}}},'saveCreds':async()=>_0x2ec6af(_0x31635e,_0x380c21(0x64f))};}var Ts=O(require(a0_0x5de833(0x34f))),Is=O(require(a0_0x5de833(0x236))),_t=require(a0_0x5de833(0x515)),wo=require(a0_0x5de833(0x39f)),Dt=require(a0_0x5de833(0x515)),xt;function Er(_0x269bad){const _0x34f1f1=a0_0x5de833;return xt||(xt=(0x0,wo[_0x34f1f1(0x312)])({'url':_0x269bad[_0x34f1f1(0x5c4)]}),xt[_0x34f1f1(0x53b)]()),xt;}function a0_0x26c2(_0x2b8b88,_0x1de267){const _0x580968=a0_0x5809();return a0_0x26c2=function(_0x26c2f9,_0x34fb11){_0x26c2f9=_0x26c2f9-0x92;let _0x138ff2=_0x580968[_0x26c2f9];return _0x138ff2;},a0_0x26c2(_0x2b8b88,_0x1de267);}var le=class c{constructor(_0x4e3a10,_0x359882){const _0x5c2cd3=a0_0x5de833;this['redisEnv']=_0x4e3a10,this['instanceName']=_0x359882,this[_0x5c2cd3(0x4a2)]=new R(c['name']),this[_0x5c2cd3(0xa9)]=Er(_0x4e3a10);}set[a0_0x5de833(0x4c2)](_0x92fc9){const _0x592b3f=a0_0x5de833;this[_0x592b3f(0x198)]=_0x92fc9;}async[a0_0x5de833(0xf3)](){const _0x128816=a0_0x5de833;try{return await this[_0x128816(0xa9)][_0x128816(0x1fa)]([_0x128816(0x4a0),this[_0x128816(0x611)][_0x128816(0x6be)]+':*']);}catch(_0x5aa380){this[_0x128816(0x4a2)][_0x128816(0x1b8)](_0x5aa380);}}async[a0_0x5de833(0x411)](_0x355613,_0x521d06){const _0x4ed96a=a0_0x5de833;try{let _0x5c0447=JSON[_0x4ed96a(0x564)](_0x521d06,Dt[_0x4ed96a(0x39b)][_0x4ed96a(0x651)]);return await this[_0x4ed96a(0xa9)][_0x4ed96a(0x531)](this[_0x4ed96a(0x611)][_0x4ed96a(0x6be)]+':'+this[_0x4ed96a(0x198)],_0x355613,_0x5c0447);}catch(_0x5c98b2){this['logger']['error'](_0x5c98b2);}}async[a0_0x5de833(0x21b)](){const _0x16e1d8=a0_0x5de833;try{let _0x140f4b=await this['client']['hGetAll'](this[_0x16e1d8(0x611)][_0x16e1d8(0x6be)]+':'+this[_0x16e1d8(0x198)]);if(_0x140f4b){for(let _0x4affd9 in _0x140f4b)Object['prototype'][_0x16e1d8(0x569)]['call'](_0x140f4b,_0x4affd9)&&(_0x140f4b[_0x4affd9]=JSON[_0x16e1d8(0x46c)](_0x140f4b[_0x4affd9],Dt['BufferJSON'][_0x16e1d8(0x310)]));return _0x140f4b;}}catch(_0x16aba0){this[_0x16e1d8(0x4a2)][_0x16e1d8(0x1b8)](_0x16aba0);}}async[a0_0x5de833(0x77f)](_0x497d2f){const _0x40578b=a0_0x5de833;try{let _0x2b3da6=await this[_0x40578b(0xa9)][_0x40578b(0xea)](this[_0x40578b(0x611)][_0x40578b(0x6be)]+':'+this[_0x40578b(0x198)],_0x497d2f);if(_0x2b3da6)return JSON[_0x40578b(0x46c)](_0x2b3da6,Dt[_0x40578b(0x39b)]['reviver']);}catch(_0x11aa9f){this[_0x40578b(0x4a2)]['error'](_0x11aa9f);}}async['removeData'](_0x575ed8){const _0x54a7f4=a0_0x5de833;try{return await this[_0x54a7f4(0xa9)]['hDel'](this[_0x54a7f4(0x611)]['PREFIX_KEY']+':'+this[_0x54a7f4(0x198)],_0x575ed8);}catch(_0x86be77){this[_0x54a7f4(0x4a2)][_0x54a7f4(0x1b8)](_0x86be77);}}async[a0_0x5de833(0x47e)](_0x5887a7){const _0x633ead=a0_0x5de833;try{return await this[_0x633ead(0xa9)][_0x633ead(0x4f9)](_0x5887a7||this[_0x633ead(0x611)]['PREFIX_KEY']+':'+this[_0x633ead(0x198)]);}catch(_0x3474ce){this['logger'][_0x633ead(0x1b8)](_0x3474ce);}}};async function Rs(_0x50577e,_0x44528a){const _0x4e7178=a0_0x5de833;let _0x35f71d=new R(Rs[_0x4e7178(0x40f)]),_0x484ac6=new le(_0x50577e,_0x44528a),_0x4cab79=async(_0x2b5d63,_0x4e2954)=>{const _0x3fe8d8=_0x4e7178;try{return await _0x484ac6[_0x3fe8d8(0x411)](_0x4e2954,_0x2b5d63);}catch(_0x2ba1b8){return _0x35f71d[_0x3fe8d8(0x1b8)]({'localError':_0x3fe8d8(0x411),'error':_0x2ba1b8});}},_0x278998=async _0x4071fc=>{const _0x55b067=_0x4e7178;try{return await _0x484ac6[_0x55b067(0x77f)](_0x4071fc);}catch(_0x5e3d2e){_0x35f71d['error']({'readData':_0x55b067(0x411),'error':_0x5e3d2e});return;}},_0x3ae96e=async _0x33f149=>{const _0x1ce062=_0x4e7178;try{return await _0x484ac6['removeData'](_0x33f149);}catch(_0x25c215){_0x35f71d[_0x1ce062(0x1b8)]({'readData':_0x1ce062(0xb2),'error':_0x25c215});}},_0x1c386b=await _0x278998('creds')||(0x0,_t[_0x4e7178(0x7a5)])();return{'state':{'creds':_0x1c386b,'keys':{'get':async(_0x54d694,_0x569177)=>{const _0x2f9ea4=_0x4e7178;let _0x3c7243={};return await Promise['all'](_0x569177[_0x2f9ea4(0x4ba)](async _0x1b4cc8=>{const _0x15f140=_0x2f9ea4;let _0x46bc2c=await _0x278998(_0x54d694+'-'+_0x1b4cc8);_0x54d694===_0x15f140(0x75c)&&_0x46bc2c&&(_0x46bc2c=_t['proto']['Message'][_0x15f140(0x25b)][_0x15f140(0x3b8)](_0x46bc2c)),_0x3c7243[_0x1b4cc8]=_0x46bc2c;})),_0x3c7243;},'set':async _0x12332a=>{const _0x3728ce=_0x4e7178;let _0x9d3b35=[];for(let _0x35a31e in _0x12332a)for(let _0x56720d in _0x12332a[_0x35a31e]){let _0x493fc0=_0x12332a[_0x35a31e][_0x56720d],_0x37e0e4=_0x35a31e+'-'+_0x56720d;_0x9d3b35[_0x3728ce(0x2c5)](_0x493fc0?await _0x4cab79(_0x493fc0,_0x37e0e4):await _0x3ae96e(_0x37e0e4));}await Promise['all'](_0x9d3b35);}}},'saveCreds':async()=>await _0x4cab79(_0x1c386b,'creds')};}var L=O(require('fs')),Me=require(a0_0x5de833(0x6cd)),jt=O(require(a0_0x5de833(0x27f))),Ft=require('https-proxy-agent'),vr=a0_0x5de833(0x3d2)[a0_0x5de833(0x11e)](),Pt=vr[a0_0x5de833(0x3a3)]('\x0a')[a0_0x5de833(0x4ba)](_0x5a7c3a=>{const _0x1f4096=a0_0x5de833;let _0x47c0dc=_0x5a7c3a[_0x1f4096(0x3a3)](':'),_0x3da84e={'host':_0x47c0dc[0x0],'port':_0x47c0dc[0x1],'protocol':_0x1f4096(0x46e)};return _0x47c0dc[_0x1f4096(0x612)]===0x4&&(_0x3da84e[_0x1f4096(0x134)]=_0x47c0dc[0x2],_0x3da84e['password']=_0x47c0dc[0x3]),_0x3da84e;});function yo(_0x5776a5){const _0x2cc33a=a0_0x5de833;return Pt[_0x2cc33a(0x781)](_0x1b977b=>_0x1b977b[_0x2cc33a(0x561)]===_0x5776a5)||null;}function bo(){const _0xbc1d30=a0_0x5de833;if(Pt[_0xbc1d30(0x612)]===0x0)return null;let _0x44dd81=Math[_0xbc1d30(0x429)](Math['random']()*Pt[_0xbc1d30(0x612)]);return Pt[_0x44dd81];}function $s(_0x3e1d37){const _0x86523f=a0_0x5de833;let _0x198f3f=_0x48df45=>typeof _0x48df45==_0x86523f(0x1c0)&&_0x48df45[_0x86523f(0x612)]>0x0,_0x1fd731=_0x4409ee=>{let _0xf5bdaa=parseInt(_0x4409ee,0xa);return!isNaN(_0xf5bdaa)&&_0xf5bdaa>0x0&&_0xf5bdaa<=0xffff;},_0x33c7b1=_0x501be9=>typeof _0x501be9==_0x86523f(0x1c0)&&_0x501be9[_0x86523f(0x612)]>0x0;return _0x3e1d37&&_0x198f3f(_0x3e1d37[_0x86523f(0x561)])&&_0x1fd731(_0x3e1d37['port'])&&(!_0x3e1d37[_0x86523f(0x134)]||_0x33c7b1(_0x3e1d37[_0x86523f(0x134)]))&&(!_0x3e1d37[_0x86523f(0x3c1)]||_0x33c7b1(_0x3e1d37[_0x86523f(0x3c1)]))&&(_0x3e1d37['protocol']===_0x86523f(0x46e)||_0x3e1d37[_0x86523f(0x20a)]==='https');}var Jt=require(a0_0x5de833(0x476)),xs=a0_0x5de833(0x1a1),No,ue=null,So=null,st=null,Nr=0x3,Rr=null,ee=b[a0_0x5de833(0x224)](a0_0x5de833(0x260))['API_KEY'][a0_0x5de833(0x311)];async function $r(){const _0x3730dd=a0_0x5de833;let _0x516250=await Se[_0x3730dd(0x782)]();ue=_0x516250?.[_0x3730dd(0x39e)]??null,Rr=_0x516250?.[_0x3730dd(0x61b)]??null,xs=_0x516250?.['connectedClient']??'Safari',No=_0x516250?.[_0x3730dd(0x78e)]??Ds??_0x3730dd(0x341),console[_0x3730dd(0x6c3)](_0x516250);}async function Ar(){await $r();}Ar();var Mo={},oe={},Ce=class c{constructor(_0x27e080,_0x44d0d4,_0xa78a3f){const _0xafe62c=a0_0x5de833;this[_0xafe62c(0x5cc)]=_0x27e080,this[_0xafe62c(0x753)]=_0x44d0d4,this[_0xafe62c(0x719)]=_0xa78a3f,this[_0xafe62c(0x30d)]=null,this['logger']=new R(c[_0xafe62c(0x40f)]),this[_0xafe62c(0x3c2)]={},this[_0xafe62c(0x5ac)]={},this[_0xafe62c(0x178)]={'state':_0xafe62c(0x44f)},this[_0xafe62c(0x371)]=(0x0,F[_0xafe62c(0x52f)])(ne,_0xafe62c(0x60a)),this[_0xafe62c(0x243)]=new Is[(_0xafe62c(0x1a6))](),this[_0xafe62c(0x296)]=new Is[(_0xafe62c(0x1a6))](),this[_0xafe62c(0x543)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':_0xafe62c(0x5ce),'qrcode.updated':_0xafe62c(0x2e0),'messages.upsert':_0xafe62c(0x6b4),'send.message':'/wa-message','messages.update':_0xafe62c(0x5fb),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','messages.set':_0xafe62c(0x5be),'contacts.set':_0xafe62c(0x5c6),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0xafe62c(0x29a),'chats.set':_0xafe62c(0x686),'chats.update':_0xafe62c(0x686),'chats.upsert':_0xafe62c(0x686),'chats.delete':_0xafe62c(0x686)},this['reconnectAttempts']=0x0,this[_0xafe62c(0x231)]=[],this[_0xafe62c(0x452)]=0xa,this[_0xafe62c(0x5e1)]=0xea60,this[_0xafe62c(0x37f)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x36a0af,_0x39ea45)=>{const _0x23925f=_0xafe62c;let _0x724f3c=[];for await(let _0x26f286 of _0x36a0af)_0x724f3c[_0x23925f(0x2c5)]({'_id':_0x26f286['id'],'owner':this[_0x23925f(0x3c2)][_0x23925f(0x265)],'group':_0x26f286['id']['endsWith']('@g.us'),'name':_0x26f286[_0x23925f(0x40f)]||_0x26f286[_0x23925f(0x4e8)]||null,'contactname':null,'lastmsg':_0x26f286[_0x23925f(0x6c9)]&&_0x26f286[_0x23925f(0x6c9)][_0x23925f(0x667)]()['length']<0xd?_0x26f286[_0x23925f(0x6c9)]*0x3e8:_0x26f286[_0x23925f(0x6c9)]||null,'archived':_0x26f286[_0x23925f(0x116)]||!0x1,'unreadcount':_0x26f286[_0x23925f(0x5c1)]||0x0,'ephemeralExpiration':_0x26f286[_0x23925f(0x695)]||0x0});this['sendDataWebhook']('chats.upsert',_0x724f3c);},'chats.update':async(_0x19efd3,_0xe788a4)=>{const _0x24f4c8=_0xafe62c;for(let _0x52ab45 of _0x19efd3){let _0x4644a5={'_id':_0x52ab45['id'],'owner':this[_0x24f4c8(0x3c2)][_0x24f4c8(0x265)],'archived':_0x52ab45[_0x24f4c8(0x116)],'muteEndTime':_0x52ab45[_0x24f4c8(0x1b0)],'ephemeralExpiration':_0x52ab45[_0x24f4c8(0x695)]},_0x4622a5=!0x1,_0x5244c2={};_0x4644a5[_0x24f4c8(0x116)]!=null&&(this[_0x24f4c8(0x4a2)]['verbose'](this[_0x24f4c8(0x198)]+'\x20('+this[_0x24f4c8(0x3c2)]['wuid']+_0x24f4c8(0x680)+_0x52ab45['id']+_0x24f4c8(0x5f2)+_0x52ab45[_0x24f4c8(0x116)]),_0x4622a5=!0x0,_0x5244c2['archived']=_0x52ab45[_0x24f4c8(0x116)]),_0x24f4c8(0x1b0)in _0x52ab45&&(this[_0x24f4c8(0x4a2)][_0x24f4c8(0x33b)](this['instanceName']+'\x20('+this[_0x24f4c8(0x3c2)][_0x24f4c8(0x265)]+_0x24f4c8(0x593)+_0x52ab45['id']+_0x24f4c8(0x5f2)+(_0x52ab45['muteEndTime']??'0')),_0x4622a5=!0x0,_0x5244c2[_0x24f4c8(0x1b0)]=_0x52ab45['muteEndTime']??0x0),_0x24f4c8(0x695)in _0x52ab45&&(this[_0x24f4c8(0x4a2)][_0x24f4c8(0x33b)](this['instanceName']+'\x20('+this[_0x24f4c8(0x3c2)]['wuid']+_0x24f4c8(0x570)+_0x52ab45['id']+_0x24f4c8(0x5f2)+(_0x52ab45[_0x24f4c8(0x695)]!==void 0x0?_0x52ab45[_0x24f4c8(0x695)]:_0x24f4c8(0x1a2))),_0x5244c2['ephemeralExpiration']=_0x52ab45[_0x24f4c8(0x695)]===null?0x0:_0x52ab45[_0x24f4c8(0x695)],_0x4622a5=!0x0);let _0x453a1c;_0x4622a5&&(_0x453a1c=await this[_0x24f4c8(0x719)][_0x24f4c8(0x5e6)][_0x24f4c8(0x4fc)]({'where':{'_id':_0x52ab45['id']}},_0x5244c2,this['instance']['wuid'])),_0x453a1c&&J(this[_0x24f4c8(0x198)],_0x24f4c8(0x1fe),{'chat':_0x453a1c});}},'chats.delete':async _0x5aac44=>{const _0x31d48e=_0xafe62c;for(let _0x334a53 of _0x5aac44)if(_0x334a53[_0x31d48e(0x6d9)]('@g.us')){await this['repository'][_0x31d48e(0x5e6)][_0x31d48e(0xb9)]({'where':{'_id':_0x334a53}},this[_0x31d48e(0x3c2)][_0x31d48e(0x265)]);let _0x3996ad={'where':{'key':{'remoteJid':_0x334a53}}};await this['repository'][_0x31d48e(0x37e)]['delete'](_0x3996ad,this[_0x31d48e(0x3c2)][_0x31d48e(0x265)]);}else{await this[_0x31d48e(0x719)][_0x31d48e(0x5e6)][_0x31d48e(0x4fc)]({'where':{'_id':_0x334a53}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x31d48e(0x3c2)]['wuid']);let _0x2b19da={'where':{'key':{'remoteJid':_0x334a53}}};await this[_0x31d48e(0x719)][_0x31d48e(0x37e)][_0x31d48e(0xb9)](_0x2b19da,this[_0x31d48e(0x3c2)]['wuid']);}this[_0x31d48e(0x780)](_0x31d48e(0x196),[..._0x5aac44]);}},this['contactHandle']={'contacts.upsert':async(_0x4f3b5e,_0x51ab93)=>{const _0x1e1239=_0xafe62c;let _0xcf9279=await this[_0x1e1239(0x719)][_0x1e1239(0x432)][_0x1e1239(0x781)]({'where':{}},this[_0x1e1239(0x3c2)][_0x1e1239(0x265)]),_0x2a8439=[];for await(let _0x1ed72c of _0x4f3b5e)_0xcf9279[_0x1e1239(0x781)](_0x43a95e=>_0x43a95e[_0x1e1239(0x478)]===_0x1ed72c['id'])||_0x2a8439['push']({'_id':_0x1ed72c['id'],'pushName':_0x1ed72c?.[_0x1e1239(0x40f)]||_0x1ed72c?.[_0x1e1239(0x785)],'owner':this['instance'][_0x1e1239(0x265)]});this[_0x1e1239(0x780)](_0x1e1239(0x384),_0x2a8439),await this[_0x1e1239(0x719)][_0x1e1239(0x432)][_0x1e1239(0x3e6)](_0x2a8439);},'contacts.update':async(_0x558def,_0xf541b6)=>{const _0xf4904b=_0xafe62c;let _0x4868f9=[];for await(let _0x7cd3f3 of _0x558def)_0x4868f9['push']({'_id':_0x7cd3f3['id'],'pushName':_0x7cd3f3?.[_0xf4904b(0x40f)]??_0x7cd3f3?.['verifiedName'],'owner':this[_0xf4904b(0x3c2)][_0xf4904b(0x265)]});this[_0xf4904b(0x780)](_0xf4904b(0x662),_0x4868f9);}},this[_0xafe62c(0x704)]={'messaging-history.set':async({messages:_0x5ecdb4,chats:_0xa533e,isLatest:_0x2b5538},_0x56edf9)=>{const _0x3541d4=_0xafe62c;if(_0x2b5538){let _0x358dc7=await Promise['all'](_0xa533e[_0x3541d4(0x4ba)](async _0x7e6ef2=>({'_id':_0x7e6ef2['id'],'owner':this[_0x3541d4(0x3c2)][_0x3541d4(0x265)],'group':_0x7e6ef2['id'][_0x3541d4(0x6d9)]('@g.us'),'name':_0x7e6ef2[_0x3541d4(0x40f)]||_0x7e6ef2[_0x3541d4(0x4e8)]||_0x7e6ef2['username']||null,'contactname':null,'lastmsg':_0x7e6ef2[_0x3541d4(0x6c9)]&&_0x7e6ef2['conversationTimestamp'][_0x3541d4(0x667)]()['length']<0xd?_0x7e6ef2[_0x3541d4(0x6c9)]*0x3e8:_0x7e6ef2[_0x3541d4(0x6c9)]||null,'archived':_0x7e6ef2[_0x3541d4(0x116)]||!0x1,'unreadcount':_0x7e6ef2[_0x3541d4(0x5c1)]||0x0,'ephemeralExpiration':_0x7e6ef2[_0x3541d4(0x695)]||0x0,'muteEndTime':_0x7e6ef2[_0x3541d4(0x1b0)]||0x0})));this[_0x3541d4(0x780)](_0x3541d4(0x132),_0x358dc7),await this[_0x3541d4(0x45e)](_0x358dc7,_0x56edf9);}let _0x56bcea=[],_0x526b39=Date[_0x3541d4(0x338)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2f4be7]of Object[_0x3541d4(0x286)](_0x5ecdb4)){if(_0x2f4be7[_0x3541d4(0x37e)]?.[_0x3541d4(0x6cb)]||_0x2f4be7[_0x3541d4(0x37e)]?.[_0x3541d4(0x4dd)]||!_0x2f4be7[_0x3541d4(0x37e)]||_0x2f4be7[_0x3541d4(0x298)][_0x3541d4(0x572)]===_0x3541d4(0x22f)||(Ts[_0x3541d4(0x1a6)]['isLong'](_0x2f4be7?.[_0x3541d4(0x190)])&&(_0x2f4be7['messageTimestamp']=_0x2f4be7[_0x3541d4(0x190)]?.['toNumber']()),_0x2f4be7['messageTimestamp']&&_0x2f4be7[_0x3541d4(0x190)][_0x3541d4(0x667)]()[_0x3541d4(0x612)]<0xd&&(_0x2f4be7[_0x3541d4(0x190)]=_0x2f4be7['messageTimestamp']*0x3e8),_0x2f4be7['messageTimestamp']<_0x526b39))continue;let _0x2533a2=(0x0,f['normalizeMessageContent'])(_0x2f4be7[_0x3541d4(0x37e)]),_0x3e96e4=(0x0,f[_0x3541d4(0xe7)])(_0x2533a2),{message_normalized:_0x22147e}=this['normalizeMessage'](_0x2533a2,_0x3e96e4,null);Object[_0x3541d4(0x4a0)](_0x22147e)[_0x3541d4(0x612)]>0x0&&_0x56bcea[_0x3541d4(0x2c5)]({'_id':_0x2f4be7[_0x3541d4(0x298)]['id'],'key':_0x2f4be7['key'],'pushName':_0x2f4be7[_0x3541d4(0x438)],'participant':_0x2f4be7[_0x3541d4(0x548)],'message':_0x2533a2,'messageType':_0x3e96e4,'message_normalized':{'key':_0x2f4be7[_0x3541d4(0x298)],'pushName':_0x2f4be7[_0x3541d4(0x438)],'messageTimestamp':_0x2f4be7[_0x3541d4(0x190)],..._0x22147e},'messageTimestamp':_0x2f4be7[_0x3541d4(0x190)],'owner':this[_0x3541d4(0x3c2)]['wuid']});}_0x56edf9[_0x3541d4(0x34e)]&&_0x56bcea['length']>0x0&&(this[_0x3541d4(0x4a2)][_0x3541d4(0x33b)](this[_0x3541d4(0x198)]+'\x20('+this[_0x3541d4(0x3c2)][_0x3541d4(0x265)]+'):\x20'+_0x56bcea[_0x3541d4(0x612)]+_0x3541d4(0x5b9)+this['instance'][_0x3541d4(0x265)]+_0x3541d4(0x5bc)),await this[_0x3541d4(0x719)][_0x3541d4(0x37e)][_0x3541d4(0x3e6)]([..._0x56bcea],this[_0x3541d4(0x3c2)][_0x3541d4(0x265)])),this['sendDataWebhook'](_0x3541d4(0x176),[..._0x56bcea]),_0x5ecdb4=void 0x0;},'messages.upsert':async({messages:_0x6e5104,type:_0x16a9f3},_0x2ee8d6)=>{const _0x4dde75=_0xafe62c;let _0x5e679e=_0x6e5104[0x0],_0x36bd3e=_0x5e679e[_0x4dde75(0x298)]['id'],_0x30c7b1=_0x5e679e[_0x4dde75(0x42f)]===0x2,_0x5df6e8=0xb;if(this[_0x4dde75(0x5ac)]?.['groups_ignore']&&_0x5e679e[_0x4dde75(0x298)]['remoteJid']['includes'](_0x4dde75(0x714))){this[_0x4dde75(0x4a2)][_0x4dde75(0x33b)](this[_0x4dde75(0x198)]+'\x20('+this[_0x4dde75(0x3c2)][_0x4dde75(0x265)]+_0x4dde75(0x4e1));return;}if(_0x30c7b1){if(oe[_0x36bd3e]||(oe[_0x36bd3e]=0x0),oe[_0x36bd3e]++,this['logger'][_0x4dde75(0x1b8)](this[_0x4dde75(0x198)]+'\x20('+this[_0x4dde75(0x3c2)][_0x4dde75(0x265)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)]+_0x4dde75(0x38f)+_0x36bd3e+':\x20'+oe[_0x36bd3e]+'/'+_0x5df6e8),oe[_0x36bd3e]>=_0x5df6e8){this[_0x4dde75(0x4a2)][_0x4dde75(0x1b8)](this[_0x4dde75(0x198)]+'\x20('+this['instance'][_0x4dde75(0x265)]+_0x4dde75(0x666)+_0x5e679e['key'][_0x4dde75(0x572)]+_0x4dde75(0x38f)+_0x36bd3e+'.');let _0x1e0c1a={'key':{..._0x5e679e[_0x4dde75(0x298)]},'message':{'conversation':_0x4dde75(0x3af)+_0x36bd3e+_0x4dde75(0x6a7)}};this[_0x4dde75(0xa9)]['ev'][_0x4dde75(0x3c0)](_0x4dde75(0x665),{'messages':[_0x1e0c1a],'type':_0x4dde75(0x2b5)}),delete oe[_0x36bd3e];}}else oe[_0x36bd3e]&&(this[_0x4dde75(0x4a2)][_0x4dde75(0x779)](_0x4dde75(0x1a0)+oe[_0x36bd3e]+_0x4dde75(0x1e4)+_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)]+_0x4dde75(0x38f)+_0x36bd3e),delete oe[_0x36bd3e]);if(_0x16a9f3!=='notify'||!_0x5e679e?.['message']||_0x5e679e[_0x4dde75(0x37e)]?.['protocolMessage']||_0x5e679e['message'][_0x4dde75(0x4dd)]||_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)]===_0x4dde75(0x22f))return;let _0x16eff2=null,_0x54e390=null;try{_0x16eff2=await this[_0x4dde75(0x305)](_0x5e679e),_0x54e390=_0x16eff2?_0x16eff2[_0x4dde75(0x52f)](','):null;}catch(_0x3066f9){this['logger'][_0x4dde75(0x33b)](this['instanceName']+'\x20('+this['instance'][_0x4dde75(0x265)]+'):\x20'+(_0x3066f9 instanceof Error?_0x3066f9['message']:JSON[_0x4dde75(0x564)](_0x3066f9,null,0x2))),_0x54e390=_0x4dde75(0x5bf);}this[_0x4dde75(0xa9)][_0x4dde75(0x205)](_0x4dde75(0x664)),Ts[_0x4dde75(0x1a6)][_0x4dde75(0x698)](_0x5e679e[_0x4dde75(0x190)])&&(_0x5e679e['messageTimestamp']=_0x5e679e['messageTimestamp']?.[_0x4dde75(0x560)]()),_0x5e679e[_0x4dde75(0x190)]&&_0x5e679e[_0x4dde75(0x190)][_0x4dde75(0x667)]()[_0x4dde75(0x612)]<0xd&&(_0x5e679e[_0x4dde75(0x190)]=_0x5e679e[_0x4dde75(0x190)]*0x3e8);let _0x7ccd82=_0x5e679e[_0x4dde75(0x37e)],_0x55dcaf=(0x0,f[_0x4dde75(0x3cf)])(_0x7ccd82),_0x2bb3b5=(0x0,f[_0x4dde75(0xe7)])(_0x55dcaf),{messageContent:_0x5fac78,message_normalized:_0x519dbf}=this['normalizeMessage'](_0x55dcaf,_0x2bb3b5,_0x54e390);_0x2bb3b5===_0x4dde75(0x6cb)&&_0x5fac78?.[_0x4dde75(0x75e)]&&(_0x2bb3b5='editedMessage');let _0x2fbaa1,_0x43305a=_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)][_0x4dde75(0x6d9)]('@g.us');if(_0x5e679e['key'][_0x4dde75(0x3ce)])_0x2fbaa1=this[_0x4dde75(0x3c2)]['profilePictureUrl'];else{let _0x3f90e7=_0x43305a?_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x548)]:_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)];_0x2fbaa1=(await this[_0x4dde75(0x520)](_0x3f90e7,_0x5e679e[_0x4dde75(0x438)],!0x1))[_0x4dde75(0x114)]['pictureUrl'];}let _0x103ac8={'_id':_0x5e679e['key']['id'],'key':_0x5e679e[_0x4dde75(0x298)],'isGroup':_0x43305a,'profilePictureUrl':_0x2fbaa1,'pushName':_0x5e679e['pushName'],'message':_0x55dcaf,'messageType':_0x2bb3b5,'message_normalized':{'key':_0x5e679e['key'],'pushName':_0x5e679e[_0x4dde75(0x438)],'messageTimestamp':_0x5e679e[_0x4dde75(0x190)],'source':(0x0,f[_0x4dde75(0x48d)])(_0x5e679e[_0x4dde75(0x298)]['id']),..._0x519dbf},'messageTimestamp':_0x5e679e[_0x4dde75(0x190)],'owner':this[_0x4dde75(0x3c2)][_0x4dde75(0x265)],'source':(0x0,f[_0x4dde75(0x48d)])(_0x5e679e[_0x4dde75(0x298)]['id']),'expiration':_0x5fac78?.['contextInfo']?.[_0x4dde75(0x347)]||0x0};_0x5fac78||(console['error'](_0x4dde75(0x654)),this[_0x4dde75(0x4a2)][_0x4dde75(0x1b8)](_0x103ac8)),this[_0x4dde75(0x4a2)][_0x4dde75(0x6c3)](this[_0x4dde75(0x198)]+'\x20('+this[_0x4dde75(0x3c2)][_0x4dde75(0x265)]+_0x4dde75(0x574)+(_0x103ac8[_0x4dde75(0x298)]?.['fromMe']?_0x4dde75(0x2e2):_0x4dde75(0xf1))+'\x20['+_0x103ac8[_0x4dde75(0x298)]?.[_0x4dde75(0x572)][_0x4dde75(0x25a)]('@s.whatsapp.net','')+']\x20('+_0x103ac8[_0x4dde75(0x370)]+')'),_0x103ac8[_0x4dde75(0x306)]?.['text']&&this['logger'][_0x4dde75(0x6c3)](_0x36bd3e+':\x20'+_0x103ac8['message_normalized']?.[_0x4dde75(0x1d2)]),await this[_0x4dde75(0x719)][_0x4dde75(0x37e)][_0x4dde75(0x3e6)]([_0x103ac8],this[_0x4dde75(0x3c2)][_0x4dde75(0x265)]),this[_0x4dde75(0x780)](_0x4dde75(0x665),_0x103ac8),J(this[_0x4dde75(0x198)],'messages',{'message':_0x103ac8}),_0x5e679e[_0x4dde75(0x298)][_0x4dde75(0x572)]!==_0x4dde75(0x22f)&&await this[_0x4dde75(0x486)](_0x2ee8d6,_0x103ac8,_0x4dde75(0x28b));},'messages.update':async(_0x5705c9,_0x465d07)=>{const _0x4019b9=_0xafe62c;let _0x5af25c={0x0:'ERROR',0x1:'PENDING',0x2:_0x4019b9(0x17f),0x3:_0x4019b9(0x2e5),0x4:_0x4019b9(0x29d),0x5:_0x4019b9(0x59e)};for await(let {key:_0x527fde,update:_0x43c8d6}of _0x5705c9){if(this[_0x4019b9(0x5ac)]?.['groups_ignore']&&_0x527fde['remoteJid'][_0x4019b9(0x2d8)]('@g.us')){this[_0x4019b9(0x4a2)][_0x4019b9(0x33b)](this['instanceName']+'\x20('+this[_0x4019b9(0x3c2)]['wuid']+_0x4019b9(0x738));return;}if(_0x527fde[_0x4019b9(0x572)]!==_0x4019b9(0x22f)){let _0x4d8b51=Date[_0x4019b9(0x338)](),_0x3d278e;_0x43c8d6[_0x4019b9(0x37e)]===null&&_0x43c8d6['status']===void 0x0?_0x3d278e=_0x4019b9(0x51e):_0x3d278e=_0x5af25c[_0x43c8d6[_0x4019b9(0x620)]];let _0x4795f7=_0x527fde[_0x4019b9(0x572)]['replace'](/:\d{1,2}@/g,'@'),_0x27a1b2={..._0x527fde,'remoteJid':_0x4795f7,'status':_0x3d278e,'datetime':_0x4d8b51,'owner':this[_0x4019b9(0x3c2)][_0x4019b9(0x265)]};this[_0x4019b9(0x780)](_0x4019b9(0x59d),_0x27a1b2),await this['updateMessage'](_0x527fde,_0x27a1b2);}}},'labels.association':async({type:_0x2126d7,association:_0x4259a6})=>{const _0xb6a48=_0xafe62c;if(_0x4259a6[_0xb6a48(0x300)]===_0xb6a48(0x276)){let _0x1704c0,_0x1e5f52=0x0;for(;!_0x1704c0&&_0x1e5f52<this[_0xb6a48(0x115)];)_0x1704c0=await this[_0xb6a48(0x719)]['chat']['findOne']({'where':{'_id':_0x4259a6[_0xb6a48(0x588)]}},this[_0xb6a48(0x3c2)][_0xb6a48(0x265)]),_0x1704c0||(_0x1e5f52++,this[_0xb6a48(0x4a2)][_0xb6a48(0x2c3)](this['instanceName']+'\x20('+this['instance'][_0xb6a48(0x265)]+_0xb6a48(0x26f)+_0x4259a6[_0xb6a48(0x588)]+_0xb6a48(0x2fd)+this['delayChatLabel_RETRY_DELAY_MS']+_0xb6a48(0x4bd)+_0x1e5f52+'/'+this[_0xb6a48(0x115)]+')'),await this['delayChatLabel'](this[_0xb6a48(0x568)]));if(!_0x1704c0){console['error'](_0xb6a48(0x58f)+_0x4259a6[_0xb6a48(0x588)]+_0xb6a48(0x5a7)+this[_0xb6a48(0x115)]+_0xb6a48(0x57a));return;}switch(_0x2126d7){case _0xb6a48(0x773):console[_0xb6a48(0x6c3)](_0x4259a6),await this[_0xb6a48(0x719)][_0xb6a48(0x5e6)][_0xb6a48(0x4fc)]({'where':{'_id':_0x4259a6[_0xb6a48(0x588)]}},{'leadInfo.etiquetas':_0x4259a6[_0xb6a48(0x148)]},this[_0xb6a48(0x3c2)][_0xb6a48(0x265)],void 0x0,_0xb6a48(0x1c6));break;case _0xb6a48(0x2ea):console[_0xb6a48(0x6c3)](_0x4259a6),await this[_0xb6a48(0x719)][_0xb6a48(0x5e6)][_0xb6a48(0x4fc)]({'where':{'_id':_0x4259a6[_0xb6a48(0x588)]}},{'leadInfo.etiquetas':_0x4259a6[_0xb6a48(0x148)]},this[_0xb6a48(0x3c2)][_0xb6a48(0x265)],void 0x0,_0xb6a48(0x1e8));break;default:console['error'](_0xb6a48(0x293)+_0x2126d7+']');}}},'labels.edit':async _0x405b17=>{const _0x5ddf6f=_0xafe62c;if(!_0x405b17||!_0x405b17['id']){console['error'](_0x5ddf6f(0xa2));return;}if(!_0x405b17['deleted']){let _0x151856=['#ff9484','#64c4ff','#fed428',_0x5ddf6f(0x2cc),'#9ab6c1',_0x5ddf6f(0x660),_0x5ddf6f(0x3d8),_0x5ddf6f(0x28f),_0x5ddf6f(0x5e2),_0x5ddf6f(0x397),'#01d0e2',_0x5ddf6f(0x645),_0x5ddf6f(0x5f9),_0x5ddf6f(0x3da),_0x5ddf6f(0x46b),_0x5ddf6f(0x63b),_0x5ddf6f(0x66e),_0x5ddf6f(0xed),'#9ba6ff',_0x5ddf6f(0x1a9)],_0x4b8f15;typeof _0x405b17[_0x5ddf6f(0x405)]==_0x5ddf6f(0x256)&&_0x405b17['color']>=0x0&&_0x405b17[_0x5ddf6f(0x405)]<_0x151856[_0x5ddf6f(0x612)]?_0x4b8f15=_0x151856[_0x405b17[_0x5ddf6f(0x405)]]:(console['error'](_0x5ddf6f(0x5f7),_0x405b17[_0x5ddf6f(0x405)]),_0x4b8f15=_0x5ddf6f(0x5b4));let _0x835df5={'_id':_0x405b17['id'],'colorHex':_0x4b8f15,'color':_0x405b17?.['color'],'name':_0x405b17?.[_0x5ddf6f(0x40f)],'owner':this['instance'][_0x5ddf6f(0x265)]};await this[_0x5ddf6f(0x719)][_0x5ddf6f(0x702)][_0x5ddf6f(0x4fc)]({'where':{'_id':_0x405b17['id']}},_0x835df5,this[_0x5ddf6f(0x3c2)][_0x5ddf6f(0x265)]),this['logger']['info'](this[_0x5ddf6f(0x198)]+'\x20('+this[_0x5ddf6f(0x3c2)]['wuid']+_0x5ddf6f(0xa3)+_0x405b17);}_0x405b17[_0x5ddf6f(0x36b)]&&(await this[_0x5ddf6f(0x719)][_0x5ddf6f(0x702)][_0x5ddf6f(0xb9)]({'where':{'_id':_0x405b17['id']}},this[_0x5ddf6f(0x3c2)][_0x5ddf6f(0x265)]),this['logger'][_0x5ddf6f(0x2c3)](_0x5ddf6f(0x24f)+_0x405b17['id']));}},this[_0xafe62c(0x5bd)]={'groups.upsert':async _0x5405fe=>{const _0x40efae=_0xafe62c;this[_0x40efae(0x5ac)]?.[_0x40efae(0x5a5)]||this[_0x40efae(0x780)](_0x40efae(0x74f),_0x5405fe);for(let _0x2a0744 of _0x5405fe)await this[_0x40efae(0x1ce)](_0x2a0744);},'groups.update':async _0x47519c=>{const _0x2b5ca1=_0xafe62c;this[_0x2b5ca1(0x5ac)]?.[_0x2b5ca1(0x5a5)]||this['sendDataWebhook'](_0x2b5ca1(0x787),_0x47519c);for(let _0x3fa45d of _0x47519c)await this[_0x2b5ca1(0x1ce)](_0x3fa45d);},'group-participants.update':async _0x4a0390=>{const _0x3cb441=_0xafe62c;this[_0x3cb441(0x5ac)]?.[_0x3cb441(0x5a5)]||this[_0x3cb441(0x780)](_0x3cb441(0x3bd),_0x4a0390),await this['updateGroupParticipantsWebhook'](_0x4a0390);}},this[_0xafe62c(0x115)]=0x5,this[_0xafe62c(0x568)]=0x1388,this['processPollUpdateMessage']=async _0x2e273b=>{const _0x23ea03=_0xafe62c;if(_0x2e273b['message']?.[_0x23ea03(0x7b1)]){let _0x399d59=await this[_0x23ea03(0x35b)](_0x2e273b[_0x23ea03(0x37e)][_0x23ea03(0x7b1)][_0x23ea03(0x302)],!0x0);if(_0x399d59){let _0x4fbfe3=_0x399d59[_0x23ea03(0x298)]['fromMe']?this['instance'][_0x23ea03(0x265)]+_0x23ea03(0x443):_0x399d59[_0x23ea03(0x298)][_0x23ea03(0x548)]||_0x399d59[_0x23ea03(0x298)]['remoteJid'],_0x31d537=_0x399d59[_0x23ea03(0x298)]['id'],_0x51706f=_0x399d59[_0x23ea03(0x37e)],_0x365c89=Buffer[_0x23ea03(0x4a6)](_0x51706f['messageContextInfo'][_0x23ea03(0x344)][_0x23ea03(0x667)](_0x23ea03(0x54e)),_0x23ea03(0x54e)),_0x401a70=(0x0,f[_0x23ea03(0x78b)])(_0x2e273b[_0x23ea03(0x37e)][_0x23ea03(0x7b1)][_0x23ea03(0x712)],{'pollCreatorJid':_0x4fbfe3,'pollMsgId':_0x31d537,'pollEncKey':_0x365c89,'voterJid':_0x2e273b['key']['fromMe']?this['instance'][_0x23ea03(0x265)]+_0x23ea03(0x443):_0x2e273b[_0x23ea03(0x298)][_0x23ea03(0x572)][_0x23ea03(0x6d9)](_0x23ea03(0x53c))?_0x2e273b[_0x23ea03(0x298)][_0x23ea03(0x548)]:_0x2e273b[_0x23ea03(0x298)][_0x23ea03(0x572)]}),_0xa4e022=[],_0x2e2321=_0x401a70[_0x23ea03(0x307)][_0x23ea03(0x4ba)](_0x647043=>Buffer['from'](_0x647043)['toString'](_0x23ea03(0x54e)));for(let {optionName:_0x352e80}of _0x51706f['pollCreationMessage']?.['options']||_0x51706f[_0x23ea03(0x149)]?.[_0x23ea03(0x14e)]||_0x51706f['pollCreationMessageV2']?.[_0x23ea03(0x14e)])_0x2e2321[_0x23ea03(0x2d9)]((0x0,f[_0x23ea03(0x98)])(Buffer[_0x23ea03(0x4a6)](_0x352e80))[_0x23ea03(0x667)]('hex'))>-0x1&&_0xa4e022[_0x23ea03(0x2c5)](_0x352e80);return _0xa4e022;}}return null;},this[_0xafe62c(0x2ff)]=(_0x1829c0,_0x4468ce,_0x320e8f)=>{const _0x1e1fc3=_0xafe62c;try{let _0x5a3edc=_0x1829c0?(0x0,f['extractMessageContent'])(_0x1829c0)[_0x4468ce]:void 0x0,_0x5ae458={},_0x3b557b=null,_0x18952b=null,_0x5c2293=null;_0x4468ce===_0x1e1fc3(0x6cb)&&_0x5a3edc?.[_0x1e1fc3(0x75e)]&&(_0x4468ce=(0x0,f[_0x1e1fc3(0xe7)])(_0x5a3edc[_0x1e1fc3(0x75e)]),_0x3b557b=_0x1829c0[_0x1e1fc3(0x6cb)][_0x1e1fc3(0x298)]['id'],_0x5a3edc=_0x1829c0[_0x1e1fc3(0x6cb)][_0x1e1fc3(0x75e)][_0x4468ce]),_0x1829c0[_0x4468ce]?.[_0x1e1fc3(0x2ce)]?.[_0x1e1fc3(0x795)]&&_0x1829c0[_0x4468ce]?.[_0x1e1fc3(0x2ce)]?.[_0x1e1fc3(0x1ab)]&&(_0x18952b=_0x1829c0[_0x4468ce]['contextInfo'][_0x1e1fc3(0x795)]),_0x1829c0[_0x1e1fc3(0x68c)]&&(_0x5c2293=_0x1829c0[_0x1e1fc3(0x68c)][_0x1e1fc3(0x298)]['id']);let _0x32fd58;if(_0x5a3edc&&typeof _0x5a3edc==_0x1e1fc3(0x31d)&&_0x1e1fc3(0x302)in _0x5a3edc&&({pollCreationMessageKey:_0x32fd58}=_0x5a3edc),_0x4468ce===_0x1e1fc3(0x726)||_0x4468ce===_0x1e1fc3(0x671)||_0x4468ce===_0x1e1fc3(0x149)){let _0x2325b8=_0x5a3edc[_0x1e1fc3(0x14e)][_0x1e1fc3(0x4ba)](_0x1d6769=>_0x1d6769[_0x1e1fc3(0xd2)])[_0x1e1fc3(0x52f)]('|');_0x5ae458[_0x1e1fc3(0x2d0)]=_0x2325b8;}let _0xd2d48f='';if(_0x5a3edc&&(_0xd2d48f+=_0x5a3edc[_0x1e1fc3(0x40f)]?_0x5a3edc[_0x1e1fc3(0x40f)]:'',_0xd2d48f+=_0x5a3edc['caption']?'\x20'+_0x5a3edc['caption']:'',_0xd2d48f+=_0x5a3edc[_0x1e1fc3(0x633)]?'\x20'+_0x5a3edc['conversation']:'',_0xd2d48f+=_0x5a3edc[_0x1e1fc3(0x4e8)]?'\x20'+_0x5a3edc[_0x1e1fc3(0x4e8)]:''),_0x4468ce==='listMessage'){_0xd2d48f=(_0x5a3edc['title']||'')+'\x0a'+(_0x5a3edc[_0x1e1fc3(0x3d9)]||'')+'\x0a'+(_0x5a3edc[_0x1e1fc3(0x703)]||'');let _0x241288=this[_0x1e1fc3(0x653)](_0x5a3edc[_0x1e1fc3(0x796)]);_0x5ae458[_0x1e1fc3(0x2d0)]=_0x241288;}if(_0x4468ce===_0x1e1fc3(0x42b)&&(_0x320e8f=_0x5a3edc[_0x1e1fc3(0x628)]),_0x5a3edc&&_0x5a3edc[_0x1e1fc3(0x728)]){let _0x4b69d2=this[_0x1e1fc3(0x57b)](JSON[_0x1e1fc3(0x564)](_0x5a3edc['vcard'],null,0x2));_0xd2d48f=_0xd2d48f+'\x0a'+_0x4b69d2;}if(_0x5a3edc){let {sections:_0x58baea,listType:_0x576f2d,displayName:_0x4f580c,vcard:_0x3d1563,contactVcard:_0x270ac0,name:_0x29762c,caption:_0x1de896,conversation:_0x39f313,pollCreationMessageKey:_0x4420b5,footerText:_0x1ce975,contentText:_0x17f289,pageCount:_0x52705d,headerType:_0x580794,isAvatar:_0x35e7f7,isAnimated:_0x59a33a,fallbackLc:_0xe19915,fallbackLg:_0x54c1df,namespace:_0xd3eb12,elementName:_0x5314ba,localizableParams:_0x31f5fa,viewOnce:_0x4caee6,height:_0x1d82e4,width:_0x1ef183,key:_0x3a4503,firstScanLength:_0x2637c8,firstScanSidecar:_0x5812ad,gifPlayback:_0x644c96,gifAttribution:_0x527f9b,midQualityFileSha256:_0x230ce5,scansSidecar:_0x22d718,streamingSidecar:_0x5329fc,thumbnailHeight:_0x375e61,thumbnailWidth:_0x5cdadd,thumbnailEncSha256:_0x5af03d,thumbnailDirectPath:_0x1c5096,canonicalUrl:_0x91739b,matchedText:_0x5ced15,previewType:_0x1ee814,thumbnailSha256:_0x5f259b,deviceListMetadataVersion:_0x31913c,inviteLinkGroupTypeV2:_0x70edca,interactiveAnnotations:_0x13ee18,scanLengths:_0x45f942,jpegThumbnail:_0x3689f3,url:_0x4da1e5,mediaKeyTimestamp:_0x18bba7,waveform:_0x63a161,stickerSentTs:_0x5c4480,firstFrameLength:_0x2f1e33,fileEncSha256:_0x147d68,contextInfo:_0x4ba7d7,firstFrameSidecar:_0x5f0cd7,directPath:_0x35a1f2,fileSha256:_0x368ec5,mediaKey:_0x44e142,senderTimestampMs:_0x1f1998,..._0x5e03a2}=_0x5a3edc;(_0x4468ce==='listMessage'||_0x4468ce===_0x1e1fc3(0x42b))&&(delete _0x5e03a2[_0x1e1fc3(0x628)],delete _0x5e03a2[_0x1e1fc3(0x3d9)]),typeof _0x5a3edc=='string'?_0x5ae458={'text':_0x5a3edc,'type':_0x4468ce||'conversation',..._0x3b557b&&{'edited':_0x3b557b},..._0x18952b&&{'quoted':_0x18952b},..._0x5c2293&&{'reaction':_0x5c2293}}:_0x5ae458={'text':_0xd2d48f,..._0x5e03a2,..._0x4468ce===_0x1e1fc3(0x7b1)?{'poll_id':_0x5a3edc[_0x1e1fc3(0x302)]['id'],'quoted':_0x5a3edc['pollCreationMessageKey']['id'],'vote':_0x320e8f}:{},..._0x4468ce==='listResponseMessage'?{'vote':_0x320e8f}:{},'type':_0x4468ce,..._0x3b557b&&{'edited':_0x3b557b},..._0x18952b&&{'quoted':_0x18952b},..._0x5c2293&&{'reaction':_0x5c2293},...(_0x4468ce===_0x1e1fc3(0x726)||_0x4468ce===_0x1e1fc3(0x671)||_0x4468ce===_0x1e1fc3(0x149)||_0x4468ce===_0x1e1fc3(0x2af))&&{'convertedOptions':_0x5ae458[_0x1e1fc3(0x2d0)]}};}return{'messageType':_0x4468ce,'messageContent':_0x5a3edc,'message_normalized':_0x5ae458};}catch(_0x40d10f){return console[_0x1e1fc3(0x1b8)](_0x1e1fc3(0x207),_0x40d10f),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0xafe62c(0x2a3)](),this[_0xafe62c(0x3c2)][_0xafe62c(0x521)]={'count':0x0},this[_0xafe62c(0x3c2)][_0xafe62c(0x7a2)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x25c27d){const _0x511a6b=a0_0x5de833;if(!_0x25c27d){this[_0x511a6b(0x3c2)][_0x511a6b(0x40f)]=(0x0,Co['v4'])();return;}this[_0x511a6b(0x3c2)][_0x511a6b(0x40f)]=_0x25c27d,this[_0x511a6b(0x780)](_0x511a6b(0x106),{'instance':this[_0x511a6b(0x3c2)][_0x511a6b(0x40f)],'status':_0x511a6b(0x1f9)});}get[a0_0x5de833(0x198)](){const _0x404630=a0_0x5de833;return this[_0x404630(0x3c2)][_0x404630(0x40f)];}get['wuid'](){const _0x8314f0=a0_0x5de833;return this[_0x8314f0(0x3c2)][_0x8314f0(0x265)];}async[a0_0x5de833(0x2f6)](){const _0x1142b4=a0_0x5de833;let _0x5eba99=this[_0x1142b4(0xa9)]['user']?.[_0x1142b4(0x40f)]??this[_0x1142b4(0xa9)][_0x1142b4(0x789)]?.['verifiedName'];if(!_0x5eba99){if(this['configService'][_0x1142b4(0x224)](_0x1142b4(0xe9))[_0x1142b4(0x34e)]){let _0x399367=await $[_0x1142b4(0x100)]()['db'](this['configService'][_0x1142b4(0x224)](_0x1142b4(0xe9))[_0x1142b4(0x62b)][_0x1142b4(0x2a0)]+_0x1142b4(0x47c))[_0x1142b4(0x163)](this['instanceName'])['findOne']({'_id':'creds'});if(_0x399367){let _0x49fbe1=JSON[_0x1142b4(0x46c)](JSON['stringify'](_0x399367),f['BufferJSON']['reviver']);_0x5eba99=_0x49fbe1['me']?.[_0x1142b4(0x40f)]||_0x49fbe1['me']?.['verifiedName'];}}else{if((0x0,xe['existsSync'])((0x0,F['join'])(me,this[_0x1142b4(0x198)],_0x1142b4(0x709)))){let _0x3ff287=JSON[_0x1142b4(0x46c)]((0x0,xe[_0x1142b4(0x119)])((0x0,F['join'])(me,this[_0x1142b4(0x198)],_0x1142b4(0x709)),{'encoding':_0x1142b4(0x259)}));_0x5eba99=_0x3ff287['me']?.['name']||_0x3ff287['me']?.[_0x1142b4(0x785)];}}}return _0x5eba99;}get[a0_0x5de833(0x21f)](){const _0xd761b9=a0_0x5de833;return this['instance'][_0xd761b9(0x21f)];}get[a0_0x5de833(0x10f)](){const _0x3b92de=a0_0x5de833;return this[_0x3b92de(0x3c2)]['qrcode']?.[_0x3b92de(0x234)]?{'pairingCode':this['instance'][_0x3b92de(0x521)]?.[_0x3b92de(0x234)]}:{'code':this['instance'][_0x3b92de(0x521)]?.[_0x3b92de(0x6b0)],'base64':this[_0x3b92de(0x3c2)][_0x3b92de(0x521)]?.[_0x3b92de(0x589)]};}async[a0_0x5de833(0x143)](){const _0x5d674b=a0_0x5de833;let _0x35d9ef=await this[_0x5d674b(0x719)][_0x5d674b(0x629)][_0x5d674b(0x781)](this['instanceName']);this[_0x5d674b(0x5ac)][_0x5d674b(0x75f)]=_0x35d9ef?.[_0x5d674b(0x75f)],this[_0x5d674b(0x5ac)][_0x5d674b(0x4a9)]=_0x35d9ef?.[_0x5d674b(0x4a9)],this[_0x5d674b(0x5ac)][_0x5d674b(0x3ab)]=_0x35d9ef?.[_0x5d674b(0x3ab)],this['localWebhook']['STATUS_INSTANCE']=_0x35d9ef?.[_0x5d674b(0x3c5)],this[_0x5d674b(0x5ac)][_0x5d674b(0x15c)]=_0x35d9ef?.[_0x5d674b(0x15c)],this['localWebhook'][_0x5d674b(0x4ac)]=_0x35d9ef?.[_0x5d674b(0x4ac)],this['localWebhook'][_0x5d674b(0x28b)]=_0x35d9ef?.[_0x5d674b(0x28b)],this[_0x5d674b(0x5ac)][_0x5d674b(0x299)]=_0x35d9ef?.['MESSAGES_UPDATE'],this[_0x5d674b(0x5ac)][_0x5d674b(0x513)]=_0x35d9ef?.[_0x5d674b(0x513)],this['localWebhook']['GROUPS_UPDATE']=_0x35d9ef?.[_0x5d674b(0x440)],this[_0x5d674b(0x5ac)][_0x5d674b(0x439)]=_0x35d9ef?.[_0x5d674b(0x439)],this[_0x5d674b(0x5ac)][_0x5d674b(0xa0)]=_0x35d9ef?.[_0x5d674b(0xa0)],this['localWebhook'][_0x5d674b(0x31f)]=_0x35d9ef?.['CHATS_UPSERT'],this[_0x5d674b(0x5ac)][_0x5d674b(0x58b)]=_0x35d9ef?.[_0x5d674b(0x58b)],this[_0x5d674b(0x5ac)][_0x5d674b(0x3f7)]=_0x35d9ef?.[_0x5d674b(0x3f7)],this['localWebhook'][_0x5d674b(0x3a4)]=_0x35d9ef?.[_0x5d674b(0x3a4)],this[_0x5d674b(0x5ac)]['CONTACTS_UPSERT']=_0x35d9ef?.['CONTACTS_UPSERT'],this['localWebhook'][_0x5d674b(0x35d)]=_0x35d9ef?.[_0x5d674b(0x35d)],this[_0x5d674b(0x5ac)][_0x5d674b(0xa5)]=_0x35d9ef?.[_0x5d674b(0xa5)],this[_0x5d674b(0x5ac)][_0x5d674b(0x23e)]=_0x35d9ef?.[_0x5d674b(0x23e)],this[_0x5d674b(0x5ac)][_0x5d674b(0x1d3)]=_0x35d9ef?.[_0x5d674b(0x1d3)],this['localWebhook'][_0x5d674b(0x5a5)]=_0x35d9ef?.[_0x5d674b(0x5a5)];}async[a0_0x5de833(0x748)](_0x2ef931){const _0x34e3ed=a0_0x5de833;let _0x9b3473=[_0x34e3ed(0x478),_0x34e3ed(0x75f),'enabled','local_map',_0x34e3ed(0x3c5),'QRCODE_UPDATED',_0x34e3ed(0x299),_0x34e3ed(0x28b),'SEND_MESSAGE',_0x34e3ed(0x513),_0x34e3ed(0x440),_0x34e3ed(0x439),'CHATS_SET',_0x34e3ed(0x31f),'CHATS_UPDATE',_0x34e3ed(0x3f7),_0x34e3ed(0x3a4),'CONTACTS_UPSERT',_0x34e3ed(0x35d),'PRESENCE_UPDATE',_0x34e3ed(0x23e),_0x34e3ed(0x1d3),_0x34e3ed(0x5a5)],_0x562eab={};return _0x9b3473['forEach'](_0x2e71db=>{_0x2ef931[_0x2e71db]!==void 0x0&&(_0x562eab[_0x2e71db]=_0x2ef931[_0x2e71db]);}),_0x562eab['url']&&(_0x562eab[_0x34e3ed(0x75f)]=_0x562eab[_0x34e3ed(0x75f)][_0x34e3ed(0x11e)]()),await this[_0x34e3ed(0x719)][_0x34e3ed(0x629)][_0x34e3ed(0x32e)](_0x562eab,this[_0x34e3ed(0x198)]),Object['assign'](this[_0x34e3ed(0x5ac)],_0x562eab),await this[_0x34e3ed(0x719)]['webhook'][_0x34e3ed(0x781)](this[_0x34e3ed(0x198)]);}async[a0_0x5de833(0x42a)](){const _0xa6d8cc=a0_0x5de833;return await this['repository'][_0xa6d8cc(0x629)][_0xa6d8cc(0x781)](this[_0xa6d8cc(0x198)]);}async[a0_0x5de833(0x780)](_0x27044f,_0x20ace7){const _0x42b7fb=a0_0x5de833;let _0x407446=_0x27044f[_0x42b7fb(0x25a)](/[\.-]/gm,'_')[_0x42b7fb(0x5a9)](),_0x523f6c=this['localWebhook'][_0x42b7fb(0x4a9)]&&(0x0,k[_0x42b7fb(0x506)])(this[_0x42b7fb(0x5ac)][_0x42b7fb(0x75f)])?this[_0x42b7fb(0x5ac)]['url']+(this['localWebhook'][_0x42b7fb(0x3ab)]?this[_0x42b7fb(0x6fe)][_0x27044f]:''):null,_0x504bf0=this[_0x42b7fb(0x5ac)][_0x407446],_0x5828ce=ue&&ue[_0x42b7fb(0x4a9)]&&(0x0,k[_0x42b7fb(0x506)])(ue[_0x42b7fb(0x75f)])?ue[_0x42b7fb(0x75f)]+(ue[_0x42b7fb(0x3ab)]?this[_0x42b7fb(0x6fe)][_0x27044f]:''):null,_0x4ba2d3=ue?ue[_0x407446]:null;if(_0x504bf0&&_0x523f6c)try{await K[_0x42b7fb(0x1a6)][_0x42b7fb(0x32e)]({'baseURL':_0x523f6c})['post']('',{'event':_0x27044f,'instance':this[_0x42b7fb(0x3c2)][_0x42b7fb(0x40f)],'apikey':this[_0x42b7fb(0x3c2)][_0x42b7fb(0x1ee)],'data':_0x20ace7}),this[_0x42b7fb(0x4a2)][_0x42b7fb(0x6c3)](this[_0x42b7fb(0x198)]+'\x20('+this[_0x42b7fb(0x3c2)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x27044f+':\x20'+_0x523f6c);}catch{this[_0x42b7fb(0x4a2)][_0x42b7fb(0x1b8)](this[_0x42b7fb(0x198)]+'\x20('+this[_0x42b7fb(0x3c2)][_0x42b7fb(0x265)]+_0x42b7fb(0x68a)+_0x27044f+':\x20'+_0x523f6c);}if(_0x4ba2d3&&_0x5828ce)try{await K['default'][_0x42b7fb(0x32e)]({'baseURL':_0x5828ce})[_0x42b7fb(0xfd)]('',{'event':_0x27044f,'instance':this[_0x42b7fb(0x3c2)][_0x42b7fb(0x40f)],'apikey':this['instance']['apikey'],'data':_0x20ace7}),this[_0x42b7fb(0x4a2)]['log'](this[_0x42b7fb(0x198)]+'\x20('+this[_0x42b7fb(0x3c2)][_0x42b7fb(0x265)]+_0x42b7fb(0x426)+_0x27044f+':\x20'+_0x5828ce);}catch{this[_0x42b7fb(0x4a2)][_0x42b7fb(0x1b8)](this['instanceName']+'\x20('+this[_0x42b7fb(0x3c2)][_0x42b7fb(0x265)]+_0x42b7fb(0x3c3)+_0x27044f+':\x20'+_0x5828ce);}}async[a0_0x5de833(0x7a8)]({qr:_0x17d9ab,connection:_0x318325,lastDisconnect:_0x1d5f15}){const _0x297b74=a0_0x5de833;if(_0x17d9ab){if(this['instance'][_0x297b74(0x521)][_0x297b74(0x587)]===Nr)return this[_0x297b74(0x780)](_0x297b74(0x3e9),{'message':_0x297b74(0x27d),'statusCode':f[_0x297b74(0x3f0)][_0x297b74(0x5e4)]}),this[_0x297b74(0x178)]={'state':'refused','statusReason':f[_0x297b74(0x3f0)][_0x297b74(0x2fa)]},this[_0x297b74(0x780)](_0x297b74(0x239),{'instance':this[_0x297b74(0x3c2)][_0x297b74(0x40f)],...this[_0x297b74(0x178)]}),this[_0x297b74(0x780)]('status.instance',{'instance':this[_0x297b74(0x3c2)][_0x297b74(0x40f)],'status':_0x297b74(0x544)}),this[_0x297b74(0x719)]['auth'][_0x297b74(0x32e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x297b74(0x338)]()},this[_0x297b74(0x3c2)][_0x297b74(0x40f)]),this[_0x297b74(0x543)]=!0x0,this['eventEmitter'][_0x297b74(0x3c0)](_0x297b74(0x262),this[_0x297b74(0x3c2)]['name']);this[_0x297b74(0x3c2)][_0x297b74(0x521)][_0x297b74(0x587)]++;let _0x387786={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x297b74(0x5f1),'dark':_0x297b74(0x5b4)}};Eo['default'][_0x297b74(0x228)](_0x17d9ab,_0x387786,(_0x3a85c4,_0x2e0e2c)=>{const _0x48be1c=_0x297b74;if(_0x3a85c4){this[_0x48be1c(0x4a2)][_0x48be1c(0x1b8)](this[_0x48be1c(0x198)]+'\x20('+this[_0x48be1c(0x3c2)][_0x48be1c(0x265)]+_0x48be1c(0x4a3)+(_0x3a85c4 instanceof Error?_0x3a85c4[_0x48be1c(0x37e)]:JSON[_0x48be1c(0x564)](_0x3a85c4,null,0x2)));return;}this[_0x48be1c(0x3c2)][_0x48be1c(0x521)][_0x48be1c(0x589)]=_0x2e0e2c,this[_0x48be1c(0x3c2)][_0x48be1c(0x521)][_0x48be1c(0x6b0)]=_0x17d9ab,!this[_0x48be1c(0x565)]&&this['sendDataWebhook'](_0x48be1c(0x3e9),{'qrcode':{'instance':this[_0x48be1c(0x3c2)]['name'],'pairingCode':this[_0x48be1c(0x3c2)]['qrcode'][_0x48be1c(0x234)],'code':_0x17d9ab,'base64':_0x2e0e2c}});}),this[_0x297b74(0x565)]?this['instance']['qrcode'][_0x297b74(0x234)]||(await(0x0,f[_0x297b74(0x254)])(0x7d0),this[_0x297b74(0x3c2)][_0x297b74(0x521)][_0x297b74(0x234)]=await this['client'][_0x297b74(0x40e)](this[_0x297b74(0x565)])):this[_0x297b74(0x3c2)]['qrcode']['pairingCode']=null,vo[_0x297b74(0x1a6)]['generate'](_0x17d9ab,{'small':!0x0},_0x1fdfe9=>this[_0x297b74(0x4a2)]['log'](_0x297b74(0x5cf)+this[_0x297b74(0x3c2)]['name']+_0x297b74(0x6f4)+this['instance'][_0x297b74(0x521)][_0x297b74(0x587)]+_0x297b74(0x433)+this[_0x297b74(0x3c2)][_0x297b74(0x521)]['pairingCode']+_0x297b74(0x689)+_0x1fdfe9));}if(_0x318325&&(this['stateConnection']={'state':_0x318325,'statusReason':_0x1d5f15?.['error']?.[_0x297b74(0x610)]?.[_0x297b74(0xdb)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x297b74(0x3c2)][_0x297b74(0x40f)],...this['stateConnection']})),_0x318325===_0x297b74(0x44f)){if(this[_0x297b74(0x1de)]++,this[_0x297b74(0x231)][_0x297b74(0x2c5)](Date[_0x297b74(0x338)]()),this[_0x297b74(0x231)]=this[_0x297b74(0x231)][_0x297b74(0x2f4)](_0x17267b=>Date['now']()-_0x17267b<this[_0x297b74(0x5e1)]),_0x1d5f15['error']?.[_0x297b74(0x610)]?.['statusCode']!==f['DisconnectReason']['loggedOut']&&this['reconnectTimestamps'][_0x297b74(0x612)]<=this[_0x297b74(0x452)])console[_0x297b74(0x6c3)](this[_0x297b74(0x198)]+_0x297b74(0x622)+this[_0x297b74(0x1de)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x297b74(0x4a5)),console[_0x297b74(0x6c3)](_0x297b74(0x423)),await this[_0x297b74(0x1f1)]();else{this['sendDataWebhook'](_0x297b74(0x106),{'instance':this[_0x297b74(0x3c2)][_0x297b74(0x40f)],'status':'removed'}),this[_0x297b74(0x3c2)][_0x297b74(0x7a2)]['isConnected']=!0x1,this['repository'][_0x297b74(0x629)][_0x297b74(0xb9)](this[_0x297b74(0x198)]),this[_0x297b74(0x719)][_0x297b74(0x7a9)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x297b74(0x338)]()},this[_0x297b74(0x3c2)][_0x297b74(0x40f)]);try{this[_0x297b74(0x4a2)][_0x297b74(0x33b)](this[_0x297b74(0x198)]+'\x20('+this[_0x297b74(0x3c2)][_0x297b74(0x265)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0xfa5756=await this['repository'][_0x297b74(0x37e)][_0x297b74(0x70e)](this[_0x297b74(0x3c2)][_0x297b74(0x265)]);_0xfa5756['success']?this[_0x297b74(0x4a2)][_0x297b74(0x33b)](this['instanceName']+'\x20('+this[_0x297b74(0x3c2)][_0x297b74(0x265)]+_0x297b74(0x54f)):console[_0x297b74(0x1b8)]('Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:',_0xfa5756[_0x297b74(0x1b8)]);}catch(_0x57d841){console['error'](_0x297b74(0x6e3),_0x57d841[_0x297b74(0x37e)]);}this[_0x297b74(0x3c2)]['ScheduleMessage'][_0x297b74(0x604)]!==null&&(this[_0x297b74(0x4a2)]['verbose'](this[_0x297b74(0x198)]+'\x20('+this[_0x297b74(0x3c2)][_0x297b74(0x265)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0x297b74(0x7a2)][_0x297b74(0x604)]),this[_0x297b74(0x3c2)][_0x297b74(0x7a2)]['delayMessage']=null),this[_0x297b74(0x4a2)][_0x297b74(0x33b)](this['instanceName']+'\x20('+this[_0x297b74(0x3c2)]['wuid']+_0x297b74(0x72b)),this[_0x297b74(0x30d)]=null,this[_0x297b74(0x753)][_0x297b74(0x3c0)](_0x297b74(0x4dc),this[_0x297b74(0x3c2)][_0x297b74(0x40f)],_0x297b74(0x5ca)),this[_0x297b74(0xa9)]?.['ws']?.[_0x297b74(0x44f)](),this[_0x297b74(0xa9)]['end'](new Error(_0x297b74(0x48b)));}}if(_0x318325===_0x297b74(0x663)){this[_0x297b74(0xa9)]['ev']['flush'](),this[_0x297b74(0x596)],this['instance'][_0x297b74(0x265)]=this['client'][_0x297b74(0x789)]['id'][_0x297b74(0x25a)](/:\d+/,'')[_0x297b74(0x25a)]('@s.whatsapp.net',''),this[_0x297b74(0x3c2)][_0x297b74(0x21f)]=(await this['profilePicture'](this[_0x297b74(0x3c2)][_0x297b74(0x265)]+_0x297b74(0x443)))[_0x297b74(0x21f)],this['repository'][_0x297b74(0x7a9)][_0x297b74(0x32e)]({'online':!0x0,'owner':this['instance'][_0x297b74(0x265)],'lastDisconnect':null},this[_0x297b74(0x3c2)][_0x297b74(0x40f)]);let _0x35b5f5=_0x297b74(0x136)+this[_0x297b74(0x3c2)]['wuid'],_0x9c5809=0x28,_0x469d4d=Math[_0x297b74(0x429)]((_0x9c5809-_0x35b5f5[_0x297b74(0x612)])/0x2),_0xe21adf='\x20'['repeat'](_0x469d4d),_0x17f797=_0x297b74(0x61d),_0xee17ca=_0x297b74(0x16c)+this[_0x297b74(0x3c2)]['name'],_0x4c1216=(''+_0xe21adf+_0x35b5f5+_0xe21adf)[_0x297b74(0x323)](_0x9c5809,'\x20'),_0x5ebee3=(''+_0xe21adf+_0x17f797+_0xe21adf)['padEnd'](_0x9c5809,'\x20'),_0x1daddc=(''+_0xe21adf+_0xee17ca+_0xe21adf)[_0x297b74(0x323)](_0x9c5809,'\x20'),_0x3a38de=Math[_0x297b74(0x3e3)](_0x4c1216['length'],_0x5ebee3[_0x297b74(0x612)],_0x1daddc[_0x297b74(0x612)]),_0x2440cf=_0x4c1216[_0x297b74(0x323)](_0x3a38de,'\x20'),_0x2fd2d8=_0x5ebee3[_0x297b74(0x323)](_0x3a38de,'\x20'),_0x45877d=_0x1daddc['padEnd'](_0x3a38de,'\x20');this['logger'][_0x297b74(0x2c3)]((_0x297b74(0x716)+''[_0x297b74(0x1b1)](_0x3a38de)+_0x297b74(0x4cd)+_0x2fd2d8+_0x297b74(0x46a)+_0x45877d+_0x297b74(0x46a)+_0x2440cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x297b74(0x1b1)](_0x3a38de)+'')['replace'](/^ +/gm,'\x20\x20')),this[_0x297b74(0x5ed)](),this[_0x297b74(0x3c2)][_0x297b74(0x7a2)][_0x297b74(0x361)]=!0x0;}}['resetReconnectionVariables'](){const _0x35b7f5=a0_0x5de833;this['reconnectAttempts']=0x0,this[_0x35b7f5(0x231)]=[];}async[a0_0x5de833(0x35b)](_0x350ccf,_0x1ac273=!0x1){const _0x383e5e=a0_0x5de833;try{let _0xa9d167=await this[_0x383e5e(0x719)][_0x383e5e(0x37e)][_0x383e5e(0x781)]({'where':{'_id':_0x350ccf['id']}},this['instance'][_0x383e5e(0x265)]);return _0x1ac273?_0xa9d167[0x0]:_0xa9d167[0x0][_0x383e5e(0x37e)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x2115b6=a0_0x5de833;let _0x2d7a74=this['configService'][_0x2115b6(0x224)](_0x2115b6(0x17d)),_0x51ed80=this[_0x2115b6(0x5cc)][_0x2115b6(0x224)](_0x2115b6(0xe9));_0x2d7a74?.[_0x2115b6(0x549)]&&!_0x51ed80[_0x2115b6(0x34e)]&&setInterval(()=>{const _0x550856=_0x2115b6;try{for(let [_0x10975f,_0x35e410]of Object[_0x550856(0x286)](_0x2d7a74))_0x35e410===!0x0&&(0x0,De[_0x550856(0xc6)])(_0x550856(0x3ee)+(0x0,F[_0x550856(0x52f)])(this[_0x550856(0x371)],_0x10975f[_0x550856(0x36d)](),this[_0x550856(0x3c2)][_0x550856(0x265)])+_0x550856(0x396));}catch{}},(_0x2d7a74?.[_0x2115b6(0x549)]??0xe10)*0x3e8);}async[a0_0x5de833(0x6df)](){const _0x5eeeff=a0_0x5de833;let _0x269f4f=this[_0x5eeeff(0x5cc)][_0x5eeeff(0x224)](_0x5eeeff(0xe9)),_0x325773=this[_0x5eeeff(0x5cc)][_0x5eeeff(0x224)](_0x5eeeff(0xc1));return _0x325773?.[_0x5eeeff(0x34e)]?await Rs(_0x325773,this[_0x5eeeff(0x3c2)][_0x5eeeff(0x40f)]):_0x269f4f[_0x5eeeff(0x34e)]?await Ns(this['instance'][_0x5eeeff(0x40f)]):await(0x0,f[_0x5eeeff(0x6d4)])((0x0,F['join'])(me,this['instance'][_0x5eeeff(0x40f)]));}async[a0_0x5de833(0x5ed)](){const _0x4964c9=a0_0x5de833;let _0x158e44=()=>Math[_0x4964c9(0x429)](Math[_0x4964c9(0x64a)]()*0x2711)+0x7d0,_0xb78007=async()=>{const _0x58baa8=_0x4964c9;if(!this[_0x58baa8(0x3c2)][_0x58baa8(0x7a2)][_0x58baa8(0x361)]){this[_0x58baa8(0x4a2)]['verbose'](_0x58baa8(0x482)),this[_0x58baa8(0x37f)]=!0x1;return;}if(this[_0x58baa8(0x3c2)]['wuid']&&this[_0x58baa8(0x30d)]&&this[_0x58baa8(0x3c2)][_0x58baa8(0x7a2)][_0x58baa8(0x604)]!==null&&this[_0x58baa8(0x3c2)][_0x58baa8(0x7a2)]['delayMessage']!==void 0x0){let _0x34c6f0=Math[_0x58baa8(0x77e)](this[_0x58baa8(0x3c2)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x58baa8(0x4a2)]['verbose'](this[_0x58baa8(0x198)]+'\x20('+this[_0x58baa8(0x3c2)][_0x58baa8(0x265)]+_0x58baa8(0x200)+_0x34c6f0+_0x58baa8(0x1ac)),this[_0x58baa8(0x37f)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x58baa8(0x4a2)][_0x58baa8(0x33b)](this[_0x58baa8(0x198)]+'\x20('+this['instance'][_0x58baa8(0x265)]+_0x58baa8(0x36f)),this[_0x58baa8(0x30d)]||(await this[_0x58baa8(0x516)](),this[_0x58baa8(0x4c1)]()),(this['instance'][_0x58baa8(0x7a2)][_0x58baa8(0x604)]===null||this[_0x58baa8(0x3c2)][_0x58baa8(0x7a2)][_0x58baa8(0x604)]===void 0x0)&&await this[_0x58baa8(0x229)]());if(this[_0x58baa8(0x37f)]){let _0x6f4a8d=_0x158e44();this[_0x58baa8(0x4a2)]['verbose'](this[_0x58baa8(0x198)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x6f4a8d/0x3e8+'\x20segundos'),setTimeout(_0xb78007,_0x6f4a8d);}};if(this[_0x4964c9(0x37f)])return;this['isRunning']=!0x0;let _0x7c49c3=_0x158e44();setTimeout(_0xb78007,_0x7c49c3);}async[a0_0x5de833(0x6aa)](_0x1aa147=0x0,_0x226b80=!0x1){const _0x173b3f=a0_0x5de833;try{let _0x5ddcc4=this['configService'][_0x173b3f(0x224)](_0x173b3f(0x44d));if(_0x5ddcc4!==0x1||typeof _0x5ddcc4>'u'||_0x1aa147>=0x5)return this[_0x173b3f(0x4a2)][_0x173b3f(0x779)](_0x173b3f(0x267)),this['repository'][_0x173b3f(0x7a9)][_0x173b3f(0x32e)]({'ip':null},this[_0x173b3f(0x3c2)][_0x173b3f(0x40f)]),{};this[_0x173b3f(0x4a2)][_0x173b3f(0x33b)](this[_0x173b3f(0x198)]+_0x173b3f(0x31c)+(_0x1aa147+0x1)+_0x173b3f(0x567));let _0x19a393;if(!_0x226b80){let _0x21813a=await this[_0x173b3f(0x719)][_0x173b3f(0x7a9)]['find'](this[_0x173b3f(0x198)]);_0x21813a&&_0x21813a['ip']&&(_0x19a393=yo(_0x21813a['ip']));}if((!_0x19a393||!$s(_0x19a393))&&(this['logger'][_0x173b3f(0x779)](this[_0x173b3f(0x198)]+_0x173b3f(0x421)),_0x19a393=bo()),_0x19a393&&$s(_0x19a393)){let _0x5a4f77=_0x19a393['username']&&_0x19a393[_0x173b3f(0x3c1)]?_0x19a393['protocol']+_0x173b3f(0x27e)+_0x19a393[_0x173b3f(0x134)]+':'+_0x19a393[_0x173b3f(0x3c1)]+'@'+_0x19a393['host']+':'+_0x19a393[_0x173b3f(0x6f1)]:_0x19a393[_0x173b3f(0x20a)]+_0x173b3f(0x27e)+_0x19a393[_0x173b3f(0x561)]+':'+_0x19a393[_0x173b3f(0x6f1)];return await this[_0x173b3f(0xe1)](_0x5a4f77,_0x19a393[_0x173b3f(0x561)])?(this[_0x173b3f(0x4a2)][_0x173b3f(0x33b)](this[_0x173b3f(0x198)]+_0x173b3f(0x3fe)),this[_0x173b3f(0x719)]['auth'][_0x173b3f(0x32e)]({'ip':_0x19a393[_0x173b3f(0x561)]},this[_0x173b3f(0x3c2)]['name']),{'agent':new Ft['HttpsProxyAgent'](_0x5a4f77),'fetchAgent':new Ft['HttpsProxyAgent'](_0x5a4f77)}):(this[_0x173b3f(0x4a2)][_0x173b3f(0x779)](this[_0x173b3f(0x198)]+_0x173b3f(0x69d)),await(0x0,f[_0x173b3f(0x254)])(0xc8),this[_0x173b3f(0x6aa)](_0x1aa147+0x1,!0x0));}else return this[_0x173b3f(0x4a2)][_0x173b3f(0x779)](this[_0x173b3f(0x198)]+_0x173b3f(0x33a)),await(0x0,f[_0x173b3f(0x254)])(0xc8),this[_0x173b3f(0x6aa)](_0x1aa147+0x1,!0x0);}catch(_0x3d8a27){return this[_0x173b3f(0x4a2)][_0x173b3f(0x1b8)](this[_0x173b3f(0x198)]+_0x173b3f(0x230)+_0x3d8a27[_0x173b3f(0x37e)]),{};}}async[a0_0x5de833(0xe1)](_0x423b98,_0x108cb5){const _0x342819=a0_0x5de833;let _0x537813=new Ft['HttpsProxyAgent'](_0x423b98),_0x527e53=0x1388,_0x1e8a35=[{'url':'https://jsonip.com','parse':_0x4dc8a5=>_0x4dc8a5['ip']},{'url':_0x342819(0x675),'parse':_0x2867db=>_0x2867db['ip']},{'url':_0x342819(0x185),'parse':_0x2e6863=>_0x2e6863[_0x342819(0x10d)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x149457=>_0x149457['ip']},{'url':_0x342819(0x6db),'parse':_0x179f59=>_0x179f59['trim']()},{'url':'http://ipecho.net/plain','parse':_0x220c25=>_0x220c25['trim']()},{'url':_0x342819(0xda),'parse':_0x4fd63a=>_0x4fd63a['query']},{'url':'http://myexternalip.com/raw','parse':_0x567656=>_0x567656[_0x342819(0x11e)]()},{'url':_0x342819(0x389),'parse':_0x423a7e=>_0x423a7e[_0x342819(0x11e)]()}],_0x230274=_0x1e8a35[Math['floor'](Math[_0x342819(0x64a)]()*_0x1e8a35[_0x342819(0x612)])];try{let _0x24c64c=await K[_0x342819(0x1a6)][_0x342819(0x224)](_0x230274['url'],{'httpsAgent':_0x537813,'timeout':_0x527e53}),_0xd2ad52=_0x230274[_0x342819(0x46c)](_0x24c64c[_0x342819(0x385)]);return _0xd2ad52===_0x108cb5?(this[_0x342819(0x4a2)][_0x342819(0x33b)](this[_0x342819(0x198)]+_0x342819(0x340)+_0x108cb5+_0x342819(0x303)+_0xd2ad52+_0x342819(0x5c8)),!0x0):(this[_0x342819(0x4a2)][_0x342819(0x1b8)](this[_0x342819(0x198)]+_0x342819(0x340)+_0x108cb5+'\x20-\x20retornado:\x20'+_0xd2ad52+'\x20->\x20NO\x20CORRESPONDE.'),!0x1);}catch(_0x4ef440){return this['logger'][_0x342819(0x1b8)](this['instanceName']+_0x342819(0x690)+_0x230274[_0x342819(0x75f)]+':\x20'+_0x4ef440[_0x342819(0x37e)]),!0x1;}}async['connectToWhatsapp'](_0x575325){const _0x5dc7dc=a0_0x5de833;try{let _0x126d48=await this[_0x5dc7dc(0x6aa)]();this[_0x5dc7dc(0x143)](),this['instance'][_0x5dc7dc(0x1ee)]=(await this['repository'][_0x5dc7dc(0x7a9)][_0x5dc7dc(0x781)](this[_0x5dc7dc(0x3c2)][_0x5dc7dc(0x40f)]))[_0x5dc7dc(0x1ee)],this[_0x5dc7dc(0x3c2)][_0x5dc7dc(0x69b)]=await this[_0x5dc7dc(0x6df)]();let {version:_0x2c434b}=await(0x0,f['fetchLatestBaileysVersion'])(),_0x41e056=[No,xs,(0x0,Os['release'])()],_0x56bbf2={..._0x126d48,'auth':{'creds':this[_0x5dc7dc(0x3c2)][_0x5dc7dc(0x69b)][_0x5dc7dc(0x1b3)][_0x5dc7dc(0x64f)],'keys':(0x0,f[_0x5dc7dc(0x6c2)])(this[_0x5dc7dc(0x3c2)][_0x5dc7dc(0x69b)]['state'][_0x5dc7dc(0x4a0)],(0x0,kt['default'])({'level':'error'}))},'logger':(0x0,kt[_0x5dc7dc(0x1a6)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x575325?['Mac\x20OS',xs,(0x0,Os[_0x5dc7dc(0x3ed)])()]:_0x41e056,'version':_0x2c434b,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2127a9=>{const _0x23f1d3=_0x5dc7dc;let _0x4f4214=_0x2127a9[_0x23f1d3(0x6d9)]('@newsletter'),_0x32baf3=this[_0x23f1d3(0x5ac)]?.[_0x23f1d3(0x5a5)]&&_0x2127a9[_0x23f1d3(0x6d9)](_0x23f1d3(0x714));return _0x4f4214||(0x0,f[_0x23f1d3(0x546)])(_0x2127a9)||_0x32baf3;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x13c94d=>await this[_0x5dc7dc(0x35b)](_0x13c94d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1409ec=>(_0x1409ec[_0x5dc7dc(0x2af)]?.[_0x5dc7dc(0x1e5)]==f['proto']['Message']['ListMessage'][_0x5dc7dc(0x487)][_0x5dc7dc(0x7ae)]&&(_0x1409ec=JSON['parse'](JSON['stringify'](_0x1409ec)),_0x1409ec['listMessage'][_0x5dc7dc(0x1e5)]=f[_0x5dc7dc(0x6d5)][_0x5dc7dc(0x573)][_0x5dc7dc(0x722)]['ListType'][_0x5dc7dc(0x16f)]),_0x1409ec)};return this[_0x5dc7dc(0x543)]=!0x1,this[_0x5dc7dc(0xa9)]=(0x0,f[_0x5dc7dc(0x1a6)])(_0x56bbf2),this[_0x5dc7dc(0x174)](),this[_0x5dc7dc(0x565)]=_0x575325,this[_0x5dc7dc(0xa9)];}catch(_0x552d39){let _0x2405c4=_0x5dc7dc(0x676),_0x43c914=_0x552d39 instanceof Error?_0x552d39[_0x5dc7dc(0x37e)]:typeof _0x552d39==_0x5dc7dc(0x31d)?JSON[_0x5dc7dc(0x564)](_0x552d39):_0x552d39,_0x5d017a=_0x2405c4+':\x20'+_0x43c914;throw this[_0x5dc7dc(0x4a2)][_0x5dc7dc(0x1b8)](this['instanceName']+'\x20('+this[_0x5dc7dc(0x3c2)]['wuid']+_0x5dc7dc(0x574)+_0x5d017a),new I(_0x5d017a);}}[a0_0x5de833(0x174)](){const _0x5b788b=a0_0x5de833;this[_0x5b788b(0xa9)]['ev'][_0x5b788b(0x210)](_0x17717d=>{const _0x3f6d5b=_0x5b788b;if(!this[_0x3f6d5b(0x543)]){let _0x1a4e3f=this['configService'][_0x3f6d5b(0x224)](_0x3f6d5b(0xe9));if(_0x17717d[_0x3f6d5b(0x2f1)]){let _0x30ae54=_0x17717d[_0x3f6d5b(0x2f1)];this[_0x3f6d5b(0x704)][_0x3f6d5b(0x2f1)](_0x30ae54);}if(_0x17717d[_0x3f6d5b(0x3c7)]){let _0x193cc8=_0x17717d[_0x3f6d5b(0x3c7)];this['messageHandle'][_0x3f6d5b(0x3c7)](_0x193cc8);}if(_0x17717d['connection.update']&&this[_0x3f6d5b(0x7a8)](_0x17717d[_0x3f6d5b(0x239)]),_0x17717d[_0x3f6d5b(0x708)]&&this[_0x3f6d5b(0x3c2)][_0x3f6d5b(0x69b)][_0x3f6d5b(0x15f)](),_0x17717d[_0x3f6d5b(0x5af)]){let _0x2b3437=_0x17717d[_0x3f6d5b(0x5af)];this[_0x3f6d5b(0x704)]['messaging-history.set'](_0x2b3437,_0x1a4e3f);}if(_0x17717d['messages.upsert']){let _0x20a559=_0x17717d[_0x3f6d5b(0x665)];this[_0x3f6d5b(0x704)][_0x3f6d5b(0x665)](_0x20a559,_0x1a4e3f);}if(_0x17717d[_0x3f6d5b(0x59d)]){let _0x174998=_0x17717d[_0x3f6d5b(0x59d)];_0x174998[_0x3f6d5b(0x1b4)](_0x2f44dd=>{const _0x2da78c=_0x3f6d5b;if(Mo[_0x2f44dd['key']['id']]){this[_0x2da78c(0xa9)]['ev'][_0x2da78c(0x3c0)](_0x2da78c(0x665),{'messages':[_0x2f44dd],'type':_0x2da78c(0x2b5)}),delete Mo[_0x2f44dd['key']['id']];return;}}),this['messageHandle'][_0x3f6d5b(0x59d)](_0x174998,_0x1a4e3f);}if(_0x17717d[_0x3f6d5b(0x192)]){let _0x1f55d7=_0x17717d[_0x3f6d5b(0x192)];if(this[_0x3f6d5b(0x5ac)]?.[_0x3f6d5b(0x5a5)]&&_0x1f55d7['id'][_0x3f6d5b(0x2d8)]('@g.us'))return;this[_0x3f6d5b(0x780)](_0x3f6d5b(0x192),_0x1f55d7);}if(_0x17717d['groups.upsert']){let _0x5cde4a=_0x17717d[_0x3f6d5b(0x74f)];this[_0x3f6d5b(0x5bd)][_0x3f6d5b(0x74f)](_0x5cde4a);}if(_0x17717d['groups.update']){let _0x38d2b3=_0x17717d[_0x3f6d5b(0x787)];this[_0x3f6d5b(0x5bd)]['groups.update'](_0x38d2b3);}if(_0x17717d['group-participants.update']){let _0x429496=_0x17717d[_0x3f6d5b(0x3bd)];this['groupHandler'][_0x3f6d5b(0x3bd)](_0x429496);}if(_0x17717d[_0x3f6d5b(0x6c6)]){let _0xa18906=_0x17717d[_0x3f6d5b(0x6c6)];this[_0x3f6d5b(0x348)][_0x3f6d5b(0x6c6)](_0xa18906,_0x1a4e3f);}if(_0x17717d[_0x3f6d5b(0x1cf)]){let _0x596e70=_0x17717d[_0x3f6d5b(0x1cf)];this[_0x3f6d5b(0x348)][_0x3f6d5b(0x1cf)](_0x596e70,_0x1a4e3f);}if(_0x17717d[_0x3f6d5b(0x196)]){let _0x51928f=_0x17717d['chats.delete'];this['chatHandle']['chats.delete'](_0x51928f);}if(_0x17717d[_0x3f6d5b(0x384)]){let _0x3cdcb5=_0x17717d[_0x3f6d5b(0x384)];this[_0x3f6d5b(0x3a8)]['contacts.upsert'](_0x3cdcb5,_0x1a4e3f);}if(_0x17717d[_0x3f6d5b(0x662)]){let _0x19917e=_0x17717d[_0x3f6d5b(0x662)];this[_0x3f6d5b(0x3a8)]['contacts.update'](_0x19917e,_0x1a4e3f);}}});}[a0_0x5de833(0x6d6)](_0x331bbe){return new Promise(_0x1915ca=>setTimeout(_0x1915ca,_0x331bbe));}[a0_0x5de833(0x11a)](_0xa93cee){const _0x23c32c=a0_0x5de833;_0xa93cee=_0xa93cee[_0x23c32c(0x25a)](/\D/g,'');let _0x33c3a4=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x23c32c(0x571)](_0xa93cee);if(_0x33c3a4&&_0x33c3a4[0x1]==='55'){let _0x499dfa=_0x33c3a4[0x2],_0x1917dd=_0x33c3a4[0x3],_0x4176f1=_0x33c3a4[0x4];if(parseInt(_0x499dfa)>=0x1f&&_0x1917dd==='9')return _0x33c3a4[0x1]+_0x499dfa+_0x4176f1;}return _0xa93cee;}[a0_0x5de833(0x485)](_0x5cf4f4){const _0x44215a=a0_0x5de833;return _0x5cf4f4[_0x44215a(0x2d8)](_0x44215a(0x714))||_0x5cf4f4[_0x44215a(0x2d8)]('@s.whatsapp.net')||_0x5cf4f4[_0x44215a(0x2d8)]('@broadcast')?_0x5cf4f4:(_0x5cf4f4=_0x5cf4f4?.[_0x44215a(0x25a)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x44215a(0x25a)](/\)/g,'')['split'](/\:/)[0x0][_0x44215a(0x3a3)]('@')[0x0],_0x5cf4f4[_0x44215a(0x612)]>=0x12?(_0x5cf4f4=_0x5cf4f4[_0x44215a(0x25a)](/[^\d-]/g,''),_0x5cf4f4+_0x44215a(0x714)):(_0x5cf4f4=_0x5cf4f4[_0x44215a(0x25a)](/\D/g,''),_0x5cf4f4+_0x44215a(0x443)));}async[a0_0x5de833(0x550)](_0x2dc1ea){const _0x55a02c=a0_0x5de833;let _0x62e694=(await this[_0x55a02c(0x12d)]({'numbers':[_0x2dc1ea[_0x55a02c(0x256)]]}))[0x0];if(!_0x62e694['exists']&&!(0x0,f[_0x55a02c(0x62e)])(_0x62e694['jid'])&&!_0x62e694[_0x55a02c(0xeb)][_0x55a02c(0x2d8)](_0x55a02c(0x484)))throw new m(_0x62e694);let _0x22b0eb=_0x62e694[_0x55a02c(0xeb)];try{return await this[_0x55a02c(0xa9)][_0x55a02c(0x6d7)](_0x22b0eb),await this['client']['sendPresenceUpdate'](_0x2dc1ea[_0x55a02c(0x763)],_0x22b0eb),{'status':0xc8,'presence':_0x2dc1ea['presence']};}catch(_0x49c981){let _0x2d508d=_0x55a02c(0xff),_0x524b36=_0x49c981 instanceof Error?_0x49c981[_0x55a02c(0x37e)]:typeof _0x49c981=='object'?JSON[_0x55a02c(0x564)](_0x49c981):_0x49c981,_0x39b141=_0x2d508d+':\x20'+_0x524b36;throw this[_0x55a02c(0x4a2)][_0x55a02c(0x1b8)](this['instanceName']+'\x20('+this[_0x55a02c(0x3c2)][_0x55a02c(0x265)]+_0x55a02c(0x574)+_0x39b141),new m(_0x39b141);}}async[a0_0x5de833(0x520)](_0x12a33c,_0x324387,_0x1f47a2,_0x4c6238=!0x0){const _0x5f25d6=a0_0x5de833;let _0x4c8590=await this[_0x5f25d6(0x719)][_0x5f25d6(0x428)]['findOne']({'where':{'_id':_0x12a33c}});if(!_0x4c8590&&!_0x4c6238)return;let _0x215e94={'lastUpdate':Date[_0x5f25d6(0x338)]()};if(_0x1f47a2||!_0x4c8590?.[_0x5f25d6(0x553)]||Date['now']()-_0x4c8590[_0x5f25d6(0x553)]>0x18*0x3c*0x3c*0x3e8)try{let _0x49cfe8=(await this[_0x5f25d6(0x30a)](_0x12a33c))['profilePictureUrl'];_0x215e94[_0x5f25d6(0xa6)]=_0x49cfe8;}catch(_0x2db4de){let _0x33d3b6=_0x5f25d6(0x49d),_0x63d4f7=_0x2db4de instanceof Error?_0x2db4de[_0x5f25d6(0x37e)]:typeof _0x2db4de=='object'?JSON[_0x5f25d6(0x564)](_0x2db4de):_0x2db4de,_0x5a9491=_0x33d3b6+':\x20'+_0x63d4f7;throw this[_0x5f25d6(0x4a2)][_0x5f25d6(0x1b8)](this[_0x5f25d6(0x198)]+'\x20('+this[_0x5f25d6(0x3c2)][_0x5f25d6(0x265)]+_0x5f25d6(0x574)+_0x5a9491),new m(_0x5a9491);}return _0x324387&&_0x4c8590?.[_0x5f25d6(0x40f)]!==_0x324387&&(_0x215e94['name']=_0x324387),Object[_0x5f25d6(0x4a0)](_0x215e94)[_0x5f25d6(0x612)]>0x1&&(_0x4c8590?await this['repository'][_0x5f25d6(0x428)][_0x5f25d6(0x5ba)]({'where':{'_id':_0x12a33c}},_0x215e94):await this[_0x5f25d6(0x719)][_0x5f25d6(0x428)][_0x5f25d6(0x3e6)]([{'_id':_0x12a33c,..._0x215e94}]),_0x4c8590={..._0x4c8590,..._0x215e94}),{'cachedContact':_0x4c8590};}async['profilePicture'](_0x1e1213){const _0x5691e2=a0_0x5de833;let _0x1ef77f=this[_0x5691e2(0x485)](_0x1e1213);try{return{'wuid':_0x1ef77f,'profilePictureUrl':await this['client'][_0x5691e2(0x21f)](_0x1ef77f,'image')};}catch{return{'wuid':_0x1ef77f,'profilePictureUrl':null};}}async[a0_0x5de833(0x2d6)](_0x23b00d,_0x33d827,_0x61453f){const _0x2d43ec=a0_0x5de833;try{_0x61453f||(_0x61453f={});let _0x37799b=(await this[_0x2d43ec(0x12d)]({'numbers':[_0x23b00d]}))[0x0];if(!_0x37799b[_0x2d43ec(0x640)]&&!(0x0,f[_0x2d43ec(0x62e)])(_0x37799b[_0x2d43ec(0xeb)])&&!_0x37799b[_0x2d43ec(0xeb)][_0x2d43ec(0x2d8)](_0x2d43ec(0x484)))throw new m(_0x2d43ec(0x386));let _0x5e0fed=_0x37799b['jid'];if(_0x61453f?.[_0x2d43ec(0x254)]){await this[_0x2d43ec(0xa9)][_0x2d43ec(0x6d7)](_0x5e0fed),await this[_0x2d43ec(0xa9)][_0x2d43ec(0x205)](_0x61453f?.[_0x2d43ec(0x763)]??'composing',_0x5e0fed);let _0x49a8f7=Math['min'](_0x61453f[_0x2d43ec(0x254)],0x2710);await(0x0,f[_0x2d43ec(0x254)])(_0x49a8f7),await this[_0x2d43ec(0xa9)][_0x2d43ec(0x205)](_0x2d43ec(0x679),_0x5e0fed);}let _0x4df626=_0x61453f?.[_0x2d43ec(0x2ad)]!=!0x1?void 0x0:!0x1,_0x4cff99;if(_0x61453f?.[_0x2d43ec(0x112)]){let _0x57b912=_0x61453f?.[_0x2d43ec(0x112)],_0x2da346=_0x57b912?.[_0x2d43ec(0x37e)]?_0x57b912:await this[_0x2d43ec(0x35b)](_0x57b912[_0x2d43ec(0x298)],!0x0);if(!_0x2da346)throw _0x2d43ec(0x6ca);_0x4cff99=_0x2da346;}let _0x5d37e6;if((0x0,f[_0x2d43ec(0x62e)])(_0x5e0fed))try{let _0x131831=(await this[_0x2d43ec(0x719)][_0x2d43ec(0x5e6)][_0x2d43ec(0x782)]({'where':{'_id':_0x5e0fed}},this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)]))['groupdata'];if(!_0x131831)throw new U(_0x2d43ec(0x2a8));_0x61453f?.[_0x2d43ec(0x140)]&&(_0x61453f['mentions']?.[_0x2d43ec(0x775)]?_0x5d37e6=_0x131831[_0x2d43ec(0x762)][_0x2d43ec(0x4ba)](_0x1415fb=>_0x1415fb['id']):_0x61453f[_0x2d43ec(0x140)]?.[_0x2d43ec(0x381)]?.['length']&&(_0x5d37e6=_0x61453f[_0x2d43ec(0x140)]['mentioned'][_0x2d43ec(0x4ba)](_0x2c02b4=>{const _0x523e4f=_0x2d43ec;let _0x2eaa07=this[_0x523e4f(0x485)](_0x2c02b4);return(0x0,f[_0x523e4f(0x62e)])(_0x2eaa07)?null:_0x2eaa07;})));}catch{throw new U('Group\x20not\x20found');}let _0x5951d7=await this[_0x2d43ec(0x719)]['chat'][_0x2d43ec(0x782)]({'where':{'_id':_0x5e0fed}},this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)]),_0x359d35=await((async()=>{const _0xcc9301=_0x2d43ec;let _0x2bf06c={'quoted':_0x4cff99,'ephemeralExpiration':_0x5951d7?.['ephemeralExpiration']??0x0};if(!_0x33d827['audio']&&!_0x33d827[_0xcc9301(0x1ae)]&&!_0x33d827['sticker']&&!_0x33d827[_0xcc9301(0x633)]&&_0x5e0fed!==_0xcc9301(0x22f)&&!_0x33d827[_0xcc9301(0x5f6)])return await this[_0xcc9301(0xa9)][_0xcc9301(0x38c)](_0x5e0fed,{'forward':{'key':{'remoteJid':this['instance'][_0xcc9301(0x265)],'fromMe':!0x0},'message':_0x33d827},'mentions':_0x5d37e6},_0x2bf06c);if(_0x33d827[_0xcc9301(0x68c)])return await this[_0xcc9301(0xa9)][_0xcc9301(0x38c)](_0x5e0fed,{'react':{'text':_0x33d827[_0xcc9301(0x68c)][_0xcc9301(0x1d2)],'key':_0x33d827[_0xcc9301(0x68c)][_0xcc9301(0x298)]}},_0x2bf06c);if(_0x33d827[_0xcc9301(0x633)]){let _0x13c31b=_0x33d827[_0xcc9301(0x633)];return _0x61453f?.[_0xcc9301(0x19b)]&&(_0x13c31b=await this[_0xcc9301(0x358)](_0x13c31b,_0x5e0fed)),await this[_0xcc9301(0xa9)]['sendMessage'](_0x5e0fed,{'text':_0x13c31b,'mentions':_0x5d37e6,'linkPreview':_0x4df626},_0x2bf06c);}return _0x5e0fed===_0xcc9301(0x22f)?await this['client'][_0xcc9301(0x38c)](_0x5e0fed,_0x33d827[_0xcc9301(0x620)][_0xcc9301(0x6ae)],{'backgroundColor':_0x33d827[_0xcc9301(0x620)][_0xcc9301(0x78d)][_0xcc9301(0xfc)],'font':_0x33d827[_0xcc9301(0x620)][_0xcc9301(0x78d)][_0xcc9301(0x6c5)],'statusJidList':_0x33d827[_0xcc9301(0x620)][_0xcc9301(0x78d)][_0xcc9301(0x53a)]}):await this[_0xcc9301(0xa9)]['sendMessage'](_0x5e0fed,_0x33d827,_0x2bf06c);})()),_0x5c0015=(0x0,f[_0x2d43ec(0x3cf)])(_0x359d35[_0x2d43ec(0x37e)]),_0x552124=(0x0,f[_0x2d43ec(0xe7)])(_0x5c0015),{message_normalized:_0x305dbd}=this[_0x2d43ec(0x2ff)](_0x5c0015,_0x552124,null),_0x1eee2f={'_id':_0x359d35['key']['id'],'key':_0x359d35[_0x2d43ec(0x298)],'pushName':_0x359d35[_0x2d43ec(0x438)],'isGroup':_0x359d35['key'][_0x2d43ec(0x572)]['endsWith'](_0x2d43ec(0x714)),'profilePictureUrl':this[_0x2d43ec(0x3c2)]['profilePictureUrl'],'message':_0x5c0015,'messageType':_0x552124,'message_normalized':{'key':_0x359d35[_0x2d43ec(0x298)],'pushName':_0x359d35[_0x2d43ec(0x438)],'messageTimestamp':_0x359d35[_0x2d43ec(0x190)]&&_0x359d35['messageTimestamp'][_0x2d43ec(0x667)]()['length']<0xd?_0x359d35['messageTimestamp']*0x3e8:_0x359d35[_0x2d43ec(0x190)]||null,'source':(0x0,f['getDevice'])(_0x359d35[_0x2d43ec(0x298)]['id']),..._0x305dbd},'messageTimestamp':_0x359d35[_0x2d43ec(0x190)]&&_0x359d35['messageTimestamp'][_0x2d43ec(0x667)]()[_0x2d43ec(0x612)]<0xd?_0x359d35[_0x2d43ec(0x190)]*0x3e8:_0x359d35[_0x2d43ec(0x190)]||null,'owner':this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)],'source':(0x0,f['getDevice'])(_0x359d35[_0x2d43ec(0x298)]['id'])};return this[_0x2d43ec(0x4a2)][_0x2d43ec(0x779)](this['instanceName']+'\x20('+this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)]+_0x2d43ec(0x2a1)+_0x1eee2f['key']?.[_0x2d43ec(0x572)][_0x2d43ec(0x25a)](_0x2d43ec(0x443),'')+_0x2d43ec(0x66c)+_0x1eee2f['messageType']+')'),_0x1eee2f[_0x2d43ec(0x306)]?.[_0x2d43ec(0x1d2)]&&this[_0x2d43ec(0x4a2)][_0x2d43ec(0x779)](_0x1eee2f[_0x2d43ec(0x306)]?.[_0x2d43ec(0x1d2)]),this['sendDataWebhook'](_0x2d43ec(0x40b),_0x1eee2f),J(this[_0x2d43ec(0x198)],_0x2d43ec(0xe6),{'message':_0x1eee2f}),this[_0x2d43ec(0x486)](this[_0x2d43ec(0x5cc)][_0x2d43ec(0x224)](_0x2d43ec(0xe9)),_0x1eee2f,_0x2d43ec(0x4ac),_0x5951d7),await this[_0x2d43ec(0x719)][_0x2d43ec(0x37e)][_0x2d43ec(0x3e6)]([_0x1eee2f],this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)]),_0x359d35;}catch(_0x2679b4){let _0x257955='Falha\x20ao\x20processar\x20a\x20solicitao\x20messages.upsert',_0x5ad6ec=_0x2679b4 instanceof Error?_0x2679b4['message']:typeof _0x2679b4=='object'?JSON[_0x2d43ec(0x564)](_0x2679b4):_0x2679b4,_0x51942d=_0x257955+':\x20'+_0x5ad6ec;throw this[_0x2d43ec(0x4a2)][_0x2d43ec(0x1b8)](this[_0x2d43ec(0x198)]+'\x20('+this[_0x2d43ec(0x3c2)][_0x2d43ec(0x265)]+_0x2d43ec(0x574)+_0x51942d),new m(_0x51942d);}}get[a0_0x5de833(0x603)](){const _0x11d6d9=a0_0x5de833;return this[_0x11d6d9(0x178)];}async[a0_0x5de833(0x232)](_0xeaaa41){const _0x1f0480=a0_0x5de833;let _0x26fabd=So,_0x5e933f=st;return _0x5e933f&&this[_0x1f0480(0x198)][_0x1f0480(0x36d)]()[_0x1f0480(0x2d8)](_0x5e933f['toLowerCase']())&&(_0xeaaa41[_0x1f0480(0x232)][_0x1f0480(0x1d2)]+='\x0a\x0a'+_0x26fabd),await this[_0x1f0480(0x2d6)](_0xeaaa41[_0x1f0480(0x256)],{'conversation':_0xeaaa41[_0x1f0480(0x232)][_0x1f0480(0x1d2)]},_0xeaaa41?.['options']);}async[a0_0x5de833(0x271)](_0x15e118){const _0x37da4f=a0_0x5de833;if(!_0x15e118['type'])throw new m('Type\x20is\x20required');if(!_0x15e118[_0x37da4f(0x6ae)])throw new m(_0x37da4f(0x2a4));if(_0x15e118[_0x37da4f(0x481)]){let _0x1d34c5=await this[_0x37da4f(0x719)]['contact'][_0x37da4f(0x781)]({'where':{}},this[_0x37da4f(0x3c2)][_0x37da4f(0x265)]);if(!_0x1d34c5[_0x37da4f(0x612)])throw new m(_0x37da4f(0x5e8));_0x15e118[_0x37da4f(0x53a)]=_0x1d34c5['filter'](_0x2555ff=>_0x2555ff[_0x37da4f(0x438)])[_0x37da4f(0x4ba)](_0x101ca3=>_0x101ca3[_0x37da4f(0x478)]);}if(!_0x15e118[_0x37da4f(0x53a)]?.[_0x37da4f(0x612)]&&!_0x15e118[_0x37da4f(0x481)])throw new m('StatusJidList\x20is\x20required');if(_0x15e118[_0x37da4f(0x300)]==='text'){if(!_0x15e118[_0x37da4f(0xfc)])throw new m(_0x37da4f(0x4b4));if(!_0x15e118[_0x37da4f(0x6c5)])throw new m(_0x37da4f(0x783));return{'content':{'text':_0x15e118[_0x37da4f(0x6ae)]},'option':{'backgroundColor':_0x15e118[_0x37da4f(0xfc)],'font':_0x15e118[_0x37da4f(0x6c5)],'statusJidList':_0x15e118[_0x37da4f(0x53a)]}};}if(_0x15e118[_0x37da4f(0x300)]===_0x37da4f(0x472))return{'content':{'image':{'url':_0x15e118[_0x37da4f(0x6ae)]},'caption':_0x15e118['caption']},'option':{'statusJidList':_0x15e118[_0x37da4f(0x53a)]}};if(_0x15e118['type']===_0x37da4f(0x635))return{'content':{'video':{'url':_0x15e118['content']},'caption':_0x15e118[_0x37da4f(0x156)]},'option':{'statusJidList':_0x15e118[_0x37da4f(0x53a)]}};if(_0x15e118[_0x37da4f(0x300)]===_0x37da4f(0x5f6)){this['logger']['verbose'](_0x37da4f(0x3f1)),this[_0x37da4f(0x4a2)][_0x37da4f(0x33b)](_0x37da4f(0x697));let _0x582dba=await this[_0x37da4f(0x5b8)](_0x15e118['content']);if(typeof _0x582dba==_0x37da4f(0x1c0)){this[_0x37da4f(0x4a2)][_0x37da4f(0x33b)](_0x37da4f(0x342));let _0x376c14=L[_0x37da4f(0x119)](_0x582dba)[_0x37da4f(0x667)](_0x37da4f(0x589));return{'content':{'audio':Buffer[_0x37da4f(0x4a6)](_0x376c14,'base64'),'ptt':!0x0,'mimetype':_0x37da4f(0x700)},'option':{'statusJidList':_0x15e118[_0x37da4f(0x53a)]}};}else throw new I(_0x582dba);}throw new m(_0x37da4f(0x1b9));}async['statusMessage'](_0x2bc0e5){const _0x991f46=a0_0x5de833;return await this['sendMessageWithTyping'](_0x991f46(0x22f),{'status':await this['formatStatusMessage'](_0x2bc0e5[_0x991f46(0x304)])});}async[a0_0x5de833(0xdc)](_0x4b7c3e){const _0x565722=a0_0x5de833;try{let _0x1d6878=await(0x0,f[_0x565722(0x585)])({[_0x4b7c3e[_0x565722(0x445)]]:(0x0,k[_0x565722(0x506)])(_0x4b7c3e[_0x565722(0xd6)])?{'url':_0x4b7c3e[_0x565722(0xd6)]}:Buffer[_0x565722(0x4a6)](_0x4b7c3e[_0x565722(0xd6)],_0x565722(0x589))},{'upload':this[_0x565722(0xa9)][_0x565722(0x580)]}),_0x41ac55=_0x4b7c3e['mediatype']+_0x565722(0x573);if(_0x4b7c3e[_0x565722(0x445)]===_0x565722(0x44a)&&!_0x4b7c3e[_0x565722(0x73a)]){let _0x5c3018=new RegExp(/.*\/(.+?)\./)[_0x565722(0x571)](_0x4b7c3e[_0x565722(0xd6)]);_0x4b7c3e[_0x565722(0x73a)]=_0x5c3018?_0x5c3018[0x1]:null;}let _0xc3be3a=(0x0,k[_0x565722(0x506)])(_0x4b7c3e[_0x565722(0xd6)])?_0x4b7c3e['media'][_0x565722(0x3a3)]('?')[0x0]:_0x4b7c3e[_0x565722(0xd6)],_0x4774d5;(0x0,k['isURL'])(_0x4b7c3e['media'])?_0x4774d5=(0x0,Lt[_0x565722(0x26d)])(_0xc3be3a):_0x4b7c3e[_0x565722(0x73a)]&&_0x4b7c3e[_0x565722(0x73a)]['includes']('.')?_0x4774d5=(0x0,Lt[_0x565722(0x26d)])(_0x4b7c3e['fileName']):_0x4774d5=(0x0,Lt[_0x565722(0x26d)])(_0x4b7c3e['media']);let _0x117cf6=So,_0x2b49c5=st;return _0x2b49c5&&this[_0x565722(0x198)][_0x565722(0x36d)]()[_0x565722(0x2d8)](_0x2b49c5['toLowerCase']())&&(_0x4b7c3e[_0x565722(0x156)]+='\x0a\x0a'+_0x117cf6),_0x1d6878[_0x41ac55][_0x565722(0x156)]=_0x4b7c3e?.[_0x565722(0x156)],_0x1d6878[_0x41ac55][_0x565722(0x772)]=_0x4774d5,_0x1d6878[_0x41ac55][_0x565722(0x73a)]=_0x4b7c3e[_0x565722(0x73a)],_0x4b7c3e[_0x565722(0x445)]===_0x565722(0x635)&&(_0x1d6878[_0x41ac55][_0x565722(0x415)]=Uint8Array[_0x565722(0x4a6)]((0x0,xe['readFileSync'])((0x0,F['join'])(process[_0x565722(0x74a)](),'video-cover.png'))),_0x1d6878[_0x41ac55]['gifPlayback']=!0x1),(0x0,f[_0x565722(0x124)])('',{[_0x41ac55]:{..._0x1d6878[_0x41ac55]}},{'userJid':this[_0x565722(0x3c2)][_0x565722(0x265)]});}catch(_0x85689a){let _0x31ab35=_0x565722(0x18a),_0xddfa53=_0x85689a instanceof Error?_0x85689a[_0x565722(0x37e)]:typeof _0x85689a==_0x565722(0x31d)?JSON[_0x565722(0x564)](_0x85689a):_0x85689a,_0x21743f=_0x31ab35+':\x20'+_0xddfa53;throw this['logger'][_0x565722(0x1b8)](this[_0x565722(0x198)]+'\x20('+this[_0x565722(0x3c2)]['wuid']+_0x565722(0x574)+_0x21743f),new I(_0x21743f);}}async[a0_0x5de833(0x21a)](_0x544c38){const _0x53d34b=a0_0x5de833;let _0x261a87=await this[_0x53d34b(0xdc)](_0x544c38[_0x53d34b(0x21a)]);return await this['sendMessageWithTyping'](_0x544c38[_0x53d34b(0x256)],{..._0x261a87[_0x53d34b(0x37e)]},_0x544c38?.[_0x53d34b(0x14e)]);}async[a0_0x5de833(0x13e)](_0x3c13ea,_0x5b7105){const _0x425697=a0_0x5de833;try{this[_0x425697(0x4a2)]['verbose'](_0x425697(0x58c));let _0x4b7fb6,_0x1878e7=_0x5b7105+'-'+new Date()[_0x425697(0x427)]();this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x39a)+_0x1878e7);let _0x3e63cc=''+(0x0,F['join'])(this[_0x425697(0x371)],_0x1878e7+_0x425697(0x23c));if(this['logger'][_0x425697(0x33b)](_0x425697(0x4a7)+_0x3e63cc),(0x0,k['isBase64'])(_0x3c13ea)){this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x12c));let _0x2547c4=_0x3c13ea[_0x425697(0x25a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xf0e21c=Buffer['from'](_0x2547c4,'base64');_0x4b7fb6=''+(0x0,F[_0x425697(0x52f)])(this['storePath'],_0x425697(0x2eb)+_0x1878e7+_0x425697(0x558)),this[_0x425697(0x4a2)]['verbose'](_0x425697(0x7af)+_0x4b7fb6),await(0x0,jt[_0x425697(0x1a6)])(_0xf0e21c)[_0x425697(0x4ea)](_0x4b7fb6),this['logger'][_0x425697(0x33b)](_0x425697(0x77a));}else{this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x493));let _0x572474=new Date()['getTime'](),_0x28d765=_0x3c13ea+'?timestamp='+_0x572474;this[_0x425697(0x4a2)][_0x425697(0x33b)]('including\x20timestamp\x20in\x20url:\x20'+_0x28d765);let _0x3338c2=await K[_0x425697(0x1a6)]['get'](_0x28d765,{'responseType':_0x425697(0x227)});this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x500));let _0x304761=Buffer['from'](_0x3338c2[_0x425697(0x385)],_0x425697(0x67b));_0x4b7fb6=''+(0x0,F[_0x425697(0x52f)])(this[_0x425697(0x371)],'temp-'+_0x1878e7+_0x425697(0x558)),this['logger'][_0x425697(0x33b)](_0x425697(0x7af)+_0x4b7fb6),await(0x0,jt[_0x425697(0x1a6)])(_0x304761)['toFile'](_0x4b7fb6),this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x77a));}return await(0x0,jt[_0x425697(0x1a6)])(_0x4b7fb6)['webp']()[_0x425697(0x4ea)](_0x3e63cc),this['logger'][_0x425697(0x33b)](_0x425697(0x252)),L[_0x425697(0x204)](_0x4b7fb6),this[_0x425697(0x4a2)][_0x425697(0x33b)](_0x425697(0x5b6)),_0x3e63cc;}catch(_0x2cb9f4){let _0x389a82=_0x425697(0x36e),_0x243bb3=_0x2cb9f4 instanceof Error?_0x2cb9f4[_0x425697(0x37e)]:typeof _0x2cb9f4==_0x425697(0x31d)?JSON[_0x425697(0x564)](_0x2cb9f4):_0x2cb9f4,_0x3c77cf=_0x389a82+':\x20'+_0x243bb3;this['logger'][_0x425697(0x1b8)](this[_0x425697(0x198)]+'\x20('+this[_0x425697(0x3c2)][_0x425697(0x265)]+_0x425697(0x574)+_0x3c77cf);}}async[a0_0x5de833(0x4e7)](_0x508714){const _0x36b2ae=a0_0x5de833;let _0xf395fd=await this['convertToWebP'](_0x508714['stickerMessage'][_0x36b2ae(0x472)],_0x508714['number']),_0x1c42b2=await this[_0x36b2ae(0x2d6)](_0x508714['number'],{'sticker':{'url':_0xf395fd}},_0x508714?.[_0x36b2ae(0x14e)]);return L[_0x36b2ae(0x204)](_0xf395fd),this[_0x36b2ae(0x4a2)][_0x36b2ae(0x33b)]('Converted\x20image\x20deleted'),_0x1c42b2;}async[a0_0x5de833(0x3ff)](_0x2f3c79){const _0x4a05f8=a0_0x5de833;if(this[_0x4a05f8(0x4a2)][_0x4a05f8(0x33b)](_0x4a05f8(0x471)),!_0x2f3c79['options']?.[_0x4a05f8(0x790)]&&_0x2f3c79[_0x4a05f8(0x14e)]?.[_0x4a05f8(0x790)]!==!0x1&&(_0x2f3c79['options'][_0x4a05f8(0x790)]=!0x0),_0x2f3c79[_0x4a05f8(0x14e)]?.['encoding']){let _0x36cd26=await this['convertaudio'](_0x2f3c79[_0x4a05f8(0x186)]['audio']);if(typeof _0x36cd26==_0x4a05f8(0x1c0)){let _0x430038=L[_0x4a05f8(0x119)](_0x36cd26)[_0x4a05f8(0x667)](_0x4a05f8(0x589));return this[_0x4a05f8(0x2d6)](_0x2f3c79[_0x4a05f8(0x256)],{'audio':Buffer[_0x4a05f8(0x4a6)](_0x430038,'base64'),'ptt':!0x0,'mimetype':_0x4a05f8(0x525)},{'presence':_0x4a05f8(0x661),'delay':_0x2f3c79?.[_0x4a05f8(0x14e)]?.[_0x4a05f8(0x254)]});}else throw new I(_0x36cd26);}return await this[_0x4a05f8(0x2d6)](_0x2f3c79[_0x4a05f8(0x256)],{'audio':(0x0,k['isURL'])(_0x2f3c79[_0x4a05f8(0x186)]['audio'])?{'url':_0x2f3c79['audioMessage'][_0x4a05f8(0x5f6)]}:Buffer[_0x4a05f8(0x4a6)](_0x2f3c79[_0x4a05f8(0x186)]['audio'],_0x4a05f8(0x589)),'ptt':!0x0,'mimetype':_0x4a05f8(0x525)},{'presence':_0x4a05f8(0x661),'delay':_0x2f3c79?.[_0x4a05f8(0x14e)]?.['delay']});}async[a0_0x5de833(0x5b8)](_0x4aa9f5){const _0x310b45=a0_0x5de833;this[_0x310b45(0x4a2)]['verbose'](_0x310b45(0x697));let _0x44f7c5=(0x0,k[_0x310b45(0x506)])(_0x4aa9f5)?(0x0,Jt[_0x310b45(0x1ec)])(_0x310b45(0x98))[_0x310b45(0x5ba)](_0x4aa9f5)['digest']('hex'):(0x0,Jt[_0x310b45(0x1ec)])(_0x310b45(0x98))['update'](_0x4aa9f5)['digest'](_0x310b45(0x54e)),_0x5ad635=''+(0x0,F['join'])(this[_0x310b45(0x371)],_0x44f7c5+'.ogg');if(L[_0x310b45(0x11c)](_0x5ad635))return this[_0x310b45(0x4a2)][_0x310b45(0x33b)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x5ad635;let _0x35e029=''+(0x0,F[_0x310b45(0x52f)])(this[_0x310b45(0x371)],_0x310b45(0x2eb)+(0x0,Me['v4'])()+_0x310b45(0x165));if((0x0,k[_0x310b45(0x506)])(_0x4aa9f5)){let _0x4540d1=new Date()[_0x310b45(0x427)](),_0x2b1030=_0x4aa9f5+_0x310b45(0x3e8)+_0x4540d1,_0x288626=await K[_0x310b45(0x1a6)][_0x310b45(0x224)](_0x2b1030,{'responseType':_0x310b45(0x227)});L['writeFileSync'](_0x35e029,_0x288626[_0x310b45(0x385)]);}else{let _0x3dcdf6=Buffer[_0x310b45(0x4a6)](_0x4aa9f5,_0x310b45(0x589));L[_0x310b45(0x33c)](_0x35e029,_0x3dcdf6);}return new Promise((_0x145da5,_0x52eedb)=>{const _0x37a48c=_0x310b45;(0x0,De[_0x37a48c(0x571)])(As['default'][_0x37a48c(0xb1)]+'\x20-i\x20'+_0x35e029+_0x37a48c(0x43e)+_0x5ad635+_0x37a48c(0x13d),_0x140650=>{const _0x44f55a=_0x37a48c;if(L[_0x44f55a(0x204)](_0x35e029),_0x140650){this[_0x44f55a(0x4a2)][_0x44f55a(0x33b)](_0x44f55a(0x60d)),_0x52eedb(_0x140650);return;}this[_0x44f55a(0x4a2)][_0x44f55a(0x33b)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x145da5(_0x5ad635);});});}async[a0_0x5de833(0x382)](_0x222cac){const _0x490de7=a0_0x5de833;this[_0x490de7(0x4a2)][_0x490de7(0x33b)](_0x490de7(0x697));let _0x33f83a=(0x0,Jt[_0x490de7(0x1ec)])(_0x490de7(0x98))[_0x490de7(0x5ba)](_0x222cac)[_0x490de7(0xab)]('hex'),_0x9111f2=''+(0x0,F[_0x490de7(0x52f)])(this[_0x490de7(0x371)],_0x33f83a+_0x490de7(0x165));if(L[_0x490de7(0x11c)](_0x9111f2))return this[_0x490de7(0x4a2)][_0x490de7(0x33b)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),F[_0x490de7(0x1a6)][_0x490de7(0x744)](_0x9111f2);let _0x51658e=''+(0x0,F[_0x490de7(0x52f)])(this[_0x490de7(0x371)],'temp-'+_0x33f83a+_0x490de7(0x2ec));if((0x0,k['isURL'])(_0x222cac)){let _0x309005=new Date()[_0x490de7(0x427)](),_0x38e454=_0x222cac+'?timestamp='+_0x309005,_0x477e84=await K[_0x490de7(0x1a6)][_0x490de7(0x224)](_0x38e454,{'responseType':'arraybuffer'});L[_0x490de7(0x33c)](_0x51658e,_0x477e84[_0x490de7(0x385)]);}else{let _0x45402f=Buffer[_0x490de7(0x4a6)](_0x222cac,_0x490de7(0x589));L['writeFileSync'](_0x51658e,_0x45402f);}return new Promise((_0xc987c4,_0x32efdf)=>{const _0x551aab=_0x490de7;(0x0,De['exec'])(As[_0x551aab(0x1a6)][_0x551aab(0xb1)]+_0x551aab(0x4e0)+_0x51658e+_0x551aab(0x1df)+_0x9111f2+_0x551aab(0x13d),_0x4da3d7=>{const _0x36de73=_0x551aab;if(L[_0x36de73(0x204)](_0x51658e),_0x4da3d7){this[_0x36de73(0x4a2)]['verbose'](_0x36de73(0x60d)),_0x32efdf(_0x4da3d7);return;}this[_0x36de73(0x4a2)][_0x36de73(0x33b)](_0x36de73(0x1a5)),_0xc987c4(F['default'][_0x36de73(0x744)](_0x9111f2));});});}async[a0_0x5de833(0x696)](_0x18292f){const _0x389173=a0_0x5de833;let _0x52b119={},_0x978292='TEXT';if(_0x18292f['buttonMessage']?.[_0x389173(0x21a)]){_0x978292=_0x18292f[_0x389173(0x696)]['mediaMessage']?.[_0x389173(0x445)][_0x389173(0x5a9)]()??_0x389173(0x6d3),_0x52b119[_0x389173(0x1c9)]=_0x978292[_0x389173(0x36d)]()+'Message';let _0x14066c=await this['prepareMediaMessage'](_0x18292f[_0x389173(0x696)][_0x389173(0x21a)]);_0x52b119[_0x389173(0x37e)]=_0x14066c[_0x389173(0x37e)][_0x52b119['mediaKey']],_0x52b119['contentText']='*'+_0x18292f[_0x389173(0x696)][_0x389173(0x628)]+_0x389173(0x63d)+_0x18292f['buttonMessage'][_0x389173(0x3d9)];}let _0x3e5ba6={'text':_0x18292f[_0x389173(0x696)][_0x389173(0x16b)][_0x389173(0x4ba)](_0x43cbb9=>_0x43cbb9[_0x389173(0x26a)]),'ids':_0x18292f['buttonMessage'][_0x389173(0x16b)][_0x389173(0x4ba)](_0x3fd4bf=>_0x3fd4bf[_0x389173(0x9b)])};if(!(0x0,k['arrayUnique'])(_0x3e5ba6['text'])||!(0x0,k[_0x389173(0x5ff)])(_0x3e5ba6[_0x389173(0x77d)]))throw new m(_0x389173(0x626),_0x389173(0x66a));return await this[_0x389173(0x2d6)](_0x18292f[_0x389173(0x256)],{'buttonsMessage':{'text':_0x52b119?.[_0x389173(0x1c9)]?void 0x0:_0x18292f['buttonMessage']['title'],'contentText':_0x52b119?.[_0x389173(0x59f)]??_0x18292f['buttonMessage'][_0x389173(0x3d9)],'footerText':_0x18292f[_0x389173(0x696)]?.[_0x389173(0x703)],'buttons':_0x18292f['buttonMessage']['buttons'][_0x389173(0x4ba)](_0x542691=>({'buttonText':{'displayText':_0x542691[_0x389173(0x26a)]},'buttonId':_0x542691[_0x389173(0x9b)],'type':0x1})),'headerType':f[_0x389173(0x6d5)]['Message'][_0x389173(0x70d)][_0x389173(0x184)][_0x978292],[_0x52b119?.[_0x389173(0x1c9)]]:_0x52b119?.[_0x389173(0x37e)]}},_0x18292f?.[_0x389173(0x14e)]);}async['locationMessage'](_0x576da1){const _0x27b284=a0_0x5de833;return await this[_0x27b284(0x2d6)](_0x576da1['number'],{'locationMessage':{'degreesLatitude':_0x576da1[_0x27b284(0x45f)]['latitude'],'degreesLongitude':_0x576da1['locationMessage'][_0x27b284(0x5db)],'name':_0x576da1['locationMessage']?.['name'],'address':_0x576da1[_0x27b284(0x45f)]?.[_0x27b284(0x1b6)]}},_0x576da1?.[_0x27b284(0x14e)]);}async['contactMessage'](_0x212786){const _0x586cb9=a0_0x5de833;let _0x537132={},_0x33c10e=async _0x225756=>{const _0x452558=a0_0x26c2;let _0x2df3b7=_0x452558(0x1ad)+_0x225756[_0x452558(0x2e4)]+_0x452558(0x1e9)+_0x225756['fullName']+'\x0a';_0x225756[_0x452558(0x5e7)]&&(_0x2df3b7+=_0x452558(0x334)+_0x225756[_0x452558(0x5e7)]+';\x0a'),_0x225756[_0x452558(0x480)]&&(_0x2df3b7+='EMAIL:'+_0x225756[_0x452558(0x480)]+'\x0a'),_0x225756[_0x452558(0x75f)]&&(_0x2df3b7+=_0x452558(0x586)+_0x225756[_0x452558(0x75f)]+'\x0a');let _0x2d3aeb='',_0x2a4a76=0x1;if(_0x225756[_0x452558(0x565)]){let _0x4f8d23=_0x225756[_0x452558(0x565)][_0x452558(0x3a3)]('|');for(let _0x33db12 of _0x4f8d23){let _0x365616=await this[_0x452558(0x12d)]({'numbers':[_0x33db12]}),_0x51f28c=(_0x365616['length']>0x0?_0x365616[0x0][_0x452558(0xeb)]:this['createJid'](_0x33db12))[_0x452558(0x25a)]('@s.whatsapp.net','');_0x2d3aeb+=_0x452558(0x555)+_0x2a4a76+_0x452558(0x511)+_0x51f28c+':'+_0x33db12+_0x452558(0x360)+_0x2a4a76+_0x452558(0x6d1),_0x2a4a76++;}}return _0x2df3b7+=_0x2d3aeb+'END:VCARD',_0x2df3b7;};return _0x212786[_0x586cb9(0x475)][_0x586cb9(0x612)]===0x1?_0x537132['contactMessage']={'displayName':_0x212786[_0x586cb9(0x475)][0x0][_0x586cb9(0x2e4)],'vcard':await _0x33c10e(_0x212786[_0x586cb9(0x475)][0x0])}:_0x537132[_0x586cb9(0x4ec)]={'displayName':_0x212786[_0x586cb9(0x475)][_0x586cb9(0x612)]+_0x586cb9(0x233),'contacts':await Promise[_0x586cb9(0x110)](_0x212786[_0x586cb9(0x475)][_0x586cb9(0x4ba)](async _0x66f2c4=>({'displayName':_0x66f2c4[_0x586cb9(0x2e4)],'vcard':await _0x33c10e(_0x66f2c4)})))},await this[_0x586cb9(0x2d6)](_0x212786['number'],{..._0x537132},_0x212786?.[_0x586cb9(0x14e)]);}async[a0_0x5de833(0x68c)](_0x2397ed){const _0x583790=a0_0x5de833;return await this[_0x583790(0x2d6)](_0x2397ed[_0x583790(0x68c)][_0x583790(0x298)]['remoteJid'],{'reactionMessage':{'key':_0x2397ed[_0x583790(0x68c)][_0x583790(0x298)],'text':_0x2397ed[_0x583790(0x68c)][_0x583790(0x5ec)]}});}async[a0_0x5de833(0x12d)](_0x10a3a0){const _0x433df7=a0_0x5de833;let _0x33a5e7=[];for await(let _0x1ae29b of _0x10a3a0['numbers']){let _0xf743f8=this[_0x433df7(0x485)](_0x1ae29b),_0x2749ae=!0x1;try{if((0x0,f[_0x433df7(0x62e)])(_0xf743f8)){let _0x4f73f4=(await this['repository'][_0x433df7(0x5e6)][_0x433df7(0x782)]({'where':{'_id':_0xf743f8}},this['instance']['wuid']))[_0x433df7(0x22a)];_0x2749ae=!!_0x4f73f4?.['id']&&!!_0x4f73f4?.[_0x433df7(0x37c)],_0x33a5e7[_0x433df7(0x2c5)](new ye(_0x4f73f4['id'],_0x2749ae,_0x4f73f4?.['subject']));}else{let _0x5de76e=(await this[_0x433df7(0xa9)]['onWhatsApp'](_0xf743f8))[0x0];_0x2749ae=_0x5de76e[_0x433df7(0x640)],_0x33a5e7['push'](new ye(_0x5de76e[_0x433df7(0xeb)],_0x2749ae));}}catch{(0x0,f[_0x433df7(0x62e)])(_0xf743f8)||await this[_0x433df7(0x727)](_0xf743f8,_0x2749ae),_0x33a5e7['push'](new ye(_0x1ae29b,!0x1));}}return _0x33a5e7;}async['deleteImportedChat'](_0x68f984,_0x39c194){const _0x4deb78=a0_0x5de833;try{await this[_0x4deb78(0x719)]['chat'][_0x4deb78(0x782)]({'where':{'_id':_0x68f984,'imported':!0x0}},this[_0x4deb78(0x3c2)][_0x4deb78(0x265)])&&(_0x39c194||(await this[_0x4deb78(0x719)][_0x4deb78(0x5e6)][_0x4deb78(0x711)](_0x68f984,this['instance'][_0x4deb78(0x265)]),this[_0x4deb78(0x4a2)][_0x4deb78(0x2c3)](_0x4deb78(0x322)+_0x68f984+_0x4deb78(0x6a2))));}catch(_0x29e175){let _0x1ef48f=_0x4deb78(0x280),_0x23396f=_0x29e175 instanceof Error?_0x29e175[_0x4deb78(0x37e)]:typeof _0x29e175==_0x4deb78(0x31d)?JSON[_0x4deb78(0x564)](_0x29e175):_0x29e175,_0x4b2940=_0x1ef48f+':\x20'+_0x23396f;this[_0x4deb78(0x4a2)][_0x4deb78(0x1b8)](this[_0x4deb78(0x198)]+'\x20('+this[_0x4deb78(0x3c2)]['wuid']+_0x4deb78(0x574)+_0x4b2940);}}async[a0_0x5de833(0x181)](_0x274b81){const _0x232875=a0_0x5de833;try{let _0x5ced0b=_0x274b81['readMessages'][_0x232875(0x2f4)](_0x1d907c=>(0x0,f[_0x232875(0x62e)])(_0x1d907c['remoteJid'])||(0x0,f['isJidUser'])(_0x1d907c[_0x232875(0x572)]))[_0x232875(0x4ba)](_0x1059d2=>({'remoteJid':_0x1059d2[_0x232875(0x572)],'fromMe':_0x1059d2['fromMe'],'id':_0x1059d2['id']}));await this[_0x232875(0xa9)][_0x232875(0x42c)](_0x5ced0b);let _0x11a06e=_0x5ced0b[_0x232875(0x4ba)](_0x122068=>this[_0x232875(0x534)](_0x122068,{'status':_0x232875(0x29d),'owner':this['instance'][_0x232875(0x265)]})),_0x33ae8f=_0x5ced0b[_0x232875(0x4ba)](_0x4829dc=>this[_0x232875(0x719)]['chat'][_0x232875(0x4fc)]({'where':{'_id':_0x4829dc['remoteJid']}},{'unreadcount':0x0},this[_0x232875(0x3c2)][_0x232875(0x265)])),[_0x40af4d,_0x31bc1c]=await Promise[_0x232875(0x110)]([Promise[_0x232875(0x110)](_0x11a06e),Promise[_0x232875(0x110)](_0x33ae8f)]);return _0x31bc1c['filter'](_0x374c4e=>_0x374c4e!==null)[_0x232875(0x1b4)](_0x5583f8=>{J(this['instanceName'],'chats',{'chat':_0x5583f8});}),{'message':'Read\x20messages','read':_0x232875(0x2ae)};}catch(_0x33c056){let _0x245226=_0x232875(0x509),_0x3f7a29=_0x33c056 instanceof Error?_0x33c056[_0x232875(0x37e)]:typeof _0x33c056==_0x232875(0x31d)?JSON['stringify'](_0x33c056):_0x33c056,_0x53562d=_0x245226+':\x20'+_0x3f7a29;throw this[_0x232875(0x4a2)]['error'](this[_0x232875(0x198)]+'\x20('+this[_0x232875(0x3c2)][_0x232875(0x265)]+'):\x20'+_0x53562d),new I(_0x53562d);}}async[a0_0x5de833(0x209)](_0x575d45){const _0x24bd0e=a0_0x5de833;let _0x3c5fea={'where':{'key':{'remoteJid':_0x575d45}},'limit':0x1},_0x475e72=await this['fetchMessages'](_0x3c5fea);return _0x475e72||(console['error'](_0x24bd0e(0x4eb),_0x575d45),null);}async['archiveChat'](_0x30b395){const _0x435e60=a0_0x5de833;this['logger'][_0x435e60(0x33b)](_0x435e60(0x4e4));try{let _0x1a371a=_0x30b395[_0x435e60(0x505)],_0x2b6d8c=_0x30b395[_0x435e60(0x5e6)];if(!_0x1a371a&&_0x2b6d8c?_0x1a371a=await this[_0x435e60(0x209)](_0x2b6d8c):(_0x1a371a=_0x30b395['lastMessage'],_0x1a371a[_0x435e60(0x190)]=_0x1a371a?.[_0x435e60(0x190)]??Date[_0x435e60(0x338)](),_0x2b6d8c=_0x1a371a?.[_0x435e60(0x298)]?.[_0x435e60(0x572)]),!_0x1a371a||Object[_0x435e60(0x4a0)](_0x1a371a)[_0x435e60(0x612)]===0x0)throw new U(_0x435e60(0x7ab));this[_0x435e60(0x4a2)][_0x435e60(0x33b)](_0x435e60(0x650)+_0x2b6d8c);try{await this[_0x435e60(0xa9)][_0x435e60(0x131)]({'archive':_0x30b395[_0x435e60(0x2e3)],'lastMessages':[_0x1a371a]},this[_0x435e60(0x485)](_0x2b6d8c));}catch(_0x35c759){let _0x3bb911=_0x435e60(0x336)+_0x2b6d8c,_0x252442=_0x35c759 instanceof Error?_0x35c759[_0x435e60(0x37e)]:typeof _0x35c759==_0x435e60(0x31d)?JSON[_0x435e60(0x564)](_0x35c759):_0x35c759,_0x407c8c=_0x3bb911+':\x20'+_0x252442;this['logger'][_0x435e60(0x1b8)](this[_0x435e60(0x198)]+'\x20('+this[_0x435e60(0x3c2)][_0x435e60(0x265)]+_0x435e60(0x574)+_0x407c8c);}this[_0x435e60(0x4a2)][_0x435e60(0x33b)](_0x435e60(0x69c)+_0x2b6d8c);let _0x4b07b7=await this['repository'][_0x435e60(0x5e6)][_0x435e60(0x4fc)]({'where':{'_id':_0x1a371a?.['key']?.[_0x435e60(0x572)]}},{'archived':_0x30b395['archive']},this[_0x435e60(0x3c2)][_0x435e60(0x265)]);return _0x4b07b7?(this[_0x435e60(0x4a2)][_0x435e60(0x33b)](_0x435e60(0x316)+JSON['stringify'](_0x4b07b7)),J(this[_0x435e60(0x198)],_0x435e60(0x1fe),{'chat':_0x4b07b7})):this['logger'][_0x435e60(0x1b8)](_0x435e60(0x575)+_0x2b6d8c),{'chatId':_0x2b6d8c,'archived':_0x30b395[_0x435e60(0x2e3)]};}catch(_0x203fa2){let _0x17a1ef='Erro\x20ao\x20arquivar\x20chat',_0x5b92a0=_0x203fa2 instanceof Error?_0x203fa2['message']:typeof _0x203fa2==_0x435e60(0x31d)?JSON['stringify'](_0x203fa2):_0x203fa2,_0x43ba26=_0x17a1ef+':\x20'+_0x5b92a0;throw this[_0x435e60(0x4a2)][_0x435e60(0x1b8)](this[_0x435e60(0x198)]+'\x20('+this[_0x435e60(0x3c2)][_0x435e60(0x265)]+_0x435e60(0x574)+_0x43ba26),new I(_0x43ba26);}}async[a0_0x5de833(0x711)](_0x4b9a33){const _0x3d3ddb=a0_0x5de833;this[_0x3d3ddb(0x4a2)][_0x3d3ddb(0x33b)]('Delete\x20chat');try{let _0x4d6bf7=await this[_0x3d3ddb(0x209)](_0x4b9a33);if(!_0x4d6bf7||Object[_0x3d3ddb(0x4a0)](_0x4d6bf7)['length']===0x0)throw new U(_0x3d3ddb(0x7ab));let _0x27e316=_0x4d6bf7[0x0];this[_0x3d3ddb(0x4a2)][_0x3d3ddb(0x33b)](_0x3d3ddb(0x5c9)+_0x4b9a33);try{await this['client'][_0x3d3ddb(0x131)]({'delete':!0x0,'lastMessages':[{'key':_0x27e316[_0x3d3ddb(0x298)],'messageTimestamp':_0x27e316[_0x3d3ddb(0x190)]}]},this[_0x3d3ddb(0x485)](_0x4b9a33));}catch(_0x3ee6ef){this[_0x3d3ddb(0x4a2)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x4b9a33+':\x20'+_0x3ee6ef[_0x3d3ddb(0x667)]());}this['logger'][_0x3d3ddb(0x33b)](_0x3d3ddb(0x69c)+_0x4b9a33);return;}catch(_0x237364){throw this[_0x3d3ddb(0x4a2)][_0x3d3ddb(0x1b8)](_0x3d3ddb(0xb4)+_0x237364[_0x3d3ddb(0x667)]()),new I({'archived':!0x1,'message':[_0x3d3ddb(0x1a8),_0x237364[_0x3d3ddb(0x667)]()]});}}async[a0_0x5de833(0x1cc)](_0x3b83f0){const _0x2ecdf9=a0_0x5de833;try{let _0x52f82f=await this[_0x2ecdf9(0xa9)][_0x2ecdf9(0x38c)](_0x3b83f0[_0x2ecdf9(0x572)],{'delete':_0x3b83f0});try{let _0x4bd032=await this[_0x2ecdf9(0x534)](_0x3b83f0,{'status':_0x2ecdf9(0x51e),'owner':this['instance'][_0x2ecdf9(0x265)]});this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ecdf9(0x3c2)]['wuid']+_0x2ecdf9(0x414)+_0x4bd032);}catch(_0x4fd048){console[_0x2ecdf9(0x1b8)](_0x2ecdf9(0x25f),_0x4fd048);}return _0x52f82f;}catch(_0x4475ac){throw new I(_0x2ecdf9(0x191),_0x4475ac?.[_0x2ecdf9(0x667)]());}}async['getBase64FromMediaMessage'](_0x59d7df){const _0x3d5e36=a0_0x5de833;try{let _0x3835db=_0x59d7df?.[_0x3d5e36(0x37e)]?_0x59d7df:await this['getMessage'](_0x59d7df[_0x3d5e36(0x298)],!0x0);for(let _0x1c76ee of ya)_0x3835db[_0x3d5e36(0x37e)][_0x1c76ee]&&(_0x3835db[_0x3d5e36(0x37e)]=_0x3835db[_0x3d5e36(0x37e)][_0x1c76ee][_0x3d5e36(0x37e)]);let _0x44842d,_0x67c41d;for(let _0x2d5544 of wa)if(_0x44842d=_0x3835db[_0x3d5e36(0x37e)][_0x2d5544],_0x44842d){_0x67c41d=_0x2d5544;break;}if(!_0x44842d)throw _0x3d5e36(0x28c);typeof _0x44842d[_0x3d5e36(0x1c9)]==_0x3d5e36(0x31d)&&(_0x3835db['message']=JSON[_0x3d5e36(0x46c)](JSON['stringify'](_0x3835db['message'])));let _0x3e3e0d=await(0x0,f[_0x3d5e36(0x17e)])({'key':_0x3835db?.[_0x3d5e36(0x298)],'message':_0x3835db?.[_0x3d5e36(0x37e)]},_0x3d5e36(0x6b5),{},{'logger':(0x0,kt['default'])({'level':_0x3d5e36(0x47f)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x3e3e0d instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0xb4adea=this[_0x3d5e36(0x5cc)][_0x3d5e36(0x224)](_0x3d5e36(0xe9)),_0x1e1efe,_0x7dfbac;if(_0x44842d[_0x3d5e36(0x73a)])_0x1e1efe=_0x44842d[_0x3d5e36(0x73a)];else{let _0x2ee4c7=_0x44842d[_0x3d5e36(0x772)]?.[_0x3d5e36(0x10d)](/\/(\w+)/),_0x49916e=_0x2ee4c7?_0x2ee4c7[0x1]:null;if(!_0x49916e)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x1e1efe=(0x0,Me['v4'])()+'.'+_0x49916e;}_0x67c41d===_0x3d5e36(0x186)?_0x7dfbac=_0x3d5e36(0x473)+await this['convertaudioMP3'](_0x3e3e0d[_0x3d5e36(0x667)]('base64')):(await this[_0x3d5e36(0x297)](_0x3e3e0d,_0x1e1efe),_0x7dfbac='/media/'+_0x1e1efe);let _0x433348=this[_0x3d5e36(0x5cc)][_0x3d5e36(0x224)](_0x3d5e36(0x147))[_0x3d5e36(0x319)];if(!_0x433348){let _0x238b6b=this['configService'][_0x3d5e36(0x224)](_0x3d5e36(0x4ce));_0x433348=_0x3d5e36(0x6c1)+(_0x238b6b&&_0x238b6b['FULLCHAIN'][_0x3d5e36(0x3a3)]('/')[0x4]);}_0x7dfbac=''+_0x433348+_0x7dfbac;let _0x15855a=0xc*0x3c*0x3c*0x3e8,_0x2bf274={'where':{'_id':_0x3835db[_0x3d5e36(0x298)]['id']}},_0x358d68={'message_normalized.fileUrl':_0x7dfbac,'message_normalized.expires_fileUrl':Date['now']()+_0x15855a};try{let _0x204897=await this[_0x3d5e36(0x719)]['message'][_0x3d5e36(0x5ba)](_0x2bf274,_0x358d68,this[_0x3d5e36(0x3c2)]['wuid']);_0x204897&&J(this[_0x3d5e36(0x198)],'messages',{'message':_0x204897});}catch(_0x38a889){let _0x22e3b8=_0x3d5e36(0x374),_0x14e052=_0x38a889 instanceof Error?_0x38a889[_0x3d5e36(0x37e)]:typeof _0x38a889=='object'?JSON['stringify'](_0x38a889):_0x38a889,_0xe60b7c=_0x22e3b8+':\x20'+_0x14e052;this[_0x3d5e36(0x4a2)][_0x3d5e36(0x1b8)](this['instanceName']+'\x20('+this[_0x3d5e36(0x3c2)][_0x3d5e36(0x265)]+'):\x20'+_0xe60b7c);}return{'mediaType':_0x67c41d,'fileName':_0x44842d[_0x3d5e36(0x73a)],'caption':_0x44842d[_0x3d5e36(0x156)],'size':{'fileLength':_0x44842d[_0x3d5e36(0x330)],'height':_0x44842d[_0x3d5e36(0x437)],'width':_0x44842d[_0x3d5e36(0x4a8)]},'mimetype':_0x44842d[_0x3d5e36(0x772)],'base64':_0x3e3e0d['toString']('base64'),'fileUrl':_0x7dfbac,'expires_fileUrl':Date[_0x3d5e36(0x338)]()+_0x15855a};}catch(_0x5977f9){let _0x3887cf=_0x3d5e36(0x10a),_0x566b4f=_0x5977f9 instanceof Error?_0x5977f9[_0x3d5e36(0x37e)]:typeof _0x5977f9==_0x3d5e36(0x31d)?JSON['stringify'](_0x5977f9):_0x5977f9,_0x5028c2=_0x3887cf+':\x20'+_0x566b4f;throw this[_0x3d5e36(0x4a2)][_0x3d5e36(0x1b8)](this[_0x3d5e36(0x198)]+'\x20('+this['instance'][_0x3d5e36(0x265)]+_0x3d5e36(0x574)+_0x5028c2),new m(_0x5028c2);}}async[a0_0x5de833(0x297)](_0x5003d2,_0xe8323f){const _0x4d8ad9=a0_0x5de833;let _0x49b618=F[_0x4d8ad9(0x1a6)]['join'](__dirname,'downloads');L[_0x4d8ad9(0x11c)](_0x49b618)||L['mkdirSync'](_0x49b618,{'recursive':!0x0});let _0x232748=F[_0x4d8ad9(0x1a6)][_0x4d8ad9(0x52f)](_0x49b618,_0xe8323f);return new Promise((_0x54f1f9,_0x1041fc)=>{const _0x1ab497=_0x4d8ad9;L[_0x1ab497(0x15e)](_0x232748,_0x5003d2,_0x61e183=>{const _0x2f0f07=_0x1ab497;_0x61e183?(this[_0x2f0f07(0x4a2)][_0x2f0f07(0x1b8)](_0x2f0f07(0x2f5)+(_0x61e183 instanceof Error?_0x61e183[_0x2f0f07(0x37e)]:JSON['stringify'](_0x61e183,null,0x2))),_0x1041fc(_0x61e183)):(this['logger'][_0x2f0f07(0x6c3)]('File\x20written\x20to\x20path:\x20'+_0x232748),_0x54f1f9(_0x232748));});});}async[a0_0x5de833(0x6e7)](_0x221b31){const _0x435207=a0_0x5de833;return await this[_0x435207(0x719)][_0x435207(0x432)][_0x435207(0x781)](_0x221b31,this['instance'][_0x435207(0x265)]);}async[a0_0x5de833(0x167)](){const _0x3944d6=a0_0x5de833;return await this['repository']['label'][_0x3944d6(0x781)]({'where':{}},this[_0x3944d6(0x3c2)]['wuid']);}async['fetchMessages'](_0x4a5e36){const _0x1fc8e2=a0_0x5de833;return await this['repository'][_0x1fc8e2(0x37e)][_0x1fc8e2(0x781)](_0x4a5e36,this[_0x1fc8e2(0x3c2)][_0x1fc8e2(0x265)]);}async[a0_0x5de833(0x49e)](){const _0x55d90e=a0_0x5de833;return this[_0x55d90e(0x719)][_0x55d90e(0x5e6)]['removeUnusedChatFields'](this[_0x55d90e(0x3c2)]['wuid']),this[_0x55d90e(0x719)][_0x55d90e(0x5e6)]['updateMissingEtiquetas'](this[_0x55d90e(0x3c2)][_0x55d90e(0x265)]),this[_0x55d90e(0x719)][_0x55d90e(0x5e6)][_0x55d90e(0x37d)](this[_0x55d90e(0x3c2)][_0x55d90e(0x265)]),this['repository'][_0x55d90e(0x5e6)][_0x55d90e(0x4bf)](this['instance'][_0x55d90e(0x265)]),await this['repository'][_0x55d90e(0x5e6)][_0x55d90e(0x781)]({'where':{}},this[_0x55d90e(0x3c2)][_0x55d90e(0x265)]);}async[a0_0x5de833(0x52e)](_0x2a2640){const _0xb1efc2=a0_0x5de833;try{if(!Array[_0xb1efc2(0x529)](_0x2a2640)||_0x2a2640[_0xb1efc2(0x612)]===0x0)throw new Error(_0xb1efc2(0x2bb));let _0x9b9f73=[],_0x1be073=[];for(let _0x36f9cc of _0x2a2640){if(_0x36f9cc[_0xb1efc2(0x478)])_0x36f9cc['_id']=this[_0xb1efc2(0x485)](_0x36f9cc[_0xb1efc2(0x478)]);else continue;await this[_0xb1efc2(0x719)]['chat'][_0xb1efc2(0x782)]({'where':{'_id':_0x36f9cc[_0xb1efc2(0x478)]}},this[_0xb1efc2(0x3c2)][_0xb1efc2(0x265)])?_0x1be073[_0xb1efc2(0x2c5)]({'_id':_0x36f9cc[_0xb1efc2(0x478)],'leadInfo':_0x36f9cc[_0xb1efc2(0x4a4)],'owner':this['instance'][_0xb1efc2(0x265)]}):_0x9b9f73['push']({'_id':_0x36f9cc[_0xb1efc2(0x478)],'owner':this[_0xb1efc2(0x3c2)][_0xb1efc2(0x265)],'leadInfo':_0x36f9cc[_0xb1efc2(0x4a4)],'imported':!0x0});}return _0x1be073[_0xb1efc2(0x612)]>0x0&&await this[_0xb1efc2(0x719)][_0xb1efc2(0x5e6)][_0xb1efc2(0x1dc)](_0x1be073['map'](_0x29126c=>({'query':{'where':{'_id':_0x29126c[_0xb1efc2(0x478)],'owner':this[_0xb1efc2(0x3c2)][_0xb1efc2(0x265)]}},'update':_0x29126c}))),_0x9b9f73[_0xb1efc2(0x612)]>0x0&&await this['repository'][_0xb1efc2(0x5e6)][_0xb1efc2(0x10e)](_0x9b9f73,this['instance'][_0xb1efc2(0x265)]),{'updated':_0x1be073[_0xb1efc2(0x612)],'inserted':_0x9b9f73[_0xb1efc2(0x612)]};}catch(_0x2b3c8b){let _0x25a2a1=_0xb1efc2(0x48c),_0xf4c450=_0x2b3c8b instanceof Error?_0x2b3c8b[_0xb1efc2(0x37e)]:typeof _0x2b3c8b==_0xb1efc2(0x31d)?JSON[_0xb1efc2(0x564)](_0x2b3c8b):_0x2b3c8b,_0x3fd80e=_0x25a2a1+':\x20'+_0xf4c450;throw this[_0xb1efc2(0x4a2)][_0xb1efc2(0x1b8)](this[_0xb1efc2(0x198)]+'\x20('+this[_0xb1efc2(0x3c2)][_0xb1efc2(0x265)]+'):\x20'+_0x3fd80e),new m(_0x3fd80e);}}async[a0_0x5de833(0x177)](_0x4b285d){const _0x580a5a=a0_0x5de833;try{if(!Array[_0x580a5a(0x529)](_0x4b285d)||_0x4b285d[_0x580a5a(0x612)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x555e70=0x64,_0x2722ed=0x0;for(let _0x9c8df5=0x0;_0x9c8df5<_0x4b285d[_0x580a5a(0x612)];_0x9c8df5+=_0x555e70){let _0x493805=_0x4b285d[_0x580a5a(0x1f2)](_0x9c8df5,_0x9c8df5+_0x555e70),{updated:_0x9815b9}=await this[_0x580a5a(0x66d)](_0x493805);_0x2722ed+=_0x9815b9;}return{'updated':_0x2722ed};}catch(_0x3bd70b){let _0x1e40f7=_0x580a5a(0x48c),_0x4fe4ac=_0x3bd70b instanceof Error?_0x3bd70b[_0x580a5a(0x37e)]:typeof _0x3bd70b==_0x580a5a(0x31d)?JSON[_0x580a5a(0x564)](_0x3bd70b):_0x3bd70b,_0xa3e491=_0x1e40f7+':\x20'+_0x4fe4ac;throw this[_0x580a5a(0x4a2)]['error'](this[_0x580a5a(0x198)]+'\x20('+this[_0x580a5a(0x3c2)][_0x580a5a(0x265)]+_0x580a5a(0x574)+_0xa3e491),new m(_0xa3e491);}}async['importChatsBatch'](_0x570a3d){const _0x5854bf=a0_0x5de833;try{let _0x186709=await this[_0x5854bf(0x719)]['label'][_0x5854bf(0x781)]({'where':{}},this['instance'][_0x5854bf(0x265)]),_0x25c6c6=new Set(_0x186709[_0x5854bf(0x4ba)](_0x67d277=>_0x67d277[_0x5854bf(0x478)])),_0x2d1953=[],_0x150aca=[];for(let _0x8db447 of _0x570a3d){if(!_0x8db447[_0x5854bf(0x478)])continue;_0x8db447['_id']=this[_0x5854bf(0x485)](_0x8db447[_0x5854bf(0x478)]);let _0xb40c0=await this['repository'][_0x5854bf(0x5e6)][_0x5854bf(0x782)]({'where':{'_id':_0x8db447[_0x5854bf(0x478)]}},this[_0x5854bf(0x3c2)]['wuid']),_0x38e20c={};if(Object[_0x5854bf(0x286)](_0x8db447[_0x5854bf(0x4a4)])[_0x5854bf(0x1b4)](([_0x51dbe4,_0x225b5f])=>{const _0x1d2eeb=_0x5854bf;_0x38e20c[_0x1d2eeb(0x1c1)+_0x51dbe4]=_0x225b5f;}),_0xb40c0&&!_0xb40c0['imported']){let _0x4a95f8=(_0x8db447[_0x5854bf(0x4a4)][_0x5854bf(0x33e)]||[])[_0x5854bf(0x2f4)](_0xa443b1=>_0x25c6c6[_0x5854bf(0x3ad)](_0xa443b1)),_0xcb79e=new Set(_0xb40c0[_0x5854bf(0x4a4)][_0x5854bf(0x33e)]||[]),_0x228310=_0x4a95f8[_0x5854bf(0x2f4)](_0x3be6d3=>!_0xcb79e['has'](_0x3be6d3)),_0x44878c=[..._0xcb79e]['filter'](_0x5cd205=>!_0x4a95f8['includes'](_0x5cd205));_0x150aca[_0x5854bf(0x2c5)](..._0x228310[_0x5854bf(0x4ba)](_0x4c7c41=>this[_0x5854bf(0x16a)](_0x4c7c41,_0x8db447['_id']))),_0x150aca['push'](..._0x44878c[_0x5854bf(0x4ba)](_0x3a3536=>this[_0x5854bf(0x180)](_0x3a3536,_0x8db447['_id']))),_0x8db447[_0x5854bf(0x4a4)][_0x5854bf(0x33e)]=_0x4a95f8,_0x2d1953['push']({'query':{'where':{'_id':_0x8db447[_0x5854bf(0x478)],'owner':this[_0x5854bf(0x3c2)][_0x5854bf(0x265)]}},'update':_0x38e20c});}else _0x38e20c['imported']=!0x0,_0x2d1953[_0x5854bf(0x2c5)]({'query':{'where':{'_id':_0x8db447[_0x5854bf(0x478)],'owner':this[_0x5854bf(0x3c2)][_0x5854bf(0x265)]}},'update':_0x38e20c});}let _0x3515d5=await this[_0x5854bf(0x719)]['chat'][_0x5854bf(0x1dc)](_0x2d1953);return await Promise['all'](_0x150aca),{'updated':_0x3515d5};}catch(_0x3f1303){let _0x1039b2=_0x5854bf(0x48c),_0x3ab7f1=_0x3f1303 instanceof Error?_0x3f1303['message']:typeof _0x3f1303=='object'?JSON[_0x5854bf(0x564)](_0x3f1303):_0x3f1303,_0x13271a=_0x1039b2+':\x20'+_0x3ab7f1;throw this[_0x5854bf(0x4a2)]['error'](this[_0x5854bf(0x198)]+'\x20('+this[_0x5854bf(0x3c2)]['wuid']+_0x5854bf(0x574)+_0x13271a),new m(_0x13271a);}}async[a0_0x5de833(0x120)](){const _0x219d19=a0_0x5de833;return await this[_0x219d19(0xa9)][_0x219d19(0x120)]();}async[a0_0x5de833(0xcb)](_0x250c63){const _0x4473c7=a0_0x5de833;try{return await this[_0x4473c7(0xa9)][_0x4473c7(0x130)](_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x4fa)]),await this[_0x4473c7(0xa9)][_0x4473c7(0x434)](_0x250c63[_0x4473c7(0x416)]['profile']),await this[_0x4473c7(0xa9)][_0x4473c7(0x591)](_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x620)]),await this[_0x4473c7(0xa9)][_0x4473c7(0x756)](_0x250c63[_0x4473c7(0x416)]['online']),await this[_0x4473c7(0xa9)]['updateLastSeenPrivacy'](_0x250c63['privacySettings'][_0x4473c7(0x29e)]),await this[_0x4473c7(0xa9)][_0x4473c7(0x2cb)](_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x583)]),this[_0x4473c7(0xa9)]?.['ws']?.[_0x4473c7(0x44f)](),{'update':_0x4473c7(0x2ae),'data':{'readreceipts':_0x250c63['privacySettings'][_0x4473c7(0x4fa)],'profile':_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x724)],'status':_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x620)],'online':_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x4c5)],'last':_0x250c63['privacySettings'][_0x4473c7(0x29e)],'groupadd':_0x250c63[_0x4473c7(0x416)][_0x4473c7(0x583)]}};}catch(_0x17eab8){let _0x3847e2=_0x4473c7(0x48e),_0x4ec35a=_0x17eab8 instanceof Error?_0x17eab8['message']:typeof _0x17eab8==_0x4473c7(0x31d)?JSON['stringify'](_0x17eab8):_0x17eab8,_0x196ee6=_0x3847e2+':\x20'+_0x4ec35a;throw this['logger'][_0x4473c7(0x1b8)](this[_0x4473c7(0x198)]+'\x20('+this[_0x4473c7(0x3c2)]['wuid']+_0x4473c7(0x574)+_0x196ee6),new m(_0x196ee6);}}async[a0_0x5de833(0x56f)](_0x4e23bf){const _0x46f198=a0_0x5de833;let _0x5a675f=(_0x4e23bf?this[_0x46f198(0x485)](_0x4e23bf):this[_0x46f198(0xa9)]?.['user']?.['id'])[_0x46f198(0x25a)](/:\d{1,2}@/g,'@');this[_0x46f198(0x4a2)][_0x46f198(0x33b)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x5a675f);let _0x225bc1=await this[_0x46f198(0x719)][_0x46f198(0x432)]['findOne']({'where':{'_id':_0x5a675f}},this[_0x46f198(0x3c2)][_0x46f198(0x265)]),_0x4d0a9b=_0x225bc1?_0x225bc1['pushName']:null;try{let _0x5cdf7d=(await this['whatsappNumber']({'numbers':[_0x5a675f]}))?.[_0x46f198(0x31a)](),_0x4098ef=(await this[_0x46f198(0x520)](_0x5a675f,null,!0x1))[_0x46f198(0x114)]['pictureUrl'],_0x50bb64=await this[_0x46f198(0x1fd)](_0x5cdf7d?.[_0x46f198(0xeb)]),_0x5a956c=await this[_0x46f198(0xc4)](_0x5cdf7d?.[_0x46f198(0xeb)]),_0x2edc35=(await this[_0x46f198(0x520)](_0x5a675f,null,!0x1))[_0x46f198(0x114)][_0x46f198(0x40f)],_0x3a870a=await this[_0x46f198(0x719)][_0x46f198(0x5e6)][_0x46f198(0x782)]({'where':{'_id':_0x5a675f}},this[_0x46f198(0x3c2)]['wuid']),_0x301242={'imagechat':_0x4098ef,'contactname':_0x4d0a9b||null,'pushName':_0x2edc35,'status':_0x50bb64?.[_0x46f198(0x620)],'isBusiness':_0x5a956c[_0x46f198(0x4c3)],'email':_0x5a956c?.[_0x46f198(0x480)],'description':_0x5a956c?.[_0x46f198(0x3d9)],'website':_0x5a956c?.[_0x46f198(0x20d)]?.[_0x46f198(0x31a)](),'lastcache':Date[_0x46f198(0x338)](),'imported':!_0x3a870a},_0x3df11b=await this['repository'][_0x46f198(0x5e6)][_0x46f198(0x4fc)]({'where':{'_id':_0x5a675f}},_0x301242,this['instance'][_0x46f198(0x265)]),_0x1b33dd={'owner':this[_0x46f198(0x3c2)][_0x46f198(0x265)],'_id':_0x5a675f,'profilePictureUrl':_0x4098ef,'status':_0x50bb64?.['status']};return this['repository'][_0x46f198(0x432)][_0x46f198(0x5ba)]([_0x1b33dd],this[_0x46f198(0x3c2)]['wuid']),_0x3df11b&&J(this['instanceName'],_0x46f198(0x1fe),{'chat':_0x3df11b}),{'wuid':_0x5cdf7d?.[_0x46f198(0xeb)]||_0x5a675f,'name':_0x5cdf7d?.[_0x46f198(0x40f)],'pushName':_0x2edc35,'numberExists':_0x5cdf7d?.[_0x46f198(0x640)],'picture':_0x4098ef,'status':_0x50bb64?.['status'],'isBusiness':_0x5a956c[_0x46f198(0x4c3)],'email':_0x5a956c?.[_0x46f198(0x480)],'description':_0x5a956c?.[_0x46f198(0x3d9)],'website':_0x5a956c?.[_0x46f198(0x20d)]?.[_0x46f198(0x31a)]()};}catch(_0x2f4d34){return this[_0x46f198(0x4a2)]['error'](_0x46f198(0x69f)+(_0x2f4d34 instanceof Error?_0x2f4d34[_0x46f198(0x37e)]:JSON[_0x46f198(0x564)](_0x2f4d34,null,0x2))),{};}}async[a0_0x5de833(0xc4)](_0x13dbc2){const _0x2fbf2a=a0_0x5de833;this[_0x2fbf2a(0x4a2)][_0x2fbf2a(0x33b)](_0x2fbf2a(0x419));try{let _0x44363f=_0x13dbc2?this[_0x2fbf2a(0x485)](_0x13dbc2):this[_0x2fbf2a(0x3c2)][_0x2fbf2a(0x265)],_0x1542f=await this[_0x2fbf2a(0xa9)][_0x2fbf2a(0x275)](_0x44363f);return this[_0x2fbf2a(0x4a2)][_0x2fbf2a(0x33b)](_0x2fbf2a(0x508)),_0x1542f?(this[_0x2fbf2a(0x4a2)]['verbose'](_0x2fbf2a(0x145)),{'isBusiness':!0x0,..._0x1542f}):{'isBusiness':!0x1,'message':_0x2fbf2a(0x1b5),...(await this['whatsappNumber']({'numbers':[_0x44363f]}))?.['shift']()};}catch(_0x15a519){let _0x1aff32=_0x2fbf2a(0x56a),_0x51d28e=_0x15a519 instanceof Error?_0x15a519[_0x2fbf2a(0x37e)]:typeof _0x15a519==_0x2fbf2a(0x31d)?JSON[_0x2fbf2a(0x564)](_0x15a519):_0x15a519,_0xb9bb39=_0x1aff32+':\x20'+_0x51d28e;throw this[_0x2fbf2a(0x4a2)]['error'](this['instanceName']+'\x20('+this[_0x2fbf2a(0x3c2)][_0x2fbf2a(0x265)]+_0x2fbf2a(0x574)+_0xb9bb39),new I(_0xb9bb39);}}async[a0_0x5de833(0x1fd)](_0x4150f1){const _0x1515ee=a0_0x5de833;let _0x51a9e2=this[_0x1515ee(0x485)](_0x4150f1);try{return{'wuid':_0x51a9e2,'status':(await this[_0x1515ee(0xa9)][_0x1515ee(0x444)](_0x51a9e2))?.[_0x1515ee(0x620)]};}catch{return{'wuid':_0x51a9e2,'status':null};}}async[a0_0x5de833(0x367)](_0x4be146){const _0xaf0613=a0_0x5de833;try{return await this[_0xaf0613(0xa9)][_0xaf0613(0x367)](_0x4be146),{'update':_0xaf0613(0x2ae)};}catch(_0x553929){let _0x39936e='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName',_0x3d5d6f=_0x553929 instanceof Error?_0x553929[_0xaf0613(0x37e)]:typeof _0x553929==_0xaf0613(0x31d)?JSON[_0xaf0613(0x564)](_0x553929):_0x553929,_0x5b6cb9=_0x39936e+':\x20'+_0x3d5d6f;throw this[_0xaf0613(0x4a2)][_0xaf0613(0x1b8)](this[_0xaf0613(0x198)]+'\x20('+this[_0xaf0613(0x3c2)][_0xaf0613(0x265)]+'):\x20'+_0x5b6cb9),new I(_0x5b6cb9);}}async[a0_0x5de833(0x736)](_0x5e3dec){const _0x6edfd2=a0_0x5de833;try{return await this[_0x6edfd2(0xa9)][_0x6edfd2(0x736)](_0x5e3dec),{'update':'success'};}catch(_0x46e4af){let _0x145d9f=_0x6edfd2(0x398),_0x14249e=_0x46e4af instanceof Error?_0x46e4af[_0x6edfd2(0x37e)]:typeof _0x46e4af=='object'?JSON[_0x6edfd2(0x564)](_0x46e4af):_0x46e4af,_0x4ab374=_0x145d9f+':\x20'+_0x14249e;throw this[_0x6edfd2(0x4a2)][_0x6edfd2(0x1b8)](this[_0x6edfd2(0x198)]+'\x20('+this['instance'][_0x6edfd2(0x265)]+_0x6edfd2(0x574)+_0x4ab374),new I(_0x4ab374);}}async['updateProfilePicture'](_0x94a094){const _0x361207=a0_0x5de833;try{let _0xfc938;if((0x0,k[_0x361207(0x506)])(_0x94a094)){let _0x341f9c=new Date()['getTime'](),_0x468496=_0x94a094+'?timestamp='+_0x341f9c;_0xfc938=(await K[_0x361207(0x1a6)]['get'](_0x468496,{'responseType':_0x361207(0x227)}))[_0x361207(0x385)];}else{if((0x0,k[_0x361207(0x67c)])(_0x94a094))_0xfc938=Buffer['from'](_0x94a094,_0x361207(0x589));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x361207(0xa9)][_0x361207(0x6ac)](this[_0x361207(0x3c2)][_0x361207(0x265)],_0xfc938),{'update':_0x361207(0x2ae)};}catch(_0x24d570){let _0x3956fb=_0x361207(0x315),_0x101cb3=_0x24d570 instanceof Error?_0x24d570[_0x361207(0x37e)]:typeof _0x24d570==_0x361207(0x31d)?JSON[_0x361207(0x564)](_0x24d570):_0x24d570,_0x7dc7f4=_0x3956fb+':\x20'+_0x101cb3;throw this[_0x361207(0x4a2)][_0x361207(0x1b8)](this[_0x361207(0x198)]+'\x20('+this['instance'][_0x361207(0x265)]+_0x361207(0x574)+_0x7dc7f4),new I(_0x7dc7f4);}}async[a0_0x5de833(0x4d7)](){const _0x438487=a0_0x5de833;try{return await this['client']['removeProfilePicture'](this[_0x438487(0x3c2)][_0x438487(0x265)]),{'update':_0x438487(0x2ae)};}catch(_0xa16cef){let _0x20e50c=_0x438487(0x4fd),_0x51b6af=_0xa16cef instanceof Error?_0xa16cef[_0x438487(0x37e)]:typeof _0xa16cef==_0x438487(0x31d)?JSON[_0x438487(0x564)](_0xa16cef):_0xa16cef,_0x38fc45=_0x20e50c+':\x20'+_0x51b6af;throw this['logger'][_0x438487(0x1b8)](this[_0x438487(0x198)]+'\x20('+this[_0x438487(0x3c2)][_0x438487(0x265)]+_0x438487(0x574)+_0x38fc45),new I(_0x38fc45);}}async[a0_0x5de833(0x401)](_0x343e18){const _0x2a8094=a0_0x5de833;try{let _0x36c313=(await this[_0x2a8094(0x12d)]({'numbers':_0x343e18['participants']}))['filter'](_0x1de26b=>_0x1de26b[_0x2a8094(0x640)])[_0x2a8094(0x4ba)](_0x10717a=>_0x10717a['jid']),{id:_0x47ea6b}=await this[_0x2a8094(0xa9)][_0x2a8094(0x34c)](_0x343e18[_0x2a8094(0x441)],_0x36c313);_0x343e18?.[_0x2a8094(0x3d9)]&&await this[_0x2a8094(0xa9)]['groupUpdateDescription'](_0x47ea6b,_0x343e18[_0x2a8094(0x3d9)]);let _0x173ef6=await this['client'][_0x2a8094(0x18e)](_0x47ea6b);return _0x173ef6['awaitingApproval']=[],{'metadata':_0x173ef6};}catch(_0x4044d2){let _0x321e27=_0x2a8094(0x2da),_0x2f8a1c=_0x4044d2 instanceof Error?_0x4044d2[_0x2a8094(0x37e)]:typeof _0x4044d2=='object'?JSON[_0x2a8094(0x564)](_0x4044d2):_0x4044d2,_0x3028e9=_0x321e27+':\x20'+_0x2f8a1c;throw this['logger']['error'](this[_0x2a8094(0x198)]+'\x20('+this['instance'][_0x2a8094(0x265)]+_0x2a8094(0x574)+_0x3028e9),new I(_0x3028e9);}}async[a0_0x5de833(0x7a0)](_0x1988ea){const _0x26bb8f=a0_0x5de833;try{if(_0x1988ea['restrict']===!0x0&&await this[_0x26bb8f(0xa9)][_0x26bb8f(0x717)](_0x1988ea[_0x26bb8f(0x502)],'locked'),_0x1988ea[_0x26bb8f(0x4d3)]===!0x1&&await this['client'][_0x26bb8f(0x717)](_0x1988ea[_0x26bb8f(0x502)],'unlocked'),_0x1988ea[_0x26bb8f(0x97)]===!0x0&&await this['client'][_0x26bb8f(0x717)](_0x1988ea[_0x26bb8f(0x502)],_0x26bb8f(0x377)),_0x1988ea[_0x26bb8f(0x97)]===!0x1&&await this[_0x26bb8f(0xa9)][_0x26bb8f(0x717)](_0x1988ea[_0x26bb8f(0x502)],_0x26bb8f(0x54d)),_0x1988ea[_0x26bb8f(0x535)]===!0x0&&await this[_0x26bb8f(0xa9)]['groupMemberAddMode'](_0x1988ea[_0x26bb8f(0x502)],_0x26bb8f(0x601)),_0x1988ea[_0x26bb8f(0x535)]===!0x1&&await this['client'][_0x26bb8f(0x746)](_0x1988ea[_0x26bb8f(0x502)],'admin_add'),_0x1988ea[_0x26bb8f(0x1e0)]===!0x0&&await this[_0x26bb8f(0xa9)][_0x26bb8f(0x6c0)](_0x1988ea[_0x26bb8f(0x502)],'on'),_0x1988ea[_0x26bb8f(0x1e0)]===!0x1&&await this[_0x26bb8f(0xa9)]['groupJoinApprovalMode'](_0x1988ea[_0x26bb8f(0x502)],_0x26bb8f(0x240)),typeof _0x1988ea[_0x26bb8f(0x347)]<'u'&&_0x1988ea['expiration']!==null&&await this['client'][_0x26bb8f(0x5b2)](_0x1988ea[_0x26bb8f(0x502)],_0x1988ea[_0x26bb8f(0x347)]),_0x1988ea['name']&&await this[_0x26bb8f(0xa9)]['groupUpdateSubject'](_0x1988ea[_0x26bb8f(0x502)],_0x1988ea[_0x26bb8f(0x40f)]),_0x1988ea[_0x26bb8f(0x3d9)]&&await this[_0x26bb8f(0xa9)][_0x26bb8f(0x792)](_0x1988ea['groupJid'],_0x1988ea[_0x26bb8f(0x3d9)]),_0x1988ea[_0x26bb8f(0x472)]){let _0x29910e;if((0x0,k[_0x26bb8f(0x506)])(_0x1988ea[_0x26bb8f(0x472)])){let _0x170033=new Date()[_0x26bb8f(0x427)](),_0x2a7a2e=_0x1988ea[_0x26bb8f(0x472)]+_0x26bb8f(0x3e8)+_0x170033;_0x29910e=(await K['default'][_0x26bb8f(0x224)](_0x2a7a2e,{'responseType':_0x26bb8f(0x227)}))['data'];}else{if((0x0,k[_0x26bb8f(0x67c)])(_0x1988ea['image']))_0x29910e=Buffer[_0x26bb8f(0x4a6)](_0x1988ea[_0x26bb8f(0x472)],'base64');else throw new m(_0x26bb8f(0x144));}await this[_0x26bb8f(0xa9)][_0x26bb8f(0x6ac)](_0x1988ea['groupJid'],_0x29910e);}return await this[_0x26bb8f(0x685)]({'groupJid':_0x1988ea['groupJid']});}catch(_0x1c8d45){let _0x2c3a88=_0x26bb8f(0x5f0),_0x4a6bdd=_0x1c8d45 instanceof Error?_0x1c8d45[_0x26bb8f(0x37e)]:typeof _0x1c8d45==_0x26bb8f(0x31d)?JSON[_0x26bb8f(0x564)](_0x1c8d45):_0x1c8d45,_0x10ea60=_0x2c3a88+':\x20'+_0x4a6bdd;throw this[_0x26bb8f(0x4a2)][_0x26bb8f(0x1b8)](this[_0x26bb8f(0x198)]+'\x20('+this[_0x26bb8f(0x3c2)][_0x26bb8f(0x265)]+_0x26bb8f(0x574)+_0x10ea60),new I(_0x10ea60);}}async[a0_0x5de833(0x79f)](_0x5e353c){const _0x2d525d=a0_0x5de833;try{if(_0x5e353c[_0x2d525d(0x403)]==='approve'||_0x5e353c[_0x2d525d(0x403)]===_0x2d525d(0x238)){let _0x9f8e46=_0x5e353c[_0x2d525d(0x762)]['map'](_0x8b608=>this[_0x2d525d(0x485)](_0x8b608));await this[_0x2d525d(0xa9)][_0x2d525d(0x378)](_0x5e353c[_0x2d525d(0x502)],_0x9f8e46,_0x5e353c[_0x2d525d(0x403)]);}else{if(_0x5e353c[_0x2d525d(0x403)]===_0x2d525d(0x773)){let _0x514b17=(await this[_0x2d525d(0x12d)]({'numbers':_0x5e353c['participants']}))['filter'](_0x274917=>_0x274917[_0x2d525d(0x640)])[_0x2d525d(0x4ba)](_0x3dc550=>this['createJid'](_0x3dc550[_0x2d525d(0xeb)]));if(_0x514b17['length']===0x0)throw new m(_0x2d525d(0x127));await this[_0x2d525d(0xa9)][_0x2d525d(0x797)](_0x5e353c[_0x2d525d(0x502)],_0x514b17,_0x2d525d(0x773));}else{let _0xc42e37=_0x5e353c['participants'][_0x2d525d(0x4ba)](_0x42d24c=>this[_0x2d525d(0x485)](_0x42d24c));await this[_0x2d525d(0xa9)][_0x2d525d(0x797)](_0x5e353c[_0x2d525d(0x502)],_0xc42e37,_0x5e353c['action']);}}return await this[_0x2d525d(0x685)]({'groupJid':_0x5e353c[_0x2d525d(0x502)]});}catch(_0x47a2a0){let _0x50f6bb=_0x2d525d(0x73c),_0x27e1e1=_0x47a2a0 instanceof Error?_0x47a2a0['message']:typeof _0x47a2a0==_0x2d525d(0x31d)?JSON[_0x2d525d(0x564)](_0x47a2a0):_0x47a2a0,_0x2c01f9=_0x50f6bb+':\x20'+_0x27e1e1;throw this[_0x2d525d(0x4a2)]['error'](this[_0x2d525d(0x198)]+'\x20('+this[_0x2d525d(0x3c2)]['wuid']+_0x2d525d(0x574)+_0x2c01f9),new m(_0x2c01f9);}}async[a0_0x5de833(0x19c)](_0x27ec87){const _0x59d724=a0_0x5de833;try{return await this['client'][_0x59d724(0x19c)](_0x27ec87[_0x59d724(0x251)]);}catch(_0x5bc266){let _0x3f40ae=_0x59d724(0x3cb),_0x44f582=_0x5bc266 instanceof Error?_0x5bc266[_0x59d724(0x37e)]:typeof _0x5bc266==_0x59d724(0x31d)?JSON['stringify'](_0x5bc266):_0x5bc266,_0x11f4af=_0x3f40ae+':\x20'+_0x44f582;throw this[_0x59d724(0x4a2)][_0x59d724(0x1b8)](this[_0x59d724(0x198)]+'\x20('+this[_0x59d724(0x3c2)][_0x59d724(0x265)]+_0x59d724(0x574)+_0x11f4af),new m(_0x11f4af);}}async[a0_0x5de833(0x685)](_0x2428e7,_0xc86bbb=a0_0x5de833(0x533)){const _0x3f0a50=a0_0x5de833;try{let _0x2514d4=await this[_0x3f0a50(0x719)][_0x3f0a50(0x5e6)][_0x3f0a50(0x782)]({'where':{'_id':_0x2428e7['groupJid']}},this[_0x3f0a50(0x3c2)]['wuid']),_0x5beb25=_0x2514d4?_0x2514d4[_0x3f0a50(0x22a)]:null,_0x339ebf=0x18*0x3c*0x3c*0x3e8;if(!_0x5beb25||_0x5beb25['lastUpdate']&&Date[_0x3f0a50(0x338)]()-_0x5beb25[_0x3f0a50(0x553)]>_0x339ebf){let _0x3426cf=await this[_0x3f0a50(0xa9)][_0x3f0a50(0x18e)](_0x2428e7[_0x3f0a50(0x502)]);if(_0x3426cf[_0x3f0a50(0x246)]=_0x3426cf?.[_0x3f0a50(0x246)]&&_0x3426cf[_0x3f0a50(0x246)][_0x3f0a50(0x667)]()['length']<0xd?_0x3426cf?.['subjectTime']*0x3e8:_0x3426cf?.[_0x3f0a50(0x246)]||null,_0x3426cf[_0x3f0a50(0x5d6)]=_0x3426cf?.[_0x3f0a50(0x5d6)]&&_0x3426cf[_0x3f0a50(0x5d6)][_0x3f0a50(0x667)]()['length']<0xd?_0x3426cf?.[_0x3f0a50(0x5d6)]*0x3e8:_0x3426cf?.[_0x3f0a50(0x5d6)]||null,_0x5beb25={..._0x3426cf,'lastUpdate':Date['now']()},!_0x3426cf)return;}let _0x4f502f=_0x5beb25[_0x3f0a50(0x762)][_0x3f0a50(0x3e1)](_0x3dae88=>_0x3dae88['id']===this[_0x3f0a50(0x3c2)][_0x3f0a50(0x265)]+_0x3f0a50(0x443)&&_0x3dae88[_0x3f0a50(0x6a3)]!=null);!_0x5beb25[_0x3f0a50(0x251)]&&_0x4f502f&&(_0x5beb25[_0x3f0a50(0x251)]=(await this['inviteCode'](_0x2428e7,!0x1))[_0x3f0a50(0x1c5)]);let _0x44f34e=(!_0x5beb25[_0x3f0a50(0x97)]||_0x4f502f)&&(!_0x5beb25[_0x3f0a50(0x1e7)]||_0x5beb25[_0x3f0a50(0x1e7)]&&_0x5beb25[_0x3f0a50(0x2a2)]&&_0x4f502f);_0x5beb25[_0x3f0a50(0x255)]=_0x4f502f,_0x5beb25[_0x3f0a50(0x37c)]=_0x44f34e;let _0x4e8446=[];if(_0x4f502f&&_0x5beb25[_0x3f0a50(0x1e0)])try{_0x4e8446=await this['client']['groupRequestParticipantsList'](_0x2428e7[_0x3f0a50(0x502)]),_0x5beb25['lastFetchAwaitingApproval']=Date[_0x3f0a50(0x338)]();}catch(_0x52b6d8){this[_0x3f0a50(0x4a2)][_0x3f0a50(0x33b)](this[_0x3f0a50(0x198)]+'\x20('+this['instance'][_0x3f0a50(0x265)]+_0x3f0a50(0x290)+_0x2428e7['groupJid']+':\x20'+(_0x52b6d8 instanceof Error?_0x52b6d8[_0x3f0a50(0x37e)]:JSON[_0x3f0a50(0x564)](_0x52b6d8,null,0x2)));}try{_0x5beb25[_0x3f0a50(0x472)]=(await this[_0x3f0a50(0x520)](_0x2428e7[_0x3f0a50(0x502)],null,!0x0))[_0x3f0a50(0x114)]['pictureUrl'];}catch(_0x5675de){this[_0x3f0a50(0x4a2)][_0x3f0a50(0x33b)](this[_0x3f0a50(0x198)]+'\x20('+this[_0x3f0a50(0x3c2)][_0x3f0a50(0x265)]+_0x3f0a50(0x658)+_0x2428e7[_0x3f0a50(0x502)]+':\x20'+(_0x5675de instanceof Error?_0x5675de[_0x3f0a50(0x37e)]:JSON[_0x3f0a50(0x564)](_0x5675de,null,0x2)));}let _0x298862=_0x5beb25[_0x3f0a50(0x762)]['map'](_0x197ac6=>_0x197ac6['id']),_0x4a391f=_0x4e8446[_0x3f0a50(0x4ba)](_0x3d851a=>_0x3d851a[_0x3f0a50(0xeb)]),_0x4489e7=await this['repository']['cacheContact'][_0x3f0a50(0x108)]([..._0x298862,..._0x4a391f]);_0x5beb25[_0x3f0a50(0x762)]=_0x5beb25[_0x3f0a50(0x762)][_0x3f0a50(0x4ba)](_0x3eb5f6=>{const _0x23f923=_0x3f0a50;let _0xb7d15=_0x4489e7[_0x23f923(0x781)](_0x42e40d=>_0x42e40d['_id']===_0x3eb5f6['id']);return{'id':_0x3eb5f6['id'],'isAdmin':['admin','superadmin']['includes'](_0x3eb5f6[_0x23f923(0x6a3)]),'admin':_0x3eb5f6[_0x23f923(0x6a3)],'pushName':_0xb7d15?.['name'],'profilePictureUrl':_0xb7d15?.[_0x23f923(0xa6)]};}),_0x5beb25[_0x3f0a50(0x6ff)]=_0x4e8446['map'](_0x54b686=>{const _0xcdc5e2=_0x3f0a50;let _0x43bf9a=_0x4489e7['find'](_0x151124=>_0x151124[_0xcdc5e2(0x478)]===_0x54b686[_0xcdc5e2(0xeb)]);return{'id':_0x54b686['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x43bf9a?.[_0xcdc5e2(0x40f)],'profilePictureUrl':_0x43bf9a?.['pictureUrl'],'request_method':_0x54b686[_0xcdc5e2(0x3d3)],'request_time':_0x54b686[_0xcdc5e2(0x35c)]};});let _0xda341f=await this[_0x3f0a50(0x719)][_0x3f0a50(0x5e6)][_0x3f0a50(0x4fc)]({'where':{'_id':_0x2428e7[_0x3f0a50(0x502)]}},{'imagechat':_0x5beb25[_0x3f0a50(0x472)],'name':_0x5beb25[_0x3f0a50(0x441)],'lastcache':Date['now'](),'groupdata':_0x5beb25},this[_0x3f0a50(0x3c2)][_0x3f0a50(0x265)]);return J(this[_0x3f0a50(0x198)],_0x3f0a50(0x1fe),{'chat':_0xda341f}),{'metadata':_0x5beb25};}catch(_0x36ab1e){if(_0xc86bbb===_0x3f0a50(0x5ca))return;throw new U('Error\x20fetching\x20group',_0x36ab1e[_0x3f0a50(0x37e)][_0x3f0a50(0x667)]());}}async[a0_0x5de833(0x4c1)](){const _0x1ff844=a0_0x5de833;try{let _0x167f93=[],_0x4705cd=await this[_0x1ff844(0xa9)][_0x1ff844(0x5de)](),_0x4c9755=Object[_0x1ff844(0x52b)](_0x4705cd),_0x313d7a=_0x4c9755[_0x1ff844(0x2f4)](_0x2a4418=>(0x0,f[_0x1ff844(0x62e)])(_0x2a4418?.['id']))[_0x1ff844(0x4ba)](async _0x29c3a0=>{const _0x133199=_0x1ff844;try{return await this[_0x133199(0xa9)][_0x133199(0x21f)](_0x29c3a0['id'],_0x133199(0x2b7));}catch(_0x567423){return this[_0x133199(0x4a2)]['verbose'](this['instanceName']+'\x20('+this[_0x133199(0x3c2)][_0x133199(0x265)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x29c3a0['id']+':\x20'+(_0x567423 instanceof Error?_0x567423['message']:JSON[_0x133199(0x564)](_0x567423,null,0x2))),null;}}),_0x52f2a4=await Promise[_0x1ff844(0x110)](_0x313d7a);for(let _0x537e03=0x0;_0x537e03<_0x4c9755[_0x1ff844(0x612)];_0x537e03++){let _0x4651cb=_0x4c9755[_0x537e03];(0x0,f[_0x1ff844(0x62e)])(_0x4651cb?.['id'])&&(_0x167f93[_0x1ff844(0x2c5)]({'groupJid':_0x4651cb?.['id'],'subject':_0x4651cb?.[_0x1ff844(0x441)],'subjectOwner':_0x4651cb?.[_0x1ff844(0x2c9)]?.['split']('@')[0x0],'subjectTime':_0x4651cb?.[_0x1ff844(0x246)],'creation':_0x4651cb?.[_0x1ff844(0x5d6)],'size':_0x4651cb?.[_0x1ff844(0x762)]?.['length'],'owner':_0x4651cb?.[_0x1ff844(0x215)]?.['split']('@')[0x0],'desc':_0x4651cb?.['desc'],'restrict':_0x4651cb?.['restrict'],'announce':_0x4651cb?.['announce'],'image':_0x52f2a4[_0x537e03],'isCommunity':_0x4651cb?.[_0x1ff844(0x1e7)],'joinApprovalMode':_0x4651cb?.['joinApprovalMode'],'memberCanAddParticipant':_0x4651cb?.['memberAddMode'],'participants':_0x4651cb?.['participants'],'descOwner':_0x4651cb?.['descOwner'],'descId':_0x4651cb?.['descId'],'memberAddMode':_0x4651cb?.[_0x1ff844(0x535)],'isCommunityAnnounce':_0x4651cb?.[_0x1ff844(0x2a2)],'ephemeralDuration':_0x4651cb?.[_0x1ff844(0x10c)]||0x0,'author':_0x4651cb?.[_0x1ff844(0x578)]}),this[_0x1ff844(0x6a9)](_0x4c9755[_0x537e03]));}return _0x167f93;}catch(_0x250036){let _0xcb48da=_0x1ff844(0x27a),_0x3a6e3d=_0x250036 instanceof Error?_0x250036[_0x1ff844(0x37e)]:typeof _0x250036=='object'?JSON[_0x1ff844(0x564)](_0x250036):_0x250036,_0x5eace4=_0xcb48da+':\x20'+_0x3a6e3d;throw this['logger'][_0x1ff844(0x1b8)](this[_0x1ff844(0x198)]+'\x20('+this[_0x1ff844(0x3c2)][_0x1ff844(0x265)]+_0x1ff844(0x574)+_0x5eace4),new U(_0x5eace4);}}async[a0_0x5de833(0x6a9)](_0x143045){const _0x4ba4ad=a0_0x5de833;let _0xc88cf7=await this[_0x4ba4ad(0x719)][_0x4ba4ad(0x5e6)][_0x4ba4ad(0x782)]({'where':{'_id':_0x143045['id']}},this[_0x4ba4ad(0x3c2)]['wuid']);_0x143045[_0x4ba4ad(0x246)]=_0x143045?.[_0x4ba4ad(0x246)]&&_0x143045[_0x4ba4ad(0x246)]['toString']()['length']<0xd?_0x143045?.[_0x4ba4ad(0x246)]*0x3e8:_0x143045?.['subjectTime']||null,_0x143045[_0x4ba4ad(0x5d6)]=_0x143045?.[_0x4ba4ad(0x5d6)]&&_0x143045[_0x4ba4ad(0x5d6)][_0x4ba4ad(0x667)]()[_0x4ba4ad(0x612)]<0xd?_0x143045?.[_0x4ba4ad(0x5d6)]*0x3e8:_0x143045?.['creation']||null;let _0x4b6a1f=_0xc88cf7?.[_0x4ba4ad(0x22a)]?.[_0x4ba4ad(0x6ff)]||[],_0x238efb=_0xc88cf7?.[_0x4ba4ad(0x22a)]?.[_0x4ba4ad(0x2bf)],_0x2abd5c=_0x143045[_0x4ba4ad(0x762)][_0x4ba4ad(0x4ba)](_0x2af183=>{const _0x57d3dd=_0x4ba4ad;let _0x4cf95b=_0xc88cf7?.[_0x57d3dd(0x22a)]?.['participants'][_0x57d3dd(0x781)](_0x4117b1=>_0x4117b1['id']===_0x2af183['id']);return{..._0x2af183,'isAdmin':[_0x57d3dd(0x6a3),_0x57d3dd(0x4af)][_0x57d3dd(0x2d8)](_0x2af183[_0x57d3dd(0x6a3)]),'admin':_0x2af183[_0x57d3dd(0x6a3)],'name':_0x4cf95b?.[_0x57d3dd(0x40f)]||_0x2af183[_0x57d3dd(0x40f)],'imgUrl':_0x4cf95b?.[_0x57d3dd(0x6f9)]||_0x2af183['imgUrl']};}),_0x2e6659=_0x2abd5c[_0x4ba4ad(0x3e1)](_0x225579=>_0x225579['id']===this[_0x4ba4ad(0x3c2)]['wuid']+_0x4ba4ad(0x443)&&_0x225579[_0x4ba4ad(0x255)]),_0x4e06f1=(!_0x143045[_0x4ba4ad(0x97)]||_0x2e6659)&&(!_0x143045[_0x4ba4ad(0x1e7)]||_0x143045[_0x4ba4ad(0x1e7)]&&_0x143045[_0x4ba4ad(0x2a2)]&&_0x2e6659),_0x3df574={..._0x143045,'participants':_0x2abd5c,'awaitingApproval':_0x4b6a1f,'lastFetchAwaitingApproval':_0x238efb,'isAdmin':_0x2e6659,'canSendMessage':_0x4e06f1,'lastUpdate':Date['now']()};await this[_0x4ba4ad(0x719)]['chat'][_0x4ba4ad(0x4fc)]({'where':{'_id':_0x143045['id']}},{'name':_0x143045['subject'],'group':!0x0,'groupdata':_0x3df574,'lastcache':Date['now']()},this[_0x4ba4ad(0x3c2)][_0x4ba4ad(0x265)]),J(this[_0x4ba4ad(0x198)],'chats',{'chat':_0x143045});}async['updateGroupWebhook'](_0x251a46){const _0x2940c6=a0_0x5de833;let _0x1bdf77=await this[_0x2940c6(0x719)][_0x2940c6(0x5e6)][_0x2940c6(0x782)]({'where':{'_id':_0x251a46['id']}},this[_0x2940c6(0x3c2)]['wuid']);_0x251a46[_0x2940c6(0x246)]=_0x251a46?.[_0x2940c6(0x246)]&&_0x251a46['subjectTime'][_0x2940c6(0x667)]()[_0x2940c6(0x612)]<0xd?_0x251a46?.[_0x2940c6(0x246)]*0x3e8:_0x251a46?.['subjectTime']||null,_0x251a46[_0x2940c6(0x5d6)]=_0x251a46?.[_0x2940c6(0x5d6)]&&_0x251a46[_0x2940c6(0x5d6)][_0x2940c6(0x667)]()[_0x2940c6(0x612)]<0xd?_0x251a46?.[_0x2940c6(0x5d6)]*0x3e8:_0x251a46?.[_0x2940c6(0x5d6)]||null,_0x251a46[_0x2940c6(0x251)]&&(_0x251a46[_0x2940c6(0x251)]=_0x2940c6(0x4c7)+_0x251a46[_0x2940c6(0x251)]);let _0x3a848b=_0x1bdf77?.[_0x2940c6(0x22a)]?{..._0x1bdf77[_0x2940c6(0x22a)]}:{};Object[_0x2940c6(0x4a0)](_0x251a46)[_0x2940c6(0x1b4)](_0x2bb76e=>{_0x2bb76e!=='id'&&(_0x3a848b[_0x2bb76e]=_0x251a46[_0x2bb76e]);});let _0x24cb31=_0x3a848b[_0x2940c6(0x762)]?.[_0x2940c6(0x3e1)](_0x5b4437=>_0x5b4437['id']===this[_0x2940c6(0x3c2)][_0x2940c6(0x265)]+'@s.whatsapp.net'&&_0x5b4437[_0x2940c6(0x255)])||!0x1;_0x3a848b[_0x2940c6(0x255)]=_0x24cb31;let _0x24bd71=(!_0x3a848b[_0x2940c6(0x97)]||_0x24cb31)&&(!_0x3a848b[_0x2940c6(0x1e7)]||_0x3a848b['isCommunity']&&_0x3a848b['isCommunityAnnounce']&&_0x24cb31);_0x3a848b[_0x2940c6(0x37c)]=_0x24bd71;let _0x57543d={'group':!0x0,'groupdata':_0x3a848b};_0x251a46[_0x2940c6(0x441)]&&(_0x57543d[_0x2940c6(0x40f)]=_0x251a46[_0x2940c6(0x441)]),await this[_0x2940c6(0x719)][_0x2940c6(0x5e6)][_0x2940c6(0x4fc)]({'where':{'_id':_0x251a46['id']}},_0x57543d,this['instance'][_0x2940c6(0x265)],{'upsert':!0x0}),J(this[_0x2940c6(0x198)],'chats',{'chat':_0x57543d});}async['updateGroupParticipantsWebhook'](_0x46e666){const _0x4359b3=a0_0x5de833;let _0x12eedd=await this[_0x4359b3(0x719)]['chat'][_0x4359b3(0x782)]({'where':{'_id':_0x46e666['id']}},this[_0x4359b3(0x3c2)][_0x4359b3(0x265)]);if(!_0x12eedd||!_0x12eedd[_0x4359b3(0x22a)]){this[_0x4359b3(0x4a2)][_0x4359b3(0x2c3)](this[_0x4359b3(0x198)]+'\x20('+this[_0x4359b3(0x3c2)][_0x4359b3(0x265)]+'):\x20\x27Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x27,\x20'+_0x46e666['id']);return;}let _0x15f05d=await this[_0x4359b3(0x719)]['cacheContact'][_0x4359b3(0x108)](_0x46e666[_0x4359b3(0x762)]),_0x1d578b=[..._0x12eedd[_0x4359b3(0x22a)]?.[_0x4359b3(0x762)]];switch(_0x46e666['action']){case _0x4359b3(0x773):let _0x3434d6=_0x15f05d[_0x4359b3(0x4ba)](_0x137e56=>({'id':_0x137e56[_0x4359b3(0x478)],'isAdmin':!0x1,'name':_0x137e56[_0x4359b3(0x40f)],'imgUrl':_0x137e56[_0x4359b3(0xa6)]}));_0x1d578b=[..._0x1d578b,..._0x3434d6];break;case _0x4359b3(0x2ea):_0x1d578b=_0x1d578b[_0x4359b3(0x2f4)](_0xca6098=>!_0x46e666[_0x4359b3(0x762)]['includes'](_0xca6098['id']));break;case _0x4359b3(0x3e2):case _0x4359b3(0x2b6):_0x1d578b=_0x1d578b['map'](_0x2007bc=>_0x46e666[_0x4359b3(0x762)][_0x4359b3(0x2d8)](_0x2007bc['id'])?{..._0x2007bc,'isAdmin':_0x46e666[_0x4359b3(0x403)]==='promote'}:_0x2007bc);break;}let _0xffb6f1=_0x1d578b['length'],_0x57d6f5=_0x1d578b[_0x4359b3(0x3e1)](_0x1b585a=>_0x1b585a['id']===this['instance'][_0x4359b3(0x265)]+_0x4359b3(0x443)),_0xdb48a9=_0x57d6f5&&_0x1d578b[_0x4359b3(0x3e1)](_0x4ceba4=>_0x4ceba4['id']===this[_0x4359b3(0x3c2)][_0x4359b3(0x265)]+_0x4359b3(0x443)&&_0x4ceba4['isAdmin']),_0x465571=_0x57d6f5&&(!_0x12eedd[_0x4359b3(0x22a)][_0x4359b3(0x97)]||_0xdb48a9)&&(!_0x12eedd['groupdata'][_0x4359b3(0x1e7)]||_0x12eedd[_0x4359b3(0x22a)][_0x4359b3(0x1e7)]&&_0xdb48a9);await this[_0x4359b3(0x719)][_0x4359b3(0x5e6)][_0x4359b3(0x4fc)]({'where':{'_id':_0x46e666['id']}},{'groupdata':{..._0x12eedd[_0x4359b3(0x22a)],'participants':_0x1d578b,'size':_0xffb6f1,'isAdmin':_0xdb48a9,'canSendMessage':_0x465571}},this[_0x4359b3(0x3c2)]['wuid']),this[_0x4359b3(0x4a2)][_0x4359b3(0x2c3)](this[_0x4359b3(0x198)]+'\x20('+this['instance'][_0x4359b3(0x265)]+_0x4359b3(0x51c)+_0x46e666['id']+_0x4359b3(0x5a8)+_0x46e666[_0x4359b3(0x403)]+_0x4359b3(0x203)+_0xffb6f1+_0x4359b3(0x53e)+_0xdb48a9+_0x4359b3(0x309)+_0x465571);}async[a0_0x5de833(0x251)](_0x55d596,_0xa3360=!0x0){const _0x35fc98=a0_0x5de833;try{let _0x4a2c58=await this[_0x35fc98(0xa9)]['groupInviteCode'](_0x55d596[_0x35fc98(0x502)]),_0x155c3d={'groupdata.inviteCode':_0x35fc98(0x4c7)+_0x4a2c58};if(_0xa3360){let _0x11094a=await this[_0x35fc98(0x719)]['chat']['updateOne']({'where':{'_id':_0x55d596[_0x35fc98(0x502)]}},_0x155c3d,this[_0x35fc98(0x3c2)][_0x35fc98(0x265)]);}return{'inviteUrl':_0x35fc98(0x4c7)+_0x4a2c58,'inviteCode':_0x4a2c58};}catch(_0x6f0d28){let _0x294951=_0x35fc98(0x4b3),_0x2e04ce=_0x6f0d28 instanceof Error?_0x6f0d28[_0x35fc98(0x37e)]:typeof _0x6f0d28==_0x35fc98(0x31d)?JSON[_0x35fc98(0x564)](_0x6f0d28):_0x6f0d28,_0x28ce14=_0x294951+':\x20'+_0x2e04ce;throw this[_0x35fc98(0x4a2)][_0x35fc98(0x1b8)](this[_0x35fc98(0x198)]+'\x20('+this[_0x35fc98(0x3c2)][_0x35fc98(0x265)]+_0x35fc98(0x574)+_0x28ce14),new U(_0x28ce14);}}async[a0_0x5de833(0x646)](_0x4a3028){const _0x5521c7=a0_0x5de833;try{let _0x393e60=await this['client'][_0x5521c7(0x208)](_0x4a3028[_0x5521c7(0x502)]);return{'revoked':!0x0,'inviteUrl':_0x5521c7(0x4c7)+_0x393e60,'inviteCode':_0x393e60};}catch(_0x5c7098){let _0x4cecd2=_0x5521c7(0x19f),_0x565226=_0x5c7098 instanceof Error?_0x5c7098[_0x5521c7(0x37e)]:typeof _0x5c7098==_0x5521c7(0x31d)?JSON[_0x5521c7(0x564)](_0x5c7098):_0x5c7098,_0x7e830f=_0x4cecd2+':\x20'+_0x565226;throw this[_0x5521c7(0x4a2)][_0x5521c7(0x1b8)](this[_0x5521c7(0x198)]+'\x20('+this[_0x5521c7(0x3c2)][_0x5521c7(0x265)]+'):\x20'+_0x7e830f),new U(_0x7e830f);}}async[a0_0x5de833(0x3aa)](_0x58fb94){const _0x5e61b2=a0_0x5de833;try{if((0x0,k[_0x5e61b2(0x506)])(_0x58fb94[_0x5e61b2(0x251)]))var _0x3834c9=_0x58fb94[_0x5e61b2(0x251)][_0x5e61b2(0x3a3)]('/')[0x3];else var _0x3834c9=_0x58fb94[_0x5e61b2(0x251)];let _0x47f287=await this['client']['groupAcceptInvite'](_0x3834c9);return this[_0x5e61b2(0x4a2)]['verbose'](this[_0x5e61b2(0x198)]+'\x20('+this[_0x5e61b2(0x3c2)][_0x5e61b2(0x265)]+_0x5e61b2(0x574)+_0x47f287),{'join':!0x0,'inviteCode':_0x3834c9,'groupJid':_0x47f287};}catch(_0x4c2c39){let _0xda4534='Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x50b775=_0x4c2c39 instanceof Error?_0x4c2c39[_0x5e61b2(0x37e)]:typeof _0x4c2c39==_0x5e61b2(0x31d)?JSON[_0x5e61b2(0x564)](_0x4c2c39):_0x4c2c39,_0x87b8cf=_0xda4534+':\x20'+_0x50b775;throw this[_0x5e61b2(0x4a2)][_0x5e61b2(0x1b8)](this[_0x5e61b2(0x198)]+'\x20('+this[_0x5e61b2(0x3c2)][_0x5e61b2(0x265)]+_0x5e61b2(0x574)+_0x87b8cf),new U(_0x87b8cf);}}async['findParticipants'](_0x221145){const _0x32acfe=a0_0x5de833;try{return{'participants':(await this[_0x32acfe(0x719)][_0x32acfe(0x5e6)][_0x32acfe(0x782)]({'where':{'_id':_0x221145[_0x32acfe(0x502)]}},this[_0x32acfe(0x3c2)]['wuid']))['groupdata']['participants']};}catch(_0x54338a){let _0x1dc0b0=_0x32acfe(0x5b0),_0x40a8a7=_0x54338a instanceof Error?_0x54338a[_0x32acfe(0x37e)]:typeof _0x54338a==_0x32acfe(0x31d)?JSON[_0x32acfe(0x564)](_0x54338a):_0x54338a,_0x3ef784=_0x1dc0b0+':\x20'+_0x40a8a7;throw this['logger'][_0x32acfe(0x1b8)](this['instanceName']+'\x20('+this[_0x32acfe(0x3c2)][_0x32acfe(0x265)]+_0x32acfe(0x574)+_0x3ef784),new U(_0x3ef784);}}async[a0_0x5de833(0x21d)](_0x133561){const _0x562d92=a0_0x5de833;try{return await this[_0x562d92(0xa9)][_0x562d92(0x72f)](_0x133561[_0x562d92(0x502)]),{'groupJid':_0x133561['groupJid'],'leave':!0x0};}catch(_0x11ff6a){let _0x28f90d=_0x562d92(0x4b5),_0x136ad9=_0x11ff6a instanceof Error?_0x11ff6a['message']:typeof _0x11ff6a==_0x562d92(0x31d)?JSON[_0x562d92(0x564)](_0x11ff6a):_0x11ff6a,_0x525bd2=_0x28f90d+':\x20'+_0x136ad9;throw this[_0x562d92(0x4a2)][_0x562d92(0x1b8)](this[_0x562d92(0x198)]+'\x20('+this[_0x562d92(0x3c2)][_0x562d92(0x265)]+'):\x20'+_0x525bd2),new m(_0x525bd2);}}async['pollMessage'](_0x3f04d7){const _0xa69e6c=a0_0x5de833;return await this[_0xa69e6c(0x2d6)](_0x3f04d7[_0xa69e6c(0x256)],{'poll':{'name':_0x3f04d7['pollMessage']?.['name'],'selectableCount':_0x3f04d7[_0xa69e6c(0x777)][_0xa69e6c(0x710)],'values':_0x3f04d7[_0xa69e6c(0x777)][_0xa69e6c(0x52b)]}},_0x3f04d7?.['options']);}async[a0_0x5de833(0x2af)](_0x21f6a7){const _0x25763a=a0_0x5de833;return await this[_0x25763a(0x2d6)](_0x21f6a7[_0x25763a(0x256)],{'listMessage':{'title':_0x21f6a7['listMessage'][_0x25763a(0x628)],'description':_0x21f6a7[_0x25763a(0x2af)][_0x25763a(0x3d9)],'buttonText':_0x21f6a7[_0x25763a(0x2af)]?.[_0x25763a(0x26a)],'footerText':_0x21f6a7[_0x25763a(0x2af)]?.[_0x25763a(0x703)],'sections':_0x21f6a7[_0x25763a(0x2af)]['sections'],'listType':0x2}},_0x21f6a7?.[_0x25763a(0x14e)]);}async[a0_0x5de833(0x2b2)](_0x1fe6d6){const _0x207d56=a0_0x5de833;let _0x50480e;if(_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x300)]==='list'){let _0x1c91e2=_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x1d2)][_0x207d56(0x2d9)]('\x0a'),_0x181bac='',_0xfb9837='';_0x1c91e2!==-0x1?(_0x181bac=_0x1fe6d6[_0x207d56(0x2b2)]['text'][_0x207d56(0x11d)](0x0,_0x1c91e2)[_0x207d56(0x11e)](),_0xfb9837=_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x1d2)][_0x207d56(0x11d)](_0x1c91e2+0x1)):_0xfb9837=_0x1fe6d6[_0x207d56(0x2b2)]['text'];let _0x54554f=_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x71c)][_0x207d56(0x2f4)](_0x3edfe0=>_0x3edfe0[_0x207d56(0x11e)]()!==''),_0x524953=this[_0x207d56(0x43f)](_0x54554f);_0x50480e={'listMessage':{'title':_0x181bac,'description':_0xfb9837,'buttonText':_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x26a)]||_0x207d56(0x649),'footerText':_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x703)],'sections':_0x524953,'listType':0x2}};}else{if(_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x300)]==='poll'){let _0x415761=_0x1fe6d6[_0x207d56(0x2b2)][_0x207d56(0x71c)][_0x207d56(0x2f4)](_0x279c3c=>!(_0x279c3c[_0x207d56(0x755)]('[')&&_0x279c3c[_0x207d56(0x6d9)](']'))&&_0x279c3c[_0x207d56(0x11e)]()!=='')[_0x207d56(0x4ba)](_0x1719cd=>_0x1719cd[_0x207d56(0x3a3)]('\x0a')[0x0]);_0x50480e={'poll':{'name':_0x1fe6d6[_0x207d56(0x2b2)]['text'],'selectableCount':_0x1fe6d6['menuMessage']['selectableCount']||0x1,'values':_0x415761}};}}return await this[_0x207d56(0x2d6)](_0x1fe6d6[_0x207d56(0x256)],_0x50480e,_0x1fe6d6?.[_0x207d56(0x14e)]);}[a0_0x5de833(0x43f)](_0x2876df){const _0x32e423=a0_0x5de833;let _0x20dd78=[],_0x85d2d0={'rows':[]};return _0x2876df[_0x32e423(0x1b4)](_0x2edfea=>{const _0x246805=_0x32e423;if(_0x2edfea[_0x246805(0x755)]('[')&&_0x2edfea['endsWith'](']'))_0x85d2d0[_0x246805(0x3e5)][_0x246805(0x612)]>0x0&&_0x20dd78[_0x246805(0x2c5)](_0x85d2d0),_0x85d2d0={'title':_0x2edfea[_0x246805(0x1f2)](0x1,-0x1),'rows':[]};else{let _0xc552e1=_0x2edfea[_0x246805(0x3a3)]('\x0a')['map'](_0x11dac3=>_0x11dac3['trim']()),_0x3dc8d8=_0xc552e1[0x0],_0x50fcbd=_0xc552e1[0x1]||null,_0x2352a8=_0xc552e1[0x2]||_0x3dc8d8;_0x85d2d0[_0x246805(0x3e5)][_0x246805(0x2c5)]({'title':_0x3dc8d8,'description':_0x50fcbd,'rowId':_0x2352a8});}}),_0x85d2d0[_0x32e423(0x3e5)][_0x32e423(0x612)]>0x0&&_0x20dd78['push'](_0x85d2d0),_0x20dd78;}async['updateMessage'](_0x23ae32,_0x7626db){const _0x680880=a0_0x5de833;if(await this[_0x680880(0x35b)](_0x23ae32,!0x0)){let _0x380c37={'where':{'_id':_0x23ae32['id']}},_0x38ecc7={'status':[_0x7626db[_0x680880(0x620)]][0x0]};try{let _0x590f1e=await this[_0x680880(0x719)][_0x680880(0x37e)][_0x680880(0x5ba)](_0x380c37,_0x38ecc7,this[_0x680880(0x3c2)][_0x680880(0x265)]);_0x590f1e&&J(this['instanceName'],_0x680880(0xe6),{'message':_0x590f1e});}catch{}}}[a0_0x5de833(0x653)](_0x443ad0){const _0x537e3f=a0_0x5de833;let _0x413553=[];return _0x443ad0['forEach'](_0x16b952=>{const _0x57f380=a0_0x26c2;_0x16b952[_0x57f380(0x628)]&&_0x413553['push']('['+_0x16b952['title']+']'),_0x16b952[_0x57f380(0x3e5)][_0x57f380(0x1b4)](_0xc75a9a=>{const _0x277667=_0x57f380;_0x413553[_0x277667(0x2c5)](_0xc75a9a[_0x277667(0x628)]);});}),_0x413553[_0x537e3f(0x52f)]('|');}[a0_0x5de833(0x57b)](_0x232eb5){const _0x5cb3c2=a0_0x5de833;let _0x2f1e82=_0x232eb5['replace'](/\\n/g,'\x0a')[_0x5cb3c2(0x3a3)]('\x0a')[_0x5cb3c2(0x2f4)](_0x2864ae=>_0x2864ae[_0x5cb3c2(0x2d8)]('TEL')||_0x2864ae[_0x5cb3c2(0x2d8)](_0x5cb3c2(0x4ff))),_0x2f81ee='';return _0x2f1e82[_0x5cb3c2(0x1b4)](_0x30b115=>{const _0x894591=_0x5cb3c2;let _0x15d863=/TEL(?:.*):(.+)/,_0x5f0e79=/EMAIL(?:.*):(.+)/,_0x402c5b=_0x30b115['match'](_0x15d863),_0x220108=_0x30b115[_0x894591(0x10d)](_0x5f0e79);if(_0x402c5b){let _0x5ad79f=_0x402c5b[0x1][_0x894591(0x25a)](/-| |\+|\(|\)/g,'')[_0x894591(0x11e)]();_0x2f81ee+=_0x894591(0x117)+_0x5ad79f+'\x0a';}else{if(_0x220108){let _0x1bd725=_0x220108[0x1]['trim']();_0x2f81ee+=_0x894591(0x295)+_0x1bd725+'\x0a';}}}),_0x2f81ee[_0x5cb3c2(0x11e)]();}async[a0_0x5de833(0x486)](_0x51e39a,_0x4d3d60,_0x14f248,_0x1ef2d9=null){const _0x5a29e9=a0_0x5de833;if(_0x51e39a[_0x5a29e9(0x34e)])try{let _0x4fa9fb=_0x4d3d60[_0x5a29e9(0x298)]['remoteJid'][_0x5a29e9(0x25a)](/:\d{1,2}@/g,'@'),_0x254d20=_0x4d3d60['key'][_0x5a29e9(0x3ce)],_0x6a1276=_0x4fa9fb[_0x5a29e9(0x6d9)](_0x5a29e9(0x714)),_0x2ad3ab=_0x4d3d60[_0x5a29e9(0x548)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x404909=_0x4d3d60[_0x5a29e9(0x306)]?.[_0x5a29e9(0x1d2)]||_0x4d3d60['message_normalized']?.['caption']||_0x4d3d60['message_normalized']?.[_0x5a29e9(0x712)]||_0x4d3d60[_0x5a29e9(0x306)]?.[_0x5a29e9(0x40f)]||'',_0x2a9892={'_id':_0x4d3d60[_0x5a29e9(0x478)],'remoteJid':_0x254d20?this['instance']['wuid']:_0x6a1276?_0x2ad3ab:_0x4fa9fb,'pushName':_0x254d20?this[_0x5a29e9(0x3c2)][_0x5a29e9(0x592)]||'Eu':_0x4d3d60[_0x5a29e9(0x438)],'text':_0x404909,'type':_0x4d3d60[_0x5a29e9(0x370)],'when':_0x4d3d60['messageTimestamp']||Date[_0x5a29e9(0x338)]()};_0x1ef2d9||(_0x1ef2d9=await this['repository'][_0x5a29e9(0x5e6)][_0x5a29e9(0x782)]({'where':{'_id':_0x4fa9fb}},this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]));let _0x312db2=_0x1ef2d9?_0x254d20?_0x1ef2d9['unreadcount']:(_0x1ef2d9[_0x5a29e9(0x538)]||0x0)+0x1:_0x254d20?0x0:0x1,_0x465312={'lastmsg':_0x4d3d60[_0x5a29e9(0x190)]||Date[_0x5a29e9(0x338)](),'ephemeralExpiration':_0x4d3d60['expiration'],'lastMessage':_0x2a9892,'unreadcount':_0x312db2,..._0x254d20||_0x6a1276?{}:{'name':_0x4d3d60[_0x5a29e9(0x438)]},..._0x6a1276?{'group':_0x6a1276}:{},...!_0x254d20&&!_0x6a1276&&_0x4d3d60[_0x5a29e9(0x21f)]?{'imagechat':_0x4d3d60[_0x5a29e9(0x21f)]}:{}};if(!_0x6a1276&&(!_0x1ef2d9?.[_0x5a29e9(0x4a4)]||!_0x1ef2d9[_0x5a29e9(0x4a4)][_0x5a29e9(0x1f4)])&&_0x4d3d60[_0x5a29e9(0x438)]&&!_0x254d20&&(_0x465312={..._0x465312,'leadInfo.nome':_0x4d3d60[_0x5a29e9(0x438)]}),_0x1ef2d9?.[_0x5a29e9(0x4a4)][_0x5a29e9(0x33e)]||(_0x465312={..._0x465312,'leadInfo.etiquetas':[]}),_0x1ef2d9?.[_0x5a29e9(0x4a4)]['customFields']||(_0x465312={..._0x465312,'leadInfo.customFields':[]}),_0x1ef2d9?.['leadInfo'][_0x5a29e9(0xae)]||(_0x465312={..._0x465312,'leadInfo.tags':[]}),_0x1ef2d9&&_0x1ef2d9?.[_0x5a29e9(0x498)]){let _0x554c67=await this['repository'][_0x5a29e9(0x702)][_0x5a29e9(0x781)]({'where':{}},this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]),_0xb565d2=new Set(_0x554c67[_0x5a29e9(0x4ba)](_0x33f6ae=>_0x33f6ae[_0x5a29e9(0x478)])),_0x3e8424=(_0x1ef2d9['leadInfo']?.[_0x5a29e9(0x33e)]||[])[_0x5a29e9(0x2f4)](_0x12e826=>_0xb565d2['has'](_0x12e826));_0x465312={..._0x465312,'imported':!0x1,'leadInfo.etiquetas':_0x3e8424};for(let _0x2f4d8a of _0x3e8424)await this['AddChatLabel'](_0x2f4d8a,_0x4fa9fb);}if(_0x14f248===_0x5a29e9(0x28b)&&_0x254d20&&this['AutomateSystem']?.[_0x5a29e9(0x257)]['enabled']&&!_0x404909['startsWith'](this['AutomateSystem']?.['flowConfig']['prefixCommand'])){let _0x43f6b8=(this['AutomateSystem']?.[_0x5a29e9(0x257)][_0x5a29e9(0x1d1)]||0x5)*0xea60,_0x5a465d=Date[_0x5a29e9(0x338)]()+_0x43f6b8;_0x1ef2d9?.[_0x5a29e9(0x4a4)]?.['desativadoFluxoAte']===0x0||(_0x465312={..._0x465312,'leadInfo.desativadoFluxoAte':_0x5a465d},this['logger']['verbose'](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)]['wuid']+_0x5a29e9(0x5d0)+_0x5a465d+'.'));}if(_0x1ef2d9=await this[_0x5a29e9(0x719)][_0x5a29e9(0x5e6)][_0x5a29e9(0x4fc)]({'where':{'_id':_0x4fa9fb}},_0x465312,this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)],{'new':!0x0,'upsert':!0x0}),_0x1ef2d9)J(this[_0x5a29e9(0x198)],_0x5a29e9(0x1fe),{'chat':_0x1ef2d9});else{this[_0x5a29e9(0x4a2)][_0x5a29e9(0x1b8)](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x5a29e9(0x30d)]?.[_0x5a29e9(0x257)][_0x5a29e9(0x4a9)])return this[_0x5a29e9(0x4a2)][_0x5a29e9(0x33b)](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+_0x5a29e9(0x733)),null;if(_0x1ef2d9[_0x5a29e9(0x478)]['includes'](_0x5a29e9(0x714))&&this[_0x5a29e9(0x30d)]?.[_0x5a29e9(0x257)][_0x5a29e9(0x3fa)]===!0x0)return this[_0x5a29e9(0x4a2)][_0x5a29e9(0x33b)](this['instanceName']+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1ef2d9[_0x5a29e9(0x4a4)]){if(_0x1ef2d9['leadInfo'][_0x5a29e9(0x2a9)]===0x0||_0x1ef2d9[_0x5a29e9(0x4a4)][_0x5a29e9(0x404)])return this[_0x5a29e9(0x4a2)]['verbose'](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+_0x5a29e9(0x6a1)+_0x4fa9fb+_0x5a29e9(0x424)),null;if(_0x1ef2d9[_0x5a29e9(0x4a4)][_0x5a29e9(0x2a9)]>Date['now']()&&!_0x4d3d60[_0x5a29e9(0x306)]?.[_0x5a29e9(0x712)])return this[_0x5a29e9(0x4a2)][_0x5a29e9(0x33b)](this['instanceName']+'\x20('+this['instance'][_0x5a29e9(0x265)]+_0x5a29e9(0x410)+new Date(_0x1ef2d9['leadInfo'][_0x5a29e9(0x2a9)])[_0x5a29e9(0xf4)]()+',\x20saindo.'),null;}this[_0x5a29e9(0x4a2)][_0x5a29e9(0x33b)](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+_0x5a29e9(0x6bd)),this[_0x5a29e9(0x269)](_0x14f248,_0x4d3d60);}catch(_0x2d7b3a){let _0x1142fe='Erro\x20na\x20funo\x20updateChatWithMessage:\x20',_0x52529d=_0x2d7b3a instanceof Error?_0x2d7b3a['message']:typeof _0x2d7b3a=='object'?JSON[_0x5a29e9(0x564)](_0x2d7b3a):_0x2d7b3a,_0x5673f0=_0x1142fe+':\x20'+_0x52529d;return this[_0x5a29e9(0x4a2)][_0x5a29e9(0x1b8)](this[_0x5a29e9(0x198)]+'\x20('+this[_0x5a29e9(0x3c2)][_0x5a29e9(0x265)]+_0x5a29e9(0x574)+_0x5673f0),null;}}async[a0_0x5de833(0x45e)](_0x3873d1,_0x398fe4){const _0x3ace61=a0_0x5de833;if(_0x398fe4['ENABLED']){let _0xb0df27=_0x3873d1[_0x3ace61(0x4ba)](async _0x114ed3=>{const _0x3bbdd5=_0x3ace61;try{let _0x2e2dfa={'_id':_0x114ed3[_0x3bbdd5(0x478)],'owner':_0x114ed3[_0x3bbdd5(0x215)],'lastcache':0x0};if(Object[_0x3bbdd5(0x4a0)](_0x114ed3)[_0x3bbdd5(0x1b4)](_0x3f4679=>{_0x114ed3[_0x3f4679]!==null&&(_0x2e2dfa[_0x3f4679]=_0x114ed3[_0x3f4679]);}),_0x2e2dfa[_0x3bbdd5(0x4da)]===null&&(_0x2e2dfa['imagechat']=_0x3bbdd5(0x5c3)),Object[_0x3bbdd5(0x4a0)](_0x2e2dfa)[_0x3bbdd5(0x612)]>0x0)return await this[_0x3bbdd5(0x719)]['chat'][_0x3bbdd5(0x4fc)]({'where':{'_id':_0x114ed3[_0x3bbdd5(0x478)]}},_0x2e2dfa,this['instance'][_0x3bbdd5(0x265)]);}catch(_0x330cf2){let _0x186244='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x114ed3[_0x3bbdd5(0x478)],_0x432ed9=_0x330cf2 instanceof Error?_0x330cf2['message']:typeof _0x330cf2==_0x3bbdd5(0x31d)?JSON[_0x3bbdd5(0x564)](_0x330cf2):_0x330cf2,_0x4253bc=_0x186244+':\x20'+_0x432ed9;return this[_0x3bbdd5(0x4a2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3bbdd5(0x265)]+_0x3bbdd5(0x574)+_0x4253bc),null;}}),_0x299331=(await Promise[_0x3ace61(0x110)](_0xb0df27))[_0x3ace61(0x2f4)](_0x3b1770=>_0x3b1770!==null)[_0x3ace61(0x612)];this['logger'][_0x3ace61(0x33b)](this['instanceName']+'\x20('+this[_0x3ace61(0x3c2)][_0x3ace61(0x265)]+'):\x20'+_0x299331+_0x3ace61(0xad)+this[_0x3ace61(0x3c2)][_0x3ace61(0x265)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x5de833(0x691)](_0x31b82b){const _0x1c7a61=a0_0x5de833;this[_0x1c7a61(0x4a2)]['verbose'](this[_0x1c7a61(0x198)]+'\x20('+this[_0x1c7a61(0x3c2)][_0x1c7a61(0x265)]+_0x1c7a61(0x1fc));let _0x16e006={'readMessages':[{'remoteJid':_0x31b82b[_0x1c7a61(0x774)]['lastReceivedMessage'][_0x1c7a61(0x298)][_0x1c7a61(0x572)],'fromMe':_0x31b82b['chatLog'][_0x1c7a61(0x600)]['key'][_0x1c7a61(0x3ce)],'id':_0x31b82b['chatLog']['lastReceivedMessage'][_0x1c7a61(0x298)]['id']}]};await this[_0x1c7a61(0x181)](_0x16e006);}async['StartBot'](_0x346411,_0x2266f1){const _0x5892dc=a0_0x5de833;try{let {key:_0x41b140,message_normalized:_0x5e24ec}=_0x2266f1,_0xffaa87=_0x5e24ec,_0x5dbd82=_0x5e24ec['text']||_0x5e24ec['caption']||_0x5e24ec['vote']||_0x5e24ec['name']||'',_0x3fedc1=_0x41b140[_0x5892dc(0x572)],_0x556292;if(_0xffaa87[_0x5892dc(0x298)][_0x5892dc(0x3ce)]&&_0x5dbd82[_0x5892dc(0x11e)]()!==this[_0x5892dc(0x30d)]?.[_0x5892dc(0x257)][_0x5892dc(0x729)][_0x5892dc(0x11e)]())return this[_0x5892dc(0x4a2)][_0x5892dc(0x33b)](this[_0x5892dc(0x198)]+'\x20('+this[_0x5892dc(0x3c2)]['wuid']+_0x5892dc(0x2c8)),null;if(_0xffaa87[_0x5892dc(0x298)]['fromMe']&&_0x5dbd82['trim']()===this[_0x5892dc(0x30d)]?.[_0x5892dc(0x257)]['stopConversation'][_0x5892dc(0x11e)]()){this['logger'][_0x5892dc(0x33b)](this['instanceName']+'\x20('+this['instance'][_0x5892dc(0x265)]+_0x5892dc(0x61f));let _0x4fe350=await this[_0x5892dc(0x719)][_0x5892dc(0x392)][_0x5892dc(0x781)]({'remoteJid':_0x3fedc1,'status':_0x5892dc(0x663)},this[_0x5892dc(0x3c2)]['wuid']);this[_0x5892dc(0x4a2)][_0x5892dc(0x33b)](this[_0x5892dc(0x198)]+'\x20('+this[_0x5892dc(0x3c2)]['wuid']+_0x5892dc(0x67f)+_0x4fe350);let _0x1b06f6=Date[_0x5892dc(0x338)](),_0x21274f;return this[_0x5892dc(0x30d)]?.[_0x5892dc(0x257)][_0x5892dc(0x7ac)]===0x0?_0x21274f={'stoppedUntil':_0x1b06f6+0x7591f6200}:_0x21274f={'stoppedUntil':_0x1b06f6+this['AutomateSystem']?.[_0x5892dc(0x257)][_0x5892dc(0x7ac)]*0x3c*0x3e8},this[_0x5892dc(0x4a2)][_0x5892dc(0x33b)](this[_0x5892dc(0x198)]+'\x20('+this['instance']['wuid']+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x21274f),this[_0x5892dc(0x30e)](_0x556292,_0x21274f[_0x5892dc(0x798)]),null;}if(_0x5dbd82&&_0x5dbd82[_0x5892dc(0x755)](this[_0x5892dc(0x30d)]?.[_0x5892dc(0x257)][_0x5892dc(0x63e)])&&_0x5dbd82['length']>0x4){let _0xff611f=await this['repository'][_0x5892dc(0x594)][_0x5892dc(0x782)]({'where':{'startCommandWord':_0x5dbd82}},this[_0x5892dc(0x3c2)]['wuid']);if(this[_0x5892dc(0x4a2)][_0x5892dc(0x33b)](this['instanceName']+'\x20('+this[_0x5892dc(0x3c2)][_0x5892dc(0x265)]+_0x5892dc(0x2e8)),_0xff611f)_0x556292=await this[_0x5892dc(0x3ac)](_0xff611f,_0xffaa87[_0x5892dc(0x298)],_0xffaa87);else return this[_0x5892dc(0x4a2)][_0x5892dc(0x33b)](this[_0x5892dc(0x198)]+'\x20('+this[_0x5892dc(0x3c2)][_0x5892dc(0x265)]+_0x5892dc(0x1d9)),null;}else _0x556292=await this[_0x5892dc(0x222)](_0x3fedc1,_0xffaa87);if(_0x556292){this['logger'][_0x5892dc(0x33b)](this['instanceName']+'\x20('+this[_0x5892dc(0x3c2)][_0x5892dc(0x265)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x41b140[_0x5892dc(0x3ce)]&&_0x556292[_0x5892dc(0x42c)]&&this[_0x5892dc(0x691)](_0x556292);let _0x43459f=await this[_0x5892dc(0x5a6)](_0x556292);_0x43459f&&await this['processblock'](_0x556292,_0x43459f);}}catch(_0x5e991c){this[_0x5892dc(0x4a2)][_0x5892dc(0x1b8)](this['instanceName']+'\x20('+this[_0x5892dc(0x3c2)][_0x5892dc(0x265)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x5e991c instanceof Error?_0x5e991c['message']:JSON[_0x5892dc(0x564)](_0x5e991c,null,0x2)));}}[a0_0x5de833(0x14f)](_0x585268,_0x466763='',_0x1d6f0a={}){const _0x1fc1e6=a0_0x5de833;return typeof _0x585268!=_0x1fc1e6(0x31d)||_0x585268===null?(_0x466763&&(_0x1d6f0a[_0x466763]=_0x585268),_0x1d6f0a):(Object[_0x1fc1e6(0x286)](_0x585268)[_0x1fc1e6(0x1b4)](([_0x7ca039,_0x53cc9a])=>{const _0x388ad3=_0x1fc1e6;let _0x2e278f=_0x466763?_0x466763+'.'+_0x7ca039:'_'+_0x7ca039;Array[_0x388ad3(0x529)](_0x53cc9a)?_0x53cc9a[_0x388ad3(0x1b4)]((_0x147157,_0x55ef09)=>{const _0x3295e5=_0x388ad3;this[_0x3295e5(0x14f)](_0x147157,_0x2e278f+'['+_0x55ef09+']',_0x1d6f0a);}):typeof _0x53cc9a==_0x388ad3(0x31d)&&_0x53cc9a!==null?this[_0x388ad3(0x14f)](_0x53cc9a,_0x2e278f,_0x1d6f0a):_0x1d6f0a[_0x2e278f]=String(_0x53cc9a);}),_0x1d6f0a);}['variablesToObject'](_0x181f2c){const _0x53d956=a0_0x5de833;let _0x4dbeb2={};for(let _0x1c0b5e of _0x181f2c)typeof _0x1c0b5e[_0x53d956(0x40f)]==_0x53d956(0x1c0)&&typeof _0x1c0b5e[_0x53d956(0x65f)]==_0x53d956(0x1c0)&&(_0x4dbeb2[_0x1c0b5e[_0x53d956(0x40f)]]=_0x1c0b5e['value']);return _0x4dbeb2;}async[a0_0x5de833(0x5a6)](_0xa1b675){const _0x5149ea=a0_0x5de833;if(!this[_0x5149ea(0x30d)]?.[_0x5149ea(0x257)]['enabled']||_0xa1b675[_0x5149ea(0x620)]!==_0x5149ea(0x663)&&_0xa1b675['waitingMenu_id']==='')return null;let _0x5c0e1d=_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x713)]||_0x5149ea(0x776);typeof _0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x1bf)]>'u'&&(_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x1bf)]=!0x0);let _0x251bbf=_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x1bf)];this['logger'][_0x5149ea(0x33b)](this[_0x5149ea(0x198)]+'\x20('+this[_0x5149ea(0x3c2)][_0x5149ea(0x265)]+_0x5149ea(0x6f2)+_0x5c0e1d+_0x5149ea(0x3ec)+_0x251bbf);let _0x49e84d=_0x5c0e1d===_0x5149ea(0x776)?_0xa1b675[_0x5149ea(0xfb)][_0x5149ea(0x781)](_0xa22b79=>_0xa22b79[_0x5149ea(0x300)]==='start'):_0xa1b675[_0x5149ea(0xfb)][_0x5149ea(0x781)](_0x51c789=>_0x51c789[_0x5149ea(0x478)][_0x5149ea(0x667)]()===_0x5c0e1d[_0x5149ea(0x667)]());if(!_0x49e84d)return this[_0x5149ea(0x4a2)]['error'](this[_0x5149ea(0x198)]+'\x20('+this[_0x5149ea(0x3c2)][_0x5149ea(0x265)]+_0x5149ea(0x288)+_0x5c0e1d),null;let _0x41c9a0={'_pushName':_0xa1b675?.['chatLog']?.[_0x5149ea(0x600)]?.[_0x5149ea(0x438)]||'',..._0xa1b675[_0x5149ea(0x774)]['realVariables']},_0x213602=null;if(_0xa1b675['waitingMenu_id']){let _0x35a731=_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x600)][_0x5149ea(0x712)],_0x118b68=_0xa1b675[_0x5149ea(0x249)][_0x5149ea(0x781)](_0x41ad38=>_0x41ad38[_0x5149ea(0x78d)]===_0x35a731);if(_0x118b68){let _0x4f3222=_0x118b68['next_groupId'];if(_0x213602=_0xa1b675[_0x5149ea(0xfb)][_0x5149ea(0x781)](_0x586d4c=>_0x586d4c[_0x5149ea(0x4b1)]===_0x4f3222&&_0x586d4c['order']===0x1),_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x55e)]){let _0x5c7da2={'id':_0xa1b675['waitingMenu_id'],'remoteJid':_0xa1b675[_0x5149ea(0x572)],'fromMe':!0x0};await this[_0x5149ea(0x1cc)](_0x5c7da2);}if(_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x55e)]&&_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x39c)]&&_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x34d)]==='poll'){let _0x46e194={'number':_0xa1b675[_0x5149ea(0x572)],'options':{'delay':0x0},'textMessage':{'text':_0x5149ea(0x29c)+_0xa1b675[_0x5149ea(0x491)]+_0x5149ea(0x562)+_0x35a731}};await this[_0x5149ea(0x232)](_0x46e194);}_0xa1b675[_0x5149ea(0x620)]='open',_0xa1b675[_0x5149ea(0x391)]='',_0xa1b675['waitingMenu_text']='',_0xa1b675['waitingMenu_replyOptions']=[];}else{this['logger'][_0x5149ea(0x33b)](this[_0x5149ea(0x198)]+'\x20('+this[_0x5149ea(0x3c2)][_0x5149ea(0x265)]+_0x5149ea(0x3b4));let _0x1218ee={'activatedCount':_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x94)][_0x5149ea(0x2f4)](_0x405ea9=>String(_0x405ea9[_0x5149ea(0xbb)])===String(_0x5c0e1d))[_0x5149ea(0x612)],'moreLogs':[_0x5149ea(0x197)]};if(_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x450)]){let _0x5653d5={'number':_0xa1b675[_0x5149ea(0x572)],'options':{'delay':0x0},'textMessage':{'text':_0x49e84d[_0x5149ea(0x341)][_0x5149ea(0x450)]}};await this[_0x5149ea(0x232)](_0x5653d5);}if(_0x49e84d[_0x5149ea(0x6de)]!==void 0x0&&_0x1218ee[_0x5149ea(0x483)]>=_0x49e84d[_0x5149ea(0x6de)]){let _0x453a7f=Date['now'](),_0x5cb7ff=_0x49e84d[_0x5149ea(0x96)]??0xa;isNaN(_0x5cb7ff)&&(_0x5cb7ff=0xa);let _0x2bade5=_0x453a7f+_0x5cb7ff*0x3c*0x3e8;_0x1218ee['newStoppedUntil']=_0x2bade5,_0x1218ee[_0x5149ea(0x3f4)][_0x5149ea(0x2c5)](_0x5149ea(0x71e)),this[_0x5149ea(0x30e)](_0xa1b675,_0x2bade5),_0xa1b675[_0x5149ea(0x391)]='',_0xa1b675[_0x5149ea(0x491)]='',_0xa1b675[_0x5149ea(0x249)]=[];}return this[_0x5149ea(0x1e6)](_0xa1b675,_0x49e84d,_0x1218ee,!0x0),null;}}if(_0x251bbf&&_0x49e84d[_0x5149ea(0x4cb)]&&!_0xa1b675[_0x5149ea(0x391)]){let _0x41592b=_0xa1b675[_0x5149ea(0xfb)][_0x5149ea(0x2f4)](_0x4b18a=>_0x4b18a[_0x5149ea(0x4b1)][_0x5149ea(0x667)]()===_0x49e84d['next_groupId']['toString']())[_0x5149ea(0x4c0)]((_0x2c3bef,_0x2c4196)=>_0x2c3bef[_0x5149ea(0x2f3)]-_0x2c4196[_0x5149ea(0x2f3)]);_0x41592b[_0x5149ea(0x612)]>0x0&&(_0x213602=_0x41592b[0x0]);}if(!_0x213602){let _0x361cea=_0x49e84d[_0x5149ea(0x4b1)],_0x45ea34=_0xa1b675[_0x5149ea(0xfb)][_0x5149ea(0x2f4)](_0x4965b4=>_0x4965b4[_0x5149ea(0x4b1)]===_0x361cea&&_0x4965b4[_0x5149ea(0x2f3)]>_0x49e84d[_0x5149ea(0x2f3)])[_0x5149ea(0x4c0)]((_0x3476eb,_0x2826eb)=>_0x3476eb[_0x5149ea(0x2f3)]-_0x2826eb[_0x5149ea(0x2f3)]);_0x45ea34[_0x5149ea(0x612)]>0x0&&(_0x213602=_0x45ea34[0x0]);}if(!_0x213602)return _0xa1b675[_0x5149ea(0x620)]=_0x5149ea(0x465),null;_0xa1b675['chatLog'][_0x5149ea(0x65d)]=_0x41c9a0;let _0x5e2609=JSON['parse'](JSON[_0x5149ea(0x564)](_0x213602));return this[_0x5149ea(0x187)](_0x5e2609,_0xa1b675[_0x5149ea(0x774)]['realVariables']),_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x713)]=_0x5e2609['_id'],_0xa1b675[_0x5149ea(0x774)][_0x5149ea(0x1bf)]=!0x0,_0x5e2609;}[a0_0x5de833(0x6c4)](_0x44b5d1,_0xdf431f){const _0x558589=a0_0x5de833;return _0x44b5d1[_0x558589(0x25a)](/\{\{([^}]+)\}\}/g,(_0x31558d,_0x9c10b8)=>_0xdf431f[_0x9c10b8]||'');}[a0_0x5de833(0x187)](_0x5a4599,_0x569de9){const _0x935a29=a0_0x5de833;for(let _0x51e3b2 in _0x5a4599)typeof _0x5a4599[_0x51e3b2]==_0x935a29(0x1c0)?_0x5a4599[_0x51e3b2]=this[_0x935a29(0x6c4)](_0x5a4599[_0x51e3b2],_0x569de9):typeof _0x5a4599[_0x51e3b2]=='object'&&this[_0x935a29(0x187)](_0x5a4599[_0x51e3b2],_0x569de9);}async[a0_0x5de833(0x4c9)](_0x98e779,_0x2e5680){const _0x23905a=a0_0x5de833;let _0x33c746=_0x2e5680[_0x23905a(0x478)];if(_0x98e779[_0x23905a(0x774)]&&_0x98e779['chatLog']['blockLogs']){let _0x1c17ed=_0x98e779['chatLog'][_0x23905a(0x94)][_0x23905a(0x2f4)](_0x165889=>String(_0x165889[_0x23905a(0xbb)])===String(_0x33c746))[_0x23905a(0x20c)]();if(_0x1c17ed&&_0x1c17ed[_0x23905a(0x1b8)]&&_0x2e5680[_0x23905a(0x212)])return _0x98e779['status']=_0x23905a(0x465),await this['saveConversationToDatabase'](_0x98e779),null;}if(_0x2e5680[_0x23905a(0x300)]===_0x23905a(0x341)&&_0x2e5680['uazapi'][_0x23905a(0x3fc)]==='sendPoll'&&_0x98e779[_0x23905a(0x391)])return _0x98e779[_0x23905a(0x774)][_0x23905a(0x713)]=_0x33c746,await this['saveConversationToDatabase'](_0x98e779),null;let _0x306ea6=await this[_0x23905a(0x5a6)](_0x98e779);if(_0x98e779[_0x23905a(0x774)]&&_0x98e779[_0x23905a(0x774)][_0x23905a(0x94)]){let _0x533157=_0x98e779['chatLog'][_0x23905a(0x94)][_0x23905a(0x2f4)](_0x74f163=>String(_0x74f163[_0x23905a(0xbb)])===String(_0x33c746))[_0x23905a(0x612)];if(_0x2e5680['maxActives']!==void 0x0&&_0x533157>=_0x2e5680[_0x23905a(0x6de)]){let _0x2199e4=Date[_0x23905a(0x338)](),_0x1e90b6=_0x2e5680[_0x23905a(0x96)]??0xa;isNaN(_0x1e90b6)&&(_0x1e90b6=0xa);let _0x4acc72=_0x2199e4+_0x1e90b6*0x3c*0x3e8,_0x2c1ce2={'newStoppedUntil':_0x4acc72};return this['updateStopChat'](_0x98e779,_0x4acc72),this[_0x23905a(0x1e6)](_0x98e779,_0x2e5680,_0x2c1ce2,!0x0),null;}}_0x306ea6&&_0x306ea6[_0x23905a(0x300)]!==_0x23905a(0x62f)&&await this[_0x23905a(0x20e)](_0x98e779,_0x306ea6),_0x306ea6||await this[_0x23905a(0xec)](_0x98e779),_0x306ea6&&_0x306ea6[_0x23905a(0x300)]===_0x23905a(0x62f)&&(_0x98e779['chatLog']['lastBlockId']=_0x33c746,await this[_0x23905a(0xec)](_0x98e779));}async['processblock'](_0x58e339,_0x216bfa){const _0x48aadf=a0_0x5de833;try{let _0x43da8f=_0x216bfa[_0x48aadf(0x300)];this[_0x48aadf(0x4a2)][_0x48aadf(0x33b)](this['instanceName']+'\x20('+this[_0x48aadf(0x3c2)]['wuid']+_0x48aadf(0x707)+_0x43da8f);let _0x2fdc21={'uazapi':()=>this['processUazapi'](_0x58e339,_0x216bfa),'save':()=>this['saveTextReply'](_0x58e339,_0x216bfa),'stop':()=>this[_0x48aadf(0x729)](_0x58e339,_0x216bfa),'condition':()=>this['processConditions'](_0x58e339,_0x216bfa),'varedit':()=>this[_0x48aadf(0x3d7)](_0x58e339,_0x216bfa),'apirequest':()=>this[_0x48aadf(0x92)](_0x58e339,_0x216bfa),'goToFlow':()=>this[_0x48aadf(0x5a4)](_0x58e339,_0x216bfa),'scheduleFlow':()=>this[_0x48aadf(0x418)](_0x58e339,_0x216bfa),'awaitSeconds':()=>this[_0x48aadf(0x43d)](_0x58e339,_0x216bfa),'clearVariables':()=>this[_0x48aadf(0x6bc)](_0x58e339,_0x216bfa)}[_0x43da8f];_0x2fdc21&&await _0x2fdc21();}catch(_0x37c927){this[_0x48aadf(0x4a2)][_0x48aadf(0x1b8)](this[_0x48aadf(0x198)]+'\x20('+this[_0x48aadf(0x3c2)][_0x48aadf(0x265)]+_0x48aadf(0x767)+(_0x37c927 instanceof Error?_0x37c927['message']:JSON[_0x48aadf(0x564)](_0x37c927,null,0x2)));}}async[a0_0x5de833(0x43d)](_0xf4c2c3,_0x1b74e9){const _0x7c38b=a0_0x5de833;if(this[_0x7c38b(0x4a2)][_0x7c38b(0x33b)](this['instanceName']+'\x20('+this[_0x7c38b(0x3c2)]['wuid']+'):\x20Entrou\x20na\x20funo\x20processawaitSeconds'),!_0xf4c2c3||!_0x1b74e9)return this[_0x7c38b(0x4a2)]['error'](this[_0x7c38b(0x198)]+'\x20('+this[_0x7c38b(0x3c2)][_0x7c38b(0x265)]+_0x7c38b(0x354)),null;let _0x1f9ac0=+_0x1b74e9[_0x7c38b(0x1cb)];isNaN(_0x1f9ac0)&&(_0x1f9ac0=0x0),_0x1f9ac0=Math[_0x7c38b(0x56d)](_0x1f9ac0,0x3c),await(0x0,f[_0x7c38b(0x254)])(_0x1f9ac0*0x3e8);let _0x5275a7={'moreLogs':['Pausado\x20por\x20'+_0x1f9ac0+_0x7c38b(0x14b)]};return await this['updateConversation'](_0xf4c2c3,_0x1b74e9,_0x5275a7),_0x1f9ac0;}async[a0_0x5de833(0x6bc)](_0x11d416,_0x120b56){const _0x299051=a0_0x5de833;if(this[_0x299051(0x4a2)][_0x299051(0x33b)](this[_0x299051(0x198)]+'\x20('+this[_0x299051(0x3c2)]['wuid']+_0x299051(0x442)),!_0x11d416||!_0x120b56)return this[_0x299051(0x4a2)][_0x299051(0x1b8)](this[_0x299051(0x198)]+'\x20('+this['instance'][_0x299051(0x265)]+_0x299051(0x354)),null;let _0x2633f5=[];if(_0x120b56[_0x299051(0x5ea)][_0x299051(0x11e)]()==='[all]'){let _0x2d852e=['_pushName',_0x299051(0x6e1),_0x299051(0x613),'_remoteJid',_0x299051(0x478),'_fromMe'];_0x2633f5=Object[_0x299051(0x4a0)](_0x11d416[_0x299051(0x774)][_0x299051(0x65d)])['filter'](_0x11ea5c=>_0x11ea5c[_0x299051(0x755)]('_')&&!_0x2d852e[_0x299051(0x2d8)](_0x11ea5c));}else _0x2633f5=_0x120b56['clearVariables']['split']('|')[_0x299051(0x4ba)](_0x4603a9=>(_0x4603a9=_0x4603a9[_0x299051(0x25a)](/[{}]/g,'')[_0x299051(0x11e)](),_0x4603a9[_0x299051(0x755)]('_')?_0x4603a9:'_'+_0x4603a9));let _0x155e8c=[];_0x2633f5[_0x299051(0x1b4)](_0x588993=>{const _0x20b5b0=_0x299051;_0x588993 in _0x11d416[_0x20b5b0(0x774)]['realVariables']&&(delete _0x11d416['chatLog'][_0x20b5b0(0x65d)][_0x588993],_0x155e8c[_0x20b5b0(0x2c5)](_0x588993));}),_0x155e8c[_0x299051(0x612)]>0x0?this[_0x299051(0x4a2)]['verbose'](this[_0x299051(0x198)]+'\x20('+this[_0x299051(0x3c2)][_0x299051(0x265)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20'+_0x155e8c[_0x299051(0x52f)](',\x20')):this['logger'][_0x299051(0x33b)](this[_0x299051(0x198)]+'\x20('+this['instance'][_0x299051(0x265)]+'):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo');let _0x2e47a4={'moreLogs':[_0x299051(0x21e)+_0x155e8c['join'](',\x20')]};return await this[_0x299051(0x1e6)](_0x11d416,_0x120b56,_0x2e47a4),null;}async[a0_0x5de833(0x418)](_0x3ad81a,_0x10c493){const _0x3a202f=a0_0x5de833;if(this[_0x3a202f(0x4a2)][_0x3a202f(0x33b)](this[_0x3a202f(0x198)]+'\x20('+this[_0x3a202f(0x3c2)][_0x3a202f(0x265)]+'):\x20Entrou\x20na\x20funo\x20scheduleFlow'),!_0x3ad81a||!_0x10c493)return this[_0x3a202f(0x4a2)][_0x3a202f(0x1b8)](this[_0x3a202f(0x198)]+'\x20('+this[_0x3a202f(0x3c2)][_0x3a202f(0x265)]+_0x3a202f(0x354)),null;let _0x55a788=_0x3ad81a[_0x3a202f(0x572)];_0x10c493[_0x3a202f(0x137)][_0x3a202f(0x572)]&&_0x10c493[_0x3a202f(0x137)]['remoteJid'][_0x3a202f(0x11e)]()!==''&&(_0x55a788=_0x10c493[_0x3a202f(0x341)]['remoteJid']['trim']());let _0x29aa53=_0x10c493[_0x3a202f(0x137)][_0x3a202f(0x1d0)]*0xea60,_0x2bd395=Date[_0x3a202f(0x338)]()+_0x29aa53,_0x2a07dd={'status':_0x3a202f(0x1c4),'info':_0x3a202f(0x1db)+_0x3ad81a[_0x3a202f(0x40f)],'remoteJids':[_0x55a788],'when':_0x2bd395,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x3a202f(0x594),'flowName':_0x10c493[_0x3a202f(0x137)][_0x3a202f(0x590)]};this[_0x3a202f(0x68b)](_0x2a07dd);let _0x294532=await this[_0x3a202f(0x5a6)](_0x3ad81a);_0x294532&&await this['processblock'](_0x3ad81a,_0x294532);}async['processgoToFlow'](_0x242a79,_0x4b9fb0){const _0x4cd150=a0_0x5de833;if(this['logger'][_0x4cd150(0x33b)](this['instanceName']+'\x20('+this[_0x4cd150(0x3c2)][_0x4cd150(0x265)]+'):\x20Entrou\x20na\x20funo\x20goToFlow'),!_0x242a79||!_0x4b9fb0)return this[_0x4cd150(0x4a2)][_0x4cd150(0x1b8)](this[_0x4cd150(0x198)]+'\x20('+this[_0x4cd150(0x3c2)][_0x4cd150(0x265)]+_0x4cd150(0x354)),null;await this[_0x4cd150(0x1e6)](_0x242a79,_0x4b9fb0,{},!0x0,!0x0);let _0x18bf03=_0x4b9fb0[_0x4cd150(0x332)];_0x242a79=await this['createConversationforgoToFlow'](_0x18bf03,_0x242a79['remoteJid'],_0x242a79['chatLog'][_0x4cd150(0x65d)]);let _0x258478=await this[_0x4cd150(0x5a6)](_0x242a79);_0x258478&&await this[_0x4cd150(0x20e)](_0x242a79,_0x258478);}async['createConversationforgoToFlow'](_0x57efc0,_0x1438d8,_0x55df95){const _0x13d733=a0_0x5de833;this[_0x13d733(0x4a2)][_0x13d733(0x33b)](this[_0x13d733(0x198)]+'\x20('+this[_0x13d733(0x3c2)]['wuid']+_0x13d733(0x62c));try{if(_0x57efc0=await this[_0x13d733(0x719)][_0x13d733(0x594)]['findOne']({'where':{'name':_0x57efc0}},this['instance'][_0x13d733(0x265)]),!_0x57efc0)return this[_0x13d733(0x4a2)][_0x13d733(0x1b8)](this[_0x13d733(0x198)]+'\x20('+this[_0x13d733(0x3c2)][_0x13d733(0x265)]+_0x13d733(0x7a6)),null;let _0x4a2f50=require('mongodb')[_0x13d733(0x579)],_0x55cfa9=Date[_0x13d733(0x338)](),_0x339044=_0x13d733(0x776),_0x22bf3e={},_0x3cf630={},_0x571842={..._0x57efc0,'chatLog':null},_0x19cb2d={'lastReceivedMessage':_0x22bf3e,'lastSendMessage':_0x3cf630,'lastBlockId':_0x339044,'lastCondition':!0x0,'realVariables':_0x55df95};_0x571842['chatLog']=_0x19cb2d,_0x571842[_0x13d733(0x774)]['realVariables']={..._0x55df95},delete _0x571842[_0x13d733(0x478)],_0x571842['_id']=new _0x4a2f50(),_0x571842[_0x13d733(0x743)]=_0x55cfa9,_0x571842[_0x13d733(0x620)]='open',_0x571842[_0x13d733(0x572)]=_0x1438d8;let _0x374a56=await this[_0x13d733(0x719)][_0x13d733(0x392)][_0x13d733(0x4fc)](_0x571842[_0x13d733(0x478)],_0x571842,this[_0x13d733(0x3c2)][_0x13d733(0x265)]);return this[_0x13d733(0x4a2)][_0x13d733(0x33b)](this[_0x13d733(0x198)]+'\x20('+this[_0x13d733(0x3c2)][_0x13d733(0x265)]+_0x13d733(0x22b)),_0x374a56?_0x571842:null;}catch(_0x2c351a){let _0x44559e='Erro\x20ao\x20copiar\x20o\x20documento',_0x3f52b0=_0x2c351a instanceof Error?_0x2c351a[_0x13d733(0x37e)]:typeof _0x2c351a==_0x13d733(0x31d)?JSON[_0x13d733(0x564)](_0x2c351a):_0x2c351a,_0x5054cf=_0x44559e+':\x20'+_0x3f52b0;throw this[_0x13d733(0x4a2)][_0x13d733(0x1b8)](this[_0x13d733(0x198)]+'\x20('+this[_0x13d733(0x3c2)]['wuid']+_0x13d733(0x574)+_0x5054cf),new m(_0x5054cf);}}async[a0_0x5de833(0x92)](_0x409a6b,_0x5cc821){const _0x129bf1=a0_0x5de833;let _0x2ac69d,_0x41d83a;try{let _0x4550eb=_0x5cc821[_0x129bf1(0xd0)];if(!_0x4550eb||!_0x4550eb[_0x129bf1(0x75f)]||!_0x4550eb[_0x129bf1(0x214)])throw new Error('Falta\x20informao\x20para\x20a\x20chamada\x20API');let _0x305d95;([_0x129bf1(0x93),'https://api.openai.com/v1/images/generations',_0x129bf1(0x4e6)][_0x129bf1(0x3e1)](_0x48c938=>_0x4550eb[_0x129bf1(0x75f)][_0x129bf1(0x2d8)](_0x48c938))||_0x4550eb[_0x129bf1(0x715)])&&(_0x305d95=_0x129bf1(0x227));let _0x3f5338='\u205f',_0x347463;try{_0x347463=JSON[_0x129bf1(0x46c)](_0x4550eb[_0x129bf1(0x24d)][_0x129bf1(0x25a)](new RegExp(_0x3f5338,'g'),''));}catch(_0x4e4b00){throw _0x4e4b00;}let _0xacd4d7={'method':_0x4550eb[_0x129bf1(0x214)],'url':_0x4550eb['url'],'headers':_0x4550eb[_0x129bf1(0x326)]||{},..._0x4550eb[_0x129bf1(0x214)][_0x129bf1(0x5a9)]()!==_0x129bf1(0x2e6)&&_0x4550eb[_0x129bf1(0x24d)]?{'data':JSON[_0x129bf1(0x46c)](_0x4550eb[_0x129bf1(0x24d)][_0x129bf1(0x25a)](new RegExp(_0x3f5338,'g'),''))}:{},..._0x305d95&&{'responseType':_0x305d95}},_0x40836c=await(0x0,K[_0x129bf1(0x1a6)])(_0xacd4d7),_0x4fa7ce=_0x40836c[_0x129bf1(0x32d)][_0x129bf1(0x5ad)];if(_0x4fa7ce&&_0x4fa7ce[_0x129bf1(0x2d8)]('application/json')||typeof _0x40836c[_0x129bf1(0x385)]==_0x129bf1(0x1c0)){if(typeof _0x40836c[_0x129bf1(0x385)]==_0x129bf1(0x1c0)){let _0x3e4f80=_0x40836c['data'][_0x129bf1(0x25a)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x129bf1(0x11e)]();try{_0x2ac69d=JSON[_0x129bf1(0x46c)](_0x3e4f80);}catch(_0x41d408){console[_0x129bf1(0x1b8)](_0x129bf1(0xce)+_0x41d408['message']),_0x2ac69d={'_apiResponse':_0x40836c['data']};}}else _0x2ac69d=_0x40836c[_0x129bf1(0x385)];let _0x49a1e3=_0x409a6b['chatLog']['realVariables'],_0x4bca0d=this[_0x129bf1(0x14f)](_0x2ac69d);return Object[_0x129bf1(0x22c)](_0x49a1e3,_0x4bca0d),_0x409a6b[_0x129bf1(0x774)][_0x129bf1(0x65d)]=_0x49a1e3,_0x41d83a={'error':!0x1,'apiResponse':_0x2ac69d},this[_0x129bf1(0x1e6)](_0x409a6b,_0x5cc821,_0x41d83a),_0x2ac69d;}if(_0x4fa7ce&&(_0x4fa7ce[_0x129bf1(0x2d8)](_0x129bf1(0x764))||_0x4fa7ce[_0x129bf1(0x2d8)](_0x129bf1(0x472))||_0x4fa7ce[_0x129bf1(0x2d8)](_0x129bf1(0x5f6))||_0x4fa7ce[_0x129bf1(0x2d8)](_0x129bf1(0x635)))){this[_0x129bf1(0x4a2)][_0x129bf1(0x33b)](this[_0x129bf1(0x198)]+'\x20('+this[_0x129bf1(0x3c2)]['wuid']+_0x129bf1(0x5df)+_0x4fa7ce);let _0x4772db=(0x0,Me['v4'])(),_0x51f139='',_0x42ba22={'image/jpeg':_0x129bf1(0x325),'image/png':'.png','image/gif':_0x129bf1(0xd4),'image/webp':_0x129bf1(0x23c),'image/svg+xml':_0x129bf1(0x799),'audio/mpeg':_0x129bf1(0x165),'audio/ogg':'.ogg','audio/wav':_0x129bf1(0x6eb),'video/mp4':_0x129bf1(0x123),'video/webm':_0x129bf1(0x113),'video/ogg':_0x129bf1(0x1ca),'text/plain':_0x129bf1(0x682),'application/pdf':_0x129bf1(0x50c),'application/msword':_0x129bf1(0x5a0),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x129bf1(0x606),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x129bf1(0x4cf),'application/vnd.ms-powerpoint':_0x129bf1(0x3c9),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x42ba22[_0x4fa7ce]?(_0x51f139=_0x42ba22[_0x4fa7ce],this[_0x129bf1(0x4a2)][_0x129bf1(0x33b)](this[_0x129bf1(0x198)]+'\x20('+this[_0x129bf1(0x3c2)][_0x129bf1(0x265)]+_0x129bf1(0x2f8)+_0x51f139)):(_0x51f139='.error',this[_0x129bf1(0x4a2)][_0x129bf1(0x33b)](this[_0x129bf1(0x198)]+'\x20('+this[_0x129bf1(0x3c2)][_0x129bf1(0x265)]+_0x129bf1(0x732)+_0x51f139)),_0x4772db+=_0x51f139,this['logger'][_0x129bf1(0x33b)](this[_0x129bf1(0x198)]+'\x20('+this[_0x129bf1(0x3c2)][_0x129bf1(0x265)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x4772db);let _0x567235=this[_0x129bf1(0x5cc)]['get'](_0x129bf1(0x147))[_0x129bf1(0x319)];if(!_0x567235){let _0x2483b6=this[_0x129bf1(0x5cc)]['get'](_0x129bf1(0x4ce));_0x567235=_0x129bf1(0x6c1)+(_0x2483b6&&_0x2483b6[_0x129bf1(0x1af)][_0x129bf1(0x3a3)]('/')[0x4]);}let _0x54088a=Buffer['from'](_0x40836c[_0x129bf1(0x385)]);await this[_0x129bf1(0x297)](_0x54088a,_0x4772db);let _0x5d64f2=_0x129bf1(0x473)+_0x4772db;_0x5d64f2=''+_0x567235+_0x5d64f2,_0x2ac69d={'fileUrl':_0x5d64f2},_0x409a6b['chatLog'][_0x129bf1(0x65d)][_0x129bf1(0x266)]=_0x5d64f2;let _0x31e057=_0x409a6b[_0x129bf1(0x774)][_0x129bf1(0x65d)],_0x4fabcd=this[_0x129bf1(0x14f)](_0x2ac69d);return Object[_0x129bf1(0x22c)](_0x31e057,_0x4fabcd),_0x409a6b[_0x129bf1(0x774)][_0x129bf1(0x65d)]=_0x31e057,_0x41d83a={'error':!0x1,'apiResponse':{'fileUrl':_0x5d64f2}},this['updateConversation'](_0x409a6b,_0x5cc821,_0x41d83a),_0x2ac69d;}}catch(_0x22d0f3){console[_0x129bf1(0x1b8)](_0x129bf1(0x6b9),_0x22d0f3[_0x129bf1(0x37e)]),_0x22d0f3[_0x129bf1(0x6ed)]&&(_0x2ac69d=_0x22d0f3[_0x129bf1(0x6ed)][_0x129bf1(0x385)]);let _0x77f7af=_0x409a6b[_0x129bf1(0x774)][_0x129bf1(0x65d)],_0x9f6a46=this[_0x129bf1(0x14f)](_0x2ac69d);return Object[_0x129bf1(0x22c)](_0x77f7af,_0x9f6a46),_0x409a6b[_0x129bf1(0x774)][_0x129bf1(0x65d)]=_0x77f7af,_0x41d83a={'error':!0x0,'errorLog':_0x22d0f3['toString'](),'apiResponse':_0x2ac69d},this[_0x129bf1(0x1e6)](_0x409a6b,_0x5cc821,_0x41d83a),{'success':!0x1};}}[a0_0x5de833(0xf8)](_0x51dcbe,_0xac9e98){const _0x2eb595=a0_0x5de833;let _0x3666fc=_0x25ce21=>{const _0x185600=a0_0x26c2;let _0xb13243=_0x25ce21[_0x185600(0x25a)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x35aa83=parseFloat(_0xb13243);return isNaN(_0x35aa83)?null:_0x35aa83;},_0x699c5d=_0xac9e98[_0x2eb595(0x43b)],_0x31b3b9=_0xac9e98[_0x2eb595(0x71f)];typeof _0x699c5d=='string'&&(_0x699c5d=this[_0x2eb595(0x6c4)](_0x699c5d,_0x51dcbe[_0x2eb595(0x774)]['realVariables'])??''),typeof _0x31b3b9=='string'&&(_0x31b3b9=this[_0x2eb595(0x6c4)](_0x31b3b9,_0x51dcbe['chatLog'][_0x2eb595(0x65d)])??'');let _0x945a3d=null;if(!_0xac9e98[_0x2eb595(0x6af)])return null;switch(this[_0x2eb595(0x4a2)][_0x2eb595(0x33b)](this[_0x2eb595(0x198)]+'\x20('+this[_0x2eb595(0x3c2)]['wuid']+_0x2eb595(0x634)+_0x699c5d),this[_0x2eb595(0x4a2)][_0x2eb595(0x33b)](this[_0x2eb595(0x198)]+'\x20('+this[_0x2eb595(0x3c2)]['wuid']+_0x2eb595(0x45a)+_0x31b3b9),_0xac9e98[_0x2eb595(0x6af)]){case'+':case'-':case'*':case'/':let _0x21ee32=_0x3666fc(_0x699c5d||'0'),_0xd5f8ff=_0x3666fc(_0x31b3b9||'0');if(_0x21ee32===null)return null;switch(_0xac9e98['editOperator']){case'+':_0x945a3d=_0x21ee32+(_0xd5f8ff??0x0);break;case'-':_0x945a3d=_0x21ee32-(_0xd5f8ff??0x0);break;case'*':_0x945a3d=_0x21ee32*(_0xd5f8ff??0x1);break;case'/':_0xd5f8ff!==0x0&&(_0x945a3d=_0x21ee32/(_0xd5f8ff??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x268869=_0x31b3b9,_0x1b3986=_0xac9e98['replaceValue'];if(typeof _0x1b3986==_0x2eb595(0x1c0)&&(_0x1b3986=this['replaceVariables'](_0x1b3986,_0x51dcbe[_0x2eb595(0x774)]['realVariables'])??''),_0x268869&&_0x1b3986!==void 0x0){let _0x3549b5=_0xac9e98[_0x2eb595(0x6af)]==='findAndReplace'?new RegExp(_0x268869[_0x2eb595(0x25a)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x268869,'g');_0x945a3d=_0x699c5d[_0x2eb595(0x25a)](_0x3549b5,_0x1b3986);}else console[_0x2eb595(0x779)](_0x2eb595(0x52d));break;case _0x2eb595(0x4ee):_0x945a3d=_0x31b3b9;break;case _0x2eb595(0x44b):let _0x16350c=_0x699c5d[_0x2eb595(0x10d)](new RegExp(_0x31b3b9||''));_0x945a3d=_0x16350c?_0x16350c[0x0]:'';break;case'truncatedto':_0x945a3d=_0x699c5d[_0x2eb595(0x1f2)](0x0,parseInt(_0x31b3b9||'0'));break;case _0x2eb595(0x11f):let _0x4764b4=parseInt(_0x31b3b9||'0');_0x945a3d=_0x699c5d[_0x2eb595(0x1f2)](_0x699c5d[_0x2eb595(0x612)]-_0x4764b4);break;case _0x2eb595(0x126):let _0x244e5a=_0x3666fc(_0x699c5d),_0x2c8b6a=parseInt(_0x31b3b9||'0');_0x2c8b6a=Math[_0x2eb595(0x18c)](_0x2c8b6a),_0x244e5a!==null?_0x945a3d=_0x244e5a[_0x2eb595(0xf4)](_0x2eb595(0x409),{'minimumFractionDigits':_0x2c8b6a,'maximumFractionDigits':_0x2c8b6a}):(console[_0x2eb595(0x779)](_0x2eb595(0x70a)+_0x699c5d),_0x945a3d=null);break;case _0x2eb595(0xf5):let _0x29207c=_0x3666fc(_0x699c5d);_0x29207c!==null?_0x945a3d=_0x29207c[_0x2eb595(0xf4)]('pt-BR',{'style':_0x2eb595(0x388),'currency':_0x2eb595(0x48a)}):(console[_0x2eb595(0x779)]('Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20'+_0x699c5d),_0x945a3d=null);break;case'upperCase':_0x945a3d=_0x699c5d[_0x2eb595(0x5a9)]();break;case _0x2eb595(0x5fc):_0x945a3d=_0x699c5d[_0x2eb595(0x36d)]();break;case _0x2eb595(0x2c6):_0x945a3d=_0x699c5d['split']('\x20')[_0x2eb595(0x4ba)](_0x14cc5f=>_0x14cc5f[_0x2eb595(0x5fe)](0x0)[_0x2eb595(0x5a9)]()+_0x14cc5f[_0x2eb595(0x1f2)](0x1)[_0x2eb595(0x36d)]())[_0x2eb595(0x52f)]('\x20');break;case _0x2eb595(0x1f0):_0x945a3d=_0x699c5d[_0x2eb595(0x11e)]();break;default:_0x945a3d=_0x699c5d;}return _0x945a3d!==null?_0x945a3d[_0x2eb595(0x667)]():null;}async[a0_0x5de833(0x3d7)](_0xf7b13a,_0x53049c){const _0x105282=a0_0x5de833;try{let _0x5ed2ca=_0xf7b13a[_0x105282(0x638)]?.[_0x105282(0x2f4)](_0x57c0cb=>_0x57c0cb['blockId']===_0x53049c[_0x105282(0x478)]?.['toString']())||[],_0x52ef3f=_0x53049c[_0x105282(0x37a)],_0xaa5260=null,_0x533036=[],_0x2b95a0=_0xf7b13a['chatLog'][_0x105282(0x65d)][_0x52ef3f];_0x533036[_0x105282(0x2c5)](_0x105282(0x5bb)+_0x2b95a0+'\x22');for(let _0x526579 of _0x5ed2ca){_0x526579['firstValue']=_0x2b95a0,_0xaa5260=_0x526579['firstValue'];let _0x41309c;try{_0x41309c=this[_0x105282(0xf8)](_0xf7b13a,_0x526579);}catch(_0x8b4383){console[_0x105282(0x1b8)](_0x105282(0x3b1)+_0x8b4383[_0x105282(0x37e)]);continue;}if(_0x41309c!==null){let _0x5845da='Operador:\x20\x22'+_0x526579['editOperator']+'\x22',_0x182baf=[_0x105282(0xf5),_0x105282(0x281),_0x105282(0x5fc),_0x105282(0x2c6),_0x105282(0x1f0)];_0x526579[_0x105282(0x6af)]===_0x105282(0x5ef)||_0x526579[_0x105282(0x6af)]==='findAndReplaceRegex'?_0x5845da+=_0x105282(0x1d4)+_0x526579[_0x105282(0x71f)]+_0x105282(0x317)+_0x526579[_0x105282(0x157)]+'\x22':!_0x182baf[_0x105282(0x2d8)](_0x526579[_0x105282(0x6af)])&&_0x526579[_0x105282(0x71f)]!==null&&_0x526579['secondValue']!==void 0x0&&(_0x5845da+=',\x20valor\x20passado:\x20\x22'+_0x526579[_0x105282(0x71f)]+'\x22'),_0x5845da+=_0x105282(0x23f)+_0x41309c+'.',_0x533036[_0x105282(0x2c5)](_0x5845da);}_0x41309c!==null&&(_0x2b95a0=_0x41309c);}if(_0xf7b13a[_0x105282(0x774)][_0x105282(0x65d)]&&_0x53049c[_0x105282(0x37a)]){_0xf7b13a['chatLog'][_0x105282(0x65d)][_0x53049c[_0x105282(0x37a)]]=_0x2b95a0;let _0x2c112c={'variable':_0x53049c[_0x105282(0x37a)],'oldValue':_0xaa5260,'newValue':_0x2b95a0,'moreLogs':_0x533036};try{this[_0x105282(0x1e6)](_0xf7b13a,_0x53049c,_0x2c112c);}catch(_0x2a71a6){console[_0x105282(0x1b8)](_0x105282(0x758)+_0x2a71a6[_0x105282(0x37e)]);}}return _0x52ef3f;}catch(_0x12258c){return console[_0x105282(0x1b8)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x12258c[_0x105282(0x37e)]),null;}}async[a0_0x5de833(0x503)](_0x4a45f2,_0x22d97b){const _0x5f20dc=a0_0x5de833;try{let _0x222e2c=[],_0x4b3309=_0x4a45f2[_0x5f20dc(0x621)][_0x5f20dc(0x2f4)](_0xd2f699=>_0xd2f699[_0x5f20dc(0xbb)]===_0x22d97b[_0x5f20dc(0x478)][_0x5f20dc(0x667)]()),_0x2af841=null,_0x3a07d0=!0x1;for(let _0x36bb43 of _0x4b3309){let _0x1cb6f0=this[_0x5f20dc(0x333)](_0x4a45f2,_0x36bb43);_0x222e2c[_0x5f20dc(0x2c5)]('Primeiro\x20Valor:\x20'+_0x36bb43['firstValue']+_0x5f20dc(0x4c8)+_0x36bb43['expression']+_0x5f20dc(0x38b)+_0x36bb43[_0x5f20dc(0x71f)]+_0x5f20dc(0x609)+_0x1cb6f0),_0x2af841===null?_0x2af841=_0x1cb6f0:_0x36bb43[_0x5f20dc(0x79c)]===_0x5f20dc(0x7a3)?(_0x2af841=_0x2af841&&_0x1cb6f0,_0x1cb6f0||(_0x3a07d0=!0x0)):_0x36bb43[_0x5f20dc(0x79c)]==='or'&&(_0x3a07d0||(_0x2af841=_0x2af841||_0x1cb6f0));}_0x2af841===null&&(_0x2af841=!0x0);let _0x543aac={'moreLogs':_0x222e2c};_0x4a45f2[_0x5f20dc(0x774)]['lastCondition']=_0x2af841,await this[_0x5f20dc(0x1e6)](_0x4a45f2,_0x22d97b,_0x543aac);}catch(_0x230fcb){this[_0x5f20dc(0x4a2)]['error'](this[_0x5f20dc(0x198)]+'\x20('+this[_0x5f20dc(0x3c2)][_0x5f20dc(0x265)]+_0x5f20dc(0x7b0)+(_0x230fcb instanceof Error?_0x230fcb[_0x5f20dc(0x37e)]:JSON[_0x5f20dc(0x564)](_0x230fcb,null,0x2)));}}[a0_0x5de833(0x333)](_0x55b049,_0x49dfb5){const _0x174719=a0_0x5de833;let _0x2afc65=_0x49dfb5[_0x174719(0x43b)],_0x2c01d8=_0x49dfb5[_0x174719(0x71f)];typeof _0x2afc65=='string'&&(_0x2afc65=this[_0x174719(0x6c4)](_0x2afc65,_0x55b049[_0x174719(0x774)][_0x174719(0x65d)])??''),typeof _0x2c01d8=='string'&&(_0x2c01d8=this[_0x174719(0x6c4)](_0x2c01d8,_0x55b049['chatLog'][_0x174719(0x65d)])??'');try{switch(_0x49dfb5[_0x174719(0x350)]){case _0x174719(0x632):return _0x2afc65===_0x2c01d8;case'notEqual':return _0x2afc65!==_0x2c01d8;case _0x174719(0x4ae):return this[_0x174719(0x4ae)](_0x2afc65,_0x2c01d8);case'notContains':return!this[_0x174719(0x4ae)](_0x2afc65,_0x2c01d8);case _0x174719(0x540):return parseFloat(_0x2afc65)>parseFloat(_0x2c01d8);case _0x174719(0xbc):return parseFloat(_0x2afc65)<parseFloat(_0x2c01d8);case'notEmpty':return _0x2afc65!=='';case'empty':return _0x2afc65==='';case'matchRegex':return new RegExp(_0x2c01d8)[_0x174719(0x1d5)](_0x2afc65);case'notMatchRegex':return!new RegExp(_0x2c01d8)[_0x174719(0x1d5)](_0x2afc65);default:return!0x1;}}catch(_0x1ff4e4){return console[_0x174719(0x1b8)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x1ff4e4),!0x1;}}[a0_0x5de833(0x4ae)](_0x572982,_0x23912f){const _0x9b72a=a0_0x5de833;if(_0x572982===_0x23912f&&/^\d+$/['test'](_0x572982))return!0x0;if(this[_0x9b72a(0x146)](_0x572982)&&/^\d+$/['test'](_0x23912f)){let _0x4d86d9=_0x572982['split'](',')[_0x9b72a(0x4ba)](_0x6a9bc9=>parseInt(_0x6a9bc9['trim']())),_0x4093a3=parseInt(_0x23912f);return _0x4d86d9['includes'](_0x4093a3);}return _0x572982[_0x9b72a(0x2d8)](_0x23912f);}[a0_0x5de833(0x146)](_0xbbce6b){const _0x187084=a0_0x5de833;return/^\d+(,\d+)*$/[_0x187084(0x1d5)](_0xbbce6b);}[a0_0x5de833(0x77b)](_0x9b08af){const _0xe1aa5e=a0_0x5de833;let _0x2cb303=!0x0,_0x3678a7=null;for(let _0x4afe1f of _0x9b08af){let _0x4dd1b5=this['evaluateConditionTest'](_0x4afe1f);if(_0x3678a7==='or'&&_0x4dd1b5){_0x2cb303=!0x0;break;}if(_0x3678a7===_0xe1aa5e(0x7a3)&&!_0x4dd1b5){_0x2cb303=!0x1;break;}_0x3678a7=_0x4afe1f[_0xe1aa5e(0x79c)];}return _0x2cb303;}[a0_0x5de833(0x60e)](_0x509791){const _0x2f566d=a0_0x5de833;let _0x1ced42=_0x509791[_0x2f566d(0x43b)],_0x3306dc=_0x509791[_0x2f566d(0x71f)];try{switch(_0x509791[_0x2f566d(0x350)]){case _0x2f566d(0x632):return String(_0x1ced42)===String(_0x3306dc);case _0x2f566d(0x318):return String(_0x1ced42)!==String(_0x3306dc);case _0x2f566d(0x4ae):return String(_0x1ced42)['includes'](String(_0x3306dc));case _0x2f566d(0x1c7):return!String(_0x1ced42)[_0x2f566d(0x2d8)](String(_0x3306dc));case _0x2f566d(0x540):return parseFloat(String(_0x1ced42))>parseFloat(String(_0x3306dc));case _0x2f566d(0xbc):return parseFloat(String(_0x1ced42))<parseFloat(String(_0x3306dc));case _0x2f566d(0x5c2):return String(_0x1ced42)!=='';case _0x2f566d(0x43c):return String(_0x1ced42)==='';case'matchRegex':return new RegExp(String(_0x3306dc))[_0x2f566d(0x1d5)](String(_0x1ced42));case _0x2f566d(0x272):return!new RegExp(String(_0x3306dc))[_0x2f566d(0x1d5)](String(_0x1ced42));default:return!0x1;}}catch(_0x1d6c8d){return console[_0x2f566d(0x1b8)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x1d6c8d),!0x1;}}async[a0_0x5de833(0x678)](_0x5eb3ba,_0x463204){const _0x2a9e92=a0_0x5de833;if(this['logger'][_0x2a9e92(0x33b)](this[_0x2a9e92(0x198)]+'\x20('+this[_0x2a9e92(0x3c2)]['wuid']+_0x2a9e92(0x7a1)),!_0x5eb3ba||!_0x463204)return this['logger'][_0x2a9e92(0x1b8)](this['instanceName']+'\x20('+this[_0x2a9e92(0x3c2)][_0x2a9e92(0x265)]+_0x2a9e92(0x354)),null;let _0x393513=_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x600)][_0x2a9e92(0x298)]['id'];this[_0x2a9e92(0x4a2)][_0x2a9e92(0x33b)](this[_0x2a9e92(0x198)]+'\x20('+this[_0x2a9e92(0x3c2)][_0x2a9e92(0x265)]+_0x2a9e92(0x102)+_0x393513);let _0x549110={'key':{'id':_0x393513}},_0x9bee2d=_0x463204[_0x2a9e92(0x37a)];_0x5eb3ba[_0x2a9e92(0x774)]['realVariables']['_'+_0x9bee2d+'.fileUrl']=null,_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)]['_'+_0x9bee2d+_0x2a9e92(0x512)]=null,_0x5eb3ba['chatLog']['realVariables']['_'+_0x9bee2d+'.extension']=null,_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)]['_'+_0x9bee2d+'.type']=_0x5eb3ba[_0x2a9e92(0x774)]['lastReceivedMessage'][_0x2a9e92(0x300)];try{let _0x2c03e3=await this[_0x2a9e92(0x18f)](_0x549110);this['logger'][_0x2a9e92(0x33b)](this['instanceName']+'\x20('+this[_0x2a9e92(0x3c2)][_0x2a9e92(0x265)]+'):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.'),_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)]['_'+_0x9bee2d+_0x2a9e92(0xf9)]=_0x2c03e3['fileUrl'],_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)]['_'+_0x9bee2d+_0x2a9e92(0x512)]=_0x2c03e3['mimetype'];let _0x322990=_0x2c03e3[_0x2a9e92(0x772)][_0x2a9e92(0x10d)](/\/(\w+)$/),_0x473897=_0x322990?_0x322990[0x1]:null;_0x5eb3ba[_0x2a9e92(0x774)]['realVariables']['_'+_0x9bee2d+_0x2a9e92(0x219)]=_0x473897,this[_0x2a9e92(0x4a2)][_0x2a9e92(0x33b)](this['instanceName']+'\x20('+this[_0x2a9e92(0x3c2)][_0x2a9e92(0x265)]+_0x2a9e92(0x24a)+_0x9bee2d+'\x27.');}catch(_0x11240a){this[_0x2a9e92(0x4a2)][_0x2a9e92(0x1b8)](this['instanceName']+'\x20('+this['instance'][_0x2a9e92(0x265)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20'+_0x11240a);}let _0x591ed8=_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x600)][_0x2a9e92(0x1d2)]||_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x600)][_0x2a9e92(0x156)]||_0x5eb3ba['chatLog'][_0x2a9e92(0x600)][_0x2a9e92(0x712)];try{_0x5eb3ba['chatLog'][_0x2a9e92(0x65d)]||(_0x5eb3ba['chatLog'][_0x2a9e92(0x65d)]={});let _0x5aebdf=_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)][_0x9bee2d];_0x5eb3ba[_0x2a9e92(0x774)][_0x2a9e92(0x65d)][_0x9bee2d]=_0x591ed8;let _0x1d3836={'variable':_0x9bee2d,'oldValue':_0x5aebdf,'newValue':_0x591ed8};this['updateConversation'](_0x5eb3ba,_0x463204,_0x1d3836),this[_0x2a9e92(0x4a2)][_0x2a9e92(0x33b)](this['instanceName']+'\x20('+this[_0x2a9e92(0x3c2)][_0x2a9e92(0x265)]+_0x2a9e92(0x3b6));}catch(_0x467c42){let _0x5aec86={'error':!0x0,'errorLog':_0x467c42[_0x2a9e92(0x667)]()};return this[_0x2a9e92(0x1e6)](_0x5eb3ba,_0x463204,_0x5aec86),this[_0x2a9e92(0x4a2)]['error'](this[_0x2a9e92(0x198)]+'\x20('+this['instance'][_0x2a9e92(0x265)]+_0x2a9e92(0xc8)+(_0x467c42 instanceof Error?_0x467c42[_0x2a9e92(0x37e)]:JSON['stringify'](_0x467c42,null,0x2))),null;}}async[a0_0x5de833(0x729)](_0x1cbf2e,_0x296f51){const _0x7f061e=a0_0x5de833;if(this[_0x7f061e(0x4a2)][_0x7f061e(0x33b)](this[_0x7f061e(0x198)]+'\x20('+this['instance'][_0x7f061e(0x265)]+'):\x20Entrou\x20na\x20funo\x20stop'),!_0x1cbf2e||!_0x296f51)return this[_0x7f061e(0x4a2)][_0x7f061e(0x1b8)](this[_0x7f061e(0x198)]+'\x20('+this[_0x7f061e(0x3c2)][_0x7f061e(0x265)]+_0x7f061e(0x354)),null;let _0x38852a=Date[_0x7f061e(0x338)](),_0x342251=parseInt(_0x296f51[_0x7f061e(0x7ac)],0xa);if(isNaN(_0x342251))return this[_0x7f061e(0x4a2)][_0x7f061e(0x1b8)](this[_0x7f061e(0x198)]+'\x20('+this[_0x7f061e(0x3c2)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero'),null;let _0x3cebe6={'newStoppedUntil':_0x38852a+_0x342251*0x3c*0x3e8};return await this[_0x7f061e(0x1e6)](_0x1cbf2e,_0x296f51,_0x3cebe6,!0x0),null;}async[a0_0x5de833(0x6d8)](_0x16456d,_0x132c9a){const _0x58cc02=a0_0x5de833;try{switch(_0x132c9a['uazapi'][_0x58cc02(0x3fc)]){case _0x58cc02(0x3b3):await this['uazapiSendText'](_0x16456d,_0x132c9a);break;case _0x58cc02(0x607):await this['uazapiSendMedia'](_0x16456d,_0x132c9a);break;case _0x58cc02(0x10b):await this['uazapiSendLocation'](_0x16456d,_0x132c9a);break;case _0x58cc02(0x2f2):await this['uazapiSendAudio'](_0x16456d,_0x132c9a);break;case _0x58cc02(0x105):await this[_0x58cc02(0x78a)](_0x16456d,_0x132c9a);break;case'sendPoll':await this[_0x58cc02(0x74d)](_0x16456d,_0x132c9a);break;case'sendMenu':await this[_0x58cc02(0x74d)](_0x16456d,_0x132c9a);break;case _0x58cc02(0x1cc):await this[_0x58cc02(0x3e7)](_0x16456d,_0x132c9a);break;default:this[_0x58cc02(0x4a2)][_0x58cc02(0x1b8)](this[_0x58cc02(0x198)]+'\x20('+this['instance'][_0x58cc02(0x265)]+_0x58cc02(0x372)+_0x132c9a[_0x58cc02(0x341)][_0x58cc02(0x3fc)]);}}catch(_0x4b47cb){this['logger'][_0x58cc02(0x1b8)](this['instanceName']+'\x20('+this[_0x58cc02(0x3c2)][_0x58cc02(0x265)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x4b47cb instanceof Error?_0x4b47cb[_0x58cc02(0x37e)]:JSON[_0x58cc02(0x564)](_0x4b47cb,null,0x2)));}}async[a0_0x5de833(0x1e6)](_0x3be932,_0x60ed23,_0x4b9543,_0x841466=!0x1,_0x59db63=!0x1){const _0x5a5e3a=a0_0x5de833;_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x94)]||(_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x94)]=[]);let _0x4ba560=(_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x94)]?.[_0x5a5e3a(0x612)]??0x0)+0x1,_0x3df724=_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x94)][_0x5a5e3a(0x2f4)](_0x253933=>String(_0x253933[_0x5a5e3a(0xbb)])===String(_0x60ed23[_0x5a5e3a(0x478)]))[_0x5a5e3a(0x612)]+0x1,_0x13df0b=_0x4b9543?.[_0x5a5e3a(0xcc)]??Date[_0x5a5e3a(0x338)](),_0x105e40=_0x4b9543?.[_0x5a5e3a(0x1b8)]?_0x4b9543[_0x5a5e3a(0x44c)]??_0x4b9543[_0x5a5e3a(0x1b8)]['toString']():void 0x0,_0x219d1f={'onTime':_0x13df0b,'blockId':_0x60ed23[_0x5a5e3a(0x478)],'order':_0x4ba560,'activatedCount':_0x3df724,'error':_0x4b9543?.[_0x5a5e3a(0x1b8)]??!0x1,'messageId':_0x4b9543?.[_0x5a5e3a(0xaa)],'apiResponse':_0x4b9543?.[_0x5a5e3a(0x2fb)],'apiResponseString':_0x4b9543?.[_0x5a5e3a(0x2fb)]?JSON[_0x5a5e3a(0x564)](_0x4b9543?.[_0x5a5e3a(0x2fb)]):void 0x0,'variable':_0x4b9543?.[_0x5a5e3a(0x49b)],'oldValue':_0x4b9543?.['oldValue'],'newValue':_0x4b9543?.[_0x5a5e3a(0xcd)],'newStoppedUntil':_0x4b9543?.[_0x5a5e3a(0x1ea)],'moreLogs':_0x4b9543?.[_0x5a5e3a(0x3f4)],'errorLog':_0x105e40};if(_0x4b9543[_0x5a5e3a(0x3f4)]&&_0x4b9543[_0x5a5e3a(0x3f4)]['length']>0x0){let _0x482eec=_0x4b9543['moreLogs'][_0x5a5e3a(0x4ba)](_0x5f2d18=>this[_0x5a5e3a(0x172)](_0x5f2d18,_0x3be932[_0x5a5e3a(0x774)]['realVariables']));_0x219d1f[_0x5a5e3a(0x3f4)]=_0x482eec;}if(_0x3be932[_0x5a5e3a(0x774)]['realVariables']||(_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)]={}),_0x3be932['chatLog']['realVariables'][_0x5a5e3a(0x474)]=String(_0x3df724),_0x3be932[_0x5a5e3a(0x774)]['realVariables'][_0x5a5e3a(0x6e1)]=String(_0x4b9543[_0x5a5e3a(0x1b8)]??!0x1),_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x94)][_0x5a5e3a(0x2c5)](_0x219d1f),_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)][_0x5a5e3a(0x2aa)]&&_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)][_0x5a5e3a(0x2aa)]!==_0x3be932[_0x5a5e3a(0x572)]){let _0x116432=(await this[_0x5a5e3a(0x12d)]({'numbers':[_0x3be932[_0x5a5e3a(0x774)]['realVariables'][_0x5a5e3a(0x2aa)]]}))[0x0][_0x5a5e3a(0xeb)];_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)][_0x5a5e3a(0x2aa)]=_0x116432,_0x3be932['remoteJid']=_0x116432;try{let _0x27fbb1={'_id':{'$ne':_0x3be932[_0x5a5e3a(0x478)]},'remoteJid':_0x116432,'status':_0x5a5e3a(0x663)},_0x3115ec={'status':'closed'};await this['repository']['flowConversation'][_0x5a5e3a(0x1dc)](_0x27fbb1,_0x3115ec,this[_0x5a5e3a(0x3c2)]['wuid']),this[_0x5a5e3a(0x4a2)]['verbose'](this[_0x5a5e3a(0x198)]+'\x20('+this['instance'][_0x5a5e3a(0x265)]+_0x5a5e3a(0x2a6));}catch(_0x5df7ce){this['logger'][_0x5a5e3a(0x1b8)](this[_0x5a5e3a(0x198)]+'\x20('+this[_0x5a5e3a(0x3c2)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x5df7ce[_0x5a5e3a(0x37e)]);}try{let _0x1d1ea5=_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)],_0x4ba093=await this[_0x5a5e3a(0x76e)](_0x116432),_0x3f3e43={..._0x1d1ea5,..._0x4ba093,'_remoteJid':_0x116432};_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x65d)]=_0x3f3e43;}catch(_0x106281){this[_0x5a5e3a(0x4a2)][_0x5a5e3a(0x1b8)](this[_0x5a5e3a(0x198)]+'\x20('+this[_0x5a5e3a(0x3c2)][_0x5a5e3a(0x265)]+_0x5a5e3a(0x3f9)+_0x106281[_0x5a5e3a(0x37e)]);}}_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x713)]=_0x60ed23[_0x5a5e3a(0x478)][_0x5a5e3a(0x667)](),_0x3be932[_0x5a5e3a(0x774)]['lastSendMessage']&&(_0x3be932['chatLog'][_0x5a5e3a(0x189)]=_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x189)]),_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x600)]&&(_0x3be932[_0x5a5e3a(0x774)][_0x5a5e3a(0x600)]=_0x3be932[_0x5a5e3a(0x774)]['lastReceivedMessage']),_0x3be932['chatLog'][_0x5a5e3a(0x1bf)]&&(_0x3be932['chatLog'][_0x5a5e3a(0x1bf)]=_0x3be932['chatLog'][_0x5a5e3a(0x1bf)]),_0x59db63&&(_0x3be932[_0x5a5e3a(0x620)]='closed'),_0x841466?this['saveConversationToDatabase'](_0x3be932):this['goNextblock'](_0x3be932,_0x60ed23);}[a0_0x5de833(0x172)](_0x769f0d,_0x4b8aef){const _0x6e94b7=a0_0x5de833;return _0x769f0d['replace'](/\{\{([^}]+)\}\}/g,(_0x4f764e,_0xe43392)=>_0x4b8aef[_0xe43392]?'{{'+_0xe43392+_0x6e94b7(0x50b)+_0x4b8aef[_0xe43392]+'\x22':'{{'+_0xe43392+_0x6e94b7(0x79a));}async[a0_0x5de833(0xec)](_0x2feca6){const _0x491913=a0_0x5de833;try{let _0x238e7a=Object[_0x491913(0x286)](_0x2feca6['chatLog'][_0x491913(0x65d)])[_0x491913(0x4ba)](([_0x1994f1,_0x4cb227])=>({'name':_0x1994f1,'value':_0x4cb227})),_0x80a1a7={'status':_0x2feca6[_0x491913(0x620)],'remoteJid':_0x2feca6[_0x491913(0x572)],'blocks':_0x2feca6[_0x491913(0xfb)],'waitingMenu_id':_0x2feca6[_0x491913(0x391)],'waitingMenu_text':_0x2feca6[_0x491913(0x491)],'waitingMenu_replyOptions':_0x2feca6[_0x491913(0x249)],'chatLog':{'lastBlockId':_0x2feca6[_0x491913(0x774)][_0x491913(0x713)],'lastSendMessage':_0x2feca6[_0x491913(0x774)][_0x491913(0x189)],'lastReceivedMessage':_0x2feca6[_0x491913(0x774)]['lastReceivedMessage'],'lastCondition':_0x2feca6[_0x491913(0x774)][_0x491913(0x1bf)],'chatVariables':_0x238e7a,'realVariables':_0x2feca6[_0x491913(0x774)][_0x491913(0x65d)],'blockLogs':_0x2feca6[_0x491913(0x774)][_0x491913(0x94)]}},_0x5a7726=await this[_0x491913(0x719)][_0x491913(0x392)][_0x491913(0x4fc)](_0x2feca6[_0x491913(0x478)],_0x80a1a7,this['instance']['wuid']);if(_0x5a7726){this[_0x491913(0x4a2)][_0x491913(0x33b)](this[_0x491913(0x198)]+'\x20('+this[_0x491913(0x3c2)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5a7726[_0x491913(0x478)]);try{let _0x534892=['nome',_0x491913(0x1aa),_0x491913(0x480),'cpf',_0x491913(0x620),'notas',_0x491913(0x56b),_0x491913(0xae),_0x491913(0x33e),_0x491913(0x404)];if(!this[_0x491913(0x30d)]&&(await this[_0x491913(0x516)](),!this[_0x491913(0x30d)]))throw new Error(_0x491913(0x41d));let _0x205e79=this['AutomateSystem']?.[_0x491913(0x501)][_0x491913(0x4ba)](_0x23f747=>_0x23f747[_0x491913(0x40f)]),_0x1ec610={};Object[_0x491913(0x286)](_0x2feca6[_0x491913(0x774)][_0x491913(0x65d)])[_0x491913(0x1b4)](([_0x1d3708,_0x297799])=>{const _0x5a3c44=_0x491913;_0x534892[_0x5a3c44(0x2d8)](_0x1d3708)&&(_0x1d3708===_0x5a3c44(0xae)&&typeof _0x297799==_0x5a3c44(0x1c0)?_0x1ec610[_0x1d3708]=_0x297799['split'](',')[_0x5a3c44(0x4ba)](_0x213161=>_0x213161[_0x5a3c44(0x11e)]())[_0x5a3c44(0x2f4)](_0x160c3d=>_0x160c3d!==''):_0x1d3708===_0x5a3c44(0x33e)&&typeof _0x297799=='string'?_0x1ec610[_0x1d3708]=_0x297799[_0x5a3c44(0x3a3)](',')[_0x5a3c44(0x4ba)](_0x1fe995=>_0x1fe995[_0x5a3c44(0x11e)]())['filter'](_0x2c50f7=>_0x2c50f7!==''):_0x1ec610[_0x1d3708]=_0x297799);});let _0xd97c76=_0x2feca6[_0x491913(0x774)]['blockLogs'][_0x2feca6[_0x491913(0x774)][_0x491913(0x94)]['length']-0x1];if(_0xd97c76){let _0x55a97b=_0xd97c76[_0x491913(0x1ea)];_0x55a97b!==void 0x0&&(_0x1ec610[_0x491913(0x2a9)]=_0x55a97b[_0x491913(0x667)]());}let _0x425735=_0x238e7a[_0x491913(0x2f4)](_0x2257e6=>_0x205e79[_0x491913(0x2d8)](_0x2257e6[_0x491913(0x40f)]));this[_0x491913(0x4a2)][_0x491913(0x33b)](this[_0x491913(0x198)]+'\x20('+this[_0x491913(0x3c2)]['wuid']+'):\x20leadInfoVariables'),this['logger']['verbose'](_0x1ec610),this[_0x491913(0x4a2)][_0x491913(0x33b)](this[_0x491913(0x198)]+'\x20('+this['instance'][_0x491913(0x265)]+_0x491913(0x6f3)),this['logger'][_0x491913(0x33b)](_0x425735);let _0x30137e=_0x425735[_0x491913(0x4ba)](_0x14d533=>{const _0x33d55c=_0x491913;let _0x2582cd=this['AutomateSystem']?.['customFields'][_0x33d55c(0x781)](_0x48cb4f=>_0x48cb4f[_0x33d55c(0x40f)]===_0x14d533[_0x33d55c(0x40f)]);if(!_0x2582cd)throw new Error(_0x33d55c(0x412)+_0x14d533[_0x33d55c(0x40f)]);return{'_id':_0x2582cd[_0x33d55c(0x478)],'value':_0x14d533[_0x33d55c(0x65f)]};});this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x491913(0x3c2)][_0x491913(0x265)]+_0x491913(0x150)),this[_0x491913(0x4a2)][_0x491913(0x33b)](_0x30137e),await this[_0x491913(0x42d)](_0x2feca6['remoteJid'],_0x1ec610,_0x30137e);}catch(_0x500a8e){this[_0x491913(0x4a2)][_0x491913(0x1b8)](this[_0x491913(0x198)]+'\x20('+this['instance'][_0x491913(0x265)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x500a8e instanceof Error?_0x500a8e[_0x491913(0x37e)]:JSON[_0x491913(0x564)](_0x500a8e,null,0x2)));}}else this['logger']['error'](this['instanceName']+'\x20('+this[_0x491913(0x3c2)][_0x491913(0x265)]+_0x491913(0x3ba));}catch(_0xed9c73){this[_0x491913(0x4a2)]['error'](this[_0x491913(0x198)]+'\x20('+this[_0x491913(0x3c2)][_0x491913(0x265)]+_0x491913(0x672)+(_0xed9c73 instanceof Error?_0xed9c73[_0x491913(0x37e)]:JSON[_0x491913(0x564)](_0xed9c73,null,0x2)));}}async[a0_0x5de833(0x42d)](_0xd0baa7,_0x209b87,_0x5556c1){const _0x3d0866=a0_0x5de833;try{let _0x281797={'leadInfo.leadnome':_0x209b87[_0x3d0866(0x1f4)],'leadInfo.nomecompleto':_0x209b87[_0x3d0866(0x1aa)],'leadInfo.email':_0x209b87[_0x3d0866(0x480)],'leadInfo.cpf':_0x209b87['cpf'],'leadInfo.status':_0x209b87[_0x3d0866(0x620)],'leadInfo.notas':_0x209b87[_0x3d0866(0x407)],'leadInfo.responsavelid':_0x209b87[_0x3d0866(0x56b)],'leadInfo.tags':_0x209b87[_0x3d0866(0xae)],'leadInfo.etiquetas':_0x209b87[_0x3d0866(0x33e)],'leadInfo.customFields':_0x5556c1,'leadInfo.atendimentoAberto':_0x209b87['atendimentoAberto']},_0x17341d=await this['repository']['chat'][_0x3d0866(0x782)]({'where':{'_id':_0xd0baa7}},this[_0x3d0866(0x3c2)][_0x3d0866(0x265)]);if(!_0x17341d)return _0x3d0866(0x3f3);let _0x476cfd=new Set(_0x17341d[_0x3d0866(0x4a4)][_0x3d0866(0x33e)]||[]),_0x5278d1=new Set(_0x209b87[_0x3d0866(0x33e)]||[]),_0x28acb0=await this['repository'][_0x3d0866(0x702)]['find']({'where':{}},this[_0x3d0866(0x3c2)][_0x3d0866(0x265)]),_0x2441f7=new Set(_0x28acb0[_0x3d0866(0x4ba)](_0x5a2e26=>_0x5a2e26['_id'])),_0x1bbbd1=[..._0x5278d1][_0x3d0866(0x2f4)](_0x2669e1=>!_0x476cfd[_0x3d0866(0x3ad)](_0x2669e1)&&_0x2441f7[_0x3d0866(0x3ad)](_0x2669e1)),_0x52527e=[..._0x476cfd][_0x3d0866(0x2f4)](_0x557e9b=>!_0x5278d1[_0x3d0866(0x3ad)](_0x557e9b));for(let _0x207376 of _0x1bbbd1)await this[_0x3d0866(0x16a)](_0x207376,_0x17341d[_0x3d0866(0x478)]),_0x476cfd[_0x3d0866(0x773)](_0x207376);for(let _0xd36d43 of _0x52527e)await this[_0x3d0866(0x180)](_0xd36d43,_0x17341d[_0x3d0866(0x478)]),_0x476cfd['delete'](_0xd36d43);if(_0x3d0866(0x2a9)in _0x209b87){let _0x14b36f=_0x209b87[_0x3d0866(0x2a9)];_0x281797[_0x3d0866(0x5ee)]=_0x14b36f?Number(_0x14b36f):null;}if(_0x3d0866(0x404)in _0x209b87){let _0x404676=_0x209b87[_0x3d0866(0x404)][_0x3d0866(0x36d)]();_0x281797[_0x3d0866(0x46d)]=_0x404676===_0x3d0866(0x55a)||_0x404676==='1'||_0x404676===_0x3d0866(0x162)||_0x404676===_0x3d0866(0x26c);}let _0x4806dd=await this[_0x3d0866(0x719)][_0x3d0866(0x5e6)][_0x3d0866(0x4fc)]({'where':{'_id':_0xd0baa7}},_0x281797,this['instance']['wuid']);_0x4806dd?(this[_0x3d0866(0x4a2)]['verbose'](this[_0x3d0866(0x198)]+'\x20('+this[_0x3d0866(0x3c2)]['wuid']+_0x3d0866(0x1d8)+_0x4806dd[_0x3d0866(0x478)]),J(this[_0x3d0866(0x198)],_0x3d0866(0x1fe),{'chat':_0x4806dd})):this[_0x3d0866(0x4a2)][_0x3d0866(0x1b8)](this[_0x3d0866(0x198)]+'\x20('+this[_0x3d0866(0x3c2)][_0x3d0866(0x265)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD');}catch(_0x37cae4){this['logger'][_0x3d0866(0x1b8)](this['instanceName']+'\x20('+this[_0x3d0866(0x3c2)]['wuid']+_0x3d0866(0x2cd)+(_0x37cae4 instanceof Error?_0x37cae4['message']:JSON['stringify'](_0x37cae4,null,0x2)));}}async['updateStopChat'](_0x202f7a,_0x59de9a){const _0x28e119=a0_0x5de833;this['logger'][_0x28e119(0x33b)](this['instanceName']+'\x20('+this[_0x28e119(0x3c2)]['wuid']+_0x28e119(0x142)+_0x59de9a);try{let _0x375a28=await this[_0x28e119(0x719)][_0x28e119(0x5e6)][_0x28e119(0x4fc)]({'where':{'_id':_0x202f7a[_0x28e119(0x572)]}},{'leadInfo.desativadoFluxoAte':_0x59de9a},this['instance']['wuid']);this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x28e119(0x265)]+_0x28e119(0x34b)+_0x202f7a[_0x28e119(0x478)]),this[_0x28e119(0x4a2)][_0x28e119(0x33b)](this[_0x28e119(0x198)]+'\x20('+this[_0x28e119(0x3c2)][_0x28e119(0x265)]+_0x28e119(0x142)+JSON[_0x28e119(0x564)](_0x375a28,null,0x2)),_0x375a28&&J(this[_0x28e119(0x198)],'chats',{'chat':_0x375a28});}catch(_0x59ad4e){this[_0x28e119(0x4a2)][_0x28e119(0x1b8)](this[_0x28e119(0x198)]+'\x20('+this[_0x28e119(0x3c2)][_0x28e119(0x265)]+_0x28e119(0x3dc)+(_0x59ad4e instanceof Error?_0x59ad4e[_0x28e119(0x37e)]:JSON[_0x28e119(0x564)](_0x59ad4e,null,0x2)));}}async[a0_0x5de833(0x2c4)](_0xc91886){const _0x5183a8=a0_0x5de833;try{this[_0x5183a8(0x4a2)][_0x5183a8(0x33b)](this[_0x5183a8(0x198)]+'\x20('+this[_0x5183a8(0x3c2)]['wuid']+'):\x20Buscando\x20flow...');let _0x389713=_0xc91886['replace'](/\D/g,''),_0x2f57c9=await this[_0x5183a8(0x719)][_0x5183a8(0x594)][_0x5183a8(0x782)]({'where':{'testingWith':_0x389713}},this[_0x5183a8(0x3c2)]['wuid']);return _0x2f57c9||(this[_0x5183a8(0x4a2)][_0x5183a8(0x33b)](this['instanceName']+'\x20('+this[_0x5183a8(0x3c2)]['wuid']+_0x5183a8(0x103)),_0x2f57c9=await this[_0x5183a8(0x719)][_0x5183a8(0x594)][_0x5183a8(0x782)]({'where':{'default':!0x0}},this['instance'][_0x5183a8(0x265)])),_0x2f57c9||(this[_0x5183a8(0x4a2)][_0x5183a8(0x33b)](this[_0x5183a8(0x198)]+'\x20('+this['instance'][_0x5183a8(0x265)]+_0x5183a8(0xca)),null);}catch(_0x186888){return this['logger'][_0x5183a8(0x1b8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5183a8(0x55c)+(_0x186888 instanceof Error?_0x186888['message']:JSON[_0x5183a8(0x564)](_0x186888,null,0x2))),null;}}async['findConversation'](_0x5a8422,_0x277a5e){const _0x3f1f46=a0_0x5de833;try{let _0x229f8=!!_0x277a5e[_0x3f1f46(0x712)],_0x3be708=_0x277a5e[_0x3f1f46(0x112)],_0x4a0010=null;if(this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x30b)+_0x229f8+_0x3f1f46(0x65a)+_0x3be708),_0x229f8){this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x38a678={'where':{'remoteJid':_0x5a8422,'waitingMenu_id':_0x3be708}};if(_0x4a0010=await this[_0x3f1f46(0x719)][_0x3f1f46(0x392)][_0x3f1f46(0x782)](_0x38a678,this[_0x3f1f46(0x3c2)]['wuid']),!_0x4a0010)return this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x735)),null;let _0x1a4a6a=Date[_0x3f1f46(0x338)](),_0x2f8d16=_0x4a0010?.[_0x3f1f46(0x41b)]||0x0,_0x1b99b8=_0x1a4a6a-_0x2f8d16*0x3c*0x3e8;if(_0x4a0010[_0x3f1f46(0x743)]<_0x1b99b8){this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)]['wuid']+'):\x20Conversa\x20est\x20expirada\x20-\x20voto');let _0x1685fe={'number':_0x4a0010[_0x3f1f46(0x572)],'options':{'delay':0x0},'textMessage':{'text':_0x4a0010[_0x3f1f46(0xe3)]}};await this['textMessage'](_0x1685fe);let _0x5dc62b={'status':_0x3f1f46(0x465),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x3f1f46(0x392)][_0x3f1f46(0x4fc)](_0x4a0010['_id'],_0x5dc62b,this['instance'][_0x3f1f46(0x265)]),null;}return _0x4a0010['lastInteraction']=Date[_0x3f1f46(0x338)](),_0x4a0010[_0x3f1f46(0x774)][_0x3f1f46(0x600)]=_0x277a5e,_0x4a0010;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)]['wuid']+_0x3f1f46(0x574)+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x19a)),this['logger'][_0x3f1f46(0x33b)](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x346));let _0x1f9c39={'where':{'remoteJid':_0x5a8422,'status':_0x3f1f46(0x663)}};if(_0x4a0010=await this['repository'][_0x3f1f46(0x392)]['findOne'](_0x1f9c39,this['instance'][_0x3f1f46(0x265)]),!_0x4a0010){let _0x335a40=await this['findFlow'](_0x5a8422);if(_0x335a40&&(_0x4a0010=await this[_0x3f1f46(0x3ac)](_0x335a40,_0x277a5e[_0x3f1f46(0x298)],_0x277a5e)),!_0x4a0010)return null;}let _0x5d345d=Date[_0x3f1f46(0x338)](),_0x2c9b89=_0x4a0010?.[_0x3f1f46(0x41b)]||0x0,_0x10405c=_0x5d345d-_0x2c9b89*0x3c*0x3e8;if(this[_0x3f1f46(0x4a2)]['verbose'](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)]['wuid']+_0x3f1f46(0x499)+_0x5d345d+_0x3f1f46(0x5b1)+_0x2c9b89+',\x20Expiration\x20Time:\x20'+_0x10405c),this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)]['wuid']+_0x3f1f46(0xc9)),this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x1bd)+_0x4a0010[_0x3f1f46(0x743)]),this[_0x3f1f46(0x4a2)][_0x3f1f46(0x33b)](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)]['wuid']+_0x3f1f46(0x75d)+_0x10405c),_0x4a0010[_0x3f1f46(0x743)]<_0x10405c){this[_0x3f1f46(0x4a2)]['verbose'](this[_0x3f1f46(0x198)]+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x27b));let _0x5b02b5=await this[_0x3f1f46(0x2c4)](_0x5a8422);if(_0x5b02b5===null)return null;_0x4a0010&&await this['repository'][_0x3f1f46(0x392)][_0x3f1f46(0x4fc)](_0x4a0010[_0x3f1f46(0x478)],{'status':_0x3f1f46(0x465)},this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]),_0x4a0010=await this['createNewConversation'](_0x5b02b5,_0x277a5e[_0x3f1f46(0x298)],_0x277a5e);}return _0x4a0010[_0x3f1f46(0x743)]=_0x5d345d,_0x4a0010['chatLog'][_0x3f1f46(0x600)]=_0x277a5e,_0x4a0010;}}catch(_0x29fad1){return this[_0x3f1f46(0x4a2)][_0x3f1f46(0x1b8)](this['instanceName']+'\x20('+this[_0x3f1f46(0x3c2)][_0x3f1f46(0x265)]+_0x3f1f46(0x425)+(_0x29fad1 instanceof Error?_0x29fad1[_0x3f1f46(0x37e)]:JSON['stringify'](_0x29fad1,null,0x2))),null;}}async[a0_0x5de833(0x3ac)](_0x2f765c,_0x1c24f9,_0x307840){const _0x5dd4f3=a0_0x5de833;this[_0x5dd4f3(0x4a2)][_0x5dd4f3(0x33b)](this['instanceName']+'\x20('+this[_0x5dd4f3(0x3c2)][_0x5dd4f3(0x265)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x27bee1=require(_0x5dd4f3(0x4b6))['ObjectId'],_0x4c0e01=Date['now'](),_0x3aab1d=_0x5dd4f3(0x776),_0x5c8d28=_0x1c24f9[_0x5dd4f3(0x3ce)]?null:_0x307840,_0x31631e=_0x1c24f9['fromMe']?_0x307840:null,_0x4d8a58=_0x1c24f9[_0x5dd4f3(0x572)];await this[_0x5dd4f3(0x769)](_0x4d8a58);let _0x438cb8={..._0x2f765c,'chatLog':null},_0x2aae39=await this[_0x5dd4f3(0x4d2)](_0x438cb8['variables']),_0x2ad6a2=await this[_0x5dd4f3(0x76e)](_0x4d8a58),_0x4940fc={..._0x2aae39,..._0x2ad6a2,'_remoteJid':_0x4d8a58},_0x47b8fb={'lastReceivedMessage':_0x5c8d28,'lastSendMessage':_0x31631e,'lastBlockId':_0x3aab1d,'lastCondition':!0x0,'realVariables':_0x4940fc};_0x438cb8[_0x5dd4f3(0x774)]=_0x47b8fb,delete _0x438cb8['_id'],_0x438cb8[_0x5dd4f3(0x478)]=new _0x27bee1(),_0x438cb8['lastInteraction']=_0x4c0e01,_0x438cb8['status']=_0x5dd4f3(0x663),_0x438cb8[_0x5dd4f3(0x572)]=_0x4d8a58;let _0x1cc8ad=await this[_0x5dd4f3(0x719)]['flowConversation']['updateOne'](_0x438cb8[_0x5dd4f3(0x478)],_0x438cb8,this[_0x5dd4f3(0x3c2)][_0x5dd4f3(0x265)]);return this[_0x5dd4f3(0x4a2)][_0x5dd4f3(0x33b)](this['instanceName']+'\x20('+this[_0x5dd4f3(0x3c2)][_0x5dd4f3(0x265)]+_0x5dd4f3(0x22b)),_0x1cc8ad?_0x438cb8:null;}catch(_0x1adef6){return this['logger'][_0x5dd4f3(0x1b8)](this[_0x5dd4f3(0x198)]+'\x20('+this[_0x5dd4f3(0x3c2)][_0x5dd4f3(0x265)]+_0x5dd4f3(0x466)+(_0x1adef6 instanceof Error?_0x1adef6[_0x5dd4f3(0x37e)]:JSON[_0x5dd4f3(0x564)](_0x1adef6,null,0x2))),_0x1adef6;}}async['uazapiSendText'](_0x221a40,_0x9bff56){const _0x1f9d0e=a0_0x5de833;let _0x564231=_0x221a40[_0x1f9d0e(0x572)];_0x9bff56[_0x1f9d0e(0x341)][_0x1f9d0e(0x572)]&&_0x9bff56['uazapi']['remoteJid']['trim']()!==''&&(_0x564231=_0x9bff56[_0x1f9d0e(0x341)][_0x1f9d0e(0x572)][_0x1f9d0e(0x11e)]()),this[_0x1f9d0e(0x4a2)][_0x1f9d0e(0x33b)](this[_0x1f9d0e(0x198)]+'\x20('+this[_0x1f9d0e(0x3c2)]['wuid']+'):\x20Enviando\x20texto');let _0x30432c={'number':_0x564231,'options':{'delay':_0x9bff56[_0x1f9d0e(0x341)][_0x1f9d0e(0x254)],'linkPreview':_0x9bff56['uazapi'][_0x1f9d0e(0x2ad)]},'textMessage':{'text':_0x9bff56[_0x1f9d0e(0x341)][_0x1f9d0e(0x1d2)]}};try{let _0x9b58b5=await this[_0x1f9d0e(0x232)](_0x30432c);if(_0x9b58b5){let _0x2a9e93={'_id':_0x9b58b5[_0x1f9d0e(0x298)]['id'],'_fromMe':_0x9b58b5[_0x1f9d0e(0x298)][_0x1f9d0e(0x3ce)],'_remoteJid':_0x9b58b5[_0x1f9d0e(0x298)][_0x1f9d0e(0x572)]},_0x39cc2e=(0x0,f[_0x1f9d0e(0x3cf)])(_0x9b58b5[_0x1f9d0e(0x37e)]),_0x3a5cff=(0x0,f[_0x1f9d0e(0xe7)])(_0x39cc2e);_0x221a40['chatLog']['lastBlockId']=_0x9bff56['_id']['toString']();let {message_normalized:_0x238bbd}=this[_0x1f9d0e(0x2ff)](_0x39cc2e,_0x3a5cff,null);_0x221a40[_0x1f9d0e(0x774)]['lastSendMessage']=await _0x238bbd;let _0x4926d6={'messageId':_0x9b58b5[_0x1f9d0e(0x298)]['id']},_0xf00521=_0x221a40['chatLog'][_0x1f9d0e(0x65d)];Object['assign'](_0xf00521,_0x2a9e93),_0x221a40[_0x1f9d0e(0x774)][_0x1f9d0e(0x65d)]=_0xf00521,this[_0x1f9d0e(0x1e6)](_0x221a40,_0x9bff56,_0x4926d6);}else{let _0x51e3c1={'error':!0x0};this[_0x1f9d0e(0x1e6)](_0x221a40,_0x9bff56,_0x51e3c1),this[_0x1f9d0e(0x4a2)][_0x1f9d0e(0x1b8)](this[_0x1f9d0e(0x198)]+'\x20('+this[_0x1f9d0e(0x3c2)][_0x1f9d0e(0x265)]+_0x1f9d0e(0x188));}}catch(_0x4a610e){let _0x11d899={'error':!0x0,'errorLog':_0x4a610e[_0x1f9d0e(0x667)]()};this[_0x1f9d0e(0x1e6)](_0x221a40,_0x9bff56,_0x11d899),this[_0x1f9d0e(0x4a2)]['error'](this[_0x1f9d0e(0x198)]+'\x20('+this[_0x1f9d0e(0x3c2)][_0x1f9d0e(0x265)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x4a610e instanceof Error?_0x4a610e['message']:JSON[_0x1f9d0e(0x564)](_0x4a610e,null,0x2)));}}async['uazapiSendMedia'](_0x21e6bc,_0x50ea20){const _0xebbd1f=a0_0x5de833;let _0x3304b0=_0x21e6bc[_0xebbd1f(0x572)];_0x50ea20[_0xebbd1f(0x341)]['remoteJid']&&_0x50ea20[_0xebbd1f(0x341)][_0xebbd1f(0x572)][_0xebbd1f(0x11e)]()!==''&&(_0x3304b0=_0x50ea20[_0xebbd1f(0x341)][_0xebbd1f(0x572)]['trim']()),this[_0xebbd1f(0x4a2)][_0xebbd1f(0x33b)](this['instanceName']+'\x20('+this[_0xebbd1f(0x3c2)][_0xebbd1f(0x265)]+'):\x20Enviando\x20mdia');let _0x5778c0={'number':_0x3304b0,'options':{'delay':_0x50ea20[_0xebbd1f(0x341)]['delay'],'linkPreview':_0x50ea20[_0xebbd1f(0x341)][_0xebbd1f(0x2ad)]},'mediaMessage':{'mediatype':_0x50ea20['uazapi'][_0xebbd1f(0x445)],'caption':_0x50ea20['uazapi'][_0xebbd1f(0x156)],'media':_0x50ea20[_0xebbd1f(0x341)][_0xebbd1f(0xd6)],'fileName':_0x50ea20[_0xebbd1f(0x341)][_0xebbd1f(0x73a)]}};try{let _0x1fa597=await this[_0xebbd1f(0x21a)](_0x5778c0);if(_0x1fa597){let _0x179304={'_id':_0x1fa597[_0xebbd1f(0x298)]['id'],'_fromMe':_0x1fa597[_0xebbd1f(0x298)][_0xebbd1f(0x3ce)],'_remoteJid':_0x1fa597[_0xebbd1f(0x298)]['remoteJid']},_0x5874ae=(0x0,f[_0xebbd1f(0x3cf)])(_0x1fa597[_0xebbd1f(0x37e)]),_0x2eb609=(0x0,f[_0xebbd1f(0xe7)])(_0x5874ae);_0x21e6bc[_0xebbd1f(0x774)][_0xebbd1f(0x713)]=_0x50ea20[_0xebbd1f(0x478)]['toString']();let {message_normalized:_0x28697a}=this[_0xebbd1f(0x2ff)](_0x5874ae,_0x2eb609,null);_0x21e6bc['chatLog'][_0xebbd1f(0x189)]=await _0x28697a;let _0x22a92c={'messageId':_0x1fa597[_0xebbd1f(0x298)]['id']},_0x58da32=_0x21e6bc[_0xebbd1f(0x774)]['realVariables'];Object[_0xebbd1f(0x22c)](_0x58da32,_0x179304),_0x21e6bc[_0xebbd1f(0x774)]['realVariables']=_0x58da32,this[_0xebbd1f(0x1e6)](_0x21e6bc,_0x50ea20,_0x22a92c);}else{let _0x330176={'error':!0x0};this['updateConversation'](_0x21e6bc,_0x50ea20,_0x330176),this['logger'][_0xebbd1f(0x1b8)](this[_0xebbd1f(0x198)]+'\x20('+this[_0xebbd1f(0x3c2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.');}}catch(_0xb4ab5d){let _0x42ef48={'error':!0x0,'errorLog':_0xb4ab5d[_0xebbd1f(0x667)]()};this['updateConversation'](_0x21e6bc,_0x50ea20,_0x42ef48),this['logger'][_0xebbd1f(0x1b8)](this[_0xebbd1f(0x198)]+'\x20('+this[_0xebbd1f(0x3c2)][_0xebbd1f(0x265)]+_0xebbd1f(0x277)+(_0xb4ab5d instanceof Error?_0xb4ab5d[_0xebbd1f(0x37e)]:JSON[_0xebbd1f(0x564)](_0xb4ab5d,null,0x2)));}}async[a0_0x5de833(0x494)](_0x5b75a4,_0x4c5b1d){const _0x151635=a0_0x5de833;let _0x1821f8=_0x5b75a4[_0x151635(0x572)];_0x4c5b1d['uazapi'][_0x151635(0x572)]&&_0x4c5b1d['uazapi']['remoteJid'][_0x151635(0x11e)]()!==''&&(_0x1821f8=_0x4c5b1d['uazapi'][_0x151635(0x572)][_0x151635(0x11e)]()),this[_0x151635(0x4a2)][_0x151635(0x33b)](this[_0x151635(0x198)]+'\x20('+this[_0x151635(0x3c2)][_0x151635(0x265)]+'):\x20Enviando\x20localizao');let _0x2e97f4={'number':_0x1821f8,'options':{'delay':_0x4c5b1d[_0x151635(0x341)][_0x151635(0x254)]},'locationMessage':{'name':_0x4c5b1d[_0x151635(0x341)][_0x151635(0x40f)],'address':_0x4c5b1d[_0x151635(0x341)][_0x151635(0x1b6)],'latitude':_0x4c5b1d['uazapi'][_0x151635(0x6ef)],'longitude':_0x4c5b1d[_0x151635(0x341)]['longitude']}};try{let _0x26b0a7=await this[_0x151635(0x45f)](_0x2e97f4);if(_0x26b0a7){let _0x481c58={'_id':_0x26b0a7[_0x151635(0x298)]['id'],'_fromMe':_0x26b0a7[_0x151635(0x298)][_0x151635(0x3ce)],'_remoteJid':_0x26b0a7[_0x151635(0x298)]['remoteJid']},_0x588f1e=(0x0,f[_0x151635(0x3cf)])(_0x26b0a7[_0x151635(0x37e)]),_0x1746ca=(0x0,f[_0x151635(0xe7)])(_0x588f1e);_0x5b75a4[_0x151635(0x774)][_0x151635(0x713)]=_0x4c5b1d['_id'][_0x151635(0x667)]();let {message_normalized:_0x5e8863}=this[_0x151635(0x2ff)](_0x588f1e,_0x1746ca,null);_0x5b75a4[_0x151635(0x774)][_0x151635(0x189)]=await _0x5e8863;let _0x3f084f={'messageId':_0x26b0a7[_0x151635(0x298)]['id']},_0x27e274=_0x5b75a4[_0x151635(0x774)]['realVariables'];Object[_0x151635(0x22c)](_0x27e274,_0x481c58),_0x5b75a4[_0x151635(0x774)]['realVariables']=_0x27e274,this[_0x151635(0x1e6)](_0x5b75a4,_0x4c5b1d,_0x3f084f);}else{let _0x3eb496={'error':!0x0};this[_0x151635(0x1e6)](_0x5b75a4,_0x4c5b1d,_0x3eb496),this['logger'][_0x151635(0x1b8)](this[_0x151635(0x198)]+'\x20('+this['instance'][_0x151635(0x265)]+_0x151635(0xe5));}}catch(_0x32ed3b){let _0x2506a7={'error':!0x0,'errorLog':_0x32ed3b[_0x151635(0x667)]()};this[_0x151635(0x1e6)](_0x5b75a4,_0x4c5b1d,_0x2506a7),this[_0x151635(0x4a2)][_0x151635(0x1b8)](this['instanceName']+'\x20('+this[_0x151635(0x3c2)][_0x151635(0x265)]+_0x151635(0x3a1)+(_0x32ed3b instanceof Error?_0x32ed3b[_0x151635(0x37e)]:JSON[_0x151635(0x564)](_0x32ed3b,null,0x2)));}}async[a0_0x5de833(0x335)](_0x287181,_0x487616){const _0x519a0e=a0_0x5de833;let _0x415498=_0x287181[_0x519a0e(0x572)];_0x487616[_0x519a0e(0x341)][_0x519a0e(0x572)]&&_0x487616[_0x519a0e(0x341)][_0x519a0e(0x572)][_0x519a0e(0x11e)]()!==''&&(_0x415498=_0x487616[_0x519a0e(0x341)][_0x519a0e(0x572)]['trim']()),this[_0x519a0e(0x4a2)]['verbose'](this[_0x519a0e(0x198)]+'\x20('+this[_0x519a0e(0x3c2)]['wuid']+_0x519a0e(0x551));let _0x35fdb6={'number':_0x415498,'options':{'delay':_0x487616[_0x519a0e(0x341)][_0x519a0e(0x254)]},'audioMessage':{'audio':_0x487616[_0x519a0e(0x341)]['audio']}};try{let _0x502147=await this[_0x519a0e(0x3ff)](_0x35fdb6);if(_0x502147){let _0x3529d7={'_id':_0x502147[_0x519a0e(0x298)]['id'],'_fromMe':_0x502147['key']['fromMe'],'_remoteJid':_0x502147[_0x519a0e(0x298)][_0x519a0e(0x572)]},_0x434f80=(0x0,f[_0x519a0e(0x3cf)])(_0x502147[_0x519a0e(0x37e)]),_0x53115e=(0x0,f[_0x519a0e(0xe7)])(_0x434f80);_0x287181[_0x519a0e(0x774)]['lastBlockId']=_0x487616['_id'][_0x519a0e(0x667)]();let {message_normalized:_0x563d4c}=this[_0x519a0e(0x2ff)](_0x434f80,_0x53115e,null);_0x287181[_0x519a0e(0x774)][_0x519a0e(0x189)]=await _0x563d4c;let _0x574196={'messageId':_0x502147[_0x519a0e(0x298)]['id']},_0xfeb047=_0x287181[_0x519a0e(0x774)][_0x519a0e(0x65d)];Object[_0x519a0e(0x22c)](_0xfeb047,_0x3529d7),_0x287181['chatLog'][_0x519a0e(0x65d)]=_0xfeb047,this[_0x519a0e(0x1e6)](_0x287181,_0x487616,_0x574196);}else{let _0x554e60={'error':!0x0};this['updateConversation'](_0x287181,_0x487616,_0x554e60),this[_0x519a0e(0x4a2)][_0x519a0e(0x1b8)](this[_0x519a0e(0x198)]+'\x20('+this[_0x519a0e(0x3c2)][_0x519a0e(0x265)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0x5a0734){let _0x31d176={'error':!0x0,'errorLog':_0x5a0734[_0x519a0e(0x667)]()};this[_0x519a0e(0x1e6)](_0x287181,_0x487616,_0x31d176),this[_0x519a0e(0x4a2)][_0x519a0e(0x1b8)](this[_0x519a0e(0x198)]+'\x20('+this[_0x519a0e(0x3c2)][_0x519a0e(0x265)]+_0x519a0e(0x4b0)+(_0x5a0734 instanceof Error?_0x5a0734[_0x519a0e(0x37e)]:JSON['stringify'](_0x5a0734,null,0x2)));}}async['uazapiSendContact'](_0x55f514,_0x9db4df){const _0x2cd2fa=a0_0x5de833;let _0x3c798d=_0x55f514['remoteJid'];_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x572)]&&_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x572)][_0x2cd2fa(0x11e)]()!==''&&(_0x3c798d=_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x572)][_0x2cd2fa(0x11e)]()),this[_0x2cd2fa(0x4a2)][_0x2cd2fa(0x33b)](this[_0x2cd2fa(0x198)]+'\x20('+this[_0x2cd2fa(0x3c2)][_0x2cd2fa(0x265)]+_0x2cd2fa(0x701));let _0x9b1aed={'number':_0x3c798d,'options':{'delay':_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x254)]},'contactMessage':[{'fullName':_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x2e4)],'phoneNumber':_0x9db4df[_0x2cd2fa(0x341)][_0x2cd2fa(0x565)]}]};try{let _0x3916e0=await this[_0x2cd2fa(0x475)](_0x9b1aed);if(_0x3916e0){let _0x359663={'_id':_0x3916e0[_0x2cd2fa(0x298)]['id'],'_fromMe':_0x3916e0['key']['fromMe'],'_remoteJid':_0x3916e0['key'][_0x2cd2fa(0x572)]},_0x4614dd=(0x0,f[_0x2cd2fa(0x3cf)])(_0x3916e0[_0x2cd2fa(0x37e)]),_0x2dd509=(0x0,f[_0x2cd2fa(0xe7)])(_0x4614dd);_0x55f514['chatLog'][_0x2cd2fa(0x713)]=_0x9db4df[_0x2cd2fa(0x478)][_0x2cd2fa(0x667)]();let {message_normalized:_0x181d04}=this[_0x2cd2fa(0x2ff)](_0x4614dd,_0x2dd509,null);_0x55f514['chatLog'][_0x2cd2fa(0x189)]=await _0x181d04;let _0xa64f71={'messageId':_0x3916e0[_0x2cd2fa(0x298)]['id']},_0x412291=_0x55f514['chatLog']['realVariables'];Object[_0x2cd2fa(0x22c)](_0x412291,_0x359663),_0x55f514[_0x2cd2fa(0x774)][_0x2cd2fa(0x65d)]=_0x412291,this[_0x2cd2fa(0x1e6)](_0x55f514,_0x9db4df,_0xa64f71);}else{let _0x1ef9dc={'error':!0x0};this[_0x2cd2fa(0x1e6)](_0x55f514,_0x9db4df,_0x1ef9dc),this['logger'][_0x2cd2fa(0x1b8)](this['instanceName']+'\x20('+this[_0x2cd2fa(0x3c2)]['wuid']+_0x2cd2fa(0x33f));}}catch(_0x586511){let _0x4b57ef={'error':!0x0,'errorLog':_0x586511[_0x2cd2fa(0x667)]()};this[_0x2cd2fa(0x1e6)](_0x55f514,_0x9db4df,_0x4b57ef),this[_0x2cd2fa(0x4a2)]['error'](this[_0x2cd2fa(0x198)]+'\x20('+this[_0x2cd2fa(0x3c2)][_0x2cd2fa(0x265)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x586511 instanceof Error?_0x586511[_0x2cd2fa(0x37e)]:JSON['stringify'](_0x586511,null,0x2)));}}[a0_0x5de833(0x2ed)](_0x1c7f59,_0x32c70){const _0x517e4c=a0_0x5de833;for(let _0x94f74b of _0x1c7f59)_0x94f74b[_0x517e4c(0x78d)]&&(_0x94f74b[_0x517e4c(0x78d)]=this['replaceVariables'](_0x94f74b[_0x517e4c(0x78d)],_0x32c70)),_0x94f74b['optionDescription']&&(_0x94f74b[_0x517e4c(0x6f5)]=this['replaceVariables'](_0x94f74b[_0x517e4c(0x6f5)],_0x32c70));}async[a0_0x5de833(0x74d)](_0x1f15f7,_0x302ae4){const _0x28d8a6=a0_0x5de833;let _0x1d9e54=_0x1f15f7['remoteJid'];_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x572)]&&_0x302ae4['uazapi'][_0x28d8a6(0x572)][_0x28d8a6(0x11e)]()!==''&&(_0x1d9e54=_0x302ae4['uazapi'][_0x28d8a6(0x572)][_0x28d8a6(0x11e)]()),this[_0x28d8a6(0x4a2)]['verbose'](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)][_0x28d8a6(0x265)]+'):\x20Enviando\x20enquete');let _0x5d289d=_0x1f15f7[_0x28d8a6(0x287)][_0x28d8a6(0x2f4)](_0x2a8fa8=>_0x2a8fa8[_0x28d8a6(0xbb)]===_0x302ae4['_id'])[_0x28d8a6(0x4c0)]((_0x5c4727,_0x3bbfad)=>_0x5c4727[_0x28d8a6(0x2f3)]-_0x3bbfad['order']);this[_0x28d8a6(0x2ed)](_0x5d289d,_0x1f15f7[_0x28d8a6(0x774)]['realVariables']);let _0x6fc5e5=_0x5d289d[_0x28d8a6(0x4ba)](_0x2e5682=>_0x2e5682[_0x28d8a6(0x78d)]),_0x48b741={'number':_0x1d9e54,'menuMessage':{'type':_0x302ae4['uazapi'][_0x28d8a6(0x34d)]||_0x28d8a6(0x1ae),'text':_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x1d2)]||_0x302ae4[_0x28d8a6(0x341)]['name'],'footerText':_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x703)],'buttonText':_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x26a)],'selectableCount':0x1,'choices':_0x6fc5e5},'options':{'delay':_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x254)]}};try{let _0x2d9754=await this[_0x28d8a6(0x2b2)](_0x48b741);if(_0x2d9754){let _0x48b83e={'_id':_0x2d9754[_0x28d8a6(0x298)]['id'],'_fromMe':_0x2d9754['key']['fromMe'],'_remoteJid':_0x2d9754[_0x28d8a6(0x298)][_0x28d8a6(0x572)]};_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x458)]===!0x0&&(_0x1f15f7[_0x28d8a6(0x620)]=_0x28d8a6(0xc7),this['logger'][_0x28d8a6(0x33b)](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)][_0x28d8a6(0x265)]+_0x28d8a6(0x292)+_0x1f15f7[_0x28d8a6(0x620)])),this[_0x28d8a6(0x4a2)][_0x28d8a6(0x33b)](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x40f)]||_0x302ae4['uazapi'][_0x28d8a6(0x1d2)])),_0x1f15f7[_0x28d8a6(0x391)]=_0x2d9754['key']['id'],_0x1f15f7[_0x28d8a6(0x491)]=_0x302ae4['uazapi']['name']||_0x302ae4['uazapi'][_0x28d8a6(0x1d2)],_0x1f15f7[_0x28d8a6(0x249)]=_0x5d289d,_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x314)]&&(_0x1f15f7['waitingMenu_ExpiredMessage']=_0x302ae4[_0x28d8a6(0x341)][_0x28d8a6(0x314)]),this[_0x28d8a6(0x4a2)][_0x28d8a6(0x33b)](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)][_0x28d8a6(0x265)]+_0x28d8a6(0x64d)+_0x1f15f7[_0x28d8a6(0x491)]);let _0x581516=(0x0,f[_0x28d8a6(0x3cf)])(_0x2d9754[_0x28d8a6(0x37e)]),_0x150e81=(0x0,f['getContentType'])(_0x581516);_0x1f15f7['chatLog'][_0x28d8a6(0x713)]=_0x302ae4[_0x28d8a6(0x478)]['toString']();let {message_normalized:_0x17c607}=this[_0x28d8a6(0x2ff)](_0x581516,_0x150e81,null);_0x1f15f7[_0x28d8a6(0x774)][_0x28d8a6(0x189)]=await _0x17c607;let _0x2815f9={'messageId':_0x2d9754[_0x28d8a6(0x298)]['id']},_0x3defb2=_0x1f15f7['chatLog'][_0x28d8a6(0x65d)];Object[_0x28d8a6(0x22c)](_0x3defb2,_0x48b83e),_0x1f15f7[_0x28d8a6(0x774)]['realVariables']=_0x3defb2,this[_0x28d8a6(0x1e6)](_0x1f15f7,_0x302ae4,_0x2815f9);}else{let _0x2934f7={'error':!0x0};this[_0x28d8a6(0x1e6)](_0x1f15f7,_0x302ae4,_0x2934f7),this[_0x28d8a6(0x4a2)][_0x28d8a6(0x1b8)](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)]['wuid']+_0x28d8a6(0x31e));}}catch(_0x175306){let _0x1a2b42={'error':!0x0,'errorLog':_0x175306 instanceof Error?_0x175306[_0x28d8a6(0x37e)]:JSON[_0x28d8a6(0x564)](_0x175306,null,0x2)};this[_0x28d8a6(0x1e6)](_0x1f15f7,_0x302ae4,_0x1a2b42),this[_0x28d8a6(0x4a2)][_0x28d8a6(0x1b8)](this[_0x28d8a6(0x198)]+'\x20('+this[_0x28d8a6(0x3c2)][_0x28d8a6(0x265)]+_0x28d8a6(0x66b)+(_0x175306 instanceof Error?_0x175306[_0x28d8a6(0x37e)]:JSON[_0x28d8a6(0x564)](_0x175306,null,0x2)));}}async['uazapiDeleteMessage'](_0x48fc86,_0x4563ef){const _0x25af23=a0_0x5de833;this[_0x25af23(0x4a2)]['verbose'](this['instanceName']+'\x20('+this[_0x25af23(0x3c2)][_0x25af23(0x265)]+_0x25af23(0x3bf));let _0x5025d4=_0x48fc86[_0x25af23(0x774)][_0x25af23(0x94)][_0x25af23(0x781)](_0x2bb12d=>_0x2bb12d[_0x25af23(0xbb)][_0x25af23(0x667)]()===_0x4563ef[_0x25af23(0x341)]['blockId'][_0x25af23(0x667)]()),_0x3513ec={'id':_0x5025d4['messageId'],'remoteJid':_0x5025d4[_0x25af23(0x572)],'fromMe':_0x5025d4[_0x25af23(0x3ce)]};try{let _0x7ba7d3=await this[_0x25af23(0x1cc)](_0x3513ec);if(_0x7ba7d3){let _0x101dfc=(0x0,f[_0x25af23(0x3cf)])(_0x7ba7d3[_0x25af23(0x37e)]),_0x50fa07=(0x0,f[_0x25af23(0xe7)])(_0x101dfc);_0x48fc86[_0x25af23(0x774)]['lastBlockId']=_0x4563ef[_0x25af23(0x478)][_0x25af23(0x667)]();let {message_normalized:_0x5449f6}=this[_0x25af23(0x2ff)](_0x101dfc,_0x50fa07,null);_0x48fc86['chatLog']['lastSendMessage']=await _0x5449f6;let _0x4949c3={};this[_0x25af23(0x1e6)](_0x48fc86,_0x4563ef,_0x4949c3);}else{let _0x5e14ee={'error':!0x0};this[_0x25af23(0x1e6)](_0x48fc86,_0x4563ef,_0x5e14ee),this[_0x25af23(0x4a2)]['error'](this[_0x25af23(0x198)]+'\x20('+this[_0x25af23(0x3c2)][_0x25af23(0x265)]+_0x25af23(0x2cf));}}catch(_0x2bd92d){let _0x257ace={'error':!0x0,'errorLog':_0x2bd92d instanceof Error?_0x2bd92d[_0x25af23(0x37e)]:JSON[_0x25af23(0x564)](_0x2bd92d,null,0x2)};this[_0x25af23(0x1e6)](_0x48fc86,_0x4563ef,_0x257ace),this[_0x25af23(0x4a2)][_0x25af23(0x1b8)](this[_0x25af23(0x198)]+'\x20('+this['instance']['wuid']+_0x25af23(0x58d)+(_0x2bd92d instanceof Error?_0x2bd92d[_0x25af23(0x37e)]:JSON[_0x25af23(0x564)](_0x2bd92d,null,0x2)));}}async[a0_0x5de833(0x657)](_0x53f93a,_0x315b26){const _0x1b5aea=a0_0x5de833;if(!_0x53f93a[_0x1b5aea(0x40f)])throw new m('O\x20nome\x20do\x20fluxo\x20\x20obrigatrio');let _0x2a568b=_0x53f93a?.[_0x1b5aea(0x1b2)]?.[_0x1b5aea(0x11e)]()===_0x1b5aea(0x55a)?'global':this[_0x1b5aea(0x3c2)]['wuid'],_0x3db30c=await this['repository'][_0x1b5aea(0x594)][_0x1b5aea(0x782)]({'where':{'name':_0x53f93a[_0x1b5aea(0x40f)]}},_0x2a568b);if(_0x315b26!==ee&&_0x53f93a?.[_0x1b5aea(0x1b2)]==='true')throw new m(_0x1b5aea(0x2c2));if(_0x53f93a?.['global']!==_0x1b5aea(0x55a)&&(_0x53f93a[_0x1b5aea(0x1b2)]='false'),_0x3db30c)throw new m('J\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x1b5aea(0x40f)in _0x53f93a&&'sharePass'in _0x53f93a&&_0x1b5aea(0x215)in _0x53f93a?this[_0x1b5aea(0x223)](_0x53f93a[_0x1b5aea(0x215)],_0x53f93a[_0x1b5aea(0xd8)],_0x53f93a[_0x1b5aea(0x40f)]):this[_0x1b5aea(0x32a)](_0x53f93a);}async[a0_0x5de833(0x223)](_0x15560d,_0x4cea97,_0x4476bf){const _0xe4223b=a0_0x5de833;try{this[_0xe4223b(0x4a2)][_0xe4223b(0x33b)](this[_0xe4223b(0x198)]+'\x20('+this[_0xe4223b(0x3c2)][_0xe4223b(0x265)]+_0xe4223b(0x3f8));let _0x163bac=await this['repository']['flow'][_0xe4223b(0x782)]({'where':{'sharePass':_0x4cea97}},_0x15560d);if(!_0x163bac)throw new m(_0xe4223b(0x725));let _0x43ea9c={..._0x163bac},_0x492cec=_0x163bac[_0xe4223b(0x1b2)]===_0xe4223b(0x55a)?_0xe4223b(0x1b2):_0x163bac[_0xe4223b(0x215)];return(_0x15560d===_0xe4223b(0x1b2)||_0x163bac['global']===_0xe4223b(0x55a))&&(_0x43ea9c[_0xe4223b(0x1b2)]=_0xe4223b(0x362),_0x43ea9c[_0xe4223b(0x215)]=_0xe4223b(0x1b2)),_0x43ea9c[_0xe4223b(0x104)]=Array[_0xe4223b(0x4a6)](new Set([..._0x163bac[_0xe4223b(0x104)]||[],_0x492cec,this[_0xe4223b(0x3c2)]['wuid']])),_0x163bac[_0xe4223b(0x104)]=_0x43ea9c[_0xe4223b(0x104)],await this[_0xe4223b(0x719)][_0xe4223b(0x594)][_0xe4223b(0x4fc)](_0x163bac[_0xe4223b(0x478)],{'shareOwners':_0x163bac[_0xe4223b(0x104)]},_0x492cec),_0x163bac[_0xe4223b(0x1a6)]===!0x0&&await this[_0xe4223b(0x719)][_0xe4223b(0x594)][_0xe4223b(0x1dc)]({},{'default':!0x1},this[_0xe4223b(0x3c2)][_0xe4223b(0x265)]),_0x43ea9c[_0xe4223b(0x215)]=this[_0xe4223b(0x3c2)]['wuid'],await this[_0xe4223b(0x719)][_0xe4223b(0x594)][_0xe4223b(0x5e5)](_0x43ea9c,this[_0xe4223b(0x3c2)][_0xe4223b(0x265)]);}catch(_0x2bc705){let _0x4528e4=_0xe4223b(0x14a),_0x576484=_0x2bc705 instanceof Error?_0x2bc705[_0xe4223b(0x37e)]:typeof _0x2bc705==_0xe4223b(0x31d)?JSON[_0xe4223b(0x564)](_0x2bc705):_0x2bc705,_0x291f45=_0x4528e4+':\x20'+_0x576484;throw this[_0xe4223b(0x4a2)][_0xe4223b(0x1b8)](this['instanceName']+'\x20('+this[_0xe4223b(0x3c2)]['wuid']+_0xe4223b(0x574)+_0x291f45),new m(_0x291f45);}}async[a0_0x5de833(0x32a)](_0x1040f8){const _0x1fb2a8=a0_0x5de833;try{this[_0x1fb2a8(0x4a2)]['verbose'](this[_0x1fb2a8(0x198)]+'\x20('+this['instance']['wuid']+_0x1fb2a8(0x1d6));let _0x5b1375=_0x1040f8?.[_0x1fb2a8(0x1b2)]===_0x1fb2a8(0x55a)?'global':this[_0x1fb2a8(0x3c2)][_0x1fb2a8(0x265)];delete _0x1040f8[_0x1fb2a8(0x104)],delete _0x1040f8['sharePass'],delete _0x1040f8[_0x1fb2a8(0x215)],_0x1040f8[_0x1fb2a8(0x1a6)]===!0x0&&await this[_0x1fb2a8(0x719)][_0x1fb2a8(0x594)]['updateMany']({},{'default':!0x1},this[_0x1fb2a8(0x3c2)]['wuid']);let _0x185135=new re[(_0x1fb2a8(0x375))][(_0x1fb2a8(0x579))](),_0x1c5786={'_id':_0x185135,'default':!0x0,'title':'Incio','x':0x0,'y':0x0},_0x25be3d={'_id':new re[(_0x1fb2a8(0x375))][(_0x1fb2a8(0x579))](),'order':0x1,'groupId':_0x185135[_0x1fb2a8(0x667)](),'type':_0x1fb2a8(0x776)},_0x1ccb42={'_id':new re['Types'][(_0x1fb2a8(0x579))](),'owner':this[_0x1fb2a8(0x3c2)][_0x1fb2a8(0x265)],'name':_0x1040f8[_0x1fb2a8(0x40f)],'groups':[_0x1c5786],'blocks':[_0x25be3d],..._0x1040f8};return await this[_0x1fb2a8(0x719)][_0x1fb2a8(0x594)][_0x1fb2a8(0x5e5)](_0x1ccb42,_0x5b1375);}catch(_0x8e13b6){let _0x4c7b81=_0x1fb2a8(0xcf),_0x3d8a91=_0x8e13b6 instanceof Error?_0x8e13b6[_0x1fb2a8(0x37e)]:typeof _0x8e13b6==_0x1fb2a8(0x31d)?JSON[_0x1fb2a8(0x564)](_0x8e13b6):_0x8e13b6,_0x340ef2=_0x4c7b81+':\x20'+_0x3d8a91;throw this[_0x1fb2a8(0x4a2)]['error'](this[_0x1fb2a8(0x198)]+'\x20('+this[_0x1fb2a8(0x3c2)][_0x1fb2a8(0x265)]+_0x1fb2a8(0x574)+_0x340ef2),new m(_0x340ef2);}}async['synchronizeFlows'](_0x16045a,_0x448785){const _0x25210a=a0_0x5de833;this['logger'][_0x25210a(0x2c3)](_0x25210a(0x4b9));try{let _0x1844d5=await this[_0x25210a(0x719)][_0x25210a(0x594)]['findOne']({'where':{'_id':_0x16045a}},_0x448785);if(delete _0x1844d5['default'],delete _0x1844d5['startCommandWord'],delete _0x1844d5[_0x25210a(0x78c)],delete _0x1844d5[_0x25210a(0x41b)],delete _0x1844d5[_0x25210a(0x42c)],_0x1844d5['global']===_0x25210a(0x55a)&&(_0x1844d5[_0x25210a(0x1b2)]=_0x25210a(0x362)),_0x1844d5&&_0x1844d5['shareOwners']){for(let _0x1a6e4e of _0x1844d5[_0x25210a(0x104)])if(_0x1a6e4e!==_0x448785){let _0xefb396={..._0x1844d5,'owner':_0x1a6e4e};await this['repository']['flow'][_0x25210a(0x51f)](_0x1844d5[_0x25210a(0x478)],_0xefb396,_0x1a6e4e);}}}catch(_0x4c48ba){this[_0x25210a(0x4a2)]['error'](_0x25210a(0xd1)+_0x4c48ba);}}async['deleteFlow'](_0x5b7516,_0x5050a0){const _0x31387d=a0_0x5de833;try{this[_0x31387d(0x4a2)][_0x31387d(0x33b)](this[_0x31387d(0x198)]+'\x20('+this[_0x31387d(0x3c2)][_0x31387d(0x265)]+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0x5b7516['name']+_0x31387d(0x3dd)+_0x5b7516['global']);let _0xc49646=_0x5b7516[_0x31387d(0x1b2)]===_0x31387d(0x55a)?'global':this[_0x31387d(0x3c2)]['wuid'],_0x31fcd6=await this[_0x31387d(0x719)][_0x31387d(0x594)][_0x31387d(0x782)]({'where':{'name':_0x5b7516[_0x31387d(0x40f)]}},_0xc49646);if(!_0x31fcd6)throw new m(_0x31387d(0x761));if(_0x5050a0!==ee&&_0x31fcd6?.[_0x31387d(0x1b2)]===_0x31387d(0x55a)&&_0x31fcd6?.[_0x31387d(0x215)]!==this[_0x31387d(0x3c2)][_0x31387d(0x265)])throw new m(_0x31387d(0x2b4));if(_0x31fcd6&&_0x31fcd6[_0x31387d(0x104)]&&_0x31fcd6[_0x31387d(0x104)][_0x31387d(0x612)]>0x0){for(let _0x256fe3 of _0x31fcd6[_0x31387d(0x104)])if(_0x256fe3!==_0xc49646){let _0x218924=await this['repository']['flow'][_0x31387d(0x782)]({'where':{'sharePass':_0x31fcd6[_0x31387d(0xd8)]}},_0x256fe3);if(_0x218924){_0x218924['shareOwners']=_0x218924[_0x31387d(0x104)][_0x31387d(0x2f4)](_0x3cfbb0=>_0x3cfbb0!==_0x31fcd6[_0x31387d(0x215)]);let _0x2e5061={'shareOwners':_0x218924[_0x31387d(0x104)]};_0x31fcd6[_0x31387d(0x1b2)]==='true'&&(_0x2e5061[_0x31387d(0x1b2)]=_0x31387d(0x390)),await this[_0x31387d(0x719)][_0x31387d(0x594)][_0x31387d(0x4fc)](_0x218924[_0x31387d(0x478)],_0x2e5061,_0x256fe3);}}}return await this[_0x31387d(0x719)]['flow'][_0x31387d(0x57d)]({'where':{'name':_0x5b7516[_0x31387d(0x40f)]}},_0xc49646);}catch(_0x5990fa){return this['logger'][_0x31387d(0x1b8)](this[_0x31387d(0x198)]+'\x20('+this[_0x31387d(0x3c2)][_0x31387d(0x265)]+_0x31387d(0x3de)+(_0x5990fa instanceof Error?_0x5990fa[_0x31387d(0x37e)]:JSON['stringify'](_0x5990fa,null,0x2))),{'message':_0x31387d(0x7ad)+_0x5990fa[_0x31387d(0x37e)]};}}async[a0_0x5de833(0x3c6)](_0x30e2cd,_0x1fe5ab){const _0x42cbf5=a0_0x5de833;try{this['logger']['info'](this[_0x42cbf5(0x198)]+'\x20('+this[_0x42cbf5(0x3c2)]['wuid']+_0x42cbf5(0xc5)+_0x30e2cd+_0x42cbf5(0x225)+_0x1fe5ab);let _0x4576df=_0x1fe5ab?.[_0x42cbf5(0x11e)]()===_0x42cbf5(0x55a)?_0x42cbf5(0x1b2):this[_0x42cbf5(0x3c2)]['wuid'],_0x5dd4dc=await this[_0x42cbf5(0x719)][_0x42cbf5(0x594)]['findOne']({'where':{'name':_0x30e2cd}},_0x4576df);if(!_0x5dd4dc)throw new Error(_0x42cbf5(0x627));if(_0x5dd4dc[_0x42cbf5(0x366)]||(_0x5dd4dc[_0x42cbf5(0x366)]=(0x0,Me['v4'])()),!this['AutomateSystem']&&(await this[_0x42cbf5(0x516)](),!this['AutomateSystem']))return null;let _0x34ec5f=this[_0x42cbf5(0x30d)]?.[_0x42cbf5(0x501)][_0x42cbf5(0x4ba)](_0x1e8bee=>_0x1e8bee[_0x42cbf5(0x40f)]),_0x28d033=[_0x42cbf5(0x1f4),_0x42cbf5(0x1aa),'email',_0x42cbf5(0x4d6),_0x42cbf5(0x620),_0x42cbf5(0x407),'responsavelid','tags',_0x42cbf5(0x33e),_0x42cbf5(0x2aa),'atendimentoAberto'];_0x5dd4dc[_0x42cbf5(0x453)]=_0x5dd4dc['variables']['filter'](_0x20f7ea=>!(_0x20f7ea[_0x42cbf5(0x245)]===_0x42cbf5(0x4a4)||_0x20f7ea['leadInfo'])),_0x28d033['forEach'](_0x923db3=>{const _0x49734b=_0x42cbf5;_0x5dd4dc['variables'][_0x49734b(0x2c5)]({'folder':_0x49734b(0x4a4),'name':_0x923db3,'value':'','doc':'','leadInfo':!0x0});}),_0x34ec5f[_0x42cbf5(0x1b4)](_0x3031d7=>{const _0x58ac3e=_0x42cbf5;let _0x152de1=_0x5dd4dc['variables']['findIndex'](_0x54acb2=>_0x54acb2['name']===_0x3031d7);_0x152de1===-0x1?_0x5dd4dc[_0x58ac3e(0x453)]['push']({'folder':_0x58ac3e(0x4a4),'name':_0x3031d7,'value':'','doc':'','leadInfo':!0x0}):(_0x5dd4dc[_0x58ac3e(0x453)][_0x152de1][_0x58ac3e(0x245)]='leadInfo',_0x5dd4dc[_0x58ac3e(0x453)][_0x152de1][_0x58ac3e(0x4a4)]=!0x0);}),_0x5dd4dc[_0x42cbf5(0xfb)]&&_0x5dd4dc[_0x42cbf5(0xfb)][_0x42cbf5(0x612)]>0x0&&_0x5dd4dc[_0x42cbf5(0xfb)][_0x42cbf5(0x1b4)](_0x159b41=>{const _0x1326e2=_0x42cbf5;_0x159b41['groupId']&&_0x159b41[_0x1326e2(0x4cb)]&&_0x159b41[_0x1326e2(0x4b1)]===_0x159b41[_0x1326e2(0x4cb)]&&(_0x159b41['next_groupId']=null);});let _0x180c87=await this[_0x42cbf5(0x719)]['flow'][_0x42cbf5(0x4fc)](_0x5dd4dc[_0x42cbf5(0x478)],_0x5dd4dc,_0x4576df);if(!_0x180c87)throw new Error(_0x42cbf5(0x4f7));return _0x180c87;}catch(_0x299043){let _0x5eada1='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x210eef=_0x299043 instanceof Error?_0x299043[_0x42cbf5(0x37e)]:typeof _0x299043=='object'?JSON[_0x42cbf5(0x564)](_0x299043):_0x299043,_0x10c6ed=_0x5eada1+':\x20'+_0x210eef;throw this[_0x42cbf5(0x4a2)][_0x42cbf5(0x1b8)](this[_0x42cbf5(0x198)]+'\x20('+this['instance'][_0x42cbf5(0x265)]+'):\x20'+_0x10c6ed),new m(_0x10c6ed);}}async[a0_0x5de833(0x6e0)](){const _0x265a49=a0_0x5de833;try{this[_0x265a49(0x4a2)][_0x265a49(0x33b)](this[_0x265a49(0x198)]+'\x20('+this['instance']['wuid']+_0x265a49(0x6dc)),await this[_0x265a49(0x719)][_0x265a49(0x594)][_0x265a49(0x3d0)](this['instance'][_0x265a49(0x265)]);let _0x30e04d=await this[_0x265a49(0x719)][_0x265a49(0x594)][_0x265a49(0x530)]({'where':{}},this[_0x265a49(0x3c2)][_0x265a49(0x265)]),_0x31c8ff=await this[_0x265a49(0x719)]['flow'][_0x265a49(0x530)]({'where':{}},_0x265a49(0x1b2));return _0x30e04d[_0x265a49(0x757)](_0x31c8ff);}catch(_0x1860d5){return this['logger'][_0x265a49(0x1b8)](this[_0x265a49(0x198)]+'\x20('+this['instance'][_0x265a49(0x265)]+_0x265a49(0x6d0)+(_0x1860d5 instanceof Error?_0x1860d5['message']:JSON[_0x265a49(0x564)](_0x1860d5,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x1860d5[_0x265a49(0x37e)]};}}async[a0_0x5de833(0x786)](_0x39369c,_0x13bbb7){const _0x4fe16d=a0_0x5de833;try{this['logger'][_0x4fe16d(0x33b)](this['instanceName']+'\x20('+this[_0x4fe16d(0x3c2)][_0x4fe16d(0x265)]+_0x4fe16d(0x65e));let _0x26cbef=_0x39369c?.['global']?.['trim']()===_0x4fe16d(0x55a)?_0x4fe16d(0x1b2):this[_0x4fe16d(0x3c2)][_0x4fe16d(0x265)],_0xd7744e=await this['repository'][_0x4fe16d(0x594)][_0x4fe16d(0x782)]({'where':{'name':_0x39369c['name']}},_0x26cbef);if(!_0xd7744e)return{'message':'Fluxo\x20no\x20encontrado'};if(_0x13bbb7!==ee&&_0xd7744e?.[_0x4fe16d(0x1b2)]===_0x4fe16d(0x55a)&&_0xd7744e?.[_0x4fe16d(0x215)]!==this[_0x4fe16d(0x3c2)]['wuid'])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');_0xd7744e?.[_0x4fe16d(0x1b2)]===_0x4fe16d(0x362)&&(_0x39369c={'default':_0x39369c[_0x4fe16d(0x1a6)],'minutesToClose':_0x39369c[_0x4fe16d(0x41b)],'readMessages':_0x39369c[_0x4fe16d(0x42c)],'testingWith':_0x39369c[_0x4fe16d(0x78c)],'startCommandWord':_0x39369c[_0x4fe16d(0xa4)]}),_0x39369c['default']===!0x0&&_0xd7744e?.[_0x4fe16d(0x1b2)]!==_0x4fe16d(0x55a)&&await this[_0x4fe16d(0x719)][_0x4fe16d(0x594)][_0x4fe16d(0x1dc)]({},{'default':!0x1},_0x26cbef),delete _0x39369c[_0x4fe16d(0x104)],delete _0x39369c[_0x4fe16d(0xd8)],delete _0x39369c['global'];let _0x3a0f95=await this['repository']['flow'][_0x4fe16d(0x4fc)](_0xd7744e[_0x4fe16d(0x478)],_0x39369c,_0x26cbef);return _0x3a0f95&&_0x3a0f95[_0x4fe16d(0x104)]&&_0x3a0f95[_0x4fe16d(0x104)]['length']>0x1&&_0x3a0f95[_0x4fe16d(0x1b2)]!==_0x4fe16d(0x362)&&this[_0x4fe16d(0x67d)](_0x3a0f95['_id'],_0x26cbef),_0x3a0f95;}catch(_0x57f466){let _0x199f39=_0x4fe16d(0x211),_0x4ed810=_0x57f466 instanceof Error?_0x57f466[_0x4fe16d(0x37e)]:typeof _0x57f466==_0x4fe16d(0x31d)?JSON[_0x4fe16d(0x564)](_0x57f466):_0x57f466,_0x576df1=_0x199f39+':\x20'+_0x4ed810;throw this[_0x4fe16d(0x4a2)]['error'](this[_0x4fe16d(0x198)]+'\x20('+this[_0x4fe16d(0x3c2)][_0x4fe16d(0x265)]+_0x4fe16d(0x574)+_0x576df1),new m(_0x576df1);}}async[a0_0x5de833(0x373)](_0x1119c7,_0x1b6b12){const _0x852f67=a0_0x5de833;try{this[_0x852f67(0x4a2)][_0x852f67(0x33b)](this['instanceName']+'\x20('+this[_0x852f67(0x3c2)][_0x852f67(0x265)]+_0x852f67(0x365));let _0x58b87e=_0x1119c7?.[_0x852f67(0x1b2)]?.[_0x852f67(0x11e)]()===_0x852f67(0x55a)?_0x852f67(0x1b2):this['instance']['wuid'],_0x15557b=await this[_0x852f67(0x719)][_0x852f67(0x594)][_0x852f67(0x782)]({'where':{'name':_0x1119c7[_0x852f67(0x40f)]}},_0x58b87e);if(_0x15557b||this['throwAndLogError'](_0x852f67(0x627)),_0x15557b?.[_0x852f67(0x1b2)]===_0x852f67(0x362))throw new m(_0x852f67(0x528));if(_0x1b6b12!==ee&&_0x15557b?.[_0x852f67(0x1b2)]==='true'&&_0x15557b?.['owner']!==this[_0x852f67(0x3c2)][_0x852f67(0x265)])throw new m(_0x852f67(0x742));let {block:_0x4376b3}=_0x1119c7;_0x4376b3?.[_0x852f67(0x6b2)]?this[_0x852f67(0x268)](_0x15557b,_0x1119c7):_0x4376b3?.[_0x852f67(0xb9)]?this[_0x852f67(0x454)](_0x15557b,_0x1119c7):_0x4376b3[_0x852f67(0x478)]?await this[_0x852f67(0x2d1)](_0x15557b,_0x1119c7):this[_0x852f67(0x770)](_0x15557b,_0x1119c7);let _0x2c2e90=await this[_0x852f67(0x719)][_0x852f67(0x594)][_0x852f67(0x4fc)](_0x15557b[_0x852f67(0x478)],_0x15557b,_0x58b87e);if(_0x2c2e90&&_0x2c2e90[_0x852f67(0x104)]&&_0x2c2e90['shareOwners'][_0x852f67(0x612)]>0x1&&this[_0x852f67(0x67d)](_0x2c2e90[_0x852f67(0x478)],this[_0x852f67(0x3c2)][_0x852f67(0x265)]),!_0x2c2e90)throw new Error(_0x852f67(0x4f7));return _0x2c2e90;}catch(_0x224604){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x224604[_0x852f67(0x37e)]);}}async[a0_0x5de833(0x268)](_0x1c27a1,_0x13dfaf){const _0x414349=a0_0x5de833;let _0x2f5057=_0x13dfaf[_0x414349(0x7b3)]['_id'],_0x13f4d8=_0x1c27a1[_0x414349(0xfb)][_0x414349(0x781)](_0x11d644=>_0x11d644['_id'][_0x414349(0x667)]()===_0x2f5057);if(!_0x13f4d8){this['logger'][_0x414349(0x1b8)](this[_0x414349(0x198)]+'\x20('+this[_0x414349(0x3c2)]['wuid']+_0x414349(0x380)+_0x2f5057+'\x20no\x20encontrado\x20para\x20cpia');return;}this[_0x414349(0x4a2)]['verbose'](this[_0x414349(0x198)]+'\x20('+this[_0x414349(0x3c2)]['wuid']+_0x414349(0x54b)+JSON['stringify'](_0x13f4d8));let _0x422ed9=JSON[_0x414349(0x46c)](JSON[_0x414349(0x564)](_0x13f4d8));_0x422ed9[_0x414349(0x478)]=new re[(_0x414349(0x1a6))][(_0x414349(0x375))][(_0x414349(0x579))](),this[_0x414349(0x4a2)][_0x414349(0x33b)](this['instanceName']+'\x20('+this[_0x414349(0x3c2)][_0x414349(0x265)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x414349(0x564)](_0x422ed9)),_0x1c27a1[_0x414349(0xfb)]['push'](_0x422ed9),this['reorderBlocks'](_0x1c27a1[_0x414349(0xfb)],_0x422ed9[_0x414349(0x4b1)]);}[a0_0x5de833(0x6f0)](_0x4640a8){const _0x35e8d6=a0_0x5de833;throw this[_0x35e8d6(0x4a2)][_0x35e8d6(0x1b8)](this[_0x35e8d6(0x198)]+'\x20('+this[_0x35e8d6(0x3c2)]['wuid']+'):\x20'+_0x4640a8),new m(_0x4640a8);}[a0_0x5de833(0x454)](_0x3a3872,_0x31315e){const _0x251b2b=a0_0x5de833;let {block:_0x2a0782}=_0x31315e;if(_0x2a0782[_0x251b2b(0x300)]==='start'){this['throwAndLogError'](_0x251b2b(0x328));return;}if(!_0x2a0782[_0x251b2b(0x478)]){this[_0x251b2b(0x6f0)](_0x251b2b(0x3be));return;}let _0x1f00b2=_0x3a3872[_0x251b2b(0xfb)][_0x251b2b(0x781)](_0x2ffbe5=>_0x2ffbe5[_0x251b2b(0x478)][_0x251b2b(0x667)]()===_0x31315e['block'][_0x251b2b(0x478)][_0x251b2b(0x667)]());if(!_0x1f00b2){this[_0x251b2b(0x6f0)](_0x251b2b(0xfe)+_0x2a0782[_0x251b2b(0x478)]+_0x251b2b(0x168));return;}_0x3a3872[_0x251b2b(0xfb)]=_0x3a3872['blocks'][_0x251b2b(0x2f4)](_0x35d396=>_0x35d396[_0x251b2b(0x478)]['toString']()!==_0x31315e[_0x251b2b(0x7b3)][_0x251b2b(0x478)][_0x251b2b(0x667)]()),_0x3a3872['conditions']=_0x3a3872[_0x251b2b(0x621)][_0x251b2b(0x2f4)](_0xe5557=>_0xe5557[_0x251b2b(0xbb)]!==_0x2a0782['_id'][_0x251b2b(0x667)]()),_0x3a3872[_0x251b2b(0x638)]=_0x3a3872[_0x251b2b(0x638)]['filter'](_0x3da91a=>_0x3da91a[_0x251b2b(0xbb)]!==_0x2a0782['_id'][_0x251b2b(0x667)]()),_0x3a3872[_0x251b2b(0x287)]=_0x3a3872[_0x251b2b(0x287)][_0x251b2b(0x2f4)](_0x49cb49=>_0x49cb49[_0x251b2b(0xbb)]!==_0x2a0782[_0x251b2b(0x478)][_0x251b2b(0x667)]()),this[_0x251b2b(0x161)](_0x3a3872[_0x251b2b(0xfb)],_0x1f00b2[_0x251b2b(0x4b1)]);}async['updateBlock'](_0x631ad0,_0x2a7c88){const _0x4f065e=a0_0x5de833;let _0x4d4ee=_0x631ad0[_0x4f065e(0xfb)][_0x4f065e(0x3bc)](_0x24afcd=>_0x24afcd[_0x4f065e(0x478)][_0x4f065e(0x667)]()===_0x2a7c88[_0x4f065e(0x7b3)][_0x4f065e(0x478)][_0x4f065e(0x667)]());if(this[_0x4f065e(0x4a2)][_0x4f065e(0x33b)](this[_0x4f065e(0x198)]+'\x20('+this[_0x4f065e(0x3c2)][_0x4f065e(0x265)]+_0x4f065e(0x363)+_0x4d4ee),_0x4d4ee===-0x1){this[_0x4f065e(0x4a2)][_0x4f065e(0x33b)](_0x4f065e(0xfe)+_0x2a7c88['block'][_0x4f065e(0x478)]+_0x4f065e(0x4e9));return;}if(_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0x300)]==='start'){let _0xa68c89=Object[_0x4f065e(0x4a0)](_0x2a7c88[_0x4f065e(0x7b3)]);if(_0xa68c89[_0x4f065e(0x612)]>0x2||_0xa68c89[_0x4f065e(0x612)]===0x2&&!_0xa68c89['includes'](_0x4f065e(0x4cb))){this[_0x4f065e(0x6f0)](_0x4f065e(0x368));return;}}let _0x2f2e3f=_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0x4b1)];for(let _0xa483dc in _0x2a7c88[_0x4f065e(0x7b3)])_0x2a7c88['block']['hasOwnProperty'](_0xa483dc)&&(_0x631ad0['blocks'][_0x4d4ee][_0xa483dc]=_0x2a7c88[_0x4f065e(0x7b3)][_0xa483dc]);if(this[_0x4f065e(0x4a2)][_0x4f065e(0x33b)](this[_0x4f065e(0x198)]+'\x20('+this[_0x4f065e(0x3c2)][_0x4f065e(0x265)]+_0x4f065e(0x355)+JSON['stringify'](_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee])),_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee]['apirequest']&&_0x4f065e(0x326)in _0x631ad0['blocks'][_0x4d4ee]['apirequest']){this[_0x4f065e(0x4a2)][_0x4f065e(0x33b)](this[_0x4f065e(0x198)]+'\x20('+this[_0x4f065e(0x3c2)]['wuid']+_0x4f065e(0x63f));let _0x38863a=JSON[_0x4f065e(0x564)](_0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x326)],null,0x1);_0x38863a[_0x4f065e(0x612)]>0x2&&(_0x38863a=_0x38863a[_0x4f065e(0x11d)](0x1,_0x38863a[_0x4f065e(0x612)]-0x1)[_0x4f065e(0x11e)]()),_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x247)]=_0x38863a;}if(_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)]&&_0x4f065e(0x721)in _0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)]&&!(_0x4f065e(0x24d)in _0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)])){this[_0x4f065e(0x4a2)][_0x4f065e(0x33b)](this[_0x4f065e(0x198)]+'\x20('+this[_0x4f065e(0x3c2)][_0x4f065e(0x265)]+_0x4f065e(0x70b)),_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee]['apirequest'][_0x4f065e(0x264)]=!0x1;let _0x24a42c=JSON[_0x4f065e(0x564)](_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x721)],null,0x2);_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x24d)]=_0x24a42c;}if(_0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)]&&'bodyString'in _0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)]){_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x264)]=!0x1;let _0x207f33=_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x24d)],_0x49591e=this[_0x4f065e(0x3d1)](_0x207f33);_0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x24d)]=_0x49591e['result'],_0x631ad0['blocks'][_0x4d4ee][_0x4f065e(0xd0)][_0x4f065e(0x264)]=_0x49591e['error'];}let _0x18ece3=_0x631ad0[_0x4f065e(0xfb)][_0x4d4ee][_0x4f065e(0x4b1)];_0x2f2e3f!==_0x18ece3?(this[_0x4f065e(0x161)](_0x631ad0['blocks'],_0x2f2e3f),this[_0x4f065e(0x161)](_0x631ad0['blocks'],_0x18ece3)):this[_0x4f065e(0x161)](_0x631ad0[_0x4f065e(0xfb)],_0x2f2e3f);}[a0_0x5de833(0x3d1)](_0xbdc534){const _0x523ba0=a0_0x5de833;let _0x25bb64='\u205f',_0x193d3e=!0x1,_0x59bde2='';for(let _0x23f2d0=0x0;_0x23f2d0<_0xbdc534[_0x523ba0(0x612)];_0x23f2d0++){let _0x51fed9=_0xbdc534[_0x23f2d0];_0x51fed9==='\x22'&&(_0x23f2d0===0x0||_0xbdc534[_0x23f2d0-0x1]!=='\x5c')&&(_0x193d3e=!_0x193d3e),!(!_0x193d3e&&(_0x51fed9==='\x0a'||_0x51fed9==='\x20'||_0x51fed9===_0x25bb64))&&(_0x59bde2+=_0x51fed9);}let _0x248804={},_0x363881=9876543210.1234,_0x5c18f3=_0x59bde2[_0x523ba0(0x25a)](/\{\{([^}]+)\}\}/g,_0x54411a=>{let _0x14c1f7=_0x54411a,_0x4c2e1b=''+_0x363881;return _0x248804[_0x4c2e1b]=_0x14c1f7,_0x363881+=0.0001,_0x4c2e1b;}),_0x1c5d15='',_0x2124e8=!0x1;try{let _0x3578fc=JSON[_0x523ba0(0x46c)](_0x5c18f3);_0x1c5d15=JSON['stringify'](_0x3578fc,null,0x2),_0x1c5d15=_0x1c5d15[_0x523ba0(0x25a)](/\n( +)/g,(_0x585d8e,_0x58f11b)=>{const _0x41a69e=_0x523ba0;let _0xef6dd7=_0x58f11b[_0x41a69e(0x612)];return'\x0a'+_0x25bb64[_0x41a69e(0x1b1)](_0xef6dd7*0x2);}),_0x1c5d15=_0x1c5d15['replace'](/(\d{10,}\.\d+)/g,_0x5e81a1=>_0x248804[_0x5e81a1]||_0x5e81a1);}catch(_0x3e43b8){console[_0x523ba0(0x1b8)]('Error\x20parsing\x20JSON:',_0x3e43b8),_0x1c5d15=_0xbdc534,_0x2124e8=!0x0;}return{'result':_0x1c5d15,'error':_0x2124e8};}['addBlock'](_0x260e8a,_0x274dde){const _0x57d722=a0_0x5de833;if(_0x274dde['block'][_0x57d722(0x300)]===_0x57d722(0x776)){this[_0x57d722(0x6f0)]('No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro');return;}if(_0x274dde[_0x57d722(0x7b3)]['apirequest']&&_0x57d722(0x326)in _0x274dde[_0x57d722(0x7b3)]['apirequest']){this[_0x57d722(0x4a2)][_0x57d722(0x33b)](this[_0x57d722(0x198)]+'\x20('+this[_0x57d722(0x3c2)][_0x57d722(0x265)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x35cdac=JSON[_0x57d722(0x564)](_0x274dde['block'][_0x57d722(0xd0)][_0x57d722(0x326)],null,0x1);_0x35cdac[_0x57d722(0x612)]>0x2&&(_0x35cdac=_0x35cdac[_0x57d722(0x11d)](0x1,_0x35cdac[_0x57d722(0x612)]-0x1)[_0x57d722(0x11e)]()),_0x274dde[_0x57d722(0x7b3)][_0x57d722(0xd0)]['headerString']=_0x35cdac;}_0x274dde[_0x57d722(0x7b3)][_0x57d722(0xd0)]&&'body'in _0x274dde[_0x57d722(0x7b3)][_0x57d722(0xd0)]&&(this[_0x57d722(0x4a2)][_0x57d722(0x33b)](this[_0x57d722(0x198)]+'\x20('+this[_0x57d722(0x3c2)][_0x57d722(0x265)]+_0x57d722(0x70b)),_0x274dde['block'][_0x57d722(0xd0)]['bodyString']=JSON[_0x57d722(0x564)](_0x274dde[_0x57d722(0x7b3)][_0x57d722(0xd0)][_0x57d722(0x721)],null,0x1)[_0x57d722(0x11e)]()),_0x260e8a[_0x57d722(0xfb)][_0x57d722(0x2c5)](_0x274dde['block']),this['reorderBlocks'](_0x260e8a[_0x57d722(0xfb)],_0x274dde[_0x57d722(0x7b3)][_0x57d722(0x4b1)]);}['reorderBlocks'](_0x1dee12,_0x59f6f4){const _0x1796f1=a0_0x5de833;let _0xa2d951=_0x1dee12[_0x1796f1(0x2f4)](_0x5b794f=>_0x5b794f[_0x1796f1(0x4b1)]===_0x59f6f4);_0xa2d951['sort']((_0x2de467,_0x721f0a)=>_0x2de467[_0x1796f1(0x2f3)]-_0x721f0a['order']),_0xa2d951[_0x1796f1(0x1b4)]((_0x123ccd,_0x327ebc)=>_0x123ccd[_0x1796f1(0x2f3)]=_0x327ebc+0x1);}async[a0_0x5de833(0x1f3)](_0x2e7a33,_0x104968){const _0xf02d7a=a0_0x5de833;try{this[_0xf02d7a(0x4a2)]['verbose'](this[_0xf02d7a(0x198)]+'\x20('+this[_0xf02d7a(0x3c2)][_0xf02d7a(0x265)]+'):\x20Editando\x20replyOption...');let _0x46876d=_0x2e7a33?.[_0xf02d7a(0x1b2)]['trim']()===_0xf02d7a(0x55a)?_0xf02d7a(0x1b2):this['instance'][_0xf02d7a(0x265)];if(!_0x2e7a33||!_0x2e7a33[_0xf02d7a(0x4f1)]){this[_0xf02d7a(0x6f0)](_0xf02d7a(0x741));return;}let _0x37ac82=await this['repository'][_0xf02d7a(0x594)][_0xf02d7a(0x782)]({'where':{'name':_0x2e7a33[_0xf02d7a(0x40f)]}},_0x46876d);if(_0x37ac82||this[_0xf02d7a(0x6f0)](_0xf02d7a(0x627)),_0x37ac82?.['global']==='sync')throw new m(_0xf02d7a(0x528));if(_0x104968!==ee&&_0x37ac82?.[_0xf02d7a(0x1b2)]===_0xf02d7a(0x55a)&&_0x37ac82?.['owner']!==this[_0xf02d7a(0x3c2)][_0xf02d7a(0x265)])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0x4330b1}=_0x2e7a33;_0x4330b1?.['delete']?(this[_0xf02d7a(0x1bb)](_0x37ac82,_0x2e7a33),this[_0xf02d7a(0xc3)](_0x37ac82[_0xf02d7a(0x287)],_0x2e7a33[_0xf02d7a(0x4f1)][_0xf02d7a(0xbb)])):_0x4330b1[_0xf02d7a(0x478)]?(await this[_0xf02d7a(0x552)](_0x37ac82,_0x2e7a33),this[_0xf02d7a(0xc3)](_0x37ac82['replyOptions'],_0x2e7a33[_0xf02d7a(0x4f1)]['blockId'])):(this[_0xf02d7a(0x369)](_0x37ac82,_0x2e7a33),this[_0xf02d7a(0xc3)](_0x37ac82['replyOptions'],_0x2e7a33['replyOption'][_0xf02d7a(0xbb)]));let _0x3ce71d=await this[_0xf02d7a(0x719)][_0xf02d7a(0x594)][_0xf02d7a(0x4fc)](_0x37ac82[_0xf02d7a(0x478)],_0x37ac82,_0x46876d);if(_0x3ce71d&&_0x3ce71d[_0xf02d7a(0x104)]&&_0x3ce71d[_0xf02d7a(0x104)]['length']>0x1&&_0x3ce71d[_0xf02d7a(0x1b2)]!==_0xf02d7a(0x362)&&this[_0xf02d7a(0x67d)](_0x3ce71d['_id'],_0x46876d),!_0x3ce71d)throw new Error(_0xf02d7a(0x4f7));return _0x3ce71d;}catch(_0x409ea6){this[_0xf02d7a(0x6f0)](_0xf02d7a(0x6fd)+_0x409ea6);}}[a0_0x5de833(0xc3)](_0x5e8a47,_0x3552fd){const _0x299325=a0_0x5de833;_0x5e8a47[_0x299325(0x1b4)](_0x1189cf=>{const _0x545b6f=_0x299325;_0x1189cf[_0x545b6f(0xbb)]===_0x3552fd&&_0x1189cf[_0x545b6f(0x2f3)]===void 0x0&&(_0x1189cf[_0x545b6f(0x2f3)]=0x270f);});let _0x17b90c=_0x5e8a47[_0x299325(0x2f4)](_0xa01f69=>_0xa01f69[_0x299325(0xbb)]===_0x3552fd);_0x17b90c[_0x299325(0x4c0)]((_0x3e4fd0,_0x117db0)=>_0x3e4fd0[_0x299325(0x2f3)]-_0x117db0['order']),_0x17b90c[_0x299325(0x1b4)]((_0x4e06e3,_0xed44de)=>{const _0x550d4f=_0x299325;_0x4e06e3[_0x550d4f(0x2f3)]=_0xed44de+0x1;}),_0x5e8a47['forEach'](_0x50af6e=>{const _0x6c5b22=_0x299325;if(_0x50af6e[_0x6c5b22(0xbb)]===_0x3552fd){let _0x14c3f3=_0x17b90c[_0x6c5b22(0x781)](_0x1d468c=>_0x1d468c[_0x6c5b22(0x478)]&&_0x50af6e['_id']&&_0x1d468c['_id']['toString']()===_0x50af6e[_0x6c5b22(0x478)][_0x6c5b22(0x667)]());_0x14c3f3&&(_0x50af6e[_0x6c5b22(0x2f3)]=_0x14c3f3[_0x6c5b22(0x2f3)]);}});}[a0_0x5de833(0x1bb)](_0x48ee68,_0x56a9a4){const _0x49d7fb=a0_0x5de833;let {replyOption:_0x1c5a0e}=_0x56a9a4;if(!_0x1c5a0e['_id']){this['throwAndLogError'](_0x49d7fb(0x73e));return;}if(!_0x48ee68['replyOptions'][_0x49d7fb(0x781)](_0xb4f238=>_0xb4f238[_0x49d7fb(0x478)]['toString']()===_0x56a9a4[_0x49d7fb(0x4f1)][_0x49d7fb(0x478)]['toString']())){this[_0x49d7fb(0x6f0)]('ReplyOption\x20com\x20ID\x20'+_0x1c5a0e[_0x49d7fb(0x478)]+'\x20no\x20encontrado');return;}_0x48ee68[_0x49d7fb(0x287)]=_0x48ee68[_0x49d7fb(0x287)][_0x49d7fb(0x2f4)](_0x215120=>_0x215120[_0x49d7fb(0x478)][_0x49d7fb(0x667)]()!==_0x56a9a4[_0x49d7fb(0x4f1)][_0x49d7fb(0x478)][_0x49d7fb(0x667)]());}async[a0_0x5de833(0x552)](_0x49c0ad,_0x323a4e){const _0x390a3d=a0_0x5de833;let _0x32829b=_0x49c0ad[_0x390a3d(0x287)][_0x390a3d(0x3bc)](_0x27973f=>_0x27973f[_0x390a3d(0x478)][_0x390a3d(0x667)]()===_0x323a4e[_0x390a3d(0x4f1)][_0x390a3d(0x478)]['toString']());if(_0x32829b===-0x1){this[_0x390a3d(0x6f0)](_0x390a3d(0x435)+_0x323a4e[_0x390a3d(0x4f1)][_0x390a3d(0x478)]+_0x390a3d(0x4e9));return;}for(let _0x35a3b8 in _0x323a4e[_0x390a3d(0x4f1)])_0x323a4e[_0x390a3d(0x4f1)][_0x390a3d(0x569)](_0x35a3b8)&&(_0x49c0ad['replyOptions'][_0x32829b][_0x35a3b8]=_0x323a4e[_0x390a3d(0x4f1)][_0x35a3b8]);}[a0_0x5de833(0x369)](_0x2ef59a,_0x41b881){const _0x23943b=a0_0x5de833;_0x2ef59a[_0x23943b(0x287)][_0x23943b(0x2c5)](_0x41b881[_0x23943b(0x4f1)]);}async[a0_0x5de833(0x542)](_0x5ef846,_0x107fb2){const _0x3d4ce5=a0_0x5de833;let _0x4c53af=_0x5ef846?.[_0x3d4ce5(0x1b2)]['trim']()===_0x3d4ce5(0x55a)?_0x3d4ce5(0x1b2):this['instance'][_0x3d4ce5(0x265)];this[_0x3d4ce5(0x4a2)][_0x3d4ce5(0x33b)](this[_0x3d4ce5(0x198)]+'\x20('+this[_0x3d4ce5(0x3c2)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0x4c53af+_0x3d4ce5(0x554)+_0x107fb2+_0x3d4ce5(0x577)+JSON[_0x3d4ce5(0x564)](_0x5ef846,null,0x2));try{this[_0x3d4ce5(0x4a2)]['verbose'](this[_0x3d4ce5(0x198)]+'\x20('+this['instance'][_0x3d4ce5(0x265)]+_0x3d4ce5(0x6ce));let _0x26ad17=await this['repository'][_0x3d4ce5(0x594)]['findOne']({'where':{'name':_0x5ef846[_0x3d4ce5(0x40f)]}},_0x4c53af);if(!_0x26ad17)throw this[_0x3d4ce5(0x4a2)][_0x3d4ce5(0x33b)](this[_0x3d4ce5(0x198)]+'\x20('+this[_0x3d4ce5(0x3c2)]['wuid']+_0x3d4ce5(0x7a6)),new Error(_0x3d4ce5(0x627));if(_0x26ad17?.[_0x3d4ce5(0x1b2)]===_0x3d4ce5(0x362))throw this[_0x3d4ce5(0x4a2)][_0x3d4ce5(0x33b)](this[_0x3d4ce5(0x198)]+'\x20('+this[_0x3d4ce5(0x3c2)]['wuid']+_0x3d4ce5(0x4de)),new m(_0x3d4ce5(0x16e));if(_0x107fb2!==ee&&_0x26ad17?.[_0x3d4ce5(0x1b2)]===_0x3d4ce5(0x55a)&&_0x26ad17?.[_0x3d4ce5(0x215)]!==this['instance'][_0x3d4ce5(0x265)])throw this[_0x3d4ce5(0x4a2)][_0x3d4ce5(0x33b)](this['instanceName']+'\x20('+this[_0x3d4ce5(0x3c2)][_0x3d4ce5(0x265)]+_0x3d4ce5(0x470)),new m(_0x3d4ce5(0x742));if(_0x5ef846['group']&&_0x5ef846['group']?.[_0x3d4ce5(0xb9)]===!0x0){if(this['logger'][_0x3d4ce5(0x33b)](this[_0x3d4ce5(0x198)]+'\x20('+this[_0x3d4ce5(0x3c2)]['wuid']+_0x3d4ce5(0x3a9)),_0x5ef846[_0x3d4ce5(0x3c8)][_0x3d4ce5(0x1a6)]===!0x0)return{'message':_0x3d4ce5(0x17c)};if(_0x26ad17[_0x3d4ce5(0xfb)][_0x3d4ce5(0x3e1)](_0x53245e=>_0x53245e[_0x3d4ce5(0x4b1)][_0x3d4ce5(0x667)]()===_0x5ef846[_0x3d4ce5(0x3c8)]['_id']))return this['logger'][_0x3d4ce5(0x33b)](this[_0x3d4ce5(0x198)]+'\x20('+this[_0x3d4ce5(0x3c2)][_0x3d4ce5(0x265)]+_0x3d4ce5(0x6fa)),{'message':_0x3d4ce5(0x490)};_0x26ad17[_0x3d4ce5(0x291)]=_0x26ad17[_0x3d4ce5(0x291)][_0x3d4ce5(0x2f4)](_0x3dfa46=>_0x3dfa46[_0x3d4ce5(0x478)][_0x3d4ce5(0x667)]()!==_0x5ef846[_0x3d4ce5(0x3c8)][_0x3d4ce5(0x478)]);}else{if(_0x5ef846['group']){if(_0x5ef846[_0x3d4ce5(0x3c8)][_0x3d4ce5(0x1a6)]===!0x0)return{'message':_0x3d4ce5(0x74b)};if(_0x5ef846[_0x3d4ce5(0x3c8)]['_id']){let _0x5c48e4=_0x26ad17[_0x3d4ce5(0x291)]['find'](_0x35f72b=>_0x35f72b[_0x3d4ce5(0x478)][_0x3d4ce5(0x667)]()===_0x5ef846[_0x3d4ce5(0x3c8)][_0x3d4ce5(0x478)]);_0x5c48e4&&(_0x5ef846[_0x3d4ce5(0x3c8)]['x']<0x0&&(_0x5ef846[_0x3d4ce5(0x3c8)]['x']=0x0),_0x5ef846[_0x3d4ce5(0x3c8)]['y']<0x0&&(_0x5ef846[_0x3d4ce5(0x3c8)]['y']=0x0),Object[_0x3d4ce5(0x22c)](_0x5c48e4,_0x5ef846['group']));}else _0x26ad17[_0x3d4ce5(0x291)]['push'](_0x5ef846[_0x3d4ce5(0x3c8)]);}}let _0x5875ea=await this['repository']['flow'][_0x3d4ce5(0x4fc)](_0x26ad17[_0x3d4ce5(0x478)],_0x26ad17,_0x4c53af);if(_0x5875ea&&_0x5875ea[_0x3d4ce5(0x104)]&&_0x5875ea[_0x3d4ce5(0x104)][_0x3d4ce5(0x612)]>0x1&&_0x5875ea[_0x3d4ce5(0x1b2)]!==_0x3d4ce5(0x362)&&this[_0x3d4ce5(0x67d)](_0x5875ea[_0x3d4ce5(0x478)],_0x4c53af),!_0x5875ea)throw new Error(_0x3d4ce5(0x4f7));return _0x5875ea;}catch(_0x500473){let _0x1ff59b=_0x3d4ce5(0x687),_0xb71db=_0x500473 instanceof Error?_0x500473['message']:typeof _0x500473=='object'?JSON[_0x3d4ce5(0x564)](_0x500473):_0x500473,_0x8dcb16=_0x1ff59b+':\x20'+_0xb71db;throw this[_0x3d4ce5(0x4a2)]['error'](this[_0x3d4ce5(0x198)]+'\x20('+this['instance'][_0x3d4ce5(0x265)]+_0x3d4ce5(0x574)+_0x8dcb16),new m(_0x8dcb16);}}async['editFlowCondition'](_0x3c36b7,_0x1f52a7){const _0xacaf8d=a0_0x5de833;try{this[_0xacaf8d(0x4a2)][_0xacaf8d(0x33b)](this[_0xacaf8d(0x198)]+'\x20('+this[_0xacaf8d(0x3c2)][_0xacaf8d(0x265)]+'):\x20Editando\x20condio\x20do\x20fluxo...');let _0x3561ed=_0x3c36b7?.[_0xacaf8d(0x1b2)][_0xacaf8d(0x11e)]()===_0xacaf8d(0x55a)?_0xacaf8d(0x1b2):this[_0xacaf8d(0x3c2)][_0xacaf8d(0x265)],_0x33cfbb=await this['repository'][_0xacaf8d(0x594)]['findOne']({'where':{'name':_0x3c36b7[_0xacaf8d(0x40f)]}},_0x3561ed);if(!_0x33cfbb)throw new Error('Flow\x20no\x20encontrado');if(_0x33cfbb?.['global']===_0xacaf8d(0x362))throw new m(_0xacaf8d(0x528));if(_0x1f52a7!==ee&&_0x33cfbb?.['global']==='true'&&_0x33cfbb?.[_0xacaf8d(0x215)]!==this[_0xacaf8d(0x3c2)][_0xacaf8d(0x265)])throw new m(_0xacaf8d(0x742));let _0x55a281=!0x1;if(_0x3c36b7[_0xacaf8d(0x6f8)]?.['delete']===!0x0)_0x33cfbb[_0xacaf8d(0x621)]=_0x33cfbb['conditions'][_0xacaf8d(0x2f4)](_0x5e8da6=>_0x5e8da6&&_0x3c36b7[_0xacaf8d(0x6f8)]&&_0x5e8da6[_0xacaf8d(0x478)]&&_0x3c36b7['condition'][_0xacaf8d(0x478)]&&_0x5e8da6['_id'][_0xacaf8d(0x667)]()!==_0x3c36b7[_0xacaf8d(0x6f8)]['_id'][_0xacaf8d(0x667)]()),_0x55a281=!0x0;else{let _0x39d823=_0x33cfbb[_0xacaf8d(0x621)]['find'](_0x2c0064=>_0x2c0064&&_0x3c36b7[_0xacaf8d(0x6f8)]&&_0x2c0064[_0xacaf8d(0x478)]&&_0x3c36b7['condition'][_0xacaf8d(0x478)]&&_0x2c0064[_0xacaf8d(0x478)]['toString']()===_0x3c36b7['condition'][_0xacaf8d(0x478)][_0xacaf8d(0x667)]());_0x39d823?(_0x55a281=_0x39d823['order']!==_0x3c36b7[_0xacaf8d(0x6f8)][_0xacaf8d(0x2f3)],Object[_0xacaf8d(0x22c)](_0x39d823,_0x3c36b7[_0xacaf8d(0x6f8)])):(_0x33cfbb[_0xacaf8d(0x621)][_0xacaf8d(0x2c5)](_0x3c36b7[_0xacaf8d(0x6f8)]),_0x55a281=!0x0);}if(_0x55a281){_0x33cfbb['conditions'][_0xacaf8d(0x4c0)]((_0x30adc6,_0x18b092)=>_0x30adc6[_0xacaf8d(0x2f3)]>_0x18b092[_0xacaf8d(0x2f3)]?0x1:_0x18b092['order']>_0x30adc6['order']?-0x1:0x0);for(let _0x18ed08=0x0;_0x18ed08<_0x33cfbb[_0xacaf8d(0x621)][_0xacaf8d(0x612)];_0x18ed08++)_0x33cfbb[_0xacaf8d(0x621)][_0x18ed08]['order']=_0x18ed08+0x1;_0x33cfbb[_0xacaf8d(0x621)][_0xacaf8d(0x612)]>0x0&&(_0x33cfbb['conditions'][0x0][_0xacaf8d(0x79c)]=_0xacaf8d(0x7a3));}let _0x39c9fd=await this[_0xacaf8d(0x719)][_0xacaf8d(0x594)][_0xacaf8d(0x4fc)](_0x33cfbb[_0xacaf8d(0x478)],_0x33cfbb,_0x3561ed);if(_0x39c9fd&&_0x39c9fd[_0xacaf8d(0x104)]&&_0x39c9fd[_0xacaf8d(0x104)][_0xacaf8d(0x612)]>0x1&&_0x39c9fd[_0xacaf8d(0x1b2)]!==_0xacaf8d(0x362)&&this['synchronizeFlows'](_0x39c9fd['_id'],_0x3561ed),!_0x39c9fd)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x39c9fd;}catch(_0x1c9036){let _0x3b6f70=_0xacaf8d(0x4e2),_0x16bbcf=_0x1c9036 instanceof Error?_0x1c9036[_0xacaf8d(0x37e)]:typeof _0x1c9036==_0xacaf8d(0x31d)?JSON[_0xacaf8d(0x564)](_0x1c9036):_0x1c9036,_0x5d6a88=_0x3b6f70+':\x20'+_0x16bbcf;throw this['logger'][_0xacaf8d(0x1b8)](this[_0xacaf8d(0x198)]+'\x20('+this[_0xacaf8d(0x3c2)][_0xacaf8d(0x265)]+_0xacaf8d(0x574)+_0x5d6a88),new m(_0x5d6a88);}}async['editFlowVaredit'](_0x37165b,_0x1f8953){const _0x2e7d4a=a0_0x5de833;try{this[_0x2e7d4a(0x4a2)][_0x2e7d4a(0x33b)](this[_0x2e7d4a(0x198)]+'\x20('+this['instance'][_0x2e7d4a(0x265)]+'):\x20Editando\x20edio\x20do\x20fluxo...');let _0x148427=_0x37165b?.[_0x2e7d4a(0x1b2)][_0x2e7d4a(0x11e)]()==='true'?_0x2e7d4a(0x1b2):this[_0x2e7d4a(0x3c2)][_0x2e7d4a(0x265)],_0x3d55e2=await this[_0x2e7d4a(0x719)][_0x2e7d4a(0x594)][_0x2e7d4a(0x782)]({'where':{'name':_0x37165b[_0x2e7d4a(0x40f)]}},_0x148427);if(!_0x3d55e2)throw new Error(_0x2e7d4a(0x627));if(_0x3d55e2?.['global']==='sync')throw new m(_0x2e7d4a(0x528));if(_0x1f8953!==ee&&_0x3d55e2?.['global']===_0x2e7d4a(0x55a)&&_0x3d55e2?.[_0x2e7d4a(0x215)]!==this[_0x2e7d4a(0x3c2)][_0x2e7d4a(0x265)])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x2aae94=!0x1;if(_0x37165b[_0x2e7d4a(0x41a)]?.[_0x2e7d4a(0xb9)]===!0x0)_0x3d55e2[_0x2e7d4a(0x638)]=_0x3d55e2[_0x2e7d4a(0x638)][_0x2e7d4a(0x2f4)](_0x28ab6d=>_0x28ab6d&&_0x37165b['varedit']&&_0x28ab6d[_0x2e7d4a(0x478)]&&_0x37165b[_0x2e7d4a(0x41a)][_0x2e7d4a(0x478)]&&_0x28ab6d[_0x2e7d4a(0x478)][_0x2e7d4a(0x667)]()!==_0x37165b['varedit']['_id']['toString']()),_0x2aae94=!0x0;else{let _0x194c47=_0x3d55e2['varedits'][_0x2e7d4a(0x781)](_0x2cc5c9=>_0x2cc5c9&&_0x37165b[_0x2e7d4a(0x41a)]&&_0x2cc5c9[_0x2e7d4a(0x478)]&&_0x37165b[_0x2e7d4a(0x41a)][_0x2e7d4a(0x478)]&&_0x2cc5c9[_0x2e7d4a(0x478)][_0x2e7d4a(0x667)]()===_0x37165b[_0x2e7d4a(0x41a)][_0x2e7d4a(0x478)]['toString']());_0x194c47?(_0x2aae94=_0x194c47['order']!==_0x37165b['varedit'][_0x2e7d4a(0x2f3)],Object[_0x2e7d4a(0x22c)](_0x194c47,_0x37165b[_0x2e7d4a(0x41a)])):(_0x3d55e2[_0x2e7d4a(0x638)][_0x2e7d4a(0x2c5)](_0x37165b[_0x2e7d4a(0x41a)]),_0x2aae94=!0x0);}if(_0x2aae94){_0x3d55e2[_0x2e7d4a(0x638)][_0x2e7d4a(0x4c0)]((_0x77fc13,_0xb3d13a)=>_0x77fc13[_0x2e7d4a(0x2f3)]>_0xb3d13a[_0x2e7d4a(0x2f3)]?0x1:_0xb3d13a['order']>_0x77fc13[_0x2e7d4a(0x2f3)]?-0x1:0x0);for(let _0x50cebf=0x0;_0x50cebf<_0x3d55e2[_0x2e7d4a(0x638)][_0x2e7d4a(0x612)];_0x50cebf++)_0x3d55e2[_0x2e7d4a(0x638)][_0x50cebf][_0x2e7d4a(0x2f3)]=_0x50cebf+0x1;}let _0x553544=await this['repository'][_0x2e7d4a(0x594)][_0x2e7d4a(0x4fc)](_0x3d55e2[_0x2e7d4a(0x478)],_0x3d55e2,_0x148427);if(_0x553544&&_0x553544[_0x2e7d4a(0x104)]&&_0x553544[_0x2e7d4a(0x104)][_0x2e7d4a(0x612)]>0x1&&_0x553544[_0x2e7d4a(0x1b2)]!==_0x2e7d4a(0x362)&&this[_0x2e7d4a(0x67d)](_0x553544[_0x2e7d4a(0x478)],_0x148427),!_0x553544)throw new Error(_0x2e7d4a(0x4f7));return _0x553544;}catch(_0x4e9f78){let _0x461b76=_0x2e7d4a(0x4e2),_0x4690d4=_0x4e9f78 instanceof Error?_0x4e9f78['message']:typeof _0x4e9f78==_0x2e7d4a(0x31d)?JSON[_0x2e7d4a(0x564)](_0x4e9f78):_0x4e9f78,_0x4af550=_0x461b76+':\x20'+_0x4690d4;throw this[_0x2e7d4a(0x4a2)][_0x2e7d4a(0x1b8)](this['instanceName']+'\x20('+this[_0x2e7d4a(0x3c2)][_0x2e7d4a(0x265)]+'):\x20'+_0x4af550),new m(_0x4af550);}}async[a0_0x5de833(0x52c)](_0x258ecf,_0x5c7e4f){const _0x10d17f=a0_0x5de833;try{this[_0x10d17f(0x4a2)]['verbose'](this[_0x10d17f(0x198)]+'\x20('+this['instance'][_0x10d17f(0x265)]+_0x10d17f(0x737));let _0x29e95c=_0x258ecf?.[_0x10d17f(0x1b2)]['trim']()===_0x10d17f(0x55a)?_0x10d17f(0x1b2):this[_0x10d17f(0x3c2)]['wuid'],_0x48fc9a=await this[_0x10d17f(0x719)][_0x10d17f(0x594)][_0x10d17f(0x782)]({'where':{'name':_0x258ecf[_0x10d17f(0x40f)]}},_0x29e95c);if(!_0x48fc9a)throw new Error(_0x10d17f(0x627));if(_0x48fc9a?.[_0x10d17f(0x1b2)]==='sync')throw new m('A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.');if(_0x5c7e4f!==ee&&_0x48fc9a?.[_0x10d17f(0x1b2)]===_0x10d17f(0x55a)&&_0x48fc9a?.[_0x10d17f(0x215)]!==this[_0x10d17f(0x3c2)]['wuid'])throw new m('Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x5c7e4f!==ee&&_0x48fc9a?.[_0x10d17f(0x1b2)]==='true'&&_0x48fc9a?.[_0x10d17f(0x215)]!==this[_0x10d17f(0x3c2)][_0x10d17f(0x265)])throw new m(_0x10d17f(0x742));_0x258ecf['variable']['name']=_0x258ecf['variable']['name'][_0x10d17f(0x11e)](),_0x258ecf[_0x10d17f(0x49b)][_0x10d17f(0x40f)][_0x10d17f(0x755)]('_')&&(_0x258ecf[_0x10d17f(0x49b)]['name']=_0x258ecf[_0x10d17f(0x49b)][_0x10d17f(0x40f)][_0x10d17f(0x11d)](0x1)),_0x258ecf['variable']['name']=_0x258ecf[_0x10d17f(0x49b)][_0x10d17f(0x40f)][_0x10d17f(0x11e)]();let _0x598d80=_0x48fc9a[_0x10d17f(0x453)]['find'](_0x5d8f88=>_0x5d8f88['name']===_0x258ecf[_0x10d17f(0x49b)][_0x10d17f(0x40f)]);if(_0x598d80?.[_0x10d17f(0x4a4)]===!0x0)throw new Error('No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x258ecf[_0x10d17f(0x49b)]?.['delete']===!0x0){if(!_0x598d80)return{'message':'Varivel\x20no\x20encontrada!'};_0x48fc9a[_0x10d17f(0x453)]=_0x48fc9a['variables'][_0x10d17f(0x2f4)](_0x1508ed=>_0x1508ed[_0x10d17f(0x40f)]!==_0x258ecf[_0x10d17f(0x49b)][_0x10d17f(0x40f)]);}else _0x598d80?Object[_0x10d17f(0x22c)](_0x598d80,_0x258ecf[_0x10d17f(0x49b)]):_0x48fc9a[_0x10d17f(0x453)][_0x10d17f(0x2c5)](_0x258ecf[_0x10d17f(0x49b)]);let _0x379783=await this[_0x10d17f(0x719)]['flow'][_0x10d17f(0x4fc)](_0x48fc9a['_id'],_0x48fc9a,_0x29e95c);if(_0x379783&&_0x379783[_0x10d17f(0x104)]&&_0x379783[_0x10d17f(0x104)][_0x10d17f(0x612)]>0x1&&_0x379783[_0x10d17f(0x1b2)]!==_0x10d17f(0x362)&&this['synchronizeFlows'](_0x379783['_id'],_0x29e95c),!_0x379783)throw new Error(_0x10d17f(0x4f7));return _0x379783;}catch(_0x3e4838){let _0x4f5952=_0x10d17f(0x39d),_0x175e52=_0x3e4838 instanceof Error?_0x3e4838['message']:typeof _0x3e4838=='object'?JSON[_0x10d17f(0x564)](_0x3e4838):_0x3e4838,_0x1c0234=_0x4f5952+':\x20'+_0x175e52;throw this['logger'][_0x10d17f(0x1b8)](this[_0x10d17f(0x198)]+'\x20('+this[_0x10d17f(0x3c2)][_0x10d17f(0x265)]+_0x10d17f(0x574)+_0x1c0234),new m(_0x1c0234);}}async[a0_0x5de833(0x61a)](_0x184a3b){const _0x5a68eb=a0_0x5de833;let _0x55a623=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x5a68eb(0x4a9)])throw new m(_0x5a68eb(0x420));this[_0x5a68eb(0x4a2)][_0x5a68eb(0x33b)](this['instanceName']+'\x20('+this[_0x5a68eb(0x3c2)][_0x5a68eb(0x265)]+_0x5a68eb(0x4f3));let _0x1377ea=(await this[_0x5a68eb(0x12d)]({'numbers':[_0x184a3b[_0x5a68eb(0x572)]]}))[0x0];if(!_0x1377ea[_0x5a68eb(0x640)]&&!(0x0,f[_0x5a68eb(0x62e)])(_0x1377ea[_0x5a68eb(0xeb)])&&!_0x1377ea['jid'][_0x5a68eb(0x2d8)](_0x5a68eb(0x484)))throw _0x55a623=JSON[_0x5a68eb(0x564)](_0x1377ea,null,0x2),new m(_0x1377ea);let _0x196347=await this['repository'][_0x5a68eb(0x594)][_0x5a68eb(0x782)]({'where':{'name':_0x184a3b[_0x5a68eb(0x40f)]}},this[_0x5a68eb(0x3c2)][_0x5a68eb(0x265)]);if(!_0x196347)return this[_0x5a68eb(0x4a2)][_0x5a68eb(0x1b8)](this['instanceName']+'\x20('+this[_0x5a68eb(0x3c2)][_0x5a68eb(0x265)]+'):\x20Flow\x20no\x20encontrado'),{'message':'Flow\x20no\x20encontrado'};let _0x5edc20=await this[_0x5a68eb(0x3d4)](_0x196347,_0x1377ea[_0x5a68eb(0xeb)],_0x184a3b[_0x5a68eb(0x19b)]);if(_0x5edc20){this['logger'][_0x5a68eb(0x33b)](this[_0x5a68eb(0x198)]+'\x20('+this[_0x5a68eb(0x3c2)][_0x5a68eb(0x265)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x408877=await this[_0x5a68eb(0x5a6)](_0x5edc20);return _0x408877&&await this['processblock'](_0x5edc20,_0x408877),{'message':_0x5a68eb(0x670)+_0x184a3b[_0x5a68eb(0x572)]};}}catch(_0x2be679){if(this[_0x5a68eb(0x4a2)]['error'](this[_0x5a68eb(0x198)]+'\x20('+this['instance'][_0x5a68eb(0x265)]+_0x5a68eb(0x9e)+(_0x2be679 instanceof Error?_0x2be679[_0x5a68eb(0x37e)]:JSON['stringify'](_0x2be679,null,0x2))),_0x55a623=_0x2be679 instanceof Error?_0x2be679['message']:JSON[_0x5a68eb(0x564)](_0x2be679,null,0x2),_0x55a623)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x55a623);}}async['startFlowWebhook'](_0x1a22d8,_0x36a339,_0x47576d){const _0x567b1d=a0_0x5de833;let _0x1a908d=null;try{if(!this[_0x567b1d(0x30d)]?.[_0x567b1d(0x257)][_0x567b1d(0x4a9)])throw new m(_0x567b1d(0x420));if(this[_0x567b1d(0x4a2)]['verbose'](this[_0x567b1d(0x198)]+'\x20('+this[_0x567b1d(0x3c2)][_0x567b1d(0x265)]+_0x567b1d(0x4f3)),_0x36a339){let _0x439c9c=(await this[_0x567b1d(0x12d)]({'numbers':[_0x36a339]}))[0x0];if(!_0x439c9c[_0x567b1d(0x640)]&&!(0x0,f['isJidGroup'])(_0x439c9c[_0x567b1d(0xeb)])&&!_0x439c9c[_0x567b1d(0xeb)]['includes'](_0x567b1d(0x484)))throw _0x1a908d=JSON[_0x567b1d(0x564)](_0x439c9c,null,0x2),new m(_0x439c9c);_0x36a339=_0x439c9c['jid'];}else _0x36a339||(_0x36a339=(0x0,Me['v4'])());let _0x35b652=await this['repository'][_0x567b1d(0x594)]['findOne']({'where':{'startID':_0x1a22d8}},this[_0x567b1d(0x3c2)][_0x567b1d(0x265)]);if(!_0x35b652)throw this['logger'][_0x567b1d(0x1b8)](this[_0x567b1d(0x198)]+'\x20('+this[_0x567b1d(0x3c2)][_0x567b1d(0x265)]+_0x567b1d(0x7a6)),new m(_0x567b1d(0x627));let _0x5dae8a=await this[_0x567b1d(0x3d4)](_0x35b652,_0x36a339,null);if(_0x5dae8a){this['logger'][_0x567b1d(0x33b)](this[_0x567b1d(0x198)]+'\x20('+this['instance'][_0x567b1d(0x265)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x52e043;if(_0x47576d){let _0x5ced9f=_0x5dae8a[_0x567b1d(0x774)][_0x567b1d(0x65d)],_0x3f9e2a=this[_0x567b1d(0x14f)](_0x47576d);Object[_0x567b1d(0x22c)](_0x5ced9f,_0x3f9e2a),_0x5dae8a[_0x567b1d(0x774)][_0x567b1d(0x65d)]=_0x5ced9f,_0x52e043={'error':!0x1,'apiResponse':_0x47576d};}let _0x587408=await this[_0x567b1d(0x5a6)](_0x5dae8a);return _0x587408&&await this['processblock'](_0x5dae8a,_0x587408),{'message':_0x567b1d(0xf0)};}}catch(_0x858948){if(this[_0x567b1d(0x4a2)][_0x567b1d(0x1b8)](this[_0x567b1d(0x198)]+'\x20('+this[_0x567b1d(0x3c2)][_0x567b1d(0x265)]+_0x567b1d(0x9e)+(_0x858948 instanceof Error?_0x858948['message']:JSON[_0x567b1d(0x564)](_0x858948,null,0x2))),_0x1a908d=_0x858948 instanceof Error?_0x858948[_0x567b1d(0x37e)]:JSON[_0x567b1d(0x564)](_0x858948,null,0x2),_0x1a908d)throw new m(_0x567b1d(0x1f5)+_0x1a908d);}}async[a0_0x5de833(0x769)](_0x2923b5){const _0x2d3673=a0_0x5de833;try{let _0x3285fb={'remoteJid':_0x2923b5,'status':'open'},_0x21174e={'status':'closed'},_0x388e8a=await this[_0x2d3673(0x719)][_0x2d3673(0x392)][_0x2d3673(0x1dc)](_0x3285fb,_0x21174e,this[_0x2d3673(0x3c2)][_0x2d3673(0x265)]);return this[_0x2d3673(0x4a2)][_0x2d3673(0x33b)](this[_0x2d3673(0x198)]+'\x20('+this['instance']['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x388e8a;}catch(_0xebaa9a){throw this['logger'][_0x2d3673(0x1b8)](this[_0x2d3673(0x198)]+'\x20('+this[_0x2d3673(0x3c2)][_0x2d3673(0x265)]+_0x2d3673(0x2e7)+_0xebaa9a['message']),_0xebaa9a;}}async[a0_0x5de833(0x3d4)](_0x2cbeeb,_0x12abe1,_0x431d83){const _0x38f075=a0_0x5de833;this['logger'][_0x38f075(0x33b)](this[_0x38f075(0x198)]+'\x20('+this[_0x38f075(0x3c2)]['wuid']+_0x38f075(0x107)),await this[_0x38f075(0x769)](_0x12abe1);try{let _0x40f68d=require(_0x38f075(0x4b6))[_0x38f075(0x579)],_0x566094=Date['now'](),_0x57cb30=_0x38f075(0x776),_0x2eea15={},_0x4166e7={},_0x1e905f={..._0x2cbeeb,'chatLog':null},_0x26019f=await this[_0x38f075(0x4d2)](_0x1e905f['variables']),_0x1dfd1e=await this['getVariablesChat'](_0x12abe1),_0x4c1ade={..._0x26019f,..._0x1dfd1e,'_remoteJid':_0x12abe1},_0x37a7c0={'lastReceivedMessage':_0x2eea15,'lastSendMessage':_0x4166e7,'lastBlockId':_0x57cb30,'lastCondition':!0x0,'realVariables':_0x4c1ade};_0x1e905f['chatLog']=_0x37a7c0,_0x1e905f['chatLog']['realVariables']={..._0x4c1ade,..._0x431d83},delete _0x1e905f['_id'],_0x1e905f[_0x38f075(0x478)]=new _0x40f68d(),_0x1e905f[_0x38f075(0x743)]=_0x566094,_0x1e905f[_0x38f075(0x620)]=_0x38f075(0x663),_0x1e905f[_0x38f075(0x572)]=_0x12abe1;let _0xf96945=await this[_0x38f075(0x719)][_0x38f075(0x392)]['updateOne'](_0x1e905f[_0x38f075(0x478)],_0x1e905f,this[_0x38f075(0x3c2)][_0x38f075(0x265)]);return this[_0x38f075(0x4a2)][_0x38f075(0x33b)](this[_0x38f075(0x198)]+'\x20('+this['instance'][_0x38f075(0x265)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xf96945?_0x1e905f:null;}catch(_0x1fb617){let _0x122f53=_0x38f075(0xf6),_0x99c27c=_0x1fb617 instanceof Error?_0x1fb617['message']:typeof _0x1fb617==_0x38f075(0x31d)?JSON[_0x38f075(0x564)](_0x1fb617):_0x1fb617,_0x2164b5=_0x122f53+':\x20'+_0x99c27c;throw this[_0x38f075(0x4a2)]['error'](this[_0x38f075(0x198)]+'\x20('+this['instance'][_0x38f075(0x265)]+_0x38f075(0x574)+_0x2164b5),new m(_0x2164b5);}}async[a0_0x5de833(0x2c7)](_0x56f464){const _0x435686=a0_0x5de833;try{this[_0x435686(0x4a2)][_0x435686(0x33b)](this[_0x435686(0x198)]+'\x20('+this[_0x435686(0x3c2)][_0x435686(0x265)]+_0x435686(0x68d)),this['logger'][_0x435686(0x33b)](this[_0x435686(0x198)]+'\x20('+this[_0x435686(0x3c2)][_0x435686(0x265)]+_0x435686(0x463)+_0x56f464);let _0xbf636a={'where':{'_id':_0x56f464}};return await this[_0x435686(0x719)][_0x435686(0x392)]['findOne'](_0xbf636a,this[_0x435686(0x3c2)][_0x435686(0x265)]);}catch(_0x2fb758){let _0x4b309c='Erro\x20ao\x20buscar\x20a\x20conversa',_0x28d836=_0x2fb758 instanceof Error?_0x2fb758[_0x435686(0x37e)]:typeof _0x2fb758==_0x435686(0x31d)?JSON[_0x435686(0x564)](_0x2fb758):_0x2fb758,_0xdb9836=_0x4b309c+':\x20'+_0x28d836;throw this['logger'][_0x435686(0x1b8)](this[_0x435686(0x198)]+'\x20('+this[_0x435686(0x3c2)]['wuid']+'):\x20'+_0xdb9836),new m(_0xdb9836);}}async[a0_0x5de833(0x2ab)](_0x419122){const _0x47a2f1=a0_0x5de833;try{return this[_0x47a2f1(0x4a2)][_0x47a2f1(0x33b)](this[_0x47a2f1(0x198)]+'\x20('+this[_0x47a2f1(0x3c2)][_0x47a2f1(0x265)]+'):\x20Buscando\x20conversas...'),await this[_0x47a2f1(0x719)][_0x47a2f1(0x392)][_0x47a2f1(0x781)](_0x419122,this[_0x47a2f1(0x3c2)][_0x47a2f1(0x265)]);}catch(_0x57aecd){let _0x5e4033='Erro\x20ao\x20buscar\x20conversas',_0x1e893d=_0x57aecd instanceof Error?_0x57aecd['message']:typeof _0x57aecd==_0x47a2f1(0x31d)?JSON[_0x47a2f1(0x564)](_0x57aecd):_0x57aecd,_0x4ec8c1=_0x5e4033+':\x20'+_0x1e893d;throw this[_0x47a2f1(0x4a2)]['error'](this[_0x47a2f1(0x198)]+'\x20('+this[_0x47a2f1(0x3c2)]['wuid']+'):\x20'+_0x4ec8c1),new m(_0x4ec8c1);}}async[a0_0x5de833(0x201)](_0x715458){const _0x5252f9=a0_0x5de833;try{return this[_0x5252f9(0x4a2)]['verbose'](this[_0x5252f9(0x198)]+'\x20('+this[_0x5252f9(0x3c2)][_0x5252f9(0x265)]+_0x5252f9(0x541)),this['logger'][_0x5252f9(0x33b)](this[_0x5252f9(0x198)]+'\x20('+this[_0x5252f9(0x3c2)]['wuid']+_0x5252f9(0x387)+_0x715458),(await this[_0x5252f9(0x719)]['flowConversation']['deleteOne']({'where':{'_id':_0x715458[_0x5252f9(0x478)]}},this[_0x5252f9(0x3c2)][_0x5252f9(0x265)]))['deletedCount']===0x0?{'message':_0x5252f9(0x195)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2dcfbf){let _0x41577a=_0x5252f9(0x791),_0x3b8373=_0x2dcfbf instanceof Error?_0x2dcfbf[_0x5252f9(0x37e)]:typeof _0x2dcfbf=='object'?JSON[_0x5252f9(0x564)](_0x2dcfbf):_0x2dcfbf,_0x5ee7b6=_0x41577a+':\x20'+_0x3b8373;throw this[_0x5252f9(0x4a2)][_0x5252f9(0x1b8)](this[_0x5252f9(0x198)]+'\x20('+this[_0x5252f9(0x3c2)]['wuid']+_0x5252f9(0x574)+_0x5ee7b6),new m(_0x5ee7b6);}}async[a0_0x5de833(0x95)](_0x33b388){const _0x158d5e=a0_0x5de833;try{let {_id:_0xc100c9,chatLog:_0x29f6d5,status:_0x487ed9}=_0x33b388;if(!_0xc100c9)return{'message':_0x158d5e(0x179)};let _0x1f3c57={};if(_0x487ed9!==void 0x0&&(_0x1f3c57[_0x158d5e(0x620)]=_0x487ed9),Object[_0x158d5e(0x4a0)](_0x1f3c57)[_0x158d5e(0x612)]===0x0)return{'message':_0x158d5e(0x5d3)};let _0x4498f7=await this[_0x158d5e(0x719)][_0x158d5e(0x392)][_0x158d5e(0x4fc)](_0xc100c9,_0x1f3c57,this[_0x158d5e(0x3c2)][_0x158d5e(0x265)]);return _0x4498f7||{'message':_0x158d5e(0x3f5)};}catch(_0x2af88f){let _0x47eb37=_0x158d5e(0x681),_0x5c23e7=_0x2af88f instanceof Error?_0x2af88f[_0x158d5e(0x37e)]:typeof _0x2af88f==_0x158d5e(0x31d)?JSON[_0x158d5e(0x564)](_0x2af88f):_0x2af88f,_0x454619=_0x47eb37+':\x20'+_0x5c23e7;throw this[_0x158d5e(0x4a2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x158d5e(0x265)]+_0x158d5e(0x574)+_0x454619),new m(_0x454619);}}async[a0_0x5de833(0x462)](_0x24eb4f){const _0x1dce96=a0_0x5de833;try{_0x24eb4f[_0x1dce96(0x478)]=this['createJid'](_0x24eb4f[_0x1dce96(0x478)]);let _0x3f9a27=await this['repository'][_0x1dce96(0x5e6)]['findOne']({'where':{'_id':_0x24eb4f[_0x1dce96(0x478)]}},this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]);if(!_0x3f9a27)throw new m('Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo');let {_id:_0x70e6e7,leadInfo:_0xf5ef58}=_0x24eb4f;if(!_0x70e6e7)throw new Error('O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.');if(_0x24eb4f[_0x1dce96(0xb9)]===_0x1dce96(0x110))return await this['deleteChat'](_0x24eb4f['_id']),await this[_0x1dce96(0x719)][_0x1dce96(0x5e6)][_0x1dce96(0xb9)]({'where':{'_id':_0x24eb4f[_0x1dce96(0x478)]}},this[_0x1dce96(0x3c2)]['wuid']),await this[_0x1dce96(0x719)][_0x1dce96(0x37e)][_0x1dce96(0xb9)]({'where':{'key':{'remoteJid':_0x24eb4f[_0x1dce96(0x478)]}}},this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]),_0x24eb4f=await this['repository'][_0x1dce96(0x5e6)][_0x1dce96(0x4fc)]({'where':{'_id':_0x24eb4f[_0x1dce96(0x478)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]),J(this[_0x1dce96(0x198)],_0x1dce96(0x1fe),{'chat':_0x24eb4f}),{'message':_0x1dce96(0x4bc)};if(_0x24eb4f[_0x1dce96(0xb9)]==='messages')return await this[_0x1dce96(0x719)]['message'][_0x1dce96(0xb9)]({'where':{'key':{'remoteJid':_0x24eb4f['_id']}}},this['instance']['wuid']),_0x24eb4f=await this[_0x1dce96(0x719)][_0x1dce96(0x5e6)][_0x1dce96(0x4fc)]({'where':{'_id':_0x24eb4f[_0x1dce96(0x478)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x1dce96(0x265)]),J(this[_0x1dce96(0x198)],'chats',{'chat':_0x24eb4f}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x1c7f0f=(_0x400f57,_0x26950a,_0xa1a21d)=>{_0x400f57&&_0xa1a21d['forEach'](_0x1585bd=>{const _0x10a570=a0_0x26c2;_0x400f57[_0x1585bd]!==void 0x0&&(_0x26950a[_0x10a570(0x1c1)+_0x1585bd]=_0x400f57[_0x1585bd]);});},_0x119310={};if(_0x1dce96(0x1b0)in _0x24eb4f&&(this[_0x1dce96(0x4a2)][_0x1dce96(0x33b)](_0x1dce96(0x2b1)+_0x24eb4f['_id']),_0x24eb4f[_0x1dce96(0x1b0)]=_0x24eb4f['muteEndTime']===0x0?null:-0x1,await this['client'][_0x1dce96(0x131)]({'mute':_0x24eb4f[_0x1dce96(0x1b0)]},_0x24eb4f['_id']),_0x119310[_0x1dce96(0x1b0)]=Number(_0x24eb4f[_0x1dce96(0x1b0)])),_0xf5ef58&&(_0x1c7f0f(_0xf5ef58,_0x119310,['nome','nomecompleto',_0x1dce96(0x480),_0x1dce96(0x4d6),'status',_0x1dce96(0x407),'tags',_0x1dce96(0x404),_0x1dce96(0x56b),_0x1dce96(0x33e)]),Array['isArray'](_0xf5ef58[_0x1dce96(0x501)])&&(_0x119310[_0x1dce96(0x406)]=_0xf5ef58[_0x1dce96(0x501)]['map'](_0x145994=>({'_id':_0x145994['_id'],'value':_0x145994['value']}))),_0x24eb4f[_0x1dce96(0x4a4)][_0x1dce96(0x33e)]!==void 0x0)){let _0x5d8ee3=await this['repository'][_0x1dce96(0x702)]['find']({'where':{}},this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]),_0x4283ab=new Set(_0x24eb4f[_0x1dce96(0x4a4)][_0x1dce96(0x33e)]||[]),_0x317065=new Set(_0x24eb4f[_0x1dce96(0x4a4)][_0x1dce96(0x33e)]),_0x486523=new Set(_0x5d8ee3[_0x1dce96(0x4ba)](_0x104e9e=>_0x104e9e[_0x1dce96(0x478)])),_0x52f5cd=[..._0x317065]['filter'](_0x512606=>!_0x4283ab['has'](_0x512606)&&_0x486523[_0x1dce96(0x3ad)](_0x512606)),_0x40f7d3=[..._0x4283ab]['filter'](_0x5b74a5=>!_0x317065[_0x1dce96(0x3ad)](_0x5b74a5));if(_0x119310[_0x1dce96(0x73f)]=[..._0x4283ab],_0x3f9a27&&!_0x3f9a27['imported']){for(let _0x17afa0 of _0x52f5cd)await this['AddChatLabel'](_0x17afa0,_0x24eb4f[_0x1dce96(0x478)]),_0x4283ab[_0x1dce96(0x773)](_0x17afa0);for(let _0x54304d of _0x40f7d3)await this['RemoveChatLabel'](_0x54304d,_0x24eb4f[_0x1dce96(0x478)]),_0x4283ab['delete'](_0x54304d);}}if(_0x24eb4f[_0x1dce96(0x538)]!==void 0x0&&(_0x119310[_0x1dce96(0x538)]=Number(_0x24eb4f['unreadcount'])),Object['keys'](_0x119310)['length']===0x0)throw new Error(_0x1dce96(0x5d3));let _0x35df1d=await this['repository']['chat'][_0x1dce96(0x4fc)]({'where':{'_id':_0x24eb4f[_0x1dce96(0x478)]}},_0x119310,this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]);return _0x35df1d&&J(this[_0x1dce96(0x198)],'chats',{'chat':_0x35df1d}),_0x35df1d?(this[_0x1dce96(0x4a2)][_0x1dce96(0x33b)](this[_0x1dce96(0x198)]+'\x20('+this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]+_0x1dce96(0x574)+JSON[_0x1dce96(0x564)](_0x35df1d,null,0x2)),_0x35df1d):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x4fd131){let _0x3d54b2='Erro\x20ao\x20editar\x20o\x20chat',_0x2ee827=_0x4fd131 instanceof Error?_0x4fd131[_0x1dce96(0x37e)]:typeof _0x4fd131==_0x1dce96(0x31d)?JSON[_0x1dce96(0x564)](_0x4fd131):_0x4fd131,_0xea2fdc=_0x3d54b2+':\x20'+_0x2ee827;throw this[_0x1dce96(0x4a2)][_0x1dce96(0x1b8)](this[_0x1dce96(0x198)]+'\x20('+this[_0x1dce96(0x3c2)][_0x1dce96(0x265)]+_0x1dce96(0x574)+_0xea2fdc),new m(_0xea2fdc);}}async['AddChatLabel'](_0x430406,_0x597c36){const _0x29007b=a0_0x5de833;try{await this[_0x29007b(0xa9)][_0x29007b(0x57f)](_0x597c36,_0x430406),this['logger'][_0x29007b(0x2c3)](this[_0x29007b(0x198)]+'\x20('+this[_0x29007b(0x3c2)][_0x29007b(0x265)]+_0x29007b(0x539)+_0x430406+'\x20adicionado\x20ao\x20chat\x20'+_0x597c36+_0x29007b(0xc2));}catch(_0x5c80b3){console[_0x29007b(0x1b8)](_0x29007b(0x226)+_0x430406+_0x29007b(0x27c)+_0x597c36+':',_0x5c80b3);}}async[a0_0x5de833(0x180)](_0x1dc0b8,_0x162d8c){const _0x522417=a0_0x5de833;try{await this[_0x522417(0xa9)]['removeChatLabel'](_0x162d8c,_0x1dc0b8),this[_0x522417(0x4a2)]['info'](this['instanceName']+'\x20('+this[_0x522417(0x3c2)][_0x522417(0x265)]+_0x522417(0x539)+_0x1dc0b8+_0x522417(0x655)+_0x162d8c+_0x522417(0xc2));}catch(_0x3be159){console['error']('Erro\x20ao\x20remover\x20label\x20'+_0x1dc0b8+_0x522417(0x5fa)+_0x162d8c+':',_0x3be159);}}async['updateAgent'](_0x2bd51a){const _0x2c0737=a0_0x5de833;try{let _0x74f29d=await this[_0x2c0737(0x719)][_0x2c0737(0x63a)][_0x2c0737(0x18d)](this[_0x2c0737(0x3c2)][_0x2c0737(0x265)]),_0x320f81=_0x2bd51a[_0x2c0737(0x478)]?_0x74f29d[_0x2c0737(0x3bb)][_0x2c0737(0x3bc)](_0x505050=>_0x505050[_0x2c0737(0x478)]===_0x2bd51a[_0x2c0737(0x478)]):-0x1;if(_0x2bd51a['delete']&&_0x320f81>-0x1)_0x74f29d[_0x2c0737(0x3bb)][_0x2c0737(0x76b)](_0x320f81,0x1);else{if(_0x320f81>-0x1){let _0x5b0475=_0x74f29d[_0x2c0737(0x3bb)][_0x320f81];_0x2bd51a[_0x2c0737(0x154)]&&(_0x5b0475[_0x2c0737(0x154)]=_0x2bd51a[_0x2c0737(0x154)]),_0x2bd51a[_0x2c0737(0x40f)]&&(_0x5b0475[_0x2c0737(0x40f)]=_0x2bd51a[_0x2c0737(0x40f)]),_0x2bd51a[_0x2c0737(0x480)]&&(_0x5b0475['email']=_0x2bd51a['email']),_0x2bd51a[_0x2c0737(0xb3)]&&(_0x5b0475[_0x2c0737(0xb3)]=_0x2bd51a[_0x2c0737(0xb3)]);}else _0x74f29d[_0x2c0737(0x3bb)]['push']({'_id':_0x2bd51a[_0x2c0737(0x478)]||new re[(_0x2c0737(0x1a6))][(_0x2c0737(0x375))]['ObjectId']()[_0x2c0737(0x667)](),'fone':_0x2bd51a[_0x2c0737(0x154)],'name':_0x2bd51a[_0x2c0737(0x40f)],'email':_0x2bd51a[_0x2c0737(0x480)],'role':_0x2bd51a['role']});}let _0x4693c3={'agents':_0x74f29d[_0x2c0737(0x3bb)]},_0x111c55=await this[_0x2c0737(0x719)][_0x2c0737(0x63a)][_0x2c0737(0x5ba)](_0x4693c3,this['instance'][_0x2c0737(0x265)]);return this[_0x2c0737(0x30d)]=_0x111c55,this[_0x2c0737(0x4a2)]['verbose'](this['instanceName']+'\x20('+this[_0x2c0737(0x3c2)][_0x2c0737(0x265)]+_0x2c0737(0x50d)),this[_0x2c0737(0x4a2)]['verbose'](this['instanceName']+'\x20('+this[_0x2c0737(0x3c2)][_0x2c0737(0x265)]+_0x2c0737(0x574)+this[_0x2c0737(0x30d)]),_0x111c55;}catch(_0x5965e5){let _0xac52b9=_0x2c0737(0x220),_0x1122e4=_0x5965e5 instanceof Error?_0x5965e5['message']:typeof _0x5965e5=='object'?JSON['stringify'](_0x5965e5):_0x5965e5,_0xed66b=_0xac52b9+':\x20'+_0x1122e4;throw this[_0x2c0737(0x4a2)][_0x2c0737(0x1b8)](this[_0x2c0737(0x198)]+'\x20('+this[_0x2c0737(0x3c2)][_0x2c0737(0x265)]+_0x2c0737(0x574)+_0xed66b),new m(_0xed66b);}}async['updateCustomFields'](_0x73bbd5){const _0x1d85d7=a0_0x5de833;try{let _0x10f032=await this['repository']['automateSystem'][_0x1d85d7(0x18d)](this['instance'][_0x1d85d7(0x265)]),_0x592af8=_0x73bbd5[_0x1d85d7(0x478)]?_0x10f032[_0x1d85d7(0x501)]['findIndex'](_0x2e1297=>_0x2e1297['_id']===_0x73bbd5[_0x1d85d7(0x478)]):-0x1,_0xaa0a63=!0x1,_0x47384f=_0x10f032['customFields']['some'](_0x58fd66=>_0x58fd66[_0x1d85d7(0x2f3)]===_0x73bbd5[_0x1d85d7(0x2f3)]);if(_0x73bbd5[_0x1d85d7(0xb9)]&&_0x592af8>-0x1)_0x10f032[_0x1d85d7(0x501)]['splice'](_0x592af8,0x1),_0xaa0a63=!0x0;else{if(_0x592af8>-0x1){if(_0x10f032[_0x1d85d7(0x501)]['some'](_0x354b69=>_0x354b69[_0x1d85d7(0x40f)]===_0x73bbd5['name']&&_0x354b69[_0x1d85d7(0x478)]!==_0x73bbd5[_0x1d85d7(0x478)]))throw new Error(_0x1d85d7(0x50a));let _0xc2635a=_0x10f032[_0x1d85d7(0x501)][_0x592af8];_0x73bbd5[_0x1d85d7(0x2f3)]&&(_0x47384f||!Number[_0x1d85d7(0x2d5)](_0x73bbd5[_0x1d85d7(0x2f3)]))&&(_0xc2635a[_0x1d85d7(0x2f3)]=_0x73bbd5[_0x1d85d7(0x2f3)],_0xaa0a63=!0x0),_0x73bbd5[_0x1d85d7(0x40f)]&&(_0xc2635a[_0x1d85d7(0x40f)]=_0x73bbd5['name']);}else{if(_0x10f032['customFields'][_0x1d85d7(0x3e1)](_0x3176f1=>_0x3176f1[_0x1d85d7(0x40f)]===_0x73bbd5[_0x1d85d7(0x40f)]&&_0x3176f1[_0x1d85d7(0x478)]!==_0x73bbd5['_id']))throw new Error(_0x1d85d7(0x50a));_0x10f032[_0x1d85d7(0x501)][_0x1d85d7(0x2c5)]({'_id':_0x73bbd5[_0x1d85d7(0x478)]||new re[(_0x1d85d7(0x1a6))][(_0x1d85d7(0x375))][(_0x1d85d7(0x579))]()[_0x1d85d7(0x667)](),'order':_0x73bbd5[_0x1d85d7(0x2f3)],'name':_0x73bbd5[_0x1d85d7(0x40f)]}),_0xaa0a63=!0x0;}}if(_0xaa0a63){_0x10f032[_0x1d85d7(0x501)][_0x1d85d7(0x4c0)]((_0x27e85d,_0x3fd086)=>_0x27e85d[_0x1d85d7(0x2f3)]>_0x3fd086[_0x1d85d7(0x2f3)]?0x1:_0x3fd086[_0x1d85d7(0x2f3)]>_0x27e85d[_0x1d85d7(0x2f3)]?-0x1:0x0);for(let _0x3c6c26=0x0;_0x3c6c26<_0x10f032[_0x1d85d7(0x501)]['length'];_0x3c6c26++)_0x10f032[_0x1d85d7(0x501)][_0x3c6c26][_0x1d85d7(0x2f3)]=_0x3c6c26+0x1;}let _0x55a8e0=await this[_0x1d85d7(0x719)][_0x1d85d7(0x63a)][_0x1d85d7(0x5ba)](_0x10f032,this[_0x1d85d7(0x3c2)]['wuid']);return this[_0x1d85d7(0x30d)]=_0x55a8e0,this[_0x1d85d7(0x4a2)][_0x1d85d7(0x33b)](this[_0x1d85d7(0x198)]+'\x20('+this[_0x1d85d7(0x3c2)]['wuid']+_0x1d85d7(0x52a)),this[_0x1d85d7(0x4a2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1d85d7(0x265)]+_0x1d85d7(0x574)+this[_0x1d85d7(0x30d)]),_0x55a8e0;}catch(_0x34039c){let _0x1585df=_0x1d85d7(0x2a7),_0x352859=_0x34039c instanceof Error?_0x34039c['message']:typeof _0x34039c==_0x1d85d7(0x31d)?JSON[_0x1d85d7(0x564)](_0x34039c):_0x34039c,_0x2dcc47=_0x1585df+':\x20'+_0x352859;throw this['logger'][_0x1d85d7(0x1b8)](this[_0x1d85d7(0x198)]+'\x20('+this['instance'][_0x1d85d7(0x265)]+_0x1d85d7(0x574)+_0x2dcc47),new m(_0x2dcc47);}}async[a0_0x5de833(0x765)](_0x2c8443){const _0x550e1f=a0_0x5de833;try{let _0x54bc1a=await this[_0x550e1f(0x719)][_0x550e1f(0x63a)][_0x550e1f(0x18d)](this[_0x550e1f(0x3c2)][_0x550e1f(0x265)]),_0x2a5038=_0x54bc1a?.[_0x550e1f(0x794)]?.['findIndex'](_0x1178bd=>_0x1178bd['_id']===_0x2c8443?.[_0x550e1f(0x478)]);if(_0x2c8443?.[_0x550e1f(0xb9)])_0x2a5038>-0x1&&_0x54bc1a?.[_0x550e1f(0x794)]?.['splice'](_0x2a5038,0x1);else{if(_0x2a5038>-0x1){let _0x659a96=_0x54bc1a[_0x550e1f(0x794)][_0x2a5038];_0x659a96['order']=_0x2c8443?.['order']||_0x659a96[_0x550e1f(0x2f3)],_0x659a96['command']=_0x2c8443?.[_0x550e1f(0x3fc)]||_0x659a96[_0x550e1f(0x3fc)],_0x659a96[_0x550e1f(0x37e)]=_0x2c8443?.[_0x550e1f(0x37e)]||_0x659a96[_0x550e1f(0x37e)];}else{let _0x381700={'_id':_0x2c8443?.[_0x550e1f(0x478)]||new re[(_0x550e1f(0x1a6))][(_0x550e1f(0x375))][(_0x550e1f(0x579))]()[_0x550e1f(0x667)](),'order':_0x2c8443?.['order'],'command':_0x2c8443?.[_0x550e1f(0x3fc)],'message':_0x2c8443?.[_0x550e1f(0x37e)]};_0x54bc1a?.[_0x550e1f(0x794)]?.['push'](_0x381700);}}_0x54bc1a?.[_0x550e1f(0x794)]?.[_0x550e1f(0x4c0)]((_0x305ed3,_0xe81af5)=>_0x305ed3[_0x550e1f(0x2f3)]-_0xe81af5[_0x550e1f(0x2f3)]);let _0x5654ff=await this[_0x550e1f(0x719)][_0x550e1f(0x63a)][_0x550e1f(0x5ba)](_0x54bc1a,this[_0x550e1f(0x3c2)][_0x550e1f(0x265)]);return this[_0x550e1f(0x30d)]=_0x5654ff,this['logger'][_0x550e1f(0x33b)](this['instanceName']+'\x20('+this[_0x550e1f(0x3c2)][_0x550e1f(0x265)]+_0x550e1f(0x52a)),_0x5654ff;}catch(_0x2a6ab3){let _0x22ed99=_0x550e1f(0x688),_0x23004d=_0x2a6ab3 instanceof Error?_0x2a6ab3['message']:typeof _0x2a6ab3==_0x550e1f(0x31d)?JSON[_0x550e1f(0x564)](_0x2a6ab3):_0x2a6ab3,_0x1c8162=_0x22ed99+':\x20'+_0x23004d;throw this['logger'][_0x550e1f(0x1b8)](this[_0x550e1f(0x198)]+'\x20('+this[_0x550e1f(0x3c2)]['wuid']+_0x550e1f(0x574)+_0x1c8162),new m(_0x1c8162);}}async[a0_0x5de833(0x1e3)](_0x39153a){const _0x32184b=a0_0x5de833;try{let _0x1a45d6=await this[_0x32184b(0x719)][_0x32184b(0x63a)][_0x32184b(0x18d)](this[_0x32184b(0x3c2)][_0x32184b(0x265)]);if(!_0x1a45d6)throw new Error(_0x32184b(0x532));let _0x360c7d={'_id':_0x1a45d6[_0x32184b(0x478)],'flowConfig':{'enabled':_0x39153a[_0x32184b(0x4a9)]??_0x1a45d6[_0x32184b(0x257)][_0x32184b(0x4a9)],'ignoreGroups':_0x39153a[_0x32184b(0x3fa)]??_0x1a45d6['flowConfig'][_0x32184b(0x3fa)],'prefixCommand':_0x39153a[_0x32184b(0x63e)]??_0x1a45d6[_0x32184b(0x257)][_0x32184b(0x63e)],'stopConversation':_0x39153a[_0x32184b(0x729)]??_0x1a45d6[_0x32184b(0x257)][_0x32184b(0x729)],'stopMinutes':_0x39153a[_0x32184b(0x7ac)]??_0x1a45d6['flowConfig'][_0x32184b(0x7ac)],'stopWhenYouSendMsg':_0x39153a[_0x32184b(0x1d1)]??_0x1a45d6[_0x32184b(0x257)][_0x32184b(0x1d1)]}},_0x1b6170=await this['repository'][_0x32184b(0x63a)][_0x32184b(0x5ba)](_0x360c7d,this[_0x32184b(0x3c2)][_0x32184b(0x265)]);return this['AutomateSystem']=_0x1b6170,this[_0x32184b(0x4a2)][_0x32184b(0x33b)](this[_0x32184b(0x198)]+'\x20('+this[_0x32184b(0x3c2)]['wuid']+_0x32184b(0x50d)),this['logger'][_0x32184b(0x33b)](this[_0x32184b(0x198)]+'\x20('+this[_0x32184b(0x3c2)][_0x32184b(0x265)]+_0x32184b(0x574)+this[_0x32184b(0x30d)]),setTimeout(()=>this[_0x32184b(0x229)](),0x7d0),_0x1b6170;}catch(_0x2616a0){let _0x32fbef=_0x32184b(0x5a3),_0x2c8844=_0x2616a0 instanceof Error?_0x2616a0[_0x32184b(0x37e)]:typeof _0x2616a0==_0x32184b(0x31d)?JSON[_0x32184b(0x564)](_0x2616a0):_0x2616a0,_0x332e4c=_0x32fbef+':\x20'+_0x2c8844;throw this[_0x32184b(0x4a2)][_0x32184b(0x1b8)](this[_0x32184b(0x198)]+'\x20('+this[_0x32184b(0x3c2)][_0x32184b(0x265)]+_0x32184b(0x574)+_0x332e4c),new m(_0x332e4c);}}async[a0_0x5de833(0x516)](){const _0xbced75=a0_0x5de833;try{let _0x29094f=await this[_0xbced75(0x719)]['automateSystem'][_0xbced75(0x18d)](this[_0xbced75(0x3c2)][_0xbced75(0x265)]);return this[_0xbced75(0x30d)]=_0x29094f,this[_0xbced75(0x4a2)]['verbose'](this[_0xbced75(0x198)]+'\x20('+this[_0xbced75(0x3c2)][_0xbced75(0x265)]+_0xbced75(0xba)),this[_0xbced75(0x4a2)][_0xbced75(0x33b)](this[_0xbced75(0x30d)]),_0x29094f;}catch(_0x1da785){let _0x529890='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0xfbecc5=_0x1da785 instanceof Error?_0x1da785[_0xbced75(0x37e)]:typeof _0x1da785=='object'?JSON[_0xbced75(0x564)](_0x1da785):_0x1da785,_0x4fea02=_0x529890+':\x20'+_0xfbecc5;throw this['logger'][_0xbced75(0x1b8)](this[_0xbced75(0x198)]+'\x20('+this[_0xbced75(0x3c2)][_0xbced75(0x265)]+_0xbced75(0x574)+_0x4fea02),new m(_0x4fea02);}}async['setRestartTimeout'](){const _0x17a82c=a0_0x5de833;this[_0x17a82c(0x3c2)][_0x17a82c(0x7a2)][_0x17a82c(0x74c)]&&clearTimeout(this[_0x17a82c(0x3c2)][_0x17a82c(0x7a2)][_0x17a82c(0x74c)]),this[_0x17a82c(0x3c2)][_0x17a82c(0x7a2)][_0x17a82c(0x74c)]=setTimeout(()=>{const _0x109729=_0x17a82c;this[_0x109729(0x3ae)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5de833(0x3ae)](){const _0x4e899c=a0_0x5de833;Date[_0x4e899c(0x338)]()-this[_0x4e899c(0x3c2)]['ScheduleMessage']['lastSend']>=0x1d4c0&&(this[_0x4e899c(0x4a2)][_0x4e899c(0x33b)](this[_0x4e899c(0x198)]+'\x20('+this['instance']['wuid']+_0x4e899c(0xf7)),this[_0x4e899c(0x3c2)][_0x4e899c(0x7a2)][_0x4e899c(0x6a6)]=null,this['instance'][_0x4e899c(0x7a2)]['lastSend']=0x0,this['instance'][_0x4e899c(0x7a2)][_0x4e899c(0x604)]=0x0,await this[_0x4e899c(0x229)]());}async[a0_0x5de833(0x229)](){const _0x175ead=a0_0x5de833;let _0xa64648=()=>{const _0x3ef2d1=a0_0x26c2;this['logger'][_0x3ef2d1(0x33b)](this[_0x3ef2d1(0x198)]+'\x20('+this['instance']['wuid']+_0x3ef2d1(0x74e)+this[_0x3ef2d1(0x3c2)]['ScheduleMessage'][_0x3ef2d1(0x6a6)]+_0x3ef2d1(0x78f));},_0x40c523=async()=>{const _0x5ca107=a0_0x26c2;this[_0x5ca107(0x4a2)][_0x5ca107(0x33b)](this['instanceName']+'\x20('+this['instance'][_0x5ca107(0x265)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0xad7eb0=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0xe23deb={'where':{'status':{'$in':['scheduled',_0x5ca107(0x202)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0xad7eb0}},{'when':0x0}]}};return await this['repository']['scheduleMessage']['find'](_0xe23deb,this[_0x5ca107(0x3c2)][_0x5ca107(0x265)]);},_0x2e4d24=async _0x4c218f=>{const _0x1bcd76=a0_0x26c2;for(let _0x14565f of _0x4c218f){let _0x2a98da={'_id':_0x14565f[_0x1bcd76(0x478)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1bcd76(0x338)]()-0x1770}}]},_0x413dd5={'startSend':Date['now']()};if(!await this[_0x1bcd76(0x719)][_0x1bcd76(0x556)]['updateOne'](_0x2a98da,_0x413dd5,this[_0x1bcd76(0x3c2)]['wuid']))return;if(!this[_0x1bcd76(0x3c2)]['ScheduleMessage']['isConnected']){this[_0x1bcd76(0x4a2)]['verbose'](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]+_0x1bcd76(0x752));break;}if(_0x14565f[_0x1bcd76(0x300)]===_0x1bcd76(0x594)&&!this[_0x1bcd76(0x30d)]?.[_0x1bcd76(0x257)][_0x1bcd76(0x4a9)]){this['logger']['error'](this[_0x1bcd76(0x198)]+'\x20('+this['instance'][_0x1bcd76(0x265)]+_0x1bcd76(0x6fc));continue;}(!_0x14565f[_0x1bcd76(0x659)]||_0x14565f[_0x1bcd76(0x659)][_0x1bcd76(0x612)]===0x0)&&(_0x14565f=await this[_0x1bcd76(0x719)]['scheduleMessage'][_0x1bcd76(0xaf)](_0x14565f['_id'],{'status':_0x1bcd76(0x202),'remoteJidsRemaining':[..._0x14565f[_0x1bcd76(0x648)]]},this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]));for(let _0x5e565c of _0x14565f['remoteJidsRemaining']){if(await this[_0x1bcd76(0x393)](),this[_0x1bcd76(0x3c2)][_0x1bcd76(0x7a2)][_0x1bcd76(0xa7)]=Date[_0x1bcd76(0x338)](),this[_0x1bcd76(0x3c2)][_0x1bcd76(0x7a2)][_0x1bcd76(0x5b7)]===_0x5e565c){this['logger'][_0x1bcd76(0x1b8)](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]+_0x1bcd76(0x183)+_0x5e565c+_0x1bcd76(0x6b6));let _0x5cd2b2={'$push':{'messagesSend':{'remoteJid':_0x5e565c,'error':!0x0,'id':null,'error_log':_0x1bcd76(0x59c),'log_timestamp':Date[_0x1bcd76(0x338)]()}},'$pull':{'remoteJidsRemaining':_0x5e565c}};await this['repository'][_0x1bcd76(0x556)][_0x1bcd76(0xaf)](_0x14565f[_0x1bcd76(0x478)],_0x5cd2b2,this['instance'][_0x1bcd76(0x265)]);continue;}if(this[_0x1bcd76(0x3c2)][_0x1bcd76(0x7a2)][_0x1bcd76(0x5b7)]=_0x5e565c,_0x14565f[_0x1bcd76(0x3ca)][_0x1bcd76(0x3e1)](_0x7c8e1f=>_0x7c8e1f[_0x1bcd76(0x572)]===_0x5e565c)){this[_0x1bcd76(0x4a2)][_0x1bcd76(0x33b)](this['instanceName']+'\x20('+this[_0x1bcd76(0x3c2)]['wuid']+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x5e565c+_0x1bcd76(0x4e3));continue;}if(!this[_0x1bcd76(0x3c2)][_0x1bcd76(0x7a2)][_0x1bcd76(0x361)]){this['logger'][_0x1bcd76(0x33b)](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]+_0x1bcd76(0x619));break;}if(!this[_0x1bcd76(0x3c2)]['ScheduleMessage'][_0x1bcd76(0x6a6)]){this['logger'][_0x1bcd76(0x33b)](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]+_0x1bcd76(0x64e)+_0x14565f[_0x1bcd76(0x478)]+_0x1bcd76(0x771));break;}if(_0x14565f['type']===_0x1bcd76(0x594)&&!this[_0x1bcd76(0x30d)]?.['flowConfig'][_0x1bcd76(0x4a9)]){this[_0x1bcd76(0x4a2)][_0x1bcd76(0x1b8)](this[_0x1bcd76(0x198)]+'\x20('+this['instance'][_0x1bcd76(0x265)]+_0x1bcd76(0x6fc));break;}let _0x3f5938={'remoteJid':_0x5e565c,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x1bcd76(0x338)]()},_0x261e2b=null;try{let _0x31d48a=await this['SendScheduleMessage'](_0x5e565c,_0x14565f);_0x3f5938['error']=_0x31d48a[_0x1bcd76(0x1b8)],_0x3f5938['id']=_0x31d48a[_0x1bcd76(0x1b8)]?null:_0x31d48a['id'],_0x3f5938[_0x1bcd76(0x337)]=_0x31d48a[_0x1bcd76(0x1b8)]?_0x31d48a[_0x1bcd76(0x25e)]?_0x31d48a['detail']['toString']():'':null;let _0x327859={'$push':{'messagesSend':_0x3f5938},'$pull':{'remoteJidsRemaining':_0x5e565c}},_0x2ac473=_0x14565f[_0x1bcd76(0x478)];if(_0x261e2b=await this['repository']['scheduleMessage'][_0x1bcd76(0xaf)](_0x2ac473,_0x327859,this[_0x1bcd76(0x3c2)][_0x1bcd76(0x265)]),_0x31d48a[_0x1bcd76(0x1b8)])continue;let _0x37ae2a=this[_0x1bcd76(0x345)](_0x14565f[_0x1bcd76(0x12b)],_0x14565f[_0x1bcd76(0x460)]);await this[_0x1bcd76(0x9c)](_0x37ae2a);}catch(_0x48310a){this[_0x1bcd76(0x4a2)]['error'](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)]['wuid']+_0x1bcd76(0x623)+_0x5e565c+':\x20'+(_0x48310a instanceof Error?_0x48310a[_0x1bcd76(0x37e)]:JSON['stringify'](_0x48310a,null,0x2))),_0x3f5938[_0x1bcd76(0x1b8)]=!0x0,_0x3f5938[_0x1bcd76(0x337)]=_0x48310a['message'];let _0x30e0e7={'$push':{'messagesSend':_0x3f5938},'$pull':{'remoteJidsRemaining':_0x5e565c}},_0x3f5d6a=_0x14565f[_0x1bcd76(0x478)];_0x261e2b=await this['repository'][_0x1bcd76(0x556)][_0x1bcd76(0xaf)](_0x3f5d6a,_0x30e0e7,this[_0x1bcd76(0x3c2)]['wuid']);}finally{if(_0x261e2b&&_0x261e2b[_0x1bcd76(0x620)]==='stopped'){this[_0x1bcd76(0x4a2)][_0x1bcd76(0x33b)](this[_0x1bcd76(0x198)]+'\x20('+this[_0x1bcd76(0x3c2)]['wuid']+_0x1bcd76(0x64e)+_0x14565f['_id']+_0x1bcd76(0x2f7));break;}}}let _0x331410=await this[_0x1bcd76(0x719)][_0x1bcd76(0x556)]['findById'](_0x14565f[_0x1bcd76(0x478)],this['instance']['wuid']);if(_0x331410[_0x1bcd76(0x659)][_0x1bcd76(0x612)]===0x0&&_0x331410['status']!==_0x1bcd76(0x5dc)){this[_0x1bcd76(0x3c2)][_0x1bcd76(0x7a2)][_0x1bcd76(0x5b7)]=null;let _0x371f4a={'$set':{'status':_0x1bcd76(0xb8)}},_0x263a61=_0x331410[_0x1bcd76(0x478)];await this[_0x1bcd76(0x719)][_0x1bcd76(0x556)][_0x1bcd76(0xaf)](_0x263a61,_0x371f4a,this[_0x1bcd76(0x3c2)]['wuid']);}await new Promise(_0x38c312=>setTimeout(_0x38c312,0x1388));}},_0x2d350a=async()=>{const _0x52c2ad=a0_0x26c2;let _0x297814={'where':{'status':_0x52c2ad(0x1c4),'when':{'$gt':Date['now']()}}},_0x52ad25=await this[_0x52c2ad(0x719)][_0x52c2ad(0x556)]['findOne'](_0x297814,this[_0x52c2ad(0x3c2)][_0x52c2ad(0x265)]);_0x52ad25&&_0x52ad25['when']-Date[_0x52c2ad(0x338)]()<=0x5265c00?this[_0x52c2ad(0x3c2)][_0x52c2ad(0x7a2)][_0x52c2ad(0x604)]=_0x52ad25[_0x52c2ad(0x135)]-Date[_0x52c2ad(0x338)]():this['instance'][_0x52c2ad(0x7a2)][_0x52c2ad(0x604)]=(0x3c+Math[_0x52c2ad(0x429)](Math[_0x52c2ad(0x64a)]()*0x3c))*0x3c*0x3e8,this[_0x52c2ad(0x3c2)][_0x52c2ad(0x7a2)][_0x52c2ad(0x604)]=Math['max'](this[_0x52c2ad(0x3c2)]['ScheduleMessage'][_0x52c2ad(0x604)],0x7d0);let _0x215030=Math[_0x52c2ad(0x77e)](this[_0x52c2ad(0x3c2)][_0x52c2ad(0x7a2)][_0x52c2ad(0x604)]/0xea60);if(_0x52ad25){let _0x3aa4ea=new Date(_0x52ad25[_0x52c2ad(0x135)])[_0x52c2ad(0xf4)]();this['logger']['verbose'](this[_0x52c2ad(0x198)]+'\x20('+this[_0x52c2ad(0x3c2)][_0x52c2ad(0x265)]+_0x52c2ad(0xb7)+_0x3aa4ea+',\x20far\x20nova\x20verificao\x20em\x20'+_0x215030+_0x52c2ad(0x23a));}else this['logger']['verbose'](this[_0x52c2ad(0x198)]+'\x20('+this['instance'][_0x52c2ad(0x265)]+_0x52c2ad(0x301)+_0x215030+'\x20minutos');setTimeout(()=>this[_0x52c2ad(0x229)](),this[_0x52c2ad(0x3c2)][_0x52c2ad(0x7a2)]['delayMessage']);};if(this[_0x175ead(0x3c2)]['ScheduleMessage'][_0x175ead(0x6a6)]){await this[_0x175ead(0x393)](),_0xa64648();return;}if(!this[_0x175ead(0x3c2)][_0x175ead(0x7a2)][_0x175ead(0x361)]){this['logger'][_0x175ead(0x33b)](this[_0x175ead(0x198)]+'\x20('+this[_0x175ead(0x3c2)]['wuid']+'):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado'),this[_0x175ead(0x3c2)][_0x175ead(0x7a2)][_0x175ead(0x6a6)]=null,this[_0x175ead(0x3c2)][_0x175ead(0x7a2)][_0x175ead(0xa7)]=0x0,this[_0x175ead(0x3c2)]['ScheduleMessage'][_0x175ead(0x604)]=0x0,this['instance']['ScheduleMessage'][_0x175ead(0x5b7)]=null;return;}try{let _0x24d943=await _0x40c523();_0x24d943[_0x175ead(0x612)]===0x0?this['logger']['verbose'](this[_0x175ead(0x198)]+'\x20('+this[_0x175ead(0x3c2)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x175ead(0x3c2)][_0x175ead(0x7a2)]['processing_id']=_0x24d943[0x0]['_id'],await _0x2e4d24(_0x24d943)),await _0x2d350a(),this[_0x175ead(0x3c2)][_0x175ead(0x7a2)][_0x175ead(0x6a6)]=null,this[_0x175ead(0x3c2)][_0x175ead(0x7a2)][_0x175ead(0x5b7)]=null;}catch(_0x45bc82){this[_0x175ead(0x4a2)][_0x175ead(0x1b8)](_0x175ead(0x173)+(_0x45bc82 instanceof Error?_0x45bc82[_0x175ead(0x37e)]:JSON['stringify'](_0x45bc82,null,0x2)));}}[a0_0x5de833(0x345)](_0x1853c4,_0x28b906){const _0x128425=a0_0x5de833;return _0x1853c4=Math['max'](0.5,_0x1853c4),_0x28b906=Math['min'](Math[_0x128425(0x3e3)](0x3,_0x28b906),0x78),Math['floor'](Math['random']()*(_0x28b906-_0x1853c4+0x1)+_0x1853c4)*0x3e8;}[a0_0x5de833(0x9c)](_0x1ef067){return new Promise(_0x329074=>setTimeout(_0x329074,_0x1ef067));}async['getVariablesChat'](_0x3cdfdb){const _0x3053bf=a0_0x5de833;if(!this[_0x3053bf(0x30d)]&&(await this[_0x3053bf(0x516)](),!this[_0x3053bf(0x30d)]))return null;_0x3cdfdb=this['createJid'](_0x3cdfdb);let _0x55222f=await this[_0x3053bf(0x719)][_0x3053bf(0x5e6)]['findOne']({'where':{'_id':_0x3cdfdb}},this[_0x3053bf(0x3c2)][_0x3053bf(0x265)]),_0x2cd2d2={};if(_0x55222f&&_0x55222f[_0x3053bf(0x4a4)]){let _0x9a9306=_0x55222f[_0x3053bf(0x4a4)];typeof _0x9a9306[_0x3053bf(0x1f4)]==_0x3053bf(0x1c0)&&(_0x2cd2d2[_0x3053bf(0x1f4)]=_0x9a9306['nome']),typeof _0x9a9306[_0x3053bf(0x1aa)]==_0x3053bf(0x1c0)&&(_0x2cd2d2['nomecompleto']=_0x9a9306[_0x3053bf(0x1aa)]),typeof _0x9a9306[_0x3053bf(0x480)]==_0x3053bf(0x1c0)&&(_0x2cd2d2[_0x3053bf(0x480)]=_0x9a9306[_0x3053bf(0x480)]),typeof _0x9a9306[_0x3053bf(0x4d6)]=='string'&&(_0x2cd2d2[_0x3053bf(0x4d6)]=_0x9a9306['cpf']),typeof _0x9a9306['status']=='string'&&(_0x2cd2d2[_0x3053bf(0x620)]=_0x9a9306['status']),typeof _0x9a9306[_0x3053bf(0x407)]==_0x3053bf(0x1c0)&&(_0x2cd2d2['notas']=_0x9a9306[_0x3053bf(0x407)]),typeof _0x9a9306[_0x3053bf(0x56b)]==_0x3053bf(0x1c0)&&(_0x2cd2d2[_0x3053bf(0x56b)]=_0x9a9306[_0x3053bf(0x56b)]),Array[_0x3053bf(0x529)](_0x9a9306['tags'])&&(_0x2cd2d2[_0x3053bf(0xae)]=_0x9a9306['tags'][_0x3053bf(0x52f)](',\x20')),Array[_0x3053bf(0x529)](_0x9a9306[_0x3053bf(0x33e)])&&(_0x2cd2d2[_0x3053bf(0x33e)]=_0x9a9306[_0x3053bf(0x33e)][_0x3053bf(0x52f)](',\x20'));}return _0x55222f&&_0x55222f[_0x3053bf(0x4a4)]&&_0x55222f[_0x3053bf(0x4a4)][_0x3053bf(0x501)]&&_0x55222f[_0x3053bf(0x4a4)]['customFields'][_0x3053bf(0x1b4)](_0xb2ea43=>{const _0x5e2b59=_0x3053bf;let _0x2507d3=this[_0x5e2b59(0x30d)]?.[_0x5e2b59(0x501)][_0x5e2b59(0x781)](_0x38b5a8=>_0x38b5a8[_0x5e2b59(0x478)]===_0xb2ea43[_0x5e2b59(0x478)]);_0x2507d3&&(_0x2cd2d2[_0x2507d3[_0x5e2b59(0x40f)]]=_0xb2ea43[_0x5e2b59(0x65f)]);}),_0x2cd2d2;}async[a0_0x5de833(0x358)](_0x44bb5e,_0x5b912c){const _0x160032=a0_0x5de833;try{let _0x52c2b7=await this[_0x160032(0x76e)](_0x5b912c);return this[_0x160032(0x6c4)](_0x44bb5e,_0x52c2b7);}catch(_0xd61394){return this['logger'][_0x160032(0x1b8)](_0x160032(0x327)+_0x5b912c+':\x20'+_0xd61394),_0x44bb5e;}}async[a0_0x5de833(0x68b)](_0x51f058){const _0x4a7110=a0_0x5de833;try{if(this['logger'][_0x4a7110(0x33b)](this[_0x4a7110(0x198)]+'\x20('+this[_0x4a7110(0x3c2)]['wuid']+_0x4a7110(0x566)),_0x51f058['delete']&&_0x51f058[_0x4a7110(0x478)]){if(this[_0x4a7110(0x3c2)][_0x4a7110(0x7a2)]['processing_id']===_0x51f058[_0x4a7110(0x478)][_0x4a7110(0x667)]())throw new Error(_0x4a7110(0x2ca));let _0x3b6a01=await this['repository']['scheduleMessage'][_0x4a7110(0x57d)](_0x51f058[_0x4a7110(0x478)],this['instance'][_0x4a7110(0x265)]);return setTimeout(()=>this[_0x4a7110(0x229)](),0x7d0),_0x3b6a01;}let _0xfce823;if(_0x51f058[_0x4a7110(0x478)]&&(_0xfce823=await this[_0x4a7110(0x719)][_0x4a7110(0x556)][_0x4a7110(0x2ba)](_0x51f058[_0x4a7110(0x478)],this[_0x4a7110(0x3c2)]['wuid'])),_0xfce823){let _0x54e009;if(this[_0x4a7110(0x3c2)][_0x4a7110(0x7a2)][_0x4a7110(0x6a6)]===_0xfce823[_0x4a7110(0x478)][_0x4a7110(0x667)]())_0x54e009={'$set':{'status':_0x51f058['status']}};else{let {_id:_0x2b684a,..._0x3e727a}=_0x51f058;_0x54e009={'$set':_0x3e727a};}let _0x25e8b3=await this[_0x4a7110(0x719)][_0x4a7110(0x556)][_0x4a7110(0xaf)](_0x51f058[_0x4a7110(0x478)],_0x54e009,this[_0x4a7110(0x3c2)][_0x4a7110(0x265)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x25e8b3;}else{_0x51f058['owner']=this[_0x4a7110(0x3c2)][_0x4a7110(0x265)];let _0xd03a60=await this['repository']['scheduleMessage'][_0x4a7110(0x5e5)](_0x51f058,this[_0x4a7110(0x3c2)][_0x4a7110(0x265)]);return setTimeout(()=>this[_0x4a7110(0x229)](),0x7d0),_0xd03a60;}}catch(_0x5ac22d){let _0x1669d7=_0x4a7110(0x72d),_0x78be15=_0x5ac22d instanceof Error?_0x5ac22d['message']:typeof _0x5ac22d==_0x4a7110(0x31d)?JSON['stringify'](_0x5ac22d):_0x5ac22d,_0x5186ad=_0x1669d7+':\x20'+_0x78be15;throw this[_0x4a7110(0x4a2)][_0x4a7110(0x1b8)](this[_0x4a7110(0x198)]+'\x20('+this['instance'][_0x4a7110(0x265)]+_0x4a7110(0x574)+_0x5186ad),new m(_0x5186ad);}}async[a0_0x5de833(0x41f)](){const _0x3c9b31=a0_0x5de833;try{return await this[_0x3c9b31(0x719)][_0x3c9b31(0x556)]['find']({'where':{}},this[_0x3c9b31(0x3c2)]['wuid']);}catch(_0x4214ec){let _0x1e2692='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x1501c5=_0x4214ec instanceof Error?_0x4214ec[_0x3c9b31(0x37e)]:typeof _0x4214ec==_0x3c9b31(0x31d)?JSON[_0x3c9b31(0x564)](_0x4214ec):_0x4214ec,_0x8ed4ec=_0x1e2692+':\x20'+_0x1501c5;throw this['logger'][_0x3c9b31(0x1b8)](this[_0x3c9b31(0x198)]+'\x20('+this[_0x3c9b31(0x3c2)]['wuid']+_0x3c9b31(0x574)+_0x8ed4ec),new m(_0x8ed4ec);}}async[a0_0x5de833(0x446)](){const _0x576858=a0_0x5de833;try{let _0x35ffc7={'status':_0x576858(0xb8)},_0x4e580d=await this['repository']['scheduleMessage']['deleteMany'](_0x35ffc7,this[_0x576858(0x3c2)][_0x576858(0x265)]);if(!_0x4e580d[_0x576858(0x1b8)])this[_0x576858(0x4a2)][_0x576858(0x33b)](this[_0x576858(0x198)]+'\x20('+this[_0x576858(0x3c2)][_0x576858(0x265)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x4e580d[_0x576858(0x1b8)]['message']||_0x576858(0x2f0));return this[_0x576858(0x41f)]();}catch(_0x2c87e8){let _0x4d45fb='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x36cecd=_0x2c87e8 instanceof Error?_0x2c87e8['message']:typeof _0x2c87e8=='object'?JSON[_0x576858(0x564)](_0x2c87e8):_0x2c87e8,_0x362bcd=_0x4d45fb+':\x20'+_0x36cecd;throw this[_0x576858(0x4a2)][_0x576858(0x1b8)](this[_0x576858(0x198)]+'\x20('+this['instance'][_0x576858(0x265)]+_0x576858(0x574)+_0x362bcd),new m(_0x362bcd);}}async['SendScheduleMessage'](_0x5933e1,_0x3b863a){const _0x5df272=a0_0x5de833;try{if(_0x3b863a['type']===_0x5df272(0x594)&&!this[_0x5df272(0x30d)]?.[_0x5df272(0x257)][_0x5df272(0x4a9)])return this[_0x5df272(0x4a2)][_0x5df272(0x1b8)](this[_0x5df272(0x198)]+'\x20('+this['instance'][_0x5df272(0x265)]+_0x5df272(0x2b3)),{'error':!0x0,'detail':_0x5df272(0x420)};switch(_0x3b863a[_0x5df272(0x300)]){case _0x5df272(0x1d2):return await this[_0x5df272(0x488)](_0x3b863a,_0x5933e1);case _0x5df272(0xd6):return await this[_0x5df272(0x677)](_0x3b863a,_0x5933e1);case _0x5df272(0x5f6):return await this[_0x5df272(0x218)](_0x3b863a,_0x5933e1);case _0x5df272(0x594):let _0x1dcc25=new Ve();return _0x1dcc25[_0x5df272(0x40f)]=_0x3b863a[_0x5df272(0x590)],_0x1dcc25[_0x5df272(0x572)]=_0x5933e1,await this['startFlow'](_0x1dcc25);break;default:return this[_0x5df272(0x4a2)]['error'](this[_0x5df272(0x198)]+'\x20('+this[_0x5df272(0x3c2)][_0x5df272(0x265)]+_0x5df272(0x372)+_0x3b863a[_0x5df272(0x300)]),{'error':!0x0,'detail':_0x5df272(0x617)};}}catch(_0x556a70){return this[_0x5df272(0x4a2)]['error'](this[_0x5df272(0x198)]+'\x20('+this[_0x5df272(0x3c2)][_0x5df272(0x265)]+_0x5df272(0x19d)+(_0x556a70 instanceof Error?_0x556a70[_0x5df272(0x37e)]:JSON['stringify'](_0x556a70,null,0x2))),{'error':!0x0,'detail':_0x556a70[_0x5df272(0x37e)]};}}[a0_0x5de833(0x6ad)](_0x52e97e){const _0x2e6707=a0_0x5de833;let _0x4845b1=_0x52e97e[_0x2e6707(0x3a3)]('|'),_0x5f4b08=Math['floor'](Math['random']()*_0x4845b1[_0x2e6707(0x612)]);return _0x4845b1[_0x5f4b08]['trim']();}async[a0_0x5de833(0x488)](_0xd57ffb,_0x589900){const _0x39fda2=a0_0x5de833;if(this['logger'][_0x39fda2(0x33b)](this['instanceName']+'\x20('+this[_0x39fda2(0x3c2)][_0x39fda2(0x265)]+_0x39fda2(0x6a5)),!_0xd57ffb[_0x39fda2(0x37e)][_0x39fda2(0x1d2)]||_0xd57ffb[_0x39fda2(0x37e)][_0x39fda2(0x1d2)][_0x39fda2(0x612)]===0x0)return{'error':!0x0,'detail':_0x39fda2(0x4b2)};let _0x50cd53=this[_0x39fda2(0x6ad)](_0xd57ffb[_0x39fda2(0x37e)][_0x39fda2(0x1d2)]),_0x2205ac=await this[_0x39fda2(0x358)](_0x50cd53,_0x589900),_0x17ccc9={'number':_0x589900,'options':{'delay':_0xd57ffb['message'][_0x39fda2(0x254)],'linkPreview':_0xd57ffb[_0x39fda2(0x37e)][_0x39fda2(0x2ad)]},'textMessage':{'text':_0x2205ac}},_0x1b3a5c=null;try{let _0x32f250=await this[_0x39fda2(0x232)](_0x17ccc9);if(_0x32f250&&_0x32f250[_0x39fda2(0x620)])return{'error':!0x1,'id':_0x32f250['key']['id']};_0x1b3a5c=JSON[_0x39fda2(0x564)](_0x32f250),this[_0x39fda2(0x4a2)][_0x39fda2(0x33b)](this[_0x39fda2(0x198)]+'\x20('+this[_0x39fda2(0x3c2)][_0x39fda2(0x265)]+_0x39fda2(0x574)+_0x1b3a5c);}catch(_0x1f6308){this[_0x39fda2(0x4a2)][_0x39fda2(0x1b8)](this[_0x39fda2(0x198)]+'\x20('+this[_0x39fda2(0x3c2)]['wuid']+_0x39fda2(0x76a)+(_0x1f6308 instanceof Error?_0x1f6308[_0x39fda2(0x37e)]:JSON[_0x39fda2(0x564)](_0x1f6308,null,0x2))),_0x1b3a5c=_0x1f6308['message'];}if(_0x1b3a5c)return{'error':!0x0,'detail':(typeof _0x1b3a5c=='object'?JSON[_0x39fda2(0x564)](_0x1b3a5c,null,0x2):_0x1b3a5c)['replace'](/[\[\]{}\n]/g,'\x20')[_0x39fda2(0x25a)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0xbd8242,_0x1b1aaf){const _0x2a6554=a0_0x5de833;this['logger'][_0x2a6554(0x33b)](this[_0x2a6554(0x198)]+'\x20('+this[_0x2a6554(0x3c2)][_0x2a6554(0x265)]+_0x2a6554(0xe4));let _0x1c8143;if(_0xbd8242[_0x2a6554(0x37e)][_0x2a6554(0x1d2)]&&_0xbd8242[_0x2a6554(0x37e)][_0x2a6554(0x1d2)][_0x2a6554(0x612)]>0x0){let _0x5b0698=this[_0x2a6554(0x6ad)](_0xbd8242['message'][_0x2a6554(0x1d2)]);_0x1c8143=await this['replaceVariablesChat'](_0x5b0698,_0x1b1aaf);}let _0x134948={'number':_0x1b1aaf,'options':{'delay':_0xbd8242['message'][_0x2a6554(0x254)],'linkPreview':_0xbd8242['message'][_0x2a6554(0x2ad)]},'mediaMessage':{'mediatype':_0xbd8242[_0x2a6554(0x37e)][_0x2a6554(0x445)],'caption':_0x1c8143,'media':_0xbd8242[_0x2a6554(0x37e)][_0x2a6554(0xac)]}},_0x2689c7=null;try{let _0x4aeeec=await this['mediaMessage'](_0x134948);if(_0x4aeeec&&_0x4aeeec[_0x2a6554(0x620)])return{'error':!0x1,'id':_0x4aeeec[_0x2a6554(0x298)]['id']};_0x2689c7=JSON[_0x2a6554(0x564)](_0x4aeeec),this['logger'][_0x2a6554(0x33b)](this['instanceName']+'\x20('+this[_0x2a6554(0x3c2)][_0x2a6554(0x265)]+_0x2a6554(0x574)+_0x2689c7);}catch(_0x2d0432){this[_0x2a6554(0x4a2)][_0x2a6554(0x1b8)](this[_0x2a6554(0x198)]+'\x20('+this[_0x2a6554(0x3c2)]['wuid']+_0x2a6554(0x118)+(_0x2d0432 instanceof Error?_0x2d0432[_0x2a6554(0x37e)]:JSON['stringify'](_0x2d0432,null,0x2))),_0x2689c7=_0x2d0432[_0x2a6554(0x37e)];}if(_0x2689c7)return{'error':!0x0,'detail':(typeof _0x2689c7==_0x2a6554(0x31d)?JSON['stringify'](_0x2689c7,null,0x2):_0x2689c7)[_0x2a6554(0x25a)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x3b5d00,_0x1eaee4){const _0x4a90c3=a0_0x5de833;this[_0x4a90c3(0x4a2)][_0x4a90c3(0x33b)](this[_0x4a90c3(0x198)]+'\x20('+this[_0x4a90c3(0x3c2)][_0x4a90c3(0x265)]+_0x4a90c3(0x551));let _0x74be4c={'number':_0x1eaee4,'options':{'delay':_0x3b5d00[_0x4a90c3(0x37e)][_0x4a90c3(0x254)]},'audioMessage':{'audio':_0x3b5d00[_0x4a90c3(0x37e)]['urlOrBase64']}},_0x25c139=null;try{let _0x56aa8c=await this[_0x4a90c3(0x3ff)](_0x74be4c);if(_0x56aa8c&&_0x56aa8c[_0x4a90c3(0x620)])return{'error':!0x1,'id':_0x56aa8c[_0x4a90c3(0x298)]['id']};_0x25c139=JSON[_0x4a90c3(0x564)](_0x56aa8c),this[_0x4a90c3(0x4a2)][_0x4a90c3(0x33b)](this['instanceName']+'\x20('+this[_0x4a90c3(0x3c2)][_0x4a90c3(0x265)]+_0x4a90c3(0x574)+_0x25c139);}catch(_0x5f896e){this[_0x4a90c3(0x4a2)][_0x4a90c3(0x1b8)](this[_0x4a90c3(0x198)]+'\x20('+this[_0x4a90c3(0x3c2)][_0x4a90c3(0x265)]+_0x4a90c3(0x692)+(_0x5f896e instanceof Error?_0x5f896e['message']:JSON[_0x4a90c3(0x564)](_0x5f896e,null,0x2))),_0x25c139=_0x5f896e[_0x4a90c3(0x37e)];}if(_0x25c139)return{'error':!0x0,'detail':(typeof _0x25c139==_0x4a90c3(0x31d)?JSON['stringify'](_0x25c139,null,0x2):_0x25c139)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5de833(0x616)](_0x1e3f0e){const _0x461e65=a0_0x5de833;try{return await this['client'][_0x461e65(0x792)](_0x1e3f0e[_0x461e65(0x502)],_0x1e3f0e[_0x461e65(0x3d9)]),{'update':'success'};}catch(_0x5449f2){let _0x5ec8ff='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc',_0x4711ab=_0x5449f2 instanceof Error?_0x5449f2['message']:typeof _0x5449f2==_0x461e65(0x31d)?JSON[_0x461e65(0x564)](_0x5449f2):_0x5449f2,_0x41f8bc=_0x5ec8ff+':\x20'+_0x4711ab;throw this[_0x461e65(0x4a2)][_0x461e65(0x1b8)](this['instanceName']+'\x20('+this[_0x461e65(0x3c2)]['wuid']+_0x461e65(0x574)+_0x41f8bc),new I(_0x41f8bc);}}async[a0_0x5de833(0x56c)](_0x1dd6fb){const _0x1ec757=a0_0x5de833;try{return await this[_0x1ec757(0xa9)][_0x1ec757(0x1c8)](_0x1dd6fb[_0x1ec757(0x502)],_0x1dd6fb[_0x1ec757(0x40f)]),{'update':'success'};}catch(_0x5a635a){let _0x49a8fd=_0x1ec757(0x20b),_0xf25ccf=_0x5a635a instanceof Error?_0x5a635a[_0x1ec757(0x37e)]:typeof _0x5a635a==_0x1ec757(0x31d)?JSON[_0x1ec757(0x564)](_0x5a635a):_0x5a635a,_0x291b57=_0x49a8fd+':\x20'+_0xf25ccf;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1ec757(0x265)]+_0x1ec757(0x574)+_0x291b57),new I(_0x291b57);}}async[a0_0x5de833(0x339)](_0x5df88f){const _0xb38e4=a0_0x5de833;try{let _0x170891=await this[_0xb38e4(0xa9)][_0xb38e4(0x5b2)](_0x5df88f[_0xb38e4(0x502)],_0x5df88f[_0xb38e4(0x347)]);return{'success':!0x0};}catch(_0x38deea){let _0x4f1df5=_0xb38e4(0x1be),_0x258c65=_0x38deea instanceof Error?_0x38deea[_0xb38e4(0x37e)]:typeof _0x38deea=='object'?JSON[_0xb38e4(0x564)](_0x38deea):_0x38deea,_0x356747=_0x4f1df5+':\x20'+_0x258c65;throw this[_0xb38e4(0x4a2)][_0xb38e4(0x1b8)](this[_0xb38e4(0x198)]+'\x20('+this[_0xb38e4(0x3c2)][_0xb38e4(0x265)]+_0xb38e4(0x574)+_0x356747),new I(_0x356747);}}async[a0_0x5de833(0x4d1)](_0x3f4b06){const _0xd38e09=a0_0x5de833;try{return await this[_0xd38e09(0xa9)][_0xd38e09(0x717)](_0x3f4b06['groupJid'],_0x3f4b06[_0xd38e09(0xe0)]),{'update':_0xd38e09(0x2ae)};}catch(_0x298dd9){let _0x28e8ed=_0xd38e09(0x250),_0x12b844=_0x298dd9 instanceof Error?_0x298dd9['message']:typeof _0x298dd9==_0xd38e09(0x31d)?JSON[_0xd38e09(0x564)](_0x298dd9):_0x298dd9,_0x3342ee=_0x28e8ed+':\x20'+_0x12b844;throw this[_0xd38e09(0x4a2)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd38e09(0x574)+_0x3342ee),new I(_0x3342ee);}}async[a0_0x5de833(0x5da)](_0x4c0a2a){const _0x4f4e48=a0_0x5de833;try{let _0x183f81;if((0x0,k[_0x4f4e48(0x506)])(_0x4c0a2a['image'])){let _0x3e1263=new Date()[_0x4f4e48(0x427)](),_0x48f92b=_0x4c0a2a[_0x4f4e48(0x472)]+_0x4f4e48(0x3e8)+_0x3e1263;_0x183f81=(await K['default'][_0x4f4e48(0x224)](_0x48f92b,{'responseType':_0x4f4e48(0x227)}))[_0x4f4e48(0x385)];}else{if((0x0,k[_0x4f4e48(0x67c)])(_0x4c0a2a['image']))_0x183f81=Buffer[_0x4f4e48(0x4a6)](_0x4c0a2a[_0x4f4e48(0x472)],_0x4f4e48(0x589));else throw new m(_0x4f4e48(0x144));}return await this[_0x4f4e48(0xa9)][_0x4f4e48(0x6ac)](_0x4c0a2a['groupJid'],_0x183f81),{'update':_0x4f4e48(0x2ae)};}catch(_0x3d0ccd){let _0x5ae3a6='Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture',_0x5bc91f=_0x3d0ccd instanceof Error?_0x3d0ccd[_0x4f4e48(0x37e)]:typeof _0x3d0ccd==_0x4f4e48(0x31d)?JSON[_0x4f4e48(0x564)](_0x3d0ccd):_0x3d0ccd,_0x1d41a6=_0x5ae3a6+':\x20'+_0x5bc91f;throw this[_0x4f4e48(0x4a2)][_0x4f4e48(0x1b8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4f4e48(0x574)+_0x1d41a6),new I(_0x1d41a6);}}},Ut=class c{constructor(_0x2023fa,_0x41e086,_0x2d46c6){const _0x2d9257=a0_0x5de833;this[_0x2d9257(0x753)]=_0x2023fa,this[_0x2d9257(0x5cc)]=_0x41e086,this[_0x2d9257(0x719)]=_0x2d46c6,this['db']={},this[_0x2d9257(0xd5)]={},this['logger']=new R(c[_0x2d9257(0x40f)]),this[_0x2d9257(0x3d5)]={},(this[_0x2d9257(0x9d)](),this[_0x2d9257(0x18b)](),Object[_0x2d9257(0x22c)](this['db'],_0x41e086[_0x2d9257(0x224)]('DATABASE')),Object[_0x2d9257(0x22c)](this['redis'],_0x41e086['get'](_0x2d9257(0xc1))),this[_0x2d9257(0x5e3)]=this['db']['ENABLED']?this[_0x2d9257(0x719)][_0x2d9257(0x2d4)]?.['db'](this['db'][_0x2d9257(0x62b)][_0x2d9257(0x2a0)]+_0x2d9257(0x47c)):void 0x0,this[_0x2d9257(0x12e)]=this['redis'][_0x2d9257(0x34e)]?new le(this[_0x2d9257(0xd5)]):void 0x0);}async[a0_0x5de833(0x37b)](_0x85850e){const _0x59f2d3=a0_0x5de833;if(_0x85850e&&!this[_0x59f2d3(0x3d5)][_0x85850e])throw new U(_0x59f2d3(0x26e)+_0x85850e+_0x59f2d3(0x38a));let _0x3ff206=[];for await(let [_0x759602,_0x4d87e0]of Object['entries'](this[_0x59f2d3(0x3d5)]))if(_0x4d87e0&&_0x4d87e0[_0x59f2d3(0x603)]['state']===_0x59f2d3(0x663)){let _0x2d7385=await this[_0x59f2d3(0x719)][_0x59f2d3(0x7a9)]['find'](_0x759602);_0x3ff206[_0x59f2d3(0x2c5)]({'instance':{'instanceName':_0x759602,'apikey':_0x2d7385['apikey'],'owner':_0x4d87e0['wuid'],'profileName':await _0x4d87e0['getProfileName']()||_0x59f2d3(0xbf),'profilePictureUrl':_0x4d87e0['profilePictureUrl']}});}return _0x3ff206[_0x59f2d3(0x781)](_0x6ee9e=>_0x6ee9e[_0x59f2d3(0x3c2)][_0x59f2d3(0x198)]===_0x85850e)??_0x3ff206;}async['cleaningUp'](_0x1805b1){const _0x2015d1=a0_0x5de833;if(this['db'][_0x2015d1(0x34e)]&&(await this[_0x2015d1(0x719)][_0x2015d1(0x2d4)][_0x2015d1(0x53b)](),(await this[_0x2015d1(0x5e3)][_0x2015d1(0x76f)]())[_0x2015d1(0x612)]>0x0&&await this[_0x2015d1(0x5e3)][_0x2015d1(0x694)](_0x1805b1)),this[_0x2015d1(0xd5)][_0x2015d1(0x34e)]){this[_0x2015d1(0x12e)][_0x2015d1(0x4c2)]=_0x1805b1,await this[_0x2015d1(0x12e)][_0x2015d1(0x47e)]();return;}}async[a0_0x5de833(0x5e0)](){const _0x3573be=a0_0x5de833;await this[_0x3573be(0x6dd)]();let _0x1fc783=async _0x1cc11a=>{const _0x27f463=_0x3573be;let _0x3c6724=new Ce(this[_0x27f463(0x5cc)],this[_0x27f463(0x753)],this['repository']);_0x3c6724[_0x27f463(0x198)]=_0x1cc11a,await _0x3c6724['connectToWhatsapp'](),this[_0x27f463(0x3d5)][_0x1cc11a]=_0x3c6724;};try{if(this[_0x3573be(0xd5)][_0x3573be(0x34e)]){let _0x2cbb4b=await this['cache'][_0x3573be(0xf3)]();_0x2cbb4b?.[_0x3573be(0x612)]>0x0&&_0x2cbb4b['forEach'](async _0x28b561=>await _0x1fc783(_0x28b561['split'](':')[0x1]));return;}if(this['db'][_0x3573be(0x34e)]){await this[_0x3573be(0x719)][_0x3573be(0x2d4)][_0x3573be(0x53b)]();let _0x2d065a=await this[_0x3573be(0x5e3)][_0x3573be(0x76f)]();_0x2d065a[_0x3573be(0x612)]>0x0&&_0x2d065a[_0x3573be(0x1b4)](async _0x169392=>await _0x1fc783(_0x169392['namespace'][_0x3573be(0x25a)](/^[\w-]+\./,'')));return;}}catch(_0x9e26af){this[_0x3573be(0x4a2)][_0x3573be(0x1b8)](_0x9e26af);}}async[a0_0x5de833(0x17b)](){const _0x1ded0b=a0_0x5de833;let _0x5f59ff=await this[_0x1ded0b(0x719)][_0x1ded0b(0x7a9)]['findAll'](),_0x457b4a=_0x5f59ff[_0x1ded0b(0x2f4)](_0x2ef76a=>!this[_0x1ded0b(0x3d5)][_0x2ef76a[_0x1ded0b(0x478)]]&&(_0x2ef76a['online']||typeof _0x2ef76a[_0x1ded0b(0x4c5)]>'u'));_0x457b4a[_0x1ded0b(0x612)]>0x0&&await Promise[_0x1ded0b(0x110)](_0x457b4a[_0x1ded0b(0x4ba)](async _0x384444=>{const _0x6e0685=_0x1ded0b;let _0x399976={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x6e0685(0x719)][_0x6e0685(0x7a9)][_0x6e0685(0x32e)](_0x399976,_0x384444['_id']);}));let _0xa36daa=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0xf62503=_0x5f59ff['filter'](_0x92ea8b=>!this[_0x1ded0b(0x3d5)][_0x92ea8b[_0x1ded0b(0x478)]]&&typeof _0x92ea8b[_0x1ded0b(0x70c)]<'u'&&_0x92ea8b[_0x1ded0b(0x70c)]<_0xa36daa);_0xf62503[_0x1ded0b(0x612)]>0x0&&await Promise['all'](_0xf62503[_0x1ded0b(0x4ba)](async _0x46edc2=>{}));}async[a0_0x5de833(0x6dd)](){const _0x35ecf2=a0_0x5de833;try{let _0x31b845={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1b4f08={'online':!0x1,'lastDisconnect':Date[_0x35ecf2(0x338)]()},_0x52ebcc=await this[_0x35ecf2(0x719)][_0x35ecf2(0x7a9)]['updateAll'](_0x31b845,_0x1b4f08);console[_0x35ecf2(0x6c3)]('Instncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x52ebcc[_0x35ecf2(0xd3)]),await this[_0x35ecf2(0x28d)]();}catch(_0xa31456){console['error']('Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:',_0xa31456);}}async[a0_0x5de833(0x28d)](){const _0x5dfbe9=a0_0x5de833;try{let _0x4083a1={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x499cd1=await this[_0x5dfbe9(0x719)][_0x5dfbe9(0x7a9)][_0x5dfbe9(0x65b)](_0x4083a1);console['log'](_0x5dfbe9(0x605)+_0x499cd1[_0x5dfbe9(0xd3)]);}catch(_0x48ac6d){console[_0x5dfbe9(0x1b8)](_0x5dfbe9(0x40a),_0x48ac6d);}}['removeInstance'](){const _0x132378=a0_0x5de833;this[_0x132378(0x753)]['on'](_0x132378(0x4dc),async _0x10b7f0=>{const _0xbe4e5=_0x132378;try{this['waInstances'][_0x10b7f0]=void 0x0;}catch{}try{this['cleaningUp'](_0x10b7f0);}finally{this['logger']['warn'](_0xbe4e5(0x26e)+_0x10b7f0+_0xbe4e5(0x793));}});}[a0_0x5de833(0x18b)](){const _0x2eee7f=a0_0x5de833;this[_0x2eee7f(0x753)]['on'](_0x2eee7f(0x262),async _0x330823=>{const _0x211f0d=_0x2eee7f;try{this[_0x211f0d(0x3d5)][_0x330823]=void 0x0;}catch{}try{this[_0x211f0d(0x45c)](_0x330823);}finally{this['logger']['warn']('Instance\x20\x22'+_0x330823+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{['getChatModelForOwner'](_0x46411f){return Qs(_0x46411f);}async[a0_0x5de833(0x3e6)](_0x4cd5fc){const _0x3983dc=a0_0x5de833;if(_0x4cd5fc[_0x3983dc(0x612)]!==0x0)try{return{'insertCount':(await this[_0x3983dc(0x408)](_0x4cd5fc[0x0][_0x3983dc(0x215)])['insertMany']([..._0x4cd5fc]))[_0x3983dc(0x612)]};}catch(_0x3bce8d){return _0x3bce8d;}}async[a0_0x5de833(0x781)](_0x5286d2,_0x416b82){const _0x1db2cc=a0_0x5de833;try{let _0x239e3d=this[_0x1db2cc(0x408)](_0x416b82),_0x4a578d=T(_0x5286d2[_0x1db2cc(0x171)]);return await _0x239e3d[_0x1db2cc(0x781)](_0x4a578d)[_0x1db2cc(0x4c0)]({'lastmsg':-0x1})[_0x1db2cc(0x24c)](_0x5286d2?.[_0x1db2cc(0x24c)]??0x0)[_0x1db2cc(0x1f8)]();}catch{return[];}}async['delete'](_0x168e38,_0x412db7){const _0x1cc4ed=a0_0x5de833;try{return{'deletedCount':(await this[_0x1cc4ed(0x408)](_0x412db7)[_0x1cc4ed(0x65b)]({..._0x168e38[_0x1cc4ed(0x171)]}))[_0x1cc4ed(0x71d)]};}catch(_0x4aa5f7){return{'error':_0x4aa5f7?.[_0x1cc4ed(0x667)]()};}}async[a0_0x5de833(0x70e)](_0x44964b,_0x2a89c9){const _0x4658c2=a0_0x5de833;try{return await this[_0x4658c2(0x408)](_0x2a89c9)[_0x4658c2(0x65b)]({..._0x44964b[_0x4658c2(0x171)]}),[];}catch(_0x52b34a){return{'error':_0x52b34a?.[_0x4658c2(0x667)]()};}}async['findOne'](_0x1848fa,_0x5e8dec){const _0x3c0efc=a0_0x5de833;try{let _0x1f9904=this[_0x3c0efc(0x408)](_0x5e8dec),_0x407b2f=T(_0x1848fa[_0x3c0efc(0x171)]);return await _0x1f9904[_0x3c0efc(0x782)](_0x407b2f)[_0x3c0efc(0x1f8)]();}catch{return null;}}async[a0_0x5de833(0x4fc)](_0x5e62d9,_0x372c2e,_0x2e7aaa,_0x5ad91a,_0x45f0a0=a0_0x5de833(0x1da)){const _0x5e8ec9=a0_0x5de833;try{let _0xa47f3a={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5ad91a},_0x980a5c=this['getChatModelForOwner'](_0x2e7aaa),_0x40660d=T(_0x5e62d9[_0x5e8ec9(0x171)]);Object[_0x5e8ec9(0x4a0)](_0x372c2e)['forEach'](_0x3ec236=>{_0x372c2e[_0x3ec236]==null&&delete _0x372c2e[_0x3ec236];});let _0xed09c8={};return _0xed09c8[_0x45f0a0]=_0x372c2e,await _0x980a5c[_0x5e8ec9(0x5f3)](_0x40660d,_0xed09c8,_0xa47f3a);}catch(_0xb5a460){return console['error'](_0xb5a460),null;}}async[a0_0x5de833(0x1dc)](_0x5b8c41){const _0x19b21d=a0_0x5de833;try{let _0x53c960=this[_0x19b21d(0x408)](_0x5b8c41[0x0][_0x19b21d(0x745)][_0x19b21d(0x171)][_0x19b21d(0x215)]),_0x1afae4=_0x5b8c41[_0x19b21d(0x4ba)](_0x168582=>({'updateOne':{'filter':{..._0x168582[_0x19b21d(0x745)][_0x19b21d(0x171)]},'update':{'$set':_0x168582[_0x19b21d(0x5ba)]},'upsert':!0x0}})),_0x23fada=await _0x53c960[_0x19b21d(0x669)](_0x1afae4);return _0x23fada['modifiedCount']+_0x23fada[_0x19b21d(0x166)];}catch(_0x41ff4b){return console[_0x19b21d(0x1b8)](_0x41ff4b),0x0;}}async[a0_0x5de833(0x59a)](_0x5cc5e7){const _0x3a570f=a0_0x5de833;try{let _0x3a38e3={'group_isCommunity':'','group_announce':'','group_size':''},_0x261fb4={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x562ab4={'$unset':_0x3a38e3};return(await this[_0x3a570f(0x408)](_0x5cc5e7)['updateMany'](_0x261fb4,_0x562ab4))[_0x3a570f(0x536)];}catch(_0x5f51f4){return console[_0x3a570f(0x1b8)](_0x3a570f(0x273),_0x5f51f4),0x0;}}async[a0_0x5de833(0x99)](_0x1c57b4){const _0x115b04=a0_0x5de833;try{let _0x58b3a8=this[_0x115b04(0x408)](_0x1c57b4),_0x5fbedf={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1bb693={'$set':{'leadInfo.etiquetas':[]}};return(await _0x58b3a8[_0x115b04(0x1dc)](_0x5fbedf,_0x1bb693))[_0x115b04(0x536)];}catch(_0x57bfd5){return console[_0x115b04(0x1b8)](_0x57bfd5),0x0;}}async[a0_0x5de833(0x37d)](_0x2e1b19){const _0x13a114=a0_0x5de833;try{let _0x377f76=this[_0x13a114(0x408)](_0x2e1b19),_0x29af13={'leadInfo.tags':{'$exists':!0x1}},_0x582e51={'$set':{'leadInfo.tags':[]}};return(await _0x377f76[_0x13a114(0x1dc)](_0x29af13,_0x582e51))[_0x13a114(0x536)];}catch(_0x1c9cc1){return console[_0x13a114(0x1b8)](_0x1c9cc1),0x0;}}async[a0_0x5de833(0x4bf)](_0x358b4d){const _0x560dcd=a0_0x5de833;try{let _0x36d2ea=this['getChatModelForOwner'](_0x358b4d),_0x5c1dbf={'leadInfo.customFields':{'$exists':!0x1}},_0x141750={'$set':{'leadInfo.customFields':[]}};return(await _0x36d2ea[_0x560dcd(0x1dc)](_0x5c1dbf,_0x141750))[_0x560dcd(0x536)];}catch(_0x4eb919){return console[_0x560dcd(0x1b8)](_0x4eb919),0x0;}}async[a0_0x5de833(0x10e)](_0x3928e9,_0x498385){const _0x41bf39=a0_0x5de833;if(!Array[_0x41bf39(0x529)](_0x3928e9)||_0x3928e9[_0x41bf39(0x612)]===0x0)throw new Error(_0x41bf39(0x76c));try{return(await this[_0x41bf39(0x408)](_0x498385)['insertMany'](_0x3928e9))['length'];}catch(_0x4a6e8b){throw console[_0x41bf39(0x1b8)](_0x41bf39(0x77c),_0x4a6e8b),_0x4a6e8b;}}async[a0_0x5de833(0x711)](_0x10e61b,_0xb3dfb2){const _0x22acff=a0_0x5de833;try{await this[_0x22acff(0x408)](_0xb3dfb2)[_0x22acff(0x57d)]({'_id':_0x10e61b});}catch(_0x4b2e9c){throw console[_0x22acff(0x1b8)]('Erro\x20ao\x20deletar\x20chat:',_0x4b2e9c),_0x4b2e9c;}}},Vt=class extends x{constructor(_0x56af87,_0x32671e,_0x59d104){const _0xfe5aa9=a0_0x5de833;super(_0x32671e),this[_0xfe5aa9(0x164)]=_0x56af87,this[_0xfe5aa9(0x5cc)]=_0x32671e,this[_0xfe5aa9(0x4c4)]=_0x59d104;}async['insert'](_0x19832d){const _0x2beb9a=a0_0x5de833;if(_0x19832d[_0x2beb9a(0x612)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x2beb9a(0x10e)]([..._0x19832d]))['length']};}catch(_0x15e3ec){return _0x15e3ec;}}async[a0_0x5de833(0x5ba)](_0x819f48,_0x22f282){const _0x35fc0e=a0_0x5de833;try{let _0x5edd1e=T(_0x819f48[_0x35fc0e(0x171)]);return{'updatedCount':(await this['cacheContactModel'][_0x35fc0e(0x1dc)](_0x5edd1e,{'$set':_0x22f282}))[_0x35fc0e(0x536)]};}catch(_0x1d5212){return console[_0x35fc0e(0x1b8)](_0x35fc0e(0x4df),_0x1d5212),{'error':_0x1d5212[_0x35fc0e(0x667)]()};}}async[a0_0x5de833(0x108)](_0x5f2340){const _0x1f03f3=a0_0x5de833;try{let _0x2f3199={'_id':{'$in':_0x5f2340}};return await this[_0x1f03f3(0x164)][_0x1f03f3(0x781)](_0x2f3199)['lean']();}catch(_0x2745e1){return console[_0x1f03f3(0x1b8)]('Error\x20finding\x20many\x20contacts:',_0x2745e1),[];}}async[a0_0x5de833(0xb9)](_0x2fb314){const _0x2e72ab=a0_0x5de833;try{return{'deletedCount':(await this[_0x2e72ab(0x164)][_0x2e72ab(0x65b)]({..._0x2fb314[_0x2e72ab(0x171)]}))[_0x2e72ab(0x71d)]};}catch(_0x1db336){return{'error':_0x1db336?.['toString']()};}}async[a0_0x5de833(0x781)](_0x222c19){const _0xfecfa0=a0_0x5de833;try{let _0x38abc9=T(_0x222c19[_0xfecfa0(0x171)]);return await this[_0xfecfa0(0x164)]['find'](_0x38abc9)[_0xfecfa0(0x24c)](_0x222c19?.[_0xfecfa0(0x24c)]??0x0)['lean']();}catch{return[];}}async[a0_0x5de833(0x782)](_0x5bd772){const _0x2f0655=a0_0x5de833;try{let _0x36be28=T(_0x5bd772[_0x2f0655(0x171)]);return await this[_0x2f0655(0x164)]['findOne'](_0x36be28)[_0x2f0655(0x1f8)]();}catch{return null;}}},Gt=class extends x{[a0_0x5de833(0x1f7)](_0x1cf87c){return fa(_0x1cf87c);}async[a0_0x5de833(0x4fc)](_0x592306,_0x2e820b,_0x199bd5,_0x59a7c5){const _0xcde91a=a0_0x5de833;try{let _0x2133ef={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x59a7c5},_0x52f92f=this[_0xcde91a(0x1f7)](_0x199bd5),_0x5de6cd=T(_0x592306['where']);return await _0x52f92f[_0xcde91a(0x5f3)](_0x5de6cd,{'$set':_0x2e820b},_0x2133ef);}catch(_0x18b214){return console[_0xcde91a(0x1b8)](_0x18b214),null;}}async['find'](_0x2438b9,_0x215cd2){const _0x18afc3=a0_0x5de833;try{let _0x3efb27=this[_0x18afc3(0x1f7)](_0x215cd2),_0xd7c74c=T(_0x2438b9['where']);return await _0x3efb27[_0x18afc3(0x781)](_0xd7c74c);}catch(_0x3f2eb4){console[_0x18afc3(0x1b8)](_0x3f2eb4);}}async['delete'](_0x5113a2,_0x33c6cf){const _0x208a7e=a0_0x5de833;try{let _0x113e37=this['getLabelModelForOwner'](_0x33c6cf),_0x19d3b3=T(_0x5113a2['where']);await _0x113e37[_0x208a7e(0x65b)](_0x19d3b3);}catch(_0x34f576){console[_0x208a7e(0x1b8)](_0x34f576);}}async[a0_0x5de833(0x70e)](_0x63f13f){const _0x2eb712=a0_0x5de833;try{return await this[_0x2eb712(0x1f7)](_0x63f13f)[_0x2eb712(0x163)]['drop'](),{'success':!0x0};}catch(_0x3bdac0){return console['error'](_0x3bdac0),{'success':!0x1,'error':_0x3bdac0};}}},Bt=class{constructor(_0x3b07ff){const _0x99f6fd=a0_0x5de833;this[_0x99f6fd(0x5cd)]=_0x3b07ff;}async[a0_0x5de833(0x462)]({instanceName:_0x16272d},_0x3d39ce){const _0x303cad=a0_0x5de833;return await this['waMonitor'][_0x303cad(0x3d5)][_0x16272d][_0x303cad(0x462)](_0x3d39ce);}async[a0_0x5de833(0x12d)]({instanceName:_0x5e8a16},_0x32a2e8){const _0x4c9899=a0_0x5de833;return await this[_0x4c9899(0x5cd)]['waInstances'][_0x5e8a16][_0x4c9899(0x12d)](_0x32a2e8);}async[a0_0x5de833(0x177)]({instanceName:_0x47a712},_0x2a5b8c){const _0x24c21d=a0_0x5de833;return await this[_0x24c21d(0x5cd)][_0x24c21d(0x3d5)][_0x47a712][_0x24c21d(0x177)](_0x2a5b8c);}async[a0_0x5de833(0x718)]({instanceName:_0x4c7188},_0x425455){const _0x2e05e3=a0_0x5de833;return await this[_0x2e05e3(0x5cd)]['waInstances'][_0x4c7188][_0x2e05e3(0x181)](_0x425455);}async[a0_0x5de833(0x349)]({instanceName:_0x4450d3},_0x5ec819){const _0x21573a=a0_0x5de833;return await this[_0x21573a(0x5cd)][_0x21573a(0x3d5)][_0x4450d3][_0x21573a(0x349)](_0x5ec819);}async[a0_0x5de833(0x1cc)]({instanceName:_0x1f43d6},_0x3a1dc4){const _0x4745fc=a0_0x5de833;return await this[_0x4745fc(0x5cd)]['waInstances'][_0x1f43d6][_0x4745fc(0x1cc)](_0x3a1dc4);}async[a0_0x5de833(0x63c)]({instanceName:_0x2c362a},_0x11c4b8){const _0x31e647=a0_0x5de833;return await this[_0x31e647(0x5cd)]['waInstances'][_0x2c362a][_0x31e647(0x30a)](_0x11c4b8['number']);}async[a0_0x5de833(0x56f)]({instanceName:_0x2f3152},_0x2346ed){const _0x554013=a0_0x5de833;return await this['waMonitor'][_0x554013(0x3d5)][_0x2f3152]['fetchProfile'](_0x2346ed[_0x554013(0x256)]);}async[a0_0x5de833(0x550)]({instanceName:_0x3c930f},_0x52edae){const _0xcdc088=a0_0x5de833;return await this['waMonitor'][_0xcdc088(0x3d5)][_0x3c930f][_0xcdc088(0x550)](_0x52edae);}async[a0_0x5de833(0x6e7)]({instanceName:_0x43a460},_0x449b41){const _0x3804db=a0_0x5de833;return await this[_0x3804db(0x5cd)][_0x3804db(0x3d5)][_0x43a460][_0x3804db(0x6e7)](_0x449b41);}async[a0_0x5de833(0x18f)]({instanceName:_0x1d7a50},_0x27d16d){const _0xf5c822=a0_0x5de833;return await this[_0xf5c822(0x5cd)]['waInstances'][_0x1d7a50]['getBase64FromMediaMessage'](_0x27d16d);}async[a0_0x5de833(0xbd)]({instanceName:_0x2c0146},_0x4ab287){const _0x3bce84=a0_0x5de833;return await this['waMonitor'][_0x3bce84(0x3d5)][_0x2c0146][_0x3bce84(0xbd)](_0x4ab287);}async['fetchLabels']({instanceName:_0x1814fe}){const _0x5403a4=a0_0x5de833;return await this[_0x5403a4(0x5cd)][_0x5403a4(0x3d5)][_0x1814fe][_0x5403a4(0x167)]();}async[a0_0x5de833(0x49e)]({instanceName:_0x1beb5a}){const _0x1b8d42=a0_0x5de833;return await this[_0x1b8d42(0x5cd)][_0x1b8d42(0x3d5)][_0x1beb5a][_0x1b8d42(0x49e)]();}async[a0_0x5de833(0x120)]({instanceName:_0x1c6af0}){const _0x38c0bb=a0_0x5de833;return await this[_0x38c0bb(0x5cd)][_0x38c0bb(0x3d5)][_0x1c6af0][_0x38c0bb(0x120)]();}async[a0_0x5de833(0xcb)]({instanceName:_0x3140c7},_0x38a2f2){const _0x2b313c=a0_0x5de833;return await this[_0x2b313c(0x5cd)][_0x2b313c(0x3d5)][_0x3140c7][_0x2b313c(0xcb)](_0x38a2f2);}async[a0_0x5de833(0xc4)]({instanceName:_0x4794f7},_0x561d68){const _0x155869=a0_0x5de833;return await this[_0x155869(0x5cd)][_0x155869(0x3d5)][_0x4794f7]['fetchBusinessProfile'](_0x561d68[_0x155869(0x256)]);}async[a0_0x5de833(0x367)]({instanceName:_0x55585d},_0x4fca03){const _0x112c8e=a0_0x5de833;return await this['waMonitor'][_0x112c8e(0x3d5)][_0x55585d][_0x112c8e(0x367)](_0x4fca03[_0x112c8e(0x40f)]);}async['updateProfileStatus']({instanceName:_0x6649ba},_0x53c0d3){const _0x4d034a=a0_0x5de833;return await this[_0x4d034a(0x5cd)][_0x4d034a(0x3d5)][_0x6649ba][_0x4d034a(0x736)](_0x53c0d3[_0x4d034a(0x620)]);}async[a0_0x5de833(0x6ac)]({instanceName:_0x179d06},_0x341e9d){const _0x102bf6=a0_0x5de833;return await this[_0x102bf6(0x5cd)][_0x102bf6(0x3d5)][_0x179d06][_0x102bf6(0x6ac)](_0x341e9d[_0x102bf6(0x518)]);}async[a0_0x5de833(0x4d7)]({instanceName:_0x25499c},_0x3ef192){const _0x50eb1c=a0_0x5de833;return await this[_0x50eb1c(0x5cd)][_0x50eb1c(0x3d5)][_0x25499c][_0x50eb1c(0x4d7)]();}},_s=require(a0_0x5de833(0x515)),Wt=class c{constructor(_0xd199dc,_0x295fa0,_0x1f548f,_0x5264b7,_0x452236){const _0x5b7a19=a0_0x5de833;this[_0x5b7a19(0x5cd)]=_0xd199dc,this['configService']=_0x295fa0,this[_0x5b7a19(0x719)]=_0x1f548f,this[_0x5b7a19(0x753)]=_0x5264b7,this[_0x5b7a19(0x563)]=_0x452236,this[_0x5b7a19(0x4a2)]=new R(c[_0x5b7a19(0x40f)]);}async[a0_0x5de833(0x261)]({instanceName:_0x3105db,apikey:_0x22b1be,number:_0x489ed0,proxy:_0xbda2de=!0x0}){const _0x2c2c88=a0_0x5de833;try{let _0x90cb22=new Ce(this[_0x2c2c88(0x5cc)],this['eventEmitter'],this[_0x2c2c88(0x719)]);_0x90cb22['instanceName']=_0x3105db,this[_0x2c2c88(0x5cd)][_0x2c2c88(0x3d5)][_0x90cb22[_0x2c2c88(0x198)]]=_0x90cb22;let _0x219b2a={};_0x22b1be?(await this[_0x2c2c88(0x719)]['auth'][_0x2c2c88(0x32e)]({'apikey':_0x22b1be},_0x3105db),_0x219b2a['apikey']=_0x22b1be):_0x219b2a=await this[_0x2c2c88(0x563)][_0x2c2c88(0x647)]({'instanceName':_0x90cb22['instanceName']});let _0xfe096;if(_0x489ed0){if(_0xfe096=await this[_0x2c2c88(0x576)](_0x489ed0),_0xfe096[_0x2c2c88(0x1b8)])throw new I(_0xfe096[_0x2c2c88(0x1b8)][_0x2c2c88(0x667)]());_0x489ed0=_0xfe096['number'];}let _0x27ec41;return await _0x90cb22[_0x2c2c88(0x1f1)](_0x489ed0),await(0x0,_s[_0x2c2c88(0x254)])(0x7d0),_0x27ec41=_0x90cb22['qrCode'],{'instance':{'instanceName':_0x90cb22[_0x2c2c88(0x198)],'status':_0x2c2c88(0x1f9)},'hash':_0x219b2a,'qrcode':_0x27ec41};}catch(_0x57179f){throw this[_0x2c2c88(0x4a2)][_0x2c2c88(0x1b8)](_0x57179f),_0x57179f;}}async[a0_0x5de833(0x158)]({instanceName:_0x1faf87,number:_0x2e7fda=null}){const _0x45caab=a0_0x5de833;try{let _0x100523=this[_0x45caab(0x5cd)][_0x45caab(0x3d5)][_0x1faf87];switch(_0x100523?.['connectionStatus']?.['state']){case _0x45caab(0x44f):return await _0x100523[_0x45caab(0x1f1)](_0x2e7fda),await(0x0,_s['delay'])(0x7d0),_0x100523[_0x45caab(0x10f)];case _0x45caab(0x5f5):return _0x100523[_0x45caab(0x10f)];default:return await this[_0x45caab(0x67a)]({'instanceName':_0x1faf87});}}catch(_0x3b57d5){this[_0x45caab(0x4a2)][_0x45caab(0x6c3)](_0x3b57d5);}}async[a0_0x5de833(0x67a)]({instanceName:_0x555cef}){const _0x54ad6e=a0_0x5de833;let _0x76ac83=this[_0x54ad6e(0x5cd)][_0x54ad6e(0x3d5)][_0x555cef][_0x54ad6e(0x603)],_0xa074dc=null;_0x76ac83[_0x54ad6e(0x1b3)]===_0x54ad6e(0x663)&&_0x555cef&&(_0xa074dc=await this[_0x54ad6e(0x5cd)]['instanceInfo'](_0x555cef));let _0x45dbf4=null;return _0x76ac83['state']===_0x54ad6e(0x5f5)&&_0x555cef&&(_0x45dbf4=this[_0x54ad6e(0x5cd)]['waInstances'][_0x555cef]['qrCode']),{'instance':_0x555cef,'connectionStatus':_0x76ac83,'instanceInfo':_0xa074dc,'qrcode':_0x45dbf4};}async[a0_0x5de833(0x576)](_0x3d2da6){const _0x1488df=a0_0x5de833;_0x3d2da6=_0x3d2da6[_0x1488df(0x25a)](/\D/g,'');let _0x25a6e7=Object[_0x1488df(0x4a0)](this[_0x1488df(0x5cd)][_0x1488df(0x3d5)])[_0x1488df(0x2f4)](_0x3f98e2=>{const _0x52b2f0=_0x1488df;let _0x2fb4ed=this[_0x52b2f0(0x5cd)][_0x52b2f0(0x3d5)][_0x3f98e2];return _0x2fb4ed&&_0x2fb4ed['connectionStatus']&&_0x2fb4ed[_0x52b2f0(0x603)][_0x52b2f0(0x1b3)]===_0x52b2f0(0x663);});if(_0x25a6e7[_0x1488df(0x612)]===0x0)return{'number':this[_0x1488df(0x11a)](_0x3d2da6)};let _0x54b7c1=Math[_0x1488df(0x429)](Math['random']()*_0x25a6e7[_0x1488df(0x612)]),_0x3209e1=_0x25a6e7[_0x54b7c1];try{let _0x2a93e4=(await this[_0x1488df(0x5cd)][_0x1488df(0x3d5)][_0x3209e1][_0x1488df(0x12d)]({'numbers':[_0x3d2da6]}))[_0x1488df(0x31a)]();return _0x2a93e4[_0x1488df(0x640)]?{'number':_0x2a93e4['jid'][_0x1488df(0x25a)]('@s.whatsapp.net','')}:{'number':_0x3d2da6,'error':'Nmero\x20no\x20possui\x20WhatsApp.'};}catch(_0x31e8f2){return this['logger'][_0x1488df(0x1b8)](_0x1488df(0x1b7)+_0x31e8f2),{'number':_0x3d2da6,'error':_0x1488df(0x4d9)};}}[a0_0x5de833(0x11a)](_0x10600b){const _0x1a099a=a0_0x5de833;let _0x13542f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1a099a(0x571)](_0x10600b);if(_0x13542f&&_0x13542f[0x1]==='55'){let _0x1fbd39=_0x13542f[0x2],_0x504bcb=_0x13542f[0x3],_0x320d16=_0x13542f[0x4];if(parseInt(_0x1fbd39)>=0x1f&&_0x504bcb==='9')return _0x13542f[0x1]+_0x1fbd39+_0x320d16;}return _0x10600b;}async[a0_0x5de833(0x584)]({instanceName:_0x468f96}){const _0x4bb2cb=a0_0x5de833;try{return this['waMonitor'][_0x4bb2cb(0x3d5)][_0x468f96]?.[_0x4bb2cb(0xa9)]?.['ws']?.[_0x4bb2cb(0x44f)](),{'status':_0x4bb2cb(0x517),'error':!0x1,'response':{'message':_0x4bb2cb(0x3e4)}};}catch(_0x41f27b){this['logger'][_0x4bb2cb(0x1b8)](_0x41f27b);}}async['fetchInstances']({instanceName:_0x594b18}){const _0x1f1ab8=a0_0x5de833;return _0x594b18?this['waMonitor']['instanceInfo'](_0x594b18):this['waMonitor'][_0x1f1ab8(0x37b)]();}async[a0_0x5de833(0x467)]({instanceName:_0x24e456}){const _0x3689e0=a0_0x5de833;try{return await this['waMonitor']['waInstances'][_0x24e456]?.[_0x3689e0(0xa9)]?.[_0x3689e0(0x467)](_0x3689e0(0x14d)+_0x24e456),{'error':!0x1,'message':_0x3689e0(0x263)};}catch(_0x2b855f){throw new I(_0x2b855f[_0x3689e0(0x667)]());}}async['deleteInstance']({instanceName:_0xa3d3af}){const _0x2748fb=a0_0x5de833;if((await this['connectionState']({'instanceName':_0xa3d3af}))[_0x2748fb(0x603)][_0x2748fb(0x1b3)]===_0x2748fb(0x663))throw new m([_0x2748fb(0x1cd),_0x2748fb(0x6da)]);try{return delete this['waMonitor'][_0x2748fb(0x3d5)][_0xa3d3af],{'error':!0x1,'message':_0x2748fb(0x284)};}catch(_0x27d529){throw new m(_0x27d529['toString']());}}},te=require('class-validator'),zt=class{constructor(_0x340b0f){const _0x58e8c1=a0_0x5de833;this[_0x58e8c1(0x5cd)]=_0x340b0f;}async['sendText']({instanceName:_0x299955},_0x2b9bef){const _0x1f33ae=a0_0x5de833;return await this['waMonitor']['waInstances'][_0x299955][_0x1f33ae(0x232)](_0x2b9bef);}async['sendMenu']({instanceName:_0x5c5d40},_0x5303d2){const _0x44d591=a0_0x5de833;return await this[_0x44d591(0x5cd)]['waInstances'][_0x5c5d40][_0x44d591(0x2b2)](_0x5303d2);}async[a0_0x5de833(0x607)]({instanceName:_0x236522},_0x20949a){const _0x38302a=a0_0x5de833;if((0x0,te[_0x38302a(0x67c)])(_0x20949a?.[_0x38302a(0x21a)]?.[_0x38302a(0xd6)])&&!_0x20949a?.['mediaMessage']?.[_0x38302a(0x73a)])throw new m(_0x38302a(0x6ea));if((0x0,te['isURL'])(_0x20949a?.['mediaMessage']?.[_0x38302a(0xd6)])||(0x0,te[_0x38302a(0x67c)])(_0x20949a?.['mediaMessage']?.[_0x38302a(0xd6)]))return await this[_0x38302a(0x5cd)][_0x38302a(0x3d5)][_0x236522][_0x38302a(0x21a)](_0x20949a);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5de833(0x4e5)]({instanceName:_0x423491},_0x3800d1){const _0x4f8e1c=a0_0x5de833;if((0x0,te[_0x4f8e1c(0x506)])(_0x3800d1[_0x4f8e1c(0x3cd)][_0x4f8e1c(0x472)])||(0x0,te[_0x4f8e1c(0x67c)])(_0x3800d1[_0x4f8e1c(0x3cd)][_0x4f8e1c(0x472)]))return await this[_0x4f8e1c(0x5cd)][_0x4f8e1c(0x3d5)][_0x423491][_0x4f8e1c(0x4e7)](_0x3800d1);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5de833(0x754)]({instanceName:_0x513cb8},_0x33073b){const _0x2fca8c=a0_0x5de833;if((0x0,te[_0x2fca8c(0x506)])(_0x33073b['audioMessage'][_0x2fca8c(0x5f6)])||(0x0,te['isBase64'])(_0x33073b[_0x2fca8c(0x186)][_0x2fca8c(0x5f6)]))return await this[_0x2fca8c(0x5cd)]['waInstances'][_0x513cb8][_0x2fca8c(0x3ff)](_0x33073b);throw new m(_0x2fca8c(0x22d));}async[a0_0x5de833(0x26b)]({instanceName:_0xa949c3},_0x500767){const _0x123c80=a0_0x5de833;if((0x0,te[_0x123c80(0x67c)])(_0x500767[_0x123c80(0x696)][_0x123c80(0x21a)]?.['media'])&&!_0x500767[_0x123c80(0x696)][_0x123c80(0x21a)]?.[_0x123c80(0x73a)])throw new m(_0x123c80(0x6ea));return await this['waMonitor']['waInstances'][_0xa949c3][_0x123c80(0x696)](_0x500767);}async[a0_0x5de833(0x10b)]({instanceName:_0x8501df},_0x160ae2){const _0x104bec=a0_0x5de833;return await this[_0x104bec(0x5cd)][_0x104bec(0x3d5)][_0x8501df][_0x104bec(0x45f)](_0x160ae2);}async[a0_0x5de833(0x376)]({instanceName:_0xb203d2},_0xe9aafb){const _0x20da7d=a0_0x5de833;return await this[_0x20da7d(0x5cd)][_0x20da7d(0x3d5)][_0xb203d2][_0x20da7d(0x777)](_0xe9aafb);}async[a0_0x5de833(0x356)]({instanceName:_0x35e41d},_0x34147c){const _0x35174a=a0_0x5de833;return await this['waMonitor'][_0x35174a(0x3d5)][_0x35e41d][_0x35174a(0x2af)](_0x34147c);}async['sendContact']({instanceName:_0x23cc34},_0x1f6a40){const _0x5053f3=a0_0x5de833;return await this[_0x5053f3(0x5cd)]['waInstances'][_0x23cc34][_0x5053f3(0x475)](_0x1f6a40);}async[a0_0x5de833(0x133)]({instanceName:_0x3584ef},_0x12e7be){const _0x2d29c2=a0_0x5de833;if(!_0x12e7be[_0x2d29c2(0x68c)]['reaction'][_0x2d29c2(0x10d)](/[^\(\)\w\s-"-\+]+/))throw new m(_0x2d29c2(0x2fc));return await this['waMonitor'][_0x2d29c2(0x3d5)][_0x3584ef][_0x2d29c2(0x68c)](_0x12e7be);}async[a0_0x5de833(0x38d)]({instanceName:_0x502a8d},_0x304c70){const _0xfb3cbc=a0_0x5de833;return await this['waMonitor']['waInstances'][_0x502a8d][_0xfb3cbc(0x304)](_0x304c70);}},Ro=require(a0_0x5de833(0x3b0)),Ps=require(a0_0x5de833(0x6cd)),Ht=class c{constructor(_0x3dd7a6,_0x239f24,_0x521198){const _0x4c514f=a0_0x5de833;this[_0x4c514f(0x5cc)]=_0x3dd7a6,this[_0x4c514f(0x5cd)]=_0x239f24,this[_0x4c514f(0x719)]=_0x521198,this[_0x4c514f(0x4a2)]=new R(c[_0x4c514f(0x40f)]);}async['jwt'](_0x13f66c){const _0x54f626=a0_0x5de833;let _0x25dd32=this[_0x54f626(0x5cc)][_0x54f626(0x224)]('AUTHENTICATION')[_0x54f626(0x1ff)],_0x66531e=(0x0,Ro[_0x54f626(0x668)])({'instanceName':_0x13f66c['instanceName'],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x25dd32[_0x54f626(0x59b)],{'expiresIn':_0x25dd32[_0x54f626(0xe8)],'encoding':'utf8','subject':_0x54f626(0x557)}),_0x4e8f55=await this[_0x54f626(0x719)]['auth'][_0x54f626(0x32e)]({'jwt':_0x66531e},_0x13f66c[_0x54f626(0x198)]);if(_0x4e8f55[_0x54f626(0x1b8)])throw this[_0x54f626(0x4a2)][_0x54f626(0x1b8)]({'localError':c['name']+'.jwt','error':_0x4e8f55['error']}),new m(_0x54f626(0x35a),_0x4e8f55[_0x54f626(0x1b8)]?.['toString']());return{'jwt':_0x66531e};}async[a0_0x5de833(0x1ee)](_0x14b8cf){const _0x1bde6c=a0_0x5de833;let _0x8e1cef=(0x0,Ps['v4'])()['toUpperCase'](),_0x1ce91e=await this[_0x1bde6c(0x719)][_0x1bde6c(0x7a9)][_0x1bde6c(0x32e)]({'apikey':_0x8e1cef},_0x14b8cf[_0x1bde6c(0x198)]);if(_0x1ce91e[_0x1bde6c(0x1b8)])throw this[_0x1bde6c(0x4a2)][_0x1bde6c(0x1b8)]({'localError':c['name']+_0x1bde6c(0x32c),'error':_0x1ce91e['error']}),new m(_0x1bde6c(0x35a),_0x1ce91e[_0x1bde6c(0x1b8)]?.['toString']());return{'apikey':_0x8e1cef};}async[a0_0x5de833(0x647)](_0x316d17){const _0x1458a4=a0_0x5de833;let _0x44fe8a=this['configService']['get'](_0x1458a4(0x260));return await this[_0x44fe8a['TYPE']](_0x316d17);}},Kt=class{constructor(_0x2fcb1d){const _0x105588=a0_0x5de833;this[_0x105588(0x5cd)]=_0x2fcb1d;}async[a0_0x5de833(0x401)](_0x978e2f,_0x50ad4d){const _0x24acc2=a0_0x5de833;return await this['waMonitor']['waInstances'][_0x978e2f[_0x24acc2(0x198)]][_0x24acc2(0x401)](_0x50ad4d);}async[a0_0x5de833(0x5da)](_0x2c8a7c,_0x34b9c4){const _0x17f9ba=a0_0x5de833;return await this[_0x17f9ba(0x5cd)][_0x17f9ba(0x3d5)][_0x2c8a7c[_0x17f9ba(0x198)]][_0x17f9ba(0x5da)](_0x34b9c4);}async[a0_0x5de833(0x616)](_0x351771,_0x6119a6){const _0x2c395a=a0_0x5de833;return await this[_0x2c395a(0x5cd)]['waInstances'][_0x351771['instanceName']][_0x2c395a(0x616)](_0x6119a6);}async[a0_0x5de833(0x56c)](_0x5c52eb,_0x2c1729){const _0x1fba69=a0_0x5de833;return await this[_0x1fba69(0x5cd)]['waInstances'][_0x5c52eb[_0x1fba69(0x198)]]['groupName'](_0x2c1729);}async[a0_0x5de833(0x7a0)](_0x5490b0,_0x4f89e0){const _0x466f3c=a0_0x5de833;return await this[_0x466f3c(0x5cd)]['waInstances'][_0x5490b0[_0x466f3c(0x198)]][_0x466f3c(0x7a0)](_0x4f89e0);}async['groupSetting'](_0x5bbc2d,_0x2c5745){const _0x52ebb9=a0_0x5de833;return await this[_0x52ebb9(0x5cd)]['waInstances'][_0x5bbc2d[_0x52ebb9(0x198)]][_0x52ebb9(0x4d1)](_0x2c5745);}async['findGroupInfo'](_0x2e55a9,_0xc84b5c){const _0x8c17a5=a0_0x5de833;return await this[_0x8c17a5(0x5cd)][_0x8c17a5(0x3d5)][_0x2e55a9[_0x8c17a5(0x198)]]['findGroup'](_0xc84b5c);}async[a0_0x5de833(0x4c1)](_0x3a086){const _0x3317c4=a0_0x5de833;return await this[_0x3317c4(0x5cd)][_0x3317c4(0x3d5)][_0x3a086[_0x3317c4(0x198)]][_0x3317c4(0x4c1)]();}async[a0_0x5de833(0x251)](_0x51ece2,_0x4f70e0){const _0x4e3b0a=a0_0x5de833;return await this[_0x4e3b0a(0x5cd)][_0x4e3b0a(0x3d5)][_0x51ece2[_0x4e3b0a(0x198)]][_0x4e3b0a(0x251)](_0x4f70e0);}async[a0_0x5de833(0x3aa)](_0x552364,_0x26ed35){const _0xdb1c88=a0_0x5de833;return await this[_0xdb1c88(0x5cd)][_0xdb1c88(0x3d5)][_0x552364['instanceName']][_0xdb1c88(0x3aa)](_0x26ed35);}async[a0_0x5de833(0x19c)](_0x393832,_0x1c17e5){const _0x5bfd2c=a0_0x5de833;return await this[_0x5bfd2c(0x5cd)][_0x5bfd2c(0x3d5)][_0x393832[_0x5bfd2c(0x198)]][_0x5bfd2c(0x19c)](_0x1c17e5);}async[a0_0x5de833(0x646)](_0x34cee4,_0x40af85){const _0x9fb887=a0_0x5de833;return await this[_0x9fb887(0x5cd)][_0x9fb887(0x3d5)][_0x34cee4[_0x9fb887(0x198)]][_0x9fb887(0x646)](_0x40af85);}async[a0_0x5de833(0x22e)](_0xc55267,_0x3f722b){const _0x289407=a0_0x5de833;return await this[_0x289407(0x5cd)][_0x289407(0x3d5)][_0xc55267[_0x289407(0x198)]][_0x289407(0x22e)](_0x3f722b);}async[a0_0x5de833(0x3a0)](_0x47a702,_0x1847ab){const _0x12dce9=a0_0x5de833;return await this[_0x12dce9(0x5cd)][_0x12dce9(0x3d5)][_0x47a702[_0x12dce9(0x198)]]['updateGParticipant'](_0x1847ab);}async['toggleEphemeral'](_0xfa088d,_0x2a3ab2){const _0x3c4831=a0_0x5de833;return await this['waMonitor'][_0x3c4831(0x3d5)][_0xfa088d['instanceName']][_0x3c4831(0x339)](_0x2a3ab2);}async[a0_0x5de833(0x21d)](_0x148d87,_0x585feb){const _0x5f5471=a0_0x5de833;return await this[_0x5f5471(0x5cd)]['waInstances'][_0x148d87[_0x5f5471(0x198)]][_0x5f5471(0x21d)](_0x585feb);}},Qt=class{constructor(_0x21e49b){const _0x9cdc14=a0_0x5de833;this[_0x9cdc14(0x5cd)]=_0x21e49b;}[a0_0x5de833(0x32e)](_0x5e432e,_0x46116d){const _0x15d67e=a0_0x5de833;return this[_0x15d67e(0x5cd)]['waInstances'][_0x5e432e[_0x15d67e(0x198)]]['setWebhook'](_0x46116d);}async[a0_0x5de833(0x781)](_0x3ae6d5){const _0x433782=a0_0x5de833;try{return await this[_0x433782(0x5cd)][_0x433782(0x3d5)][_0x3ae6d5[_0x433782(0x198)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},vp=new R(a0_0x5de833(0x599)),Yt=class{constructor(_0x2cfab6){const _0x45cb84=a0_0x5de833;this[_0x45cb84(0x5cd)]=_0x2cfab6;}async[a0_0x5de833(0x68b)](_0x5bf9cb,_0x1ff9d1){const _0xe6d22e=a0_0x5de833;return await this[_0xe6d22e(0x5cd)]['waInstances'][_0x5bf9cb['instanceName']]['editScheduleMessage'](_0x1ff9d1);}async['getScheduleMessage'](_0x14cee3){const _0x58e7e4=a0_0x5de833;return await this[_0x58e7e4(0x5cd)][_0x58e7e4(0x3d5)][_0x14cee3[_0x58e7e4(0x198)]]['getScheduleMessage']();}async[a0_0x5de833(0x446)](_0x3cae9b){const _0xd5c3ee=a0_0x5de833;return await this[_0xd5c3ee(0x5cd)]['waInstances'][_0x3cae9b['instanceName']]['deleteDoneMessages']();}async['getAutomateSystem'](_0xb96e5b){const _0x4d08bc=a0_0x5de833;return await this['waMonitor'][_0x4d08bc(0x3d5)][_0xb96e5b[_0x4d08bc(0x198)]][_0x4d08bc(0x516)]();}async[a0_0x5de833(0x141)](_0x359d9d,_0x26fda6){const _0x25d119=a0_0x5de833;return await this['waMonitor'][_0x25d119(0x3d5)][_0x359d9d[_0x25d119(0x198)]][_0x25d119(0x141)](_0x26fda6);}async['updateCustomFields'](_0x837f4e,_0x34e448){const _0x3bfa50=a0_0x5de833;return await this['waMonitor'][_0x3bfa50(0x3d5)][_0x837f4e['instanceName']][_0x3bfa50(0x4db)](_0x34e448);}async[a0_0x5de833(0x765)](_0x4a706e,_0x2f01ca){const _0x3f84c0=a0_0x5de833;return await this[_0x3f84c0(0x5cd)][_0x3f84c0(0x3d5)][_0x4a706e[_0x3f84c0(0x198)]][_0x3f84c0(0x765)](_0x2f01ca);}async['updateFlowConfig'](_0x50b9c0,_0x3c529c){const _0x590cd8=a0_0x5de833;return await this[_0x590cd8(0x5cd)]['waInstances'][_0x50b9c0[_0x590cd8(0x198)]][_0x590cd8(0x1e3)](_0x3c529c);}async[a0_0x5de833(0x61a)](_0x39699b,_0x39bcca){const _0x58f0ee=a0_0x5de833;return await this[_0x58f0ee(0x5cd)]['waInstances'][_0x39699b[_0x58f0ee(0x198)]][_0x58f0ee(0x61a)](_0x39bcca);}async[a0_0x5de833(0x53d)](_0x549392,_0x586ae3,_0x493e8c,_0x3daaa0){const _0x59a30f=a0_0x5de833;return await this[_0x59a30f(0x5cd)][_0x59a30f(0x3d5)][_0x549392]['startFlowWebhook'](_0x586ae3,_0x493e8c,_0x3daaa0);}async[a0_0x5de833(0x2c7)](_0x3fe29f,_0x3e2573){const _0x1dfce8=a0_0x5de833;return await this['waMonitor'][_0x1dfce8(0x3d5)][_0x3fe29f[_0x1dfce8(0x198)]]['getConversation'](_0x3e2573);}async['fetchConversation'](_0x453260,_0x665279){const _0x106fbf=a0_0x5de833;return await this['waMonitor'][_0x106fbf(0x3d5)][_0x453260[_0x106fbf(0x198)]][_0x106fbf(0x2ab)](_0x665279);}async['editConversation'](_0x39aefb,_0x1772aa){const _0x5e0667=a0_0x5de833;return await this[_0x5e0667(0x5cd)][_0x5e0667(0x3d5)][_0x39aefb[_0x5e0667(0x198)]]['editConversation'](_0x1772aa);}async['deleteConversation'](_0x45ab78,_0x3d634c){const _0x237f90=a0_0x5de833;return await this['waMonitor'][_0x237f90(0x3d5)][_0x45ab78[_0x237f90(0x198)]][_0x237f90(0x201)](_0x3d634c);}async[a0_0x5de833(0x3c6)](_0x266ae5,_0x1619eb){const _0x4406ac=a0_0x5de833;return await this['waMonitor'][_0x4406ac(0x3d5)][_0x266ae5[_0x4406ac(0x198)]][_0x4406ac(0x3c6)](_0x1619eb[_0x4406ac(0x40f)],_0x1619eb[_0x4406ac(0x1b2)]);}async[a0_0x5de833(0x657)](_0x3d6b48,_0x1495d6,_0xac0eb3){const _0x1e3ac4=a0_0x5de833;return await this['waMonitor'][_0x1e3ac4(0x3d5)][_0x3d6b48['instanceName']][_0x1e3ac4(0x657)](_0x1495d6,_0xac0eb3);}async['editFlow'](_0x535d96,_0x54a3ac,_0x533be8){const _0x7e5717=a0_0x5de833;return await this[_0x7e5717(0x5cd)][_0x7e5717(0x3d5)][_0x535d96[_0x7e5717(0x198)]]['editFlow'](_0x54a3ac,_0x533be8);}async[a0_0x5de833(0x373)](_0x505512,_0x3a3bca,_0x201666){const _0x4857fc=a0_0x5de833;return await this['waMonitor']['waInstances'][_0x505512[_0x4857fc(0x198)]][_0x4857fc(0x373)](_0x3a3bca,_0x201666);}async[a0_0x5de833(0x1f3)](_0x3a051e,_0x33b707,_0x3dc609){const _0x4092cf=a0_0x5de833;return await this[_0x4092cf(0x5cd)][_0x4092cf(0x3d5)][_0x3a051e[_0x4092cf(0x198)]][_0x4092cf(0x1f3)](_0x33b707,_0x3dc609);}async[a0_0x5de833(0x542)](_0x2c64a2,_0x373b36,_0x5d4142){const _0x32d369=a0_0x5de833;return await this[_0x32d369(0x5cd)]['waInstances'][_0x2c64a2['instanceName']][_0x32d369(0x542)](_0x373b36,_0x5d4142);}async[a0_0x5de833(0x674)](_0x3def18,_0x413f50,_0x3d7b44){const _0x338260=a0_0x5de833;return await this[_0x338260(0x5cd)][_0x338260(0x3d5)][_0x3def18[_0x338260(0x198)]][_0x338260(0x674)](_0x413f50,_0x3d7b44);}async[a0_0x5de833(0x270)](_0x41cd83,_0x545830,_0x1eea89){const _0xcc021b=a0_0x5de833;return await this['waMonitor']['waInstances'][_0x41cd83[_0xcc021b(0x198)]][_0xcc021b(0x270)](_0x545830,_0x1eea89);}async[a0_0x5de833(0x52c)](_0xcc5d00,_0x4dee2f,_0x33d80f){const _0x52647b=a0_0x5de833;return await this[_0x52647b(0x5cd)][_0x52647b(0x3d5)][_0xcc5d00[_0x52647b(0x198)]][_0x52647b(0x52c)](_0x4dee2f,_0x33d80f);}async[a0_0x5de833(0x31b)](_0x8e06c1,_0x427da0,_0x3de381){const _0x546748=a0_0x5de833;return await this[_0x546748(0x5cd)]['waInstances'][_0x8e06c1[_0x546748(0x198)]][_0x546748(0x31b)](_0x427da0,_0x3de381);}async[a0_0x5de833(0x6e0)](_0x2b4738){const _0x15d043=a0_0x5de833;return await this[_0x15d043(0x5cd)][_0x15d043(0x3d5)][_0x2b4738[_0x15d043(0x198)]][_0x15d043(0x6e0)]();}},Xt=class{constructor(_0x34ed71){this['webhookService']=_0x34ed71;}async[a0_0x5de833(0x153)](_0x5cccc7,_0x25d966){const _0x3619bc=a0_0x5de833;return this[_0x3619bc(0x151)]['create'](_0x5cccc7,_0x25d966);}async[a0_0x5de833(0x42a)](_0x292400){const _0x200328=a0_0x5de833;return this[_0x200328(0x151)]['find'](_0x292400);}},Zt=class extends x{constructor(_0x52c051,_0x4bffec){const _0x4487a6=a0_0x5de833;super(_0x4bffec),this[_0x4487a6(0x5fd)]=_0x52c051,this[_0x4487a6(0x5cc)]=_0x4bffec;}async[a0_0x5de833(0x32e)](_0x4d722c,_0x305f8b){const _0x78454b=a0_0x5de833;try{return this[_0x78454b(0x448)][_0x78454b(0x34e)]?{'insertCount':(await this[_0x78454b(0x5fd)][_0x78454b(0x751)]({'_id':_0x305f8b},{..._0x4d722c},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x3e1cef){return _0x3e1cef;}}async[a0_0x5de833(0xb9)](_0xf995ba){const _0x58f437=a0_0x5de833;try{if(this['dbSettings'][_0x58f437(0x34e)]){await this['webhookModel'][_0x58f437(0x57d)]({'_id':_0xf995ba});return;}}catch(_0x3841eb){return{'error':_0x3841eb};}}async[a0_0x5de833(0x781)](_0x1da3c9){const _0x12d2a4=a0_0x5de833;try{if(this[_0x12d2a4(0x448)][_0x12d2a4(0x34e)])return await this[_0x12d2a4(0x5fd)][_0x12d2a4(0x782)]({'_id':_0x1da3c9});}catch{return{};}}},es=class extends x{constructor(_0x51af48,_0x5438bf){const _0x517fd9=a0_0x5de833;super(_0x5438bf),this['authModel']=_0x51af48,this['configService']=_0x5438bf,this['auth']=_0x5438bf[_0x517fd9(0x224)](_0x517fd9(0x260));}async['create'](_0x154c83,_0x51196e){const _0x17db9e=a0_0x5de833;try{if(this[_0x17db9e(0x448)]['ENABLED'])return{'insertCount':(await this[_0x17db9e(0x582)][_0x17db9e(0x4fc)]({'_id':_0x51196e},{'$set':{..._0x154c83}},{'upsert':!0x0}))[_0x17db9e(0x536)]};}catch(_0x4c9bda){return{'error':_0x4c9bda};}}async['updateAll'](_0x254dfa,_0xc639ca){const _0x1a7469=a0_0x5de833;try{if(this[_0x1a7469(0x448)][_0x1a7469(0x34e)])return{'insertCount':(await this[_0x1a7469(0x582)]['updateMany'](_0x254dfa,{'$set':_0xc639ca},{'upsert':!0x1}))[_0x1a7469(0x536)]};throw new Error(_0x1a7469(0x289));}catch(_0x37d69d){return{'error':_0x37d69d};}}async[a0_0x5de833(0x65b)](_0xfbff0a){const _0x2eaa08=a0_0x5de833;try{if(this[_0x2eaa08(0x448)]['ENABLED'])return{'insertCount':(await this[_0x2eaa08(0x582)]['deleteMany'](_0xfbff0a))[_0x2eaa08(0x71d)]};throw new Error(_0x2eaa08(0x289));}catch(_0x4900cb){return{'error':_0x4900cb};}}async[a0_0x5de833(0xb9)](_0x2c59e4){const _0x59700d=a0_0x5de833;try{if(this[_0x59700d(0x448)][_0x59700d(0x34e)]){await this[_0x59700d(0x582)][_0x59700d(0x57d)]({'_id':_0x2c59e4});return;}}catch(_0x99f180){return{'error':_0x99f180};}}async[a0_0x5de833(0x781)](_0x31c84b){const _0x385f46=a0_0x5de833;try{if(this[_0x385f46(0x448)][_0x385f46(0x34e)])return await this[_0x385f46(0x582)][_0x385f46(0x782)]({'_id':_0x31c84b});}catch{return{};}}async[a0_0x5de833(0x530)](){const _0x53d586=a0_0x5de833;try{if(this[_0x53d586(0x448)][_0x53d586(0x34e)])return await this[_0x53d586(0x582)]['find']();}catch{return[];}}},ts=class extends x{[a0_0x5de833(0x5d9)](_0x1d7048){return pa(_0x1d7048);}async[a0_0x5de833(0xb9)](_0x570088,_0x116553){const _0x3d8d9f=a0_0x5de833;try{let _0x2342c1=this['getFlowModelForOwner'](_0x116553),_0x1541d8=T(_0x570088[_0x3d8d9f(0x171)]);return{'deletedCount':(await _0x2342c1[_0x3d8d9f(0x65b)](_0x1541d8))['deletedCount']};}catch(_0xa64289){return{'error':_0xa64289?.[_0x3d8d9f(0x667)]()};}}async['deleteOne'](_0x3b3441,_0x3edd7f){const _0x17ee5d=a0_0x5de833;try{let _0x652e9a=this[_0x17ee5d(0x5d9)](_0x3edd7f),_0x26b119=T(_0x3b3441[_0x17ee5d(0x171)]);return{'deletedCount':(await _0x652e9a[_0x17ee5d(0x57d)](_0x26b119))[_0x17ee5d(0x71d)]};}catch(_0x2e1873){return{'error':_0x2e1873?.['toString']()};}}async['replaceOne'](_0x429c14,_0x3641be,_0x50043f){const _0x256ff9=a0_0x5de833;try{let _0x1ee895=await this[_0x256ff9(0x5d9)](_0x50043f)['findByIdAndUpdate'](_0x429c14,_0x3641be,{'overwrite':!0x0,'new':!0x0});return _0x1ee895||(console[_0x256ff9(0x1b8)]('Fluxo\x20no\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x429c14),null);}catch(_0x499a45){return console[_0x256ff9(0x1b8)](_0x256ff9(0x547),_0x499a45),null;}}async[a0_0x5de833(0x4fc)](_0x7e3d0b,_0x4f66a3,_0x57c38e){const _0x323dd9=a0_0x5de833;try{let _0xc77228=await this[_0x323dd9(0x5d9)](_0x57c38e)[_0x323dd9(0x2ba)](_0x7e3d0b);return _0xc77228?(Object[_0x323dd9(0x22c)](_0xc77228,_0x4f66a3),await _0xc77228['save']()):(console['error'](_0x323dd9(0x5d1),_0x7e3d0b),null);}catch(_0x2fd211){return console[_0x323dd9(0x1b8)](_0x323dd9(0x547),_0x2fd211),null;}}async[a0_0x5de833(0x51f)](_0x3bff11,_0x2279b7,_0x5f33da){const _0x4220ea=a0_0x5de833;try{let _0x4d230e=this[_0x4220ea(0x5d9)](_0x5f33da),_0x3dab53=await _0x4d230e[_0x4220ea(0x2ba)](_0x3bff11),_0x4beb07=await _0x4d230e[_0x4220ea(0x5f3)]({'_id':_0x3bff11},_0x2279b7,{'new':!0x0,'runValidators':!0x0});return _0x4beb07||(console[_0x4220ea(0x6c3)]('Documento\x20com\x20ID\x20'+_0x3bff11+_0x4220ea(0x4a1)+_0x5f33da+'\x20no\x20encontrado.'),null);}catch(_0x108581){throw console[_0x4220ea(0x1b8)]('Erro\x20ao\x20atualizar\x20o\x20documento:',_0x108581),_0x108581;}}async[a0_0x5de833(0x3d0)](_0x41a162){const _0x24adff=a0_0x5de833;try{let _0x466b63=this[_0x24adff(0x5d9)](_0x41a162),_0xade6cf={'shareOwners':{'$exists':!0x1}},_0x3c4e3d={'$set':{'shareOwners':[]}};return(await _0x466b63[_0x24adff(0x1dc)](_0xade6cf,_0x3c4e3d))[_0x24adff(0x536)];}catch(_0x55308a){return console[_0x24adff(0x1b8)](_0x55308a),0x0;}}async[a0_0x5de833(0x5e5)](_0xc4f453,_0x144b9a){const _0x5a3dbd=a0_0x5de833;try{let _0x3257e3=this[_0x5a3dbd(0x5d9)](_0x144b9a);return await new _0x3257e3(_0xc4f453)[_0x5a3dbd(0x62f)]();}catch(_0x148653){return console[_0x5a3dbd(0x1b8)](_0x5a3dbd(0x237),_0x148653),null;}}async[a0_0x5de833(0x1dc)](_0x1a4147,_0x4f6d02,_0x1a5a47){const _0xd2e64b=a0_0x5de833;try{return{'modifiedCount':(await this[_0xd2e64b(0x5d9)](_0x1a5a47)[_0xd2e64b(0x1dc)](_0x1a4147,{'$set':_0x4f6d02}))[_0xd2e64b(0x536)]};}catch(_0x465780){return console[_0xd2e64b(0x1b8)](_0xd2e64b(0x3db),_0x465780),{'error':_0x465780};}}async[a0_0x5de833(0x530)](_0xa9f6f5,_0x4c8db6){const _0x5061ee=a0_0x5de833;try{let _0x48af49=this[_0x5061ee(0x5d9)](_0x4c8db6),_0x377f1e=T(_0xa9f6f5[_0x5061ee(0x171)]);return await _0x48af49[_0x5061ee(0x781)](_0x377f1e)[_0x5061ee(0x24c)](_0xa9f6f5?.['limit']??0x0)[_0x5061ee(0x1f8)]();}catch{return[];}}async[a0_0x5de833(0x782)](_0x554d51,_0x1e4cf7){const _0xe11aa8=a0_0x5de833;try{let _0x4c59fd=this[_0xe11aa8(0x5d9)](_0x1e4cf7),_0x1572c5=T(_0x554d51['where']);return await _0x4c59fd[_0xe11aa8(0x782)](_0x1572c5)[_0xe11aa8(0x1f8)]();}catch{return null;}}async[a0_0x5de833(0x70e)](_0x38660a){const _0x14a06a=a0_0x5de833;try{return await this[_0x14a06a(0x5d9)](_0x38660a)[_0x14a06a(0x163)][_0x14a06a(0x65c)](),{'success':!0x0};}catch(_0x5370d8){return console['error'](_0x5370d8),{'success':!0x1,'error':_0x5370d8};}}},ss=class extends x{[a0_0x5de833(0x6ab)](_0x2511d5){return ha(_0x2511d5);}async[a0_0x5de833(0x3e6)](_0xa89e31){const _0x267662=a0_0x5de833;if(_0xa89e31[_0x267662(0x612)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0xa89e31[0x0][_0x267662(0x215)])[_0x267662(0x10e)]([..._0xa89e31]))[_0x267662(0x612)]};}catch(_0x500216){return _0x500216;}}async[a0_0x5de833(0xb9)](_0x5bd41a,_0x44764b){const _0x499631=a0_0x5de833;try{let _0x552ab9=this['getConversationModelForOwner'](_0x44764b),_0x2d9b85=T(_0x5bd41a[_0x499631(0x171)]);return{'deletedCount':(await _0x552ab9[_0x499631(0x65b)](_0x2d9b85))['deletedCount']};}catch(_0x2be22c){return{'error':_0x2be22c?.[_0x499631(0x667)]()};}}async[a0_0x5de833(0x57d)](_0x5287c7,_0x16b222){const _0x2b013f=a0_0x5de833;try{let _0x1e496f=this['getConversationModelForOwner'](_0x16b222),_0x4fb868=T(_0x5287c7['where']);return{'deletedCount':(await _0x1e496f[_0x2b013f(0x57d)](_0x4fb868))[_0x2b013f(0x71d)]};}catch(_0x14ce12){return{'error':_0x14ce12?.[_0x2b013f(0x667)]()};}}async['update'](_0x4d1604,_0x50f578){const _0x387172=a0_0x5de833;try{if(_0x4d1604[_0x387172(0x612)]===0x0)return;let _0x3148b8=this[_0x387172(0x6ab)](_0x50f578),_0x53b22b=_0x4d1604[_0x387172(0x4ba)](_0x4f97f0=>({'updateOne':{'filter':{'name':_0x4f97f0[_0x387172(0x40f)],'owner':_0x50f578},'update':{..._0x4f97f0}}})),{modifiedCount:_0x435238}=await _0x3148b8[_0x387172(0x669)](_0x53b22b);return{'insertCount':_0x435238};}catch{return;}}async[a0_0x5de833(0x1dc)](_0x4e9ffd,_0x58e649,_0x599e10){const _0xdd2e8c=a0_0x5de833;try{return{'modifiedCount':(await this[_0xdd2e8c(0x6ab)](_0x599e10)['updateMany'](_0x4e9ffd,{'$set':_0x58e649})[_0xdd2e8c(0x571)]())['modifiedCount']};}catch(_0x40a826){return console[_0xdd2e8c(0x1b8)](_0xdd2e8c(0x122),_0x40a826),{'error':_0x40a826};}}async['updateOne'](_0x8b9abc,_0x461317,_0x4fb72d){const _0x484b3a=a0_0x5de833;try{return await this[_0x484b3a(0x6ab)](_0x4fb72d)[_0x484b3a(0x5f3)]({'_id':_0x8b9abc},{'$set':_0x461317},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x1a14ca){return console['error'](_0x1a14ca),null;}}async[a0_0x5de833(0x781)](_0x423a34,_0x452b1e){const _0x257552=a0_0x5de833;try{return await this['getConversationModelForOwner'](_0x452b1e)['find'](_0x423a34)[_0x257552(0x4c0)]({'lastInteraction':-0x1})[_0x257552(0x1f8)]();}catch{return[];}}async['findOne'](_0x58d2e2,_0x53d9b1){const _0x2519d6=a0_0x5de833;try{return await this[_0x2519d6(0x6ab)](_0x53d9b1)[_0x2519d6(0x782)]({..._0x58d2e2['where']})[_0x2519d6(0x1f8)]();}catch{return null;}}async[a0_0x5de833(0x70e)](_0x5dc173){const _0x29b8d7=a0_0x5de833;try{return await this[_0x29b8d7(0x6ab)](_0x5dc173)['collection'][_0x29b8d7(0x65c)](),{'success':!0x0};}catch(_0x27ebe8){return console['error'](_0x27ebe8),{'success':!0x1,'error':_0x27ebe8};}}},as=class extends x{[a0_0x5de833(0x3d6)](_0x32da3b){return ga(_0x32da3b);}async[a0_0x5de833(0x5e5)](_0x4f50b1,_0x26539){const _0x188833=a0_0x5de833;try{let _0x46685d=this[_0x188833(0x3d6)](_0x26539);return await new _0x46685d(_0x4f50b1)['save']();}catch(_0x4d8607){return console[_0x188833(0x1b8)](_0x188833(0x237),_0x4d8607),null;}}async[a0_0x5de833(0x57d)](_0x567868,_0x2b74f6){const _0x49da2a=a0_0x5de833;try{return await this[_0x49da2a(0x3d6)](_0x2b74f6)['findByIdAndDelete'](_0x567868),{};}catch(_0x2a4d19){return{'error':_0x2a4d19?.[_0x49da2a(0x667)]()};}}async['updateOne'](_0x4cd1c4,_0x21ae12,_0x4e3c47){const _0x226b88=a0_0x5de833;try{return await this[_0x226b88(0x3d6)](_0x4e3c47)[_0x226b88(0x5f3)](_0x4cd1c4,{'$set':_0x21ae12},{'new':!0x0})[_0x226b88(0x1f8)]();}catch(_0x584ffd){return console['error'](_0x226b88(0x2db),_0x584ffd),null;}}async['updateOneById'](_0x13a9cc,_0x3ef547,_0x381b39){const _0x32f332=a0_0x5de833;try{return await this[_0x32f332(0x3d6)](_0x381b39)[_0x32f332(0x1eb)](_0x13a9cc,_0x3ef547,{'new':!0x0})[_0x32f332(0x1f8)]();}catch(_0x21d167){return console[_0x32f332(0x1b8)](_0x32f332(0x2db),_0x21d167),null;}}async[a0_0x5de833(0x781)](_0x3a4424,_0x30a956){const _0x4a22c5=a0_0x5de833;try{return await this[_0x4a22c5(0x3d6)](_0x30a956)[_0x4a22c5(0x781)](_0x3a4424[_0x4a22c5(0x171)])[_0x4a22c5(0x24c)](_0x3a4424?.[_0x4a22c5(0x24c)]??0x0)[_0x4a22c5(0x4c0)]({'when':0x1})[_0x4a22c5(0x1f8)]();}catch{return[];}}async['findOne'](_0x219374,_0x21f673){const _0x1ba8ef=a0_0x5de833;try{return await this[_0x1ba8ef(0x3d6)](_0x21f673)[_0x1ba8ef(0x782)](_0x219374['where'])[_0x1ba8ef(0x4c0)]({'when':0x1})[_0x1ba8ef(0x1f8)]();}catch{return null;}}async['findById'](_0x28238b,_0x50054a){const _0x337702=a0_0x5de833;try{return await this[_0x337702(0x3d6)](_0x50054a)[_0x337702(0x2ba)](_0x28238b)[_0x337702(0x1f8)]();}catch{return null;}}async[a0_0x5de833(0x65b)](_0x38f252,_0xda2378){const _0x5b6391=a0_0x5de833;try{return{'deletedCount':(await this[_0x5b6391(0x3d6)](_0xda2378)[_0x5b6391(0x65b)](_0x38f252))[_0x5b6391(0x71d)]};}catch(_0x2a42be){return console[_0x5b6391(0x1b8)](_0x5b6391(0x23b),_0x2a42be),{'error':_0x2a42be};}}async['deleteAll'](_0x59a38f){const _0x20ff1e=a0_0x5de833;try{return await this[_0x20ff1e(0x3d6)](_0x59a38f)['collection'][_0x20ff1e(0x65c)](),{'success':!0x0};}catch(_0xee162a){return console[_0x20ff1e(0x1b8)](_0xee162a),{'success':!0x1,'error':_0xee162a};}}},os=class extends x{async[a0_0x5de833(0x5ba)](_0x3a2a67,_0x15fd7e){const _0x3d7e4c=a0_0x5de833;try{if(this[_0x3d7e4c(0x448)][_0x3d7e4c(0x34e)]){let _0x22a7e4=await ve['findOneAndUpdate']({'_id':_0x15fd7e},{'$set':_0x3a2a67},{'new':!0x0});return console[_0x3d7e4c(0x6c3)](_0x3d7e4c(0x308),_0x22a7e4),_0x22a7e4;}}catch(_0xcb8d33){throw console['error'](_0x3d7e4c(0x351),_0xcb8d33),_0xcb8d33;}}async['findOrCreate'](_0x423d98){const _0x5d28ad=a0_0x5de833;try{let _0x425f82=await ve[_0x5d28ad(0x2ba)](_0x423d98);return _0x425f82?_0x425f82[_0x5d28ad(0x794)]||(_0x425f82[_0x5d28ad(0x794)]=[],await _0x425f82[_0x5d28ad(0x62f)]()):(_0x425f82=new ve({'_id':_0x423d98,'autoCompleteMessages':[]}),await _0x425f82[_0x5d28ad(0x62f)]()),_0x425f82;}catch(_0x5caa60){return _0x5caa60[_0x5d28ad(0x6b0)]===0x2af8&&_0x5caa60[_0x5d28ad(0x13f)]&&_0x5caa60[_0x5d28ad(0x13f)][_0x5d28ad(0x4d0)]?(console['error'](_0x5d28ad(0x53f)),await ve[_0x5d28ad(0x163)][_0x5d28ad(0x35e)](_0x5d28ad(0x324)),null):(console['error'](_0x5d28ad(0x66f),_0x5caa60),null);}}},Or=new R(a0_0x5de833(0x6fb)),Tr=new We(b),Ir=new qt(b),xr=new ot(b),Dr=new Vt(ea,b),_r=new Zt(na,b),Pr=new es(oa,b),kr=new ts(b),Lr=new Gt(b),jr=new ss(b),Fr=new as(b),Jr=new os(b),de=new Ge(Tr,Ir,xr,Dr,_r,Pr,kr,jr,Lr,Fr,Jr,$?.[a0_0x5de833(0x100)]()),G=new Ut(us,b,de),Ur=new Ht(b,G,de),qr=new Qt(G),Cs=new Xt(qr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),P=new Bt(G),q=new Kt(G);Or[a0_0x5de833(0x2c3)](a0_0x5de833(0x1bc));var Uh=require(a0_0x5de833(0x1e2)),ks=require('fs'),$o=O(require(a0_0x5de833(0x15b))),Ao=O(require('http')),_e=class c{static #e;static set[a0_0x5de833(0x6d2)](_0x1e4df9){this.#e=_0x1e4df9;}static get['https'](){const _0x5839b5=a0_0x5de833;let {FULLCHAIN:_0x3e226a,PRIVKEY:_0x3c1967}=b[_0x5839b5(0x224)](_0x5839b5(0x4ce));return $o[_0x5839b5(0x527)]({'cert':(0x0,ks[_0x5839b5(0x119)])(_0x3e226a),'key':(0x0,ks['readFileSync'])(_0x3c1967)},c.#e);}static get[a0_0x5de833(0x46e)](){return Ao['createServer'](c.#e);}},he=O(require('fs')),_o=O(require(a0_0x5de833(0x28e))),Pe=O(require(a0_0x5de833(0x6bb))),Le=O(require(a0_0x5de833(0xb1))),je=require(a0_0x5de833(0x2de));function Vr(){const _0x226447=a0_0x5de833;G[_0x226447(0x5e0)]();let _0x37472e=Le[_0x226447(0x1a6)][_0x226447(0x52f)](__dirname,_0x226447(0x60a));Do(_0x37472e);}var Do=_0x5e0421=>{const _0x32eeb6=a0_0x5de833;let _0xbc95e1=he[_0x32eeb6(0x1a6)][_0x32eeb6(0x57e)](_0x5e0421),_0x42571f=0xc*0x3c*0x3c*0x3e8,_0x2b2c14=0x2*0x3c*0x3c*0x3e8,_0x1364e9=new Date()['getTime']();_0xbc95e1[_0x32eeb6(0x1b4)](_0xf31441=>{const _0x2cc03f=_0x32eeb6;let _0x49800b=Le[_0x2cc03f(0x1a6)][_0x2cc03f(0x52f)](_0x5e0421,_0xf31441),_0x20c88a=he[_0x2cc03f(0x1a6)]['statSync'](_0x49800b)[_0x2cc03f(0xb6)][_0x2cc03f(0x427)]();_0x1364e9-_0x20c88a>_0x42571f&&(he[_0x2cc03f(0x1a6)][_0x2cc03f(0x204)](_0x49800b),console[_0x2cc03f(0x6c3)](_0x2cc03f(0x625)+_0xf31441));}),setTimeout(()=>Do(_0x5e0421),_0x2b2c14);};function Gr(){const _0x16403e=a0_0x5de833;let _0x5b8650=new R('SERVER'),_0x270889=(0x0,ge[_0x16403e(0x1a6)])();_0x270889['use']((0x0,xo[_0x16403e(0x1a6)])({'origin'(_0x2cd7b5,_0x58d9cc){const _0x578060=_0x16403e;let {ORIGIN:_0x2fb908}=b[_0x578060(0x224)](_0x578060(0x50f));return _0x2cd7b5||(_0x2cd7b5='*'),_0x2fb908['indexOf']('*')!==-0x1||_0x2fb908[_0x578060(0x2d9)](_0x2cd7b5)!==-0x1?_0x58d9cc(null,!0x0):_0x58d9cc(new Error(_0x578060(0x5eb)));},'methods':[...b[_0x16403e(0x224)]('CORS')[_0x16403e(0x72e)]],'credentials':b[_0x16403e(0x224)](_0x16403e(0x50f))[_0x16403e(0x69e)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x16403e(0x294)}),(0x0,ge[_0x16403e(0x21c)])({'limit':_0x16403e(0x294)})),_0x270889[_0x16403e(0xf2)]((_0x19e07d,_0x1b30ab,_0x2cc636)=>{const _0x3ab6ec=_0x16403e;_0x19e07d[_0x3ab6ec(0xb1)][_0x3ab6ec(0x755)](_0x3ab6ec(0x36c))?_0x2cc636():(0x0,Io[_0x3ab6ec(0x1a6)])()(_0x19e07d,_0x1b30ab,_0x2cc636);}),_0x270889[_0x16403e(0x19e)](_0x16403e(0x111),'hbs'),_0x270889[_0x16403e(0x19e)]('views',(0x0,js[_0x16403e(0x52f)])(ne,_0x16403e(0x283))),_0x270889[_0x16403e(0xf2)](ge[_0x16403e(0x1a6)][_0x16403e(0x121)]((0x0,js[_0x16403e(0x52f)])(ne,'public'))),_0x270889['use']((_0x18acf6,_0x180760,_0x2ff4dd)=>{const _0x2adcfd=_0x16403e;let _0x12ea35=_0x180760[_0x2adcfd(0x598)];_0x180760[_0x2adcfd(0x598)]=function(_0x2d18f5){const _0x31affb=_0x2adcfd;if(_0x18acf6['query'][_0x31affb(0x644)]===_0x31affb(0x55a)||_0x18acf6[_0x31affb(0x32d)][_0x31affb(0x341)]==='true'){let _0x2999b7=JSON[_0x31affb(0x46c)](_0x2d18f5);_0x2d18f5=JSON[_0x31affb(0x564)](_0xf40103(_0x2999b7));}return _0x12ea35[_0x31affb(0x1c2)](_0x180760,[_0x2d18f5]);},_0x2ff4dd();}),_0x270889['use']('/',Ie),_0x270889[_0x16403e(0xf2)]((_0x3f6bd1,_0x510a79,_0x3afb90,_0x44c042)=>{const _0x54babe=_0x16403e;if(_0x3f6bd1)return _0x3afb90[_0x54babe(0x620)](_0x3f6bd1[_0x54babe(0x620)]||0x1f4)['json'](_0x3f6bd1);},(_0x33f3f3,_0x285a6d,_0x2bce9d)=>{const _0x533837=_0x16403e;let {method:_0x5a180a,url:_0xdc92c0}=_0x33f3f3;_0x285a6d[_0x533837(0x620)](0x194)[_0x533837(0x21c)]({'status':0x194,'message':_0x533837(0x25d)+_0x5a180a['toUpperCase']()+'\x20'+_0xdc92c0,'error':_0x533837(0x32f)}),_0x2bce9d();});let _0xf40103=(_0x3eb46e,_0x2264f1=_0x16403e(0x537))=>{const _0x11d688=_0x16403e;let _0x3b4fa4=(_0x4286ee,_0x4be5c3=null,_0x1306da=!0x1)=>{const _0x219b34=a0_0x26c2;let _0x5b9822={};return Object[_0x219b34(0x4a0)](_0x4286ee)[_0x219b34(0x1b4)](_0x548768=>{const _0x4eac2f=_0x219b34;let _0x2ab36e=_0x4286ee[_0x548768],_0x1d9294=''+_0x2264f1+_0x548768;_0x4be5c3&&!_0x1306da&&(_0x1d9294=_0x4be5c3+'.'+_0x548768),!_0x2ab36e&&_0x2ab36e!==0x0&&_0x2ab36e!==!0x1||typeof _0x2ab36e>'u'?_0x5b9822[_0x1d9294]=null:typeof _0x2ab36e!=_0x4eac2f(0x31d)&&!Array[_0x4eac2f(0x529)](_0x2ab36e)?_0x5b9822[_0x1d9294]=_0x2ab36e:typeof _0x2ab36e==_0x4eac2f(0x31d)&&!Array[_0x4eac2f(0x529)](_0x2ab36e)?_0x5b9822=Object[_0x4eac2f(0x22c)](_0x5b9822,_0x3b4fa4(_0x2ab36e,_0x1d9294)):Array[_0x4eac2f(0x529)](_0x2ab36e)&&(typeof _0x2ab36e[0x0]=='object'?(_0x5b9822[_0x1d9294]=[],_0x2ab36e[_0x4eac2f(0x1b4)](_0x411072=>{const _0x3ae8f8=_0x4eac2f;_0x5b9822[_0x1d9294][_0x3ae8f8(0x2c5)](_0x3b4fa4(_0x411072,_0x1d9294,!0x0));})):_0x5b9822[_0x1d9294]=_0x2ab36e);}),_0x5b9822;};return Array[_0x11d688(0x529)](_0x3eb46e)?_0x3eb46e[_0x11d688(0x4ba)](_0x3901e6=>_0x3b4fa4(_0x3901e6)):typeof _0x3eb46e==_0x11d688(0x31d)&&_0x3eb46e!==null?_0x3b4fa4(_0x3eb46e):{};},_0x286015=b[_0x16403e(0x224)](_0x16403e(0x147));_e['app']=_0x270889;let _0x5cac0a=_e[_0x286015[_0x16403e(0x125)]],_0x235947='\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5cac0a[_0x16403e(0x64c)](_0x286015[_0x16403e(0x402)],()=>{const _0x49fdfc=_0x16403e;_0x5b8650[_0x49fdfc(0x6c3)](_0x235947),_0x5b8650[_0x49fdfc(0x6c3)](_0x286015[_0x49fdfc(0x125)][_0x49fdfc(0x5a9)]()+_0x49fdfc(0x6e8)+_0x286015[_0x49fdfc(0x402)]);}),Vr(),Hs();}var Br='https://github.com/uazapi/uazapi.git',Wr=Le['default'][a0_0x5de833(0x52f)](__dirname,a0_0x5de833(0x6ee)),ke=null;function zr(){return new Promise((_0x6cf3e5,_0x405f1d)=>{const _0x465194=a0_0x26c2;he[_0x465194(0x1a6)][_0x465194(0x760)](Wr,'utf-8',(_0xdeaaa8,_0x5d5951)=>{const _0x19752b=_0x465194;if(_0xdeaaa8){ke=_0xdeaaa8,_0x6cf3e5();return;}_o[_0x19752b(0x1a6)]['parse'](_0x5d5951)[_0x19752b(0x630)][_0x19752b(0x75f)]===Br?(ke=null,_0x6cf3e5()):(ke=new Error(_0x19752b(0xe2)),_0x6cf3e5());});});}async function Hr(){const _0x2401b1=a0_0x5de833;try{await zr(),await Fs();}catch(_0x52d445){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20'+_0x52d445),process[_0x2401b1(0x4ab)](0x1);}}Hr();async function Po(){const _0x51f226=a0_0x5de833;let _0x51a949;try{_0x51a949=(await Pe[_0x51f226(0x1a6)]['get'](_0x51f226(0x6e4)))['data']['ip'];}catch(_0x4e99be){console[_0x51f226(0x1b8)](_0x4e99be);try{_0x51a949=(await Pe[_0x51f226(0x1a6)][_0x51f226(0x224)]('https://api.ipify.org?format=json'))[_0x51f226(0x385)]['ip'];}catch(_0x3e11f8){console[_0x51f226(0x1b8)](_0x3e11f8);try{_0x51a949=(await Pe[_0x51f226(0x1a6)][_0x51f226(0x224)](_0x51f226(0x185)))['data'][_0x51f226(0x10d)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3889ec){return console[_0x51f226(0x1b8)](_0x3889ec),!0x1;}}}return _0x51a949;}var Oo=0x0;async function Kr(){const _0x305550=a0_0x5de833;let _0x1a1663=await new le(b[_0x305550(0x224)](_0x305550(0xc1)))[_0x305550(0xf3)]();return console[_0x305550(0x6c3)](_0x305550(0x41c),_0x1a1663[_0x305550(0x612)]),_0x1a1663[_0x305550(0x612)];}function Qr(_0x3d1589){const _0x2e3b81=a0_0x5de833;let _0x3f9565=_0x3d1589[_0x2e3b81(0x224)](_0x2e3b81(0x147))[_0x2e3b81(0x319)],_0xb36b97=_0x3d1589[_0x2e3b81(0x224)](_0x2e3b81(0x4ce)),_0x442dc9;if(_0x3f9565){let _0x34e4fc=_0x3f9565[_0x2e3b81(0x10d)](/\/\/(.*?)\./);_0x34e4fc&&_0x34e4fc[0x1]&&(_0x442dc9=_0x34e4fc[0x1]);}if(!_0x442dc9&&_0xb36b97&&_0xb36b97[_0x2e3b81(0x1af)]){let _0x38555c=_0xb36b97['FULLCHAIN']['split']('/'),_0x3bd3f2=_0x38555c[_0x38555c[_0x2e3b81(0x612)]-0x2];if(_0x3bd3f2){let _0x58c27b=_0x3bd3f2['split']('.');_0x58c27b['length']>0x2&&(_0x442dc9=_0x58c27b[0x0]);}}return _0x442dc9;}var Ds=Qr(b);async function Yr(){const _0x4ebf54=a0_0x5de833;let _0x10a12f=b[_0x4ebf54(0x224)](_0x4ebf54(0xc1)),_0x3ce625=b[_0x4ebf54(0x224)](_0x4ebf54(0x260))[_0x4ebf54(0x60b)][_0x4ebf54(0x311)],_0x2e8143=b['get'](_0x4ebf54(0x4ce)),_0x29cb6c=await Po(),_0x191f2e=b[_0x4ebf54(0x224)](_0x4ebf54(0x147))[_0x4ebf54(0x402)],_0xb55598=b[_0x4ebf54(0x224)](_0x4ebf54(0x147))[_0x4ebf54(0x319)];try{let _0x28df7b={'ip':_0x29cb6c||null,'redis_enable':_0x10a12f?.[_0x4ebf54(0x34e)]||null,'apikey':_0x3ce625||null,'ssl':_0x2e8143?.[_0x4ebf54(0x4fe)]||null,'lastupdate':ko||null,'port':_0x191f2e||null,'gitInstallError':ke?.['message']||null,'url':_0xb55598||null};if(console[_0x4ebf54(0x6c3)](_0x4ebf54(0x642),_0x28df7b['ip']),_0x10a12f&&_0x10a12f['ENABLED']){let _0x9dbadb=await Kr();_0x28df7b[_0x4ebf54(0x468)]=_0x9dbadb||null;}for(let _0x38fabd in _0x28df7b)_0x28df7b[_0x4ebf54(0x569)](_0x38fabd)&&_0x38fabd!=='ip'&&(_0x28df7b[_0x38fabd]=JSON[_0x4ebf54(0x564)](_0x28df7b[_0x38fabd]));return(await Pe['default']['post'](_0x4ebf54(0x1ba),_0x28df7b))[_0x4ebf54(0x385)];}catch(_0x2e93c5){return console[_0x4ebf54(0x1b8)](_0x2e93c5),!0x1;}}var Ls=!0x1,ko=0x242,Xr=0x3,To=0x1b7740;async function Fs(){const _0x2ac1c8=a0_0x5de833;if(!await Po())return console['error'](_0x2ac1c8(0x2bd)),'NO_IP';let _0x370fa5=await Yr();if(_0x370fa5){if(_0x370fa5[_0x2ac1c8(0x6ed)]['licenca']===!0x0){let _0x29c987=b[_0x2ac1c8(0x224)](_0x2ac1c8(0x4ce)),_0x449927=b[_0x2ac1c8(0x224)]('SERVER')[_0x2ac1c8(0x319)];_0x29c987&&_0x29c987?.[_0x2ac1c8(0x4fe)]?.[_0x2ac1c8(0x2d8)]('<subdomain>')&&_0x370fa5[_0x2ac1c8(0x6ed)]['subdomain']&&!_0x449927&&(await ti(_0x370fa5['response']['subdomain'],ei),await si(_0x2ac1c8(0x6a4),_0x370fa5[_0x2ac1c8(0x6ed)][_0x2ac1c8(0x34a)]),console[_0x2ac1c8(0x6c3)]('Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...'),setTimeout(()=>oi(),0x2710)),ke===null&&_0x370fa5[_0x2ac1c8(0x6ed)]['last_update']-ko>0x0&&await Zr(),Ls||(Ls=!0x0,Gr());let _0x207b49=0x24*0x3c*0x3c,_0x3cb727=_0x370fa5[_0x2ac1c8(0x6ed)][_0x2ac1c8(0x2c1)]>_0x207b49?_0x207b49:_0x370fa5['response']['segundos'],_0x159676=Number(_0x3cb727);if(isNaN(_0x159676)){console[_0x2ac1c8(0x1b8)](_0x2ac1c8(0x23d));return;}let _0x33fd98=Math[_0x2ac1c8(0x429)](_0x159676/0xe10),_0x4c7d4c=Math['floor'](_0x159676%0xe10/0x3c),_0x25c3cc=new Date(Date[_0x2ac1c8(0x338)]()+_0x159676*0x3e8);setTimeout(Fs,_0x159676*0x3e8);let _0x4b78db=_0x5e16eb=>_0x5e16eb[_0x2ac1c8(0x667)]()[_0x2ac1c8(0x199)](0x2,'0'),_0x287a8d=_0x2ac1c8(0x5ae)+_0x4b78db(_0x33fd98)+_0x2ac1c8(0x60f)+_0x4b78db(_0x4c7d4c)+_0x2ac1c8(0x5f8)+_0x4b78db(_0x25c3cc['getHours']())+':'+_0x4b78db(_0x25c3cc[_0x2ac1c8(0x30f)]())+'.';console[_0x2ac1c8(0x6c3)](_0x287a8d);}else return console[_0x2ac1c8(0x6c3)](_0x2ac1c8(0x479)),Ls&&(console['log'](_0x2ac1c8(0x101)),process['exit']()),_0x2ac1c8(0x3a5);}else{if(Oo++,Oo<Xr)console[_0x2ac1c8(0x6c3)](_0x2ac1c8(0x217)+To/0xea60+_0x2ac1c8(0x155)),setTimeout(Fs,To);else return console['error'](_0x2ac1c8(0x6a8)),_0x2ac1c8(0x45d);}}async function Zr(){const _0x2b22d5=a0_0x5de833;console[_0x2b22d5(0x6c3)](_0x2b22d5(0x519));let _0x5b3387=(0x0,je[_0x2b22d5(0x652)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x5b3387[_0x2b22d5(0x6bf)]['on'](_0x2b22d5(0x385),_0xf08eaf=>{const _0x31bccf=_0x2b22d5;console['log'](_0x31bccf(0x7a4)+_0xf08eaf);}),_0x5b3387[_0x2b22d5(0x455)]['on'](_0x2b22d5(0x385),_0x4b34a2=>{const _0x2641b4=_0x2b22d5;console[_0x2641b4(0x1b8)](_0x2641b4(0x522)+_0x4b34a2);}),_0x5b3387['on'](_0x2b22d5(0x4ab),_0x39e6ff=>{const _0x3030c1=_0x2b22d5;_0x39e6ff!==0x0?console[_0x3030c1(0x1b8)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20'+_0x39e6ff):console[_0x3030c1(0x6c3)](_0x3030c1(0x2c0)),console[_0x3030c1(0x6c3)](_0x3030c1(0x720)),setTimeout(()=>process[_0x3030c1(0x4ab)](),0x2710);});}var ei=Le[a0_0x5de833(0x1a6)][a0_0x5de833(0x52f)](__dirname,a0_0x5de833(0x3ea));async function ti(_0x3f0ac5,_0xb9c14c){const _0x5d6f62=a0_0x5de833;let _0x4952bf=ai();_0x3f0ac5=_0x3f0ac5['replace'](_0x5d6f62(0x1fb),'');try{let _0x48aea0=he[_0x5d6f62(0x1a6)]['readFileSync'](_0xb9c14c,_0x5d6f62(0x352));_0x48aea0=_0x48aea0[_0x5d6f62(0x25a)](/<apikey>/,_0x4952bf),_0x48aea0=_0x48aea0[_0x5d6f62(0x25a)](/<subdomain>/g,_0x3f0ac5),he[_0x5d6f62(0x1a6)][_0x5d6f62(0x33c)](_0xb9c14c,_0x48aea0,_0x5d6f62(0x352)),console[_0x5d6f62(0x6c3)](_0x5d6f62(0x2b0));}catch(_0x535bb9){console[_0x5d6f62(0x1b8)](_0x5d6f62(0x42e),_0x535bb9);}}function si(_0x111d28,_0x5d6b5d){return new Promise((_0xec4b6e,_0x5b08ea)=>{const _0x394571=a0_0x26c2;let _0x223735=(0x0,je[_0x394571(0x652)])(_0x394571(0x464),[_0x394571(0x559),'--standalone','-m',_0x111d28,'--agree-tos','-d',_0x5d6b5d]);_0x223735[_0x394571(0x6bf)]['on']('data',_0x24c78c=>{const _0x682f68=_0x394571;console[_0x682f68(0x6c3)](_0x682f68(0x32b)+_0x24c78c[_0x682f68(0x667)]());}),_0x223735[_0x394571(0x455)]['on']('data',_0x54064d=>{const _0x32f82e=_0x394571;console[_0x32f82e(0x1b8)](_0x32f82e(0x29b)+_0x54064d[_0x32f82e(0x667)]());}),_0x223735['on'](_0x394571(0x44f),_0x332e44=>{const _0x53cf1f=_0x394571;_0x332e44!==0x0?(console[_0x53cf1f(0x1b8)](_0x53cf1f(0x684)+_0x332e44),_0x5b08ea(_0x53cf1f(0x684)+_0x332e44)):(console['log'](_0x53cf1f(0x2f9)),_0xec4b6e());});});}function ai(_0x5ef541=0x32){const _0x109203=a0_0x5de833;let _0x5bc689=_0x109203(0x69a),_0x251e4f='';for(let _0x26cae6=0x0;_0x26cae6<_0x5ef541;_0x26cae6++)_0x251e4f+=_0x5bc689[_0x109203(0x5fe)](Math['floor'](Math[_0x109203(0x64a)]()*_0x5bc689[_0x109203(0x612)]));return _0x251e4f;}function oi(){(0x0,je['exec'])('shutdown\x20-r\x20now',(_0x8a24e,_0x20808c,_0x201dad)=>{const _0x5eedc6=a0_0x26c2;if(_0x8a24e){console[_0x5eedc6(0x1b8)](_0x5eedc6(0x5d7)+_0x8a24e);return;}if(_0x201dad){console[_0x5eedc6(0x1b8)](_0x5eedc6(0x5e9)+_0x201dad);return;}console[_0x5eedc6(0x6c3)](_0x5eedc6(0x2ac)+_0x20808c);});}0x0&&(module[a0_0x5de833(0x4c6)]={'subdomain':subdomain});function a0_0x5809(){const _0x23663a=['):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','admin','augusto.fcs@gmail.com','):\x20Enviando\x20texto','processing_id','\x22,\x20porm\x20no\x20foi\x20possvel\x20descriptograf-la,\x20sendo\x20impossvel\x20ver\x20seu\x20contedo.','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','updateChatGroupData','loadproxy','getConversationModelForOwner','updateProfilePicture','getRandomText','content','editOperator','code','API\x20Key\x20invlida.','copy','findContacts','/wa-message','buffer','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','Schema','Db\x20Connection','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','loadEnv','axios','processclearVariables','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','PREFIX_KEY','stdout','groupJoinApprovalMode','https://','makeCacheableSignalKeyStore','log','replaceVariables','font','chats.upsert','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','variablesNotFound','conversationTimestamp','Message\x20not\x20found','protocolMessage','getMessageModelForOwner','uuid','):\x20Editando\x20grupo\x20do\x20fluxo...','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','.X-ABLabel:Celular\x0a','app','TEXT','useMultiFileAuthState','proto','delayChatLabel','presenceSubscribe','processUazapi','endsWith','The\x20instance\x20needs\x20to\x20be\x20disconnected','http://ifconfig.me/ip','):\x20Buscando\x20todos\x20os\x20fluxos...','InstancesAlterarTodas','maxActives','defineAuthState','allFlows','_error','Router','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','https://jsonip.com','2WZpStM','findMessages','fetchContacts','\x20-\x20ON:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','.wav','Bad\x20Request','response','./.git/config','latitude','throwAndLogError','port','):\x20lastBlockId:\x20','):\x20customFieldVariables',',\x20qrcodeCount:\x20','optionDescription','54201rSETaR','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','condition','imgUrl','):\x20tem\x20blocks','WA\x20MODULE','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','webhookMap','awaitingApproval','audio/ogg','):\x20Enviando\x20contato','label','footerText','messageHandle','!stop','Conexo\x20estabelecida','):\x20Going\x20to\x20','creds.update','creds.json','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','lastDisconnect','ButtonsMessage','deleteAll','_FlowHistorico','selectableCount','deleteChat','vote','lastBlockId','@g.us','requestFile','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','groupSettingUpdate','readMessage','repository','inviteCodeDetails','instanceName\x20not\x20provided.','choices','deletedCount','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','secondValue','Parando\x20aplicao...','body','ListMessage','Validate','profile','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','pollCreationMessage','deleteImportedChat','vcard','stopConversation','Internal\x20Server\x20Error','):\x20Limpando\x20AutomateSystem','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','METHODS','groupLeave','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Connection\x20closed\x20for\x20instance:\x20','):\x20Usando\x20extenso\x20padro:\x20','):\x20Flow\x20desativado','COLOR','):\x20no\x20encontrou','updateProfileStatus','):\x20Editando\x20varivel\x20do\x20fluxo...','):\x20[messages.update]\x20group\x20ignored','126LfQPSy','fileName','DATABASE_CONNECTION_HOST','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','viewOnceMessage','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','leadInfo.etiquetas','request\x20received\x20in\x20updateCustomFields','Data\x20invlida\x20fornecida','Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.','lastInteraction','basename','query','groupMemberAddMode','instance.','setWebhook','locked','cwd','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','timeout','uazapiSendMenu','):\x20this.processing_id:\x20','groups.upsert','dayjs','replaceOne','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','eventEmitter','sendWhatsAppAudio','startsWith','updateOnlinePrivacy','concat','Erro\x20ao\x20atualizar\x20conversa:\x20','/instance/connectionState','\x1b[33m\x1b[1m','express','app-state-sync-key','):\x20expirationTime:\x20','editedMessage','url','readFile','Fluxo\x20no\x20encontrado.','participants','presence','application/octet-stream','updateAutoCompleteMessages','setUpdate','):\x20Error\x20processing\x20the\x20block:\x20','Instncia\x20no\x20encontrada.','closeExistingConversations','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','splice','Nenhum\x20chat\x20fornecido\x20para\x20insero.','Connection','getVariablesChat','collections','addBlock','\x20foi\x20interrompido\x20pelo\x20usurio.','mimetype','add','chatLog','everyOne','start','pollMessage','_Messages','warn','Image\x20created','processConditionsTest','Erro\x20ao\x20inserir\x20chats:','ids','round','readData','sendDataWebhook','find','findOne','Font\x20is\x20required','REDIS_ENABLED','verifiedName','editFlow','groups.update','flowStopConversation','user','uazapiSendContact','decryptPollVote','testingWith','option','connectedName','\x20saindo\x20da\x20funo','encoding','Erro\x20ao\x20deletar\x20a\x20conversa','groupUpdateDescription','\x22\x20-\x20REMOVED','autoCompleteMessages','stanzaId','sections','groupParticipantsUpdate','stoppedUntil','.svg','}}\x20->\x20valor\x20no\x20encontrado','editflowcondition','OrAnd','body:','Unauthorized','updateGParticipant','groupBetterSetting','):\x20Entrou\x20na\x20funo\x20saveReply','ScheduleMessage','and','Atualizao:\x20','initAuthCreds','):\x20Flow\x20no\x20encontrado','editflowreply','connectionUpdate','auth','CORS_CREDENTIALS','Last\x20message\x20not\x20found','stopMinutes','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','PRODUCT_LIST','Image\x20path:\x20','):\x20Error\x20processing\x20conditions:\x20','pollUpdateMessage','Forbidden','block','API\x20Key\x20from\x20Request:','processApiRequest','https://api.openai.com/v1/audio/speech','blockLogs','editConversation','stopMinutesMaxActives','announce','sha256','updateMissingEtiquetas','\x1b[30m','buttonId','sleep','removeInstance','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','validate','CHATS_SET','HOST','Rtulo\x20invlido\x20ou\x20sem\x20ID.','):\x20Rtulo\x20atualizado:\x20','startCommandWord','PRESENCE_UPDATE','pictureUrl','lastSend','createflow','client','messageId','digest','urlOrBase64','\x20chats\x20de\x20','tags','updateOneById','\x5cd+','path','removeData','role','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Enter\x20a\x20value\x20in\x20milliseconds','birthtime','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','done','delete','):\x20Visualizando\x20AutomateSystem','blockId','less','fetchMessages','AUTHENTICATION_API_KEY','not\x20loaded','pino','REDIS','\x20com\x20sucesso.','reorderReplyOptions','fetchBusinessProfile','):\x20Buscando\x20flow,\x20name:\x20','execSync','waitingForReplyMenu','):\x20Erro\x20durante\x20a\x20atualizao:\x20','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','):\x20No\x20achou\x20nenhum\x20flow','updatePrivacySettings','onTime','newValue','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Erro\x20ao\x20criar\x20fluxo\x20regular','apirequest','Erro\x20ao\x20sincronizar\x20fluxos:\x20','optionName','insertCount','.gif','redis','media','\x1b[41m','sharePass','contact_blacklist','http://ip-api.com/json','statusCode','prepareMediaMessage','joinGroupValidate','request\x20received\x20in\x20fetchConversation','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','setting','testProxy','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','waitingMenu_ExpiredMessage','):\x20Enviando\x20mdia','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','messages','getContentType','EXPIRIN_IN','DATABASE','hGet','jid','saveConversationToDatabase','#b4ebff','^\x5cd+','oldToken','Flow\x20iniciado','recebido\x20de','use','instanceKeys','toLocaleString','toBRL','Erro\x20ao\x20copiar\x20o\x20documento','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','applyvaredit','.url','ScheduleMessageModel','blocks','backgroundColor','post','Bloco\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','getClient','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','):\x20mediaMessageInfoId\x20:\x20','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','shareOwners','sendContact','status.instance','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','findManyByIds','ERROR:\x20','Falha\x20ao\x20processar\x20a\x20solicitao','sendLocation','ephemeralDuration','match','insertMany','qrCode','all','view\x20engine','quoted','.webm','cachedContact','delayChatLabel_MAX_RETRIES','archived','Telefone:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','readFileSync','formatBRNumber','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','existsSync','substring','trim','truncatedtoEnd','fetchPrivacySettings','static','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','.mp4','generateWAMessageFromContent','TYPE','toBrazilianNumberFormat','Nenhum\x20participante\x20vlido\x20encontrado.','request\x20received\x20in\x20updateFlowConfig','whatsappNumbers','src','delaySecMin','Image\x20is\x20base64','whatsappNumber','cache','LOG_COLOR','updateReadReceiptsPrivacy','chatModify','chats.set','sendReaction','username','when','Nmero:\x20','scheduleFlow','getPrototypeOf','DEBUG','/startFlow/:instance/:startID','request\x20body:\x20','originalUrl','\x20-y','convertToWebP','keyPattern','mentions','updateAgent','):\x20atualizao\x20chat:\x20','loadWebhook','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Business\x20profile\x20fetched','isListOfNumbers','SERVER','labelId','pollCreationMessageV3','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','\x20segundos','\x1b[32m%s\x1b[0m','Log\x20out\x20instance:\x20','options','flattenObject','):\x20transformedCustomFieldVariables','webhookService','apiName','createWebhook','fone','\x20minutos...','caption','replaceValue','connectToWhatsappController','instances','SERVER_URL','https','QRCODE_UPDATED','request\x20received\x20in\x20scheduleMessage','writeFile','saveCreds','routerPath','reorderBlocks','yes','collection','cacheContactModel','.mp3','upsertedCount','fetchLabels','\x20no\x20encontrado','HH:mm:ss','AddChatLabel','buttons','Instncia:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.','SINGLE_SELECT','_Contacts','where','replaceVariablesLogs','Error\x20in\x20scheduleNextCheck:\x20','eventHandler','10yxqGfu','messages.set','importChats','stateConnection','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','DATABASE_CONNECTION_USER','InstancesAsDisconnectedX','No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro','STORE','downloadMediaMessage','SERVER_ACK','RemoveChatLabel','markMessageAsRead','restart','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','HeaderType','http://checkip.dyndns.org','audioMessage','replaceVariablesInObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','lastSendMessage','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','noConnection','abs','findOrCreate','groupMetadata','getBase64FromMediaMessage','messageTimestamp','Error\x20while\x20deleting\x20message\x20for\x20everyone','presence.update','CORS_ORIGIN','params','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','chats.delete','No\x20respondeu\x20com\x20a\x20enquete.','instanceName','padStart','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','changeVariables','groupGetInviteInfo','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','set','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','Safari','undefined','mongoose','none','Audio\x20converted\x20and\x20stored\x20in\x20cache','default','GUARD','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','#9568cf','nomecompleto','quotedMessage','\x20minutos\x20verificar\x20novas\x20mensagens','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','poll','FULLCHAIN','muteEndTime','repeat','global','state','forEach','Not\x20is\x20business\x20profile','address','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:','error','Type\x20not\x20found','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','deleteReplyOption','Module\x20-\x20ON','):\x20conversation.lastInteraction:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','lastCondition','string','leadInfo.','apply','flowIgnoreGroups','scheduled','inviteUrl','$addToSet','notContains','groupUpdateSubject','mediaKey','.ogv','awaitSeconds','deleteMessage','Deletion\x20failed','updateGroupWebhook','chats.update','timeInMinutes','stopWhenYouSendMsg','text','CONNECTION_UPDATE',',\x20valor\x20a\x20encontrar:\x20\x22','test','):\x20Criando\x20fluxo\x20regular...','\x1b[1m\x1b[37m','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','$set','Fluxo\x20agendado\x20pelo\x20fluxo\x20','updateMany','events','reconnectAttempts','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','joinApprovalMode','ContactsAndGroups','express-async-errors','updateFlowConfig','\x20tentativas:\x20remotejid=','listType','updateConversation','isCommunity','$pull','\x0aFN:','newStoppedUntil','findByIdAndUpdate','createHash','Complete\x20URL:','apikey','Request\x20body:','trimmed','connectToWhatsapp','slice','editFlowReply','nome','Erro\x20ao\x20iniciar\x20fluxo:\x20','errors','getLabelModelForOwner','lean','created','sendCommand','.uazapi.dev','):\x20Ler\x20mensagem','getStatus','chats','JWT','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','deleteConversation','sending',',\x20Novo\x20tamanho:\x20','unlinkSync','sendPresenceUpdate','config','Erro\x20ao\x20normalizar\x20a\x20mensagem:','groupRevokeInvite','getLastMessage','protocol','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName','pop','website','processblock','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','process','Erro\x20ao\x20alterar\x20fluxo','stopIfLastReturnedError','defineProperty','method','owner','redis://127.0.0.1:6379','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','scheduleSendAudio','.extension','mediaMessage','getAllData','json','leaveGroup','Removidas\x20as\x20variveis:\x20','profilePictureUrl','Erro\x20ao\x20editar\x20agentes','authorization','findConversation','createSharedFlow','get','\x20global:\x20','Erro\x20ao\x20adicionar\x20label\x20','arraybuffer','toDataURL','scheduleNextCheck','groupdata','):\x20Conversa\x20inserida\x20com\x20sucesso.','assign','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','findParticipants','status@broadcast',':\x20Erro\x20durante\x20loadproxy\x20-\x20','reconnectTimestamps','textMessage','\x20contacts','pairingCode','documentMessage','node-cache','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','reject','connection.update','\x20minutos','Erro\x20ao\x20deletar\x20mensagens:','.webp','interval\x20no\x20\x20um\x20nmero','MESSAGES_SET',',\x20resultado:\x20','off','enumerable','\x1b[44m','msgRetryCounterCache','$dbName','folder','subjectTime','headerString','\x20instance\x20does\x20not\x20exist','waitingMenu_replyOptions','):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27','console','limit','bodyString','flowPrefixCommand','Rtulo\x20deletado:\x27,\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting','inviteCode','Image\x20converted\x20to\x20WebP','!cmd_','delay','isAdmin','number','flowConfig','request\x20received\x20in\x20updateAutoCompleteMessages','utf-8','replace','AppStateSyncKeyData','put','Cannot\x20','detail','Error\x20updating\x20message\x20status:','AUTHENTICATION','createInstance','no.connection','Instance\x20logged\x20out','bodyStringErrorParse','wuid','fileUrl','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','copyBlock','StartBot','buttonText','sendButtons','sim','getMIMEType','Instance\x20\x22','):\x20Chat\x20','editFlowVaredit','formatStatusMessage','notMatchRegex','Error\x20removing\x20unused\x20chat\x20fields:','/clients-info','getBusinessProfile','label_jid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','request\x20received\x20in\x20editFlowcondition','WARN','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','):\x20Conversa\x20est\x20expirada','\x20ao\x20chat\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','://','sharp','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','upperCase','Esse\x20fluxo\x20expirou','views','Instance\x20deleted','\x1b[31m','entries','replyOptions','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Database\x20is\x20not\x20enabled','RemoteJid:','MESSAGES_UPSERT','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','removeOlderDisconnectedInstances','ini','#d3a91f','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','groups','):\x20conversation.status:\x20','unknown\x20operation\x20type\x20[','50mb','E-mail:\x20','userDevicesCache','saveMediaToFile','key','MESSAGES_UPDATE','/wa-presence','Erro\x20do\x20Certbot:\x20','*Pergunta*:\x20\x0a','READ','last','no-cache','DB_PREFIX_NAME','):\x20enviado\x20para\x20[','isCommunityAnnounce','cleanStore','Content\x20is\x20required','?authSource=admin&readPreference=primary&directConnection=true','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Erro\x20ao\x20tentar\x20updateCustomFields','Group\x20not\x20found','desativadoFluxoAte','telefone','fetchConversation','Reinicializao\x20iniciada:\x20','linkPreview','success','listMessage','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','menuMessage','):\x20Fluxos\x20no\x20esto\x20ativados','Esse\x20fluxo\x20\x20global,\x20para\x20delet-lo\x20voc\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','notify','demote','preview','envProcess','10346LyghvS','findById','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','router','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','\x1b[30m%s\x1b[0m','lastFetchAwaitingApproval','Sistema\x20atualizado\x20com\x20sucesso!','segundos','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','info','findFlow','push','capitalizedWords','getConversation','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','subjectOwner','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','updateGroupsAddPrivacy','#dfaef0','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','contextInfo','):\x20Falha\x20ao\x20deletar\x20mensagem.','convertedOptions','updateBlock','173576xllZsA','editflowgroup','dbServer','isInteger','sendMessageWithTyping','isJWT','includes','indexOf','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Missing\x20global\x20api\x20key','unlocked','child_process','match_last_seen','/wa-qrcode','REDIS_URI','enviado\x20para','archive','fullName','DELIVERY_ACK','GET','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','flushHeaders','remove','temp-','.ogg','replaceVariablesInReplyOptions','PASSWORD','USER','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','labels.edit','sendAudio','order','filter','Error\x20writing\x20file:\x20','getProfileName','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Certbot\x20executado\x20com\x20sucesso.','connectionClosed','apiResponse','\x22reaction\x22\x20must\x20be\x20an\x20emoji','\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','getContactModelForOwner','normalizeMessage','type','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','pollCreationMessageKey','\x20-\x20retornado:\x20','statusMessage','processPollUpdateMessage','message_normalized','selectedOptions','Resultado\x20da\x20atualizao:',',\x20canSendMessage:\x20','profilePicture','):\x20isVote:\x20','STORE_CLEANING_TERMINAL','AutomateSystem','updateStopChat','getMinutes','reviver','KEY','createClient','parseInt','menuExpiredMessage','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','Notifying\x20clients\x20for\x20chat:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','notEqual','URL','shift','deleteFlow',':\x20Tentativa\x20','object','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','CHATS_UPSERT','groupValidate','DATABASE_CONNECTION_URI','Chat\x20com\x20ID\x20','padEnd','autoCompleteMessages.command_1','.jpg','header','Erro\x20ao\x20substituir\x20variveis\x20para\x20','No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro','/instance/create','createRegularFlow','Certbot:\x20','.jwt','headers','create','Not\x20Found','fileLength','STORE_CONTACTS','goToFlow','evaluateCondition','ORG:','uazapiSendAudio','Error\x20in\x20chatModify\x20for\x20number\x20','error_log','now','toggleEphemeral',':\x20Configurao\x20do\x20IP\x20invlida.\x20Tentando\x20o\x20prximo...','verbose','writeFileSync','size','etiquetas','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.',':\x20IP\x20configurado:\x20','uazapi','Audio\x20processed','findLabels','messageSecret','getDelay','):\x20Procurando\x20conversa','expiration','chatHandle','archiveChat','subdomain','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','groupCreate','menuType','ENABLED','long','expression','Erro\x20ao\x20atualizar\x20AutomateSystem:','utf8','VERBOSE','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','sendList','text/event-stream','replaceVariablesChat','SERVER_TYPE','Authentication\x20error','getMessage','request_time','CONTACTS_UPDATE','dropIndex','Invalid\x20format','\x0aitem','isConnected','sync','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','dbClient','):\x20Editando\x20bloco...','startID','updateProfileName','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','addReplyOption','addresss','deleted','/events','toLowerCase','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','messageType','storePath','):\x20Comando\x20desconhecido:\x20','editFlowBlock','Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage','Types','sendPoll','announcement','groupRequestParticipantsUpdate','/message','saveVariable','instanceInfo','canSendMessage','updateMissingTags','message','isRunning','):\x20Bloco\x20com\x20ID\x20','mentioned','convertaudioMP3','unhandledRejection','contacts.upsert','data','nmero\x20no\x20existe','):\x20Query\x20params:','currency','http://icanhazip.com/','\x22\x20not\x20found',',\x20Segundo\x20Valor:\x20','sendMessage','sendStatus','call','\x20e\x20ID=','false','waitingMenu_id','flowConversation','setRestartTimeout','1114861tKALly','STORE_CHATS','/*.json','#d8e651','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','request\x20received\x20in\x20deleteFlow','Hash\x20to\x20image\x20name:\x20','BufferJSON','pollMessageOnDelete','Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo','WebhookGlobal','@redis/client','updateGParticipate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','sendMenu','split','CONTACTS_SET','LICENSE_INVALID','bateu\x20events','ex:\x20\x22groupJid=120362@g.us\x22','contactHandle','):\x20delete\x20=\x20true','joinGroup','local_map','createNewConversation','has','checkAndRestartProcess','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','jsonwebtoken','Erro\x20ao\x20aplicar\x20varedit:\x20','_Flows','sendText','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','request\x20received\x20in\x20getConversation','):\x20Conversa\x20atualizada\x20em\x20memria','editflowvaredit','fromObject','DD/MM\x20HH:mm:ss','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','agents','findIndex','group-participants.update','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','):\x20Deletando\x20mensagem','emit','password','instance','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x1b[37m','STATUS_INSTANCE','getFlow','labels.association','group','.ppt','messagesSend','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','20RZKbmb','stickerMessage','fromMe','normalizeMessageContent','updateMissingShareOwners','beautifyWithPlaceholders','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','request_method','createConversationforStartFlow','waInstances','getScheduleMessageModelForOwner','processvaredits','#fe9dfe','description','#f64847','Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20',',\x20global:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','store','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','some','promote','max','Instance\x20restarted','rows','insert','uazapiDeleteMessage','?timestamp=','qrcode.updated','env.yml','LabelModel',',\x20lastCondition:\x20','release','rm\x20-rf\x20','verify','DisconnectReason','Type\x20defined\x20as\x20audio','LOG','chat\x20no\x20encontrado','moreLogs','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','CHATS_DELETE','):\x20Criando\x20fluxo\x20compartilhado...','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','ignoreGroups','envYaml','command','imageMessage',':\x20IP\x20funcionando!','audioWhatsapp','cors','createGroup','PORT','action','atendimentoAberto','color','leadInfo.customFields','notas','getChatModelForOwner','pt-BR','Erro\x20ao\x20remover\x20instncias\x20antigas:','send.message','\x1b[46m','\x1b[32m','requestPairingCode','name','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','writeData','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','findGroupInfo','):\x20updateResult:','jpegThumbnail','privacySettings','videoMessage','processScheduleFlow','Fetching\x20business\x20profile','varedit','minutesToClose','instancias:\x20','AutomateSystem\x20no\x20foi\x20inicializado','The\x20\x22','getScheduleMessage','Fluxos\x20no\x20esto\x20ativados',':\x20no\x20h\x20IP\x20salvo,\x20ou\x20est\x20invlido,\x20selecionando\x20um\x20IP\x20aleatrio.','fetchInstances','Tentando\x20reconectar...',',\x20saindo.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getTime','cacheContact','floor','findWebhook','listResponseMessage','readMessages','saveChatVariables','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','messageStubType','request\x20received\x20in\x20starFlow','INFO','contact',',\x20pairCode:\x20','updateProfilePicturePrivacy','ReplyOption\x20com\x20ID\x20','keep-alive','height','pushName','GROUP_PARTICIPANTS_UPDATE','/instance/connect','firstValue','empty','processawaitSeconds','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','createSectionsFromValues','GROUPS_UPDATE','subject','):\x20Entrou\x20na\x20funo\x20clearVariables','@s.whatsapp.net','fetchStatus','mediatype','deleteDoneMessages','valid','dbSettings','createConnection','document','extractRegex','errorLog','PROXY','ON\x20-\x20dbName:\x20','close','pollErrorMessage','\x1b[0m','MAX_RECONNECT_ATTEMPTS','variables','deleteBlock','stderr','composing','ConversationModel','menuIgnoreNonVotes','/chat','):\x20newSecondValue\x20aps\x20replaceVariables:','FlowRouter','cleaningUp','SERVER_OFFLINE','upsertChats','locationMessage','delaySecMax','context','editChat','):\x20Query\x20params:\x20','certbot','closed','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','logout','instanceCount','Instance\x20Name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#00a1f2','parse','leadInfo.atendimentoAberto','http','url\x20completa:','):\x20Este\x20fluxo\x20est\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20s\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20atravs\x20do\x20uso\x20da\x20API\x20key\x20global.','Sending\x20audio\x20whatsapp','image','/media/','_activatedCount','contactMessage','crypto','mongodb://','_id','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','/exit','iniciando\x20fluxo\x20router','-instances','model','delAll','silent','email','allContacts','Desconectado,\x20parando\x20execuo.','activatedCount','@broadcast','createJid','updateChatWithMessage','ListType','scheduleSendText','fetchProfilePictureUrl','BRL','Close\x20connection','Erro\x20ao\x20importar\x20chats','getDevice','Erro\x20ao\x20alterar\x20privacidade','documentWithCaptionMessage','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','waitingMenu_text','/config','Image\x20is\x20url','uazapiSendLocation','write','class-validator','_Labels','imported','):\x20Current\x20Time:\x20','DATABASE_CONNECTION_PASSWORD','variable','redirect','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','fetchChats','The\x20global\x20api\x20key\x20must\x20be\x20set','keys','\x20e\x20proprietrio\x20','logger','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','leadInfo','.\x20Aguardando\x20antes\x20de\x20reconectar...','from','Output\x20path:\x20','width','enabled','DOCKER_ENV','exit','SEND_MESSAGE','allflows','contains','superadmin','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','groupId','sem\x20texto\x20na\x20mensagem','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','Background\x20color\x20is\x20required','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','mongodb','Request\x20Body:','node-mime-types','entrou\x20na\x20funo\x20de\x20sincronizar\x20fluxos','map','Variveis\x20no\x20encontradas:','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','ms\x20(tentativa\x20','finish','updateMissingCustomFields','sort','findGroups','reference','isBusiness','dbConnection','online','exports','https://chat.whatsapp.com/',',\x20Comparador:\x20','goNextblock','../env.yml','next_groupId','__esModule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','SSL_CONF','.xlsx','autoCompleteMessages.command','groupSetting','variablesToObject','restrict','\x1b[43m','Error\x20handling\x20sendMessage:','cpf','removeProfilePicture','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.','imagechat','updateCustomFields','remove.instance','senderKeyDistributionMessage','):\x20A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.','Error\x20updating\x20cache\x20contact:','\x20-i\x20','):\x20[messages.upsert]\x20group\x20ignored','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','.\x20Pulando.','Archiving\x20chat','sendSticker','https://api.elevenlabs.io/v1/text-to-speech/','mediaSticker','displayName','\x20no\x20encontrado\x20para\x20atualizao.','toFile','Last\x20message\x20not\x20found\x20for\x20number:','contactsArrayMessage','/group','setNewValue','STORE_MESSAGE','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','replyOption','bearer','):\x20Iniciando\x20bot...','CONTACTS_UPSERT','SERVER_PORT','load','Erro\x20ao\x20atualizar\x20o\x20flow.','getflow','del','readreceipts','\x1b[31m%s\x1b[0m','updateOne','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','PRIVKEY','EMAIL','Getting\x20image\x20from\x20url','customFields','groupJid','processConditions','setHeader','lastMessage','isURL','data:\x20','Trying\x20to\x20get\x20business\x20profile','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','}}\x20->\x20\x22','.pdf','):\x20alterando\x20this.AutomateSystem','integer','CORS','Erro\x20ao\x20encerrar\x20a\x20API','.TEL;waid=','.mimetype','GROUPS_UPSERT','CORS_METHODS','@whiskeysockets/baileys','getAutomateSystem','SUCCESS','picture','Parando\x20aplicao,\x20atualizao\x20recebida','js-yaml','cachedData-whatsapp','):\x20Grupo\x20','dataValidate','DELETED','findAndUpdate','findAndUpdateCacheContact','qrcode','Erro\x20de\x20atualizao:\x20','Database\x20connection\x20closed.','^\x5cd+([-]\x5cd+)*@g.us$','audio/ogg;\x20codecs=opus','\x1b[34m%s\x1b[0m','createServer','A\x20edio\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alteraes,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cpia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizaes\x20sem\x20afetar\x20a\x20verso\x20sincronizada.','isArray','):\x20debug\x20alterando\x20this.AutomateSystem','values','editFlowVariable','Valor\x20de\x20find\x20ou\x20replace\x20ausente','importChatsAntigo','join','findAll','hSet','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','out','updateMessage','memberAddMode','modifiedCount','_p_','unreadcount','):\x20Label\x20','statusJidList','connect','g.us','startFlowWebhook',',\x20isAdmin:\x20','Erro\x20de\x20duplicidade\x20no\x20ndice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20ndice...','greater','):\x20Deletando\x20conversa...','editFlowGroup','endSession','removed','DARK','isJidBroadcast','Erro\x20ao\x20atualizar\x20o\x20fluxo:','participant','CLEANING_INTERVAL','deleteInstance','):\x20Bloco\x20original\x20para\x20cpia:\x20','ERROR','not_announcement','hex','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','updatePresence','):\x20Enviando\x20udio','updateReplyOption','lastUpdate',',\x20apikey:\x20','item','scheduleMessage','g-t','.png','certonly','true','579582FFbxju','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','request\x20received\x20in\x20editFlow','pollOnReplyDelete','The\x20','toNumber','host','\x0a*Voc\x20respondeu*:\x0a','authService','stringify','phoneNumber','):\x20Edit\x20schedule\x20message...','\x20de\x20conectar\x20com\x20IP\x20extra.','delayChatLabel_RETRY_DELAY_MS','hasOwnProperty','Falha\x20ao\x20processar\x20fetchBusinessProfile','responsavelid','groupName','min','_Chats','fetchProfile','):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20','exec','remoteJid','Message','):\x20','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','verifyWhatsAppNumber',',\x20data:\x20','author','ObjectId','\x20tentativas.','formatVCard','Error\x20handling\x20sendmessage:','deleteOne','readdirSync','addChatLabel','waUploadToServer','setContext','authModel','groupadd','restartInstance','prepareWAMessageMedia','URL:','count','chatId','base64','function','CHATS_UPDATE','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','compression','Falhou\x20ao\x20encontrar\x20chat\x20','flowName','updateStatusPrivacy','profileName','):\x20teve\x20mudanas\x20chat.muteEndTime:\x20','flow','updateParticipant','resetReconnectionVariables','editflowblock','send','FlowController','removeUnusedChatFields','SECRET','Falha\x20aps\x20vrias\x20tentativas.','messages.update','PLAYED','contentText','.doc','rowId','https://uazapi-plugin.bubbleapps.io/','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos','processgoToFlow','groups_ignore','NextBlock','\x20depois\x20','\x20atualizado\x20com\x20sucesso.\x20Ao:\x20','toUpperCase','flowActive','editflow','localWebhook','content-type','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','messaging-history.set','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants',',\x20Minutes\x20to\x20Close:\x20','groupToggleEphemeral','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','#000000','Subscribed\x20Events:','Temp\x20image\x20deleted','ultimaTentativaRemoteJid','convertaudio','\x20mensagens\x20de\x20','update','Valor\x20inicial:\x20\x22','\x20inseridas\x20no\x20banco\x20de\x20dados...','groupHandler','/wa-all-message','error\x20get\x20vote','contacts','unreadCount','notEmpty','Imagem\x20no\x20encontrada','URI','The\x20property\x20cannot\x20be\x20empty','/wa-contacts','available','\x20->\x20CONFIRMADO.','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','inner','152050JzTLFA','configService','waMonitor','/wa-connection-update','\x0a{\x20instance:\x20','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:','@ffmpeg-installer/ffmpeg','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','https://uazapi-plugin.bubbleapps.io/?url=','authentication','creation','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','904ftmlRD','getFlowModelForOwner','updateGroupPicture','longitude','stopped','toArray','groupFetchAllParticipating','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','loadInstance','RECONNECT_TIME_FRAME','#6f7bcf','dbInstance','badSession','createAndSave','chat','organization','Contacts\x20not\x20found','Erro\x20de\x20reinicializao:\x20','clearVariables','Not\x20allowed\x20by\x20CORS','reaction','AutomateFunctions','leadInfo.desativadoFluxoAte','findAndReplace','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','#ffffff','\x20:\x20','findOneAndUpdate','\x1b[34m','connecting','audio','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','\x20minutos.\x20Ser\x20s\x20','#92ceac','\x20do\x20chat\x20','/wa-message-update','lowerCase','webhookModel','charAt','arrayUnique','lastReceivedMessage','all_member_add','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','connectionStatus','delayMessage','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','.docx','sendMedia','env',',\x20Resultado:\x20','downloads','API_KEY','ChatRouter','Error\x20in\x20converting\x20audio','evaluateConditionTest','\x20horas\x20e\x20','output','redisEnv','length','_activedCount','ChatModel','viewOnceMessageV2','groupDesc','Comando\x20desconhecido','boolean','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','startFlow','DaysToDelete','array','CONECTADO\x20\x20UAZAPI','pre','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','status','conditions','\x20Tentativa\x20de\x20reconexo\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','request\x20received\x20in\x20createFlow','Deleted\x20','Button\x20texts\x20cannot\x20be\x20repeated','Flow\x20no\x20encontrado','title','webhook','request\x20received\x20in\x20deleteDoneMessages','CONNECTION','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','list','isJidGroup','save','remote\x20\x22origin\x22','/instance/delete','equal','conversation','):\x20newFirstValue\x20aps\x20replaceVariables:','video','env.KEY\x20!==\x20key','Erro\x20ao\x20iniciar\x20o\x20fluxo.','varedits','uncaughtException','automateSystem','#83e421','fetchProfilePicture','*\x0a\x0a','prefixCommand','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','exists','PENDING','ip:\x20','260kYAuzE','convert','#ffc5c7','revokeInviteCode','generateHash','remoteJids','Selecione','random','REDIS_PREFIX_KEY','listen','):\x20conversation.waitingMenu_name','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','creds','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','replacer','spawn','sectionsToString','Mensagem\x20no\x20suportada','\x20removido\x20do\x20chat\x20','\x1b[1m','createFlow','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','remoteJidsRemaining','\x20quoted:\x20','deleteMany','drop','realVariables','):\x20Alterando\x20fluxo...','value','#56ccb4','recording','contacts.update','open','unavailable','messages.upsert','):\x20[ERROR]:\x20No\x20foi\x20possvel\x20recuperar\x20mensagem\x20de\x20remotejid=','toString','sign','bulkWrite','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20',']\x20(','importChatsBatch','#ffae04','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Flow\x20iniciado\x20com\x20','pollCreationMessageV2','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','flowStopMinutes','editFlowCondition','https://api.ipify.org?format=json','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','scheduleSendMedia','saveTextReply','paused','connectionState','binary','isBase64','synchronizeFlows','AUTHENTICATION_JWT_SECRET','):\x20Conversas\x20encontradas:','):\x20teve\x20mudanas\x20chat.archived:\x20','Erro\x20ao\x20editar\x20a\x20conversa','.txt','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','findGroup','/wa-chats','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Erro\x20ao\x20tentar\x20autoCompleteMessages','\x20}\x0a','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editScheduleMessage','reactionMessage','):\x20Buscando\x20conversa...','getOwnPropertyNames','72804RHmOxi',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','readMessageBot','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','/:instanceName','dropCollection','ephemeralExpiration','buttonMessage','Processing\x20audio','isLong','format','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','authState','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20',':\x20IP\x20falhou.\x20Tentando\x20o\x20prximo...','CREDENTIALS','Error\x20fetching\x20and\x20updating\x20profile:\x20','Cache-Control'];a0_0x5809=function(){return _0x23663a;};return a0_0x5809();}