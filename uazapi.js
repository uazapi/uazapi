const a0_0x500e42=a0_0x3d52;(function(_0x54e5ec,_0x1ff4e1){const _0x286d1a=a0_0x3d52,_0x52268c=_0x54e5ec();while(!![]){try{const _0x2b6e21=-parseInt(_0x286d1a(0x647))/0x1+parseInt(_0x286d1a(0x1e9))/0x2*(-parseInt(_0x286d1a(0x48e))/0x3)+-parseInt(_0x286d1a(0x1b2))/0x4+parseInt(_0x286d1a(0x1d0))/0x5+parseInt(_0x286d1a(0x1db))/0x6+parseInt(_0x286d1a(0x360))/0x7+-parseInt(_0x286d1a(0x63f))/0x8*(-parseInt(_0x286d1a(0x2af))/0x9);if(_0x2b6e21===_0x1ff4e1)break;else _0x52268c['push'](_0x52268c['shift']());}catch(_0x1e97ea){_0x52268c['push'](_0x52268c['shift']());}}}(a0_0x555d,0xb15d4));var _o=Object[a0_0x500e42(0x758)],Ie=Object[a0_0x500e42(0x172)],Po=Object[a0_0x500e42(0x2db)],$o=Object[a0_0x500e42(0x69f)],ko=Object['getPrototypeOf'],Lo=Object[a0_0x500e42(0x52e)][a0_0x500e42(0x569)],jo=(_0x3d99e0,_0x225cd9)=>{for(var _0x56dd11 in _0x225cd9)Ie(_0x3d99e0,_0x56dd11,{'get':_0x225cd9[_0x56dd11],'enumerable':!0x0});},xs=(_0x30689b,_0x3ea05f,_0x5456c7,_0x244c00)=>{const _0xfd6f27=a0_0x500e42;if(_0x3ea05f&&typeof _0x3ea05f==_0xfd6f27(0x74a)||typeof _0x3ea05f==_0xfd6f27(0x4f8)){for(let _0x552b4d of $o(_0x3ea05f))!Lo[_0xfd6f27(0xf6)](_0x30689b,_0x552b4d)&&_0x552b4d!==_0x5456c7&&Ie(_0x30689b,_0x552b4d,{'get':()=>_0x3ea05f[_0x552b4d],'enumerable':!(_0x244c00=Po(_0x3ea05f,_0x552b4d))||_0x244c00[_0xfd6f27(0x165)]});}return _0x30689b;},R=(_0x1e70db,_0x4c22f9,_0x534f36)=>(_0x534f36=_0x1e70db!=null?_o(ko(_0x1e70db)):{},xs(_0x4c22f9||!_0x1e70db||!_0x1e70db[a0_0x500e42(0x6ef)]?Ie(_0x534f36,'default',{'value':_0x1e70db,'enumerable':!0x0}):_0x534f36,_0x1e70db)),Fo=_0x17e98e=>xs(Ie({},'__esModule',{'value':!0x0}),_0x17e98e),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x500e42(0x4b0)]=Fo(zr);var To=R(require(a0_0x500e42(0x2bb))),_s=require('fs'),Ps=require('js-yaml'),$s=require(a0_0x500e42(0x112)),xe=require('path'),ae=process[a0_0x500e42(0x719)](),he=(0x0,xe[a0_0x500e42(0x667)])(ae,a0_0x500e42(0x2b8)),Ds=(0x0,xe[a0_0x500e42(0x667)])(ae,'src'),Ui=(0x0,xe[a0_0x500e42(0x667)])(ae,a0_0x500e42(0x62e),'auth'),Zt=class{constructor(){const _0x4e89c0=a0_0x500e42;this[_0x4e89c0(0x214)]();}[a0_0x500e42(0x58c)](_0x20815a){const _0x1a0627=a0_0x500e42;return this[_0x1a0627(0x4b3)][_0x20815a];}[a0_0x500e42(0x214)](){const _0x4d3aee=a0_0x500e42;this[_0x4d3aee(0x4b3)]=process['env']?.[_0x4d3aee(0x414)]!=='true'?this['envYaml']():this[_0x4d3aee(0x45f)](),process['env']?.[_0x4d3aee(0x414)]===_0x4d3aee(0x460)&&(this[_0x4d3aee(0x4b3)]['SERVER'][_0x4d3aee(0x5cd)]=_0x4d3aee(0x389),this['env'][_0x4d3aee(0x429)][_0x4d3aee(0x41c)]=Number[_0x4d3aee(0x219)](process['env']?.[_0x4d3aee(0x3da)]??_0x4d3aee(0x1ee)));}[a0_0x500e42(0x3f1)](){const _0x2c1def=a0_0x500e42;return(0x0,Ps['load'])((0x0,_s['readFileSync'])((0x0,$s[_0x2c1def(0x667)])(Ds,_0x2c1def(0x3d8)),{'encoding':_0x2c1def(0x28a)}));}[a0_0x500e42(0x45f)](){const _0x152194=a0_0x500e42;return{'SERVER':{'TYPE':process['env'][_0x152194(0x5ef)],'PORT':Number[_0x152194(0x219)](process[_0x152194(0x4b3)][_0x152194(0x3da)]),'URL':process[_0x152194(0x4b3)][_0x152194(0x5f0)]},'CORS':{'ORIGIN':process[_0x152194(0x4b3)][_0x152194(0x6d4)][_0x152194(0x516)](','),'METHODS':process[_0x152194(0x4b3)]['CORS_METHODS'][_0x152194(0x516)](','),'CREDENTIALS':process[_0x152194(0x4b3)]?.[_0x152194(0x2a4)]===_0x152194(0x460)},'SSL_CONF':{'PRIVKEY':process[_0x152194(0x4b3)]?.[_0x152194(0x4d0)],'FULLCHAIN':process['env']?.[_0x152194(0x367)]},'STORE':{'CLEANING_INTERVAL':Number[_0x152194(0x386)](process[_0x152194(0x4b3)]?.[_0x152194(0x27e)])?Number[_0x152194(0x219)](process[_0x152194(0x4b3)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x152194(0x4b3)]?.[_0x152194(0x718)]==='true','CONTACTS':process['env']?.[_0x152194(0x512)]===_0x152194(0x460),'CHATS':process[_0x152194(0x4b3)]?.[_0x152194(0x421)]===_0x152194(0x460)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x152194(0x49b)],'PORT':Number['parseInt'](process[_0x152194(0x4b3)]?.[_0x152194(0x49b)]),'USER':process[_0x152194(0x4b3)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x152194(0x4b3)][_0x152194(0x519)],'URI':process[_0x152194(0x4b3)][_0x152194(0x4b2)],'DB_PREFIX_NAME':process['env'][_0x152194(0x5d8)]},'ENABLED':process[_0x152194(0x4b3)]?.[_0x152194(0x4a0)]===_0x152194(0x460)},'REDIS':{'ENABLED':process[_0x152194(0x4b3)]?.[_0x152194(0x41a)]===_0x152194(0x460),'URI':process[_0x152194(0x4b3)][_0x152194(0x675)]||_0x152194(0x47b),'PREFIX_KEY':process[_0x152194(0x4b3)]['REDIS_PREFIX_KEY']||_0x152194(0x593)},'LOG':{'LEVEL':process[_0x152194(0x4b3)]?.[_0x152194(0x40c)][_0x152194(0x516)](','),'COLOR':process[_0x152194(0x4b3)]?.[_0x152194(0x753)]===_0x152194(0x460)},'PROXY':process['env']?.[_0x152194(0xe6)]===_0x152194(0x460),'AUTHENTICATION':{'TYPE':process['env'][_0x152194(0x16f)],'API_KEY':{'KEY':process[_0x152194(0x4b3)][_0x152194(0x70a)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x152194(0x4b3)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x152194(0x219)](process[_0x152194(0x4b3)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x152194(0x4b3)][_0x152194(0x2b5)]}}};}},b=new Zt(),Ao=R(require('cors')),pe=R(require(a0_0x500e42(0x711))),Os=require(a0_0x500e42(0x112)),es=R(require(a0_0x500e42(0x296))),ts=(_0x422f2b=>(_0x422f2b[a0_0x500e42(0x6bf)]=a0_0x500e42(0x61d),_0x422f2b[a0_0x500e42(0x626)]=a0_0x500e42(0x633),_0x422f2b[a0_0x500e42(0x309)]=a0_0x500e42(0x24e),_0x422f2b[a0_0x500e42(0x5b5)]='\x1b[31m',_0x422f2b[a0_0x500e42(0x4ba)]=a0_0x500e42(0x412),_0x422f2b[a0_0x500e42(0x511)]=a0_0x500e42(0x4c8),_0x422f2b[a0_0x500e42(0x3d4)]='\x1b[30m',_0x422f2b))(ts||{}),ks=(_0x590b99=>(_0x590b99[a0_0x500e42(0x6bf)]=a0_0x500e42(0x141),_0x590b99['DARK']=a0_0x500e42(0x6b3),_0x590b99[a0_0x500e42(0x626)]=a0_0x500e42(0x701),_0x590b99[a0_0x500e42(0x309)]=a0_0x500e42(0x253),_0x590b99['ERROR']='\x1b[31m%s\x1b[0m',_0x590b99[a0_0x500e42(0x4ba)]=a0_0x500e42(0x3bf),_0x590b99[a0_0x500e42(0x511)]='\x1b[37m%s\x1b[0m',_0x590b99))(ks||{}),Ls=(_0xe77280=>(_0xe77280['LOG']=a0_0x500e42(0x6bf),_0xe77280['WARN']=a0_0x500e42(0x309),_0xe77280[a0_0x500e42(0x626)]=a0_0x500e42(0x626),_0xe77280[a0_0x500e42(0x3d4)]='DARK',_0xe77280[a0_0x500e42(0x5b5)]=a0_0x500e42(0x5b5),_0xe77280[a0_0x500e42(0x4ba)]='DEBUG',_0xe77280[a0_0x500e42(0x511)]=a0_0x500e42(0x511),_0xe77280))(Ls||{}),js=(_0x37db5c=>(_0x37db5c[a0_0x500e42(0x6bf)]=a0_0x500e42(0x35f),_0x37db5c[a0_0x500e42(0x626)]=a0_0x500e42(0x725),_0x37db5c[a0_0x500e42(0x309)]=a0_0x500e42(0x75a),_0x37db5c[a0_0x500e42(0x3d4)]='\x1b[40m',_0x37db5c[a0_0x500e42(0x5b5)]=a0_0x500e42(0x70d),_0x37db5c['DEBUG']=a0_0x500e42(0x2de),_0x37db5c[a0_0x500e42(0x511)]='\x1b[47m',_0x37db5c))(js||{}),v=class{constructor(_0x3c7a69='Logger'){const _0x3fc910=a0_0x500e42;this[_0x3fc910(0x50e)]=_0x3c7a69,this[_0x3fc910(0x216)]=b;}[a0_0x500e42(0x6a0)](_0x50531f){this['context']=_0x50531f;}[a0_0x500e42(0xfa)](_0x2cf75b,_0x3d66f1){const _0x5cfcfb=a0_0x500e42;let _0x7a75ab=[];this['configService'][_0x5cfcfb(0x58c)]('LOG')['LEVEL'][_0x5cfcfb(0x20c)](_0x1e09b4=>_0x7a75ab['push'](Ls[_0x1e09b4]));let _0x16c5df=typeof _0x2cf75b;_0x7a75ab[_0x5cfcfb(0x3bd)](_0x3d66f1)&&(b['get'](_0x5cfcfb(0x6bf))[_0x5cfcfb(0x1a9)]?(console[_0x5cfcfb(0x44e)]('\x1b[1m'+ks[_0x3d66f1],_0x5cfcfb(0x4a7),(0x0,es[_0x5cfcfb(0x734)])()[_0x5cfcfb(0x3e4)](_0x5cfcfb(0x680)),'\x1b[0m',ts[_0x3d66f1]+js[_0x3d66f1]+_0x5cfcfb(0x5dc),_0x3d66f1+_0x5cfcfb(0x72b),_0x5cfcfb(0x49a),this[_0x5cfcfb(0x50e)]+_0x5cfcfb(0x604),ts[_0x3d66f1],_0x16c5df!==_0x5cfcfb(0x74a)?_0x2cf75b:'',_0x5cfcfb(0x604)),_0x16c5df===_0x5cfcfb(0x74a)&&console[_0x5cfcfb(0x44e)](_0x2cf75b,'\x0a')):console['log']((0x0,es['default'])()[_0x5cfcfb(0x3e4)](_0x5cfcfb(0x4df)),_0x3d66f1+'\x20',''+this[_0x5cfcfb(0x50e)],_0x2cf75b));}[a0_0x500e42(0x44e)](_0x2e5126){const _0xba3b12=a0_0x500e42;this['console'](_0x2e5126,_0xba3b12(0x6bf));}[a0_0x500e42(0x104)](_0x14adca){const _0x500059=a0_0x500e42;this[_0x500059(0xfa)](_0x14adca,_0x500059(0x626));}[a0_0x500e42(0x17f)](_0x334dd8){const _0x2bc14f=a0_0x500e42;this[_0x2bc14f(0xfa)](_0x334dd8,_0x2bc14f(0x309));}['error'](_0x2b3dec){const _0x5d1466=a0_0x500e42;this[_0x5d1466(0xfa)](_0x2b3dec,_0x5d1466(0x5b5));}['verbose'](_0x179c86){const _0x629c91=a0_0x500e42;this[_0x629c91(0xfa)](_0x179c86,'VERBOSE');}[a0_0x500e42(0x70c)](_0x5312aa){const _0x43f565=a0_0x500e42;this[_0x43f565(0xfa)](_0x5312aa,'DEBUG');}[a0_0x500e42(0x160)](_0x8a6a32){this['console'](_0x8a6a32,'DARK');}};function Fs(){const _0xd4bf22=a0_0x500e42;process['on'](_0xd4bf22(0x170),(_0x17c4b3,_0x57e683)=>{const _0xa2e5ad=_0xd4bf22;new v(_0xa2e5ad(0x170))['error']({'origin':_0x57e683,'stderr':process[_0xa2e5ad(0x669)]['fd'],'error':_0x17c4b3});}),process['on'](_0xd4bf22(0x3ea),(_0x4459da,_0x27fce5)=>{const _0x18007b=_0xd4bf22;new v(_0x18007b(0x3ea))[_0x18007b(0x478)]({'origin':_0x27fce5,'stderr':process[_0x18007b(0x669)]['fd'],'error':_0x4459da});});}var qs=R(require(a0_0x500e42(0x54a))),ss=new qs[(a0_0x500e42(0x734))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),as=R(require(a0_0x500e42(0x6f9))),qo=new v(a0_0x500e42(0x325)),V=b[a0_0x500e42(0x58c)]('DATABASE'),N=V[a0_0x500e42(0x100)]?V[a0_0x500e42(0x739)][a0_0x500e42(0x130)]?as[a0_0x500e42(0x734)][a0_0x500e42(0x153)](V[a0_0x500e42(0x739)][a0_0x500e42(0x130)],{'dbName':V['CONNECTION'][a0_0x500e42(0x1ec)]+a0_0x500e42(0x54f)}):as[a0_0x500e42(0x734)][a0_0x500e42(0x153)](a0_0x500e42(0x299)+V['CONNECTION']['HOST']+':'+V[a0_0x500e42(0x739)][a0_0x500e42(0x41c)]+a0_0x500e42(0x71b),{'user':V['CONNECTION'][a0_0x500e42(0x4e7)],'pass':V[a0_0x500e42(0x739)][a0_0x500e42(0x687)],'dbName':V[a0_0x500e42(0x739)][a0_0x500e42(0x1ec)]+'-whatsapp-api'}):null;V[a0_0x500e42(0x100)]&&qo[a0_0x500e42(0x104)](a0_0x500e42(0x747)+N[a0_0x500e42(0x1e4)]);var Uo=new De[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x12635a=>{const _0x3a5bf9=a0_0x500e42;let _0x15e718='z_'+_0x12635a+_0x3a5bf9(0x450);return N?.['model'](_0x3a5bf9(0x3ca),Vo,_0x15e718);},Js=require(a0_0x500e42(0x6f9)),Bo=new Js[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x147734=>{const _0x35435c=a0_0x500e42;let _0xce18b9='z_'+_0x147734+_0x35435c(0x35a);return N?.['model'](_0x35435c(0x448),Bo,_0xce18b9);},Bs=require(a0_0x500e42(0x6f9)),Go=new Bs[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x29c80b=>{const _0x1a9604=a0_0x500e42;let _0x575863='z_'+_0x29c80b+_0x1a9604(0x6e7);return N?.['model'](_0x1a9604(0x234),Go,_0x575863);},Ws=require(a0_0x500e42(0x6f9)),os=class{},Wo=new Ws[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x500e42(0x510)](os[a0_0x500e42(0x46b)],Wo,'authentication'),Hs=require(a0_0x500e42(0x6f9)),rs=class{},Ks=new Hs[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x500e42(0x38e)](a0_0x500e42(0x5b2),function(_0x2cb761){const _0xc420dd=a0_0x500e42;delete this[_0xc420dd(0x3c9)],delete this[_0xc420dd(0x30d)],delete this[_0xc420dd(0x6d1)],delete this[_0xc420dd(0x4d6)],delete this['flowStopMinutes'],_0x2cb761();});var Qs=N?.[a0_0x500e42(0x510)](rs[a0_0x500e42(0x46b)],Ks,'webhook'),_=require(a0_0x500e42(0x6f9)),_e=class{},Ys=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x500e42(0x65e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x500e42(0x5e8)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x500e42(0x75d)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x500e42(0x242)},'pollErrorMessage':{'type':String,'default':a0_0x500e42(0x405)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x500e42(0x65e))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x500e42(0x65e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _[(a0_0x500e42(0x65e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x500e42(0x65e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x3e7e55=a0_0x500e42;return _0x3e7e55(0x729)+Math[_0x3e7e55(0x689)]()[_0x3e7e55(0x575)](0x24)[_0x3e7e55(0x5ad)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x500e42(0x38e)](a0_0x500e42(0x5b2),function(_0x19f918){const _0x4c46c2=a0_0x500e42;let _0x2978f7=new Set(),_0x2056fc=new Set(this['variables']?.['map'](_0x458da2=>_0x458da2[_0x4c46c2(0x46b)])),_0x3f418b=JSON[_0x4c46c2(0x574)](this),_0x296f56=/{{(?!_)([^}]*)}}/g,_0x3d2ee0;for(;(_0x3d2ee0=_0x296f56[_0x4c46c2(0x6f6)](_0x3f418b))!==null;)_0x2056fc['has'](_0x3d2ee0[0x1])||_0x2978f7[_0x4c46c2(0x45d)](_0x3d2ee0[0x1]);_0x2978f7[_0x4c46c2(0x301)]>0x0?(console[_0x4c46c2(0x17f)](_0x4c46c2(0x316),Array[_0x4c46c2(0x53f)](_0x2978f7)),this[_0x4c46c2(0x46d)]=Array[_0x4c46c2(0x53f)](_0x2978f7)):this[_0x4c46c2(0x46d)]=[],_0x19f918();});var ta=_0xd16a30=>{const _0x45edf7=a0_0x500e42;let _0x3ad1c4='z_'+_0xd16a30+_0x45edf7(0x6be);return N?.[_0x45edf7(0x510)](_0x45edf7(0x4f5),ps,_0x3ad1c4);},sa=N?.[a0_0x500e42(0x510)](ns[a0_0x500e42(0x46b)],ps,'flow'),Qo=new _[(a0_0x500e42(0x65e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0xcb6bfe=>{const _0x8ccb9d=a0_0x500e42;let _0x2eee75='z_'+_0xcb6bfe+'_FlowHistorico';return N?.[_0x8ccb9d(0x510)]('ConversationModel',aa,_0x2eee75);},ra=N?.[a0_0x500e42(0x510)](cs['name'],aa,a0_0x500e42(0x20b)),ls=class{},Yo=new _['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x500e42(0x65e))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x500e42(0x65e))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x500e42(0x390)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x1b86a4=>{const _0x260389=a0_0x500e42;let _0x29c08b='z_'+_0x1b86a4+'_ScheduleMessages';return N?.['model'](_0x260389(0x333),ia,_0x29c08b);},ca=N?.[a0_0x500e42(0x510)](ls['name'],ia,a0_0x500e42(0x49e)),us=class{},Zo=new _[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x500e42(0x65e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x500e42(0x653)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0x500e42(0x65e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x500e42(0x510)](us['name'],sr,a0_0x500e42(0x599)),la=require(a0_0x500e42(0x6f9)),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x45fd7d=>{const _0x4fca5c=a0_0x500e42;let _0x203b48='z_'+_0x45fd7d+_0x4fca5c(0x42c);return N?.[_0x4fca5c(0x510)]('LabelModel',ar,_0x203b48);},I=class{constructor(_0x2872a4){const _0x5026b4=a0_0x500e42;this[_0x5026b4(0x35b)]=_0x2872a4[_0x5026b4(0x58c)](_0x5026b4(0x33d));}};function A(_0x32c6a9){const _0x88c22e=a0_0x500e42;let _0x370128={};for(let [_0x476df1,_0x53e6ae]of Object[_0x88c22e(0x125)](_0x32c6a9))if(typeof _0x53e6ae=='object'&&!Array[_0x88c22e(0x6fa)](_0x53e6ae)){for(let [_0x1fd338,_0x457182]of Object[_0x88c22e(0x125)](_0x53e6ae))_0x370128[_0x476df1+'.'+_0x1fd338]=_0x457182;}else _0x370128[_0x476df1]=_0x53e6ae;return _0x370128;}var $e=class{constructor(_0x2586a5,_0x3a316e,_0x2118d8,_0x47ef65,_0x1c8117,_0xbb18ca,_0x429eae,_0x3d87de,_0x193d41,_0x523187,_0x52c045){const _0x56679b=a0_0x500e42;this[_0x56679b(0x544)]=_0x2586a5,this[_0x56679b(0x6fe)]=_0x3a316e,this[_0x56679b(0x3c1)]=_0x2118d8,this['webhook']=_0x47ef65,this[_0x56679b(0x5c6)]=_0x1c8117,this['flow']=_0xbb18ca,this[_0x56679b(0x20b)]=_0x429eae,this['label']=_0x3d87de,this[_0x56679b(0x4d8)]=_0x193d41,this[_0x56679b(0x198)]=_0x523187,this[_0x56679b(0x307)]=_0x52c045;}get['dbServer'](){const _0x35a537=a0_0x500e42;return this[_0x35a537(0x307)];}},ke=class{},Le=class extends I{[a0_0x500e42(0x6c6)](_0x5bb30e){return Gs(_0x5bb30e);}async[a0_0x500e42(0x186)](_0x4f3398,_0x47dd3b){const _0xab70ca=a0_0x500e42;if(_0x4f3398['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xab70ca(0x6c6)](_0x47dd3b)[_0xab70ca(0x37e)]([..._0x4f3398]))[_0xab70ca(0x210)]};}catch(_0xf0d9bd){return _0xf0d9bd;}}async[a0_0x500e42(0x524)](_0x32d0be,_0x1433fb){const _0x200ade=a0_0x500e42;try{let _0x448f93=this[_0x200ade(0x6c6)](_0x1433fb),_0x46be60=A(_0x32d0be['where']);return await _0x448f93[_0x200ade(0x524)](_0x46be60)[_0x200ade(0x4e9)]({'messageTimestamp':-0x1})[_0x200ade(0x145)](_0x32d0be?.['limit']??0x0)[_0x200ade(0x42b)]();}catch{return[];}}async[a0_0x500e42(0x322)](_0x1ca98a,_0x4fd9f7){const _0x28b56f=a0_0x500e42;try{let _0x5420e5=this['getMessageModelForOwner'](_0x4fd9f7),_0x1f5349=A(_0x1ca98a[_0x28b56f(0x6d7)]);await _0x5420e5[_0x28b56f(0x44a)](_0x1f5349);}catch(_0x25a856){console['error'](_0x25a856);}}async[a0_0x500e42(0x349)](_0x153053,_0x2f8257,_0x5e9e39){const _0x4aa1db=a0_0x500e42;try{let _0x2e6b9e=this[_0x4aa1db(0x6c6)](_0x5e9e39),_0x597cc0=A(_0x153053[_0x4aa1db(0x6d7)]);return await _0x2e6b9e[_0x4aa1db(0x6f5)](_0x597cc0,{'$set':_0x2f8257},{'new':!0x0});}catch(_0x2dce54){throw console[_0x4aa1db(0x478)](_0x2dce54),_0x2dce54;}}async['insertMany'](_0x8cca17,_0x414298){const _0x578e36=a0_0x500e42;if(_0x8cca17[_0x578e36(0x210)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x414298)['insertMany']([..._0x8cca17]))[_0x578e36(0x210)]};}catch(_0x341794){return console['log'](_0x578e36(0x40f),_0x341794),_0x341794;}}async[a0_0x500e42(0x614)](_0x39f581){const _0x38f9ed=a0_0x500e42;try{return await this[_0x38f9ed(0x6c6)](_0x39f581)['collection'][_0x38f9ed(0x24c)](),{'success':!0x0};}catch(_0x4e428d){return console['error'](_0x4e428d),{'success':!0x1,'error':_0x4e428d};}}},wo=R(require('@ffmpeg-installer/ffmpeg')),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require('path')),se=R(require(a0_0x500e42(0x5fb))),yo=require(a0_0x500e42(0x611)),bo=R(require(a0_0x500e42(0x2a2))),So=R(require('qrcode-terminal')),da=[a0_0x500e42(0x36c),a0_0x500e42(0x30e),a0_0x500e42(0x25d),'videoMessage',a0_0x500e42(0x665)],pa=[a0_0x500e42(0x6cd),'documentWithCaptionMessage','viewOnceMessage',a0_0x500e42(0x5ed)],Ss=require('os'),Ot=R(require(a0_0x500e42(0x28c))),_t=require(a0_0x500e42(0x3a8)),It=require(a0_0x500e42(0x3a6)),ie=R(require(a0_0x500e42(0x6f9))),k=require(a0_0x500e42(0x32b)),me=class{constructor(_0x3810e1,_0x8bff7d,_0x48ee2c){const _0x394435=a0_0x500e42;this[_0x394435(0x59b)]=_0x3810e1,this[_0x394435(0x499)]=_0x8bff7d,this[_0x394435(0x46b)]=_0x48ee2c;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require('express')),ga=require('fs'),ha=require(a0_0x500e42(0x112));async function We(_0x1f3acd){const _0x160225=a0_0x500e42;let _0x3b6178=B[_0x160225(0x18b)][_0x1f3acd];if(V[_0x160225(0x100)]){let _0x190d77=N[_0x160225(0x74d)]()['db'](V[_0x160225(0x739)][_0x160225(0x1ec)]+_0x160225(0x57e))[_0x160225(0x6c3)](_0x1f3acd);return _0x3b6178||(await _0x190d77['find']({})['toArray']())['length']>0x0;}return _0x3b6178||(0x0,ga[_0x160225(0x3a4)])((0x0,ha[_0x160225(0x667)])(he,_0x1f3acd));}async function ma(_0x10c064,_0x263bcb,_0x3b7f3e){const _0x38e690=a0_0x500e42;if(_0x10c064['originalUrl']['includes'](_0x38e690(0xf2))||_0x10c064[_0x38e690(0x5a1)][_0x38e690(0x3bd)]('/instance/fetchInstances')||_0x10c064['originalUrl']['includes'](_0x38e690(0x6b7))||_0x10c064['originalUrl'][_0x38e690(0x3bd)](_0x38e690(0x6c9))||_0x10c064[_0x38e690(0x5a1)][_0x38e690(0x3bd)](_0x38e690(0x495))||_0x10c064[_0x38e690(0x5a1)][_0x38e690(0x3bd)]('/instance/connectionState')||_0x10c064['originalUrl'][_0x38e690(0x3bd)](_0x38e690(0x142)))return _0x3b7f3e();let _0x5c4339=_0x10c064[_0x38e690(0x587)];if(!_0x5c4339?.[_0x38e690(0x4cc)])throw new m(_0x38e690(0x241));if(!await We(_0x5c4339[_0x38e690(0x4cc)]))throw new j(_0x38e690(0x196)+_0x5c4339[_0x38e690(0x4cc)]+_0x38e690(0x17e));_0x3b7f3e();}async function fa(_0x534f8c,_0x92dbac,_0xdfbb3b){const _0x489f83=a0_0x500e42;if(_0x534f8c['originalUrl'][_0x489f83(0x3bd)](_0x489f83(0xf2))){let _0x40d506=_0x534f8c[_0x489f83(0x399)];if(await We(_0x40d506[_0x489f83(0x4cc)]))throw new K(_0x489f83(0x608)+_0x40d506[_0x489f83(0x4cc)]+_0x489f83(0x284));B['waInstances'][_0x40d506[_0x489f83(0x4cc)]]&&delete B['waInstances'][_0x40d506[_0x489f83(0x4cc)]];}_0xdfbb3b();}var wa=require('class-validator'),ya=R(require(a0_0x500e42(0x6eb))),ze='uazapi',rr=new v(a0_0x500e42(0x2c5));async function ir(_0x5f240e,_0x4a378b,_0x5805bd){const _0xf8eeca=a0_0x500e42;let _0x905416=_0x5f240e[_0xf8eeca(0x58c)]('apikey');if(_0x905416&&b[_0xf8eeca(0x58c)]('AUTHENTICATION')[_0xf8eeca(0x101)]['KEY']!==_0x905416)throw new ee();if(b[_0xf8eeca(0x58c)](_0xf8eeca(0x3ff))['API_KEY'][_0xf8eeca(0x329)]===_0x905416)return _0x5805bd();if((_0x5f240e[_0xf8eeca(0x5a1)]['includes']('/instance/create')||_0x5f240e[_0xf8eeca(0x5a1)][_0xf8eeca(0x3bd)](_0xf8eeca(0x31d)))&&!_0x905416)throw new K(_0xf8eeca(0xea),_0xf8eeca(0x1b7));let _0x1117cf=b['get'](_0xf8eeca(0x3ff))[_0xf8eeca(0x56b)];try{let [_0x56b34b,_0x5e2588]=_0x5f240e[_0xf8eeca(0x58c)](_0xf8eeca(0x490))[_0xf8eeca(0x516)]('\x20');if(_0x56b34b[_0xf8eeca(0x662)]()!==_0xf8eeca(0x6db))throw new ee();if(!(0x0,wa[_0xf8eeca(0x2fe)])(_0x5e2588))throw new ee();let _0x58b922=_0x5f240e['params'],_0x35e962=ya['default']['verify'](_0x5e2588,_0x1117cf['SECRET'],{'ignoreExpiration':_0x1117cf[_0xf8eeca(0x3ac)]===0x0});if(_0x58b922[_0xf8eeca(0x4cc)]!==_0x35e962[_0xf8eeca(0x4cc)]||ze!==_0x35e962[_0xf8eeca(0x2ab)])throw new ee();return _0x5805bd();}catch(_0x37cb1d){throw rr['error'](_0x37cb1d),new ee();}}async function nr(_0x4abac7,_0x424980,_0x38207a){const _0x22008f=a0_0x500e42;let _0x18a549=b[_0x22008f(0x58c)](_0x22008f(0x3ff))[_0x22008f(0x101)],_0x4bda48=_0x4abac7['get'](_0x22008f(0x274));if(_0x18a549[_0x22008f(0x329)]===_0x4bda48)return _0x38207a();if(_0x4abac7[_0x22008f(0x5a1)]['includes']('/instance/create')){let _0x39131d=He,_0x12eef5=_0x4abac7[_0x22008f(0x399)][_0x22008f(0x4cc)];if(_0x39131d&&_0x12eef5[_0x22008f(0x662)]()[_0x22008f(0x4ed)](_0x39131d[_0x22008f(0x662)]()))return _0x38207a();if(!_0x4bda48)throw new K(_0x22008f(0xea),_0x22008f(0x1b7));}if(_0x4abac7[_0x22008f(0x5a1)][_0x22008f(0x3bd)](_0x22008f(0x31d))&&!_0x4bda48)throw new K(_0x22008f(0xea),_0x22008f(0x1b7));if(_0x4abac7[_0x22008f(0x5a1)]['includes'](_0x22008f(0x6b7))&&!_0x4bda48)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4abac7[_0x22008f(0x5a1)][_0x22008f(0x3bd)](_0x22008f(0x6c9))&&!_0x4bda48)throw new K(_0x22008f(0xea),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x53b0a3=_0x4abac7[_0x22008f(0x587)];if((await ce[_0x22008f(0x5c6)]['find'](_0x53b0a3[_0x22008f(0x4cc)]))[_0x22008f(0x274)]===_0x4bda48)return _0x38207a();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x500e42(0x711)),C=require(a0_0x500e42(0x611)),S=(..._0xd6587f)=>{const _0x7a9109=a0_0x500e42;let _0x142db2={};return _0xd6587f['forEach'](_0x571ac3=>_0x142db2[_0x571ac3]={'minLength':0x1,'description':_0x7a9109(0x3ae)+_0x571ac3+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0xd6587f]}},'then':{'properties':_0x142db2}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'instanceName':{'type':a0_0x500e42(0x549)}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'oldToken':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x121)],...S(a0_0x500e42(0x121))},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]}},'required':['id',a0_0x500e42(0x4e5),a0_0x500e42(0x24d)],...S('id',a0_0x500e42(0x4e5))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x500e42(0x395),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x500e42(0x549),'enum':['unavailable','available',a0_0x500e42(0x2e0),a0_0x500e42(0x53a),a0_0x500e42(0x6b0)]}}},z={'type':a0_0x500e42(0x549),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x500e42(0x331)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x500e42(0x74a),'properties':{'text':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x738)],...S(a0_0x500e42(0x738))}},'required':[a0_0x500e42(0x6f1),a0_0x500e42(0x51c)]},Ea={'type':a0_0x500e42(0x549),'pattern':a0_0x500e42(0x709),'description':a0_0x500e42(0x331)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x500e42(0x549)}},'required':['text'],...S(a0_0x500e42(0x738))}},'required':[a0_0x500e42(0x6f1),'number']},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x500e42(0x74a),'properties':{'mediatype':{'type':'string','enum':[a0_0x500e42(0x13a),a0_0x500e42(0x58e),a0_0x500e42(0x494),'audio']},'media':{'type':a0_0x500e42(0x549)},'fileName':{'type':a0_0x500e42(0x549)},'caption':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x759),a0_0x500e42(0x2d9)],...S(a0_0x500e42(0x60f),a0_0x500e42(0x10c),a0_0x500e42(0x2d9))}},'required':[a0_0x500e42(0x2a8),a0_0x500e42(0x51c)]},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':['image'],...S('image')}},'required':[a0_0x500e42(0x665),a0_0x500e42(0x51c)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'statusMessage':{'type':a0_0x500e42(0x74a),'properties':{'type':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x738),a0_0x500e42(0x13a),a0_0x500e42(0x740),a0_0x500e42(0x494)]},'content':{'type':a0_0x500e42(0x549)},'caption':{'type':a0_0x500e42(0x549)},'backgroundColor':{'type':a0_0x500e42(0x549)},'font':{'type':a0_0x500e42(0x395),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x500e42(0x1fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x549),'pattern':a0_0x500e42(0xee),'description':a0_0x500e42(0x27f)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x500e42(0x65c),'content'],...S(a0_0x500e42(0x65c),a0_0x500e42(0x451))}},'required':[a0_0x500e42(0x514)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x500e42(0x74a),'properties':{'mediatype':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x13a),'document',a0_0x500e42(0x494),a0_0x500e42(0x740)]},'media':{'type':a0_0x500e42(0x549)},'fileName':{'type':a0_0x500e42(0x549)},'caption':{'type':'string'}},'required':[a0_0x500e42(0x759),'media'],...S(a0_0x500e42(0x60f),a0_0x500e42(0x10c),a0_0x500e42(0x2d9))}},'required':[a0_0x500e42(0x2a8),a0_0x500e42(0x51c)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x500e42(0x74a),'properties':{'audio':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x740)],...S(a0_0x500e42(0x740))}},'required':[a0_0x500e42(0x25d),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'pollMessage':{'type':a0_0x500e42(0x74a),'properties':{'name':{'type':a0_0x500e42(0x549)},'selectableCount':{'type':'number'},'values':{'type':a0_0x500e42(0x1fc),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x500e42(0x46b),a0_0x500e42(0x190),'values'],...S(a0_0x500e42(0x46b),a0_0x500e42(0x190),a0_0x500e42(0x227))}},'required':[a0_0x500e42(0x51c),'pollMessage']},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'menuMessage':{'type':a0_0x500e42(0x74a),'properties':{'text':{'type':a0_0x500e42(0x549)},'choices':{'type':a0_0x500e42(0x1fc),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x500e42(0x738),a0_0x500e42(0x618)],...S(a0_0x500e42(0x738),a0_0x500e42(0x618))}},'required':[a0_0x500e42(0x51c),a0_0x500e42(0x439)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x500e42(0x74a),'properties':{'title':{'type':a0_0x500e42(0x549)},'description':{'type':a0_0x500e42(0x549)},'footerText':{'type':a0_0x500e42(0x549)},'buttons':{'type':a0_0x500e42(0x1fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x74a),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x500e42(0x21f),a0_0x500e42(0x6a7)],...S(a0_0x500e42(0x21f),a0_0x500e42(0x6a7))}},'mediaMessage':{'type':a0_0x500e42(0x74a),'properties':{'media':{'type':a0_0x500e42(0x549)},'fileName':{'type':a0_0x500e42(0x549)},'mediatype':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x13a),a0_0x500e42(0x58e),'video']}},'required':[a0_0x500e42(0x2d9),a0_0x500e42(0x759)],...S(a0_0x500e42(0x2d9),'fileName')}},'required':['title',a0_0x500e42(0x723)],...S(a0_0x500e42(0x5ca),'description')}},'required':[a0_0x500e42(0x51c),a0_0x500e42(0x52b)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x500e42(0x74a),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x500e42(0x51c)},'name':{'type':'string'},'address':{'type':a0_0x500e42(0x549)}},'required':['latitude','longitude'],...S(a0_0x500e42(0x46b),a0_0x500e42(0xfc))}},'required':[a0_0x500e42(0x51c),a0_0x500e42(0x11a)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x500e42(0x74a),'properties':{'title':{'type':a0_0x500e42(0x549)},'description':{'type':a0_0x500e42(0x549)},'footerText':{'type':a0_0x500e42(0x549)},'buttonText':{'type':a0_0x500e42(0x549)},'sections':{'type':a0_0x500e42(0x1fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x74a),'properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x74a),'properties':{'title':{'type':a0_0x500e42(0x549)},'description':{'type':a0_0x500e42(0x549)},'rowId':{'type':'string'}},'required':[a0_0x500e42(0x5ca),a0_0x500e42(0x30b)],...S(a0_0x500e42(0x5ca),a0_0x500e42(0x30b))}}},'required':['title',a0_0x500e42(0x183)],...S(a0_0x500e42(0x5ca))}}},'required':['title',a0_0x500e42(0x256),a0_0x500e42(0x21f),a0_0x500e42(0x3a2)],...S('title',a0_0x500e42(0x256),a0_0x500e42(0x21f),a0_0x500e42(0x2e1))}},'required':['number','listMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x500e42(0x1fc),'items':{'type':'object','properties':{'fullName':{'type':a0_0x500e42(0x549)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x500e42(0x4a4),a0_0x500e42(0x388)],...S(a0_0x500e42(0x4a4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x500e42(0x51c),'contactMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'reactionMessage':{'type':a0_0x500e42(0x74a),'properties':{'key':{'type':a0_0x500e42(0x74a),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x500e42(0x549)},'fromMe':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]}},'required':['id',a0_0x500e42(0x4e5),a0_0x500e42(0x24d)],...S('id',a0_0x500e42(0x4e5))},'reaction':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x659),'reaction'],...S(a0_0x500e42(0x5f3))}},'required':[a0_0x500e42(0x4cb)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x549),'pattern':a0_0x500e42(0xee),'description':a0_0x500e42(0x6ba)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'readMessages':{'type':a0_0x500e42(0x1fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x500e42(0x549)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x500e42(0x549)}},'required':['id',a0_0x500e42(0x24d),a0_0x500e42(0x4e5)],...S('id','remoteJid')}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x5f8),a0_0x500e42(0x1e0)]},'profile':{'type':a0_0x500e42(0x549),'enum':['all',a0_0x500e42(0x4a1),a0_0x500e42(0x111),a0_0x500e42(0x1e0)]},'status':{'type':a0_0x500e42(0x549),'enum':['all',a0_0x500e42(0x4a1),a0_0x500e42(0x111),a0_0x500e42(0x1e0)]},'online':{'type':a0_0x500e42(0x549),'enum':['all',a0_0x500e42(0x518)]},'last':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x5f8),a0_0x500e42(0x4a1),a0_0x500e42(0x111),'none']},'groupadd':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x5f8),a0_0x500e42(0x4a1),a0_0x500e42(0x111),a0_0x500e42(0x1e0)]}},'required':['readreceipts',a0_0x500e42(0x22a),'status','online','last',a0_0x500e42(0x22b)],...S('readreceipts',a0_0x500e42(0x22a),a0_0x500e42(0x34d),a0_0x500e42(0x5e4),'last',a0_0x500e42(0x22b))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'lastMessage':{'type':a0_0x500e42(0x74a),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x500e42(0x549)},'remoteJid':{'type':a0_0x500e42(0x549)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x500e42(0x24d),a0_0x500e42(0x4e5)],...S('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x500e42(0x659)],...S(a0_0x500e42(0x75e))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x500e42(0x23c),a0_0x500e42(0x133)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'id':{'type':a0_0x500e42(0x549)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x500e42(0x549)},'participant':{'type':a0_0x500e42(0x549)}},'required':['id',a0_0x500e42(0x24d),a0_0x500e42(0x4e5)],...S('id',a0_0x500e42(0x4e5),a0_0x500e42(0x6ca))},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x500e42(0x74a),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x500e42(0x549),'minLength':0x1},'id':{'type':a0_0x500e42(0x549),'minLength':0x1}},...S(a0_0x500e42(0x173),'id','pushName')}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'name':{'type':'string'}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'status':{'type':'string'}},...S(a0_0x500e42(0x34d))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'number':{'type':a0_0x500e42(0x549)},'picture':{'type':a0_0x500e42(0x549)}}},Ua={'type':a0_0x500e42(0x74a),'properties':{'wuid':{'type':a0_0x500e42(0x549)},'name':{'type':a0_0x500e42(0x549)},'picture':{'type':a0_0x500e42(0x549)},'status':{'type':'string'},'isBusiness':{'type':a0_0x500e42(0x601)}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x500e42(0x74a),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x500e42(0x24d),a0_0x500e42(0x4e5),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x500e42(0x549),'minLength':0x1,'description':a0_0x500e42(0x619)},'id':{'type':a0_0x500e42(0x549),'minLength':0x1,'description':a0_0x500e42(0x619)},'fromMe':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x500e42(0x74a)}},...S('_id')},'limit':{'type':'integer'}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'where':{'type':a0_0x500e42(0x74a),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x500e42(0x549)},'id':{'type':a0_0x500e42(0x549)},'fromMe':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':['ERROR',a0_0x500e42(0x617),a0_0x500e42(0x480),'DELIVERY_ACK','READ',a0_0x500e42(0x686)]}},...S(a0_0x500e42(0x173),'remoteJid','id',a0_0x500e42(0x34d))},'limit':{'type':a0_0x500e42(0x395)}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x500e42(0x549),'enum':[a0_0x500e42(0x21d),'available',a0_0x500e42(0x2e0),a0_0x500e42(0x53a),'paused']}},'required':[a0_0x500e42(0x37b),a0_0x500e42(0x51c)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'subject':{'type':a0_0x500e42(0x549)},'description':{'type':a0_0x500e42(0x549)},'profilePicture':{'type':a0_0x500e42(0x549)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x549),'minLength':0xa,'pattern':a0_0x500e42(0x320),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x500e42(0x504),'participants'],...S(a0_0x500e42(0x504),a0_0x500e42(0x256),a0_0x500e42(0x3f9))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'groupJid':{'type':a0_0x500e42(0x549),'pattern':a0_0x500e42(0x577)}},'required':[a0_0x500e42(0x64a)],...S(a0_0x500e42(0x64a))},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x500e42(0x549)},'action':{'type':a0_0x500e42(0x549),'enum':['add',a0_0x500e42(0x443),a0_0x500e42(0x4c0),a0_0x500e42(0x637)]},'participants':{'type':a0_0x500e42(0x1fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x500e42(0x549),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x500e42(0x43c)}}},'required':[a0_0x500e42(0x64a),'action',a0_0x500e42(0xef)],...S(a0_0x500e42(0x64a),a0_0x500e42(0xeb))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x500e42(0x549)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x500e42(0x64a),a0_0x500e42(0x3eb)],...S(a0_0x500e42(0x64a),'expiration')},za={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x64a),a0_0x500e42(0x13a)],...S(a0_0x500e42(0x64a),a0_0x500e42(0x13a))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x64a),a0_0x500e42(0x256)],...S('groupJid',a0_0x500e42(0x256))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x64a),a0_0x500e42(0x46b)],...S(a0_0x500e42(0x64a),a0_0x500e42(0x46b))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'groupJid':{'type':a0_0x500e42(0x549)},'setting':{'type':a0_0x500e42(0x549),'enum':['announcement','not_announcement',a0_0x500e42(0x745),a0_0x500e42(0x3c8)]}},'required':['groupJid',a0_0x500e42(0x534)],...S(a0_0x500e42(0x64a),'setting')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'inviteCode':{'type':a0_0x500e42(0x549)}},'required':[a0_0x500e42(0x4f7)],...S(a0_0x500e42(0x4f7))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'url':{'type':a0_0x500e42(0x549)},'enabled':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]}},'required':[a0_0x500e42(0x124),a0_0x500e42(0x457)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x500e42(0x74a),'properties':{'local_map':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x500e42(0x601),'enum':[!0x0,!0x1]}},'required':[a0_0x500e42(0x6cb),a0_0x500e42(0x5c4),a0_0x500e42(0x5d3),a0_0x500e42(0x2d7),a0_0x500e42(0x3f6),a0_0x500e42(0x14b),a0_0x500e42(0x4d1),a0_0x500e42(0x1d3),a0_0x500e42(0x33e),a0_0x500e42(0x444),'PRESENCE_UPDATE',a0_0x500e42(0x6b1),a0_0x500e42(0x56f),a0_0x500e42(0x4c1),a0_0x500e42(0x668),a0_0x500e42(0x3c3),a0_0x500e42(0x1dd),a0_0x500e42(0x496),a0_0x500e42(0x379)],...S(a0_0x500e42(0x6cb),'STATUS_INSTANCE',a0_0x500e42(0x5d3),a0_0x500e42(0x2d7),a0_0x500e42(0x3f6),a0_0x500e42(0x14b),a0_0x500e42(0x4d1),a0_0x500e42(0x1d3),a0_0x500e42(0x33e),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET',a0_0x500e42(0x56f),a0_0x500e42(0x4c1),a0_0x500e42(0x668),a0_0x500e42(0x3c3),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{[a0_0x500e42(0x43a)](_0x3d3129){return Vs(_0x3d3129);}async['insert'](_0x18b102){const _0x38acf1=a0_0x500e42;if(_0x18b102[_0x38acf1(0x210)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x18b102[0x0][_0x38acf1(0x11c)])[_0x38acf1(0x37e)]([..._0x18b102]))[_0x38acf1(0x210)]};}catch(_0x1549df){return _0x1549df;}}async[a0_0x500e42(0x322)](_0x52d3be,_0x34551f){const _0x4da1a1=a0_0x500e42;try{return{'deletedCount':(await this[_0x4da1a1(0x43a)](_0x34551f)[_0x4da1a1(0x44a)]({..._0x52d3be['where']}))[_0x4da1a1(0x6a2)]};}catch(_0x90a7c1){return{'error':_0x90a7c1?.['toString']()};}}async[a0_0x500e42(0x349)](_0x278d56,_0x4913e4){const _0x409fca=a0_0x500e42;try{if(_0x278d56[_0x409fca(0x210)]===0x0)return;let _0x5bd62d=this[_0x409fca(0x43a)](_0x4913e4),_0x479565=_0x278d56['map'](_0x283f09=>({'updateOne':{'filter':{'_id':_0x283f09[_0x409fca(0x173)],'owner':_0x4913e4},'update':{..._0x283f09}}})),{modifiedCount:_0x28179e}=await _0x5bd62d['bulkWrite'](_0x479565);return{'insertCount':_0x28179e};}catch{return;}}async[a0_0x500e42(0x524)](_0x3f526b,_0x39dcf8){const _0x36a678=a0_0x500e42;try{let _0x1aad76=this['getContactModelForOwner'](_0x39dcf8),_0x282bd2=A(_0x3f526b['where']);return await _0x1aad76[_0x36a678(0x524)](_0x282bd2)[_0x36a678(0x145)](_0x3f526b?.[_0x36a678(0x145)]??0x0)[_0x36a678(0x42b)]();}catch{return[];}}async[a0_0x500e42(0x177)](_0x36a3fd,_0x50686f){const _0x3d4266=a0_0x500e42;try{let _0x8e06cb=this['getContactModelForOwner'](_0x50686f),_0x41eb95=A(_0x36a3fd['where']);return await _0x8e06cb[_0x3d4266(0x177)](_0x41eb95)['lean']();}catch{return null;}}async[a0_0x500e42(0x614)](_0x1d3ae9){const _0x3f8d3b=a0_0x500e42;try{return await this[_0x3f8d3b(0x43a)](_0x1d3ae9)[_0x3f8d3b(0x6c3)][_0x3f8d3b(0x24c)](),{'success':!0x0};}catch(_0x1de7c5){return console[_0x3f8d3b(0x478)](_0x1de7c5),{'success':!0x1,'error':_0x1de7c5};}}},Ye=require('jsonschema'),cc=require('express-async-errors'),gs=new v(a0_0x500e42(0x615)),U=class{[a0_0x500e42(0x5ee)](_0x20481d,_0x11315c=!0x0){const _0x139fa9=a0_0x500e42;let _0x200390='/'+_0x20481d;return _0x11315c&&(_0x200390+=_0x139fa9(0x483)),_0x200390;}async['dataValidate'](_0x12f104){const _0x93a4ed=a0_0x500e42;let {request:_0x4415f8,schema:_0x50926e,ClassRef:_0x3d9688,execute:_0x17c1d7}=_0x12f104,_0x5710d1=new _0x3d9688(),_0x3cae3f=_0x4415f8[_0x93a4ed(0x399)],_0x30fe34=_0x4415f8[_0x93a4ed(0x587)];_0x4415f8?.[_0x93a4ed(0x2a1)]&&Object['keys'](_0x4415f8['query'])['length']>0x0&&Object[_0x93a4ed(0x5a9)](_0x30fe34,_0x4415f8[_0x93a4ed(0x2a1)]),_0x4415f8['originalUrl']['includes']('/instance/create')&&Object[_0x93a4ed(0x5a9)](_0x30fe34,_0x3cae3f),Object[_0x93a4ed(0x5a9)](_0x5710d1,_0x3cae3f);let _0xbe76b0=_0x50926e?(0x0,Ye[_0x93a4ed(0x41e)])(_0x5710d1,_0x50926e):{'valid':!0x0,'errors':[]};if(!_0xbe76b0[_0x93a4ed(0x1a4)]){let _0x48c058=_0xbe76b0[_0x93a4ed(0x4ce)]['map'](({property:_0x102460,stack:_0x33be00,schema:_0x245b9e})=>{const _0x2b103f=_0x93a4ed;let _0x52e874;return _0x245b9e[_0x2b103f(0x256)]?_0x52e874=_0x245b9e[_0x2b103f(0x256)]:_0x52e874=_0x33be00['replace']('instance.',''),{'property':_0x102460[_0x2b103f(0x26c)](_0x2b103f(0x116),''),'message':_0x52e874};});throw gs[_0x93a4ed(0x478)]([..._0x48c058]),new m(..._0x48c058);}return await _0x17c1d7(_0x30fe34,_0x5710d1);}async[a0_0x500e42(0x30f)](_0x3058fa){const _0x175088=a0_0x500e42;let {request:_0x565bb0,ClassRef:_0x36a0ce,schema:_0x6a7f43,execute:_0x142683}=_0x3058fa,_0x47af1b=_0x565bb0[_0x175088(0x2a1)];if(!_0x47af1b?.[_0x175088(0x64a)])throw new m(_0x175088(0x1ed),_0x175088(0x6e5));let _0x28a629=_0x565bb0[_0x175088(0x587)],_0x527dca=_0x565bb0['body'],_0x41d388=new _0x36a0ce();Object[_0x175088(0x5a9)](_0x527dca,_0x47af1b),Object[_0x175088(0x5a9)](_0x41d388,_0x527dca);let _0xf13052=(0x0,Ye[_0x175088(0x41e)])(_0x41d388,_0x6a7f43);if(!_0xf13052[_0x175088(0x1a4)]){let _0x1fe9cd=_0xf13052['errors'][_0x175088(0x306)](({property:_0x1bf70d,stack:_0x3833f6,schema:_0x44c840})=>{const _0x11e320=_0x175088;let _0x1e2eaa;return _0x44c840['description']?_0x1e2eaa=_0x44c840[_0x11e320(0x256)]:_0x1e2eaa=_0x3833f6[_0x11e320(0x26c)](_0x11e320(0x116),''),{'property':_0x1bf70d[_0x11e320(0x26c)](_0x11e320(0x116),''),'message':_0x1e2eaa};});throw gs['error']([..._0x1fe9cd]),new m(..._0x1fe9cd);}return await _0x142683(_0x28a629,_0x41d388);}async['joinGroupValidate'](_0x50f7c1){const _0x5b1b2d=a0_0x500e42;let {request:_0x33a5ad,ClassRef:_0x516b9d,schema:_0x851b40,execute:_0x12b2b5}=_0x50f7c1,_0x51190e=_0x33a5ad[_0x5b1b2d(0x399)];if(!_0x51190e?.[_0x5b1b2d(0x4f7)])throw new m(_0x5b1b2d(0x65b),_0x5b1b2d(0x65f));let _0x39c250=_0x33a5ad['params'],_0x2aae1b=_0x33a5ad[_0x5b1b2d(0x399)],_0x3a4da2=new _0x516b9d();Object[_0x5b1b2d(0x5a9)](_0x2aae1b,_0x51190e),Object[_0x5b1b2d(0x5a9)](_0x3a4da2,_0x2aae1b);let _0x582d8c=(0x0,Ye[_0x5b1b2d(0x41e)])(_0x3a4da2,_0x851b40);if(!_0x582d8c[_0x5b1b2d(0x1a4)]){let _0x53c070=_0x582d8c[_0x5b1b2d(0x4ce)][_0x5b1b2d(0x306)](({property:_0x292e5e,stack:_0x5d9fbf,schema:_0x1f12dd})=>{const _0x515fa4=_0x5b1b2d;let _0x1d1ed2;return _0x1f12dd[_0x515fa4(0x256)]?_0x1d1ed2=_0x1f12dd[_0x515fa4(0x256)]:_0x1d1ed2=_0x5d9fbf['replace'](_0x515fa4(0x116),''),{'property':_0x292e5e[_0x515fa4(0x26c)](_0x515fa4(0x116),''),'message':_0x1d1ed2};});throw gs[_0x5b1b2d(0x478)]([..._0x53c070]),new m(..._0x53c070);}return await _0x12b2b5(_0x39c250,_0x3a4da2);}},E=class{},Mc=new v(a0_0x500e42(0x4e3)),Xe=class extends U{constructor(..._0x14296c){const _0x29a937=a0_0x500e42;super(),this[_0x29a937(0x528)]=(0x0,Za[_0x29a937(0x27c)])(),this[_0x29a937(0x528)][_0x29a937(0x2b0)](this['routerPath']('updatePresence'),..._0x14296c,async(_0x1ff77c,_0x20e4a8)=>{const _0x1fa24b=_0x29a937;let _0x5c85b0=await this[_0x1fa24b(0x3e2)]({'request':_0x1ff77c,'schema':Va,'ClassRef':je,'execute':(_0x45858c,_0x5996ad)=>x[_0x1fa24b(0x2bf)](_0x45858c,_0x5996ad)});return _0x20e4a8[_0x1fa24b(0x34d)](0xc9)[_0x1fa24b(0x2d3)](_0x5c85b0);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x3e3)),..._0x14296c,async(_0x44bd00,_0x578d99)=>{const _0x505800=_0x29a937;let _0x148b5b=await this[_0x505800(0x3e2)]({'request':_0x44bd00,'schema':_a,'ClassRef':Fe,'execute':(_0x46f2b4,_0x26b375)=>x[_0x505800(0x27b)](_0x46f2b4,_0x26b375)});return _0x578d99[_0x505800(0x34d)](0xc9)['json'](_0x148b5b);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x755)),..._0x14296c,async(_0x3703f0,_0x3c8af2)=>{const _0x2f1f1f=_0x29a937;let _0x3942ac=await this[_0x2f1f1f(0x3e2)]({'request':_0x3703f0,'schema':M,'ClassRef':E,'execute':(_0x159ba0,_0x3164d4)=>x['editChat'](_0x159ba0,_0x3164d4)});return _0x3c8af2[_0x2f1f1f(0x34d)](0xc9)[_0x2f1f1f(0x2d3)](_0x3942ac);})[_0x29a937(0x6d6)](this['routerPath']('markMessageAsRead'),..._0x14296c,async(_0x141011,_0xe2cbef)=>{const _0xd587ba=_0x29a937;let _0x26a4ec=await this[_0xd587ba(0x3e2)]({'request':_0x141011,'schema':Pa,'ClassRef':Je,'execute':(_0x28e255,_0xe1783a)=>x[_0xd587ba(0x57d)](_0x28e255,_0xe1783a)});return _0xe2cbef[_0xd587ba(0x34d)](0xc9)[_0xd587ba(0x2d3)](_0x26a4ec);})[_0x29a937(0x6d6)](this['routerPath'](_0x29a937(0x212)),..._0x14296c,async(_0x28514d,_0x1bdba5)=>{const _0x2e372b=_0x29a937;let _0x30c46d=await this['dataValidate']({'request':_0x28514d,'schema':ka,'ClassRef':Ve,'execute':(_0x4ae560,_0x3383bb)=>x[_0x2e372b(0x212)](_0x4ae560,_0x3383bb)});return _0x1bdba5[_0x2e372b(0x34d)](0xc9)['json'](_0x30c46d);})[_0x29a937(0x322)](this['routerPath'](_0x29a937(0x455)),..._0x14296c,async(_0x999b90,_0xb8aa1d)=>{const _0x3953c3=_0x29a937;let _0x28f5e2=await this[_0x3953c3(0x3e2)]({'request':_0x999b90,'schema':La,'ClassRef':Ge,'execute':(_0x7e15ba,_0x5ea9c9)=>x[_0x3953c3(0x128)](_0x7e15ba,_0x5ea9c9)});return _0xb8aa1d[_0x3953c3(0x34d)](0xc9)['json'](_0x28f5e2);})['post'](this[_0x29a937(0x5ee)](_0x29a937(0x45a)),..._0x14296c,async(_0x2eb80a,_0x33bdb8)=>{const _0x5c185a=_0x29a937;let _0x559d2a=await this[_0x5c185a(0x3e2)]({'request':_0x2eb80a,'schema':Se,'ClassRef':be,'execute':(_0x303176,_0x30c737)=>x['fetchProfilePicture'](_0x303176,_0x30c737)});return _0x33bdb8['status'](0xc8)[_0x5c185a(0x2d3)](_0x559d2a);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x623)),..._0x14296c,async(_0xa4de2,_0xe87c15)=>{const _0x104576=_0x29a937;let _0x6b97d=await this[_0x104576(0x3e2)]({'request':_0xa4de2,'schema':Ua,'ClassRef':be,'execute':(_0x1004fa,_0x1b04af)=>x['fetchProfile'](_0x1004fa,_0x1b04af)});return _0xe87c15[_0x104576(0x34d)](0xc8)[_0x104576(0x2d3)](_0x6b97d);})[_0x29a937(0x2b0)](this['routerPath'](_0x29a937(0x1d1)),..._0x14296c,async(_0x193807,_0x5575a8)=>{const _0x194b87=_0x29a937;let _0x529e30=await this[_0x194b87(0x3e2)]({'request':_0x193807,'schema':ja,'ClassRef':Ke,'execute':(_0x43618c,_0x7b34cf)=>x[_0x194b87(0x1ba)](_0x43618c,_0x7b34cf)});return _0x5575a8['status'](0xc8)[_0x194b87(0x2d3)](_0x529e30);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x68f)),..._0x14296c,async(_0x1cd4fa,_0x134d07)=>{const _0x24ae99=_0x29a937;let _0x5e98f2=await this[_0x24ae99(0x3e2)]({'request':_0x1cd4fa,'schema':null,'ClassRef':Object,'execute':(_0x4b4669,_0x25c2f5)=>x[_0x24ae99(0x68f)](_0x4b4669,_0x25c2f5)});return _0x134d07['status'](0xc9)[_0x24ae99(0x2d3)](_0x5e98f2);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x5b8)),..._0x14296c,async(_0xa85cba,_0x17ed1a)=>{const _0x5d4bf9=_0x29a937;let _0x3177f5=await this[_0x5d4bf9(0x3e2)]({'request':_0xa85cba,'schema':Ja,'ClassRef':ke,'execute':(_0x3cf874,_0x692042)=>x[_0x5d4bf9(0x2e5)](_0x3cf874,_0x692042)});return _0x17ed1a['status'](0xc8)['json'](_0x3177f5);})[_0x29a937(0x58c)](this[_0x29a937(0x5ee)](_0x29a937(0x1d8)),..._0x14296c,async(_0x7e6c38,_0x5a2397)=>{const _0x137096=_0x29a937;let _0x2c6fe5=await this[_0x137096(0x3e2)]({'request':_0x7e6c38,'schema':null,'ClassRef':E,'execute':_0x2e0e55=>x['fetchChats'](_0x2e0e55)});return _0x5a2397[_0x137096(0x34d)](0xc8)['json'](_0x2c6fe5);})[_0x29a937(0x58c)](this['routerPath'](_0x29a937(0x4b7)),..._0x14296c,async(_0x428c21,_0x46a9e2)=>{const _0x5f0222=_0x29a937;let _0x5c5830=await this[_0x5f0222(0x3e2)]({'request':_0x428c21,'schema':null,'ClassRef':E,'execute':_0x3a3cfb=>x['fetchLabels'](_0x3a3cfb)});return _0x46a9e2[_0x5f0222(0x34d)](0xc8)[_0x5f0222(0x2d3)](_0x5c5830);})['put'](this[_0x29a937(0x5ee)]('importChats'),..._0x14296c,async(_0x59cbf4,_0x5d65a6)=>{const _0x16ba67=_0x29a937;let _0x536f17=await this[_0x16ba67(0x3e2)]({'request':_0x59cbf4,'schema':null,'ClassRef':Array,'execute':(_0x5d73a0,_0x5b9810)=>x[_0x16ba67(0x6b9)](_0x5d73a0,_0x5b9810)});return _0x5d65a6[_0x16ba67(0x34d)](0xc8)[_0x16ba67(0x2d3)](_0x536f17);})[_0x29a937(0x58c)](this[_0x29a937(0x5ee)](_0x29a937(0x341)),..._0x14296c,async(_0x20293b,_0x10c310)=>{const _0x12ead4=_0x29a937;let _0x485431=await this[_0x12ead4(0x3e2)]({'request':_0x20293b,'schema':null,'ClassRef':E,'execute':_0x4f3305=>x[_0x12ead4(0x341)](_0x4f3305)});return _0x10c310['status'](0xc8)['json'](_0x485431);})[_0x29a937(0x6d6)](this['routerPath'](_0x29a937(0x581)),..._0x14296c,async(_0x3325e5,_0x370308)=>{const _0x58c6e5=_0x29a937;let _0xbd0a61=await this['dataValidate']({'request':_0x3325e5,'schema':$a,'ClassRef':Be,'execute':(_0x49d93d,_0x1b8b85)=>x['updatePrivacySettings'](_0x49d93d,_0x1b8b85)});return _0x370308[_0x58c6e5(0x34d)](0xc9)[_0x58c6e5(0x2d3)](_0xbd0a61);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x32c)),..._0x14296c,async(_0x1709ea,_0x5d49fe)=>{const _0xd0ab8d=_0x29a937;let _0x214287=await this[_0xd0ab8d(0x3e2)]({'request':_0x1709ea,'schema':Se,'ClassRef':fe,'execute':(_0x245507,_0x8a7d96)=>x['fetchBusinessProfile'](_0x245507,_0x8a7d96)});return _0x5d49fe['status'](0xc8)[_0xd0ab8d(0x2d3)](_0x214287);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x479)),..._0x14296c,async(_0x4259a7,_0x173359)=>{const _0x11e85f=_0x29a937;let _0x34d48a=await this[_0x11e85f(0x3e2)]({'request':_0x4259a7,'schema':Fa,'ClassRef':qe,'execute':(_0x5d710c,_0x2d24fa)=>x[_0x11e85f(0x479)](_0x5d710c,_0x2d24fa)});return _0x173359[_0x11e85f(0x34d)](0xc8)[_0x11e85f(0x2d3)](_0x34d48a);})[_0x29a937(0x2b0)](this[_0x29a937(0x5ee)](_0x29a937(0x61f)),..._0x14296c,async(_0x432105,_0x3d0494)=>{const _0x27cdc1=_0x29a937;let _0x451e1e=await this['dataValidate']({'request':_0x432105,'schema':qa,'ClassRef':Ue,'execute':(_0xf92b74,_0xf0bc47)=>x['updateProfileStatus'](_0xf92b74,_0xf0bc47)});return _0x3d0494[_0x27cdc1(0x34d)](0xc8)[_0x27cdc1(0x2d3)](_0x451e1e);})['put'](this[_0x29a937(0x5ee)](_0x29a937(0x4bd)),..._0x14296c,async(_0x34008e,_0x1aadbc)=>{const _0x11f641=_0x29a937;let _0x460668=await this[_0x11f641(0x3e2)]({'request':_0x34008e,'schema':Se,'ClassRef':fe,'execute':(_0x111679,_0x353c94)=>x['updateProfilePicture'](_0x111679,_0x353c94)});return _0x1aadbc[_0x11f641(0x34d)](0xc8)['json'](_0x460668);})['delete'](this[_0x29a937(0x5ee)](_0x29a937(0x37a)),..._0x14296c,async(_0x2473cd,_0x48a92e)=>{const _0x33a74e=_0x29a937;let _0x450c3b=await this[_0x33a74e(0x3e2)]({'request':_0x2473cd,'schema':Se,'ClassRef':fe,'execute':(_0x226971,_0x27bf96)=>x['removeProfilePicture'](_0x226971,_0x27bf96)});return _0x48a92e['status'](0xc8)['json'](_0x450c3b);});}},eo=require(a0_0x500e42(0x711)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x1c6a81){const _0x2affdc=a0_0x500e42;super(),this[_0x2affdc(0x528)]=(0x0,eo['Router'])(),this[_0x2affdc(0x528)][_0x2affdc(0x2b0)](this[_0x2affdc(0x5ee)](_0x2affdc(0x758)),..._0x1c6a81,async(_0x71814e,_0x2d1818)=>{const _0x10af11=_0x2affdc;let _0x37351e=await this[_0x10af11(0x3e2)]({'request':_0x71814e,'schema':Ba,'ClassRef':Ze,'execute':(_0x5f4bdb,_0x3804ad)=>q['createGroup'](_0x5f4bdb,_0x3804ad)});_0x2d1818[_0x10af11(0x34d)](0xc9)['json'](_0x37351e);})[_0x2affdc(0x6d6)](this[_0x2affdc(0x5ee)](_0x2affdc(0x174)),..._0x1c6a81,async(_0x470c7c,_0x4fd981)=>{const _0x30cf43=_0x2affdc;let _0x3a53ec=await this['groupValidate']({'request':_0x470c7c,'schema':za,'ClassRef':et,'execute':(_0x4bd9ee,_0xec1726)=>q[_0x30cf43(0x174)](_0x4bd9ee,_0xec1726)});_0x4fd981[_0x30cf43(0x34d)](0xc9)[_0x30cf43(0x2d3)](_0x3a53ec);})['put'](this[_0x2affdc(0x5ee)](_0x2affdc(0x458)),..._0x1c6a81,async(_0x15c753,_0x2b1a25)=>{const _0x4bfc20=_0x2affdc;let _0x2df912=await this['groupValidate']({'request':_0x15c753,'schema':Ha,'ClassRef':tt,'execute':(_0x54e711,_0x38e213)=>q[_0x4bfc20(0x458)](_0x54e711,_0x38e213)});_0x2b1a25[_0x4bfc20(0x34d)](0xc9)[_0x4bfc20(0x2d3)](_0x2df912);})['put'](this[_0x2affdc(0x5ee)](_0x2affdc(0x354)),..._0x1c6a81,async(_0x41a2b3,_0x4db81a)=>{const _0x26e578=_0x2affdc;let _0x369c75=await this[_0x26e578(0x30f)]({'request':_0x41a2b3,'schema':Ka,'ClassRef':st,'execute':(_0x47ccdb,_0x45d69c)=>q[_0x26e578(0x354)](_0x47ccdb,_0x45d69c)});_0x4db81a['status'](0xc9)[_0x26e578(0x2d3)](_0x369c75);})[_0x2affdc(0x6d6)](this[_0x2affdc(0x5ee)](_0x2affdc(0x52a)),..._0x1c6a81,async(_0x4795a4,_0x427872)=>{const _0x3deb1b=_0x2affdc;let _0x16e60e=await this[_0x3deb1b(0x30f)]({'request':_0x4795a4,'schema':Qa,'ClassRef':at,'execute':(_0x61e16,_0xefe3b0)=>q[_0x3deb1b(0x52a)](_0x61e16,_0xefe3b0)});_0x427872[_0x3deb1b(0x34d)](0xc9)[_0x3deb1b(0x2d3)](_0x16e60e);})[_0x2affdc(0x6d6)](this[_0x2affdc(0x5ee)]('toggleEphemeral'),..._0x1c6a81,async(_0x101dff,_0x42fee5)=>{const _0xf57693=_0x2affdc;let _0x4b42eb=await this[_0xf57693(0x30f)]({'request':_0x101dff,'schema':Wa,'ClassRef':it,'execute':(_0x346d1e,_0x58063c)=>q[_0xf57693(0x248)](_0x346d1e,_0x58063c)});_0x42fee5['status'](0xc9)['json'](_0x4b42eb);})[_0x2affdc(0x58c)](this[_0x2affdc(0x5ee)](_0x2affdc(0x732)),..._0x1c6a81,async(_0x2b07b7,_0x17f48a)=>{const _0x45e98f=_0x2affdc;let _0x16a863=await this[_0x45e98f(0x30f)]({'request':_0x2b07b7,'schema':Ee,'ClassRef':Y,'execute':(_0x262865,_0x5df914)=>q[_0x45e98f(0x15e)](_0x262865,_0x5df914)});_0x17f48a[_0x45e98f(0x34d)](0xc8)[_0x45e98f(0x2d3)](_0x16a863);})[_0x2affdc(0x58c)](this[_0x2affdc(0x5ee)](_0x2affdc(0x119)),..._0x1c6a81,async(_0x117b99,_0x5972ea)=>{const _0x4122d4=_0x2affdc;let _0x371fa4=await this['dataValidate']({'request':_0x117b99,'schema':M,'ClassRef':E,'execute':_0xad1be5=>q['findGroups'](_0xad1be5)});_0x5972ea[_0x4122d4(0x34d)](0xc8)[_0x4122d4(0x2d3)](_0x371fa4);})['get'](this['routerPath'](_0x2affdc(0xef)),..._0x1c6a81,async(_0x28073e,_0x50f2ba)=>{const _0x15cb8f=_0x2affdc;let _0x2d6fe7=await this[_0x15cb8f(0x30f)]({'request':_0x28073e,'schema':Ee,'ClassRef':Y,'execute':(_0xb36be1,_0xfef3e4)=>q[_0x15cb8f(0x3f5)](_0xb36be1,_0xfef3e4)});_0x50f2ba[_0x15cb8f(0x34d)](0xc8)['json'](_0x2d6fe7);})[_0x2affdc(0x58c)](this[_0x2affdc(0x5ee)]('inviteCode'),..._0x1c6a81,async(_0x35ab07,_0x50bccd)=>{const _0x3f117e=_0x2affdc;let _0x6a082b=await this[_0x3f117e(0x30f)]({'request':_0x35ab07,'schema':Ee,'ClassRef':Y,'execute':(_0x4e2d6e,_0x255a11)=>q[_0x3f117e(0x4f7)](_0x4e2d6e,_0x255a11)});_0x50bccd[_0x3f117e(0x34d)](0xc8)[_0x3f117e(0x2d3)](_0x6a082b);})['put'](this['routerPath']('joinGroup'),..._0x1c6a81,async(_0x3c3925,_0x4f6109)=>{const _0x368c9d=_0x2affdc;let _0x15f1de=await this['joinGroupValidate']({'request':_0x3c3925,'schema':Ya,'ClassRef':ot,'execute':(_0x178e95,_0x384f7a)=>q[_0x368c9d(0x3bc)](_0x178e95,_0x384f7a)});_0x4f6109[_0x368c9d(0x34d)](0xc9)[_0x368c9d(0x2d3)](_0x15f1de);})[_0x2affdc(0x6d6)](this[_0x2affdc(0x5ee)]('revokeInviteCode'),..._0x1c6a81,async(_0x954772,_0x3d05d4)=>{const _0x429aa0=_0x2affdc;let _0x4e488f=await this['groupValidate']({'request':_0x954772,'schema':Ee,'ClassRef':Y,'execute':(_0x371e1b,_0x1705a1)=>q[_0x429aa0(0x752)](_0x371e1b,_0x1705a1)});_0x3d05d4[_0x429aa0(0x34d)](0xc9)['json'](_0x4e488f);})[_0x2affdc(0x6d6)](this[_0x2affdc(0x5ee)](_0x2affdc(0x12e)),..._0x1c6a81,async(_0x54ae57,_0x46f58c)=>{const _0x43321f=_0x2affdc;let _0x57eee1=await this[_0x43321f(0x30f)]({'request':_0x54ae57,'schema':Ga,'ClassRef':rt,'execute':(_0x815bc7,_0x51f2dc)=>q[_0x43321f(0x223)](_0x815bc7,_0x51f2dc)});_0x46f58c[_0x43321f(0x34d)](0xc9)[_0x43321f(0x2d3)](_0x57eee1);})[_0x2affdc(0x322)](this[_0x2affdc(0x5ee)](_0x2affdc(0x555)),..._0x1c6a81,async(_0x284a59,_0x1b0ae6)=>{const _0x74e1e9=_0x2affdc;let _0x1f7edc=await this[_0x74e1e9(0x30f)]({'request':_0x284a59,'schema':{},'ClassRef':Y,'execute':(_0x2fdd51,_0x4ef801)=>q[_0x74e1e9(0x555)](_0x2fdd51,_0x4ef801)});_0x1b0ae6['status'](0xc8)[_0x74e1e9(0x2d3)](_0x1f7edc);});}},to=require(a0_0x500e42(0x711)),ct=class extends U{constructor(_0x5553f6,..._0x56b5df){const _0x34d13b=a0_0x500e42;super(),this['configService']=_0x5553f6,this[_0x34d13b(0x528)]=(0x0,to[_0x34d13b(0x27c)])();let _0x4742fa=_0x5553f6[_0x34d13b(0x58c)](_0x34d13b(0x3ff));this[_0x34d13b(0x528)][_0x34d13b(0x2b0)]('/create',..._0x56b5df,async(_0x5e3dab,_0x5be7dc)=>{const _0x34fda2=_0x34d13b;let {instanceName:_0x4198cb,apikey:_0x4ea999,number:_0x46ac08}=_0x5e3dab[_0x34fda2(0x399)],_0x19602f=await le[_0x34fda2(0x65a)]({'instanceName':_0x4198cb,'apikey':_0x4ea999,'number':_0x46ac08});return _0x5be7dc[_0x34fda2(0x34d)](0xc9)[_0x34fda2(0x2d3)](_0x19602f);})['put'](this['routerPath']('restart'),..._0x56b5df,async(_0x1ec3da,_0x2272c8)=>{const _0x97e520=_0x34d13b;let _0x352656=await this[_0x97e520(0x3e2)]({'request':_0x1ec3da,'schema':M,'ClassRef':E,'execute':_0x24d5b7=>le[_0x97e520(0x237)](_0x24d5b7)});return _0x2272c8[_0x97e520(0x34d)](0xc8)['json'](_0x352656);})[_0x34d13b(0x58c)](this['routerPath']('connectionState'),..._0x56b5df,async(_0xceb70e,_0x22e378)=>{const _0x42727c=_0x34d13b;let _0x3f5baa=await this[_0x42727c(0x3e2)]({'request':_0xceb70e,'schema':M,'ClassRef':E,'execute':_0x550920=>le[_0x42727c(0x229)](_0x550920)});return _0x22e378[_0x42727c(0x34d)](0xc8)[_0x42727c(0x2d3)](_0x3f5baa);})['get'](this[_0x34d13b(0x5ee)](_0x34d13b(0x4b1),!0x1),..._0x56b5df,async(_0x39fb4b,_0x377b49)=>{const _0x38f0f5=_0x34d13b;let _0x2c329b=await this[_0x38f0f5(0x3e2)]({'request':_0x39fb4b,'schema':null,'ClassRef':E,'execute':_0x5bd997=>le[_0x38f0f5(0x4b1)](_0x5bd997)});return _0x377b49[_0x38f0f5(0x34d)](0xc8)['json'](_0x2c329b);})[_0x34d13b(0x322)](this[_0x34d13b(0x5ee)](_0x34d13b(0x2bc)),..._0x56b5df,async(_0xfeb798,_0x362ee3)=>{const _0x181f91=_0x34d13b;let _0x5cf694=await this[_0x181f91(0x3e2)]({'request':_0xfeb798,'schema':M,'ClassRef':E,'execute':_0x3dbd47=>le['logout'](_0x3dbd47)});return _0x362ee3[_0x181f91(0x34d)](0xc8)[_0x181f91(0x2d3)](_0x5cf694);})[_0x34d13b(0x322)](this['routerPath'](_0x34d13b(0x322)),..._0x56b5df,async(_0x2c7e70,_0x553cfa)=>{const _0x3627a6=_0x34d13b;let _0x579095=await this[_0x3627a6(0x3e2)]({'request':_0x2c7e70,'schema':M,'ClassRef':E,'execute':_0x1405da=>le[_0x3627a6(0x4bf)](_0x1405da)});return _0x553cfa[_0x3627a6(0x34d)](0xc8)[_0x3627a6(0x2d3)](_0x579095);});}},so=require('express'),hs=class{},W=class extends hs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x53539e){const _0x197daa=a0_0x500e42;super(),this[_0x197daa(0x528)]=(0x0,so[_0x197daa(0x27c)])(),this[_0x197daa(0x528)][_0x197daa(0x2b0)](this[_0x197daa(0x5ee)](_0x197daa(0x2aa)),..._0x53539e,async(_0x19d3d7,_0x1a9f01)=>{const _0x4c07b7=_0x197daa;let _0x3ffe6d=await this[_0x4c07b7(0x3e2)]({'request':_0x19d3d7,'schema':Sa,'ClassRef':lt,'execute':(_0x149b6d,_0x18fe19)=>G[_0x4c07b7(0x2aa)](_0x149b6d,_0x18fe19)});return _0x1a9f01[_0x4c07b7(0x34d)](0xc9)[_0x4c07b7(0x2d3)](_0x3ffe6d);})[_0x197daa(0x2b0)](this['routerPath'](_0x197daa(0x10a)),..._0x53539e,async(_0x33105d,_0x16ffb1)=>{const _0x350ab1=_0x197daa;let _0x126bd5=await this[_0x350ab1(0x3e2)]({'request':_0x33105d,'schema':va,'ClassRef':Ce,'execute':(_0xba3e60,_0x58dd44)=>G['sendMedia'](_0xba3e60,_0x58dd44)});return _0x16ffb1['status'](0xc9)[_0x350ab1(0x2d3)](_0x126bd5);})[_0x197daa(0x2b0)](this['routerPath'](_0x197daa(0x468)),..._0x53539e,async(_0x565d7e,_0x24d344)=>{const _0x43f797=_0x197daa;let _0x4f051f=await this[_0x43f797(0x3e2)]({'request':_0x565d7e,'schema':Ta,'ClassRef':pt,'execute':(_0x1431d3,_0x530078)=>G[_0x43f797(0x468)](_0x1431d3,_0x530078)});return _0x24d344[_0x43f797(0x34d)](0xc9)[_0x43f797(0x2d3)](_0x4f051f);})[_0x197daa(0x2b0)](this['routerPath'](_0x197daa(0x18a)),..._0x53539e,async(_0x17c1eb,_0xb8fa74)=>{const _0x5d1125=_0x197daa;let _0x681090=await this[_0x5d1125(0x3e2)]({'request':_0x17c1eb,'schema':Na,'ClassRef':Ce,'execute':(_0x3c38d1,_0x226030)=>G[_0x5d1125(0x18a)](_0x3c38d1,_0x226030)});return _0xb8fa74[_0x5d1125(0x34d)](0xc9)['json'](_0x681090);})[_0x197daa(0x2b0)](this['routerPath']('sendButtons'),..._0x53539e,async(_0x1d03c9,_0x13f747)=>{const _0x4c7f73=_0x197daa;let _0x2f5d49=await this['dataValidate']({'request':_0x1d03c9,'schema':Aa,'ClassRef':ht,'execute':(_0x472948,_0x42f55a)=>G[_0x4c7f73(0x281)](_0x472948,_0x42f55a)});return _0x13f747[_0x4c7f73(0x34d)](0xc9)['json'](_0x2f5d49);})[_0x197daa(0x2b0)](this[_0x197daa(0x5ee)](_0x197daa(0x66e)),..._0x53539e,async(_0x48cec5,_0x459d13)=>{const _0x290ce8=_0x197daa;let _0x55cf74=await this[_0x290ce8(0x3e2)]({'request':_0x48cec5,'schema':Oa,'ClassRef':mt,'execute':(_0x866eb1,_0x3163da)=>G[_0x290ce8(0x66e)](_0x866eb1,_0x3163da)});return _0x459d13[_0x290ce8(0x34d)](0xc9)['json'](_0x55cf74);})[_0x197daa(0x2b0)](this[_0x197daa(0x5ee)](_0x197daa(0x138)),..._0x53539e,async(_0x42eb5f,_0x4238e7)=>{const _0x35345f=_0x197daa;let _0x5dd49e=await this[_0x35345f(0x3e2)]({'request':_0x42eb5f,'schema':Ia,'ClassRef':ft,'execute':(_0xca6587,_0x5c7f94)=>G['sendList'](_0xca6587,_0x5c7f94)});return _0x4238e7[_0x35345f(0x34d)](0xc9)[_0x35345f(0x2d3)](_0x5dd49e);})[_0x197daa(0x2b0)](this[_0x197daa(0x5ee)](_0x197daa(0x118)),..._0x53539e,async(_0x4c5adc,_0x371f5a)=>{const _0xb7acea=_0x197daa;let _0x268e64=await this[_0xb7acea(0x3e2)]({'request':_0x4c5adc,'schema':xa,'ClassRef':wt,'execute':(_0x199149,_0x3dec9b)=>G[_0xb7acea(0x118)](_0x199149,_0x3dec9b)});return _0x371f5a[_0xb7acea(0x34d)](0xc9)[_0xb7acea(0x2d3)](_0x268e64);})[_0x197daa(0x2b0)](this['routerPath'](_0x197daa(0x655)),..._0x53539e,async(_0x21defc,_0x2fc251)=>{const _0x1f6621=_0x197daa;let _0x36eaa4=await this['dataValidate']({'request':_0x21defc,'schema':Da,'ClassRef':yt,'execute':(_0x55f2ad,_0x4191e)=>G[_0x1f6621(0x655)](_0x55f2ad,_0x4191e)});return _0x2fc251['status'](0xc9)[_0x1f6621(0x2d3)](_0x36eaa4);})[_0x197daa(0x2b0)](this[_0x197daa(0x5ee)](_0x197daa(0x12b)),..._0x53539e,async(_0x3d2ac0,_0x4fb604)=>{const _0x32b699=_0x197daa;let _0x5affea=await this[_0x32b699(0x3e2)]({'request':_0x3d2ac0,'schema':Ra,'ClassRef':dt,'execute':(_0x447aa4,_0x5eec25)=>G[_0x32b699(0x12b)](_0x447aa4,_0x5eec25)});return _0x4fb604[_0x32b699(0x34d)](0xc9)['json'](_0x5affea);})[_0x197daa(0x2b0)](this[_0x197daa(0x5ee)]('sendStatus'),..._0x53539e,async(_0x4bb568,_0x303e64)=>{const _0xd5b09d=_0x197daa;let _0x261fcf=await this[_0xd5b09d(0x3e2)]({'request':_0x4bb568,'schema':Ma,'ClassRef':ut,'execute':(_0x49252b,_0x27717d)=>G['sendStatus'](_0x49252b,_0x27717d)});return _0x303e64[_0xd5b09d(0x34d)](0xc9)[_0xd5b09d(0x2d3)](_0x261fcf);})['post'](this[_0x197daa(0x5ee)](_0x197daa(0x1ce)),..._0x53539e,async(_0x2d0e79,_0x350eaa)=>{const _0x78178a=_0x197daa;let _0x15bc06=await this['dataValidate']({'request':_0x2d0e79,'schema':Ca,'ClassRef':gt,'execute':(_0xcf1b1c,_0x20190c)=>G[_0x78178a(0x1ce)](_0xcf1b1c,_0x20190c)});return _0x350eaa[_0x78178a(0x34d)](0xc9)['json'](_0x15bc06);});}},ao=require(a0_0x500e42(0x711)),St=class{},Et=class extends U{constructor(..._0x402d04){const _0x325380=a0_0x500e42;super(),this[_0x325380(0x528)]=(0x0,ao[_0x325380(0x27c)])(),this[_0x325380(0x528)][_0x325380(0x2b0)](this[_0x325380(0x5ee)](_0x325380(0x473)),..._0x402d04,async(_0x5b65f7,_0x224fe9)=>{const _0xd9be0a=_0x325380;let _0xecea9=await this['dataValidate']({'request':_0x5b65f7,'schema':Xa,'ClassRef':St,'execute':(_0x451a7c,_0xfd2813)=>ms[_0xd9be0a(0x1fe)](_0x451a7c,_0xfd2813)});_0x224fe9[_0xd9be0a(0x34d)](0xc9)[_0xd9be0a(0x2d3)](_0xecea9);})['get'](this[_0x325380(0x5ee)](_0x325380(0x524)),..._0x402d04,async(_0x2d99c7,_0x4e3070)=>{const _0x42d7cd=_0x325380;let _0x478d26=await this[_0x42d7cd(0x3e2)]({'request':_0x2d99c7,'schema':M,'ClassRef':E,'execute':_0x46e513=>ms[_0x42d7cd(0x427)](_0x46e513)});_0x4e3070[_0x42d7cd(0x34d)](0xc8)[_0x42d7cd(0x2d3)](_0x478d26);});}},oo=require(a0_0x500e42(0x711)),f=new v(a0_0x500e42(0x3b0)),Ct=class extends U{constructor(..._0x525be6){const _0x1e1987=a0_0x500e42;super(),this[_0x1e1987(0x528)]=(0x0,oo[_0x1e1987(0x27c)])(),this['router'][_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x4d8)),..._0x525be6,async(_0x3d808d,_0x4b173e)=>{const _0x124e6b=_0x1e1987;let _0x55a23e=_0x3d808d[_0x124e6b(0x399)];f[_0x124e6b(0x261)](_0x124e6b(0x6d0)),f['verbose'](_0x124e6b(0x16b)),f[_0x124e6b(0x261)](_0x3d808d['body']);let _0x4516e7=await this[_0x124e6b(0x3e2)]({'request':_0x3d808d,'schema':M,'ClassRef':E,'execute':_0x43b09e=>T[_0x124e6b(0x556)](_0x43b09e,_0x55a23e)});_0x4b173e[_0x124e6b(0x34d)](0xc8)[_0x124e6b(0x2d3)](_0x4516e7);})[_0x1e1987(0x58c)](this[_0x1e1987(0x5ee)]('scheduleMessage'),..._0x525be6,async(_0x104c17,_0x493866)=>{const _0x595e81=_0x1e1987;let _0x4707e2=await this[_0x595e81(0x3e2)]({'request':_0x104c17,'schema':M,'ClassRef':E,'execute':_0x373c98=>T[_0x595e81(0x224)](_0x373c98)});_0x493866[_0x595e81(0x34d)](0xc8)[_0x595e81(0x2d3)](_0x4707e2);})[_0x1e1987(0x322)](this[_0x1e1987(0x5ee)](_0x1e1987(0x628)),..._0x525be6,async(_0x54c898,_0xa6790)=>{const _0xc415d5=_0x1e1987;f['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x462e31=await this[_0xc415d5(0x3e2)]({'request':_0x54c898,'schema':M,'ClassRef':E,'execute':_0x57b709=>T[_0xc415d5(0x628)](_0x57b709)});_0xa6790['status'](0xc8)[_0xc415d5(0x2d3)](_0x462e31);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)]('startFlow'),..._0x525be6,async(_0xf6362f,_0x10e94e)=>{const _0x44371b=_0x1e1987;let _0x5d59b9=_0xf6362f[_0x44371b(0x399)];f[_0x44371b(0x261)](_0x44371b(0x17c)),f[_0x44371b(0x261)]('request\x20body:\x20'),f['verbose'](_0xf6362f[_0x44371b(0x399)]);let _0x55edd2=await this[_0x44371b(0x3e2)]({'request':_0xf6362f,'schema':M,'ClassRef':E,'execute':_0x5979ec=>T['startFlow'](_0x5979ec,_0x5d59b9)});_0x10e94e[_0x44371b(0x34d)](0xc8)[_0x44371b(0x2d3)](_0x55edd2);})['get'](this['routerPath'](_0x1e1987(0x131)),..._0x525be6,async(_0x2bdbb7,_0x535c72)=>{const _0x1c67f3=_0x1e1987;f['verbose'](_0x1c67f3(0x438));let _0x508f7e=await this['dataValidate']({'request':_0x2bdbb7,'schema':M,'ClassRef':E,'execute':_0x32820f=>T[_0x1c67f3(0x131)](_0x32820f)});_0x535c72['status'](0xc8)[_0x1c67f3(0x2d3)](_0x508f7e);})[_0x1e1987(0x58c)](this[_0x1e1987(0x5ee)](_0x1e1987(0x157)),..._0x525be6,async(_0x634bf4,_0xba99b9)=>{const _0x584b95=_0x1e1987;f[_0x584b95(0x261)](_0x584b95(0x105));let _0xcf96b5=await this[_0x584b95(0x3e2)]({'request':_0x634bf4,'schema':M,'ClassRef':E,'execute':_0x44c89c=>T[_0x584b95(0x131)](_0x44c89c)});_0xba99b9[_0x584b95(0x34d)](0xc8)[_0x584b95(0x2d3)](_0xcf96b5);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x58d)),..._0x525be6,async(_0x510bbf,_0x2907cb)=>{const _0x3a29d0=_0x1e1987;let _0x463699=_0x510bbf['body'];f[_0x3a29d0(0x261)]('request\x20received\x20in\x20updateAgent'),f['verbose'](_0x3a29d0(0x16b)),f[_0x3a29d0(0x261)](_0x510bbf[_0x3a29d0(0x399)]);let _0x593783=await this[_0x3a29d0(0x3e2)]({'request':_0x510bbf,'schema':M,'ClassRef':E,'execute':_0x44e2bc=>T[_0x3a29d0(0x58d)](_0x44e2bc,_0x463699)});_0x2907cb[_0x3a29d0(0x34d)](0xc8)[_0x3a29d0(0x2d3)](_0x593783);})[_0x1e1987(0x2b0)](this['routerPath']('updateCustomFields'),..._0x525be6,async(_0x1dfbe3,_0x45efb0)=>{const _0x1d0dae=_0x1e1987;let _0x14df1d=_0x1dfbe3[_0x1d0dae(0x399)];f[_0x1d0dae(0x261)](_0x1d0dae(0x6fb)),f[_0x1d0dae(0x261)](_0x1d0dae(0x16b)),f[_0x1d0dae(0x261)](_0x1dfbe3[_0x1d0dae(0x399)]);let _0x34823b=await this[_0x1d0dae(0x3e2)]({'request':_0x1dfbe3,'schema':M,'ClassRef':E,'execute':_0x4d8709=>T['updateCustomFields'](_0x4d8709,_0x14df1d)});_0x45efb0[_0x1d0dae(0x34d)](0xc8)[_0x1d0dae(0x2d3)](_0x34823b);})['post'](this[_0x1e1987(0x5ee)](_0x1e1987(0x2f1)),..._0x525be6,async(_0x1dcf91,_0x170ff4)=>{const _0x2fd153=_0x1e1987;let _0x1aba9b=_0x1dcf91[_0x2fd153(0x399)];f[_0x2fd153(0x261)]('request\x20received\x20in\x20updateFlowConfig'),f['verbose'](_0x2fd153(0x16b)),f[_0x2fd153(0x261)](_0x1dcf91[_0x2fd153(0x399)]);let _0xe82c21=await this[_0x2fd153(0x3e2)]({'request':_0x1dcf91,'schema':M,'ClassRef':E,'execute':_0x432cee=>T[_0x2fd153(0x2f1)](_0x432cee,_0x1aba9b)});_0x170ff4[_0x2fd153(0x34d)](0xc8)[_0x2fd153(0x2d3)](_0xe82c21);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x36d)),..._0x525be6,async(_0x33de20,_0x4db065)=>{const _0x5342a9=_0x1e1987;let _0x23914e=_0x33de20[_0x5342a9(0x399)];f[_0x5342a9(0x261)](_0x5342a9(0x113)),f[_0x5342a9(0x261)]('request\x20body:\x20'),f[_0x5342a9(0x261)](_0x33de20[_0x5342a9(0x399)]);let _0x578d29=await this[_0x5342a9(0x3e2)]({'request':_0x33de20,'schema':M,'ClassRef':E,'execute':_0x37b432=>T['getConversation'](_0x37b432,_0x23914e)});_0x4db065['status'](0xc8)[_0x5342a9(0x2d3)](_0x578d29);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x60d)),..._0x525be6,async(_0x29672a,_0x41c24c)=>{const _0xdf343a=_0x1e1987;let _0x8a9d9d=_0x29672a[_0xdf343a(0x399)];f[_0xdf343a(0x261)]('request\x20received\x20in\x20fetchConversation'),f[_0xdf343a(0x261)]('request\x20body:\x20'),f['verbose'](_0x29672a[_0xdf343a(0x399)]);let _0x5cfeba=await this['dataValidate']({'request':_0x29672a,'schema':M,'ClassRef':E,'execute':_0x3f4ea9=>T['fetchConversation'](_0x3f4ea9,_0x8a9d9d)});_0x41c24c['status'](0xc8)[_0xdf343a(0x2d3)](_0x5cfeba);})['post'](this[_0x1e1987(0x5ee)](_0x1e1987(0x220)),..._0x525be6,async(_0x16b7fc,_0x3b93ba)=>{const _0x4d0ee3=_0x1e1987;let _0x5d6b89=_0x16b7fc['body'];f[_0x4d0ee3(0x261)](_0x4d0ee3(0x31f)),f[_0x4d0ee3(0x261)](_0x4d0ee3(0x16b)),f['verbose'](_0x16b7fc[_0x4d0ee3(0x399)]);let _0x443335=await this['dataValidate']({'request':_0x16b7fc,'schema':M,'ClassRef':E,'execute':_0x33b197=>T[_0x4d0ee3(0x220)](_0x33b197,_0x5d6b89)});_0x3b93ba['status'](0xc8)[_0x4d0ee3(0x2d3)](_0x443335);})['delete'](this[_0x1e1987(0x5ee)](_0x1e1987(0x338)),..._0x525be6,async(_0x1ff361,_0x33d64b)=>{const _0x3ff5c7=_0x1e1987;let _0x593d9b=_0x1ff361[_0x3ff5c7(0x399)];f[_0x3ff5c7(0x261)]('request\x20received\x20in\x20deleteConversation'),f[_0x3ff5c7(0x261)]('request\x20body:\x20'),f[_0x3ff5c7(0x261)](_0x1ff361[_0x3ff5c7(0x399)]);let _0x3bd1eb=await this[_0x3ff5c7(0x3e2)]({'request':_0x1ff361,'schema':M,'ClassRef':E,'execute':_0x54f55d=>T[_0x3ff5c7(0x338)](_0x54f55d,_0x593d9b)});_0x33d64b['status'](0xc8)[_0x3ff5c7(0x2d3)](_0x3bd1eb);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x4a9)),..._0x525be6,async(_0x32727d,_0x177b02)=>{const _0x55edb3=_0x1e1987;let _0x312a9b=_0x32727d[_0x55edb3(0x399)];f[_0x55edb3(0x261)](_0x55edb3(0x31b)),f[_0x55edb3(0x261)](_0x55edb3(0x16b)),f['verbose'](_0x32727d[_0x55edb3(0x399)]);let _0x4ac7d2=await this[_0x55edb3(0x3e2)]({'request':_0x32727d,'schema':M,'ClassRef':E,'execute':_0x3b0d42=>T[_0x55edb3(0x4c7)](_0x3b0d42,_0x312a9b)});_0x177b02[_0x55edb3(0x34d)](0xc8)[_0x55edb3(0x2d3)](_0x4ac7d2);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x2fd)),..._0x525be6,async(_0x2f3101,_0x4e4454)=>{const _0x57fe46=_0x1e1987;let _0x2f3281=_0x2f3101[_0x57fe46(0x399)];f[_0x57fe46(0x261)]('request\x20received\x20in\x20editFlow'),f['verbose'](_0x57fe46(0x16b)),f[_0x57fe46(0x261)](_0x2f3101[_0x57fe46(0x399)]),delete _0x2f3281[_0x57fe46(0x240)],delete _0x2f3281[_0x57fe46(0x498)],delete _0x2f3281[_0x57fe46(0x2cb)],delete _0x2f3281['conditions'];let _0x5e09a5=await this[_0x57fe46(0x3e2)]({'request':_0x2f3101,'schema':M,'ClassRef':E,'execute':_0x1c2de8=>T[_0x57fe46(0x660)](_0x1c2de8,_0x2f3281)});_0x4e4454[_0x57fe46(0x34d)](0xc8)[_0x57fe46(0x2d3)](_0x5e09a5);})['post'](this['routerPath'](_0x1e1987(0x4fa)),..._0x525be6,async(_0x25ee35,_0x39f010)=>{const _0x4c01ad=_0x1e1987;let _0x346bae=_0x25ee35[_0x4c01ad(0x399)];f[_0x4c01ad(0x261)](_0x4c01ad(0x206)),f[_0x4c01ad(0x261)](_0x4c01ad(0x16b)),f[_0x4c01ad(0x261)](_0x25ee35['body']);let _0x28adf9=await this[_0x4c01ad(0x3e2)]({'request':_0x25ee35,'schema':M,'ClassRef':E,'execute':_0x4bc396=>T[_0x4c01ad(0x48d)](_0x4bc396,_0x346bae)});_0x39f010[_0x4c01ad(0x34d)](0xc8)[_0x4c01ad(0x2d3)](_0x28adf9);})['post'](this[_0x1e1987(0x5ee)](_0x1e1987(0x488)),..._0x525be6,async(_0xb19388,_0x14188f)=>{const _0x23005e=_0x1e1987;let _0x302574=_0xb19388[_0x23005e(0x399)];f[_0x23005e(0x261)](_0x23005e(0x206)),f[_0x23005e(0x261)](_0x23005e(0x16b)),f[_0x23005e(0x261)](_0xb19388[_0x23005e(0x399)]);let _0x38b93d=await this[_0x23005e(0x3e2)]({'request':_0xb19388,'schema':M,'ClassRef':E,'execute':_0xe70ae0=>T['editFlowReply'](_0xe70ae0,_0x302574)});_0x14188f[_0x23005e(0x34d)](0xc8)['json'](_0x38b93d);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)]('editflowvaredit'),..._0x525be6,async(_0x3615fd,_0x2bceea)=>{const _0x569748=_0x1e1987;let _0x40afbc=_0x3615fd[_0x569748(0x399)];f['verbose'](_0x569748(0x206)),f[_0x569748(0x261)]('request\x20body:\x20'),f[_0x569748(0x261)](_0x3615fd[_0x569748(0x399)]);let _0x4d7d31=await this['dataValidate']({'request':_0x3615fd,'schema':M,'ClassRef':E,'execute':_0x1bcefb=>T['editFlowVaredit'](_0x1bcefb,_0x40afbc)});_0x2bceea[_0x569748(0x34d)](0xc8)[_0x569748(0x2d3)](_0x4d7d31);})[_0x1e1987(0x2b0)](this['routerPath'](_0x1e1987(0x249)),..._0x525be6,async(_0x227037,_0x479f99)=>{const _0x125e79=_0x1e1987;let _0x198ae3=_0x227037[_0x125e79(0x399)];f['verbose']('request\x20received\x20in\x20editFlowgroup'),f[_0x125e79(0x261)](_0x125e79(0x16b)),f[_0x125e79(0x261)](_0x227037[_0x125e79(0x399)]);let _0x432a92=await this[_0x125e79(0x3e2)]({'request':_0x227037,'schema':M,'ClassRef':E,'execute':_0x4afd2d=>T[_0x125e79(0x235)](_0x4afd2d,_0x198ae3)});_0x479f99['status'](0xc8)['json'](_0x432a92);})[_0x1e1987(0x2b0)](this['routerPath'](_0x1e1987(0x622)),..._0x525be6,async(_0xbeb1f6,_0x2df6bf)=>{const _0x1292fa=_0x1e1987;let _0x8bbbc2=_0xbeb1f6[_0x1292fa(0x399)];f[_0x1292fa(0x261)](_0x1292fa(0x35c)),f[_0x1292fa(0x261)]('request\x20body:\x20'),f[_0x1292fa(0x261)](_0xbeb1f6['body']);let _0x18413a=await this[_0x1292fa(0x3e2)]({'request':_0xbeb1f6,'schema':M,'ClassRef':E,'execute':_0x443e42=>T[_0x1292fa(0x43b)](_0x443e42,_0x8bbbc2)});_0x2df6bf[_0x1292fa(0x34d)](0xc8)['json'](_0x18413a);})[_0x1e1987(0x2b0)](this[_0x1e1987(0x5ee)](_0x1e1987(0x523)),..._0x525be6,async(_0x5094c5,_0xee3beb)=>{const _0x351952=_0x1e1987;let _0x4bd22a=_0x5094c5[_0x351952(0x399)];f[_0x351952(0x261)](_0x351952(0x193)),f[_0x351952(0x261)](_0x351952(0x16b)),f[_0x351952(0x261)](_0x5094c5[_0x351952(0x399)]);let _0x55fcd8=await this[_0x351952(0x3e2)]({'request':_0x5094c5,'schema':M,'ClassRef':E,'execute':_0x275fd6=>T[_0x351952(0x5b3)](_0x275fd6,_0x4bd22a)});_0xee3beb[_0x351952(0x34d)](0xc8)['json'](_0x55fcd8);})['post'](this[_0x1e1987(0x5ee)](_0x1e1987(0x664)),..._0x525be6,async(_0x4187d0,_0x19a4e6)=>{const _0x1005ad=_0x1e1987;let _0x20128a=_0x4187d0['body'];f[_0x1005ad(0x261)](_0x1005ad(0x649)),f['verbose'](_0x1005ad(0x16b)),f[_0x1005ad(0x261)](_0x4187d0[_0x1005ad(0x399)]);let _0x52f716=await this[_0x1005ad(0x3e2)]({'request':_0x4187d0,'schema':M,'ClassRef':E,'execute':_0x30037f=>T['getFlow'](_0x30037f,_0x20128a)});_0x19a4e6[_0x1005ad(0x34d)](0xc8)[_0x1005ad(0x2d3)](_0x52f716);})[_0x1e1987(0x322)](this['routerPath']('deleteflow'),..._0x525be6,async(_0x34964a,_0x5d4cc4)=>{const _0x10aa7e=_0x1e1987;let _0x199ea1=_0x34964a[_0x10aa7e(0x399)];f[_0x10aa7e(0x261)]('request\x20received\x20in\x20deleteFlow'),f[_0x10aa7e(0x261)]('request\x20body:\x20'),f['verbose'](_0x34964a[_0x10aa7e(0x399)]);let _0x4f00b1=await this[_0x10aa7e(0x3e2)]({'request':_0x34964a,'schema':M,'ClassRef':E,'execute':_0x17e055=>T[_0x10aa7e(0x44c)](_0x17e055,_0x199ea1)});_0x5d4cc4['status'](0xc8)[_0x10aa7e(0x2d3)](_0x4f00b1);})[_0x1e1987(0x58c)](this[_0x1e1987(0x5ee)](_0x1e1987(0x5ce)),..._0x525be6,async(_0x5812a6,_0x544c9b)=>{const _0x3fd747=_0x1e1987;f[_0x3fd747(0x261)](_0x3fd747(0x6dd));let _0x27516e=await this[_0x3fd747(0x3e2)]({'request':_0x5812a6,'schema':M,'ClassRef':E,'execute':_0x23bc6d=>T[_0x3fd747(0x712)](_0x23bc6d)});_0x544c9b[_0x3fd747(0x34d)](0xc8)[_0x3fd747(0x2d3)](_0x27516e);});}},co=R(require('path')),X={};function ro(_0x3533a1,_0x48b404,_0x419096,_0x1109ce){X[_0x3533a1]||(X[_0x3533a1]={}),X[_0x3533a1][_0x48b404]={'id':_0x48b404,'response':_0x419096,'events':_0x1109ce};}function io(_0x595ad4,_0x323d24){!X[_0x595ad4]||!X[_0x595ad4][_0x323d24]||delete X[_0x595ad4][_0x323d24];}function J(_0x459402,_0x4825a3,_0x3d0cd3){const _0x2210a0=a0_0x500e42;if(!X[_0x459402])return;let _0x16270f=_0x2210a0(0x3cc)+JSON[_0x2210a0(0x574)](_0x3d0cd3)+'\x0a\x0a';Object[_0x2210a0(0x227)](X[_0x459402])[_0x2210a0(0x20c)](_0x455359=>{const _0x5bacfd=_0x2210a0;_0x455359[_0x5bacfd(0x4ec)][_0x5bacfd(0x3bd)](_0x4825a3)&&_0x455359[_0x5bacfd(0x3a9)][_0x5bacfd(0x51a)](_0x16270f);});}function no(){const _0x1b7c4c=a0_0x500e42;let _0x426fbe={};for(let _0x39e144 in X)_0x426fbe[_0x39e144]=Object['values'](X[_0x39e144])[_0x1b7c4c(0x306)](_0x5d45cc=>({'id':_0x5d45cc['id'],'events':_0x5d45cc['events']}));return _0x426fbe;}var lo=require(a0_0x500e42(0x611)),ws=require(a0_0x500e42(0x6f9)),fs=class{},cr=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws['Schema']({'_id':{'type':String,'default':a0_0x500e42(0xe1)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x500e42(0x510)](fs[a0_0x500e42(0x46b)],lr,a0_0x500e42(0x703)),ur=co[a0_0x500e42(0x734)][a0_0x500e42(0x667)](__dirname,a0_0x500e42(0x5bb)),vt=(0x0,Mt[a0_0x500e42(0x27c)])(),dr=b[a0_0x500e42(0x58c)]('AUTHENTICATION')[a0_0x500e42(0x5cd)],te=[ma,fa,ba[dr]];vt['use'](a0_0x500e42(0x3cb),Mt[a0_0x500e42(0x734)]['static'](ur))[a0_0x500e42(0x58c)](a0_0x500e42(0x673),async(_0x5f4444,_0x3a5a68)=>{const _0x704ef8=a0_0x500e42;console[_0x704ef8(0x44e)](_0x704ef8(0x30a));let _0xb3e980=_0x5f4444[_0x704ef8(0x587)][_0x704ef8(0x1de)],_0x3dd525=(_0x5f4444[_0x704ef8(0x2a1)][_0x704ef8(0x4ec)]||'')[_0x704ef8(0x516)](','),_0x205bc7=(0x0,lo['v4'])();console[_0x704ef8(0x44e)](_0x704ef8(0x48c),_0xb3e980),console[_0x704ef8(0x44e)](_0x704ef8(0x122),_0x3dd525);let _0xe21e17=b[_0x704ef8(0x58c)](_0x704ef8(0x3ff))[_0x704ef8(0x101)],_0x402d86=_0x5f4444[_0x704ef8(0x2a1)][_0x704ef8(0x274)];if(console['log'](_0x704ef8(0x3df),_0x402d86),_0xe21e17[_0x704ef8(0x329)]!==_0x402d86){console[_0x704ef8(0x44e)](_0x704ef8(0x1b8));try{let _0x3996=await ce[_0x704ef8(0x5c6)]['find'](_0xb3e980);if(console[_0x704ef8(0x44e)]('Instance\x20Key\x20from\x20DB:',_0x3996),!_0x3996||_0x3996[_0x704ef8(0x274)]!==_0x402d86)return console['log'](_0x704ef8(0x59c)),_0x3a5a68[_0x704ef8(0x34d)](0x191)[_0x704ef8(0x434)](_0x704ef8(0x408));}catch(_0x45e7c9){return console[_0x704ef8(0x478)](_0x704ef8(0x353),_0x45e7c9),_0x3a5a68[_0x704ef8(0x34d)](0x191)[_0x704ef8(0x434)](_0x704ef8(0x2e7));}}if(!await We(_0xb3e980))return _0x3a5a68[_0x704ef8(0x34d)](0x194)[_0x704ef8(0x434)](_0x704ef8(0x558));_0x3a5a68[_0x704ef8(0x3e0)]('Content-Type',_0x704ef8(0x456)),_0x3a5a68['setHeader'](_0x704ef8(0x539),'no-cache'),_0x3a5a68[_0x704ef8(0x3e0)]('Connection',_0x704ef8(0x532)),_0x3a5a68['flushHeaders']();let _0x2b621e=_0x704ef8(0x3cc)+JSON[_0x704ef8(0x574)]({'info':_0x704ef8(0x19a)})+'\x0a\x0a';_0x3a5a68[_0x704ef8(0x51a)](_0x2b621e),ro(_0xb3e980,_0x205bc7,_0x3a5a68,_0x3dd525),_0x5f4444['on'](_0x704ef8(0x636),()=>{const _0x196d14=_0x704ef8;console['log'](_0x196d14(0x4d2)+_0xb3e980),io(_0xb3e980,_0x205bc7);});}),vt[a0_0x500e42(0x58c)](a0_0x500e42(0x2f6),(_0x25ada4,_0x3a1697)=>{const _0x3d0319=a0_0x500e42;let _0x1e7cf0=no();_0x3a1697[_0x3d0319(0x2d3)](_0x1e7cf0);})[a0_0x500e42(0x58c)]('/',(_0x3624a8,_0x535911)=>{const _0x17d7a6=a0_0x500e42;let _0x240df8=b[_0x17d7a6(0x58c)](_0x17d7a6(0x42a)),_0x2d0b1d=_0x240df8&&_0x240df8[_0x17d7a6(0x137)][_0x17d7a6(0x516)]('/')[0x4];if(_0x2d0b1d){let _0x175f85=encodeURIComponent('https://'+_0x2d0b1d);_0x535911[_0x17d7a6(0x435)](_0x17d7a6(0x6b8)+_0x175f85);}else _0x535911[_0x17d7a6(0x435)](_0x17d7a6(0x2ff));})[a0_0x500e42(0x6d6)](a0_0x500e42(0x6b7),...te,async(_0x2282e7,_0x4cf8ec)=>{const _0x3124ed=a0_0x500e42;try{console[_0x3124ed(0x44e)]('Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit'),_0x4cf8ec['status'](0xc8)[_0x3124ed(0x2d3)]({'message':_0x3124ed(0x4ea)}),_0x4cf8ec['on'](_0x3124ed(0x65d),()=>process[_0x3124ed(0x343)](0x0));}catch(_0x4738bf){console[_0x3124ed(0x478)](_0x3124ed(0x6aa),_0x4738bf),_0x4cf8ec[_0x3124ed(0x34d)](0x1f4)[_0x3124ed(0x2d3)]({'message':_0x3124ed(0x4f6)});}})[a0_0x500e42(0x6d6)](a0_0x500e42(0x6c9),...te,async(_0x26b134,_0x526320)=>{const _0x125177=a0_0x500e42;try{let _0x2937a1=_0x26b134[_0x125177(0x399)];await we[_0x125177(0x33a)]({},{'$set':_0x2937a1},{'upsert':!0x0});let _0x26828e=await we[_0x125177(0x177)]();_0x526320[_0x125177(0x2d3)](_0x26828e);}catch(_0x4d401a){_0x526320['status'](0x190)[_0x125177(0x434)](_0x4d401a['message']);}})[a0_0x500e42(0x58c)](a0_0x500e42(0x6c9),...te,async(_0x302c1a,_0x1371fa)=>{const _0xb92f91=a0_0x500e42;try{let _0x5915d0=await we[_0xb92f91(0x177)]();if(!_0x5915d0)return _0x1371fa[_0xb92f91(0x2d3)]({});_0x1371fa[_0xb92f91(0x2d3)](_0x5915d0);}catch(_0x3e33a9){_0x1371fa[_0xb92f91(0x34d)](0x1f4)[_0xb92f91(0x434)](_0x3e33a9['message']);}})[a0_0x500e42(0x1e3)](a0_0x500e42(0x50f),new ct(b,...te)[a0_0x500e42(0x528)])[a0_0x500e42(0x1e3)](a0_0x500e42(0x2b9),new bt(...te)[a0_0x500e42(0x528)])[a0_0x500e42(0x1e3)]('/chat',new Xe(...te)[a0_0x500e42(0x528)])['use']('/group',new nt(...te)['router'])['use']('/webhook',new Et(...te)[a0_0x500e42(0x528)])[a0_0x500e42(0x1e3)](a0_0x500e42(0x3d0),new Ct(...te)[a0_0x500e42(0x528)]);var m=class{constructor(..._0x4a46df){const _0x52415c=a0_0x500e42;throw{'status':0x190,'error':_0x52415c(0x5ae),'message':_0x4a46df[_0x52415c(0x210)]>0x0?_0x4a46df:void 0x0};}},ee=class{constructor(..._0x1020b2){const _0x3cbca6=a0_0x500e42;throw{'status':0x191,'error':_0x3cbca6(0x5d0),'message':_0x1020b2['length']>0x0?_0x1020b2:void 0x0};}},K=class{constructor(..._0x4bbba2){const _0x84f310=a0_0x500e42;throw{'status':0x193,'error':_0x84f310(0x203),'message':_0x4bbba2[_0x84f310(0x210)]>0x0?_0x4bbba2:void 0x0};}},j=class{constructor(..._0x2040b2){const _0x15061e=a0_0x500e42;throw{'status':0x194,'error':_0x15061e(0x67f),'message':_0x2040b2['length']>0x0?_0x2040b2:void 0x0};}},O=class{constructor(..._0x3e5c37){const _0x4ade10=a0_0x500e42;throw{'status':0x1f4,'error':_0x4ade10(0x482),'message':_0x3e5c37[_0x4ade10(0x210)]>0x0?_0x3e5c37:void 0x0};}},ue=require(a0_0x500e42(0x59e));async function ys(_0x3eef0c){const _0x2025b9=a0_0x500e42;let _0x5de18f=new v(ys[_0x2025b9(0x46b)]),_0x1b33d0=N[_0x2025b9(0x74d)](),_0x382fdc=_0x1b33d0['db'](b['get'](_0x2025b9(0x33d))[_0x2025b9(0x739)]['DB_PREFIX_NAME']+_0x2025b9(0x57e))[_0x2025b9(0x6c3)](_0x3eef0c),_0x4152d8=async(_0x2ab354,_0x6d5113)=>{const _0x9fea44=_0x2025b9;try{return await _0x1b33d0[_0x9fea44(0x4fb)](),await _0x382fdc[_0x9fea44(0x1e8)]({'_id':_0x6d5113},JSON[_0x9fea44(0x3fb)](JSON['stringify'](_0x2ab354,ue['BufferJSON'][_0x9fea44(0x597)])),{'upsert':!0x0});}catch{}},_0x10778d=async _0x2c3782=>{const _0x2a2e8b=_0x2025b9;try{await _0x1b33d0[_0x2a2e8b(0x4fb)]();let _0x38a0f3=await _0x382fdc[_0x2a2e8b(0x177)]({'_id':_0x2c3782}),_0x5b62d5=JSON[_0x2a2e8b(0x574)](_0x38a0f3);return JSON['parse'](_0x5b62d5,ue[_0x2a2e8b(0x529)]['reviver']);}catch{}},_0x3b6f7f=async _0x25726a=>{const _0x183322=_0x2025b9;try{return await _0x1b33d0[_0x183322(0x4fb)](),await _0x382fdc['deleteOne']({'_id':_0x25726a});}catch{}},_0x8e9772=await _0x10778d(_0x2025b9(0x73f))||(0x0,ue['initAuthCreds'])();return{'state':{'creds':_0x8e9772,'keys':{'get':async(_0x54979a,_0x5c3149)=>{const _0x318bb6=_0x2025b9;let _0x389b5c={};return await Promise[_0x318bb6(0x5f8)](_0x5c3149['map'](async _0xb03b87=>{const _0x5042ba=_0x318bb6;let _0x1c3cae=await _0x10778d(_0x54979a+'-'+_0xb03b87);_0x54979a==='app-state-sync-key'&&_0x1c3cae&&(_0x1c3cae=ue[_0x5042ba(0x1e6)][_0x5042ba(0x11e)][_0x5042ba(0x209)][_0x5042ba(0x280)](_0x1c3cae)),_0x389b5c[_0xb03b87]=_0x1c3cae;})),_0x389b5c;},'set':async _0x39e1ae=>{const _0x1a5f84=_0x2025b9;let _0x31a83b=[];for(let _0x3b5be3 in _0x39e1ae)for(let _0x353d68 in _0x39e1ae[_0x3b5be3]){let _0x3c967d=_0x39e1ae[_0x3b5be3][_0x353d68],_0x43faf0=_0x3b5be3+'-'+_0x353d68;_0x31a83b[_0x1a5f84(0x6e6)](_0x3c967d?_0x4152d8(_0x3c967d,_0x43faf0):_0x3b6f7f(_0x43faf0));}await Promise[_0x1a5f84(0x5f8)](_0x31a83b);}}},'saveCreds':async()=>_0x4152d8(_0x8e9772,_0x2025b9(0x73f))};}var Es=R(require(a0_0x500e42(0x134))),Cs=R(require('node-cache')),Tt=require(a0_0x500e42(0x59e)),uo=require(a0_0x500e42(0x335)),Rt=require(a0_0x500e42(0x59e)),Nt;function pr(_0x16d73f){const _0x649c60=a0_0x500e42;return Nt||(Nt=(0x0,uo[_0x649c60(0x3e5)])({'url':_0x16d73f[_0x649c60(0x130)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x4e77d4,_0x564523){const _0x53eeeb=a0_0x500e42;this[_0x53eeeb(0x53e)]=_0x4e77d4,this['instanceName']=_0x564523,this['logger']=new v(c[_0x53eeeb(0x46b)]),this['client']=pr(_0x4e77d4);}set[a0_0x500e42(0x40d)](_0x4a8967){const _0x2d5e2f=a0_0x500e42;this[_0x2d5e2f(0x4cc)]=_0x4a8967;}async[a0_0x500e42(0x506)](){const _0x1facd3=a0_0x500e42;try{return await this['client'][_0x1facd3(0x3b1)]([_0x1facd3(0x126),this[_0x1facd3(0x53e)][_0x1facd3(0x582)]+':*']);}catch(_0x1a7d0e){this[_0x1facd3(0x15b)][_0x1facd3(0x478)](_0x1a7d0e);}}async[a0_0x500e42(0x4ab)](_0x53e6d5,_0x2d9053){const _0x5d6978=a0_0x500e42;try{let _0x4ca56c=JSON[_0x5d6978(0x574)](_0x2d9053,Rt[_0x5d6978(0x529)][_0x5d6978(0x597)]);return await this[_0x5d6978(0x5c3)][_0x5d6978(0x3b8)](this[_0x5d6978(0x53e)][_0x5d6978(0x582)]+':'+this[_0x5d6978(0x4cc)],_0x53e6d5,_0x4ca56c);}catch(_0x3a1d7e){this[_0x5d6978(0x15b)][_0x5d6978(0x478)](_0x3a1d7e);}}async[a0_0x500e42(0x6d8)](){const _0x2f4d1d=a0_0x500e42;try{let _0x4d3a43=await this[_0x2f4d1d(0x5c3)][_0x2f4d1d(0x236)](this[_0x2f4d1d(0x53e)][_0x2f4d1d(0x582)]+':'+this[_0x2f4d1d(0x4cc)]);if(_0x4d3a43){for(let _0x91932f in _0x4d3a43)Object[_0x2f4d1d(0x52e)][_0x2f4d1d(0x569)][_0x2f4d1d(0xf6)](_0x4d3a43,_0x91932f)&&(_0x4d3a43[_0x91932f]=JSON['parse'](_0x4d3a43[_0x91932f],Rt[_0x2f4d1d(0x529)][_0x2f4d1d(0x2f4)]));return _0x4d3a43;}}catch(_0x38c6c4){this[_0x2f4d1d(0x15b)]['error'](_0x38c6c4);}}async[a0_0x500e42(0x185)](_0x1e0a00){const _0x3374f9=a0_0x500e42;try{let _0xd3a47=await this['client']['hGet'](this[_0x3374f9(0x53e)][_0x3374f9(0x582)]+':'+this[_0x3374f9(0x4cc)],_0x1e0a00);if(_0xd3a47)return JSON[_0x3374f9(0x3fb)](_0xd3a47,Rt[_0x3374f9(0x529)]['reviver']);}catch(_0x281332){this[_0x3374f9(0x15b)]['error'](_0x281332);}}async[a0_0x500e42(0x4c3)](_0x3af333){const _0x8f4c04=a0_0x500e42;try{return await this[_0x8f4c04(0x5c3)][_0x8f4c04(0x704)](this[_0x8f4c04(0x53e)][_0x8f4c04(0x582)]+':'+this[_0x8f4c04(0x4cc)],_0x3af333);}catch(_0x59c07a){this[_0x8f4c04(0x15b)][_0x8f4c04(0x478)](_0x59c07a);}}async['delAll'](_0x54d499){const _0x133b08=a0_0x500e42;try{return await this['client'][_0x133b08(0x12d)](_0x54d499||this[_0x133b08(0x53e)][_0x133b08(0x582)]+':'+this[_0x133b08(0x4cc)]);}catch(_0x14efca){this[_0x133b08(0x15b)][_0x133b08(0x478)](_0x14efca);}}};async function bs(_0x1c6c5b,_0x2c402c){const _0x2aa6f8=a0_0x500e42;let _0x5bc3fa=new v(bs['name']),_0x4ee0e5=new oe(_0x1c6c5b,_0x2c402c),_0x3f1cc6=async(_0x3b638d,_0x512b2b)=>{const _0x516143=a0_0x3d52;try{return await _0x4ee0e5[_0x516143(0x4ab)](_0x512b2b,_0x3b638d);}catch(_0x49b8ea){return _0x5bc3fa[_0x516143(0x478)]({'localError':'writeData','error':_0x49b8ea});}},_0x259dbd=async _0x11f3d4=>{const _0x3fbe2e=a0_0x3d52;try{return await _0x4ee0e5['readData'](_0x11f3d4);}catch(_0x31414c){_0x5bc3fa[_0x3fbe2e(0x478)]({'readData':_0x3fbe2e(0x4ab),'error':_0x31414c});return;}},_0x46e8e0=async _0x4ca796=>{const _0x52b921=a0_0x3d52;try{return await _0x4ee0e5[_0x52b921(0x4c3)](_0x4ca796);}catch(_0x152ba7){_0x5bc3fa[_0x52b921(0x478)]({'readData':_0x52b921(0x4c3),'error':_0x152ba7});}},_0x1dc98d=await _0x259dbd(_0x2aa6f8(0x73f))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x1dc98d,'keys':{'get':async(_0x5753c7,_0x55bbe6)=>{const _0x1eef31=_0x2aa6f8;let _0x5285a7={};return await Promise[_0x1eef31(0x5f8)](_0x55bbe6[_0x1eef31(0x306)](async _0x3d4a1c=>{const _0x49d43e=_0x1eef31;let _0x4a4957=await _0x259dbd(_0x5753c7+'-'+_0x3d4a1c);_0x5753c7===_0x49d43e(0x6c2)&&_0x4a4957&&(_0x4a4957=Tt[_0x49d43e(0x1e6)][_0x49d43e(0x11e)][_0x49d43e(0x209)]['fromObject'](_0x4a4957)),_0x5285a7[_0x3d4a1c]=_0x4a4957;})),_0x5285a7;},'set':async _0x9812f3=>{const _0x502fb0=_0x2aa6f8;let _0x224b7e=[];for(let _0x4a4022 in _0x9812f3)for(let _0x31c511 in _0x9812f3[_0x4a4022]){let _0x5169f6=_0x9812f3[_0x4a4022][_0x31c511],_0x41bf85=_0x4a4022+'-'+_0x31c511;_0x224b7e[_0x502fb0(0x6e6)](_0x5169f6?await _0x3f1cc6(_0x5169f6,_0x41bf85):await _0x46e8e0(_0x41bf85));}await Promise[_0x502fb0(0x5f8)](_0x224b7e);}}},'saveCreds':async()=>await _0x3f1cc6(_0x1dc98d,_0x2aa6f8(0x73f))};}var L=R(require('fs')),Me=require(a0_0x500e42(0x611)),xt=R(require(a0_0x500e42(0x48f))),Dt=require(a0_0x500e42(0x503)),gr='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x500e42(0x462)](),At=gr['split']('\x0a')[a0_0x500e42(0x306)](_0x4b8c8e=>{const _0x67a5b6=a0_0x500e42;let _0x4c6b3b=_0x4b8c8e[_0x67a5b6(0x516)](':');return{'host':_0x4c6b3b[0x0],'port':_0x4c6b3b[0x1],'username':_0x4c6b3b[0x2],'password':_0x4c6b3b[0x3],'protocol':_0x67a5b6(0x389)};});function po(_0xfe2282){const _0xc7e6ab=a0_0x500e42;let _0x472bca=At[_0xc7e6ab(0x524)](_0x526fe9=>_0x526fe9[_0xc7e6ab(0x522)]===_0xfe2282);return _0x472bca||null;}function go(){const _0x30ef9a=a0_0x500e42;if(At[_0x30ef9a(0x210)]===0x0)return null;let _0xbcb501=Math[_0x30ef9a(0x114)](Math[_0x30ef9a(0x689)]()*At[_0x30ef9a(0x210)]);return At[_0xbcb501];}function ho(_0x3743d6){const _0x2e1935=a0_0x500e42;let _0x2abc0b=_0x2ac6d9=>typeof _0x2ac6d9==_0x2e1935(0x549)&&_0x2ac6d9[_0x2e1935(0x210)]>0x0,_0x3d4787=_0x4fc74c=>{let _0x5ceeaf=parseInt(_0x4fc74c,0xa);return!isNaN(_0x5ceeaf)&&_0x5ceeaf>0x0&&_0x5ceeaf<=0xffff;},_0x3d844e=_0x197e76=>typeof _0x197e76==_0x2e1935(0x549)&&_0x197e76['length']>0x0;return _0x3743d6&&_0x2abc0b(_0x3743d6['host'])&&_0x3d4787(_0x3743d6['port'])&&_0x3d844e(_0x3743d6['username'])&&_0x3d844e(_0x3743d6['password'])&&(_0x3743d6['protocol']===_0x2e1935(0x389)||_0x3743d6[_0x2e1935(0x463)]===_0x2e1935(0x25e));}var Eo=a0_0x500e42(0x6f8),Ms,re=null,mo=null,He=null,hr=0x3,mr=null;async function fr(){const _0x569071=a0_0x500e42;let _0x2b8879=await we[_0x569071(0x177)]();re=_0x2b8879?.[_0x569071(0x509)]??null,mr=_0x2b8879?.['DaysToDelete']??null,Eo=_0x2b8879?.['connectedClient']??'Chrome',Ms=_0x2b8879?.[_0x569071(0x6b6)]??vs??_0x569071(0x593),console[_0x569071(0x44e)]('CONFIGURAO\x20GERAL:'),console[_0x569071(0x44e)](_0x2b8879);}async function wr(){await fr();}wr();function $(_0x47de9c){const _0x2ca4ce=a0_0x500e42;if(_0x47de9c[_0x2ca4ce(0x3cf)]||_0x47de9c[_0x2ca4ce(0x5ed)]){let _0x1846f8=_0x47de9c[_0x2ca4ce(0x3cf)]?_0x47de9c[_0x2ca4ce(0x3cf)][_0x2ca4ce(0x544)]:_0x47de9c['viewOnceMessageV2'][_0x2ca4ce(0x544)];return(0x0,y['getContentType'])(_0x1846f8);}return _0x47de9c['pollCreationMessageV3']?_0x2ca4ce(0x708):_0x47de9c['pollCreationMessageV2']?_0x2ca4ce(0x14d):_0x47de9c[_0x2ca4ce(0x5d1)]?'viewOnceMessageV2Extension':(0x0,y[_0x2ca4ce(0x576)])(_0x47de9c);}var fo={},ye=class c{constructor(_0x102847,_0x1ac382,_0x41e1df){const _0x3eac3b=a0_0x500e42;this[_0x3eac3b(0x216)]=_0x102847,this[_0x3eac3b(0x756)]=_0x1ac382,this[_0x3eac3b(0x578)]=_0x41e1df,this[_0x3eac3b(0x599)]=null,this['logger']=new v(c[_0x3eac3b(0x46b)]),this[_0x3eac3b(0x1de)]={},this[_0x3eac3b(0x50c)]={},this[_0x3eac3b(0x34a)]={'state':_0x3eac3b(0x636)},this[_0x3eac3b(0x2ed)]=(0x0,F[_0x3eac3b(0x667)])(ae,_0x3eac3b(0x5bb)),this['msgRetryCounterCache']=new Cs[(_0x3eac3b(0x734))](),this[_0x3eac3b(0x1b4)]=new Cs[(_0x3eac3b(0x734))](),this[_0x3eac3b(0x314)]=!0x1,this[_0x3eac3b(0x679)]={'status.instance':_0x3eac3b(0x3af),'qrcode.updated':_0x3eac3b(0x1e2),'messages.upsert':'/wa-message','messages.update':_0x3eac3b(0x720),'send.message':_0x3eac3b(0x726),'group.upsert':'/wa-groups','group.update':_0x3eac3b(0x26d),'group-participants.update':_0x3eac3b(0x26d),'connection.update':_0x3eac3b(0x3af),'messages.set':_0x3eac3b(0x726),'contacts.set':_0x3eac3b(0x29c),'contacts.upsert':'/wa-contacts','contacts.update':_0x3eac3b(0x29c),'presence.update':_0x3eac3b(0x19f),'chats.set':_0x3eac3b(0x500),'chats.update':'/wa-chats','chats.upsert':_0x3eac3b(0x500),'chats.delete':_0x3eac3b(0x500)},this['reconnectAttempts']=0x0,this[_0x3eac3b(0x3de)]=[],this[_0x3eac3b(0x371)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x3eac3b(0x513)]=!0x1,this[_0x3eac3b(0x42e)]={'chats.upsert':async(_0x2d7060,_0x1ba874)=>{const _0x5d9f38=_0x3eac3b;let _0x28043a=[];for await(let _0x306dfd of _0x2d7060)_0x28043a['push']({'_id':_0x306dfd['id'],'owner':this['instance'][_0x5d9f38(0xed)],'group':_0x306dfd['id']['endsWith']('@g.us'),'name':_0x306dfd[_0x5d9f38(0x46b)]||_0x306dfd['displayName']||null,'contactname':null,'lastmsg':_0x306dfd[_0x5d9f38(0x5d6)]&&_0x306dfd['conversationTimestamp'][_0x5d9f38(0x575)]()[_0x5d9f38(0x210)]<0xd?_0x306dfd[_0x5d9f38(0x5d6)]*0x3e8:_0x306dfd[_0x5d9f38(0x5d6)]||null,'archived':_0x306dfd[_0x5d9f38(0x29a)]||!0x1,'unreadcount':_0x306dfd[_0x5d9f38(0x2cd)]||0x0});this[_0x5d9f38(0x440)](_0x5d9f38(0x567),_0x28043a);},'chats.update':async(_0x4c081c,_0x1cef68)=>{const _0xaf8e37=_0x3eac3b;for(let _0x2ecc9b of _0x4c081c){let _0xb2438f={'_id':_0x2ecc9b['id'],'owner':this['instance']['wuid'],'group':_0x2ecc9b['id'][_0xaf8e37(0x294)](_0xaf8e37(0x2dd)),'name':_0x2ecc9b[_0xaf8e37(0x46b)]||_0x2ecc9b['displayName'],'archived':_0x2ecc9b['archived'],'ephemeralExpiration':_0x2ecc9b[_0xaf8e37(0x1aa)]},_0x200ed4=!0x1,_0x2f87b7={};_0xb2438f[_0xaf8e37(0x29a)]!=null&&(this[_0xaf8e37(0x15b)]['verbose'](this[_0xaf8e37(0x4cc)]+'\x20('+this[_0xaf8e37(0x1de)][_0xaf8e37(0xed)]+_0xaf8e37(0x648)+_0x2ecc9b[_0xaf8e37(0x29a)]),_0x200ed4=!0x0,_0x2f87b7[_0xaf8e37(0x29a)]=_0x2ecc9b[_0xaf8e37(0x29a)]),_0x2ecc9b[_0xaf8e37(0x46b)]!=null&&(this[_0xaf8e37(0x15b)][_0xaf8e37(0x261)](this[_0xaf8e37(0x4cc)]+'\x20('+this['instance'][_0xaf8e37(0xed)]+_0xaf8e37(0x715)+_0x2ecc9b[_0xaf8e37(0x46b)]),_0x200ed4=!0x0,_0x2f87b7[_0xaf8e37(0x46b)]=_0x2ecc9b['name']),_0x2ecc9b[_0xaf8e37(0x29e)]!=null&&(this[_0xaf8e37(0x15b)][_0xaf8e37(0x261)](this[_0xaf8e37(0x4cc)]+'\x20('+this[_0xaf8e37(0x1de)]['wuid']+_0xaf8e37(0x373)+_0x2ecc9b['displayName']),_0x200ed4=!0x0,_0x2f87b7[_0xaf8e37(0x46b)]=_0x2ecc9b[_0xaf8e37(0x29e)]);let _0xde13a8;_0x200ed4&&(_0xde13a8=await this[_0xaf8e37(0x578)]['chat'][_0xaf8e37(0x33a)]({'where':{'_id':_0x2ecc9b['id']}},_0x2f87b7,this[_0xaf8e37(0x1de)][_0xaf8e37(0xed)])),_0xde13a8&&J(this['instanceName'],_0xaf8e37(0x630),{'chat':_0xde13a8});}},'chats.delete':async _0x555387=>{const _0x11024b=_0x3eac3b;this[_0x11024b(0x440)](_0x11024b(0x106),[..._0x555387]);}},this[_0x3eac3b(0x68a)]={'contacts.upsert':async(_0x5bc64f,_0x1a3ff9)=>{const _0x52e834=_0x3eac3b;let _0x13203c=await this[_0x52e834(0x578)][_0x52e834(0x3c1)][_0x52e834(0x524)]({'where':{}},this['instance'][_0x52e834(0xed)]),_0xf823a7=[];for await(let _0x663804 of _0x5bc64f)_0x13203c[_0x52e834(0x524)](_0x3aae3e=>_0x3aae3e[_0x52e834(0x173)]===_0x663804['id'])||_0xf823a7[_0x52e834(0x6e6)]({'_id':_0x663804['id'],'pushName':_0x663804?.[_0x52e834(0x46b)]||_0x663804?.['verifiedName'],'owner':this[_0x52e834(0x1de)][_0x52e834(0xed)]});this[_0x52e834(0x440)]('contacts.upsert',_0xf823a7),await this['repository']['contact'][_0x52e834(0x186)](_0xf823a7);},'contacts.update':async(_0x4f8285,_0x504c30)=>{const _0x212a94=_0x3eac3b;let _0x1a1dc9=[];for await(let _0x2ba54e of _0x4f8285)_0x1a1dc9[_0x212a94(0x6e6)]({'_id':_0x2ba54e['id'],'pushName':_0x2ba54e?.[_0x212a94(0x46b)]??_0x2ba54e?.[_0x212a94(0x3c7)],'owner':this[_0x212a94(0x1de)][_0x212a94(0xed)]});this[_0x212a94(0x440)]('contacts.update',_0x1a1dc9);}},this['messageHandle']={'messaging-history.set':async({messages:_0x2263d2,chats:_0x39b5e8,isLatest:_0x19c6b1},_0x394d92)=>{const _0x598889=_0x3eac3b;if(_0x19c6b1){let _0x5ee6c7=await Promise[_0x598889(0x5f8)](_0x39b5e8[_0x598889(0x306)](async _0x59c732=>({'_id':_0x59c732['id'],'owner':this[_0x598889(0x1de)][_0x598889(0xed)],'group':_0x59c732['id'][_0x598889(0x294)](_0x598889(0x2dd)),'name':_0x59c732[_0x598889(0x46b)]||_0x59c732['displayName']||null,'contactname':null,'lastmsg':_0x59c732['conversationTimestamp']&&_0x59c732[_0x598889(0x5d6)][_0x598889(0x575)]()[_0x598889(0x210)]<0xd?_0x59c732['conversationTimestamp']*0x3e8:_0x59c732[_0x598889(0x5d6)]||null,'archived':_0x59c732[_0x598889(0x29a)]||!0x1,'unreadcount':_0x59c732['unreadCount']||0x0})));this[_0x598889(0x440)]('chats.set',_0x5ee6c7),await this[_0x598889(0x416)](_0x5ee6c7,_0x394d92);}let _0x570ce1=[],_0x526e31=Date[_0x598889(0x5e2)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x51a605]of Object[_0x598889(0x125)](_0x2263d2)){if(_0x51a605[_0x598889(0x544)]?.[_0x598889(0x2d8)]||_0x51a605[_0x598889(0x544)]?.[_0x598889(0x505)]||!_0x51a605['message']||_0x51a605[_0x598889(0x659)]['remoteJid']===_0x598889(0x5c5)||(Es[_0x598889(0x734)][_0x598889(0x40b)](_0x51a605?.[_0x598889(0x75e)])&&(_0x51a605[_0x598889(0x75e)]=_0x51a605[_0x598889(0x75e)]?.[_0x598889(0x3a1)]()),_0x51a605[_0x598889(0x75e)]&&_0x51a605['messageTimestamp'][_0x598889(0x575)]()[_0x598889(0x210)]<0xd&&(_0x51a605['messageTimestamp']=_0x51a605['messageTimestamp']*0x3e8),_0x51a605[_0x598889(0x75e)]<_0x526e31))continue;let {message_normalized:_0x4406c6}=this[_0x598889(0x4a2)](_0x51a605[_0x598889(0x544)],$(_0x51a605[_0x598889(0x544)]),null);Object[_0x598889(0x126)](_0x4406c6)[_0x598889(0x210)]>0x0&&_0x570ce1[_0x598889(0x6e6)]({'_id':_0x51a605[_0x598889(0x659)]['id'],'key':_0x51a605['key'],'pushName':_0x51a605[_0x598889(0x74e)],'participant':_0x51a605[_0x598889(0x6ca)],'message':{..._0x51a605[_0x598889(0x544)]},'messageType':$(_0x51a605[_0x598889(0x544)]),'message_normalized':{'key':_0x51a605[_0x598889(0x659)],'pushName':_0x51a605[_0x598889(0x74e)],'messageTimestamp':_0x51a605[_0x598889(0x75e)],..._0x4406c6},'messageTimestamp':_0x51a605[_0x598889(0x75e)],'owner':this[_0x598889(0x1de)][_0x598889(0xed)]});}_0x394d92[_0x598889(0x100)]&&_0x570ce1['length']>0x0&&(this[_0x598889(0x15b)][_0x598889(0x261)](this[_0x598889(0x4cc)]+'\x20('+this[_0x598889(0x1de)][_0x598889(0xed)]+_0x598889(0x221)+_0x570ce1[_0x598889(0x210)]+_0x598889(0x5da)+this[_0x598889(0x1de)][_0x598889(0xed)]+_0x598889(0x75b)),await this[_0x598889(0x578)][_0x598889(0x544)]['insert']([..._0x570ce1],this['instance'][_0x598889(0xed)])),this['sendDataWebhook'](_0x598889(0xf8),[..._0x570ce1]),_0x2263d2=void 0x0;},'messages.upsert':async({messages:_0x126f30,type:_0x274bdf},_0x576c3b)=>{const _0x2e31fa=_0x3eac3b;let _0x4ac837=_0x126f30[0x0];if(_0x274bdf!==_0x2e31fa(0x305)||!_0x4ac837?.[_0x2e31fa(0x544)]||_0x4ac837[_0x2e31fa(0x544)]?.[_0x2e31fa(0x2d8)]||_0x4ac837[_0x2e31fa(0x544)][_0x2e31fa(0x505)]||_0x4ac837[_0x2e31fa(0x659)][_0x2e31fa(0x4e5)]===_0x2e31fa(0x5c5))return;let _0x53a7d3=null,_0x20c5e1=null;try{_0x53a7d3=await this[_0x2e31fa(0x6ea)](_0x4ac837),_0x20c5e1=_0x53a7d3?_0x53a7d3[_0x2e31fa(0x667)](','):null;}catch(_0x27d489){this['logger'][_0x2e31fa(0x261)](this['instanceName']+'\x20('+this['instance'][_0x2e31fa(0xed)]+_0x2e31fa(0x221)+(_0x27d489 instanceof Error?_0x27d489[_0x2e31fa(0x544)]:JSON['stringify'](_0x27d489,null,0x2))),_0x20c5e1=_0x2e31fa(0x393);}if(this[_0x2e31fa(0x5c3)][_0x2e31fa(0x3ba)](_0x2e31fa(0x21d)),Es[_0x2e31fa(0x734)][_0x2e31fa(0x40b)](_0x4ac837[_0x2e31fa(0x75e)])&&(_0x4ac837[_0x2e31fa(0x75e)]=_0x4ac837['messageTimestamp']?.[_0x2e31fa(0x3a1)]()),this[_0x2e31fa(0x50c)]?.[_0x2e31fa(0x407)]&&_0x4ac837[_0x2e31fa(0x659)][_0x2e31fa(0x4e5)][_0x2e31fa(0x3bd)](_0x2e31fa(0x2dd))){this[_0x2e31fa(0x15b)]['verbose'](_0x2e31fa(0x39e));return;}_0x4ac837[_0x2e31fa(0x75e)]&&_0x4ac837[_0x2e31fa(0x75e)][_0x2e31fa(0x575)]()[_0x2e31fa(0x210)]<0xd&&(_0x4ac837[_0x2e31fa(0x75e)]=_0x4ac837[_0x2e31fa(0x75e)]*0x3e8);let _0x37e153=_0x4ac837['message'],{messageContent:_0x2eb5c5,message_normalized:_0x461772}=this[_0x2e31fa(0x4a2)](_0x37e153,$(_0x4ac837[_0x2e31fa(0x544)]),_0x20c5e1),_0x33a34e={'_id':_0x4ac837[_0x2e31fa(0x659)]['id'],'key':_0x4ac837[_0x2e31fa(0x659)],'pushName':_0x4ac837[_0x2e31fa(0x74e)],'message':{..._0x4ac837[_0x2e31fa(0x544)]},'messageType':$(_0x4ac837['message']),'message_normalized':{'key':_0x4ac837[_0x2e31fa(0x659)],'pushName':_0x4ac837[_0x2e31fa(0x74e)],'messageTimestamp':_0x4ac837[_0x2e31fa(0x75e)],'source':(0x0,y[_0x2e31fa(0x632)])(_0x4ac837[_0x2e31fa(0x659)]['id']),..._0x461772},'messageTimestamp':_0x4ac837[_0x2e31fa(0x75e)],'owner':this[_0x2e31fa(0x1de)]['wuid'],'source':(0x0,y[_0x2e31fa(0x632)])(_0x4ac837[_0x2e31fa(0x659)]['id'])};_0x2eb5c5||(console[_0x2e31fa(0x478)](_0x2e31fa(0x5c9)),this[_0x2e31fa(0x15b)][_0x2e31fa(0x44e)](_0x33a34e)),this['logger'][_0x2e31fa(0x44e)](this['instanceName']+'\x20('+this[_0x2e31fa(0x1de)][_0x2e31fa(0xed)]+_0x2e31fa(0x1c8)+_0x33a34e['messageType']+')\x20['+_0x33a34e[_0x2e31fa(0x659)]?.['remoteJid'][_0x2e31fa(0x26c)]('@s.whatsapp.net','')+_0x2e31fa(0x150)+_0x33a34e[_0x2e31fa(0x53b)]?.[_0x2e31fa(0x738)]),await this[_0x2e31fa(0x578)][_0x2e31fa(0x544)][_0x2e31fa(0x186)]([_0x33a34e],this[_0x2e31fa(0x1de)][_0x2e31fa(0xed)]),this[_0x2e31fa(0x440)]('messages.upsert',_0x33a34e),J(this['instanceName'],_0x2e31fa(0x164),{'message':_0x33a34e}),_0x4ac837[_0x2e31fa(0x659)][_0x2e31fa(0x4e5)]!==_0x2e31fa(0x5c5)&&await this[_0x2e31fa(0x1fa)](_0x576c3b,_0x33a34e,'MESSAGES_UPSERT');},'messages.update':async(_0x870449,_0x34f274)=>{const _0xea28aa=_0x3eac3b;let _0x3a7208={0x0:_0xea28aa(0x5b5),0x1:'PENDING',0x2:_0xea28aa(0x480),0x3:_0xea28aa(0x1b1),0x4:_0xea28aa(0x1fd),0x5:'PLAYED'};for await(let {key:_0x123d8f,update:_0x25a3ed}of _0x870449){if(this['localWebhook']?.[_0xea28aa(0x407)]&&_0x123d8f[_0xea28aa(0x4e5)]['includes'](_0xea28aa(0x2dd))){this[_0xea28aa(0x15b)]['verbose'](_0xea28aa(0x39e));return;}if(_0x123d8f[_0xea28aa(0x4e5)]!=='status@broadcast'){let _0x379510=Date['now'](),_0x48c6fd;_0x25a3ed[_0xea28aa(0x544)]===null&&_0x25a3ed[_0xea28aa(0x34d)]===void 0x0?_0x48c6fd=_0xea28aa(0x254):_0x48c6fd=_0x3a7208[_0x25a3ed[_0xea28aa(0x34d)]];let _0x56567b=_0x123d8f[_0xea28aa(0x4e5)][_0xea28aa(0x26c)](/:\d{1,2}@/g,'@'),_0x5e2d4a={..._0x123d8f,'remoteJid':_0x56567b,'status':_0x48c6fd,'datetime':_0x379510,'owner':this['instance']['wuid']};this[_0xea28aa(0x440)](_0xea28aa(0x363),_0x5e2d4a),await this[_0xea28aa(0x3ee)](_0x123d8f,_0x5e2d4a);}}},'labels.association':async({type:_0xa986cf,association:_0x5308d1})=>{const _0x4e658c=_0x3eac3b;if(_0x5308d1['type']===_0x4e658c(0x255)){let _0x2f989f,_0x537336=0x0;for(;!_0x2f989f&&_0x537336<this['delayChatLabel_MAX_RETRIES'];)_0x2f989f=await this[_0x4e658c(0x578)][_0x4e658c(0x6fe)][_0x4e658c(0x177)]({'where':{'_id':_0x5308d1[_0x4e658c(0x317)]}},this[_0x4e658c(0x1de)][_0x4e658c(0xed)]),_0x2f989f||(_0x537336++,console[_0x4e658c(0x44e)](_0x4e658c(0x2c3)+_0x5308d1['chatId']+_0x4e658c(0x436)+this[_0x4e658c(0x47c)]+'ms\x20(Attempt\x20'+_0x537336+'/'+this[_0x4e658c(0x562)]+')'),await this[_0x4e658c(0x629)](this[_0x4e658c(0x47c)]));if(!_0x2f989f){console[_0x4e658c(0x478)]('Failed\x20to\x20find\x20chat\x20'+_0x5308d1[_0x4e658c(0x317)]+_0x4e658c(0x72c)+this['delayChatLabel_MAX_RETRIES']+_0x4e658c(0x47a));return;}switch(_0xa986cf){case _0x4e658c(0x45d):console[_0x4e658c(0x44e)](_0x5308d1),await this[_0x4e658c(0x578)][_0x4e658c(0x6fe)][_0x4e658c(0x33a)]({'where':{'_id':_0x5308d1[_0x4e658c(0x317)]}},{'leadInfo.etiquetas':_0x5308d1[_0x4e658c(0x31e)]},this['instance'][_0x4e658c(0xed)],void 0x0,_0x4e658c(0x410));break;case _0x4e658c(0x443):console[_0x4e658c(0x44e)](_0x5308d1),await this[_0x4e658c(0x578)][_0x4e658c(0x6fe)][_0x4e658c(0x33a)]({'where':{'_id':_0x5308d1[_0x4e658c(0x317)]}},{'leadInfo.etiquetas':_0x5308d1[_0x4e658c(0x31e)]},this['instance'][_0x4e658c(0xed)],void 0x0,_0x4e658c(0x461));break;default:console[_0x4e658c(0x478)](_0x4e658c(0x5cf)+_0xa986cf+']');}}},'labels.edit':async _0x1f72ca=>{const _0x403136=_0x3eac3b;if(!_0x1f72ca||!_0x1f72ca['id']){console[_0x403136(0x478)](_0x403136(0x6b2));return;}if(!_0x1f72ca['deleted']){let _0x5abc9e=[_0x403136(0x1bf),_0x403136(0x304),_0x403136(0x6e3),_0x403136(0x348),_0x403136(0x56c),_0x403136(0x6a3),'#fe9dfe',_0x403136(0x677),_0x403136(0x6d5),_0x403136(0x365),_0x403136(0x20e),_0x403136(0x55f),_0x403136(0x148),'#f64847',_0x403136(0x17d),_0x403136(0x645),'#ffae04',_0x403136(0x34b),'#9ba6ff',_0x403136(0x536)],_0x4122db;typeof _0x1f72ca['color']==_0x403136(0x51c)&&_0x1f72ca[_0x403136(0x263)]>=0x0&&_0x1f72ca[_0x403136(0x263)]<_0x5abc9e['length']?_0x4122db=_0x5abc9e[_0x1f72ca[_0x403136(0x263)]]:(console['error'](_0x403136(0x559),_0x1f72ca[_0x403136(0x263)]),_0x4122db=_0x403136(0x12a));let _0x29c288={'_id':_0x1f72ca['id'],'colorHex':_0x4122db,'color':_0x1f72ca?.[_0x403136(0x263)],'name':_0x1f72ca?.[_0x403136(0x46b)],'owner':this[_0x403136(0x1de)][_0x403136(0xed)]};await this[_0x403136(0x578)][_0x403136(0x4a3)][_0x403136(0x33a)]({'where':{'_id':_0x1f72ca['id']}},_0x29c288,this[_0x403136(0x1de)]['wuid']),console[_0x403136(0x44e)](_0x403136(0x54d),_0x1f72ca);}_0x1f72ca[_0x403136(0x2f8)]&&(await this[_0x403136(0x578)][_0x403136(0x4a3)][_0x403136(0x322)]({'where':{'_id':_0x1f72ca['id']}},this[_0x403136(0x1de)][_0x403136(0xed)]),console[_0x403136(0x44e)](_0x403136(0x5bc),_0x1f72ca['id']));}},this[_0x3eac3b(0x5a2)]={'groups.upsert':_0x2986a5=>{const _0x50e44b=_0x3eac3b;this[_0x50e44b(0x440)](_0x50e44b(0x5ab),_0x2986a5);},'groups.update':_0x390745=>{const _0x1dbfc1=_0x3eac3b;this[_0x1dbfc1(0x440)](_0x1dbfc1(0x123),_0x390745);},'group-participants.update':_0x55f04e=>{const _0xe56956=_0x3eac3b;this[_0xe56956(0x440)](_0xe56956(0x54e),_0x55f04e);}},this[_0x3eac3b(0x562)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x3eac3b(0x6ea)]=async _0x33195b=>{const _0x54bac5=_0x3eac3b;if(_0x33195b[_0x54bac5(0x544)]?.[_0x54bac5(0x357)]){let _0x542ba9=await this[_0x54bac5(0x5a7)](_0x33195b[_0x54bac5(0x544)]['pollUpdateMessage'][_0x54bac5(0x2ae)],!0x0);if(_0x542ba9){let _0x5b443c=_0x542ba9[_0x54bac5(0x659)]['fromMe']?this['instance'][_0x54bac5(0xed)]+_0x54bac5(0x73a):_0x542ba9['key']['participant']||_0x542ba9['key']['remoteJid'],_0xd5b2ca=_0x542ba9[_0x54bac5(0x659)]['id'],_0x56ca88=_0x542ba9[_0x54bac5(0x544)],_0x83cbf1=Buffer['from'](_0x56ca88[_0x54bac5(0x154)][_0x54bac5(0x57b)][_0x54bac5(0x575)](_0x54bac5(0x684)),'hex'),_0x1b5610=(0x0,y[_0x54bac5(0x13d)])(_0x33195b[_0x54bac5(0x544)][_0x54bac5(0x357)][_0x54bac5(0x2f5)],{'pollCreatorJid':_0x5b443c,'pollMsgId':_0xd5b2ca,'pollEncKey':_0x83cbf1,'voterJid':_0x33195b[_0x54bac5(0x659)]['fromMe']?this[_0x54bac5(0x1de)][_0x54bac5(0xed)]+'@s.whatsapp.net':_0x33195b[_0x54bac5(0x659)][_0x54bac5(0x4e5)][_0x54bac5(0x294)](_0x54bac5(0x24b))?_0x33195b[_0x54bac5(0x659)][_0x54bac5(0x6ca)]:_0x33195b[_0x54bac5(0x659)][_0x54bac5(0x4e5)]}),_0x39ad13=[],_0x2cfc94=_0x1b5610[_0x54bac5(0x3d9)][_0x54bac5(0x306)](_0x3fc446=>Buffer['from'](_0x3fc446)['toString']('hex'));for(let {optionName:_0x4451e2}of _0x56ca88[_0x54bac5(0x68b)]?.[_0x54bac5(0x3b6)]||_0x56ca88[_0x54bac5(0x708)]?.[_0x54bac5(0x3b6)]||_0x56ca88[_0x54bac5(0x14d)]?.[_0x54bac5(0x3b6)])_0x2cfc94['indexOf']((0x0,y[_0x54bac5(0x56a)])(Buffer[_0x54bac5(0x53f)](_0x4451e2))[_0x54bac5(0x575)](_0x54bac5(0x684)))>-0x1&&_0x39ad13[_0x54bac5(0x6e6)](_0x4451e2);return _0x39ad13;}}return null;},this[_0x3eac3b(0x4a2)]=(_0x465b7a,_0x3f9adc,_0x1e0ce8)=>{const _0x27aabf=_0x3eac3b;try{let _0x483ee1=_0x3f9adc?_0x465b7a[_0x3f9adc]:void 0x0,_0x56bae3={},_0x3a1391=null,_0x33e10b=null,_0x57dd42=null;if(_0x465b7a[_0x27aabf(0x5ed)]?(_0x3f9adc=$(_0x465b7a[_0x27aabf(0x5ed)][_0x27aabf(0x544)]),_0x483ee1=_0x465b7a[_0x27aabf(0x5ed)]['message'][_0x3f9adc]):_0x465b7a['viewOnceMessageV2Extension']?(_0x3f9adc=$(_0x465b7a[_0x27aabf(0x5d1)]['message']),_0x483ee1=_0x465b7a['viewOnceMessageV2Extension'][_0x27aabf(0x544)][_0x3f9adc]):_0x465b7a[_0x27aabf(0x3cf)]?(_0x3f9adc=$(_0x465b7a[_0x27aabf(0x3cf)]['message']),_0x483ee1=_0x465b7a[_0x27aabf(0x3cf)][_0x27aabf(0x544)][_0x3f9adc]):_0x465b7a['ephemeralMessage']?(_0x3f9adc=$(_0x465b7a[_0x27aabf(0x544)][_0x27aabf(0x6cd)][_0x27aabf(0x544)]),_0x483ee1=_0x465b7a['message'][_0x27aabf(0x6cd)]['message'][_0x3f9adc]):_0x465b7a['editedMessage']?.[_0x27aabf(0x544)]?.[_0x27aabf(0x2d8)]?.[_0x27aabf(0x213)]?(_0x3f9adc=$(_0x465b7a[_0x27aabf(0x213)][_0x27aabf(0x544)][_0x27aabf(0x2d8)][_0x27aabf(0x213)]),_0x3a1391=_0x465b7a[_0x27aabf(0x213)][_0x27aabf(0x544)]['protocolMessage'][_0x27aabf(0x659)]['id'],_0x483ee1=_0x465b7a[_0x27aabf(0x213)]['message']['protocolMessage'][_0x27aabf(0x213)][_0x3f9adc]):_0x483ee1=_0x465b7a[_0x3f9adc],!_0x3f9adc||!_0x483ee1)return console[_0x27aabf(0x478)](_0x27aabf(0x406),_0x465b7a),{'messageType':_0x3f9adc,'messageContent':_0x483ee1,'message_normalized':{}};_0x465b7a[_0x3f9adc]?.['contextInfo']?.[_0x27aabf(0x1ae)]&&_0x465b7a[_0x3f9adc]?.[_0x27aabf(0x606)]?.[_0x27aabf(0x63e)]&&(_0x33e10b=_0x465b7a[_0x3f9adc][_0x27aabf(0x606)][_0x27aabf(0x1ae)]),_0x465b7a[_0x27aabf(0x4cb)]&&(_0x57dd42=_0x465b7a[_0x27aabf(0x4cb)][_0x27aabf(0x659)]['id']);let _0xab5998;if(_0x483ee1&&typeof _0x483ee1==_0x27aabf(0x74a)&&_0x27aabf(0x2ae)in _0x483ee1&&({pollCreationMessageKey:_0xab5998}=_0x483ee1),_0x3f9adc===_0x27aabf(0x418)){let _0x381eb7=_0x483ee1?.[_0x27aabf(0x544)]?.[_0x27aabf(0x30e)];_0x381eb7&&(_0x483ee1=_0x381eb7);}if(_0x3f9adc===_0x27aabf(0x68b)||_0x3f9adc===_0x27aabf(0x14d)||_0x3f9adc===_0x27aabf(0x708)){let _0x2fce9c=_0x483ee1[_0x27aabf(0x3b6)][_0x27aabf(0x306)](_0x57ce5c=>_0x57ce5c[_0x27aabf(0x55a)])[_0x27aabf(0x667)]('|');_0x56bae3['convertedOptions']=_0x2fce9c;}let _0x333704=_0x483ee1['name']||_0x483ee1[_0x27aabf(0x10c)]||_0x483ee1[_0x27aabf(0x238)]||_0x483ee1['displayName'];if(_0x3f9adc===_0x27aabf(0x115)){_0x333704=(_0x483ee1[_0x27aabf(0x5ca)]||'')+'\x0a'+(_0x483ee1['description']||'')+'\x0a'+(_0x483ee1[_0x27aabf(0x2e1)]||'');let _0x100c59=this[_0x27aabf(0x22c)](_0x483ee1[_0x27aabf(0x3a2)]);_0x56bae3[_0x27aabf(0x6d9)]=_0x100c59;}if(_0x3f9adc===_0x27aabf(0x743)&&(_0x1e0ce8=_0x483ee1[_0x27aabf(0x5ca)]),_0x483ee1[_0x27aabf(0x1d6)]){let _0x222618=this[_0x27aabf(0x20d)](JSON[_0x27aabf(0x574)](_0x483ee1[_0x27aabf(0x1d6)],null,0x2));_0x333704=_0x333704+'\x0a'+_0x222618;}if(_0x483ee1){let {sections:_0x56ff4d,listType:_0x17225e,displayName:_0x325ca2,vcard:_0x4000f4,contactVcard:_0x47d458,name:_0x230361,caption:_0x34917a,conversation:_0x291e28,pollCreationMessageKey:_0x1847b0,footerText:_0x446101,contentText:_0x205efc,pageCount:_0x3dd876,headerType:_0x1eb3f0,isAvatar:_0x5a8d46,isAnimated:_0xdcba10,fallbackLc:_0x4a334e,fallbackLg:_0x1b20c2,namespace:_0xd2fc35,elementName:_0x2bed6e,localizableParams:_0x3239e8,viewOnce:_0x2f2bf8,height:_0x3e5f1e,width:_0x13e9e8,key:_0x577b7a,firstScanLength:_0x390cc9,firstScanSidecar:_0x1d5abe,gifPlayback:_0x56a81f,gifAttribution:_0x3e72e6,midQualityFileSha256:_0xb793dc,scansSidecar:_0x31bb85,streamingSidecar:_0x568483,thumbnailHeight:_0xcfa294,thumbnailWidth:_0x1afaee,thumbnailEncSha256:_0x4fbea9,thumbnailDirectPath:_0x307733,canonicalUrl:_0x1923c7,matchedText:_0x58334a,previewType:_0x34e254,thumbnailSha256:_0x6f5206,deviceListMetadataVersion:_0xa42324,inviteLinkGroupTypeV2:_0x3e3aa4,interactiveAnnotations:_0x959269,scanLengths:_0x2ab453,jpegThumbnail:_0x37d7f7,url:_0x43708e,mediaKeyTimestamp:_0x49aef0,waveform:_0x257c3b,stickerSentTs:_0x3dbebd,firstFrameLength:_0xcf02fa,fileEncSha256:_0x70dfd6,contextInfo:_0x82b1d1,firstFrameSidecar:_0x29c541,directPath:_0x1e5b18,fileSha256:_0xd1944d,mediaKey:_0x54d262,senderTimestampMs:_0x485b22,..._0x15d412}=_0x483ee1;(_0x3f9adc==='listMessage'||_0x3f9adc==='listResponseMessage')&&(delete _0x15d412[_0x27aabf(0x5ca)],delete _0x15d412['description']),typeof _0x483ee1==_0x27aabf(0x549)?_0x56bae3={'text':_0x483ee1,'type':_0x3f9adc||'conversation',..._0x3a1391&&{'edited':_0x3a1391},..._0x33e10b&&{'quoted':_0x33e10b},..._0x57dd42&&{'reaction':_0x57dd42}}:_0x56bae3={'text':_0x333704,..._0x15d412,..._0x3f9adc==='pollUpdateMessage'?{'poll_id':_0x483ee1[_0x27aabf(0x2ae)]['id'],'quoted':_0x483ee1[_0x27aabf(0x2ae)]['id'],'vote':_0x1e0ce8}:{},..._0x3f9adc==='listResponseMessage'?{'vote':_0x1e0ce8}:{},'type':_0x3f9adc,..._0x3a1391&&{'edited':_0x3a1391},..._0x33e10b&&{'quoted':_0x33e10b},..._0x57dd42&&{'reaction':_0x57dd42},...(_0x3f9adc==='pollCreationMessage'||_0x3f9adc==='pollCreationMessageV2'||_0x3f9adc==='pollCreationMessageV3'||_0x3f9adc===_0x27aabf(0x115))&&{'convertedOptions':_0x56bae3[_0x27aabf(0x6d9)]}};}return{'messageType':_0x3f9adc,'messageContent':_0x483ee1,'message_normalized':_0x56bae3};}catch(_0xfb3880){return console[_0x27aabf(0x478)](_0x27aabf(0x586),_0xfb3880),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x3eac3b(0x1c7)]=null,this[_0x3eac3b(0x264)]=0x0,this[_0x3eac3b(0x3c2)]=null,(this[_0x3eac3b(0x6a4)](),this[_0x3eac3b(0x1de)][_0x3eac3b(0x2a2)]={'count':0x0});}set[a0_0x500e42(0x4cc)](_0x59809c){const _0x384bee=a0_0x500e42;if(!_0x59809c){this[_0x384bee(0x1de)][_0x384bee(0x46b)]=(0x0,yo['v4'])();return;}this[_0x384bee(0x1de)][_0x384bee(0x46b)]=_0x59809c,this[_0x384bee(0x440)](_0x384bee(0x409),{'instance':this[_0x384bee(0x1de)]['name'],'status':'created'});}get[a0_0x500e42(0x4cc)](){const _0x45f388=a0_0x500e42;return this[_0x45f388(0x1de)][_0x45f388(0x46b)];}get['wuid'](){const _0xeab5a4=a0_0x500e42;return this[_0xeab5a4(0x1de)]['wuid'];}async[a0_0x500e42(0x3a3)](){const _0x9cc4c4=a0_0x500e42;let _0x55917e=this['client']['user']?.['name']??this['client'][_0x9cc4c4(0x705)]?.[_0x9cc4c4(0x3c7)];if(!_0x55917e){if(this[_0x9cc4c4(0x216)][_0x9cc4c4(0x58c)](_0x9cc4c4(0x33d))[_0x9cc4c4(0x100)]){let _0x572ec9=await N[_0x9cc4c4(0x74d)]()['db'](this['configService']['get'](_0x9cc4c4(0x33d))[_0x9cc4c4(0x739)][_0x9cc4c4(0x1ec)]+_0x9cc4c4(0x57e))['collection'](this[_0x9cc4c4(0x4cc)])[_0x9cc4c4(0x177)]({'_id':'creds'});if(_0x572ec9){let _0x3f0e9d=JSON['parse'](JSON[_0x9cc4c4(0x574)](_0x572ec9),y['BufferJSON'][_0x9cc4c4(0x2f4)]);_0x55917e=_0x3f0e9d['me']?.['name']||_0x3f0e9d['me']?.['verifiedName'];}}else{if((0x0,ve[_0x9cc4c4(0x3a4)])((0x0,F[_0x9cc4c4(0x667)])(he,this['instanceName'],'creds.json'))){let _0x1c0ce1=JSON['parse']((0x0,ve[_0x9cc4c4(0x447)])((0x0,F[_0x9cc4c4(0x667)])(he,this[_0x9cc4c4(0x4cc)],_0x9cc4c4(0x344)),{'encoding':'utf-8'}));_0x55917e=_0x1c0ce1['me']?.[_0x9cc4c4(0x46b)]||_0x1c0ce1['me']?.[_0x9cc4c4(0x3c7)];}}}return _0x55917e;}get[a0_0x500e42(0x5cb)](){const _0x52fc9f=a0_0x500e42;return this[_0x52fc9f(0x1de)][_0x52fc9f(0x5cb)];}get[a0_0x500e42(0x6e0)](){const _0x2a3211=a0_0x500e42;return{'pairingCode':this['instance'][_0x2a3211(0x2a2)]?.[_0x2a3211(0x3b3)],'code':this[_0x2a3211(0x1de)][_0x2a3211(0x2a2)]?.[_0x2a3211(0x46e)],'base64':this[_0x2a3211(0x1de)]['qrcode']?.[_0x2a3211(0x6af)]};}async[a0_0x500e42(0x5c8)](){const _0x36bf99=a0_0x500e42;let _0x305142=await this[_0x36bf99(0x578)]['webhook'][_0x36bf99(0x524)](this[_0x36bf99(0x4cc)]);this['localWebhook'][_0x36bf99(0x124)]=_0x305142?.[_0x36bf99(0x124)],this[_0x36bf99(0x50c)][_0x36bf99(0x457)]=_0x305142?.[_0x36bf99(0x457)],this[_0x36bf99(0x50c)]['local_map']=_0x305142?.[_0x36bf99(0x6cb)],this[_0x36bf99(0x50c)]['STATUS_INSTANCE']=_0x305142?.[_0x36bf99(0x5c4)],this[_0x36bf99(0x50c)][_0x36bf99(0x5d3)]=_0x305142?.['QRCODE_UPDATED'],this[_0x36bf99(0x50c)][_0x36bf99(0x4d1)]=_0x305142?.[_0x36bf99(0x4d1)],this[_0x36bf99(0x50c)]['MESSAGES_UPSERT']=_0x305142?.['MESSAGES_UPSERT'],this[_0x36bf99(0x50c)]['MESSAGES_UPDATE']=_0x305142?.['MESSAGES_UPDATE'],this[_0x36bf99(0x50c)][_0x36bf99(0x1dd)]=_0x305142?.['GROUPS_UPSERT'],this['localWebhook'][_0x36bf99(0x496)]=_0x305142?.['GROUPS_UPDATE'],this[_0x36bf99(0x50c)][_0x36bf99(0x379)]=_0x305142?.[_0x36bf99(0x379)],this[_0x36bf99(0x50c)][_0x36bf99(0x6b1)]=_0x305142?.['CHATS_SET'],this[_0x36bf99(0x50c)][_0x36bf99(0x56f)]=_0x305142?.[_0x36bf99(0x56f)],this[_0x36bf99(0x50c)]['CHATS_UPDATE']=_0x305142?.[_0x36bf99(0x4c1)],this[_0x36bf99(0x50c)][_0x36bf99(0x668)]=_0x305142?.[_0x36bf99(0x668)],this[_0x36bf99(0x50c)][_0x36bf99(0x1d3)]=_0x305142?.[_0x36bf99(0x1d3)],this[_0x36bf99(0x50c)][_0x36bf99(0x33e)]=_0x305142?.[_0x36bf99(0x33e)],this[_0x36bf99(0x50c)]['CONTACTS_UPDATE']=_0x305142?.[_0x36bf99(0x444)],this['localWebhook'][_0x36bf99(0x259)]=_0x305142?.[_0x36bf99(0x259)],this[_0x36bf99(0x50c)][_0x36bf99(0x2d7)]=_0x305142?.[_0x36bf99(0x2d7)],this[_0x36bf99(0x50c)][_0x36bf99(0x3c3)]=_0x305142?.[_0x36bf99(0x3c3)],this[_0x36bf99(0x50c)]['groups_ignore']=_0x305142?.[_0x36bf99(0x407)];}async[a0_0x500e42(0x135)](_0x31b3a2){const _0x183b54=a0_0x500e42;let _0x1cac38=[_0x183b54(0x173),_0x183b54(0x124),_0x183b54(0x457),'local_map',_0x183b54(0x5c4),_0x183b54(0x5d3),_0x183b54(0x3f6),_0x183b54(0x14b),_0x183b54(0x4d1),_0x183b54(0x1dd),'GROUPS_UPDATE',_0x183b54(0x379),'CHATS_SET',_0x183b54(0x56f),_0x183b54(0x4c1),_0x183b54(0x668),_0x183b54(0x1d3),_0x183b54(0x33e),_0x183b54(0x444),_0x183b54(0x259),_0x183b54(0x2d7),_0x183b54(0x3c3),_0x183b54(0x407)],_0x343ee7={};return _0x1cac38[_0x183b54(0x20c)](_0x2e0698=>{_0x31b3a2[_0x2e0698]!==void 0x0&&(_0x343ee7[_0x2e0698]=_0x31b3a2[_0x2e0698]);}),await this[_0x183b54(0x578)]['webhook']['create'](_0x343ee7,this[_0x183b54(0x4cc)]),Object['assign'](this[_0x183b54(0x50c)],_0x343ee7),await this[_0x183b54(0x578)][_0x183b54(0x47e)]['find'](this[_0x183b54(0x4cc)]);}async[a0_0x500e42(0x427)](){const _0x45f215=a0_0x500e42;return await this[_0x45f215(0x578)]['webhook'][_0x45f215(0x524)](this[_0x45f215(0x4cc)]);}async[a0_0x500e42(0x440)](_0x15ad0c,_0x552cbe){const _0x177c75=a0_0x500e42;let _0x2c1731=_0x15ad0c['replace'](/[\.-]/gm,'_')[_0x177c75(0x233)](),_0x3fe539=this[_0x177c75(0x50c)][_0x177c75(0x457)]&&(0x0,k[_0x177c75(0x51d)])(this['localWebhook'][_0x177c75(0x124)])?this[_0x177c75(0x50c)][_0x177c75(0x124)]+(this[_0x177c75(0x50c)][_0x177c75(0x6cb)]?this[_0x177c75(0x679)][_0x15ad0c]:''):null,_0x23500c=this[_0x177c75(0x50c)][_0x2c1731],_0x3c2fef=re&&re[_0x177c75(0x457)]&&(0x0,k['isURL'])(re['url'])?re[_0x177c75(0x124)]+(re[_0x177c75(0x6cb)]?this['webhookMap'][_0x15ad0c]:''):null,_0x189ca2=re?re[_0x2c1731]:null;if(_0x23500c&&_0x3fe539)try{await se['default'][_0x177c75(0x758)]({'baseURL':_0x3fe539})['post']('',{'event':_0x15ad0c,'instance':this[_0x177c75(0x1de)]['name'],'data':_0x552cbe}),this[_0x177c75(0x15b)]['log'](_0x177c75(0x696)+_0x15ad0c+':\x20'+_0x3fe539);}catch(_0x416de0){this[_0x177c75(0x15b)][_0x177c75(0x478)](this[_0x177c75(0x4cc)]+'\x20('+this['instance'][_0x177c75(0xed)]+_0x177c75(0x221)+{'local':c[_0x177c75(0x46b)]+_0x177c75(0x736),'message':_0x416de0?.[_0x177c75(0x544)],'hostName':_0x416de0?.[_0x177c75(0x4be)],'syscall':_0x416de0?.[_0x177c75(0x46c)],'code':_0x416de0?.[_0x177c75(0x46e)],'error':_0x416de0?.[_0x177c75(0x3f8)],'stack':_0x416de0?.[_0x177c75(0x2fb)],'name':_0x416de0?.[_0x177c75(0x46b)]});}if(_0x189ca2&&_0x3c2fef)try{await se[_0x177c75(0x734)][_0x177c75(0x758)]({'baseURL':_0x3c2fef})[_0x177c75(0x2b0)]('',{'event':_0x15ad0c,'instance':this[_0x177c75(0x1de)]['name'],'data':_0x552cbe}),this[_0x177c75(0x15b)][_0x177c75(0x44e)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x15ad0c+':\x20'+_0x3c2fef);}catch(_0x34168b){this['logger'][_0x177c75(0x478)](this[_0x177c75(0x4cc)]+'\x20('+this[_0x177c75(0x1de)]['wuid']+'):\x20'+{'local':c[_0x177c75(0x46b)]+_0x177c75(0x640),'message':_0x34168b?.['message'],'hostName':_0x34168b?.[_0x177c75(0x4be)],'syscall':_0x34168b?.[_0x177c75(0x46c)],'code':_0x34168b?.['code'],'error':_0x34168b?.['errno'],'stack':_0x34168b?.[_0x177c75(0x2fb)],'name':_0x34168b?.['name']});}}async[a0_0x500e42(0x129)]({qr:_0x15961a,connection:_0x18e42c,lastDisconnect:_0x1b7c66}){const _0x3043ef=a0_0x500e42;if(_0x15961a){if(this['instance'][_0x3043ef(0x2a2)]['count']===hr)return this[_0x3043ef(0x440)]('qrcode.updated',{'message':_0x3043ef(0x355),'statusCode':y[_0x3043ef(0x1f3)]['badSession']}),this[_0x3043ef(0x34a)]={'state':_0x3043ef(0x3e7),'statusReason':y['DisconnectReason'][_0x3043ef(0x4d4)]},this[_0x3043ef(0x440)](_0x3043ef(0x38c),{'instance':this[_0x3043ef(0x1de)][_0x3043ef(0x46b)],...this[_0x3043ef(0x34a)]}),this[_0x3043ef(0x440)](_0x3043ef(0x409),{'instance':this[_0x3043ef(0x1de)][_0x3043ef(0x46b)],'status':_0x3043ef(0x72e)}),this[_0x3043ef(0x578)][_0x3043ef(0x5c6)][_0x3043ef(0x758)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x3043ef(0x5e2)]()},this[_0x3043ef(0x1de)][_0x3043ef(0x46b)]),this['endSession']=!0x0,this['eventEmitter']['emit']('no.connection',this[_0x3043ef(0x1de)][_0x3043ef(0x46b)]);this[_0x3043ef(0x1de)][_0x3043ef(0x2a2)]['count']++;let _0x35fb35={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x3043ef(0x239),'dark':_0x3043ef(0x12a)}};bo[_0x3043ef(0x734)][_0x3043ef(0x620)](_0x15961a,_0x35fb35,(_0x525881,_0x9acfca)=>{const _0x278684=_0x3043ef;if(_0x525881){this[_0x278684(0x15b)]['error'](this['instanceName']+'\x20('+this[_0x278684(0x1de)][_0x278684(0xed)]+_0x278684(0x339)+(_0x525881 instanceof Error?_0x525881['message']:JSON[_0x278684(0x574)](_0x525881,null,0x2)));return;}this['instance'][_0x278684(0x2a2)][_0x278684(0x6af)]=_0x9acfca,this[_0x278684(0x1de)][_0x278684(0x2a2)]['code']=_0x15961a,this['sendDataWebhook'](_0x278684(0x39a),{'qrcode':{'instance':this[_0x278684(0x1de)][_0x278684(0x46b)],'pairingCode':this[_0x278684(0x1de)][_0x278684(0x2a2)][_0x278684(0x3b3)],'code':_0x15961a,'base64':_0x9acfca}});}),this['phoneNumber']?this['instance']['qrcode'][_0x3043ef(0x3b3)]=await this[_0x3043ef(0x5c3)][_0x3043ef(0x63a)](this[_0x3043ef(0x388)]):this['instance'][_0x3043ef(0x2a2)][_0x3043ef(0x3b3)]=null,So[_0x3043ef(0x734)][_0x3043ef(0x270)](_0x15961a,{'small':!0x0},_0x118c9d=>this[_0x3043ef(0x15b)]['log']('\x0a{\x20instance:\x20'+this[_0x3043ef(0x1de)]['name']+',\x20qrcodeCount:\x20'+this[_0x3043ef(0x1de)][_0x3043ef(0x2a2)][_0x3043ef(0x396)]+_0x3043ef(0x1a7)+this[_0x3043ef(0x1de)][_0x3043ef(0x2a2)][_0x3043ef(0x3b3)]+'\x20}\x0a'+_0x118c9d));}if(_0x18e42c&&(this[_0x3043ef(0x34a)]={'state':_0x18e42c,'statusReason':_0x1b7c66?.[_0x3043ef(0x478)]?.[_0x3043ef(0x702)]?.['statusCode']??0xc8},this[_0x3043ef(0x440)](_0x3043ef(0x38c),{'instance':this[_0x3043ef(0x1de)][_0x3043ef(0x46b)],...this[_0x3043ef(0x34a)]})),_0x18e42c===_0x3043ef(0x636)){if(this['reconnectAttempts']++,this[_0x3043ef(0x3de)][_0x3043ef(0x6e6)](Date[_0x3043ef(0x5e2)]()),this[_0x3043ef(0x3de)]=this[_0x3043ef(0x3de)][_0x3043ef(0x5e7)](_0x277e44=>Date['now']()-_0x277e44<this['RECONNECT_TIME_FRAME']),_0x1b7c66[_0x3043ef(0x478)]?.[_0x3043ef(0x702)]?.[_0x3043ef(0x152)]!==y[_0x3043ef(0x1f3)][_0x3043ef(0x51e)]&&this[_0x3043ef(0x3de)][_0x3043ef(0x210)]<=this[_0x3043ef(0x371)])console['log'](this[_0x3043ef(0x4cc)]+_0x3043ef(0x666)+this[_0x3043ef(0x21e)]+'/'+this[_0x3043ef(0x371)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console['log'](_0x3043ef(0x5a6)),await this[_0x3043ef(0x4fc)]();else{this[_0x3043ef(0x440)]('status.instance',{'instance':this[_0x3043ef(0x1de)][_0x3043ef(0x46b)],'status':_0x3043ef(0x72e)}),this[_0x3043ef(0x554)]=!0x1,this[_0x3043ef(0x578)][_0x3043ef(0x47e)][_0x3043ef(0x322)](this[_0x3043ef(0x4cc)]),this[_0x3043ef(0x578)][_0x3043ef(0x5c6)][_0x3043ef(0x758)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x3043ef(0x5e2)]()},this[_0x3043ef(0x1de)]['name']);try{this['logger']['verbose'](this[_0x3043ef(0x4cc)]+'\x20('+this[_0x3043ef(0x1de)][_0x3043ef(0xed)]+_0x3043ef(0x340));let _0x7143a2=await this[_0x3043ef(0x578)][_0x3043ef(0x544)][_0x3043ef(0x614)](this[_0x3043ef(0x1de)][_0x3043ef(0xed)]);_0x7143a2['success']?this[_0x3043ef(0x15b)][_0x3043ef(0x261)](this['instanceName']+'\x20('+this[_0x3043ef(0x1de)]['wuid']+_0x3043ef(0x1cc)):console[_0x3043ef(0x478)](_0x3043ef(0x1ac),_0x7143a2[_0x3043ef(0x478)]);}catch(_0x4a8091){console[_0x3043ef(0x478)](_0x3043ef(0x352),_0x4a8091);}this['delayMessage']!==null&&(this[_0x3043ef(0x15b)]['verbose'](this[_0x3043ef(0x4cc)]+'\x20('+this[_0x3043ef(0x1de)][_0x3043ef(0xed)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x3043ef(0x642)]),this[_0x3043ef(0x642)]=null),this[_0x3043ef(0x15b)][_0x3043ef(0x261)](this[_0x3043ef(0x4cc)]+'\x20('+this['instance']['wuid']+_0x3043ef(0x28d)),this['AutomateSystem']=null,this[_0x3043ef(0x756)][_0x3043ef(0x300)](_0x3043ef(0x366),this['instance'][_0x3043ef(0x46b)],_0x3043ef(0x6f4)),this[_0x3043ef(0x5c3)]?.['ws']?.[_0x3043ef(0x636)](),this[_0x3043ef(0x5c3)][_0x3043ef(0x4e0)](new Error('Close\x20connection'));}}if(_0x18e42c===_0x3043ef(0x55c)){this[_0x3043ef(0x741)],this[_0x3043ef(0x1de)][_0x3043ef(0xed)]=this[_0x3043ef(0x5c3)][_0x3043ef(0x705)]['id'][_0x3043ef(0x26c)](/:\d+/,'')[_0x3043ef(0x26c)](_0x3043ef(0x73a),''),this[_0x3043ef(0x1de)][_0x3043ef(0x5cb)]=(await this['profilePicture'](this[_0x3043ef(0x1de)][_0x3043ef(0xed)]+_0x3043ef(0x73a)))[_0x3043ef(0x5cb)],this[_0x3043ef(0x578)][_0x3043ef(0x5c6)]['create']({'online':!0x0,'owner':this[_0x3043ef(0x1de)]['wuid'],'lastDisconnect':null},this['instance'][_0x3043ef(0x46b)]);let _0x3fd6d8=_0x3043ef(0x742)+this[_0x3043ef(0x1de)][_0x3043ef(0xed)],_0x3478ad=0x28,_0x89bf26=Math[_0x3043ef(0x114)]((_0x3478ad-_0x3fd6d8[_0x3043ef(0x210)])/0x2),_0x312746='\x20'[_0x3043ef(0x487)](_0x89bf26),_0x3a343c=_0x3043ef(0x698),_0x57a6fe=_0x3043ef(0x1f0)+this[_0x3043ef(0x1de)]['name'],_0x42e833=(''+_0x312746+_0x3fd6d8+_0x312746)[_0x3043ef(0x19d)](_0x3478ad,'\x20'),_0x5c63b4=(''+_0x312746+_0x3a343c+_0x312746)[_0x3043ef(0x19d)](_0x3478ad,'\x20'),_0xc7d4fc=(''+_0x312746+_0x57a6fe+_0x312746)[_0x3043ef(0x19d)](_0x3478ad,'\x20'),_0x3a4d0a=Math[_0x3043ef(0x22f)](_0x42e833[_0x3043ef(0x210)],_0x5c63b4['length'],_0xc7d4fc[_0x3043ef(0x210)]),_0x1ed1a4=_0x42e833[_0x3043ef(0x19d)](_0x3a4d0a,'\x20'),_0x4897dd=_0x5c63b4[_0x3043ef(0x19d)](_0x3a4d0a,'\x20'),_0x80391e=_0xc7d4fc['padEnd'](_0x3a4d0a,'\x20');this['logger'][_0x3043ef(0x104)]((_0x3043ef(0x1cb)+''[_0x3043ef(0x487)](_0x3a4d0a)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4897dd+_0x3043ef(0x18c)+_0x80391e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ed1a4+_0x3043ef(0x2ba)+''['repeat'](_0x3a4d0a)+'')['replace'](/^ +/gm,'\x20\x20')),this[_0x3043ef(0x24f)](),this[_0x3043ef(0x554)]=!0x0;}}[a0_0x500e42(0x741)](){const _0x474ddb=a0_0x500e42;this[_0x474ddb(0x21e)]=0x0,this[_0x474ddb(0x3de)]=[];}async[a0_0x500e42(0x5a7)](_0x55bf0c,_0x1a7394=!0x1){const _0x17051d=a0_0x500e42;try{let _0x394fc0=await this[_0x17051d(0x578)][_0x17051d(0x544)][_0x17051d(0x524)]({'where':{'_id':_0x55bf0c['id']}},this[_0x17051d(0x1de)][_0x17051d(0xed)]);return _0x1a7394?_0x394fc0[0x0]:_0x394fc0[0x0][_0x17051d(0x544)];}catch{return{'conversation':''};}}[a0_0x500e42(0x6a4)](){const _0x3a78fe=a0_0x500e42;let _0x2cff72=this[_0x3a78fe(0x216)]['get']('STORE'),_0x339507=this[_0x3a78fe(0x216)][_0x3a78fe(0x58c)](_0x3a78fe(0x33d));_0x2cff72?.['CLEANING_INTERVAL']&&!_0x339507[_0x3a78fe(0x100)]&&setInterval(()=>{const _0x2e6492=_0x3a78fe;try{for(let [_0x89349b,_0x2f67e9]of Object[_0x2e6492(0x125)](_0x2cff72))_0x2f67e9===!0x0&&(0x0,_t[_0x2e6492(0x21c)])('rm\x20-rf\x20'+(0x0,F[_0x2e6492(0x667)])(this[_0x2e6492(0x2ed)],_0x89349b[_0x2e6492(0x662)](),this[_0x2e6492(0x1de)][_0x2e6492(0xed)])+_0x2e6492(0x431));}catch{}},(_0x2cff72?.[_0x3a78fe(0x57c)]??0xe10)*0x3e8);}async[a0_0x500e42(0x476)](){const _0x12fcd4=a0_0x500e42;let _0xfe9265=this[_0x12fcd4(0x216)]['get'](_0x12fcd4(0x33d)),_0x44b0c6=this['configService']['get'](_0x12fcd4(0x6ac));return _0x44b0c6?.[_0x12fcd4(0x100)]?await bs(_0x44b0c6,this[_0x12fcd4(0x1de)][_0x12fcd4(0x46b)]):_0xfe9265[_0x12fcd4(0x100)]?await ys(this[_0x12fcd4(0x1de)][_0x12fcd4(0x46b)]):await(0x0,y[_0x12fcd4(0x244)])((0x0,F['join'])(he,this[_0x12fcd4(0x1de)][_0x12fcd4(0x46b)]));}async['AutomateFunctions'](){const _0xe3e643=a0_0x500e42;let _0x424fe1=()=>Math[_0xe3e643(0x114)](Math[_0xe3e643(0x689)]()*0x2711)+0x7d0,_0x23de15=async()=>{const _0x21a4ae=_0xe3e643;if(!this['isConnected']){this[_0x21a4ae(0x15b)][_0x21a4ae(0x261)]('Desconectado,\x20parando\x20execuo.'),this[_0x21a4ae(0x513)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x21a4ae(0x599)]&&this[_0x21a4ae(0x642)]!==null&&this[_0x21a4ae(0x642)]!==void 0x0){let _0x323f6d=Math['round'](this[_0x21a4ae(0x642)]/0xea60);this[_0x21a4ae(0x15b)]['verbose'](this[_0x21a4ae(0x4cc)]+'\x20('+this['instance'][_0x21a4ae(0xed)]+'):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20'+_0x323f6d+_0x21a4ae(0xfb)),this[_0x21a4ae(0x513)]=!0x1;return;}else this['instance'][_0x21a4ae(0xed)]&&(this[_0x21a4ae(0x15b)][_0x21a4ae(0x261)](this['instanceName']+'\x20('+this[_0x21a4ae(0x1de)][_0x21a4ae(0xed)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x21a4ae(0x15b)][_0x21a4ae(0x261)](this[_0x21a4ae(0x4cc)]+'\x20('+this[_0x21a4ae(0x1de)][_0x21a4ae(0xed)]+_0x21a4ae(0x382)),this[_0x21a4ae(0x599)]||await this[_0x21a4ae(0x131)](),(this[_0x21a4ae(0x642)]===null||this['delayMessage']===void 0x0)&&await this[_0x21a4ae(0x1c5)]());if(this['isRunning']){let _0x2ffd46=_0x424fe1();this['logger'][_0x21a4ae(0x261)](this[_0x21a4ae(0x4cc)]+':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2ffd46/0x3e8+_0x21a4ae(0x472)),setTimeout(_0x23de15,_0x2ffd46);}};if(this[_0xe3e643(0x513)])return;this[_0xe3e643(0x513)]=!0x0;let _0x487658=_0x424fe1();setTimeout(_0x23de15,_0x487658);}async[a0_0x500e42(0x5af)](_0xdf8b97=0x0){const _0x527e26=a0_0x500e42;if(!(this['configService'][_0x527e26(0x58c)]('PROXY')||!0x1)||_0xdf8b97>=0x3)return this[_0x527e26(0x15b)]['warn'](_0x527e26(0x3b4)),this[_0x527e26(0x578)][_0x527e26(0x5c6)][_0x527e26(0x758)]({'ip':null},this[_0x527e26(0x1de)]['name']),{};console[_0x527e26(0x44e)]('Tentativa\x20'+(_0xdf8b97+0x1)+_0x527e26(0x73c));let _0x5bf6e6=(await this['repository']['auth'][_0x527e26(0x524)](this[_0x527e26(0x4cc)]))['ip'],_0x3b8ece=po(_0x5bf6e6);if(_0x3b8ece||(console['log'](_0x527e26(0x26b)),_0x3b8ece=go()),console[_0x527e26(0x44e)](_0x527e26(0x41d),_0x3b8ece),_0x3b8ece&&ho(_0x3b8ece)){let _0x186894=_0x3b8ece[_0x527e26(0x463)]+_0x527e26(0x625)+_0x3b8ece[_0x527e26(0x683)]+':'+_0x3b8ece[_0x527e26(0x143)]+'@'+_0x3b8ece[_0x527e26(0x522)]+':'+_0x3b8ece[_0x527e26(0x5df)];return console[_0x527e26(0x44e)]('-----------------proxyUri---------------------'),console[_0x527e26(0x44e)](_0x186894),await this[_0x527e26(0x29b)](_0x186894)?(console['log'](_0x527e26(0x441)),this[_0x527e26(0x578)][_0x527e26(0x5c6)]['create']({'ip':_0x3b8ece[_0x527e26(0x522)]},this[_0x527e26(0x1de)][_0x527e26(0x46b)]),{'agent':new Dt[(_0x527e26(0x10d))](_0x186894),'fetchAgent':new Dt[(_0x527e26(0x10d))](_0x186894)}):(console[_0x527e26(0x44e)]('Proxy\x20falhou.\x20Tentando\x20o\x20prximo...'),this['loadproxy'](_0xdf8b97+0x1));}else return console[_0x527e26(0x44e)](_0x527e26(0x537)),this['loadproxy'](_0xdf8b97+0x1);}async[a0_0x500e42(0x29b)](_0x10ede9){const _0x4da61a=a0_0x500e42;let _0xaf5607=new Dt[(_0x4da61a(0x10d))](_0x10ede9);try{let _0x174ed3=await se[_0x4da61a(0x734)][_0x4da61a(0x58c)]('https://api.ipify.org?format=json',{'httpsAgent':_0xaf5607});return console['log'](_0x4da61a(0x1b5),_0x174ed3[_0x4da61a(0x1be)]),!0x0;}catch{return console[_0x4da61a(0x478)](_0x4da61a(0x4ee)),!0x1;}}async['connectToWhatsapp'](_0x3b978f){const _0x567fb1=a0_0x500e42;try{let _0x51e4eb=await this[_0x567fb1(0x5af)]();this[_0x567fb1(0x5c8)](),this[_0x567fb1(0x1de)]['authState']=await this['defineAuthState']();let {version:_0x2526cd}=await(0x0,y['fetchLatestBaileysVersion'])(),_0x5f395d=[Ms,Eo,(0x0,Ss[_0x567fb1(0x552)])()],_0x46958e={..._0x51e4eb,'auth':{'creds':this[_0x567fb1(0x1de)][_0x567fb1(0x5f7)]['state']['creds'],'keys':(0x0,y[_0x567fb1(0x43f)])(this[_0x567fb1(0x1de)][_0x567fb1(0x5f7)]['state'][_0x567fb1(0x126)],(0x0,Ot['default'])({'level':_0x567fb1(0x478)}))},'logger':(0x0,Ot[_0x567fb1(0x734)])({'level':_0x567fb1(0x478)}),'printQRInTerminal':!0x1,'browser':_0x3b978f?[_0x567fb1(0x6f2),Ms,(0x0,Ss[_0x567fb1(0x552)])()]:_0x5f395d,'version':_0x2526cd,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x39f6aa=>await this[_0x567fb1(0x5a7)](_0x39f6aa),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x567fb1(0x1b4)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xa31b32=>(_0xa31b32[_0x567fb1(0x115)]?.[_0x567fb1(0x62c)]==y[_0x567fb1(0x1e6)][_0x567fb1(0x11e)]['ListMessage'][_0x567fb1(0x5fd)][_0x567fb1(0x2bd)]&&(_0xa31b32=JSON[_0x567fb1(0x3fb)](JSON[_0x567fb1(0x574)](_0xa31b32)),_0xa31b32[_0x567fb1(0x115)][_0x567fb1(0x62c)]=y[_0x567fb1(0x1e6)][_0x567fb1(0x11e)][_0x567fb1(0x4ca)][_0x567fb1(0x5fd)][_0x567fb1(0x3e8)]),_0xa31b32)};return this[_0x567fb1(0x314)]=!0x1,this['client']=(0x0,y['default'])(_0x46958e),this[_0x567fb1(0x428)](),this['phoneNumber']=_0x3b978f,this[_0x567fb1(0x5c3)];}catch(_0x2f073a){throw this[_0x567fb1(0x15b)][_0x567fb1(0x478)](this[_0x567fb1(0x4cc)]+'\x20('+this[_0x567fb1(0x1de)][_0x567fb1(0xed)]+'):\x20'+(_0x2f073a instanceof Error?_0x2f073a['message']:JSON[_0x567fb1(0x574)](_0x2f073a,null,0x2))),new O(_0x2f073a?.[_0x567fb1(0x575)]());}}[a0_0x500e42(0x428)](){const _0x3f0499=a0_0x500e42;this[_0x3f0499(0x5c3)]['ev'][_0x3f0499(0x273)](_0x5b22eb=>{const _0x5dc241=_0x3f0499;if(!this[_0x5dc241(0x314)]){let _0xb28603=this['configService'][_0x5dc241(0x58c)](_0x5dc241(0x33d));if(_0x5b22eb[_0x5dc241(0x5d5)]){let _0x114884=_0x5b22eb[_0x5dc241(0x5d5)];this['messageHandle'][_0x5dc241(0x5d5)](_0x114884);}if(_0x5b22eb[_0x5dc241(0x380)]){let _0x44727e=_0x5b22eb[_0x5dc241(0x380)];this[_0x5dc241(0x6de)]['labels.association'](_0x44727e);}if(_0x5b22eb[_0x5dc241(0x38c)]&&this[_0x5dc241(0x129)](_0x5b22eb[_0x5dc241(0x38c)]),_0x5b22eb[_0x5dc241(0x466)]&&this[_0x5dc241(0x1de)]['authState']['saveCreds'](),_0x5b22eb[_0x5dc241(0x1f5)]){let _0x55a655=_0x5b22eb[_0x5dc241(0x1f5)];this['messageHandle'][_0x5dc241(0x1f5)](_0x55a655,_0xb28603);}if(_0x5b22eb[_0x5dc241(0x6ad)]){let _0x3aecbf=_0x5b22eb[_0x5dc241(0x6ad)];this[_0x5dc241(0x6de)][_0x5dc241(0x6ad)](_0x3aecbf,_0xb28603);}if(_0x5b22eb[_0x5dc241(0x363)]){let _0x181e4b=_0x5b22eb[_0x5dc241(0x363)];_0x181e4b[_0x5dc241(0x20c)](_0x216cc7=>{const _0x8c8ad9=_0x5dc241;if(fo[_0x216cc7[_0x8c8ad9(0x659)]['id']]){this[_0x8c8ad9(0x5c3)]['ev']['emit']('messages.upsert',{'messages':[_0x216cc7],'type':_0x8c8ad9(0x305)}),delete fo[_0x216cc7[_0x8c8ad9(0x659)]['id']];return;}}),this['messageHandle'][_0x5dc241(0x363)](_0x181e4b,_0xb28603);}if(_0x5b22eb[_0x5dc241(0x231)]){let _0x57ef83=_0x5b22eb[_0x5dc241(0x231)];if(this[_0x5dc241(0x50c)]?.[_0x5dc241(0x407)]&&_0x57ef83['id'][_0x5dc241(0x3bd)](_0x5dc241(0x2dd)))return;this['sendDataWebhook'](_0x5dc241(0x231),_0x57ef83);}if(!this[_0x5dc241(0x50c)]?.[_0x5dc241(0x407)]){if(_0x5b22eb[_0x5dc241(0x5ab)]){let _0x4312f0=_0x5b22eb[_0x5dc241(0x5ab)];this[_0x5dc241(0x5a2)][_0x5dc241(0x5ab)](_0x4312f0);}if(_0x5b22eb[_0x5dc241(0x123)]){let _0x561ff8=_0x5b22eb[_0x5dc241(0x123)];this[_0x5dc241(0x5a2)][_0x5dc241(0x123)](_0x561ff8);}if(_0x5b22eb[_0x5dc241(0x54e)]){let _0x275510=_0x5b22eb[_0x5dc241(0x54e)];this[_0x5dc241(0x5a2)]['group-participants.update'](_0x275510);}}if(_0x5b22eb[_0x5dc241(0x567)]){let _0x8033fa=_0x5b22eb[_0x5dc241(0x567)];this[_0x5dc241(0x42e)][_0x5dc241(0x567)](_0x8033fa,_0xb28603);}if(_0x5b22eb[_0x5dc241(0x624)]){let _0x1aa1f9=_0x5b22eb['chats.update'];this[_0x5dc241(0x42e)][_0x5dc241(0x624)](_0x1aa1f9,_0xb28603);}if(_0x5b22eb[_0x5dc241(0x106)]){let _0x5d31e2=_0x5b22eb[_0x5dc241(0x106)];this[_0x5dc241(0x42e)][_0x5dc241(0x106)](_0x5d31e2);}if(_0x5b22eb[_0x5dc241(0x3d7)]){let _0x1f02dc=_0x5b22eb[_0x5dc241(0x3d7)];this['contactHandle'][_0x5dc241(0x3d7)](_0x1f02dc,_0xb28603);}if(_0x5b22eb['contacts.update']){let _0x377852=_0x5b22eb[_0x5dc241(0x2d0)];this[_0x5dc241(0x68a)][_0x5dc241(0x2d0)](_0x377852,_0xb28603);}}});}[a0_0x500e42(0x629)](_0xf67f9b){return new Promise(_0x567dc3=>setTimeout(_0x567dc3,_0xf67f9b));}['formatBRNumber'](_0x36de8d){const _0x5ab68a=a0_0x500e42;let _0x5b32d8=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5ab68a(0x6f6)](_0x36de8d);if(_0x5b32d8&&_0x5b32d8[0x1]==='55'){let _0x2ff6ec=_0x5b32d8[0x2],_0x187ae9=_0x5b32d8[0x3],_0x34b078=_0x5b32d8[0x4];if(_0x2ff6ec>='31'&&_0x187ae9==='9')return _0x5b32d8[0x1]+_0x2ff6ec+_0x34b078;}return _0x36de8d;}[a0_0x500e42(0x5a8)](_0x391516){const _0x481e66=a0_0x500e42;return _0x391516[_0x481e66(0x3bd)](_0x481e66(0x2dd))||_0x391516[_0x481e66(0x3bd)](_0x481e66(0x73a))||_0x391516[_0x481e66(0x3bd)]('@broadcast')?_0x391516:(_0x391516=_0x391516?.[_0x481e66(0x26c)](/\s/g,'')[_0x481e66(0x26c)](/\+/g,'')[_0x481e66(0x26c)](/\(/g,'')[_0x481e66(0x26c)](/\)/g,'')[_0x481e66(0x516)](/\:/)[0x0][_0x481e66(0x516)]('@')[0x0],_0x391516[_0x481e66(0x210)]>=0x12?(_0x391516=_0x391516[_0x481e66(0x26c)](/[^\d-]/g,''),_0x391516+_0x481e66(0x2dd)):(_0x391516=_0x391516[_0x481e66(0x26c)](/\D/g,''),this[_0x481e66(0x265)](_0x391516)+'@s.whatsapp.net'));}async[a0_0x500e42(0x2bf)](_0x4b16c6){const _0x44e503=a0_0x500e42;let _0x4130ac=this[_0x44e503(0x5a8)](_0x4b16c6[_0x44e503(0x51c)]),_0x2f2d3a=(await this[_0x44e503(0x27b)]({'numbers':[_0x4130ac]}))[0x0];if(!_0x2f2d3a['exists']&&!(0x0,y[_0x44e503(0x19c)])(_0x2f2d3a[_0x44e503(0x59b)]))throw new m(_0x2f2d3a);let _0x3b444f=(0x0,y['isJidGroup'])(_0x4130ac)?_0x4130ac:_0x2f2d3a['jid'];if((0x0,y[_0x44e503(0x19c)])(_0x3b444f))try{await this['client'][_0x44e503(0x63c)](_0x3b444f);}catch{throw new j('Group\x20not\x20found');}try{return await this[_0x44e503(0x5c3)]['presenceSubscribe'](_0x3b444f),await this[_0x44e503(0x5c3)]['sendPresenceUpdate'](_0x4b16c6['presence'],_0x4130ac),{'status':0xc8,'presence':_0x4b16c6[_0x44e503(0x37b)]};}catch(_0x4b3626){throw new m(_0x4b3626['toString']());}}async[a0_0x500e42(0x3f9)](_0x4ec821){const _0x14d3df=a0_0x500e42;let _0x209702=this[_0x14d3df(0x5a8)](_0x4ec821);try{return{'wuid':_0x209702,'profilePictureUrl':await this[_0x14d3df(0x5c3)]['profilePictureUrl'](_0x209702,'image')};}catch{return{'wuid':_0x209702,'profilePictureUrl':null};}}async[a0_0x500e42(0x422)](_0x53f708,_0xf4a41b,_0x517243){const _0x49709a=a0_0x500e42;_0x517243||(_0x517243={});let _0x5e1a29=(await this[_0x49709a(0x27b)]({'numbers':[_0x53f708]}))[0x0];if(!_0x5e1a29[_0x49709a(0x499)]&&!(0x0,y[_0x49709a(0x19c)])(_0x5e1a29[_0x49709a(0x59b)])&&!_0x5e1a29[_0x49709a(0x59b)]['includes'](_0x49709a(0x3f7)))throw new m(_0x5e1a29);let _0x4bab06=_0x5e1a29['jid'];try{_0x517243?.['delay']&&(await this[_0x49709a(0x5c3)][_0x49709a(0x1c4)](_0x4bab06),await this[_0x49709a(0x5c3)][_0x49709a(0x3ba)](_0x517243?.[_0x49709a(0x37b)]??_0x49709a(0x2e0),_0x4bab06),await(0x0,y[_0x49709a(0x693)])(_0x517243['delay']),await this[_0x49709a(0x5c3)]['sendPresenceUpdate'](_0x49709a(0x6b0),_0x4bab06));let _0x3b23e8=_0x517243?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x5f179e;if(_0x517243?.[_0x49709a(0x29f)]){let _0x1202a9=_0x517243?.[_0x49709a(0x29f)],_0x11d33e=_0x1202a9?.[_0x49709a(0x544)]?_0x1202a9:await this[_0x49709a(0x5a7)](_0x1202a9[_0x49709a(0x659)],!0x0);if(!_0x11d33e)throw _0x49709a(0x751);_0x5f179e=_0x11d33e;}let _0x38190f;if((0x0,y[_0x49709a(0x19c)])(_0x4bab06))try{let _0x4643f7=await this[_0x49709a(0x5c3)]['groupMetadata'](_0x4bab06);if(!_0x4643f7)throw new j('Group\x20not\x20found');_0x517243?.[_0x49709a(0x4d5)]&&(_0x517243[_0x49709a(0x4d5)]?.[_0x49709a(0x58f)]?_0x38190f=_0x4643f7[_0x49709a(0xef)][_0x49709a(0x306)](_0x2f5d73=>_0x2f5d73['id']):_0x517243['mentions']?.['mentioned']?.[_0x49709a(0x210)]&&(_0x38190f=_0x517243[_0x49709a(0x4d5)][_0x49709a(0x3f2)][_0x49709a(0x306)](_0x2a8138=>{const _0x38259e=_0x49709a;let _0x18065a=this[_0x38259e(0x5a8)](_0x2a8138);return(0x0,y[_0x38259e(0x19c)])(_0x18065a)?null:_0x18065a;})));}catch{throw new j(_0x49709a(0x139));}let _0x2df6c0=await((async()=>{const _0x5c903f=_0x49709a;let _0x4164f6={'quoted':_0x5f179e};if(!_0xf4a41b[_0x5c903f(0x740)]&&!_0xf4a41b[_0x5c903f(0x607)]&&!_0xf4a41b['sticker']&&!_0xf4a41b[_0x5c903f(0x238)]&&_0x4bab06!==_0x5c903f(0x5c5)&&!_0xf4a41b[_0x5c903f(0x740)])return await this['client'][_0x5c903f(0x384)](_0x4bab06,{'forward':{'key':{'remoteJid':this[_0x5c903f(0x1de)]['wuid'],'fromMe':!0x0},'message':_0xf4a41b},'mentions':_0x38190f},_0x4164f6);if(_0xf4a41b['conversation']){let _0x276260=_0xf4a41b[_0x5c903f(0x238)];return _0x517243?.[_0x5c903f(0x364)]&&(_0x276260=await this[_0x5c903f(0x30c)](_0x276260,_0x4bab06)),await this[_0x5c903f(0x5c3)][_0x5c903f(0x384)](_0x4bab06,{'text':_0x276260,'mentions':_0x38190f,'linkPreview':_0x3b23e8},_0x4164f6);}return _0x4bab06===_0x5c903f(0x5c5)?await this[_0x5c903f(0x5c3)][_0x5c903f(0x384)](_0x4bab06,_0xf4a41b[_0x5c903f(0x34d)][_0x5c903f(0x451)],{'backgroundColor':_0xf4a41b[_0x5c903f(0x34d)][_0x5c903f(0x26a)][_0x5c903f(0x695)],'font':_0xf4a41b['status'][_0x5c903f(0x26a)][_0x5c903f(0x1f8)],'statusJidList':_0xf4a41b[_0x5c903f(0x34d)][_0x5c903f(0x26a)][_0x5c903f(0x4f3)]}):await this[_0x5c903f(0x5c3)][_0x5c903f(0x384)](_0x4bab06,_0xf4a41b,_0x4164f6);})()),{message_normalized:_0x5f5d89}=this[_0x49709a(0x4a2)](_0x2df6c0['message'],$(_0x2df6c0[_0x49709a(0x544)]),null),_0x3a6617={'_id':_0x2df6c0[_0x49709a(0x659)]['id'],'key':_0x2df6c0[_0x49709a(0x659)],'pushName':_0x2df6c0['pushName'],'message':{..._0x2df6c0['message']},'messageType':$(_0x2df6c0['message']),'message_normalized':{'key':_0x2df6c0[_0x49709a(0x659)],'pushName':_0x2df6c0[_0x49709a(0x74e)],'messageTimestamp':_0x2df6c0[_0x49709a(0x75e)]&&_0x2df6c0[_0x49709a(0x75e)][_0x49709a(0x575)]()['length']<0xd?_0x2df6c0[_0x49709a(0x75e)]*0x3e8:_0x2df6c0[_0x49709a(0x75e)]||null,'source':(0x0,y[_0x49709a(0x632)])(_0x2df6c0[_0x49709a(0x659)]['id']),..._0x5f5d89},'messageTimestamp':_0x2df6c0['messageTimestamp']&&_0x2df6c0['messageTimestamp']['toString']()['length']<0xd?_0x2df6c0[_0x49709a(0x75e)]*0x3e8:_0x2df6c0[_0x49709a(0x75e)]||null,'owner':this[_0x49709a(0x1de)][_0x49709a(0xed)],'source':(0x0,y[_0x49709a(0x632)])(_0x2df6c0[_0x49709a(0x659)]['id'])};return this[_0x49709a(0x15b)][_0x49709a(0x44e)](_0x3a6617),this[_0x49709a(0x440)]('send.message',_0x3a6617),J(this[_0x49709a(0x4cc)],_0x49709a(0x164),{'message':_0x3a6617}),this[_0x49709a(0x1fa)](this[_0x49709a(0x216)][_0x49709a(0x58c)](_0x49709a(0x33d)),_0x3a6617,_0x49709a(0x4d1)),await this[_0x49709a(0x578)][_0x49709a(0x544)][_0x49709a(0x186)]([_0x3a6617],this[_0x49709a(0x1de)][_0x49709a(0xed)]),_0x2df6c0;}catch(_0x14b5bc){throw this[_0x49709a(0x15b)][_0x49709a(0x478)](this[_0x49709a(0x4cc)]+'\x20('+this['instance']['wuid']+_0x49709a(0x221)+_0x14b5bc[_0x49709a(0x575)]()),new m(_0x14b5bc[_0x49709a(0x575)]());}}get[a0_0x500e42(0x2f9)](){const _0x5bae38=a0_0x500e42;return this[_0x5bae38(0x34a)];}async[a0_0x500e42(0x6f1)](_0x14ef22){const _0x2a775b=a0_0x500e42;let _0x2734c3=mo,_0x1bbc5b=He;return _0x1bbc5b&&this[_0x2a775b(0x4cc)]['toLowerCase']()[_0x2a775b(0x3bd)](_0x1bbc5b['toLowerCase']())&&(_0x14ef22[_0x2a775b(0x6f1)][_0x2a775b(0x738)]+='\x0a\x0a'+_0x2734c3),await this[_0x2a775b(0x422)](_0x14ef22['number'],{'conversation':_0x14ef22['textMessage'][_0x2a775b(0x738)]},_0x14ef22?.[_0x2a775b(0x3b6)]);}async['formatStatusMessage'](_0x4cda41){const _0x2ec5d6=a0_0x500e42;if(!_0x4cda41[_0x2ec5d6(0x65c)])throw new m(_0x2ec5d6(0x572));if(!_0x4cda41[_0x2ec5d6(0x451)])throw new m(_0x2ec5d6(0x485));if(_0x4cda41[_0x2ec5d6(0x51b)]){let _0x45e06b=await this['repository'][_0x2ec5d6(0x3c1)]['find']({'where':{}},this[_0x2ec5d6(0x1de)][_0x2ec5d6(0xed)]);if(!_0x45e06b[_0x2ec5d6(0x210)])throw new m(_0x2ec5d6(0x3c4));_0x4cda41['statusJidList']=_0x45e06b[_0x2ec5d6(0x5e7)](_0x48557d=>_0x48557d[_0x2ec5d6(0x74e)])[_0x2ec5d6(0x306)](_0x1ffcb1=>_0x1ffcb1['_id']);}if(!_0x4cda41[_0x2ec5d6(0x4f3)]?.['length']&&!_0x4cda41[_0x2ec5d6(0x51b)])throw new m(_0x2ec5d6(0x292));if(_0x4cda41[_0x2ec5d6(0x65c)]===_0x2ec5d6(0x738)){if(!_0x4cda41['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x4cda41[_0x2ec5d6(0x1f8)])throw new m(_0x2ec5d6(0x501));return{'content':{'text':_0x4cda41['content']},'option':{'backgroundColor':_0x4cda41[_0x2ec5d6(0x695)],'font':_0x4cda41[_0x2ec5d6(0x1f8)],'statusJidList':_0x4cda41[_0x2ec5d6(0x4f3)]}};}if(_0x4cda41[_0x2ec5d6(0x65c)]==='image')return{'content':{'image':{'url':_0x4cda41['content']},'caption':_0x4cda41[_0x2ec5d6(0x10c)]},'option':{'statusJidList':_0x4cda41[_0x2ec5d6(0x4f3)]}};if(_0x4cda41['type']===_0x2ec5d6(0x494))return{'content':{'video':{'url':_0x4cda41['content']},'caption':_0x4cda41[_0x2ec5d6(0x10c)]},'option':{'statusJidList':_0x4cda41[_0x2ec5d6(0x4f3)]}};if(_0x4cda41[_0x2ec5d6(0x65c)]===_0x2ec5d6(0x740)){this['logger'][_0x2ec5d6(0x261)](_0x2ec5d6(0x33c)),this[_0x2ec5d6(0x15b)][_0x2ec5d6(0x261)](_0x2ec5d6(0x218));let _0x566863=await this[_0x2ec5d6(0x3ce)](_0x4cda41[_0x2ec5d6(0x451)]);if(typeof _0x566863==_0x2ec5d6(0x549)){this[_0x2ec5d6(0x15b)][_0x2ec5d6(0x261)](_0x2ec5d6(0x176));let _0x47d0a0=L['readFileSync'](_0x566863)['toString']('base64'),_0x447fe3={'content':{'audio':Buffer['from'](_0x47d0a0,_0x2ec5d6(0x6af)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x4cda41['statusJidList']}};return L[_0x2ec5d6(0x275)](_0x566863),_0x447fe3;}else throw new O(_0x566863);}throw new m(_0x2ec5d6(0x4eb));}async['statusMessage'](_0x3d681a){const _0x4a7383=a0_0x500e42;return await this['sendMessageWithTyping'](_0x4a7383(0x5c5),{'status':await this[_0x4a7383(0x1c6)](_0x3d681a[_0x4a7383(0x514)])});}async[a0_0x500e42(0x4af)](_0x2aebee){const _0xc39f4c=a0_0x500e42;try{let _0x2756c3=await(0x0,y[_0xc39f4c(0x402)])({[_0x2aebee[_0xc39f4c(0x759)]]:(0x0,k['isURL'])(_0x2aebee['media'])?{'url':_0x2aebee[_0xc39f4c(0x2d9)]}:Buffer[_0xc39f4c(0x53f)](_0x2aebee[_0xc39f4c(0x2d9)],_0xc39f4c(0x6af))},{'upload':this[_0xc39f4c(0x5c3)][_0xc39f4c(0x3d1)]}),_0x4de249=_0x2aebee['mediatype']+_0xc39f4c(0x11e);if(_0x2aebee[_0xc39f4c(0x759)]==='document'&&!_0x2aebee[_0xc39f4c(0x60f)]){let _0x44d8a5=new RegExp(/.*\/(.+?)\./)[_0xc39f4c(0x6f6)](_0x2aebee[_0xc39f4c(0x2d9)]);_0x2aebee[_0xc39f4c(0x60f)]=_0x44d8a5?_0x44d8a5[0x1]:null;}let _0x5167e9=(0x0,k[_0xc39f4c(0x51d)])(_0x2aebee[_0xc39f4c(0x2d9)])?_0x2aebee[_0xc39f4c(0x2d9)][_0xc39f4c(0x516)]('?')[0x0]:_0x2aebee[_0xc39f4c(0x2d9)];this[_0xc39f4c(0x15b)]['verbose'](_0xc39f4c(0x40a)+_0x5167e9);let _0x4be275;(0x0,k[_0xc39f4c(0x51d)])(_0x2aebee[_0xc39f4c(0x2d9)])?_0x4be275=(0x0,It[_0xc39f4c(0x3e6)])(_0x5167e9):_0x2aebee[_0xc39f4c(0x60f)]&&_0x2aebee['fileName']['includes']('.')?_0x4be275=(0x0,It[_0xc39f4c(0x3e6)])(_0x2aebee['fileName']):_0x4be275=(0x0,It[_0xc39f4c(0x3e6)])(_0x2aebee['media']);let _0x22f2ef=mo,_0x81cc51=He;return _0x81cc51&&this[_0xc39f4c(0x4cc)][_0xc39f4c(0x662)]()[_0xc39f4c(0x3bd)](_0x81cc51['toLowerCase']())&&(_0x2aebee[_0xc39f4c(0x10c)]+='\x0a\x0a'+_0x22f2ef),_0x2756c3[_0x4de249][_0xc39f4c(0x10c)]=_0x2aebee?.[_0xc39f4c(0x10c)],_0x2756c3[_0x4de249][_0xc39f4c(0x2e4)]=_0x4be275,_0x2756c3[_0x4de249][_0xc39f4c(0x60f)]=_0x2aebee['fileName'],_0x2aebee[_0xc39f4c(0x759)]===_0xc39f4c(0x494)&&(_0x2756c3[_0x4de249][_0xc39f4c(0x285)]=Uint8Array[_0xc39f4c(0x53f)]((0x0,ve['readFileSync'])((0x0,F[_0xc39f4c(0x667)])(process[_0xc39f4c(0x719)](),_0xc39f4c(0x25f)))),_0x2756c3[_0x4de249]['gifPlayback']=!0x1),(0x0,y[_0xc39f4c(0x52c)])('',{[_0x4de249]:{..._0x2756c3[_0x4de249]}},{'userJid':this[_0xc39f4c(0x1de)][_0xc39f4c(0xed)]});}catch(_0x52bf01){throw this[_0xc39f4c(0x15b)][_0xc39f4c(0x478)](this['instanceName']+'\x20('+this[_0xc39f4c(0x1de)][_0xc39f4c(0xed)]+_0xc39f4c(0x221)+(_0x52bf01 instanceof Error?_0x52bf01['message']:JSON[_0xc39f4c(0x574)](_0x52bf01,null,0x2))),new O(_0x52bf01?.[_0xc39f4c(0x575)]()||_0x52bf01);}}async[a0_0x500e42(0x2a8)](_0x40848d){const _0x4d2912=a0_0x500e42;let _0x49d3fd=await this[_0x4d2912(0x4af)](_0x40848d['mediaMessage']);return await this['sendMessageWithTyping'](_0x40848d[_0x4d2912(0x51c)],{..._0x49d3fd['message']},_0x40848d?.['options']);}async[a0_0x500e42(0x676)](_0xe07e5f,_0xd2999c){const _0x5df5eb=a0_0x500e42;try{this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x225));let _0x581c03,_0xe59485=_0xd2999c+'-'+new Date()[_0x5df5eb(0x188)]();this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x247)+_0xe59485);let _0x4ce59e=''+(0x0,F['join'])(this['storePath'],_0xe59485+_0x5df5eb(0x6b4));if(this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x595)+_0x4ce59e),(0x0,k[_0x5df5eb(0x1d5)])(_0xe07e5f)){this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x588));let _0x248cf6=_0xe07e5f['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x599ab7=Buffer[_0x5df5eb(0x53f)](_0x248cf6,_0x5df5eb(0x6af));_0x581c03=''+(0x0,F['join'])(this['storePath'],'temp-'+_0xe59485+_0x5df5eb(0x62a)),this[_0x5df5eb(0x15b)]['verbose']('Image\x20path:\x20'+_0x581c03),await(0x0,xt[_0x5df5eb(0x734)])(_0x599ab7)[_0x5df5eb(0x3fe)](_0x581c03),this[_0x5df5eb(0x15b)]['verbose'](_0x5df5eb(0x308));}else{this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x5d4));let _0x5a5002=new Date()[_0x5df5eb(0x188)](),_0x545690=_0xe07e5f+_0x5df5eb(0x63b)+_0x5a5002;this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x49f)+_0x545690);let _0x154416=await se[_0x5df5eb(0x734)]['get'](_0x545690,{'responseType':_0x5df5eb(0x35e)});this[_0x5df5eb(0x15b)]['verbose'](_0x5df5eb(0x1cf));let _0x24dbcc=Buffer[_0x5df5eb(0x53f)](_0x154416[_0x5df5eb(0x1be)],'binary');_0x581c03=''+(0x0,F[_0x5df5eb(0x667)])(this['storePath'],_0x5df5eb(0x23a)+_0xe59485+_0x5df5eb(0x62a)),this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)](_0x5df5eb(0x670)+_0x581c03),await(0x0,xt['default'])(_0x24dbcc)['toFile'](_0x581c03),this['logger'][_0x5df5eb(0x261)](_0x5df5eb(0x308));}return await(0x0,xt[_0x5df5eb(0x734)])(_0x581c03)[_0x5df5eb(0x688)]()[_0x5df5eb(0x3fe)](_0x4ce59e),this['logger']['verbose'](_0x5df5eb(0x68d)),L[_0x5df5eb(0x275)](_0x581c03),this[_0x5df5eb(0x15b)][_0x5df5eb(0x261)]('Temp\x20image\x20deleted'),_0x4ce59e;}catch(_0x3397c6){console[_0x5df5eb(0x478)](_0x5df5eb(0x374),_0x3397c6 instanceof Error?_0x3397c6[_0x5df5eb(0x544)]:JSON[_0x5df5eb(0x574)](_0x3397c6,null,0x2));}}async['mediaSticker'](_0x143a1c){const _0x365f5f=a0_0x500e42;let _0x47bfaa=await this['convertToWebP'](_0x143a1c['stickerMessage']['image'],_0x143a1c[_0x365f5f(0x51c)]),_0x540f4b=await this[_0x365f5f(0x422)](_0x143a1c[_0x365f5f(0x51c)],{'sticker':{'url':_0x47bfaa}},_0x143a1c?.[_0x365f5f(0x3b6)]);return L[_0x365f5f(0x275)](_0x47bfaa),this[_0x365f5f(0x15b)]['verbose'](_0x365f5f(0x291)),_0x540f4b;}async[a0_0x500e42(0x147)](_0x5a78e1){const _0x4e2a5c=a0_0x500e42;if(this['logger']['verbose'](_0x4e2a5c(0x397)),!_0x5a78e1[_0x4e2a5c(0x3b6)]?.[_0x4e2a5c(0x45b)]&&_0x5a78e1['options']?.['encoding']!==!0x1&&(_0x5a78e1['options'][_0x4e2a5c(0x45b)]=!0x0),_0x5a78e1[_0x4e2a5c(0x3b6)]?.[_0x4e2a5c(0x45b)]){let _0x4ab2c4=await this[_0x4e2a5c(0x3ce)](_0x5a78e1['audioMessage'][_0x4e2a5c(0x740)]);if(typeof _0x4ab2c4==_0x4e2a5c(0x549)){let _0x2d7f2d=L[_0x4e2a5c(0x447)](_0x4ab2c4)[_0x4e2a5c(0x575)](_0x4e2a5c(0x6af)),_0x243a0e=this[_0x4e2a5c(0x422)](_0x5a78e1['number'],{'audio':Buffer[_0x4e2a5c(0x53f)](_0x2d7f2d,_0x4e2a5c(0x6af)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x4e2a5c(0x53a),'delay':_0x5a78e1?.[_0x4e2a5c(0x3b6)]?.[_0x4e2a5c(0x693)]});return L[_0x4e2a5c(0x275)](_0x4ab2c4),this[_0x4e2a5c(0x15b)][_0x4e2a5c(0x261)]('Converted\x20audio\x20deleted'),_0x243a0e;}else throw new O(_0x4ab2c4);}return await this[_0x4e2a5c(0x422)](_0x5a78e1['number'],{'audio':(0x0,k['isURL'])(_0x5a78e1[_0x4e2a5c(0x25d)][_0x4e2a5c(0x740)])?{'url':_0x5a78e1[_0x4e2a5c(0x25d)]['audio']}:Buffer[_0x4e2a5c(0x53f)](_0x5a78e1[_0x4e2a5c(0x25d)][_0x4e2a5c(0x740)],_0x4e2a5c(0x6af)),'ptt':!0x0,'mimetype':_0x4e2a5c(0x232)},{'presence':'recording','delay':_0x5a78e1?.[_0x4e2a5c(0x3b6)]?.[_0x4e2a5c(0x693)]});}async[a0_0x500e42(0x3ce)](_0x17fd01){const _0x4944aa=a0_0x500e42;this[_0x4944aa(0x15b)]['verbose']('Processing\x20audio');let _0x5bd5cb,_0x313639,_0x5355c6=(0x0,Me['v4'])();if(this[_0x4944aa(0x15b)]['verbose'](_0x4944aa(0x327)+_0x5355c6),(0x0,k[_0x4944aa(0x51d)])(_0x17fd01)){this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x404)),_0x313639=''+(0x0,F[_0x4944aa(0x667)])(this['storePath'],_0x5355c6+'.mp4'),_0x5bd5cb=''+(0x0,F[_0x4944aa(0x667)])(this[_0x4944aa(0x2ed)],_0x4944aa(0x23a)+_0x5355c6+'.mp3'),this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x465)+_0x313639),this[_0x4944aa(0x15b)][_0x4944aa(0x261)]('Temp\x20audio\x20path:\x20'+_0x5bd5cb);let _0x5dfd61=new Date()[_0x4944aa(0x188)](),_0x5ef8c8=_0x17fd01+_0x4944aa(0x63b)+_0x5dfd61;this['logger']['verbose'](_0x4944aa(0x4f2)+_0x5ef8c8);let _0x5a77e4=await se[_0x4944aa(0x734)][_0x4944aa(0x58c)](_0x5ef8c8,{'responseType':_0x4944aa(0x35e)});this['logger']['verbose']('Getting\x20audio\x20from\x20url'),L['writeFileSync'](_0x5bd5cb,_0x5a77e4['data']);}else{this['logger']['verbose']('Audio\x20is\x20base64'),_0x313639=''+(0x0,F[_0x4944aa(0x667)])(this[_0x4944aa(0x2ed)],_0x5355c6+'.mp4'),_0x5bd5cb=''+(0x0,F[_0x4944aa(0x667)])(this[_0x4944aa(0x2ed)],_0x4944aa(0x23a)+_0x5355c6+'.mp3'),this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x465)+_0x313639),this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x6cf)+_0x5bd5cb);let _0x37ca0b=Buffer['from'](_0x17fd01,'base64');L[_0x4944aa(0x1d9)](_0x5bd5cb,_0x37ca0b),this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x62b));}return this[_0x4944aa(0x15b)][_0x4944aa(0x261)](_0x4944aa(0x64e)),new Promise((_0x4382c2,_0xbe0122)=>{const _0x2a6bc5=_0x4944aa;(0x0,_t['exec'])(wo[_0x2a6bc5(0x734)][_0x2a6bc5(0x112)]+_0x2a6bc5(0x5ac)+_0x5bd5cb+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x313639+'\x20-y',_0x2b3e8d=>{const _0x4f9f5d=_0x2a6bc5;L[_0x4f9f5d(0x275)](_0x5bd5cb),this[_0x4f9f5d(0x15b)]['verbose'](_0x4f9f5d(0x140)),_0x2b3e8d&&_0xbe0122(_0x2b3e8d),this[_0x4f9f5d(0x15b)][_0x4f9f5d(0x261)]('Audio\x20converted\x20to\x20mp4'),_0x4382c2(_0x313639);});});}async[a0_0x500e42(0x52b)](_0x35d8f8){const _0x14580f=a0_0x500e42;let _0x12d303={},_0x5ca6f3=_0x14580f(0x162);if(_0x35d8f8[_0x14580f(0x52b)]?.['mediaMessage']){_0x5ca6f3=_0x35d8f8[_0x14580f(0x52b)][_0x14580f(0x2a8)]?.['mediatype'][_0x14580f(0x233)]()??'TEXT',_0x12d303[_0x14580f(0x4d3)]=_0x5ca6f3[_0x14580f(0x662)]()+_0x14580f(0x11e);let _0x4ec384=await this[_0x14580f(0x4af)](_0x35d8f8[_0x14580f(0x52b)][_0x14580f(0x2a8)]);_0x12d303[_0x14580f(0x544)]=_0x4ec384[_0x14580f(0x544)][_0x12d303[_0x14580f(0x4d3)]],_0x12d303[_0x14580f(0x5f9)]='*'+_0x35d8f8['buttonMessage'][_0x14580f(0x5ca)]+_0x14580f(0x627)+_0x35d8f8[_0x14580f(0x52b)][_0x14580f(0x256)];}let _0x284e4e={'text':_0x35d8f8['buttonMessage'][_0x14580f(0x723)]['map'](_0x39a1bc=>_0x39a1bc['buttonText']),'ids':_0x35d8f8[_0x14580f(0x52b)][_0x14580f(0x723)][_0x14580f(0x306)](_0x12e6ca=>_0x12e6ca[_0x14580f(0x6a7)])};if(!(0x0,k[_0x14580f(0x600)])(_0x284e4e[_0x14580f(0x738)])||!(0x0,k[_0x14580f(0x600)])(_0x284e4e[_0x14580f(0x609)]))throw new m(_0x14580f(0x36e),_0x14580f(0x437));return await this[_0x14580f(0x422)](_0x35d8f8[_0x14580f(0x51c)],{'buttonsMessage':{'text':_0x12d303?.[_0x14580f(0x4d3)]?void 0x0:_0x35d8f8[_0x14580f(0x52b)][_0x14580f(0x5ca)],'contentText':_0x12d303?.[_0x14580f(0x5f9)]??_0x35d8f8['buttonMessage'][_0x14580f(0x256)],'footerText':_0x35d8f8[_0x14580f(0x52b)]?.['footerText'],'buttons':_0x35d8f8[_0x14580f(0x52b)]['buttons'][_0x14580f(0x306)](_0x168f12=>({'buttonText':{'displayText':_0x168f12[_0x14580f(0x21f)]},'buttonId':_0x168f12[_0x14580f(0x6a7)],'type':0x1})),'headerType':y['proto'][_0x14580f(0x11e)][_0x14580f(0x5db)][_0x14580f(0x179)][_0x5ca6f3],[_0x12d303?.[_0x14580f(0x4d3)]]:_0x12d303?.['message']}},_0x35d8f8?.[_0x14580f(0x3b6)]);}async['locationMessage'](_0x329759){const _0x56d21b=a0_0x500e42;return await this[_0x56d21b(0x422)](_0x329759[_0x56d21b(0x51c)],{'locationMessage':{'degreesLatitude':_0x329759[_0x56d21b(0x11a)][_0x56d21b(0x674)],'degreesLongitude':_0x329759[_0x56d21b(0x11a)][_0x56d21b(0x109)],'name':_0x329759[_0x56d21b(0x11a)]?.[_0x56d21b(0x46b)],'address':_0x329759[_0x56d21b(0x11a)]?.['address']}},_0x329759?.[_0x56d21b(0x3b6)]);}async[a0_0x500e42(0x117)](_0x1dde4b){const _0x6e5855=a0_0x500e42;let _0x3189d7={},_0x2bcf0b=_0x2efdfc=>{const _0x2c4fbd=a0_0x3d52;let _0x3983c7=_0x2c4fbd(0x243)+_0x2efdfc['fullName']+_0x2c4fbd(0x4cf)+_0x2efdfc['fullName']+'\x0a';_0x2efdfc[_0x2c4fbd(0x199)]&&(_0x3983c7+=_0x2c4fbd(0x351)+_0x2efdfc['organization']+';\x0a'),_0x2efdfc[_0x2c4fbd(0x2a9)]&&(_0x3983c7+='EMAIL:'+_0x2efdfc['email']+'\x0a'),_0x2efdfc['url']&&(_0x3983c7+=_0x2c4fbd(0x491)+_0x2efdfc[_0x2c4fbd(0x124)]+'\x0a');let _0x2d1123='';return _0x2efdfc[_0x2c4fbd(0x388)]&&_0x2efdfc[_0x2c4fbd(0x388)][_0x2c4fbd(0x516)]('|')[_0x2c4fbd(0x20c)]((_0x3ef1b1,_0x337c1d)=>{const _0x35d0e1=_0x2c4fbd;let _0x51baaa=this['createJid'](_0x3ef1b1)[_0x35d0e1(0x26c)]('@s.whatsapp.net','');_0x2d1123+='item'+(_0x337c1d+0x1)+_0x35d0e1(0x710)+_0x51baaa+':'+_0x3ef1b1+_0x35d0e1(0x672)+(_0x337c1d+0x1)+'.X-ABLabel:Celular\x0a';}),_0x3983c7+=_0x2d1123+'END:VCARD',_0x3983c7;};return _0x1dde4b['contactMessage'][_0x6e5855(0x210)]===0x1?_0x3189d7[_0x6e5855(0x117)]={'displayName':_0x1dde4b[_0x6e5855(0x117)][0x0][_0x6e5855(0x4a4)],'vcard':_0x2bcf0b(_0x1dde4b[_0x6e5855(0x117)][0x0])}:_0x3189d7[_0x6e5855(0x67e)]={'displayName':_0x1dde4b[_0x6e5855(0x117)]['length']+_0x6e5855(0x5b0),'contacts':_0x1dde4b[_0x6e5855(0x117)][_0x6e5855(0x306)](_0x5194e9=>({'displayName':_0x5194e9['fullName'],'vcard':_0x2bcf0b(_0x5194e9)}))},await this[_0x6e5855(0x422)](_0x1dde4b['number'],{..._0x3189d7},_0x1dde4b?.[_0x6e5855(0x3b6)]);}async[a0_0x500e42(0x4cb)](_0x4fcbe6){const _0x1579f8=a0_0x500e42;return await this[_0x1579f8(0x422)](_0x4fcbe6[_0x1579f8(0x4cb)][_0x1579f8(0x659)][_0x1579f8(0x4e5)],{'reactionMessage':{'key':_0x4fcbe6[_0x1579f8(0x4cb)]['key'],'text':_0x4fcbe6[_0x1579f8(0x4cb)][_0x1579f8(0x5f3)]}});}async[a0_0x500e42(0x27b)](_0x5b584e){const _0xee79d=a0_0x500e42;let _0x42f796=[];for await(let _0x239711 of _0x5b584e[_0xee79d(0x14f)]){let _0x243ce5=this[_0xee79d(0x5a8)](_0x239711),_0x636acb=!0x1;try{if((0x0,y[_0xee79d(0x19c)])(_0x243ce5)){let _0x422691=await this[_0xee79d(0x4cd)]({'groupJid':_0x243ce5},_0xee79d(0x6f4));_0x42f796[_0xee79d(0x6e6)](new me(_0x422691[_0xee79d(0x1bc)]['id'],!!_0x422691?.['metadata']['id'],_0x422691?.['metadata'][_0xee79d(0x504)])),_0x636acb=!!_0x422691?.[_0xee79d(0x1bc)]['id'];}else{let _0x10bce4=(await this[_0xee79d(0x5c3)][_0xee79d(0x5c2)](_0x243ce5))[0x0];_0x42f796['push'](new me(_0x10bce4[_0xee79d(0x59b)],_0x10bce4[_0xee79d(0x499)])),_0x636acb=_0x10bce4[_0xee79d(0x499)];}}catch{await this[_0xee79d(0x543)](_0x243ce5,_0x636acb),_0x42f796[_0xee79d(0x6e6)](new me(_0x239711,!0x1));}}return _0x42f796;}async[a0_0x500e42(0x543)](_0x16bb97,_0x5e2ff3){const _0x4cfc18=a0_0x500e42;try{await this[_0x4cfc18(0x578)][_0x4cfc18(0x6fe)]['findOne']({'where':{'_id':_0x16bb97,'imported':!0x0}},this['instance'][_0x4cfc18(0xed)])&&(_0x5e2ff3||(await this[_0x4cfc18(0x578)][_0x4cfc18(0x6fe)][_0x4cfc18(0x41b)](_0x16bb97,this[_0x4cfc18(0x1de)]['wuid']),console['log'](_0x4cfc18(0x3bb)+_0x16bb97+_0x4cfc18(0x56d))));}catch(_0x330c84){console[_0x4cfc18(0x478)](_0x4cfc18(0x11f),_0x330c84);}}async['markMessageAsRead'](_0x1ae4e3){const _0x174c0b=a0_0x500e42;try{let _0x20f626=_0x1ae4e3['readMessages'][_0x174c0b(0x5e7)](_0x182be5=>(0x0,y['isJidGroup'])(_0x182be5[_0x174c0b(0x4e5)])||(0x0,y[_0x174c0b(0x44b)])(_0x182be5[_0x174c0b(0x4e5)]))[_0x174c0b(0x306)](_0x7c737e=>({'remoteJid':_0x7c737e['remoteJid'],'fromMe':_0x7c737e[_0x174c0b(0x24d)],'id':_0x7c737e['id']}));await this[_0x174c0b(0x5c3)][_0x174c0b(0x635)](_0x20f626);let _0x3158fd=_0x20f626[_0x174c0b(0x306)](_0x1fdd1d=>this['updateMessage'](_0x1fdd1d,{'status':_0x174c0b(0x1fd),'owner':this['instance'][_0x174c0b(0xed)]})),_0x1dfbbe=_0x20f626[_0x174c0b(0x306)](_0x1c0b78=>this[_0x174c0b(0x578)][_0x174c0b(0x6fe)][_0x174c0b(0x33a)]({'where':{'_id':_0x1c0b78[_0x174c0b(0x4e5)]}},{'unreadcount':0x0},this[_0x174c0b(0x1de)][_0x174c0b(0xed)])),[_0x366fb4,_0x51d5c8]=await Promise[_0x174c0b(0x5f8)]([Promise['all'](_0x3158fd),Promise[_0x174c0b(0x5f8)](_0x1dfbbe)]);return _0x51d5c8[_0x174c0b(0x5e7)](_0x334892=>_0x334892!==null)[_0x174c0b(0x20c)](_0x44211d=>{const _0x17ae78=_0x174c0b;J(this[_0x17ae78(0x4cc)],'chats',{'chat':_0x44211d});}),{'message':_0x174c0b(0x3ec),'read':_0x174c0b(0x262)};}catch(_0x4fa563){throw console[_0x174c0b(0x478)](_0x174c0b(0x4ae),_0x4fa563),new O('Read\x20messages\x20fail',_0x4fa563['toString']());}}async[a0_0x500e42(0x471)](_0x11e607){const _0x50c828=a0_0x500e42;let _0x46ba61={'where':{'key':{'remoteJid':_0x11e607}},'limit':0x1},_0x5142fb=await this[_0x50c828(0x2e5)](_0x46ba61);return _0x5142fb||(console[_0x50c828(0x478)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x11e607),null);}async[a0_0x500e42(0x212)](_0x32f9c4){const _0x1cfa0f=a0_0x500e42;this[_0x1cfa0f(0x15b)]['verbose'](_0x1cfa0f(0x1bd));try{let _0x5be648=_0x32f9c4['lastMessage'],_0x34dd4e=_0x32f9c4[_0x1cfa0f(0x6fe)];if(!_0x5be648&&_0x34dd4e?_0x5be648=await this[_0x1cfa0f(0x471)](_0x34dd4e):(_0x5be648=_0x32f9c4[_0x1cfa0f(0x23c)],_0x5be648[_0x1cfa0f(0x75e)]=_0x5be648?.[_0x1cfa0f(0x75e)]??Date[_0x1cfa0f(0x5e2)](),_0x34dd4e=_0x5be648?.[_0x1cfa0f(0x659)]?.[_0x1cfa0f(0x4e5)]),!_0x5be648||Object[_0x1cfa0f(0x126)](_0x5be648)[_0x1cfa0f(0x210)]===0x0)throw new j(_0x1cfa0f(0x27d));this['logger'][_0x1cfa0f(0x261)](_0x1cfa0f(0x277)+_0x34dd4e);try{await this[_0x1cfa0f(0x5c3)]['chatModify']({'archive':_0x32f9c4[_0x1cfa0f(0x133)],'lastMessages':[_0x5be648]},this['createJid'](_0x34dd4e));}catch(_0x36356f){this[_0x1cfa0f(0x15b)][_0x1cfa0f(0x478)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x34dd4e+':\x20'+_0x36356f['toString']());}this[_0x1cfa0f(0x15b)]['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x34dd4e);let _0x257bb2=await this[_0x1cfa0f(0x578)][_0x1cfa0f(0x6fe)][_0x1cfa0f(0x33a)]({'where':{'_id':_0x5be648?.[_0x1cfa0f(0x659)]?.['remoteJid']}},{'archived':_0x32f9c4[_0x1cfa0f(0x133)]},this[_0x1cfa0f(0x1de)][_0x1cfa0f(0xed)]);return _0x257bb2?(this[_0x1cfa0f(0x15b)][_0x1cfa0f(0x261)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x1cfa0f(0x574)](_0x257bb2)),J(this[_0x1cfa0f(0x4cc)],_0x1cfa0f(0x630),{'chat':_0x257bb2})):this[_0x1cfa0f(0x15b)][_0x1cfa0f(0x478)](_0x1cfa0f(0x398)+_0x34dd4e),{'chatId':_0x34dd4e,'archived':_0x32f9c4[_0x1cfa0f(0x133)]};}catch(_0x1928f5){throw this[_0x1cfa0f(0x15b)][_0x1cfa0f(0x478)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x1928f5['toString']()),new O({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1928f5[_0x1cfa0f(0x575)]()]});}}async[a0_0x500e42(0x128)](_0x41187b){const _0x13bf9d=a0_0x500e42;try{let _0x4e7ac2=await this[_0x13bf9d(0x5c3)][_0x13bf9d(0x384)](_0x41187b[_0x13bf9d(0x4e5)],{'delete':_0x41187b});try{let _0x46316c=await this['updateMessage'](_0x41187b,{'status':_0x13bf9d(0x254),'owner':this[_0x13bf9d(0x1de)][_0x13bf9d(0xed)]});this[_0x13bf9d(0x15b)][_0x13bf9d(0x261)](this[_0x13bf9d(0x4cc)]+'\x20('+this[_0x13bf9d(0x1de)][_0x13bf9d(0xed)]+_0x13bf9d(0xf3)+_0x46316c);}catch(_0x5d23cf){console[_0x13bf9d(0x478)](_0x13bf9d(0x25c),_0x5d23cf);}return _0x4e7ac2;}catch(_0x5bd114){throw new O(_0x13bf9d(0x2c9),_0x5bd114?.[_0x13bf9d(0x575)]());}}async[a0_0x500e42(0x68f)](_0x723131){const _0xaa8dc8=a0_0x500e42;try{let _0x230986=_0x723131?.[_0xaa8dc8(0x544)]?_0x723131:await this['getMessage'](_0x723131['key'],!0x0);for(let _0x1c1350 of pa)_0x230986[_0xaa8dc8(0x544)][_0x1c1350]&&(_0x230986[_0xaa8dc8(0x544)]=_0x230986['message'][_0x1c1350][_0xaa8dc8(0x544)]);let _0x5042b0,_0x1d33b9;for(let _0xd56a6c of da)if(_0x5042b0=_0x230986[_0xaa8dc8(0x544)][_0xd56a6c],_0x5042b0){_0x1d33b9=_0xd56a6c;break;}if(!_0x5042b0)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x5042b0[_0xaa8dc8(0x4d3)]==_0xaa8dc8(0x74a)&&(_0x230986['message']=JSON[_0xaa8dc8(0x3fb)](JSON['stringify'](_0x230986['message'])));let _0x32ec83=await(0x0,y[_0xaa8dc8(0x4dc)])({'key':_0x230986?.[_0xaa8dc8(0x659)],'message':_0x230986?.[_0xaa8dc8(0x544)]},'buffer',{},{'logger':(0x0,Ot[_0xaa8dc8(0x734)])({'level':'silent'}),'reuploadRequest':this[_0xaa8dc8(0x5c3)]['updateMediaMessage']});if(!(_0x32ec83 instanceof Buffer))throw new Error(_0xaa8dc8(0x282));let _0x45a64c=this[_0xaa8dc8(0x216)]['get'](_0xaa8dc8(0x33d)),_0x47897d,_0x3ac2a2;if(_0x5042b0[_0xaa8dc8(0x60f)])_0x47897d=_0x5042b0[_0xaa8dc8(0x60f)];else{let _0x149089=_0x5042b0[_0xaa8dc8(0x2e4)]?.[_0xaa8dc8(0x71c)](/\/(\w+)/),_0x271219=_0x149089?_0x149089[0x1]:null;if(!_0x271219)throw new Error(_0xaa8dc8(0x192));_0x47897d=(0x0,Me['v4'])()+'.'+_0x271219;}_0x1d33b9==='audioMessage'&&_0x5042b0[_0xaa8dc8(0x2e4)]===_0xaa8dc8(0x644)?(_0x47897d=(0x0,Me['v4'])()+_0xaa8dc8(0x169),_0x3ac2a2=_0xaa8dc8(0x28b)+await this[_0xaa8dc8(0x3ce)](_0x32ec83[_0xaa8dc8(0x575)](_0xaa8dc8(0x6af)))):(await this[_0xaa8dc8(0x66d)](_0x32ec83,_0x47897d),_0x3ac2a2=_0xaa8dc8(0x28b)+_0x47897d);let _0x1ca1ee=this[_0xaa8dc8(0x216)][_0xaa8dc8(0x58c)](_0xaa8dc8(0x429))[_0xaa8dc8(0x342)];if(!_0x1ca1ee){let _0x135318=this[_0xaa8dc8(0x216)][_0xaa8dc8(0x58c)](_0xaa8dc8(0x42a));_0x1ca1ee='https://'+(_0x135318&&_0x135318['FULLCHAIN'][_0xaa8dc8(0x516)]('/')[0x4]);}_0x3ac2a2=''+_0x1ca1ee+_0x3ac2a2;let _0x1ad683=0xc*0x3c*0x3c*0x3e8,_0x2b49e2={'where':{'_id':_0x230986[_0xaa8dc8(0x659)]['id']}},_0x49cbb7={'message_normalized.fileUrl':_0x3ac2a2,'message_normalized.expires_fileUrl':Date[_0xaa8dc8(0x5e2)]()+_0x1ad683};try{let _0x95da91=await this[_0xaa8dc8(0x578)]['message'][_0xaa8dc8(0x349)](_0x2b49e2,_0x49cbb7,this['instance'][_0xaa8dc8(0xed)]);_0x95da91&&J(this[_0xaa8dc8(0x4cc)],_0xaa8dc8(0x164),{'message':_0x95da91});}catch(_0x12f547){this[_0xaa8dc8(0x15b)][_0xaa8dc8(0x478)](this[_0xaa8dc8(0x4cc)]+'\x20('+this[_0xaa8dc8(0x1de)][_0xaa8dc8(0xed)]+_0xaa8dc8(0x221)+(_0x12f547 instanceof Error?_0x12f547[_0xaa8dc8(0x544)]:JSON['stringify'](_0x12f547,null,0x2)));}return{'mediaType':_0x1d33b9,'fileName':_0x5042b0[_0xaa8dc8(0x60f)],'caption':_0x5042b0[_0xaa8dc8(0x10c)],'size':{'fileLength':_0x5042b0[_0xaa8dc8(0x31c)],'height':_0x5042b0[_0xaa8dc8(0x731)],'width':_0x5042b0[_0xaa8dc8(0x33b)]},'mimetype':_0x5042b0[_0xaa8dc8(0x2e4)],'base64':_0x32ec83['toString'](_0xaa8dc8(0x6af)),'fileUrl':_0x3ac2a2,'expires_fileUrl':Date[_0xaa8dc8(0x5e2)]()+_0x1ad683};}catch(_0x3b5166){throw this[_0xaa8dc8(0x15b)][_0xaa8dc8(0x478)](this[_0xaa8dc8(0x4cc)]+'\x20('+this[_0xaa8dc8(0x1de)][_0xaa8dc8(0xed)]+_0xaa8dc8(0x221)+(_0x3b5166 instanceof Error?_0x3b5166[_0xaa8dc8(0x544)]:JSON['stringify'](_0x3b5166,null,0x2))),new m(_0x3b5166[_0xaa8dc8(0x575)]());}}async[a0_0x500e42(0x66d)](_0x4ec872,_0x34f656){const _0x1c01d4=a0_0x500e42;let _0x835b69=F[_0x1c01d4(0x734)][_0x1c01d4(0x667)](__dirname,'downloads');L[_0x1c01d4(0x3a4)](_0x835b69)||L[_0x1c01d4(0x2f7)](_0x835b69,{'recursive':!0x0});let _0x3a497b=F[_0x1c01d4(0x734)][_0x1c01d4(0x667)](_0x835b69,_0x34f656);return new Promise((_0x35d5e4,_0x503f9d)=>{const _0x82ac56=_0x1c01d4;L[_0x82ac56(0x2cc)](_0x3a497b,_0x4ec872,_0x2fe882=>{const _0x571087=_0x82ac56;_0x2fe882?(this['logger'][_0x571087(0x478)](_0x571087(0x4a5)+(_0x2fe882 instanceof Error?_0x2fe882[_0x571087(0x544)]:JSON['stringify'](_0x2fe882,null,0x2))),_0x503f9d(_0x2fe882)):(this[_0x571087(0x15b)][_0x571087(0x44e)](_0x571087(0x38f)+_0x3a497b),_0x35d5e4(_0x3a497b));});});}async[a0_0x500e42(0x1ba)](_0x362059){const _0x2f5fa9=a0_0x500e42;return await this[_0x2f5fa9(0x578)]['contact'][_0x2f5fa9(0x524)](_0x362059,this[_0x2f5fa9(0x1de)][_0x2f5fa9(0xed)]);}async[a0_0x500e42(0x166)](){const _0x37a57e=a0_0x500e42;return await this[_0x37a57e(0x578)][_0x37a57e(0x4a3)][_0x37a57e(0x524)]({'where':{}},this['instance'][_0x37a57e(0xed)]);}async['fetchMessages'](_0x3e57aa){const _0x3804fb=a0_0x500e42;return await this['repository']['message'][_0x3804fb(0x524)](_0x3e57aa,this[_0x3804fb(0x1de)][_0x3804fb(0xed)]);}async[a0_0x500e42(0x208)](){const _0x246cec=a0_0x500e42;return this[_0x246cec(0x578)][_0x246cec(0x6fe)][_0x246cec(0x4b6)](this[_0x246cec(0x1de)][_0x246cec(0xed)]),this[_0x246cec(0x578)][_0x246cec(0x6fe)]['updateMissingEtiquetas'](this[_0x246cec(0x1de)][_0x246cec(0xed)]),this[_0x246cec(0x578)][_0x246cec(0x6fe)][_0x246cec(0x205)](this[_0x246cec(0x1de)][_0x246cec(0xed)]),this[_0x246cec(0x578)][_0x246cec(0x6fe)]['updateMissingCustomFields'](this[_0x246cec(0x1de)]['wuid']),await this[_0x246cec(0x578)][_0x246cec(0x6fe)][_0x246cec(0x524)]({'where':{}},this[_0x246cec(0x1de)][_0x246cec(0xed)]);}async['importChatsAntigo'](_0x37f736){const _0x36fd12=a0_0x500e42;try{if(!Array[_0x36fd12(0x6fa)](_0x37f736)||_0x37f736[_0x36fd12(0x210)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x4f9947=[],_0x377aab=[];for(let _0x34ee4f of _0x37f736){if(_0x34ee4f[_0x36fd12(0x173)])_0x34ee4f[_0x36fd12(0x173)]=this['createJid'](_0x34ee4f[_0x36fd12(0x173)]);else continue;await this['repository'][_0x36fd12(0x6fe)]['findOne']({'where':{'_id':_0x34ee4f[_0x36fd12(0x173)]}},this[_0x36fd12(0x1de)][_0x36fd12(0xed)])?_0x377aab[_0x36fd12(0x6e6)]({'_id':_0x34ee4f[_0x36fd12(0x173)],'leadInfo':_0x34ee4f[_0x36fd12(0x546)],'owner':this['instance'][_0x36fd12(0xed)]}):_0x4f9947[_0x36fd12(0x6e6)]({'_id':_0x34ee4f['_id'],'owner':this[_0x36fd12(0x1de)][_0x36fd12(0xed)],'leadInfo':_0x34ee4f[_0x36fd12(0x546)],'imported':!0x0});}return _0x377aab['length']>0x0&&await this[_0x36fd12(0x578)]['chat']['updateMany'](_0x377aab['map'](_0x2e3c8b=>({'query':{'where':{'_id':_0x2e3c8b['_id'],'owner':this[_0x36fd12(0x1de)][_0x36fd12(0xed)]}},'update':_0x2e3c8b}))),_0x4f9947[_0x36fd12(0x210)]>0x0&&await this['repository'][_0x36fd12(0x6fe)][_0x36fd12(0x37e)](_0x4f9947,this['instance']['wuid']),{'updated':_0x377aab[_0x36fd12(0x210)],'inserted':_0x4f9947[_0x36fd12(0x210)]};}catch(_0x1cd02c){throw console['error'](_0x36fd12(0x521),_0x1cd02c),_0x1cd02c;}}async[a0_0x500e42(0x6b9)](_0x10a0ed){const _0x3710e4=a0_0x500e42;try{if(!Array[_0x3710e4(0x6fa)](_0x10a0ed)||_0x10a0ed[_0x3710e4(0x210)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x5d32ce=0x64,_0x4ebf1a=0x0;for(let _0x111180=0x0;_0x111180<_0x10a0ed[_0x3710e4(0x210)];_0x111180+=_0x5d32ce){let _0x2d1ad9=_0x10a0ed[_0x3710e4(0x5ad)](_0x111180,_0x111180+_0x5d32ce),{updated:_0x1ab5e5}=await this[_0x3710e4(0x6f7)](_0x2d1ad9);_0x4ebf1a+=_0x1ab5e5;}return{'updated':_0x4ebf1a};}catch(_0x4fee34){throw console[_0x3710e4(0x478)](_0x3710e4(0x521),_0x4fee34),_0x4fee34;}}async[a0_0x500e42(0x6f7)](_0x5acdca){const _0x1429d0=a0_0x500e42;try{let _0x5e0535=await this[_0x1429d0(0x578)][_0x1429d0(0x4a3)][_0x1429d0(0x524)]({'where':{}},this[_0x1429d0(0x1de)]['wuid']),_0xdebd8d=new Set(_0x5e0535[_0x1429d0(0x306)](_0x1b4480=>_0x1b4480[_0x1429d0(0x173)])),_0x47b4c7=[],_0x156599=[];for(let _0x57aad5 of _0x5acdca){if(!_0x57aad5[_0x1429d0(0x173)])continue;_0x57aad5[_0x1429d0(0x173)]=this[_0x1429d0(0x5a8)](_0x57aad5[_0x1429d0(0x173)]);let _0x58f208=await this[_0x1429d0(0x578)][_0x1429d0(0x6fe)][_0x1429d0(0x177)]({'where':{'_id':_0x57aad5[_0x1429d0(0x173)]}},this[_0x1429d0(0x1de)][_0x1429d0(0xed)]),_0x20169e={};if(Object[_0x1429d0(0x125)](_0x57aad5[_0x1429d0(0x546)])['forEach'](([_0x416254,_0x387c6a])=>{const _0x31c0fe=_0x1429d0;_0x20169e[_0x31c0fe(0x222)+_0x416254]=_0x387c6a;}),_0x58f208&&!_0x58f208[_0x1429d0(0x194)]){let _0x2b2382=(_0x57aad5['leadInfo']['etiquetas']||[])[_0x1429d0(0x5e7)](_0xc79e54=>_0xdebd8d[_0x1429d0(0x180)](_0xc79e54)),_0x43fbfd=new Set(_0x58f208[_0x1429d0(0x546)][_0x1429d0(0x67b)]||[]),_0x2bbf59=_0x2b2382[_0x1429d0(0x5e7)](_0x1d5d52=>!_0x43fbfd[_0x1429d0(0x180)](_0x1d5d52)),_0x19ddae=[..._0x43fbfd][_0x1429d0(0x5e7)](_0x2d1ab=>!_0x2b2382['includes'](_0x2d1ab));_0x156599[_0x1429d0(0x6e6)](..._0x2bbf59['map'](_0x1c7127=>this[_0x1429d0(0x16e)](_0x1c7127,_0x57aad5[_0x1429d0(0x173)]))),_0x156599[_0x1429d0(0x6e6)](..._0x19ddae[_0x1429d0(0x306)](_0x267f01=>this[_0x1429d0(0x4f9)](_0x267f01,_0x57aad5[_0x1429d0(0x173)]))),_0x57aad5[_0x1429d0(0x546)][_0x1429d0(0x67b)]=_0x2b2382,_0x47b4c7[_0x1429d0(0x6e6)]({'query':{'where':{'_id':_0x57aad5[_0x1429d0(0x173)],'owner':this[_0x1429d0(0x1de)][_0x1429d0(0xed)]}},'update':_0x20169e});}else _0x20169e[_0x1429d0(0x194)]=!0x0,_0x47b4c7[_0x1429d0(0x6e6)]({'query':{'where':{'_id':_0x57aad5[_0x1429d0(0x173)],'owner':this[_0x1429d0(0x1de)]['wuid']}},'update':_0x20169e});}let _0x493430=await this['repository']['chat'][_0x1429d0(0x10e)](_0x47b4c7);return await Promise['all'](_0x156599),{'updated':_0x493430};}catch(_0x50cdf9){throw console[_0x1429d0(0x478)](_0x1429d0(0x521),_0x50cdf9),_0x50cdf9;}}async['fetchPrivacySettings'](){const _0xd48e39=a0_0x500e42;return await this[_0xd48e39(0x5c3)][_0xd48e39(0x341)]();}async[a0_0x500e42(0x581)](_0x574826){const _0x26fe07=a0_0x500e42;try{return await this[_0x26fe07(0x5c3)]['updateReadReceiptsPrivacy'](_0x574826[_0x26fe07(0x6bb)]['readreceipts']),await this[_0x26fe07(0x5c3)][_0x26fe07(0x47d)](_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x22a)]),await this[_0x26fe07(0x5c3)][_0x26fe07(0x2c6)](_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x34d)]),await this[_0x26fe07(0x5c3)][_0x26fe07(0x286)](_0x574826['privacySettings'][_0x26fe07(0x5e4)]),await this[_0x26fe07(0x5c3)]['updateLastSeenPrivacy'](_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x2f2)]),await this['client'][_0x26fe07(0x61e)](_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x22b)]),this[_0x26fe07(0x5c3)]?.['ws']?.['close'](),{'update':_0x26fe07(0x262),'data':{'readreceipts':_0x574826[_0x26fe07(0x6bb)]['readreceipts'],'profile':_0x574826[_0x26fe07(0x6bb)]['profile'],'status':_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x34d)],'online':_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x5e4)],'last':_0x574826[_0x26fe07(0x6bb)][_0x26fe07(0x2f2)],'groupadd':_0x574826[_0x26fe07(0x6bb)]['groupadd']}};}catch(_0x3a31f6){throw new O('Error\x20updating\x20privacy\x20settings',_0x3a31f6[_0x26fe07(0x575)]());}}async['fetchProfile2'](_0x56eaca){const _0x3d5e4c=a0_0x500e42;let _0x4ae08f=_0x56eaca?this[_0x3d5e4c(0x5a8)](_0x56eaca):this['client']?.[_0x3d5e4c(0x705)]?.['id'];this[_0x3d5e4c(0x15b)][_0x3d5e4c(0x261)](_0x3d5e4c(0x6dc)+_0x4ae08f);try{if(this['logger'][_0x3d5e4c(0x261)](_0x3d5e4c(0x16c)),_0x56eaca){let _0x59e536=(await this['whatsappNumber']({'numbers':[_0x4ae08f]}))?.[_0x3d5e4c(0x33f)](),_0x18ae9a=await this[_0x3d5e4c(0x3f9)](_0x59e536?.[_0x3d5e4c(0x59b)]),_0xde93ce=await this['getStatus'](_0x59e536?.[_0x3d5e4c(0x59b)]),_0x5be124=await this['fetchBusinessProfile'](_0x59e536?.[_0x3d5e4c(0x59b)]);return{'wuid':_0x59e536?.[_0x3d5e4c(0x59b)]||_0x4ae08f,'name':_0x59e536?.['name'],'numberExists':_0x59e536?.[_0x3d5e4c(0x499)],'picture':_0x18ae9a?.['profilePictureUrl'],'status':_0xde93ce?.['status'],'isBusiness':_0x5be124['isBusiness'],'email':_0x5be124?.['email'],'description':_0x5be124?.[_0x3d5e4c(0x256)],'website':_0x5be124?.[_0x3d5e4c(0x1c9)]?.[_0x3d5e4c(0x33f)]()};}}catch{return this['logger']['verbose']('Profile\x20not\x20found'),{'wuid':_0x4ae08f,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x5c58f1){const _0x431317=a0_0x500e42;let _0x222521=(_0x5c58f1?this[_0x431317(0x5a8)](_0x5c58f1):this['client']?.[_0x431317(0x705)]?.['id'])[_0x431317(0x26c)](/:\d{1,2}@/g,'@');this['logger'][_0x431317(0x261)](_0x431317(0x583)+_0x222521);let _0x111c63=await this[_0x431317(0x578)][_0x431317(0x3c1)][_0x431317(0x177)]({'where':{'_id':_0x222521}},this['instance'][_0x431317(0xed)]),_0x146afc=_0x111c63?_0x111c63[_0x431317(0x74e)]:null;try{let _0x8c9343=(await this[_0x431317(0x27b)]({'numbers':[_0x222521]}))?.[_0x431317(0x33f)](),_0x56aebc=await this['profilePicture'](_0x8c9343?.[_0x431317(0x59b)]),_0x48c9b5=await this['getStatus'](_0x8c9343?.[_0x431317(0x59b)]),_0x229343=await this[_0x431317(0x32c)](_0x8c9343?.[_0x431317(0x59b)]),_0x1232d2=await this[_0x431317(0x578)][_0x431317(0x6fe)][_0x431317(0x177)]({'where':{'_id':_0x222521}},this[_0x431317(0x1de)][_0x431317(0xed)]),_0x56c6bd={'imagechat':_0x56aebc?.[_0x431317(0x5cb)],'contactname':_0x146afc||null,'status':_0x48c9b5?.['status'],'isBusiness':_0x229343[_0x431317(0x20f)],'email':_0x229343?.[_0x431317(0x2a9)],'description':_0x229343?.[_0x431317(0x256)],'website':_0x229343?.[_0x431317(0x1c9)]?.['shift'](),'lastcache':Date['now'](),'imported':!_0x1232d2},_0x825cec=await this[_0x431317(0x578)][_0x431317(0x6fe)][_0x431317(0x33a)]({'where':{'_id':_0x222521}},_0x56c6bd,this[_0x431317(0x1de)][_0x431317(0xed)]),_0x1329d2={'owner':this[_0x431317(0x1de)][_0x431317(0xed)],'_id':_0x222521,'profilePictureUrl':_0x56aebc?.[_0x431317(0x5cb)],'status':_0x48c9b5?.[_0x431317(0x34d)]};return this[_0x431317(0x578)][_0x431317(0x3c1)]['update']([_0x1329d2],this[_0x431317(0x1de)]['wuid']),_0x825cec&&J(this[_0x431317(0x4cc)],_0x431317(0x630),{'chat':_0x825cec}),{'wuid':_0x8c9343?.[_0x431317(0x59b)]||_0x222521,'name':_0x8c9343?.[_0x431317(0x46b)],'numberExists':_0x8c9343?.[_0x431317(0x499)],'picture':_0x56aebc?.[_0x431317(0x5cb)],'status':_0x48c9b5?.[_0x431317(0x34d)],'isBusiness':_0x229343[_0x431317(0x20f)],'email':_0x229343?.['email'],'description':_0x229343?.[_0x431317(0x256)],'website':_0x229343?.['website']?.['shift']()};}catch(_0x1b2033){return this[_0x431317(0x15b)][_0x431317(0x478)](_0x431317(0x11d)+(_0x1b2033 instanceof Error?_0x1b2033[_0x431317(0x544)]:JSON[_0x431317(0x574)](_0x1b2033,null,0x2))),{};}}async[a0_0x500e42(0x32c)](_0x1d82fc){const _0x3d701e=a0_0x500e42;this[_0x3d701e(0x15b)][_0x3d701e(0x261)](_0x3d701e(0x6ee));try{let _0x91b5f8=_0x1d82fc?this['createJid'](_0x1d82fc):this[_0x3d701e(0x1de)]['wuid'],_0x3683bf=await this[_0x3d701e(0x5c3)][_0x3d701e(0x6f0)](_0x91b5f8);return this[_0x3d701e(0x15b)][_0x3d701e(0x261)](_0x3d701e(0x32f)),_0x3683bf?(this[_0x3d701e(0x15b)][_0x3d701e(0x261)](_0x3d701e(0x34e)),{'isBusiness':!0x0,..._0x3683bf}):{'isBusiness':!0x1,'message':_0x3d701e(0x3e9),...(await this['whatsappNumber']({'numbers':[_0x91b5f8]}))?.[_0x3d701e(0x33f)]()};}catch(_0xdb7b03){throw new O(_0x3d701e(0x426),_0xdb7b03[_0x3d701e(0x575)]());}}async['getStatus'](_0x68302a){const _0x52f0fe=a0_0x500e42;let _0x544420=this[_0x52f0fe(0x5a8)](_0x68302a);try{return{'wuid':_0x544420,'status':(await this[_0x52f0fe(0x5c3)]['fetchStatus'](_0x544420))?.['status']};}catch{return{'wuid':_0x544420,'status':null};}}async[a0_0x500e42(0x479)](_0x48c14f){const _0x3f2799=a0_0x500e42;try{return await this['client'][_0x3f2799(0x479)](_0x48c14f),{'update':_0x3f2799(0x262)};}catch(_0x568be7){throw new O(_0x3f2799(0x426),_0x568be7[_0x3f2799(0x575)]());}}async[a0_0x500e42(0x61f)](_0x3ff279){const _0x323c87=a0_0x500e42;try{return await this[_0x323c87(0x5c3)][_0x323c87(0x61f)](_0x3ff279),{'update':_0x323c87(0x262)};}catch(_0x58b289){throw new O(_0x323c87(0x23b),_0x58b289['toString']());}}async[a0_0x500e42(0x4bd)](_0x1c9d93){const _0x2379d8=a0_0x500e42;try{let _0x58b24a;if((0x0,k[_0x2379d8(0x51d)])(_0x1c9d93)){let _0x27c032=new Date()[_0x2379d8(0x188)](),_0x3862b2=_0x1c9d93+_0x2379d8(0x63b)+_0x27c032;_0x58b24a=(await se[_0x2379d8(0x734)][_0x2379d8(0x58c)](_0x3862b2,{'responseType':_0x2379d8(0x35e)}))['data'];}else{if((0x0,k['isBase64'])(_0x1c9d93))_0x58b24a=Buffer[_0x2379d8(0x53f)](_0x1c9d93,_0x2379d8(0x6af));else throw new m(_0x2379d8(0x230));}return await this['client'][_0x2379d8(0x4bd)](this[_0x2379d8(0x1de)][_0x2379d8(0xed)],_0x58b24a),{'update':_0x2379d8(0x262)};}catch(_0x1a6528){throw new O(_0x2379d8(0x714),_0x1a6528['toString']());}}async['removeProfilePicture'](){const _0x43f4dc=a0_0x500e42;try{return await this[_0x43f4dc(0x5c3)]['removeProfilePicture'](this['instance'][_0x43f4dc(0xed)]),{'update':'success'};}catch(_0xd9a294){throw new O(_0x43f4dc(0x40e),_0xd9a294[_0x43f4dc(0x575)]());}}async['createGroup'](_0x27088e){const _0x2838c1=a0_0x500e42;try{let _0x20437a=_0x27088e[_0x2838c1(0xef)][_0x2838c1(0x306)](_0x44e6ca=>this[_0x2838c1(0x5a8)](_0x44e6ca)),{id:_0x1549d9}=await this[_0x2838c1(0x5c3)][_0x2838c1(0x269)](_0x27088e[_0x2838c1(0x504)],_0x20437a);return _0x27088e?.[_0x2838c1(0x256)]&&await this[_0x2838c1(0x5c3)]['groupUpdateDescription'](_0x1549d9,_0x27088e[_0x2838c1(0x256)]),{'metadata':await this[_0x2838c1(0x5c3)][_0x2838c1(0x63c)](_0x1549d9)};}catch(_0x4b8a18){throw this['logger']['error'](this[_0x2838c1(0x4cc)]+'\x20('+this[_0x2838c1(0x1de)]['wuid']+_0x2838c1(0x221)+(_0x4b8a18 instanceof Error?_0x4b8a18[_0x2838c1(0x544)]:JSON['stringify'](_0x4b8a18,null,0x2))),new O(_0x2838c1(0x5bf),_0x4b8a18[_0x2838c1(0x575)]());}}async[a0_0x500e42(0x174)](_0x4c083d){const _0x168cad=a0_0x500e42;try{let _0x4c6c96;if((0x0,k[_0x168cad(0x51d)])(_0x4c083d[_0x168cad(0x13a)])){let _0x469835=new Date()[_0x168cad(0x188)](),_0x3b44b0=_0x4c083d[_0x168cad(0x13a)]+_0x168cad(0x63b)+_0x469835;_0x4c6c96=(await se['default'][_0x168cad(0x58c)](_0x3b44b0,{'responseType':_0x168cad(0x35e)}))[_0x168cad(0x1be)];}else{if((0x0,k[_0x168cad(0x1d5)])(_0x4c083d[_0x168cad(0x13a)]))_0x4c6c96=Buffer['from'](_0x4c083d[_0x168cad(0x13a)],_0x168cad(0x6af));else throw new m(_0x168cad(0x230));}return await this[_0x168cad(0x5c3)][_0x168cad(0x4bd)](_0x4c083d[_0x168cad(0x64a)],_0x4c6c96),{'update':_0x168cad(0x262)};}catch(_0x17796d){throw new O(_0x168cad(0x14c),_0x17796d[_0x168cad(0x575)]());}}async['findGroup'](_0x344b8a,_0x1bce3a=a0_0x500e42(0x51f)){const _0xd0b343=a0_0x500e42;try{let _0x34a5c7=await this[_0xd0b343(0x5c3)]['groupMetadata'](_0x344b8a[_0xd0b343(0x64a)]),_0x46f765=null;try{_0x46f765=(await this[_0xd0b343(0x3f9)](_0x344b8a[_0xd0b343(0x64a)]))['profilePictureUrl'];}catch(_0x2184fe){this['logger'][_0xd0b343(0x261)](this[_0xd0b343(0x4cc)]+'\x20('+this[_0xd0b343(0x1de)][_0xd0b343(0xed)]+_0xd0b343(0x5ea)+_0x344b8a[_0xd0b343(0x64a)]+':\x20'+(_0x2184fe instanceof Error?_0x2184fe[_0xd0b343(0x544)]:JSON[_0xd0b343(0x574)](_0x2184fe,null,0x2)));}let _0x282298=await this['repository'][_0xd0b343(0x6fe)][_0xd0b343(0x33a)]({'where':{'_id':_0x344b8a[_0xd0b343(0x64a)]}},{'imagechat':_0x46f765,'name':_0x34a5c7[_0xd0b343(0x504)],'group_size':_0x34a5c7['size'],'group_announce':_0x34a5c7[_0xd0b343(0x5aa)],'lastcache':Date[_0xd0b343(0x5e2)]()},this[_0xd0b343(0x1de)][_0xd0b343(0xed)]);return _0x282298&&J(this[_0xd0b343(0x4cc)],'chats',{'chat':_0x282298}),{'metadata':_0x34a5c7,'image':_0x46f765};}catch(_0x13b0bc){if(_0x1bce3a==='inner')return;throw new j('Error\x20fetching\x20group',_0x13b0bc[_0xd0b343(0x575)]());}}async['groupDesc'](_0x1fd64d){const _0x59eaa7=a0_0x500e42;try{return await this[_0x59eaa7(0x5c3)][_0x59eaa7(0x535)](_0x1fd64d[_0x59eaa7(0x64a)],_0x1fd64d[_0x59eaa7(0x256)]),{'update':_0x59eaa7(0x262)};}catch(_0x25463e){throw new O('Error\x20change\x20group\x20description',_0x25463e[_0x59eaa7(0x575)]());}}async[a0_0x500e42(0x354)](_0x23793a){const _0x3d947e=a0_0x500e42;try{return await this[_0x3d947e(0x5c3)][_0x3d947e(0x3a7)](_0x23793a[_0x3d947e(0x64a)],_0x23793a[_0x3d947e(0x46b)]),{'update':_0x3d947e(0x262)};}catch(_0xa2dff4){throw new O(_0x3d947e(0x22d),_0xa2dff4[_0x3d947e(0x575)]());}}async[a0_0x500e42(0x52a)](_0x263b95){const _0x17c51f=a0_0x500e42;try{return await this[_0x17c51f(0x5c3)]['groupSettingUpdate'](_0x263b95[_0x17c51f(0x64a)],_0x263b95[_0x17c51f(0x534)]),{'update':_0x17c51f(0x262)};}catch(_0x5609a5){throw new O(_0x17c51f(0x50b),_0x5609a5[_0x17c51f(0x575)]());}}async[a0_0x500e42(0x119)](){const _0x84aff1=a0_0x500e42;try{let _0x4b261c=[],_0x3ebb83=await this[_0x84aff1(0x5c3)][_0x84aff1(0x515)](),_0xa6592=Object[_0x84aff1(0x227)](_0x3ebb83),_0x38515d=_0xa6592['filter'](_0x32de0a=>(0x0,y['isJidGroup'])(_0x32de0a?.['id']))[_0x84aff1(0x306)](async _0x13ca82=>{const _0x5926fe=_0x84aff1;try{return await this[_0x5926fe(0x5c3)][_0x5926fe(0x5cb)](_0x13ca82['id'],_0x5926fe(0x694));}catch(_0x2be492){return this['logger']['verbose'](this[_0x5926fe(0x4cc)]+'\x20('+this[_0x5926fe(0x1de)][_0x5926fe(0xed)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x13ca82['id']+':\x20'+(_0x2be492 instanceof Error?_0x2be492[_0x5926fe(0x544)]:JSON['stringify'](_0x2be492,null,0x2))),null;}}),_0x49cfb0=await Promise[_0x84aff1(0x5f8)](_0x38515d);for(let _0x2a742d=0x0;_0x2a742d<_0xa6592[_0x84aff1(0x210)];_0x2a742d++){let _0x4264d5=_0xa6592[_0x2a742d];(0x0,y[_0x84aff1(0x19c)])(_0x4264d5?.['id'])&&_0x4b261c[_0x84aff1(0x6e6)]({'groupJid':_0x4264d5?.['id'],'subject':_0x4264d5?.[_0x84aff1(0x504)],'subjectOwner':_0x4264d5?.[_0x84aff1(0x2e3)]?.[_0x84aff1(0x516)]('@')[0x0],'subjectTime':_0x4264d5?.[_0x84aff1(0x69e)],'size':_0x4264d5?.[_0x84aff1(0xef)]?.[_0x84aff1(0x210)],'owner':_0x4264d5?.[_0x84aff1(0x11c)]?.[_0x84aff1(0x516)]('@')[0x0],'creation':_0x4264d5?.[_0x84aff1(0x5b6)],'desc':_0x4264d5?.[_0x84aff1(0x484)],'restrict':_0x4264d5?.[_0x84aff1(0x613)],'announce':_0x4264d5?.['announce'],'image':_0x49cfb0[_0x2a742d]});}return _0x4b261c;}catch(_0x294185){throw new j('Error\x20fetching\x20group',_0x294185[_0x84aff1(0x575)]());}}async[a0_0x500e42(0x4f7)](_0x3d533d){const _0x196587=a0_0x500e42;try{let _0x5e8365=await this[_0x196587(0x5c3)][_0x196587(0x3b9)](_0x3d533d['groupJid']);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x5e8365,'inviteCode':_0x5e8365};}catch(_0x1af6ff){throw new j(_0x196587(0x722),_0x1af6ff[_0x196587(0x575)]());}}async[a0_0x500e42(0x752)](_0x2edb6c){const _0x53f22c=a0_0x500e42;try{let _0x59a824=await this[_0x53f22c(0x5c3)]['groupRevokeInvite'](_0x2edb6c['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x53f22c(0x46f)+_0x59a824,'inviteCode':_0x59a824};}catch(_0x4f0a22){throw new j('Revoke\x20error',_0x4f0a22[_0x53f22c(0x575)]());}}async['joinGroup'](_0x178fd2){const _0x2da9dd=a0_0x500e42;try{if((0x0,k[_0x2da9dd(0x51d)])(_0x178fd2['inviteCode']))var _0x562fed=_0x178fd2['inviteCode']['split']('/')[0x3];else var _0x562fed=_0x178fd2[_0x2da9dd(0x4f7)];let _0x740cb8=await this['client'][_0x2da9dd(0x3db)](_0x562fed);return this[_0x2da9dd(0x15b)]['verbose'](this['instanceName']+'\x20('+this[_0x2da9dd(0x1de)]['wuid']+'):\x20'+_0x740cb8),{'join':!0x0,'inviteCode':_0x562fed,'groupJid':_0x740cb8};}catch(_0x2874d6){throw new j(_0x2da9dd(0x520),_0x2874d6[_0x2da9dd(0x575)]());}}async[a0_0x500e42(0x3f5)](_0x2a2913){const _0x4e329f=a0_0x500e42;try{return{'participants':(await this[_0x4e329f(0x5c3)][_0x4e329f(0x63c)](_0x2a2913['groupJid']))[_0x4e329f(0xef)]};}catch(_0x5f4e13){throw new j(_0x4e329f(0x24a),_0x5f4e13[_0x4e329f(0x575)]());}}async[a0_0x500e42(0x5a3)](_0x4fb70d){const _0x5527bb=a0_0x500e42;try{let _0x35e790=_0x4fb70d[_0x5527bb(0xef)][_0x5527bb(0x306)](_0x4b9a1a=>this['createJid'](_0x4b9a1a));return{'updateParticipants':await this[_0x5527bb(0x5c3)][_0x5527bb(0x527)](_0x4fb70d[_0x5527bb(0x64a)],_0x35e790,_0x4fb70d['action'])};}catch(_0x30e5bd){throw new m(_0x5527bb(0x267),_0x30e5bd[_0x5527bb(0x575)]());}}async[a0_0x500e42(0x248)](_0x577a45){const _0x5a099b=a0_0x500e42;try{let _0x38de0a=await this[_0x5a099b(0x5c3)][_0x5a099b(0x2dc)](_0x577a45[_0x5a099b(0x64a)],_0x577a45['expiration']);return{'success':!0x0};}catch(_0x50244e){throw new m(_0x5a099b(0x474),_0x50244e[_0x5a099b(0x575)]());}}async[a0_0x500e42(0x555)](_0x17a77e){const _0x1cbc8d=a0_0x500e42;try{return await this[_0x1cbc8d(0x5c3)][_0x1cbc8d(0x2e6)](_0x17a77e['groupJid']),{'groupJid':_0x17a77e[_0x1cbc8d(0x64a)],'leave':!0x0};}catch(_0x14af95){throw new m(_0x1cbc8d(0x724),_0x14af95[_0x1cbc8d(0x575)]());}}async['pollMessage'](_0x4cb931){const _0x4b7547=a0_0x500e42;return await this[_0x4b7547(0x422)](_0x4cb931[_0x4b7547(0x51c)],{'poll':{'name':_0x4cb931[_0x4b7547(0x38d)]?.[_0x4b7547(0x46b)],'selectableCount':_0x4cb931[_0x4b7547(0x38d)][_0x4b7547(0x190)],'values':_0x4cb931[_0x4b7547(0x38d)][_0x4b7547(0x227)]}},_0x4cb931?.[_0x4b7547(0x3b6)]);}async[a0_0x500e42(0x115)](_0x377483){const _0x5614c7=a0_0x500e42;return await this[_0x5614c7(0x422)](_0x377483['number'],{'listMessage':{'title':_0x377483[_0x5614c7(0x115)][_0x5614c7(0x5ca)],'description':_0x377483['listMessage'][_0x5614c7(0x256)],'buttonText':_0x377483['listMessage']?.[_0x5614c7(0x21f)],'footerText':_0x377483['listMessage']?.['footerText'],'sections':_0x377483[_0x5614c7(0x115)]['sections'],'listType':0x2}},_0x377483?.['options']);}async['menuMessage'](_0x302b4f){const _0x1125be=a0_0x500e42;let _0xb663e;if(_0x302b4f[_0x1125be(0x439)]['type']===_0x1125be(0x5e8)){let _0x450e39=_0x302b4f[_0x1125be(0x439)][_0x1125be(0x738)][_0x1125be(0x508)]('\x0a'),_0x1108f9='',_0x10dbd5='';_0x450e39!==-0x1?(_0x1108f9=_0x302b4f['menuMessage'][_0x1125be(0x738)][_0x1125be(0x2e9)](0x0,_0x450e39)[_0x1125be(0x462)](),_0x10dbd5=_0x302b4f['menuMessage'][_0x1125be(0x738)][_0x1125be(0x2e9)](_0x450e39+0x1)):_0x10dbd5=_0x302b4f[_0x1125be(0x439)][_0x1125be(0x738)];let _0x567ddb=this['createSectionsFromValues'](_0x302b4f['menuMessage'][_0x1125be(0x618)]);_0xb663e={'listMessage':{'title':_0x1108f9,'description':_0x10dbd5,'buttonText':_0x302b4f[_0x1125be(0x439)][_0x1125be(0x21f)]||_0x1125be(0x75d),'footerText':_0x302b4f[_0x1125be(0x439)]['footerText'],'sections':_0x567ddb,'listType':0x2}};}else{if(_0x302b4f[_0x1125be(0x439)][_0x1125be(0x65c)]===_0x1125be(0x607)){let _0x133b1f=_0x302b4f[_0x1125be(0x439)][_0x1125be(0x618)][_0x1125be(0x5e7)](_0x3c07ba=>!(_0x3c07ba['startsWith']('[')&&_0x3c07ba[_0x1125be(0x294)](']')))[_0x1125be(0x306)](_0x4f765b=>_0x4f765b['split']('\x0a')[0x0]);_0xb663e={'poll':{'name':_0x302b4f[_0x1125be(0x439)][_0x1125be(0x738)],'selectableCount':_0x302b4f[_0x1125be(0x439)][_0x1125be(0x190)]||0x1,'values':_0x133b1f}};}}return await this[_0x1125be(0x422)](_0x302b4f['number'],_0xb663e,_0x302b4f?.[_0x1125be(0x3b6)]);}['createSectionsFromValues'](_0x43b719){const _0xfe37c5=a0_0x500e42;let _0x58f4c7=[],_0x48dd3f={'rows':[]};return _0x43b719[_0xfe37c5(0x20c)](_0x2e9df4=>{const _0x32dde0=_0xfe37c5;if(_0x2e9df4[_0x32dde0(0x4ed)]('[')&&_0x2e9df4[_0x32dde0(0x294)](']'))_0x48dd3f['rows'][_0x32dde0(0x210)]>0x0&&_0x58f4c7[_0x32dde0(0x6e6)](_0x48dd3f),_0x48dd3f={'title':_0x2e9df4[_0x32dde0(0x5ad)](0x1,-0x1),'rows':[]};else{let _0x4104a7=_0x2e9df4[_0x32dde0(0x516)]('\x0a')['map'](_0x5a5f39=>_0x5a5f39[_0x32dde0(0x462)]()),_0xde246f=_0x4104a7[0x0],_0x4f85d0=_0x4104a7[0x1]||null,_0x420ad3=_0x4104a7[0x2]||_0xde246f;_0x48dd3f['rows']['push']({'title':_0xde246f,'description':_0x4f85d0,'rowId':_0x420ad3});}}),_0x48dd3f[_0xfe37c5(0x183)][_0xfe37c5(0x210)]>0x0&&_0x58f4c7[_0xfe37c5(0x6e6)](_0x48dd3f),_0x58f4c7;}async[a0_0x500e42(0x3ee)](_0x29251e,_0x477f88){const _0x1f7b22=a0_0x500e42;if(await this[_0x1f7b22(0x5a7)](_0x29251e,!0x0)){let _0x41e488={'where':{'_id':_0x29251e['id']}},_0x57565d={'status':[_0x477f88[_0x1f7b22(0x34d)]][0x0]};try{let _0x4d0548=await this[_0x1f7b22(0x578)][_0x1f7b22(0x544)][_0x1f7b22(0x349)](_0x41e488,_0x57565d,this[_0x1f7b22(0x1de)][_0x1f7b22(0xed)]);_0x4d0548&&J(this[_0x1f7b22(0x4cc)],_0x1f7b22(0x164),{'message':_0x4d0548});}catch{}}}[a0_0x500e42(0x22c)](_0x4b169a){let _0x38af20=[];return _0x4b169a['forEach'](_0xa17453=>{const _0x1408c7=a0_0x3d52;_0xa17453[_0x1408c7(0x5ca)]&&_0x38af20[_0x1408c7(0x6e6)]('['+_0xa17453[_0x1408c7(0x5ca)]+']'),_0xa17453['rows'][_0x1408c7(0x20c)](_0x4aa8f2=>{const _0x559b6e=_0x1408c7;_0x38af20['push'](_0x4aa8f2[_0x559b6e(0x5ca)]);});}),_0x38af20['join']('|');}[a0_0x500e42(0x20d)](_0x3c993b){const _0x293697=a0_0x500e42;let _0x183f91=_0x3c993b[_0x293697(0x26c)](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0xf0d9f7=>_0xf0d9f7[_0x293697(0x3bd)](_0x293697(0x171))||_0xf0d9f7[_0x293697(0x3bd)](_0x293697(0x16a))),_0x48bc9a='';return _0x183f91[_0x293697(0x20c)](_0x8738a3=>{const _0xc68d0c=_0x293697;let _0x3f8057=/TEL(?:.*):(.+)/,_0x525cfa=/EMAIL(?:.*):(.+)/,_0x90a8b6=_0x8738a3['match'](_0x3f8057),_0x2021b4=_0x8738a3['match'](_0x525cfa);if(_0x90a8b6){let _0x2d9677=_0x90a8b6[0x1][_0xc68d0c(0x26c)](/-| |\+|\(|\)/g,'')[_0xc68d0c(0x462)]();_0x48bc9a+=_0xc68d0c(0x525)+_0x2d9677+'\x0a';}else{if(_0x2021b4){let _0x2a6177=_0x2021b4[0x1]['trim']();_0x48bc9a+=_0xc68d0c(0x14e)+_0x2a6177+'\x0a';}}}),_0x48bc9a['trim']();}async[a0_0x500e42(0x1fa)](_0x2d35ce,_0x5a03d6,_0x4032c2){const _0x439281=a0_0x500e42;if(!_0x2d35ce[_0x439281(0x100)])return;let _0x2919fa=_0x5a03d6['key'][_0x439281(0x4e5)][_0x439281(0x26c)](/:\d{1,2}@/g,'@'),_0x5563b5=_0x5a03d6[_0x439281(0x659)][_0x439281(0x24d)],_0x4bc91d=_0x2919fa[_0x439281(0x294)](_0x439281(0x2dd)),_0x18316c=_0x5a03d6[_0x439281(0x53b)]?.[_0x439281(0x738)]||_0x5a03d6[_0x439281(0x53b)]?.[_0x439281(0x10c)]||_0x5a03d6[_0x439281(0x53b)]?.['vote']||_0x5a03d6[_0x439281(0x53b)]?.[_0x439281(0x46b)],_0x133a34={'lastmsg':_0x5a03d6[_0x439281(0x75e)]||Date['now'](),'unreadcount':_0x5563b5?0x0:0x1,..._0x5563b5||_0x4bc91d?{}:{'name':_0x5a03d6[_0x439281(0x74e)]},..._0x4bc91d?{'group':_0x4bc91d}:{}},_0x491c4e=await this[_0x439281(0x578)][_0x439281(0x6fe)]['updateOne']({'where':{'_id':_0x2919fa}},_0x133a34,this['instance'][_0x439281(0xed)],{'new':!0x0,'upsert':!0x0});if(_0x491c4e[_0x439281(0x194)]){let _0x1a7de8=await this[_0x439281(0x578)][_0x439281(0x4a3)]['find']({'where':{}},this['instance']['wuid']),_0x5673c7=new Set(_0x1a7de8[_0x439281(0x306)](_0xcb8c93=>_0xcb8c93[_0x439281(0x173)])),_0x2601a4=(_0x491c4e[_0x439281(0x546)]?.[_0x439281(0x67b)]||[])['filter'](_0x5818bc=>_0x5673c7[_0x439281(0x180)](_0x5818bc)),_0x1500d8={'leadInfo.etiquetas':_0x2601a4,'imported':!0x1};_0x491c4e=await this['repository']['chat'][_0x439281(0x33a)]({'where':{'_id':_0x2919fa}},_0x1500d8,this['instance']['wuid']);for(let _0x4d72bf of _0x2601a4)await this[_0x439281(0x16e)](_0x4d72bf,_0x2919fa);}if(!_0x4bc91d&&(!_0x491c4e?.[_0x439281(0x546)]||!_0x491c4e[_0x439281(0x546)][_0x439281(0x4dd)])&&_0x5a03d6['pushName']&&!_0x5563b5&&(_0x491c4e=await this[_0x439281(0x578)]['chat'][_0x439281(0x33a)]({'where':{'_id':_0x2919fa}},{'leadInfo.nome':_0x5a03d6[_0x439281(0x74e)]},this[_0x439281(0x1de)][_0x439281(0xed)],{'new':!0x0,'upsert':!0x0})),_0x4032c2==='MESSAGES_UPSERT'&&_0x5563b5&&this[_0x439281(0x599)]?.[_0x439281(0x35d)]['enabled']&&!_0x18316c[_0x439281(0x4ed)](this[_0x439281(0x599)]?.[_0x439281(0x35d)][_0x439281(0x326)])){let _0x1a1072=(this[_0x439281(0x599)]?.[_0x439281(0x35d)][_0x439281(0x385)]||0x5)*0xea60,_0x144ca6=Date[_0x439281(0x5e2)]()+_0x1a1072;_0x491c4e?.[_0x439281(0x546)]?.[_0x439281(0x654)]===0x0||(await this[_0x439281(0x578)][_0x439281(0x6fe)][_0x439281(0x33a)]({'where':{'_id':_0x2919fa}},{'leadInfo.desativadoFluxoAte':_0x144ca6},this[_0x439281(0x1de)]['wuid'],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x439281(0x1de)][_0x439281(0xed)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20'+_0x144ca6+'.'));}if(_0x491c4e)J(this['instanceName'],_0x439281(0x630),{'chat':_0x491c4e});else{this[_0x439281(0x15b)][_0x439281(0x478)](this['instanceName']+'\x20('+this[_0x439281(0x1de)][_0x439281(0xed)]+_0x439281(0x3d5));return;}if(!this[_0x439281(0x599)]?.[_0x439281(0x35d)][_0x439281(0x457)])return this[_0x439281(0x15b)]['verbose'](this[_0x439281(0x4cc)]+'\x20('+this[_0x439281(0x1de)][_0x439281(0xed)]+'):\x20Flow\x20desativado'),null;if(_0x491c4e[_0x439281(0x173)][_0x439281(0x3bd)](_0x439281(0x2dd))&&this[_0x439281(0x599)]?.[_0x439281(0x35d)][_0x439281(0x55e)]===!0x0)return this[_0x439281(0x15b)][_0x439281(0x261)](this[_0x439281(0x4cc)]+'\x20('+this['instance']['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x491c4e[_0x439281(0x546)]){if(_0x491c4e['leadInfo'][_0x439281(0x654)]===0x0||_0x491c4e[_0x439281(0x546)]['atendimentoAberto'])return this[_0x439281(0x15b)][_0x439281(0x261)](this[_0x439281(0x4cc)]+'\x20('+this[_0x439281(0x1de)][_0x439281(0xed)]+_0x439281(0x61a)+_0x2919fa+',\x20saindo.'),null;if(_0x491c4e['leadInfo'][_0x439281(0x654)]>Date[_0x439281(0x5e2)]()&&!_0x5a03d6[_0x439281(0x53b)]?.[_0x439281(0x2f5)])return this[_0x439281(0x15b)]['verbose'](this[_0x439281(0x4cc)]+'\x20('+this['instance']['wuid']+_0x439281(0x4d9)+new Date(_0x491c4e[_0x439281(0x546)]['desativadoFluxoAte'])['toLocaleString']()+_0x439281(0x1ea)),null;}this[_0x439281(0x15b)][_0x439281(0x261)](this[_0x439281(0x4cc)]+'\x20('+this[_0x439281(0x1de)][_0x439281(0xed)]+_0x439281(0x449)),this[_0x439281(0x67c)](_0x4032c2,_0x5a03d6);}async['upsertChats'](_0x5d2dbc,_0x5c28da){const _0x52a054=a0_0x500e42;if(_0x5c28da[_0x52a054(0x100)]){let _0x40ce67=_0x5d2dbc['map'](async _0x1c4920=>{const _0x5b02f8=_0x52a054;try{let _0x490339={'_id':_0x1c4920[_0x5b02f8(0x173)],'owner':_0x1c4920[_0x5b02f8(0x11c)],'lastcache':0x0};if(_0x1c4920['group']!==null&&(_0x490339[_0x5b02f8(0x4c5)]=_0x1c4920[_0x5b02f8(0x4c5)]),_0x1c4920[_0x5b02f8(0x46b)]!==null&&(_0x490339['name']=_0x1c4920['name']),_0x1c4920['contactname']!==null&&(_0x490339[_0x5b02f8(0x359)]=_0x1c4920[_0x5b02f8(0x359)]),_0x1c4920[_0x5b02f8(0x13e)]!==null&&(_0x490339[_0x5b02f8(0x13e)]=_0x1c4920[_0x5b02f8(0x13e)]),_0x1c4920[_0x5b02f8(0x13e)]===null&&(_0x490339['imagechat']=_0x5b02f8(0x4de)),_0x1c4920[_0x5b02f8(0x14a)]!==null&&(_0x490339['lastmsg']=_0x1c4920[_0x5b02f8(0x14a)]),_0x1c4920[_0x5b02f8(0x29a)]!==null&&(_0x490339[_0x5b02f8(0x29a)]=_0x1c4920[_0x5b02f8(0x29a)]),_0x1c4920['unreadcount']!==null&&(_0x490339[_0x5b02f8(0x168)]=_0x1c4920['unreadcount']),Object[_0x5b02f8(0x126)](_0x490339)[_0x5b02f8(0x210)]>0x0)return await this[_0x5b02f8(0x578)][_0x5b02f8(0x6fe)]['updateOne']({'where':{'_id':_0x1c4920[_0x5b02f8(0x173)]}},_0x490339,this[_0x5b02f8(0x1de)][_0x5b02f8(0xed)]);}catch(_0x4134b5){return console[_0x5b02f8(0x478)](_0x5b02f8(0x5e0)+_0x1c4920[_0x5b02f8(0x173)]+':',_0x4134b5),null;}}),_0xf78e9e=(await Promise[_0x52a054(0x5f8)](_0x40ce67))['filter'](_0x21b1b9=>_0x21b1b9!==null)[_0x52a054(0x210)];this[_0x52a054(0x15b)][_0x52a054(0x261)](this[_0x52a054(0x4cc)]+'\x20('+this[_0x52a054(0x1de)][_0x52a054(0xed)]+_0x52a054(0x221)+_0xf78e9e+_0x52a054(0xf7)+this['instance'][_0x52a054(0xed)]+_0x52a054(0x678));}}async['readMessageBot'](_0x3c59bd){const _0xd12a3d=a0_0x500e42;this[_0xd12a3d(0x15b)][_0xd12a3d(0x261)](this[_0xd12a3d(0x4cc)]+'\x20('+this[_0xd12a3d(0x1de)][_0xd12a3d(0xed)]+_0xd12a3d(0x15f));let _0x31828d={'readMessages':[{'remoteJid':_0x3c59bd[_0xd12a3d(0x551)][_0xd12a3d(0x1df)][_0xd12a3d(0x659)]['remoteJid'],'fromMe':_0x3c59bd[_0xd12a3d(0x551)]['lastReceivedMessage']['key'][_0xd12a3d(0x24d)],'id':_0x3c59bd[_0xd12a3d(0x551)][_0xd12a3d(0x1df)][_0xd12a3d(0x659)]['id']}]};await this[_0xd12a3d(0x4fd)](_0x31828d);}async[a0_0x500e42(0x67c)](_0x370bab,_0x3f827f){const _0x4ae0b2=a0_0x500e42;try{let {key:_0xee43fe,message_normalized:_0x2613be}=_0x3f827f,_0x5fea94=_0x2613be,_0x9c8d77=_0x2613be[_0x4ae0b2(0x738)]||_0x2613be[_0x4ae0b2(0x10c)]||_0x2613be[_0x4ae0b2(0x2f5)]||_0x2613be[_0x4ae0b2(0x46b)],_0x30bda8=_0xee43fe[_0x4ae0b2(0x4e5)],_0x4e2357;if(_0x5fea94[_0x4ae0b2(0x659)]['fromMe']&&_0x9c8d77[_0x4ae0b2(0x462)]()!==this[_0x4ae0b2(0x599)]?.[_0x4ae0b2(0x35d)][_0x4ae0b2(0x3ab)][_0x4ae0b2(0x462)]())return this[_0x4ae0b2(0x15b)][_0x4ae0b2(0x261)](this['instanceName']+'\x20('+this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]+_0x4ae0b2(0x2e8)),null;if(_0x5fea94[_0x4ae0b2(0x659)]['fromMe']&&_0x9c8d77[_0x4ae0b2(0x462)]()===this['AutomateSystem']?.[_0x4ae0b2(0x35d)][_0x4ae0b2(0x3ab)][_0x4ae0b2(0x462)]()){this[_0x4ae0b2(0x15b)][_0x4ae0b2(0x261)](this[_0x4ae0b2(0x4cc)]+'\x20('+this[_0x4ae0b2(0x1de)]['wuid']+_0x4ae0b2(0x37c));let _0x17ebdd=await this[_0x4ae0b2(0x578)]['flowConversation'][_0x4ae0b2(0x524)]({'remoteJid':_0x30bda8,'status':_0x4ae0b2(0x55c)},this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]);this['logger']['verbose'](this[_0x4ae0b2(0x4cc)]+'\x20('+this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]+_0x4ae0b2(0x531)+_0x17ebdd);let _0x2cee2f=Date[_0x4ae0b2(0x5e2)](),_0x47f9ce;return this['AutomateSystem']?.['flowConfig'][_0x4ae0b2(0x53d)]===0x0?_0x47f9ce={'stoppedUntil':_0x2cee2f+0x7591f6200}:_0x47f9ce={'stoppedUntil':_0x2cee2f+this[_0x4ae0b2(0x599)]?.[_0x4ae0b2(0x35d)][_0x4ae0b2(0x53d)]*0x3c*0x3e8},this['logger'][_0x4ae0b2(0x261)](this[_0x4ae0b2(0x4cc)]+'\x20('+this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]+_0x4ae0b2(0x2f3)+_0x47f9ce),this[_0x4ae0b2(0x415)](_0x4e2357,_0x47f9ce[_0x4ae0b2(0x1ef)]),null;}if(_0x9c8d77&&_0x9c8d77[_0x4ae0b2(0x4ed)](this['AutomateSystem']?.[_0x4ae0b2(0x35d)]['prefixCommand'])&&_0x9c8d77[_0x4ae0b2(0x210)]>0x4){let _0x3ee2f3=await this[_0x4ae0b2(0x578)]['flow']['findOne']({'where':{'startCommandWord':_0x9c8d77}},this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]);if(this[_0x4ae0b2(0x15b)][_0x4ae0b2(0x261)](this['instanceName']+'\x20('+this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]+'):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x3ee2f3)_0x4e2357=await this['createNewConversation'](_0x3ee2f3,_0x5fea94[_0x4ae0b2(0x659)],_0x5fea94);else return this[_0x4ae0b2(0x15b)]['verbose'](this[_0x4ae0b2(0x4cc)]+'\x20('+this[_0x4ae0b2(0x1de)][_0x4ae0b2(0xed)]+_0x4ae0b2(0x459)),null;}else _0x4e2357=await this[_0x4ae0b2(0x744)](_0x30bda8,_0x5fea94);if(_0x4e2357){this['logger'][_0x4ae0b2(0x261)](this['instanceName']+'\x20('+this[_0x4ae0b2(0x1de)]['wuid']+_0x4ae0b2(0x187)),!_0xee43fe[_0x4ae0b2(0x24d)]&&_0x4e2357['readMessages']&&this[_0x4ae0b2(0x5fc)](_0x4e2357);let _0x38ed80=await this['NextBlock'](_0x4e2357);_0x38ed80&&await this[_0x4ae0b2(0x20a)](_0x4e2357,_0x38ed80);}}catch(_0x1e2850){this[_0x4ae0b2(0x15b)][_0x4ae0b2(0x478)](this[_0x4ae0b2(0x4cc)]+'\x20('+this[_0x4ae0b2(0x1de)]['wuid']+_0x4ae0b2(0x6e4)+(_0x1e2850 instanceof Error?_0x1e2850[_0x4ae0b2(0x544)]:JSON[_0x4ae0b2(0x574)](_0x1e2850,null,0x2)));}}[a0_0x500e42(0x1a5)](_0x45c860,_0x33bbae='',_0x4b629d={},_0x326737=!0x0){const _0x2c67d3=a0_0x500e42;for(let _0x38754a in _0x45c860){let _0x87d8ad=_0x326737?'_'+_0x38754a:''+_0x33bbae+_0x38754a;typeof _0x45c860[_0x38754a]==_0x2c67d3(0x74a)&&_0x45c860[_0x38754a]!==null?this['flattenObject'](_0x45c860[_0x38754a],_0x87d8ad+'.',_0x4b629d,!0x1):_0x4b629d[_0x87d8ad]=String(_0x45c860[_0x38754a]);}return _0x4b629d;}[a0_0x500e42(0x590)](_0x494cd7){const _0x45e5bb=a0_0x500e42;let _0x174edd={};for(let _0x4ec7cc of _0x494cd7)typeof _0x4ec7cc['name']=='string'&&typeof _0x4ec7cc[_0x45e5bb(0x423)]=='string'&&(_0x174edd[_0x4ec7cc[_0x45e5bb(0x46b)]]=_0x4ec7cc['value']);return _0x174edd;}async['NextBlock'](_0x14b8da){const _0x236e3d=a0_0x500e42;if(!this[_0x236e3d(0x599)]?.[_0x236e3d(0x35d)][_0x236e3d(0x457)]||_0x14b8da[_0x236e3d(0x34d)]!==_0x236e3d(0x55c)&&_0x14b8da['waitingMenu_id']==='')return null;let _0x1a1148=_0x14b8da['chatLog'][_0x236e3d(0x37f)]||_0x236e3d(0x120);typeof _0x14b8da[_0x236e3d(0x551)][_0x236e3d(0x48a)]>'u'&&(_0x14b8da[_0x236e3d(0x551)][_0x236e3d(0x48a)]=!0x0);let _0x34c55d=_0x14b8da[_0x236e3d(0x551)]['lastCondition'];this[_0x236e3d(0x15b)]['verbose'](this[_0x236e3d(0x4cc)]+'\x20('+this[_0x236e3d(0x1de)][_0x236e3d(0xed)]+_0x236e3d(0x442)+_0x1a1148+_0x236e3d(0x345)+_0x34c55d);let _0x3e2ffc=_0x1a1148===_0x236e3d(0x120)?_0x14b8da['blocks'][_0x236e3d(0x524)](_0x2e672b=>_0x2e672b[_0x236e3d(0x65c)]==='start'):_0x14b8da[_0x236e3d(0x240)][_0x236e3d(0x524)](_0x4c873d=>_0x4c873d['_id'][_0x236e3d(0x575)]()===_0x1a1148[_0x236e3d(0x575)]());if(!_0x3e2ffc)return this[_0x236e3d(0x15b)][_0x236e3d(0x478)](this[_0x236e3d(0x4cc)]+'\x20('+this[_0x236e3d(0x1de)][_0x236e3d(0xed)]+_0x236e3d(0x2e2)+_0x1a1148),null;let _0x436e8c={'_pushName':_0x14b8da[_0x236e3d(0x551)][_0x236e3d(0x1df)][_0x236e3d(0x74e)],..._0x14b8da['chatLog'][_0x236e3d(0x6f3)]},_0x2cf638=null;if(_0x14b8da[_0x236e3d(0x1ca)]){let _0x5f258d=_0x14b8da[_0x236e3d(0x551)][_0x236e3d(0x1df)][_0x236e3d(0x2f5)],_0x3e3702=_0x14b8da['waitingMenu_replyOptions'][_0x236e3d(0x524)](_0x333109=>_0x333109[_0x236e3d(0x26a)]===_0x5f258d);if(_0x3e3702){let _0x1d1256=_0x3e3702[_0x236e3d(0x746)];if(_0x2cf638=_0x14b8da[_0x236e3d(0x240)][_0x236e3d(0x524)](_0x492016=>_0x492016[_0x236e3d(0x55b)]===_0x1d1256&&_0x492016[_0x236e3d(0x4a8)]===0x1),_0x3e2ffc[_0x236e3d(0x593)][_0x236e3d(0x646)]){let _0x410f81={'id':_0x14b8da[_0x236e3d(0x1ca)],'remoteJid':_0x14b8da['remoteJid'],'fromMe':!0x0};await this[_0x236e3d(0x128)](_0x410f81);}if(_0x3e2ffc[_0x236e3d(0x593)][_0x236e3d(0x646)]&&_0x3e2ffc[_0x236e3d(0x593)][_0x236e3d(0x690)]&&_0x3e2ffc['uazapi'][_0x236e3d(0x594)]===_0x236e3d(0x607)){let _0x58138b={'number':_0x14b8da[_0x236e3d(0x4e5)],'options':{'delay':0x0},'textMessage':{'text':_0x236e3d(0x319)+_0x14b8da[_0x236e3d(0x336)]+_0x236e3d(0x691)+_0x5f258d}};await this['textMessage'](_0x58138b);}_0x14b8da[_0x236e3d(0x34d)]=_0x236e3d(0x55c),_0x14b8da[_0x236e3d(0x1ca)]='',_0x14b8da['waitingMenu_text']='',_0x14b8da[_0x236e3d(0x3d3)]=[];}else{this['logger'][_0x236e3d(0x261)](this[_0x236e3d(0x4cc)]+'\x20('+this[_0x236e3d(0x1de)][_0x236e3d(0xed)]+_0x236e3d(0x287));let _0x215e4b={'activatedCount':_0x14b8da['chatLog'][_0x236e3d(0x1f2)]['filter'](_0x4da9e0=>String(_0x4da9e0['blockId'])===String(_0x1a1148))[_0x236e3d(0x210)],'moreLogs':[_0x236e3d(0x5f4)]};if(_0x3e2ffc[_0x236e3d(0x593)][_0x236e3d(0x64b)]){let _0x253826={'number':_0x14b8da[_0x236e3d(0x4e5)],'options':{'delay':0x0},'textMessage':{'text':_0x3e2ffc[_0x236e3d(0x593)][_0x236e3d(0x64b)]}};await this['textMessage'](_0x253826);}if(_0x3e2ffc['maxActives']!==void 0x0&&_0x215e4b['activatedCount']>=_0x3e2ffc[_0x236e3d(0x403)]){let _0x47f1cd=Date[_0x236e3d(0x5e2)](),_0x179aca=_0x3e2ffc['stopMinutesMaxActives']??0xa;isNaN(_0x179aca)&&(_0x179aca=0xa);let _0x4209ea=_0x47f1cd+_0x179aca*0x3c*0x3e8;_0x215e4b['newStoppedUntil']=_0x4209ea,_0x215e4b['moreLogs']['push'](_0x236e3d(0x44d)),this[_0x236e3d(0x415)](_0x14b8da,_0x4209ea),_0x14b8da[_0x236e3d(0x1ca)]='',_0x14b8da[_0x236e3d(0x336)]='',_0x14b8da[_0x236e3d(0x3d3)]=[];}return this[_0x236e3d(0x298)](_0x14b8da,_0x3e2ffc,_0x215e4b,!0x0),null;}}if(_0x34c55d&&_0x3e2ffc[_0x236e3d(0x746)]&&!_0x14b8da[_0x236e3d(0x1ca)]){let _0x1cd350=_0x14b8da[_0x236e3d(0x240)][_0x236e3d(0x5e7)](_0x341bfe=>_0x341bfe[_0x236e3d(0x55b)][_0x236e3d(0x575)]()===_0x3e2ffc[_0x236e3d(0x746)]['toString']())[_0x236e3d(0x4e9)]((_0x12e923,_0x5c6516)=>_0x12e923[_0x236e3d(0x4a8)]-_0x5c6516['order']);_0x1cd350[_0x236e3d(0x210)]>0x0&&(_0x2cf638=_0x1cd350[0x0]);}if(!_0x2cf638){let _0x2dfe6a=_0x3e2ffc[_0x236e3d(0x55b)],_0x183119=_0x14b8da[_0x236e3d(0x240)][_0x236e3d(0x5e7)](_0x4db9ab=>_0x4db9ab[_0x236e3d(0x55b)]===_0x2dfe6a&&_0x4db9ab[_0x236e3d(0x4a8)]>_0x3e2ffc[_0x236e3d(0x4a8)])[_0x236e3d(0x4e9)]((_0x1f9ad7,_0x428a74)=>_0x1f9ad7[_0x236e3d(0x4a8)]-_0x428a74[_0x236e3d(0x4a8)]);_0x183119[_0x236e3d(0x210)]>0x0&&(_0x2cf638=_0x183119[0x0]);}if(!_0x2cf638)return _0x14b8da[_0x236e3d(0x34d)]=_0x236e3d(0x73d),null;_0x14b8da['chatLog'][_0x236e3d(0x6f3)]=_0x436e8c;let _0x346ca3=JSON[_0x236e3d(0x3fb)](JSON[_0x236e3d(0x574)](_0x2cf638));return this[_0x236e3d(0x43e)](_0x346ca3,_0x14b8da[_0x236e3d(0x551)][_0x236e3d(0x6f3)]),_0x14b8da['chatLog']['lastBlockId']=_0x346ca3[_0x236e3d(0x173)],_0x14b8da[_0x236e3d(0x551)]['lastCondition']=!0x0,_0x346ca3;}[a0_0x500e42(0x4a6)](_0x42b62d,_0x5b6d76){return _0x42b62d['replace'](/\{\{([^}]+)\}\}/g,(_0x570e5f,_0x22ae66)=>_0x5b6d76[_0x22ae66]||'');}[a0_0x500e42(0x43e)](_0x4d9f02,_0x38b264){const _0x47ae4f=a0_0x500e42;for(let _0x4578d9 in _0x4d9f02)typeof _0x4d9f02[_0x4578d9]==_0x47ae4f(0x549)?_0x4d9f02[_0x4578d9]=this[_0x47ae4f(0x4a6)](_0x4d9f02[_0x4578d9],_0x38b264):typeof _0x4d9f02[_0x4578d9]==_0x47ae4f(0x74a)&&this[_0x47ae4f(0x43e)](_0x4d9f02[_0x4578d9],_0x38b264);}async[a0_0x500e42(0x2d2)](_0x286c93,_0x5dacec){const _0x1a6296=a0_0x500e42;let _0x59aa55=_0x5dacec[_0x1a6296(0x173)];if(_0x286c93[_0x1a6296(0x551)]&&_0x286c93['chatLog'][_0x1a6296(0x1f2)]){let _0x332d4c=_0x286c93[_0x1a6296(0x551)][_0x1a6296(0x1f2)][_0x1a6296(0x5e7)](_0x3d2ab2=>String(_0x3d2ab2[_0x1a6296(0x658)])===String(_0x59aa55))['pop']();if(_0x332d4c&&_0x332d4c[_0x1a6296(0x478)]&&_0x5dacec[_0x1a6296(0x5ba)])return _0x286c93[_0x1a6296(0x34d)]=_0x1a6296(0x73d),await this[_0x1a6296(0x313)](_0x286c93),null;}if(_0x5dacec[_0x1a6296(0x65c)]===_0x1a6296(0x593)&&_0x5dacec['uazapi']['command']==='sendPoll'&&_0x286c93[_0x1a6296(0x1ca)])return _0x286c93['chatLog']['lastBlockId']=_0x59aa55,await this[_0x1a6296(0x313)](_0x286c93),null;let _0x1c5e59=await this[_0x1a6296(0x5f1)](_0x286c93);if(_0x286c93[_0x1a6296(0x551)]&&_0x286c93[_0x1a6296(0x551)]['blockLogs']){let _0x3757d2=_0x286c93[_0x1a6296(0x551)][_0x1a6296(0x1f2)][_0x1a6296(0x5e7)](_0x33f7ad=>String(_0x33f7ad[_0x1a6296(0x658)])===String(_0x59aa55))[_0x1a6296(0x210)];if(_0x5dacec[_0x1a6296(0x403)]!==void 0x0&&_0x3757d2>=_0x5dacec[_0x1a6296(0x403)]){let _0x2cac04=Date['now'](),_0x3d924e=_0x5dacec['stopMinutesMaxActives']??0xa;isNaN(_0x3d924e)&&(_0x3d924e=0xa);let _0x50c36c=_0x2cac04+_0x3d924e*0x3c*0x3e8,_0x1a4f4d={'newStoppedUntil':_0x50c36c};return this[_0x1a6296(0x415)](_0x286c93,_0x50c36c),this[_0x1a6296(0x298)](_0x286c93,_0x5dacec,_0x1a4f4d,!0x0),null;}}_0x1c5e59&&_0x1c5e59[_0x1a6296(0x65c)]!==_0x1a6296(0x5b2)&&await this['processblock'](_0x286c93,_0x1c5e59),_0x1c5e59||await this[_0x1a6296(0x313)](_0x286c93),_0x1c5e59&&_0x1c5e59['type']===_0x1a6296(0x5b2)&&(_0x286c93[_0x1a6296(0x551)][_0x1a6296(0x37f)]=_0x59aa55,await this[_0x1a6296(0x313)](_0x286c93));}async[a0_0x500e42(0x20a)](_0x448988,_0x1c5d0a){const _0x315958=a0_0x500e42;try{let _0x24e4b8=_0x1c5d0a['type'];this[_0x315958(0x15b)][_0x315958(0x261)](this[_0x315958(0x4cc)]+'\x20('+this['instance'][_0x315958(0xed)]+'):\x20Going\x20to\x20'+_0x24e4b8);let _0x5f3b5d={'uazapi':()=>this[_0x315958(0x1c3)](_0x448988,_0x1c5d0a),'save':()=>this[_0x315958(0x5be)](_0x448988,_0x1c5d0a),'stop':()=>this['stopConversation'](_0x448988,_0x1c5d0a),'condition':()=>this['processConditions'](_0x448988,_0x1c5d0a),'varedit':()=>this[_0x315958(0x3fd)](_0x448988,_0x1c5d0a),'apirequest':()=>this[_0x315958(0x4e4)](_0x448988,_0x1c5d0a),'goToFlow':()=>this[_0x315958(0x46a)](_0x448988,_0x1c5d0a)}[_0x24e4b8];_0x5f3b5d&&await _0x5f3b5d();}catch(_0x14417f){this['logger'][_0x315958(0x478)](this[_0x315958(0x4cc)]+'\x20('+this['instance']['wuid']+_0x315958(0x420)+(_0x14417f instanceof Error?_0x14417f[_0x315958(0x544)]:JSON['stringify'](_0x14417f,null,0x2)));}}async[a0_0x500e42(0x46a)](_0x8bc541,_0xbbb389){const _0x383077=a0_0x500e42;if(this['logger']['verbose'](this[_0x383077(0x4cc)]+'\x20('+this[_0x383077(0x1de)][_0x383077(0xed)]+_0x383077(0x69c)),!_0x8bc541||!_0xbbb389)return this[_0x383077(0x15b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x383077(0xed)]+_0x383077(0x1da)),null;await this[_0x383077(0x298)](_0x8bc541,_0xbbb389,{},!0x0,!0x0),console['log'](_0x383077(0x5f2)),console[_0x383077(0x44e)](_0xbbb389);let _0x4d5147=_0xbbb389['goToFlow'];console[_0x383077(0x44e)]('flowname:\x20',_0x4d5147),_0x8bc541=await this[_0x383077(0x754)](_0x4d5147,_0x8bc541[_0x383077(0x4e5)],_0x8bc541['chatLog'][_0x383077(0x6f3)]),this[_0x383077(0x15b)][_0x383077(0x261)](this[_0x383077(0x4cc)]+'\x20('+this['instance'][_0x383077(0xed)]+_0x383077(0x2fc));let _0x1c3e53=await this[_0x383077(0x5f1)](_0x8bc541);_0x1c3e53&&await this[_0x383077(0x20a)](_0x8bc541,_0x1c3e53);}async[a0_0x500e42(0x754)](_0x49de8f,_0x268351,_0x146d4c){const _0x4d98d1=a0_0x500e42;this[_0x4d98d1(0x15b)][_0x4d98d1(0x261)](this[_0x4d98d1(0x4cc)]+'\x20('+this[_0x4d98d1(0x1de)]['wuid']+_0x4d98d1(0x2ec));try{if(_0x49de8f=await this[_0x4d98d1(0x578)][_0x4d98d1(0x61b)][_0x4d98d1(0x177)]({'where':{'name':_0x49de8f}},this[_0x4d98d1(0x1de)][_0x4d98d1(0xed)]),!_0x49de8f)return this[_0x4d98d1(0x15b)][_0x4d98d1(0x478)](this[_0x4d98d1(0x4cc)]+'\x20('+this[_0x4d98d1(0x1de)]['wuid']+_0x4d98d1(0x391)),null;let _0x54f7a1=require(_0x4d98d1(0x584))[_0x4d98d1(0x19e)],_0x250b34=Date['now'](),_0x334884=_0x4d98d1(0x120),_0x3ee73e={},_0x24c202={},_0x589a36={..._0x49de8f,'chatLog':null},_0x19cdce={'lastReceivedMessage':_0x3ee73e,'lastSendMessage':_0x24c202,'lastBlockId':_0x334884,'lastCondition':!0x0,'realVariables':_0x146d4c};_0x589a36[_0x4d98d1(0x551)]=_0x19cdce,_0x589a36[_0x4d98d1(0x551)]['realVariables']={..._0x146d4c},delete _0x589a36[_0x4d98d1(0x173)],_0x589a36[_0x4d98d1(0x173)]=new _0x54f7a1(),_0x589a36[_0x4d98d1(0x2b1)]=_0x250b34,_0x589a36['status']=_0x4d98d1(0x55c),_0x589a36['remoteJid']=_0x268351;let _0x47011e=await this[_0x4d98d1(0x578)][_0x4d98d1(0x20b)]['updateOne'](_0x589a36[_0x4d98d1(0x173)],_0x589a36,this[_0x4d98d1(0x1de)][_0x4d98d1(0xed)]);return this[_0x4d98d1(0x15b)][_0x4d98d1(0x261)](this[_0x4d98d1(0x4cc)]+'\x20('+this[_0x4d98d1(0x1de)][_0x4d98d1(0xed)]+_0x4d98d1(0x32a)),_0x47011e?_0x589a36:null;}catch(_0x5eec37){throw this['logger']['error'](this[_0x4d98d1(0x4cc)]+'\x20('+this['instance'][_0x4d98d1(0xed)]+_0x4d98d1(0x4b5)+(_0x5eec37 instanceof Error?_0x5eec37['message']:JSON['stringify'](_0x5eec37,null,0x2))),new m(_0x5eec37[_0x4d98d1(0x544)]);}}async[a0_0x500e42(0x4e4)](_0x338dba,_0xfa3b7f){const _0x55494f=a0_0x500e42;let _0x17ecc9,_0x252fa6;try{let _0x5073fe=_0xfa3b7f['apirequest'];if(!_0x5073fe||!_0x5073fe[_0x55494f(0x124)]||!_0x5073fe[_0x55494f(0x1f4)])throw new Error(_0x55494f(0x6cc));let _0x4d5222;([_0x55494f(0x102),_0x55494f(0x6ce),_0x55494f(0x4d7)][_0x55494f(0xff)](_0x2ec13d=>_0x5073fe[_0x55494f(0x124)][_0x55494f(0x3bd)](_0x2ec13d))||_0x5073fe['requestFile'])&&(_0x4d5222='arraybuffer');let _0x208b52={'method':_0x5073fe[_0x55494f(0x1f4)],'url':_0x5073fe[_0x55494f(0x124)],'headers':_0x5073fe['header']||{},'data':_0x5073fe['body']||{},..._0x4d5222&&{'responseType':_0x4d5222}},_0x398113=await(0x0,se[_0x55494f(0x734)])(_0x208b52),_0x3e55bc=_0x398113[_0x55494f(0xf9)]['content-type'];if(_0x3e55bc&&_0x3e55bc[_0x55494f(0x3bd)](_0x55494f(0x4e8))){_0x17ecc9=_0x398113['data'];let _0x183bfa=_0x338dba['chatLog'][_0x55494f(0x6f3)],_0x48edc6=this[_0x55494f(0x1a5)](_0x17ecc9);return Object['assign'](_0x183bfa,_0x48edc6),_0x338dba[_0x55494f(0x551)][_0x55494f(0x6f3)]=_0x183bfa,_0x252fa6={'error':!0x1,'apiResponse':_0x17ecc9},this[_0x55494f(0x298)](_0x338dba,_0xfa3b7f,_0x252fa6),_0x17ecc9;}if(_0x3e55bc&&(_0x3e55bc[_0x55494f(0x3bd)](_0x55494f(0x10b))||_0x3e55bc[_0x55494f(0x3bd)](_0x55494f(0x13a))||_0x3e55bc['includes'](_0x55494f(0x740))||_0x3e55bc[_0x55494f(0x3bd)]('video'))){this[_0x55494f(0x15b)]['verbose'](this['instanceName']+'\x20('+this[_0x55494f(0x1de)]['wuid']+_0x55494f(0x2ad)+_0x3e55bc);let _0x56036e=(0x0,Me['v4'])(),_0x2bd0e3='',_0x5c4eee={'image/jpeg':'.jpg','image/png':_0x55494f(0x62a),'image/gif':_0x55494f(0x3cd),'image/webp':_0x55494f(0x6b4),'image/svg+xml':_0x55494f(0x59d),'audio/mpeg':_0x55494f(0x3ed),'audio/ogg':_0x55494f(0x169),'audio/wav':_0x55494f(0x2eb),'video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x55494f(0x3ad),'text/plain':_0x55494f(0x553),'application/pdf':_0x55494f(0x591),'application/msword':_0x55494f(0x25a),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x55494f(0x3ef),'application/vnd.ms-excel':_0x55494f(0x5b9),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x55494f(0xf0),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x55494f(0x5c7)};_0x5c4eee[_0x3e55bc]?(_0x2bd0e3=_0x5c4eee[_0x3e55bc],this['logger'][_0x55494f(0x261)](this[_0x55494f(0x4cc)]+'\x20('+this[_0x55494f(0x1de)][_0x55494f(0xed)]+_0x55494f(0x6fc)+_0x2bd0e3)):(_0x2bd0e3=_0x55494f(0x32e),this['logger'][_0x55494f(0x261)](this[_0x55494f(0x4cc)]+'\x20('+this[_0x55494f(0x1de)][_0x55494f(0xed)]+_0x55494f(0x3d6)+_0x2bd0e3)),_0x56036e+=_0x2bd0e3,this[_0x55494f(0x15b)][_0x55494f(0x261)](this['instanceName']+'\x20('+this[_0x55494f(0x1de)][_0x55494f(0xed)]+_0x55494f(0x682)+_0x56036e);let _0x414e2b=this['configService'][_0x55494f(0x58c)](_0x55494f(0x429))['URL'];if(!_0x414e2b){let _0x3faa14=this[_0x55494f(0x216)][_0x55494f(0x58c)](_0x55494f(0x42a));_0x414e2b=_0x55494f(0x2da)+(_0x3faa14&&_0x3faa14[_0x55494f(0x137)][_0x55494f(0x516)]('/')[0x4]);}let _0x4cc1c2=Buffer[_0x55494f(0x53f)](_0x398113[_0x55494f(0x1be)]);await this[_0x55494f(0x66d)](_0x4cc1c2,_0x56036e);let _0x7e30c6=_0x55494f(0x28b)+_0x56036e;_0x7e30c6=''+_0x414e2b+_0x7e30c6,_0x17ecc9={'fileUrl':_0x7e30c6},_0x338dba['chatLog'][_0x55494f(0x6f3)][_0x55494f(0x337)]=_0x7e30c6;let _0x579cab=_0x338dba[_0x55494f(0x551)]['realVariables'],_0x3565db=this[_0x55494f(0x1a5)](_0x17ecc9);return Object[_0x55494f(0x5a9)](_0x579cab,_0x3565db),_0x338dba['chatLog'][_0x55494f(0x6f3)]=_0x579cab,_0x252fa6={'error':!0x1,'apiResponse':{'fileUrl':_0x7e30c6}},this['updateConversation'](_0x338dba,_0xfa3b7f,_0x252fa6),_0x17ecc9;}}catch(_0x491946){console['error'](_0x55494f(0x596),_0x491946),_0x491946[_0x55494f(0x3a9)]&&(_0x17ecc9=_0x491946[_0x55494f(0x3a9)]['data']);let _0x1e365f=_0x338dba[_0x55494f(0x551)][_0x55494f(0x6f3)],_0x4a74ea=this[_0x55494f(0x1a5)](_0x17ecc9);return Object[_0x55494f(0x5a9)](_0x1e365f,_0x4a74ea),_0x338dba['chatLog'][_0x55494f(0x6f3)]=_0x1e365f,_0x252fa6={'error':!0x0,'errorLog':_0x491946[_0x55494f(0x575)](),'apiResponse':_0x17ecc9},this[_0x55494f(0x298)](_0x338dba,_0xfa3b7f,_0x252fa6),{'success':!0x1};}}['applyvaredit'](_0x48f03d,_0xa114ba){const _0x6f11ec=a0_0x500e42;let _0x5c2c4b=_0x1e340b=>{const _0x5a02de=a0_0x3d52;let _0x445db8=_0x1e340b[_0x5a02de(0x26c)](/[^0-9.,-]/g,'')[_0x5a02de(0x26c)](',','.'),_0x3ba696=parseFloat(_0x445db8);return isNaN(_0x3ba696)?null:_0x3ba696;},_0x2e213b=_0xa114ba[_0x6f11ec(0x497)],_0x37972b=_0xa114ba['secondValue'];typeof _0x2e213b==_0x6f11ec(0x549)&&(_0x2e213b=this[_0x6f11ec(0x4a6)](_0x2e213b,_0x48f03d[_0x6f11ec(0x551)][_0x6f11ec(0x6f3)])??''),typeof _0x37972b=='string'&&(_0x37972b=this[_0x6f11ec(0x4a6)](_0x37972b,_0x48f03d['chatLog'][_0x6f11ec(0x6f3)])??'');let _0x48223e=null;if(!_0xa114ba['editOperator'])return null;switch(this['logger'][_0x6f11ec(0x261)](this[_0x6f11ec(0x4cc)]+'\x20('+this[_0x6f11ec(0x1de)]['wuid']+_0x6f11ec(0x324)+_0x2e213b),this[_0x6f11ec(0x15b)][_0x6f11ec(0x261)](this['instanceName']+'\x20('+this[_0x6f11ec(0x1de)][_0x6f11ec(0xed)]+_0x6f11ec(0x737)+_0x37972b),_0xa114ba[_0x6f11ec(0x151)]){case'+':case'-':case'*':case'/':let _0x9a7757=_0x5c2c4b(_0x2e213b||'0'),_0x4d0dde=_0x5c2c4b(_0x37972b||'0');if(_0x9a7757===null)return null;switch(_0xa114ba[_0x6f11ec(0x151)]){case'+':_0x48223e=_0x9a7757+(_0x4d0dde??0x0);break;case'-':_0x48223e=_0x9a7757-(_0x4d0dde??0x0);break;case'*':_0x48223e=_0x9a7757*(_0x4d0dde??0x1);break;case'/':_0x4d0dde!==0x0&&(_0x48223e=_0x9a7757/(_0x4d0dde??0x1));break;}break;case'findAndReplace':case _0x6f11ec(0x271):let _0x4e4051=_0x37972b,_0x57da6e=_0xa114ba[_0x6f11ec(0x2f0)];if(typeof _0x57da6e==_0x6f11ec(0x549)&&(_0x57da6e=this[_0x6f11ec(0x4a6)](_0x57da6e,_0x48f03d[_0x6f11ec(0x551)]['realVariables'])??''),_0x4e4051&&_0x57da6e!==void 0x0){let _0x2fb3c2=_0xa114ba[_0x6f11ec(0x151)]==='findAndReplace'?new RegExp(_0x4e4051[_0x6f11ec(0x26c)](/[-\/\\^$*+?.()|[\]{}]/g,_0x6f11ec(0x2fa)),'g'):new RegExp(_0x4e4051,'g');_0x48223e=_0x2e213b[_0x6f11ec(0x26c)](_0x2fb3c2,_0x57da6e);}else console[_0x6f11ec(0x17f)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x6f11ec(0x4ef):_0x48223e=_0x37972b;break;case _0x6f11ec(0x251):let _0xfdcbd=_0x2e213b[_0x6f11ec(0x71c)](new RegExp(_0x37972b||''));_0x48223e=_0xfdcbd?_0xfdcbd[0x0]:'';break;case _0x6f11ec(0x50a):_0x48223e=_0x2e213b[_0x6f11ec(0x5ad)](0x0,parseInt(_0x37972b||'0'));break;case'truncatedtoEnd':let _0x537438=parseInt(_0x37972b||'0');_0x48223e=_0x2e213b[_0x6f11ec(0x5ad)](_0x2e213b[_0x6f11ec(0x210)]-_0x537438);break;case'toBrazilianNumberFormat':let _0x3ff276=_0x5c2c4b(_0x2e213b),_0x22bbcd=parseInt(_0x37972b||'0');_0x22bbcd=Math[_0x6f11ec(0x60a)](_0x22bbcd),_0x3ff276!==null?_0x48223e=_0x3ff276[_0x6f11ec(0x71f)](_0x6f11ec(0x716),{'minimumFractionDigits':_0x22bbcd,'maximumFractionDigits':_0x22bbcd}):(console['warn'](_0x6f11ec(0x3dd)+_0x2e213b),_0x48223e=null);break;case _0x6f11ec(0x321):let _0x33dd96=_0x5c2c4b(_0x2e213b);_0x33dd96!==null?_0x48223e=_0x33dd96[_0x6f11ec(0x71f)]('pt-BR',{'style':_0x6f11ec(0x641),'currency':_0x6f11ec(0x685)}):(console[_0x6f11ec(0x17f)](_0x6f11ec(0x15d)+_0x2e213b),_0x48223e=null);break;case'upperCase':_0x48223e=_0x2e213b[_0x6f11ec(0x233)]();break;case _0x6f11ec(0x6a9):_0x48223e=_0x2e213b[_0x6f11ec(0x662)]();break;case _0x6f11ec(0x6c0):_0x48223e=_0x2e213b[_0x6f11ec(0x516)]('\x20')['map'](_0x424ea2=>_0x424ea2[_0x6f11ec(0x735)](0x0)[_0x6f11ec(0x233)]()+_0x424ea2[_0x6f11ec(0x5ad)](0x1)['toLowerCase']())[_0x6f11ec(0x667)]('\x20');break;case'trimmed':_0x48223e=_0x2e213b[_0x6f11ec(0x462)]();break;default:_0x48223e=_0x2e213b;}return _0x48223e!==null?_0x48223e[_0x6f11ec(0x575)]():null;}async[a0_0x500e42(0x3fd)](_0x4dc542,_0x4dce77){const _0x69fb21=a0_0x500e42;try{let _0x594ed0=_0x4dc542['varedits']?.[_0x69fb21(0x5e7)](_0x3daa50=>_0x3daa50[_0x69fb21(0x658)]===_0x4dce77[_0x69fb21(0x173)]?.['toString']())||[],_0x11ea63=_0x4dce77[_0x69fb21(0x362)],_0x41dee9=null,_0x20d4a6=[],_0x59a0f2=_0x4dc542[_0x69fb21(0x551)][_0x69fb21(0x6f3)][_0x11ea63];_0x20d4a6[_0x69fb21(0x6e6)](_0x69fb21(0x5a4)+_0x59a0f2+'\x22');for(let _0x111aaf of _0x594ed0){_0x111aaf[_0x69fb21(0x497)]=_0x59a0f2,_0x41dee9=_0x111aaf[_0x69fb21(0x497)];let _0x3c3d98;try{_0x3c3d98=this[_0x69fb21(0x31a)](_0x4dc542,_0x111aaf);}catch(_0x117b94){console[_0x69fb21(0x478)](_0x69fb21(0x757)+_0x117b94['message']);continue;}if(_0x3c3d98!==null){let _0x407a7d=_0x69fb21(0x432)+_0x111aaf[_0x69fb21(0x151)]+'\x22',_0x5d06b5=[_0x69fb21(0x321),'upperCase',_0x69fb21(0x6a9),_0x69fb21(0x6c0),_0x69fb21(0x5a5)];_0x111aaf['editOperator']===_0x69fb21(0x25b)||_0x111aaf['editOperator']===_0x69fb21(0x271)?_0x407a7d+=_0x69fb21(0x47f)+_0x111aaf[_0x69fb21(0x68e)]+_0x69fb21(0x66a)+_0x111aaf[_0x69fb21(0x2f0)]+'\x22':!_0x5d06b5[_0x69fb21(0x3bd)](_0x111aaf['editOperator'])&&_0x111aaf[_0x69fb21(0x68e)]!==null&&_0x111aaf[_0x69fb21(0x68e)]!==void 0x0&&(_0x407a7d+=',\x20valor\x20passado:\x20\x22'+_0x111aaf['secondValue']+'\x22'),_0x407a7d+=_0x69fb21(0x375)+_0x3c3d98+'.',_0x20d4a6['push'](_0x407a7d);}_0x3c3d98!==null&&(_0x59a0f2=_0x3c3d98);}if(_0x4dc542[_0x69fb21(0x551)][_0x69fb21(0x6f3)]&&_0x4dce77[_0x69fb21(0x362)]){_0x4dc542[_0x69fb21(0x551)][_0x69fb21(0x6f3)][_0x4dce77[_0x69fb21(0x362)]]=_0x59a0f2;let _0x955e21={'variable':_0x4dce77[_0x69fb21(0x362)],'oldValue':_0x41dee9,'newValue':_0x59a0f2,'moreLogs':_0x20d4a6};try{this[_0x69fb21(0x298)](_0x4dc542,_0x4dce77,_0x955e21);}catch(_0x27063b){console[_0x69fb21(0x478)](_0x69fb21(0x589)+_0x27063b[_0x69fb21(0x544)]);}}return _0x11ea63;}catch(_0x52bde0){return console[_0x69fb21(0x478)](_0x69fb21(0x2b3)+_0x52bde0['message']),null;}}async['processConditions'](_0x34b67d,_0x3b8bca){const _0x1549fa=a0_0x500e42;try{let _0x1db718=[],_0x358906=_0x34b67d['conditions'][_0x1549fa(0x5e7)](_0x3edbee=>_0x3edbee[_0x1549fa(0x658)]===_0x3b8bca[_0x1549fa(0x173)][_0x1549fa(0x575)]()),_0x145145=null,_0x3682c2=!0x1;for(let _0x782c4a of _0x358906){let _0x11f289=this[_0x1549fa(0x70b)](_0x34b67d,_0x782c4a);_0x1db718['push']('Primeiro\x20Valor:\x20'+_0x782c4a[_0x1549fa(0x497)]+_0x1549fa(0x5bd)+_0x782c4a[_0x1549fa(0x72d)]+',\x20Segundo\x20Valor:\x20'+_0x782c4a[_0x1549fa(0x68e)]+',\x20Resultado:\x20'+_0x11f289),_0x145145===null?_0x145145=_0x11f289:_0x782c4a[_0x1549fa(0x2c8)]===_0x1549fa(0x58b)?(_0x145145=_0x145145&&_0x11f289,_0x11f289||(_0x3682c2=!0x0)):_0x782c4a[_0x1549fa(0x2c8)]==='or'&&(_0x3682c2||(_0x145145=_0x145145||_0x11f289));}_0x145145===null&&(_0x145145=!0x0);let _0x2d03d5={'moreLogs':_0x1db718};_0x34b67d[_0x1549fa(0x551)][_0x1549fa(0x48a)]=_0x145145,await this[_0x1549fa(0x298)](_0x34b67d,_0x3b8bca,_0x2d03d5);}catch(_0x138a91){this[_0x1549fa(0x15b)][_0x1549fa(0x478)](this[_0x1549fa(0x4cc)]+'\x20('+this[_0x1549fa(0x1de)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x138a91 instanceof Error?_0x138a91[_0x1549fa(0x544)]:JSON[_0x1549fa(0x574)](_0x138a91,null,0x2)));}}['evaluateCondition'](_0x21ea59,_0x10516e){const _0xf47ef8=a0_0x500e42;let _0x3785ca=_0x10516e[_0xf47ef8(0x497)],_0x414ee3=_0x10516e[_0xf47ef8(0x68e)];typeof _0x3785ca==_0xf47ef8(0x549)&&(_0x3785ca=this['replaceVariables'](_0x3785ca,_0x21ea59[_0xf47ef8(0x551)][_0xf47ef8(0x6f3)])??''),typeof _0x414ee3=='string'&&(_0x414ee3=this['replaceVariables'](_0x414ee3,_0x21ea59['chatLog'][_0xf47ef8(0x6f3)])??'');try{switch(_0x10516e[_0xf47ef8(0x72d)]){case _0xf47ef8(0x548):return _0x3785ca===_0x414ee3;case _0xf47ef8(0x5ec):return _0x3785ca!==_0x414ee3;case'contains':return this['contains'](_0x3785ca,_0x414ee3);case _0xf47ef8(0x1f9):return!this[_0xf47ef8(0x5e1)](_0x3785ca,_0x414ee3);case'greater':return parseFloat(_0x3785ca)>parseFloat(_0x414ee3);case _0xf47ef8(0x661):return parseFloat(_0x3785ca)<parseFloat(_0x414ee3);case _0xf47ef8(0x258):return _0x3785ca!=='';case _0xf47ef8(0x748):return _0x3785ca==='';case'matchRegex':return new RegExp(_0x414ee3)[_0xf47ef8(0x156)](_0x3785ca);case'notMatchRegex':return!new RegExp(_0x414ee3)[_0xf47ef8(0x156)](_0x3785ca);default:return!0x1;}}catch(_0x2b1f78){return console[_0xf47ef8(0x478)](_0xf47ef8(0x334)+_0x2b1f78),!0x1;}}[a0_0x500e42(0x5e1)](_0x50692b,_0x3b02f8){const _0x4e10dd=a0_0x500e42;if(_0x50692b===_0x3b02f8&&/^\d+$/[_0x4e10dd(0x156)](_0x50692b))return!0x0;if(this[_0x4e10dd(0x592)](_0x50692b)&&/^\d+$/[_0x4e10dd(0x156)](_0x3b02f8)){let _0x407b30=_0x50692b['split'](',')[_0x4e10dd(0x306)](_0x26669d=>parseInt(_0x26669d[_0x4e10dd(0x462)]())),_0x113df4=parseInt(_0x3b02f8);return _0x407b30['includes'](_0x113df4);}return _0x50692b[_0x4e10dd(0x3bd)](_0x3b02f8);}[a0_0x500e42(0x592)](_0x210b03){const _0x23d3af=a0_0x500e42;return/^\d+(,\d+)*$/[_0x23d3af(0x156)](_0x210b03);}['processConditionsTest'](_0x3fedac){const _0xa0eb7e=a0_0x500e42;let _0x368988=!0x0,_0x2d5d21=null;for(let _0x5b7947 of _0x3fedac){let _0x5021d0=this[_0xa0eb7e(0x4c2)](_0x5b7947);if(_0x2d5d21==='or'&&_0x5021d0){_0x368988=!0x0;break;}if(_0x2d5d21===_0xa0eb7e(0x58b)&&!_0x5021d0){_0x368988=!0x1;break;}_0x2d5d21=_0x5b7947[_0xa0eb7e(0x2c8)];}return _0x368988;}[a0_0x500e42(0x4c2)](_0x10085c){const _0x5d9f3d=a0_0x500e42;let _0x679246=_0x10085c[_0x5d9f3d(0x497)],_0x517241=_0x10085c[_0x5d9f3d(0x68e)];try{switch(_0x10085c['expression']){case'equal':return String(_0x679246)===String(_0x517241);case _0x5d9f3d(0x5ec):return String(_0x679246)!==String(_0x517241);case'contains':return String(_0x679246)[_0x5d9f3d(0x3bd)](String(_0x517241));case'notContains':return!String(_0x679246)[_0x5d9f3d(0x3bd)](String(_0x517241));case'greater':return parseFloat(String(_0x679246))>parseFloat(String(_0x517241));case'less':return parseFloat(String(_0x679246))<parseFloat(String(_0x517241));case _0x5d9f3d(0x258):return String(_0x679246)!=='';case _0x5d9f3d(0x748):return String(_0x679246)==='';case _0x5d9f3d(0x217):return new RegExp(String(_0x517241))['test'](String(_0x679246));case _0x5d9f3d(0x1b0):return!new RegExp(String(_0x517241))['test'](String(_0x679246));default:return!0x1;}}catch(_0x5911b0){return console[_0x5d9f3d(0x478)]('Erro\x20ao\x20avaliar\x20a\x20condio:\x20'+_0x5911b0),!0x1;}}async['saveTextReply'](_0x27a631,_0x1bca63){const _0x24341f=a0_0x500e42;if(this[_0x24341f(0x15b)][_0x24341f(0x261)](this[_0x24341f(0x4cc)]+'\x20('+this[_0x24341f(0x1de)][_0x24341f(0xed)]+_0x24341f(0x15a)),!_0x27a631||!_0x1bca63)return this[_0x24341f(0x15b)][_0x24341f(0x478)](this[_0x24341f(0x4cc)]+'\x20('+this[_0x24341f(0x1de)]['wuid']+_0x24341f(0x1da)),null;let _0x4e64e1=_0x1bca63[_0x24341f(0x362)],_0x3baadd=_0x27a631[_0x24341f(0x551)][_0x24341f(0x1df)][_0x24341f(0x738)]||_0x27a631[_0x24341f(0x551)]['lastReceivedMessage'][_0x24341f(0x10c)]||_0x27a631[_0x24341f(0x551)][_0x24341f(0x1df)]['vote'];try{_0x27a631[_0x24341f(0x551)][_0x24341f(0x6f3)]||(_0x27a631['chatLog']['realVariables']={});let _0x5daa0d=_0x27a631[_0x24341f(0x551)][_0x24341f(0x6f3)][_0x4e64e1];_0x27a631[_0x24341f(0x551)][_0x24341f(0x6f3)][_0x4e64e1]=_0x3baadd;let _0x336be4={'variable':_0x4e64e1,'oldValue':_0x5daa0d,'newValue':_0x3baadd};this['updateConversation'](_0x27a631,_0x1bca63,_0x336be4),this[_0x24341f(0x15b)][_0x24341f(0x261)](this[_0x24341f(0x4cc)]+'\x20('+this[_0x24341f(0x1de)][_0x24341f(0xed)]+'):\x20Conversa\x20atualizada\x20em\x20memria');}catch(_0x5817be){let _0x27cd4a={'error':!0x0,'errorLog':_0x5817be['toString']()};return this[_0x24341f(0x298)](_0x27a631,_0x1bca63,_0x27cd4a),this[_0x24341f(0x15b)][_0x24341f(0x478)](this['instanceName']+'\x20('+this[_0x24341f(0x1de)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualizao:\x20'+(_0x5817be instanceof Error?_0x5817be[_0x24341f(0x544)]:JSON[_0x24341f(0x574)](_0x5817be,null,0x2))),null;}}async['stopConversation'](_0x212ea6,_0x22c4a5){const _0x47dbcc=a0_0x500e42;if(this['logger'][_0x47dbcc(0x261)](this[_0x47dbcc(0x4cc)]+'\x20('+this[_0x47dbcc(0x1de)]['wuid']+_0x47dbcc(0x1d7)),!_0x212ea6||!_0x22c4a5)return this[_0x47dbcc(0x15b)][_0x47dbcc(0x478)](this['instanceName']+'\x20('+this[_0x47dbcc(0x1de)][_0x47dbcc(0xed)]+_0x47dbcc(0x1da)),null;let _0x955e9=Date['now'](),_0x190247=parseInt(_0x22c4a5[_0x47dbcc(0x53d)],0xa);if(isNaN(_0x190247))return this[_0x47dbcc(0x15b)][_0x47dbcc(0x478)](this[_0x47dbcc(0x4cc)]+'\x20('+this['instance']['wuid']+_0x47dbcc(0x1a3)),null;let _0xe2638b={'newStoppedUntil':_0x955e9+_0x190247*0x3c*0x3e8};return await this[_0x47dbcc(0x298)](_0x212ea6,_0x22c4a5,_0xe2638b,!0x0),null;}async[a0_0x500e42(0x1c3)](_0x27b748,_0x142ad0){const _0x3d0eed=a0_0x500e42;try{switch(_0x142ad0[_0x3d0eed(0x593)][_0x3d0eed(0x204)]){case _0x3d0eed(0x2aa):await this['uazapiSendText'](_0x27b748,_0x142ad0);break;case'sendMedia':await this['uazapiSendMedia'](_0x27b748,_0x142ad0);break;case _0x3d0eed(0x66e):await this[_0x3d0eed(0x368)](_0x27b748,_0x142ad0);break;case _0x3d0eed(0x6e8):await this[_0x3d0eed(0x73b)](_0x27b748,_0x142ad0);break;case'sendContact':await this[_0x3d0eed(0x602)](_0x27b748,_0x142ad0);break;case _0x3d0eed(0x12b):await this['uazapiSendMenu'](_0x27b748,_0x142ad0);break;case _0x3d0eed(0x468):await this['uazapiSendMenu'](_0x27b748,_0x142ad0);break;case'deleteMessage':await this[_0x3d0eed(0x656)](_0x27b748,_0x142ad0);break;default:this[_0x3d0eed(0x15b)][_0x3d0eed(0x478)](this['instanceName']+'\x20('+this[_0x3d0eed(0x1de)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x142ad0[_0x3d0eed(0x593)][_0x3d0eed(0x204)]);}}catch(_0x1469bf){this['logger'][_0x3d0eed(0x478)](this[_0x3d0eed(0x4cc)]+'\x20('+this[_0x3d0eed(0x1de)][_0x3d0eed(0xed)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x1469bf instanceof Error?_0x1469bf[_0x3d0eed(0x544)]:JSON[_0x3d0eed(0x574)](_0x1469bf,null,0x2)));}}async[a0_0x500e42(0x298)](_0x52104c,_0x7d0f1,_0x487a9d,_0x39926f=!0x1,_0x2f4b4b=!0x1){const _0x94bbfd=a0_0x500e42;_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1f2)]||(_0x52104c['chatLog']['blockLogs']=[]);let _0x41480a=(_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1f2)]?.[_0x94bbfd(0x210)]??0x0)+0x1,_0x431aab=_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1f2)][_0x94bbfd(0x5e7)](_0x41aae6=>String(_0x41aae6[_0x94bbfd(0x658)])===String(_0x7d0f1[_0x94bbfd(0x173)]))[_0x94bbfd(0x210)]+0x1,_0x4f57c2=_0x487a9d?.[_0x94bbfd(0x2a0)]??Date[_0x94bbfd(0x5e2)](),_0x108e65=_0x487a9d?.[_0x94bbfd(0x478)]?_0x487a9d[_0x94bbfd(0x1f6)]??_0x487a9d['error'][_0x94bbfd(0x575)]():void 0x0,_0x311a5f={'onTime':_0x4f57c2,'blockId':_0x7d0f1[_0x94bbfd(0x173)],'order':_0x41480a,'activatedCount':_0x431aab,'error':_0x487a9d?.[_0x94bbfd(0x478)]??!0x1,'messageId':_0x487a9d?.[_0x94bbfd(0x568)],'apiResponse':_0x487a9d?.[_0x94bbfd(0xfd)],'apiResponseString':_0x487a9d?.[_0x94bbfd(0xfd)]?JSON[_0x94bbfd(0x574)](_0x487a9d?.[_0x94bbfd(0xfd)]):void 0x0,'variable':_0x487a9d?.[_0x94bbfd(0x3c6)],'oldValue':_0x487a9d?.['oldValue'],'newValue':_0x487a9d?.[_0x94bbfd(0x3dc)],'newStoppedUntil':_0x487a9d?.[_0x94bbfd(0x6a8)],'moreLogs':_0x487a9d?.[_0x94bbfd(0x3a5)],'errorLog':_0x108e65};if(_0x487a9d[_0x94bbfd(0x3a5)]&&_0x487a9d['moreLogs']['length']>0x0){let _0xb9745b=_0x487a9d[_0x94bbfd(0x3a5)][_0x94bbfd(0x306)](_0x9b504=>this[_0x94bbfd(0x41f)](_0x9b504,_0x52104c['chatLog'][_0x94bbfd(0x6f3)]));_0x311a5f[_0x94bbfd(0x3a5)]=_0xb9745b;}_0x52104c['chatLog'][_0x94bbfd(0x6f3)]||(_0x52104c[_0x94bbfd(0x551)]['realVariables']={}),_0x52104c[_0x94bbfd(0x551)]['realVariables'][_0x94bbfd(0x3e1)]=String(_0x431aab),_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x6f3)][_0x94bbfd(0x3b2)]=String(_0x487a9d['error']??!0x1),_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1f2)]['push'](_0x311a5f),_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x37f)]=_0x7d0f1[_0x94bbfd(0x173)][_0x94bbfd(0x575)](),_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x69b)]&&(_0x52104c[_0x94bbfd(0x551)]['lastSendMessage']=_0x52104c['chatLog']['lastSendMessage']),_0x52104c[_0x94bbfd(0x551)]['lastReceivedMessage']&&(_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1df)]=_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x1df)]),_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x48a)]&&(_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x48a)]=_0x52104c[_0x94bbfd(0x551)][_0x94bbfd(0x48a)]),_0x2f4b4b&&(_0x52104c[_0x94bbfd(0x34d)]='closed'),_0x39926f?this[_0x94bbfd(0x313)](_0x52104c):this[_0x94bbfd(0x2d2)](_0x52104c,_0x7d0f1);}[a0_0x500e42(0x41f)](_0x38639c,_0x5e9139){const _0x5ec2a5=a0_0x500e42;return _0x38639c[_0x5ec2a5(0x26c)](/\{\{([^}]+)\}\}/g,(_0x33ccec,_0x4e620b)=>_0x5e9139[_0x4e620b]?'{{'+_0x4e620b+_0x5ec2a5(0x1ff)+_0x5e9139[_0x4e620b]+'\x22':'{{'+_0x4e620b+_0x5ec2a5(0x557));}async[a0_0x500e42(0x313)](_0x4e2d81){const _0xd09259=a0_0x500e42;try{let _0x271693=Object[_0xd09259(0x125)](_0x4e2d81[_0xd09259(0x551)][_0xd09259(0x6f3)])[_0xd09259(0x306)](([_0x438eba,_0x5cf431])=>({'name':_0x438eba,'value':_0x5cf431})),_0x17049e={'status':_0x4e2d81[_0xd09259(0x34d)],'blocks':_0x4e2d81[_0xd09259(0x240)],'waitingMenu_id':_0x4e2d81[_0xd09259(0x1ca)],'waitingMenu_text':_0x4e2d81['waitingMenu_text'],'waitingMenu_replyOptions':_0x4e2d81['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x4e2d81[_0xd09259(0x551)][_0xd09259(0x37f)],'lastSendMessage':_0x4e2d81['chatLog'][_0xd09259(0x69b)],'lastReceivedMessage':_0x4e2d81[_0xd09259(0x551)][_0xd09259(0x1df)],'lastCondition':_0x4e2d81[_0xd09259(0x551)]['lastCondition'],'chatVariables':_0x271693,'realVariables':_0x4e2d81[_0xd09259(0x551)][_0xd09259(0x6f3)],'blockLogs':_0x4e2d81[_0xd09259(0x551)]['blockLogs']}},_0x7ef8e8=await this[_0xd09259(0x578)][_0xd09259(0x20b)][_0xd09259(0x33a)](_0x4e2d81[_0xd09259(0x173)],_0x17049e,this['instance'][_0xd09259(0xed)]);if(_0x7ef8e8){this[_0xd09259(0x15b)]['verbose'](this[_0xd09259(0x4cc)]+'\x20('+this['instance'][_0xd09259(0xed)]+_0xd09259(0x201)+_0x7ef8e8[_0xd09259(0x173)]);try{let _0x17486a=[_0xd09259(0x4dd),_0xd09259(0x107),_0xd09259(0x2a9),_0xd09259(0x377),'status',_0xd09259(0x6a5),_0xd09259(0x3c5),_0xd09259(0x4f0),'etiquetas'];if(!this['AutomateSystem']&&(await this[_0xd09259(0x131)](),!this[_0xd09259(0x599)]))throw new Error('AutomateSystem\x20no\x20foi\x20inicializado');let _0x17e2f0=this[_0xd09259(0x599)]?.[_0xd09259(0x6b5)][_0xd09259(0x306)](_0x153605=>_0x153605[_0xd09259(0x46b)]),_0x2a2ba3={};Object[_0xd09259(0x125)](_0x4e2d81['chatLog'][_0xd09259(0x6f3)])['forEach'](([_0x5a04f1,_0x19bdbe])=>{const _0x116b19=_0xd09259;_0x17486a[_0x116b19(0x3bd)](_0x5a04f1)&&(_0x5a04f1===_0x116b19(0x4f0)&&typeof _0x19bdbe==_0x116b19(0x549)?_0x2a2ba3[_0x5a04f1]=_0x19bdbe[_0x116b19(0x516)](',')[_0x116b19(0x306)](_0x28f545=>_0x28f545[_0x116b19(0x462)]())[_0x116b19(0x5e7)](_0xe40981=>_0xe40981!==''):_0x5a04f1===_0x116b19(0x67b)&&typeof _0x19bdbe=='string'?_0x2a2ba3[_0x5a04f1]=_0x19bdbe[_0x116b19(0x516)](',')[_0x116b19(0x306)](_0xcde312=>_0xcde312[_0x116b19(0x462)]())[_0x116b19(0x5e7)](_0x42b163=>_0x42b163!==''):_0x2a2ba3[_0x5a04f1]=_0x19bdbe);});let _0x40fd95=_0x4e2d81[_0xd09259(0x551)]['blockLogs'][_0x4e2d81[_0xd09259(0x551)][_0xd09259(0x1f2)][_0xd09259(0x210)]-0x1];if(_0x40fd95){let _0x38a47b=_0x40fd95[_0xd09259(0x6a8)];_0x38a47b!==void 0x0&&(_0x2a2ba3[_0xd09259(0x654)]=_0x38a47b[_0xd09259(0x575)]());}let _0x4ec086=_0x271693[_0xd09259(0x5e7)](_0x15ee93=>_0x17e2f0[_0xd09259(0x3bd)](_0x15ee93['name']));this['logger'][_0xd09259(0x261)](this[_0xd09259(0x4cc)]+'\x20('+this[_0xd09259(0x1de)]['wuid']+_0xd09259(0x155)),this[_0xd09259(0x15b)]['verbose'](_0x2a2ba3),this[_0xd09259(0x15b)][_0xd09259(0x261)](this[_0xd09259(0x4cc)]+'\x20('+this['instance']['wuid']+'):\x20customFieldVariables'),this[_0xd09259(0x15b)][_0xd09259(0x261)](_0x4ec086);let _0x571df7=_0x4ec086[_0xd09259(0x306)](_0x5dae74=>{const _0x71f552=_0xd09259;let _0x224d8e=this[_0x71f552(0x599)]?.[_0x71f552(0x6b5)]['find'](_0x21a239=>_0x21a239['name']===_0x5dae74['name']);if(!_0x224d8e)throw new Error(_0x71f552(0x6c8)+_0x5dae74[_0x71f552(0x46b)]);return{'_id':_0x224d8e[_0x71f552(0x173)],'value':_0x5dae74[_0x71f552(0x423)]};});this[_0xd09259(0x15b)][_0xd09259(0x261)](this[_0xd09259(0x4cc)]+'\x20('+this[_0xd09259(0x1de)][_0xd09259(0xed)]+_0xd09259(0x5d7)),this['logger']['verbose'](_0x571df7),await this[_0xd09259(0x6e9)](_0x4e2d81[_0xd09259(0x4e5)],_0x2a2ba3,_0x571df7);}catch(_0x139c1a){this[_0xd09259(0x15b)][_0xd09259(0x478)](this[_0xd09259(0x4cc)]+'\x20('+this['instance'][_0xd09259(0xed)]+_0xd09259(0x207)+(_0x139c1a instanceof Error?_0x139c1a[_0xd09259(0x544)]:JSON[_0xd09259(0x574)](_0x139c1a,null,0x2)));}}else this[_0xd09259(0x15b)][_0xd09259(0x478)](this[_0xd09259(0x4cc)]+'\x20('+this[_0xd09259(0x1de)]['wuid']+_0xd09259(0x6ed));}catch(_0x599bbc){this[_0xd09259(0x15b)]['error'](this['instanceName']+'\x20('+this[_0xd09259(0x1de)][_0xd09259(0xed)]+_0xd09259(0x2a5)+(_0x599bbc instanceof Error?_0x599bbc[_0xd09259(0x544)]:JSON[_0xd09259(0x574)](_0x599bbc,null,0x2)));}}async['saveChatVariables'](_0x592673,_0x264d01,_0x131870){const _0x589871=a0_0x500e42;try{let _0x55cb3c={'leadInfo.leadnome':_0x264d01[_0x589871(0x4dd)],'leadInfo.nomecompleto':_0x264d01['nomecompleto'],'leadInfo.email':_0x264d01[_0x589871(0x2a9)],'leadInfo.cpf':_0x264d01['cpf'],'leadInfo.status':_0x264d01[_0x589871(0x34d)],'leadInfo.notas':_0x264d01['notas'],'leadInfo.responsavelid':_0x264d01[_0x589871(0x3c5)],'leadInfo.tags':_0x264d01[_0x589871(0x4f0)],'leadInfo.etiquetas':_0x264d01[_0x589871(0x67b)],'leadInfo.customFields':_0x131870},_0x4fbb08=await this[_0x589871(0x578)][_0x589871(0x6fe)][_0x589871(0x177)]({'where':{'_id':_0x592673}},this[_0x589871(0x1de)][_0x589871(0xed)]),_0x328d2c=new Set(_0x4fbb08['leadInfo'][_0x589871(0x67b)]||[]),_0xec5d78=new Set(_0x264d01[_0x589871(0x67b)]||[]),_0x1a2bf8=await this['repository'][_0x589871(0x4a3)][_0x589871(0x524)]({'where':{}},this[_0x589871(0x1de)][_0x589871(0xed)]),_0x173ea0=new Set(_0x1a2bf8[_0x589871(0x306)](_0x2982bb=>_0x2982bb[_0x589871(0x173)])),_0x2cb0e5=[..._0xec5d78][_0x589871(0x5e7)](_0x1a71a9=>!_0x328d2c[_0x589871(0x180)](_0x1a71a9)&&_0x173ea0[_0x589871(0x180)](_0x1a71a9)),_0x2e60e7=[..._0x328d2c][_0x589871(0x5e7)](_0x4155fc=>!_0xec5d78['has'](_0x4155fc));for(let _0x1fb103 of _0x2cb0e5)await this[_0x589871(0x16e)](_0x1fb103,_0x4fbb08[_0x589871(0x173)]),_0x328d2c[_0x589871(0x45d)](_0x1fb103);for(let _0x52e250 of _0x2e60e7)await this[_0x589871(0x4f9)](_0x52e250,_0x4fbb08[_0x589871(0x173)]),_0x328d2c['delete'](_0x52e250);if(_0x589871(0x654)in _0x264d01){let _0x59da5f=_0x264d01[_0x589871(0x654)];_0x55cb3c[_0x589871(0x5b4)]=_0x59da5f?Number(_0x59da5f):null;}let _0x2101d0=await this[_0x589871(0x578)][_0x589871(0x6fe)]['updateOne']({'where':{'_id':_0x592673}},_0x55cb3c,this['instance'][_0x589871(0xed)]);_0x2101d0?(this['logger']['verbose'](this[_0x589871(0x4cc)]+'\x20('+this['instance'][_0x589871(0xed)]+_0x589871(0x3a0)+_0x2101d0['_id']),J(this[_0x589871(0x4cc)],_0x589871(0x630),{'chat':_0x2101d0})):this[_0x589871(0x15b)][_0x589871(0x478)](this[_0x589871(0x4cc)]+'\x20('+this[_0x589871(0x1de)][_0x589871(0xed)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD');}catch(_0xb369fa){this['logger'][_0x589871(0x478)](this['instanceName']+'\x20('+this[_0x589871(0x1de)][_0x589871(0xed)]+_0x589871(0x6d3)+(_0xb369fa instanceof Error?_0xb369fa[_0x589871(0x544)]:JSON[_0x589871(0x574)](_0xb369fa,null,0x2)));}}async[a0_0x500e42(0x415)](_0x4f539c,_0x1e6a35){const _0x298208=a0_0x500e42;this[_0x298208(0x15b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x298208(0xed)]+_0x298208(0x573)+_0x1e6a35);try{let _0x34634d=await this['repository']['chat'][_0x298208(0x33a)]({'where':{'_id':_0x4f539c[_0x298208(0x4e5)]}},{'leadInfo.desativadoFluxoAte':_0x1e6a35},this[_0x298208(0x1de)]['wuid']);this[_0x298208(0x15b)][_0x298208(0x261)](this[_0x298208(0x4cc)]+'\x20('+this[_0x298208(0x1de)]['wuid']+_0x298208(0x1e5)+_0x4f539c['_id']),this[_0x298208(0x15b)][_0x298208(0x261)](this[_0x298208(0x4cc)]+'\x20('+this[_0x298208(0x1de)][_0x298208(0xed)]+'):\x20atualizao\x20chat:\x20'+JSON[_0x298208(0x574)](_0x34634d,null,0x2)),_0x34634d&&J(this['instanceName'],_0x298208(0x630),{'chat':_0x34634d});}catch(_0x1f5a0d){this['logger'][_0x298208(0x478)](this[_0x298208(0x4cc)]+'\x20('+this['instance'][_0x298208(0xed)]+_0x298208(0x533)+(_0x1f5a0d instanceof Error?_0x1f5a0d[_0x298208(0x544)]:JSON[_0x298208(0x574)](_0x1f5a0d,null,0x2)));}}async['findFlow'](_0x61794c){const _0x308cad=a0_0x500e42;try{this[_0x308cad(0x15b)][_0x308cad(0x261)](this[_0x308cad(0x4cc)]+'\x20('+this[_0x308cad(0x1de)][_0x308cad(0xed)]+_0x308cad(0x57f));let _0x25273b=_0x61794c['replace'](/\D/g,''),_0x48387d=await this['repository'][_0x308cad(0x61b)][_0x308cad(0x177)]({'where':{'testingWith':_0x25273b}},this['instance'][_0x308cad(0xed)]);return _0x48387d||(this[_0x308cad(0x15b)]['verbose'](this[_0x308cad(0x4cc)]+'\x20('+this[_0x308cad(0x1de)][_0x308cad(0xed)]+'):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...'),_0x48387d=await this[_0x308cad(0x578)][_0x308cad(0x61b)][_0x308cad(0x177)]({'where':{'default':!0x0}},this[_0x308cad(0x1de)][_0x308cad(0xed)])),_0x48387d||(this['logger'][_0x308cad(0x261)](this[_0x308cad(0x4cc)]+'\x20('+this[_0x308cad(0x1de)]['wuid']+_0x308cad(0x1ad)),null);}catch(_0x415a2e){return this[_0x308cad(0x15b)]['error'](this['instanceName']+'\x20('+this[_0x308cad(0x1de)]['wuid']+_0x308cad(0x149)+(_0x415a2e instanceof Error?_0x415a2e[_0x308cad(0x544)]:JSON[_0x308cad(0x574)](_0x415a2e,null,0x2))),null;}}async['findConversation'](_0x50c11b,_0x1c72c9){const _0x2f4dc1=a0_0x500e42;try{let _0x5d1478=!!_0x1c72c9[_0x2f4dc1(0x2f5)],_0x505cf0=_0x1c72c9[_0x2f4dc1(0x29f)],_0x1e0a2d=null;if(this['logger'][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+'):\x20isVote:\x20'+_0x5d1478+'\x20quoted:\x20'+_0x505cf0),_0x5d1478){this['logger']['verbose'](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+_0x2f4dc1(0x2a6));let _0x329764={'where':{'remoteJid':_0x50c11b,'waitingMenu_id':_0x505cf0}};if(_0x1e0a2d=await this[_0x2f4dc1(0x578)][_0x2f4dc1(0x20b)][_0x2f4dc1(0x177)](_0x329764,this['instance'][_0x2f4dc1(0xed)]),!_0x1e0a2d)return this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this['instance'][_0x2f4dc1(0xed)]+_0x2f4dc1(0xe5)),null;let _0x1efaf2=Date[_0x2f4dc1(0x5e2)](),_0x40e65b=_0x1e0a2d?.[_0x2f4dc1(0x303)]||0x0,_0x31ecb1=_0x1efaf2-_0x40e65b*0x3c*0x3e8;if(_0x1e0a2d['lastInteraction']<_0x31ecb1){this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)]['wuid']+_0x2f4dc1(0x713));let _0x23156e={'number':_0x1e0a2d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1e0a2d['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x23156e);let _0x3b2648={'status':_0x2f4dc1(0x73d),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x2f4dc1(0x20b)][_0x2f4dc1(0x33a)](_0x1e0a2d['_id'],_0x3b2648,this['instance'][_0x2f4dc1(0xed)]),null;}return _0x1e0a2d[_0x2f4dc1(0x2b1)]=Date[_0x2f4dc1(0x5e2)](),_0x1e0a2d['chatLog'][_0x2f4dc1(0x1df)]=_0x1c72c9,_0x1e0a2d;}else{this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this['instance']['wuid']+_0x2f4dc1(0x221)+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+_0x2f4dc1(0x1dc)),this['logger']['verbose'](this[_0x2f4dc1(0x4cc)]+'\x20('+this['instance'][_0x2f4dc1(0xed)]+'):\x20Procurando\x20conversa');let _0x1bd83f={'where':{'remoteJid':_0x50c11b,'status':_0x2f4dc1(0x55c)}};if(_0x1e0a2d=await this['repository'][_0x2f4dc1(0x20b)][_0x2f4dc1(0x177)](_0x1bd83f,this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]),!_0x1e0a2d){let _0x4dcb00=await this[_0x2f4dc1(0x12c)](_0x50c11b);if(_0x4dcb00&&(_0x1e0a2d=await this[_0x2f4dc1(0x132)](_0x4dcb00,_0x1c72c9[_0x2f4dc1(0x659)],_0x1c72c9)),!_0x1e0a2d)return null;}let _0x43a423=Date[_0x2f4dc1(0x5e2)](),_0x4aff6d=_0x1e0a2d?.[_0x2f4dc1(0x303)]||0x0,_0x5d9b0c=_0x43a423-_0x4aff6d*0x3c*0x3e8;if(this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+_0x2f4dc1(0xe4)+_0x43a423+_0x2f4dc1(0x469)+_0x4aff6d+',\x20Expiration\x20Time:\x20'+_0x5d9b0c),this['logger'][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+_0x2f4dc1(0x383)),this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)][_0x2f4dc1(0xed)]+_0x2f4dc1(0x66b)+_0x1e0a2d[_0x2f4dc1(0x2b1)]),this[_0x2f4dc1(0x15b)][_0x2f4dc1(0x261)](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)]['wuid']+_0x2f4dc1(0x2d4)+_0x5d9b0c),_0x1e0a2d[_0x2f4dc1(0x2b1)]<_0x5d9b0c){this['logger']['verbose'](this[_0x2f4dc1(0x4cc)]+'\x20('+this['instance'][_0x2f4dc1(0xed)]+_0x2f4dc1(0x158));let _0x3165f0=await this[_0x2f4dc1(0x12c)](_0x50c11b);if(_0x3165f0===null)return null;_0x1e0a2d&&await this[_0x2f4dc1(0x578)][_0x2f4dc1(0x20b)][_0x2f4dc1(0x33a)](_0x1e0a2d[_0x2f4dc1(0x173)],{'status':_0x2f4dc1(0x73d)},this[_0x2f4dc1(0x1de)]['wuid']),_0x1e0a2d=await this[_0x2f4dc1(0x132)](_0x3165f0,_0x1c72c9[_0x2f4dc1(0x659)],_0x1c72c9);}return _0x1e0a2d[_0x2f4dc1(0x2b1)]=_0x43a423,_0x1e0a2d[_0x2f4dc1(0x551)][_0x2f4dc1(0x1df)]=_0x1c72c9,_0x1e0a2d;}}catch(_0x14384d){return this['logger']['error'](this[_0x2f4dc1(0x4cc)]+'\x20('+this[_0x2f4dc1(0x1de)]['wuid']+_0x2f4dc1(0x605)+(_0x14384d instanceof Error?_0x14384d[_0x2f4dc1(0x544)]:JSON[_0x2f4dc1(0x574)](_0x14384d,null,0x2))),null;}}async[a0_0x500e42(0x132)](_0x45fa65,_0x165620,_0x534548){const _0x37bb6f=a0_0x500e42;this[_0x37bb6f(0x15b)][_0x37bb6f(0x261)](this[_0x37bb6f(0x4cc)]+'\x20('+this[_0x37bb6f(0x1de)][_0x37bb6f(0xed)]+_0x37bb6f(0x616));try{let _0x4dbd38=require(_0x37bb6f(0x584))[_0x37bb6f(0x19e)],_0x56e91b=Date[_0x37bb6f(0x5e2)](),_0x314a69=_0x37bb6f(0x120),_0x3d28ce=_0x165620[_0x37bb6f(0x24d)]?null:_0x534548,_0x283802=_0x165620['fromMe']?_0x534548:null,_0x15911f=_0x165620[_0x37bb6f(0x4e5)];await this[_0x37bb6f(0x378)](_0x15911f);let _0x503c46={..._0x45fa65,'chatLog':null},_0x4cc74c=await this[_0x37bb6f(0x590)](_0x503c46[_0x37bb6f(0x498)]),_0x5214de=await this['getVariablesChat'](_0x15911f),_0x4a5649={..._0x4cc74c,..._0x5214de,'_remoteJid':_0x15911f},_0x4f4d48={'lastReceivedMessage':_0x3d28ce,'lastSendMessage':_0x283802,'lastBlockId':_0x314a69,'lastCondition':!0x0,'realVariables':_0x4a5649};_0x503c46[_0x37bb6f(0x551)]=_0x4f4d48,delete _0x503c46[_0x37bb6f(0x173)],_0x503c46[_0x37bb6f(0x173)]=new _0x4dbd38(),_0x503c46[_0x37bb6f(0x2b1)]=_0x56e91b,_0x503c46[_0x37bb6f(0x34d)]=_0x37bb6f(0x55c),_0x503c46['remoteJid']=_0x15911f;let _0x520bdb=await this[_0x37bb6f(0x578)]['flowConversation']['updateOne'](_0x503c46[_0x37bb6f(0x173)],_0x503c46,this[_0x37bb6f(0x1de)]['wuid']);return this[_0x37bb6f(0x15b)][_0x37bb6f(0x261)](this['instanceName']+'\x20('+this['instance'][_0x37bb6f(0xed)]+_0x37bb6f(0x32a)),_0x520bdb?_0x503c46:null;}catch(_0x3f7c99){return this['logger'][_0x37bb6f(0x478)](this[_0x37bb6f(0x4cc)]+'\x20('+this[_0x37bb6f(0x1de)][_0x37bb6f(0xed)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x3f7c99 instanceof Error?_0x3f7c99[_0x37bb6f(0x544)]:JSON[_0x37bb6f(0x574)](_0x3f7c99,null,0x2))),_0x3f7c99;}}async[a0_0x500e42(0x23e)](_0x5a9385,_0x6e3b45){const _0x1462ee=a0_0x500e42;let _0x5793aa=_0x5a9385['remoteJid'];_0x6e3b45[_0x1462ee(0x593)]['remoteJid']&&_0x6e3b45[_0x1462ee(0x593)][_0x1462ee(0x4e5)][_0x1462ee(0x462)]()!==''&&(_0x5793aa=_0x6e3b45[_0x1462ee(0x593)][_0x1462ee(0x4e5)]['trim']()),this[_0x1462ee(0x15b)][_0x1462ee(0x261)](this[_0x1462ee(0x4cc)]+'\x20('+this[_0x1462ee(0x1de)][_0x1462ee(0xed)]+_0x1462ee(0x60c));let _0x34814f={'number':_0x5793aa,'options':{'delay':_0x6e3b45[_0x1462ee(0x593)]['delay']},'textMessage':{'text':_0x6e3b45['uazapi'][_0x1462ee(0x738)]}};try{let _0x13394a=await this[_0x1462ee(0x6f1)](_0x34814f);if(_0x13394a){let _0x3d05e9={'_id':_0x13394a['key']['id'],'_fromMe':_0x13394a[_0x1462ee(0x659)]['fromMe'],'_remoteJid':_0x13394a['key'][_0x1462ee(0x4e5)]};_0x5a9385[_0x1462ee(0x551)][_0x1462ee(0x37f)]=_0x6e3b45[_0x1462ee(0x173)][_0x1462ee(0x575)]();let {message_normalized:_0x21b5a9}=this['normalizeMessage'](_0x13394a[_0x1462ee(0x544)],$(_0x13394a[_0x1462ee(0x544)]),null);_0x5a9385['chatLog'][_0x1462ee(0x69b)]=await _0x21b5a9;let _0x371970={'messageId':_0x13394a['key']['id']},_0x42f301=_0x5a9385[_0x1462ee(0x551)][_0x1462ee(0x6f3)];Object[_0x1462ee(0x5a9)](_0x42f301,_0x3d05e9),_0x5a9385[_0x1462ee(0x551)]['realVariables']=_0x42f301,this[_0x1462ee(0x298)](_0x5a9385,_0x6e3b45,_0x371970);}else{let _0x1a7966={'error':!0x0};this[_0x1462ee(0x298)](_0x5a9385,_0x6e3b45,_0x1a7966),this[_0x1462ee(0x15b)][_0x1462ee(0x478)](this[_0x1462ee(0x4cc)]+'\x20('+this['instance'][_0x1462ee(0xed)]+_0x1462ee(0x697));}}catch(_0x20c64a){let _0x168bc1={'error':!0x0,'errorLog':_0x20c64a[_0x1462ee(0x575)]()};this[_0x1462ee(0x298)](_0x5a9385,_0x6e3b45,_0x168bc1),this[_0x1462ee(0x15b)][_0x1462ee(0x478)](this[_0x1462ee(0x4cc)]+'\x20('+this[_0x1462ee(0x1de)][_0x1462ee(0xed)]+_0x1462ee(0x464)+(_0x20c64a instanceof Error?_0x20c64a[_0x1462ee(0x544)]:JSON[_0x1462ee(0x574)](_0x20c64a,null,0x2)));}}async['uazapiSendMedia'](_0x5751c8,_0x5f387d){const _0x5225cd=a0_0x500e42;let _0x1bcd5e=_0x5751c8[_0x5225cd(0x4e5)];_0x5f387d['uazapi'][_0x5225cd(0x4e5)]&&_0x5f387d[_0x5225cd(0x593)][_0x5225cd(0x4e5)][_0x5225cd(0x462)]()!==''&&(_0x1bcd5e=_0x5f387d[_0x5225cd(0x593)][_0x5225cd(0x4e5)][_0x5225cd(0x462)]()),this[_0x5225cd(0x15b)][_0x5225cd(0x261)](this['instanceName']+'\x20('+this[_0x5225cd(0x1de)][_0x5225cd(0xed)]+'):\x20Enviando\x20mdia');let _0x4034b0={'number':_0x1bcd5e,'options':{'delay':_0x5f387d['uazapi'][_0x5225cd(0x693)]},'mediaMessage':{'mediatype':_0x5f387d[_0x5225cd(0x593)][_0x5225cd(0x759)],'caption':_0x5f387d[_0x5225cd(0x593)]['caption'],'media':_0x5f387d[_0x5225cd(0x593)][_0x5225cd(0x2d9)],'fileName':_0x5f387d[_0x5225cd(0x593)]['fileName']}};try{let _0xbd2f5e=await this[_0x5225cd(0x2a8)](_0x4034b0);if(_0xbd2f5e){let _0x5a7ddb={'_id':_0xbd2f5e[_0x5225cd(0x659)]['id'],'_fromMe':_0xbd2f5e['key'][_0x5225cd(0x24d)],'_remoteJid':_0xbd2f5e[_0x5225cd(0x659)][_0x5225cd(0x4e5)]};_0x5751c8[_0x5225cd(0x551)][_0x5225cd(0x37f)]=_0x5f387d[_0x5225cd(0x173)][_0x5225cd(0x575)]();let {message_normalized:_0x222f5d}=this['normalizeMessage'](_0xbd2f5e['message'],$(_0xbd2f5e[_0x5225cd(0x544)]),null);_0x5751c8[_0x5225cd(0x551)]['lastSendMessage']=await _0x222f5d;let _0x18fef0={'messageId':_0xbd2f5e['key']['id']},_0x37e900=_0x5751c8[_0x5225cd(0x551)][_0x5225cd(0x6f3)];Object[_0x5225cd(0x5a9)](_0x37e900,_0x5a7ddb),_0x5751c8[_0x5225cd(0x551)]['realVariables']=_0x37e900,this[_0x5225cd(0x298)](_0x5751c8,_0x5f387d,_0x18fef0);}else{let _0x27785d={'error':!0x0};this[_0x5225cd(0x298)](_0x5751c8,_0x5f387d,_0x27785d),this[_0x5225cd(0x15b)][_0x5225cd(0x478)](this[_0x5225cd(0x4cc)]+'\x20('+this[_0x5225cd(0x1de)]['wuid']+_0x5225cd(0x454));}}catch(_0x4738c8){let _0x588fcc={'error':!0x0,'errorLog':_0x4738c8[_0x5225cd(0x575)]()};this['updateConversation'](_0x5751c8,_0x5f387d,_0x588fcc),this[_0x5225cd(0x15b)][_0x5225cd(0x478)](this['instanceName']+'\x20('+this['instance'][_0x5225cd(0xed)]+_0x5225cd(0x2b6)+(_0x4738c8 instanceof Error?_0x4738c8[_0x5225cd(0x544)]:JSON[_0x5225cd(0x574)](_0x4738c8,null,0x2)));}}async[a0_0x500e42(0x368)](_0x504649,_0x9bcfcb){const _0x12e7f6=a0_0x500e42;let _0x33a5f1=_0x504649[_0x12e7f6(0x4e5)];_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x4e5)]&&_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x4e5)][_0x12e7f6(0x462)]()!==''&&(_0x33a5f1=_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x4e5)][_0x12e7f6(0x462)]()),this[_0x12e7f6(0x15b)][_0x12e7f6(0x261)](this['instanceName']+'\x20('+this[_0x12e7f6(0x1de)][_0x12e7f6(0xed)]+_0x12e7f6(0x3b5));let _0x1a21d5={'number':_0x33a5f1,'options':{'delay':_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x693)]},'locationMessage':{'name':_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x46b)],'address':_0x9bcfcb[_0x12e7f6(0x593)]['address'],'latitude':_0x9bcfcb[_0x12e7f6(0x593)][_0x12e7f6(0x674)],'longitude':_0x9bcfcb[_0x12e7f6(0x593)]['longitude']}};try{let _0x1c229f=await this['locationMessage'](_0x1a21d5);if(_0x1c229f){let _0x2b765b={'_id':_0x1c229f['key']['id'],'_fromMe':_0x1c229f[_0x12e7f6(0x659)]['fromMe'],'_remoteJid':_0x1c229f[_0x12e7f6(0x659)][_0x12e7f6(0x4e5)]};_0x504649[_0x12e7f6(0x551)][_0x12e7f6(0x37f)]=_0x9bcfcb[_0x12e7f6(0x173)][_0x12e7f6(0x575)]();let {message_normalized:_0x10903d}=this[_0x12e7f6(0x4a2)](_0x1c229f[_0x12e7f6(0x544)],$(_0x1c229f[_0x12e7f6(0x544)]),null);_0x504649[_0x12e7f6(0x551)]['lastSendMessage']=await _0x10903d;let _0x2a0e30={'messageId':_0x1c229f[_0x12e7f6(0x659)]['id']},_0x1ae5d5=_0x504649[_0x12e7f6(0x551)]['realVariables'];Object[_0x12e7f6(0x5a9)](_0x1ae5d5,_0x2b765b),_0x504649[_0x12e7f6(0x551)][_0x12e7f6(0x6f3)]=_0x1ae5d5,this[_0x12e7f6(0x298)](_0x504649,_0x9bcfcb,_0x2a0e30);}else{let _0x4ffd82={'error':!0x0};this[_0x12e7f6(0x298)](_0x504649,_0x9bcfcb,_0x4ffd82),this[_0x12e7f6(0x15b)][_0x12e7f6(0x478)](this[_0x12e7f6(0x4cc)]+'\x20('+this['instance']['wuid']+_0x12e7f6(0x6d2));}}catch(_0xaa2f68){let _0x441e97={'error':!0x0,'errorLog':_0xaa2f68[_0x12e7f6(0x575)]()};this['updateConversation'](_0x504649,_0x9bcfcb,_0x441e97),this['logger'][_0x12e7f6(0x478)](this['instanceName']+'\x20('+this[_0x12e7f6(0x1de)]['wuid']+_0x12e7f6(0x4bb)+(_0xaa2f68 instanceof Error?_0xaa2f68[_0x12e7f6(0x544)]:JSON['stringify'](_0xaa2f68,null,0x2)));}}async[a0_0x500e42(0x73b)](_0x1ace6a,_0x1ef131){const _0xa944c2=a0_0x500e42;let _0x23a272=_0x1ace6a[_0xa944c2(0x4e5)];_0x1ef131[_0xa944c2(0x593)][_0xa944c2(0x4e5)]&&_0x1ef131[_0xa944c2(0x593)][_0xa944c2(0x4e5)][_0xa944c2(0x462)]()!==''&&(_0x23a272=_0x1ef131['uazapi'][_0xa944c2(0x4e5)][_0xa944c2(0x462)]()),this['logger']['verbose'](this[_0xa944c2(0x4cc)]+'\x20('+this[_0xa944c2(0x1de)][_0xa944c2(0xed)]+_0xa944c2(0x489));let _0x3a4fb5={'number':_0x23a272,'options':{'delay':_0x1ef131['uazapi']['delay']},'audioMessage':{'audio':_0x1ef131['uazapi'][_0xa944c2(0x740)]}};try{let _0x2a7346=await this['audioWhatsapp'](_0x3a4fb5);if(_0x2a7346){let _0x2dfd56={'_id':_0x2a7346[_0xa944c2(0x659)]['id'],'_fromMe':_0x2a7346['key'][_0xa944c2(0x24d)],'_remoteJid':_0x2a7346[_0xa944c2(0x659)][_0xa944c2(0x4e5)]};_0x1ace6a[_0xa944c2(0x551)][_0xa944c2(0x37f)]=_0x1ef131[_0xa944c2(0x173)]['toString']();let {message_normalized:_0x6b9855}=this[_0xa944c2(0x4a2)](_0x2a7346[_0xa944c2(0x544)],$(_0x2a7346['message']),null);_0x1ace6a[_0xa944c2(0x551)][_0xa944c2(0x69b)]=await _0x6b9855;let _0xde46df={'messageId':_0x2a7346[_0xa944c2(0x659)]['id']},_0x13d736=_0x1ace6a['chatLog'][_0xa944c2(0x6f3)];Object[_0xa944c2(0x5a9)](_0x13d736,_0x2dfd56),_0x1ace6a[_0xa944c2(0x551)][_0xa944c2(0x6f3)]=_0x13d736,this[_0xa944c2(0x298)](_0x1ace6a,_0x1ef131,_0xde46df);}else{let _0xcb6405={'error':!0x0};this['updateConversation'](_0x1ace6a,_0x1ef131,_0xcb6405),this['logger'][_0xa944c2(0x478)](this['instanceName']+'\x20('+this[_0xa944c2(0x1de)][_0xa944c2(0xed)]+_0xa944c2(0x6ab));}}catch(_0x5c2e79){let _0x23728c={'error':!0x0,'errorLog':_0x5c2e79[_0xa944c2(0x575)]()};this[_0xa944c2(0x298)](_0x1ace6a,_0x1ef131,_0x23728c),this[_0xa944c2(0x15b)][_0xa944c2(0x478)](this['instanceName']+'\x20('+this[_0xa944c2(0x1de)][_0xa944c2(0xed)]+_0xa944c2(0x5b1)+(_0x5c2e79 instanceof Error?_0x5c2e79['message']:JSON[_0xa944c2(0x574)](_0x5c2e79,null,0x2)));}}async[a0_0x500e42(0x602)](_0x1925c6,_0x25133b){const _0x25d48c=a0_0x500e42;let _0x18732f=_0x1925c6[_0x25d48c(0x4e5)];_0x25133b[_0x25d48c(0x593)]['remoteJid']&&_0x25133b['uazapi']['remoteJid']['trim']()!==''&&(_0x18732f=_0x25133b['uazapi'][_0x25d48c(0x4e5)][_0x25d48c(0x462)]()),this[_0x25d48c(0x15b)][_0x25d48c(0x261)](this['instanceName']+'\x20('+this[_0x25d48c(0x1de)]['wuid']+_0x25d48c(0x59a));let _0x32b0de={'number':_0x18732f,'options':{'delay':_0x25133b[_0x25d48c(0x593)]['delay']},'contactMessage':[{'fullName':_0x25133b['uazapi'][_0x25d48c(0x4a4)],'phoneNumber':_0x25133b[_0x25d48c(0x593)][_0x25d48c(0x388)]}]};try{let _0xe746b6=await this['contactMessage'](_0x32b0de);if(_0xe746b6){let _0x17a3f9={'_id':_0xe746b6[_0x25d48c(0x659)]['id'],'_fromMe':_0xe746b6[_0x25d48c(0x659)][_0x25d48c(0x24d)],'_remoteJid':_0xe746b6[_0x25d48c(0x659)][_0x25d48c(0x4e5)]};_0x1925c6[_0x25d48c(0x551)]['lastBlockId']=_0x25133b[_0x25d48c(0x173)][_0x25d48c(0x575)]();let {message_normalized:_0x99a859}=this[_0x25d48c(0x4a2)](_0xe746b6['message'],$(_0xe746b6['message']),null);_0x1925c6[_0x25d48c(0x551)][_0x25d48c(0x69b)]=await _0x99a859;let _0x1247c0={'messageId':_0xe746b6['key']['id']},_0x98a868=_0x1925c6[_0x25d48c(0x551)]['realVariables'];Object[_0x25d48c(0x5a9)](_0x98a868,_0x17a3f9),_0x1925c6[_0x25d48c(0x551)]['realVariables']=_0x98a868,this[_0x25d48c(0x298)](_0x1925c6,_0x25133b,_0x1247c0);}else{let _0x1a2e6a={'error':!0x0};this['updateConversation'](_0x1925c6,_0x25133b,_0x1a2e6a),this[_0x25d48c(0x15b)]['error'](this[_0x25d48c(0x4cc)]+'\x20('+this['instance'][_0x25d48c(0xed)]+_0x25d48c(0x585));}}catch(_0x33fcd5){let _0x1cccb4={'error':!0x0,'errorLog':_0x33fcd5[_0x25d48c(0x575)]()};this[_0x25d48c(0x298)](_0x1925c6,_0x25133b,_0x1cccb4),this[_0x25d48c(0x15b)]['error'](this['instanceName']+'\x20('+this[_0x25d48c(0x1de)][_0x25d48c(0xed)]+_0x25d48c(0x311)+(_0x33fcd5 instanceof Error?_0x33fcd5[_0x25d48c(0x544)]:JSON['stringify'](_0x33fcd5,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x4358bf,_0x27532b){const _0x461143=a0_0x500e42;for(let _0x4baea4 of _0x4358bf)_0x4baea4[_0x461143(0x26a)]&&(_0x4baea4['option']=this[_0x461143(0x4a6)](_0x4baea4[_0x461143(0x26a)],_0x27532b)),_0x4baea4[_0x461143(0x2ac)]&&(_0x4baea4[_0x461143(0x2ac)]=this[_0x461143(0x4a6)](_0x4baea4['optionDescription'],_0x27532b));}async[a0_0x500e42(0x598)](_0x196021,_0x44b210){const _0x38acfc=a0_0x500e42;let _0x2ff13e=_0x196021[_0x38acfc(0x4e5)];_0x44b210['uazapi'][_0x38acfc(0x4e5)]&&_0x44b210['uazapi'][_0x38acfc(0x4e5)][_0x38acfc(0x462)]()!==''&&(_0x2ff13e=_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x4e5)]['trim']()),this[_0x38acfc(0x15b)][_0x38acfc(0x261)](this[_0x38acfc(0x4cc)]+'\x20('+this[_0x38acfc(0x1de)]['wuid']+_0x38acfc(0x5fa));let _0x55133b=_0x196021[_0x38acfc(0x4ac)]['filter'](_0x5dfc44=>_0x5dfc44[_0x38acfc(0x658)]===_0x44b210['_id'])['sort']((_0x368ae8,_0x4e9be9)=>_0x368ae8[_0x38acfc(0x4a8)]-_0x4e9be9[_0x38acfc(0x4a8)]);this[_0x38acfc(0x289)](_0x55133b,_0x196021[_0x38acfc(0x551)][_0x38acfc(0x6f3)]);let _0x305ca5=_0x55133b['map'](_0x1454c4=>_0x1454c4['option']),_0xabb781={'number':_0x2ff13e,'menuMessage':{'type':_0x44b210[_0x38acfc(0x593)]['menuType']||_0x38acfc(0x607),'text':_0x44b210[_0x38acfc(0x593)]['text']||_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x46b)],'footerText':_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x2e1)],'buttonText':_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x21f)],'selectableCount':0x1,'choices':_0x305ca5},'options':{'delay':_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x693)]}};try{let _0x206c16=await this['menuMessage'](_0xabb781);if(_0x206c16){let _0x365ecd={'_id':_0x206c16[_0x38acfc(0x659)]['id'],'_fromMe':_0x206c16[_0x38acfc(0x659)][_0x38acfc(0x24d)],'_remoteJid':_0x206c16[_0x38acfc(0x659)][_0x38acfc(0x4e5)]};_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x563)]===!0x0&&(_0x196021[_0x38acfc(0x34d)]=_0x38acfc(0x38b),this[_0x38acfc(0x15b)][_0x38acfc(0x261)](this[_0x38acfc(0x4cc)]+'\x20('+this[_0x38acfc(0x1de)][_0x38acfc(0xed)]+_0x38acfc(0x71a)+_0x196021[_0x38acfc(0x34d)])),this[_0x38acfc(0x15b)][_0x38acfc(0x261)](this[_0x38acfc(0x4cc)]+'\x20('+this[_0x38acfc(0x1de)][_0x38acfc(0xed)]+_0x38acfc(0x2ee)+(_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x46b)]||_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x738)])),_0x196021['waitingMenu_id']=_0x206c16[_0x38acfc(0x659)]['id'],_0x196021[_0x38acfc(0x336)]=_0x44b210['uazapi'][_0x38acfc(0x46b)]||_0x44b210[_0x38acfc(0x593)]['text'],_0x196021[_0x38acfc(0x3d3)]=_0x55133b,_0x44b210[_0x38acfc(0x593)][_0x38acfc(0x681)]&&(_0x196021[_0x38acfc(0x15c)]=_0x44b210['uazapi'][_0x38acfc(0x681)]),this[_0x38acfc(0x15b)][_0x38acfc(0x261)](this[_0x38acfc(0x4cc)]+'\x20('+this[_0x38acfc(0x1de)][_0x38acfc(0xed)]+_0x38acfc(0x5a0)+_0x196021[_0x38acfc(0x336)]),_0x196021[_0x38acfc(0x551)][_0x38acfc(0x37f)]=_0x44b210['_id']['toString']();let {message_normalized:_0x5d8f2e}=this['normalizeMessage'](_0x206c16[_0x38acfc(0x544)],$(_0x206c16[_0x38acfc(0x544)]),null);_0x196021[_0x38acfc(0x551)][_0x38acfc(0x69b)]=await _0x5d8f2e;let _0x19f7b4={'messageId':_0x206c16[_0x38acfc(0x659)]['id']},_0x244d0e=_0x196021[_0x38acfc(0x551)][_0x38acfc(0x6f3)];Object[_0x38acfc(0x5a9)](_0x244d0e,_0x365ecd),_0x196021[_0x38acfc(0x551)][_0x38acfc(0x6f3)]=_0x244d0e,this[_0x38acfc(0x298)](_0x196021,_0x44b210,_0x19f7b4);}else{let _0x92db3e={'error':!0x0};this[_0x38acfc(0x298)](_0x196021,_0x44b210,_0x92db3e),this[_0x38acfc(0x15b)][_0x38acfc(0x478)](this['instanceName']+'\x20('+this[_0x38acfc(0x1de)][_0x38acfc(0xed)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x56a5a2){let _0x286e12={'error':!0x0,'errorLog':_0x56a5a2 instanceof Error?_0x56a5a2[_0x38acfc(0x544)]:JSON[_0x38acfc(0x574)](_0x56a5a2,null,0x2)};this['updateConversation'](_0x196021,_0x44b210,_0x286e12),this[_0x38acfc(0x15b)][_0x38acfc(0x478)](this['instanceName']+'\x20('+this[_0x38acfc(0x1de)][_0x38acfc(0xed)]+_0x38acfc(0x1a6)+(_0x56a5a2 instanceof Error?_0x56a5a2[_0x38acfc(0x544)]:JSON[_0x38acfc(0x574)](_0x56a5a2,null,0x2)));}}async[a0_0x500e42(0x656)](_0x14e294,_0x54c9b3){const _0x2f8742=a0_0x500e42;this[_0x2f8742(0x15b)]['verbose'](this['instanceName']+'\x20('+this[_0x2f8742(0x1de)][_0x2f8742(0xed)]+_0x2f8742(0x34f));let _0x5edcda=_0x14e294[_0x2f8742(0x551)][_0x2f8742(0x1f2)][_0x2f8742(0x524)](_0x5a5545=>_0x5a5545[_0x2f8742(0x658)][_0x2f8742(0x575)]()===_0x54c9b3[_0x2f8742(0x593)][_0x2f8742(0x658)][_0x2f8742(0x575)]()),_0x42d524={'id':_0x5edcda['messageId'],'remoteJid':_0x5edcda[_0x2f8742(0x4e5)],'fromMe':_0x5edcda[_0x2f8742(0x24d)]};try{let _0x5e45da=await this[_0x2f8742(0x128)](_0x42d524);if(_0x5e45da){_0x14e294[_0x2f8742(0x551)][_0x2f8742(0x37f)]=_0x54c9b3[_0x2f8742(0x173)][_0x2f8742(0x575)]();let {message_normalized:_0x2d0acd}=this[_0x2f8742(0x4a2)](_0x5e45da[_0x2f8742(0x544)],$(_0x5e45da[_0x2f8742(0x544)]),null);_0x14e294[_0x2f8742(0x551)][_0x2f8742(0x69b)]=await _0x2d0acd;let _0x4f44a4={};this[_0x2f8742(0x298)](_0x14e294,_0x54c9b3,_0x4f44a4);}else{let _0x23ce5a={'error':!0x0};this[_0x2f8742(0x298)](_0x14e294,_0x54c9b3,_0x23ce5a),this['logger'][_0x2f8742(0x478)](this['instanceName']+'\x20('+this[_0x2f8742(0x1de)][_0x2f8742(0xed)]+_0x2f8742(0x191));}}catch(_0x19ccbb){let _0x36293f={'error':!0x0,'errorLog':_0x19ccbb instanceof Error?_0x19ccbb[_0x2f8742(0x544)]:JSON[_0x2f8742(0x574)](_0x19ccbb,null,0x2)};this[_0x2f8742(0x298)](_0x14e294,_0x54c9b3,_0x36293f),this['logger'][_0x2f8742(0x478)](this[_0x2f8742(0x4cc)]+'\x20('+this['instance'][_0x2f8742(0xed)]+_0x2f8742(0x5d2)+(_0x19ccbb instanceof Error?_0x19ccbb[_0x2f8742(0x544)]:JSON[_0x2f8742(0x574)](_0x19ccbb,null,0x2)));}}async[a0_0x500e42(0x4c7)](_0x353233){const _0x2ba7a1=a0_0x500e42;try{if(this[_0x2ba7a1(0x15b)][_0x2ba7a1(0x261)](this[_0x2ba7a1(0x4cc)]+'\x20('+this['instance'][_0x2ba7a1(0xed)]+_0x2ba7a1(0x652)),await this[_0x2ba7a1(0x578)][_0x2ba7a1(0x61b)]['findOne']({'where':{'name':_0x353233['name']}},this[_0x2ba7a1(0x1de)][_0x2ba7a1(0xed)]))return{'message':_0x2ba7a1(0x161)};_0x353233[_0x2ba7a1(0x734)]===!0x0&&await this[_0x2ba7a1(0x578)]['flow'][_0x2ba7a1(0x10e)]({},{'default':!0x1},this['instance'][_0x2ba7a1(0xed)]);let _0x44bf2c=new ie[(_0x2ba7a1(0x2c7))][(_0x2ba7a1(0x19e))](),_0x553edd={'_id':_0x44bf2c,'default':!0x0,'title':'Incio','x':0x0,'y':0x0},_0x7a41e1={'_id':new ie['Types'][(_0x2ba7a1(0x19e))](),'order':0x1,'groupId':_0x44bf2c[_0x2ba7a1(0x575)](),'type':'start'},_0xa3eca1={'_id':new ie[(_0x2ba7a1(0x2c7))][(_0x2ba7a1(0x19e))](),'owner':this[_0x2ba7a1(0x1de)][_0x2ba7a1(0xed)],'name':_0x353233[_0x2ba7a1(0x46b)],'groups':[_0x553edd],'blocks':[_0x7a41e1],..._0x353233};return _0xa3eca1=await this[_0x2ba7a1(0x578)]['flow'][_0x2ba7a1(0x1e7)](_0xa3eca1,this[_0x2ba7a1(0x1de)]['wuid']),_0xa3eca1;}catch(_0x4a3f2a){throw this[_0x2ba7a1(0x15b)][_0x2ba7a1(0x478)](this['instanceName']+'\x20('+this[_0x2ba7a1(0x1de)][_0x2ba7a1(0xed)]+_0x2ba7a1(0x302)+(_0x4a3f2a instanceof Error?_0x4a3f2a[_0x2ba7a1(0x544)]:JSON[_0x2ba7a1(0x574)](_0x4a3f2a,null,0x2))),new m(_0x2ba7a1(0x433)+_0x4a3f2a);}}async[a0_0x500e42(0x44c)](_0x2dd903){const _0x5817e9=a0_0x500e42;try{return this[_0x5817e9(0x15b)][_0x5817e9(0x261)](this['instanceName']+'\x20('+this['instance'][_0x5817e9(0xed)]+_0x5817e9(0x323)),await this[_0x5817e9(0x578)][_0x5817e9(0x61b)][_0x5817e9(0x6e2)]({'where':{'name':_0x2dd903}},this[_0x5817e9(0x1de)][_0x5817e9(0xed)]);}catch(_0x5956b0){return this[_0x5817e9(0x15b)][_0x5817e9(0x478)](this[_0x5817e9(0x4cc)]+'\x20('+this[_0x5817e9(0x1de)][_0x5817e9(0xed)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x5956b0 instanceof Error?_0x5956b0[_0x5817e9(0x544)]:JSON[_0x5817e9(0x574)](_0x5956b0,null,0x2))),{'message':_0x5817e9(0x6ec)+_0x5956b0};}}async[a0_0x500e42(0x60e)](_0x38b7a8){const _0x5e48d3=a0_0x500e42;try{this[_0x5e48d3(0x15b)][_0x5e48d3(0x261)](this[_0x5e48d3(0x4cc)]+'\x20('+this[_0x5e48d3(0x1de)][_0x5e48d3(0xed)]+_0x5e48d3(0x57f));let _0x49119e=await this['repository'][_0x5e48d3(0x61b)][_0x5e48d3(0x177)]({'where':{'name':_0x38b7a8}},this[_0x5e48d3(0x1de)]['wuid']);if(!_0x49119e)throw new Error(_0x5e48d3(0x70e));if(!this[_0x5e48d3(0x599)]&&(await this[_0x5e48d3(0x131)](),!this[_0x5e48d3(0x599)]))return null;let _0x67633a=this['AutomateSystem']?.[_0x5e48d3(0x6b5)][_0x5e48d3(0x306)](_0x2bf825=>_0x2bf825[_0x5e48d3(0x46b)]),_0x44504b=[_0x5e48d3(0x4dd),_0x5e48d3(0x107),_0x5e48d3(0x2a9),_0x5e48d3(0x377),'status',_0x5e48d3(0x6a5),'responsavelid',_0x5e48d3(0x4f0),_0x5e48d3(0x67b)];_0x49119e[_0x5e48d3(0x498)]=_0x49119e[_0x5e48d3(0x498)][_0x5e48d3(0x5e7)](_0x69208=>!(_0x69208['folder']===_0x5e48d3(0x546)||_0x69208['leadInfo'])),_0x44504b[_0x5e48d3(0x20c)](_0x19acb9=>{const _0x2bb1ac=_0x5e48d3;_0x49119e[_0x2bb1ac(0x498)][_0x2bb1ac(0x6e6)]({'folder':_0x2bb1ac(0x546),'name':_0x19acb9,'value':'','doc':'','leadInfo':!0x0});}),_0x67633a[_0x5e48d3(0x20c)](_0x2751ab=>{const _0x37a6aa=_0x5e48d3;let _0x306933=_0x49119e[_0x37a6aa(0x498)]['findIndex'](_0x454290=>_0x454290[_0x37a6aa(0x46b)]===_0x2751ab);_0x306933===-0x1?_0x49119e[_0x37a6aa(0x498)][_0x37a6aa(0x6e6)]({'folder':_0x37a6aa(0x546),'name':_0x2751ab,'value':'','doc':'','leadInfo':!0x0}):(_0x49119e[_0x37a6aa(0x498)][_0x306933]['folder']=_0x37a6aa(0x546),_0x49119e[_0x37a6aa(0x498)][_0x306933][_0x37a6aa(0x546)]=!0x0);}),_0x49119e[_0x5e48d3(0x240)]&&_0x49119e[_0x5e48d3(0x240)]['length']>0x0&&_0x49119e['blocks']['forEach'](_0x5b49b5=>{const _0x55af97=_0x5e48d3;_0x5b49b5[_0x55af97(0x55b)]&&_0x5b49b5[_0x55af97(0x746)]&&_0x5b49b5['groupId']===_0x5b49b5[_0x55af97(0x746)]&&(_0x5b49b5['next_groupId']=null);});let _0x4d71b9=await this[_0x5e48d3(0x578)][_0x5e48d3(0x61b)]['updateOne'](_0x49119e[_0x5e48d3(0x173)],_0x49119e,this[_0x5e48d3(0x1de)][_0x5e48d3(0xed)]);if(!_0x4d71b9)throw new Error(_0x5e48d3(0x1af));return _0x4d71b9;}catch(_0x2ba1d3){throw this[_0x5e48d3(0x15b)][_0x5e48d3(0x478)](this[_0x5e48d3(0x4cc)]+'\x20('+this[_0x5e48d3(0x1de)][_0x5e48d3(0xed)]+_0x5e48d3(0x446)+(_0x2ba1d3 instanceof Error?_0x2ba1d3[_0x5e48d3(0x544)]:JSON[_0x5e48d3(0x574)](_0x2ba1d3,null,0x2))),new m(_0x5e48d3(0x202)+_0x2ba1d3);}}async[a0_0x500e42(0x712)](){const _0x2f22a7=a0_0x500e42;try{return this['logger'][_0x2f22a7(0x261)](this[_0x2f22a7(0x4cc)]+'\x20('+this[_0x2f22a7(0x1de)]['wuid']+_0x2f22a7(0x392)),await this['repository'][_0x2f22a7(0x61b)][_0x2f22a7(0x36a)]({'where':{}},this[_0x2f22a7(0x1de)][_0x2f22a7(0xed)]);}catch(_0x327be7){return this['logger'][_0x2f22a7(0x478)](this['instanceName']+'\x20('+this[_0x2f22a7(0x1de)][_0x2f22a7(0xed)]+_0x2f22a7(0x2cf)+(_0x327be7 instanceof Error?_0x327be7[_0x2f22a7(0x544)]:JSON[_0x2f22a7(0x574)](_0x327be7,null,0x2))),{'message':_0x2f22a7(0x728)+_0x327be7};}}async[a0_0x500e42(0x660)](_0x5190e3){const _0x4fca60=a0_0x500e42;try{this[_0x4fca60(0x15b)][_0x4fca60(0x261)](this['instanceName']+'\x20('+this['instance'][_0x4fca60(0xed)]+_0x4fca60(0x4bc));let _0x380d6e=await this['repository'][_0x4fca60(0x61b)][_0x4fca60(0x177)]({'where':{'name':_0x5190e3[_0x4fca60(0x46b)]}},this[_0x4fca60(0x1de)]['wuid']);return _0x380d6e?(_0x5190e3[_0x4fca60(0x734)]===!0x0&&await this[_0x4fca60(0x578)][_0x4fca60(0x61b)]['updateMany']({},{'default':!0x1},this[_0x4fca60(0x1de)][_0x4fca60(0xed)]),await this[_0x4fca60(0x578)][_0x4fca60(0x61b)][_0x4fca60(0x33a)](_0x380d6e['_id'],_0x5190e3,this[_0x4fca60(0x1de)]['wuid'])):{'message':_0x4fca60(0x564)};}catch(_0x111c52){throw this[_0x4fca60(0x15b)][_0x4fca60(0x478)](this['instanceName']+'\x20('+this['instance'][_0x4fca60(0xed)]+_0x4fca60(0x631)+(_0x111c52 instanceof Error?_0x111c52[_0x4fca60(0x544)]:JSON[_0x4fca60(0x574)](_0x111c52,null,0x2))),new m(_0x4fca60(0x638)+(_0x111c52 instanceof Error?_0x111c52[_0x4fca60(0x544)]:JSON[_0x4fca60(0x574)](_0x111c52,null,0x2)));}}async[a0_0x500e42(0x48d)](_0x30876b){const _0x3be1fa=a0_0x500e42;try{this['logger'][_0x3be1fa(0x261)](this[_0x3be1fa(0x4cc)]+'\x20('+this[_0x3be1fa(0x1de)][_0x3be1fa(0xed)]+_0x3be1fa(0x195));let _0x422798=await this[_0x3be1fa(0x578)][_0x3be1fa(0x61b)][_0x3be1fa(0x177)]({'where':{'name':_0x30876b[_0x3be1fa(0x46b)]}},this[_0x3be1fa(0x1de)][_0x3be1fa(0xed)]);_0x422798||this[_0x3be1fa(0x419)](_0x3be1fa(0x70e));let {block:_0x5e8f9c}=_0x30876b;_0x5e8f9c?.['copy']?this[_0x3be1fa(0x18d)](_0x422798,_0x30876b):_0x5e8f9c?.[_0x3be1fa(0x322)]?this[_0x3be1fa(0x4c6)](_0x422798,_0x30876b):_0x5e8f9c[_0x3be1fa(0x173)]?await this['updateBlock'](_0x422798,_0x30876b):this[_0x3be1fa(0x2ef)](_0x422798,_0x30876b);let _0x2d8dad=await this[_0x3be1fa(0x578)]['flow']['updateOne'](_0x422798[_0x3be1fa(0x173)],_0x422798,this[_0x3be1fa(0x1de)][_0x3be1fa(0xed)]);if(!_0x2d8dad)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2d8dad;}catch(_0x3820f8){this[_0x3be1fa(0x419)](_0x3be1fa(0x45c)+_0x3820f8);}}async[a0_0x500e42(0x18d)](_0x1770ad,_0x50e882){const _0x97b5fe=a0_0x500e42;let _0x1ab46b=_0x50e882[_0x97b5fe(0x5eb)][_0x97b5fe(0x173)],_0x855b95=_0x1770ad['blocks'][_0x97b5fe(0x524)](_0xeb659f=>_0xeb659f['_id'][_0x97b5fe(0x575)]()===_0x1ab46b);if(!_0x855b95){this['logger'][_0x97b5fe(0x478)](this[_0x97b5fe(0x4cc)]+'\x20('+this[_0x97b5fe(0x1de)][_0x97b5fe(0xed)]+_0x97b5fe(0x566)+_0x1ab46b+'\x20no\x20encontrado\x20para\x20cpia');return;}this[_0x97b5fe(0x15b)][_0x97b5fe(0x261)](this[_0x97b5fe(0x4cc)]+'\x20('+this[_0x97b5fe(0x1de)][_0x97b5fe(0xed)]+'):\x20Bloco\x20original\x20para\x20cpia:\x20'+JSON[_0x97b5fe(0x574)](_0x855b95));let _0x481ad7=JSON['parse'](JSON['stringify'](_0x855b95));_0x481ad7[_0x97b5fe(0x173)]=new ie[(_0x97b5fe(0x734))][(_0x97b5fe(0x2c7))][(_0x97b5fe(0x19e))](),this[_0x97b5fe(0x15b)][_0x97b5fe(0x261)](this['instanceName']+'\x20('+this[_0x97b5fe(0x1de)][_0x97b5fe(0xed)]+_0x97b5fe(0x57a)+JSON[_0x97b5fe(0x574)](_0x481ad7)),_0x1770ad['blocks'][_0x97b5fe(0x6e6)](_0x481ad7),this[_0x97b5fe(0x394)](_0x1770ad[_0x97b5fe(0x240)],_0x481ad7['groupId']);}[a0_0x500e42(0x419)](_0x39f377){const _0x5864c7=a0_0x500e42;throw this[_0x5864c7(0x15b)][_0x5864c7(0x478)](this[_0x5864c7(0x4cc)]+'\x20('+this[_0x5864c7(0x1de)][_0x5864c7(0xed)]+'):\x20'+_0x39f377),new m(_0x39f377);}[a0_0x500e42(0x4c6)](_0x2bd334,_0x53e018){const _0x442cb8=a0_0x500e42;let {block:_0x2296e0}=_0x53e018;if(_0x2296e0[_0x442cb8(0x65c)]===_0x442cb8(0x120)){this['throwAndLogError']('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x2296e0[_0x442cb8(0x173)]){this['throwAndLogError'](_0x442cb8(0x692));return;}let _0x4dfd8c=_0x2bd334[_0x442cb8(0x240)][_0x442cb8(0x524)](_0x2d00b0=>_0x2d00b0[_0x442cb8(0x173)][_0x442cb8(0x575)]()===_0x53e018[_0x442cb8(0x5eb)][_0x442cb8(0x173)][_0x442cb8(0x575)]());if(!_0x4dfd8c){this[_0x442cb8(0x419)](_0x442cb8(0x16d)+_0x2296e0[_0x442cb8(0x173)]+_0x442cb8(0x3f0));return;}_0x2bd334['blocks']=_0x2bd334[_0x442cb8(0x240)][_0x442cb8(0x5e7)](_0x5c3b30=>_0x5c3b30[_0x442cb8(0x173)][_0x442cb8(0x575)]()!==_0x53e018['block'][_0x442cb8(0x173)][_0x442cb8(0x575)]()),_0x2bd334[_0x442cb8(0x2be)]=_0x2bd334['conditions']['filter'](_0x5a423b=>_0x5a423b['blockId']!==_0x2296e0[_0x442cb8(0x173)][_0x442cb8(0x575)]()),_0x2bd334['varedits']=_0x2bd334[_0x442cb8(0x376)][_0x442cb8(0x5e7)](_0x528f2f=>_0x528f2f['blockId']!==_0x2296e0[_0x442cb8(0x173)][_0x442cb8(0x575)]()),_0x2bd334[_0x442cb8(0x4ac)]=_0x2bd334[_0x442cb8(0x4ac)][_0x442cb8(0x5e7)](_0x54ea12=>_0x54ea12[_0x442cb8(0x658)]!==_0x2296e0[_0x442cb8(0x173)][_0x442cb8(0x575)]()),this['reorderBlocks'](_0x2bd334[_0x442cb8(0x240)],_0x4dfd8c[_0x442cb8(0x55b)]);}async[a0_0x500e42(0x28e)](_0x3d5ec7,_0x3791a4){const _0x539949=a0_0x500e42;let _0x56c896=_0x3d5ec7[_0x539949(0x240)][_0x539949(0x453)](_0x3585bc=>_0x3585bc[_0x539949(0x173)][_0x539949(0x575)]()===_0x3791a4[_0x539949(0x5eb)][_0x539949(0x173)][_0x539949(0x575)]());if(this[_0x539949(0x15b)][_0x539949(0x261)](this['instanceName']+'\x20('+this[_0x539949(0x1de)]['wuid']+'):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x56c896),_0x56c896===-0x1){this[_0x539949(0x15b)][_0x539949(0x261)](_0x539949(0x16d)+_0x3791a4[_0x539949(0x5eb)]['_id']+'\x20no\x20encontrado\x20para\x20atualizao.');return;}if(_0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x65c)]===_0x539949(0x120)){let _0x160e8c=Object[_0x539949(0x126)](_0x3791a4[_0x539949(0x5eb)]);if(_0x160e8c[_0x539949(0x210)]>0x2||_0x160e8c[_0x539949(0x210)]===0x2&&!_0x160e8c[_0x539949(0x3bd)](_0x539949(0x746))){this[_0x539949(0x419)](_0x539949(0x565));return;}}let _0x458900=_0x3d5ec7['blocks'][_0x56c896][_0x539949(0x55b)];for(let _0x2a5c40 in _0x3791a4['block'])_0x3791a4[_0x539949(0x5eb)]['hasOwnProperty'](_0x2a5c40)&&(_0x3d5ec7['blocks'][_0x56c896][_0x2a5c40]=_0x3791a4[_0x539949(0x5eb)][_0x2a5c40]);if(this[_0x539949(0x15b)][_0x539949(0x261)](this['instanceName']+'\x20('+this[_0x539949(0x1de)][_0x539949(0xed)]+_0x539949(0x4e6)+JSON[_0x539949(0x574)](_0x3d5ec7['blocks'][_0x56c896])),_0x3d5ec7[_0x539949(0x240)][_0x56c896]['apirequest']&&_0x539949(0x610)in _0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x184)]){this[_0x539949(0x15b)][_0x539949(0x261)](this['instanceName']+'\x20('+this[_0x539949(0x1de)]['wuid']+_0x539949(0x74b));let _0x478e9a=JSON['stringify'](_0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x184)][_0x539949(0x610)],null,0x1);_0x478e9a['length']>0x2&&(_0x478e9a=_0x478e9a['substring'](0x1,_0x478e9a[_0x539949(0x210)]-0x1)[_0x539949(0x462)]()),_0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x184)][_0x539949(0x182)]=_0x478e9a;}if(_0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x184)]&&'body'in _0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x184)]){this[_0x539949(0x15b)][_0x539949(0x261)](this[_0x539949(0x4cc)]+'\x20('+this['instance'][_0x539949(0xed)]+_0x539949(0x66f));let _0x45e3e8=JSON[_0x539949(0x574)](_0x3d5ec7['blocks'][_0x56c896]['apirequest'][_0x539949(0x399)],null,0x1);_0x45e3e8[_0x539949(0x210)]>0x2&&(_0x45e3e8=_0x45e3e8[_0x539949(0x2e9)](0x1,_0x45e3e8[_0x539949(0x210)]-0x1)[_0x539949(0x462)]()),_0x3d5ec7['blocks'][_0x56c896]['apirequest'][_0x539949(0x370)]=_0x45e3e8;}let _0x318f01=_0x3d5ec7[_0x539949(0x240)][_0x56c896][_0x539949(0x55b)];_0x458900!==_0x318f01?(this[_0x539949(0x394)](_0x3d5ec7[_0x539949(0x240)],_0x458900),this[_0x539949(0x394)](_0x3d5ec7[_0x539949(0x240)],_0x318f01)):this[_0x539949(0x394)](_0x3d5ec7['blocks'],_0x458900);}['addBlock'](_0x26b1d8,_0x11df79){const _0x2ef71d=a0_0x500e42;if(_0x11df79['block'][_0x2ef71d(0x65c)]===_0x2ef71d(0x120)){this['throwAndLogError'](_0x2ef71d(0x6a6));return;}if(_0x11df79[_0x2ef71d(0x5eb)][_0x2ef71d(0x184)]&&_0x2ef71d(0x610)in _0x11df79[_0x2ef71d(0x5eb)][_0x2ef71d(0x184)]){this['logger'][_0x2ef71d(0x261)](this[_0x2ef71d(0x4cc)]+'\x20('+this['instance']['wuid']+_0x2ef71d(0x74b));let _0x53bb72=JSON[_0x2ef71d(0x574)](_0x11df79['block']['apirequest'][_0x2ef71d(0x610)],null,0x1);_0x53bb72['length']>0x2&&(_0x53bb72=_0x53bb72['substring'](0x1,_0x53bb72[_0x2ef71d(0x210)]-0x1)['trim']()),_0x11df79['block'][_0x2ef71d(0x184)][_0x2ef71d(0x182)]=_0x53bb72;}_0x11df79[_0x2ef71d(0x5eb)]['apirequest']&&_0x2ef71d(0x399)in _0x11df79[_0x2ef71d(0x5eb)][_0x2ef71d(0x184)]&&(this['logger'][_0x2ef71d(0x261)](this['instanceName']+'\x20('+this[_0x2ef71d(0x1de)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x11df79[_0x2ef71d(0x5eb)][_0x2ef71d(0x184)]['bodyString']=JSON[_0x2ef71d(0x574)](_0x11df79[_0x2ef71d(0x5eb)]['apirequest'][_0x2ef71d(0x399)],null,0x1)[_0x2ef71d(0x462)]()),_0x26b1d8['blocks'][_0x2ef71d(0x6e6)](_0x11df79[_0x2ef71d(0x5eb)]),this[_0x2ef71d(0x394)](_0x26b1d8[_0x2ef71d(0x240)],_0x11df79[_0x2ef71d(0x5eb)][_0x2ef71d(0x55b)]);}[a0_0x500e42(0x394)](_0xeacf32,_0x288913){const _0x1dccab=a0_0x500e42;let _0x4bf4b2=_0xeacf32[_0x1dccab(0x5e7)](_0x10b192=>_0x10b192[_0x1dccab(0x55b)]===_0x288913);_0x4bf4b2[_0x1dccab(0x4e9)]((_0x42d0fe,_0x486e4f)=>_0x42d0fe[_0x1dccab(0x4a8)]-_0x486e4f['order']),_0x4bf4b2[_0x1dccab(0x20c)]((_0x70eaab,_0x53852b)=>_0x70eaab[_0x1dccab(0x4a8)]=_0x53852b+0x1);}async[a0_0x500e42(0x721)](_0x23a7ab){const _0x119661=a0_0x500e42;try{if(this[_0x119661(0x15b)][_0x119661(0x261)](this['instanceName']+'\x20('+this['instance'][_0x119661(0xed)]+_0x119661(0x330)),!_0x23a7ab||!_0x23a7ab[_0x119661(0x5e5)]){this[_0x119661(0x419)](_0x119661(0x103));return;}let _0x30d605=await this[_0x119661(0x578)][_0x119661(0x61b)][_0x119661(0x177)]({'where':{'name':_0x23a7ab[_0x119661(0x46b)]}},this[_0x119661(0x1de)][_0x119661(0xed)]);_0x30d605||this[_0x119661(0x419)]('Flow\x20no\x20encontrado');let {replyOption:_0x53e0e4}=_0x23a7ab;_0x53e0e4?.[_0x119661(0x322)]?(this[_0x119661(0x4f1)](_0x30d605,_0x23a7ab),this[_0x119661(0x36f)](_0x30d605[_0x119661(0x4ac)],_0x23a7ab['replyOption'][_0x119661(0x658)])):_0x53e0e4[_0x119661(0x173)]?(await this[_0x119661(0x1a2)](_0x30d605,_0x23a7ab),this['reorderReplyOptions'](_0x30d605['replyOptions'],_0x23a7ab[_0x119661(0x5e5)][_0x119661(0x658)])):(this['addReplyOption'](_0x30d605,_0x23a7ab),this[_0x119661(0x36f)](_0x30d605[_0x119661(0x4ac)],_0x23a7ab['replyOption'][_0x119661(0x658)]));let _0x18f5f6=await this[_0x119661(0x578)][_0x119661(0x61b)]['updateOne'](_0x30d605['_id'],_0x30d605,this[_0x119661(0x1de)]['wuid']);if(!_0x18f5f6)throw new Error(_0x119661(0x1af));return _0x18f5f6;}catch(_0x161e86){this[_0x119661(0x419)](_0x119661(0x3fc)+_0x161e86);}}['reorderReplyOptions'](_0x39f2d6,_0x3860a4){const _0x22f436=a0_0x500e42;console[_0x22f436(0x44e)](_0x22f436(0x502),_0x3860a4),_0x39f2d6[_0x22f436(0x20c)](_0x2df12b=>{const _0x39af3c=_0x22f436;_0x2df12b[_0x39af3c(0x658)]===_0x3860a4&&_0x2df12b[_0x39af3c(0x4a8)]===void 0x0&&(_0x2df12b[_0x39af3c(0x4a8)]=0x270f);});let _0x1dce2e=_0x39f2d6['filter'](_0x5a63c5=>_0x5a63c5[_0x22f436(0x658)]===_0x3860a4);_0x1dce2e['sort']((_0x293968,_0x22911a)=>_0x293968['order']-_0x22911a[_0x22f436(0x4a8)]),_0x1dce2e[_0x22f436(0x20c)]((_0x29d436,_0xce7aed)=>{const _0x354246=_0x22f436;_0x29d436[_0x354246(0x4a8)]=_0xce7aed+0x1;}),_0x39f2d6['forEach'](_0x285720=>{const _0x35b427=_0x22f436;if(_0x285720['blockId']===_0x3860a4){let _0x353f02=_0x1dce2e[_0x35b427(0x524)](_0x1657e5=>_0x1657e5['_id']&&_0x285720[_0x35b427(0x173)]&&_0x1657e5[_0x35b427(0x173)]['toString']()===_0x285720[_0x35b427(0x173)]['toString']());_0x353f02&&(_0x285720[_0x35b427(0x4a8)]=_0x353f02[_0x35b427(0x4a8)]);}}),console['log'](_0x22f436(0x470),_0x39f2d6);}[a0_0x500e42(0x4f1)](_0x424294,_0x1fb64d){const _0x44d1ab=a0_0x500e42;let {replyOption:_0x29c1a9}=_0x1fb64d;if(!_0x29c1a9['_id']){this[_0x44d1ab(0x419)](_0x44d1ab(0x4e1));return;}if(!_0x424294[_0x44d1ab(0x4ac)]['find'](_0x55eb77=>_0x55eb77[_0x44d1ab(0x173)][_0x44d1ab(0x575)]()===_0x1fb64d[_0x44d1ab(0x5e5)]['_id'][_0x44d1ab(0x575)]())){this[_0x44d1ab(0x419)](_0x44d1ab(0x127)+_0x29c1a9[_0x44d1ab(0x173)]+_0x44d1ab(0x3f0));return;}_0x424294[_0x44d1ab(0x4ac)]=_0x424294[_0x44d1ab(0x4ac)][_0x44d1ab(0x5e7)](_0x122600=>_0x122600[_0x44d1ab(0x173)][_0x44d1ab(0x575)]()!==_0x1fb64d[_0x44d1ab(0x5e5)][_0x44d1ab(0x173)][_0x44d1ab(0x575)]());}async[a0_0x500e42(0x1a2)](_0x4f1c9a,_0xabd9a1){const _0x3ed893=a0_0x500e42;let _0x164f90=_0x4f1c9a[_0x3ed893(0x4ac)][_0x3ed893(0x453)](_0xdc2e1b=>_0xdc2e1b[_0x3ed893(0x173)][_0x3ed893(0x575)]()===_0xabd9a1[_0x3ed893(0x5e5)][_0x3ed893(0x173)]['toString']());if(_0x164f90===-0x1){this[_0x3ed893(0x419)](_0x3ed893(0x127)+_0xabd9a1[_0x3ed893(0x5e5)]['_id']+'\x20no\x20encontrado\x20para\x20atualizao.');return;}for(let _0x153768 in _0xabd9a1['replyOption'])_0xabd9a1[_0x3ed893(0x5e5)][_0x3ed893(0x569)](_0x153768)&&(_0x4f1c9a['replyOptions'][_0x164f90][_0x153768]=_0xabd9a1[_0x3ed893(0x5e5)][_0x153768]);}[a0_0x500e42(0x71d)](_0x32477a,_0x4eb1dc){const _0x2c51a3=a0_0x500e42;_0x32477a[_0x2c51a3(0x4ac)][_0x2c51a3(0x6e6)](_0x4eb1dc[_0x2c51a3(0x5e5)]);}async['editFlowGroup'](_0x95e679){const _0x593ae0=a0_0x500e42;this[_0x593ae0(0x15b)][_0x593ae0(0x261)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x95e679);try{this[_0x593ae0(0x15b)][_0x593ae0(0x261)](this[_0x593ae0(0x4cc)]+'\x20('+this[_0x593ae0(0x1de)]['wuid']+_0x593ae0(0x657));let _0x18e925=await this['repository'][_0x593ae0(0x61b)]['findOne']({'where':{'name':_0x95e679[_0x593ae0(0x46b)]}},this[_0x593ae0(0x1de)][_0x593ae0(0xed)]);if(!_0x18e925)throw new Error(_0x593ae0(0x70e));if(_0x95e679['group']&&_0x95e679['group']?.['delete']===!0x0){if(this[_0x593ae0(0x15b)][_0x593ae0(0x261)](this['instanceName']+'\x20('+this['instance'][_0x593ae0(0xed)]+_0x593ae0(0x4ad)),_0x95e679['group'][_0x593ae0(0x734)]===!0x0)return{'message':'No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro'};if(_0x18e925[_0x593ae0(0x240)]['some'](_0x2419c1=>_0x2419c1[_0x593ae0(0x55b)][_0x593ae0(0x575)]()===_0x95e679[_0x593ae0(0x4c5)][_0x593ae0(0x173)]))return this[_0x593ae0(0x15b)]['verbose'](this['instanceName']+'\x20('+this[_0x593ae0(0x1de)][_0x593ae0(0xed)]+'):\x20tem\x20blocks'),{'message':_0x593ae0(0x62d)};_0x18e925[_0x593ae0(0x2cb)]=_0x18e925['groups'][_0x593ae0(0x5e7)](_0x45f7d9=>_0x45f7d9['_id'][_0x593ae0(0x575)]()!==_0x95e679[_0x593ae0(0x4c5)]['_id']);}else{if(_0x95e679[_0x593ae0(0x4c5)]){if(_0x95e679['group'][_0x593ae0(0x734)]===!0x0)return{'message':_0x593ae0(0x671)};if(_0x95e679[_0x593ae0(0x4c5)][_0x593ae0(0x173)]){let _0x35f52d=_0x18e925[_0x593ae0(0x2cb)]['find'](_0x487fd5=>_0x487fd5[_0x593ae0(0x173)]['toString']()===_0x95e679['group'][_0x593ae0(0x173)]);_0x35f52d&&(_0x95e679[_0x593ae0(0x4c5)]['x']<0x0&&(_0x95e679[_0x593ae0(0x4c5)]['x']=0x0),_0x95e679[_0x593ae0(0x4c5)]['y']<0x0&&(_0x95e679['group']['y']=0x0),Object[_0x593ae0(0x5a9)](_0x35f52d,_0x95e679['group']));}else _0x18e925[_0x593ae0(0x2cb)][_0x593ae0(0x6e6)](_0x95e679['group']);}}let _0x389d8d=await this[_0x593ae0(0x578)][_0x593ae0(0x61b)][_0x593ae0(0x33a)](_0x18e925['_id'],_0x18e925,this[_0x593ae0(0x1de)][_0x593ae0(0xed)]);if(!_0x389d8d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x389d8d;}catch(_0x261dd9){throw this[_0x593ae0(0x15b)]['error'](this[_0x593ae0(0x4cc)]+'\x20('+this[_0x593ae0(0x1de)][_0x593ae0(0xed)]+_0x593ae0(0x228)+(_0x261dd9 instanceof Error?_0x261dd9[_0x593ae0(0x544)]:JSON['stringify'](_0x261dd9,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x261dd9 instanceof Error?_0x261dd9[_0x593ae0(0x544)]:JSON[_0x593ae0(0x574)](_0x261dd9,null,0x2)));}}async[a0_0x500e42(0x43b)](_0x469ac9){const _0x62b6ae=a0_0x500e42;try{this[_0x62b6ae(0x15b)][_0x62b6ae(0x261)](this['instanceName']+'\x20('+this[_0x62b6ae(0x1de)][_0x62b6ae(0xed)]+_0x62b6ae(0xfe));let _0x331688=await this[_0x62b6ae(0x578)][_0x62b6ae(0x61b)][_0x62b6ae(0x177)]({'where':{'name':_0x469ac9[_0x62b6ae(0x46b)]}},this['instance'][_0x62b6ae(0xed)]);if(!_0x331688)throw new Error(_0x62b6ae(0x70e));let _0x312554=!0x1;if(_0x469ac9['condition']?.[_0x62b6ae(0x322)]===!0x0)_0x331688[_0x62b6ae(0x2be)]=_0x331688[_0x62b6ae(0x2be)]['filter'](_0x331f20=>_0x331f20&&_0x469ac9['condition']&&_0x331f20[_0x62b6ae(0x173)]&&_0x469ac9[_0x62b6ae(0x13b)][_0x62b6ae(0x173)]&&_0x331f20[_0x62b6ae(0x173)][_0x62b6ae(0x575)]()!==_0x469ac9[_0x62b6ae(0x13b)][_0x62b6ae(0x173)][_0x62b6ae(0x575)]()),_0x312554=!0x0;else{let _0x23b455=_0x331688[_0x62b6ae(0x2be)]['find'](_0x5bc651=>_0x5bc651&&_0x469ac9[_0x62b6ae(0x13b)]&&_0x5bc651[_0x62b6ae(0x173)]&&_0x469ac9[_0x62b6ae(0x13b)]['_id']&&_0x5bc651[_0x62b6ae(0x173)][_0x62b6ae(0x575)]()===_0x469ac9[_0x62b6ae(0x13b)][_0x62b6ae(0x173)][_0x62b6ae(0x575)]());_0x23b455?(_0x312554=_0x23b455[_0x62b6ae(0x4a8)]!==_0x469ac9[_0x62b6ae(0x13b)][_0x62b6ae(0x4a8)],Object[_0x62b6ae(0x5a9)](_0x23b455,_0x469ac9['condition'])):(_0x331688[_0x62b6ae(0x2be)][_0x62b6ae(0x6e6)](_0x469ac9[_0x62b6ae(0x13b)]),_0x312554=!0x0);}if(_0x312554){_0x331688[_0x62b6ae(0x2be)][_0x62b6ae(0x4e9)]((_0x1c1ae7,_0x3679e5)=>_0x1c1ae7['order']>_0x3679e5[_0x62b6ae(0x4a8)]?0x1:_0x3679e5[_0x62b6ae(0x4a8)]>_0x1c1ae7[_0x62b6ae(0x4a8)]?-0x1:0x0);for(let _0x2c7479=0x0;_0x2c7479<_0x331688['conditions']['length'];_0x2c7479++)_0x331688[_0x62b6ae(0x2be)][_0x2c7479][_0x62b6ae(0x4a8)]=_0x2c7479+0x1;_0x331688[_0x62b6ae(0x2be)][_0x62b6ae(0x210)]>0x0&&(_0x331688['conditions'][0x0][_0x62b6ae(0x2c8)]=_0x62b6ae(0x58b));}let _0x602210=await this['repository'][_0x62b6ae(0x61b)][_0x62b6ae(0x33a)](_0x331688[_0x62b6ae(0x173)],_0x331688,this[_0x62b6ae(0x1de)][_0x62b6ae(0xed)]);if(!_0x602210)throw new Error(_0x62b6ae(0x1af));return _0x602210;}catch(_0x572b1a){throw this[_0x62b6ae(0x15b)][_0x62b6ae(0x478)](this[_0x62b6ae(0x4cc)]+'\x20('+this[_0x62b6ae(0x1de)][_0x62b6ae(0xed)]+'):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20'+(_0x572b1a instanceof Error?_0x572b1a[_0x62b6ae(0x544)]:JSON[_0x62b6ae(0x574)](_0x572b1a,null,0x2))),new Error(_0x62b6ae(0x1bb)+(_0x572b1a instanceof Error?_0x572b1a[_0x62b6ae(0x544)]:JSON[_0x62b6ae(0x574)](_0x572b1a,null,0x2)));}}async['editFlowVaredit'](_0x4ba9ff){const _0x10fce2=a0_0x500e42;try{this['logger'][_0x10fce2(0x261)](this[_0x10fce2(0x4cc)]+'\x20('+this[_0x10fce2(0x1de)][_0x10fce2(0xed)]+_0x10fce2(0x136));let _0x49309d=await this[_0x10fce2(0x578)][_0x10fce2(0x61b)]['findOne']({'where':{'name':_0x4ba9ff[_0x10fce2(0x46b)]}},this[_0x10fce2(0x1de)][_0x10fce2(0xed)]);if(!_0x49309d)throw new Error(_0x10fce2(0x70e));let _0x1b6d76=!0x1;if(_0x4ba9ff[_0x10fce2(0x42d)]?.[_0x10fce2(0x322)]===!0x0)_0x49309d['varedits']=_0x49309d[_0x10fce2(0x376)][_0x10fce2(0x5e7)](_0x2e0c41=>_0x2e0c41&&_0x4ba9ff['varedit']&&_0x2e0c41['_id']&&_0x4ba9ff[_0x10fce2(0x42d)][_0x10fce2(0x173)]&&_0x2e0c41[_0x10fce2(0x173)]['toString']()!==_0x4ba9ff[_0x10fce2(0x42d)][_0x10fce2(0x173)]['toString']()),_0x1b6d76=!0x0;else{let _0x4596e1=_0x49309d[_0x10fce2(0x376)]['find'](_0x2f7f2d=>_0x2f7f2d&&_0x4ba9ff['varedit']&&_0x2f7f2d[_0x10fce2(0x173)]&&_0x4ba9ff[_0x10fce2(0x42d)][_0x10fce2(0x173)]&&_0x2f7f2d[_0x10fce2(0x173)][_0x10fce2(0x575)]()===_0x4ba9ff[_0x10fce2(0x42d)][_0x10fce2(0x173)][_0x10fce2(0x575)]());_0x4596e1?(_0x1b6d76=_0x4596e1['order']!==_0x4ba9ff['varedit'][_0x10fce2(0x4a8)],Object[_0x10fce2(0x5a9)](_0x4596e1,_0x4ba9ff[_0x10fce2(0x42d)])):(_0x49309d[_0x10fce2(0x376)]['push'](_0x4ba9ff[_0x10fce2(0x42d)]),_0x1b6d76=!0x0);}if(_0x1b6d76){_0x49309d[_0x10fce2(0x376)][_0x10fce2(0x4e9)]((_0x4ebc35,_0x1573e5)=>_0x4ebc35['order']>_0x1573e5[_0x10fce2(0x4a8)]?0x1:_0x1573e5['order']>_0x4ebc35[_0x10fce2(0x4a8)]?-0x1:0x0);for(let _0x5a537d=0x0;_0x5a537d<_0x49309d[_0x10fce2(0x376)]['length'];_0x5a537d++)_0x49309d[_0x10fce2(0x376)][_0x5a537d][_0x10fce2(0x4a8)]=_0x5a537d+0x1;}let _0x2b40b9=await this['repository'][_0x10fce2(0x61b)][_0x10fce2(0x33a)](_0x49309d['_id'],_0x49309d,this[_0x10fce2(0x1de)][_0x10fce2(0xed)]);if(!_0x2b40b9)throw new Error(_0x10fce2(0x1af));return _0x2b40b9;}catch(_0x406ab4){throw this[_0x10fce2(0x15b)]['error'](this[_0x10fce2(0x4cc)]+'\x20('+this[_0x10fce2(0x1de)][_0x10fce2(0xed)]+_0x10fce2(0x272)+(_0x406ab4 instanceof Error?_0x406ab4[_0x10fce2(0x544)]:JSON[_0x10fce2(0x574)](_0x406ab4,null,0x2))),new m(_0x10fce2(0x1bb)+(_0x406ab4 instanceof Error?_0x406ab4[_0x10fce2(0x544)]:JSON[_0x10fce2(0x574)](_0x406ab4,null,0x2)));}}async[a0_0x500e42(0x5b3)](_0xc459){const _0xa82015=a0_0x500e42;try{this[_0xa82015(0x15b)][_0xa82015(0x261)](this['instanceName']+'\x20('+this[_0xa82015(0x1de)][_0xa82015(0xed)]+_0xa82015(0x1a1));let _0x4978c8=await this[_0xa82015(0x578)][_0xa82015(0x61b)]['findOne']({'where':{'name':_0xc459['name']}},this[_0xa82015(0x1de)][_0xa82015(0xed)]);if(!_0x4978c8)throw new Error(_0xa82015(0x70e));_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)]=_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)][_0xa82015(0x462)](),_0xc459['variable'][_0xa82015(0x46b)][_0xa82015(0x4ed)]('_')&&(_0xc459['variable'][_0xa82015(0x46b)]=_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)][_0xa82015(0x2e9)](0x1)),_0xc459[_0xa82015(0x3c6)]['name']=_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)]['trim']();let _0x24fe63=_0x4978c8[_0xa82015(0x498)]['find'](_0x36d1fb=>_0x36d1fb['name']===_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)]);if(_0x24fe63?.[_0xa82015(0x546)]===!0x0)throw new Error(_0xa82015(0x2c1));if(_0xc459[_0xa82015(0x3c6)]?.[_0xa82015(0x322)]===!0x0){if(!_0x24fe63)return{'message':_0xa82015(0x67d)};_0x4978c8[_0xa82015(0x498)]=_0x4978c8[_0xa82015(0x498)]['filter'](_0x2302c1=>_0x2302c1[_0xa82015(0x46b)]!==_0xc459[_0xa82015(0x3c6)][_0xa82015(0x46b)]);}else _0x24fe63?Object[_0xa82015(0x5a9)](_0x24fe63,_0xc459[_0xa82015(0x3c6)]):_0x4978c8['variables']['push'](_0xc459['variable']);let _0x1ddd02=await this[_0xa82015(0x578)]['flow']['updateOne'](_0x4978c8['_id'],_0x4978c8,this['instance'][_0xa82015(0xed)]);if(!_0x1ddd02)throw new Error(_0xa82015(0x1af));return _0x1ddd02;}catch(_0x4406df){throw this[_0xa82015(0x15b)][_0xa82015(0x478)](this[_0xa82015(0x4cc)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20'+(_0x4406df instanceof Error?_0x4406df[_0xa82015(0x544)]:JSON['stringify'](_0x4406df,null,0x2))),new m('Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo:\x20'+(_0x4406df instanceof Error?_0x4406df['message']:JSON[_0xa82015(0x574)](_0x4406df,null,0x2)));}}async[a0_0x500e42(0x178)](_0x15fd9e){const _0x2a6fda=a0_0x500e42;let _0x77f5d7=null;try{if(!this[_0x2a6fda(0x599)]?.['flowConfig'][_0x2a6fda(0x457)])throw new m('Fluxos\x20no\x20esto\x20ativados');this[_0x2a6fda(0x15b)][_0x2a6fda(0x261)](this[_0x2a6fda(0x4cc)]+'\x20('+this['instance'][_0x2a6fda(0xed)]+_0x2a6fda(0x733));let _0x2c2ee4=(await this[_0x2a6fda(0x27b)]({'numbers':[_0x15fd9e['remoteJid']]}))[0x0];if(!_0x2c2ee4[_0x2a6fda(0x499)]&&!(0x0,y[_0x2a6fda(0x19c)])(_0x2c2ee4['jid'])&&!_0x2c2ee4[_0x2a6fda(0x59b)][_0x2a6fda(0x3bd)](_0x2a6fda(0x3f7)))throw _0x77f5d7=JSON['stringify'](_0x2c2ee4,null,0x2),new m(_0x2c2ee4);let _0x1fb827=await this[_0x2a6fda(0x578)]['flow'][_0x2a6fda(0x177)]({'where':{'name':_0x15fd9e[_0x2a6fda(0x46b)]}},this['instance'][_0x2a6fda(0xed)]);if(!_0x1fb827)return this[_0x2a6fda(0x15b)][_0x2a6fda(0x478)](this[_0x2a6fda(0x4cc)]+'\x20('+this['instance'][_0x2a6fda(0xed)]+_0x2a6fda(0x391)),{'message':_0x2a6fda(0x70e)};let _0xbed7a=await this[_0x2a6fda(0x246)](_0x1fb827,_0x2c2ee4[_0x2a6fda(0x59b)],_0x15fd9e[_0x2a6fda(0x364)]);if(_0xbed7a){this[_0x2a6fda(0x15b)][_0x2a6fda(0x261)](this['instanceName']+'\x20('+this['instance'][_0x2a6fda(0xed)]+_0x2a6fda(0x4b9));let _0x27ffe0=await this['NextBlock'](_0xbed7a);return _0x27ffe0&&await this[_0x2a6fda(0x20a)](_0xbed7a,_0x27ffe0),{'message':_0x2a6fda(0x4db)+_0x15fd9e[_0x2a6fda(0x4e5)]};}}catch(_0x21ecf9){if(this[_0x2a6fda(0x15b)][_0x2a6fda(0x478)](this[_0x2a6fda(0x4cc)]+'\x20('+this[_0x2a6fda(0x1de)][_0x2a6fda(0xed)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x21ecf9 instanceof Error?_0x21ecf9[_0x2a6fda(0x544)]:JSON[_0x2a6fda(0x574)](_0x21ecf9,null,0x2))),_0x77f5d7=_0x21ecf9 instanceof Error?_0x21ecf9[_0x2a6fda(0x544)]:JSON['stringify'](_0x21ecf9,null,0x2),_0x77f5d7)throw new m(_0x2a6fda(0x146)+_0x77f5d7);}}async[a0_0x500e42(0x378)](_0xed1d91){const _0x5a4049=a0_0x500e42;try{let _0x546059={'remoteJid':_0xed1d91,'status':'open'},_0x28ae4b={'status':_0x5a4049(0x73d)},_0x591c20=await this[_0x5a4049(0x578)][_0x5a4049(0x20b)]['updateMany'](_0x546059,_0x28ae4b,this[_0x5a4049(0x1de)][_0x5a4049(0xed)]);return this[_0x5a4049(0x15b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5a4049(0x507)),_0x591c20;}catch(_0x1e313c){throw this['logger']['error'](this[_0x5a4049(0x4cc)]+'\x20('+this['instance']['wuid']+_0x5a4049(0x707)+_0x1e313c[_0x5a4049(0x544)]),_0x1e313c;}}async[a0_0x500e42(0x246)](_0xb81b45,_0x3497fa,_0x291c86){const _0x40fc6d=a0_0x500e42;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x40fc6d(0xed)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x40fc6d(0x378)](_0x3497fa);try{let _0x4f4822=require(_0x40fc6d(0x584))[_0x40fc6d(0x19e)],_0x147a8b=Date[_0x40fc6d(0x5e2)](),_0x3952be=_0x40fc6d(0x120),_0x509b06={},_0x3f6192={},_0x14153e={..._0xb81b45,'chatLog':null},_0x21e236=await this[_0x40fc6d(0x590)](_0x14153e[_0x40fc6d(0x498)]),_0x3e4a72=await this[_0x40fc6d(0x276)](_0x3497fa),_0x5e9919={..._0x21e236,..._0x3e4a72,'_remoteJid':_0x3497fa},_0x5131e9={'lastReceivedMessage':_0x509b06,'lastSendMessage':_0x3f6192,'lastBlockId':_0x3952be,'lastCondition':!0x0,'realVariables':_0x5e9919};_0x14153e['chatLog']=_0x5131e9,_0x14153e[_0x40fc6d(0x551)][_0x40fc6d(0x6f3)]={..._0x5e9919,..._0x291c86},delete _0x14153e[_0x40fc6d(0x173)],_0x14153e[_0x40fc6d(0x173)]=new _0x4f4822(),_0x14153e[_0x40fc6d(0x2b1)]=_0x147a8b,_0x14153e[_0x40fc6d(0x34d)]=_0x40fc6d(0x55c),_0x14153e[_0x40fc6d(0x4e5)]=_0x3497fa;let _0x1b6b9b=await this[_0x40fc6d(0x578)][_0x40fc6d(0x20b)]['updateOne'](_0x14153e[_0x40fc6d(0x173)],_0x14153e,this[_0x40fc6d(0x1de)][_0x40fc6d(0xed)]);return this[_0x40fc6d(0x15b)][_0x40fc6d(0x261)](this['instanceName']+'\x20('+this[_0x40fc6d(0x1de)][_0x40fc6d(0xed)]+_0x40fc6d(0x32a)),_0x1b6b9b?_0x14153e:null;}catch(_0x5e8b8a){throw this['logger']['error'](this[_0x40fc6d(0x4cc)]+'\x20('+this[_0x40fc6d(0x1de)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x5e8b8a instanceof Error?_0x5e8b8a[_0x40fc6d(0x544)]:JSON['stringify'](_0x5e8b8a,null,0x2))),new m(_0x5e8b8a['message']);}}async[a0_0x500e42(0x36d)](_0xb7daf7){const _0x3ce8f4=a0_0x500e42;try{this[_0x3ce8f4(0x15b)][_0x3ce8f4(0x261)](this[_0x3ce8f4(0x4cc)]+'\x20('+this[_0x3ce8f4(0x1de)][_0x3ce8f4(0xed)]+_0x3ce8f4(0x3be)),this[_0x3ce8f4(0x15b)]['verbose'](this[_0x3ce8f4(0x4cc)]+'\x20('+this[_0x3ce8f4(0x1de)][_0x3ce8f4(0xed)]+_0x3ce8f4(0x6df)+_0xb7daf7);let _0x939384={'where':{'_id':_0xb7daf7}};return await this['repository'][_0x3ce8f4(0x20b)][_0x3ce8f4(0x177)](_0x939384,this[_0x3ce8f4(0x1de)]['wuid']);}catch(_0x511722){throw this[_0x3ce8f4(0x15b)][_0x3ce8f4(0x478)](this[_0x3ce8f4(0x4cc)]+'\x20('+this[_0x3ce8f4(0x1de)][_0x3ce8f4(0xed)]+_0x3ce8f4(0x2df)+(_0x511722 instanceof Error?_0x511722[_0x3ce8f4(0x544)]:JSON['stringify'](_0x511722,null,0x2))),new m(_0x3ce8f4(0x72f)+_0x511722[_0x3ce8f4(0x544)]);}}async[a0_0x500e42(0x60d)](_0x135248){const _0x18d949=a0_0x500e42;try{return this[_0x18d949(0x15b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x18d949(0xed)]+_0x18d949(0x6ae)),await this['repository']['flowConversation'][_0x18d949(0x524)](_0x135248,this['instance']['wuid']);}catch(_0x8567a0){throw this[_0x18d949(0x15b)][_0x18d949(0x478)](this[_0x18d949(0x4cc)]+'\x20('+this[_0x18d949(0x1de)][_0x18d949(0xed)]+_0x18d949(0x417)+(_0x8567a0 instanceof Error?_0x8567a0[_0x18d949(0x544)]:JSON[_0x18d949(0x574)](_0x8567a0,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x8567a0[_0x18d949(0x544)]);}}async[a0_0x500e42(0x338)](_0x17c212){const _0x3a46a0=a0_0x500e42;try{return this['logger'][_0x3a46a0(0x261)](this[_0x3a46a0(0x4cc)]+'\x20('+this[_0x3a46a0(0x1de)]['wuid']+_0x3a46a0(0x3f3)),this[_0x3a46a0(0x15b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3a46a0(0xed)]+_0x3a46a0(0x5cc)+_0x17c212),(await this[_0x3a46a0(0x578)][_0x3a46a0(0x20b)]['deleteOne']({'where':{'_id':_0x17c212}},this[_0x3a46a0(0x1de)][_0x3a46a0(0xed)]))['deletedCount']===0x0?{'message':_0x3a46a0(0x63d)}:{'message':_0x3a46a0(0x226)};}catch(_0xe2d7ad){throw this[_0x3a46a0(0x15b)][_0x3a46a0(0x478)](this[_0x3a46a0(0x4cc)]+'\x20('+this[_0x3a46a0(0x1de)][_0x3a46a0(0xed)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0xe2d7ad instanceof Error?_0xe2d7ad['message']:JSON['stringify'](_0xe2d7ad,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0xe2d7ad[_0x3a46a0(0x544)]);}}async['editConversation'](_0x1129d9){const _0x18a754=a0_0x500e42;try{let {_id:_0x2f4155,chatLog:_0x1db9bb,status:_0x270ce1}=_0x1129d9;if(!_0x2f4155)return{'message':_0x18a754(0x48b)};let _0x28cea3={};if(_0x270ce1!==void 0x0&&(_0x28cea3[_0x18a754(0x34d)]=_0x270ce1),Object[_0x18a754(0x126)](_0x28cea3)[_0x18a754(0x210)]===0x0)return{'message':_0x18a754(0x621)};let _0x4571d7=await this['repository'][_0x18a754(0x20b)]['updateOne'](_0x2f4155,_0x28cea3,this['instance']['wuid']);return _0x4571d7||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.'};}catch(_0x407c3f){throw this[_0x18a754(0x15b)][_0x18a754(0x478)](this[_0x18a754(0x4cc)]+'\x20('+this[_0x18a754(0x1de)][_0x18a754(0xed)]+_0x18a754(0x71e)+(_0x407c3f instanceof Error?_0x407c3f[_0x18a754(0x544)]:JSON[_0x18a754(0x574)](_0x407c3f,null,0x2))),new m(_0x18a754(0x1b6)+_0x407c3f['message']);}}async['editChat'](_0x21e076){const _0x3e1c56=a0_0x500e42;let _0x5d6eed=await this[_0x3e1c56(0x578)][_0x3e1c56(0x6fe)][_0x3e1c56(0x177)]({'where':{'_id':_0x21e076['_id']}},this[_0x3e1c56(0x1de)][_0x3e1c56(0xed)]);if(!_0x5d6eed)throw new m(_0x3e1c56(0x550));console[_0x3e1c56(0x44e)](_0x21e076);try{_0x21e076['_id']=this[_0x3e1c56(0x5a8)](_0x21e076['_id']);let {_id:_0x2d5970,leadInfo:_0x272358}=_0x21e076;if(!_0x2d5970)throw new Error(_0x3e1c56(0x560));let _0x37b2e1=(_0x4f3e80,_0x229e1f,_0x1e8b9a)=>{const _0x5cc535=_0x3e1c56;_0x4f3e80&&_0x1e8b9a[_0x5cc535(0x20c)](_0x235cca=>{const _0x50ebb2=_0x5cc535;_0x4f3e80[_0x235cca]!==void 0x0&&(_0x229e1f[_0x50ebb2(0x222)+_0x235cca]=_0x4f3e80[_0x235cca]);});},_0x3ae97b={};if(_0x272358&&(_0x37b2e1(_0x272358,_0x3ae97b,[_0x3e1c56(0x4dd),_0x3e1c56(0x107),_0x3e1c56(0x2a9),_0x3e1c56(0x377),_0x3e1c56(0x34d),_0x3e1c56(0x6a5),_0x3e1c56(0x4f0),_0x3e1c56(0x56e),_0x3e1c56(0x3c5),_0x3e1c56(0x67b)]),Array[_0x3e1c56(0x6fa)](_0x272358[_0x3e1c56(0x6b5)])&&(_0x3ae97b[_0x3e1c56(0x5c1)]=_0x272358[_0x3e1c56(0x6b5)][_0x3e1c56(0x306)](_0xfb8afe=>({'_id':_0xfb8afe['_id'],'value':_0xfb8afe['value']}))),_0x21e076[_0x3e1c56(0x546)][_0x3e1c56(0x67b)]!==void 0x0)){let _0xeff98f=await this[_0x3e1c56(0x578)][_0x3e1c56(0x4a3)][_0x3e1c56(0x524)]({'where':{}},this[_0x3e1c56(0x1de)]['wuid']),_0x4c71a0=new Set(_0x21e076['leadInfo'][_0x3e1c56(0x67b)]||[]),_0x385e90=new Set(_0x21e076[_0x3e1c56(0x546)]['etiquetas']),_0x24d12e=new Set(_0xeff98f['map'](_0x53620e=>_0x53620e[_0x3e1c56(0x173)])),_0x3fed50=[..._0x385e90]['filter'](_0x4cf59a=>!_0x4c71a0['has'](_0x4cf59a)&&_0x24d12e[_0x3e1c56(0x180)](_0x4cf59a)),_0x5a1c05=[..._0x4c71a0][_0x3e1c56(0x5e7)](_0x2f7062=>!_0x385e90[_0x3e1c56(0x180)](_0x2f7062));if(_0x3ae97b[_0x3e1c56(0x293)]=[..._0x4c71a0],_0x5d6eed&&!_0x5d6eed[_0x3e1c56(0x194)]){for(let _0x50edb9 of _0x3fed50)await this[_0x3e1c56(0x16e)](_0x50edb9,_0x21e076[_0x3e1c56(0x173)]),_0x4c71a0[_0x3e1c56(0x45d)](_0x50edb9);for(let _0x37e013 of _0x5a1c05)await this['RemoveChatLabel'](_0x37e013,_0x21e076[_0x3e1c56(0x173)]),_0x4c71a0[_0x3e1c56(0x322)](_0x37e013);}}if(_0x21e076[_0x3e1c56(0x168)]!==void 0x0&&(_0x3ae97b[_0x3e1c56(0x168)]=Number(_0x21e076['unreadcount'])),Object[_0x3e1c56(0x126)](_0x3ae97b)[_0x3e1c56(0x210)]===0x0)throw new Error(_0x3e1c56(0x621));let _0x4f9b7d=await this['repository'][_0x3e1c56(0x6fe)][_0x3e1c56(0x33a)]({'where':{'_id':_0x21e076[_0x3e1c56(0x173)]}},_0x3ae97b,this[_0x3e1c56(0x1de)][_0x3e1c56(0xed)]);return _0x4f9b7d&&J(this[_0x3e1c56(0x4cc)],'chats',{'chat':_0x4f9b7d}),_0x4f9b7d?(this[_0x3e1c56(0x15b)][_0x3e1c56(0x261)](this[_0x3e1c56(0x4cc)]+'\x20('+this[_0x3e1c56(0x1de)][_0x3e1c56(0xed)]+_0x3e1c56(0x221)+JSON['stringify'](_0x4f9b7d,null,0x2)),_0x4f9b7d):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x42e4e3){throw this[_0x3e1c56(0x15b)]['error'](this[_0x3e1c56(0x4cc)]+'\x20('+this['instance'][_0x3e1c56(0xed)]+_0x3e1c56(0x639)+(_0x42e4e3 instanceof Error?_0x42e4e3[_0x3e1c56(0x544)]:JSON[_0x3e1c56(0x574)](_0x42e4e3,null,0x2))),new m(_0x3e1c56(0x144)+_0x42e4e3[_0x3e1c56(0x544)]);}}async[a0_0x500e42(0x16e)](_0x269868,_0x349442){const _0x4454dc=a0_0x500e42;try{await this['client'][_0x4454dc(0x2ce)](_0x349442,_0x269868),console[_0x4454dc(0x44e)](_0x4454dc(0x5dd)+_0x269868+_0x4454dc(0xf5)+_0x349442+_0x4454dc(0x4e2));}catch(_0x167af6){console['error'](_0x4454dc(0x73e)+_0x269868+_0x4454dc(0x288)+_0x349442+':',_0x167af6);}}async['RemoveChatLabel'](_0x20cb9a,_0x5700b9){const _0x72485a=a0_0x500e42;try{await this[_0x72485a(0x5c3)]['removeChatLabel'](_0x5700b9,_0x20cb9a),console[_0x72485a(0x44e)](_0x72485a(0x5dd)+_0x20cb9a+_0x72485a(0x561)+_0x5700b9+'\x20com\x20sucesso.');}catch(_0x27da5f){console[_0x72485a(0x478)](_0x72485a(0x430)+_0x20cb9a+_0x72485a(0x45e)+_0x5700b9+':',_0x27da5f);}}async[a0_0x500e42(0x58d)](_0x23bff9){const _0x19bc78=a0_0x500e42;try{let _0x5ca488=await this[_0x19bc78(0x578)][_0x19bc78(0x198)][_0x19bc78(0x6fd)](this[_0x19bc78(0x1de)]['wuid']),_0x478931=_0x23bff9['_id']?_0x5ca488[_0x19bc78(0xe3)][_0x19bc78(0x453)](_0x51efc9=>_0x51efc9[_0x19bc78(0x173)]===_0x23bff9[_0x19bc78(0x173)]):-0x1;if(_0x23bff9[_0x19bc78(0x322)]&&_0x478931>-0x1)_0x5ca488[_0x19bc78(0xe3)]['splice'](_0x478931,0x1);else{if(_0x478931>-0x1){let _0x2f0401=_0x5ca488[_0x19bc78(0xe3)][_0x478931];_0x23bff9[_0x19bc78(0x372)]&&(_0x2f0401['fone']=_0x23bff9[_0x19bc78(0x372)]),_0x23bff9[_0x19bc78(0x46b)]&&(_0x2f0401[_0x19bc78(0x46b)]=_0x23bff9[_0x19bc78(0x46b)]),_0x23bff9['email']&&(_0x2f0401[_0x19bc78(0x2a9)]=_0x23bff9['email']),_0x23bff9[_0x19bc78(0x108)]&&(_0x2f0401['role']=_0x23bff9[_0x19bc78(0x108)]);}else _0x5ca488[_0x19bc78(0xe3)][_0x19bc78(0x6e6)]({'_id':_0x23bff9['_id']||new ie['default'][(_0x19bc78(0x2c7))][(_0x19bc78(0x19e))]()['toString'](),'fone':_0x23bff9[_0x19bc78(0x372)],'name':_0x23bff9[_0x19bc78(0x46b)],'email':_0x23bff9[_0x19bc78(0x2a9)],'role':_0x23bff9[_0x19bc78(0x108)]});}let _0x313529={'agents':_0x5ca488[_0x19bc78(0xe3)]},_0x6dec27=await this[_0x19bc78(0x578)][_0x19bc78(0x198)][_0x19bc78(0x349)](_0x313529,this[_0x19bc78(0x1de)][_0x19bc78(0xed)]);return this['AutomateSystem']=_0x6dec27,this[_0x19bc78(0x15b)][_0x19bc78(0x261)](this[_0x19bc78(0x4cc)]+'\x20('+this[_0x19bc78(0x1de)][_0x19bc78(0xed)]+_0x19bc78(0x110)),this['logger']['verbose'](this[_0x19bc78(0x4cc)]+'\x20('+this[_0x19bc78(0x1de)]['wuid']+_0x19bc78(0x221)+this[_0x19bc78(0x599)]),_0x6dec27;}catch(_0x25b1cf){throw this[_0x19bc78(0x15b)][_0x19bc78(0x478)](this[_0x19bc78(0x4cc)]+'\x20('+this['instance'][_0x19bc78(0xed)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x25b1cf instanceof Error?_0x25b1cf['message']:JSON['stringify'](_0x25b1cf,null,0x2))),new m(_0x19bc78(0x189)+_0x25b1cf[_0x19bc78(0x544)]);}}async[a0_0x500e42(0x310)](_0xf722ea){const _0x3ee08c=a0_0x500e42;try{let _0x584128=await this['repository']['automateSystem'][_0x3ee08c(0x6fd)](this['instance'][_0x3ee08c(0xed)]),_0x284fb1=_0xf722ea[_0x3ee08c(0x173)]?_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0x453)](_0x2e1693=>_0x2e1693['_id']===_0xf722ea[_0x3ee08c(0x173)]):-0x1,_0x8401=!0x1,_0x2514bf=_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0xff)](_0x14ff11=>_0x14ff11[_0x3ee08c(0x4a8)]===_0xf722ea['order']);if(_0xf722ea['delete']&&_0x284fb1>-0x1)_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0x332)](_0x284fb1,0x1),_0x8401=!0x0;else{if(_0x284fb1>-0x1){if(_0x584128[_0x3ee08c(0x6b5)]['some'](_0x45992c=>_0x45992c[_0x3ee08c(0x46b)]===_0xf722ea[_0x3ee08c(0x46b)]&&_0x45992c[_0x3ee08c(0x173)]!==_0xf722ea[_0x3ee08c(0x173)]))throw new Error(_0x3ee08c(0x1f1));let _0x533233=_0x584128['customFields'][_0x284fb1];_0xf722ea[_0x3ee08c(0x4a8)]&&(_0x2514bf||!Number[_0x3ee08c(0x386)](_0xf722ea[_0x3ee08c(0x4a8)]))&&(_0x533233['order']=_0xf722ea[_0x3ee08c(0x4a8)],_0x8401=!0x0),_0xf722ea[_0x3ee08c(0x46b)]&&(_0x533233['name']=_0xf722ea[_0x3ee08c(0x46b)]);}else{if(_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0xff)](_0x494710=>_0x494710[_0x3ee08c(0x46b)]===_0xf722ea['name']&&_0x494710['_id']!==_0xf722ea['_id']))throw new Error(_0x3ee08c(0x1f1));_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0x6e6)]({'_id':_0xf722ea[_0x3ee08c(0x173)]||new ie['default'][(_0x3ee08c(0x2c7))][(_0x3ee08c(0x19e))]()[_0x3ee08c(0x575)](),'order':_0xf722ea[_0x3ee08c(0x4a8)],'name':_0xf722ea[_0x3ee08c(0x46b)]}),_0x8401=!0x0;}}if(_0x8401){_0x584128['customFields'][_0x3ee08c(0x4e9)]((_0x5e3a0f,_0x289a3e)=>_0x5e3a0f[_0x3ee08c(0x4a8)]>_0x289a3e[_0x3ee08c(0x4a8)]?0x1:_0x289a3e[_0x3ee08c(0x4a8)]>_0x5e3a0f[_0x3ee08c(0x4a8)]?-0x1:0x0);for(let _0xfe78fb=0x0;_0xfe78fb<_0x584128[_0x3ee08c(0x6b5)][_0x3ee08c(0x210)];_0xfe78fb++)_0x584128['customFields'][_0xfe78fb][_0x3ee08c(0x4a8)]=_0xfe78fb+0x1;}let _0x2c16f4=await this[_0x3ee08c(0x578)][_0x3ee08c(0x198)][_0x3ee08c(0x349)](_0x584128,this[_0x3ee08c(0x1de)][_0x3ee08c(0xed)]);return this[_0x3ee08c(0x599)]=_0x2c16f4,this['logger'][_0x3ee08c(0x261)](this[_0x3ee08c(0x4cc)]+'\x20('+this[_0x3ee08c(0x1de)][_0x3ee08c(0xed)]+_0x3ee08c(0x66c)),this[_0x3ee08c(0x15b)][_0x3ee08c(0x261)](this['instanceName']+'\x20('+this[_0x3ee08c(0x1de)][_0x3ee08c(0xed)]+_0x3ee08c(0x221)+this[_0x3ee08c(0x599)]),_0x2c16f4;}catch(_0x1b661f){throw this[_0x3ee08c(0x15b)]['error'](this[_0x3ee08c(0x4cc)]+'\x20('+this[_0x3ee08c(0x1de)][_0x3ee08c(0xed)]+_0x3ee08c(0x60b)+(_0x1b661f instanceof Error?_0x1b661f[_0x3ee08c(0x544)]:JSON['stringify'](_0x1b661f,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x1b661f['message']);}}async[a0_0x500e42(0x2f1)](_0x374cca){const _0x4f45dd=a0_0x500e42;try{let _0x4ab4d6=await this[_0x4f45dd(0x578)][_0x4f45dd(0x198)]['findOrCreate'](this['instance']['wuid']);if(!_0x4ab4d6)throw new Error(_0x4f45dd(0x2d5));let _0x55e505={'_id':_0x4ab4d6[_0x4f45dd(0x173)],'flowConfig':{'enabled':_0x374cca[_0x4f45dd(0x457)]??_0x4ab4d6['flowConfig'][_0x4f45dd(0x457)],'ignoreGroups':_0x374cca[_0x4f45dd(0x55e)]??_0x4ab4d6[_0x4f45dd(0x35d)][_0x4f45dd(0x55e)],'prefixCommand':_0x374cca[_0x4f45dd(0x326)]??_0x4ab4d6[_0x4f45dd(0x35d)][_0x4f45dd(0x326)],'stopConversation':_0x374cca['stopConversation']??_0x4ab4d6['flowConfig']['stopConversation'],'stopMinutes':_0x374cca['stopMinutes']??_0x4ab4d6['flowConfig'][_0x4f45dd(0x53d)],'stopWhenYouSendMsg':_0x374cca[_0x4f45dd(0x385)]??_0x4ab4d6[_0x4f45dd(0x35d)][_0x4f45dd(0x385)]}},_0x3576e4=await this[_0x4f45dd(0x578)][_0x4f45dd(0x198)][_0x4f45dd(0x349)](_0x55e505,this[_0x4f45dd(0x1de)][_0x4f45dd(0xed)]);return this[_0x4f45dd(0x599)]=_0x3576e4,this[_0x4f45dd(0x15b)][_0x4f45dd(0x261)](this['instanceName']+'\x20('+this[_0x4f45dd(0x1de)][_0x4f45dd(0xed)]+'):\x20alterando\x20this.AutomateSystem'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4f45dd(0x1de)][_0x4f45dd(0xed)]+_0x4f45dd(0x221)+this['AutomateSystem']),setTimeout(()=>this[_0x4f45dd(0x1c5)](),0x7d0),_0x3576e4;}catch(_0x15e7d8){throw this[_0x4f45dd(0x15b)][_0x4f45dd(0x478)](this[_0x4f45dd(0x4cc)]+'\x20('+this[_0x4f45dd(0x1de)]['wuid']+_0x4f45dd(0x36b)+(_0x15e7d8 instanceof Error?_0x15e7d8[_0x4f45dd(0x544)]:JSON[_0x4f45dd(0x574)](_0x15e7d8,null,0x2))),new m(_0x4f45dd(0x22e)+_0x15e7d8[_0x4f45dd(0x544)]);}}async[a0_0x500e42(0x131)](){const _0xbef98d=a0_0x500e42;try{let _0xa6735f=await this[_0xbef98d(0x578)]['automateSystem'][_0xbef98d(0x6fd)](this['instance']['wuid']);return this[_0xbef98d(0x599)]=_0xa6735f,this[_0xbef98d(0x15b)][_0xbef98d(0x261)](this['instanceName']+'\x20('+this[_0xbef98d(0x1de)][_0xbef98d(0xed)]+_0xbef98d(0x69a)),this[_0xbef98d(0x15b)]['verbose'](this[_0xbef98d(0x599)]),_0xa6735f;}catch(_0xbd631d){throw this[_0xbef98d(0x15b)]['error'](this[_0xbef98d(0x4cc)]+'\x20('+this[_0xbef98d(0x1de)]['wuid']+_0xbef98d(0xf1)+(_0xbd631d instanceof Error?_0xbd631d[_0xbef98d(0x544)]:JSON[_0xbef98d(0x574)](_0xbd631d,null,0x2))),new m(_0xbef98d(0x3d2)+_0xbd631d[_0xbef98d(0x544)]);}}async[a0_0x500e42(0x49c)](){const _0x4b6e5f=a0_0x500e42;this['timerId']&&clearTimeout(this[_0x4b6e5f(0x3c2)]),this['timerId']=setTimeout(()=>{const _0x40ccbf=_0x4b6e5f;this[_0x40ccbf(0x279)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x500e42(0x279)](){const _0x13961d=a0_0x500e42;Date[_0x13961d(0x5e2)]()-this[_0x13961d(0x264)]>=0x1d4c0&&(this[_0x13961d(0x15b)][_0x13961d(0x261)](this[_0x13961d(0x4cc)]+'\x20('+this[_0x13961d(0x1de)][_0x13961d(0xed)]+_0x13961d(0x5c0)),this[_0x13961d(0x1c7)]=null,this[_0x13961d(0x264)]=0x0,this['delayMessage']=0x0,await this[_0x13961d(0x1c5)]());}async[a0_0x500e42(0x1c5)](){const _0x31c021=a0_0x500e42;let _0x599d8d=()=>{const _0x3d3e9f=a0_0x3d52;this[_0x3d3e9f(0x15b)][_0x3d3e9f(0x261)](this[_0x3d3e9f(0x4cc)]+'\x20('+this['instance']['wuid']+_0x3d3e9f(0x1eb)+this[_0x3d3e9f(0x1c7)]+_0x3d3e9f(0x545));},_0x18714e=async()=>{const _0x366680=a0_0x3d52;this[_0x366680(0x15b)][_0x366680(0x261)](this[_0x366680(0x4cc)]+'\x20('+this[_0x366680(0x1de)][_0x366680(0xed)]+_0x366680(0x4b8));let _0x45c6ac=Date[_0x366680(0x5e2)]()-0xc*0x3c*0x3c*0x3e8,_0x27e6c0={'where':{'status':{'$in':[_0x366680(0x390),_0x366680(0x541)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x45c6ac}},{'when':0x0}]}};return await this[_0x366680(0x578)][_0x366680(0x4d8)]['find'](_0x27e6c0,this[_0x366680(0x1de)][_0x366680(0xed)]);},_0x57ee19=async _0x5e32f9=>{const _0x59d52f=a0_0x3d52;for(let _0x573aa4 of _0x5e32f9){let _0x3ecc11={'_id':_0x573aa4[_0x59d52f(0x173)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x578a8e={'startSend':Date[_0x59d52f(0x5e2)]()};if(!await this['repository'][_0x59d52f(0x4d8)][_0x59d52f(0x33a)](_0x3ecc11,_0x578a8e,this[_0x59d52f(0x1de)][_0x59d52f(0xed)]))return;if(!this['isConnected']){this['logger'][_0x59d52f(0x261)](this[_0x59d52f(0x4cc)]+'\x20('+this['instance']['wuid']+_0x59d52f(0x3aa));break;}if(_0x573aa4[_0x59d52f(0x65c)]===_0x59d52f(0x61b)&&!this['AutomateSystem']?.[_0x59d52f(0x35d)][_0x59d52f(0x457)]){this[_0x59d52f(0x15b)][_0x59d52f(0x478)](this[_0x59d52f(0x4cc)]+'\x20('+this[_0x59d52f(0x1de)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.');continue;}(!_0x573aa4[_0x59d52f(0x13c)]||_0x573aa4['remoteJidsRemaining'][_0x59d52f(0x210)]===0x0)&&(_0x573aa4=await this[_0x59d52f(0x578)][_0x59d52f(0x4d8)][_0x59d52f(0x19b)](_0x573aa4[_0x59d52f(0x173)],{'status':_0x59d52f(0x541),'remoteJidsRemaining':[..._0x573aa4[_0x59d52f(0x5de)]]},this[_0x59d52f(0x1de)][_0x59d52f(0xed)]));for(let _0x5aee4b of _0x573aa4['remoteJidsRemaining']){if(await this[_0x59d52f(0x49c)](),this[_0x59d52f(0x264)]=Date['now'](),_0x573aa4[_0x59d52f(0x211)][_0x59d52f(0xff)](_0x25e310=>_0x25e310[_0x59d52f(0x4e5)]===_0x5aee4b)){this['logger'][_0x59d52f(0x261)](this[_0x59d52f(0x4cc)]+'\x20('+this[_0x59d52f(0x1de)]['wuid']+'):\x20Mensagem\x20j\x20enviada\x20para\x20'+_0x5aee4b+_0x59d52f(0x538));continue;}if(!this[_0x59d52f(0x554)]){this[_0x59d52f(0x15b)][_0x59d52f(0x261)](this[_0x59d52f(0x4cc)]+'\x20('+this['instance']['wuid']+_0x59d52f(0x356));break;}if(!this[_0x59d52f(0x1c7)]){this['logger'][_0x59d52f(0x261)](this[_0x59d52f(0x4cc)]+'\x20('+this[_0x59d52f(0x1de)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x573aa4[_0x59d52f(0x173)]+_0x59d52f(0x1e1));break;}if(_0x573aa4[_0x59d52f(0x65c)]==='flow'&&!this[_0x59d52f(0x599)]?.[_0x59d52f(0x35d)][_0x59d52f(0x457)]){this[_0x59d52f(0x15b)]['error'](this[_0x59d52f(0x4cc)]+'\x20('+this[_0x59d52f(0x1de)][_0x59d52f(0xed)]+_0x59d52f(0x268));break;}let _0x133a8a={'remoteJid':_0x5aee4b,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x59d52f(0x5e2)]()},_0x55c11f=null;try{let _0x3e405a=await this[_0x59d52f(0x603)](_0x5aee4b,_0x573aa4);_0x133a8a[_0x59d52f(0x478)]=_0x3e405a[_0x59d52f(0x478)],_0x133a8a['id']=_0x3e405a['error']?null:_0x3e405a['id'],_0x133a8a[_0x59d52f(0x252)]=_0x3e405a[_0x59d52f(0x478)]?_0x3e405a[_0x59d52f(0x315)]?_0x3e405a[_0x59d52f(0x315)]['toString']():'':null;let _0x3573a3={'$push':{'messagesSend':_0x133a8a},'$pull':{'remoteJidsRemaining':_0x5aee4b}},_0x1d4deb=_0x573aa4[_0x59d52f(0x173)];if(_0x55c11f=await this[_0x59d52f(0x578)]['scheduleMessage'][_0x59d52f(0x19b)](_0x1d4deb,_0x3573a3,this['instance']['wuid']),_0x3e405a['error'])continue;let _0x21fa4e=this[_0x59d52f(0x53c)](_0x573aa4[_0x59d52f(0x297)],_0x573aa4[_0x59d52f(0x4f4)]);await this[_0x59d52f(0x477)](_0x21fa4e);}catch(_0x22772a){this[_0x59d52f(0x15b)][_0x59d52f(0x478)](this[_0x59d52f(0x4cc)]+'\x20('+this['instance'][_0x59d52f(0xed)]+_0x59d52f(0x2c4)+_0x5aee4b+':\x20'+(_0x22772a instanceof Error?_0x22772a[_0x59d52f(0x544)]:JSON[_0x59d52f(0x574)](_0x22772a,null,0x2))),_0x133a8a[_0x59d52f(0x478)]=!0x0,_0x133a8a['error_log']=_0x22772a[_0x59d52f(0x544)];let _0x36fce1={'$push':{'messagesSend':_0x133a8a},'$pull':{'remoteJidsRemaining':_0x5aee4b}},_0x14165e=_0x573aa4[_0x59d52f(0x173)];_0x55c11f=await this[_0x59d52f(0x578)][_0x59d52f(0x4d8)][_0x59d52f(0x19b)](_0x14165e,_0x36fce1,this[_0x59d52f(0x1de)][_0x59d52f(0xed)]);}finally{if(_0x55c11f&&_0x55c11f[_0x59d52f(0x34d)]==='stopped'){this[_0x59d52f(0x15b)][_0x59d52f(0x261)](this[_0x59d52f(0x4cc)]+'\x20('+this[_0x59d52f(0x1de)][_0x59d52f(0xed)]+_0x59d52f(0x52f)+_0x573aa4[_0x59d52f(0x173)]+_0x59d52f(0x290));break;}}}let _0x549857=await this[_0x59d52f(0x578)]['scheduleMessage'][_0x59d52f(0x5e6)](_0x573aa4[_0x59d52f(0x173)],this[_0x59d52f(0x1de)][_0x59d52f(0xed)]);if(_0x549857['remoteJidsRemaining'][_0x59d52f(0x210)]===0x0&&_0x549857[_0x59d52f(0x34d)]!==_0x59d52f(0x2a7)){let _0x48707d={'$set':{'status':_0x59d52f(0x23f)}},_0x1d63b8=_0x549857['_id'];await this['repository'][_0x59d52f(0x4d8)]['updateOneById'](_0x1d63b8,_0x48707d,this['instance']['wuid']);}await new Promise(_0x2d0dd5=>setTimeout(_0x2d0dd5,0x1388));}},_0x752872=async()=>{const _0xda09a3=a0_0x3d52;let _0x3ff2b7={'where':{'status':_0xda09a3(0x390),'when':{'$gt':Date[_0xda09a3(0x5e2)]()}}},_0x10abd4=await this[_0xda09a3(0x578)][_0xda09a3(0x4d8)]['findOne'](_0x3ff2b7,this[_0xda09a3(0x1de)][_0xda09a3(0xed)]);_0x10abd4&&_0x10abd4[_0xda09a3(0x4b4)]-Date[_0xda09a3(0x5e2)]()<=0x5265c00?this['delayMessage']=_0x10abd4[_0xda09a3(0x4b4)]-Date[_0xda09a3(0x5e2)]():this[_0xda09a3(0x642)]=(0x3c+Math[_0xda09a3(0x114)](Math[_0xda09a3(0x689)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0xda09a3(0x22f)](this['delayMessage'],0x7d0);let _0x5d4018=Math[_0xda09a3(0x1d2)](this[_0xda09a3(0x642)]/0xea60);if(_0x10abd4){let _0xeded94=new Date(_0x10abd4[_0xda09a3(0x4b4)])[_0xda09a3(0x71f)]();this['logger'][_0xda09a3(0x261)](this[_0xda09a3(0x4cc)]+'\x20('+this[_0xda09a3(0x1de)][_0xda09a3(0xed)]+_0xda09a3(0x699)+_0xeded94+',\x20far\x20nova\x20verificao\x20em\x20'+_0x5d4018+'\x20minutos');}else this[_0xda09a3(0x15b)][_0xda09a3(0x261)](this[_0xda09a3(0x4cc)]+'\x20('+this[_0xda09a3(0x1de)][_0xda09a3(0xed)]+_0xda09a3(0x295)+_0x5d4018+_0xda09a3(0x266));setTimeout(()=>this[_0xda09a3(0x1c5)](),this['delayMessage']);};if(this[_0x31c021(0x1c7)]){await this[_0x31c021(0x49c)](),_0x599d8d();return;}if(!this[_0x31c021(0x554)]){this[_0x31c021(0x15b)]['verbose'](this['instanceName']+'\x20('+this[_0x31c021(0x1de)]['wuid']+_0x31c021(0xe7)),this[_0x31c021(0x1c7)]=null,this[_0x31c021(0x264)]=0x0,this[_0x31c021(0x642)]=0x0;return;}try{let _0x234e86=await _0x18714e();_0x234e86[_0x31c021(0x210)]===0x0?this[_0x31c021(0x15b)][_0x31c021(0x261)](this[_0x31c021(0x4cc)]+'\x20('+this[_0x31c021(0x1de)][_0x31c021(0xed)]+_0x31c021(0x749)):(this[_0x31c021(0x1c7)]=_0x234e86[0x0]['_id'],await _0x57ee19(_0x234e86)),await _0x752872(),this['processingScheduleMessageId']=null;}catch(_0x4d272c){this[_0x31c021(0x15b)][_0x31c021(0x478)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x4d272c instanceof Error?_0x4d272c[_0x31c021(0x544)]:JSON[_0x31c021(0x574)](_0x4d272c,null,0x2)));}}['getDelay'](_0x555771,_0x33e630){const _0x3ccd5b=a0_0x500e42;return _0x555771=Math[_0x3ccd5b(0x22f)](0.5,_0x555771),_0x33e630=Math['min'](Math[_0x3ccd5b(0x22f)](0x3,_0x33e630),0x78),Math[_0x3ccd5b(0x114)](Math[_0x3ccd5b(0x689)]()*(_0x33e630-_0x555771+0x1)+_0x555771)*0x3e8;}[a0_0x500e42(0x477)](_0x565af9){return new Promise(_0x4e4b37=>setTimeout(_0x4e4b37,_0x565af9));}async['getVariablesChat'](_0x42b658){const _0x8d5415=a0_0x500e42;if(!this[_0x8d5415(0x599)]&&(await this['getAutomateSystem'](),!this[_0x8d5415(0x599)]))return null;_0x42b658=this[_0x8d5415(0x5a8)](_0x42b658);let _0x7954d1=await this[_0x8d5415(0x578)][_0x8d5415(0x6fe)][_0x8d5415(0x177)]({'where':{'_id':_0x42b658}},this['instance'][_0x8d5415(0xed)]),_0x5c0b7a={};if(_0x7954d1&&_0x7954d1[_0x8d5415(0x546)]){let _0x565159=_0x7954d1[_0x8d5415(0x546)];typeof _0x565159['nome']==_0x8d5415(0x549)&&(_0x5c0b7a[_0x8d5415(0x4dd)]=_0x565159[_0x8d5415(0x4dd)]),typeof _0x565159[_0x8d5415(0x107)]==_0x8d5415(0x549)&&(_0x5c0b7a[_0x8d5415(0x107)]=_0x565159[_0x8d5415(0x107)]),typeof _0x565159[_0x8d5415(0x2a9)]==_0x8d5415(0x549)&&(_0x5c0b7a['email']=_0x565159[_0x8d5415(0x2a9)]),typeof _0x565159[_0x8d5415(0x377)]==_0x8d5415(0x549)&&(_0x5c0b7a[_0x8d5415(0x377)]=_0x565159[_0x8d5415(0x377)]),typeof _0x565159['status']==_0x8d5415(0x549)&&(_0x5c0b7a[_0x8d5415(0x34d)]=_0x565159[_0x8d5415(0x34d)]),typeof _0x565159[_0x8d5415(0x6a5)]=='string'&&(_0x5c0b7a[_0x8d5415(0x6a5)]=_0x565159[_0x8d5415(0x6a5)]),typeof _0x565159[_0x8d5415(0x3c5)]==_0x8d5415(0x549)&&(_0x5c0b7a[_0x8d5415(0x3c5)]=_0x565159['responsavelid']),Array['isArray'](_0x565159[_0x8d5415(0x4f0)])&&(_0x5c0b7a[_0x8d5415(0x4f0)]=_0x565159[_0x8d5415(0x4f0)][_0x8d5415(0x667)](',\x20')),Array[_0x8d5415(0x6fa)](_0x565159['etiquetas'])&&(_0x5c0b7a[_0x8d5415(0x67b)]=_0x565159[_0x8d5415(0x67b)][_0x8d5415(0x667)](',\x20'));}return _0x7954d1&&_0x7954d1[_0x8d5415(0x546)]&&_0x7954d1[_0x8d5415(0x546)][_0x8d5415(0x6b5)]&&_0x7954d1['leadInfo'][_0x8d5415(0x6b5)]['forEach'](_0x49798d=>{const _0x599124=_0x8d5415;let _0x778be7=this[_0x599124(0x599)]?.[_0x599124(0x6b5)]['find'](_0x39a00c=>_0x39a00c[_0x599124(0x173)]===_0x49798d[_0x599124(0x173)]);_0x778be7&&(_0x5c0b7a[_0x778be7['name']]=_0x49798d['value']);}),_0x5c0b7a;}async['replaceVariablesChat'](_0x577e1c,_0x1f9aba){const _0x5c30ad=a0_0x500e42;let _0x50295a=await this[_0x5c30ad(0x276)](_0x1f9aba);return this[_0x5c30ad(0x4a6)](_0x577e1c,_0x50295a);}async[a0_0x500e42(0x556)](_0x3c1593){const _0x5279ca=a0_0x500e42;try{if(this[_0x5279ca(0x15b)]['verbose'](this[_0x5279ca(0x4cc)]+'\x20('+this[_0x5279ca(0x1de)][_0x5279ca(0xed)]+_0x5279ca(0x175)),_0x3c1593[_0x5279ca(0x322)]&&_0x3c1593['_id']){if(this['processingScheduleMessageId']===_0x3c1593[_0x5279ca(0x173)]['toString']())throw new Error(_0x5279ca(0x34c));let _0x8e7d0a=await this['repository'][_0x5279ca(0x4d8)]['deleteOne'](_0x3c1593['_id'],this[_0x5279ca(0x1de)][_0x5279ca(0xed)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x8e7d0a;}let _0x6c7b44;if(_0x3c1593[_0x5279ca(0x173)]&&(_0x6c7b44=await this['repository'][_0x5279ca(0x4d8)][_0x5279ca(0x5e6)](_0x3c1593['_id'],this[_0x5279ca(0x1de)][_0x5279ca(0xed)])),_0x6c7b44){let _0x1efe55;if(this[_0x5279ca(0x1c7)]===_0x6c7b44[_0x5279ca(0x173)][_0x5279ca(0x575)]())_0x1efe55={'$set':{'status':_0x3c1593['status']}};else{let {_id:_0x13bff9,..._0x4f3d58}=_0x3c1593;_0x1efe55={'$set':_0x4f3d58};}let _0x28edf0=await this['repository'][_0x5279ca(0x4d8)]['updateOneById'](_0x3c1593[_0x5279ca(0x173)],_0x1efe55,this[_0x5279ca(0x1de)][_0x5279ca(0xed)]);return setTimeout(()=>this[_0x5279ca(0x1c5)](),0x7d0),_0x28edf0;}else{_0x3c1593[_0x5279ca(0x11c)]=this[_0x5279ca(0x1de)][_0x5279ca(0xed)];let _0x3a9ad7=await this[_0x5279ca(0x578)]['scheduleMessage']['createAndSave'](_0x3c1593,this[_0x5279ca(0x1de)][_0x5279ca(0xed)]);return setTimeout(()=>this[_0x5279ca(0x1c5)](),0x7d0),_0x3a9ad7;}}catch(_0x5c5eff){throw this[_0x5279ca(0x15b)][_0x5279ca(0x478)](this[_0x5279ca(0x4cc)]+'\x20('+this['instance']['wuid']+_0x5279ca(0x62f)+(_0x5c5eff instanceof Error?_0x5c5eff[_0x5279ca(0x544)]:JSON[_0x5279ca(0x574)](_0x5c5eff,null,0x2))),new m('Erro:'+_0x5c5eff['message']);}}async[a0_0x500e42(0x224)](){const _0x2180ea=a0_0x500e42;try{return await this[_0x2180ea(0x578)][_0x2180ea(0x4d8)][_0x2180ea(0x524)]({'where':{}},this['instance'][_0x2180ea(0xed)]);}catch(_0x4e5ced){throw this['logger'][_0x2180ea(0x478)](this['instanceName']+'\x20('+this[_0x2180ea(0x1de)][_0x2180ea(0xed)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x4e5ced instanceof Error?_0x4e5ced[_0x2180ea(0x544)]:JSON[_0x2180ea(0x574)](_0x4e5ced,null,0x2))),new m(_0x2180ea(0x12f)+_0x4e5ced[_0x2180ea(0x544)]);}}async[a0_0x500e42(0x628)](){const _0x14e322=a0_0x500e42;try{let _0x1be7da={'status':_0x14e322(0x23f)},_0x38f74c=await this[_0x14e322(0x578)][_0x14e322(0x4d8)][_0x14e322(0x44a)](_0x1be7da,this[_0x14e322(0x1de)]['wuid']);if(!_0x38f74c[_0x14e322(0x478)])this[_0x14e322(0x15b)][_0x14e322(0x261)](this['instanceName']+'\x20('+this[_0x14e322(0x1de)][_0x14e322(0xed)]+_0x14e322(0x44f));else throw new Error(_0x38f74c[_0x14e322(0x478)]['message']||_0x14e322(0x74c));return this['getScheduleMessage']();}catch(_0x933216){throw this[_0x14e322(0x15b)]['error'](this[_0x14e322(0x4cc)]+'\x20('+this[_0x14e322(0x1de)]['wuid']+_0x14e322(0x39d)+(_0x933216 instanceof Error?_0x933216[_0x14e322(0x544)]:JSON[_0x14e322(0x574)](_0x933216,null,0x2))),new m(_0x14e322(0x12f)+_0x933216[_0x14e322(0x544)]);}}async[a0_0x500e42(0x603)](_0x475c22,_0x6869ba){const _0x6c1c6d=a0_0x500e42;try{if(_0x6869ba[_0x6c1c6d(0x65c)]===_0x6c1c6d(0x61b)&&!this['AutomateSystem']?.[_0x6c1c6d(0x35d)]['enabled'])return this['logger'][_0x6c1c6d(0x478)](this[_0x6c1c6d(0x4cc)]+'\x20('+this['instance'][_0x6c1c6d(0xed)]+_0x6c1c6d(0x72a)),{'error':!0x0,'detail':_0x6c1c6d(0x29d)};switch(_0x6869ba[_0x6c1c6d(0x65c)]){case _0x6c1c6d(0x738):return await this[_0x6c1c6d(0x717)](_0x6869ba,_0x475c22);case'media':return await this[_0x6c1c6d(0x11b)](_0x6869ba,_0x475c22);case'audio':return await this[_0x6c1c6d(0x312)](_0x6869ba,_0x475c22);case'flow':let _0xfe2d2=new _e();return _0xfe2d2[_0x6c1c6d(0x46b)]=_0x6869ba['flowName'],_0xfe2d2['remoteJid']=_0x475c22,await this[_0x6c1c6d(0x178)](_0xfe2d2);break;default:return this[_0x6c1c6d(0x15b)][_0x6c1c6d(0x478)](this[_0x6c1c6d(0x4cc)]+'\x20('+this['instance'][_0x6c1c6d(0xed)]+_0x6c1c6d(0x2b4)+_0x6869ba[_0x6c1c6d(0x65c)]),{'error':!0x0,'detail':_0x6c1c6d(0x700)};}}catch(_0x2b3ea7){return this['logger']['error'](this[_0x6c1c6d(0x4cc)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x2b3ea7 instanceof Error?_0x2b3ea7[_0x6c1c6d(0x544)]:JSON[_0x6c1c6d(0x574)](_0x2b3ea7,null,0x2))),{'error':!0x0,'detail':_0x2b3ea7['message']};}}[a0_0x500e42(0x26e)](_0xa463eb){const _0x4d0a94=a0_0x500e42;let _0x5a0b88=_0xa463eb[_0x4d0a94(0x516)]('|'),_0x28d9b7=Math[_0x4d0a94(0x114)](Math[_0x4d0a94(0x689)]()*_0x5a0b88['length']);return _0x5a0b88[_0x28d9b7][_0x4d0a94(0x462)]();}async[a0_0x500e42(0x717)](_0x29b4c6,_0x21b7f5){const _0x47ea13=a0_0x500e42;if(this[_0x47ea13(0x15b)]['verbose'](this[_0x47ea13(0x4cc)]+'\x20('+this[_0x47ea13(0x1de)][_0x47ea13(0xed)]+_0x47ea13(0x60c)),!_0x29b4c6[_0x47ea13(0x544)][_0x47ea13(0x738)]||_0x29b4c6[_0x47ea13(0x544)][_0x47ea13(0x738)][_0x47ea13(0x210)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x5e227b=this[_0x47ea13(0x26e)](_0x29b4c6['message']['text']),_0x16c435=await this[_0x47ea13(0x30c)](_0x5e227b,_0x21b7f5),_0x1505d0={'number':_0x21b7f5,'options':{'delay':_0x29b4c6[_0x47ea13(0x544)][_0x47ea13(0x693)]},'textMessage':{'text':_0x16c435}},_0x254843=null;try{let _0x482d41=await this[_0x47ea13(0x6f1)](_0x1505d0);if(_0x482d41&&_0x482d41['status'])return{'error':!0x1,'id':_0x482d41[_0x47ea13(0x659)]['id']};_0x254843=JSON[_0x47ea13(0x574)](_0x482d41),this['logger']['verbose'](this[_0x47ea13(0x4cc)]+'\x20('+this[_0x47ea13(0x1de)][_0x47ea13(0xed)]+_0x47ea13(0x221)+_0x254843);}catch(_0x2cca50){this[_0x47ea13(0x15b)]['error'](this[_0x47ea13(0x4cc)]+'\x20('+this['instance'][_0x47ea13(0xed)]+_0x47ea13(0x493)+(_0x2cca50 instanceof Error?_0x2cca50[_0x47ea13(0x544)]:JSON[_0x47ea13(0x574)](_0x2cca50,null,0x2))),_0x254843=_0x2cca50[_0x47ea13(0x544)];}if(_0x254843)return{'error':!0x0,'detail':(typeof _0x254843=='object'?JSON['stringify'](_0x254843,null,0x2):_0x254843)[_0x47ea13(0x26c)](/[\[\]{}\n]/g,'\x20')[_0x47ea13(0x26c)](/  +/g,'\x20')};}async[a0_0x500e42(0x11b)](_0x2e3ce0,_0x3d76e8){const _0x1dc863=a0_0x500e42;this[_0x1dc863(0x15b)][_0x1dc863(0x261)](this[_0x1dc863(0x4cc)]+'\x20('+this['instance']['wuid']+_0x1dc863(0x467));let _0x12f8b0;if(_0x2e3ce0['message'][_0x1dc863(0x738)]&&_0x2e3ce0[_0x1dc863(0x544)]['text'][_0x1dc863(0x210)]>0x0){let _0x3df55e=this[_0x1dc863(0x26e)](_0x2e3ce0[_0x1dc863(0x544)][_0x1dc863(0x738)]);_0x12f8b0=await this[_0x1dc863(0x30c)](_0x3df55e,_0x3d76e8);}let _0x31a2e2={'number':_0x3d76e8,'options':{'delay':_0x2e3ce0[_0x1dc863(0x544)][_0x1dc863(0x693)]},'mediaMessage':{'mediatype':_0x2e3ce0['message'][_0x1dc863(0x759)],'caption':_0x12f8b0,'media':_0x2e3ce0[_0x1dc863(0x544)][_0x1dc863(0x2b2)]}},_0x37c932=null;try{let _0x31c410=await this[_0x1dc863(0x2a8)](_0x31a2e2);if(_0x31c410&&_0x31c410[_0x1dc863(0x34d)])return{'error':!0x1,'id':_0x31c410[_0x1dc863(0x659)]['id']};_0x37c932=JSON[_0x1dc863(0x574)](_0x31c410),this[_0x1dc863(0x15b)][_0x1dc863(0x261)](this[_0x1dc863(0x4cc)]+'\x20('+this[_0x1dc863(0x1de)][_0x1dc863(0xed)]+_0x1dc863(0x221)+_0x37c932);}catch(_0x4ed250){this['logger'][_0x1dc863(0x478)](this['instanceName']+'\x20('+this[_0x1dc863(0x1de)][_0x1dc863(0xed)]+_0x1dc863(0x481)+(_0x4ed250 instanceof Error?_0x4ed250[_0x1dc863(0x544)]:JSON[_0x1dc863(0x574)](_0x4ed250,null,0x2))),_0x37c932=_0x4ed250[_0x1dc863(0x544)];}if(_0x37c932)return{'error':!0x0,'detail':(typeof _0x37c932==_0x1dc863(0x74a)?JSON[_0x1dc863(0x574)](_0x37c932,null,0x2):_0x37c932)[_0x1dc863(0x26c)](/[\[\]{}\n]/g,'\x20')[_0x1dc863(0x26c)](/  +/g,'\x20')};}async[a0_0x500e42(0x312)](_0x515976,_0x24816d){const _0x58d15c=a0_0x500e42;this[_0x58d15c(0x15b)][_0x58d15c(0x261)](this[_0x58d15c(0x4cc)]+'\x20('+this[_0x58d15c(0x1de)][_0x58d15c(0xed)]+_0x58d15c(0x489));let _0x224479={'number':_0x24816d,'options':{'delay':_0x515976[_0x58d15c(0x544)]['delay']},'audioMessage':{'audio':_0x515976[_0x58d15c(0x544)][_0x58d15c(0x2b2)]}},_0x5b4466=null;try{let _0x3f63b7=await this[_0x58d15c(0x147)](_0x224479);if(_0x3f63b7&&_0x3f63b7['status'])return{'error':!0x1,'id':_0x3f63b7[_0x58d15c(0x659)]['id']};_0x5b4466=JSON[_0x58d15c(0x574)](_0x3f63b7),this[_0x58d15c(0x15b)]['verbose'](this[_0x58d15c(0x4cc)]+'\x20('+this[_0x58d15c(0x1de)][_0x58d15c(0xed)]+_0x58d15c(0x221)+_0x5b4466);}catch(_0x56453c){this[_0x58d15c(0x15b)][_0x58d15c(0x478)](this[_0x58d15c(0x4cc)]+'\x20('+this[_0x58d15c(0x1de)][_0x58d15c(0xed)]+_0x58d15c(0x346)+(_0x56453c instanceof Error?_0x56453c[_0x58d15c(0x544)]:JSON[_0x58d15c(0x574)](_0x56453c,null,0x2))),_0x5b4466=_0x56453c['message'];}if(_0x5b4466)return{'error':!0x0,'detail':(typeof _0x5b4466=='object'?JSON[_0x58d15c(0x574)](_0x5b4466,null,0x2):_0x5b4466)['replace'](/[\[\]{}\n]/g,'\x20')[_0x58d15c(0x26c)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x2017a4,_0x3dabdb,_0x59bddc){const _0x106870=a0_0x500e42;this[_0x106870(0x756)]=_0x2017a4,this[_0x106870(0x216)]=_0x3dabdb,this[_0x106870(0x578)]=_0x59bddc,this['db']={},this[_0x106870(0x1ab)]={},this[_0x106870(0x15b)]=new v(c['name']),this[_0x106870(0x18b)]={},(this['removeInstance'](),this[_0x106870(0x492)](),Object[_0x106870(0x5a9)](this['db'],_0x3dabdb['get'](_0x106870(0x33d))),Object[_0x106870(0x5a9)](this['redis'],_0x3dabdb[_0x106870(0x58c)](_0x106870(0x6ac))),this[_0x106870(0x651)]=this['db'][_0x106870(0x100)]?this[_0x106870(0x578)][_0x106870(0x727)]?.['db'](this['db']['CONNECTION'][_0x106870(0x1ec)]+'-instances'):void 0x0,this['cache']=this['redis'][_0x106870(0x100)]?new oe(this[_0x106870(0x1ab)]):void 0x0);}async[a0_0x500e42(0x328)](_0x27f777){const _0x27a995=a0_0x500e42;if(_0x27f777&&!this[_0x27a995(0x18b)][_0x27f777])throw new j(_0x27a995(0x163)+_0x27f777+_0x27a995(0x5fe));let _0x1ac4ac=[];for await(let [_0x57f57f,_0x34217d]of Object[_0x27a995(0x125)](this[_0x27a995(0x18b)]))if(_0x34217d&&_0x34217d[_0x27a995(0x2f9)][_0x27a995(0x250)]===_0x27a995(0x55c)){let _0x5b0e73=await this['repository'][_0x27a995(0x5c6)][_0x27a995(0x524)](_0x57f57f);_0x1ac4ac[_0x27a995(0x6e6)]({'instance':{'instanceName':_0x57f57f,'apikey':_0x5b0e73[_0x27a995(0x274)],'owner':_0x34217d['wuid'],'profileName':await _0x34217d[_0x27a995(0x3a3)]()||'not\x20loaded','profilePictureUrl':_0x34217d['profilePictureUrl']}});}return _0x1ac4ac[_0x27a995(0x524)](_0x106299=>_0x106299[_0x27a995(0x1de)][_0x27a995(0x4cc)]===_0x27f777)??_0x1ac4ac;}async[a0_0x500e42(0x64f)](_0x3eb382){const _0x5c1185=a0_0x500e42;if(this['db'][_0x5c1185(0x100)]&&(await this[_0x5c1185(0x578)][_0x5c1185(0x727)][_0x5c1185(0x4fb)](),(await this[_0x5c1185(0x651)][_0x5c1185(0x167)]())[_0x5c1185(0x210)]>0x0&&await this[_0x5c1185(0x651)]['dropCollection'](_0x3eb382)),this[_0x5c1185(0x1ab)][_0x5c1185(0x100)]){this['cache'][_0x5c1185(0x40d)]=_0x3eb382,await this[_0x5c1185(0x612)]['delAll']();return;}}async['loadInstance'](){const _0x52bff1=a0_0x500e42;await this[_0x52bff1(0x26f)]();let _0x485458=async _0x276044=>{const _0x4d3c70=_0x52bff1;let _0x5ba9d5=new ye(this[_0x4d3c70(0x216)],this[_0x4d3c70(0x756)],this[_0x4d3c70(0x578)]);_0x5ba9d5[_0x4d3c70(0x4cc)]=_0x276044,await _0x5ba9d5[_0x4d3c70(0x4fc)](),this[_0x4d3c70(0x18b)][_0x276044]=_0x5ba9d5;};try{if(this['redis'][_0x52bff1(0x100)]){let _0x48de78=await this[_0x52bff1(0x612)][_0x52bff1(0x506)]();_0x48de78?.['length']>0x0&&_0x48de78[_0x52bff1(0x20c)](async _0x3d39c9=>await _0x485458(_0x3d39c9['split'](':')[0x1]));return;}if(this['db'][_0x52bff1(0x100)]){await this[_0x52bff1(0x578)][_0x52bff1(0x727)][_0x52bff1(0x4fb)]();let _0x550384=await this[_0x52bff1(0x651)][_0x52bff1(0x167)]();_0x550384[_0x52bff1(0x210)]>0x0&&_0x550384[_0x52bff1(0x20c)](async _0x50d60e=>await _0x485458(_0x50d60e[_0x52bff1(0x278)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x38fbe7){this[_0x52bff1(0x15b)]['error'](_0x38fbe7);}}async['InstancesAsDisconnectedX'](){const _0x301841=a0_0x500e42;let _0x21e1af=await this['repository'][_0x301841(0x5c6)][_0x301841(0x36a)](),_0x34b480=_0x21e1af[_0x301841(0x5e7)](_0x26127b=>!this[_0x301841(0x18b)][_0x26127b['_id']]&&(_0x26127b['online']||typeof _0x26127b[_0x301841(0x5e4)]>'u'));_0x34b480[_0x301841(0x210)]>0x0&&await Promise['all'](_0x34b480[_0x301841(0x306)](async _0x5c8659=>{const _0x7f059f=_0x301841;let _0x1435bf={'online':!0x1,'lastDisconnect':Date[_0x7f059f(0x5e2)]()};await this[_0x7f059f(0x578)][_0x7f059f(0x5c6)][_0x7f059f(0x758)](_0x1435bf,_0x5c8659[_0x7f059f(0x173)]);}));let _0x43dc13=Date[_0x301841(0x5e2)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1c0f46=_0x21e1af[_0x301841(0x5e7)](_0x213cb8=>!this[_0x301841(0x18b)][_0x213cb8[_0x301841(0x173)]]&&typeof _0x213cb8[_0x301841(0x27a)]<'u'&&_0x213cb8[_0x301841(0x27a)]<_0x43dc13);_0x1c0f46[_0x301841(0x210)]>0x0&&await Promise[_0x301841(0x5f8)](_0x1c0f46[_0x301841(0x306)](async _0x382bb1=>{}));}async['InstancesAlterarTodas'](){const _0x553020=a0_0x500e42;try{let _0x52c4f4={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x32170f={'online':!0x1,'lastDisconnect':Date[_0x553020(0x5e2)]()},_0xfb9b36=await this[_0x553020(0x578)]['auth'][_0x553020(0x283)](_0x52c4f4,_0x32170f);console[_0x553020(0x44e)](_0x553020(0x68c)+_0xfb9b36['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0x550412){console[_0x553020(0x478)](_0x553020(0x4ff),_0x550412);}}async[a0_0x500e42(0x1d4)](){const _0x28fa07=a0_0x500e42;try{let _0x2b12d4={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2bbac1=await this[_0x28fa07(0x578)][_0x28fa07(0x5c6)][_0x28fa07(0x44a)](_0x2b12d4);console[_0x28fa07(0x44e)](_0x28fa07(0x69d)+_0x2bbac1[_0x28fa07(0x3c0)]);}catch(_0x412b0b){console['error']('Erro\x20ao\x20remover\x20instncias\x20antigas:',_0x412b0b);}}[a0_0x500e42(0x411)](){const _0x1a762a=a0_0x500e42;this[_0x1a762a(0x756)]['on']('remove.instance',async _0x5bc79d=>{const _0x24855d=_0x1a762a;try{this[_0x24855d(0x18b)][_0x5bc79d]=void 0x0;}catch{}try{this[_0x24855d(0x64f)](_0x5bc79d);}finally{this[_0x24855d(0x15b)][_0x24855d(0x17f)](_0x24855d(0x163)+_0x5bc79d+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x245837=a0_0x500e42;this[_0x245837(0x756)]['on']('no.connection',async _0x4429b9=>{const _0x16e0c0=_0x245837;try{this['waInstances'][_0x4429b9]=void 0x0;}catch{}try{this['cleaningUp'](_0x4429b9);}finally{this[_0x16e0c0(0x15b)][_0x16e0c0(0x17f)]('Instance\x20\x22'+_0x4429b9+'\x22\x20-\x20NOT\x20CONNECTION');}});}},$t=class extends I{[a0_0x500e42(0x358)](_0x5c711f){return Us(_0x5c711f);}async[a0_0x500e42(0x186)](_0x135b9f){const _0x410665=a0_0x500e42;if(_0x135b9f[_0x410665(0x210)]!==0x0)try{return{'insertCount':(await this[_0x410665(0x358)](_0x135b9f[0x0][_0x410665(0x11c)])['insertMany']([..._0x135b9f]))[_0x410665(0x210)]};}catch(_0x2b5f0d){return _0x2b5f0d;}}async[a0_0x500e42(0x524)](_0x4b8dfe,_0x490445){const _0x28b26f=a0_0x500e42;try{let _0x386052=this[_0x28b26f(0x358)](_0x490445),_0x11c67e=A(_0x4b8dfe[_0x28b26f(0x6d7)]);return await _0x386052['find'](_0x11c67e)[_0x28b26f(0x4e9)]({'lastmsg':-0x1})[_0x28b26f(0x145)](_0x4b8dfe?.[_0x28b26f(0x145)]??0x0)[_0x28b26f(0x42b)]();}catch{return[];}}async[a0_0x500e42(0x614)](_0x1b5595,_0x106d04){const _0x35b525=a0_0x500e42;try{return await this[_0x35b525(0x358)](_0x106d04)['deleteMany']({..._0x1b5595[_0x35b525(0x6d7)]}),[];}catch(_0x25be23){return{'error':_0x25be23?.[_0x35b525(0x575)]()};}}async[a0_0x500e42(0x177)](_0x3d0ece,_0x147724){const _0x3125df=a0_0x500e42;try{let _0x4e7f12=this[_0x3125df(0x358)](_0x147724),_0xd2aef0=A(_0x3d0ece[_0x3125df(0x6d7)]);return await _0x4e7f12[_0x3125df(0x177)](_0xd2aef0)[_0x3125df(0x42b)]();}catch{return null;}}async[a0_0x500e42(0x33a)](_0x5d9160,_0x27f7e2,_0x122988,_0x48daba,_0x2073e1=a0_0x500e42(0x1c0)){const _0x20badd=a0_0x500e42;try{let _0x513937={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x48daba},_0x4fdde6=this[_0x20badd(0x358)](_0x122988),_0x143288=A(_0x5d9160['where']);Object[_0x20badd(0x126)](_0x27f7e2)[_0x20badd(0x20c)](_0x46c44c=>{_0x27f7e2[_0x46c44c]==null&&delete _0x27f7e2[_0x46c44c];});let _0x3ef381={};return _0x3ef381[_0x2073e1]=_0x27f7e2,await _0x4fdde6[_0x20badd(0x6f5)](_0x143288,_0x3ef381,_0x513937);}catch(_0xd02e39){return console['error'](_0xd02e39),null;}}async[a0_0x500e42(0x10e)](_0x20b36e){const _0x29eda6=a0_0x500e42;try{let _0x3349e0=this[_0x29eda6(0x358)](_0x20b36e[0x0][_0x29eda6(0x2a1)]['where'][_0x29eda6(0x11c)]),_0x53c720=_0x20b36e[_0x29eda6(0x306)](_0x42791b=>({'updateOne':{'filter':{..._0x42791b['query'][_0x29eda6(0x6d7)]},'update':{'$set':_0x42791b[_0x29eda6(0x349)]},'upsert':!0x0}})),_0x22da18=await _0x3349e0[_0x29eda6(0x580)](_0x53c720);return _0x22da18[_0x29eda6(0x706)]+_0x22da18[_0x29eda6(0x1a8)];}catch(_0x7be920){return console['error'](_0x7be920),0x0;}}async[a0_0x500e42(0x4b6)](_0x238c17){const _0x5c7e75=a0_0x500e42;try{let _0x9247b7=this['getChatModelForOwner'](_0x238c17),_0xe2898={'labels':{'$exists':!0x0}},_0x2f01bc={'$unset':{'labels':''}};return(await _0x9247b7['updateMany'](_0xe2898,_0x2f01bc))['modifiedCount'];}catch(_0x5600c9){return console[_0x5c7e75(0x478)](_0x5600c9),0x0;}}async[a0_0x500e42(0x2d1)](_0x11e87e){const _0x42204a=a0_0x500e42;try{let _0x49c731=this[_0x42204a(0x358)](_0x11e87e),_0xe3ad09={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4a389f={'$set':{'leadInfo.etiquetas':[]}};return(await _0x49c731[_0x42204a(0x10e)](_0xe3ad09,_0x4a389f))[_0x42204a(0x706)];}catch(_0x244efd){return console['error'](_0x244efd),0x0;}}async[a0_0x500e42(0x205)](_0x29b773){const _0x2676bf=a0_0x500e42;try{let _0x1d8c40=this[_0x2676bf(0x358)](_0x29b773),_0x2cdcfe={'leadInfo.tags':{'$exists':!0x1}},_0x52ee27={'$set':{'leadInfo.tags':[]}};return(await _0x1d8c40[_0x2676bf(0x10e)](_0x2cdcfe,_0x52ee27))['modifiedCount'];}catch(_0x4b1791){return console[_0x2676bf(0x478)](_0x4b1791),0x0;}}async['updateMissingCustomFields'](_0x14e035){const _0x4b362b=a0_0x500e42;try{let _0x55d016=this[_0x4b362b(0x358)](_0x14e035),_0x2f6650={'leadInfo.customFields':{'$exists':!0x1}},_0x3f0fc4={'$set':{'leadInfo.customFields':[]}};return(await _0x55d016[_0x4b362b(0x10e)](_0x2f6650,_0x3f0fc4))[_0x4b362b(0x706)];}catch(_0x55cf61){return console['error'](_0x55cf61),0x0;}}async[a0_0x500e42(0x37e)](_0x45df65,_0xb91600){const _0xdc524a=a0_0x500e42;if(!Array['isArray'](_0x45df65)||_0x45df65[_0xdc524a(0x210)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20insero.');try{return(await this['getChatModelForOwner'](_0xb91600)[_0xdc524a(0x37e)](_0x45df65))['length'];}catch(_0x5d1e80){throw console[_0xdc524a(0x478)]('Erro\x20ao\x20inserir\x20chats:',_0x5d1e80),_0x5d1e80;}}async[a0_0x500e42(0x41b)](_0x46c3d1,_0x260b35){const _0x42d053=a0_0x500e42;try{await this[_0x42d053(0x358)](_0x260b35)[_0x42d053(0x6e2)]({'_id':_0x46c3d1});}catch(_0x464d09){throw console[_0x42d053(0x478)]('Erro\x20ao\x20deletar\x20chat:',_0x464d09),_0x464d09;}}},kt=class extends I{['getLabelModelForOwner'](_0x7ece78){return ua(_0x7ece78);}async[a0_0x500e42(0x33a)](_0x3421fd,_0x3058e0,_0x1ee816,_0x19789e){const _0x84b6c5=a0_0x500e42;try{let _0x3795b7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x19789e},_0xf063d7=this[_0x84b6c5(0x6c1)](_0x1ee816),_0x1803a8=A(_0x3421fd[_0x84b6c5(0x6d7)]);return await _0xf063d7[_0x84b6c5(0x6f5)](_0x1803a8,{'$set':_0x3058e0},_0x3795b7);}catch(_0x374666){return console[_0x84b6c5(0x478)](_0x374666),null;}}async[a0_0x500e42(0x524)](_0x5ff9a4,_0x5bb7e3){const _0x2cb028=a0_0x500e42;try{let _0x22b7bf=this[_0x2cb028(0x6c1)](_0x5bb7e3),_0x2c763d=A(_0x5ff9a4['where']);return await _0x22b7bf[_0x2cb028(0x524)](_0x2c763d);}catch(_0x5f4ce2){console['error'](_0x5f4ce2);}}async[a0_0x500e42(0x322)](_0x50e472,_0xe2c218){const _0x4f20e5=a0_0x500e42;try{let _0x42126b=this['getLabelModelForOwner'](_0xe2c218),_0x4e6a87=A(_0x50e472[_0x4f20e5(0x6d7)]);await _0x42126b['deleteMany'](_0x4e6a87);}catch(_0x2e4614){console[_0x4f20e5(0x478)](_0x2e4614);}}async[a0_0x500e42(0x614)](_0x24a777){const _0x3e653d=a0_0x500e42;try{return await this[_0x3e653d(0x6c1)](_0x24a777)[_0x3e653d(0x6c3)]['drop'](),{'success':!0x0};}catch(_0x185a01){return console[_0x3e653d(0x478)](_0x185a01),{'success':!0x1,'error':_0x185a01};}}},Lt=class{constructor(_0x53a863){const _0x2823ae=a0_0x500e42;this[_0x2823ae(0x1f7)]=_0x53a863;}async['editChat']({instanceName:_0x2cc2db},_0x35c207){const _0x4ab940=a0_0x500e42;return await this[_0x4ab940(0x1f7)][_0x4ab940(0x18b)][_0x2cc2db][_0x4ab940(0x755)](_0x35c207);}async['whatsappNumber']({instanceName:_0x5f37c5},_0x3b6b6a){const _0x5390f8=a0_0x500e42;return await this['waMonitor'][_0x5390f8(0x18b)][_0x5f37c5]['whatsappNumber'](_0x3b6b6a);}async[a0_0x500e42(0x6b9)]({instanceName:_0x3f7eca},_0x548138){const _0x15b76c=a0_0x500e42;return await this[_0x15b76c(0x1f7)]['waInstances'][_0x3f7eca][_0x15b76c(0x6b9)](_0x548138);}async[a0_0x500e42(0x57d)]({instanceName:_0x142234},_0x122035){const _0x384641=a0_0x500e42;return await this['waMonitor'][_0x384641(0x18b)][_0x142234]['markMessageAsRead'](_0x122035);}async['archiveChat']({instanceName:_0x534087},_0x4a97ab){const _0x30f580=a0_0x500e42;return await this['waMonitor'][_0x30f580(0x18b)][_0x534087][_0x30f580(0x212)](_0x4a97ab);}async['deleteMessage']({instanceName:_0x1c0b19},_0x3ee30c){const _0x8d3216=a0_0x500e42;return await this[_0x8d3216(0x1f7)][_0x8d3216(0x18b)][_0x1c0b19][_0x8d3216(0x128)](_0x3ee30c);}async[a0_0x500e42(0x3b7)]({instanceName:_0x513f87},_0x45f52a){const _0x3c89f6=a0_0x500e42;return await this['waMonitor']['waInstances'][_0x513f87][_0x3c89f6(0x3f9)](_0x45f52a[_0x3c89f6(0x51c)]);}async[a0_0x500e42(0x623)]({instanceName:_0x4ea454},_0x229287){const _0x5d83ac=a0_0x500e42;return await this['waMonitor'][_0x5d83ac(0x18b)][_0x4ea454][_0x5d83ac(0x623)](_0x229287['number']);}async[a0_0x500e42(0x2bf)]({instanceName:_0x54b2d4},_0x4127c8){const _0x3e4b57=a0_0x500e42;return await this[_0x3e4b57(0x1f7)][_0x3e4b57(0x18b)][_0x54b2d4]['updatePresence'](_0x4127c8);}async[a0_0x500e42(0x1ba)]({instanceName:_0x5cd8ac},_0x1dda88){const _0x1fcc69=a0_0x500e42;return await this[_0x1fcc69(0x1f7)]['waInstances'][_0x5cd8ac][_0x1fcc69(0x1ba)](_0x1dda88);}async[a0_0x500e42(0x68f)]({instanceName:_0x3cdd73},_0x3316b2){const _0x5571b4=a0_0x500e42;return await this['waMonitor'][_0x5571b4(0x18b)][_0x3cdd73]['getBase64FromMediaMessage'](_0x3316b2);}async[a0_0x500e42(0x2e5)]({instanceName:_0x2858eb},_0x4c5068){const _0x4289c6=a0_0x500e42;return await this[_0x4289c6(0x1f7)][_0x4289c6(0x18b)][_0x2858eb]['fetchMessages'](_0x4c5068);}async['fetchLabels']({instanceName:_0x23d533}){const _0x361aef=a0_0x500e42;return await this[_0x361aef(0x1f7)]['waInstances'][_0x23d533][_0x361aef(0x166)]();}async[a0_0x500e42(0x208)]({instanceName:_0x1fdf77}){const _0x41c2a9=a0_0x500e42;return await this['waMonitor'][_0x41c2a9(0x18b)][_0x1fdf77][_0x41c2a9(0x208)]();}async['fetchPrivacySettings']({instanceName:_0x59bfa5}){const _0x57975e=a0_0x500e42;return await this[_0x57975e(0x1f7)][_0x57975e(0x18b)][_0x59bfa5][_0x57975e(0x341)]();}async[a0_0x500e42(0x581)]({instanceName:_0xf7eb6c},_0xdafd44){return await this['waMonitor']['waInstances'][_0xf7eb6c]['updatePrivacySettings'](_0xdafd44);}async[a0_0x500e42(0x32c)]({instanceName:_0x4e8bbe},_0x51ae91){const _0x533991=a0_0x500e42;return await this[_0x533991(0x1f7)][_0x533991(0x18b)][_0x4e8bbe][_0x533991(0x32c)](_0x51ae91['number']);}async['updateProfileName']({instanceName:_0x508176},_0x368a86){const _0x1fa5f7=a0_0x500e42;return await this[_0x1fa5f7(0x1f7)][_0x1fa5f7(0x18b)][_0x508176]['updateProfileName'](_0x368a86[_0x1fa5f7(0x46b)]);}async['updateProfileStatus']({instanceName:_0x2a512a},_0x59c4bb){const _0x2c1fd9=a0_0x500e42;return await this['waMonitor'][_0x2c1fd9(0x18b)][_0x2a512a][_0x2c1fd9(0x61f)](_0x59c4bb[_0x2c1fd9(0x34d)]);}async['updateProfilePicture']({instanceName:_0xa24790},_0x8d43e0){const _0x28ce0d=a0_0x500e42;return await this[_0x28ce0d(0x1f7)][_0x28ce0d(0x18b)][_0xa24790]['updateProfilePicture'](_0x8d43e0[_0x28ce0d(0x401)]);}async[a0_0x500e42(0x37a)]({instanceName:_0xbd4f88},_0x258794){const _0x528fb5=a0_0x500e42;return await this[_0x528fb5(0x1f7)][_0x528fb5(0x18b)][_0xbd4f88]['removeProfilePicture']();}},Ns=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x9c8e81,_0x4f3d67,_0x2a6f4c,_0x197f79,_0x49571f){const _0x59aa7e=a0_0x500e42;this[_0x59aa7e(0x1f7)]=_0x9c8e81,this[_0x59aa7e(0x216)]=_0x4f3d67,this[_0x59aa7e(0x578)]=_0x2a6f4c,this[_0x59aa7e(0x756)]=_0x197f79,this[_0x59aa7e(0x5ff)]=_0x49571f,this[_0x59aa7e(0x15b)]=new v(c[_0x59aa7e(0x46b)]);}async['createInstance']({instanceName:_0x5f0473,apikey:_0x5456a6,number:_0x13a152,proxy:_0x55694e=!0x0}){const _0x246ea1=a0_0x500e42;try{let _0x4d3879=new ye(this[_0x246ea1(0x216)],this[_0x246ea1(0x756)],this[_0x246ea1(0x578)]);_0x4d3879['instanceName']=_0x5f0473,this['waMonitor'][_0x246ea1(0x18b)][_0x4d3879[_0x246ea1(0x4cc)]]=_0x4d3879;let _0x44fe75={};_0x5456a6?(await this['repository'][_0x246ea1(0x5c6)]['create']({'apikey':_0x5456a6},_0x5f0473),_0x44fe75['apikey']=_0x5456a6):_0x44fe75=await this[_0x246ea1(0x5ff)][_0x246ea1(0x1c2)]({'instanceName':_0x4d3879[_0x246ea1(0x4cc)]});let _0x4c8361;return await _0x4d3879[_0x246ea1(0x4fc)](_0x13a152,_0x55694e),await(0x0,Ns[_0x246ea1(0x693)])(0x7d0),_0x4c8361=_0x4d3879[_0x246ea1(0x6e0)],{'instance':{'instanceName':_0x4d3879['instanceName'],'status':_0x246ea1(0x475)},'hash':_0x44fe75,'qrcode':_0x4c8361};}catch(_0x57dd01){this[_0x246ea1(0x15b)][_0x246ea1(0x478)](_0x57dd01);}}async[a0_0x500e42(0x50d)]({instanceName:_0x28ce44,number:_0x27421f=null,proxy:_0x546b08=!0x0}){const _0x198eca=a0_0x500e42;try{let _0xfd358e=this['waMonitor']['waInstances'][_0x28ce44];switch(_0xfd358e?.[_0x198eca(0x2f9)]?.[_0x198eca(0x250)]){case'close':return await _0xfd358e[_0x198eca(0x4fc)](_0x27421f,_0x546b08),await(0x0,Ns['delay'])(0x7d0),_0xfd358e[_0x198eca(0x6e0)];case _0x198eca(0x67a):return _0xfd358e['qrCode'];default:return await this['connectionState']({'instanceName':_0x28ce44});}}catch(_0x476b46){this[_0x198eca(0x15b)][_0x198eca(0x44e)](_0x476b46);}}async['connectionState']({instanceName:_0x52e4f9}){const _0x319ae6=a0_0x500e42;let _0x2bd2d1=this['waMonitor']['waInstances'][_0x52e4f9]['connectionStatus'],_0x3637e3=null;_0x2bd2d1[_0x319ae6(0x250)]===_0x319ae6(0x55c)&&_0x52e4f9&&(_0x3637e3=await this['waMonitor'][_0x319ae6(0x328)](_0x52e4f9));let _0x438f79=null;return _0x2bd2d1[_0x319ae6(0x250)]==='connecting'&&_0x52e4f9&&(_0x438f79=this[_0x319ae6(0x1f7)][_0x319ae6(0x18b)][_0x52e4f9][_0x319ae6(0x6e0)]),{'instance':_0x52e4f9,'connectionStatus':_0x2bd2d1,'instanceInfo':_0x3637e3,'qrcode':_0x438f79};}async[a0_0x500e42(0x237)]({instanceName:_0x5aa095}){const _0x18347e=a0_0x500e42;try{return this[_0x18347e(0x1f7)][_0x18347e(0x18b)][_0x5aa095]?.[_0x18347e(0x5c3)]?.['ws']?.[_0x18347e(0x636)](),{'status':_0x18347e(0x1c1),'error':!0x1,'response':{'message':_0x18347e(0x21b)}};}catch(_0x537dbe){this[_0x18347e(0x15b)][_0x18347e(0x478)](_0x537dbe);}}async[a0_0x500e42(0x4b1)]({instanceName:_0x9c9ae2}){const _0x48df51=a0_0x500e42;return _0x9c9ae2?this[_0x48df51(0x1f7)][_0x48df51(0x328)](_0x9c9ae2):this[_0x48df51(0x1f7)][_0x48df51(0x328)]();}async['logout']({instanceName:_0x2b9928}){const _0x540143=a0_0x500e42;try{return await this[_0x540143(0x1f7)][_0x540143(0x18b)][_0x2b9928]?.[_0x540143(0x5c3)]?.['logout'](_0x540143(0x75c)+_0x2b9928),{'error':!0x1,'message':_0x540143(0x540)};}catch(_0x38ded0){throw new O(_0x38ded0[_0x540143(0x575)]());}}async[a0_0x500e42(0x4bf)]({instanceName:_0x10a292}){const _0x3f4ff8=a0_0x500e42;if((await this[_0x3f4ff8(0x229)]({'instanceName':_0x10a292}))[_0x3f4ff8(0x2f9)][_0x3f4ff8(0x250)]==='open')throw new m([_0x3f4ff8(0x369),_0x3f4ff8(0x425)]);try{return delete this['waMonitor'][_0x3f4ff8(0x18b)][_0x10a292],{'error':!0x1,'message':_0x3f4ff8(0xec)};}catch(_0x3cbe0c){throw new m(_0x3cbe0c[_0x3f4ff8(0x575)]());}}},Z=require(a0_0x500e42(0x32b)),Ft=class{constructor(_0x1412c4){const _0x487b49=a0_0x500e42;this[_0x487b49(0x1f7)]=_0x1412c4;}async[a0_0x500e42(0x2aa)]({instanceName:_0x5c2f76},_0x3eef7e){const _0x4da3d7=a0_0x500e42;return await this['waMonitor'][_0x4da3d7(0x18b)][_0x5c2f76][_0x4da3d7(0x6f1)](_0x3eef7e);}async[a0_0x500e42(0x468)]({instanceName:_0x32702b},_0x365939){const _0x4bbe66=a0_0x500e42;return await this[_0x4bbe66(0x1f7)][_0x4bbe66(0x18b)][_0x32702b][_0x4bbe66(0x439)](_0x365939);}async[a0_0x500e42(0x10a)]({instanceName:_0x453347},_0x94cc4b){const _0x3fa90a=a0_0x500e42;if((0x0,Z['isBase64'])(_0x94cc4b?.['mediaMessage']?.[_0x3fa90a(0x2d9)])&&!_0x94cc4b?.[_0x3fa90a(0x2a8)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z[_0x3fa90a(0x51d)])(_0x94cc4b?.[_0x3fa90a(0x2a8)]?.[_0x3fa90a(0x2d9)])||(0x0,Z[_0x3fa90a(0x1d5)])(_0x94cc4b?.[_0x3fa90a(0x2a8)]?.['media']))return await this[_0x3fa90a(0x1f7)][_0x3fa90a(0x18b)][_0x453347][_0x3fa90a(0x2a8)](_0x94cc4b);throw new m(_0x3fa90a(0x643));}async['sendSticker']({instanceName:_0x1f387b},_0x19bf94){const _0x7da1ca=a0_0x500e42;if((0x0,Z['isURL'])(_0x19bf94[_0x7da1ca(0x665)]['image'])||(0x0,Z[_0x7da1ca(0x1d5)])(_0x19bf94['stickerMessage'][_0x7da1ca(0x13a)]))return await this[_0x7da1ca(0x1f7)][_0x7da1ca(0x18b)][_0x1f387b][_0x7da1ca(0x413)](_0x19bf94);throw new m(_0x7da1ca(0x643));}async[a0_0x500e42(0x18a)]({instanceName:_0x537595},_0x3f51e4){const _0x2f75d7=a0_0x500e42;if((0x0,Z[_0x2f75d7(0x51d)])(_0x3f51e4[_0x2f75d7(0x25d)]['audio'])||(0x0,Z['isBase64'])(_0x3f51e4[_0x2f75d7(0x25d)]['audio']))return await this[_0x2f75d7(0x1f7)][_0x2f75d7(0x18b)][_0x537595][_0x2f75d7(0x147)](_0x3f51e4);throw new m(_0x2f75d7(0x643));}async[a0_0x500e42(0x281)]({instanceName:_0x5df2ca},_0x48f5f4){const _0x39ead9=a0_0x500e42;if((0x0,Z[_0x39ead9(0x1d5)])(_0x48f5f4[_0x39ead9(0x52b)]['mediaMessage']?.[_0x39ead9(0x2d9)])&&!_0x48f5f4[_0x39ead9(0x52b)][_0x39ead9(0x2a8)]?.[_0x39ead9(0x60f)])throw new m(_0x39ead9(0x6a1));return await this['waMonitor'][_0x39ead9(0x18b)][_0x5df2ca][_0x39ead9(0x52b)](_0x48f5f4);}async[a0_0x500e42(0x66e)]({instanceName:_0x44bf78},_0x8fc81d){const _0x4572f6=a0_0x500e42;return await this[_0x4572f6(0x1f7)][_0x4572f6(0x18b)][_0x44bf78][_0x4572f6(0x11a)](_0x8fc81d);}async[a0_0x500e42(0x12b)]({instanceName:_0x138e65},_0x145863){const _0x447478=a0_0x500e42;return await this[_0x447478(0x1f7)][_0x447478(0x18b)][_0x138e65][_0x447478(0x38d)](_0x145863);}async[a0_0x500e42(0x138)]({instanceName:_0x398b27},_0x4ad218){const _0x2cb383=a0_0x500e42;return await this[_0x2cb383(0x1f7)][_0x2cb383(0x18b)][_0x398b27][_0x2cb383(0x115)](_0x4ad218);}async[a0_0x500e42(0x118)]({instanceName:_0x586901},_0x5ea7bd){const _0x1eaaae=a0_0x500e42;return await this[_0x1eaaae(0x1f7)][_0x1eaaae(0x18b)][_0x586901]['contactMessage'](_0x5ea7bd);}async[a0_0x500e42(0x655)]({instanceName:_0x5418ff},_0x2649d4){const _0x3a61f8=a0_0x500e42;if(!_0x2649d4[_0x3a61f8(0x4cb)][_0x3a61f8(0x5f3)]['match'](/[^\(\)\w\s-"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3a61f8(0x1f7)][_0x3a61f8(0x18b)][_0x5418ff][_0x3a61f8(0x4cb)](_0x2649d4);}async[a0_0x500e42(0x4c4)]({instanceName:_0x2f089b},_0x210f73){const _0xef8d92=a0_0x500e42;return await this[_0xef8d92(0x1f7)][_0xef8d92(0x18b)][_0x2f089b]['statusMessage'](_0x210f73);}},Co=require(a0_0x500e42(0x6eb)),Rs=require(a0_0x500e42(0x611)),qt=class c{constructor(_0x165aae,_0x1f0a44,_0x1d7d4d){const _0x55e635=a0_0x500e42;this[_0x55e635(0x216)]=_0x165aae,this[_0x55e635(0x1f7)]=_0x1f0a44,this[_0x55e635(0x578)]=_0x1d7d4d,this[_0x55e635(0x15b)]=new v(c[_0x55e635(0x46b)]);}async[a0_0x500e42(0x2d6)](_0x459740){const _0x52ef0d=a0_0x500e42;let _0xca6a78=this[_0x52ef0d(0x216)][_0x52ef0d(0x58c)](_0x52ef0d(0x3ff))[_0x52ef0d(0x56b)],_0x19fcfe=(0x0,Co['sign'])({'instanceName':_0x459740['instanceName'],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0xca6a78[_0x52ef0d(0x54c)],{'expiresIn':_0xca6a78[_0x52ef0d(0x3ac)],'encoding':_0x52ef0d(0x526),'subject':_0x52ef0d(0x3f4)}),_0x4063a8=await this[_0x52ef0d(0x578)]['auth'][_0x52ef0d(0x758)]({'jwt':_0x19fcfe},_0x459740[_0x52ef0d(0x4cc)]);if(_0x4063a8[_0x52ef0d(0x478)])throw this[_0x52ef0d(0x15b)][_0x52ef0d(0x478)]({'localError':c[_0x52ef0d(0x46b)]+_0x52ef0d(0x1b3),'error':_0x4063a8[_0x52ef0d(0x478)]}),new m(_0x52ef0d(0x181),_0x4063a8[_0x52ef0d(0x478)]?.['toString']());return{'jwt':_0x19fcfe};}async[a0_0x500e42(0x274)](_0x2c3ca8){const _0x2f0064=a0_0x500e42;let _0x515d6d=(0x0,Rs['v4'])()['toUpperCase'](),_0x40ffc8=await this['repository']['auth']['create']({'apikey':_0x515d6d},_0x2c3ca8[_0x2f0064(0x4cc)]);if(_0x40ffc8[_0x2f0064(0x478)])throw this[_0x2f0064(0x15b)][_0x2f0064(0x478)]({'localError':c[_0x2f0064(0x46b)]+'.jwt','error':_0x40ffc8[_0x2f0064(0x478)]}),new m(_0x2f0064(0x181),_0x40ffc8[_0x2f0064(0x478)]?.[_0x2f0064(0x575)]());return{'apikey':_0x515d6d};}async['generateHash'](_0x53816e){const _0x36d69b=a0_0x500e42;let _0x4bb757=this['configService'][_0x36d69b(0x58c)](_0x36d69b(0x3ff));return await this[_0x4bb757[_0x36d69b(0x5cd)]](_0x53816e);}},Ut=class{constructor(_0x1e535b){this['waMonitor']=_0x1e535b;}async[a0_0x500e42(0x49d)](_0x310be8,_0x125b9f){const _0x391d18=a0_0x500e42;return await this[_0x391d18(0x1f7)][_0x391d18(0x18b)][_0x310be8[_0x391d18(0x4cc)]][_0x391d18(0x49d)](_0x125b9f);}async[a0_0x500e42(0x174)](_0x49e91f,_0x1c23e6){const _0xac0822=a0_0x500e42;return await this[_0xac0822(0x1f7)][_0xac0822(0x18b)][_0x49e91f['instanceName']]['updateGroupPicture'](_0x1c23e6);}async[a0_0x500e42(0x458)](_0x50caa6,_0x459c99){const _0xd842c8=a0_0x500e42;return await this[_0xd842c8(0x1f7)][_0xd842c8(0x18b)][_0x50caa6['instanceName']]['groupDesc'](_0x459c99);}async['groupName'](_0x3a82c5,_0x3433a7){const _0x4a72f5=a0_0x500e42;return await this[_0x4a72f5(0x1f7)][_0x4a72f5(0x18b)][_0x3a82c5[_0x4a72f5(0x4cc)]][_0x4a72f5(0x354)](_0x3433a7);}async[a0_0x500e42(0x52a)](_0x317c07,_0x4b53b6){const _0x297135=a0_0x500e42;return await this['waMonitor'][_0x297135(0x18b)][_0x317c07['instanceName']][_0x297135(0x52a)](_0x4b53b6);}async[a0_0x500e42(0x15e)](_0x3cb10b,_0x4e6f91){const _0x28b8dd=a0_0x500e42;return await this[_0x28b8dd(0x1f7)][_0x28b8dd(0x18b)][_0x3cb10b[_0x28b8dd(0x4cc)]][_0x28b8dd(0x4cd)](_0x4e6f91);}async[a0_0x500e42(0x119)](_0x36906b){const _0x41ae16=a0_0x500e42;return await this[_0x41ae16(0x1f7)][_0x41ae16(0x18b)][_0x36906b[_0x41ae16(0x4cc)]]['findGroups']();}async[a0_0x500e42(0x4f7)](_0x16084b,_0x37a39a){const _0x74dc12=a0_0x500e42;return await this['waMonitor'][_0x74dc12(0x18b)][_0x16084b[_0x74dc12(0x4cc)]][_0x74dc12(0x4f7)](_0x37a39a);}async['joinGroup'](_0x5e735a,_0x43256b){const _0x58de7f=a0_0x500e42;return await this['waMonitor'][_0x58de7f(0x18b)][_0x5e735a[_0x58de7f(0x4cc)]][_0x58de7f(0x3bc)](_0x43256b);}async[a0_0x500e42(0x752)](_0x5a98a9,_0x1047e7){const _0x993ad8=a0_0x500e42;return await this[_0x993ad8(0x1f7)][_0x993ad8(0x18b)][_0x5a98a9[_0x993ad8(0x4cc)]]['revokeInviteCode'](_0x1047e7);}async[a0_0x500e42(0x3f5)](_0x57dc4a,_0x301b67){const _0x270d9d=a0_0x500e42;return await this[_0x270d9d(0x1f7)][_0x270d9d(0x18b)][_0x57dc4a[_0x270d9d(0x4cc)]][_0x270d9d(0x3f5)](_0x301b67);}async[a0_0x500e42(0x223)](_0x5e7b8d,_0x2816d0){const _0x5e4211=a0_0x500e42;return await this[_0x5e4211(0x1f7)][_0x5e4211(0x18b)][_0x5e7b8d[_0x5e4211(0x4cc)]]['updateGParticipant'](_0x2816d0);}async[a0_0x500e42(0x248)](_0xe9d969,_0x282b77){const _0xfa6b95=a0_0x500e42;return await this[_0xfa6b95(0x1f7)][_0xfa6b95(0x18b)][_0xe9d969['instanceName']][_0xfa6b95(0x248)](_0x282b77);}async['leaveGroup'](_0x134587,_0x531767){const _0x9d04be=a0_0x500e42;return await this[_0x9d04be(0x1f7)]['waInstances'][_0x134587[_0x9d04be(0x4cc)]][_0x9d04be(0x555)](_0x531767);}},Jt=class{constructor(_0x5cee09){const _0x5d6234=a0_0x500e42;this[_0x5d6234(0x1f7)]=_0x5cee09;}[a0_0x500e42(0x758)](_0x261bfe,_0x492f86){const _0x337b8f=a0_0x500e42;return this['waMonitor'][_0x337b8f(0x18b)][_0x261bfe[_0x337b8f(0x4cc)]][_0x337b8f(0x135)](_0x492f86);}async[a0_0x500e42(0x524)](_0x16a4dd){const _0x54d628=a0_0x500e42;try{return await this[_0x54d628(0x1f7)][_0x54d628(0x18b)][_0x16a4dd[_0x54d628(0x4cc)]][_0x54d628(0x427)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v('FlowController'),Vt=class{constructor(_0x4f0b20){const _0x399a76=a0_0x500e42;this[_0x399a76(0x1f7)]=_0x4f0b20;}async[a0_0x500e42(0x556)](_0x480f84,_0x3d18eb){const _0x2a6f76=a0_0x500e42;return await this[_0x2a6f76(0x1f7)][_0x2a6f76(0x18b)][_0x480f84[_0x2a6f76(0x4cc)]][_0x2a6f76(0x556)](_0x3d18eb);}async['getScheduleMessage'](_0x4e94fb){const _0xc51f9f=a0_0x500e42;return await this[_0xc51f9f(0x1f7)]['waInstances'][_0x4e94fb[_0xc51f9f(0x4cc)]][_0xc51f9f(0x224)]();}async[a0_0x500e42(0x628)](_0x48c926){const _0x52e926=a0_0x500e42;return await this[_0x52e926(0x1f7)]['waInstances'][_0x48c926['instanceName']][_0x52e926(0x628)]();}async['getAutomateSystem'](_0x9ead16){const _0x440ceb=a0_0x500e42;return await this['waMonitor'][_0x440ceb(0x18b)][_0x9ead16[_0x440ceb(0x4cc)]]['getAutomateSystem']();}async['updateAgent'](_0x11108b,_0x3b925a){const _0x79ceaf=a0_0x500e42;return await this[_0x79ceaf(0x1f7)]['waInstances'][_0x11108b[_0x79ceaf(0x4cc)]][_0x79ceaf(0x58d)](_0x3b925a);}async[a0_0x500e42(0x310)](_0x20f1f0,_0x5af4b3){const _0x25cccc=a0_0x500e42;return await this[_0x25cccc(0x1f7)][_0x25cccc(0x18b)][_0x20f1f0[_0x25cccc(0x4cc)]][_0x25cccc(0x310)](_0x5af4b3);}async[a0_0x500e42(0x2f1)](_0xf2c0b9,_0x1b0bf3){const _0x20963c=a0_0x500e42;return await this['waMonitor'][_0x20963c(0x18b)][_0xf2c0b9['instanceName']]['updateFlowConfig'](_0x1b0bf3);}async[a0_0x500e42(0x178)](_0x39a027,_0x2f160b){const _0x47f4c0=a0_0x500e42;return await this[_0x47f4c0(0x1f7)][_0x47f4c0(0x18b)][_0x39a027[_0x47f4c0(0x4cc)]][_0x47f4c0(0x178)](_0x2f160b);}async['getConversation'](_0x4cf51b,_0x48ada8){const _0x514805=a0_0x500e42;return await this['waMonitor'][_0x514805(0x18b)][_0x4cf51b[_0x514805(0x4cc)]][_0x514805(0x36d)](_0x48ada8);}async[a0_0x500e42(0x60d)](_0x1a4fac,_0x366bb4){const _0x1dc97a=a0_0x500e42;return await this['waMonitor'][_0x1dc97a(0x18b)][_0x1a4fac[_0x1dc97a(0x4cc)]][_0x1dc97a(0x60d)](_0x366bb4);}async[a0_0x500e42(0x220)](_0x313689,_0x2c7fca){const _0x34774c=a0_0x500e42;return await this[_0x34774c(0x1f7)][_0x34774c(0x18b)][_0x313689[_0x34774c(0x4cc)]]['editConversation'](_0x2c7fca);}async[a0_0x500e42(0x338)](_0x512061,_0x5f5b7a){const _0x2c4b32=a0_0x500e42;return await this['waMonitor'][_0x2c4b32(0x18b)][_0x512061[_0x2c4b32(0x4cc)]]['deleteConversation'](_0x5f5b7a);}async[a0_0x500e42(0x60e)](_0x13f64f,_0x5d5038){const _0x482f44=a0_0x500e42;return await this[_0x482f44(0x1f7)][_0x482f44(0x18b)][_0x13f64f[_0x482f44(0x4cc)]]['getFlow'](_0x5d5038[_0x482f44(0x46b)]);}async[a0_0x500e42(0x4c7)](_0x2f128e,_0x19d3ca){const _0x2d5547=a0_0x500e42;return await this[_0x2d5547(0x1f7)][_0x2d5547(0x18b)][_0x2f128e[_0x2d5547(0x4cc)]][_0x2d5547(0x4c7)](_0x19d3ca);}async[a0_0x500e42(0x660)](_0x1931af,_0x1df49e){const _0x58a25b=a0_0x500e42;return await this[_0x58a25b(0x1f7)][_0x58a25b(0x18b)][_0x1931af['instanceName']]['editFlow'](_0x1df49e);}async[a0_0x500e42(0x48d)](_0x4eb0da,_0xd71f73){const _0x15e83b=a0_0x500e42;return await this['waMonitor']['waInstances'][_0x4eb0da[_0x15e83b(0x4cc)]][_0x15e83b(0x48d)](_0xd71f73);}async[a0_0x500e42(0x721)](_0xfbc05c,_0x5513dc){const _0x13b462=a0_0x500e42;return await this[_0x13b462(0x1f7)][_0x13b462(0x18b)][_0xfbc05c[_0x13b462(0x4cc)]][_0x13b462(0x721)](_0x5513dc);}async[a0_0x500e42(0x235)](_0x2e14e3,_0x2b1608){const _0x233934=a0_0x500e42;return await this[_0x233934(0x1f7)][_0x233934(0x18b)][_0x2e14e3['instanceName']][_0x233934(0x235)](_0x2b1608);}async[a0_0x500e42(0x43b)](_0x5e0600,_0x5e5055){const _0x4b423b=a0_0x500e42;return await this[_0x4b423b(0x1f7)][_0x4b423b(0x18b)][_0x5e0600['instanceName']][_0x4b423b(0x43b)](_0x5e5055);}async[a0_0x500e42(0xe8)](_0x33baed,_0x7ecc14){const _0x192cf1=a0_0x500e42;return await this[_0x192cf1(0x1f7)]['waInstances'][_0x33baed[_0x192cf1(0x4cc)]]['editFlowVaredit'](_0x7ecc14);}async[a0_0x500e42(0x5b3)](_0x4c80c5,_0x46cd52){const _0x56c2d3=a0_0x500e42;return await this['waMonitor']['waInstances'][_0x4c80c5[_0x56c2d3(0x4cc)]][_0x56c2d3(0x5b3)](_0x46cd52);}async[a0_0x500e42(0x44c)](_0x4c53f1,_0x472250){const _0x34bf38=a0_0x500e42;return await this[_0x34bf38(0x1f7)][_0x34bf38(0x18b)][_0x4c53f1[_0x34bf38(0x4cc)]][_0x34bf38(0x44c)](_0x472250[_0x34bf38(0x46b)]);}async[a0_0x500e42(0x712)](_0x246203){const _0x2bac1f=a0_0x500e42;return await this['waMonitor'][_0x2bac1f(0x18b)][_0x246203[_0x2bac1f(0x4cc)]]['allFlows']();}},Bt=class{constructor(_0x2e5932){this['webhookService']=_0x2e5932;}async[a0_0x500e42(0x1fe)](_0x179f60,_0x23a39d){const _0x19752f=a0_0x500e42;return this[_0x19752f(0x4c9)][_0x19752f(0x758)](_0x179f60,_0x23a39d);}async[a0_0x500e42(0x427)](_0x5c1e28){return this['webhookService']['find'](_0x5c1e28);}},Gt=class extends I{constructor(_0x4c7e63,_0x56ca95){const _0x2e60cb=a0_0x500e42;super(_0x56ca95),this[_0x2e60cb(0x6c4)]=_0x4c7e63,this[_0x2e60cb(0x216)]=_0x56ca95;}async[a0_0x500e42(0x758)](_0x4224ff,_0x215b38){const _0x2507a6=a0_0x500e42;try{return this[_0x2507a6(0x35b)][_0x2507a6(0x100)]?{'insertCount':(await this[_0x2507a6(0x6c4)][_0x2507a6(0x1e8)]({'_id':_0x215b38},{..._0x4224ff},{'upsert':!0x0}))[_0x2507a6(0x706)]}:{'insertCount':0x1};}catch(_0x4d16da){return _0x4d16da;}}async['delete'](_0x333b14){const _0x580233=a0_0x500e42;try{if(this[_0x580233(0x35b)][_0x580233(0x100)]){await this[_0x580233(0x6c4)][_0x580233(0x6e2)]({'_id':_0x333b14});return;}}catch(_0x526c45){return{'error':_0x526c45};}}async['find'](_0x37d903){const _0x4ff3ce=a0_0x500e42;try{if(this['dbSettings'][_0x4ff3ce(0x100)])return await this[_0x4ff3ce(0x6c4)][_0x4ff3ce(0x177)]({'_id':_0x37d903});}catch{return{};}}},Wt=class extends I{constructor(_0x13865f,_0x241a5b){const _0x31162d=a0_0x500e42;super(_0x241a5b),this['authModel']=_0x13865f,this[_0x31162d(0x216)]=_0x241a5b,this['auth']=_0x241a5b[_0x31162d(0x58c)](_0x31162d(0x3ff));}async['create'](_0x39b5ad,_0x28670f){const _0x379ff4=a0_0x500e42;try{if(this['dbSettings'][_0x379ff4(0x100)])return{'insertCount':(await this['authModel'][_0x379ff4(0x33a)]({'_id':_0x28670f},{'$set':{..._0x39b5ad}},{'upsert':!0x0}))[_0x379ff4(0x706)]};}catch(_0x581dc0){return{'error':_0x581dc0};}}async[a0_0x500e42(0x283)](_0x49766a,_0x3f4f1b){const _0x44c74c=a0_0x500e42;try{if(this['dbSettings'][_0x44c74c(0x100)])return{'insertCount':(await this[_0x44c74c(0x5b7)]['updateMany'](_0x49766a,{'$set':_0x3f4f1b},{'upsert':!0x1}))[_0x44c74c(0x706)]};throw new Error(_0x44c74c(0x347));}catch(_0x240bcd){return{'error':_0x240bcd};}}async['deleteMany'](_0x4a3105){const _0x43b130=a0_0x500e42;try{if(this[_0x43b130(0x35b)][_0x43b130(0x100)])return{'insertCount':(await this[_0x43b130(0x5b7)]['deleteMany'](_0x4a3105))['deletedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x47a06e){return{'error':_0x47a06e};}}async[a0_0x500e42(0x322)](_0x52309f){const _0x56312f=a0_0x500e42;try{if(this[_0x56312f(0x35b)][_0x56312f(0x100)]){await this[_0x56312f(0x5b7)][_0x56312f(0x6e2)]({'_id':_0x52309f});return;}}catch(_0x25a8bb){return{'error':_0x25a8bb};}}async[a0_0x500e42(0x524)](_0x2e24d5){const _0x4b27ca=a0_0x500e42;try{if(this['dbSettings'][_0x4b27ca(0x100)])return await this[_0x4b27ca(0x5b7)][_0x4b27ca(0x177)]({'_id':_0x2e24d5});}catch{return{};}}async[a0_0x500e42(0x36a)](){const _0x841848=a0_0x500e42;try{if(this[_0x841848(0x35b)][_0x841848(0x100)])return await this[_0x841848(0x5b7)][_0x841848(0x524)]();}catch{return[];}}},zt=class extends I{[a0_0x500e42(0x6ff)](_0x62fdb5){return ta(_0x62fdb5);}async[a0_0x500e42(0x318)](_0x1a40c1){const _0x3458d=a0_0x500e42;try{let _0x5b1792=sa,_0x31b603=this['getFlowModelForOwner'](_0x1a40c1),_0x21d65c=await _0x5b1792['find']({'owner':_0x1a40c1})[_0x3458d(0x42b)](),_0x587811=[],_0xe8bccd=[];for(let _0x53f839 of _0x21d65c)await _0x31b603[_0x3458d(0x5e6)](_0x53f839['_id'])[_0x3458d(0x42b)]()||(_0x587811[_0x3458d(0x6e6)](_0x53f839),_0xe8bccd[_0x3458d(0x6e6)](_0x53f839[_0x3458d(0x173)]));return _0x587811[_0x3458d(0x210)]>0x0&&await _0x31b603[_0x3458d(0x37e)](_0x587811,{'ordered':!0x1}),{'success':!0x0};}catch(_0x53a8b5){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x53a8b5),{'success':!0x1,'error':_0x53a8b5};}}async[a0_0x500e42(0x322)](_0x4edae3,_0x514ad0){const _0x2d5df3=a0_0x500e42;try{let _0x47cbe3=this[_0x2d5df3(0x6ff)](_0x514ad0),_0x583de4=A(_0x4edae3[_0x2d5df3(0x6d7)]);return{'deletedCount':(await _0x47cbe3[_0x2d5df3(0x44a)](_0x583de4))[_0x2d5df3(0x6a2)]};}catch(_0x4edd1b){return{'error':_0x4edd1b?.[_0x2d5df3(0x575)]()};}}async['deleteOne'](_0x17ad4f,_0xe4254){const _0x381948=a0_0x500e42;try{let _0x4ab894=this[_0x381948(0x6ff)](_0xe4254),_0x237db3=A(_0x17ad4f['where']);return{'deletedCount':(await _0x4ab894[_0x381948(0x6e2)](_0x237db3))[_0x381948(0x6a2)]};}catch(_0x58cf25){return{'error':_0x58cf25?.[_0x381948(0x575)]()};}}async[a0_0x500e42(0x33a)](_0x3e6372,_0x9da6e1,_0x37ed38){const _0x41329c=a0_0x500e42;try{return await this[_0x41329c(0x6ff)](_0x37ed38)[_0x41329c(0x3fa)](_0x3e6372,_0x9da6e1,{'new':!0x0});}catch(_0x4a8b44){return console[_0x41329c(0x478)](_0x41329c(0x61c),_0x4a8b44),null;}}async[a0_0x500e42(0x1e7)](_0x456d1e,_0x5b7586){const _0x71b66f=a0_0x500e42;try{let _0x458477=this[_0x71b66f(0x6ff)](_0x5b7586);return await new _0x458477(_0x456d1e)[_0x71b66f(0x5b2)]();}catch(_0x19863f){return console[_0x71b66f(0x478)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x19863f),null;}}async[a0_0x500e42(0x10e)](_0x1cc525,_0x1cc269,_0x1e98a4){const _0x3ad1b4=a0_0x500e42;try{return{'modifiedCount':(await this[_0x3ad1b4(0x6ff)](_0x1e98a4)[_0x3ad1b4(0x10e)](_0x1cc525,{'$set':_0x1cc269}))[_0x3ad1b4(0x706)]};}catch(_0x1ae8a7){return console[_0x3ad1b4(0x478)]('Erro\x20ao\x20atualizar\x20mltiplos\x20fluxos:',_0x1ae8a7),{'error':_0x1ae8a7};}}async[a0_0x500e42(0x36a)](_0x235583,_0x45446f){const _0x328ce0=a0_0x500e42;try{let _0x28df80=this['getFlowModelForOwner'](_0x45446f),_0x46c311=A(_0x235583[_0x328ce0(0x6d7)]);return await _0x28df80[_0x328ce0(0x524)](_0x46c311)[_0x328ce0(0x145)](_0x235583?.[_0x328ce0(0x145)]??0x0)[_0x328ce0(0x42b)]();}catch{return[];}}async[a0_0x500e42(0x177)](_0x1390fe,_0x55d1d3){try{let _0x3b37f9=this['getFlowModelForOwner'](_0x55d1d3),_0x324a9d=A(_0x1390fe['where']);return await _0x3b37f9['findOne'](_0x324a9d)['lean']();}catch{return null;}}async[a0_0x500e42(0x614)](_0x5f83f0){const _0x5e3741=a0_0x500e42;try{return await this[_0x5e3741(0x6ff)](_0x5f83f0)['collection'][_0x5e3741(0x24c)](),{'success':!0x0};}catch(_0x54b6b0){return console[_0x5e3741(0x478)](_0x54b6b0),{'success':!0x1,'error':_0x54b6b0};}}},Ht=class extends I{[a0_0x500e42(0x5d9)](_0x5a1a81){return oa(_0x5a1a81);}async[a0_0x500e42(0x318)](_0x55fe16){const _0x3c6201=a0_0x500e42;try{let _0x2b9603=ra,_0x5272e7=this[_0x3c6201(0x5d9)](_0x55fe16),_0x59d0d3=await _0x2b9603[_0x3c6201(0x524)]({'owner':_0x55fe16})[_0x3c6201(0x42b)](),_0x2647fa=[],_0x47cc52=[];for(let _0x1ec363 of _0x59d0d3)await _0x5272e7[_0x3c6201(0x5e6)](_0x1ec363['_id'])['lean']()||(_0x2647fa[_0x3c6201(0x6e6)](_0x1ec363),_0x47cc52[_0x3c6201(0x6e6)](_0x1ec363[_0x3c6201(0x173)]));return _0x2647fa['length']>0x0&&await _0x5272e7[_0x3c6201(0x37e)](_0x2647fa,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3123b9){return console['error'](_0x3c6201(0x257),_0x3123b9),{'success':!0x1,'error':_0x3123b9};}}async[a0_0x500e42(0x186)](_0x4019a0){const _0xeb719=a0_0x500e42;if(_0x4019a0[_0xeb719(0x210)]!==0x0)try{return{'insertCount':(await this[_0xeb719(0x5d9)](_0x4019a0[0x0]['owner'])[_0xeb719(0x37e)]([..._0x4019a0]))[_0xeb719(0x210)]};}catch(_0x872b79){return _0x872b79;}}async[a0_0x500e42(0x322)](_0x18b680,_0x2986df){const _0x1c5b2a=a0_0x500e42;try{let _0x7c9b27=this[_0x1c5b2a(0x5d9)](_0x2986df),_0x1debb5=A(_0x18b680[_0x1c5b2a(0x6d7)]);return{'deletedCount':(await _0x7c9b27[_0x1c5b2a(0x44a)](_0x1debb5))['deletedCount']};}catch(_0x570f3b){return{'error':_0x570f3b?.[_0x1c5b2a(0x575)]()};}}async['deleteOne'](_0x1f07df,_0x5072d6){const _0x15b9f0=a0_0x500e42;try{let _0x5f3606=this[_0x15b9f0(0x5d9)](_0x5072d6),_0x41e882=A(_0x1f07df[_0x15b9f0(0x6d7)]);return{'deletedCount':(await _0x5f3606[_0x15b9f0(0x6e2)](_0x41e882))['deletedCount']};}catch(_0x1bf5bf){return{'error':_0x1bf5bf?.['toString']()};}}async['update'](_0x196076,_0x1f156f){const _0x185f8a=a0_0x500e42;try{if(_0x196076[_0x185f8a(0x210)]===0x0)return;let _0x206472=this[_0x185f8a(0x5d9)](_0x1f156f),_0x54651c=_0x196076[_0x185f8a(0x306)](_0x3c2ec5=>({'updateOne':{'filter':{'name':_0x3c2ec5[_0x185f8a(0x46b)],'owner':_0x1f156f},'update':{..._0x3c2ec5}}})),{modifiedCount:_0x56531f}=await _0x206472[_0x185f8a(0x580)](_0x54651c);return{'insertCount':_0x56531f};}catch{return;}}async[a0_0x500e42(0x10e)](_0x29b0b2,_0x2a4ab7,_0x387a69){const _0x1293e6=a0_0x500e42;try{return{'modifiedCount':(await this[_0x1293e6(0x5d9)](_0x387a69)[_0x1293e6(0x10e)](_0x29b0b2,{'$set':_0x2a4ab7}))[_0x1293e6(0x706)]};}catch(_0x381c72){return console['error'](_0x1293e6(0x517),_0x381c72),{'error':_0x381c72};}}async[a0_0x500e42(0x33a)](_0x5c2e6c,_0x434d49,_0x323b6f){const _0xc811d9=a0_0x500e42;try{return await this['getConversationModelForOwner'](_0x323b6f)[_0xc811d9(0x6f5)]({'_id':_0x5c2e6c},{'$set':_0x434d49},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3ef387){return console[_0xc811d9(0x478)](_0x3ef387),null;}}async['find'](_0x42f003,_0x6fe54c){const _0x40e183=a0_0x500e42;try{return await this[_0x40e183(0x5d9)](_0x6fe54c)[_0x40e183(0x524)](_0x42f003)[_0x40e183(0x4e9)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x500e42(0x177)](_0x37d6b0,_0x1d74de){const _0x2e488e=a0_0x500e42;try{return await this['getConversationModelForOwner'](_0x1d74de)[_0x2e488e(0x177)]({..._0x37d6b0[_0x2e488e(0x6d7)]})[_0x2e488e(0x42b)]();}catch{return null;}}async['deleteAll'](_0x2818ce){const _0x56e450=a0_0x500e42;try{return await this[_0x56e450(0x5d9)](_0x2818ce)[_0x56e450(0x6c3)][_0x56e450(0x24c)](),{'success':!0x0};}catch(_0x5c0a82){return console[_0x56e450(0x478)](_0x5c0a82),{'success':!0x1,'error':_0x5c0a82};}}},Kt=class extends I{['getScheduleMessageModelForOwner'](_0x42d87d){return na(_0x42d87d);}async['copyDataToNewModel'](_0x43a1c2){const _0x2953ed=a0_0x500e42;try{let _0x7749a9=ca,_0x1e6006=this[_0x2953ed(0x28f)](_0x43a1c2),_0xac9672=await _0x7749a9['find']({'owner':_0x43a1c2})['lean'](),_0x5f0ea2=[],_0x4b0b7b=[];for(let _0x38410d of _0xac9672)await _0x1e6006[_0x2953ed(0x5e6)](_0x38410d[_0x2953ed(0x173)])[_0x2953ed(0x42b)]()||(_0x5f0ea2[_0x2953ed(0x6e6)](_0x38410d),_0x4b0b7b[_0x2953ed(0x6e6)](_0x38410d[_0x2953ed(0x173)]));return _0x5f0ea2[_0x2953ed(0x210)]>0x0&&await _0x1e6006['insertMany'](_0x5f0ea2,{'ordered':!0x1}),{'success':!0x0};}catch(_0x39e89b){return console[_0x2953ed(0x478)](_0x2953ed(0x257),_0x39e89b),{'success':!0x1,'error':_0x39e89b};}}async[a0_0x500e42(0x1e7)](_0x1b7a7a,_0x4e2e36){const _0x123689=a0_0x500e42;try{let _0x5132e4=this[_0x123689(0x28f)](_0x4e2e36);return await new _0x5132e4(_0x1b7a7a)[_0x123689(0x5b2)]();}catch(_0x3a7a4f){return console['error'](_0x123689(0x530),_0x3a7a4f),null;}}async[a0_0x500e42(0x6e2)](_0x3bcc7c,_0x3c688a){const _0xe9bed7=a0_0x500e42;try{return await this[_0xe9bed7(0x28f)](_0x3c688a)[_0xe9bed7(0x579)](_0x3bcc7c),{};}catch(_0x3ac2f2){return{'error':_0x3ac2f2?.[_0xe9bed7(0x575)]()};}}async[a0_0x500e42(0x33a)](_0x407f59,_0x3b22dd,_0x281119){const _0x228018=a0_0x500e42;try{return await this[_0x228018(0x28f)](_0x281119)[_0x228018(0x6f5)](_0x407f59,{'$set':_0x3b22dd},{'new':!0x0})[_0x228018(0x42b)]();}catch(_0xc8e4c5){return console[_0x228018(0x478)](_0x228018(0x18f),_0xc8e4c5),null;}}async[a0_0x500e42(0x19b)](_0x507b31,_0x263b66,_0x5ed7f7){const _0x3e702c=a0_0x500e42;try{return await this[_0x3e702c(0x28f)](_0x5ed7f7)[_0x3e702c(0x3fa)](_0x507b31,_0x263b66,{'new':!0x0})[_0x3e702c(0x42b)]();}catch(_0x5b854c){return console[_0x3e702c(0x478)](_0x3e702c(0x18f),_0x5b854c),null;}}async[a0_0x500e42(0x524)](_0x17d879,_0x379c08){const _0x1a86d0=a0_0x500e42;try{return await this[_0x1a86d0(0x28f)](_0x379c08)[_0x1a86d0(0x524)](_0x17d879[_0x1a86d0(0x6d7)])['limit'](_0x17d879?.[_0x1a86d0(0x145)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x3e79b7,_0x5c21e6){const _0x211b4c=a0_0x500e42;try{return await this['getScheduleMessageModelForOwner'](_0x5c21e6)[_0x211b4c(0x177)](_0x3e79b7[_0x211b4c(0x6d7)])[_0x211b4c(0x4e9)]({'when':0x1})[_0x211b4c(0x42b)]();}catch{return null;}}async[a0_0x500e42(0x5e6)](_0x34bbba,_0x2d1ae0){const _0x239db6=a0_0x500e42;try{return await this['getScheduleMessageModelForOwner'](_0x2d1ae0)['findById'](_0x34bbba)[_0x239db6(0x42b)]();}catch{return null;}}async[a0_0x500e42(0x44a)](_0x3df852,_0x2aecfc){const _0x12b02d=a0_0x500e42;try{return{'deletedCount':(await this[_0x12b02d(0x28f)](_0x2aecfc)['deleteMany'](_0x3df852))[_0x12b02d(0x6a2)]};}catch(_0x41dae8){return console[_0x12b02d(0x478)](_0x12b02d(0x55d),_0x41dae8),{'error':_0x41dae8};}}async['deleteAll'](_0x18d47d){const _0x528047=a0_0x500e42;try{return await this['getScheduleMessageModelForOwner'](_0x18d47d)[_0x528047(0x6c3)]['drop'](),{'success':!0x0};}catch(_0x519d8f){return console[_0x528047(0x478)](_0x519d8f),{'success':!0x1,'error':_0x519d8f};}}},Qt=class extends I{async[a0_0x500e42(0x349)](_0x16974d,_0x44141f){const _0x16ebb6=a0_0x500e42;try{if(this[_0x16ebb6(0x35b)]['ENABLED']){let _0x50eea3=await Pe[_0x16ebb6(0x6f5)]({'_id':_0x44141f},{'$set':_0x16974d},{'new':!0x0});return console[_0x16ebb6(0x44e)](_0x16ebb6(0x64c),_0x50eea3),_0x50eea3;}}catch(_0x41593){throw console[_0x16ebb6(0x478)](_0x16ebb6(0x6bd),_0x41593),_0x41593;}}async[a0_0x500e42(0x6fd)](_0x325f36){const _0x20d3ee=a0_0x500e42;try{let _0x4bf91a=await Pe[_0x20d3ee(0x5e6)](_0x325f36);return _0x4bf91a||(_0x4bf91a=new Pe({'_id':_0x325f36}),await _0x4bf91a[_0x20d3ee(0x5b2)]()),_0x4bf91a;}catch(_0x362b06){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x362b06),null;}}},yr=new v(a0_0x500e42(0x452)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0x500e42(0x74d)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x500e42(0x104)](a0_0x500e42(0x361));var gg=require(a0_0x500e42(0xe9)),Ts=require('fs'),Mo=R(require(a0_0x500e42(0x25e))),vo=R(require(a0_0x500e42(0x389))),Ne=class c{static #e;static set[a0_0x500e42(0x6da)](_0x40bc8d){this.#e=_0x40bc8d;}static get[a0_0x500e42(0x25e)](){const _0x836be5=a0_0x500e42;let {FULLCHAIN:_0x534674,PRIVKEY:_0x252d6a}=b[_0x836be5(0x58c)](_0x836be5(0x42a));return Mo[_0x836be5(0x39b)]({'cert':(0x0,Ts[_0x836be5(0x447)])(_0x534674),'key':(0x0,Ts[_0x836be5(0x447)])(_0x252d6a)},c.#e);}static get[a0_0x500e42(0x389)](){const _0x33cb28=a0_0x500e42;return vo[_0x33cb28(0x39b)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x500e42(0x215))),Re=R(require('axios')),Ae=R(require('path')),Oe=require(a0_0x500e42(0x3a8));function xr(){const _0x3acbbc=a0_0x500e42;B[_0x3acbbc(0xe2)]();let _0x59b601=Ae[_0x3acbbc(0x734)][_0x3acbbc(0x667)](__dirname,'downloads');Oo(_0x59b601);}var Oo=_0xad76f6=>{const _0x5ac4a4=a0_0x500e42;let _0x3d0bbc=de[_0x5ac4a4(0x734)][_0x5ac4a4(0x2ca)](_0xad76f6),_0x1ab984=0xc*0x3c*0x3c*0x3e8,_0x5619b1=0x2*0x3c*0x3c*0x3e8,_0x104372=new Date()[_0x5ac4a4(0x188)]();_0x3d0bbc[_0x5ac4a4(0x20c)](_0x3f4f0c=>{const _0x330d3e=_0x5ac4a4;let _0x456cae=Ae[_0x330d3e(0x734)]['join'](_0xad76f6,_0x3f4f0c),_0x1c97af=de[_0x330d3e(0x734)][_0x330d3e(0x2a3)](_0x456cae)[_0x330d3e(0x424)][_0x330d3e(0x188)]();_0x104372-_0x1c97af>_0x1ab984&&(de['default']['unlinkSync'](_0x456cae),console[_0x330d3e(0x44e)](_0x330d3e(0x58a)+_0x3f4f0c));}),setTimeout(()=>Oo(_0xad76f6),_0x5619b1);};function Dr(){const _0xe105f9=a0_0x500e42;let _0x216c49=new v(_0xe105f9(0x429)),_0x130687=(0x0,pe['default'])();_0x130687[_0xe105f9(0x1e3)]((0x0,Ao[_0xe105f9(0x734)])({'origin'(_0x509b28,_0x25409c){const _0xd6b35=_0xe105f9;let {ORIGIN:_0x3a00fb}=b[_0xd6b35(0x58c)](_0xd6b35(0x547));return _0x509b28||(_0x509b28='*'),_0x3a00fb[_0xd6b35(0x508)]('*')!==-0x1||_0x3a00fb['indexOf'](_0x509b28)!==-0x1?_0x25409c(null,!0x0):_0x25409c(new Error(_0xd6b35(0x64d)));},'methods':[...b['get']('CORS')[_0xe105f9(0x6bc)]],'credentials':b['get']('CORS')[_0xe105f9(0x23d)]}),(0x0,pe[_0xe105f9(0x39c)])({'extended':!0x0,'limit':_0xe105f9(0x5e3)}),(0x0,pe[_0xe105f9(0x2d3)])({'limit':'50mb'})),_0x130687[_0xe105f9(0x1e3)]((_0x5ab105,_0xfe93b5,_0x4d332d)=>{const _0x381d81=_0xe105f9;_0x5ab105[_0x381d81(0x112)][_0x381d81(0x4ed)](_0x381d81(0x634))?_0x4d332d():(0x0,To[_0x381d81(0x734)])()(_0x5ab105,_0xfe93b5,_0x4d332d);}),_0x130687[_0xe105f9(0x473)](_0xe105f9(0x59f),_0xe105f9(0x6e1)),_0x130687['set'](_0xe105f9(0x21a),(0x0,Os['join'])(ae,'views')),_0x130687['use'](pe[_0xe105f9(0x734)][_0xe105f9(0x663)]((0x0,Os[_0xe105f9(0x667)])(ae,_0xe105f9(0x1fb)))),_0x130687[_0xe105f9(0x1e3)]((_0x308ed4,_0x111242,_0x299946)=>{const _0x36d6f7=_0xe105f9;let _0x129597=_0x111242[_0x36d6f7(0x434)];_0x111242[_0x36d6f7(0x434)]=function(_0x54a55b){const _0x16f079=_0x36d6f7;if(_0x308ed4[_0x16f079(0x2a1)][_0x16f079(0x10f)]===_0x16f079(0x460)||_0x308ed4['headers'][_0x16f079(0x593)]===_0x16f079(0x460)){let _0x2e7274=JSON[_0x16f079(0x3fb)](_0x54a55b);_0x54a55b=JSON[_0x16f079(0x574)](_0x4dec1c(_0x2e7274));}return _0x129597[_0x16f079(0x54b)](_0x111242,[_0x54a55b]);},_0x299946();}),_0x130687['use']('/',vt),_0x130687[_0xe105f9(0x1e3)]((_0xc67b3b,_0x143115,_0x92d796,_0x37b17c)=>{const _0x43e850=_0xe105f9;if(_0xc67b3b)return _0x92d796[_0x43e850(0x34d)](_0xc67b3b['status']||0x1f4)[_0x43e850(0x2d3)](_0xc67b3b);},(_0x5ed464,_0x325f2d,_0x209b88)=>{const _0x12d438=_0xe105f9;let {method:_0x5e83fd,url:_0x15f4ed}=_0x5ed464;_0x325f2d['status'](0x194)[_0x12d438(0x2d3)]({'status':0x194,'message':'Cannot\x20'+_0x5e83fd[_0x12d438(0x233)]()+'\x20'+_0x15f4ed,'error':_0x12d438(0x67f)}),_0x209b88();});let _0x4dec1c=(_0x3bc6fa,_0x17e843='_p_')=>{const _0x113f7d=_0xe105f9;let _0x5c8270=(_0x1f0226,_0x4bf9a5=null,_0x5506cb=!0x1)=>{const _0x20a478=a0_0x3d52;let _0x2841a0={};return Object[_0x20a478(0x126)](_0x1f0226)['forEach'](_0x54fd64=>{const _0x39afbb=_0x20a478;let _0x5899e0=_0x1f0226[_0x54fd64],_0x1a2f40=''+_0x17e843+_0x54fd64;_0x4bf9a5&&!_0x5506cb&&(_0x1a2f40=_0x4bf9a5+'.'+_0x54fd64),!_0x5899e0&&_0x5899e0!==0x0&&_0x5899e0!==!0x1||typeof _0x5899e0>'u'?_0x2841a0[_0x1a2f40]=null:typeof _0x5899e0!=_0x39afbb(0x74a)&&!Array[_0x39afbb(0x6fa)](_0x5899e0)?_0x2841a0[_0x1a2f40]=_0x5899e0:typeof _0x5899e0==_0x39afbb(0x74a)&&!Array[_0x39afbb(0x6fa)](_0x5899e0)?_0x2841a0=Object[_0x39afbb(0x5a9)](_0x2841a0,_0x5c8270(_0x5899e0,_0x1a2f40)):Array['isArray'](_0x5899e0)&&(typeof _0x5899e0[0x0]==_0x39afbb(0x74a)?(_0x2841a0[_0x1a2f40]=[],_0x5899e0['forEach'](_0x47aa4b=>{const _0x11ac97=_0x39afbb;_0x2841a0[_0x1a2f40][_0x11ac97(0x6e6)](_0x5c8270(_0x47aa4b,_0x1a2f40,!0x0));})):_0x2841a0[_0x1a2f40]=_0x5899e0);}),_0x2841a0;};return Array[_0x113f7d(0x6fa)](_0x3bc6fa)?_0x3bc6fa[_0x113f7d(0x306)](_0x277656=>_0x5c8270(_0x277656)):typeof _0x3bc6fa=='object'&&_0x3bc6fa!==null?_0x5c8270(_0x3bc6fa):{};},_0x2e71b2=b['get'](_0xe105f9(0x429));Ne[_0xe105f9(0x6da)]=_0x130687;let _0x433fba=Ne[_0x2e71b2[_0xe105f9(0x5cd)]],_0x1b8ef4=_0xe105f9(0x445);_0x433fba[_0xe105f9(0x197)](_0x2e71b2[_0xe105f9(0x41c)],()=>{const _0x3b0e60=_0xe105f9;_0x216c49[_0x3b0e60(0x44e)](_0x1b8ef4),_0x216c49[_0x3b0e60(0x44e)](_0x2e71b2[_0x3b0e60(0x5cd)][_0x3b0e60(0x233)]()+_0x3b0e60(0x200)+_0x2e71b2[_0x3b0e60(0x41c)]);}),xr(),Fs();}var _r=a0_0x500e42(0x37d),Pr=Ae[a0_0x500e42(0x734)][a0_0x500e42(0x667)](__dirname,a0_0x500e42(0x1b9)),Te=null;function $r(){return new Promise((_0x5613d8,_0x481f1d)=>{const _0x27b531=a0_0x3d52;de[_0x27b531(0x734)][_0x27b531(0x17a)](Pr,_0x27b531(0x28a),(_0x660c5d,_0x3078a2)=>{const _0x53c845=_0x27b531;if(_0x660c5d){Te=_0x660c5d,_0x5613d8();return;}Io[_0x53c845(0x734)][_0x53c845(0x3fb)](_0x3078a2)[_0x53c845(0x350)][_0x53c845(0x124)]===_r?(Te=null,_0x5613d8()):(Te=new Error(_0x53c845(0x5f6)),_0x5613d8());});});}function a0_0x3d52(_0xe0c22b,_0x36e63d){const _0x555d3f=a0_0x555d();return a0_0x3d52=function(_0x3d520f,_0x1ce16d){_0x3d520f=_0x3d520f-0xe1;let _0x53e34b=_0x555d3f[_0x3d520f];return _0x53e34b;},a0_0x3d52(_0xe0c22b,_0x36e63d);}async function kr(){const _0x43856a=a0_0x500e42;try{await $r(),await Is();}catch(_0x3326cb){console['error'](_0x43856a(0x650)+_0x3326cb),process[_0x43856a(0x343)](0x1);}}kr();async function xo(){const _0x289874=a0_0x500e42;let _0x488ae1;try{_0x488ae1=(await Re[_0x289874(0x734)][_0x289874(0x58c)](_0x289874(0x17b)))[_0x289874(0x1be)]['ip'];}catch(_0x20e9c2){console[_0x289874(0x478)](_0x20e9c2);try{_0x488ae1=(await Re[_0x289874(0x734)][_0x289874(0x58c)](_0x289874(0x2ea)))[_0x289874(0x1be)]['ip'];}catch(_0x21ce41){console[_0x289874(0x478)](_0x21ce41);try{_0x488ae1=(await Re['default']['get']('http://checkip.dyndns.org'))[_0x289874(0x1be)][_0x289874(0x71c)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2288cf){return console[_0x289874(0x478)](_0x2288cf),!0x1;}}}return _0x488ae1;}var No=0x0;async function Lr(){const _0x771c5d=a0_0x500e42;let _0x394d28=await new oe(b[_0x771c5d(0x58c)]('REDIS'))[_0x771c5d(0x506)]();return console['log'](_0x771c5d(0x245),_0x394d28[_0x771c5d(0x210)]),_0x394d28[_0x771c5d(0x210)];}function jr(_0xe366e4){const _0x53330b=a0_0x500e42;let _0x45a974=_0xe366e4['get']('SERVER')['URL'],_0x2cad86=_0xe366e4[_0x53330b(0x58c)](_0x53330b(0x42a)),_0x4b83d0;if(_0x45a974){let _0x1b6f80=_0x45a974['match'](/\/\/(.*?)\./);_0x1b6f80&&_0x1b6f80[0x1]&&(_0x4b83d0=_0x1b6f80[0x1]);}if(!_0x4b83d0&&_0x2cad86&&_0x2cad86[_0x53330b(0x137)]){let _0x1b45e0=_0x2cad86[_0x53330b(0x137)][_0x53330b(0x516)]('/'),_0x8f7167=_0x1b45e0[_0x1b45e0[_0x53330b(0x210)]-0x2];if(_0x8f7167){let _0x256d59=_0x8f7167[_0x53330b(0x516)]('.');_0x256d59[_0x53330b(0x210)]>0x2&&(_0x4b83d0=_0x256d59[0x0]);}}return _0x4b83d0;}var vs=jr(b);async function Fr(){const _0x2137a7=a0_0x500e42;let _0x4d0cbe=b[_0x2137a7(0x58c)](_0x2137a7(0x6ac)),_0x5bc066=b[_0x2137a7(0x58c)](_0x2137a7(0x3ff))[_0x2137a7(0x101)][_0x2137a7(0x329)],_0x4bc05d=b[_0x2137a7(0x58c)]('SSL_CONF'),_0x11289e=await xo(),_0x4d3eae=b['get'](_0x2137a7(0x429))[_0x2137a7(0x41c)],_0x4c9af0=b[_0x2137a7(0x58c)](_0x2137a7(0x429))[_0x2137a7(0x342)];try{let _0x3bbba7={'ip':_0x11289e||null,'redis_enable':_0x4d0cbe?.[_0x2137a7(0x100)]||null,'apikey':_0x5bc066||null,'ssl':_0x4bc05d?.[_0x2137a7(0x5f5)]||null,'lastupdate':Do||null,'port':_0x4d3eae||null,'gitInstallError':Te?.[_0x2137a7(0x544)]||null,'url':_0x4c9af0||null};if(console[_0x2137a7(0x44e)](_0x2137a7(0x18e),_0x3bbba7['ip']),_0x4d0cbe&&_0x4d0cbe[_0x2137a7(0x100)]){let _0x2b85f1=await Lr();_0x3bbba7[_0x2137a7(0x5e9)]=_0x2b85f1||null;}for(let _0x7a1364 in _0x3bbba7)_0x3bbba7[_0x2137a7(0x569)](_0x7a1364)&&_0x7a1364!=='ip'&&(_0x3bbba7[_0x7a1364]=JSON['stringify'](_0x3bbba7[_0x7a1364]));return(await Re['default'][_0x2137a7(0x2b0)](_0x2137a7(0x730),_0x3bbba7))[_0x2137a7(0x1be)];}catch(_0x470cc3){return console['error'](_0x470cc3),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x16df49=a0_0x500e42;if(!await xo())return console[_0x16df49(0x478)](_0x16df49(0x1a0)),_0x16df49(0x4da);let _0x5ee85c=await Fr();if(_0x5ee85c){if(_0x5ee85c[_0x16df49(0x3a9)][_0x16df49(0x74f)]===!0x0){b[_0x16df49(0x58c)](_0x16df49(0x42a))[_0x16df49(0x5f5)][_0x16df49(0x3bd)](_0x16df49(0x542))&&_0x5ee85c[_0x16df49(0x3a9)][_0x16df49(0x2b7)]&&(await Vr(_0x5ee85c[_0x16df49(0x3a9)]['subdomain'],Jr),await Br(_0x16df49(0x486),_0x5ee85c[_0x16df49(0x3a9)][_0x16df49(0x2b7)]),console[_0x16df49(0x44e)]('Reiniciando\x20sistema\x20aps\x20instalado\x20certificado...'),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x5ee85c[_0x16df49(0x3a9)]['last_update']-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x17a909=0x24*0x3c*0x3c,_0x4a97a8=_0x5ee85c[_0x16df49(0x3a9)]['segundos']>_0x17a909?_0x17a909:_0x5ee85c[_0x16df49(0x3a9)][_0x16df49(0x39f)],_0x4a6ed2=Number(_0x4a97a8);if(isNaN(_0x4a6ed2)){console[_0x16df49(0x478)]('interval\x20no\x20\x20um\x20nmero');return;}let _0x599fba=Math[_0x16df49(0x114)](_0x4a6ed2/0xe10),_0x452e58=Math[_0x16df49(0x114)](_0x4a6ed2%0xe10/0x3c),_0x331be9=new Date(Date['now']()+_0x4a6ed2*0x3e8);setTimeout(Is,_0x4a6ed2*0x3e8);let _0x1bb86c=_0x5f4b97=>_0x5f4b97['toString']()[_0x16df49(0x6c5)](0x2,'0'),_0x38a655='Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20'+_0x1bb86c(_0x599fba)+'\x20horas\x20e\x20'+_0x1bb86c(_0x452e58)+_0x16df49(0x260)+_0x1bb86c(_0x331be9[_0x16df49(0x43d)]())+':'+_0x1bb86c(_0x331be9[_0x16df49(0x4fe)]())+'.';console[_0x16df49(0x44e)](_0x38a655);}else return console['log']('Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/'),As&&(console[_0x16df49(0x44e)](_0x16df49(0x52d)),process[_0x16df49(0x343)]()),'LICENSE_INVALID';}else{if(No++,No<qr)console['log'](_0x16df49(0x13f)+Ro/0xea60+_0x16df49(0x4aa)),setTimeout(Is,Ro);else return console['error'](_0x16df49(0x2c0)),_0x16df49(0x750);}}async function Ur(){const _0x1332e5=a0_0x500e42;console[_0x1332e5(0x44e)](_0x1332e5(0x570));let _0x374653=(0x0,Oe[_0x1332e5(0x387)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x374653[_0x1332e5(0x38a)]['on'](_0x1332e5(0x1be),_0x310a64=>{const _0x4ea7c4=_0x1332e5;console[_0x4ea7c4(0x44e)]('Atualizao:\x20'+_0x310a64);}),_0x374653[_0x1332e5(0x669)]['on']('data',_0x277a5b=>{const _0x4d2853=_0x1332e5;console[_0x4d2853(0x478)]('Erro\x20de\x20atualizao:\x20'+_0x277a5b);}),_0x374653['on'](_0x1332e5(0x343),_0x49b4ff=>{const _0x4013ba=_0x1332e5;_0x49b4ff!==0x0?console['error'](_0x4013ba(0x32d)+_0x49b4ff):console[_0x4013ba(0x44e)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x4013ba(0x44e)](_0x4013ba(0x159)),setTimeout(()=>process[_0x4013ba(0x343)](),0x2710);});}var Jr=Ae[a0_0x500e42(0x734)]['join'](__dirname,'env.yml');async function Vr(_0x2884a9,_0x13d391){const _0x2d90b2=a0_0x500e42;let _0x3cff51=Gr();_0x2884a9=_0x2884a9[_0x2d90b2(0x26c)]('.uazapi.dev','');try{let _0x22220e=de[_0x2d90b2(0x734)]['readFileSync'](_0x13d391,'utf8');_0x22220e=_0x22220e['replace'](/<apikey>/,_0x3cff51),_0x22220e=_0x22220e[_0x2d90b2(0x26c)](/<subdomain>/g,_0x2884a9),de[_0x2d90b2(0x734)][_0x2d90b2(0x1d9)](_0x13d391,_0x22220e,_0x2d90b2(0x526)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x16fb7d){console[_0x2d90b2(0x478)](_0x2d90b2(0x2c2),_0x16fb7d);}}function Br(_0x1e2317,_0x57c274){return new Promise((_0x48e98c,_0x4acfa0)=>{const _0x1862b9=a0_0x3d52;let _0x20f7d0=(0x0,Oe['spawn'])(_0x1862b9(0x400),['certonly','--standalone','-m',_0x1e2317,'--agree-tos','-d',_0x57c274]);_0x20f7d0[_0x1862b9(0x38a)]['on'](_0x1862b9(0x1be),_0x52d566=>{const _0x3d9224=_0x1862b9;console[_0x3d9224(0x44e)](_0x3d9224(0x571)+_0x52d566[_0x3d9224(0x575)]());}),_0x20f7d0['stderr']['on'](_0x1862b9(0x1be),_0x2d7a4a=>{const _0x2d0c3c=_0x1862b9;console['error']('Erro\x20do\x20Certbot:\x20'+_0x2d7a4a[_0x2d0c3c(0x575)]());}),_0x20f7d0['on']('close',_0x23bf4e=>{const _0x4db12e=_0x1862b9;_0x23bf4e!==0x0?(console[_0x4db12e(0x478)](_0x4db12e(0x381)+_0x23bf4e),_0x4acfa0(_0x4db12e(0x381)+_0x23bf4e)):(console[_0x4db12e(0x44e)](_0x4db12e(0x6c7)),_0x48e98c());});});}function Gr(_0x166917=0x32){const _0x5aec6e=a0_0x500e42;let _0x13bada=_0x5aec6e(0x1cd),_0x4bfc19='';for(let _0x5c0915=0x0;_0x5c0915<_0x166917;_0x5c0915++)_0x4bfc19+=_0x13bada[_0x5aec6e(0x735)](Math['floor'](Math[_0x5aec6e(0x689)]()*_0x13bada[_0x5aec6e(0x210)]));return _0x4bfc19;}function Wr(){const _0xbe20ca=a0_0x500e42;(0x0,Oe['exec'])(_0xbe20ca(0xf4),(_0x576fc7,_0x569efe,_0x47e70d)=>{const _0x35e468=_0xbe20ca;if(_0x576fc7){console[_0x35e468(0x478)](_0x35e468(0x70f)+_0x576fc7);return;}if(_0x47e70d){console[_0x35e468(0x478)]('Erro\x20de\x20reinicializao:\x20'+_0x47e70d);return;}console[_0x35e468(0x44e)](_0x35e468(0x42f)+_0x569efe);});}function a0_0x555d(){const _0x158362=['groups.upsert','\x20-i\x20','slice','Bad\x20Request','loadproxy','\x20contacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','save','editFlowVariable','leadInfo.desativadoFluxoAte','ERROR','creation','authModel','findMessages','.xls','stopIfLastReturnedError','downloads','Rtulo\x20deletado:',',\x20Comparador:\x20','saveTextReply','Error\x20creating\x20group','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','leadInfo.customFields','onWhatsApp','client','STATUS_INSTANCE','status@broadcast','auth','.pptx','loadWebhook','Mensagem\x20no\x20suportada','title','profilePictureUrl','):\x20Query\x20params:','TYPE','allflows','unknown\x20operation\x20type\x20[','Unauthorized','viewOnceMessageV2Extension','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','QRCODE_UPDATED','Image\x20is\x20url','labels.edit','conversationTimestamp','):\x20transformedCustomFieldVariables','DATABASE_CONNECTION_DB_PREFIX_NAME','getConversationModelForOwner','\x20mensagens\x20de\x20','ButtonsMessage','\x1b[1m','Label\x20','remoteJids','port','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','contains','now','50mb','online','replyOption','findById','filter','list','instanceCount','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','block','notEqual','viewOnceMessageV2','routerPath','SERVER_TYPE','SERVER_URL','NextBlock','nextBlock:','reaction','No\x20respondeu\x20com\x20a\x20enquete.','PRIVKEY','uazapi\x20no\x20est\x20instalado\x20pelo\x20git','authState','all','contentText','):\x20Enviando\x20enquete','axios','readMessageBot','ListType','\x22\x20not\x20found','authService','arrayUnique','boolean','uazapiSendContact','SendScheduleMessage','\x1b[0m','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','contextInfo','poll','This\x20name\x20','ids','abs','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20Enviando\x20texto','fetchConversation','getFlow','fileName','header','uuid','cache','restrict','deleteAll','Validate','):\x20Criando\x20nova\x20conversa[createNewConversation]','PENDING','choices','The\x20property\x20cannot\x20be\x20empty','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','flow','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x1b[32m','updateGroupsAddPrivacy','updateProfileStatus','toDataURL','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','editflowcondition','fetchProfile','chats.update','://','INFO','*\x0a\x0a','deleteDoneMessages','delayChatLabel','.png','Temp\x20audio\x20created','listType','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','store','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','chats','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','getDevice','\x1b[34m','/events','readMessages','close','demote','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','requestPairingCode','?timestamp=','groupMetadata','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','quotedMessage','4475096YUphLg','.sendDataWebhook-global','currency','delayMessage','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','audio/ogg','#83e421','pollOnReplyDelete','1204182bffEBS','):\x20teve\x20mudanas\x20chat.archived:\x20','request\x20received\x20in\x20getFlow','groupJid','pollErrorMessage','Resultado\x20da\x20atualizao:','Not\x20allowed\x20by\x20CORS','Converting\x20audio\x20to\x20mp4','cleaningUp','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','dbInstance','):\x20Criando\x20fluxo...','!stop','desativadoFluxoAte','sendReaction','uazapiDeleteMessage','):\x20Editando\x20grupo\x20do\x20fluxo...','blockId','key','createInstance','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','type','finish','Schema','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','editFlow','less','toLowerCase','static','getflow','stickerMessage','\x20Tentativa\x20de\x20reconexo\x20','join','CHATS_DELETE','stderr','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20conversation.lastInteraction:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','saveMediaToFile','sendLocation','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Image\x20path:\x20','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','\x0aitem','/events/:instance','latitude','REDIS_URI','convertToWebP','#d3a91f','\x20inseridos\x20no\x20banco\x20de\x20dados...','webhookMap','connecting','etiquetas','StartBot','Varivel\x20no\x20encontrada!','contactsArrayMessage','Not\x20Found','DD/MM\x20HH:mm:ss','menuExpiredMessage','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','username','hex','BRL','PLAYED','PASSWORD','webp','random','contactHandle','pollCreationMessage','Instncias\x20atualizadas\x20como\x20desconectadas:\x20','Image\x20converted\x20to\x20WebP','secondValue','getBase64FromMediaMessage','pollMessageOnDelete','\x0a*Voc\x20respondeu*:\x0a','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','delay','preview','backgroundColor','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','CONECTADO\x20\x20UAZAPI','):\x20encontrado\x20prxima\x20mensagem\x20para\x20','):\x20Visualizando\x20AutomateSystem','lastSendMessage','):\x20Entrou\x20na\x20funo\x20goToFlow','Instncias\x20removidas\x20por\x20estarem\x20desconectadas\x20h\x20mais\x20de\x2010\x20dias:\x20','subjectTime','getOwnPropertyNames','setContext','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','deletedCount','#56ccb4','cleanStore','notas','No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro','buttonId','newStoppedUntil','lowerCase','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.','REDIS','messages.upsert','):\x20Buscando\x20conversas...','base64','paused','CHATS_SET','Rtulo\x20invlido\x20ou\x20sem\x20ID.','\x1b[30m%s\x1b[0m','.webp','customFields','connectedName','/exit','https://uazapi-plugin.bubbleapps.io/?url=','importChats','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','privacySettings','METHODS','Erro\x20ao\x20atualizar\x20AutomateSystem:','_Flows','LOG','capitalizedWords','getLabelModelForOwner','app-state-sync-key','collection','webhookModel','padStart','getMessageModelForOwner','Certbot\x20executado\x20com\x20sucesso.','Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20','/config','participant','local_map','Falta\x20informao\x20para\x20a\x20chamada\x20API','ephemeralMessage','https://api.openai.com/v1/images/generations','Temp\x20audio\x20path:\x20','request\x20received\x20in\x20scheduleMessage','flowPrefixCommand','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','CORS_ORIGIN','#6f7bcf','put','where','getAllData','convertedOptions','app','bearer','Getting\x20profile\x20with\x20jid:\x20','request\x20received\x20in\x20allFlows','messageHandle','):\x20Query\x20params:\x20','qrCode','hbs','deleteOne','#fed428','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','ex:\x20\x22groupJid=120362@g.us\x22','push','_Messages','sendAudio','saveChatVariables','processPollUpdateMessage','jsonwebtoken','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','Fetching\x20business\x20profile','__esModule','getBusinessProfile','textMessage','Chrome\x20(Linux)','realVariables','inner','findOneAndUpdate','exec','importChatsBatch','Chrome','mongoose','isArray','request\x20received\x20in\x20updateCustomFields','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','findOrCreate','chat','getFlowModelForOwner','Comando\x20desconhecido','\x1b[34m%s\x1b[0m','output','All_Instances_Config','hDel','user','modifiedCount','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','pollCreationMessageV3','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','AUTHENTICATION_API_KEY','evaluateCondition','debug','\x1b[41m','Flow\x20no\x20encontrado','Erro\x20ao\x20executar\x20comando\x20de\x20reinicializao:\x20','.TEL;waid=','express','allFlows','):\x20Conversa\x20est\x20expirada\x20-\x20voto','Error\x20updating\x20profile\x20picture','):\x20teve\x20mudanas\x20chat.name:\x20','pt-BR','scheduleSendText','STORE_MESSAGE','cwd','):\x20conversation.status:\x20','?authSource=admin&readPreference=primary&directConnection=true','match','addReplyOption','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','toLocaleString','/wa-message-update','editFlowReply','No\x20invite\x20code','buttons','Unable\x20to\x20leave\x20the\x20group','\x1b[44m','/wa-message','dbServer','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','!cmd_','):\x20Fluxos\x20no\x20esto\x20ativados','\x20\x1b[0m','\x20after\x20','expression','removed','Erro\x20ao\x20buscar\x20conversa:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','height','findGroupInfos','):\x20Iniciando\x20bot...','default','charAt','.sendDataWebhook-local','):\x20newSecondValue\x20aps\x20replaceVariables:','text','CONNECTION','@s.whatsapp.net','uazapiSendAudio','\x20de\x20conectar\x20com\x20proxy.','closed','Erro\x20ao\x20adicionar\x20label\x20','creds','audio','resetReconnectionVariables','Nmero:\x20','listResponseMessage','findConversation','unlocked','next_groupId','ON\x20-\x20dbName:\x20','empty','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','object','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','getClient','pushName','licenca','SERVER_OFFLINE','Message\x20not\x20found','revokeInviteCode','LOG_COLOR','createConversationforgoToFlow','editChat','eventEmitter','Erro\x20ao\x20aplicar\x20varedit:\x20','create','mediatype','\x1b[43m','\x20inseridas\x20no\x20banco\x20de\x20dados...','Log\x20out\x20instance:\x20','Selecione','messageTimestamp','config','loadInstance','agents','):\x20Current\x20Time:\x20','):\x20no\x20encontrou','PROXY','):\x20Parar\x20funo\x20pois\x20no\x20est\x20conectado','editFlowVaredit','express-async-errors','Missing\x20global\x20api\x20key','action','Instance\x20deleted','wuid','^\x5cd+','participants','.ppt','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','/instance/create','):\x20updateResult:','shutdown\x20-r\x20now','\x20adicionado\x20ao\x20chat\x20','call','\x20chats\x20de\x20','messages.set','headers','console','\x20minutos\x20verificar\x20novas\x20mensagens','addresss','apiResponse','):\x20Editando\x20condio\x20do\x20fluxo...','some','ENABLED','API_KEY','https://api.openai.com/v1/audio/speech','Data\x20invlida\x20fornecida','info','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','chats.delete','nomecompleto','role','longitude','sendMedia','application/octet-stream','caption','HttpsProxyAgent','updateMany','convert','):\x20alterando\x20this.AutomateSystem','contact_blacklist','path','request\x20received\x20in\x20getConversation','floor','listMessage','instance.','contactMessage','sendContact','findGroups','locationMessage','scheduleSendMedia','owner','Error\x20fetching\x20and\x20updating\x20profile:\x20','Message','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','start','oldToken','Subscribed\x20Events:','groups.update','url','entries','keys','ReplyOption\x20com\x20ID\x20','deleteMessage','connectionUpdate','#000000','sendPoll','findFlow','del','updateParticipant','Erro:','URI','getAutomateSystem','createNewConversation','archive','long','setWebhook','):\x20Editando\x20edio\x20do\x20fluxo...','FULLCHAIN','sendList','Group\x20not\x20found','image','condition','remoteJidsRemaining','decryptPollVote','imagechat','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','Temp\x20audio\x20deleted','\x1b[32m%s\x1b[0m','/instance/delete','password','Erro\x20ao\x20editar\x20o\x20chat:\x20','limit','Erro\x20ao\x20iniciar\x20fluxo:\x20','audioWhatsapp','#92ceac','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','lastmsg','MESSAGES_UPSERT','Error\x20update\x20group\x20picture','pollCreationMessageV2','E-mail:\x20','numbers',']:\x0a','editOperator','statusCode','createConnection','messageContextInfo','):\x20leadInfoVariables','test','getTicketSystem','):\x20Conversa\x20est\x20expirada','Parando\x20aplicao...','):\x20Entrou\x20na\x20funo\x20saveReply','logger','waitingMenu_ExpiredMessage','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','findGroupInfo','):\x20Ler\x20mensagem','dark','Flow\x20already\x20exists','TEXT','Instance\x20\x22','messages','enumerable','fetchLabels','collections','unreadcount','.ogg','EMAIL','request\x20body:\x20','Getting\x20profile\x20info','Bloco\x20com\x20ID\x20','AddChatLabel','AUTHENTICATION_TYPE','uncaughtException','TEL','defineProperty','_id','updateGroupPicture','):\x20Edit\x20schedule\x20message...','Audio\x20processed','findOne','startFlow','HeaderType','readFile','https://jsonip.com','request\x20received\x20in\x20starFlow','#00a1f2','\x20instance\x20does\x20not\x20exist','warn','has','Authentication\x20error','headerString','rows','apirequest','readData','insert','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','getTime','Erro\x20ao\x20editar\x20agentes:\x20','sendWhatsAppAudio','waInstances','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','copyBlock','ip:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','selectableCount','):\x20Falha\x20ao\x20deletar\x20mensagem.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','request\x20received\x20in\x20editFlowvariable','imported','):\x20Editando\x20bloco...','The\x20','listen','automateSystem','organization','Conexo\x20estabelecida','updateOneById','isJidGroup','padEnd','ObjectId','/wa-presence','No\x20foi\x20possvel\x20obter\x20o\x20endereo\x20IP,\x20interrompendo\x20a\x20aplicao.','):\x20Editando\x20varivel\x20do\x20fluxo...','updateReplyOption','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','valid','flattenObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20',',\x20pairCode:\x20','upsertedCount','COLOR','ephemeralExpiration','redis','Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:','):\x20No\x20achou\x20nenhum\x20flow','stanzaId','Erro\x20ao\x20atualizar\x20o\x20flow.','notMatchRegex','DELIVERY_ACK','4871708XeGxvo','.jwt','userDevicesCache','Resposta\x20do\x20Teste\x20do\x20Proxy:','Erro\x20ao\x20editar\x20a\x20conversa:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','env.KEY\x20!==\x20key','./.git/config','fetchContacts','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','metadata','Archiving\x20chat','data','#ff9484','$set','SUCCESS','generateHash','processUazapi','presenceSubscribe','scheduleNextCheck','formatStatusMessage','processingScheduleMessageId','):(','website','waitingMenu_id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','sendSticker','Getting\x20image\x20from\x20url','6824915EKyubO','findContacts','round','CONTACTS_SET','removeOlderDisconnectedInstances','isBase64','vcard','):\x20Entrou\x20na\x20funo\x20stop','findChats','writeFileSync','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','4740330coGsPG','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','GROUPS_UPSERT','instance','lastReceivedMessage','none','\x20foi\x20interrompido\x20pelo\x20usurio.','/wa-qrcode','use','$dbName','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','proto','createAndSave','replaceOne','32182udrofV',',\x20saindo.','):\x20this.processingScheduleMessageId:\x20','DB_PREFIX_NAME','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','8080','stoppedUntil','Instncia:\x20','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','blockLogs','DisconnectReason','method','messaging-history.set','errorLog','waMonitor','font','notContains','updateChatWithMessage','public','array','READ','createWebhook','}}\x20->\x20\x22','\x20-\x20ON:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Forbidden','command','updateMissingTags','request\x20received\x20in\x20editFlow','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','fetchChats','AppStateSyncKeyData','processblock','flowConversation','forEach','formatVCard','#01d0e2','isBusiness','length','messagesSend','archiveChat','editedMessage','loadEnv','ini','configService','matchRegex','Processing\x20audio','parseInt','views','Instance\x20restarted','execSync','unavailable','reconnectAttempts','buttonText','editConversation','):\x20','leadInfo.','updateGParticipate','getScheduleMessage','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Conversa\x20deletada\x20com\x20sucesso.','values','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','connectionState','profile','groupadd','sectionsToString','Error\x20change\x20group\x20name','Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','max','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','presence.update','audio/aac','toUpperCase','MessageModel','editFlowGroup','hGetAll','restartInstance','conversation','#ffffff','temp-','Error\x20updating\x20profile\x20status','lastMessage','CREDENTIALS','uazapiSendText','done','blocks','instanceName\x20not\x20provided.','Esse\x20fluxo\x20expirou','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','useMultiFileAuthState','instancias:\x20','createConversationforStartFlow','Hash\x20to\x20image\x20name:\x20','toggleEphemeral','editflowgroup','No\x20participants','g.us','drop','fromMe','\x1b[33m','AutomateFunctions','state','extractRegex','error_log','\x1b[33m%s\x1b[0m','DELETED','label_jid','description','Erro\x20ao\x20copiar\x20dados:','notEmpty','PRESENCE_UPDATE','.doc','findAndReplace','Error\x20updating\x20message\x20status:','audioMessage','https','video-cover.png','\x20minutos.\x20Ser\x20s\x20','verbose','success','color','lastSend','formatBRNumber','\x20minutos','Error\x20updating\x20participants','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20no\x20esto\x20ativados.','groupCreate','option','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20no\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatrio.','replace','/wa-groups','getRandomText','InstancesAlterarTodas','generate','findAndReplaceRegex','):\x20Erro\x20ao\x20editar\x20condio\x20do\x20fluxo:\x20','process','apikey','unlinkSync','getVariablesChat','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','namespace','checkAndRestartProcess','lastDisconnect','whatsappNumber','Router','Last\x20message\x20not\x20found','STORE_CLEANING_TERMINAL','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fromObject','sendButtons','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','updateAll','\x20is\x20already\x20in\x20use.','jpegThumbnail','updateOnlinePrivacy','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','\x20ao\x20chat\x20','replaceVariablesInReplyOptions','utf-8','/media/','pino','):\x20Limpando\x20AutomateSystem','updateBlock','getScheduleMessageModelForOwner','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Converted\x20image\x20deleted','StatusJidList\x20is\x20required','leadInfo.etiquetas','endsWith','):\x20no\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20','dayjs','delaySecMin','updateConversation','mongodb://','archived','testProxy','/wa-contacts','Fluxos\x20no\x20esto\x20ativados','displayName','quoted','onTime','query','qrcode','statSync','CORS_CREDENTIALS','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','stopped','mediaMessage','email','sendText','apiName','optionDescription','):\x20Tipo\x20de\x20contedo\x20identificado:\x20','pollCreationMessageKey','27CdZzzA','post','lastInteraction','urlOrBase64','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Comando\x20desconhecido:\x20','AUTHENTICATION_JWT_SECRET','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','subdomain','instances','/message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','compression','logout','PRODUCT_LIST','conditions','updatePresence','No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Chat\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','GUARD','updateStatusPrivacy','Types','OrAnd','Error\x20while\x20deleting\x20message\x20for\x20everyone','readdirSync','groups','writeFile','unreadCount','addChatLabel','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','contacts.update','updateMissingEtiquetas','goNextblock','json','):\x20expirationTime:\x20','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','jwt','MESSAGES_SET','protocolMessage','media','https://','getOwnPropertyDescriptor','groupToggleEphemeral','@g.us','\x1b[46m','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','composing','footerText','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','subjectOwner','mimetype','fetchMessages','groupLeave','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20no\x20\x20a\x20stopConversation.\x20Saindo\x20da\x20funo.','substring','https://api.ipify.org?format=json','.wav','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','storePath','):\x20nextBlock.uazapi.name','addBlock','replaceValue','updateFlowConfig','last','):\x20Campos\x20a\x20serem\x20atualizados:','reviver','vote','/clients-info','mkdirSync','deleted','connectionStatus','\x5c$&','stack','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','editflow','isJWT','https://uazapi-plugin.bubbleapps.io/','emit','size','):\x20Erro\x20ao\x20criar\x20fluxo\x20','minutesToClose','#64c4ff','notify','map','dbClient','Image\x20created','WARN','bateu\x20events','rowId','replaceVariablesChat','flowIgnoreGroups','documentMessage','groupValidate','updateCustomFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','scheduleSendAudio','saveConversationToDatabase','endSession','detail','Variveis\x20no\x20encontradas:','chatId','copyDataToNewModel','*Pergunta*:\x20\x0a','applyvaredit','request\x20received\x20in\x20createFlow','fileLength','/instance/fetchInstances','labelId','request\x20received\x20in\x20editConversation','\x5cd+','toBRL','delete','):\x20Deletando\x20fluxo...','):\x20newFirstValue\x20aps\x20replaceVariables:','Db\x20Connection','prefixCommand','Hash\x20to\x20audio\x20name:\x20','instanceInfo','KEY','):\x20Conversa\x20inserida\x20com\x20sucesso.','class-validator','fetchBusinessProfile','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','.error','Trying\x20to\x20get\x20business\x20profile','):\x20Editando\x20replyOption...','Invalid\x20format','splice','ScheduleMessageModel','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','@redis/client','waitingMenu_text','fileUrl','deleteConversation','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','updateOne','width','Type\x20defined\x20as\x20audio','DATABASE','CONTACTS_UPSERT','shift','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','fetchPrivacySettings','URL','exit','creds.json',',\x20lastCondition:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Database\x20is\x20not\x20enabled','#dfaef0','update','stateConnection','#b4ebff','No\x20\x20possvel\x20excluir\x20uma\x20mensagem\x20que\x20est\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','status','Business\x20profile\x20fetched','):\x20Deletando\x20mensagem','remote\x20\x22origin\x22','ORG:','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','groupName','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.','pollUpdateMessage','getChatModelForOwner','contactname','_Contacts','dbSettings','request\x20received\x20in\x20editFlowcondition','flowConfig','arraybuffer','\x1b[42m','2529163svJfbW','Module\x20-\x20ON','saveVariable','messages.update','changeVariables','#d8e651','remove.instance','SSL_CONF_FULLCHAIN','uazapiSendLocation','Deletion\x20failed','findAll','):\x20Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos:\x20','imageMessage','getConversation','Button\x20texts\x20cannot\x20be\x20repeated','reorderReplyOptions','bodyString','MAX_RECONNECT_ATTEMPTS','fone','):\x20teve\x20mudanas\x20chat.displayName:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',',\x20resultado:\x20','varedits','cpf','closeExistingConversations','GROUP_PARTICIPANTS_UPDATE','removeProfilePicture','presence','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usurio\x20e\x20contm\x20palavras\x20para\x20pausar\x20o\x20fluxo','https://github.com/uazapi/uazapi.git','insertMany','lastBlockId','labels.association','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Cdigo\x20de\x20sada:\x20','):\x20Dados\x20migrados\x20com\x20sucesso','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','sendMessage','stopWhenYouSendMsg','isInteger','spawn','phoneNumber','http','stdout','waitingForReplyMenu','connection.update','pollMessage','pre','File\x20written\x20to\x20path:\x20','scheduled','):\x20Flow\x20no\x20encontrado','):\x20Buscando\x20todos\x20os\x20fluxos...','error\x20get\x20vote','reorderBlocks','integer','count','Sending\x20audio\x20whatsapp','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','body','qrcode.updated','createServer','urlencoded','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','group\x20ignored','segundos','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','toNumber','sections','getProfileName','existsSync','moreLogs','node-mime-types','groupUpdateSubject','child_process','response','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','stopConversation','EXPIRIN_IN','.ogv','The\x20\x22','/wa-connection-update','FlowRouter','sendCommand','_error','pairingCode','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','):\x20Enviando\x20localizao','options','fetchProfilePicture','hSet','groupInviteCode','sendPresenceUpdate','Chat\x20com\x20ID\x20','joinGroup','includes','):\x20Buscando\x20conversa...','\x1b[36m%s\x1b[0m','insertCount','contact','timerId','CONNECTION_UPDATE','Contacts\x20not\x20found','responsavelid','variable','verifiedName','locked','flowActive','ChatModel','/media','data:\x20','.gif','convertaudio','viewOnceMessage','/automate','waUploadToServer','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','waitingMenu_replyOptions','DARK','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Usando\x20extenso\x20padro:\x20','contacts.upsert','../env.yml','selectedOptions','SERVER_PORT','groupAcceptInvite','newValue','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','reconnectTimestamps','API\x20Key\x20from\x20Request:','setHeader','_activatedCount','dataValidate','whatsappNumbers','format','createClient','getMIMEType','refused','SINGLE_SELECT','Not\x20is\x20business\x20profile','unhandledRejection','expiration','Read\x20messages','.mp3','updateMessage','.docx','\x20no\x20encontrado','envYaml','mentioned','):\x20Deletando\x20conversa...','g-t','findParticipants','MESSAGES_UPDATE','@broadcast','errno','profilePicture','findByIdAndUpdate','parse','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','processvaredits','toFile','AUTHENTICATION','certbot','picture','prepareWAMessageMedia','maxActives','Audio\x20is\x20url','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','Unknown\x20message\x20type\x20or\x20empty\x20message','groups_ignore','API\x20Key\x20invlida.','status.instance','URL\x20limpa:\x20','isLong','LOG_LEVEL','reference','Error\x20removing\x20profile\x20picture','ERROR:\x20','$addToSet','removeInstance','\x1b[36m','mediaSticker','DOCKER_ENV','updateStopChat','upsertChats','):\x20Erro\x20ao\x20buscar\x20conversas\x20','documentWithCaptionMessage','throwAndLogError','REDIS_ENABLED','deleteChat','PORT','Configurao\x20do\x20ip:','validate','replaceVariablesLogs','):\x20Error\x20processing\x20the\x20block:\x20','STORE_CHATS','sendMessageWithTyping','value','birthtime','The\x20instance\x20needs\x20to\x20be\x20disconnected','Error\x20updating\x20profile\x20name','findWebhook','eventHandler','SERVER','SSL_CONF','lean','_Labels','varedit','chatHandle','Reinicializao\x20iniciada:\x20','Erro\x20ao\x20remover\x20label\x20','/*.json','Operador:\x20\x22','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','send','redirect','\x20not\x20found,\x20retrying\x20in\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','request\x20received\x20in\x20getAutomateSystem','menuMessage','getContactModelForOwner','editFlowCondition','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getHours','replaceVariablesInObject','makeCacheableSignalKeyStore','sendDataWebhook','Proxy\x20funcionando!','):\x20lastBlockId:\x20','remove','CONTACTS_UPDATE','\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','readFileSync','ContactModel','):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes','deleteMany','isJidUser','deleteFlow','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','log','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','_Chats','content','WA\x20MODULE','findIndex','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','deleteMessageForEveryone','text/event-stream','enabled','groupDesc','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','fetchProfilePictureUrl','encoding','Erro\x20ao\x20editar\x20o\x20bloco:\x20','add','\x20do\x20chat\x20','envProcess','true','$pull','trim','protocol','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Output\x20audio\x20path:\x20','creds.update','):\x20Enviando\x20mdia','sendMenu',',\x20Minutes\x20to\x20Close:\x20','processgoToFlow','name','syscall','variablesNotFound','code','https://chat.whatsapp.com/','ReplyOptions\x20finais\x20aps\x20reordenao:','getLastMessage','\x20segundos','set','Error\x20updating\x20setting','created','defineAuthState','sleep','error','updateProfileName','\x20attempts.','redis://127.0.0.1:6379','delayChatLabel_RETRY_DELAY_MS','updateProfilePicturePrivacy','webhook',',\x20valor\x20a\x20encontrar:\x20\x22','SERVER_ACK','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','Internal\x20Server\x20Error','/:instanceName','desc','Content\x20is\x20required','augusto.fcs@gmail.com','repeat','editflowreply','):\x20Enviando\x20udio','lastCondition','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','Instance\x20ID:','editFlowBlock','195BMYpeU','sharp','authorization','URL:','noConnection','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','video','/instance/connect','GROUPS_UPDATE','firstValue','variables','exists','\x1b[33m\x1b[1m','DATABASE_CONNECTION_HOST','setRestartTimer','createGroup','scheduleMessages','including\x20timestamp\x20in\x20url:\x20','DATABASE_ENABLED','contacts','normalizeMessage','label','fullName','Error\x20writing\x20file:\x20','replaceVariables','\x1b[1m\x1b[37m','order','createflow','\x20minutos...','writeData','replyOptions','):\x20delete\x20=\x20true','Error\x20in\x20markMessageAsRead:','prepareMediaMessage','exports','fetchInstances','DATABASE_CONNECTION_URI','env','when','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','updateMissingLabels','findLabels','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Criou\x20conversa\x20no\x20startFlow:','DEBUG','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','):\x20Alterando\x20fluxo...','updateProfilePicture','hostname','deleteInstance','promote','CHATS_UPDATE','evaluateConditionTest','removeData','sendStatus','group','deleteBlock','createFlow','\x1b[37m','webhookService','ListMessage','reactionMessage','instanceName','findGroup','errors','\x0aFN:','SSL_CONF_PRIVKEY','SEND_MESSAGE','Connection\x20closed\x20for\x20instance:\x20','mediaKey','connectionClosed','mentions','flowStopConversation','https://api.elevenlabs.io/v1/text-to-speech/','scheduleMessage','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','NO_IP','Flow\x20iniciado\x20com\x20','downloadMediaMessage','nome','Imagem\x20no\x20encontrada','HH:mm:ss','end','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','\x20com\x20sucesso.','ChatRouter','processApiRequest','remoteJid','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','USER','application/json','sort','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Type\x20not\x20found','events','startsWith','Erro\x20ao\x20testar\x20o\x20proxy','setNewValue','tags','deleteReplyOption','Including\x20timestamp\x20in\x20url:\x20','statusJidList','delaySecMax','FlowModel','Erro\x20ao\x20encerrar\x20a\x20API','inviteCode','function','RemoveChatLabel','editflowblock','connect','connectToWhatsapp','markMessageAsRead','getMinutes','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','/wa-chats','Font\x20is\x20required','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','https-proxy-agent','subject','senderKeyDistributionMessage','instanceKeys','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','indexOf','WebhookGlobal','truncatedto','Error\x20change\x20group\x20setting','localWebhook','connectToWhatsappController','context','/instance','model','VERBOSE','STORE_CONTACTS','isRunning','statusMessage','groupFetchAllParticipating','split','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','match_last_seen','DATABASE_CONNECTION_PASSWORD','write','allContacts','number','isURL','loggedOut','out','No\x20join\x20group\x20invite\x20code\x20or\x20url','Erro\x20ao\x20importar\x20chats:','host','editflowvariable','find','Telefone:\x20','utf8','groupParticipantsUpdate','router','BufferJSON','groupSetting','buttonMessage','generateWAMessageFromContent','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','prototype','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Conversas\x20encontradas:','keep-alive','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','setting','groupUpdateDescription','#9568cf','Configurao\x20do\x20Proxy\x20invlida.\x20Tentando\x20o\x20prximo...','.\x20Pulando.','Cache-Control','recording','message_normalized','getDelay','stopMinutes','redisEnv','from','Instance\x20logged\x20out','sending','<subdomain>','checkAndUpdateChatStatus','message','\x20saindo\x20da\x20funo','leadInfo','CORS','equal','string','eventemitter2','apply','SECRET','Rtulo\x20atualizado:','group-participants.update','-whatsapp-api','Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo','chatLog','release','.txt','isConnected','leaveGroup','editScheduleMessage','}}\x20->\x20valor\x20no\x20encontrado','Instncia\x20no\x20encontrada.','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:','optionName','groupId','open','Erro\x20ao\x20deletar\x20mensagens:','ignoreGroups','#ffc5c7','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','\x20removido\x20do\x20chat\x20','delayChatLabel_MAX_RETRIES','menuIgnoreNonVotes','Fluxo\x20no\x20encontrado','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','):\x20Bloco\x20com\x20ID\x20','chats.upsert','messageId','hasOwnProperty','sha256','JWT','#9ab6c1','\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.','atendimentoAberto','CHATS_UPSERT','Parando\x20aplicao,\x20atualizao\x20recebida','Certbot:\x20','Type\x20is\x20required','):\x20atualizao\x20chat:\x20','stringify','toString','getContentType','^\x5cd+([-]\x5cd+)*@g.us$','repository','findByIdAndDelete','):\x20Bloco\x20copiado:\x20','messageSecret','CLEANING_INTERVAL','readMessage','-instances','):\x20Buscando\x20flow...','bulkWrite','updatePrivacySettings','PREFIX_KEY','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','mongodb','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Erro\x20ao\x20normalizar\x20a\x20mensagem:','params','Image\x20is\x20base64','Erro\x20ao\x20atualizar\x20conversa:\x20','Deleted\x20','and','get','updateAgent','document','everyOne','variablesToObject','.pdf','isListOfNumbers','uazapi','menuType','Output\x20path:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','replacer','uazapiSendMenu','AutomateSystem','):\x20Enviando\x20contato','jid','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','.svg','@whiskeysockets/baileys','view\x20engine','):\x20conversation.waitingMenu_name','originalUrl','groupHandler','updateGParticipant','Valor\x20inicial:\x20\x22','trimmed','Tentando\x20reconectar...','getMessage','createJid','assign','announce'];a0_0x555d=function(){return _0x158362;};return a0_0x555d();}0x0&&(module[a0_0x500e42(0x4b0)]={'subdomain':subdomain});