const a0_0x217659=a0_0x749e;(function(_0x167e8f,_0x38f094){const _0x41d4df=a0_0x749e,_0x3d4634=_0x167e8f();while(!![]){try{const _0x27cf98=-parseInt(_0x41d4df(0x646))/0x1+-parseInt(_0x41d4df(0x327))/0x2+parseInt(_0x41d4df(0x51c))/0x3+parseInt(_0x41d4df(0x597))/0x4+-parseInt(_0x41d4df(0x70d))/0x5+-parseInt(_0x41d4df(0x7d1))/0x6+parseInt(_0x41d4df(0x4fd))/0x7;if(_0x27cf98===_0x38f094)break;else _0x3d4634['push'](_0x3d4634['shift']());}catch(_0x4a85ce){_0x3d4634['push'](_0x3d4634['shift']());}}}(a0_0x43e8,0x4c6a7));var Wi=Object[a0_0x217659(0x4a5)],Ve=Object[a0_0x217659(0x660)],zi=Object[a0_0x217659(0x6f9)],Hi=Object['getOwnPropertyNames'],Ki=Object[a0_0x217659(0x173)],Qi=Object['prototype'][a0_0x217659(0x344)],Yi=(_0x1e26dc,_0x43e21f)=>{for(var _0x5eece9 in _0x43e21f)Ve(_0x1e26dc,_0x5eece9,{'get':_0x43e21f[_0x5eece9],'enumerable':!0x0});},Bs=(_0x1fe1fb,_0x3d9d89,_0x5f74d7,_0x5e9dd3)=>{const _0x567b74=a0_0x217659;if(_0x3d9d89&&typeof _0x3d9d89=='object'||typeof _0x3d9d89==_0x567b74(0x13a)){for(let _0x14e6f6 of Hi(_0x3d9d89))!Qi['call'](_0x1fe1fb,_0x14e6f6)&&_0x14e6f6!==_0x5f74d7&&Ve(_0x1fe1fb,_0x14e6f6,{'get':()=>_0x3d9d89[_0x14e6f6],'enumerable':!(_0x5e9dd3=zi(_0x3d9d89,_0x14e6f6))||_0x5e9dd3[_0x567b74(0x3a4)]});}return _0x1fe1fb;},I=(_0xd6e1ba,_0x5ab923,_0x927b6a)=>(_0x927b6a=_0xd6e1ba!=null?Wi(Ki(_0xd6e1ba)):{},Bs(_0x5ab923||!_0xd6e1ba||!_0xd6e1ba[a0_0x217659(0x4a6)]?Ve(_0x927b6a,a0_0x217659(0x85a),{'value':_0xd6e1ba,'enumerable':!0x0}):_0x927b6a,_0xd6e1ba)),Xi=_0x412831=>Bs(Ve({},a0_0x217659(0x4a6),{'value':!0x0}),_0x412831),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module['exports']=Xi(gr);var Ui=I(require(a0_0x217659(0x239))),zs=require('fs'),Hs=require(a0_0x217659(0x287)),Ks=require(a0_0x217659(0x823)),Ge=require('path'),ne=process[a0_0x217659(0x6ac)](),be=(0x0,Ge[a0_0x217659(0x4f2)])(ne,a0_0x217659(0x257)),Ws=(0x0,Ge[a0_0x217659(0x4f2)])(ne,'src'),fn=(0x0,Ge['join'])(ne,a0_0x217659(0x7c6),a0_0x217659(0x2d5)),us=class{constructor(){const _0x50141e=a0_0x217659;this[_0x50141e(0x5fa)]();}['get'](_0x572ae9){const _0x4acf5a=a0_0x217659;return this[_0x4acf5a(0x22d)][_0x572ae9];}[a0_0x217659(0x5fa)](){const _0xc5dd9a=a0_0x217659;this[_0xc5dd9a(0x22d)]=process[_0xc5dd9a(0x22d)]?.[_0xc5dd9a(0x40d)]!==_0xc5dd9a(0x541)?this[_0xc5dd9a(0x488)]():this[_0xc5dd9a(0x1d9)](),process[_0xc5dd9a(0x22d)]?.[_0xc5dd9a(0x40d)]===_0xc5dd9a(0x541)&&(this[_0xc5dd9a(0x22d)][_0xc5dd9a(0x3d1)][_0xc5dd9a(0x112)]=_0xc5dd9a(0x3db),this['env'][_0xc5dd9a(0x3d1)]['PORT']=Number[_0xc5dd9a(0x253)](process[_0xc5dd9a(0x22d)]?.[_0xc5dd9a(0x3eb)]??_0xc5dd9a(0x5f3)));}[a0_0x217659(0x488)](){const _0x11bc74=a0_0x217659;return(0x0,Hs['load'])((0x0,zs['readFileSync'])((0x0,Ks[_0x11bc74(0x4f2)])(Ws,_0x11bc74(0x806)),{'encoding':_0x11bc74(0x703)}));}[a0_0x217659(0x1d9)](){const _0x1de0c1=a0_0x217659;return{'SERVER':{'TYPE':process[_0x1de0c1(0x22d)][_0x1de0c1(0x126)],'PORT':Number['parseInt'](process[_0x1de0c1(0x22d)][_0x1de0c1(0x3eb)]),'URL':process[_0x1de0c1(0x22d)][_0x1de0c1(0x45b)]},'CORS':{'ORIGIN':process[_0x1de0c1(0x22d)][_0x1de0c1(0x622)]['split'](','),'METHODS':process[_0x1de0c1(0x22d)]['CORS_METHODS'][_0x1de0c1(0x6a1)](','),'CREDENTIALS':process[_0x1de0c1(0x22d)]?.['CORS_CREDENTIALS']===_0x1de0c1(0x541)},'SSL_CONF':{'PRIVKEY':process[_0x1de0c1(0x22d)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x1de0c1(0x706)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x1de0c1(0x22d)]?.[_0x1de0c1(0x3e6)])?Number[_0x1de0c1(0x253)](process[_0x1de0c1(0x22d)][_0x1de0c1(0x3e6)]):void 0x0,'MESSAGES':process[_0x1de0c1(0x22d)]?.[_0x1de0c1(0x569)]===_0x1de0c1(0x541),'CONTACTS':process[_0x1de0c1(0x22d)]?.[_0x1de0c1(0x888)]==='true','CHATS':process[_0x1de0c1(0x22d)]?.['STORE_CHATS']===_0x1de0c1(0x541)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1de0c1(0x22d)]?.[_0x1de0c1(0x247)],'PORT':Number[_0x1de0c1(0x253)](process['env']?.[_0x1de0c1(0x247)]),'USER':process['env'][_0x1de0c1(0x261)],'PASSWORD':process[_0x1de0c1(0x22d)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x1de0c1(0x6b6)],'DB_PREFIX_NAME':process[_0x1de0c1(0x22d)][_0x1de0c1(0x22c)]},'ENABLED':process['env']?.[_0x1de0c1(0x558)]==='true'},'REDIS':{'ENABLED':process[_0x1de0c1(0x22d)]?.[_0x1de0c1(0x5bb)]==='true','URI':process[_0x1de0c1(0x22d)][_0x1de0c1(0x695)]||_0x1de0c1(0x4fc),'PREFIX_KEY':process[_0x1de0c1(0x22d)][_0x1de0c1(0x6e9)]||_0x1de0c1(0x785)},'LOG':{'LEVEL':process['env']?.[_0x1de0c1(0x3f1)][_0x1de0c1(0x6a1)](','),'COLOR':process['env']?.[_0x1de0c1(0x61a)]===_0x1de0c1(0x541)},'PROXY':process[_0x1de0c1(0x22d)]?.['PROXY']==='true','AUTHENTICATION':{'TYPE':process[_0x1de0c1(0x22d)][_0x1de0c1(0x7c1)],'API_KEY':{'KEY':process[_0x1de0c1(0x22d)][_0x1de0c1(0x79b)]},'JWT':{'EXPIRIN_IN':Number[_0x1de0c1(0x66a)](process[_0x1de0c1(0x22d)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x1de0c1(0x22d)][_0x1de0c1(0x6dd)]):0xe10,'SECRET':process[_0x1de0c1(0x22d)][_0x1de0c1(0x492)]}}};}},S=new us(),ji=I(require('cors')),we=I(require('express')),Vs=require(a0_0x217659(0x823)),ds=I(require('dayjs')),ps=(_0x2887f7=>(_0x2887f7[a0_0x217659(0x434)]=a0_0x217659(0x320),_0x2887f7[a0_0x217659(0x53d)]=a0_0x217659(0x3be),_0x2887f7[a0_0x217659(0x7b6)]=a0_0x217659(0x2a2),_0x2887f7['ERROR']='\x1b[31m',_0x2887f7[a0_0x217659(0x87f)]=a0_0x217659(0x6d7),_0x2887f7[a0_0x217659(0x5f0)]=a0_0x217659(0x470),_0x2887f7[a0_0x217659(0x289)]=a0_0x217659(0x57a),_0x2887f7))(ps||{}),Qs=(_0x531e94=>(_0x531e94['LOG']='\x1b[32m%s\x1b[0m',_0x531e94[a0_0x217659(0x289)]=a0_0x217659(0x737),_0x531e94[a0_0x217659(0x53d)]=a0_0x217659(0x259),_0x531e94[a0_0x217659(0x7b6)]=a0_0x217659(0x74a),_0x531e94[a0_0x217659(0x234)]=a0_0x217659(0x55d),_0x531e94[a0_0x217659(0x87f)]=a0_0x217659(0x2ee),_0x531e94[a0_0x217659(0x5f0)]=a0_0x217659(0x1e8),_0x531e94))(Qs||{}),Ys=(_0x1c06a7=>(_0x1c06a7[a0_0x217659(0x434)]='LOG',_0x1c06a7[a0_0x217659(0x7b6)]='WARN',_0x1c06a7[a0_0x217659(0x53d)]=a0_0x217659(0x53d),_0x1c06a7[a0_0x217659(0x289)]=a0_0x217659(0x289),_0x1c06a7[a0_0x217659(0x234)]=a0_0x217659(0x234),_0x1c06a7['DEBUG']=a0_0x217659(0x87f),_0x1c06a7[a0_0x217659(0x5f0)]='VERBOSE',_0x1c06a7))(Ys||{}),Xs=(_0x55a49c=>(_0x55a49c[a0_0x217659(0x434)]=a0_0x217659(0x7ff),_0x55a49c[a0_0x217659(0x53d)]=a0_0x217659(0x22e),_0x55a49c[a0_0x217659(0x7b6)]=a0_0x217659(0x730),_0x55a49c[a0_0x217659(0x289)]=a0_0x217659(0x82a),_0x55a49c[a0_0x217659(0x234)]=a0_0x217659(0x269),_0x55a49c[a0_0x217659(0x87f)]=a0_0x217659(0x556),_0x55a49c[a0_0x217659(0x5f0)]='\x1b[47m',_0x55a49c))(Xs||{}),$=class{constructor(_0x2e22ca=a0_0x217659(0x4a8)){const _0x36075a=a0_0x217659;this['context']=_0x2e22ca,this[_0x36075a(0x4e1)]=S;}[a0_0x217659(0x20c)](_0x163ec0){const _0x53cb46=a0_0x217659;this[_0x53cb46(0x835)]=_0x163ec0;}[a0_0x217659(0x733)](_0x37819a,_0x2536d9){const _0x34649b=a0_0x217659;let _0x408e10=[];this['configService'][_0x34649b(0x3f4)](_0x34649b(0x434))['LEVEL'][_0x34649b(0x3f7)](_0x29f031=>_0x408e10[_0x34649b(0x3e3)](Ys[_0x29f031]));let _0x2a2aad=typeof _0x37819a;_0x408e10[_0x34649b(0x2f7)](_0x2536d9)&&(S[_0x34649b(0x3f4)](_0x34649b(0x434))[_0x34649b(0x449)]?(console[_0x34649b(0x829)](_0x34649b(0x4c8)+Qs[_0x2536d9],_0x34649b(0x1c2),(0x0,ds['default'])()['format'](_0x34649b(0x70f)),'\x1b[0m',ps[_0x2536d9]+Xs[_0x2536d9]+_0x34649b(0x4c8),_0x2536d9+_0x34649b(0x417),_0x34649b(0x55e),this[_0x34649b(0x835)]+_0x34649b(0x673),ps[_0x2536d9],_0x2a2aad!==_0x34649b(0x6ae)?_0x37819a:'',_0x34649b(0x673)),_0x2a2aad===_0x34649b(0x6ae)&&console['log'](_0x37819a,'\x0a')):console[_0x34649b(0x829)]((0x0,ds[_0x34649b(0x85a)])()['format'](_0x34649b(0x10f)),_0x2536d9+'\x20',''+this['context'],_0x37819a));}[a0_0x217659(0x829)](_0x5627de){const _0x4574e8=a0_0x217659;this[_0x4574e8(0x733)](_0x5627de,_0x4574e8(0x434));}['info'](_0x52ac72){const _0x54fb09=a0_0x217659;this[_0x54fb09(0x733)](_0x52ac72,'INFO');}[a0_0x217659(0x1f1)](_0x303c4a){const _0x6aa998=a0_0x217659;this['console'](_0x303c4a,_0x6aa998(0x7b6));}[a0_0x217659(0x310)](_0x285793){const _0x2d2dfa=a0_0x217659;this['console'](_0x285793,_0x2d2dfa(0x234));}[a0_0x217659(0x56b)](_0x5500ba){const _0x3eaafe=a0_0x217659;this[_0x3eaafe(0x733)](_0x5500ba,'VERBOSE');}[a0_0x217659(0x3f3)](_0x511200){const _0x228be5=a0_0x217659;this[_0x228be5(0x733)](_0x511200,_0x228be5(0x87f));}[a0_0x217659(0x466)](_0x196335){const _0x5c68bb=a0_0x217659;this[_0x5c68bb(0x733)](_0x196335,_0x5c68bb(0x289));}};function Zs(){const _0x1645c8=a0_0x217659;process['on'](_0x1645c8(0x3c2),(_0x20ee0b,_0x15dfa3)=>{new $('uncaughtException')['error']({'origin':_0x15dfa3,'stderr':process['stderr']['fd'],'error':_0x20ee0b});}),process['on'](_0x1645c8(0x7ee),(_0x4a328f,_0x183e87)=>{const _0x3d7266=_0x1645c8;new $('unhandledRejection')[_0x3d7266(0x310)]({'origin':_0x183e87,'stderr':process[_0x3d7266(0x44f)]['fd'],'error':_0x4a328f});});}var ea=I(require(a0_0x217659(0x319))),hs=new ea[(a0_0x217659(0x85a))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x217659(0x1a3)),Ae=I(require(a0_0x217659(0x1a3))),Be=new $(a0_0x217659(0x7af)),L=S[a0_0x217659(0x3f4)]('DATABASE'),T=L[a0_0x217659(0x858)]?L['CONNECTION'][a0_0x217659(0x4ea)]?Ae[a0_0x217659(0x85a)][a0_0x217659(0x71b)](L[a0_0x217659(0x291)][a0_0x217659(0x4ea)],{'dbName':L[a0_0x217659(0x291)][a0_0x217659(0x49b)]+a0_0x217659(0x42b)}):Ae[a0_0x217659(0x85a)][a0_0x217659(0x71b)]('mongodb://'+L[a0_0x217659(0x291)][a0_0x217659(0x4dd)]+':'+L[a0_0x217659(0x291)][a0_0x217659(0x727)]+a0_0x217659(0x2f0),{'user':L[a0_0x217659(0x291)][a0_0x217659(0x6c9)],'pass':L[a0_0x217659(0x291)][a0_0x217659(0x6fa)],'dbName':L[a0_0x217659(0x291)]['DB_PREFIX_NAME']+a0_0x217659(0x42b)}):null;L[a0_0x217659(0x858)]&&Be[a0_0x217659(0x4f5)](a0_0x217659(0x4e2)+T[a0_0x217659(0x43c)]);var Y=L[a0_0x217659(0x858)]?L[a0_0x217659(0x291)][a0_0x217659(0x4ea)]?Ae[a0_0x217659(0x85a)][a0_0x217659(0x71b)](L[a0_0x217659(0x291)]['URI'],{'dbName':a0_0x217659(0x428)}):Ae[a0_0x217659(0x85a)][a0_0x217659(0x71b)]('mongodb://'+L[a0_0x217659(0x291)][a0_0x217659(0x4dd)]+':'+L[a0_0x217659(0x291)][a0_0x217659(0x727)]+a0_0x217659(0x2f0),{'user':L[a0_0x217659(0x291)][a0_0x217659(0x6c9)],'pass':L[a0_0x217659(0x291)][a0_0x217659(0x6fa)],'dbName':a0_0x217659(0x297)}):null;Y&&Be['info']('ON\x20-\x20dbName:\x20'+Y[a0_0x217659(0x43c)]),process['on'](a0_0x217659(0x5de),()=>{const _0x415496=a0_0x217659;T&&T[_0x415496(0x2c6)](()=>{const _0x5f3faa=_0x415496;Be[_0x5f3faa(0x4f5)]('Database\x20connection\x20closed.');}),Y&&Y[_0x415496(0x2c6)](()=>{const _0x269348=_0x415496;Be[_0x269348(0x4f5)](_0x269348(0x7cc));});});var Zi=new Se[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x1767cf=>{const _0x376966=a0_0x217659;let _0x218b97='z_'+_0x1767cf+_0x376966(0x4a3);return T?.[_0x376966(0x609)](_0x376966(0x751),ao,_0x218b97);},sa=require(a0_0x217659(0x1a3)),io=new sa[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x7c847f=>{const _0x287a48=a0_0x217659;let _0x27c800='z_'+_0x7c847f+_0x287a48(0x604);return T?.[_0x287a48(0x609)]('ContactModel',io,_0x27c800);},ia=require(a0_0x217659(0x1a3)),gs=class{},oo=new ia[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x217659(0x609)](gs[a0_0x217659(0x4f7)],oo,a0_0x217659(0x3e0)),ra=require(a0_0x217659(0x1a3)),ms=class{},ro=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.['model'](ms[a0_0x217659(0x4f7)],ro,a0_0x217659(0x257)),ws=require(a0_0x217659(0x1a3)),fs=class{},no=new ws[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x217659(0x609)](fs[a0_0x217659(0x4f7)],co,a0_0x217659(0x78a)),ca=_0xed4791=>{const _0x220009=a0_0x217659;let _0x4c01a3='z_'+_0xed4791+_0x220009(0x853);return T?.[_0x220009(0x609)](_0x220009(0x32d),no,_0x4c01a3);},la=require(a0_0x217659(0x1a3)),ys=class{},lo=new la[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.['model'](ys['name'],lo,a0_0x217659(0x755)),da=require(a0_0x217659(0x1a3)),bs=class{},pa=new da['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x217659(0x408)](a0_0x217659(0x37e),function(_0x1142b0){const _0x3670b8=a0_0x217659;delete this['flowActive'],delete this[_0x3670b8(0x742)],delete this[_0x3670b8(0x1ee)],delete this[_0x3670b8(0x57f)],delete this[_0x3670b8(0x46c)],_0x1142b0();});var ha=T?.['model'](bs[a0_0x217659(0x4f7)],pa,a0_0x217659(0x75e)),P=require('mongoose'),Ss=require(a0_0x217659(0x5c4)),ze=class{},Ms=class{},ma=new P[(a0_0x217659(0x28a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x217659(0x28a))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x217659(0x28a))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x217659(0x2d6)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x217659(0x602)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x217659(0x31d)},'pollErrorMessage':{'type':String,'default':a0_0x217659(0x4ff)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x217659(0x28a))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x217659(0x28a))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x217659(0x28a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x217659(0x28a))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x217659(0x28a))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x426ce4=a0_0x217659;return _0x426ce4(0x51d)+Math['random']()[_0x426ce4(0x76d)](0x24)[_0x426ce4(0x30c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x217659(0x510)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x217659(0x408)](a0_0x217659(0x7e8),function(_0x2e6cec){const _0x1668c0=a0_0x217659;let _0x7f978=this[_0x1668c0(0x6ca)]();if(_0x7f978&&typeof _0x7f978=='object'&&_0x1668c0(0x68d)in _0x7f978){let _0x10a3c4=_0x7f978[_0x1668c0(0x68d)];if(_0x10a3c4){let _0x470393=new Set(),_0x3403ff=new Set(_0x10a3c4[_0x1668c0(0x619)]?.[_0x1668c0(0x557)](_0x9395bc=>_0x9395bc[_0x1668c0(0x4f7)])),_0x2d2315=JSON[_0x1668c0(0x176)](_0x10a3c4),_0x53a3c0=/{{(?!_)([^}]*)}}/g,_0x4c8aea;for(;(_0x4c8aea=_0x53a3c0[_0x1668c0(0x341)](_0x2d2315))!==null;)_0x3403ff[_0x1668c0(0x5b8)](_0x4c8aea[0x1])||_0x470393[_0x1668c0(0x735)](_0x4c8aea[0x1]);_0x470393[_0x1668c0(0x1eb)]>0x0?(console[_0x1668c0(0x1f1)](_0x1668c0(0x634),Array[_0x1668c0(0x73a)](_0x470393)),_0x10a3c4[_0x1668c0(0x4a4)]=Array['from'](_0x470393)):_0x10a3c4[_0x1668c0(0x4a4)]=[],this[_0x1668c0(0x37f)]({'$set':_0x10a3c4});}}_0x2e6cec();});var Me=T?.[a0_0x217659(0x609)](Ms['name'],ba,a0_0x217659(0x74e)),mo=new P[(a0_0x217659(0x28a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x217659(0x232)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x217659(0x31d)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x39986a=>{const _0x42060f=a0_0x217659;let _0x12103f='z_'+_0x39986a+_0x42060f(0x162);return T?.[_0x42060f(0x609)](_0x42060f(0x6b9),fo,_0x12103f);},wo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x562f0a=>{const _0x5d2e35=a0_0x217659;let _0x5a4472='z_'+_0x562f0a+_0x5d2e35(0x7b7);return T?.[_0x5d2e35(0x609)](_0x5d2e35(0x691),yo,_0x5a4472);},vs=class{},bo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x217659(0x28a))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x217659(0x28a))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.['model'](vs[a0_0x217659(0x4f7)],Eo,a0_0x217659(0x3b9)),Ca=require(a0_0x217659(0x1a3)),No=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x4f6010=>{const _0x385f5a=a0_0x217659;let _0x3c1f5f='z_'+_0x4f6010+'_Labels';return T?.[_0x385f5a(0x609)]('LabelModel',No,_0x3c1f5f);},O=class{constructor(_0x387684){const _0xadcc3=a0_0x217659;this[_0xadcc3(0x4d6)]=_0x387684[_0xadcc3(0x3f4)](_0xadcc3(0x3e2));}};function A(_0x107458){const _0x100160=a0_0x217659;let _0x593b1f={};for(let [_0x10f115,_0x2df6b6]of Object[_0x100160(0x814)](_0x107458))if(typeof _0x2df6b6==_0x100160(0x6ae)&&!Array[_0x100160(0x3d6)](_0x2df6b6)){for(let [_0x15a905,_0x4426e7]of Object['entries'](_0x2df6b6))_0x593b1f[_0x10f115+'.'+_0x15a905]=_0x4426e7;}else _0x593b1f[_0x10f115]=_0x2df6b6;return _0x593b1f;}var He=class{constructor(_0x362481,_0x59ddc1,_0x491f4b,_0x32d460,_0x3cec10,_0x4ea863,_0x57ff9c,_0x479320,_0x37caa0,_0x49e458,_0xd10b18,_0x7659,_0x112601,_0x394a21){const _0x3b0124=a0_0x217659;this[_0x3b0124(0x35e)]=_0x362481,this['chat']=_0x59ddc1,this['contact']=_0x491f4b,this[_0x3b0124(0x820)]=_0x32d460,this[_0x3b0124(0x81c)]=_0x3cec10,this[_0x3b0124(0x75e)]=_0x4ea863,this[_0x3b0124(0x2d5)]=_0x57ff9c,this[_0x3b0124(0x753)]=_0x479320,this['flow']=_0x37caa0,this[_0x3b0124(0x2ca)]=_0x49e458,this[_0x3b0124(0x18b)]=_0xd10b18,this[_0x3b0124(0x82e)]=_0x7659,this[_0x3b0124(0x6a2)]=_0x112601,this['dbClient']=_0x394a21;}get['dbServer'](){return this['dbClient'];}},Ke=class{},Qe=class extends O{[a0_0x217659(0x6b7)](_0x2ed9e0){return ca(_0x2ed9e0);}async[a0_0x217659(0x2bc)](_0x222b1b,_0x43364d){const _0x25d02e=a0_0x217659;if(_0x222b1b['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x25d02e(0x6b7)](_0x43364d)['insertMany']([..._0x222b1b]))[_0x25d02e(0xf4)]};}catch(_0xe11e0c){return _0xe11e0c;}}async[a0_0x217659(0x6b5)](_0x7dee92,_0x15995c){const _0x1956ba=a0_0x217659;try{let _0x23419d=this[_0x1956ba(0x6b7)](_0x15995c),_0x592315=A(_0x7dee92[_0x1956ba(0x46f)]);return await _0x23419d[_0x1956ba(0x6b5)](_0x592315)[_0x1956ba(0x213)]({'messageTimestamp':-0x1})['limit'](_0x7dee92?.[_0x1956ba(0x135)]??0x0)[_0x1956ba(0x14f)]();}catch{return[];}}async['delete'](_0x2c2045,_0x452bca){const _0x50c68b=a0_0x217659;try{let _0x3eb350=this[_0x50c68b(0x6b7)](_0x452bca),_0xacf19f=A(_0x2c2045[_0x50c68b(0x46f)]);await _0x3eb350[_0x50c68b(0x4d5)](_0xacf19f);}catch(_0x123854){console[_0x50c68b(0x310)](_0x123854);}}async[a0_0x217659(0x772)](_0x12b617,_0x546b19,_0x188ed5){const _0x8345fa=a0_0x217659;try{let _0x5e9220=this[_0x8345fa(0x6b7)](_0x188ed5),_0x1a6ccd=A(_0x12b617['where']);return await _0x5e9220['findOneAndUpdate'](_0x1a6ccd,{'$set':_0x546b19},{'new':!0x0});}catch(_0x58e7d3){throw console['error'](_0x58e7d3),_0x58e7d3;}}async[a0_0x217659(0x371)](_0x24be11,_0x28a14d){const _0x5cf1ed=a0_0x217659;if(_0x24be11[_0x5cf1ed(0xf4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x28a14d)[_0x5cf1ed(0x371)]([..._0x24be11]))['length']};}catch(_0x36d1dd){return console['log'](_0x5cf1ed(0x1c4),_0x36d1dd),_0x36d1dd;}}async[a0_0x217659(0x5ba)](_0x35e3d1){const _0x5bda14=a0_0x217659;try{return await this['getMessageModelForOwner'](_0x35e3d1)[_0x5bda14(0x147)][_0x5bda14(0x30d)](),{'success':!0x0};}catch(_0x4377df){return console[_0x5bda14(0x310)](_0x4377df),{'success':!0x1,'error':_0x4377df};}}},Ds=I(require(a0_0x217659(0x10a))),w=I(require('@whiskeysockets/baileys')),Fe=require('fs'),j=I(require(a0_0x217659(0x823))),K=I(require('axios')),Ti=require(a0_0x217659(0x5c4)),Ii=I(require(a0_0x217659(0x300))),_i=I(require(a0_0x217659(0x1cb))),Ea=[a0_0x217659(0x199),a0_0x217659(0x500),'audioMessage',a0_0x217659(0x7ab),a0_0x217659(0x843)],Na=[a0_0x217659(0x76a),a0_0x217659(0x1b7),a0_0x217659(0x6e1),a0_0x217659(0x716)],ks=require('os'),Ft=I(require(a0_0x217659(0x157))),Ue=require(a0_0x217659(0x2ef)),Oi=require('node-mime-types'),pe=I(require(a0_0x217659(0x1a3))),J=require(a0_0x217659(0x2b3)),ce=class{constructor(_0x2e9dc8,_0x329bab,_0x501c79){const _0x26e174=a0_0x217659;this[_0x26e174(0x560)]=_0x2e9dc8,this['exists']=_0x329bab,this[_0x26e174(0x4f7)]=_0x501c79;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require('express')),$a=require('fs'),Ra=require(a0_0x217659(0x823));async function _e(_0x26c81a){const _0x5de0db=a0_0x217659;let _0xd3fb6d=G[_0x5de0db(0x5ec)][_0x26c81a];if(L[_0x5de0db(0x858)]){let _0x29670a=T[_0x5de0db(0x2ac)]()['db'](L[_0x5de0db(0x291)][_0x5de0db(0x49b)]+_0x5de0db(0x317))[_0x5de0db(0x147)](_0x26c81a);return _0xd3fb6d||(await _0x29670a[_0x5de0db(0x6b5)]({})[_0x5de0db(0x55c)]())[_0x5de0db(0xf4)]>0x0;}return _0xd3fb6d||(0x0,$a['existsSync'])((0x0,Ra[_0x5de0db(0x4f2)])(be,_0x26c81a));}async function Aa(_0x1ec725,_0x1aa8b9,_0x1c0963){const _0x100534=a0_0x217659;if(_0x1ec725[_0x100534(0x63f)]['includes']('/instance/create')||_0x1ec725[_0x100534(0x63f)]['includes'](_0x100534(0xff))||_0x1ec725[_0x100534(0x63f)]['includes'](_0x100534(0x670))||_0x1ec725[_0x100534(0x63f)][_0x100534(0x2f7)](_0x100534(0x1d6))||_0x1ec725[_0x100534(0x63f)][_0x100534(0x2f7)]('/instance/connect')||_0x1ec725[_0x100534(0x63f)][_0x100534(0x2f7)](_0x100534(0x5cb))||_0x1ec725[_0x100534(0x63f)]['includes'](_0x100534(0x453)))return _0x1c0963();let _0x2cd3c2=_0x1ec725[_0x100534(0x2a9)];if(!_0x2cd3c2?.[_0x100534(0x4d8)])throw new m(_0x100534(0x456));if(!await _e(_0x2cd3c2['instanceName']))throw new U(_0x100534(0x7e1)+_0x2cd3c2[_0x100534(0x4d8)]+_0x100534(0x868));_0x1c0963();}async function Ta(_0x2f2376,_0x5ccd53,_0x42f919){const _0x5de567=a0_0x217659;if(_0x2f2376[_0x5de567(0x63f)][_0x5de567(0x2f7)](_0x5de567(0x5c9))){let _0x169d31=_0x2f2376[_0x5de567(0x687)];if(await _e(_0x169d31[_0x5de567(0x4d8)]))throw new X(_0x5de567(0x6dc)+_0x169d31[_0x5de567(0x4d8)]+'\x20is\x20already\x20in\x20use.');G[_0x5de567(0x5ec)][_0x169d31[_0x5de567(0x4d8)]]&&delete G['waInstances'][_0x169d31[_0x5de567(0x4d8)]];}_0x42f919();}var Ia=require('class-validator'),_a=I(require(a0_0x217659(0x7f7))),ot=a0_0x217659(0x785),Ro=new $(a0_0x217659(0x227));async function Ao(_0x482980,_0x5e0237,_0x16718b){const _0x3a60c7=a0_0x217659;let _0x349e7b=_0x482980[_0x3a60c7(0x3f4)]('apikey');if(_0x349e7b&&S[_0x3a60c7(0x3f4)](_0x3a60c7(0x2c1))[_0x3a60c7(0x19a)][_0x3a60c7(0x48f)]!==_0x349e7b)throw new se();if(S['get'](_0x3a60c7(0x2c1))[_0x3a60c7(0x19a)]['KEY']===_0x349e7b)return _0x16718b();if((_0x482980[_0x3a60c7(0x63f)]['includes']('/instance/create')||_0x482980[_0x3a60c7(0x63f)]['includes'](_0x3a60c7(0xff)))&&!_0x349e7b)throw new X(_0x3a60c7(0x114),_0x3a60c7(0x3a1));let _0x41f11d=S[_0x3a60c7(0x3f4)](_0x3a60c7(0x2c1))[_0x3a60c7(0x33d)];try{let [_0x241fd7,_0x297b92]=_0x482980['get'](_0x3a60c7(0x328))[_0x3a60c7(0x6a1)]('\x20');if(_0x241fd7[_0x3a60c7(0x43a)]()!=='bearer')throw new se();if(!(0x0,Ia[_0x3a60c7(0x1b0)])(_0x297b92))throw new se();let _0x19fb13=_0x482980['params'],_0x3f025a=_a[_0x3a60c7(0x85a)][_0x3a60c7(0x5cc)](_0x297b92,_0x41f11d[_0x3a60c7(0x71a)],{'ignoreExpiration':_0x41f11d[_0x3a60c7(0x79c)]===0x0});if(_0x19fb13[_0x3a60c7(0x4d8)]!==_0x3f025a['instanceName']||ot!==_0x3f025a[_0x3a60c7(0x495)])throw new se();return _0x16718b();}catch(_0x4d2100){throw Ro[_0x3a60c7(0x310)](_0x4d2100),new se();}}async function To(_0x157d62,_0x3a9ae8,_0xa7f755){const _0x296d26=a0_0x217659;let _0x31beb8=S['get']('AUTHENTICATION')[_0x296d26(0x19a)],_0xd0f875=_0x157d62[_0x296d26(0x3f4)](_0x296d26(0x63a));if(_0x31beb8[_0x296d26(0x48f)]===_0xd0f875)return _0xa7f755();if(_0x157d62[_0x296d26(0x63f)]['includes'](_0x296d26(0x5c9))){let _0x54a488=xa,_0x32a7d1=_0x157d62[_0x296d26(0x687)][_0x296d26(0x4d8)];if(_0x54a488&&_0x32a7d1[_0x296d26(0x43a)]()[_0x296d26(0x487)](_0x54a488['toLowerCase']()))return _0xa7f755();if(!_0xd0f875)throw new X(_0x296d26(0x114),_0x296d26(0x3a1));}if(_0x157d62['originalUrl'][_0x296d26(0x2f7)](_0x296d26(0xff))&&!_0xd0f875)throw new X(_0x296d26(0x114),_0x296d26(0x3a1));if(_0x157d62[_0x296d26(0x63f)]['includes'](_0x296d26(0x670))&&!_0xd0f875)throw new X('Missing\x20global\x20api\x20key',_0x296d26(0x3a1));if(_0x157d62['originalUrl']['includes'](_0x296d26(0x1d6))&&!_0xd0f875)throw new X(_0x296d26(0x114),_0x296d26(0x3a1));try{let _0x53962c=_0x157d62[_0x296d26(0x2a9)],_0x5803d1=await me['auth'][_0x296d26(0x6b5)](_0x53962c[_0x296d26(0x4d8)]);if(_0x5803d1&&_0x5803d1[_0x296d26(0x63a)]===_0xd0f875)return _0xa7f755();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0x217659(0x700)),C=require(a0_0x217659(0x5c4)),v=(..._0x520005)=>{const _0x2cc9fe=a0_0x217659;let _0x4569ad={};return _0x520005[_0x2cc9fe(0x3f7)](_0x5e9540=>_0x4569ad[_0x5e9540]={'minLength':0x1,'description':_0x2cc9fe(0x76f)+_0x5e9540+_0x2cc9fe(0x12f)}),{'if':{'propertyNames':{'enum':[..._0x520005]}},'then':{'properties':_0x4569ad}};},E={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x217659(0x185)}},...v(a0_0x217659(0x4d8))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'oldToken':{'type':'string'}},'required':['oldToken'],...v(a0_0x217659(0x6d4))},Ic={'properties':{'key':{'type':a0_0x217659(0x6ae),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x217659(0x185)},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':['id',a0_0x217659(0x3cc),a0_0x217659(0x1f3)],...v('id','remoteJid')},'message':{'type':a0_0x217659(0x6ae)}}},ae={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x6e3),a0_0x217659(0x623),'composing',a0_0x217659(0x30b),a0_0x217659(0x380)]}}},Z={'type':a0_0x217659(0x185),'description':a0_0x217659(0x1a0)},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x217659(0x6ae),'properties':{'text':{'type':'string'}},'required':['text'],...v('text')}},'required':[a0_0x217659(0x2ff),a0_0x217659(0x626)]},Da={'type':a0_0x217659(0x185),'pattern':a0_0x217659(0x3fb),'description':a0_0x217659(0x1a0)},_c={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x217659(0x6ae),'properties':{'text':{'type':'string'}},'required':[a0_0x217659(0x1dc)],...v(a0_0x217659(0x1dc))}},'required':['textMessage',a0_0x217659(0x626)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x217659(0x6ae),'properties':{'mediatype':{'type':a0_0x217659(0x185),'enum':['image',a0_0x217659(0x10c),a0_0x217659(0x33a),a0_0x217659(0x1a2)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x217659(0x185)}},'required':['mediatype',a0_0x217659(0x87d)],...v(a0_0x217659(0x400),a0_0x217659(0x633),a0_0x217659(0x87d))}},'required':[a0_0x217659(0x624),a0_0x217659(0x626)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x63e)],...v(a0_0x217659(0x63e))}},'required':['stickerMessage',a0_0x217659(0x626)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x1dc),a0_0x217659(0x63e),a0_0x217659(0x1a2),a0_0x217659(0x33a)]},'content':{'type':'string'},'caption':{'type':a0_0x217659(0x185)},'backgroundColor':{'type':a0_0x217659(0x185)},'font':{'type':a0_0x217659(0x525),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x217659(0x38c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x217659(0x185),'pattern':a0_0x217659(0x34b),'description':a0_0x217659(0x5e2)}},'allContacts':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':[a0_0x217659(0x149),a0_0x217659(0x1b2)],...v(a0_0x217659(0x149),a0_0x217659(0x1b2))}},'required':['statusMessage']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x63e),'document',a0_0x217659(0x33a),a0_0x217659(0x1a2)]},'media':{'type':'string'},'fileName':{'type':a0_0x217659(0x185)},'caption':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x40a),a0_0x217659(0x87d)],...v('fileName',a0_0x217659(0x633),a0_0x217659(0x87d))}},'required':[a0_0x217659(0x624),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x217659(0x6ae),'properties':{'audio':{'type':a0_0x217659(0x185)}},'required':['audio'],...v(a0_0x217659(0x1a2))}},'required':[a0_0x217659(0x254),a0_0x217659(0x626)]},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0x217659(0x6ae),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x217659(0x626)},'values':{'type':a0_0x217659(0x38c),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x217659(0x4f7),a0_0x217659(0x4d7),a0_0x217659(0x825)],...v(a0_0x217659(0x4f7),a0_0x217659(0x4d7),a0_0x217659(0x825))}},'required':['number',a0_0x217659(0x1df)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x217659(0x6ae),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x217659(0x38c),'uniqueItems':!0x0}},'required':[a0_0x217659(0x1dc),'choices'],...v(a0_0x217659(0x1dc),a0_0x217659(0x68b))}},'required':[a0_0x217659(0x626),a0_0x217659(0x616)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x217659(0x626)},'longitude':{'type':a0_0x217659(0x626)},'name':{'type':a0_0x217659(0x185)},'address':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x774),a0_0x217659(0x20e)],...v('name',a0_0x217659(0x3df))}},'required':[a0_0x217659(0x626),a0_0x217659(0x19b)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x217659(0x6ae),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x217659(0x185)},'buttonText':{'type':a0_0x217659(0x185)},'sections':{'type':a0_0x217659(0x38c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x217659(0x6ae),'properties':{'title':{'type':a0_0x217659(0x185)},'rows':{'type':a0_0x217659(0x38c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x217659(0x6ae),'properties':{'title':{'type':'string'},'description':{'type':a0_0x217659(0x185)},'rowId':{'type':'string'}},'required':['title',a0_0x217659(0x17b)],...v('title','rowId')}}},'required':[a0_0x217659(0x81a),a0_0x217659(0xfc)],...v('title')}}},'required':[a0_0x217659(0x81a),a0_0x217659(0x88f),a0_0x217659(0x186),a0_0x217659(0x432)],...v('title',a0_0x217659(0x88f),a0_0x217659(0x186),a0_0x217659(0x3d4))}},'required':[a0_0x217659(0x626),a0_0x217659(0x60d)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x217659(0x38c),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x217659(0x4ac)],...v(a0_0x217659(0x24a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x217659(0x626),a0_0x217659(0x177)]},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x217659(0x6ae),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x217659(0x185)},'remoteJid':{'type':a0_0x217659(0x185)},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':['id',a0_0x217659(0x3cc),a0_0x217659(0x1f3)],...v('id',a0_0x217659(0x3cc))},'reaction':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x202),'reaction'],...v(a0_0x217659(0x27c))}},'required':[a0_0x217659(0x7c0)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'numbers':{'type':a0_0x217659(0x38c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x217659(0x185),'pattern':a0_0x217659(0x34b),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x217659(0x185)},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x217659(0x1f3),a0_0x217659(0x3cc)],...v('id',a0_0x217659(0x3cc))}}},'required':[a0_0x217659(0x6f7)]},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x217659(0x6ae),'properties':{'readreceipts':{'type':'string','enum':[a0_0x217659(0x598),'none']},'profile':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x598),'contacts',a0_0x217659(0x11a),a0_0x217659(0x7a4)]},'status':{'type':a0_0x217659(0x185),'enum':['all',a0_0x217659(0x66b),a0_0x217659(0x11a),a0_0x217659(0x7a4)]},'online':{'type':'string','enum':[a0_0x217659(0x598),a0_0x217659(0x3ee)]},'last':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x598),a0_0x217659(0x66b),a0_0x217659(0x11a),a0_0x217659(0x7a4)]},'groupadd':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x598),a0_0x217659(0x66b),a0_0x217659(0x11a),a0_0x217659(0x7a4)]}},'required':[a0_0x217659(0x590),a0_0x217659(0x474),a0_0x217659(0x381),'online',a0_0x217659(0x141),a0_0x217659(0x88a)],...v('readreceipts',a0_0x217659(0x474),a0_0x217659(0x381),a0_0x217659(0x285),a0_0x217659(0x141),'groupadd')}},'required':[a0_0x217659(0x615)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x217659(0x6ae),'properties':{'key':{'type':a0_0x217659(0x6ae),'properties':{'id':{'type':a0_0x217659(0x185)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':['id',a0_0x217659(0x1f3),a0_0x217659(0x3cc)],...v('id',a0_0x217659(0x3cc))},'messageTimestamp':{'type':a0_0x217659(0x525),'minLength':0x1}},'required':['key'],...v('messageTimestamp')},'archive':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':[a0_0x217659(0x83f),a0_0x217659(0x4e9)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'id':{'type':a0_0x217659(0x185)},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x217659(0x185)}},'required':['id',a0_0x217659(0x1f3),a0_0x217659(0x3cc)],...v('id',a0_0x217659(0x3cc),a0_0x217659(0x281))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'where':{'type':a0_0x217659(0x6ae),'properties':{'_id':{'type':a0_0x217659(0x185),'minLength':0x1},'pushName':{'type':a0_0x217659(0x185),'minLength':0x1},'id':{'type':a0_0x217659(0x185),'minLength':0x1}},...v(a0_0x217659(0x353),'id','pushName')}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...v(a0_0x217659(0x4f7))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'status':{'type':a0_0x217659(0x185)}},...v(a0_0x217659(0x381))},Oe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x217659(0x185)},'picture':{'type':a0_0x217659(0x185)}}},ei={'type':'object','properties':{'wuid':{'type':a0_0x217659(0x185)},'name':{'type':a0_0x217659(0x185)},'picture':{'type':a0_0x217659(0x185)},'status':{'type':a0_0x217659(0x185)},'isBusiness':{'type':'boolean'}}},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x217659(0x6ae),'if':{'propertyNames':{'enum':[a0_0x217659(0x1f3),a0_0x217659(0x3cc),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x217659(0x185),'minLength':0x1,'description':a0_0x217659(0x2bd)},'id':{'type':a0_0x217659(0x185),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x217659(0x6ae)}},...v(a0_0x217659(0x353))},'limit':{'type':a0_0x217659(0x525)}}},xc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x217659(0x185)},'id':{'type':a0_0x217659(0x185)},'fromMe':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x234),'PENDING',a0_0x217659(0x7a0),a0_0x217659(0x366),'READ','PLAYED']}},...v(a0_0x217659(0x353),a0_0x217659(0x3cc),'id',a0_0x217659(0x381))},'limit':{'type':a0_0x217659(0x525)}}},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':'string','enum':['unavailable',a0_0x217659(0x623),a0_0x217659(0x4a2),'recording',a0_0x217659(0x380)]}},'required':['presence',a0_0x217659(0x626)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'subject':{'type':a0_0x217659(0x185)},'description':{'type':a0_0x217659(0x185)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x217659(0x38c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x217659(0x5b4),'description':a0_0x217659(0x10e)}}},'required':[a0_0x217659(0x49f),a0_0x217659(0x764)],...v('subject','description',a0_0x217659(0x83b))},xe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string','pattern':a0_0x217659(0x312)}},'required':[a0_0x217659(0x2c3)],...v(a0_0x217659(0x2c3))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'action':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x735),a0_0x217659(0x739),a0_0x217659(0x480),'demote',a0_0x217659(0x852),a0_0x217659(0x612)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x217659(0x185),'minLength':0xa,'pattern':a0_0x217659(0x5b4),'description':a0_0x217659(0x10e)}}},'required':[a0_0x217659(0x2c3),a0_0x217659(0x56e),a0_0x217659(0x764)],...v(a0_0x217659(0x2c3),a0_0x217659(0x56e))},oi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x217659(0x185)},'expiration':{'type':a0_0x217659(0x626),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x217659(0x2c3),a0_0x217659(0x457)],...v('groupJid','expiration')},ri={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'image':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x2c3),a0_0x217659(0x63e)],...v('groupJid',a0_0x217659(0x63e))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'description':{'type':a0_0x217659(0x185)}},'required':[a0_0x217659(0x2c3),'description'],...v(a0_0x217659(0x2c3),a0_0x217659(0x88f))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'name':{'type':'string'}},'required':[a0_0x217659(0x2c3),'name'],...v('groupJid',a0_0x217659(0x4f7))},li={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'setting':{'type':a0_0x217659(0x185),'enum':[a0_0x217659(0x1d5),a0_0x217659(0x11f),a0_0x217659(0x72e),a0_0x217659(0x826)]}},'required':[a0_0x217659(0x2c3),a0_0x217659(0x784)],...v(a0_0x217659(0x2c3),a0_0x217659(0x784))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'groupJid':{'type':a0_0x217659(0x185)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x217659(0x5ae)},'memberAddMode':{'type':a0_0x217659(0x5ae)},'joinApprovalMode':{'type':a0_0x217659(0x5ae)},'expiration':{'type':a0_0x217659(0x525),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x217659(0x185)},'description':{'type':a0_0x217659(0x185)},'image':{'type':a0_0x217659(0x185)}}},Ns={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x217659(0x39d)],...v(a0_0x217659(0x39d))},di={'$id':(0x0,C['v4'])(),'type':a0_0x217659(0x6ae),'properties':{'url':{'type':a0_0x217659(0x185)},'enabled':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]}},'required':[a0_0x217659(0x2fd),a0_0x217659(0x572)]},Pc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x217659(0x5ae),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x217659(0x4f0),a0_0x217659(0x262),'QRCODE_UPDATED',a0_0x217659(0x4db),a0_0x217659(0x3f8),'MESSAGES_UPSERT',a0_0x217659(0x12c),a0_0x217659(0x2ad),a0_0x217659(0x732),a0_0x217659(0x348),'PRESENCE_UPDATE',a0_0x217659(0x45e),'CHATS_UPSERT','CHATS_UPDATE',a0_0x217659(0x45f),'CONNECTION_UPDATE','GROUPS_UPSERT','GROUPS_UPDATE',a0_0x217659(0x33c)],...v(a0_0x217659(0x4f0),a0_0x217659(0x262),a0_0x217659(0x41f),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x217659(0x69e),a0_0x217659(0x12c),a0_0x217659(0x2ad),a0_0x217659(0x732),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x217659(0x45e),'CHATS_UPSERT',a0_0x217659(0x688),a0_0x217659(0x45f),a0_0x217659(0x600),a0_0x217659(0x329),a0_0x217659(0x334),'GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x217659(0x846)](_0x4b9f58){return aa(_0x4b9f58);}async['insert'](_0x32abd7){const _0x2d1eb7=a0_0x217659;if(_0x32abd7[_0x2d1eb7(0xf4)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x32abd7[0x0]['owner'])['insertMany']([..._0x32abd7]))[_0x2d1eb7(0xf4)]};}catch(_0x714b0c){return _0x714b0c;}}async[a0_0x217659(0x85c)](_0x202693,_0x37d3b6){const _0x4c7609=a0_0x217659;try{return{'deletedCount':(await this[_0x4c7609(0x846)](_0x37d3b6)[_0x4c7609(0x4d5)]({..._0x202693[_0x4c7609(0x46f)]}))[_0x4c7609(0x7a7)]};}catch(_0x2e95c2){return{'error':_0x2e95c2?.[_0x4c7609(0x76d)]()};}}async['update'](_0x1e8cc4,_0x13397b){const _0x37a3b5=a0_0x217659;try{if(_0x1e8cc4[_0x37a3b5(0xf4)]===0x0)return;let _0x464cee=this['getContactModelForOwner'](_0x13397b),_0x4b35d4=_0x1e8cc4[_0x37a3b5(0x557)](_0x46a4fe=>({'updateOne':{'filter':{'_id':_0x46a4fe[_0x37a3b5(0x353)],'owner':_0x13397b},'update':{..._0x46a4fe}}})),{modifiedCount:_0x49f8c3}=await _0x464cee[_0x37a3b5(0x864)](_0x4b35d4);return{'insertCount':_0x49f8c3};}catch{return;}}async[a0_0x217659(0x6b5)](_0x77dbe2,_0x48cc4d){const _0x35d264=a0_0x217659;try{let _0x2a3506=this[_0x35d264(0x846)](_0x48cc4d),_0x16e76a=A(_0x77dbe2[_0x35d264(0x46f)]);return await _0x2a3506['find'](_0x16e76a)[_0x35d264(0x135)](_0x77dbe2?.[_0x35d264(0x135)]??0x0)[_0x35d264(0x14f)]();}catch{return[];}}async[a0_0x217659(0x567)](_0x5ecf6b,_0x46f8de){const _0x199363=a0_0x217659;try{let _0x1b0cab=this['getContactModelForOwner'](_0x46f8de),_0x3b8cd0=A(_0x5ecf6b['where']);return await _0x1b0cab['findOne'](_0x3b8cd0)[_0x199363(0x14f)]();}catch{return null;}}async['deleteAll'](_0x5044c1){const _0x12afdc=a0_0x217659;try{return await this['getContactModelForOwner'](_0x5044c1)[_0x12afdc(0x147)][_0x12afdc(0x30d)](),{'success':!0x0};}catch(_0x4d76da){return console['error'](_0x4d76da),{'success':!0x1,'error':_0x4d76da};}}},ct=require('jsonschema'),Vc=require(a0_0x217659(0x697)),$s=new $('Validate'),V=class{[a0_0x217659(0x1a9)](_0xb65fce,_0x3df8e4=!0x0){const _0x338ec7=a0_0x217659;let _0xcd8e91='/'+_0xb65fce;return _0x3df8e4&&(_0xcd8e91+=_0x338ec7(0x386)),_0xcd8e91;}async['dataValidate'](_0x335b2a){const _0x59994e=a0_0x217659;let {request:_0x1338e5,schema:_0x44bf16,ClassRef:_0x6c532a,execute:_0x52b4d9}=_0x335b2a,_0x36dba7=new _0x6c532a(),_0x5976f2=_0x1338e5['body'],_0x4587d5=_0x1338e5[_0x59994e(0x2a9)];_0x1338e5?.['query']&&Object[_0x59994e(0x669)](_0x1338e5['query'])[_0x59994e(0xf4)]>0x0&&Object[_0x59994e(0x777)](_0x4587d5,_0x1338e5[_0x59994e(0x805)]),_0x1338e5[_0x59994e(0x63f)][_0x59994e(0x2f7)]('/instance/create')&&Object[_0x59994e(0x777)](_0x4587d5,_0x5976f2),Object['assign'](_0x36dba7,_0x5976f2);let _0x155bd6=_0x44bf16?(0x0,ct['validate'])(_0x36dba7,_0x44bf16):{'valid':!0x0,'errors':[]};if(!_0x155bd6[_0x59994e(0x1fe)]){let _0x2650a9=_0x155bd6['errors'][_0x59994e(0x557)](({property:_0x112bc8,stack:_0x1543d1,schema:_0x28e244})=>{const _0x581630=_0x59994e;let _0x846248;return _0x28e244['description']?_0x846248=_0x28e244[_0x581630(0x88f)]:_0x846248=_0x1543d1['replace'](_0x581630(0x2bf),''),{'property':_0x112bc8[_0x581630(0x828)]('instance.',''),'message':_0x846248};});throw $s['error']([..._0x2650a9]),new m(..._0x2650a9);}return await _0x52b4d9(_0x4587d5,_0x36dba7);}async[a0_0x217659(0x762)](_0x23c3ba){const _0x1e9036=a0_0x217659;let {request:_0x45ccf8,ClassRef:_0x49816e,schema:_0x48e498,execute:_0x592172}=_0x23c3ba,_0x11aa04=_0x45ccf8[_0x1e9036(0x805)];if(!_0x11aa04?.[_0x1e9036(0x2c3)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x1e9036(0x119));let _0x13be79=_0x45ccf8[_0x1e9036(0x2a9)],_0x55b33b=_0x45ccf8[_0x1e9036(0x687)],_0x16e10a=new _0x49816e();Object['assign'](_0x55b33b,_0x11aa04),Object[_0x1e9036(0x777)](_0x16e10a,_0x55b33b);let _0x584ae9=(0x0,ct[_0x1e9036(0x33f)])(_0x16e10a,_0x48e498);if(!_0x584ae9[_0x1e9036(0x1fe)]){let _0xfe024c=_0x584ae9[_0x1e9036(0x41e)][_0x1e9036(0x557)](({property:_0x1677d9,stack:_0x169ff5,schema:_0x19b431})=>{const _0x3254df=_0x1e9036;let _0xb03c91;return _0x19b431[_0x3254df(0x88f)]?_0xb03c91=_0x19b431[_0x3254df(0x88f)]:_0xb03c91=_0x169ff5[_0x3254df(0x828)]('instance.',''),{'property':_0x1677d9['replace'](_0x3254df(0x2bf),''),'message':_0xb03c91};});throw $s[_0x1e9036(0x310)]([..._0xfe024c]),new m(..._0xfe024c);}return await _0x592172(_0x13be79,_0x16e10a);}async[a0_0x217659(0x589)](_0x9a5a3c){const _0x5214c8=a0_0x217659;let {request:_0x5d4db6,ClassRef:_0x7ebdc3,schema:_0x4147c0,execute:_0x472ad8}=_0x9a5a3c,_0x31e60f=_0x5d4db6['body'];if(!_0x31e60f?.[_0x5214c8(0x39d)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x5214c8(0x794));let _0x4e364f=_0x5d4db6['params'],_0x204275=_0x5d4db6[_0x5214c8(0x687)],_0x2d8861=new _0x7ebdc3();Object[_0x5214c8(0x777)](_0x204275,_0x31e60f),Object[_0x5214c8(0x777)](_0x2d8861,_0x204275);let _0x2f3f4e=(0x0,ct[_0x5214c8(0x33f)])(_0x2d8861,_0x4147c0);if(!_0x2f3f4e[_0x5214c8(0x1fe)]){let _0x766d4f=_0x2f3f4e['errors'][_0x5214c8(0x557)](({property:_0x3d20f0,stack:_0x249b1e,schema:_0x4fb0b6})=>{const _0x47d698=_0x5214c8;let _0x41c454;return _0x4fb0b6[_0x47d698(0x88f)]?_0x41c454=_0x4fb0b6[_0x47d698(0x88f)]:_0x41c454=_0x249b1e['replace'](_0x47d698(0x2bf),''),{'property':_0x3d20f0['replace'](_0x47d698(0x2bf),''),'message':_0x41c454};});throw $s[_0x5214c8(0x310)]([..._0x766d4f]),new m(..._0x766d4f);}return await _0x472ad8(_0x4e364f,_0x2d8861);}},M=class{},il=new $('ChatRouter'),lt=class extends V{constructor(..._0x5af5ce){const _0x4e5b32=a0_0x217659;super(),this[_0x4e5b32(0x357)]=(0x0,pi[_0x4e5b32(0x620)])(),this[_0x4e5b32(0x357)]['post'](this['routerPath'](_0x4e5b32(0x3fc)),..._0x5af5ce,async(_0x22448d,_0xa93632)=>{const _0x4c812f=_0x4e5b32;let _0x5eaaa4=await this[_0x4c812f(0x5f2)]({'request':_0x22448d,'schema':si,'ClassRef':Ye,'execute':(_0x161a1b,_0x52b6c4)=>D[_0x4c812f(0x3fc)](_0x161a1b,_0x52b6c4)});return _0xa93632[_0x4c812f(0x381)](0xc9)['json'](_0x5eaaa4);})[_0x4e5b32(0x5d9)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x562)),..._0x5af5ce,async(_0x176dab,_0x32c7bb)=>{const _0x4c7e7d=_0x4e5b32;let _0x1867e6=await this[_0x4c7e7d(0x5f2)]({'request':_0x176dab,'schema':Wa,'ClassRef':Xe,'execute':(_0xf5b251,_0x282244)=>D[_0x4c7e7d(0x148)](_0xf5b251,_0x282244)});return _0x32c7bb[_0x4c7e7d(0x381)](0xc9)[_0x4c7e7d(0x5e0)](_0x1867e6);})[_0x4e5b32(0x5d9)](this['routerPath'](_0x4e5b32(0x479)),..._0x5af5ce,async(_0xb5b591,_0x5676f0)=>{const _0x2a09fb=_0x4e5b32;let _0x47ac0f=await this[_0x2a09fb(0x5f2)]({'request':_0xb5b591,'schema':E,'ClassRef':M,'execute':(_0x1e7208,_0x3f0a04)=>D[_0x2a09fb(0x479)](_0x1e7208,_0x3f0a04)});return _0x5676f0[_0x2a09fb(0x381)](0xc9)['json'](_0x47ac0f);})[_0x4e5b32(0x801)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x830)),..._0x5af5ce,async(_0x5f3821,_0x479f5b)=>{const _0x3cc771=_0x4e5b32;let _0x5998da=await this['dataValidate']({'request':_0x5f3821,'schema':za,'ClassRef':tt,'execute':(_0x5665f4,_0x1566e5)=>D[_0x3cc771(0x714)](_0x5665f4,_0x1566e5)});return _0x479f5b[_0x3cc771(0x381)](0xc9)[_0x3cc771(0x5e0)](_0x5998da);})[_0x4e5b32(0x801)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x14a)),..._0x5af5ce,async(_0x1ba2f5,_0x16c5c4)=>{const _0x8afa54=_0x4e5b32;let _0x1efa7a=await this[_0x8afa54(0x5f2)]({'request':_0x1ba2f5,'schema':Ka,'ClassRef':st,'execute':(_0x5bcb22,_0x470dac)=>D[_0x8afa54(0x14a)](_0x5bcb22,_0x470dac)});return _0x16c5c4[_0x8afa54(0x381)](0xc9)[_0x8afa54(0x5e0)](_0x1efa7a);})[_0x4e5b32(0x85c)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x40c)),..._0x5af5ce,async(_0x2e0b35,_0x2a6341)=>{const _0xa14bec=_0x4e5b32;let _0x127a99=await this[_0xa14bec(0x5f2)]({'request':_0x2e0b35,'schema':Qa,'ClassRef':it,'execute':(_0x502f29,_0x6df204)=>D[_0xa14bec(0x5e9)](_0x502f29,_0x6df204)});return _0x2a6341['status'](0xc9)['json'](_0x127a99);})[_0x4e5b32(0x5d9)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x2ba)),..._0x5af5ce,async(_0x15b720,_0xf67f3d)=>{const _0x10a7cb=_0x4e5b32;let _0x4c1d3a=await this['dataValidate']({'request':_0x15b720,'schema':Oe,'ClassRef':Ie,'execute':(_0x13a58d,_0x482117)=>D[_0x10a7cb(0x802)](_0x13a58d,_0x482117)});return _0xf67f3d[_0x10a7cb(0x381)](0xc8)[_0x10a7cb(0x5e0)](_0x4c1d3a);})['post'](this[_0x4e5b32(0x1a9)]('fetchProfile'),..._0x5af5ce,async(_0x1045d2,_0x5b16e2)=>{const _0x3981fc=_0x4e5b32;let _0x466e40=await this['dataValidate']({'request':_0x1045d2,'schema':ei,'ClassRef':Ie,'execute':(_0x27b79e,_0x307b42)=>D['fetchProfile'](_0x27b79e,_0x307b42)});return _0x5b16e2['status'](0xc8)[_0x3981fc(0x5e0)](_0x466e40);})['post'](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x27f)),..._0x5af5ce,async(_0x539630,_0x59b41f)=>{const _0x56a9a4=_0x4e5b32;let _0x274bc8=await this[_0x56a9a4(0x5f2)]({'request':_0x539630,'schema':Ya,'ClassRef':rt,'execute':(_0x3338df,_0x30fcaa)=>D['fetchContacts'](_0x3338df,_0x30fcaa)});return _0x59b41f['status'](0xc8)['json'](_0x274bc8);})[_0x4e5b32(0x5d9)](this[_0x4e5b32(0x1a9)]('getBase64FromMediaMessage'),..._0x5af5ce,async(_0x5bb731,_0x20adcd)=>{const _0x40ac69=_0x4e5b32;let _0x1d024e=await this[_0x40ac69(0x5f2)]({'request':_0x5bb731,'schema':null,'ClassRef':Object,'execute':(_0x49ad1b,_0x46e5e2)=>D['getBase64FromMediaMessage'](_0x49ad1b,_0x46e5e2)});return _0x20adcd[_0x40ac69(0x381)](0xc9)[_0x40ac69(0x5e0)](_0x1d024e);})['post'](this[_0x4e5b32(0x1a9)]('findMessages'),..._0x5af5ce,async(_0x1b3828,_0x215cd5)=>{const _0x5e120e=_0x4e5b32;let _0x530728=await this['dataValidate']({'request':_0x1b3828,'schema':ti,'ClassRef':Ke,'execute':(_0x57665e,_0x515612)=>D[_0x5e120e(0x39e)](_0x57665e,_0x515612)});return _0x215cd5[_0x5e120e(0x381)](0xc8)[_0x5e120e(0x5e0)](_0x530728);})['get'](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x524)),..._0x5af5ce,async(_0xbd2aa3,_0x51f7bd)=>{const _0x598466=_0x4e5b32;let _0x1c1038=await this[_0x598466(0x5f2)]({'request':_0xbd2aa3,'schema':null,'ClassRef':M,'execute':_0x33adac=>D[_0x598466(0x140)](_0x33adac)});return _0x51f7bd['status'](0xc8)[_0x598466(0x5e0)](_0x1c1038);})[_0x4e5b32(0x3f4)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x174)),..._0x5af5ce,async(_0x5d6814,_0xb9d1e3)=>{const _0x67599b=_0x4e5b32;let _0x4c845b=await this['dataValidate']({'request':_0x5d6814,'schema':null,'ClassRef':M,'execute':_0x29fa3d=>D[_0x67599b(0x738)](_0x29fa3d)});return _0xb9d1e3[_0x67599b(0x381)](0xc8)['json'](_0x4c845b);})[_0x4e5b32(0x801)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x49d)),..._0x5af5ce,async(_0x5c8e94,_0xb6e9f2)=>{const _0xb7ffd0=_0x4e5b32;let _0x1e9077=await this[_0xb7ffd0(0x5f2)]({'request':_0x5c8e94,'schema':null,'ClassRef':Array,'execute':(_0x273368,_0x65a6b1)=>D[_0xb7ffd0(0x49d)](_0x273368,_0x65a6b1)});return _0xb6e9f2[_0xb7ffd0(0x381)](0xc8)['json'](_0x1e9077);})[_0x4e5b32(0x3f4)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x444)),..._0x5af5ce,async(_0x499a61,_0x48d92e)=>{const _0x43d6c2=_0x4e5b32;let _0xad690c=await this[_0x43d6c2(0x5f2)]({'request':_0x499a61,'schema':null,'ClassRef':M,'execute':_0x1b1086=>D['fetchPrivacySettings'](_0x1b1086)});return _0x48d92e[_0x43d6c2(0x381)](0xc8)[_0x43d6c2(0x5e0)](_0xad690c);})[_0x4e5b32(0x801)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x698)),..._0x5af5ce,async(_0x184f99,_0x1db451)=>{const _0x5b68df=_0x4e5b32;let _0x51e970=await this['dataValidate']({'request':_0x184f99,'schema':Ha,'ClassRef':at,'execute':(_0x2a604a,_0x4ec689)=>D['updatePrivacySettings'](_0x2a604a,_0x4ec689)});return _0x1db451[_0x5b68df(0x381)](0xc9)[_0x5b68df(0x5e0)](_0x51e970);})['post'](this['routerPath'](_0x4e5b32(0x4fe)),..._0x5af5ce,async(_0x35cee0,_0x22eb4e)=>{const _0x3c4671=_0x4e5b32;let _0x346680=await this[_0x3c4671(0x5f2)]({'request':_0x35cee0,'schema':Oe,'ClassRef':Ce,'execute':(_0xb8af47,_0x3f8c85)=>D[_0x3c4671(0x4fe)](_0xb8af47,_0x3f8c85)});return _0x22eb4e['status'](0xc8)[_0x3c4671(0x5e0)](_0x346680);})['post'](this['routerPath'](_0x4e5b32(0x7f3)),..._0x5af5ce,async(_0x5ad85a,_0x382bd9)=>{const _0x3aee81=_0x4e5b32;let _0x15cd56=await this[_0x3aee81(0x5f2)]({'request':_0x5ad85a,'schema':Xa,'ClassRef':Ze,'execute':(_0x67598f,_0x569c2b)=>D[_0x3aee81(0x7f3)](_0x67598f,_0x569c2b)});return _0x382bd9[_0x3aee81(0x381)](0xc8)[_0x3aee81(0x5e0)](_0x15cd56);})[_0x4e5b32(0x5d9)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x276)),..._0x5af5ce,async(_0x581c0e,_0x26c699)=>{const _0x4040d7=_0x4e5b32;let _0x455932=await this[_0x4040d7(0x5f2)]({'request':_0x581c0e,'schema':Za,'ClassRef':et,'execute':(_0x439ebf,_0x33b360)=>D[_0x4040d7(0x276)](_0x439ebf,_0x33b360)});return _0x26c699[_0x4040d7(0x381)](0xc8)[_0x4040d7(0x5e0)](_0x455932);})[_0x4e5b32(0x801)](this[_0x4e5b32(0x1a9)](_0x4e5b32(0x611)),..._0x5af5ce,async(_0x3bd6fd,_0x537ce2)=>{const _0x48cd3a=_0x4e5b32;let _0x50e18f=await this['dataValidate']({'request':_0x3bd6fd,'schema':Oe,'ClassRef':Ce,'execute':(_0x5a720d,_0x33de1b)=>D[_0x48cd3a(0x611)](_0x5a720d,_0x33de1b)});return _0x537ce2[_0x48cd3a(0x381)](0xc8)[_0x48cd3a(0x5e0)](_0x50e18f);})[_0x4e5b32(0x85c)](this['routerPath'](_0x4e5b32(0x895)),..._0x5af5ce,async(_0x3091b1,_0x283509)=>{const _0x13aab1=_0x4e5b32;let _0x57a776=await this[_0x13aab1(0x5f2)]({'request':_0x3091b1,'schema':Oe,'ClassRef':Ce,'execute':(_0x37818f,_0x477871)=>D[_0x13aab1(0x895)](_0x37818f,_0x477871)});return _0x283509[_0x13aab1(0x381)](0xc8)[_0x13aab1(0x5e0)](_0x57a776);});}},hi=require(a0_0x217659(0x700)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x95d104){const _0x508b23=a0_0x217659;super(),this[_0x508b23(0x357)]=(0x0,hi[_0x508b23(0x620)])(),this[_0x508b23(0x357)][_0x508b23(0x5d9)](this[_0x508b23(0x1a9)](_0x508b23(0x4a5)),..._0x95d104,async(_0x143e96,_0x23da2f)=>{const _0x1da088=_0x508b23;let _0x2de9ce=await this[_0x1da088(0x5f2)]({'request':_0x143e96,'schema':ai,'ClassRef':ut,'execute':(_0xa675e3,_0x371788)=>q[_0x1da088(0x406)](_0xa675e3,_0x371788)});_0x23da2f[_0x1da088(0x381)](0xc9)[_0x1da088(0x5e0)](_0x2de9ce);})[_0x508b23(0x801)](this[_0x508b23(0x1a9)](_0x508b23(0x25e)),..._0x95d104,async(_0x4d2731,_0x34209f)=>{const _0x54876c=_0x508b23;let _0x25c1eb=await this[_0x54876c(0x762)]({'request':_0x4d2731,'schema':ri,'ClassRef':dt,'execute':(_0x351f84,_0x1fcd7b)=>q[_0x54876c(0x25e)](_0x351f84,_0x1fcd7b)});_0x34209f['status'](0xc9)[_0x54876c(0x5e0)](_0x25c1eb);})[_0x508b23(0x801)](this[_0x508b23(0x1a9)]('groupDesc'),..._0x95d104,async(_0x4842ae,_0xeccda0)=>{const _0x343a38=_0x508b23;let _0x1ec111=await this[_0x343a38(0x762)]({'request':_0x4842ae,'schema':ni,'ClassRef':pt,'execute':(_0xe69888,_0x144abe)=>q[_0x343a38(0x3a9)](_0xe69888,_0x144abe)});_0xeccda0[_0x343a38(0x381)](0xc9)[_0x343a38(0x5e0)](_0x1ec111);})[_0x508b23(0x801)](this['routerPath']('groupName'),..._0x95d104,async(_0x29ed1d,_0x247996)=>{const _0x16dbfe=_0x508b23;let _0x43ad94=await this[_0x16dbfe(0x762)]({'request':_0x29ed1d,'schema':ci,'ClassRef':ht,'execute':(_0x3acf4b,_0x450a54)=>q[_0x16dbfe(0x59e)](_0x3acf4b,_0x450a54)});_0x247996[_0x16dbfe(0x381)](0xc9)[_0x16dbfe(0x5e0)](_0x43ad94);})[_0x508b23(0x801)](this[_0x508b23(0x1a9)]('groupBetterSetting'),..._0x95d104,async(_0x20bdaf,_0x593c78)=>{const _0x5c7892=_0x508b23;let _0x3b7cd3=await this[_0x5c7892(0x762)]({'request':_0x20bdaf,'schema':ui,'ClassRef':mt,'execute':(_0x4f26ef,_0x279202)=>q[_0x5c7892(0x6ed)](_0x4f26ef,_0x279202)});_0x593c78['status'](0xc9)[_0x5c7892(0x5e0)](_0x3b7cd3);})[_0x508b23(0x801)](this['routerPath'](_0x508b23(0x80b)),..._0x95d104,async(_0x528824,_0x2fee0f)=>{const _0x2280c1=_0x508b23;let _0x269c59=await this[_0x2280c1(0x762)]({'request':_0x528824,'schema':li,'ClassRef':gt,'execute':(_0x2b13bd,_0x47b0e3)=>q[_0x2280c1(0x80b)](_0x2b13bd,_0x47b0e3)});_0x2fee0f[_0x2280c1(0x381)](0xc9)[_0x2280c1(0x5e0)](_0x269c59);})[_0x508b23(0x801)](this['routerPath']('toggleEphemeral'),..._0x95d104,async(_0x1e0713,_0x5c8e9a)=>{const _0x59574d=_0x508b23;let _0x32693d=await this['groupValidate']({'request':_0x1e0713,'schema':oi,'ClassRef':wt,'execute':(_0xd2aa5b,_0x276a80)=>q[_0x59574d(0xeb)](_0xd2aa5b,_0x276a80)});_0x5c8e9a[_0x59574d(0x381)](0xc9)[_0x59574d(0x5e0)](_0x32693d);})['get'](this[_0x508b23(0x1a9)](_0x508b23(0x4ed)),..._0x95d104,async(_0x484506,_0x27ec39)=>{const _0x2d925c=_0x508b23;let _0xe39c2b=await this[_0x2d925c(0x762)]({'request':_0x484506,'schema':xe,'ClassRef':ee,'execute':(_0x24d883,_0x1f7912)=>q[_0x2d925c(0x461)](_0x24d883,_0x1f7912)});_0x27ec39[_0x2d925c(0x381)](0xc8)[_0x2d925c(0x5e0)](_0xe39c2b);})['get'](this[_0x508b23(0x1a9)]('findGroups'),..._0x95d104,async(_0x1147e1,_0x3532fb)=>{const _0x18704f=_0x508b23;let _0x373190=await this[_0x18704f(0x5f2)]({'request':_0x1147e1,'schema':E,'ClassRef':M,'execute':_0x5b3c6f=>q['findGroups'](_0x5b3c6f)});_0x3532fb['status'](0xc8)[_0x18704f(0x5e0)](_0x373190);})['get'](this[_0x508b23(0x1a9)](_0x508b23(0x764)),..._0x95d104,async(_0x3b9a8d,_0x5d4b1a)=>{const _0x57cf8d=_0x508b23;let _0x48ca12=await this[_0x57cf8d(0x762)]({'request':_0x3b9a8d,'schema':xe,'ClassRef':ee,'execute':(_0x4c877f,_0x20d98e)=>q[_0x57cf8d(0x5c6)](_0x4c877f,_0x20d98e)});_0x5d4b1a['status'](0xc8)[_0x57cf8d(0x5e0)](_0x48ca12);})['get'](this[_0x508b23(0x1a9)](_0x508b23(0x39d)),..._0x95d104,async(_0x5344e9,_0x46dfad)=>{const _0x33ee72=_0x508b23;let _0x4e43e6=await this[_0x33ee72(0x762)]({'request':_0x5344e9,'schema':xe,'ClassRef':ee,'execute':(_0x280c14,_0x2398de)=>q['inviteCode'](_0x280c14,_0x2398de)});_0x46dfad[_0x33ee72(0x381)](0xc8)[_0x33ee72(0x5e0)](_0x4e43e6);})['post'](this[_0x508b23(0x1a9)](_0x508b23(0x68f)),..._0x95d104,async(_0x312200,_0x5cf886)=>{const _0x40c9f7=_0x508b23;let _0x57abc6=await this['joinGroupValidate']({'request':_0x312200,'schema':Ns,'ClassRef':Pe,'execute':(_0x1fa943,_0x1f0668)=>q['groupGetInviteInfo'](_0x1fa943,_0x1f0668)});_0x5cf886['status'](0xc9)[_0x40c9f7(0x5e0)](_0x57abc6);})[_0x508b23(0x801)](this['routerPath'](_0x508b23(0x62f)),..._0x95d104,async(_0x919daf,_0x415484)=>{const _0x214cf1=_0x508b23;let _0x3e728a=await this['joinGroupValidate']({'request':_0x919daf,'schema':Ns,'ClassRef':Pe,'execute':(_0x24499e,_0x4833ed)=>q[_0x214cf1(0x62f)](_0x24499e,_0x4833ed)});_0x415484[_0x214cf1(0x381)](0xc9)['json'](_0x3e728a);})[_0x508b23(0x801)](this[_0x508b23(0x1a9)](_0x508b23(0x21f)),..._0x95d104,async(_0x30a55d,_0x44e6d5)=>{const _0x592e6f=_0x508b23;let _0x3c83fd=await this['groupValidate']({'request':_0x30a55d,'schema':xe,'ClassRef':ee,'execute':(_0x2962d5,_0x5dd14d)=>q[_0x592e6f(0x21f)](_0x2962d5,_0x5dd14d)});_0x44e6d5['status'](0xc9)['json'](_0x3c83fd);})[_0x508b23(0x801)](this[_0x508b23(0x1a9)]('updateParticipant'),..._0x95d104,async(_0x41bfe9,_0x2e8ac3)=>{const _0x1bf4b1=_0x508b23;let _0x4dde23=await this[_0x1bf4b1(0x762)]({'request':_0x41bfe9,'schema':ii,'ClassRef':ft,'execute':(_0xd59eb6,_0x1b9103)=>q[_0x1bf4b1(0x7a1)](_0xd59eb6,_0x1b9103)});_0x2e8ac3[_0x1bf4b1(0x381)](0xc9)[_0x1bf4b1(0x5e0)](_0x4dde23);})[_0x508b23(0x85c)](this[_0x508b23(0x1a9)](_0x508b23(0x2e2)),..._0x95d104,async(_0x3fb7cc,_0x2091f9)=>{const _0x4d00bc=_0x508b23;let _0x31364a=await this[_0x4d00bc(0x762)]({'request':_0x3fb7cc,'schema':{},'ClassRef':ee,'execute':(_0x2f2cfe,_0x250614)=>q[_0x4d00bc(0x2e2)](_0x2f2cfe,_0x250614)});_0x2091f9[_0x4d00bc(0x381)](0xc8)[_0x4d00bc(0x5e0)](_0x31364a);});}},gi=require(a0_0x217659(0x700)),bt=class extends V{constructor(_0x24e8e4,..._0x3e8fa0){const _0x1ba3fa=a0_0x217659;super(),this['configService']=_0x24e8e4,this[_0x1ba3fa(0x357)]=(0x0,gi[_0x1ba3fa(0x620)])();let _0x3b25ac=_0x24e8e4[_0x1ba3fa(0x3f4)]('AUTHENTICATION');this['router'][_0x1ba3fa(0x5d9)](_0x1ba3fa(0x385),..._0x3e8fa0,async(_0x2b4d7c,_0x474d68)=>{const _0x5f1c4d=_0x1ba3fa;let {instanceName:_0x11002c,apikey:_0x247598,number:_0x5dc2ef}=_0x2b4d7c[_0x5f1c4d(0x687)],_0x45b378=await le['createInstance']({'instanceName':_0x11002c,'apikey':_0x247598,'number':_0x5dc2ef});return _0x474d68[_0x5f1c4d(0x381)](0xc9)[_0x5f1c4d(0x5e0)](_0x45b378);})['put'](this[_0x1ba3fa(0x1a9)]('restart'),..._0x3e8fa0,async(_0xf3097f,_0x462a6b)=>{const _0x1733d8=_0x1ba3fa;let _0x34a438=await this[_0x1733d8(0x5f2)]({'request':_0xf3097f,'schema':E,'ClassRef':M,'execute':_0x51954e=>le[_0x1733d8(0x395)](_0x51954e)});return _0x462a6b[_0x1733d8(0x381)](0xc8)[_0x1733d8(0x5e0)](_0x34a438);})[_0x1ba3fa(0x3f4)](this['routerPath'](_0x1ba3fa(0x195)),..._0x3e8fa0,async(_0x580dd6,_0xba6c50)=>{const _0x29407b=_0x1ba3fa;let _0x30f191=await this['dataValidate']({'request':_0x580dd6,'schema':E,'ClassRef':M,'execute':_0xee240=>le[_0x29407b(0x26f)](_0xee240)});return _0xba6c50[_0x29407b(0x381)](0xc8)['json'](_0x30f191);})[_0x1ba3fa(0x3f4)](this[_0x1ba3fa(0x1a9)](_0x1ba3fa(0x766)),..._0x3e8fa0,async(_0x2ea64d,_0xd44231)=>{const _0x28591a=_0x1ba3fa;let _0x52f782=await this[_0x28591a(0x5f2)]({'request':_0x2ea64d,'schema':E,'ClassRef':M,'execute':_0x4494cd=>le[_0x28591a(0x766)](_0x4494cd)});return _0xd44231[_0x28591a(0x381)](0xc8)[_0x28591a(0x5e0)](_0x52f782);})[_0x1ba3fa(0x3f4)](this['routerPath']('fetchInstances',!0x1),..._0x3e8fa0,async(_0x295d91,_0x33b5ba)=>{const _0x4db6d8=_0x1ba3fa;let _0x44366d=await this[_0x4db6d8(0x5f2)]({'request':_0x295d91,'schema':null,'ClassRef':M,'execute':_0x81a13d=>le[_0x4db6d8(0x71c)](_0x81a13d)});return _0x33b5ba[_0x4db6d8(0x381)](0xc8)[_0x4db6d8(0x5e0)](_0x44366d);})[_0x1ba3fa(0x85c)](this['routerPath'](_0x1ba3fa(0x16c)),..._0x3e8fa0,async(_0x1ba3ba,_0x19f9f4)=>{const _0x241912=_0x1ba3fa;let _0x314021=await this[_0x241912(0x5f2)]({'request':_0x1ba3ba,'schema':E,'ClassRef':M,'execute':_0x1476e8=>le['logout'](_0x1476e8)});return _0x19f9f4[_0x241912(0x381)](0xc8)[_0x241912(0x5e0)](_0x314021);})[_0x1ba3fa(0x85c)](this[_0x1ba3fa(0x1a9)](_0x1ba3fa(0x85c)),..._0x3e8fa0,async(_0x1e0f68,_0x594c7a)=>{const _0x20ff3d=_0x1ba3fa;let _0x1f0c3c=await this[_0x20ff3d(0x5f2)]({'request':_0x1e0f68,'schema':E,'ClassRef':M,'execute':_0x250772=>le[_0x20ff3d(0x228)](_0x250772)});return _0x594c7a['status'](0xc8)[_0x20ff3d(0x5e0)](_0x1f0c3c);});}},mi=require(a0_0x217659(0x700)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x1d0869){const _0x137130=a0_0x217659;super(),this[_0x137130(0x357)]=(0x0,mi['Router'])(),this[_0x137130(0x357)]['post'](this[_0x137130(0x1a9)](_0x137130(0x3af)),..._0x1d0869,async(_0x574624,_0x24164f)=>{const _0x1f5f78=_0x137130;let _0x1907ca=await this[_0x1f5f78(0x5f2)]({'request':_0x574624,'schema':Pa,'ClassRef':St,'execute':(_0x1c62e9,_0xb14a70)=>B[_0x1f5f78(0x3af)](_0x1c62e9,_0xb14a70)});return _0x24164f['status'](0xc9)[_0x1f5f78(0x5e0)](_0x1907ca);})[_0x137130(0x5d9)](this[_0x137130(0x1a9)](_0x137130(0x81e)),..._0x1d0869,async(_0x46a9d0,_0x1c86c4)=>{const _0x4b4321=_0x137130;let _0x552e20=await this[_0x4b4321(0x5f2)]({'request':_0x46a9d0,'schema':Fa,'ClassRef':De,'execute':(_0x8efbe6,_0x323818)=>B['sendMedia'](_0x8efbe6,_0x323818)});return _0x1c86c4[_0x4b4321(0x381)](0xc9)[_0x4b4321(0x5e0)](_0x552e20);})[_0x137130(0x5d9)](this[_0x137130(0x1a9)](_0x137130(0x4f3)),..._0x1d0869,async(_0x21adad,_0x32a533)=>{const _0x4e3040=_0x137130;let _0x265393=await this[_0x4e3040(0x5f2)]({'request':_0x21adad,'schema':Ja,'ClassRef':vt,'execute':(_0x18aed3,_0x337a27)=>B[_0x4e3040(0x4f3)](_0x18aed3,_0x337a27)});return _0x32a533[_0x4e3040(0x381)](0xc9)[_0x4e3040(0x5e0)](_0x265393);})[_0x137130(0x5d9)](this[_0x137130(0x1a9)](_0x137130(0x13f)),..._0x1d0869,async(_0x2d31d3,_0x2db9ee)=>{const _0x384d2e=_0x137130;let _0x44db59=await this['dataValidate']({'request':_0x2d31d3,'schema':Ua,'ClassRef':De,'execute':(_0x9cc5b9,_0x3280c1)=>B['sendWhatsAppAudio'](_0x9cc5b9,_0x3280c1)});return _0x2db9ee[_0x384d2e(0x381)](0xc9)[_0x384d2e(0x5e0)](_0x44db59);})[_0x137130(0x5d9)](this[_0x137130(0x1a9)]('sendLocation'),..._0x1d0869,async(_0x527159,_0x238279)=>{const _0xb4d9d2=_0x137130;let _0x1bd647=await this['dataValidate']({'request':_0x527159,'schema':qa,'ClassRef':Nt,'execute':(_0x5a8c9a,_0x409626)=>B[_0xb4d9d2(0x621)](_0x5a8c9a,_0x409626)});return _0x238279['status'](0xc9)['json'](_0x1bd647);})[_0x137130(0x5d9)](this['routerPath'](_0x137130(0x3bf)),..._0x1d0869,async(_0x5ac05c,_0x383abb)=>{const _0x29471e=_0x137130;let _0x49e9ea=await this[_0x29471e(0x5f2)]({'request':_0x5ac05c,'schema':Va,'ClassRef':$t,'execute':(_0x2d9393,_0x537fd1)=>B[_0x29471e(0x3bf)](_0x2d9393,_0x537fd1)});return _0x383abb[_0x29471e(0x381)](0xc9)['json'](_0x49e9ea);})['post'](this[_0x137130(0x1a9)](_0x137130(0x2c2)),..._0x1d0869,async(_0x3607d2,_0x110b4b)=>{const _0x3000d7=_0x137130;let _0x23f0fe=await this['dataValidate']({'request':_0x3607d2,'schema':Ga,'ClassRef':Rt,'execute':(_0xfd1a77,_0x4dd82c)=>B[_0x3000d7(0x2c2)](_0xfd1a77,_0x4dd82c)});return _0x110b4b[_0x3000d7(0x381)](0xc9)[_0x3000d7(0x5e0)](_0x23f0fe);})['post'](this[_0x137130(0x1a9)]('sendReaction'),..._0x1d0869,async(_0x2597b3,_0x2d8fd6)=>{const _0x153eb6=_0x137130;let _0x1b9a23=await this['dataValidate']({'request':_0x2597b3,'schema':Ba,'ClassRef':At,'execute':(_0x488759,_0x1142ac)=>B[_0x153eb6(0x3ca)](_0x488759,_0x1142ac)});return _0x2d8fd6['status'](0xc9)[_0x153eb6(0x5e0)](_0x1b9a23);})[_0x137130(0x5d9)](this['routerPath'](_0x137130(0x196)),..._0x1d0869,async(_0x3fc207,_0x4d49de)=>{const _0x368fdc=_0x137130;let _0x43fc64=await this['dataValidate']({'request':_0x3fc207,'schema':ja,'ClassRef':Ct,'execute':(_0x16e874,_0x41fb7f)=>B[_0x368fdc(0x196)](_0x16e874,_0x41fb7f)});return _0x4d49de[_0x368fdc(0x381)](0xc9)['json'](_0x43fc64);})['post'](this[_0x137130(0x1a9)](_0x137130(0x224)),..._0x1d0869,async(_0x493442,_0x239132)=>{const _0x3ac2c1=_0x137130;let _0x37151b=await this[_0x3ac2c1(0x5f2)]({'request':_0x493442,'schema':La,'ClassRef':Mt,'execute':(_0x3ebcd0,_0x35e8c5)=>B[_0x3ac2c1(0x224)](_0x3ebcd0,_0x35e8c5)});return _0x239132[_0x3ac2c1(0x381)](0xc9)[_0x3ac2c1(0x5e0)](_0x37151b);})[_0x137130(0x5d9)](this[_0x137130(0x1a9)](_0x137130(0x5d6)),..._0x1d0869,async(_0x34a96f,_0x398dbb)=>{const _0x46a43e=_0x137130;let _0x4f27bd=await this[_0x46a43e(0x5f2)]({'request':_0x34a96f,'schema':ka,'ClassRef':Et,'execute':(_0x464343,_0x4735b5)=>B['sendSticker'](_0x464343,_0x4735b5)});return _0x398dbb[_0x46a43e(0x381)](0xc9)[_0x46a43e(0x5e0)](_0x4f27bd);});}},fi=require(a0_0x217659(0x700)),It=class{},_t=class extends V{constructor(..._0xe2cb8c){const _0x39f0e6=a0_0x217659;super(),this[_0x39f0e6(0x357)]=(0x0,fi[_0x39f0e6(0x620)])(),this[_0x39f0e6(0x357)][_0x39f0e6(0x5d9)](this['routerPath'](_0x39f0e6(0x37a)),..._0xe2cb8c,async(_0x3aaa9f,_0x569c76)=>{const _0xb5e928=_0x39f0e6;let _0x3b152f=await this[_0xb5e928(0x5f2)]({'request':_0x3aaa9f,'schema':di,'ClassRef':It,'execute':(_0x5e44fd,_0x468284)=>As[_0xb5e928(0x658)](_0x5e44fd,_0x468284)});_0x569c76[_0xb5e928(0x381)](0xc9)[_0xb5e928(0x5e0)](_0x3b152f);})['get'](this[_0x39f0e6(0x1a9)](_0x39f0e6(0x6b5)),..._0xe2cb8c,async(_0x4aea66,_0x1e485a)=>{const _0x4f9161=_0x39f0e6;let _0x10929f=await this[_0x4f9161(0x5f2)]({'request':_0x4aea66,'schema':E,'ClassRef':M,'execute':_0x35bd8e=>As[_0x4f9161(0x7f0)](_0x35bd8e)});_0x1e485a['status'](0xc8)[_0x4f9161(0x5e0)](_0x10929f);});}},wi=require(a0_0x217659(0x700)),y=new $(a0_0x217659(0x426)),Ot=class extends V{constructor(..._0x54f818){const _0x2ce13b=a0_0x217659;super(),this[_0x2ce13b(0x357)]=(0x0,wi[_0x2ce13b(0x620)])(),this[_0x2ce13b(0x357)][_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x82e)),..._0x54f818,async(_0x139b91,_0x387343)=>{const _0x277caa=_0x2ce13b;let _0x74a006=_0x139b91[_0x277caa(0x687)];y['verbose'](_0x277caa(0x840)),y[_0x277caa(0x56b)](_0x277caa(0x7c2)),y[_0x277caa(0x56b)](_0x139b91[_0x277caa(0x687)]);let _0x4f898c=await this['dataValidate']({'request':_0x139b91,'schema':E,'ClassRef':M,'execute':_0x3e17f8=>_['editScheduleMessage'](_0x3e17f8,_0x74a006)});_0x387343['status'](0xc8)['json'](_0x4f898c);})['get'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x82e)),..._0x54f818,async(_0x144eea,_0x381c2a)=>{const _0x3af4cd=_0x2ce13b;let _0x1e685a=await this[_0x3af4cd(0x5f2)]({'request':_0x144eea,'schema':E,'ClassRef':M,'execute':_0x298f72=>_[_0x3af4cd(0x2d2)](_0x298f72)});_0x381c2a[_0x3af4cd(0x381)](0xc8)[_0x3af4cd(0x5e0)](_0x1e685a);})[_0x2ce13b(0x85c)](this['routerPath'](_0x2ce13b(0x705)),..._0x54f818,async(_0x331e11,_0x2364ae)=>{const _0x2dffa1=_0x2ce13b;y[_0x2dffa1(0x56b)](_0x2dffa1(0x5e3));let _0x5339dd=await this['dataValidate']({'request':_0x331e11,'schema':E,'ClassRef':M,'execute':_0x44d692=>_[_0x2dffa1(0x705)](_0x44d692)});_0x2364ae[_0x2dffa1(0x381)](0xc8)[_0x2dffa1(0x5e0)](_0x5339dd);})[_0x2ce13b(0x85c)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x3e7)),..._0x54f818,async(_0x166837,_0x26a540)=>{const _0x23f83c=_0x2ce13b;y[_0x23f83c(0x56b)](_0x23f83c(0x129));let _0x2c0424=await this[_0x23f83c(0x5f2)]({'request':_0x166837,'schema':E,'ClassRef':M,'execute':_0x542e41=>_[_0x23f83c(0x3e7)](_0x542e41)});_0x26a540['status'](0xc8)[_0x23f83c(0x5e0)](_0x2c0424);})[_0x2ce13b(0x5d9)](this['routerPath'](_0x2ce13b(0x80c)),..._0x54f818,async(_0x1f4b35,_0x107761)=>{const _0x39c432=_0x2ce13b;let _0x52e4d1=_0x1f4b35[_0x39c432(0x687)];y[_0x39c432(0x56b)](_0x39c432(0x7d5)),y['verbose'](_0x39c432(0x7c2)),y[_0x39c432(0x56b)](_0x1f4b35[_0x39c432(0x687)]);let _0x4ae6f6=await this[_0x39c432(0x5f2)]({'request':_0x1f4b35,'schema':E,'ClassRef':M,'execute':_0x2d8c4b=>_[_0x39c432(0x80c)](_0x2d8c4b,_0x52e4d1)});_0x107761['status'](0xc8)[_0x39c432(0x5e0)](_0x4ae6f6);})[_0x2ce13b(0x3f4)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x111)),..._0x54f818,async(_0xd3567b,_0x40af0d)=>{const _0x14b20a=_0x2ce13b;y[_0x14b20a(0x56b)](_0x14b20a(0x866));let _0x5d58ed=await this[_0x14b20a(0x5f2)]({'request':_0xd3567b,'schema':E,'ClassRef':M,'execute':_0x164d91=>_[_0x14b20a(0x111)](_0x164d91)});_0x40af0d[_0x14b20a(0x381)](0xc8)['json'](_0x5d58ed);})[_0x2ce13b(0x3f4)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x57e)),..._0x54f818,async(_0x17d64a,_0x57691c)=>{const _0x1ad77c=_0x2ce13b;y[_0x1ad77c(0x56b)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x310da7=await this[_0x1ad77c(0x5f2)]({'request':_0x17d64a,'schema':E,'ClassRef':M,'execute':_0x33a716=>_[_0x1ad77c(0x111)](_0x33a716)});_0x57691c[_0x1ad77c(0x381)](0xc8)[_0x1ad77c(0x5e0)](_0x310da7);})[_0x2ce13b(0x5d9)](this['routerPath'](_0x2ce13b(0x2a8)),..._0x54f818,async(_0x4b1a2d,_0x3e5aa6)=>{const _0x342374=_0x2ce13b;let _0x330f30=_0x4b1a2d[_0x342374(0x687)];y[_0x342374(0x56b)]('request\x20received\x20in\x20updateAgent'),y[_0x342374(0x56b)](_0x342374(0x7c2)),y[_0x342374(0x56b)](_0x4b1a2d[_0x342374(0x687)]);let _0x4eacfa=await this['dataValidate']({'request':_0x4b1a2d,'schema':E,'ClassRef':M,'execute':_0x278c0d=>_[_0x342374(0x2a8)](_0x278c0d,_0x330f30)});_0x3e5aa6['status'](0xc8)[_0x342374(0x5e0)](_0x4eacfa);})[_0x2ce13b(0x5d9)](this['routerPath'](_0x2ce13b(0x307)),..._0x54f818,async(_0x329841,_0x5993d2)=>{const _0xb3ba40=_0x2ce13b;let _0x5e4f40=_0x329841[_0xb3ba40(0x687)];y[_0xb3ba40(0x56b)](_0xb3ba40(0x771)),y[_0xb3ba40(0x56b)](_0xb3ba40(0x7c2)),y[_0xb3ba40(0x56b)](_0x329841['body']);let _0x1cb98f=await this[_0xb3ba40(0x5f2)]({'request':_0x329841,'schema':E,'ClassRef':M,'execute':_0x4bcb46=>_[_0xb3ba40(0x307)](_0x4bcb46,_0x5e4f40)});_0x5993d2[_0xb3ba40(0x381)](0xc8)['json'](_0x1cb98f);})[_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x4b3)),..._0x54f818,async(_0x266d86,_0x3a5b8e)=>{const _0xca49e6=_0x2ce13b;let _0x3a2a46=_0x266d86[_0xca49e6(0x687)];y[_0xca49e6(0x56b)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose'](_0xca49e6(0x7c2)),y[_0xca49e6(0x56b)](_0x266d86[_0xca49e6(0x687)]);let _0x56767b=await this['dataValidate']({'request':_0x266d86,'schema':E,'ClassRef':M,'execute':_0x5e904e=>_[_0xca49e6(0x4b3)](_0x5e904e,_0x3a2a46)});_0x3a5b8e[_0xca49e6(0x381)](0xc8)[_0xca49e6(0x5e0)](_0x56767b);})['post'](this[_0x2ce13b(0x1a9)]('updateFlowConfig'),..._0x54f818,async(_0x3092b2,_0x23caa0)=>{const _0x3da546=_0x2ce13b;let _0x54d93f=_0x3092b2[_0x3da546(0x687)];y['verbose'](_0x3da546(0x1db)),y[_0x3da546(0x56b)]('request\x20body:\x20'),y['verbose'](_0x3092b2['body']);let _0x31aeaf=await this['dataValidate']({'request':_0x3092b2,'schema':E,'ClassRef':M,'execute':_0x2c363b=>_[_0x3da546(0x709)](_0x2c363b,_0x54d93f)});_0x23caa0[_0x3da546(0x381)](0xc8)[_0x3da546(0x5e0)](_0x31aeaf);})['post'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x644)),..._0x54f818,async(_0x46d6da,_0x524150)=>{const _0x5a49b9=_0x2ce13b;let _0x2b1676=_0x46d6da[_0x5a49b9(0x687)];y['verbose'](_0x5a49b9(0x6af)),y['verbose'](_0x5a49b9(0x7c2)),y[_0x5a49b9(0x56b)](_0x46d6da[_0x5a49b9(0x687)]);let _0x211f61=await this[_0x5a49b9(0x5f2)]({'request':_0x46d6da,'schema':E,'ClassRef':M,'execute':_0x277589=>_[_0x5a49b9(0x644)](_0x277589,_0x2b1676)});_0x524150[_0x5a49b9(0x381)](0xc8)[_0x5a49b9(0x5e0)](_0x211f61);})[_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)]('fetchConversation'),..._0x54f818,async(_0x5bf00c,_0x4bc6ef)=>{const _0x38523c=_0x2ce13b;let _0x59d7a0=_0x5bf00c['body'];y['verbose'](_0x38523c(0x410)),y[_0x38523c(0x56b)](_0x38523c(0x7c2)),y['verbose'](_0x5bf00c[_0x38523c(0x687)]);let _0x51f7e2=await this[_0x38523c(0x5f2)]({'request':_0x5bf00c,'schema':E,'ClassRef':M,'execute':_0x3e0f98=>_[_0x38523c(0x886)](_0x3e0f98,_0x59d7a0)});_0x4bc6ef['status'](0xc8)['json'](_0x51f7e2);})[_0x2ce13b(0x5d9)](this['routerPath']('editConversation'),..._0x54f818,async(_0x10a306,_0x38f9b2)=>{const _0x53e527=_0x2ce13b;let _0x29c64d=_0x10a306[_0x53e527(0x687)];y[_0x53e527(0x56b)](_0x53e527(0x793)),y[_0x53e527(0x56b)]('request\x20body:\x20'),y[_0x53e527(0x56b)](_0x10a306[_0x53e527(0x687)]);let _0x142dcf=await this[_0x53e527(0x5f2)]({'request':_0x10a306,'schema':E,'ClassRef':M,'execute':_0x4ff77f=>_['editConversation'](_0x4ff77f,_0x29c64d)});_0x38f9b2[_0x53e527(0x381)](0xc8)[_0x53e527(0x5e0)](_0x142dcf);})['delete'](this['routerPath'](_0x2ce13b(0x220)),..._0x54f818,async(_0x5b824f,_0x3edde9)=>{const _0x2dde12=_0x2ce13b;let _0x19ed16=_0x5b824f[_0x2dde12(0x687)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x2dde12(0x56b)](_0x2dde12(0x7c2)),y['verbose'](_0x5b824f[_0x2dde12(0x687)]);let _0x143071=await this[_0x2dde12(0x5f2)]({'request':_0x5b824f,'schema':E,'ClassRef':M,'execute':_0xd26fc7=>_[_0x2dde12(0x220)](_0xd26fc7,_0x19ed16)});_0x3edde9[_0x2dde12(0x381)](0xc8)[_0x2dde12(0x5e0)](_0x143071);})[_0x2ce13b(0x5d9)](this['routerPath'](_0x2ce13b(0x24b)),..._0x54f818,async(_0x4578d0,_0x3a80cb)=>{const _0x176347=_0x2ce13b;let _0x1fe318=_0x4578d0[_0x176347(0x687)],_0x5cac2a=_0x4578d0[_0x176347(0x882)][_0x176347(0x63a)];y[_0x176347(0x56b)](_0x176347(0x280)),y['verbose'](_0x176347(0x7c2)),y[_0x176347(0x56b)](_0x4578d0['body']);let _0x3a0ca6=await this[_0x176347(0x5f2)]({'request':_0x4578d0,'schema':E,'ClassRef':M,'execute':_0x57caa2=>_[_0x176347(0x7a3)](_0x57caa2,_0x1fe318,_0x5cac2a)});_0x3a80cb['status'](0xc8)[_0x176347(0x5e0)](_0x3a0ca6);})['post'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x309)),..._0x54f818,async(_0x3fd7eb,_0x523293)=>{const _0x5dd872=_0x2ce13b;let _0x35ce18=_0x3fd7eb[_0x5dd872(0x687)],_0xdc4cad=_0x3fd7eb['headers'][_0x5dd872(0x63a)];y[_0x5dd872(0x56b)](_0x5dd872(0x45d)),y[_0x5dd872(0x56b)](_0x5dd872(0x7c2)),y[_0x5dd872(0x56b)](_0x3fd7eb['body']),delete _0x35ce18[_0x5dd872(0x363)],delete _0x35ce18[_0x5dd872(0x619)],delete _0x35ce18[_0x5dd872(0x221)],delete _0x35ce18[_0x5dd872(0x878)];let _0x124597=await this[_0x5dd872(0x5f2)]({'request':_0x3fd7eb,'schema':E,'ClassRef':M,'execute':_0x4be68c=>_[_0x5dd872(0x72f)](_0x4be68c,_0x35ce18,_0xdc4cad)});_0x523293['status'](0xc8)['json'](_0x124597);})['post'](this[_0x2ce13b(0x1a9)]('editflowblock'),..._0x54f818,async(_0x1f4234,_0x52818c)=>{const _0x12b2af=_0x2ce13b;let _0x589393=_0x1f4234[_0x12b2af(0x687)];y[_0x12b2af(0x56b)](_0x12b2af(0x45d)),y['verbose'](_0x12b2af(0x7c2)),y[_0x12b2af(0x56b)](_0x1f4234[_0x12b2af(0x687)]);let _0x6a697=await this[_0x12b2af(0x5f2)]({'request':_0x1f4234,'schema':E,'ClassRef':M,'execute':_0x396118=>_[_0x12b2af(0x5ca)](_0x396118,_0x589393)});_0x52818c[_0x12b2af(0x381)](0xc8)[_0x12b2af(0x5e0)](_0x6a697);})[_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x2ed)),..._0x54f818,async(_0x50a594,_0x328294)=>{const _0x1d8ccd=_0x2ce13b;let _0x34ef08=_0x50a594[_0x1d8ccd(0x687)];y[_0x1d8ccd(0x56b)](_0x1d8ccd(0x45d)),y[_0x1d8ccd(0x56b)]('request\x20body:\x20'),y[_0x1d8ccd(0x56b)](_0x50a594[_0x1d8ccd(0x687)]);let _0x1e0742=await this[_0x1d8ccd(0x5f2)]({'request':_0x50a594,'schema':E,'ClassRef':M,'execute':_0x567aeb=>_[_0x1d8ccd(0x7b2)](_0x567aeb,_0x34ef08)});_0x328294['status'](0xc8)[_0x1d8ccd(0x5e0)](_0x1e0742);})['post'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x144)),..._0x54f818,async(_0x2cda0d,_0x2d4f56)=>{const _0x1db67e=_0x2ce13b;let _0x22320d=_0x2cda0d[_0x1db67e(0x687)];y['verbose'](_0x1db67e(0x45d)),y[_0x1db67e(0x56b)](_0x1db67e(0x7c2)),y[_0x1db67e(0x56b)](_0x2cda0d[_0x1db67e(0x687)]);let _0x53021e=await this[_0x1db67e(0x5f2)]({'request':_0x2cda0d,'schema':E,'ClassRef':M,'execute':_0x3a83c1=>_[_0x1db67e(0x884)](_0x3a83c1,_0x22320d)});_0x2d4f56[_0x1db67e(0x381)](0xc8)['json'](_0x53021e);})['post'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x7de)),..._0x54f818,async(_0x2e6eb5,_0x32432a)=>{const _0x51c8e8=_0x2ce13b;let _0x237e4c=_0x2e6eb5[_0x51c8e8(0x687)];y[_0x51c8e8(0x56b)](_0x51c8e8(0x663)),y['verbose'](_0x51c8e8(0x7c2)),y[_0x51c8e8(0x56b)](_0x2e6eb5['body']);let _0x41aa16=await this[_0x51c8e8(0x5f2)]({'request':_0x2e6eb5,'schema':E,'ClassRef':M,'execute':_0x1022e2=>_[_0x51c8e8(0x486)](_0x1022e2,_0x237e4c)});_0x32432a[_0x51c8e8(0x381)](0xc8)[_0x51c8e8(0x5e0)](_0x41aa16);})[_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x724)),..._0x54f818,async(_0x6ab1ec,_0x5c281b)=>{const _0x46c8c3=_0x2ce13b;let _0x500d58=_0x6ab1ec[_0x46c8c3(0x687)];y[_0x46c8c3(0x56b)](_0x46c8c3(0x76b)),y[_0x46c8c3(0x56b)]('request\x20body:\x20'),y['verbose'](_0x6ab1ec['body']);let _0x1a8256=await this['dataValidate']({'request':_0x6ab1ec,'schema':E,'ClassRef':M,'execute':_0x393ccb=>_[_0x46c8c3(0x5b5)](_0x393ccb,_0x500d58)});_0x5c281b['status'](0xc8)[_0x46c8c3(0x5e0)](_0x1a8256);})[_0x2ce13b(0x5d9)](this[_0x2ce13b(0x1a9)]('editflowvariable'),..._0x54f818,async(_0x279b91,_0x17cfee)=>{const _0x419104=_0x2ce13b;let _0x11ffc6=_0x279b91[_0x419104(0x687)];y[_0x419104(0x56b)]('request\x20received\x20in\x20editFlowvariable'),y[_0x419104(0x56b)]('request\x20body:\x20'),y['verbose'](_0x279b91[_0x419104(0x687)]);let _0x52e8bd=await this[_0x419104(0x5f2)]({'request':_0x279b91,'schema':E,'ClassRef':M,'execute':_0x1cdeba=>_[_0x419104(0x7b0)](_0x1cdeba,_0x11ffc6)});_0x17cfee[_0x419104(0x381)](0xc8)[_0x419104(0x5e0)](_0x52e8bd);})['post'](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x61b)),..._0x54f818,async(_0x5cf2ea,_0xe90adf)=>{const _0x5d0914=_0x2ce13b;let _0x5cb54d=_0x5cf2ea[_0x5d0914(0x687)];y[_0x5d0914(0x56b)](_0x5d0914(0x6cd)),y['verbose'](_0x5d0914(0x7c2)),y['verbose'](_0x5cf2ea[_0x5d0914(0x687)]);let _0xfb1990=await this[_0x5d0914(0x5f2)]({'request':_0x5cf2ea,'schema':E,'ClassRef':M,'execute':_0x3acd7c=>_[_0x5d0914(0x32f)](_0x3acd7c,_0x5cb54d)});_0xe90adf['status'](0xc8)[_0x5d0914(0x5e0)](_0xfb1990);})['delete'](this['routerPath'](_0x2ce13b(0x7c5)),..._0x54f818,async(_0x257195,_0x435f78)=>{const _0xda394c=_0x2ce13b;let _0x3ad362=_0x257195[_0xda394c(0x687)];y[_0xda394c(0x56b)](_0xda394c(0x188)),y[_0xda394c(0x56b)](_0xda394c(0x7c2)),y['verbose'](_0x257195[_0xda394c(0x687)]);let _0x3bb342=await this[_0xda394c(0x5f2)]({'request':_0x257195,'schema':E,'ClassRef':M,'execute':_0x271b84=>_[_0xda394c(0x731)](_0x271b84,_0x3ad362)});_0x435f78['status'](0xc8)[_0xda394c(0x5e0)](_0x3bb342);})[_0x2ce13b(0x3f4)](this[_0x2ce13b(0x1a9)](_0x2ce13b(0x169)),..._0x54f818,async(_0x22dfea,_0xa7302f)=>{const _0x2ac9aa=_0x2ce13b;y[_0x2ac9aa(0x56b)](_0x2ac9aa(0x127));let _0x5ea683=await this[_0x2ac9aa(0x5f2)]({'request':_0x22dfea,'schema':E,'ClassRef':M,'execute':_0x5f16fc=>_[_0x2ac9aa(0x74e)](_0x5f16fc)});_0xa7302f['status'](0xc8)[_0x2ac9aa(0x5e0)](_0x5ea683);});}},Mi=I(require('path')),te={};function yi(_0x2c59c0,_0x4da793,_0x5e4695,_0x15bf3e){te[_0x2c59c0]||(te[_0x2c59c0]={}),te[_0x2c59c0][_0x4da793]={'id':_0x4da793,'response':_0x5e4695,'events':_0x15bf3e};}function a0_0x43e8(){const _0x246c7b=['getMessageModelForOwner','thumbnailUrl','ConversationModel','Error\x20writing\x20file:\x20','stopIfLastReturnedError','groupUpdateSubject','picture','):\x20Buscando\x20conversa...','Somente\x20\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padro','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20','blockId\x20\x20necessrio\x20para\x20deletar\x20um\x20bloco','isAdmin','No\x20\x20possvel\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','requestPairingCode','hDel','.url','_hour','abs','USER','getUpdate','ip\x20-6\x20addr\x20del\x20','):\x20Conversa\x20est\x20expirada\x20-\x20voto','request\x20received\x20in\x20getFlow','updateGroupParticipantsWebhook','testingWith','Error\x20fetching\x20IPv6\x20count:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','):\x20H\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20\x20fila','oldToken',',\x20Minutes\x20to\x20Close:\x20','.mp3','\x1b[36m','https://uazapi-plugin.bubbleapps.io/','events','\x20minutos\x20verificar\x20novas\x20mensagens','createClient','This\x20name\x20','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20atualizar\x20mltiplas\x20conversas:','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','pendingMessages','viewOnceMessage','toNumber','unavailable','delayMessage','Request\x20Body:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','ListType','countIPv6Addresses','REDIS_PREFIX_KEY','hex','updateReadReceiptsPrivacy','less','groupBetterSetting','Error\x20updating\x20cache\x20contact:','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','vote','quoted','getScheduleMessageModelForOwner','Nenhum\x20fluxo\x20correspondente\x20encontrado.','statSync','Primeiro\x20Valor:\x20','deleteReplyOption','readMessages','notify','getOwnPropertyDescriptor','PASSWORD','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20voc\x20no\x20tem\x20permisso\x20para\x20us-lo','@whiskeysockets/baileys','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','secondValue','):Archiving\x20chat','express','Nenhum\x20chat\x20fornecido\x20para\x20insero.','vcard','utf-8','.fileUrl','deleteDoneMessages','SSL_CONF_FULLCHAIN','send','Erro\x20ao\x20inserir\x20chats:','updateFlowConfig','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao','agents','getReadyToSendMessages','2916705kbgXIB','padEnd','DD/MM\x20HH:mm:ss','changeVariables','Filtered\x20network\x20interfaces:\x20','https://ifconfig.me/ip','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','readMessage','IP\x20mismatch:\x20configured\x20','viewOnceMessageV2','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x20minutos','messageType','SECRET','createConnection','fetchInstances','queue','interval\x20no\x20\x20um\x20nmero','[service]\x20request\x20received\x20in\x20sendButtons','SUCCESS','every','pollCreationMessageKey','findIndex','editflowcondition','arraybuffer','StartBot','PORT','initializeQueue','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessrios.','Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.','Esse\x20fluxo\x20no\x20permite\x20importao.','delayChatLabel_MAX_RETRIES','superadmin','unlocked','editFlow','\x1b[43m','deleteFlow','CONTACTS_UPSERT','console','):\x20Enviando\x20localizao','add','listIPv6Addresses','\x1b[30m%s\x1b[0m','fetchLabels','remove','from','nomecompleto','#ff9484','saveMediaToFile','Erro\x20ao\x20atualizar\x20agendamento\x20','leadInfo.etiquetas','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualizao\x20do\x20git\x20e\x20npm\x20install.','Prxima\x20verificao\x20de\x20licena\x20e\x20se\x20tem\x20atualizao\x20em\x20','flowIgnoreGroups','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao.','Error\x20fetching\x20group','enviado\x20para','sign','ini','):Temp\x20image\x20deleted','MAX_SAFE_INTEGER','\x1b[33m%s\x1b[0m','logger','isBusiness','Falha\x20ao\x20processar\x20a\x20solicitao\x20findGroups','allFlows','/group','getStatus','ChatModel','):Business\x20profile\x20fetched','instance','admin','authentication','OrAnd','AddUserFlow',',\x20far\x20nova\x20verificao\x20em\x20','keep-alive','O\x20campo\x20_id\x20\x20obrigatrio\x20para\x20editar\x20uma\x20conversa.','/media/','Generated\x20IPv6:\x20','exit','webhook','round','convertToWebP','uazapiSendContact','groupValidate','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','participants','isValidIPv6Config','connectionState','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20at\x20','Nome\x20do\x20campo\x20personalizado\x20j\x20existe.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','ephemeralMessage','request\x20received\x20in\x20editFlowcondition','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','toString','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','The\x20\x22','.xls','request\x20received\x20in\x20updateCustomFields','update','userDevicesCache','latitude','):\x20Error\x20processing\x20the\x20block:\x20','goToFlow','assign','Erro\x20ao\x20arquivar\x20chat','isListOfNumbers','\x20no\x20encontrado\x20para\x20cpia','refused','Database\x20update\x20result:',',\x20valor\x20a\x20encontrar:\x20\x22','findMany','):\x20\x27Enviando\x20audio\x20para\x20\x27','Imagem\x20no\x20encontrada','):Image\x20created','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','min','setting','uazapi','.extension','Erro\x20ao\x20encerrar\x20a\x20API','labelId','groupFetchAllParticipating','messagesLogs','):\x20conversation.waitingMenu_name','GET','lastCondition','processblock','lastBlockId','awaitSeconds','audioWhatsapp','user','request\x20received\x20in\x20editConversation','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','0123456789ABCDEF','createNewConversation','Retornando\x20grupos\x20SEM\x20cache','.ogv','exists','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','AUTHENTICATION_API_KEY','EXPIRIN_IN','updateBlock','eventEmitter','AppStateSyncKeyData','SERVER_ACK','updateGParticipate','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','createFlow','none','PROXY','chats.update','deletedCount','):\x20whoCanEdit\x20after\x20validation:\x20','Type\x20not\x20found','Valor\x20invlido\x20para\x20converso\x20em\x20BRL:\x20','videoMessage','\x20-i\x20','ephemeralExpiration',',\x20Novo\x20tamanho:\x20','Db\x20Connection','editFlowVariable','pm2\x20flush','editFlowReply','pollCreationMessageV3',',\x20canSendMessage:\x20','list3','WARN','_ScheduleMessages','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Configured\x20new\x20IPv6:\x20','hbs','):\x20Adicionando\x20\x27','headerString','/chat','minutesToClose','Tentando\x20reconectar...','reactionMessage','AUTHENTICATION_TYPE','request\x20body:\x20','cacheInstanceModel','isMessageProcessed','deleteflow','store','pt-BR','Mensagem\x20perdida,\x20no\x20foi\x20possvel\x20descriptograf-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualiz-la','):\x20no\x20\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','canSendMessage','CacheContacts\x20database\x20connection\x20closed.','setRestartTimeout','demote','telefone','groupGetInviteInfo','1546950IPRsVH','):\x20nextBlock.uazapi.name','chatId','startCommandWord','request\x20received\x20in\x20starFlow','authService','prepareWAMessageMedia','formatStatusMessage','displayName','lastFetchAwaitingApproval','replaceValue','cleanDisconnectedInstances','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','editflowgroup','messages','EMAIL:','The\x20','urlencoded','decryptPollVote','Error\x20in\x20prepareMediaMessage:','Safari','waitingMenu_ExpiredMessage','fetchProfile','findOneAndUpdate','\x20segundos\x20antes\x20de\x20reconectar...','stdout','parse','\x20}\x0a','app','unhandledRejection','Subscribed\x20Events:','findWebhook','InstancesAlterarTodas','IP\x20confirmed:\x20','updateProfileName','Erro\x20ao\x20buscar\x20fluxos:','waitingMenu_replyOptions','ObjectId','jsonwebtoken','reorderReplyOptions','Partes\x20do\x20domnio:','generateRandomIPv6','):\x20Enviando\x20enquete','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Content\x20is\x20required','):\x20Entrou\x20na\x20funo\x20clearVariables','\x1b[42m','networkInterface','put','fetchProfilePicture','Error\x20fetching\x20IPv6\x20addresses:\x20','messageId','query','../env.yml','selectedOptions','contactHandle','startID','Para\x20marcar\x20esse\x20fluxo\x20como\x20visvel\x20globalmente,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20Global.','groupSetting','startFlow','\x0aitem','redis','base64','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','redirect','leadInfo.','groupParticipantsUpdate','entries','uazapiSendAudio','Erro\x20ao\x20limpar\x20instncias\x20desconectadas:','):Type\x20defined\x20as\x20audio','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','toLocaleString','title','readFileSync','messageLogs','env.KEY\x20!==\x20key','sendMedia','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','cacheContact','removeUnusedChatFields','method','path','mentions','values','locked','.wav','replace','log','\x1b[40m','stanzaId','detectIPv6PrefixAndInterface','substring','scheduleMessage','sendMessageWithRetry','markMessageAsRead','):\x20[messages.upsert]\x20group\x20ignored','\x20ao\x20chat\x20','proto','groupSettingUpdate','context','bateu\x20events','Instance\x20\x22','findAndReplaceRegex','):\x20','Not\x20is\x20business\x20profile','profilePicture','BufferJSON','configureIPv6','buttonMessage','lastMessage','request\x20received\x20in\x20scheduleMessage','findConversation','/clients-info','stickerMessage','):\x20expirationTime:\x20','resetReconnectionVariables','getContactModelForOwner','removeData','\x20no\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','DaysToDelete','AutomateFunctions','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20leaveGroup','READ','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','No\x20\x20possvel\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20est\x20em\x20processamento.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','allContacts','reject','_Messages','count','blockLogs','chat','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','ENABLED','editMessagesInGroup','default','groupdata','delete','race','):\x20Entrou\x20na\x20funo\x20saveReply','Stack\x20trace:','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','Voc\x20no\x20tem\x20permisso\x20para\x20editar\x20este\x20fluxo.','):Image\x20path:\x20','PRIVKEY','bulkWrite','Instncia:\x20','request\x20received\x20in\x20getAutomateSystem','Error\x20fetching\x20and\x20updating\x20profile:\x20','\x20instance\x20does\x20not\x20exist','Erro\x20ao\x20buscar\x20conversas','FULLCHAIN','):\x20No\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padro...','stack','util','findManyByIds','createServer','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','digest','processUazapi','button','No\x20foi\x20possvel\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automao.','sem\x20texto\x20na\x20mensagem','END:VCARD','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','conditions','dbConnection','deleteImportedChat','cta_url','processawaitSeconds','media','next_groupId','DEBUG','PREFIX_KEY','extractPhoneNumber','headers','readdirSync','editFlowVaredit','_activedCount','fetchConversation','customFields','STORE_CONTACTS','SendScheduleMessage','groupadd','):Error\x20in\x20converting\x20audio','Erro\x20ao\x20tentar\x20updateCustomFields','contextInfo','reference','description','Erro\x20ao\x20atualizar\x20o\x20flow.','IPv6\x20addresses\x20detected:\x20','Adicionando\x20novo\x20participante:\x20','saveChatVariables','Detalhes\x20do\x20erro:','removeProfilePicture','fora\x20do\x20git','.jpg','scheduleSendMedia','stopWhenYouSendMsg','Valor\x20inicial:\x20\x22','Group\x20not\x20found','unlinkSync','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','Grupo\x20no\x20encontrado','listResponseMessage','toggleEphemeral','applyvaredit','getDelay','ephemeralDuration','saveTextReply','#fed428','lastReceivedMessage','trimmed','scheduleNextCheck','length','gifPlayback','):\x20isVote:\x20','Bloco\x20com\x20ID\x20','filter','Message','Pausado\x20por\x20','Para\x20criar\x20fluxo\x20global,\x20voc\x20precisa\x20usar\x20a\x20apikey\x20global','rows','createSectionsFromValues','_lastVote','/instance/fetchInstances','selectedRowId','PRESENCE_UPDATE','some','done','):\x20Iniciando\x20bot...','execSync','):\x20ndice\x20do\x20bloco\x20a\x20ser\x20atualizado:','selectedButtonId','tags','/automate','@ffmpeg-installer/ffmpeg','menuExpiredMessage','document','E-mail:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','HH:mm:ss','Instance\x20ID:','getAutomateSystem','TYPE','isURL','Missing\x20global\x20api\x20key','width','desc','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','Error\x20parsing\x20JSON:','ex:\x20\x22groupJid=120362@g.us\x22','contact_blacklist','Falha\x20ao\x20processar\x20a\x20solicitao\x20findRealGroups','now','contacts.update','remove.instance','not_announcement','createButtonsFromValues','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20voc\x20no\x20\x20o\x20proprietrio\x20da\x20conversa.','oldValue','label_jid','normalizeMessage','updateMissingTags','SERVER_TYPE','request\x20received\x20in\x20allFlows','presence','request\x20received\x20in\x20deleteAllMessages','getAllData','convert','SEND_MESSAGE','statusCode','startCommand','\x22\x20cannot\x20be\x20empty','removed','repeat','hSet','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','Error\x20in\x20buttonsMessage\x20function:','limit','client','):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','HistoryProcessed','function','Last\x20message\x20not\x20found\x20for\x20number:\x20','myAppStateKeyId','reorderBlocks','):\x20Encontradas\x20e\x20removidas\x20as\x20variveis:\x20','sendWhatsAppAudio','fetchChats','last','Parando\x20aplicao,\x20atualizao\x20recebida','waitingMenu_text','editflowvaredit','bodyStringErrorParse','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','collection','whatsappNumber','type','archiveChat','findRealGroups','menuType','#01d0e2','promisify','lean','\x20foi\x20interrompido\x20pelo\x20usurio.','Flow\x20iniciado','setWebhook','readMessageBot','pollCreationMessageV2','Deletion\x20failed','username','pino','listType','):\x20conversation.lastInteraction:\x20','Falta\x20informao\x20para\x20a\x20chamada\x20API','presenceSubscribe','IPv6\x20address\x20configured:\x20','poll','sendMessageWithTypingButtons','#6f7bcf','lowerCase','buffer','_FlowHistorico','):\x20[messages.update]\x20group\x20ignored','processgoToFlow','delayChatLabel','charAt','createInstance','deleteChat','allflows','groups.upsert','unknown\x20operation\x20type\x20[','logout','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','Erro\x20ao\x20atualizar\x20cacheInstance:','shareOwners','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','qrcode.updated','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileName','getPrototypeOf','findLabels','removeInstance','stringify','contactMessage','app-state-sync-key','Error\x20testing\x20IP\x20with\x20',',\x20saindo.','rowId','_day','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20findAndUpdateCacheContact','\x20mensagens\x20de\x20','):\x20Comando\x20desconhecido:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variveis\x20do\x20chat\x20no\x20BD','URL','_remoteJid','stopConversation','Atingido\x20interaes\x20mximas,\x20parando\x20fluxo','string','buttonText','):\x20Extenso\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','request\x20received\x20in\x20deleteFlow','truncatedto','CLEANING_INTERVAL','label','Erro\x20ao\x20deletar\x20a\x20conversa','loadInstance','messageTimestamp','menu_options','generateHash','StartID:','.docx','https','audio/ogg;\x20codecs=opus','connect','sendPoll','notEqual','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','imageMessage','API_KEY','locationMessage','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','profilePictureUrl','catch','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Invalid\x20format','pow','audio','mongoose','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','setNewValue','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','blockId','3EB0','routerPath','height','imagechat','lastUpdate','fone','https://','createJid','isJWT','createConversationforgoToFlow','content','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Types','):\x20Error\x20processing\x20conditions:\x20','formatBRNumber','documentWithCaptionMessage','replaceVariablesLogs','moreLogs','/wa-connection-update','timeout','Erro\x20ao\x20editar\x20condio\x20do\x20fluxo','restrict','statusMessage','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20ser\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','delAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x1b[1m\x1b[37m','Falha\x20ao\x20processar\x20a\x20solicitao\x20send_message,\x20numero:\x20','ERROR:\x20','waUploadToServer','uazapiDeleteMessage','response','waitingForReplyMenu','):\x20\x27Enviando\x20mdia\x20para\x20\x27','IPv6\x20recriado\x20aps\x20falhas\x20de\x20reconexo.','qrcode-terminal','Erro\x20ao\x20iniciar\x20a\x20aplicao:\x20','):\x20Os\x20fluxos\x20esto\x20desativados\x20para\x20','Encerrando\x20a\x20API\x20por\x20solicitao\x20via\x20rota\x20/exit','RemoveChatLabel','\x20quoted:\x20','Mensagens\x20deletadas\x20com\x20sucesso.','chatModify','Erro\x20ao\x20definir\x20instncias\x20como\x20desconectadas:','getVariablesChat','announcement','/config','pairingCode','):\x20Label\x20','envProcess','Instance\x20deleted','request\x20received\x20in\x20updateFlowConfig','text','\x27\x20do\x20banco\x20de\x20dados...','desativadoFluxoAte','pollMessage','Fluxo\x20no\x20encontrado\x20na\x20memria.','Sistema\x20atualizado\x20com\x20sucesso!','/5\x20falhou:\x20','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','reorderMessages','Fluxo\x20\x27','RemoteJid:','\x1b[37m%s\x1b[0m','sending','):\x20Limpando\x20AutomateSystem','size','processPollUpdateMessage','static','flowPrefixCommand','useMultiFileAuthState','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','warn','processScheduleFlow','fromMe','Falha\x20ao\x20processar\x20a\x20solicitao','ip6eui','No\x20respondeu\x20com\x20a\x20enquete.','Erro\x20ao\x20tentar\x20autoCompleteMessages','contains','replyOptionId\x20\x20necessrio\x20para\x20deletar\x20um\x20replyOption','updateLastSeenPrivacy','uazapiSendLocation','@s.whatsapp.net','interactiveMessage','valid','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','localWebhook','createConversationforStartFlow','key','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','folder','getConversationModelForOwner','#00a1f2','g.us',':\x20Verificando\x20se\x20h\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.','result','getMessage','setContext','fileUrl','longitude','toFile','Garbage\x20collection\x20no\x20est\x20disponvel.','):\x20conversation.status:\x20','display_text','sort','@broadcast','apirequest','Error\x20in\x20chatModify\x20for\x20number\x20','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','writeFileSync','):\x20Deletando\x20conversa...','Fluxo\x20no\x20encontrado\x20para\x20o\x20ID:','):Alterar\x20configurao\x20de\x20mudo\x20para\x20o\x20chat:\x20','sticker','replyOption','instanceCount','revokeInviteCode','deleteConversation','groups','responsavelid','):\x20Grupo\x20no\x20encontrado\x20ou\x20groupdata\x20no\x20definido:\x20','sendStatus','getMIMEType','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','GUARD','deleteInstance','sendMessageAck','contacts.upsert','Data\x20invlida\x20fornecida','DATABASE_CONNECTION_DB_PREFIX_NAME','env','\x1b[44m','.TEL;waid=','Erro\x20ao\x20atualizar\x20AutomateSystem:','views','open','ListMessage','ERROR','connecting','#ffffff','pollUpdateMessage','[AUTH]\x20Database\x20is\x20not\x20enabled','compression','globalShow',',\x20qrcodeCount:\x20','processReadyMessages','splice','https://ipv6.jsonip.com','.ogg','Fluxos\x20no\x20esto\x20ativados','release','\x22\x20-\x20REMOVED','addChatLabel','getUniqueFlowName','findGroups','):\x20Instancia\x20isBusiness:\x20','DATABASE_CONNECTION_HOST','order','fakeReceived','fullName','createflow','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','off','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Cdigo\x20de\x20sada\x20','Total\x20de\x20endereos\x20IPv6\x20globais:\x20','\x20tentativas.','--------------------------------------','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','parseInt','audioMessage','dbServer','):\x20mediaMessageInfoId\x20:\x20','instances','creds.json','\x1b[34m%s\x1b[0m','REDIS','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20conectar\x20ao\x20whatsapp','evaluateCondition','https://uazapi-plugin.bubbleapps.io/?url=','updateGroupPicture','ScheduleMessage','status@broadcast','DATABASE_CONNECTION_USER','STATUS_INSTANCE','):\x20Entrou\x20na\x20funo\x20stop','):\x20\x27Enviando\x20texto\x20para\x20\x27','.jwt','verifiedName','emit','scheduled','\x1b[41m','\x20depois\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio:\x20','sendAudio','):\x20Erro\x20ao\x20salvar\x20variveis\x20do\x20chat\x20no\x20BD:\x20','No\x20\x20permitido\x20editar\x20uma\x20varivel\x20com\x20leadInfo\x20definido\x20como\x20true.','connectToWhatsappController','updateChatWithMessage','hGetAll','groupMetadata','footer','uazapiSendMenu','process','updateProfileStatus','interactiveResponseMessage','):\x20Chat\x20','iniciando\x20fluxo\x20router','connection.update','Removendo\x20package-lock.json\x20e\x20a\x20dependncia\x20especfica...','reaction','Resultado\x20da\x20correspondncia\x20de\x20URL:','editScheduleMessage','findContacts','request\x20received\x20in\x20createFlow','participant','waMonitor','Erro\x20ao\x20alterar\x20privacidade','\x20-y','online','autoCompleteMessages','js-yaml','):\x20Editando\x20grupo\x20do\x20fluxo...','DARK','Schema','Error\x20updating\x20message\x20status:','@redis/client','public','writeData','Sem\x20permisso\x20para\x20enviar\x20para\x20esse\x20grupo','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','CONNECTION','Servidor\x20de\x20autenticao\x20offline.\x20Nova\x20tentativa\x20em\x20','website','global','authState','Configurao\x20SSL\x20recuperada:','cachedContacts-whatsapp','):\x20Buscando\x20todos\x20os\x20fluxos...','video-cover.png','Subdomnio\x20no\x20encontrado','creds.update','\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','content-type','updateMediaMessage','https://jsonip.com','getFullYear','):including\x20timestamp\x20in\x20url:\x20','\x1b[33m','lastRealGroupsFetch','reconnectTimestamps','vir','expression','instanceKeys','updateAgent','params','generateWAMessageFromContent','sectionsToString','getClient','CONTACTS_SET','\x20:\x20','test','Falha\x20ao\x20recriar\x20IPv6.','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','\x20com\x20sucesso.','class-validator','Falha\x20ao\x20criar\x20IPv6.','):\x20Flow\x20desativado','.xlsx','binary','updateMissingCustomFields','organization','fetchProfilePictureUrl','backgroundColor','insert','The\x20property\x20cannot\x20be\x20empty','Varivel\x20no\x20encontrada!','instance.','creation','AUTHENTICATION','sendContact','groupJid','newStoppedUntil','contact','close','updateReplyOption','block','getChatModelForOwner','flowConversation','/events','code','existsSync','\x20minutos.\x20Ser\x20s\x20','deleteBlock','reconnectAttempts','closeExistingConversations','getScheduleMessage','inet6','Chat\x20com\x20ID\x20','auth','list','Reiniciando\x20a\x20aplicao...','whoCanEdit','flows','Boto\x201','sendDataWebhook','Font\x20is\x20required','getSeconds','saveCreds','):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20','ipv6Prefix','):\x20Criando\x20nova\x20conversa[createNewConversation]','leaveGroup','replyOptions','msgRetryCounterCache','group-participants.update','write','):\x20Flow\x20\x27','subjectTime','DELETED','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20iniciar\x20o\x20fluxo.','SERVER_OFFLINE','editflowreply','\x1b[36m%s\x1b[0m','child_process','?authSource=admin&readPreference=primary&directConnection=true','):\x20Enviando\x20texto','variable','#83e421',',\x20Resultado:\x20','Contacts\x20not\x20found','startFlowWebhook','includes','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','connectedName','prepareMediaMessage','sendMessageWithTyping','editConversation','url',',\x20lastCondition:\x20','textMessage','qrcode','Log\x20out\x20instance:\x20','instanceInfo','Dados\x20invlidos\x20para\x20edio\x20de\x20mensagens\x20no\x20grupo.','singleSelectReply','stopMinutesMaxActives','Last\x20message\x20not\x20found','updateCustomFields','statusJidList','editflow','):Audio\x20processed','recording','slice','drop','Error\x20removing\x20IPv6\x20address:\x20','):\x20whoCanEdit\x20before\x20validation:\x20','error','endSession','^\x5cd+([-]\x5cd+)*@g.us$','Conexo\x20estabelecida','PENDING','):\x20Loop\x20externo\x20interrompido\x20devido\x20\x20flag\x20isConnected','empty','-instances','_fromMe','eventemitter2','linkPreview','Removed\x20','):\x20sender\x20=\x20number:\x20','Esse\x20fluxo\x20expirou','https://v6.ident.me','Valor\x20invlido\x20para\x20formatao\x20brasileira:\x20','\x1b[32m','messageLogsModel','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Erro\x20ao\x20editar\x20a\x20conversa','/wa-message','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','isRunning','1170550AQqcbK','authorization','GROUPS_UPSERT','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','lastSendMessage','toBRL','MessageModel','\x20removido\x20do\x20chat\x20','getFlow','Erro\x20ao\x20criar\x20fluxo','messages.update','labels.association','mentioned','GROUPS_UPDATE','shift',',\x20Expiration\x20Time:\x20','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','inviteUrl','groupHandler','video','buttons','GROUP_PARTICIPANTS_UPDATE','JWT','Deleted\x20','validate','updateGroupsAddPrivacy','exec','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupGetInviteInfo','Incio','hasOwnProperty','Conversa\x20deletada\x20com\x20sucesso.','groupRequestParticipantsList','):\x20[RETRY]:\x20Mximo\x20de\x20tentativas\x20alcanado,\x20desistindo\x20de\x20recuperar','CONTACTS_UPDATE','Failed\x20to\x20prepare\x20media\x20message','/media','^\x5cd+','):\x20Ler\x20mensagem','updateMany','pollCreationMessage','groupRevokeInvite','SSL_CONF','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','https://github.com/uazapi/uazapi.git','_id','Removing\x20excess\x20IPv6\x20address:\x20','etiquetas','replaceVariablesInObject','router','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mdia\x20aps\x205\x20tentativas:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','getProfileName','delay','last_update','URL\x20completa:','message','sendCommand','extractMessageContent','):Notifying\x20clients\x20for\x20chat:\x20','findGroup','blocks','randomBytes','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupBetterSetting','DELIVERY_ACK','Erro\x20ao\x20iniciar\x20fluxo:\x20','insertCount','/wa-contacts','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','selectedId','Fluxo\x20no\x20encontrado\x20no\x20banco\x20de\x20dados.','reviver','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp.','updateChatGroupData','insertMany','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','paramsJson','convertaudio','/5\x20de\x20preparar\x20mdia\x20falhou:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','joinApprovalMode','descOwner','URL:','set','):\x20Procurando\x20mensagens\x20para\x20envio','Content-Type','flow','save','setUpdate','paused','status','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20A\x20mensagem\x20\x20\x22stopConversation\x22\x20=\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','/create','/:instanceName','conversation','):\x20Erro\x20durante\x20a\x20atualizao:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','notas','updateStatusPrivacy','array','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','findOrCreate','Nmero\x20da\x20cor\x20invlido\x20ou\x20fora\x20do\x20intervalo:\x20','/wa-message-update','notContains','\x20minutos...','variablesToObject',',\x20resultado:\x20','restartInstance','):Output\x20path:\x20','WebhookGlobal','\x0a*Voc\x20respondeu*:\x0a','jwt','IPv6\x20Prefix\x20detected:\x20','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','equal','inviteCode','fetchMessages','evaluateConditionTest','Rtulo\x20deletado:\x27,\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20updatePresence','Erro\x20ao\x20alterar\x20fluxo','enumerable','createIPv6','optionName','uazapiSendText','toUpperCase','groupDesc','flushHeaders','\x20do\x20chat\x20','transformScheduledMessagesByType','updateAll','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','sendText','g-t','webhookService','conversationTimestamp','formatVCard','inner','\x20inseridas\x20no\x20banco\x20de\x20dados...','convertaudioMP3',',\x20Segundo\x20Valor:\x20','wuid','AutomateSystem','ip\x20-6\x20addr\x20show\x20scope\x20global','updateOne','Internal\x20Server\x20Error','}}\x20->\x20valor\x20no\x20encontrado','\x1b[34m','sendList','API\x20Key\x20from\x20Request:','A\x20licena\x20no\x20\x20vlida,\x20interrompendo\x20a\x20aplicao.','uncaughtException','output','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localizao:\x20','Falha\x20ao\x20processar\x20a\x20solicitao\x20de\x20prepareMediaMessage','):\x20Fluxo\x20\x27','getMinutes','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Encontrado\x20prxima\x20mensagem\x20para\x20','sendReaction','extractRegex','remoteJid','):\x20Enviando\x20mdia','replaceVariables','Failed\x20to\x20send\x20buttons\x20message','addReplyOption','SERVER','_month','findFlow','footerText','processclearVariables','isArray','mediaSticker','pictureUrl','/webhook','buttonsResponseMessage','http','proxy:\x20','):\x20Deletando\x20mensagem','beautifyWithPlaceholders','addresss','ContactsAndGroups','Erro\x20ao\x20buscar\x20o\x20fluxo','DATABASE','push','onWhatsApp','Reusing\x20existing\x20IPv6:\x20','STORE_CLEANING_TERMINAL','deleteAllMessages','messages.set','findAll','updateMessage','SERVER_PORT','call','50mb','match_last_seen','silent','CORS','LOG_LEVEL','onTime','debug','get','\x20excess\x20IPv6\x20addresses.','Close\x20connection','forEach','MESSAGES_UPDATE','leadInfo.desativadoFluxoAte','copyBlock','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','updatePresence','processingGroup','.png','/wa-chats','fileName','owner','errorLog','updateMissingEtiquetas','autoCompleteMessages.command','getBase64FromMediaMessage','createGroup','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edio.','pre','editOperator','mediatype','API\x20Key\x20invlida\x20ou\x20instncia\x20no\x20encontrada.','deleteMessageForEveryone','DOCKER_ENV','cleanStore','):\x20Transformao\x20de\x20mensagens\x20agendadas\x20concluda!','request\x20received\x20in\x20fetchConversation','saveConversationToDatabase','del','):Trying\x20to\x20get\x20business\x20profile','sharp','Regularize\x20sua\x20licena\x20no\x20site\x20https://uazapi.dev/','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','\x20\x1b[0m','nome','replaceOne','pollOnReplyDelete','chats.delete','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mdia:\x20','.error','errors','QRCODE_UPDATED','#9ba6ff','addBlock','processedMessagesCache','apply','encoding','.ppt','FlowRouter','nativeFlowMessage','cachedData-whatsapp','Flow\x20iniciado\x20com\x20','varedits','-whatsapp-api','):\x20Alterando\x20fluxo...','groupLeave','}}\x20->\x20\x22','#dfaef0','docker','remote\x20\x22origin\x22','sections','EMAIL','LOG','@newsletter','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','unreadcount','color','cachedContact','toLowerCase','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGParticipant','$dbName','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','use','birthtime','Mac\x20OS','timeoutPromise','):\x20Going\x20to\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','fetchPrivacySettings','Retornando\x20grupos\x20COM\x20cache','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','deleteOne','COLOR','flattenObject','.mimetype','connectionStatus','triedToSend','recebido\x20de','stderr','retrySendMessage','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','findAndReplace','/instance/delete','isConnected','):\x20Est\x20configurado\x20para\x20parar\x20at\x20','instanceName\x20not\x20provided.','expiration','send.message','announce','PRODUCT_LIST','SERVER_URL','):\x20Usando\x20extenso\x20padro:\x20','request\x20received\x20in\x20editFlow','CHATS_SET','CHATS_DELETE','cacheContactModel','findGroupInfo','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','isJidGroup','endsWith','):\x20Bloco\x20com\x20ID\x20','dark','deviceSentMessage','NextBlock','/events/:instance','chatHandle','Erro\x20ao\x20deletar\x20mensagens:','flowStopMinutes','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','awaitingApproval','where','\x1b[37m','repository','trim','header','profile','admin_add','https://api64.ipify.org?format=json','prototype','\x20horas\x20e\x20','editChat','https://api.ipify.org?format=json','scheduleFlow','ignoreGroups','addMessagesToGroup','Tentativa\x20','command','promote','):\x20Conversa\x20atualizada\x20em\x20memria','):\x20Editando\x20replyOption...','):\x20Grupo\x20',']\x20(','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','editFlowGroup','startsWith','envYaml','\x20no\x20encontrado\x20para\x20atualizao.','downloads','.doc','segundos','Instance\x20Name:','buttonOrList_id','KEY','varedit','#ffae04','AUTHENTICATION_JWT_SECRET','Cannot\x20','\x20atualizado\x20com\x20sucesso.\x20Ao:\x20','apiName','Instncia\x20no\x20encontrada.','):\x20Bloco\x20original\x20para\x20cpia:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','findAndUpdateCacheContact','start','DB_PREFIX_NAME','groups_ignore','importChats','#64c4ff','subject','/wa-groups','):\x20A\x20atualizao\x20no\x20BD\x20da\x20conversa\x20no\x20foi\x20bem\x20sucedida','composing','_Chats','variablesNotFound','create','__esModule','when','Logger','mimetype','not\x20loaded','deleted','phoneNumber','isJidUser','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupSetting','condition','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','addToProcessedMessages','updateAutoCompleteMessages','createHash','dropCollection','getLabelModelForOwner','idSchedule','replaceVariablesChat','Erro\x20ao\x20deletar\x20chat:','):\x20Bloco\x20copiado:\x20','#f64847','):\x20Procurando\x20conversa','created','dropIndex',',\x20pairCode:\x20','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','ip\x20-br\x20link\x20show','cpf','Telefone:\x20','authModel','option','METHODS','Nmero:\x20','\x1b[1m','stopMinutes','ms\x20(tentativa\x20','memberAddMode','O\x20campo\x20id\x20\x20obrigatrio\x20para\x20editar/criar\x20um\x20chat.','protocolMessage','fileLength','realVariables','updateStopChat','descId','Erro\x20ao\x20copiar\x20o\x20documento','isJidBroadcast','modifiedCount','deleteMany','dbSettings','selectableCount','instanceName','Erro\x20ao\x20editar\x20agentes','Not\x20Found','MESSAGES_SET','all_member_add','HOST','/startFlow/:instance/:startID','.\x20Aguardando\x20','messaging-history.set','configService','ON\x20-\x20dbName:\x20','?timestamp=','pollMessageOnDelete',',\x20Comparador:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','ReplyOption\x20com\x20ID\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','archive','URI','stateConnection','node-cache','findGroupInfos','Flow\x20\x27','pushName','local_map','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','join','sendMenu','mediaKey','info','http://checkip.dyndns.org','name','Partes\x20do\x20caminho\x20FULLCHAIN:','#000000','goNextblock','lastInteraction','redis://127.0.0.1:6379','9059015OhXcks','fetchBusinessProfile','Por\x20favor,\x20responda\x20\x20ltima\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opes\x20disponveis,\x20sem\x20digitar\x20sua\x20resposta.','documentMessage','):\x20Criou\x20conversa\x20no\x20startFlow','Subdomnio\x20final:','success','Authentication\x20error','optionDescription','keyPattern','dbInstance','stopped','):Image\x20is\x20url','selectedDisplayText','\x20no\x20encontrado','/message','Boto\x202','Falha\x20ao\x20processar\x20a\x20solicitao\x20removeProfilePicture','):\x20Enviando\x20mensagem\x20para\x20','false','Erro\x20ao\x20buscar\x20a\x20conversa','text/event-stream','Error\x20adding\x20IPv6\x20address:\x20','findByIdAndUpdate','messageHandle','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','ORG:','/wa-all-message','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','TEL','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','1585662OTntUJ','!cmd_','importChatsBatch','contactsArrayMessage','saveVariable','processConditions','StatusJidList\x20is\x20required','font','findChats','integer','The\x20instance\x20needs\x20to\x20be\x20disconnected','sha256','):\x20Erro\x20na\x20atualizao\x20da\x20conversa\x20no\x20BD:\x20','chats','apiResponse','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','application/octet-stream','mongodb','getLastMessage','):Hash\x20to\x20image\x20name:\x20','convertedOptions','Error\x20removing\x20unused\x20chat\x20fields:','leadInfo','):\x20tem\x20blocks','messageStubParameters','basename','and','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfileStatus','/64\x20dev\x20','data:\x20','firstValue','long','Subdomnio\x20extrado\x20do\x20caminho\x20SSL:','INFO','_p_','):Delete\x20chat','):\x20Criando\x20fluxo\x20compartilhado...','true','status.instance','DisconnectReason','):\x20Buscando\x20flow,\x20id:\x20','isCommunity','value','messages.upsert','Connection\x20Closed','Erro\x20ao\x20avaliar\x20a\x20condio:\x20','\x27...','BRL','):Image\x20converted\x20to\x20WebP','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','processvaredits','RECONNECT_TIME_FRAME','findGroupsEspecial','WA\x20MODULE','Erro\x20ao\x20verificar\x20o\x20nmero\x20no\x20WhatsApp:','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','padStart','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','\x1b[46m','map','DATABASE_ENABLED','):\x20A\x20mensagem\x20no\x20foi\x20enviada\x20pelo\x20bot','notMatchRegex','Erro\x20ao\x20normalizar\x20a\x20mensagem:','toArray','\x1b[31m%s\x1b[0m','\x1b[33m\x1b[1m','group','jid','max','whatsappNumbers','profileName','sharePass','):Getting\x20image\x20from\x20url','sendPresenceUpdate','findOne','https://chat.whatsapp.com/','STORE_MESSAGE','groupUpdateDescription','verbose','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia.','scheduleSendAudio','action','Erro\x20ao\x20remover\x20label\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20nmero','):\x20Falha\x20ao\x20deletar\x20mensagem.','enabled','synchronizeAndMapFlows','Valor\x20de\x20find\x20ou\x20replace\x20ausente','message_normalized','preview','capitalizedWords','axios','Falha\x20ao\x20processar\x20a\x20solicitao\x20toggleEphemeral','\x1b[30m','getHours','#9ab6c1','sleep','getTicketSystem','flowStopConversation','groupdata.participants','findByIdAndDelete','nativeFlowResponseMessage','scheduleSendText','random','):\x20Current\x20Time:\x20','api','webhookMap','redisEnv','joinGroupValidate','chat\x20no\x20encontrado','groups.update','flowName','./.git/config','):Sending\x20audio\x20whatsapp','processApiRequest','readreceipts','):\x20No\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Falha\x20ao\x20processar\x20a\x20solicitao\x20inviteCode','Instncias\x20removidas:\x20','Network\x20Interface\x20detected:\x20','generate','normalizeMessageContent','1136704ZbmrUP','all','updateGroupWebhook','.\x20Tentando\x20novamente\x20em\x20','upsertChats','\x20segundos...','):\x20Editando\x20bloco...','groupName','state','groupJoinApprovalMode','importChatsAntigo','Erro\x20ao\x20adicionar\x20label\x20','data','initAuthCreds','list2','getContentType','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','fromObject','):\x20newFirstValue\x20aps\x20replaceVariables:','archived','urlOrBase64','indexOf','unreadCount','boolean','):\x20Query\x20params:\x20','.pdf','delayChatLabel_RETRY_DELAY_MS','groupRequestParticipantsUpdate','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x5cd+','editFlowCondition','):\x20Condies\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','has','#9568cf','deleteAll','REDIS_ENABLED','findById','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x20adicionado\x20ao\x20chat\x20','):\x20Removendo\x20\x27','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','groupToggleEphemeral','labels.edit','getValidWhatsAppNumbers','uuid','_year','findParticipants','.txt','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','/instance/create','editFlowBlock','/instance/connectionState','verify','notEmpty','):\x20transformedCustomFieldVariables','_minute','):\x20enviado\x20para\x20[','fetchContacts','presence.update','AddChatLabel','templateButtonReplyMessage','noConnection','sendSticker','pop','Novo\x20IP\x20criado:\x20','post','Erro\x20ao\x20importar\x20chats','):\x20ev.flush\x20realizado','activatedCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','beforeExit','updateGParticipant','json','.webp','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20deleteDoneMessages','Valor\x20da\x20URL\x20recuperada:','CHATS_UPSERT','):Desconectado,\x20parando\x20execuo.','):\x20Buscando\x20conversas...','everyOne','deleteMessage','Read\x20messages','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','waInstances','imported','qrCode','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','VERBOSE','Falha\x20ao\x20processar\x20fetchBusinessProfile','dataValidate','8080','\x27\x20no\x20encontrado\x20na\x20memria','\x20-\x20ON:\x20','atendimentoAberto','waitingMenu_id','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Cache\x20instance\x20update\x20result:\x20','loadEnv','quick_reply','lastSend','updateProfilePicturePrivacy','All_Instances_Config','):Image\x20is\x20base64','CONNECTION_UPDATE','instancias:\x20','Selecione','editedMessage','_Contacts','cacheInstanceRepository','bodyString','email','/wa-qrcode','model','Erro\x20ao\x20substituir\x20variveis\x20para\x20','listen','):\x20Mensagem\x20j\x20enviada\x20para\x20','listMessage','CREDENTIALS','groupId','\x0a{\x20instance:\x20','updateProfilePicture','approve','error\x20get\x20vote','storePath','privacySettings','menuMessage','address','_error','variables','LOG_COLOR','getflow','eventHandler','):\x20No\x20achou\x20nenhum\x20flow','\x20segundos','FlowController','Router','sendLocation','CORS_ORIGIN','available','mediaMessage','isBusinessInstance','number','checkAndRestartProcess','\x20no\x20\x20um\x20voto\x20enviado\x20pelo\x20usurio','updateOneById','temp-','muteEndTime','@g.us','cache','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateProfilePicture','joinGroup','#ffc5c7','$addToSet','imgUrl','caption','Variveis\x20no\x20encontradas:','.mp4','detail','.\x20Pulando.','mkdirSync','isBase64','apikey','_sender','Falha\x20ao\x20processar\x20a\x20solicitao\x20groupDesc','Falha\x20ao\x20processar\x20a\x20solicitao\x20updateGroupPicture','image','originalUrl','Parando\x20aplicao...','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','senderKeyDistributionMessage','no.connection','getConversation','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','367435JFkhbF','No\x20\x20permitido\x20adicionar\x20outro\x20grupo\x20padro','Module\x20-\x20ON','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','cleanupExcessiveIPs','options','Falha\x20ao\x20processar\x20a\x20solicitao\x20findParticipants','isLong','item','getBusinessProfile','ip:\x20','ff:fe','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','):\x20atualizao\x20chat:\x20','leadInfo.atendimentoAberto','makeCacheableSignalKeyStore','whoCanUse','setHeader','createWebhook','Falha\x20ao\x20processar\x20a\x20solicitao\x20revokeInviteCode','creds','groupAcceptInvite','\x27\x20no\x20encontrado','getDevice','request_method','clear','defineProperty','Fluxo\x20id\x20\x27','match','request\x20received\x20in\x20editFlowgroup','sendMessage','webhookModel','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','matchRegex','chatLog','keys','isInteger','contacts','\x20contacts','floor','connectionClosed','Falha\x20ao\x20processar\x20a\x20solicitao\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','/exit','SINGLE_SELECT','maxActives','\x1b[0m','cleaningUp','p-queue','jpegThumbnail','truncatedtoEnd','Cache-Control','https://api.openai.com/v1/audio/speech','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','*Teste\x20de\x20Ttulo*\x0a\x0aDescrio\x20de\x20Teste\x0a','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','readData','Instncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','_pushName','connectToWhatsapp','\x20Tentativa\x20de\x20reconexo\x20','Voc\x20no\x20tem\x20permisso\x20para\x20ver\x20o\x20fluxo\x20\x27','):\x20condies\x20atendidas,\x20parando\x20verificao...\x20em\x20','):Processing\x20audio','.type','):\x20Query\x20params:','body','CHATS_UPDATE','Falha\x20ao\x20processar\x20a\x20solicitao\x20createGroup','Erro\x20ao\x20executar\x20bulkWrite:','choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$set','chats.upsert','inviteCodeDetails','Erro\x20ao\x20editar\x20o\x20bloco:\x20','ScheduleMessageModel','verifyWhatsAppNumber','flowConfig','Atualizao:\x20','REDIS_URI','spawn','express-async-errors','updatePrivacySettings','updateConversation','_activatedCount','Rtulo\x20invlido\x20ou\x20sem\x20ID.','ip\x20-6\x20addr\x20show\x20dev\x20','getTime','MESSAGES_UPSERT','AutomateSystem\x20no\x20foi\x20inicializado','connectedClient','split','automateSystem','):\x20currentBlock\x20\x20null.\x20No\x20foi\x20possvel\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcanada,\x20crie\x20outra\x20instncia...','\x5c$&','closed','replaceVariablesInReplyOptions','flush','createAndSave','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','role','cwd','request_time','object','request\x20received\x20in\x20getConversation','Limpando\x20logs\x20do\x20PM2...','removeIPv6','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','throwAndLogError','):\x20Conversa\x20inserida\x20com\x20sucesso.','find','DATABASE_CONNECTION_URI'];a0_0x43e8=function(){return _0x246c7b;};return a0_0x43e8();}function bi(_0x56e425,_0x140fe5){!te[_0x56e425]||!te[_0x56e425][_0x140fe5]||delete te[_0x56e425][_0x140fe5];}function F(_0x2515fe,_0x53e144,_0x450d26){const _0x48412b=a0_0x217659;if(!te[_0x2515fe])return;let _0x1f20df=_0x48412b(0x539)+JSON[_0x48412b(0x176)](_0x450d26)+'\x0a\x0a';Object['values'](te[_0x2515fe])[_0x48412b(0x3f7)](_0x2a6fd=>{const _0x36cae9=_0x48412b;_0x2a6fd[_0x36cae9(0x6d9)][_0x36cae9(0x2f7)](_0x53e144)&&_0x2a6fd[_0x36cae9(0x1c7)][_0x36cae9(0x2e6)](_0x1f20df);});}function Si(){const _0x498ba2=a0_0x217659;let _0xd38ccb={};for(let _0x46f76f in te)_0xd38ccb[_0x46f76f]=Object['values'](te[_0x46f76f])[_0x498ba2(0x557)](_0x45f320=>({'id':_0x45f320['id'],'events':_0x45f320['events']}));return _0xd38ccb;}var Ci=require(a0_0x217659(0x5c4)),Is=require(a0_0x217659(0x1a3)),Ts=class{},Io=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x217659(0x28a))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x217659(0x609)](Ts[a0_0x217659(0x4f7)],_o,a0_0x217659(0x5fe)),Oo=Mi[a0_0x217659(0x85a)][a0_0x217659(0x4f2)](__dirname,a0_0x217659(0x48a)),ke=(0x0,xt[a0_0x217659(0x620)])(),xo=S[a0_0x217659(0x3f4)]('AUTHENTICATION')['TYPE'],ie=[Aa,Ta,Oa[xo]];ke[a0_0x217659(0x43e)](a0_0x217659(0x34a),xt[a0_0x217659(0x85a)][a0_0x217659(0x1ed)](Oo))[a0_0x217659(0x3f4)](a0_0x217659(0x469),async(_0x398c08,_0x5a7a06)=>{const _0x4c573a=a0_0x217659;console[_0x4c573a(0x829)](_0x4c573a(0x836));let _0x233568=_0x398c08[_0x4c573a(0x2a9)][_0x4c573a(0x753)],_0x422f0e=(_0x398c08['query'][_0x4c573a(0x6d9)]||'')[_0x4c573a(0x6a1)](','),_0xc46fab=(0x0,Ci['v4'])();console[_0x4c573a(0x829)](_0x4c573a(0x110),_0x233568),console[_0x4c573a(0x829)](_0x4c573a(0x7ef),_0x422f0e);let _0x361596=S[_0x4c573a(0x3f4)](_0x4c573a(0x2c1))[_0x4c573a(0x19a)],_0x1e7cd5=_0x398c08[_0x4c573a(0x805)][_0x4c573a(0x63a)];if(console['log'](_0x4c573a(0x3c0),_0x1e7cd5),_0x361596[_0x4c573a(0x48f)]!==_0x1e7cd5){console[_0x4c573a(0x829)](_0x4c573a(0x81d));try{let _0x18c10e=await me[_0x4c573a(0x2d5)][_0x4c573a(0x6b5)](_0x233568);if(console[_0x4c573a(0x829)]('Instance\x20Key\x20from\x20DB:',_0x18c10e),!_0x18c10e||_0x18c10e[_0x4c573a(0x63a)]!==_0x1e7cd5)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x5a7a06[_0x4c573a(0x381)](0x191)['send']('API\x20Key\x20invlida.');}catch(_0xac7056){return console[_0x4c573a(0x310)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0xac7056),_0x5a7a06[_0x4c573a(0x381)](0x191)[_0x4c573a(0x707)](_0x4c573a(0x40b));}}if(!await _e(_0x233568))return _0x5a7a06[_0x4c573a(0x381)](0x194)[_0x4c573a(0x707)]('Instncia\x20no\x20encontrada.');_0x5a7a06[_0x4c573a(0x657)](_0x4c573a(0x37c),_0x4c573a(0x512)),_0x5a7a06['setHeader'](_0x4c573a(0x678),'no-cache'),_0x5a7a06[_0x4c573a(0x657)]('Connection',_0x4c573a(0x759)),_0x5a7a06[_0x4c573a(0x3aa)]();let _0xeb1511=_0x4c573a(0x539)+JSON[_0x4c573a(0x176)]({'info':_0x4c573a(0x313)})+'\x0a\x0a';_0x5a7a06[_0x4c573a(0x2e6)](_0xeb1511),yi(_0x233568,_0xc46fab,_0x5a7a06,_0x422f0e),_0x398c08['on']('close',()=>{const _0x41d3ff=_0x4c573a;console[_0x41d3ff(0x829)]('Connection\x20closed\x20for\x20instance:\x20'+_0x233568),bi(_0x233568,_0xc46fab);});}),ke['post'](a0_0x217659(0x4de),async(_0x4ca7ac,_0x237a45)=>{const _0x330fad=a0_0x217659;console[_0x330fad(0x829)](_0x330fad(0x279));let _0x31061b=_0x4ca7ac[_0x330fad(0x2a9)][_0x330fad(0x753)],_0x5a21eb=_0x4ca7ac[_0x330fad(0x2a9)]['startID'],_0xf5eeda=_0x4ca7ac[_0x330fad(0x805)]['remoteJid']||'',_0x507966=_0x4ca7ac[_0x330fad(0x687)];console[_0x330fad(0x829)](_0x330fad(0x48d),_0x31061b),console['log'](_0x330fad(0x191),_0x5a21eb),console[_0x330fad(0x829)](_0x330fad(0x1e7),_0xf5eeda),console[_0x330fad(0x829)](_0x330fad(0x6e5),_0x507966);try{if(!await _e(_0x31061b))return _0x237a45['status'](0x194)[_0x330fad(0x707)](_0x330fad(0x496));let _0xb69344=await _[_0x330fad(0x2f6)](_0x31061b,_0x5a21eb,_0xf5eeda,_0x507966);_0x237a45[_0x330fad(0x707)](_0xb69344);}catch(_0x5cf911){console[_0x330fad(0x310)](_0x5cf911),_0x237a45[_0x330fad(0x381)](0x1f4)[_0x330fad(0x707)](_0x330fad(0x2eb));}}),ke['get'](a0_0x217659(0x842),(_0x25e7b6,_0x333649)=>{const _0x1f37a8=a0_0x217659;let _0x2cc27c=Si();_0x333649[_0x1f37a8(0x5e0)](_0x2cc27c);})[a0_0x217659(0x3f4)]('/',(_0xc39e60,_0x4ab321)=>{const _0x2e0829=a0_0x217659;let _0x5850b5=S['get'](_0x2e0829(0x3d1))[_0x2e0829(0x181)];if(_0x5850b5){let _0xa598e6=encodeURIComponent(''+_0x5850b5);_0x4ab321[_0x2e0829(0x811)](_0x2e0829(0x25d)+_0xa598e6);return;}let _0x4efdca=S[_0x2e0829(0x3f4)](_0x2e0829(0x350)),_0x4cc764=_0x4efdca&&_0x4efdca[_0x2e0829(0x86a)][_0x2e0829(0x6a1)]('/')[0x4];if(_0x4cc764){let _0x257df0=encodeURIComponent('https://'+_0x4cc764);_0x4ab321[_0x2e0829(0x811)](_0x2e0829(0x25d)+_0x257df0);}else _0x4ab321[_0x2e0829(0x811)](_0x2e0829(0x6d8));})['put'](a0_0x217659(0x670),...ie,async(_0x2bbdb5,_0x17ad8c)=>{const _0x2effaa=a0_0x217659;try{console[_0x2effaa(0x829)](_0x2effaa(0x1ce)),_0x17ad8c['status'](0xc8)['json']({'message':_0x2effaa(0x1bf)}),_0x17ad8c['on']('finish',()=>process[_0x2effaa(0x75d)](0x0));}catch(_0x55a24d){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x55a24d),_0x17ad8c[_0x2effaa(0x381)](0x1f4)['json']({'message':_0x2effaa(0x787)});}})[a0_0x217659(0x801)](a0_0x217659(0x1d6),...ie,async(_0x27d6a9,_0x1eaa64)=>{const _0x23975b=a0_0x217659;try{let _0x4317b8=_0x27d6a9[_0x23975b(0x687)];await ve[_0x23975b(0x3bb)]({},{'$set':_0x4317b8},{'upsert':!0x0});let _0x48f187=await ve[_0x23975b(0x567)]();_0x1eaa64[_0x23975b(0x5e0)](_0x48f187);}catch(_0x517c4c){_0x1eaa64['status'](0x190)[_0x23975b(0x707)](_0x517c4c[_0x23975b(0x35e)]);}})['get'](a0_0x217659(0x1d6),...ie,async(_0x3860a0,_0x1a576e)=>{const _0x2e911d=a0_0x217659;try{let _0x4320ed=await ve['findOne']();if(!_0x4320ed)return _0x1a576e['json']({});_0x1a576e[_0x2e911d(0x5e0)](_0x4320ed);}catch(_0x42633e){_0x1a576e['status'](0x1f4)[_0x2e911d(0x707)](_0x42633e[_0x2e911d(0x35e)]);}})[a0_0x217659(0x43e)]('/instance',new bt(S,...ie)['router'])[a0_0x217659(0x43e)](a0_0x217659(0x50c),new Tt(...ie)[a0_0x217659(0x357)])[a0_0x217659(0x43e)](a0_0x217659(0x7bd),new lt(...ie)['router'])[a0_0x217659(0x43e)](a0_0x217659(0x74f),new yt(...ie)[a0_0x217659(0x357)])[a0_0x217659(0x43e)](a0_0x217659(0x3d9),new _t(...ie)[a0_0x217659(0x357)])['use'](a0_0x217659(0x109),new Ot(...ie)[a0_0x217659(0x357)]);var m=class{constructor(..._0x4a4555){const _0x3bc68d=a0_0x217659;throw{'status':0x190,'error':'Bad\x20Request','message':_0x4a4555[_0x3bc68d(0xf4)]>0x0?_0x4a4555:void 0x0};}},se=class{constructor(..._0x4d9e82){const _0x307a45=a0_0x217659;throw{'status':0x191,'error':'Unauthorized','message':_0x4d9e82[_0x307a45(0xf4)]>0x0?_0x4d9e82:void 0x0};}},X=class{constructor(..._0x883526){throw{'status':0x193,'error':'Forbidden','message':_0x883526['length']>0x0?_0x883526:void 0x0};}},U=class{constructor(..._0x38c740){throw{'status':0x194,'error':'Not\x20Found','message':_0x38c740['length']>0x0?_0x38c740:void 0x0};}},x=class{constructor(..._0x4d780e){const _0x17233e=a0_0x217659;throw{'status':0x1f4,'error':_0x17233e(0x3bc),'message':_0x4d780e['length']>0x0?_0x4d780e:void 0x0};}},fe=require('@whiskeysockets/baileys');async function _s(_0x59a7a0){const _0x4cbb83=a0_0x217659;let _0x3bd113=new $(_s['name']),_0x37d9ad=T[_0x4cbb83(0x2ac)](),_0x6c3246=_0x37d9ad['db'](S[_0x4cbb83(0x3f4)](_0x4cbb83(0x3e2))[_0x4cbb83(0x291)][_0x4cbb83(0x49b)]+'-instances')[_0x4cbb83(0x147)](_0x59a7a0),_0x3126d1=async(_0xf7c24,_0x5ea6d4)=>{const _0x1b30f4=_0x4cbb83;try{return await _0x37d9ad['connect'](),await _0x6c3246[_0x1b30f4(0x419)]({'_id':_0x5ea6d4},JSON[_0x1b30f4(0x7eb)](JSON[_0x1b30f4(0x176)](_0xf7c24,fe[_0x1b30f4(0x83c)]['replacer'])),{'upsert':!0x0});}catch{}},_0x172abe=async _0x28a846=>{const _0x513de8=_0x4cbb83;try{await _0x37d9ad[_0x513de8(0x195)]();let _0x28372e=await _0x6c3246['findOne']({'_id':_0x28a846}),_0x2f7665=JSON[_0x513de8(0x176)](_0x28372e);return JSON[_0x513de8(0x7eb)](_0x2f7665,fe[_0x513de8(0x83c)][_0x513de8(0x36d)]);}catch{}},_0x10d377=async _0x12225b=>{const _0x5b0f2b=_0x4cbb83;try{return await _0x37d9ad[_0x5b0f2b(0x195)](),await _0x6c3246[_0x5b0f2b(0x448)]({'_id':_0x12225b});}catch{}},_0xcb55df=await _0x172abe(_0x4cbb83(0x65a))||(0x0,fe['initAuthCreds'])();return{'state':{'creds':_0xcb55df,'keys':{'get':async(_0x231818,_0x4d859b)=>{const _0x1a0c0a=_0x4cbb83;let _0x239eeb={};return await Promise[_0x1a0c0a(0x598)](_0x4d859b[_0x1a0c0a(0x557)](async _0x1065d3=>{const _0x6f2a56=_0x1a0c0a;let _0x29385f=await _0x172abe(_0x231818+'-'+_0x1065d3);_0x231818===_0x6f2a56(0x178)&&_0x29385f&&(_0x29385f=fe[_0x6f2a56(0x833)]['Message'][_0x6f2a56(0x79f)][_0x6f2a56(0x5a8)](_0x29385f)),_0x239eeb[_0x1065d3]=_0x29385f;})),_0x239eeb;},'set':async _0x2e89c3=>{const _0x109205=_0x4cbb83;let _0x52e934=[];for(let _0x2bc885 in _0x2e89c3)for(let _0x2e3b77 in _0x2e89c3[_0x2bc885]){let _0x2cbfdc=_0x2e89c3[_0x2bc885][_0x2e3b77],_0x404406=_0x2bc885+'-'+_0x2e3b77;_0x52e934[_0x109205(0x3e3)](_0x2cbfdc?_0x3126d1(_0x2cbfdc,_0x404406):_0x10d377(_0x404406));}await Promise[_0x109205(0x598)](_0x52e934);}}},'saveCreds':async()=>_0x3126d1(_0xcb55df,_0x4cbb83(0x65a))};}var Ls=I(require(a0_0x217659(0x53b))),Fs=I(require(a0_0x217659(0x4ec))),kt=require(a0_0x217659(0x6fc)),vi=require(a0_0x217659(0x28c)),Dt=require(a0_0x217659(0x6fc)),Pt;function Po(_0x4453df){const _0x26523a=a0_0x217659;return Pt||(Pt=(0x0,vi[_0x26523a(0x6db)])({'url':_0x4453df[_0x26523a(0x4ea)]}),Pt[_0x26523a(0x195)]()),Pt;}var ue=class u{constructor(_0x2ef7b2,_0x12835d){const _0x460c05=a0_0x217659;this[_0x460c05(0x588)]=_0x2ef7b2,this[_0x460c05(0x4d8)]=_0x12835d,this[_0x460c05(0x74b)]=new $(u[_0x460c05(0x4f7)]),this[_0x460c05(0x136)]=Po(_0x2ef7b2);}set[a0_0x217659(0x88e)](_0x24c07d){const _0x5458a1=a0_0x217659;this[_0x5458a1(0x4d8)]=_0x24c07d;}async[a0_0x217659(0x2a7)](){const _0x239b0f=a0_0x217659;try{return await this[_0x239b0f(0x136)][_0x239b0f(0x35f)]([_0x239b0f(0x669),this[_0x239b0f(0x588)][_0x239b0f(0x880)]+':*']);}catch(_0x396714){this['logger']['error'](_0x396714);}}async[a0_0x217659(0x28e)](_0x16598f,_0x3866ba){const _0x27e65e=a0_0x217659;try{let _0x5dd9fd=JSON[_0x27e65e(0x176)](_0x3866ba,Dt[_0x27e65e(0x83c)]['replacer']);return await this[_0x27e65e(0x136)][_0x27e65e(0x132)](this['redisEnv'][_0x27e65e(0x880)]+':'+this[_0x27e65e(0x4d8)],_0x16598f,_0x5dd9fd);}catch(_0x118e74){this[_0x27e65e(0x74b)][_0x27e65e(0x310)](_0x118e74);}}async[a0_0x217659(0x12a)](){const _0x2db8f5=a0_0x217659;try{let _0x59ea02=await this[_0x2db8f5(0x136)][_0x2db8f5(0x271)](this[_0x2db8f5(0x588)][_0x2db8f5(0x880)]+':'+this[_0x2db8f5(0x4d8)]);if(_0x59ea02){for(let _0x450b9a in _0x59ea02)Object[_0x2db8f5(0x477)][_0x2db8f5(0x344)][_0x2db8f5(0x3ec)](_0x59ea02,_0x450b9a)&&(_0x59ea02[_0x450b9a]=JSON[_0x2db8f5(0x7eb)](_0x59ea02[_0x450b9a],Dt['BufferJSON'][_0x2db8f5(0x36d)]));return _0x59ea02;}}catch(_0x55aac4){this[_0x2db8f5(0x74b)][_0x2db8f5(0x310)](_0x55aac4);}}async['readData'](_0x5bab30){const _0xc6e0a3=a0_0x217659;try{let _0x2220a8=await this[_0xc6e0a3(0x136)]['hGet'](this[_0xc6e0a3(0x588)]['PREFIX_KEY']+':'+this[_0xc6e0a3(0x4d8)],_0x5bab30);if(_0x2220a8)return JSON[_0xc6e0a3(0x7eb)](_0x2220a8,Dt[_0xc6e0a3(0x83c)][_0xc6e0a3(0x36d)]);}catch(_0x4b1dbe){this[_0xc6e0a3(0x74b)][_0xc6e0a3(0x310)](_0x4b1dbe);}}async[a0_0x217659(0x847)](_0x53cd13){const _0x23993e=a0_0x217659;try{return await this['client'][_0x23993e(0x6c5)](this[_0x23993e(0x588)]['PREFIX_KEY']+':'+this[_0x23993e(0x4d8)],_0x53cd13);}catch(_0x1706d1){this[_0x23993e(0x74b)][_0x23993e(0x310)](_0x1706d1);}}async['delAll'](_0x1aeaab){const _0x57ab6d=a0_0x217659;try{return await this[_0x57ab6d(0x136)][_0x57ab6d(0x412)](_0x1aeaab||this[_0x57ab6d(0x588)][_0x57ab6d(0x880)]+':'+this[_0x57ab6d(0x4d8)]);}catch(_0x576117){this['logger'][_0x57ab6d(0x310)](_0x576117);}}};async function Os(_0x3469d8,_0x523bc0){const _0x58859f=a0_0x217659;let _0x5d4c4a=new $(Os[_0x58859f(0x4f7)]),_0x22014d=new ue(_0x3469d8,_0x523bc0),_0x472007=async(_0x4b1988,_0x3b38da)=>{const _0xa8e411=_0x58859f;try{return await _0x22014d[_0xa8e411(0x28e)](_0x3b38da,_0x4b1988);}catch(_0x48217a){return _0x5d4c4a[_0xa8e411(0x310)]({'localError':_0xa8e411(0x28e),'error':_0x48217a});}},_0x4bc510=async _0x398160=>{const _0x350bd0=_0x58859f;try{return await _0x22014d[_0x350bd0(0x67d)](_0x398160);}catch(_0x287fff){_0x5d4c4a[_0x350bd0(0x310)]({'readData':'writeData','error':_0x287fff});return;}},_0x3ff6ce=async _0x397d97=>{const _0x36aa23=_0x58859f;try{return await _0x22014d['removeData'](_0x397d97);}catch(_0x51e5e4){_0x5d4c4a[_0x36aa23(0x310)]({'readData':_0x36aa23(0x847),'error':_0x51e5e4});}},_0x46bc3c=await _0x4bc510('creds')||(0x0,kt[_0x58859f(0x5a4)])();return{'state':{'creds':_0x46bc3c,'keys':{'get':async(_0x278c3d,_0x30a201)=>{const _0x34c09e=_0x58859f;let _0x5c18c9={};return await Promise[_0x34c09e(0x598)](_0x30a201[_0x34c09e(0x557)](async _0x1ef240=>{const _0x40a8c0=_0x34c09e;let _0x3fce5c=await _0x4bc510(_0x278c3d+'-'+_0x1ef240);_0x278c3d===_0x40a8c0(0x178)&&_0x3fce5c&&(_0x3fce5c=kt['proto'][_0x40a8c0(0xf9)][_0x40a8c0(0x79f)][_0x40a8c0(0x5a8)](_0x3fce5c)),_0x5c18c9[_0x1ef240]=_0x3fce5c;})),_0x5c18c9;},'set':async _0x30b9f7=>{const _0x1fb0af=_0x58859f;let _0x9c837f=[];for(let _0x3c9e43 in _0x30b9f7)for(let _0x38192e in _0x30b9f7[_0x3c9e43]){let _0x54c1f0=_0x30b9f7[_0x3c9e43][_0x38192e],_0x8ffa28=_0x3c9e43+'-'+_0x38192e;_0x9c837f[_0x1fb0af(0x3e3)](_0x54c1f0?await _0x472007(_0x54c1f0,_0x8ffa28):await _0x3ff6ce(_0x8ffa28));}await Promise['all'](_0x9c837f);}}},'saveCreds':async()=>await _0x472007(_0x46bc3c,_0x58859f(0x65a))};}var k=I(require('fs')),Q=require(a0_0x217659(0x5c4)),Ut=I(require(a0_0x217659(0x414))),oe=require('crypto'),Ei=require(a0_0x217659(0x2ef)),Ni=require(a0_0x217659(0x86d)),$i=I(require(a0_0x217659(0x578))),Ee=class extends O{constructor(_0x6e81a2,_0x3caced,_0xcb4533){const _0x551308=a0_0x217659;super(_0x3caced),this[_0x551308(0x7c3)]=_0x6e81a2,this['configService']=_0x3caced,this[_0x551308(0x879)]=_0xcb4533;}async['createOrUpdate'](_0xcc60c6,_0xd6fad7){const _0x5b0a1c=a0_0x217659;try{if(this['dbSettings'][_0x5b0a1c(0x858)]){console[_0x5b0a1c(0x829)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0xd6fad7+'\x20and\x20data:',_0xcc60c6);let _0x8dab03=await this[_0x5b0a1c(0x7c3)][_0x5b0a1c(0x7e8)]({'_id':_0xd6fad7},{'$set':_0xcc60c6},{'new':!0x0,'upsert':!0x0});return console[_0x5b0a1c(0x829)](_0x5b0a1c(0x77c),_0x8dab03),_0x8dab03;}}catch(_0x3ff57e){throw console[_0x5b0a1c(0x310)](_0x5b0a1c(0x16e),_0x3ff57e),_0x3ff57e;}return null;}async['deleteOne'](_0x55fb8c){const _0x57e5ff=a0_0x217659;try{let _0x58d460=A(_0x55fb8c[_0x57e5ff(0x46f)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x57e5ff(0x448)](_0x58d460))[_0x57e5ff(0x7a7)]};}catch(_0x55bfc4){return{'error':_0x55bfc4?.[_0x57e5ff(0x76d)]()};}}async[a0_0x217659(0x567)](_0x61e41b){const _0x5ae340=a0_0x217659;try{let _0x43e8ee=A(_0x61e41b['where']);return await this[_0x5ae340(0x7c3)][_0x5ae340(0x567)](_0x43e8ee)[_0x5ae340(0x14f)]();}catch{return null;}}},Ne=(0x0,Ni[a0_0x217659(0x14e)])(Ei['exec']),xs=0x1f4,Do=S['get'](a0_0x217659(0x7a5)),Ps=class{constructor(){const _0xd284ea=a0_0x217659;this[_0xd284ea(0x605)]=new Ee(We,S),(!this[_0xd284ea(0x2e0)]||!this[_0xd284ea(0x800)])&&Do&&this[_0xd284ea(0x82c)]()['then'](async()=>{const _0x5d136f=_0xd284ea;console[_0x5d136f(0x829)](_0x5d136f(0x39a)+this[_0x5d136f(0x2e0)]),console[_0x5d136f(0x829)](_0x5d136f(0x594)+this['networkInterface']),await this[_0x5d136f(0x64a)]();let _0x5adffa=await this[_0x5d136f(0x6e8)]();console[_0x5d136f(0x829)]('Total\x20de\x20endereos\x20IPv6\x20aps\x20a\x20limpeza:\x20'+_0x5adffa);})[_0xd284ea(0x19e)](_0x4d1041=>{const _0x526310=_0xd284ea;console['error'](_0x526310(0x555)+_0x4d1041[_0x526310(0x35e)]);});}async[a0_0x217659(0x64a)](){const _0x1e8733=a0_0x217659;let _0x1e12ea=await this['listIPv6Addresses']();if(console['log']('Total\x20IPv6\x20addresses\x20detected:\x20'+_0x1e12ea[_0x1e8733(0xf4)]),_0x1e12ea[_0x1e8733(0xf4)]>xs){let _0x12f341=_0x1e12ea[_0x1e8733(0x30c)](xs);for(let _0x3e40c0 of _0x12f341)console[_0x1e8733(0x829)](_0x1e8733(0x354)+_0x3e40c0),await this['removeIPv6'](_0x3e40c0);console['log'](_0x1e8733(0x31b)+_0x12f341[_0x1e8733(0xf4)]+_0x1e8733(0x3f5));}else console[_0x1e8733(0x829)](_0x1e8733(0x485));}async[a0_0x217659(0x736)](){const _0x456525=a0_0x217659;try{let {stdout:_0x5b1927}=await Ne(_0x456525(0x3ba));return _0x5b1927[_0x456525(0x6a1)]('\x0a')[_0x456525(0xf8)](_0x1370d8=>_0x1370d8['includes'](_0x456525(0x2d3))&&_0x1370d8[_0x456525(0x2f7)](_0x456525(0x294)))[_0x456525(0x557)](_0x5612dc=>_0x5612dc[_0x456525(0x662)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x456525(0xf8)](Boolean);}catch(_0x5d82a5){return console[_0x456525(0x310)](_0x456525(0x803)+_0x5d82a5[_0x456525(0x35e)]),[];}}async[a0_0x217659(0x6e8)](){const _0x5ef914=a0_0x217659;try{let {stdout:_0x353b6c}=await Ne(_0x5ef914(0x16d)),_0x37b76d=parseInt(_0x353b6c[_0x5ef914(0x472)](),0xa);return console[_0x5ef914(0x829)](_0x5ef914(0x24f)+_0x37b76d),_0x37b76d;}catch(_0x207b2b){return console['error'](_0x5ef914(0x6d0)+_0x207b2b[_0x5ef914(0x35e)]),0x0;}}async[a0_0x217659(0x6b1)](_0x313e0e){const _0xdd8688=a0_0x217659;try{await Ne(_0xdd8688(0x6cb)+_0x313e0e+_0xdd8688(0x538)+this['networkInterface']),console[_0xdd8688(0x829)]('IPv6\x20address\x20removed:\x20'+_0x313e0e);}catch(_0x54ec57){console[_0xdd8688(0x310)](_0xdd8688(0x30e)+_0x54ec57['message']);}}async[a0_0x217659(0x82c)](){const _0x145ce8=a0_0x217659;try{let {stdout:_0x1327fd}=await Ne(_0x145ce8(0x4c1));console[_0x145ce8(0x829)]('Network\x20interfaces\x20detected:\x20'+_0x1327fd);let _0x225e75=_0x1327fd[_0x145ce8(0x6a1)]('\x0a')[_0x145ce8(0x557)](_0x43b134=>_0x43b134[_0x145ce8(0x6a1)]('\x20')[0x0])[_0x145ce8(0xf8)](_0x3d0b19=>!_0x3d0b19[_0x145ce8(0x2f7)]('lo')&&!_0x3d0b19[_0x145ce8(0x2f7)](_0x145ce8(0x430))&&!_0x3d0b19[_0x145ce8(0x2f7)](_0x145ce8(0x2a5))&&!_0x3d0b19[_0x145ce8(0x2f7)]('wl')&&!_0x3d0b19[_0x145ce8(0x2f7)]('@'));if(console['log'](_0x145ce8(0x711)+_0x225e75),_0x225e75[_0x145ce8(0xf4)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x145ce8(0x800)]=_0x225e75[0x0];let {stdout:_0x250bd2}=await Ne(_0x145ce8(0x69c)+this[_0x145ce8(0x800)]);console[_0x145ce8(0x829)](_0x145ce8(0x891)+_0x250bd2);let _0x652b5e=_0x250bd2[_0x145ce8(0x6a1)]('\x0a')[_0x145ce8(0x6b5)](_0x28e380=>_0x28e380[_0x145ce8(0x2f7)](_0x145ce8(0x2d3))&&_0x28e380[_0x145ce8(0x2f7)](_0x145ce8(0x294)));if(!_0x652b5e)throw new Error(_0x145ce8(0x170));let _0x6f65f7=_0x652b5e[_0x145ce8(0x662)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x6f65f7)throw new Error(_0x145ce8(0x462));let [_0x33fc19,_0x13042,_0x5ca599]=_0x6f65f7,_0x1ae906=Math[_0x145ce8(0x66d)](Number(_0x5ca599)/0x10),_0x4bcc84=Number(_0x5ca599)%0x10,_0x43ca50=_0x13042[_0x145ce8(0x6a1)](':')[_0x145ce8(0x30c)](0x0,_0x1ae906)[_0x145ce8(0x4f2)](':');if(_0x4bcc84>0x0){let _0x1c14b4=_0x13042[_0x145ce8(0x6a1)](':')[_0x1ae906],_0x2b0331=0xffff<<0x10-_0x4bcc84&0xffff,_0x15ce53=(parseInt(_0x1c14b4,0x10)&_0x2b0331)[_0x145ce8(0x76d)](0x10)[_0x145ce8(0x554)](0x4,'0');_0x43ca50+=':'+_0x15ce53;}this[_0x145ce8(0x2e0)]=_0x43ca50+':';}catch(_0x5d7dfc){console[_0x145ce8(0x310)](_0x145ce8(0x79a),_0x5d7dfc);}}async[a0_0x217659(0x83d)](_0x221aa2){const _0x1554ee=a0_0x217659;let _0x235ba7='ip\x20-6\x20addr\x20add\x20'+_0x221aa2+_0x1554ee(0x538)+this['networkInterface'];try{await Ne(_0x235ba7),console[_0x1554ee(0x829)](_0x1554ee(0x15c)+_0x221aa2);}catch(_0x4158b8){console['error'](_0x1554ee(0x513)+_0x4158b8);}}['randomMac'](){const _0x179e65=a0_0x217659;return'XX:XX:XX:XX:XX:XX'[_0x179e65(0x828)](/X/g,()=>_0x179e65(0x795)[_0x179e65(0x166)](Math[_0x179e65(0x66d)](Math['random']()*0x10)));}[a0_0x217659(0x1f5)](_0x1834ba,_0x3a6524){const _0x47ec62=a0_0x217659;let _0x3509b3=_0x3a6524['split'](':');return _0x3509b3[0x0]=(parseInt(_0x3509b3[0x0],0x10)^0x2)['toString'](0x10)['padStart'](0x2,'0'),''+_0x1834ba+_0x3509b3[0x0]+_0x3509b3[0x1]+':'+_0x3509b3[0x2]+_0x47ec62(0x651)+_0x3509b3[0x3]+':'+_0x3509b3[0x4]+_0x3509b3[0x5];}[a0_0x217659(0x7fa)](){const _0x40ed07=a0_0x217659;let _0x4d292d=this[_0x40ed07(0x2e0)];_0x4d292d[_0x40ed07(0x464)](':')||(_0x4d292d+=':');let _0xcf5803=this['randomMac']();return this['ip6eui'](_0x4d292d,_0xcf5803);}[a0_0x217659(0x765)](_0x4a6e0f){const _0x40e263=a0_0x217659;return new RegExp(_0x40e263(0x1f0))['test'](_0x4a6e0f);}async['testIPv6'](_0x40f2d2){const _0x340559=a0_0x217659;let _0x16e723=[{'url':_0x340559(0x23e),'parse':_0x44711f=>_0x44711f['ip']},{'url':_0x340559(0x476),'parse':_0x12c65d=>_0x12c65d['ip']},{'url':_0x340559(0x712),'parse':_0x26b4fa=>_0x26b4fa[_0x340559(0x472)]()},{'url':_0x340559(0x31e),'parse':_0x140723=>_0x140723['trim']()}],_0x486c7f=_0x16e723[Math[_0x340559(0x66d)](Math['random']()*_0x16e723['length'])];try{let _0x207896=await $i[_0x340559(0x85a)][_0x340559(0x3f4)](_0x486c7f[_0x340559(0x2fd)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x40f2d2}}),_0x4a9f28=_0x486c7f[_0x340559(0x7eb)](_0x207896['data']);return _0x4a9f28[_0x340559(0x43a)]()===_0x40f2d2['toLowerCase']()?(console['log'](_0x340559(0x7f2)+_0x40f2d2),!0x0):(console[_0x340559(0x310)](_0x340559(0x715)+_0x40f2d2+',\x20received\x20'+_0x4a9f28),!0x1);}catch(_0x1f4315){return console[_0x340559(0x310)](_0x340559(0x179)+_0x486c7f['url']+':\x20'+_0x1f4315[_0x340559(0x35e)]),!0x1;}}async[a0_0x217659(0x3a5)](_0x5d54d0,_0x4a0bc7){const _0x2b35ed=a0_0x217659;if(!this[_0x2b35ed(0x2e0)]||!this['networkInterface'])return console[_0x2b35ed(0x310)](_0x2b35ed(0x1ff)),null;let _0x2eabcd=await this[_0x2b35ed(0x736)]();if(_0x2eabcd[_0x2b35ed(0xf4)]>=xs){let _0x22ceef=_0x2eabcd[Math['floor'](Math['random']()*_0x2eabcd[_0x2b35ed(0xf4)])];return console[_0x2b35ed(0x829)](_0x2b35ed(0x3e5)+_0x22ceef),_0x22ceef;}let _0x416fa3;do _0x416fa3=this[_0x2b35ed(0x7fa)](),console[_0x2b35ed(0x829)](_0x2b35ed(0x75c)+_0x416fa3);while(!this[_0x2b35ed(0x765)](_0x416fa3));await this[_0x2b35ed(0x83d)](_0x416fa3),console[_0x2b35ed(0x829)](_0x2b35ed(0x7b9)+_0x416fa3);let _0x593d05={'_id':_0x5d54d0+'-'+_0x4a0bc7,'ip':_0x416fa3},_0x36404a=await this[_0x2b35ed(0x605)]['createOrUpdate'](_0x593d05,_0x593d05[_0x2b35ed(0x353)]);return console['log'](_0x2b35ed(0x5f9)+_0x36404a),_0x416fa3;}},ko=new Ps(),Le=ko,Us=a0_0x217659(0x7e5),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S[a0_0x217659(0x3f4)]('AUTHENTICATION')['API_KEY'][a0_0x217659(0x48f)],Ai=S['get'](a0_0x217659(0x7a5));async function Uo(){const _0x2307ca=a0_0x217659;let _0x51407b=await ve[_0x2307ca(0x567)]();de=_0x51407b?.[_0x2307ca(0x397)]??null,Fo=_0x51407b?.[_0x2307ca(0x849)]??null,Us=_0x51407b?.[_0x2307ca(0x6a0)]??_0x2307ca(0x7e5),xi=_0x51407b?.[_0x2307ca(0x2f9)]??he??_0x2307ca(0x785);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x226ad1,_0x49b405,_0x5edf04){const _0x4efe32=a0_0x217659;this[_0x4efe32(0x4e1)]=_0x226ad1,this[_0x4efe32(0x79e)]=_0x49b405,this[_0x4efe32(0x471)]=_0x5edf04,this[_0x4efe32(0x422)]={},this['AutomateSystem']=null,this[_0x4efe32(0x74b)]=new $(u['name']),this[_0x4efe32(0x753)]={},this['localWebhook']={},this['stateConnection']={'state':'close'},this[_0x4efe32(0x614)]=(0x0,j[_0x4efe32(0x4f2)])(ne,_0x4efe32(0x48a)),this[_0x4efe32(0x2e4)]=new Fs[(_0x4efe32(0x85a))](),this[_0x4efe32(0x773)]=new Fs[(_0x4efe32(0x85a))](),this[_0x4efe32(0x311)]=!0x1,this['webhookMap']={'status.instance':_0x4efe32(0x1ba),'connection.update':_0x4efe32(0x1ba),'qrcode.updated':_0x4efe32(0x608),'messages.upsert':_0x4efe32(0x324),'send.message':_0x4efe32(0x324),'messages.update':_0x4efe32(0x390),'group.upsert':_0x4efe32(0x4a0),'group.update':_0x4efe32(0x4a0),'group-participants.update':_0x4efe32(0x4a0),'messages.set':_0x4efe32(0x518),'contacts.set':'/wa-contacts','contacts.upsert':_0x4efe32(0x369),'contacts.update':_0x4efe32(0x369),'presence.update':'/wa-presence','chats.set':_0x4efe32(0x3ff),'chats.update':_0x4efe32(0x3ff),'chats.upsert':_0x4efe32(0x3ff),'chats.delete':_0x4efe32(0x3ff)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this[_0x4efe32(0x54f)]=0xea60,this['isRunning']=!0x1,this[_0x4efe32(0x46a)]={'chats.upsert':async(_0x28906f,_0x48fe8f)=>{const _0x140b08=_0x4efe32;let _0x233389=[];for await(let _0x408d14 of _0x28906f)_0x233389['push']({'_id':_0x408d14['id'],'owner':this[_0x140b08(0x753)][_0x140b08(0x3b8)],'group':_0x408d14['id'][_0x140b08(0x464)](_0x140b08(0x62c)),'name':_0x408d14[_0x140b08(0x4f7)]||_0x408d14[_0x140b08(0x7d9)]||null,'contactname':null,'lastmsg':_0x408d14[_0x140b08(0x3b2)]&&_0x408d14[_0x140b08(0x3b2)]['toString']()['length']<0xd?_0x408d14[_0x140b08(0x3b2)]*0x3e8:_0x408d14[_0x140b08(0x3b2)]||null,'archived':_0x408d14[_0x140b08(0x5aa)]||!0x1,'unreadcount':_0x408d14[_0x140b08(0x5ad)]||0x0,'ephemeralExpiration':_0x408d14[_0x140b08(0x7ad)]||0x0});this['sendDataWebhook'](_0x140b08(0x68e),_0x233389);},'chats.update':async(_0x2774b6,_0x2e3825)=>{const _0x2ac612=_0x4efe32;for(let _0x2b3e1f of _0x2774b6){let _0xa97093={'_id':_0x2b3e1f['id'],'owner':this[_0x2ac612(0x753)][_0x2ac612(0x3b8)],'archived':_0x2b3e1f[_0x2ac612(0x5aa)],'muteEndTime':_0x2b3e1f['muteEndTime'],'ephemeralExpiration':_0x2b3e1f[_0x2ac612(0x7ad)]},_0x2db30c=!0x1,_0x1ce3ca={};_0xa97093[_0x2ac612(0x5aa)]!=null&&(this['logger'][_0x2ac612(0x56b)](this['instanceName']+'\x20('+this[_0x2ac612(0x753)][_0x2ac612(0x3b8)]+'):\x20teve\x20mudanas\x20chat.archived:\x20'+_0x2b3e1f['id']+_0x2ac612(0x2ae)+_0x2b3e1f[_0x2ac612(0x5aa)]),_0x2db30c=!0x0,_0x1ce3ca[_0x2ac612(0x5aa)]=_0x2b3e1f[_0x2ac612(0x5aa)]),'muteEndTime'in _0x2b3e1f&&(this[_0x2ac612(0x74b)][_0x2ac612(0x56b)](this[_0x2ac612(0x4d8)]+'\x20('+this['instance'][_0x2ac612(0x3b8)]+'):\x20teve\x20mudanas\x20chat.muteEndTime:\x20'+_0x2b3e1f['id']+_0x2ac612(0x2ae)+(_0x2b3e1f[_0x2ac612(0x62b)]??'0')),_0x2db30c=!0x0,_0x1ce3ca[_0x2ac612(0x62b)]=_0x2b3e1f[_0x2ac612(0x62b)]??0x0),_0x2ac612(0x7ad)in _0x2b3e1f&&(this[_0x2ac612(0x74b)][_0x2ac612(0x56b)](this[_0x2ac612(0x4d8)]+'\x20('+this[_0x2ac612(0x753)][_0x2ac612(0x3b8)]+'):\x20teve\x20mudanas\x20chat.ephemeralExpiration:\x20'+_0x2b3e1f['id']+'\x20:\x20'+(_0x2b3e1f[_0x2ac612(0x7ad)]!==void 0x0?_0x2b3e1f[_0x2ac612(0x7ad)]:'undefined')),_0x1ce3ca['ephemeralExpiration']=_0x2b3e1f[_0x2ac612(0x7ad)]===null?0x0:_0x2b3e1f[_0x2ac612(0x7ad)],_0x2db30c=!0x0);let _0x47eff5;_0x2db30c&&(_0x47eff5=await this['repository'][_0x2ac612(0x856)][_0x2ac612(0x3bb)]({'where':{'_id':_0x2b3e1f['id']}},_0x1ce3ca,this[_0x2ac612(0x753)]['wuid'])),_0x47eff5&&F(this['instanceName'],'chats',{'chat':_0x47eff5});}},'chats.delete':async _0x269e9e=>{const _0x371203=_0x4efe32;for(let _0x4a63c5 of _0x269e9e)if(_0x4a63c5[_0x371203(0x464)](_0x371203(0x62c))){await this[_0x371203(0x471)]['chat'][_0x371203(0x85c)]({'where':{'_id':_0x4a63c5}},this[_0x371203(0x753)][_0x371203(0x3b8)]);let _0x6e54f5={'where':{'key':{'remoteJid':_0x4a63c5}}};await this[_0x371203(0x471)][_0x371203(0x35e)][_0x371203(0x85c)](_0x6e54f5,this[_0x371203(0x753)][_0x371203(0x3b8)]);}else{await this['repository']['chat'][_0x371203(0x3bb)]({'where':{'_id':_0x4a63c5}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x371203(0x3b8)]);let _0x968cec={'where':{'key':{'remoteJid':_0x4a63c5}}};await this['repository']['message'][_0x371203(0x85c)](_0x968cec,this[_0x371203(0x753)][_0x371203(0x3b8)]);}this[_0x371203(0x2db)](_0x371203(0x41b),[..._0x269e9e]);}},this[_0x4efe32(0x808)]={'contacts.upsert':async(_0x3a96f0,_0x46f816)=>{const _0x5a3e4f=_0x4efe32;let _0x55d2ef=await this[_0x5a3e4f(0x471)][_0x5a3e4f(0x2c5)]['find']({'where':{}},this['instance'][_0x5a3e4f(0x3b8)]),_0xf1f7a0=[];for await(let _0x2ef8a8 of _0x3a96f0)_0x55d2ef[_0x5a3e4f(0x6b5)](_0x42584c=>_0x42584c['_id']===_0x2ef8a8['id'])||_0xf1f7a0[_0x5a3e4f(0x3e3)]({'_id':_0x2ef8a8['id'],'pushName':_0x2ef8a8?.[_0x5a3e4f(0x4f7)]||_0x2ef8a8?.['verifiedName'],'owner':this[_0x5a3e4f(0x753)]['wuid']});this['sendDataWebhook']('contacts.upsert',_0xf1f7a0),await this[_0x5a3e4f(0x471)][_0x5a3e4f(0x2c5)][_0x5a3e4f(0x2bc)](_0xf1f7a0);},'contacts.update':async(_0x6c7ce0,_0x3bb027)=>{const _0xa07c74=_0x4efe32;let _0x31c555=[];for await(let _0x1c5790 of _0x6c7ce0)_0x31c555[_0xa07c74(0x3e3)]({'_id':_0x1c5790['id'],'pushName':_0x1c5790?.[_0xa07c74(0x4f7)]??_0x1c5790?.[_0xa07c74(0x266)],'owner':this[_0xa07c74(0x753)][_0xa07c74(0x3b8)]});this['sendDataWebhook'](_0xa07c74(0x11d),_0x31c555);}},this[_0x4efe32(0x515)]={'messaging-history.set':async({messages:_0x172a1a,chats:_0x171050,isLatest:_0x7c3bde},_0x8ac325)=>{const _0x5eb4e2=_0x4efe32;if(_0x7c3bde){setTimeout(()=>{const _0x2ed849=a0_0x749e;this[_0x2ed849(0x753)]['HistoryProcessed']=!0x0,console['log']('HistoryProcessed\x20definido\x20como\x20true\x20aps\x202\x20minutos.');},0x1d4c0);let _0x2153b1=await Promise['all'](_0x171050['map'](async _0x458049=>({'_id':_0x458049['id'],'owner':this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)],'group':_0x458049['id'][_0x5eb4e2(0x464)]('@g.us'),'name':_0x458049['name']||_0x458049[_0x5eb4e2(0x7d9)]||_0x458049[_0x5eb4e2(0x156)]||null,'contactname':null,'lastmsg':_0x458049[_0x5eb4e2(0x3b2)]&&_0x458049[_0x5eb4e2(0x3b2)][_0x5eb4e2(0x76d)]()[_0x5eb4e2(0xf4)]<0xd?_0x458049[_0x5eb4e2(0x3b2)]*0x3e8:_0x458049['conversationTimestamp']||null,'archived':_0x458049[_0x5eb4e2(0x5aa)]||!0x1,'unreadcount':_0x458049[_0x5eb4e2(0x5ad)]||0x0,'ephemeralExpiration':_0x458049['ephemeralExpiration']||0x0,'muteEndTime':_0x458049[_0x5eb4e2(0x62b)]||0x0})));this['sendDataWebhook']('chats.set',_0x2153b1),await this[_0x5eb4e2(0x59b)](_0x2153b1,_0x8ac325);}let _0x4a147a=[],_0x533a78=Date[_0x5eb4e2(0x11c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1982ab]of Object[_0x5eb4e2(0x814)](_0x172a1a)){if(_0x1982ab[_0x5eb4e2(0x35e)]?.[_0x5eb4e2(0x4cd)]||_0x1982ab[_0x5eb4e2(0x35e)]?.[_0x5eb4e2(0x642)]||!_0x1982ab[_0x5eb4e2(0x35e)]||_0x1982ab[_0x5eb4e2(0x202)][_0x5eb4e2(0x3cc)]==='status@broadcast'||(Ls[_0x5eb4e2(0x85a)][_0x5eb4e2(0x64d)](_0x1982ab?.[_0x5eb4e2(0x18e)])&&(_0x1982ab[_0x5eb4e2(0x18e)]=_0x1982ab['messageTimestamp']?.['toNumber']()),_0x1982ab['messageTimestamp']&&_0x1982ab[_0x5eb4e2(0x18e)][_0x5eb4e2(0x76d)]()[_0x5eb4e2(0xf4)]<0xd&&(_0x1982ab[_0x5eb4e2(0x18e)]=_0x1982ab[_0x5eb4e2(0x18e)]*0x3e8),_0x1982ab[_0x5eb4e2(0x18e)]<_0x533a78))continue;let _0x4608ee=(0x0,w[_0x5eb4e2(0x596)])(_0x1982ab['message']),_0x4b53ed=(0x0,w[_0x5eb4e2(0x5a6)])(_0x4608ee),{message_normalized:_0x349463}=this['normalizeMessage'](_0x4608ee,_0x4b53ed,null);Object[_0x5eb4e2(0x669)](_0x349463)['length']>0x0&&_0x4a147a[_0x5eb4e2(0x3e3)]({'_id':_0x1982ab[_0x5eb4e2(0x202)]['id'],'key':_0x1982ab['key'],'pushName':_0x1982ab[_0x5eb4e2(0x4ef)],'participant':_0x1982ab[_0x5eb4e2(0x281)],'message':_0x4608ee,'messageType':_0x4b53ed,'message_normalized':{'key':_0x1982ab[_0x5eb4e2(0x202)],'pushName':_0x1982ab[_0x5eb4e2(0x4ef)],'messageTimestamp':_0x1982ab['messageTimestamp'],..._0x349463},'messageTimestamp':_0x1982ab[_0x5eb4e2(0x18e)],'owner':this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)]});}_0x8ac325[_0x5eb4e2(0x858)]&&_0x4a147a['length']>0x0&&(this['logger'][_0x5eb4e2(0x56b)](this[_0x5eb4e2(0x4d8)]+'\x20('+this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)]+_0x5eb4e2(0x839)+_0x4a147a[_0x5eb4e2(0xf4)]+_0x5eb4e2(0x17e)+this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)]+_0x5eb4e2(0x3b5)),await this['repository'][_0x5eb4e2(0x35e)]['insert']([..._0x4a147a],this[_0x5eb4e2(0x753)]['wuid']));let _0x159c97=Date[_0x5eb4e2(0x11c)]()-0xa*0x3c*0x3e8;for(let _0x3c1e44 of _0x4a147a)if(this[_0x5eb4e2(0x753)][_0x5eb4e2(0x139)]&&_0x3c1e44[_0x5eb4e2(0x18e)]>=_0x159c97){if(this[_0x5eb4e2(0x7c4)](this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)],_0x3c1e44[_0x5eb4e2(0x353)])){this['logger'][_0x5eb4e2(0x56b)](this['instanceName']+'\x20('+this[_0x5eb4e2(0x753)][_0x5eb4e2(0x3b8)]+_0x5eb4e2(0x2df)+_0x3c1e44[_0x5eb4e2(0x353)]+')');continue;}this[_0x5eb4e2(0x4b2)](this['instance'][_0x5eb4e2(0x3b8)],_0x3c1e44[_0x5eb4e2(0x353)]),this[_0x5eb4e2(0x2db)]('messages.upsert',_0x3c1e44);}else this[_0x5eb4e2(0x2db)](_0x5eb4e2(0x3e8),_0x3c1e44);_0x172a1a=void 0x0;},'messages.upsert':async({messages:_0x2cd594,type:_0x37a4bd},_0x249e5f)=>{const _0x1f8340=_0x4efe32;for(let _0x433972 of _0x2cd594){if(this['localWebhook']?.['groups_ignore']&&_0x433972['key'][_0x1f8340(0x3cc)][_0x1f8340(0x2f7)](_0x1f8340(0x62c))){this[_0x1f8340(0x74b)][_0x1f8340(0x56b)](this[_0x1f8340(0x4d8)]+'\x20('+this[_0x1f8340(0x753)][_0x1f8340(0x3b8)]+_0x1f8340(0x831));continue;}if(_0x433972[_0x1f8340(0x202)]['remoteJid'][_0x1f8340(0x2f7)](_0x1f8340(0x435))||_0x433972[_0x1f8340(0x202)]['remoteJid']==='status@broadcast')continue;if(_0x433972['messageStubParameters']&&_0x433972[_0x1f8340(0x534)][0x0]==='Message\x20absent\x20from\x20node'){console['error'](_0x1f8340(0x70a)),await this[_0x1f8340(0x249)](_0x433972),Lt[_0x433972[_0x1f8340(0x202)]['id']]=_0x433972,this['retrySendMessage'](_0x433972,0x0);continue;}if(_0x37a4bd!==_0x1f8340(0x6f8)||!_0x433972?.[_0x1f8340(0x35e)]||_0x433972['message']?.[_0x1f8340(0x4cd)]||_0x433972['message']?.[_0x1f8340(0x642)])continue;let _0x2864ec=null,_0x316495=null;if(Lt[_0x433972[_0x1f8340(0x202)]['id']]&&(console[_0x1f8340(0x310)](_0x1f8340(0x32a)),await this[_0x1f8340(0x471)][_0x1f8340(0x81c)][_0x1f8340(0x85c)]({'where':{'_id':_0x433972['key']['id']}}),delete Lt[_0x433972[_0x1f8340(0x202)]['id']]),this['isMessageProcessed'](this['instance'][_0x1f8340(0x3b8)],_0x433972[_0x1f8340(0x202)]['id'])){this[_0x1f8340(0x74b)][_0x1f8340(0x56b)](this[_0x1f8340(0x4d8)]+'\x20('+this[_0x1f8340(0x753)]['wuid']+_0x1f8340(0x76c));continue;}this[_0x1f8340(0x4b2)](this['instance'][_0x1f8340(0x3b8)],_0x433972[_0x1f8340(0x202)]['id']);try{_0x2864ec=await this['processPollUpdateMessage'](_0x433972),_0x316495=_0x2864ec?_0x2864ec['join'](','):null;}catch(_0x45e586){this[_0x1f8340(0x74b)][_0x1f8340(0x56b)](this[_0x1f8340(0x4d8)]+'\x20('+this[_0x1f8340(0x753)]['wuid']+_0x1f8340(0x839)+(_0x45e586 instanceof Error?_0x45e586[_0x1f8340(0x35e)]:JSON[_0x1f8340(0x176)](_0x45e586,null,0x2))),_0x316495=_0x1f8340(0x613);}this['client']['sendPresenceUpdate'](_0x1f8340(0x6e3)),Ls[_0x1f8340(0x85a)][_0x1f8340(0x64d)](_0x433972[_0x1f8340(0x18e)])&&(_0x433972[_0x1f8340(0x18e)]=_0x433972[_0x1f8340(0x18e)]?.[_0x1f8340(0x6e2)]()),_0x433972[_0x1f8340(0x18e)]&&_0x433972[_0x1f8340(0x18e)][_0x1f8340(0x76d)]()[_0x1f8340(0xf4)]<0xd&&(_0x433972['messageTimestamp']=_0x433972[_0x1f8340(0x18e)]*0x3e8);let _0x111800=_0x433972['message'],_0x2206ac=(0x0,w[_0x1f8340(0x596)])(_0x111800),_0x558aad=(0x0,w[_0x1f8340(0x5a6)])(_0x2206ac),{messageContent:_0xe4ee67,message_normalized:_0x4e49f2}=this[_0x1f8340(0x124)](_0x2206ac,_0x558aad,_0x316495);if(_0x558aad==='protocolMessage'&&_0xe4ee67?.[_0x1f8340(0x603)]&&(_0x558aad='editedMessage'),_0x558aad===_0x1f8340(0x1fd)&&_0x433972[_0x1f8340(0x202)][_0x1f8340(0x1f3)])continue;let _0x97f39,_0x41f12b=_0x433972['key']['remoteJid']['endsWith']('@g.us');if(_0x433972[_0x1f8340(0x202)]['fromMe'])_0x97f39=this[_0x1f8340(0x753)][_0x1f8340(0x19d)];else{let _0x5d9495=_0x41f12b?_0x433972[_0x1f8340(0x202)][_0x1f8340(0x281)]:_0x433972[_0x1f8340(0x202)]['remoteJid'];_0x97f39=(await this['findAndUpdateCacheContact'](_0x5d9495,_0x433972[_0x1f8340(0x4ef)],!0x1))[_0x1f8340(0x439)][_0x1f8340(0x3d8)];}let _0x4fbbfa={'_id':_0x433972[_0x1f8340(0x202)]['id'],'key':_0x433972[_0x1f8340(0x202)],'isGroup':_0x41f12b,'profilePictureUrl':_0x97f39,'pushName':_0x433972[_0x1f8340(0x4ef)],'message':_0x2206ac,'messageType':_0x558aad,'message_normalized':{'key':_0x433972[_0x1f8340(0x202)],'pushName':_0x433972[_0x1f8340(0x4ef)],'messageTimestamp':_0x433972[_0x1f8340(0x18e)],'source':(0x0,w[_0x1f8340(0x65d)])(_0x433972[_0x1f8340(0x202)]['id']),..._0x4e49f2},'messageTimestamp':_0x433972['messageTimestamp'],'owner':this['instance']['wuid'],'source':(0x0,w[_0x1f8340(0x65d)])(_0x433972[_0x1f8340(0x202)]['id']),'expiration':_0xe4ee67?.['contextInfo']?.[_0x1f8340(0x457)]||0x0};if(_0xe4ee67||(this['logger'][_0x1f8340(0x310)]('Mensagem\x20no\x20suportada'),this[_0x1f8340(0x74b)][_0x1f8340(0x310)](_0x4fbbfa)),_0x4e49f2[_0x1f8340(0x1dc)]==='${Message\x20absent\x20from\x20node}'){console[_0x1f8340(0x310)]('[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperao'),await this['fakeReceived'](_0x433972);continue;}this[_0x1f8340(0x74b)][_0x1f8340(0x829)](this[_0x1f8340(0x4d8)]+'\x20('+this['instance'][_0x1f8340(0x3b8)]+_0x1f8340(0x839)+(_0x4fbbfa[_0x1f8340(0x202)]?.[_0x1f8340(0x1f3)]?_0x1f8340(0x745):'recebido\x20de')+'\x20['+_0x4fbbfa[_0x1f8340(0x202)]?.[_0x1f8340(0x3cc)][_0x1f8340(0x828)](_0x1f8340(0x1fc),'')+_0x1f8340(0x484)+_0x4fbbfa[_0x1f8340(0x719)]+')'),_0x4fbbfa[_0x1f8340(0x575)]?.['text']&&this[_0x1f8340(0x74b)][_0x1f8340(0x829)](_0x433972['key']['id']+':\x20'+_0x4fbbfa['message_normalized']?.[_0x1f8340(0x1dc)]),await this[_0x1f8340(0x471)][_0x1f8340(0x35e)][_0x1f8340(0x2bc)]([_0x4fbbfa],this[_0x1f8340(0x753)][_0x1f8340(0x3b8)]),this[_0x1f8340(0x2db)](_0x1f8340(0x547),_0x4fbbfa),F(this[_0x1f8340(0x4d8)],_0x1f8340(0x7df),{'message':_0x4fbbfa}),_0x433972[_0x1f8340(0x202)][_0x1f8340(0x3cc)]!=='status@broadcast'&&await this[_0x1f8340(0x270)](_0x249e5f,_0x4fbbfa,_0x1f8340(0x69e));}},'messages.update':async(_0x42e61b,_0x5d94c7)=>{const _0x516dde=_0x4efe32;let _0x389895={0x0:_0x516dde(0x234),0x1:_0x516dde(0x314),0x2:_0x516dde(0x7a0),0x3:_0x516dde(0x366),0x4:_0x516dde(0x84d),0x5:'PLAYED'};for await(let {key:_0x363321,update:_0x5687d6}of _0x42e61b){if(this['localWebhook']?.[_0x516dde(0x49c)]&&_0x363321[_0x516dde(0x3cc)]['includes'](_0x516dde(0x62c))){this['logger'][_0x516dde(0x56b)](this[_0x516dde(0x4d8)]+'\x20('+this[_0x516dde(0x753)][_0x516dde(0x3b8)]+_0x516dde(0x163));return;}if(_0x363321[_0x516dde(0x3cc)]!==_0x516dde(0x260)){let _0x4489ce=Date[_0x516dde(0x11c)](),_0x1b2d14;_0x5687d6[_0x516dde(0x35e)]===null&&_0x5687d6[_0x516dde(0x381)]===void 0x0?_0x1b2d14=_0x516dde(0x2e9):_0x1b2d14=_0x389895[_0x5687d6[_0x516dde(0x381)]];let _0xb74814=_0x363321[_0x516dde(0x3cc)][_0x516dde(0x828)](/:\d{1,2}@/g,'@'),_0x245bc4={..._0x363321,'remoteJid':_0xb74814,'status':_0x1b2d14,'datetime':_0x4489ce,'owner':this[_0x516dde(0x753)][_0x516dde(0x3b8)]};this[_0x516dde(0x2db)]('messages.update',_0x245bc4),await this[_0x516dde(0x3ea)](_0x363321,_0x245bc4);}}},'labels.association':async({type:_0x291e9c,association:_0xacedd2})=>{const _0x92ecb8=_0x4efe32;if(_0xacedd2[_0x92ecb8(0x149)]===_0x92ecb8(0x123)){let _0x403763,_0x9262e8=0x0;for(;!_0x403763&&_0x9262e8<this[_0x92ecb8(0x72c)];)_0x403763=await this[_0x92ecb8(0x471)][_0x92ecb8(0x856)]['findOne']({'where':{'_id':_0xacedd2[_0x92ecb8(0x7d3)]}},this[_0x92ecb8(0x753)]['wuid']),_0x403763||(_0x9262e8++,this[_0x92ecb8(0x74b)][_0x92ecb8(0x4f5)](this[_0x92ecb8(0x4d8)]+'\x20('+this['instance'][_0x92ecb8(0x3b8)]+_0x92ecb8(0x278)+_0xacedd2[_0x92ecb8(0x7d3)]+_0x92ecb8(0x848)+this['delayChatLabel_RETRY_DELAY_MS']+_0x92ecb8(0x4ca)+_0x9262e8+'/'+this[_0x92ecb8(0x72c)]+')'),await this[_0x92ecb8(0x165)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x403763){this[_0x92ecb8(0x74b)][_0x92ecb8(0x310)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0xacedd2[_0x92ecb8(0x7d3)]+_0x92ecb8(0x26a)+this[_0x92ecb8(0x72c)]+_0x92ecb8(0x250));return;}switch(_0x291e9c){case'add':console[_0x92ecb8(0x829)](_0xacedd2),await this[_0x92ecb8(0x471)][_0x92ecb8(0x856)][_0x92ecb8(0x3bb)]({'where':{'_id':_0xacedd2[_0x92ecb8(0x7d3)]}},{'leadInfo.etiquetas':_0xacedd2[_0x92ecb8(0x788)]},this[_0x92ecb8(0x753)]['wuid'],void 0x0,_0x92ecb8(0x631));break;case _0x92ecb8(0x739):console[_0x92ecb8(0x829)](_0xacedd2),await this[_0x92ecb8(0x471)][_0x92ecb8(0x856)][_0x92ecb8(0x3bb)]({'where':{'_id':_0xacedd2[_0x92ecb8(0x7d3)]}},{'leadInfo.etiquetas':_0xacedd2['labelId']},this[_0x92ecb8(0x753)]['wuid'],void 0x0,'$pull');break;default:this[_0x92ecb8(0x74b)][_0x92ecb8(0x310)](_0x92ecb8(0x16b)+_0x291e9c+']');}}},'labels.edit':async _0x99c4a4=>{const _0x396d6e=_0x4efe32;if(!_0x99c4a4||!_0x99c4a4['id']){this[_0x396d6e(0x74b)][_0x396d6e(0x310)](_0x396d6e(0x69b));return;}if(!_0x99c4a4[_0x396d6e(0x4ab)]){let _0xbb54cc=[_0x396d6e(0x73c),_0x396d6e(0x49e),_0x396d6e(0xf0),_0x396d6e(0x42f),_0x396d6e(0x57c),'#56ccb4','#fe9dfe','#d3a91f',_0x396d6e(0x15f),'#d8e651',_0x396d6e(0x14d),_0x396d6e(0x630),'#92ceac',_0x396d6e(0x4bb),_0x396d6e(0x206),_0x396d6e(0x2f3),_0x396d6e(0x491),'#b4ebff',_0x396d6e(0x420),_0x396d6e(0x5b9)],_0x2213c4;typeof _0x99c4a4[_0x396d6e(0x438)]==_0x396d6e(0x626)&&_0x99c4a4[_0x396d6e(0x438)]>=0x0&&_0x99c4a4[_0x396d6e(0x438)]<_0xbb54cc[_0x396d6e(0xf4)]?_0x2213c4=_0xbb54cc[_0x99c4a4[_0x396d6e(0x438)]]:(this[_0x396d6e(0x74b)][_0x396d6e(0x310)](_0x396d6e(0x38f)+_0x99c4a4[_0x396d6e(0x438)]),_0x2213c4=_0x396d6e(0x4f9));let _0x4c162b={'_id':_0x99c4a4['id'],'colorHex':_0x2213c4,'color':_0x99c4a4?.['color'],'name':_0x99c4a4?.[_0x396d6e(0x4f7)],'owner':this[_0x396d6e(0x753)]['wuid']};await this[_0x396d6e(0x471)]['label'][_0x396d6e(0x3bb)]({'where':{'_id':_0x99c4a4['id']}},_0x4c162b,this[_0x396d6e(0x753)][_0x396d6e(0x3b8)]),this['logger']['info'](this[_0x396d6e(0x4d8)]+'\x20('+this[_0x396d6e(0x753)][_0x396d6e(0x3b8)]+'):\x20Rtulo\x20atualizado:\x20'+_0x99c4a4);}_0x99c4a4[_0x396d6e(0x4ab)]&&(await this[_0x396d6e(0x471)]['label'][_0x396d6e(0x85c)]({'where':{'_id':_0x99c4a4['id']}},this[_0x396d6e(0x753)][_0x396d6e(0x3b8)]),this['logger'][_0x396d6e(0x4f5)](_0x396d6e(0x3a0)+_0x99c4a4['id']));}},this[_0x4efe32(0x339)]={'groups.upsert':async _0x3f586e=>{const _0x5056dd=_0x4efe32;this[_0x5056dd(0x200)]?.[_0x5056dd(0x49c)]||this[_0x5056dd(0x2db)](_0x5056dd(0x16a),_0x3f586e);for(let _0x28de98 of _0x3f586e)await this[_0x5056dd(0x599)](_0x28de98);},'groups.update':async _0x500f0c=>{const _0x36b113=_0x4efe32;this[_0x36b113(0x200)]?.[_0x36b113(0x49c)]||this[_0x36b113(0x2db)](_0x36b113(0x58b),_0x500f0c);for(let _0xc8f3d7 of _0x500f0c)await this[_0x36b113(0x599)](_0xc8f3d7);},'group-participants.update':async _0x8ce381=>{const _0x302c7f=_0x4efe32;this['localWebhook']?.[_0x302c7f(0x49c)]||this[_0x302c7f(0x2db)](_0x302c7f(0x2e5),_0x8ce381),await this[_0x302c7f(0x6ce)](_0x8ce381);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x4efe32(0x5b1)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x4efe32(0x1ec)]=async _0x25b8ae=>{const _0x52ea57=_0x4efe32;if(_0x25b8ae[_0x52ea57(0x35e)]?.[_0x52ea57(0x237)]){let _0x156807=await this[_0x52ea57(0x20b)](_0x25b8ae[_0x52ea57(0x35e)][_0x52ea57(0x237)][_0x52ea57(0x722)],!0x0);if(_0x156807){let _0x264683=_0x156807['key']['fromMe']?this[_0x52ea57(0x753)]['wuid']+'@s.whatsapp.net':_0x156807[_0x52ea57(0x202)][_0x52ea57(0x281)]||_0x156807['key']['remoteJid'],_0x2c9027=_0x156807['key']['id'],_0x48dab0=_0x156807[_0x52ea57(0x35e)],_0x54ae05=Buffer[_0x52ea57(0x73a)](_0x48dab0['messageContextInfo']['messageSecret'][_0x52ea57(0x76d)](_0x52ea57(0x6ea)),_0x52ea57(0x6ea)),_0x142bd1=(0x0,w[_0x52ea57(0x7e3)])(_0x25b8ae[_0x52ea57(0x35e)][_0x52ea57(0x237)][_0x52ea57(0x6f0)],{'pollCreatorJid':_0x264683,'pollMsgId':_0x2c9027,'pollEncKey':_0x54ae05,'voterJid':_0x25b8ae[_0x52ea57(0x202)]['fromMe']?this[_0x52ea57(0x753)]['wuid']+_0x52ea57(0x1fc):_0x25b8ae[_0x52ea57(0x202)]['remoteJid'][_0x52ea57(0x464)](_0x52ea57(0x207))?_0x25b8ae[_0x52ea57(0x202)][_0x52ea57(0x281)]:_0x25b8ae[_0x52ea57(0x202)][_0x52ea57(0x3cc)]}),_0x436ff5=[],_0x5ee78e=_0x142bd1[_0x52ea57(0x807)]['map'](_0x136d28=>Buffer[_0x52ea57(0x73a)](_0x136d28)[_0x52ea57(0x76d)](_0x52ea57(0x6ea)));for(let {optionName:_0x9bdcca}of _0x48dab0[_0x52ea57(0x34e)]?.[_0x52ea57(0x64b)]||_0x48dab0['pollCreationMessageV3']?.[_0x52ea57(0x64b)]||_0x48dab0[_0x52ea57(0x154)]?.[_0x52ea57(0x64b)])_0x5ee78e[_0x52ea57(0x5ac)]((0x0,w[_0x52ea57(0x527)])(Buffer[_0x52ea57(0x73a)](_0x9bdcca))['toString'](_0x52ea57(0x6ea)))>-0x1&&_0x436ff5['push'](_0x9bdcca);return _0x436ff5;}}return null;},this[_0x4efe32(0x124)]=(_0xae7e10,_0x356da4,_0x3ae3c0)=>{const _0x56fd0c=_0x4efe32;try{let _0x26a0e7=_0xae7e10?(0x0,w[_0x56fd0c(0x360)])(_0xae7e10)[_0x356da4]:void 0x0,_0x561a4c={},_0x4b372c=null,_0x17eda2=null,_0x1f7817=null,_0x490564=null;_0x356da4===_0x56fd0c(0x4cd)&&_0x26a0e7?.[_0x56fd0c(0x603)]&&(_0x356da4=(0x0,w[_0x56fd0c(0x5a6)])(_0x26a0e7[_0x56fd0c(0x603)]),_0x4b372c=_0xae7e10[_0x56fd0c(0x4cd)][_0x56fd0c(0x202)]['id'],_0x26a0e7=_0xae7e10[_0x56fd0c(0x4cd)][_0x56fd0c(0x603)][_0x356da4]),_0xae7e10[_0x356da4]?.['contextInfo']?.[_0x56fd0c(0x82b)]&&_0xae7e10[_0x356da4]?.[_0x56fd0c(0x88d)]?.['quotedMessage']&&(_0x17eda2=_0xae7e10[_0x356da4][_0x56fd0c(0x88d)][_0x56fd0c(0x82b)]),_0xae7e10[_0x56fd0c(0x7c0)]&&(_0x1f7817=_0xae7e10[_0x56fd0c(0x7c0)][_0x56fd0c(0x202)]['id']);let _0x40d224;if(_0x26a0e7&&typeof _0x26a0e7==_0x56fd0c(0x6ae)&&_0x56fd0c(0x722)in _0x26a0e7&&({pollCreationMessageKey:_0x40d224}=_0x26a0e7),_0x356da4==='pollCreationMessage'||_0x356da4==='pollCreationMessageV2'||_0x356da4===_0x56fd0c(0x7b3)){let _0x224ac6=_0x26a0e7[_0x56fd0c(0x64b)][_0x56fd0c(0x557)](_0x4dddd4=>_0x4dddd4[_0x56fd0c(0x3a6)])[_0x56fd0c(0x4f2)]('|');_0x561a4c[_0x56fd0c(0x530)]=_0x224ac6;}if(_0x356da4===_0x56fd0c(0x1fd)){let _0x11f016=_0x26a0e7[_0x56fd0c(0x427)][_0x56fd0c(0x33b)][_0x56fd0c(0x557)](_0x585d92=>JSON['parse'](_0x585d92['buttonParamsJson'])[_0x56fd0c(0x212)])[_0x56fd0c(0x4f2)]('|');_0x561a4c['convertedOptions']=_0x11f016;}_0x356da4===_0x56fd0c(0xea)&&(_0x561a4c[_0x56fd0c(0x48e)]=_0x26a0e7?.[_0x56fd0c(0x304)]?.[_0x56fd0c(0x100)]);let _0x1c4da1='';if(_0x26a0e7&&(_0x1c4da1+=_0x26a0e7[_0x56fd0c(0x4f7)]?_0x26a0e7['name']:'',_0x1c4da1+=_0x26a0e7[_0x56fd0c(0x633)]?'\x20'+_0x26a0e7['caption']:'',_0x1c4da1+=_0x26a0e7[_0x56fd0c(0x387)]?'\x20'+_0x26a0e7['conversation']:'',_0x1c4da1+=_0x26a0e7[_0x56fd0c(0x7d9)]?'\x20'+_0x26a0e7[_0x56fd0c(0x7d9)]:'',_0x356da4!==_0x56fd0c(0x277)&&(_0x1c4da1+=_0x26a0e7['body']?.[_0x56fd0c(0x1dc)]?'\x20'+_0x26a0e7['body'][_0x56fd0c(0x1dc)]:''),_0x1c4da1+=_0x26a0e7?.['footer']?.['text']?'\x20'+_0x26a0e7?.[_0x56fd0c(0x273)]?.[_0x56fd0c(0x1dc)]:''),_0x356da4===_0x56fd0c(0x60d)){_0x1c4da1=(_0x26a0e7[_0x56fd0c(0x81a)]||'')+'\x0a'+(_0x26a0e7[_0x56fd0c(0x88f)]||'')+'\x0a'+(_0x26a0e7[_0x56fd0c(0x3d4)]||'');let _0xc98283=this[_0x56fd0c(0x2ab)](_0x26a0e7[_0x56fd0c(0x432)]);_0x561a4c[_0x56fd0c(0x530)]=_0xc98283;}if(_0x356da4===_0x56fd0c(0xea)&&(_0x3ae3c0=_0x26a0e7[_0x56fd0c(0x81a)],_0x490564=_0x26a0e7?.[_0x56fd0c(0x304)]?.[_0x56fd0c(0x100)]),_0x356da4===_0x56fd0c(0x277)){let _0x221956=_0x26a0e7?.[_0x56fd0c(0x582)];_0x221956&&_0x221956[_0x56fd0c(0x4f7)]===_0x56fd0c(0x18f)&&(_0x490564=JSON[_0x56fd0c(0x7eb)](_0x221956[_0x56fd0c(0x373)])['id']),_0x3ae3c0=_0x26a0e7?.[_0x56fd0c(0x687)]?.[_0x56fd0c(0x1dc)];}if(_0x356da4===_0x56fd0c(0x5d4)&&(_0x3ae3c0=_0x26a0e7?.[_0x56fd0c(0x50a)],_0x490564=_0x26a0e7?.[_0x56fd0c(0x36b)]),_0x356da4===_0x56fd0c(0x3da)&&(_0x3ae3c0=_0x26a0e7?.[_0x56fd0c(0x50a)],_0x490564=_0x26a0e7?.[_0x56fd0c(0x107)]),_0x26a0e7&&_0x26a0e7[_0x56fd0c(0x702)]){let _0x3f5668=this[_0x56fd0c(0x3b3)](JSON[_0x56fd0c(0x176)](_0x26a0e7[_0x56fd0c(0x702)],null,0x2));_0x1c4da1=_0x1c4da1+'\x0a'+_0x3f5668;}if(_0x26a0e7){let {selectedButtonId:_0x2ac86f,nativeFlowResponseMessage:_0x1c3d42,selectedId:_0x27320a,selectedDisplayText:_0x212f13,selectedIndex:_0x39df6f,body:_0x37426e,nativeFlowMessage:_0x2a100,singleSelectReply:_0x16f16b,sections:_0x2adb65,listType:_0x52c9e7,displayName:_0x5eb6a0,vcard:_0xf084e6,contactVcard:_0x2b7137,name:_0x515ca2,caption:_0x50a94f,conversation:_0x188174,pollCreationMessageKey:_0x5a4357,footerText:_0x29c105,contentText:_0x4b895d,pageCount:_0x5e0da0,headerType:_0x10d5cb,isAvatar:_0x2f1023,isAnimated:_0x6c5887,fallbackLc:_0x12afc,fallbackLg:_0x5b227c,namespace:_0x5f3595,elementName:_0x5ab261,localizableParams:_0x219c55,viewOnce:_0x2b6faf,height:_0x2361cb,width:_0x562bfc,key:_0x495e1e,firstScanLength:_0x481edc,firstScanSidecar:_0x58b128,gifPlayback:_0x249c75,gifAttribution:_0x3f32cb,midQualityFileSha256:_0x4305eb,scansSidecar:_0x1ab0e0,streamingSidecar:_0x1d0fcd,thumbnailHeight:_0x2f1bbc,thumbnailWidth:_0x46f291,thumbnailEncSha256:_0x18cebc,thumbnailDirectPath:_0x1c57b4,canonicalUrl:_0x2a8e98,matchedText:_0x1a5168,previewType:_0x29b673,thumbnailSha256:_0xfc254e,deviceListMetadataVersion:_0x1942cb,inviteLinkGroupTypeV2:_0x245e80,interactiveAnnotations:_0x4c4cca,scanLengths:_0x599a3d,jpegThumbnail:_0x16e93c,url:_0xefca96,mediaKeyTimestamp:_0x4fb471,waveform:_0x40cd5c,stickerSentTs:_0x41099b,firstFrameLength:_0x1a3626,fileEncSha256:_0x42bd88,contextInfo:_0xc2902d,firstFrameSidecar:_0x106030,directPath:_0x4237de,fileSha256:_0x243f5d,mediaKey:_0x1ee986,senderTimestampMs:_0x13f6ba,..._0x523e37}=_0x26a0e7;(_0x356da4===_0x56fd0c(0x60d)||_0x356da4===_0x56fd0c(0xea))&&(delete _0x523e37[_0x56fd0c(0x81a)],delete _0x523e37[_0x56fd0c(0x88f)]),typeof _0x26a0e7==_0x56fd0c(0x185)?_0x561a4c={'text':_0x26a0e7,'type':_0x356da4||_0x56fd0c(0x387),..._0x4b372c&&{'edited':_0x4b372c},..._0x17eda2&&{'quoted':_0x17eda2},..._0x1f7817&&{'reaction':_0x1f7817}}:_0x561a4c={'text':_0x1c4da1,..._0x523e37,..._0x356da4===_0x56fd0c(0x237)?{'poll_id':_0x26a0e7[_0x56fd0c(0x722)]['id'],'quoted':_0x26a0e7[_0x56fd0c(0x722)]['id'],'vote':_0x3ae3c0}:{},..._0x356da4===_0x56fd0c(0xea)?{'buttonOrList_id':_0x490564,'vote':_0x3ae3c0}:{},..._0x356da4==='interactiveResponseMessage'?{'buttonOrList_id':_0x490564,'vote':_0x3ae3c0}:{},..._0x356da4===_0x56fd0c(0x5d4)?{'buttonOrList_id':_0x490564,'vote':_0x3ae3c0}:{},..._0x356da4===_0x56fd0c(0x3da)?{'buttonOrList_id':_0x490564,'vote':_0x3ae3c0}:{},'type':_0x356da4,..._0x4b372c&&{'edited':_0x4b372c},..._0x17eda2&&{'quoted':_0x17eda2},..._0x1f7817&&{'reaction':_0x1f7817},...(_0x356da4===_0x56fd0c(0x34e)||_0x356da4===_0x56fd0c(0x154)||_0x356da4==='pollCreationMessageV3'||_0x356da4===_0x56fd0c(0x60d)||_0x356da4===_0x56fd0c(0x1fd))&&{'convertedOptions':_0x561a4c[_0x56fd0c(0x530)]}};}return{'messageType':_0x356da4,'messageContent':_0x26a0e7,'message_normalized':_0x561a4c};}catch(_0x3c9440){return this[_0x56fd0c(0x74b)][_0x56fd0c(0x310)](_0x56fd0c(0x55b)+_0x3c9440),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this[_0x4efe32(0x40e)](),this['initializeQueue'](),this[_0x4efe32(0x753)][_0x4efe32(0x139)]=!0x0,this[_0x4efe32(0x753)][_0x4efe32(0x300)]={'count':0x0},this[_0x4efe32(0x753)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x217659(0x4b2)](_0x3b5e12,_0x3fc1c2){const _0x3cbc72=a0_0x217659;this[_0x3cbc72(0x422)][_0x3b5e12]||(this[_0x3cbc72(0x422)][_0x3b5e12]=new Set()),this['processedMessagesCache'][_0x3b5e12][_0x3cbc72(0x735)](_0x3fc1c2),setTimeout(()=>this[_0x3cbc72(0x422)][_0x3b5e12][_0x3cbc72(0x85c)](_0x3fc1c2),0x2710);}[a0_0x217659(0x7c4)](_0x41b4e6,_0x5c0db4){const _0x5887f3=a0_0x217659;return this['processedMessagesCache'][_0x41b4e6]?.[_0x5887f3(0x5b8)](_0x5c0db4)??!0x1;}set[a0_0x217659(0x4d8)](_0xfcb038){const _0x527e11=a0_0x217659;if(!_0xfcb038){this['instance'][_0x527e11(0x4f7)]=(0x0,Ti['v4'])();return;}this[_0x527e11(0x753)][_0x527e11(0x4f7)]=_0xfcb038,this[_0x527e11(0x2db)]('status.instance',{'instance':this[_0x527e11(0x753)][_0x527e11(0x4f7)],'status':_0x527e11(0x4bd)});}get[a0_0x217659(0x4d8)](){const _0x34ceef=a0_0x217659;return this[_0x34ceef(0x753)]['name'];}get[a0_0x217659(0x3b8)](){const _0x481212=a0_0x217659;return this[_0x481212(0x753)][_0x481212(0x3b8)];}async[a0_0x217659(0x35a)](){const _0x151f22=a0_0x217659;let _0x5eb320=this[_0x151f22(0x136)][_0x151f22(0x792)]?.[_0x151f22(0x4f7)]??this[_0x151f22(0x136)][_0x151f22(0x792)]?.['verifiedName'];if(!_0x5eb320){if(this[_0x151f22(0x4e1)]['get']('DATABASE')[_0x151f22(0x858)]){let _0x4e13ac=await T['getClient']()['db'](this[_0x151f22(0x4e1)][_0x151f22(0x3f4)](_0x151f22(0x3e2))[_0x151f22(0x291)][_0x151f22(0x49b)]+_0x151f22(0x317))[_0x151f22(0x147)](this['instanceName'])[_0x151f22(0x567)]({'_id':_0x151f22(0x65a)});if(_0x4e13ac){let _0xe64dee=JSON[_0x151f22(0x7eb)](JSON[_0x151f22(0x176)](_0x4e13ac),w[_0x151f22(0x83c)][_0x151f22(0x36d)]);_0x5eb320=_0xe64dee['me']?.[_0x151f22(0x4f7)]||_0xe64dee['me']?.[_0x151f22(0x266)];}}else{if((0x0,Fe[_0x151f22(0x2cd)])((0x0,j[_0x151f22(0x4f2)])(be,this[_0x151f22(0x4d8)],'creds.json'))){let _0x3c745f=JSON['parse']((0x0,Fe[_0x151f22(0x81b)])((0x0,j[_0x151f22(0x4f2)])(be,this['instanceName'],_0x151f22(0x258)),{'encoding':_0x151f22(0x703)}));_0x5eb320=_0x3c745f['me']?.[_0x151f22(0x4f7)]||_0x3c745f['me']?.[_0x151f22(0x266)];}}}return _0x5eb320;}get['profilePictureUrl'](){const _0x545319=a0_0x217659;return this[_0x545319(0x753)][_0x545319(0x19d)];}async[a0_0x217659(0x625)](){const _0x1e2589=a0_0x217659;let _0x3ed4d3=this[_0x1e2589(0x753)][_0x1e2589(0x3b8)]+_0x1e2589(0x1fc);try{await this[_0x1e2589(0x136)][_0x1e2589(0x64f)](_0x3ed4d3)?this['instance'][_0x1e2589(0x74c)]=!0x0:this[_0x1e2589(0x753)][_0x1e2589(0x74c)]=!0x1;}catch{this[_0x1e2589(0x753)][_0x1e2589(0x74c)]=!0x1;}return this['logger']['info'](this[_0x1e2589(0x4d8)]+'\x20('+this[_0x1e2589(0x753)]['wuid']+_0x1e2589(0x246)+this['instance']['isBusiness']),this[_0x1e2589(0x753)]['isBusiness'];}get[a0_0x217659(0x5ee)](){const _0x1e2204=a0_0x217659;return this[_0x1e2204(0x753)][_0x1e2204(0x139)]=!0x1,this[_0x1e2204(0x753)]['qrcode']?.[_0x1e2204(0x1d7)]?{'pairingCode':this[_0x1e2204(0x753)]['qrcode']?.[_0x1e2204(0x1d7)]}:{'code':this[_0x1e2204(0x753)][_0x1e2204(0x300)]?.[_0x1e2204(0x2cc)],'base64':this[_0x1e2204(0x753)][_0x1e2204(0x300)]?.[_0x1e2204(0x80f)]};}async['loadWebhook'](){const _0xc40d02=a0_0x217659;let _0x1ff50f=await this['repository'][_0xc40d02(0x75e)][_0xc40d02(0x6b5)](this['instanceName']);this[_0xc40d02(0x200)]['url']=_0x1ff50f?.[_0xc40d02(0x2fd)],this[_0xc40d02(0x200)][_0xc40d02(0x572)]=_0x1ff50f?.['enabled'],this['localWebhook'][_0xc40d02(0x4f0)]=_0x1ff50f?.[_0xc40d02(0x4f0)],this[_0xc40d02(0x200)][_0xc40d02(0x262)]=_0x1ff50f?.[_0xc40d02(0x262)],this[_0xc40d02(0x200)]['QRCODE_UPDATED']=_0x1ff50f?.['QRCODE_UPDATED'],this[_0xc40d02(0x200)][_0xc40d02(0x12c)]=_0x1ff50f?.[_0xc40d02(0x12c)],this[_0xc40d02(0x200)][_0xc40d02(0x69e)]=_0x1ff50f?.[_0xc40d02(0x69e)],this[_0xc40d02(0x200)]['MESSAGES_UPDATE']=_0x1ff50f?.[_0xc40d02(0x3f8)],this['localWebhook'][_0xc40d02(0x329)]=_0x1ff50f?.['GROUPS_UPSERT'],this[_0xc40d02(0x200)][_0xc40d02(0x334)]=_0x1ff50f?.[_0xc40d02(0x334)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x1ff50f?.[_0xc40d02(0x33c)],this[_0xc40d02(0x200)][_0xc40d02(0x45e)]=_0x1ff50f?.[_0xc40d02(0x45e)],this[_0xc40d02(0x200)][_0xc40d02(0x5e5)]=_0x1ff50f?.[_0xc40d02(0x5e5)],this[_0xc40d02(0x200)][_0xc40d02(0x688)]=_0x1ff50f?.['CHATS_UPDATE'],this[_0xc40d02(0x200)][_0xc40d02(0x45f)]=_0x1ff50f?.[_0xc40d02(0x45f)],this[_0xc40d02(0x200)]['CONTACTS_SET']=_0x1ff50f?.[_0xc40d02(0x2ad)],this['localWebhook'][_0xc40d02(0x732)]=_0x1ff50f?.[_0xc40d02(0x732)],this['localWebhook'][_0xc40d02(0x348)]=_0x1ff50f?.[_0xc40d02(0x348)],this[_0xc40d02(0x200)][_0xc40d02(0x101)]=_0x1ff50f?.[_0xc40d02(0x101)],this[_0xc40d02(0x200)][_0xc40d02(0x4db)]=_0x1ff50f?.[_0xc40d02(0x4db)],this[_0xc40d02(0x200)][_0xc40d02(0x600)]=_0x1ff50f?.[_0xc40d02(0x600)],this['localWebhook'][_0xc40d02(0x49c)]=_0x1ff50f?.[_0xc40d02(0x49c)];}async['setWebhook'](_0x3f39ea){const _0x166bd8=a0_0x217659;let _0x49a87b=[_0x166bd8(0x353),'url','enabled',_0x166bd8(0x4f0),_0x166bd8(0x262),_0x166bd8(0x41f),_0x166bd8(0x3f8),'MESSAGES_UPSERT',_0x166bd8(0x12c),_0x166bd8(0x329),_0x166bd8(0x334),_0x166bd8(0x33c),_0x166bd8(0x45e),_0x166bd8(0x5e5),_0x166bd8(0x688),'CHATS_DELETE',_0x166bd8(0x2ad),_0x166bd8(0x732),'CONTACTS_UPDATE',_0x166bd8(0x101),_0x166bd8(0x4db),_0x166bd8(0x600),'groups_ignore'],_0x402e40={};return _0x49a87b['forEach'](_0x1a36fb=>{_0x3f39ea[_0x1a36fb]!==void 0x0&&(_0x402e40[_0x1a36fb]=_0x3f39ea[_0x1a36fb]);}),_0x402e40[_0x166bd8(0x2fd)]&&(_0x402e40[_0x166bd8(0x2fd)]=_0x402e40[_0x166bd8(0x2fd)]['trim']()),await this['repository']['webhook'][_0x166bd8(0x4a5)](_0x402e40,this['instanceName']),Object[_0x166bd8(0x777)](this['localWebhook'],_0x402e40),await this[_0x166bd8(0x471)][_0x166bd8(0x75e)][_0x166bd8(0x6b5)](this[_0x166bd8(0x4d8)]);}async[a0_0x217659(0x7f0)](){const _0x22bf9f=a0_0x217659;return await this['repository']['webhook'][_0x22bf9f(0x6b5)](this[_0x22bf9f(0x4d8)]);}async['sendDataWebhook'](_0x3501a8,_0x337665){const _0x174d9e=a0_0x217659;let _0x57845d=_0x3501a8[_0x174d9e(0x828)](/[\.-]/gm,'_')['toUpperCase'](),_0x4db1ac=this[_0x174d9e(0x200)][_0x174d9e(0x572)]&&(0x0,J['isURL'])(this['localWebhook'][_0x174d9e(0x2fd)])?this['localWebhook'][_0x174d9e(0x2fd)]+(this[_0x174d9e(0x200)]['local_map']?this[_0x174d9e(0x587)][_0x3501a8]:''):null,_0x350238=this['localWebhook'][_0x57845d],_0x5baa78=de&&de[_0x174d9e(0x572)]&&(0x0,J[_0x174d9e(0x113)])(de[_0x174d9e(0x2fd)])?de[_0x174d9e(0x2fd)]+(de['local_map']?this[_0x174d9e(0x587)][_0x3501a8]:''):null,_0x4db400=de?de[_0x57845d]:null;if(_0x350238&&_0x4db1ac)try{await K[_0x174d9e(0x85a)][_0x174d9e(0x4a5)]({'baseURL':_0x4db1ac})[_0x174d9e(0x5d9)]('',{'event':_0x3501a8,'instance':this[_0x174d9e(0x753)][_0x174d9e(0x4f7)],'apikey':this[_0x174d9e(0x753)][_0x174d9e(0x63a)],'data':_0x337665}),this[_0x174d9e(0x74b)][_0x174d9e(0x829)](this['instanceName']+'\x20('+this[_0x174d9e(0x753)][_0x174d9e(0x3b8)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3501a8+':\x20'+_0x4db1ac);}catch{this[_0x174d9e(0x74b)]['error'](this[_0x174d9e(0x4d8)]+'\x20('+this['instance'][_0x174d9e(0x3b8)]+_0x174d9e(0x4e8)+_0x3501a8+':\x20'+_0x4db1ac);}if(_0x4db400&&_0x5baa78)try{await K[_0x174d9e(0x85a)][_0x174d9e(0x4a5)]({'baseURL':_0x5baa78})[_0x174d9e(0x5d9)]('',{'event':_0x3501a8,'instance':this[_0x174d9e(0x753)]['name'],'apikey':this[_0x174d9e(0x753)][_0x174d9e(0x63a)],'data':_0x337665}),this[_0x174d9e(0x74b)][_0x174d9e(0x829)](this[_0x174d9e(0x4d8)]+'\x20('+this[_0x174d9e(0x753)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3501a8+':\x20'+_0x5baa78);}catch{this[_0x174d9e(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x174d9e(0x753)][_0x174d9e(0x3b8)]+_0x174d9e(0x46d)+_0x3501a8+':\x20'+_0x5baa78);}}async['connectionUpdate']({qr:_0x363bdf,connection:_0x456be7,lastDisconnect:_0x322b86}){const _0x1994f5=a0_0x217659;if(_0x363bdf){if(this[_0x1994f5(0x753)][_0x1994f5(0x300)][_0x1994f5(0x854)]===Lo)return this[_0x1994f5(0x2db)](_0x1994f5(0x171),{'message':_0x1994f5(0x6a4),'statusCode':w['DisconnectReason']['badSession']}),this[_0x1994f5(0x4eb)]={'state':_0x1994f5(0x77b),'statusReason':w[_0x1994f5(0x543)][_0x1994f5(0x66e)]},this[_0x1994f5(0x2db)](_0x1994f5(0x27a),{'instance':this[_0x1994f5(0x753)][_0x1994f5(0x4f7)],...this[_0x1994f5(0x4eb)]}),this[_0x1994f5(0x2db)](_0x1994f5(0x542),{'instance':this[_0x1994f5(0x753)][_0x1994f5(0x4f7)],'status':_0x1994f5(0x130)}),this[_0x1994f5(0x471)][_0x1994f5(0x2d5)][_0x1994f5(0x85c)](this[_0x1994f5(0x753)][_0x1994f5(0x4f7)]),this[_0x1994f5(0x311)]=!0x0,this[_0x1994f5(0x79e)][_0x1994f5(0x267)](_0x1994f5(0x643),this[_0x1994f5(0x753)]['name']);this[_0x1994f5(0x753)][_0x1994f5(0x300)][_0x1994f5(0x854)]++;let _0x1b5c27={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1994f5(0x236),'dark':_0x1994f5(0x4f9)}};Ii[_0x1994f5(0x85a)]['toDataURL'](_0x363bdf,_0x1b5c27,(_0x5a592e,_0x3dd143)=>{const _0x64cc9b=_0x1994f5;if(_0x5a592e){this[_0x64cc9b(0x74b)][_0x64cc9b(0x310)](this[_0x64cc9b(0x4d8)]+'\x20('+this['instance']['wuid']+_0x64cc9b(0x24c)+(_0x5a592e instanceof Error?_0x5a592e['message']:JSON['stringify'](_0x5a592e,null,0x2)));return;}this[_0x64cc9b(0x753)][_0x64cc9b(0x300)][_0x64cc9b(0x80f)]=_0x3dd143,this[_0x64cc9b(0x753)][_0x64cc9b(0x300)]['code']=_0x363bdf,!this[_0x64cc9b(0x4ac)]&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this['instance'][_0x64cc9b(0x4f7)],'pairingCode':this[_0x64cc9b(0x753)][_0x64cc9b(0x300)]['pairingCode'],'code':_0x363bdf,'base64':_0x3dd143}});}),this[_0x1994f5(0x4ac)]?this[_0x1994f5(0x753)][_0x1994f5(0x300)][_0x1994f5(0x1d7)]||(await(0x0,w[_0x1994f5(0x35b)])(0x7d0),this['instance']['qrcode']['pairingCode']=await this[_0x1994f5(0x136)][_0x1994f5(0x6c4)](this['phoneNumber'])):this[_0x1994f5(0x753)][_0x1994f5(0x300)][_0x1994f5(0x1d7)]=null,_i[_0x1994f5(0x85a)][_0x1994f5(0x595)](_0x363bdf,{'small':!0x0},_0x463824=>this[_0x1994f5(0x74b)]['log'](_0x1994f5(0x610)+this[_0x1994f5(0x753)]['name']+_0x1994f5(0x23b)+this[_0x1994f5(0x753)]['qrcode'][_0x1994f5(0x854)]+_0x1994f5(0x4bf)+this[_0x1994f5(0x753)]['qrcode'][_0x1994f5(0x1d7)]+_0x1994f5(0x7ec)+_0x463824));}if(_0x456be7&&(this[_0x1994f5(0x4eb)]={'state':_0x456be7,'statusReason':_0x322b86?.['error']?.[_0x1994f5(0x3c3)]?.[_0x1994f5(0x12d)]??0xc8},this[_0x1994f5(0x2db)](_0x1994f5(0x27a),{'instance':this[_0x1994f5(0x753)]['name'],...this[_0x1994f5(0x4eb)]})),_0x456be7===_0x1994f5(0x2c6)){if(_0x322b86[_0x1994f5(0x310)]?.[_0x1994f5(0x3c3)]?.[_0x1994f5(0x12d)]!==w[_0x1994f5(0x543)]['loggedOut']&&(this[_0x1994f5(0x2d0)]<0x21||this[_0x1994f5(0x753)][_0x1994f5(0x25f)]['isConnected'])){this[_0x1994f5(0x2d0)]++,this[_0x1994f5(0x2a4)]['push'](Date['now']()),this[_0x1994f5(0x2a4)]=this[_0x1994f5(0x2a4)][_0x1994f5(0xf8)](_0xb49897=>Date[_0x1994f5(0x11c)]()-_0xb49897<this[_0x1994f5(0x54f)]);let _0x51f45d=this['reconnectAttempts']<=0x1?0x0:Math[_0x1994f5(0x783)](Math[_0x1994f5(0x1a1)](0x2,this[_0x1994f5(0x2d0)]-0x1)*0x3e8,0x493e0);console[_0x1994f5(0x829)](this[_0x1994f5(0x4d8)]+_0x1994f5(0x681)+this['reconnectAttempts']+_0x1994f5(0x4df)+_0x51f45d/0x3e8+_0x1994f5(0x7e9)),await new Promise(_0x444663=>setTimeout(_0x444663,_0x51f45d)),console[_0x1994f5(0x829)](_0x1994f5(0x7bf)),await this['connectToWhatsapp']();}else{this[_0x1994f5(0x2db)](_0x1994f5(0x542),{'instance':this['instance'][_0x1994f5(0x4f7)],'status':_0x1994f5(0x130)}),this[_0x1994f5(0x753)][_0x1994f5(0x25f)]['isConnected']=!0x1,this[_0x1994f5(0x471)][_0x1994f5(0x75e)][_0x1994f5(0x85c)](this[_0x1994f5(0x4d8)]),this[_0x1994f5(0x471)][_0x1994f5(0x2d5)][_0x1994f5(0x4a5)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1994f5(0x753)]['name']);try{this[_0x1994f5(0x74b)]['verbose'](this[_0x1994f5(0x4d8)]+'\x20('+this[_0x1994f5(0x753)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x466667=await this['repository'][_0x1994f5(0x35e)][_0x1994f5(0x5ba)](this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]);_0x466667[_0x1994f5(0x503)]?this[_0x1994f5(0x74b)][_0x1994f5(0x56b)](this[_0x1994f5(0x4d8)]+'\x20('+this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0x1994f5(0x74b)]['error']('Falha\x20ao\x20deletar\x20a\x20coleo\x20de\x20mensagens:\x20'+_0x466667[_0x1994f5(0x310)]);}catch(_0x3b0baa){this[_0x1994f5(0x74b)][_0x1994f5(0x310)](_0x1994f5(0x325)+_0x3b0baa['message']);}this['instance'][_0x1994f5(0x25f)][_0x1994f5(0x6e4)]!==null&&(this['logger']['verbose'](this[_0x1994f5(0x4d8)]+'\x20('+this['instance'][_0x1994f5(0x3b8)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x1994f5(0x753)][_0x1994f5(0x25f)][_0x1994f5(0x6e4)]),this[_0x1994f5(0x753)][_0x1994f5(0x25f)][_0x1994f5(0x6e4)]=null),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]+_0x1994f5(0x1ea)),this[_0x1994f5(0x3b9)]=null,this['eventEmitter']['emit'](_0x1994f5(0x11e),this[_0x1994f5(0x753)]['name'],_0x1994f5(0x3b4)),this['client']?.['ws']?.[_0x1994f5(0x2c6)](),this[_0x1994f5(0x136)]['end'](new Error(_0x1994f5(0x3f6)));}}if(_0x456be7===_0x1994f5(0x232)){this[_0x1994f5(0x74b)][_0x1994f5(0x1f1)](this['instanceName']+'\x20('+this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]+_0x1994f5(0x4c0)+this[_0x1994f5(0x136)][_0x1994f5(0x295)][_0x1994f5(0x65a)]?.[_0x1994f5(0x13c)]),this[_0x1994f5(0x136)][_0x1994f5(0x295)][_0x1994f5(0x65a)]?.['myAppStateKeyId']||(this[_0x1994f5(0x74b)][_0x1994f5(0x1f1)](this['instanceName']+'\x20('+this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]+_0x1994f5(0x5db)),this['client']['ev'][_0x1994f5(0x6a8)]()),this[_0x1994f5(0x845)],this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]=this[_0x1994f5(0x136)][_0x1994f5(0x792)]['id'][_0x1994f5(0x828)](/:\d+/,'')['replace'](_0x1994f5(0x1fc),''),this[_0x1994f5(0x753)][_0x1994f5(0x19d)]=(await this['profilePicture'](this[_0x1994f5(0x753)][_0x1994f5(0x3b8)]+_0x1994f5(0x1fc)))[_0x1994f5(0x19d)],this[_0x1994f5(0x471)][_0x1994f5(0x2d5)][_0x1994f5(0x4a5)]({'online':!0x0,'owner':this[_0x1994f5(0x753)][_0x1994f5(0x3b8)],'lastDisconnect':null},this[_0x1994f5(0x753)][_0x1994f5(0x4f7)]);let _0xdc284f=_0x1994f5(0x4c7)+this['instance'][_0x1994f5(0x3b8)],_0x2b7791=0x28,_0x457dd3=Math[_0x1994f5(0x66d)]((_0x2b7791-_0xdc284f[_0x1994f5(0xf4)])/0x2),_0x211835='\x20'[_0x1994f5(0x131)](_0x457dd3),_0x4eb002='CONECTADO\x20\x20UAZAPI',_0x2e92c3=_0x1994f5(0x865)+this['instance'][_0x1994f5(0x4f7)],_0x359b8a=(''+_0x211835+_0xdc284f+_0x211835)['padEnd'](_0x2b7791,'\x20'),_0x6bf1b9=(''+_0x211835+_0x4eb002+_0x211835)[_0x1994f5(0x70e)](_0x2b7791,'\x20'),_0x390f68=(''+_0x211835+_0x2e92c3+_0x211835)['padEnd'](_0x2b7791,'\x20'),_0x4490d9=Math[_0x1994f5(0x561)](_0x359b8a['length'],_0x6bf1b9['length'],_0x390f68['length']),_0x4b7630=_0x359b8a[_0x1994f5(0x70e)](_0x4490d9,'\x20'),_0x5c8fb2=_0x6bf1b9[_0x1994f5(0x70e)](_0x4490d9,'\x20'),_0x5091d1=_0x390f68[_0x1994f5(0x70e)](_0x4490d9,'\x20');this[_0x1994f5(0x74b)][_0x1994f5(0x4f5)]((_0x1994f5(0x68c)+''['repeat'](_0x4490d9)+_0x1994f5(0x810)+_0x5c8fb2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5091d1+_0x1994f5(0x389)+_0x4b7630+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+''[_0x1994f5(0x131)](_0x4490d9)+'')[_0x1994f5(0x828)](/^ +/gm,'\x20\x20')),this[_0x1994f5(0x84a)](),this['instance']['ScheduleMessage'][_0x1994f5(0x454)]=!0x0;}}[a0_0x217659(0x845)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0x217659(0x20b)](_0x2783ab,_0x58391d=!0x1){const _0xeeffaa=a0_0x217659;try{let _0x4e94d7=await this['repository'][_0xeeffaa(0x35e)][_0xeeffaa(0x6b5)]({'where':{'_id':_0x2783ab['id']}},this[_0xeeffaa(0x753)][_0xeeffaa(0x3b8)]);return _0x58391d?_0x4e94d7[0x0]:_0x4e94d7[0x0][_0xeeffaa(0x35e)];}catch{return{'conversation':''};}}[a0_0x217659(0x40e)](){const _0x2ad18e=a0_0x217659;let _0x34b442=this['configService'][_0x2ad18e(0x3f4)]('STORE'),_0x25a227=this[_0x2ad18e(0x4e1)][_0x2ad18e(0x3f4)](_0x2ad18e(0x3e2));_0x34b442?.[_0x2ad18e(0x18a)]&&!_0x25a227[_0x2ad18e(0x858)]&&setInterval(()=>{const _0x325c28=_0x2ad18e;try{for(let [_0x46671b,_0x5b377f]of Object[_0x325c28(0x814)](_0x34b442))_0x5b377f===!0x0&&(0x0,Ue[_0x325c28(0x105)])('rm\x20-rf\x20'+(0x0,j[_0x325c28(0x4f2)])(this[_0x325c28(0x614)],_0x46671b[_0x325c28(0x43a)](),this[_0x325c28(0x753)][_0x325c28(0x3b8)])+'/*.json');}catch{}},(_0x34b442?.[_0x2ad18e(0x18a)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x33c7dd=a0_0x217659;let _0x468098=this[_0x33c7dd(0x4e1)][_0x33c7dd(0x3f4)](_0x33c7dd(0x3e2)),_0x35bd31=this['configService'][_0x33c7dd(0x3f4)](_0x33c7dd(0x25a));return _0x35bd31?.[_0x33c7dd(0x858)]?await Os(_0x35bd31,this['instance'][_0x33c7dd(0x4f7)]):_0x468098[_0x33c7dd(0x858)]?await _s(this[_0x33c7dd(0x753)]['name']):await(0x0,w[_0x33c7dd(0x1ef)])((0x0,j['join'])(be,this[_0x33c7dd(0x753)]['name']));}async[a0_0x217659(0x84a)](){const _0xefbc08=a0_0x217659;let _0x4a67c1=()=>Math[_0xefbc08(0x66d)](Math[_0xefbc08(0x584)]()*0x4e21)+0x7d0,_0x5d8ea7=async()=>{const _0x469905=_0xefbc08;if(!this[_0x469905(0x753)][_0x469905(0x25f)][_0x469905(0x454)]){this[_0x469905(0x74b)][_0x469905(0x56b)](this[_0x469905(0x4d8)]+'\x20('+this[_0x469905(0x753)][_0x469905(0x3b8)]+_0x469905(0x5e6)),this[_0x469905(0x326)]=!0x1;return;}if(this[_0x469905(0x753)]['wuid']&&this[_0x469905(0x3b9)]&&this[_0x469905(0x753)][_0x469905(0x25f)][_0x469905(0x6e4)]!==null&&this['instance']['ScheduleMessage'][_0x469905(0x6e4)]!==void 0x0){let _0x139073=Math[_0x469905(0x75f)](this[_0x469905(0x753)][_0x469905(0x25f)][_0x469905(0x6e4)]/0xea60);this[_0x469905(0x74b)][_0x469905(0x56b)](this[_0x469905(0x4d8)]+'\x20('+this['instance'][_0x469905(0x3b8)]+_0x469905(0x683)+_0x139073+_0x469905(0x6da)),this[_0x469905(0x326)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x469905(0x74b)][_0x469905(0x56b)](this[_0x469905(0x4d8)]+'\x20('+this['instance'][_0x469905(0x3b8)]+'):\x20condies\x20no\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x469905(0x3b9)]||(await this[_0x469905(0x111)](),this[_0x469905(0x14b)](),this['synchronizeAndMapFlows']()),(this['instance'][_0x469905(0x25f)][_0x469905(0x6e4)]===null||this[_0x469905(0x753)][_0x469905(0x25f)]['delayMessage']===void 0x0)&&await this[_0x469905(0xf3)]());if(this[_0x469905(0x326)]){let _0x29f502=_0x4a67c1();this[_0x469905(0x74b)]['verbose'](this[_0x469905(0x4d8)]+_0x469905(0x208)+_0x29f502/0x3e8+_0x469905(0x61e)),setTimeout(_0x5d8ea7,_0x29f502);}};if(this[_0xefbc08(0x326)])return;this[_0xefbc08(0x326)]=!0x0;let _0x1b1590=_0x4a67c1();setTimeout(_0x5d8ea7,_0x1b1590);}async[a0_0x217659(0x573)](){const _0x37a72d=a0_0x217659;let _0x218134=this['instance'][_0x37a72d(0x3b8)];try{let _0x1a6fe1=await this[_0x37a72d(0x471)]['flow']['findAll']({'where':{'$or':[{'owner':_0x218134},{'whoCanUse':{'$in':[_0x218134]}},{'shareOwners':{'$in':[_0x218134]}}]}}),_0x2e0e13=new Map(this[_0x37a72d(0x3b9)][_0x37a72d(0x2d9)][_0x37a72d(0x557)](_0x19f179=>[_0x19f179[_0x37a72d(0x353)],_0x19f179])),_0x2f95fe=_0x1a6fe1[_0x37a72d(0x557)](_0x15b52d=>{const _0x248423=_0x37a72d;let _0x1ffbbc=_0x2e0e13['get'](_0x15b52d[_0x248423(0x353)]?.['toString']());return{'_id':_0x15b52d[_0x248423(0x353)]?.[_0x248423(0x76d)](),'name':_0x1ffbbc?.[_0x248423(0x4f7)]??_0x15b52d['name'],'default':_0x1ffbbc?.['default']??_0x15b52d['default']??!0x1,'startCommand':_0x1ffbbc?.[_0x248423(0x12e)]??_0x15b52d[_0x248423(0x7d4)],'minutesToClose':_0x1ffbbc?.[_0x248423(0x7be)]??_0x15b52d[_0x248423(0x7be)]??0xa,'readMessages':_0x1ffbbc?.['readMessages']??_0x15b52d['readMessages']??!0x1,'testingWith':_0x1ffbbc?.[_0x248423(0x6cf)]??_0x15b52d[_0x248423(0x6cf)],'canEdit':_0x15b52d[_0x248423(0x401)]===_0x218134||(_0x15b52d[_0x248423(0x2d8)]??[])[_0x248423(0x2f7)](_0x218134),'usersCount':(_0x15b52d[_0x248423(0x16f)]??[])[_0x248423(0xf4)]??0x0};}),_0x529553=!0x1;_0x2f95fe[_0x37a72d(0x3f7)](_0x39973e=>{const _0x276ff9=_0x37a72d;_0x39973e['default']&&(_0x529553?_0x39973e[_0x276ff9(0x85a)]=!0x1:_0x529553=!0x0);}),this[_0x37a72d(0x3b9)][_0x37a72d(0x2d9)]=_0x2f95fe;let _0x5795d8={'flows':_0x2f95fe};return await this[_0x37a72d(0x471)][_0x37a72d(0x6a2)][_0x37a72d(0x772)](_0x5795d8,_0x218134),this[_0x37a72d(0x74b)][_0x37a72d(0x56b)](this[_0x37a72d(0x4d8)]+'\x20('+_0x218134+_0x37a72d(0x39b)),_0x2f95fe[_0x37a72d(0xf4)];}catch(_0x57c2b2){return this[_0x37a72d(0x74b)][_0x37a72d(0x310)](this[_0x37a72d(0x4d8)]+'\x20('+_0x218134+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x57c2b2 instanceof Error?_0x57c2b2[_0x37a72d(0x35e)]:JSON[_0x37a72d(0x176)](_0x57c2b2,null,0x2))),{'message':_0x37a72d(0x5a7)+(_0x57c2b2 instanceof Error?_0x57c2b2[_0x37a72d(0x35e)]:JSON[_0x37a72d(0x176)](_0x57c2b2,null,0x2))};}}async[a0_0x217659(0x680)](_0x50773f){const _0x1f1bf9=a0_0x217659;try{let _0x2eb8b3=await this[_0x1f1bf9(0x471)][_0x1f1bf9(0x753)][_0x1f1bf9(0x567)]({'where':{'_id':he+'-'+this['instanceName']}}),_0x2c5225,_0x1a6a73=!Le[_0x1f1bf9(0x2e0)]||!Le[_0x1f1bf9(0x800)];console[_0x1f1bf9(0x829)](_0x1f1bf9(0x251)),console[_0x1f1bf9(0x829)](_0x1f1bf9(0x3dc),Ai),console[_0x1f1bf9(0x829)]('this.reconnectAttempts:\x20',this[_0x1f1bf9(0x2d0)]),console[_0x1f1bf9(0x829)](_0x1f1bf9(0x251)),Ai&&!_0x1a6a73&&(this[_0x1f1bf9(0x2d0)]<0x4||!this[_0x1f1bf9(0x2d0)]?_0x2eb8b3&&_0x2eb8b3['ip']?(_0x2c5225=_0x2eb8b3['ip'],console[_0x1f1bf9(0x829)]('Usando\x20IP\x20existente:\x20'+_0x2c5225)):(_0x2c5225=await Le[_0x1f1bf9(0x3a5)](he,this['instance'][_0x1f1bf9(0x4f7)]),_0x2c5225?(console[_0x1f1bf9(0x829)](_0x1f1bf9(0x5d8)+_0x2c5225),await(0x0,w['delay'])(0x7d0)):console['error'](_0x1f1bf9(0x2b4))):this[_0x1f1bf9(0x2d0)]<0x6&&(console['log'](_0x1f1bf9(0x1ca)),_0x2c5225=await Le[_0x1f1bf9(0x3a5)](he,this['instance'][_0x1f1bf9(0x4f7)]),_0x2c5225?(console[_0x1f1bf9(0x829)](_0x1f1bf9(0x5d8)+_0x2c5225),await(0x0,w[_0x1f1bf9(0x35b)])(0x7d0)):console[_0x1f1bf9(0x310)](_0x1f1bf9(0x2b0)))),this['loadWebhook'](),this[_0x1f1bf9(0x753)][_0x1f1bf9(0x63a)]=(await this['repository'][_0x1f1bf9(0x2d5)][_0x1f1bf9(0x6b5)](this[_0x1f1bf9(0x753)][_0x1f1bf9(0x4f7)]))[_0x1f1bf9(0x63a)],this[_0x1f1bf9(0x753)][_0x1f1bf9(0x295)]=await this['defineAuthState']();let _0x1b53af=[xi,Us,(0x0,ks[_0x1f1bf9(0x241)])()],_0xf8ea04={'localAddress':_0x2c5225,'auth':{'creds':this['instance'][_0x1f1bf9(0x295)][_0x1f1bf9(0x59f)]['creds'],'keys':(0x0,w[_0x1f1bf9(0x655)])(this[_0x1f1bf9(0x753)]['authState']['state'][_0x1f1bf9(0x669)],(0x0,Ft[_0x1f1bf9(0x85a)])({'level':_0x1f1bf9(0x310)}))},'logger':(0x0,Ft[_0x1f1bf9(0x85a)])({'level':_0x1f1bf9(0x310)}),'printQRInTerminal':!0x1,'browser':_0x50773f?[_0x1f1bf9(0x440),Us,(0x0,ks[_0x1f1bf9(0x241)])()]:_0x1b53af,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x410087=>{const _0x4512f7=_0x1f1bf9;let _0x339fcd=this[_0x4512f7(0x200)]?.['groups_ignore']&&(0x0,w['isJidGroup'])(_0x410087);return(0x0,w[_0x4512f7(0x4d3)])(_0x410087)||_0x339fcd;},'msgRetryCounterCache':this[_0x1f1bf9(0x2e4)],'getMessage':async _0x5ea28b=>await this[_0x1f1bf9(0x20b)](_0x5ea28b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1f1bf9(0x773)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x308146){const _0x1484f8=_0x1f1bf9;return _0x308146[_0x1484f8(0x467)]?.[_0x1484f8(0x35e)]?.[_0x1484f8(0x60d)]?.['listType']===w['proto']['Message'][_0x1484f8(0x233)][_0x1484f8(0x6e7)][_0x1484f8(0x45a)]&&(_0x308146=JSON[_0x1484f8(0x7eb)](JSON[_0x1484f8(0x176)](_0x308146)),_0x308146['deviceSentMessage'][_0x1484f8(0x35e)][_0x1484f8(0x60d)]['listType']=w['proto'][_0x1484f8(0xf9)][_0x1484f8(0x233)][_0x1484f8(0x6e7)][_0x1484f8(0x671)]),_0x308146[_0x1484f8(0x60d)]?.[_0x1484f8(0x158)]==w[_0x1484f8(0x833)]['Message']['ListMessage'][_0x1484f8(0x6e7)][_0x1484f8(0x45a)]&&(_0x308146=JSON[_0x1484f8(0x7eb)](JSON[_0x1484f8(0x176)](_0x308146)),_0x308146[_0x1484f8(0x60d)][_0x1484f8(0x158)]=w[_0x1484f8(0x833)]['Message'][_0x1484f8(0x233)][_0x1484f8(0x6e7)][_0x1484f8(0x671)]),_0x308146;}};return this['endSession']=!0x1,this[_0x1f1bf9(0x136)]=(0x0,w['default'])(_0xf8ea04),this[_0x1f1bf9(0x61c)](),this[_0x1f1bf9(0x4ac)]=_0x50773f,this[_0x1f1bf9(0x136)];}catch(_0x1de4d){let _0x15e044=_0x1f1bf9(0x25b),_0x1e98aa=_0x1de4d instanceof Error?_0x1de4d[_0x1f1bf9(0x35e)]:typeof _0x1de4d==_0x1f1bf9(0x6ae)?JSON['stringify'](_0x1de4d):_0x1de4d,_0x21e36c=_0x15e044+':\x20'+_0x1e98aa;throw this['logger'][_0x1f1bf9(0x310)](this[_0x1f1bf9(0x4d8)]+'\x20('+this[_0x1f1bf9(0x753)]['wuid']+'):\x20'+_0x21e36c),console[_0x1f1bf9(0x310)](_0x1f1bf9(0x894),_0x1de4d),_0x1de4d instanceof Error&&console[_0x1f1bf9(0x310)](_0x1f1bf9(0x85f),_0x1de4d[_0x1f1bf9(0x86c)]),new x(_0x21e36c);}}[a0_0x217659(0x61c)](){const _0x2d49f7=a0_0x217659;this['client']['ev'][_0x2d49f7(0x275)](_0x645113=>{const _0x15672f=_0x2d49f7;if(!this[_0x15672f(0x311)]){let _0x4f5224=this[_0x15672f(0x4e1)][_0x15672f(0x3f4)](_0x15672f(0x3e2));if(_0x645113[_0x15672f(0x5c2)]){let _0x231dcf=_0x645113[_0x15672f(0x5c2)];this['messageHandle'][_0x15672f(0x5c2)](_0x231dcf);}if(_0x645113[_0x15672f(0x332)]){let _0x37766e=_0x645113['labels.association'];this['messageHandle'][_0x15672f(0x332)](_0x37766e);}if(_0x645113[_0x15672f(0x27a)]&&this['connectionUpdate'](_0x645113[_0x15672f(0x27a)]),_0x645113[_0x15672f(0x29b)]&&this[_0x15672f(0x753)][_0x15672f(0x295)][_0x15672f(0x2de)](),_0x645113[_0x15672f(0x4e0)]){let _0x154883=_0x645113[_0x15672f(0x4e0)];this[_0x15672f(0x515)][_0x15672f(0x4e0)](_0x154883,_0x4f5224);}if(_0x645113['messages.upsert']){let _0x166309=_0x645113['messages.upsert'];this[_0x15672f(0x515)][_0x15672f(0x547)](_0x166309,_0x4f5224);}if(_0x645113[_0x15672f(0x331)]){let _0x183725=_0x645113[_0x15672f(0x331)];this['messageHandle'][_0x15672f(0x331)](_0x183725,_0x4f5224);}if(_0x645113[_0x15672f(0x5d2)]){let _0x471ae3=_0x645113[_0x15672f(0x5d2)];if(this[_0x15672f(0x200)]?.['groups_ignore']&&_0x471ae3['id']['includes'](_0x15672f(0x62c)))return;this[_0x15672f(0x2db)](_0x15672f(0x5d2),_0x471ae3);}if(_0x645113[_0x15672f(0x16a)]){let _0x5920f9=_0x645113[_0x15672f(0x16a)];this['groupHandler'][_0x15672f(0x16a)](_0x5920f9);}if(_0x645113[_0x15672f(0x58b)]){let _0x17f096=_0x645113[_0x15672f(0x58b)];this[_0x15672f(0x339)][_0x15672f(0x58b)](_0x17f096);}if(_0x645113[_0x15672f(0x2e5)]){let _0x41615c=_0x645113[_0x15672f(0x2e5)];this[_0x15672f(0x339)][_0x15672f(0x2e5)](_0x41615c);}if(_0x645113[_0x15672f(0x68e)]){let _0x12e9e3=_0x645113['chats.upsert'];this[_0x15672f(0x46a)][_0x15672f(0x68e)](_0x12e9e3,_0x4f5224);}if(_0x645113[_0x15672f(0x7a6)]){let _0x3643b3=_0x645113['chats.update'];this[_0x15672f(0x46a)]['chats.update'](_0x3643b3,_0x4f5224);}if(_0x645113[_0x15672f(0x41b)]){let _0x26e526=_0x645113[_0x15672f(0x41b)];this[_0x15672f(0x46a)][_0x15672f(0x41b)](_0x26e526);}if(_0x645113[_0x15672f(0x22a)]){let _0x26dda3=_0x645113['contacts.upsert'];this[_0x15672f(0x808)][_0x15672f(0x22a)](_0x26dda3,_0x4f5224);}if(_0x645113['contacts.update']){let _0x8aa268=_0x645113['contacts.update'];this[_0x15672f(0x808)][_0x15672f(0x11d)](_0x8aa268,_0x4f5224);}}});}async[a0_0x217659(0x450)](_0x534161,_0x5cba57){const _0x57f9c1=a0_0x217659;if(_0x5cba57>=0xa){console['error'](this['instanceName']+'\x20('+this[_0x57f9c1(0x753)][_0x57f9c1(0x3b8)]+_0x57f9c1(0x347)),delete Lt[_0x534161[_0x57f9c1(0x202)]['id']];return;}try{console['error'](this['instanceName']+'\x20('+this['instance'][_0x57f9c1(0x3b8)]+_0x57f9c1(0x133)+(_0x5cba57+0x1)),await this[_0x57f9c1(0x136)][_0x57f9c1(0x229)](JSON[_0x57f9c1(0x7eb)](_0x534161['messageStubParameters'][0x1],w['BufferJSON'][_0x57f9c1(0x36d)])),console['error']('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x5e392c){console['error'](this[_0x57f9c1(0x4d8)]+'\x20('+this['instance']['wuid']+_0x57f9c1(0x1a6)+_0x5e392c),setTimeout(()=>this['retrySendMessage'](_0x534161,_0x5cba57+0x1),Math[_0x57f9c1(0x1a1)](0x2,_0x5cba57)*0x3e8);}}async['fakeReceived'](_0x253420){const _0x16d29d=a0_0x217659;let _0x2185a5=_0x253420['key']['remoteJid'][_0x16d29d(0x464)](_0x16d29d(0x62c)),_0x50cdaf;if(_0x253420[_0x16d29d(0x202)][_0x16d29d(0x1f3)])_0x50cdaf=this[_0x16d29d(0x753)]['profilePictureUrl'];else{let _0x487c1d=_0x2185a5?_0x253420[_0x16d29d(0x202)][_0x16d29d(0x281)]:_0x253420[_0x16d29d(0x202)][_0x16d29d(0x3cc)];_0x50cdaf=(await this[_0x16d29d(0x499)](_0x487c1d,_0x253420[_0x16d29d(0x4ef)],!0x1))[_0x16d29d(0x439)][_0x16d29d(0x3d8)];}_0x253420[_0x16d29d(0x18e)]&&_0x253420['messageTimestamp'][_0x16d29d(0x76d)]()['length']<0xd&&(_0x253420[_0x16d29d(0x18e)]=_0x253420[_0x16d29d(0x18e)]*0x3e8);let _0x59904b={'_id':_0x253420[_0x16d29d(0x202)]['id'],'key':_0x253420['key'],'isGroup':_0x2185a5,'profilePictureUrl':_0x50cdaf,'pushName':_0x253420[_0x16d29d(0x4ef)],'message':{'text':_0x16d29d(0x7c8)},'messageType':_0x16d29d(0x310),'message_normalized':{'key':_0x253420[_0x16d29d(0x202)],'pushName':_0x253420['pushName'],'messageTimestamp':_0x253420[_0x16d29d(0x18e)],'source':(0x0,w['getDevice'])(_0x253420[_0x16d29d(0x202)]['id']),'text':'Mensagem\x20perdida,\x20no\x20foi\x20possvel\x20descriptograf-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualiz-la'},'messageTimestamp':_0x253420[_0x16d29d(0x18e)],'owner':this[_0x16d29d(0x753)][_0x16d29d(0x3b8)],'source':(0x0,w['getDevice'])(_0x253420['key']['id'])};this[_0x16d29d(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x16d29d(0x753)][_0x16d29d(0x3b8)]+'):\x20'+(_0x59904b[_0x16d29d(0x202)]?.[_0x16d29d(0x1f3)]?_0x16d29d(0x745):_0x16d29d(0x44e))+'\x20['+_0x59904b[_0x16d29d(0x202)]?.['remoteJid']['replace']('@s.whatsapp.net','')+']\x20('+_0x59904b[_0x16d29d(0x719)]+')'),_0x59904b[_0x16d29d(0x575)]?.[_0x16d29d(0x1dc)]&&this['logger'][_0x16d29d(0x310)](_0x253420['key']['id']+':\x20'+_0x59904b['message_normalized']?.[_0x16d29d(0x1dc)]),await this[_0x16d29d(0x471)][_0x16d29d(0x35e)][_0x16d29d(0x2bc)]([_0x59904b],this[_0x16d29d(0x753)][_0x16d29d(0x3b8)]),await this[_0x16d29d(0x471)]['messageLogs'][_0x16d29d(0x2bc)]([_0x59904b]),this['sendDataWebhook']('messages.upsert',_0x59904b),F(this[_0x16d29d(0x4d8)],_0x16d29d(0x7df),{'message':_0x59904b});}[a0_0x217659(0x165)](_0x327720){return new Promise(_0x27989f=>setTimeout(_0x27989f,_0x327720));}[a0_0x217659(0x1b6)](_0x24896c){const _0x351fd0=a0_0x217659;_0x24896c=_0x24896c[_0x351fd0(0x828)](/\D/g,'');let _0x1c8d8e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x351fd0(0x341)](_0x24896c);if(_0x1c8d8e&&_0x1c8d8e[0x1]==='55'){let _0x257464=_0x1c8d8e[0x2],_0x151138=_0x1c8d8e[0x3],_0x10b1fb=_0x1c8d8e[0x4];if(parseInt(_0x257464)>=0x1f&&_0x151138==='9')return _0x1c8d8e[0x1]+_0x257464+_0x10b1fb;}return _0x24896c;}[a0_0x217659(0x1af)](_0x4cc803){const _0x34fa0e=a0_0x217659;return _0x4cc803['includes'](_0x34fa0e(0x62c))||_0x4cc803[_0x34fa0e(0x2f7)](_0x34fa0e(0x1fc))||_0x4cc803[_0x34fa0e(0x2f7)]('@broadcast')?_0x4cc803:(_0x4cc803=_0x4cc803?.[_0x34fa0e(0x828)](/\s/g,'')['replace'](/\+/g,'')[_0x34fa0e(0x828)](/\(/g,'')[_0x34fa0e(0x828)](/\)/g,'')[_0x34fa0e(0x6a1)](/\:/)[0x0][_0x34fa0e(0x6a1)]('@')[0x0],_0x4cc803[_0x34fa0e(0xf4)]>=0x12?(_0x4cc803=_0x4cc803['replace'](/[^\d-]/g,''),_0x4cc803+_0x34fa0e(0x62c)):(_0x4cc803=_0x4cc803[_0x34fa0e(0x828)](/\D/g,''),_0x4cc803+_0x34fa0e(0x1fc)));}async[a0_0x217659(0x3fc)](_0x5a65cf){const _0x33ff1e=a0_0x217659;let _0x12e51c=(await this[_0x33ff1e(0x148)]({'numbers':[_0x5a65cf['number']]}))[0x0];if(!_0x12e51c[_0x33ff1e(0x799)]&&!(0x0,w[_0x33ff1e(0x463)])(_0x12e51c[_0x33ff1e(0x560)])&&!_0x12e51c[_0x33ff1e(0x560)][_0x33ff1e(0x2f7)](_0x33ff1e(0x214)))throw new m(_0x12e51c);let _0x188591=_0x12e51c[_0x33ff1e(0x560)];try{return await this[_0x33ff1e(0x136)][_0x33ff1e(0x15b)](_0x188591),await this[_0x33ff1e(0x136)][_0x33ff1e(0x566)](_0x5a65cf[_0x33ff1e(0x128)],_0x188591),{'status':0xc8,'presence':_0x5a65cf[_0x33ff1e(0x128)]};}catch(_0x3a31ee){let _0x587e4b=_0x33ff1e(0x3a2),_0x594864=_0x3a31ee instanceof Error?_0x3a31ee['message']:typeof _0x3a31ee==_0x33ff1e(0x6ae)?JSON[_0x33ff1e(0x176)](_0x3a31ee):_0x3a31ee,_0x35677e=_0x587e4b+':\x20'+_0x594864;throw this[_0x33ff1e(0x74b)][_0x33ff1e(0x310)](this[_0x33ff1e(0x4d8)]+'\x20('+this[_0x33ff1e(0x753)]['wuid']+_0x33ff1e(0x839)+_0x35677e),new m(_0x35677e);}}async[a0_0x217659(0x499)](_0x3b86a5,_0x2c2519,_0x5db4a3,_0x346341=!0x0){const _0x4315b1=a0_0x217659;let _0x4a9ad0=await this[_0x4315b1(0x471)][_0x4315b1(0x820)][_0x4315b1(0x567)]({'where':{'_id':_0x3b86a5}});if(!_0x4a9ad0&&!_0x346341)return;let _0x1a6043={'lastUpdate':Date[_0x4315b1(0x11c)]()};if(_0x5db4a3||!_0x4a9ad0?.['lastUpdate']||Date[_0x4315b1(0x11c)]()-_0x4a9ad0[_0x4315b1(0x1ac)]>0x18*0x3c*0x3c*0x3e8)try{let _0x3d141e=(await this[_0x4315b1(0x83b)](_0x3b86a5))[_0x4315b1(0x19d)];_0x1a6043[_0x4315b1(0x3d8)]=_0x3d141e;}catch(_0x571996){let _0x39fcc6=_0x4315b1(0x17d),_0x745c4a=_0x571996 instanceof Error?_0x571996[_0x4315b1(0x35e)]:typeof _0x571996==_0x4315b1(0x6ae)?JSON['stringify'](_0x571996):_0x571996,_0x55ea32=_0x39fcc6+':\x20'+_0x745c4a;throw this['logger'][_0x4315b1(0x310)](this[_0x4315b1(0x4d8)]+'\x20('+this[_0x4315b1(0x753)][_0x4315b1(0x3b8)]+_0x4315b1(0x839)+_0x55ea32),new m(_0x55ea32);}return _0x2c2519&&_0x4a9ad0?.[_0x4315b1(0x4f7)]!==_0x2c2519&&(_0x1a6043[_0x4315b1(0x4f7)]=_0x2c2519),Object[_0x4315b1(0x669)](_0x1a6043)[_0x4315b1(0xf4)]>0x1&&(_0x4a9ad0?await this[_0x4315b1(0x471)][_0x4315b1(0x820)][_0x4315b1(0x772)]({'where':{'_id':_0x3b86a5}},_0x1a6043):await this[_0x4315b1(0x471)][_0x4315b1(0x820)][_0x4315b1(0x2bc)]([{'_id':_0x3b86a5,..._0x1a6043}]),_0x4a9ad0={..._0x4a9ad0,..._0x1a6043}),{'cachedContact':_0x4a9ad0};}async[a0_0x217659(0x83b)](_0x4a99ba){const _0x3ee3e4=a0_0x217659;let _0x47bf35=this[_0x3ee3e4(0x1af)](_0x4a99ba);try{return{'wuid':_0x47bf35,'profilePictureUrl':await this[_0x3ee3e4(0x136)][_0x3ee3e4(0x19d)](_0x47bf35,'image')};}catch{return{'wuid':_0x47bf35,'profilePictureUrl':null};}}async[a0_0x217659(0x82f)](_0x4f1ae6,_0x5bf93d,_0x2d9d07){const _0x263521=a0_0x217659;let _0x72ddd0=0x0;for(;_0x72ddd0<0x5;)try{return await this[_0x263521(0x2fb)](_0x4f1ae6,_0x5bf93d,_0x2d9d07);}catch(_0x2be4b0){if(_0x72ddd0++,_0x2be4b0 instanceof Error&&_0x2be4b0[_0x263521(0x35e)]===_0x263521(0x548)){if(_0x72ddd0>=0x5)throw new m('Falha\x20aps\x205\x20tentativas:\x20'+_0x2be4b0['message']);this['logger']['warn']('Tentativa\x20'+_0x72ddd0+_0x263521(0x1e2)+_0x2be4b0[_0x263521(0x35e)]+_0x263521(0x59a)+0x1388/0x3e8+'\x20segundos...'),await new Promise(_0x195841=>setTimeout(_0x195841,0x1388));}else throw new m(_0x2be4b0[_0x263521(0x35e)]);}}async['sendMessageWithTyping'](_0x73fb9d,_0x5a94d9,_0x5204a4){const _0x17b406=a0_0x217659;let _0x35cca9;try{let _0x3279a2=(await this[_0x17b406(0x148)]({'numbers':[_0x73fb9d]}))?.[_0x17b406(0x335)]();if(!_0x3279a2[_0x17b406(0x799)]&&!(0x0,w['isJidGroup'])(_0x3279a2['jid'])&&!_0x3279a2[_0x17b406(0x560)][_0x17b406(0x2f7)](_0x17b406(0x214)))throw new m(_0x3279a2);_0x35cca9=_0x3279a2[_0x17b406(0x560)];}catch(_0x3440ef){_0x35cca9=_0x73fb9d,this[_0x17b406(0x74b)][_0x17b406(0x1f1)](this['instanceName']+'\x20('+this[_0x17b406(0x753)][_0x17b406(0x3b8)]+'):\x20error:\x20'+_0x3440ef[_0x17b406(0x35e)]),this[_0x17b406(0x74b)][_0x17b406(0x1f1)](this['instanceName']+'\x20('+this[_0x17b406(0x753)][_0x17b406(0x3b8)]+_0x17b406(0x31c)+_0x35cca9);}try{if(_0x35cca9||(_0x35cca9=_0x73fb9d,this['logger'][_0x17b406(0x1f1)](this['instanceName']+'\x20('+this[_0x17b406(0x753)][_0x17b406(0x3b8)]+_0x17b406(0x870)+_0x35cca9)),_0x5204a4||(_0x5204a4={}),_0x5204a4?.['delay']){await this[_0x17b406(0x136)][_0x17b406(0x15b)](_0x35cca9),await this[_0x17b406(0x136)]['sendPresenceUpdate'](_0x5204a4?.['presence']??'composing',_0x35cca9);let _0x3a579a=Math[_0x17b406(0x783)](_0x5204a4[_0x17b406(0x35b)],0x2710);await(0x0,w[_0x17b406(0x35b)])(_0x3a579a),await this[_0x17b406(0x136)][_0x17b406(0x566)](_0x17b406(0x380),_0x35cca9);}let _0x1b3696=_0x5204a4?.[_0x17b406(0x31a)]!=!0x1?void 0x0:!0x1,_0x48b12b;if(_0x5204a4?.[_0x17b406(0x6f1)]){let _0x6f1e26=_0x5204a4?.[_0x17b406(0x6f1)],_0x12971f=_0x6f1e26?.[_0x17b406(0x35e)]?_0x6f1e26:await this[_0x17b406(0x20b)](_0x6f1e26['key'],!0x0);_0x12971f&&(_0x48b12b=_0x12971f);}let _0x11f8e0=await this[_0x17b406(0x471)]['chat'][_0x17b406(0x567)]({'where':{'_id':_0x35cca9}},this[_0x17b406(0x753)][_0x17b406(0x3b8)]),_0x5f5867,_0x12af1b=null;if((0x0,w[_0x17b406(0x463)])(_0x35cca9))try{if(_0x12af1b=_0x11f8e0[_0x17b406(0x85b)],!_0x12af1b)throw new U(_0x17b406(0xe9));if(!_0x12af1b[_0x17b406(0x7cb)])throw new m(_0x17b406(0x28f));_0x5204a4?.[_0x17b406(0x824)]&&(_0x5204a4['mentions']?.[_0x17b406(0x5e8)]?_0x5f5867=_0x12af1b[_0x17b406(0x764)][_0x17b406(0x557)](_0x22b785=>_0x22b785['id']):_0x5204a4['mentions']?.[_0x17b406(0x333)]?.['length']&&(_0x5f5867=_0x5204a4[_0x17b406(0x824)][_0x17b406(0x333)]['map'](_0x4fbc96=>{let _0x966ec4=this['createJid'](_0x4fbc96);return(0x0,w['isJidGroup'])(_0x966ec4)?null:_0x966ec4;})));}catch(_0xb4a492){throw _0xb4a492 instanceof U?new U(_0x17b406(0xe9)):_0xb4a492 instanceof m?new m(_0x17b406(0x28f)):new Error(_0x17b406(0x860));}let _0x5d25ee=await((async()=>{const _0x1b0620=_0x17b406;let _0x534eb5={'quoted':_0x48b12b,'ephemeralExpiration':_0x11f8e0?.[_0x1b0620(0x7ad)]??0x0};if(!_0x5a94d9['audio']&&!_0x5a94d9['poll']&&!_0x5a94d9[_0x1b0620(0x21c)]&&!_0x5a94d9[_0x1b0620(0x387)]&&_0x35cca9!==_0x1b0620(0x260)&&_0x5a94d9[_0x1b0620(0x7c0)])return await this[_0x1b0620(0x136)][_0x1b0620(0x664)](_0x35cca9,{'react':{'text':_0x5a94d9[_0x1b0620(0x7c0)][_0x1b0620(0x1dc)],'key':_0x5a94d9['reactionMessage'][_0x1b0620(0x202)]}},_0x534eb5);if(_0x5a94d9[_0x1b0620(0x387)]){let _0x55ef74=_0x5a94d9['conversation'];return _0x5204a4?.[_0x1b0620(0x710)]&&(_0x55ef74=await this[_0x1b0620(0x4b8)](_0x55ef74,_0x35cca9)),await this['client'][_0x1b0620(0x664)](_0x35cca9,{'text':_0x55ef74,'mentions':_0x5f5867,'linkPreview':_0x1b3696},_0x534eb5);}return!_0x5a94d9[_0x1b0620(0x1a2)]&&!_0x5a94d9[_0x1b0620(0x15d)]&&_0x35cca9!=_0x1b0620(0x260)?await this[_0x1b0620(0x136)][_0x1b0620(0x664)](_0x35cca9,{'forward':{'key':{'remoteJid':this['instance'][_0x1b0620(0x3b8)],'fromMe':!0x0},'message':_0x5a94d9},'mentions':_0x5f5867},_0x534eb5):_0x35cca9===_0x1b0620(0x260)?await this[_0x1b0620(0x136)][_0x1b0620(0x664)](_0x35cca9,_0x5a94d9[_0x1b0620(0x381)][_0x1b0620(0x1b2)],{'backgroundColor':_0x5a94d9[_0x1b0620(0x381)]['option']['backgroundColor'],'font':_0x5a94d9[_0x1b0620(0x381)][_0x1b0620(0x4c5)][_0x1b0620(0x523)],'statusJidList':_0x5a94d9['status'][_0x1b0620(0x4c5)][_0x1b0620(0x308)]}):await this[_0x1b0620(0x136)][_0x1b0620(0x664)](_0x35cca9,_0x5a94d9,_0x534eb5);})()),_0x3b87cb=(0x0,w[_0x17b406(0x596)])(_0x5d25ee[_0x17b406(0x35e)]),_0xe37d0a=(0x0,w[_0x17b406(0x5a6)])(_0x3b87cb),{message_normalized:_0x44e080}=this[_0x17b406(0x124)](_0x3b87cb,_0xe37d0a,null),_0x2dfa9b={'_id':_0x5d25ee['key']['id'],'key':_0x5d25ee[_0x17b406(0x202)],'pushName':_0x5d25ee['pushName'],'isGroup':_0x5d25ee['key'][_0x17b406(0x3cc)]['endsWith'](_0x17b406(0x62c)),'profilePictureUrl':this['instance'][_0x17b406(0x19d)],'message':_0x3b87cb,'messageType':_0xe37d0a,'message_normalized':{'key':_0x5d25ee[_0x17b406(0x202)],'pushName':_0x5d25ee[_0x17b406(0x4ef)],'messageTimestamp':_0x5d25ee[_0x17b406(0x18e)]&&_0x5d25ee[_0x17b406(0x18e)][_0x17b406(0x76d)]()['length']<0xd?_0x5d25ee[_0x17b406(0x18e)]*0x3e8:_0x5d25ee[_0x17b406(0x18e)]||null,'source':(0x0,w[_0x17b406(0x65d)])(_0x5d25ee['key']['id']),..._0x44e080},'messageTimestamp':_0x5d25ee['messageTimestamp']&&_0x5d25ee[_0x17b406(0x18e)][_0x17b406(0x76d)]()[_0x17b406(0xf4)]<0xd?_0x5d25ee[_0x17b406(0x18e)]*0x3e8:_0x5d25ee[_0x17b406(0x18e)]||null,'owner':this[_0x17b406(0x753)]['wuid'],'source':(0x0,w[_0x17b406(0x65d)])(_0x5d25ee['key']['id'])};return this['logger']['warn'](this[_0x17b406(0x4d8)]+'\x20('+this[_0x17b406(0x753)]['wuid']+'):\x20enviado\x20para\x20['+_0x2dfa9b[_0x17b406(0x202)]?.[_0x17b406(0x3cc)][_0x17b406(0x828)](_0x17b406(0x1fc),'')+_0x17b406(0x484)+_0x2dfa9b['messageType']+')'),_0x2dfa9b[_0x17b406(0x575)]?.['text']&&this[_0x17b406(0x74b)]['warn'](_0x2dfa9b[_0x17b406(0x575)]?.[_0x17b406(0x1dc)]),this['sendDataWebhook'](_0x17b406(0x458),_0x2dfa9b),F(this[_0x17b406(0x4d8)],_0x17b406(0x7df),{'message':_0x2dfa9b}),this['updateChatWithMessage'](this[_0x17b406(0x4e1)]['get'](_0x17b406(0x3e2)),_0x2dfa9b,_0x17b406(0x12c),_0x11f8e0),await this['repository'][_0x17b406(0x35e)][_0x17b406(0x2bc)]([_0x2dfa9b],this[_0x17b406(0x753)]['wuid']),_0x5d25ee;}catch(_0x5b6cd9){let _0x51a166=_0x17b406(0x1c3)+_0x35cca9,_0x571d8f=_0x5b6cd9 instanceof Error?_0x5b6cd9[_0x17b406(0x35e)]:typeof _0x5b6cd9==_0x17b406(0x6ae)?JSON['stringify'](_0x5b6cd9):_0x5b6cd9,_0x2e8c37=_0x51a166+':\x20'+_0x571d8f;throw this[_0x17b406(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x17b406(0x753)][_0x17b406(0x3b8)]+_0x17b406(0x839)+_0x2e8c37),new m(_0x2e8c37);}}async[a0_0x217659(0x15e)](_0x35c856,_0x10ae04,_0x4bc9fe){const _0x59201e=a0_0x217659;let _0x51c680=this['createJid'](_0x35c856),_0x46bf18=(await this[_0x59201e(0x148)]({'numbers':[_0x51c680]}))[0x0];if(!_0x46bf18['exists']&&!(0x0,w[_0x59201e(0x463)])(_0x46bf18['jid']))throw new m(_0x46bf18);let _0x351a0a=(0x0,w[_0x59201e(0x463)])(_0x51c680)?_0x51c680:_0x46bf18[_0x59201e(0x560)];if((0x0,w[_0x59201e(0x463)])(_0x351a0a))try{await this[_0x59201e(0x136)][_0x59201e(0x272)](_0x351a0a);}catch{throw new m(_0x59201e(0xe6));}try{_0x4bc9fe?.[_0x59201e(0x35b)]&&(await this['client'][_0x59201e(0x15b)](_0x351a0a),await this['client'][_0x59201e(0x566)](_0x4bc9fe?.[_0x59201e(0x128)]??'composing',_0x51c680),await(0x0,w[_0x59201e(0x35b)])(_0x4bc9fe[_0x59201e(0x35b)]),await this[_0x59201e(0x136)][_0x59201e(0x566)](_0x59201e(0x380),_0x351a0a));let _0x1e5de9=await((async()=>{const _0xc177b4=_0x59201e;let _0x44e5ab,_0x50611a=_0xc177b4(0x1a8)+(0x0,oe[_0xc177b4(0x364)])(0x12)[_0xc177b4(0x76d)](_0xc177b4(0x6ea))[_0xc177b4(0x3a8)](),_0x2e27cd=(0x0,w[_0xc177b4(0x2aa)])(_0x351a0a,_0x10ae04,{'timestamp':new Date(),'userJid':this[_0xc177b4(0x753)][_0xc177b4(0x3b8)],'messageId':_0x50611a,'quoted':_0x44e5ab}),_0x583cf8=await this['client']['relayMessage'](_0x351a0a,_0x2e27cd[_0xc177b4(0x35e)],{'messageId':_0x50611a});_0x2e27cd[_0xc177b4(0x202)]={'id':_0x583cf8,'remoteJid':_0x51c680,'participant':(0x0,w['isJidUser'])(_0x51c680)?void 0x0:_0x51c680,'fromMe':!0x0};for(let [_0xef81eb,_0x5becc8]of Object['entries'](_0x2e27cd))(!_0x5becc8||Array[_0xc177b4(0x3d6)](_0x5becc8)&&_0x5becc8[_0xc177b4(0xf4)]===0x0)&&delete _0x2e27cd[_0xef81eb];return this[_0xc177b4(0x136)]['ev'][_0xc177b4(0x267)]('messages.upsert',{'messages':[_0x2e27cd],'type':'notify'}),_0x2e27cd;})()),_0x50a8b7=await this['repository'][_0x59201e(0x856)][_0x59201e(0x567)]({'where':{'_id':_0x351a0a}},this['instance'][_0x59201e(0x3b8)]),_0x14fd92=(0x0,w[_0x59201e(0x596)])(_0x1e5de9[_0x59201e(0x35e)]),_0x5a114d=(0x0,w[_0x59201e(0x5a6)])(_0x14fd92),{message_normalized:_0x46937d}=this['normalizeMessage'](_0x14fd92,_0x5a114d,null),_0x16e082={'_id':_0x1e5de9['key']['id'],'key':_0x1e5de9[_0x59201e(0x202)],'pushName':_0x1e5de9[_0x59201e(0x4ef)],'isGroup':_0x1e5de9['key'][_0x59201e(0x3cc)]['endsWith'](_0x59201e(0x62c)),'profilePictureUrl':this['instance'][_0x59201e(0x19d)],'message':_0x14fd92,'messageType':_0x5a114d,'message_normalized':{'key':_0x1e5de9['key'],'pushName':_0x1e5de9[_0x59201e(0x4ef)],'messageTimestamp':_0x1e5de9[_0x59201e(0x18e)]&&_0x1e5de9[_0x59201e(0x18e)][_0x59201e(0x76d)]()[_0x59201e(0xf4)]<0xd?_0x1e5de9[_0x59201e(0x18e)]*0x3e8:_0x1e5de9[_0x59201e(0x18e)]||null,'source':(0x0,w[_0x59201e(0x65d)])(_0x1e5de9[_0x59201e(0x202)]['id']),..._0x46937d},'messageTimestamp':_0x1e5de9[_0x59201e(0x18e)]&&_0x1e5de9[_0x59201e(0x18e)][_0x59201e(0x76d)]()['length']<0xd?_0x1e5de9['messageTimestamp']*0x3e8:_0x1e5de9[_0x59201e(0x18e)]||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x59201e(0x65d)])(_0x1e5de9[_0x59201e(0x202)]['id'])};return this[_0x59201e(0x74b)]['warn'](this[_0x59201e(0x4d8)]+'\x20('+this[_0x59201e(0x753)][_0x59201e(0x3b8)]+_0x59201e(0x5d0)+_0x16e082[_0x59201e(0x202)]?.[_0x59201e(0x3cc)][_0x59201e(0x828)](_0x59201e(0x1fc),'')+']\x20('+_0x16e082[_0x59201e(0x719)]+')'),_0x16e082[_0x59201e(0x575)]?.[_0x59201e(0x1dc)]&&this[_0x59201e(0x74b)]['warn'](_0x16e082[_0x59201e(0x575)]?.['text']),this[_0x59201e(0x2db)]('send.message',_0x16e082),F(this[_0x59201e(0x4d8)],_0x59201e(0x7df),{'message':_0x16e082}),this[_0x59201e(0x270)](this[_0x59201e(0x4e1)][_0x59201e(0x3f4)](_0x59201e(0x3e2)),_0x16e082,'SEND_MESSAGE',_0x50a8b7),await this[_0x59201e(0x471)]['message'][_0x59201e(0x2bc)]([_0x16e082],this[_0x59201e(0x753)][_0x59201e(0x3b8)]),_0x1e5de9;}catch(_0x9b2b71){throw this[_0x59201e(0x74b)][_0x59201e(0x310)](_0x9b2b71),new m(_0x9b2b71[_0x59201e(0x76d)]());}}get[a0_0x217659(0x44c)](){const _0x10badf=a0_0x217659;return this[_0x10badf(0x4eb)];}async[a0_0x217659(0x2ff)](_0x2f1c22){const _0x5a273f=a0_0x217659;return await this[_0x5a273f(0x82f)](_0x2f1c22[_0x5a273f(0x626)],{'conversation':_0x2f1c22['textMessage'][_0x5a273f(0x1dc)]},_0x2f1c22?.['options']);}async['formatStatusMessage'](_0xabed7e){const _0x1dd3c2=a0_0x217659;if(!_0xabed7e[_0x1dd3c2(0x149)])throw new m('Type\x20is\x20required');if(!_0xabed7e[_0x1dd3c2(0x1b2)])throw new m(_0x1dd3c2(0x7fd));if(_0xabed7e['allContacts']){let _0x361a04=await this[_0x1dd3c2(0x471)][_0x1dd3c2(0x2c5)][_0x1dd3c2(0x6b5)]({'where':{}},this[_0x1dd3c2(0x753)][_0x1dd3c2(0x3b8)]);if(!_0x361a04[_0x1dd3c2(0xf4)])throw new m(_0x1dd3c2(0x2f5));_0xabed7e[_0x1dd3c2(0x308)]=_0x361a04[_0x1dd3c2(0xf8)](_0xf0c7ae=>_0xf0c7ae['pushName'])['map'](_0xccfb07=>_0xccfb07[_0x1dd3c2(0x353)]);}if(!_0xabed7e[_0x1dd3c2(0x308)]?.[_0x1dd3c2(0xf4)]&&!_0xabed7e[_0x1dd3c2(0x851)])throw new m(_0x1dd3c2(0x522));if(_0xabed7e[_0x1dd3c2(0x149)]==='text'){if(!_0xabed7e[_0x1dd3c2(0x2bb)])throw new m('Background\x20color\x20is\x20required');if(!_0xabed7e[_0x1dd3c2(0x523)])throw new m(_0x1dd3c2(0x2dc));return{'content':{'text':_0xabed7e[_0x1dd3c2(0x1b2)]},'option':{'backgroundColor':_0xabed7e[_0x1dd3c2(0x2bb)],'font':_0xabed7e[_0x1dd3c2(0x523)],'statusJidList':_0xabed7e[_0x1dd3c2(0x308)]}};}if(_0xabed7e[_0x1dd3c2(0x149)]===_0x1dd3c2(0x63e))return{'content':{'image':{'url':_0xabed7e[_0x1dd3c2(0x1b2)]},'caption':_0xabed7e[_0x1dd3c2(0x633)]},'option':{'statusJidList':_0xabed7e['statusJidList']}};if(_0xabed7e[_0x1dd3c2(0x149)]==='video')return{'content':{'video':{'url':_0xabed7e[_0x1dd3c2(0x1b2)]},'caption':_0xabed7e[_0x1dd3c2(0x633)]},'option':{'statusJidList':_0xabed7e[_0x1dd3c2(0x308)]}};if(_0xabed7e[_0x1dd3c2(0x149)]==='audio'){this[_0x1dd3c2(0x74b)][_0x1dd3c2(0x56b)](this['instanceName']+'\x20('+this[_0x1dd3c2(0x753)]['wuid']+_0x1dd3c2(0x817)),this[_0x1dd3c2(0x74b)]['verbose'](this[_0x1dd3c2(0x4d8)]+'\x20('+this[_0x1dd3c2(0x753)][_0x1dd3c2(0x3b8)]+_0x1dd3c2(0x684));let _0x254604=await this['convertaudio'](_0xabed7e['content']);if(typeof _0x254604==_0x1dd3c2(0x185)){this[_0x1dd3c2(0x74b)][_0x1dd3c2(0x56b)](this[_0x1dd3c2(0x4d8)]+'\x20('+this['instance']['wuid']+_0x1dd3c2(0x30a));let _0x4ad892=k[_0x1dd3c2(0x81b)](_0x254604)[_0x1dd3c2(0x76d)](_0x1dd3c2(0x80f));return{'content':{'audio':Buffer[_0x1dd3c2(0x73a)](_0x4ad892,_0x1dd3c2(0x80f)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0xabed7e[_0x1dd3c2(0x308)]}};}else throw new x(_0x254604);}throw new m(_0x1dd3c2(0x7a9));}async[a0_0x217659(0x1be)](_0x4b4efa){const _0x38503b=a0_0x217659;return await this[_0x38503b(0x82f)](_0x38503b(0x260),{'status':await this[_0x38503b(0x7d8)](_0x4b4efa[_0x38503b(0x1be)])});}async[a0_0x217659(0x2fa)](_0x350a70){const _0x37163a=a0_0x217659;try{let _0x44abaa=await(0x0,w[_0x37163a(0x7d7)])({[_0x350a70[_0x37163a(0x40a)]]:(0x0,J[_0x37163a(0x113)])(_0x350a70[_0x37163a(0x87d)])?{'url':_0x350a70[_0x37163a(0x87d)]}:Buffer[_0x37163a(0x73a)](_0x350a70[_0x37163a(0x87d)],'base64')},{'upload':this[_0x37163a(0x136)][_0x37163a(0x1c5)]}),_0x4a9a33=_0x350a70['mediatype']+'Message';if(_0x350a70[_0x37163a(0x40a)]===_0x37163a(0x10c)&&!_0x350a70[_0x37163a(0x400)]){let _0x12ba06=new RegExp(/.*\/(.+?)\./)[_0x37163a(0x341)](_0x350a70[_0x37163a(0x87d)]);_0x350a70[_0x37163a(0x400)]=_0x12ba06?_0x12ba06[0x1]:null;}let _0x557820;return(0x0,J[_0x37163a(0x113)])(_0x350a70[_0x37163a(0x87d)])?_0x557820=(await K[_0x37163a(0x85a)]['get'](_0x350a70[_0x37163a(0x87d)],{'responseType':_0x37163a(0x725)}))[_0x37163a(0x882)][_0x37163a(0x29d)]:_0x557820=(0x0,Oi[_0x37163a(0x225)])(_0x350a70[_0x37163a(0x400)]),_0x44abaa[_0x4a9a33]['caption']=_0x350a70?.['caption'],_0x44abaa[_0x4a9a33][_0x37163a(0x4a9)]=_0x557820,_0x44abaa[_0x4a9a33][_0x37163a(0x400)]=_0x350a70['fileName'],_0x350a70[_0x37163a(0x40a)]===_0x37163a(0x33a)&&(_0x44abaa[_0x4a9a33][_0x37163a(0x676)]=Uint8Array['from']((0x0,Fe[_0x37163a(0x81b)])((0x0,j[_0x37163a(0x4f2)])(process[_0x37163a(0x6ac)](),_0x37163a(0x299)))),_0x44abaa[_0x4a9a33][_0x37163a(0xf5)]=!0x1),(0x0,w[_0x37163a(0x2aa)])('',{[_0x4a9a33]:{..._0x44abaa[_0x4a9a33]}},{'userJid':this[_0x37163a(0x753)]['wuid']});}catch(_0x4af2d2){let _0x5c96d6=_0x37163a(0x3c5),_0x314d41=_0x4af2d2 instanceof Error?_0x4af2d2[_0x37163a(0x35e)]:typeof _0x4af2d2==_0x37163a(0x6ae)?JSON[_0x37163a(0x176)](_0x4af2d2):_0x4af2d2,_0xfdd8de=_0x5c96d6+':\x20'+_0x314d41;throw this[_0x37163a(0x74b)]['error'](this[_0x37163a(0x4d8)]+'\x20('+this[_0x37163a(0x753)][_0x37163a(0x3b8)]+'):\x20'+_0xfdd8de),new x(_0xfdd8de);}}async[a0_0x217659(0x624)](_0xca2d65){const _0x536521=a0_0x217659;let _0x593422=0x0;for(;_0x593422<0x5;)try{let _0x2e7d84=await this[_0x536521(0x2fa)](_0xca2d65[_0x536521(0x624)]);return await this[_0x536521(0x82f)](_0xca2d65['number'],{..._0x2e7d84[_0x536521(0x35e)]},_0xca2d65?.[_0x536521(0x64b)]);}catch(_0x223bd3){if(_0x593422++,_0x223bd3 instanceof Error&&_0x223bd3[_0x536521(0x35e)]===_0x536521(0x548)){if(_0x593422>=0x5)throw new m(_0x536521(0x358)+_0x223bd3[_0x536521(0x35e)]);this[_0x536521(0x74b)][_0x536521(0x1f1)](_0x536521(0x47e)+_0x593422+_0x536521(0x375)+_0x223bd3[_0x536521(0x35e)]+_0x536521(0x59a)+0x1388/0x3e8+_0x536521(0x59c)),await new Promise(_0x46f85f=>setTimeout(_0x46f85f,0x1388));}else throw new m(_0x223bd3[_0x536521(0x35e)]);}}async[a0_0x217659(0x760)](_0x232f5a,_0x1e4b7f){const _0x5b60a5=a0_0x217659;try{this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x2496d0,_0x2b1709=_0x1e4b7f+'-'+new Date()['getTime']();this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this['instanceName']+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x52f)+_0x2b1709);let _0x5cee98=''+(0x0,j[_0x5b60a5(0x4f2)])(this[_0x5b60a5(0x614)],_0x2b1709+_0x5b60a5(0x5e1));if(this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x396)+_0x5cee98),(0x0,J[_0x5b60a5(0x639)])(_0x232f5a)){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x5ff));let _0x30d116=_0x232f5a[_0x5b60a5(0x828)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xb80b8a=Buffer['from'](_0x30d116,_0x5b60a5(0x80f));_0x2496d0=''+(0x0,j[_0x5b60a5(0x4f2)])(this[_0x5b60a5(0x614)],_0x5b60a5(0x62a)+_0x2b1709+_0x5b60a5(0x3fe)),this['logger'][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this['instance'][_0x5b60a5(0x3b8)]+_0x5b60a5(0x862)+_0x2496d0),await(0x0,Ut[_0x5b60a5(0x85a)])(_0xb80b8a)[_0x5b60a5(0x20f)](_0x2496d0),this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x781));}else{this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x509));let _0xa475fb=new Date()[_0x5b60a5(0x69d)](),_0x4b96ed=_0x232f5a+'?timestamp='+_0xa475fb;this['logger'][_0x5b60a5(0x56b)](this['instanceName']+'\x20('+this[_0x5b60a5(0x753)]['wuid']+_0x5b60a5(0x2a1)+_0x4b96ed);let _0x3ea647=await K[_0x5b60a5(0x85a)][_0x5b60a5(0x3f4)](_0x4b96ed,{'responseType':_0x5b60a5(0x725)});this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this['instance'][_0x5b60a5(0x3b8)]+_0x5b60a5(0x565));let _0x5a5d3e=Buffer[_0x5b60a5(0x73a)](_0x3ea647[_0x5b60a5(0x5a3)],_0x5b60a5(0x2b7));_0x2496d0=''+(0x0,j[_0x5b60a5(0x4f2)])(this['storePath'],_0x5b60a5(0x62a)+_0x2b1709+'.png'),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5b60a5(0x3b8)]+_0x5b60a5(0x862)+_0x2496d0),await(0x0,Ut[_0x5b60a5(0x85a)])(_0x5a5d3e)[_0x5b60a5(0x20f)](_0x2496d0),this['logger'][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)]['wuid']+'):Image\x20created');}return await(0x0,Ut['default'])(_0x2496d0)['webp']()['toFile'](_0x5cee98),this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x54c)),k['unlinkSync'](_0x2496d0),this[_0x5b60a5(0x74b)][_0x5b60a5(0x56b)](this['instanceName']+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x748)),_0x5cee98;}catch(_0xb2a751){let _0x24163d=_0x5b60a5(0x51b),_0x27a9d0=_0xb2a751 instanceof Error?_0xb2a751[_0x5b60a5(0x35e)]:typeof _0xb2a751==_0x5b60a5(0x6ae)?JSON[_0x5b60a5(0x176)](_0xb2a751):_0xb2a751,_0x3e2fbc=_0x24163d+':\x20'+_0x27a9d0;this['logger'][_0x5b60a5(0x310)](this[_0x5b60a5(0x4d8)]+'\x20('+this[_0x5b60a5(0x753)][_0x5b60a5(0x3b8)]+_0x5b60a5(0x839)+_0x3e2fbc);}}async['mediaSticker'](_0x5409f3){const _0x442065=a0_0x217659;let _0x34fc3c=await this[_0x442065(0x760)](_0x5409f3[_0x442065(0x843)][_0x442065(0x63e)],_0x5409f3[_0x442065(0x626)]),_0x314075=await this[_0x442065(0x82f)](_0x5409f3[_0x442065(0x626)],{'sticker':{'url':_0x34fc3c}},_0x5409f3?.[_0x442065(0x64b)]);return k['unlinkSync'](_0x34fc3c),this[_0x442065(0x74b)][_0x442065(0x56b)](this[_0x442065(0x4d8)]+'\x20('+this[_0x442065(0x753)][_0x442065(0x3b8)]+'):Converted\x20image\x20deleted'),_0x314075;}async[a0_0x217659(0x791)](_0x1354c2){const _0x2cab9c=a0_0x217659;if(this[_0x2cab9c(0x74b)][_0x2cab9c(0x56b)](this['instanceName']+'\x20('+this[_0x2cab9c(0x753)]['wuid']+_0x2cab9c(0x58e)),!_0x1354c2['options']?.[_0x2cab9c(0x424)]&&_0x1354c2['options']?.['encoding']!==!0x1&&(_0x1354c2[_0x2cab9c(0x64b)][_0x2cab9c(0x424)]=!0x0),_0x1354c2[_0x2cab9c(0x64b)]?.[_0x2cab9c(0x424)]){let _0x162cde=await this['convertaudio'](_0x1354c2['audioMessage'][_0x2cab9c(0x1a2)]);if(typeof _0x162cde==_0x2cab9c(0x185)){let _0x225005=k[_0x2cab9c(0x81b)](_0x162cde)[_0x2cab9c(0x76d)]('base64');return this[_0x2cab9c(0x82f)](_0x1354c2['number'],{'audio':Buffer[_0x2cab9c(0x73a)](_0x225005,_0x2cab9c(0x80f)),'ptt':!0x0,'mimetype':_0x2cab9c(0x194)},{'presence':'recording','delay':_0x1354c2?.['options']?.[_0x2cab9c(0x35b)]});}else throw new x(_0x162cde);}return await this[_0x2cab9c(0x82f)](_0x1354c2[_0x2cab9c(0x626)],{'audio':(0x0,J['isURL'])(_0x1354c2[_0x2cab9c(0x254)][_0x2cab9c(0x1a2)])?{'url':_0x1354c2['audioMessage']['audio']}:Buffer[_0x2cab9c(0x73a)](_0x1354c2['audioMessage'][_0x2cab9c(0x1a2)],_0x2cab9c(0x80f)),'ptt':!0x0,'mimetype':_0x2cab9c(0x194)},{'presence':_0x2cab9c(0x30b),'delay':_0x1354c2?.[_0x2cab9c(0x64b)]?.['delay']});}async[a0_0x217659(0x374)](_0x23dd20){const _0x59fee4=a0_0x217659;this[_0x59fee4(0x74b)][_0x59fee4(0x56b)](this[_0x59fee4(0x4d8)]+'\x20('+this['instance']['wuid']+_0x59fee4(0x684));let _0x120a51=(0x0,J[_0x59fee4(0x113)])(_0x23dd20)?(0x0,oe['createHash'])(_0x59fee4(0x527))[_0x59fee4(0x772)](_0x23dd20)['digest']('hex'):(0x0,oe['createHash'])(_0x59fee4(0x527))['update'](_0x23dd20)[_0x59fee4(0x871)](_0x59fee4(0x6ea)),_0x726ac5=''+(0x0,j[_0x59fee4(0x4f2)])(this[_0x59fee4(0x614)],_0x120a51+_0x59fee4(0x23f));if(k['existsSync'](_0x726ac5))return this['logger']['verbose'](this[_0x59fee4(0x4d8)]+'\x20('+this[_0x59fee4(0x753)][_0x59fee4(0x3b8)]+_0x59fee4(0x763)),_0x726ac5;let _0x15478e=''+(0x0,j[_0x59fee4(0x4f2)])(this['storePath'],_0x59fee4(0x62a)+(0x0,Q['v4'])()+'.mp3');if((0x0,J[_0x59fee4(0x113)])(_0x23dd20)){let _0x225707=new Date()[_0x59fee4(0x69d)](),_0x100ecf=_0x23dd20+'?timestamp='+_0x225707,_0x1e8184=await K['default'][_0x59fee4(0x3f4)](_0x100ecf,{'responseType':_0x59fee4(0x725)});k['writeFileSync'](_0x15478e,_0x1e8184['data']);}else{let _0x304553=Buffer[_0x59fee4(0x73a)](_0x23dd20,_0x59fee4(0x80f));k['writeFileSync'](_0x15478e,_0x304553);}return new Promise((_0x1effb6,_0x16ac9a)=>{const _0x4acae1=_0x59fee4;(0x0,Ue['exec'])(Ds[_0x4acae1(0x85a)][_0x4acae1(0x823)]+'\x20-i\x20'+_0x15478e+_0x4acae1(0x3ae)+_0x726ac5+_0x4acae1(0x284),_0x1176dc=>{const _0x45eac3=_0x4acae1;if(k[_0x45eac3(0xe7)](_0x15478e),_0x1176dc){this[_0x45eac3(0x74b)][_0x45eac3(0x56b)](this[_0x45eac3(0x4d8)]+'\x20('+this[_0x45eac3(0x753)]['wuid']+_0x45eac3(0x88b)),_0x16ac9a(_0x1176dc);return;}this[_0x45eac3(0x74b)][_0x45eac3(0x56b)](this['instanceName']+'\x20('+this[_0x45eac3(0x753)][_0x45eac3(0x3b8)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x1effb6(_0x726ac5);});});}async[a0_0x217659(0x3b6)](_0x4454f7){const _0x134dc8=a0_0x217659;this[_0x134dc8(0x74b)][_0x134dc8(0x56b)](this[_0x134dc8(0x4d8)]+'\x20('+this[_0x134dc8(0x753)]['wuid']+_0x134dc8(0x684));let _0x54aa53=(0x0,oe[_0x134dc8(0x4b4)])(_0x134dc8(0x527))[_0x134dc8(0x772)](_0x4454f7)[_0x134dc8(0x871)]('hex'),_0x26b5cf=''+(0x0,j[_0x134dc8(0x4f2)])(this[_0x134dc8(0x614)],_0x54aa53+'.mp3');if(k[_0x134dc8(0x2cd)](_0x26b5cf))return this['logger'][_0x134dc8(0x56b)](this['instanceName']+'\x20('+this[_0x134dc8(0x753)][_0x134dc8(0x3b8)]+_0x134dc8(0x763)),j[_0x134dc8(0x85a)][_0x134dc8(0x535)](_0x26b5cf);let _0x27999c=''+(0x0,j[_0x134dc8(0x4f2)])(this[_0x134dc8(0x614)],_0x134dc8(0x62a)+_0x54aa53+_0x134dc8(0x23f));if((0x0,J['isURL'])(_0x4454f7)){let _0x41b9c2=new Date()[_0x134dc8(0x69d)](),_0x565d28=_0x4454f7+_0x134dc8(0x4e3)+_0x41b9c2,_0x5ec177=await K['default']['get'](_0x565d28,{'responseType':_0x134dc8(0x725)});k['writeFileSync'](_0x27999c,_0x5ec177[_0x134dc8(0x5a3)]);}else{let _0x22ea84=Buffer[_0x134dc8(0x73a)](_0x4454f7,_0x134dc8(0x80f));k[_0x134dc8(0x218)](_0x27999c,_0x22ea84);}return new Promise((_0x4f699b,_0x19bcbf)=>{const _0x596869=_0x134dc8;(0x0,Ue[_0x596869(0x341)])(Ds[_0x596869(0x85a)][_0x596869(0x823)]+_0x596869(0x7ac)+_0x27999c+_0x596869(0x7fc)+_0x26b5cf+_0x596869(0x284),_0x3d97d2=>{const _0x29e26c=_0x596869;if(k[_0x29e26c(0xe7)](_0x27999c),_0x3d97d2){this[_0x29e26c(0x74b)]['verbose'](this[_0x29e26c(0x4d8)]+'\x20('+this[_0x29e26c(0x753)][_0x29e26c(0x3b8)]+_0x29e26c(0x88b)),_0x19bcbf(_0x3d97d2);return;}this['logger'][_0x29e26c(0x56b)](this[_0x29e26c(0x4d8)]+'\x20('+this[_0x29e26c(0x753)][_0x29e26c(0x3b8)]+_0x29e26c(0x36e)),_0x4f699b(j[_0x29e26c(0x85a)]['basename'](_0x26b5cf));});});}async[a0_0x217659(0x83e)](_0x28c540){const _0x4172c9=a0_0x217659;console[_0x4172c9(0x829)](_0x4172c9(0x71f),_0x28c540);let _0x217db3;try{_0x28c540[_0x4172c9(0x83e)]?.[_0x4172c9(0x6b8)]&&(_0x217db3=await this[_0x4172c9(0x2fa)]({'mediatype':_0x4172c9(0x63e),'media':_0x28c540['buttonMessage'][_0x4172c9(0x6b8)]}));}catch(_0x3a4592){throw console[_0x4172c9(0x310)](_0x4172c9(0x7e4),_0x3a4592),new Error(_0x4172c9(0x349));}try{let _0xae38d0={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4172c9(0x67b)},'footer':{'text':'Rodap\x20de\x20Teste'},'header':((()=>{const _0x109766=_0x4172c9;if(_0x217db3?.[_0x109766(0x35e)]?.[_0x109766(0x199)])return{'hasMediaAttachment':!!_0x217db3['message']['imageMessage'],'imageMessage':_0x217db3[_0x109766(0x35e)][_0x109766(0x199)]};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON[_0x4172c9(0x176)]({'display_text':_0x4172c9(0x2da),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x4172c9(0x176)]({'display_text':_0x4172c9(0x50d),'id':'2'})}],'messageParamsJson':JSON[_0x4172c9(0x176)]({'from':_0x4172c9(0x586),'templateId':_0x4172c9(0x1a8)+(0x0,oe[_0x4172c9(0x364)])(0x12)[_0x4172c9(0x76d)]('hex')[_0x4172c9(0x3a8)]()})}}}}};return await this[_0x4172c9(0x15e)](_0x28c540[_0x4172c9(0x626)],_0xae38d0,_0x28c540?.[_0x4172c9(0x64b)]);}catch(_0x8e35a3){throw console[_0x4172c9(0x310)](_0x4172c9(0x134),_0x8e35a3),new Error(_0x4172c9(0x3cf));}}async['locationMessage'](_0x305f84){const _0x207d57=a0_0x217659;return await this[_0x207d57(0x82f)](_0x305f84[_0x207d57(0x626)],{'locationMessage':{'degreesLatitude':_0x305f84[_0x207d57(0x19b)][_0x207d57(0x774)],'degreesLongitude':_0x305f84[_0x207d57(0x19b)]['longitude'],'name':_0x305f84[_0x207d57(0x19b)]?.['name'],'address':_0x305f84[_0x207d57(0x19b)]?.[_0x207d57(0x617)]}},_0x305f84?.['options']);}async[a0_0x217659(0x177)](_0x1c5ba6){const _0x78433a=a0_0x217659;let _0x46ad4a={},_0xf42dca=async _0x4024a4=>{const _0x55c23d=a0_0x749e;let _0x513d64=_0x55c23d(0x5eb)+_0x4024a4[_0x55c23d(0x24a)]+'\x0aFN:'+_0x4024a4['fullName']+'\x0a';_0x4024a4[_0x55c23d(0x2b9)]&&(_0x513d64+=_0x55c23d(0x517)+_0x4024a4[_0x55c23d(0x2b9)]+';\x0a'),_0x4024a4[_0x55c23d(0x607)]&&(_0x513d64+=_0x55c23d(0x7e0)+_0x4024a4[_0x55c23d(0x607)]+'\x0a'),_0x4024a4['url']&&(_0x513d64+=_0x55c23d(0x379)+_0x4024a4[_0x55c23d(0x2fd)]+'\x0a');let _0x2dbcef='',_0x3ffefa=0x1;if(_0x4024a4[_0x55c23d(0x4ac)]){let _0x3a19bf=_0x4024a4[_0x55c23d(0x4ac)]['split']('|');for(let _0x5cf940 of _0x3a19bf){let _0x10edb0=await this[_0x55c23d(0x148)]({'numbers':[_0x5cf940]}),_0x5a6e68=(_0x10edb0['length']>0x0?_0x10edb0[0x0][_0x55c23d(0x560)]:this[_0x55c23d(0x1af)](_0x5cf940))[_0x55c23d(0x828)](_0x55c23d(0x1fc),'');_0x2dbcef+=_0x55c23d(0x64e)+_0x3ffefa+_0x55c23d(0x22f)+_0x5a6e68+':'+_0x5cf940+_0x55c23d(0x80d)+_0x3ffefa+'.X-ABLabel:Celular\x0a',_0x3ffefa++;}}return _0x513d64+=_0x2dbcef+_0x55c23d(0x876),_0x513d64;};return _0x1c5ba6['contactMessage']['length']===0x1?_0x46ad4a[_0x78433a(0x177)]={'displayName':_0x1c5ba6[_0x78433a(0x177)][0x0][_0x78433a(0x24a)],'vcard':await _0xf42dca(_0x1c5ba6['contactMessage'][0x0])}:_0x46ad4a[_0x78433a(0x51f)]={'displayName':_0x1c5ba6['contactMessage']['length']+_0x78433a(0x66c),'contacts':await Promise[_0x78433a(0x598)](_0x1c5ba6['contactMessage'][_0x78433a(0x557)](async _0x564713=>({'displayName':_0x564713['fullName'],'vcard':await _0xf42dca(_0x564713)})))},await this[_0x78433a(0x82f)](_0x1c5ba6[_0x78433a(0x626)],{..._0x46ad4a},_0x1c5ba6?.['options']);}async[a0_0x217659(0x7c0)](_0x441aeb){const _0x219556=a0_0x217659;return await this[_0x219556(0x82f)](_0x441aeb[_0x219556(0x7c0)][_0x219556(0x202)][_0x219556(0x3cc)],{'reactionMessage':{'key':_0x441aeb['reactionMessage'][_0x219556(0x202)],'text':_0x441aeb['reactionMessage'][_0x219556(0x27c)]}});}async[a0_0x217659(0x148)](_0x3f4483){const _0x5f0f76=a0_0x217659;let _0x5c4c4f=[];for await(let _0x4ebe9a of _0x3f4483['numbers']){let _0x3475d7=this['createJid'](_0x4ebe9a),_0x1bb78e=!0x1;try{if((0x0,w[_0x5f0f76(0x463)])(_0x3475d7)){let _0x1c2f3c=(await this[_0x5f0f76(0x471)][_0x5f0f76(0x856)][_0x5f0f76(0x567)]({'where':{'_id':_0x3475d7}},this[_0x5f0f76(0x753)][_0x5f0f76(0x3b8)]))['groupdata'];_0x1c2f3c?(_0x1bb78e=!0x0,_0x5c4c4f['push'](new ce(_0x1c2f3c['id'],_0x1bb78e,_0x1c2f3c?.['subject']))):(_0x1c2f3c=await this['findGroup']({'groupJid':_0x3475d7},_0x5f0f76(0x3b4)),_0x5c4c4f[_0x5f0f76(0x3e3)](new ce(_0x1c2f3c['id'],!!_0x1c2f3c?.['id'],_0x1c2f3c?.[_0x5f0f76(0x49f)])));}else{if(_0x3475d7[_0x5f0f76(0x2f7)](_0x5f0f76(0x214)))_0x5c4c4f['push'](new ce(_0x3475d7,!0x0));else{let _0x22b423=(await this[_0x5f0f76(0x136)][_0x5f0f76(0x3e4)](_0x3475d7))[0x0];_0x5c4c4f[_0x5f0f76(0x3e3)](new ce(_0x22b423[_0x5f0f76(0x560)],_0x22b423[_0x5f0f76(0x799)]));}}}catch{(0x0,w['isJidGroup'])(_0x3475d7)||await this[_0x5f0f76(0x87a)](_0x3475d7),_0x5c4c4f['push'](new ce(_0x4ebe9a,!0x1));}}return _0x5c4c4f;}async[a0_0x217659(0x87a)](_0x50d7d0){const _0x1c473f=a0_0x217659;try{await this[_0x1c473f(0x471)][_0x1c473f(0x856)][_0x1c473f(0x567)]({'where':{'_id':_0x50d7d0,'imported':!0x0}},this[_0x1c473f(0x753)][_0x1c473f(0x3b8)])&&(await this['repository'][_0x1c473f(0x856)]['deleteChat'](_0x50d7d0,this['instance'][_0x1c473f(0x3b8)]),this[_0x1c473f(0x74b)]['info'](_0x1c473f(0x2d4)+_0x50d7d0+'\x20foi\x20removido\x20por\x20no\x20ser\x20vlido.'));}catch(_0x3dc088){let _0x378030=_0x1c473f(0x2b1),_0x9b74e2=_0x3dc088 instanceof Error?_0x3dc088[_0x1c473f(0x35e)]:typeof _0x3dc088=='object'?JSON[_0x1c473f(0x176)](_0x3dc088):_0x3dc088,_0x841a7a=_0x378030+':\x20'+_0x9b74e2;this['logger'][_0x1c473f(0x310)](this[_0x1c473f(0x4d8)]+'\x20('+this[_0x1c473f(0x753)][_0x1c473f(0x3b8)]+'):\x20'+_0x841a7a);}}async['markMessageAsRead'](_0x43a8bd){const _0x52af96=a0_0x217659;try{let _0x55b638=_0x43a8bd[_0x52af96(0x6f7)][_0x52af96(0xf8)](_0x338df3=>(0x0,w['isJidGroup'])(_0x338df3[_0x52af96(0x3cc)])||(0x0,w[_0x52af96(0x4ad)])(_0x338df3[_0x52af96(0x3cc)]))[_0x52af96(0x557)](_0x46c01f=>({'remoteJid':_0x46c01f[_0x52af96(0x3cc)],'fromMe':_0x46c01f['fromMe'],'id':_0x46c01f['id']}));await this[_0x52af96(0x136)][_0x52af96(0x6f7)](_0x55b638);let _0xc156f8=_0x55b638['map'](_0x170897=>this[_0x52af96(0x3ea)](_0x170897,{'status':'READ','owner':this[_0x52af96(0x753)]['wuid']})),_0x472089=_0x55b638[_0x52af96(0x557)](_0x16e716=>this[_0x52af96(0x471)]['chat'][_0x52af96(0x3bb)]({'where':{'_id':_0x16e716[_0x52af96(0x3cc)]}},{'unreadcount':0x0},this[_0x52af96(0x753)][_0x52af96(0x3b8)])),[_0x2359ce,_0x3b1a4b]=await Promise[_0x52af96(0x598)]([Promise[_0x52af96(0x598)](_0xc156f8),Promise[_0x52af96(0x598)](_0x472089)]);return _0x3b1a4b[_0x52af96(0xf8)](_0x4d81d1=>_0x4d81d1!==null)[_0x52af96(0x3f7)](_0x2e8b7f=>{const _0x18d744=_0x52af96;F(this[_0x18d744(0x4d8)],_0x18d744(0x529),{'chat':_0x2e8b7f});}),{'message':_0x52af96(0x5ea),'read':_0x52af96(0x503)};}catch(_0x53217b){let _0x3bef5b='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x5d3587=_0x53217b instanceof Error?_0x53217b[_0x52af96(0x35e)]:typeof _0x53217b=='object'?JSON[_0x52af96(0x176)](_0x53217b):_0x53217b,_0x326bc1=_0x3bef5b+':\x20'+_0x5d3587;throw this['logger']['error'](this[_0x52af96(0x4d8)]+'\x20('+this['instance']['wuid']+_0x52af96(0x839)+_0x326bc1),new x(_0x326bc1);}}async[a0_0x217659(0x52e)](_0x37b876){const _0x2d4809=a0_0x217659;let _0x462dc6={'where':{'key':{'remoteJid':_0x37b876}},'limit':0x1},_0x4ca906=await this[_0x2d4809(0x39e)](_0x462dc6);return _0x4ca906||(this[_0x2d4809(0x74b)][_0x2d4809(0x310)](_0x2d4809(0x13b)+_0x37b876),null);}async[a0_0x217659(0x14a)](_0x5a7f86){const _0x510bae=a0_0x217659;this['logger'][_0x510bae(0x56b)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+_0x510bae(0x6ff));try{let _0x484acd=_0x5a7f86[_0x510bae(0x83f)],_0x3fb22c=_0x5a7f86['chat'];if(!_0x484acd&&_0x3fb22c?_0x484acd=await this[_0x510bae(0x52e)](_0x3fb22c):(_0x484acd=_0x5a7f86[_0x510bae(0x83f)],_0x484acd[_0x510bae(0x18e)]=_0x484acd?.[_0x510bae(0x18e)]??Date[_0x510bae(0x11c)](),_0x3fb22c=_0x484acd?.[_0x510bae(0x202)]?.[_0x510bae(0x3cc)]),!_0x484acd||Object[_0x510bae(0x669)](_0x484acd)[_0x510bae(0xf4)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x510bae(0x74b)][_0x510bae(0x56b)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x3fb22c);try{await this[_0x510bae(0x136)][_0x510bae(0x1d2)]({'archive':_0x5a7f86['archive'],'lastMessages':[_0x484acd]},this[_0x510bae(0x1af)](_0x3fb22c));}catch(_0x347bf9){let _0x590c16=_0x510bae(0x216)+_0x3fb22c,_0x218959=_0x347bf9 instanceof Error?_0x347bf9[_0x510bae(0x35e)]:typeof _0x347bf9==_0x510bae(0x6ae)?JSON[_0x510bae(0x176)](_0x347bf9):_0x347bf9,_0x3cfea1=_0x590c16+':\x20'+_0x218959;this[_0x510bae(0x74b)][_0x510bae(0x310)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+'):\x20'+_0x3cfea1);}this['logger'][_0x510bae(0x56b)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3fb22c);let _0xe17845=await this[_0x510bae(0x471)]['chat'][_0x510bae(0x3bb)]({'where':{'_id':_0x484acd?.[_0x510bae(0x202)]?.[_0x510bae(0x3cc)]}},{'archived':_0x5a7f86[_0x510bae(0x4e9)]},this['instance']['wuid']);return _0xe17845?(this[_0x510bae(0x74b)][_0x510bae(0x56b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x510bae(0x361)+JSON[_0x510bae(0x176)](_0xe17845)),F(this[_0x510bae(0x4d8)],'chats',{'chat':_0xe17845})):this[_0x510bae(0x74b)][_0x510bae(0x310)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+_0x510bae(0x7a2)+_0x3fb22c),{'chatId':_0x3fb22c,'archived':_0x5a7f86[_0x510bae(0x4e9)]};}catch(_0x404289){let _0x547a40=_0x510bae(0x778),_0x1300ca=_0x404289 instanceof Error?_0x404289[_0x510bae(0x35e)]:typeof _0x404289==_0x510bae(0x6ae)?JSON[_0x510bae(0x176)](_0x404289):_0x404289,_0x19e36b=_0x547a40+':\x20'+_0x1300ca;throw this['logger'][_0x510bae(0x310)](this[_0x510bae(0x4d8)]+'\x20('+this[_0x510bae(0x753)][_0x510bae(0x3b8)]+_0x510bae(0x839)+_0x19e36b),new x(_0x19e36b);}}async[a0_0x217659(0x168)](_0x30037d){const _0x332a8e=a0_0x217659;this[_0x332a8e(0x74b)][_0x332a8e(0x56b)](this[_0x332a8e(0x4d8)]+'\x20('+this[_0x332a8e(0x753)][_0x332a8e(0x3b8)]+_0x332a8e(0x53f));try{let _0x44b70d=await this[_0x332a8e(0x52e)](_0x30037d);if(!_0x44b70d||Object['keys'](_0x44b70d)[_0x332a8e(0xf4)]===0x0)throw new U(_0x332a8e(0x306));let _0x15a8c3=_0x44b70d[0x0];this['logger']['verbose'](this[_0x332a8e(0x4d8)]+'\x20('+this[_0x332a8e(0x753)][_0x332a8e(0x3b8)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x30037d);try{await this[_0x332a8e(0x136)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x15a8c3['key'],'messageTimestamp':_0x15a8c3[_0x332a8e(0x18e)]}]},this['createJid'](_0x30037d));}catch(_0x5b4218){this[_0x332a8e(0x74b)][_0x332a8e(0x310)](_0x332a8e(0x216)+_0x30037d+':\x20'+_0x5b4218[_0x332a8e(0x76d)]());}this[_0x332a8e(0x74b)][_0x332a8e(0x56b)](this[_0x332a8e(0x4d8)]+'\x20('+this[_0x332a8e(0x753)][_0x332a8e(0x3b8)]+_0x332a8e(0x5c8)+_0x30037d);return;}catch(_0x35f633){throw this[_0x332a8e(0x74b)][_0x332a8e(0x310)](this['instanceName']+'\x20('+this[_0x332a8e(0x753)]['wuid']+_0x332a8e(0x446)+_0x35f633[_0x332a8e(0x76d)]()),new x({'archived':!0x1,'message':[_0x332a8e(0x5b7),_0x35f633[_0x332a8e(0x76d)]()]});}}async['deleteMessage'](_0x53859e){const _0x56788d=a0_0x217659;try{let _0x1a23f7=await this[_0x56788d(0x136)][_0x56788d(0x664)](_0x53859e[_0x56788d(0x3cc)],{'delete':_0x53859e});try{let _0x24bd8b=await this[_0x56788d(0x3ea)](_0x53859e,{'status':_0x56788d(0x2e9),'owner':this['instance'][_0x56788d(0x3b8)]});this[_0x56788d(0x74b)][_0x56788d(0x56b)](this[_0x56788d(0x4d8)]+'\x20('+this[_0x56788d(0x753)][_0x56788d(0x3b8)]+'):\x20updateResult:'+_0x24bd8b);}catch(_0x142666){this[_0x56788d(0x74b)][_0x56788d(0x310)](_0x56788d(0x28b)+_0x142666);}return _0x1a23f7;}catch(_0xf4ece5){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0xf4ece5?.['toString']());}}async[a0_0x217659(0x405)](_0x1f12a8){const _0xf6b1f3=a0_0x217659;try{let _0x4776b7=_0x1f12a8?.[_0xf6b1f3(0x35e)]?_0x1f12a8:await this['getMessage'](_0x1f12a8[_0xf6b1f3(0x202)],!0x0);for(let _0x1476aa of Na)_0x4776b7[_0xf6b1f3(0x35e)][_0x1476aa]&&(_0x4776b7[_0xf6b1f3(0x35e)]=_0x4776b7[_0xf6b1f3(0x35e)][_0x1476aa][_0xf6b1f3(0x35e)]);let _0x5bbbb9,_0x3ef60b;for(let _0x260267 of Ea)if(_0x5bbbb9=_0x4776b7[_0xf6b1f3(0x35e)][_0x260267],_0x5bbbb9){_0x3ef60b=_0x260267;break;}if(!_0x5bbbb9)throw _0xf6b1f3(0x6aa);typeof _0x5bbbb9[_0xf6b1f3(0x4f4)]==_0xf6b1f3(0x6ae)&&(_0x4776b7[_0xf6b1f3(0x35e)]=JSON['parse'](JSON[_0xf6b1f3(0x176)](_0x4776b7[_0xf6b1f3(0x35e)])));let _0x41eec4=await(0x0,w['downloadMediaMessage'])({'key':_0x4776b7?.[_0xf6b1f3(0x202)],'message':_0x4776b7?.[_0xf6b1f3(0x35e)]},_0xf6b1f3(0x161),{},{'logger':(0x0,Ft['default'])({'level':_0xf6b1f3(0x3ef)}),'reuploadRequest':this[_0xf6b1f3(0x136)][_0xf6b1f3(0x29e)]});if(!(_0x41eec4 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x5010bc=this[_0xf6b1f3(0x4e1)][_0xf6b1f3(0x3f4)](_0xf6b1f3(0x3e2)),_0x5adf2a,_0x19a838;if(_0x5bbbb9[_0xf6b1f3(0x400)])_0x5adf2a=_0x5bbbb9[_0xf6b1f3(0x400)];else{let _0x2f8924=_0x5bbbb9[_0xf6b1f3(0x4a9)]?.[_0xf6b1f3(0x662)](/\/(\w+)/),_0x4dd54f=_0x2f8924?_0x2f8924[0x1]:null;if(!_0x4dd54f)throw new Error(_0xf6b1f3(0x1e4));_0x5adf2a=(0x0,Q['v4'])()+'.'+_0x4dd54f;}_0x3ef60b===_0xf6b1f3(0x254)?_0x19a838='/media/'+await this[_0xf6b1f3(0x3b6)](_0x41eec4[_0xf6b1f3(0x76d)]('base64')):(await this[_0xf6b1f3(0x73d)](_0x41eec4,_0x5adf2a),_0x19a838=_0xf6b1f3(0x75b)+_0x5adf2a);let _0xccfbda=this['configService']['get'](_0xf6b1f3(0x3d1))[_0xf6b1f3(0x181)];if(!_0xccfbda){let _0x3c73d3=this['configService'][_0xf6b1f3(0x3f4)](_0xf6b1f3(0x350));_0xccfbda=_0xf6b1f3(0x1ae)+(_0x3c73d3&&_0x3c73d3[_0xf6b1f3(0x86a)]['split']('/')[0x4]);}_0x19a838=''+_0xccfbda+_0x19a838;let _0x20121d=0xc*0x3c*0x3c*0x3e8,_0x123837={'where':{'_id':_0x4776b7[_0xf6b1f3(0x202)]['id']}},_0x1255d3={'message_normalized.fileUrl':_0x19a838,'message_normalized.expires_fileUrl':Date[_0xf6b1f3(0x11c)]()+_0x20121d};try{let _0x5f0152=await this[_0xf6b1f3(0x471)][_0xf6b1f3(0x35e)][_0xf6b1f3(0x772)](_0x123837,_0x1255d3,this['instance'][_0xf6b1f3(0x3b8)]);_0x5f0152&&F(this[_0xf6b1f3(0x4d8)],_0xf6b1f3(0x7df),{'message':_0x5f0152});}catch(_0x4410d5){let _0x8e72c2='Falha\x20ao\x20processar\x20a\x20solicitao\x20getBase64FromMediaMessage',_0x5d3567=_0x4410d5 instanceof Error?_0x4410d5[_0xf6b1f3(0x35e)]:typeof _0x4410d5==_0xf6b1f3(0x6ae)?JSON[_0xf6b1f3(0x176)](_0x4410d5):_0x4410d5,_0x433c6d=_0x8e72c2+':\x20'+_0x5d3567;this[_0xf6b1f3(0x74b)][_0xf6b1f3(0x310)](this[_0xf6b1f3(0x4d8)]+'\x20('+this[_0xf6b1f3(0x753)][_0xf6b1f3(0x3b8)]+_0xf6b1f3(0x839)+_0x433c6d);}return{'mediaType':_0x3ef60b,'fileName':_0x5bbbb9[_0xf6b1f3(0x400)],'caption':_0x5bbbb9['caption'],'size':{'fileLength':_0x5bbbb9[_0xf6b1f3(0x4ce)],'height':_0x5bbbb9[_0xf6b1f3(0x1aa)],'width':_0x5bbbb9[_0xf6b1f3(0x115)]},'mimetype':_0x5bbbb9[_0xf6b1f3(0x4a9)],'base64':_0x41eec4[_0xf6b1f3(0x76d)](_0xf6b1f3(0x80f)),'fileUrl':_0x19a838,'expires_fileUrl':Date['now']()+_0x20121d};}catch(_0x49a1b4){let _0x5701ad=_0xf6b1f3(0x1f4),_0x2b525c=_0x49a1b4 instanceof Error?_0x49a1b4[_0xf6b1f3(0x35e)]:typeof _0x49a1b4==_0xf6b1f3(0x6ae)?JSON[_0xf6b1f3(0x176)](_0x49a1b4):_0x49a1b4,_0x18fa45=_0x5701ad+':\x20'+_0x2b525c;throw this[_0xf6b1f3(0x74b)][_0xf6b1f3(0x310)](this[_0xf6b1f3(0x4d8)]+'\x20('+this[_0xf6b1f3(0x753)][_0xf6b1f3(0x3b8)]+_0xf6b1f3(0x839)+_0x18fa45),new m(_0x18fa45);}}async['saveMediaToFile'](_0x364136,_0x513096){const _0x231655=a0_0x217659;let _0x2d8a84=j[_0x231655(0x85a)][_0x231655(0x4f2)](__dirname,_0x231655(0x48a));k['existsSync'](_0x2d8a84)||k[_0x231655(0x638)](_0x2d8a84,{'recursive':!0x0});let _0x115791=j[_0x231655(0x85a)][_0x231655(0x4f2)](_0x2d8a84,_0x513096);return new Promise((_0x5b4c0b,_0x42b69f)=>{k['writeFile'](_0x115791,_0x364136,_0x4ef4d5=>{const _0x28559a=a0_0x749e;_0x4ef4d5?(this[_0x28559a(0x74b)][_0x28559a(0x310)](_0x28559a(0x6ba)+(_0x4ef4d5 instanceof Error?_0x4ef4d5[_0x28559a(0x35e)]:JSON[_0x28559a(0x176)](_0x4ef4d5,null,0x2))),_0x42b69f(_0x4ef4d5)):(this[_0x28559a(0x74b)][_0x28559a(0x829)]('File\x20written\x20to\x20path:\x20'+_0x115791),_0x5b4c0b(_0x115791));});});}async[a0_0x217659(0x5d1)](_0x187990){const _0x5d345f=a0_0x217659;return await this['repository'][_0x5d345f(0x2c5)][_0x5d345f(0x6b5)](_0x187990,this[_0x5d345f(0x753)][_0x5d345f(0x3b8)]);}async[a0_0x217659(0x738)](){const _0x5b6d4f=a0_0x217659;return await this[_0x5b6d4f(0x471)][_0x5b6d4f(0x18b)][_0x5b6d4f(0x6b5)]({'where':{}},this[_0x5b6d4f(0x753)]['wuid']);}async['fetchMessages'](_0x3e377d){const _0x4df32e=a0_0x217659;return await this[_0x4df32e(0x471)][_0x4df32e(0x35e)]['find'](_0x3e377d,this['instance'][_0x4df32e(0x3b8)]);}async[a0_0x217659(0x140)](){const _0x18cc8b=a0_0x217659;return this[_0x18cc8b(0x471)][_0x18cc8b(0x856)][_0x18cc8b(0x821)](this[_0x18cc8b(0x753)][_0x18cc8b(0x3b8)]),this['repository'][_0x18cc8b(0x856)][_0x18cc8b(0x403)](this[_0x18cc8b(0x753)][_0x18cc8b(0x3b8)]),this[_0x18cc8b(0x471)][_0x18cc8b(0x856)][_0x18cc8b(0x125)](this[_0x18cc8b(0x753)][_0x18cc8b(0x3b8)]),this[_0x18cc8b(0x471)]['chat'][_0x18cc8b(0x2b8)](this[_0x18cc8b(0x753)][_0x18cc8b(0x3b8)]),await this[_0x18cc8b(0x471)]['chat'][_0x18cc8b(0x6b5)]({'where':{}},this[_0x18cc8b(0x753)][_0x18cc8b(0x3b8)]);}async[a0_0x217659(0x5a1)](_0x375859){const _0x42dc28=a0_0x217659;try{if(!Array[_0x42dc28(0x3d6)](_0x375859)||_0x375859['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20no\x20vazio\x20de\x20chats.');let _0x317e13=[],_0x13d129=[];for(let _0x3c9bee of _0x375859){if(_0x3c9bee[_0x42dc28(0x353)])_0x3c9bee[_0x42dc28(0x353)]=this[_0x42dc28(0x1af)](_0x3c9bee[_0x42dc28(0x353)]);else continue;await this['repository'][_0x42dc28(0x856)][_0x42dc28(0x567)]({'where':{'_id':_0x3c9bee['_id']}},this[_0x42dc28(0x753)]['wuid'])?_0x13d129[_0x42dc28(0x3e3)]({'_id':_0x3c9bee['_id'],'leadInfo':_0x3c9bee['leadInfo'],'owner':this[_0x42dc28(0x753)][_0x42dc28(0x3b8)]}):_0x317e13[_0x42dc28(0x3e3)]({'_id':_0x3c9bee['_id'],'owner':this['instance'][_0x42dc28(0x3b8)],'leadInfo':_0x3c9bee[_0x42dc28(0x532)],'imported':!0x0});}return _0x13d129[_0x42dc28(0xf4)]>0x0&&await this[_0x42dc28(0x471)][_0x42dc28(0x856)]['updateMany'](_0x13d129['map'](_0x2d215b=>({'query':{'where':{'_id':_0x2d215b[_0x42dc28(0x353)],'owner':this[_0x42dc28(0x753)][_0x42dc28(0x3b8)]}},'update':_0x2d215b}))),_0x317e13[_0x42dc28(0xf4)]>0x0&&await this[_0x42dc28(0x471)][_0x42dc28(0x856)][_0x42dc28(0x371)](_0x317e13,this['instance'][_0x42dc28(0x3b8)]),{'updated':_0x13d129['length'],'inserted':_0x317e13[_0x42dc28(0xf4)]};}catch(_0x373153){let _0x3f5147=_0x42dc28(0x5da),_0x4ffbd9=_0x373153 instanceof Error?_0x373153[_0x42dc28(0x35e)]:typeof _0x373153==_0x42dc28(0x6ae)?JSON[_0x42dc28(0x176)](_0x373153):_0x373153,_0x154120=_0x3f5147+':\x20'+_0x4ffbd9;throw this[_0x42dc28(0x74b)][_0x42dc28(0x310)](this['instanceName']+'\x20('+this[_0x42dc28(0x753)][_0x42dc28(0x3b8)]+_0x42dc28(0x839)+_0x154120),new m(_0x154120);}}async[a0_0x217659(0x49d)](_0x1efd3f){const _0x4ee604=a0_0x217659;try{if(!Array[_0x4ee604(0x3d6)](_0x1efd3f)||_0x1efd3f[_0x4ee604(0xf4)]===0x0)throw new Error(_0x4ee604(0x72a));let _0x246c38=0x64,_0x3a1cf2=0x0;for(let _0x52c362=0x0;_0x52c362<_0x1efd3f[_0x4ee604(0xf4)];_0x52c362+=_0x246c38){let _0x976eee=_0x1efd3f[_0x4ee604(0x30c)](_0x52c362,_0x52c362+_0x246c38),{updated:_0x305ce3}=await this[_0x4ee604(0x51e)](_0x976eee);_0x3a1cf2+=_0x305ce3;}return{'updated':_0x3a1cf2};}catch(_0x4c3c09){let _0xb2bb4d=_0x4ee604(0x5da),_0x8d3abd=_0x4c3c09 instanceof Error?_0x4c3c09[_0x4ee604(0x35e)]:typeof _0x4c3c09==_0x4ee604(0x6ae)?JSON['stringify'](_0x4c3c09):_0x4c3c09,_0x5d7215=_0xb2bb4d+':\x20'+_0x8d3abd;throw this['logger'][_0x4ee604(0x310)](this['instanceName']+'\x20('+this['instance'][_0x4ee604(0x3b8)]+_0x4ee604(0x839)+_0x5d7215),new m(_0x5d7215);}}async[a0_0x217659(0x51e)](_0x169f4b){const _0x134ad0=a0_0x217659;try{let _0x2250dc=await this[_0x134ad0(0x471)]['label'][_0x134ad0(0x6b5)]({'where':{}},this['instance'][_0x134ad0(0x3b8)]),_0x497711=new Set(_0x2250dc[_0x134ad0(0x557)](_0x26410f=>_0x26410f[_0x134ad0(0x353)])),_0x1751d1=[],_0x1b29a7=[];for(let _0x53e08c of _0x169f4b){if(!_0x53e08c[_0x134ad0(0x353)])continue;_0x53e08c[_0x134ad0(0x353)]=this[_0x134ad0(0x1af)](_0x53e08c[_0x134ad0(0x353)]);let _0x112e3d=await this[_0x134ad0(0x471)]['chat']['findOne']({'where':{'_id':_0x53e08c[_0x134ad0(0x353)]}},this[_0x134ad0(0x753)][_0x134ad0(0x3b8)]),_0x52115c={};if(Object[_0x134ad0(0x814)](_0x53e08c[_0x134ad0(0x532)])['forEach'](([_0x406c6c,_0x5f5a14])=>{const _0x26a9d9=_0x134ad0;_0x52115c[_0x26a9d9(0x812)+_0x406c6c]=_0x5f5a14;}),_0x112e3d&&!_0x112e3d[_0x134ad0(0x5ed)]){let _0x4722cc=(_0x53e08c[_0x134ad0(0x532)][_0x134ad0(0x355)]||[])[_0x134ad0(0xf8)](_0x482b40=>_0x497711[_0x134ad0(0x5b8)](_0x482b40)),_0xe5d4ae=new Set(_0x112e3d[_0x134ad0(0x532)][_0x134ad0(0x355)]||[]),_0x636107=_0x4722cc[_0x134ad0(0xf8)](_0x173b59=>!_0xe5d4ae[_0x134ad0(0x5b8)](_0x173b59)),_0x3ecb40=[..._0xe5d4ae][_0x134ad0(0xf8)](_0x3e18ea=>!_0x4722cc[_0x134ad0(0x2f7)](_0x3e18ea));_0x1b29a7[_0x134ad0(0x3e3)](..._0x636107[_0x134ad0(0x557)](_0x38aeae=>this[_0x134ad0(0x5d3)](_0x38aeae,_0x53e08c[_0x134ad0(0x353)]))),_0x1b29a7[_0x134ad0(0x3e3)](..._0x3ecb40['map'](_0x1c7dbd=>this[_0x134ad0(0x1cf)](_0x1c7dbd,_0x53e08c[_0x134ad0(0x353)]))),_0x53e08c['leadInfo'][_0x134ad0(0x355)]=_0x4722cc,_0x1751d1[_0x134ad0(0x3e3)]({'query':{'where':{'_id':_0x53e08c['_id'],'owner':this[_0x134ad0(0x753)][_0x134ad0(0x3b8)]}},'update':_0x52115c});}else _0x52115c[_0x134ad0(0x5ed)]=!0x0,_0x1751d1[_0x134ad0(0x3e3)]({'query':{'where':{'_id':_0x53e08c[_0x134ad0(0x353)],'owner':this[_0x134ad0(0x753)][_0x134ad0(0x3b8)]}},'update':_0x52115c});}let _0xe6cfc8=await this[_0x134ad0(0x471)][_0x134ad0(0x856)][_0x134ad0(0x34d)](_0x1751d1);return await Promise[_0x134ad0(0x598)](_0x1b29a7),{'updated':_0xe6cfc8};}catch(_0x5bc417){let _0x53c02a=_0x134ad0(0x5da),_0x4e23ba=_0x5bc417 instanceof Error?_0x5bc417[_0x134ad0(0x35e)]:typeof _0x5bc417==_0x134ad0(0x6ae)?JSON[_0x134ad0(0x176)](_0x5bc417):_0x5bc417,_0x39a7ce=_0x53c02a+':\x20'+_0x4e23ba;throw this[_0x134ad0(0x74b)][_0x134ad0(0x310)](this['instanceName']+'\x20('+this[_0x134ad0(0x753)][_0x134ad0(0x3b8)]+_0x134ad0(0x839)+_0x39a7ce),new m(_0x39a7ce);}}async[a0_0x217659(0x444)](){const _0x410032=a0_0x217659;return await this['client'][_0x410032(0x444)]();}async[a0_0x217659(0x698)](_0x8951f4){const _0x449014=a0_0x217659;try{return await this[_0x449014(0x136)][_0x449014(0x6eb)](_0x8951f4[_0x449014(0x615)][_0x449014(0x590)]),await this[_0x449014(0x136)][_0x449014(0x5fd)](_0x8951f4['privacySettings'][_0x449014(0x474)]),await this[_0x449014(0x136)][_0x449014(0x38b)](_0x8951f4[_0x449014(0x615)][_0x449014(0x381)]),await this[_0x449014(0x136)]['updateOnlinePrivacy'](_0x8951f4[_0x449014(0x615)][_0x449014(0x285)]),await this[_0x449014(0x136)][_0x449014(0x1fa)](_0x8951f4[_0x449014(0x615)][_0x449014(0x141)]),await this['client'][_0x449014(0x340)](_0x8951f4[_0x449014(0x615)][_0x449014(0x88a)]),this[_0x449014(0x136)]?.['ws']?.['close'](),{'update':_0x449014(0x503),'data':{'readreceipts':_0x8951f4[_0x449014(0x615)]['readreceipts'],'profile':_0x8951f4[_0x449014(0x615)]['profile'],'status':_0x8951f4[_0x449014(0x615)][_0x449014(0x381)],'online':_0x8951f4[_0x449014(0x615)]['online'],'last':_0x8951f4['privacySettings']['last'],'groupadd':_0x8951f4[_0x449014(0x615)][_0x449014(0x88a)]}};}catch(_0x31639f){let _0x1c6108=_0x449014(0x283),_0x54fe84=_0x31639f instanceof Error?_0x31639f['message']:typeof _0x31639f==_0x449014(0x6ae)?JSON[_0x449014(0x176)](_0x31639f):_0x31639f,_0x23343e=_0x1c6108+':\x20'+_0x54fe84;throw this['logger'][_0x449014(0x310)](this[_0x449014(0x4d8)]+'\x20('+this[_0x449014(0x753)][_0x449014(0x3b8)]+_0x449014(0x839)+_0x23343e),new m(_0x23343e);}}async[a0_0x217659(0x7e7)](_0x2c4bf0){const _0xfc6717=a0_0x217659;let _0x48678e=(_0x2c4bf0?this[_0xfc6717(0x1af)](_0x2c4bf0):this[_0xfc6717(0x136)]?.[_0xfc6717(0x792)]?.['id'])[_0xfc6717(0x828)](/:\d{1,2}@/g,'@');this['logger'][_0xfc6717(0x56b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xfc6717(0x36a)+_0x48678e);let _0x3daa94=await this[_0xfc6717(0x471)]['contact'][_0xfc6717(0x567)]({'where':{'_id':_0x48678e}},this['instance']['wuid']),_0x5c4f1f=_0x3daa94?_0x3daa94['pushName']:null;try{let _0x3d39b2=(await this[_0xfc6717(0x148)]({'numbers':[_0x48678e]}))?.[_0xfc6717(0x335)](),_0x429697=(await this[_0xfc6717(0x499)](_0x48678e,null,!0x1))[_0xfc6717(0x439)][_0xfc6717(0x3d8)],_0x108949=await this[_0xfc6717(0x750)](_0x3d39b2?.['jid']),_0x22f563=await this[_0xfc6717(0x4fe)](_0x3d39b2?.[_0xfc6717(0x560)]),_0x17f607=(await this[_0xfc6717(0x499)](_0x48678e,null,!0x1))[_0xfc6717(0x439)]['name'],_0x4566e6=await this[_0xfc6717(0x471)][_0xfc6717(0x856)][_0xfc6717(0x567)]({'where':{'_id':_0x48678e}},this[_0xfc6717(0x753)][_0xfc6717(0x3b8)]),_0x2b1230={'imagechat':_0x429697,'contactname':_0x5c4f1f||null,'pushName':_0x17f607,'status':_0x108949?.[_0xfc6717(0x381)],'isBusiness':_0x22f563[_0xfc6717(0x74c)],'email':_0x22f563?.[_0xfc6717(0x607)],'description':_0x22f563?.[_0xfc6717(0x88f)],'website':_0x22f563?.[_0xfc6717(0x293)]?.[_0xfc6717(0x335)](),'lastcache':Date['now'](),'imported':!_0x4566e6},_0xdbb2a1=await this['repository']['chat'][_0xfc6717(0x3bb)]({'where':{'_id':_0x48678e}},_0x2b1230,this[_0xfc6717(0x753)][_0xfc6717(0x3b8)]),_0x239575={'owner':this['instance']['wuid'],'_id':_0x48678e,'profilePictureUrl':_0x429697,'status':_0x108949?.[_0xfc6717(0x381)]};return this[_0xfc6717(0x471)][_0xfc6717(0x2c5)]['update']([_0x239575],this['instance'][_0xfc6717(0x3b8)]),_0xdbb2a1&&F(this[_0xfc6717(0x4d8)],_0xfc6717(0x529),{'chat':_0xdbb2a1}),{'wuid':_0x3d39b2?.[_0xfc6717(0x560)]||_0x48678e,'name':_0x3d39b2?.[_0xfc6717(0x4f7)],'pushName':_0x17f607,'numberExists':_0x3d39b2?.[_0xfc6717(0x799)],'picture':_0x429697,'status':_0x108949?.[_0xfc6717(0x381)],'isBusiness':_0x22f563[_0xfc6717(0x74c)],'email':_0x22f563?.[_0xfc6717(0x607)],'description':_0x22f563?.[_0xfc6717(0x88f)],'website':_0x22f563?.['website']?.[_0xfc6717(0x335)]()};}catch(_0x32910b){return this[_0xfc6717(0x74b)]['error'](_0xfc6717(0x867)+(_0x32910b instanceof Error?_0x32910b[_0xfc6717(0x35e)]:JSON[_0xfc6717(0x176)](_0x32910b,null,0x2))),{};}}async[a0_0x217659(0x4fe)](_0x25cc29){const _0x581c08=a0_0x217659;this['logger'][_0x581c08(0x56b)](this[_0x581c08(0x4d8)]+'\x20('+this[_0x581c08(0x753)][_0x581c08(0x3b8)]+'):Fetching\x20business\x20profile');try{let _0x1c2fff=_0x25cc29?this[_0x581c08(0x1af)](_0x25cc29):this[_0x581c08(0x753)][_0x581c08(0x3b8)],_0x2e1999=await this[_0x581c08(0x136)][_0x581c08(0x64f)](_0x1c2fff);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x581c08(0x753)]['wuid']+_0x581c08(0x413)),_0x2e1999?(this[_0x581c08(0x74b)][_0x581c08(0x56b)](this[_0x581c08(0x4d8)]+'\x20('+this[_0x581c08(0x753)][_0x581c08(0x3b8)]+_0x581c08(0x752)),{'isBusiness':!0x0,..._0x2e1999}):{'isBusiness':!0x1,'message':_0x581c08(0x83a),...(await this[_0x581c08(0x148)]({'numbers':[_0x1c2fff]}))?.[_0x581c08(0x335)]()};}catch(_0x4491e0){let _0x3d76bc=_0x581c08(0x5f1),_0x3cece5=_0x4491e0 instanceof Error?_0x4491e0[_0x581c08(0x35e)]:typeof _0x4491e0==_0x581c08(0x6ae)?JSON[_0x581c08(0x176)](_0x4491e0):_0x4491e0,_0x49f16b=_0x3d76bc+':\x20'+_0x3cece5;throw this[_0x581c08(0x74b)][_0x581c08(0x310)](this[_0x581c08(0x4d8)]+'\x20('+this[_0x581c08(0x753)][_0x581c08(0x3b8)]+'):\x20'+_0x49f16b),new x(_0x49f16b);}}async[a0_0x217659(0x750)](_0x8bdfa1){const _0x1eeec8=a0_0x217659;let _0x175d40=this['createJid'](_0x8bdfa1);try{return{'wuid':_0x175d40,'status':(await this[_0x1eeec8(0x136)]['fetchStatus'](_0x175d40))[0x0]?.[_0x1eeec8(0x381)]};}catch{return{'wuid':_0x175d40,'status':null};}}async[a0_0x217659(0x7f3)](_0x3aaadb){const _0x3dd595=a0_0x217659;try{return await this[_0x3dd595(0x136)]['updateProfileName'](_0x3aaadb),{'update':_0x3dd595(0x503)};}catch(_0x58bbc8){let _0x44cd9a=_0x3dd595(0x172),_0x5e8a3e=_0x58bbc8 instanceof Error?_0x58bbc8['message']:typeof _0x58bbc8==_0x3dd595(0x6ae)?JSON['stringify'](_0x58bbc8):_0x58bbc8,_0x2b896c=_0x44cd9a+':\x20'+_0x5e8a3e;throw this[_0x3dd595(0x74b)][_0x3dd595(0x310)](this[_0x3dd595(0x4d8)]+'\x20('+this[_0x3dd595(0x753)]['wuid']+_0x3dd595(0x839)+_0x2b896c),new x(_0x2b896c);}}async[a0_0x217659(0x276)](_0x233d2f){const _0x153779=a0_0x217659;try{return await this[_0x153779(0x136)]['updateProfileStatus'](_0x233d2f),{'update':_0x153779(0x503)};}catch(_0x171bbf){let _0x1d696a=_0x153779(0x537),_0x46700b=_0x171bbf instanceof Error?_0x171bbf[_0x153779(0x35e)]:typeof _0x171bbf==_0x153779(0x6ae)?JSON['stringify'](_0x171bbf):_0x171bbf,_0x3c665c=_0x1d696a+':\x20'+_0x46700b;throw this[_0x153779(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x153779(0x753)][_0x153779(0x3b8)]+_0x153779(0x839)+_0x3c665c),new x(_0x3c665c);}}async[a0_0x217659(0x611)](_0x11f9d4){const _0x11bb17=a0_0x217659;try{let _0x930aad;if((0x0,J[_0x11bb17(0x113)])(_0x11f9d4)){let _0x5195ce=new Date()[_0x11bb17(0x69d)](),_0x401a97=_0x11f9d4+_0x11bb17(0x4e3)+_0x5195ce;_0x930aad=(await K[_0x11bb17(0x85a)][_0x11bb17(0x3f4)](_0x401a97,{'responseType':_0x11bb17(0x725)}))['data'];}else{if((0x0,J[_0x11bb17(0x639)])(_0x11f9d4))_0x930aad=Buffer[_0x11bb17(0x73a)](_0x11f9d4,_0x11bb17(0x80f));else throw new m(_0x11bb17(0x6e6));}return await this['client'][_0x11bb17(0x611)](this[_0x11bb17(0x753)][_0x11bb17(0x3b8)],_0x930aad),{'update':_0x11bb17(0x503)};}catch(_0x3097ea){let _0x508223=_0x11bb17(0x62e),_0x298b09=_0x3097ea instanceof Error?_0x3097ea['message']:typeof _0x3097ea==_0x11bb17(0x6ae)?JSON['stringify'](_0x3097ea):_0x3097ea,_0x314c76=_0x508223+':\x20'+_0x298b09;throw this[_0x11bb17(0x74b)][_0x11bb17(0x310)](this[_0x11bb17(0x4d8)]+'\x20('+this['instance'][_0x11bb17(0x3b8)]+_0x11bb17(0x839)+_0x314c76),new x(_0x314c76);}}async[a0_0x217659(0x895)](){const _0x13ef31=a0_0x217659;try{return await this[_0x13ef31(0x136)][_0x13ef31(0x895)](this['instance'][_0x13ef31(0x3b8)]),{'update':_0x13ef31(0x503)};}catch(_0x8f8289){let _0xd14e8=_0x13ef31(0x50e),_0x283227=_0x8f8289 instanceof Error?_0x8f8289[_0x13ef31(0x35e)]:typeof _0x8f8289==_0x13ef31(0x6ae)?JSON[_0x13ef31(0x176)](_0x8f8289):_0x8f8289,_0x8f1732=_0xd14e8+':\x20'+_0x283227;throw this[_0x13ef31(0x74b)][_0x13ef31(0x310)](this[_0x13ef31(0x4d8)]+'\x20('+this[_0x13ef31(0x753)]['wuid']+_0x13ef31(0x839)+_0x8f1732),new x(_0x8f1732);}}async[a0_0x217659(0x406)](_0x5ef6e0){const _0x4c82b6=a0_0x217659;try{let _0x18eae8=(await this[_0x4c82b6(0x148)]({'numbers':_0x5ef6e0[_0x4c82b6(0x764)]}))['filter'](_0x1586e0=>_0x1586e0[_0x4c82b6(0x799)])['map'](_0x6a801c=>_0x6a801c[_0x4c82b6(0x560)]),{id:_0x29af17}=await this['client']['groupCreate'](_0x5ef6e0[_0x4c82b6(0x49f)],_0x18eae8);_0x5ef6e0?.[_0x4c82b6(0x88f)]&&await this['client']['groupUpdateDescription'](_0x29af17,_0x5ef6e0[_0x4c82b6(0x88f)]);let _0x22b268=await this[_0x4c82b6(0x136)]['groupMetadata'](_0x29af17);return _0x22b268[_0x4c82b6(0x46e)]=[],await this[_0x4c82b6(0x370)](_0x22b268),{'metadata':_0x22b268};}catch(_0x2b3d42){let _0x15693f=_0x4c82b6(0x689),_0x14a732=_0x2b3d42 instanceof Error?_0x2b3d42['message']:typeof _0x2b3d42=='object'?JSON[_0x4c82b6(0x176)](_0x2b3d42):_0x2b3d42,_0x2da527=_0x15693f+':\x20'+_0x14a732;throw this['logger'][_0x4c82b6(0x310)](this[_0x4c82b6(0x4d8)]+'\x20('+this[_0x4c82b6(0x753)][_0x4c82b6(0x3b8)]+_0x4c82b6(0x839)+_0x2da527),new x(_0x2da527);}}async[a0_0x217659(0x6ed)](_0x4431ec){const _0x290c3c=a0_0x217659;try{if(_0x4431ec['restrict']===!0x0&&await this[_0x290c3c(0x136)][_0x290c3c(0x834)](_0x4431ec['groupJid'],'locked'),_0x4431ec[_0x290c3c(0x1bd)]===!0x1&&await this['client'][_0x290c3c(0x834)](_0x4431ec[_0x290c3c(0x2c3)],_0x290c3c(0x72e)),_0x4431ec[_0x290c3c(0x459)]===!0x0&&await this[_0x290c3c(0x136)][_0x290c3c(0x834)](_0x4431ec[_0x290c3c(0x2c3)],_0x290c3c(0x1d5)),_0x4431ec[_0x290c3c(0x459)]===!0x1&&await this[_0x290c3c(0x136)][_0x290c3c(0x834)](_0x4431ec[_0x290c3c(0x2c3)],_0x290c3c(0x11f)),_0x4431ec['memberAddMode']===!0x0&&await this[_0x290c3c(0x136)]['groupMemberAddMode'](_0x4431ec[_0x290c3c(0x2c3)],_0x290c3c(0x4dc)),_0x4431ec[_0x290c3c(0x4cb)]===!0x1&&await this['client']['groupMemberAddMode'](_0x4431ec[_0x290c3c(0x2c3)],_0x290c3c(0x475)),_0x4431ec[_0x290c3c(0x377)]===!0x0&&await this[_0x290c3c(0x136)][_0x290c3c(0x5a0)](_0x4431ec[_0x290c3c(0x2c3)],'on'),_0x4431ec[_0x290c3c(0x377)]===!0x1&&await this['client'][_0x290c3c(0x5a0)](_0x4431ec['groupJid'],_0x290c3c(0x24d)),typeof _0x4431ec[_0x290c3c(0x457)]<'u'&&_0x4431ec[_0x290c3c(0x457)]!==null&&await this['client'][_0x290c3c(0x5c1)](_0x4431ec[_0x290c3c(0x2c3)],_0x4431ec[_0x290c3c(0x457)]),_0x4431ec['name']&&await this['client'][_0x290c3c(0x6bc)](_0x4431ec[_0x290c3c(0x2c3)],_0x4431ec[_0x290c3c(0x4f7)]),_0x4431ec['description']&&await this[_0x290c3c(0x136)][_0x290c3c(0x56a)](_0x4431ec[_0x290c3c(0x2c3)],_0x4431ec['description']),_0x4431ec[_0x290c3c(0x63e)]){let _0x381980;if((0x0,J['isURL'])(_0x4431ec['image'])){let _0x400919=new Date()[_0x290c3c(0x69d)](),_0x511c17=_0x4431ec[_0x290c3c(0x63e)]+'?timestamp='+_0x400919;_0x381980=(await K[_0x290c3c(0x85a)][_0x290c3c(0x3f4)](_0x511c17,{'responseType':_0x290c3c(0x725)}))[_0x290c3c(0x5a3)];}else{if((0x0,J['isBase64'])(_0x4431ec[_0x290c3c(0x63e)]))_0x381980=Buffer[_0x290c3c(0x73a)](_0x4431ec[_0x290c3c(0x63e)],_0x290c3c(0x80f));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x290c3c(0x136)][_0x290c3c(0x611)](_0x4431ec[_0x290c3c(0x2c3)],_0x381980);}return await this[_0x290c3c(0x362)]({'groupJid':_0x4431ec[_0x290c3c(0x2c3)]});}catch(_0x5c7459){let _0x139956=_0x290c3c(0x365),_0x1965ec=_0x5c7459 instanceof Error?_0x5c7459[_0x290c3c(0x35e)]:typeof _0x5c7459==_0x290c3c(0x6ae)?JSON['stringify'](_0x5c7459):_0x5c7459,_0x4232fa=_0x139956+':\x20'+_0x1965ec;throw this[_0x290c3c(0x74b)][_0x290c3c(0x310)](this['instanceName']+'\x20('+this[_0x290c3c(0x753)][_0x290c3c(0x3b8)]+_0x290c3c(0x839)+_0x4232fa),new x(_0x4232fa);}}async[a0_0x217659(0x5df)](_0x2a47c9){const _0x458101=a0_0x217659;try{let _0x3278b7=_0x2a47c9[_0x458101(0x764)][_0x458101(0x557)](_0x456659=>this[_0x458101(0x1af)](_0x456659));if(_0x2a47c9[_0x458101(0x56e)]==='approve'||_0x2a47c9[_0x458101(0x56e)]===_0x458101(0x852))await this[_0x458101(0x136)][_0x458101(0x5b2)](_0x2a47c9['groupJid'],_0x3278b7,_0x2a47c9[_0x458101(0x56e)]);else{if(_0x2a47c9[_0x458101(0x56e)]==='add'){let _0x12b661=(await this[_0x458101(0x148)]({'numbers':_0x2a47c9[_0x458101(0x764)]}))[_0x458101(0xf8)](_0x27eb66=>_0x27eb66[_0x458101(0x799)])[_0x458101(0x557)](_0x5888fb=>this[_0x458101(0x1af)](_0x5888fb[_0x458101(0x560)]));if(_0x12b661[_0x458101(0xf4)]===0x0)throw new m('Nenhum\x20participante\x20vlido\x20encontrado.');await this[_0x458101(0x136)][_0x458101(0x813)](_0x2a47c9[_0x458101(0x2c3)],_0x12b661,_0x458101(0x735));}else await this[_0x458101(0x136)][_0x458101(0x813)](_0x2a47c9['groupJid'],_0x3278b7,_0x2a47c9['action']);}return await this[_0x458101(0x362)]({'groupJid':_0x2a47c9[_0x458101(0x2c3)]});}catch(_0x8dd17a){let _0x26ef9b=_0x458101(0x43b),_0x4c8cfa=_0x8dd17a instanceof Error?_0x8dd17a[_0x458101(0x35e)]:typeof _0x8dd17a==_0x458101(0x6ae)?JSON[_0x458101(0x176)](_0x8dd17a):_0x8dd17a,_0x1d4669=_0x26ef9b+':\x20'+_0x4c8cfa;throw this[_0x458101(0x74b)][_0x458101(0x310)](this[_0x458101(0x4d8)]+'\x20('+this['instance'][_0x458101(0x3b8)]+_0x458101(0x839)+_0x1d4669),new m(_0x1d4669);}}async[a0_0x217659(0x7d0)](_0x426245){const _0x4f76c5=a0_0x217659;try{return await this[_0x4f76c5(0x136)]['groupGetInviteInfo'](_0x426245[_0x4f76c5(0x39d)]);}catch(_0x1d723d){let _0xa7fd07=_0x4f76c5(0x342),_0x24bf02=_0x1d723d instanceof Error?_0x1d723d[_0x4f76c5(0x35e)]:typeof _0x1d723d==_0x4f76c5(0x6ae)?JSON[_0x4f76c5(0x176)](_0x1d723d):_0x1d723d,_0x173902=_0xa7fd07+':\x20'+_0x24bf02;throw this[_0x4f76c5(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x4f76c5(0x753)]['wuid']+_0x4f76c5(0x839)+_0x173902),new m(_0x173902);}}async['findGroup'](_0x201036,_0x3902e7='out'){const _0x2f400c=a0_0x217659;try{let _0x2596b1=await this[_0x2f400c(0x471)][_0x2f400c(0x856)][_0x2f400c(0x567)]({'where':{'_id':_0x201036['groupJid']}},this['instance'][_0x2f400c(0x3b8)]),_0x3e60b9=_0x2596b1?_0x2596b1[_0x2f400c(0x85b)]:null,_0x24a6fb=0x18*0x3c*0x3c*0x3e8;if(!_0x3e60b9||_0x3e60b9[_0x2f400c(0x1ac)]&&Date['now']()-_0x3e60b9['lastUpdate']>_0x24a6fb){let _0x4a844f=await this[_0x2f400c(0x136)]['groupMetadata'](_0x201036[_0x2f400c(0x2c3)]);if(_0x4a844f['subjectTime']=_0x4a844f?.['subjectTime']&&_0x4a844f[_0x2f400c(0x2e8)][_0x2f400c(0x76d)]()[_0x2f400c(0xf4)]<0xd?_0x4a844f?.[_0x2f400c(0x2e8)]*0x3e8:_0x4a844f?.[_0x2f400c(0x2e8)]||null,_0x4a844f[_0x2f400c(0x2c0)]=_0x4a844f?.[_0x2f400c(0x2c0)]&&_0x4a844f[_0x2f400c(0x2c0)][_0x2f400c(0x76d)]()[_0x2f400c(0xf4)]<0xd?_0x4a844f?.[_0x2f400c(0x2c0)]*0x3e8:_0x4a844f?.[_0x2f400c(0x2c0)]||null,_0x3e60b9={..._0x4a844f,'lastUpdate':Date[_0x2f400c(0x11c)]()},!_0x4a844f)return;}let _0x44f4c1=_0x3e60b9['participants']?.[_0x2f400c(0x102)](_0xa098b4=>_0xa098b4['id']===this[_0x2f400c(0x753)][_0x2f400c(0x3b8)]+_0x2f400c(0x1fc)&&_0xa098b4[_0x2f400c(0x754)]!=null)||!0x1;!_0x3e60b9['inviteCode']&&_0x44f4c1&&(_0x3e60b9['inviteCode']=(await this[_0x2f400c(0x39d)](_0x201036,!0x1))[_0x2f400c(0x338)]);let _0x383eac=(!_0x3e60b9[_0x2f400c(0x459)]||_0x44f4c1)&&(!_0x3e60b9[_0x2f400c(0x545)]||_0x44f4c1);_0x3e60b9[_0x2f400c(0x6c2)]=_0x44f4c1,_0x3e60b9['canSendMessage']=_0x383eac;let _0x307e8e=[];if(_0x44f4c1&&_0x3e60b9[_0x2f400c(0x377)])try{_0x307e8e=await this[_0x2f400c(0x136)][_0x2f400c(0x346)](_0x201036['groupJid']),_0x3e60b9['lastFetchAwaitingApproval']=Date['now']();}catch(_0x2a0b48){this[_0x2f400c(0x74b)][_0x2f400c(0x56b)](this[_0x2f400c(0x4d8)]+'\x20('+this[_0x2f400c(0x753)][_0x2f400c(0x3b8)]+_0x2f400c(0x146)+_0x201036[_0x2f400c(0x2c3)]+':\x20'+(_0x2a0b48 instanceof Error?_0x2a0b48['message']:JSON[_0x2f400c(0x176)](_0x2a0b48,null,0x2)));}try{_0x3e60b9[_0x2f400c(0x63e)]=(await this[_0x2f400c(0x499)](_0x201036['groupJid'],null,!0x0))[_0x2f400c(0x439)][_0x2f400c(0x3d8)];}catch(_0x4d31c1){this[_0x2f400c(0x74b)]['verbose'](this[_0x2f400c(0x4d8)]+'\x20('+this['instance'][_0x2f400c(0x3b8)]+_0x2f400c(0x2ea)+_0x201036[_0x2f400c(0x2c3)]+':\x20'+(_0x4d31c1 instanceof Error?_0x4d31c1['message']:JSON[_0x2f400c(0x176)](_0x4d31c1,null,0x2)));}let _0x2dcc48=_0x3e60b9[_0x2f400c(0x764)][_0x2f400c(0x557)](_0x1cb6c7=>_0x1cb6c7['id']),_0x4928a4=_0x307e8e[_0x2f400c(0x557)](_0x1309fb=>_0x1309fb[_0x2f400c(0x560)]),_0x4f3862=await this[_0x2f400c(0x471)][_0x2f400c(0x820)][_0x2f400c(0x86e)]([..._0x2dcc48,..._0x4928a4]);_0x3e60b9[_0x2f400c(0x764)]=_0x3e60b9[_0x2f400c(0x764)][_0x2f400c(0x557)](_0x1ffbee=>{const _0x4d0a06=_0x2f400c;let _0x30fa6c=_0x4f3862[_0x4d0a06(0x6b5)](_0x2d0181=>_0x2d0181['_id']===_0x1ffbee['id']);return{'id':_0x1ffbee['id'],'isAdmin':['admin',_0x4d0a06(0x72d)][_0x4d0a06(0x2f7)](_0x1ffbee[_0x4d0a06(0x754)]),'admin':_0x1ffbee[_0x4d0a06(0x754)],'pushName':_0x30fa6c?.[_0x4d0a06(0x4f7)],'profilePictureUrl':_0x30fa6c?.[_0x4d0a06(0x3d8)]};}),_0x3e60b9[_0x2f400c(0x46e)]=_0x307e8e[_0x2f400c(0x557)](_0x23bf7d=>{const _0x47f751=_0x2f400c;let _0x23b09a=_0x4f3862['find'](_0x254c89=>_0x254c89[_0x47f751(0x353)]===_0x23bf7d[_0x47f751(0x560)]);return{'id':_0x23bf7d[_0x47f751(0x560)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x23b09a?.['name'],'profilePictureUrl':_0x23b09a?.[_0x47f751(0x3d8)],'request_method':_0x23bf7d[_0x47f751(0x65e)],'request_time':_0x23bf7d[_0x47f751(0x6ad)]};});let _0x1d5773=await this['repository'][_0x2f400c(0x856)][_0x2f400c(0x3bb)]({'where':{'_id':_0x201036[_0x2f400c(0x2c3)]}},{'imagechat':_0x3e60b9[_0x2f400c(0x63e)],'name':_0x3e60b9['subject'],'lastcache':Date[_0x2f400c(0x11c)](),'groupdata':_0x3e60b9},this[_0x2f400c(0x753)][_0x2f400c(0x3b8)]);return F(this['instanceName'],'chats',{'chat':_0x1d5773}),{'metadata':_0x3e60b9};}catch(_0x258659){if(_0x3902e7===_0x2f400c(0x3b4))return;throw new U(_0x2f400c(0x744),_0x258659[_0x2f400c(0x35e)][_0x2f400c(0x76d)]());}}async[a0_0x217659(0x245)](){const _0x9fb7d8=a0_0x217659;try{this[_0x9fb7d8(0x74b)][_0x9fb7d8(0x4f5)](_0x9fb7d8(0x445));let _0x115bc0=Date[_0x9fb7d8(0x11c)](),_0x8161e4=0x3*0x3c*0x3c*0x3e8;return _0x115bc0-this['lastRealGroupsFetch']>_0x8161e4&&(this[_0x9fb7d8(0x14b)](),this[_0x9fb7d8(0x2a3)]=_0x115bc0),(await this[_0x9fb7d8(0x471)]['chat'][_0x9fb7d8(0x550)]({'where':{'group':!0x0}},this['instance']['wuid']))[_0x9fb7d8(0x557)](_0x20de63=>({..._0x20de63['groupdata'],'groupJid':_0x20de63?.[_0x9fb7d8(0x353)],'participants':_0x20de63?.[_0x9fb7d8(0x85b)]?.['participants']||[],'awaitingApproval':_0x20de63?.[_0x9fb7d8(0x85b)]?.[_0x9fb7d8(0x46e)]||[],'image':_0x20de63?.['imagechat']}));}catch(_0x3a2f23){let _0x3d1afe=_0x9fb7d8(0x74d),_0x34aca7=_0x3a2f23 instanceof Error?_0x3a2f23['message']:typeof _0x3a2f23==_0x9fb7d8(0x6ae)?JSON[_0x9fb7d8(0x176)](_0x3a2f23):_0x3a2f23,_0x17bd9a=_0x3d1afe+':\x20'+_0x34aca7;throw this[_0x9fb7d8(0x74b)][_0x9fb7d8(0x310)](this[_0x9fb7d8(0x4d8)]+'\x20('+this[_0x9fb7d8(0x753)][_0x9fb7d8(0x3b8)]+'):\x20'+_0x17bd9a),new U(_0x17bd9a);}}async['findRealGroups'](){const _0x483184=a0_0x217659;try{this['logger'][_0x483184(0x4f5)](_0x483184(0x797));let _0x36d03e=[],_0x891eea=await this[_0x483184(0x136)][_0x483184(0x789)](),_0x531eaa=Object['values'](_0x891eea);for(let _0x43c3f9=0x0;_0x43c3f9<_0x531eaa[_0x483184(0xf4)];_0x43c3f9++){let _0x429618=_0x531eaa[_0x43c3f9];(0x0,w[_0x483184(0x463)])(_0x429618?.['id'])&&(_0x36d03e[_0x483184(0x3e3)]({'groupJid':_0x429618?.['id'],'subject':_0x429618?.['subject'],'subjectOwner':_0x429618?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x429618?.[_0x483184(0x2e8)],'creation':_0x429618?.['creation'],'size':_0x429618?.['participants']?.[_0x483184(0xf4)],'owner':_0x429618?.[_0x483184(0x401)]?.['split']('@')[0x0],'desc':_0x429618?.[_0x483184(0x116)],'restrict':_0x429618?.['restrict'],'announce':_0x429618?.[_0x483184(0x459)],'image':null,'isCommunity':_0x429618?.[_0x483184(0x545)],'joinApprovalMode':_0x429618?.[_0x483184(0x377)],'memberCanAddParticipant':_0x429618?.[_0x483184(0x4cb)],'participants':_0x429618?.[_0x483184(0x764)],'descOwner':_0x429618?.[_0x483184(0x378)],'descId':_0x429618?.[_0x483184(0x4d1)],'memberAddMode':_0x429618?.[_0x483184(0x4cb)],'isCommunityAnnounce':_0x429618?.['isCommunityAnnounce'],'ephemeralDuration':_0x429618?.[_0x483184(0xee)]||0x0,'author':_0x429618?.['author']}),this['updateChatGroupData'](_0x531eaa[_0x43c3f9]));}return _0x36d03e;}catch(_0x2d5285){let _0x527787=_0x483184(0x11b),_0x16b59f=_0x2d5285 instanceof Error?_0x2d5285[_0x483184(0x35e)]:typeof _0x2d5285==_0x483184(0x6ae)?JSON[_0x483184(0x176)](_0x2d5285):_0x2d5285,_0x338b81=_0x527787+':\x20'+_0x16b59f;throw this[_0x483184(0x74b)][_0x483184(0x310)](this[_0x483184(0x4d8)]+'\x20('+this['instance'][_0x483184(0x3b8)]+_0x483184(0x839)+_0x338b81),new U(_0x338b81);}}async[a0_0x217659(0x370)](_0x3be678){const _0x535ed3=a0_0x217659;let _0x449ffd=await this[_0x535ed3(0x471)]['chat'][_0x535ed3(0x567)]({'where':{'_id':_0x3be678['id']}},this[_0x535ed3(0x753)][_0x535ed3(0x3b8)]);if(_0x3be678['subjectTime']=_0x3be678?.[_0x535ed3(0x2e8)]&&_0x3be678[_0x535ed3(0x2e8)][_0x535ed3(0x76d)]()[_0x535ed3(0xf4)]<0xd?_0x3be678?.['subjectTime']*0x3e8:_0x3be678?.['subjectTime']||null,_0x3be678[_0x535ed3(0x2c0)]=_0x3be678?.[_0x535ed3(0x2c0)]&&_0x3be678[_0x535ed3(0x2c0)][_0x535ed3(0x76d)]()['length']<0xd?_0x3be678?.[_0x535ed3(0x2c0)]*0x3e8:_0x3be678?.['creation']||null,!_0x3be678[_0x535ed3(0x63e)])try{_0x3be678[_0x535ed3(0x63e)]=await this['client']['profilePictureUrl'](_0x3be678['id'],_0x535ed3(0x576));}catch(_0x37f3bf){this['logger']['verbose'](this[_0x535ed3(0x4d8)]+'\x20('+this[_0x535ed3(0x753)][_0x535ed3(0x3b8)]+_0x535ed3(0x2ea)+_0x3be678['id']+':\x20'+(_0x37f3bf instanceof Error?_0x37f3bf[_0x535ed3(0x35e)]:JSON[_0x535ed3(0x176)](_0x37f3bf,null,0x2)));}let _0x4436ca=_0x3be678[_0x535ed3(0x764)][_0x535ed3(0x557)](_0x348516=>{const _0xc7316e=_0x535ed3;let _0x1694d1=_0x449ffd?.[_0xc7316e(0x85b)]?.['participants'][_0xc7316e(0x6b5)](_0x305723=>_0x305723['id']===_0x348516['id']);return{..._0x348516,'isAdmin':[_0xc7316e(0x754),_0xc7316e(0x72d)][_0xc7316e(0x2f7)](_0x348516[_0xc7316e(0x754)]),'admin':_0x348516[_0xc7316e(0x754)],'name':_0x1694d1?.['name']||_0x348516[_0xc7316e(0x4f7)],'imgUrl':_0x1694d1?.[_0xc7316e(0x632)]||_0x348516[_0xc7316e(0x632)]};}),_0x163c42=_0x4436ca[_0x535ed3(0x102)](_0xbfcda=>_0xbfcda['id']===this[_0x535ed3(0x753)][_0x535ed3(0x3b8)]+_0x535ed3(0x1fc)&&_0xbfcda[_0x535ed3(0x754)]!=null)||!0x1,_0xab240f=(!_0x3be678['announce']||_0x163c42)&&(!_0x3be678[_0x535ed3(0x545)]||_0x163c42),_0x37fc18={..._0x3be678,'participants':_0x4436ca,'awaitingApproval':_0x449ffd?.['groupdata']?.[_0x535ed3(0x46e)]||[],'lastFetchAwaitingApproval':_0x449ffd?.[_0x535ed3(0x85b)]?.[_0x535ed3(0x7da)],'isAdmin':_0x163c42,'canSendMessage':_0xab240f,'lastUpdate':Date[_0x535ed3(0x11c)]()};await this[_0x535ed3(0x471)][_0x535ed3(0x856)][_0x535ed3(0x3bb)]({'where':{'_id':_0x3be678['id']}},{'imagechat':_0x3be678['image'],'name':_0x3be678['subject'],'group':!0x0,'groupdata':_0x37fc18,'lastcache':Date[_0x535ed3(0x11c)]()},this[_0x535ed3(0x753)]['wuid']),F(this[_0x535ed3(0x4d8)],'chats',{'chat':_0x3be678});}async['updateGroupWebhook'](_0x462fb0){const _0x59f182=a0_0x217659;let _0xf60190=await this[_0x59f182(0x471)][_0x59f182(0x856)][_0x59f182(0x567)]({'where':{'_id':_0x462fb0['id']}},this[_0x59f182(0x753)]['wuid']);_0x462fb0['subjectTime']=_0x462fb0?.[_0x59f182(0x2e8)]&&_0x462fb0[_0x59f182(0x2e8)][_0x59f182(0x76d)]()[_0x59f182(0xf4)]<0xd?_0x462fb0?.[_0x59f182(0x2e8)]*0x3e8:_0x462fb0?.[_0x59f182(0x2e8)]||null,_0x462fb0[_0x59f182(0x2c0)]=_0x462fb0?.[_0x59f182(0x2c0)]&&_0x462fb0['creation'][_0x59f182(0x76d)]()[_0x59f182(0xf4)]<0xd?_0x462fb0?.['creation']*0x3e8:_0x462fb0?.[_0x59f182(0x2c0)]||null,_0x462fb0[_0x59f182(0x39d)]&&(_0x462fb0['inviteCode']=_0x59f182(0x568)+_0x462fb0[_0x59f182(0x39d)]);let _0x30039e=_0xf60190?.['groupdata']?{..._0xf60190[_0x59f182(0x85b)]}:{};Object[_0x59f182(0x669)](_0x462fb0)[_0x59f182(0x3f7)](_0x334ae6=>{_0x334ae6!=='id'&&(_0x30039e[_0x334ae6]=_0x462fb0[_0x334ae6]);});let _0x328315=_0x30039e[_0x59f182(0x764)]?.[_0x59f182(0x102)](_0x352ee1=>_0x352ee1['id']===this['instance'][_0x59f182(0x3b8)]+_0x59f182(0x1fc)&&_0x352ee1[_0x59f182(0x754)]!=null)||!0x1;_0x30039e[_0x59f182(0x6c2)]=_0x328315;let _0x1eeb3e=(!_0x30039e[_0x59f182(0x459)]||_0x328315)&&(!_0x30039e[_0x59f182(0x545)]||_0x328315);_0x30039e['canSendMessage']=_0x1eeb3e;let _0x3bb1b5={'group':!0x0,'groupdata':_0x30039e};_0x462fb0[_0x59f182(0x49f)]&&(_0x3bb1b5[_0x59f182(0x4f7)]=_0x462fb0[_0x59f182(0x49f)]),await this[_0x59f182(0x471)][_0x59f182(0x856)][_0x59f182(0x3bb)]({'where':{'_id':_0x462fb0['id']}},_0x3bb1b5,this[_0x59f182(0x753)]['wuid'],{'upsert':!0x0}),F(this['instanceName'],_0x59f182(0x529),{'chat':_0x3bb1b5});}async[a0_0x217659(0x6ce)](_0x15a2c7){const _0x5c7b0d=a0_0x217659;let _0x5776f7=await this[_0x5c7b0d(0x471)]['chat'][_0x5c7b0d(0x567)]({'where':{'_id':_0x15a2c7['id']}},this[_0x5c7b0d(0x753)][_0x5c7b0d(0x3b8)]);if(!_0x5776f7||!_0x5776f7['groupdata']){this[_0x5c7b0d(0x74b)][_0x5c7b0d(0x4f5)](this['instanceName']+'\x20('+this[_0x5c7b0d(0x753)][_0x5c7b0d(0x3b8)]+_0x5c7b0d(0x223)+_0x15a2c7['id']);return;}let _0x183b2f=await this[_0x5c7b0d(0x471)][_0x5c7b0d(0x820)][_0x5c7b0d(0x86e)](_0x15a2c7[_0x5c7b0d(0x764)]),_0x2bfd01=[..._0x5776f7[_0x5c7b0d(0x85b)]?.[_0x5c7b0d(0x764)]];switch(_0x15a2c7['action']){case _0x5c7b0d(0x735):_0x183b2f[_0x5c7b0d(0x557)](_0x12c063=>({'id':_0x12c063[_0x5c7b0d(0x353)],'isAdmin':!0x1,'name':_0x12c063['name'],'imgUrl':_0x12c063[_0x5c7b0d(0x3d8)]}))['forEach'](_0x473f26=>{const _0x1401ae=_0x5c7b0d;_0x2bfd01[_0x1401ae(0x102)](_0x592857=>_0x592857['id']===_0x473f26['id'])||(_0x2bfd01[_0x1401ae(0x3e3)](_0x473f26),this[_0x1401ae(0x74b)][_0x1401ae(0x4f5)](_0x1401ae(0x892)+JSON['stringify'](_0x473f26)));});break;case'remove':_0x2bfd01=_0x2bfd01['filter'](_0x5985b4=>!_0x15a2c7['participants'][_0x5c7b0d(0x2f7)](_0x5985b4['id']));break;case _0x5c7b0d(0x480):_0x2bfd01=_0x2bfd01[_0x5c7b0d(0x557)](_0x1f1b44=>_0x15a2c7[_0x5c7b0d(0x764)]['includes'](_0x1f1b44['id'])?{..._0x1f1b44,'isAdmin':!0x0,'admin':_0x5c7b0d(0x754)}:_0x1f1b44);break;case _0x5c7b0d(0x7ce):_0x2bfd01=_0x2bfd01[_0x5c7b0d(0x557)](_0x481905=>_0x15a2c7[_0x5c7b0d(0x764)][_0x5c7b0d(0x2f7)](_0x481905['id'])?{..._0x481905,'isAdmin':!0x1,'admin':null}:_0x481905);break;}let _0x401e1b=_0x2bfd01['length'],_0x54ecdf=_0x2bfd01['some'](_0x530c6b=>_0x530c6b['id']===this[_0x5c7b0d(0x753)][_0x5c7b0d(0x3b8)]+_0x5c7b0d(0x1fc)),_0x1cb350=_0x54ecdf&&_0x2bfd01[_0x5c7b0d(0x102)](_0x495e66=>_0x495e66['id']===this['instance']['wuid']+_0x5c7b0d(0x1fc)&&_0x495e66['admin']!=null)||!0x1,_0x379471=_0x54ecdf&&(!_0x5776f7['groupdata'][_0x5c7b0d(0x459)]||_0x1cb350)&&(!_0x5776f7[_0x5c7b0d(0x85b)][_0x5c7b0d(0x545)]||_0x1cb350);await this[_0x5c7b0d(0x471)][_0x5c7b0d(0x856)][_0x5c7b0d(0x3bb)]({'where':{'_id':_0x15a2c7['id']}},{'groupdata':{..._0x5776f7[_0x5c7b0d(0x85b)],'participants':_0x2bfd01,'size':_0x401e1b,'isAdmin':_0x1cb350,'canSendMessage':_0x379471}},this['instance'][_0x5c7b0d(0x3b8)]),this[_0x5c7b0d(0x74b)][_0x5c7b0d(0x4f5)](this[_0x5c7b0d(0x4d8)]+'\x20('+this['instance'][_0x5c7b0d(0x3b8)]+_0x5c7b0d(0x483)+_0x15a2c7['id']+_0x5c7b0d(0x494)+_0x15a2c7[_0x5c7b0d(0x56e)]+_0x5c7b0d(0x7ae)+_0x401e1b+',\x20isAdmin:\x20'+_0x1cb350+_0x5c7b0d(0x7b4)+_0x379471);}async['inviteCode'](_0x339712,_0x105339=!0x0){const _0x11af09=a0_0x217659;try{let _0x2bd9df=await this[_0x11af09(0x136)]['groupInviteCode'](_0x339712[_0x11af09(0x2c3)]),_0x649384={'groupdata.inviteCode':_0x11af09(0x568)+_0x2bd9df};if(_0x105339){let _0x230060=await this[_0x11af09(0x471)][_0x11af09(0x856)][_0x11af09(0x3bb)]({'where':{'_id':_0x339712[_0x11af09(0x2c3)]}},_0x649384,this[_0x11af09(0x753)][_0x11af09(0x3b8)]);}return{'inviteUrl':_0x11af09(0x568)+_0x2bd9df,'inviteCode':_0x2bd9df};}catch(_0x44f484){let _0xe3cc1e=_0x11af09(0x592),_0x507e57=_0x44f484 instanceof Error?_0x44f484[_0x11af09(0x35e)]:typeof _0x44f484==_0x11af09(0x6ae)?JSON[_0x11af09(0x176)](_0x44f484):_0x44f484,_0x4178ba=_0xe3cc1e+':\x20'+_0x507e57;throw this[_0x11af09(0x74b)][_0x11af09(0x310)](this[_0x11af09(0x4d8)]+'\x20('+this[_0x11af09(0x753)][_0x11af09(0x3b8)]+'):\x20'+_0x4178ba),new U(_0x4178ba);}}async[a0_0x217659(0x21f)](_0x58f296){const _0x3d30a7=a0_0x217659;try{let _0x48e2d6=await this[_0x3d30a7(0x136)][_0x3d30a7(0x34f)](_0x58f296[_0x3d30a7(0x2c3)]);return{'revoked':!0x0,'inviteUrl':_0x3d30a7(0x568)+_0x48e2d6,'inviteCode':_0x48e2d6};}catch(_0x12779c){let _0x563447=_0x3d30a7(0x659),_0x51322f=_0x12779c instanceof Error?_0x12779c[_0x3d30a7(0x35e)]:typeof _0x12779c=='object'?JSON['stringify'](_0x12779c):_0x12779c,_0x12316f=_0x563447+':\x20'+_0x51322f;throw this['logger']['error'](this[_0x3d30a7(0x4d8)]+'\x20('+this[_0x3d30a7(0x753)][_0x3d30a7(0x3b8)]+'):\x20'+_0x12316f),new U(_0x12316f);}}async[a0_0x217659(0x62f)](_0x344cfd){const _0x272ac3=a0_0x217659;try{if((0x0,J[_0x272ac3(0x113)])(_0x344cfd[_0x272ac3(0x39d)]))var _0x164b7f=_0x344cfd[_0x272ac3(0x39d)][_0x272ac3(0x6a1)]('/')[0x3];else var _0x164b7f=_0x344cfd[_0x272ac3(0x39d)];let _0x28f979=await this[_0x272ac3(0x136)][_0x272ac3(0x65b)](_0x164b7f);return this[_0x272ac3(0x74b)][_0x272ac3(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x272ac3(0x3b8)]+_0x272ac3(0x839)+_0x28f979),{'join':!0x0,'inviteCode':_0x164b7f,'groupJid':_0x28f979};}catch(_0x3f6499){let _0x2081b8=_0x272ac3(0x66f),_0xf383e5=_0x3f6499 instanceof Error?_0x3f6499[_0x272ac3(0x35e)]:typeof _0x3f6499==_0x272ac3(0x6ae)?JSON[_0x272ac3(0x176)](_0x3f6499):_0x3f6499,_0x3ca040=_0x2081b8+':\x20'+_0xf383e5;throw this[_0x272ac3(0x74b)][_0x272ac3(0x310)](this[_0x272ac3(0x4d8)]+'\x20('+this[_0x272ac3(0x753)][_0x272ac3(0x3b8)]+'):\x20'+_0x3ca040),new U(_0x3ca040);}}async[a0_0x217659(0x5c6)](_0x23d77a){const _0x554d1c=a0_0x217659;try{return{'participants':(await this[_0x554d1c(0x471)][_0x554d1c(0x856)][_0x554d1c(0x567)]({'where':{'_id':_0x23d77a[_0x554d1c(0x2c3)]}},this['instance']['wuid']))[_0x554d1c(0x85b)][_0x554d1c(0x764)]};}catch(_0x5d9a10){let _0x2422a2=_0x554d1c(0x64c),_0x5e0086=_0x5d9a10 instanceof Error?_0x5d9a10[_0x554d1c(0x35e)]:typeof _0x5d9a10==_0x554d1c(0x6ae)?JSON[_0x554d1c(0x176)](_0x5d9a10):_0x5d9a10,_0x378c90=_0x2422a2+':\x20'+_0x5e0086;throw this[_0x554d1c(0x74b)][_0x554d1c(0x310)](this[_0x554d1c(0x4d8)]+'\x20('+this[_0x554d1c(0x753)][_0x554d1c(0x3b8)]+'):\x20'+_0x378c90),new U(_0x378c90);}}async['leaveGroup'](_0x33dee3){const _0x591d55=a0_0x217659;try{return await this['client'][_0x591d55(0x42d)](_0x33dee3[_0x591d55(0x2c3)]),{'groupJid':_0x33dee3[_0x591d55(0x2c3)],'leave':!0x0};}catch(_0x1ba1ba){let _0x362e52=_0x591d55(0x84c),_0x5e7f95=_0x1ba1ba instanceof Error?_0x1ba1ba[_0x591d55(0x35e)]:typeof _0x1ba1ba==_0x591d55(0x6ae)?JSON[_0x591d55(0x176)](_0x1ba1ba):_0x1ba1ba,_0x1f396f=_0x362e52+':\x20'+_0x5e7f95;throw this['logger'][_0x591d55(0x310)](this[_0x591d55(0x4d8)]+'\x20('+this['instance'][_0x591d55(0x3b8)]+'):\x20'+_0x1f396f),new m(_0x1f396f);}}async[a0_0x217659(0x1df)](_0x29e65e){const _0xd8defb=a0_0x217659;return await this[_0xd8defb(0x2fb)](_0x29e65e[_0xd8defb(0x626)],{'poll':{'name':_0x29e65e['pollMessage']?.[_0xd8defb(0x4f7)],'selectableCount':_0x29e65e[_0xd8defb(0x1df)]['selectableCount'],'values':_0x29e65e[_0xd8defb(0x1df)][_0xd8defb(0x825)]}},_0x29e65e?.['options']);}async[a0_0x217659(0x60d)](_0x44205c){const _0xfe2e8b=a0_0x217659;return await this['sendMessageWithTyping'](_0x44205c[_0xfe2e8b(0x626)],{'listMessage':{'title':_0x44205c[_0xfe2e8b(0x60d)]['title'],'description':_0x44205c[_0xfe2e8b(0x60d)][_0xfe2e8b(0x88f)],'buttonText':_0x44205c[_0xfe2e8b(0x60d)]?.[_0xfe2e8b(0x186)],'footerText':_0x44205c[_0xfe2e8b(0x60d)]?.['footerText'],'sections':_0x44205c[_0xfe2e8b(0x60d)][_0xfe2e8b(0x432)],'listType':0x2}},_0x44205c?.[_0xfe2e8b(0x64b)]);}async['menuMessage'](_0x3a9f0b){const _0x3e14a2=a0_0x217659;this['instance'][_0x3e14a2(0x74c)]===void 0x0&&await this[_0x3e14a2(0x625)]();let _0x468c6a;if(_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x149)]===_0x3e14a2(0x2d6)||_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x149)]===_0x3e14a2(0x5a5)){let _0x26d535=_0x3a9f0b['menuMessage'][_0x3e14a2(0x1dc)][_0x3e14a2(0x5ac)]('\x0a'),_0x2935c1='',_0xf46d0e='';_0x26d535!==-0x1?(_0x2935c1=_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)][_0x3e14a2(0x82d)](0x0,_0x26d535)['trim'](),_0xf46d0e=_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)][_0x3e14a2(0x82d)](_0x26d535+0x1)):_0xf46d0e=_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)];let _0x3005be=_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x68b)][_0x3e14a2(0xf8)](_0x2d1257=>_0x2d1257[_0x3e14a2(0x472)]()!==''),_0x42c0ef=this[_0x3e14a2(0xfd)](_0x3005be);_0x468c6a={'listMessage':{'title':_0x2935c1,'description':_0xf46d0e,'buttonText':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x186)]||'Selecione','footerText':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x3d4)],'sections':_0x42c0ef,'listType':0x2}};}else{if(_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x149)]==='poll'){let _0x46f2f6=_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x68b)][_0x3e14a2(0xf8)](_0x568a80=>!(_0x568a80['startsWith']('[')&&_0x568a80['endsWith'](']'))&&_0x568a80[_0x3e14a2(0x472)]()!=='')['map'](_0x205a60=>_0x205a60[_0x3e14a2(0x6a1)]('\x0a')[0x0]);for(;_0x46f2f6[_0x3e14a2(0xf4)]<0x2;)_0x46f2f6['push']('Opo\x20Falsa\x20'+(_0x46f2f6[_0x3e14a2(0xf4)]+0x1));_0x468c6a={'poll':{'name':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)],'selectableCount':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x4d7)]||0x1,'values':_0x46f2f6}};}else{if(_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x149)]===_0x3e14a2(0x873)){let _0xaba879=this['createButtonsFromValues'](_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x68b)][_0x3e14a2(0xf8)](_0x37bc4d=>!(_0x37bc4d['startsWith']('[')&&_0x37bc4d['endsWith'](']'))));return _0x468c6a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)]},'footer':_0x3a9f0b['menuMessage'][_0x3e14a2(0x3d4)]?{'text':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x3d4)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xaba879,'messageParamsJson':JSON[_0x3e14a2(0x176)]({'from':_0x3e14a2(0x586),'templateId':_0x3e14a2(0x1a8)+(0x0,oe[_0x3e14a2(0x364)])(0x12)[_0x3e14a2(0x76d)](_0x3e14a2(0x6ea))['toUpperCase']()})}}}}},await this[_0x3e14a2(0x15e)](_0x3a9f0b[_0x3e14a2(0x626)],_0x468c6a,_0x3a9f0b?.[_0x3e14a2(0x64b)]);}else{if(_0x3a9f0b['menuMessage'][_0x3e14a2(0x149)]===_0x3e14a2(0x7b5)){let _0x176121=this['createButtonSectionsFromValues'](_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x68b)]);return _0x468c6a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x1dc)]},'footer':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x3d4)]?{'text':_0x3a9f0b[_0x3e14a2(0x616)][_0x3e14a2(0x3d4)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x176121,'messageParamsJson':JSON['stringify']({'from':'api','templateId':_0x3e14a2(0x1a8)+(0x0,oe[_0x3e14a2(0x364)])(0x12)[_0x3e14a2(0x76d)](_0x3e14a2(0x6ea))[_0x3e14a2(0x3a8)]()})}}}}},await this[_0x3e14a2(0x15e)](_0x3a9f0b[_0x3e14a2(0x626)],_0x468c6a,_0x3a9f0b?.[_0x3e14a2(0x64b)]);}}}}return await this[_0x3e14a2(0x2fb)](_0x3a9f0b[_0x3e14a2(0x626)],_0x468c6a,_0x3a9f0b?.['options']);}[a0_0x217659(0x120)](_0x21c5d2){return _0x21c5d2['map'](_0x57fc8a=>{const _0x201be9=a0_0x749e;let _0x36d837=_0x57fc8a['split']('\x0a')[_0x201be9(0x557)](_0x9f12a9=>_0x9f12a9['trim']()),_0x5b0eea=_0x36d837[0x0],_0x4c7191=_0x36d837[0x1]||_0x5b0eea,_0x4abf35=_0x4c7191[_0x201be9(0x487)]('http')?_0x201be9(0x87b):_0x201be9(0x5fb);return{'name':_0x4abf35,'buttonParamsJson':JSON[_0x201be9(0x176)]({'display_text':_0x5b0eea,'id':_0x4abf35===_0x201be9(0x5fb)?_0x4c7191:void 0x0,'url':_0x4abf35===_0x201be9(0x87b)?_0x4c7191:void 0x0})};});}['createButtonSectionsFromValues'](_0x1b90fb){const _0xc827ee=a0_0x217659;let _0x42000f=[],_0x5b8d60={'title':'','rows':[]};return _0x1b90fb['forEach'](_0x37cb96=>{const _0xa4fb7a=a0_0x749e;if(_0x37cb96[_0xa4fb7a(0x487)]('[')&&_0x37cb96[_0xa4fb7a(0x464)](']'))_0x5b8d60[_0xa4fb7a(0xfc)][_0xa4fb7a(0xf4)]>0x0&&_0x42000f[_0xa4fb7a(0x3e3)](_0x5b8d60),_0x5b8d60={'title':_0x37cb96['slice'](0x1,-0x1),'rows':[]};else{let _0x2b6d94=_0x37cb96[_0xa4fb7a(0x6a1)]('\x0a')[_0xa4fb7a(0x557)](_0x51ba34=>_0x51ba34[_0xa4fb7a(0x472)]()),_0x4c5ac5=_0x2b6d94[0x0],_0x16c729=_0x2b6d94[0x1]?_0x2b6d94[0x1]:void 0x0,_0x39a65b=_0x2b6d94[0x2]||_0x4c5ac5;_0x5b8d60[_0xa4fb7a(0xfc)][_0xa4fb7a(0x3e3)]({'title':_0x4c5ac5,'description':_0x16c729,'id':_0x39a65b});}}),_0x5b8d60[_0xc827ee(0xfc)][_0xc827ee(0xf4)]>0x0&&_0x42000f['push'](_0x5b8d60),[{'name':'single_select','buttonParamsJson':JSON[_0xc827ee(0x176)]({'title':'Selecione\x20uma\x20opo','sections':_0x42000f})}];}[a0_0x217659(0xfd)](_0x5aa38b){const _0x45432c=a0_0x217659;let _0x535a2e=[],_0x26abf5={'rows':[]};return _0x5aa38b['forEach'](_0xa95605=>{const _0x5e0394=a0_0x749e;if(_0xa95605[_0x5e0394(0x487)]('[')&&_0xa95605[_0x5e0394(0x464)](']'))_0x26abf5[_0x5e0394(0xfc)][_0x5e0394(0xf4)]>0x0&&_0x535a2e[_0x5e0394(0x3e3)](_0x26abf5),_0x26abf5={'title':_0xa95605[_0x5e0394(0x30c)](0x1,-0x1),'rows':[]};else{let _0x546c14=_0xa95605[_0x5e0394(0x6a1)]('\x0a')[_0x5e0394(0x557)](_0x57fa7a=>_0x57fa7a[_0x5e0394(0x472)]()),_0x209a3e=_0x546c14[0x0],_0x25ea48=_0x546c14[0x1]||null,_0x2f7c8a=_0x546c14[0x2]||_0x209a3e;_0x26abf5[_0x5e0394(0xfc)]['push']({'title':_0x209a3e,'description':_0x25ea48,'rowId':_0x2f7c8a});}}),_0x26abf5['rows'][_0x45432c(0xf4)]>0x0&&_0x535a2e['push'](_0x26abf5),_0x535a2e;}async[a0_0x217659(0x3ea)](_0x38041c,_0x3f8569){const _0x40a98d=a0_0x217659;if(await this[_0x40a98d(0x20b)](_0x38041c,!0x0)){let _0x3ed838={'where':{'_id':_0x38041c['id']}},_0x47e6f1={'status':[_0x3f8569['status']][0x0]};try{let _0x13bb22=await this['repository']['message'][_0x40a98d(0x772)](_0x3ed838,_0x47e6f1,this[_0x40a98d(0x753)][_0x40a98d(0x3b8)]);_0x13bb22&&F(this[_0x40a98d(0x4d8)],_0x40a98d(0x7df),{'message':_0x13bb22});}catch{}}}['sectionsToString'](_0x26e103){const _0x5580ba=a0_0x217659;let _0xd0b10e=[];return _0x26e103['forEach'](_0x3f80a0=>{const _0x4ab4d3=a0_0x749e;_0x3f80a0[_0x4ab4d3(0x81a)]&&_0xd0b10e[_0x4ab4d3(0x3e3)]('['+_0x3f80a0[_0x4ab4d3(0x81a)]+']'),_0x3f80a0[_0x4ab4d3(0xfc)][_0x4ab4d3(0x3f7)](_0xa6cc06=>{const _0x4fa623=_0x4ab4d3;_0xd0b10e[_0x4fa623(0x3e3)](_0xa6cc06[_0x4fa623(0x81a)]);});}),_0xd0b10e[_0x5580ba(0x4f2)]('|');}[a0_0x217659(0x3b3)](_0x4054a0){const _0x528c35=a0_0x217659;let _0x4569dc=_0x4054a0['replace'](/\\n/g,'\x0a')[_0x528c35(0x6a1)]('\x0a')[_0x528c35(0xf8)](_0x49baf8=>_0x49baf8['includes'](_0x528c35(0x51a))||_0x49baf8[_0x528c35(0x2f7)](_0x528c35(0x433))),_0x30e4a3='';return _0x4569dc[_0x528c35(0x3f7)](_0x4f7791=>{const _0x28aa90=_0x528c35;let _0x239648=/TEL(?:.*):(.+)/,_0x81a381=/EMAIL(?:.*):(.+)/,_0x2504e0=_0x4f7791[_0x28aa90(0x662)](_0x239648),_0x460600=_0x4f7791[_0x28aa90(0x662)](_0x81a381);if(_0x2504e0){let _0x5c2c8e=_0x2504e0[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x28aa90(0x472)]();_0x30e4a3+=_0x28aa90(0x4c3)+_0x5c2c8e+'\x0a';}else{if(_0x460600){let _0x1f2f3e=_0x460600[0x1][_0x28aa90(0x472)]();_0x30e4a3+=_0x28aa90(0x10d)+_0x1f2f3e+'\x0a';}}}),_0x30e4a3['trim']();}async[a0_0x217659(0x270)](_0x3aed68,_0x5ef70e,_0x3b6494,_0x5bba5f=null){const _0x1a753d=a0_0x217659;if(_0x3aed68[_0x1a753d(0x858)])try{let _0x34f0a2=_0x5ef70e['key'][_0x1a753d(0x3cc)][_0x1a753d(0x828)](/:\d{1,2}@/g,'@'),_0x2be211=_0x5ef70e[_0x1a753d(0x202)][_0x1a753d(0x1f3)],_0x261149=_0x34f0a2[_0x1a753d(0x464)]('@g.us'),_0x3751b3=_0x5ef70e[_0x1a753d(0x281)]?.[_0x1a753d(0x828)](/:\d{1,2}@/g,'@')||'',_0x28c8e6=_0x5ef70e[_0x1a753d(0x575)]?.[_0x1a753d(0x1dc)]||_0x5ef70e[_0x1a753d(0x575)]?.[_0x1a753d(0x633)]||_0x5ef70e[_0x1a753d(0x575)]?.[_0x1a753d(0x6f0)]||_0x5ef70e[_0x1a753d(0x575)]?.[_0x1a753d(0x4f7)]||'',_0xbe82bd={'_id':_0x5ef70e['_id'],'remoteJid':_0x2be211?this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]:_0x261149?_0x3751b3:_0x34f0a2,'pushName':_0x2be211?this[_0x1a753d(0x753)][_0x1a753d(0x563)]||'Eu':_0x5ef70e[_0x1a753d(0x4ef)],'text':_0x28c8e6,'type':_0x5ef70e[_0x1a753d(0x719)],'when':_0x5ef70e[_0x1a753d(0x18e)]||Date['now']()};_0x5bba5f||(_0x5bba5f=await this[_0x1a753d(0x471)][_0x1a753d(0x856)][_0x1a753d(0x567)]({'where':{'_id':_0x34f0a2}},this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]));let _0xd65f3e=_0x2be211?0x0:_0x5bba5f?(_0x5bba5f[_0x1a753d(0x437)]||0x0)+0x1:0x1,_0xdbfb54={'lastmsg':_0x5ef70e['messageTimestamp']||Date[_0x1a753d(0x11c)](),'ephemeralExpiration':_0x5ef70e['expiration'],'lastMessage':_0xbe82bd,'unreadcount':_0xd65f3e,..._0x2be211||_0x261149?{}:{'name':_0x5ef70e[_0x1a753d(0x4ef)]},..._0x261149?{'group':_0x261149}:{},...!_0x2be211&&!_0x261149&&_0x5ef70e[_0x1a753d(0x19d)]?{'imagechat':_0x5ef70e['profilePictureUrl']}:{}};if(!_0x261149&&(!_0x5bba5f?.[_0x1a753d(0x532)]||!_0x5bba5f[_0x1a753d(0x532)][_0x1a753d(0x418)])&&_0x5ef70e[_0x1a753d(0x4ef)]&&!_0x2be211&&(_0xdbfb54={..._0xdbfb54,'leadInfo.nome':_0x5ef70e['pushName']}),_0x5bba5f?.[_0x1a753d(0x532)]['etiquetas']||(_0xdbfb54={..._0xdbfb54,'leadInfo.etiquetas':[]}),_0x5bba5f?.['leadInfo'][_0x1a753d(0x887)]||(_0xdbfb54={..._0xdbfb54,'leadInfo.customFields':[]}),_0x5bba5f?.[_0x1a753d(0x532)][_0x1a753d(0x108)]||(_0xdbfb54={..._0xdbfb54,'leadInfo.tags':[]}),_0x5bba5f&&_0x5bba5f?.[_0x1a753d(0x5ed)]){let _0x29bd90=await this[_0x1a753d(0x471)]['label'][_0x1a753d(0x6b5)]({'where':{}},this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]),_0xca42c=new Set(_0x29bd90[_0x1a753d(0x557)](_0x5db4c8=>_0x5db4c8[_0x1a753d(0x353)])),_0x155230=(_0x5bba5f['leadInfo']?.[_0x1a753d(0x355)]||[])['filter'](_0x4a7035=>_0xca42c[_0x1a753d(0x5b8)](_0x4a7035));_0xdbfb54={..._0xdbfb54,'imported':!0x1,'leadInfo.etiquetas':_0x155230};for(let _0x100f09 of _0x155230)await this[_0x1a753d(0x5d3)](_0x100f09,_0x34f0a2);}if(!this[_0x1a753d(0x3b9)][_0x1a753d(0x2d9)][_0x1a753d(0x6b5)](_0x53a873=>_0x53a873[_0x1a753d(0x12e)]&&_0x28c8e6['includes'](_0x53a873[_0x1a753d(0x12e)]))&&_0x3b6494===_0x1a753d(0x69e)&&_0x2be211&&this[_0x1a753d(0x3b9)]?.['flowConfig'][_0x1a753d(0x572)]&&_0x28c8e6['trim']()!==this[_0x1a753d(0x3b9)]?.[_0x1a753d(0x693)]['stopConversation'][_0x1a753d(0x472)]()){let _0x3781d7=(this[_0x1a753d(0x3b9)]?.[_0x1a753d(0x693)][_0x1a753d(0xe4)]||0x0)*0xea60,_0x5e8545=Date[_0x1a753d(0x11c)]()+_0x3781d7;_0x5bba5f?.[_0x1a753d(0x532)]?.[_0x1a753d(0x1de)]===0x0||(_0xdbfb54={..._0xdbfb54,'leadInfo.desativadoFluxoAte':_0x5e8545},this[_0x1a753d(0x74b)][_0x1a753d(0x56b)](this['instanceName']+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x767)+_0x5e8545+'.'));}if(_0x28c8e6[_0x1a753d(0x472)]()===this[_0x1a753d(0x3b9)]?.[_0x1a753d(0x693)]['stopConversation'][_0x1a753d(0x472)]()){this[_0x1a753d(0x74b)][_0x1a753d(0x56b)](this[_0x1a753d(0x4d8)]+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x383)+_0x28c8e6);let _0x4995df=Date['now']();this['AutomateSystem']?.[_0x1a753d(0x693)]['stopMinutes']===0x0?_0xdbfb54={..._0xdbfb54,'leadInfo.desativadoFluxoAte':_0x4995df+0x7591f6200}:_0xdbfb54={..._0xdbfb54,'leadInfo.desativadoFluxoAte':_0x4995df+this[_0x1a753d(0x3b9)]?.[_0x1a753d(0x693)][_0x1a753d(0x4c9)]*0x3c*0x3e8};}if(_0x5bba5f=await this[_0x1a753d(0x471)][_0x1a753d(0x856)][_0x1a753d(0x3bb)]({'where':{'_id':_0x34f0a2}},_0xdbfb54,this[_0x1a753d(0x753)][_0x1a753d(0x3b8)],{'new':!0x0,'upsert':!0x0}),_0x5bba5f)F(this[_0x1a753d(0x4d8)],_0x1a753d(0x529),{'chat':_0x5bba5f});else{this[_0x1a753d(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x818));return;}if(_0x2be211)return this['logger'][_0x1a753d(0x56b)](this['instanceName']+'\x20('+this[_0x1a753d(0x753)]['wuid']+_0x1a753d(0x6df)),null;if(!this[_0x1a753d(0x3b9)]?.[_0x1a753d(0x693)][_0x1a753d(0x572)])return this['logger'][_0x1a753d(0x56b)](this[_0x1a753d(0x4d8)]+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x2b5)),null;if(_0x5bba5f['_id']['includes']('@g.us')&&this['AutomateSystem']?.[_0x1a753d(0x693)]['ignoreGroups']===!0x0)return this[_0x1a753d(0x74b)][_0x1a753d(0x56b)](this[_0x1a753d(0x4d8)]+'\x20('+this['instance'][_0x1a753d(0x3b8)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x5bba5f[_0x1a753d(0x532)]){if(_0x5bba5f[_0x1a753d(0x532)][_0x1a753d(0x1de)]===0x0||_0x5bba5f[_0x1a753d(0x532)][_0x1a753d(0x5f6)])return this['logger'][_0x1a753d(0x56b)](this['instanceName']+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x1cd)+_0x34f0a2+',\x20saindo.'),null;if(_0x5bba5f[_0x1a753d(0x532)][_0x1a753d(0x1de)]>Date[_0x1a753d(0x11c)]()&&!_0x5ef70e['message_normalized']?.[_0x1a753d(0x6f0)])return this[_0x1a753d(0x74b)][_0x1a753d(0x56b)](this[_0x1a753d(0x4d8)]+'\x20('+this[_0x1a753d(0x753)][_0x1a753d(0x3b8)]+_0x1a753d(0x455)+new Date(_0x5bba5f[_0x1a753d(0x532)][_0x1a753d(0x1de)])[_0x1a753d(0x819)]()+_0x1a753d(0x17a)),null;}this[_0x1a753d(0x74b)][_0x1a753d(0x56b)](this[_0x1a753d(0x4d8)]+'\x20('+this['instance'][_0x1a753d(0x3b8)]+'):\x20Flow\x20ativado\x20e\x20no\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificaes'),this[_0x1a753d(0x726)](_0x5ef70e,_0x3b6494);}catch(_0xbf0e04){let _0x1f344b='Erro\x20na\x20funo\x20updateChatWithMessage:\x20',_0x37d2ed=_0xbf0e04 instanceof Error?_0xbf0e04[_0x1a753d(0x35e)]:typeof _0xbf0e04==_0x1a753d(0x6ae)?JSON[_0x1a753d(0x176)](_0xbf0e04):_0xbf0e04,_0x592f4c=_0x1f344b+':\x20'+_0x37d2ed;return this[_0x1a753d(0x74b)]['error'](this[_0x1a753d(0x4d8)]+'\x20('+this['instance'][_0x1a753d(0x3b8)]+'):\x20'+_0x592f4c),null;}}async[a0_0x217659(0x59b)](_0x806ec1,_0x1ba1b5){const _0x35d46e=a0_0x217659;if(_0x1ba1b5['ENABLED']){let _0x496415=_0x806ec1[_0x35d46e(0x557)](async _0x2f72d8=>{const _0x5eed00=_0x35d46e;try{let _0x1c5eda={'_id':_0x2f72d8[_0x5eed00(0x353)],'owner':_0x2f72d8['owner'],'lastcache':0x0};if(Object[_0x5eed00(0x669)](_0x2f72d8)[_0x5eed00(0x3f7)](_0xcdea1e=>{_0x2f72d8[_0xcdea1e]!==null&&(_0x1c5eda[_0xcdea1e]=_0x2f72d8[_0xcdea1e]);}),_0x1c5eda[_0x5eed00(0x1ab)]===null&&(_0x1c5eda[_0x5eed00(0x1ab)]=_0x5eed00(0x780)),Object[_0x5eed00(0x669)](_0x1c5eda)[_0x5eed00(0xf4)]>0x0)return await this['repository'][_0x5eed00(0x856)][_0x5eed00(0x3bb)]({'where':{'_id':_0x2f72d8[_0x5eed00(0x353)]}},_0x1c5eda,this['instance'][_0x5eed00(0x3b8)]);}catch(_0x4e1525){let _0x2253ea=_0x5eed00(0x84e)+_0x2f72d8['_id'],_0x26a2ef=_0x4e1525 instanceof Error?_0x4e1525[_0x5eed00(0x35e)]:typeof _0x4e1525=='object'?JSON[_0x5eed00(0x176)](_0x4e1525):_0x4e1525,_0x4cb328=_0x2253ea+':\x20'+_0x26a2ef;return this['logger'][_0x5eed00(0x310)](this[_0x5eed00(0x4d8)]+'\x20('+this['instance'][_0x5eed00(0x3b8)]+_0x5eed00(0x839)+_0x4cb328),null;}}),_0x1c14a7=(await Promise['all'](_0x496415))[_0x35d46e(0xf8)](_0xaa3565=>_0xaa3565!==null)['length'];this[_0x35d46e(0x74b)][_0x35d46e(0x56b)](this[_0x35d46e(0x4d8)]+'\x20('+this[_0x35d46e(0x753)]['wuid']+_0x35d46e(0x839)+_0x1c14a7+'\x20chats\x20de\x20'+this[_0x35d46e(0x753)][_0x35d46e(0x3b8)]+_0x35d46e(0x447));}}async[a0_0x217659(0x153)](_0xb509d5){const _0x5aef20=a0_0x217659;this[_0x5aef20(0x74b)][_0x5aef20(0x56b)](this['instanceName']+'\x20('+this[_0x5aef20(0x753)]['wuid']+_0x5aef20(0x34c));let _0x41d947={'readMessages':[{'remoteJid':_0xb509d5['chatLog']['lastReceivedMessage'][_0x5aef20(0x202)][_0x5aef20(0x3cc)],'fromMe':_0xb509d5[_0x5aef20(0x668)]['lastReceivedMessage'][_0x5aef20(0x202)][_0x5aef20(0x1f3)],'id':_0xb509d5[_0x5aef20(0x668)][_0x5aef20(0xf1)][_0x5aef20(0x202)]['id']}]};await this[_0x5aef20(0x830)](_0x41d947);}async[a0_0x217659(0x726)](_0x387199,_0x12630c){const _0x2194a9=a0_0x217659;try{let {key:_0x33b4e6,message_normalized:_0x5546fb}=_0x387199,_0x569167=_0x5546fb,_0x4804f9=_0x5546fb[_0x2194a9(0x1dc)]||_0x5546fb[_0x2194a9(0x633)]||_0x5546fb[_0x2194a9(0x6f0)]||_0x5546fb['name']||'',_0x18fbca=_0x33b4e6['remoteJid'],_0x159f9a=null,_0x1ab972=this['AutomateSystem']['flows'][_0x2194a9(0x6b5)](_0x3b62cd=>_0x3b62cd[_0x2194a9(0x12e)]&&_0x4804f9[_0x2194a9(0x2f7)](_0x3b62cd[_0x2194a9(0x12e)]));if(_0x1ab972&&_0x12630c===_0x2194a9(0x69e)){let _0x5c3891=await this[_0x2194a9(0x471)]['flow'][_0x2194a9(0x567)]({'where':{'_id':_0x1ab972[_0x2194a9(0x353)]}});if(this['logger'][_0x2194a9(0x56b)](this['instanceName']+'\x20('+this[_0x2194a9(0x753)][_0x2194a9(0x3b8)]+_0x2194a9(0x5b6)),_0x5c3891&&_0x5c3891[_0x2194a9(0x656)]?.[_0x2194a9(0x2f7)](this[_0x2194a9(0x753)]['wuid']))_0x159f9a=await this[_0x2194a9(0x796)](_0x5c3891,_0x33b4e6,_0x569167);else return this[_0x2194a9(0x74b)][_0x2194a9(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x2194a9(0x3b8)]+_0x2194a9(0x6fb)),null;}else this[_0x2194a9(0x74b)][_0x2194a9(0x56b)](this[_0x2194a9(0x4d8)]+'\x20('+this[_0x2194a9(0x753)][_0x2194a9(0x3b8)]+_0x2194a9(0x591));if(_0x159f9a=await this[_0x2194a9(0x841)](_0x18fbca,_0x569167),_0x159f9a){this['logger'][_0x2194a9(0x56b)](this['instanceName']+'\x20('+this[_0x2194a9(0x753)][_0x2194a9(0x3b8)]+_0x2194a9(0x666)),!_0x33b4e6[_0x2194a9(0x1f3)]&&_0x159f9a[_0x2194a9(0x6f7)]&&this[_0x2194a9(0x153)](_0x159f9a);let _0xbbe185=await this[_0x2194a9(0x468)](_0x159f9a);_0xbbe185&&await this[_0x2194a9(0x78e)](_0x159f9a,_0xbbe185);}}catch(_0x2725ba){this[_0x2194a9(0x74b)][_0x2194a9(0x310)](this[_0x2194a9(0x4d8)]+'\x20('+this[_0x2194a9(0x753)][_0x2194a9(0x3b8)]+_0x2194a9(0x7dd)+(_0x2725ba instanceof Error?_0x2725ba[_0x2194a9(0x35e)]:JSON[_0x2194a9(0x176)](_0x2725ba,null,0x2)));}}[a0_0x217659(0x44a)](_0x1c84ee,_0x2e4080='',_0x16b60d={}){const _0x3d6312=a0_0x217659;return typeof _0x1c84ee!=_0x3d6312(0x6ae)||_0x1c84ee===null?(_0x2e4080&&(_0x16b60d[_0x2e4080]=_0x1c84ee),_0x16b60d):(Object['entries'](_0x1c84ee)['forEach'](([_0x481c41,_0x1a1ca2])=>{const _0x40676b=_0x3d6312;let _0x4acdb6=_0x2e4080?_0x2e4080+'.'+_0x481c41:'_'+_0x481c41;Array[_0x40676b(0x3d6)](_0x1a1ca2)?_0x1a1ca2[_0x40676b(0x3f7)]((_0x3ef84e,_0x298193)=>{const _0x3e21ca=_0x40676b;this[_0x3e21ca(0x44a)](_0x3ef84e,_0x4acdb6+'['+_0x298193+']',_0x16b60d);}):typeof _0x1a1ca2==_0x40676b(0x6ae)&&_0x1a1ca2!==null?this[_0x40676b(0x44a)](_0x1a1ca2,_0x4acdb6,_0x16b60d):_0x16b60d[_0x4acdb6]=String(_0x1a1ca2);}),_0x16b60d);}[a0_0x217659(0x393)](_0x21029e){const _0x4b2f26=a0_0x217659;let _0x2831c0={};for(let _0x4dc5b1 of _0x21029e)typeof _0x4dc5b1[_0x4b2f26(0x4f7)]==_0x4b2f26(0x185)&&typeof _0x4dc5b1[_0x4b2f26(0x546)]=='string'&&(_0x2831c0[_0x4dc5b1[_0x4b2f26(0x4f7)]]=_0x4dc5b1[_0x4b2f26(0x546)]);return _0x2831c0;}async[a0_0x217659(0x468)](_0x3d04d4){const _0x47434f=a0_0x217659;if(!this[_0x47434f(0x3b9)]?.[_0x47434f(0x693)][_0x47434f(0x572)]||_0x3d04d4[_0x47434f(0x381)]!==_0x47434f(0x232)&&_0x3d04d4['waitingMenu_id']==='')return null;let _0x28c817=_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x78f)]||'start';typeof _0x3d04d4[_0x47434f(0x668)][_0x47434f(0x78d)]>'u'&&(_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x78d)]=!0x0);let _0xb339c0=_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x78d)];this['logger'][_0x47434f(0x56b)](this[_0x47434f(0x4d8)]+'\x20('+this['instance'][_0x47434f(0x3b8)]+'):\x20lastBlockId:\x20'+_0x28c817+_0x47434f(0x2fe)+_0xb339c0);let _0x58f814=_0x28c817==='start'?_0x3d04d4[_0x47434f(0x363)][_0x47434f(0x6b5)](_0x131b58=>_0x131b58[_0x47434f(0x149)]===_0x47434f(0x49a)):_0x3d04d4[_0x47434f(0x363)][_0x47434f(0x6b5)](_0x46ce9c=>_0x46ce9c['_id'][_0x47434f(0x76d)]()===_0x28c817[_0x47434f(0x76d)]());if(!_0x58f814)return this[_0x47434f(0x74b)][_0x47434f(0x310)](this['instanceName']+'\x20('+this[_0x47434f(0x753)]['wuid']+_0x47434f(0x6a3)+_0x28c817),null;let _0x283165={'_pushName':_0x3d04d4?.[_0x47434f(0x668)]?.['lastReceivedMessage']?.[_0x47434f(0x4ef)]||'','_sender':this['instance'][_0x47434f(0x3b8)]||'',..._0x3d04d4[_0x47434f(0x668)][_0x47434f(0x4cf)]},_0x23791a=new Date();_0x283165[_0x47434f(0x17c)]=_0x23791a['getDate'](),_0x283165[_0x47434f(0x3d2)]=_0x23791a['getMonth']()+0x1,_0x283165[_0x47434f(0x5c5)]=_0x23791a[_0x47434f(0x2a0)](),_0x283165[_0x47434f(0x6c7)]=_0x23791a[_0x47434f(0x57b)](),_0x283165[_0x47434f(0x5cf)]=_0x23791a[_0x47434f(0x3c7)](),_0x283165['_second']=_0x23791a[_0x47434f(0x2dd)]();let _0x2f1d4f=null;if(_0x3d04d4[_0x47434f(0x5f7)]){let _0x2383b6=_0x3d04d4['chatLog'][_0x47434f(0xf1)][_0x47434f(0x6f0)],_0x581441=_0x3d04d4[_0x47434f(0x7f5)][_0x47434f(0x6b5)](_0x18b53d=>_0x18b53d['option']===_0x2383b6);if(_0x581441){let _0x4d8fd3=_0x581441[_0x47434f(0x87e)];if(_0x2f1d4f=_0x3d04d4[_0x47434f(0x363)][_0x47434f(0x6b5)](_0x5aa670=>_0x5aa670[_0x47434f(0x60f)]===_0x4d8fd3&&_0x5aa670[_0x47434f(0x248)]===0x1),_0x58f814[_0x47434f(0x785)][_0x47434f(0x41a)]){let _0x1c7160={'id':_0x3d04d4[_0x47434f(0x5f7)],'remoteJid':_0x3d04d4[_0x47434f(0x3cc)],'fromMe':!0x0};await this[_0x47434f(0x5e9)](_0x1c7160);}if(_0x58f814['uazapi']['pollOnReplyDelete']&&_0x58f814[_0x47434f(0x785)][_0x47434f(0x4e4)]&&_0x58f814[_0x47434f(0x785)]['menuType']==='poll'){let _0x3b0908={'number':_0x3d04d4[_0x47434f(0x3cc)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3d04d4[_0x47434f(0x143)]+_0x47434f(0x398)+_0x2383b6}};await this[_0x47434f(0x2ff)](_0x3b0908);}_0x283165[_0x47434f(0xfe)]=_0x2383b6,_0x3d04d4[_0x47434f(0x381)]='open',_0x3d04d4['waitingMenu_id']='',_0x3d04d4['waitingMenu_text']='',_0x3d04d4[_0x47434f(0x7f5)]=[];}else{this[_0x47434f(0x74b)][_0x47434f(0x56b)](this[_0x47434f(0x4d8)]+'\x20('+this[_0x47434f(0x753)][_0x47434f(0x3b8)]+_0x47434f(0x7c9));let _0x408631={'activatedCount':_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x855)]['filter'](_0x115dd9=>String(_0x115dd9[_0x47434f(0x1a7)])===String(_0x28c817))[_0x47434f(0xf4)],'moreLogs':[_0x47434f(0x1f6)]};if(_0x58f814[_0x47434f(0x785)]['pollErrorMessage']){let _0x5ce81b={'number':_0x3d04d4[_0x47434f(0x3cc)],'options':{'delay':0x0},'textMessage':{'text':_0x58f814[_0x47434f(0x785)]['pollErrorMessage']}};await this[_0x47434f(0x2ff)](_0x5ce81b);}if(_0x58f814[_0x47434f(0x672)]!==void 0x0&&_0x408631[_0x47434f(0x5dc)]>=_0x58f814[_0x47434f(0x672)]){let _0x1036cf=Date[_0x47434f(0x11c)](),_0x35f362=_0x58f814['stopMinutesMaxActives']??0xa;isNaN(_0x35f362)&&(_0x35f362=0xa);let _0x251c85=_0x1036cf+_0x35f362*0x3c*0x3e8;_0x408631['newStoppedUntil']=_0x251c85,_0x408631[_0x47434f(0x1b9)][_0x47434f(0x3e3)](_0x47434f(0x184)),this[_0x47434f(0x4d0)](_0x3d04d4,_0x251c85),_0x3d04d4[_0x47434f(0x5f7)]='',_0x3d04d4[_0x47434f(0x143)]='',_0x3d04d4['waitingMenu_replyOptions']=[];}return this[_0x47434f(0x699)](_0x3d04d4,_0x58f814,_0x408631,!0x0),null;}}if(_0xb339c0&&_0x58f814[_0x47434f(0x87e)]&&!_0x3d04d4[_0x47434f(0x5f7)]){let _0x477005=_0x3d04d4['blocks'][_0x47434f(0xf8)](_0x10438b=>_0x10438b[_0x47434f(0x60f)][_0x47434f(0x76d)]()===_0x58f814[_0x47434f(0x87e)][_0x47434f(0x76d)]())['sort']((_0x37d688,_0x4f9a3f)=>_0x37d688['order']-_0x4f9a3f[_0x47434f(0x248)]);_0x477005['length']>0x0&&(_0x2f1d4f=_0x477005[0x0]);}if(!_0x2f1d4f){let _0x3d35fb=_0x58f814[_0x47434f(0x60f)],_0x166447=_0x3d04d4[_0x47434f(0x363)][_0x47434f(0xf8)](_0x7bebbe=>_0x7bebbe['groupId']===_0x3d35fb&&_0x7bebbe[_0x47434f(0x248)]>_0x58f814[_0x47434f(0x248)])[_0x47434f(0x213)]((_0x35ad87,_0x338827)=>_0x35ad87[_0x47434f(0x248)]-_0x338827['order']);_0x166447[_0x47434f(0xf4)]>0x0&&(_0x2f1d4f=_0x166447[0x0]);}if(!_0x2f1d4f)return _0x3d04d4['status']=_0x47434f(0x6a6),null;_0x3d04d4['chatLog'][_0x47434f(0x4cf)]=_0x283165;let _0x1b0311=JSON[_0x47434f(0x7eb)](JSON[_0x47434f(0x176)](_0x2f1d4f));return this['replaceVariablesInObject'](_0x1b0311,_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x4cf)]),_0x3d04d4['chatLog'][_0x47434f(0x78f)]=_0x1b0311['_id'],_0x3d04d4[_0x47434f(0x668)][_0x47434f(0x78d)]=!0x0,_0x1b0311;}['replaceVariables'](_0x180aaf,_0x28bdd3){const _0x429157=a0_0x217659;return _0x180aaf[_0x429157(0x828)](/\{\{([^}]+)\}\}/g,(_0x23e893,_0x3f46f5)=>_0x28bdd3[_0x3f46f5]||'');}[a0_0x217659(0x356)](_0x2f3f99,_0x9865b5){const _0x4557af=a0_0x217659;for(let _0x18153f in _0x2f3f99)typeof _0x2f3f99[_0x18153f]==_0x4557af(0x185)?_0x2f3f99[_0x18153f]=this[_0x4557af(0x3ce)](_0x2f3f99[_0x18153f],_0x9865b5):typeof _0x2f3f99[_0x18153f]==_0x4557af(0x6ae)&&this['replaceVariablesInObject'](_0x2f3f99[_0x18153f],_0x9865b5);}async[a0_0x217659(0x4fa)](_0x5303a2,_0x365a33){const _0x2c07e1=a0_0x217659;let _0x255c94=_0x365a33[_0x2c07e1(0x353)];if(_0x5303a2[_0x2c07e1(0x668)]&&_0x5303a2['chatLog'][_0x2c07e1(0x855)]){let _0x48f6f9=_0x5303a2[_0x2c07e1(0x668)][_0x2c07e1(0x855)][_0x2c07e1(0xf8)](_0x28392e=>String(_0x28392e[_0x2c07e1(0x1a7)])===String(_0x255c94))[_0x2c07e1(0x5d7)]();if(_0x48f6f9&&_0x48f6f9[_0x2c07e1(0x310)]&&_0x365a33[_0x2c07e1(0x6bb)])return _0x5303a2[_0x2c07e1(0x381)]=_0x2c07e1(0x6a6),await this[_0x2c07e1(0x411)](_0x5303a2),null;}if(_0x365a33[_0x2c07e1(0x149)]==='uazapi'&&_0x365a33[_0x2c07e1(0x785)]['command']===_0x2c07e1(0x196)&&_0x5303a2[_0x2c07e1(0x5f7)])return _0x5303a2[_0x2c07e1(0x668)][_0x2c07e1(0x78f)]=_0x255c94,await this['saveConversationToDatabase'](_0x5303a2),null;let _0x1fb4bd=await this[_0x2c07e1(0x468)](_0x5303a2);if(_0x5303a2[_0x2c07e1(0x668)]&&_0x5303a2[_0x2c07e1(0x668)][_0x2c07e1(0x855)]){let _0x16bc17=_0x5303a2[_0x2c07e1(0x668)][_0x2c07e1(0x855)]['filter'](_0x530bea=>String(_0x530bea['blockId'])===String(_0x255c94))['length'];if(_0x365a33[_0x2c07e1(0x672)]!==void 0x0&&_0x16bc17>=_0x365a33['maxActives']){let _0x5222d7=Date[_0x2c07e1(0x11c)](),_0x7fce=_0x365a33[_0x2c07e1(0x305)]??0xa;isNaN(_0x7fce)&&(_0x7fce=0xa);let _0x44b5e7=_0x5222d7+_0x7fce*0x3c*0x3e8,_0x5e33d4={'newStoppedUntil':_0x44b5e7};return this['updateStopChat'](_0x5303a2,_0x44b5e7),this[_0x2c07e1(0x699)](_0x5303a2,_0x365a33,_0x5e33d4,!0x0),null;}}_0x1fb4bd&&_0x1fb4bd[_0x2c07e1(0x149)]!=='save'&&await this['processblock'](_0x5303a2,_0x1fb4bd),_0x1fb4bd||await this[_0x2c07e1(0x411)](_0x5303a2),_0x1fb4bd&&_0x1fb4bd[_0x2c07e1(0x149)]===_0x2c07e1(0x37e)&&(_0x5303a2[_0x2c07e1(0x668)]['lastBlockId']=_0x255c94,await this[_0x2c07e1(0x411)](_0x5303a2));}async[a0_0x217659(0x78e)](_0x434373,_0x1e53a3){const _0x3b84d3=a0_0x217659;try{let _0x45b7db=_0x1e53a3[_0x3b84d3(0x149)];this[_0x3b84d3(0x74b)][_0x3b84d3(0x56b)](this[_0x3b84d3(0x4d8)]+'\x20('+this[_0x3b84d3(0x753)][_0x3b84d3(0x3b8)]+_0x3b84d3(0x442)+_0x45b7db);let _0x268d27={'uazapi':()=>this[_0x3b84d3(0x872)](_0x434373,_0x1e53a3),'save':()=>this[_0x3b84d3(0xef)](_0x434373,_0x1e53a3),'stop':()=>this[_0x3b84d3(0x183)](_0x434373,_0x1e53a3),'condition':()=>this['processConditions'](_0x434373,_0x1e53a3),'varedit':()=>this[_0x3b84d3(0x54e)](_0x434373,_0x1e53a3),'apirequest':()=>this['processApiRequest'](_0x434373,_0x1e53a3),'goToFlow':()=>this[_0x3b84d3(0x164)](_0x434373,_0x1e53a3),'scheduleFlow':()=>this[_0x3b84d3(0x1f2)](_0x434373,_0x1e53a3),'awaitSeconds':()=>this[_0x3b84d3(0x87c)](_0x434373,_0x1e53a3),'clearVariables':()=>this[_0x3b84d3(0x3d5)](_0x434373,_0x1e53a3)}[_0x45b7db];_0x268d27&&await _0x268d27();}catch(_0x521ad2){this[_0x3b84d3(0x74b)]['error'](this[_0x3b84d3(0x4d8)]+'\x20('+this[_0x3b84d3(0x753)]['wuid']+_0x3b84d3(0x775)+(_0x521ad2 instanceof Error?_0x521ad2[_0x3b84d3(0x35e)]:JSON[_0x3b84d3(0x176)](_0x521ad2,null,0x2)));}}async[a0_0x217659(0x87c)](_0x16bd58,_0x2ace22){const _0x3dba7f=a0_0x217659;if(this['logger'][_0x3dba7f(0x56b)](this[_0x3dba7f(0x4d8)]+'\x20('+this['instance'][_0x3dba7f(0x3b8)]+'):\x20Entrou\x20na\x20funo\x20processawaitSeconds'),!_0x16bd58||!_0x2ace22)return this[_0x3dba7f(0x74b)][_0x3dba7f(0x310)](this[_0x3dba7f(0x4d8)]+'\x20('+this[_0x3dba7f(0x753)][_0x3dba7f(0x3b8)]+_0x3dba7f(0x137)),null;let _0x44bf4f=+_0x2ace22[_0x3dba7f(0x790)];isNaN(_0x44bf4f)&&(_0x44bf4f=0x0),_0x44bf4f=Math[_0x3dba7f(0x783)](_0x44bf4f,0x3c),await(0x0,w[_0x3dba7f(0x35b)])(_0x44bf4f*0x3e8);let _0x10e605={'moreLogs':[_0x3dba7f(0xfa)+_0x44bf4f+_0x3dba7f(0x61e)]};return await this[_0x3dba7f(0x699)](_0x16bd58,_0x2ace22,_0x10e605),_0x44bf4f;}async[a0_0x217659(0x3d5)](_0x276587,_0x54a9d0){const _0x2671f5=a0_0x217659;if(this[_0x2671f5(0x74b)][_0x2671f5(0x56b)](this[_0x2671f5(0x4d8)]+'\x20('+this[_0x2671f5(0x753)]['wuid']+_0x2671f5(0x7fe)),!_0x276587||!_0x54a9d0)return this['logger'][_0x2671f5(0x310)](this[_0x2671f5(0x4d8)]+'\x20('+this['instance']['wuid']+_0x2671f5(0x137)),null;let _0x584dfc=[];if(_0x54a9d0['clearVariables'][_0x2671f5(0x472)]()==='[all]'){let _0x4c4bfe=[_0x2671f5(0x63b),_0x2671f5(0x67f),_0x2671f5(0x618),_0x2671f5(0x885),_0x2671f5(0x182),_0x2671f5(0x353),_0x2671f5(0x318)];_0x584dfc=Object[_0x2671f5(0x669)](_0x276587[_0x2671f5(0x668)][_0x2671f5(0x4cf)])[_0x2671f5(0xf8)](_0x4ac370=>_0x4ac370['startsWith']('_')&&!_0x4c4bfe[_0x2671f5(0x2f7)](_0x4ac370));}else _0x584dfc=_0x54a9d0['clearVariables'][_0x2671f5(0x6a1)]('|')[_0x2671f5(0x557)](_0x609741=>(_0x609741=_0x609741['replace'](/[{}]/g,'')['trim'](),_0x609741['startsWith']('_')?_0x609741:'_'+_0x609741));let _0x26e4fd=[];_0x584dfc[_0x2671f5(0x3f7)](_0x45b0cc=>{const _0x43ffdd=_0x2671f5;_0x45b0cc in _0x276587[_0x43ffdd(0x668)]['realVariables']&&(delete _0x276587[_0x43ffdd(0x668)][_0x43ffdd(0x4cf)][_0x45b0cc],_0x26e4fd[_0x43ffdd(0x3e3)](_0x45b0cc));}),_0x26e4fd[_0x2671f5(0xf4)]>0x0?this[_0x2671f5(0x74b)]['verbose'](this['instanceName']+'\x20('+this[_0x2671f5(0x753)][_0x2671f5(0x3b8)]+_0x2671f5(0x13e)+_0x26e4fd[_0x2671f5(0x4f2)](',\x20')):this[_0x2671f5(0x74b)][_0x2671f5(0x56b)](this['instanceName']+'\x20('+this[_0x2671f5(0x753)]['wuid']+'):\x20Nenhuma\x20varivel\x20especificada\x20foi\x20encontrada\x20para\x20remoo');let _0xf6564b={'moreLogs':['Removidas\x20as\x20variveis:\x20'+_0x26e4fd[_0x2671f5(0x4f2)](',\x20')]};return await this['updateConversation'](_0x276587,_0x54a9d0,_0xf6564b),null;}async[a0_0x217659(0x1f2)](_0x3b4fe0,_0x4a03e2){const _0x35246e=a0_0x217659;if(this['logger'][_0x35246e(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x35246e(0x3b8)]+'):\x20Entrou\x20na\x20funo\x20scheduleFlow'),!_0x3b4fe0||!_0x4a03e2)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x35246e(0x753)][_0x35246e(0x3b8)]+'):\x20Conversa\x20ou\x20prximo\x20bloco\x20no\x20fornecidos'),null;let _0x14c2a3=_0x3b4fe0[_0x35246e(0x3cc)];_0x4a03e2['scheduleFlow'][_0x35246e(0x3cc)]&&_0x4a03e2[_0x35246e(0x47b)][_0x35246e(0x3cc)][_0x35246e(0x472)]()!==''&&(_0x14c2a3=_0x4a03e2[_0x35246e(0x785)][_0x35246e(0x3cc)][_0x35246e(0x472)]());let _0x29b609=_0x4a03e2['scheduleFlow']['timeInMinutes']*0xea60,_0x40f866=Date[_0x35246e(0x11c)]()+_0x29b609,_0x5f0901={'status':_0x35246e(0x268),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x3b4fe0[_0x35246e(0x4f7)],'remoteJids':[_0x14c2a3],'when':_0x40f866,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x35246e(0x37d),'flowName':_0x4a03e2[_0x35246e(0x47b)][_0x35246e(0x58c)]};this[_0x35246e(0x27e)](_0x5f0901);let _0x2b2635=await this[_0x35246e(0x468)](_0x3b4fe0);_0x2b2635&&await this[_0x35246e(0x78e)](_0x3b4fe0,_0x2b2635);}async[a0_0x217659(0x164)](_0x2ac6aa,_0x3b4cf0){const _0x35f2d=a0_0x217659;if(this['logger'][_0x35f2d(0x56b)](this[_0x35f2d(0x4d8)]+'\x20('+this[_0x35f2d(0x753)][_0x35f2d(0x3b8)]+'):\x20Entrou\x20na\x20funo\x20goToFlow'),!_0x2ac6aa||!_0x3b4cf0)return this[_0x35f2d(0x74b)][_0x35f2d(0x310)](this[_0x35f2d(0x4d8)]+'\x20('+this['instance'][_0x35f2d(0x3b8)]+_0x35f2d(0x137)),null;await this[_0x35f2d(0x699)](_0x2ac6aa,_0x3b4cf0,{},!0x0,!0x0);let _0x30621c=_0x3b4cf0[_0x35f2d(0x776)];_0x2ac6aa=await this[_0x35f2d(0x1b1)](_0x30621c,_0x2ac6aa[_0x35f2d(0x3cc)],_0x2ac6aa[_0x35f2d(0x668)][_0x35f2d(0x4cf)]);let _0x559ad7=await this[_0x35f2d(0x468)](_0x2ac6aa);_0x559ad7&&await this[_0x35f2d(0x78e)](_0x2ac6aa,_0x559ad7);}async['createConversationforgoToFlow'](_0xbeb0bf,_0x1866c5,_0x48ddd0){const _0x9aeaaa=a0_0x217659;this['logger'][_0x9aeaaa(0x56b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9aeaaa(0x4e6));try{let _0x3c42d3=this[_0x9aeaaa(0x3b9)]['flows'][_0x9aeaaa(0x6b5)](_0x54c730=>_0x54c730['_id']===_0xbeb0bf);_0x3c42d3||this[_0x9aeaaa(0x74b)][_0x9aeaaa(0x310)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0xbeb0bf+_0x9aeaaa(0x5f4));let _0x275bdc=await this[_0x9aeaaa(0x471)][_0x9aeaaa(0x37d)][_0x9aeaaa(0x567)]({'where':{'_id':_0x3c42d3[_0x9aeaaa(0x353)]}});if(!_0x275bdc||!_0x275bdc['whoCanUse']?.[_0x9aeaaa(0x2f7)](this['instance']['wuid']))throw this[_0x9aeaaa(0x74b)][_0x9aeaaa(0x310)](this[_0x9aeaaa(0x4d8)]+'\x20('+this[_0x9aeaaa(0x753)][_0x9aeaaa(0x3b8)]+_0x9aeaaa(0x2e7)+_0xbeb0bf+_0x9aeaaa(0x1e3)),new m('Flow\x20\x27'+_0xbeb0bf+_0x9aeaaa(0x1e3));let _0x3a653d=require(_0x9aeaaa(0x52d))[_0x9aeaaa(0x7f6)],_0x3561fc=Date[_0x9aeaaa(0x11c)](),_0x156e2e='start',_0x31731e={},_0x27f844={},_0x3093a1=this['AutomateSystem'][_0x9aeaaa(0x2d9)]['find'](_0x1f0263=>_0x1f0263['_id']===_0x275bdc[_0x9aeaaa(0x353)]?.[_0x9aeaaa(0x76d)]()),_0x4268c8=_0x3093a1?.[_0x9aeaaa(0x7be)]??_0x275bdc['minutesToClose']??0x0,_0x44313a=_0x3093a1?.[_0x9aeaaa(0x6f7)]??_0x275bdc['readMessages']??!0x1,_0x5c76b2={'flowId':_0x3c42d3[_0x9aeaaa(0x353)],'readMessages':_0x3c42d3[_0x9aeaaa(0x6f7)],..._0x275bdc,'chatLog':null},_0x214deb={'lastReceivedMessage':_0x31731e,'lastSendMessage':_0x27f844,'lastBlockId':_0x156e2e,'lastCondition':!0x0,'realVariables':_0x48ddd0};_0x5c76b2[_0x9aeaaa(0x668)]=_0x214deb,_0x5c76b2['chatLog']['realVariables']={..._0x48ddd0},delete _0x5c76b2['_id'],_0x5c76b2[_0x9aeaaa(0x353)]=new _0x3a653d(),_0x5c76b2['lastInteraction']=_0x3561fc,_0x5c76b2[_0x9aeaaa(0x381)]='open',_0x5c76b2[_0x9aeaaa(0x3cc)]=_0x1866c5,_0x5c76b2[_0x9aeaaa(0x7be)]=_0x4268c8,_0x5c76b2[_0x9aeaaa(0x6f7)]=_0x44313a;let _0x2e2ada=await this['repository'][_0x9aeaaa(0x2ca)][_0x9aeaaa(0x3bb)](_0x5c76b2[_0x9aeaaa(0x353)],_0x5c76b2,this[_0x9aeaaa(0x753)][_0x9aeaaa(0x3b8)]);return this['logger'][_0x9aeaaa(0x56b)](this[_0x9aeaaa(0x4d8)]+'\x20('+this[_0x9aeaaa(0x753)]['wuid']+_0x9aeaaa(0x6b4)),_0x2e2ada?_0x5c76b2:null;}catch(_0x5bc53b){let _0xdbf0f6=_0x9aeaaa(0x4d2),_0x19be76=_0x5bc53b instanceof Error?_0x5bc53b[_0x9aeaaa(0x35e)]:typeof _0x5bc53b==_0x9aeaaa(0x6ae)?JSON['stringify'](_0x5bc53b):_0x5bc53b,_0x1bb25a=_0xdbf0f6+':\x20'+_0x19be76;throw this[_0x9aeaaa(0x74b)][_0x9aeaaa(0x310)](this['instanceName']+'\x20('+this[_0x9aeaaa(0x753)][_0x9aeaaa(0x3b8)]+_0x9aeaaa(0x839)+_0x1bb25a),new m(_0x1bb25a);}}async[a0_0x217659(0x58f)](_0x3db321,_0x12fb84){const _0x58fb3=a0_0x217659;let _0x3a5fe7,_0x45d256;try{let _0x5c5ebf=_0x12fb84[_0x58fb3(0x215)];if(!_0x5c5ebf||!_0x5c5ebf[_0x58fb3(0x2fd)]||!_0x5c5ebf['method'])throw new Error(_0x58fb3(0x15a));let _0x509cf8;([_0x58fb3(0x679),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x58fb3(0x102)](_0x28e455=>_0x5c5ebf['url'][_0x58fb3(0x2f7)](_0x28e455))||_0x5c5ebf['requestFile'])&&(_0x509cf8=_0x58fb3(0x725));let _0x2ced91='\u205f',_0x42725f;try{_0x42725f=JSON[_0x58fb3(0x7eb)](_0x5c5ebf['bodyString']['replace'](new RegExp(_0x2ced91,'g'),''));}catch(_0x49cd1f){throw _0x49cd1f;}let _0x2de963={'method':_0x5c5ebf[_0x58fb3(0x822)],'url':_0x5c5ebf[_0x58fb3(0x2fd)],'headers':_0x5c5ebf['header']||{},..._0x5c5ebf[_0x58fb3(0x822)][_0x58fb3(0x3a8)]()!==_0x58fb3(0x78c)&&_0x5c5ebf[_0x58fb3(0x606)]?{'data':JSON['parse'](_0x5c5ebf[_0x58fb3(0x606)][_0x58fb3(0x828)](new RegExp(_0x2ced91,'g'),''))}:{},..._0x509cf8&&{'responseType':_0x509cf8}},_0x209f8f=await(0x0,K[_0x58fb3(0x85a)])(_0x2de963),_0x4eb103=_0x209f8f['headers']['content-type'];if(_0x4eb103&&_0x4eb103['includes']('application/json')||typeof _0x209f8f['data']==_0x58fb3(0x185)){if(typeof _0x209f8f[_0x58fb3(0x5a3)]==_0x58fb3(0x185)){let _0x49015d=_0x209f8f['data'][_0x58fb3(0x828)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x58fb3(0x472)]();try{_0x3a5fe7=JSON['parse'](_0x49015d);}catch(_0x1f83b7){this[_0x58fb3(0x74b)][_0x58fb3(0x310)](_0x58fb3(0x652)+_0x1f83b7['message']),_0x3a5fe7={'_apiResponse':_0x209f8f[_0x58fb3(0x5a3)]};}}else _0x3a5fe7=_0x209f8f[_0x58fb3(0x5a3)];let _0x111933=_0x3db321[_0x58fb3(0x668)][_0x58fb3(0x4cf)],_0x2ae9d1=this[_0x58fb3(0x44a)](_0x3a5fe7);return Object[_0x58fb3(0x777)](_0x111933,_0x2ae9d1),_0x3db321[_0x58fb3(0x668)][_0x58fb3(0x4cf)]=_0x111933,_0x45d256={'error':!0x1,'apiResponse':_0x3a5fe7},this[_0x58fb3(0x699)](_0x3db321,_0x12fb84,_0x45d256),_0x3a5fe7;}if(_0x4eb103&&(_0x4eb103[_0x58fb3(0x2f7)](_0x58fb3(0x52c))||_0x4eb103[_0x58fb3(0x2f7)]('image')||_0x4eb103[_0x58fb3(0x2f7)]('audio')||_0x4eb103[_0x58fb3(0x2f7)]('video'))){this['logger'][_0x58fb3(0x56b)](this['instanceName']+'\x20('+this[_0x58fb3(0x753)][_0x58fb3(0x3b8)]+'):\x20Tipo\x20de\x20contedo\x20identificado:\x20'+_0x4eb103);let _0x40d1ac=(0x0,Q['v4'])(),_0x22b926='',_0x55960f={'image/jpeg':_0x58fb3(0x897),'image/png':_0x58fb3(0x3fe),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':_0x58fb3(0x6d6),'audio/ogg':_0x58fb3(0x23f),'audio/wav':_0x58fb3(0x827),'video/mp4':_0x58fb3(0x635),'video/webm':'.webm','video/ogg':_0x58fb3(0x798),'text/plain':_0x58fb3(0x5c7),'application/pdf':_0x58fb3(0x5b0),'application/msword':_0x58fb3(0x48b),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x58fb3(0x192),'application/vnd.ms-excel':_0x58fb3(0x770),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x58fb3(0x2b6),'application/vnd.ms-powerpoint':_0x58fb3(0x425),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x55960f[_0x4eb103]?(_0x22b926=_0x55960f[_0x4eb103],this['logger'][_0x58fb3(0x56b)](this[_0x58fb3(0x4d8)]+'\x20('+this[_0x58fb3(0x753)][_0x58fb3(0x3b8)]+_0x58fb3(0x187)+_0x22b926)):(_0x22b926=_0x58fb3(0x41d),this[_0x58fb3(0x74b)][_0x58fb3(0x56b)](this[_0x58fb3(0x4d8)]+'\x20('+this[_0x58fb3(0x753)][_0x58fb3(0x3b8)]+_0x58fb3(0x45c)+_0x22b926)),_0x40d1ac+=_0x22b926,this[_0x58fb3(0x74b)]['verbose'](this[_0x58fb3(0x4d8)]+'\x20('+this[_0x58fb3(0x753)][_0x58fb3(0x3b8)]+_0x58fb3(0x43d)+_0x40d1ac);let _0x5ba816=this[_0x58fb3(0x4e1)]['get'](_0x58fb3(0x3d1))[_0x58fb3(0x181)];if(!_0x5ba816){let _0x2a071d=this[_0x58fb3(0x4e1)]['get'](_0x58fb3(0x350));_0x5ba816='https://'+(_0x2a071d&&_0x2a071d['FULLCHAIN'][_0x58fb3(0x6a1)]('/')[0x4]);}let _0x86ea65=Buffer['from'](_0x209f8f[_0x58fb3(0x5a3)]);await this[_0x58fb3(0x73d)](_0x86ea65,_0x40d1ac);let _0x13ea90=_0x58fb3(0x75b)+_0x40d1ac;_0x13ea90=''+_0x5ba816+_0x13ea90,_0x3a5fe7={'fileUrl':_0x13ea90},_0x3db321[_0x58fb3(0x668)][_0x58fb3(0x4cf)][_0x58fb3(0x20d)]=_0x13ea90;let _0x3a0158=_0x3db321['chatLog']['realVariables'],_0x387614=this['flattenObject'](_0x3a5fe7);return Object[_0x58fb3(0x777)](_0x3a0158,_0x387614),_0x3db321[_0x58fb3(0x668)][_0x58fb3(0x4cf)]=_0x3a0158,_0x45d256={'error':!0x1,'apiResponse':{'fileUrl':_0x13ea90}},this[_0x58fb3(0x699)](_0x3db321,_0x12fb84,_0x45d256),_0x3a5fe7;}}catch(_0x11a495){this[_0x58fb3(0x74b)][_0x58fb3(0x310)](_0x58fb3(0x226)+_0x11a495['message']),_0x11a495[_0x58fb3(0x1c7)]&&(_0x3a5fe7=_0x11a495[_0x58fb3(0x1c7)][_0x58fb3(0x5a3)]);let _0x2af91f=_0x3db321[_0x58fb3(0x668)][_0x58fb3(0x4cf)],_0x5438ea=this[_0x58fb3(0x44a)](_0x3a5fe7);return Object[_0x58fb3(0x777)](_0x2af91f,_0x5438ea),_0x3db321['chatLog'][_0x58fb3(0x4cf)]=_0x2af91f,_0x45d256={'error':!0x0,'errorLog':_0x11a495[_0x58fb3(0x76d)](),'apiResponse':_0x3a5fe7},this[_0x58fb3(0x699)](_0x3db321,_0x12fb84,_0x45d256),{'success':!0x1};}}[a0_0x217659(0xec)](_0x40d98d,_0x4bdc92){const _0xe66425=a0_0x217659;let _0x3baef7=_0x4411bb=>{const _0x491ccb=a0_0x749e;let _0x545204=_0x4411bb[_0x491ccb(0x828)](/[^0-9.,-]/g,'')[_0x491ccb(0x828)](',','.'),_0xd918e3=parseFloat(_0x545204);return isNaN(_0xd918e3)?null:_0xd918e3;},_0x458efc=_0x4bdc92[_0xe66425(0x53a)],_0x5899c7=_0x4bdc92[_0xe66425(0x6fe)];typeof _0x458efc==_0xe66425(0x185)&&(_0x458efc=this[_0xe66425(0x3ce)](_0x458efc,_0x40d98d['chatLog']['realVariables'])??''),typeof _0x5899c7==_0xe66425(0x185)&&(_0x5899c7=this[_0xe66425(0x3ce)](_0x5899c7,_0x40d98d['chatLog']['realVariables'])??'');let _0x629a41=null;if(!_0x4bdc92[_0xe66425(0x409)])return null;switch(this[_0xe66425(0x74b)][_0xe66425(0x56b)](this['instanceName']+'\x20('+this[_0xe66425(0x753)][_0xe66425(0x3b8)]+_0xe66425(0x5a9)+_0x458efc),this[_0xe66425(0x74b)][_0xe66425(0x56b)](this[_0xe66425(0x4d8)]+'\x20('+this[_0xe66425(0x753)][_0xe66425(0x3b8)]+'):\x20newSecondValue\x20aps\x20replaceVariables:'+_0x5899c7),_0x4bdc92[_0xe66425(0x409)]){case'+':case'-':case'*':case'/':let _0x514fdd=_0x3baef7(_0x458efc||'0'),_0xc28e4e=_0x3baef7(_0x5899c7||'0');if(_0x514fdd===null)return null;switch(_0x4bdc92[_0xe66425(0x409)]){case'+':_0x629a41=_0x514fdd+(_0xc28e4e??0x0);break;case'-':_0x629a41=_0x514fdd-(_0xc28e4e??0x0);break;case'*':_0x629a41=_0x514fdd*(_0xc28e4e??0x1);break;case'/':_0xc28e4e!==0x0&&(_0x629a41=_0x514fdd/(_0xc28e4e??0x1));break;}break;case _0xe66425(0x452):case _0xe66425(0x838):let _0x12cf59=_0x5899c7,_0x54c27c=_0x4bdc92[_0xe66425(0x7db)];if(typeof _0x54c27c=='string'&&(_0x54c27c=this['replaceVariables'](_0x54c27c,_0x40d98d[_0xe66425(0x668)][_0xe66425(0x4cf)])??''),_0x12cf59&&_0x54c27c!==void 0x0){let _0xc9aa=_0x4bdc92[_0xe66425(0x409)]===_0xe66425(0x452)?new RegExp(_0x12cf59[_0xe66425(0x828)](/[-\/\\^$*+?.()|[\]{}]/g,_0xe66425(0x6a5)),'g'):new RegExp(_0x12cf59,'g');_0x629a41=_0x458efc[_0xe66425(0x828)](_0xc9aa,_0x54c27c);}else console[_0xe66425(0x1f1)](_0xe66425(0x574));break;case _0xe66425(0x1a5):_0x629a41=_0x5899c7;break;case _0xe66425(0x3cb):let _0x5cd14a=_0x458efc['match'](new RegExp(_0x5899c7||''));_0x629a41=_0x5cd14a?_0x5cd14a[0x0]:'';break;case _0xe66425(0x189):_0x629a41=_0x458efc[_0xe66425(0x30c)](0x0,parseInt(_0x5899c7||'0'));break;case _0xe66425(0x677):let _0x5d4b0d=parseInt(_0x5899c7||'0');_0x629a41=_0x458efc['slice'](_0x458efc[_0xe66425(0xf4)]-_0x5d4b0d);break;case'toBrazilianNumberFormat':let _0x587e8b=_0x3baef7(_0x458efc),_0x5cd84c=parseInt(_0x5899c7||'0');_0x5cd84c=Math[_0xe66425(0x6c8)](_0x5cd84c),_0x587e8b!==null?_0x629a41=_0x587e8b[_0xe66425(0x819)](_0xe66425(0x7c7),{'minimumFractionDigits':_0x5cd84c,'maximumFractionDigits':_0x5cd84c}):(console[_0xe66425(0x1f1)](_0xe66425(0x31f)+_0x458efc),_0x629a41=null);break;case'toBRL':let _0xac9580=_0x3baef7(_0x458efc);_0xac9580!==null?_0x629a41=_0xac9580['toLocaleString'](_0xe66425(0x7c7),{'style':'currency','currency':_0xe66425(0x54b)}):(console[_0xe66425(0x1f1)](_0xe66425(0x7aa)+_0x458efc),_0x629a41=null);break;case'upperCase':_0x629a41=_0x458efc[_0xe66425(0x3a8)]();break;case _0xe66425(0x160):_0x629a41=_0x458efc[_0xe66425(0x43a)]();break;case _0xe66425(0x577):_0x629a41=_0x458efc[_0xe66425(0x6a1)]('\x20')['map'](_0x3e71b2=>_0x3e71b2[_0xe66425(0x166)](0x0)[_0xe66425(0x3a8)]()+_0x3e71b2[_0xe66425(0x30c)](0x1)[_0xe66425(0x43a)]())[_0xe66425(0x4f2)]('\x20');break;case'convertToString':_0x629a41=JSON[_0xe66425(0x176)](_0x458efc);break;case'trimmed':_0x629a41=_0x458efc[_0xe66425(0x472)]();break;default:_0x629a41=_0x458efc;}return _0x629a41!==null?_0x629a41[_0xe66425(0x76d)]():null;}async[a0_0x217659(0x54e)](_0x26dd0c,_0x3201e7){const _0x832dfa=a0_0x217659;try{let _0x4d4cbc=_0x26dd0c[_0x832dfa(0x42a)]?.[_0x832dfa(0xf8)](_0x58b574=>_0x58b574[_0x832dfa(0x1a7)]===_0x3201e7[_0x832dfa(0x353)]?.[_0x832dfa(0x76d)]())||[],_0x539bd9=_0x3201e7[_0x832dfa(0x520)],_0x3f01d3=null,_0x342e47=[],_0x3ce7f5=_0x26dd0c[_0x832dfa(0x668)]['realVariables'][_0x539bd9];_0x342e47[_0x832dfa(0x3e3)](_0x832dfa(0xe5)+_0x3ce7f5+'\x22');for(let _0x217f14 of _0x4d4cbc){_0x217f14[_0x832dfa(0x53a)]=_0x3ce7f5,_0x3f01d3=_0x217f14[_0x832dfa(0x53a)];let _0x540eec;try{_0x540eec=this[_0x832dfa(0xec)](_0x26dd0c,_0x217f14);}catch(_0x20c62b){this[_0x832dfa(0x74b)][_0x832dfa(0x310)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x20c62b[_0x832dfa(0x35e)]);continue;}if(_0x540eec!==null){let _0x4e9684='Operador:\x20\x22'+_0x217f14[_0x832dfa(0x409)]+'\x22',_0x548250=[_0x832dfa(0x32c),'upperCase',_0x832dfa(0x160),_0x832dfa(0x577),_0x832dfa(0xf2)];_0x217f14['editOperator']==='findAndReplace'||_0x217f14['editOperator']===_0x832dfa(0x838)?_0x4e9684+=_0x832dfa(0x77d)+_0x217f14[_0x832dfa(0x6fe)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x217f14['replaceValue']+'\x22':!_0x548250[_0x832dfa(0x2f7)](_0x217f14[_0x832dfa(0x409)])&&_0x217f14[_0x832dfa(0x6fe)]!==null&&_0x217f14[_0x832dfa(0x6fe)]!==void 0x0&&(_0x4e9684+=',\x20valor\x20passado:\x20\x22'+_0x217f14[_0x832dfa(0x6fe)]+'\x22'),_0x4e9684+=_0x832dfa(0x394)+_0x540eec+'.',_0x342e47[_0x832dfa(0x3e3)](_0x4e9684);}_0x540eec!==null&&(_0x3ce7f5=_0x540eec);}if(_0x26dd0c['chatLog'][_0x832dfa(0x4cf)]&&_0x3201e7['saveVariable']){_0x26dd0c[_0x832dfa(0x668)]['realVariables'][_0x3201e7[_0x832dfa(0x520)]]=_0x3ce7f5;let _0x52712e={'variable':_0x3201e7[_0x832dfa(0x520)],'oldValue':_0x3f01d3,'newValue':_0x3ce7f5,'moreLogs':_0x342e47};try{this['updateConversation'](_0x26dd0c,_0x3201e7,_0x52712e);}catch(_0x3d77a5){this[_0x832dfa(0x74b)]['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x3d77a5[_0x832dfa(0x35e)]);}}return _0x539bd9;}catch(_0x4c098d){return this[_0x832dfa(0x74b)][_0x832dfa(0x310)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x4c098d[_0x832dfa(0x35e)]),null;}}async[a0_0x217659(0x521)](_0x16c344,_0x4a6143){const _0x74a00f=a0_0x217659;try{let _0x47579c=[],_0x14864a=_0x16c344[_0x74a00f(0x878)]['filter'](_0x5dfcbc=>_0x5dfcbc[_0x74a00f(0x1a7)]===_0x4a6143[_0x74a00f(0x353)][_0x74a00f(0x76d)]()),_0x5eb1d2=null,_0x4399f6=!0x1;for(let _0x38b19a of _0x14864a){let _0x39e2db=this[_0x74a00f(0x25c)](_0x16c344,_0x38b19a);_0x47579c[_0x74a00f(0x3e3)](_0x74a00f(0x6f5)+_0x38b19a['firstValue']+_0x74a00f(0x4e5)+_0x38b19a[_0x74a00f(0x2a6)]+_0x74a00f(0x3b7)+_0x38b19a[_0x74a00f(0x6fe)]+_0x74a00f(0x2f4)+_0x39e2db),_0x5eb1d2===null?_0x5eb1d2=_0x39e2db:_0x38b19a[_0x74a00f(0x756)]===_0x74a00f(0x536)?(_0x5eb1d2=_0x5eb1d2&&_0x39e2db,_0x39e2db||(_0x4399f6=!0x0)):_0x38b19a[_0x74a00f(0x756)]==='or'&&(_0x4399f6||(_0x5eb1d2=_0x5eb1d2||_0x39e2db));}_0x5eb1d2===null&&(_0x5eb1d2=!0x0);let _0x2de122={'moreLogs':_0x47579c};_0x16c344[_0x74a00f(0x668)]['lastCondition']=_0x5eb1d2,await this['updateConversation'](_0x16c344,_0x4a6143,_0x2de122);}catch(_0x5cc7ee){this[_0x74a00f(0x74b)][_0x74a00f(0x310)](this[_0x74a00f(0x4d8)]+'\x20('+this[_0x74a00f(0x753)][_0x74a00f(0x3b8)]+_0x74a00f(0x1b5)+(_0x5cc7ee instanceof Error?_0x5cc7ee['message']:JSON[_0x74a00f(0x176)](_0x5cc7ee,null,0x2)));}}['evaluateCondition'](_0x302f3f,_0x1d1fc4){const _0x2c643f=a0_0x217659;let _0x4e17ef=_0x1d1fc4['firstValue'],_0xaa1a9d=_0x1d1fc4[_0x2c643f(0x6fe)];typeof _0x4e17ef==_0x2c643f(0x185)&&(_0x4e17ef=this[_0x2c643f(0x3ce)](_0x4e17ef,_0x302f3f['chatLog'][_0x2c643f(0x4cf)])??''),typeof _0xaa1a9d==_0x2c643f(0x185)&&(_0xaa1a9d=this[_0x2c643f(0x3ce)](_0xaa1a9d,_0x302f3f[_0x2c643f(0x668)]['realVariables'])??'');try{switch(_0x1d1fc4[_0x2c643f(0x2a6)]){case _0x2c643f(0x39c):return _0x4e17ef===_0xaa1a9d;case'notEqual':return _0x4e17ef!==_0xaa1a9d;case _0x2c643f(0x1f8):return this[_0x2c643f(0x1f8)](_0x4e17ef,_0xaa1a9d);case'notContains':return!this[_0x2c643f(0x1f8)](_0x4e17ef,_0xaa1a9d);case'greater':return parseFloat(_0x4e17ef)>parseFloat(_0xaa1a9d);case'less':return parseFloat(_0x4e17ef)<parseFloat(_0xaa1a9d);case'notEmpty':return _0x4e17ef!=='';case _0x2c643f(0x316):return _0x4e17ef==='';case _0x2c643f(0x667):return new RegExp(_0xaa1a9d)['test'](_0x4e17ef);case _0x2c643f(0x55a):return!new RegExp(_0xaa1a9d)[_0x2c643f(0x2af)](_0x4e17ef);default:return!0x1;}}catch(_0x2b4874){return this['logger']['error'](_0x2c643f(0x549)+_0x2b4874),!0x1;}}['contains'](_0x91af26,_0x1cb4f1){const _0x8cfa7b=a0_0x217659;if(_0x91af26===_0x1cb4f1&&/^\d+$/[_0x8cfa7b(0x2af)](_0x91af26))return!0x0;if(this['isListOfNumbers'](_0x91af26)&&/^\d+$/['test'](_0x1cb4f1)){let _0x53bbc7=_0x91af26[_0x8cfa7b(0x6a1)](',')[_0x8cfa7b(0x557)](_0x31e731=>parseInt(_0x31e731['trim']())),_0x5c51b=parseInt(_0x1cb4f1);return _0x53bbc7[_0x8cfa7b(0x2f7)](_0x5c51b);}return _0x91af26[_0x8cfa7b(0x2f7)](_0x1cb4f1);}[a0_0x217659(0x779)](_0x64090b){const _0x2585a1=a0_0x217659;return/^\d+(,\d+)*$/[_0x2585a1(0x2af)](_0x64090b);}['processConditionsTest'](_0x108903){const _0x23cd4d=a0_0x217659;let _0x4124bc=!0x0,_0x254b9b=null;for(let _0x43739d of _0x108903){let _0x4233c1=this[_0x23cd4d(0x39f)](_0x43739d);if(_0x254b9b==='or'&&_0x4233c1){_0x4124bc=!0x0;break;}if(_0x254b9b===_0x23cd4d(0x536)&&!_0x4233c1){_0x4124bc=!0x1;break;}_0x254b9b=_0x43739d['OrAnd'];}return _0x4124bc;}[a0_0x217659(0x39f)](_0x4bf4e7){const _0x4d0459=a0_0x217659;let _0x18cdee=_0x4bf4e7['firstValue'],_0x20c376=_0x4bf4e7[_0x4d0459(0x6fe)];try{switch(_0x4bf4e7[_0x4d0459(0x2a6)]){case _0x4d0459(0x39c):return String(_0x18cdee)===String(_0x20c376);case _0x4d0459(0x197):return String(_0x18cdee)!==String(_0x20c376);case _0x4d0459(0x1f8):return String(_0x18cdee)[_0x4d0459(0x2f7)](String(_0x20c376));case _0x4d0459(0x391):return!String(_0x18cdee)['includes'](String(_0x20c376));case'greater':return parseFloat(String(_0x18cdee))>parseFloat(String(_0x20c376));case _0x4d0459(0x6ec):return parseFloat(String(_0x18cdee))<parseFloat(String(_0x20c376));case _0x4d0459(0x5cd):return String(_0x18cdee)!=='';case _0x4d0459(0x316):return String(_0x18cdee)==='';case _0x4d0459(0x667):return new RegExp(String(_0x20c376))[_0x4d0459(0x2af)](String(_0x18cdee));case'notMatchRegex':return!new RegExp(String(_0x20c376))[_0x4d0459(0x2af)](String(_0x18cdee));default:return!0x1;}}catch(_0x25c7f9){return this['logger'][_0x4d0459(0x310)](_0x4d0459(0x549)+_0x25c7f9),!0x1;}}async[a0_0x217659(0xef)](_0x7a5c40,_0x1b8ff5){const _0x2aface=a0_0x217659;if(this[_0x2aface(0x74b)][_0x2aface(0x56b)](this[_0x2aface(0x4d8)]+'\x20('+this[_0x2aface(0x753)][_0x2aface(0x3b8)]+_0x2aface(0x85e)),!_0x7a5c40||!_0x1b8ff5)return this[_0x2aface(0x74b)]['error'](this[_0x2aface(0x4d8)]+'\x20('+this[_0x2aface(0x753)][_0x2aface(0x3b8)]+_0x2aface(0x137)),null;let _0x4e2ad0=_0x7a5c40[_0x2aface(0x668)]['lastReceivedMessage'][_0x2aface(0x202)]['id'];this[_0x2aface(0x74b)][_0x2aface(0x56b)](this['instanceName']+'\x20('+this[_0x2aface(0x753)][_0x2aface(0x3b8)]+_0x2aface(0x256)+_0x4e2ad0);let _0x28b18c={'key':{'id':_0x4e2ad0}},_0x105376=_0x1b8ff5[_0x2aface(0x520)];_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)]['_'+_0x105376+_0x2aface(0x704)]=null,_0x7a5c40['chatLog'][_0x2aface(0x4cf)]['_'+_0x105376+_0x2aface(0x44b)]=null,_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)]['_'+_0x105376+_0x2aface(0x786)]=null,_0x7a5c40[_0x2aface(0x668)]['realVariables']['_'+_0x105376+_0x2aface(0x685)]=_0x7a5c40['chatLog']['lastReceivedMessage'][_0x2aface(0x149)];try{let _0xeeee73=await this[_0x2aface(0x405)](_0x28b18c);this[_0x2aface(0x74b)][_0x2aface(0x56b)](this[_0x2aface(0x4d8)]+'\x20('+this[_0x2aface(0x753)]['wuid']+'):\x20Detalhes\x20da\x20mdia\x20obtidos\x20com\x20sucesso.'),_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)]['_'+_0x105376+_0x2aface(0x6c6)]=_0xeeee73[_0x2aface(0x20d)],_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)]['_'+_0x105376+_0x2aface(0x44b)]=_0xeeee73[_0x2aface(0x4a9)];let _0x5f0135=_0xeeee73[_0x2aface(0x4a9)][_0x2aface(0x662)](/\/(\w+)$/),_0x14b56e=_0x5f0135?_0x5f0135[0x1]:null;_0x7a5c40[_0x2aface(0x668)]['realVariables']['_'+_0x105376+_0x2aface(0x786)]=_0x14b56e,this[_0x2aface(0x74b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Detalhes\x20da\x20mdia\x20salvos\x20para\x20\x27'+_0x105376+'\x27.');}catch(_0x5e9eb1){this[_0x2aface(0x74b)][_0x2aface(0x310)](this['instanceName']+'\x20('+this[_0x2aface(0x753)][_0x2aface(0x3b8)]+_0x2aface(0x41c)+_0x5e9eb1['message']);}let _0x17fb5e=_0x7a5c40[_0x2aface(0x668)][_0x2aface(0xf1)][_0x2aface(0x1dc)]||_0x7a5c40[_0x2aface(0x668)]['lastReceivedMessage'][_0x2aface(0x633)]||_0x7a5c40[_0x2aface(0x668)][_0x2aface(0xf1)][_0x2aface(0x6f0)];try{_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)]||(_0x7a5c40['chatLog'][_0x2aface(0x4cf)]={});let _0xf2847a=_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)][_0x105376];_0x7a5c40[_0x2aface(0x668)][_0x2aface(0x4cf)][_0x105376]=_0x17fb5e;let _0xcc46d9={'variable':_0x105376,'oldValue':_0xf2847a,'newValue':_0x17fb5e};this[_0x2aface(0x699)](_0x7a5c40,_0x1b8ff5,_0xcc46d9),this[_0x2aface(0x74b)]['verbose'](this[_0x2aface(0x4d8)]+'\x20('+this[_0x2aface(0x753)]['wuid']+_0x2aface(0x481));}catch(_0x4a22a5){let _0x19dbde={'error':!0x0,'errorLog':_0x4a22a5[_0x2aface(0x76d)]()};return this['updateConversation'](_0x7a5c40,_0x1b8ff5,_0x19dbde),this['logger'][_0x2aface(0x310)](this[_0x2aface(0x4d8)]+'\x20('+this['instance'][_0x2aface(0x3b8)]+_0x2aface(0x388)+(_0x4a22a5 instanceof Error?_0x4a22a5['message']:JSON[_0x2aface(0x176)](_0x4a22a5,null,0x2))),null;}}async[a0_0x217659(0x183)](_0x22ce11,_0xfbff7c){const _0x55d120=a0_0x217659;if(this[_0x55d120(0x74b)][_0x55d120(0x56b)](this['instanceName']+'\x20('+this[_0x55d120(0x753)][_0x55d120(0x3b8)]+_0x55d120(0x263)),!_0x22ce11||!_0xfbff7c)return this[_0x55d120(0x74b)]['error'](this[_0x55d120(0x4d8)]+'\x20('+this[_0x55d120(0x753)]['wuid']+_0x55d120(0x137)),null;let _0xdd6df3=Date[_0x55d120(0x11c)](),_0x5687fb=parseInt(_0xfbff7c[_0x55d120(0x4c9)],0xa);if(isNaN(_0x5687fb))return this['logger'][_0x55d120(0x310)](this[_0x55d120(0x4d8)]+'\x20('+this[_0x55d120(0x753)][_0x55d120(0x3b8)]+_0x55d120(0x570)),null;let _0x5ee0ea={'newStoppedUntil':_0xdd6df3+_0x5687fb*0x3c*0x3e8};return await this['updateConversation'](_0x22ce11,_0xfbff7c,_0x5ee0ea,!0x0),null;}async[a0_0x217659(0x872)](_0x1a0b2b,_0x10b6f6){const _0x2c500d=a0_0x217659;try{switch(_0x10b6f6[_0x2c500d(0x785)][_0x2c500d(0x47f)]){case _0x2c500d(0x3af):await this['uazapiSendText'](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x81e):await this['uazapiSendMedia'](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x621):await this[_0x2c500d(0x1fb)](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x26c):await this[_0x2c500d(0x815)](_0x1a0b2b,_0x10b6f6);break;case'sendContact':await this['uazapiSendContact'](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x196):await this[_0x2c500d(0x274)](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x4f3):await this[_0x2c500d(0x274)](_0x1a0b2b,_0x10b6f6);break;case _0x2c500d(0x5e9):await this[_0x2c500d(0x1c6)](_0x1a0b2b,_0x10b6f6);break;default:this[_0x2c500d(0x74b)][_0x2c500d(0x310)](this[_0x2c500d(0x4d8)]+'\x20('+this['instance'][_0x2c500d(0x3b8)]+_0x2c500d(0x17f)+_0x10b6f6['uazapi'][_0x2c500d(0x47f)]);}}catch(_0x2627dc){this[_0x2c500d(0x74b)][_0x2c500d(0x310)](this[_0x2c500d(0x4d8)]+'\x20('+this[_0x2c500d(0x753)][_0x2c500d(0x3b8)]+_0x2c500d(0x1a4)+(_0x2627dc instanceof Error?_0x2627dc[_0x2c500d(0x35e)]:JSON['stringify'](_0x2627dc,null,0x2)));}}async[a0_0x217659(0x699)](_0x172f41,_0x2f4ed1,_0x49a7f7,_0x4811be=!0x1,_0x3c8fa8=!0x1){const _0x496c46=a0_0x217659;_0x172f41['chatLog']['blockLogs']||(_0x172f41[_0x496c46(0x668)][_0x496c46(0x855)]=[]);let _0x39d5c4=(_0x172f41['chatLog'][_0x496c46(0x855)]?.[_0x496c46(0xf4)]??0x0)+0x1,_0x3581ad=_0x172f41[_0x496c46(0x668)]['blockLogs']['filter'](_0x1b3605=>String(_0x1b3605[_0x496c46(0x1a7)])===String(_0x2f4ed1['_id']))[_0x496c46(0xf4)]+0x1,_0x462ce7=_0x49a7f7?.[_0x496c46(0x3f2)]??Date[_0x496c46(0x11c)](),_0x539ce6=_0x49a7f7?.[_0x496c46(0x310)]?_0x49a7f7[_0x496c46(0x402)]??_0x49a7f7['error'][_0x496c46(0x76d)]():void 0x0,_0x414257={'onTime':_0x462ce7,'blockId':_0x2f4ed1[_0x496c46(0x353)],'order':_0x39d5c4,'activatedCount':_0x3581ad,'error':_0x49a7f7?.[_0x496c46(0x310)]??!0x1,'messageId':_0x49a7f7?.[_0x496c46(0x804)],'apiResponse':_0x49a7f7?.[_0x496c46(0x52a)],'apiResponseString':_0x49a7f7?.[_0x496c46(0x52a)]?JSON[_0x496c46(0x176)](_0x49a7f7?.[_0x496c46(0x52a)]):void 0x0,'variable':_0x49a7f7?.[_0x496c46(0x2f2)],'oldValue':_0x49a7f7?.[_0x496c46(0x122)],'newValue':_0x49a7f7?.['newValue'],'newStoppedUntil':_0x49a7f7?.[_0x496c46(0x2c4)],'moreLogs':_0x49a7f7?.['moreLogs'],'errorLog':_0x539ce6};if(_0x49a7f7[_0x496c46(0x1b9)]&&_0x49a7f7[_0x496c46(0x1b9)][_0x496c46(0xf4)]>0x0){let _0x2f468a=_0x49a7f7[_0x496c46(0x1b9)][_0x496c46(0x557)](_0x339214=>this['replaceVariablesLogs'](_0x339214,_0x172f41[_0x496c46(0x668)][_0x496c46(0x4cf)]));_0x414257[_0x496c46(0x1b9)]=_0x2f468a;}if(_0x172f41['chatLog']['realVariables']||(_0x172f41[_0x496c46(0x668)][_0x496c46(0x4cf)]={}),_0x172f41[_0x496c46(0x668)][_0x496c46(0x4cf)][_0x496c46(0x69a)]=String(_0x3581ad),_0x172f41[_0x496c46(0x668)]['realVariables'][_0x496c46(0x618)]=String(_0x49a7f7[_0x496c46(0x310)]??!0x1),_0x172f41[_0x496c46(0x668)][_0x496c46(0x855)]['push'](_0x414257),_0x172f41[_0x496c46(0x668)]['realVariables'][_0x496c46(0x7cf)]&&_0x172f41['chatLog'][_0x496c46(0x4cf)]['telefone']!==_0x172f41[_0x496c46(0x3cc)]){let _0x3a3550=(await this[_0x496c46(0x148)]({'numbers':[_0x172f41['chatLog'][_0x496c46(0x4cf)][_0x496c46(0x7cf)]]}))[0x0][_0x496c46(0x560)];_0x172f41[_0x496c46(0x668)][_0x496c46(0x4cf)][_0x496c46(0x7cf)]=_0x3a3550,_0x172f41[_0x496c46(0x3cc)]=_0x3a3550;try{let _0x54b87f={'_id':{'$ne':_0x172f41['_id']},'remoteJid':_0x3a3550,'status':_0x496c46(0x232)},_0x7812c4={'status':'closed'};await this['repository'][_0x496c46(0x2ca)]['updateMany'](_0x54b87f,_0x7812c4,this[_0x496c46(0x753)]['wuid']),this[_0x496c46(0x74b)][_0x496c46(0x56b)](this['instanceName']+'\x20('+this[_0x496c46(0x753)][_0x496c46(0x3b8)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x152ab0){this[_0x496c46(0x74b)]['error'](this[_0x496c46(0x4d8)]+'\x20('+this[_0x496c46(0x753)][_0x496c46(0x3b8)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x152ab0[_0x496c46(0x35e)]);}try{let _0x2c536e=_0x172f41[_0x496c46(0x668)][_0x496c46(0x4cf)],_0x59e10c=await this['getVariablesChat'](_0x3a3550),_0x1578a6={..._0x2c536e,..._0x59e10c,'_remoteJid':_0x3a3550};_0x172f41['chatLog'][_0x496c46(0x4cf)]=_0x1578a6;}catch(_0x6a4341){this[_0x496c46(0x74b)][_0x496c46(0x310)](this[_0x496c46(0x4d8)]+'\x20('+this[_0x496c46(0x753)][_0x496c46(0x3b8)]+_0x496c46(0x138)+_0x6a4341[_0x496c46(0x35e)]);}}_0x172f41['chatLog'][_0x496c46(0x78f)]=_0x2f4ed1[_0x496c46(0x353)][_0x496c46(0x76d)](),_0x172f41[_0x496c46(0x668)]['lastSendMessage']&&(_0x172f41[_0x496c46(0x668)][_0x496c46(0x32b)]=_0x172f41['chatLog']['lastSendMessage']),_0x172f41[_0x496c46(0x668)][_0x496c46(0xf1)]&&(_0x172f41[_0x496c46(0x668)][_0x496c46(0xf1)]=_0x172f41['chatLog'][_0x496c46(0xf1)]),_0x172f41['chatLog'][_0x496c46(0x78d)]&&(_0x172f41['chatLog'][_0x496c46(0x78d)]=_0x172f41['chatLog']['lastCondition']),_0x3c8fa8&&(_0x172f41[_0x496c46(0x381)]=_0x496c46(0x6a6)),_0x4811be?this['saveConversationToDatabase'](_0x172f41):this[_0x496c46(0x4fa)](_0x172f41,_0x2f4ed1);}[a0_0x217659(0x1b8)](_0x12f64c,_0x357a27){const _0x443f86=a0_0x217659;return _0x12f64c[_0x443f86(0x828)](/\{\{([^}]+)\}\}/g,(_0x3feb3a,_0x5dcbe)=>_0x357a27[_0x5dcbe]?'{{'+_0x5dcbe+_0x443f86(0x42e)+_0x357a27[_0x5dcbe]+'\x22':'{{'+_0x5dcbe+_0x443f86(0x3bd));}async[a0_0x217659(0x411)](_0x5747f5){const _0x2e4d03=a0_0x217659;try{let _0x2ff555=Object[_0x2e4d03(0x814)](_0x5747f5['chatLog'][_0x2e4d03(0x4cf)])[_0x2e4d03(0x557)](([_0x39124f,_0x5da3b5])=>({'name':_0x39124f,'value':_0x5da3b5})),_0x1a35be={'status':_0x5747f5[_0x2e4d03(0x381)],'remoteJid':_0x5747f5[_0x2e4d03(0x3cc)],'blocks':_0x5747f5[_0x2e4d03(0x363)],'waitingMenu_id':_0x5747f5[_0x2e4d03(0x5f7)],'waitingMenu_text':_0x5747f5[_0x2e4d03(0x143)],'waitingMenu_replyOptions':_0x5747f5[_0x2e4d03(0x7f5)],'chatLog':{'lastBlockId':_0x5747f5[_0x2e4d03(0x668)]['lastBlockId'],'lastSendMessage':_0x5747f5[_0x2e4d03(0x668)]['lastSendMessage'],'lastReceivedMessage':_0x5747f5['chatLog']['lastReceivedMessage'],'lastCondition':_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x78d)],'chatVariables':_0x2ff555,'realVariables':_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x4cf)],'blockLogs':_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x855)]}},_0x4599e4=await this[_0x2e4d03(0x471)][_0x2e4d03(0x2ca)][_0x2e4d03(0x3bb)](_0x5747f5[_0x2e4d03(0x353)],_0x1a35be,this[_0x2e4d03(0x753)][_0x2e4d03(0x3b8)]);if(_0x4599e4){this[_0x2e4d03(0x74b)]['verbose'](this[_0x2e4d03(0x4d8)]+'\x20('+this[_0x2e4d03(0x753)][_0x2e4d03(0x3b8)]+_0x2e4d03(0x519)+_0x4599e4['_id']);try{let _0x2097ae=[_0x2e4d03(0x418),_0x2e4d03(0x73b),'email',_0x2e4d03(0x4c2),'status',_0x2e4d03(0x38a),_0x2e4d03(0x222),'tags',_0x2e4d03(0x355),_0x2e4d03(0x5f6)];if(!this[_0x2e4d03(0x3b9)]&&(await this['getAutomateSystem'](),!this[_0x2e4d03(0x3b9)]))throw new Error(_0x2e4d03(0x69f));let _0x242f69=this['AutomateSystem']?.[_0x2e4d03(0x887)]['map'](_0x324496=>_0x324496[_0x2e4d03(0x4f7)]),_0x2857ee={};Object[_0x2e4d03(0x814)](_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x4cf)])[_0x2e4d03(0x3f7)](([_0x39860f,_0x4461ab])=>{const _0x3f4f1c=_0x2e4d03;_0x2097ae[_0x3f4f1c(0x2f7)](_0x39860f)&&(_0x39860f==='tags'&&typeof _0x4461ab=='string'?_0x2857ee[_0x39860f]=_0x4461ab['split'](',')[_0x3f4f1c(0x557)](_0x15b13e=>_0x15b13e['trim']())[_0x3f4f1c(0xf8)](_0x3b7ff5=>_0x3b7ff5!==''):_0x39860f===_0x3f4f1c(0x355)&&typeof _0x4461ab==_0x3f4f1c(0x185)?_0x2857ee[_0x39860f]=_0x4461ab['split'](',')[_0x3f4f1c(0x557)](_0x2a851e=>_0x2a851e['trim']())[_0x3f4f1c(0xf8)](_0x17e8fd=>_0x17e8fd!==''):_0x2857ee[_0x39860f]=_0x4461ab);});let _0x13d0fc=_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x855)][_0x5747f5[_0x2e4d03(0x668)][_0x2e4d03(0x855)]['length']-0x1];if(_0x13d0fc){let _0x4768cf=_0x13d0fc[_0x2e4d03(0x2c4)];_0x4768cf!==void 0x0&&(_0x2857ee[_0x2e4d03(0x1de)]=_0x4768cf[_0x2e4d03(0x76d)]());}let _0x10e928=_0x2ff555[_0x2e4d03(0xf8)](_0xc461b9=>_0x242f69[_0x2e4d03(0x2f7)](_0xc461b9['name']));this[_0x2e4d03(0x74b)][_0x2e4d03(0x56b)](this[_0x2e4d03(0x4d8)]+'\x20('+this[_0x2e4d03(0x753)]['wuid']+'):\x20leadInfoVariables'),this[_0x2e4d03(0x74b)]['verbose'](_0x2857ee),this[_0x2e4d03(0x74b)][_0x2e4d03(0x56b)](this['instanceName']+'\x20('+this[_0x2e4d03(0x753)]['wuid']+'):\x20customFieldVariables'),this['logger'][_0x2e4d03(0x56b)](_0x10e928);let _0x6bd15b=_0x10e928['map'](_0xd4d36d=>{const _0x9459f8=_0x2e4d03;let _0x3cc0a8=this[_0x9459f8(0x3b9)]?.[_0x9459f8(0x887)][_0x9459f8(0x6b5)](_0x34d736=>_0x34d736[_0x9459f8(0x4f7)]===_0xd4d36d[_0x9459f8(0x4f7)]);if(!_0x3cc0a8)throw new Error('Campo\x20personalizado\x20no\x20encontrado\x20para\x20o\x20nome\x20'+_0xd4d36d['name']);return{'_id':_0x3cc0a8[_0x9459f8(0x353)],'value':_0xd4d36d['value']};});this[_0x2e4d03(0x74b)][_0x2e4d03(0x56b)](this['instanceName']+'\x20('+this[_0x2e4d03(0x753)][_0x2e4d03(0x3b8)]+_0x2e4d03(0x5ce)),this[_0x2e4d03(0x74b)][_0x2e4d03(0x56b)](_0x6bd15b),await this['saveChatVariables'](_0x5747f5[_0x2e4d03(0x3cc)],_0x2857ee,_0x6bd15b);}catch(_0x497a4a){this[_0x2e4d03(0x74b)]['error'](this[_0x2e4d03(0x4d8)]+'\x20('+this[_0x2e4d03(0x753)][_0x2e4d03(0x3b8)]+_0x2e4d03(0x376)+(_0x497a4a instanceof Error?_0x497a4a['message']:JSON[_0x2e4d03(0x176)](_0x497a4a,null,0x2)));}}else this[_0x2e4d03(0x74b)][_0x2e4d03(0x310)](this[_0x2e4d03(0x4d8)]+'\x20('+this[_0x2e4d03(0x753)]['wuid']+_0x2e4d03(0x4a1));}catch(_0x8fe21e){this['logger'][_0x2e4d03(0x310)](this[_0x2e4d03(0x4d8)]+'\x20('+this[_0x2e4d03(0x753)][_0x2e4d03(0x3b8)]+_0x2e4d03(0x528)+(_0x8fe21e instanceof Error?_0x8fe21e[_0x2e4d03(0x35e)]:JSON[_0x2e4d03(0x176)](_0x8fe21e,null,0x2)));}}async[a0_0x217659(0x893)](_0x4b0063,_0x1fc563,_0x7c61f7){const _0x4e8a91=a0_0x217659;try{let _0x2a0444={'leadInfo.leadnome':_0x1fc563[_0x4e8a91(0x418)],'leadInfo.nomecompleto':_0x1fc563[_0x4e8a91(0x73b)],'leadInfo.email':_0x1fc563[_0x4e8a91(0x607)],'leadInfo.cpf':_0x1fc563['cpf'],'leadInfo.status':_0x1fc563[_0x4e8a91(0x381)],'leadInfo.notas':_0x1fc563[_0x4e8a91(0x38a)],'leadInfo.responsavelid':_0x1fc563[_0x4e8a91(0x222)],'leadInfo.tags':_0x1fc563[_0x4e8a91(0x108)],'leadInfo.etiquetas':_0x1fc563[_0x4e8a91(0x355)],'leadInfo.customFields':_0x7c61f7,'leadInfo.atendimentoAberto':_0x1fc563[_0x4e8a91(0x5f6)]},_0x1479c2=await this[_0x4e8a91(0x471)][_0x4e8a91(0x856)]['findOne']({'where':{'_id':_0x4b0063}},this['instance']['wuid']);if(!_0x1479c2)return _0x4e8a91(0x58a);let _0x5415c4=new Set(_0x1479c2[_0x4e8a91(0x532)][_0x4e8a91(0x355)]||[]),_0x5a6718=new Set(_0x1fc563['etiquetas']||[]),_0x580a3e=await this[_0x4e8a91(0x471)][_0x4e8a91(0x18b)][_0x4e8a91(0x6b5)]({'where':{}},this[_0x4e8a91(0x753)][_0x4e8a91(0x3b8)]),_0x3f8b19=new Set(_0x580a3e['map'](_0x1d65e4=>_0x1d65e4['_id'])),_0x5733a0=[..._0x5a6718][_0x4e8a91(0xf8)](_0x2c9e4c=>!_0x5415c4[_0x4e8a91(0x5b8)](_0x2c9e4c)&&_0x3f8b19['has'](_0x2c9e4c)),_0x476648=[..._0x5415c4][_0x4e8a91(0xf8)](_0x25ef69=>!_0x5a6718[_0x4e8a91(0x5b8)](_0x25ef69));for(let _0x45a0d4 of _0x5733a0)await this[_0x4e8a91(0x5d3)](_0x45a0d4,_0x1479c2['_id']),_0x5415c4[_0x4e8a91(0x735)](_0x45a0d4);for(let _0xcf9672 of _0x476648)await this[_0x4e8a91(0x1cf)](_0xcf9672,_0x1479c2[_0x4e8a91(0x353)]),_0x5415c4[_0x4e8a91(0x85c)](_0xcf9672);if(_0x4e8a91(0x1de)in _0x1fc563){let _0x517268=_0x1fc563[_0x4e8a91(0x1de)];_0x2a0444[_0x4e8a91(0x3f9)]=_0x517268?Number(_0x517268):null;}if(_0x4e8a91(0x5f6)in _0x1fc563){let _0x3ebd52=_0x1fc563[_0x4e8a91(0x5f6)]['toLowerCase']();_0x2a0444[_0x4e8a91(0x654)]=_0x3ebd52===_0x4e8a91(0x541)||_0x3ebd52==='1'||_0x3ebd52==='yes'||_0x3ebd52==='sim';}let _0x336f67=await this[_0x4e8a91(0x471)]['chat'][_0x4e8a91(0x3bb)]({'where':{'_id':_0x4b0063}},_0x2a0444,this['instance']['wuid']);_0x336f67?(this[_0x4e8a91(0x74b)][_0x4e8a91(0x56b)](this[_0x4e8a91(0x4d8)]+'\x20('+this[_0x4e8a91(0x753)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x336f67[_0x4e8a91(0x353)]),F(this['instanceName'],_0x4e8a91(0x529),{'chat':_0x336f67})):this[_0x4e8a91(0x74b)][_0x4e8a91(0x310)](this['instanceName']+'\x20('+this[_0x4e8a91(0x753)][_0x4e8a91(0x3b8)]+_0x4e8a91(0x180));}catch(_0x4e1769){this[_0x4e8a91(0x74b)][_0x4e8a91(0x310)](this[_0x4e8a91(0x4d8)]+'\x20('+this[_0x4e8a91(0x753)][_0x4e8a91(0x3b8)]+_0x4e8a91(0x26d)+(_0x4e1769 instanceof Error?_0x4e1769[_0x4e8a91(0x35e)]:JSON[_0x4e8a91(0x176)](_0x4e1769,null,0x2)));}}async[a0_0x217659(0x4d0)](_0x394ad7,_0x474548){const _0x32b40f=a0_0x217659;this[_0x32b40f(0x74b)][_0x32b40f(0x56b)](this[_0x32b40f(0x4d8)]+'\x20('+this[_0x32b40f(0x753)]['wuid']+_0x32b40f(0x653)+_0x474548);try{let _0x99564b=await this[_0x32b40f(0x471)][_0x32b40f(0x856)][_0x32b40f(0x3bb)]({'where':{'_id':_0x394ad7[_0x32b40f(0x3cc)]}},{'leadInfo.desativadoFluxoAte':_0x474548},this[_0x32b40f(0x753)]['wuid']);this[_0x32b40f(0x74b)][_0x32b40f(0x56b)](this[_0x32b40f(0x4d8)]+'\x20('+this[_0x32b40f(0x753)][_0x32b40f(0x3b8)]+_0x32b40f(0x850)+_0x394ad7[_0x32b40f(0x353)]),this[_0x32b40f(0x74b)][_0x32b40f(0x56b)](this[_0x32b40f(0x4d8)]+'\x20('+this[_0x32b40f(0x753)][_0x32b40f(0x3b8)]+'):\x20atualizao\x20chat:\x20'+JSON[_0x32b40f(0x176)](_0x99564b,null,0x2)),_0x99564b&&F(this[_0x32b40f(0x4d8)],_0x32b40f(0x529),{'chat':_0x99564b});}catch(_0x1c1ff3){this[_0x32b40f(0x74b)]['error'](this[_0x32b40f(0x4d8)]+'\x20('+this['instance'][_0x32b40f(0x3b8)]+_0x32b40f(0x359)+(_0x1c1ff3 instanceof Error?_0x1c1ff3[_0x32b40f(0x35e)]:JSON[_0x32b40f(0x176)](_0x1c1ff3,null,0x2)));}}async[a0_0x217659(0x3d3)](_0x3238e4){const _0x10889b=a0_0x217659;try{this[_0x10889b(0x74b)][_0x10889b(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x10889b(0x3b8)]+'):\x20Buscando\x20flow...');let _0x3e6ca9=_0x3238e4[_0x10889b(0x828)](/\D/g,''),_0x514b6b=this[_0x10889b(0x3b9)][_0x10889b(0x2d9)][_0x10889b(0x6b5)](_0x3b860d=>_0x3b860d[_0x10889b(0x6cf)]===_0x3e6ca9);if(_0x514b6b||(this[_0x10889b(0x74b)]['verbose'](this[_0x10889b(0x4d8)]+'\x20('+this[_0x10889b(0x753)][_0x10889b(0x3b8)]+_0x10889b(0x86b)),_0x514b6b=this[_0x10889b(0x3b9)][_0x10889b(0x2d9)][_0x10889b(0x6b5)](_0x2bc5d9=>_0x2bc5d9['default']===!0x0)),!_0x514b6b)return this['logger']['verbose'](this[_0x10889b(0x4d8)]+'\x20('+this[_0x10889b(0x753)][_0x10889b(0x3b8)]+_0x10889b(0x61d)),null;let _0x3b4cd9=await this[_0x10889b(0x471)][_0x10889b(0x37d)]['findOne']({'where':{'_id':_0x514b6b[_0x10889b(0x353)]}});if(!_0x3b4cd9||!_0x3b4cd9[_0x10889b(0x656)]?.[_0x10889b(0x2f7)](this[_0x10889b(0x753)]['wuid']))throw this[_0x10889b(0x74b)][_0x10889b(0x310)](this['instanceName']+'\x20('+this[_0x10889b(0x753)][_0x10889b(0x3b8)]+_0x10889b(0x2e7)+_0x3b4cd9[_0x10889b(0x353)]+_0x10889b(0x1e3)),new m(_0x10889b(0x4ee)+_0x3b4cd9[_0x10889b(0x353)]+_0x10889b(0x1e3));return _0x3b4cd9;}catch(_0x55d93b){return this[_0x10889b(0x74b)][_0x10889b(0x310)](this[_0x10889b(0x4d8)]+'\x20('+this[_0x10889b(0x753)][_0x10889b(0x3b8)]+_0x10889b(0x54d)+(_0x55d93b instanceof Error?_0x55d93b[_0x10889b(0x35e)]:JSON['stringify'](_0x55d93b,null,0x2))),null;}}async[a0_0x217659(0x841)](_0x4b5cd5,_0xaae1dc){const _0x2653a0=a0_0x217659;try{let _0x3f1c7f=!!_0xaae1dc[_0x2653a0(0x6f0)],_0x3dfddd=_0xaae1dc[_0x2653a0(0x6f1)],_0x59306b=null;if(this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]+_0x2653a0(0xf6)+_0x3f1c7f+_0x2653a0(0x1d0)+_0x3dfddd),_0x3f1c7f){this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x2653a0(0x3b8)]+_0x2653a0(0x198));let _0x2ad1da={'where':{'remoteJid':_0x4b5cd5,'waitingMenu_id':_0x3dfddd}};if(_0x59306b=await this[_0x2653a0(0x471)][_0x2653a0(0x2ca)]['findOne'](_0x2ad1da,this['instance']['wuid']),!_0x59306b)return this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this['instanceName']+'\x20('+this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]+'):\x20no\x20encontrou'),null;let _0x5f5c46=Date['now'](),_0x3c1c92=_0x59306b?.[_0x2653a0(0x7be)]||0x0,_0x352a44=_0x5f5c46-_0x3c1c92*0x3c*0x3e8;if(_0x59306b[_0x2653a0(0x4fb)]<_0x352a44){this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]+_0x2653a0(0x6cc));let _0x24a7a2={'number':_0x59306b[_0x2653a0(0x3cc)],'options':{'delay':0x0},'textMessage':{'text':_0x59306b[_0x2653a0(0x7e6)]}};await this[_0x2653a0(0x2ff)](_0x24a7a2);let _0x2a02c7={'status':_0x2653a0(0x6a6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation']['updateOne'](_0x59306b[_0x2653a0(0x353)],_0x2a02c7,this[_0x2653a0(0x753)]['wuid']),null;}return _0x59306b[_0x2653a0(0x4fb)]=Date['now'](),_0x59306b['chatLog'][_0x2653a0(0xf1)]=_0xaae1dc,_0x59306b;}else{this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x2653a0(0x3b8)]+_0x2653a0(0x839)+this['instance']['wuid']+_0x2653a0(0x628)),this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]+_0x2653a0(0x4bc));let _0x41a87f={'where':{'remoteJid':_0x4b5cd5,'status':_0x2653a0(0x232)}};if(_0x59306b=await this[_0x2653a0(0x471)][_0x2653a0(0x2ca)][_0x2653a0(0x567)](_0x41a87f,this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]),!_0x59306b){let _0x6a8e66=await this[_0x2653a0(0x3d3)](_0x4b5cd5);if(_0x6a8e66&&(_0x59306b=await this[_0x2653a0(0x796)](_0x6a8e66,_0xaae1dc[_0x2653a0(0x202)],_0xaae1dc)),!_0x59306b)return null;}let _0x48c2a9=Date[_0x2653a0(0x11c)](),_0x39c837=_0x59306b?.[_0x2653a0(0x7be)]||0x0,_0x1ce60d=_0x48c2a9-_0x39c837*0x3c*0x3e8;if(this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this[_0x2653a0(0x753)][_0x2653a0(0x3b8)]+_0x2653a0(0x585)+_0x48c2a9+_0x2653a0(0x6d5)+_0x39c837+_0x2653a0(0x336)+_0x1ce60d),this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this['instance'][_0x2653a0(0x3b8)]+_0x2653a0(0x559)),this['logger'][_0x2653a0(0x56b)](this[_0x2653a0(0x4d8)]+'\x20('+this['instance'][_0x2653a0(0x3b8)]+_0x2653a0(0x159)+_0x59306b[_0x2653a0(0x4fb)]),this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this['instanceName']+'\x20('+this[_0x2653a0(0x753)]['wuid']+_0x2653a0(0x844)+_0x1ce60d),_0x59306b['lastInteraction']<_0x1ce60d){this[_0x2653a0(0x74b)][_0x2653a0(0x56b)](this['instanceName']+'\x20('+this[_0x2653a0(0x753)]['wuid']+'):\x20Conversa\x20est\x20expirada');let _0x22ea4b=await this[_0x2653a0(0x3d3)](_0x4b5cd5);if(_0x22ea4b===null)return null;_0x59306b&&await this['repository'][_0x2653a0(0x2ca)][_0x2653a0(0x3bb)](_0x59306b[_0x2653a0(0x353)],{'status':'closed'},this[_0x2653a0(0x753)]['wuid']),_0x59306b=await this['createNewConversation'](_0x22ea4b,_0xaae1dc[_0x2653a0(0x202)],_0xaae1dc);}return _0x59306b[_0x2653a0(0x4fb)]=_0x48c2a9,_0x59306b['chatLog'][_0x2653a0(0xf1)]=_0xaae1dc,_0x59306b;}}catch(_0x1437c8){return this['logger'][_0x2653a0(0x310)](this[_0x2653a0(0x4d8)]+'\x20('+this[_0x2653a0(0x753)]['wuid']+_0x2653a0(0x6d1)+(_0x1437c8 instanceof Error?_0x1437c8[_0x2653a0(0x35e)]:JSON[_0x2653a0(0x176)](_0x1437c8,null,0x2))),null;}}async[a0_0x217659(0x796)](_0x4678f6,_0x3d4537,_0x36b65b){const _0x1a01d8=a0_0x217659;this[_0x1a01d8(0x74b)][_0x1a01d8(0x56b)](this['instanceName']+'\x20('+this[_0x1a01d8(0x753)][_0x1a01d8(0x3b8)]+_0x1a01d8(0x2e1));try{let _0x26fd18=require(_0x1a01d8(0x52d))[_0x1a01d8(0x7f6)],_0x95bf60=Date[_0x1a01d8(0x11c)](),_0x2d537d=_0x1a01d8(0x49a),_0x400dcc=_0x3d4537[_0x1a01d8(0x1f3)]?null:_0x36b65b,_0x3a0dd5=_0x3d4537['fromMe']?_0x36b65b:null,_0x4b5635=_0x3d4537[_0x1a01d8(0x3cc)],_0x19c76b=this['AutomateSystem'][_0x1a01d8(0x2d9)][_0x1a01d8(0x6b5)](_0x5a4e96=>_0x5a4e96[_0x1a01d8(0x353)]===_0x4678f6['_id']?.[_0x1a01d8(0x76d)]()),_0x264072=_0x19c76b?.[_0x1a01d8(0x7be)]??_0x4678f6['minutesToClose']??0x0,_0x2289ba=_0x19c76b?.['readMessages']??_0x4678f6['readMessages']??!0x1;await this['closeExistingConversations'](_0x4b5635);let _0x1d366e={'flowId':_0x4678f6[_0x1a01d8(0x353)],..._0x4678f6,'chatLog':null},_0x200aed=await this['variablesToObject'](_0x1d366e[_0x1a01d8(0x619)]),_0x178781=await this[_0x1a01d8(0x1d4)](_0x4b5635),_0x19be09={..._0x200aed,..._0x178781,'_remoteJid':_0x4b5635},_0x73f0ab={'lastReceivedMessage':_0x400dcc,'lastSendMessage':_0x3a0dd5,'lastBlockId':_0x2d537d,'lastCondition':!0x0,'realVariables':_0x19be09};_0x1d366e[_0x1a01d8(0x668)]=_0x73f0ab,delete _0x1d366e[_0x1a01d8(0x353)],_0x1d366e[_0x1a01d8(0x353)]=new _0x26fd18(),_0x1d366e[_0x1a01d8(0x4fb)]=_0x95bf60,_0x1d366e['status']='open',_0x1d366e[_0x1a01d8(0x3cc)]=_0x4b5635,_0x1d366e[_0x1a01d8(0x7be)]=_0x264072,_0x1d366e['readMessages']=_0x2289ba;let _0x1f06bf=await this[_0x1a01d8(0x471)][_0x1a01d8(0x2ca)]['updateOne'](_0x1d366e[_0x1a01d8(0x353)],_0x1d366e,this[_0x1a01d8(0x753)][_0x1a01d8(0x3b8)]);return this[_0x1a01d8(0x74b)][_0x1a01d8(0x56b)](this[_0x1a01d8(0x4d8)]+'\x20('+this['instance'][_0x1a01d8(0x3b8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1f06bf?_0x1d366e:null;}catch(_0x1a9f8f){return this['logger'][_0x1a01d8(0x310)](this[_0x1a01d8(0x4d8)]+'\x20('+this[_0x1a01d8(0x753)]['wuid']+_0x1a01d8(0x4b1)+(_0x1a9f8f instanceof Error?_0x1a9f8f[_0x1a01d8(0x35e)]:JSON[_0x1a01d8(0x176)](_0x1a9f8f,null,0x2))),_0x1a9f8f;}}async[a0_0x217659(0x3a7)](_0x4017d9,_0x17d998){const _0x3316fe=a0_0x217659;let _0x4ff547=_0x4017d9['remoteJid'];_0x17d998[_0x3316fe(0x785)][_0x3316fe(0x3cc)]&&_0x17d998[_0x3316fe(0x785)][_0x3316fe(0x3cc)]['trim']()!==''&&(_0x4ff547=_0x17d998[_0x3316fe(0x785)][_0x3316fe(0x3cc)]['trim']()),this[_0x3316fe(0x74b)][_0x3316fe(0x56b)](this[_0x3316fe(0x4d8)]+'\x20('+this[_0x3316fe(0x753)]['wuid']+_0x3316fe(0x2f1));let _0x58f0b2={'number':_0x4ff547,'options':{'delay':_0x17d998['uazapi']['delay'],'linkPreview':_0x17d998[_0x3316fe(0x785)][_0x3316fe(0x31a)]},'textMessage':{'text':_0x17d998['uazapi'][_0x3316fe(0x1dc)]}};try{let _0x43e609=await this['textMessage'](_0x58f0b2);if(_0x43e609){let _0x3e88a9={'_id':_0x43e609['key']['id'],'_fromMe':_0x43e609[_0x3316fe(0x202)][_0x3316fe(0x1f3)],'_remoteJid':_0x43e609['key'][_0x3316fe(0x3cc)]},_0xf354fc=(0x0,w[_0x3316fe(0x596)])(_0x43e609['message']),_0x1d20d8=(0x0,w[_0x3316fe(0x5a6)])(_0xf354fc);_0x4017d9[_0x3316fe(0x668)][_0x3316fe(0x78f)]=_0x17d998['_id']['toString']();let {message_normalized:_0x42810e}=this[_0x3316fe(0x124)](_0xf354fc,_0x1d20d8,null);_0x4017d9[_0x3316fe(0x668)]['lastSendMessage']=await _0x42810e;let _0x1d58d4={'messageId':_0x43e609[_0x3316fe(0x202)]['id']},_0x281170=_0x4017d9[_0x3316fe(0x668)][_0x3316fe(0x4cf)];Object['assign'](_0x281170,_0x3e88a9),_0x4017d9[_0x3316fe(0x668)][_0x3316fe(0x4cf)]=_0x281170,this[_0x3316fe(0x699)](_0x4017d9,_0x17d998,_0x1d58d4);}else{let _0x4d2b9b={'error':!0x0};this['updateConversation'](_0x4017d9,_0x17d998,_0x4d2b9b),this['logger'][_0x3316fe(0x310)](this['instanceName']+'\x20('+this['instance'][_0x3316fe(0x3b8)]+_0x3316fe(0x1c1));}}catch(_0x30f2e3){let _0x5bbb4c={'error':!0x0,'errorLog':_0x30f2e3['toString']()};this[_0x3316fe(0x699)](_0x4017d9,_0x17d998,_0x5bbb4c),this[_0x3316fe(0x74b)][_0x3316fe(0x310)](this[_0x3316fe(0x4d8)]+'\x20('+this['instance'][_0x3316fe(0x3b8)]+_0x3316fe(0x3c8)+(_0x30f2e3 instanceof Error?_0x30f2e3['message']:JSON[_0x3316fe(0x176)](_0x30f2e3,null,0x2)));}}async['uazapiSendMedia'](_0x4f6cd8,_0x91bd3b){const _0x356696=a0_0x217659;let _0x3f1aae=_0x4f6cd8[_0x356696(0x3cc)];_0x91bd3b[_0x356696(0x785)][_0x356696(0x3cc)]&&_0x91bd3b[_0x356696(0x785)][_0x356696(0x3cc)][_0x356696(0x472)]()!==''&&(_0x3f1aae=_0x91bd3b[_0x356696(0x785)][_0x356696(0x3cc)]['trim']()),this[_0x356696(0x74b)][_0x356696(0x56b)](this['instanceName']+'\x20('+this[_0x356696(0x753)][_0x356696(0x3b8)]+_0x356696(0x3cd));let _0x329f9a={'number':_0x3f1aae,'options':{'delay':_0x91bd3b['uazapi'][_0x356696(0x35b)],'linkPreview':_0x91bd3b[_0x356696(0x785)][_0x356696(0x31a)]},'mediaMessage':{'mediatype':_0x91bd3b[_0x356696(0x785)][_0x356696(0x40a)],'caption':_0x91bd3b[_0x356696(0x785)][_0x356696(0x633)],'media':_0x91bd3b[_0x356696(0x785)][_0x356696(0x87d)],'fileName':_0x91bd3b[_0x356696(0x785)][_0x356696(0x400)]}};try{let _0x4d1460=await this[_0x356696(0x624)](_0x329f9a);if(_0x4d1460){let _0x4ced53={'_id':_0x4d1460[_0x356696(0x202)]['id'],'_fromMe':_0x4d1460['key'][_0x356696(0x1f3)],'_remoteJid':_0x4d1460['key'][_0x356696(0x3cc)]},_0x2020dd=(0x0,w['normalizeMessageContent'])(_0x4d1460[_0x356696(0x35e)]),_0x90c73=(0x0,w[_0x356696(0x5a6)])(_0x2020dd);_0x4f6cd8[_0x356696(0x668)][_0x356696(0x78f)]=_0x91bd3b[_0x356696(0x353)]['toString']();let {message_normalized:_0x5eda1d}=this[_0x356696(0x124)](_0x2020dd,_0x90c73,null);_0x4f6cd8[_0x356696(0x668)][_0x356696(0x32b)]=await _0x5eda1d;let _0xc46513={'messageId':_0x4d1460[_0x356696(0x202)]['id']},_0x1c544c=_0x4f6cd8[_0x356696(0x668)]['realVariables'];Object[_0x356696(0x777)](_0x1c544c,_0x4ced53),_0x4f6cd8['chatLog'][_0x356696(0x4cf)]=_0x1c544c,this[_0x356696(0x699)](_0x4f6cd8,_0x91bd3b,_0xc46513);}else{let _0x4ae17a={'error':!0x0};this[_0x356696(0x699)](_0x4f6cd8,_0x91bd3b,_0x4ae17a),this[_0x356696(0x74b)][_0x356696(0x310)](this['instanceName']+'\x20('+this[_0x356696(0x753)]['wuid']+_0x356696(0x56c));}}catch(_0x249d6b){let _0x5e0837={'error':!0x0,'errorLog':_0x249d6b['toString']()};this[_0x356696(0x699)](_0x4f6cd8,_0x91bd3b,_0x5e0837),this['logger'][_0x356696(0x310)](this[_0x356696(0x4d8)]+'\x20('+this['instance'][_0x356696(0x3b8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mdia:\x20'+(_0x249d6b instanceof Error?_0x249d6b[_0x356696(0x35e)]:JSON['stringify'](_0x249d6b,null,0x2)));}}async[a0_0x217659(0x1fb)](_0x5180c5,_0x30672c){const _0x295d36=a0_0x217659;let _0x2103f3=_0x5180c5[_0x295d36(0x3cc)];_0x30672c[_0x295d36(0x785)]['remoteJid']&&_0x30672c[_0x295d36(0x785)][_0x295d36(0x3cc)][_0x295d36(0x472)]()!==''&&(_0x2103f3=_0x30672c[_0x295d36(0x785)][_0x295d36(0x3cc)]['trim']()),this[_0x295d36(0x74b)][_0x295d36(0x56b)](this[_0x295d36(0x4d8)]+'\x20('+this[_0x295d36(0x753)]['wuid']+_0x295d36(0x734));let _0x72dbfa={'number':_0x2103f3,'options':{'delay':_0x30672c[_0x295d36(0x785)]['delay']},'locationMessage':{'name':_0x30672c[_0x295d36(0x785)]['name'],'address':_0x30672c[_0x295d36(0x785)][_0x295d36(0x617)],'latitude':_0x30672c[_0x295d36(0x785)][_0x295d36(0x774)],'longitude':_0x30672c[_0x295d36(0x785)][_0x295d36(0x20e)]}};try{let _0x398779=await this[_0x295d36(0x19b)](_0x72dbfa);if(_0x398779){let _0x10e461={'_id':_0x398779[_0x295d36(0x202)]['id'],'_fromMe':_0x398779[_0x295d36(0x202)]['fromMe'],'_remoteJid':_0x398779[_0x295d36(0x202)]['remoteJid']},_0x499066=(0x0,w[_0x295d36(0x596)])(_0x398779[_0x295d36(0x35e)]),_0x2b5a4f=(0x0,w[_0x295d36(0x5a6)])(_0x499066);_0x5180c5[_0x295d36(0x668)][_0x295d36(0x78f)]=_0x30672c[_0x295d36(0x353)][_0x295d36(0x76d)]();let {message_normalized:_0xa82ed3}=this[_0x295d36(0x124)](_0x499066,_0x2b5a4f,null);_0x5180c5[_0x295d36(0x668)]['lastSendMessage']=await _0xa82ed3;let _0x41d104={'messageId':_0x398779[_0x295d36(0x202)]['id']},_0xdfebbd=_0x5180c5[_0x295d36(0x668)][_0x295d36(0x4cf)];Object[_0x295d36(0x777)](_0xdfebbd,_0x10e461),_0x5180c5[_0x295d36(0x668)]['realVariables']=_0xdfebbd,this[_0x295d36(0x699)](_0x5180c5,_0x30672c,_0x41d104);}else{let _0xd06bad={'error':!0x0};this[_0x295d36(0x699)](_0x5180c5,_0x30672c,_0xd06bad),this[_0x295d36(0x74b)]['error'](this[_0x295d36(0x4d8)]+'\x20('+this[_0x295d36(0x753)][_0x295d36(0x3b8)]+_0x295d36(0x743));}}catch(_0x425e56){let _0x1e772d={'error':!0x0,'errorLog':_0x425e56[_0x295d36(0x76d)]()};this[_0x295d36(0x699)](_0x5180c5,_0x30672c,_0x1e772d),this[_0x295d36(0x74b)]['error'](this[_0x295d36(0x4d8)]+'\x20('+this[_0x295d36(0x753)][_0x295d36(0x3b8)]+_0x295d36(0x3c4)+(_0x425e56 instanceof Error?_0x425e56[_0x295d36(0x35e)]:JSON['stringify'](_0x425e56,null,0x2)));}}async['uazapiSendAudio'](_0x429cbf,_0x29b625){const _0x32291c=a0_0x217659;let _0x270827=_0x429cbf[_0x32291c(0x3cc)];_0x29b625[_0x32291c(0x785)][_0x32291c(0x3cc)]&&_0x29b625[_0x32291c(0x785)][_0x32291c(0x3cc)][_0x32291c(0x472)]()!==''&&(_0x270827=_0x29b625[_0x32291c(0x785)][_0x32291c(0x3cc)][_0x32291c(0x472)]()),this[_0x32291c(0x74b)][_0x32291c(0x56b)](this[_0x32291c(0x4d8)]+'\x20('+this[_0x32291c(0x753)]['wuid']+'):\x20Enviando\x20udio');let _0x33701f={'number':_0x270827,'options':{'delay':_0x29b625['uazapi'][_0x32291c(0x35b)]},'audioMessage':{'audio':_0x29b625[_0x32291c(0x785)][_0x32291c(0x1a2)]}};try{let _0x3d0aa0=await this['audioWhatsapp'](_0x33701f);if(_0x3d0aa0){let _0x2726b4={'_id':_0x3d0aa0[_0x32291c(0x202)]['id'],'_fromMe':_0x3d0aa0[_0x32291c(0x202)][_0x32291c(0x1f3)],'_remoteJid':_0x3d0aa0['key'][_0x32291c(0x3cc)]},_0x1d2baf=(0x0,w[_0x32291c(0x596)])(_0x3d0aa0['message']),_0x48b3de=(0x0,w[_0x32291c(0x5a6)])(_0x1d2baf);_0x429cbf[_0x32291c(0x668)][_0x32291c(0x78f)]=_0x29b625['_id'][_0x32291c(0x76d)]();let {message_normalized:_0x1d683c}=this[_0x32291c(0x124)](_0x1d2baf,_0x48b3de,null);_0x429cbf[_0x32291c(0x668)][_0x32291c(0x32b)]=await _0x1d683c;let _0x4bfbb8={'messageId':_0x3d0aa0[_0x32291c(0x202)]['id']},_0x5c63a6=_0x429cbf[_0x32291c(0x668)][_0x32291c(0x4cf)];Object[_0x32291c(0x777)](_0x5c63a6,_0x2726b4),_0x429cbf['chatLog'][_0x32291c(0x4cf)]=_0x5c63a6,this[_0x32291c(0x699)](_0x429cbf,_0x29b625,_0x4bfbb8);}else{let _0x2d27b0={'error':!0x0};this[_0x32291c(0x699)](_0x429cbf,_0x29b625,_0x2d27b0),this[_0x32291c(0x74b)][_0x32291c(0x310)](this[_0x32291c(0x4d8)]+'\x20('+this[_0x32291c(0x753)][_0x32291c(0x3b8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20udio.');}}catch(_0xa7c263){let _0x198b26={'error':!0x0,'errorLog':_0xa7c263[_0x32291c(0x76d)]()};this['updateConversation'](_0x429cbf,_0x29b625,_0x198b26),this[_0x32291c(0x74b)][_0x32291c(0x310)](this[_0x32291c(0x4d8)]+'\x20('+this[_0x32291c(0x753)][_0x32291c(0x3b8)]+_0x32291c(0x26b)+(_0xa7c263 instanceof Error?_0xa7c263['message']:JSON[_0x32291c(0x176)](_0xa7c263,null,0x2)));}}async[a0_0x217659(0x761)](_0x2e3cd4,_0x262982){const _0x17dfd9=a0_0x217659;let _0x16236a=_0x2e3cd4[_0x17dfd9(0x3cc)];_0x262982[_0x17dfd9(0x785)][_0x17dfd9(0x3cc)]&&_0x262982[_0x17dfd9(0x785)]['remoteJid']['trim']()!==''&&(_0x16236a=_0x262982['uazapi']['remoteJid'][_0x17dfd9(0x472)]()),this[_0x17dfd9(0x74b)][_0x17dfd9(0x56b)](this[_0x17dfd9(0x4d8)]+'\x20('+this[_0x17dfd9(0x753)]['wuid']+'):\x20Enviando\x20contato');let _0xf2f18a={'number':_0x16236a,'options':{'delay':_0x262982[_0x17dfd9(0x785)][_0x17dfd9(0x35b)]},'contactMessage':[{'fullName':_0x262982[_0x17dfd9(0x785)][_0x17dfd9(0x24a)],'phoneNumber':_0x262982[_0x17dfd9(0x785)][_0x17dfd9(0x4ac)]}]};try{let _0x484c03=await this['contactMessage'](_0xf2f18a);if(_0x484c03){let _0x5ff6c={'_id':_0x484c03[_0x17dfd9(0x202)]['id'],'_fromMe':_0x484c03[_0x17dfd9(0x202)]['fromMe'],'_remoteJid':_0x484c03['key']['remoteJid']},_0x37d88e=(0x0,w[_0x17dfd9(0x596)])(_0x484c03['message']),_0x53d4b7=(0x0,w[_0x17dfd9(0x5a6)])(_0x37d88e);_0x2e3cd4['chatLog'][_0x17dfd9(0x78f)]=_0x262982['_id'][_0x17dfd9(0x76d)]();let {message_normalized:_0x4a86f5}=this[_0x17dfd9(0x124)](_0x37d88e,_0x53d4b7,null);_0x2e3cd4[_0x17dfd9(0x668)][_0x17dfd9(0x32b)]=await _0x4a86f5;let _0x25afaf={'messageId':_0x484c03[_0x17dfd9(0x202)]['id']},_0x2a9fcb=_0x2e3cd4['chatLog'][_0x17dfd9(0x4cf)];Object[_0x17dfd9(0x777)](_0x2a9fcb,_0x5ff6c),_0x2e3cd4[_0x17dfd9(0x668)][_0x17dfd9(0x4cf)]=_0x2a9fcb,this[_0x17dfd9(0x699)](_0x2e3cd4,_0x262982,_0x25afaf);}else{let _0x2402b4={'error':!0x0};this['updateConversation'](_0x2e3cd4,_0x262982,_0x2402b4),this['logger'][_0x17dfd9(0x310)](this['instanceName']+'\x20('+this[_0x17dfd9(0x753)][_0x17dfd9(0x3b8)]+_0x17dfd9(0x382));}}catch(_0x353d5b){let _0x5d8b23={'error':!0x0,'errorLog':_0x353d5b[_0x17dfd9(0x76d)]()};this[_0x17dfd9(0x699)](_0x2e3cd4,_0x262982,_0x5d8b23),this['logger']['error'](this[_0x17dfd9(0x4d8)]+'\x20('+this[_0x17dfd9(0x753)][_0x17dfd9(0x3b8)]+_0x17dfd9(0x769)+(_0x353d5b instanceof Error?_0x353d5b['message']:JSON[_0x17dfd9(0x176)](_0x353d5b,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x4e515f,_0x396711){const _0x5590ac=a0_0x217659;for(let _0x1dcc7a of _0x4e515f)_0x1dcc7a[_0x5590ac(0x4c5)]&&(_0x1dcc7a['option']=this[_0x5590ac(0x3ce)](_0x1dcc7a[_0x5590ac(0x4c5)],_0x396711)),_0x1dcc7a[_0x5590ac(0x505)]&&(_0x1dcc7a['optionDescription']=this[_0x5590ac(0x3ce)](_0x1dcc7a[_0x5590ac(0x505)],_0x396711));}async[a0_0x217659(0x274)](_0x2b958d,_0x13f3ba){const _0x456769=a0_0x217659;let _0x41132d=_0x2b958d['remoteJid'];_0x13f3ba['uazapi'][_0x456769(0x3cc)]&&_0x13f3ba[_0x456769(0x785)][_0x456769(0x3cc)][_0x456769(0x472)]()!==''&&(_0x41132d=_0x13f3ba['uazapi']['remoteJid'][_0x456769(0x472)]()),this['logger'][_0x456769(0x56b)](this[_0x456769(0x4d8)]+'\x20('+this['instance'][_0x456769(0x3b8)]+_0x456769(0x7fb));let _0x1c56aa=_0x2b958d[_0x456769(0x2e3)]['filter'](_0x1db6cd=>_0x1db6cd[_0x456769(0x1a7)]===_0x13f3ba['_id'])['sort']((_0x4d2515,_0x4d4f10)=>_0x4d2515[_0x456769(0x248)]-_0x4d4f10[_0x456769(0x248)]);this[_0x456769(0x6a7)](_0x1c56aa,_0x2b958d[_0x456769(0x668)]['realVariables']);let _0x129425=_0x1c56aa[_0x456769(0x557)](_0x2fd650=>_0x2fd650[_0x456769(0x4c5)]),_0x464e4c={'number':_0x41132d,'menuMessage':{'type':_0x13f3ba[_0x456769(0x785)][_0x456769(0x14c)]||_0x456769(0x15d),'text':_0x13f3ba['uazapi'][_0x456769(0x1dc)]||_0x13f3ba[_0x456769(0x785)][_0x456769(0x4f7)],'footerText':_0x13f3ba['uazapi']['footerText'],'buttonText':_0x13f3ba[_0x456769(0x785)][_0x456769(0x186)],'selectableCount':0x1,'choices':_0x129425},'options':{'delay':_0x13f3ba['uazapi'][_0x456769(0x35b)]}};try{let _0xbae933=await this[_0x456769(0x616)](_0x464e4c);if(_0xbae933){let _0xe4128e={'_id':_0xbae933[_0x456769(0x202)]['id'],'_fromMe':_0xbae933[_0x456769(0x202)]['fromMe'],'_remoteJid':_0xbae933[_0x456769(0x202)][_0x456769(0x3cc)]};_0x13f3ba['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x2b958d['status']=_0x456769(0x1c8),this[_0x456769(0x74b)][_0x456769(0x56b)](this[_0x456769(0x4d8)]+'\x20('+this[_0x456769(0x753)]['wuid']+_0x456769(0x211)+_0x2b958d['status'])),this[_0x456769(0x74b)][_0x456769(0x56b)](this['instanceName']+'\x20('+this[_0x456769(0x753)]['wuid']+_0x456769(0x7d2)+(_0x13f3ba[_0x456769(0x785)][_0x456769(0x4f7)]||_0x13f3ba[_0x456769(0x785)][_0x456769(0x1dc)])),_0x2b958d[_0x456769(0x5f7)]=_0xbae933[_0x456769(0x202)]['id'],_0x2b958d[_0x456769(0x143)]=_0x13f3ba['uazapi'][_0x456769(0x4f7)]||_0x13f3ba[_0x456769(0x785)]['text'],_0x2b958d[_0x456769(0x7f5)]=_0x1c56aa,_0x13f3ba[_0x456769(0x785)][_0x456769(0x10b)]&&(_0x2b958d['waitingMenu_ExpiredMessage']=_0x13f3ba[_0x456769(0x785)]['menuExpiredMessage']),this[_0x456769(0x74b)][_0x456769(0x56b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x456769(0x78b)+_0x2b958d[_0x456769(0x143)]);let _0x56fbf9=(0x0,w['normalizeMessageContent'])(_0xbae933[_0x456769(0x35e)]),_0x436082=(0x0,w['getContentType'])(_0x56fbf9);_0x2b958d[_0x456769(0x668)]['lastBlockId']=_0x13f3ba[_0x456769(0x353)][_0x456769(0x76d)]();let {message_normalized:_0x2c6492}=this[_0x456769(0x124)](_0x56fbf9,_0x436082,null);_0x2b958d[_0x456769(0x668)][_0x456769(0x32b)]=await _0x2c6492;let _0x314d56={'messageId':_0xbae933[_0x456769(0x202)]['id']},_0xd6d5f6=_0x2b958d[_0x456769(0x668)]['realVariables'];Object[_0x456769(0x777)](_0xd6d5f6,_0xe4128e),_0x2b958d[_0x456769(0x668)]['realVariables']=_0xd6d5f6,this[_0x456769(0x699)](_0x2b958d,_0x13f3ba,_0x314d56);}else{let _0x2aee18={'error':!0x0};this[_0x456769(0x699)](_0x2b958d,_0x13f3ba,_0x2aee18),this[_0x456769(0x74b)]['error'](this[_0x456769(0x4d8)]+'\x20('+this[_0x456769(0x753)][_0x456769(0x3b8)]+_0x456769(0x5dd));}}catch(_0x5eeca7){let _0x3f1831={'error':!0x0,'errorLog':_0x5eeca7 instanceof Error?_0x5eeca7[_0x456769(0x35e)]:JSON[_0x456769(0x176)](_0x5eeca7,null,0x2)};this[_0x456769(0x699)](_0x2b958d,_0x13f3ba,_0x3f1831),this['logger'][_0x456769(0x310)](this[_0x456769(0x4d8)]+'\x20('+this[_0x456769(0x753)][_0x456769(0x3b8)]+_0x456769(0x203)+(_0x5eeca7 instanceof Error?_0x5eeca7['message']:JSON[_0x456769(0x176)](_0x5eeca7,null,0x2)));}}async['uazapiDeleteMessage'](_0x175dbf,_0x234089){const _0x175acc=a0_0x217659;this[_0x175acc(0x74b)][_0x175acc(0x56b)](this['instanceName']+'\x20('+this[_0x175acc(0x753)]['wuid']+_0x175acc(0x3dd));let _0x1c8899=_0x175dbf['chatLog']['blockLogs']['find'](_0x23cc4f=>_0x23cc4f[_0x175acc(0x1a7)][_0x175acc(0x76d)]()===_0x234089[_0x175acc(0x785)][_0x175acc(0x1a7)][_0x175acc(0x76d)]()),_0x13513c={'id':_0x1c8899[_0x175acc(0x804)],'remoteJid':_0x1c8899['remoteJid'],'fromMe':_0x1c8899[_0x175acc(0x1f3)]};try{let _0xd8b05e=await this['deleteMessage'](_0x13513c);if(_0xd8b05e){let _0x417e79=(0x0,w[_0x175acc(0x596)])(_0xd8b05e[_0x175acc(0x35e)]),_0x5d6722=(0x0,w[_0x175acc(0x5a6)])(_0x417e79);_0x175dbf['chatLog'][_0x175acc(0x78f)]=_0x234089[_0x175acc(0x353)][_0x175acc(0x76d)]();let {message_normalized:_0x4950ec}=this[_0x175acc(0x124)](_0x417e79,_0x5d6722,null);_0x175dbf[_0x175acc(0x668)]['lastSendMessage']=await _0x4950ec;let _0x141c96={};this['updateConversation'](_0x175dbf,_0x234089,_0x141c96);}else{let _0x52847f={'error':!0x0};this[_0x175acc(0x699)](_0x175dbf,_0x234089,_0x52847f),this['logger'][_0x175acc(0x310)](this['instanceName']+'\x20('+this[_0x175acc(0x753)]['wuid']+_0x175acc(0x571));}}catch(_0x89a46c){let _0x2e1812={'error':!0x0,'errorLog':_0x89a46c instanceof Error?_0x89a46c[_0x175acc(0x35e)]:JSON['stringify'](_0x89a46c,null,0x2)};this[_0x175acc(0x699)](_0x175dbf,_0x234089,_0x2e1812),this['logger'][_0x175acc(0x310)](this[_0x175acc(0x4d8)]+'\x20('+this[_0x175acc(0x753)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x89a46c instanceof Error?_0x89a46c['message']:JSON[_0x175acc(0x176)](_0x89a46c,null,0x2)));}}async[a0_0x217659(0x7a3)](_0x29f052,_0x3f5419){const _0x376021=a0_0x217659;if(_0x29f052[_0x376021(0x4f7)]||(_0x29f052[_0x376021(0x4f7)]=(0x0,Q['v4'])()),_0x3f5419!==Ri&&_0x29f052?.[_0x376021(0x23a)])throw new m(_0x376021(0xfb));if('_id'in _0x29f052&&_0x376021(0x401)in _0x29f052)return this['AddUserFlow'](_0x29f052[_0x376021(0x401)],_0x29f052[_0x376021(0x353)]);this['logger'][_0x376021(0x56b)](this[_0x376021(0x4d8)]+'\x20('+this[_0x376021(0x753)][_0x376021(0x3b8)]+'):\x20Criando\x20fluxo...');let _0x24a1bb=this[_0x376021(0x244)](_0x29f052[_0x376021(0x4f7)]),_0x196a8b=new pe[(_0x376021(0x1b4))][(_0x376021(0x7f6))](),_0x1b1cf2={'_id':_0x196a8b,'default':!0x0,'title':_0x376021(0x343),'x':0x0,'y':0x0},_0x54ca5c={'_id':new pe[(_0x376021(0x1b4))]['ObjectId'](),'order':0x1,'groupId':_0x196a8b[_0x376021(0x76d)](),'type':_0x376021(0x49a)},_0x229503=this['instance']['wuid'],_0x2edf31={'_id':(0x0,Q['v4'])(),'owner':_0x229503,'name':_0x24a1bb,'whoCanEdit':[_0x229503],'whoCanUse':[_0x229503],'groups':[_0x1b1cf2],'blocks':[_0x54ca5c],..._0x29f052};try{let _0x36bb4f=await this[_0x376021(0x471)]['flow'][_0x376021(0x6a9)](_0x2edf31);return await this[_0x376021(0x573)](),_0x36bb4f;}catch(_0x3f060b){let _0x32a4c1=_0x376021(0x330),_0xed66cc=_0x3f060b instanceof Error?_0x3f060b[_0x376021(0x35e)]:typeof _0x3f060b==_0x376021(0x6ae)?JSON['stringify'](_0x3f060b):_0x3f060b,_0x5d05c3=_0x32a4c1+':\x20'+_0xed66cc;throw this[_0x376021(0x74b)][_0x376021(0x310)](this[_0x376021(0x4d8)]+'\x20('+this[_0x376021(0x753)][_0x376021(0x3b8)]+_0x376021(0x839)+_0x5d05c3),new m(_0x5d05c3);}}async[a0_0x217659(0x757)](_0x4e30bc,_0x33c66b){const _0x175812=a0_0x217659;try{this[_0x175812(0x74b)][_0x175812(0x56b)](this[_0x175812(0x4d8)]+'\x20('+this[_0x175812(0x753)]['wuid']+_0x175812(0x540));let _0x2e7247=await this[_0x175812(0x471)]['flow']['findOne']({'where':{'_id':_0x33c66b,'owner':_0x4e30bc}});if(!_0x2e7247)throw new m(_0x175812(0x6f3));if(_0x2e7247['shareFlow']===!0x1&&!_0x2e7247['globalShow'])throw new m(_0x175812(0x72b));let _0x1b3946=new Set(_0x2e7247[_0x175812(0x656)]??[]);_0x1b3946['add'](this[_0x175812(0x753)][_0x175812(0x3b8)]);let _0x4edd07=await this[_0x175812(0x471)][_0x175812(0x37d)]['updateOne'](_0x33c66b,{..._0x2e7247,'whoCanUse':Array[_0x175812(0x73a)](_0x1b3946)});return await this[_0x175812(0x573)](),_0x4edd07;}catch(_0x4c1824){let _0x13baeb=_0x175812(0x290),_0x32ddc8=_0x4c1824 instanceof Error?_0x4c1824['message']:typeof _0x4c1824==_0x175812(0x6ae)?JSON['stringify'](_0x4c1824):_0x4c1824,_0x5c144b=_0x13baeb+':\x20'+_0x32ddc8;throw this[_0x175812(0x74b)][_0x175812(0x310)](this['instanceName']+'\x20('+this[_0x175812(0x753)]['wuid']+_0x175812(0x839)+_0x5c144b),new m(_0x5c144b);}}[a0_0x217659(0x244)](_0xb7d1ce){const _0xfe71c3=a0_0x217659;let _0x37cf59=_0xb7d1ce,_0x46cd24=0x1;for(;this[_0xfe71c3(0x3b9)][_0xfe71c3(0x2d9)][_0xfe71c3(0x102)](_0x310076=>_0x310076['name']===_0x37cf59);)_0x46cd24++,_0x37cf59=_0xb7d1ce+'\x20('+_0x46cd24+')';return _0x37cf59;}async[a0_0x217659(0x731)](_0x24a631){const _0x126270=a0_0x217659;try{if(this['logger'][_0x126270(0x56b)](this[_0x126270(0x4d8)]+'\x20('+this[_0x126270(0x753)][_0x126270(0x3b8)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x24a631[_0x126270(0x353)]+',\x20global:\x20'+_0x24a631[_0x126270(0x294)]),!this[_0x126270(0x3b9)][_0x126270(0x2d9)]['find'](_0x433182=>_0x433182[_0x126270(0x353)]===_0x24a631[_0x126270(0x353)]))throw this[_0x126270(0x74b)][_0x126270(0x56b)](this[_0x126270(0x4d8)]+'\x20('+this['instance']['wuid']+_0x126270(0x3c6)+_0x24a631[_0x126270(0x353)]+_0x126270(0x65c)),new m(_0x126270(0x1e0));let _0x5eaaea=await this[_0x126270(0x471)][_0x126270(0x37d)][_0x126270(0x567)]({'where':{'_id':_0x24a631['_id']}});if(!_0x5eaaea)throw new m(_0x126270(0x36c));if(this[_0x126270(0x753)][_0x126270(0x3b8)]===_0x5eaaea[_0x126270(0x401)]){this[_0x126270(0x74b)][_0x126270(0x56b)](this[_0x126270(0x4d8)]+'\x20('+this[_0x126270(0x753)][_0x126270(0x3b8)]+_0x126270(0x6ef)+_0x24a631[_0x126270(0x353)]+_0x126270(0x1dd));let _0x16ca45=await this[_0x126270(0x471)]['flow'][_0x126270(0x448)]({'where':{'_id':_0x24a631[_0x126270(0x353)]}});return await this[_0x126270(0x573)](),_0x16ca45;}return this['logger'][_0x126270(0x56b)](this[_0x126270(0x4d8)]+'\x20('+this[_0x126270(0x753)][_0x126270(0x3b8)]+_0x126270(0x5bf)+this['instance']['wuid']+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x24a631['_id']+_0x126270(0x54a)),_0x5eaaea[_0x126270(0x656)]=(_0x5eaaea[_0x126270(0x656)]??[])[_0x126270(0xf8)](_0xfb10dd=>_0xfb10dd!==this['instance'][_0x126270(0x3b8)]),_0x5eaaea['whoCanEdit']=(_0x5eaaea[_0x126270(0x2d8)]??[])[_0x126270(0xf8)](_0x314891=>_0x314891!==this['instance']['wuid']),_0x5eaaea[_0x126270(0x2d8)][_0x126270(0xf4)]===0x0&&_0x5eaaea['whoCanUse'][_0x126270(0xf4)]>0x0&&(_0x5eaaea['whoCanEdit'][_0x126270(0x3e3)](_0x5eaaea[_0x126270(0x656)][0x0]),this[_0x126270(0x74b)]['verbose'](this[_0x126270(0x4d8)]+'\x20('+this[_0x126270(0x753)][_0x126270(0x3b8)]+_0x126270(0x7bb)+_0x5eaaea[_0x126270(0x656)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x24a631[_0x126270(0x353)]+'\x27...')),await this[_0x126270(0x471)]['flow'][_0x126270(0x3bb)](_0x5eaaea['_id'],_0x5eaaea),await this['synchronizeAndMapFlows'](),{'message':_0x126270(0x1e6)+_0x24a631[_0x126270(0x4f7)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0xd2bb07){return this[_0x126270(0x74b)]['error'](this[_0x126270(0x4d8)]+'\x20('+this[_0x126270(0x753)][_0x126270(0x3b8)]+_0x126270(0x84b)+(_0xd2bb07 instanceof Error?_0xd2bb07[_0x126270(0x35e)]:JSON[_0x126270(0x176)](_0xd2bb07,null,0x2))),{'message':_0x126270(0x5f8)+(_0xd2bb07 instanceof Error?_0xd2bb07['message']:JSON[_0x126270(0x176)](_0xd2bb07,null,0x2))};}}async[a0_0x217659(0x32f)](_0x49e147){const _0x224fcb=a0_0x217659;try{if(this['logger']['info'](this[_0x224fcb(0x4d8)]+'\x20('+this['instance'][_0x224fcb(0x3b8)]+_0x224fcb(0x544)+_0x49e147),!this[_0x224fcb(0x3b9)]&&(await this[_0x224fcb(0x111)](),!this[_0x224fcb(0x3b9)]))return null;let _0x4653c8=await this['repository'][_0x224fcb(0x37d)][_0x224fcb(0x567)]({'where':{'_id':_0x49e147}});if(!_0x4653c8)throw new m(_0x224fcb(0x661)+_0x49e147+_0x224fcb(0x29c));if(!(_0x4653c8[_0x224fcb(0x23a)]||_0x4653c8[_0x224fcb(0x656)]?.['includes'](this[_0x224fcb(0x753)][_0x224fcb(0x3b8)])))throw new m(_0x224fcb(0x682)+name+'\x27');_0x4653c8['globalShow']&&!_0x4653c8[_0x224fcb(0x656)]?.[_0x224fcb(0x2f7)](this['instance'][_0x224fcb(0x3b8)])&&(_0x4653c8[_0x224fcb(0x656)]=[..._0x4653c8[_0x224fcb(0x656)]??[],this[_0x224fcb(0x753)][_0x224fcb(0x3b8)]],await this[_0x224fcb(0x471)][_0x224fcb(0x37d)]['updateOne'](_0x4653c8['_id'],_0x4653c8),this['synchronizeAndMapFlows']());let _0x2c81bb=this[_0x224fcb(0x3b9)]?.['customFields'][_0x224fcb(0x557)](_0x1034dc=>_0x1034dc['name']),_0xce2fe2=[_0x224fcb(0x418),_0x224fcb(0x73b),_0x224fcb(0x607),_0x224fcb(0x4c2),'status',_0x224fcb(0x38a),_0x224fcb(0x222),_0x224fcb(0x108),_0x224fcb(0x355),'telefone',_0x224fcb(0x5f6)];_0x4653c8[_0x224fcb(0x619)]=_0x4653c8[_0x224fcb(0x619)][_0x224fcb(0xf8)](_0xf44ade=>!(_0xf44ade[_0x224fcb(0x204)]==='leadInfo'||_0xf44ade[_0x224fcb(0x532)])),_0xce2fe2['forEach'](_0x1dfeb6=>{const _0x194820=_0x224fcb;_0x4653c8[_0x194820(0x619)][_0x194820(0x3e3)]({'folder':'leadInfo','name':_0x1dfeb6,'value':'','doc':'','leadInfo':!0x0});}),_0x2c81bb[_0x224fcb(0x3f7)](_0x27a923=>{const _0x434758=_0x224fcb;let _0x36ff23=_0x4653c8[_0x434758(0x619)][_0x434758(0x723)](_0x39b365=>_0x39b365[_0x434758(0x4f7)]===_0x27a923);_0x36ff23===-0x1?_0x4653c8['variables'][_0x434758(0x3e3)]({'folder':'leadInfo','name':_0x27a923,'value':'','doc':'','leadInfo':!0x0}):(_0x4653c8['variables'][_0x36ff23][_0x434758(0x204)]=_0x434758(0x532),_0x4653c8[_0x434758(0x619)][_0x36ff23][_0x434758(0x532)]=!0x0);}),_0x4653c8['blocks']&&_0x4653c8[_0x224fcb(0x363)]['length']>0x0&&_0x4653c8[_0x224fcb(0x363)]['forEach'](_0xd4386f=>{const _0x1e416d=_0x224fcb;_0xd4386f[_0x1e416d(0x60f)]&&_0xd4386f[_0x1e416d(0x87e)]&&_0xd4386f[_0x1e416d(0x60f)]===_0xd4386f['next_groupId']&&(_0xd4386f[_0x1e416d(0x87e)]=null);});let _0x5cda50=await this[_0x224fcb(0x471)][_0x224fcb(0x37d)]['updateOne'](_0x4653c8[_0x224fcb(0x353)],_0x4653c8);if(!_0x5cda50)throw new Error(_0x224fcb(0x890));return _0x5cda50;}catch(_0x9b0c45){let _0x2ee6a4=_0x224fcb(0x3e1),_0x4b08c6=_0x9b0c45 instanceof Error?_0x9b0c45[_0x224fcb(0x35e)]:typeof _0x9b0c45=='object'?JSON[_0x224fcb(0x176)](_0x9b0c45):_0x9b0c45,_0x4d1a05=_0x2ee6a4+':\x20'+_0x4b08c6;throw this[_0x224fcb(0x74b)][_0x224fcb(0x310)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x4d1a05),new m(_0x4d1a05);}}async[a0_0x217659(0x74e)](){const _0x2cb203=a0_0x217659;try{this[_0x2cb203(0x74b)]['verbose'](this['instanceName']+'\x20('+this[_0x2cb203(0x753)][_0x2cb203(0x3b8)]+_0x2cb203(0x298)),await this['synchronizeAndMapFlows']();let _0x2ef77c=await this['repository'][_0x2cb203(0x37d)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x2cb203(0x3b9)][_0x2cb203(0x2d9)],..._0x2ef77c];}catch(_0x250aeb){return this[_0x2cb203(0x74b)][_0x2cb203(0x310)](this[_0x2cb203(0x4d8)]+'\x20('+this['instance'][_0x2cb203(0x3b8)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x250aeb instanceof Error?_0x250aeb[_0x2cb203(0x35e)]:JSON[_0x2cb203(0x176)](_0x250aeb,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x250aeb instanceof Error?_0x250aeb[_0x2cb203(0x35e)]:String(_0x250aeb))};}}async['editFlow'](_0x306534,_0x2665c4){const _0x208f2e=a0_0x217659;try{this['logger'][_0x208f2e(0x56b)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)][_0x208f2e(0x3b8)]+_0x208f2e(0x42c));let _0x22473a=this[_0x208f2e(0x3b9)][_0x208f2e(0x2d9)][_0x208f2e(0x6b5)](_0xad6364=>_0xad6364[_0x208f2e(0x353)]===_0x306534[_0x208f2e(0x353)]);if(!_0x22473a)throw this[_0x208f2e(0x74b)][_0x208f2e(0x56b)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)]['wuid']+'):\x20Fluxo\x20\x27'+_0x306534['_id']+_0x208f2e(0x65c)),new m(_0x208f2e(0x1e0));let _0x4c7a5c=await this[_0x208f2e(0x471)][_0x208f2e(0x37d)][_0x208f2e(0x567)]({'where':{'_id':_0x306534[_0x208f2e(0x353)]}});if(!_0x4c7a5c||!_0x4c7a5c[_0x208f2e(0x656)]?.[_0x208f2e(0x2f7)](this['instance']['wuid']))throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x208f2e(0x3b8)]+'):\x20Flow\x20\x27'+_0x306534[_0x208f2e(0x353)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x306534[_0x208f2e(0x353)]+_0x208f2e(0x1e3));let _0x3941ab=this[_0x208f2e(0x3b9)]['flows']['findIndex'](_0x210686=>_0x210686[_0x208f2e(0x353)]===_0x22473a[_0x208f2e(0x353)]);if(_0x3941ab!==-0x1){let _0x20d9a6=this[_0x208f2e(0x3b9)][_0x208f2e(0x2d9)][_0x3941ab];if(_0x20d9a6['name']=_0x306534[_0x208f2e(0x4f7)]??_0x20d9a6[_0x208f2e(0x4f7)],_0x20d9a6[_0x208f2e(0x85a)]=_0x306534[_0x208f2e(0x85a)]??_0x20d9a6[_0x208f2e(0x85a)],_0x20d9a6['testingWith']=_0x306534[_0x208f2e(0x6cf)]??_0x20d9a6[_0x208f2e(0x6cf)],_0x20d9a6['startCommand']=_0x306534['startCommandWord']??_0x20d9a6[_0x208f2e(0x12e)],_0x20d9a6[_0x208f2e(0x7be)]=_0x306534[_0x208f2e(0x7be)]??_0x20d9a6['minutesToClose'],_0x20d9a6[_0x208f2e(0x6f7)]=_0x306534['readMessages']??_0x20d9a6[_0x208f2e(0x6f7)],_0x306534[_0x208f2e(0x85a)]&&this[_0x208f2e(0x3b9)][_0x208f2e(0x2d9)][_0x208f2e(0x3f7)]((_0xd42a1c,_0x1c17cb)=>{const _0xe32715=_0x208f2e;_0x1c17cb!==_0x3941ab&&(_0xd42a1c[_0xe32715(0x85a)]=!0x1);}),this[_0x208f2e(0x3b9)][_0x208f2e(0x2d9)][_0x3941ab]=_0x20d9a6,!await this[_0x208f2e(0x471)][_0x208f2e(0x6a2)][_0x208f2e(0x772)]({'flows':this[_0x208f2e(0x3b9)][_0x208f2e(0x2d9)]},this['instance'][_0x208f2e(0x3b8)]))throw new m(_0x208f2e(0x641));}let _0x39cff5=['global',_0x208f2e(0x809),_0x208f2e(0x564),_0x208f2e(0x16f)];for(let _0x40eb6f of _0x39cff5)delete _0x306534[_0x40eb6f];if(_0x4c7a5c[_0x208f2e(0x2d8)]?.[_0x208f2e(0x2f7)](this[_0x208f2e(0x753)][_0x208f2e(0x3b8)])||(_0x306534={'_id':_0x306534[_0x208f2e(0x353)]}),_0x2665c4!==Ri&&_0x306534?.[_0x208f2e(0x23a)]&&!_0x4c7a5c?.[_0x208f2e(0x23a)])throw new m(_0x208f2e(0x80a));let _0x48389b=new Set(_0x306534['whoCanEdit']??_0x4c7a5c[_0x208f2e(0x2d8)]);_0x48389b[_0x208f2e(0x735)](_0x4c7a5c[_0x208f2e(0x401)]);let _0x50733c=new Set(_0x306534['whoCanUse']??_0x4c7a5c[_0x208f2e(0x656)]??[]);_0x48389b[_0x208f2e(0x3f7)](_0x2192de=>_0x50733c[_0x208f2e(0x735)](_0x2192de)),_0x50733c['add'](_0x4c7a5c[_0x208f2e(0x401)]),this[_0x208f2e(0x74b)][_0x208f2e(0x56b)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)][_0x208f2e(0x3b8)]+_0x208f2e(0x30f)+Array[_0x208f2e(0x73a)](_0x48389b)),this[_0x208f2e(0x74b)][_0x208f2e(0x56b)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)]['wuid']+'):\x20whoCanUse\x20before\x20validation:\x20'+Array['from'](_0x50733c));let _0x3572ca=await this[_0x208f2e(0x5c3)](Array[_0x208f2e(0x73a)](_0x50733c)),_0x6848ab=Array[_0x208f2e(0x73a)](_0x48389b)[_0x208f2e(0xf8)](_0x94dcf9=>_0x3572ca[_0x208f2e(0x2f7)](_0x94dcf9)),_0x7bb77=Array[_0x208f2e(0x73a)](_0x50733c)['filter'](_0x3109a4=>_0x3572ca['includes'](_0x3109a4));this['logger'][_0x208f2e(0x56b)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)]['wuid']+_0x208f2e(0x7a8)+_0x6848ab),this[_0x208f2e(0x74b)]['verbose'](this[_0x208f2e(0x4d8)]+'\x20('+this['instance']['wuid']+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x7bb77);let _0x4c35f7={..._0x4c7a5c,..._0x306534,'whoCanEdit':_0x6848ab,'whoCanUse':_0x7bb77},_0x6a6fdf=await this[_0x208f2e(0x471)][_0x208f2e(0x37d)][_0x208f2e(0x3bb)](_0x4c7a5c['_id'],_0x4c35f7);return await this[_0x208f2e(0x573)](),_0x6a6fdf;}catch(_0x67d3a6){let _0x618ddc=_0x208f2e(0x3a3),_0x11b8ef=_0x67d3a6 instanceof Error?_0x67d3a6[_0x208f2e(0x35e)]:typeof _0x67d3a6==_0x208f2e(0x6ae)?JSON['stringify'](_0x67d3a6):_0x67d3a6,_0x1e8dd0=_0x618ddc+':\x20'+_0x11b8ef;throw this[_0x208f2e(0x74b)][_0x208f2e(0x310)](this[_0x208f2e(0x4d8)]+'\x20('+this[_0x208f2e(0x753)][_0x208f2e(0x3b8)]+_0x208f2e(0x839)+_0x1e8dd0),new m(_0x1e8dd0);}}async[a0_0x217659(0x5c3)](_0x204e02){const _0x2ad399=a0_0x217659;let _0x5f998b={'numbers':_0x204e02};return(await this['whatsappNumber'](_0x5f998b))['filter'](_0xd62a09=>_0xd62a09[_0x2ad399(0x799)])['map'](_0x3b056f=>_0x3b056f[_0x2ad399(0x560)])[_0x2ad399(0x557)](_0xc5d48c=>this[_0x2ad399(0x881)](_0xc5d48c));}[a0_0x217659(0x881)](_0x1e5ea9){const _0x48870f=a0_0x217659;let _0x1b9a2e=_0x1e5ea9[_0x48870f(0x662)](/\d+/);return _0x1b9a2e?_0x1b9a2e[0x0]:'';}async[a0_0x217659(0x5ca)](_0x24e147){const _0x296bd0=a0_0x217659;try{if(this['logger'][_0x296bd0(0x56b)](this[_0x296bd0(0x4d8)]+'\x20('+this['instance'][_0x296bd0(0x3b8)]+_0x296bd0(0x59d)),!this[_0x296bd0(0x3b9)]['flows'][_0x296bd0(0x6b5)](_0x2a5ad9=>_0x2a5ad9['_id']===_0x24e147[_0x296bd0(0x353)]))throw this[_0x296bd0(0x74b)][_0x296bd0(0x56b)](this[_0x296bd0(0x4d8)]+'\x20('+this[_0x296bd0(0x753)][_0x296bd0(0x3b8)]+_0x296bd0(0x3c6)+_0x24e147[_0x296bd0(0x353)]+_0x296bd0(0x65c)),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x106d41=await this[_0x296bd0(0x471)][_0x296bd0(0x37d)][_0x296bd0(0x567)]({'where':{'_id':_0x24e147['_id']}});if(!_0x106d41||!_0x106d41[_0x296bd0(0x656)]?.['includes'](this[_0x296bd0(0x753)][_0x296bd0(0x3b8)]))throw this[_0x296bd0(0x74b)][_0x296bd0(0x310)](this[_0x296bd0(0x4d8)]+'\x20('+this[_0x296bd0(0x753)][_0x296bd0(0x3b8)]+_0x296bd0(0x2e7)+_0x24e147[_0x296bd0(0x353)]+_0x296bd0(0x1e3)),new m('Flow\x20\x27'+_0x24e147['_id']+_0x296bd0(0x1e3));if(!_0x106d41[_0x296bd0(0x2d8)]?.['includes'](this[_0x296bd0(0x753)][_0x296bd0(0x3b8)]))throw new m(_0x296bd0(0x861));let {block:_0x246762}=_0x24e147;_0x246762?.['copy']?this['copyBlock'](_0x106d41,_0x24e147):_0x246762?.[_0x296bd0(0x85c)]?this[_0x296bd0(0x2cf)](_0x106d41,_0x24e147):_0x246762['_id']?await this[_0x296bd0(0x79d)](_0x106d41,_0x24e147):this[_0x296bd0(0x421)](_0x106d41,_0x24e147);let _0x54d620=await this[_0x296bd0(0x471)][_0x296bd0(0x37d)][_0x296bd0(0x3bb)](_0x106d41[_0x296bd0(0x353)],_0x106d41);if(!_0x54d620)throw new Error(_0x296bd0(0x890));return _0x54d620;}catch(_0x561c4c){this[_0x296bd0(0x6b3)](_0x296bd0(0x690)+_0x561c4c[_0x296bd0(0x35e)]);}}async[a0_0x217659(0x3fa)](_0x5b86e3,_0x23b8b2){const _0xa712c3=a0_0x217659;let _0x2f2722=_0x23b8b2[_0xa712c3(0x2c8)][_0xa712c3(0x353)],_0x583622=_0x5b86e3[_0xa712c3(0x363)]['find'](_0x5a629e=>_0x5a629e[_0xa712c3(0x353)][_0xa712c3(0x76d)]()===_0x2f2722);if(!_0x583622){this[_0xa712c3(0x74b)]['error'](this[_0xa712c3(0x4d8)]+'\x20('+this['instance'][_0xa712c3(0x3b8)]+_0xa712c3(0x465)+_0x2f2722+_0xa712c3(0x77a));return;}this[_0xa712c3(0x74b)][_0xa712c3(0x56b)](this[_0xa712c3(0x4d8)]+'\x20('+this[_0xa712c3(0x753)][_0xa712c3(0x3b8)]+_0xa712c3(0x497)+JSON[_0xa712c3(0x176)](_0x583622));let _0x5c646b=JSON[_0xa712c3(0x7eb)](JSON[_0xa712c3(0x176)](_0x583622));_0x5c646b['_id']=new pe[(_0xa712c3(0x85a))][(_0xa712c3(0x1b4))][(_0xa712c3(0x7f6))](),this['logger']['verbose'](this[_0xa712c3(0x4d8)]+'\x20('+this[_0xa712c3(0x753)]['wuid']+_0xa712c3(0x4ba)+JSON[_0xa712c3(0x176)](_0x5c646b)),_0x5b86e3[_0xa712c3(0x363)][_0xa712c3(0x3e3)](_0x5c646b),this[_0xa712c3(0x13d)](_0x5b86e3[_0xa712c3(0x363)],_0x5c646b[_0xa712c3(0x60f)]);}[a0_0x217659(0x6b3)](_0x94384a){const _0x563f6f=a0_0x217659;throw this[_0x563f6f(0x74b)][_0x563f6f(0x310)](this[_0x563f6f(0x4d8)]+'\x20('+this[_0x563f6f(0x753)]['wuid']+_0x563f6f(0x839)+_0x94384a),new m(_0x94384a);}[a0_0x217659(0x2cf)](_0xc51266,_0x2b0ab7){const _0x2130be=a0_0x217659;let {block:_0x2d18f0}=_0x2b0ab7;if(_0x2d18f0[_0x2130be(0x149)]==='start'){this[_0x2130be(0x6b3)]('No\x20\x20permitido\x20deletar\x20o\x20bloco\x20padro');return;}if(!_0x2d18f0[_0x2130be(0x353)]){this[_0x2130be(0x6b3)](_0x2130be(0x6c1));return;}let _0x339749=_0xc51266['blocks']['find'](_0x1bfb26=>_0x1bfb26[_0x2130be(0x353)][_0x2130be(0x76d)]()===_0x2b0ab7[_0x2130be(0x2c8)][_0x2130be(0x353)]['toString']());if(!_0x339749){this[_0x2130be(0x6b3)](_0x2130be(0xf7)+_0x2d18f0[_0x2130be(0x353)]+_0x2130be(0x50b));return;}_0xc51266[_0x2130be(0x363)]=_0xc51266[_0x2130be(0x363)][_0x2130be(0xf8)](_0x1da62e=>_0x1da62e[_0x2130be(0x353)][_0x2130be(0x76d)]()!==_0x2b0ab7[_0x2130be(0x2c8)][_0x2130be(0x353)]['toString']()),_0xc51266[_0x2130be(0x878)]=_0xc51266[_0x2130be(0x878)]['filter'](_0x2382df=>_0x2382df[_0x2130be(0x1a7)]!==_0x2d18f0[_0x2130be(0x353)][_0x2130be(0x76d)]()),_0xc51266[_0x2130be(0x42a)]=_0xc51266[_0x2130be(0x42a)][_0x2130be(0xf8)](_0x495b8f=>_0x495b8f[_0x2130be(0x1a7)]!==_0x2d18f0['_id'][_0x2130be(0x76d)]()),_0xc51266[_0x2130be(0x2e3)]=_0xc51266[_0x2130be(0x2e3)][_0x2130be(0xf8)](_0x46aa67=>_0x46aa67[_0x2130be(0x1a7)]!==_0x2d18f0[_0x2130be(0x353)][_0x2130be(0x76d)]()),this[_0x2130be(0x13d)](_0xc51266[_0x2130be(0x363)],_0x339749[_0x2130be(0x60f)]);}async[a0_0x217659(0x79d)](_0x2204d6,_0x4fa912){const _0x17c6ab=a0_0x217659;let _0x15e272=_0x2204d6[_0x17c6ab(0x363)]['findIndex'](_0x389d49=>_0x389d49[_0x17c6ab(0x353)]['toString']()===_0x4fa912[_0x17c6ab(0x2c8)][_0x17c6ab(0x353)][_0x17c6ab(0x76d)]());if(this[_0x17c6ab(0x74b)][_0x17c6ab(0x56b)](this[_0x17c6ab(0x4d8)]+'\x20('+this['instance'][_0x17c6ab(0x3b8)]+_0x17c6ab(0x106)+_0x15e272),_0x15e272===-0x1){this[_0x17c6ab(0x74b)][_0x17c6ab(0x56b)]('Bloco\x20com\x20ID\x20'+_0x4fa912[_0x17c6ab(0x2c8)][_0x17c6ab(0x353)]+_0x17c6ab(0x489));return;}if(_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x149)]===_0x17c6ab(0x49a)){let _0x25b46a=Object[_0x17c6ab(0x669)](_0x4fa912[_0x17c6ab(0x2c8)]);if(_0x25b46a[_0x17c6ab(0xf4)]>0x2||_0x25b46a['length']===0x2&&!_0x25b46a[_0x17c6ab(0x2f7)](_0x17c6ab(0x87e))){this['throwAndLogError'](_0x17c6ab(0x6bf));return;}}let _0x1cc656=_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x60f)];for(let _0xd82332 in _0x4fa912[_0x17c6ab(0x2c8)])_0x4fa912[_0x17c6ab(0x2c8)]['hasOwnProperty'](_0xd82332)&&(_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0xd82332]=_0x4fa912['block'][_0xd82332]);if(this[_0x17c6ab(0x74b)][_0x17c6ab(0x56b)](this[_0x17c6ab(0x4d8)]+'\x20('+this['instance'][_0x17c6ab(0x3b8)]+_0x17c6ab(0x1b3)+JSON[_0x17c6ab(0x176)](_0x2204d6['blocks'][_0x15e272])),_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)]&&_0x17c6ab(0x473)in _0x2204d6['blocks'][_0x15e272][_0x17c6ab(0x215)]){this[_0x17c6ab(0x74b)][_0x17c6ab(0x56b)](this[_0x17c6ab(0x4d8)]+'\x20('+this[_0x17c6ab(0x753)][_0x17c6ab(0x3b8)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x143e52=JSON[_0x17c6ab(0x176)](_0x2204d6['blocks'][_0x15e272]['apirequest'][_0x17c6ab(0x473)],null,0x1);_0x143e52['length']>0x2&&(_0x143e52=_0x143e52[_0x17c6ab(0x82d)](0x1,_0x143e52[_0x17c6ab(0xf4)]-0x1)['trim']()),_0x2204d6['blocks'][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x7bc)]=_0x143e52;}if(_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)]&&_0x17c6ab(0x687)in _0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)]&&!(_0x17c6ab(0x606)in _0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)])){this['logger'][_0x17c6ab(0x56b)](this[_0x17c6ab(0x4d8)]+'\x20('+this[_0x17c6ab(0x753)][_0x17c6ab(0x3b8)]+_0x17c6ab(0x857)),_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x145)]=!0x1;let _0x3bcc99=JSON[_0x17c6ab(0x176)](_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x687)],null,0x2);_0x2204d6[_0x17c6ab(0x363)][_0x15e272]['apirequest'][_0x17c6ab(0x606)]=_0x3bcc99;}if(_0x2204d6[_0x17c6ab(0x363)][_0x15e272]['apirequest']&&_0x17c6ab(0x606)in _0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)]){_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x145)]=!0x1;let _0x15fecb=_0x2204d6['blocks'][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x606)],_0xcf2ef6=this[_0x17c6ab(0x3de)](_0x15fecb);_0x2204d6['blocks'][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x606)]=_0xcf2ef6[_0x17c6ab(0x20a)],_0x2204d6[_0x17c6ab(0x363)][_0x15e272][_0x17c6ab(0x215)][_0x17c6ab(0x145)]=_0xcf2ef6[_0x17c6ab(0x310)];}let _0x1d9d88=_0x2204d6[_0x17c6ab(0x363)][_0x15e272]['groupId'];_0x1cc656!==_0x1d9d88?(this[_0x17c6ab(0x13d)](_0x2204d6[_0x17c6ab(0x363)],_0x1cc656),this[_0x17c6ab(0x13d)](_0x2204d6[_0x17c6ab(0x363)],_0x1d9d88)):this[_0x17c6ab(0x13d)](_0x2204d6[_0x17c6ab(0x363)],_0x1cc656);}[a0_0x217659(0x3de)](_0x22bc66){const _0x5b6375=a0_0x217659;let _0x2e0487='\u205f',_0x53213e=!0x1,_0x3e2fc7='';for(let _0x12c3a2=0x0;_0x12c3a2<_0x22bc66[_0x5b6375(0xf4)];_0x12c3a2++){let _0x41f0c4=_0x22bc66[_0x12c3a2];_0x41f0c4==='\x22'&&(_0x12c3a2===0x0||_0x22bc66[_0x12c3a2-0x1]!=='\x5c')&&(_0x53213e=!_0x53213e),!(!_0x53213e&&(_0x41f0c4==='\x0a'||_0x41f0c4==='\x20'||_0x41f0c4===_0x2e0487))&&(_0x3e2fc7+=_0x41f0c4);}let _0x352810={},_0x451aaa=9876543210.1234,_0x1dd7f1=_0x3e2fc7[_0x5b6375(0x828)](/\{\{([^}]+)\}\}/g,_0x424712=>{let _0x20fa37=_0x424712,_0xa65e01=''+_0x451aaa;return _0x352810[_0xa65e01]=_0x20fa37,_0x451aaa+=0.0001,_0xa65e01;}),_0x38318e='',_0x18b007=!0x1;try{let _0x59005a=JSON[_0x5b6375(0x7eb)](_0x1dd7f1);_0x38318e=JSON[_0x5b6375(0x176)](_0x59005a,null,0x2),_0x38318e=_0x38318e['replace'](/\n( +)/g,(_0x5f005e,_0x21b7fa)=>{const _0x5cfaac=_0x5b6375;let _0x4ab32a=_0x21b7fa[_0x5cfaac(0xf4)];return'\x0a'+_0x2e0487['repeat'](_0x4ab32a*0x2);}),_0x38318e=_0x38318e[_0x5b6375(0x828)](/(\d{10,}\.\d+)/g,_0x3d823a=>_0x352810[_0x3d823a]||_0x3d823a);}catch(_0x310865){this['logger'][_0x5b6375(0x310)](_0x5b6375(0x118)+_0x310865),_0x38318e=_0x22bc66,_0x18b007=!0x0;}return{'result':_0x38318e,'error':_0x18b007};}[a0_0x217659(0x421)](_0x4fbf9b,_0x5e6631){const _0x1fc9c3=a0_0x217659;if(_0x5e6631[_0x1fc9c3(0x2c8)]['type']===_0x1fc9c3(0x49a)){this['throwAndLogError']('No\x20\x20permitido\x20adicionar\x20outro\x20bloco\x20padro');return;}if(_0x5e6631[_0x1fc9c3(0x2c8)][_0x1fc9c3(0x215)]&&_0x1fc9c3(0x473)in _0x5e6631['block'][_0x1fc9c3(0x215)]){this[_0x1fc9c3(0x74b)][_0x1fc9c3(0x56b)](this[_0x1fc9c3(0x4d8)]+'\x20('+this[_0x1fc9c3(0x753)][_0x1fc9c3(0x3b8)]+_0x1fc9c3(0x717));let _0x551540=JSON[_0x1fc9c3(0x176)](_0x5e6631[_0x1fc9c3(0x2c8)]['apirequest']['header'],null,0x1);_0x551540[_0x1fc9c3(0xf4)]>0x2&&(_0x551540=_0x551540['substring'](0x1,_0x551540['length']-0x1)[_0x1fc9c3(0x472)]()),_0x5e6631[_0x1fc9c3(0x2c8)]['apirequest'][_0x1fc9c3(0x7bc)]=_0x551540;}_0x5e6631[_0x1fc9c3(0x2c8)][_0x1fc9c3(0x215)]&&_0x1fc9c3(0x687)in _0x5e6631[_0x1fc9c3(0x2c8)][_0x1fc9c3(0x215)]&&(this[_0x1fc9c3(0x74b)][_0x1fc9c3(0x56b)](this[_0x1fc9c3(0x4d8)]+'\x20('+this['instance'][_0x1fc9c3(0x3b8)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5e6631[_0x1fc9c3(0x2c8)]['apirequest'][_0x1fc9c3(0x606)]=JSON[_0x1fc9c3(0x176)](_0x5e6631[_0x1fc9c3(0x2c8)]['apirequest']['body'],null,0x1)[_0x1fc9c3(0x472)]()),_0x4fbf9b[_0x1fc9c3(0x363)][_0x1fc9c3(0x3e3)](_0x5e6631['block']),this['reorderBlocks'](_0x4fbf9b[_0x1fc9c3(0x363)],_0x5e6631[_0x1fc9c3(0x2c8)][_0x1fc9c3(0x60f)]);}[a0_0x217659(0x13d)](_0xc590d3,_0x421464){const _0x5c0267=a0_0x217659;let _0x51b6f6=_0xc590d3[_0x5c0267(0xf8)](_0xd68bbc=>_0xd68bbc['groupId']===_0x421464);_0x51b6f6[_0x5c0267(0x213)]((_0x46bd87,_0xe5523b)=>_0x46bd87[_0x5c0267(0x248)]-_0xe5523b[_0x5c0267(0x248)]),_0x51b6f6['forEach']((_0x396368,_0x4ebc24)=>_0x396368[_0x5c0267(0x248)]=_0x4ebc24+0x1);}async[a0_0x217659(0x7b2)](_0x14ff9a){const _0x4195b8=a0_0x217659;try{if(this[_0x4195b8(0x74b)][_0x4195b8(0x56b)](this[_0x4195b8(0x4d8)]+'\x20('+this[_0x4195b8(0x753)][_0x4195b8(0x3b8)]+_0x4195b8(0x482)),!_0x14ff9a||!_0x14ff9a[_0x4195b8(0x21d)]){this[_0x4195b8(0x6b3)](_0x4195b8(0x22b));return;}if(!this['AutomateSystem'][_0x4195b8(0x2d9)][_0x4195b8(0x6b5)](_0x47bba3=>_0x47bba3['_id']===_0x14ff9a[_0x4195b8(0x353)]))throw this[_0x4195b8(0x74b)][_0x4195b8(0x56b)](this['instanceName']+'\x20('+this[_0x4195b8(0x753)]['wuid']+_0x4195b8(0x3c6)+_0x14ff9a[_0x4195b8(0x353)]+_0x4195b8(0x65c)),new m(_0x4195b8(0x1e0));let _0x252cb4=await this[_0x4195b8(0x471)]['flow']['findOne']({'where':{'_id':_0x14ff9a[_0x4195b8(0x353)]}});if(!_0x252cb4||!_0x252cb4[_0x4195b8(0x656)]?.[_0x4195b8(0x2f7)](this['instance'][_0x4195b8(0x3b8)]))throw this[_0x4195b8(0x74b)][_0x4195b8(0x310)](this[_0x4195b8(0x4d8)]+'\x20('+this[_0x4195b8(0x753)]['wuid']+_0x4195b8(0x2e7)+_0x14ff9a[_0x4195b8(0x353)]+_0x4195b8(0x1e3)),new m('Flow\x20\x27'+_0x14ff9a[_0x4195b8(0x353)]+_0x4195b8(0x1e3));if(!_0x252cb4[_0x4195b8(0x2d8)]?.[_0x4195b8(0x2f7)](this['instance'][_0x4195b8(0x3b8)]))throw new m(_0x4195b8(0x861));let {replyOption:_0x5736dd}=_0x14ff9a;_0x5736dd?.[_0x4195b8(0x85c)]?(this[_0x4195b8(0x6f6)](_0x252cb4,_0x14ff9a),this[_0x4195b8(0x7f8)](_0x252cb4[_0x4195b8(0x2e3)],_0x14ff9a[_0x4195b8(0x21d)][_0x4195b8(0x1a7)])):_0x5736dd[_0x4195b8(0x353)]?(await this[_0x4195b8(0x2c7)](_0x252cb4,_0x14ff9a),this[_0x4195b8(0x7f8)](_0x252cb4[_0x4195b8(0x2e3)],_0x14ff9a[_0x4195b8(0x21d)][_0x4195b8(0x1a7)])):(this[_0x4195b8(0x3d0)](_0x252cb4,_0x14ff9a),this['reorderReplyOptions'](_0x252cb4['replyOptions'],_0x14ff9a[_0x4195b8(0x21d)][_0x4195b8(0x1a7)]));let _0x5eba8d=await this[_0x4195b8(0x471)][_0x4195b8(0x37d)]['updateOne'](_0x252cb4[_0x4195b8(0x353)],_0x252cb4);if(!_0x5eba8d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5eba8d;}catch(_0x2b7647){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x2b7647);}}['reorderReplyOptions'](_0x5a954d,_0x50d5a0){const _0x16b8d5=a0_0x217659;_0x5a954d[_0x16b8d5(0x3f7)](_0xfab360=>{const _0x2d888c=_0x16b8d5;_0xfab360[_0x2d888c(0x1a7)]===_0x50d5a0&&_0xfab360[_0x2d888c(0x248)]===void 0x0&&(_0xfab360[_0x2d888c(0x248)]=0x270f);});let _0x5bdd8d=_0x5a954d[_0x16b8d5(0xf8)](_0x21f079=>_0x21f079[_0x16b8d5(0x1a7)]===_0x50d5a0);_0x5bdd8d[_0x16b8d5(0x213)]((_0x5acd5d,_0x9acf68)=>_0x5acd5d[_0x16b8d5(0x248)]-_0x9acf68[_0x16b8d5(0x248)]),_0x5bdd8d[_0x16b8d5(0x3f7)]((_0x1709b9,_0xc1fb29)=>{_0x1709b9['order']=_0xc1fb29+0x1;}),_0x5a954d[_0x16b8d5(0x3f7)](_0x110dca=>{const _0x456438=_0x16b8d5;if(_0x110dca[_0x456438(0x1a7)]===_0x50d5a0){let _0x5651d6=_0x5bdd8d['find'](_0xea02a7=>_0xea02a7[_0x456438(0x353)]&&_0x110dca[_0x456438(0x353)]&&_0xea02a7['_id'][_0x456438(0x76d)]()===_0x110dca[_0x456438(0x353)][_0x456438(0x76d)]());_0x5651d6&&(_0x110dca[_0x456438(0x248)]=_0x5651d6[_0x456438(0x248)]);}});}[a0_0x217659(0x6f6)](_0xcd2755,_0x537ea1){const _0x575e25=a0_0x217659;let {replyOption:_0x3b1303}=_0x537ea1;if(!_0x3b1303[_0x575e25(0x353)]){this['throwAndLogError'](_0x575e25(0x1f9));return;}if(!_0xcd2755[_0x575e25(0x2e3)][_0x575e25(0x6b5)](_0x50eb41=>_0x50eb41[_0x575e25(0x353)][_0x575e25(0x76d)]()===_0x537ea1[_0x575e25(0x21d)]['_id']['toString']())){this[_0x575e25(0x6b3)](_0x575e25(0x4e7)+_0x3b1303[_0x575e25(0x353)]+_0x575e25(0x50b));return;}_0xcd2755['replyOptions']=_0xcd2755[_0x575e25(0x2e3)][_0x575e25(0xf8)](_0x31c2e=>_0x31c2e['_id']['toString']()!==_0x537ea1[_0x575e25(0x21d)]['_id'][_0x575e25(0x76d)]());}async[a0_0x217659(0x2c7)](_0xafc499,_0x56d6af){const _0xea8974=a0_0x217659;let _0x2ba6db=_0xafc499[_0xea8974(0x2e3)]['findIndex'](_0x2c08f3=>_0x2c08f3[_0xea8974(0x353)][_0xea8974(0x76d)]()===_0x56d6af['replyOption'][_0xea8974(0x353)]['toString']());if(_0x2ba6db===-0x1){this[_0xea8974(0x6b3)](_0xea8974(0x4e7)+_0x56d6af['replyOption'][_0xea8974(0x353)]+'\x20no\x20encontrado\x20para\x20atualizao.');return;}for(let _0x42cc46 in _0x56d6af[_0xea8974(0x21d)])_0x56d6af[_0xea8974(0x21d)][_0xea8974(0x344)](_0x42cc46)&&(_0xafc499[_0xea8974(0x2e3)][_0x2ba6db][_0x42cc46]=_0x56d6af[_0xea8974(0x21d)][_0x42cc46]);}['addReplyOption'](_0x560101,_0x472008){const _0xaa8769=a0_0x217659;_0x560101[_0xaa8769(0x2e3)][_0xaa8769(0x3e3)](_0x472008[_0xaa8769(0x21d)]);}async[a0_0x217659(0x486)](_0x422ebe){const _0x5c19e4=a0_0x217659;this[_0x5c19e4(0x74b)][_0x5c19e4(0x56b)](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]+_0x5c19e4(0x6b2)+JSON[_0x5c19e4(0x176)](_0x422ebe,null,0x2));try{if(this[_0x5c19e4(0x74b)][_0x5c19e4(0x56b)](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]+_0x5c19e4(0x288)),!this[_0x5c19e4(0x3b9)][_0x5c19e4(0x2d9)]['find'](_0x458869=>_0x458869[_0x5c19e4(0x353)]===_0x422ebe['_id']))throw this[_0x5c19e4(0x74b)][_0x5c19e4(0x56b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5c19e4(0x3c6)+_0x422ebe[_0x5c19e4(0x353)]+_0x5c19e4(0x65c)),new m('Fluxo\x20no\x20encontrado\x20na\x20memria.');let _0x3a1cd3=await this['repository'][_0x5c19e4(0x37d)][_0x5c19e4(0x567)]({'where':{'_id':_0x422ebe[_0x5c19e4(0x353)]}});if(!_0x3a1cd3||!_0x3a1cd3[_0x5c19e4(0x656)]?.[_0x5c19e4(0x2f7)](this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]))throw this[_0x5c19e4(0x74b)][_0x5c19e4(0x310)](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]+'):\x20Flow\x20\x27'+_0x422ebe[_0x5c19e4(0x353)]+_0x5c19e4(0x1e3)),new m('Flow\x20\x27'+_0x422ebe['_id']+_0x5c19e4(0x1e3));if(!_0x3a1cd3[_0x5c19e4(0x2d8)]?.[_0x5c19e4(0x2f7)](this['instance'][_0x5c19e4(0x3b8)]))throw new m(_0x5c19e4(0x861));if(_0x422ebe[_0x5c19e4(0x55f)]&&_0x422ebe[_0x5c19e4(0x55f)]?.[_0x5c19e4(0x85c)]===!0x0){if(this[_0x5c19e4(0x74b)]['verbose'](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]+'):\x20delete\x20=\x20true'),_0x422ebe['group'][_0x5c19e4(0x85a)]===!0x0)return{'message':'No\x20\x20permitido\x20deletar\x20o\x20grupo\x20padro'};if(_0x3a1cd3['blocks'][_0x5c19e4(0x102)](_0xa3a5c6=>_0xa3a5c6[_0x5c19e4(0x60f)]['toString']()===_0x422ebe[_0x5c19e4(0x55f)][_0x5c19e4(0x353)]))return this[_0x5c19e4(0x74b)][_0x5c19e4(0x56b)](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)][_0x5c19e4(0x3b8)]+_0x5c19e4(0x533)),{'message':_0x5c19e4(0x6c3)};_0x3a1cd3[_0x5c19e4(0x221)]=_0x3a1cd3[_0x5c19e4(0x221)]['filter'](_0x237260=>_0x237260['_id'][_0x5c19e4(0x76d)]()!==_0x422ebe[_0x5c19e4(0x55f)][_0x5c19e4(0x353)]);}else{if(_0x422ebe['group']){if(_0x422ebe[_0x5c19e4(0x55f)][_0x5c19e4(0x85a)]===!0x0)return{'message':_0x5c19e4(0x647)};if(_0x422ebe['group']['_id']){let _0x58e914=_0x3a1cd3[_0x5c19e4(0x221)]['find'](_0x364711=>_0x364711['_id'][_0x5c19e4(0x76d)]()===_0x422ebe[_0x5c19e4(0x55f)][_0x5c19e4(0x353)]);_0x58e914&&(_0x422ebe[_0x5c19e4(0x55f)]['x']<0x0&&(_0x422ebe[_0x5c19e4(0x55f)]['x']=0x0),_0x422ebe['group']['y']<0x0&&(_0x422ebe[_0x5c19e4(0x55f)]['y']=0x0),Object[_0x5c19e4(0x777)](_0x58e914,_0x422ebe[_0x5c19e4(0x55f)]));}else _0x3a1cd3[_0x5c19e4(0x221)][_0x5c19e4(0x3e3)](_0x422ebe[_0x5c19e4(0x55f)]);}}let _0x4d6ff1=await this['repository'][_0x5c19e4(0x37d)][_0x5c19e4(0x3bb)](_0x3a1cd3[_0x5c19e4(0x353)],_0x3a1cd3);if(!_0x4d6ff1)throw new Error(_0x5c19e4(0x890));return _0x4d6ff1;}catch(_0x43a0a6){let _0x43a87c=_0x5c19e4(0x19f),_0x510cb0=_0x43a0a6 instanceof Error?_0x43a0a6['message']:typeof _0x43a0a6==_0x5c19e4(0x6ae)?JSON['stringify'](_0x43a0a6):_0x43a0a6,_0x5143b0=_0x43a87c+':\x20'+_0x510cb0;throw this[_0x5c19e4(0x74b)][_0x5c19e4(0x310)](this[_0x5c19e4(0x4d8)]+'\x20('+this[_0x5c19e4(0x753)]['wuid']+_0x5c19e4(0x839)+_0x5143b0),new m(_0x5143b0);}}async[a0_0x217659(0x5b5)](_0x2725cd){const _0x5dfe51=a0_0x217659;try{if(this['logger'][_0x5dfe51(0x56b)](this[_0x5dfe51(0x4d8)]+'\x20('+this[_0x5dfe51(0x753)][_0x5dfe51(0x3b8)]+'):\x20Editando\x20condio\x20do\x20fluxo...'),!this[_0x5dfe51(0x3b9)]['flows'][_0x5dfe51(0x6b5)](_0xa751ca=>_0xa751ca[_0x5dfe51(0x353)]===_0x2725cd[_0x5dfe51(0x353)]))throw this[_0x5dfe51(0x74b)][_0x5dfe51(0x56b)](this['instanceName']+'\x20('+this[_0x5dfe51(0x753)][_0x5dfe51(0x3b8)]+_0x5dfe51(0x3c6)+_0x2725cd['_id']+_0x5dfe51(0x65c)),new m(_0x5dfe51(0x1e0));let _0x3f3efd=await this['repository'][_0x5dfe51(0x37d)]['findOne']({'where':{'_id':_0x2725cd['_id']}});if(!_0x3f3efd||!_0x3f3efd[_0x5dfe51(0x656)]?.[_0x5dfe51(0x2f7)](this[_0x5dfe51(0x753)]['wuid']))throw this[_0x5dfe51(0x74b)][_0x5dfe51(0x310)](this['instanceName']+'\x20('+this[_0x5dfe51(0x753)][_0x5dfe51(0x3b8)]+_0x5dfe51(0x2e7)+_0x2725cd['_id']+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5dfe51(0x4ee)+_0x2725cd[_0x5dfe51(0x353)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3f3efd[_0x5dfe51(0x2d8)]?.[_0x5dfe51(0x2f7)](this[_0x5dfe51(0x753)][_0x5dfe51(0x3b8)]))throw new m(_0x5dfe51(0x861));let _0x321186=!0x1;if(_0x2725cd[_0x5dfe51(0x4af)]?.[_0x5dfe51(0x85c)]===!0x0)_0x3f3efd[_0x5dfe51(0x878)]=_0x3f3efd['conditions'][_0x5dfe51(0xf8)](_0xac13ad=>_0xac13ad&&_0x2725cd[_0x5dfe51(0x4af)]&&_0xac13ad[_0x5dfe51(0x353)]&&_0x2725cd[_0x5dfe51(0x4af)][_0x5dfe51(0x353)]&&_0xac13ad[_0x5dfe51(0x353)][_0x5dfe51(0x76d)]()!==_0x2725cd['condition'][_0x5dfe51(0x353)][_0x5dfe51(0x76d)]()),_0x321186=!0x0;else{let _0x271e06=_0x3f3efd['conditions'][_0x5dfe51(0x6b5)](_0x33909a=>_0x33909a&&_0x2725cd['condition']&&_0x33909a[_0x5dfe51(0x353)]&&_0x2725cd[_0x5dfe51(0x4af)][_0x5dfe51(0x353)]&&_0x33909a[_0x5dfe51(0x353)][_0x5dfe51(0x76d)]()===_0x2725cd[_0x5dfe51(0x4af)][_0x5dfe51(0x353)][_0x5dfe51(0x76d)]());_0x271e06?(_0x321186=_0x271e06[_0x5dfe51(0x248)]!==_0x2725cd[_0x5dfe51(0x4af)][_0x5dfe51(0x248)],Object[_0x5dfe51(0x777)](_0x271e06,_0x2725cd[_0x5dfe51(0x4af)])):(_0x3f3efd['conditions']['push'](_0x2725cd[_0x5dfe51(0x4af)]),_0x321186=!0x0);}if(_0x321186){_0x3f3efd[_0x5dfe51(0x878)][_0x5dfe51(0x213)]((_0x40b90a,_0x1391c2)=>_0x40b90a[_0x5dfe51(0x248)]>_0x1391c2[_0x5dfe51(0x248)]?0x1:_0x1391c2[_0x5dfe51(0x248)]>_0x40b90a[_0x5dfe51(0x248)]?-0x1:0x0);for(let _0x28eebd=0x0;_0x28eebd<_0x3f3efd[_0x5dfe51(0x878)][_0x5dfe51(0xf4)];_0x28eebd++)_0x3f3efd['conditions'][_0x28eebd]['order']=_0x28eebd+0x1;_0x3f3efd[_0x5dfe51(0x878)][_0x5dfe51(0xf4)]>0x0&&(_0x3f3efd['conditions'][0x0]['OrAnd']='and');}let _0x5c3515=await this['repository']['flow'][_0x5dfe51(0x3bb)](_0x3f3efd[_0x5dfe51(0x353)],_0x3f3efd);if(!_0x5c3515)throw new Error(_0x5dfe51(0x890));return _0x5c3515;}catch(_0x1c93fe){let _0x1100f9=_0x5dfe51(0x1bc),_0x5a44c2=_0x1c93fe instanceof Error?_0x1c93fe[_0x5dfe51(0x35e)]:typeof _0x1c93fe==_0x5dfe51(0x6ae)?JSON[_0x5dfe51(0x176)](_0x1c93fe):_0x1c93fe,_0x3c7bc2=_0x1100f9+':\x20'+_0x5a44c2;throw this[_0x5dfe51(0x74b)][_0x5dfe51(0x310)](this[_0x5dfe51(0x4d8)]+'\x20('+this[_0x5dfe51(0x753)][_0x5dfe51(0x3b8)]+_0x5dfe51(0x839)+_0x3c7bc2),new m(_0x3c7bc2);}}async[a0_0x217659(0x884)](_0x3974b8){const _0x5574b0=a0_0x217659;try{if(this['logger'][_0x5574b0(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x5574b0(0x3b8)]+'):\x20Editando\x20edio\x20do\x20fluxo...'),!this[_0x5574b0(0x3b9)][_0x5574b0(0x2d9)][_0x5574b0(0x6b5)](_0xf1116b=>_0xf1116b[_0x5574b0(0x353)]===_0x3974b8[_0x5574b0(0x353)]))throw this[_0x5574b0(0x74b)]['verbose'](this[_0x5574b0(0x4d8)]+'\x20('+this[_0x5574b0(0x753)][_0x5574b0(0x3b8)]+_0x5574b0(0x3c6)+_0x3974b8['_id']+_0x5574b0(0x65c)),new m(_0x5574b0(0x1e0));let _0x5cb703=await this[_0x5574b0(0x471)][_0x5574b0(0x37d)][_0x5574b0(0x567)]({'where':{'_id':_0x3974b8[_0x5574b0(0x353)]}});if(!_0x5cb703||!_0x5cb703[_0x5574b0(0x656)]?.['includes'](this[_0x5574b0(0x753)]['wuid']))throw this[_0x5574b0(0x74b)][_0x5574b0(0x310)](this['instanceName']+'\x20('+this['instance'][_0x5574b0(0x3b8)]+_0x5574b0(0x2e7)+_0x3974b8['_id']+_0x5574b0(0x1e3)),new m('Flow\x20\x27'+_0x3974b8[_0x5574b0(0x353)]+_0x5574b0(0x1e3));if(!_0x5cb703[_0x5574b0(0x2d8)]?.[_0x5574b0(0x2f7)](this[_0x5574b0(0x753)][_0x5574b0(0x3b8)]))throw new m(_0x5574b0(0x861));let _0x5e85ba=!0x1;if(_0x3974b8[_0x5574b0(0x490)]?.['delete']===!0x0)_0x5cb703[_0x5574b0(0x42a)]=_0x5cb703[_0x5574b0(0x42a)][_0x5574b0(0xf8)](_0x3fa581=>_0x3fa581&&_0x3974b8[_0x5574b0(0x490)]&&_0x3fa581[_0x5574b0(0x353)]&&_0x3974b8['varedit'][_0x5574b0(0x353)]&&_0x3fa581['_id']['toString']()!==_0x3974b8[_0x5574b0(0x490)]['_id'][_0x5574b0(0x76d)]()),_0x5e85ba=!0x0;else{let _0x2df279=_0x5cb703[_0x5574b0(0x42a)][_0x5574b0(0x6b5)](_0x17fba0=>_0x17fba0&&_0x3974b8['varedit']&&_0x17fba0[_0x5574b0(0x353)]&&_0x3974b8[_0x5574b0(0x490)][_0x5574b0(0x353)]&&_0x17fba0[_0x5574b0(0x353)][_0x5574b0(0x76d)]()===_0x3974b8[_0x5574b0(0x490)][_0x5574b0(0x353)][_0x5574b0(0x76d)]());_0x2df279?(_0x5e85ba=_0x2df279['order']!==_0x3974b8[_0x5574b0(0x490)][_0x5574b0(0x248)],Object[_0x5574b0(0x777)](_0x2df279,_0x3974b8[_0x5574b0(0x490)])):(_0x5cb703[_0x5574b0(0x42a)]['push'](_0x3974b8[_0x5574b0(0x490)]),_0x5e85ba=!0x0);}if(_0x5e85ba){_0x5cb703[_0x5574b0(0x42a)][_0x5574b0(0x213)]((_0x2a47cb,_0xc1cf98)=>_0x2a47cb['order']>_0xc1cf98[_0x5574b0(0x248)]?0x1:_0xc1cf98[_0x5574b0(0x248)]>_0x2a47cb[_0x5574b0(0x248)]?-0x1:0x0);for(let _0x2fd494=0x0;_0x2fd494<_0x5cb703[_0x5574b0(0x42a)]['length'];_0x2fd494++)_0x5cb703['varedits'][_0x2fd494][_0x5574b0(0x248)]=_0x2fd494+0x1;}let _0x13c5fb=await this[_0x5574b0(0x471)][_0x5574b0(0x37d)]['updateOne'](_0x5cb703[_0x5574b0(0x353)],_0x5cb703);if(!_0x13c5fb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x13c5fb;}catch(_0x46cae6){let _0x539b06=_0x5574b0(0x1bc),_0x41fda6=_0x46cae6 instanceof Error?_0x46cae6[_0x5574b0(0x35e)]:typeof _0x46cae6=='object'?JSON[_0x5574b0(0x176)](_0x46cae6):_0x46cae6,_0x424c34=_0x539b06+':\x20'+_0x41fda6;throw this[_0x5574b0(0x74b)]['error'](this[_0x5574b0(0x4d8)]+'\x20('+this[_0x5574b0(0x753)][_0x5574b0(0x3b8)]+_0x5574b0(0x839)+_0x424c34),new m(_0x424c34);}}async[a0_0x217659(0x7b0)](_0xea3903){const _0x313a0e=a0_0x217659;try{if(this[_0x313a0e(0x74b)][_0x313a0e(0x56b)](this[_0x313a0e(0x4d8)]+'\x20('+this['instance'][_0x313a0e(0x3b8)]+'):\x20Editando\x20varivel\x20do\x20fluxo...'),!this[_0x313a0e(0x3b9)][_0x313a0e(0x2d9)][_0x313a0e(0x6b5)](_0x145247=>_0x145247[_0x313a0e(0x353)]===_0xea3903['_id']))throw this['logger']['verbose'](this[_0x313a0e(0x4d8)]+'\x20('+this[_0x313a0e(0x753)][_0x313a0e(0x3b8)]+_0x313a0e(0x3c6)+_0xea3903[_0x313a0e(0x353)]+_0x313a0e(0x65c)),new m(_0x313a0e(0x1e0));let _0x26ca1b=await this[_0x313a0e(0x471)]['flow'][_0x313a0e(0x567)]({'where':{'_id':_0xea3903[_0x313a0e(0x353)]}});if(!_0x26ca1b||!_0x26ca1b['whoCanUse']?.['includes'](this[_0x313a0e(0x753)][_0x313a0e(0x3b8)]))throw this[_0x313a0e(0x74b)]['error'](this[_0x313a0e(0x4d8)]+'\x20('+this[_0x313a0e(0x753)]['wuid']+_0x313a0e(0x2e7)+_0xea3903[_0x313a0e(0x353)]+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x313a0e(0x4ee)+_0xea3903[_0x313a0e(0x353)]+_0x313a0e(0x1e3));if(!_0x26ca1b['whoCanEdit']?.[_0x313a0e(0x2f7)](this[_0x313a0e(0x753)][_0x313a0e(0x3b8)]))throw new m(_0x313a0e(0x861));_0xea3903['variable'][_0x313a0e(0x4f7)]=_0xea3903[_0x313a0e(0x2f2)]['name']['trim'](),_0xea3903[_0x313a0e(0x2f2)][_0x313a0e(0x4f7)][_0x313a0e(0x487)]('_')&&(_0xea3903[_0x313a0e(0x2f2)][_0x313a0e(0x4f7)]=_0xea3903[_0x313a0e(0x2f2)][_0x313a0e(0x4f7)][_0x313a0e(0x82d)](0x1)),_0xea3903['variable']['name']=_0xea3903[_0x313a0e(0x2f2)][_0x313a0e(0x4f7)][_0x313a0e(0x472)]();let _0x54f697=_0x26ca1b['variables'][_0x313a0e(0x6b5)](_0x134a78=>_0x134a78['name']===_0xea3903[_0x313a0e(0x2f2)][_0x313a0e(0x4f7)]);if(_0x54f697?.[_0x313a0e(0x532)]===!0x0)throw new Error(_0x313a0e(0x26e));if(_0xea3903[_0x313a0e(0x2f2)]?.['delete']===!0x0){if(!_0x54f697)return{'message':_0x313a0e(0x2be)};_0x26ca1b[_0x313a0e(0x619)]=_0x26ca1b[_0x313a0e(0x619)][_0x313a0e(0xf8)](_0x33f575=>_0x33f575[_0x313a0e(0x4f7)]!==_0xea3903[_0x313a0e(0x2f2)]['name']);}else _0x54f697?Object[_0x313a0e(0x777)](_0x54f697,_0xea3903[_0x313a0e(0x2f2)]):_0x26ca1b['variables'][_0x313a0e(0x3e3)](_0xea3903[_0x313a0e(0x2f2)]);let _0x495bdb=await this[_0x313a0e(0x471)][_0x313a0e(0x37d)][_0x313a0e(0x3bb)](_0x26ca1b[_0x313a0e(0x353)],_0x26ca1b);if(!_0x495bdb)throw new Error(_0x313a0e(0x890));return _0x495bdb;}catch(_0x12aa76){let _0x515f6f='Erro\x20ao\x20editar\x20varivel\x20do\x20fluxo',_0x3521c4=_0x12aa76 instanceof Error?_0x12aa76[_0x313a0e(0x35e)]:typeof _0x12aa76==_0x313a0e(0x6ae)?JSON[_0x313a0e(0x176)](_0x12aa76):_0x12aa76,_0x37cb47=_0x515f6f+':\x20'+_0x3521c4;throw this[_0x313a0e(0x74b)][_0x313a0e(0x310)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x313a0e(0x839)+_0x37cb47),new m(_0x37cb47);}}async[a0_0x217659(0x80c)](_0x31bf14){const _0x471bdb=a0_0x217659;let _0x15ea3b=null;try{if(!this[_0x471bdb(0x3b9)]?.[_0x471bdb(0x693)]['enabled'])throw new m('Fluxos\x20no\x20esto\x20ativados');this[_0x471bdb(0x74b)]['verbose'](this[_0x471bdb(0x4d8)]+'\x20('+this[_0x471bdb(0x753)]['wuid']+_0x471bdb(0x104));let _0x3129cd=(await this['whatsappNumber']({'numbers':[_0x31bf14[_0x471bdb(0x3cc)]]}))[0x0];if(!_0x3129cd[_0x471bdb(0x799)]&&!(0x0,w['isJidGroup'])(_0x3129cd[_0x471bdb(0x560)])&&!_0x3129cd[_0x471bdb(0x560)][_0x471bdb(0x2f7)](_0x471bdb(0x214)))throw _0x15ea3b=JSON[_0x471bdb(0x176)](_0x3129cd,null,0x2),new m(_0x3129cd);let _0x408b3e;if(_0x31bf14[_0x471bdb(0x4f7)][_0x471bdb(0xf4)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x471bdb(0x2af)](_0x31bf14[_0x471bdb(0x4f7)])?_0x408b3e=this[_0x471bdb(0x3b9)]['flows'][_0x471bdb(0x6b5)](_0x23ec2f=>_0x23ec2f['_id']===_0x31bf14['name']):_0x408b3e=this[_0x471bdb(0x3b9)][_0x471bdb(0x2d9)][_0x471bdb(0x6b5)](_0x286132=>_0x286132[_0x471bdb(0x4f7)]===_0x31bf14['name']),!_0x408b3e)throw this[_0x471bdb(0x74b)][_0x471bdb(0x56b)](this[_0x471bdb(0x4d8)]+'\x20('+this[_0x471bdb(0x753)][_0x471bdb(0x3b8)]+_0x471bdb(0x3c6)+_0x31bf14[_0x471bdb(0x4f7)]+'\x27\x20no\x20encontrado'),new m(_0x471bdb(0x1e0));let _0x5b0fd4=await this[_0x471bdb(0x471)][_0x471bdb(0x37d)][_0x471bdb(0x567)]({'where':{'_id':_0x408b3e['_id']}});if(!_0x5b0fd4||!_0x5b0fd4[_0x471bdb(0x656)]?.[_0x471bdb(0x2f7)](this['instance'][_0x471bdb(0x3b8)]))throw this[_0x471bdb(0x74b)][_0x471bdb(0x310)](this[_0x471bdb(0x4d8)]+'\x20('+this[_0x471bdb(0x753)][_0x471bdb(0x3b8)]+'):\x20Flow\x20\x27'+_0x408b3e['_id']+_0x471bdb(0x1e3)),_0x15ea3b=_0x471bdb(0x4ee)+_0x408b3e[_0x471bdb(0x353)]+_0x471bdb(0x1e3),new m(_0x15ea3b);let _0x5dbf71=await this[_0x471bdb(0x201)](_0x5b0fd4,_0x3129cd['jid'],_0x31bf14[_0x471bdb(0x710)]);if(_0x5dbf71){this[_0x471bdb(0x74b)][_0x471bdb(0x56b)](this[_0x471bdb(0x4d8)]+'\x20('+this[_0x471bdb(0x753)]['wuid']+_0x471bdb(0x501));let _0x2c2205=await this['NextBlock'](_0x5dbf71);return _0x2c2205&&await this[_0x471bdb(0x78e)](_0x5dbf71,_0x2c2205),{'message':_0x471bdb(0x429)+_0x31bf14[_0x471bdb(0x3cc)]};}}catch(_0x485dd6){if(this[_0x471bdb(0x74b)][_0x471bdb(0x310)](this[_0x471bdb(0x4d8)]+'\x20('+this[_0x471bdb(0x753)][_0x471bdb(0x3b8)]+_0x471bdb(0x443)+(_0x485dd6 instanceof Error?_0x485dd6[_0x471bdb(0x35e)]:JSON['stringify'](_0x485dd6,null,0x2))),_0x15ea3b=_0x485dd6 instanceof Error?_0x485dd6[_0x471bdb(0x35e)]:JSON[_0x471bdb(0x176)](_0x485dd6,null,0x2),_0x15ea3b)throw new m(_0x471bdb(0x367)+_0x15ea3b);}}async['startFlowWebhook'](_0x16f578,_0x44892b,_0x19f096){const _0xcad29e=a0_0x217659;let _0x1e6ed6=null;try{if(!this[_0xcad29e(0x3b9)]?.['flowConfig']['enabled'])throw new m(_0xcad29e(0x240));if(this['logger'][_0xcad29e(0x56b)](this[_0xcad29e(0x4d8)]+'\x20('+this['instance'][_0xcad29e(0x3b8)]+_0xcad29e(0x104)),_0x44892b){let _0x4f83e6=(await this[_0xcad29e(0x148)]({'numbers':[_0x44892b]}))[0x0];if(!_0x4f83e6[_0xcad29e(0x799)]&&!(0x0,w[_0xcad29e(0x463)])(_0x4f83e6[_0xcad29e(0x560)])&&!_0x4f83e6['jid'][_0xcad29e(0x2f7)](_0xcad29e(0x214)))throw _0x1e6ed6=JSON[_0xcad29e(0x176)](_0x4f83e6,null,0x2),new m(_0x4f83e6);_0x44892b=_0x4f83e6['jid'];}else _0x44892b||(_0x44892b=(0x0,Q['v4'])());let _0x49b142=await this[_0xcad29e(0x471)][_0xcad29e(0x37d)][_0xcad29e(0x567)]({'where':{'_id':_0x16f578}});if(!_0x49b142||!_0x49b142[_0xcad29e(0x656)]?.[_0xcad29e(0x2f7)](this[_0xcad29e(0x753)][_0xcad29e(0x3b8)]))throw this[_0xcad29e(0x74b)]['error'](this[_0xcad29e(0x4d8)]+'\x20('+this['instance']['wuid']+_0xcad29e(0x2e7)+_0x16f578+'\x27\x20no\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20voc\x20no\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xcad29e(0x4ee)+_0x16f578+_0xcad29e(0x1e3));let _0x3cd9e3=await this['createConversationforStartFlow'](_0x49b142,_0x44892b,null);if(_0x3cd9e3){this[_0xcad29e(0x74b)][_0xcad29e(0x56b)](this[_0xcad29e(0x4d8)]+'\x20('+this[_0xcad29e(0x753)][_0xcad29e(0x3b8)]+_0xcad29e(0x52b));let _0x2cd650;if(_0x19f096){let _0x147f97=_0x3cd9e3[_0xcad29e(0x668)]['realVariables'],_0x2f777f=this[_0xcad29e(0x44a)](_0x19f096);Object['assign'](_0x147f97,_0x2f777f),_0x3cd9e3[_0xcad29e(0x668)][_0xcad29e(0x4cf)]=_0x147f97,_0x2cd650={'error':!0x1,'apiResponse':_0x19f096};}let _0x54046a=await this['NextBlock'](_0x3cd9e3);return _0x54046a&&await this[_0xcad29e(0x78e)](_0x3cd9e3,_0x54046a),{'message':_0xcad29e(0x151)};}}catch(_0x596df2){if(this[_0xcad29e(0x74b)][_0xcad29e(0x310)](this[_0xcad29e(0x4d8)]+'\x20('+this[_0xcad29e(0x753)]['wuid']+_0xcad29e(0x443)+(_0x596df2 instanceof Error?_0x596df2[_0xcad29e(0x35e)]:JSON[_0xcad29e(0x176)](_0x596df2,null,0x2))),_0x1e6ed6=_0x596df2 instanceof Error?_0x596df2[_0xcad29e(0x35e)]:JSON['stringify'](_0x596df2,null,0x2),_0x1e6ed6)throw new m(_0xcad29e(0x367)+_0x1e6ed6);}}async['closeExistingConversations'](_0x49b23c){const _0x5b0372=a0_0x217659;try{let _0x28d12b={'remoteJid':_0x49b23c,'status':_0x5b0372(0x232)},_0x520776={'status':'closed'},_0x1a2b25=await this[_0x5b0372(0x471)]['flowConversation']['updateMany'](_0x28d12b,_0x520776,this[_0x5b0372(0x753)][_0x5b0372(0x3b8)]);return this[_0x5b0372(0x74b)][_0x5b0372(0x56b)](this['instanceName']+'\x20('+this[_0x5b0372(0x753)][_0x5b0372(0x3b8)]+_0x5b0372(0x645)),_0x1a2b25;}catch(_0x274481){throw this['logger'][_0x5b0372(0x310)](this[_0x5b0372(0x4d8)]+'\x20('+this[_0x5b0372(0x753)]['wuid']+_0x5b0372(0x372)+_0x274481[_0x5b0372(0x35e)]),_0x274481;}}async[a0_0x217659(0x201)](_0x53c790,_0x5af3b5,_0x32f026){const _0x52cbee=a0_0x217659;this[_0x52cbee(0x74b)][_0x52cbee(0x56b)](this[_0x52cbee(0x4d8)]+'\x20('+this[_0x52cbee(0x753)][_0x52cbee(0x3b8)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x52cbee(0x2d1)](_0x5af3b5);try{let _0x59fb28=require('mongodb')[_0x52cbee(0x7f6)],_0x2b2009=Date[_0x52cbee(0x11c)](),_0x464436=_0x52cbee(0x49a),_0x272d9c={},_0x566503={},_0x118356=this[_0x52cbee(0x3b9)][_0x52cbee(0x2d9)][_0x52cbee(0x6b5)](_0x1c4dad=>_0x1c4dad[_0x52cbee(0x353)]===_0x53c790[_0x52cbee(0x353)]?.[_0x52cbee(0x76d)]()),_0xc9e637=_0x118356?.[_0x52cbee(0x7be)]??_0x53c790[_0x52cbee(0x7be)]??0x0,_0x4fd145=_0x118356?.[_0x52cbee(0x6f7)]??_0x53c790[_0x52cbee(0x6f7)]??!0x1,_0x2e2b0b={'flowId':_0x53c790[_0x52cbee(0x353)],..._0x53c790,'chatLog':null},_0x2dfba4=await this[_0x52cbee(0x393)](_0x2e2b0b[_0x52cbee(0x619)]),_0x2d7137=await this[_0x52cbee(0x1d4)](_0x5af3b5),_0xac8adb={..._0x2dfba4,..._0x2d7137,'_remoteJid':_0x5af3b5},_0x33c340={'lastReceivedMessage':_0x272d9c,'lastSendMessage':_0x566503,'lastBlockId':_0x464436,'lastCondition':!0x0,'realVariables':_0xac8adb};_0x2e2b0b['chatLog']=_0x33c340,_0x2e2b0b['chatLog']['realVariables']={..._0xac8adb,..._0x32f026},delete _0x2e2b0b['_id'],_0x2e2b0b[_0x52cbee(0x353)]=new _0x59fb28(),_0x2e2b0b[_0x52cbee(0x4fb)]=_0x2b2009,_0x2e2b0b[_0x52cbee(0x381)]=_0x52cbee(0x232),_0x2e2b0b[_0x52cbee(0x3cc)]=_0x5af3b5,_0x2e2b0b[_0x52cbee(0x7be)]=_0xc9e637,_0x2e2b0b[_0x52cbee(0x6f7)]=_0x4fd145,_0x2e2b0b['_id']=_0x53c790['_id'];let _0x1e66e7=await this[_0x52cbee(0x471)][_0x52cbee(0x2ca)][_0x52cbee(0x3bb)](_0x2e2b0b[_0x52cbee(0x353)],_0x2e2b0b,this['instance']['wuid']);return this[_0x52cbee(0x74b)][_0x52cbee(0x56b)](this['instanceName']+'\x20('+this[_0x52cbee(0x753)]['wuid']+_0x52cbee(0x6b4)),_0x1e66e7?_0x2e2b0b:null;}catch(_0x53782a){let _0xefb8f4=_0x52cbee(0x4d2),_0x5c0c99=_0x53782a instanceof Error?_0x53782a[_0x52cbee(0x35e)]:typeof _0x53782a==_0x52cbee(0x6ae)?JSON[_0x52cbee(0x176)](_0x53782a):_0x53782a,_0x396e79=_0xefb8f4+':\x20'+_0x5c0c99;throw this[_0x52cbee(0x74b)][_0x52cbee(0x310)](this[_0x52cbee(0x4d8)]+'\x20('+this[_0x52cbee(0x753)]['wuid']+_0x52cbee(0x839)+_0x396e79),new m(_0x396e79);}}async['getConversation'](_0x445b5e){const _0x1a50b8=a0_0x217659;try{this[_0x1a50b8(0x74b)][_0x1a50b8(0x56b)](this[_0x1a50b8(0x4d8)]+'\x20('+this[_0x1a50b8(0x753)]['wuid']+_0x1a50b8(0x6be)),this[_0x1a50b8(0x74b)][_0x1a50b8(0x56b)](this[_0x1a50b8(0x4d8)]+'\x20('+this['instance'][_0x1a50b8(0x3b8)]+_0x1a50b8(0x5af)+_0x445b5e);let _0x780afe={'where':{'_id':_0x445b5e}};return await this[_0x1a50b8(0x471)][_0x1a50b8(0x2ca)][_0x1a50b8(0x567)](_0x780afe,this['instance'][_0x1a50b8(0x3b8)]);}catch(_0x166b5c){let _0x2966f3=_0x1a50b8(0x511),_0x1e2c00=_0x166b5c instanceof Error?_0x166b5c[_0x1a50b8(0x35e)]:typeof _0x166b5c==_0x1a50b8(0x6ae)?JSON[_0x1a50b8(0x176)](_0x166b5c):_0x166b5c,_0x1ba054=_0x2966f3+':\x20'+_0x1e2c00;throw this[_0x1a50b8(0x74b)][_0x1a50b8(0x310)](this['instanceName']+'\x20('+this[_0x1a50b8(0x753)][_0x1a50b8(0x3b8)]+'):\x20'+_0x1ba054),new m(_0x1ba054);}}async['fetchConversation'](_0x89d522){const _0x506bb8=a0_0x217659;try{return this['logger'][_0x506bb8(0x56b)](this['instanceName']+'\x20('+this[_0x506bb8(0x753)][_0x506bb8(0x3b8)]+_0x506bb8(0x5e7)),await this[_0x506bb8(0x471)][_0x506bb8(0x2ca)][_0x506bb8(0x6b5)](_0x89d522,this[_0x506bb8(0x753)][_0x506bb8(0x3b8)]);}catch(_0x51fde5){let _0x1ee535=_0x506bb8(0x869),_0xfa45a7=_0x51fde5 instanceof Error?_0x51fde5[_0x506bb8(0x35e)]:typeof _0x51fde5=='object'?JSON[_0x506bb8(0x176)](_0x51fde5):_0x51fde5,_0x31660f=_0x1ee535+':\x20'+_0xfa45a7;throw this[_0x506bb8(0x74b)][_0x506bb8(0x310)](this[_0x506bb8(0x4d8)]+'\x20('+this[_0x506bb8(0x753)][_0x506bb8(0x3b8)]+_0x506bb8(0x839)+_0x31660f),new m(_0x31660f);}}async[a0_0x217659(0x220)](_0x4fe48b){const _0x5357bc=a0_0x217659;try{return this[_0x5357bc(0x74b)][_0x5357bc(0x56b)](this[_0x5357bc(0x4d8)]+'\x20('+this[_0x5357bc(0x753)][_0x5357bc(0x3b8)]+_0x5357bc(0x219)),this[_0x5357bc(0x74b)]['verbose'](this[_0x5357bc(0x4d8)]+'\x20('+this[_0x5357bc(0x753)]['wuid']+_0x5357bc(0x686)+_0x4fe48b),(await this[_0x5357bc(0x471)]['flowConversation'][_0x5357bc(0x448)]({'where':{'_id':_0x4fe48b[_0x5357bc(0x353)]}},this[_0x5357bc(0x753)][_0x5357bc(0x3b8)]))[_0x5357bc(0x7a7)]===0x0?{'message':_0x5357bc(0x5bd)}:{'message':_0x5357bc(0x345)};}catch(_0x109cc4){let _0x461d5c=_0x5357bc(0x18c),_0x3da01a=_0x109cc4 instanceof Error?_0x109cc4[_0x5357bc(0x35e)]:typeof _0x109cc4=='object'?JSON[_0x5357bc(0x176)](_0x109cc4):_0x109cc4,_0x4408ba=_0x461d5c+':\x20'+_0x3da01a;throw this['logger'][_0x5357bc(0x310)](this[_0x5357bc(0x4d8)]+'\x20('+this[_0x5357bc(0x753)][_0x5357bc(0x3b8)]+'):\x20'+_0x4408ba),new m(_0x4408ba);}}async['editConversation'](_0x4e3b16){const _0xa4714f=a0_0x217659;try{let {_id:_0xa3d777,chatLog:_0x5d648b,status:_0x4c8a2c}=_0x4e3b16;if(!_0xa3d777)return{'message':_0xa4714f(0x75a)};let _0x4c3951={};if(_0x4c8a2c!==void 0x0&&(_0x4c3951[_0xa4714f(0x381)]=_0x4c8a2c),Object['keys'](_0x4c3951)['length']===0x0)return{'message':_0xa4714f(0x209)};let _0x560904=await this[_0xa4714f(0x471)][_0xa4714f(0x2ca)]['updateOne'](_0xa3d777,_0x4c3951,this[_0xa4714f(0x753)][_0xa4714f(0x3b8)]);return _0x560904||{'message':_0xa4714f(0x121)};}catch(_0x45dff9){let _0x2fa4f0=_0xa4714f(0x323),_0x242d11=_0x45dff9 instanceof Error?_0x45dff9['message']:typeof _0x45dff9=='object'?JSON[_0xa4714f(0x176)](_0x45dff9):_0x45dff9,_0x125a6d=_0x2fa4f0+':\x20'+_0x242d11;throw this['logger']['error'](this[_0xa4714f(0x4d8)]+'\x20('+this['instance'][_0xa4714f(0x3b8)]+_0xa4714f(0x839)+_0x125a6d),new m(_0x125a6d);}}async['editChat'](_0xc315d4){const _0x136510=a0_0x217659;try{_0xc315d4[_0x136510(0x353)]=this['createJid'](_0xc315d4[_0x136510(0x353)]);let _0x106409=await this[_0x136510(0x471)][_0x136510(0x856)]['findOne']({'where':{'_id':_0xc315d4['_id']}},this[_0x136510(0x753)][_0x136510(0x3b8)]);if(!_0x106409)throw new m('Chat\x20no\x20existe,\x20use\x20a\x20funo\x20de\x20importar\x20para\x20cri-lo');let {_id:_0x3fc6e2,leadInfo:_0x1e8986}=_0xc315d4;if(!_0x3fc6e2)throw new Error(_0x136510(0x4cc));if(_0xc315d4['delete']===_0x136510(0x598))return await this[_0x136510(0x168)](_0xc315d4[_0x136510(0x353)]),await this['repository'][_0x136510(0x856)]['delete']({'where':{'_id':_0xc315d4[_0x136510(0x353)]}},this[_0x136510(0x753)][_0x136510(0x3b8)]),await this[_0x136510(0x471)]['message'][_0x136510(0x85c)]({'where':{'key':{'remoteJid':_0xc315d4[_0x136510(0x353)]}}},this[_0x136510(0x753)][_0x136510(0x3b8)]),_0xc315d4=await this[_0x136510(0x471)][_0x136510(0x856)][_0x136510(0x3bb)]({'where':{'_id':_0xc315d4[_0x136510(0x353)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x136510(0x753)]['wuid']),F(this[_0x136510(0x4d8)],_0x136510(0x529),{'chat':_0xc315d4}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0xc315d4['delete']===_0x136510(0x7df))return await this[_0x136510(0x471)]['message'][_0x136510(0x85c)]({'where':{'key':{'remoteJid':_0xc315d4[_0x136510(0x353)]}}},this[_0x136510(0x753)]['wuid']),_0xc315d4=await this[_0x136510(0x471)][_0x136510(0x856)][_0x136510(0x3bb)]({'where':{'_id':_0xc315d4['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x136510(0x753)]['wuid']),F(this['instanceName'],_0x136510(0x529),{'chat':_0xc315d4}),{'message':_0x136510(0x1d1)};let _0x5682f7=(_0x1a8f0d,_0x4d1027,_0x42dc8a)=>{const _0x563730=_0x136510;_0x1a8f0d&&_0x42dc8a[_0x563730(0x3f7)](_0xba84f2=>{_0x1a8f0d[_0xba84f2]!==void 0x0&&(_0x4d1027['leadInfo.'+_0xba84f2]=_0x1a8f0d[_0xba84f2]);});},_0x579ec9={};if('muteEndTime'in _0xc315d4&&(this[_0x136510(0x74b)][_0x136510(0x56b)](this[_0x136510(0x4d8)]+'\x20('+this[_0x136510(0x753)]['wuid']+_0x136510(0x21b)+_0xc315d4[_0x136510(0x353)]),_0xc315d4[_0x136510(0x62b)]=_0xc315d4['muteEndTime']===0x0?null:-0x1,await this[_0x136510(0x136)][_0x136510(0x1d2)]({'mute':_0xc315d4[_0x136510(0x62b)]},_0xc315d4[_0x136510(0x353)]),_0x579ec9[_0x136510(0x62b)]=Number(_0xc315d4[_0x136510(0x62b)])),_0x1e8986&&(_0x5682f7(_0x1e8986,_0x579ec9,[_0x136510(0x418),'nomecompleto','email',_0x136510(0x4c2),_0x136510(0x381),'notas',_0x136510(0x108),_0x136510(0x5f6),_0x136510(0x222),_0x136510(0x355),_0x136510(0x1de)]),Array[_0x136510(0x3d6)](_0x1e8986['customFields'])&&(_0x579ec9['leadInfo.customFields']=_0x1e8986['customFields'][_0x136510(0x557)](_0x15fb3e=>({'_id':_0x15fb3e[_0x136510(0x353)],'value':_0x15fb3e[_0x136510(0x546)]}))),_0xc315d4['leadInfo']['etiquetas']!==void 0x0)){let _0x4e92b9=await this[_0x136510(0x471)]['label'][_0x136510(0x6b5)]({'where':{}},this[_0x136510(0x753)]['wuid']),_0x1294dc=new Set(_0xc315d4['leadInfo'][_0x136510(0x355)]||[]),_0x3fed09=new Set(_0xc315d4[_0x136510(0x532)][_0x136510(0x355)]),_0x9f19e6=new Set(_0x4e92b9[_0x136510(0x557)](_0x40b864=>_0x40b864[_0x136510(0x353)])),_0x2061f2=[..._0x3fed09][_0x136510(0xf8)](_0x390276=>!_0x1294dc[_0x136510(0x5b8)](_0x390276)&&_0x9f19e6[_0x136510(0x5b8)](_0x390276)),_0x5a35a6=[..._0x1294dc][_0x136510(0xf8)](_0x238233=>!_0x3fed09[_0x136510(0x5b8)](_0x238233));if(_0x579ec9[_0x136510(0x73f)]=[..._0x1294dc],_0x106409&&!_0x106409[_0x136510(0x5ed)]){for(let _0x37b7f0 of _0x2061f2)await this[_0x136510(0x5d3)](_0x37b7f0,_0xc315d4[_0x136510(0x353)]),_0x1294dc[_0x136510(0x735)](_0x37b7f0);for(let _0x5477f9 of _0x5a35a6)await this[_0x136510(0x1cf)](_0x5477f9,_0xc315d4[_0x136510(0x353)]),_0x1294dc[_0x136510(0x85c)](_0x5477f9);}}if(_0xc315d4[_0x136510(0x437)]!==void 0x0&&(_0x579ec9[_0x136510(0x437)]=Number(_0xc315d4[_0x136510(0x437)])),Object[_0x136510(0x669)](_0x579ec9)[_0x136510(0xf4)]===0x0)throw new Error('Nenhum\x20campo\x20vlido\x20para\x20atualizao\x20fornecido.');let _0xe44002=await this[_0x136510(0x471)][_0x136510(0x856)][_0x136510(0x3bb)]({'where':{'_id':_0xc315d4['_id']}},_0x579ec9,this[_0x136510(0x753)][_0x136510(0x3b8)]);return _0xe44002&&F(this[_0x136510(0x4d8)],_0x136510(0x529),{'chat':_0xe44002}),_0xe44002?(this[_0x136510(0x74b)][_0x136510(0x56b)](this[_0x136510(0x4d8)]+'\x20('+this[_0x136510(0x753)]['wuid']+_0x136510(0x839)+JSON[_0x136510(0x176)](_0xe44002,null,0x2)),_0xe44002):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x1307b6){let _0x37e83a='Erro\x20ao\x20editar\x20o\x20chat',_0x4bf66e=_0x1307b6 instanceof Error?_0x1307b6[_0x136510(0x35e)]:typeof _0x1307b6==_0x136510(0x6ae)?JSON['stringify'](_0x1307b6):_0x1307b6,_0x458d96=_0x37e83a+':\x20'+_0x4bf66e;throw this[_0x136510(0x74b)][_0x136510(0x310)](this[_0x136510(0x4d8)]+'\x20('+this['instance'][_0x136510(0x3b8)]+_0x136510(0x839)+_0x458d96),new m(_0x458d96);}}async[a0_0x217659(0x5d3)](_0x37fdd1,_0x1ca1f3){const _0x32d69e=a0_0x217659;try{await this[_0x32d69e(0x136)][_0x32d69e(0x243)](_0x1ca1f3,_0x37fdd1),this['logger'][_0x32d69e(0x4f5)](this[_0x32d69e(0x4d8)]+'\x20('+this[_0x32d69e(0x753)]['wuid']+_0x32d69e(0x1d8)+_0x37fdd1+_0x32d69e(0x5be)+_0x1ca1f3+_0x32d69e(0x2b2));}catch(_0x1d1b3d){this[_0x32d69e(0x74b)][_0x32d69e(0x310)](_0x32d69e(0x5a2)+_0x37fdd1+_0x32d69e(0x832)+_0x1ca1f3+':\x20'+_0x1d1b3d);}}async[a0_0x217659(0x1cf)](_0x5f5bfb,_0x1eb1d9){const _0x3c4796=a0_0x217659;try{await this['client']['removeChatLabel'](_0x1eb1d9,_0x5f5bfb),this['logger']['info'](this[_0x3c4796(0x4d8)]+'\x20('+this['instance'][_0x3c4796(0x3b8)]+_0x3c4796(0x1d8)+_0x5f5bfb+_0x3c4796(0x32e)+_0x1eb1d9+_0x3c4796(0x2b2));}catch(_0x171765){this[_0x3c4796(0x74b)][_0x3c4796(0x310)](_0x3c4796(0x56f)+_0x5f5bfb+_0x3c4796(0x3ab)+_0x1eb1d9+':\x20'+_0x171765);}}async[a0_0x217659(0x2a8)](_0x2d9287){const _0x100bbe=a0_0x217659;try{let _0x4d8b31=await this[_0x100bbe(0x471)][_0x100bbe(0x6a2)][_0x100bbe(0x38e)](this[_0x100bbe(0x753)]['wuid']),_0x5c1cd3=_0x2d9287[_0x100bbe(0x353)]?_0x4d8b31[_0x100bbe(0x70b)][_0x100bbe(0x723)](_0x2c9a94=>_0x2c9a94['_id']===_0x2d9287[_0x100bbe(0x353)]):-0x1;if(_0x2d9287[_0x100bbe(0x85c)]&&_0x5c1cd3>-0x1)_0x4d8b31[_0x100bbe(0x70b)][_0x100bbe(0x23d)](_0x5c1cd3,0x1);else{if(_0x5c1cd3>-0x1){let _0x44689b=_0x4d8b31[_0x100bbe(0x70b)][_0x5c1cd3];_0x2d9287['fone']&&(_0x44689b['fone']=_0x2d9287['fone']),_0x2d9287[_0x100bbe(0x4f7)]&&(_0x44689b[_0x100bbe(0x4f7)]=_0x2d9287[_0x100bbe(0x4f7)]),_0x2d9287[_0x100bbe(0x607)]&&(_0x44689b[_0x100bbe(0x607)]=_0x2d9287[_0x100bbe(0x607)]),_0x2d9287['role']&&(_0x44689b[_0x100bbe(0x6ab)]=_0x2d9287[_0x100bbe(0x6ab)]);}else _0x4d8b31[_0x100bbe(0x70b)]['push']({'_id':_0x2d9287['_id']||new pe[(_0x100bbe(0x85a))][(_0x100bbe(0x1b4))]['ObjectId']()[_0x100bbe(0x76d)](),'fone':_0x2d9287[_0x100bbe(0x1ad)],'name':_0x2d9287['name'],'email':_0x2d9287[_0x100bbe(0x607)],'role':_0x2d9287[_0x100bbe(0x6ab)]});}let _0x3886e3={'agents':_0x4d8b31[_0x100bbe(0x70b)]},_0x7d4798=await this['repository']['automateSystem'][_0x100bbe(0x772)](_0x3886e3,this['instance'][_0x100bbe(0x3b8)]);return this[_0x100bbe(0x3b9)]=_0x7d4798,this['logger'][_0x100bbe(0x56b)](this['instanceName']+'\x20('+this[_0x100bbe(0x753)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x100bbe(0x74b)][_0x100bbe(0x56b)](this['instanceName']+'\x20('+this[_0x100bbe(0x753)][_0x100bbe(0x3b8)]+_0x100bbe(0x839)+this[_0x100bbe(0x3b9)]),_0x7d4798;}catch(_0x53bb37){let _0x17a650=_0x100bbe(0x4d9),_0x3686c2=_0x53bb37 instanceof Error?_0x53bb37['message']:typeof _0x53bb37==_0x100bbe(0x6ae)?JSON[_0x100bbe(0x176)](_0x53bb37):_0x53bb37,_0x140445=_0x17a650+':\x20'+_0x3686c2;throw this[_0x100bbe(0x74b)]['error'](this[_0x100bbe(0x4d8)]+'\x20('+this[_0x100bbe(0x753)]['wuid']+'):\x20'+_0x140445),new m(_0x140445);}}async[a0_0x217659(0x307)](_0x5e0871){const _0x3bd36b=a0_0x217659;try{let _0x297388=await this['repository'][_0x3bd36b(0x6a2)]['findOrCreate'](this['instance'][_0x3bd36b(0x3b8)]),_0x29ee5b=_0x5e0871[_0x3bd36b(0x353)]?_0x297388['customFields'][_0x3bd36b(0x723)](_0x2723bf=>_0x2723bf[_0x3bd36b(0x353)]===_0x5e0871['_id']):-0x1,_0x3b1cfd=!0x1,_0x27df1f=_0x297388['customFields']['some'](_0x3a939a=>_0x3a939a[_0x3bd36b(0x248)]===_0x5e0871[_0x3bd36b(0x248)]);if(_0x5e0871[_0x3bd36b(0x85c)]&&_0x29ee5b>-0x1)_0x297388['customFields']['splice'](_0x29ee5b,0x1),_0x3b1cfd=!0x0;else{if(_0x29ee5b>-0x1){if(_0x297388['customFields'][_0x3bd36b(0x102)](_0x2b6ea9=>_0x2b6ea9[_0x3bd36b(0x4f7)]===_0x5e0871[_0x3bd36b(0x4f7)]&&_0x2b6ea9[_0x3bd36b(0x353)]!==_0x5e0871[_0x3bd36b(0x353)]))throw new Error(_0x3bd36b(0x768));let _0x1631a9=_0x297388[_0x3bd36b(0x887)][_0x29ee5b];_0x5e0871[_0x3bd36b(0x248)]&&(_0x27df1f||!Number['isInteger'](_0x5e0871['order']))&&(_0x1631a9['order']=_0x5e0871[_0x3bd36b(0x248)],_0x3b1cfd=!0x0),_0x5e0871[_0x3bd36b(0x4f7)]&&(_0x1631a9['name']=_0x5e0871[_0x3bd36b(0x4f7)]);}else{if(_0x297388[_0x3bd36b(0x887)][_0x3bd36b(0x102)](_0x39cb93=>_0x39cb93[_0x3bd36b(0x4f7)]===_0x5e0871[_0x3bd36b(0x4f7)]&&_0x39cb93['_id']!==_0x5e0871[_0x3bd36b(0x353)]))throw new Error(_0x3bd36b(0x768));_0x297388['customFields'][_0x3bd36b(0x3e3)]({'_id':_0x5e0871[_0x3bd36b(0x353)]||new pe[(_0x3bd36b(0x85a))][(_0x3bd36b(0x1b4))][(_0x3bd36b(0x7f6))]()[_0x3bd36b(0x76d)](),'order':_0x5e0871['order'],'name':_0x5e0871[_0x3bd36b(0x4f7)]}),_0x3b1cfd=!0x0;}}if(_0x3b1cfd){_0x297388[_0x3bd36b(0x887)][_0x3bd36b(0x213)]((_0x5915c0,_0x374180)=>_0x5915c0['order']>_0x374180[_0x3bd36b(0x248)]?0x1:_0x374180['order']>_0x5915c0['order']?-0x1:0x0);for(let _0x115380=0x0;_0x115380<_0x297388['customFields'][_0x3bd36b(0xf4)];_0x115380++)_0x297388[_0x3bd36b(0x887)][_0x115380][_0x3bd36b(0x248)]=_0x115380+0x1;}let _0x5c92cd=await this['repository'][_0x3bd36b(0x6a2)]['update'](_0x297388,this[_0x3bd36b(0x753)][_0x3bd36b(0x3b8)]);return this['AutomateSystem']=_0x5c92cd,this[_0x3bd36b(0x74b)][_0x3bd36b(0x56b)](this[_0x3bd36b(0x4d8)]+'\x20('+this[_0x3bd36b(0x753)][_0x3bd36b(0x3b8)]+_0x3bd36b(0x498)),this[_0x3bd36b(0x74b)][_0x3bd36b(0x56b)](this['instanceName']+'\x20('+this['instance'][_0x3bd36b(0x3b8)]+_0x3bd36b(0x839)+this[_0x3bd36b(0x3b9)]),_0x5c92cd;}catch(_0x3a1827){let _0x2c86a7=_0x3bd36b(0x88c),_0x2195ea=_0x3a1827 instanceof Error?_0x3a1827[_0x3bd36b(0x35e)]:typeof _0x3a1827==_0x3bd36b(0x6ae)?JSON[_0x3bd36b(0x176)](_0x3a1827):_0x3a1827,_0x36e5f7=_0x2c86a7+':\x20'+_0x2195ea;throw this[_0x3bd36b(0x74b)][_0x3bd36b(0x310)](this['instanceName']+'\x20('+this[_0x3bd36b(0x753)][_0x3bd36b(0x3b8)]+_0x3bd36b(0x839)+_0x36e5f7),new m(_0x36e5f7);}}async[a0_0x217659(0x4b3)](_0xa0678e){const _0x1270f8=a0_0x217659;try{let _0x5e17ba=await this['repository'][_0x1270f8(0x6a2)][_0x1270f8(0x38e)](this['instance'][_0x1270f8(0x3b8)]),_0xab079f=_0x5e17ba?.['autoCompleteMessages']?.[_0x1270f8(0x723)](_0x3dcddd=>_0x3dcddd[_0x1270f8(0x353)]===_0xa0678e?.[_0x1270f8(0x353)]);if(_0xa0678e?.[_0x1270f8(0x85c)])_0xab079f>-0x1&&_0x5e17ba?.[_0x1270f8(0x286)]?.[_0x1270f8(0x23d)](_0xab079f,0x1);else{if(_0xab079f>-0x1){let _0x4056e7=_0x5e17ba[_0x1270f8(0x286)][_0xab079f];_0x4056e7[_0x1270f8(0x248)]=_0xa0678e?.['order']||_0x4056e7[_0x1270f8(0x248)],_0x4056e7['command']=_0xa0678e?.[_0x1270f8(0x47f)]||_0x4056e7[_0x1270f8(0x47f)],_0x4056e7[_0x1270f8(0x35e)]=_0xa0678e?.[_0x1270f8(0x35e)]||_0x4056e7[_0x1270f8(0x35e)];}else{let _0x1d1a4d={'_id':_0xa0678e?.['_id']||new pe[(_0x1270f8(0x85a))]['Types'][(_0x1270f8(0x7f6))]()[_0x1270f8(0x76d)](),'order':_0xa0678e?.[_0x1270f8(0x248)],'command':_0xa0678e?.[_0x1270f8(0x47f)],'message':_0xa0678e?.[_0x1270f8(0x35e)]};_0x5e17ba?.['autoCompleteMessages']?.[_0x1270f8(0x3e3)](_0x1d1a4d);}}_0x5e17ba?.[_0x1270f8(0x286)]?.[_0x1270f8(0x213)]((_0x95fe90,_0x220206)=>_0x95fe90[_0x1270f8(0x248)]-_0x220206[_0x1270f8(0x248)]);let _0x50ff26=await this[_0x1270f8(0x471)]['automateSystem'][_0x1270f8(0x772)](_0x5e17ba,this[_0x1270f8(0x753)]['wuid']);return this[_0x1270f8(0x3b9)]=_0x50ff26,this[_0x1270f8(0x74b)][_0x1270f8(0x56b)](this[_0x1270f8(0x4d8)]+'\x20('+this['instance'][_0x1270f8(0x3b8)]+_0x1270f8(0x498)),_0x50ff26;}catch(_0x793e19){let _0xe92dd9=_0x1270f8(0x1f7),_0x462690=_0x793e19 instanceof Error?_0x793e19['message']:typeof _0x793e19==_0x1270f8(0x6ae)?JSON[_0x1270f8(0x176)](_0x793e19):_0x793e19,_0x22f035=_0xe92dd9+':\x20'+_0x462690;throw this[_0x1270f8(0x74b)][_0x1270f8(0x310)](this[_0x1270f8(0x4d8)]+'\x20('+this['instance'][_0x1270f8(0x3b8)]+_0x1270f8(0x839)+_0x22f035),new m(_0x22f035);}}async['updateFlowConfig'](_0x2774e0){const _0x1326ee=a0_0x217659;try{let _0x268919=await this[_0x1326ee(0x471)]['automateSystem'][_0x1326ee(0x38e)](this[_0x1326ee(0x753)][_0x1326ee(0x3b8)]);if(!_0x268919)throw new Error(_0x1326ee(0x874));let _0x48cd2a={'_id':_0x268919[_0x1326ee(0x353)],'flowConfig':{'enabled':_0x2774e0[_0x1326ee(0x572)]??_0x268919[_0x1326ee(0x693)][_0x1326ee(0x572)],'ignoreGroups':_0x2774e0[_0x1326ee(0x47c)]??_0x268919[_0x1326ee(0x693)]['ignoreGroups'],'stopConversation':_0x2774e0['stopConversation'][_0x1326ee(0x472)]()??_0x268919[_0x1326ee(0x693)]['stopConversation'][_0x1326ee(0x472)](),'stopMinutes':_0x2774e0[_0x1326ee(0x4c9)]??_0x268919[_0x1326ee(0x693)][_0x1326ee(0x4c9)],'stopWhenYouSendMsg':_0x2774e0[_0x1326ee(0xe4)]??_0x268919[_0x1326ee(0x693)]['stopWhenYouSendMsg']}},_0x3c4ccf=await this[_0x1326ee(0x471)]['automateSystem'][_0x1326ee(0x772)](_0x48cd2a,this[_0x1326ee(0x753)][_0x1326ee(0x3b8)]);return this['AutomateSystem']=_0x3c4ccf,this[_0x1326ee(0x74b)][_0x1326ee(0x56b)](this[_0x1326ee(0x4d8)]+'\x20('+this[_0x1326ee(0x753)][_0x1326ee(0x3b8)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x1326ee(0x56b)](this['instanceName']+'\x20('+this[_0x1326ee(0x753)]['wuid']+_0x1326ee(0x839)+this[_0x1326ee(0x3b9)]),setTimeout(()=>this[_0x1326ee(0xf3)](),0x7d0),_0x3c4ccf;}catch(_0xf1b1ba){let _0x3428d1='Erro\x20ao\x20editar\x20configurao\x20de\x20fluxos',_0x156549=_0xf1b1ba instanceof Error?_0xf1b1ba[_0x1326ee(0x35e)]:typeof _0xf1b1ba==_0x1326ee(0x6ae)?JSON[_0x1326ee(0x176)](_0xf1b1ba):_0xf1b1ba,_0x35eef0=_0x3428d1+':\x20'+_0x156549;throw this[_0x1326ee(0x74b)][_0x1326ee(0x310)](this['instanceName']+'\x20('+this[_0x1326ee(0x753)]['wuid']+_0x1326ee(0x839)+_0x35eef0),new m(_0x35eef0);}}async[a0_0x217659(0x111)](){const _0x574a4b=a0_0x217659;try{let _0x3735df=await this[_0x574a4b(0x471)]['automateSystem'][_0x574a4b(0x38e)](this[_0x574a4b(0x753)][_0x574a4b(0x3b8)]);return this[_0x574a4b(0x3b9)]=_0x3735df,_0x3735df;}catch(_0x29f44d){let _0x252037=_0x574a4b(0x436),_0x3631ac=_0x29f44d instanceof Error?_0x29f44d['message']:typeof _0x29f44d==_0x574a4b(0x6ae)?JSON[_0x574a4b(0x176)](_0x29f44d):_0x29f44d,_0x3f043c=_0x252037+':\x20'+_0x3631ac;throw this[_0x574a4b(0x74b)][_0x574a4b(0x310)](this[_0x574a4b(0x4d8)]+'\x20('+this[_0x574a4b(0x753)]['wuid']+_0x574a4b(0x839)+_0x3f043c),new m(_0x3f043c);}}async[a0_0x217659(0x728)](){const _0x4cb486=a0_0x217659;let _0xcc6664=(await import(_0x4cb486(0x675)))['default'];this[_0x4cb486(0x71d)]=new _0xcc6664({'concurrency':0x1});}async[a0_0x217659(0x7cd)](){const _0x1753c1=a0_0x217659;this[_0x1753c1(0x753)][_0x1753c1(0x25f)][_0x1753c1(0x1bb)]&&clearTimeout(this[_0x1753c1(0x753)][_0x1753c1(0x25f)][_0x1753c1(0x1bb)]),this['instance'][_0x1753c1(0x25f)]['timeout']=setTimeout(()=>{const _0x127c64=_0x1753c1;this[_0x127c64(0x627)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x4a4135=a0_0x217659;let _0x52240c=this[_0x4a4135(0x753)][_0x4a4135(0x25f)][_0x4a4135(0x5fc)];(_0x52240c===0x0||_0x52240c===null||Date[_0x4a4135(0x11c)]()-_0x52240c>=0x1d4c0)&&(this['logger']['verbose'](this[_0x4a4135(0x4d8)]+'\x20('+this[_0x4a4135(0x753)][_0x4a4135(0x3b8)]+_0x4a4135(0x67c)),this[_0x4a4135(0x753)][_0x4a4135(0x25f)][_0x4a4135(0x3fd)]=null,this[_0x4a4135(0x753)][_0x4a4135(0x25f)][_0x4a4135(0x5fc)]=0x0,this['instance']['ScheduleMessage'][_0x4a4135(0x6e4)]=0x0,await this[_0x4a4135(0xf3)]());}async['scheduleNextCheck'](){const _0x6e2143=a0_0x217659;this[_0x6e2143(0x74b)][_0x6e2143(0x1f1)](this[_0x6e2143(0x4d8)]+'\x20('+this[_0x6e2143(0x753)][_0x6e2143(0x3b8)]+_0x6e2143(0x37b)),await this[_0x6e2143(0x3ac)]();let _0x4a35b0=await this[_0x6e2143(0x70c)]();_0x4a35b0[_0x6e2143(0xf4)]>0x0&&(setTimeout(()=>this[_0x6e2143(0x627)](),0x14*0x3e8),this[_0x6e2143(0x74b)][_0x6e2143(0x1f1)](this['instanceName']+'\x20('+this[_0x6e2143(0x753)]['wuid']+_0x6e2143(0x6d3)),this[_0x6e2143(0x71d)][_0x6e2143(0x65f)](),this[_0x6e2143(0x71d)][_0x6e2143(0x735)](()=>this[_0x6e2143(0x23c)](_0x4a35b0)));let _0x187822={'where':{'status':_0x6e2143(0x268),'when':{'$gt':Date[_0x6e2143(0x11c)]()}}},_0x5da460=await this[_0x6e2143(0x471)]['scheduleMessage']['findOne'](_0x187822,this[_0x6e2143(0x753)][_0x6e2143(0x3b8)]);_0x5da460&&_0x5da460['when']-Date[_0x6e2143(0x11c)]()<=0x6ddd00?this['instance'][_0x6e2143(0x25f)][_0x6e2143(0x6e4)]=_0x5da460[_0x6e2143(0x4a7)]-Date[_0x6e2143(0x11c)]():this[_0x6e2143(0x753)][_0x6e2143(0x25f)]['delayMessage']=(0x3c+Math[_0x6e2143(0x66d)](Math[_0x6e2143(0x584)]()*0x3c))*0x3c*0x3e8,this[_0x6e2143(0x753)][_0x6e2143(0x25f)][_0x6e2143(0x6e4)]=Math['max'](this[_0x6e2143(0x753)]['ScheduleMessage'][_0x6e2143(0x6e4)],0x1*0x2*0x3e8);let _0x4729da=Math[_0x6e2143(0x75f)](this['instance'][_0x6e2143(0x25f)][_0x6e2143(0x6e4)]/0xea60);if(_0x5da460){let _0x2de5dc=new Date(_0x5da460['when'])[_0x6e2143(0x819)]();this[_0x6e2143(0x74b)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x6e2143(0x3b8)]+_0x6e2143(0x3c9)+_0x2de5dc+_0x6e2143(0x758)+_0x4729da+_0x6e2143(0x718));}else this[_0x6e2143(0x74b)][_0x6e2143(0x1f1)](this[_0x6e2143(0x4d8)]+'\x20('+this['instance']['wuid']+'):\x20No\x20encontrado\x20prxima\x20mensagem,\x20far\x20nova\x20verificao\x20em\x20'+_0x4729da+'\x20minutos');setTimeout(()=>{const _0x9ee9b3=_0x6e2143;this[_0x9ee9b3(0xf3)]();},this['instance'][_0x6e2143(0x25f)][_0x6e2143(0x6e4)]);}async['getReadyToSendMessages'](){const _0x3e6ee4=a0_0x217659;this[_0x3e6ee4(0x74b)][_0x3e6ee4(0x1f1)](this[_0x3e6ee4(0x4d8)]+'\x20('+this[_0x3e6ee4(0x753)][_0x3e6ee4(0x3b8)]+_0x3e6ee4(0x2f8));let _0x572cf7=Date[_0x3e6ee4(0x11c)]()-0xc*0x3c*0x3c*0x3e8,_0x6e52a3={'where':{'status':{'$in':[_0x3e6ee4(0x268),_0x3e6ee4(0x1e9)]},'$or':[{'when':{'$lte':Date[_0x3e6ee4(0x11c)](),'$gte':_0x572cf7}},{'when':0x0}]}},_0xb7a7ff=await this['repository'][_0x3e6ee4(0x82e)][_0x3e6ee4(0x6b5)](_0x6e52a3,this['instance'][_0x3e6ee4(0x3b8)]);return this[_0x3e6ee4(0x74b)][_0x3e6ee4(0x1f1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3e6ee4(0x4f1)+_0xb7a7ff['length']),_0xb7a7ff;}async[a0_0x217659(0x23c)](_0x104004){const _0x200bf4=a0_0x217659;this['logger'][_0x200bf4(0x1f1)](this['instanceName']+'\x20('+this['instance'][_0x200bf4(0x3b8)]+'):\x20Iniciando\x20processReadyMessages');let _0x1877c0=0x3*0x3e8,_0x1f03b9=0x8*0x3e8,_0x13b307=Math[_0x200bf4(0x66d)](Math[_0x200bf4(0x584)]()*(_0x1f03b9-_0x1877c0+0x1))+_0x1877c0,_0x335ca1=()=>this[_0x200bf4(0x6e0)][_0x200bf4(0xf4)]===0x0?null:this[_0x200bf4(0x6e0)]['reduce']((_0x39ada0,_0xf57b03)=>(_0x39ada0[_0x200bf4(0x248)]??Number[_0x200bf4(0x749)])<(_0xf57b03[_0x200bf4(0x248)]??Number[_0x200bf4(0x749)])?_0x39ada0:_0xf57b03,this[_0x200bf4(0x6e0)][0x0]);_0x104004=await this[_0x200bf4(0x70c)]();for(let _0x2d0caa of _0x104004){await this['setRestartTimeout']();let _0x2bdc5d=0x3*0x3e8,_0x3fe09b={'_id':_0x2d0caa[_0x200bf4(0x353)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x200bf4(0x11c)]()-_0x2bdc5d}}]},_0x133ccf={'startSend':Date[_0x200bf4(0x11c)](),'status':_0x200bf4(0x1e9)},_0x3207fa=await this[_0x200bf4(0x471)][_0x200bf4(0x82e)][_0x200bf4(0x3bb)](_0x3fe09b,_0x133ccf,this[_0x200bf4(0x753)]['wuid']);if(this[_0x200bf4(0x6e0)]=_0x3207fa[_0x200bf4(0x7df)][_0x200bf4(0xf8)](_0x5af304=>!_0x5af304['triedToSend']),!_0x3207fa){setTimeout(()=>this[_0x200bf4(0x627)](),0xa*0x3e8);continue;}if(this[_0x200bf4(0x753)]['ScheduleMessage'][_0x200bf4(0x3fd)]=_0x3207fa,!this[_0x200bf4(0x753)][_0x200bf4(0x25f)]['isConnected']){this['logger'][_0x200bf4(0x1f1)](this['instanceName']+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+_0x200bf4(0x315));break;}for(;this['pendingMessages'][_0x200bf4(0xf4)]>0x0;){await this[_0x200bf4(0x7cd)]();let _0xf269d2=_0x335ca1();if(!_0xf269d2)break;let _0x26112e=_0x2d0caa[_0x200bf4(0x7df)][_0x200bf4(0x6b5)](_0x3ec44a=>_0x3ec44a[_0x200bf4(0x353)]===_0xf269d2[_0x200bf4(0x353)]);if(!_0x26112e)break;if(this[_0x200bf4(0x753)][_0x200bf4(0x25f)][_0x200bf4(0x5fc)]=Date[_0x200bf4(0x11c)](),_0x26112e[_0x200bf4(0x44d)]){this[_0x200bf4(0x74b)][_0x200bf4(0x1f1)](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+_0x200bf4(0x60c)+_0x26112e[_0x200bf4(0x3cc)]+_0x200bf4(0x637)),this[_0x200bf4(0x6e0)]=this['pendingMessages']['filter'](_0x31ac9d=>_0x31ac9d[_0x200bf4(0x353)]!==_0x26112e[_0x200bf4(0x353)]);continue;}if(!this[_0x200bf4(0x753)][_0x200bf4(0x25f)][_0x200bf4(0x454)]){this[_0x200bf4(0x74b)]['warn'](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+'):\x20Envio\x20interrompido\x20devido\x20\x20desconexo.');break;}if(!this[_0x200bf4(0x753)]['ScheduleMessage'][_0x200bf4(0x3fd)]){this[_0x200bf4(0x74b)][_0x200bf4(0x1f1)](this['instanceName']+'\x20('+this['instance'][_0x200bf4(0x3b8)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2d0caa[_0x200bf4(0x353)]+_0x200bf4(0x150));break;}let _0x63f98a={'idControl':_0x26112e[_0x200bf4(0x353)],'remoteJid':_0x26112e[_0x200bf4(0x3cc)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x200bf4(0x11c)]()},_0x7c4aeb=null;try{this[_0x200bf4(0x74b)][_0x200bf4(0x1f1)](this[_0x200bf4(0x4d8)]+'\x20('+this['instance'][_0x200bf4(0x3b8)]+_0x200bf4(0x50f)+_0x26112e[_0x200bf4(0x3cc)]);let _0x9bad67=await Promise[_0x200bf4(0x85d)]([this[_0x200bf4(0x889)](_0x26112e[_0x200bf4(0x3cc)],_0x26112e),this[_0x200bf4(0x441)](0x78*0x3e8)]);_0x63f98a[_0x200bf4(0x310)]=_0x9bad67[_0x200bf4(0x310)],_0x63f98a['id']=_0x9bad67['error']?null:_0x9bad67['id'],_0x63f98a['error_log']=_0x9bad67[_0x200bf4(0x310)]?_0x9bad67['detail']?_0x9bad67[_0x200bf4(0x636)]['toString']():'':null;let _0x59a0e1=_0x2d0caa[_0x200bf4(0x7df)][_0x200bf4(0x723)](_0x423e34=>_0x423e34[_0x200bf4(0x353)]===_0x26112e[_0x200bf4(0x353)]);_0x59a0e1!==-0x1&&(_0x2d0caa[_0x200bf4(0x7df)][_0x59a0e1][_0x200bf4(0x44d)]=!0x0);let _0x5e4747={'$push':{'messagesSend':_0x63f98a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x55b763=[{'elem._id':_0x26112e[_0x200bf4(0x353)]}];if(this[_0x200bf4(0x74b)][_0x200bf4(0x1f1)](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x26112e[_0x200bf4(0x353)]),_0x7c4aeb=await this[_0x200bf4(0x471)][_0x200bf4(0x82e)]['updateOne']({'_id':_0x2d0caa['_id']},_0x5e4747,this['instance'][_0x200bf4(0x3b8)],{'arrayFilters':_0x55b763}),_0x9bad67['error']){this['logger']['error'](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+_0x200bf4(0x351)+_0x9bad67['detail']);continue;}let _0x198488=this[_0x200bf4(0xed)](_0x2d0caa['delaySecMin'],_0x2d0caa['delaySecMax']);await this[_0x200bf4(0x57d)](_0x198488);}catch(_0x2a3f94){this['logger'][_0x200bf4(0x310)](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+_0x200bf4(0x38d)+_0x26112e[_0x200bf4(0x3cc)]+':\x20'+(_0x2a3f94 instanceof Error?_0x2a3f94[_0x200bf4(0x35e)]:JSON[_0x200bf4(0x176)](_0x2a3f94,null,0x2))),_0x63f98a['error']=!0x0,_0x63f98a['error_log']=_0x2a3f94[_0x200bf4(0x35e)];let _0x9e1af9=_0x2d0caa[_0x200bf4(0x7df)][_0x200bf4(0x723)](_0x5c2595=>_0x5c2595[_0x200bf4(0x353)]===_0x26112e[_0x200bf4(0x353)]);_0x9e1af9!==-0x1&&(_0x2d0caa[_0x200bf4(0x7df)][_0x9e1af9][_0x200bf4(0x44d)]=!0x0);let _0x13e18b={'$push':{'messagesSend':_0x63f98a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x403e15=[{'elem._id':_0x26112e[_0x200bf4(0x353)]}];this['logger'][_0x200bf4(0x1f1)](this['instanceName']+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+_0x200bf4(0x252)+_0x26112e[_0x200bf4(0x353)]),_0x7c4aeb=await this[_0x200bf4(0x471)][_0x200bf4(0x82e)][_0x200bf4(0x3bb)]({'_id':_0x2d0caa[_0x200bf4(0x353)]},_0x13e18b,this['instance'][_0x200bf4(0x3b8)],{'arrayFilters':_0x403e15});}finally{if(_0x7c4aeb&&_0x7c4aeb[_0x200bf4(0x381)]==='stopped'){this[_0x200bf4(0x74b)]['warn'](this[_0x200bf4(0x4d8)]+'\x20('+this['instance'][_0x200bf4(0x3b8)]+_0x200bf4(0x7ca)+_0x26112e[_0x200bf4(0x353)]+_0x200bf4(0x322));break;}let _0x235466=_0x7c4aeb['messages']['find'](_0x5f7964=>_0x5f7964[_0x200bf4(0x353)]===_0x26112e[_0x200bf4(0x353)]);if(_0x235466&&!_0x235466[_0x200bf4(0x44d)]){let _0x16be7f={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5706a6=[{'elem._id':_0x26112e['_id']}];await this[_0x200bf4(0x471)]['scheduleMessage'][_0x200bf4(0x3bb)]({'_id':_0x7c4aeb[_0x200bf4(0x353)]},_0x16be7f,this[_0x200bf4(0x753)]['wuid'],{'arrayFilters':_0x5706a6});}if(this[_0x200bf4(0x6e0)]=_0x7c4aeb[_0x200bf4(0x7df)][_0x200bf4(0xf8)](_0xc697e0=>!_0xc697e0[_0x200bf4(0x44d)]),!this[_0x200bf4(0x753)][_0x200bf4(0x25f)][_0x200bf4(0x3fd)]){await this[_0x200bf4(0x7cd)](),this[_0x200bf4(0x74b)][_0x200bf4(0x1f1)](this[_0x200bf4(0x4d8)]+'\x20('+this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2d0caa['_id']+'\x20foi\x20interrompido\x20pelo\x20usurio.');break;}}}this[_0x200bf4(0x6e0)]=[];let _0x3d6a6b=await this[_0x200bf4(0x471)][_0x200bf4(0x82e)][_0x200bf4(0x5bc)](_0x2d0caa['_id'],this['instance'][_0x200bf4(0x3b8)]);if(_0x3d6a6b[_0x200bf4(0x7df)][_0x200bf4(0x721)](_0x5cb2c8=>_0x5cb2c8[_0x200bf4(0x44d)])&&_0x3d6a6b[_0x200bf4(0x381)]!==_0x200bf4(0x508)){let _0x2aefbb={'$set':{'status':_0x200bf4(0x103)}};await this['repository'][_0x200bf4(0x82e)]['updateOneById'](_0x3d6a6b['_id'],_0x2aefbb,this[_0x200bf4(0x753)][_0x200bf4(0x3b8)]);}await new Promise(_0x4442a4=>setTimeout(_0x4442a4,_0x13b307)),global['gc']?global['gc']():console[_0x200bf4(0x1f1)](_0x200bf4(0x210));}}['timeoutPromise'](_0x3b7e69){return new Promise((_0x3d80d3,_0x3b74f6)=>setTimeout(()=>_0x3b74f6(new Error('Timeout\x20exceeded')),_0x3b7e69));}[a0_0x217659(0xed)](_0x551ddc,_0x294373){const _0x3dff88=a0_0x217659;return _0x551ddc=Math[_0x3dff88(0x561)](0.5,_0x551ddc),_0x294373=Math['min'](Math['max'](0x3,_0x294373),0x78),Math[_0x3dff88(0x66d)](Math[_0x3dff88(0x584)]()*(_0x294373-_0x551ddc+0x1)+_0x551ddc)*0x3e8;}[a0_0x217659(0x57d)](_0x5af24e){return new Promise(_0x4cc590=>setTimeout(_0x4cc590,_0x5af24e));}async[a0_0x217659(0x1d4)](_0x1fb3da){const _0x18d789=a0_0x217659;if(!this[_0x18d789(0x3b9)]&&(await this[_0x18d789(0x111)](),!this[_0x18d789(0x3b9)]))return null;_0x1fb3da=this[_0x18d789(0x1af)](_0x1fb3da);let _0x554cf7=await this[_0x18d789(0x471)][_0x18d789(0x856)][_0x18d789(0x567)]({'where':{'_id':_0x1fb3da}},this[_0x18d789(0x753)][_0x18d789(0x3b8)]),_0x14c063={};if(_0x554cf7&&_0x554cf7[_0x18d789(0x532)]){let _0x5a4869=_0x554cf7[_0x18d789(0x532)];typeof _0x5a4869['nome']==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x418)]=_0x5a4869[_0x18d789(0x418)]),typeof _0x5a4869[_0x18d789(0x73b)]==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x73b)]=_0x5a4869[_0x18d789(0x73b)]),typeof _0x5a4869[_0x18d789(0x607)]==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x607)]=_0x5a4869['email']),typeof _0x5a4869['cpf']==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x4c2)]=_0x5a4869[_0x18d789(0x4c2)]),typeof _0x5a4869[_0x18d789(0x381)]==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x381)]=_0x5a4869['status']),typeof _0x5a4869[_0x18d789(0x38a)]==_0x18d789(0x185)&&(_0x14c063[_0x18d789(0x38a)]=_0x5a4869[_0x18d789(0x38a)]),typeof _0x5a4869[_0x18d789(0x222)]==_0x18d789(0x185)&&(_0x14c063['responsavelid']=_0x5a4869[_0x18d789(0x222)]),Array[_0x18d789(0x3d6)](_0x5a4869[_0x18d789(0x108)])&&(_0x14c063[_0x18d789(0x108)]=_0x5a4869[_0x18d789(0x108)]['join'](',\x20')),Array[_0x18d789(0x3d6)](_0x5a4869[_0x18d789(0x355)])&&(_0x14c063[_0x18d789(0x355)]=_0x5a4869[_0x18d789(0x355)][_0x18d789(0x4f2)](',\x20'));}return _0x554cf7&&_0x554cf7[_0x18d789(0x532)]&&_0x554cf7['leadInfo'][_0x18d789(0x887)]&&_0x554cf7[_0x18d789(0x532)][_0x18d789(0x887)]['forEach'](_0x166fda=>{const _0x50bf79=_0x18d789;let _0xd2d653=this[_0x50bf79(0x3b9)]?.[_0x50bf79(0x887)]['find'](_0x49789f=>_0x49789f['_id']===_0x166fda['_id']);_0xd2d653&&(_0x14c063[_0xd2d653['name']]=_0x166fda[_0x50bf79(0x546)]);}),_0x14c063;}async[a0_0x217659(0x4b8)](_0x57cf0c,_0x55a3ea){const _0x2adec0=a0_0x217659;try{let _0x14d618=await this[_0x2adec0(0x1d4)](_0x55a3ea);return this['replaceVariables'](_0x57cf0c,_0x14d618);}catch(_0x4fda59){return this[_0x2adec0(0x74b)][_0x2adec0(0x310)](_0x2adec0(0x60a)+_0x55a3ea+':\x20'+_0x4fda59),_0x57cf0c;}}async['transformScheduledMessagesByType'](){const _0x2c63cc=a0_0x217659;let _0x1022a2=async(_0x1ac2f8,_0x18aeb0)=>{const _0x15000c=a0_0x749e;let _0x38880c=(await this['repository'][_0x15000c(0x82e)][_0x15000c(0x6b5)]({'where':{'type':_0x1ac2f8}},this[_0x15000c(0x753)]['wuid']))[_0x15000c(0x557)](async _0x526110=>{const _0x4f54f8=_0x15000c;let _0xc31028=_0x18aeb0(_0x526110),_0x1fc989=_0x3840cb=>/^\d+$/[_0x4f54f8(0x2af)](_0x3840cb),_0x192559=_0x526110['remoteJids'][_0x4f54f8(0xf8)](_0x324bf0=>_0x324bf0[_0x4f54f8(0x464)](_0x4f54f8(0x1fc))?_0x324bf0[_0x4f54f8(0xf4)]>0x19:_0x324bf0[_0x4f54f8(0x464)](_0x4f54f8(0x62c))?_0x324bf0['length']>0xf:_0x1fc989(_0x324bf0)?_0x324bf0['length']>=0xb:!0x1)[_0x4f54f8(0x557)](_0x3f52be=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x526110[_0x4f54f8(0x353)],'type':_0xc31028,'remoteJid':_0x3f52be,'flow':_0x526110[_0x4f54f8(0x58c)],'text':_0x526110[_0x4f54f8(0x35e)]?.['text'],'delay':_0x526110['message']?.[_0x4f54f8(0x35b)],'urlOrBase64':_0x526110[_0x4f54f8(0x35e)]?.[_0x4f54f8(0x5ab)],'linkPreview':_0x526110[_0x4f54f8(0x35e)]?.[_0x4f54f8(0x31a)],'fileName':_0x526110[_0x4f54f8(0x35e)]?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x4f54f8(0x471)][_0x4f54f8(0x82e)][_0x4f54f8(0x629)](_0x526110[_0x4f54f8(0x353)],{'$set':{'messages':_0x192559},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x4f54f8(0x753)][_0x4f54f8(0x3b8)]);}catch(_0x2a693a){console[_0x4f54f8(0x310)](_0x4f54f8(0x73e)+_0x526110['_id']+':',_0x2a693a);}});await Promise[_0x15000c(0x598)](_0x38880c);};await _0x1022a2('text',_0x509650=>_0x2c63cc(0x1dc)),await _0x1022a2(_0x2c63cc(0x87d),_0x2031df=>_0x2031df['message']?.[_0x2c63cc(0x40a)]||_0x2c63cc(0x87d)),await _0x1022a2(_0x2c63cc(0x1a2),_0x44d709=>_0x2c63cc(0x1a2)),await _0x1022a2(_0x2c63cc(0x37d),_0xc6239f=>'flow'),await _0x1022a2('image',_0x1bbc29=>'image'),await _0x1022a2(_0x2c63cc(0x33a),_0x3eb9e6=>'video'),await _0x1022a2('document',_0x385f1c=>_0x2c63cc(0x10c)),this[_0x2c63cc(0x74b)][_0x2c63cc(0x1f1)](this['instanceName']+'\x20('+this[_0x2c63cc(0x753)]['wuid']+_0x2c63cc(0x40f));}async['editScheduleMessage'](_0x3781f6){const _0x2b5a43=a0_0x217659;try{if(this[_0x2b5a43(0x74b)][_0x2b5a43(0x1f1)](this['instanceName']+'\x20('+this[_0x2b5a43(0x753)]['wuid']+_0x2b5a43(0x5ef)),_0x3781f6[_0x2b5a43(0x353)]||(_0x3781f6['_id']=(0x0,Q['v4'])()),this[_0x2b5a43(0x753)][_0x2b5a43(0x25f)][_0x2b5a43(0x3fd)]?.['_id']===_0x3781f6[_0x2b5a43(0x353)]?.['toString']()){if(_0x3781f6['status']==='stopped')this[_0x2b5a43(0x753)][_0x2b5a43(0x25f)][_0x2b5a43(0x3fd)]=null;else throw new Error(_0x2b5a43(0x84f));}if(_0x3781f6[_0x2b5a43(0x85c)]&&_0x3781f6[_0x2b5a43(0x353)]){let _0x2a459e=await this[_0x2b5a43(0x471)][_0x2b5a43(0x82e)][_0x2b5a43(0x448)](_0x3781f6['_id'],this[_0x2b5a43(0x753)]['wuid']);return setTimeout(()=>this[_0x2b5a43(0xf3)](),0x7d0),_0x2a459e;}let _0x40bc74=null;if(_0x3781f6[_0x2b5a43(0x353)]&&(_0x40bc74=await this[_0x2b5a43(0x471)][_0x2b5a43(0x82e)][_0x2b5a43(0x5bc)](_0x3781f6[_0x2b5a43(0x353)],this[_0x2b5a43(0x753)][_0x2b5a43(0x3b8)])),_0x40bc74){let {_id:_0x2cbd07,owner:_0x4fa6b4,messages:_0x19b1bf,..._0x3e3fcd}=_0x3781f6;if(_0x19b1bf){let _0x2c2cc1=_0x19b1bf[_0x2b5a43(0xf8)](_0x5330a8=>!_0x5330a8['_id']),_0x220db5=_0x19b1bf[_0x2b5a43(0xf8)](_0x274e62=>_0x274e62[_0x2b5a43(0x353)]&&!_0x274e62[_0x2b5a43(0x85c)]),_0x5a3883=_0x19b1bf[_0x2b5a43(0xf8)](_0x3db2d8=>_0x3db2d8[_0x2b5a43(0x353)]&&_0x3db2d8[_0x2b5a43(0x85c)]);if(_0x2c2cc1[_0x2b5a43(0xf4)]>0x0&&await this[_0x2b5a43(0x47d)](_0x3781f6[_0x2b5a43(0x353)],_0x2c2cc1),_0x220db5['length']>0x0&&await this[_0x2b5a43(0x859)]({'_id':_0x3781f6[_0x2b5a43(0x353)],'messages':_0x220db5}),_0x5a3883[_0x2b5a43(0xf4)]>0x0){let _0x321d78=_0x5a3883[_0x2b5a43(0x557)](_0x15f24d=>({'updateOne':{'filter':{'_id':_0x3781f6[_0x2b5a43(0x353)]},'update':{'$pull':{'messages':{'_id':_0x15f24d['_id']}}}}}));await this['repository'][_0x2b5a43(0x82e)][_0x2b5a43(0x864)](_0x321d78,this[_0x2b5a43(0x753)][_0x2b5a43(0x3b8)]);}}let _0x199043={'$set':{..._0x3e3fcd,'status':_0x3781f6['status']||_0x40bc74[_0x2b5a43(0x381)]}},_0x4ddfb6=await this[_0x2b5a43(0x471)][_0x2b5a43(0x82e)][_0x2b5a43(0x629)](_0x3781f6[_0x2b5a43(0x353)],_0x199043,this[_0x2b5a43(0x753)][_0x2b5a43(0x3b8)]);return _0x4ddfb6&&(this[_0x2b5a43(0x1e5)](_0x4ddfb6['messages']),await this['repository'][_0x2b5a43(0x82e)]['updateOneById'](_0x4ddfb6[_0x2b5a43(0x353)],{'$set':{'messages':_0x4ddfb6[_0x2b5a43(0x7df)]}},this[_0x2b5a43(0x753)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x2b5a43(0x3ac)](),_0x4ddfb6;}else{_0x3781f6[_0x2b5a43(0x401)]=this[_0x2b5a43(0x753)][_0x2b5a43(0x3b8)],_0x3781f6[_0x2b5a43(0x7df)]&&_0x3781f6[_0x2b5a43(0x7df)][_0x2b5a43(0x3f7)](_0x2d9f2f=>{const _0x2ea893=_0x2b5a43;_0x2d9f2f[_0x2ea893(0x353)]||(_0x2d9f2f[_0x2ea893(0x353)]=(0x0,Q['v4'])()),_0x2d9f2f[_0x2ea893(0x4b7)]||(_0x2d9f2f['idSchedule']=_0x3781f6[_0x2ea893(0x353)]),delete _0x2d9f2f[_0x2ea893(0x44d)];});let _0x39d730=await this[_0x2b5a43(0x471)][_0x2b5a43(0x82e)][_0x2b5a43(0x6a9)](_0x3781f6,this[_0x2b5a43(0x753)][_0x2b5a43(0x3b8)]);return _0x39d730&&(this[_0x2b5a43(0x1e5)](_0x39d730['messages']),await this['repository'][_0x2b5a43(0x82e)][_0x2b5a43(0x629)](_0x39d730['_id'],{'$set':{'messages':_0x39d730[_0x2b5a43(0x7df)]}},this[_0x2b5a43(0x753)]['wuid'])),setTimeout(()=>this[_0x2b5a43(0xf3)](),0x7d0),_0x39d730;}}catch(_0x7b9a8){let _0x240724=_0x2b5a43(0x451),_0x49ae2e=_0x7b9a8 instanceof Error?_0x7b9a8[_0x2b5a43(0x35e)]:typeof _0x7b9a8==_0x2b5a43(0x6ae)?JSON[_0x2b5a43(0x176)](_0x7b9a8):_0x7b9a8,_0x23b5f8=_0x240724+':\x20'+_0x49ae2e;throw this[_0x2b5a43(0x74b)][_0x2b5a43(0x310)](this[_0x2b5a43(0x4d8)]+'\x20('+this['instance'][_0x2b5a43(0x3b8)]+_0x2b5a43(0x839)+_0x23b5f8),new m(_0x23b5f8);}}async[a0_0x217659(0x47d)](_0x108591,_0xa3a57b){const _0x13be3a=a0_0x217659;try{this[_0x13be3a(0x74b)][_0x13be3a(0x56b)](this[_0x13be3a(0x4d8)]+'\x20('+this[_0x13be3a(0x753)][_0x13be3a(0x3b8)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0xa3a57b[_0x13be3a(0x3f7)](_0x34353=>{const _0x52bf72=_0x13be3a;_0x34353[_0x52bf72(0x353)]||(_0x34353[_0x52bf72(0x353)]=(0x0,Q['v4'])()),_0x34353[_0x52bf72(0x4b7)]||(_0x34353[_0x52bf72(0x4b7)]=_0x108591),delete _0x34353[_0x52bf72(0x44d)];});let _0x6e2aeb={'$push':{'messages':{'$each':_0xa3a57b}}},_0x573973=await this[_0x13be3a(0x471)]['scheduleMessage'][_0x13be3a(0x629)](_0x108591,_0x6e2aeb,this[_0x13be3a(0x753)]['wuid']);return _0x573973&&(this[_0x13be3a(0x1e5)](_0x573973[_0x13be3a(0x7df)]),await this['repository']['scheduleMessage'][_0x13be3a(0x629)](_0x573973['_id'],{'$set':{'messages':_0x573973[_0x13be3a(0x7df)]}},this[_0x13be3a(0x753)]['wuid'])),_0x573973;}catch(_0x3c7cd8){let _0x52c3e7=_0x13be3a(0x416),_0x47317c=_0x3c7cd8 instanceof Error?_0x3c7cd8[_0x13be3a(0x35e)]:typeof _0x3c7cd8==_0x13be3a(0x6ae)?JSON[_0x13be3a(0x176)](_0x3c7cd8):_0x3c7cd8,_0x26bb52=_0x52c3e7+':\x20'+_0x47317c;throw this['logger'][_0x13be3a(0x310)](this[_0x13be3a(0x4d8)]+'\x20('+this[_0x13be3a(0x753)][_0x13be3a(0x3b8)]+'):\x20'+_0x26bb52),new m(_0x26bb52);}}async[a0_0x217659(0x859)](_0x3ce6cf){const _0x45c772=a0_0x217659;try{if(this[_0x45c772(0x74b)][_0x45c772(0x56b)](this[_0x45c772(0x4d8)]+'\x20('+this[_0x45c772(0x753)][_0x45c772(0x3b8)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x3ce6cf['_id']||!_0x3ce6cf[_0x45c772(0x7df)])throw new Error(_0x45c772(0x303));let _0x5e5e9b=_0x3ce6cf['_id'],_0xf4b334=_0x3ce6cf[_0x45c772(0x7df)],_0x3d3c4b=_0xf4b334[_0x45c772(0xf8)](_0x24c201=>!_0x24c201[_0x45c772(0x85c)])[_0x45c772(0x557)](_0x26d253=>{const _0x787640=_0x45c772;let _0x377696=_0x26d253[_0x787640(0x353)];if(!_0x377696)throw new Error(_0x787640(0x407));return _0x26d253[_0x787640(0x4b7)]||(_0x26d253[_0x787640(0x4b7)]=_0x5e5e9b),delete _0x26d253[_0x787640(0x44d)],{'updateOne':{'filter':{'_id':_0x5e5e9b,'messages._id':_0x377696},'update':{'$set':{'messages.$[elem]':_0x26d253}},'arrayFilters':[{'elem._id':_0x377696}]}};}),_0xcdb0e4=_0xf4b334['filter'](_0x5c8e1e=>_0x5c8e1e[_0x45c772(0x85c)])[_0x45c772(0x557)](_0x397acd=>{const _0x1a99a2=_0x45c772;let _0x514f9b=_0x397acd[_0x1a99a2(0x353)];if(!_0x514f9b)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20excluso.');return{'updateOne':{'filter':{'_id':_0x5e5e9b},'update':{'$pull':{'messages':{'_id':_0x514f9b}}}}};}),_0x46f88c=[..._0x3d3c4b,..._0xcdb0e4],_0x653695=await this[_0x45c772(0x471)]['scheduleMessage'][_0x45c772(0x864)](_0x46f88c,this[_0x45c772(0x753)][_0x45c772(0x3b8)]),_0x2686df=await this['repository'][_0x45c772(0x82e)][_0x45c772(0x5bc)](_0x5e5e9b,this['instance'][_0x45c772(0x3b8)]);return _0x2686df&&(this[_0x45c772(0x1e5)](_0x2686df['messages']),await this[_0x45c772(0x471)][_0x45c772(0x82e)][_0x45c772(0x629)](_0x2686df[_0x45c772(0x353)],{'$set':{'messages':_0x2686df[_0x45c772(0x7df)]}},this[_0x45c772(0x753)][_0x45c772(0x3b8)])),_0x2686df;}catch(_0x388d12){let _0x5bb632='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x1e05dc=_0x388d12 instanceof Error?_0x388d12['message']:typeof _0x388d12=='object'?JSON[_0x45c772(0x176)](_0x388d12):_0x388d12,_0x160563=_0x5bb632+':\x20'+_0x1e05dc;throw this[_0x45c772(0x74b)][_0x45c772(0x310)](this[_0x45c772(0x4d8)]+'\x20('+this[_0x45c772(0x753)][_0x45c772(0x3b8)]+'):\x20'+_0x160563),new m(_0x160563);}}async[a0_0x217659(0x705)](){const _0x5f45bc=a0_0x217659;try{let _0x2b4a1f={'status':_0x5f45bc(0x103)},_0x41d6e9=await this[_0x5f45bc(0x471)][_0x5f45bc(0x82e)][_0x5f45bc(0x4d5)](_0x2b4a1f,this[_0x5f45bc(0x753)][_0x5f45bc(0x3b8)]);if(!_0x41d6e9[_0x5f45bc(0x310)])this[_0x5f45bc(0x74b)][_0x5f45bc(0x56b)](this[_0x5f45bc(0x4d8)]+'\x20('+this['instance'][_0x5f45bc(0x3b8)]+_0x5f45bc(0x649));else throw new Error(_0x41d6e9[_0x5f45bc(0x310)][_0x5f45bc(0x35e)]||_0x5f45bc(0x516));return this[_0x5f45bc(0x2d2)]();}catch(_0x4575b7){let _0x17808b='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x1d9172=_0x4575b7 instanceof Error?_0x4575b7[_0x5f45bc(0x35e)]:typeof _0x4575b7==_0x5f45bc(0x6ae)?JSON[_0x5f45bc(0x176)](_0x4575b7):_0x4575b7,_0x4bc7f7=_0x17808b+':\x20'+_0x1d9172;throw this[_0x5f45bc(0x74b)][_0x5f45bc(0x310)](this[_0x5f45bc(0x4d8)]+'\x20('+this[_0x5f45bc(0x753)][_0x5f45bc(0x3b8)]+_0x5f45bc(0x839)+_0x4bc7f7),new m(_0x4bc7f7);}}async[a0_0x217659(0x3e7)](){const _0x35f50f=a0_0x217659;try{let _0x3af1cc=await this['repository'][_0x35f50f(0x82e)]['deleteMany']({},this[_0x35f50f(0x753)][_0x35f50f(0x3b8)]);if(!_0x3af1cc[_0x35f50f(0x310)])this[_0x35f50f(0x74b)]['verbose'](this[_0x35f50f(0x4d8)]+'\x20('+this[_0x35f50f(0x753)][_0x35f50f(0x3b8)]+_0x35f50f(0x117));else throw new Error(_0x3af1cc[_0x35f50f(0x310)][_0x35f50f(0x35e)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x35f50f(0x2d2)]();}catch(_0x6f6c0c){let _0x3422e1=_0x35f50f(0x81f),_0x1a0f7d=_0x6f6c0c instanceof Error?_0x6f6c0c[_0x35f50f(0x35e)]:typeof _0x6f6c0c=='object'?JSON[_0x35f50f(0x176)](_0x6f6c0c):_0x6f6c0c,_0x580c9e=_0x3422e1+':\x20'+_0x1a0f7d;throw this[_0x35f50f(0x74b)]['error'](this[_0x35f50f(0x4d8)]+'\x20('+this[_0x35f50f(0x753)][_0x35f50f(0x3b8)]+_0x35f50f(0x839)+_0x580c9e),new m(_0x580c9e);}}async[a0_0x217659(0x2d2)](){const _0x3666fa=a0_0x217659;try{return await this['repository']['scheduleMessage'][_0x3666fa(0x6b5)]({'where':{}},this[_0x3666fa(0x753)][_0x3666fa(0x3b8)]);}catch(_0x34f6ae){let _0x170495=_0x3666fa(0x7b8),_0x374a78=_0x34f6ae instanceof Error?_0x34f6ae[_0x3666fa(0x35e)]:typeof _0x34f6ae==_0x3666fa(0x6ae)?JSON['stringify'](_0x34f6ae):_0x34f6ae,_0x55207c=_0x170495+':\x20'+_0x374a78;throw this[_0x3666fa(0x74b)][_0x3666fa(0x310)](this[_0x3666fa(0x4d8)]+'\x20('+this[_0x3666fa(0x753)]['wuid']+_0x3666fa(0x839)+_0x55207c),new m(_0x55207c);}}['reorderMessages'](_0x358e3c){const _0x51816f=a0_0x217659;_0x358e3c[_0x51816f(0x213)]((_0x16917f,_0x4b1855)=>_0x16917f['order']-_0x4b1855[_0x51816f(0x248)]),_0x358e3c[_0x51816f(0x3f7)]((_0x55bcb8,_0x37a7a7)=>{_0x55bcb8['order']=_0x37a7a7+0x1;});}async[a0_0x217659(0x889)](_0x2285f2,_0x137c85){const _0x56ad6e=a0_0x217659;try{if(!_0x137c85)return this[_0x56ad6e(0x74b)][_0x56ad6e(0x310)](this[_0x56ad6e(0x4d8)]+'\x20('+this['instance'][_0x56ad6e(0x3b8)]+_0x56ad6e(0x337)),{'error':!0x0,'detail':_0x56ad6e(0x553)};if(_0x137c85[_0x56ad6e(0x149)]===_0x56ad6e(0x37d)&&!this[_0x56ad6e(0x3b9)]?.[_0x56ad6e(0x693)][_0x56ad6e(0x572)])return this[_0x56ad6e(0x74b)]['error'](this[_0x56ad6e(0x4d8)]+'\x20('+this[_0x56ad6e(0x753)][_0x56ad6e(0x3b8)]+'):\x20Fluxos\x20no\x20esto\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20no\x20esto\x20ativados'};switch(_0x137c85[_0x56ad6e(0x149)]){case _0x56ad6e(0x1dc):return await this[_0x56ad6e(0x583)](_0x137c85,_0x2285f2);case _0x56ad6e(0x33a):case _0x56ad6e(0x63e):case _0x56ad6e(0x10c):return await this[_0x56ad6e(0xe3)](_0x137c85,_0x2285f2);case _0x56ad6e(0x1a2):return await this[_0x56ad6e(0x56d)](_0x137c85,_0x2285f2);case _0x56ad6e(0x37d):let _0x1fe218=new ze();return _0x1fe218[_0x56ad6e(0x4f7)]=_0x137c85[_0x56ad6e(0x37d)],_0x1fe218['remoteJid']=_0x2285f2,await this[_0x56ad6e(0x80c)](_0x1fe218);default:return this[_0x56ad6e(0x74b)][_0x56ad6e(0x310)](this[_0x56ad6e(0x4d8)]+'\x20('+this[_0x56ad6e(0x753)][_0x56ad6e(0x3b8)]+_0x56ad6e(0x17f)+_0x137c85['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x3e96cb){return this[_0x56ad6e(0x74b)]['error'](this['instanceName']+'\x20('+this[_0x56ad6e(0x753)][_0x56ad6e(0x3b8)]+_0x56ad6e(0x6d2)+(_0x3e96cb instanceof Error?_0x3e96cb[_0x56ad6e(0x35e)]:JSON[_0x56ad6e(0x176)](_0x3e96cb,null,0x2))),{'error':!0x0,'detail':_0x3e96cb['message']};}}async[a0_0x217659(0x583)](_0x10bd88,_0x4eb902){const _0x1d9e60=a0_0x217659;if(this[_0x1d9e60(0x74b)][_0x1d9e60(0x56b)](this[_0x1d9e60(0x4d8)]+'\x20('+this['instance'][_0x1d9e60(0x3b8)]+_0x1d9e60(0x264)+_0x4eb902+'\x27'),!_0x10bd88['text']||_0x10bd88[_0x1d9e60(0x1dc)][_0x1d9e60(0xf4)]===0x0)return{'error':!0x0,'detail':_0x1d9e60(0x875)};let _0x177a30=await this[_0x1d9e60(0x4b8)](_0x10bd88['text'],_0x4eb902),_0x12eb76={'number':_0x4eb902,'options':{'delay':_0x10bd88[_0x1d9e60(0x35b)],'linkPreview':_0x10bd88['linkPreview']},'textMessage':{'text':_0x177a30}},_0x2f011f=null;try{let _0x366401=await this['textMessage'](_0x12eb76);if(_0x366401&&_0x366401[_0x1d9e60(0x381)])return{'error':!0x1,'id':_0x366401[_0x1d9e60(0x202)]['id']};_0x2f011f=JSON[_0x1d9e60(0x176)](_0x366401),this[_0x1d9e60(0x74b)][_0x1d9e60(0x56b)](this[_0x1d9e60(0x4d8)]+'\x20('+this[_0x1d9e60(0x753)]['wuid']+_0x1d9e60(0x839)+_0x2f011f);}catch(_0x3e1f15){this[_0x1d9e60(0x74b)]['error'](this[_0x1d9e60(0x4d8)]+'\x20('+this[_0x1d9e60(0x753)][_0x1d9e60(0x3b8)]+_0x1d9e60(0x4b0)+(_0x3e1f15 instanceof Error?_0x3e1f15[_0x1d9e60(0x35e)]:JSON[_0x1d9e60(0x176)](_0x3e1f15,null,0x2))),_0x2f011f=_0x3e1f15['message'];}if(_0x2f011f)return{'error':!0x0,'detail':(typeof _0x2f011f==_0x1d9e60(0x6ae)?JSON[_0x1d9e60(0x176)](_0x2f011f,null,0x2):_0x2f011f)[_0x1d9e60(0x828)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x391b28,_0x1e3e83){const _0x132bbd=a0_0x217659;this[_0x132bbd(0x74b)][_0x132bbd(0x56b)](this[_0x132bbd(0x4d8)]+'\x20('+this[_0x132bbd(0x753)][_0x132bbd(0x3b8)]+_0x132bbd(0x1c9)+_0x1e3e83+'\x27');let _0x43405f;_0x391b28[_0x132bbd(0x1dc)]&&_0x391b28[_0x132bbd(0x1dc)][_0x132bbd(0xf4)]>0x0&&(_0x43405f=await this[_0x132bbd(0x4b8)](_0x391b28[_0x132bbd(0x1dc)],_0x1e3e83));let _0x22c9ce={'number':_0x1e3e83,'options':{'delay':_0x391b28[_0x132bbd(0x35b)],'linkPreview':_0x391b28[_0x132bbd(0x31a)]},'mediaMessage':{'mediatype':_0x391b28[_0x132bbd(0x149)],'caption':_0x43405f,'media':_0x391b28['urlOrBase64']}},_0x2fca10=null;try{let _0x3dde60=await this[_0x132bbd(0x624)](_0x22c9ce);if(_0x3dde60&&_0x3dde60[_0x132bbd(0x381)])return{'error':!0x1,'id':_0x3dde60['key']['id']};_0x2fca10=JSON[_0x132bbd(0x176)](_0x3dde60),this[_0x132bbd(0x74b)][_0x132bbd(0x56b)](this[_0x132bbd(0x4d8)]+'\x20('+this['instance'][_0x132bbd(0x3b8)]+'):\x20'+_0x2fca10);}catch(_0x42abda){this[_0x132bbd(0x74b)][_0x132bbd(0x310)](this[_0x132bbd(0x4d8)]+'\x20('+this[_0x132bbd(0x753)][_0x132bbd(0x3b8)]+_0x132bbd(0x6c0)+(_0x42abda instanceof Error?_0x42abda[_0x132bbd(0x35e)]:JSON['stringify'](_0x42abda,null,0x2))),_0x2fca10=_0x42abda[_0x132bbd(0x35e)];}if(_0x2fca10)return{'error':!0x0,'detail':(typeof _0x2fca10==_0x132bbd(0x6ae)?JSON['stringify'](_0x2fca10,null,0x2):_0x2fca10)[_0x132bbd(0x828)](/[\[\]{}\n]/g,'\x20')[_0x132bbd(0x828)](/  +/g,'\x20')};}async[a0_0x217659(0x56d)](_0x35237d,_0x1f00e1){const _0x4461f8=a0_0x217659;this[_0x4461f8(0x74b)][_0x4461f8(0x56b)](this[_0x4461f8(0x4d8)]+'\x20('+this[_0x4461f8(0x753)][_0x4461f8(0x3b8)]+_0x4461f8(0x77f)+_0x1f00e1+'\x27');let _0x40acb8={'number':_0x1f00e1,'options':{'delay':_0x35237d[_0x4461f8(0x35b)]},'audioMessage':{'audio':_0x35237d[_0x4461f8(0x5ab)]}},_0x111a86=null;try{let _0x393cd7=await this['audioWhatsapp'](_0x40acb8);if(_0x393cd7&&_0x393cd7['status'])return{'error':!0x1,'id':_0x393cd7[_0x4461f8(0x202)]['id']};_0x111a86=JSON[_0x4461f8(0x176)](_0x393cd7),this[_0x4461f8(0x74b)][_0x4461f8(0x56b)](this[_0x4461f8(0x4d8)]+'\x20('+this[_0x4461f8(0x753)][_0x4461f8(0x3b8)]+_0x4461f8(0x839)+_0x111a86);}catch(_0x297383){this[_0x4461f8(0x74b)][_0x4461f8(0x310)](this[_0x4461f8(0x4d8)]+'\x20('+this[_0x4461f8(0x753)]['wuid']+_0x4461f8(0x713)+(_0x297383 instanceof Error?_0x297383[_0x4461f8(0x35e)]:JSON[_0x4461f8(0x176)](_0x297383,null,0x2))),_0x111a86=_0x297383[_0x4461f8(0x35e)];}if(_0x111a86)return{'error':!0x0,'detail':(typeof _0x111a86==_0x4461f8(0x6ae)?JSON[_0x4461f8(0x176)](_0x111a86,null,0x2):_0x111a86)[_0x4461f8(0x828)](/[\[\]{}\n]/g,'\x20')[_0x4461f8(0x828)](/  +/g,'\x20')};}async['groupDesc'](_0x496c1a){const _0x270ee7=a0_0x217659;try{return await this[_0x270ee7(0x136)][_0x270ee7(0x56a)](_0x496c1a['groupJid'],_0x496c1a[_0x270ee7(0x88f)]),{'update':_0x270ee7(0x503)};}catch(_0x51234d){let _0x2d6561=_0x270ee7(0x63c),_0x2db273=_0x51234d instanceof Error?_0x51234d[_0x270ee7(0x35e)]:typeof _0x51234d==_0x270ee7(0x6ae)?JSON[_0x270ee7(0x176)](_0x51234d):_0x51234d,_0x2b7b49=_0x2d6561+':\x20'+_0x2db273;throw this[_0x270ee7(0x74b)][_0x270ee7(0x310)](this[_0x270ee7(0x4d8)]+'\x20('+this[_0x270ee7(0x753)][_0x270ee7(0x3b8)]+_0x270ee7(0x839)+_0x2b7b49),new x(_0x2b7b49);}}async[a0_0x217659(0x59e)](_0x2ff147){const _0x1a5d4d=a0_0x217659;try{return await this['client']['groupUpdateSubject'](_0x2ff147[_0x1a5d4d(0x2c3)],_0x2ff147['name']),{'update':'success'};}catch(_0x2f2749){let _0x336286='Falha\x20ao\x20processar\x20a\x20solicitao\x20groupName',_0x2572cc=_0x2f2749 instanceof Error?_0x2f2749[_0x1a5d4d(0x35e)]:typeof _0x2f2749==_0x1a5d4d(0x6ae)?JSON[_0x1a5d4d(0x176)](_0x2f2749):_0x2f2749,_0x48f94d=_0x336286+':\x20'+_0x2572cc;throw this[_0x1a5d4d(0x74b)][_0x1a5d4d(0x310)](this[_0x1a5d4d(0x4d8)]+'\x20('+this[_0x1a5d4d(0x753)][_0x1a5d4d(0x3b8)]+_0x1a5d4d(0x839)+_0x48f94d),new x(_0x48f94d);}}async[a0_0x217659(0xeb)](_0x509ca9){const _0x4cb19f=a0_0x217659;try{let _0x5591fd=await this['client'][_0x4cb19f(0x5c1)](_0x509ca9['groupJid'],_0x509ca9[_0x4cb19f(0x457)]);return{'success':!0x0};}catch(_0x530367){let _0x401a89=_0x4cb19f(0x579),_0x59fdee=_0x530367 instanceof Error?_0x530367['message']:typeof _0x530367==_0x4cb19f(0x6ae)?JSON[_0x4cb19f(0x176)](_0x530367):_0x530367,_0x4ee047=_0x401a89+':\x20'+_0x59fdee;throw this[_0x4cb19f(0x74b)][_0x4cb19f(0x310)](this['instanceName']+'\x20('+this[_0x4cb19f(0x753)][_0x4cb19f(0x3b8)]+_0x4cb19f(0x839)+_0x4ee047),new x(_0x4ee047);}}async[a0_0x217659(0x80b)](_0x4c2aaf){const _0x29f313=a0_0x217659;try{return await this[_0x29f313(0x136)][_0x29f313(0x834)](_0x4c2aaf[_0x29f313(0x2c3)],_0x4c2aaf[_0x29f313(0x784)]),{'update':_0x29f313(0x503)};}catch(_0x150c3b){let _0x2f8f3c=_0x29f313(0x4ae),_0x4e7c3a=_0x150c3b instanceof Error?_0x150c3b[_0x29f313(0x35e)]:typeof _0x150c3b==_0x29f313(0x6ae)?JSON['stringify'](_0x150c3b):_0x150c3b,_0x31e942=_0x2f8f3c+':\x20'+_0x4e7c3a;throw this['logger'][_0x29f313(0x310)](this[_0x29f313(0x4d8)]+'\x20('+this['instance'][_0x29f313(0x3b8)]+_0x29f313(0x839)+_0x31e942),new x(_0x31e942);}}async[a0_0x217659(0x25e)](_0x12f7a7){const _0x350b44=a0_0x217659;try{let _0x28fac2;if((0x0,J['isURL'])(_0x12f7a7[_0x350b44(0x63e)])){let _0x49bbfe=new Date()['getTime'](),_0x4a5ac0=_0x12f7a7[_0x350b44(0x63e)]+'?timestamp='+_0x49bbfe;_0x28fac2=(await K[_0x350b44(0x85a)][_0x350b44(0x3f4)](_0x4a5ac0,{'responseType':_0x350b44(0x725)}))[_0x350b44(0x5a3)];}else{if((0x0,J[_0x350b44(0x639)])(_0x12f7a7['image']))_0x28fac2=Buffer[_0x350b44(0x73a)](_0x12f7a7['image'],_0x350b44(0x80f));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x350b44(0x136)][_0x350b44(0x611)](_0x12f7a7[_0x350b44(0x2c3)],_0x28fac2),{'update':_0x350b44(0x503)};}catch(_0x560c40){let _0x4809e2=_0x350b44(0x63d),_0x3264ec=_0x560c40 instanceof Error?_0x560c40[_0x350b44(0x35e)]:typeof _0x560c40==_0x350b44(0x6ae)?JSON['stringify'](_0x560c40):_0x560c40,_0x4b2285=_0x4809e2+':\x20'+_0x3264ec;throw this[_0x350b44(0x74b)][_0x350b44(0x310)](this[_0x350b44(0x4d8)]+'\x20('+this[_0x350b44(0x753)][_0x350b44(0x3b8)]+_0x350b44(0x839)+_0x4b2285),new x(_0x4b2285);}}},jt=class u{constructor(_0xe490d7,_0x8a786,_0x1e57a1){const _0x21f72c=a0_0x217659;this[_0x21f72c(0x79e)]=_0xe490d7,this[_0x21f72c(0x4e1)]=_0x8a786,this['repository']=_0x1e57a1,this['db']={},this[_0x21f72c(0x80e)]={},this['logger']=new $(u['name']),this[_0x21f72c(0x5ec)]={},(this['removeInstance'](),this[_0x21f72c(0x5d5)](),Object[_0x21f72c(0x777)](this['db'],_0x8a786['get'](_0x21f72c(0x3e2))),Object['assign'](this[_0x21f72c(0x80e)],_0x8a786[_0x21f72c(0x3f4)]('REDIS')),this[_0x21f72c(0x507)]=this['db'][_0x21f72c(0x858)]?this[_0x21f72c(0x471)][_0x21f72c(0x255)]?.['db'](this['db'][_0x21f72c(0x291)][_0x21f72c(0x49b)]+_0x21f72c(0x317)):void 0x0,this[_0x21f72c(0x62d)]=this[_0x21f72c(0x80e)]['ENABLED']?new ue(this[_0x21f72c(0x80e)]):void 0x0);}async[a0_0x217659(0x302)](_0x4ea875){const _0x210afb=a0_0x217659;if(_0x4ea875&&!this[_0x210afb(0x5ec)][_0x4ea875])throw new U(_0x210afb(0x837)+_0x4ea875+'\x22\x20not\x20found');let _0x3b289c=[];for await(let [_0x465f9a,_0x2b821d]of Object['entries'](this['waInstances']))if(_0x2b821d&&_0x2b821d['connectionStatus'][_0x210afb(0x59f)]===_0x210afb(0x232)){let _0x35709d=await this[_0x210afb(0x471)][_0x210afb(0x2d5)]['find'](_0x465f9a);_0x3b289c[_0x210afb(0x3e3)]({'instance':{'instanceName':_0x465f9a,'apikey':_0x35709d['apikey'],'owner':_0x2b821d[_0x210afb(0x3b8)],'profileName':await _0x2b821d[_0x210afb(0x35a)]()||_0x210afb(0x4aa),'profilePictureUrl':_0x2b821d[_0x210afb(0x19d)]}});}return _0x3b289c[_0x210afb(0x6b5)](_0x22001f=>_0x22001f[_0x210afb(0x753)]['instanceName']===_0x4ea875)??_0x3b289c;}async[a0_0x217659(0x674)](_0x231888){const _0x307d93=a0_0x217659;if(this['db'][_0x307d93(0x858)]&&(await this[_0x307d93(0x471)][_0x307d93(0x255)][_0x307d93(0x195)](),(await this[_0x307d93(0x507)]['collections']())['length']>0x0&&await this[_0x307d93(0x507)][_0x307d93(0x4b5)](_0x231888)),this[_0x307d93(0x80e)][_0x307d93(0x858)]){this['cache'][_0x307d93(0x88e)]=_0x231888,await this['cache'][_0x307d93(0x1c0)]();return;}}async['loadInstance'](){const _0x52af39=a0_0x217659;await this[_0x52af39(0x7f1)]();let _0x2984b5=async _0x67e728=>{const _0x865bfa=_0x52af39;let _0x35f663=new $e(this[_0x865bfa(0x4e1)],this[_0x865bfa(0x79e)],this['repository']);_0x35f663[_0x865bfa(0x4d8)]=_0x67e728,await _0x35f663[_0x865bfa(0x680)](),this[_0x865bfa(0x5ec)][_0x67e728]=_0x35f663;};try{if(this[_0x52af39(0x80e)][_0x52af39(0x858)]){let _0x321560=await this[_0x52af39(0x62d)]['instanceKeys']();_0x321560?.[_0x52af39(0xf4)]>0x0&&_0x321560[_0x52af39(0x3f7)](async _0x5cf657=>await _0x2984b5(_0x5cf657[_0x52af39(0x6a1)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x52af39(0x471)][_0x52af39(0x255)][_0x52af39(0x195)]();let _0x1453ed=await this[_0x52af39(0x507)]['collections']();_0x1453ed[_0x52af39(0xf4)]>0x0&&_0x1453ed['forEach'](async _0x25ea56=>await _0x2984b5(_0x25ea56['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x52f8b9){this[_0x52af39(0x74b)][_0x52af39(0x310)](_0x52f8b9);}}async[a0_0x217659(0x7dc)](){const _0xe63f29=a0_0x217659;try{let _0x37cec4=await this['repository']['auth'][_0xe63f29(0x77e)]({'online':!0x1});console[_0xe63f29(0x829)](_0xe63f29(0x67e)+_0x37cec4[_0xe63f29(0xf4)]);let _0x3e37ee={'online':!0x1},_0x43eef0=await this['repository'][_0xe63f29(0x2d5)][_0xe63f29(0x4d5)](_0x3e37ee);console['log'](_0xe63f29(0x593)+_0x43eef0[_0xe63f29(0x368)]);}catch(_0x54e10f){console[_0xe63f29(0x310)](_0xe63f29(0x816),_0x54e10f);}}async[a0_0x217659(0x7f1)](){const _0x4b7ecd=a0_0x217659;try{let _0xd9dca5={'online':!0x1},_0x3a618f={'online':!0x1,'lastDisconnect':Date[_0x4b7ecd(0x11c)]()},_0x20b131=await this[_0x4b7ecd(0x471)][_0x4b7ecd(0x2d5)][_0x4b7ecd(0x3ad)](_0xd9dca5,_0x3a618f);await this['cleanDisconnectedInstances']();}catch(_0x1c521b){console['error'](_0x4b7ecd(0x1d3),_0x1c521b);}}[a0_0x217659(0x175)](){this['eventEmitter']['on']('remove.instance',async _0x404ef1=>{const _0xa20ef3=a0_0x749e;try{this['waInstances'][_0x404ef1]=void 0x0;}catch{}try{this[_0xa20ef3(0x674)](_0x404ef1);}finally{this[_0xa20ef3(0x74b)]['warn']('Instance\x20\x22'+_0x404ef1+_0xa20ef3(0x242));}});}['noConnection'](){const _0x56a138=a0_0x217659;this[_0x56a138(0x79e)]['on'](_0x56a138(0x643),async _0x50337d=>{const _0x3de593=_0x56a138;try{this[_0x3de593(0x5ec)][_0x50337d]=void 0x0;}catch{}try{this['cleaningUp'](_0x50337d);}finally{this['logger']['warn'](_0x3de593(0x837)+_0x50337d+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Jt=class extends O{['getChatModelForOwner'](_0x316025){return ta(_0x316025);}async[a0_0x217659(0x2bc)](_0x87c482){const _0x384b63=a0_0x217659;if(_0x87c482[_0x384b63(0xf4)]!==0x0)try{return{'insertCount':(await this[_0x384b63(0x2c9)](_0x87c482[0x0][_0x384b63(0x401)])[_0x384b63(0x371)]([..._0x87c482]))['length']};}catch(_0xbd21f9){return _0xbd21f9;}}async[a0_0x217659(0x6b5)](_0x96b7c0,_0x53fb19){const _0x5cad00=a0_0x217659;try{let _0x4b30ad=this[_0x5cad00(0x2c9)](_0x53fb19),_0x3f09ba=A(_0x96b7c0[_0x5cad00(0x46f)]);return await _0x4b30ad[_0x5cad00(0x6b5)](_0x3f09ba)['sort']({'lastmsg':-0x1})[_0x5cad00(0x135)](_0x96b7c0?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x217659(0x550)](_0x139863,_0x9ed7f5){const _0xa97251=a0_0x217659;try{let _0x2af65e=this[_0xa97251(0x2c9)](_0x9ed7f5),_0x2480f2=A(_0x139863[_0xa97251(0x46f)]);return _0x2480f2[_0xa97251(0x580)]={'$ne':[]},await _0x2af65e['find'](_0x2480f2)['sort']({'lastmsg':-0x1})[_0xa97251(0x135)](_0x139863?.[_0xa97251(0x135)]??0x0)[_0xa97251(0x14f)]();}catch{return[];}}async[a0_0x217659(0x85c)](_0x4c7c40,_0x1aa766){const _0x2c9c8b=a0_0x217659;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x1aa766)[_0x2c9c8b(0x4d5)]({..._0x4c7c40['where']}))[_0x2c9c8b(0x7a7)]};}catch(_0x249ce9){return{'error':_0x249ce9?.[_0x2c9c8b(0x76d)]()};}}async[a0_0x217659(0x5ba)](_0x2ec6d7,_0x59a9a0){const _0x2c7f86=a0_0x217659;try{return await this[_0x2c7f86(0x2c9)](_0x59a9a0)[_0x2c7f86(0x4d5)]({..._0x2ec6d7[_0x2c7f86(0x46f)]}),[];}catch(_0x35838d){return{'error':_0x35838d?.[_0x2c7f86(0x76d)]()};}}async[a0_0x217659(0x567)](_0x5479e5,_0x4c89de){const _0x4ff686=a0_0x217659;try{let _0x1dd310=this[_0x4ff686(0x2c9)](_0x4c89de),_0x53d538=A(_0x5479e5[_0x4ff686(0x46f)]);return await _0x1dd310[_0x4ff686(0x567)](_0x53d538)[_0x4ff686(0x14f)]();}catch{return null;}}async[a0_0x217659(0x3bb)](_0x104992,_0x13015e,_0x4e6b93,_0x459c35,_0x43a858=a0_0x217659(0x68d)){const _0x52bf12=a0_0x217659;try{let _0x446be0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x459c35},_0x58834e=this['getChatModelForOwner'](_0x4e6b93),_0x588bc9=A(_0x104992[_0x52bf12(0x46f)]);Object['keys'](_0x13015e)[_0x52bf12(0x3f7)](_0x5dc8c3=>{_0x13015e[_0x5dc8c3]==null&&delete _0x13015e[_0x5dc8c3];});let _0x2ab51a={};return _0x2ab51a[_0x43a858]=_0x13015e,await _0x58834e[_0x52bf12(0x7e8)](_0x588bc9,_0x2ab51a,_0x446be0);}catch(_0x39fd3a){return console[_0x52bf12(0x310)](_0x39fd3a),null;}}async[a0_0x217659(0x34d)](_0x27eeff){const _0x26b42b=a0_0x217659;try{let _0x477dc0=this[_0x26b42b(0x2c9)](_0x27eeff[0x0][_0x26b42b(0x805)][_0x26b42b(0x46f)]['owner']),_0x47bf70=_0x27eeff[_0x26b42b(0x557)](_0x290653=>({'updateOne':{'filter':{..._0x290653[_0x26b42b(0x805)]['where']},'update':{'$set':_0x290653['update']},'upsert':!0x0}})),_0xa04e0c=await _0x477dc0[_0x26b42b(0x864)](_0x47bf70);return _0xa04e0c[_0x26b42b(0x4d4)]+_0xa04e0c['upsertedCount'];}catch(_0xd214a3){return console['error'](_0xd214a3),0x0;}}async[a0_0x217659(0x821)](_0xd9f72d){const _0x27ddfd=a0_0x217659;try{let _0x5e7c91={'group_isCommunity':'','group_announce':'','group_size':''},_0x4e87da={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2d6120={'$unset':_0x5e7c91};return(await this[_0x27ddfd(0x2c9)](_0xd9f72d)[_0x27ddfd(0x34d)](_0x4e87da,_0x2d6120))['modifiedCount'];}catch(_0x4322be){return console[_0x27ddfd(0x310)](_0x27ddfd(0x531),_0x4322be),0x0;}}async[a0_0x217659(0x403)](_0x15de7d){const _0x1fd616=a0_0x217659;try{let _0x4720fd=this['getChatModelForOwner'](_0x15de7d),_0x2614e1={'leadInfo.etiquetas':{'$exists':!0x1}},_0x12ac58={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4720fd[_0x1fd616(0x34d)](_0x2614e1,_0x12ac58))['modifiedCount'];}catch(_0x3def89){return console['error'](_0x3def89),0x0;}}async['updateMissingTags'](_0x532ff8){const _0xb089f1=a0_0x217659;try{let _0x235af0=this[_0xb089f1(0x2c9)](_0x532ff8),_0xe4003c={'leadInfo.tags':{'$exists':!0x1}},_0x3a8400={'$set':{'leadInfo.tags':[]}};return(await _0x235af0[_0xb089f1(0x34d)](_0xe4003c,_0x3a8400))[_0xb089f1(0x4d4)];}catch(_0xc72646){return console[_0xb089f1(0x310)](_0xc72646),0x0;}}async[a0_0x217659(0x2b8)](_0x4382e2){const _0x956246=a0_0x217659;try{let _0x5866ba=this[_0x956246(0x2c9)](_0x4382e2),_0x2ac9de={'leadInfo.customFields':{'$exists':!0x1}},_0x23f20e={'$set':{'leadInfo.customFields':[]}};return(await _0x5866ba[_0x956246(0x34d)](_0x2ac9de,_0x23f20e))[_0x956246(0x4d4)];}catch(_0x3f2952){return console[_0x956246(0x310)](_0x3f2952),0x0;}}async[a0_0x217659(0x371)](_0x5dacec,_0x540c0e){const _0x59d8d6=a0_0x217659;if(!Array[_0x59d8d6(0x3d6)](_0x5dacec)||_0x5dacec[_0x59d8d6(0xf4)]===0x0)throw new Error(_0x59d8d6(0x701));try{return(await this[_0x59d8d6(0x2c9)](_0x540c0e)[_0x59d8d6(0x371)](_0x5dacec))['length'];}catch(_0x36b813){throw console[_0x59d8d6(0x310)](_0x59d8d6(0x708),_0x36b813),_0x36b813;}}async['deleteChat'](_0x4c1a95,_0x49d332){const _0xd61201=a0_0x217659;try{await this[_0xd61201(0x2c9)](_0x49d332)['deleteOne']({'_id':_0x4c1a95});}catch(_0x50a5b2){throw console[_0xd61201(0x310)](_0xd61201(0x4b9),_0x50a5b2),_0x50a5b2;}}},qt=class extends O{constructor(_0x28e01c,_0x3326b1,_0x3d8c53){const _0x344a1e=a0_0x217659;super(_0x3326b1),this['cacheContactModel']=_0x28e01c,this[_0x344a1e(0x4e1)]=_0x3326b1,this[_0x344a1e(0x879)]=_0x3d8c53;}async[a0_0x217659(0x2bc)](_0x2468d5){const _0x5161fa=a0_0x217659;if(_0x2468d5[_0x5161fa(0xf4)]!==0x0)try{return{'insertCount':(await this[_0x5161fa(0x460)][_0x5161fa(0x371)]([..._0x2468d5]))[_0x5161fa(0xf4)]};}catch(_0x2f1acb){return _0x2f1acb;}}async[a0_0x217659(0x772)](_0x5ee95c,_0x45a63d){const _0x288527=a0_0x217659;try{let _0x69598e=A(_0x5ee95c['where']);return{'updatedCount':(await this[_0x288527(0x460)][_0x288527(0x34d)](_0x69598e,{'$set':_0x45a63d}))['modifiedCount']};}catch(_0x3fb6da){return console[_0x288527(0x310)](_0x288527(0x6ee),_0x3fb6da),{'error':_0x3fb6da[_0x288527(0x76d)]()};}}async[a0_0x217659(0x86e)](_0x2ffc58){const _0x3eedd0=a0_0x217659;try{let _0x4df40f={'_id':{'$in':_0x2ffc58}};return await this[_0x3eedd0(0x460)]['find'](_0x4df40f)['lean']();}catch(_0x3ed315){return console[_0x3eedd0(0x310)]('Error\x20finding\x20many\x20contacts:',_0x3ed315),[];}}async['delete'](_0x90f8b6){const _0x4acb36=a0_0x217659;try{return{'deletedCount':(await this[_0x4acb36(0x460)][_0x4acb36(0x4d5)]({..._0x90f8b6[_0x4acb36(0x46f)]}))[_0x4acb36(0x7a7)]};}catch(_0x55a7ad){return{'error':_0x55a7ad?.[_0x4acb36(0x76d)]()};}}async['find'](_0x2f9fc2){const _0x336ba4=a0_0x217659;try{let _0x4531d3=A(_0x2f9fc2['where']);return await this['cacheContactModel'][_0x336ba4(0x6b5)](_0x4531d3)[_0x336ba4(0x135)](_0x2f9fc2?.['limit']??0x0)[_0x336ba4(0x14f)]();}catch{return[];}}async['findOne'](_0x28d1ab){const _0x38b2f9=a0_0x217659;try{let _0xbaae9c=A(_0x28d1ab[_0x38b2f9(0x46f)]);return await this[_0x38b2f9(0x460)]['findOne'](_0xbaae9c)[_0x38b2f9(0x14f)]();}catch{return null;}}},Vt=class extends O{constructor(_0x3bf767,_0xd39a26,_0x22ba03){super(_0xd39a26),this['messageLogsModel']=_0x3bf767,this['configService']=_0xd39a26,this['dbConnection']=_0x22ba03;}async[a0_0x217659(0x2bc)](_0x21cc19){const _0x3a34aa=a0_0x217659;if(_0x21cc19[_0x3a34aa(0xf4)]!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x3a34aa(0x371)]([..._0x21cc19]))['length']};}catch(_0xa54d){return _0xa54d;}}async[a0_0x217659(0x772)](_0x4ec8fc,_0x474040){const _0x25e1c0=a0_0x217659;try{let _0x793941=A(_0x4ec8fc[_0x25e1c0(0x46f)]);return{'updatedCount':(await this[_0x25e1c0(0x321)][_0x25e1c0(0x34d)](_0x793941,{'$set':_0x474040}))[_0x25e1c0(0x4d4)]};}catch(_0x3fe085){return console[_0x25e1c0(0x310)](_0x25e1c0(0x6ee),_0x3fe085),{'error':_0x3fe085['toString']()};}}async[a0_0x217659(0x85c)](_0x5c89de){const _0x29a10d=a0_0x217659;try{return{'deletedCount':(await this[_0x29a10d(0x321)][_0x29a10d(0x4d5)]({..._0x5c89de[_0x29a10d(0x46f)]}))[_0x29a10d(0x7a7)]};}catch(_0x4aa6f3){return{'error':_0x4aa6f3?.[_0x29a10d(0x76d)]()};}}async['findOne'](_0x143921){const _0xbc663=a0_0x217659;try{let _0x2b4cc2=A(_0x143921[_0xbc663(0x46f)]);return await this[_0xbc663(0x321)][_0xbc663(0x567)](_0x2b4cc2)[_0xbc663(0x14f)]();}catch{return null;}}},Gt=class extends O{[a0_0x217659(0x4b6)](_0x1c795c){return va(_0x1c795c);}async[a0_0x217659(0x3bb)](_0x178f9a,_0x44db23,_0x5958c2,_0x3a7a4a){const _0xfa7409=a0_0x217659;try{let _0x1ad167={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3a7a4a},_0x2e6de6=this[_0xfa7409(0x4b6)](_0x5958c2),_0x3f186a=A(_0x178f9a['where']);return await _0x2e6de6[_0xfa7409(0x7e8)](_0x3f186a,{'$set':_0x44db23},_0x1ad167);}catch(_0x4e2283){return console[_0xfa7409(0x310)](_0x4e2283),null;}}async[a0_0x217659(0x6b5)](_0x5609d1,_0x5946ae){const _0x4f3c4f=a0_0x217659;try{let _0x2dab81=this['getLabelModelForOwner'](_0x5946ae),_0x3fbc74=A(_0x5609d1[_0x4f3c4f(0x46f)]);return await _0x2dab81[_0x4f3c4f(0x6b5)](_0x3fbc74);}catch(_0x2b6312){console['error'](_0x2b6312);}}async['delete'](_0x373c6c,_0x29b3fb){const _0x44c793=a0_0x217659;try{let _0x4d61ea=this[_0x44c793(0x4b6)](_0x29b3fb),_0x565489=A(_0x373c6c['where']);await _0x4d61ea[_0x44c793(0x4d5)](_0x565489);}catch(_0x5eabd1){console['error'](_0x5eabd1);}}async[a0_0x217659(0x5ba)](_0xde7c03){const _0x4f7a25=a0_0x217659;try{return await this['getLabelModelForOwner'](_0xde7c03)[_0x4f7a25(0x147)][_0x4f7a25(0x30d)](),{'success':!0x0};}catch(_0x436eed){return console[_0x4f7a25(0x310)](_0x436eed),{'success':!0x1,'error':_0x436eed};}}},Bt=class{constructor(_0x27bad1){const _0x24ab07=a0_0x217659;this[_0x24ab07(0x282)]=_0x27bad1;}async[a0_0x217659(0x479)]({instanceName:_0x152dc7},_0x20b5be){const _0x314146=a0_0x217659;return await this[_0x314146(0x282)][_0x314146(0x5ec)][_0x152dc7][_0x314146(0x479)](_0x20b5be);}async['whatsappNumber']({instanceName:_0x4cdd81},_0x33dec7){const _0x1feee2=a0_0x217659;return await this[_0x1feee2(0x282)]['waInstances'][_0x4cdd81]['whatsappNumber'](_0x33dec7);}async['importChats']({instanceName:_0x4fcfd0},_0x28cd6d){const _0x4466d0=a0_0x217659;return await this[_0x4466d0(0x282)]['waInstances'][_0x4fcfd0][_0x4466d0(0x49d)](_0x28cd6d);}async[a0_0x217659(0x714)]({instanceName:_0x3271be},_0x5a05c5){const _0x399b34=a0_0x217659;return await this[_0x399b34(0x282)][_0x399b34(0x5ec)][_0x3271be][_0x399b34(0x830)](_0x5a05c5);}async[a0_0x217659(0x14a)]({instanceName:_0x5d47e4},_0x292644){const _0x41ae8c=a0_0x217659;return await this[_0x41ae8c(0x282)]['waInstances'][_0x5d47e4][_0x41ae8c(0x14a)](_0x292644);}async[a0_0x217659(0x5e9)]({instanceName:_0x1bf509},_0x1d1604){const _0x404702=a0_0x217659;return await this[_0x404702(0x282)][_0x404702(0x5ec)][_0x1bf509][_0x404702(0x5e9)](_0x1d1604);}async[a0_0x217659(0x802)]({instanceName:_0x81ea76},_0x241a42){return await this['waMonitor']['waInstances'][_0x81ea76]['profilePicture'](_0x241a42['number']);}async[a0_0x217659(0x7e7)]({instanceName:_0x35c00f},_0x2fd242){const _0x41e674=a0_0x217659;return await this[_0x41e674(0x282)][_0x41e674(0x5ec)][_0x35c00f][_0x41e674(0x7e7)](_0x2fd242[_0x41e674(0x626)]);}async[a0_0x217659(0x3fc)]({instanceName:_0x25af82},_0x8f770a){const _0x58f018=a0_0x217659;return await this[_0x58f018(0x282)][_0x58f018(0x5ec)][_0x25af82]['updatePresence'](_0x8f770a);}async[a0_0x217659(0x5d1)]({instanceName:_0x5b2dd9},_0x3a0a97){const _0x25de1f=a0_0x217659;return await this[_0x25de1f(0x282)][_0x25de1f(0x5ec)][_0x5b2dd9]['fetchContacts'](_0x3a0a97);}async[a0_0x217659(0x405)]({instanceName:_0x4b3d49},_0x190275){const _0x195bf7=a0_0x217659;return await this[_0x195bf7(0x282)]['waInstances'][_0x4b3d49]['getBase64FromMediaMessage'](_0x190275);}async['fetchMessages']({instanceName:_0x1800ae},_0x87ca4f){const _0x428a42=a0_0x217659;return await this['waMonitor'][_0x428a42(0x5ec)][_0x1800ae]['fetchMessages'](_0x87ca4f);}async['fetchLabels']({instanceName:_0x2461c7}){const _0x4c851e=a0_0x217659;return await this['waMonitor'][_0x4c851e(0x5ec)][_0x2461c7]['fetchLabels']();}async['fetchChats']({instanceName:_0x4c050b}){const _0x1b7243=a0_0x217659;return await this[_0x1b7243(0x282)][_0x1b7243(0x5ec)][_0x4c050b][_0x1b7243(0x140)]();}async[a0_0x217659(0x444)]({instanceName:_0x401908}){const _0x386b5c=a0_0x217659;return await this[_0x386b5c(0x282)]['waInstances'][_0x401908][_0x386b5c(0x444)]();}async[a0_0x217659(0x698)]({instanceName:_0x54214a},_0x55792d){const _0x459ef2=a0_0x217659;return await this['waMonitor']['waInstances'][_0x54214a][_0x459ef2(0x698)](_0x55792d);}async[a0_0x217659(0x4fe)]({instanceName:_0x504dd8},_0x54a4bf){const _0x2a6001=a0_0x217659;return await this[_0x2a6001(0x282)][_0x2a6001(0x5ec)][_0x504dd8]['fetchBusinessProfile'](_0x54a4bf[_0x2a6001(0x626)]);}async[a0_0x217659(0x7f3)]({instanceName:_0x3c2bc6},_0x348ab1){const _0x577039=a0_0x217659;return await this[_0x577039(0x282)][_0x577039(0x5ec)][_0x3c2bc6][_0x577039(0x7f3)](_0x348ab1['name']);}async[a0_0x217659(0x276)]({instanceName:_0x22a18b},_0x9aee22){const _0x5726f2=a0_0x217659;return await this['waMonitor'][_0x5726f2(0x5ec)][_0x22a18b]['updateProfileStatus'](_0x9aee22[_0x5726f2(0x381)]);}async[a0_0x217659(0x611)]({instanceName:_0x35e7d5},_0x53dc4b){const _0x448110=a0_0x217659;return await this[_0x448110(0x282)][_0x448110(0x5ec)][_0x35e7d5][_0x448110(0x611)](_0x53dc4b[_0x448110(0x6bd)]);}async[a0_0x217659(0x895)]({instanceName:_0x51ce6e},_0x4ddc8e){const _0x4bfe19=a0_0x217659;return await this[_0x4bfe19(0x282)]['waInstances'][_0x51ce6e][_0x4bfe19(0x895)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x5c3298,_0x39c4fa,_0x15aacc,_0x42de12,_0x254e6e){const _0x49a0a4=a0_0x217659;this[_0x49a0a4(0x282)]=_0x5c3298,this[_0x49a0a4(0x4e1)]=_0x39c4fa,this['repository']=_0x15aacc,this['eventEmitter']=_0x42de12,this[_0x49a0a4(0x7d6)]=_0x254e6e,this['logger']=new $(u[_0x49a0a4(0x4f7)]);}async[a0_0x217659(0x167)]({instanceName:_0x431c6f,apikey:_0x1ee5dd,number:_0x1b1494,proxy:_0xb54fa9=!0x0}){const _0x152fa3=a0_0x217659;try{let _0x94b78f=new $e(this[_0x152fa3(0x4e1)],this[_0x152fa3(0x79e)],this[_0x152fa3(0x471)]);_0x94b78f[_0x152fa3(0x4d8)]=_0x431c6f,this[_0x152fa3(0x282)]['waInstances'][_0x94b78f['instanceName']]=_0x94b78f;let _0xba2329={};_0x1ee5dd?(await this[_0x152fa3(0x471)][_0x152fa3(0x2d5)][_0x152fa3(0x4a5)]({'apikey':_0x1ee5dd},_0x431c6f),_0xba2329[_0x152fa3(0x63a)]=_0x1ee5dd):_0xba2329=await this['authService']['generateHash']({'instanceName':_0x94b78f['instanceName']});let _0x2c8294;if(_0x1b1494){if(_0x2c8294=await this[_0x152fa3(0x692)](_0x1b1494),_0x2c8294[_0x152fa3(0x310)])throw new x(_0x2c8294[_0x152fa3(0x310)][_0x152fa3(0x76d)]());_0x1b1494=_0x2c8294[_0x152fa3(0x626)];}let _0x1df707;return await _0x94b78f[_0x152fa3(0x680)](_0x1b1494),await(0x0,Wt[_0x152fa3(0x35b)])(0xfa0),_0x1b1494&&await(0x0,Wt[_0x152fa3(0x35b)])(0xbb8),_0x1df707=_0x94b78f[_0x152fa3(0x5ee)],{'instance':{'instanceName':_0x94b78f['instanceName'],'status':_0x152fa3(0x4bd)},'hash':_0xba2329,'qrcode':_0x1df707};}catch(_0x5a78fb){throw this[_0x152fa3(0x74b)]['error'](_0x5a78fb),_0x5a78fb;}}async[a0_0x217659(0x26f)]({instanceName:_0x3d6db4,number:_0x3334c9=null}){const _0x564178=a0_0x217659;try{let _0x1c93b4=this['waMonitor'][_0x564178(0x5ec)][_0x3d6db4];switch(_0x1c93b4?.[_0x564178(0x44c)]?.[_0x564178(0x59f)]){case _0x564178(0x2c6):return await _0x1c93b4[_0x564178(0x680)](_0x3334c9),await(0x0,Wt[_0x564178(0x35b)])(0x7d0),_0x1c93b4[_0x564178(0x5ee)];case _0x564178(0x235):return _0x1c93b4[_0x564178(0x5ee)];default:return await this[_0x564178(0x766)]({'instanceName':_0x3d6db4});}}catch(_0x5e3dd){this[_0x564178(0x74b)][_0x564178(0x829)](_0x5e3dd);}}async[a0_0x217659(0x766)]({instanceName:_0xb2f5ba}){const _0x359315=a0_0x217659;let _0x64dab1=this['waMonitor'][_0x359315(0x5ec)][_0xb2f5ba][_0x359315(0x44c)],_0x34c1ff=null;_0x64dab1[_0x359315(0x59f)]===_0x359315(0x232)&&_0xb2f5ba&&(_0x34c1ff=await this[_0x359315(0x282)][_0x359315(0x302)](_0xb2f5ba));let _0x55a3d8=null;return _0x64dab1[_0x359315(0x59f)]===_0x359315(0x235)&&_0xb2f5ba&&(_0x55a3d8=this[_0x359315(0x282)][_0x359315(0x5ec)][_0xb2f5ba]['qrCode']),{'instance':_0xb2f5ba,'connectionStatus':_0x64dab1,'instanceInfo':_0x34c1ff,'qrcode':_0x55a3d8};}async[a0_0x217659(0x692)](_0x128008){const _0x1a4bf9=a0_0x217659;_0x128008=_0x128008[_0x1a4bf9(0x828)](/\D/g,'');let _0x13a619=Object['keys'](this[_0x1a4bf9(0x282)][_0x1a4bf9(0x5ec)])['filter'](_0x4dd58c=>{const _0x331651=_0x1a4bf9;let _0x3d2464=this['waMonitor'][_0x331651(0x5ec)][_0x4dd58c];return _0x3d2464&&_0x3d2464[_0x331651(0x44c)]&&_0x3d2464[_0x331651(0x44c)][_0x331651(0x59f)]===_0x331651(0x232);});if(_0x13a619[_0x1a4bf9(0xf4)]===0x0)return{'number':this['formatBRNumber'](_0x128008)};let _0x2952b6=Math[_0x1a4bf9(0x66d)](Math[_0x1a4bf9(0x584)]()*_0x13a619[_0x1a4bf9(0xf4)]),_0x34a383=_0x13a619[_0x2952b6];try{let _0x3aa28d=(await this[_0x1a4bf9(0x282)][_0x1a4bf9(0x5ec)][_0x34a383][_0x1a4bf9(0x148)]({'numbers':[_0x128008]}))[_0x1a4bf9(0x335)]();return _0x3aa28d[_0x1a4bf9(0x799)]?{'number':_0x3aa28d[_0x1a4bf9(0x560)][_0x1a4bf9(0x828)](_0x1a4bf9(0x1fc),'')}:{'number':_0x128008,'error':'Nmero\x20no\x20possui\x20WhatsApp.'};}catch(_0x18014f){return this[_0x1a4bf9(0x74b)][_0x1a4bf9(0x310)](_0x1a4bf9(0x552)+_0x18014f),{'number':_0x128008,'error':_0x1a4bf9(0x36f)};}}[a0_0x217659(0x1b6)](_0x4dee84){const _0x1d3706=a0_0x217659;let _0x51661e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1d3706(0x341)](_0x4dee84);if(_0x51661e&&_0x51661e[0x1]==='55'){let _0x335661=_0x51661e[0x2],_0x338eba=_0x51661e[0x3],_0x1be072=_0x51661e[0x4];if(parseInt(_0x335661)>=0x1f&&_0x338eba==='9')return _0x51661e[0x1]+_0x335661+_0x1be072;}return _0x4dee84;}async[a0_0x217659(0x395)]({instanceName:_0x1361ec}){const _0x19d643=a0_0x217659;try{return this[_0x19d643(0x282)][_0x19d643(0x5ec)][_0x1361ec]?.['client']?.['ws']?.['close'](),{'status':_0x19d643(0x720),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x41a3f9){this['logger'][_0x19d643(0x310)](_0x41a3f9);}}async['fetchInstances']({instanceName:_0x42710a}){const _0x55fe33=a0_0x217659;return _0x42710a?this[_0x55fe33(0x282)]['instanceInfo'](_0x42710a):this[_0x55fe33(0x282)][_0x55fe33(0x302)]();}async['logout']({instanceName:_0x551375}){const _0x4c145a=a0_0x217659;try{return await this[_0x4c145a(0x282)][_0x4c145a(0x5ec)][_0x551375]?.[_0x4c145a(0x136)]?.[_0x4c145a(0x16c)](_0x4c145a(0x301)+_0x551375),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2e9f0c){throw new x(_0x2e9f0c[_0x4c145a(0x76d)]());}}async[a0_0x217659(0x228)]({instanceName:_0x3cb53c}){const _0x20ddc9=a0_0x217659;if((await this[_0x20ddc9(0x766)]({'instanceName':_0x3cb53c}))[_0x20ddc9(0x44c)][_0x20ddc9(0x59f)]===_0x20ddc9(0x232))throw new m([_0x20ddc9(0x155),_0x20ddc9(0x526)]);try{return delete this[_0x20ddc9(0x282)][_0x20ddc9(0x5ec)][_0x3cb53c],{'error':!0x1,'message':_0x20ddc9(0x1da)};}catch(_0x29ebc9){throw new m(_0x29ebc9['toString']());}}},re=require('class-validator'),Ht=class{constructor(_0x757d5b){this['waMonitor']=_0x757d5b;}async['sendText']({instanceName:_0x575157},_0xfff34f){const _0x26f235=a0_0x217659;return await this[_0x26f235(0x282)][_0x26f235(0x5ec)][_0x575157][_0x26f235(0x2ff)](_0xfff34f);}async[a0_0x217659(0x4f3)]({instanceName:_0x127798},_0x4485ec){const _0x5769be=a0_0x217659;return await this['waMonitor'][_0x5769be(0x5ec)][_0x127798][_0x5769be(0x616)](_0x4485ec);}async[a0_0x217659(0x81e)]({instanceName:_0xa4a088},_0xb130f5){const _0x5a42fe=a0_0x217659;if((0x0,re[_0x5a42fe(0x639)])(_0xb130f5?.['mediaMessage']?.[_0x5a42fe(0x87d)])&&!_0xb130f5?.['mediaMessage']?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,re[_0x5a42fe(0x113)])(_0xb130f5?.[_0x5a42fe(0x624)]?.[_0x5a42fe(0x87d)])||(0x0,re[_0x5a42fe(0x639)])(_0xb130f5?.[_0x5a42fe(0x624)]?.[_0x5a42fe(0x87d)]))return await this[_0x5a42fe(0x282)][_0x5a42fe(0x5ec)][_0xa4a088]['mediaMessage'](_0xb130f5);throw new m(_0x5a42fe(0x67a));}async[a0_0x217659(0x5d6)]({instanceName:_0x26b88d},_0x1cf5c7){const _0x108139=a0_0x217659;if((0x0,re[_0x108139(0x113)])(_0x1cf5c7[_0x108139(0x843)][_0x108139(0x63e)])||(0x0,re['isBase64'])(_0x1cf5c7[_0x108139(0x843)][_0x108139(0x63e)]))return await this[_0x108139(0x282)][_0x108139(0x5ec)][_0x26b88d][_0x108139(0x3d7)](_0x1cf5c7);throw new m(_0x108139(0x67a));}async[a0_0x217659(0x13f)]({instanceName:_0x34e76b},_0x1ef817){const _0x32d2fc=a0_0x217659;if((0x0,re[_0x32d2fc(0x113)])(_0x1ef817['audioMessage'][_0x32d2fc(0x1a2)])||(0x0,re[_0x32d2fc(0x639)])(_0x1ef817[_0x32d2fc(0x254)][_0x32d2fc(0x1a2)]))return await this[_0x32d2fc(0x282)]['waInstances'][_0x34e76b][_0x32d2fc(0x791)](_0x1ef817);throw new m(_0x32d2fc(0x67a));}async['sendButtons']({instanceName:_0x535668},_0x127d01){const _0x32a53f=a0_0x217659;return await this['waMonitor'][_0x32a53f(0x5ec)][_0x535668][_0x32a53f(0x83e)](_0x127d01);}async[a0_0x217659(0x621)]({instanceName:_0x424833},_0x5db96f){const _0x35acef=a0_0x217659;return await this[_0x35acef(0x282)][_0x35acef(0x5ec)][_0x424833][_0x35acef(0x19b)](_0x5db96f);}async[a0_0x217659(0x196)]({instanceName:_0x3da22e},_0x10a922){const _0x308308=a0_0x217659;return await this[_0x308308(0x282)][_0x308308(0x5ec)][_0x3da22e][_0x308308(0x1df)](_0x10a922);}async[a0_0x217659(0x3bf)]({instanceName:_0x3411c9},_0x242e5d){const _0x5999e=a0_0x217659;return await this['waMonitor'][_0x5999e(0x5ec)][_0x3411c9][_0x5999e(0x60d)](_0x242e5d);}async[a0_0x217659(0x2c2)]({instanceName:_0x1317c9},_0x392447){const _0x19c1f0=a0_0x217659;return await this[_0x19c1f0(0x282)]['waInstances'][_0x1317c9][_0x19c1f0(0x177)](_0x392447);}async[a0_0x217659(0x3ca)]({instanceName:_0x2ebc10},_0x2d959a){const _0x76460=a0_0x217659;if(!_0x2d959a['reactionMessage'][_0x76460(0x27c)][_0x76460(0x662)](/[^\(\)\w\s-"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x76460(0x282)]['waInstances'][_0x2ebc10][_0x76460(0x7c0)](_0x2d959a);}async[a0_0x217659(0x224)]({instanceName:_0x3cf203},_0x1879b1){return await this['waMonitor']['waInstances'][_0x3cf203]['statusMessage'](_0x1879b1);}},Pi=require('jsonwebtoken'),js=require(a0_0x217659(0x5c4)),Kt=class u{constructor(_0x2b0964,_0x30e6dd,_0x17ea3d){const _0x109d33=a0_0x217659;this['configService']=_0x2b0964,this[_0x109d33(0x282)]=_0x30e6dd,this[_0x109d33(0x471)]=_0x17ea3d,this['logger']=new $(u[_0x109d33(0x4f7)]);}async[a0_0x217659(0x399)](_0x4f7328){const _0x424a31=a0_0x217659;let _0x30b16b=this[_0x424a31(0x4e1)][_0x424a31(0x3f4)](_0x424a31(0x2c1))[_0x424a31(0x33d)],_0x3218f9=(0x0,Pi[_0x424a31(0x746)])({'instanceName':_0x4f7328['instanceName'],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x30b16b[_0x424a31(0x71a)],{'expiresIn':_0x30b16b[_0x424a31(0x79c)],'encoding':'utf8','subject':_0x424a31(0x3b0)}),_0x934e46=await this[_0x424a31(0x471)][_0x424a31(0x2d5)][_0x424a31(0x4a5)]({'jwt':_0x3218f9},_0x4f7328['instanceName']);if(_0x934e46[_0x424a31(0x310)])throw this[_0x424a31(0x74b)]['error']({'localError':u['name']+_0x424a31(0x265),'error':_0x934e46[_0x424a31(0x310)]}),new m(_0x424a31(0x504),_0x934e46[_0x424a31(0x310)]?.[_0x424a31(0x76d)]());return{'jwt':_0x3218f9};}async['apikey'](_0x4f34bd){const _0xdee1aa=a0_0x217659;let _0xe7a00f=(0x0,js['v4'])()[_0xdee1aa(0x3a8)](),_0x5b7e18=await this[_0xdee1aa(0x471)][_0xdee1aa(0x2d5)][_0xdee1aa(0x4a5)]({'apikey':_0xe7a00f},_0x4f34bd[_0xdee1aa(0x4d8)]);if(_0x5b7e18[_0xdee1aa(0x310)])throw this['logger'][_0xdee1aa(0x310)]({'localError':u[_0xdee1aa(0x4f7)]+_0xdee1aa(0x265),'error':_0x5b7e18[_0xdee1aa(0x310)]}),new m(_0xdee1aa(0x504),_0x5b7e18[_0xdee1aa(0x310)]?.[_0xdee1aa(0x76d)]());return{'apikey':_0xe7a00f};}async[a0_0x217659(0x190)](_0x699ee3){const _0x465434=a0_0x217659;let _0x258689=this['configService'][_0x465434(0x3f4)]('AUTHENTICATION');return await this[_0x258689[_0x465434(0x112)]](_0x699ee3);}},Qt=class{constructor(_0x1b8c86){const _0x580920=a0_0x217659;this[_0x580920(0x282)]=_0x1b8c86;}async['createGroup'](_0x4cc364,_0x1864d3){const _0x9b17b9=a0_0x217659;return await this['waMonitor'][_0x9b17b9(0x5ec)][_0x4cc364[_0x9b17b9(0x4d8)]][_0x9b17b9(0x406)](_0x1864d3);}async[a0_0x217659(0x25e)](_0x2c7223,_0x197e00){const _0xc97c71=a0_0x217659;return await this[_0xc97c71(0x282)][_0xc97c71(0x5ec)][_0x2c7223[_0xc97c71(0x4d8)]][_0xc97c71(0x25e)](_0x197e00);}async['groupDesc'](_0x4f6e3f,_0x39f45e){const _0x3c84fb=a0_0x217659;return await this[_0x3c84fb(0x282)][_0x3c84fb(0x5ec)][_0x4f6e3f[_0x3c84fb(0x4d8)]][_0x3c84fb(0x3a9)](_0x39f45e);}async['groupName'](_0x585baf,_0xef25cd){const _0xf80f02=a0_0x217659;return await this[_0xf80f02(0x282)][_0xf80f02(0x5ec)][_0x585baf[_0xf80f02(0x4d8)]][_0xf80f02(0x59e)](_0xef25cd);}async[a0_0x217659(0x6ed)](_0x866627,_0xaefd3b){const _0x36d127=a0_0x217659;return await this[_0x36d127(0x282)][_0x36d127(0x5ec)][_0x866627['instanceName']][_0x36d127(0x6ed)](_0xaefd3b);}async['groupSetting'](_0x19c133,_0x35baed){const _0x54e45a=a0_0x217659;return await this['waMonitor']['waInstances'][_0x19c133['instanceName']][_0x54e45a(0x80b)](_0x35baed);}async[a0_0x217659(0x461)](_0xa2c14c,_0x270e4a){const _0x1ea0af=a0_0x217659;return await this[_0x1ea0af(0x282)][_0x1ea0af(0x5ec)][_0xa2c14c[_0x1ea0af(0x4d8)]][_0x1ea0af(0x362)](_0x270e4a);}async[a0_0x217659(0x245)](_0x59aea6){const _0x23b5c9=a0_0x217659;return await this['waMonitor'][_0x23b5c9(0x5ec)][_0x59aea6[_0x23b5c9(0x4d8)]]['findGroups']();}async[a0_0x217659(0x39d)](_0x553437,_0x4e5c24){const _0x423c46=a0_0x217659;return await this[_0x423c46(0x282)]['waInstances'][_0x553437['instanceName']][_0x423c46(0x39d)](_0x4e5c24);}async['joinGroup'](_0x35dad4,_0x3c55ca){const _0x16648a=a0_0x217659;return await this[_0x16648a(0x282)]['waInstances'][_0x35dad4[_0x16648a(0x4d8)]]['joinGroup'](_0x3c55ca);}async[a0_0x217659(0x7d0)](_0x236bff,_0x11a5b7){const _0x4256eb=a0_0x217659;return await this['waMonitor'][_0x4256eb(0x5ec)][_0x236bff[_0x4256eb(0x4d8)]]['groupGetInviteInfo'](_0x11a5b7);}async['revokeInviteCode'](_0x3468ec,_0x339578){const _0x3ad46b=a0_0x217659;return await this[_0x3ad46b(0x282)]['waInstances'][_0x3468ec[_0x3ad46b(0x4d8)]][_0x3ad46b(0x21f)](_0x339578);}async[a0_0x217659(0x5c6)](_0x3798be,_0x224717){return await this['waMonitor']['waInstances'][_0x3798be['instanceName']]['findParticipants'](_0x224717);}async[a0_0x217659(0x7a1)](_0x381d54,_0x538094){const _0x346bd0=a0_0x217659;return await this[_0x346bd0(0x282)][_0x346bd0(0x5ec)][_0x381d54[_0x346bd0(0x4d8)]][_0x346bd0(0x5df)](_0x538094);}async['toggleEphemeral'](_0x374fef,_0x30ba15){const _0x3550dc=a0_0x217659;return await this[_0x3550dc(0x282)][_0x3550dc(0x5ec)][_0x374fef[_0x3550dc(0x4d8)]][_0x3550dc(0xeb)](_0x30ba15);}async['leaveGroup'](_0x4dc027,_0x5993cb){const _0x3a78bd=a0_0x217659;return await this['waMonitor'][_0x3a78bd(0x5ec)][_0x4dc027[_0x3a78bd(0x4d8)]][_0x3a78bd(0x2e2)](_0x5993cb);}},Yt=class{constructor(_0x1450c1){const _0x559dbe=a0_0x217659;this[_0x559dbe(0x282)]=_0x1450c1;}[a0_0x217659(0x4a5)](_0x1db66a,_0x1f6960){const _0x36d08c=a0_0x217659;return this[_0x36d08c(0x282)][_0x36d08c(0x5ec)][_0x1db66a[_0x36d08c(0x4d8)]][_0x36d08c(0x152)](_0x1f6960);}async['find'](_0x3aff54){const _0x1a9a32=a0_0x217659;try{return await this[_0x1a9a32(0x282)]['waInstances'][_0x3aff54[_0x1a9a32(0x4d8)]][_0x1a9a32(0x7f0)]();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x217659(0x61f)),Xt=class{constructor(_0x56932c){const _0x9b52d0=a0_0x217659;this[_0x9b52d0(0x282)]=_0x56932c;}async['editScheduleMessage'](_0x308aea,_0x1a3de3){const _0x4f2517=a0_0x217659;return await this[_0x4f2517(0x282)][_0x4f2517(0x5ec)][_0x308aea['instanceName']][_0x4f2517(0x27e)](_0x1a3de3);}async[a0_0x217659(0x2d2)](_0x493a39){const _0x5ec17e=a0_0x217659;return await this[_0x5ec17e(0x282)][_0x5ec17e(0x5ec)][_0x493a39[_0x5ec17e(0x4d8)]][_0x5ec17e(0x2d2)]();}async['deleteDoneMessages'](_0x16de33){const _0x4fce1e=a0_0x217659;return await this[_0x4fce1e(0x282)][_0x4fce1e(0x5ec)][_0x16de33[_0x4fce1e(0x4d8)]]['deleteDoneMessages']();}async[a0_0x217659(0x3e7)](_0x49df7c){const _0x21fba3=a0_0x217659;return await this[_0x21fba3(0x282)][_0x21fba3(0x5ec)][_0x49df7c[_0x21fba3(0x4d8)]]['deleteAllMessages']();}async['getAutomateSystem'](_0xb79bb3){const _0x1c0d0d=a0_0x217659;return await this['waMonitor'][_0x1c0d0d(0x5ec)][_0xb79bb3['instanceName']][_0x1c0d0d(0x111)]();}async[a0_0x217659(0x2a8)](_0x259939,_0x1ca5ce){const _0x489990=a0_0x217659;return await this[_0x489990(0x282)][_0x489990(0x5ec)][_0x259939[_0x489990(0x4d8)]][_0x489990(0x2a8)](_0x1ca5ce);}async[a0_0x217659(0x307)](_0x5ec9c8,_0x3759e6){const _0x46904f=a0_0x217659;return await this[_0x46904f(0x282)][_0x46904f(0x5ec)][_0x5ec9c8[_0x46904f(0x4d8)]][_0x46904f(0x307)](_0x3759e6);}async['updateAutoCompleteMessages'](_0x3db949,_0x2b7405){const _0x43503e=a0_0x217659;return await this[_0x43503e(0x282)][_0x43503e(0x5ec)][_0x3db949[_0x43503e(0x4d8)]][_0x43503e(0x4b3)](_0x2b7405);}async['updateFlowConfig'](_0x3f5db0,_0x4e4f5a){const _0x4ae2b6=a0_0x217659;return await this[_0x4ae2b6(0x282)]['waInstances'][_0x3f5db0[_0x4ae2b6(0x4d8)]][_0x4ae2b6(0x709)](_0x4e4f5a);}async[a0_0x217659(0x80c)](_0x442743,_0x598c75){const _0x1e423a=a0_0x217659;return await this[_0x1e423a(0x282)][_0x1e423a(0x5ec)][_0x442743[_0x1e423a(0x4d8)]][_0x1e423a(0x80c)](_0x598c75);}async['startFlowWebhook'](_0x4bb073,_0x30e992,_0x1b146c,_0x1f2874){return await this['waMonitor']['waInstances'][_0x4bb073]['startFlowWebhook'](_0x30e992,_0x1b146c,_0x1f2874);}async['getConversation'](_0x543444,_0x52ca81){const _0x10b163=a0_0x217659;return await this[_0x10b163(0x282)]['waInstances'][_0x543444[_0x10b163(0x4d8)]][_0x10b163(0x644)](_0x52ca81);}async[a0_0x217659(0x886)](_0x12beae,_0x397eae){const _0x2b587f=a0_0x217659;return await this[_0x2b587f(0x282)]['waInstances'][_0x12beae[_0x2b587f(0x4d8)]]['fetchConversation'](_0x397eae);}async[a0_0x217659(0x2fc)](_0x25365a,_0x570a88){const _0x466e25=a0_0x217659;return await this[_0x466e25(0x282)][_0x466e25(0x5ec)][_0x25365a[_0x466e25(0x4d8)]][_0x466e25(0x2fc)](_0x570a88);}async[a0_0x217659(0x220)](_0x12d2de,_0x500d4c){const _0x24d34e=a0_0x217659;return await this[_0x24d34e(0x282)][_0x24d34e(0x5ec)][_0x12d2de[_0x24d34e(0x4d8)]][_0x24d34e(0x220)](_0x500d4c);}async[a0_0x217659(0x32f)](_0x57769c,_0x27600f){const _0x5b6cff=a0_0x217659;return await this[_0x5b6cff(0x282)][_0x5b6cff(0x5ec)][_0x57769c['instanceName']]['getFlow'](_0x27600f['_id']);}async[a0_0x217659(0x7a3)](_0x4009e0,_0x341a98,_0x16ccab){const _0x30f6a7=a0_0x217659;return await this[_0x30f6a7(0x282)]['waInstances'][_0x4009e0['instanceName']]['createFlow'](_0x341a98,_0x16ccab);}async[a0_0x217659(0x72f)](_0x3fe0c0,_0x55c36f,_0x4becfd){const _0x2fcf4c=a0_0x217659;return await this[_0x2fcf4c(0x282)]['waInstances'][_0x3fe0c0[_0x2fcf4c(0x4d8)]]['editFlow'](_0x55c36f,_0x4becfd);}async[a0_0x217659(0x5ca)](_0x361a92,_0x4a5fe8){const _0x3f2f77=a0_0x217659;return await this[_0x3f2f77(0x282)]['waInstances'][_0x361a92[_0x3f2f77(0x4d8)]][_0x3f2f77(0x5ca)](_0x4a5fe8);}async['editFlowReply'](_0x4dbd43,_0x17d34d){const _0x5ce958=a0_0x217659;return await this['waMonitor'][_0x5ce958(0x5ec)][_0x4dbd43[_0x5ce958(0x4d8)]][_0x5ce958(0x7b2)](_0x17d34d);}async[a0_0x217659(0x486)](_0x4d6b47,_0x566294){const _0x4c6651=a0_0x217659;return await this[_0x4c6651(0x282)][_0x4c6651(0x5ec)][_0x4d6b47['instanceName']][_0x4c6651(0x486)](_0x566294);}async[a0_0x217659(0x5b5)](_0x58fd39,_0xdf3f03){const _0x11a186=a0_0x217659;return await this[_0x11a186(0x282)]['waInstances'][_0x58fd39['instanceName']][_0x11a186(0x5b5)](_0xdf3f03);}async[a0_0x217659(0x884)](_0x17db50,_0x311db8){const _0x4ed0e4=a0_0x217659;return await this['waMonitor'][_0x4ed0e4(0x5ec)][_0x17db50[_0x4ed0e4(0x4d8)]][_0x4ed0e4(0x884)](_0x311db8);}async[a0_0x217659(0x7b0)](_0x31c5d1,_0x33442c){const _0x5b4d87=a0_0x217659;return await this[_0x5b4d87(0x282)][_0x5b4d87(0x5ec)][_0x31c5d1['instanceName']][_0x5b4d87(0x7b0)](_0x33442c);}async[a0_0x217659(0x731)](_0x3226a5,_0x1c3826){const _0x29ff87=a0_0x217659;return await this[_0x29ff87(0x282)][_0x29ff87(0x5ec)][_0x3226a5[_0x29ff87(0x4d8)]][_0x29ff87(0x731)](_0x1c3826);}async['allFlows'](_0x18d9ab){const _0x50d6b3=a0_0x217659;return await this['waMonitor'][_0x50d6b3(0x5ec)][_0x18d9ab[_0x50d6b3(0x4d8)]][_0x50d6b3(0x74e)]();}},Zt=class{constructor(_0x17a513){const _0x218d14=a0_0x217659;this[_0x218d14(0x3b1)]=_0x17a513;}async[a0_0x217659(0x658)](_0x175082,_0x171005){const _0x45a9fe=a0_0x217659;return this[_0x45a9fe(0x3b1)]['create'](_0x175082,_0x171005);}async[a0_0x217659(0x7f0)](_0x20083f){const _0x182cd7=a0_0x217659;return this[_0x182cd7(0x3b1)][_0x182cd7(0x6b5)](_0x20083f);}},es=class extends O{constructor(_0x46d9b5,_0x2aa025){const _0x135e59=a0_0x217659;super(_0x2aa025),this[_0x135e59(0x665)]=_0x46d9b5,this[_0x135e59(0x4e1)]=_0x2aa025;}async[a0_0x217659(0x4a5)](_0x5d6a41,_0xaf30f6){const _0x5cbdf8=a0_0x217659;try{return this['dbSettings'][_0x5cbdf8(0x858)]?{'insertCount':(await this[_0x5cbdf8(0x665)][_0x5cbdf8(0x419)]({'_id':_0xaf30f6},{..._0x5d6a41},{'upsert':!0x0}))[_0x5cbdf8(0x4d4)]}:{'insertCount':0x1};}catch(_0x4f20bb){return _0x4f20bb;}}async[a0_0x217659(0x85c)](_0x3278f0){const _0x8b49b4=a0_0x217659;try{if(this[_0x8b49b4(0x4d6)][_0x8b49b4(0x858)]){await this[_0x8b49b4(0x665)][_0x8b49b4(0x448)]({'_id':_0x3278f0});return;}}catch(_0x1ef3b0){return{'error':_0x1ef3b0};}}async[a0_0x217659(0x6b5)](_0x448a9d){const _0x3605fb=a0_0x217659;try{if(this['dbSettings'][_0x3605fb(0x858)])return await this[_0x3605fb(0x665)][_0x3605fb(0x567)]({'_id':_0x448a9d});}catch{return{};}}},ts=class extends O{constructor(_0x1d5400,_0x3ac1f2){const _0x10a908=a0_0x217659;super(_0x3ac1f2),this[_0x10a908(0x4c4)]=_0x1d5400,this[_0x10a908(0x4e1)]=_0x3ac1f2,this[_0x10a908(0x2d5)]=_0x3ac1f2[_0x10a908(0x3f4)]('AUTHENTICATION');}async[a0_0x217659(0x4a5)](_0x2b8429,_0x38f15b){const _0x547ed0=a0_0x217659;try{if(this[_0x547ed0(0x4d6)][_0x547ed0(0x858)])return{'insertCount':(await this[_0x547ed0(0x4c4)][_0x547ed0(0x3bb)]({'_id':_0x38f15b},{'$set':{..._0x2b8429}},{'upsert':!0x0}))[_0x547ed0(0x4d4)]};}catch(_0x3e48c3){return{'error':_0x3e48c3};}}async[a0_0x217659(0x3ad)](_0x3cafae,_0xcdfdb3){const _0x2a0c44=a0_0x217659;try{if(this[_0x2a0c44(0x4d6)][_0x2a0c44(0x858)])return{'insertCount':(await this[_0x2a0c44(0x4c4)][_0x2a0c44(0x34d)](_0x3cafae,{'$set':_0xcdfdb3},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x5ed1e4){return{'error':_0x5ed1e4};}}async[a0_0x217659(0x4d5)](_0xd788db){const _0x38b50b=a0_0x217659;try{if(this['dbSettings'][_0x38b50b(0x858)])return{'insertCount':(await this[_0x38b50b(0x4c4)]['deleteMany'](_0xd788db))[_0x38b50b(0x7a7)]};throw new Error(_0x38b50b(0x238));}catch(_0xd6c15d){return{'error':_0xd6c15d};}}async[a0_0x217659(0x85c)](_0x56a2b7){const _0x3735e4=a0_0x217659;try{if(this[_0x3735e4(0x4d6)]['ENABLED']){await this['authModel']['deleteOne']({'_id':_0x56a2b7});return;}}catch(_0x1e3eb6){return{'error':_0x1e3eb6};}}async[a0_0x217659(0x6b5)](_0xf31056){const _0x501120=a0_0x217659;try{if(this[_0x501120(0x4d6)][_0x501120(0x858)])return await this['authModel'][_0x501120(0x567)]({'_id':_0xf31056});}catch{return{};}}async[a0_0x217659(0x3e9)](){const _0x365991=a0_0x217659;try{if(this[_0x365991(0x4d6)][_0x365991(0x858)])return await this[_0x365991(0x4c4)][_0x365991(0x6b5)]();}catch{return[];}}async['findMany'](_0xc77b33){const _0x22c741=a0_0x217659;try{if(this[_0x22c741(0x4d6)][_0x22c741(0x858)])return await this[_0x22c741(0x4c4)][_0x22c741(0x6b5)](_0xc77b33);}catch{return[];}}},ss=class extends O{async[a0_0x217659(0x448)](_0x20c17a){const _0xaee4bf=a0_0x217659;try{let _0x2adeeb=A(_0x20c17a['where']);return{'deletedCount':(await Me[_0xaee4bf(0x448)](_0x2adeeb))[_0xaee4bf(0x7a7)]};}catch(_0x4e8052){return{'error':_0x4e8052?.[_0xaee4bf(0x76d)]()};}}async[a0_0x217659(0x3bb)](_0x52391c,_0x173d7a){const _0xffe429=a0_0x217659;try{let _0x5bdffe=await Me[_0xffe429(0x5bc)](_0x52391c);return _0x5bdffe?(Object['assign'](_0x5bdffe,_0x173d7a),await _0x5bdffe[_0xffe429(0x37e)]()):(console['error'](_0xffe429(0x21a),_0x52391c),null);}catch(_0x18effb){return console[_0xffe429(0x310)](_0xffe429(0x384),_0x18effb),null;}}async['createAndSave'](_0x55bf83){const _0x2e75e0=a0_0x217659;try{return await new Me(_0x55bf83)['save']();}catch(_0x21b0b7){return console[_0x2e75e0(0x310)](_0x2e75e0(0x5c0),_0x21b0b7),null;}}async[a0_0x217659(0x3e9)](_0x3271ca){const _0x1af9c5=a0_0x217659;try{let _0x6aa0f=_0x3271ca[_0x1af9c5(0x46f)]??{};return await Me[_0x1af9c5(0x6b5)](_0x6aa0f)['limit'](_0x3271ca[_0x1af9c5(0x135)]??0x0)[_0x1af9c5(0x14f)]();}catch(_0x3864e8){return console[_0x1af9c5(0x310)](_0x1af9c5(0x7f4),_0x3864e8),[];}}async[a0_0x217659(0x567)](_0x5aa64f){const _0x4b4918=a0_0x217659;try{let _0x164345=A(_0x5aa64f[_0x4b4918(0x46f)]);return await Me[_0x4b4918(0x567)](_0x164345)[_0x4b4918(0x14f)]();}catch{return null;}}},as=class extends O{[a0_0x217659(0x205)](_0x301b93){return Sa(_0x301b93);}async['insert'](_0x741885){const _0x4696b5=a0_0x217659;if(_0x741885[_0x4696b5(0xf4)]!==0x0)try{return{'insertCount':(await this[_0x4696b5(0x205)](_0x741885[0x0][_0x4696b5(0x401)])[_0x4696b5(0x371)]([..._0x741885]))[_0x4696b5(0xf4)]};}catch(_0x4c1150){return _0x4c1150;}}async[a0_0x217659(0x85c)](_0x319b94,_0x227664){const _0x3d2b87=a0_0x217659;try{let _0x20c82a=this[_0x3d2b87(0x205)](_0x227664),_0x40acd4=A(_0x319b94[_0x3d2b87(0x46f)]);return{'deletedCount':(await _0x20c82a['deleteMany'](_0x40acd4))['deletedCount']};}catch(_0x259310){return{'error':_0x259310?.[_0x3d2b87(0x76d)]()};}}async[a0_0x217659(0x448)](_0x3597df,_0x1870ec){const _0x1ecc63=a0_0x217659;try{let _0x45e32c=this[_0x1ecc63(0x205)](_0x1870ec),_0x214f79=A(_0x3597df['where']);return{'deletedCount':(await _0x45e32c[_0x1ecc63(0x448)](_0x214f79))['deletedCount']};}catch(_0x59f111){return{'error':_0x59f111?.[_0x1ecc63(0x76d)]()};}}async['update'](_0x5f4f0e,_0x4bb23d){const _0x1a74d8=a0_0x217659;try{if(_0x5f4f0e[_0x1a74d8(0xf4)]===0x0)return;let _0x4715a9=this[_0x1a74d8(0x205)](_0x4bb23d),_0x49fdf6=_0x5f4f0e[_0x1a74d8(0x557)](_0xc5b5f2=>({'updateOne':{'filter':{'name':_0xc5b5f2[_0x1a74d8(0x4f7)],'owner':_0x4bb23d},'update':{..._0xc5b5f2}}})),{modifiedCount:_0x5bf9e5}=await _0x4715a9[_0x1a74d8(0x864)](_0x49fdf6);return{'insertCount':_0x5bf9e5};}catch{return;}}async[a0_0x217659(0x34d)](_0x59a704,_0x49e915,_0x3f847b){const _0x4dfda9=a0_0x217659;try{return{'modifiedCount':(await this[_0x4dfda9(0x205)](_0x3f847b)[_0x4dfda9(0x34d)](_0x59a704,{'$set':_0x49e915})[_0x4dfda9(0x341)]())[_0x4dfda9(0x4d4)]};}catch(_0x11f26b){return console['error'](_0x4dfda9(0x6de),_0x11f26b),{'error':_0x11f26b};}}async[a0_0x217659(0x3bb)](_0x9aa77c,_0x4427a0,_0x26434f){const _0x507715=a0_0x217659;try{return await this[_0x507715(0x205)](_0x26434f)[_0x507715(0x7e8)]({'_id':_0x9aa77c},{'$set':_0x4427a0},{'new':!0x0,'upsert':!0x0})[_0x507715(0x14f)]();}catch(_0x3a0f06){return console[_0x507715(0x310)](_0x3a0f06),null;}}async['find'](_0x55a0e6,_0x2d8a41){const _0x158043=a0_0x217659;try{return await this[_0x158043(0x205)](_0x2d8a41)[_0x158043(0x6b5)](_0x55a0e6)[_0x158043(0x213)]({'lastInteraction':-0x1})[_0x158043(0x14f)]();}catch{return[];}}async[a0_0x217659(0x567)](_0x50b0cb,_0x41a260){const _0xbe20c3=a0_0x217659;try{return await this[_0xbe20c3(0x205)](_0x41a260)[_0xbe20c3(0x567)]({..._0x50b0cb[_0xbe20c3(0x46f)]})[_0xbe20c3(0x14f)]();}catch{return null;}}async[a0_0x217659(0x5ba)](_0xaf7986){const _0x4c81d2=a0_0x217659;try{return await this['getConversationModelForOwner'](_0xaf7986)[_0x4c81d2(0x147)][_0x4c81d2(0x30d)](),{'success':!0x0};}catch(_0x1bc973){return console[_0x4c81d2(0x310)](_0x1bc973),{'success':!0x1,'error':_0x1bc973};}}},is=class extends O{[a0_0x217659(0x6f2)](_0x7ee721){return Ma(_0x7ee721);}async['bulkWrite'](_0x17c4ab,_0x1f33bf){const _0x413d5f=a0_0x217659;try{return await this[_0x413d5f(0x6f2)](_0x1f33bf)['bulkWrite'](_0x17c4ab);}catch(_0x43ef3b){return console[_0x413d5f(0x310)](_0x413d5f(0x68a),_0x43ef3b),null;}}async['createAndSave'](_0x2f81af,_0x43c109){const _0x4781d4=a0_0x217659;try{let _0x2e147a=this['getScheduleMessageModelForOwner'](_0x43c109);return await new _0x2e147a(_0x2f81af)['save']();}catch(_0x841351){return console[_0x4781d4(0x310)](_0x4781d4(0x76e),_0x841351),null;}}async[a0_0x217659(0x448)](_0x1963dc,_0x30cdc6){const _0x124454=a0_0x217659;try{return await this[_0x124454(0x6f2)](_0x30cdc6)[_0x124454(0x581)](_0x1963dc),{};}catch(_0x177f6c){return{'error':_0x177f6c?.['toString']()};}}async[a0_0x217659(0x3bb)](_0x30985d,_0x4cbf89,_0x40d7e8,_0x42753d={}){const _0x2622aa=a0_0x217659;try{return await this[_0x2622aa(0x6f2)](_0x40d7e8)['findOneAndUpdate'](_0x30985d,_0x4cbf89,{..._0x42753d,'new':!0x0})['lean']();}catch(_0x25eae9){return console[_0x2622aa(0x310)](_0x2622aa(0x5b3),_0x25eae9),null;}}async[a0_0x217659(0x629)](_0x394850,_0x51af9b,_0x527269){const _0xa06ce=a0_0x217659;try{return await this[_0xa06ce(0x6f2)](_0x527269)[_0xa06ce(0x514)](_0x394850,_0x51af9b,{'new':!0x0})[_0xa06ce(0x14f)]();}catch(_0x1a5cfa){return console[_0xa06ce(0x310)](_0xa06ce(0x5b3),_0x1a5cfa),null;}}async['find'](_0x4324a1,_0xb6c4c3){const _0x3fc1ce=a0_0x217659;try{return await this[_0x3fc1ce(0x6f2)](_0xb6c4c3)[_0x3fc1ce(0x6b5)](_0x4324a1['where'])['limit'](_0x4324a1?.[_0x3fc1ce(0x135)]??0x0)[_0x3fc1ce(0x213)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x217659(0x567)](_0x55a0c8,_0x2e09e8){const _0x4279d8=a0_0x217659;try{return await this[_0x4279d8(0x6f2)](_0x2e09e8)['findOne'](_0x55a0c8[_0x4279d8(0x46f)])[_0x4279d8(0x213)]({'when':0x1})[_0x4279d8(0x14f)]();}catch{return null;}}async[a0_0x217659(0x5bc)](_0x5d550b,_0x1a49b2){const _0x2a2d0a=a0_0x217659;try{return await this[_0x2a2d0a(0x6f2)](_0x1a49b2)['findById'](_0x5d550b)[_0x2a2d0a(0x14f)]();}catch{return null;}}async['deleteMany'](_0x27c2ad,_0x1056c8){const _0x277fbc=a0_0x217659;try{return{'deletedCount':(await this[_0x277fbc(0x6f2)](_0x1056c8)[_0x277fbc(0x4d5)](_0x27c2ad))[_0x277fbc(0x7a7)]};}catch(_0x475563){return console[_0x277fbc(0x310)](_0x277fbc(0x46b),_0x475563),{'error':_0x475563};}}async[a0_0x217659(0x5ba)](_0x57a638){const _0x50c748=a0_0x217659;try{return await this[_0x50c748(0x6f2)](_0x57a638)[_0x50c748(0x147)][_0x50c748(0x30d)](),{'success':!0x0};}catch(_0x32b764){return console[_0x50c748(0x310)](_0x32b764),{'success':!0x1,'error':_0x32b764};}}},os=class extends O{async[a0_0x217659(0x772)](_0x58af2e,_0x557b4b){const _0x239146=a0_0x217659;try{if(this[_0x239146(0x4d6)][_0x239146(0x858)])return await Te[_0x239146(0x7e8)]({'_id':_0x557b4b},{'$set':_0x58af2e},{'new':!0x0});}catch(_0x5f124e){throw console[_0x239146(0x310)](_0x239146(0x230),_0x5f124e),_0x5f124e;}}async[a0_0x217659(0x38e)](_0x194e11){const _0x58283e=a0_0x217659;try{let _0x112991=await Te[_0x58283e(0x5bc)](_0x194e11);return _0x112991?_0x112991['autoCompleteMessages']||(_0x112991[_0x58283e(0x286)]=[],await _0x112991[_0x58283e(0x37e)]()):(_0x112991=new Te({'_id':_0x194e11,'autoCompleteMessages':[]}),await _0x112991[_0x58283e(0x37e)]()),_0x112991;}catch(_0x1dae5b){return _0x1dae5b[_0x58283e(0x2cc)]===0x2af8&&_0x1dae5b[_0x58283e(0x506)]&&_0x1dae5b['keyPattern'][_0x58283e(0x404)]?(console[_0x58283e(0x310)]('Erro\x20de\x20duplicidade\x20no\x20ndice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20ndice...'),await Te[_0x58283e(0x147)][_0x58283e(0x4be)]('autoCompleteMessages.command_1'),null):(console[_0x58283e(0x310)](_0x58283e(0x877),_0x1dae5b),null);}}},Jo=new $(a0_0x217659(0x551)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x217659(0x2ac)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x217659(0x4f5)](a0_0x217659(0x648));var $g=require(a0_0x217659(0x697)),Js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x217659(0x3db))),je=class u{static #e;static set[a0_0x217659(0x7ed)](_0x4b89b0){this.#e=_0x4b89b0;}static get[a0_0x217659(0x193)](){const _0x501bc4=a0_0x217659;let {FULLCHAIN:_0x56cbec,PRIVKEY:_0xacff30}=S['get']('SSL_CONF');return Di[_0x501bc4(0x86f)]({'cert':(0x0,Js[_0x501bc4(0x81b)])(_0x56cbec),'key':(0x0,Js['readFileSync'])(_0xacff30)},u.#e);}static get['http'](){const _0x2cf221=a0_0x217659;return ki[_0x2cf221(0x86f)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x217659(0x747))),qe=I(require(a0_0x217659(0x578))),ns=I(require(a0_0x217659(0x823))),rs=require(a0_0x217659(0x2ef));function ar(){const _0x513d89=a0_0x217659;G[_0x513d89(0x18d)]();let _0x454d18=ns[_0x513d89(0x85a)][_0x513d89(0x4f2)](__dirname,'downloads');Ji(_0x454d18);}function a0_0x749e(_0x29da21,_0x34e536){const _0x43e876=a0_0x43e8();return a0_0x749e=function(_0x749ec1,_0x1ee69a){_0x749ec1=_0x749ec1-0xe3;let _0x28d298=_0x43e876[_0x749ec1];return _0x28d298;},a0_0x749e(_0x29da21,_0x34e536);}var Ji=_0x2d06a0=>{const _0x3ca56c=a0_0x217659;let _0x3e04b6=Je['default'][_0x3ca56c(0x883)](_0x2d06a0),_0x2c6445=0xc*0x3c*0x3c*0x3e8,_0x2b2750=0x2*0x3c*0x3c*0x3e8,_0x570847=new Date()[_0x3ca56c(0x69d)]();_0x3e04b6[_0x3ca56c(0x3f7)](_0x485944=>{const _0x3ea57d=_0x3ca56c;let _0x373a7f=ns['default']['join'](_0x2d06a0,_0x485944),_0x53ad44=Je['default'][_0x3ea57d(0x6f4)](_0x373a7f)[_0x3ea57d(0x43f)]['getTime']();_0x570847-_0x53ad44>_0x2c6445&&(Je[_0x3ea57d(0x85a)][_0x3ea57d(0xe7)](_0x373a7f),console[_0x3ea57d(0x829)](_0x3ea57d(0x33e)+_0x485944));}),setTimeout(()=>Ji(_0x2d06a0),_0x2b2750);};function ir(){const _0x7eba9=a0_0x217659;let _0x43c002=new $(_0x7eba9(0x3d1)),_0x534674=(0x0,we[_0x7eba9(0x85a)])();_0x534674[_0x7eba9(0x43e)]((0x0,ji[_0x7eba9(0x85a)])({'origin'(_0x651af6,_0x1e0168){const _0x42a772=_0x7eba9;let {ORIGIN:_0x2d7678}=S[_0x42a772(0x3f4)](_0x42a772(0x3f0));return _0x651af6||(_0x651af6='*'),_0x2d7678[_0x42a772(0x5ac)]('*')!==-0x1||_0x2d7678[_0x42a772(0x5ac)](_0x651af6)!==-0x1?_0x1e0168(null,!0x0):_0x1e0168(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x7eba9(0x3f4)](_0x7eba9(0x3f0))[_0x7eba9(0x4c6)]],'credentials':S[_0x7eba9(0x3f4)](_0x7eba9(0x3f0))[_0x7eba9(0x60e)]}),(0x0,we[_0x7eba9(0x7e2)])({'extended':!0x0,'limit':_0x7eba9(0x3ed)}),(0x0,we[_0x7eba9(0x5e0)])({'limit':_0x7eba9(0x3ed)})),_0x534674[_0x7eba9(0x43e)]((_0x320ae9,_0x19d4f5,_0x4cf904)=>{const _0x5ecbb5=_0x7eba9;_0x320ae9[_0x5ecbb5(0x823)][_0x5ecbb5(0x487)](_0x5ecbb5(0x2cb))?_0x4cf904():(0x0,Ui['default'])()(_0x320ae9,_0x19d4f5,_0x4cf904);}),_0x534674[_0x7eba9(0x37a)]('view\x20engine',_0x7eba9(0x7ba)),_0x534674['set'](_0x7eba9(0x231),(0x0,Vs[_0x7eba9(0x4f2)])(ne,_0x7eba9(0x231))),_0x534674[_0x7eba9(0x43e)](we[_0x7eba9(0x85a)][_0x7eba9(0x1ed)]((0x0,Vs[_0x7eba9(0x4f2)])(ne,_0x7eba9(0x28d)))),_0x534674[_0x7eba9(0x43e)]((_0xfdcea,_0x44006c,_0x104c53)=>{const _0x44a752=_0x7eba9;let _0x2b4f2c=_0x44006c[_0x44a752(0x707)];_0x44006c[_0x44a752(0x707)]=function(_0x2c3ad1){const _0x196f42=_0x44a752;if(_0xfdcea[_0x196f42(0x805)][_0x196f42(0x12b)]==='true'||_0xfdcea['headers'][_0x196f42(0x785)]===_0x196f42(0x541)){let _0x58065e=JSON[_0x196f42(0x7eb)](_0x2c3ad1);_0x2c3ad1=JSON['stringify'](_0x249e38(_0x58065e));}return _0x2b4f2c[_0x196f42(0x423)](_0x44006c,[_0x2c3ad1]);},_0x104c53();}),_0x534674[_0x7eba9(0x43e)]('/',ke),_0x534674['use']((_0x2a8553,_0x3e873a,_0x1588c6,_0x3ded33)=>{const _0x2ef7c1=_0x7eba9;if(_0x2a8553)return _0x1588c6[_0x2ef7c1(0x381)](_0x2a8553[_0x2ef7c1(0x381)]||0x1f4)[_0x2ef7c1(0x5e0)](_0x2a8553);},(_0x5ab94d,_0x50b972,_0x26e4b2)=>{const _0x21af62=_0x7eba9;let {method:_0x41bfa7,url:_0x29baa3}=_0x5ab94d;_0x50b972['status'](0x194)[_0x21af62(0x5e0)]({'status':0x194,'message':_0x21af62(0x493)+_0x41bfa7[_0x21af62(0x3a8)]()+'\x20'+_0x29baa3,'error':_0x21af62(0x4da)}),_0x26e4b2();});let _0x249e38=(_0x346e70,_0x4f2016=_0x7eba9(0x53e))=>{const _0x5b496b=_0x7eba9;let _0x1afb1b=(_0x18050e,_0x59c7f6=null,_0x3b5514=!0x1)=>{const _0x1d54cd=a0_0x749e;let _0x35c143={};return Object[_0x1d54cd(0x669)](_0x18050e)[_0x1d54cd(0x3f7)](_0x2b2fe3=>{const _0x3241bf=_0x1d54cd;let _0x2097b2=_0x18050e[_0x2b2fe3],_0x56de9e=''+_0x4f2016+_0x2b2fe3;_0x59c7f6&&!_0x3b5514&&(_0x56de9e=_0x59c7f6+'.'+_0x2b2fe3),!_0x2097b2&&_0x2097b2!==0x0&&_0x2097b2!==!0x1||typeof _0x2097b2>'u'?_0x35c143[_0x56de9e]=null:typeof _0x2097b2!='object'&&!Array['isArray'](_0x2097b2)?_0x35c143[_0x56de9e]=_0x2097b2:typeof _0x2097b2=='object'&&!Array[_0x3241bf(0x3d6)](_0x2097b2)?_0x35c143=Object[_0x3241bf(0x777)](_0x35c143,_0x1afb1b(_0x2097b2,_0x56de9e)):Array[_0x3241bf(0x3d6)](_0x2097b2)&&(typeof _0x2097b2[0x0]==_0x3241bf(0x6ae)?(_0x35c143[_0x56de9e]=[],_0x2097b2[_0x3241bf(0x3f7)](_0x17fa6f=>{_0x35c143[_0x56de9e]['push'](_0x1afb1b(_0x17fa6f,_0x56de9e,!0x0));})):_0x35c143[_0x56de9e]=_0x2097b2);}),_0x35c143;};return Array[_0x5b496b(0x3d6)](_0x346e70)?_0x346e70[_0x5b496b(0x557)](_0x31cbe0=>_0x1afb1b(_0x31cbe0)):typeof _0x346e70==_0x5b496b(0x6ae)&&_0x346e70!==null?_0x1afb1b(_0x346e70):{};},_0x168d92=S[_0x7eba9(0x3f4)](_0x7eba9(0x3d1));je['app']=_0x534674;let _0x3ba30b=je[_0x168d92[_0x7eba9(0x112)]],_0x3f078d='\x0a\x0a\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x3ba30b[_0x7eba9(0x60b)](_0x168d92[_0x7eba9(0x727)],()=>{const _0x110ed4=_0x7eba9;_0x43c002[_0x110ed4(0x829)](_0x3f078d),_0x43c002['log'](_0x168d92[_0x110ed4(0x112)][_0x110ed4(0x3a8)]()+_0x110ed4(0x5f5)+_0x168d92[_0x110ed4(0x727)]);}),ar(),Zs();}var or=a0_0x217659(0x352),rr=ns[a0_0x217659(0x85a)]['join'](__dirname,a0_0x217659(0x58d)),Re=null;function nr(){return new Promise((_0x47874d,_0xcce661)=>{const _0x4804b2=a0_0x749e;Je[_0x4804b2(0x85a)]['readFile'](rr,_0x4804b2(0x703),(_0xce0685,_0x486e53)=>{const _0x188f71=_0x4804b2;if(_0xce0685){Re=_0xce0685,_0x47874d();return;}qi[_0x188f71(0x85a)][_0x188f71(0x7eb)](_0x486e53)[_0x188f71(0x431)][_0x188f71(0x2fd)]===or?(Re=null,_0x47874d()):(Re=new Error('uazapi\x20no\x20est\x20instalado\x20pelo\x20git'),_0x47874d());});});}async function cr(){const _0x11c466=a0_0x217659;try{await nr(),await Bi();}catch(_0x4ecb02){console['error'](_0x11c466(0x1cc)+_0x4ecb02),process[_0x11c466(0x75d)](0x1);}}cr();async function Vi(){const _0xf95643=a0_0x217659;let _0x16df2d;try{_0x16df2d=(await qe[_0xf95643(0x85a)][_0xf95643(0x3f4)](_0xf95643(0x29f)))[_0xf95643(0x5a3)]['ip'];}catch(_0x169f7d){console[_0xf95643(0x310)](_0x169f7d);try{_0x16df2d=(await qe[_0xf95643(0x85a)][_0xf95643(0x3f4)](_0xf95643(0x47a)))[_0xf95643(0x5a3)]['ip'];}catch(_0x30f460){console[_0xf95643(0x310)](_0x30f460);try{_0x16df2d=(await qe[_0xf95643(0x85a)]['get'](_0xf95643(0x4f6)))[_0xf95643(0x5a3)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xed38b0){return console[_0xf95643(0x310)](_0xed38b0),!0x1;}}}return _0x16df2d;}var Li=0x0;async function lr(){const _0x470591=a0_0x217659;let _0x12f732=await new ue(S['get'](_0x470591(0x25a)))[_0x470591(0x2a7)]();return console[_0x470591(0x829)](_0x470591(0x601),_0x12f732[_0x470591(0xf4)]),_0x12f732[_0x470591(0xf4)];}function ur(_0x3eadf4){const _0x3889f=a0_0x217659;let _0x357ab7=_0x3eadf4['get'](_0x3889f(0x3d1))[_0x3889f(0x181)],_0x543a89=_0x3eadf4[_0x3889f(0x3f4)](_0x3889f(0x350));console[_0x3889f(0x829)](_0x3889f(0x5e4),_0x357ab7),console[_0x3889f(0x829)](_0x3889f(0x296),_0x543a89);let _0x2999a8='',_0x463f9e=_0x357ab7||'';if(_0x357ab7){let _0x37a202=_0x357ab7[_0x3889f(0x662)](/\/\/(.*?)\./);console['log'](_0x3889f(0x27d),_0x37a202),_0x37a202&&_0x37a202[0x1]&&(_0x2999a8=_0x37a202[0x1],console[_0x3889f(0x829)]('Subdomnio\x20extrado\x20da\x20URL:',_0x2999a8));}if(!_0x2999a8&&_0x543a89&&_0x543a89['FULLCHAIN']){let _0x46511f=_0x543a89['FULLCHAIN']['split']('/');console['log'](_0x3889f(0x4f8),_0x46511f);let _0x3be2e5=_0x46511f[_0x46511f[_0x3889f(0xf4)]-0x2];if(console[_0x3889f(0x829)]('Parte\x20do\x20domnio\x20do\x20caminho\x20FULLCHAIN:',_0x3be2e5),_0x3be2e5){let _0xc680be=_0x3be2e5['split']('.');console[_0x3889f(0x829)](_0x3889f(0x7f9),_0xc680be),_0xc680be[_0x3889f(0xf4)]>0x2&&(_0x2999a8=_0xc680be[0x0],console[_0x3889f(0x829)](_0x3889f(0x53c),_0x2999a8),_0x463f9e=''+_0x3be2e5);}}return{'subdomain':_0x2999a8||_0x3889f(0x29a),'fullURL':_0x463f9e||'URL\x20no\x20disponvel'};}var {subdomain:he,fullURL:Gs}=ur(S);console[a0_0x217659(0x829)](a0_0x217659(0x502),he),console[a0_0x217659(0x829)](a0_0x217659(0x35d),Gs);async function dr(){const _0x16d4ad=a0_0x217659;let _0x3caca1=S['get'](_0x16d4ad(0x25a)),_0x47395b=S['get'](_0x16d4ad(0x2c1))['API_KEY'][_0x16d4ad(0x48f)],_0x3c2f2b=S[_0x16d4ad(0x3f4)](_0x16d4ad(0x350)),_0x41d541=await Vi(),_0x52ab24=S[_0x16d4ad(0x3f4)](_0x16d4ad(0x3d1))[_0x16d4ad(0x727)],_0x561055=Gs;try{let _0x533061={'ip':_0x41d541||null,'redis_enable':_0x3caca1?.[_0x16d4ad(0x858)]||null,'apikey':_0x47395b||null,'ssl':_0x3c2f2b?.[_0x16d4ad(0x863)]||null,'lastupdate':Gi||null,'port':_0x52ab24||null,'gitInstallError':Re?.[_0x16d4ad(0x35e)]||null,'url':_0x561055||null,'subdomain':he};if(console[_0x16d4ad(0x829)](_0x16d4ad(0x650),_0x533061['ip']),_0x3caca1&&_0x3caca1[_0x16d4ad(0x858)]){let _0x3d09a1=await lr();_0x533061[_0x16d4ad(0x21e)]=_0x3d09a1||null;}for(let _0x2357a0 in _0x533061)_0x533061[_0x16d4ad(0x344)](_0x2357a0)&&_0x2357a0!=='ip'&&(_0x533061[_0x2357a0]=JSON[_0x16d4ad(0x176)](_0x533061[_0x2357a0]));return(await qe['default'][_0x16d4ad(0x5d9)](_0x16d4ad(0x6fd),_0x533061))[_0x16d4ad(0x5a3)];}catch(_0xb60f9a){return console['error'](_0xb60f9a),!0x1;}}var qs=!0x1,Gi=0x27f,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x218468=a0_0x217659;let _0x2c26a9=_0x218468(0x896);Re===null&&(_0x2c26a9=await Vi());let _0x473f3a=await dr();if(_0x473f3a){if(_0x473f3a[_0x218468(0x1c7)]['licenca']===!0x0){Re===null&&_0x473f3a[_0x218468(0x1c7)][_0x218468(0x35c)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x11b533=0x24*0x3c*0x3c,_0x447b57=_0x473f3a[_0x218468(0x1c7)][_0x218468(0x48c)]>_0x11b533?_0x11b533:_0x473f3a[_0x218468(0x1c7)][_0x218468(0x48c)],_0x2962d4=Number(_0x447b57);if(isNaN(_0x2962d4)){console[_0x218468(0x310)](_0x218468(0x71e));return;}let _0xf9b920=Math[_0x218468(0x66d)](_0x2962d4/0xe10),_0x81b608=Math[_0x218468(0x66d)](_0x2962d4%0xe10/0x3c),_0xd4676c=new Date(Date['now']()+_0x2962d4*0x3e8);setTimeout(()=>{const _0x3b61cd=_0x218468;console['log'](_0x3b61cd(0x2d7)),process['exit'](0x0);},_0x2962d4*0x3e8);let _0x53559e=_0xceee18=>_0xceee18[_0x218468(0x76d)]()[_0x218468(0x554)](0x2,'0'),_0x28f537=_0x218468(0x741)+_0x53559e(_0xf9b920)+_0x218468(0x478)+_0x53559e(_0x81b608)+_0x218468(0x2ce)+_0x53559e(_0xd4676c[_0x218468(0x57b)]())+':'+_0x53559e(_0xd4676c['getMinutes']())+'.';console[_0x218468(0x829)](_0x28f537);}else return console[_0x218468(0x829)](_0x218468(0x415)),qs&&(console[_0x218468(0x829)](_0x218468(0x3c1)),process[_0x218468(0x75d)]()),'LICENSE_INVALID';}else{if(Li++,Li<pr)console['log'](_0x218468(0x292)+Fi/0xea60+_0x218468(0x392)),setTimeout(Bi,Fi);else return console[_0x218468(0x310)]('No\x20foi\x20possvel\x20conectar\x20ao\x20servidor\x20aps\x20vrias\x20tentativas,\x20encerrando\x20a\x20aplicao.'),_0x218468(0x2ec);}}async function hr(){const _0x4ada33=a0_0x217659;console[_0x4ada33(0x829)](_0x4ada33(0x142)),console[_0x4ada33(0x829)](_0x4ada33(0x6b0)),(0x0,rs[_0x4ada33(0x696)])(_0x4ada33(0x7b1),{'shell':!0x0})['on'](_0x4ada33(0x2c6),_0x370722=>{const _0x5260de=_0x4ada33;_0x370722!==0x0?console[_0x5260de(0x310)](_0x5260de(0xe8)):(console['log'](_0x5260de(0x19c)),console[_0x5260de(0x829)](_0x5260de(0x27b)),(0x0,rs['spawn'])(_0x5260de(0x217),{'shell':!0x0})['on']('close',_0x4ef1da=>{const _0x4a5010=_0x5260de;if(_0x4ef1da!==0x0)console[_0x4a5010(0x310)](_0x4a5010(0x729));else{console['log'](_0x4a5010(0x740));let _0x5f0d26=(0x0,rs['spawn'])(_0x4a5010(0x782),{'shell':!0x0});_0x5f0d26[_0x4a5010(0x7ea)]['on']('data',_0x5de911=>{const _0x5bb77d=_0x4a5010;console[_0x5bb77d(0x829)](_0x5bb77d(0x694)+_0x5de911);}),_0x5f0d26['stderr']['on'](_0x4a5010(0x5a3),_0x1f108f=>{const _0x44b705=_0x4a5010;console[_0x44b705(0x310)]('Erro\x20de\x20atualizao:\x20'+_0x1f108f);}),_0x5f0d26['on'](_0x4a5010(0x75d),_0x33e46e=>{const _0xba0ea6=_0x4a5010;_0x33e46e!==0x0?console[_0xba0ea6(0x310)](_0xba0ea6(0x24e)+_0x33e46e):console[_0xba0ea6(0x829)](_0xba0ea6(0x1e1)),console[_0xba0ea6(0x829)](_0xba0ea6(0x640)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});